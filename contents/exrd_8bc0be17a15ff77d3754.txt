{"context": "\uff9c\uff80\uff7c\uff93\u30fb\u30fb\u732b\uff76\uff9c\uff72\uff72\u30fb\u30fb\uff7c\uff80\uff72\u30fb\u30fb\u3002\n\u3053\u3093\u3070\u3093\u306f\u3001\u3048\u304f\uff0d\u3067\u3059\u3002\n\n\u3053\u306e\u8a18\u4e8b\u306f\nHSP\u306eAdventCalendar\u3001\u7565\u3055\u305a\u8a00\u3046\u3068 Hot Soup Processor Advent Calendar 2016 \u306e5\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n\u3053\u306e\u8a18\u4e8b\u3067\u66f8\u304f\u3053\u3068\n\u4eca\u5e74\u521d\u3081\u3001HSP\u63b2\u793a\u677f\u306e\u201dHSP\u3067\u306e\u3001\u5e45\u512a\u5148\u63a2\u7d22\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4f5c\u308a\u65b9\u201d\u3063\u3066\u3044\u3046\u30b9\u30ec\u30c3\u30c9\u304c\u3042\u308a\u307e\u3057\u305f\u3002\nHSP\u63b2\u793a\u677f\u3067\u6642\u3005\u305f\u307e\u305f\u307e\u7a00\u306b\u51fa\u73fe\u3059\u308b\u30a2\u30eb\u30b4\u30ea\u7cfb\u306e\u8a71\u984c\u3067\u3059\u306d\u3001\u5730\u5473\u306b\u30ec\u30a2\u30ea\u30c6\u30a3\u304c\u9ad8\u3044\u3067\u3059\u3002\n\u79c1\u81ea\u8eab\u3001\u305d\u3046\u3044\u3048\u3070HSP\u3067\u3053\u3046\u3044\u3046\u30a2\u30eb\u30b4\u30ea\u7cfb\u306e\u4f55\u304b\u3092\u5b9f\u88c5\u3057\u305f\u3053\u3068\u3063\u3066\u307b\u3068\u3093\u3069\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u6539\u3081\u3066HSP\u3063\u3066\u3069\u3046\u3044\u3046\u3053\u3068\u304c\u51fa\u6765\u305f\u3063\u3051\u3063\u3066\u601d\u3044\u306a\u304c\u3089\u624b\u63a2\u308a\u3067\u8272\u3005\u8a66\u884c\u932f\u8aa4\u3057\u3066\u307e\u3057\u305f\u3002\n\u7d50\u679c\u3001\u4e45\u65b9\u632f\u308a\u306b\u89e6\u3063\u3066\u307f\u3066\u6539\u3081\u3066\u5206\u304b\u3063\u305f\uff08\u601d\u3044\u51fa\u3057\u305f\u3001\u3068\u3082\u8a00\u3046\uff09\u3053\u3068\u306a\u3069\u51fa\u3066\u304d\u305f\u306e\u3067\u3001\u6298\u89d2\u306e\u6a5f\u4f1a\u3067\u3059\u3057\u307e\u3068\u3081\u3066\u304a\u3053\u3046\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\n\u3068\u3044\u3046\u3053\u3068\u3067\n\u3053\u306e\u8a18\u4e8b\u3067\u306fHSP\u30678\u30d1\u30ba\u30eb\u3092\u3092\u984c\u6750\u3068\u3057\u3066HSP\u3067\u306e\uff08\u4e3b\u306b\u5e45\u512a\u5148\uff09\u63a2\u7d22\u306b\u3064\u3044\u3066\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u307e\u305f\u3001\u5b9f\u969b\u306b8\u30d1\u30ba\u30eb\u3092\u89e3\u304f\u30b3\u30fc\u30c9\u306e\u89e3\u8aac\u3001\u66f4\u306b\u3088\u308a\u9ad8\u901f\u306b\u89e3\u304f\u306b\u306f\u3001\u3068\u3044\u3063\u305f\u70b9\u306b\u3064\u3044\u3066\u3082\u89e6\u308c\u3066\u3044\u304d\u307e\u3059\u3002\n\u3088\u308a\u5177\u4f53\u7684\u306b\u89e6\u308c\u308b\u5185\u5bb9\u306b\u3064\u3044\u3066\u306f\u4e0b\u8a18\u3002\n\n\u76e4\u9762\u306e\u8868\u73fe\u3001\u63a2\u7d22\u306e\u57fa\u672c\n\n\n\u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u306e\u5217\u6319\n\n\nHSP\u3067\u5e45\u512a\u5148\u63a2\u7d22\n\n\n\u5217\u6319\u3057\u305f\u76e4\u9762\u3092\u914d\u5217\u306b\u4fdd\u5b58\u3059\u308b\n\u65e2\u306b\u5217\u6319\u3057\u305f\u76e4\u9762\uff08\u91cd\u8907\u76e4\u9762\uff09\u306e\u30b9\u30ad\u30c3\u30d7\u3059\u308b\n\n\n\u4e00\u822c\u7684\u306a\u9ad8\u901f\u5316\n\n\n\u76e4\u9762\u8868\u73fe\u306e\u5727\u7e2e\n\n\n\u30d3\u30c3\u30c8\u3092\u8a70\u3081\u308b\n\n\n\u91cd\u8907\u76e4\u9762\u30c1\u30a7\u30c3\u30af\u306e\u9ad8\u901f\u5316\n\n\n\u4e8c\u5206\u63a2\u7d22\n\n\n\u63a2\u7d22\u306e\u6539\u826f\n\n\n\u53cc\u65b9\u5411\u63a2\u7d22\n\n\n\n\n\n2.\u307e\u3067\u304c\u521d\u7d1a\u8005\u5411\u3051\u3067\u3001HSP\u3067\u5e45\u512a\u5148\u63a2\u7d22\u306e\u6982\u5ff5\u3092\u7406\u89e3\u3059\u308b\u3060\u3051\u306a\u3089\u3053\u3053\u307e\u3067\u3067\u5341\u5206\uff08\u4e88\u5b9a\uff09\u3067\u3059\u3002\n\u305d\u308c\u4ee5\u964d\u306f\u4e2d\u7d1a\u8005\u5411\u3051\u306e\u30c8\u30d4\u30c3\u30af\u3067\u3001\u3053\u3046\u3044\u3063\u305f\u63a2\u7d22\u554f\u984c\u306b\u4e00\u822c\u7684\u306b\u9069\u7528\u53ef\u80fd\u306a\u624b\u6cd5\u3092\u5c0e\u5165\u3057\u3066\u307f\u307e\u3059\u3002\n\n8\u30d1\u30ba\u30eb is \u4f55\n8\u30d1\u30ba\u30eb\u306f\u30b9\u30e9\u30a4\u30c9\u30d1\u30ba\u30eb\u306e\u4e00\u7a2e\u3067\u30013 x 3\u306e\u76e4\u9762\u306b 1 \u304b\u3089 8 \u307e\u3067\u306e\u6570\u5024\u304c\u66f8\u304b\u308c\u305f 8 \u3064\u99d2\u304c\u7f6e\u304b\u308c\u3066\u304a\u308a\u3001\u99d2\u304c\u7f6e\u304b\u308c\u3066\u3044\u306a\u3044\u4e00\u7b87\u6240\u306e\u7a7a\u767d\u3092\u4f7f\u3063\u3066\u6570\u5024\u304c\u66f8\u304b\u308c\u305f\u99d2\u3092\u7279\u5b9a\u306e\u9806\u306b\u4e26\u3073\u66ff\u3048\u308b\u904a\u3073\u3067\u3059\u3002\n15\u30d1\u30ba\u30eb\u306e\u7c21\u6613\u7248\u3067\u3001\u3082\u3063\u3068\u8a73\u7d30\u306a\u8aac\u660e\u3092\u6c42\u3080\u65b9\u306f\u666e\u901a\u306bWikipedia\u5148\u751f\uff08Wikipedia:15\u30d1\u30ba\u30eb\uff09\u304c\u8a73\u3057\u3044\u306e\u3067\u305d\u3061\u3089\u3092\u3069\u3046\u305e\u3002\n\n\u76e4\u9762\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3069\u3046\u8868\u73fe\u3057\u3088\u3046\n\u76e4\u9762\u3068\u3044\u3046\u306e\u306f\u3001\u4f8b\u3048\u3070\u6b21\u306e\u753b\u50cf\u306e\u3088\u3046\u306a\u305d\u306e\u6642\u70b9\u3067\u306e\u99d2\u306e\u4e26\u3073\u306e\u3053\u3068\u3092\u6307\u3057\u307e\u3059\u3002\n\n\u3053\u308c\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u53c2\u7167\u3001\u8a18\u9332\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u6700\u3082\u7c21\u5358\u306b\u306f\u914d\u5217\u3092\u4f7f\u3044\u3001\u5de6\u4e0a\u304b\u3089\u53f3\u4e0b\u306b\u5411\u304b\u3063\u3066\u9806\u756a\u306b\u99d2\u306e\u5024\u3092\u8a18\u9332\u3057\u3066\u3044\u304f\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u305d\u3046\u3067\u3059\u3002\uff08\u3068\u3044\u3046\u304b\u5b9f\u969b\u3067\u304d\u307e\u3059\uff09\n\u99d2\u3068\u30d7\u30ed\u30b0\u30e9\u30e0\u5074\u3067\u306e\u6570\u5024\u306e\u5bfe\u5fdc\u95a2\u4fc2\u306f\u3001\u7a7a\u767d\u306e\u5834\u5408\u306f0\u3068\u3057\u3066\u3001\u6570\u5024\u306e\u99d2\u306e\u5834\u5408\u306f\u305d\u306e\u6570\u5024\u3092\u5165\u308c\u3066\u304a\u304f\u3053\u3068\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u3064\u307e\u308a\u3001\u6700\u521d\u306b\u793a\u3057\u305f\u76e4\u9762\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u4e0a\u306f\u6b21\u306e\u3088\u3046\u306a\u914d\u5217\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3042\u308b\u76e4\u9762\u306e\u914d\u5217\u306b\u3088\u308b\u8868\u73fe\n// \u3042\u308b\u76e4\u9762\uff11\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\n\n// \u3042\u308b\u76e4\u9762\uff12\nboard = 8, 5, 3, 4, 1, 0, 2, 7, 6\n\n\n\n\u76e4\u9762\u306e\u63cf\u753b\n\u3064\u3044\u3067\u306a\u306e\u3067\u3001\u5148\u306b\u793a\u3057\u305f\u76e4\u9762\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u63cf\u753b\u3067\u304d\u308b\u30b3\u30fc\u30c9\u3082\u66f8\u3044\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30d0\u30b0\u3092\u898b\u3064\u3051\u308b\u306e\u306f\u4f55\u306f\u3068\u3082\u3042\u308c\u53ef\u8996\u5316\u304b\u3089\u3002\nprintf\u30c7\u30d0\u30c3\u30b0\u3082\u7acb\u6d3e\u306a\u53ef\u8996\u5316\u306e\u4e00\u624b\u6bb5\u3067\u3059\u3057\u3001\u53ef\u8996\u5316\u3057\u3066\u60aa\u3044\u3053\u3068\u306f\u30c7\u30d0\u30c3\u30b0\u6642\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3050\u3089\u3044\u306a\u306e\u3067\u3001\u3053\u3046\u3044\u3046\u306e\u306f\u3055\u3063\u3055\u3068\u66f8\u3044\u3066\u304a\u304f\u3068\u5f8c\u3005\u4fbf\u5229\u3067\u3059\u3002\n\n\n\u76e4\u9762\u306e\u63cf\u753b\u30e2\u30b8\u30e5\u30fc\u30eb\n#module\n// \u76e4\u9762\u306e\u63cf\u753b\n// \u8d77\u70b9X, \u8d77\u70b9Y, \u76e4\u9762\u914d\u5217, \u63cf\u753b\u30b5\u30a4\u30ba\n#deffunc drawBoard int cx, int cy, array board, int size\n    bsz = size*3\n\n    // \u80cc\u666f\uff08\u4e0b\u5730\uff09\u306e\u30af\u30ea\u30a2\n    color 255, 255, 255 : boxf cx, cy, cx+bsz, cy+bsz\n\n    // \u67a0\u7dda\n    color 0, 0, 0\n    repeat 4\n        ofs = cnt*size\n        line cx, cy+ofs, cx+bsz, cy+ofs\n        line cx+ofs, cy, cx+ofs, cy+bsz\n    loop\n    // \u99d2\n    font msgothic, size\n    repeat 9\n        cntXP3S = cx + cnt\\3 * size\n        cntXD3S = cy + cnt/3 * size\n        color 0, 0, 0 : pos cntXP3S+size/4, cntXD3S\n        if ( board(cnt) != 0 ) {// \u7a7a\u767d\u3058\u3083\u306a\u3044\u306a\u3089\n            mes \"\"+board(cnt)\n        }\n    loop\nreturn\n#global\n\n// \u3042\u308b\u76e4\u9762\uff11\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\n// \u3042\u308b\u76e4\u9762\uff12\nboard = 8, 5, 3, 4, 1, 0, 2, 7, 6\ndrawBoard 150, 10, board, 40\n\n\n\n\u63a2\u7d22\u306e\u57fa\u672c\u306e\u30ad\n\u3055\u3066\u3055\u3066\u3001\u305d\u308c\u3067\u306f\u672c\u984c\u306e8\u30d1\u30ba\u30eb\u89e3\u304f\u8a71\u306b\u5165\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u554f\u984c\u306e\u6574\u7406\n\u5165\u529b\u3068\u3057\u3066\u6700\u521d\u306e\u76e4\u9762\u3068\u6700\u5f8c\u306e\u76e4\u9762\uff08\u76ee\u7684\u306e\u76e4\u9762\uff09\u304c\u4e0e\u3048\u3089\u308c\u308b\u306e\u3067\u3001\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u30b9\u30e9\u30a4\u30c9\u30d1\u30ba\u30eb\u306e\u8981\u9818\u3067\u7a7a\u767d\u306b\u99d2\u3092\u52d5\u304b\u3059\u64cd\u4f5c\u3092\u3057\u3001\u6700\u5f8c\u306e\u76e4\u9762\u306b\u8fbf\u308a\u7740\u304f\u6700\u5c0f\u624b\u6570\u3092\u6c42\u3081\u308b\u554f\u984c\u3068\u3057\u307e\u3059\u3002\n\u6c42\u3081\u308b\u306e\u306f\u6700\u5f8c\u306e\u76e4\u9762\u306b\u8fbf\u308a\u7740\u304f\u307e\u3067\u306e\u6700\u5c0f\u624b\u6570\u3060\u3051\u3067\u3001\u6700\u5c0f\u624b\u6570\u306e\u4e2d\u8eab\u304c\u3069\u3046\u3044\u3046\u624b\u306a\u306e\u304b\u306f\u4e00\u65e6\u7f6e\u3044\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3001\u6700\u521d\u304b\u3089\u305d\u308c\u3092\u3084\u308b\u3068\u304b\u306a\u308a\u7169\u96d1\u306b\u306a\u308b\u306e\u3067\u3002\n\u30b3\u30fc\u30c9\u3067\u66f8\u304f\u3068\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n\u6700\u3082\u57fa\u672c\u7684\u306a\u51e6\u7406\u306e\u6d41\u308c\n// \u6700\u521d\u306e\u76e4\u9762\nstart = 0, 1, 2, 3, 4, 5, 6, 7, 8\n// \u6700\u5f8c\u306e\u76e4\u9762\uff08\u76ee\u7684\u306e\u76e4\u9762\uff09\ngoal = 0, 1, 2, 3, 4, 5, 6, 7, 8\n\n// \u6700\u5c0f\u624b\u6570\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u5909\u6570\nminStep = -1\n\n// \u306a\u306b\u304b\u3057\u3066\u6700\u5c0f\u624b\u6570\u3092\u6c42\u3081\u308b\n\nmes \"\u6700\u5c0f\u624b\u6570\u306f\"+minStep+\"\u3067\u3059\"\n\n\n\u306f\u3044\u3001\u898b\u4e8b\u306b\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002\n\u201d\u306a\u306b\u304b\u3057\u3066\u6700\u5c0f\u624b\u6570\u3092\u6c42\u3081\u308b\u201d\u3068\u3053\u308d\u3092\u3053\u308c\u304b\u3089\u8003\u3048\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u554f\u984c\u3092\u89e3\u304f\u305f\u3081\u306e\u52d5\u4f5c\u6307\u91dd\n\u3068\u8a00\u3063\u3066\u3082\u3001\u4e00\u56de\u3082\u3053\u3046\u3044\u3063\u305f\u554f\u984c\u3092\u89e3\u3044\u305f\u3053\u3068\u304c\u306a\u3044\u5834\u5408\u3001\u3069\u3046\u89e3\u3051\u3070\u3044\u3044\u304b\u306e\u6307\u91dd\u3059\u3089\u5206\u304b\u3089\u306a\u3044\u3082\u306e\u3067\u3059\u3002\n\u5927\u4f53\u3053\u3046\u3044\u3046\u554f\u984c\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u5358\u7d14\u306a\u52d5\u4f5c\u304c\u9ad8\u901f\u306a\u3053\u3068\u3092\u5229\u7528\u3057\u3066\u3001\u611a\u76f4\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u624b\u9806\u3067\u89e3\u304f\u306e\u304c\u57fa\u672c\u3067\u3059\u3002\n\n\u6700\u521d\u306e\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4e2d\u306b\u6700\u5f8c\u306e\u76e4\u9762\uff08\u76ee\u7684\u306e\u76e4\u9762\uff09\u304c\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3001\u3042\u3063\u305f\u3089\u7d42\u4e86\u3001\u306a\u304b\u3063\u305f\u3089\u624b\u98063.\u3078\n\u5217\u6319\u3057\u305f\u76e4\u9762\u304b\u3089\u66f4\u306b1\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\u624b\u98062.\u3078\n\n\u3064\u307e\u308a\u3001\u304a\u3088\u305d\u4eba\u306e\u624b\u3067\u306f\u8003\u3048\u305f\u304f\u3082\u306a\u3044\u6570\u306e\u76e4\u9762\u3092\u5217\u6319\u3057\u3001\u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4e00\u3064\u4e00\u3064\u304c\u305d\u308c\u305e\u308c\u76ee\u7684\u306e\u76e4\u9762\u3067\u3042\u308b\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u308f\u3051\u3067\u3059\u3002\n\u3053\u3046\u805e\u304f\u3068\u304b\u306a\u308a\u529b\u6280\u3067\u3042\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u306d\u3002\n\n\u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\u3055\u3066\u3001\u52d5\u4f5c\u6307\u91dd\u3092\u793a\u3057\u305f\u3068\u3053\u308d\u3067\u3001\u307e\u305a\u306f\u305d\u306e\u6838\u3068\u306a\u308b\u52d5\u4f5c\u306e\u300c\u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\u300d\u3068\u3053\u308d\u3092\u8003\u3048\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u3068\u8a00\u3063\u3066\u3082\u307e\u3060\u96e3\u3057\u3044\u3068\u3053\u308d\u306f\u306a\u304f\u3001\u7a7a\u767d\u306e\u4f4d\u7f6e\u3092\u6c42\u3081\u3066\u3001\u7a7a\u767d\u3068\u305d\u306e\u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3092\u4ea4\u63db\u3057\u305f\u76e4\u9762\u304c1\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3067\u3059\u3002\n\n\u4e0a\u56f3\u3067\u306f\u5de6\u4e0a\u304c\u7a7a\u767d\u3060\u3063\u305f\u5834\u5408\u3092\u904e\u7a0b\u3057\u305f\u306e\u3067\u5217\u6319\u3067\u304d\u305f\u306e\u306f2\u3064\u306e\u76e4\u9762\u3060\u3051\u3067\u3059\u304c\u3001\u7a7a\u767d\u304c\u771f\u3093\u4e2d\u306b\u3042\u3063\u305f\u5834\u5408\u306f\u6700\u5927\u30674\u3064\u306e\u76e4\u9762\u304c\u5217\u6319\u3067\u304d\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u624b\u9806\u306f\u5206\u304b\u3063\u305f\u3001\u3042\u3068\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u304f\u3060\u3051\u3060\u3002\n\n\u76e4\u9762\u306e\u914d\u5217\u8868\u73fe\u3068\u5b9f\u969b\u306e\u76e4\u9762\u4e0a\u3067\u306e\u4f4d\u7f6e\u95a2\u4fc2\n\u305d\u306e\u524d\u306b\u4e00\u3064\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3001\u4e0a\u4e0b\u5de6\u53f3\u306e\u5165\u308c\u66ff\u3048\u306f\u5143\u306e\u76e4\u9762\u4e0a\u3067\u884c\u308f\u308c\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001\u76e4\u9762\u306e\u8868\u73fe\u3068\u3044\u3046\u610f\u5473\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u4e0a\u3067\u306f\u76e4\u9762\u306f\u914d\u5217\u3067\u8868\u73fe\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3084\u3084\u3053\u3057\u3044\u3067\u3059\u304c\u79c1\u9054\u304c\u982d\u306e\u4e2d\u3067\u8003\u3048\u3066\u3044\u308b\u76e4\u9762\u306e\u99d2\u306e\u4f4d\u7f6e\u3068\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u4e0a\u306e\u914d\u5217\u3067\u306e\u4f4d\u7f6e\u306f\u82e5\u5e72\u306e\u5909\u63db\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u4eca\u56de\u306f\u5b9f\u969b\u306e\u76e4\u9762\u306f\u5de6\u4e0a\u3092$(0, 0)$\u3001\u53f3\u4e0b\u3092$(2, 2)$\u3068\u3057\u305f\u4e8c\u6b21\u5143\u5ea7\u6a19\u3068\u3057\u3066\u8003\u3048\u307e\u3059\u3002\n\u3053\u3046\u8003\u3048\u305f\u6642\u3001\u76e4\u9762\u306e\u5ea7\u6a19$(x, y)$\u3068\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9$i$\u3068\u306e\u9593\u306b\u306f\u6b21\u306e\u3088\u3046\u306a\u95a2\u4fc2\u304c\u6210\u7acb\u3057\u307e\u3059\u3002\ni = x + y*3\n\n\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9$i$\u304b\u3089$(x, y)$\u3092\u6c42\u3081\u308b\u5834\u5408\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u6c42\u307e\u308a\u307e\u3059\u3002\n\\begin{align}\nx &= i \\mod 3 \\\\\ny &= i / 3\n\\end{align}\n\nHGP\u3060\u3068mod\uff08\u5270\u4f59\uff09\u306f\u300c\uffe5\u300d\u6f14\u7b97\u5b50\u3067\u3059\u306d\u3002\n\u306a\u304a\u3053\u306e\u5909\u63db\u3001\u4eca\u5f8c\u7d50\u69cb\u983b\u7e41\u306b\u3067\u3066\u304d\u307e\u3059\u306e\u3067\u3001\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\n\n\n\u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\uff08\u518d\uff09\n\u5148\u8ff0\u306e\u99d2\u306e\u5ea7\u6a19\u3068\u3001\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u306e\u95a2\u4fc2\u3092\u8e0f\u307e\u3048\u305f\u4e0a\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u3068\u308a\u3042\u3048\u305a\u5217\u6319\u3059\u308b\n#module\n// \u76e4\u9762\u306e\u4e2d\u3067\u7a7a\u767d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\n#defcfunc searchEmpty array board, local res\n    res = -1\n    repeat 9\n        if ( board(cnt) == 0 ) {\n            res = cnt\n            break\n        }\n    loop\nreturn res\n\n// \u76e4\u9762\u306e\u4e2d\u306e2\u3064\u306e\u8981\u7d20\u4f4d\u7f6e\u3092\u4ea4\u63db\u3059\u308b\n#deffunc swapPiece array board, int piece1, int piece2, local t\n    t = board(piece1)\n    board(piece1) = board(piece2)\n    board(piece2) = t\nreturn\n#global\n\n//----------------------\u30e2\u30b8\u30e5\u30fc\u30eb\u3053\u3053\u307e\u3067\n\n// \u3042\u308b\u76e4\u9762\u304b\u3089\u2026\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\n// \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\nemptyIdx = searchEmpty( board )\n\n// \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\nemptyX = emptyIdx \\3\nemptyY = emptyIdx /3\n\n// \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\nrepeat 4\n    // \u5217\u6319\u3059\u308b\u76e4\u9762\n    dim newBoard, 9\n    // \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n    repeat 9 : newBoard(cnt) = board(cnt) : loop\n    // \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n    dx = 0 : dy = 0 : label=\"\"\n    switch( cnt )\n        case 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n        case 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n        case 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n        case 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n    swend\n    // \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n    swapX = emptyX + dx\n    swapY = emptyY + dy\n    // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n    if ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n        continue\n    }\n    // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n    swapIdx = swapX + swapY *3\n    // \u99d2\u306e\u4ea4\u63db\n    swapPiece newBoard, emptyIdx, swapIdx\n    // \u63cf\u753b\n    drawBoard 10+140*cnt, 150, newBoard, 40\n    pos 60+140*cnt, 280 : color 0, 0, 0 : mes \"\"+label\nloop\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u3082\u9577\u304f\u306a\u3063\u3066\u304d\u307e\u3057\u305f\u306d\u2026\u3002\n\u4eca\u307e\u3067\u3068\u91cd\u8907\u3057\u3066\u3044\u308b\u7b87\u6240\u306f\u524a\u3063\u3066\u3044\u304d\u307e\u3059\u306e\u3067\u3001\u305d\u306e\u8fba\u306f\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001board\u5909\u6570\u306b\u5165\u3063\u3066\u3044\u305f\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u304c\u5217\u6319\u3055\u308c\u307e\u3059\u3002\n\n\u6700\u521d\u306bboard\u306b\u771f\u3093\u4e2d\u304c\u7a7a\u767d\u306e\u76e4\u9762\u3092\u4e0e\u3048\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306b4\u3064\u306e\u76e4\u9762\u304c\u5f97\u3089\u308c\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n\n\u5217\u6319\u3057\u305f\u76e4\u9762\u304b\u3089\u66f4\u306b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\u76e4\u9762\u306e\u5217\u6319\u304c\u3067\u304d\u307e\u3057\u305f\u3001\u3082\u3046\u3053\u3053\u3067\u7d42\u308f\u308a\u305f\u3044\u6c17\u5206\u3067\u3059\u304c\u3001\u5927\u4f53HSP\u30678\u30d1\u30ba\u30eb\u3092\u89e3\u304f\u9053\u306e\u308a\u306e\u534a\u5206\u304f\u3089\u3044\u306b\u3057\u304b\u81f3\u3063\u3066\u306a\u3044\u306e\u3067\u307e\u3060\u307e\u3060\u7d9a\u304d\u307e\u3059\u30021\n\u3055\u3066\u672c\u7bc0\u3067\u306f\u3001\u5217\u6319\u3057\u305f\u76e4\u9762\u304b\u3089\u66f4\u306b1\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\u52d5\u4f5c\u306b\u3064\u3044\u3066\u3067\u3059\u3002\n\u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u306e\u5217\u6319\u306b\u3064\u3044\u3066\u306f\u524d\u7bc0\u3067\u8ff0\u3079\u307e\u3057\u305f\u3057\u3001\u305d\u3053\u307e\u3067\u306f\u5e73\u3063\u305f\u304f\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304d\u4e0b\u3059\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\n\u4e00\u65b9\u3067\u3001\u5217\u6319\u3057\u305f\u76e4\u9762\u304b\u3089\u66f4\u306b\u5217\u6319\u3092\u884c\u3046\u306a\u3069\u201d\u3044\u3064\u307e\u3067\u7d9a\u304f\u304b\u5206\u304b\u3089\u306a\u3044\u201d\u7cfb\u306e\u52d5\u4f5c\u306f\u3061\u3087\u3063\u3068\u5de5\u592b\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u5217\u6319\u3057\u305f\u76e4\u9762\u3092\u4fdd\u5b58\u3059\u308b\u30fb\u53d6\u308a\u51fa\u3059\n\u3044\u3064\u307e\u3067\u5217\u6319\u304c\u7d9a\u304f\u304b\u5206\u304b\u3089\u306a\u3044\u7cfb\u3067\u3059\u304c\u3001\u8981\u306f\u5217\u6319\u3057\u305f\u3082\u306e\u3092\u5f8c\u3067\u3068\u3063\u3066\u3053\u308c\u308c\u3070\u307e\u305f\u305d\u3053\u304b\u3089\u7d9a\u3051\u30661\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u304c\u5217\u6319\u304c\u3067\u304d\u307e\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u5217\u6319\u3057\u305f\u76e4\u9762\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u3053\u3068\u3001\u305d\u3057\u3066\u4fdd\u5b58\u3057\u3066\u304a\u3044\u305f\u76e4\u9762\u3092\u5f8c\u304b\u3089\u3068\u3063\u3066\u3053\u308c\u308b\u4ed5\u7d44\u307f\u3092\u8003\u3048\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u914d\u5217\u3092\u4f7f\u3046\n\u201d\u6ca2\u5c71\u306e\u76e4\u9762\u3092\u4fdd\u5b58\u3059\u308b\u201d\u3067\u3059\u304c\u3001\u76e4\u9762\u3092\u4e00\u3064\u306e\u5024\u3068\u3057\u3066\u898b\u3066\u307f\u305f\u3089\u3069\u3046\u3067\u3057\u3087\u3046\u304b\uff1f\n\u201d\u6ca2\u5c71\u306e\u5024\u3092\u4fdd\u5b58\u3059\u308b\u201d\u3068\u3044\u3046\u89b3\u70b9\u3067\u898b\u308b\u3068\u3001HSP\u3067\u306f\u6ca2\u5c71\u306e\u5024\u3092\u53d6\u308a\u6271\u3046\u4ed5\u7d44\u307f\u3068\u3057\u3066\u914d\u5217\u304c\u3042\u308a\u307e\u3059\u306d\u3002\nHSP\u306e\u914d\u5217\u306f\u53ef\u5909\u9577\u3067\u306f\u306a\u3044\u305f\u3081\u53ef\u5909\u9577\u3063\u307d\u3044\u914d\u5217\u3092\u6271\u3044\u305f\u3044\u5834\u5408\u306f\u3001\u4e88\u3081\u5341\u5206\u306a\u6570\u306e\u8981\u7d20\u304c\u53ce\u3081\u3089\u308c\u308b\u914d\u5217\u3092\u4f5c\u3063\u3066\u304a\u304d\u3001\u3044\u304f\u3064\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u304b\u306f\u5225\u306e\u5909\u6570\u3067\u7ba1\u7406\u3059\u308b\u306e\u304c\u3088\u304f\u3084\u308b\u5974\u3067\u3059\u3002\n\n\u3068\u308a\u3042\u3048\u305a\u3001\u524d\u7bc0\u307e\u3067\u3067\u8aac\u660e\u3057\u305f\u201d\u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u306e\u5217\u6319\u201d\u3057\u305f\u5f8c\u3001\u5217\u6319\u3057\u305f\u76e4\u9762\u3092\u4fdd\u5b58\u3059\u308b\u30b3\u30fc\u30c9\u3002\n\n\u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 100, 9// \u9069\u5f53\u306b100\u500b\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\n\n//---------------------\u3053\u3053\u304b\u3089\u524d\u56de\u3068\u540c\u3058\n// \u3042\u308b\u76e4\u9762\u304b\u3089\u2026\n\n// \uff5e\uff5e\u7701\u7565\uff5e\uff5e\n\n    // \u99d2\u306e\u4ea4\u63db\n    swapPiece newBoard, emptyIdx, swapIdx\n    //------------\u3053\u3053\u307e\u3067\u306f\u524d\u56de\u3068\u4e00\u7dd2\n\n    // \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\n    repeat 9\n        storedBoards(storedBoardNum, cnt) = newBoard(cnt)\n    loop\n    storedBoardNum++// \u4e00\u500b\u76e4\u9762\u4fdd\u5b58\u3057\u305f\u306e\u3067\u8db3\u3057\u3068\u304f\nloop\n\n//---------------------\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3092\u53d6\u308a\u51fa\u3057\u3066\u63cf\u753b\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3092\u5f8c\u304b\u3089\u63cf\u753b\nrepeat storedBoardNum\n    // \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3092\u53d6\u308a\u51fa\u3059\n    peekBoardIdx = cnt\n    dim board, 9\n    repeat 9 : board(cnt) = storedBoards(peekBoardIdx, cnt) : loop\n    // \u63cf\u753b\n    drawBoard 10+140*peekBoardIdx, 150, board, 40\nloop\n\n\n\n\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3092\u53d6\u308a\u51fa\u3057\u3066\u66f4\u306b\u5217\u6319\u3092\u7d9a\u3051\u308b\n\u3055\u3066\u3001\u76e4\u9762\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3057\u305f\u3057\u3001\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u5168\u90e8\u3092\u63cf\u753b\u3059\u308b\u30b3\u30fc\u30c9\u3082\u524d\u7bc0\u3067\u8aac\u660e\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u7d50\u69cb\u30b4\u30fc\u30eb\u304c\u8fd1\u3065\u3044\u3066\u304d\u3066\u3044\u307e\u3059\u304c\u3001\u76e4\u9762\u306e\u4fdd\u5b58\u3068\u5217\u6319\u3092\u540c\u6642\u306b\u884c\u3046\u306b\u306f\u3082\u3046\u5c11\u3057\u3060\u3051\u5de5\u592b\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u5b9f\u969b\u306b\u5217\u6319\u3092\u7d9a\u3051\u3066\u3044\u304f\u3068\u3001\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306f\u3069\u3093\u3069\u3093\u5897\u3048\u3066\u3044\u304f\u8a33\u3067\u3059\u304c\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3069\u3053\u307e\u3067\u306f\u65e2\u306b\u5217\u6319\u3092\u7d42\u3048\u3066\u3044\u308b\u304b\u3082\u899a\u3048\u3066\u304a\u304b\u306a\u3044\u3068\u3001\u540c\u3058\u76e4\u9762\u304c\u751f\u6210\u3055\u308c\u7d9a\u3051\u3066\u3044\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u76e4\u9762\u3092\u4fdd\u5b58\u3059\u308b\u914d\u5217\u5909\u6570\u3068\u3001\u3044\u304f\u3064\u76e4\u9762\u3092\u4fdd\u5b58\u3057\u305f\u304b\u899a\u3048\u3066\u304a\u304f\u5909\u6570\u306e\u4ed6\u306b\u3001\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u5217\u6319\u3092\u65e2\u306b\u7d42\u3048\u305f\u6570\u3092\u899a\u3048\u3066\u304a\u304f\u5909\u6570\u3082\u5225\u306b\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u308c\u3082\u8e0f\u307e\u3048\u3066\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u306e\u524d\u306b\n\u201d\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u5217\u6319\u3057\u305f\u76e4\u9762\u201d\u304b\u3089\u66f4\u306b\u5217\u6319\u3092\u3057\u3066\u3044\u304f\u30b3\u30fc\u30c9\u306a\u8a33\u3067\u3059\u304c\u3001\u3088\u304f\u3088\u304f\u8003\u3048\u308b\u3068\u3053\u306e\u201d\u66f4\u306b\u5217\u6319\u3057\u3066\u3044\u304f\u201d\u90e8\u5206\u3068\u3001\u201d\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u5217\u6319\u3059\u308b\u201d\u90e8\u5206\u306f\u30b3\u30fc\u30c9\u7684\u306b\u540c\u3058\u3067\u3059\u3002\n\u305d\u3057\u3066\u3001\u8003\u3048\u65b9\u3092\u5c11\u3057\u5909\u3048\u3066\u201d\u6700\u521d\u306e\u76e4\u9762\u306f\u8ab0\u304b\u306b\u3088\u3063\u3066\u5217\u6319\u3055\u308c\u305f\u76e4\u9762\u201d\u3068\u6349\u3048\u308b\u3068\u3001\u201d\u6700\u521d\u306e\u76e4\u9762\u201d\u3068\u201d\u3042\u308b\u76e4\u9762\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u76e4\u9762\u201d\u306f\u7b49\u3057\u304f\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u4e8b\u306b\u6c17\u4ed8\u304d\u307e\u3059\u3002\n\u3053\u3053\u304b\u3089\u306f\u3001\u6700\u521d\u306e\u76e4\u9762\u306f\u201d\u8ab0\u304b\u306b\u5217\u6319\u3055\u308c\u305f\u3082\u306e\u201d\u3068\u3057\u3066\u3001\u76e4\u9762\u4fdd\u5b58\u7528\u306e\u914d\u5217\u306b\u8ffd\u52a0\u3057\u3066\u304a\u304f\u3053\u3068\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\u5b9f\u969b\u306b\u30b3\u30fc\u30c9\u3092\u898b\u3066\u3082\u3089\u308f\u306a\u3044\u3068\u5206\u304b\u3089\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u305d\u308c\u306a\u308a\u306b\u30b3\u30fc\u30c9\u304c\u30b7\u30f3\u30d7\u30eb\u306b\u306a\u3063\u3066\u304d\u307e\u3059\u3002\n\n\u76e4\u9762\u3092\u6b21\u3005\u306b\u5217\u6319\u3057\u3066\u3044\u304f\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 100, 9// \u9069\u5f53\u306b100\u500b\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\npopedBoardNum = 0// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u65e2\u306b\u8abf\u3079\u305f\u304b\uff08\u66f4\u306b\u5217\u6319\u3057\u305f\u304b\uff09\n\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\nrepeat 9\n    storedBoards(storedBoardNum, cnt) = board(cnt)\nloop\nstoredBoardNum++\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n    // \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n    if ( popedBoardNum >= storedBoardNum ) : break\n\n    // \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n    dim board, 9\n    repeat 9 : board(cnt) = storedBoards(popedBoardnum, cnt) : loop\n    popedBoardnum++\n\n    // \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\n    emptyIdx = searchEmpty( board )\n\n    // \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\n    emptyX = emptyIdx \\3\n    emptyY = emptyIdx /3\n\n    // \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n    repeat 4\n        // \u5217\u6319\u3059\u308b\u76e4\u9762\n        dim newBoard, 9\n        // \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n        repeat 9 : newBoard(cnt) = board(cnt) : loop\n        // \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n        dx = 0 : dy = 0 : label=\"\"\n        switch( cnt )\n            case 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n            case 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n            case 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n            case 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n        swend\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n        swapX = emptyX + dx\n        swapY = emptyY + dy\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n            continue\n        }\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n        swapIdx = swapX + swapY *3\n        // \u99d2\u306e\u4ea4\u63db\n        swapPiece newBoard, emptyIdx, swapIdx\n        // \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( storedBoardNum < length( storedBoards ) ) {\n            repeat 9\n                storedBoards(storedBoardNum, cnt) = newBoard(cnt)\n            loop\n            storedBoardNum++\n        }\n    loop\nloop\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3092\u5f8c\u304b\u3089\u63cf\u753b\nrepeat storedBoardNum\n    // \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3092\u53d6\u308a\u51fa\u3059\n    peekBoardIdx = cnt\n    dim board, 9\n    repeat 9 : board(cnt) = storedBoards(peekBoardIdx, cnt) : loop\n    // \u63cf\u753b\n    drawBoard 10+45*(peekBoardIdx\\15), 150+45*(peekBoardIdx/15), board, 12\nloop\n\n\n\u4e00\u5fdc\u3001\u4e00\u56de\u3053\u3053\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u90e8\u5206\u306e\u9664\u3044\u305f\u30b3\u30fc\u30c9\u306f\u5168\u3066\u7701\u7565\u305b\u305a\u8f09\u305b\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\u76e4\u9762\u4fdd\u5b58\u7528\u306e\u914d\u5217\u306f\u3068\u308a\u3042\u3048\u305a100\u500b\u5206\u3057\u304b\u4fdd\u5b58\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u30a8\u30e9\u30fc\u843d\u3061\u3068\u304b\u3057\u306a\u3044\u3088\u3046\u306b\u4fdd\u5b58\u3067\u304d\u306a\u305d\u3046\u3060\u3063\u305f\u3089\u4fdd\u5b58\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u307e\u3059\u3002\n\u3053\u3053\u307e\u3067\u3067\u3001\u6700\u521d\u306e\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u9023\u7d9a\u3057\u3066\u5217\u6319\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n\u76ee\u7684\u306e\u76e4\u9762\u5224\u5b9a\u3068\u3001\u304b\u304b\u3063\u305f\u624b\u6570\u306e\u8a08\u7b97\n\u6b21\u3005\u5217\u6319\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u3042\u3068\u306f\u76ee\u7684\u306e\u76e4\u9762\u306b\u306a\u3063\u305f\u304b\u306e\u5224\u5b9a\u3092\u8ffd\u52a0\u3059\u308c\u3070\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\u305d\u308c\u81ea\u4f53\u306f\u7c21\u5358\u3067\u3001\u30eb\u30fc\u30d7\u5185\u3067\u5217\u6319\u306e\u305f\u3081\u4e00\u3064\u306e\u76e4\u9762\u3092\u53d6\u308a\u51fa\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u53d6\u308a\u51fa\u3057\u305f\u76e4\u9762\u304c\u76ee\u7684\u306e\u76e4\u9762\u3060\u3063\u305f\u3089\u63a2\u7d22\u3092\u7d42\u3048\u308c\u3070\u826f\u3044\u3001\u3068\u3044\u3046\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3060\u3051\u3067\u3059\u3002\n\n\u76ee\u7684\u306e\u76e4\u9762\u304b\u30c1\u30a7\u30c3\u30af\n// \uff5e\uff5e\u7701\u7565\uff5e\uff5e\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\nrepeat 9\n    storedBoards(storedBoardNum, cnt) = board(cnt)\nloop\nstoredBoardNum++\n\n// \u76ee\u7684\u306e\u76e4\u9762\nobjectiveBoard = 3, 1, 2, 4, 7, 5, 6, 0, 8\ndrawBoard 180, 10, objectiveBoard, 40\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n    // \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n    if ( popedBoardNum >= storedBoardNum ) : break\n\n    // \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n    dim board, 9\n    repeat 9 : board(cnt) = storedBoards(popedBoardnum, cnt) : loop\n    popedBoardnum++\n\n    // \u76ee\u7684\u306e\u76e4\u9762\u304b\u30c1\u30a7\u30c3\u30af\n    isObjectiveBoard = 1\n    repeat 9\n        if ( board(cnt) != objectiveBoard(cnt) ) {\n            isObjectiveBoard = 0\n            break\n        }\n    loop\n    if ( isObjectiveBoard ) {\n        dialog \"\u898b\u3064\u304b\u3063\u305f\uff01\uff01\"\n        break\n    }\n\n    // \uff5e\uff5e\u7701\u7565\uff5e\uff5e\n\n\n\u305d\u3057\u3066\u3001\u4f55\u624b\u304b\u304b\u3063\u305f\u304b\u3092\u899a\u3048\u3066\u304a\u304f\u306b\u306f\u3001\u3067\u3059\u304c\u3053\u3061\u3089\u306f\u4fdd\u5b58\u3057\u3066\u304a\u304f\u76e4\u9762\u3068\u540c\u3058\u9577\u3055\u306e\u914d\u5217\u3092\u3082\u3046\u4e00\u500b\u7528\u610f\u3057\u3066\u304a\u3044\u3066\u3001\u305d\u3063\u3061\u306b\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u4f55\u624b\u76ee\u3067\u8fbf\u308a\u7740\u3044\u305f\u76e4\u9762\u304b\u3092\u8a18\u9332\u3057\u3066\u304a\u3051\u3070\u5927\u4e08\u592b\u305d\u3046\u3067\u3059\u3002\n\n\u307e\u305f\u3001\u5217\u6319\u306e\u969b\u306f\u3001\u65b0\u3057\u304f\u5217\u6319\u3059\u308b\u76e4\u9762\u306f\u5143\u306e\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u3082\u306e\u306a\u306e\u3067\u3001\u5143\u306e\u76e4\u9762\uff0b\uff11\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3068\u3059\u308c\u3070\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\u4ee5\u4e0a\u3092\u6574\u7406\u3057\u3066\u3001\u30b3\u30fc\u30c9\u3092\u5c11\u3057\u5f04\u308a\u307e\u3059\u3002\n\n\u4f55\u624b\u76ee\u3067\u76e4\u9762\u304c\u5f97\u3089\u308c\u308b\u304b\u3082\u4fdd\u5b58\u3057\u306a\u304c\u3089\u5217\u6319\n// \uff5e\uff5e\u7701\u7565\uff5e\uff5e\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\nrepeat 9\n    storedBoards(storedBoardNum, cnt) = board(cnt)\nloop\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u521d\u306e\u76e4\u9762\u306f\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nstoredBoardNum++\n\n// \uff5e\uff5e\u7701\u7565\uff5e\uff5e\n    // \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n    dim board, 9\n    repeat 9 : board(cnt) = storedBoards(popedBoardnum, cnt) : loop\n    boardRequiredStepNum = storedBoardSteps(popedBoardnum)// \u4f55\u624b\u76ee\u3067\u3053\u306e\u76e4\u9762\u306f\u5f97\u3089\u308c\u308b\u304b\n    popedBoardnum++\n\n// \uff5e\uff5e\u7701\u7565\uff5e\uff5e\n        // \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( storedBoardNum < length( storedBoards ) ) {\n            repeat 9\n                storedBoards(storedBoardNum, cnt) = newBoard(cnt)\n            loop\n            storedBoardSteps(storedBoardNum) = boardRequiredStepNum+1// \u81ea\u5206\u306e\u76e4\u9762\uff0b\uff11\n            storedBoardNum++\n        }\n\n\n\u3053\u308c\u3067\u63a2\u7d22\u3092\u884c\u308f\u305b\u308b\u3068\u3001\u7121\u4e8b\u4f55\u624b\u3067\u305f\u3069\u308a\u7740\u304f\u304b\u3082\u5206\u304b\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u3061\u306a\u307f\u306b\u4e0a\u8a18\u753b\u50cf\u306e\u76ee\u7684\u306e\u76e4\u9762\uff08\u53f3\u5074\uff09\u306f\u3001\u6700\u521d\u306e\u76e4\u9762\uff08\u5de6\u5074\uff09\u304b\u3089\n\n\u7a7a\u767d\u3068\uff13\u3092\u4ea4\u63db\n\u7a7a\u767d\u3068\uff14\u3092\u4ea4\u63db\n\u7a7a\u767d\u3068\uff17\u3092\u4ea4\u63db\n\n\u3068\u3059\u308b\u3068\u5f97\u3089\u308c\u307e\u3059\u3001\u3064\u307e\u308a\u5408\u3063\u3066\u308b\uff01\n\u52dd\u3063\u305f\u30c3\uff01\u3000\u7b2c3\u90e8\u5b8c\uff01\n\n\u76e4\u9762\u306e\u91cd\u8907\u3092\u306a\u304f\u3059\n\u3055\u3066\u3001\u5217\u6319\u307e\u3067\u3067\u304d\u305f\u3057\u3001\u30b4\u30fc\u30eb\u306b\u8fbf\u308a\u7740\u3044\u305f\u5224\u5b9a\u307e\u3067\u3067\u304d\u305f\u306e\u3067\u3001\u4e00\u5fdc\u306e\u5b8c\u6210\u304c\u2026\u3068\u601d\u3046\u3067\u3057\u3087\u3046\u304c\u3001\u3088\u304f\u3088\u304f\u5217\u6319\u5185\u5bb9\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\u5b9f\u306f\u540c\u3058\u76e4\u9762\u5217\u6319\u3057\u3061\u3083\u3063\u3066\u305f\u308a\u3057\u307e\u3059\u3088\u306d\uff1f\n\u904e\u53bb\u306b\u5217\u6319\u3057\u305f\u3082\u306e\u306f\u76e4\u9762\u4fdd\u5b58\u914d\u5217\u306b\u5168\u3066\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u65e2\u306b\u5217\u6319\u3057\u305f\u3082\u306e\u306f\u8ffd\u52a0\u3067\u4fdd\u5b58\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u8003\u3048\u3089\u308c\u308b\u76e4\u9762\u6570\u306e\u6700\u5927\n\u91cd\u8907\u3092\u306a\u304f\u3057\u305f\u5f8c\u3001\u5f8c\u306f\u4eca\u307e\u3067\u9069\u5f53\u306b\u6c7a\u3081\u3066\u3044\u305f\u76e4\u9762\u4fdd\u5b58\u7528\u306e\u914d\u5217\u30b5\u30a4\u30ba\u306b\u3064\u3044\u3066\u3082\u3061\u3083\u3093\u3068\u8003\u3048\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n8\u30d1\u30ba\u30eb\u3067\u8003\u3048\u3089\u308c\u308b\u76e4\u9762\u306e\u6570\u306f\u3001\u5de6\u4e0a\u304b\u30899\u7a2e\u985e\u306e\u99d2\uff08\u6b63\u78ba\u306b\u306f8\u500b\u306e\u99d2\u3068\u7a7a\u767d\uff09\u3092\u4e26\u3079\u308b\u64cd\u4f5c\u306b\u306a\u308b\u306e\u3067$9!$\u3068\u306a\u308a\u305d\u3046\u3067\u3059\u304c\u3001\u76e4\u9762\u306f\u7a7a\u767d\u3092\u30b9\u30e9\u30a4\u30c9\u3057\u3066\u5f97\u3089\u308c\u308b\u3068\u3044\u3046\u5236\u7d04\u304b\u3089\u5b9f\u306f\u3053\u306e\u534a\u5206\u306e$9!/2$\u3067\u5f97\u3089\u308c\u308b\u3053\u3068\u304c\u77e5\u3089\u308c\u3066\u3044\u307e\u3059\u3002\n\u3064\u307e\u308a$9!/2 = 181440$\u500b\u3067\u3059\u306d\u3001\u6700\u5927\u6570\u306f\u3053\u308c\u306b\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u3053\u308c\u3067\u672c\u5f53\u306b\u5b8c\u6210\u3067\u3059\u306e\u3067\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u542b\u3081\u30b3\u30fc\u30c9\u3092\u5168\u90e8\u66f8\u304d\u307e\u3059\u3002\n\n\u30ca\u30a4\u30fc\u30d6\u306b8\u30d1\u30ba\u30eb\u3092\u89e3\u304f\n#module\n// \u76e4\u9762\u306e\u63cf\u753b\n// \u8d77\u70b9X, \u8d77\u70b9Y, \u76e4\u9762\u914d\u5217, \u63cf\u753b\u30b5\u30a4\u30ba\n#deffunc drawBoard int cx, int cy, array board, int size\n    bsz = size*3\n\n    // \u80cc\u666f\uff08\u4e0b\u5730\uff09\u306e\u30af\u30ea\u30a2\n    color 255, 255, 255 : boxf cx, cy, cx+bsz, cy+bsz\n\n    // \u67a0\u7dda\n    color 0, 0, 0\n    repeat 4\n        ofs = cnt*size\n        line cx, cy+ofs, cx+bsz, cy+ofs\n        line cx+ofs, cy, cx+ofs, cy+bsz\n    loop\n    // \u99d2\n    font msgothic, size\n    repeat 9\n        cntXP3S = cx + cnt\\3 * size\n        cntXD3S = cy + cnt/3 * size\n        color 0, 0, 0 : pos cntXP3S+size/4, cntXD3S\n        if ( board(cnt) != 0 ) {// \u7a7a\u767d\u3058\u3083\u306a\u3044\u306a\u3089\n            mes \"\"+board(cnt)\n        }\n    loop\nreturn\n\n// \u76e4\u9762\u306e\u4e2d\u3067\u7a7a\u767d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\n#defcfunc searchEmpty array board, local res\n    res = -1\n    repeat 9\n        if ( board(cnt) == 0 ) {\n            res = cnt\n            break\n        }\n    loop\nreturn res\n\n// \u76e4\u9762\u306e\u4e2d\u306e2\u3064\u306e\u8981\u7d20\u4f4d\u7f6e\u3092\u4ea4\u63db\u3059\u308b\n#deffunc swapPiece array board, int piece1, int piece2, local t\n    t = board(piece1)\n    board(piece1) = board(piece2)\n    board(piece2) = t\nreturn\n#global\n\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 181440, 9// 9!/2\ndim storedBoardSteps, 181440// \u4f55\u624b\u76ee\u3067\u8fbf\u308a\u7740\u3044\u305f\u304b\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\npopedBoardNum = 0// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u65e2\u306b\u8abf\u3079\u305f\u304b\uff08\u66f4\u306b\u5217\u6319\u3057\u305f\u304b\uff09\n\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\nrepeat 9\n    storedBoards(storedBoardNum, cnt) = board(cnt)\nloop\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u521d\u306e\u76e4\u9762\u306f\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nstoredBoardNum++\n\n// \u76ee\u7684\u306e\u76e4\u9762\nobjectiveBoard = 3, 1, 2, 4, 7, 5, 6, 0, 8\ndrawBoard 180, 10, objectiveBoard, 40\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n    // \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n    if ( popedBoardNum >= storedBoardNum ) : break\n\n    // \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n    dim board, 9\n    repeat 9 : board(cnt) = storedBoards(popedBoardnum, cnt) : loop\n    boardRequiredStepNum = storedBoardSteps(popedBoardnum)// \u4f55\u624b\u76ee\u3067\u3053\u306e\u76e4\u9762\u306f\u5f97\u3089\u308c\u308b\u304b\n    popedBoardnum++\n\n    // \u76ee\u7684\u306e\u76e4\u9762\u304b\u30c1\u30a7\u30c3\u30af\n    isObjectiveBoard = 1\n    repeat 9\n        if ( board(cnt) != objectiveBoard(cnt) ) {\n            isObjectiveBoard = 0\n            break\n        }\n    loop\n    if ( isObjectiveBoard ) {\n        dialog \"\u898b\u3064\u304b\u3063\u305f\uff01\uff01 \"+boardRequiredStepNum+\"\u624b\u76ee\uff01\uff01\"\n        break\n    }\n\n    // \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\n    emptyIdx = searchEmpty( board )\n\n    // \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\n    emptyX = emptyIdx \\3\n    emptyY = emptyIdx /3\n\n    // \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n    repeat 4\n        // \u5217\u6319\u3059\u308b\u76e4\u9762\n        dim newBoard, 9\n        // \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n        repeat 9 : newBoard(cnt) = board(cnt) : loop\n        // \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n        dx = 0 : dy = 0 : label=\"\"\n        switch( cnt )\n            case 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n            case 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n            case 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n            case 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n        swend\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n        swapX = emptyX + dx\n        swapY = emptyY + dy\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n            continue\n        }\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n        swapIdx = swapX + swapY *3\n        // \u99d2\u306e\u4ea4\u63db\n        swapPiece newBoard, emptyIdx, swapIdx\n\n        // \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u304b\u8abf\u3079\u308b\n        isAlreadySearched = 0\n        repeat storedBoardNum\n            peekBoardIdx = cnt\n            isSame = 1\n            repeat 9\n                if ( storedBoards(peekBoardIdx, cnt) != newBoard(cnt) ) {\n                    isSame = 0\n                    break\n                }\n            loop\n            if ( isSame ) {\n                isAlreadySearched = 1\n                break\n            }\n        loop\n\n        // \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3060\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\u3067\u6b21\u3078\n        if ( isAlreadySearched ) : continue\n\n        // \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( storedBoardNum < length( storedBoards ) ) {\n            repeat 9\n                storedBoards(storedBoardNum, cnt) = newBoard(cnt)\n            loop\n            storedBoardSteps(storedBoardNum) = boardRequiredStepNum+1// \u81ea\u5206\u306e\u76e4\u9762\uff0b\uff11\n            storedBoardNum++\n        }\n    loop\nloop\n\n\n\u3044\u3084\u30fc\u3001\u30db\u30f3\u30c8\u306b\u9577\u3044\u6226\u3044\u3060\u3063\u305f\u3001\u304a\u75b2\u308c\u69d8\u3067\u3059\u30022\n\n\u6700\u77ed\u3067\u3042\u308b\u3053\u3068\u306e\u8a3c\u660e\u3068\u3001\u5e45\u512a\u5148\u63a2\u7d22\u3068\n\u3053\u3053\u307e\u3067\u3067\u3056\u3063\u304f\u308a\u8aac\u660e\u3057\u3066\u304d\u305f\u8a33\u3067\u3059\u304c\u3001\u8aac\u660e\u3057\u3066\u304d\u305f\u3053\u3068\u3068\u8a00\u3048\u3070\n\n\u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\u76e4\u9762\u306e\u4fdd\u5b58\u3068\u3001\u5217\u6319\u3092\u7d44\u307f\u5408\u308f\u305b\u305f\u51e6\u7406\n\u5217\u6319\u306e\u6642\u306b\u4f55\u624b\u3067\u5f97\u3089\u308c\u305f\u304b\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\n\n\u3060\u3051\u3067\u3001\u5b9f\u306f\u5f97\u3089\u308c\u305f\u89e3\u304c\u672c\u5f53\u306b\u6700\u5c0f\u624b\u6570\u306a\u306e\u304b\u306e\u4fdd\u8a3c\u3063\u3066\u3057\u3066\u306a\u304b\u3063\u305f\u3093\u3067\u3059\u3088\u306d\u3001\u30a6\u30c3\u30ab\u30ea\u3002\n\u305d\u308c\u306b\u3001\u5192\u982d\u3067\u8aac\u660e\u3057\u305f\u5e45\u512a\u5148\u63a2\u7d22\u306b\u3064\u3044\u3066\u3082\u89e6\u308c\u3066\u306a\u3044\u3057\u3001\u3053\u306e\u7b46\u8005\u306e\u982d\u6cb8\u3044\u3066\u308b\u306e\u3067\u306f\u2026\u3068\u601d\u3063\u305f\u65b9\u3001\u7d20\u6674\u3089\u3057\u3044\u3001\u6167\u773c\u3067\u3059\u306d\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3053\u3053\u304b\u3089\u306f\u4eca\u307e\u3067\u306e\u30b3\u30fc\u30c9\u3067\u5927\u4e08\u592b\u306a\u3053\u3068\u3092\u51e6\u7406\u3092\u53ef\u8996\u5316\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u8aac\u660e\u3059\u308b\u306e\u3068\u3001\u5e45\u512a\u5148\u63a2\u7d22\u3068\u306e\u7d61\u307f\u3092\u8aac\u660e\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u51e6\u7406\u30d5\u30ed\u30fc\u3092\u8003\u3048\u76f4\u3057\u3066\u307f\u308b\n\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u306e\u52d5\u4f5c\u3092\u5c11\u3057\u3060\u3051\u8ffd\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u307e\u305a\u3001\u6700\u521d\u306e\u76e4\u9762\u3092\u76e4\u9762\u4fdd\u5b58\u914d\u5217\u306b\u5165\u308c\u307e\u3059\n\n\u307e\u3060\u8abf\u3079\u3066\u3044\u306a\u3044\u3001\u76e4\u9762\u4fdd\u5b58\u7528\u914d\u5217\u306b\u5165\u3063\u3066\u3044\u308b\u76e4\u9762\u3092\u8abf\u3079\u3001\u65b0\u3057\u304f\u5217\u6319\u3055\u308c\u305f\u3082\u306e\u3092\u8ffd\u52a0\u3059\u308b\n\n2.\u3092\u3082\u3046\u4e00\u56de\n\n2.\u3092\u3082\u3046\u4e00\u56de\n\n2.\u3092\u3082\u3046\u4e00\u56de\n\n\n\u2026\u3082\u3046\u305d\u308d\u305d\u308d\u898b\u3048\u3066\u304d\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u4e0b\u6bb5\u306e\u300c\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u4f55\u624b\u3067\u8fbf\u308a\u7740\u304f\u304b\u300d\u3092\u8868\u3059\u6570\u5024\u306b\u6ce8\u76ee\u3057\u3066\u3044\u305f\u3060\u304d\u305f\u3044\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u308b\u3068\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u5c11\u306a\u3044\u624b\u6570\u3067\u8fbf\u308a\u7740\u304f\u76e4\u9762\u304c\u5148\u306b\u5217\u6319\u3055\u308c\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\u3064\u307e\u308a\u3001\u3053\u306e\u624b\u9806\u3067\u76ee\u7684\u306e\u76e4\u9762\u304c\u898b\u3064\u304b\u3063\u305f\u5834\u5408\u3001\u305d\u306e\u6642\u4fdd\u5b58\u3057\u3066\u3044\u305f\u624b\u6570\u304c\u6700\u5c0f\u3067\u3042\u308b\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u308b\u308f\u3051\u3067\u3059\u3002\n\u2026\u3068\u3044\u3046\u3001\u5168\u304f\u8a3c\u660e\u306b\u3082\u4f55\u3082\u306a\u3063\u3066\u306a\u304b\u3063\u305f\u308a\u3059\u308b\u3093\u3067\u3059\u304c\u3001\u305d\u3093\u306a\u611f\u3058\u3002\n\n\u5e45\u512a\u5148\u63a2\u7d22\n\u5e45\u512a\u5148\u63a2\u7d22\u3068\u306e\u7d61\u307f\u3067\u3059\u304c\u3001\u5143\u3005\u5e45\u512a\u5148\u63a2\u7d22\u3068\u306f\u30b0\u30e9\u30d5\u3084\u30c4\u30ea\u30fc\u4e0a\u306e\u30ce\u30fc\u30c9\u3092\u3069\u306e\u3088\u3046\u306b\u8abf\u3079\u3066\u3044\u304f\u306e\u304b\uff08\u63a2\u7d22\u3059\u308b\u306e\u304b\uff09\u3001\u305d\u306e\u51e6\u7406\u9806\u3092\u8868\u3059\u7528\u8a9e\u3067\u3059\u3001\n\u305d\u3057\u3066\u3001\u5e45\u512a\u5148\u63a2\u7d22\u306f\u63a2\u7d22\u9806\u3068\u3057\u3066\u306f\u3001\u30b0\u30e9\u30d5\u3084\u30c4\u30ea\u30fc\u4e0a\u3067\u8ddd\u96e2\u304c\u8fd1\u3044\u3082\u306e\u304b\u3089\u9806\u306b\u63a2\u7d22\u3055\u308c\u308b\u3068\u3044\u3046\u6027\u8cea\u3092\u6301\u3061\u307e\u3059\u3002\n\u305d\u3046\u3001\u4e0a\u8a18\u3067\u8ff0\u3079\u305f\u3082\u306e\u3068\u540c\u3058\u3067\u3059\u306d\u3002\n\u5b9f\u306f\u3053\u308c\u307e\u3067\u8ff0\u3079\u305f\u76e4\u9762\u306e\u5217\u6319\u306e\u4ed5\u65b9\u306f\u3001\u3061\u3087\u3046\u3069\u76e4\u9762\u3092\u30b0\u30e9\u30d5\u4e0a\u306e1\u30ce\u30fc\u30c9\u3001\u30ce\u30fc\u30c9\u9593\u306e\u8ddd\u96e2\u3092\u9077\u79fb\u306b\u5fc5\u8981\u306a\u6700\u5c0f\u624b\u6570\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u305f\u6642\u306e\u5e45\u512a\u5148\u63a2\u7d22\u3068\u4e00\u81f4\u3057\u307e\u3059\u3002\n\n\u3063\u3066\u8a00\u308f\u308c\u3066\u3082\u30ef\u30ab\u30e9\u30f3\u3088\u3001\u56f3\u3067\u793a\u3057\u3066\u3088\n\u3053\u3053\u306f\u4f59\u88d5\u304c\u3042\u3063\u305f\u3089\u5f8c\u3067\u66f8\u304f\u3001\u30b9\u30de\u30f3\u30ca\u3002\uff08\u3057\u3093\u3060\u9b5a\u306e\u76ee\uff09\n\n\u7d50\u3073\n\u3053\u3053\u307e\u3067\u30678\u30d1\u30ba\u30eb\u3092\u89e3\u304f\u3053\u3068\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3001\uff94\uff6f\uff80\uff70\uff01\n\u3081\u3067\u305f\u3057\u3081\u3067\u305f\u3057\u2026\n\n\n\n\n\u9ad8\u901f\u5316\u306e\u4e00\u624b\n\u2026\u3068\u3059\u3079\u304d\u304b\u306f\u500b\u4eba\u306b\u3088\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u5b9f\u884c\u3057\u3066\u307f\u308b\u3068\u5206\u304b\u308b\u901a\u308a\u89e3\u3092\u6c42\u3081\u308b\u306e\u304c\u3068\u3066\u3082\u9045\u3044\u3067\u3059\u3002\n\u3068\u3066\u3082\u5b9f\u7528\uff08\uff1f\uff09\u306b\u8010\u3048\u308b\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u6700\u5c0f\u624b\u6570\u304c30\u3092\u8d85\u3048\u308b\u3082\u306e\u306f\u30b5\u30af\u30c3\u3068\u4f55\u79d2\u5f8c\u306b\u3001\u307f\u305f\u3044\u306a\u6c17\u8efd\u3055\u3067\u6c42\u307e\u308a\u307e\u305b\u3093\u3002\n\u3053\u3053\u304b\u3089\u306f\u3069\u3046\u3059\u308c\u3070\u63a2\u7d22\u3092\u9ad8\u901f\u5316\u3067\u304d\u308b\u306e\u304b\u3001\u4e00\u822c\u7684\u306a\u624b\u6cd5\u306b\u3064\u3044\u3066\u306e\u5c0e\u5165\u3068\u7c21\u5358\u306a\u89e3\u8aac\u3092\u3064\u3051\u3066\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u5192\u982d\u3067\u3082\u8aac\u660e\u3057\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u304b\u3089\u306fHSP\u4e2d\u7d1a\u8005\u4ee5\u4e0a\u304c\u5bfe\u8c61\u3067\u3001\u5185\u5bb9\u306b\u3064\u3044\u3066\u3082\u5c11\u3057\u3070\u304b\u308a\u91cd\u3044\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u73fe\u72b6\u78ba\u8a8d\n\u3068\u308a\u3042\u3048\u305a\u3001\u73fe\u72b6\u3067\u3069\u306e\u624b\u6570\u3067\u3069\u308c\u304f\u3089\u3044\u6642\u9593\u3092\u4f7f\u3046\u306e\u304b\u3001\u8abf\u3079\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u3064\u304d\u3067\u3001\u304b\u3064\u6642\u9593\u8a08\u6e2c\u3082\u3064\u3044\u3066\u3044\u308b\u30b3\u30fc\u30c9\u304c\u6b21\u3002\n\n\u624b\u6570\u6570\u3068\u6642\u9593\u8a08\u6e2c\n#include \"winmm.as\"\n\n#module\n// \u76e4\u9762\u306e\u63cf\u753b\n// \u8d77\u70b9X, \u8d77\u70b9Y, \u76e4\u9762\u914d\u5217, \u63cf\u753b\u30b5\u30a4\u30ba\n#deffunc drawBoard int cx, int cy, array board, int size\n    bsz = size*3\n\n    // \u80cc\u666f\uff08\u4e0b\u5730\uff09\u306e\u30af\u30ea\u30a2\n    color 255, 255, 255 : boxf cx, cy, cx+bsz, cy+bsz\n\n    // \u67a0\u7dda\n    color 0, 0, 0\n    repeat 4\n        ofs = cnt*size\n        line cx, cy+ofs, cx+bsz, cy+ofs\n        line cx+ofs, cy, cx+ofs, cy+bsz\n    loop\n    // \u99d2\n    font msgothic, size\n    repeat 9\n        cntXP3S = cx + cnt\\3 * size\n        cntXD3S = cy + cnt/3 * size\n        color 0, 0, 0 : pos cntXP3S+size/4, cntXD3S\n        if ( board(cnt) != 0 ) {// \u7a7a\u767d\u3058\u3083\u306a\u3044\u306a\u3089\n            mes \"\"+board(cnt)\n        }\n    loop\nreturn\n\n// \u76e4\u9762\u306e\u4e2d\u3067\u7a7a\u767d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\n#defcfunc searchEmpty array board, local res\n    res = -1\n    repeat 9\n        if ( board(cnt) == 0 ) {\n            res = cnt\n            break\n        }\n    loop\nreturn res\n\n// \u76e4\u9762\u306e\u4e2d\u306e2\u3064\u306e\u8981\u7d20\u4f4d\u7f6e\u3092\u4ea4\u63db\u3059\u308b\n#deffunc swapPiece array board, int piece1, int piece2, local t\n    t = board(piece1)\n    board(piece1) = board(piece2)\n    board(piece2) = t\nreturn\n#global\n\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 181440, 9// 9!/2\ndim storedBoardSteps, 181440// \u4f55\u624b\u76ee\u3067\u8fbf\u308a\u7740\u3044\u305f\u304b\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\npopedBoardNum = 0// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u65e2\u306b\u8abf\u3079\u305f\u304b\uff08\u66f4\u306b\u5217\u6319\u3057\u305f\u304b\uff09\n\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\nrepeat 9\n    storedBoards(storedBoardNum, cnt) = board(cnt)\nloop\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u521d\u306e\u76e4\u9762\u306f\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nstoredBoardNum++\n\n// \u76ee\u7684\u306e\u76e4\u9762\nobjectiveBoard = 3, 1, 2, 4, 7, 5, 6, 0, 8// 3\u624b\n//objectiveBoard = 3, 1, 2, 4, 7, 0, 6, 8, 5// 5\u624b\n//objectiveBoard = 0, 1, 5, 3, 2, 8, 6, 4, 7// 8\u624b\n//objectiveBoard = 3, 1, 5, 2, 4, 8, 6, 0, 7// 11\u624b\n//objectiveBoard = 3, 1, 0, 2, 7, 5, 6, 8, 4// 12\u624b\n//objectiveBoard = 3, 0, 1, 2, 7, 5, 6, 8, 4// 13\u624b\n//objectiveBoard = 0, 1, 2, 4, 7, 5, 6, 3, 8// 14\u624b\n//objectiveBoard = 7, 6, 2, 1, 5, 0, 3, 4, 8// 15\u624b\n//objectiveBoard = 4, 2, 8, 1, 0, 5, 6, 7, 3// 16\u624b\n//objectiveBoard = 4, 0, 5, 1, 8, 2, 6, 7, 3// 17\u624b\ndrawBoard 180, 10, objectiveBoard, 40\n\n// \u958b\u59cb\u6642\u9593\ntimeGetTime : st = stat\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n    // \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n    if ( popedBoardNum >= storedBoardNum ) : break\n\n    // \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n    dim board, 9\n    repeat 9 : board(cnt) = storedBoards(popedBoardnum, cnt) : loop\n    boardRequiredStepNum = storedBoardSteps(popedBoardnum)// \u4f55\u624b\u76ee\u3067\u3053\u306e\u76e4\u9762\u306f\u5f97\u3089\u308c\u308b\u304b\n    popedBoardnum++\n\n    // \u76ee\u7684\u306e\u76e4\u9762\u304b\u30c1\u30a7\u30c3\u30af\n    isObjectiveBoard = 1\n    repeat 9\n        if ( board(cnt) != objectiveBoard(cnt) ) {\n            isObjectiveBoard = 0\n            break\n        }\n    loop\n    if ( isObjectiveBoard ) {\n        break\n    }\n\n    // \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\n    emptyIdx = searchEmpty( board )\n\n    // \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\n    emptyX = emptyIdx \\3\n    emptyY = emptyIdx /3\n\n    // \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n    repeat 4\n        // \u5217\u6319\u3059\u308b\u76e4\u9762\n        dim newBoard, 9\n        // \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n        repeat 9 : newBoard(cnt) = board(cnt) : loop\n        // \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n        dx = 0 : dy = 0 : label=\"\"\n        switch( cnt )\n            case 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n            case 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n            case 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n            case 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n        swend\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n        swapX = emptyX + dx\n        swapY = emptyY + dy\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n            continue\n        }\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n        swapIdx = swapX + swapY *3\n        // \u99d2\u306e\u4ea4\u63db\n        swapPiece newBoard, emptyIdx, swapIdx\n\n        // \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u304b\u8abf\u3079\u308b\n        isAlreadySearched = 0\n        repeat storedBoardNum\n            peekBoardIdx = cnt\n            isSame = 1\n            repeat 9\n                if ( storedBoards(peekBoardIdx, cnt) != newBoard(cnt) ) {\n                    isSame = 0\n                    break\n                }\n            loop\n            if ( isSame ) {\n                isAlreadySearched = 1\n                break\n            }\n        loop\n\n        // \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3060\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\u3067\u6b21\u3078\n        if ( isAlreadySearched ) : continue\n\n        // \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( storedBoardNum < length( storedBoards ) ) {\n            repeat 9\n                storedBoards(storedBoardNum, cnt) = newBoard(cnt)\n            loop\n            storedBoardSteps(storedBoardNum) = boardRequiredStepNum+1// \u81ea\u5206\u306e\u76e4\u9762\uff0b\uff11\n            storedBoardNum++\n        }\n    loop\n\n    // \u9069\u5f53\u306bwait\u3092\u3044\u308c\u308b\n    if ( (popedBoardnum\\500) == 0 ) {\n        title \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1a\u3000\"+popedBoardnum\n        await 0\n    }\nloop\n\n// \u304b\u304b\u3063\u305f\u6642\u9593\ntimeGetTime : ed = stat\ndelta = ed -st\n\ncolor 0, 0, 0 : pos 10, 200 : font msgothic, 20\nmes \"\u624b\u6570\u3000\uff1a\u3000\"+boardRequiredStepNum\nmes \"\u304b\u304b\u3063\u305f\u6642\u9593\u3000\uff1d\u3000\"+(delta)+\"\u30df\u30ea\u79d2\"\nmes \"\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(storedBoardNum)\nmes \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(popedBoardnum)\n\n\n\u76ee\u7684\u76e4\u9762\uff08objectiveBoard\uff09\u306b\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3067\u3001\u5fc5\u8981\u306a\u6700\u5c0f\u624b\u6570\u3068\u4e00\u7dd2\u306b\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u3092\u8ffd\u52a0\u3057\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\u73fe\u72b6\u306e\u30b3\u30fc\u30c9\u3067\u306e\u5fc5\u8981\u6642\u9593\u3092\u30c6\u30fc\u30d6\u30eb\u5316\u3057\u3066\u304a\u304f\u3068\u6b21\u306e\u3088\u3046\u306a\u611f\u3058\u3002\n\n\n\n\u624b\u6570\n\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09\n\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\n\u8abf\u3079\u305f\u76e4\u9762\u6570\n\n\n\n\n3\n0\n19\n10\n\n\n5\n2\n63\n38\n\n\n8\n40\n394\n252\n\n\n11\n671\n1737\n1043\n\n\n12\n1744\n2791\n1791\n\n\n13\n4584\n4613\n2792\n\n\n14\n7209\n5706\n3575\n\n\n15\n18602\n8934\n5678\n\n\n16\n58894\n15887\n10544\n\n\n17\n144159\n25207\n16317\n\n\n\n\u7b46\u8005\u306e\u74b0\u5883\u3067\u306e\u8a08\u6e2c\u7d50\u679c\u3067\u3059\u3001\u8a08\u6e2c\u74b0\u5883\u306b\u3088\u3063\u3066\u7d50\u679c\u304c\u5909\u308f\u308b\u306e\u306f\u3054\u5bb9\u8d66\u304f\u3060\u3055\u3044\u3002\n18\u624b\u76ee\u4ee5\u4e0a\u306f\u30b9\u30b4\u30a4\u6642\u9593\u304b\u304b\u308b\u306e\u3067\u3001\u3084\u3081\u307e\u3057\u305f\u3002\n8\u30d1\u30ba\u30eb\u306f\u6700\u9577\u624b\u6570\u304c31\u624b\u306a\u306e\u3067\u3001\u305d\u3053\u307e\u3067\u3084\u308d\u3046\u3068\u3059\u308b\u3068\u4f55\u65e5\u304b\u3001\u4f55\u9031\u9593\u304b\u3001\u3042\u308b\u3044\u306f\u3082\u3063\u3068\u304b\u304b\u308a\u305d\u3046\u3067\u3059\u306d\u3002\n\n\u76e4\u9762\u8868\u73fe\u306e\u5727\u7e2e\n\u3053\u308c\u307e\u3067\u306f\u76e4\u9762\u306e\u8868\u73fe\u306b\u914d\u5217\u3092\u7528\u3044\u3066\u304d\u307e\u3057\u305f\u3002\n\u305d\u308c\u305e\u308c\u306e\u99d2\u3092\u8868\u3059\u306e\u306b\u914d\u5217\u306e\u8981\u7d20 1 \u3064\u3092\u6d88\u8cbb\u3057\u3066\u3044\u305f\u5f62\u3067\u3059\u306d\u3002\n\u3082\u3057\u76e4\u9762\u3092\u8868\u3059\u306e\u306b\u3088\u308a\u5c11\u306a\u3044\u8981\u7d20\u6570\u306e\u914d\u5217\u3067\u8868\u3059\u3053\u3068\u304c\u51fa\u6765\u305f\u3089\u3001\u76e4\u9762\u306e\u91cd\u8907\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u904e\u7a0b\u3067\u8981\u7d20\u306e\u6bd4\u8f03\u3092\u3059\u308b\u30eb\u30fc\u30d7\u304c\u6e1b\u308b\u306e\u3067\u3001\u9ad8\u901f\u5316\u3067\u304d\u308b\u3068\u8003\u3048\u3089\u308c\u307e\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3053\u306e\u76e4\u9762\u306e\u8868\u73fe\u3092\u3069\u3046\u306b\u304b\u5727\u7e2e\u3059\u308b\u3053\u3068\u3092\u8003\u3048\u307e\u3059\u3002\n\u3068\u3053\u308d\u3067\u3001\u99d2\u306e\u7a2e\u985e\u306f\u7a7a\u767d\u3082\u542b\u3081\u3066\u50c5\u304b 9 \u7a2e\u985e\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u3002\n1 \u3064\u306e\u99d2\u3092\u8868\u3059\u306e\u306b\u672c\u8cea\u7684\u306b\u5fc5\u8981\u306a\u306e\u306f\u50c5\u304b 4 \u30d3\u30c3\u30c8\u3067\u3059\u3002\uff082 \u306e 3 \u4e57\u306f 8 \u3067\u3001\u30ae\u30ea\u30ae\u30ea 3 \u30d3\u30c3\u30c8\u306b\u53ce\u307e\u3089\u306a\u3044\uff09\n\u3064\u307e\u308a\u3042\u308b\u76e4\u9762\u3092\u8868\u73fe\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u306e\u306f 4 x9 \u3067 36 \u30d3\u30c3\u30c8\u3067\u3059\u3002\uff08\u306a\u304a\u3001\u88dc\u8db3\u3057\u3066\u304a\u304f\u3068\u8a71\u3092\u7c21\u5358\u306b\u3059\u308b\u305f\u3081\u306b\u3053\u3046\u66f8\u3044\u3066\u307e\u3059\u304c\u3001\u672c\u8cea\u7684\u306b\u5fc5\u8981\u306a\u30d3\u30c3\u30c8\u6570\u306f\u3082\u3063\u3068\u5c11\u306a\u3044\u3067\u3059\uff09\nHSP\u3067\u914d\u5217\u306f 1 \u8981\u7d20\u306b\u3064\u304d 32 \u30d3\u30c3\u30c8\u306a\u306e\u3067\u3001\u76e4\u9762\u3092\u8868\u3059\u306e\u306b32 x 9 \u3067 282 \u30d3\u30c3\u30c8\u3082\u4f7f\u3063\u3066\u3044\u305f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u3046\u3084\u3063\u3066\u6570\u5024\u3067\u8a08\u7b97\u3059\u308b\u3068\u7d50\u69cb\u5927\u98df\u3044\u3057\u3066\u305f\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u306d\u3002\n\n\u305d\u308c\u3067\u306f\u8981\u3089\u306a\u3044\u30d3\u30c3\u30c8\u3092\u6368\u3066\u300132 \u30d3\u30c3\u30c8\u306b 4 \u30d3\u30c3\u30c8\u305a\u3064\u99d2\u3092\u683c\u7d0d\u3057\u3066\u3044\u304f\u3068\u3001\u914d\u5217\u3068\u3057\u3066\u306f\u306a\u3093\u3068 2 \u8981\u7d20\u306b\u53ce\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4eca\u307e\u3067\u306f\u7279\u5b9a\u306e\u76e4\u9762\u3092\u8868\u3059\u306e\u306b 9 \u8981\u7d20\u4f7f\u3063\u3066\u3044\u305f\u306e\u3067\u30019 \u21d2 2 \u3068\u5727\u7e2e\u3067\u304d\u307e\u3057\u305f\u3001\u30b9\u30b4\u30a4\uff01\uff01\n\n\u3067\u6e80\u8db3\u3059\u308b\u306e\u306f\u307e\u3060\u65e9\u304f\u3066\u2026\n9 \u21d2 2 \u306e\u5727\u7e2e\u3067\u3082\u51c4\u3044\u3053\u3068\u3067\u306f\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u3084\u3063\u3071\u308a\u3061\u3087\u3063\u3068\u6094\u3057\u3044\u3067\u3059\u3088\u306d\u30012\u8981\u7d20\u76ee\u306f 1\u8981\u7d20\u76ee\u306b\u53ce\u307e\u308a\u304d\u3089\u306a\u304b\u3063\u305f 4 \u30d3\u30c3\u30c8\u3057\u304b\u306a\u3044\u306e\u3067\u3001\u3084\u3063\u3071\u308a\u7121\u99c4\u306b\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u307e\u3060\u3042\u308a\u307e\u3059\u3002\n\u3068\u3053\u308d\u3067\u3001\u3088\u304f\u3088\u304f\u8003\u3048\u308b\u3068\u99d2\u306f 9 \u7a2e\u985e\u3067\u6c7a\u307e\u3063\u3066\u3044\u308b\u306e\u3067\u30018 \u3064\u306e\u99d2\u306e\u4f4d\u7f6e\u3068\u7a2e\u985e\u304c\u5206\u304b\u308c\u3070\u3001\u6b8b\u308a 1 \u3064\u306f\u8a08\u7b97\u3067\u6c42\u3081\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3088\u306d\u3002\n\u3053\u306e\u70b9\u306b\u6c17\u3065\u304f\u3068\u6700\u5f8c\u306e 4 \u30d3\u30c3\u30c8\u306f\u5b9f\u306f\u76e4\u9762\u306e\u8868\u73fe\u30fb\u4fdd\u5b58\u3068\u3044\u3046\u610f\u5473\u3067\u306f\u5fc5\u8981\u306a\u3044\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306f\u5358\u7d14\u306b\u76e4\u9762\u3092\u30d3\u30c3\u30c8\u3067\u5727\u7e2e\uff0b1\u99d2\u524a\u6e1b\u3057\u3066 32 \u30d3\u30c3\u30c8\u306e\u76e4\u9762\u8868\u73fe\u3092\u5f97\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u306f\u898b\u65b9\u306b\u3088\u3063\u3066\u306f\u76e4\u9762\u306e\uff08\u5b8c\u5168\uff09\u30cf\u30c3\u30b7\u30e5\u5316\u3068\u3082\u3068\u308c\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\u4e0a\u3067\u306f\n\u30c7\u30fc\u30bf\u69cb\u9020\u304c\u5909\u308f\u308b\u306e\u3067\u3001\u76e4\u9762\u3092\u4f7f\u3063\u305f\u8a08\u7b97\u306e\u968f\u6240\u3092\u30ac\u30e9\u30ea\u3068\u5909\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u4eca\u307e\u3067\u306farray\u3067\u53d7\u3051\u53d6\u3063\u3066\u3044\u305f\u76e4\u9762\u304cint\u306b\u306a\u308a\u307e\u3059\u3002\n\u76e4\u9762\u306e\u6bd4\u8f03\u306fint\u578b\u306e\u6bd4\u8f03\u4e00\u56de\u3067\u6e08\u307f\u307e\u3059\u3002\n\u8272\u3005\u30b3\u30fc\u30c9\u304c\u6539\u5909\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u5168\u30b3\u30fc\u30c9\u306f\u6b21\u3002\n\u5148\u8ff0\u306e\u6642\u9593\u8a08\u6e2c\u6a5f\u80fd\u3064\u304d\u306e\u3082\u306e\u3092\u30d9\u30fc\u30b9\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u76e4\u9762\u8868\u73fe\u3092\u5727\u7e2e\u3057\u30668\u30d1\u30ba\u30eb\u3092\u89e3\u304f\n#include \"winmm.as\"\n\n#module\n// \u76e4\u9762\u306e\u63cf\u753b\n// \u8d77\u70b9X, \u8d77\u70b9Y, \u76e4\u9762\u914d\u5217, \u63cf\u753b\u30b5\u30a4\u30ba\n#deffunc drawBoard int cx, int cy, int board, int size\n    bsz = size*3\n\n    // \u80cc\u666f\uff08\u4e0b\u5730\uff09\u306e\u30af\u30ea\u30a2\n    color 255, 255, 255 : boxf cx, cy, cx+bsz, cy+bsz\n\n    // \u67a0\u7dda\n    color 0, 0, 0\n    repeat 4\n        ofs = cnt*size\n        line cx, cy+ofs, cx+bsz, cy+ofs\n        line cx+ofs, cy, cx+ofs, cy+bsz\n    loop\n    // \u99d2\n    font msgothic, size\n    repeat 9\n        cntXP3S = cx + cnt\\3 * size\n        cntXD3S = cy + cnt/3 * size\n        color 0, 0, 0 : pos cntXP3S+size/4, cntXD3S\n        if ( nth(board, cnt) != 0 ) {// \u7a7a\u767d\u3058\u3083\u306a\u3044\u306a\u3089\n            mes \"\"+nth(board, cnt)\n        }\n    loop\nreturn\n\n// \u76e4\u9762\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u305d\u306e\u99d2\u3092\u8fd4\u3059\n#defcfunc nth int board, int idx\n    if ( idx >= 8 ) {\n        sum = 0\n        repeat 8\n            sum += nth(board, cnt)\n        loop\n        return 36 - sum\n    }\nreturn ( board >> (idx*4) ) & 0x0f\n\n// \u99d2\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u76e4\u9762\u306eint\u8868\u73fe\u3067\u306e\u5024\u3092\u8fd4\u3059\n#defcfunc toNth int value, int idx\n    if ( idx >= 8 ) : return 0\nreturn ( value & 0x0f ) << (idx*4)\n\n// 9\u3064\u306e\u99d2\u3092\u53d7\u3051\u53d6\u3063\u3066\u76e4\u9762\u3092\u8fd4\u3059\n#defcfunc makeBoard int p1, int p2, int p3, int p4, int p5, int p6, int p7, int p8, int p9\nreturn toNth(p1,0)+toNth(p2,1)+toNth(p3,2)+toNth(p4,3)+toNth(p5,4)+toNth(p6,5)+toNth(p7,6)+toNth(p8,7)// p9\u306f\u4f7f\u308f\u306a\u3044\n\n// \u76e4\u9762\u306e\u4e2d\u3067\u7a7a\u767d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\n#defcfunc searchEmpty int board, local res\n    res = -1\n    repeat 9\n        if ( nth(board, cnt) ) : continue\n        res = cnt\n        break\n    loop\nreturn res\n\n// \u76e4\u9762\u306e\u4e2d\u306e2\u3064\u306e\u8981\u7d20\u4f4d\u7f6e\u3092\u4ea4\u63db\u3057\u3001\u305d\u306e\u76e4\u9762\u3092\u8fd4\u3059\n#defcfunc swapPiece int board, int piece1, int piece2, local t\n    n1 = nth(board, piece1) : n2 = nth(board, piece2)\nreturn board - toNth(n1, piece1) - toNth(n2, piece2) + toNth(n1, piece2) + toNth(n2, piece1)\n#global\n\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 181440// 9!/2\ndim storedBoardSteps, 181440// \u4f55\u624b\u76ee\u3067\u8fbf\u308a\u7740\u3044\u305f\u304b\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\npopedBoardNum = 0// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u65e2\u306b\u8abf\u3079\u305f\u304b\uff08\u66f4\u306b\u5217\u6319\u3057\u305f\u304b\uff09\n\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = makeBoard( 0, 1, 2, 3, 4, 5, 6, 7, 8 )\ndrawBoard 10, 10, board, 40\n\nstoredBoards(storedBoardNum) = board\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u521d\u306e\u76e4\u9762\u306f\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nstoredBoardNum++\n\n// \u76ee\u7684\u306e\u76e4\u9762\nobjectiveBoard = makeBoard( 3, 1, 2, 4, 7, 5, 6, 0, 8 )// 3\u624b\n//objectiveBoard = makeBoard( 3, 1, 2, 4, 7, 0, 6, 8, 5 )// 5\u624b\n//objectiveBoard = makeBoard( 0, 1, 5, 3, 2, 8, 6, 4, 7 )// 8\u624b\n//objectiveBoard = makeBoard( 3, 1, 5, 2, 4, 8, 6, 0, 7 )// 11\u624b\n//objectiveBoard = makeBoard( 3, 1, 0, 2, 7, 5, 6, 8, 4 )// 12\u624b\n//objectiveBoard = makeBoard( 3, 0, 1, 2, 7, 5, 6, 8, 4 )// 13\u624b\n//objectiveBoard = makeBoard( 0, 1, 2, 4, 7, 5, 6, 3, 8 )// 14\u624b\n//objectiveBoard = makeBoard( 7, 6, 2, 1, 5, 0, 3, 4, 8 )// 15\u624b\n//objectiveBoard = makeBoard( 4, 2, 8, 1, 0, 5, 6, 7, 3 )// 16\u624b\n//objectiveBoard = makeBoard( 4, 0, 5, 1, 8, 2, 6, 7, 3 )// 17\u624b\ndrawBoard 180, 10, objectiveBoard, 40\n\n// \u958b\u59cb\u6642\u9593\ntimeGetTime : st = stat\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n    // \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n    if ( popedBoardNum >= storedBoardNum ) : break\n\n    // \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n    board = storedBoards(popedBoardnum)\n    boardRequiredStepNum = storedBoardSteps(popedBoardnum)// \u4f55\u624b\u76ee\u3067\u3053\u306e\u76e4\u9762\u306f\u5f97\u3089\u308c\u308b\u304b\n    popedBoardnum++\n\n    // \u76ee\u7684\u306e\u76e4\u9762\u304b\u30c1\u30a7\u30c3\u30af\n    isObjectiveBoard = ( board == objectiveBoard )\n    if ( isObjectiveBoard ) {\n        break\n    }\n\n    // \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\n    emptyIdx = searchEmpty( board )\n\n    // \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\n    emptyX = emptyIdx \\3\n    emptyY = emptyIdx /3\n\n    // \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n    repeat 4\n        // \u5217\u6319\u3059\u308b\u76e4\u9762\n        // \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n        newBoard = board\n        // \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n        dx = 0 : dy = 0 : label=\"\"\n        switch( cnt )\n            case 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n            case 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n            case 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n            case 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n        swend\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n        swapX = emptyX + dx\n        swapY = emptyY + dy\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n            continue\n        }\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n        swapIdx = swapX + swapY *3\n        // \u99d2\u306e\u4ea4\u63db\n        newBoard = swapPiece( newBoard, emptyIdx, swapIdx )\n\n        // \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u304b\u8abf\u3079\u308b\n        isAlreadySearched = 0\n        repeat storedBoardNum\n            peekBoardIdx = cnt\n            isSame = ( storedBoards(peekBoardIdx) == newBoard )\n            if ( isSame ) {\n                isAlreadySearched = 1\n                break\n            }\n        loop\n\n        // \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3060\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\u3067\u6b21\u3078\n        if ( isAlreadySearched ) : continue\n\n        // \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( storedBoardNum < length( storedBoards ) ) {\n            storedBoards(storedBoardNum) = newBoard\n            storedBoardSteps(storedBoardNum) = boardRequiredStepNum+1// \u81ea\u5206\u306e\u76e4\u9762\uff0b\uff11\n            storedBoardNum++\n        }\n    loop\n\n    // \u9069\u5f53\u306bwait\u3092\u3044\u308c\u308b\n    if ( (popedBoardnum\\500) == 0 ) {\n        title \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1a\u3000\"+popedBoardnum\n        await 0\n    }\nloop\n\n// \u304b\u304b\u3063\u305f\u6642\u9593\ntimeGetTime : ed = stat\ndelta = ed -st\n\ncolor 0, 0, 0 : pos 10, 200 : font msgothic, 20\nmes \"\u624b\u6570\u3000\uff1a\u3000\"+boardRequiredStepNum\nmes \"\u304b\u304b\u3063\u305f\u6642\u9593\u3000\uff1d\u3000\"+(delta)+\"\u30df\u30ea\u79d2\"\nmes \"\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(storedBoardNum)\nmes \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(popedBoardnum)\n\n\n\u6642\u9593\u8a08\u6e2c\u7d50\u679c\u306f\u6b21\u3002\n\n\n\n\u624b\u6570\n\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09\n\u53c2\u8003\uff1a\u5143\u306e\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09\n\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\n\u8abf\u3079\u305f\u76e4\u9762\u6570\n\n\n\n\n3\n0\n0\n19\n10\n\n\n5\n1\n2\n63\n38\n\n\n8\n21\n40\n394\n252\n\n\n11\n329\n671\n1737\n1043\n\n\n12\n849\n1744\n2791\n1791\n\n\n13\n2278\n4584\n4613\n2792\n\n\n14\n3571\n7209\n5706\n3575\n\n\n15\n8744\n18602\n8934\n5678\n\n\n16\n29104\n58894\n15887\n10544\n\n\n17\n72138\n144159\n25207\n16317\n\n\n\n\u5927\u4f532\u500d\u304f\u3089\u3044\u65e9\u304f\u306a\u3063\u305f\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3001\u3084\u3063\u3068\u3044\u3066\u306a\u3093\u3067\u3059\u304c\u5fae\u5999\u3067\u3059\u306d\uff1b\uff1b\n\u5727\u7e2e\u3057\u305f\u306e\u3067\u6bd4\u8f03\u3068\u4fdd\u5b58\u306f\u65e9\u304f\u306a\u3063\u305f\u3051\u3069\u3001\u99d2\u306e\u4ea4\u63db\u306a\u3069\u3067\u8a08\u7b97\u304c\u5897\u3048\u305f\u7b87\u6240\u3082\u3042\u3063\u305f\u306e\u3067\u305d\u3053\u307e\u3067\u5287\u7684\u306a\u9ad8\u901f\u5316\u306b\u306f\u81f3\u3089\u306a\u304b\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\u305f\u3060\u3001\u76e4\u9762\u304c\u5b8c\u5168\u306b\u4e00\u3064\u306e\u6570\u5024\u306b\u306a\u3063\u305f\u3053\u3068\u3067\u9069\u7528\u3057\u3084\u3059\u304f\u306a\u3063\u305f\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306f\u591a\u3044\u306e\u3067\u3001\u5b9f\u306f\u601d\u3063\u305f\u4ee5\u4e0a\u306e\u6069\u6075\u304c\u3042\u308b\u3093\u3067\u3059\u3088\u306d\u30b3\u30ec\u3002\n\u4ee5\u964d\u306f\u3053\u306e\u5727\u7e2e\u3057\u305f\u76e4\u9762\u8868\u73fe\u3092\u4f7f\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u91cd\u8907\u76e4\u9762\u30c1\u30a7\u30c3\u30af\u306e\u9ad8\u901f\u5316\n\u3053\u308c\u307e\u3067\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3057\u3066\u307f\u3066\u6c17\u3065\u3044\u305f\u65b9\u304a\u3089\u308c\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u76e4\u9762\u306e\u5217\u6319\u3092\u3057\u3066\u3044\u308b\u3068\u6700\u521d\u306f\u8abf\u67fb\u3057\u305f\u76e4\u9762\u6570\u306f\u304b\u306a\u308a\u65e9\u304f\u5897\u3048\u308b\u306e\u306b\u5bfe\u3057\u3001\u65e2\u306b\u8abf\u67fb\u3057\u305f\u76e4\u9762\u6570\u304c\u591a\u304f\u306a\u308c\u3070\u306a\u308b\u307b\u3069\u8abf\u67fb\u304c\u9045\u304f\u306a\u3063\u3066\u304d\u307e\u3059\u3002\n\u305d\u308c\u3082\u305d\u306e\u306f\u305a\u3001\u65b0\u305f\u306b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\u969b\u305d\u306e\u76e4\u9762\u304c\u904e\u53bb\u306b\u65e2\u306b\u5217\u6319\u3055\u308c\u305f\u304b\u3092\u8abf\u3079\u308b\u306e\u3067\u3001\u5f8c\u306b\u5217\u6319\u3059\u308b\u76e4\u9762\u306e\u65b9\u304c\u7167\u5408\u3059\u308b\u76e4\u9762\u6570\u304c\u591a\u3044\u305f\u3081\u3001\u30c1\u30a7\u30c3\u30af\u306b\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u304d\u3066\u3057\u307e\u3046\u306e\u3067\u3059\u3002\n\u805e\u3044\u305f\u4e8b\u304c\u3042\u308b\u4eba\u5c45\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u5927\u4f53\u30d7\u30ed\u30b0\u30e9\u30e0\u4e2d\u3067\u91cd\u3044\u3068\u3053\u308d\u3063\u3066\u306e\u306f\u30eb\u30fc\u30d7\u306e\u4e2d\u306e\u30eb\u30fc\u30d7\u3067\u3001\u4eca\u56de\u306e\u4f8b\u3067\u8a00\u3046\u3068\u3061\u3087\u3046\u3069\u76e4\u9762\u8abf\u67fb\u306e\u30eb\u30fc\u30d7\u306e\u4e2d\u306e\u3001\u904e\u53bb\u306e\u76e4\u9762\u3068\u306e\u7167\u5408\u30eb\u30fc\u30d7\u3060\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\u3053\u3053\u3092\u4f55\u3068\u304b\u9ad8\u901f\u5316\u3059\u308c\u3070\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u304c\u5897\u3048\u3066\u3082\u5217\u6319\u306e\u901f\u5ea6\u3092\u305d\u3053\u307e\u3067\u4e0b\u304c\u3089\u306a\u304f\u306a\u308a\u3001\u7d50\u679c\u3068\u3057\u3066\u5168\u4f53\u306e\u9ad8\u901f\u5316\u304c\u671b\u3081\u305d\u3046\u3067\u3059\u3002\n\u305d\u3057\u3066\u76e4\u9762\u306e\u91cd\u8907\u30c1\u30a7\u30c3\u30af\u3067\u3059\u304c\u3001\u524d\u7bc0\u306e\u76e4\u9762\u8868\u73fe\u306e\u5727\u7e2e\u306b\u3088\u308a\u76e4\u9762\u304c\u914d\u5217\u3067\u306f\u306a\u304f\u5024\u306b\u306a\u3063\u305f\u305f\u3081\u3001\u8981\u3059\u308b\u306b\u3042\u308b\u5024\u304c\u914d\u5217\u4e2d\u306b\u3042\u308b\u304b\u306a\u3044\u304b\u3092\u9ad8\u901f\u306b\u5224\u5b9a\u3059\u308b\u3053\u3068\u3069\u540c\u3058\u3067\u3059\u3002\n\u3053\u3053\u3067\u201d\u305d\u3046\u3044\u3048\u3070\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b\u2026\u201d\u3063\u3066\u306a\u308b\u4eba\u304c\u4e2d\u7d1a\u8005\u306e\u65b9\u306b\u306f\u591a\u305d\u3046\u3067\u3059\u304c\u3001\u4eca\u56de\u306e\u30b1\u30fc\u30b9\u3067\u306f\u305d\u306e\u3082\u306e\u30ba\u30d0\u30ea\u4e8c\u5206\u63a2\u7d22\u304c\u9069\u7528\u53ef\u80fd\u3067\u3059\u3002\n\u4e8c\u5206\u63a2\u7d22\u3067\u306f\u30bd\u30fc\u30c8\u6e08\u307f\u306e\u914d\u5217\u304c\u5fc5\u8981\u306b\u306a\u3063\u3066\u304f\u308b\u306e\u3067\u3001\u4eca\u56de\u306e8\u30d1\u30ba\u30eb\u306b\u9069\u7528\u3059\u308b\u306b\u5f53\u305f\u3063\u3066\u3001\u76e4\u9762\u4fdd\u5b58\u7528\u306e\u914d\u5217\u306f\u305d\u306e\u307e\u307e\u306b\u3001\u30bd\u30fc\u30c8\u6e08\u307f\u306e\u76e4\u9762\u4fdd\u5b58\u7528\u914d\u5217\u3092\u5225\u306b\u4f5c\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\u3053\u308c\u306f\u76e4\u9762\u91cd\u8907\u30c1\u30a7\u30c3\u30af\u9ad8\u901f\u5316\u306e\u305f\u3081\u3060\u3051\u306e\u3082\u306e\u3067\u3001\u305d\u308c\u3060\u3051\u306e\u305f\u3081\u306b\u30e1\u30e2\u30ea\u3092\u4f7f\u3046\u306e\u3082\u5fcd\u3073\u306a\u3044\u6c17\u3082\u3057\u307e\u3059\u304c\u3001\u4eca\u306f\u9ad8\u901f\u5316\u306e\u305f\u3081\u306b\u5fc3\u3092\u9b3c\u306b\u3057\u307e\u3059\u3002\n\u3055\u3066\u3053\u306e\u76e4\u9762\u91cd\u8907\u30c1\u30a7\u30c3\u30af\u7528\u306e\u914d\u5217\u3067\u3059\u304c\u3001\u5217\u6319\u306e\u5ea6\u306b\u8981\u7d20\u304c\u8ffd\u52a0\u3055\u308c\u308b\u3068\u3044\u3046\u72b6\u6cc1\u306e\u4e2d\u3001\u5e38\u306b\u30bd\u30fc\u30c8\u3055\u308c\u305f\u72b6\u614b\u3092\u7dad\u6301\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u8ffd\u52a0\u3057\u3066\u30bd\u30fc\u30c8\u3001\u3068\u3044\u3046\u624b\u3082\u3042\u308b\u306e\u3067\u3059\u304c\u6d41\u77f3\u306b\u305d\u308c\u306f\u65e9\u304f\u306a\u3089\u306a\u3044\u3068\u601d\u308f\u308c\u308b\u306e\u3067\u3001\u4eca\u56de\u306f\u4e8c\u5206\u633f\u5165\u30bd\u30fc\u30c8\u3068\u3044\u3046\u624b\u6cd5\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u4e8c\u5206\u63a2\u7d22\u3067\u91cd\u8907\u30c1\u30a7\u30c3\u30af\u3057\u3001\u304b\u3064\u305d\u306e\u4f4d\u7f6e\u306b\u633f\u5165\u3092\u884c\u3046\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u306d\u3001\u7121\u99c4\u304c\u306a\u3055\u305d\u3046\u3002\n\n\u4e8c\u5206\u63a2\u7d22\u3092\u4f7f\u3063\u305f\u76e4\u9762\u91cd\u8907\u9ad8\u901f\u5316\n#include \"winmm.as\"\n\n#module\n// \u76e4\u9762\u306e\u63cf\u753b\n// \u8d77\u70b9X, \u8d77\u70b9Y, \u76e4\u9762\u914d\u5217, \u63cf\u753b\u30b5\u30a4\u30ba\n#deffunc drawBoard int cx, int cy, int board, int size\n    bsz = size*3\n\n    // \u80cc\u666f\uff08\u4e0b\u5730\uff09\u306e\u30af\u30ea\u30a2\n    color 255, 255, 255 : boxf cx, cy, cx+bsz, cy+bsz\n\n    // \u67a0\u7dda\n    color 0, 0, 0\n    repeat 4\n        ofs = cnt*size\n        line cx, cy+ofs, cx+bsz, cy+ofs\n        line cx+ofs, cy, cx+ofs, cy+bsz\n    loop\n    // \u99d2\n    font msgothic, size\n    repeat 9\n        cntXP3S = cx + cnt\\3 * size\n        cntXD3S = cy + cnt/3 * size\n        color 0, 0, 0 : pos cntXP3S+size/4, cntXD3S\n        if ( nth(board, cnt) != 0 ) {// \u7a7a\u767d\u3058\u3083\u306a\u3044\u306a\u3089\n            mes \"\"+nth(board, cnt)\n        }\n    loop\nreturn\n\n// \u76e4\u9762\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u305d\u306e\u99d2\u3092\u8fd4\u3059\n#defcfunc nth int board, int idx\n    if ( idx >= 8 ) {\n        sum = 0\n        repeat 8\n            sum += nth(board, cnt)\n        loop\n        return 36 - sum\n    }\nreturn ( board >> (idx*4) ) & 0x0f\n\n// \u99d2\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u76e4\u9762\u306eint\u8868\u73fe\u3067\u306e\u5024\u3092\u8fd4\u3059\n#defcfunc toNth int value, int idx\n    if ( idx >= 8 ) : return 0\nreturn ( value & 0x0f ) << (idx*4)\n\n// 9\u3064\u306e\u99d2\u3092\u53d7\u3051\u53d6\u3063\u3066\u76e4\u9762\u3092\u8fd4\u3059\n#defcfunc makeBoard int p1, int p2, int p3, int p4, int p5, int p6, int p7, int p8, int p9\nreturn toNth(p1,0)+toNth(p2,1)+toNth(p3,2)+toNth(p4,3)+toNth(p5,4)+toNth(p6,5)+toNth(p7,6)+toNth(p8,7)// p9\u306f\u4f7f\u308f\u306a\u3044\n\n// \u76e4\u9762\u306e\u4e2d\u3067\u7a7a\u767d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\n#defcfunc searchEmpty int board, local res\n    res = -1\n    repeat 9\n        if ( nth(board, cnt) ) : continue\n        res = cnt\n        break\n    loop\nreturn res\n\n// \u76e4\u9762\u306e\u4e2d\u306e2\u3064\u306e\u8981\u7d20\u4f4d\u7f6e\u3092\u4ea4\u63db\u3057\u3001\u305d\u306e\u76e4\u9762\u3092\u8fd4\u3059\n#defcfunc swapPiece int board, int piece1, int piece2, local t\n    n1 = nth(board, piece1) : n2 = nth(board, piece2)\nreturn board - toNth(n1, piece1) - toNth(n2, piece2) + toNth(n1, piece2) + toNth(n2, piece1)\n#global\n\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 181440// 9!/2\ndim storedBoardSteps, 181440// \u4f55\u624b\u76ee\u3067\u8fbf\u308a\u7740\u3044\u305f\u304b\ndim sortedBoards, 181440// \u30bd\u30fc\u30c8\u6e08\u307f\u76e4\u9762\u4fdd\u5b58\u914d\u5217\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\npopedBoardNum = 0// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u65e2\u306b\u8abf\u3079\u305f\u304b\uff08\u66f4\u306b\u5217\u6319\u3057\u305f\u304b\uff09\n\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = makeBoard( 0, 1, 2, 3, 4, 5, 6, 7, 8 )\ndrawBoard 10, 10, board, 40\n\nstoredBoards(storedBoardNum) = board\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u521d\u306e\u76e4\u9762\u306f\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nsortedBoards(storedBoardNum) = board\nstoredBoardNum++\n\n// \u76ee\u7684\u306e\u76e4\u9762\nobjectiveBoard = makeBoard( 3, 1, 2, 4, 7, 5, 6, 0, 8 )// 3\u624b\n//objectiveBoard = makeBoard( 3, 1, 2, 4, 7, 0, 6, 8, 5 )// 5\u624b\n//objectiveBoard = makeBoard( 0, 1, 5, 3, 2, 8, 6, 4, 7 )// 8\u624b\n//objectiveBoard = makeBoard( 3, 1, 5, 2, 4, 8, 6, 0, 7 )// 11\u624b\n//objectiveBoard = makeBoard( 3, 1, 0, 2, 7, 5, 6, 8, 4 )// 12\u624b\n//objectiveBoard = makeBoard( 3, 0, 1, 2, 7, 5, 6, 8, 4 )// 13\u624b\n//objectiveBoard = makeBoard( 0, 1, 2, 4, 7, 5, 6, 3, 8 )// 14\u624b\n//objectiveBoard = makeBoard( 7, 6, 2, 1, 5, 0, 3, 4, 8 )// 15\u624b\n//objectiveBoard = makeBoard( 4, 2, 8, 1, 0, 5, 6, 7, 3 )// 16\u624b\n//objectiveBoard = makeBoard( 4, 0, 5, 1, 8, 2, 6, 7, 3 )// 17\u624b\n//objectiveBoard = makeBoard( 1, 8, 5, 2, 6, 4, 3, 7, 0 )// 18\u624b\n//objectiveBoard = makeBoard( 1, 5, 6, 2, 8, 0, 3, 7, 4 )// 19\u624b\n//objectiveBoard = makeBoard( 1, 5, 6, 2, 8, 4, 3, 7, 0 )// 20\u624b\n//objectiveBoard = makeBoard( 2, 1, 5, 3, 4, 6, 8, 0, 7 )// 21\u624b\n//objectiveBoard = makeBoard( 2, 1, 5, 3, 0, 6, 8, 4, 7 )// 22\u624b\n//objectiveBoard = makeBoard( 2, 3, 7, 5, 1, 4, 6, 0, 8 )// 23\u624b\n//objectiveBoard = makeBoard( 8, 4, 1, 5, 7, 6, 0, 3, 2 )// 24\u624b\n//objectiveBoard = makeBoard( 8, 5, 1, 4, 6, 0, 7, 3, 2 )// 25\u624b\n//objectiveBoard = makeBoard( 8, 2, 3, 6, 7, 4, 1, 5, 0 )// 26\u624b\n//objectiveBoard = makeBoard( 0, 5, 3, 6, 1, 7, 2, 8, 4 )// 27\u624b\n//objectiveBoard = makeBoard( 8, 5, 1, 2, 6, 0, 7, 4, 3 )// 28\u624b\n//objectiveBoard = makeBoard( 8, 5, 6, 3, 1, 4, 2, 0, 7 )// 29\u624b\n//objectiveBoard = makeBoard( 6, 7, 8, 3, 1, 4, 2, 5, 0 )// 30\u624b\n//objectiveBoard = makeBoard( 8, 7, 6, 0, 4, 1, 2, 5, 3 )// 31\u624b\uff08\u6700\u5927\uff09\n//objectiveBoard = makeBoard( 8, 0, 6, 5, 4, 7, 2, 3, 1 )// 31\u624b\uff08\u6700\u5927\uff09\ndrawBoard 180, 10, objectiveBoard, 40\n\n// \u958b\u59cb\u6642\u9593\ntimeGetTime : st = stat\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n    // \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n    if ( popedBoardNum >= storedBoardNum ) : break\n\n    // \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n    board = storedBoards(popedBoardnum)\n    boardRequiredStepNum = storedBoardSteps(popedBoardnum)// \u4f55\u624b\u76ee\u3067\u3053\u306e\u76e4\u9762\u306f\u5f97\u3089\u308c\u308b\u304b\n    popedBoardnum++\n\n    // \u76ee\u7684\u306e\u76e4\u9762\u304b\u30c1\u30a7\u30c3\u30af\n    isObjectiveBoard = ( board == objectiveBoard )\n    if ( isObjectiveBoard ) {\n        break\n    }\n\n    // \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\n    emptyIdx = searchEmpty( board )\n\n    // \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\n    emptyX = emptyIdx \\3\n    emptyY = emptyIdx /3\n\n    // \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n    repeat 4\n        // \u5217\u6319\u3059\u308b\u76e4\u9762\n        // \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n        newBoard = board\n        // \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n        dx = 0 : dy = 0 : label=\"\"\n        switch( cnt )\n            case 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n            case 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n            case 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n            case 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n        swend\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n        swapX = emptyX + dx\n        swapY = emptyY + dy\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n            continue\n        }\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n        swapIdx = swapX + swapY *3\n        // \u99d2\u306e\u4ea4\u63db\n        newBoard = swapPiece( newBoard, emptyIdx, swapIdx )\n\n        // \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u304b\u8abf\u3079\u308b\u3001\u4e8c\u5206\u63a2\u7d22\n        searchLeft = 0 : searchRight = storedBoardNum\n        repeat 32// \u3053\u306e\u56de\u6570\u306f\u9069\u5f53\u30012^32\u306e\u6570\uff08uint\u3067\u8868\u73fe\u53ef\u80fd\u306a\u7bc4\u56f2\uff09\u307e\u3067\u5bfe\u5fdc\u53ef\u80fd\u306a\u306e\u3067\u3001\u5927\u4e08\u592b\u306a\u30cf\u30ba\n            if ( searchLeft >= searchRight ) : break\n            peekBoardIdx = (searchLeft + searchRight) /2\n            if ( sortedBoards(peekBoardIdx) <= newBoard ) {\n                searchLeft = peekBoardIdx +1\n            } else {\n                searchRight = peekBoardIdx\n            }\n        loop\n\n        if ( searchLeft <= 0 ) {\n            isAlreadySearched = 0\n        } else {\n            isAlreadySearched = ( sortedBoards(searchLeft -1) == newBoard )\n        }\n\n        // \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3060\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\u3067\u6b21\u3078\n        if ( isAlreadySearched ) : continue\n\n        // \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( storedBoardNum < length( storedBoards ) ) {\n            storedBoards(storedBoardNum) = newBoard\n            storedBoardSteps(storedBoardNum) = boardRequiredStepNum+1// \u81ea\u5206\u306e\u76e4\u9762\uff0b\uff11\n            // \u30bd\u30fc\u30c8\u633f\u5165\u30011\u8981\u7d20\u5f8c\u308d\u306b\u305a\u3089\u3059\n            memcpy sortedBoards, sortedBoards, (storedBoardNum -searchLeft) *4, (searchLeft+1) *4, (searchLeft) *4\n            sortedBoards(searchLeft) = newBoard\n            storedBoardNum++\n        }\n    loop\n\n    // \u9069\u5f53\u306bwait\u3092\u3044\u308c\u308b\n    if ( (popedBoardnum\\500) == 0 ) {\n        title \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1a\u3000\"+popedBoardnum\n        await 0\n    }\nloop\n\n// \u304b\u304b\u3063\u305f\u6642\u9593\ntimeGetTime : ed = stat\ndelta = ed -st\n\ncolor 0, 0, 0 : pos 10, 200 : font msgothic, 20\nmes \"\u624b\u6570\u3000\uff1a\u3000\"+boardRequiredStepNum\nmes \"\u304b\u304b\u3063\u305f\u6642\u9593\u3000\uff1d\u3000\"+(delta)+\"\u30df\u30ea\u79d2\"\nmes \"\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(storedBoardNum)\nmes \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(popedBoardnum)\n\n\n\u305d\u3057\u3066\u7d50\u679c\u3002\n\n\n\n\u624b\u6570\n\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09\n\u53c2\u8003\uff1a\u5143\u306e\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09\n\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\n\u8abf\u3079\u305f\u76e4\u9762\u6570\n\n\n\n\n3\n0\n0\n19\n10\n\n\n5\n1\n2\n63\n38\n\n\n8\n5\n40\n394\n252\n\n\n11\n28\n671\n1737\n1043\n\n\n12\n44\n1744\n2791\n1791\n\n\n13\n69\n4584\n4613\n2792\n\n\n14\n94\n7209\n5706\n3575\n\n\n15\n135\n18602\n8934\n5678\n\n\n16\n289\n58894\n15887\n10544\n\n\n17\n445\n144159\n25207\n16317\n\n\n18\n663\n---\n34494\n23944\n\n\n19\n794\n---\n39933\n28205\n\n\n20\n1210\n---\n57107\n39935\n\n\n21\n2172\n---\n88259\n66076\n\n\n22\n3060\n---\n110116\n88260\n\n\n23\n4261\n---\n138967\n115001\n\n\n24\n4843\n---\n150221\n130921\n\n\n25\n5700\n---\n165778\n150176\n\n\n26\n6138\n---\n171237\n157464\n\n\n27\n6467\n---\n176437\n169824\n\n\n28\n6815\n---\n180451\n176534\n\n\n29\n6924\n---\n181341\n180773\n\n\n30\n6922\n---\n181440\n181333\n\n\n31\n6924\n---\n181440\n181440\n\n\n\n\u5287\u7684\u306b\u65e9\u304f\u306a\u308a\u307e\u3057\u305f\u3001\u3082\u3046\u3053\u308c\u3067\u3044\u3044\u6c17\u304c\u3057\u3066\u304d\u3061\u3083\u3044\u307e\u3059\u306d\u3002\n\u65e9\u304f\u306a\u3063\u305f\u306e\u3067\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u3082\u5897\u3084\u3057\u3066\u304a\u304d\u307e\u3057\u305f\u3001\u3053\u3053\u306b\u8f09\u305b\u305f\u5206\u3067\u6700\u9577\u624b\u6570\u304c\u89e3\u3051\u3066\u304a\u308a\u3001\u3057\u304b\u3082\u307e\u3060\u73fe\u5b9f\u7684\u306a\u6642\u9593\u306b\u53ce\u307e\u3063\u3066\u3044\u307e\u3059\u30023\n\u8868\u3092\u898b\u308b\u3068\u308f\u304b\u308a\u307e\u3059\u304c\u3001\u5f8c\u534a\u306f\u8abf\u67fb\u76e4\u9762\u6570\u304c\u9806\u8abf\u306b\u5897\u3048\u308b\u4e00\u65b9\u3001\u5217\u6319\u76e4\u9762\u6570\u306f\u982d\u6253\u3061\u306b\u8fd1\u3065\u3044\u3066\u3044\u307e\u3059\u3002\n\n\u63a2\u7d22\u306e\u6539\u826f\n\u524d\u7bc0\u307e\u3067\u3067\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u304c\u5897\u3048\u3066\u3082\u305d\u3053\u307e\u3067\u901f\u5ea6\u4f4e\u4e0b\u305b\u305a\u306b\u5217\u6319\u304c\u7d9a\u3051\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u305f\u3060\u3001\u7d50\u679c\u306e\u8868\u3092\u898b\u305f\u3068\u3053\u308d\u3001\u5217\u6319\u76e4\u9762\u6570\u306f\u982d\u6253\u3061\u306b\u307e\u3067\u304d\u3066\u3044\u307e\u3059\u304c\u6700\u5c0f\u624b\u6570\u306e\u5897\u52a0\u306b\u4f34\u3063\u3066\u5217\u6319\u3057\u305f\u76e4\u9762\u53ca\u3073\u8abf\u67fb\u3057\u305f\u76e4\u9762\u304c\u81a8\u5927\u306a\u6570\u306b\u306a\u3063\u3066\u3044\u3063\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\u4e8c\u5206\u63a2\u7d22\u81ea\u4f53\u6570\u306b\u5bfe\u3057\u3066\u304b\u306a\u308a\u5f37\u3044\u624b\u6cd5\u306a\u306e\u3067\u3001\u73fe\u72b6\u3067\u3053\u306e\u51e6\u7406\u901f\u5ea6\u306f\u6700\u65e9\u5217\u6319\u3057\u3066\u308b\u76e4\u9762\u6570\u304c\u591a\u3059\u304e\u308b\u3053\u3068\u304c\u539f\u56e0\u3060\u3068\u8003\u3048\u308b\u306e\u304c\u59a5\u5f53\u3067\u3059\u3002\n\u307e\u3041\u3001\u6700\u5927\u30b1\u30fc\u30b9\u304c$181440$\u500b\u3067\u3001\u305d\u308c\u304c10\u79d2\u3082\u304b\u304b\u3089\u305a\u6c42\u307e\u3063\u3066\u3044\u308b\u306e\u3060\u304b\u3089\u3053\u306e\u307e\u307e\u3067\u3044\u3044\u3058\u3083\u3093\u3001\u3068\u3044\u3046\u6c17\u6301\u3061\u3082\u3042\u308a\u3064\u3064\u3001\u672c\u7bc0\u3067\u306f\u5217\u6319\u3059\u308b\u76e4\u9762\u6570\u3092\u5c11\u306a\u304f\u3059\u308b\u65b9\u6cd5\u3092\u8003\u3048\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u624b\u6570\u306b\u3088\u308b\u76e4\u9762\u6570\u306e\u7206\u767a\n\u65e2\u306b\u4f55\u5ea6\u3082\u8ff0\u3079\u307e\u3057\u305f\u304c\u3001\u4eca\u307e\u3067\u306f\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u30011\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\u3068\u3044\u3046\u65b9\u6cd5\u3067\u76ee\u7684\u306e\u76e4\u9762\u307e\u3067\u8fbf\u308a\u7740\u304f\u304b\u3092\u898b\u3066\u3044\u307e\u3057\u305f\u3002\n\u3053\u306e1\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\u3001\u3067\u3059\u304c\u3001\u3088\u304f\u3088\u304f\u8003\u3048\u308b\u3068\u7279\u5b9a\u306e\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u306f4\u3064\u3001\u305d\u3057\u3066\u305d\u306e\u76e4\u9762\u304b\u3089\u66f4\u306b\u5f97\u3089\u308c\u308b\u76e4\u9762\u306f4\u3064\u306a\u306e\u3067\u5168\u90e8\u306716\u3001\u305d\u3057\u3066\u305d\u306e\u76e4\u9762\u304b\u3089\u5f97\u3089\u308c\u308b\u76e4\u9762\u306f\u2026\u3068\u3001\u7206\u767a\u7684\u306b\u5897\u3048\u3066\u3044\u304f\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\uff08\u5b9f\u969b\u306f\u91cd\u8907\u5206\u3092\u907f\u3051\u308b\u3057\u3001\u5217\u6319\u3067\u304d\u308b\u306e\u306f2\u3060\u3051\u3060\u3063\u305f\u308a\u3068\u304b\u3082\u3042\u308b\u306e\u3067\u3001\u3053\u3093\u306a\u3053\u3068\u306b\u306f\u306a\u3089\u306a\u3044\u3093\u3067\u3059\u304c\uff09\n$N$\u624b\u5148\u306e\u76e4\u9762\u306e\u6570\u306f\u3001\u904e\u5927\u8a55\u4fa1\u3057\u3066\u9ad8\u3005\u898b\u7a4d\u3082\u308b\u3068$4^N$\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u306e\u5217\u6319\u3001\u6700\u5f8c\u306e\u76e4\u9762\u304b\u3089\u306e\u5217\u6319\n\u3067\u3082\u3001\u3053\u306e\u6570\u5b57\u306f$N$\u624b\u5148\u3068\u3001\u624b\u6570\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\n\u306a\u3089\u3070\u3001\u3053\u306e\u624b\u6570\u3092\u5c11\u306a\u304f\u3059\u308c\u3070\u6570\u306f\u6e1b\u308a\u307e\u3059\u3001\u5f53\u305f\u308a\u524d\u3067\u3059\u3088\u306d\uff1f\n\u3053\u3053\u3067\u5049\u3044\u4eba\u306f\u8003\u3048\u307e\u3057\u305f\u3002\n\u6700\u521d\u306e\u76e4\u9762\u3068\u6700\u5f8c\u306e\u76e4\u9762\u304b\u3089\u540c\u6642\u306b\u5217\u6319\u3092\u884c\u3063\u305f\u3089\u3069\u3046\u3060\u308d\u3046\u3002\n\u8fbf\u308a\u7740\u304f\u304b\u3069\u3046\u304b\u306e\u5224\u5b9a\u306f\u3001\u5217\u6319\u3055\u308c\u305f\u76e4\u9762\u304c\u201d\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u201d\u306a\u306e\u304b\u3001\u201d\u6700\u5f8c\u306e\u76e4\u9762\u304b\u3089\u201d\u306a\u306e\u304b\u3092\u899a\u3048\u3066\u304a\u304d\u3001\u305d\u308c\u304c\u7570\u306a\u3063\u305f\u76e4\u9762\u304b\u3089\u3060\u3063\u305f\u3089\u8fbf\u308a\u7740\u304f\u3068\u3059\u308b\u3001\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\u3053\u3046\u3059\u308b\u3068\u3001\u201d\u6700\u521d\u306e\u76e4\u9762\u201d\u304b\u3089\u201d\u6700\u5f8c\u306e\u76e4\u9762\u201d\u307e\u3067\u306e\u6700\u5c0f\u624b\u6570\u304c$N$\u3060\u3063\u305f\u5834\u5408\u3001\u201d\u6700\u521d\u306e\u76e4\u9762\u201d\u304b\u3089\u306e\u5217\u6319\u3068\u201d\u6700\u5f8c\u306e\u76e4\u9762\u201d\u304b\u3089\u306e\u5217\u6319\u304c$N/2$\u624b\u5148\u307e\u3067\u5217\u6319\u3057\u3066\u3057\u307e\u3048\u3070\u5171\u901a\u306e\u76e4\u9762\u304c\u898b\u3064\u304b\u308a\u305d\u3046\u3067\u3059\u3002\n\u3064\u307e\u308a\u3001\u4eca\u307e\u3067\u306f\u201d\u6700\u521d\u306e\u76e4\u9762\u201d\u304b\u3089\u306e\u5217\u6319\u306e\u307f\u3067$4^N$\u5fc5\u8981\u3060\u3063\u305f\u306e\u304c\u3001\u201d\u6700\u521d\u306e\u76e4\u9762\u201d\u3068\u201d\u6700\u5f8c\u306e\u76e4\u9762\u201d\u304b\u3089\u306e$N/2$\u624b\u5148\u306a\u306e\u3067$2*4^{N/2}$\u3067\u6e08\u3080\u3053\u3068\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\u5049\u3044\u4eba\u3001\u30b9\u30b4\u30a4\u3002\n\n\u56f3\u3067\u63cf\u304f\u3068\n\u3053\u3046\u3067\u306f\u306a\u304f\n\n\u3053\u3046\u3058\u3083\n\n\n\u30b3\u30fc\u30c9\u306b\u843d\u3068\u3059\n\u65b9\u91dd\u306f\u6c7a\u307e\u3063\u305f\u306e\u3067\u5f8c\u306f\u3084\u308b\u3060\u3051\u306a\u3093\u3067\u3059\u304c\u3001HSP\u4e2d\u7d1a\u8005\u306e\u65b9\u306f\u3082\u3046\u3069\u3046\u3044\u3046\u30b3\u30fc\u30c9\u66f8\u304f\u3079\u304d\u304b\u898b\u3048\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u8aac\u660e\u306f\u7aef\u6298\u307e\u3059\u3002\n\u3044\u304f\u3064\u304b\u3084\u308a\u65b9\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u500b\u4eba\u3067\u89e3\u3051\u3066\u3044\u308b\u306a\u3089\u3082\u3046\u305d\u308c\u3067\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u30024\n\u79c1\u306f\u3001\u201d\u76e4\u9762\u304c\u6700\u521d\u306e\u76e4\u9762\u3068\u6700\u5f8c\u306e\u76e4\u9762\u3069\u3061\u3089\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u304b\u201d\u306e\u914d\u5217\u3068\u3001\u201d\u30bd\u30fc\u30c8\u6e08\u307f\u76e4\u9762\u914d\u5217\u306e\u8981\u7d20\u304b\u3089\u3001\u5143\u306e\u76e4\u9762\u4fdd\u5b58\u7528\u306e\u914d\u5217\u3067\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4fdd\u6301\u3059\u308b\u201d\u914d\u5217\u306e2\u3064\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\u3053\u306e\u53cc\u65b9\u5411\u63a2\u7d22\u306e\u5b9f\u88c5\u3001\u5fae\u5999\u306b\u96e3\u6613\u5ea6\u9ad8\u304b\u3063\u305f\u306e\u3067\u8155\u306b\u899a\u3048\u304c\u3042\u308b\u4eba\u306b\u306f\u30aa\u30b9\u30b9\u30e1\uff01\uff01\n\n\u53cc\u65b9\u5411\u63a2\u7d22\u3068\u4e8c\u5206\u63a2\u7d22\u91cd\u8907\u30c1\u30a7\u30c3\u30af\u306e\u9ad8\u901f\u5316\u3092\u65bd\u3057\u305f8\u30d1\u30ba\u30eb\u89e3\u304f\u541b\n#include \"winmm.as\"\n\n#module\n// \u76e4\u9762\u306e\u63cf\u753b\n// \u8d77\u70b9X, \u8d77\u70b9Y, \u76e4\u9762\u914d\u5217, \u63cf\u753b\u30b5\u30a4\u30ba\n#deffunc drawBoard int cx, int cy, int board, int size\n    bsz = size*3\n\n    // \u80cc\u666f\uff08\u4e0b\u5730\uff09\u306e\u30af\u30ea\u30a2\n    color 255, 255, 255 : boxf cx, cy, cx+bsz, cy+bsz\n\n    // \u67a0\u7dda\n    color 0, 0, 0\n    repeat 4\n        ofs = cnt*size\n        line cx, cy+ofs, cx+bsz, cy+ofs\n        line cx+ofs, cy, cx+ofs, cy+bsz\n    loop\n    // \u99d2\n    font msgothic, size\n    repeat 9\n        cntXP3S = cx + cnt\\3 * size\n        cntXD3S = cy + cnt/3 * size\n        color 0, 0, 0 : pos cntXP3S+size/4, cntXD3S\n        if ( nth(board, cnt) != 0 ) {// \u7a7a\u767d\u3058\u3083\u306a\u3044\u306a\u3089\n            mes \"\"+nth(board, cnt)\n        }\n    loop\nreturn\n\n// \u76e4\u9762\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u305d\u306e\u99d2\u3092\u8fd4\u3059\n#defcfunc nth int board, int idx\n    if ( idx >= 8 ) {\n        sum = 0\n        repeat 8\n            sum += nth(board, cnt)\n        loop\n        return 36 - sum\n    }\nreturn ( board >> (idx*4) ) & 0x0f\n\n// \u99d2\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u76e4\u9762\u306eint\u8868\u73fe\u3067\u306e\u5024\u3092\u8fd4\u3059\n#defcfunc toNth int value, int idx\n    if ( idx >= 8 ) : return 0\nreturn ( value & 0x0f ) << (idx*4)\n\n// 9\u3064\u306e\u99d2\u3092\u53d7\u3051\u53d6\u3063\u3066\u76e4\u9762\u3092\u8fd4\u3059\n#defcfunc makeBoard int p1, int p2, int p3, int p4, int p5, int p6, int p7, int p8, int p9\nreturn toNth(p1,0)+toNth(p2,1)+toNth(p3,2)+toNth(p4,3)+toNth(p5,4)+toNth(p6,5)+toNth(p7,6)+toNth(p8,7)// p9\u306f\u4f7f\u308f\u306a\u3044\n\n// \u76e4\u9762\u306e\u4e2d\u3067\u7a7a\u767d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\n#defcfunc searchEmpty int board, local res\n    res = -1\n    repeat 9\n        if ( nth(board, cnt) ) : continue\n        res = cnt\n        break\n    loop\nreturn res\n\n// \u76e4\u9762\u306e\u4e2d\u306e2\u3064\u306e\u8981\u7d20\u4f4d\u7f6e\u3092\u4ea4\u63db\u3057\u3001\u305d\u306e\u76e4\u9762\u3092\u8fd4\u3059\n#defcfunc swapPiece int board, int piece1, int piece2, local t\n    n1 = nth(board, piece1) : n2 = nth(board, piece2)\nreturn board - toNth(n1, piece1) - toNth(n2, piece2) + toNth(n1, piece2) + toNth(n2, piece1)\n#global\n\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 181440// 9!/2\ndim storedBoardSteps, 181440// \u4f55\u624b\u76ee\u3067\u8fbf\u308a\u7740\u3044\u305f\u304b\ndim storedBoardFrom, 181440// \u6700\u5f8c\u306e\u76e4\u9762\u304b\u3089\u751f\u6210\u3055\u308c\u305f\u30891\u3001\u305d\u3046\u3067\u306a\u3044\u306a\u30890\ndim sortedBoards, 181440// \u30bd\u30fc\u30c8\u6e08\u307f\u76e4\u9762\u4fdd\u5b58\u914d\u5217\ndim sortedBoardIdx, 181440// \u30bd\u30fc\u30c8\u6e08\u307f\u3001storedBoards\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4fdd\u6301\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\npopedBoardNum = 0// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u65e2\u306b\u8abf\u3079\u305f\u304b\uff08\u66f4\u306b\u5217\u6319\u3057\u305f\u304b\uff09\n\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = makeBoard( 0, 1, 2, 3, 4, 5, 6, 7, 8 )\ndrawBoard 10, 10, board, 40\n\nstoredBoards(storedBoardNum) = board\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u521d\u306e\u76e4\u9762\u306f\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nstoredBoardFrom(storedBoardNum) = 0\nsortedBoards(storedBoardNum) = board\nsortedBoardIdx(storedBoardNum) = storedBoardNum\nstoredBoardNum++\n\n// \u76ee\u7684\u306e\u76e4\u9762\u3082\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nobjectiveBoard = makeBoard( 3, 1, 2, 4, 7, 5, 6, 0, 8 )// 3\u624b\n//objectiveBoard = makeBoard( 3, 1, 2, 4, 7, 0, 6, 8, 5 )// 5\u624b\n//objectiveBoard = makeBoard( 0, 1, 5, 3, 2, 8, 6, 4, 7 )// 8\u624b\n//objectiveBoard = makeBoard( 3, 1, 5, 2, 4, 8, 6, 0, 7 )// 11\u624b\n//objectiveBoard = makeBoard( 3, 1, 0, 2, 7, 5, 6, 8, 4 )// 12\u624b\n//objectiveBoard = makeBoard( 3, 0, 1, 2, 7, 5, 6, 8, 4 )// 13\u624b\n//objectiveBoard = makeBoard( 0, 1, 2, 4, 7, 5, 6, 3, 8 )// 14\u624b\n//objectiveBoard = makeBoard( 7, 6, 2, 1, 5, 0, 3, 4, 8 )// 15\u624b\n//objectiveBoard = makeBoard( 4, 2, 8, 1, 0, 5, 6, 7, 3 )// 16\u624b\n//objectiveBoard = makeBoard( 4, 0, 5, 1, 8, 2, 6, 7, 3 )// 17\u624b\n//objectiveBoard = makeBoard( 1, 8, 5, 2, 6, 4, 3, 7, 0 )// 18\u624b\n//objectiveBoard = makeBoard( 1, 5, 6, 2, 8, 0, 3, 7, 4 )// 19\u624b\n//objectiveBoard = makeBoard( 1, 5, 6, 2, 8, 4, 3, 7, 0 )// 20\u624b\n//objectiveBoard = makeBoard( 2, 1, 5, 3, 4, 6, 8, 0, 7 )// 21\u624b\n//objectiveBoard = makeBoard( 2, 1, 5, 3, 0, 6, 8, 4, 7 )// 22\u624b\n//objectiveBoard = makeBoard( 2, 3, 7, 5, 1, 4, 6, 0, 8 )// 23\u624b\n//objectiveBoard = makeBoard( 8, 4, 1, 5, 7, 6, 0, 3, 2 )// 24\u624b\n//objectiveBoard = makeBoard( 8, 5, 1, 4, 6, 0, 7, 3, 2 )// 25\u624b\n//objectiveBoard = makeBoard( 8, 2, 3, 6, 7, 4, 1, 5, 0 )// 26\u624b\n//objectiveBoard = makeBoard( 0, 5, 3, 6, 1, 7, 2, 8, 4 )// 27\u624b\n//objectiveBoard = makeBoard( 8, 5, 1, 2, 6, 0, 7, 4, 3 )// 28\u624b\n//objectiveBoard = makeBoard( 8, 5, 6, 3, 1, 4, 2, 0, 7 )// 29\u624b\n//objectiveBoard = makeBoard( 6, 7, 8, 3, 1, 4, 2, 5, 0 )// 30\u624b\n//objectiveBoard = makeBoard( 8, 7, 6, 0, 4, 1, 2, 5, 3 )// 31\u624b\uff08\u6700\u5927\uff09\n//objectiveBoard = makeBoard( 8, 0, 6, 5, 4, 7, 2, 3, 1 )// 31\u624b\uff08\u6700\u5927\uff09\ndrawBoard 180, 10, objectiveBoard, 40\n\nstoredBoards(storedBoardNum) = objectiveBoard\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u5f8c\u306e\u76e4\u9762\u3082\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nstoredBoardFrom(storedBoardNum) = 1\nif ( board < objectiveBoard ) {\n    sortedBoards(storedBoardNum) = objectiveBoard\n    sortedBoardIdx(storedBoardNum) = storedBoardNum\n} else {\n    sortedBoards(storedBoardNum -1) = objectiveBoard\n    sortedBoards(storedBoardNum) = board\n    sortedBoardIdx(storedBoardNum -1) = storedBoardNum\n    sortedBoardIdx(storedBoardNum) = storedBoardNum -1\n}\nstoredBoardNum++\n\n// \u958b\u59cb\u6642\u9593\ntimeGetTime : st = stat\n\n// \u6700\u5c0f\u624b\u6570\nminStepNum = -1\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n    // \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n    if ( popedBoardNum >= storedBoardNum ) : break\n\n    // \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n    board = storedBoards(popedBoardNum)\n    boardRequiredStepNum = storedBoardSteps(popedBoardNum)// \u4f55\u624b\u76ee\u3067\u3053\u306e\u76e4\u9762\u306f\u5f97\u3089\u308c\u308b\u304b\n    isBoardFromObjective = storedBoardFrom(popedBoardNum)\n    popedBoardNum++\n\n    // \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\n    emptyIdx = searchEmpty( board )\n\n    // \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\n    emptyX = emptyIdx \\3\n    emptyY = emptyIdx /3\n\n    // \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n    repeat 4\n        // \u5217\u6319\u3059\u308b\u76e4\u9762\n        // \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n        newBoard = board\n        // \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n        dx = 0 : dy = 0 : label=\"\"\n        switch( cnt )\n            case 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n            case 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n            case 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n            case 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n        swend\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n        swapX = emptyX + dx\n        swapY = emptyY + dy\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n            continue\n        }\n        // \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n        swapIdx = swapX + swapY *3\n        // \u99d2\u306e\u4ea4\u63db\n        newBoard = swapPiece( newBoard, emptyIdx, swapIdx )\n\n        // \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u304b\u8abf\u3079\u308b\u3001\u4e8c\u5206\u63a2\u7d22\n        searchLeft = 0 : searchRight = storedBoardNum\n        repeat 32// \u3053\u306e\u56de\u6570\u306f\u9069\u5f53\u30012^32\u306e\u6570\uff08uint\u3067\u8868\u73fe\u53ef\u80fd\u306a\u7bc4\u56f2\uff09\u307e\u3067\u5bfe\u5fdc\u53ef\u80fd\u306a\u306e\u3067\u3001\u5927\u4e08\u592b\u306a\u30cf\u30ba\n            if ( searchLeft >= searchRight ) : break\n            peekBoardIdx = (searchLeft + searchRight) /2\n            if ( sortedBoards(peekBoardIdx) <= newBoard ) {\n                searchLeft = peekBoardIdx +1\n            } else {\n                searchRight = peekBoardIdx\n            }\n        loop\n\n        if ( searchLeft <= 0 ) {\n            isAlreadySearched = 0\n        } else {\n            isAlreadySearched = ( sortedBoards(searchLeft -1) == newBoard )\n        }\n\n        // \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3060\u3063\u305f\u3089\n        if ( isAlreadySearched ) {\n            pastBoardIdx = sortedBoardIdx(searchLeft -1)\n            if ( isBoardFromObjective != storedBoardFrom(pastBoardIdx) ) {\n                // \u898b\u3064\u304b\u3063\u305f\u76e4\u9762\u306e\u51fa\u81ea\u304c\u9055\u3046\u306a\u3089\u3001\u5171\u901a\u76e4\u9762\u304c\u898b\u3064\u304b\u3063\u305f\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3053\u3053\u3067\u63a2\u7d22\u7d42\u4e86\n                minStepNum = boardRequiredStepNum + storedBoardSteps(pastBoardIdx) +1\n                break\n            }\n\n            // \u4f55\u3082\u3057\u306a\u3044\u3067\u6b21\u3078\n            continue\n        }\n\n        // \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n        if ( storedBoardNum < length( storedBoards ) ) {\n            storedBoards(storedBoardNum) = newBoard\n            storedBoardSteps(storedBoardNum) = boardRequiredStepNum+1// \u81ea\u5206\u306e\u76e4\u9762\uff0b\uff11\n            storedBoardFrom(storedBoardNum) = isBoardFromObjective// \u51fa\u81ea\u306f\u4e00\u7dd2\n            // \u30bd\u30fc\u30c8\u633f\u5165\u30011\u8981\u7d20\u5f8c\u308d\u306b\u305a\u3089\u3059\n            memcpy sortedBoards, sortedBoards, (storedBoardNum -searchLeft) *4, (searchLeft+1) *4, (searchLeft) *4\n            sortedBoards(searchLeft) = newBoard\n            memcpy sortedBoardIdx, sortedBoardIdx, (storedBoardNum -searchLeft) *4, (searchLeft+1) *4, (searchLeft) *4\n            sortedBoardIdx(searchLeft) = storedBoardNum\n            storedBoardNum++\n        }\n    loop\n\n    // \u3082\u3046\u898b\u3064\u304b\u3063\u305f\n    if ( minStepNum >= 0 ) : break\n\n    // \u9069\u5f53\u306bwait\u3092\u3044\u308c\u308b\n    if ( (popedBoardnum\\500) == 0 ) {\n        title \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1a\u3000\"+popedBoardnum\n        await 0\n    }\nloop\n\n// \u304b\u304b\u3063\u305f\u6642\u9593\ntimeGetTime : ed = stat\ndelta = ed -st\n\ncolor 0, 0, 0 : pos 10, 200 : font msgothic, 20\nmes \"\u624b\u6570\u3000\uff1a\u3000\"+minStepNum\nmes \"\u304b\u304b\u3063\u305f\u6642\u9593\u3000\uff1d\u3000\"+(delta)+\"\u30df\u30ea\u79d2\"\nmes \"\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(storedBoardNum)\nmes \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(popedBoardnum)\n\n\n\u305d\u3057\u3066\u7d50\u679c\u3002\n\n\n\n\u624b\u6570\n\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09\n\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\n\u8abf\u3079\u305f\u76e4\u9762\u6570\n\u53c2\u8003\uff1a\u5143\u306e\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09\n\u53c2\u8003\uff1a\u5143\u306e\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\n\u53c2\u8003\uff1a\u5143\u306e\u8abf\u3079\u305f\u76e4\u9762\u6570\n\n\n\n\n3\n0\n8\n3\n0\n19\n10\n\n\n5\n0\n18\n9\n2\n63\n38\n\n\n8\n1\n54\n27\n40\n394\n252\n\n\n11\n1\n143\n81\n671\n1737\n1043\n\n\n12\n2\n145\n85\n1744\n2791\n1791\n\n\n13\n3\n250\n147\n4584\n4613\n2792\n\n\n14\n3\n279\n165\n7209\n5706\n3575\n\n\n15\n4\n376\n215\n18602\n8934\n5678\n\n\n16\n6\n549\n323\n58894\n15887\n10544\n\n\n17\n9\n678\n430\n144159\n25207\n16317\n\n\n18\n10\n774\n489\n---\n34494\n23944\n\n\n19\n18\n943\n577\n---\n39933\n28205\n\n\n20\n21\n1265\n763\n---\n57107\n39935\n\n\n21\n29\n1711\n1083\n---\n88259\n66076\n\n\n22\n35\n2252\n1419\n---\n110116\n88260\n\n\n23\n46\n3085\n1843\n---\n138967\n115001\n\n\n24\n54\n3490\n2094\n---\n150221\n130921\n\n\n25\n68\n4361\n2752\n---\n165778\n150176\n\n\n26\n85\n5345\n3398\n---\n171237\n157464\n\n\n27\n78\n4864\n3048\n---\n176437\n169824\n\n\n28\n129\n8130\n4893\n---\n180451\n176534\n\n\n29\n172\n10137\n6391\n---\n181341\n180773\n\n\n30\n221\n12107\n7689\n---\n181440\n181333\n\n\n31\n274\n15880\n10021\n---\n181440\n181440\n\n\n\n\u307e\u305f\u5287\u7684\u306b\u65e9\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u3068\u3001\u8abf\u67fb\u3057\u305f\u76e4\u9762\u6570\u304c\u305d\u3082\u305d\u3082\u304b\u306a\u308a\u5c11\u306a\u304f\u306a\u3063\u3066\u3044\u308b\u306e\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u306d\u3001\u72d9\u3044\u901a\u308a\u3067\u3059\u3002\n\u3053\u308c\u3067\u3082\u3046\u201d8\u30d1\u30ba\u30eb\u89e3\u3044\u3066\u3001\u3061\u3087\u3063\u3071\u3084\u3067\uff01\u201d\u3068\u304b\u8a00\u308f\u308c\u3066\u3082\u4f55\u3068\u304b\u306a\u308a\u305d\u3046\u3067\u3059\u306d\u30025\n\n\u304a\u308f\u308a\u306b\n\u4ee5\u4e0a\u3001HSP\u30678\u30d1\u30ba\u30eb\u3092\u984c\u6750\u306b\u3057\u305f\uff08\u4e3b\u306b\u5e45\u512a\u5148\uff09\u63a2\u7d22\u306e\u8a71\u3067\u3057\u305f\u3002\nAdventCalendar\u3067\u3059\u304c\u8efd\u3044\u304a\u83d3\u5b50\u3070\u3063\u304b\u308a\u3067\u306f\u306a\u304f\u3001\u305f\u307e\u306b\u306f\u6d88\u5316\u306b\u6642\u9593\u304c\u304b\u304b\u308b\u304a\u83d3\u5b50\u3067\u3082\u826f\u3044\u306e\u3067\u306f\u3068\u601d\u3063\u3066\u6295\u7a3f\u3057\u307e\u3057\u305f\u3001\u8aad\u307f\u5207\u3063\u305f\u65b9\u3044\u3089\u3063\u3057\u3083\u3063\u305f\u3089\u304a\u75b2\u308c\u69d8\u3067\u3059\u3002\n\u3053\u306e\u624b\u306e\u30a2\u30eb\u30b4\u30ea\u304c\u4f7f\u3048\u308b\u3068\u306a\u3093\u3084\u304b\u3093\u3084\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308b\u8a33\u3067\u3059\u304c\u3001\u79c1\u306e\u7d4c\u9a13\u5247\u3060\u3068HSP\u89e6\u3063\u3066\u308b\u6642\u3063\u3066\u5b9f\u969b\u3053\u3046\u3044\u3046\u306a\u3093\u3084\u304b\u3093\u3084\u3063\u3066\u5fc5\u8981\u306a\u30b1\u30fc\u30b9\u5c11\u306a\u3044\u6c17\u304c\u3059\u308b\u3093\u3067\u3059\u3088\u306d\u3002\n\u2026\u79c1\u304c\u305d\u3046\u3044\u3046\u306e\u3092\u3042\u3093\u307e\u308a\u4f5c\u3063\u3066\u306a\u304b\u3063\u305f\u3060\u3051\u304b\u3082\u3002\n\u305d\u308c\u3067\u3082\u3001\u3053\u3046\u3044\u3063\u305f\u8a71\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u66f8\u3044\u3066\u308b\u9650\u308a\u306f\u3069\u3053\u304b\u3067\u4ed8\u304d\u307e\u3068\u308f\u308c\u308b\u8a71\u306a\u306e\u3067\u3001\u305d\u3046\u3044\u3063\u305f\u4eba\u306e\u52a9\u3051\u306b\u3067\u3082\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n\u306a\u3093\u3084\u304b\u3093\u3084\u88dc\u8db3\u3068\u304b\n\u4eca\u56de\u8a66\u3057\u3066\u306a\u3044\u3051\u3069\u4ed6\u306e\u30c8\u30d4\u30c3\u30af\u3068\u3057\u3066\u306fA*\uff08\u3068\u304b\u53cc\u65b9\u5411A*\uff09\u3068\u304b\u3001\u305d\u3082\u305d\u3082\u5e45\u512a\u5148\u3058\u3083\u306a\u304f\u3066\u6df1\u3055\u512a\u5148\u63a2\u7d22\uff08\uff0b\u53cd\u5fa9\u6df1\u5316\uff09\u3068\u304b\u3001\u679d\u5208\u308a\u3061\u3083\u3093\u3068\u3057\u3088\u3046\u306d\u3068\u304b\u3001\u4e8c\u5206\u63a2\u7d22\u3058\u3083\u306a\u304f\u3066N\u5206\u6728\uff08\u99d2\u306e\u7a2e\u985e\u304c9\u7a2e\u985e\u306a\u306e\u3067\u30019\u5206\u6728\uff09\u4f7f\u3063\u305f\u65b9\u304c$O(log_9 N)$\u307e\u3067\u843d\u3068\u305b\u308b\u3068\u304b\u3001\u8272\u3005\u3042\u308a\u307e\u3059\u30026\n\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u8a71\u306e\u5916\u3082\u898b\u308c\u3070\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u3068\u304b\u3082\u898b\u3048\u3066\u304d\u307e\u3059\u306d\u3002\n\u305d\u3057\u3066\u76e4\u9762\u306e\u5727\u7e2e\u3060\u3068\u4eca\u56de\u306f4\u30d3\u30c3\u30c8\u5358\u4f4d\u306b\u8a70\u3081\u8fbc\u3093\u3060\u3051\u3069\u3001\u3088\u304f\u3088\u304f\u8003\u3048\u305f\u30899\u9032\u6cd5\u4f7f\u3046\u3068\u304b\u3001\u6700\u5c0f\u5b8c\u5168\u30cf\u30c3\u30b7\u30e5\u4f7f\u3063\u3066\u3082\u3088\u304b\u3063\u305f\u3093\u3058\u3083\u306a\u3044\u304b\u3001\u3068\u632f\u308a\u8fd4\u3063\u3066\u601d\u3044\u307e\u3057\u305f\u3001\u66f8\u3044\u3066\u308b\u6642\u306f\u6848\u5916\u6c17\u4ed8\u304b\u306a\u3044\u3093\u3060\u3088\u306d\u3002\n\u305d\u3046\u3044\u3046\u306e\u7a81\u3063\u8fbc\u307f\u59cb\u3081\u308b\u3068\u3053\u306e\u8a18\u4e8b\u304c\u3069\u3053\u306b\u5411\u304b\u3063\u3066\u3044\u308b\u306e\u304b\u5206\u304b\u3089\u306a\u304f\u306a\u308b\u306e\u3067\u3084\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u305d\u308c\u3089\u306e\u8a71\u81ea\u4f53\u306f\u96e3\u3057\u304f\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u3053\u3093\u306a\u8a18\u4e8b\u3060\u3051\u3058\u3083\u6e80\u8db3\u3067\u304d\u306a\u3044\uff01\u3068\u304b\u305d\u3046\u3044\u3046\u306e\u304c\u3084\u308a\u305f\u304b\u3063\u305f\u3093\u3060\u3088\u4ffa\u306f\uff01\u3068\u3044\u3046\u731b\u8005\u306e\u65b9\u306f\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u3066\u307f\u308b\u3068\u9762\u767d\u3044\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\u78ba\u304bA*\u306f\u65e2\u306b\u624b\u57a2\u3064\u3044\u3066\u305f\u8a18\u61b6\u3042\u308b\u306e\u3067\u3001\u4e9c\u7a2e\u306e\u53cc\u65b9\u5411A*\u3068\u304bHSP\u3067\u306f\u672a\u8e0f\u306e\u5730\u3060\u304b\u3089\u8ab0\u304b\u305d\u3046\u3044\u3046\u306e\u3092\uff01\uff08\u7121\u8336\u632f\u308a\uff09\n\u305d\u308c\u3067\u306f\uff01\n\n\n\n\n\u8aad\u3093\u3067\u308b\u65b9\u3082\u5927\u5909\u306a\u3093\u3067\u3057\u3087\u3046\u304c\u3001\u66f8\u3044\u3066\u308b\u65b9\u3063\u3066\u57fa\u672c\u601d\u308f\u308c\u3066\u3044\u308b\u4ee5\u4e0a\u306b\u5927\u5909\u306a\u306e\u3088\u306d\u3001\u305d\u308c\u304c\u4e16\u306e\u5e38\u3002\u00a0\u21a9\n\n\n\u3061\u306a\u307f\u306b\u3053\u3053\u307e\u3067\u66f8\u304f\u306e\u306b\u7b46\u8005\u304c\u304b\u304b\u3063\u305f\u6642\u9593\u304a\u3088\u305d6\u6642\u9593\u3001\u7b46\u8005\u304c\u30d2\u30fc\u30d2\u30fc\u8a00\u3044\u59cb\u3081\u308b\u6642\u9593\u3002\u00a0\u21a9\n\n\n\u3061\u306a\u307f\u306b\u3061\u306a\u307f\u306b\u3053\u3053\u307e\u3067\u66f8\u304f\u306e\u306b\u7b46\u8005\u304c\u304b\u304b\u3063\u305f\u6642\u9593\u304a\u3088\u305d10\u6642\u9593\u3001\u7b46\u8005\u304c\u30cf\u30d2\u30fc\u30cf\u30d2\u30fc\u8a00\u3063\u3066\u308b\u6642\u9593\u3002\u3053\u308c\u3050\u3089\u3044\u6642\u9593\u304b\u3051\u305f\u308931\u624b\u3082\u89e3\u3051\u3066\u308b\u306e\u304b\u306a\u2026\u3002\u00a0\u21a9\n\n\n\u3061\u306a\u307f\u306b\u3061\u306a\u307f\u306b\u3061\u306a\u307f\u306b\u3053\u3053\u307e\u3067\u66f8\u304f\u306e\u306b\u7b46\u8005\u304c\u304b\u304b\u3063\u305f\u6642\u9593\u304a\u3088\u305d13\u6642\u9593\u3001\u7b46\u8005\u306e\u30c6\u30f3\u30b7\u30e7\u30f3\u304c\u4e0b\u304c\u3063\u3066\u6295\u3052\u3084\u308a\u306b\u306a\u3063\u3066\u304d\u3066\u3044\u308b\u9803\u3002\u00a0\u21a9\n\n\n\u3061\u306a\u307f\u306b\u3061\u306a\u307f\u306b\u3061\u306a\u307f\u306b\u3061\u306a\u307f\u306b\u306a\u3093\u3067\u3059\u304c\u3001\u3053\u3053\u307e\u3067\u66f8\u304f\u306e\u306b\u7b46\u8005\u304c\u304b\u304b\u3063\u305f\u6642\u9593\u304a\u3088\u305d15\u6642\u9593\u3001\u304b\u306a\u308a\u75b2\u308c\u305f\u3002\u00a0\u21a9\n\n\nA*\u3082\u76e4\u9762\u306e\u5217\u6319\u6570\u3092\u6291\u3048\u308b\u65b9\u5411\u306e\u624b\u6cd5\u306a\u306e\u3067\u3001\u5b9f\u306f\u53cc\u65b9\u5411\u63a2\u7d22\u3068\u540c\u3058\u3088\u3046\u306a\u52b9\u679c\u306a\u6c17\u304c\u3057\u3066\u307e\u3059\u3002\u4f7f\u7528\u3059\u308b\u30d2\u30e5\u30fc\u30ea\u30b9\u30c6\u30a3\u30c3\u30af\u306b\u3088\u3063\u3066\u7d50\u679c\u306f\u5909\u308f\u308b\u3060\u308d\u3046\u3051\u3069\u3001\u57fa\u672c\u7684\u306bA*\u306e\u304c\u8ce2\u3044\u306e\u3067\u3088\u308a\u826f\u3044\u7d50\u679c\u304c\u3067\u308b\u3067\u3057\u3087\u3046\u306d\u3002\u3067\u3082A*\u3001\u30d7\u30e9\u30a4\u30aa\u30ea\u30c6\u30a3\u30fc\u30ad\u30e5\u30fc\u304c\u5fc5\u8981\u306a\u6c17\u304c\u3057\u3066\u3001HSP\u3067\u306e\u5b9f\u88c5\u306f\u304b\u306a\u308a\u91cd\u3081\u3060\u3088\u306a\u2026\u3002\u00a0\u21a9\n\n\n\n\uff9c\uff80\uff7c\uff93\u30fb\u30fb\u732b\uff76\uff9c\uff72\uff72\u30fb\u30fb\uff7c\uff80\uff72\u30fb\u30fb\u3002\n\u3053\u3093\u3070\u3093\u306f\u3001\u3048\u304f\uff0d\u3067\u3059\u3002\n\n## \u3053\u306e\u8a18\u4e8b\u306f\n\nHSP\u306eAdventCalendar\u3001\u7565\u3055\u305a\u8a00\u3046\u3068 [Hot Soup Processor Advent Calendar 2016](http://qiita.com/advent-calendar/2016/hsp) \u306e5\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n### \u3053\u306e\u8a18\u4e8b\u3067\u66f8\u304f\u3053\u3068\n\n\u4eca\u5e74\u521d\u3081\u3001HSP\u63b2\u793a\u677f\u306e[\u201dHSP\u3067\u306e\u3001\u5e45\u512a\u5148\u63a2\u7d22\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4f5c\u308a\u65b9\u201d](http://hsp.tv/play/pforum.php?mode=pastwch&num=74155)\u3063\u3066\u3044\u3046\u30b9\u30ec\u30c3\u30c9\u304c\u3042\u308a\u307e\u3057\u305f\u3002\nHSP\u63b2\u793a\u677f\u3067\u6642\u3005\u305f\u307e\u305f\u307e\u7a00\u306b\u51fa\u73fe\u3059\u308b\u30a2\u30eb\u30b4\u30ea\u7cfb\u306e\u8a71\u984c\u3067\u3059\u306d\u3001\u5730\u5473\u306b\u30ec\u30a2\u30ea\u30c6\u30a3\u304c\u9ad8\u3044\u3067\u3059\u3002\n\n\u79c1\u81ea\u8eab\u3001\u305d\u3046\u3044\u3048\u3070HSP\u3067\u3053\u3046\u3044\u3046\u30a2\u30eb\u30b4\u30ea\u7cfb\u306e\u4f55\u304b\u3092\u5b9f\u88c5\u3057\u305f\u3053\u3068\u3063\u3066\u307b\u3068\u3093\u3069\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u6539\u3081\u3066HSP\u3063\u3066\u3069\u3046\u3044\u3046\u3053\u3068\u304c\u51fa\u6765\u305f\u3063\u3051\u3063\u3066\u601d\u3044\u306a\u304c\u3089\u624b\u63a2\u308a\u3067\u8272\u3005\u8a66\u884c\u932f\u8aa4\u3057\u3066\u307e\u3057\u305f\u3002\n\u7d50\u679c\u3001\u4e45\u65b9\u632f\u308a\u306b\u89e6\u3063\u3066\u307f\u3066\u6539\u3081\u3066\u5206\u304b\u3063\u305f\uff08\u601d\u3044\u51fa\u3057\u305f\u3001\u3068\u3082\u8a00\u3046\uff09\u3053\u3068\u306a\u3069\u51fa\u3066\u304d\u305f\u306e\u3067\u3001\u6298\u89d2\u306e\u6a5f\u4f1a\u3067\u3059\u3057\u307e\u3068\u3081\u3066\u304a\u3053\u3046\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\n### \u3068\u3044\u3046\u3053\u3068\u3067\n\n\u3053\u306e\u8a18\u4e8b\u3067\u306f**HSP\u30678\u30d1\u30ba\u30eb\u3092\u3092\u984c\u6750\u3068\u3057\u3066HSP\u3067\u306e\uff08\u4e3b\u306b\u5e45\u512a\u5148\uff09\u63a2\u7d22**\u306b\u3064\u3044\u3066\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u307e\u305f\u3001\u5b9f\u969b\u306b8\u30d1\u30ba\u30eb\u3092\u89e3\u304f\u30b3\u30fc\u30c9\u306e\u89e3\u8aac\u3001\u66f4\u306b\u3088\u308a\u9ad8\u901f\u306b\u89e3\u304f\u306b\u306f\u3001\u3068\u3044\u3063\u305f\u70b9\u306b\u3064\u3044\u3066\u3082\u89e6\u308c\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u3088\u308a\u5177\u4f53\u7684\u306b\u89e6\u308c\u308b\u5185\u5bb9\u306b\u3064\u3044\u3066\u306f\u4e0b\u8a18\u3002\n\n1. \u76e4\u9762\u306e\u8868\u73fe\u3001\u63a2\u7d22\u306e\u57fa\u672c\n * \u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u306e\u5217\u6319\n2. HSP\u3067\u5e45\u512a\u5148\u63a2\u7d22\n * \u5217\u6319\u3057\u305f\u76e4\u9762\u3092\u914d\u5217\u306b\u4fdd\u5b58\u3059\u308b\n * \u65e2\u306b\u5217\u6319\u3057\u305f\u76e4\u9762\uff08\u91cd\u8907\u76e4\u9762\uff09\u306e\u30b9\u30ad\u30c3\u30d7\u3059\u308b\n3. \u4e00\u822c\u7684\u306a\u9ad8\u901f\u5316\n * \u76e4\u9762\u8868\u73fe\u306e\u5727\u7e2e\n     * \u30d3\u30c3\u30c8\u3092\u8a70\u3081\u308b\n * \u91cd\u8907\u76e4\u9762\u30c1\u30a7\u30c3\u30af\u306e\u9ad8\u901f\u5316\n     * \u4e8c\u5206\u63a2\u7d22\n * \u63a2\u7d22\u306e\u6539\u826f\n     * \u53cc\u65b9\u5411\u63a2\u7d22\n\n2.\u307e\u3067\u304c\u521d\u7d1a\u8005\u5411\u3051\u3067\u3001HSP\u3067\u5e45\u512a\u5148\u63a2\u7d22\u306e\u6982\u5ff5\u3092\u7406\u89e3\u3059\u308b\u3060\u3051\u306a\u3089\u3053\u3053\u307e\u3067\u3067\u5341\u5206\uff08\u4e88\u5b9a\uff09\u3067\u3059\u3002\n\u305d\u308c\u4ee5\u964d\u306f\u4e2d\u7d1a\u8005\u5411\u3051\u306e\u30c8\u30d4\u30c3\u30af\u3067\u3001\u3053\u3046\u3044\u3063\u305f\u63a2\u7d22\u554f\u984c\u306b\u4e00\u822c\u7684\u306b\u9069\u7528\u53ef\u80fd\u306a\u624b\u6cd5\u3092\u5c0e\u5165\u3057\u3066\u307f\u307e\u3059\u3002\n\n## 8\u30d1\u30ba\u30eb is \u4f55\n\n8\u30d1\u30ba\u30eb\u306f\u30b9\u30e9\u30a4\u30c9\u30d1\u30ba\u30eb\u306e\u4e00\u7a2e\u3067\u30013 x 3\u306e\u76e4\u9762\u306b 1 \u304b\u3089 8 \u307e\u3067\u306e\u6570\u5024\u304c\u66f8\u304b\u308c\u305f 8 \u3064\u99d2\u304c\u7f6e\u304b\u308c\u3066\u304a\u308a\u3001\u99d2\u304c\u7f6e\u304b\u308c\u3066\u3044\u306a\u3044\u4e00\u7b87\u6240\u306e\u7a7a\u767d\u3092\u4f7f\u3063\u3066\u6570\u5024\u304c\u66f8\u304b\u308c\u305f\u99d2\u3092\u7279\u5b9a\u306e\u9806\u306b\u4e26\u3073\u66ff\u3048\u308b\u904a\u3073\u3067\u3059\u3002\n15\u30d1\u30ba\u30eb\u306e\u7c21\u6613\u7248\u3067\u3001\u3082\u3063\u3068\u8a73\u7d30\u306a\u8aac\u660e\u3092\u6c42\u3080\u65b9\u306f\u666e\u901a\u306bWikipedia\u5148\u751f\uff08[Wikipedia:15\u30d1\u30ba\u30eb](https://ja.wikipedia.org/wiki/15%E3%83%91%E3%82%BA%E3%83%AB)\uff09\u304c\u8a73\u3057\u3044\u306e\u3067\u305d\u3061\u3089\u3092\u3069\u3046\u305e\u3002\n\n### \u76e4\u9762\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3069\u3046\u8868\u73fe\u3057\u3088\u3046\n\n**\u76e4\u9762**\u3068\u3044\u3046\u306e\u306f\u3001\u4f8b\u3048\u3070\u6b21\u306e\u753b\u50cf\u306e\u3088\u3046\u306a**\u305d\u306e\u6642\u70b9\u3067\u306e\u99d2\u306e\u4e26\u3073**\u306e\u3053\u3068\u3092\u6307\u3057\u307e\u3059\u3002\n\n![puzzle8_boardSample.png](https://qiita-image-store.s3.amazonaws.com/0/152653/15860b3c-50c6-f615-05a8-ddf5036a03b4.png)\n\n\n\u3053\u308c\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u53c2\u7167\u3001\u8a18\u9332\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u6700\u3082\u7c21\u5358\u306b\u306f**\u914d\u5217\u3092\u4f7f\u3044\u3001\u5de6\u4e0a\u304b\u3089\u53f3\u4e0b\u306b\u5411\u304b\u3063\u3066\u9806\u756a\u306b\u99d2\u306e\u5024\u3092\u8a18\u9332\u3057\u3066\u3044\u304f**\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u305d\u3046\u3067\u3059\u3002\uff08\u3068\u3044\u3046\u304b\u5b9f\u969b\u3067\u304d\u307e\u3059\uff09\n**\u99d2\u3068\u30d7\u30ed\u30b0\u30e9\u30e0\u5074\u3067\u306e\u6570\u5024\u306e\u5bfe\u5fdc\u95a2\u4fc2\u306f\u3001\u7a7a\u767d\u306e\u5834\u5408\u306f0\u3068\u3057\u3066\u3001\u6570\u5024\u306e\u99d2\u306e\u5834\u5408\u306f\u305d\u306e\u6570\u5024\u3092\u5165\u308c\u3066\u304a\u304f\u3053\u3068\u306b\u3057\u307e\u3057\u3087\u3046\u3002**\n\n![puzzle8_boardArraySample.png](https://qiita-image-store.s3.amazonaws.com/0/152653/33a519fa-1710-4a98-0a93-f96aa53461d3.png)\n\n\n\u3064\u307e\u308a\u3001\u6700\u521d\u306b\u793a\u3057\u305f\u76e4\u9762\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u4e0a\u306f\u6b21\u306e\u3088\u3046\u306a\u914d\u5217\u306b\u306a\u308a\u307e\u3059\u3002\n\n```hsp:\u3042\u308b\u76e4\u9762\u306e\u914d\u5217\u306b\u3088\u308b\u8868\u73fe\n// \u3042\u308b\u76e4\u9762\uff11\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\n\n// \u3042\u308b\u76e4\u9762\uff12\nboard = 8, 5, 3, 4, 1, 0, 2, 7, 6\n```\n\n### \u76e4\u9762\u306e\u63cf\u753b\n\n\u3064\u3044\u3067\u306a\u306e\u3067\u3001\u5148\u306b\u793a\u3057\u305f\u76e4\u9762\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u63cf\u753b\u3067\u304d\u308b\u30b3\u30fc\u30c9\u3082\u66f8\u3044\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30d0\u30b0\u3092\u898b\u3064\u3051\u308b\u306e\u306f\u4f55\u306f\u3068\u3082\u3042\u308c\u53ef\u8996\u5316\u304b\u3089\u3002\nprintf\u30c7\u30d0\u30c3\u30b0\u3082\u7acb\u6d3e\u306a\u53ef\u8996\u5316\u306e\u4e00\u624b\u6bb5\u3067\u3059\u3057\u3001\u53ef\u8996\u5316\u3057\u3066\u60aa\u3044\u3053\u3068\u306f\u30c7\u30d0\u30c3\u30b0\u6642\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3050\u3089\u3044\u306a\u306e\u3067\u3001\u3053\u3046\u3044\u3046\u306e\u306f\u3055\u3063\u3055\u3068\u66f8\u3044\u3066\u304a\u304f\u3068\u5f8c\u3005\u4fbf\u5229\u3067\u3059\u3002\n\n![puzzle8_boardProgramDraw.png](https://qiita-image-store.s3.amazonaws.com/0/152653/ab5ba16f-9b21-ecb7-44eb-1f6d7ee56f30.png)\n\n\n```hsp:\u76e4\u9762\u306e\u63cf\u753b\u30e2\u30b8\u30e5\u30fc\u30eb\n#module\n// \u76e4\u9762\u306e\u63cf\u753b\n// \u8d77\u70b9X, \u8d77\u70b9Y, \u76e4\u9762\u914d\u5217, \u63cf\u753b\u30b5\u30a4\u30ba\n#deffunc drawBoard int cx, int cy, array board, int size\n\tbsz = size*3\n\n\t// \u80cc\u666f\uff08\u4e0b\u5730\uff09\u306e\u30af\u30ea\u30a2\n\tcolor 255, 255, 255 : boxf cx, cy, cx+bsz, cy+bsz\n\n\t// \u67a0\u7dda\n\tcolor 0, 0, 0\n\trepeat 4\n\t\tofs = cnt*size\n\t\tline cx, cy+ofs, cx+bsz, cy+ofs\n\t\tline cx+ofs, cy, cx+ofs, cy+bsz\n\tloop\n\t// \u99d2\n\tfont msgothic, size\n\trepeat 9\n\t\tcntXP3S = cx + cnt\\3 * size\n\t\tcntXD3S = cy + cnt/3 * size\n\t\tcolor 0, 0, 0 : pos cntXP3S+size/4, cntXD3S\n\t\tif ( board(cnt) != 0 ) {// \u7a7a\u767d\u3058\u3083\u306a\u3044\u306a\u3089\n\t\t\tmes \"\"+board(cnt)\n\t\t}\n\tloop\nreturn\n#global\n\n// \u3042\u308b\u76e4\u9762\uff11\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\n// \u3042\u308b\u76e4\u9762\uff12\nboard = 8, 5, 3, 4, 1, 0, 2, 7, 6\ndrawBoard 150, 10, board, 40\n```\n\n## \u63a2\u7d22\u306e\u57fa\u672c\u306e\u30ad\n\n\u3055\u3066\u3055\u3066\u3001\u305d\u308c\u3067\u306f\u672c\u984c\u306e8\u30d1\u30ba\u30eb\u89e3\u304f\u8a71\u306b\u5165\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n### \u554f\u984c\u306e\u6574\u7406\n\n\u5165\u529b\u3068\u3057\u3066\u6700\u521d\u306e\u76e4\u9762\u3068\u6700\u5f8c\u306e\u76e4\u9762\uff08\u76ee\u7684\u306e\u76e4\u9762\uff09\u304c\u4e0e\u3048\u3089\u308c\u308b\u306e\u3067\u3001\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u30b9\u30e9\u30a4\u30c9\u30d1\u30ba\u30eb\u306e\u8981\u9818\u3067\u7a7a\u767d\u306b\u99d2\u3092\u52d5\u304b\u3059\u64cd\u4f5c\u3092\u3057\u3001\u6700\u5f8c\u306e\u76e4\u9762\u306b\u8fbf\u308a\u7740\u304f**\u6700\u5c0f\u624b\u6570**\u3092\u6c42\u3081\u308b\u554f\u984c\u3068\u3057\u307e\u3059\u3002\n\u6c42\u3081\u308b\u306e\u306f\u6700\u5f8c\u306e\u76e4\u9762\u306b\u8fbf\u308a\u7740\u304f\u307e\u3067\u306e\u6700\u5c0f\u624b\u6570\u3060\u3051\u3067\u3001\u6700\u5c0f\u624b\u6570\u306e\u4e2d\u8eab\u304c\u3069\u3046\u3044\u3046\u624b\u306a\u306e\u304b\u306f\u4e00\u65e6\u7f6e\u3044\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3001\u6700\u521d\u304b\u3089\u305d\u308c\u3092\u3084\u308b\u3068\u304b\u306a\u308a\u7169\u96d1\u306b\u306a\u308b\u306e\u3067\u3002\n\n\u30b3\u30fc\u30c9\u3067\u66f8\u304f\u3068\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n```hsp:\u6700\u3082\u57fa\u672c\u7684\u306a\u51e6\u7406\u306e\u6d41\u308c\n// \u6700\u521d\u306e\u76e4\u9762\nstart = 0, 1, 2, 3, 4, 5, 6, 7, 8\n// \u6700\u5f8c\u306e\u76e4\u9762\uff08\u76ee\u7684\u306e\u76e4\u9762\uff09\ngoal = 0, 1, 2, 3, 4, 5, 6, 7, 8\n\n// \u6700\u5c0f\u624b\u6570\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u5909\u6570\nminStep = -1\n\n// \u306a\u306b\u304b\u3057\u3066\u6700\u5c0f\u624b\u6570\u3092\u6c42\u3081\u308b\n\nmes \"\u6700\u5c0f\u624b\u6570\u306f\"+minStep+\"\u3067\u3059\"\n```\n\n\u306f\u3044\u3001\u898b\u4e8b\u306b\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002\n**\u201d\u306a\u306b\u304b\u3057\u3066\u6700\u5c0f\u624b\u6570\u3092\u6c42\u3081\u308b\u201d**\u3068\u3053\u308d\u3092\u3053\u308c\u304b\u3089\u8003\u3048\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n### \u554f\u984c\u3092\u89e3\u304f\u305f\u3081\u306e\u52d5\u4f5c\u6307\u91dd\n\n\u3068\u8a00\u3063\u3066\u3082\u3001\u4e00\u56de\u3082\u3053\u3046\u3044\u3063\u305f\u554f\u984c\u3092\u89e3\u3044\u305f\u3053\u3068\u304c\u306a\u3044\u5834\u5408\u3001\u3069\u3046\u89e3\u3051\u3070\u3044\u3044\u304b\u306e\u6307\u91dd\u3059\u3089\u5206\u304b\u3089\u306a\u3044\u3082\u306e\u3067\u3059\u3002\n\u5927\u4f53\u3053\u3046\u3044\u3046\u554f\u984c\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u5358\u7d14\u306a\u52d5\u4f5c\u304c\u9ad8\u901f\u306a\u3053\u3068\u3092\u5229\u7528\u3057\u3066\u3001\u611a\u76f4\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u624b\u9806\u3067\u89e3\u304f\u306e\u304c\u57fa\u672c\u3067\u3059\u3002\n\n1. \u6700\u521d\u306e\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n2. \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4e2d\u306b\u6700\u5f8c\u306e\u76e4\u9762\uff08\u76ee\u7684\u306e\u76e4\u9762\uff09\u304c\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3001\u3042\u3063\u305f\u3089\u7d42\u4e86\u3001\u306a\u304b\u3063\u305f\u3089\u624b\u98063.\u3078\n3. \u5217\u6319\u3057\u305f\u76e4\u9762\u304b\u3089\u66f4\u306b1\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n4. \u624b\u98062.\u3078\n\n\u3064\u307e\u308a\u3001\u304a\u3088\u305d\u4eba\u306e\u624b\u3067\u306f\u8003\u3048\u305f\u304f\u3082\u306a\u3044\u6570\u306e\u76e4\u9762\u3092\u5217\u6319\u3057\u3001\u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4e00\u3064\u4e00\u3064\u304c\u305d\u308c\u305e\u308c\u76ee\u7684\u306e\u76e4\u9762\u3067\u3042\u308b\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u308f\u3051\u3067\u3059\u3002\n\u3053\u3046\u805e\u304f\u3068\u304b\u306a\u308a\u529b\u6280\u3067\u3042\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u306d\u3002\n\n### \u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\n\u3055\u3066\u3001\u52d5\u4f5c\u6307\u91dd\u3092\u793a\u3057\u305f\u3068\u3053\u308d\u3067\u3001\u307e\u305a\u306f\u305d\u306e\u6838\u3068\u306a\u308b\u52d5\u4f5c\u306e\u300c\u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\u300d\u3068\u3053\u308d\u3092\u8003\u3048\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u3068\u8a00\u3063\u3066\u3082\u307e\u3060\u96e3\u3057\u3044\u3068\u3053\u308d\u306f\u306a\u304f\u3001**\u7a7a\u767d\u306e\u4f4d\u7f6e\u3092\u6c42\u3081\u3066\u3001\u7a7a\u767d\u3068\u305d\u306e\u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3092\u4ea4\u63db\u3057\u305f\u76e4\u9762\u304c1\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762**\u3067\u3059\u3002\n![puzzle8_boardEnumeration_oneStep.png](https://qiita-image-store.s3.amazonaws.com/0/152653/22df9d15-58f0-1441-0b2c-50fd7e9582bd.png)\n\n\u4e0a\u56f3\u3067\u306f\u5de6\u4e0a\u304c\u7a7a\u767d\u3060\u3063\u305f\u5834\u5408\u3092\u904e\u7a0b\u3057\u305f\u306e\u3067\u5217\u6319\u3067\u304d\u305f\u306e\u306f2\u3064\u306e\u76e4\u9762\u3060\u3051\u3067\u3059\u304c\u3001**\u7a7a\u767d\u304c\u771f\u3093\u4e2d\u306b\u3042\u3063\u305f\u5834\u5408\u306f\u6700\u5927\u30674\u3064\u306e\u76e4\u9762\u304c\u5217\u6319\u3067\u304d\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044**\u3002\n\n\u624b\u9806\u306f\u5206\u304b\u3063\u305f\u3001\u3042\u3068\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u304f\u3060\u3051\u3060\u3002\n\n### \u76e4\u9762\u306e\u914d\u5217\u8868\u73fe\u3068\u5b9f\u969b\u306e\u76e4\u9762\u4e0a\u3067\u306e\u4f4d\u7f6e\u95a2\u4fc2\n\n\u305d\u306e\u524d\u306b\u4e00\u3064\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3001**\u4e0a\u4e0b\u5de6\u53f3\u306e\u5165\u308c\u66ff\u3048\u306f\u5143\u306e\u76e4\u9762\u4e0a\u3067\u884c\u308f\u308c\u307e\u3059**\u3002\n\u3057\u304b\u3057\u3001\u76e4\u9762\u306e\u8868\u73fe\u3068\u3044\u3046\u610f\u5473\u3067**\u30d7\u30ed\u30b0\u30e9\u30e0\u4e0a\u3067\u306f\u76e4\u9762\u306f\u914d\u5217\u3067\u8868\u73fe\u3055\u308c\u3066\u3044\u307e\u3059**\u3002\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3084\u3084\u3053\u3057\u3044\u3067\u3059\u304c**\u79c1\u9054\u304c\u982d\u306e\u4e2d\u3067\u8003\u3048\u3066\u3044\u308b\u76e4\u9762\u306e\u99d2\u306e\u4f4d\u7f6e\u3068\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u4e0a\u306e\u914d\u5217\u3067\u306e\u4f4d\u7f6e\u306f\u82e5\u5e72\u306e\u5909\u63db\u304c\u5fc5\u8981**\u3067\u3059\u3002\n\u4eca\u56de\u306f**\u5b9f\u969b\u306e\u76e4\u9762\u306f\u5de6\u4e0a\u3092$(0, 0)$\u3001\u53f3\u4e0b\u3092$(2, 2)$\u3068\u3057\u305f\u4e8c\u6b21\u5143\u5ea7\u6a19\u3068\u3057\u3066\u8003\u3048\u307e\u3059**\u3002\n\u3053\u3046\u8003\u3048\u305f\u6642\u3001\u76e4\u9762\u306e\u5ea7\u6a19$(x, y)$\u3068\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9$i$\u3068\u306e\u9593\u306b\u306f\u6b21\u306e\u3088\u3046\u306a\u95a2\u4fc2\u304c\u6210\u7acb\u3057\u307e\u3059\u3002\n\n```math\ni = x + y*3\n```\n\n\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9$i$\u304b\u3089$(x, y)$\u3092\u6c42\u3081\u308b\u5834\u5408\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u6c42\u307e\u308a\u307e\u3059\u3002\n\n```math\n\\begin{align}\nx &= i \\mod 3 \\\\\ny &= i / 3\n\\end{align}\n```\n\nHGP\u3060\u3068mod\uff08\u5270\u4f59\uff09\u306f\u300c\uffe5\u300d\u6f14\u7b97\u5b50\u3067\u3059\u306d\u3002\n\u306a\u304a\u3053\u306e\u5909\u63db\u3001\u4eca\u5f8c\u7d50\u69cb\u983b\u7e41\u306b\u3067\u3066\u304d\u307e\u3059\u306e\u3067\u3001\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\n\n![puzzle8_boardArray2Grid.png](https://qiita-image-store.s3.amazonaws.com/0/152653/67712cd8-831a-0c94-e536-b15688fe7a1c.png)\n\n### \u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\uff08\u518d\uff09\n\n\u5148\u8ff0\u306e\u99d2\u306e\u5ea7\u6a19\u3068\u3001\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u306e\u95a2\u4fc2\u3092\u8e0f\u307e\u3048\u305f\u4e0a\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n```hsp:\u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u3068\u308a\u3042\u3048\u305a\u5217\u6319\u3059\u308b\n#module\n// \u76e4\u9762\u306e\u4e2d\u3067\u7a7a\u767d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\n#defcfunc searchEmpty array board, local res\n\tres = -1\n\trepeat 9\n\t\tif ( board(cnt) == 0 ) {\n\t\t\tres = cnt\n\t\t\tbreak\n\t\t}\n\tloop\nreturn res\n\n// \u76e4\u9762\u306e\u4e2d\u306e2\u3064\u306e\u8981\u7d20\u4f4d\u7f6e\u3092\u4ea4\u63db\u3059\u308b\n#deffunc swapPiece array board, int piece1, int piece2, local t\n\tt = board(piece1)\n\tboard(piece1) = board(piece2)\n\tboard(piece2) = t\nreturn\n#global\n\n//----------------------\u30e2\u30b8\u30e5\u30fc\u30eb\u3053\u3053\u307e\u3067\n\n// \u3042\u308b\u76e4\u9762\u304b\u3089\u2026\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\n// \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\nemptyIdx = searchEmpty( board )\n\n// \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\nemptyX = emptyIdx \\3\nemptyY = emptyIdx /3\n\n// \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\nrepeat 4\n\t// \u5217\u6319\u3059\u308b\u76e4\u9762\n\tdim newBoard, 9\n\t// \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n\trepeat 9 : newBoard(cnt) = board(cnt) : loop\n\t// \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n\tdx = 0 : dy = 0 : label=\"\"\n\tswitch( cnt )\n\t\tcase 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n\t\tcase 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n\t\tcase 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n\t\tcase 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n\tswend\n\t// \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n\tswapX = emptyX + dx\n\tswapY = emptyY + dy\n\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n\tif ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n\t\tcontinue\n\t}\n\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n\tswapIdx = swapX + swapY *3\n\t// \u99d2\u306e\u4ea4\u63db\n\tswapPiece newBoard, emptyIdx, swapIdx\n\t// \u63cf\u753b\n\tdrawBoard 10+140*cnt, 150, newBoard, 40\n\tpos 60+140*cnt, 280 : color 0, 0, 0 : mes \"\"+label\nloop\n```\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u3082\u9577\u304f\u306a\u3063\u3066\u304d\u307e\u3057\u305f\u306d\u2026\u3002\n\u4eca\u307e\u3067\u3068\u91cd\u8907\u3057\u3066\u3044\u308b\u7b87\u6240\u306f\u524a\u3063\u3066\u3044\u304d\u307e\u3059\u306e\u3067\u3001\u305d\u306e\u8fba\u306f\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001board\u5909\u6570\u306b\u5165\u3063\u3066\u3044\u305f\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u304c\u5217\u6319\u3055\u308c\u307e\u3059\u3002\n![puzzle8_boardEnumeraton_oneStepSample.png](https://qiita-image-store.s3.amazonaws.com/0/152653/880e4fab-4db5-300e-80b9-ecce7847fb4f.png)\n\n\u6700\u521d\u306bboard\u306b\u771f\u3093\u4e2d\u304c\u7a7a\u767d\u306e\u76e4\u9762\u3092\u4e0e\u3048\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306b4\u3064\u306e\u76e4\u9762\u304c\u5f97\u3089\u308c\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n![puzzle8_boardEnumeraton_oneStepSample2.png](https://qiita-image-store.s3.amazonaws.com/0/152653/5db85402-e383-ac87-e92a-ba401cba181c.png)\n\n### \u5217\u6319\u3057\u305f\u76e4\u9762\u304b\u3089\u66f4\u306b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\n\u76e4\u9762\u306e\u5217\u6319\u304c\u3067\u304d\u307e\u3057\u305f\u3001\u3082\u3046\u3053\u3053\u3067\u7d42\u308f\u308a\u305f\u3044\u6c17\u5206\u3067\u3059\u304c\u3001\u5927\u4f53HSP\u30678\u30d1\u30ba\u30eb\u3092\u89e3\u304f\u9053\u306e\u308a\u306e\u534a\u5206\u304f\u3089\u3044\u306b\u3057\u304b\u81f3\u3063\u3066\u306a\u3044\u306e\u3067\u307e\u3060\u307e\u3060\u7d9a\u304d\u307e\u3059\u3002[^taihen_1]\n\n\u3055\u3066\u672c\u7bc0\u3067\u306f\u3001\u5217\u6319\u3057\u305f\u76e4\u9762\u304b\u3089\u66f4\u306b1\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\u52d5\u4f5c\u306b\u3064\u3044\u3066\u3067\u3059\u3002\n\u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u306e\u5217\u6319\u306b\u3064\u3044\u3066\u306f\u524d\u7bc0\u3067\u8ff0\u3079\u307e\u3057\u305f\u3057\u3001\u305d\u3053\u307e\u3067\u306f\u5e73\u3063\u305f\u304f\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304d\u4e0b\u3059\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\n\u4e00\u65b9\u3067\u3001\u5217\u6319\u3057\u305f\u76e4\u9762\u304b\u3089\u66f4\u306b\u5217\u6319\u3092\u884c\u3046\u306a\u3069**\u201d\u3044\u3064\u307e\u3067\u7d9a\u304f\u304b\u5206\u304b\u3089\u306a\u3044\u201d\u7cfb\u306e\u52d5\u4f5c\u306f\u3061\u3087\u3063\u3068\u5de5\u592b\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059**\u3002\n\n#### \u5217\u6319\u3057\u305f\u76e4\u9762\u3092\u4fdd\u5b58\u3059\u308b\u30fb\u53d6\u308a\u51fa\u3059\n\n\u3044\u3064\u307e\u3067\u5217\u6319\u304c\u7d9a\u304f\u304b\u5206\u304b\u3089\u306a\u3044\u7cfb\u3067\u3059\u304c\u3001\u8981\u306f**\u5217\u6319\u3057\u305f\u3082\u306e\u3092\u5f8c\u3067\u3068\u3063\u3066\u3053\u308c\u308c\u3070\u307e\u305f\u305d\u3053\u304b\u3089\u7d9a\u3051\u30661\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u304c\u5217\u6319\u304c\u3067\u304d\u307e\u3059**\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u5217\u6319\u3057\u305f\u76e4\u9762\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u3053\u3068\u3001\u305d\u3057\u3066\u4fdd\u5b58\u3057\u3066\u304a\u3044\u305f\u76e4\u9762\u3092\u5f8c\u304b\u3089\u3068\u3063\u3066\u3053\u308c\u308b\u4ed5\u7d44\u307f\u3092\u8003\u3048\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n#### \u914d\u5217\u3092\u4f7f\u3046\n\n\u201d\u6ca2\u5c71\u306e\u76e4\u9762\u3092\u4fdd\u5b58\u3059\u308b\u201d\u3067\u3059\u304c\u3001**\u76e4\u9762\u3092\u4e00\u3064\u306e\u5024\u3068\u3057\u3066\u898b\u3066\u307f\u305f\u3089**\u3069\u3046\u3067\u3057\u3087\u3046\u304b\uff1f\n\u201d\u6ca2\u5c71\u306e\u5024\u3092\u4fdd\u5b58\u3059\u308b\u201d\u3068\u3044\u3046\u89b3\u70b9\u3067\u898b\u308b\u3068\u3001**HSP\u3067\u306f\u6ca2\u5c71\u306e\u5024\u3092\u53d6\u308a\u6271\u3046\u4ed5\u7d44\u307f\u3068\u3057\u3066\u914d\u5217\u304c\u3042\u308a\u307e\u3059**\u306d\u3002\n\nHSP\u306e\u914d\u5217\u306f\u53ef\u5909\u9577\u3067\u306f\u306a\u3044\u305f\u3081\u53ef\u5909\u9577\u3063\u307d\u3044\u914d\u5217\u3092\u6271\u3044\u305f\u3044\u5834\u5408\u306f\u3001**\u4e88\u3081\u5341\u5206\u306a\u6570\u306e\u8981\u7d20\u304c\u53ce\u3081\u3089\u308c\u308b\u914d\u5217\u3092\u4f5c\u3063\u3066\u304a\u304d\u3001\u3044\u304f\u3064\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u304b\u306f\u5225\u306e\u5909\u6570\u3067\u7ba1\u7406\u3059\u308b**\u306e\u304c\u3088\u304f\u3084\u308b\u5974\u3067\u3059\u3002\n\n![puzzle8_boardPushAndPopAsArray.png](https://qiita-image-store.s3.amazonaws.com/0/152653/71953b7d-8a8a-9915-1330-d9d4684a12f1.png)\n\n\u3068\u308a\u3042\u3048\u305a\u3001\u524d\u7bc0\u307e\u3067\u3067\u8aac\u660e\u3057\u305f\u201d\u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u306e\u5217\u6319\u201d\u3057\u305f\u5f8c\u3001\u5217\u6319\u3057\u305f\u76e4\u9762\u3092\u4fdd\u5b58\u3059\u308b\u30b3\u30fc\u30c9\u3002\n\n```hsp:\u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 100, 9// \u9069\u5f53\u306b100\u500b\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\n\n//---------------------\u3053\u3053\u304b\u3089\u524d\u56de\u3068\u540c\u3058\n// \u3042\u308b\u76e4\u9762\u304b\u3089\u2026\n\n// \uff5e\uff5e\u7701\u7565\uff5e\uff5e\n\n\t// \u99d2\u306e\u4ea4\u63db\n\tswapPiece newBoard, emptyIdx, swapIdx\n\t//------------\u3053\u3053\u307e\u3067\u306f\u524d\u56de\u3068\u4e00\u7dd2\n\n\t// \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\n\trepeat 9\n\t\tstoredBoards(storedBoardNum, cnt) = newBoard(cnt)\n\tloop\n\tstoredBoardNum++// \u4e00\u500b\u76e4\u9762\u4fdd\u5b58\u3057\u305f\u306e\u3067\u8db3\u3057\u3068\u304f\nloop\n\n//---------------------\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3092\u53d6\u308a\u51fa\u3057\u3066\u63cf\u753b\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3092\u5f8c\u304b\u3089\u63cf\u753b\nrepeat storedBoardNum\n\t// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3092\u53d6\u308a\u51fa\u3059\n\tpeekBoardIdx = cnt\n\tdim board, 9\n\trepeat 9 : board(cnt) = storedBoards(peekBoardIdx, cnt) : loop\n\t// \u63cf\u753b\n\tdrawBoard 10+140*peekBoardIdx, 150, board, 40\nloop\n```\n\n#### \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3092\u53d6\u308a\u51fa\u3057\u3066\u66f4\u306b\u5217\u6319\u3092\u7d9a\u3051\u308b\n\n\u3055\u3066\u3001\u76e4\u9762\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3057\u305f\u3057\u3001\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u5168\u90e8\u3092\u63cf\u753b\u3059\u308b\u30b3\u30fc\u30c9\u3082\u524d\u7bc0\u3067\u8aac\u660e\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u7d50\u69cb\u30b4\u30fc\u30eb\u304c\u8fd1\u3065\u3044\u3066\u304d\u3066\u3044\u307e\u3059\u304c\u3001\u76e4\u9762\u306e\u4fdd\u5b58\u3068\u5217\u6319\u3092\u540c\u6642\u306b\u884c\u3046\u306b\u306f\u3082\u3046\u5c11\u3057\u3060\u3051\u5de5\u592b\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\u5b9f\u969b\u306b\u5217\u6319\u3092\u7d9a\u3051\u3066\u3044\u304f\u3068\u3001\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306f\u3069\u3093\u3069\u3093\u5897\u3048\u3066\u3044\u304f\u8a33\u3067\u3059\u304c**\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3069\u3053\u307e\u3067\u306f\u65e2\u306b\u5217\u6319\u3092\u7d42\u3048\u3066\u3044\u308b\u304b**\u3082\u899a\u3048\u3066\u304a\u304b\u306a\u3044\u3068\u3001\u540c\u3058\u76e4\u9762\u304c\u751f\u6210\u3055\u308c\u7d9a\u3051\u3066\u3044\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u76e4\u9762\u3092\u4fdd\u5b58\u3059\u308b\u914d\u5217\u5909\u6570\u3068\u3001\u3044\u304f\u3064\u76e4\u9762\u3092\u4fdd\u5b58\u3057\u305f\u304b\u899a\u3048\u3066\u304a\u304f\u5909\u6570\u306e**\u4ed6\u306b\u3001\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u5217\u6319\u3092\u65e2\u306b\u7d42\u3048\u305f\u6570\u3092\u899a\u3048\u3066\u304a\u304f\u5909\u6570**\u3082\u5225\u306b\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u308c\u3082\u8e0f\u307e\u3048\u3066\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n##### \u306e\u524d\u306b\n\n\u201d\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u5217\u6319\u3057\u305f\u76e4\u9762\u201d\u304b\u3089\u66f4\u306b\u5217\u6319\u3092\u3057\u3066\u3044\u304f\u30b3\u30fc\u30c9\u306a\u8a33\u3067\u3059\u304c\u3001\u3088\u304f\u3088\u304f\u8003\u3048\u308b\u3068\u3053\u306e**\u201d\u66f4\u306b\u5217\u6319\u3057\u3066\u3044\u304f\u201d\u90e8\u5206\u3068\u3001\u201d\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u5217\u6319\u3059\u308b\u201d\u90e8\u5206\u306f\u30b3\u30fc\u30c9\u7684\u306b\u540c\u3058**\u3067\u3059\u3002\n\u305d\u3057\u3066\u3001\u8003\u3048\u65b9\u3092\u5c11\u3057\u5909\u3048\u3066**\u201d\u6700\u521d\u306e\u76e4\u9762\u306f\u8ab0\u304b\u306b\u3088\u3063\u3066\u5217\u6319\u3055\u308c\u305f\u76e4\u9762\u201d\u3068\u6349\u3048\u308b\u3068\u3001\u201d\u6700\u521d\u306e\u76e4\u9762\u201d\u3068\u201d\u3042\u308b\u76e4\u9762\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u76e4\u9762\u201d\u306f\u7b49\u3057\u304f\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b**\u4e8b\u306b\u6c17\u4ed8\u304d\u307e\u3059\u3002\n\n\u3053\u3053\u304b\u3089\u306f\u3001\u6700\u521d\u306e\u76e4\u9762\u306f\u201d\u8ab0\u304b\u306b\u5217\u6319\u3055\u308c\u305f\u3082\u306e\u201d\u3068\u3057\u3066\u3001\u76e4\u9762\u4fdd\u5b58\u7528\u306e\u914d\u5217\u306b\u8ffd\u52a0\u3057\u3066\u304a\u304f\u3053\u3068\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\u5b9f\u969b\u306b\u30b3\u30fc\u30c9\u3092\u898b\u3066\u3082\u3089\u308f\u306a\u3044\u3068\u5206\u304b\u3089\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u305d\u308c\u306a\u308a\u306b\u30b3\u30fc\u30c9\u304c\u30b7\u30f3\u30d7\u30eb\u306b\u306a\u3063\u3066\u304d\u307e\u3059\u3002\n\n```hsp:\u76e4\u9762\u3092\u6b21\u3005\u306b\u5217\u6319\u3057\u3066\u3044\u304f\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 100, 9// \u9069\u5f53\u306b100\u500b\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\npopedBoardNum = 0// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u65e2\u306b\u8abf\u3079\u305f\u304b\uff08\u66f4\u306b\u5217\u6319\u3057\u305f\u304b\uff09\n\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\nrepeat 9\n\tstoredBoards(storedBoardNum, cnt) = board(cnt)\nloop\nstoredBoardNum++\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n\t// \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n\tif ( popedBoardNum >= storedBoardNum ) : break\n\n\t// \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n\tdim board, 9\n\trepeat 9 : board(cnt) = storedBoards(popedBoardnum, cnt) : loop\n\tpopedBoardnum++\n\n\t// \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\n\temptyIdx = searchEmpty( board )\n\n\t// \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\n\temptyX = emptyIdx \\3\n\temptyY = emptyIdx /3\n\n\t// \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\trepeat 4\n\t\t// \u5217\u6319\u3059\u308b\u76e4\u9762\n\t\tdim newBoard, 9\n\t\t// \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n\t\trepeat 9 : newBoard(cnt) = board(cnt) : loop\n\t\t// \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n\t\tdx = 0 : dy = 0 : label=\"\"\n\t\tswitch( cnt )\n\t\t\tcase 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n\t\t\tcase 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n\t\t\tcase 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n\t\t\tcase 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n\t\tswend\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n\t\tswapX = emptyX + dx\n\t\tswapY = emptyY + dy\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n\t\t\tcontinue\n\t\t}\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n\t\tswapIdx = swapX + swapY *3\n\t\t// \u99d2\u306e\u4ea4\u63db\n\t\tswapPiece newBoard, emptyIdx, swapIdx\n\t\t// \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( storedBoardNum < length( storedBoards ) ) {\n\t\t\trepeat 9\n\t\t\t\tstoredBoards(storedBoardNum, cnt) = newBoard(cnt)\n\t\t\tloop\n\t\t\tstoredBoardNum++\n\t\t}\n\tloop\nloop\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3092\u5f8c\u304b\u3089\u63cf\u753b\nrepeat storedBoardNum\n\t// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3092\u53d6\u308a\u51fa\u3059\n\tpeekBoardIdx = cnt\n\tdim board, 9\n\trepeat 9 : board(cnt) = storedBoards(peekBoardIdx, cnt) : loop\n\t// \u63cf\u753b\n\tdrawBoard 10+45*(peekBoardIdx\\15), 150+45*(peekBoardIdx/15), board, 12\nloop\n```\n\n\u4e00\u5fdc\u3001\u4e00\u56de\u3053\u3053\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u90e8\u5206\u306e\u9664\u3044\u305f\u30b3\u30fc\u30c9\u306f\u5168\u3066\u7701\u7565\u305b\u305a\u8f09\u305b\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\u76e4\u9762\u4fdd\u5b58\u7528\u306e\u914d\u5217\u306f\u3068\u308a\u3042\u3048\u305a100\u500b\u5206\u3057\u304b\u4fdd\u5b58\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u30a8\u30e9\u30fc\u843d\u3061\u3068\u304b\u3057\u306a\u3044\u3088\u3046\u306b\u4fdd\u5b58\u3067\u304d\u306a\u305d\u3046\u3060\u3063\u305f\u3089\u4fdd\u5b58\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u307e\u3059\u3002\n\u3053\u3053\u307e\u3067\u3067\u3001\u6700\u521d\u306e\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u9023\u7d9a\u3057\u3066\u5217\u6319\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n![puzzle8_boardEnumeration_max100.png](https://qiita-image-store.s3.amazonaws.com/0/152653/fe7032f8-5372-2a2d-7068-53e659cf92c1.png)\n\n### \u76ee\u7684\u306e\u76e4\u9762\u5224\u5b9a\u3068\u3001\u304b\u304b\u3063\u305f\u624b\u6570\u306e\u8a08\u7b97\n\n\u6b21\u3005\u5217\u6319\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u3042\u3068\u306f\u76ee\u7684\u306e\u76e4\u9762\u306b\u306a\u3063\u305f\u304b\u306e\u5224\u5b9a\u3092\u8ffd\u52a0\u3059\u308c\u3070\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\u305d\u308c\u81ea\u4f53\u306f\u7c21\u5358\u3067\u3001\u30eb\u30fc\u30d7\u5185\u3067\u5217\u6319\u306e\u305f\u3081\u4e00\u3064\u306e\u76e4\u9762\u3092\u53d6\u308a\u51fa\u3057\u3066\u3044\u307e\u3059\u304c\u3001**\u305d\u306e\u53d6\u308a\u51fa\u3057\u305f\u76e4\u9762\u304c\u76ee\u7684\u306e\u76e4\u9762\u3060\u3063\u305f\u3089\u63a2\u7d22\u3092\u7d42\u3048\u308c\u3070\u826f\u3044**\u3001\u3068\u3044\u3046\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3060\u3051\u3067\u3059\u3002\n\n```hsp:\u76ee\u7684\u306e\u76e4\u9762\u304b\u30c1\u30a7\u30c3\u30af\n// \uff5e\uff5e\u7701\u7565\uff5e\uff5e\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\nrepeat 9\n\tstoredBoards(storedBoardNum, cnt) = board(cnt)\nloop\nstoredBoardNum++\n\n// \u76ee\u7684\u306e\u76e4\u9762\nobjectiveBoard = 3, 1, 2, 4, 7, 5, 6, 0, 8\ndrawBoard 180, 10, objectiveBoard, 40\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n\t// \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n\tif ( popedBoardNum >= storedBoardNum ) : break\n\n\t// \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n\tdim board, 9\n\trepeat 9 : board(cnt) = storedBoards(popedBoardnum, cnt) : loop\n\tpopedBoardnum++\n\n\t// \u76ee\u7684\u306e\u76e4\u9762\u304b\u30c1\u30a7\u30c3\u30af\n\tisObjectiveBoard = 1\n\trepeat 9\n\t\tif ( board(cnt) != objectiveBoard(cnt) ) {\n\t\t\tisObjectiveBoard = 0\n\t\t\tbreak\n\t\t}\n\tloop\n\tif ( isObjectiveBoard ) {\n\t\tdialog \"\u898b\u3064\u304b\u3063\u305f\uff01\uff01\"\n\t\tbreak\n\t}\n\n\t// \uff5e\uff5e\u7701\u7565\uff5e\uff5e\n```\n\n\u305d\u3057\u3066\u3001\u4f55\u624b\u304b\u304b\u3063\u305f\u304b\u3092\u899a\u3048\u3066\u304a\u304f\u306b\u306f\u3001\u3067\u3059\u304c\u3053\u3061\u3089\u306f**\u4fdd\u5b58\u3057\u3066\u304a\u304f\u76e4\u9762\u3068\u540c\u3058\u9577\u3055\u306e\u914d\u5217\u3092\u3082\u3046\u4e00\u500b\u7528\u610f\u3057\u3066\u304a\u3044\u3066\u3001\u305d\u3063\u3061\u306b\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u4f55\u624b\u76ee\u3067\u8fbf\u308a\u7740\u3044\u305f\u76e4\u9762\u304b\u3092\u8a18\u9332**\u3057\u3066\u304a\u3051\u3070\u5927\u4e08\u592b\u305d\u3046\u3067\u3059\u3002\n![puzzle8_boardEnumeration_searchObjectiveStep.png](https://qiita-image-store.s3.amazonaws.com/0/152653/4e5593df-92e7-e84a-e27e-6c30b032361f.png)\n\n\u307e\u305f\u3001\u5217\u6319\u306e\u969b\u306f\u3001**\u65b0\u3057\u304f\u5217\u6319\u3059\u308b\u76e4\u9762\u306f\u5143\u306e\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u3082\u306e\u306a\u306e\u3067\u3001\u5143\u306e\u76e4\u9762\uff0b\uff11\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3068\u3059\u308c\u3070\u3088\u3055\u305d\u3046\u3067\u3059**\u3002\n\n\u4ee5\u4e0a\u3092\u6574\u7406\u3057\u3066\u3001\u30b3\u30fc\u30c9\u3092\u5c11\u3057\u5f04\u308a\u307e\u3059\u3002\n\n```hsp:\u4f55\u624b\u76ee\u3067\u76e4\u9762\u304c\u5f97\u3089\u308c\u308b\u304b\u3082\u4fdd\u5b58\u3057\u306a\u304c\u3089\u5217\u6319\n// \uff5e\uff5e\u7701\u7565\uff5e\uff5e\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\nrepeat 9\n\tstoredBoards(storedBoardNum, cnt) = board(cnt)\nloop\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u521d\u306e\u76e4\u9762\u306f\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nstoredBoardNum++\n\n// \uff5e\uff5e\u7701\u7565\uff5e\uff5e\n\t// \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n\tdim board, 9\n\trepeat 9 : board(cnt) = storedBoards(popedBoardnum, cnt) : loop\n\tboardRequiredStepNum = storedBoardSteps(popedBoardnum)// \u4f55\u624b\u76ee\u3067\u3053\u306e\u76e4\u9762\u306f\u5f97\u3089\u308c\u308b\u304b\n\tpopedBoardnum++\n\n// \uff5e\uff5e\u7701\u7565\uff5e\uff5e\n\t\t// \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( storedBoardNum < length( storedBoards ) ) {\n\t\t\trepeat 9\n\t\t\t\tstoredBoards(storedBoardNum, cnt) = newBoard(cnt)\n\t\t\tloop\n\t\t\tstoredBoardSteps(storedBoardNum) = boardRequiredStepNum+1// \u81ea\u5206\u306e\u76e4\u9762\uff0b\uff11\n\t\t\tstoredBoardNum++\n\t\t}\n```\n\n\u3053\u308c\u3067\u63a2\u7d22\u3092\u884c\u308f\u305b\u308b\u3068\u3001\u7121\u4e8b\u4f55\u624b\u3067\u305f\u3069\u308a\u7740\u304f\u304b\u3082\u5206\u304b\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n![puzzle8_boardEnumeration_searchObjectiveAndGoal.png](https://qiita-image-store.s3.amazonaws.com/0/152653/a2fa7eb1-2dd1-d612-bf57-ac2c51e0d41b.png)\n\n\u3061\u306a\u307f\u306b\u4e0a\u8a18\u753b\u50cf\u306e\u76ee\u7684\u306e\u76e4\u9762\uff08\u53f3\u5074\uff09\u306f\u3001\u6700\u521d\u306e\u76e4\u9762\uff08\u5de6\u5074\uff09\u304b\u3089\n\n1. \u7a7a\u767d\u3068\uff13\u3092\u4ea4\u63db\n2. \u7a7a\u767d\u3068\uff14\u3092\u4ea4\u63db\n3. \u7a7a\u767d\u3068\uff17\u3092\u4ea4\u63db\n\n\u3068\u3059\u308b\u3068\u5f97\u3089\u308c\u307e\u3059\u3001\u3064\u307e\u308a\u5408\u3063\u3066\u308b\uff01\n**\u52dd\u3063\u305f\u30c3\uff01\u3000\u7b2c3\u90e8\u5b8c\uff01**\n\n### \u76e4\u9762\u306e\u91cd\u8907\u3092\u306a\u304f\u3059\n\n\u3055\u3066\u3001\u5217\u6319\u307e\u3067\u3067\u304d\u305f\u3057\u3001\u30b4\u30fc\u30eb\u306b\u8fbf\u308a\u7740\u3044\u305f\u5224\u5b9a\u307e\u3067\u3067\u304d\u305f\u306e\u3067\u3001\u4e00\u5fdc\u306e\u5b8c\u6210\u304c\u2026\u3068\u601d\u3046\u3067\u3057\u3087\u3046\u304c\u3001\u3088\u304f\u3088\u304f\u5217\u6319\u5185\u5bb9\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n**\u5b9f\u306f\u540c\u3058\u76e4\u9762\u5217\u6319\u3057\u3061\u3083\u3063\u3066\u305f\u308a\u3057\u307e\u3059\u3088\u306d\uff1f**\n\n\u904e\u53bb\u306b\u5217\u6319\u3057\u305f\u3082\u306e\u306f\u76e4\u9762\u4fdd\u5b58\u914d\u5217\u306b\u5168\u3066\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u65e2\u306b\u5217\u6319\u3057\u305f\u3082\u306e\u306f\u8ffd\u52a0\u3067\u4fdd\u5b58\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n### \u8003\u3048\u3089\u308c\u308b\u76e4\u9762\u6570\u306e\u6700\u5927\n\n\u91cd\u8907\u3092\u306a\u304f\u3057\u305f\u5f8c\u3001\u5f8c\u306f\u4eca\u307e\u3067\u9069\u5f53\u306b\u6c7a\u3081\u3066\u3044\u305f\u76e4\u9762\u4fdd\u5b58\u7528\u306e\u914d\u5217\u30b5\u30a4\u30ba\u306b\u3064\u3044\u3066\u3082\u3061\u3083\u3093\u3068\u8003\u3048\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n8\u30d1\u30ba\u30eb\u3067\u8003\u3048\u3089\u308c\u308b\u76e4\u9762\u306e\u6570\u306f\u3001\u5de6\u4e0a\u304b\u30899\u7a2e\u985e\u306e\u99d2\uff08\u6b63\u78ba\u306b\u306f8\u500b\u306e\u99d2\u3068\u7a7a\u767d\uff09\u3092\u4e26\u3079\u308b\u64cd\u4f5c\u306b\u306a\u308b\u306e\u3067$9!$\u3068\u306a\u308a\u305d\u3046\u3067\u3059\u304c\u3001\u76e4\u9762\u306f\u7a7a\u767d\u3092\u30b9\u30e9\u30a4\u30c9\u3057\u3066\u5f97\u3089\u308c\u308b\u3068\u3044\u3046\u5236\u7d04\u304b\u3089\u5b9f\u306f\u3053\u306e\u534a\u5206\u306e$9!/2$\u3067\u5f97\u3089\u308c\u308b\u3053\u3068\u304c\u77e5\u3089\u308c\u3066\u3044\u307e\u3059\u3002\n\u3064\u307e\u308a$9!/2 = 181440$\u500b\u3067\u3059\u306d\u3001\u6700\u5927\u6570\u306f\u3053\u308c\u306b\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u3053\u308c\u3067\u672c\u5f53\u306b\u5b8c\u6210\u3067\u3059\u306e\u3067\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u542b\u3081\u30b3\u30fc\u30c9\u3092\u5168\u90e8\u66f8\u304d\u307e\u3059\u3002\n\n```hsp:\u30ca\u30a4\u30fc\u30d6\u306b8\u30d1\u30ba\u30eb\u3092\u89e3\u304f\n#module\n// \u76e4\u9762\u306e\u63cf\u753b\n// \u8d77\u70b9X, \u8d77\u70b9Y, \u76e4\u9762\u914d\u5217, \u63cf\u753b\u30b5\u30a4\u30ba\n#deffunc drawBoard int cx, int cy, array board, int size\n\tbsz = size*3\n\n\t// \u80cc\u666f\uff08\u4e0b\u5730\uff09\u306e\u30af\u30ea\u30a2\n\tcolor 255, 255, 255 : boxf cx, cy, cx+bsz, cy+bsz\n\n\t// \u67a0\u7dda\n\tcolor 0, 0, 0\n\trepeat 4\n\t\tofs = cnt*size\n\t\tline cx, cy+ofs, cx+bsz, cy+ofs\n\t\tline cx+ofs, cy, cx+ofs, cy+bsz\n\tloop\n\t// \u99d2\n\tfont msgothic, size\n\trepeat 9\n\t\tcntXP3S = cx + cnt\\3 * size\n\t\tcntXD3S = cy + cnt/3 * size\n\t\tcolor 0, 0, 0 : pos cntXP3S+size/4, cntXD3S\n\t\tif ( board(cnt) != 0 ) {// \u7a7a\u767d\u3058\u3083\u306a\u3044\u306a\u3089\n\t\t\tmes \"\"+board(cnt)\n\t\t}\n\tloop\nreturn\n\n// \u76e4\u9762\u306e\u4e2d\u3067\u7a7a\u767d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\n#defcfunc searchEmpty array board, local res\n\tres = -1\n\trepeat 9\n\t\tif ( board(cnt) == 0 ) {\n\t\t\tres = cnt\n\t\t\tbreak\n\t\t}\n\tloop\nreturn res\n\n// \u76e4\u9762\u306e\u4e2d\u306e2\u3064\u306e\u8981\u7d20\u4f4d\u7f6e\u3092\u4ea4\u63db\u3059\u308b\n#deffunc swapPiece array board, int piece1, int piece2, local t\n\tt = board(piece1)\n\tboard(piece1) = board(piece2)\n\tboard(piece2) = t\nreturn\n#global\n\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 181440, 9// 9!/2\ndim storedBoardSteps, 181440// \u4f55\u624b\u76ee\u3067\u8fbf\u308a\u7740\u3044\u305f\u304b\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\npopedBoardNum = 0// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u65e2\u306b\u8abf\u3079\u305f\u304b\uff08\u66f4\u306b\u5217\u6319\u3057\u305f\u304b\uff09\n\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\nrepeat 9\n\tstoredBoards(storedBoardNum, cnt) = board(cnt)\nloop\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u521d\u306e\u76e4\u9762\u306f\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nstoredBoardNum++\n\n// \u76ee\u7684\u306e\u76e4\u9762\nobjectiveBoard = 3, 1, 2, 4, 7, 5, 6, 0, 8\ndrawBoard 180, 10, objectiveBoard, 40\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n\t// \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n\tif ( popedBoardNum >= storedBoardNum ) : break\n\n\t// \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n\tdim board, 9\n\trepeat 9 : board(cnt) = storedBoards(popedBoardnum, cnt) : loop\n\tboardRequiredStepNum = storedBoardSteps(popedBoardnum)// \u4f55\u624b\u76ee\u3067\u3053\u306e\u76e4\u9762\u306f\u5f97\u3089\u308c\u308b\u304b\n\tpopedBoardnum++\n\n\t// \u76ee\u7684\u306e\u76e4\u9762\u304b\u30c1\u30a7\u30c3\u30af\n\tisObjectiveBoard = 1\n\trepeat 9\n\t\tif ( board(cnt) != objectiveBoard(cnt) ) {\n\t\t\tisObjectiveBoard = 0\n\t\t\tbreak\n\t\t}\n\tloop\n\tif ( isObjectiveBoard ) {\n\t\tdialog \"\u898b\u3064\u304b\u3063\u305f\uff01\uff01 \"+boardRequiredStepNum+\"\u624b\u76ee\uff01\uff01\"\n\t\tbreak\n\t}\n\n\t// \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\n\temptyIdx = searchEmpty( board )\n\n\t// \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\n\temptyX = emptyIdx \\3\n\temptyY = emptyIdx /3\n\n\t// \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\trepeat 4\n\t\t// \u5217\u6319\u3059\u308b\u76e4\u9762\n\t\tdim newBoard, 9\n\t\t// \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n\t\trepeat 9 : newBoard(cnt) = board(cnt) : loop\n\t\t// \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n\t\tdx = 0 : dy = 0 : label=\"\"\n\t\tswitch( cnt )\n\t\t\tcase 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n\t\t\tcase 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n\t\t\tcase 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n\t\t\tcase 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n\t\tswend\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n\t\tswapX = emptyX + dx\n\t\tswapY = emptyY + dy\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n\t\t\tcontinue\n\t\t}\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n\t\tswapIdx = swapX + swapY *3\n\t\t// \u99d2\u306e\u4ea4\u63db\n\t\tswapPiece newBoard, emptyIdx, swapIdx\n\n\t\t// \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u304b\u8abf\u3079\u308b\n\t\tisAlreadySearched = 0\n\t\trepeat storedBoardNum\n\t\t\tpeekBoardIdx = cnt\n\t\t\tisSame = 1\n\t\t\trepeat 9\n\t\t\t\tif ( storedBoards(peekBoardIdx, cnt) != newBoard(cnt) ) {\n\t\t\t\t\tisSame = 0\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\tloop\n\t\t\tif ( isSame ) {\n\t\t\t\tisAlreadySearched = 1\n\t\t\t\tbreak\n\t\t\t}\n\t\tloop\n\n\t\t// \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3060\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\u3067\u6b21\u3078\n\t\tif ( isAlreadySearched ) : continue\n\n\t\t// \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( storedBoardNum < length( storedBoards ) ) {\n\t\t\trepeat 9\n\t\t\t\tstoredBoards(storedBoardNum, cnt) = newBoard(cnt)\n\t\t\tloop\n\t\t\tstoredBoardSteps(storedBoardNum) = boardRequiredStepNum+1// \u81ea\u5206\u306e\u76e4\u9762\uff0b\uff11\n\t\t\tstoredBoardNum++\n\t\t}\n\tloop\nloop\n```\n\n\u3044\u3084\u30fc\u3001\u30db\u30f3\u30c8\u306b\u9577\u3044\u6226\u3044\u3060\u3063\u305f\u3001\u304a\u75b2\u308c\u69d8\u3067\u3059\u3002[^taihen_2]\n\n## \u6700\u77ed\u3067\u3042\u308b\u3053\u3068\u306e\u8a3c\u660e\u3068\u3001\u5e45\u512a\u5148\u63a2\u7d22\u3068\n\n\u3053\u3053\u307e\u3067\u3067\u3056\u3063\u304f\u308a\u8aac\u660e\u3057\u3066\u304d\u305f\u8a33\u3067\u3059\u304c\u3001\u8aac\u660e\u3057\u3066\u304d\u305f\u3053\u3068\u3068\u8a00\u3048\u3070\n\n1. \u3042\u308b\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n2. \u76e4\u9762\u306e\u4fdd\u5b58\u3068\u3001\u5217\u6319\u3092\u7d44\u307f\u5408\u308f\u305b\u305f\u51e6\u7406\n3. \u5217\u6319\u306e\u6642\u306b\u4f55\u624b\u3067\u5f97\u3089\u308c\u305f\u304b\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\n\n\u3060\u3051\u3067\u3001\u5b9f\u306f**\u5f97\u3089\u308c\u305f\u89e3\u304c\u672c\u5f53\u306b\u6700\u5c0f\u624b\u6570\u306a\u306e\u304b\u306e\u4fdd\u8a3c\u3063\u3066\u3057\u3066\u306a\u304b\u3063\u305f**\u3093\u3067\u3059\u3088\u306d\u3001\u30a6\u30c3\u30ab\u30ea\u3002\n\u305d\u308c\u306b\u3001*\u5192\u982d\u3067\u8aac\u660e\u3057\u305f\u5e45\u512a\u5148\u63a2\u7d22\u306b\u3064\u3044\u3066\u3082\u89e6\u308c\u3066\u306a\u3044\u3057\u3001\u3053\u306e\u7b46\u8005\u306e\u982d\u6cb8\u3044\u3066\u308b\u306e\u3067\u306f\u2026*\u3068\u601d\u3063\u305f\u65b9\u3001**\u7d20\u6674\u3089\u3057\u3044\u3001\u6167\u773c\u3067\u3059\u306d**\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3053\u3053\u304b\u3089\u306f\u4eca\u307e\u3067\u306e\u30b3\u30fc\u30c9\u3067\u5927\u4e08\u592b\u306a\u3053\u3068\u3092\u51e6\u7406\u3092\u53ef\u8996\u5316\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u8aac\u660e\u3059\u308b\u306e\u3068\u3001\u5e45\u512a\u5148\u63a2\u7d22\u3068\u306e\u7d61\u307f\u3092\u8aac\u660e\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n### \u51e6\u7406\u30d5\u30ed\u30fc\u3092\u8003\u3048\u76f4\u3057\u3066\u307f\u308b\n\n\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u306e\u52d5\u4f5c\u3092\u5c11\u3057\u3060\u3051\u8ffd\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n1. \u307e\u305a\u3001\u6700\u521d\u306e\u76e4\u9762\u3092\u76e4\u9762\u4fdd\u5b58\u914d\u5217\u306b\u5165\u308c\u307e\u3059\n![puzzle8_searchVis_step0.png](https://qiita-image-store.s3.amazonaws.com/0/152653/665b244f-3228-b7a0-96ea-a9d067468016.png)\n\n2. \u307e\u3060\u8abf\u3079\u3066\u3044\u306a\u3044\u3001\u76e4\u9762\u4fdd\u5b58\u7528\u914d\u5217\u306b\u5165\u3063\u3066\u3044\u308b\u76e4\u9762\u3092\u8abf\u3079\u3001\u65b0\u3057\u304f\u5217\u6319\u3055\u308c\u305f\u3082\u306e\u3092\u8ffd\u52a0\u3059\u308b\n![puzzle8_searchVis_step1.png](https://qiita-image-store.s3.amazonaws.com/0/152653/af50303c-c81c-6eb1-c9bd-c6f513bd1f21.png)\n\n3. 2.\u3092\u3082\u3046\u4e00\u56de\n![puzzle8_searchVis_step2.png](https://qiita-image-store.s3.amazonaws.com/0/152653/6e1119c2-1ba1-f3cd-9767-885c90addae9.png)\n\n4. 2.\u3092\u3082\u3046\u4e00\u56de\n![puzzle8_searchVis_step3.png](https://qiita-image-store.s3.amazonaws.com/0/152653/25c865d6-a89d-27ca-9b0f-85edcb7d5cc5.png)\n\n5. 2.\u3092\u3082\u3046\u4e00\u56de\n![puzzle8_searchVis_step4.png](https://qiita-image-store.s3.amazonaws.com/0/152653/27c2a86c-526f-5be1-d83f-716a8b548044.png)\n\n\u2026\u3082\u3046\u305d\u308d\u305d\u308d\u898b\u3048\u3066\u304d\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u4e0b\u6bb5\u306e\u300c\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u4f55\u624b\u3067\u8fbf\u308a\u7740\u304f\u304b\u300d\u3092\u8868\u3059\u6570\u5024\u306b\u6ce8\u76ee\u3057\u3066\u3044\u305f\u3060\u304d\u305f\u3044\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u308b\u3068**\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u5c11\u306a\u3044\u624b\u6570\u3067\u8fbf\u308a\u7740\u304f\u76e4\u9762\u304c\u5148\u306b\u5217\u6319\u3055\u308c\u308b**\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\u3064\u307e\u308a\u3001**\u3053\u306e\u624b\u9806\u3067\u76ee\u7684\u306e\u76e4\u9762\u304c\u898b\u3064\u304b\u3063\u305f\u5834\u5408\u3001\u305d\u306e\u6642\u4fdd\u5b58\u3057\u3066\u3044\u305f\u624b\u6570\u304c\u6700\u5c0f\u3067\u3042\u308b**\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u308b\u308f\u3051\u3067\u3059\u3002\n\n\u2026\u3068\u3044\u3046\u3001\u5168\u304f\u8a3c\u660e\u306b\u3082\u4f55\u3082\u306a\u3063\u3066\u306a\u304b\u3063\u305f\u308a\u3059\u308b\u3093\u3067\u3059\u304c\u3001\u305d\u3093\u306a\u611f\u3058\u3002\n\n### \u5e45\u512a\u5148\u63a2\u7d22\n\n\u5e45\u512a\u5148\u63a2\u7d22\u3068\u306e\u7d61\u307f\u3067\u3059\u304c\u3001\u5143\u3005**\u5e45\u512a\u5148\u63a2\u7d22\u3068\u306f\u30b0\u30e9\u30d5\u3084\u30c4\u30ea\u30fc\u4e0a\u306e\u30ce\u30fc\u30c9\u3092\u3069\u306e\u3088\u3046\u306b\u8abf\u3079\u3066\u3044\u304f\u306e\u304b\uff08\u63a2\u7d22\u3059\u308b\u306e\u304b\uff09\u3001\u305d\u306e\u51e6\u7406\u9806\u3092\u8868\u3059\u7528\u8a9e**\u3067\u3059\u3001\n\u305d\u3057\u3066\u3001\u5e45\u512a\u5148\u63a2\u7d22\u306f\u63a2\u7d22\u9806\u3068\u3057\u3066\u306f\u3001**\u30b0\u30e9\u30d5\u3084\u30c4\u30ea\u30fc\u4e0a\u3067\u8ddd\u96e2\u304c\u8fd1\u3044\u3082\u306e\u304b\u3089\u9806\u306b\u63a2\u7d22\u3055\u308c\u308b**\u3068\u3044\u3046\u6027\u8cea\u3092\u6301\u3061\u307e\u3059\u3002\n\u305d\u3046\u3001\u4e0a\u8a18\u3067\u8ff0\u3079\u305f\u3082\u306e\u3068\u540c\u3058\u3067\u3059\u306d\u3002\n\n\u5b9f\u306f\u3053\u308c\u307e\u3067\u8ff0\u3079\u305f\u76e4\u9762\u306e\u5217\u6319\u306e\u4ed5\u65b9\u306f\u3001\u3061\u3087\u3046\u3069**\u76e4\u9762\u3092\u30b0\u30e9\u30d5\u4e0a\u306e1\u30ce\u30fc\u30c9\u3001\u30ce\u30fc\u30c9\u9593\u306e\u8ddd\u96e2\u3092\u9077\u79fb\u306b\u5fc5\u8981\u306a\u6700\u5c0f\u624b\u6570\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u305f\u6642\u306e\u5e45\u512a\u5148\u63a2\u7d22\u3068\u4e00\u81f4\u3057\u307e\u3059**\u3002\n\n#### \u3063\u3066\u8a00\u308f\u308c\u3066\u3082\u30ef\u30ab\u30e9\u30f3\u3088\u3001\u56f3\u3067\u793a\u3057\u3066\u3088\n\n\u3053\u3053\u306f\u4f59\u88d5\u304c\u3042\u3063\u305f\u3089\u5f8c\u3067\u66f8\u304f\u3001\u30b9\u30de\u30f3\u30ca\u3002\uff08\u3057\u3093\u3060\u9b5a\u306e\u76ee\uff09\n\n## \u7d50\u3073\n\n\u3053\u3053\u307e\u3067\u30678\u30d1\u30ba\u30eb\u3092\u89e3\u304f\u3053\u3068\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3001**\uff94\uff6f\uff80\uff70\uff01**\n\n***\u3081\u3067\u305f\u3057\u3081\u3067\u305f\u3057\u2026***\n\n---\n---\n---\n\n## \u9ad8\u901f\u5316\u306e\u4e00\u624b\n\n\u2026\u3068\u3059\u3079\u304d\u304b\u306f\u500b\u4eba\u306b\u3088\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u5b9f\u884c\u3057\u3066\u307f\u308b\u3068\u5206\u304b\u308b\u901a\u308a**\u89e3\u3092\u6c42\u3081\u308b\u306e\u304c\u3068\u3066\u3082\u9045\u3044**\u3067\u3059\u3002\n\u3068\u3066\u3082\u5b9f\u7528\uff08\uff1f\uff09\u306b\u8010\u3048\u308b\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u6700\u5c0f\u624b\u6570\u304c30\u3092\u8d85\u3048\u308b\u3082\u306e\u306f\u30b5\u30af\u30c3\u3068\u4f55\u79d2\u5f8c\u306b\u3001\u307f\u305f\u3044\u306a\u6c17\u8efd\u3055\u3067\u6c42\u307e\u308a\u307e\u305b\u3093\u3002\n\n**\u3053\u3053\u304b\u3089\u306f\u3069\u3046\u3059\u308c\u3070\u63a2\u7d22\u3092\u9ad8\u901f\u5316\u3067\u304d\u308b\u306e\u304b\u3001\u4e00\u822c\u7684\u306a\u624b\u6cd5\u306b\u3064\u3044\u3066\u306e\u5c0e\u5165\u3068\u7c21\u5358\u306a\u89e3\u8aac\u3092\u3064\u3051\u3066\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002**\n\u5192\u982d\u3067\u3082\u8aac\u660e\u3057\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u304b\u3089\u306fHSP\u4e2d\u7d1a\u8005\u4ee5\u4e0a\u304c\u5bfe\u8c61\u3067\u3001\u5185\u5bb9\u306b\u3064\u3044\u3066\u3082\u5c11\u3057\u3070\u304b\u308a\u91cd\u3044\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n### \u73fe\u72b6\u78ba\u8a8d\n\n\u3068\u308a\u3042\u3048\u305a\u3001\u73fe\u72b6\u3067\u3069\u306e\u624b\u6570\u3067\u3069\u308c\u304f\u3089\u3044\u6642\u9593\u3092\u4f7f\u3046\u306e\u304b\u3001\u8abf\u3079\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u3064\u304d\u3067\u3001\u304b\u3064\u6642\u9593\u8a08\u6e2c\u3082\u3064\u3044\u3066\u3044\u308b\u30b3\u30fc\u30c9\u304c\u6b21\u3002\n\n```hsp:\u624b\u6570\u6570\u3068\u6642\u9593\u8a08\u6e2c\n#include \"winmm.as\"\n\n#module\n// \u76e4\u9762\u306e\u63cf\u753b\n// \u8d77\u70b9X, \u8d77\u70b9Y, \u76e4\u9762\u914d\u5217, \u63cf\u753b\u30b5\u30a4\u30ba\n#deffunc drawBoard int cx, int cy, array board, int size\n\tbsz = size*3\n\n\t// \u80cc\u666f\uff08\u4e0b\u5730\uff09\u306e\u30af\u30ea\u30a2\n\tcolor 255, 255, 255 : boxf cx, cy, cx+bsz, cy+bsz\n\n\t// \u67a0\u7dda\n\tcolor 0, 0, 0\n\trepeat 4\n\t\tofs = cnt*size\n\t\tline cx, cy+ofs, cx+bsz, cy+ofs\n\t\tline cx+ofs, cy, cx+ofs, cy+bsz\n\tloop\n\t// \u99d2\n\tfont msgothic, size\n\trepeat 9\n\t\tcntXP3S = cx + cnt\\3 * size\n\t\tcntXD3S = cy + cnt/3 * size\n\t\tcolor 0, 0, 0 : pos cntXP3S+size/4, cntXD3S\n\t\tif ( board(cnt) != 0 ) {// \u7a7a\u767d\u3058\u3083\u306a\u3044\u306a\u3089\n\t\t\tmes \"\"+board(cnt)\n\t\t}\n\tloop\nreturn\n\n// \u76e4\u9762\u306e\u4e2d\u3067\u7a7a\u767d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\n#defcfunc searchEmpty array board, local res\n\tres = -1\n\trepeat 9\n\t\tif ( board(cnt) == 0 ) {\n\t\t\tres = cnt\n\t\t\tbreak\n\t\t}\n\tloop\nreturn res\n\n// \u76e4\u9762\u306e\u4e2d\u306e2\u3064\u306e\u8981\u7d20\u4f4d\u7f6e\u3092\u4ea4\u63db\u3059\u308b\n#deffunc swapPiece array board, int piece1, int piece2, local t\n\tt = board(piece1)\n\tboard(piece1) = board(piece2)\n\tboard(piece2) = t\nreturn\n#global\n\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 181440, 9// 9!/2\ndim storedBoardSteps, 181440// \u4f55\u624b\u76ee\u3067\u8fbf\u308a\u7740\u3044\u305f\u304b\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\npopedBoardNum = 0// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u65e2\u306b\u8abf\u3079\u305f\u304b\uff08\u66f4\u306b\u5217\u6319\u3057\u305f\u304b\uff09\n\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = 0, 1, 2, 3, 4, 5, 6, 7, 8\ndrawBoard 10, 10, board, 40\n\nrepeat 9\n\tstoredBoards(storedBoardNum, cnt) = board(cnt)\nloop\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u521d\u306e\u76e4\u9762\u306f\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nstoredBoardNum++\n\n// \u76ee\u7684\u306e\u76e4\u9762\nobjectiveBoard = 3, 1, 2, 4, 7, 5, 6, 0, 8// 3\u624b\n//objectiveBoard = 3, 1, 2, 4, 7, 0, 6, 8, 5// 5\u624b\n//objectiveBoard = 0, 1, 5, 3, 2, 8, 6, 4, 7// 8\u624b\n//objectiveBoard = 3, 1, 5, 2, 4, 8, 6, 0, 7// 11\u624b\n//objectiveBoard = 3, 1, 0, 2, 7, 5, 6, 8, 4// 12\u624b\n//objectiveBoard = 3, 0, 1, 2, 7, 5, 6, 8, 4// 13\u624b\n//objectiveBoard = 0, 1, 2, 4, 7, 5, 6, 3, 8// 14\u624b\n//objectiveBoard = 7, 6, 2, 1, 5, 0, 3, 4, 8// 15\u624b\n//objectiveBoard = 4, 2, 8, 1, 0, 5, 6, 7, 3// 16\u624b\n//objectiveBoard = 4, 0, 5, 1, 8, 2, 6, 7, 3// 17\u624b\ndrawBoard 180, 10, objectiveBoard, 40\n\n// \u958b\u59cb\u6642\u9593\ntimeGetTime : st = stat\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n\t// \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n\tif ( popedBoardNum >= storedBoardNum ) : break\n\n\t// \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n\tdim board, 9\n\trepeat 9 : board(cnt) = storedBoards(popedBoardnum, cnt) : loop\n\tboardRequiredStepNum = storedBoardSteps(popedBoardnum)// \u4f55\u624b\u76ee\u3067\u3053\u306e\u76e4\u9762\u306f\u5f97\u3089\u308c\u308b\u304b\n\tpopedBoardnum++\n\n\t// \u76ee\u7684\u306e\u76e4\u9762\u304b\u30c1\u30a7\u30c3\u30af\n\tisObjectiveBoard = 1\n\trepeat 9\n\t\tif ( board(cnt) != objectiveBoard(cnt) ) {\n\t\t\tisObjectiveBoard = 0\n\t\t\tbreak\n\t\t}\n\tloop\n\tif ( isObjectiveBoard ) {\n\t\tbreak\n\t}\n\n\t// \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\n\temptyIdx = searchEmpty( board )\n\n\t// \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\n\temptyX = emptyIdx \\3\n\temptyY = emptyIdx /3\n\n\t// \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\trepeat 4\n\t\t// \u5217\u6319\u3059\u308b\u76e4\u9762\n\t\tdim newBoard, 9\n\t\t// \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n\t\trepeat 9 : newBoard(cnt) = board(cnt) : loop\n\t\t// \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n\t\tdx = 0 : dy = 0 : label=\"\"\n\t\tswitch( cnt )\n\t\t\tcase 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n\t\t\tcase 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n\t\t\tcase 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n\t\t\tcase 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n\t\tswend\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n\t\tswapX = emptyX + dx\n\t\tswapY = emptyY + dy\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n\t\t\tcontinue\n\t\t}\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n\t\tswapIdx = swapX + swapY *3\n\t\t// \u99d2\u306e\u4ea4\u63db\n\t\tswapPiece newBoard, emptyIdx, swapIdx\n\n\t\t// \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u304b\u8abf\u3079\u308b\n\t\tisAlreadySearched = 0\n\t\trepeat storedBoardNum\n\t\t\tpeekBoardIdx = cnt\n\t\t\tisSame = 1\n\t\t\trepeat 9\n\t\t\t\tif ( storedBoards(peekBoardIdx, cnt) != newBoard(cnt) ) {\n\t\t\t\t\tisSame = 0\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\tloop\n\t\t\tif ( isSame ) {\n\t\t\t\tisAlreadySearched = 1\n\t\t\t\tbreak\n\t\t\t}\n\t\tloop\n\n\t\t// \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3060\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\u3067\u6b21\u3078\n\t\tif ( isAlreadySearched ) : continue\n\n\t\t// \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( storedBoardNum < length( storedBoards ) ) {\n\t\t\trepeat 9\n\t\t\t\tstoredBoards(storedBoardNum, cnt) = newBoard(cnt)\n\t\t\tloop\n\t\t\tstoredBoardSteps(storedBoardNum) = boardRequiredStepNum+1// \u81ea\u5206\u306e\u76e4\u9762\uff0b\uff11\n\t\t\tstoredBoardNum++\n\t\t}\n\tloop\n\n\t// \u9069\u5f53\u306bwait\u3092\u3044\u308c\u308b\n\tif ( (popedBoardnum\\500) == 0 ) {\n\t\ttitle \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1a\u3000\"+popedBoardnum\n\t\tawait 0\n\t}\nloop\n\n// \u304b\u304b\u3063\u305f\u6642\u9593\ntimeGetTime : ed = stat\ndelta = ed -st\n\ncolor 0, 0, 0 : pos 10, 200 : font msgothic, 20\nmes \"\u624b\u6570\u3000\uff1a\u3000\"+boardRequiredStepNum\nmes \"\u304b\u304b\u3063\u305f\u6642\u9593\u3000\uff1d\u3000\"+(delta)+\"\u30df\u30ea\u79d2\"\nmes \"\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(storedBoardNum)\nmes \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(popedBoardnum)\n```\n\n\u76ee\u7684\u76e4\u9762\uff08objectiveBoard\uff09\u306b\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3067\u3001\u5fc5\u8981\u306a\u6700\u5c0f\u624b\u6570\u3068\u4e00\u7dd2\u306b\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u3092\u8ffd\u52a0\u3057\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\u73fe\u72b6\u306e\u30b3\u30fc\u30c9\u3067\u306e\u5fc5\u8981\u6642\u9593\u3092\u30c6\u30fc\u30d6\u30eb\u5316\u3057\u3066\u304a\u304f\u3068\u6b21\u306e\u3088\u3046\u306a\u611f\u3058\u3002\n\n|\u624b\u6570|\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09|\u5217\u6319\u3057\u305f\u76e4\u9762\u6570|\u8abf\u3079\u305f\u76e4\u9762\u6570|\n|---:|---:|---:|---:|\n|3 |0 |19 |10 |\n|5 |2 |63 |38 |\n|8 |40 |394 |252 |\n|11 |671 |1737 |1043 |\n|12 |1744 |2791 |1791 |\n|13 |4584 |4613 |2792 |\n|14 |7209 |5706 |3575 |\n|15 |18602 |8934 |5678 |\n|16 |58894 |15887 |10544 |\n|17 |144159 |25207 |16317 |\n\n\u7b46\u8005\u306e\u74b0\u5883\u3067\u306e\u8a08\u6e2c\u7d50\u679c\u3067\u3059\u3001\u8a08\u6e2c\u74b0\u5883\u306b\u3088\u3063\u3066\u7d50\u679c\u304c\u5909\u308f\u308b\u306e\u306f\u3054\u5bb9\u8d66\u304f\u3060\u3055\u3044\u3002\n18\u624b\u76ee\u4ee5\u4e0a\u306f\u30b9\u30b4\u30a4\u6642\u9593\u304b\u304b\u308b\u306e\u3067\u3001\u3084\u3081\u307e\u3057\u305f\u3002\n8\u30d1\u30ba\u30eb\u306f\u6700\u9577\u624b\u6570\u304c31\u624b\u306a\u306e\u3067\u3001\u305d\u3053\u307e\u3067\u3084\u308d\u3046\u3068\u3059\u308b\u3068\u4f55\u65e5\u304b\u3001\u4f55\u9031\u9593\u304b\u3001\u3042\u308b\u3044\u306f\u3082\u3063\u3068\u304b\u304b\u308a\u305d\u3046\u3067\u3059\u306d\u3002\n\n### \u76e4\u9762\u8868\u73fe\u306e\u5727\u7e2e\n\n\u3053\u308c\u307e\u3067\u306f\u76e4\u9762\u306e\u8868\u73fe\u306b\u914d\u5217\u3092\u7528\u3044\u3066\u304d\u307e\u3057\u305f\u3002\n\u305d\u308c\u305e\u308c\u306e\u99d2\u3092\u8868\u3059\u306e\u306b\u914d\u5217\u306e\u8981\u7d20 1 \u3064\u3092\u6d88\u8cbb\u3057\u3066\u3044\u305f\u5f62\u3067\u3059\u306d\u3002\n\n\u3082\u3057\u76e4\u9762\u3092\u8868\u3059\u306e\u306b\u3088\u308a\u5c11\u306a\u3044\u8981\u7d20\u6570\u306e\u914d\u5217\u3067\u8868\u3059\u3053\u3068\u304c\u51fa\u6765\u305f\u3089\u3001**\u76e4\u9762\u306e\u91cd\u8907\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u904e\u7a0b\u3067\u8981\u7d20\u306e\u6bd4\u8f03\u3092\u3059\u308b\u30eb\u30fc\u30d7\u304c\u6e1b\u308b\u306e\u3067\u3001\u9ad8\u901f\u5316\u3067\u304d\u308b**\u3068\u8003\u3048\u3089\u308c\u307e\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3053\u306e\u76e4\u9762\u306e\u8868\u73fe\u3092\u3069\u3046\u306b\u304b\u5727\u7e2e\u3059\u308b\u3053\u3068\u3092\u8003\u3048\u307e\u3059\u3002\n\n\u3068\u3053\u308d\u3067\u3001**\u99d2\u306e\u7a2e\u985e\u306f\u7a7a\u767d\u3082\u542b\u3081\u3066\u50c5\u304b 9 \u7a2e\u985e\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u3002**\n1 \u3064\u306e\u99d2\u3092\u8868\u3059\u306e\u306b\u672c\u8cea\u7684\u306b\u5fc5\u8981\u306a\u306e\u306f\u50c5\u304b 4 \u30d3\u30c3\u30c8\u3067\u3059\u3002\uff082 \u306e 3 \u4e57\u306f 8 \u3067\u3001\u30ae\u30ea\u30ae\u30ea 3 \u30d3\u30c3\u30c8\u306b\u53ce\u307e\u3089\u306a\u3044\uff09\n\u3064\u307e\u308a**\u3042\u308b\u76e4\u9762\u3092\u8868\u73fe\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u306e\u306f 4 x9 \u3067 36 \u30d3\u30c3\u30c8\u3067\u3059**\u3002\uff08\u306a\u304a\u3001\u88dc\u8db3\u3057\u3066\u304a\u304f\u3068\u8a71\u3092\u7c21\u5358\u306b\u3059\u308b\u305f\u3081\u306b\u3053\u3046\u66f8\u3044\u3066\u307e\u3059\u304c\u3001\u672c\u8cea\u7684\u306b\u5fc5\u8981\u306a\u30d3\u30c3\u30c8\u6570\u306f\u3082\u3063\u3068\u5c11\u306a\u3044\u3067\u3059\uff09\n\nHSP\u3067\u914d\u5217\u306f 1 \u8981\u7d20\u306b\u3064\u304d 32 \u30d3\u30c3\u30c8\u306a\u306e\u3067\u3001\u76e4\u9762\u3092\u8868\u3059\u306e\u306b**32 x 9 \u3067 282 \u30d3\u30c3\u30c8\u3082\u4f7f\u3063\u3066\u3044\u305f**\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u3046\u3084\u3063\u3066\u6570\u5024\u3067\u8a08\u7b97\u3059\u308b\u3068\u7d50\u69cb\u5927\u98df\u3044\u3057\u3066\u305f\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u306d\u3002\n\n![puzzle8_boardExpression_shrink.png](https://qiita-image-store.s3.amazonaws.com/0/152653/8df30932-09c9-73f8-fb85-9a91f4ad348f.png)\n\n\u305d\u308c\u3067\u306f\u8981\u3089\u306a\u3044\u30d3\u30c3\u30c8\u3092\u6368\u3066\u300132 \u30d3\u30c3\u30c8\u306b 4 \u30d3\u30c3\u30c8\u305a\u3064\u99d2\u3092\u683c\u7d0d\u3057\u3066\u3044\u304f\u3068\u3001**\u914d\u5217\u3068\u3057\u3066\u306f\u306a\u3093\u3068 2 \u8981\u7d20\u306b\u53ce\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059**\u3002\n\u4eca\u307e\u3067\u306f\u7279\u5b9a\u306e\u76e4\u9762\u3092\u8868\u3059\u306e\u306b 9 \u8981\u7d20\u4f7f\u3063\u3066\u3044\u305f\u306e\u3067\u30019 \u21d2 2 \u3068\u5727\u7e2e\u3067\u304d\u307e\u3057\u305f\u3001\u30b9\u30b4\u30a4\uff01\uff01\n\n#### \u3067\u6e80\u8db3\u3059\u308b\u306e\u306f\u307e\u3060\u65e9\u304f\u3066\u2026\n\n9 \u21d2 2 \u306e\u5727\u7e2e\u3067\u3082\u51c4\u3044\u3053\u3068\u3067\u306f\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u3084\u3063\u3071\u308a\u3061\u3087\u3063\u3068\u6094\u3057\u3044\u3067\u3059\u3088\u306d\u30012\u8981\u7d20\u76ee\u306f 1\u8981\u7d20\u76ee\u306b\u53ce\u307e\u308a\u304d\u3089\u306a\u304b\u3063\u305f 4 \u30d3\u30c3\u30c8\u3057\u304b\u306a\u3044\u306e\u3067\u3001\u3084\u3063\u3071\u308a\u7121\u99c4\u306b\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u307e\u3060\u3042\u308a\u307e\u3059\u3002\n\n\u3068\u3053\u308d\u3067\u3001\u3088\u304f\u3088\u304f\u8003\u3048\u308b\u3068\u99d2\u306f 9 \u7a2e\u985e\u3067\u6c7a\u307e\u3063\u3066\u3044\u308b\u306e\u3067\u3001**8 \u3064\u306e\u99d2\u306e\u4f4d\u7f6e\u3068\u7a2e\u985e\u304c\u5206\u304b\u308c\u3070\u3001\u6b8b\u308a 1 \u3064\u306f\u8a08\u7b97\u3067\u6c42\u3081\u308b\u3053\u3068\u304c\u53ef\u80fd**\u3067\u3059\u3088\u306d\u3002\n\u3053\u306e\u70b9\u306b\u6c17\u3065\u304f\u3068**\u6700\u5f8c\u306e 4 \u30d3\u30c3\u30c8\u306f\u5b9f\u306f\u76e4\u9762\u306e\u8868\u73fe\u30fb\u4fdd\u5b58\u3068\u3044\u3046\u610f\u5473\u3067\u306f\u5fc5\u8981\u306a\u3044**\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\u4eca\u56de\u306f\u5358\u7d14\u306b\u76e4\u9762\u3092\u30d3\u30c3\u30c8\u3067\u5727\u7e2e\uff0b1\u99d2\u524a\u6e1b\u3057\u3066 32 \u30d3\u30c3\u30c8\u306e\u76e4\u9762\u8868\u73fe\u3092\u5f97\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u306f\u898b\u65b9\u306b\u3088\u3063\u3066\u306f\u76e4\u9762\u306e\uff08\u5b8c\u5168\uff09\u30cf\u30c3\u30b7\u30e5\u5316\u3068\u3082\u3068\u308c\u307e\u3059\u3002\n\n#### \u30b3\u30fc\u30c9\u4e0a\u3067\u306f\n\n\u30c7\u30fc\u30bf\u69cb\u9020\u304c\u5909\u308f\u308b\u306e\u3067\u3001\u76e4\u9762\u3092\u4f7f\u3063\u305f\u8a08\u7b97\u306e\u968f\u6240\u3092\u30ac\u30e9\u30ea\u3068\u5909\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u4eca\u307e\u3067\u306f**array\u3067\u53d7\u3051\u53d6\u3063\u3066\u3044\u305f\u76e4\u9762\u304cint\u306b\u306a\u308a\u307e\u3059**\u3002\n**\u76e4\u9762\u306e\u6bd4\u8f03\u306fint\u578b\u306e\u6bd4\u8f03\u4e00\u56de\u3067\u6e08\u307f\u307e\u3059**\u3002\n\n\u8272\u3005\u30b3\u30fc\u30c9\u304c\u6539\u5909\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u5168\u30b3\u30fc\u30c9\u306f\u6b21\u3002\n\u5148\u8ff0\u306e\u6642\u9593\u8a08\u6e2c\u6a5f\u80fd\u3064\u304d\u306e\u3082\u306e\u3092\u30d9\u30fc\u30b9\u306b\u3057\u307e\u3057\u305f\u3002\n\n```hsp:\u76e4\u9762\u8868\u73fe\u3092\u5727\u7e2e\u3057\u30668\u30d1\u30ba\u30eb\u3092\u89e3\u304f\n#include \"winmm.as\"\n\n#module\n// \u76e4\u9762\u306e\u63cf\u753b\n// \u8d77\u70b9X, \u8d77\u70b9Y, \u76e4\u9762\u914d\u5217, \u63cf\u753b\u30b5\u30a4\u30ba\n#deffunc drawBoard int cx, int cy, int board, int size\n\tbsz = size*3\n\n\t// \u80cc\u666f\uff08\u4e0b\u5730\uff09\u306e\u30af\u30ea\u30a2\n\tcolor 255, 255, 255 : boxf cx, cy, cx+bsz, cy+bsz\n\n\t// \u67a0\u7dda\n\tcolor 0, 0, 0\n\trepeat 4\n\t\tofs = cnt*size\n\t\tline cx, cy+ofs, cx+bsz, cy+ofs\n\t\tline cx+ofs, cy, cx+ofs, cy+bsz\n\tloop\n\t// \u99d2\n\tfont msgothic, size\n\trepeat 9\n\t\tcntXP3S = cx + cnt\\3 * size\n\t\tcntXD3S = cy + cnt/3 * size\n\t\tcolor 0, 0, 0 : pos cntXP3S+size/4, cntXD3S\n\t\tif ( nth(board, cnt) != 0 ) {// \u7a7a\u767d\u3058\u3083\u306a\u3044\u306a\u3089\n\t\t\tmes \"\"+nth(board, cnt)\n\t\t}\n\tloop\nreturn\n\n// \u76e4\u9762\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u305d\u306e\u99d2\u3092\u8fd4\u3059\n#defcfunc nth int board, int idx\n\tif ( idx >= 8 ) {\n\t\tsum = 0\n\t\trepeat 8\n\t\t\tsum += nth(board, cnt)\n\t\tloop\n\t\treturn 36 - sum\n\t}\nreturn ( board >> (idx*4) ) & 0x0f\n\n// \u99d2\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u76e4\u9762\u306eint\u8868\u73fe\u3067\u306e\u5024\u3092\u8fd4\u3059\n#defcfunc toNth int value, int idx\n\tif ( idx >= 8 ) : return 0\nreturn ( value & 0x0f ) << (idx*4)\n\n// 9\u3064\u306e\u99d2\u3092\u53d7\u3051\u53d6\u3063\u3066\u76e4\u9762\u3092\u8fd4\u3059\n#defcfunc makeBoard int p1, int p2, int p3, int p4, int p5, int p6, int p7, int p8, int p9\nreturn toNth(p1,0)+toNth(p2,1)+toNth(p3,2)+toNth(p4,3)+toNth(p5,4)+toNth(p6,5)+toNth(p7,6)+toNth(p8,7)// p9\u306f\u4f7f\u308f\u306a\u3044\n\n// \u76e4\u9762\u306e\u4e2d\u3067\u7a7a\u767d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\n#defcfunc searchEmpty int board, local res\n\tres = -1\n\trepeat 9\n\t\tif ( nth(board, cnt) ) : continue\n\t\tres = cnt\n\t\tbreak\n\tloop\nreturn res\n\n// \u76e4\u9762\u306e\u4e2d\u306e2\u3064\u306e\u8981\u7d20\u4f4d\u7f6e\u3092\u4ea4\u63db\u3057\u3001\u305d\u306e\u76e4\u9762\u3092\u8fd4\u3059\n#defcfunc swapPiece int board, int piece1, int piece2, local t\n\tn1 = nth(board, piece1) : n2 = nth(board, piece2)\nreturn board - toNth(n1, piece1) - toNth(n2, piece2) + toNth(n1, piece2) + toNth(n2, piece1)\n#global\n\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 181440// 9!/2\ndim storedBoardSteps, 181440// \u4f55\u624b\u76ee\u3067\u8fbf\u308a\u7740\u3044\u305f\u304b\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\npopedBoardNum = 0// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u65e2\u306b\u8abf\u3079\u305f\u304b\uff08\u66f4\u306b\u5217\u6319\u3057\u305f\u304b\uff09\n\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = makeBoard( 0, 1, 2, 3, 4, 5, 6, 7, 8 )\ndrawBoard 10, 10, board, 40\n\nstoredBoards(storedBoardNum) = board\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u521d\u306e\u76e4\u9762\u306f\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nstoredBoardNum++\n\n// \u76ee\u7684\u306e\u76e4\u9762\nobjectiveBoard = makeBoard( 3, 1, 2, 4, 7, 5, 6, 0, 8 )// 3\u624b\n//objectiveBoard = makeBoard( 3, 1, 2, 4, 7, 0, 6, 8, 5 )// 5\u624b\n//objectiveBoard = makeBoard( 0, 1, 5, 3, 2, 8, 6, 4, 7 )// 8\u624b\n//objectiveBoard = makeBoard( 3, 1, 5, 2, 4, 8, 6, 0, 7 )// 11\u624b\n//objectiveBoard = makeBoard( 3, 1, 0, 2, 7, 5, 6, 8, 4 )// 12\u624b\n//objectiveBoard = makeBoard( 3, 0, 1, 2, 7, 5, 6, 8, 4 )// 13\u624b\n//objectiveBoard = makeBoard( 0, 1, 2, 4, 7, 5, 6, 3, 8 )// 14\u624b\n//objectiveBoard = makeBoard( 7, 6, 2, 1, 5, 0, 3, 4, 8 )// 15\u624b\n//objectiveBoard = makeBoard( 4, 2, 8, 1, 0, 5, 6, 7, 3 )// 16\u624b\n//objectiveBoard = makeBoard( 4, 0, 5, 1, 8, 2, 6, 7, 3 )// 17\u624b\ndrawBoard 180, 10, objectiveBoard, 40\n\n// \u958b\u59cb\u6642\u9593\ntimeGetTime : st = stat\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n\t// \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n\tif ( popedBoardNum >= storedBoardNum ) : break\n\n\t// \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n\tboard = storedBoards(popedBoardnum)\n\tboardRequiredStepNum = storedBoardSteps(popedBoardnum)// \u4f55\u624b\u76ee\u3067\u3053\u306e\u76e4\u9762\u306f\u5f97\u3089\u308c\u308b\u304b\n\tpopedBoardnum++\n\n\t// \u76ee\u7684\u306e\u76e4\u9762\u304b\u30c1\u30a7\u30c3\u30af\n\tisObjectiveBoard = ( board == objectiveBoard )\n\tif ( isObjectiveBoard ) {\n\t\tbreak\n\t}\n\n\t// \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\n\temptyIdx = searchEmpty( board )\n\n\t// \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\n\temptyX = emptyIdx \\3\n\temptyY = emptyIdx /3\n\n\t// \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\trepeat 4\n\t\t// \u5217\u6319\u3059\u308b\u76e4\u9762\n\t\t// \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n\t\tnewBoard = board\n\t\t// \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n\t\tdx = 0 : dy = 0 : label=\"\"\n\t\tswitch( cnt )\n\t\t\tcase 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n\t\t\tcase 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n\t\t\tcase 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n\t\t\tcase 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n\t\tswend\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n\t\tswapX = emptyX + dx\n\t\tswapY = emptyY + dy\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n\t\t\tcontinue\n\t\t}\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n\t\tswapIdx = swapX + swapY *3\n\t\t// \u99d2\u306e\u4ea4\u63db\n\t\tnewBoard = swapPiece( newBoard, emptyIdx, swapIdx )\n\n\t\t// \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u304b\u8abf\u3079\u308b\n\t\tisAlreadySearched = 0\n\t\trepeat storedBoardNum\n\t\t\tpeekBoardIdx = cnt\n\t\t\tisSame = ( storedBoards(peekBoardIdx) == newBoard )\n\t\t\tif ( isSame ) {\n\t\t\t\tisAlreadySearched = 1\n\t\t\t\tbreak\n\t\t\t}\n\t\tloop\n\n\t\t// \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3060\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\u3067\u6b21\u3078\n\t\tif ( isAlreadySearched ) : continue\n\n\t\t// \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( storedBoardNum < length( storedBoards ) ) {\n\t\t\tstoredBoards(storedBoardNum) = newBoard\n\t\t\tstoredBoardSteps(storedBoardNum) = boardRequiredStepNum+1// \u81ea\u5206\u306e\u76e4\u9762\uff0b\uff11\n\t\t\tstoredBoardNum++\n\t\t}\n\tloop\n\n\t// \u9069\u5f53\u306bwait\u3092\u3044\u308c\u308b\n\tif ( (popedBoardnum\\500) == 0 ) {\n\t\ttitle \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1a\u3000\"+popedBoardnum\n\t\tawait 0\n\t}\nloop\n\n// \u304b\u304b\u3063\u305f\u6642\u9593\ntimeGetTime : ed = stat\ndelta = ed -st\n\ncolor 0, 0, 0 : pos 10, 200 : font msgothic, 20\nmes \"\u624b\u6570\u3000\uff1a\u3000\"+boardRequiredStepNum\nmes \"\u304b\u304b\u3063\u305f\u6642\u9593\u3000\uff1d\u3000\"+(delta)+\"\u30df\u30ea\u79d2\"\nmes \"\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(storedBoardNum)\nmes \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(popedBoardnum)\n```\n\n\u6642\u9593\u8a08\u6e2c\u7d50\u679c\u306f\u6b21\u3002\n\n|\u624b\u6570|\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09|\u53c2\u8003\uff1a\u5143\u306e\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09|\u5217\u6319\u3057\u305f\u76e4\u9762\u6570|\u8abf\u3079\u305f\u76e4\u9762\u6570|\n|---:|---:|---:|---:|---:|\n|3 |**0** |0 |19 |10 |\n|5 |**1** |2 |63 |38 |\n|8 |**21** |40 |394 |252 |\n|11 |**329** |671 |1737 |1043 |\n|12 |**849** |1744 |2791 |1791 |\n|13 |**2278** |4584 |4613 |2792 |\n|14 |**3571** |7209 |5706 |3575 |\n|15 |**8744** |18602 |8934 |5678 |\n|16 |**29104** |58894 |15887 |10544 |\n|17 |**72138** |144159 |25207 |16317 |\n\n**\u5927\u4f532\u500d\u304f\u3089\u3044\u65e9\u304f\u306a\u3063\u305f**\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3001\u3084\u3063\u3068\u3044\u3066\u306a\u3093\u3067\u3059\u304c\u5fae\u5999\u3067\u3059\u306d\uff1b\uff1b\n\u5727\u7e2e\u3057\u305f\u306e\u3067\u6bd4\u8f03\u3068\u4fdd\u5b58\u306f\u65e9\u304f\u306a\u3063\u305f\u3051\u3069\u3001\u99d2\u306e\u4ea4\u63db\u306a\u3069\u3067\u8a08\u7b97\u304c\u5897\u3048\u305f\u7b87\u6240\u3082\u3042\u3063\u305f\u306e\u3067\u305d\u3053\u307e\u3067\u5287\u7684\u306a\u9ad8\u901f\u5316\u306b\u306f\u81f3\u3089\u306a\u304b\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\u305f\u3060\u3001**\u76e4\u9762\u304c\u5b8c\u5168\u306b\u4e00\u3064\u306e\u6570\u5024\u306b\u306a\u3063\u305f\u3053\u3068\u3067\u9069\u7528\u3057\u3084\u3059\u304f\u306a\u3063\u305f\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306f\u591a\u3044\u306e\u3067\u3001\u5b9f\u306f\u601d\u3063\u305f\u4ee5\u4e0a\u306e\u6069\u6075\u304c\u3042\u308b**\u3093\u3067\u3059\u3088\u306d\u30b3\u30ec\u3002\n\n\u4ee5\u964d\u306f\u3053\u306e\u5727\u7e2e\u3057\u305f\u76e4\u9762\u8868\u73fe\u3092\u4f7f\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n### \u91cd\u8907\u76e4\u9762\u30c1\u30a7\u30c3\u30af\u306e\u9ad8\u901f\u5316\n\n\u3053\u308c\u307e\u3067\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3057\u3066\u307f\u3066\u6c17\u3065\u3044\u305f\u65b9\u304a\u3089\u308c\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u76e4\u9762\u306e\u5217\u6319\u3092\u3057\u3066\u3044\u308b\u3068**\u6700\u521d\u306f\u8abf\u67fb\u3057\u305f\u76e4\u9762\u6570\u306f\u304b\u306a\u308a\u65e9\u304f\u5897\u3048\u308b\u306e\u306b\u5bfe\u3057\u3001\u65e2\u306b\u8abf\u67fb\u3057\u305f\u76e4\u9762\u6570\u304c\u591a\u304f\u306a\u308c\u3070\u306a\u308b\u307b\u3069\u8abf\u67fb\u304c\u9045\u304f\u306a\u3063\u3066\u304d\u307e\u3059**\u3002\n\u305d\u308c\u3082\u305d\u306e\u306f\u305a\u3001**\u65b0\u305f\u306b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\u969b\u305d\u306e\u76e4\u9762\u304c\u904e\u53bb\u306b\u65e2\u306b\u5217\u6319\u3055\u308c\u305f\u304b\u3092\u8abf\u3079\u308b\u306e\u3067\u3001\u5f8c\u306b\u5217\u6319\u3059\u308b\u76e4\u9762\u306e\u65b9\u304c\u7167\u5408\u3059\u308b\u76e4\u9762\u6570\u304c\u591a\u3044\u305f\u3081\u3001\u30c1\u30a7\u30c3\u30af\u306b\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u304d\u3066\u3057\u307e\u3046**\u306e\u3067\u3059\u3002\n\n\u805e\u3044\u305f\u4e8b\u304c\u3042\u308b\u4eba\u5c45\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u5927\u4f53\u30d7\u30ed\u30b0\u30e9\u30e0\u4e2d\u3067\u91cd\u3044\u3068\u3053\u308d\u3063\u3066\u306e\u306f**\u30eb\u30fc\u30d7\u306e\u4e2d\u306e\u30eb\u30fc\u30d7**\u3067\u3001\u4eca\u56de\u306e\u4f8b\u3067\u8a00\u3046\u3068\u3061\u3087\u3046\u3069**\u76e4\u9762\u8abf\u67fb\u306e\u30eb\u30fc\u30d7\u306e\u4e2d\u306e\u3001\u904e\u53bb\u306e\u76e4\u9762\u3068\u306e\u7167\u5408\u30eb\u30fc\u30d7**\u3060\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\u3053\u3053\u3092\u4f55\u3068\u304b\u9ad8\u901f\u5316\u3059\u308c\u3070\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u304c\u5897\u3048\u3066\u3082\u5217\u6319\u306e\u901f\u5ea6\u3092\u305d\u3053\u307e\u3067\u4e0b\u304c\u3089\u306a\u304f\u306a\u308a\u3001\u7d50\u679c\u3068\u3057\u3066\u5168\u4f53\u306e\u9ad8\u901f\u5316\u304c\u671b\u3081\u305d\u3046\u3067\u3059\u3002\n\n\u305d\u3057\u3066\u76e4\u9762\u306e\u91cd\u8907\u30c1\u30a7\u30c3\u30af\u3067\u3059\u304c\u3001\u524d\u7bc0\u306e\u76e4\u9762\u8868\u73fe\u306e\u5727\u7e2e\u306b\u3088\u308a\u76e4\u9762\u304c\u914d\u5217\u3067\u306f\u306a\u304f\u5024\u306b\u306a\u3063\u305f\u305f\u3081\u3001\u8981\u3059\u308b\u306b**\u3042\u308b\u5024\u304c\u914d\u5217\u4e2d\u306b\u3042\u308b\u304b\u306a\u3044\u304b\u3092\u9ad8\u901f\u306b\u5224\u5b9a\u3059\u308b**\u3053\u3068\u3069\u540c\u3058\u3067\u3059\u3002\n\u3053\u3053\u3067***\u201d\u305d\u3046\u3044\u3048\u3070\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b\u2026\u201d***\u3063\u3066\u306a\u308b\u4eba\u304c\u4e2d\u7d1a\u8005\u306e\u65b9\u306b\u306f\u591a\u305d\u3046\u3067\u3059\u304c\u3001\u4eca\u56de\u306e\u30b1\u30fc\u30b9\u3067\u306f\u305d\u306e\u3082\u306e\u30ba\u30d0\u30ea**\u4e8c\u5206\u63a2\u7d22**\u304c\u9069\u7528\u53ef\u80fd\u3067\u3059\u3002\n\n**\u4e8c\u5206\u63a2\u7d22\u3067\u306f\u30bd\u30fc\u30c8\u6e08\u307f\u306e\u914d\u5217\u304c\u5fc5\u8981\u306b\u306a\u3063\u3066\u304f\u308b**\u306e\u3067\u3001\u4eca\u56de\u306e8\u30d1\u30ba\u30eb\u306b\u9069\u7528\u3059\u308b\u306b\u5f53\u305f\u3063\u3066\u3001\u76e4\u9762\u4fdd\u5b58\u7528\u306e\u914d\u5217\u306f\u305d\u306e\u307e\u307e\u306b\u3001**\u30bd\u30fc\u30c8\u6e08\u307f\u306e\u76e4\u9762\u4fdd\u5b58\u7528\u914d\u5217\u3092\u5225\u306b\u4f5c\u3063\u3066\u304a\u304d\u307e\u3059**\u3002\n\u3053\u308c\u306f\u76e4\u9762\u91cd\u8907\u30c1\u30a7\u30c3\u30af\u9ad8\u901f\u5316\u306e\u305f\u3081\u3060\u3051\u306e\u3082\u306e\u3067\u3001\u305d\u308c\u3060\u3051\u306e\u305f\u3081\u306b\u30e1\u30e2\u30ea\u3092\u4f7f\u3046\u306e\u3082\u5fcd\u3073\u306a\u3044\u6c17\u3082\u3057\u307e\u3059\u304c\u3001\u4eca\u306f\u9ad8\u901f\u5316\u306e\u305f\u3081\u306b\u5fc3\u3092\u9b3c\u306b\u3057\u307e\u3059\u3002\n\n\u3055\u3066\u3053\u306e\u76e4\u9762\u91cd\u8907\u30c1\u30a7\u30c3\u30af\u7528\u306e\u914d\u5217\u3067\u3059\u304c\u3001**\u5217\u6319\u306e\u5ea6\u306b\u8981\u7d20\u304c\u8ffd\u52a0\u3055\u308c\u308b\u3068\u3044\u3046\u72b6\u6cc1\u306e\u4e2d\u3001\u5e38\u306b\u30bd\u30fc\u30c8\u3055\u308c\u305f\u72b6\u614b\u3092\u7dad\u6301\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059**\u3002\n\u8ffd\u52a0\u3057\u3066\u30bd\u30fc\u30c8\u3001\u3068\u3044\u3046\u624b\u3082\u3042\u308b\u306e\u3067\u3059\u304c\u6d41\u77f3\u306b\u305d\u308c\u306f\u65e9\u304f\u306a\u3089\u306a\u3044\u3068\u601d\u308f\u308c\u308b\u306e\u3067\u3001\u4eca\u56de\u306f**\u4e8c\u5206\u633f\u5165\u30bd\u30fc\u30c8**\u3068\u3044\u3046\u624b\u6cd5\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u4e8c\u5206\u63a2\u7d22\u3067\u91cd\u8907\u30c1\u30a7\u30c3\u30af\u3057\u3001\u304b\u3064\u305d\u306e\u4f4d\u7f6e\u306b\u633f\u5165\u3092\u884c\u3046\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u306d\u3001\u7121\u99c4\u304c\u306a\u3055\u305d\u3046\u3002\n\n```hsp:\u4e8c\u5206\u63a2\u7d22\u3092\u4f7f\u3063\u305f\u76e4\u9762\u91cd\u8907\u9ad8\u901f\u5316\n#include \"winmm.as\"\n\n#module\n// \u76e4\u9762\u306e\u63cf\u753b\n// \u8d77\u70b9X, \u8d77\u70b9Y, \u76e4\u9762\u914d\u5217, \u63cf\u753b\u30b5\u30a4\u30ba\n#deffunc drawBoard int cx, int cy, int board, int size\n\tbsz = size*3\n\n\t// \u80cc\u666f\uff08\u4e0b\u5730\uff09\u306e\u30af\u30ea\u30a2\n\tcolor 255, 255, 255 : boxf cx, cy, cx+bsz, cy+bsz\n\n\t// \u67a0\u7dda\n\tcolor 0, 0, 0\n\trepeat 4\n\t\tofs = cnt*size\n\t\tline cx, cy+ofs, cx+bsz, cy+ofs\n\t\tline cx+ofs, cy, cx+ofs, cy+bsz\n\tloop\n\t// \u99d2\n\tfont msgothic, size\n\trepeat 9\n\t\tcntXP3S = cx + cnt\\3 * size\n\t\tcntXD3S = cy + cnt/3 * size\n\t\tcolor 0, 0, 0 : pos cntXP3S+size/4, cntXD3S\n\t\tif ( nth(board, cnt) != 0 ) {// \u7a7a\u767d\u3058\u3083\u306a\u3044\u306a\u3089\n\t\t\tmes \"\"+nth(board, cnt)\n\t\t}\n\tloop\nreturn\n\n// \u76e4\u9762\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u305d\u306e\u99d2\u3092\u8fd4\u3059\n#defcfunc nth int board, int idx\n\tif ( idx >= 8 ) {\n\t\tsum = 0\n\t\trepeat 8\n\t\t\tsum += nth(board, cnt)\n\t\tloop\n\t\treturn 36 - sum\n\t}\nreturn ( board >> (idx*4) ) & 0x0f\n\n// \u99d2\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u76e4\u9762\u306eint\u8868\u73fe\u3067\u306e\u5024\u3092\u8fd4\u3059\n#defcfunc toNth int value, int idx\n\tif ( idx >= 8 ) : return 0\nreturn ( value & 0x0f ) << (idx*4)\n\n// 9\u3064\u306e\u99d2\u3092\u53d7\u3051\u53d6\u3063\u3066\u76e4\u9762\u3092\u8fd4\u3059\n#defcfunc makeBoard int p1, int p2, int p3, int p4, int p5, int p6, int p7, int p8, int p9\nreturn toNth(p1,0)+toNth(p2,1)+toNth(p3,2)+toNth(p4,3)+toNth(p5,4)+toNth(p6,5)+toNth(p7,6)+toNth(p8,7)// p9\u306f\u4f7f\u308f\u306a\u3044\n\n// \u76e4\u9762\u306e\u4e2d\u3067\u7a7a\u767d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\n#defcfunc searchEmpty int board, local res\n\tres = -1\n\trepeat 9\n\t\tif ( nth(board, cnt) ) : continue\n\t\tres = cnt\n\t\tbreak\n\tloop\nreturn res\n\n// \u76e4\u9762\u306e\u4e2d\u306e2\u3064\u306e\u8981\u7d20\u4f4d\u7f6e\u3092\u4ea4\u63db\u3057\u3001\u305d\u306e\u76e4\u9762\u3092\u8fd4\u3059\n#defcfunc swapPiece int board, int piece1, int piece2, local t\n\tn1 = nth(board, piece1) : n2 = nth(board, piece2)\nreturn board - toNth(n1, piece1) - toNth(n2, piece2) + toNth(n1, piece2) + toNth(n2, piece1)\n#global\n\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 181440// 9!/2\ndim storedBoardSteps, 181440// \u4f55\u624b\u76ee\u3067\u8fbf\u308a\u7740\u3044\u305f\u304b\ndim sortedBoards, 181440// \u30bd\u30fc\u30c8\u6e08\u307f\u76e4\u9762\u4fdd\u5b58\u914d\u5217\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\npopedBoardNum = 0// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u65e2\u306b\u8abf\u3079\u305f\u304b\uff08\u66f4\u306b\u5217\u6319\u3057\u305f\u304b\uff09\n\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = makeBoard( 0, 1, 2, 3, 4, 5, 6, 7, 8 )\ndrawBoard 10, 10, board, 40\n\nstoredBoards(storedBoardNum) = board\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u521d\u306e\u76e4\u9762\u306f\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nsortedBoards(storedBoardNum) = board\nstoredBoardNum++\n\n// \u76ee\u7684\u306e\u76e4\u9762\nobjectiveBoard = makeBoard( 3, 1, 2, 4, 7, 5, 6, 0, 8 )// 3\u624b\n//objectiveBoard = makeBoard( 3, 1, 2, 4, 7, 0, 6, 8, 5 )// 5\u624b\n//objectiveBoard = makeBoard( 0, 1, 5, 3, 2, 8, 6, 4, 7 )// 8\u624b\n//objectiveBoard = makeBoard( 3, 1, 5, 2, 4, 8, 6, 0, 7 )// 11\u624b\n//objectiveBoard = makeBoard( 3, 1, 0, 2, 7, 5, 6, 8, 4 )// 12\u624b\n//objectiveBoard = makeBoard( 3, 0, 1, 2, 7, 5, 6, 8, 4 )// 13\u624b\n//objectiveBoard = makeBoard( 0, 1, 2, 4, 7, 5, 6, 3, 8 )// 14\u624b\n//objectiveBoard = makeBoard( 7, 6, 2, 1, 5, 0, 3, 4, 8 )// 15\u624b\n//objectiveBoard = makeBoard( 4, 2, 8, 1, 0, 5, 6, 7, 3 )// 16\u624b\n//objectiveBoard = makeBoard( 4, 0, 5, 1, 8, 2, 6, 7, 3 )// 17\u624b\n//objectiveBoard = makeBoard( 1, 8, 5, 2, 6, 4, 3, 7, 0 )// 18\u624b\n//objectiveBoard = makeBoard( 1, 5, 6, 2, 8, 0, 3, 7, 4 )// 19\u624b\n//objectiveBoard = makeBoard( 1, 5, 6, 2, 8, 4, 3, 7, 0 )// 20\u624b\n//objectiveBoard = makeBoard( 2, 1, 5, 3, 4, 6, 8, 0, 7 )// 21\u624b\n//objectiveBoard = makeBoard( 2, 1, 5, 3, 0, 6, 8, 4, 7 )// 22\u624b\n//objectiveBoard = makeBoard( 2, 3, 7, 5, 1, 4, 6, 0, 8 )// 23\u624b\n//objectiveBoard = makeBoard( 8, 4, 1, 5, 7, 6, 0, 3, 2 )// 24\u624b\n//objectiveBoard = makeBoard( 8, 5, 1, 4, 6, 0, 7, 3, 2 )// 25\u624b\n//objectiveBoard = makeBoard( 8, 2, 3, 6, 7, 4, 1, 5, 0 )// 26\u624b\n//objectiveBoard = makeBoard( 0, 5, 3, 6, 1, 7, 2, 8, 4 )// 27\u624b\n//objectiveBoard = makeBoard( 8, 5, 1, 2, 6, 0, 7, 4, 3 )// 28\u624b\n//objectiveBoard = makeBoard( 8, 5, 6, 3, 1, 4, 2, 0, 7 )// 29\u624b\n//objectiveBoard = makeBoard( 6, 7, 8, 3, 1, 4, 2, 5, 0 )// 30\u624b\n//objectiveBoard = makeBoard( 8, 7, 6, 0, 4, 1, 2, 5, 3 )// 31\u624b\uff08\u6700\u5927\uff09\n//objectiveBoard = makeBoard( 8, 0, 6, 5, 4, 7, 2, 3, 1 )// 31\u624b\uff08\u6700\u5927\uff09\ndrawBoard 180, 10, objectiveBoard, 40\n\n// \u958b\u59cb\u6642\u9593\ntimeGetTime : st = stat\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n\t// \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n\tif ( popedBoardNum >= storedBoardNum ) : break\n\n\t// \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n\tboard = storedBoards(popedBoardnum)\n\tboardRequiredStepNum = storedBoardSteps(popedBoardnum)// \u4f55\u624b\u76ee\u3067\u3053\u306e\u76e4\u9762\u306f\u5f97\u3089\u308c\u308b\u304b\n\tpopedBoardnum++\n\n\t// \u76ee\u7684\u306e\u76e4\u9762\u304b\u30c1\u30a7\u30c3\u30af\n\tisObjectiveBoard = ( board == objectiveBoard )\n\tif ( isObjectiveBoard ) {\n\t\tbreak\n\t}\n\n\t// \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\n\temptyIdx = searchEmpty( board )\n\n\t// \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\n\temptyX = emptyIdx \\3\n\temptyY = emptyIdx /3\n\n\t// \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\trepeat 4\n\t\t// \u5217\u6319\u3059\u308b\u76e4\u9762\n\t\t// \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n\t\tnewBoard = board\n\t\t// \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n\t\tdx = 0 : dy = 0 : label=\"\"\n\t\tswitch( cnt )\n\t\t\tcase 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n\t\t\tcase 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n\t\t\tcase 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n\t\t\tcase 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n\t\tswend\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n\t\tswapX = emptyX + dx\n\t\tswapY = emptyY + dy\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n\t\t\tcontinue\n\t\t}\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n\t\tswapIdx = swapX + swapY *3\n\t\t// \u99d2\u306e\u4ea4\u63db\n\t\tnewBoard = swapPiece( newBoard, emptyIdx, swapIdx )\n\n\t\t// \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u304b\u8abf\u3079\u308b\u3001\u4e8c\u5206\u63a2\u7d22\n\t\tsearchLeft = 0 : searchRight = storedBoardNum\n\t\trepeat 32// \u3053\u306e\u56de\u6570\u306f\u9069\u5f53\u30012^32\u306e\u6570\uff08uint\u3067\u8868\u73fe\u53ef\u80fd\u306a\u7bc4\u56f2\uff09\u307e\u3067\u5bfe\u5fdc\u53ef\u80fd\u306a\u306e\u3067\u3001\u5927\u4e08\u592b\u306a\u30cf\u30ba\n\t\t\tif ( searchLeft >= searchRight ) : break\n\t\t\tpeekBoardIdx = (searchLeft + searchRight) /2\n\t\t\tif ( sortedBoards(peekBoardIdx) <= newBoard ) {\n\t\t\t\tsearchLeft = peekBoardIdx +1\n\t\t\t} else {\n\t\t\t\tsearchRight = peekBoardIdx\n\t\t\t}\n\t\tloop\n\n\t\tif ( searchLeft <= 0 ) {\n\t\t\tisAlreadySearched = 0\n\t\t} else {\n\t\t\tisAlreadySearched = ( sortedBoards(searchLeft -1) == newBoard )\n\t\t}\n\n\t\t// \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3060\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\u3067\u6b21\u3078\n\t\tif ( isAlreadySearched ) : continue\n\n\t\t// \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( storedBoardNum < length( storedBoards ) ) {\n\t\t\tstoredBoards(storedBoardNum) = newBoard\n\t\t\tstoredBoardSteps(storedBoardNum) = boardRequiredStepNum+1// \u81ea\u5206\u306e\u76e4\u9762\uff0b\uff11\n\t\t\t// \u30bd\u30fc\u30c8\u633f\u5165\u30011\u8981\u7d20\u5f8c\u308d\u306b\u305a\u3089\u3059\n\t\t\tmemcpy sortedBoards, sortedBoards, (storedBoardNum -searchLeft) *4, (searchLeft+1) *4, (searchLeft) *4\n\t\t\tsortedBoards(searchLeft) = newBoard\n\t\t\tstoredBoardNum++\n\t\t}\n\tloop\n\n\t// \u9069\u5f53\u306bwait\u3092\u3044\u308c\u308b\n\tif ( (popedBoardnum\\500) == 0 ) {\n\t\ttitle \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1a\u3000\"+popedBoardnum\n\t\tawait 0\n\t}\nloop\n\n// \u304b\u304b\u3063\u305f\u6642\u9593\ntimeGetTime : ed = stat\ndelta = ed -st\n\ncolor 0, 0, 0 : pos 10, 200 : font msgothic, 20\nmes \"\u624b\u6570\u3000\uff1a\u3000\"+boardRequiredStepNum\nmes \"\u304b\u304b\u3063\u305f\u6642\u9593\u3000\uff1d\u3000\"+(delta)+\"\u30df\u30ea\u79d2\"\nmes \"\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(storedBoardNum)\nmes \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(popedBoardnum)\n```\n\n\u305d\u3057\u3066\u7d50\u679c\u3002\n\n|\u624b\u6570|\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09|\u53c2\u8003\uff1a\u5143\u306e\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09|\u5217\u6319\u3057\u305f\u76e4\u9762\u6570|\u8abf\u3079\u305f\u76e4\u9762\u6570|\n|---:|---:|---:|---:|---:|\n|3 |**0** |0 |19 |10 |\n|5 |**1** |2 |63 |38 |\n|8 |**5** |40 |394 |252 |\n|11 |**28** |671 |1737 |1043 |\n|12 |**44** |1744 |2791 |1791 |\n|13 |**69** |4584 |4613 |2792 |\n|14 |**94** |7209 |5706 |3575 |\n|15 |**135** |18602 |8934 |5678 |\n|16 |**289** |58894 |15887 |10544 |\n|17 |**445** |144159 |25207 |16317 |\n|18 |**663** |--- |34494 |23944 |\n|19 |**794** |--- |39933 |28205 |\n|20 |**1210** |--- |57107 |39935 |\n|21 |**2172** |--- |88259 |66076 |\n|22 |**3060** |--- |110116 |88260 |\n|23 |**4261** |--- |138967 |115001 |\n|24 |**4843** |--- |150221 |130921 |\n|25 |**5700** |--- |165778 |150176 |\n|26 |**6138** |--- |171237 |157464 |\n|27 |**6467** |--- |176437 |169824 |\n|28 |**6815** |--- |180451 |176534 |\n|29 |**6924** |--- |181341 |180773 |\n|30 |**6922** |--- |**181440** |181333 |\n|31 |**6924** |--- |**181440** |**181440** |\n\n**\u5287\u7684\u306b\u65e9\u304f\u306a\u308a\u307e\u3057\u305f**\u3001\u3082\u3046\u3053\u308c\u3067\u3044\u3044\u6c17\u304c\u3057\u3066\u304d\u3061\u3083\u3044\u307e\u3059\u306d\u3002\n\u65e9\u304f\u306a\u3063\u305f\u306e\u3067\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u3082\u5897\u3084\u3057\u3066\u304a\u304d\u307e\u3057\u305f\u3001\u3053\u3053\u306b\u8f09\u305b\u305f\u5206\u3067\u6700\u9577\u624b\u6570\u304c\u89e3\u3051\u3066\u304a\u308a\u3001\u3057\u304b\u3082\u307e\u3060\u73fe\u5b9f\u7684\u306a\u6642\u9593\u306b\u53ce\u307e\u3063\u3066\u3044\u307e\u3059\u3002[^taihen_3]\n\u8868\u3092\u898b\u308b\u3068\u308f\u304b\u308a\u307e\u3059\u304c\u3001\u5f8c\u534a\u306f\u8abf\u67fb\u76e4\u9762\u6570\u304c\u9806\u8abf\u306b\u5897\u3048\u308b\u4e00\u65b9\u3001\u5217\u6319\u76e4\u9762\u6570\u306f\u982d\u6253\u3061\u306b\u8fd1\u3065\u3044\u3066\u3044\u307e\u3059\u3002\n\n### \u63a2\u7d22\u306e\u6539\u826f\n\n\u524d\u7bc0\u307e\u3067\u3067\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u304c\u5897\u3048\u3066\u3082\u305d\u3053\u307e\u3067\u901f\u5ea6\u4f4e\u4e0b\u305b\u305a\u306b\u5217\u6319\u304c\u7d9a\u3051\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u305f\u3060\u3001\u7d50\u679c\u306e\u8868\u3092\u898b\u305f\u3068\u3053\u308d\u3001\u5217\u6319\u76e4\u9762\u6570\u306f\u982d\u6253\u3061\u306b\u307e\u3067\u304d\u3066\u3044\u307e\u3059\u304c**\u6700\u5c0f\u624b\u6570\u306e\u5897\u52a0\u306b\u4f34\u3063\u3066\u5217\u6319\u3057\u305f\u76e4\u9762\u53ca\u3073\u8abf\u67fb\u3057\u305f\u76e4\u9762\u304c\u81a8\u5927\u306a\u6570\u306b\u306a\u3063\u3066\u3044\u3063\u3066\u3044\u308b**\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\u4e8c\u5206\u63a2\u7d22\u81ea\u4f53\u6570\u306b\u5bfe\u3057\u3066\u304b\u306a\u308a\u5f37\u3044\u624b\u6cd5\u306a\u306e\u3067\u3001\u73fe\u72b6\u3067\u3053\u306e\u51e6\u7406\u901f\u5ea6\u306f\u6700\u65e9**\u5217\u6319\u3057\u3066\u308b\u76e4\u9762\u6570\u304c\u591a\u3059\u304e\u308b**\u3053\u3068\u304c\u539f\u56e0\u3060\u3068\u8003\u3048\u308b\u306e\u304c\u59a5\u5f53\u3067\u3059\u3002\n\u307e\u3041\u3001\u6700\u5927\u30b1\u30fc\u30b9\u304c$181440$\u500b\u3067\u3001\u305d\u308c\u304c10\u79d2\u3082\u304b\u304b\u3089\u305a\u6c42\u307e\u3063\u3066\u3044\u308b\u306e\u3060\u304b\u3089\u3053\u306e\u307e\u307e\u3067\u3044\u3044\u3058\u3083\u3093\u3001\u3068\u3044\u3046\u6c17\u6301\u3061\u3082\u3042\u308a\u3064\u3064\u3001**\u672c\u7bc0\u3067\u306f\u5217\u6319\u3059\u308b\u76e4\u9762\u6570\u3092\u5c11\u306a\u304f\u3059\u308b**\u65b9\u6cd5\u3092\u8003\u3048\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n#### \u624b\u6570\u306b\u3088\u308b\u76e4\u9762\u6570\u306e\u7206\u767a\n\n\u65e2\u306b\u4f55\u5ea6\u3082\u8ff0\u3079\u307e\u3057\u305f\u304c\u3001\u4eca\u307e\u3067\u306f\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u30011\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\u3068\u3044\u3046\u65b9\u6cd5\u3067\u76ee\u7684\u306e\u76e4\u9762\u307e\u3067\u8fbf\u308a\u7740\u304f\u304b\u3092\u898b\u3066\u3044\u307e\u3057\u305f\u3002\n\u3053\u306e1\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\u3001\u3067\u3059\u304c\u3001\u3088\u304f\u3088\u304f\u8003\u3048\u308b\u3068\u7279\u5b9a\u306e\u76e4\u9762\u304b\u30891\u624b\u3067\u5f97\u3089\u308c\u308b\u76e4\u9762\u306f4\u3064\u3001\u305d\u3057\u3066\u305d\u306e\u76e4\u9762\u304b\u3089\u66f4\u306b\u5f97\u3089\u308c\u308b\u76e4\u9762\u306f4\u3064\u306a\u306e\u3067\u5168\u90e8\u306716\u3001\u305d\u3057\u3066\u305d\u306e\u76e4\u9762\u304b\u3089\u5f97\u3089\u308c\u308b\u76e4\u9762\u306f\u2026\u3068\u3001\u7206\u767a\u7684\u306b\u5897\u3048\u3066\u3044\u304f\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\uff08\u5b9f\u969b\u306f\u91cd\u8907\u5206\u3092\u907f\u3051\u308b\u3057\u3001\u5217\u6319\u3067\u304d\u308b\u306e\u306f2\u3060\u3051\u3060\u3063\u305f\u308a\u3068\u304b\u3082\u3042\u308b\u306e\u3067\u3001\u3053\u3093\u306a\u3053\u3068\u306b\u306f\u306a\u3089\u306a\u3044\u3093\u3067\u3059\u304c\uff09\n$N$\u624b\u5148\u306e\u76e4\u9762\u306e\u6570\u306f\u3001\u904e\u5927\u8a55\u4fa1\u3057\u3066\u9ad8\u3005\u898b\u7a4d\u3082\u308b\u3068$4^N$\u306b\u306a\u308a\u307e\u3059\u3002\n\n#### \u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u306e\u5217\u6319\u3001\u6700\u5f8c\u306e\u76e4\u9762\u304b\u3089\u306e\u5217\u6319\n\n\u3067\u3082\u3001\u3053\u306e\u6570\u5b57\u306f$N$\u624b\u5148\u3068\u3001**\u624b\u6570\u306b\u4f9d\u5b58**\u3057\u3066\u3044\u307e\u3059\u3002\n\u306a\u3089\u3070\u3001\u3053\u306e**\u624b\u6570\u3092\u5c11\u306a\u304f\u3059\u308c\u3070\u6570\u306f\u6e1b\u308a\u307e\u3059**\u3001\u5f53\u305f\u308a\u524d\u3067\u3059\u3088\u306d\uff1f\n\n\u3053\u3053\u3067\u5049\u3044\u4eba\u306f\u8003\u3048\u307e\u3057\u305f\u3002\n\n*\u6700\u521d\u306e\u76e4\u9762\u3068\u6700\u5f8c\u306e\u76e4\u9762\u304b\u3089\u540c\u6642\u306b\u5217\u6319\u3092\u884c\u3063\u305f\u3089\u3069\u3046\u3060\u308d\u3046\u3002*\n\n\u8fbf\u308a\u7740\u304f\u304b\u3069\u3046\u304b\u306e\u5224\u5b9a\u306f\u3001**\u5217\u6319\u3055\u308c\u305f\u76e4\u9762\u304c\u201d\u6700\u521d\u306e\u76e4\u9762\u304b\u3089\u201d\u306a\u306e\u304b\u3001\u201d\u6700\u5f8c\u306e\u76e4\u9762\u304b\u3089\u201d\u306a\u306e\u304b\u3092\u899a\u3048\u3066\u304a\u304d\u3001\u305d\u308c\u304c\u7570\u306a\u3063\u305f\u76e4\u9762\u304b\u3089\u3060\u3063\u305f\u3089\u8fbf\u308a\u7740\u304f\u3068\u3059\u308b**\u3001\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\u3053\u3046\u3059\u308b\u3068\u3001**\u201d\u6700\u521d\u306e\u76e4\u9762\u201d\u304b\u3089\u201d\u6700\u5f8c\u306e\u76e4\u9762\u201d\u307e\u3067\u306e\u6700\u5c0f\u624b\u6570\u304c$N$\u3060\u3063\u305f\u5834\u5408\u3001\u201d\u6700\u521d\u306e\u76e4\u9762\u201d\u304b\u3089\u306e\u5217\u6319\u3068\u201d\u6700\u5f8c\u306e\u76e4\u9762\u201d\u304b\u3089\u306e\u5217\u6319\u304c$N/2$\u624b\u5148\u307e\u3067\u5217\u6319\u3057\u3066\u3057\u307e\u3048\u3070\u5171\u901a\u306e\u76e4\u9762\u304c\u898b\u3064\u304b\u308a\u305d\u3046**\u3067\u3059\u3002\n\u3064\u307e\u308a\u3001\u4eca\u307e\u3067\u306f\u201d\u6700\u521d\u306e\u76e4\u9762\u201d\u304b\u3089\u306e\u5217\u6319\u306e\u307f\u3067$4^N$\u5fc5\u8981\u3060\u3063\u305f\u306e\u304c\u3001\u201d\u6700\u521d\u306e\u76e4\u9762\u201d\u3068\u201d\u6700\u5f8c\u306e\u76e4\u9762\u201d\u304b\u3089\u306e$N/2$\u624b\u5148\u306a\u306e\u3067$2*4^{N/2}$\u3067\u6e08\u3080\u3053\u3068\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\n**\u5049\u3044\u4eba\u3001\u30b9\u30b4\u30a4\u3002**\n\n##### \u56f3\u3067\u63cf\u304f\u3068\n\n\u3053\u3046\u3067\u306f\u306a\u304f\n![puzzle8_forwardSearchSolution.png](https://qiita-image-store.s3.amazonaws.com/0/152653/1efda43e-b630-d20e-faff-2dda8b9b8e5c.png)\n\n\u3053\u3046\u3058\u3083\n![puzzle8_bidirectionalSolution.png](https://qiita-image-store.s3.amazonaws.com/0/152653/bf7e38db-2d65-802c-b33b-60bb73369eaa.png)\n\n#### \u30b3\u30fc\u30c9\u306b\u843d\u3068\u3059\n\n\u65b9\u91dd\u306f\u6c7a\u307e\u3063\u305f\u306e\u3067\u5f8c\u306f\u3084\u308b\u3060\u3051\u306a\u3093\u3067\u3059\u304c\u3001HSP\u4e2d\u7d1a\u8005\u306e\u65b9\u306f\u3082\u3046\u3069\u3046\u3044\u3046\u30b3\u30fc\u30c9\u66f8\u304f\u3079\u304d\u304b\u898b\u3048\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u8aac\u660e\u306f\u7aef\u6298\u307e\u3059\u3002\n\u3044\u304f\u3064\u304b\u3084\u308a\u65b9\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u500b\u4eba\u3067\u89e3\u3051\u3066\u3044\u308b\u306a\u3089\u3082\u3046\u305d\u308c\u3067\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002[^taihen_4]\n\n\u79c1\u306f\u3001\u201d\u76e4\u9762\u304c\u6700\u521d\u306e\u76e4\u9762\u3068\u6700\u5f8c\u306e\u76e4\u9762\u3069\u3061\u3089\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u304b\u201d\u306e\u914d\u5217\u3068\u3001\u201d\u30bd\u30fc\u30c8\u6e08\u307f\u76e4\u9762\u914d\u5217\u306e\u8981\u7d20\u304b\u3089\u3001\u5143\u306e\u76e4\u9762\u4fdd\u5b58\u7528\u306e\u914d\u5217\u3067\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4fdd\u6301\u3059\u308b\u201d\u914d\u5217\u306e2\u3064\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n**\u3053\u306e\u53cc\u65b9\u5411\u63a2\u7d22\u306e\u5b9f\u88c5\u3001\u5fae\u5999\u306b\u96e3\u6613\u5ea6\u9ad8\u304b\u3063\u305f\u306e\u3067\u8155\u306b\u899a\u3048\u304c\u3042\u308b\u4eba\u306b\u306f\u30aa\u30b9\u30b9\u30e1\uff01\uff01**\n\n```hsp:\u53cc\u65b9\u5411\u63a2\u7d22\u3068\u4e8c\u5206\u63a2\u7d22\u91cd\u8907\u30c1\u30a7\u30c3\u30af\u306e\u9ad8\u901f\u5316\u3092\u65bd\u3057\u305f8\u30d1\u30ba\u30eb\u89e3\u304f\u541b\n#include \"winmm.as\"\n\n#module\n// \u76e4\u9762\u306e\u63cf\u753b\n// \u8d77\u70b9X, \u8d77\u70b9Y, \u76e4\u9762\u914d\u5217, \u63cf\u753b\u30b5\u30a4\u30ba\n#deffunc drawBoard int cx, int cy, int board, int size\n\tbsz = size*3\n\n\t// \u80cc\u666f\uff08\u4e0b\u5730\uff09\u306e\u30af\u30ea\u30a2\n\tcolor 255, 255, 255 : boxf cx, cy, cx+bsz, cy+bsz\n\n\t// \u67a0\u7dda\n\tcolor 0, 0, 0\n\trepeat 4\n\t\tofs = cnt*size\n\t\tline cx, cy+ofs, cx+bsz, cy+ofs\n\t\tline cx+ofs, cy, cx+ofs, cy+bsz\n\tloop\n\t// \u99d2\n\tfont msgothic, size\n\trepeat 9\n\t\tcntXP3S = cx + cnt\\3 * size\n\t\tcntXD3S = cy + cnt/3 * size\n\t\tcolor 0, 0, 0 : pos cntXP3S+size/4, cntXD3S\n\t\tif ( nth(board, cnt) != 0 ) {// \u7a7a\u767d\u3058\u3083\u306a\u3044\u306a\u3089\n\t\t\tmes \"\"+nth(board, cnt)\n\t\t}\n\tloop\nreturn\n\n// \u76e4\u9762\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u305d\u306e\u99d2\u3092\u8fd4\u3059\n#defcfunc nth int board, int idx\n\tif ( idx >= 8 ) {\n\t\tsum = 0\n\t\trepeat 8\n\t\t\tsum += nth(board, cnt)\n\t\tloop\n\t\treturn 36 - sum\n\t}\nreturn ( board >> (idx*4) ) & 0x0f\n\n// \u99d2\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u76e4\u9762\u306eint\u8868\u73fe\u3067\u306e\u5024\u3092\u8fd4\u3059\n#defcfunc toNth int value, int idx\n\tif ( idx >= 8 ) : return 0\nreturn ( value & 0x0f ) << (idx*4)\n\n// 9\u3064\u306e\u99d2\u3092\u53d7\u3051\u53d6\u3063\u3066\u76e4\u9762\u3092\u8fd4\u3059\n#defcfunc makeBoard int p1, int p2, int p3, int p4, int p5, int p6, int p7, int p8, int p9\nreturn toNth(p1,0)+toNth(p2,1)+toNth(p3,2)+toNth(p4,3)+toNth(p5,4)+toNth(p6,5)+toNth(p7,6)+toNth(p8,7)// p9\u306f\u4f7f\u308f\u306a\u3044\n\n// \u76e4\u9762\u306e\u4e2d\u3067\u7a7a\u767d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\n#defcfunc searchEmpty int board, local res\n\tres = -1\n\trepeat 9\n\t\tif ( nth(board, cnt) ) : continue\n\t\tres = cnt\n\t\tbreak\n\tloop\nreturn res\n\n// \u76e4\u9762\u306e\u4e2d\u306e2\u3064\u306e\u8981\u7d20\u4f4d\u7f6e\u3092\u4ea4\u63db\u3057\u3001\u305d\u306e\u76e4\u9762\u3092\u8fd4\u3059\n#defcfunc swapPiece int board, int piece1, int piece2, local t\n\tn1 = nth(board, piece1) : n2 = nth(board, piece2)\nreturn board - toNth(n1, piece1) - toNth(n2, piece2) + toNth(n1, piece2) + toNth(n2, piece1)\n#global\n\n// \u76e4\u9762\u4fdd\u5b58\u306e\u305f\u3081\u306e\u914d\u5217\ndim storedBoards, 181440// 9!/2\ndim storedBoardSteps, 181440// \u4f55\u624b\u76ee\u3067\u8fbf\u308a\u7740\u3044\u305f\u304b\ndim storedBoardFrom, 181440// \u6700\u5f8c\u306e\u76e4\u9762\u304b\u3089\u751f\u6210\u3055\u308c\u305f\u30891\u3001\u305d\u3046\u3067\u306a\u3044\u306a\u30890\ndim sortedBoards, 181440// \u30bd\u30fc\u30c8\u6e08\u307f\u76e4\u9762\u4fdd\u5b58\u914d\u5217\ndim sortedBoardIdx, 181440// \u30bd\u30fc\u30c8\u6e08\u307f\u3001storedBoards\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4fdd\u6301\nstoredBoardNum = 0// \u3044\u304f\u3064\u4fdd\u5b58\u3057\u3066\u3044\u308b\u304b\npopedBoardNum = 0// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u65e2\u306b\u8abf\u3079\u305f\u304b\uff08\u66f4\u306b\u5217\u6319\u3057\u305f\u304b\uff09\n\n// \u6700\u521d\u306e\u76e4\u9762\u3092\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nboard = makeBoard( 0, 1, 2, 3, 4, 5, 6, 7, 8 )\ndrawBoard 10, 10, board, 40\n\nstoredBoards(storedBoardNum) = board\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u521d\u306e\u76e4\u9762\u306f\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nstoredBoardFrom(storedBoardNum) = 0\nsortedBoards(storedBoardNum) = board\nsortedBoardIdx(storedBoardNum) = storedBoardNum\nstoredBoardNum++\n\n// \u76ee\u7684\u306e\u76e4\u9762\u3082\u3001\u201d\u8ab0\u304b\u304b\u3089\u5217\u6319\u3055\u308c\u305f\u201d\u3068\u3057\u3066\u8ffd\u52a0\nobjectiveBoard = makeBoard( 3, 1, 2, 4, 7, 5, 6, 0, 8 )// 3\u624b\n//objectiveBoard = makeBoard( 3, 1, 2, 4, 7, 0, 6, 8, 5 )// 5\u624b\n//objectiveBoard = makeBoard( 0, 1, 5, 3, 2, 8, 6, 4, 7 )// 8\u624b\n//objectiveBoard = makeBoard( 3, 1, 5, 2, 4, 8, 6, 0, 7 )// 11\u624b\n//objectiveBoard = makeBoard( 3, 1, 0, 2, 7, 5, 6, 8, 4 )// 12\u624b\n//objectiveBoard = makeBoard( 3, 0, 1, 2, 7, 5, 6, 8, 4 )// 13\u624b\n//objectiveBoard = makeBoard( 0, 1, 2, 4, 7, 5, 6, 3, 8 )// 14\u624b\n//objectiveBoard = makeBoard( 7, 6, 2, 1, 5, 0, 3, 4, 8 )// 15\u624b\n//objectiveBoard = makeBoard( 4, 2, 8, 1, 0, 5, 6, 7, 3 )// 16\u624b\n//objectiveBoard = makeBoard( 4, 0, 5, 1, 8, 2, 6, 7, 3 )// 17\u624b\n//objectiveBoard = makeBoard( 1, 8, 5, 2, 6, 4, 3, 7, 0 )// 18\u624b\n//objectiveBoard = makeBoard( 1, 5, 6, 2, 8, 0, 3, 7, 4 )// 19\u624b\n//objectiveBoard = makeBoard( 1, 5, 6, 2, 8, 4, 3, 7, 0 )// 20\u624b\n//objectiveBoard = makeBoard( 2, 1, 5, 3, 4, 6, 8, 0, 7 )// 21\u624b\n//objectiveBoard = makeBoard( 2, 1, 5, 3, 0, 6, 8, 4, 7 )// 22\u624b\n//objectiveBoard = makeBoard( 2, 3, 7, 5, 1, 4, 6, 0, 8 )// 23\u624b\n//objectiveBoard = makeBoard( 8, 4, 1, 5, 7, 6, 0, 3, 2 )// 24\u624b\n//objectiveBoard = makeBoard( 8, 5, 1, 4, 6, 0, 7, 3, 2 )// 25\u624b\n//objectiveBoard = makeBoard( 8, 2, 3, 6, 7, 4, 1, 5, 0 )// 26\u624b\n//objectiveBoard = makeBoard( 0, 5, 3, 6, 1, 7, 2, 8, 4 )// 27\u624b\n//objectiveBoard = makeBoard( 8, 5, 1, 2, 6, 0, 7, 4, 3 )// 28\u624b\n//objectiveBoard = makeBoard( 8, 5, 6, 3, 1, 4, 2, 0, 7 )// 29\u624b\n//objectiveBoard = makeBoard( 6, 7, 8, 3, 1, 4, 2, 5, 0 )// 30\u624b\n//objectiveBoard = makeBoard( 8, 7, 6, 0, 4, 1, 2, 5, 3 )// 31\u624b\uff08\u6700\u5927\uff09\n//objectiveBoard = makeBoard( 8, 0, 6, 5, 4, 7, 2, 3, 1 )// 31\u624b\uff08\u6700\u5927\uff09\ndrawBoard 180, 10, objectiveBoard, 40\n\nstoredBoards(storedBoardNum) = objectiveBoard\nstoredBoardSteps(storedBoardNum) = 0// \u6700\u5f8c\u306e\u76e4\u9762\u3082\u30010\u624b\u3067\u8fbf\u308a\u7740\u3044\u305f\u3001\u3068\u3059\u308b\nstoredBoardFrom(storedBoardNum) = 1\nif ( board < objectiveBoard ) {\n\tsortedBoards(storedBoardNum) = objectiveBoard\n\tsortedBoardIdx(storedBoardNum) = storedBoardNum\n} else {\n\tsortedBoards(storedBoardNum -1) = objectiveBoard\n\tsortedBoards(storedBoardNum) = board\n\tsortedBoardIdx(storedBoardNum -1) = storedBoardNum\n\tsortedBoardIdx(storedBoardNum) = storedBoardNum -1\n}\nstoredBoardNum++\n\n// \u958b\u59cb\u6642\u9593\ntimeGetTime : st = stat\n\n// \u6700\u5c0f\u624b\u6570\nminStepNum = -1\n\n// \u4fdd\u5b58\u3057\u305f\u76e4\u9762\u306e\u4e2d\u3067\u3001\u307e\u3060\u66f4\u306b\u5217\u6319\u3057\u3066\u306a\u3044\u3082\u306e\u304c\u3042\u3063\u305f\u3089\u66f4\u306b\u5217\u6319\u3059\u308b\nrepeat\n\t// \u3082\u3046\u8abf\u3079\u308b\u3082\u306e\u306f\u306a\u3044\u304b\uff1f\n\tif ( popedBoardNum >= storedBoardNum ) : break\n\n\t// \u8abf\u3079\u308b\u76e4\u9762\u3068\u3057\u3066\u4e00\u500b\u53d6\u308a\u51fa\u3059\n\tboard = storedBoards(popedBoardNum)\n\tboardRequiredStepNum = storedBoardSteps(popedBoardNum)// \u4f55\u624b\u76ee\u3067\u3053\u306e\u76e4\u9762\u306f\u5f97\u3089\u308c\u308b\u304b\n\tisBoardFromObjective = storedBoardFrom(popedBoardNum)\n\tpopedBoardNum++\n\n\t// \u7a7a\u767d\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\n\temptyIdx = searchEmpty( board )\n\n\t// \u76e4\u9762\u4e2d\u306e\u7a7a\u767d\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\u3000\uff1a\u5de6\u4e0a\u3092(0,0)\u3001\u53f3\u4e0b\u3092(2.2)\u3068\u3059\u308b\n\temptyX = emptyIdx \\3\n\temptyY = emptyIdx /3\n\n\t// \u4e0a\u4e0b\u5de6\u53f3\u306e\u99d2\u3068\u4ea4\u63db\u3067\u304d\u308b\u306a\u3089\u4ea4\u63db\u3057\u305f\u76e4\u9762\u3092\u5217\u6319\u3059\u308b\n\trepeat 4\n\t\t// \u5217\u6319\u3059\u308b\u76e4\u9762\n\t\t// \u3068\u308a\u3042\u3048\u305a\u5143\u306e\u3092\u30b3\u30d4\u30fc\n\t\tnewBoard = board\n\t\t// \u4e0a\u4e0b\u5de6\u53f3\u3001\u3069\u3053\u306b\u79fb\u52d5\u3059\u308b\u304b\n\t\tdx = 0 : dy = 0 : label=\"\"\n\t\tswitch( cnt )\n\t\t\tcase 0 : dx =  0 : dy = -1 : label=\"\u4e0a\" : swbreak// \u4e0a\n\t\t\tcase 1 : dx =  0 : dy =  1 : label=\"\u4e0b\" : swbreak// \u4e0b\n\t\t\tcase 2 : dx =  1 : dy =  0 : label=\"\u53f3\" : swbreak// \u53f3\n\t\t\tcase 3 : dx = -1 : dy =  0 : label=\"\u5de6\" : swbreak// \u5de6\n\t\tswend\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306ex\u4f4d\u7f6e\u3001y\u4f4d\u7f6e\n\t\tswapX = emptyX + dx\n\t\tswapY = emptyY + dy\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u304c\u7bc4\u56f2\u5916\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( swapX<0 || swapX>=3 || swapY<0 || swapY>=3 ) {\n\t\t\tcontinue\n\t\t}\n\t\t// \u4ea4\u63db\u3059\u308b\u99d2\u306e\u4f4d\u7f6e\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n\t\tswapIdx = swapX + swapY *3\n\t\t// \u99d2\u306e\u4ea4\u63db\n\t\tnewBoard = swapPiece( newBoard, emptyIdx, swapIdx )\n\n\t\t// \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u304b\u8abf\u3079\u308b\u3001\u4e8c\u5206\u63a2\u7d22\n\t\tsearchLeft = 0 : searchRight = storedBoardNum\n\t\trepeat 32// \u3053\u306e\u56de\u6570\u306f\u9069\u5f53\u30012^32\u306e\u6570\uff08uint\u3067\u8868\u73fe\u53ef\u80fd\u306a\u7bc4\u56f2\uff09\u307e\u3067\u5bfe\u5fdc\u53ef\u80fd\u306a\u306e\u3067\u3001\u5927\u4e08\u592b\u306a\u30cf\u30ba\n\t\t\tif ( searchLeft >= searchRight ) : break\n\t\t\tpeekBoardIdx = (searchLeft + searchRight) /2\n\t\t\tif ( sortedBoards(peekBoardIdx) <= newBoard ) {\n\t\t\t\tsearchLeft = peekBoardIdx +1\n\t\t\t} else {\n\t\t\t\tsearchRight = peekBoardIdx\n\t\t\t}\n\t\tloop\n\n\t\tif ( searchLeft <= 0 ) {\n\t\t\tisAlreadySearched = 0\n\t\t} else {\n\t\t\tisAlreadySearched = ( sortedBoards(searchLeft -1) == newBoard )\n\t\t}\n\n\t\t// \u65e2\u306b\u4fdd\u5b58\u3057\u305f\u76e4\u9762\u3060\u3063\u305f\u3089\n\t\tif ( isAlreadySearched ) {\n\t\t\tpastBoardIdx = sortedBoardIdx(searchLeft -1)\n\t\t\tif ( isBoardFromObjective != storedBoardFrom(pastBoardIdx) ) {\n\t\t\t\t// \u898b\u3064\u304b\u3063\u305f\u76e4\u9762\u306e\u51fa\u81ea\u304c\u9055\u3046\u306a\u3089\u3001\u5171\u901a\u76e4\u9762\u304c\u898b\u3064\u304b\u3063\u305f\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3053\u3053\u3067\u63a2\u7d22\u7d42\u4e86\n\t\t\t\tminStepNum = boardRequiredStepNum + storedBoardSteps(pastBoardIdx) +1\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\t// \u4f55\u3082\u3057\u306a\u3044\u3067\u6b21\u3078\n\t\t\tcontinue\n\t\t}\n\n\t\t// \u5217\u6319\u3057\u305f\u76e4\u9762\u306e\u4fdd\u5b58\u3001\u3082\u3046\u4fdd\u5b58\u3067\u304d\u306a\u304b\u3063\u305f\u3089\u4f55\u3082\u3057\u306a\u3044\n\t\tif ( storedBoardNum < length( storedBoards ) ) {\n\t\t\tstoredBoards(storedBoardNum) = newBoard\n\t\t\tstoredBoardSteps(storedBoardNum) = boardRequiredStepNum+1// \u81ea\u5206\u306e\u76e4\u9762\uff0b\uff11\n\t\t\tstoredBoardFrom(storedBoardNum) = isBoardFromObjective// \u51fa\u81ea\u306f\u4e00\u7dd2\n\t\t\t// \u30bd\u30fc\u30c8\u633f\u5165\u30011\u8981\u7d20\u5f8c\u308d\u306b\u305a\u3089\u3059\n\t\t\tmemcpy sortedBoards, sortedBoards, (storedBoardNum -searchLeft) *4, (searchLeft+1) *4, (searchLeft) *4\n\t\t\tsortedBoards(searchLeft) = newBoard\n\t\t\tmemcpy sortedBoardIdx, sortedBoardIdx, (storedBoardNum -searchLeft) *4, (searchLeft+1) *4, (searchLeft) *4\n\t\t\tsortedBoardIdx(searchLeft) = storedBoardNum\n\t\t\tstoredBoardNum++\n\t\t}\n\tloop\n\n\t// \u3082\u3046\u898b\u3064\u304b\u3063\u305f\n\tif ( minStepNum >= 0 ) : break\n\n\t// \u9069\u5f53\u306bwait\u3092\u3044\u308c\u308b\n\tif ( (popedBoardnum\\500) == 0 ) {\n\t\ttitle \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1a\u3000\"+popedBoardnum\n\t\tawait 0\n\t}\nloop\n\n// \u304b\u304b\u3063\u305f\u6642\u9593\ntimeGetTime : ed = stat\ndelta = ed -st\n\ncolor 0, 0, 0 : pos 10, 200 : font msgothic, 20\nmes \"\u624b\u6570\u3000\uff1a\u3000\"+minStepNum\nmes \"\u304b\u304b\u3063\u305f\u6642\u9593\u3000\uff1d\u3000\"+(delta)+\"\u30df\u30ea\u79d2\"\nmes \"\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(storedBoardNum)\nmes \"\u8abf\u3079\u305f\u76e4\u9762\u6570\u3000\uff1d\u3000\"+(popedBoardnum)\n```\n\n\u305d\u3057\u3066\u7d50\u679c\u3002\n\n|\u624b\u6570|\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09|\u5217\u6319\u3057\u305f\u76e4\u9762\u6570|\u8abf\u3079\u305f\u76e4\u9762\u6570|\u53c2\u8003\uff1a\u5143\u306e\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09|\u53c2\u8003\uff1a\u5143\u306e\u5217\u6319\u3057\u305f\u76e4\u9762\u6570|\u53c2\u8003\uff1a\u5143\u306e\u8abf\u3079\u305f\u76e4\u9762\u6570|\n|---:|---:|---:|---:|---:|---:|---:|\n|3 |**0** |**8** |**3** |0 |19 |10 |\n|5 |**0** |**18** |**9** |2 |63 |38 |\n|8 |**1** |**54** |**27** |40 |394 |252 |\n|11 |**1** |**143** |**81** |671 |1737 |1043 |\n|12 |**2** |**145** |**85** |1744 |2791 |1791 |\n|13 |**3** |**250** |**147** |4584 |4613 |2792 |\n|14 |**3** |**279** |**165** |7209 |5706 |3575 |\n|15 |**4** |**376** |**215** |18602 |8934 |5678 |\n|16 |**6** |**549** |**323** |58894 |15887 |10544 |\n|17 |**9** |**678** |**430** |144159 |25207 |16317 |\n|18 |**10** |**774** |**489** |--- |34494 |23944 |\n|19 |**18** |**943** |**577** |--- |39933 |28205 |\n|20 |**21** |**1265** |**763** |--- |57107 |39935 |\n|21 |**29** |**1711** |**1083** |--- |88259 |66076 |\n|22 |**35** |**2252** |**1419** |--- |110116 |88260 |\n|23 |**46** |**3085** |**1843** |--- |138967 |115001 |\n|24 |**54** |**3490** |**2094** |--- |150221 |130921 |\n|25 |**68** |**4361** |**2752** |--- |165778 |150176 |\n|26 |**85** |**5345** |**3398** |--- |171237 |157464 |\n|27 |**78** |**4864** |**3048** |--- |176437 |169824 |\n|28 |**129** |**8130** |**4893** |--- |180451 |176534 |\n|29 |**172** |**10137** |**6391** |--- |181341 |180773 |\n|30 |**221** |**12107** |**7689** |--- |**181440** |181333 |\n|31 |**274** |**15880** |**10021** |--- |**181440** |**181440** |\n\n**\u307e\u305f\u5287\u7684\u306b\u65e9\u304f\u306a\u308a\u307e\u3057\u305f**\u3002\n**\u5217\u6319\u3057\u305f\u76e4\u9762\u6570\u3068\u3001\u8abf\u67fb\u3057\u305f\u76e4\u9762\u6570\u304c\u305d\u3082\u305d\u3082\u304b\u306a\u308a\u5c11\u306a\u304f\u306a\u3063\u3066\u3044\u308b**\u306e\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u306d\u3001\u72d9\u3044\u901a\u308a\u3067\u3059\u3002\n\u3053\u308c\u3067\u3082\u3046*\u201d8\u30d1\u30ba\u30eb\u89e3\u3044\u3066\u3001\u3061\u3087\u3063\u3071\u3084\u3067\uff01\u201d*\u3068\u304b\u8a00\u308f\u308c\u3066\u3082\u4f55\u3068\u304b\u306a\u308a\u305d\u3046\u3067\u3059\u306d\u3002[^taihen_5]\n\n## \u304a\u308f\u308a\u306b\n\n\u4ee5\u4e0a\u3001HSP\u30678\u30d1\u30ba\u30eb\u3092\u984c\u6750\u306b\u3057\u305f\uff08\u4e3b\u306b\u5e45\u512a\u5148\uff09\u63a2\u7d22\u306e\u8a71\u3067\u3057\u305f\u3002\nAdventCalendar\u3067\u3059\u304c\u8efd\u3044\u304a\u83d3\u5b50\u3070\u3063\u304b\u308a\u3067\u306f\u306a\u304f\u3001\u305f\u307e\u306b\u306f\u6d88\u5316\u306b\u6642\u9593\u304c\u304b\u304b\u308b\u304a\u83d3\u5b50\u3067\u3082\u826f\u3044\u306e\u3067\u306f\u3068\u601d\u3063\u3066\u6295\u7a3f\u3057\u307e\u3057\u305f\u3001\u8aad\u307f\u5207\u3063\u305f\u65b9\u3044\u3089\u3063\u3057\u3083\u3063\u305f\u3089\u304a\u75b2\u308c\u69d8\u3067\u3059\u3002\n\u3053\u306e\u624b\u306e\u30a2\u30eb\u30b4\u30ea\u304c\u4f7f\u3048\u308b\u3068\u306a\u3093\u3084\u304b\u3093\u3084\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308b\u8a33\u3067\u3059\u304c\u3001\u79c1\u306e\u7d4c\u9a13\u5247\u3060\u3068HSP\u89e6\u3063\u3066\u308b\u6642\u3063\u3066\u5b9f\u969b\u3053\u3046\u3044\u3046\u306a\u3093\u3084\u304b\u3093\u3084\u3063\u3066\u5fc5\u8981\u306a\u30b1\u30fc\u30b9\u5c11\u306a\u3044\u6c17\u304c\u3059\u308b\u3093\u3067\u3059\u3088\u306d\u3002\n\n**\u2026\u79c1\u304c\u305d\u3046\u3044\u3046\u306e\u3092\u3042\u3093\u307e\u308a\u4f5c\u3063\u3066\u306a\u304b\u3063\u305f\u3060\u3051\u304b\u3082\u3002**\n\n\u305d\u308c\u3067\u3082\u3001\u3053\u3046\u3044\u3063\u305f\u8a71\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u66f8\u3044\u3066\u308b\u9650\u308a\u306f\u3069\u3053\u304b\u3067\u4ed8\u304d\u307e\u3068\u308f\u308c\u308b\u8a71\u306a\u306e\u3067\u3001\u305d\u3046\u3044\u3063\u305f\u4eba\u306e\u52a9\u3051\u306b\u3067\u3082\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n### \u306a\u3093\u3084\u304b\u3093\u3084\u88dc\u8db3\u3068\u304b\n\n\u4eca\u56de\u8a66\u3057\u3066\u306a\u3044\u3051\u3069\u4ed6\u306e\u30c8\u30d4\u30c3\u30af\u3068\u3057\u3066\u306f**A*\uff08\u3068\u304b\u53cc\u65b9\u5411A*\uff09\u3068\u304b\u3001\u305d\u3082\u305d\u3082\u5e45\u512a\u5148\u3058\u3083\u306a\u304f\u3066\u6df1\u3055\u512a\u5148\u63a2\u7d22\uff08\uff0b\u53cd\u5fa9\u6df1\u5316\uff09\u3068\u304b\u3001\u679d\u5208\u308a\u3061\u3083\u3093\u3068\u3057\u3088\u3046\u306d\u3068\u304b\u3001\u4e8c\u5206\u63a2\u7d22\u3058\u3083\u306a\u304f\u3066N\u5206\u6728\uff08\u99d2\u306e\u7a2e\u985e\u304c9\u7a2e\u985e\u306a\u306e\u3067\u30019\u5206\u6728\uff09\u4f7f\u3063\u305f\u65b9\u304c$O(log_9 N)$\u307e\u3067\u843d\u3068\u305b\u308b\u3068\u304b\u3001\u8272\u3005\u3042\u308a\u307e\u3059\u3002**[^astah_taihen]\n**\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u8a71\u306e\u5916\u3082\u898b\u308c\u3070\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u3068\u304b\u3082\u898b\u3048\u3066\u304d\u307e\u3059\u306d\u3002**\n\u305d\u3057\u3066\u76e4\u9762\u306e\u5727\u7e2e\u3060\u3068\u4eca\u56de\u306f4\u30d3\u30c3\u30c8\u5358\u4f4d\u306b\u8a70\u3081\u8fbc\u3093\u3060\u3051\u3069\u3001\u3088\u304f\u3088\u304f\u8003\u3048\u305f\u30899\u9032\u6cd5\u4f7f\u3046\u3068\u304b\u3001**\u6700\u5c0f\u5b8c\u5168\u30cf\u30c3\u30b7\u30e5**\u4f7f\u3063\u3066\u3082\u3088\u304b\u3063\u305f\u3093\u3058\u3083\u306a\u3044\u304b\u3001\u3068\u632f\u308a\u8fd4\u3063\u3066\u601d\u3044\u307e\u3057\u305f\u3001\u66f8\u3044\u3066\u308b\u6642\u306f\u6848\u5916\u6c17\u4ed8\u304b\u306a\u3044\u3093\u3060\u3088\u306d\u3002\n\n\u305d\u3046\u3044\u3046\u306e\u7a81\u3063\u8fbc\u307f\u59cb\u3081\u308b\u3068\u3053\u306e\u8a18\u4e8b\u304c\u3069\u3053\u306b\u5411\u304b\u3063\u3066\u3044\u308b\u306e\u304b\u5206\u304b\u3089\u306a\u304f\u306a\u308b\u306e\u3067\u3084\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u305d\u308c\u3089\u306e\u8a71\u81ea\u4f53\u306f\u96e3\u3057\u304f\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n***\u3053\u3093\u306a\u8a18\u4e8b\u3060\u3051\u3058\u3083\u6e80\u8db3\u3067\u304d\u306a\u3044\uff01***\u3068\u304b***\u305d\u3046\u3044\u3046\u306e\u304c\u3084\u308a\u305f\u304b\u3063\u305f\u3093\u3060\u3088\u4ffa\u306f\uff01***\u3068\u3044\u3046\u731b\u8005\u306e\u65b9\u306f\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u3066\u307f\u308b\u3068\u9762\u767d\u3044\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\u78ba\u304bA*\u306f\u65e2\u306b\u624b\u57a2\u3064\u3044\u3066\u305f\u8a18\u61b6\u3042\u308b\u306e\u3067\u3001\u4e9c\u7a2e\u306e**\u53cc\u65b9\u5411A*\u3068\u304bHSP\u3067\u306f\u672a\u8e0f\u306e\u5730\u3060\u304b\u3089\u8ab0\u304b\u305d\u3046\u3044\u3046\u306e\u3092\uff01**\uff08\u7121\u8336\u632f\u308a\uff09\n\n**\u305d\u308c\u3067\u306f\uff01**\n\n[^taihen_1]: \u8aad\u3093\u3067\u308b\u65b9\u3082\u5927\u5909\u306a\u3093\u3067\u3057\u3087\u3046\u304c\u3001\u66f8\u3044\u3066\u308b\u65b9\u3063\u3066\u57fa\u672c\u601d\u308f\u308c\u3066\u3044\u308b\u4ee5\u4e0a\u306b\u5927\u5909\u306a\u306e\u3088\u306d\u3001\u305d\u308c\u304c\u4e16\u306e\u5e38\u3002\n[^taihen_2]: \u3061\u306a\u307f\u306b\u3053\u3053\u307e\u3067\u66f8\u304f\u306e\u306b\u7b46\u8005\u304c\u304b\u304b\u3063\u305f\u6642\u9593\u304a\u3088\u305d6\u6642\u9593\u3001\u7b46\u8005\u304c\u30d2\u30fc\u30d2\u30fc\u8a00\u3044\u59cb\u3081\u308b\u6642\u9593\u3002\n[^taihen_3]: \u3061\u306a\u307f\u306b\u3061\u306a\u307f\u306b\u3053\u3053\u307e\u3067\u66f8\u304f\u306e\u306b\u7b46\u8005\u304c\u304b\u304b\u3063\u305f\u6642\u9593\u304a\u3088\u305d10\u6642\u9593\u3001\u7b46\u8005\u304c\u30cf\u30d2\u30fc\u30cf\u30d2\u30fc\u8a00\u3063\u3066\u308b\u6642\u9593\u3002\u3053\u308c\u3050\u3089\u3044\u6642\u9593\u304b\u3051\u305f\u308931\u624b\u3082\u89e3\u3051\u3066\u308b\u306e\u304b\u306a\u2026\u3002\n[^taihen_4]: \u3061\u306a\u307f\u306b\u3061\u306a\u307f\u306b\u3061\u306a\u307f\u306b\u3053\u3053\u307e\u3067\u66f8\u304f\u306e\u306b\u7b46\u8005\u304c\u304b\u304b\u3063\u305f\u6642\u9593\u304a\u3088\u305d13\u6642\u9593\u3001\u7b46\u8005\u306e\u30c6\u30f3\u30b7\u30e7\u30f3\u304c\u4e0b\u304c\u3063\u3066\u6295\u3052\u3084\u308a\u306b\u306a\u3063\u3066\u304d\u3066\u3044\u308b\u9803\u3002\n[^taihen_5]: \u3061\u306a\u307f\u306b\u3061\u306a\u307f\u306b\u3061\u306a\u307f\u306b\u3061\u306a\u307f\u306b\u306a\u3093\u3067\u3059\u304c\u3001\u3053\u3053\u307e\u3067\u66f8\u304f\u306e\u306b\u7b46\u8005\u304c\u304b\u304b\u3063\u305f\u6642\u9593\u304a\u3088\u305d15\u6642\u9593\u3001\u304b\u306a\u308a\u75b2\u308c\u305f\u3002\n[^astah_taihen]: A*\u3082\u76e4\u9762\u306e\u5217\u6319\u6570\u3092\u6291\u3048\u308b\u65b9\u5411\u306e\u624b\u6cd5\u306a\u306e\u3067\u3001\u5b9f\u306f\u53cc\u65b9\u5411\u63a2\u7d22\u3068\u540c\u3058\u3088\u3046\u306a\u52b9\u679c\u306a\u6c17\u304c\u3057\u3066\u307e\u3059\u3002\u4f7f\u7528\u3059\u308b\u30d2\u30e5\u30fc\u30ea\u30b9\u30c6\u30a3\u30c3\u30af\u306b\u3088\u3063\u3066\u7d50\u679c\u306f\u5909\u308f\u308b\u3060\u308d\u3046\u3051\u3069\u3001\u57fa\u672c\u7684\u306bA*\u306e\u304c\u8ce2\u3044\u306e\u3067\u3088\u308a\u826f\u3044\u7d50\u679c\u304c\u3067\u308b\u3067\u3057\u3087\u3046\u306d\u3002\u3067\u3082A*\u3001\u30d7\u30e9\u30a4\u30aa\u30ea\u30c6\u30a3\u30fc\u30ad\u30e5\u30fc\u304c\u5fc5\u8981\u306a\u6c17\u304c\u3057\u3066\u3001HSP\u3067\u306e\u5b9f\u88c5\u306f\u304b\u306a\u308a\u91cd\u3081\u3060\u3088\u306a\u2026\u3002\n", "tags": ["HSP"]}