{"context": " More than 1 year has passed since last update.\u305d\u306e\uff12\u306f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3001\u30ea\u30b9\u30c8\u30a2\u3092\u884c\u3044\u307e\u3059\u3002\n\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5143\u306f CentOS5\n\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5148\u306f ubuntu 14.4\n\u3067\u3059\u3002\n\n\u5fc5\u8981\u306a\u3082\u306e\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\nhttp://redmine.jp/faq/system_management/backup/\n\u3053\u308c\u3092\u53c2\u7167\u3057\u306a\u304c\u3089\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5143\n$ cat /opt/redmine-2.6.2/config/database.yml\n# Default setup is given for MySQL with ruby1.9. If you're running Redmine\n# with MySQL and ruby1.8, replace the adapter name with `mysql`.\n# Examples for PostgreSQL, SQLite3 and SQL Server can be found at the end.\n# Line indentation must be 2 spaces (no tabs).\n\nproduction:\n  adapter: mysql2\n  database: redmine\n  host: localhost\n  username: redmine\n  password: redmine\n  encoding: utf8\n\n\u203bDB\u540d\u306e\u78ba\u8a8d\n\n$ cd /home/xxx/backup/\n$ mysqldump -u redmine -predmine redmine > redmine.sql\n\u203b sql\u306e\u30c0\u30f3\u30d7\n\n$ su\n# cd /opt/redmine-2.6.2/\n# tar zcvfp /home/xxx/backup/redmine-files.tar.gz ./files\n\u203bfiles\u3092tar\u3067\u56fa\u3081\u308b\n\n\n\u8ee2\u9001\u5148\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u6301\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\uff08ftp\u3067\u3082sftp\u3067\u3082scp\u3067\u3082\u306a\u3093\u3067\u3082\u3069\u3046\u305e\uff09\n\u305d\u306e\uff11\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f ubuntu\u306e redmine\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u8272\u3005\u9055\u3046\u306e\u3067\u6ce8\u610f\uff01\n\n\n\n\nCentOS5\nubuntu 14.4\n\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30b9\n/opt/redmine-xxx\n/usr/share/redmine\n\n\ndatabase.yml\n/opt/redmine-xxx/config\n/etc/redmine/default\n\n\n\n\n\u8ee2\u9001\u5148\nroot@raidtest:~# cd /etc/redmine/default\nroot@raidtest:/etc/redmine/default# cat database.yml\nproduction:\n  adapter: mysql\n  database: redmine_default\n  host: localhost\n  port:\n  username: redmine_default\n  password: redmine\n  encoding: utf8\n\n\u203bDB\u306e\u540d\u524d\u3068\u304b\u78ba\u8a8d\n\nroot@raidtest:~/redmine-backup# ls -al\n\u5408\u8a08 296\ndrwxrwxr-x 2 nyamagu nyamagu   4096  5\u6708 20 14:30 .\ndrwxr-xr-x 5 nyamagu nyamagu   4096  5\u6708 20 14:29 ..\n-rw-r--r-- 1 nyamagu nyamagu  99262  5\u6708 20 14:30 redmine-files.tar.gz\n-rw-r--r-- 1 nyamagu nyamagu 191826  5\u6708 20 14:29 redmine.sql\n\u203b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d\n\nroot@raidtest:~/redmine-backup# mysql -u redmine_default -predmine redmine_default < redmine.sql\nroot@raidtest:~/redmine-backup#\n\u203bDB\u30d5\u30a1\u30a4\u30eb\u306e\u30ea\u30b9\u30c8\u30a2\n\noot@raidtest:/usr/share/redmine# cd /usr/share/redmine/\nroot@raidtest:/usr/share/redmine# ls\nGemfile       Rakefile  config     db     lib     script     test\nGemfile.lock  app       config.ru  extra  public  templates\n\u203bfiles\u3092\u30ea\u30b9\u30c8\u30a2\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3051\u3069files\u3063\u3066\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u306a\u3044\u3002\u3002\u3002\u3044\u3044\u3084\u3053\u306e\u307e\u307e\u5c55\u958b\n\nroot@raidtest:/usr/share/redmine# tar zxvfp /home/xxx/redmine-backup/redmine-files.tar.gz\n./files/\n./files/delete.me\n./files/2015/\n\n\n\u3053\u308c\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\u3068\u3001\u3068\u308a\u3042\u3048\u305a\u5143\u901a\u308a\u306b\u306a\u3063\u3066\u308b\u611f\u3058\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\u305d\u306e\uff12\u306f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3001\u30ea\u30b9\u30c8\u30a2\u3092\u884c\u3044\u307e\u3059\u3002\n\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5143\u306f CentOS5\n\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5148\u306f ubuntu 14.4\n\u3067\u3059\u3002\n\n## \u5fc5\u8981\u306a\u3082\u306e\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\n\nhttp://redmine.jp/faq/system_management/backup/\n\u3053\u308c\u3092\u53c2\u7167\u3057\u306a\u304c\u3089\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\n\n```shell:\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5143\n$ cat /opt/redmine-2.6.2/config/database.yml\n# Default setup is given for MySQL with ruby1.9. If you're running Redmine\n# with MySQL and ruby1.8, replace the adapter name with `mysql`.\n# Examples for PostgreSQL, SQLite3 and SQL Server can be found at the end.\n# Line indentation must be 2 spaces (no tabs).\n\nproduction:\n  adapter: mysql2\n  database: redmine\n  host: localhost\n  username: redmine\n  password: redmine\n  encoding: utf8\n\n\u203bDB\u540d\u306e\u78ba\u8a8d\n\n$ cd /home/xxx/backup/\n$ mysqldump -u redmine -predmine redmine > redmine.sql\n\u203b sql\u306e\u30c0\u30f3\u30d7\n\n$ su\n# cd /opt/redmine-2.6.2/\n# tar zcvfp /home/xxx/backup/redmine-files.tar.gz ./files\n\u203bfiles\u3092tar\u3067\u56fa\u3081\u308b\n```\n\n\u8ee2\u9001\u5148\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u6301\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\uff08ftp\u3067\u3082sftp\u3067\u3082scp\u3067\u3082\u306a\u3093\u3067\u3082\u3069\u3046\u305e\uff09\n\n\u305d\u306e\uff11\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f ubuntu\u306e redmine\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u8272\u3005\u9055\u3046\u306e\u3067\u6ce8\u610f\uff01\n\n\n| |CentOS5|ubuntu 14.4|\n|---|---|---|\n|\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30b9|/opt/redmine-xxx|/usr/share/redmine|\n|database.yml|/opt/redmine-xxx/config|/etc/redmine/default|\n\n```shell:\u8ee2\u9001\u5148\nroot@raidtest:~# cd /etc/redmine/default\nroot@raidtest:/etc/redmine/default# cat database.yml\nproduction:\n  adapter: mysql\n  database: redmine_default\n  host: localhost\n  port:\n  username: redmine_default\n  password: redmine\n  encoding: utf8\n\n\u203bDB\u306e\u540d\u524d\u3068\u304b\u78ba\u8a8d\n\nroot@raidtest:~/redmine-backup# ls -al\n\u5408\u8a08 296\ndrwxrwxr-x 2 nyamagu nyamagu   4096  5\u6708 20 14:30 .\ndrwxr-xr-x 5 nyamagu nyamagu   4096  5\u6708 20 14:29 ..\n-rw-r--r-- 1 nyamagu nyamagu  99262  5\u6708 20 14:30 redmine-files.tar.gz\n-rw-r--r-- 1 nyamagu nyamagu 191826  5\u6708 20 14:29 redmine.sql\n\u203b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d\n\nroot@raidtest:~/redmine-backup# mysql -u redmine_default -predmine redmine_default < redmine.sql\nroot@raidtest:~/redmine-backup#\n\u203bDB\u30d5\u30a1\u30a4\u30eb\u306e\u30ea\u30b9\u30c8\u30a2\n\noot@raidtest:/usr/share/redmine# cd /usr/share/redmine/\nroot@raidtest:/usr/share/redmine# ls\nGemfile       Rakefile  config     db     lib     script     test\nGemfile.lock  app       config.ru  extra  public  templates\n\u203bfiles\u3092\u30ea\u30b9\u30c8\u30a2\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3051\u3069files\u3063\u3066\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u306a\u3044\u3002\u3002\u3002\u3044\u3044\u3084\u3053\u306e\u307e\u307e\u5c55\u958b\n\nroot@raidtest:/usr/share/redmine# tar zxvfp /home/xxx/redmine-backup/redmine-files.tar.gz\n./files/\n./files/delete.me\n./files/2015/\n```\n\n\u3053\u308c\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\u3068\u3001\u3068\u308a\u3042\u3048\u305a\u5143\u901a\u308a\u306b\u306a\u3063\u3066\u308b\u611f\u3058\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\n\n\n\n", "tags": ["Redmine"]}