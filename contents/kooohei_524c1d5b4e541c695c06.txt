{"context": "\n\n\u306f\u3058\u3081\u306b\n\u524d\u56de\u3001\u3010IDCF\u30af\u30e9\u30a6\u30c9\u3011cloudstack-api\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002\u3067\u306fcloudstack-api\u30b3\u30de\u30f3\u30c9\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306f\u305d\u306e\u7d9a\u7de8\u3068\u3057\u3066\u3001\u4f5c\u6210\u3057\u305f\u4eee\u60f3\u30de\u30b7\u30f3\u306b\u30d1\u30d6\u30ea\u30c3\u30afIP\u3092\u4ed8\u4e0e\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4e8b\u524d\u78ba\u8a8d\n\u307e\u305a\u306f\u73fe\u5728\u306e\u30d1\u30d6\u30ea\u30c3\u30afIP\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\n$ cloudstack-api listPublicIpAddresses -t ipaddress\n\n\n\n\u623b\u308a\u5024\n+-----------------+\n|    ipaddress    |\n+-----------------+\n| ***.***.***.*** |\n+-----------------+\n\n\n\n\u30d1\u30d6\u30ea\u30c3\u30afIP\u306e\u53d6\u5f97\n\u30d1\u30d6\u30ea\u30c3\u30afIP\u306e\u53d6\u5f97\u306fassociateIpAddress\u30b3\u30de\u30f3\u30c9\u3067\u884c\u3044\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\n$ cloudstack-api associateIpAddress \\\n --zoneid a53ff3d3-042b-4cbd-ad16-494bb8d33e06\n\n\n\n\u623b\u308a\u5024\n{\n  \"associateipaddressresponse\": {\n    \"id\": \"061c31aa-aa41-4e03-a274-83b17b58c1a3\",\n    \"jobid\": \"b32b867c-07d4-412e-b514-94a1eee62ed1\"\n  }\n}\n\n\n\n\n\n\u30aa\u30d7\u30b7\u30e7\u30f3\n\u5185\u5bb9\n\n\n\n\n--zoneid\n\u30be\u30fc\u30f3ID\n\n\n\n\u7c21\u5358\u306b\u8aac\u660e\u3059\u308b\u3068\u3001\n\n\nradian\u30be\u30fc\u30f3\u306b\u30d1\u30d6\u30ea\u30c3\u30afIP\u3092\u5272\u308a\u5f53\u3066\u308b\uff08\u53d6\u5f97\u3059\u308b\uff09\n\n\u3068\u3044\u3046\u5185\u5bb9\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u78ba\u8a8d\n\u5148\u307b\u3069\u306elistPublicIpAddresses\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u30b3\u30de\u30f3\u30c9\n$ cloudstack-api listPublicIpAddresses -t ipaddress,id,virtualmachinename\n\n\n\n\u623b\u308a\u5024\n+----------------+--------------------------------------+--------------------+\n|   ipaddress    |                  id                  | virtualmachinename |\n+----------------+--------------------------------------+--------------------+\n| 210.129.19.191 | 061c31aa-aa41-4e03-a274-83b17b58c1a3 | None               |\n| ***.***.***.***| ********-****-****-****-************ | None               |\n+----------------+--------------------------------------+--------------------+\n\n\n210.129.19.191 \u306eIP\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\nNAT\u8a2d\u5b9a\n\u53d6\u5f97\u304c\u78ba\u8a8d\u3067\u304d\u305f\u3089\u6b21\u306fNAT\u306e\u8a2d\u5b9a\u3067\u3059\u3002\n\u30d1\u30d6\u30ea\u30c3\u30afIP\u3092\u4eee\u60f3\u30de\u30b7\u30f3\u3078\u5272\u308a\u5f53\u3066\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\n$ cloudstack-api enableStaticNat \\\n--ipaddressid 061c31aa-aa41-4e03-a274-83b17b58c1a3 \\\n--virtualmachineid b1230e50-f75b-4343-8d6e-ca7a4efcf2b0\n\n\n\n\u623b\u308a\u5024\n{\n  \"enablestaticnatresponse\": {\n    \"success\": \"true\"\n  }\n}\n\n\n\n\n\n\u30aa\u30d7\u30b7\u30e7\u30f3\n\u5185\u5bb9\n\n\n\n\n--ipaddressid\n\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9ID\n\n\n--virtualmachineid\n\u4eee\u60f3\u30de\u30b7\u30f3ID\n\n\n\n\u623b\u308a\u5024\u3067\"success\": \"true\"\u3068\u306a\u3063\u3066\u3044\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002\n\n\u78ba\u8a8d\n\u5148\u307b\u3069\u5b9f\u884c\u3057\u305f\u623b\u308a\u5024\u3067\u3082\u78ba\u8a8d\u306f\u3067\u304d\u3066\u3044\u307e\u3059\u304c\u3001\u4e00\u5fdclistPublicIpAddresses\u30b3\u30de\u30f3\u30c9\u3067\u3082\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u30b3\u30de\u30f3\u30c9\n$ cloudstack-api listPublicIpAddresses -t ipaddress,id,virtualmachinename,virtualmachinedisplayname\n\n\n\n\u623b\u308a\u5024\n+----------------+--------------------------------------+--------------------+----------+---------------------------+\n|   ipaddress    |                  id                  | virtualmachinename | hostname | virtualmachinedisplayname |\n+----------------+--------------------------------------+--------------------+----------+---------------------------+\n| 210.129.19.191 | 061c31aa-aa41-4e03-a274-83b17b58c1a3 | test-host          | None     | create-test               |\n| ***.***.***.***| ********-****-****-****-************ | None               | None     | None                      |\n+----------------+--------------------------------------+--------------------+----------+---------------------------+\n\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u5148\u307b\u3069\u53d6\u5f97\u3057\u305f\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\u3053\u3053\u3067\u51fa\u529b\u3057\u3066\u3044\u308b\u9805\u76ee\u3067\u3059\u304cvirtualmachinename\u306f\u30b5\u30fc\u30d0\u81ea\u8eab\u306ehostname\u3068\u306a\u308a\u307e\u3059\u3002\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u8868\u793a\u3055\u308c\u308b\u300c\u4eee\u60f3\u30de\u30b7\u30f3\u540d\u300d\u306fvirtualmachinedisplayname\u3067\u3059\u3002\n\n\u304a\u308f\u308a\u306b\n\u4eee\u60f3\u30de\u30b7\u30f3\u306b\u30d1\u30d6\u30ea\u30c3\u30afIP\u304c\u4ed8\u4e0e\u3055\u308c\u305f\u306e\u3067\u3053\u308c\u3067\u5916\u90e8\u3068\u306e\u901a\u4fe1\u7d4c\u8def\u304c\u7528\u610f\u3055\u308c\u307e\u3057\u305f\u3002\n\u3067\u3059\u304c\u5b9f\u306f\u307e\u3060\u901a\u4fe1\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u3002\u3002FW\u3067\u8a31\u53ef\u3055\u308c\u3066\u3044\u306a\u3044\u304b\u3089\u3067\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u6b21\u56de\u306fFW\u306e\u8a2d\u5b9a\u3092cloudstack-api\u3067\u884c\u3044\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n# \u306f\u3058\u3081\u306b\n\u524d\u56de\u3001[\u3010IDCF\u30af\u30e9\u30a6\u30c9\u3011cloudstack-api\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002](http://qiita.com/kooohei/items/7690b526edf453fc15d6)\u3067\u306f_cloudstack-api_\u30b3\u30de\u30f3\u30c9\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306f\u305d\u306e\u7d9a\u7de8\u3068\u3057\u3066\u3001\u4f5c\u6210\u3057\u305f\u4eee\u60f3\u30de\u30b7\u30f3\u306b\u30d1\u30d6\u30ea\u30c3\u30afIP\u3092\u4ed8\u4e0e\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n## \u4e8b\u524d\u78ba\u8a8d\n\u307e\u305a\u306f\u73fe\u5728\u306e\u30d1\u30d6\u30ea\u30c3\u30afIP\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash:\u30b3\u30de\u30f3\u30c9\n$ cloudstack-api listPublicIpAddresses -t ipaddress\n```\n\n```text:\u623b\u308a\u5024\n+-----------------+\n|    ipaddress    |\n+-----------------+\n| ***.***.***.*** |\n+-----------------+\n```\n\n\n## \u30d1\u30d6\u30ea\u30c3\u30afIP\u306e\u53d6\u5f97\n\n\u30d1\u30d6\u30ea\u30c3\u30afIP\u306e\u53d6\u5f97\u306f`associateIpAddress `\u30b3\u30de\u30f3\u30c9\u3067\u884c\u3044\u307e\u3059\u3002\n\n```bash:\u30b3\u30de\u30f3\u30c9\n$ cloudstack-api associateIpAddress \\\n --zoneid a53ff3d3-042b-4cbd-ad16-494bb8d33e06\n```\n\n```text:\u623b\u308a\u5024\n{\n  \"associateipaddressresponse\": {\n    \"id\": \"061c31aa-aa41-4e03-a274-83b17b58c1a3\",\n    \"jobid\": \"b32b867c-07d4-412e-b514-94a1eee62ed1\"\n  }\n}\n```\n\n|\u30aa\u30d7\u30b7\u30e7\u30f3 |\u5185\u5bb9   |\n|--------|-------|\n|--zoneid|\u30be\u30fc\u30f3ID|\n\n\u7c21\u5358\u306b\u8aac\u660e\u3059\u308b\u3068\u3001\n\n- _radian_\u30be\u30fc\u30f3\u306b\u30d1\u30d6\u30ea\u30c3\u30afIP\u3092\u5272\u308a\u5f53\u3066\u308b\uff08\u53d6\u5f97\u3059\u308b\uff09\n\n\u3068\u3044\u3046\u5185\u5bb9\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n## \u78ba\u8a8d\n\u5148\u307b\u3069\u306e`listPublicIpAddresses`\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```bash:\u30b3\u30de\u30f3\u30c9\n$ cloudstack-api listPublicIpAddresses -t ipaddress,id,virtualmachinename\n```\n\n```text:\u623b\u308a\u5024\n+----------------+--------------------------------------+--------------------+\n|   ipaddress    |                  id                  | virtualmachinename |\n+----------------+--------------------------------------+--------------------+\n| 210.129.19.191 | 061c31aa-aa41-4e03-a274-83b17b58c1a3 | None               |\n| ***.***.***.***| ********-****-****-****-************ | None               |\n+----------------+--------------------------------------+--------------------+\n```\n\n`210.129.19.191` \u306eIP\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\n\n# NAT\u8a2d\u5b9a\n\n\u53d6\u5f97\u304c\u78ba\u8a8d\u3067\u304d\u305f\u3089\u6b21\u306fNAT\u306e\u8a2d\u5b9a\u3067\u3059\u3002\n\u30d1\u30d6\u30ea\u30c3\u30afIP\u3092\u4eee\u60f3\u30de\u30b7\u30f3\u3078\u5272\u308a\u5f53\u3066\u307e\u3059\u3002\n\n```bash:\u30b3\u30de\u30f3\u30c9\n$ cloudstack-api enableStaticNat \\\n--ipaddressid 061c31aa-aa41-4e03-a274-83b17b58c1a3 \\\n--virtualmachineid b1230e50-f75b-4343-8d6e-ca7a4efcf2b0\n```\n\n```text:\u623b\u308a\u5024\n{\n  \"enablestaticnatresponse\": {\n    \"success\": \"true\"\n  }\n}\n```\n\n|\u30aa\u30d7\u30b7\u30e7\u30f3           |\u5185\u5bb9               |\n|------------------|------------------|\n|--ipaddressid     |\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9ID  |\n|--virtualmachineid|\u4eee\u60f3\u30de\u30b7\u30f3ID        |\n\n\u623b\u308a\u5024\u3067`\"success\": \"true\"`\u3068\u306a\u3063\u3066\u3044\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002\n\n\n## \u78ba\u8a8d\n\u5148\u307b\u3069\u5b9f\u884c\u3057\u305f\u623b\u308a\u5024\u3067\u3082\u78ba\u8a8d\u306f\u3067\u304d\u3066\u3044\u307e\u3059\u304c\u3001\u4e00\u5fdc`listPublicIpAddresses`\u30b3\u30de\u30f3\u30c9\u3067\u3082\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n\n```bash:\u30b3\u30de\u30f3\u30c9\n$ cloudstack-api listPublicIpAddresses -t ipaddress,id,virtualmachinename,virtualmachinedisplayname\n```\n\n```text:\u623b\u308a\u5024\n+----------------+--------------------------------------+--------------------+----------+---------------------------+\n|   ipaddress    |                  id                  | virtualmachinename | hostname | virtualmachinedisplayname |\n+----------------+--------------------------------------+--------------------+----------+---------------------------+\n| 210.129.19.191 | 061c31aa-aa41-4e03-a274-83b17b58c1a3 | test-host          | None     | create-test               |\n| ***.***.***.***| ********-****-****-****-************ | None               | None     | None                      |\n+----------------+--------------------------------------+--------------------+----------+---------------------------+\n```\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u5148\u307b\u3069\u53d6\u5f97\u3057\u305f\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\u3053\u3053\u3067\u51fa\u529b\u3057\u3066\u3044\u308b\u9805\u76ee\u3067\u3059\u304c_virtualmachinename_\u306f\u30b5\u30fc\u30d0\u81ea\u8eab\u306e_hostname_\u3068\u306a\u308a\u307e\u3059\u3002\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u8868\u793a\u3055\u308c\u308b\u300c\u4eee\u60f3\u30de\u30b7\u30f3\u540d\u300d\u306f_virtualmachinedisplayname_\u3067\u3059\u3002\n\n\n# \u304a\u308f\u308a\u306b\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u306b\u30d1\u30d6\u30ea\u30c3\u30afIP\u304c\u4ed8\u4e0e\u3055\u308c\u305f\u306e\u3067\u3053\u308c\u3067\u5916\u90e8\u3068\u306e\u901a\u4fe1\u7d4c\u8def\u304c\u7528\u610f\u3055\u308c\u307e\u3057\u305f\u3002\n\u3067\u3059\u304c\u5b9f\u306f\u307e\u3060\u901a\u4fe1\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u3002\u3002FW\u3067\u8a31\u53ef\u3055\u308c\u3066\u3044\u306a\u3044\u304b\u3089\u3067\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u6b21\u56de\u306fFW\u306e\u8a2d\u5b9a\u3092cloudstack-api\u3067\u884c\u3044\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["IDCF\u30af\u30e9\u30a6\u30c9", "cloudstack-api"]}