{"context": "\u203b \u3053\u306e\u8a18\u4e8b\u306f\u554f\u984c\u7de8\u3067\u3059\u3002\u672c\u7de8\u3067\u3042\u308b\u89e3\u8aac\u7de8\u3068\u5408\u308f\u305b\u3066\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n\u3053\u306e\u8a18\u4e8b\u4f55\uff1f\n\n\nRxSwift Advent Calendar 2016\u306e22\u65e5\u76ee\u306e\u8a18\u4e8b\u306e\u524d\u7f6e\u304d\u307f\u305f\u3044\u306a\u3082\u306e\u3067\u3059\u3002\n\u30af\u30a4\u30ba\u3092\u901a\u3057\u3066\u3001\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u74b0\u5883\u4e0b\u306b\u304a\u3051\u308bRxSwift\u306e\u6319\u52d5\u3068\u3001observeOn\u30fbsubscribeOn\u306a\u3069\u306e\u30aa\u30da\u30ec\u30fc\u30bf\u30fc\u3084 Driver\u30fbControlEvent \u306a\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u5468\u308a\u306e\u6027\u8cea\u3092\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\n\n\u3053\u306e\u8a18\u4e8b\u81ea\u4f53\u306b\u306f\u89e3\u7b54\u30fb\u89e3\u8aac\u306f\u542b\u307f\u307e\u305b\u3093\u3002\u5f8c\u7de8\u304b\u3064\u672c\u7de8\u3067\u3042\u308b\u89e3\u8aac\u7de8\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\nRxSwift \u30b9\u30ec\u30c3\u30c9\u30af\u30a4\u30ba(\u89e3\u7b54\u30fb\u89e3\u8aac\u7de8)\n\n\n\n\n\u30af\u30a4\u30ba\u306b\u3064\u3044\u3066\n\n\u4ee5\u4e0b\u306e\u30af\u30a4\u30ba\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u306b\u3066\u6d41\u308c\u3066\u304f\u308b\u304b\u3092\u5f53\u3066\u308b\u30af\u30a4\u30ba\u3067\u3059\u3002\n\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3058\u3083\u306a\u3044\u30b9\u30ec\u30c3\u30c9\u3092\u307e\u3068\u3081\u3066\u300c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30b9\u30ec\u30c3\u30c9\u300d\u3068\u547c\u3073\u307e\u3059\u3002\n\u7279\u306b\u660e\u793a\u7684\u306b\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3060\u3068\u601d\u3063\u3066\u304f\u3060\u3055\u3044\u3002\u3064\u307e\u308a\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u306f\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067\u3059\u3002\n\n\n.addDisposableTo(disposeBag) \u306f\u7701\u7565\u3057\u3066\u307e\u3059\u3002\n\n\n\u7b2c1\u554f\n(1)\u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c1\u554f\nObservable.of(1, 2, 3)\n    .map { $0 * 2 } // (1)\n    .subscribe()\n\n\n\n\u7b2c2\u554f\n(1)\u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c2\u554f\nlet o = Observable.of(1, 2, 3)\n    .map { $0 * 2 } // (1)\n\nbackgroundQueue.async {\n    o.subscribe() // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067subscribe\n}\n\n\n\n\u7b2c3\u554f\n(1)\u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c3\u554f\nlet o = Observable.of(1, 2, 3)\n    .map { $0 * 2 } // (1)\n    .publish()\n\no.subscribe()\n\nbackgroundQueue.async {\n    o.connect()\n}\n\n\n\n\u7b2c4\u554f\n(1)\u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c4\u554f\nlet o = Observable.of(1, 2, 3)\n    .map { $0 * 2 } // (1)\n    .share()\n\nbackgroundQueue.async {\n    // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30b9\u30ec\u30c3\u30c9\n    o.subscribe()\n    mainQueue.async {\n        // \u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\n        o.subscribe()\n    }\n}\n\n\n\n\u7b2c5\u554f\n(1)\u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c5\u554f\nlet o = Observable.of(1, 2, 3, scheduler: mainScheduler)\n    .map { $0 * 2 } // (1)\n\nbackgroundQueue.async {\n    o.subscribe()\n}\n\n\n\n\u7b2c6\u554f\n(1), (2) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c6\u554f\nObservable.of(1, 2, 3)\n    .map { $0 * 2 }  // (1)\n    .observeOn(backgroundScheduler)\n    .map { $0 * 2 } // (2)\n    .subscribe()\n\n\n\n\u7b2c7\u554f\n(1), (2) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c7\u554f\nObservable.of(1, 2, 3)\n    .map { $0 * 2 } // (1)\n    .subscribeOn(backgroundScheduler)\n    .map { $0 * 2 } // (2)\n    .subscribe()\n\n\n\n\u7b2c8\u554f\n(1), (2) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c8\u554f\nObservable.of(1, 2, 3, scheduler: backgroundScheduler)\n    .map { $0 * 2 } // (1)\n    .observeOn(mainScheduler)\n    .map { $0 * 2 } // (2)\n    .subscribe()\n\n\n\n\u7b2c9\u554f\n(1), (2) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c9\u554f\nObservable.of(1, 2, 3, scheduler: mainScheduler)\n    .map { $0 * 2 } // (1)\n    .subscribeOn(backgroundScheduler)\n    .map { $0 * 2 } // (2)\n    .subscribe()\n\n\n\n\u7b2c10\u554f\n(1), (2) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c10\u554f\nlet o = Observable.of(1, 2, 3)\n\nControlEvent<Int>(events: o)\n    .map { $0 * 2 } // (1)\n    .subscribeOn(backgroundScheduler)\n    .map { $0 * 2 } // (2)\n    .subscribe()\n\n\n\n\u7b2c11\u554f\n(1), (2) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c11\u554f\nlet o = Observable.of(1, 2, 3, scheduler: backgroundScheduler)\n\nControlEvent<Int>(events: o)\n    .map { $0 * 2 } // (1)\n    .subscribeOn(backgroundScheduler)\n    .map { $0 * 2 } // (2)\n    .subscribe()\n\n\n\n\u7b2c12\u554f\n(1) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c12\u554f\nlet d = Observable.of(1, 2, 3)\n    .asDriver(onErrorJustReturn: 0)\n    .map { $0 * 2 } // (1)\n\nbackgroundQueue.async {\n    d.drive()\n}\n\n\n\n\u7b2c13\u554f\n(1) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n\u7b2c13\u554f\nObservable.of(1, 2, 3, scheduler: backgroundScheduler)\n    .asDriver(onErrorJustReturn: 0)\n    .map { $0 * 2 } // (1)\n    .drive()\n\n\n\n\u89e3\u7b54\u30fb\u89e3\u8aac\u7de8\n\u3053\u3061\u3089\u3078 \u2193\nRxSwift\u30b9\u30ec\u30c3\u30c9\u30af\u30a4\u30ba(\u89e3\u7b54\u30fb\u89e3\u8aac\u7de8)\n\u203b \u3053\u306e\u8a18\u4e8b\u306f\u554f\u984c\u7de8\u3067\u3059\u3002[\u672c\u7de8\u3067\u3042\u308b\u89e3\u8aac\u7de8](https://qiita.com/ukitaka/items/8038a9f17a34a323a76d)\u3068\u5408\u308f\u305b\u3066\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n## \u3053\u306e\u8a18\u4e8b\u4f55\uff1f\n\n+ [RxSwift Advent Calendar 2016\u306e22\u65e5\u76ee\u306e\u8a18\u4e8b](https://qiita.com/ukitaka/items/8038a9f17a34a323a76d)\u306e\u524d\u7f6e\u304d\u307f\u305f\u3044\u306a\u3082\u306e\u3067\u3059\u3002\n+ \u30af\u30a4\u30ba\u3092\u901a\u3057\u3066\u3001\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u74b0\u5883\u4e0b\u306b\u304a\u3051\u308bRxSwift\u306e\u6319\u52d5\u3068\u3001`observeOn`\u30fb`subscribeOn`\u306a\u3069\u306e\u30aa\u30da\u30ec\u30fc\u30bf\u30fc\u3084 `Driver`\u30fb`ControlEvent` \u306a\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u5468\u308a\u306e\u6027\u8cea\u3092\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\n+ \u3053\u306e\u8a18\u4e8b\u81ea\u4f53\u306b\u306f\u89e3\u7b54\u30fb\u89e3\u8aac\u306f\u542b\u307f\u307e\u305b\u3093\u3002\u5f8c\u7de8\u304b\u3064\u672c\u7de8\u3067\u3042\u308b\u89e3\u8aac\u7de8\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n\n    + [RxSwift \u30b9\u30ec\u30c3\u30c9\u30af\u30a4\u30ba(\u89e3\u7b54\u30fb\u89e3\u8aac\u7de8)](https://qiita.com/ukitaka/items/8038a9f17a34a323a76d)\n\n## \u30af\u30a4\u30ba\u306b\u3064\u3044\u3066\n\n+ \u4ee5\u4e0b\u306e\u30af\u30a4\u30ba\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u306b\u3066\u6d41\u308c\u3066\u304f\u308b\u304b\u3092\u5f53\u3066\u308b\u30af\u30a4\u30ba\u3067\u3059\u3002\n+ \u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3058\u3083\u306a\u3044\u30b9\u30ec\u30c3\u30c9\u3092\u307e\u3068\u3081\u3066\u300c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30b9\u30ec\u30c3\u30c9\u300d\u3068\u547c\u3073\u307e\u3059\u3002\n+ \u7279\u306b\u660e\u793a\u7684\u306b\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3060\u3068\u601d\u3063\u3066\u304f\u3060\u3055\u3044\u3002**\u3064\u307e\u308a\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u306f\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067\u3059\u3002**\n+ `.addDisposableTo(disposeBag)` \u306f\u7701\u7565\u3057\u3066\u307e\u3059\u3002\n\n## \u7b2c1\u554f\n\n(1)\u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c1\u554f\nObservable.of(1, 2, 3)\n    .map { $0 * 2 } // (1)\n    .subscribe()\n```\n\n\n## \u7b2c2\u554f\n\n(1)\u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c2\u554f\nlet o = Observable.of(1, 2, 3)\n    .map { $0 * 2 } // (1)\n\nbackgroundQueue.async {\n    o.subscribe() // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067subscribe\n}\n```\n\n## \u7b2c3\u554f\n\n(1)\u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c3\u554f\nlet o = Observable.of(1, 2, 3)\n    .map { $0 * 2 } // (1)\n    .publish()\n\no.subscribe()\n\nbackgroundQueue.async {\n    o.connect()\n}\n```\n\n## \u7b2c4\u554f\n\n(1)\u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c4\u554f\nlet o = Observable.of(1, 2, 3)\n    .map { $0 * 2 } // (1)\n    .share()\n\nbackgroundQueue.async {\n    // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30b9\u30ec\u30c3\u30c9\n    o.subscribe()\n    mainQueue.async {\n        // \u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\n        o.subscribe()\n    }\n}\n```\n\n## \u7b2c5\u554f\n\n(1)\u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c5\u554f\nlet o = Observable.of(1, 2, 3, scheduler: mainScheduler)\n    .map { $0 * 2 } // (1)\n\nbackgroundQueue.async {\n    o.subscribe()\n}\n```\n\n\n## \u7b2c6\u554f\n\n(1), (2) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c6\u554f\nObservable.of(1, 2, 3)\n    .map { $0 * 2 }  // (1)\n    .observeOn(backgroundScheduler)\n    .map { $0 * 2 } // (2)\n    .subscribe()\n```\n\n## \u7b2c7\u554f\n\n(1), (2) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c7\u554f\nObservable.of(1, 2, 3)\n    .map { $0 * 2 } // (1)\n    .subscribeOn(backgroundScheduler)\n    .map { $0 * 2 } // (2)\n    .subscribe()\n```\n\n## \u7b2c8\u554f\n\n(1), (2) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c8\u554f\nObservable.of(1, 2, 3, scheduler: backgroundScheduler)\n    .map { $0 * 2 } // (1)\n    .observeOn(mainScheduler)\n    .map { $0 * 2 } // (2)\n    .subscribe()\n```\n\n\n\n## \u7b2c9\u554f\n\n(1), (2) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c9\u554f\nObservable.of(1, 2, 3, scheduler: mainScheduler)\n    .map { $0 * 2 } // (1)\n    .subscribeOn(backgroundScheduler)\n    .map { $0 * 2 } // (2)\n    .subscribe()\n```\n\n## \u7b2c10\u554f\n\n(1), (2) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c10\u554f\nlet o = Observable.of(1, 2, 3)\n\nControlEvent<Int>(events: o)\n    .map { $0 * 2 } // (1)\n    .subscribeOn(backgroundScheduler)\n    .map { $0 * 2 } // (2)\n    .subscribe()\n```\n\n## \u7b2c11\u554f\n\n(1), (2) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c11\u554f\nlet o = Observable.of(1, 2, 3, scheduler: backgroundScheduler)\n\nControlEvent<Int>(events: o)\n    .map { $0 * 2 } // (1)\n    .subscribeOn(backgroundScheduler)\n    .map { $0 * 2 } // (2)\n    .subscribe()\n```\n\n## \u7b2c12\u554f\n\n(1) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c12\u554f\nlet d = Observable.of(1, 2, 3)\n    .asDriver(onErrorJustReturn: 0)\n    .map { $0 * 2 } // (1)\n\nbackgroundQueue.async {\n    d.drive()\n}\n```\n\n## \u7b2c13\u554f\n\n(1) \u306emap\u306b\u306f\u3069\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u6d41\u308c\u3066\u304f\u308b\u3067\u3057\u3087\u3046\uff1f\n\n```swift:\u7b2c13\u554f\nObservable.of(1, 2, 3, scheduler: backgroundScheduler)\n    .asDriver(onErrorJustReturn: 0)\n    .map { $0 * 2 } // (1)\n    .drive()\n```\n\n\n## \u89e3\u7b54\u30fb\u89e3\u8aac\u7de8\n\n\u3053\u3061\u3089\u3078 \u2193\n[RxSwift\u30b9\u30ec\u30c3\u30c9\u30af\u30a4\u30ba(\u89e3\u7b54\u30fb\u89e3\u8aac\u7de8)](https://qiita.com/ukitaka/items/8038a9f17a34a323a76d)\n\n", "tags": ["RxSwift", "Swift", "ReactiveX", "ReactiveExtensions"]}