{"context": " More than 1 year has passed since last update.Cocos2d-x\u306eCCClipingNode\u30af\u30e9\u30b9\u3092\u4f7f\u3063\u3066\u30de\u30b9\u30af\u3059\u308b\u65b9\u6cd5\u3092\u5171\u6709\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u753b\u9762\u3068\u540c\u3058\u5927\u304d\u3055\u306e\u771f\u3063\u767d\u306a\u30ce\u30fc\u30c9\u3092\u7528\u610f\u3057\u3066\u3001\u305d\u308c\u3092\u753b\u50cf\u3067\u30de\u30b9\u30af\u3057\u3066\u3044\u307e\u3059\u3002\nCCSize winSize = CCDirector::sharedDirector()->getWinSize();\n\n// \u30de\u30b9\u30af\u3055\u308c\u308b\u767d\u3044\u30ce\u30fc\u30c9\nCCDrawNode *content = CCDrawNode::create();\nCCPoint vectors[] = { ccp(-winSize.width / 2, winSize.height / 2),\n                      ccp(winSize.width / 2, winSize.height / 2),\n                      ccp(winSize.width / 2, winSize.height / 2),\n                      ccp(winSize.width / 2, winSize.height / 2) };\nccColor4F white = ccc4FFromccc3B(ccWHITE);\n// vectors, count, fillColor, borderWidth, borderColor\ncontent->drawPolygon(vectors, 4, white, 0, white);\n\n// \u30de\u30b9\u30af\u3059\u308b\u30ce\u30fc\u30c9\nCCSprite *mask = CCSprite::create(\"mask.png\");\n\n// \u767d\u3044\u30ce\u30fc\u30c9\u3092\u30de\u30b9\u30af\u3059\u308b\nCCClippingNode *clippingNode = CCClippingNode::create();\n// \u30de\u30b9\u30af\u3059\u308b\u30ce\u30fc\u30c9\u3092\u8a2d\u5b9a\nclippingNode->setStencil(mask);\n// \u30de\u30b9\u30af\u306e\u95be\u5024\u306e\u8a2d\u5b9a\nclippingNode->setAlphaThreshold(0.01f);\n// \u30de\u30b9\u30af\u3055\u308c\u308b\u30ce\u30fc\u30c9\u3092\u8a2d\u5b9a(\u767d\u3044\u30ce\u30fc\u30c9)\nclippingNode->addChild(content);\n\n// \u30de\u30b9\u30af\u3057\u305f\u30ce\u30fc\u30c9\u3092\u8868\u793a\u3059\u308b\nclippingNode->setPosition(winSize.width / 2, winSize.height / 2);\nthis->addChild(clippingNode);\n\nmask.png : \n\n\u7d50\u679c :\n\nCocos2d-x\u306eCCClipingNode\u30af\u30e9\u30b9\u3092\u4f7f\u3063\u3066\u30de\u30b9\u30af\u3059\u308b\u65b9\u6cd5\u3092\u5171\u6709\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u753b\u9762\u3068\u540c\u3058\u5927\u304d\u3055\u306e\u771f\u3063\u767d\u306a\u30ce\u30fc\u30c9\u3092\u7528\u610f\u3057\u3066\u3001\u305d\u308c\u3092\u753b\u50cf\u3067\u30de\u30b9\u30af\u3057\u3066\u3044\u307e\u3059\u3002\n\n```cpp\nCCSize winSize = CCDirector::sharedDirector()->getWinSize();\n\n// \u30de\u30b9\u30af\u3055\u308c\u308b\u767d\u3044\u30ce\u30fc\u30c9\nCCDrawNode *content = CCDrawNode::create();\nCCPoint vectors[] = { ccp(-winSize.width / 2, winSize.height / 2),\n                      ccp(winSize.width / 2, winSize.height / 2),\n                      ccp(winSize.width / 2, winSize.height / 2),\n                      ccp(winSize.width / 2, winSize.height / 2) };\nccColor4F white = ccc4FFromccc3B(ccWHITE);\n// vectors, count, fillColor, borderWidth, borderColor\ncontent->drawPolygon(vectors, 4, white, 0, white);\n\n// \u30de\u30b9\u30af\u3059\u308b\u30ce\u30fc\u30c9\nCCSprite *mask = CCSprite::create(\"mask.png\");\n\n// \u767d\u3044\u30ce\u30fc\u30c9\u3092\u30de\u30b9\u30af\u3059\u308b\nCCClippingNode *clippingNode = CCClippingNode::create();\n// \u30de\u30b9\u30af\u3059\u308b\u30ce\u30fc\u30c9\u3092\u8a2d\u5b9a\nclippingNode->setStencil(mask);\n// \u30de\u30b9\u30af\u306e\u95be\u5024\u306e\u8a2d\u5b9a\nclippingNode->setAlphaThreshold(0.01f);\n// \u30de\u30b9\u30af\u3055\u308c\u308b\u30ce\u30fc\u30c9\u3092\u8a2d\u5b9a(\u767d\u3044\u30ce\u30fc\u30c9)\nclippingNode->addChild(content);\n\n// \u30de\u30b9\u30af\u3057\u305f\u30ce\u30fc\u30c9\u3092\u8868\u793a\u3059\u308b\nclippingNode->setPosition(winSize.width / 2, winSize.height / 2);\nthis->addChild(clippingNode);\n```\n\nmask.png : \n![HelloWorld.png](https://qiita-image-store.s3.amazonaws.com/0/9950/00f46f65-5941-0d28-4f63-02c0e7ff74c8.png)\n\n\u7d50\u679c :\n![ss_12-21-2013_18-21-50.png](https://qiita-image-store.s3.amazonaws.com/0/9950/fec09747-7ee0-19f6-e9c9-4b14665912b0.png)", "tags": ["cocos2d-x"]}