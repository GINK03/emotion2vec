{"context": " More than 1 year has passed since last update.\u4ee5\u4e0b\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3057\u3001\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\nhttps://devcenter.heroku.com/articles/getting-started-with-django#declare-process-types-with-procfile\n\n\u4f5c\u696d\u74b0\u5883\n\nMac OS X 10.10.3\npython 2.7.6\n\n\n\u524d\u63d0\u6761\u4ef6\n\nheroku \u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\u3053\u3068\n\nheroku toolbelt \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\nvirtualenv\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\n\n\nPostgreSQL\u5c0e\u5165\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ brew install postgresql\n\n\u30d1\u30b9\u3092\u901a\u3059(~/.bash_profile)\nexport PATH=/usr/local/Cellar/postgresql/9.4.1/bin:\"$PATH\"\n\n\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u518d\u8d77\u52d5\n\nDjango\u74b0\u5883\u3092\u69cb\u7bc9\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7ba1\u7406\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u79fb\u52d5\n$ mkdir hellodjango && cd hellodjango\n\nvenv\u3068\u3044\u308b\u4eee\u60f3\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3001\u8d77\u52d5\n$ virtualenv venv\n$ source venv/bin/activate\n\nDjango\u95a2\u9023\u30e9\u30a4\u30d6\u30e9\u30ea\u4e00\u5f0f\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n$ pip install django-toolbelt\n\n\u203b django-toolbelt\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\n\nDjango (the web framework)\nGunicorn (WSGI server)\ndj-database-url (a Django configuration helper)\ndj-static (a Django static file server)\n\nDjango\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n$ django-admin.py startproject hellodjango .\n\nProcfile\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8a18\u8ff0\nweb: gunicorn hellodjango.wsgi --log-file -\n\n\u203b Procfile\u3068\u306f\u3001Heroku\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u4e0a\u306b\u3042\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306edynos\u306b\u3088\u308a\u5b9f\u884c\u3055\u308c\u308b\u30b3\u30de\u30f3\u30c9\u304c\u4f55\u3067\u3042\u308b\u304b\u3092\u5ba3\u8a00\u3059\u308b\u305f\u3081\u306e\u30e1\u30ab\u30cb\u30ba\u30e0\u3067\u3059\u3002\n\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\n$ foreman start\n21:21:26 web.1  | started with pid 5513\n21:21:26 web.1  | [2015-05-10 21:21:26 +0900] [5513] [INFO] Starting gunicorn 19.3.0\n21:21:26 web.1  | [2015-05-10 21:21:26 +0900] [5513] [INFO] Listening at: http://0.0.0.0:5000 (5513)\n21:21:26 web.1  | [2015-05-10 21:21:26 +0900] [5513] [INFO] Using worker: sync\n21:21:26 web.1  | [2015-05-10 21:21:26 +0900] [5516] [INFO] Booting worker with pid: 5516\n\nhttp://0.0.0.0:5000 \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308c\u3070OK\n\npip\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u8868\u3059requirements.txt\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n$ pip freeze > requirements.txt\n\n\nDjango\u8a2d\u5b9a\nsettings.py\u306e\u6700\u5f8c\u5c3e\u306b\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0\n# Parse database configuration from $DATABASE_URL\nimport dj_database_url\nDATABASES['default'] =  dj_database_url.config()\n\n# Honor the 'X-Forwarded-Proto' header for request.is_secure()\nSECURE_PROXY_SSL_HEADER = ('HTTP_X_FORWARDED_PROTO', 'https')\n\n# Allow all host headers\nALLOWED_HOSTS = ['*']\n\n# Static asset configuration\nimport os\nBASE_DIR = os.path.dirname(os.path.abspath(__file__))\nSTATIC_ROOT = 'staticfiles'\nSTATIC_URL = '/static/'\n\nSTATICFILES_DIRS = (\n    os.path.join(BASE_DIR, 'static'),\n)\n\nwsgi.py\u3092\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u66f8\u304d\u63db\u3048\u308b\nimport os\nfrom django.core.wsgi import get_wsgi_application\nfrom dj_static import Cling\n\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"hellodjango.settings\")\n\napplication = Cling(get_wsgi_application())\n\n\ngit\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3092\u884c\u3046\n.gitignore\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0\nvenv\n*.pyc\nstaticfiles\n\n\u30ec\u30dd\u30b8\u30c8\u30ea\u306b\u8ffd\u52a0\n$ git init\n$ git add .\n$ git commit -m \"my django app\"\n\n\nheroku\u3078\u30c7\u30d7\u30ed\u30a4\nheroku\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4f5c\u6210\n$ heroku create\n\nheroku\u3078\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30d7\u30ed\u30a4\n$ git push heroku master\n\ndyno\u306e\u6570\u3092\u8a2d\u5b9a\n$ heroku ps:scale web=1\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u78ba\u8a8d\n$ heroku open\n\n\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u51fa\u308c\u3070OK\uff01\n\n\u4ee5\u4e0b\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3057\u3001\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\nhttps://devcenter.heroku.com/articles/getting-started-with-django#declare-process-types-with-procfile\n\n## \u4f5c\u696d\u74b0\u5883\n* Mac OS X 10.10.3\n* python 2.7.6\n\n## \u524d\u63d0\u6761\u4ef6\n1. heroku \u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\u3053\u3068\n2. [heroku toolbelt](https://toolbelt.heroku.com/) \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\n3. virtualenv\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\n\n\n## PostgreSQL\u5c0e\u5165\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ brew install postgresql\n```\n\u30d1\u30b9\u3092\u901a\u3059(~/.bash_profile)\n\n```bash\nexport PATH=/usr/local/Cellar/postgresql/9.4.1/bin:\"$PATH\"\n```\n\n\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u518d\u8d77\u52d5\n\n## Django\u74b0\u5883\u3092\u69cb\u7bc9\n\n**\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7ba1\u7406\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u79fb\u52d5**\n\n```\n$ mkdir hellodjango && cd hellodjango\n```\n\n**venv\u3068\u3044\u308b\u4eee\u60f3\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3001\u8d77\u52d5**\n\n```\n$ virtualenv venv\n$ source venv/bin/activate\n```\n\n**Django\u95a2\u9023\u30e9\u30a4\u30d6\u30e9\u30ea\u4e00\u5f0f\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b**\n\n```\n$ pip install django-toolbelt\n```\n\n\u203b django-toolbelt\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\n\n+ Django (the web framework)\n+ Gunicorn (WSGI server)\n+ dj-database-url (a Django configuration helper)\n+ dj-static (a Django static file server)\n\n**Django\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210**\n\n```\n$ django-admin.py startproject hellodjango .\n```\n\n**Procfile\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8a18\u8ff0**\n\n```\nweb: gunicorn hellodjango.wsgi --log-file -\n```\n\n\u203b Procfile\u3068\u306f\u3001Heroku\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u4e0a\u306b\u3042\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306edynos\u306b\u3088\u308a\u5b9f\u884c\u3055\u308c\u308b\u30b3\u30de\u30f3\u30c9\u304c\u4f55\u3067\u3042\u308b\u304b\u3092\u5ba3\u8a00\u3059\u308b\u305f\u3081\u306e\u30e1\u30ab\u30cb\u30ba\u30e0\u3067\u3059\u3002\n\n**\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5**\n\n```bash\n$ foreman start\n21:21:26 web.1  | started with pid 5513\n21:21:26 web.1  | [2015-05-10 21:21:26 +0900] [5513] [INFO] Starting gunicorn 19.3.0\n21:21:26 web.1  | [2015-05-10 21:21:26 +0900] [5513] [INFO] Listening at: http://0.0.0.0:5000 (5513)\n21:21:26 web.1  | [2015-05-10 21:21:26 +0900] [5513] [INFO] Using worker: sync\n21:21:26 web.1  | [2015-05-10 21:21:26 +0900] [5516] [INFO] Booting worker with pid: 5516\n```\n\nhttp://0.0.0.0:5000 \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308c\u3070OK\n\n## pip\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u8868\u3059requirements.txt\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\n```\n$ pip freeze > requirements.txt\n```\n\n## Django\u8a2d\u5b9a\n\n**settings.py\u306e\u6700\u5f8c\u5c3e\u306b\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0**\n\n```py\n# Parse database configuration from $DATABASE_URL\nimport dj_database_url\nDATABASES['default'] =  dj_database_url.config()\n\n# Honor the 'X-Forwarded-Proto' header for request.is_secure()\nSECURE_PROXY_SSL_HEADER = ('HTTP_X_FORWARDED_PROTO', 'https')\n\n# Allow all host headers\nALLOWED_HOSTS = ['*']\n\n# Static asset configuration\nimport os\nBASE_DIR = os.path.dirname(os.path.abspath(__file__))\nSTATIC_ROOT = 'staticfiles'\nSTATIC_URL = '/static/'\n\nSTATICFILES_DIRS = (\n    os.path.join(BASE_DIR, 'static'),\n)\n```\n\n**wsgi.py\u3092\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u66f8\u304d\u63db\u3048\u308b**\n\n```py\nimport os\nfrom django.core.wsgi import get_wsgi_application\nfrom dj_static import Cling\n\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"hellodjango.settings\")\n\napplication = Cling(get_wsgi_application())\n```\n\n## git\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3092\u884c\u3046\n\n**.gitignore\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0**\n\n```\nvenv\n*.pyc\nstaticfiles\n```\n\n**\u30ec\u30dd\u30b8\u30c8\u30ea\u306b\u8ffd\u52a0**\n\n```bash\n$ git init\n$ git add .\n$ git commit -m \"my django app\"\n```\n\n## heroku\u3078\u30c7\u30d7\u30ed\u30a4\n**heroku\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4f5c\u6210**\n\n```bash\n$ heroku create\n```\n\n**heroku\u3078\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30d7\u30ed\u30a4**\n\n```bash\n$ git push heroku master\n```\n\n**dyno\u306e\u6570\u3092\u8a2d\u5b9a**\n\n```bash\n$ heroku ps:scale web=1\n```\n\n**\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u78ba\u8a8d**\n\n```bash\n$ heroku open\n```\n\n\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u51fa\u308c\u3070OK\uff01\n\n![Welcome_to_Django.png](https://qiita-image-store.s3.amazonaws.com/0/46268/06a3d36d-3031-68a3-197b-7a069c00c0b1.png)\n\n", "tags": ["Python", "Django", "Heroku", "MacOSX", "PostgreSQL"]}