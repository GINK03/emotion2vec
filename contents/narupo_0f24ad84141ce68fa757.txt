{"tags": ["OpenGL", "GLFW", "C++"], "context": " More than 1 year has passed since last update.GLFW3\u3092\u4f7f\u3063\u3066OpenGL\u306e\u52c9\u5f37\u3092\u59cb\u3081\u305f\u306e\u3067\u3001\u305d\u306e\u5099\u5fd8\u9332\u7684\u306a\u3082\u306e\u3067\u3059\u3002\n\u3061\u306a\u307f\u306bC++\u3082\u52c9\u5f37\u4e2d\u3067\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u306b\u5bfe\u3059\u308b\u30c4\u30c3\u30b3\u30df\u306f\u6b53\u8fce\u3057\u3066\u3044\u307e\u3059\u3002\nGLFW3\u306e\u95a2\u6570\u306b\u3064\u3044\u3066\u82f1\u8a9e\u3067\u30b3\u30e1\u30f3\u30c8\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u308c\u3089\u306f glfw3.h File Reference \u304b\u3089\u306e\u5f15\u7528\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u65e5\u672c\u8a9e\u306e\u30b3\u30e1\u30f3\u30c8\u306f\u79c1\u304c\u52dd\u624b\u306b\u89e3\u91c8\u3057\u3066\u4ed8\u3051\u3066\u3044\u308b\u306e\u3067\u3001\u9593\u9055\u3063\u3066\u3044\u305f\u3089\u30c4\u30c3\u30b3\u30df\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\nCube\n\u524d\u56de(Hello, OpenGL)\u306e\u7d9a\u304d\u3067\u3059\u3002\n\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u591a\u9762\u4f53\u3092\u63cf\u753b\u3057\u307e\u3059\u3002\nOpenGL\u306e\u5404\u7a2e\u8a2d\u5b9a\u3001\u591a\u9762\u4f53\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u306f\u3001\u30b3\u30d4\u30fc\u30d5\u30ea\u30fc\u3068\u306e\u3053\u3068\u306a\u306e\u3067 GLUT\u306b\u3088\u308b\u300c\u624b\u629c\u304d\u300dOpenGL\u5165\u9580 \u304b\u3089\u30b3\u30d4\u30fc\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\n02-cube.cpp\n#define GLFW_INCLUDE_GLU\n#include <GLFW/glfw3.h>\n#include <iostream>\n#include <cstdlib>\n#include <string>\n\nstatic GLFWwindow*  aWindow;\nstatic int          aWidth = 640;\nstatic int          aHeight = 480;\nstatic std::string  aTitle = \"Cube\";\n\n// \u30ad\u30e5\u30fc\u30d6\u306e\u9802\u70b9\u60c5\u5831\u3002\nstatic const GLdouble aCubeVertex[][3] = {\n    { 0.0, 0.0, 0.0 },\n    { 1.0, 0.0, 0.0 }, \n    { 1.0, 1.0, 0.0 }, \n    { 0.0, 1.0, 0.0 }, \n    { 0.0, 0.0, 1.0 }, \n    { 1.0, 0.0, 1.0 }, \n    { 1.0, 1.0, 1.0 }, \n    { 0.0, 1.0, 1.0 } \n};\n// \u30ad\u30e5\u30fc\u30d6\u306e\u9762\u3002\nstatic const int aCubeFace[][4] = {\n    { 0, 1, 2, 3 },\n    { 1, 5, 6, 2 },\n    { 5, 4, 7, 6 },\n    { 4, 0, 3, 7 },\n    { 4, 5, 1, 0 },\n    { 3, 2, 6, 7 }\n};\n// \u30ad\u30e5\u30fc\u30d6\u306b\u5bfe\u3059\u308b\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb\u3002\nstatic const GLdouble aCubeNormal[][3] = {\n  { 0.0, 0.0,-1.0 },\n  { 1.0, 0.0, 0.0 },\n  { 0.0, 0.0, 1.0 },\n  {-1.0, 0.0, 0.0 },\n  { 0.0,-1.0, 0.0 },\n  { 0.0, 1.0, 0.0 }\n};\n// \u30ad\u30e5\u30fc\u30d6\u306e\u6750\u8cea\u3002\u5149\u6e90\u306e\u8272\u3068\u5408\u308f\u305b\u3066\u9670\u5f71\u304c\u5c11\u3057\u9752\u307f\u304c\u304b\u3063\u3066\u8868\u793a\u3055\u308c\u308b\u3002\nstatic const GLfloat aCubeMaterial[] = { 0.8, 0.2, 0.2, 1.0 };\n// \u5149\u6e90\u3002\nstatic const GLfloat aLightColor[] = { 0.2, 0.2, 0.8, 1.0 };// \u5149\u6e90\u306e\u8272\u3002\nstatic const GLfloat aLight0pos[] = { 0.0, 3.0, 5.0, 1.0 };// \u5149\u6e900\u306e\u4f4d\u7f6e\u3002\nstatic const GLfloat aLight1pos[] = { 5.0, 3.0, 0.0, 1.0 };// \u5149\u6e901\u306e\u4f4d\u7f6e\u3002\n\n// \u30ad\u30e5\u30fc\u30d6\u3092\u63cf\u753b\u3059\u308b\u95a2\u6570\u3002\nstatic void drawCube();\n\nint main()\n{\n    /* GLFW3\u306e\u521d\u671f\u5316 */\n    if(! glfwInit() )\n    {\n        std::cerr << \"glfwInit failed.\" << std::endl;\n        exit( EXIT_FAILURE );\n    }\n    aWindow = glfwCreateWindow( aWidth, aHeight, aTitle.c_str(), nullptr, nullptr );\n    if(! aWindow )\n    {\n        std::cerr << \"glfwCreateWindow failed.\" << std::endl;\n        glfwTerminate();\n        exit( EXIT_FAILURE );\n    }\n    glfwMakeContextCurrent( aWindow );\n    /* OpenGL\u306e\u521d\u671f\u5316  */\n    glEnable( GL_DEPTH_TEST );// \u30c7\u30d7\u30b9\u30d0\u30c3\u30d5\u30a1\u306e\u6709\u52b9\u5316\u3002\n    glEnable( GL_CULL_FACE );// \u30ab\u30ea\u30f3\u30b0\u306e\u6709\u52b9\u5316\u3002\n    glEnable( GL_LIGHTING );// \u30e9\u30a4\u30c6\u30a3\u30f3\u30b0\u306e\u6709\u52b9\u5316\u3002\n    glEnable( GL_LIGHT0 );// \u5149\u6e900 \u3092\u6709\u52b9\u5316\u3002\n    glEnable( GL_LIGHT1 );// \u5149\u6e901 \u3092\u6709\u52b9\u5316\u3002\n    glCullFace( GL_FRONT );// \u30ab\u30ea\u30f3\u30b0\u3002\n    glLightfv( GL_LIGHT1, GL_DIFFUSE, aLightColor );// \u5149\u6e901\u306e\u8272\u3092\u8a2d\u5b9a\u3002\n    glLightfv( GL_LIGHT1, GL_SPECULAR, aLightColor );// \u5149\u6e901\u306e\u8272\u3092\u8a2d\u5b9a\u3002\n    glClearColor( 1, 1, 1, 1 );// glClear() \u3067\u4f7f\u7528\u3059\u308b\u8272\uff08RGBA\uff09\n\n    // \u30e1\u30a4\u30f3\u30eb\u30fc\u30d7\u3002\n    while(! glfwWindowShouldClose( aWindow ))\n    {\n        /* \u521d\u671f\u5316 */\n        // \u753b\u9762\u3092\u30af\u30ea\u30a2\u3002\n        glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );\n        // \u5909\u63db\u884c\u5217\u306e\u521d\u671f\u5316\u3002\u3053\u3053\u3067\u521d\u671f\u5316\u3057\u306a\u3044\u3068\u5ef6\u3005\u3068\u540c\u3058\u884c\u5217\u306b\u7a4d\u7b97\u3055\u308c\u308b\u3002\n        glLoadIdentity();\n\n        /* \u66f4\u65b0 */\n        // \u73fe\u5728\u306e\u30a6\u30a3\u30f3\u30c9\u30a6\u306e\u5927\u304d\u3055\u3092\u53d6\u5f97\u3002\n        int width, height;\n        glfwGetFramebufferSize( aWindow, &width, &height );\n        // \u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u306e\u66f4\u65b0\u3002\n        glViewport( 0, 0, width, height );\n        // \u900f\u8996\u6295\u5f71\u3002\n        gluPerspective( 30.0, (double)width / (double)height, 1.0, 100.0 );\n        // \u8996\u70b9\u8a2d\u5b9a\u524d\u306e\u884c\u5217\u3092\u3059\u3079\u3066\u5e73\u884c\u79fb\u52d5\uff08\u8996\u754c\u306b\u53ce\u3081\u308b\uff09\u3002\n        glTranslated( 0.0, 0.0, -2.0 );\n        // \u8996\u70b9\u306e\u8a2d\u5b9a\u3002\n        gluLookAt( 3.0, 4.0, 5.0,  0.0, 0.0, 0.0,  0.0, 1.0, 0.0 );\n        // \u5149\u6e90\u306e\u4f4d\u7f6e\u8a2d\u5b9a \uff08\uff0a\u91cd\u8981 \u8996\u70b9\u306e\u4f4d\u7f6e\u3092\u8a2d\u5b9a\u3057\u305f\u5f8c\u306b\u884c\u3046\uff09 \n        glLightfv( GL_LIGHT0, GL_POSITION, aLight0pos );\n        glLightfv( GL_LIGHT1, GL_POSITION, aLight1pos );\n\n        /* \u63cf\u753b */\n        drawCube();\n\n        /* \u30c0\u30d6\u30eb\u30d0\u30c3\u30d5\u30a1\u306e\u30b9\u30ef\u30c3\u30d7\u3068\u30a4\u30d9\u30f3\u30c8\u306e\u30dd\u30fc\u30ea\u30f3\u30b0 */\n        glfwSwapBuffers( aWindow );\n        glfwPollEvents();\n    }\n    // GLFW3 \u306e\u7d42\u4e86\u3002\n    glfwTerminate();\n    return EXIT_SUCCESS;\n}\n\nstatic void drawCube()\n{\n    // \u30ad\u30e5\u30fc\u30d6\u306e\u6750\u8cea\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3002\n    glMaterialfv( GL_FRONT_AND_BACK, GL_AMBIENT_AND_DIFFUSE, aCubeMaterial );\n    // \u30ad\u30e5\u30fc\u30d6\u306e\u9802\u70b9\u3092\u63cf\u753b\u3002\n    glBegin( GL_QUADS );\n    for (size_t i = 0; i < 6; ++i)\n    {\n        glNormal3dv( aCubeNormal[i] );// \u6cd5\u7dda\u30d9\u30af\u30c8\u30eb\u3092\u30ad\u30e5\u30fc\u30d6\u306b\u5f53\u3066\u308b\u3002\n        for (size_t j = 0; j < 4; ++j)\n        {\n            glVertex3dv( aCubeVertex[ aCubeFace[i][j] ] );\n        }\n    }\n    glEnd();\n}\n\n\n\n\u30d3\u30eb\u30c9\u3068\u5b9f\u884c\u7d50\u679c\n$ g++ -std=gnu++11 -Wall 02-cube.cpp -lglfw -lGLU\n$ ./a.out\n\n\n\nGLFW3\u3092\u4f7f\u3063\u3066OpenGL\u306e\u52c9\u5f37\u3092\u59cb\u3081\u305f\u306e\u3067\u3001\u305d\u306e\u5099\u5fd8\u9332\u7684\u306a\u3082\u306e\u3067\u3059\u3002\n\u3061\u306a\u307f\u306bC++\u3082\u52c9\u5f37\u4e2d\u3067\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u306b\u5bfe\u3059\u308b\u30c4\u30c3\u30b3\u30df\u306f\u6b53\u8fce\u3057\u3066\u3044\u307e\u3059\u3002\n\nGLFW3\u306e\u95a2\u6570\u306b\u3064\u3044\u3066\u82f1\u8a9e\u3067\u30b3\u30e1\u30f3\u30c8\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u308c\u3089\u306f [glfw3.h File Reference](http://www.glfw.org/docs/latest/glfw3_8h.html) \u304b\u3089\u306e\u5f15\u7528\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u65e5\u672c\u8a9e\u306e\u30b3\u30e1\u30f3\u30c8\u306f\u79c1\u304c\u52dd\u624b\u306b\u89e3\u91c8\u3057\u3066\u4ed8\u3051\u3066\u3044\u308b\u306e\u3067\u3001\u9593\u9055\u3063\u3066\u3044\u305f\u3089\u30c4\u30c3\u30b3\u30df\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n#Cube\n\u524d\u56de([Hello, OpenGL](http://qiita.com/ekushin/items/6f50017f095f1fe0e734))\u306e\u7d9a\u304d\u3067\u3059\u3002\n\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u591a\u9762\u4f53\u3092\u63cf\u753b\u3057\u307e\u3059\u3002\nOpenGL\u306e\u5404\u7a2e\u8a2d\u5b9a\u3001\u591a\u9762\u4f53\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u306f\u3001\u30b3\u30d4\u30fc\u30d5\u30ea\u30fc\u3068\u306e\u3053\u3068\u306a\u306e\u3067 [GLUT\u306b\u3088\u308b\u300c\u624b\u629c\u304d\u300dOpenGL\u5165\u9580](http://www.wakayama-u.ac.jp/~tokoi/opengl/libglut.html) \u304b\u3089\u30b3\u30d4\u30fc\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\n```cpp:02-cube.cpp\n#define GLFW_INCLUDE_GLU\n#include <GLFW/glfw3.h>\n#include <iostream>\n#include <cstdlib>\n#include <string>\n\nstatic GLFWwindow* \taWindow;\nstatic int \t\t\taWidth = 640;\nstatic int \t\t\taHeight = 480;\nstatic std::string\taTitle = \"Cube\";\n\n// \u30ad\u30e5\u30fc\u30d6\u306e\u9802\u70b9\u60c5\u5831\u3002\nstatic const GLdouble aCubeVertex[][3] = {\n\t{ 0.0, 0.0, 0.0 },\n\t{ 1.0, 0.0, 0.0 }, \n\t{ 1.0, 1.0, 0.0 }, \n\t{ 0.0, 1.0, 0.0 }, \n\t{ 0.0, 0.0, 1.0 }, \n\t{ 1.0, 0.0, 1.0 }, \n\t{ 1.0, 1.0, 1.0 }, \n\t{ 0.0, 1.0, 1.0 } \n};\n// \u30ad\u30e5\u30fc\u30d6\u306e\u9762\u3002\nstatic const int aCubeFace[][4] = {\n\t{ 0, 1, 2, 3 },\n\t{ 1, 5, 6, 2 },\n\t{ 5, 4, 7, 6 },\n\t{ 4, 0, 3, 7 },\n\t{ 4, 5, 1, 0 },\n\t{ 3, 2, 6, 7 }\n};\n// \u30ad\u30e5\u30fc\u30d6\u306b\u5bfe\u3059\u308b\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb\u3002\nstatic const GLdouble aCubeNormal[][3] = {\n  { 0.0, 0.0,-1.0 },\n  { 1.0, 0.0, 0.0 },\n  { 0.0, 0.0, 1.0 },\n  {-1.0, 0.0, 0.0 },\n  { 0.0,-1.0, 0.0 },\n  { 0.0, 1.0, 0.0 }\n};\n// \u30ad\u30e5\u30fc\u30d6\u306e\u6750\u8cea\u3002\u5149\u6e90\u306e\u8272\u3068\u5408\u308f\u305b\u3066\u9670\u5f71\u304c\u5c11\u3057\u9752\u307f\u304c\u304b\u3063\u3066\u8868\u793a\u3055\u308c\u308b\u3002\nstatic const GLfloat aCubeMaterial[] = { 0.8, 0.2, 0.2, 1.0 };\n// \u5149\u6e90\u3002\nstatic const GLfloat aLightColor[] = { 0.2, 0.2, 0.8, 1.0 };// \u5149\u6e90\u306e\u8272\u3002\nstatic const GLfloat aLight0pos[] = { 0.0, 3.0, 5.0, 1.0 };// \u5149\u6e900\u306e\u4f4d\u7f6e\u3002\nstatic const GLfloat aLight1pos[] = { 5.0, 3.0, 0.0, 1.0 };// \u5149\u6e901\u306e\u4f4d\u7f6e\u3002\n\n// \u30ad\u30e5\u30fc\u30d6\u3092\u63cf\u753b\u3059\u308b\u95a2\u6570\u3002\nstatic void drawCube();\n\nint main()\n{\n\t/* GLFW3\u306e\u521d\u671f\u5316 */\n\tif(! glfwInit() )\n\t{\n\t\tstd::cerr << \"glfwInit failed.\" << std::endl;\n\t\texit( EXIT_FAILURE );\n\t}\n\taWindow = glfwCreateWindow( aWidth, aHeight, aTitle.c_str(), nullptr, nullptr );\n\tif(! aWindow )\n\t{\n\t\tstd::cerr << \"glfwCreateWindow failed.\" << std::endl;\n\t\tglfwTerminate();\n\t\texit( EXIT_FAILURE );\n\t}\n\tglfwMakeContextCurrent( aWindow );\n\t/* OpenGL\u306e\u521d\u671f\u5316  */\n\tglEnable( GL_DEPTH_TEST );// \u30c7\u30d7\u30b9\u30d0\u30c3\u30d5\u30a1\u306e\u6709\u52b9\u5316\u3002\n\tglEnable( GL_CULL_FACE );// \u30ab\u30ea\u30f3\u30b0\u306e\u6709\u52b9\u5316\u3002\n\tglEnable( GL_LIGHTING );// \u30e9\u30a4\u30c6\u30a3\u30f3\u30b0\u306e\u6709\u52b9\u5316\u3002\n\tglEnable( GL_LIGHT0 );// \u5149\u6e900 \u3092\u6709\u52b9\u5316\u3002\n\tglEnable( GL_LIGHT1 );// \u5149\u6e901 \u3092\u6709\u52b9\u5316\u3002\n\tglCullFace( GL_FRONT );// \u30ab\u30ea\u30f3\u30b0\u3002\n\tglLightfv( GL_LIGHT1, GL_DIFFUSE, aLightColor );// \u5149\u6e901\u306e\u8272\u3092\u8a2d\u5b9a\u3002\n\tglLightfv( GL_LIGHT1, GL_SPECULAR, aLightColor );// \u5149\u6e901\u306e\u8272\u3092\u8a2d\u5b9a\u3002\n\tglClearColor( 1, 1, 1, 1 );// glClear() \u3067\u4f7f\u7528\u3059\u308b\u8272\uff08RGBA\uff09\n\t\n\t// \u30e1\u30a4\u30f3\u30eb\u30fc\u30d7\u3002\n\twhile(! glfwWindowShouldClose( aWindow ))\n\t{\n\t\t/* \u521d\u671f\u5316 */\n\t\t// \u753b\u9762\u3092\u30af\u30ea\u30a2\u3002\n\t\tglClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );\n\t\t// \u5909\u63db\u884c\u5217\u306e\u521d\u671f\u5316\u3002\u3053\u3053\u3067\u521d\u671f\u5316\u3057\u306a\u3044\u3068\u5ef6\u3005\u3068\u540c\u3058\u884c\u5217\u306b\u7a4d\u7b97\u3055\u308c\u308b\u3002\n\t\tglLoadIdentity();\n\t\t\n\t\t/* \u66f4\u65b0 */\n\t\t// \u73fe\u5728\u306e\u30a6\u30a3\u30f3\u30c9\u30a6\u306e\u5927\u304d\u3055\u3092\u53d6\u5f97\u3002\n\t\tint width, height;\n\t\tglfwGetFramebufferSize( aWindow, &width, &height );\n\t\t// \u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u306e\u66f4\u65b0\u3002\n\t\tglViewport( 0, 0, width, height );\n\t\t// \u900f\u8996\u6295\u5f71\u3002\n\t\tgluPerspective( 30.0, (double)width / (double)height, 1.0, 100.0 );\n\t\t// \u8996\u70b9\u8a2d\u5b9a\u524d\u306e\u884c\u5217\u3092\u3059\u3079\u3066\u5e73\u884c\u79fb\u52d5\uff08\u8996\u754c\u306b\u53ce\u3081\u308b\uff09\u3002\n\t\tglTranslated( 0.0, 0.0, -2.0 );\n\t\t// \u8996\u70b9\u306e\u8a2d\u5b9a\u3002\n\t\tgluLookAt( 3.0, 4.0, 5.0,  0.0, 0.0, 0.0,  0.0, 1.0, 0.0 );\n\t\t// \u5149\u6e90\u306e\u4f4d\u7f6e\u8a2d\u5b9a \uff08\uff0a\u91cd\u8981 \u8996\u70b9\u306e\u4f4d\u7f6e\u3092\u8a2d\u5b9a\u3057\u305f\u5f8c\u306b\u884c\u3046\uff09 \n\t\tglLightfv( GL_LIGHT0, GL_POSITION, aLight0pos );\n\t\tglLightfv( GL_LIGHT1, GL_POSITION, aLight1pos );\n\t\n\t\t/* \u63cf\u753b */\n\t\tdrawCube();\n\t\t\n\t\t/* \u30c0\u30d6\u30eb\u30d0\u30c3\u30d5\u30a1\u306e\u30b9\u30ef\u30c3\u30d7\u3068\u30a4\u30d9\u30f3\u30c8\u306e\u30dd\u30fc\u30ea\u30f3\u30b0 */\n\t\tglfwSwapBuffers( aWindow );\n\t\tglfwPollEvents();\n\t}\n\t// GLFW3 \u306e\u7d42\u4e86\u3002\n\tglfwTerminate();\n\treturn EXIT_SUCCESS;\n}\n\nstatic void drawCube()\n{\n\t// \u30ad\u30e5\u30fc\u30d6\u306e\u6750\u8cea\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3002\n\tglMaterialfv( GL_FRONT_AND_BACK, GL_AMBIENT_AND_DIFFUSE, aCubeMaterial );\n\t// \u30ad\u30e5\u30fc\u30d6\u306e\u9802\u70b9\u3092\u63cf\u753b\u3002\n\tglBegin( GL_QUADS );\n\tfor (size_t i = 0; i < 6; ++i)\n\t{\n\t\tglNormal3dv( aCubeNormal[i] );// \u6cd5\u7dda\u30d9\u30af\u30c8\u30eb\u3092\u30ad\u30e5\u30fc\u30d6\u306b\u5f53\u3066\u308b\u3002\n\t\tfor (size_t j = 0; j < 4; ++j)\n\t\t{\n\t\t\tglVertex3dv( aCubeVertex[ aCubeFace[i][j] ] );\n\t\t}\n\t}\n\tglEnd();\n}\n```\n\n```:\u30d3\u30eb\u30c9\u3068\u5b9f\u884c\u7d50\u679c\n$ g++ -std=gnu++11 -Wall 02-cube.cpp -lglfw -lGLU\n$ ./a.out\n```\n![02-cube.png](https://qiita-image-store.s3.amazonaws.com/0/41479/eaea239f-3aa0-1a90-bdab-965179fc3a3f.png)\n"}