{"tags": ["Ethereum", "solidity"], "context": "\u524d\u56de\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u53d6\u5f15\u306e\u5b9f\u88c5\u65b9\u6cd5\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u540c\u3058\u8981\u9818\u3067\u30b9\u30ef\u30c3\u30d7\u53d6\u5f15\u3092\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u6982\u8981\n\u4eca\u56de\u306f\u91d1\u5229\u30b9\u30ef\u30c3\u30d7\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\u91d1\u5229\u30b9\u30ef\u30c3\u30d7\u3068\u306f\u540c\u4e00\u901a\u8ca8\u9593\u3067\u7570\u306a\u308b\u7a2e\u985e\u306e\u91d1\u5229\u3092\u4ea4\u63db\u3059\u308b\u53d6\u5f15\u306e\u3053\u3068\u3067\u3059\u3002\u6700\u3082\u591a\u3044\u53d6\u5f15\u306f\u56fa\u5b9a\u91d1\u5229\u3068\u5909\u52d5\u91d1\u5229\u306e\u4ea4\u63db\u3067\u3059\u3002\n\u4f8b\u3048\u3070\u5186\u306e\u91d1\u5229\u30b9\u30ef\u30c3\u30d7\u3067\u306f\u3001\u56fa\u5b9a\u91d1\u5229\u30686\u30f5\u6708TIBOR\u3068\u3092\u534a\u5e74\u6bce\u306b\u4ea4\u63db\u3059\u308b\u53d6\u5f15\u306a\u3069\u304c\u3042\u308a\u307e\u3059\u3002\n\u4eca\u56de\u5b9f\u88c5\u3059\u308b\u53d6\u5f15\u306e\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\u57fa\u672c\u60c5\u5831\n\n\n\nkey\nvalue\n\n\n\n\n\u901a\u8ca8\nether(\u2252\u00a51,000)\n\n\n\u60f3\u5b9a\u5143\u672c\n1,000\n\n\n\u30c7\u30dd\u30b8\u30c3\u30c8\n100\n\n\n\u6e80\u671f\u65e5\n\u5951\u7d04\u65e5\u304b\u30892\u5e74\u5f8c\n\n\n\u53d7\u6e21\u30b5\u30a4\u30af\u30eb\n1\u30f6\u6708\n\n\n\u5909\u52d5\u91d1\u5229(\u652f\u6255)\n0xc12b4d335ce5f0cf48001c8b06e1f941edb68e9d\n\n\n\u56fa\u5b9a\u91d1\u5229(\u652f\u6255)\n0xbc2ee815f7115c3d7cd1bc389fcb9b4f93c52830\n\n\n\n\u5909\u52d5\u91d1\u5229\n\n\n\nkey\nvalue\n\n\n\n\n\u57fa\u6e96\u91d1\u5229\n1%\n\n\n\u30b9\u30d7\u30ec\u30c3\u30c9\n2%\n\n\n\n\u56fa\u5b9a\u91d1\u5229\n\n\n\nkey\nvalue\n\n\n\n\n\u57fa\u6e96\u91d1\u5229\n--\n\n\n\u30b9\u30d7\u30ec\u30c3\u30c9\n4%\n\n\n\n\u4ee5\u4e0b\u304c\u5b8c\u6210\u5f62\u306e\u30b3\u30fc\u30c9\u3067\u3059\n\nswap_trade.sol\ncontract SwapTrade{\n    address public fixed_side;\n    address public floated_side;\n    uint public capital;\n    uint public fixed_rate;\n    uint public spread;\n    function SwapTrade(\n      address _fixed_side,\n      address _floated_side,\n      uint _capital,\n      uint _fixed_rate,\n      uint _spread\n      ){\n      fixed_side = _fixed_side;\n      floated_side = _floated_side;\n      capital = _capital;\n      fixed_rate = _fixed_rate;\n      spread = _spread;\n    }\n    function Execution(uint floating_rate){\n      floated_side.send(capital*fixed_rate);\n      fixed_side.send(capital*(floating_rate+spread));\n    }\n    function () {\n      throw;\n    }\n}\n\n\n\nSwapTrade\uff1a\u521d\u671f\u5316\nExecution\uff1a\u5229\u606f\u652f\u6255\u5b9f\u884c\n\n\n\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u767b\u9332\n\u307e\u305a\u30b3\u30fc\u30c9\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n> var source = \"contract SwapTrade{    address public fixed_side;    address public floated_side;    uint public capital;    uint public fixed_rate;    uint public spread;    function SwapTrade(      address _fixed_side,      address _floated_side,      uint _capital,      uint _fixed_rate,      uint _spread      ){      fixed_side = _fixed_side;      floated_side = _floated_side;      capital = _capital;      fixed_rate = _fixed_rate;      spread = _spread;    }    function Execution(uint floating_rate){      floated_side.send(capital*fixed_rate);      fixed_side.send(capital*(floating_rate+spread));    }    function () {      throw;    }}\"\n> var compiledSource = eth.compile.solidity(source)\n\n\u7d9a\u3044\u3066\u3001\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3092Ethereum\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\n> var abiDefinition = compiledSource.SwapTrade.info.abiDefinition\n> var compiledContract = eth.contract(abiDefinition)\n> var fixedSide = \"0xc12b4d335ce5f0cf48001c8b06e1f941edb68e9d\"\n> var floatedSide = \"0xbc2ee815f7115c3d7cd1bc389fcb9b4f93c52830\"\n> var contract = compiledContract.new(fixedSide, floatedSide, 10*1.0e+18, 4, 2, {from: fixedSide, data: compiledSource.SwapTrade.code, gas:1000000, value: web3.toWei(100,\"ether\")})\n\n\u3053\u3053\u3067\u3001fixedSide\u306f\u5909\u52d5\u91d1\u5229\u3092\u652f\u6255\u3046\u30a2\u30c9\u30ec\u30b9\u3001floatedSide\u306f\u56fa\u5b9a\u91d1\u5229\u3092\u652f\u6255\u3046\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002\n10*1.0e+18,4,2\u306f\u305d\u308c\u305e\u308c\u60f3\u5b9a\u5143\u672c\u3001\u56fa\u5b9a\u91d1\u5229\u3001\u30b9\u30d7\u30ec\u30c3\u30c9\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002solidity\u3067\u306f\u6d6e\u52d5\u5c0f\u6570\u70b9\u306f\u6271\u3048\u306a\u3044\u306e\u3067\u3001\u60f3\u5b9a\u5143\u672c\u30921/100\u3057\u3066\u3044\u307e\u3059\u3002(\u305d\u306e\u5f8c\u3001\u5358\u4f4d\u3092wei\u304b\u3089ether\u306b\u5909\u66f4\u3059\u308b\u305f\u3081\u300110e+18\u500d\u3057\u3066\u3044\u307e\u3059\u3002) \u56fa\u5b9a\u91d1\u5229\u3068\u30b9\u30d7\u30ec\u30c3\u30c9\u306f100\u500d\u3057\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f value: web3.toWei(100,\"ether\") \u3067fixedSide\u304b\u3089\u3053\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306b100ether\u30c7\u30dd\u30b8\u30c3\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u304c\u9001\u4fe1\u3055\u308c\u307e\u3057\u305f\u3002\n> contract\n{\n  address: undefined,\n  transactionHash: \"0x3b0a5a32f549bec31bcf173274a344add2f319b9de0367071392e3fd9717ce07\"\n}\n> web3.fromWei(eth.getBalance(\"0x4934f96cbb5f82ead8d56f96ec11f98c826cc926\"),\"ether\")\n0\n> web3.fromWei(eth.getBalance(fixesSide),\"ether\")\n959.972328980000000030\n\n\u3053\u306e\u72b6\u614b\u3067\u306f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u6b8b\u9ad8\u306f0\u3067\u3059\u3002\n\u7d9a\u3044\u3066\u30de\u30a4\u30cb\u30f3\u30b0\u3092\u884c\u3044\u307e\u3059\u3002\u30de\u30a4\u30cb\u30f3\u30b0\u304c\u5b8c\u4e86\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30a2\u30c9\u30ec\u30b9\u304c\u4ed8\u4e0e\u3055\u308c\u308b\u3066\u3044\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n> contract\n{\n  address: \"0x4934f96cbb5f82ead8d56f96ec11f98c826cc926\",\n  transactionHash: \"0x3b0a5a32f549bec31bcf173274a344add2f319b9de0367071392e3fd9717ce07\",\n  Execution: function(),\n  allEvents: function(),\n  capital: function(),\n  fixed_rate: function(),\n  fixed_side: function(),\n  floated_side: function(),\n  spread: function()\n}\n\n\u307e\u305f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u6b8b\u9ad8\u304c\u30c7\u30dd\u30b8\u30c3\u30c8\u5206\u5909\u5316\u3057\u3066\u3044\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n> web3.fromWei(eth.getBalance(\"0x4934f96cbb5f82ead8d56f96ec11f98c826cc926\"),\"ether\")\n100\n> web3.fromWei(eth.getBalance(fixesSide),\"ether\")\n859.96823490000000003\n\n(\u672c\u6765\u3067\u3042\u308c\u3070\u3001\u3053\u306e\u5f8cfloatedSide\u304b\u3089\u3082100ether\u30c7\u30dd\u30b8\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u305d\u306e\u624b\u7d9a\u306f\u7701\u3044\u3066\u5148\u306b\u9032\u307f\u307e\u3059\u3002)\n\nExecution\u30e1\u30bd\u30c3\u30c9\n\u521d\u671f\u5316\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u7d9a\u3044\u30661\u30f6\u6708\u304c\u305f\u3063\u305f\u524d\u63d0\u3067Execution\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002\n\u3053\u308c\u306f\u652f\u6255\u65e5\u306b\u5229\u606f\u306e\u652f\u6255\u3044\u3092\u5b9f\u52b9\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\nfunction Execution(uint floating_rate){\n     floated_side.send(capital*fixed_rate);\n     fixed_side.send(capital*(floating_rate+spread));\n}\n\n\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u307e\u3057\u3087\u3046\u3002\n> contract.Execution.sendTransaction(1, {from: fixedSide, gas:1000000})\n\n\u30de\u30a4\u30cb\u30f3\u30b0\u524d\u306e\u4e21\u8005\u306eether\u6b8b\u9ad8\u3067\u3059\u3002\n> web3.fromWei(eth.getBalance(fixedSide),\"ether\")\n859.96823490000000003\n> web3.fromWei(eth.getBalance(floatedSide),\"ether\")\n1439.96000000000000004\n\n\u30de\u30a4\u30cb\u30f3\u30b0\u5b8c\u4e86\u5f8c\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6b8b\u9ad8\u304c\u5909\u5316\u3057\u307e\u3059\u3002\u5229\u606f\u5206\u3060\u3051\u4e21\u8005\u306e\u6b8b\u9ad8\u304c\u5897\u3048\u3066\u3044\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\u3002\nfixedSide\u306f\u5909\u52d5\u91d1\u5229\u3092\u53d7\u3051\u53d6\u308b\u306e\u306730ether\u5897\u3048\u307e\u3059\u3002\n\u5909\u52d5\u91d1\u5229\uff1a1000\u00d7(0.01+0.02) = 30\nfloatedSide\u306f\u56fa\u5b9a\u91d1\u5229\u3092\u53d7\u3051\u53d6\u308b\u306e\u306740ether\u5897\u3048\u307e\u3059\u3002\n\u56fa\u5b9a\u91d1\u5229\uff1a1000\u00d70.04 = 40\n> web3.fromWei(eth.getBalance(fixedSide),\"ether\")\n889.96752358000000003\n> web3.fromWei(eth.getBalance(floatedSide),\"ether\")\n1479.96000000000000004\n\n\u5b9f\u969b\u306b\u5897\u3048\u3066\u3044\u307e\u3059\u306d\u3002\n\n\u307e\u3068\u3081\n\u4eca\u56de\u307e\u30673\u56de\u306b\u6e21\u308aSolidity\u3092\u7528\u3044\u305f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u958b\u767a\u65b9\u6cd5\u306b\u3064\u3044\u3066\u7db4\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\u3053\u308c\u3092\u6a5f\u306b\u7686\u69d8\u304cEthereum\u306b\u8208\u5473\u3092\u6301\u3063\u3066\u304f\u3060\u3055\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\u307e\u305f\u4f55\u304b\u3042\u308c\u3070\u3044\u3064\u3067\u3082\u3054\u8cea\u554f\u30fb\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\u3002\n[\u524d\u56de](http://qiita.com/toshikase/items/467f8998506a2f0cf258)\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u53d6\u5f15\u306e\u5b9f\u88c5\u65b9\u6cd5\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u540c\u3058\u8981\u9818\u3067\u30b9\u30ef\u30c3\u30d7\u53d6\u5f15\u3092\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\u3002\n\n##\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u6982\u8981\n\u4eca\u56de\u306f\u91d1\u5229\u30b9\u30ef\u30c3\u30d7\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\u91d1\u5229\u30b9\u30ef\u30c3\u30d7\u3068\u306f\u540c\u4e00\u901a\u8ca8\u9593\u3067\u7570\u306a\u308b\u7a2e\u985e\u306e\u91d1\u5229\u3092\u4ea4\u63db\u3059\u308b\u53d6\u5f15\u306e\u3053\u3068\u3067\u3059\u3002\u6700\u3082\u591a\u3044\u53d6\u5f15\u306f\u56fa\u5b9a\u91d1\u5229\u3068\u5909\u52d5\u91d1\u5229\u306e\u4ea4\u63db\u3067\u3059\u3002\n\u4f8b\u3048\u3070\u5186\u306e\u91d1\u5229\u30b9\u30ef\u30c3\u30d7\u3067\u306f\u3001\u56fa\u5b9a\u91d1\u5229\u30686\u30f5\u6708[TIBOR](http://www.ifinance.ne.jp/glossary/market/mar006.html)\u3068\u3092\u534a\u5e74\u6bce\u306b\u4ea4\u63db\u3059\u308b\u53d6\u5f15\u306a\u3069\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u4eca\u56de\u5b9f\u88c5\u3059\u308b\u53d6\u5f15\u306e\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n**\u57fa\u672c\u60c5\u5831**\n\n| key | value | \n|:----------|:-----------|\n| \u901a\u8ca8 | ether(\u2252\u00a51,000) |\n| \u60f3\u5b9a\u5143\u672c | 1,000 | \n| \u30c7\u30dd\u30b8\u30c3\u30c8 |100 | \n| \u6e80\u671f\u65e5 | \u5951\u7d04\u65e5\u304b\u30892\u5e74\u5f8c |\n| \u53d7\u6e21\u30b5\u30a4\u30af\u30eb | 1\u30f6\u6708 | \n| \u5909\u52d5\u91d1\u5229(\u652f\u6255) |  0xc12b4d335ce5f0cf48001c8b06e1f941edb68e9d | \n| \u56fa\u5b9a\u91d1\u5229(\u652f\u6255) | 0xbc2ee815f7115c3d7cd1bc389fcb9b4f93c52830 |  \n \n**\u5909\u52d5\u91d1\u5229**\n\n| key | value | \n|:----------|:-----------|\n| \u57fa\u6e96\u91d1\u5229 | 1% |\n| \u30b9\u30d7\u30ec\u30c3\u30c9 | 2% |\n\n**\u56fa\u5b9a\u91d1\u5229**\n\n| key | value | \n|:----------|:-----------|\n| \u57fa\u6e96\u91d1\u5229 | -- |\n| \u30b9\u30d7\u30ec\u30c3\u30c9 | 4% |\n\n\u4ee5\u4e0b\u304c\u5b8c\u6210\u5f62\u306e\u30b3\u30fc\u30c9\u3067\u3059\n\n```swap_trade.sol\ncontract SwapTrade{\n    address public fixed_side;\n    address public floated_side;\n    uint public capital;\n    uint public fixed_rate;\n    uint public spread;\n    function SwapTrade(\n      address _fixed_side,\n      address _floated_side,\n      uint _capital,\n      uint _fixed_rate,\n      uint _spread\n      ){\n      fixed_side = _fixed_side;\n      floated_side = _floated_side;\n      capital = _capital;\n      fixed_rate = _fixed_rate;\n      spread = _spread;\n    }\n    function Execution(uint floating_rate){\n      floated_side.send(capital*fixed_rate);\n      fixed_side.send(capital*(floating_rate+spread));\n    }\n    function () {\n      throw;\n    }\n}\n```\n\n- SwapTrade\uff1a\u521d\u671f\u5316\n- Execution\uff1a\u5229\u606f\u652f\u6255\u5b9f\u884c\n\n##\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u767b\u9332\n\n\u307e\u305a\u30b3\u30fc\u30c9\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n\n```\n> var source = \"contract SwapTrade{    address public fixed_side;    address public floated_side;    uint public capital;    uint public fixed_rate;    uint public spread;    function SwapTrade(      address _fixed_side,      address _floated_side,      uint _capital,      uint _fixed_rate,      uint _spread      ){      fixed_side = _fixed_side;      floated_side = _floated_side;      capital = _capital;      fixed_rate = _fixed_rate;      spread = _spread;    }    function Execution(uint floating_rate){      floated_side.send(capital*fixed_rate);      fixed_side.send(capital*(floating_rate+spread));    }    function () {      throw;    }}\"\n> var compiledSource = eth.compile.solidity(source)\n```\n\n\u7d9a\u3044\u3066\u3001\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3092Ethereum\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\n\n```\n> var abiDefinition = compiledSource.SwapTrade.info.abiDefinition\n> var compiledContract = eth.contract(abiDefinition)\n> var fixedSide = \"0xc12b4d335ce5f0cf48001c8b06e1f941edb68e9d\"\n> var floatedSide = \"0xbc2ee815f7115c3d7cd1bc389fcb9b4f93c52830\"\n> var contract = compiledContract.new(fixedSide, floatedSide, 10*1.0e+18, 4, 2, {from: fixedSide, data: compiledSource.SwapTrade.code, gas:1000000, value: web3.toWei(100,\"ether\")})\n```\n\u3053\u3053\u3067\u3001`fixedSide`\u306f\u5909\u52d5\u91d1\u5229\u3092\u652f\u6255\u3046\u30a2\u30c9\u30ec\u30b9\u3001`floatedSide`\u306f\u56fa\u5b9a\u91d1\u5229\u3092\u652f\u6255\u3046\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002\n`10*1.0e+18`,`4`,`2`\u306f\u305d\u308c\u305e\u308c\u60f3\u5b9a\u5143\u672c\u3001\u56fa\u5b9a\u91d1\u5229\u3001\u30b9\u30d7\u30ec\u30c3\u30c9\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002solidity\u3067\u306f\u6d6e\u52d5\u5c0f\u6570\u70b9\u306f\u6271\u3048\u306a\u3044\u306e\u3067\u3001\u60f3\u5b9a\u5143\u672c\u30921/100\u3057\u3066\u3044\u307e\u3059\u3002(\u305d\u306e\u5f8c\u3001\u5358\u4f4d\u3092wei\u304b\u3089ether\u306b\u5909\u66f4\u3059\u308b\u305f\u3081\u300110e+18\u500d\u3057\u3066\u3044\u307e\u3059\u3002) \u56fa\u5b9a\u91d1\u5229\u3068\u30b9\u30d7\u30ec\u30c3\u30c9\u306f100\u500d\u3057\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f `value: web3.toWei(100,\"ether\")` \u3067fixedSide\u304b\u3089\u3053\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306b100ether\u30c7\u30dd\u30b8\u30c3\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u304c\u9001\u4fe1\u3055\u308c\u307e\u3057\u305f\u3002\n\n```\n> contract\n{\n  address: undefined,\n  transactionHash: \"0x3b0a5a32f549bec31bcf173274a344add2f319b9de0367071392e3fd9717ce07\"\n}\n> web3.fromWei(eth.getBalance(\"0x4934f96cbb5f82ead8d56f96ec11f98c826cc926\"),\"ether\")\n0\n> web3.fromWei(eth.getBalance(fixesSide),\"ether\")\n959.972328980000000030\n```\n\n\u3053\u306e\u72b6\u614b\u3067\u306f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u6b8b\u9ad8\u306f0\u3067\u3059\u3002\n\n\u7d9a\u3044\u3066\u30de\u30a4\u30cb\u30f3\u30b0\u3092\u884c\u3044\u307e\u3059\u3002\u30de\u30a4\u30cb\u30f3\u30b0\u304c\u5b8c\u4e86\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30a2\u30c9\u30ec\u30b9\u304c\u4ed8\u4e0e\u3055\u308c\u308b\u3066\u3044\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n```\n> contract\n{\n  address: \"0x4934f96cbb5f82ead8d56f96ec11f98c826cc926\",\n  transactionHash: \"0x3b0a5a32f549bec31bcf173274a344add2f319b9de0367071392e3fd9717ce07\",\n  Execution: function(),\n  allEvents: function(),\n  capital: function(),\n  fixed_rate: function(),\n  fixed_side: function(),\n  floated_side: function(),\n  spread: function()\n}\n```\n\n\u307e\u305f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u6b8b\u9ad8\u304c\u30c7\u30dd\u30b8\u30c3\u30c8\u5206\u5909\u5316\u3057\u3066\u3044\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n```\n> web3.fromWei(eth.getBalance(\"0x4934f96cbb5f82ead8d56f96ec11f98c826cc926\"),\"ether\")\n100\n> web3.fromWei(eth.getBalance(fixesSide),\"ether\")\n859.96823490000000003\n```\n\n(\u672c\u6765\u3067\u3042\u308c\u3070\u3001\u3053\u306e\u5f8cfloatedSide\u304b\u3089\u3082100ether\u30c7\u30dd\u30b8\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u305d\u306e\u624b\u7d9a\u306f\u7701\u3044\u3066\u5148\u306b\u9032\u307f\u307e\u3059\u3002)\n\n##Execution\u30e1\u30bd\u30c3\u30c9\n\u521d\u671f\u5316\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u7d9a\u3044\u30661\u30f6\u6708\u304c\u305f\u3063\u305f\u524d\u63d0\u3067Execution\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002\n\u3053\u308c\u306f\u652f\u6255\u65e5\u306b\u5229\u606f\u306e\u652f\u6255\u3044\u3092\u5b9f\u52b9\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\n\n```\nfunction Execution(uint floating_rate){\n     floated_side.send(capital*fixed_rate);\n     fixed_side.send(capital*(floating_rate+spread));\n}\n```\n\n\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u307e\u3057\u3087\u3046\u3002\n\n```\n> contract.Execution.sendTransaction(1, {from: fixedSide, gas:1000000})\n```\n\n\u30de\u30a4\u30cb\u30f3\u30b0\u524d\u306e\u4e21\u8005\u306eether\u6b8b\u9ad8\u3067\u3059\u3002\n\n```\n> web3.fromWei(eth.getBalance(fixedSide),\"ether\")\n859.96823490000000003\n> web3.fromWei(eth.getBalance(floatedSide),\"ether\")\n1439.96000000000000004\n```\n\n\u30de\u30a4\u30cb\u30f3\u30b0\u5b8c\u4e86\u5f8c\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6b8b\u9ad8\u304c\u5909\u5316\u3057\u307e\u3059\u3002\u5229\u606f\u5206\u3060\u3051\u4e21\u8005\u306e\u6b8b\u9ad8\u304c\u5897\u3048\u3066\u3044\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\nfixedSide\u306f\u5909\u52d5\u91d1\u5229\u3092\u53d7\u3051\u53d6\u308b\u306e\u306730ether\u5897\u3048\u307e\u3059\u3002\n\u5909\u52d5\u91d1\u5229\uff1a1000\u00d7(0.01+0.02) = 30\n\nfloatedSide\u306f\u56fa\u5b9a\u91d1\u5229\u3092\u53d7\u3051\u53d6\u308b\u306e\u306740ether\u5897\u3048\u307e\u3059\u3002\n\u56fa\u5b9a\u91d1\u5229\uff1a1000\u00d70.04 = 40\n\n```\n> web3.fromWei(eth.getBalance(fixedSide),\"ether\")\n889.96752358000000003\n> web3.fromWei(eth.getBalance(floatedSide),\"ether\")\n1479.96000000000000004\n```\n\u5b9f\u969b\u306b\u5897\u3048\u3066\u3044\u307e\u3059\u306d\u3002\n\n##\u307e\u3068\u3081\n\u4eca\u56de\u307e\u30673\u56de\u306b\u6e21\u308aSolidity\u3092\u7528\u3044\u305f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u958b\u767a\u65b9\u6cd5\u306b\u3064\u3044\u3066\u7db4\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\u3053\u308c\u3092\u6a5f\u306b\u7686\u69d8\u304cEthereum\u306b\u8208\u5473\u3092\u6301\u3063\u3066\u304f\u3060\u3055\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\u307e\u305f\u4f55\u304b\u3042\u308c\u3070\u3044\u3064\u3067\u3082\u3054\u8cea\u554f\u30fb\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\u3002\n"}