{"context": " More than 1 year has passed since last update.\n\n\u6b63\u898f\u5316\u3068\u306f\uff1f\n\u7d71\u8a08\u89e3\u6790\u306e\u73fe\u5834\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u306e\u5404\u5217\u306e\u5358\u4f4d\u304c\u7570\u306a\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u8eab\u9577\n\u4f53\u91cd\n\u8840\u5727\netc...\n\n\u305d\u306e\u5834\u5408\u3001\u5404\u5909\u91cf\u3092\u5e73\u5747\u304c0\u3001\u5206\u6563\u304c1\u3068\u306a\u308b\u3088\u3046\u5909\u63db\u3092\u52a0\u3048\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u3092\u6b63\u898f\u5316\u3068\u547c\u3073\u307e\u3059\u3002\nR\u3067\u306f\u95a2\u6570scale()\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3092\u6b63\u898f\u5316\u53ef\u80fd\u3067\u3059\u3002\n\u6b63\u898f\u5316\u306b\u306f\uff12\u3064\u306e\u624b\u9806\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u30bb\u30f3\u30bf\u30ea\u30f3\u30b0\u3000\uff1a\u3000\u305d\u308c\u305e\u308c\u306e\u5909\u91cf\u304b\u3089\u5168\u4f53\u306e\u5e73\u5747\u3092\u5f15\u304f\u3002\u5e73\u5747\u304c0\u3068\u306a\u308b\u3002\n\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3000\uff1a\u3000\u305d\u308c\u305e\u308c\u306e\u5909\u91cf\u3092\u5168\u4f53\u306e\u6a19\u6e96\u504f\u5dee\u3067\u5272\u308b\u3002\u5206\u6563\u304c1\u3068\u306a\u308b\u3002\n\n\nR\u306b\u3088\u308b\u5b9f\u4f8b\n\u3067\u306f\u3001R\u3067\u5b9f\u4f8b\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u8eab\u9577\u30fb\u4f53\u91cd\u30fb\u8840\u5727\u306e\u5909\u91cf\u3092\u4f5c\u3063\u305f\u5f8c\u3001melt\u95a2\u6570\u3067\u7e26\u6301\u3061\u306b\u3057\u3066ggplot\u3067\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u3092\u63cf\u753b\u3057\u3066\u307f\u307e\u3059\u3002\nn = 1000\ndf <- data.frame(\n    height = rnorm(n, 170, 10),\n    weight = rnorm(n,  70, 5),\n    bloodpressure = rnorm(n, 125, 2)\n)\n\nlibrary(reshape2)\nlibrary(ggplot2)\nggplot(melt(df), aes(x=value)) +\n    geom_histogram(fill=\"gray\", binwidth=1) +\n    facet_grid(variable~., scales=\"free\")\n\n\n3\u5909\u91cf\u304c\u5168\u304f\u5225\u306e\u5206\u5e03\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\u6b21\u306b\u3001\u3053\u308c\u3092scale\u95a2\u6570\u3067\u6b63\u898f\u5316\u3057\u305f\u5f8c\u3001\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u306b\u3057\u3066\u307f\u307e\u3059\u3002\ndf.scale = scale(df)\n\nggplot(melt(df.scale), aes(x=value)) +\n    geom_histogram(fill=\"gray\", binwidth=0.1) +\n    facet_grid(Var2~., scales=\"free\")\n\n\n\u5168\u3066\u540c\u3058\u5206\u5e03\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\u5e73\u5747\u3068\u5206\u6563\u3082\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n> apply(df.scale, 2, function(x){\n+     print(mean(x))\n+     print(var(x))\n+ })\n[1] -3.592281e-16\n[1] 1\n[1] 9.214658e-16\n[1] 1\n[1] 2.510722e-15\n[1] 1\n       height        weight bloodpressure \n            1             1             1 \n\n\u5168\u3066\u5e73\u57470\u3068\u5206\u65631\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u307e\u3068\u3081\n\nscale\u95a2\u6570\u3067\u6b63\u898f\u5316\u304c\u53ef\u80fd\n\n# \u6b63\u898f\u5316\u3068\u306f\uff1f\n\n\u7d71\u8a08\u89e3\u6790\u306e\u73fe\u5834\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u306e\u5404\u5217\u306e\u5358\u4f4d\u304c\u7570\u306a\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\n\n- \u8eab\u9577\n- \u4f53\u91cd\n- \u8840\u5727\n- etc...\n\n\u305d\u306e\u5834\u5408\u3001\u5404\u5909\u91cf\u3092\u5e73\u5747\u304c0\u3001\u5206\u6563\u304c1\u3068\u306a\u308b\u3088\u3046\u5909\u63db\u3092\u52a0\u3048\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u3092**\u6b63\u898f\u5316**\u3068\u547c\u3073\u307e\u3059\u3002\n\nR\u3067\u306f\u95a2\u6570scale()\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3092\u6b63\u898f\u5316\u53ef\u80fd\u3067\u3059\u3002\n\n\u6b63\u898f\u5316\u306b\u306f\uff12\u3064\u306e\u624b\u9806\u304c\u3042\u308a\u307e\u3059\u3002\n\n1. \u30bb\u30f3\u30bf\u30ea\u30f3\u30b0\u3000\uff1a\u3000\u305d\u308c\u305e\u308c\u306e\u5909\u91cf\u304b\u3089\u5168\u4f53\u306e\u5e73\u5747\u3092\u5f15\u304f\u3002\u5e73\u5747\u304c0\u3068\u306a\u308b\u3002\n2. \u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3000\uff1a\u3000\u305d\u308c\u305e\u308c\u306e\u5909\u91cf\u3092\u5168\u4f53\u306e\u6a19\u6e96\u504f\u5dee\u3067\u5272\u308b\u3002\u5206\u6563\u304c1\u3068\u306a\u308b\u3002\n\n# R\u306b\u3088\u308b\u5b9f\u4f8b\n\u3067\u306f\u3001R\u3067\u5b9f\u4f8b\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u8eab\u9577\u30fb\u4f53\u91cd\u30fb\u8840\u5727\u306e\u5909\u91cf\u3092\u4f5c\u3063\u305f\u5f8c\u3001melt\u95a2\u6570\u3067\u7e26\u6301\u3061\u306b\u3057\u3066ggplot\u3067\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u3092\u63cf\u753b\u3057\u3066\u307f\u307e\u3059\u3002\n\n```r\nn = 1000\ndf <- data.frame(\n    height = rnorm(n, 170, 10),\n    weight = rnorm(n,  70, 5),\n    bloodpressure = rnorm(n, 125, 2)\n)\n\nlibrary(reshape2)\nlibrary(ggplot2)\nggplot(melt(df), aes(x=value)) +\n    geom_histogram(fill=\"gray\", binwidth=1) +\n    facet_grid(variable~., scales=\"free\")\n```\n\n![RPlot1.png](https://qiita-image-store.s3.amazonaws.com/0/89145/5aa8f82a-7d05-6e34-2741-c2eb0e2dd1ee.png)\n\n3\u5909\u91cf\u304c\u5168\u304f\u5225\u306e\u5206\u5e03\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\u6b21\u306b\u3001\u3053\u308c\u3092scale\u95a2\u6570\u3067\u6b63\u898f\u5316\u3057\u305f\u5f8c\u3001\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u306b\u3057\u3066\u307f\u307e\u3059\u3002\n\n```r\ndf.scale = scale(df)\n\nggplot(melt(df.scale), aes(x=value)) +\n    geom_histogram(fill=\"gray\", binwidth=0.1) +\n    facet_grid(Var2~., scales=\"free\")\n```\n\n![Rplot2.png](https://qiita-image-store.s3.amazonaws.com/0/89145/2ae115f9-57ef-56b7-99de-54f834c17c57.png)\n\n\u5168\u3066\u540c\u3058\u5206\u5e03\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\u5e73\u5747\u3068\u5206\u6563\u3082\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```r\n> apply(df.scale, 2, function(x){\n+     print(mean(x))\n+     print(var(x))\n+ })\n[1] -3.592281e-16\n[1] 1\n[1] 9.214658e-16\n[1] 1\n[1] 2.510722e-15\n[1] 1\n       height        weight bloodpressure \n            1             1             1 \n```\n\n\u5168\u3066\u5e73\u57470\u3068\u5206\u65631\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\n# \u307e\u3068\u3081\n- scale\u95a2\u6570\u3067\u6b63\u898f\u5316\u304c\u53ef\u80fd\n\n", "tags": ["R", "scale", "DataFrame"]}