{"tags": ["C", "TDD"], "context": " More than 1 year has passed since last update.\u672a\u5b8c\u6210\u306a\u30a8\u30f3\u30c8\u30ea\u30fc\u306a\u3093\u3060\u3051\u3069\u3001\u624b\u76f4\u3057\u3057\u306a\u304c\u3089\u9032\u307f\u307e\u3057\u3087\u3046\u3068\u3044\u3046\u4e8b\u3067\u516c\u958b\u3057\u307e\u3059\u3002\u6307\u6458\u4e8b\u9805\u7b49\u5b9c\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u751f\u6210\nIBM Code Composer Studio\uff08\u4ee5\u4e0bCCS\uff09\u3092\u8d77\u52d5\u3057\u3001\u3068\u308a\u3042\u3048\u305a\u65b0\u305f\u306b\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u3092\u4f5c\u308b\u3002\n\nCCS\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u65b0\u898f\u4f5c\u6210\uff08\u30e1\u30cb\u30e5\u30fc\u304b\u3089File \u21d2 New \u21d2 CCS Project\uff09\u3059\u308b\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u306f\u300cCUnitLib\u300d\u3068\u3057\u305f\u3002\u307e\u305a\u3001CUnit\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f5c\u6210\u3059\u308b\u306e\u3067\u3001Output type\u306b\u300cStatic Library\u300d\u3092\u8a2d\u5b9a\u3059\u308b\u3002Device\u306f\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u5408\u308f\u305b\u3066\u9069\u5b9c\u8a2d\u5b9a\u3059\u308b\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u7d14\u7c8b\u306a\u7a7a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u300cEmpty Project\u300d\u3092\u9078\u629e\u3057\u305f\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b3\u30fc\u30c9\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3002\u53f3\u30af\u30ea\u30c3\u30af\u304b\u3089\u3001Import\u3092\u9078\u629e\u3059\u308b\u3002General\u21d2File System\u3092\u9078\u629e\u3057\u3066Next\u3002\n\n\u30b3\u30fc\u30c9\uff08*.c\u3068*.h\uff09\u306e\u307f\u3092\u9078\u629e\u3057\u3066\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3002\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306f\u305d\u306e\u307e\u307e\u63a1\u7528\u3057\u305f\u3002\n\n\u3053\u3093\u306a\u304b\u3093\u3058\u3002\n\nSources\u3092\u9078\u629e\u3057\u3066\u53f3\u30af\u30ea\u30c3\u30af\u304b\u3089Properties\u3002\n\n\u53f3\u4e0b\u30d6\u30ed\u30c3\u30af\u306eAdd dir to #include search path\u306b\u8ffd\u52a0\u3059\u308b\u3002\uff0b\u30de\u30fc\u30af\u3092\u62bc\u4e0b\u3002Workspace\u304b\u3089Headers\u3092\u9078\u629e\u3059\u308b\u3002\n\n\u3059\u308b\u3068\u3053\u3046\u6307\u5b9a\u3055\u308c\u308b\u306e\u3067OK\u3092\u62bc\u4e0b\u3002\n\n\u6307\u5b9a\u3057\u305f\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066OK\u3092\u62bc\u4e0b\u3002\n\nBulid All(Ctrl+B)\u3059\u308c\u3070CUnitLib.lib\u304c\u751f\u6210\u3055\u308c\u305f\u3002\u3053\u308c\u3092\u4f7f\u3063\u3066\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u3044\u304f\u3002\n\n\n\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u4f5c\u308b\n\u65e9\u901f\u30b5\u30f3\u30d7\u30eb\u3092\u4f5c\u3063\u3066\u307f\u3088\u3046\u3002Output type\u306fExecutable\u3092\u9078\u629e\u3057\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066main.c\u3092\u542b\u3080Empty Project\u3092\u9078\u629e\u3057\u305f\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306eProperties\u3092\u9078\u3093\u3067\u3001\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\nWorkspace\u306e\u4e2d\u304b\u3089Headers\u3092\u9078\u629e\u3059\u308b\u3002\n\n\u3053\u3093\u306a\u611f\u3058\u3002OK\u3092\u62bc\u4e0b\u3002\n\n\u3064\u3065\u3044\u3066\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u6307\u5b9a\u3059\u308b\u3002Linker\u304b\u3089Add\u3092\u884c\u3063\u305f\u3002\n\n\u3053\u308c\u3082Workspace\u306e\u4e2d\u304b\u3089\u5148\u307b\u3069\u751f\u6210\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n\u3053\u3093\u306a\u611f\u3058\u3002OK\u3092\u62bc\u4e0b\u3002\n\n\u3053\u3093\u306a\u98a8\u306b\u767b\u9332\u3055\u308c\u305f\u306e\u3067\u3001Properties\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081OK\u3092\u62bc\u4e0b\u3002\n\n\u307e\u3044\u3093\u3061\u3083\u3093\u2026\u3082\u3068\u3044\u3001main.c\u3092\u7de8\u96c6\u3059\u308b\u3002\n\u307e\u3041\u3001\u4f55\u3067\u3082\u3044\u3044\u3093\u3060\u3051\u3069\u3001\u4e00\u822c\u7684\u306a\u30e4\u30c4\u3092\u3002\n\nmain.c\n/*\n * main.c\n */\n\n#include <CUnit.h>\n#include <Console.h>\n\nint add(int a, int b);\n\n/* \u521d\u671f\u5316\u95a2\u6570*/\nint hoge_setup(void)\n{\n    return 0;\n}\n\n/* \u5f8c\u59cb\u672b\u95a2\u6570*/\nint hoge_teardown(void)\n{\n    return 0;\n}\n\n/* \u30c6\u30b9\u30c8\u95a2\u6570*/\nvoid test_hoge_add(void)\n{\n    /* 3 + 4 = 7 */\n    CU_ASSERT_EQUAL(add(3,4), 7);\n}\n\n/* \u30c6\u30b9\u30c8\u95a2\u6570\u3092\u307e\u3068\u3081\u308b*/\nstatic CU_TestInfo test_hoge[] = {\n    { \"\u5358\u7d14\u52a0\u7b97\", test_hoge_add },\n    CU_TEST_INFO_NULL, /* \u672b\u5c3e\u306fCU_TEST_INFO_NULL\u3067\u7d42\u7aef*/\n};\n\n/* \u30c6\u30b9\u30c8\u30b9\u30a4\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b*/\nstatic CU_SuiteInfo suites[] = {\n    { \"hoge\u306e\u30c6\u30b9\u30c8\", hoge_setup, hoge_teardown, test_hoge },\n    CU_SUITE_INFO_NULL, /* \u672b\u5c3e\u306fCU_SUITE_INFO_NULL\u3067\u7d42\u7aef*/\n};\n\nint add(int a, int b)\n{\n    return 0;\n}\n\nvoid main(void) {\n    /* \u521d\u671f\u5316*/\n    if ( CU_initialize_registry() ) {\n        printf(\"\\nInitialization of Test Registry failed.\");\n    } else {\n        CU_register_suites(suites); /* \u30c6\u30b9\u30c8\u30fb\u30b9\u30a4\u30fc\u30c8\u767b\u9332*/\n        CU_console_run_tests(); /* \u30c6\u30b9\u30c8\u5b9f\u884c*/\n        CU_cleanup_registry(); /* \u5f8c\u59cb\u672b*/\n    }\n}\n\n\n\u3053\u3093\u306a\u611f\u3058\u3002\u30d3\u30eb\u30c9\u3057\u3066CUnitSample.out\u304c\u751f\u6210\u3055\u308c\u308c\u3070OK\u30fb\u30fb\u30fb\u3060\u3068\u601d\u3046\u3093\u3060\u3051\u3069\u3001\u5b9f\u306f\u4eca\u65e5\u306f\u5b9f\u884c\u74b0\u5883\u3092\u7528\u610f\u3057\u5fd8\u308c\u305f\u306e\u3067\u672c\u5f53\u306b\u3061\u3083\u3093\u3068\u52d5\u304f\u304b\u3069\u3046\u304b\u3001\u3064\u3065\u304d\u306f\u6765\u9031\uff57\uff57\uff57\uff57\uff57\uff57\n\n\u672a\u5b8c\u6210\u306a\u30a8\u30f3\u30c8\u30ea\u30fc\u306a\u3093\u3060\u3051\u3069\u3001\u624b\u76f4\u3057\u3057\u306a\u304c\u3089\u9032\u307f\u307e\u3057\u3087\u3046\u3068\u3044\u3046\u4e8b\u3067\u516c\u958b\u3057\u307e\u3059\u3002\u6307\u6458\u4e8b\u9805\u7b49\u5b9c\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n#\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u751f\u6210\nIBM Code Composer Studio\uff08\u4ee5\u4e0bCCS\uff09\u3092\u8d77\u52d5\u3057\u3001\u3068\u308a\u3042\u3048\u305a\u65b0\u305f\u306b\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u3092\u4f5c\u308b\u3002\n![image001.png](https://qiita-image-store.s3.amazonaws.com/0/21786/9189707b-c526-0ba3-92af-d29419a079c7.png)\nCCS\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u65b0\u898f\u4f5c\u6210\uff08\u30e1\u30cb\u30e5\u30fc\u304b\u3089File \u21d2 New \u21d2 CCS Project\uff09\u3059\u308b\u3002\n![image003.png](https://qiita-image-store.s3.amazonaws.com/0/21786/262ad405-5202-15e1-ba63-00c40a744fb9.png)\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u306f\u300cCUnitLib\u300d\u3068\u3057\u305f\u3002\u307e\u305a\u3001CUnit\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f5c\u6210\u3059\u308b\u306e\u3067\u3001Output type\u306b\u300cStatic Library\u300d\u3092\u8a2d\u5b9a\u3059\u308b\u3002Device\u306f\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u5408\u308f\u305b\u3066\u9069\u5b9c\u8a2d\u5b9a\u3059\u308b\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u7d14\u7c8b\u306a\u7a7a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u300cEmpty Project\u300d\u3092\u9078\u629e\u3057\u305f\u3002\n![image005.png](https://qiita-image-store.s3.amazonaws.com/0/21786/3ec44c70-d4a8-bba9-ba4b-17915d4b6b45.png)\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n![image007.png](https://qiita-image-store.s3.amazonaws.com/0/21786/c2507384-e4d9-6b3e-6820-4dea98c9331c.png)\n\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b3\u30fc\u30c9\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3002\u53f3\u30af\u30ea\u30c3\u30af\u304b\u3089\u3001Import\u3092\u9078\u629e\u3059\u308b\u3002General\u21d2File System\u3092\u9078\u629e\u3057\u3066Next\u3002\n![image009.png](https://qiita-image-store.s3.amazonaws.com/0/21786/1df53e2a-96e4-b31e-5c18-0cb3be9a0b27.png)\n\u30b3\u30fc\u30c9\uff08\\*.c\u3068\\*.h\uff09\u306e\u307f\u3092\u9078\u629e\u3057\u3066\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3002\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306f\u305d\u306e\u307e\u307e\u63a1\u7528\u3057\u305f\u3002\n![image011.png](https://qiita-image-store.s3.amazonaws.com/0/21786/a94a4074-3747-005c-36dd-0d38507378a6.png)\n\u3053\u3093\u306a\u304b\u3093\u3058\u3002\n![image013.png](https://qiita-image-store.s3.amazonaws.com/0/21786/fe88ab69-d8de-e188-0ce9-18d38d06c94f.png)\nSources\u3092\u9078\u629e\u3057\u3066\u53f3\u30af\u30ea\u30c3\u30af\u304b\u3089Properties\u3002\n![image016.png](https://qiita-image-store.s3.amazonaws.com/0/21786/6e10cd6d-3f2d-5e74-7098-f9f1df84fa37.png)\n\u53f3\u4e0b\u30d6\u30ed\u30c3\u30af\u306eAdd dir to #include search path\u306b\u8ffd\u52a0\u3059\u308b\u3002\uff0b\u30de\u30fc\u30af\u3092\u62bc\u4e0b\u3002Workspace\u304b\u3089Headers\u3092\u9078\u629e\u3059\u308b\u3002\n![image018.png](https://qiita-image-store.s3.amazonaws.com/0/21786/94b95b88-3a02-e0ad-f521-b764fd9703ec.png)\n\u3059\u308b\u3068\u3053\u3046\u6307\u5b9a\u3055\u308c\u308b\u306e\u3067OK\u3092\u62bc\u4e0b\u3002\n![image020.png](https://qiita-image-store.s3.amazonaws.com/0/21786/67221c21-6602-7d9c-9c86-1c24e5877223.png)\n\u6307\u5b9a\u3057\u305f\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066OK\u3092\u62bc\u4e0b\u3002\n![image022.png](https://qiita-image-store.s3.amazonaws.com/0/21786/896ac078-27ec-8b6f-6ba9-1a67f32753ba.png)\nBulid All(Ctrl+B)\u3059\u308c\u3070CUnitLib.lib\u304c\u751f\u6210\u3055\u308c\u305f\u3002\u3053\u308c\u3092\u4f7f\u3063\u3066\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u3044\u304f\u3002\n![image024.png](https://qiita-image-store.s3.amazonaws.com/0/21786/a5654c91-4d69-fc85-a688-266d3112f4b1.png)\n#\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u4f5c\u308b\n\u65e9\u901f\u30b5\u30f3\u30d7\u30eb\u3092\u4f5c\u3063\u3066\u307f\u3088\u3046\u3002Output type\u306fExecutable\u3092\u9078\u629e\u3057\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066main.c\u3092\u542b\u3080Empty Project\u3092\u9078\u629e\u3057\u305f\u3002\n![image026.png](https://qiita-image-store.s3.amazonaws.com/0/21786/7befafed-beb4-3886-8557-0a2913de072b.png)\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306eProperties\u3092\u9078\u3093\u3067\u3001\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8ffd\u52a0\u3059\u308b\u3002\n![image028.png](https://qiita-image-store.s3.amazonaws.com/0/21786/f95e23f3-ad72-a67d-d7f8-f86ca8f8670a.png)\nWorkspace\u306e\u4e2d\u304b\u3089Headers\u3092\u9078\u629e\u3059\u308b\u3002\n![image030.png](https://qiita-image-store.s3.amazonaws.com/0/21786/d43fd0ab-0e30-bb42-5efb-312ba320d45e.png)\n\u3053\u3093\u306a\u611f\u3058\u3002OK\u3092\u62bc\u4e0b\u3002\n![image032.png](https://qiita-image-store.s3.amazonaws.com/0/21786/2bcfb7a9-4970-f9d1-5c7f-260db3dc07b8.png)\n\u3064\u3065\u3044\u3066\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u6307\u5b9a\u3059\u308b\u3002Linker\u304b\u3089Add\u3092\u884c\u3063\u305f\u3002\n![image036.png](https://qiita-image-store.s3.amazonaws.com/0/21786/27ed8a53-8ba5-5d5a-7ce4-43bd8d803b3b.png)\n\u3053\u308c\u3082Workspace\u306e\u4e2d\u304b\u3089\u5148\u307b\u3069\u751f\u6210\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u6307\u5b9a\u3059\u308b\u3002\n![image038.png](https://qiita-image-store.s3.amazonaws.com/0/21786/e5941b63-4939-5629-df05-de1dc5c34522.png)\n\u3053\u3093\u306a\u611f\u3058\u3002OK\u3092\u62bc\u4e0b\u3002\n![image040.png](https://qiita-image-store.s3.amazonaws.com/0/21786/1a930013-9240-770d-f8e9-990726c9a279.png)\n\u3053\u3093\u306a\u98a8\u306b\u767b\u9332\u3055\u308c\u305f\u306e\u3067\u3001Properties\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081OK\u3092\u62bc\u4e0b\u3002\n![image042.png](https://qiita-image-store.s3.amazonaws.com/0/21786/b35fe396-8140-7040-1f4b-f419f330977a.png)\n\u307e\u3044\u3093\u3061\u3083\u3093\u2026\u3082\u3068\u3044\u3001main.c\u3092\u7de8\u96c6\u3059\u308b\u3002\n\u307e\u3041\u3001\u4f55\u3067\u3082\u3044\u3044\u3093\u3060\u3051\u3069\u3001\u4e00\u822c\u7684\u306a\u30e4\u30c4\u3092\u3002\n\n```c:main.c\n/*\n * main.c\n */\n\n#include <CUnit.h>\n#include <Console.h>\n\nint add(int a, int b);\n\n/* \u521d\u671f\u5316\u95a2\u6570*/\nint hoge_setup(void)\n{\n\treturn 0;\n}\n\n/* \u5f8c\u59cb\u672b\u95a2\u6570*/\nint hoge_teardown(void)\n{\n\treturn 0;\n}\n\n/* \u30c6\u30b9\u30c8\u95a2\u6570*/\nvoid test_hoge_add(void)\n{\n\t/* 3 + 4 = 7 */\n\tCU_ASSERT_EQUAL(add(3,4), 7);\n}\n\n/* \u30c6\u30b9\u30c8\u95a2\u6570\u3092\u307e\u3068\u3081\u308b*/\nstatic CU_TestInfo test_hoge[] = {\n\t{ \"\u5358\u7d14\u52a0\u7b97\", test_hoge_add },\n\tCU_TEST_INFO_NULL, /* \u672b\u5c3e\u306fCU_TEST_INFO_NULL\u3067\u7d42\u7aef*/\n};\n\n/* \u30c6\u30b9\u30c8\u30b9\u30a4\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b*/\nstatic CU_SuiteInfo suites[] = {\n\t{ \"hoge\u306e\u30c6\u30b9\u30c8\", hoge_setup, hoge_teardown, test_hoge },\n\tCU_SUITE_INFO_NULL, /* \u672b\u5c3e\u306fCU_SUITE_INFO_NULL\u3067\u7d42\u7aef*/\n};\n\nint add(int a, int b)\n{\n\treturn 0;\n}\n\nvoid main(void) {\n\t/* \u521d\u671f\u5316*/\n\tif ( CU_initialize_registry() ) {\n\t\tprintf(\"\\nInitialization of Test Registry failed.\");\n\t} else {\n\t\tCU_register_suites(suites); /* \u30c6\u30b9\u30c8\u30fb\u30b9\u30a4\u30fc\u30c8\u767b\u9332*/\n\t\tCU_console_run_tests(); /* \u30c6\u30b9\u30c8\u5b9f\u884c*/\n\t\tCU_cleanup_registry(); /* \u5f8c\u59cb\u672b*/\n\t}\n}\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3002\u30d3\u30eb\u30c9\u3057\u3066CUnitSample.out\u304c\u751f\u6210\u3055\u308c\u308c\u3070OK\u30fb\u30fb\u30fb\u3060\u3068\u601d\u3046\u3093\u3060\u3051\u3069\u3001\u5b9f\u306f\u4eca\u65e5\u306f\u5b9f\u884c\u74b0\u5883\u3092\u7528\u610f\u3057\u5fd8\u308c\u305f\u306e\u3067\u672c\u5f53\u306b\u3061\u3083\u3093\u3068\u52d5\u304f\u304b\u3069\u3046\u304b\u3001\u3064\u3065\u304d\u306f\u6765\u9031\uff57\uff57\uff57\uff57\uff57\uff57\n![image044.png](https://qiita-image-store.s3.amazonaws.com/0/21786/6020580a-ed69-4e71-c1e4-2e2d14031436.png)"}