{"tags": [".bashrc", "Bash", "GNU", "Linux", "centos7"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\u3088\u304f\u4f7f\u3046\u306e\u306fcds\u3067\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u30b3\u30de\u30f3\u30c9\u3002cdw\u3067\u4fdd\u5b58\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u98db\u3076\u3002\ncdl\u3067cds\u3067\u4fdd\u5b58\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u898b\u308c\u308b\u3002\n\u4ed6\u306e\u3067\u3082\u4f7f\u3048\u308b\u3068\u601d\u3046\u3051\u3069\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u306fCentOS 7.0.1406\u3002\n\nbash\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n.bashrc\n# .bashrc\n\n############################################\n# \u5171\u901abashrc\u306e\u8aad\u307f\u8fbc\u307f\n############################################\n# Source global definitions\nif [ -f /etc/bashrc ]; then\n        . /etc/bashrc\nfi\n\n############################################\n# PS\u8a2d\u5b9a\n############################################\n# PS\u521d\u671f\u5909\u6570\nPS_USER=\"\\[\\e[33m\\]\\u\\[\\e[0m\\]\"\nPS_HOST=\"\\[\\e[32m\\]\\h\\[\\e[0m\\]\"\nPS_WORK=\"\\[\\e[37;1m\\]\\W\\[\\e[0m\\]\"\nPS_SCREEN=\"\"\nPS_SSH=\"\"\nPS_ATODE=\"\"\nPS_HIST=\"\"\n\n# Partty\u30bb\u30c3\u30b7\u30e7\u30f3\u4e2d\u306a\u3089\u30db\u30b9\u30c8\u540d\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u540d+\"!\"\u306b\u3059\u308b\nif [ -n \"${PARTTY_SESSION}\" ] ; then\n  PS_HOST=\"\\[\\e[32m\\]${PARTTY_SESSION}!\\[\\e[0m\\]\"\nfi\n\n# screen\u3092\u5f35\u3063\u3066\u3044\u308b\u3068\u304d\u306fWINDOW\u756a\u53f7\nif [ -n \"${WINDOW}\" ] ; then\n  PS_SCREEN=\"(\\[\\e[35m\\]${WINDOW}\\[\\e[0m\\])\"\nfi\n\n# SSH\u3067\u7e4b\u3044\u3067\u3044\u308b\u3068\u304d\u306f\u63a5\u7d9a\u5143IP\u3092\u8868\u793a\nif [ -n \"${SSH_CLIENT}\" ] ; then\n#  PS_SSH=\"(\\[\\e[36m\\]`echo ${SSH_CLIENT} | sed 's/ [0-9]\\+ [0-9]\\+$//g'`\\[\\e[0m\\])\"\n  PS_SSH=\"\"\nfi\n\n# atode\u306e\u4ef6\u6570\nif [ -f ~/.atode ]; then\n  PS_ATODE=\"(\\`cat ~/.atode | wc -l\\`)\"\nfi\n\n# \u30d2\u30b9\u30c8\u30ea\u756a\u53f7\u3092\u660e\u308b\u3044\u9752\u3067\n#PS_HIST=\"\\[$(echo -en '\\033[34;1m')\\]\\!\\[$(echo -en '\\033[m')\\]:\"\n\n# \u30d7\u30ed\u30f3\u30d7\u30c8\u8a18\u53f7\u3092\u3001\u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u975e0\u306a\u3089\u8d64\u30010\u306a\u3089\u767d\u3067\nfunction ps_exit()\n{\n    a=$?\n    if [ $a -ne 0 ]; then\n        echo -n \"$(echo -ne '\\033')[31m\";\n    else\n        echo -n \"$(echo -ne '\\033')[m\";\n    fi\n    exit $a;\n}\nPS_EXIT=\"\\[\\$(ps_exit)\\]\\\\$\\[$(echo -ne '\\033')[m\\]\"\n\nexport PS1=\"[${PS_USER}${PS_SCREEN}@${PS_HOST}${PS_SSH}${PS_ATODE} ${PS_HIST}${PS_WORK}]${PS_EXIT} \"\nfunction PS1_su_set() { # su\u3057\u305f\u6642\u306bps_exit\u304c\u8d70\u3089\u306a\u304f\u306a\u308b\u306e\u3067\u5bfe\u5fdc\n  export PS1=\"[${PS_USER}${PS_SCREEN}@${PS_HOST}${PS_SSH}${PS_ATODE} ${PS_HIST}${PS_WORK}]\\$ \"\n}\n# screen\u306e\u6642\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3059\u308b\nif [ -n \"${WINDOW}\" ]; then\n  PS1=${PS1}'\\[\\033k\\W\\033\\\\\\]'\nfi\n############################################\n\n############################################\n# \u30a8\u30a4\u30ea\u30a2\u30b9\n############################################\nalias su=PS1_su_set'; su'\nalias cp='cp -ip'\nalias mv='mv -i'\nalias rm='rm -i'\nalias listusers=\"cut -d: -f1 /etc/passwd\"  # \u30e6\u30fc\u30b6\u540d\u30ea\u30b9\u30c8\u8868\u793a\nalias crontab='crontab -i' \n\nalias awka=\"awk 'NR==1'\"                   # \u6700\u521d\u306e\u884c\u3092\u8868\u793a\u3059\u308b\nalias awke=\"awk 'END{print}'\"              # \u6700\u5f8c\u306e\u884c\u3092\u8868\u793a\u3059\u308b\nalias awkd=\"awk 'NF'\"                      # \u7a7a\u884c\u3092\u524a\u9664\u3059\u308b\nalias awkl=\"awk 'END{print NR}'\"           # \u884c\u6570\u3092\u30ab\u30a6\u30f3\u30c8\u3059\u308b\n\nalias sortuni='sort | uniq -c | sort -nr'  # \u30c7\u30fc\u30bf\u306e\u51fa\u73fe\u8a9e\u3092\u30e9\u30f3\u30ad\u30f3\u30b0\n\nalias vimpr='vim ~/.profile'\nalias vimba='vim ~/.bashrc'\nalias vimrc='vim ~/.vimrc'\nalias vimlo='vim ~/.bash_logout'\nalias vimsc='vim ~/.screenrc'\nalias vimma='vim $MAIL'\nalias soba='source ~/.bashrc'\n\n# pushd\u3092\u30bf\u30d6\u30d5\u30a1\u30a4\u30e9\u30fc\u306e\u3088\u3046\u306a\u4f7f\u3044\u65b9\u3092\u3059\u308b\nexport LOGOUT_TAB_FILER_SAVED=\"TRUE\"        # \u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u6642\u306b\u30bf\u30d6\u306e\u5185\u5bb9\u3092\u4fdd\u5b58\u3059\u308b\nalias tab='dirs'                            # \u30bf\u30d6\u4e00\u89a7\u3092\u8868\u793a\uff08\u4fdd\u5b58\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e00\u89a7\uff09\nalias tabnew='pushd `pwd`'                  # \u30bf\u30d6\u65b0\u898f\u4f5c\u6210\uff08\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4fdd\u5b58\uff09\nalias gt='pushd +1 > /dev/null 2>&1; dirs'  # \u53f3\u306e\u30bf\u30d6\u3078\u79fb\u52d5\uff08\u30bf\u30d6\u4e00\u89a7\u304b\u3089\u898b\u3066\u53f3\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\uff09\nalias gT='gTfunc; dirs'                     # \u5de6\u306e\u30bf\u30d6\u3078\u79fb\u52d5\uff08\u30bf\u30d6\u4e00\u89a7\u304b\u3089\u898b\u3066\u6700\u5f8c\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\uff09\nalias tabc='popd'                           # \u73fe\u5728\u306e\u30bf\u30d6\u3092\u9589\u3058\u308b\uff08\u4fdd\u5b58\u3057\u305f\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664\u3057\u3066\u53f3\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\uff09\nalias tabo='delete_pushd'                   # \u73fe\u5728\u306e\u30bf\u30d6\u4ee5\u5916\u3092\u9589\u3058\u308b\uff08\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u5916\u306e\u4fdd\u5b58\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664\uff09\nalias tabdel='echo ~ > $HOME/.dirs'         # ~/.dirs\u306e\u4e2d\u8eab\u3092\u521d\u671f\u5316\u3059\u308b\nalias tabsave='save_dirs'                   # \u30bf\u30d6\u306e\u5185\u5bb9\u3092\u30bb\u30fc\u30d6\u3059\u308b\nalias tabload='delete_pushd;read_dirs'      # \u30bf\u30d6\u306e\u5185\u5bb9\u3092\u30ed\u30fc\u30c9\u3059\u308b\nalias tabyes='export LOGOUT_TAB_FILER_SAVED=\"TRUE\";echo \u30ed\u30b0\u30a2\u30a6\u30c8\u6642\u306e\u30bf\u30d6\u4fdd\u5b58\u3092\u6709\u52b9' # \u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u6642\u306b\u30bf\u30d6\u5185\u5bb9\u3092\u4fdd\u5b58\u3059\u308b\nalias tabno='export LOGOUT_TAB_FILER_SAVED=\"FALSE\";echo \u30ed\u30b0\u30a2\u30a6\u30c8\u6642\u306e\u30bf\u30d6\u4fdd\u5b58\u3092\u7121\u52b9' # \u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u6642\u306b\u30bf\u30d6\u5185\u5bb9\u3092\u4fdd\u5b58\u3057\u306a\u3044\nfunction tabl(){                            # \u30bf\u30d6\u3092\u6570\u5024\u3092\u6307\u5b9a\u3057\u3066\u79fb\u52d5\n  pushd +0$1\n}\nfunction gTfunc() {\n  lastNum=`dirs -v | awk 'END{print}' | awk '{print substr($0, 1, 3)}'`\n  pushd +\"${lastNum}\"\n}\n\n# \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30b3\u30de\u30f3\u30c9\nalias cdw='pwd; cd /home; pwd'\n# \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u78ba\u8a8d\nalias cdl='alias | grep \"^alias cdw=.*$\" | sed -e \"s/^alias cdw=//\" | sed -e \"s/^.*; cd /cdw\u4fdd\u5b58\u30d1\u30b9\uff1a/\" | sed -e \"s/;.*$//\"'\n\n# \u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3057\u3066cdw\u30b3\u30de\u30f3\u30c9\u306b\u4fdd\u5b58\u3059\u308b\nfunction cds() {\n  sed -i -e \"s|^alias cdw=.*$|alias cdw='pwd; cd `pwd`; pwd'|\" ~/.bashrc\n  alias cdw='pwd; cd '`pwd`'; pwd'\n  echo \u300c`pwd`\u300d\u3092cdw\u30b3\u30de\u30f3\u30c9\u306b\u4fdd\u5b58\n}\n\n# \u6307\u5b9a\u884c\u3092\u8868\u793a\nfunction awkn() {\n  if [ -z $1 ]; then                              # \u884c\u6570\u306e\u6307\u5b9a\u304c\u306a\u3044\u5834\u5408\n    command awk '$0 = NR OFS $0' # \u884c\u756a\u53f7\u3092\u4ed8\u4e0e\u3057\u3066\u8868\u793a\n  elif expr \"$1\" : '^[0-9]*$' > /dev/null ; then  # \u6307\u5b9a\u884c\u306e\u8868\u793a\n    command awk 'NR=='$1''\n  else\n    echo \"$1:\u6570\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\"\n  fi\n}\n\n# \u6307\u5b9a\u3057\u305f\u30ab\u30e9\u30e0\u4f4d\u7f6e\u306e\u5217\u3092\u8868\u793a\u3059\u308b\nfunction csv() {\n  if [ -z $1 ]; then                             # \u30d5\u30a1\u30a4\u30eb\u540d\u306e\u6307\u5b9a\u304c\u306a\u3044\u5834\u5408\n    echo \"\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\"\n  elif [ -z $2 ]; then                           # \u30ab\u30e9\u30e0\u6570\u306e\u6307\u5b9a\u304c\u306a\u3044\u5834\u5408\u306f\u5168\u3066\u3092\u6574\u5f62\u3057\u3066\u8868\u793a\n    command column -s , -t $1\n  elif expr \"$2\" : '^[0-9]*$' > /dev/null ; then # \u30ab\u30e9\u30e0\u6570\u306b\u5fdc\u3058\u305f\u5217\u3092\u8868\u793a\n    command cat $1 | awk 'BEGIN {FS=\",\";OFS=\",\"} {print $'$2'}'\n  else\n    echo \"$2:\u6570\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\"\n  fi\n}\n\n# mysql\u30b5\u30fc\u30d0\u8d77\u52d5\uff0f\u7d42\u4e86\u30b3\u30de\u30f3\u30c9\nfunction mysql_stend() {\n  pcnt=`ps -ef | grep mysqld | grep -v grep | wc -l`\n  if [ $pcnt = 0 ]; then\n    echo \"MySQL\u30b5\u30fc\u30d0\u505c\u6b62\u4e2d\"\n    while :\n    do\n      printf \"\u8d77\u52d5\u3057\u307e\u3059\u304b\uff1f(y/n):\"\n      read input\n      if [ -z \"${input}\" ]; then # \u7a7a\u6b04\u306e\u5834\u5408\u30eb\u30fc\u30d7\u3059\u308b\u305f\u3081\u30c7\u30d5\u30a9\u5024\u3092\u5165\u308c\u308b\n        input=\"c\"\n      fi\n      if [ ${input} = \"y\" ]; then\n        /etc/init.d/mysqld start\n        break\n      elif [ ${input} = \"n\" ]; then\n        break\n      fi\n    done\n  else\n    echo \"MySQL\u30b5\u30fc\u30d0\u8d77\u52d5\u4e2d\"\n    while :\n    do\n      printf \"\u505c\u6b62\u3057\u307e\u3059\u304b\uff1f(y/n):\"\n      read input\n      if [ -z \"${input}\" ]; then # \u7a7a\u6b04\u306e\u5834\u5408\u30eb\u30fc\u30d7\u3059\u308b\u305f\u3081\u30c7\u30d5\u30a9\u5024\u3092\u5165\u308c\u308b\n        input=\"c\"\n      fi\n      if [ ${input} = \"y\" ]; then\n        /etc/init.d/mysqld stop\n        break\n      elif [ ${input} = \"n\" ]; then\n        break\n      fi\n    done\n  fi\n}\n\n# \u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u5916\u306epushd\u3092\u6d88\u3059\nfunction delete_pushd(){\n  now_pwd=`pwd`\n  for d in `dirs`\n  do\n    popd > /dev/null 2>&1\n  done\n  cd $now_pwd > /dev/null 2>&1\n}\n\n# ~/.dirs\u3092\u8aad\u307f\u8fbc\u307f\nfunction read_dirs() {\n  if [ -f ~/.dirs ]; then\n    dirs=`cat ~/.dirs | awk 'NR==1'`\n    pushd_dirs ${dirs}\n  fi\n}\nfunction pushd_dirs() { # \u8aad\u307f\u8fbc\u3093\u3060\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3057\u3066pushd\u3059\u308b\n  now_pwd=`pwd`\n  dirs=()\n  # \u7d76\u5bfe\u30d1\u30b9\u306b\u3057\u305f\u3082\u306e\u3092\u914d\u5217\u306b\u683c\u7d0d\n  for OPT in \"$@\"\n  do\n    after_sed=`echo $1 | sed \"s#~#${HOME}#g\"`\n    dirs+=(\"$after_sed\")\n    shift 1\n  done\n\n  # \u914d\u5217\u306e\u4e2d\u8eab\u3092\u9006\u9806\u306b\u3059\u308b\n  tacdirs=`echo ${dirs[@]} | sed \"s/ /\\n/g\" | tac | tr '\\n' ' '`\n\n  # \u914d\u5217\u5206pushd\u3057\u3066\u3044\u304f\n  for d in $tacdirs\n  do\n    pushd $d > /dev/null 2>&1\n  done\n  lastNum=`dirs -v | awk 'END{print}' | awk '{print substr($0, 1, 3)}'`\n  pushd +\"${lastNum}\" > /dev/null 2>&1\n  popd > /dev/null 2>&1\n}\n\n# \u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u5f8c\u306b\u518d\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u5834\u5408\u524d\u56de\u306e\u30bf\u30d6\u3092\u5fa9\u5143\u3059\u308b\n# \u5b9f\u884c\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u306f\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\nread_dirs\n\n# dirs\u306e\u5185\u5bb9\u3092\u4fdd\u5b58\nfunction save_dirs() {\n  file_name=\"$HOME/.dirs\"\n  if [ ! -f ${file_name} ]; then\n    echo ~ > ${file_name}\n  fi\n  file_size=`wc -c ${file_name} | awk '{print $1}'`\n  if [ ${file_size} -gt 4096 ] ; then\n    sed -i -e '$d' ${file_name}\n  elif [ ${file_size} -eq 0 ] ; then\n    echo ~ > ${file_name}\n  fi\n  sed -i -e \"1i `dirs`\" ${file_name}\n}\n############################################\n\n############################################\n# PATH\u3001export\u8a2d\u5b9a\u306a\u3069\n############################################\n# Ctrl+S\u3092\u7121\u52b9\u306b\u3059\u308b\nstty stop undef\n\n# \u30d1\u30b9\u8a2d\u5b9a\nPATH=/usr/local/java/bin:/usr/local/scala/bin:/usr/local/mysql/bin:$PATH\nexport PATH\n\n# \u30b3\u30de\u30f3\u30c9\u5c65\u6b74\nexport HISTSIZE=100000                    # \u73fe\u5728\u4f7f\u7528\u4e2d\u306ebash\u304c\u4fdd\u6301\u3059\u308b\u30b3\u30de\u30f3\u30c9\u5c65\u6b74\u6570\nexport HISTFILESIZE=100000                # \u5c65\u6b74\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u308b\u5c65\u6b74\u6570\n#export HISTCONTROL=ignoredups             # \u540c\u3058\u30b3\u30de\u30f3\u30c9\u304c\u9023\u7d9a\u3059\u308b\u5834\u5408\u306f1\u56de\u3060\u3051\u8a18\u9332\u3059\u308b\n#export HISTCONTROL=ignorespace            # \u30b3\u30de\u30f3\u30c9\u306e\u982d\u306b\u30b9\u30da\u30fc\u30b9\u3092\u4ed8\u3051\u3066\u5b9f\u884c\u3059\u308b\u3068\u8a18\u9332\u3057\u306a\u3044\nexport HISTCONTROL=ignoreboth             # ignoredups\u3068ignorespace\u3069\u3061\u3089\u3082\u8a2d\u5b9a\u3059\u308b\nexport HISTTIMEFORMAT='%Y/%m/%d %H:%M:%S' # history\u30b3\u30de\u30f3\u30c9\u3067\u8868\u793a\u3055\u308c\u305f\u969b\u306e\u30b3\u30de\u30f3\u30c9\u5c65\u6b74\u306b\u65e5\u4ed8\u3092\u8ffd\u52a0\n\n# \u6a19\u6e96\u30a8\u30c7\u30a3\u30bf\nexport EDITOR=/usr/bin/vim                # Vim\u3092\u6a19\u6e96\u30a8\u30c7\u30a3\u30bf\u3068\u3057\u3066\u4f7f\u3046\n############################################\n\n\n\n\u304a\u307e\u3051\n\n.screenrc\n# \u73fe\u5728\u306e\u80cc\u666f\u8272\u3067\u6d88\u53bb\u3059\u308b\ndefbce \"on\"\n# \u592a\u5b57\u306b\u306f\u660e\u308b\u3044\u8272\u3092\u4f7f\u3046(^[\u306fvim\u3067C-v ESC\u3067\u5165\u529b\u3059\u308b)\nattrcolor b \"^[\"\n# 256\u8272\u8868\u793a\u8a2d\u5b9a\nterm xterm-256color\n# \u30b9\u30af\u30ed\u30fc\u30eb\u30d0\u30c3\u30d5\u30a1\u306f\u6700\u592710000\u884c\u306b\u3059\u308b\ndefscrollback 10000\n# \u5225\u753b\u9762\u30b5\u30dd\u30fc\u30c8\u3002Vim\u3084less\u4f7f\u3046\u3068\u304d\u306b\u4fbf\u5229\naltscreen on\n# \u30b3\u30de\u30f3\u30c9\u30ad\u30fc\u3092Ctrl+A\u306b\u3059\u308b\nescape ^Aa\n# \u30d3\u30b8\u30e5\u30a2\u30eb\u30d9\u30eb\uff08\u753b\u9762\u5168\u4f53\u304c\u70b9\u6ec5\u3059\u308b\uff09\u3092\u5207\u308b\nvbell off\n# \u30d9\u30eb\u306e\u6642\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\uff08\uff0b\u97f3\uff09\u3092\u51fa\u3059(^G\u306fvim\u3067C-v C-g\u3067\u5165\u529b\u3059\u308b)\n#bell_msg \"Bell in window %^G\"\n# \u7aef\u672b\u304c\u843d\u3061\u305f\u3089\u81ea\u52d5\u7684\u306b\u30c7\u30bf\u30c3\u30c1\u3059\u308b\nautodetach on\n# \u65b0\u3057\u3044\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u751f\u6210\u3059\u308b\u3068\u304d\u306e\u30b3\u30de\u30f3\u30c9\nshell $SHELL\n# \u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6d88\u3059\nstartup_message off\n# \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a1\u30a4\u30eb\u540d\n#logfile \"$HOME/.screen/screen-%Y%m%d-%n.log\"\n# \u6a19\u6e96\u3067\u30ed\u30b0\u3092\u3068\u308b\n#deflog on\n# \u30a6\u30a3\u30f3\u30c9\u30a6\u306e\u30bf\u30a4\u30c8\u30eb\u6307\u5b9a\nshelltitle '$ |bash'\n# \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u6642\u9593(\u79d2\u5358\u4f4d)\nmsgwait 5\n# \u6b21\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u307e\u3067\u306e\u9045\u5ef6\u6642\u9593(\u79d2\u5358\u4f4d)\nmsgminwait 1\n\n# \u30b9\u30c6\u30fc\u30bf\u30b9\u30d0\u30fc\nhardstatus on\nhardstatus alwayslastline '%{= .b}%H%{-} %L=%-w%45L>%{=u b.}%n %t%{-}%+w %-20<%=%y/%m/%d(%D) %02c:%s'\ncaption always '%?%F%{= bw}%:%{= wk}%?%2n%f%07=%t%='\nsorendition '+r .b'\n\n# \u30a8\u30f3\u30b3\u30fc\u30c9\ndefkanji utf-8\ndefencoding utf-8\nencoding utf-8 utf-8\n\n# \u30ad\u30fc\u30d0\u30a4\u30f3\u30c9\nbind b prev\nbind n next\nbind l windowlist\nbind q remove\nbind s split\n\n# Shift+Tab\u3067\u9006\u9806\u306b\u30bf\u30d6\u3092\u79fb\u52d5\nbindkey -k kB focus up\n\n# \u30a6\u30a3\u30f3\u30c9\u30a6\u30ea\u30b5\u30a4\u30ba\u30e2\u30fc\u30c9\nbind e eval 'command -c resize' 'echo \"Resize window\"'\nbind ^e eval 'command -c resize' 'echo \"Resize window\"'\nbind -c resize h eval 'command -c resize' 'resize -h -1'\nbind -c resize l eval 'command -c resize' 'resize -h +1'\nbind -c resize j eval 'command -c resize' 'resize -v +1'\nbind -c resize k eval 'command -c resize' 'resize -v -1'\nbind -c resize ^h eval 'command -c resize' 'resize -h -1'\nbind -c resize ^l eval 'command -c resize' 'resize -h +1'\nbind -c resize ^j eval 'command -c resize' 'resize -v +1'\nbind -c resize ^k eval 'command -c resize' 'resize -v -1'\n\n# screen\u3067\u30a6\u30a3\u30f3\u30c9\u30a6\u30b5\u30a4\u30ba\u3092\u5909\u66f4\u3057\u306a\u3044\ntermcapinfo xterm 'is=\\E[r\\E[m\\E[2J\\E[H\\E[?7h\\E[?1;4;6l'\ntermcapinfo kterm-color 'is=\\E[r\\E[m\\E[2J\\E[H\\E[?7h\\E[?1;4;6l'\ntermcapinfo xterm-256color hs@:is=\\E[r\\E[m\\E[2J\\E[H\\E[?7h\\E[?1;4;6l\\E[?1;4;6l\n\n# \u30ec\u30a4\u30a2\u30a6\u30c8\u30e2\u30fc\u30c9\n# \u4f7f\u3044\u65b9\uff1ahttp://rcmdnk.github.io/blog/2014/02/18/computer-screen-3/\n# \u3053\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5fc5\u8981\u2192https://github.com/rcmdnk/dotfiles/tree/master/.screen\n# Layout command prefix C-q\nbind ^q eval 'command -c layout' 'layout show'\nbind -c layout ^q eval 'command -c layout' 'layout show'\n\n# Make/Remove layout\nbind -c layout c eval 'command -c layout' 'layout new' 'layout show'\nbind -c layout x eval 'command -c layout' 'layout remove' 'layout show'\n\n# Modify title/number\nbind -c layout T colon 'layout title '\nbind -c layout N colon 'layout number '\n\n# Go to Next/Previous layout\nbind -c layout n eval 'layout next' 'layout show'\nbind -c layout p eval 'layout prev' 'layout show'\nbind -c layout ^N eval 'command -c layout' 'layout next' 'layout show'\nbind -c layout ^P eval 'command -c layout' 'layout prev' 'layout show'\n\n# Choose n-th layout\nbind -c layout 0 eval 'command -c layout' 'layout select 0' 'layout show'\nbind -c layout 1 eval 'command -c layout' 'layout select 1' 'layout show'\nbind -c layout 2 eval 'command -c layout' 'layout select 2' 'layout show'\nbind -c layout 3 eval 'command -c layout' 'layout select 3' 'layout show'\nbind -c layout 4 eval 'command -c layout' 'layout select 4' 'layout show'\nbind -c layout 5 eval 'command -c layout' 'layout select 5' 'layout show'\nbind -c layout 6 eval 'command -c layout' 'layout select 6' 'layout show'\nbind -c layout 7 eval 'command -c layout' 'layout select 7' 'layout show'\nbind -c layout 8 eval 'command -c layout' 'layout select 8' 'layout show'\nbind -c layout 9 eval 'command -c layout' 'layout select 9' 'layout show'\n\n# Initialize layouts\nbind -c layout i eval 'screen' 'screen' 'screen' 'source $HOME/.screen/all.layout'\nbind -c layout ^i eval 'screen' 'screen' 'screen' 'source $HOME/.screen/all.layout'\n\n# Reset layouts\nbind -c layout r eval 'source $HOME/.screen/all.layout'\nbind -c layout ^r eval 'source $HOME/.screen/all.layout'\n\n# Set layout\nbind -c layout m eval 'command -c layoutm' 'echo \"0 only, l 4-windows, 2 3-win_1-top, 3 3-win_1-top, 4 monitor (1 top, 3 small bottoms), 5 split, 6 vsplit, \"'\nbind -c layoutm 0 eval 'source $HOME/.screen/only.layout'\nbind -c layoutm 1 eval 'source $HOME/.screen/4-windows.layout'\nbind -c layoutm 2 eval 'source $HOME/.screen/3-win_1-top.layout'\nbind -c layoutm 3 eval 'source $HOME/.screen/3-win_1-left.layout'\nbind -c layoutm 4 eval 'source $HOME/.screen/monitor.layout'\nbind -c layoutm 5 eval 'source $HOME/.screen/split.layout'\nbind -c layoutm 6 eval 'source $HOME/.screen/vsplit.layout'\n\n# Save layout\nbind -c layout s eval 'command -c layouts' 'layout show'\nbind -c layouts 0 eval 'layout save 0' 'echo \"save to 0\"'\nbind -c layouts 1 eval 'layout save 1' 'echo \"save to 1\"'\nbind -c layouts 2 eval 'layout save 2' 'echo \"save to 2\"'\nbind -c layouts 3 eval 'layout save 3' 'echo \"save to 3\"'\nbind -c layouts 4 eval 'layout save 4' 'echo \"save to 4\"'\nbind -c layouts 5 eval 'layout save 5' 'echo \"save to 5\"'\nbind -c layouts 6 eval 'layout save 6' 'echo \"save to 6\"'\nbind -c layouts 7 eval 'layout save 7' 'echo \"save to 7\"'\nbind -c layouts 8 eval 'layout save 8' 'echo \"save to 8\"'\nbind -c layouts 9 eval 'layout save 9' 'echo \"save to 9\"'\n\n\n\n.bash_logout\n# dirs\u306e\u5185\u5bb9\u3092\u4fdd\u5b58\nfunction save_dirs() {\n  if [ $LOGOUT_TAB_FILER_SAVED = \"TRUE\" ] ; then\n    file_name=\"$HOME/.dirs\"\n    if [ ! -f ${file_name} ]; then\n      echo ~ > ${file_name}\n    fi\n    file_size=`wc -c ${file_name} | awk '{print $1}'`\n    if [ ${file_size} -gt 4096 ] ; then\n      sed -i -e '$d' ${file_name}\n    elif [ ${file_size} -eq 0 ] ; then\n      echo ~ > ${file_name}\n    fi\n    sed -i -e \"1i `dirs`\" ${file_name}\n  fi\n}\n\n# \u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u524d\u56de\u306e\u30bf\u30d6\u72b6\u614b\u3092\u4fdd\u5b58\u3059\u308b\n# \u5b9f\u884c\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u306f\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\nsave_dirs\n\n\n\u3088\u304f\u4f7f\u3046\u306e\u306fcds\u3067\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u30b3\u30de\u30f3\u30c9\u3002cdw\u3067\u4fdd\u5b58\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u98db\u3076\u3002\ncdl\u3067cds\u3067\u4fdd\u5b58\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u898b\u308c\u308b\u3002\n\n\u4ed6\u306e\u3067\u3082\u4f7f\u3048\u308b\u3068\u601d\u3046\u3051\u3069\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u306fCentOS 7.0.1406\u3002\n\n# bash\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n```bash:.bashrc\n# .bashrc\n\n############################################\n# \u5171\u901abashrc\u306e\u8aad\u307f\u8fbc\u307f\n############################################\n# Source global definitions\nif [ -f /etc/bashrc ]; then\n        . /etc/bashrc\nfi\n\n############################################\n# PS\u8a2d\u5b9a\n############################################\n# PS\u521d\u671f\u5909\u6570\nPS_USER=\"\\[\\e[33m\\]\\u\\[\\e[0m\\]\"\nPS_HOST=\"\\[\\e[32m\\]\\h\\[\\e[0m\\]\"\nPS_WORK=\"\\[\\e[37;1m\\]\\W\\[\\e[0m\\]\"\nPS_SCREEN=\"\"\nPS_SSH=\"\"\nPS_ATODE=\"\"\nPS_HIST=\"\"\n\n# Partty\u30bb\u30c3\u30b7\u30e7\u30f3\u4e2d\u306a\u3089\u30db\u30b9\u30c8\u540d\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u540d+\"!\"\u306b\u3059\u308b\nif [ -n \"${PARTTY_SESSION}\" ] ; then\n  PS_HOST=\"\\[\\e[32m\\]${PARTTY_SESSION}!\\[\\e[0m\\]\"\nfi\n\n# screen\u3092\u5f35\u3063\u3066\u3044\u308b\u3068\u304d\u306fWINDOW\u756a\u53f7\nif [ -n \"${WINDOW}\" ] ; then\n  PS_SCREEN=\"(\\[\\e[35m\\]${WINDOW}\\[\\e[0m\\])\"\nfi\n\n# SSH\u3067\u7e4b\u3044\u3067\u3044\u308b\u3068\u304d\u306f\u63a5\u7d9a\u5143IP\u3092\u8868\u793a\nif [ -n \"${SSH_CLIENT}\" ] ; then\n#  PS_SSH=\"(\\[\\e[36m\\]`echo ${SSH_CLIENT} | sed 's/ [0-9]\\+ [0-9]\\+$//g'`\\[\\e[0m\\])\"\n  PS_SSH=\"\"\nfi\n\n# atode\u306e\u4ef6\u6570\nif [ -f ~/.atode ]; then\n  PS_ATODE=\"(\\`cat ~/.atode | wc -l\\`)\"\nfi\n\n# \u30d2\u30b9\u30c8\u30ea\u756a\u53f7\u3092\u660e\u308b\u3044\u9752\u3067\n#PS_HIST=\"\\[$(echo -en '\\033[34;1m')\\]\\!\\[$(echo -en '\\033[m')\\]:\"\n\n# \u30d7\u30ed\u30f3\u30d7\u30c8\u8a18\u53f7\u3092\u3001\u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u975e0\u306a\u3089\u8d64\u30010\u306a\u3089\u767d\u3067\nfunction ps_exit()\n{\n    a=$?\n    if [ $a -ne 0 ]; then\n        echo -n \"$(echo -ne '\\033')[31m\";\n    else\n        echo -n \"$(echo -ne '\\033')[m\";\n    fi\n    exit $a;\n}\nPS_EXIT=\"\\[\\$(ps_exit)\\]\\\\$\\[$(echo -ne '\\033')[m\\]\"\n\nexport PS1=\"[${PS_USER}${PS_SCREEN}@${PS_HOST}${PS_SSH}${PS_ATODE} ${PS_HIST}${PS_WORK}]${PS_EXIT} \"\nfunction PS1_su_set() { # su\u3057\u305f\u6642\u306bps_exit\u304c\u8d70\u3089\u306a\u304f\u306a\u308b\u306e\u3067\u5bfe\u5fdc\n  export PS1=\"[${PS_USER}${PS_SCREEN}@${PS_HOST}${PS_SSH}${PS_ATODE} ${PS_HIST}${PS_WORK}]\\$ \"\n}\n# screen\u306e\u6642\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3059\u308b\nif [ -n \"${WINDOW}\" ]; then\n  PS1=${PS1}'\\[\\033k\\W\\033\\\\\\]'\nfi\n############################################\n\n############################################\n# \u30a8\u30a4\u30ea\u30a2\u30b9\n############################################\nalias su=PS1_su_set'; su'\nalias cp='cp -ip'\nalias mv='mv -i'\nalias rm='rm -i'\nalias listusers=\"cut -d: -f1 /etc/passwd\"  # \u30e6\u30fc\u30b6\u540d\u30ea\u30b9\u30c8\u8868\u793a\nalias crontab='crontab -i' \n\nalias awka=\"awk 'NR==1'\"                   # \u6700\u521d\u306e\u884c\u3092\u8868\u793a\u3059\u308b\nalias awke=\"awk 'END{print}'\"              # \u6700\u5f8c\u306e\u884c\u3092\u8868\u793a\u3059\u308b\nalias awkd=\"awk 'NF'\"                      # \u7a7a\u884c\u3092\u524a\u9664\u3059\u308b\nalias awkl=\"awk 'END{print NR}'\"           # \u884c\u6570\u3092\u30ab\u30a6\u30f3\u30c8\u3059\u308b\n\nalias sortuni='sort | uniq -c | sort -nr'  # \u30c7\u30fc\u30bf\u306e\u51fa\u73fe\u8a9e\u3092\u30e9\u30f3\u30ad\u30f3\u30b0\n\nalias vimpr='vim ~/.profile'\nalias vimba='vim ~/.bashrc'\nalias vimrc='vim ~/.vimrc'\nalias vimlo='vim ~/.bash_logout'\nalias vimsc='vim ~/.screenrc'\nalias vimma='vim $MAIL'\nalias soba='source ~/.bashrc'\n\n# pushd\u3092\u30bf\u30d6\u30d5\u30a1\u30a4\u30e9\u30fc\u306e\u3088\u3046\u306a\u4f7f\u3044\u65b9\u3092\u3059\u308b\nexport LOGOUT_TAB_FILER_SAVED=\"TRUE\"        # \u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u6642\u306b\u30bf\u30d6\u306e\u5185\u5bb9\u3092\u4fdd\u5b58\u3059\u308b\nalias tab='dirs'                            # \u30bf\u30d6\u4e00\u89a7\u3092\u8868\u793a\uff08\u4fdd\u5b58\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e00\u89a7\uff09\nalias tabnew='pushd `pwd`'                  # \u30bf\u30d6\u65b0\u898f\u4f5c\u6210\uff08\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4fdd\u5b58\uff09\nalias gt='pushd +1 > /dev/null 2>&1; dirs'  # \u53f3\u306e\u30bf\u30d6\u3078\u79fb\u52d5\uff08\u30bf\u30d6\u4e00\u89a7\u304b\u3089\u898b\u3066\u53f3\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\uff09\nalias gT='gTfunc; dirs'                     # \u5de6\u306e\u30bf\u30d6\u3078\u79fb\u52d5\uff08\u30bf\u30d6\u4e00\u89a7\u304b\u3089\u898b\u3066\u6700\u5f8c\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\uff09\nalias tabc='popd'                           # \u73fe\u5728\u306e\u30bf\u30d6\u3092\u9589\u3058\u308b\uff08\u4fdd\u5b58\u3057\u305f\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664\u3057\u3066\u53f3\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\uff09\nalias tabo='delete_pushd'                   # \u73fe\u5728\u306e\u30bf\u30d6\u4ee5\u5916\u3092\u9589\u3058\u308b\uff08\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u5916\u306e\u4fdd\u5b58\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664\uff09\nalias tabdel='echo ~ > $HOME/.dirs'         # ~/.dirs\u306e\u4e2d\u8eab\u3092\u521d\u671f\u5316\u3059\u308b\nalias tabsave='save_dirs'                   # \u30bf\u30d6\u306e\u5185\u5bb9\u3092\u30bb\u30fc\u30d6\u3059\u308b\nalias tabload='delete_pushd;read_dirs'      # \u30bf\u30d6\u306e\u5185\u5bb9\u3092\u30ed\u30fc\u30c9\u3059\u308b\nalias tabyes='export LOGOUT_TAB_FILER_SAVED=\"TRUE\";echo \u30ed\u30b0\u30a2\u30a6\u30c8\u6642\u306e\u30bf\u30d6\u4fdd\u5b58\u3092\u6709\u52b9' # \u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u6642\u306b\u30bf\u30d6\u5185\u5bb9\u3092\u4fdd\u5b58\u3059\u308b\nalias tabno='export LOGOUT_TAB_FILER_SAVED=\"FALSE\";echo \u30ed\u30b0\u30a2\u30a6\u30c8\u6642\u306e\u30bf\u30d6\u4fdd\u5b58\u3092\u7121\u52b9' # \u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u6642\u306b\u30bf\u30d6\u5185\u5bb9\u3092\u4fdd\u5b58\u3057\u306a\u3044\nfunction tabl(){                            # \u30bf\u30d6\u3092\u6570\u5024\u3092\u6307\u5b9a\u3057\u3066\u79fb\u52d5\n  pushd +0$1\n}\nfunction gTfunc() {\n  lastNum=`dirs -v | awk 'END{print}' | awk '{print substr($0, 1, 3)}'`\n  pushd +\"${lastNum}\"\n}\n\n# \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30b3\u30de\u30f3\u30c9\nalias cdw='pwd; cd /home; pwd'\n# \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u78ba\u8a8d\nalias cdl='alias | grep \"^alias cdw=.*$\" | sed -e \"s/^alias cdw=//\" | sed -e \"s/^.*; cd /cdw\u4fdd\u5b58\u30d1\u30b9\uff1a/\" | sed -e \"s/;.*$//\"'\n\n# \u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3057\u3066cdw\u30b3\u30de\u30f3\u30c9\u306b\u4fdd\u5b58\u3059\u308b\nfunction cds() {\n  sed -i -e \"s|^alias cdw=.*$|alias cdw='pwd; cd `pwd`; pwd'|\" ~/.bashrc\n  alias cdw='pwd; cd '`pwd`'; pwd'\n  echo \u300c`pwd`\u300d\u3092cdw\u30b3\u30de\u30f3\u30c9\u306b\u4fdd\u5b58\n}\n\n# \u6307\u5b9a\u884c\u3092\u8868\u793a\nfunction awkn() {\n  if [ -z $1 ]; then                              # \u884c\u6570\u306e\u6307\u5b9a\u304c\u306a\u3044\u5834\u5408\n    command awk '$0 = NR OFS $0' # \u884c\u756a\u53f7\u3092\u4ed8\u4e0e\u3057\u3066\u8868\u793a\n  elif expr \"$1\" : '^[0-9]*$' > /dev/null ; then  # \u6307\u5b9a\u884c\u306e\u8868\u793a\n    command awk 'NR=='$1''\n  else\n    echo \"$1:\u6570\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\"\n  fi\n}\n\n# \u6307\u5b9a\u3057\u305f\u30ab\u30e9\u30e0\u4f4d\u7f6e\u306e\u5217\u3092\u8868\u793a\u3059\u308b\nfunction csv() {\n  if [ -z $1 ]; then                             # \u30d5\u30a1\u30a4\u30eb\u540d\u306e\u6307\u5b9a\u304c\u306a\u3044\u5834\u5408\n    echo \"\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\"\n  elif [ -z $2 ]; then                           # \u30ab\u30e9\u30e0\u6570\u306e\u6307\u5b9a\u304c\u306a\u3044\u5834\u5408\u306f\u5168\u3066\u3092\u6574\u5f62\u3057\u3066\u8868\u793a\n    command column -s , -t $1\n  elif expr \"$2\" : '^[0-9]*$' > /dev/null ; then # \u30ab\u30e9\u30e0\u6570\u306b\u5fdc\u3058\u305f\u5217\u3092\u8868\u793a\n    command cat $1 | awk 'BEGIN {FS=\",\";OFS=\",\"} {print $'$2'}'\n  else\n    echo \"$2:\u6570\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\"\n  fi\n}\n\n# mysql\u30b5\u30fc\u30d0\u8d77\u52d5\uff0f\u7d42\u4e86\u30b3\u30de\u30f3\u30c9\nfunction mysql_stend() {\n  pcnt=`ps -ef | grep mysqld | grep -v grep | wc -l`\n  if [ $pcnt = 0 ]; then\n    echo \"MySQL\u30b5\u30fc\u30d0\u505c\u6b62\u4e2d\"\n    while :\n    do\n      printf \"\u8d77\u52d5\u3057\u307e\u3059\u304b\uff1f(y/n):\"\n      read input\n      if [ -z \"${input}\" ]; then # \u7a7a\u6b04\u306e\u5834\u5408\u30eb\u30fc\u30d7\u3059\u308b\u305f\u3081\u30c7\u30d5\u30a9\u5024\u3092\u5165\u308c\u308b\n        input=\"c\"\n      fi\n      if [ ${input} = \"y\" ]; then\n        /etc/init.d/mysqld start\n        break\n      elif [ ${input} = \"n\" ]; then\n        break\n      fi\n    done\n  else\n    echo \"MySQL\u30b5\u30fc\u30d0\u8d77\u52d5\u4e2d\"\n    while :\n    do\n      printf \"\u505c\u6b62\u3057\u307e\u3059\u304b\uff1f(y/n):\"\n      read input\n      if [ -z \"${input}\" ]; then # \u7a7a\u6b04\u306e\u5834\u5408\u30eb\u30fc\u30d7\u3059\u308b\u305f\u3081\u30c7\u30d5\u30a9\u5024\u3092\u5165\u308c\u308b\n        input=\"c\"\n      fi\n      if [ ${input} = \"y\" ]; then\n        /etc/init.d/mysqld stop\n        break\n      elif [ ${input} = \"n\" ]; then\n        break\n      fi\n    done\n  fi\n}\n\n# \u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u5916\u306epushd\u3092\u6d88\u3059\nfunction delete_pushd(){\n  now_pwd=`pwd`\n  for d in `dirs`\n  do\n    popd > /dev/null 2>&1\n  done\n  cd $now_pwd > /dev/null 2>&1\n}\n\n# ~/.dirs\u3092\u8aad\u307f\u8fbc\u307f\nfunction read_dirs() {\n  if [ -f ~/.dirs ]; then\n    dirs=`cat ~/.dirs | awk 'NR==1'`\n    pushd_dirs ${dirs}\n  fi\n}\nfunction pushd_dirs() { # \u8aad\u307f\u8fbc\u3093\u3060\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3057\u3066pushd\u3059\u308b\n  now_pwd=`pwd`\n  dirs=()\n  # \u7d76\u5bfe\u30d1\u30b9\u306b\u3057\u305f\u3082\u306e\u3092\u914d\u5217\u306b\u683c\u7d0d\n  for OPT in \"$@\"\n  do\n    after_sed=`echo $1 | sed \"s#~#${HOME}#g\"`\n    dirs+=(\"$after_sed\")\n    shift 1\n  done\n\n  # \u914d\u5217\u306e\u4e2d\u8eab\u3092\u9006\u9806\u306b\u3059\u308b\n  tacdirs=`echo ${dirs[@]} | sed \"s/ /\\n/g\" | tac | tr '\\n' ' '`\n\n  # \u914d\u5217\u5206pushd\u3057\u3066\u3044\u304f\n  for d in $tacdirs\n  do\n    pushd $d > /dev/null 2>&1\n  done\n  lastNum=`dirs -v | awk 'END{print}' | awk '{print substr($0, 1, 3)}'`\n  pushd +\"${lastNum}\" > /dev/null 2>&1\n  popd > /dev/null 2>&1\n}\n\n# \u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u5f8c\u306b\u518d\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u5834\u5408\u524d\u56de\u306e\u30bf\u30d6\u3092\u5fa9\u5143\u3059\u308b\n# \u5b9f\u884c\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u306f\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\nread_dirs\n\n# dirs\u306e\u5185\u5bb9\u3092\u4fdd\u5b58\nfunction save_dirs() {\n  file_name=\"$HOME/.dirs\"\n  if [ ! -f ${file_name} ]; then\n    echo ~ > ${file_name}\n  fi\n  file_size=`wc -c ${file_name} | awk '{print $1}'`\n  if [ ${file_size} -gt 4096 ] ; then\n    sed -i -e '$d' ${file_name}\n  elif [ ${file_size} -eq 0 ] ; then\n    echo ~ > ${file_name}\n  fi\n  sed -i -e \"1i `dirs`\" ${file_name}\n}\n############################################\n\n############################################\n# PATH\u3001export\u8a2d\u5b9a\u306a\u3069\n############################################\n# Ctrl+S\u3092\u7121\u52b9\u306b\u3059\u308b\nstty stop undef\n\n# \u30d1\u30b9\u8a2d\u5b9a\nPATH=/usr/local/java/bin:/usr/local/scala/bin:/usr/local/mysql/bin:$PATH\nexport PATH\n\n# \u30b3\u30de\u30f3\u30c9\u5c65\u6b74\nexport HISTSIZE=100000                    # \u73fe\u5728\u4f7f\u7528\u4e2d\u306ebash\u304c\u4fdd\u6301\u3059\u308b\u30b3\u30de\u30f3\u30c9\u5c65\u6b74\u6570\nexport HISTFILESIZE=100000                # \u5c65\u6b74\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u308b\u5c65\u6b74\u6570\n#export HISTCONTROL=ignoredups             # \u540c\u3058\u30b3\u30de\u30f3\u30c9\u304c\u9023\u7d9a\u3059\u308b\u5834\u5408\u306f1\u56de\u3060\u3051\u8a18\u9332\u3059\u308b\n#export HISTCONTROL=ignorespace            # \u30b3\u30de\u30f3\u30c9\u306e\u982d\u306b\u30b9\u30da\u30fc\u30b9\u3092\u4ed8\u3051\u3066\u5b9f\u884c\u3059\u308b\u3068\u8a18\u9332\u3057\u306a\u3044\nexport HISTCONTROL=ignoreboth             # ignoredups\u3068ignorespace\u3069\u3061\u3089\u3082\u8a2d\u5b9a\u3059\u308b\nexport HISTTIMEFORMAT='%Y/%m/%d %H:%M:%S' # history\u30b3\u30de\u30f3\u30c9\u3067\u8868\u793a\u3055\u308c\u305f\u969b\u306e\u30b3\u30de\u30f3\u30c9\u5c65\u6b74\u306b\u65e5\u4ed8\u3092\u8ffd\u52a0\n\n# \u6a19\u6e96\u30a8\u30c7\u30a3\u30bf\nexport EDITOR=/usr/bin/vim                # Vim\u3092\u6a19\u6e96\u30a8\u30c7\u30a3\u30bf\u3068\u3057\u3066\u4f7f\u3046\n############################################\n```\n\n# \u304a\u307e\u3051\n\n```sh:.screenrc\n# \u73fe\u5728\u306e\u80cc\u666f\u8272\u3067\u6d88\u53bb\u3059\u308b\ndefbce \"on\"\n# \u592a\u5b57\u306b\u306f\u660e\u308b\u3044\u8272\u3092\u4f7f\u3046(^[\u306fvim\u3067C-v ESC\u3067\u5165\u529b\u3059\u308b)\nattrcolor b \"^[\"\n# 256\u8272\u8868\u793a\u8a2d\u5b9a\nterm xterm-256color\n# \u30b9\u30af\u30ed\u30fc\u30eb\u30d0\u30c3\u30d5\u30a1\u306f\u6700\u592710000\u884c\u306b\u3059\u308b\ndefscrollback 10000\n# \u5225\u753b\u9762\u30b5\u30dd\u30fc\u30c8\u3002Vim\u3084less\u4f7f\u3046\u3068\u304d\u306b\u4fbf\u5229\naltscreen on\n# \u30b3\u30de\u30f3\u30c9\u30ad\u30fc\u3092Ctrl+A\u306b\u3059\u308b\nescape ^Aa\n# \u30d3\u30b8\u30e5\u30a2\u30eb\u30d9\u30eb\uff08\u753b\u9762\u5168\u4f53\u304c\u70b9\u6ec5\u3059\u308b\uff09\u3092\u5207\u308b\nvbell off\n# \u30d9\u30eb\u306e\u6642\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\uff08\uff0b\u97f3\uff09\u3092\u51fa\u3059(^G\u306fvim\u3067C-v C-g\u3067\u5165\u529b\u3059\u308b)\n#bell_msg \"Bell in window %^G\"\n# \u7aef\u672b\u304c\u843d\u3061\u305f\u3089\u81ea\u52d5\u7684\u306b\u30c7\u30bf\u30c3\u30c1\u3059\u308b\nautodetach on\n# \u65b0\u3057\u3044\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u751f\u6210\u3059\u308b\u3068\u304d\u306e\u30b3\u30de\u30f3\u30c9\nshell $SHELL\n# \u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6d88\u3059\nstartup_message off\n# \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a1\u30a4\u30eb\u540d\n#logfile \"$HOME/.screen/screen-%Y%m%d-%n.log\"\n# \u6a19\u6e96\u3067\u30ed\u30b0\u3092\u3068\u308b\n#deflog on\n# \u30a6\u30a3\u30f3\u30c9\u30a6\u306e\u30bf\u30a4\u30c8\u30eb\u6307\u5b9a\nshelltitle '$ |bash'\n# \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u6642\u9593(\u79d2\u5358\u4f4d)\nmsgwait 5\n# \u6b21\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u307e\u3067\u306e\u9045\u5ef6\u6642\u9593(\u79d2\u5358\u4f4d)\nmsgminwait 1\n\n# \u30b9\u30c6\u30fc\u30bf\u30b9\u30d0\u30fc\nhardstatus on\nhardstatus alwayslastline '%{= .b}%H%{-} %L=%-w%45L>%{=u b.}%n %t%{-}%+w %-20<%=%y/%m/%d(%D) %02c:%s'\ncaption always '%?%F%{= bw}%:%{= wk}%?%2n%f%07=%t%='\nsorendition '+r .b'\n\n# \u30a8\u30f3\u30b3\u30fc\u30c9\ndefkanji utf-8\ndefencoding utf-8\nencoding utf-8 utf-8\n\n# \u30ad\u30fc\u30d0\u30a4\u30f3\u30c9\nbind b prev\nbind n next\nbind l windowlist\nbind q remove\nbind s split\n\n# Shift+Tab\u3067\u9006\u9806\u306b\u30bf\u30d6\u3092\u79fb\u52d5\nbindkey -k kB focus up\n\n# \u30a6\u30a3\u30f3\u30c9\u30a6\u30ea\u30b5\u30a4\u30ba\u30e2\u30fc\u30c9\nbind e eval 'command -c resize' 'echo \"Resize window\"'\nbind ^e eval 'command -c resize' 'echo \"Resize window\"'\nbind -c resize h eval 'command -c resize' 'resize -h -1'\nbind -c resize l eval 'command -c resize' 'resize -h +1'\nbind -c resize j eval 'command -c resize' 'resize -v +1'\nbind -c resize k eval 'command -c resize' 'resize -v -1'\nbind -c resize ^h eval 'command -c resize' 'resize -h -1'\nbind -c resize ^l eval 'command -c resize' 'resize -h +1'\nbind -c resize ^j eval 'command -c resize' 'resize -v +1'\nbind -c resize ^k eval 'command -c resize' 'resize -v -1'\n\n# screen\u3067\u30a6\u30a3\u30f3\u30c9\u30a6\u30b5\u30a4\u30ba\u3092\u5909\u66f4\u3057\u306a\u3044\ntermcapinfo xterm 'is=\\E[r\\E[m\\E[2J\\E[H\\E[?7h\\E[?1;4;6l'\ntermcapinfo kterm-color 'is=\\E[r\\E[m\\E[2J\\E[H\\E[?7h\\E[?1;4;6l'\ntermcapinfo xterm-256color hs@:is=\\E[r\\E[m\\E[2J\\E[H\\E[?7h\\E[?1;4;6l\\E[?1;4;6l\n\n# \u30ec\u30a4\u30a2\u30a6\u30c8\u30e2\u30fc\u30c9\n# \u4f7f\u3044\u65b9\uff1ahttp://rcmdnk.github.io/blog/2014/02/18/computer-screen-3/\n# \u3053\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5fc5\u8981\u2192https://github.com/rcmdnk/dotfiles/tree/master/.screen\n# Layout command prefix C-q\nbind ^q eval 'command -c layout' 'layout show'\nbind -c layout ^q eval 'command -c layout' 'layout show'\n\n# Make/Remove layout\nbind -c layout c eval 'command -c layout' 'layout new' 'layout show'\nbind -c layout x eval 'command -c layout' 'layout remove' 'layout show'\n\n# Modify title/number\nbind -c layout T colon 'layout title '\nbind -c layout N colon 'layout number '\n\n# Go to Next/Previous layout\nbind -c layout n eval 'layout next' 'layout show'\nbind -c layout p eval 'layout prev' 'layout show'\nbind -c layout ^N eval 'command -c layout' 'layout next' 'layout show'\nbind -c layout ^P eval 'command -c layout' 'layout prev' 'layout show'\n\n# Choose n-th layout\nbind -c layout 0 eval 'command -c layout' 'layout select 0' 'layout show'\nbind -c layout 1 eval 'command -c layout' 'layout select 1' 'layout show'\nbind -c layout 2 eval 'command -c layout' 'layout select 2' 'layout show'\nbind -c layout 3 eval 'command -c layout' 'layout select 3' 'layout show'\nbind -c layout 4 eval 'command -c layout' 'layout select 4' 'layout show'\nbind -c layout 5 eval 'command -c layout' 'layout select 5' 'layout show'\nbind -c layout 6 eval 'command -c layout' 'layout select 6' 'layout show'\nbind -c layout 7 eval 'command -c layout' 'layout select 7' 'layout show'\nbind -c layout 8 eval 'command -c layout' 'layout select 8' 'layout show'\nbind -c layout 9 eval 'command -c layout' 'layout select 9' 'layout show'\n\n# Initialize layouts\nbind -c layout i eval 'screen' 'screen' 'screen' 'source $HOME/.screen/all.layout'\nbind -c layout ^i eval 'screen' 'screen' 'screen' 'source $HOME/.screen/all.layout'\n\n# Reset layouts\nbind -c layout r eval 'source $HOME/.screen/all.layout'\nbind -c layout ^r eval 'source $HOME/.screen/all.layout'\n\n# Set layout\nbind -c layout m eval 'command -c layoutm' 'echo \"0 only, l 4-windows, 2 3-win_1-top, 3 3-win_1-top, 4 monitor (1 top, 3 small bottoms), 5 split, 6 vsplit, \"'\nbind -c layoutm 0 eval 'source $HOME/.screen/only.layout'\nbind -c layoutm 1 eval 'source $HOME/.screen/4-windows.layout'\nbind -c layoutm 2 eval 'source $HOME/.screen/3-win_1-top.layout'\nbind -c layoutm 3 eval 'source $HOME/.screen/3-win_1-left.layout'\nbind -c layoutm 4 eval 'source $HOME/.screen/monitor.layout'\nbind -c layoutm 5 eval 'source $HOME/.screen/split.layout'\nbind -c layoutm 6 eval 'source $HOME/.screen/vsplit.layout'\n\n# Save layout\nbind -c layout s eval 'command -c layouts' 'layout show'\nbind -c layouts 0 eval 'layout save 0' 'echo \"save to 0\"'\nbind -c layouts 1 eval 'layout save 1' 'echo \"save to 1\"'\nbind -c layouts 2 eval 'layout save 2' 'echo \"save to 2\"'\nbind -c layouts 3 eval 'layout save 3' 'echo \"save to 3\"'\nbind -c layouts 4 eval 'layout save 4' 'echo \"save to 4\"'\nbind -c layouts 5 eval 'layout save 5' 'echo \"save to 5\"'\nbind -c layouts 6 eval 'layout save 6' 'echo \"save to 6\"'\nbind -c layouts 7 eval 'layout save 7' 'echo \"save to 7\"'\nbind -c layouts 8 eval 'layout save 8' 'echo \"save to 8\"'\nbind -c layouts 9 eval 'layout save 9' 'echo \"save to 9\"'\n```\n\n```sh:.bash_logout\n# dirs\u306e\u5185\u5bb9\u3092\u4fdd\u5b58\nfunction save_dirs() {\n  if [ $LOGOUT_TAB_FILER_SAVED = \"TRUE\" ] ; then\n    file_name=\"$HOME/.dirs\"\n    if [ ! -f ${file_name} ]; then\n      echo ~ > ${file_name}\n    fi\n    file_size=`wc -c ${file_name} | awk '{print $1}'`\n    if [ ${file_size} -gt 4096 ] ; then\n      sed -i -e '$d' ${file_name}\n    elif [ ${file_size} -eq 0 ] ; then\n      echo ~ > ${file_name}\n    fi\n    sed -i -e \"1i `dirs`\" ${file_name}\n  fi\n}\n\n# \u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u524d\u56de\u306e\u30bf\u30d6\u72b6\u614b\u3092\u4fdd\u5b58\u3059\u308b\n# \u5b9f\u884c\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u306f\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\nsave_dirs\n```\n"}