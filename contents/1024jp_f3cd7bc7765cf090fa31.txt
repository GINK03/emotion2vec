{"context": " More than 1 year has passed since last update.\u306a\u3093\u304b\u3001\u30cd\u30c3\u30c8\u3067\u63a2\u3059\u3068\u8272\u3005\u7686\u3055\u3093\u5de5\u592b\u3057\u3066\u8272\u3005\u66f8\u3044\u3066\u308b\u3093\u3060\u3051\u3069\u3001\u714e\u3058\u8a70\u3081\u308b\u3068\u3053\u308c\u3060\u3051\u3067\u826f\u3044\u6c17\u304c\u3059\u308b\u3002\nconstrainBoundsRect: \u306f OS X 10.9 \u304b\u3089\u306a\u306e\u3067\u3001\u305d\u308c\u4ee5\u524d\u306b\u5bfe\u5fdc\u3059\u308b\u5834\u5408\u306f deprecated \u306a constrainScrollPoint: \u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308c\u3070\u826f\u3044\u3002\n\nMyCenteringClipView.h\n#import <Cocoa/Cocoa.h>\n\n@interface MyCenteringClipView : NSClipView\n@end\n\n\n\nMyCenteringClipView.m\n#import \"MyCenteringClipView.h\"\n\n@implementation MyCenteringClipView\n\n- (NSRect)constrainBoundsRect:(NSRect)proposedBounds\n{\n    NSRect documentBounds = [[self documentView] bounds];\n    NSPoint delta         = NSMakePoint(NSWidth(documentBounds)  - NSWidth(proposedBounds),\n                                        NSHeight(documentBounds) - NSHeight(proposedBounds));\n\n    CGFloat x = (delta.x < 0) ? (delta.x / 2) : MAX(0, MIN(proposedBounds.origin.x, delta.x));\n    CGFloat y = (delta.y < 0) ? (delta.y / 2) : MAX(0, MIN(proposedBounds.origin.y, delta.y));\n    proposedBounds.origin = NSMakePoint(floor(x), floor(y));\n\n    return proposedBounds;\n}\n\n@end\n\n\n\u3061\u306a\u3001documentView\u306f intrinsicContentSize \u3067\u81ea\u5206\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u3002\n\u624b\u5143\u3067\u8a66\u3057\u3066\u308b\u9650\u308a\u3067\u306f\u3001\u3053\u308c\u3060\u3051\u3067\u3061\u3083\u3093\u3068\u52d5\u3044\u3066\u308b\u3002\n\n\u306a\u3093\u304b\u3001\u30cd\u30c3\u30c8\u3067\u63a2\u3059\u3068\u8272\u3005\u7686\u3055\u3093\u5de5\u592b\u3057\u3066\u8272\u3005\u66f8\u3044\u3066\u308b\u3093\u3060\u3051\u3069\u3001\u714e\u3058\u8a70\u3081\u308b\u3068\u3053\u308c\u3060\u3051\u3067\u826f\u3044\u6c17\u304c\u3059\u308b\u3002\n\n`constrainBoundsRect:` \u306f OS X 10.9 \u304b\u3089\u306a\u306e\u3067\u3001\u305d\u308c\u4ee5\u524d\u306b\u5bfe\u5fdc\u3059\u308b\u5834\u5408\u306f deprecated \u306a `constrainScrollPoint:` \u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308c\u3070\u826f\u3044\u3002\n\n\n```objc:MyCenteringClipView.h\n#import <Cocoa/Cocoa.h>\n\n@interface MyCenteringClipView : NSClipView\n@end\n```\n```objc:MyCenteringClipView.m\n#import \"MyCenteringClipView.h\"\n\n@implementation MyCenteringClipView\n\n- (NSRect)constrainBoundsRect:(NSRect)proposedBounds\n{\n    NSRect documentBounds = [[self documentView] bounds];\n    NSPoint delta         = NSMakePoint(NSWidth(documentBounds)  - NSWidth(proposedBounds),\n                                        NSHeight(documentBounds) - NSHeight(proposedBounds));\n    \n    CGFloat x = (delta.x < 0) ? (delta.x / 2) : MAX(0, MIN(proposedBounds.origin.x, delta.x));\n    CGFloat y = (delta.y < 0) ? (delta.y / 2) : MAX(0, MIN(proposedBounds.origin.y, delta.y));\n    proposedBounds.origin = NSMakePoint(floor(x), floor(y));\n    \n    return proposedBounds;\n}\n\n@end\n```\n\n\u3061\u306a\u3001documentView\u306f `intrinsicContentSize` \u3067\u81ea\u5206\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u3002\n\n\u624b\u5143\u3067\u8a66\u3057\u3066\u308b\u9650\u308a\u3067\u306f\u3001\u3053\u308c\u3060\u3051\u3067\u3061\u3083\u3093\u3068\u52d5\u3044\u3066\u308b\u3002\n", "tags": ["Objective-C", "Cocoa"]}