{"context": " More than 1 year has passed since last update.\u4ee5\u524d\u3001AngularJs \u2715 Firebase\u3067\u7206\u901f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\u3068\u3044\u3046\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u304c\u3001\n\u4eca\u56de\u306f\u753b\u50cf\u3092\u3055\u304f\u3063\u3068\u3069\u3053\u304b\u306b\u3042\u3052\u3066\u5229\u7528\u3057\u305f\u3044\u6642\u3001firebase\u3092\u4f7f\u3048\u3070\u30015\u5206\u3067\u74b0\u5883\u304c\u51fa\u6765\u307e\u3059\u3002\nS3\u3001Parse\u306e\u5229\u7528\u3092\u691c\u8a0e\u3057\u307e\u3057\u305f\u304c\u3001\n\n \u7121\u6599\nAPI\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u308f\u304b\u308a\u3084\u3059\u3044\uff08Parse\u306f\u30d5\u30a1\u30a4\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304c20GB\u3060\u304c\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u308f\u304b\u308a\u306b\u304f\u3044\uff09\n\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30c7\u30fc\u30bf\u540c\u671f\u3057\u3084\u3059\u3044\n\n\u4e0a\u8a18\u306e\u70b9\u3067AngularJs\u00d7Firebase\u3092\u63a1\u7528\u3002\u306a\u3093\u3068\u3044\u3063\u3066\u3082\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30c7\u30fc\u30bf\u540c\u671f\u304c\u9b45\u529b\u7684\u3002\n\u203bMilkcocoa\u306f\u691c\u8a0e\u3057\u3066\u307e\u305b\u3093w\n\nFirebase\u3068\u306f\n\u3044\u308f\u3086\u308b\u30e2\u30d0\u30a4\u30ebBass\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3001\u30e2\u30d0\u30a4\u30eb\u30fb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u767a\u8005\u5411\u3051\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u306a\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\u4e00\u5b9a\u306e\u8ee2\u9001\u91cf\u3001\u63a5\u7d9a\u6570\u3001\u5bb9\u91cf\u306f\u7121\u6599\u3067\u3001\u30af\u30ec\u30b8\u30c3\u30c8\u306a\u3057\u3067\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\n\u30b9\u30c8\u30ec\u30fc\u30b81GB\u307e\u3067\u7121\u6599\u306a\u306e\u3067\u3001\u307e\u3041\u554f\u984c\u306a\u3044\u30ec\u30d9\u30eb\u3002\n\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306f\u7121\u6599\u30d7\u30e9\u30f3\u3067\u306f\u53d6\u308c\u307e\u305b\u3093\u3002\nhttps://www.firebase.com/\n\nAngularFire\n\u305d\u3057\u3066\u3001AngularJs\u304b\u3089Firebase\u3092\u5229\u7528\u3067\u304d\u308b\u3001\nAngularFire\u3068\u3044\u3046API\u3082\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\n\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u5fc5\u8981\u3082\u3001\u30b5\u30fc\u30d0\u3082\u5fc5\u8981\u306a\u304f\u3001\n\u5fc5\u8981\u306a\u4f5c\u696d\u306b\u96c6\u4e2d\u3067\u304d\u307e\u3059\u3002\nAngularFire\u306eAPI\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\nAngularjs\u306e\u30e2\u30c7\u30eb\u304c\u81ea\u52d5\u7684\u306b\u540c\u671f\u3055\u308c\u3001Firebase\u4e0a\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u3067html\u5074\u3067\u306eview, Angularjs\u3067\u306emodel, firebase\u3067\u30b9\u30c8\u30a2\u3055\u308c\u305fjson\u306e\u30c7\u30fc\u30bf\u306e3way\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\nangular-file-upload\nFlash\u306b\u3088\u308bFileAPI\u4ee3\u66ff\u3092\u63d0\u4f9b\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\nHTML5\u306eFileAPI\u3092\u5229\u7528,HTML5\u306eFileAPI\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u30d6\u30e9\u30a6\u30b6\uff08IE8\u3001IE9\u306a\u3069\uff09\u306b\u306fFlash\u3092\u5229\u7528\u3057\u3066\u540c\u7b49\u306e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3002\n\u4eca\u56de\u306fbase64\u30c7\u30fc\u30bf\u306eURL\u751f\u6210\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb:\u753b\u50cf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30a2\u30d7\u30ea\n\nindex.html\n<script src=\"https://gist.github.com/manchan/0d8597b1ac131d1b1f16.js\"></script>\n<noscript><pre><code>\n\nFile: index.html\n-------------------------\n\n\n\n<!doctype html>\n<html>\n<head>\n<!-- AngularJS -->\n<script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular.min.js\"></script>\n<!-- Firebase -->\n<script src=\"https://cdn.firebase.com/js/client/2.3.0/firebase.js\"></script>\n<!-- AngularFire -->\n<script src=\"https://cdn.firebase.com/libs/angularfire/1.1.3/angularfire.min.js\"></script>\n<!-- Angular-file-upload -->\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/danialfarid-angular-file-upload/10.1.0/ng-file-upload.js\"></script>\n<style type=\"text/css\">\n    .thumb {width: 24px;height: 24px;float: none;position: relative;top: 7px;}\n    form .progress {line-height: 15px;}\n    .progress {display: inline-block;width: 100px;border: 3px groove #CCC;}\n    .progress div {font-size: smaller;background: orange;width: 0;}\n    ol, ul{list-style:none;}\n    #content #photo{position: relative;overflow: hidden;}\n    #content #photo ul{position: relative;left: 50%;float: left;}\n    #content #photo li{position: relative;left: -50%;float: left;}\n    #content #photo .r20{margin-left:20px;}\n    #content #photo li img {width: 420px;height: 420px;}\n</style>\n</head>\n<body>\n<div>\n    <h1>AngularJs practice</h1>\n    <body ng-app=\"fileUpload\" ng-controller=\"MyCtrl\">\n    <form name=\"myForm\">\n        <fieldset>\n            <legend>Upload on form submit</legend>\n            Title:\n            <input type=\"text\" name=\"userName\" ng-model=\"username\" size=\"31\" required>\n            <i ng-show=\"myForm.userName.$error.required\">*required</i>\n            <br>Photo:\n            <input type=\"file\" ngf-select ng-model=\"picFile\" name=\"file\"\n                   accept=\"image/*\" ngf-max-size=\"2MB\" required>\n            <i ng-show=\"myForm.file.$error.required\">*required</i><br>\n            <i ng-show=\"myForm.file.$error.maxSize\">File too large \n          {{picFile.size / 1000000|number:1}}MB: max {{picFile.$errorParam}}</i>\n                    <img ng-show=\"myForm.file.$valid\" ngf-thumbnail=\"picFile\" class=\"thumb\"> <button ng-click=\"picFile = null\" ng-show=\"picFile\">Remove</button>\n            <br>\n            <button ng-disabled=\"!myForm.$valid\"\n                    ng-click=\"uploadPic(picFile)\">Submit</button>\n            <span ng-show=\"picFile.result\">Upload Successful</span>\n            <span class=\"err\" ng-show=\"errorMsg\">{{errorMsg}}</span>\n        </fieldset>\n        <br>\n    </form>\n    <div id=\"content\">\n        <h2>photo</h2>\n        <div id=\"photo\">\n            <button type=\"button\" class=\"btn btn-danger\" ng-click=\"image_all_remove()\">All Remove</button>\n            <ul>\n                <li ng-repeat=\"img in images | orderBy:'-submitDate'\">\n                    <p>{{img.$key}}:{{img.submitDate}}</p>\n                    <img src=\"{{img.images}}\" alt=\"\" width=\"{{img.width}}\" height=\"{{img.height}}\"/>\n                </li>\n            </ul>\n        </div>\n    </div>\n    </body>\n    <script type=\"text/javascript\">\n    // \u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066firebase\u3001ngFileUpload\u3092\u767b\u9332   \n    var app = angular.module('fileUpload', ['ngFileUpload', 'firebase']);\n    app.controller('MyCtrl', ['$scope','$firebase','$firebaseArray', 'Upload', '$timeout', function ($scope,$firebase, $firebaseArray, Upload, $timeout) {\n\n        // \"https://<your-firebase>.firebaseio.com/\"\n        var fb = new Firebase(\"https://<your-firebase>.firebaseio.com/\");\n        var ref = fb.child(\"images\").orderByChild(\"submitDate\");        \n        var sync = $firebaseArray(ref);\n        var syncArray = $firebaseArray(fb.child(\"images\"));\n        // \u30b9\u30c8\u30a2\u3055\u308c\u305fjson object\u3092model\u306b\u30d0\u30a4\u30f3\u30c9\n        $scope.images = sync\n        $scope.uploadPic = function(file) {\n            var title = $scope.username;\n            var submitDate = new Date().toISOString();\n            var images =  Upload.base64DataUrl(file).then(function(base64Urls){\n\n                  $timeout(function () {\n                    file.result = base64Urls.data;\n                  });\n\n                // \u540c\u671f\u914d\u5217\u306bArray.push\n                syncArray.$add({\n                    title:     title,\n                    images : base64Urls,\n                    submitDate: submitDate\n                })\n                .then(function(error) {\n                    if (error) {\n                            console.log(\"Error:\",error);\n                        } else {\n                            console.log(\"Post set successfully!\");\n                        }\n                    });\n            });\n        };\n        // \u753b\u50cf\u5168\u524a\u9664\n        $scope.image_all_remove = function(){\n            angular.forEach($scope.images, function(img, i){\n                var row = $scope.images.$getRecord($scope.images[i].$id);\n                $scope.images.$remove(row);\n            });\n        };\n    }]);    \n    </script>\n</div>\n</body>\n</html>\n\n</code></pre></noscript>\n\n\n\u308f\u305a\u304b110\u884c\u3067\u7c21\u5358\u30a4\u30e1\u30fc\u30b8\u30b9\u30c8\u30a2\u30a2\u30d7\u30ea\u304c\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\nvar ref = new Firebase(\"https://<your-firebase>.firebaseio.com/\");\n\n\u4e0a\u8a18\u306e\u7b87\u6240\u3092firebase\u306b\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u3066\u3001URL\u3092\u66f8\u304d\u63db\u3048\u308b\u3060\u3051\u3067\u3059\u3050\u4f7f\u3048\u307e\u3059\u3002\n\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u306f\u3053\u3061\u3089\u304b\u3089\nhttps://www.firebase.com/login/\n\n\u203b\u6ce8\u610f\n\u7121\u6599\u30d7\u30e9\u30f3\u3067\u30b9\u30c8\u30ec\u30fc\u30b8\u306f1GB\u307e\u3067\u3067\u3059\u3002\n\nFirebase\u306b\u30b9\u30c8\u30a2\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306bindex\u3092\u306f\u308b\u65b9\u6cd5\n\u8a2d\u5b9a\u3067\u3001json\u5f62\u5f0f\u3067key,rules\u306e\u4e2d\u306b.indexOn\u3092\u8a18\u8ff0\u3059\u308b\u3060\u3051\n\u8a73\u7d30\u306f\u3053\u3061\u3089\nhttps://www.firebase.com/docs/security/guide/indexing-data.html\n\nFirebase\u306b\u30b9\u30c8\u30a2\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306b\u95a2\u3057\u3066\njson\u3067\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30eb\u30fc\u30eb\u306e\u8a2d\u5b9a\u304c\u53ef\u80fd\u3002\n\u8a8d\u8a3c\u3055\u308c\u305f\u30e6\u30fc\u30b6\u304c\u3069\u306e\u3088\u3046\u306b\u30c7\u30fc\u30bf\u3092\u5909\u66f4\u3067\u304d\u308b\u304b\u3092\u6c7a\u3081\u308b\u3002\n\u30c7\u30fc\u30bf\u306e\u8ee2\u9001\u306fSSL\u7d4c\u7531\u3002\n\u3055\u3089\u306a\u308b\u8a73\u7d30\u306f\u3053\u3061\u3089\nhttps://www.firebase.com/docs/security/\n\nAngularFire\u306e\u4f7f\u7528\u30a2\u30d7\u30ea\n\u597d\u304d\u306a\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u306e\u97f3\u697d\u3092\u30e9\u30f3\u30ad\u30f3\u30b0\u9806\u306e\u8074\u304f\u3053\u3068\u304c\u3067\u304d\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002\nRecent\u306e\u7b87\u6240\u3092firebase\u3067\u30b9\u30c8\u30a2\u3057\u3066\u3044\u307e\u3059\u3002\nLamusica\nhttp://manchan.github.io/lamusica/\ngithub\u306f\u3053\u3061\u3089\nhttps://github.com/manchan/lamusica\n\nAngularFire\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u3053\u3061\u3089\nhttps://www.firebase.com/docs/web/libraries/angular/index.html\n\nng-file-upload\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u3053\u3061\u3089\nhttps://github.com/danialfarid/ng-file-upload\n\n\u304a\u308f\u308a\u306b\n5\u5206\u306f\u9577\u3059\u304e\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n\u4ee5\u524d\u3001[AngularJs \u2715 Firebase\u3067\u7206\u901f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u6210](http://qiita.com/you_matz/items/0794129893f9eefc24fd)\u3068\u3044\u3046\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u304c\u3001\n\u4eca\u56de\u306f\u753b\u50cf\u3092\u3055\u304f\u3063\u3068\u3069\u3053\u304b\u306b\u3042\u3052\u3066\u5229\u7528\u3057\u305f\u3044\u6642\u3001firebase\u3092\u4f7f\u3048\u3070\u30015\u5206\u3067\u74b0\u5883\u304c\u51fa\u6765\u307e\u3059\u3002\n\nS3\u3001Parse\u306e\u5229\u7528\u3092\u691c\u8a0e\u3057\u307e\u3057\u305f\u304c\u3001\n\n-  \u7121\u6599\n- API\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u308f\u304b\u308a\u3084\u3059\u3044\uff08Parse\u306f\u30d5\u30a1\u30a4\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304c20GB\u3060\u304c\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u308f\u304b\u308a\u306b\u304f\u3044\uff09\n- \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30c7\u30fc\u30bf\u540c\u671f\u3057\u3084\u3059\u3044\n\n\u4e0a\u8a18\u306e\u70b9\u3067AngularJs\u00d7Firebase\u3092\u63a1\u7528\u3002\u306a\u3093\u3068\u3044\u3063\u3066\u3082\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30c7\u30fc\u30bf\u540c\u671f\u304c\u9b45\u529b\u7684\u3002\n\n\u203bMilkcocoa\u306f\u691c\u8a0e\u3057\u3066\u307e\u305b\u3093w\n\n\n\n\n##Firebase\u3068\u306f\n\u3044\u308f\u3086\u308b\u30e2\u30d0\u30a4\u30ebBass\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3001\u30e2\u30d0\u30a4\u30eb\u30fb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u767a\u8005\u5411\u3051\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u306a\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\u4e00\u5b9a\u306e\u8ee2\u9001\u91cf\u3001\u63a5\u7d9a\u6570\u3001\u5bb9\u91cf\u306f\u7121\u6599\u3067\u3001\u30af\u30ec\u30b8\u30c3\u30c8\u306a\u3057\u3067\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\n\n\u30b9\u30c8\u30ec\u30fc\u30b81GB\u307e\u3067\u7121\u6599\u306a\u306e\u3067\u3001\u307e\u3041\u554f\u984c\u306a\u3044\u30ec\u30d9\u30eb\u3002\n\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306f\u7121\u6599\u30d7\u30e9\u30f3\u3067\u306f\u53d6\u308c\u307e\u305b\u3093\u3002\nhttps://www.firebase.com/\n\n\n##AngularFire\n\u305d\u3057\u3066\u3001AngularJs\u304b\u3089Firebase\u3092\u5229\u7528\u3067\u304d\u308b\u3001\nAngularFire\u3068\u3044\u3046API\u3082\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\n\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u5fc5\u8981\u3082\u3001\u30b5\u30fc\u30d0\u3082\u5fc5\u8981\u306a\u304f\u3001\n\u5fc5\u8981\u306a\u4f5c\u696d\u306b\u96c6\u4e2d\u3067\u304d\u307e\u3059\u3002\n\nAngularFire\u306eAPI\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\nAngularjs\u306e\u30e2\u30c7\u30eb\u304c\u81ea\u52d5\u7684\u306b\u540c\u671f\u3055\u308c\u3001Firebase\u4e0a\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u3067html\u5074\u3067\u306eview, Angularjs\u3067\u306emodel, firebase\u3067\u30b9\u30c8\u30a2\u3055\u308c\u305fjson\u306e\u30c7\u30fc\u30bf\u306e3way\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\n\n##angular-file-upload\nFlash\u306b\u3088\u308bFileAPI\u4ee3\u66ff\u3092\u63d0\u4f9b\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\nHTML5\u306eFileAPI\u3092\u5229\u7528,HTML5\u306eFileAPI\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u30d6\u30e9\u30a6\u30b6\uff08IE8\u3001IE9\u306a\u3069\uff09\u306b\u306fFlash\u3092\u5229\u7528\u3057\u3066\u540c\u7b49\u306e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3002\n\u4eca\u56de\u306fbase64\u30c7\u30fc\u30bf\u306eURL\u751f\u6210\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n##\u30b5\u30f3\u30d7\u30eb:\u753b\u50cf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30a2\u30d7\u30ea\n```index.html\n<script src=\"https://gist.github.com/manchan/0d8597b1ac131d1b1f16.js\"></script>\n<noscript><pre><code>\n\nFile: index.html\n-------------------------\n\n\n\n<!doctype html>\n<html>\n<head>\n<!-- AngularJS -->\n<script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular.min.js\"></script>\n<!-- Firebase -->\n<script src=\"https://cdn.firebase.com/js/client/2.3.0/firebase.js\"></script>\n<!-- AngularFire -->\n<script src=\"https://cdn.firebase.com/libs/angularfire/1.1.3/angularfire.min.js\"></script>\n<!-- Angular-file-upload -->\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/danialfarid-angular-file-upload/10.1.0/ng-file-upload.js\"></script>\n<style type=\"text/css\">\n\t.thumb {width: 24px;height: 24px;float: none;position: relative;top: 7px;}\n\tform .progress {line-height: 15px;}\n\t.progress {display: inline-block;width: 100px;border: 3px groove #CCC;}\n\t.progress div {font-size: smaller;background: orange;width: 0;}\n\tol, ul{list-style:none;}\n\t#content #photo{position: relative;overflow: hidden;}\n\t#content #photo ul{position: relative;left: 50%;float: left;}\n\t#content #photo li{position: relative;left: -50%;float: left;}\n\t#content #photo .r20{margin-left:20px;}\n\t#content #photo li img {width: 420px;height: 420px;}\n</style>\n</head>\n<body>\n<div>\n\t<h1>AngularJs practice</h1>\n\t<body ng-app=\"fileUpload\" ng-controller=\"MyCtrl\">\n\t<form name=\"myForm\">\n\t\t<fieldset>\n\t\t\t<legend>Upload on form submit</legend>\n\t\t\tTitle:\n\t\t\t<input type=\"text\" name=\"userName\" ng-model=\"username\" size=\"31\" required>\n\t\t\t<i ng-show=\"myForm.userName.$error.required\">*required</i>\n\t\t\t<br>Photo:\n\t\t\t<input type=\"file\" ngf-select ng-model=\"picFile\" name=\"file\"\n\t\t\t\t   accept=\"image/*\" ngf-max-size=\"2MB\" required>\n\t\t\t<i ng-show=\"myForm.file.$error.required\">*required</i><br>\n\t\t\t<i ng-show=\"myForm.file.$error.maxSize\">File too large \n          {{picFile.size / 1000000|number:1}}MB: max {{picFile.$errorParam}}</i>\n          \t\t\t<img ng-show=\"myForm.file.$valid\" ngf-thumbnail=\"picFile\" class=\"thumb\"> <button ng-click=\"picFile = null\" ng-show=\"picFile\">Remove</button>\n\t\t\t<br>\n\t\t\t<button ng-disabled=\"!myForm.$valid\"\n\t\t\t\t\tng-click=\"uploadPic(picFile)\">Submit</button>\n\t\t\t<span ng-show=\"picFile.result\">Upload Successful</span>\n\t\t\t<span class=\"err\" ng-show=\"errorMsg\">{{errorMsg}}</span>\n\t\t</fieldset>\n\t\t<br>\n\t</form>\n\t<div id=\"content\">\n\t\t<h2>photo</h2>\n\t\t<div id=\"photo\">\n\t\t\t<button type=\"button\" class=\"btn btn-danger\" ng-click=\"image_all_remove()\">All Remove</button>\n\t\t\t<ul>\n\t\t\t\t<li ng-repeat=\"img in images | orderBy:'-submitDate'\">\n\t\t\t\t\t<p>{{img.$key}}:{{img.submitDate}}</p>\n\t\t\t\t\t<img src=\"{{img.images}}\" alt=\"\" width=\"{{img.width}}\" height=\"{{img.height}}\"/>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\t</body>\n\t<script type=\"text/javascript\">\n\t// \u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066firebase\u3001ngFileUpload\u3092\u767b\u9332\t\n\tvar app = angular.module('fileUpload', ['ngFileUpload', 'firebase']);\n\tapp.controller('MyCtrl', ['$scope','$firebase','$firebaseArray', 'Upload', '$timeout', function ($scope,$firebase, $firebaseArray, Upload, $timeout) {\n\n\t\t// \"https://<your-firebase>.firebaseio.com/\"\n\t\tvar fb = new Firebase(\"https://<your-firebase>.firebaseio.com/\");\n\t\tvar ref = fb.child(\"images\").orderByChild(\"submitDate\");\t\t\n\t\tvar sync = $firebaseArray(ref);\n\t\tvar syncArray = $firebaseArray(fb.child(\"images\"));\n\t\t// \u30b9\u30c8\u30a2\u3055\u308c\u305fjson object\u3092model\u306b\u30d0\u30a4\u30f3\u30c9\n\t\t$scope.images = sync\n\t\t$scope.uploadPic = function(file) {\n\t\t\tvar title = $scope.username;\n\t\t\tvar submitDate = new Date().toISOString();\n\t\t\tvar images =  Upload.base64DataUrl(file).then(function(base64Urls){\n\n\t\t\t      $timeout(function () {\n\t\t\t        file.result = base64Urls.data;\n\t\t\t      });\n\n\t\t\t\t// \u540c\u671f\u914d\u5217\u306bArray.push\n\t\t\t\tsyncArray.$add({\n\t\t\t\t\ttitle:     title,\n\t\t\t\t\timages : base64Urls,\n\t\t\t\t\tsubmitDate: submitDate\n\t\t\t\t})\n\t\t\t\t.then(function(error) {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\tconsole.log(\"Error:\",error);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log(\"Post set successfully!\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t};\n\t\t// \u753b\u50cf\u5168\u524a\u9664\n\t\t$scope.image_all_remove = function(){\n\t\t\tangular.forEach($scope.images, function(img, i){\n\t\t\t\tvar row = $scope.images.$getRecord($scope.images[i].$id);\n\t\t\t\t$scope.images.$remove(row);\n\t\t\t});\n\t\t};\n\t}]);\t\n\t</script>\n</div>\n</body>\n</html>\n\n</code></pre></noscript>\n```\n\u308f\u305a\u304b110\u884c\u3067\u7c21\u5358\u30a4\u30e1\u30fc\u30b8\u30b9\u30c8\u30a2\u30a2\u30d7\u30ea\u304c\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\n```var ref = new Firebase(\"https://<your-firebase>.firebaseio.com/\");\n```\n\u4e0a\u8a18\u306e\u7b87\u6240\u3092firebase\u306b\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u3066\u3001URL\u3092\u66f8\u304d\u63db\u3048\u308b\u3060\u3051\u3067\u3059\u3050\u4f7f\u3048\u307e\u3059\u3002\n\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u306f\u3053\u3061\u3089\u304b\u3089\nhttps://www.firebase.com/login/\n\n\n\n\n##\u203b\u6ce8\u610f\n\u7121\u6599\u30d7\u30e9\u30f3\u3067\u30b9\u30c8\u30ec\u30fc\u30b8\u306f1GB\u307e\u3067\u3067\u3059\u3002\n\n\n##Firebase\u306b\u30b9\u30c8\u30a2\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306bindex\u3092\u306f\u308b\u65b9\u6cd5\n\u8a2d\u5b9a\u3067\u3001json\u5f62\u5f0f\u3067key,rules\u306e\u4e2d\u306b.indexOn\u3092\u8a18\u8ff0\u3059\u308b\u3060\u3051\n\u8a73\u7d30\u306f\u3053\u3061\u3089\nhttps://www.firebase.com/docs/security/guide/indexing-data.html\n\n##Firebase\u306b\u30b9\u30c8\u30a2\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306b\u95a2\u3057\u3066\njson\u3067\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30eb\u30fc\u30eb\u306e\u8a2d\u5b9a\u304c\u53ef\u80fd\u3002\n\u8a8d\u8a3c\u3055\u308c\u305f\u30e6\u30fc\u30b6\u304c\u3069\u306e\u3088\u3046\u306b\u30c7\u30fc\u30bf\u3092\u5909\u66f4\u3067\u304d\u308b\u304b\u3092\u6c7a\u3081\u308b\u3002\n\u30c7\u30fc\u30bf\u306e\u8ee2\u9001\u306fSSL\u7d4c\u7531\u3002\n\n\u3055\u3089\u306a\u308b\u8a73\u7d30\u306f\u3053\u3061\u3089\nhttps://www.firebase.com/docs/security/\n\n\n##AngularFire\u306e\u4f7f\u7528\u30a2\u30d7\u30ea\n\u597d\u304d\u306a\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u306e\u97f3\u697d\u3092\u30e9\u30f3\u30ad\u30f3\u30b0\u9806\u306e\u8074\u304f\u3053\u3068\u304c\u3067\u304d\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002\nRecent\u306e\u7b87\u6240\u3092firebase\u3067\u30b9\u30c8\u30a2\u3057\u3066\u3044\u307e\u3059\u3002\nLamusica\nhttp://manchan.github.io/lamusica/\ngithub\u306f\u3053\u3061\u3089\nhttps://github.com/manchan/lamusica\n\n##AngularFire\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u3053\u3061\u3089\nhttps://www.firebase.com/docs/web/libraries/angular/index.html\n\n##ng-file-upload\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u3053\u3061\u3089\nhttps://github.com/danialfarid/ng-file-upload\n\n##\u304a\u308f\u308a\u306b\n5\u5206\u306f\u9577\u3059\u304e\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n\n\n\n", "tags": ["AngularJS", "Firebase", "Angularfire"]}