{"tags": ["Ubuntu", "lxc", "lxd", "UbuntuCore"], "context": "VMwarePlayer\u3067Ubuntu Snappy Core\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001LXD\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u307e\u3067\u306e\u624b\u9806\u3067\u3059\u3002\n\u4ee5\u4e0bURL\u53c2\u7167\nhttps://developer.ubuntu.com/en/snappy/start/?_ga=1.61199852.191622956.1459234529\nVMwarePlayer\u3084ESXi\u3067Ubuntu Snappy Core\u3092\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306b\u306f\u4ee5\u4e0b\u306e2\u3064\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002\n\u2460OVA\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\u2461cloud-config\u306eiso\u30a4\u30e1\u30fc\u30b8 or vmdk\u30a4\u30e1\u30fc\u30b8\n\u2460\u306f\u53c2\u7167URL\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nhttp://cloud-images.ubuntu.com/ubuntu-core/15.04/core/stable/current/core-stable-amd64-cloud.ova\n\u2461\u306f\u5225\u9014\u624b\u52d5\u4f5c\u6210\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u3000Ubuntu15.04\u4e0a\u3067\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\nuser-data meta-data \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ cat >> user-data <<\"EOF\n#cloud-config\nsnappy: \n    ssh_enabled: true\npassword: passw0rd\nchpasswd: { expire: False }\nssh_pwauth: True\nEOF\n\n$ cat >> meta-data << EOF\ninstance-id: $(uuidgen)\nlocal-hostname: ubuntu-snappy\nEOF\n\n\u3000\u4e0a\u8a18\u30d5\u30a1\u30a4\u30eb\u3092\u542b\u3080iso/vmdk\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ dd if=/dev/zero of=bloat_file bs=1M count=10\n$ genisoimage -output seed.iso -volid cidata -joliet -rock user-data meta-data bloat_file\n$ qemu-img convert -O vmdk seed.iso seed.vmdk\n\n\u3000\u4e0a\u8a18iso/vmdk\u30d5\u30a1\u30a4\u30eb\u3092WinSCP\u7b49\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\u2460\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fova\u30d5\u30a1\u30a4\u30eb\u3092VMwarePlayer\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\uff08\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30a6\u30a3\u30b6\u30fc\u30c9\u5f62\u5f0f\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\uff09\nVMwarePlayer\u306e\u300c\u4eee\u60f3\u30de\u30b7\u30f3\u8a2d\u5b9a\u300d\u304b\u3089CD/DVD\u3092\u300c\u8ffd\u52a0\u300d\u3057\u3066\u2461\u3067\u4f5c\u6210\u3057\u305fiso\u30a4\u30e1\u30fc\u30b8\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\nUbuntu Snappy Core\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002\n\u30e6\u30fc\u30b6\u540d\u306f[ubuntu]\u30d1\u30b9\u30ef\u30fc\u30c9\u306fCloud-Config\u30d5\u30a1\u30a4\u30eb\u306b\u3066\u8a18\u8f09\u3057\u305f\u30d1\u30b9\u30ef\u30fc\u30c9(\u4e0a\u8a18\u3067\u306f[passw0rd])\u3067\u3059\u3002\n\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067LXD\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nsudo snappy install lxd.stgraber\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067SSH\u6709\u52b9\u3067\u3059\u306d\u3002CoreOS\u3088\u308a\u3082\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306f\u4f4e\u3044\u3067\u3059\u304c\u4f7f\u3044\u3084\u3059\u305d\u3046\u3067\u3059\u3002\nVMwarePlayer\u3067Ubuntu Snappy Core\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001LXD\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u307e\u3067\u306e\u624b\u9806\u3067\u3059\u3002\n\n\u4ee5\u4e0bURL\u53c2\u7167\nhttps://developer.ubuntu.com/en/snappy/start/?_ga=1.61199852.191622956.1459234529\n\nVMwarePlayer\u3084ESXi\u3067Ubuntu Snappy Core\u3092\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306b\u306f\u4ee5\u4e0b\u306e2\u3064\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002\n\u2460OVA\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\u2461cloud-config\u306eiso\u30a4\u30e1\u30fc\u30b8 or vmdk\u30a4\u30e1\u30fc\u30b8\n\n\u2460\u306f\u53c2\u7167URL\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\nhttp://cloud-images.ubuntu.com/ubuntu-core/15.04/core/stable/current/core-stable-amd64-cloud.ova\n\n\u2461\u306f\u5225\u9014\u624b\u52d5\u4f5c\u6210\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\u3000Ubuntu15.04\u4e0a\u3067\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n  \n  user-data meta-data \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n$ cat >> user-data <<\"EOF\n#cloud-config\nsnappy: \n    ssh_enabled: true\npassword: passw0rd\nchpasswd: { expire: False }\nssh_pwauth: True\nEOF\n\n$ cat >> meta-data << EOF\ninstance-id: $(uuidgen)\nlocal-hostname: ubuntu-snappy\nEOF\n```\n\u3000\u4e0a\u8a18\u30d5\u30a1\u30a4\u30eb\u3092\u542b\u3080iso/vmdk\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n$ dd if=/dev/zero of=bloat_file bs=1M count=10\n$ genisoimage -output seed.iso -volid cidata -joliet -rock user-data meta-data bloat_file\n$ qemu-img convert -O vmdk seed.iso seed.vmdk\n```\n\n\u3000\u4e0a\u8a18iso/vmdk\u30d5\u30a1\u30a4\u30eb\u3092WinSCP\u7b49\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n\u2460\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fova\u30d5\u30a1\u30a4\u30eb\u3092VMwarePlayer\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\uff08\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30a6\u30a3\u30b6\u30fc\u30c9\u5f62\u5f0f\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\uff09\n\nVMwarePlayer\u306e\u300c\u4eee\u60f3\u30de\u30b7\u30f3\u8a2d\u5b9a\u300d\u304b\u3089CD/DVD\u3092\u300c\u8ffd\u52a0\u300d\u3057\u3066\u2461\u3067\u4f5c\u6210\u3057\u305fiso\u30a4\u30e1\u30fc\u30b8\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\n\nUbuntu Snappy Core\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002\n\u30e6\u30fc\u30b6\u540d\u306f[ubuntu]\u30d1\u30b9\u30ef\u30fc\u30c9\u306fCloud-Config\u30d5\u30a1\u30a4\u30eb\u306b\u3066\u8a18\u8f09\u3057\u305f\u30d1\u30b9\u30ef\u30fc\u30c9(\u4e0a\u8a18\u3067\u306f[passw0rd])\u3067\u3059\u3002\n\n\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067LXD\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\nsudo snappy install lxd.stgraber\n```\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067SSH\u6709\u52b9\u3067\u3059\u306d\u3002CoreOS\u3088\u308a\u3082\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306f\u4f4e\u3044\u3067\u3059\u304c\u4f7f\u3044\u3084\u3059\u305d\u3046\u3067\u3059\u3002\n"}