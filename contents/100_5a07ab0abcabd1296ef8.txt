{"tags": ["CentOS7.1-1503", "Apache2.4.6-31.el7.centos", "mariadb10.1.9", "OpenSSH6.6.1p1", "Filezilla3.14.1"], "context": " More than 1 year has passed since last update.\n\n \u5c0e\u5165\n\u3055\u304f\u3089\u306e VPS \u306eOS\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3088\u3063\u3066 CentOS 7 \u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u305f\u969b\u306b\u975e\u5e38\u306b\u624b\u9593\u53d6\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u5099\u5fd8\u3068\u3057\u3066\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u3059\u3067\u306bOpenSSH\u3092\u5229\u7528\u3057\u3066\u3044\u308b \u3053\u3068\u3092\u524d\u63d0\u3067\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u306f Windows 7 \u4e0a\u3067 FileZilla Client \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u9375\u751f\u6210\u306b\u306f Tera Term \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n Apache\n\n \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nCentOS \u306e\u516c\u5f0f yum \u30ea\u30dd\u30b8\u30c8\u30ea\u3067 Apache 2.4 \u306e RPM \u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u3055\u304f\u3089\u306e VPS \u306e\u5834\u5408\u306f\u3059\u3067\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u6709\u52b9\u5316\u3068\u8d77\u52d5\u306f\u5fc5\u8981\u3067\u3059\u3002\n# Apache\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install httpd\n\n# httpd.service \u306e\u6709\u52b9\u5316 (OS\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u7684\u306b\u8d77\u52d5)\nsudo systemctl enable httpd\n\n# \u8d77\u52d5\nsudo systemctl start httpd\n\n\u6b21\u306e\u8a18\u4e8b\u306a\u3069\u3092\u53c2\u8003\u306bApache\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\nApache \u306b\u95a2\u3059\u308b SELinux \u306e\u8a2d\u5b9a - Qiita\nApache 2.4 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u8a18\u8ff0\u4f8b - Qiita\n\n\n WebSocket\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30af\u30b7\nWebSocket \u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30af\u30b7\u3092\u5b9f\u73fe\u3059\u308b mod_proxy_wstunnel.so \u306f\u3001CentOS\u6a19\u6e96\u30ea\u30dd\u30b8\u30c8\u30ea\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3082\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u3053\u308c\u3092\u4f7f\u3046\u3068\u5207\u65ad\u6642\u306b Opera \u3084 Google Chrome \u3067 WebSocket connection to 'ws://example.com/' failed: One or more reserved bits are on: reserved1 = 0, reserved2 = 1, reserved3 = 1 \u306e\u3088\u3046\u306a\u4f8b\u5916\u304c\u6295\u3052\u51fa\u3055\u308c\u307e\u3059\u3002\n\u305d\u3053\u3067 Fedora \u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089 mod_proxy_wstunnel.so \u3092\u53d6\u308a\u51fa\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\u307e\u305a \u30d1\u30c3\u30b1\u30fc\u30b8\u7f72\u540d\u9375 \u304b\u3089 Fedora 22 1 \u306e\u516c\u958b\u9375\u304c\u7f6e\u304b\u308c\u3066\u3044\u308bURL\u3092\u635c\u3057\u3001\u53d6\u308a\u8fbc\u307f\u307e\u3059\u3002RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u53d6\u5f97\u306b yumdownloader \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3059\u308b\u306e\u3067\u3001\u305d\u306e\u30b3\u30de\u30f3\u30c9\u304c\u542b\u307e\u308c\u308b YumUtils \u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n# Fedora22\u306e\u516c\u958b\u9375\u3092\u53d6\u308a\u8fbc\u3080\nsudo rpm --import https://fedoraproject.org/static/8E1431D5.txt\n# YumUtils\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install yum-utils\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u4f5c\u6210\u3057\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb (*.repo) \u3067\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u6709\u52b9\u5316\u3059\u308b\u5834\u5408\u306f\u3001*.repo \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n/etc/yum.repos.d/fedora.repo\n[fedora-22-updates]\nname=Fedora 22 - $basearch - Updates\n#baseurl=https://download.fedoraproject.org/pub/fedora/linux/updates/22/$basearch/\nmirrorlist=https://mirrors.fedoraproject.org/mirrorlist?repo=updates-released-f22&arch=$basearch\nfailovermethod=priority\nenabled=0\ngpgcheck=1\ngpgkey=https://getfedora.org/static/8E1431D5.txt\n\n\nApache\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u3066\u304a\u304d\u307e\u3059\u3002Apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb (*.conf) \u3067\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u6709\u52b9\u5316\u3059\u308b\u5834\u5408\u306f\u3001*.conf \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n/etc/httpd/conf.modules.d/00-proxy.conf\n# This file configures all the proxy modules:\nLoadModule proxy_module modules/mod_proxy.so\nLoadModule lbmethod_bybusyness_module modules/mod_lbmethod_bybusyness.so\nLoadModule lbmethod_byrequests_module modules/mod_lbmethod_byrequests.so\nLoadModule lbmethod_bytraffic_module modules/mod_lbmethod_bytraffic.so\nLoadModule lbmethod_heartbeat_module modules/mod_lbmethod_heartbeat.so\nLoadModule proxy_ajp_module modules/mod_proxy_ajp.so\nLoadModule proxy_balancer_module modules/mod_proxy_balancer.so\nLoadModule proxy_connect_module modules/mod_proxy_connect.so\nLoadModule proxy_express_module modules/mod_proxy_express.so\nLoadModule proxy_fcgi_module modules/mod_proxy_fcgi.so\nLoadModule proxy_fdpass_module modules/mod_proxy_fdpass.so\nLoadModule proxy_ftp_module modules/mod_proxy_ftp.so\nLoadModule proxy_http_module modules/mod_proxy_http.so\nLoadModule proxy_scgi_module modules/mod_proxy_scgi.so\nLoadModule proxy_wstunnel_module modules/mod_proxy_wstunnel-fedora.so\n## \u2191\u3053\u306e\u884c\u3092\u8ffd\u8a18 ##\n\n\n# httpd\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nyumdownloader --enablerepo=fedora-22-updates httpd.x86_64\n# mod_proxy_wstunnel.so\u3092\u62bd\u51fa\u3057\u3066\u914d\u7f6e\n(rpm2cpio httpd-*.fc22.x86_64.rpm | cpio --extract --to-stdout '*/mod_proxy_wstunnel.so') | sudo tee /usr/lib64/httpd/modules/mod_proxy_wstunnel-fedora.so > /dev/null\n# \u914d\u7f6e\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u6a29\u9650\u3092\u4fee\u6b63\nsudo chmod 755 /usr/lib64/httpd/modules/mod_proxy_wstunnel-fedora.so\n# RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u524a\u9664\nrm httpd-*.fc22.x86_64.rpm\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u6587\u6cd5\u30c1\u30a7\u30c3\u30af\napachectl configtest\n# Apache\u306e\u518d\u8d77\u52d5\nsudo systemctl reload httpd\n\n\n \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\n#\u3010mod_ssl\u3092\u5229\u7528\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3011TCP\u306e80\u756a\u30dd\u30fc\u30c8\u306e\u901a\u4fe1\u3092\u8a31\u53ef\nsudo firewall-cmd --permanent --add-service=http\n\n#\u3010mod_ssl\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3011TCP\u306e80\u756a\u30dd\u30fc\u30c8\u3068443\u756a\u30dd\u30fc\u30c8\u306e\u901a\u4fe1\u3092\u8a31\u53ef\nsudo firewall-cmd --permanent --add-service=http --add-service=https\n\n# firewalld \u306e\u8a2d\u5b9a\u3092\u518d\u8aad\u307f\u8fbc\u307f\nsudo firewall-cmd --reload\n\n\u65e2\u5b9a\u306e\u30dd\u30fc\u30c8\u4ee5\u5916\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a31\u53ef\u3057\u307e\u3059\u3002\n# (\u4f8b) TCP\u306e49152\u756a\u30dd\u30fc\u30c8\u306e\u901a\u4fe1\u3092\u8a31\u53ef\nsudo firewall-cmd --permanent --add-service=49152/tcp\n\n\n Apache\u306e\u64cd\u4f5c\n\n\n\n\u30b3\u30de\u30f3\u30c9\n\u52b9\u679c\n\n\n\n\nhttpd -v\n\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n\napachectl configtest\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u6587\u6cd5\u30df\u30b9\u304c\u7121\u3044\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\nsudo systemctl start httpd\n\u30b5\u30fc\u30d3\u30b9\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\n\n\nsudo httpd -k stop\n\u30b5\u30fc\u30d3\u30b9\u3092\u505c\u6b62\u3057\u307e\u3059\u30022 3\n\n\n\nsudo systemctl stop httpd\n\u30b5\u30fc\u30d3\u30b9\u3092\u7de9\u3084\u304b\u306b\u505c\u6b62\u3057\u307e\u3059\u30024\n\n\n\nsudo httpd -k restart\n\u30b5\u30fc\u30d3\u30b9\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u30022\n\n\n\nsudo service httpd reload\n\u30b5\u30fc\u30d3\u30b9\u3092\u7de9\u3084\u304b\u306b\u518d\u8d77\u52d5\u3057\u307e\u3059\u30025\n\n\n\nsudo httpd -k stop; sleep 1s; sudo systemctl start httpd\n\u30b5\u30fc\u30d3\u30b9\u3092\u89aa\u30d7\u30ed\u30bb\u30b9\u3082\u542b\u3081\u3066\u5b8c\u5168\u306b\u518d\u8d77\u52d5\u3057\u307e\u3059\u30022\n\n\n\nsudo systemctl restart httpd\n\u30b5\u30fc\u30d3\u30b9\u304c\u7de9\u3084\u304b\u306b\u505c\u6b62\u3059\u308b\u306e\u3092\u5f85\u6a5f\u3057\u305f\u5f8c\u3067\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n\nsudo tail /var/log/httpd/error_log\n\ntail \u30b3\u30de\u30f3\u30c9\u3067\u30a8\u30e9\u30fc\u30ed\u30b0\u306e\u672b\u5c3e10\u884c\u3092\u8868\u793a\u3057\u307e\u3059\u30026\n\n\n\nsudo tail /var/log/httpd/access_log\n\ntail \u30b3\u30de\u30f3\u30c9\u3067\u5e73\u6587\u63a5\u7d9a\u306e\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306e\u672b\u5c3e10\u884c\u3092\u8868\u793a\u3057\u307e\u3059\u30026\n\n\n\nsudo tail /var/log/httpd/ssl_access_log\n\ntail \u30b3\u30de\u30f3\u30c9\u3067TLS\u63a5\u7d9a\u306e\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306e\u672b\u5c3e10\u884c\u3092\u8868\u793a\u3057\u307e\u3059\u30026\n\n\n\n\n\n MariaDB\n\n *.repo \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\nCentOS \u6a19\u6e96\u306e yum \u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u306e\u3046\u3061 Vim \u4ee5\u5916\u306e\u30a8\u30c7\u30a3\u30bf\u306f\u3001\u521d\u671f\u72b6\u614b\u3067\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u304c\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u306a\u3069\u3092\u884c\u3044\u3001\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\nEmacs\n\u500b\u4eba\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u4f5c\u6210 (\u307e\u305f\u306f\u8ffd\u8a18) \u3057\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u304c .repo \u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3092 conf-mode \u3067\u958b\u304f\u3088\u3046\u306b\u3059\u308b\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n~/.emacs\n;; .repo \u30d5\u30a1\u30a4\u30eb\u3092 Conf \u30e2\u30fc\u30c9\u3067\u958b\u304f\n(add-to-list 'auto-mode-alist '(\"\\\\.repo$\" . conf-mode))\n\n\n\ngedit\n\u30d5\u30a1\u30a4\u30eb\u540d\u304c .repo \u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3092 INI \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u958b\u304f\u3088\u3046\u306b\u3057\u3001\u4e00\u884c\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u958b\u59cb\u6587\u5b57\u306b # \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n/usr/share/gtksourceview-*/language-specs/ini.lang\n                    <!--##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############-->\n\n  <metadata>\n    <property name=\"mimetypes\">text/x-ini-file;application/x-ini-file</property>\n    <property name=\"globs\">*.ini;*.repo</property><!--## *.repo \u3092\u8ffd\u52a0 ##-->\n    <property name=\"line-comment-start\">;</property>\n  </metadata>\n\n                    <!--##############\n                        ##   \u4e2d\u7565   ##\n                        ##############-->\n\n  <definitions>\n    <context id=\"line-comment\" style-ref=\"comment\" end-at-line-end=\"true\">\n      <start>;</start>\n    </context>\n    <!--## \u3053\u3053\u304b\u3089 ##-->\n    <context id=\"bash-line-comment\" style-ref=\"comment\" end-at-line-end=\"true\">\n      <start>#</start>\n    </context><!--## \u3053\u3053\u307e\u3067 ##-->\n    <context id=\"group\" style-ref=\"keyword\">\n      <start>^\\[</start>\n      <end>\\]$</end>\n    </context>\n\n                    <!--##############\n                        ##   \u4e2d\u7565   ##\n                        ##############-->\n\n    <context id=\"ini\">\n      <include>\n        <context ref=\"line-comment\"/>\n        <context ref=\"bash-line-comment\"/><!--## \u8ffd\u52a0 ##-->\n        <context ref=\"group\"/>\n        <context ref=\"non-standard-key\"/>\n        <context ref=\"language\"/>\n        <context ref=\"variable\"/>\n        <context ref=\"boolean-value\"/>\n        <context ref=\"single-quoted-string\"/>\n        <context ref=\"double-quoted-string\"/>\n        <context ref=\"decimal-number\"/>\n        <context ref=\"integer\"/>\n      </include>\n    </context>\n  </definitions>\n</language>\n\n\n\nKate\n\u30d5\u30a1\u30a4\u30eb\u540d\u304c .repo \u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3092 INI \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u958b\u304f\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n/usr/share/kde*/apps/katepart/syntax/ini.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE language SYSTEM \"language.dtd\">\n<language name=\"INI Files\" section=\"Configuration\" extensions=\"*.ini;*.pls;*.kcfgc;*.repo\" mimetype=\"\" version=\"1.1\" kateversion=\"2.0\" author=\"Jan Janssen (medhefgo@web.de)\" license=\"LGPL\"> <!-- extensions\u5c5e\u6027\u5024\u306b *.repo \u3092\u8ffd\u52a0 -->\n\n                    <!--##############\n                        ## \u4ee5\u4e0b\u7701\u7565 ##\n                        ##############-->\n\n\n\nnano\nArch Linux \u306e nano-syntax-highlighting-git \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5229\u7528\u3057\u307e\u3059\u30027 8\n# INI\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u884c\u3046\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nwget https://raw.githubusercontent.com/scopatz/nanorc/master/ini.nanorc\n\n# .repo \u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3092INI\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u6271\u3046\u3088\u3046\u306b\u3059\u308b\nsed --in-place 's/)\\$/|repo)$/' ini.nanorc\n\n# \u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u884c\u3046\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4fdd\u7ba1\u5834\u6240\u306b\u79fb\u52d5\nsudo mv ini.nanorc /usr/share/nano/\n\n# nano\u306e\u500b\u4eba\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u3059\u308b\necho $'\\n\\n'## INI files$'\\n'include \"/usr/share/nano/ini.nanorc\" >> ~/.nanorc\n\n\n \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nCentOS \u306e\u516c\u5f0f\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u306f\u3001\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3042\u308b MariaDB 5.5 \u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u3053\u3067MariaDB\u306e\u516c\u5f0f\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u3001\u305d\u3061\u3089\u304b\u3089\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nyum \u306b\u3088\u308b MariaDB \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb - MariaDB Knowledge Base\n\u4e0a\u306e\u30da\u30fc\u30b8\u306b\u76ee\u3092\u901a\u3057\u3001\u624b\u9806\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b8c\u4e86\u3055\u305b\u307e\u3059\u3002\n\n/etc/yum.repos.d/MariaDB.repo\n[mariadb]\nname = MariaDB\nbaseurl = http://yum.mariadb.org/10.1/centos7-amd64\ngpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB\ngpgcheck=1\n\n\n# MariaDB\u306e\u30b5\u30fc\u30d0\u30fc\u30fb\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install MariaDB-server MariaDB-client\n\n# \u8d77\u52d5\nsudo systemctl start mariadb\n\nRPM \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u5f8c\u306b GPG \u516c\u958b\u9375\u3092\u53d6\u308a\u8fbc\u3093\u3067\u3082\u826f\u3044\u304b\u8a0a\u306d\u3089\u308c\u308b\u305f\u3081\u3001Fingerprint \u304c https://mariadb.com/kb/ja/gpg/ \u3068\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u7121\u8996\u3067\u4e00\u81f4\u3059\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\ufffd \u7b26\u53f7\u5316\u65b9\u5f0f\u306e\u8a2d\u5b9a\nMariaDB \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb (*.cnf) \u3067\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u6709\u52b9\u5316\u3059\u308b\u5834\u5408\u306f\u3001*.repo \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8 \u306e repo \u3092 cnf \u306b\u8aad\u307f\u66ff\u3048\u3066\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30b5\u30fc\u30d0\u30fc\nMariaDB \u306e\u65e2\u5b9a\u306e\u6587\u5b57\u96c6\u5408 (character set) \u306f latin1 \u3067\u3001\u3053\u308c\u306f\u300cwindows-1252\u300d\u3068\u3044\u3046\u7b26\u53f7\u5316\u65b9\u5f0f (\u6587\u5b57\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0) \u3092\u8868\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u3001MariaDB \u3067\u300cutf-8\u300d\u3092\u8868\u3059\u6587\u5b57\u96c6\u5408\u3067\u3042\u308b utf8mb4 \u3078\u5909\u66f4\u3057\u307e\u3059\u3002\u306a\u304a\u3001MariaDB \u306e\u6587\u5b57\u96c6\u5408 utf8 \u306f\u3001\u300c\u88dc\u52a9\u6587\u5b57 (4\u30d0\u30a4\u30c8\u6587\u5b57) \u3092\u6271\u3048\u306a\u3044utf-8\u300d\u3092\u8868\u3057\u307e\u3059\u3002\n\n/etc/my.cnf.d/server.cnf\n#\n# These groups are read by MariaDB server.\n# Use it for options that only the server (but not clients) should see\n#\n# See the examples of server my.cnf files in /usr/share/mysql/\n#\n\n# this is read by the standalone daemon and embedded servers\n[server]\ncharacter-set-server=utf8mb4\nlog-bin=mariadb-bin\n## \u2191\u3053\u306e2\u884c\u3092\u8ffd\u52a0 ##\nevent-scheduler=ON\n## \u2191\u30a4\u30d9\u30f3\u30c8\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u3092\u6709\u52b9\u5316\u3059\u308b\u5834\u5408\u306f\u3053\u306e\u884c\u3082\u8ffd\u52a0 ##\n\n# this is only for the mysqld standalone daemon\n[mysqld]\n\n# this is only for embedded server\n[embedded]\n\n# This group is only read by MariaDB servers, not by MySQL.\n# If you use the same .cnf file for MySQL and MariaDB,\n# you can put MariaDB-only options here\n[mariadb]\n\n# This group is only read by MariaDB-10.0 servers.\n# If you use the same .cnf file for MariaDB of different versions,\n# use this group for options that older servers don't understand\n[mariadb-10.0]\n\n\ncharacter_set_server \u306b\u3088\u3063\u3066\u3001character_set_database\u3001collation_server\u3001collation_database \u306f\u81ea\u52d5\u7684\u306b\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\u4e0a\u8a18\u306e log-bin \u306e\u5024 mariadb-bin \u306f\u30d0\u30a4\u30ca\u30ea\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u63a5\u982d\u8f9e\u3067\u3001\u4efb\u610f\u306e\u5024\u3067\u304b\u307e\u3044\u307e\u305b\u3093\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u7b26\u53f7\u5316\u65b9\u5f0f\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u8a2d\u5b9a\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002\n# \u8a2d\u5b9a\u306e\u53cd\u6620\nsudo systemctl restart mariadb\n\nsystemctl reload mariadb \u3067\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u5909\u6570\u306e\u8a2d\u5b9a\u306f\u53cd\u6620\u3055\u308c\u307e\u305b\u3093\u3002\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\nMariaDB-client \u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u542b\u307e\u308c\u308b\u30b3\u30de\u30f3\u30c9 (mysql \u306a\u3069) \u306e\u65e2\u5b9a\u306e\u7b26\u53f7\u5316\u65b9\u5f0f\u306f auto \u3067\u3001\u3053\u308c\u3092 utf8mb4 \u306b\u5909\u66f4\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n/etc/my.cnf.d/client.cnf\n#\n# These two groups are read by the client library\n# Use it for options that affect all clients, but not the server\n#\n\n\n[client]\ndefault-character-set=utf8mb4\n## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n\n# This group is not read by mysql client library,\n# If you use the same .cnf file for MySQL and MariaDB,\n# use it for MariaDB-only client options\n[client-mariadb]\n\n\n\n\u306a\u304a\u3001default_character_set \u304c\u5ec3\u6b62\u3055\u308c character_set_server \u306b\u6539\u540d\u3055\u308c\u305f\u3068\u3044\u3046\u306e\u306f\u30b5\u30fc\u30d0\u30fc\u30b7\u30b9\u30c6\u30e0\u5909\u6570\u306e\u8a71\u3067\u3059\u3002mysql \u30b3\u30de\u30f3\u30c9\u306a\u3069\u3067\u306f --default-character-set \u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u307e\u307e\u306a\u306e\u3067\u3001\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002 9 10\n\n \u305d\u306e\u4ed6\u306e\u521d\u671f\u8a2d\u5b9a\nmysql_secure_installation - MariaDB Knowledge Base\n\u4e0a\u306e\u30da\u30fc\u30b8\u306b\u76ee\u3092\u901a\u3057\u3001mysql_secure_installation \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002root \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u307e\u3060\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001Set root password? [Y/n] \u306b\u5bfe\u3057\u3066\u3082\u305d\u306e\u307e\u307e Enter \u3092\u62bc\u3057\u307e\u3059\u300211\n[100@localhost ~]$ mysql_secure_installation \u23ce\n\nNOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB\n      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!\n\nIn order to log into MariaDB to secure it, we'll need the current\npassword for the root user.  If you've just installed MariaDB, and\nyou haven't set the root password yet, the password will be blank,\nso you should just press enter here.\nEnter current password for root (enter for none): \u23ce    ## \u73fe\u5728\u306e\u30eb\u30fc\u30c8\u30d1\u30b9\u30ef\u30fc\u30c9\u3002\u672a\u8a2d\u5b9a\u306a\u306e\u3067\u305d\u306e\u307e\u307eEnter ##\nOK, successfully used password, moving on...\n\nSetting the root password ensures that nobody can log into the MariaDB\nroot user without the proper authorisation.\n\nSet root password? [Y/n] \u23ce                             ## MariaDB\u306eroot\u30e6\u30fc\u30b6\u30fc\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u304b\u8a0a\u304b\u308c\u308b\u3002\u300cY\u300d(Yes) \u304c\u65e2\u5b9a\u5024\u306a\u306e\u3067\u305d\u306e\u307e\u307eEnter ##\nNew password: ******** \u23ce                               ## MariaDB\u306eroot\u30e6\u30fc\u30b6\u30fc\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066Enter ##\nRe-enter new password: ******** \u23ce                      ## \u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5165\u529b\u3057\u3066Enter ##\nPassword updated successfully!\nReloading privilege tables..\n ... Success!\n\n\nBy default, a MariaDB installation has an anonymous user, allowing anyone\nto log into MariaDB without having to have a user account created for\nthem.  This is intended only for testing, and to make the installation\ngo a bit smoother.  You should remove them before moving into a\nproduction environment.\n\nRemove anonymous users? [Y/n] \u23ce                        ## \u533f\u540d\u30e6\u30fc\u30b6\u30fc\u3092\u524a\u9664\u3059\u308b\u304b\u8a0a\u304b\u308c\u308b\u3002\u300cY\u300d(Yes) \u304c\u65e2\u5b9a\u5024\u306a\u306e\u3067\u305d\u306e\u307e\u307eEnter ##\n ... Success!\n\nNormally, root should only be allowed to connect from 'localhost'.  This\nensures that someone cannot guess at the root password from the network.\n\nDisallow root login remotely? [Y/n] \u23ce                  ## root\u30e6\u30fc\u30b6\u30fc\u306e\u30ea\u30e2\u30fc\u30c8\u30ed\u30b0\u30a4\u30f3\u3092\u7981\u6b62\u3059\u308b\u304b\u8a0a\u304b\u308c\u308b\u3002\u300cY\u300d(Yes) \u304c\u65e2\u5b9a\u5024\u306a\u306e\u3067\u305d\u306e\u307e\u307eEnter ##\n ... Success!\n\nBy default, MariaDB comes with a database named 'test' that anyone can\naccess.  This is also intended only for testing, and should be removed\nbefore moving into a production environment.\n\nRemove test database and access to it? [Y/n] \u23ce         ## test\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u524a\u9664\u3059\u308b\u304b\u8a0a\u304b\u308c\u308b\u3002\u300cY\u300d(Yes) \u304c\u65e2\u5b9a\u5024\u306a\u306e\u3067\u305d\u306e\u307e\u307eEnter ##\n - Dropping test database...\n ... Success!\n - Removing privileges on test database...\n ... Success!\n\nReloading the privilege tables will ensure that all changes made so far\nwill take effect immediately.\n\nReload privilege tables now? [Y/n] \u23ce                   ## \u6a29\u9650\u30c6\u30fc\u30d6\u30eb\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3059\u308b\u304b\u8a0a\u304b\u308c\u308b\u3002\u300cY\u300d(Yes) \u304c\u65e2\u5b9a\u5024\u306a\u306e\u3067\u305d\u306e\u307e\u307eEnter ##\n ... Success!\n\nCleaning up...\n\nAll done!  If you've completed all of the above steps, your MariaDB\ninstallation should now be secure.\n\nThanks for using MariaDB!\n\n\n \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30ea\u30b9\u30c8\u30a2\u3068\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\nmysql --user=root --password \u3092\u5b9f\u884c\u3057\u3001MariaDB \u306e root \u30e6\u30fc\u30b6\u30fc\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u300211\n-- \u30ea\u30b9\u30c8\u30a2 (\u30d5\u30a1\u30a4\u30eb\u540d\u304c backup.sql \u306e\u5834\u5408)\nsource backup.sql;\n\n-- \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\u3068 \u2985\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540dA\u2986 \u306b\u5bfe\u3059\u308b\u6a29\u9650\u306e\u4ed8\u4e0e\nGRANT ALL PRIVILEGES ON '\u2985\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540dA\u2986'.* TO '\u2985MariaDB\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u2986'@localhost IDENTIFIED BY '\u2985MariaDB\u306e\u30e6\u30fc\u30b6\u30fc\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u2986';\n\n-- \u4f5c\u6210\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u306b \u2985\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540dB\u2986 \u306b\u5bfe\u3059\u308b\u6a29\u9650\u3082\u4ed8\u4e0e\nGRANT ALL PRIVILEGES ON '\u2985\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540dB\u2986'.* TO '\u2985MariaDB\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u2986'@localhost;\n\n-- \u6a29\u9650\u30c6\u30fc\u30d6\u30eb\u306e\u518d\u8aad\u307f\u8fbc\u307f\nFLUSH PRIVILEGES;\n\n-- \u30ed\u30b0\u30a2\u30a6\u30c8\nexit\n\n\n  SFTP\n\n SFTP\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\n\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092SFTP\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u3092\u300chomeroot\u300d\u3001\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e0b\u4f4d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea public_html \u3092SFTP\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u3092\u300cdirroot\u300d\u3068\u3057\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n# \u30b7\u30a7\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u306a\u3044\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\nsudo adduser --shell /sbin/nologin homeroot\nsudo passwd homeroot\nsudo adduser --shell /sbin/nologin dirroot\nsudo passwd dirroot\n\n\n SSH\u516c\u958b\u9375\u3092\u8a2d\u5b9a\n\nTera Term \u30e1\u30cb\u30e5\u30fc\u30d0\u30fc\u304b\u3089\u3001\u8a2d\u5b9a \u25b8 SSH\u9375\u751f\u6210 \u3092\u958b\u304d\u307e\u3059\u3002\n\u300c\u751f\u6210\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u9375\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3057\u307e\u3059\u300211\n\n\u300c\u79d8\u5bc6\u9375\u306e\u4fdd\u5b58\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001\u4efb\u610f\u306e\u5834\u6240\u306b\u4fdd\u5b58\u3057\u307e\u3059\u300212\n\n\u300c\u516c\u958b\u9375\u306e\u4fdd\u5b58\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001\u4efb\u610f\u306e\u5834\u6240\u306b\u4fdd\u5b58\u3057\u307e\u3059\u300212\n\n\u4fdd\u5b58\u3057\u305f\u516c\u958b\u9375\u3092 Tera Term \u30a6\u30a3\u30f3\u30c9\u30a6\u5185\u306b\u30c9\u30e9\u30c3\u30b0&\u30c9\u30ed\u30c3\u30d7\u3057\u3001\u300cSCP\u300d\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u8ee2\u9001\u3057\u307e\u3059\u3002\n\n\u300chomeroot\u300d\u306e\u516c\u958b\u9375\u3092 homeroot.pub\u3001\u300cdirroot\u300d\u306e\u516c\u958b\u9375\u3092 dirroot.pub \u3068\u3057\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n# SSH\u306e\u8a2d\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\nsudo mkdir --mode=500 /home/{homeroot,dirroot}/.ssh\n\n# \u516c\u958b\u9375\u3092\u8a2d\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\nsudo mv ~/homeroot.pub /home/homeroot/.ssh/authorized_keys\nsudo mv ~/dirroot.pub /home/dirroot/.ssh/authorized_keys\n\n# SSH\u306e\u8a2d\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001\u304a\u3088\u3073\u516c\u958b\u9375\u306e\u30a2\u30af\u30bb\u30b9\u6a29\u30fb\u6240\u6709\u8005\u3092\u5909\u66f4\nsudo chmod 400 /home/{homeroot,dirroot}/.ssh/authorized_keys\nsudo chown --recursive homeroot:homeroot /home/homeroot/.ssh\nsudo chown --recursive dirroot:dirroot /home/dirroot/.ssh\n\n#\u3010SELinux\u3011\u516c\u958b\u9375\u306e\u30e9\u30d9\u30eb\u3092\u8cbc\u308a\u76f4\u3059\nsudo restorecon /home/{homeroot,dirroot}/.ssh/authorized_keys\n\n\n SFTP\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u8a2d\u5b9a\nSFTP \u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u305d\u306e\u4e0a\u4f4d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6240\u6709\u8005\u304c root \u4ee5\u5916\u306e\u5834\u5408\u3001ChrootDirectory \u3092\u8a2d\u5b9a\u3057\u305f\u3068\u304d\u306b\u63a5\u7d9a\u3092\u5f3e\u304b\u308c\u307e\u3059\u3002\n# SFTP\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6240\u6709\u8005\u3092\u5909\u66f4\nsudo chown root /home/{homeroot,dirroot}\nsudo chmod 750 /home/{homeroot,dirroot}\nsudo mkdir --mode=775 /home/dirroot/public_html\nsudo chgrp dirroot /home/dirroot/public_html\n\n#\u3010SELinux\u3011SSH\u306b\u3088\u308b\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u8aad\u307f\u66f8\u304d\u3092\u8a31\u53ef\nsudo setsebool -P ssh_chroot_rw_homedirs on\nsudo restorecon -R /home/homeroot\n\n\u3053\u3053\u3067\u306f\u3001\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u81ea\u4f53\u306b\u306f\u66f8\u304d\u8fbc\u3081\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u304b\u3089\u30de\u30a6\u30f3\u30c8\nHTTP \u30b5\u30fc\u30d0\u30fc\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u4e0b\u4f4d\u306b\u76f4\u63a5\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u4f8b\u3067\u3059\u3002\n\n/etc/fstab\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n# \u2193\u3053\u306e\u884c\u3092\u8ffd\u8a18\n/var/www/common /home/ftpuser/common none bind 0 0\n\n\n\n/etc/fstab \u306e\u672b\u5c3e\u306b\u306f\u5fc5\u305a\u6539\u884c\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n# \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u5909\u66f4\u3001\u30b0\u30eb\u30fc\u30d7\u306b\u3082\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u3092\u4e0e\u3048\u308b\nsudo chgrp homeroot /var/www/html\nsudo chmod 775 /var/www/html\n\n# \u30de\u30a6\u30f3\u30c8\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea (\u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8) \u3092\u4f5c\u6210\nsudo mkdir /home/homeroot/html\n\n# /etc/fstab \u306e\u8a2d\u5b9a\u3092\u9069\u7528\nsudo mount -a\n\n\n OpenSSH\u306e\u8a2d\u5b9a\n\n/etc/ssh/sshd_config\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n# no default banner path\n#Banner none\n\n# Accept locale-related environment variables\nAcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES\nAcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT\nAcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE\nAcceptEnv XMODIFIERS\n\n# override default of no subsystems\n#Subsystem  sftp        /usr/libexec/openssh/sftp-server\n## \u2191\u3053\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 ##\nSubsystem   sftp        internal-sftp\n## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n\n# Example of overriding settings on a per-user basis\n#Match User anoncvs\n#   X11Forwarding no\n#   AllowTcpForwarding no\n#   PermitTTY no\n#   ForceCommand cvs server\n\n## \u2193\u3053\u306e\u884c\u4ee5\u964d\u3092\u8ffd\u8a18 ##\nMatch User homeroot,dirroot\n      ForceCommand internal-sftp\n\nMatch User homeroot\n      ChrootDirectory %h\n\nMatch User dirroot\n      ChrootDirectory %h/public_html\n\n\n\n FileZilla\u304b\u3089\u63a5\u7d9a\n\n \u79d8\u5bc6\u9375\u306e\u8a2d\u5b9a\n\u30a2\u30ab\u30a6\u30f3\u30c8\u3054\u3068\u3067\u306f\u306a\u304f\u3001\u307e\u3068\u3081\u3066\u767b\u9332\u3092\u884c\u3044\u307e\u3059\u3002\n\nFileZilla FTP Client \u30e1\u30cb\u30e5\u30fc\u30d0\u30fc\u304b\u3089\u3001\u7de8\u96c6 \u25b8 \u8a2d\u5b9a \u3092\u958b\u304d\u307e\u3059\u3002\n\u8a2d\u5b9a\u30c0\u30a4\u30a2\u30ed\u30b0\u306e\u5de6\u306e\u30e1\u30cb\u30e5\u30fc\u3067\u3001\u63a5\u7d9a \u25b8 SFTP \u3068\u305f\u3069\u308a\u307e\u3059\u3002\n\u8a2d\u5b9a\u30c0\u30a4\u30a2\u30ed\u30b0\u771f\u3093\u4e2d\u4e0b\u3042\u305f\u308a\u306e\u300c\u9375\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001\u79d8\u5bc6\u9375\u30d5\u30a1\u30a4\u30eb\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n\n\n\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3067\u4fdd\u8b77\u3055\u308c\u3066\u3044\u306a\u3044PuTTY\u5f62\u5f0f\u306e\u9375\u306e\u307f\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002\n\u4e0a\u8a18\u4ee5\u5916\u306e\u5f62\u5f0f\u306e\u9375\u3092\u767b\u9332\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u9375\u3092\u5909\u63db\u3059\u308b\u304b\u8a0a\u306d\u3089\u308c\u307e\u3059\u3002\nbcrypt KDF \u5f62\u5f0f\u306e\u9375\u306f\u89e3\u6790\u3067\u304d\u305a\u3001FileZilla\u3067\u306f\u5909\u63db\u3082\u3067\u304d\u307e\u305b\u3093\u3002\n\u30a2\u30ab\u30a6\u30f3\u30c8\u3054\u3068\u306b\u8907\u6570\u306e\u79d8\u5bc6\u9375\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3067\u3082\u3001\u3059\u3079\u3066\u3053\u3053\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n\n\n\n \u63a5\u7d9a\u8a2d\u5b9a\n\nFileZilla FTP Client \u30e1\u30cb\u30e5\u30fc\u30d0\u30fc\u304b\u3089\u3001\u30d5\u30a1\u30a4\u30eb \u25b8 \u30b5\u30a4\u30c8 \u30de\u30cd\u30fc\u30b8\u30e3 \u3092\u958b\u304d\u307e\u3059\u3002\n\u5de6\u4e0b\u306e\u300c\u65b0\u3057\u3044\u30b5\u30a4\u30c8\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001\u4efb\u610f\u306e\u540d\u524d\u3092\u4ed8\u3051\u307e\u3059\u3002\n\u30db\u30b9\u30c8\u6b04\u306b\u30b5\u30fc\u30d0\u30fc\u306eIP\u30a2\u30c9\u30ec\u30b9\u3001\u30dd\u30fc\u30c8\u6b04\u306bOpenSSH\u3067\u4f7f\u7528\u3059\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u30d7\u30eb\u30c0\u30a6\u30f3\u30e1\u30cb\u30e5\u30fc\u3067\u300cSFTP - SSH File Transfer Protocol\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\u30ed\u30b0\u30aa\u30f3\u306e\u7a2e\u985e\u306e\u30d7\u30eb\u30c0\u30a6\u30f3\u30e1\u30cb\u30e5\u30fc\u3067\u300c\u901a\u5e38\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\u30e6\u30fc\u30b6\u6b04\u306b\u306f Linux \u306e\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u8a18\u5165\u3057\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u7a7a\u6b04\u306b\u3057\u307e\u3059\u3002\n\u5fc5\u8981\u3067\u3042\u308c\u3070\u3001\u300c\u8a73\u7d30\u300d\u30bf\u30d6\u306e\u300c\u65e2\u5b9a\u306e\u30ed\u30fc\u30ab\u30eb \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u300d\u3068\u300c\u65e2\u5b9a\u306e\u30ea\u30e2\u30fc\u30c8 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u300d\u306b\u8a18\u5165\u3057\u3001\u300c\u540c\u671f\u30d6\u30e9\u30a6\u30b8\u30f3\u30b0\u3092\u4f7f\u7528\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u307e\u3059\u3002\n\n\n\u300c\u65e2\u5b9a\u306e\u30ea\u30e2\u30fc\u30c8 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u300d\u306f\u3001SFTP\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u306e\u7d76\u5bfe\u30d1\u30b9\u306b\u306a\u3063\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\u300c\u63a5\u7d9a\u300d\n\n\n \u53c2\u8003\u30da\u30fc\u30b8\u30fb\u811a\u6ce8\n\n\n\n\n2015-11-01\u73fe\u5728\u306e\u6700\u65b0\u5b89\u5b9a\u7248\u00a0\u21a9\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u901a\u4fe1\u4e2d\u306e\u5834\u5408\u306f\u5f37\u5236\u7684\u306b\u5207\u65ad\u3057\u307e\u3059\u3002\u00a0\u21a9\n\n\nsystemctl \u30b3\u30de\u30f3\u30c9\u3092\u4ecb\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001systemctl status httpd \u3067\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u8868\u793a\u3057\u305f\u969b\u3001Active \u6b04\u306b failed (Result: exit-code) \u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u00a0\u21a9\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u901a\u4fe1\u4e2d\u306e\u5b50\u30d7\u30ed\u30bb\u30b9\u3092\u5f37\u5236\u7d42\u4e86\u305b\u305a\u3001\u901a\u4fe1\u304c\u7d42\u308f\u3063\u305f\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u9806\u306b\u505c\u6b62\u3057\u307e\u3059\u3002\u00a0\u21a9\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u901a\u4fe1\u4e2d\u306e\u5b50\u30d7\u30ed\u30bb\u30b9\u3092\u5f37\u5236\u7d42\u4e86\u305b\u305a\u3001\u901a\u4fe1\u304c\u7d42\u308f\u3063\u305f\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u9806\u306b\u65b0\u3057\u3044\u30d7\u30ed\u30bb\u30b9\u306b\u7f6e\u304d\u63db\u3048\u3066\u3044\u304d\u307e\u3059\u3002\u00a0\u21a9\n\n\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306b\u306f /var/log/httpd \u4ee5\u4e0b\u306e\u8aad\u307f\u8fbc\u307f\u6a29\u9650\u304c\u4e0e\u3048\u3089\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u30ed\u30b0\u3084\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306e\u8aad\u307f\u53d6\u308a\u306b\u306f root \u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002\u00a0\u21a9\n\n\nnano (\u65e5\u672c\u8a9e) - ArchWiki\u00a0\u21a9\n\n\n37.nano\u30a8\u30c7\u30a3\u30bf\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3001nanorc\u3092\u3044\u3058\u308b | Linux\u30b2\u30ea\u30e9\u6226\u8a18\u00a0\u21a9\n\n\nMySQL 5.5.3-m3, 5.5.4-m3 \u540c\u6642\u30ea\u30ea\u30fc\u30b9 - sakaik\u306e\u65e5\u3005\u96d1\u611f\uff5e(T)\u7de8\u00a0\u21a9\n\n\nmysql Options | mysql Command-line Client - MariaDB Knowledge Base\u00a0\u21a9\n\n\n\u3044\u3056\u30ed\u30b0\u30a4\u30f3\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u304d\u306b\u8a8d\u8a3c\u5931\u6557\u3057\u306a\u3044\u3088\u3046\u3001\u8a18\u53f7\u3084\u6697\u53f7\u5316\u65b9\u5f0f\u306e\u4e92\u63db\u6027 \u306b\u76ee\u3092\u901a\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\u00a0\u21a9\n\n\nOpenSSH \u5f62\u5f0f\u3067\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\u00a0\u21a9\n\n\n\n<i class=\"fa fa-puzzle-piece\"></i> \u5c0e\u5165\n=======================================\n\u3055\u304f\u3089\u306e VPS \u306eOS\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3088\u3063\u3066 CentOS 7 \u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u305f\u969b\u306b\u975e\u5e38\u306b\u624b\u9593\u53d6\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u5099\u5fd8\u3068\u3057\u3066\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n[\u3059\u3067\u306bOpenSSH\u3092\u5229\u7528\u3057\u3066\u3044\u308b] \u3053\u3068\u3092\u524d\u63d0\u3067\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u306f Windows 7 \u4e0a\u3067 [FileZilla Client] \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u9375\u751f\u6210\u306b\u306f [Tera Term] \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n[\u3059\u3067\u306bOpenSSH\u3092\u5229\u7528\u3057\u3066\u3044\u308b]: http://qiita.com/100/items/dd13912f1cf5ea14d42a \"CentOS 7 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068 SSH \u63a5\u7d9a (\u3055\u304f\u3089\u306eVPS) - Qiita\"\n[FileZilla Client]: https://ja.wikipedia.org/wiki/FileZilla \"\u30d0\u30a4\u30ca\u30ea\u7248\u306f Windows\u3001Linux\u3001OS X \u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3002FTP\u3001SFTP\u3001FTPS \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3002\"\n[Tera Term]: https://ja.wikipedia.org/wiki/Tera_Term \"Tera Term(\u30c6\u30e9\u30bf\u30fc\u30e0)\u306f\u3001\u5143\u3005\u306f\u5bfa\u897f \u9ad8\u306b\u3088\u3063\u3066\u958b\u767a\u30fb\u516c\u958b\u3055\u308c\u3001\u73fe\u5728\u3067\u306fTeraTerm Project\u306b\u3088\u3063\u3066\u4fee\u6b63BSD\u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u30ea\u30e2\u30fc\u30c8\u30ed\u30b0\u30aa\u30f3\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u3042\u308b\u3002SSH\u30fbtelnet\u30fb\u30b7\u30ea\u30a2\u30eb\u306e\u5404\u901a\u4fe1\u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u5bfe\u5fdc\u3057\u3001Microsoft Windows\u3067\u4f7f\u7528\u3067\u304d\u308b\u3002\"\n\n<i class=\"fa fa-question-circle\"></i> Apache\n============================================\n<i class=\"fa fa-download\"></i> \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n-------------------------------------------\nCentOS \u306e\u516c\u5f0f yum \u30ea\u30dd\u30b8\u30c8\u30ea\u3067 Apache 2.4 \u306e RPM \u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u3055\u304f\u3089\u306e VPS \u306e\u5834\u5408\u306f\u3059\u3067\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u6709\u52b9\u5316\u3068\u8d77\u52d5\u306f\u5fc5\u8981\u3067\u3059\u3002\n\n```sh\n# Apache\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install httpd\n\n# httpd.service \u306e\u6709\u52b9\u5316 (OS\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u7684\u306b\u8d77\u52d5)\nsudo systemctl enable httpd\n\n# \u8d77\u52d5\nsudo systemctl start httpd\n```\n\n\u6b21\u306e\u8a18\u4e8b\u306a\u3069\u3092\u53c2\u8003\u306bApache\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n* [Apache \u306b\u95a2\u3059\u308b SELinux \u306e\u8a2d\u5b9a - Qiita](http://qiita.com/100/items/f7f43994568836b4a453 \"SELinux\u306f\u3001\u3069\u306e\u30d7\u30ed\u30bb\u30b9\u304c\u3001\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3001\u3069\u306e\u3088\u3046\u306a\u64cd\u4f5c\uff08\u8aad\u307f\u53d6\u308a\u3084\u66f8\u304d\u8fbc\u307f\uff09\u304c\u3067\u304d\u308b\u304b\u3092\u8a2d\u5b9a\u3059\u308bLinux\u306e\u62e1\u5f35\u6a5f\u80fd\u3067\u3059\u3002\")\n* [Apache 2.4 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u8a18\u8ff0\u4f8b - Qiita](http://qiita.com/100/items/ab31e57fcc66ac661d5c \"CentOS 7 \u306e\u516c\u5f0f yum \u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308bApache\u3067\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u308c\u4f8b\u5916\u306eOS\u3067\u306f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u5834\u6240 (\u82f1\u8a9e) \u3084\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306e\u521d\u671f\u5024\u304c\u7570\u306a\u308b\u5834\u5408\u304c\u3042\u308b\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\")\n\n<i class=\"fa fa-arrows-h\"></i> WebSocket\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30af\u30b7\n----------------------------------------------------------\n[WebSocket] \u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30af\u30b7\u3092\u5b9f\u73fe\u3059\u308b mod_proxy_wstunnel.so \u306f\u3001CentOS\u6a19\u6e96\u30ea\u30dd\u30b8\u30c8\u30ea\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3082\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u3053\u308c\u3092\u4f7f\u3046\u3068\u5207\u65ad\u6642\u306b Opera \u3084 Google Chrome \u3067 `WebSocket connection to 'ws://example.com/' failed: One or more reserved bits are on: reserved1 = 0, reserved2 = 1, reserved3 = 1` \u306e\u3088\u3046\u306a\u4f8b\u5916\u304c\u6295\u3052\u51fa\u3055\u308c\u307e\u3059\u3002\n\n\u305d\u3053\u3067 [Fedora] \u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089 mod_proxy_wstunnel.so \u3092\u53d6\u308a\u51fa\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\n\u307e\u305a [\u30d1\u30c3\u30b1\u30fc\u30b8\u7f72\u540d\u9375] \u304b\u3089 Fedora 22 [^fedora-stable] \u306e\u516c\u958b\u9375\u304c\u7f6e\u304b\u308c\u3066\u3044\u308bURL\u3092\u635c\u3057\u3001\u53d6\u308a\u8fbc\u307f\u307e\u3059\u3002RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u53d6\u5f97\u306b `yumdownloader` \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3059\u308b\u306e\u3067\u3001\u305d\u306e\u30b3\u30de\u30f3\u30c9\u304c\u542b\u307e\u308c\u308b [YumUtils] \u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```sh\n# Fedora22\u306e\u516c\u958b\u9375\u3092\u53d6\u308a\u8fbc\u3080\nsudo rpm --import https://fedoraproject.org/static/8E1431D5.txt\n# YumUtils\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install yum-utils\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u4f5c\u6210\u3057\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb (\\*.repo) \u3067\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u6709\u52b9\u5316\u3059\u308b\u5834\u5408\u306f\u3001[*.repo \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8] \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```ini:/etc/yum.repos.d/fedora.repo\n[fedora-22-updates]\nname=Fedora 22 - $basearch - Updates\n#baseurl=https://download.fedoraproject.org/pub/fedora/linux/updates/22/$basearch/\nmirrorlist=https://mirrors.fedoraproject.org/mirrorlist?repo=updates-released-f22&arch=$basearch\nfailovermethod=priority\nenabled=0\ngpgcheck=1\ngpgkey=https://getfedora.org/static/8E1431D5.txt\n```\n\nApache\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u3066\u304a\u304d\u307e\u3059\u3002Apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb (\\*.conf) \u3067\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u6709\u52b9\u5316\u3059\u308b\u5834\u5408\u306f\u3001[*.conf \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8] \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```apache:/etc/httpd/conf.modules.d/00-proxy.conf\n# This file configures all the proxy modules:\nLoadModule proxy_module modules/mod_proxy.so\nLoadModule lbmethod_bybusyness_module modules/mod_lbmethod_bybusyness.so\nLoadModule lbmethod_byrequests_module modules/mod_lbmethod_byrequests.so\nLoadModule lbmethod_bytraffic_module modules/mod_lbmethod_bytraffic.so\nLoadModule lbmethod_heartbeat_module modules/mod_lbmethod_heartbeat.so\nLoadModule proxy_ajp_module modules/mod_proxy_ajp.so\nLoadModule proxy_balancer_module modules/mod_proxy_balancer.so\nLoadModule proxy_connect_module modules/mod_proxy_connect.so\nLoadModule proxy_express_module modules/mod_proxy_express.so\nLoadModule proxy_fcgi_module modules/mod_proxy_fcgi.so\nLoadModule proxy_fdpass_module modules/mod_proxy_fdpass.so\nLoadModule proxy_ftp_module modules/mod_proxy_ftp.so\nLoadModule proxy_http_module modules/mod_proxy_http.so\nLoadModule proxy_scgi_module modules/mod_proxy_scgi.so\nLoadModule proxy_wstunnel_module modules/mod_proxy_wstunnel-fedora.so\n## \u2191\u3053\u306e\u884c\u3092\u8ffd\u8a18 ##\n```\n\n```sh\n# httpd\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nyumdownloader --enablerepo=fedora-22-updates httpd.x86_64\n# mod_proxy_wstunnel.so\u3092\u62bd\u51fa\u3057\u3066\u914d\u7f6e\n(rpm2cpio httpd-*.fc22.x86_64.rpm | cpio --extract --to-stdout '*/mod_proxy_wstunnel.so') | sudo tee /usr/lib64/httpd/modules/mod_proxy_wstunnel-fedora.so > /dev/null\n# \u914d\u7f6e\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u6a29\u9650\u3092\u4fee\u6b63\nsudo chmod 755 /usr/lib64/httpd/modules/mod_proxy_wstunnel-fedora.so\n# RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u524a\u9664\nrm httpd-*.fc22.x86_64.rpm\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u6587\u6cd5\u30c1\u30a7\u30c3\u30af\napachectl configtest\n# Apache\u306e\u518d\u8d77\u52d5\nsudo systemctl reload httpd\n```\n\n\n\n[WebSocket]: http://www.hcn.zaq.ne.jp/___/WEB/RFC6455-ja.html \"WebSocket Protocol \u306f\u3001\u5236\u5fa1\u3055\u308c\u305f\u74b0\u5883\u4e0b\u3067\u4fe1\u983c\u3067\u304d\u306a\u3044\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\uff0c\u305d\u306e\u30b3\u30fc\u30c9\u304b\u3089\u306e\u901a\u4fe1\u306b\u5bfe\u3059\u308b\u30aa\u30d7\u30c8\u30a4\u30f3\u3092\u5099\u3048\u308b\u30ea\u30e2\u30fc\u30c8\u00ad\u30db\u30b9\u30c8\u3068\u306e\u9593\u306e\u53cc\u8def\u901a\u4fe1\u3092\u53ef\u80fd\u306b\u3059\u308b\u3002\"\n[Fedora]: https://ja.wikipedia.org/wiki/Fedora \"Fedora\uff08\u30d5\u30a7\u30c9\u30e9\uff09\u306f\u3001\u30ec\u30c3\u30c9\u30cf\u30c3\u30c8\u793e\u304c\u652f\u63f4\u3059\u308b\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u300cFedora Project\u300d\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u3001RPM\u7cfbLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u3042\u308b\u3002\"\n[^fedora-stable]: 2015-11-01\u73fe\u5728\u306e\u6700\u65b0\u5b89\u5b9a\u7248\n[\u30d1\u30c3\u30b1\u30fc\u30b8\u7f72\u540d\u9375]: https://getfedora.org/keys/ \"\u3053\u306e\u30da\u30fc\u30b8\u306b\u306f\u3001Fedora \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u7f72\u540d\u306b\u4f7f\u7528\u3055\u308c\u308b\u516c\u958b GPG \u9375\u306e\u4e00\u89a7\u3092\u63b2\u8f09\u3057\u3066\u3044\u307e\u3059\u3002\"\n[YumUtils]: http://yum.baseurl.org/wiki/YumUtils \"yum-utils is a collection of utilities and plugins extending and supplementing yum in different ways.\"\n[*.conf \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8]: http://qiita.com/100/items/ab31e57fcc66ac661d5c#apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb-conf-\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\n\n<i class=\"fa fa-shield\"></i> \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\n---------------------------------------------------\n\n```sh\n#\u3010mod_ssl\u3092\u5229\u7528\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3011TCP\u306e80\u756a\u30dd\u30fc\u30c8\u306e\u901a\u4fe1\u3092\u8a31\u53ef\nsudo firewall-cmd --permanent --add-service=http\n\n#\u3010mod_ssl\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3011TCP\u306e80\u756a\u30dd\u30fc\u30c8\u3068443\u756a\u30dd\u30fc\u30c8\u306e\u901a\u4fe1\u3092\u8a31\u53ef\nsudo firewall-cmd --permanent --add-service=http --add-service=https\n\n# firewalld \u306e\u8a2d\u5b9a\u3092\u518d\u8aad\u307f\u8fbc\u307f\nsudo firewall-cmd --reload\n```\n\n\u65e2\u5b9a\u306e\u30dd\u30fc\u30c8\u4ee5\u5916\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a31\u53ef\u3057\u307e\u3059\u3002\n\n```sh\n# (\u4f8b) TCP\u306e49152\u756a\u30dd\u30fc\u30c8\u306e\u901a\u4fe1\u3092\u8a31\u53ef\nsudo firewall-cmd --permanent --add-service=49152/tcp\n```\n\n<i class=\"fa fa-wrench\"></i> Apache\u306e\u64cd\u4f5c\n=========================================\n\n| \u30b3\u30de\u30f3\u30c9                                                   | \u52b9\u679c                                                                         |\n|------------------------------------------------------------|------------------------------------------------------------------------------|\n| `httpd -v`                                                 | \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002                                                     |\n| `apachectl configtest`                                     | \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u6587\u6cd5\u30df\u30b9\u304c\u7121\u3044\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002                                   |\n| `sudo systemctl start httpd`                               | \u30b5\u30fc\u30d3\u30b9\u3092\u958b\u59cb\u3057\u307e\u3059\u3002                                                       |\n| `sudo httpd -k stop`                                       | \u30b5\u30fc\u30d3\u30b9\u3092[\u505c\u6b62]\u3057\u307e\u3059\u3002[^close] [^failed]                                   |\n| `sudo systemctl stop httpd`                                | \u30b5\u30fc\u30d3\u30b9\u3092[\u7de9\u3084\u304b\u306b\u505c\u6b62]\u3057\u307e\u3059\u3002[^graceful-stop]                             |\n| `sudo httpd -k restart`                                    | \u30b5\u30fc\u30d3\u30b9\u3092[\u518d\u8d77\u52d5]\u3057\u307e\u3059\u3002[^close]                                           |\n| `sudo service httpd reload`                                | \u30b5\u30fc\u30d3\u30b9\u3092[\u7de9\u3084\u304b\u306b\u518d\u8d77\u52d5]\u3057\u307e\u3059\u3002[^graceful-restart]                        |\n| `sudo httpd -k stop; sleep 1s; sudo systemctl start httpd` | \u30b5\u30fc\u30d3\u30b9\u3092\u89aa\u30d7\u30ed\u30bb\u30b9\u3082\u542b\u3081\u3066\u5b8c\u5168\u306b\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002[^close]                     |\n| `sudo systemctl restart httpd`                             | \u30b5\u30fc\u30d3\u30b9\u304c[\u7de9\u3084\u304b\u306b\u505c\u6b62]\u3059\u308b\u306e\u3092\u5f85\u6a5f\u3057\u305f\u5f8c\u3067\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002                   |\n| `sudo tail /var/log/httpd/error_log`                       | `tail` \u30b3\u30de\u30f3\u30c9\u3067\u30a8\u30e9\u30fc\u30ed\u30b0\u306e\u672b\u5c3e10\u884c\u3092\u8868\u793a\u3057\u307e\u3059\u3002[^permission]             |\n| `sudo tail /var/log/httpd/access_log`                      | `tail` \u30b3\u30de\u30f3\u30c9\u3067\u5e73\u6587\u63a5\u7d9a\u306e\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306e\u672b\u5c3e10\u884c\u3092\u8868\u793a\u3057\u307e\u3059\u3002[^permission] |\n| `sudo tail /var/log/httpd/ssl_access_log`                  | `tail` \u30b3\u30de\u30f3\u30c9\u3067TLS\u63a5\u7d9a\u306e\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306e\u672b\u5c3e10\u884c\u3092\u8868\u793a\u3057\u307e\u3059\u3002[^permission]  |\n\n[\u505c\u6b62]: https://httpd.apache.org/docs/current/stopping.html#term \"\u6025\u306a\u505c\u6b62 | Apache HTTP Server \u306e\u505c\u6b62\u3068\u518d\u8d77\u52d5 - Apache HTTP \u30b5\u30fc\u30d0 \u30d0\u30fc\u30b8\u30e7\u30f3 2.4\"\n[\u7de9\u3084\u304b\u306b\u505c\u6b62]: https://httpd.apache.org/docs/current/stopping.html#graceful \"\u7de9\u3084\u304b\u306a\u505c\u6b62 | Apache HTTP Server \u306e\u505c\u6b62\u3068\u518d\u8d77\u52d5 - Apache HTTP \u30b5\u30fc\u30d0 \u30d0\u30fc\u30b8\u30e7\u30f3 2.4\"\n[\u518d\u8d77\u52d5]: https://httpd.apache.org/docs/current/stopping.html#hup \"\u6025\u306a\u518d\u8d77\u52d5 | Apache HTTP Server \u306e\u505c\u6b62\u3068\u518d\u8d77\u52d5 - Apache HTTP \u30b5\u30fc\u30d0 \u30d0\u30fc\u30b8\u30e7\u30f3 2.4\"\n[\u7de9\u3084\u304b\u306b\u518d\u8d77\u52d5]: https://httpd.apache.org/docs/current/stopping.html#graceful \"\u7de9\u3084\u304b\u306a\u518d\u8d77\u52d5 | Apache HTTP Server \u306e\u505c\u6b62\u3068\u518d\u8d77\u52d5 - Apache HTTP \u30b5\u30fc\u30d0 \u30d0\u30fc\u30b8\u30e7\u30f3 2.4\"\n[^close]: \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u901a\u4fe1\u4e2d\u306e\u5834\u5408\u306f\u5f37\u5236\u7684\u306b\u5207\u65ad\u3057\u307e\u3059\u3002\n[^failed]: `systemctl` \u30b3\u30de\u30f3\u30c9\u3092\u4ecb\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001`systemctl status httpd` \u3067\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u8868\u793a\u3057\u305f\u969b\u3001Active \u6b04\u306b `failed (Result: exit-code)` \u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n[^graceful-stop]: \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u901a\u4fe1\u4e2d\u306e\u5b50\u30d7\u30ed\u30bb\u30b9\u3092\u5f37\u5236\u7d42\u4e86\u305b\u305a\u3001\u901a\u4fe1\u304c\u7d42\u308f\u3063\u305f\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u9806\u306b\u505c\u6b62\u3057\u307e\u3059\u3002\n[^graceful-restart]: \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u901a\u4fe1\u4e2d\u306e\u5b50\u30d7\u30ed\u30bb\u30b9\u3092\u5f37\u5236\u7d42\u4e86\u305b\u305a\u3001\u901a\u4fe1\u304c\u7d42\u308f\u3063\u305f\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u9806\u306b\u65b0\u3057\u3044\u30d7\u30ed\u30bb\u30b9\u306b\u7f6e\u304d\u63db\u3048\u3066\u3044\u304d\u307e\u3059\u3002\n[^permission]: \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306b\u306f `/var/log/httpd` \u4ee5\u4e0b\u306e\u8aad\u307f\u8fbc\u307f\u6a29\u9650\u304c\u4e0e\u3048\u3089\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u30ed\u30b0\u3084\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306e\u8aad\u307f\u53d6\u308a\u306b\u306f root \u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n<i class=\"fa fa-database\"></i> MariaDB\n======================================\n<i class=\"fa fa-file-text\"></i> *.repo \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\n---------------------------------------------------------------\nCentOS \u6a19\u6e96\u306e yum \u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u306e\u3046\u3061 Vim \u4ee5\u5916\u306e\u30a8\u30c7\u30a3\u30bf\u306f\u3001\u521d\u671f\u72b6\u614b\u3067\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u304c\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u306a\u3069\u3092\u884c\u3044\u3001\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\n### Emacs\n\u500b\u4eba\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u4f5c\u6210 (\u307e\u305f\u306f\u8ffd\u8a18) \u3057\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u304c `.repo` \u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3092 conf-mode \u3067\u958b\u304f\u3088\u3046\u306b\u3059\u308b\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```el:~/.emacs\n;; .repo \u30d5\u30a1\u30a4\u30eb\u3092 Conf \u30e2\u30fc\u30c9\u3067\u958b\u304f\n(add-to-list 'auto-mode-alist '(\"\\\\.repo$\" . conf-mode))\n```\n\n### gedit\n\u30d5\u30a1\u30a4\u30eb\u540d\u304c `.repo` \u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3092 INI \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u958b\u304f\u3088\u3046\u306b\u3057\u3001\u4e00\u884c\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u958b\u59cb\u6587\u5b57\u306b `#` \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```xml:/usr/share/gtksourceview-*/language-specs/ini.lang\n                    <!--##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############-->\n\n  <metadata>\n    <property name=\"mimetypes\">text/x-ini-file;application/x-ini-file</property>\n    <property name=\"globs\">*.ini;*.repo</property><!--## *.repo \u3092\u8ffd\u52a0 ##-->\n    <property name=\"line-comment-start\">;</property>\n  </metadata>\n\n                    <!--##############\n                        ##   \u4e2d\u7565   ##\n                        ##############-->\n\n  <definitions>\n    <context id=\"line-comment\" style-ref=\"comment\" end-at-line-end=\"true\">\n      <start>;</start>\n    </context>\n    <!--## \u3053\u3053\u304b\u3089 ##-->\n    <context id=\"bash-line-comment\" style-ref=\"comment\" end-at-line-end=\"true\">\n      <start>#</start>\n    </context><!--## \u3053\u3053\u307e\u3067 ##-->\n    <context id=\"group\" style-ref=\"keyword\">\n      <start>^\\[</start>\n      <end>\\]$</end>\n    </context>\n\n                    <!--##############\n                        ##   \u4e2d\u7565   ##\n                        ##############-->\n\n    <context id=\"ini\">\n      <include>\n        <context ref=\"line-comment\"/>\n        <context ref=\"bash-line-comment\"/><!--## \u8ffd\u52a0 ##-->\n        <context ref=\"group\"/>\n        <context ref=\"non-standard-key\"/>\n        <context ref=\"language\"/>\n        <context ref=\"variable\"/>\n        <context ref=\"boolean-value\"/>\n        <context ref=\"single-quoted-string\"/>\n        <context ref=\"double-quoted-string\"/>\n        <context ref=\"decimal-number\"/>\n        <context ref=\"integer\"/>\n      </include>\n    </context>\n  </definitions>\n</language>\n```\n\n### Kate\n\u30d5\u30a1\u30a4\u30eb\u540d\u304c `.repo` \u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3092 INI \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u958b\u304f\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```xml:/usr/share/kde*/apps/katepart/syntax/ini.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE language SYSTEM \"language.dtd\">\n<language name=\"INI Files\" section=\"Configuration\" extensions=\"*.ini;*.pls;*.kcfgc;*.repo\" mimetype=\"\" version=\"1.1\" kateversion=\"2.0\" author=\"Jan Janssen (medhefgo@web.de)\" license=\"LGPL\"> <!-- extensions\u5c5e\u6027\u5024\u306b *.repo \u3092\u8ffd\u52a0 -->\n\n                    <!--##############\n                        ## \u4ee5\u4e0b\u7701\u7565 ##\n                        ##############-->\n```\n\n### nano\nArch Linux \u306e [nano-syntax-highlighting-git] \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5229\u7528\u3057\u307e\u3059\u3002[^nano] [^nanorc]\n\n```sh\n# INI\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u884c\u3046\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nwget https://raw.githubusercontent.com/scopatz/nanorc/master/ini.nanorc\n\n# .repo \u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3092INI\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u6271\u3046\u3088\u3046\u306b\u3059\u308b\nsed --in-place 's/)\\$/|repo)$/' ini.nanorc\n\n# \u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u884c\u3046\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4fdd\u7ba1\u5834\u6240\u306b\u79fb\u52d5\nsudo mv ini.nanorc /usr/share/nano/\n\n# nano\u306e\u500b\u4eba\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u3059\u308b\necho $'\\n\\n'## INI files$'\\n'include \"/usr/share/nano/ini.nanorc\" >> ~/.nanorc\n```\n\n[nano-syntax-highlighting-git]: https://aur.archlinux.org/packages/nano-syntax-highlighting-git/ \"nano\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u6a5f\u80fd\u3092\u5f37\u5316\u3059\u308b\"\n[^nano]: [nano (\u65e5\u672c\u8a9e) - ArchWiki](https://wiki.archlinux.org/index.php/Nano_%28%E6%97%A5%E6%9C%AC%E8%AA%9E%29#.E3.82.B7.E3.83.B3.E3.82.BF.E3.83.83.E3.82.AF.E3.82.B9.E3.83.8F.E3.82.A4.E3.83.A9.E3.82.A4.E3.83.88)\n[^nanorc]: [37.nano\u30a8\u30c7\u30a3\u30bf\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3001nanorc\u3092\u3044\u3058\u308b | Linux\u30b2\u30ea\u30e9\u6226\u8a18](http://www.garunimo.com/program/linux/linux37.xhtml)\n\n<i class=\"fa fa-download\"></i> \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n-------------------------------------------\nCentOS \u306e\u516c\u5f0f\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u306f\u3001\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3042\u308b MariaDB 5.5 \u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u3053\u3067MariaDB\u306e\u516c\u5f0f\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u3001\u305d\u3061\u3089\u304b\u3089\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n[yum \u306b\u3088\u308b MariaDB \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb - MariaDB Knowledge Base](https://mariadb.com/kb/ja/yum/ \"CentOS\u3001RedHat\u3001Fedora \u306e\u5834\u5408\u3001yum \u3092\u4f7f\u7528\u3057\u3066\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3092\u5f37\u304f\u63a8\u5968\u3057\u307e\u3059\u3002\")\n\n\u4e0a\u306e\u30da\u30fc\u30b8\u306b\u76ee\u3092\u901a\u3057\u3001\u624b\u9806\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b8c\u4e86\u3055\u305b\u307e\u3059\u3002\n\n```ini:/etc/yum.repos.d/MariaDB.repo\n[mariadb]\nname = MariaDB\nbaseurl = http://yum.mariadb.org/10.1/centos7-amd64\ngpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB\ngpgcheck=1\n```\n\n```sh\n# MariaDB\u306e\u30b5\u30fc\u30d0\u30fc\u30fb\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install MariaDB-server MariaDB-client\n\n# \u8d77\u52d5\nsudo systemctl start mariadb\n```\n\nRPM \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u5f8c\u306b GPG \u516c\u958b\u9375\u3092\u53d6\u308a\u8fbc\u3093\u3067\u3082\u826f\u3044\u304b\u8a0a\u306d\u3089\u308c\u308b\u305f\u3081\u3001Fingerprint \u304c https://mariadb.com/kb/ja/gpg/ \u3068\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u7121\u8996\u3067\u4e00\u81f4\u3059\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n<i class=\"fa\">\ufffd</i> \u7b26\u53f7\u5316\u65b9\u5f0f\u306e\u8a2d\u5b9a\n------------------------------------\nMariaDB \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb (\\*.cnf) \u3067\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u6709\u52b9\u5316\u3059\u308b\u5834\u5408\u306f\u3001[*.repo \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8] \u306e `repo` \u3092 `cnf` \u306b\u8aad\u307f\u66ff\u3048\u3066\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n### \u30b5\u30fc\u30d0\u30fc\nMariaDB \u306e\u65e2\u5b9a\u306e\u6587\u5b57\u96c6\u5408 (character set) \u306f `latin1` \u3067\u3001\u3053\u308c\u306f\u300cwindows-1252\u300d\u3068\u3044\u3046\u7b26\u53f7\u5316\u65b9\u5f0f (\u6587\u5b57\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0) \u3092\u8868\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u3001MariaDB \u3067\u300cutf-8\u300d\u3092\u8868\u3059\u6587\u5b57\u96c6\u5408\u3067\u3042\u308b `utf8mb4` \u3078\u5909\u66f4\u3057\u307e\u3059\u3002\u306a\u304a\u3001MariaDB \u306e\u6587\u5b57\u96c6\u5408 `utf8` \u306f\u3001\u300c\u88dc\u52a9\u6587\u5b57 (4\u30d0\u30a4\u30c8\u6587\u5b57) \u3092\u6271\u3048\u306a\u3044utf-8\u300d\u3092\u8868\u3057\u307e\u3059\u3002\n\n```ini:/etc/my.cnf.d/server.cnf\n#\n# These groups are read by MariaDB server.\n# Use it for options that only the server (but not clients) should see\n#\n# See the examples of server my.cnf files in /usr/share/mysql/\n#\n\n# this is read by the standalone daemon and embedded servers\n[server]\ncharacter-set-server=utf8mb4\nlog-bin=mariadb-bin\n## \u2191\u3053\u306e2\u884c\u3092\u8ffd\u52a0 ##\nevent-scheduler=ON\n## \u2191\u30a4\u30d9\u30f3\u30c8\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u3092\u6709\u52b9\u5316\u3059\u308b\u5834\u5408\u306f\u3053\u306e\u884c\u3082\u8ffd\u52a0 ##\n\n# this is only for the mysqld standalone daemon\n[mysqld]\n\n# this is only for embedded server\n[embedded]\n\n# This group is only read by MariaDB servers, not by MySQL.\n# If you use the same .cnf file for MySQL and MariaDB,\n# you can put MariaDB-only options here\n[mariadb]\n\n# This group is only read by MariaDB-10.0 servers.\n# If you use the same .cnf file for MariaDB of different versions,\n# use this group for options that older servers don't understand\n[mariadb-10.0]\n```\n\n[character_set_server] \u306b\u3088\u3063\u3066\u3001[character_set_database]\u3001[collation_server]\u3001[collation_database] \u306f\u81ea\u52d5\u7684\u306b\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\u4e0a\u8a18\u306e [log-bin] \u306e\u5024 `mariadb-bin` \u306f\u30d0\u30a4\u30ca\u30ea\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u63a5\u982d\u8f9e\u3067\u3001\u4efb\u610f\u306e\u5024\u3067\u304b\u307e\u3044\u307e\u305b\u3093\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u7b26\u53f7\u5316\u65b9\u5f0f\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u8a2d\u5b9a\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002\n\n```sh\n# \u8a2d\u5b9a\u306e\u53cd\u6620\nsudo systemctl restart mariadb\n```\n\n`systemctl reload mariadb` \u3067\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u5909\u6570\u306e\u8a2d\u5b9a\u306f\u53cd\u6620\u3055\u308c\u307e\u305b\u3093\u3002\n\n### \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\nMariaDB-client \u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u542b\u307e\u308c\u308b\u30b3\u30de\u30f3\u30c9 (`mysql` \u306a\u3069) \u306e\u65e2\u5b9a\u306e\u7b26\u53f7\u5316\u65b9\u5f0f\u306f `auto` \u3067\u3001\u3053\u308c\u3092 `utf8mb4` \u306b\u5909\u66f4\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```ini:/etc/my.cnf.d/client.cnf\n#\n# These two groups are read by the client library\n# Use it for options that affect all clients, but not the server\n#\n\n\n[client]\ndefault-character-set=utf8mb4\n## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n\n# This group is not read by mysql client library,\n# If you use the same .cnf file for MySQL and MariaDB,\n# use it for MariaDB-only client options\n[client-mariadb]\n\n```\n\n\u306a\u304a\u3001default_character_set \u304c\u5ec3\u6b62\u3055\u308c [character_set_server] \u306b\u6539\u540d\u3055\u308c\u305f\u3068\u3044\u3046\u306e\u306f\u30b5\u30fc\u30d0\u30fc\u30b7\u30b9\u30c6\u30e0\u5909\u6570\u306e\u8a71\u3067\u3059\u3002`mysql` \u30b3\u30de\u30f3\u30c9\u306a\u3069\u3067\u306f --default-character-set \u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u307e\u307e\u306a\u306e\u3067\u3001\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002 [^server] [^client]\n\n[*.repo \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8]: #-repo-\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\n[character_set_server]: https://mariadb.com/kb/en/mariadb/server-system-variables/#character_set_server \"\u30b5\u30fc\u30d0\u30fc\u3067\u4f7f\u308f\u308c\u308b\u65e2\u5b9a\u306e\u6587\u5b57\u96c6\u5408\u3002\"\n[character_set_database]: https://mariadb.com/kb/en/mariadb/server-system-variables/#character_set_database \"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u4f7f\u308f\u308c\u308b\u65e2\u5b9a\u306e\u6587\u5b57\u96c6\u5408\u3002\u624b\u52d5\u3067\u8a2d\u5b9a\u3059\u3079\u304d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\"\n[collation_server]: https://mariadb.com/kb/en/mariadb/server-system-variables/#collation_server \"\u30b5\u30fc\u30d0\u30fc\u3067\u4f7f\u308f\u308c\u308b\u65e2\u5b9a\u306e\u7167\u5408\u9806\u5e8f\u3002\"\n[collation_database]: https://mariadb.com/kb/en/mariadb/server-system-variables/#collation_database \"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u4f7f\u308f\u308c\u308b\u65e2\u5b9a\u306e\u7167\u5408\u9806\u5e8f\u3002\u624b\u52d5\u3067\u8a2d\u5b9a\u3059\u3079\u304d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\"\n[log-bin]: https://mariadb.com/kb/en/mariadb/replication-and-binary-log-server-system-variables/#log_bin \"\u30d0\u30a4\u30ca\u30ea\u30ed\u30b0\u304c\u6709\u52b9\u304b\u5426\u304b\u3002\"\n[^server]: [MySQL 5.5.3-m3, 5.5.4-m3 \u540c\u6642\u30ea\u30ea\u30fc\u30b9 - sakaik\u306e\u65e5\u3005\u96d1\u611f\uff5e(T)\u7de8](http://sakaik.hateblo.jp/entry/20100414/mysql533 \"\u3055\u3089\u306b mysql \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066\u306f character-set-client \u3067\u306f\u306a\u304f default-character-set \u306e\u307e\u307e\u306a\u306e\u3067\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\")\n[^client]: [mysql Options | mysql Command-line Client - MariaDB Knowledge Base](https://mariadb.com/kb/en/mariadb/mysql-command-line-client/#codemysqlcode-options \"--default-character-set=name Set the default character set.\")\n\n<i class=\"fa fa-cog\"></i> \u305d\u306e\u4ed6\u306e\u521d\u671f\u8a2d\u5b9a\n------------------------------------------\n[mysql_secure_installation - MariaDB Knowledge Base](https://mariadb.com/kb/ja/mysql_secure_installation/ \"\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5229\u7528\u3059\u308b\u3068\u3001MariaDB\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u969b\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5411\u4e0a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\")\n\n\u4e0a\u306e\u30da\u30fc\u30b8\u306b\u76ee\u3092\u901a\u3057\u3001`mysql_secure_installation` \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002root \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u307e\u3060\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001`Set root password? [Y/n]` \u306b\u5bfe\u3057\u3066\u3082\u305d\u306e\u307e\u307e Enter \u3092\u62bc\u3057\u307e\u3059\u3002[^\u8a18\u53f7]\n\n```text\n[100@localhost ~]$ mysql_secure_installation \u23ce\n\nNOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB\n      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!\n\nIn order to log into MariaDB to secure it, we'll need the current\npassword for the root user.  If you've just installed MariaDB, and\nyou haven't set the root password yet, the password will be blank,\nso you should just press enter here.\nEnter current password for root (enter for none): \u23ce    ## \u73fe\u5728\u306e\u30eb\u30fc\u30c8\u30d1\u30b9\u30ef\u30fc\u30c9\u3002\u672a\u8a2d\u5b9a\u306a\u306e\u3067\u305d\u306e\u307e\u307eEnter ##\nOK, successfully used password, moving on...\n\nSetting the root password ensures that nobody can log into the MariaDB\nroot user without the proper authorisation.\n\nSet root password? [Y/n] \u23ce                             ## MariaDB\u306eroot\u30e6\u30fc\u30b6\u30fc\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u304b\u8a0a\u304b\u308c\u308b\u3002\u300cY\u300d(Yes) \u304c\u65e2\u5b9a\u5024\u306a\u306e\u3067\u305d\u306e\u307e\u307eEnter ##\nNew password: ******** \u23ce                               ## MariaDB\u306eroot\u30e6\u30fc\u30b6\u30fc\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066Enter ##\nRe-enter new password: ******** \u23ce                      ## \u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5165\u529b\u3057\u3066Enter ##\nPassword updated successfully!\nReloading privilege tables..\n ... Success!\n\n\nBy default, a MariaDB installation has an anonymous user, allowing anyone\nto log into MariaDB without having to have a user account created for\nthem.  This is intended only for testing, and to make the installation\ngo a bit smoother.  You should remove them before moving into a\nproduction environment.\n\nRemove anonymous users? [Y/n] \u23ce                        ## \u533f\u540d\u30e6\u30fc\u30b6\u30fc\u3092\u524a\u9664\u3059\u308b\u304b\u8a0a\u304b\u308c\u308b\u3002\u300cY\u300d(Yes) \u304c\u65e2\u5b9a\u5024\u306a\u306e\u3067\u305d\u306e\u307e\u307eEnter ##\n ... Success!\n\nNormally, root should only be allowed to connect from 'localhost'.  This\nensures that someone cannot guess at the root password from the network.\n\nDisallow root login remotely? [Y/n] \u23ce                  ## root\u30e6\u30fc\u30b6\u30fc\u306e\u30ea\u30e2\u30fc\u30c8\u30ed\u30b0\u30a4\u30f3\u3092\u7981\u6b62\u3059\u308b\u304b\u8a0a\u304b\u308c\u308b\u3002\u300cY\u300d(Yes) \u304c\u65e2\u5b9a\u5024\u306a\u306e\u3067\u305d\u306e\u307e\u307eEnter ##\n ... Success!\n\nBy default, MariaDB comes with a database named 'test' that anyone can\naccess.  This is also intended only for testing, and should be removed\nbefore moving into a production environment.\n\nRemove test database and access to it? [Y/n] \u23ce         ## test\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u524a\u9664\u3059\u308b\u304b\u8a0a\u304b\u308c\u308b\u3002\u300cY\u300d(Yes) \u304c\u65e2\u5b9a\u5024\u306a\u306e\u3067\u305d\u306e\u307e\u307eEnter ##\n - Dropping test database...\n ... Success!\n - Removing privileges on test database...\n ... Success!\n\nReloading the privilege tables will ensure that all changes made so far\nwill take effect immediately.\n\nReload privilege tables now? [Y/n] \u23ce                   ## \u6a29\u9650\u30c6\u30fc\u30d6\u30eb\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3059\u308b\u304b\u8a0a\u304b\u308c\u308b\u3002\u300cY\u300d(Yes) \u304c\u65e2\u5b9a\u5024\u306a\u306e\u3067\u305d\u306e\u307e\u307eEnter ##\n ... Success!\n\nCleaning up...\n\nAll done!  If you've completed all of the above steps, your MariaDB\ninstallation should now be secure.\n\nThanks for using MariaDB!\n```\n\n[^\u8a18\u53f7]: \u3044\u3056\u30ed\u30b0\u30a4\u30f3\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u304d\u306b\u8a8d\u8a3c\u5931\u6557\u3057\u306a\u3044\u3088\u3046\u3001[\u8a18\u53f7\u3084\u6697\u53f7\u5316\u65b9\u5f0f\u306e\u4e92\u63db\u6027](http://qiita.com/100/items/dd13912f1cf5ea14d42a#-\u8a18\u53f7\u3084\u6697\u53f7\u5316\u65b9\u5f0f\u306e\u4e92\u63db\u6027) \u306b\u76ee\u3092\u901a\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n<i class=\"fa fa-user-plus\"></i> \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30ea\u30b9\u30c8\u30a2\u3068\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\n----------------------------------------------------------------------\n`mysql --user=root --password` \u3092\u5b9f\u884c\u3057\u3001MariaDB \u306e root \u30e6\u30fc\u30b6\u30fc\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002[^\u8a18\u53f7]\n\n```sql\n-- \u30ea\u30b9\u30c8\u30a2 (\u30d5\u30a1\u30a4\u30eb\u540d\u304c backup.sql \u306e\u5834\u5408)\nsource backup.sql;\n\n-- \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\u3068 \u2985\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540dA\u2986 \u306b\u5bfe\u3059\u308b\u6a29\u9650\u306e\u4ed8\u4e0e\nGRANT ALL PRIVILEGES ON '\u2985\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540dA\u2986'.* TO '\u2985MariaDB\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u2986'@localhost IDENTIFIED BY '\u2985MariaDB\u306e\u30e6\u30fc\u30b6\u30fc\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u2986';\n\n-- \u4f5c\u6210\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u306b \u2985\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540dB\u2986 \u306b\u5bfe\u3059\u308b\u6a29\u9650\u3082\u4ed8\u4e0e\nGRANT ALL PRIVILEGES ON '\u2985\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540dB\u2986'.* TO '\u2985MariaDB\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u2986'@localhost;\n\n-- \u6a29\u9650\u30c6\u30fc\u30d6\u30eb\u306e\u518d\u8aad\u307f\u8fbc\u307f\nFLUSH PRIVILEGES;\n\n-- \u30ed\u30b0\u30a2\u30a6\u30c8\nexit\n```\n\n<i class=\"fa fa-upload\"></i>  SFTP\n==================================\n<i class=\"fa fa-user-plus\"></i> SFTP\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\n--------------------------------------------------\n\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092SFTP\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u3092\u300chomeroot\u300d\u3001\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e0b\u4f4d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea `public_html` \u3092SFTP\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u3092\u300cdirroot\u300d\u3068\u3057\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\n```sh\n# \u30b7\u30a7\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u306a\u3044\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\nsudo adduser --shell /sbin/nologin homeroot\nsudo passwd homeroot\nsudo adduser --shell /sbin/nologin dirroot\nsudo passwd dirroot\n```\n\n<i class=\"fa fa-key\"></i> SSH\u516c\u958b\u9375\u3092\u8a2d\u5b9a\n-----------------------------------------\n1. Tera Term \u30e1\u30cb\u30e5\u30fc\u30d0\u30fc\u304b\u3089\u3001\u8a2d\u5b9a \u25b8 SSH\u9375\u751f\u6210 \u3092\u958b\u304d\u307e\u3059\u3002\n1. \u300c\u751f\u6210\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u9375\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n1. \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3057\u307e\u3059\u3002[^\u8a18\u53f7]\n1. \u300c\u79d8\u5bc6\u9375\u306e\u4fdd\u5b58\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001\u4efb\u610f\u306e\u5834\u6240\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002[^OpenSSH]\n1. \u300c\u516c\u958b\u9375\u306e\u4fdd\u5b58\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001\u4efb\u610f\u306e\u5834\u6240\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002[^OpenSSH]\n1. \u4fdd\u5b58\u3057\u305f\u516c\u958b\u9375\u3092 Tera Term \u30a6\u30a3\u30f3\u30c9\u30a6\u5185\u306b\u30c9\u30e9\u30c3\u30b0&\u30c9\u30ed\u30c3\u30d7\u3057\u3001\u300cSCP\u300d\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u8ee2\u9001\u3057\u307e\u3059\u3002\n\n\u300chomeroot\u300d\u306e\u516c\u958b\u9375\u3092 `homeroot.pub`\u3001\u300cdirroot\u300d\u306e\u516c\u958b\u9375\u3092 `dirroot.pub` \u3068\u3057\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\n```sh\n# SSH\u306e\u8a2d\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\nsudo mkdir --mode=500 /home/{homeroot,dirroot}/.ssh\n\n# \u516c\u958b\u9375\u3092\u8a2d\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\nsudo mv ~/homeroot.pub /home/homeroot/.ssh/authorized_keys\nsudo mv ~/dirroot.pub /home/dirroot/.ssh/authorized_keys\n\n# SSH\u306e\u8a2d\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001\u304a\u3088\u3073\u516c\u958b\u9375\u306e\u30a2\u30af\u30bb\u30b9\u6a29\u30fb\u6240\u6709\u8005\u3092\u5909\u66f4\nsudo chmod 400 /home/{homeroot,dirroot}/.ssh/authorized_keys\nsudo chown --recursive homeroot:homeroot /home/homeroot/.ssh\nsudo chown --recursive dirroot:dirroot /home/dirroot/.ssh\n\n#\u3010SELinux\u3011\u516c\u958b\u9375\u306e\u30e9\u30d9\u30eb\u3092\u8cbc\u308a\u76f4\u3059\nsudo restorecon /home/{homeroot,dirroot}/.ssh/authorized_keys\n```\n\n[^OpenSSH]: OpenSSH \u5f62\u5f0f\u3067\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\n\n<i class=\"fa fa-sitemap\"></i> SFTP\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u8a2d\u5b9a\n----------------------------------------------------------\nSFTP \u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u305d\u306e\u4e0a\u4f4d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6240\u6709\u8005\u304c root \u4ee5\u5916\u306e\u5834\u5408\u3001ChrootDirectory \u3092\u8a2d\u5b9a\u3057\u305f\u3068\u304d\u306b\u63a5\u7d9a\u3092\u5f3e\u304b\u308c\u307e\u3059\u3002\n\n```sh\n# SFTP\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6240\u6709\u8005\u3092\u5909\u66f4\nsudo chown root /home/{homeroot,dirroot}\nsudo chmod 750 /home/{homeroot,dirroot}\nsudo mkdir --mode=775 /home/dirroot/public_html\nsudo chgrp dirroot /home/dirroot/public_html\n\n#\u3010SELinux\u3011SSH\u306b\u3088\u308b\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u8aad\u307f\u66f8\u304d\u3092\u8a31\u53ef\nsudo setsebool -P ssh_chroot_rw_homedirs on\nsudo restorecon -R /home/homeroot\n```\n\n\u3053\u3053\u3067\u306f\u3001\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u81ea\u4f53\u306b\u306f\u66f8\u304d\u8fbc\u3081\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n<i class=\"fa fa-globe\"></i> \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u304b\u3089\u30de\u30a6\u30f3\u30c8\n----------------------------------------------------------\nHTTP \u30b5\u30fc\u30d0\u30fc\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u4e0b\u4f4d\u306b\u76f4\u63a5\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u4f8b\u3067\u3059\u3002\n\n```sh:/etc/fstab\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n# \u2193\u3053\u306e\u884c\u3092\u8ffd\u8a18\n/var/www/common /home/ftpuser/common none bind 0 0\n\n```\n\n**`/etc/fstab` \u306e\u672b\u5c3e\u306b\u306f\u5fc5\u305a\u6539\u884c\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002**\n\n```sh\n# \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u5909\u66f4\u3001\u30b0\u30eb\u30fc\u30d7\u306b\u3082\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u3092\u4e0e\u3048\u308b\nsudo chgrp homeroot /var/www/html\nsudo chmod 775 /var/www/html\n\n# \u30de\u30a6\u30f3\u30c8\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea (\u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8) \u3092\u4f5c\u6210\nsudo mkdir /home/homeroot/html\n\n# /etc/fstab \u306e\u8a2d\u5b9a\u3092\u9069\u7528\nsudo mount -a\n```\n\n<i class=\"fa fa-cog\"></i> OpenSSH\u306e\u8a2d\u5b9a\n---------------------------------------\n\n```sh:/etc/ssh/sshd_config\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n# no default banner path\n#Banner none\n\n# Accept locale-related environment variables\nAcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES\nAcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT\nAcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE\nAcceptEnv XMODIFIERS\n\n# override default of no subsystems\n#Subsystem\tsftp\t\t/usr/libexec/openssh/sftp-server\n## \u2191\u3053\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 ##\nSubsystem\tsftp\t\tinternal-sftp\n## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n\n# Example of overriding settings on a per-user basis\n#Match User anoncvs\n#\tX11Forwarding no\n#\tAllowTcpForwarding no\n#\tPermitTTY no\n#\tForceCommand cvs server\n\n## \u2193\u3053\u306e\u884c\u4ee5\u964d\u3092\u8ffd\u8a18 ##\nMatch User homeroot,dirroot\n      ForceCommand internal-sftp\n\nMatch User homeroot\n      ChrootDirectory %h\n\nMatch User dirroot\n      ChrootDirectory %h/public_html\n```\n\n<i class=\"fa fa-sign-in\"></i> FileZilla\u304b\u3089\u63a5\u7d9a\n===============================================\n<i class=\"fa fa-key\"></i> \u79d8\u5bc6\u9375\u306e\u8a2d\u5b9a\n--------------------------------------\n\u30a2\u30ab\u30a6\u30f3\u30c8\u3054\u3068\u3067\u306f\u306a\u304f\u3001\u307e\u3068\u3081\u3066\u767b\u9332\u3092\u884c\u3044\u307e\u3059\u3002\n\n1. FileZilla FTP Client \u30e1\u30cb\u30e5\u30fc\u30d0\u30fc\u304b\u3089\u3001\u7de8\u96c6 \u25b8 \u8a2d\u5b9a \u3092\u958b\u304d\u307e\u3059\u3002\n1. \u8a2d\u5b9a\u30c0\u30a4\u30a2\u30ed\u30b0\u306e\u5de6\u306e\u30e1\u30cb\u30e5\u30fc\u3067\u3001\u63a5\u7d9a \u25b8 SFTP \u3068\u305f\u3069\u308a\u307e\u3059\u3002\n1. \u8a2d\u5b9a\u30c0\u30a4\u30a2\u30ed\u30b0\u771f\u3093\u4e2d\u4e0b\u3042\u305f\u308a\u306e\u300c\u9375\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001\u79d8\u5bc6\u9375\u30d5\u30a1\u30a4\u30eb\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n\t* \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3067\u4fdd\u8b77\u3055\u308c\u3066\u3044\u306a\u3044PuTTY\u5f62\u5f0f\u306e\u9375\u306e\u307f\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002\n\t* \u4e0a\u8a18\u4ee5\u5916\u306e\u5f62\u5f0f\u306e\u9375\u3092\u767b\u9332\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u9375\u3092\u5909\u63db\u3059\u308b\u304b\u8a0a\u306d\u3089\u308c\u307e\u3059\u3002\n\t* bcrypt KDF \u5f62\u5f0f\u306e\u9375\u306f\u89e3\u6790\u3067\u304d\u305a\u3001FileZilla\u3067\u306f\u5909\u63db\u3082\u3067\u304d\u307e\u305b\u3093\u3002\n\t* \u30a2\u30ab\u30a6\u30f3\u30c8\u3054\u3068\u306b\u8907\u6570\u306e\u79d8\u5bc6\u9375\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3067\u3082\u3001\u3059\u3079\u3066\u3053\u3053\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n<i class=\"fa fa-cog\"></i> \u63a5\u7d9a\u8a2d\u5b9a\n----------------------------------\n1. FileZilla FTP Client \u30e1\u30cb\u30e5\u30fc\u30d0\u30fc\u304b\u3089\u3001\u30d5\u30a1\u30a4\u30eb \u25b8 \u30b5\u30a4\u30c8 \u30de\u30cd\u30fc\u30b8\u30e3 \u3092\u958b\u304d\u307e\u3059\u3002\n1. \u5de6\u4e0b\u306e\u300c\u65b0\u3057\u3044\u30b5\u30a4\u30c8\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001\u4efb\u610f\u306e\u540d\u524d\u3092\u4ed8\u3051\u307e\u3059\u3002\n1. \u30db\u30b9\u30c8\u6b04\u306b\u30b5\u30fc\u30d0\u30fc\u306eIP\u30a2\u30c9\u30ec\u30b9\u3001\u30dd\u30fc\u30c8\u6b04\u306bOpenSSH\u3067\u4f7f\u7528\u3059\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n1. \u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u30d7\u30eb\u30c0\u30a6\u30f3\u30e1\u30cb\u30e5\u30fc\u3067\u300cSFTP - SSH File Transfer Protocol\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n1. \u30ed\u30b0\u30aa\u30f3\u306e\u7a2e\u985e\u306e\u30d7\u30eb\u30c0\u30a6\u30f3\u30e1\u30cb\u30e5\u30fc\u3067\u300c\u901a\u5e38\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n1. \u30e6\u30fc\u30b6\u6b04\u306b\u306f Linux \u306e\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u8a18\u5165\u3057\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u7a7a\u6b04\u306b\u3057\u307e\u3059\u3002\n1. \u5fc5\u8981\u3067\u3042\u308c\u3070\u3001\u300c\u8a73\u7d30\u300d\u30bf\u30d6\u306e\u300c\u65e2\u5b9a\u306e\u30ed\u30fc\u30ab\u30eb \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u300d\u3068\u300c\u65e2\u5b9a\u306e\u30ea\u30e2\u30fc\u30c8 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u300d\u306b\u8a18\u5165\u3057\u3001\u300c\u540c\u671f\u30d6\u30e9\u30a6\u30b8\u30f3\u30b0\u3092\u4f7f\u7528\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u307e\u3059\u3002\n\t* \u300c\u65e2\u5b9a\u306e\u30ea\u30e2\u30fc\u30c8 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u300d\u306f\u3001SFTP\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u306e\u7d76\u5bfe\u30d1\u30b9\u306b\u306a\u3063\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n1. \u300c\u63a5\u7d9a\u300d\n\n<i class=\"fa fa-arrow-circle-right\"></i> \u53c2\u8003\u30da\u30fc\u30b8\u30fb\u811a\u6ce8\n=========================================================\n"}