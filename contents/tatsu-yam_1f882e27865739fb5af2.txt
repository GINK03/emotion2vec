{"context": " More than 1 year has passed since last update.\u3053\u3093\u306b\u3061\u306f\u3001\u3053\u3061\u3089\u306fFluentd Advent Calendar 19\u65e5\u76ee\u306e\u8a18\u4e8b\u3068\u306a\u308a\u307e\u3059\u3002\nfluentd\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3059\u308b\u3068\u304d\u3084plugin\u306e\u30c7\u30d0\u30c3\u30b0\u3092\u3059\u308b\u6642\u306a\u3069\u306b\u3001print\u6587\u3092\u57cb\u3081\u8fbc\u3093\u3060\u308a\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u3075\u3068\u3057\u305f\u304d\u3063\u304b\u3051\u3067td-agent\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u300c fluent-debug \u300d\u306a\u308b\u3082\u306e\u304c\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u77e5\u308a\u307e\u3057\u305f\u3002\u3055\u3063\u305d\u304f\u4f7f\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u306b\u95a2\u3059\u308b\u8a18\u4e8b\u304c\u307b\u3068\u3093\u3069\u51fa\u3066\u304d\u307e\u305b\u3093\u3067\u3057\u305f...\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u4eca\u56de\u306ffluent-debug\u3092\u89e6\u3063\u3066\u307f\u305f\u8a71\u3092\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nfluent-debug\u3068\u306f\n\u5b9f\u884c\u4e2d\u306efluentd\u306b\u5bfe\u3057\u3066gdb\u306e\u3088\u3046\u306b\u3001\u30a2\u30bf\u30c3\u30c1\u3057\u3066\u5185\u90e8\u3092\u3054\u306b\u3087\u3054\u306b\u3087\u3067\u304d\u308b\u30c4\u30fc\u30eb\u3067\u3001 fluentd\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u306b\u3082\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u5185\u90e8\u3067\u306f dRuby \u3092\u4f7f\u3063\u3066\u304a\u308a\u3001 DRbObject \u3068 DRbServer \u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067fluentd\u30d7\u30ed\u30bb\u30b9\u5185\u90e8\u3092\u3054\u306b\u3087\u3054\u306b\u3087\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3068\u308a\u3042\u3048\u305a\u4f7f\u3063\u3066\u307f\u308b\n\u307e\u305a\u306f\u3001\u7c21\u5358\u306b\u4f7f\u3044\u65b9\u3092\u7f85\u5217\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\ntd-agent.conf\n\u4eca\u56de\u306f\u3001\u4ee5\u4e0b\u306e\u69d8\u306atd-agent.conf\u3060\u3063\u305f\u5834\u5408\u3092\u4f8b\u306b\u3057\u307e\u3059\u3002\n## live debugging agent\n<source>\n  type debug_agent\n  bind 127.0.0.1\n  port 24230\n</source>\n\n<source>\n  type unix\n  path /var/run/td-agent/td-agent.sock\n</source>\n\n<source>\n  type http\n  port 8888\n</source>\n\n<match test.**>\n  type forward\n  <server>\n    host 192.168.1.3\n    port 24224\n  </server>\n  buffer_type file\n  buffer_path /var/log/td-agent/buffer/td\n  flush_interval 1\n  retry_limit 10\n</match>\n\n<match local.**>\n  type file\n  path /var/log/td-agent/access\n</match>\n\ntype debug_agent\u306e\u9805\u76ee\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3001fluentd\u5074\u306e\u6e96\u5099\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\nfluent-debug\u3092\u5b9f\u884c\n$ /usr/lib/fluent/ruby/bin/fluent-debug\n2013-12-18 20:34:36 +0900 [trace]: registered buffer plugin 'file'\n2013-12-18 20:34:36 +0900 [trace]: registered buffer plugin 'memory'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'debug_agent'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'exec'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'forward'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'gc_stat'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'http'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'monitor_agent'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'object_space'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'status'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'tcp'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'unix'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'syslog'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'tail'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'copy'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'exec'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'exec_filter'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'file'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'forward'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'null'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'roundrobin'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'stdout'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'tcp'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'unix'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'test'\nConnected to druby://127.0.0.1:24230.\nUsage:\n    Engine.match('some.tag').output  : get an output plugin instance\n    Engine.sources[i]                : get input plugin instances\n    Plugin.load_plugin(type,name)    : load plugin class (use this if you get DRb::DRbUnknown)\n\nirb(main):>\n\n/usr/lib/fluent/ruby/bin/fluent-debug\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001irb\u304c\u7acb\u3061\u4e0a\u304c\u308a\u3001\u8d77\u52d5\u4e2d\u306efluentd\u30d7\u30ed\u30bb\u30b9\u306b\u30a2\u30bf\u30c3\u30c1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\noutput\u306eplugin\u3092\u53d6\u5f97\u3059\u308b\nirb(main):> outforward = Engine.match('test.hoge').output\n=> #<Fluent::ForwardOutput:0xb5048f20>\nirb(main):> outfile = Engine.match('local.hoge').output\n=> #<Fluent::FileOutput:0xb5041040>\n\nirb(main):> outforward.port\n=> 24224\nirb(main):> outforward.flush_interval\n=> 1.0\nirb(main):> outforward.retry_limit\n=> 10\n\nmatch\u306b\u30bf\u30b0\u540d\u3092\u6e21\u3057\u3066\u3042\u3052\u308b\u3068\u3001\u305d\u306e\u30bf\u30b0\u540d\u3092\u51e6\u7406\u3059\u3079\u304doutput\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3044\u304f\u3064\u304b\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3082\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\ninput\u306eplugin\u3092\u53d6\u5f97\u3059\u308b\nirb(main):> inunix = Engine.sources[0]\n=> #<Fluent::UnixInput:0xb5b2478c>\nirb(main):> inunix.path\n=> \"/var/run/td-agent/td-agent.sock\"\n\nirb(main):> Engine.sources[2]\n=> #<Fluent::DebugAgentInput:0xb5a10e90>\nirb(main):> Engine.sources[1]\n=> #<Fluent::HttpInput:0xb5a11a20>\n\nsources\u306e\u5f8c\u306e\u6dfb\u5b57\u306f\u9069\u5f53\u306b\u3044\u304f\u3064\u304b\u8a66\u3059\u3068\u305f\u3069\u308a\u7740\u304d\u307e\u3059\u3002\n\n\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\nirb(main):> outfile = Engine.match('local.hoge').output\n=> #<Fluent::FileOutput:0xb5041040>\nirb(main):> outfile.format('test.poyopoyo', 1383641636, 'aaaaaaaaaaaaaaaaaaa')\n=> \"2013-11-05T17:53:56+09:00\\ttest.poyopoyo\\t\\\"aaaaaaaaaaaaaaaaaaa\\\"\\n\"\n\nout_file plugin\u306eformat\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30c7\u30d0\u30c3\u30b0\u3067\u6d3b\u8e8d\u3057\u305d\u3046\u3067\u3059\u3002\n\ngetter\u306e\u7121\u3044\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092\u53d6\u5f97\u3057\u3066\u307f\u308b\nirb(main):> class << outforward\nirb(main):> undef_method :instance_variable_get\nirb(main):> end\n=> #<Class:#<DRb::DRbObject:0x9783a30>>\nirb(main):> outforward.instance_variable_get(:@usock)\n=> #<UDPSocket:0xb5235090>\n\nirb(main):> buffer = outforward.instance_variable_get(:@buffer)\n=> #<Fluent::FileBuffer:0xb5042a08>\nirb(main):> class << buffer\nirb(main):> undef_method :instance_variable_get\nirb(main):> undef_method :instance_variables\nirb(main):> end\n=> #<Class:#<DRb::DRbObject:0x8f420ec>>\nirb(main):> buffer.instance_variables\n=> [:@buffer_chunk_limit, :@buffer_queue_limit, :@mon_owner, :@mon_count,\n    :@mon_mutex, :@parallel_pop, :@config, :@buffer_path, :@buffer_path_prefix,\n    :@buffer_path_suffix, :@flush_at_shutdown, :@queue, :@map]\nirb(main):> buffer.instance_variable_get(:@queue)\n=> []\n\nobj.instance_valiable_get\u3092\u5229\u7528\u3057\u3066\u53d6\u5f97\u3057\u307e\u3059\u3002instance_valiable_get\u7b49\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001undef_method\u3092\u99c6\u4f7f\u3057\u3066\u3054\u306b\u3087\u3054\u306b\u3087\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u5185\u90e8\u306e\u7d30\u304b\u3044\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\u3082\u3061\u308d\u3093\u3001out_forward plugin\u304c\u5185\u90e8\u306b\u4fdd\u6301\u3057\u3066\u3044\u305fbuffer plugin\u306b\u5bfe\u3057\u3066\u3082\u540c\u69d8\u306b\u4e2d\u8eab\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u306e\u7c21\u5358\u306a\u8aac\u660e\n\u3055\u3066\u3001\u3055\u3089\u3063\u3068\u66f8\u304d\u307e\u3057\u305f\u304c\u3001ruby\u529b\u306e\u4f4e\u3044\u79c1\u306f\u3001\u300cinstance_variable_get\u3092undef_method\u3059\u308b\u300d\u306b\u8fbf\u308a\u7740\u304f\u307e\u3067\u304b\u306a\u308a\u306e\u6642\u9593\u3092\u8981\u3057\u307e\u3057\u305f...orz\n\u3053\u306e\u3042\u305f\u308a\u306f\u3001dRuby\u306e\u4f7f\u3044\u65b9\u306e\u8a71\u3068\u306a\u308a\u307e\u3059\u304c\u3001\u7c21\u5358\u306b\u89e3\u8aac\u3044\u305f\u3057\u307e\u3059\u3002\nfluent-debug\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001DRbObject\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057irb\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u305d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078\u306e\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306f\u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u306b\u9001\u3089\u308c\u3001\u30ea\u30e2\u30fc\u30c8\u5074\u3067\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u4ed5\u7d44\u307f\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u306b\u3088\u308b\u3068\u3001 Object#method_missing \u3067\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092hook\u3057\u3066\u3001\u305d\u308c\u3092\u8ee2\u9001\u3059\u308b\u3068\u306e\u3053\u3068\u3002\u3064\u307e\u308a\u306f\u3001DRbObject\u30af\u30e9\u30b9\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u30e1\u30bd\u30c3\u30c9\u3057\u304b\u8ee2\u9001\u3055\u308c\u307e\u305b\u3093\u3002\n\u4e00\u65b9\u3001\u4eca\u56de\u79c1\u304c\u77e5\u308a\u305f\u304b\u3063\u305f\u306e\u306f\u3001\u5404\u30d7\u30e9\u30b0\u30a4\u30f3\u5185\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u305f\u3061\u3067\u3057\u305f\u3002\u4f8b\u3048\u3070out_forward plugin\u5185\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308b@buffer\u306e\u4e2d\u8eab\u306a\u3069\u3067\u3059\u3002\u3053\u3046\u3057\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306f\u5916\u90e8\u304b\u3089\u306f\u57fa\u672c\u7684\u306b\u306f\u89e6\u308c\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001Object\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3067\u3042\u308b\u3001instance_variables\u3068instance_variable_get\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u53d6\u5f97\u3057\u3088\u3046\u3068\u8a66\u307f\u307e\u3057\u305f\u3002\nirb(main):> outforward = Engine.match('test.hoge').output\n=> #<Fluent::ForwardOutput:0x007fbb5bae3b20>\nirb(main):> outforward.class\n=> DRb::DRbObject\nirb(main):> outforward.methods\n=> [:==, :hash, :eql?, :_dump, :__drburi, :__drbref, :respond_to?, :method_missing,\n    :pretty_print, :pretty_print_cycle, :to_json, :nil?, :===, :=~, :!~, :<=>,\n    :class, :singleton_class, :clone, :dup, :initialize_dup, :initialize_clone,\n    :taint, :tainted?, :untaint, :untrust, :untrusted?, :trust, :freeze, :frozen?,\n    :inspect, :methods, :singleton_methods, :protected_methods, :private_methods, \n    :public_methods, :instance_variables, :instance_variable_get, \n    :instance_variable_set, :instance_variable_defined?, :instance_of?, \n    :kind_of?, :is_a?, :tap, :send, :public_send, :respond_to_missing?, \n    :extend, :display, :method, :public_method, \n    :define_singleton_method, :object_id, :to_enum, :enum_for, :equal?, :!, :!=, \n    :instance_eval, :instance_exec, :__send__, :__id__]\nirb(main):> outforward.instance_variables\n=> [:@uri, :@ref]\n\n\u3057\u304b\u3057\u306a\u304c\u3089\u3001DRbObject\u30af\u30e9\u30b9\u306b\u3082Object\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u53ef\u80fd\u306a\u306e\u3067\u3001\u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u306b\u8ee2\u9001\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u4eca\u624b\u5143\u306b\u3042\u308bDRbObject\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078\u306e\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u305d\u3053\u3067\u3001DRbObject\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306einstance_variables\u306a\u3069\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u3001\u7279\u7570\u30af\u30e9\u30b9\u3092\u5229\u7528\u3057\u3066undef_method\u3059\u308b\u3053\u3068\u3067\u6d88\u3059\u3002\u3068\u3044\u3046\u65b9\u6cd5\u3092\u3068\u308a\u307e\u3057\u305f\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001\u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u306b\u30e1\u30bd\u30c3\u30c9\u304c\u8ee2\u9001\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u3042\u305f\u308a\u306f\u3001dRuby\u3067\u306f\u5f53\u305f\u308a\u524d\u306e\u3053\u3068\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u306a\u304b\u306a\u304b\u305f\u3069\u308a\u7740\u3051\u307e\u305b\u3093\u3067\u3057\u305forz\n\u3053\u308c\u306b\u3082\u3046\u5c11\u3057\u624b\u3092\u52a0\u3048\u308b\u3068\u3001\u3053\u3093\u306a\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\nirb(main):> Thread.list\n=> [#<Thread:0xa013024 run>]  # fluent-debug\u30d7\u30ed\u30bb\u30b9\u306e\u30b9\u30ec\u30c3\u30c9\u4e00\u89a7\n\nirb(main):> outforward = Engine.match('test.hoge').output\n=> #<Fluent::ForwardOutput:0xb5048f20>\nirb(main):> class << outforward\nirb(main):> undef_method :instance_eval\nirb(main):> end\n=> #<Class:#<DRb::DRbObject:0xa98e590>>\nirb(main):> outforward.instance_eval('def getThread; Thread::list; end')\n=> nil\nirb(main):> outforward.getThread\n=> [#<Thread:0xb68e4ffc sleep>, #<Thread:0xb5045b04 sleep>, #<Thread:0xb5234f28 sleep>, #<Thread:0xb523485c sleep>, #<Thread:0xb5b2685c sleep>, #<Thread:0xb52ac528 sleep>, #<Thread:0xb581ddb8 sleep>, #<Thread:0xb5adb960 run>] # \u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u306e\u30b9\u30ec\u30c3\u30c9\u4e00\u89a7\n\neval\u65cf\u306e\u30e1\u30bd\u30c3\u30c9\u3092DRbObject\u304b\u3089\u53d6\u308a\u9664\u304f\u3053\u3068\u3067\u3001\u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u306b\u5bfe\u3057\u3066\u8272\u3005\u3068\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u4f8b\u3060\u3068\u3001out_forward plugin\u306b\u65b0\u305f\u306a\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u3001\u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u306b\u5b58\u5728\u3059\u308b\u30b9\u30ec\u30c3\u30c9\u4e00\u89a7\u3092\u8868\u793a\u3057\u307e\u3057\u305f\u3002\n\n\u307e\u3068\u3081\nfluent-debug\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u8d77\u52d5\u4e2d\u306efluentd\u30d7\u30ed\u30bb\u30b9\u3078\u30a2\u30bf\u30c3\u30c1\u3057\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3084\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u5229\u7528\u3057\u305f\u3044\u5834\u5408\u3082\u3054\u304f\u3054\u304f\u5c11\u306a\u3044conf\u3078\u306e\u8ffd\u8a18\u3067\u6e08\u3080\u3002\n\u3053\u308c\u307e\u3067\u306f\u3001fluentd\u306e\u30bd\u30fc\u30b9\u306bprint\u3092\u4ed5\u8fbc\u3093\u3067\u518d\u8d77\u52d5\u306e\u7e70\u308a\u8fd4\u3057\u3084\u3001gdb\u3001strace\u306a\u3069\u3067\u52d5\u4f5c\u3092\u8ffd\u3063\u305f\u308a\u30c7\u30d0\u30c3\u30b0\u3057\u3066\u3044\u305f\u3051\u3069\u3001fluent-debug\u3092\u4f7f\u3044\u3053\u306a\u305b\u308b\u3088\u3046\u306b\u306a\u308c\u3070\u3044\u308d\u3044\u308d\u3068\u6357\u308b\u3093\u3058\u3083\u306a\u3044\u3060\u308d\u3046\u304b\u3068\u601d\u3044\u307e\u3059\u3002\u3068\u306f\u3044\u3048\u3001Coolio\u3068\u304b\u306e\u57df\u306ffluent-debug\u3067\u306f\u96e3\u3057\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u307f\u306a\u3055\u3093\u306efluentd\u95a2\u9023\u306e\u30c7\u30d0\u30c3\u30b0\u65b9\u6cd5\u306a\u3069\u3092\u77e5\u308a\u305f\u3044\u3067\u3059\uff01\u3082\u3057\u3088\u308d\u3057\u3051\u308c\u3070\u6559\u3048\u3066\u304f\u3060\u3055\u3044mm\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001Fluentd Advent Calendar 2013 \u306e19\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3057\u305fmm\n\n\u3053\u3093\u306b\u3061\u306f\u3001\u3053\u3061\u3089\u306fFluentd Advent Calendar 19\u65e5\u76ee\u306e\u8a18\u4e8b\u3068\u306a\u308a\u307e\u3059\u3002\n\nfluentd\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3059\u308b\u3068\u304d\u3084plugin\u306e\u30c7\u30d0\u30c3\u30b0\u3092\u3059\u308b\u6642\u306a\u3069\u306b\u3001print\u6587\u3092\u57cb\u3081\u8fbc\u3093\u3060\u308a\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u3075\u3068\u3057\u305f\u304d\u3063\u304b\u3051\u3067td-agent\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u300c **fluent-debug** \u300d\u306a\u308b\u3082\u306e\u304c\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u77e5\u308a\u307e\u3057\u305f\u3002\u3055\u3063\u305d\u304f\u4f7f\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u306b\u95a2\u3059\u308b\u8a18\u4e8b\u304c\u307b\u3068\u3093\u3069\u51fa\u3066\u304d\u307e\u305b\u3093\u3067\u3057\u305f...\u3002\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u4eca\u56de\u306ffluent-debug\u3092\u89e6\u3063\u3066\u307f\u305f\u8a71\u3092\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n# fluent-debug\u3068\u306f\n\u5b9f\u884c\u4e2d\u306efluentd\u306b\u5bfe\u3057\u3066gdb\u306e\u3088\u3046\u306b\u3001\u30a2\u30bf\u30c3\u30c1\u3057\u3066\u5185\u90e8\u3092\u3054\u306b\u3087\u3054\u306b\u3087\u3067\u304d\u308b\u30c4\u30fc\u30eb\u3067\u3001[ fluentd\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 ](http://docs.fluentd.org/ja/articles/monitoring)\u306b\u3082\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u5185\u90e8\u3067\u306f[ **dRuby** ](http://docs.ruby-lang.org/ja/1.9.3/library/drb.html)\u3092\u4f7f\u3063\u3066\u304a\u308a\u3001[ **DRbObject** ](http://docs.ruby-lang.org/ja/1.9.3/class/DRb=3a=3aDRbObject.html)\u3068[ **DRbServer** ](http://docs.ruby-lang.org/ja/1.9.3/class/DRb=3a=3aDRbServer.html)\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067fluentd\u30d7\u30ed\u30bb\u30b9\u5185\u90e8\u3092\u3054\u306b\u3087\u3054\u306b\u3087\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n# \u3068\u308a\u3042\u3048\u305a\u4f7f\u3063\u3066\u307f\u308b\n\u307e\u305a\u306f\u3001\u7c21\u5358\u306b\u4f7f\u3044\u65b9\u3092\u7f85\u5217\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n## td-agent.conf\n\u4eca\u56de\u306f\u3001\u4ee5\u4e0b\u306e\u69d8\u306atd-agent.conf\u3060\u3063\u305f\u5834\u5408\u3092\u4f8b\u306b\u3057\u307e\u3059\u3002\n\n```\n## live debugging agent\n<source>\n  type debug_agent\n  bind 127.0.0.1\n  port 24230\n</source>\n\n<source>\n  type unix\n  path /var/run/td-agent/td-agent.sock\n</source>\n\n<source>\n  type http\n  port 8888\n</source>\n\n<match test.**>\n  type forward\n  <server>\n    host 192.168.1.3\n    port 24224\n  </server>\n  buffer_type file\n  buffer_path /var/log/td-agent/buffer/td\n  flush_interval 1\n  retry_limit 10\n</match>\n\n<match local.**>\n  type file\n  path /var/log/td-agent/access\n</match>\n```\n\ntype debug_agent\u306e\u9805\u76ee\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3001fluentd\u5074\u306e\u6e96\u5099\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n## fluent-debug\u3092\u5b9f\u884c\n\n```\n$ /usr/lib/fluent/ruby/bin/fluent-debug\n2013-12-18 20:34:36 +0900 [trace]: registered buffer plugin 'file'\n2013-12-18 20:34:36 +0900 [trace]: registered buffer plugin 'memory'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'debug_agent'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'exec'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'forward'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'gc_stat'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'http'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'monitor_agent'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'object_space'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'status'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'tcp'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'unix'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'syslog'\n2013-12-18 20:34:36 +0900 [trace]: registered input plugin 'tail'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'copy'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'exec'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'exec_filter'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'file'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'forward'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'null'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'roundrobin'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'stdout'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'tcp'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'unix'\n2013-12-18 20:34:36 +0900 [trace]: registered output plugin 'test'\nConnected to druby://127.0.0.1:24230.\nUsage:\n    Engine.match('some.tag').output  : get an output plugin instance\n    Engine.sources[i]                : get input plugin instances\n    Plugin.load_plugin(type,name)    : load plugin class (use this if you get DRb::DRbUnknown)\n\nirb(main):>\n```\n\n/usr/lib/fluent/ruby/bin/fluent-debug\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001irb\u304c\u7acb\u3061\u4e0a\u304c\u308a\u3001\u8d77\u52d5\u4e2d\u306efluentd\u30d7\u30ed\u30bb\u30b9\u306b\u30a2\u30bf\u30c3\u30c1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n## output\u306eplugin\u3092\u53d6\u5f97\u3059\u308b\n\n```rb\nirb(main):> outforward = Engine.match('test.hoge').output\n=> #<Fluent::ForwardOutput:0xb5048f20>\nirb(main):> outfile = Engine.match('local.hoge').output\n=> #<Fluent::FileOutput:0xb5041040>\n\nirb(main):> outforward.port\n=> 24224\nirb(main):> outforward.flush_interval\n=> 1.0\nirb(main):> outforward.retry_limit\n=> 10\n```\n\nmatch\u306b\u30bf\u30b0\u540d\u3092\u6e21\u3057\u3066\u3042\u3052\u308b\u3068\u3001\u305d\u306e\u30bf\u30b0\u540d\u3092\u51e6\u7406\u3059\u3079\u304doutput\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3044\u304f\u3064\u304b\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3082\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\n## input\u306eplugin\u3092\u53d6\u5f97\u3059\u308b\n\n```rb\nirb(main):> inunix = Engine.sources[0]\n=> #<Fluent::UnixInput:0xb5b2478c>\nirb(main):> inunix.path\n=> \"/var/run/td-agent/td-agent.sock\"\n\nirb(main):> Engine.sources[2]\n=> #<Fluent::DebugAgentInput:0xb5a10e90>\nirb(main):> Engine.sources[1]\n=> #<Fluent::HttpInput:0xb5a11a20>\n```\n\nsources\u306e\u5f8c\u306e\u6dfb\u5b57\u306f\u9069\u5f53\u306b\u3044\u304f\u3064\u304b\u8a66\u3059\u3068\u305f\u3069\u308a\u7740\u304d\u307e\u3059\u3002\n\n## \u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\n\n```rb\nirb(main):> outfile = Engine.match('local.hoge').output\n=> #<Fluent::FileOutput:0xb5041040>\nirb(main):> outfile.format('test.poyopoyo', 1383641636, 'aaaaaaaaaaaaaaaaaaa')\n=> \"2013-11-05T17:53:56+09:00\\ttest.poyopoyo\\t\\\"aaaaaaaaaaaaaaaaaaa\\\"\\n\"\n```\n\nout_file plugin\u306eformat\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30c7\u30d0\u30c3\u30b0\u3067\u6d3b\u8e8d\u3057\u305d\u3046\u3067\u3059\u3002\n\n## getter\u306e\u7121\u3044\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092\u53d6\u5f97\u3057\u3066\u307f\u308b\n\n```rb\nirb(main):> class << outforward\nirb(main):> undef_method :instance_variable_get\nirb(main):> end\n=> #<Class:#<DRb::DRbObject:0x9783a30>>\nirb(main):> outforward.instance_variable_get(:@usock)\n=> #<UDPSocket:0xb5235090>\n\nirb(main):> buffer = outforward.instance_variable_get(:@buffer)\n=> #<Fluent::FileBuffer:0xb5042a08>\nirb(main):> class << buffer\nirb(main):> undef_method :instance_variable_get\nirb(main):> undef_method :instance_variables\nirb(main):> end\n=> #<Class:#<DRb::DRbObject:0x8f420ec>>\nirb(main):> buffer.instance_variables\n=> [:@buffer_chunk_limit, :@buffer_queue_limit, :@mon_owner, :@mon_count,\n    :@mon_mutex, :@parallel_pop, :@config, :@buffer_path, :@buffer_path_prefix,\n    :@buffer_path_suffix, :@flush_at_shutdown, :@queue, :@map]\nirb(main):> buffer.instance_variable_get(:@queue)\n=> []\n```\n\nobj.instance_valiable_get\u3092\u5229\u7528\u3057\u3066\u53d6\u5f97\u3057\u307e\u3059\u3002instance_valiable_get\u7b49\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001undef_method\u3092\u99c6\u4f7f\u3057\u3066\u3054\u306b\u3087\u3054\u306b\u3087\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u5185\u90e8\u306e\u7d30\u304b\u3044\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\u3082\u3061\u308d\u3093\u3001out_forward plugin\u304c\u5185\u90e8\u306b\u4fdd\u6301\u3057\u3066\u3044\u305fbuffer plugin\u306b\u5bfe\u3057\u3066\u3082\u540c\u69d8\u306b\u4e2d\u8eab\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n# \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u306e\u7c21\u5358\u306a\u8aac\u660e\n\u3055\u3066\u3001\u3055\u3089\u3063\u3068\u66f8\u304d\u307e\u3057\u305f\u304c\u3001ruby\u529b\u306e\u4f4e\u3044\u79c1\u306f\u3001\u300cinstance_variable_get\u3092undef_method\u3059\u308b\u300d\u306b\u8fbf\u308a\u7740\u304f\u307e\u3067\u304b\u306a\u308a\u306e\u6642\u9593\u3092\u8981\u3057\u307e\u3057\u305f...orz\n\u3053\u306e\u3042\u305f\u308a\u306f\u3001dRuby\u306e\u4f7f\u3044\u65b9\u306e\u8a71\u3068\u306a\u308a\u307e\u3059\u304c\u3001\u7c21\u5358\u306b\u89e3\u8aac\u3044\u305f\u3057\u307e\u3059\u3002\n\nfluent-debug\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001DRbObject\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057irb\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u305d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078\u306e\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306f\u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u306b\u9001\u3089\u308c\u3001\u30ea\u30e2\u30fc\u30c8\u5074\u3067\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u4ed5\u7d44\u307f\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n[\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9](http://docs.ruby-lang.org/ja/1.9.3/class/DRb=3a=3aDRbObject.html)\u306b\u3088\u308b\u3068\u3001[ **Object#method_missing** ](http://docs.ruby-lang.org/ja/1.9.3/method/BasicObject/i/method_missing.html)\u3067\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092hook\u3057\u3066\u3001\u305d\u308c\u3092\u8ee2\u9001\u3059\u308b\u3068\u306e\u3053\u3068\u3002\u3064\u307e\u308a\u306f\u3001DRbObject\u30af\u30e9\u30b9\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u30e1\u30bd\u30c3\u30c9\u3057\u304b\u8ee2\u9001\u3055\u308c\u307e\u305b\u3093\u3002\n\n\u4e00\u65b9\u3001\u4eca\u56de\u79c1\u304c\u77e5\u308a\u305f\u304b\u3063\u305f\u306e\u306f\u3001\u5404\u30d7\u30e9\u30b0\u30a4\u30f3\u5185\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u305f\u3061\u3067\u3057\u305f\u3002\u4f8b\u3048\u3070out_forward plugin\u5185\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308b@buffer\u306e\u4e2d\u8eab\u306a\u3069\u3067\u3059\u3002\u3053\u3046\u3057\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306f\u5916\u90e8\u304b\u3089\u306f\u57fa\u672c\u7684\u306b\u306f\u89e6\u308c\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001Object\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3067\u3042\u308b\u3001instance_variables\u3068instance_variable_get\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u53d6\u5f97\u3057\u3088\u3046\u3068\u8a66\u307f\u307e\u3057\u305f\u3002\n\n```rb\nirb(main):> outforward = Engine.match('test.hoge').output\n=> #<Fluent::ForwardOutput:0x007fbb5bae3b20>\nirb(main):> outforward.class\n=> DRb::DRbObject\nirb(main):> outforward.methods\n=> [:==, :hash, :eql?, :_dump, :__drburi, :__drbref, :respond_to?, :method_missing,\n    :pretty_print, :pretty_print_cycle, :to_json, :nil?, :===, :=~, :!~, :<=>,\n    :class, :singleton_class, :clone, :dup, :initialize_dup, :initialize_clone,\n    :taint, :tainted?, :untaint, :untrust, :untrusted?, :trust, :freeze, :frozen?,\n    :inspect, :methods, :singleton_methods, :protected_methods, :private_methods, \n    :public_methods, :instance_variables, :instance_variable_get, \n    :instance_variable_set, :instance_variable_defined?, :instance_of?, \n    :kind_of?, :is_a?, :tap, :send, :public_send, :respond_to_missing?, \n    :extend, :display, :method, :public_method, \n    :define_singleton_method, :object_id, :to_enum, :enum_for, :equal?, :!, :!=, \n    :instance_eval, :instance_exec, :__send__, :__id__]\nirb(main):> outforward.instance_variables\n=> [:@uri, :@ref]\n```\n\n\u3057\u304b\u3057\u306a\u304c\u3089\u3001DRbObject\u30af\u30e9\u30b9\u306b\u3082Object\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u53ef\u80fd\u306a\u306e\u3067\u3001\u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u306b\u8ee2\u9001\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u4eca\u624b\u5143\u306b\u3042\u308bDRbObject\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078\u306e\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\u305d\u3053\u3067\u3001DRbObject\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306einstance_variables\u306a\u3069\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u3001\u7279\u7570\u30af\u30e9\u30b9\u3092\u5229\u7528\u3057\u3066undef_method\u3059\u308b\u3053\u3068\u3067\u6d88\u3059\u3002\u3068\u3044\u3046\u65b9\u6cd5\u3092\u3068\u308a\u307e\u3057\u305f\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001\u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u306b\u30e1\u30bd\u30c3\u30c9\u304c\u8ee2\u9001\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u3042\u305f\u308a\u306f\u3001dRuby\u3067\u306f\u5f53\u305f\u308a\u524d\u306e\u3053\u3068\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u306a\u304b\u306a\u304b\u305f\u3069\u308a\u7740\u3051\u307e\u305b\u3093\u3067\u3057\u305forz\n\n\u3053\u308c\u306b\u3082\u3046\u5c11\u3057\u624b\u3092\u52a0\u3048\u308b\u3068\u3001\u3053\u3093\u306a\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n```rb\nirb(main):> Thread.list\n=> [#<Thread:0xa013024 run>]  # fluent-debug\u30d7\u30ed\u30bb\u30b9\u306e\u30b9\u30ec\u30c3\u30c9\u4e00\u89a7\n\nirb(main):> outforward = Engine.match('test.hoge').output\n=> #<Fluent::ForwardOutput:0xb5048f20>\nirb(main):> class << outforward\nirb(main):> undef_method :instance_eval\nirb(main):> end\n=> #<Class:#<DRb::DRbObject:0xa98e590>>\nirb(main):> outforward.instance_eval('def getThread; Thread::list; end')\n=> nil\nirb(main):> outforward.getThread\n=> [#<Thread:0xb68e4ffc sleep>, #<Thread:0xb5045b04 sleep>, #<Thread:0xb5234f28 sleep>, #<Thread:0xb523485c sleep>, #<Thread:0xb5b2685c sleep>, #<Thread:0xb52ac528 sleep>, #<Thread:0xb581ddb8 sleep>, #<Thread:0xb5adb960 run>] # \u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u306e\u30b9\u30ec\u30c3\u30c9\u4e00\u89a7\n```\n\neval\u65cf\u306e\u30e1\u30bd\u30c3\u30c9\u3092DRbObject\u304b\u3089\u53d6\u308a\u9664\u304f\u3053\u3068\u3067\u3001\u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u306b\u5bfe\u3057\u3066\u8272\u3005\u3068\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u4f8b\u3060\u3068\u3001out_forward plugin\u306b\u65b0\u305f\u306a\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u3001\u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u306b\u5b58\u5728\u3059\u308b\u30b9\u30ec\u30c3\u30c9\u4e00\u89a7\u3092\u8868\u793a\u3057\u307e\u3057\u305f\u3002\n\n# \u307e\u3068\u3081\nfluent-debug\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u8d77\u52d5\u4e2d\u306efluentd\u30d7\u30ed\u30bb\u30b9\u3078\u30a2\u30bf\u30c3\u30c1\u3057\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3084\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u5229\u7528\u3057\u305f\u3044\u5834\u5408\u3082\u3054\u304f\u3054\u304f\u5c11\u306a\u3044conf\u3078\u306e\u8ffd\u8a18\u3067\u6e08\u3080\u3002\n\n\u3053\u308c\u307e\u3067\u306f\u3001fluentd\u306e\u30bd\u30fc\u30b9\u306bprint\u3092\u4ed5\u8fbc\u3093\u3067\u518d\u8d77\u52d5\u306e\u7e70\u308a\u8fd4\u3057\u3084\u3001gdb\u3001strace\u306a\u3069\u3067\u52d5\u4f5c\u3092\u8ffd\u3063\u305f\u308a\u30c7\u30d0\u30c3\u30b0\u3057\u3066\u3044\u305f\u3051\u3069\u3001fluent-debug\u3092\u4f7f\u3044\u3053\u306a\u305b\u308b\u3088\u3046\u306b\u306a\u308c\u3070\u3044\u308d\u3044\u308d\u3068\u6357\u308b\u3093\u3058\u3083\u306a\u3044\u3060\u308d\u3046\u304b\u3068\u601d\u3044\u307e\u3059\u3002\u3068\u306f\u3044\u3048\u3001Coolio\u3068\u304b\u306e\u57df\u306ffluent-debug\u3067\u306f\u96e3\u3057\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u307f\u306a\u3055\u3093\u306efluentd\u95a2\u9023\u306e\u30c7\u30d0\u30c3\u30b0\u65b9\u6cd5\u306a\u3069\u3092\u77e5\u308a\u305f\u3044\u3067\u3059\uff01\u3082\u3057\u3088\u308d\u3057\u3051\u308c\u3070\u6559\u3048\u3066\u304f\u3060\u3055\u3044mm\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001Fluentd Advent Calendar 2013 \u306e19\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3057\u305fmm\n", "tags": ["fluentd"]}