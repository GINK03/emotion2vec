{"tags": ["\u3069\u3046\u66f8\u304f", "yhpg", "Ruby"], "context": " More than 1 year has passed since last update.\u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f\nhttp://atnd.org/events/40389\n\u306e\u3001\u53c2\u8003\u554f\u984c(\u9053\u306a\u308a\u306e\u4e80)\nhttp://nabetani.sakura.ne.jp/hena/ord12aloroturtle/\n\u306e\u5b9f\u88c5\u4f8b\u3002ruby\u3002\n\u4ed6\u306e\u8a00\u8a9e\u306a\u3069\u306e\u89e3\u7b54\u4f8b\u306f\nhttp://qiita.com/Nabetani/items/1de39df381dfeee305ab\n\u304b\u3089\u8fbf\u308c\u307e\u3059\u3002\n\u3067\u3002\n\u3053\u3093\u306a\u611f\u3058\u3002\ndef at( a, x, y )\n  return nil unless (0...a.size).include?( y )\n  line=a[y]\n  (0...line.size).include?( x ) ? line[x] : nil\nend\n\ndef create_graph\n  names=[(?A..?Z), (?a..?z), (?0..?7), %w( g f e )].map{ |i| i.to_a }.flatten\n  f=( [11]*3+[3]*10 ).map{ |w| names.shift(w) }\n\n  (0..11).each_with_object({}) { |y,r|\n    0.upto(y<3 ? 10 : 2) do |x|\n      r[ at( f, x, y )] = 4.times.map{ |i|\n        at( f, x+[-1,0,1,0][i], y+[0,-1,0,1][i] )\n      }\n    end\n  }.tap{ |r|\n    %w( e7 f6  g5 ).each do |c|\n      r[c[0]][3]=c[1]\n    end\n  }\nend\n\ndef solve( src )\n  graph=create_graph()\n  pos = [ ?A, graph[?A].index( ?B ) ]\n  src.chars.each_with_object( \"A\" ) do |c,r|\n    turn={\"L\"=>3, \"R\"=>1}[c]\n    if turn\n      pos[1] += turn\n    else\n      c.to_i(16).times do \n        np=graph[pos[0]][pos[1]&3]\n        return r+\"?\" unless graph[np]\n        pos = [ np, graph[ np ].index( pos[0] )+2 ]\n        r.concat np\n      end\n    end\n  end\nend\n\nDATA.each_line do |line|\n  num, src, exp = line.split( /\\s+/ )\n  act = solve( src )\n  ok = act==exp ? \"ok\" : \"***NG***\"\n  puts [ ok, src, act, exp ].join( \" \" )\nend\n\n__END__\n0 2RcL3LL22 ABCNYjmpsvy147edcbcdef\n1 L3R4L5RR5R3L5 A?\n40  6LR2R1LR5LRLRL484L63  ABCDEFGHITe741yxw?\n\n\u3044\u3064\u3082\u3069\u304a\u308a\u3001\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u306e\u5927\u534a\u3092\u7701\u7565\u3002\n\u30c6\u30b9\u30c8\u3092\u6570\u3048\u306a\u304f\u3066\u3082 40\u884c\u3002\n\u6700\u521d\u306b\u66f8\u3044\u305f\u6642\u306f\u3082\u3063\u3068\u7c21\u5358\u306a\u3088\u3046\u306a\u6c17\u304c\u3057\u3066\u3044\u305f\u3093\u3060\u3051\u3069\u306a\u3041\u3002\n\u4f5c\u6226\u3068\u3057\u3066\u306f\u3001\u57fa\u672c\u7684\u306b\u76f4\u4ea4\u5ea7\u6a19\u7cfb\u3067\u3042\u308b\u3001\u3068\u3044\u3046\u3082\u306e\u3068\u3001\u57fa\u672c\u7684\u306b\u30b0\u30e9\u30d5\u3067\u3042\u308b\u3001\u3068\u3044\u3046\u7269\u304c\u3042\u308b\u3068\u601d\u3046\u3002\n\u3053\u308c\u306f\u5f8c\u8005\u3002\n\u5730\u56f3\u306e\u6b6a\u307f\u5177\u5408\u306b\u5fdc\u3058\u3066\u4f8b\u5916\u7684\u306a\u51e6\u7406\u3092\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u308f\u3051\u3060\u3051\u3069\u3001\u305d\u308c\u306f\u5730\u56f3\u88fd\u4f5c\u306e\u6642\u70b9\u3067\u6e08\u307e\u3057\u3066\u3044\u308b\u3002\u79fb\u52d5\u306e\u6642\u306f\u666e\u901a\u306b\u305f\u3069\u308c\u3070\u3088\u3044\u3002\n\u3068\u306f\u3044\u3048\u3001solve \u306e\u6700\u5f8c\u306b end \u304c\uff14\u3064\u3082\u3042\u308b\u306e\u306f\u3044\u305f\u3060\u3051\u306a\u3044\u3002\n\n\n\u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f\nhttp://atnd.org/events/40389\n\u306e\u3001\u53c2\u8003\u554f\u984c(\u9053\u306a\u308a\u306e\u4e80)\nhttp://nabetani.sakura.ne.jp/hena/ord12aloroturtle/\n\u306e\u5b9f\u88c5\u4f8b\u3002ruby\u3002\n\n\u4ed6\u306e\u8a00\u8a9e\u306a\u3069\u306e\u89e3\u7b54\u4f8b\u306f\nhttp://qiita.com/Nabetani/items/1de39df381dfeee305ab\n\u304b\u3089\u8fbf\u308c\u307e\u3059\u3002\n\n\u3067\u3002\n\u3053\u3093\u306a\u611f\u3058\u3002\n\n```ruby\ndef at( a, x, y )\n  return nil unless (0...a.size).include?( y )\n  line=a[y]\n  (0...line.size).include?( x ) ? line[x] : nil\nend\n\ndef create_graph\n  names=[(?A..?Z), (?a..?z), (?0..?7), %w( g f e )].map{ |i| i.to_a }.flatten\n  f=( [11]*3+[3]*10 ).map{ |w| names.shift(w) }\n\n  (0..11).each_with_object({}) { |y,r|\n    0.upto(y<3 ? 10 : 2) do |x|\n      r[ at( f, x, y )] = 4.times.map{ |i|\n        at( f, x+[-1,0,1,0][i], y+[0,-1,0,1][i] )\n      }\n    end\n  }.tap{ |r|\n    %w( e7 f6  g5 ).each do |c|\n      r[c[0]][3]=c[1]\n    end\n  }\nend\n\ndef solve( src )\n  graph=create_graph()\n  pos = [ ?A, graph[?A].index( ?B ) ]\n  src.chars.each_with_object( \"A\" ) do |c,r|\n    turn={\"L\"=>3, \"R\"=>1}[c]\n    if turn\n      pos[1] += turn\n    else\n      c.to_i(16).times do \n        np=graph[pos[0]][pos[1]&3]\n        return r+\"?\" unless graph[np]\n        pos = [ np, graph[ np ].index( pos[0] )+2 ]\n        r.concat np\n      end\n    end\n  end\nend\n\nDATA.each_line do |line|\n  num, src, exp = line.split( /\\s+/ )\n  act = solve( src )\n  ok = act==exp ? \"ok\" : \"***NG***\"\n  puts [ ok, src, act, exp ].join( \" \" )\nend\n\n__END__\n0 2RcL3LL22 ABCNYjmpsvy147edcbcdef\n1 L3R4L5RR5R3L5 A?\n40  6LR2R1LR5LRLRL484L63  ABCDEFGHITe741yxw?\n```\n\n\u3044\u3064\u3082\u3069\u304a\u308a\u3001\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u306e\u5927\u534a\u3092\u7701\u7565\u3002\n\n\u30c6\u30b9\u30c8\u3092\u6570\u3048\u306a\u304f\u3066\u3082 40\u884c\u3002\n\u6700\u521d\u306b\u66f8\u3044\u305f\u6642\u306f\u3082\u3063\u3068\u7c21\u5358\u306a\u3088\u3046\u306a\u6c17\u304c\u3057\u3066\u3044\u305f\u3093\u3060\u3051\u3069\u306a\u3041\u3002\n\n\u4f5c\u6226\u3068\u3057\u3066\u306f\u3001\u57fa\u672c\u7684\u306b\u76f4\u4ea4\u5ea7\u6a19\u7cfb\u3067\u3042\u308b\u3001\u3068\u3044\u3046\u3082\u306e\u3068\u3001\u57fa\u672c\u7684\u306b\u30b0\u30e9\u30d5\u3067\u3042\u308b\u3001\u3068\u3044\u3046\u7269\u304c\u3042\u308b\u3068\u601d\u3046\u3002\n\u3053\u308c\u306f\u5f8c\u8005\u3002\n\n\u5730\u56f3\u306e\u6b6a\u307f\u5177\u5408\u306b\u5fdc\u3058\u3066\u4f8b\u5916\u7684\u306a\u51e6\u7406\u3092\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u308f\u3051\u3060\u3051\u3069\u3001\u305d\u308c\u306f\u5730\u56f3\u88fd\u4f5c\u306e\u6642\u70b9\u3067\u6e08\u307e\u3057\u3066\u3044\u308b\u3002\u79fb\u52d5\u306e\u6642\u306f\u666e\u901a\u306b\u305f\u3069\u308c\u3070\u3088\u3044\u3002\n\u3068\u306f\u3044\u3048\u3001solve \u306e\u6700\u5f8c\u306b end \u304c\uff14\u3064\u3082\u3042\u308b\u306e\u306f\u3044\u305f\u3060\u3051\u306a\u3044\u3002\n\n"}