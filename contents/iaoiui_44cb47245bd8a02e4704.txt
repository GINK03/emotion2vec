{"context": "\n\ncURL\u3092\u307e\u305a\u3088\u304f\u77e5\u3089\u306a\u3044\n\u305d\u306e\u305f\u3081\u3001curl\u3067\u66f8\u3044\u305f\u30b3\u30de\u30f3\u30c9\u3092\u79fb\u690d\u3057\u3088\u3046\u3068\u969b\u306b\u56f0\u3063\u305f\u306e\u3067\u30e1\u30e2\n\nHttpUrlConnection\n\nAndroid\u3067\u52d5\u304f\u30b5\u30f3\u30d7\u30eb\n\n\nsample.java\n\npackage com.example.***;\n\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.design.widget.Snackbar;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.Toolbar;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.TextView;\n\nimport java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.UnsupportedEncodingException;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\n\npublic class MainActivity extends AppCompatActivity {\n    TextView textview;\n    class HttpGetTask extends AsyncTask<URL, Void, String> {\n\n        @Override\n        protected String doInBackground(URL... url) {\n            String result = \"\";\n            HttpURLConnection conn = null;\n            try {\n                conn = (HttpURLConnection) url[0].openConnection();\n                conn.setReadTimeout(10000);\n                conn.setConnectTimeout(15000);\n                conn.setRequestMethod(\"GET\");\n                conn.setRequestProperty(\"Referer\", \"https://hogehoge\");       conn.setDoInput(true);\n                conn.connect();\n                int resp = conn.getResponseCode();\n                result = readIt(conn.getInputStream());\n            } catch(IOException e) {\n                e.printStackTrace();\n            } finally {\n                if(conn != null) {\n                    conn.disconnect();\n                }\n            }\n            return result;\n        }\n\n        public String readIt(InputStream stream) throws IOException, UnsupportedEncodingException {\n            StringBuffer sb = new StringBuffer();\n            String line = \"\";\n            BufferedReader br = new BufferedReader(new InputStreamReader(stream, \"UTF-8\"));\n            while((line = br.readLine()) != null){\n                sb.append(line);\n            }\n            try {\n                stream.close();\n            } catch(Exception e) {\n                e.printStackTrace();\n            }\n            return sb.toString();\n        }\n\n        @Override\n        protected void onPostExecute(String response) {\n\n            textview.setText(response);\n        }\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        textview = (TextView)findViewById(R.id.tv1);\n        setSupportActionBar(toolbar);\n\n        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String ret = test();\n            }\n\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n\n    public String test(){\n        String ret=  null;\n\n        URL url = null;\n        try {\n            url = new URL(\"http://192.168.0.10\");\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        }\n\n        new HttpGetTask().execute(url);\n\n        return ret;\n    }\n\n}\n\n\n\n\n#cURL\u3092\u307e\u305a\u3088\u304f\u77e5\u3089\u306a\u3044\n\u305d\u306e\u305f\u3081\u3001curl\u3067\u66f8\u3044\u305f\u30b3\u30de\u30f3\u30c9\u3092\u79fb\u690d\u3057\u3088\u3046\u3068\u969b\u306b\u56f0\u3063\u305f\u306e\u3067\u30e1\u30e2\n\n#HttpUrlConnection\n- Android\u3067\u52d5\u304f\u30b5\u30f3\u30d7\u30eb\n\n```java:sample.java\n\npackage com.example.***;\n\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.design.widget.Snackbar;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.Toolbar;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.TextView;\n\nimport java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.UnsupportedEncodingException;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\n\npublic class MainActivity extends AppCompatActivity {\n    TextView textview;\n    class HttpGetTask extends AsyncTask<URL, Void, String> {\n\n        @Override\n        protected String doInBackground(URL... url) {\n            String result = \"\";\n            HttpURLConnection conn = null;\n            try {\n                conn = (HttpURLConnection) url[0].openConnection();\n                conn.setReadTimeout(10000);\n                conn.setConnectTimeout(15000);\n                conn.setRequestMethod(\"GET\");\n                conn.setRequestProperty(\"Referer\", \"https://hogehoge\");       conn.setDoInput(true);\n                conn.connect();\n                int resp = conn.getResponseCode();\n                result = readIt(conn.getInputStream());\n            } catch(IOException e) {\n                e.printStackTrace();\n            } finally {\n                if(conn != null) {\n                    conn.disconnect();\n                }\n            }\n            return result;\n        }\n\n        public String readIt(InputStream stream) throws IOException, UnsupportedEncodingException {\n            StringBuffer sb = new StringBuffer();\n            String line = \"\";\n            BufferedReader br = new BufferedReader(new InputStreamReader(stream, \"UTF-8\"));\n            while((line = br.readLine()) != null){\n                sb.append(line);\n            }\n            try {\n                stream.close();\n            } catch(Exception e) {\n                e.printStackTrace();\n            }\n            return sb.toString();\n        }\n\n        @Override\n        protected void onPostExecute(String response) {\n\n            textview.setText(response);\n        }\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        textview = (TextView)findViewById(R.id.tv1);\n        setSupportActionBar(toolbar);\n\n        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String ret = test();\n            }\n\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n\n    public String test(){\n        String ret=  null;\n\n        URL url = null;\n        try {\n            url = new URL(\"http://192.168.0.10\");\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        }\n\n        new HttpGetTask().execute(url);\n\n        return ret;\n    }\n\n}\n\n\n```\n", "tags": ["curl", "Android", "HTTP"]}