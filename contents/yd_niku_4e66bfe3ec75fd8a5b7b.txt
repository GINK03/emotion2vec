{"context": "Android\u3067overflow\u3059\u308b\u3068\u30b9\u30af\u30ed\u30fc\u30eb\u3067\u304d\u306a\u3044\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306b\u3064\u304f\u308a\u307e\u3057\u305f\u3002\n\u203b(\u8ffd\u8a18) iOS\u3068\u304b\u3067\u306fCSS\u3067\"-webkit-overflow-scrolling: touch;\"\u306b\u3059\u308c\u3070\u3088\u3044\u305d\u3046\u3067\u3059\u3002\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\nhttps://github.com/yosukedoke/JSOverflowScroll\n\n\u4f7f\u3044\u65b9\n\nCSS\n#hoge {\n    overflow:auto;//Android\u306f\u5f37\u5236\u7684\u306bhidden\u7684\u306a\u6319\u52d5\u306b\u306a\u308b\n    width:320px;\n    height:400px;\n}\n\n\nJS\n$(\"#hoge\"). overflowScroll();\n\niOS\u3067\u3082overflow\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u6163\u6027\u30b9\u30af\u30ed\u30fc\u30eb\u304c\u52b9\u304b\u306a\u304f\u306a\u308b\u306e\u3067\u6709\u7528\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\n\u3088\u307b\u3069\u3067\u306a\u3051\u308c\u3070UA\u3092\u5224\u5b9a\u3057\u3066Android\u3060\u3051\u9069\u5fdc\u3059\u308b\u307b\u3046\u304c\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4ed5\u7d44\u307f\ntouchStart\u3067\u53d6\u5f97\u3057\u305f\u30dd\u30a4\u30f3\u30c8\u3092\u3068\u73fe\u5728\u306e\u6307\u306e\u4f4d\u7f6e\u306e\u5dee\u5206\u3092scrollTop\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\n\u6a21\u5f0f\u7684\u306b\u66f8\u304f\u3068\u6b21\u306e\u3088\u3046\u306a\u304b\u3093\u3058\u3067\u3059\u3002\n\n\u30bf\u30c3\u30c1\u958b\u59cb\n$target.on(\"touchStart\", function(event) {\n        event = event.originalEvent;\n        var touch = event.touches[0];\n        touchStartX = touch.pageX;\n        touchStartY = touch.pageY;\n});\n\n\n\u30bf\u30c3\u30c1\u4e2d(\u30c9\u30e9\u30c3\u30b0\u4e2d)\n$target.on(\"touchMove\", function(event) {\n        event = event.originalEvent;\n        var touch = event.touches[0];\n        touchX = touch.pageX;\n        touchY = touch.pageY;\n\n        $target.scrollLeft(touchStartX - touchX);\n        $target.scrollTop(touchStartY - touchY);\n});\n\n\n\u30bf\u30c3\u30c1\u5b8c\u4e86\n$target.on(\"touchEnd\", function(event) {\n        event = event.originalEvent;\n        var touch = event.touches[0];\n        touchStartX = touch.pageX;\n        touchStartY = touch.pageY;\n\n        //\u4f55\u304b\u3042\u308c\u3070\n        //...\n});\n\n\u5b9f\u969b\u306b\u306ftouchEnd\u3067\u76f4\u524d\u306e touchX/touchY\u3068\u306e\u5dee\u5206\u3092\u3082\u3068\u306b\u8a71\u3057\u305f\u6642\u306e\u6307\u306e\u901f\u5ea6\u3092\u5272\u308a\u51fa\u3057\n\u305d\u308c\u3092\u3082\u3068\u306b\u6163\u6027\u30b9\u30af\u30ed\u30fc\u30eb\u3063\u307d\u304f\u3059\u308b\u3088\u3046\u8a66\u307f\u3066\u307e\u3059\u3002\n$target.on(\"touchEnd\", function(event) {\n        event = event.originalEvent;\n        var touch = event.changedTouches[0];\n\n        touchSpeedX = (touchX - touch.pageX);\n        touchSpeedY = (touchY - touch.pageY);\n\n        intervalID = setInterval(afterMoving, INTERVAL_TO_MOVE);\n});\n\nfunction afterMoving() {\n        //\u901f\u5ea6\u304c\u3042\u307e\u308a\u306b\u3082\u5c0f\u3055\u304f\u306a\u3063\u305f\u3089\u6b62\u307e\u3063\u305f\u3053\u3068\u306b\u3059\u308b\u3002\n        if ((Math.abs(touchSpeedX)<LIMIT_TO_STOP && Math.abs(touchSpeedY)<LIMIT_TO_STOP)) {\n            clearInterval(intervalID);\n            return;\n        }\n\n        var oldX = $target.scrollLeft(),\n            oldY = $target.scrollTop();\n\n        //\u6469\u64e6\u4fc2\u6570\u3092\u304b\u3051\u3066\u6e1b\u901f\n        touchSpeedX *= FRICTION;\n        touchSpeedY *= FRICTION;\n\n        $target.scrollLeft(oldX + Math.round(touchSpeedX));\n        $target.scrollTop(oldY + Math.round(touchSpeedY));\n}\n\n\u3053\u306e\u8a18\u4e8b\u306f2013-08-19\u306e\u8a18\u4e8b\u306e\u8ee2\u8f09\u3067\u3059\u3002\nAndroid\u3067overflow\u3059\u308b\u3068\u30b9\u30af\u30ed\u30fc\u30eb\u3067\u304d\u306a\u3044\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306b\u3064\u304f\u308a\u307e\u3057\u305f\u3002\n\n\u203b(\u8ffd\u8a18) [iOS\u3068\u304b\u3067\u306fCSS\u3067\"-webkit-overflow-scrolling: touch;\"\u306b\u3059\u308c\u3070\u3088\u3044\u305d\u3046\u3067\u3059\u3002](http://www.webantena.net/css/css3-webkit-overflow-scrolling/)\n\n# \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\nhttps://github.com/yosukedoke/JSOverflowScroll\n\n# \u4f7f\u3044\u65b9\n\n## CSS\n\n    #hoge {\n        overflow:auto;//Android\u306f\u5f37\u5236\u7684\u306bhidden\u7684\u306a\u6319\u52d5\u306b\u306a\u308b\n        width:320px;\n        height:400px;\n    }\n\n## JS\n\n    $(\"#hoge\"). overflowScroll();\n\n\niOS\u3067\u3082overflow\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u6163\u6027\u30b9\u30af\u30ed\u30fc\u30eb\u304c\u52b9\u304b\u306a\u304f\u306a\u308b\u306e\u3067\u6709\u7528\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\n\u3088\u307b\u3069\u3067\u306a\u3051\u308c\u3070UA\u3092\u5224\u5b9a\u3057\u3066Android\u3060\u3051\u9069\u5fdc\u3059\u308b\u307b\u3046\u304c\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u4ed5\u7d44\u307f\n\ntouchStart\u3067\u53d6\u5f97\u3057\u305f\u30dd\u30a4\u30f3\u30c8\u3092\u3068\u73fe\u5728\u306e\u6307\u306e\u4f4d\u7f6e\u306e\u5dee\u5206\u3092scrollTop\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\n\u6a21\u5f0f\u7684\u306b\u66f8\u304f\u3068\u6b21\u306e\u3088\u3046\u306a\u304b\u3093\u3058\u3067\u3059\u3002\n\n## \u30bf\u30c3\u30c1\u958b\u59cb\n\n\n    $target.on(\"touchStart\", function(event) {\n            event = event.originalEvent;\n            var touch = event.touches[0];\n            touchStartX = touch.pageX;\n            touchStartY = touch.pageY;\n    });\n\n## \u30bf\u30c3\u30c1\u4e2d(\u30c9\u30e9\u30c3\u30b0\u4e2d)\n\n    $target.on(\"touchMove\", function(event) {\n            event = event.originalEvent;\n            var touch = event.touches[0];\n            touchX = touch.pageX;\n            touchY = touch.pageY;\n\n            $target.scrollLeft(touchStartX - touchX);\n            $target.scrollTop(touchStartY - touchY);\n    });\n\n## \u30bf\u30c3\u30c1\u5b8c\u4e86\n\n    $target.on(\"touchEnd\", function(event) {\n            event = event.originalEvent;\n            var touch = event.touches[0];\n            touchStartX = touch.pageX;\n            touchStartY = touch.pageY;\n\n            //\u4f55\u304b\u3042\u308c\u3070\n            //...\n    });\n\n\u5b9f\u969b\u306b\u306ftouchEnd\u3067\u76f4\u524d\u306e touchX/touchY\u3068\u306e\u5dee\u5206\u3092\u3082\u3068\u306b\u8a71\u3057\u305f\u6642\u306e\u6307\u306e\u901f\u5ea6\u3092\u5272\u308a\u51fa\u3057\n\u305d\u308c\u3092\u3082\u3068\u306b\u6163\u6027\u30b9\u30af\u30ed\u30fc\u30eb\u3063\u307d\u304f\u3059\u308b\u3088\u3046\u8a66\u307f\u3066\u307e\u3059\u3002\n\n\n\n    $target.on(\"touchEnd\", function(event) {\n            event = event.originalEvent;\n            var touch = event.changedTouches[0];\n\n            touchSpeedX = (touchX - touch.pageX);\n            touchSpeedY = (touchY - touch.pageY);\n\n            intervalID = setInterval(afterMoving, INTERVAL_TO_MOVE);\n    });\n\n    function afterMoving() {\n            //\u901f\u5ea6\u304c\u3042\u307e\u308a\u306b\u3082\u5c0f\u3055\u304f\u306a\u3063\u305f\u3089\u6b62\u307e\u3063\u305f\u3053\u3068\u306b\u3059\u308b\u3002\n            if ((Math.abs(touchSpeedX)<LIMIT_TO_STOP && Math.abs(touchSpeedY)<LIMIT_TO_STOP)) {\n                clearInterval(intervalID);\n                return;\n            }\n\n            var oldX = $target.scrollLeft(),\n                oldY = $target.scrollTop();\n\n            //\u6469\u64e6\u4fc2\u6570\u3092\u304b\u3051\u3066\u6e1b\u901f\n            touchSpeedX *= FRICTION;\n            touchSpeedY *= FRICTION;\n\n            $target.scrollLeft(oldX + Math.round(touchSpeedX));\n            $target.scrollTop(oldY + Math.round(touchSpeedY));\n    }\n\n\n\u3053\u306e\u8a18\u4e8b\u306f[2013-08-19\u306e\u8a18\u4e8b\u306e\u8ee2\u8f09](http://yd-niku.hatenablog.com/entries/2013/08/19)\u3067\u3059\u3002\n", "tags": ["Android", "jQuery", "overflow", "scroll", "Plugin"]}