{"context": " More than 1 year has passed since last update.Promise\u4f7f\u3046\u306a\u3089then\u3067\u3064\u306a\u304e\u305f\u3044\u3088\u306d\u3002\u4ee5\u4e0b\u306e\u4f8b\u306f https://github.com/kriskowal/q \u306edeffered\u3092\u3064\u304b\u3063\u305fpromise\u306e\u751f\u6210\u3002\n(1) \u3053\u308c\u306f\u307e\u304e\u308c\u3082\u306a\u304fA\u304c\u51fa\u308b\u3002reject\u3057\u305f\u3089B\u304c\u51fa\u308b\u3002\nvar Q = require('q');\nvar d = Q.defer();\n\nd.promise.then(function(){\n    console.log('A');\n  }, function(){\n    console.log('B');\n  });\n\nd.resolve();\n\n(2) reject\u3092\u30c1\u30a7\u30a4\u30f3\u3067\u304d\u308b\u3002\nvar Q = require('q');\nvar d = Q.defer();\n\nd.promise.then(function(){  \n    console.log('A');\n  }, null).then(function(){\n    console.log('C')\n  }, function(){\n    console.log('D')\n  });\n\nd.reject();\n\n(3) (2)\u3068\u4f3c\u3066\u308b\u3051\u3069\u3001\u3053\u306e\u5834\u5408\u306f\u4f55\u304c\u51fa\u308b\u304b\u3002\nvar Q = require('q');\nvar d = Q.defer();\n\nd.promise.then(function(){  \n    console.log('A');\n  }, function(){\n    console.log('B')\n  }).then(function(){\n    console.log('C')\n  }, function(){\n    console.log('D')\n  });\n\nd.reject();\n\n(4) Promise\u5185\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u3089\u3001\u3069\u3046\u306a\u308b\u304b\u3002\nvar Q = require('q');\nvar d = Q.defer();\n\nd.promise.then(function(){  \n  throw new Error('foobar');\n}).then(function(){\n  console.log('A')\n}, function(){\n  console.log('B')\n});\n\nd.resolve();\n\n(5) catch\u3082\u3042\u308b\u3002\nvar Q = require('q');\nvar d = Q.defer();\n\nd.promise.then(function(){  \n  console.log('A');\n}).catch(function(){\n  console.log('B')\n});\n\nd.reject();\n\n(6) return \u3067\u5225\u306ePromise\u8fd4\u3059\u30d1\u30bf\u30fc\u30f3\nvar Q = require('q');\nvar d = Q.defer();\nvar d2 = Q.defer();\n\nd.promise.then(function(){\n    console.log('A');\n    return d2.promise;\n  }, null).then(function(){\n    console.log('B');\n  }, function(){\n    console.log('C');\n  });\n\nd.resolve();\nd2.reject();\n\n\n(7) \u5225\u306ePromise\u304c\u3055\u3089\u306b\u5225\u306ePromise\u3092\u8fd4\u3059\nvar Q = require('q');\nvar d = Q.defer();\nvar d2 = Q.defer();\nvar d3 = Q.defer();\n\nd.promise.then(function(){\n    console.log('A');\n    return d2.promise.then(function(){\n      return d3.promise.then(function(){\n        console.log('B');\n        return d3.promise;\n      }, function(){\n        console.log('C');\n        return d3.promise;\n      });\n    }, function(){\n        console.log('D');\n    });\n  }, function(){\n    console.log('E');\n    return d.promise;\n  }).then(function(){\n    console.log('F')\n  }, function(){\n    console.log('G')\n  });\n\nd.resolve();\nd2.reject();\nd3.resolve();\n\n(8) Catch\u3092\u4f7f\u3046\u3002\nvar Q = require('q');\nvar d = Q.defer();\nvar d2 = Q.defer();\nvar d3 = Q.defer();\n\nd.promise.then(function(){\n    console.log('A');\n    return d2.promise.then(function(){\n      return d3.promise.then(function(){\n        console.log('B');\n      }).catch(function(){\n        console.log('C');\n      });\n    }).catch(function(){\n        console.log('D');\n    });\n  }, function(){\n    console.log('E');\n    return d.promise;\n  }).then(function(){\n    console.log('F')\n  }, function(){\n    console.log('G')\n  });\n\nd.resolve();\nd2.reject();\nd3.resolve();\n\n\n\n\u6b63\u89e3\u306f\n(1) A (2) D (3) B C (4) B (5) B (6) A C (7) A D F\n\u3082\u3046\u5c11\u3057\u9811\u5f35\u308c\u3070Promise Hell\u304c\u4f5c\u308c\u305d\u3046\u3002\nPromise\u4f7f\u3046\u306a\u3089then\u3067\u3064\u306a\u304e\u305f\u3044\u3088\u306d\u3002\u4ee5\u4e0b\u306e\u4f8b\u306f https://github.com/kriskowal/q \u306edeffered\u3092\u3064\u304b\u3063\u305fpromise\u306e\u751f\u6210\u3002\n\n(1) \u3053\u308c\u306f\u307e\u304e\u308c\u3082\u306a\u304fA\u304c\u51fa\u308b\u3002reject\u3057\u305f\u3089B\u304c\u51fa\u308b\u3002\n\n```js\nvar Q = require('q');\nvar d = Q.defer();\n\nd.promise.then(function(){\n    console.log('A');\n  }, function(){\n    console.log('B');\n  });\n\nd.resolve();\n```\n\n(2) reject\u3092\u30c1\u30a7\u30a4\u30f3\u3067\u304d\u308b\u3002\n\n```js\nvar Q = require('q');\nvar d = Q.defer();\n\nd.promise.then(function(){  \n    console.log('A');\n  }, null).then(function(){\n    console.log('C')\n  }, function(){\n    console.log('D')\n  });\n\nd.reject();\n```\n\n(3) (2)\u3068\u4f3c\u3066\u308b\u3051\u3069\u3001\u3053\u306e\u5834\u5408\u306f\u4f55\u304c\u51fa\u308b\u304b\u3002\n\n```js\nvar Q = require('q');\nvar d = Q.defer();\n\nd.promise.then(function(){  \n    console.log('A');\n  }, function(){\n    console.log('B')\n  }).then(function(){\n    console.log('C')\n  }, function(){\n    console.log('D')\n  });\n\nd.reject();\n```\n\n(4) Promise\u5185\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u3089\u3001\u3069\u3046\u306a\u308b\u304b\u3002\n\n```js\nvar Q = require('q');\nvar d = Q.defer();\n\nd.promise.then(function(){  \n  throw new Error('foobar');\n}).then(function(){\n  console.log('A')\n}, function(){\n  console.log('B')\n});\n\nd.resolve();\n```\n\n(5) catch\u3082\u3042\u308b\u3002\n\n```js\nvar Q = require('q');\nvar d = Q.defer();\n\nd.promise.then(function(){  \n  console.log('A');\n}).catch(function(){\n  console.log('B')\n});\n\nd.reject();\n```\n\n(6) return \u3067\u5225\u306ePromise\u8fd4\u3059\u30d1\u30bf\u30fc\u30f3\n\n```js\nvar Q = require('q');\nvar d = Q.defer();\nvar d2 = Q.defer();\n\nd.promise.then(function(){\n    console.log('A');\n    return d2.promise;\n  }, null).then(function(){\n    console.log('B');\n  }, function(){\n    console.log('C');\n  });\n\nd.resolve();\nd2.reject();\n\n```\n\n(7) \u5225\u306ePromise\u304c\u3055\u3089\u306b\u5225\u306ePromise\u3092\u8fd4\u3059\n\n```js\nvar Q = require('q');\nvar d = Q.defer();\nvar d2 = Q.defer();\nvar d3 = Q.defer();\n\nd.promise.then(function(){\n    console.log('A');\n    return d2.promise.then(function(){\n      return d3.promise.then(function(){\n        console.log('B');\n        return d3.promise;\n      }, function(){\n        console.log('C');\n        return d3.promise;\n      });\n    }, function(){\n        console.log('D');\n    });\n  }, function(){\n    console.log('E');\n    return d.promise;\n  }).then(function(){\n    console.log('F')\n  }, function(){\n    console.log('G')\n  });\n\nd.resolve();\nd2.reject();\nd3.resolve();\n```\n\n(8) Catch\u3092\u4f7f\u3046\u3002\n\n```js\nvar Q = require('q');\nvar d = Q.defer();\nvar d2 = Q.defer();\nvar d3 = Q.defer();\n\nd.promise.then(function(){\n    console.log('A');\n    return d2.promise.then(function(){\n      return d3.promise.then(function(){\n        console.log('B');\n      }).catch(function(){\n        console.log('C');\n      });\n    }).catch(function(){\n        console.log('D');\n    });\n  }, function(){\n    console.log('E');\n    return d.promise;\n  }).then(function(){\n    console.log('F')\n  }, function(){\n    console.log('G')\n  });\n\nd.resolve();\nd2.reject();\nd3.resolve();\n```\n\n<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>\n\n---\n\n\u6b63\u89e3\u306f\n(1) A (2) D (3) B C (4) B (5) B (6) A C (7) A D F\n\n\u3082\u3046\u5c11\u3057\u9811\u5f35\u308c\u3070Promise Hell\u304c\u4f5c\u308c\u305d\u3046\u3002\n", "tags": ["JavaScript", "promise", "Node.js"]}