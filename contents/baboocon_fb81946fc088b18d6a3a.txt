{"tags": ["Ruby2.2", "rbenv", "Ubuntu14.04", "Ubuntu14.10"], "context": " More than 1 year has passed since last update.\n\n\u30af\u30ea\u30b9\u30de\u30b9\u306bRuby 2.2.0\u30ea\u30ea\u30fc\u30b9\n\u306f\u3044\u3001\u30e1\u30ea\u30af\u30ea\u30e1\u30ea\u30af\u30ea\u3002\nRuby2.1\u304b\u3089\u6052\u4f8b\u306e\u30af\u30ea\u30b9\u30de\u30b9\u884c\u4e8b\u306b\u306a\u3063\u305fRuby\u306e\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u30ea\u30ea\u30fc\u30b9\u3001\u4eca\u5e74\u3082\u7121\u4e8b\u306b2.2.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u306d\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3053\u3053\u3067\u306f\u304a\u306a\u3058\u307f\u306erbenv\u3068ruby-build\u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3059\u3002\n\nrbenv\u3068ruby-build\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nQiita\u306b\u3082\u4ed6\u306b\u305f\u304f\u3055\u3093\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u304c\u30a2\u30c3\u30d7\u3055\u308c\u3066\u308b\u306e\u3067\u7701\u7565\u3002\n\u307e\u3060\u5165\u308c\u3066\u3044\u306a\u3044\u65b9\u306f\u3001\u5404\u81ea\u306e\u74b0\u5883\u306b\u3042\u3063\u305f\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u898b\u3064\u3051\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nruby-build\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\u3059\u3067\u306b\u5165\u308c\u3066\u3044\u308b\u4eba\u306fruby-build\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u3057\u307e\u3057\u3087\u3046\u3002ruby-build\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\n% git pull origin master\n\n\u3068\u53e9\u3044\u3066\u66f4\u65b0\u3002\n% rbenv rehash\n\n\u3057\u3066\u304b\u3089\n% rbenv install -l\n\n\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u30d0\u30fc\u30b8\u30e7\u30f3\u306b2.2.0\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\nrbenv\u3067ruby-2.2.0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3042\u3068\u306f\n$ rbenv install 2.2.0\n\n\u3068\u3084\u308c\u3070OK\u3002\n\nUbuntu14.04\u304a\u3088\u3073Ubuntu14.10\u306e\u5834\u5408\n\u30fb\u30fb\u30fb\u306e\u306f\u305a\u3060\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u81ea\u5206\u306e\u74b0\u5883\uff08Ubuntu14.04\u53ca\u3073Ubuntu14.10\uff09\u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u30d3\u30eb\u30c9\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\n% rbenv install 2.2.0\nDownloading ruby-2.2.0.tar.gz...\n-> http://dqw8nmjcqpjn7.cloudfront.net/7671e394abfb5d262fbcd3b27a71bf78737c7e9347fa21c39e58b0bb9c4840fc\nInstalling ruby-2.2.0...\n\nBUILD FAILED (Ubuntu 14.04 using ruby-build 20140524-150-gbe7d096)\n\nInspect or clean up the working tree at /tmp/ruby-build.20141226005210.7528\nResults logged to /tmp/ruby-build.20141226005210.7528.log\n\nLast 10 log lines:\nmake[1]: *** \u672a\u5b8c\u4e86\u306e\u30b8\u30e7\u30d6\u3092\u5f85\u3063\u3066\u3044\u307e\u3059....\ninstalling default date_core libraries\ninstalling default nkf libraries\nmake[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/objspace' \u304b\u3089\u51fa\u307e\u3059\nlinking shared-object nkf.so\nmake[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/nkf' \u304b\u3089\u51fa\u307e\u3059\nlinking shared-object date_core.so\nmake[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/date' \u304b\u3089\u51fa\u307e\u3059\nmake[1]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0' \u304b\u3089\u51fa\u307e\u3059\nmake: *** [build-ext] \u30a8\u30e9\u30fc 2\n\nlog\u306e\u4e2d\u8eab\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n(\u524d\u7565)\nlinking shared-object objspace.so\n/usr/bin/ld: ./libffi-3.2.1/.libs/libffi.a(raw_api.o): \u518d\u914d\u7f6e R_X86_64_32S (`.rodata' \u306b\u5bfe\u3059\u308b) \u306f\u5171\u6709\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\u6642\u306b\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002-fPIC \u3092\u4ed8\u3051\u3066\u518d\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n./libffi-3.2.1/.libs/libffi.a: error adding symbols: \u4e0d\u6b63\u306a\u5024\u3067\u3059\ncollect2: error: ld returned 1 exit status\nmake[2]: *** [../../.ext/x86_64-linux/fiddle.so] \u30a8\u30e9\u30fc 1\nmake[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/fiddle' \u304b\u3089\u51fa\u307e\u3059\nmake[1]: *** [ext/fiddle/all] \u30a8\u30e9\u30fc 2\nmake[1]: *** \u672a\u5b8c\u4e86\u306e\u30b8\u30e7\u30d6\u3092\u5f85\u3063\u3066\u3044\u307e\u3059....\ninstalling default date_core libraries\ninstalling default nkf libraries\nmake[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/objspace' \u304b\u3089\u51fa\u307e\u3059\nlinking shared-object nkf.so\nmake[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/nkf' \u304b\u3089\u51fa\u307e\u3059\nlinking shared-object date_core.so\nmake[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/date' \u304b\u3089\u51fa\u307e\u3059\nmake[1]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0' \u304b\u3089\u51fa\u307e\u3059\nmake: *** [build-ext] \u30a8\u30e9\u30fc 2\n\n\u3069\u3046\u3082 libffi \u3068\u3044\u3046\u306e\u304c\u602a\u3057\u305d\u3046\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n% sudo apt-get install libffi-dev\n\n\u518d\u5ea6\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u884c\u3002\n% rbenv install 2.2.0\n\n\u4eca\u5ea6\u306f\u6b63\u5e38\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3057\u305f\u3002\n% rbenv versions\n   ...\n   ...\n   2.2.0\n\nruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30922.2.0\u306b\u5207\u308a\u66ff\u3048\u307e\u3059\u3002\n% rbenv global 2.2.0\n% ruby -v\nruby 2.2.0p0 (2014-12-25 revision 49005) [x86_64-linux]\n\n\u3053\u308c\u3067\u6700\u65b0\u306eruby2.2.0\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n#\u30af\u30ea\u30b9\u30de\u30b9\u306bRuby 2.2.0\u30ea\u30ea\u30fc\u30b9\n\n\u306f\u3044\u3001\u30e1\u30ea\u30af\u30ea\u30e1\u30ea\u30af\u30ea\u3002\n\nRuby2.1\u304b\u3089\u6052\u4f8b\u306e\u30af\u30ea\u30b9\u30de\u30b9\u884c\u4e8b\u306b\u306a\u3063\u305fRuby\u306e\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u30ea\u30ea\u30fc\u30b9\u3001\u4eca\u5e74\u3082\u7121\u4e8b\u306b2.2.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u306d\u3002\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3053\u3053\u3067\u306f\u304a\u306a\u3058\u307f\u306erbenv\u3068ruby-build\u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3059\u3002\n\n## rbenv\u3068ruby-build\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nQiita\u306b\u3082\u4ed6\u306b\u305f\u304f\u3055\u3093\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u304c\u30a2\u30c3\u30d7\u3055\u308c\u3066\u308b\u306e\u3067\u7701\u7565\u3002\n\n\u307e\u3060\u5165\u308c\u3066\u3044\u306a\u3044\u65b9\u306f\u3001\u5404\u81ea\u306e\u74b0\u5883\u306b\u3042\u3063\u305f\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u898b\u3064\u3051\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## ruby-build\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\n\u3059\u3067\u306b\u5165\u308c\u3066\u3044\u308b\u4eba\u306fruby-build\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u3057\u307e\u3057\u3087\u3046\u3002ruby-build\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\n\n    % git pull origin master\n\n\u3068\u53e9\u3044\u3066\u66f4\u65b0\u3002\n\n    % rbenv rehash\n\n\u3057\u3066\u304b\u3089\n\n    % rbenv install -l\n\n\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u30d0\u30fc\u30b8\u30e7\u30f3\u306b2.2.0\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n## rbenv\u3067ruby-2.2.0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u3042\u3068\u306f\n\n    $ rbenv install 2.2.0\n\n\u3068\u3084\u308c\u3070OK\u3002\n\n## Ubuntu14.04\u304a\u3088\u3073Ubuntu14.10\u306e\u5834\u5408\n\n\u30fb\u30fb\u30fb\u306e\u306f\u305a\u3060\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u81ea\u5206\u306e\u74b0\u5883\uff08Ubuntu14.04\u53ca\u3073Ubuntu14.10\uff09\u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u30d3\u30eb\u30c9\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\n\n    % rbenv install 2.2.0\n    Downloading ruby-2.2.0.tar.gz...\n    -> http://dqw8nmjcqpjn7.cloudfront.net/7671e394abfb5d262fbcd3b27a71bf78737c7e9347fa21c39e58b0bb9c4840fc\n    Installing ruby-2.2.0...\n\n    BUILD FAILED (Ubuntu 14.04 using ruby-build 20140524-150-gbe7d096)\n\n    Inspect or clean up the working tree at /tmp/ruby-build.20141226005210.7528\n    Results logged to /tmp/ruby-build.20141226005210.7528.log\n\n    Last 10 log lines:\n    make[1]: *** \u672a\u5b8c\u4e86\u306e\u30b8\u30e7\u30d6\u3092\u5f85\u3063\u3066\u3044\u307e\u3059....\n    installing default date_core libraries\n    installing default nkf libraries\n    make[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/objspace' \u304b\u3089\u51fa\u307e\u3059\n    linking shared-object nkf.so\n    make[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/nkf' \u304b\u3089\u51fa\u307e\u3059\n    linking shared-object date_core.so\n    make[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/date' \u304b\u3089\u51fa\u307e\u3059\n    make[1]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0' \u304b\u3089\u51fa\u307e\u3059\n    make: *** [build-ext] \u30a8\u30e9\u30fc 2\n\nlog\u306e\u4e2d\u8eab\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n    (\u524d\u7565)\n    linking shared-object objspace.so\n    /usr/bin/ld: ./libffi-3.2.1/.libs/libffi.a(raw_api.o): \u518d\u914d\u7f6e R_X86_64_32S (`.rodata' \u306b\u5bfe\u3059\u308b) \u306f\u5171\u6709\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\u6642\u306b\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002-fPIC \u3092\u4ed8\u3051\u3066\u518d\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n    ./libffi-3.2.1/.libs/libffi.a: error adding symbols: \u4e0d\u6b63\u306a\u5024\u3067\u3059\n    collect2: error: ld returned 1 exit status\n    make[2]: *** [../../.ext/x86_64-linux/fiddle.so] \u30a8\u30e9\u30fc 1\n    make[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/fiddle' \u304b\u3089\u51fa\u307e\u3059\n    make[1]: *** [ext/fiddle/all] \u30a8\u30e9\u30fc 2\n    make[1]: *** \u672a\u5b8c\u4e86\u306e\u30b8\u30e7\u30d6\u3092\u5f85\u3063\u3066\u3044\u307e\u3059....\n    installing default date_core libraries\n    installing default nkf libraries\n    make[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/objspace' \u304b\u3089\u51fa\u307e\u3059\n    linking shared-object nkf.so\n    make[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/nkf' \u304b\u3089\u51fa\u307e\u3059\n    linking shared-object date_core.so\n    make[2]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0/ext/date' \u304b\u3089\u51fa\u307e\u3059\n    make[1]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/ruby-build.20141226005210.7528/ruby-2.2.0' \u304b\u3089\u51fa\u307e\u3059\n    make: *** [build-ext] \u30a8\u30e9\u30fc 2\n\n\n\u3069\u3046\u3082 **libffi** \u3068\u3044\u3046\u306e\u304c\u602a\u3057\u305d\u3046\u3002\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n    % sudo apt-get install libffi-dev\n\n\u518d\u5ea6\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u884c\u3002\n\n    % rbenv install 2.2.0\n\n\n\u4eca\u5ea6\u306f\u6b63\u5e38\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3057\u305f\u3002\n\n    % rbenv versions\n       ...\n       ...\n       2.2.0\n\nruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30922.2.0\u306b\u5207\u308a\u66ff\u3048\u307e\u3059\u3002\n\n    % rbenv global 2.2.0\n    % ruby -v\n    ruby 2.2.0p0 (2014-12-25 revision 49005) [x86_64-linux]\n\n\u3053\u308c\u3067\u6700\u65b0\u306eruby2.2.0\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n\n"}