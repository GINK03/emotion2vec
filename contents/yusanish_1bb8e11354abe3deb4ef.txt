{"tags": ["Swift", "macos"], "context": "\u3069\u3053\u3067\u898b\u305f\u304b\u306f\u5fd8\u308c\u3066\u3057\u307e\u3063\u305f\u3051\u3069\u3001NSbutton \u306e\u30c7\u30b6\u30a4\u30f3\u3092\u5909\u66f4\u3059\u308b\u306e\u306f\n\u3042\u307e\u308a\u30aa\u30b9\u30b9\u30e1\u3057\u306a\u3044\u304b\u3089NSView\u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u3044\u3044\u3002\n\u3063\u3066\u3044\u3046\u306e\u3092\u898b\u305f\u8a18\u61b6\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u308c\u306b\u5f93\u304a\u3046\u3068\u9811\u5f35\u3063\u3066\u307e\u3059\u3002\uff08\u9d5c\u5451\u307f\u306b\u3057\u3066\u3044\u3044\u3082\u306e\u304b...\uff09\n\u4ee5\u4e0b\u306e\u3088\u3046\u306aNSView\u306e\u30af\u30e9\u30b9\u3092\u4f5c\u308a\u3001\n\nNavButton.swift\nclass NavButton: NSView {\n\n    private var color: NSColor?\n    private var text: String?\n\n    init(frame frameRect: NSRect, str: String, color: NSColor) {\n        super.init(frame: frameRect)\n\n        self.text = str\n        self.color = color\n    }\n\n    required init?(coder: NSCoder) {\n        super.init(coder: coder)\n    }\n\n    override func draw(_ dirtyRect: NSRect) {\n        self.color!.setFill()\n        NSRectFill(self.bounds)\n\n        NSString(string: self.text!).draw(in: self.bounds, withAttributes: nil)\n    }\n\n    override func mouseDown(with event: NSEvent) {\n        if event.clickCount == 2 {\n            Swift.print(\"double clicked\")\n        }\n        else {\n            super.mouseDown(with: event)\n            Swift.print(\"clicked\")\n        }\n    }\n}\n\n\nNSViewController\u3067\u6b21\u306e\u3088\u3046\u306bView\u306b\u63cf\u5199\u3057\u3066\u307f\u308b\n\nViewController.swift\nclass ViewController: NSViewController {\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        let item = NavButton(frame: NSMakeRect(0, 0, 200, 50), str: \"test\", color: NSColor.blue)\n\n        self.view.addSubview(item)\n    }\n\n\n\u3059\u308b\u3068\u3001\u3053\u3093\u306a\u611f\u3058\u306b\u8868\u793a\u3055\u308c\u308b\u3002\n\n\u3069\u3053\u3067\u898b\u305f\u304b\u306f\u5fd8\u308c\u3066\u3057\u307e\u3063\u305f\u3051\u3069\u3001NSbutton \u306e\u30c7\u30b6\u30a4\u30f3\u3092\u5909\u66f4\u3059\u308b\u306e\u306f\n\u3042\u307e\u308a\u30aa\u30b9\u30b9\u30e1\u3057\u306a\u3044\u304b\u3089NSView\u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u3044\u3044\u3002\n\u3063\u3066\u3044\u3046\u306e\u3092\u898b\u305f\u8a18\u61b6\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u308c\u306b\u5f93\u304a\u3046\u3068\u9811\u5f35\u3063\u3066\u307e\u3059\u3002\uff08\u9d5c\u5451\u307f\u306b\u3057\u3066\u3044\u3044\u3082\u306e\u304b...\uff09\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306aNSView\u306e\u30af\u30e9\u30b9\u3092\u4f5c\u308a\u3001\n\n```swift:NavButton.swift\nclass NavButton: NSView {\n    \n    private var color: NSColor?\n    private var text: String?\n    \n    init(frame frameRect: NSRect, str: String, color: NSColor) {\n        super.init(frame: frameRect)\n        \n        self.text = str\n        self.color = color\n    }\n    \n    required init?(coder: NSCoder) {\n        super.init(coder: coder)\n    }\n\n    override func draw(_ dirtyRect: NSRect) {\n        self.color!.setFill()\n        NSRectFill(self.bounds)\n        \n        NSString(string: self.text!).draw(in: self.bounds, withAttributes: nil)\n    }\n    \n    override func mouseDown(with event: NSEvent) {\n        if event.clickCount == 2 {\n            Swift.print(\"double clicked\")\n        }\n        else {\n            super.mouseDown(with: event)\n            Swift.print(\"clicked\")\n        }\n    }\n}\n```\n\nNSViewController\u3067\u6b21\u306e\u3088\u3046\u306bView\u306b\u63cf\u5199\u3057\u3066\u307f\u308b\n\n```swift:ViewController.swift\nclass ViewController: NSViewController {\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        let item = NavButton(frame: NSMakeRect(0, 0, 200, 50), str: \"test\", color: NSColor.blue)\n        \n        self.view.addSubview(item)\n    }\n```\n\n\u3059\u308b\u3068\u3001\u3053\u3093\u306a\u611f\u3058\u306b\u8868\u793a\u3055\u308c\u308b\u3002\n![sample.png](https://qiita-image-store.s3.amazonaws.com/0/129283/489d82f5-2071-aa86-ef01-9b461bfada9e.png)\n\n"}