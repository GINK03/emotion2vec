{"context": "\n\n\u5fc5\u8981\u306a\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n# groupadd oinstall\n # groupadd dba\n# useradd -g oinstall -G dba oracle\n # passwd oracle\n\n\u30ab\u30fc\u30cd\u30eb\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8abf\u6574\nRHEL7.0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u76f4\u5f8c\u3068\u3001Oracle\u63a8\u5968\u5024\u306e\u6bd4\u8f03\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n\n\n\n\u30ab\u30fc\u30cd\u30eb\u30fb\u30d1\u30e9\u30e1\u30fc\u30bf\nRHEL\u306e\u521d\u671f\u5024\nOracle\u306e\u63a8\u5968\u6700\u5c0f\u5024\n\n\n\n\nsemmsl\n250\n250\n\n\nsemmns\n32000\n32000\n\n\nsemopm\n32\n100\n\n\nsemmni\n128\n128\n\n\nshmall\n18446744073692774399\n\u7269\u7406\u30e1\u30e2\u30ea\u30fc\u30fb\u30b5\u30a4\u30ba(\u30da\u30fc\u30b8\u6570)\u306e40%\n\n\nshmmax\n18446744073692774399\n\u7269\u7406\u30e1\u30e2\u30ea\u30fc\u30fb\u30b5\u30a4\u30ba(\u30da\u30fc\u30b8\u6570)\u306e50%\n\n\nshmmni\n4096\n4096\n\n\npanic_on_oops\n1\n1\n\n\nfile-max\n382715\n6815744\n\n\nip_local_port_range\n32768   60999\n9000    65500\n\n\nrmem_default\n212992\n262144\n\n\nrmem_max\n212992\n4194304\n\n\nwmem_default\n212992\n262144\n\n\nwmem_max\n212992\n1048576\n\n\naio-max-nr\n1048576\n1048576\n\n\n\n\u3088\u3063\u3066\u3001Oracle\u306e\u63a8\u5968\u6700\u5c0f\u5024\u3092\u6e80\u305f\u3057\u3066\u3044\u306a\u3044\u5024\u306fRHEL\u306e\u8a2d\u5b9a\u3092\u4e0a\u66f8\u304d\u3059\u308b\u3053\u3068\u3067\u6e80\u305f\u3059\u3088\u3046\u306b\u3059\u308b\u3002\n\n/etc/sysctl.conf\nfs.file-max = 6815744\nkernel.sem = 250 32000 100 128\nnet.ipv4.ip_local_port_range = 9000 65500\nnet.core.rmem_default = 262144\nnet.core.rmem_max = 4194304\nnet.core.wmem_default = 262144\nnet.core.wmem_max = 1048576\n\n\n\u53cd\u6620\u3002\n[root@localhost archinwater]# sysctl -p\nfs.file-max = 6815744\nkernel.sem = 250 32000 100 128\nnet.ipv4.ip_local_port_range = 9000 65500\nnet.core.rmem_default = 262144\nnet.core.rmem_max = 4194304\nnet.core.wmem_default = 262144\nnet.core.wmem_max = 1048576\n\n\n\u30ea\u30bd\u30fc\u30b9\u5236\u9650\u306e\u78ba\u8a8d\nOracle\u30e6\u30fc\u30b6\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u4ee5\u4e0b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n\n\n\u9805\u76ee\n\u78ba\u8a8d\u65b9\u6cd5\n\u30ea\u30bd\u30fc\u30b9\nRHEL\u306e\u521d\u671f\u5024(KB)\nOracle\u306e\u63a8\u5968\u5024(KB)\n\n\n\n\n\u30aa\u30fc\u30d7\u30f3\u30fb\u30d5\u30a1\u30a4\u30eb\u8a18\u8ff0\u5b50\u6570(\u30bd\u30d5\u30c8\u5236\u9650)\n$ ulimit -Sn\nnofile\n1024\n1024\n\n\n\u30aa\u30fc\u30d7\u30f3\u30fb\u30d5\u30a1\u30a4\u30eb\u8a18\u8ff0\u5b50\u6570(\u30cf\u30fc\u30c9\u5236\u9650)\n$ ulimit -Hn\nnofile\n4096\n65536\n\n\n\u5358\u4e00\u30e6\u30fc\u30b6\u304c\u4f7f\u7528\u53ef\u80fd\u306a\u30d7\u30ed\u30bb\u30b9\u6570(\u30bd\u30d5\u30c8\u5236\u9650)\n$ ulimit -Su\nnproc\n4096\n2047\n\n\n\u5358\u4e00\u30e6\u30fc\u30b6\u304c\u4f7f\u7528\u53ef\u80fd\u306a\u30d7\u30ed\u30bb\u30b9\u6570(\u30cf\u30fc\u30c9\u5236\u9650)\n$ ulimit -Hu\nnproc\n15048\n16384\n\n\n\u30d7\u30ed\u30bb\u30b9\u306e\u30b9\u30bf\u30c3\u30af\u30fb\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\u30b5\u30a4\u30ba(\u30bd\u30d5\u30c8\u5236\u9650)\n$ ulimit -Ss\nstack\n8192\n10240\n\n\n\u30d7\u30ed\u30bb\u30b9\u306e\u30b9\u30bf\u30c3\u30af\u30fb\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\u30b5\u30a4\u30ba(\u30cf\u30fc\u30c9\u5236\u9650)\n$ ulimit -Hs\nstack\nunlimited\n10240\u4ee5\u4e0a\u300132768\u4ee5\u4e0b\n\n\n\n\u3053\u308c\u3082\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u76f4\u3057\u3002\n\n/etc/security/limits.conf\n<domain>         <type>     <item>            <value>\noracle           hard    nofile          65536\noracle           hard    nproc           16384\noracle           soft    stack           10240\n\n\n\nOracle\u30d9\u30fc\u30b9\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n# mkdir -p /home/oracle_base_dir\n # chown -R oracle:oinstall /home/oracle_base_dir\n # chmod -R 775 /home/oracle_base_dir\n\n\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nOracle DB\u3067\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3002\n# subscription-manager repos --enable rhel-7-server-optional-rpms\n # yum install ksh compat-libstdc++-33 libaio-devel compat-libcap1\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30ab\u30fc\u30cd\u30eb\u30d1\u30e9\u30e1\u30fc\u30bf\u7cfb\u3067warning\u304c\u767a\u751f\u3059\u308b\u304c\u3001\u7121\u8996\u3057\u3066OK\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u9014\u4e2d\u3067\u30012\u672c\u307b\u3069root\u6a29\u9650\u3067Shell Script\u3092\u5b9f\u884c\u3057\u308d\u3068\u51fa\u308b\u306e\u3067\u3001\u6307\u793a\u306b\u5f93\u3046\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u304c\u6587\u5b57\u5316\u3051\u3057\u305f\u306e\u3067\u3001\n\n$ ./runInstaller -jreloc /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.91-1.b14.el7_2.x86_64/jre/\n\n\u307f\u305f\u3044\u306a\u3053\u3068\u3092\u3057\u3066\u56de\u907f\n\nEnterprise Manager\u306e\u8a2d\u5b9a\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u76f4\u5f8c\u306b https://localhost:5500/em/ \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u8a3c\u660e\u66f8\u95a2\u9023\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u63a5\u7d9a\u51fa\u6765\u306a\u3044\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067HTTP\u7528\u306b\u30dd\u30fc\u30c8\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001SQL*Plus\u7d4c\u7531\u3067\u30dd\u30fc\u30c8\u3092\u8a2d\u5b9a\u3057\u3066\u3084\u308a\u3001HTTP\u3067\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u3059\u308c\u3070\u3088\u3044\u3002\noracle$ sqlplus / as sysdba;\n\nSQL> exec DBMS_XDB_CONFIG.SETHTTPPORT(5503);\n\nPL/SQL\u30d7\u30ed\u30b7\u30fc\u30b8\u30e3\u304c\u6b63\u5e38\u306b\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\n\n\n# \u5fc5\u8981\u306a\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n\n # groupadd oinstall\n # groupadd dba\n \n # useradd -g oinstall -G dba oracle\n # passwd oracle\n \n \n# \u30ab\u30fc\u30cd\u30eb\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8abf\u6574\n\nRHEL7.0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u76f4\u5f8c\u3068\u3001Oracle\u63a8\u5968\u5024\u306e\u6bd4\u8f03\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n\n| \u30ab\u30fc\u30cd\u30eb\u30fb\u30d1\u30e9\u30e1\u30fc\u30bf | RHEL\u306e\u521d\u671f\u5024 | Oracle\u306e\u63a8\u5968\u6700\u5c0f\u5024 |\n| --- | --- | --- |\n| semmsl | 250 | 250 |\n| semmns | 32000 | 32000 |\n| semopm | 32 | 100 |\n| semmni | 128 | 128 |\n| shmall | 18446744073692774399 | \u7269\u7406\u30e1\u30e2\u30ea\u30fc\u30fb\u30b5\u30a4\u30ba(\u30da\u30fc\u30b8\u6570)\u306e40% |\n| shmmax | 18446744073692774399 | \u7269\u7406\u30e1\u30e2\u30ea\u30fc\u30fb\u30b5\u30a4\u30ba(\u30da\u30fc\u30b8\u6570)\u306e50% |\n| shmmni | 4096 | 4096 |\n| panic_on_oops | 1 | 1 |\n| file-max | 382715 | 6815744 |\n| ip_local_port_range | 32768\t60999 | 9000\t65500 |\n| rmem_default | 212992 | 262144 |\n| rmem_max | 212992 | 4194304 |\n| wmem_default | 212992 | 262144 |\n| wmem_max | 212992 | 1048576 |\n| aio-max-nr | 1048576 | 1048576 |\n\n\u3088\u3063\u3066\u3001Oracle\u306e\u63a8\u5968\u6700\u5c0f\u5024\u3092\u6e80\u305f\u3057\u3066\u3044\u306a\u3044\u5024\u306fRHEL\u306e\u8a2d\u5b9a\u3092\u4e0a\u66f8\u304d\u3059\u308b\u3053\u3068\u3067\u6e80\u305f\u3059\u3088\u3046\u306b\u3059\u308b\u3002\n\n```/etc/sysctl.conf\nfs.file-max = 6815744\nkernel.sem = 250 32000 100 128\nnet.ipv4.ip_local_port_range = 9000 65500\nnet.core.rmem_default = 262144\nnet.core.rmem_max = 4194304\nnet.core.wmem_default = 262144\nnet.core.wmem_max = 1048576\n```\n\n\u53cd\u6620\u3002\n\n```\n[root@localhost archinwater]# sysctl -p\nfs.file-max = 6815744\nkernel.sem = 250 32000 100 128\nnet.ipv4.ip_local_port_range = 9000 65500\nnet.core.rmem_default = 262144\nnet.core.rmem_max = 4194304\nnet.core.wmem_default = 262144\nnet.core.wmem_max = 1048576\n```\n\n# \u30ea\u30bd\u30fc\u30b9\u5236\u9650\u306e\u78ba\u8a8d\n\n`Oracle`\u30e6\u30fc\u30b6\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u4ee5\u4e0b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n| \u9805\u76ee | \u78ba\u8a8d\u65b9\u6cd5 | \u30ea\u30bd\u30fc\u30b9 | RHEL\u306e\u521d\u671f\u5024(KB) | Oracle\u306e\u63a8\u5968\u5024(KB) |\n| --- | --- | --- | --- | --- |\n| \u30aa\u30fc\u30d7\u30f3\u30fb\u30d5\u30a1\u30a4\u30eb\u8a18\u8ff0\u5b50\u6570(\u30bd\u30d5\u30c8\u5236\u9650) | $ ulimit -Sn | nofile | 1024 | 1024 | \n| \u30aa\u30fc\u30d7\u30f3\u30fb\u30d5\u30a1\u30a4\u30eb\u8a18\u8ff0\u5b50\u6570(\u30cf\u30fc\u30c9\u5236\u9650) | $ ulimit -Hn | nofile | 4096 | 65536 | \n| \u5358\u4e00\u30e6\u30fc\u30b6\u304c\u4f7f\u7528\u53ef\u80fd\u306a\u30d7\u30ed\u30bb\u30b9\u6570(\u30bd\u30d5\u30c8\u5236\u9650) | $ ulimit -Su | nproc | 4096 | 2047 |\n| \u5358\u4e00\u30e6\u30fc\u30b6\u304c\u4f7f\u7528\u53ef\u80fd\u306a\u30d7\u30ed\u30bb\u30b9\u6570(\u30cf\u30fc\u30c9\u5236\u9650) | $ ulimit -Hu | nproc | 15048 | 16384 |\n| \u30d7\u30ed\u30bb\u30b9\u306e\u30b9\u30bf\u30c3\u30af\u30fb\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\u30b5\u30a4\u30ba(\u30bd\u30d5\u30c8\u5236\u9650) | $ ulimit -Ss | stack | 8192 | 10240 | \n| \u30d7\u30ed\u30bb\u30b9\u306e\u30b9\u30bf\u30c3\u30af\u30fb\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\u30b5\u30a4\u30ba(\u30cf\u30fc\u30c9\u5236\u9650) | $ ulimit -Hs | stack | unlimited | 10240\u4ee5\u4e0a\u300132768\u4ee5\u4e0b | \n\n\u3053\u308c\u3082\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u76f4\u3057\u3002\n\n```/etc/security/limits.conf\n<domain>\t\t <type>\t\t<item>\t\t\t  <value>\noracle           hard    nofile          65536\noracle           hard    nproc           16384\noracle           soft    stack           10240\n```\n\n# Oracle\u30d9\u30fc\u30b9\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n\n # mkdir -p /home/oracle_base_dir\n # chown -R oracle:oinstall /home/oracle_base_dir\n # chmod -R 775 /home/oracle_base_dir\n \n# \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nOracle DB\u3067\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3002\n\n # subscription-manager repos --enable rhel-7-server-optional-rpms\n # yum install ksh compat-libstdc++-33 libaio-devel compat-libcap1\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n* \u30ab\u30fc\u30cd\u30eb\u30d1\u30e9\u30e1\u30fc\u30bf\u7cfb\u3067warning\u304c\u767a\u751f\u3059\u308b\u304c\u3001\u7121\u8996\u3057\u3066OK\n* \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u9014\u4e2d\u3067\u30012\u672c\u307b\u3069root\u6a29\u9650\u3067Shell Script\u3092\u5b9f\u884c\u3057\u308d\u3068\u51fa\u308b\u306e\u3067\u3001\u6307\u793a\u306b\u5f93\u3046\n* \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u304c\u6587\u5b57\u5316\u3051\u3057\u305f\u306e\u3067\u3001\n\n```\n$ ./runInstaller -jreloc /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.91-1.b14.el7_2.x86_64/jre/\n```\n\n\u307f\u305f\u3044\u306a\u3053\u3068\u3092\u3057\u3066\u56de\u907f\n\n# Enterprise Manager\u306e\u8a2d\u5b9a\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u76f4\u5f8c\u306b https://localhost:5500/em/ \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u8a3c\u660e\u66f8\u95a2\u9023\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u63a5\u7d9a\u51fa\u6765\u306a\u3044\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067HTTP\u7528\u306b\u30dd\u30fc\u30c8\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001SQL*Plus\u7d4c\u7531\u3067\u30dd\u30fc\u30c8\u3092\u8a2d\u5b9a\u3057\u3066\u3084\u308a\u3001HTTP\u3067\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u3059\u308c\u3070\u3088\u3044\u3002\n\n```\noracle$ sqlplus / as sysdba;\n\nSQL> exec DBMS_XDB_CONFIG.SETHTTPPORT(5503);\n\nPL/SQL\u30d7\u30ed\u30b7\u30fc\u30b8\u30e3\u304c\u6b63\u5e38\u306b\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\n```\n", "tags": ["RHEL", "oracle", "Linux"]}