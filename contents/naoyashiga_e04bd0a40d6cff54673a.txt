{"context": "\n\nversion\nd3.js\u306eversion\u306f4.1.0\u3067\u3059\u3002\n\nCode\n\u4eca\u56de\u4f7f\u7528\u3057\u305f\u5168\u30b3\u30fc\u30c9\n\ndemo\n\ndemo: \"d3js\u306f\u3053\u3046\u3044\u3046\u3053\u3068\u3082\u3067\u304d\u308b\u3063\u307d\u3044w \u4f7f\u3044\u9053\u306f\u308f\u304b\u3089\u306a\u3044\ud83d\ude07\n\u30fb\u53c2\u8003\n\u3053\u308c\u3092version4\u306e\u66f8\u304d\u65b9\u306b\u3057\u3066\u3001\u3044\u308d\u3044\u308d\u3044\u3058\u3063\u3066\u307f\u307e\u3057\u305f\u3002\nPoint-Along-Path Interpolation - bl.ocks.org\n\n\u30e9\u30f3\u30c0\u30e0\u306e\u5ea7\u6a19\n\nSVG\u5168\u4f53\u306e\u5927\u304d\u3055\u3092\u5b9a\u7fa9\nthis.margin = {top: 10, right: 10, bottom: 0, left: 0};\n\nthis.width = window.innerWidth - this.margin.left - this.margin.right,\nthis.height = window.innerHeight - this.margin.top - this.margin.bottom;\n\n\nrange\nconst vertexLength = 4;\nconst posX = d3.range(vertexLength)\n.map(d3.randomUniform(0, this.width));\n\nconst posY = d3.range(vertexLength)\n.map(d3.randomUniform(this.height));\n\nrange\u3092\u4f7f\u3063\u3066\u914d\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\nd3-array/README.md at master \u00b7 d3/d3-array\n\nzip\nd3.zip([1, 2], [3, 4]); // returns [[1, 3], [2, 4]]\n\n\u4e8c\u3064\u306e\u914d\u5217\u3092\u4e0a\u306e\u3088\u3046\u306b\u64cd\u4f5c\u3067\u304d\u307e\u3059\u3002\nconst particles = d3.zip(posX, posY);\n\nd3-array/README.md at master \u00b7 d3/d3-array\n\nPath\u3092\u63cf\u753b\n\ncurveCardinalClosed\nthis.path = this.svg.append(\"path\")\n.data([particles])\n.attr(\"class\", \"myPath\")\n.attr(\"d\", d3.line().curve(d3.curveCardinalClosed.tension(0.5)));\n\ncurveCardinalClosed\u3092\u4f7f\u3063\u3066\u9589\u3058\u305f\u66f2\u7dda\u3092\u63cf\u304d\u307e\u3059\u3002\nd3/d3-shape: Graphical primitives for visualization, such as lines and areas.\n\nParticle\u3092\u63cf\u753b\nthis.circle = this.svg.selectAll(\".point\")\n.data(d3.range(particleLength))\n.enter().append(\"circle\")\n.attr(\"r\", 3)\n.attr(\"class\", \"particle\")\n.attr(\"transform\", (d, i) => {\n  return \"translate(\" + particles[0][0] + \")\";\n});\n\n\u59cb\u3081\u306e\u4f4d\u7f6e\u306f\u3059\u3079\u3066\u540c\u3058\u306b\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001particles[0][0]\u306b\u3057\u3066\u307e\u3059\u3002\n\nTransition\n\nattrTween\ntransition() {\n    this.circle.transition()\n    .duration(10000)\n    .delay(function(d, i) { return i * 50; })\n    .attrTween(\"transform\", this.translateAlong(this.path.node()))\n    .on(\"end\", () => {\n      this.transition();\n    });\n\n}\n\n\ndelay\n\n\ndelay\u3059\u308b\u3053\u3068\u3067\u5fae\u5999\u306b\u958b\u59cb\u6642\u9593\u3092\u9045\u3089\u305b\u3066\u3001particle\u305d\u308c\u305e\u308c\u304c\u9806\u3005\u306b\u52d5\u304f\u3088\u3046\u306b\u3057\u3066\u3044\u308b\n\n\nattrTween\n\n\ninterpolater\u3068\u3044\u3046\u306e\u3092\u4f7f\u3063\u3066\u5024\u306e\u88dc\u5b8c\u3092\u3057\u3066\u308b\n\n\n\nd3-transition/README.md at master \u00b7 d3/d3-transition\n\ntranslateAlong(path) {\n    var l = path.getTotalLength();\n    return function(d, i, a) {\n      return function(t) {\n        var p = path.getPointAtLength(t * l);\n        return \"translate(\" + p.x + \",\" + p.y + \")\";\n      };\n    };\n}\n\n\ni\n\n\nindex\n\n\na\n\n\n\u3053\u3053\u3067\u306fcircle\n\n\nt\n\n\n0~1\u307e\u3067\u306e\u5024\n\u5272\u5408\u304c\u308f\u304b\u308b\n\n\n\nSVGPathElement - Web API \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9 | MDN\n#version\nd3.js\u306eversion\u306f**4.1.0**\u3067\u3059\u3002\n\n#Code\n[\u4eca\u56de\u4f7f\u7528\u3057\u305f\u5168\u30b3\u30fc\u30c9](https://github.com/naoyashiga/dataViz-playground/blob/50f21cd57372854aa0245aba8fff4ece5fa8a9ca/sketch/tutorial/pathInterpolation/test/src/js/components/Visualization.js)\n\n#demo\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-07-15 22.36.36.png](https://qiita-image-store.s3.amazonaws.com/0/26043/66f5c8be-7a5f-3dd5-564d-67ce24984f63.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-07-15 22.36.36.png\")\n\n[demo: \"d3js\u306f\u3053\u3046\u3044\u3046\u3053\u3068\u3082\u3067\u304d\u308b\u3063\u307d\u3044w \u4f7f\u3044\u9053\u306f\u308f\u304b\u3089\u306a\u3044\ud83d\ude07](https://twitter.com/naoyashiga/status/753941666373906434)\n\n\n\n\u30fb\u53c2\u8003\n\u3053\u308c\u3092version4\u306e\u66f8\u304d\u65b9\u306b\u3057\u3066\u3001\u3044\u308d\u3044\u308d\u3044\u3058\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n[Point-Along-Path Interpolation - bl.ocks.org](http://bl.ocks.org/mbostock/1705868)\n\n#\u30e9\u30f3\u30c0\u30e0\u306e\u5ea7\u6a19\n\n##SVG\u5168\u4f53\u306e\u5927\u304d\u3055\u3092\u5b9a\u7fa9\n```js\nthis.margin = {top: 10, right: 10, bottom: 0, left: 0};\n\nthis.width = window.innerWidth - this.margin.left - this.margin.right,\nthis.height = window.innerHeight - this.margin.top - this.margin.bottom;\n```\n\n##range\n```js\nconst vertexLength = 4;\nconst posX = d3.range(vertexLength)\n.map(d3.randomUniform(0, this.width));\n\nconst posY = d3.range(vertexLength)\n.map(d3.randomUniform(this.height));\n```\nrange\u3092\u4f7f\u3063\u3066\u914d\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n[d3-array/README.md at master \u00b7 d3/d3-array](https://github.com/d3/d3-array/blob/master/README.md#range)\n\n##zip\n```js\nd3.zip([1, 2], [3, 4]); // returns [[1, 3], [2, 4]]\n```\n\u4e8c\u3064\u306e\u914d\u5217\u3092\u4e0a\u306e\u3088\u3046\u306b\u64cd\u4f5c\u3067\u304d\u307e\u3059\u3002\n\n```js\nconst particles = d3.zip(posX, posY);\n```\n\n[d3-array/README.md at master \u00b7 d3/d3-array](https://github.com/d3/d3-array/blob/master/README.md#zip)\n\n\n#Path\u3092\u63cf\u753b\n##curveCardinalClosed\n```js\nthis.path = this.svg.append(\"path\")\n.data([particles])\n.attr(\"class\", \"myPath\")\n.attr(\"d\", d3.line().curve(d3.curveCardinalClosed.tension(0.5)));\n```\ncurveCardinalClosed\u3092\u4f7f\u3063\u3066\u9589\u3058\u305f\u66f2\u7dda\u3092\u63cf\u304d\u307e\u3059\u3002\n\n[d3/d3-shape: Graphical primitives for visualization, such as lines and areas.](https://github.com/d3/d3-shape#curveCardinalClosed)\n\n#Particle\u3092\u63cf\u753b\n```js\nthis.circle = this.svg.selectAll(\".point\")\n.data(d3.range(particleLength))\n.enter().append(\"circle\")\n.attr(\"r\", 3)\n.attr(\"class\", \"particle\")\n.attr(\"transform\", (d, i) => {\n  return \"translate(\" + particles[0][0] + \")\";\n});\n```\n\u59cb\u3081\u306e\u4f4d\u7f6e\u306f\u3059\u3079\u3066\u540c\u3058\u306b\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001particles[0][0]\u306b\u3057\u3066\u307e\u3059\u3002\n\n#Transition\n\n##attrTween\n\n```js\ntransition() {\n    this.circle.transition()\n    .duration(10000)\n    .delay(function(d, i) { return i * 50; })\n    .attrTween(\"transform\", this.translateAlong(this.path.node()))\n    .on(\"end\", () => {\n      this.transition();\n    });\n\n}\n```\n\n- delay\n\t- delay\u3059\u308b\u3053\u3068\u3067\u5fae\u5999\u306b\u958b\u59cb\u6642\u9593\u3092\u9045\u3089\u305b\u3066\u3001particle\u305d\u308c\u305e\u308c\u304c\u9806\u3005\u306b\u52d5\u304f\u3088\u3046\u306b\u3057\u3066\u3044\u308b\n- attrTween\n\t- interpolater\u3068\u3044\u3046\u306e\u3092\u4f7f\u3063\u3066\u5024\u306e\u88dc\u5b8c\u3092\u3057\u3066\u308b\n\n[d3-transition/README.md at master \u00b7 d3/d3-transition](https://github.com/d3/d3-transition/blob/master/README.md#transition_attrTween)\n\n\n```js\n\ntranslateAlong(path) {\n    var l = path.getTotalLength();\n    return function(d, i, a) {\n      return function(t) {\n        var p = path.getPointAtLength(t * l);\n        return \"translate(\" + p.x + \",\" + p.y + \")\";\n      };\n    };\n}\n```\n- i\n\t- index\n- a\n\t- \u3053\u3053\u3067\u306fcircle\n- t\n\t- 0~1\u307e\u3067\u306e\u5024\n\t- \u5272\u5408\u304c\u308f\u304b\u308b\n\n\n[SVGPathElement - Web API \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9 | MDN](https://developer.mozilla.org/ja/docs/Web/API/SVGPathElement)\n", "tags": ["JavaScript", "DataVisualization", "d3.js"]}