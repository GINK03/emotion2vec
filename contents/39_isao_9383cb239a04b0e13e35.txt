{"context": " More than 1 year has passed since last update.ofxBox2d\u306e\u4f7f\u3044\u65b9\u30bd\u30fc\u30b9\u306e\u30e1\u30e2\u3067\u3059\u3002\n\u5186\u3092\u30ab\u30e9\u30d5\u30eb\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\nofApp.h\n#pragma once\n\n#include \"ofMain.h\"\n#include \"ofxBox2d.h\"\n\nclass ofApp : public ofBaseApp{\n\n    public:\n        void setup();\n        void update();\n        void draw();\n\n        void keyPressed(int key);\n        void keyReleased(int key);\n        void mouseMoved(int x, int y );\n        void mouseDragged(int x, int y, int button);\n        void mousePressed(int x, int y, int button);\n        void mouseReleased(int x, int y, int button);\n        void windowResized(int w, int h);\n        void dragEvent(ofDragInfo dragInfo);\n        void gotMessage(ofMessage msg);\n\n        ofxBox2d box2d;\n\n        // \u5186\u306e\u6570\n        static const int CIRCLE_NUM = 30;\n\n        ofxBox2dCircle circle[CIRCLE_NUM];\n\n        // \u5186\u306e\u63cf\u753b\u8272\n        ofColor randColor[CIRCLE_NUM];\n};\n\n\n\n\nofApp.cpp\n#include \"ofApp.h\"\n\n//--------------------------------------------------------------\nvoid ofApp::setup(){\n\n    // \u80cc\u666f\u8272\u3092\u9ed2\u306b\n    ofBackground(0, 0, 0);\n\n    // \u5186\u306e\u5206\u5272\u6570\n    ofSetCircleResolution(64);\n\n    // box2d\u521d\u671f\u5316\n    box2d.init();\n\n    // \u91cd\u529b\u306e\u8a2d\u5b9a\n    box2d.setGravity(0, 0.98);\n\n    // \u5730\u9762\u306e\u8a2d\u5b9a\n    box2d.createBounds();\n\n    // \u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\n    box2d.setFPS(30);\n\n    for(int i = 0; i < CIRCLE_NUM; i++){\n\n        // \u8cea\u91cf\u3001\u8df3\u306d\u8fd4\u308a\u4fc2\u6570\u3001\u6469\u64e6\u4fc2\u6570\n        circle[i].setPhysics(10.0, 1.0, 0.01);\n\n        // \u751f\u6210\u3059\u308b\u5186\u306e\u4e2d\u5fc3\u5ea7\u6a19\u3092\u30e9\u30f3\u30c0\u30e0\u3067\u8a2d\u5b9a\n        float x = ofRandom(0, ofGetWidth());\n        float y = ofRandom(0, ofGetHeight());\n\n        // \u5186\u306e\u534a\u5f84\n        float radius = ofRandom(10, 50);\n\n        // \u5186\u3092Box2d\u306e\u7a7a\u9593\u306b\u8ffd\u52a0\n        circle[i].setup(box2d.getWorld(), x, y, radius);\n\n        // \u30e9\u30f3\u30c0\u30e0\u306a\u8272\u8a2d\u5b9a\n        randColor[i] = ofColor(ofRandom(255), ofRandom(255), ofRandom(255));\n    }\n}\n\n//--------------------------------------------------------------\nvoid ofApp::update(){\n\n    box2d.update();\n}\n\n//--------------------------------------------------------------\nvoid ofApp::draw(){\n\n    for(int i=0; i<CIRCLE_NUM; i++){\n        // \u5186\u306e\u63cf\u753b\u8272\u8a2d\u5b9a\n        ofSetColor(randColor[i]);\n        // Box2d\u7a7a\u9593\u306e\u5186\u3092\u63cf\u753b\n        circle[i].draw();\n    }\n\n}\n\n\nofxBox2d\u306e\u4f7f\u3044\u65b9\u30bd\u30fc\u30b9\u306e\u30e1\u30e2\u3067\u3059\u3002\n\u5186\u3092\u30ab\u30e9\u30d5\u30eb\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n![box2d.gif](https://qiita-image-store.s3.amazonaws.com/0/76843/6641c608-89e8-e123-34c6-378ed0cff34c.gif)\n\n\n\n\n\n\n\n\n```cpp:ofApp.h\n#pragma once\n\n#include \"ofMain.h\"\n#include \"ofxBox2d.h\"\n\nclass ofApp : public ofBaseApp{\n\n\tpublic:\n\t\tvoid setup();\n\t\tvoid update();\n\t\tvoid draw();\n\n\t\tvoid keyPressed(int key);\n\t\tvoid keyReleased(int key);\n\t\tvoid mouseMoved(int x, int y );\n\t\tvoid mouseDragged(int x, int y, int button);\n\t\tvoid mousePressed(int x, int y, int button);\n\t\tvoid mouseReleased(int x, int y, int button);\n\t\tvoid windowResized(int w, int h);\n\t\tvoid dragEvent(ofDragInfo dragInfo);\n\t\tvoid gotMessage(ofMessage msg);\n    \n        ofxBox2d box2d;\n\n        // \u5186\u306e\u6570\n        static const int CIRCLE_NUM = 30;\n\n        ofxBox2dCircle circle[CIRCLE_NUM];\n\n        // \u5186\u306e\u63cf\u753b\u8272\n        ofColor randColor[CIRCLE_NUM];\n};\n\n```\n\n\n\n```cpp:ofApp.cpp\n#include \"ofApp.h\"\n\n//--------------------------------------------------------------\nvoid ofApp::setup(){\n    \n    // \u80cc\u666f\u8272\u3092\u9ed2\u306b\n    ofBackground(0, 0, 0);\n    \n    // \u5186\u306e\u5206\u5272\u6570\n    ofSetCircleResolution(64);\n    \n    // box2d\u521d\u671f\u5316\n    box2d.init();\n    \n    // \u91cd\u529b\u306e\u8a2d\u5b9a\n    box2d.setGravity(0, 0.98);\n    \n    // \u5730\u9762\u306e\u8a2d\u5b9a\n    box2d.createBounds();\n    \n    // \u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\n    box2d.setFPS(30);\n    \n    for(int i = 0; i < CIRCLE_NUM; i++){\n        \n        // \u8cea\u91cf\u3001\u8df3\u306d\u8fd4\u308a\u4fc2\u6570\u3001\u6469\u64e6\u4fc2\u6570\n        circle[i].setPhysics(10.0, 1.0, 0.01);\n        \n        // \u751f\u6210\u3059\u308b\u5186\u306e\u4e2d\u5fc3\u5ea7\u6a19\u3092\u30e9\u30f3\u30c0\u30e0\u3067\u8a2d\u5b9a\n        float x = ofRandom(0, ofGetWidth());\n        float y = ofRandom(0, ofGetHeight());\n        \n        // \u5186\u306e\u534a\u5f84\n        float radius = ofRandom(10, 50);\n        \n        // \u5186\u3092Box2d\u306e\u7a7a\u9593\u306b\u8ffd\u52a0\n        circle[i].setup(box2d.getWorld(), x, y, radius);\n        \n        // \u30e9\u30f3\u30c0\u30e0\u306a\u8272\u8a2d\u5b9a\n        randColor[i] = ofColor(ofRandom(255), ofRandom(255), ofRandom(255));\n    }\n}\n\n//--------------------------------------------------------------\nvoid ofApp::update(){\n    \n    box2d.update();\n}\n\n//--------------------------------------------------------------\nvoid ofApp::draw(){\n\n    for(int i=0; i<CIRCLE_NUM; i++){\n        // \u5186\u306e\u63cf\u753b\u8272\u8a2d\u5b9a\n        ofSetColor(randColor[i]);\n        // Box2d\u7a7a\u9593\u306e\u5186\u3092\u63cf\u753b\n        circle[i].draw();\n    }\n\n}\n```\n", "tags": ["openFrameworks"]}