{"tags": ["nginx", "AmazonLinux", "AWS"], "context": "\n\n\u3000\u958b\u767a\u30c4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nyum groupinstall \"Development Tools\"\nyum install \\\npcre-devel \\\nlibxml2-devel \\\nlibxslt-devel \\\ngd-devel \\\nperl-ExtUtils-Embed \\\ngeoip-devel \\\ngperftools-devel\n\nOpenSSL\u3068PCRE\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30bd\u30fc\u30b9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u89e3\u51cd\ncd /usr/local/src\nwget http://nginx.org/download/nginx-1.11.9.tar.gz\ntar xvzf nginx-1.11.9.tar.gz\ncd nginx-1.11.9\n\n\nOpenSSL\u306e\u6700\u65b0\u7248\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\ncd /usr/local/src\nwget https://www.openssl.org/source/openssl-1.1.0c.tar.gz\ntar xvzf openssl-1.1.0c.tar.gz\ncd openssl-1.1.0c\n\n\n\u8a2d\u5b9a(yum\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u540c\u3058configure\u3092\u8a2d\u5b9a\u3059\u308b --with-ipv6\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u4f7f\u308f\u308c\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u6d88\u3059--with-threads\u3092\u8ffd\u52a0)\n./configure \\\n--prefix=/usr/share/nginx \\\n--sbin-path=/usr/sbin/nginx \\\n--modules-path=/usr/lib64/nginx/modules \\\n--conf-path=/etc/nginx/nginx.conf \\\n--error-log-path=/var/log/nginx/error.log \\\n--http-log-path=/var/log/nginx/access.log \\\n--http-client-body-temp-path=/var/lib/nginx/tmp/client_body \\\n--http-proxy-temp-path=/var/lib/nginx/tmp/proxy \\\n--http-fastcgi-temp-path=/var/lib/nginx/tmp/fastcgi \\\n--http-uwsgi-temp-path=/var/lib/nginx/tmp/uwsgi \\\n--http-scgi-temp-path=/var/lib/nginx/tmp/scgi \\\n--pid-path=/var/run/nginx.pid \\\n--lock-path=/var/lock/subsys/nginx \\\n--user=nginx \\\n--group=nginx \\\n--with-openssl=../openssl-1.1.0c \\\n--with-file-aio \\\n--with-http_ssl_module \\\n--with-http_v2_module \\\n--with-http_realip_module \\\n--with-http_addition_module \\\n--with-http_xslt_module=dynamic \\\n--with-http_image_filter_module=dynamic \\\n--with-http_geoip_module=dynamic \\\n--with-http_sub_module \\\n--with-http_dav_module \\\n--with-http_flv_module \\\n--with-http_mp4_module \\\n--with-http_gunzip_module \\\n--with-http_gzip_static_module \\\n--with-http_random_index_module \\\n--with-http_secure_link_module \\\n--with-http_degradation_module \\\n--with-http_slice_module \\\n--with-http_stub_status_module \\\n--with-http_perl_module=dynamic \\\n--with-mail=dynamic \\\n--with-mail_ssl_module \\\n--with-pcre \\\n--with-pcre-jit \\\n--with-stream=dynamic \\\n--with-stream_ssl_module \\\n--with-threads \\\n--with-google_perftools_module \\\n--with-debug \\\n--with-cc-opt='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic' \\\n--with-ld-opt=' -Wl,-E'\n\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nmake\nmake install\n\n\nyum\u306b\u5165\u3063\u3066\u3044\u305f\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u6301\u3063\u3066\u304f\u308b\n/etc/rc.d/init.d/nginx\n\nchkconfig --add nginx\nchkconfig nginx on\nchkconfig --list nginx\n\n\nyum\u306b\u5165\u3063\u3066\u3044\u305f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u6301\u3063\u3066\u304f\u308b\n/etc/nginx/nginx.conf\n\nservice nginx configtest\nservice nginx start\n\n#\u3000\u958b\u767a\u30c4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n```bash\nyum groupinstall \"Development Tools\"\nyum install \\\npcre-devel \\\nlibxml2-devel \\\nlibxslt-devel \\\ngd-devel \\\nperl-ExtUtils-Embed \\\ngeoip-devel \\\ngperftools-devel\n```\n\nOpenSSL\u3068PCRE\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30bd\u30fc\u30b9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n# \u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u89e3\u51cd\n```bash\ncd /usr/local/src\nwget http://nginx.org/download/nginx-1.11.9.tar.gz\ntar xvzf nginx-1.11.9.tar.gz\ncd nginx-1.11.9\n```\n\n# OpenSSL\u306e\u6700\u65b0\u7248\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n```\ncd /usr/local/src\nwget https://www.openssl.org/source/openssl-1.1.0c.tar.gz\ntar xvzf openssl-1.1.0c.tar.gz\ncd openssl-1.1.0c\n```\n\n\n# \u8a2d\u5b9a(yum\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u540c\u3058configure\u3092\u8a2d\u5b9a\u3059\u308b --with-ipv6\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u4f7f\u308f\u308c\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u6d88\u3059--with-threads\u3092\u8ffd\u52a0)\n```bash\n./configure \\\n--prefix=/usr/share/nginx \\\n--sbin-path=/usr/sbin/nginx \\\n--modules-path=/usr/lib64/nginx/modules \\\n--conf-path=/etc/nginx/nginx.conf \\\n--error-log-path=/var/log/nginx/error.log \\\n--http-log-path=/var/log/nginx/access.log \\\n--http-client-body-temp-path=/var/lib/nginx/tmp/client_body \\\n--http-proxy-temp-path=/var/lib/nginx/tmp/proxy \\\n--http-fastcgi-temp-path=/var/lib/nginx/tmp/fastcgi \\\n--http-uwsgi-temp-path=/var/lib/nginx/tmp/uwsgi \\\n--http-scgi-temp-path=/var/lib/nginx/tmp/scgi \\\n--pid-path=/var/run/nginx.pid \\\n--lock-path=/var/lock/subsys/nginx \\\n--user=nginx \\\n--group=nginx \\\n--with-openssl=../openssl-1.1.0c \\\n--with-file-aio \\\n--with-http_ssl_module \\\n--with-http_v2_module \\\n--with-http_realip_module \\\n--with-http_addition_module \\\n--with-http_xslt_module=dynamic \\\n--with-http_image_filter_module=dynamic \\\n--with-http_geoip_module=dynamic \\\n--with-http_sub_module \\\n--with-http_dav_module \\\n--with-http_flv_module \\\n--with-http_mp4_module \\\n--with-http_gunzip_module \\\n--with-http_gzip_static_module \\\n--with-http_random_index_module \\\n--with-http_secure_link_module \\\n--with-http_degradation_module \\\n--with-http_slice_module \\\n--with-http_stub_status_module \\\n--with-http_perl_module=dynamic \\\n--with-mail=dynamic \\\n--with-mail_ssl_module \\\n--with-pcre \\\n--with-pcre-jit \\\n--with-stream=dynamic \\\n--with-stream_ssl_module \\\n--with-threads \\\n--with-google_perftools_module \\\n--with-debug \\\n--with-cc-opt='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic' \\\n--with-ld-opt=' -Wl,-E'\n```\n\n# \u30b3\u30f3\u30d1\u30a4\u30eb\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash\nmake\nmake install\n```\n\n# yum\u306b\u5165\u3063\u3066\u3044\u305f\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u6301\u3063\u3066\u304f\u308b\n```\n/etc/rc.d/init.d/nginx\n```\n\n```bash\nchkconfig --add nginx\nchkconfig nginx on\nchkconfig --list nginx\n```\n\n# yum\u306b\u5165\u3063\u3066\u3044\u305f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u6301\u3063\u3066\u304f\u308b\n```\n/etc/nginx/nginx.conf\n```\n\n```bash\nservice nginx configtest\nservice nginx start\n```\n"}