{"context": "\n\n\u306f\u3058\u3081\u306b\n\u3053\u306e\u8a18\u4e8b\u306f ACCESS Advent Calendar 2016 25 \u65e5\u76ee \u6700\u5f8c\u306e\u8a18\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\u30af\u30ea\u30b9\u30de\u30b9\u3067\u3059\u306d\u3001\u3044\u304b\u304c\u304a\u904e\u3054\u3057\u3067\u3057\u3087\u3046\u304b\u3002\n\u4eca\u65e5\u306f React \u521d\u5fc3\u8005\u304c\u521d\u7d1a\u8005\u306b\u306a\u308b\u307e\u3067 \u3068\u3044\u3046\u30bf\u30a4\u30c8\u30eb\u3067\u3001\u521d\u7d1a\u8005\u306b\u306a\u3063\u305f\u3064\u3082\u308a\u306e\u308f\u305f\u304f\u3057 @kasaharu \u304c\u304a\u5c4a\u3051\u3044\u305f\u3057\u307e\u3059\u3002\n\u3055\u3063\u305d\u304f\u59cb\u3081\u3066\u3044\u304d\u307e\u3059\u3002\n\n2017 \u5e74\u3053\u305d React \u3092\u89e6\u308a\u305f\u3044\u4eba\u304c\u77e5\u3063\u3066\u304a\u304d\u305f\u3044\u3053\u3068\n\n props\n\nprops \u306f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u6e21\u3059\u4efb\u610f\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6307\u3059\n\n\n\u305d\u306e\u3068\u304d\u306e\u578b\u306f string, number, function, node \u306a\u3069\u304c\u6307\u5b9a\u3067\u304d\u308b\n\n\n\n// \u91d1\u984d\u3092\u8868\u793a\u3059\u308b Currency \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\n// \u8868\u793a\u3059\u308b\u91d1\u984d\u306e\u305f\u3081\u306e\u5909\u6570 amount \u3068\n// \u91d1\u984d\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306e\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9 editAmount() \u3092\u6e21\u3059\u5834\u5408\n<Currency\n  amount={amount}\n  onChange={this.editAmount}\n/>\n\n\nPropTypes\n\n\u547c\u3073\u51fa\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u5074\u3067\u306f\u89aa\u304b\u3089\u6e21\u3055\u308c\u308b props \u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u304c\u53ef\u80fd\n\npropTypes() {\n  return {\n    amount: React.PropTypes.number.isRequired,\n    onChange: React.PropTypes.func,\n  }\n}\n\n\n\u578b\u306e\u30c1\u30a7\u30c3\u30af\u3060\u3051\u3067\u306a\u304f\u3001\u305d\u306e props \u304c\u5fc5\u9808\u304b\u4efb\u610f\u304b\u306e\u6307\u5b9a\u3082\u51fa\u6765\u308b\n\n\n\u6307\u5b9a\u53ef\u80fd\u306a PropTypes \u306e\u4f8b\n// \u6570\u5024\nReact.PropTypes.number\n// \u6587\u5b57\u5217\nReact.PropTypes.string\n// \u95a2\u6570\nReact.PropTypes.func\n// \u8981\u7d20\u304c\u6587\u5b57\u5217\u578b\u306e\u914d\u5217\nReact.PropTypes.arrayOf(React.PropTypes.string)\n// \u6570\u5024\u307e\u305f\u306f\u6587\u5b57\u5217\u306e\u3069\u3061\u3089\u304b\nReact.PropTypes.oneOfType([React.PropTypes.number, React.PropTypes.string])\n\n\n\u305d\u306e\u4ed6\u8a73\u7d30\u306f \u516c\u5f0f\u30da\u30fc\u30b8 \u3092\u53c2\u7167\n\nprops \u3067\u6c17\u306b\u3057\u305f\u3044\u3053\u3068\n\nPropTypes \u3092\u6307\u5b9a\u305b\u3088\n\n\n state \u306b\u3064\u3044\u3066\n\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u5185\u306e\u72b6\u614b\u3092\u6301\u3064\u3068\u304d\u306b\u4f7f\u7528\u3055\u308c\u308b\n\ncheck() {\n this.setState({ checked: !this.state.checked });\n}\n\nrender() {\n  return (\n    <input\n      type=\"checkbox\"\n      onChange={this.check}\n      checked={this.state.checked}\n    />\n  );\n}\n\n\ncheckbox \u306e\u72b6\u614b\u3092\u6301\u3064\u3068\u304d\u306a\u3069\u306b\u4f7f\u7528\u3059\u308b\u3068\u4fbf\u5229\n\u72b6\u614b\u306e\u5909\u66f4\u306b\u306f setState() \u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\n\n\n\u76f4\u63a5 this.state.xxx \u3092\u5909\u66f4\u3059\u308b\u306e\u306f\u7981\u6b62\u3055\u308c\u3066\u3044\u308b\n\nsetState() \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067 react \u304c\u72b6\u614b\u5909\u66f4\u5f8c\u306b\u518d\u63cf\u753b\u51e6\u7406\u3092\u5b9f\u65bd\u3059\u308b\u304c\u3001 setState() \u3092\u4f7f\u308f\u306a\u3044\u3067 state \u3092\u66f4\u65b0\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u671f\u5f85\u3057\u305f\u3088\u3046\u306b\u63cf\u753b\u3055\u308c\u306a\u304b\u3063\u305f\u308a\u3059\u308b\n\n\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3054\u3068\u306b\u72b6\u614b\u3092\u7ba1\u7406\u3067\u304d\u308b\u306e\u3067\u697d\u306b\u4f7f\u3048\u308b\u304c\u3001\u591a\u7528\u3059\u308b\u3068\u72b6\u614b\u306e\u7ba1\u7406\u304c\u8907\u96d1\u306b\u306a\u308b\u306e\u3067\u51fa\u6765\u308b\u9650\u308a\u4f7f\u308f\u306a\u3044\u307b\u3046\u304c\u671b\u307e\u3057\u3044\n\n\nstate \u306e\u4ee3\u308f\u308a\u306b props \u3092\u4f7f\u3044\u3001 props \u3092\u4e00\u7b87\u6240\u3067\u7ba1\u7406\u3057\u305f\u307b\u3046\u304c\u3088\u3044\n\n\n\nstate \u3067\u6c17\u306b\u3057\u305f\u3044\u3053\u3068\n\n\u672c\u5f53\u306b state \u3092\u4f7f\u3046\u30dd\u30a4\u30f3\u30c8\u306a\u306e\u304b\uff1f props \u3067\u306f\u30c0\u30e1\u306a\u306e\u304b\uff1f\u3092\u691c\u8a0e\u3057\u305f\u4e0a\u3067\u4f7f\u7528\u3059\u308b\n\n\n list \u8868\u793a\u6642\u306e key \u306b\u3064\u3044\u3066\n\nVirtual DOM\n\n\u672c\u5f53\u306e DOM \u3068\u540c\u69d8\u306e\u30c4\u30ea\u30fc\u3092\u69cb\u6210\u3092\u3057\u305f JS \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\n\nJS \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306a\u306e\u3067\u5909\u66f4\u51e6\u7406\u306a\u3069\u304c\u3001\u901a\u5e38\u306e DOM \u306b\u6bd4\u3079\u65e9\u3044\n\n\n\u753b\u9762\u3092\u5909\u66f4\u3059\u308b\u51e6\u7406\u3092\u3057\u305f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a4\u30e1\u30fc\u30b8\u3067\u51e6\u7406\u304c\u8d70\u308b\n\n\n\u5404\u7a2e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u65b0\u3057\u3044\u72b6\u614b(state)\u306b\u3057\u3066 Virtual DOM \u3092\u4f5c\u6210\n\u5909\u66f4\u524d\u306e Virtual DOM \u3068\u5909\u66f4\u5f8c\u306e Virtual DOM \u3092\u6bd4\u8f03\u3057\u3001 diff \u3092\u53d6\u308b\ndiff \u304c\u51fa\u305f\u90e8\u5206\u3060\u3051\u672c\u7269\u306e DOM \u306b\u53cd\u6620\u3059\u308b\n\n\n\u2192 \u5b9f\u88c5\u8005\u306f\u5dee\u5206\u66f4\u65b0\u3092\u6c17\u306b\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u306e\u304c\u5229\u70b9\n\n\n\n\n\n\n\u914d\u5217\u306e\u8981\u7d20\u3092\u8868\u793a\u3059\u308b\u3068\u304d\u306b\u306f key \u5c5e\u6027\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u914d\u5217\u306e\u8981\u7d20\u3092 map \u3067\u7e70\u308a\u8fd4\u3057 render \u3059\u308b\u3088\u3046\u306a\u51e6\u7406\u304c\u3042\u308b\u5834\u5408\n\n// bad\nrender() {\n  return this.props.recordList.map((record) => {\n    return(\n      <div className=\"xxx\">\n        record.name\n      </div>\n    );\n  });\n}\n\n\n\u4eee\u306b\u3053\u306e recordList \u306e\u9577\u3055\u304c 5 \u3042\u308b\u3068\u3057\u3001\u305d\u306e\u3046\u3061 1 \u3064\u306e\u8981\u7d20\u306b\u5909\u66f4\u304c\u5165\u3063\u305f\u3068\u3057\u3066\u3082\nreact \u306f 5 \u3064\u306e\u3046\u3061\u3069\u3053\u306b\u5909\u66f4\u304c\u5165\u3063\u305f\u304b\u308f\u304b\u3089\u306a\u3044(\u8981\u7d20\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u304c\u51fa\u6765\u306a\u3044)\n\n\n\u305b\u3063\u304b\u304f Virtual DOM \u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u306e\u306b\u5dee\u5206\u30c1\u30a7\u30c3\u30af\u304c\u9045\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u2026\n\n\n\u3053\u306e\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306b key \u5c5e\u6027\u3068\u3057\u3066 unique \u306a id \u3092\u4ed8\u4e0e\u3059\u308b\u624b\u6cd5\u304c\u63a8\u5968\u3055\u308c\u308b\n\n// good\nrender() {\n  return this.props.recordList.map((record) => {\n    return(\n      <div className=\"xxx\" key=record.id> // key \u3092\u4ed8\u4e0e\n        record.name\n      </div>\n    );\n  });\n}\n\n\nkey \u5c5e\u6027\u306e\u4ed8\u4e0e\u3092\u5fb9\u5e95\u3059\u308b\u3053\u3068\u3067 Virtual DOM \u306e\u5229\u70b9\u3092\u6d3b\u304b\u305b\u308b\n\n\u914d\u5217\u306e\u8981\u7d20\u3092\u8868\u793a\u3059\u308b\u3068\u304d\u306b\u306f\u6c17\u3092\u3064\u3051\u305f\u3044\u3053\u3068\n\nlist! map! key!\n\n\n \u8907\u6570\u306e\u30d5\u30a9\u30fc\u30e0\u8981\u7d20\u306e\u30a4\u30d9\u30f3\u30c8\u51e6\u7406\u306b\u3064\u3044\u3066\n\n\u5358\u7d14\u306b\u30d5\u30a9\u30fc\u30e0\u3092\u66f8\u304f\u3068\u3001\u30d5\u30a9\u30fc\u30e0\u306e\u6570\u3060\u3051\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u304c\u5fc5\u8981\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u2026\n\u305d\u3053\u3067\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u306b\u8ffd\u52a0\u306e\u5f15\u6570\u3092\u6e21\u3059\u3053\u3068\u3067\u3001\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u306e\u524a\u6e1b\u3092\u691c\u8a0e\u3059\u308b\n\n// bad\nonChangeName(event) {\n  const newState = {};\n  newState.name = event.target.value;\n  this.setState(newState);\n}\n\nonChangeAddress(event) {\n  const newState = {};\n  newState.address = event.target.value;\n  this.setState(newState);\n}\n\nrender() {\n  return (\n    <div className=\"xxx\">\n      <input\n        type=\"text\"\n        value={this.state.name}\n        onChange={(event) => this.onChangeName(event)}\n      />\n      <input\n        type=\"text\"\n        value={this.state.address}\n        onChange={(event) => this.onChangeAddress(event)}\n      />\n    </div>\n  );\n}\n\n// good\nonChange(label, event) {\n  const newState = {};\n  newState[label] = event.target.value;\n  this.setState(newState);\n}\n\nrender() {\n  return (\n    <div className=\"xxx\">\n      <input\n        type=\"text\"\n        value={this.state.name}\n        onChange={(event) => this.onChange('name', event)}\n      />\n      <input\n        type=\"text\"\n        value={this.state.address}\n        onChange={(event) => this.onChange('address', event)}\n      />\n    </div>\n  );\n}\n\n\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210\u3067\u6c17\u3092\u3064\u3051\u305f\u3044\u3053\u3068\n\n\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u306b\u8ffd\u52a0\u306e\u5f15\u6570\u3092\uff01\n\n\n\n\u304a\u308f\u308a\u306b\n\u4ee5\u4e0a\u3067 ACCESS Advent Calendar 2016 \u7d42\u4e86\u3057\u307e\u3059\u3002\u8cfc\u8aad\u3044\u305f\u3060\u3044\u305f\u65b9\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n\u305d\u308c\u3067\u306f\u307f\u306a\u3055\u3093\u3001\u826f\u3044\u304a\u5e74\u3092\uff01\n# \u306f\u3058\u3081\u306b\n\u3053\u306e\u8a18\u4e8b\u306f [ACCESS Advent Calendar 2016](http://qiita.com/advent-calendar/2016/access) 25 \u65e5\u76ee \u6700\u5f8c\u306e\u8a18\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30af\u30ea\u30b9\u30de\u30b9\u3067\u3059\u306d\u3001\u3044\u304b\u304c\u304a\u904e\u3054\u3057\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u4eca\u65e5\u306f *React \u521d\u5fc3\u8005\u304c\u521d\u7d1a\u8005\u306b\u306a\u308b\u307e\u3067* \u3068\u3044\u3046\u30bf\u30a4\u30c8\u30eb\u3067\u3001\u521d\u7d1a\u8005\u306b\u306a\u3063\u305f\u3064\u3082\u308a\u306e\u308f\u305f\u304f\u3057 @kasaharu \u304c\u304a\u5c4a\u3051\u3044\u305f\u3057\u307e\u3059\u3002\n\n\u3055\u3063\u305d\u304f\u59cb\u3081\u3066\u3044\u304d\u307e\u3059\u3002\n\n# 2017 \u5e74\u3053\u305d React \u3092\u89e6\u308a\u305f\u3044\u4eba\u304c\u77e5\u3063\u3066\u304a\u304d\u305f\u3044\u3053\u3068\n\n## :one: props\n\n* props \u306f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u6e21\u3059\u4efb\u610f\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6307\u3059\n    * \u305d\u306e\u3068\u304d\u306e\u578b\u306f string, number, function, node \u306a\u3069\u304c\u6307\u5b9a\u3067\u304d\u308b\n\n```js\n// \u91d1\u984d\u3092\u8868\u793a\u3059\u308b Currency \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\n// \u8868\u793a\u3059\u308b\u91d1\u984d\u306e\u305f\u3081\u306e\u5909\u6570 amount \u3068\n// \u91d1\u984d\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306e\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9 editAmount() \u3092\u6e21\u3059\u5834\u5408\n<Currency\n  amount={amount}\n  onChange={this.editAmount}\n/>\n```\n\n### PropTypes\n\n* \u547c\u3073\u51fa\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u5074\u3067\u306f\u89aa\u304b\u3089\u6e21\u3055\u308c\u308b props \u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u304c\u53ef\u80fd\n\n```js\npropTypes() {\n  return {\n    amount: React.PropTypes.number.isRequired,\n    onChange: React.PropTypes.func,\n  }\n}\n```\n\n* \u578b\u306e\u30c1\u30a7\u30c3\u30af\u3060\u3051\u3067\u306a\u304f\u3001\u305d\u306e props \u304c\u5fc5\u9808\u304b\u4efb\u610f\u304b\u306e\u6307\u5b9a\u3082\u51fa\u6765\u308b\n\n### \u6307\u5b9a\u53ef\u80fd\u306a PropTypes \u306e\u4f8b\n\n```js\n// \u6570\u5024\nReact.PropTypes.number\n// \u6587\u5b57\u5217\nReact.PropTypes.string\n// \u95a2\u6570\nReact.PropTypes.func\n// \u8981\u7d20\u304c\u6587\u5b57\u5217\u578b\u306e\u914d\u5217\nReact.PropTypes.arrayOf(React.PropTypes.string)\n// \u6570\u5024\u307e\u305f\u306f\u6587\u5b57\u5217\u306e\u3069\u3061\u3089\u304b\nReact.PropTypes.oneOfType([React.PropTypes.number, React.PropTypes.string])\n```\n\n* \u305d\u306e\u4ed6\u8a73\u7d30\u306f [\u516c\u5f0f\u30da\u30fc\u30b8](https://facebook.github.io/react/docs/typechecking-with-proptypes.html#react.proptypes) \u3092\u53c2\u7167\n\n**props \u3067\u6c17\u306b\u3057\u305f\u3044\u3053\u3068**\n\n* PropTypes \u3092\u6307\u5b9a\u305b\u3088\n\n## :two: state \u306b\u3064\u3044\u3066\n\n* \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u5185\u306e\u72b6\u614b\u3092\u6301\u3064\u3068\u304d\u306b\u4f7f\u7528\u3055\u308c\u308b\n\n```js\ncheck() {\n this.setState({ checked: !this.state.checked });\n}\n\nrender() {\n  return (\n    <input\n      type=\"checkbox\"\n      onChange={this.check}\n      checked={this.state.checked}\n    />\n  );\n}\n```\n\n* checkbox \u306e\u72b6\u614b\u3092\u6301\u3064\u3068\u304d\u306a\u3069\u306b\u4f7f\u7528\u3059\u308b\u3068\u4fbf\u5229\n* \u72b6\u614b\u306e\u5909\u66f4\u306b\u306f `setState()` \u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\n    * \u76f4\u63a5 `this.state.xxx` \u3092\u5909\u66f4\u3059\u308b\u306e\u306f\u7981\u6b62\u3055\u308c\u3066\u3044\u308b\n    * `setState()` \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067 react \u304c\u72b6\u614b\u5909\u66f4\u5f8c\u306b\u518d\u63cf\u753b\u51e6\u7406\u3092\u5b9f\u65bd\u3059\u308b\u304c\u3001 `setState()` \u3092\u4f7f\u308f\u306a\u3044\u3067 state \u3092\u66f4\u65b0\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u671f\u5f85\u3057\u305f\u3088\u3046\u306b\u63cf\u753b\u3055\u308c\u306a\u304b\u3063\u305f\u308a\u3059\u308b\n* \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3054\u3068\u306b\u72b6\u614b\u3092\u7ba1\u7406\u3067\u304d\u308b\u306e\u3067\u697d\u306b\u4f7f\u3048\u308b\u304c\u3001\u591a\u7528\u3059\u308b\u3068\u72b6\u614b\u306e\u7ba1\u7406\u304c\u8907\u96d1\u306b\u306a\u308b\u306e\u3067\u51fa\u6765\u308b\u9650\u308a\u4f7f\u308f\u306a\u3044\u307b\u3046\u304c\u671b\u307e\u3057\u3044\n    * state \u306e\u4ee3\u308f\u308a\u306b props \u3092\u4f7f\u3044\u3001 props \u3092\u4e00\u7b87\u6240\u3067\u7ba1\u7406\u3057\u305f\u307b\u3046\u304c\u3088\u3044\n\n**state \u3067\u6c17\u306b\u3057\u305f\u3044\u3053\u3068**\n\n* \u672c\u5f53\u306b state \u3092\u4f7f\u3046\u30dd\u30a4\u30f3\u30c8\u306a\u306e\u304b\uff1f props \u3067\u306f\u30c0\u30e1\u306a\u306e\u304b\uff1f\u3092\u691c\u8a0e\u3057\u305f\u4e0a\u3067\u4f7f\u7528\u3059\u308b\n\n## :three: list \u8868\u793a\u6642\u306e key \u306b\u3064\u3044\u3066\n### Virtual DOM\n* \u672c\u5f53\u306e DOM \u3068\u540c\u69d8\u306e\u30c4\u30ea\u30fc\u3092\u69cb\u6210\u3092\u3057\u305f JS \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n    * JS \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306a\u306e\u3067\u5909\u66f4\u51e6\u7406\u306a\u3069\u304c\u3001\u901a\u5e38\u306e DOM \u306b\u6bd4\u3079\u65e9\u3044\n* \u753b\u9762\u3092\u5909\u66f4\u3059\u308b\u51e6\u7406\u3092\u3057\u305f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a4\u30e1\u30fc\u30b8\u3067\u51e6\u7406\u304c\u8d70\u308b\n    * \u5404\u7a2e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u65b0\u3057\u3044\u72b6\u614b(state)\u306b\u3057\u3066 Virtual DOM \u3092\u4f5c\u6210\n    * \u5909\u66f4\u524d\u306e Virtual DOM \u3068\u5909\u66f4\u5f8c\u306e Virtual DOM \u3092\u6bd4\u8f03\u3057\u3001 diff \u3092\u53d6\u308b\n    * diff \u304c\u51fa\u305f\u90e8\u5206\u3060\u3051\u672c\u7269\u306e DOM \u306b\u53cd\u6620\u3059\u308b\n        * \u2192 \u5b9f\u88c5\u8005\u306f\u5dee\u5206\u66f4\u65b0\u3092\u6c17\u306b\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u306e\u304c\u5229\u70b9\n\n### \u914d\u5217\u306e\u8981\u7d20\u3092\u8868\u793a\u3059\u308b\u3068\u304d\u306b\u306f key \u5c5e\u6027\n* \u4e0b\u8a18\u306e\u3088\u3046\u306b\u914d\u5217\u306e\u8981\u7d20\u3092 map \u3067\u7e70\u308a\u8fd4\u3057 render \u3059\u308b\u3088\u3046\u306a\u51e6\u7406\u304c\u3042\u308b\u5834\u5408\n\n```js\n// bad\nrender() {\n  return this.props.recordList.map((record) => {\n    return(\n      <div className=\"xxx\">\n        record.name\n      </div>\n    );\n  });\n}\n```\n\n* \u4eee\u306b\u3053\u306e recordList \u306e\u9577\u3055\u304c 5 \u3042\u308b\u3068\u3057\u3001\u305d\u306e\u3046\u3061 1 \u3064\u306e\u8981\u7d20\u306b\u5909\u66f4\u304c\u5165\u3063\u305f\u3068\u3057\u3066\u3082\nreact \u306f 5 \u3064\u306e\u3046\u3061\u3069\u3053\u306b\u5909\u66f4\u304c\u5165\u3063\u305f\u304b\u308f\u304b\u3089\u306a\u3044(\u8981\u7d20\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u304c\u51fa\u6765\u306a\u3044)\n    * \u305b\u3063\u304b\u304f Virtual DOM \u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u306e\u306b\u5dee\u5206\u30c1\u30a7\u30c3\u30af\u304c\u9045\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u2026\n* \u3053\u306e\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306b key \u5c5e\u6027\u3068\u3057\u3066 unique \u306a id \u3092\u4ed8\u4e0e\u3059\u308b\u624b\u6cd5\u304c\u63a8\u5968\u3055\u308c\u308b\n\n```js\n// good\nrender() {\n  return this.props.recordList.map((record) => {\n    return(\n      <div className=\"xxx\" key=record.id> // key \u3092\u4ed8\u4e0e\n        record.name\n      </div>\n    );\n  });\n}\n```\n\n* key \u5c5e\u6027\u306e\u4ed8\u4e0e\u3092\u5fb9\u5e95\u3059\u308b\u3053\u3068\u3067 Virtual DOM \u306e\u5229\u70b9\u3092\u6d3b\u304b\u305b\u308b\n\n**\u914d\u5217\u306e\u8981\u7d20\u3092\u8868\u793a\u3059\u308b\u3068\u304d\u306b\u306f\u6c17\u3092\u3064\u3051\u305f\u3044\u3053\u3068**\n\n* list! map! key!\n\n## :four: \u8907\u6570\u306e\u30d5\u30a9\u30fc\u30e0\u8981\u7d20\u306e\u30a4\u30d9\u30f3\u30c8\u51e6\u7406\u306b\u3064\u3044\u3066\n\n* \u5358\u7d14\u306b\u30d5\u30a9\u30fc\u30e0\u3092\u66f8\u304f\u3068\u3001\u30d5\u30a9\u30fc\u30e0\u306e\u6570\u3060\u3051\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u304c\u5fc5\u8981\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u2026\n* \u305d\u3053\u3067\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u306b\u8ffd\u52a0\u306e\u5f15\u6570\u3092\u6e21\u3059\u3053\u3068\u3067\u3001\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u306e\u524a\u6e1b\u3092\u691c\u8a0e\u3059\u308b\n\n```js\n// bad\nonChangeName(event) {\n  const newState = {};\n  newState.name = event.target.value;\n  this.setState(newState);\n}\n\nonChangeAddress(event) {\n  const newState = {};\n  newState.address = event.target.value;\n  this.setState(newState);\n}\n\nrender() {\n  return (\n    <div className=\"xxx\">\n      <input\n        type=\"text\"\n        value={this.state.name}\n        onChange={(event) => this.onChangeName(event)}\n      />\n      <input\n        type=\"text\"\n        value={this.state.address}\n        onChange={(event) => this.onChangeAddress(event)}\n      />\n    </div>\n  );\n}\n```\n\n```js\n// good\nonChange(label, event) {\n  const newState = {};\n  newState[label] = event.target.value;\n  this.setState(newState);\n}\n\nrender() {\n  return (\n    <div className=\"xxx\">\n      <input\n        type=\"text\"\n        value={this.state.name}\n        onChange={(event) => this.onChange('name', event)}\n      />\n      <input\n        type=\"text\"\n        value={this.state.address}\n        onChange={(event) => this.onChange('address', event)}\n      />\n    </div>\n  );\n}\n```\n\n**\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210\u3067\u6c17\u3092\u3064\u3051\u305f\u3044\u3053\u3068**\n\n* \u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u306b\u8ffd\u52a0\u306e\u5f15\u6570\u3092\uff01\n\n-----\n\n# \u304a\u308f\u308a\u306b\n\n\u4ee5\u4e0a\u3067 [ACCESS Advent Calendar 2016](http://qiita.com/advent-calendar/2016/access) \u7d42\u4e86\u3057\u307e\u3059\u3002\u8cfc\u8aad\u3044\u305f\u3060\u3044\u305f\u65b9\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n\n\u305d\u308c\u3067\u306f\u307f\u306a\u3055\u3093\u3001\u826f\u3044\u304a\u5e74\u3092\uff01\n", "tags": ["React"]}