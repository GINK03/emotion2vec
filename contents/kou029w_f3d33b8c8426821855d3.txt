{"context": "\n\n\u6982\u8981\nRaspberry Pi\u306eWeb Browser(Midori)\u3092Fullscreen\u3067\u8d77\u52d5\u3057\u3066Kiosk\u7aef\u672b\u5316\u3057\u307e\u3057\u305f\u3002\u6642\u8a08\u76e4\u306fFlipClock.js\u3092\u6539\u9020\u3057\u3066\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3044\u308f\u3086\u308bLAP(Linux/Apache/PHP)\u74b0\u5883\u3067\u3059\u3002\u96fb\u6e90\u3068HDMI\u3068LAN\u306e\u30b1\u30fc\u30d6\u30eb\u304c\u523a\u3055\u3063\u3066\u3044\u307e\u3059\u3002OS\u306fRaspbian jessie\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\n\n\n\u7528\u610f\u3059\u308b\u7269\n\nRaspberry Pi (\u4eca\u56de\u306f 1 Model B \u3092\u4f7f\u7528)\nSD\u30ab\u30fc\u30c98GB\n\u30d5\u30ebHD\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\nUSB\u30ad\u30fc\u30dc\u30fc\u30c9\n\u96fb\u6e90\u30b1\u30fc\u30d6\u30eb\nHDMI\u30b1\u30fc\u30d6\u30eb\nLAN\u30b1\u30fc\u30d6\u30eb\n\n\nOS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\nOS\u306fRaspbian jessie\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089RASPBIAN JESSIE\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001installation guide\u306b\u5f93\u3063\u3066\u3001SD\u30ab\u30fc\u30c9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\nRaspberry Pi\u306bSD\u30ab\u30fc\u30c9\u3092\u5dee\u3057\u8fbc\u307f\u3001\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3084\u30ad\u30fc\u30dc\u30fc\u30c9\u3084LAN\u30b1\u30fc\u30d6\u30eb\u3092\u63a5\u7d9a\u3057\u3066\u3001\u96fb\u6e90\u3092ON\u3059\u308c\u3070\u8d77\u52d5\u3059\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u521d\u671f\u8a2d\u5b9a\n\u8d77\u52d5\u3057\u305f\u3089\u3001Ctrl-Alt-F1\u3067tty1\uff08\u30bf\u30fc\u30df\u30ca\u30eb\u753b\u9762\uff09\u3078\u3002\n\nraspi-config\n$ sudo raspi-config\n\n\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u5bb9\u91cf\u306e\u62e1\u5f35\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3/\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u8a2d\u5b9a\n\u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\nroot\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5909\u66f4\n\n\nIP\u56fa\u5b9a\n$ sudo vi /etc/dhcpcd.conf\n\n\n/etc/dhcpcd.conf\n...\ninterface eth0\nstatic ip_address=192.168.0.39/24\nstatic routers=192.168.0.1\nstatic domain_name_servers=8.8.8.8\n\n\n\u63a5\u7d9a\u30c6\u30b9\u30c8\u3059\u308b\u3002\n$ ping example.com\n\n\n\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n$ sudo apt-get update\n$ sudo apt-get upgrade\n\n\u3057\u3070\u3089\u304f\u6642\u9593\u304c\u304b\u304b\u308b\u3002\n\n\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u306e\u5909\u66f4\n\u4eca\u56de\u306e\u5834\u5408\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fcpi\u304b\u3089\u65b0\u898f\u30e6\u30fc\u30b6\u30fcoden\u306b\u5909\u66f4\u3057\u305f\u3002\n$ sudo adduser oden\n$ sudo usermod -aG adm,dialout,cdrom,sudo,audio,video,plugdev,games,users,input,netdev,spi,i2c,gpio oden\n$ sudo visudo\n$ sudo vi /etc/systemd/system/autologin@.service \n$ sudo vi /etc/lightdm/lightdm.conf\n$ sudo userdel -r pi\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002\n\napache2\nphp5\nsamba\nmidori\nfonts-ipaexfont\nunclutter\nxautomation\nopen-jtalk\nopen-jtalk-mecab-naist-jdic\nhtsengine\nlibhtsengine-dev\nhts-voice-nitech-jp-atr503-m001\n\n\u4e00\u5ea6\u306b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306a\u3089\n$ sudo apt-get install apache2 php5 samba midori fonts-ipaexfont unclutter xautomation open-jtalk open-jtalk-mecab-naist-jdic htsengine libhtsengine-dev hts-voice-nitech-jp-atr503-m001\n\n\u3057\u3070\u3089\u304f\u6642\u9593\u304c\u304b\u304b\u308b\u3002\n\napache2/php5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\n$ sudo apt-get install apache2 php5\n$ sudo chmod 777 /var/www/html\n$ sudo vi /etc/apache2/envvars\n\n\n/etc/apache2/envvars\n...\n#export APACHE_RUN_USER=www-data\nexport APACHE_RUN_USER=oden\n#export APACHE_RUN_GROUP=www-data\nexport APACHE_RUN_GROUP=oden\n...\n\n\nApache/PHP\u3092\u4ecb\u3057\u3066\u3001\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u30aa\u30f3/\u30aa\u30d5\u3084\u97f3\u91cf\u8abf\u7bc0\u3084Open JTalk\u306b\u3057\u3083\u3079\u3089\u305b\u3066\u307f\u308b\u70ba\u306b\u3001\u8d77\u52d5\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u3092www-data\u304b\u3089\u666e\u901a\u306e\u30e6\u30fc\u30b6\u30fcoden\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\u3002\n\nsamba\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\n$ sudo apt-get install samba\n$ sudo vi /etc/samba/smb.conf\n\n\n/etc/samba/smb.conf\n...\n[www]\n   comment = Home Directories\n   browseable = yes\n   read only = no\n   path = /var/www/html\n   force user = oden\n   create mask = 0775\n   directory mask = 0775\n   valid users = oden\n...\n\n\n\u753b\u9762\u4e0a\u306b\u8868\u793a\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u3092samba\u3092\u4ecb\u3057\u3066\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\nKiosk\u7aef\u672b\u5316\n$ sudo apt-get install midori fonts-ipaexfont unclutter xautomation\n$ vi ~/.config/lxsession/LXDE-pi/autostart\n\n\n~/.config/lxsession/LXDE-pi/autostart\n#@lxpanel --profile LXDE-pi\n#@pcmanfm --desktop --profile LXDE-pi\n#@xscreensaver -no-splash\n@xset dpms 0 0 0\n@xset s 0\n@midori -e Fullscreen -a http://localhost/\n\n\n\n\u753b\u9762\u306e\u30ea\u30ed\u30fc\u30c9\n\n\u30b7\u30a7\u30eb\n$ xte -x :0 'key F5'\n\n\nPHP\n\n/var/www/html/api/reload.php\n<?php\nheader('Content-type: text/plain; charset=utf-8');\nsystem(\"sleep 5; xte -x :0 'key F5'; echo \\$?\");\n\n\n\n\u753b\u9762\u306e\u30aa\u30f3/\u30aa\u30d5\u3068\u97f3\u91cf\u8abf\u7bc0\n\n\u30b7\u30a7\u30eb\n$ amixer -c 0 sset PCM 50% #\u97f3\u91cf\n$ tvservice -o #\u753b\u9762\u30aa\u30d5\n$ tvservice -p; sleep 1; xset -display :0 dpms force on #\u753b\u9762\u30aa\u30f3\n\n\nPHP\n\n/var/www/html/api/av.php\n<?php\nheader('Content-type: text/plain; charset=utf-8');\n\nif(isset($_GET['a'])) {\n  $a = intval($_GET['a']);\n  if ($a > 100) $a = 100;\n  if ($a < 10) $a = 10;\n  $a = (log10($a) - 1)*100;\n  system(\"amixer -c 0 sset PCM $a%\");\n}\n\nif(isset($_GET['v'])) {\n  $v = $_GET['v'];\n  if ($v === \"off\") {\n    system(\"tvservice -o\");\n  }\n  if ($v === \"on\") {\n    system(\"tvservice -p; sleep 1; xset -display :0 dpms force on\");\n  }\n  system(\"xset -display :0 -q\");\n}\n\n\n\nOpen JTalk\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\n$ sudo apt-get install open-jtalk open-jtalk-mecab-naist-jdic htsengine libhtsengine-dev hts-voice-nitech-jp-atr503-m001\n\n\n\u3057\u3083\u3079\u3089\u305b\u3066\u307f\u308b\nMei\u3061\u3083\u3093\u3092\u30b3\u30de\u30f3\u30c9jsay [\u3057\u3083\u3079\u3089\u305b\u305f\u3044\u8a00\u8449]\u3067\u3057\u3083\u3079\u3089\u305b\u3066\u307f\u305f\u3044\u3002\n$ sudo mkdir /usr/local/share/hts_voice/mei/\n$ sudo cp [\u3053\u3053\u306bmei_normal.htsvoice\u306e\u30d1\u30b9\u3092\u8a18\u5165] /usr/local/share/hts_voice/mei/\n$ sudo touch /usr/local/bin/jsay\n$ sudo vi /usr/local/bin/jsay\n$ sudo chmod +x /usr/local/bin/jsay\n\n\n/usr/local/bin/jsay\n#!/bin/sh\n\nCMDNAME=`basename $0`\nif [ $# -lt 1 ]; then\n    echo \"Usage: ${CMDNAME} [ text ]\" 1>&2\n    exit 1\nfi\n\nTMPFILE=`mktemp /tmp/tmp.XXXXXX.wav`\nDIC=/var/lib/mecab/dic/open-jtalk/naist-jdic/\nVOICE=/usr/local/share/hts_voice/mei/mei_normal.htsvoice\n\necho \"$1\" | open_jtalk \\\n-x ${DIC} \\\n-m ${VOICE} \\\n-ow ${TMPFILE} && \\\n\naplay --quiet ${TMPFILE}\nrm -f ${TMPFILE}\n\nexit 0\n\n\n\n\u30b7\u30a7\u30eb\n$ jsay \u307d\u307d\u307d\u307d\u30fc\u3093\n\n\nPHP\n\n/var/www/html/api/jsay.php\n<?php\nif(isset($_GET['q'])) {\n  $q = $_GET['q'];\n  $q = str_replace(\"'\", \"\\\"\", $q);\n  $q = mb_strimwidth($q, 0, 512, \" \u4ee5\u4e0b\u7701\u7565\");\n  header('Content-type: text/plain; charset=utf-8');\n  system(\"jsay '$q'\");\n}\n\n\n# \u6982\u8981\nRaspberry Pi\u306eWeb Browser(Midori)\u3092Fullscreen\u3067\u8d77\u52d5\u3057\u3066Kiosk\u7aef\u672b\u5316\u3057\u307e\u3057\u305f\u3002\u6642\u8a08\u76e4\u306f[FlipClock.js](http://flipclockjs.com/)\u3092\u6539\u9020\u3057\u3066\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3044\u308f\u3086\u308bLAP(Linux/Apache/PHP)\u74b0\u5883\u3067\u3059\u3002\u96fb\u6e90\u3068HDMI\u3068LAN\u306e\u30b1\u30fc\u30d6\u30eb\u304c\u523a\u3055\u3063\u3066\u3044\u307e\u3059\u3002OS\u306fRaspbian jessie\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\n\n![fullhd-calendar-oden.jpg](https://qiita-image-store.s3.amazonaws.com/0/129326/2f4cdcfe-bda7-f10e-36f3-a4f76e3c4b7c.jpeg)\n\n## \u7528\u610f\u3059\u308b\u7269\n- Raspberry Pi (\u4eca\u56de\u306f 1 Model B \u3092\u4f7f\u7528)\n- SD\u30ab\u30fc\u30c98GB\n- \u30d5\u30ebHD\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\n- USB\u30ad\u30fc\u30dc\u30fc\u30c9\n- \u96fb\u6e90\u30b1\u30fc\u30d6\u30eb\n- HDMI\u30b1\u30fc\u30d6\u30eb\n- LAN\u30b1\u30fc\u30d6\u30eb\n\n# OS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\nOS\u306fRaspbian jessie\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002[\u516c\u5f0f\u30b5\u30a4\u30c8](https://www.raspberrypi.org/downloads/raspbian/)\u304b\u3089RASPBIAN JESSIE\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001[installation guide](https://www.raspberrypi.org/documentation/installation/installing-images/README.md)\u306b\u5f93\u3063\u3066\u3001SD\u30ab\u30fc\u30c9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\nRaspberry Pi\u306bSD\u30ab\u30fc\u30c9\u3092\u5dee\u3057\u8fbc\u307f\u3001\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3084\u30ad\u30fc\u30dc\u30fc\u30c9\u3084LAN\u30b1\u30fc\u30d6\u30eb\u3092\u63a5\u7d9a\u3057\u3066\u3001\u96fb\u6e90\u3092ON\u3059\u308c\u3070\u8d77\u52d5\u3059\u308b\u306f\u305a\u3067\u3059\u3002\n\n## \u521d\u671f\u8a2d\u5b9a\n\u8d77\u52d5\u3057\u305f\u3089\u3001Ctrl-Alt-F1\u3067tty1\uff08\u30bf\u30fc\u30df\u30ca\u30eb\u753b\u9762\uff09\u3078\u3002\n\n### raspi-config\n    $ sudo raspi-config\n\n1. \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u5bb9\u91cf\u306e\u62e1\u5f35\n2. \u30bf\u30a4\u30e0\u30be\u30fc\u30f3/\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u8a2d\u5b9a\n3. \u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\n4. root\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5909\u66f4\n\n### IP\u56fa\u5b9a\n    $ sudo vi /etc/dhcpcd.conf\n\n```/etc/dhcpcd.conf\n...\ninterface eth0\nstatic ip_address=192.168.0.39/24\nstatic routers=192.168.0.1\nstatic domain_name_servers=8.8.8.8\n```\n\n\u63a5\u7d9a\u30c6\u30b9\u30c8\u3059\u308b\u3002\n\n    $ ping example.com\n\n### \u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n    $ sudo apt-get update\n    $ sudo apt-get upgrade\n\n\u3057\u3070\u3089\u304f\u6642\u9593\u304c\u304b\u304b\u308b\u3002\n\n### \u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u306e\u5909\u66f4\n\u4eca\u56de\u306e\u5834\u5408\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc`pi`\u304b\u3089\u65b0\u898f\u30e6\u30fc\u30b6\u30fc`oden`\u306b\u5909\u66f4\u3057\u305f\u3002\n\n    $ sudo adduser oden\n    $ sudo usermod -aG adm,dialout,cdrom,sudo,audio,video,plugdev,games,users,input,netdev,spi,i2c,gpio oden\n    $ sudo visudo\n    $ sudo vi /etc/systemd/system/autologin@.service \n    $ sudo vi /etc/lightdm/lightdm.conf\n    $ sudo userdel -r pi\n\n# \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002\n\n- apache2\n- php5\n- samba\n- midori\n- fonts-ipaexfont\n- unclutter\n- xautomation\n- open-jtalk\n- open-jtalk-mecab-naist-jdic\n- htsengine\n- libhtsengine-dev\n- hts-voice-nitech-jp-atr503-m001\n\n\u4e00\u5ea6\u306b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306a\u3089\n\n    $ sudo apt-get install apache2 php5 samba midori fonts-ipaexfont unclutter xautomation open-jtalk open-jtalk-mecab-naist-jdic htsengine libhtsengine-dev hts-voice-nitech-jp-atr503-m001\n\n\u3057\u3070\u3089\u304f\u6642\u9593\u304c\u304b\u304b\u308b\u3002\n\n## apache2/php5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\n    $ sudo apt-get install apache2 php5\n    $ sudo chmod 777 /var/www/html\n    $ sudo vi /etc/apache2/envvars\n\n```apache:/etc/apache2/envvars\n...\n#export APACHE_RUN_USER=www-data\nexport APACHE_RUN_USER=oden\n#export APACHE_RUN_GROUP=www-data\nexport APACHE_RUN_GROUP=oden\n...\n```\n\nApache/PHP\u3092\u4ecb\u3057\u3066\u3001\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u30aa\u30f3/\u30aa\u30d5\u3084\u97f3\u91cf\u8abf\u7bc0\u3084Open JTalk\u306b\u3057\u3083\u3079\u3089\u305b\u3066\u307f\u308b\u70ba\u306b\u3001\u8d77\u52d5\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u3092`www-data`\u304b\u3089\u666e\u901a\u306e\u30e6\u30fc\u30b6\u30fc`oden`\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\u3002\n\n## samba\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\n    $ sudo apt-get install samba\n    $ sudo vi /etc/samba/smb.conf\n\n```/etc/samba/smb.conf\n...\n[www]\n   comment = Home Directories\n   browseable = yes\n   read only = no\n   path = /var/www/html\n   force user = oden\n   create mask = 0775\n   directory mask = 0775\n   valid users = oden\n...\n```\n\n\u753b\u9762\u4e0a\u306b\u8868\u793a\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u3092samba\u3092\u4ecb\u3057\u3066\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\n## Kiosk\u7aef\u672b\u5316\n\n    $ sudo apt-get install midori fonts-ipaexfont unclutter xautomation\n    $ vi ~/.config/lxsession/LXDE-pi/autostart\n\n```bash:~/.config/lxsession/LXDE-pi/autostart\n#@lxpanel --profile LXDE-pi\n#@pcmanfm --desktop --profile LXDE-pi\n#@xscreensaver -no-splash\n@xset dpms 0 0 0\n@xset s 0\n@midori -e Fullscreen -a http://localhost/\n```\n\n### \u753b\u9762\u306e\u30ea\u30ed\u30fc\u30c9\n#### \u30b7\u30a7\u30eb\n    $ xte -x :0 'key F5'\n\n#### PHP\n```php:/var/www/html/api/reload.php\n<?php\nheader('Content-type: text/plain; charset=utf-8');\nsystem(\"sleep 5; xte -x :0 'key F5'; echo \\$?\");\n```\n\n### \u753b\u9762\u306e\u30aa\u30f3/\u30aa\u30d5\u3068\u97f3\u91cf\u8abf\u7bc0\n#### \u30b7\u30a7\u30eb\n    $ amixer -c 0 sset PCM 50% #\u97f3\u91cf\n    $ tvservice -o #\u753b\u9762\u30aa\u30d5\n    $ tvservice -p; sleep 1; xset -display :0 dpms force on #\u753b\u9762\u30aa\u30f3\n\n#### PHP\n```php:/var/www/html/api/av.php\n<?php\nheader('Content-type: text/plain; charset=utf-8');\n\nif(isset($_GET['a'])) {\n  $a = intval($_GET['a']);\n  if ($a > 100) $a = 100;\n  if ($a < 10) $a = 10;\n  $a = (log10($a) - 1)*100;\n  system(\"amixer -c 0 sset PCM $a%\");\n}\n\nif(isset($_GET['v'])) {\n  $v = $_GET['v'];\n  if ($v === \"off\") {\n    system(\"tvservice -o\");\n  }\n  if ($v === \"on\") {\n    system(\"tvservice -p; sleep 1; xset -display :0 dpms force on\");\n  }\n  system(\"xset -display :0 -q\");\n}\n```\n\n## Open JTalk\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\n    $ sudo apt-get install open-jtalk open-jtalk-mecab-naist-jdic htsengine libhtsengine-dev hts-voice-nitech-jp-atr503-m001\n\n### \u3057\u3083\u3079\u3089\u305b\u3066\u307f\u308b\nMei\u3061\u3083\u3093\u3092\u30b3\u30de\u30f3\u30c9`jsay [\u3057\u3083\u3079\u3089\u305b\u305f\u3044\u8a00\u8449]`\u3067\u3057\u3083\u3079\u3089\u305b\u3066\u307f\u305f\u3044\u3002\n\n    $ sudo mkdir /usr/local/share/hts_voice/mei/\n    $ sudo cp [\u3053\u3053\u306bmei_normal.htsvoice\u306e\u30d1\u30b9\u3092\u8a18\u5165] /usr/local/share/hts_voice/mei/\n    $ sudo touch /usr/local/bin/jsay\n    $ sudo vi /usr/local/bin/jsay\n    $ sudo chmod +x /usr/local/bin/jsay\n\n```bash:/usr/local/bin/jsay\n#!/bin/sh\n\nCMDNAME=`basename $0`\nif [ $# -lt 1 ]; then\n    echo \"Usage: ${CMDNAME} [ text ]\" 1>&2\n    exit 1\nfi\n\nTMPFILE=`mktemp /tmp/tmp.XXXXXX.wav`\nDIC=/var/lib/mecab/dic/open-jtalk/naist-jdic/\nVOICE=/usr/local/share/hts_voice/mei/mei_normal.htsvoice\n\necho \"$1\" | open_jtalk \\\n-x ${DIC} \\\n-m ${VOICE} \\\n-ow ${TMPFILE} && \\\n\naplay --quiet ${TMPFILE}\nrm -f ${TMPFILE}\n\nexit 0\n```\n\n#### \u30b7\u30a7\u30eb\n    $ jsay \u307d\u307d\u307d\u307d\u30fc\u3093\n\n#### PHP\n```php:/var/www/html/api/jsay.php\n<?php\nif(isset($_GET['q'])) {\n  $q = $_GET['q'];\n  $q = str_replace(\"'\", \"\\\"\", $q);\n  $q = mb_strimwidth($q, 0, 512, \" \u4ee5\u4e0b\u7701\u7565\");\n  header('Content-type: text/plain; charset=utf-8');\n  system(\"jsay '$q'\");\n}\n```\n", "tags": ["RaspberryPi", "raspbian", "UNIX", "Linux"]}