{"context": " More than 1 year has passed since last update.\n\n\u30b4\u30fc\u30eb\n\nconcrete5\u304c\u7121\u4e8b\u52d5\u304f\n\u6b21\u56de\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u81ea\u5206\u304c\u30b3\u30b1\u306a\u3044\n\n\n\u74b0\u5883\n\n\n\n\nVersion\n\n\n\n\nHost\nAzure\n\n\nOS\n14.04.1\n\n\nNginx\n1.4.6\n\n\nPHP\n5.5.9\n\n\nMariaDB\n5.5\n\n\n\nmariaDB\u3092\u4f7f\u3046\u306e\u306f\u5358\u306a\u308b\u8da3\u5473\u3067\u3059\u3002MySQL\u3067\u3082\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\n\u5fc5\u8981\u306a\u30b7\u30b9\u30c6\u30e0\u8981\u4ef6\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\nSystem Requirements\napache\u3092\u4f7f\u3046\u3053\u3068\u304c\u610f\u5916\u3068\u591a\u3044\u307f\u305f\u3044\u3067\u3059\u2026\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30b3\u30de\u30f3\u30c9\nsudo apt-get nginx php5 php5-fpm mariadb-server php5-mysql unzip php5-gd php5-curl\n\n\nphp5-curl\u306f\u3001\u30b3\u30df\u30e5\u30cb\u30c6\u30a4\u30fc\u306b\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306b\u5fc5\u8981\n\nSQL\u306b\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\n\nphpmyadmin\u3092\u4f7f\u7528\u3059\u308b\u65b9\u6cd5\u306f\u5272\u611b\u3057\u307e\u3059\u3002(\u7d50\u5c40\u3001\u3053\u306e3\u884c\u306e\u305f\u3081\u3060\u3051\u306b\u5165\u308c\u308b\u306e\u306f\u2026)\n\n\u4eca\u56de\u306fconcrete5\u3068\u3044\u3046\u30c6\u30fc\u30d6\u30eb\u3068concrete5 \u3068\u3044\u3046\u30e6\u30fc\u30b6\u30fc\u3067\u4f5c\u6210\n\n\u30b3\u30de\u30f3\u30c9\ncreate database concrete5 character set utf8;\ncreate user 'concrete5'@'localhost' identified by '\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u6c7a\u3081\u3066\u306d';\ngrant all privileges on concrete5 .* to 'concrete5'@'localhost';\n\n\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306f\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nwget\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u5834\u5408\u3001\u30ea\u30f3\u30af\u306e\u30a2\u30c9\u30ec\u30b9\u30b3\u30d4\u30fc\u3092\u4f7f\u3063\u3066\u305d\u306eURL\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3068index.html\u3068\u306a\u308a\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002zip\u3078\u30ea\u30cd\u30fc\u30e0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30ed\u30fc\u30ab\u30ebPC\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u89e3\u51cd\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306f\u500b\u4eba\u7684\u306b\u304a\u85a6\u3081\u3067\u304d\u307e\u305b\u3093\u3002\n\u7406\u7531\u3068\u3057\u3066\u306f\u5927\u91cf\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u3001\u8ee2\u9001\u306b\u5931\u6557\u3059\u308b\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u3067\u3059\u3002\n\u305b\u3081\u3066\u30b5\u30fc\u30d0\u5074\u3067\u89e3\u51cd\u3057\u307e\u3057\u3087\u3046\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5f8cconcrete5\u30d5\u30a9\u30eb\u30c0\u5185\u90e8\u306e\u4ee5\u4e0b\u306e3\u3064\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u5909\u66f4\n\n\u30b3\u30de\u30f3\u30c9\nchmod 777 packages\nchmod 777 application/config\nchmod 777 application/files\n\n\n\nnginx\u306e\u8a2d\u5b9a\nPoint:\n\u30cf\u30a4\u30b9\u30da\u30c3\u30af\u306a\u3089\u305d\u3053\u307e\u3067\u30b7\u30e5\u30fc\u30eb\u3067\u306f\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001upstream timed out\u304cerror.log\u306b\u3067\u308b\u3088\u3046\u306a\u3089\u3070\u3001\u201cfastcgi_read_timeout\u201d\u3092\u9577\u3081\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002(\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4f5c\u6210\u306b\u6642\u9593\u304c\u304b\u304b\u308b)\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u5f8c\u306b\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3042\u3052\u308c\u3070\u554f\u984c\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u3082\u3057\u304b\u3059\u308b\u3068\u521d\u56de\u6642\u306b\u201c\u7a7a\u306e\u30a6\u30a7\u30d6\u30b5\u30a4\u30c8\u201d\u3092\u9078\u629e\u3059\u308c\u3070\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u306f\u4e0d\u8981\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n/etc/nginx/sites-available/concrete5(\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642)\n\uff5e\u7565\uff5e\nfastcgi_read_timeout 1000;\nfastcgi_send_timeout 1000;\n\uff5e\u7565\uff5e\n\n\nYOUR_DOMAIN\u306f\u7a3c\u50cd\u3055\u305b\u308b\u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u540d\u306b\u66f8\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n/etc/nginx/sites-available/concrete5(\u904b\u7528\u6642)\nserver {\n        listen 80 default_server;\n\n        root /var/www/concrete5/;\n        index index.php index.html index.htm;\n\n        server_name YOUR_DOMAIN;\n\n        location / {\n\n                try_files $uri $uri/ /index.php?$args;\n\n                if (-f $request_filename) {\n                        expires 14d;\n                        break;\n                }\n\n                if ($uri ~ \"^(.+?\\.php?)(/.*)$\") {\n                        set $path_info $2;\n                }\n\n\n                if (!-e $request_filename) {\n                        rewrite / /index.php last;\n                }\n        }\n\n\n        location ~ \\.php$ {\n                include fastcgi_params;\n                fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n                fastcgi_pass unix:/var/run/php5-fpm.sock;\n                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                fastcgi_index index.php;\n                fastcgi_intercept_errors on;\n                fastcgi_ignore_client_abort off;\n                fastcgi_connect_timeout 60;\n                fastcgi_send_timeout 180;\n                fastcgi_read_timeout 180;\n                fastcgi_buffer_size 128k;\n                fastcgi_buffers 4 256k;\n                fastcgi_busy_buffers_size 256k;\n                fastcgi_temp_file_write_size 256k;\n                #\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u306b\u63a5\u7d9a\u3059\u308b\u5834\u5408\u5fc5\u8981\n                fastcgi_param PHP_VALUE \"allow_url_fopen=On\";\n\n        }\n\n}\n\n\n\n\n\u6700\u5f8c\u306b\n\n\u30c4\u30c3\u30b3\u30df\u304c\u3042\u308c\u3070\u3054\u6307\u6458\u304f\u3060\u3055\u3044\u3002\nWordpress\u95a2\u4fc2\u306eFTP\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3067\u5931\u6557\u3059\u308b\u5834\u5408\u3082\u201cfastcgi_read_timeout\u201d\u3042\u305f\u308a\u304c\u6709\u52b9\u3067\u3059\u3002\nNginx + php5-fpm\u3042\u305f\u308a\u306f\u8a2d\u5b9a\u3092\u3057\u3063\u304b\u308a\u3057\u306a\u3044\u3068\u610f\u56f3\u3057\u305f\u52d5\u4f5c\u306b\u306a\u3089\u306a\u3044\u3002(\u3053\u306e\u3078\u3093apache\u306f\u5438\u53ce\u3057\u3066\u304f\u308c\u3066\u3044\u308b\u306e\u304b\u306a)\n\u52d5\u3044\u3066\u3057\u307e\u3048\u3070\u3042\u3068\u306f\u30b5\u30af\u30b5\u30af\u8efd\u3044\u3082\u306e\u3067\u3059\u3002\n\n\n\u53c2\u8003\ncontext-concrete5\n# \u30b4\u30fc\u30eb\n* concrete5\u304c\u7121\u4e8b\u52d5\u304f\n* \u6b21\u56de\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u81ea\u5206\u304c\u30b3\u30b1\u306a\u3044\n\n# \u74b0\u5883\n| | Version |\n|----------|---------|\n|Host| Azure|\n|OS | 14.04.1 |\n|Nginx| 1.4.6 |\n|PHP| 5.5.9 |\n|MariaDB|5.5|\n\nmariaDB\u3092\u4f7f\u3046\u306e\u306f\u5358\u306a\u308b\u8da3\u5473\u3067\u3059\u3002MySQL\u3067\u3082\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\n\n**\u5fc5\u8981\u306a\u30b7\u30b9\u30c6\u30e0\u8981\u4ef6\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002**\n[**System Requirements**](http://documentation.concrete5.org/developers/installation/system-requirements)\n*apache\u3092\u4f7f\u3046\u3053\u3068\u304c\u610f\u5916\u3068\u591a\u3044\u307f\u305f\u3044\u3067\u3059\u2026*\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash:\u30b3\u30de\u30f3\u30c9\nsudo apt-get nginx php5 php5-fpm mariadb-server php5-mysql unzip php5-gd php5-curl\n```\nphp5-curl\u306f\u3001\u30b3\u30df\u30e5\u30cb\u30c6\u30a4\u30fc\u306b\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306b\u5fc5\u8981\n\n## SQL\u306b\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\n* phpmyadmin\u3092\u4f7f\u7528\u3059\u308b\u65b9\u6cd5\u306f\u5272\u611b\u3057\u307e\u3059\u3002(\u7d50\u5c40\u3001\u3053\u306e3\u884c\u306e\u305f\u3081\u3060\u3051\u306b\u5165\u308c\u308b\u306e\u306f\u2026)\n\n**\u4eca\u56de\u306fconcrete5\u3068\u3044\u3046\u30c6\u30fc\u30d6\u30eb\u3068concrete5 \u3068\u3044\u3046\u30e6\u30fc\u30b6\u30fc\u3067\u4f5c\u6210**\n\n```bash:\u30b3\u30de\u30f3\u30c9\ncreate database concrete5 character set utf8;\ncreate user 'concrete5'@'localhost' identified by '\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u6c7a\u3081\u3066\u306d';\ngrant all privileges on concrete5 .* to 'concrete5'@'localhost';\n```\n\n##\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306f[\u516c\u5f0f\u30b5\u30a4\u30c8](http://concrete5-japan.org/)\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nwget\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u5834\u5408\u3001\u30ea\u30f3\u30af\u306e\u30a2\u30c9\u30ec\u30b9\u30b3\u30d4\u30fc\u3092\u4f7f\u3063\u3066\u305d\u306eURL\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3068index.html\u3068\u306a\u308a\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002**zip\u3078\u30ea\u30cd\u30fc\u30e0\u3057\u3066\u304f\u3060\u3055\u3044\u3002**\n\n*\u30ed\u30fc\u30ab\u30ebPC\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u89e3\u51cd\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306f\u500b\u4eba\u7684\u306b\u304a\u85a6\u3081\u3067\u304d\u307e\u305b\u3093\u3002*\n*\u7406\u7531\u3068\u3057\u3066\u306f\u5927\u91cf\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u3001\u8ee2\u9001\u306b\u5931\u6557\u3059\u308b\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u3067\u3059\u3002*\n*\u305b\u3081\u3066\u30b5\u30fc\u30d0\u5074\u3067\u89e3\u51cd\u3057\u307e\u3057\u3087\u3046\u3002*\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5f8cconcrete5\u30d5\u30a9\u30eb\u30c0\u5185\u90e8\u306e\u4ee5\u4e0b\u306e3\u3064\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u5909\u66f4\n\n```bash:\u30b3\u30de\u30f3\u30c9\nchmod 777 packages\nchmod 777 application/config\nchmod 777 application/files\n```\n\n### nginx\u306e\u8a2d\u5b9a\nPoint:\n\u30cf\u30a4\u30b9\u30da\u30c3\u30af\u306a\u3089\u305d\u3053\u307e\u3067\u30b7\u30e5\u30fc\u30eb\u3067\u306f\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001upstream timed out\u304cerror.log\u306b\u3067\u308b\u3088\u3046\u306a\u3089\u3070\u3001\u201cfastcgi_read_timeout\u201d\u3092\u9577\u3081\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002(\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4f5c\u6210\u306b\u6642\u9593\u304c\u304b\u304b\u308b)\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u5f8c\u306b\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3042\u3052\u308c\u3070\u554f\u984c\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u3082\u3057\u304b\u3059\u308b\u3068\u521d\u56de\u6642\u306b\u201c\u7a7a\u306e\u30a6\u30a7\u30d6\u30b5\u30a4\u30c8\u201d\u3092\u9078\u629e\u3059\u308c\u3070\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u306f\u4e0d\u8981\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n```conf:/etc/nginx/sites-available/concrete5(\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642)\n\uff5e\u7565\uff5e\nfastcgi_read_timeout 1000;\nfastcgi_send_timeout 1000;\n\uff5e\u7565\uff5e\n```\nYOUR_DOMAIN\u306f\u7a3c\u50cd\u3055\u305b\u308b\u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u540d\u306b\u66f8\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n```conf:/etc/nginx/sites-available/concrete5(\u904b\u7528\u6642)\nserver {\n        listen 80 default_server;\n\n        root /var/www/concrete5/;\n        index index.php index.html index.htm;\n\n        server_name YOUR_DOMAIN;\n\n        location / {\n\n                try_files $uri $uri/ /index.php?$args;\n\n                if (-f $request_filename) {\n                        expires 14d;\n                        break;\n                }\n\n                if ($uri ~ \"^(.+?\\.php?)(/.*)$\") {\n                        set $path_info $2;\n                }\n\n\n                if (!-e $request_filename) {\n                        rewrite / /index.php last;\n                }\n        }\n\n\n        location ~ \\.php$ {\n                include fastcgi_params;\n                fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n                fastcgi_pass unix:/var/run/php5-fpm.sock;\n                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                fastcgi_index index.php;\n                fastcgi_intercept_errors on;\n                fastcgi_ignore_client_abort off;\n                fastcgi_connect_timeout 60;\n                fastcgi_send_timeout 180;\n                fastcgi_read_timeout 180;\n                fastcgi_buffer_size 128k;\n                fastcgi_buffers 4 256k;\n                fastcgi_busy_buffers_size 256k;\n                fastcgi_temp_file_write_size 256k;\n                #\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u306b\u63a5\u7d9a\u3059\u308b\u5834\u5408\u5fc5\u8981\n                fastcgi_param PHP_VALUE \"allow_url_fopen=On\";\n\n        }\n\n}\n\n```\n\n# \u6700\u5f8c\u306b\n* \u30c4\u30c3\u30b3\u30df\u304c\u3042\u308c\u3070\u3054\u6307\u6458\u304f\u3060\u3055\u3044\u3002\n* Wordpress\u95a2\u4fc2\u306eFTP\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3067\u5931\u6557\u3059\u308b\u5834\u5408\u3082\u201cfastcgi_read_timeout\u201d\u3042\u305f\u308a\u304c\u6709\u52b9\u3067\u3059\u3002\n* Nginx + php5-fpm\u3042\u305f\u308a\u306f\u8a2d\u5b9a\u3092\u3057\u3063\u304b\u308a\u3057\u306a\u3044\u3068\u610f\u56f3\u3057\u305f\u52d5\u4f5c\u306b\u306a\u3089\u306a\u3044\u3002(\u3053\u306e\u3078\u3093apache\u306f\u5438\u53ce\u3057\u3066\u304f\u308c\u3066\u3044\u308b\u306e\u304b\u306a)\n* \u52d5\u3044\u3066\u3057\u307e\u3048\u3070\u3042\u3068\u306f\u30b5\u30af\u30b5\u30af\u8efd\u3044\u3082\u306e\u3067\u3059\u3002\n\n#\u53c2\u8003\n[context-concrete5](https://github.com/concrete5japan/context-concrete5/blob/master/contexts/krm/nginx.conf)\n", "tags": ["concrete5"]}