{"context": " More than 1 year has passed since last update.\u3068\u3044\u3046\u5185\u5bb9\u3067\u66f8\u3053\u3046\u3068\u601d\u3063\u305f\u3068\u3053\u308d\u30fb\u30fb\u30fb\u65e2\u306b\u6295\u7a3f\u3055\u308c\u3066\u3044\u308b\u65b9\u304c\u304a\u3089\u308c\u307e\u3057\u305f\u3002\n\u3068\u3066\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\u79c1\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306bPostgreSQL\u3092\u4f7f\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n2014/11/13 \u8ffd\u8a18\n\u753b\u50cf\u3092S3\u306b\u4fdd\u5b58\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\u5bfe\u8c61\nLodge v0.10.1\n\u30b5\u30f3\u30d7\u30eb\nhttps://github.com/usutani/lodge_heroku_button/tree/heroku_button\n\n\u53c2\u7167\n\nLodge\u3092heroku\u3067\u52d5\u304b\u3059(\u3064\u3044\u3067\u306bheroku button)\nRails+Carrierwave+fog+Heroku+S3\u3067\u30cf\u30de\u3063\u305f\u30e1\u30e2\n\n\n\u5909\u66f4\u7b87\u6240\n.gitignore\nGemfile\nGemfile.lock\nREADME.md\napp.json\nconfig/environments/production.rb\nconfig/initializers/carrierwave.rb \napp/uploaders/image_uploader.rb\n\n.gitignore\n\u4e0b\u8a18\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3057\u307e\u3059\uff08\u7248\u7ba1\u7406\u306e\u5bfe\u8c61\u306b\u3057\u307e\u3059\uff09\u3002\n\nGemfile.lock\n\ndiff --git a/.gitignore b/.gitignore\nindex fd5054d..83f9f29 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -25,7 +25,6 @@\n\n /config/database.yml\n\n-/Gemfile.lock\n /vendor/bundle\n lodge_development\n lodge_test\n\n\nGemfile\nproduction \u74b0\u5883\u3067\u3001\u4e0b\u8a18\u306e gem \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\npg\nrails_12factor\n\ndiff --git a/Gemfile b/Gemfile\nindex 8d66364..e1557a9 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -92,30 +92,10 @@ group :test do\n   gem 'launchy'\n end\n\n-# Include database gems for the adapters found in the database\n-# configuration file\n-require 'erb'\n-require 'yaml'\n-database_file = File.join(File.dirname(__FILE__), \"config/database.yml\")\n-if File.exist?(database_file)\n-  database_config = YAML::load(ERB.new(IO.read(database_file)).result)\n-  adapters = database_config.values.map {|c| c['adapter']}.compact.uniq\n-  if adapters.any?\n-    adapters.each do |adapter|\n-      case adapter\n-      when 'mysql2'\n-        gem \"mysql2\", '~> 0.3'\n-      when /postgresql/\n-        gem \"pg\", '~> 0.17'\n-      when /sqlite3/\n-        gem \"sqlite3\", '~> 1.3'\n-      else\n-        warn(\"Unknown database adapter `#{adapter}` found in config/database.yml\")\n-      end\n-    end\n-  else\n-    warn(\"No adapter found in config/database.yml, please configure it first\")\n-  end\n-else\n-  warn(\"Please configure your config/database.yml first\")\n+group :development do\n+  gem 'sqlite3'\n+end\n+group :production do\n+  gem 'pg'\n+  gem 'rails_12factor'\n end\n\n\nGemfile\n.\n.\n.\ngroup :development do\n  gem 'sqlite3'\nend\ngroup :production do\n  gem 'pg'\n  gem 'rails_12factor'\nend\n\n\n\nGemfile.lock\nbundle install \u3057\u3066\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nREADME.md\nHeroku\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n[![Deploy](https://www.herokucdn.com/deploy/button.png)](https://heroku.com/deploy)\n\n\napp.json\napp.json \u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\napp.json\n{\n  \"addons\": [\n    \"heroku-postgresql\",\n    \"sendgrid\"\n  ],\n  \"env\" : {\n    \"LODGE_DOMAIN\"              : \"example.com\",\n    \"SECRET_KEY_BASE\"           : \"__some_random_string__\",\n    \"DEVISE_SECRET_KEY\"         : \"__some_random_string__\",\n    \"GOOGLE_CLIENT_ID\"          : \"FILL_THE_CLIENT_ID\",\n    \"GOOGLE_CLIENT_SECRET\"      : \"FILL_THE_CLIENT_SECRET\",\n    \"DELIVERY_METHOD\"           : \"smtp\",\n    \"MAIL_SENDER\"               : \"lodge@example.com\",\n    \"SMTP_PORT\"                 : \"587\",\n    \"SMTP_AUTH_METHOD\"          : \"plain\",\n    \"SMTP_ENABLE_STARTTLS_AUTO\" : \"true\",\n    \"LODGE_THEME\"               : \"lodge\"\n  },\n  \"scripts\": {\n    \"postdeploy\": \"bundle exec rake db:migrate\"\n  }\n}\n\n\n\nconfig/environments/production.rb\n1. config.action_mailer.smtp_settings\u306e\u9805\u76ee\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\naddress\nuser_name\npassword\n\ndiff --git a/config/environments/production.rb b/config/environments/production.rb\nindex 7aa2d7b..eaa333a 100644\n--- a/config/environments/production.rb\n+++ b/config/environments/production.rb\n@@ -93,11 +93,11 @@ Rails.application.configure do\n   # SMTP\u306e\u6307\u5b9a\n   config.action_mailer.delivery_method = ENV[\"DELIVERY_METHOD\"].to_sym\n   config.action_mailer.smtp_settings = {\n-    :address              => ENV[\"SMTP_ADDRESS\"],\n+    :address              => 'smtp.sendgrid.net',\n     :port                 => ENV[\"SMTP_PORT\"],\n     :domain               => ENV[\"LODGE_DOMAIN\"],\n-    :user_name            => ENV[\"SMTP_USERNAME\"],\n-    :password             => ENV[\"SMTP_PASSWORD\"],\n+    :user_name            => ENV[\"SENDGRID_USERNAME\"],\n+    :password             => ENV[\"SENDGRID_PASSWORD\"],\n     :authentication       => ENV[\"SMTP_AUTH_METHOD\"].to_sym,\n     :enable_starttls_auto => ENV[\"SMTP_ENABLE_STARTTLS_AUTO\"],\n   }\n\n\nproduction.rb\n.\n.\n.\n  config.action_mailer.smtp_settings = {\n    :address              => 'smtp.sendgrid.net',\n    :port                 => ENV[\"SMTP_PORT\"],\n    :domain               => ENV[\"LODGE_DOMAIN\"],\n    :user_name            => ENV[\"SENDGRID_USERNAME\"],\n    :password             => ENV[\"SENDGRID_PASSWORD\"],\n    :authentication       => ENV[\"SMTP_AUTH_METHOD\"].to_sym,\n    :enable_starttls_auto => ENV[\"SMTP_ENABLE_STARTTLS_AUTO\"],\n  }\nend\n\n\n2. config.force_ssl\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\uff08\u5fc5\u8981\u306a\u3089\uff09\n\nproduction.rb\ndiff --git a/config/environments/production.rb b/config/environments/production.rb\nindex eaa333a..9e971b1 100644\n--- a/config/environments/production.rb\n+++ b/config/environments/production.rb\n@@ -43,7 +43,7 @@ Rails.application.configure do\n   # config.action_dispatch.x_sendfile_header = 'X-Accel-Redirect' # for nginx\n\n   # Force all access to the app over SSL, use Strict-Transport-Security, and use secure cookies.\n-  # config.force_ssl = true\n+  config.force_ssl = true\n\n   # Set to :debug to see everything in the log.\n   config.log_level = :info\n\n\n\n\n\u753b\u50cf\u3092S3\u306b\u4fdd\u5b58\nS3\u306e\u7279\u5b9a\u30d0\u30b1\u30c3\u30c8\u3060\u3051\u3092\"AWS Console\u3092\u4f7f\u3063\u3066\"\u64cd\u4f5c\u3067\u304d\u308bIAM\u30e6\u30fc\u30b6\u3092\u4f5c\u308b\n\u306a\u3069\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3082\u3089\u3044\u3001S3\u3092\u5229\u7528\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002\n\nGemfile\nGemfile \u306b fog \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\ndiff --git a/Gemfile b/Gemfile\nindex 8d66364..b11cd50 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -62,6 +62,7 @@ gem 'compass-rails', '~> 2.0'\n #gem 'whenever', :require => false\n gem 'omniauth-google-oauth2', '~> 0.2'\n gem 'carrierwave', '~> 0.10'\n+gem 'fog'\n gem 'jquery-fileupload-rails', '~> 0.4'\n\n group :development do\n\n\nGemfile.lock\nbundle install \u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u30fb\u30b3\u30df\u30c3\u30c8\u3057\u307e\u3059\u3002\n\nconfig/initializers/carrierwave.rb\n\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u30b3\u30df\u30c3\u30c8\u3057\u307e\u3059\u3002\n\ncarrierwave.rb\nCarrierWave.configure do |config|\n  config.fog_credentials = {\n    :provider               => 'AWS',\n    :aws_access_key_id      => ENV['AWS_ACCESS_KEY'],\n    :aws_secret_access_key  => ENV['AWS_SECRET_KEY'],\n    :region                 => ENV['AWS_REGION']\n  }\n  config.fog_directory  = ENV['S3_BUCKET_NAME']\nend\n\n\n\napp/uploaders/image_uploader.rb\nfile \u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3001fog \u3092\u4f7f\u3044\u307e\u3059\u3002\ndiff --git a/app/uploaders/image_uploader.rb b/app/uploaders/image_uploader.rb\nindex 2425faa..621956c 100644\n--- a/app/uploaders/image_uploader.rb\n+++ b/app/uploaders/image_uploader.rb\n@@ -7,8 +7,8 @@ class ImageUploader < CarrierWave::Uploader::Base\n   # include CarrierWave::MiniMagick\n\n   # Choose what kind of storage to use for this uploader:\n-  storage :file\n-  # storage :fog\n+  # storage :file\n+  storage :fog\n\n   # Override the directory where uploaded files will be stored.\n   # This is a sensible default for uploaders that are meant to be mounted:\n\n\napp.json\nS3\u30a2\u30af\u30bb\u30b9\u7528\u306e\u74b0\u5883\u5909\u6570\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\ndiff --git a/app.json b/app.json\nindex 5f631e5..a1e86b7 100644\n--- a/app.json\n+++ b/app.json\n@@ -14,7 +14,11 @@\n     \"SMTP_PORT\"                 : \"587\",\n     \"SMTP_AUTH_METHOD\"          : \"plain\",\n     \"SMTP_ENABLE_STARTTLS_AUTO\" : \"true\",\n-    \"LODGE_THEME\"               : \"lodge\"\n+    \"LODGE_THEME\"               : \"lodge\",\n+    \"AWS_ACCESS_KEY\"            : \"\",\n+    \"AWS_SECRET_KEY\"            : \"\",\n+    \"AWS_REGION\"                : \"ap-northeast-1\",\n+    \"S3_BUCKET_NAME\"            : \"\"\n   },\n   \"scripts\": {\n     \"postdeploy\": \"bundle exec rake db:migrate\"\n\n\napp.json\n.\n.\n.\n    \"LODGE_THEME\"               : \"lodge\",\n    \"AWS_ACCESS_KEY\"            : \"\",\n    \"AWS_SECRET_KEY\"            : \"\",\n    \"AWS_REGION\"                : \"ap-northeast-1\",\n    \"S3_BUCKET_NAME\"            : \"\"\n\n\n\n\u3068\u3044\u3046\u5185\u5bb9\u3067\u66f8\u3053\u3046\u3068\u601d\u3063\u305f\u3068\u3053\u308d\u30fb\u30fb\u30fb\u65e2\u306b\u6295\u7a3f\u3055\u308c\u3066\u3044\u308b\u65b9\u304c\u304a\u3089\u308c\u307e\u3057\u305f\u3002\n\u3068\u3066\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\u79c1\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306bPostgreSQL\u3092\u4f7f\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n2014/11/13 \u8ffd\u8a18\n\u753b\u50cf\u3092S3\u306b\u4fdd\u5b58\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\n**\u5bfe\u8c61**\n\nLodge v0.10.1\n\n**\u30b5\u30f3\u30d7\u30eb**\n\nhttps://github.com/usutani/lodge_heroku_button/tree/heroku_button\n\n[![Deploy](https://www.herokucdn.com/deploy/button.png)](https://heroku.com/deploy?template=https://github.com/usutani/lodge_heroku_button/tree/heroku_button)\n\n**\u53c2\u7167**\n\n- [Lodge\u3092heroku\u3067\u52d5\u304b\u3059(\u3064\u3044\u3067\u306bheroku button)](http://qiita.com/hoshino/items/e058339f1399baab87b0)\n- [Rails+Carrierwave+fog+Heroku+S3\u3067\u30cf\u30de\u3063\u305f\u30e1\u30e2](http://qiita.com/kimihito_/items/3ff9c0c4407447ee3ab3)\n\n# \u5909\u66f4\u7b87\u6240\n\n.gitignore\nGemfile\nGemfile.lock\nREADME.md\napp.json\nconfig/environments/production.rb\n\nconfig/initializers/carrierwave.rb \napp/uploaders/image_uploader.rb\n\n## .gitignore\n\n\u4e0b\u8a18\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3057\u307e\u3059\uff08\u7248\u7ba1\u7406\u306e\u5bfe\u8c61\u306b\u3057\u307e\u3059\uff09\u3002\n\n- Gemfile.lock\n\n```diff\ndiff --git a/.gitignore b/.gitignore\nindex fd5054d..83f9f29 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -25,7 +25,6 @@\n \n /config/database.yml\n \n-/Gemfile.lock\n /vendor/bundle\n lodge_development\n lodge_test\n```\n\n## Gemfile\n\nproduction \u74b0\u5883\u3067\u3001\u4e0b\u8a18\u306e gem \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n- pg\n- rails_12factor\n\n```diff\ndiff --git a/Gemfile b/Gemfile\nindex 8d66364..e1557a9 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -92,30 +92,10 @@ group :test do\n   gem 'launchy'\n end\n \n-# Include database gems for the adapters found in the database\n-# configuration file\n-require 'erb'\n-require 'yaml'\n-database_file = File.join(File.dirname(__FILE__), \"config/database.yml\")\n-if File.exist?(database_file)\n-  database_config = YAML::load(ERB.new(IO.read(database_file)).result)\n-  adapters = database_config.values.map {|c| c['adapter']}.compact.uniq\n-  if adapters.any?\n-    adapters.each do |adapter|\n-      case adapter\n-      when 'mysql2'\n-        gem \"mysql2\", '~> 0.3'\n-      when /postgresql/\n-        gem \"pg\", '~> 0.17'\n-      when /sqlite3/\n-        gem \"sqlite3\", '~> 1.3'\n-      else\n-        warn(\"Unknown database adapter `#{adapter}` found in config/database.yml\")\n-      end\n-    end\n-  else\n-    warn(\"No adapter found in config/database.yml, please configure it first\")\n-  end\n-else\n-  warn(\"Please configure your config/database.yml first\")\n+group :development do\n+  gem 'sqlite3'\n+end\n+group :production do\n+  gem 'pg'\n+  gem 'rails_12factor'\n end\n```\n\n```ruby:Gemfile\n.\n.\n.\ngroup :development do\n  gem 'sqlite3'\nend\ngroup :production do\n  gem 'pg'\n  gem 'rails_12factor'\nend\n```\n\n## Gemfile.lock\n\n```bundle install``` \u3057\u3066\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n## README.md\n\nHeroku\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```\n[![Deploy](https://www.herokucdn.com/deploy/button.png)](https://heroku.com/deploy)\n```\n\n## app.json\n\napp.json \u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```json:app.json\n{\n  \"addons\": [\n    \"heroku-postgresql\",\n    \"sendgrid\"\n  ],\n  \"env\" : {\n    \"LODGE_DOMAIN\"              : \"example.com\",\n    \"SECRET_KEY_BASE\"           : \"__some_random_string__\",\n    \"DEVISE_SECRET_KEY\"         : \"__some_random_string__\",\n    \"GOOGLE_CLIENT_ID\"          : \"FILL_THE_CLIENT_ID\",\n    \"GOOGLE_CLIENT_SECRET\"      : \"FILL_THE_CLIENT_SECRET\",\n    \"DELIVERY_METHOD\"           : \"smtp\",\n    \"MAIL_SENDER\"               : \"lodge@example.com\",\n    \"SMTP_PORT\"                 : \"587\",\n    \"SMTP_AUTH_METHOD\"          : \"plain\",\n    \"SMTP_ENABLE_STARTTLS_AUTO\" : \"true\",\n    \"LODGE_THEME\"               : \"lodge\"\n  },\n  \"scripts\": {\n    \"postdeploy\": \"bundle exec rake db:migrate\"\n  }\n}\n```\n\n## config/environments/production.rb\n\n**1. config.action_mailer.smtp_settings\u306e\u9805\u76ee\u3092\u5909\u66f4\u3057\u307e\u3059\u3002**\n\n- address\n- user_name\n- password\n\n```diff\ndiff --git a/config/environments/production.rb b/config/environments/production.rb\nindex 7aa2d7b..eaa333a 100644\n--- a/config/environments/production.rb\n+++ b/config/environments/production.rb\n@@ -93,11 +93,11 @@ Rails.application.configure do\n   # SMTP\u306e\u6307\u5b9a\n   config.action_mailer.delivery_method = ENV[\"DELIVERY_METHOD\"].to_sym\n   config.action_mailer.smtp_settings = {\n-    :address              => ENV[\"SMTP_ADDRESS\"],\n+    :address              => 'smtp.sendgrid.net',\n     :port                 => ENV[\"SMTP_PORT\"],\n     :domain               => ENV[\"LODGE_DOMAIN\"],\n-    :user_name            => ENV[\"SMTP_USERNAME\"],\n-    :password             => ENV[\"SMTP_PASSWORD\"],\n+    :user_name            => ENV[\"SENDGRID_USERNAME\"],\n+    :password             => ENV[\"SENDGRID_PASSWORD\"],\n     :authentication       => ENV[\"SMTP_AUTH_METHOD\"].to_sym,\n     :enable_starttls_auto => ENV[\"SMTP_ENABLE_STARTTLS_AUTO\"],\n   }\n```\n\n```ruby:production.rb\n.\n.\n.\n  config.action_mailer.smtp_settings = {\n    :address              => 'smtp.sendgrid.net',\n    :port                 => ENV[\"SMTP_PORT\"],\n    :domain               => ENV[\"LODGE_DOMAIN\"],\n    :user_name            => ENV[\"SENDGRID_USERNAME\"],\n    :password             => ENV[\"SENDGRID_PASSWORD\"],\n    :authentication       => ENV[\"SMTP_AUTH_METHOD\"].to_sym,\n    :enable_starttls_auto => ENV[\"SMTP_ENABLE_STARTTLS_AUTO\"],\n  }\nend\n```\n\n**2. config.force_ssl\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\uff08\u5fc5\u8981\u306a\u3089\uff09**\n\n```diff:production.rb\ndiff --git a/config/environments/production.rb b/config/environments/production.rb\nindex eaa333a..9e971b1 100644\n--- a/config/environments/production.rb\n+++ b/config/environments/production.rb\n@@ -43,7 +43,7 @@ Rails.application.configure do\n   # config.action_dispatch.x_sendfile_header = 'X-Accel-Redirect' # for nginx\n \n   # Force all access to the app over SSL, use Strict-Transport-Security, and use secure cookies.\n-  # config.force_ssl = true\n+  config.force_ssl = true\n \n   # Set to :debug to see everything in the log.\n   config.log_level = :info\n\n```\n\n# \u753b\u50cf\u3092S3\u306b\u4fdd\u5b58\n\n[S3\u306e\u7279\u5b9a\u30d0\u30b1\u30c3\u30c8\u3060\u3051\u3092\"AWS Console\u3092\u4f7f\u3063\u3066\"\u64cd\u4f5c\u3067\u304d\u308bIAM\u30e6\u30fc\u30b6\u3092\u4f5c\u308b](http://qiita.com/kawaz/items/481a5af428c97ef55b14)\n\u306a\u3069\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3082\u3089\u3044\u3001S3\u3092\u5229\u7528\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002\n\n## Gemfile\n\nGemfile \u306b [fog](http://fog.io) \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```diff\ndiff --git a/Gemfile b/Gemfile\nindex 8d66364..b11cd50 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -62,6 +62,7 @@ gem 'compass-rails', '~> 2.0'\n #gem 'whenever', :require => false\n gem 'omniauth-google-oauth2', '~> 0.2'\n gem 'carrierwave', '~> 0.10'\n+gem 'fog'\n gem 'jquery-fileupload-rails', '~> 0.4'\n \n group :development do\n```\n\n## Gemfile.lock\n\n```bundle install``` \u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u30fb\u30b3\u30df\u30c3\u30c8\u3057\u307e\u3059\u3002\n\n## config/initializers/carrierwave.rb\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u30b3\u30df\u30c3\u30c8\u3057\u307e\u3059\u3002\n\n```carrierwave.rb\nCarrierWave.configure do |config|\n  config.fog_credentials = {\n    :provider               => 'AWS',\n    :aws_access_key_id      => ENV['AWS_ACCESS_KEY'],\n    :aws_secret_access_key  => ENV['AWS_SECRET_KEY'],\n    :region                 => ENV['AWS_REGION']\n  }\n  config.fog_directory  = ENV['S3_BUCKET_NAME']\nend\n```\n\n## app/uploaders/image_uploader.rb\n\nfile \u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3001fog \u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```diff\ndiff --git a/app/uploaders/image_uploader.rb b/app/uploaders/image_uploader.rb\nindex 2425faa..621956c 100644\n--- a/app/uploaders/image_uploader.rb\n+++ b/app/uploaders/image_uploader.rb\n@@ -7,8 +7,8 @@ class ImageUploader < CarrierWave::Uploader::Base\n   # include CarrierWave::MiniMagick\n \n   # Choose what kind of storage to use for this uploader:\n-  storage :file\n-  # storage :fog\n+  # storage :file\n+  storage :fog\n \n   # Override the directory where uploaded files will be stored.\n   # This is a sensible default for uploaders that are meant to be mounted:\n```\n\n## app.json\n\nS3\u30a2\u30af\u30bb\u30b9\u7528\u306e\u74b0\u5883\u5909\u6570\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```diff\ndiff --git a/app.json b/app.json\nindex 5f631e5..a1e86b7 100644\n--- a/app.json\n+++ b/app.json\n@@ -14,7 +14,11 @@\n     \"SMTP_PORT\"                 : \"587\",\n     \"SMTP_AUTH_METHOD\"          : \"plain\",\n     \"SMTP_ENABLE_STARTTLS_AUTO\" : \"true\",\n-    \"LODGE_THEME\"               : \"lodge\"\n+    \"LODGE_THEME\"               : \"lodge\",\n+    \"AWS_ACCESS_KEY\"            : \"\",\n+    \"AWS_SECRET_KEY\"            : \"\",\n+    \"AWS_REGION\"                : \"ap-northeast-1\",\n+    \"S3_BUCKET_NAME\"            : \"\"\n   },\n   \"scripts\": {\n     \"postdeploy\": \"bundle exec rake db:migrate\"\n```\n\n```bash:app.json\n.\n.\n.\n    \"LODGE_THEME\"               : \"lodge\",\n    \"AWS_ACCESS_KEY\"            : \"\",\n    \"AWS_SECRET_KEY\"            : \"\",\n    \"AWS_REGION\"                : \"ap-northeast-1\",\n    \"S3_BUCKET_NAME\"            : \"\"\n```\n", "tags": ["Rails", "Heroku", "S3"]}