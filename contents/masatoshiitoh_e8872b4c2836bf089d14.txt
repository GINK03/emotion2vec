{"context": " More than 1 year has passed since last update.Thrift\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u3067RPC\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3067\u304d\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001C++\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u51fa\u3057\u305f\u30a8\u30e9\u30fc\u3067\u3059\u3002\nThrift: Wed Nov  4 14:31:30 2015 TSocket::open() connect() <Host: localhost Port: 9955>Connection refused\n\n\u767a\u751f\u3057\u305f\u306e\u306f\u3001C++\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3001Erlang/OTP\u306e\u30b5\u30fc\u30d0\u30fc\u3001\u3068\u3044\u3046\u69cb\u6210\u3067\u66f8\u3044\u3066\u3044\u308b\u3068\u304d\u3067\u3057\u305f\u3002\n\u539f\u56e0\u306f\u3001Erlang/OTP\u5074\u304cIPv4\u3067\u5f85\u3061\u53d7\u3051\u3066\u3044\u308b\u3068\u3053\u308d\u306b\u3001C++\u5074\u304cIPv6\u3067\u63a5\u7d9a\u3057\u3088\u3046\u3068\u3057\u305f\u3001\u3068\u3044\u3046\u3053\u3068\u306e\u3088\u3046\u3067\u3059\u3002\u521d\u671f\u5316\u90e8\u5206\u3067\u3001TSocket\u3092localhost\u3067\u306f\u306a\u304f\"127.0.0.1\"\u306e\u3088\u3046\u306aIPv4\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u8a18\u306b\u5909\u66f4\u3057\u305f\u3068\u3053\u308d\u3001\u7121\u4e8b\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u4fee\u6b63\u524d:\n    boost::shared_ptr<TTransport> socket(new TSocket(\"localhost\", 9955));\n    boost::shared_ptr<TTransport> transport(new TBufferedTransport(socket));\n    boost::shared_ptr<TProtocol> protocol(new TBinaryProtocol(transport));\n    HogeClient client(protocol);\n\n\n\u4fee\u6b63\u5f8c: (localhost\u304b\u3089127.0.0.1\u306b\u5909\u66f4)\n    boost::shared_ptr<TTransport> socket(new TSocket(\"127.0.0.1\", 9955));\n    boost::shared_ptr<TTransport> transport(new TBufferedTransport(socket));\n    boost::shared_ptr<TProtocol> protocol(new TBinaryProtocol(transport));\n    HogeClient client(protocol);\n\n\nErlang/OTP\u5074\u3082\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u30d0\u30a4\u30f3\u30c9\u5148\u30a2\u30c9\u30ec\u30b9\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u300c{ip, \"127.0.0.1\"}\u300d\u306e\u30bf\u30d7\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u6307\u5b9a\u3057\u3066\u304a\u304f\u3068\u3088\u3055\u305d\u3046\u3067\u3059\u3002\nErlang/OTP\u30b5\u30fc\u30d0\u30fc\u5074\u30b3\u30fc\u30c9\u306e\u4fee\u6b63\u4f8b:\nstart(Port) ->\n    Handler   = ?MODULE,\n    thrift_socket_server:start([{handler, Handler},\n                                {service, hoge_thrift},\n                                {ip, \"127.0.0.1\"},\n                                {port, Port},\n                                {name, hoge_server}]).\n\n\n\u74b0\u5883:\nUbuntu 14.04, g++ 4.9.2, Erlang/OTP R16B03, Thrift 0.9.3\nThrift\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u3067RPC\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3067\u304d\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001C++\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u51fa\u3057\u305f\u30a8\u30e9\u30fc\u3067\u3059\u3002\n\n```\nThrift: Wed Nov  4 14:31:30 2015 TSocket::open() connect() <Host: localhost Port: 9955>Connection refused\n```\n\n\u767a\u751f\u3057\u305f\u306e\u306f\u3001C++\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3001Erlang/OTP\u306e\u30b5\u30fc\u30d0\u30fc\u3001\u3068\u3044\u3046\u69cb\u6210\u3067\u66f8\u3044\u3066\u3044\u308b\u3068\u304d\u3067\u3057\u305f\u3002\n\n\u539f\u56e0\u306f\u3001Erlang/OTP\u5074\u304cIPv4\u3067\u5f85\u3061\u53d7\u3051\u3066\u3044\u308b\u3068\u3053\u308d\u306b\u3001C++\u5074\u304cIPv6\u3067\u63a5\u7d9a\u3057\u3088\u3046\u3068\u3057\u305f\u3001\u3068\u3044\u3046\u3053\u3068\u306e\u3088\u3046\u3067\u3059\u3002\u521d\u671f\u5316\u90e8\u5206\u3067\u3001TSocket\u3092localhost\u3067\u306f\u306a\u304f\"127.0.0.1\"\u306e\u3088\u3046\u306aIPv4\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u8a18\u306b\u5909\u66f4\u3057\u305f\u3068\u3053\u308d\u3001\u7121\u4e8b\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u4fee\u6b63\u524d:\n\n```\n    boost::shared_ptr<TTransport> socket(new TSocket(\"localhost\", 9955));\n    boost::shared_ptr<TTransport> transport(new TBufferedTransport(socket));\n    boost::shared_ptr<TProtocol> protocol(new TBinaryProtocol(transport));\n    HogeClient client(protocol);\n\n```\n\n\u4fee\u6b63\u5f8c: (localhost\u304b\u3089127.0.0.1\u306b\u5909\u66f4)\n\n```\n    boost::shared_ptr<TTransport> socket(new TSocket(\"127.0.0.1\", 9955));\n    boost::shared_ptr<TTransport> transport(new TBufferedTransport(socket));\n    boost::shared_ptr<TProtocol> protocol(new TBinaryProtocol(transport));\n    HogeClient client(protocol);\n\n```\n\n\nErlang/OTP\u5074\u3082\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u30d0\u30a4\u30f3\u30c9\u5148\u30a2\u30c9\u30ec\u30b9\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u300c{ip, \"127.0.0.1\"}\u300d\u306e\u30bf\u30d7\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u6307\u5b9a\u3057\u3066\u304a\u304f\u3068\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\nErlang/OTP\u30b5\u30fc\u30d0\u30fc\u5074\u30b3\u30fc\u30c9\u306e\u4fee\u6b63\u4f8b:\n\n```\nstart(Port) ->\n    Handler   = ?MODULE,\n    thrift_socket_server:start([{handler, Handler},\n                                {service, hoge_thrift},\n                                {ip, \"127.0.0.1\"},\n                                {port, Port},\n                                {name, hoge_server}]).\n\n```\n\n\u74b0\u5883:\n\nUbuntu 14.04, g++ 4.9.2, Erlang/OTP R16B03, Thrift 0.9.3\n\n\n", "tags": ["thrift", "C++", "Erlang"]}