{"context": " More than 1 year has passed since last update.\n\n\u3084\u308a\u305f\u3044\u3053\u3068\nFlickr\u304b\u3089\u691c\u7d22\u30ef\u30fc\u30c9\u306b\u95a2\u9023\u3059\u308b\u753b\u50cf\u3092\u53d6\u5f97\u3057\u305f\u3044\u3002\n\n\u4e8b\u524d\u6e96\u5099\n\nFlickr\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3001API\u30ad\u30fc\u3092\u53d6\u5f97\u3002\n\n\nFlickr\n\n\nFlickr\u306b\u767b\u9332\u3059\u308b\u305f\u3081\u306b\u306f\u3001Yahoo.com\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5fc5\u8981\u3002\n\n\nYahoo.com\n\n\n\n\n\u958b\u767a\u74b0\u5883\n\npython 2.7.x\u7cfb\n\n\nRequirement\npip install poster \n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\nGitHub\u306b\u3082\u4e0a\u3052\u3066\u3044\u307e\u3059\u3002\u2192 getImageFromFlickr.py\n\ngetImageFromFlickr.py\n#coding: utf-8\nfrom poster.encode import multipart_encode\nfrom poster.streaminghttp import register_openers\nimport json\nimport sys\nimport urllib2\n\n\ndef getImageUrlFromFlickr(API_KEY, query, N):\n\n    NUM_OF_PHOTO = str(N) #\u53d6\u5f97\u3059\u308b\u753b\u50cfURL\u306e\u6570\n    option = '&sort=relevance&privacy_filter=1&content_type=1&per_page='+ NUM_OF_PHOTO +'&format=json&nojsoncallback=1'\n    url = 'https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key='+ API_KEY + option\n\n    #JSON\u5f62\u5f0f\u3067\u7d50\u679c\u3092\u53d6\u5f97\n    register_openers()\n    datagen, headers = multipart_encode({'text': query})\n    request = urllib2.Request(url,datagen, headers)\n    response = urllib2.urlopen(request)\n    res_dat = response.read()\n\n    url_list = [] #URL\u30ea\u30b9\u30c8\n    template_url = 'https://farm%s.staticflickr.com/%s/%s_%s.jpg' #URL\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n    for i in json.loads(res_dat)['photos']['photo']:\n        img_url = template_url % (i['farm'],i['server'],i['id'],i['secret'])\n        url_list.append(img_url) #\u30ea\u30b9\u30c8\u306b\u753b\u50cfURL\u3092\u8ffd\u52a0\n\n    return url_list\n\nif __name__ == '__main__':\n\n    API_KEY = 'XXXXXXXXXXXXXXXXXXXXXXXXXX'\n\n    query = sys.argv[1]\n    #API KEY, \u30af\u30a8\u30ea, \u53d6\u5f97\u3057\u305f\u753b\u50cf\u6570\u3092\u6e21\u3059\n    url_list = getImageUrlFromFlickr(API_KEY, query, 10)\n\n    #\u53d6\u5f97\u3057\u305f\u753b\u50cfURL\u3092\u8868\u793a\n    for url in url_list:\n        print url\n\n\n\n\n\u5b9f\u884c\u7d50\u679c\n>python getImageFromFlickr.py \u5bff\u53f8\nhttps://farm6.staticflickr.com/5043/5203889493_b5a2feacf2.jpg\nhttps://farm5.staticflickr.com/4021/4247841124_fd2f32222e.jpg\nhttps://farm5.staticflickr.com/4082/4801051243_b439902670.jpg\nhttps://farm4.staticflickr.com/3384/3472202216_090d54fb52.jpg\nhttps://farm3.staticflickr.com/2265/2505551269_78f4cb8650.jpg\nhttps://farm6.staticflickr.com/5296/5479083865_4e6ffa9553.jpg\nhttps://farm3.staticflickr.com/2609/4008704322_b2c9a9895f.jpg\nhttps://farm5.staticflickr.com/4117/4801046373_3e492b224d.jpg\nhttps://farm5.staticflickr.com/4119/4801043517_d3bf9e38b9.jpg\nhttps://farm5.staticflickr.com/4087/5025254420_131c78cb35.jpg\n\n\n\u53d6\u5f97\u3057\u305f\u753b\u50cf\nhttps://farm6.staticflickr.com/5043/5203889493_b5a2feacf2.jpg\n\n#\u3084\u308a\u305f\u3044\u3053\u3068\nFlickr\u304b\u3089\u691c\u7d22\u30ef\u30fc\u30c9\u306b\u95a2\u9023\u3059\u308b\u753b\u50cf\u3092\u53d6\u5f97\u3057\u305f\u3044\u3002\n\n\n#\u4e8b\u524d\u6e96\u5099\n - Flickr\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3001API\u30ad\u30fc\u3092\u53d6\u5f97\u3002\n  - [Flickr](https://www.flickr.com/services/developer)\n - Flickr\u306b\u767b\u9332\u3059\u308b\u305f\u3081\u306b\u306f\u3001Yahoo.com\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5fc5\u8981\u3002\n  - [Yahoo.com](https://www.yahoo.com)\n\n#\u958b\u767a\u74b0\u5883\n - python 2.7.x\u7cfb\n\n#Requirement\n```\npip install poster \n```\n\n#\u30d7\u30ed\u30b0\u30e9\u30e0\nGitHub\u306b\u3082\u4e0a\u3052\u3066\u3044\u307e\u3059\u3002\u2192 [getImageFromFlickr.py](https://github.com/ichiroex/getImageFromFlickr)\n\n```lang:getImageFromFlickr.py\n#coding: utf-8\nfrom poster.encode import multipart_encode\nfrom poster.streaminghttp import register_openers\nimport json\nimport sys\nimport urllib2\n\n\ndef getImageUrlFromFlickr(API_KEY, query, N):\n\n    NUM_OF_PHOTO = str(N) #\u53d6\u5f97\u3059\u308b\u753b\u50cfURL\u306e\u6570\n    option = '&sort=relevance&privacy_filter=1&content_type=1&per_page='+ NUM_OF_PHOTO +'&format=json&nojsoncallback=1'\n    url = 'https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key='+ API_KEY + option\n    \n    #JSON\u5f62\u5f0f\u3067\u7d50\u679c\u3092\u53d6\u5f97\n    register_openers()\n    datagen, headers = multipart_encode({'text': query})\n    request = urllib2.Request(url,datagen, headers)\n    response = urllib2.urlopen(request)\n    res_dat = response.read()\n    \n    url_list = [] #URL\u30ea\u30b9\u30c8\n    template_url = 'https://farm%s.staticflickr.com/%s/%s_%s.jpg' #URL\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n    for i in json.loads(res_dat)['photos']['photo']:\n        img_url = template_url % (i['farm'],i['server'],i['id'],i['secret'])\n        url_list.append(img_url) #\u30ea\u30b9\u30c8\u306b\u753b\u50cfURL\u3092\u8ffd\u52a0\n\n    return url_list\n\nif __name__ == '__main__':\n\n    API_KEY = 'XXXXXXXXXXXXXXXXXXXXXXXXXX'\n\n    query = sys.argv[1]\n    #API KEY, \u30af\u30a8\u30ea, \u53d6\u5f97\u3057\u305f\u753b\u50cf\u6570\u3092\u6e21\u3059\n    url_list = getImageUrlFromFlickr(API_KEY, query, 10)\n    \n    #\u53d6\u5f97\u3057\u305f\u753b\u50cfURL\u3092\u8868\u793a\n    for url in url_list:\n        print url\n\n```\n\n#\u5b9f\u884c\u7d50\u679c\n```\n>python getImageFromFlickr.py \u5bff\u53f8\nhttps://farm6.staticflickr.com/5043/5203889493_b5a2feacf2.jpg\nhttps://farm5.staticflickr.com/4021/4247841124_fd2f32222e.jpg\nhttps://farm5.staticflickr.com/4082/4801051243_b439902670.jpg\nhttps://farm4.staticflickr.com/3384/3472202216_090d54fb52.jpg\nhttps://farm3.staticflickr.com/2265/2505551269_78f4cb8650.jpg\nhttps://farm6.staticflickr.com/5296/5479083865_4e6ffa9553.jpg\nhttps://farm3.staticflickr.com/2609/4008704322_b2c9a9895f.jpg\nhttps://farm5.staticflickr.com/4117/4801046373_3e492b224d.jpg\nhttps://farm5.staticflickr.com/4119/4801043517_d3bf9e38b9.jpg\nhttps://farm5.staticflickr.com/4087/5025254420_131c78cb35.jpg\n```\n\n#\u53d6\u5f97\u3057\u305f\u753b\u50cf\nhttps://farm6.staticflickr.com/5043/5203889493_b5a2feacf2.jpg\n![alt](https://farm6.staticflickr.com/5043/5203889493_b5a2feacf2.jpg)\n", "tags": ["Python", "Flickr", "JSON", "WebAPI"]}