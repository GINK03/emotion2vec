{"context": "Memo from \"Microsoft's Production Configurable Cloud\".\nBy Mark Russinovich, CTO MS Azure.\nhttps://onedrive.live.com/view.aspx?resid=D026B4699190F1E6!2749\n\nHow much trials were required to bring FPGA usable in production?\n\nTwo generations were not usable for production. (v0, v1)\n3rd generation, Catapult V2, was used in production.\n\n\nCatapult V2 : All traffic go through FPGA. (40Gbps QSFP)\nSlide 21: \n\n\n\n\n\nUse cases which might be able to apply in private cloud\n\nAccelerated Networking: bypass virtual switch by offloading to Intelligent NIC.\n\nSo called \"VFP: Virtual Filtering Platform\"\nFlow based policy (match / action) (ex: sending to )\nEncryption\nLoad Balancing (IP NAT, MAC re-write)\nDNAT/SNAT\nFiltering, ACL\nTenant VM plumbing (VNet Policy Routing)\nTunnel termination (encap/decap)\nSlide 17: \n\n\n\nReduce CPU to CPU (=~VM to VM) latency under 20us for 12 hops!!\n\nUsing LTL: Lightweight Transport Layer.\nBut could be considered as an approach to reduce latency. (i.e. offload TCP to Intelligent NIC)\nSlide 33: \n\n\nMemo from \"Microsoft's Production Configurable Cloud\".\nBy Mark Russinovich, CTO MS Azure.\n\nhttps://onedrive.live.com/view.aspx?resid=D026B4699190F1E6!2749\n\n# How much trials were required to bring FPGA usable in production?\n\n* Two generations were not usable for production. (v0, v1)\n* 3rd generation, Catapult V2, was used in production.\n    * Catapult V2 : All traffic go through FPGA. (40Gbps QSFP)\n    * Slide 21: ![catapult-v2.PNG](https://qiita-image-store.s3.amazonaws.com/0/93467/dd3641d7-ff47-6a95-5c8c-6bc938ae2edd.png)\n\n\n# Use cases which might be able to apply in private cloud\n\n## Accelerated Networking: bypass virtual switch by offloading to Intelligent NIC.\n\n* So called \"VFP: Virtual Filtering Platform\"\n* Flow based policy (match / action) (ex: sending to )\n* Encryption\n* Load Balancing (IP NAT, MAC re-write)\n* DNAT/SNAT\n* Filtering, ACL\n* Tenant VM plumbing (VNet Policy Routing)\n* Tunnel termination (encap/decap)\n* Slide 17: ![vfp-flowtables.PNG](https://qiita-image-store.s3.amazonaws.com/0/93467/898c3086-f057-0647-4c4c-f98e2e388c68.png)\n\n\n\n## Reduce CPU to CPU (=~VM to VM) latency under 20us for 12 hops!!\n\n* Using LTL: Lightweight Transport Layer.\n* But could be considered as an approach to reduce latency. (i.e. offload TCP to Intelligent NIC)\n* Slide 33: ![latency-over-ltl.PNG](https://qiita-image-store.s3.amazonaws.com/0/93467/82a3c32f-eed4-720a-86f1-fcb80b52d4a1.png)\n", "tags": ["FPGA", "Azure", "catapult", "smart-nic", "inteligent-nic"]}