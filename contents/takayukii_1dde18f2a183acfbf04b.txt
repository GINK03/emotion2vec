{"tags": ["Go", "GAE"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u624b\u9806\u306f\u4e0b\u8a18\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\u7c21\u5358\u3067\u3057\u305f\u300210\u5206\u7a0b\u5ea6\u3067\u51fa\u6765\u308b\u3068\u601d\u3044\u307e\u3059\u3002\nAPI on Google App Engine with Martini and Go\n\nGAE SDK\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u307e\u305a\u4e0b\u8a18\u306e\u30ea\u30f3\u30af\u304b\u3089\u300cgo_appengine_sdk_darwin_amd64-1.9.10.zip\u300d\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u4efb\u610f\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u89e3\u51cd\u3057\u307e\u3059\u3002$HOME\u76f4\u4e0b\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nDownload the Google App Engine SDK\nvi ~/.bash_profile\n\n\u3092\u3057\u3066\u3001\u4e0b\u8a18\u3092\u672b\u5c3e\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\nexport PATH=\u201d$HOME/go_appengine:$PATH\u201d\n\nvi\u3092\u4fdd\u5b58\u3059\u308b\u6642\u306f\u3001Esc\u3092\u62bc\u3057\u3066\u304b\u3089:wq\u3067OK\u3067\u3059\u3002\u4fdd\u5b58\u3057\u305f\u3089\u8aad\u307f\u76f4\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nsource ~/.bash_profile\n\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067SDK\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\ngoapp version\n\n\n\u30b5\u30f3\u30d7\u30eb\u306e\u5b9f\u88c5\uff08net/http\uff09\n\u4e0b\u8a18\u304b\u3089\u30b5\u30f3\u30d7\u30eb\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u306e\u30bd\u30fc\u30b9\nmkdir gae_go\ncd gae_go\nmkdir myapp\n\nmyapp\u30d5\u30a9\u30eb\u30c0\u306e\u4e2d\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\uff08hello.go, app.yaml\uff09\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\u305d\u3057\u3066hello.go\u306e\u3042\u308b\u30d5\u30a9\u30eb\u30c0\u306e\u4e2d\u3067\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\ngoapp serve\n\n\u5b9f\u884c\u3059\u308b\u3068\u4e0b\u8a18\u306eURL\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\nhttp://localhost:8080\n\n\u30b5\u30f3\u30d7\u30eb\u306e\u5b9f\u88c5\uff08Martini\uff09\nmyapp\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u540d\u524d\u3092\u5909\u3048\u307e\u3059\u3002\ncd ..\ncp -R myapp api \nvi api/app.yaml\n\napplication: myapp \u306e\u7b87\u6240\u3092 application: api \u306b\u5909\u3048\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002\u6b21\u306bhello.go\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\npackage hello\nimport (\n    \"net/http\"\n    \"github.com/go-martini/martini\"\n)\nfunc init() {\n    m := martini.Classic()\n    m.Get(\"/\", func() string {\n        return \"Hello world!\"\n    })\n    http.Handle(\"/\", m)\n}    \n\n\u6b21\u306bMartini\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\ngoapp get github.com/go-martini/martini\n\n\u305d\u3057\u3066\u3001\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\ncd api\ngoapp serve\n\n\u540c\u3058\u304f\u5b9f\u884c\u3059\u308b\u3068\u4e0b\u8a18\u306eURL\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\nhttp://localhost:8080\n\nGAE\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\n\u4e0b\u8a18\u3067\u30a2\u30d7\u30ea\u3092\u767b\u9332\u3059\u308b\nGoogle Developer Console\nProject Name: Playing Cards API\nProject ID: playing-cards-api-<xxxxx>\n\napp.yaml\u306eapplication\u3092\u4e0a\u8a18\u3067\u5165\u529b\u3057\u305fplaying-cards-api-\u306b\u5909\u66f4\u3059\u308b\u3002\nvi app.yaml\n\n\u305d\u3057\u3066\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3002\ncd ..\ngoapp deploy api\n\n\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u8d70\u308b\u3002\u9014\u4e2d\u3067Google\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u8a8d\u8a3c\u304c\u6c42\u3081\u3089\u308c\u308b\u3002\n$ goapp deploy api\n06:38 PM Application: playing-cards-api-timanish; version: 1\n06:38 PM Host: appengine.google.com\n06:38 PM \nStarting update of app: playing-cards-api-timanish, version: 1\n06:38 PM Getting current resource limits.\nEmail: hoge@example.com\nPassword for hoge@example.com: \n06:39 PM Scanning files on local disk.\n06:39 PM Cloning 11 application files.\n06:39 PM Uploading 2 files and blobs.\n06:40 PM Uploaded 2 files and blobs\n06:40 PM Compilation starting.\n06:40 PM Compilation: 10 files left.\n06:40 PM Compilation completed.\n06:40 PM Starting deployment.\n06:40 PM Checking if deployment succeeded.\n06:40 PM Deployment successful.\n06:40 PM Checking if updated app version is serving.\n06:40 PM Completed update of app: playing-cards-api-timanish, version: 1\n\n\u4e0b\u8a18\u306eURL\u3067\u52d5\u4f5c\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002\u7c21\u5358\u3060\u3063\u305f\u3002\nhttp://playing-cards-api-timanish.appspot.com/\n\n\u901a\u5e38\u306e\u30b3\u30fc\u30c9\u3068GAE\u7528\u306e\u30b3\u30fc\u30c9\n\u3061\u306a\u307f\u306b\u6628\u65e5\u6295\u7a3f\u3057\u305f\u30b3\u30fc\u30c9\u3068\u6bd4\u3079\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308b\u3002\u4e0b\u8a18\u306f\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u4f5c\u3059\u308bMartini\u306e\u30b3\u30fc\u30c9\u3002\npackage main    \n\nimport \"github.com/go-martini/martini\"    \n\nfunc main() {\n  m := martini.Classic()\n  m.Get(\"/\", func() string {\n    return \"Hello world!\"\n  })\n  m.Run()\n}\n\n\u3053\u308c\u306fgo run server.go\u3068\u3044\u3046\u5f62\u3067\u5b9f\u884c\u3057\u305f\u3002\n\u6b21\u306bappengine\u7528\u306e\u30b3\u30fc\u30c9\u3002\npackage hello\nimport (\n    \"net/http\"\n    \"github.com/go-martini/martini\"\n)\nfunc init() {\n    m := martini.Classic()\n    m.Get(\"/\", func() string {\n        return \"Hello world!\"\n    })\n    http.Handle(\"/\", m)\n}    \n\n\u3053\u308c\u306fgoapp serve\u3068\u3044\u3046\u5f62\u3067\u5b9f\u884c\u3059\u308b\u3002m.Run()\u304chttp.Handle(\"/\", m)\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\u4ee5\u4e0b\u306e\u624b\u9806\u306f\u4e0b\u8a18\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\u7c21\u5358\u3067\u3057\u305f\u300210\u5206\u7a0b\u5ea6\u3067\u51fa\u6765\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n[API on Google App Engine with Martini and Go](http://techslides.com/api-on-google-app-engine-with-martini-and-go/)\n\nGAE SDK\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n----\n\n\u307e\u305a\u4e0b\u8a18\u306e\u30ea\u30f3\u30af\u304b\u3089\u300cgo_appengine_sdk_darwin_amd64-1.9.10.zip\u300d\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u4efb\u610f\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u89e3\u51cd\u3057\u307e\u3059\u3002$HOME\u76f4\u4e0b\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n[Download the Google App Engine SDK](https://developers.google.com/appengine/downloads#Google_App_Engine_SDK_for_Go)\n\n    vi ~/.bash_profile\n\n\u3092\u3057\u3066\u3001\u4e0b\u8a18\u3092\u672b\u5c3e\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n    export PATH=\u201d$HOME/go_appengine:$PATH\u201d\n\nvi\u3092\u4fdd\u5b58\u3059\u308b\u6642\u306f\u3001Esc\u3092\u62bc\u3057\u3066\u304b\u3089:wq\u3067OK\u3067\u3059\u3002\u4fdd\u5b58\u3057\u305f\u3089\u8aad\u307f\u76f4\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n    source ~/.bash_profile\n\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067SDK\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n    goapp version\n\n\u30b5\u30f3\u30d7\u30eb\u306e\u5b9f\u88c5\uff08net/http\uff09\n----\n\n\u4e0b\u8a18\u304b\u3089\u30b5\u30f3\u30d7\u30eb\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n[\u30b5\u30f3\u30d7\u30eb\u306e\u30bd\u30fc\u30b9](https://github.com/GoogleCloudPlatform/appengine-guestbook-go/archive/part1-helloworld.zip)\n\n    mkdir gae_go\n    cd gae_go\n    mkdir myapp\n\nmyapp\u30d5\u30a9\u30eb\u30c0\u306e\u4e2d\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\uff08hello.go, app.yaml\uff09\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\u305d\u3057\u3066hello.go\u306e\u3042\u308b\u30d5\u30a9\u30eb\u30c0\u306e\u4e2d\u3067\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n    goapp serve\n\n\u5b9f\u884c\u3059\u308b\u3068\u4e0b\u8a18\u306eURL\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n[http://localhost:8080](http://localhost:8080)\n\n\u30b5\u30f3\u30d7\u30eb\u306e\u5b9f\u88c5\uff08Martini\uff09\n----\n\nmyapp\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u540d\u524d\u3092\u5909\u3048\u307e\u3059\u3002\n\n    cd ..\n    cp -R myapp api \n    vi api/app.yaml\n\napplication: myapp \u306e\u7b87\u6240\u3092 application: api \u306b\u5909\u3048\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002\u6b21\u306bhello.go\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n    package hello\n    import (\n        \"net/http\"\n        \"github.com/go-martini/martini\"\n    )\n    func init() {\n        m := martini.Classic()\n        m.Get(\"/\", func() string {\n            return \"Hello world!\"\n        })\n        http.Handle(\"/\", m)\n    }    \n\n\u6b21\u306bMartini\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n    goapp get github.com/go-martini/martini\n\n\u305d\u3057\u3066\u3001\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n    cd api\n    goapp serve\n\n\u540c\u3058\u304f\u5b9f\u884c\u3059\u308b\u3068\u4e0b\u8a18\u306eURL\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n[http://localhost:8080](http://localhost:8080)\n\nGAE\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\n----\n\n\u4e0b\u8a18\u3067\u30a2\u30d7\u30ea\u3092\u767b\u9332\u3059\u308b\n\n[Google Developer Console](https://console.developers.google.com/project)\n\n    Project Name: Playing Cards API\n    Project ID: playing-cards-api-<xxxxx>\n\napp.yaml\u306eapplication\u3092\u4e0a\u8a18\u3067\u5165\u529b\u3057\u305fplaying-cards-api-<xxxxx>\u306b\u5909\u66f4\u3059\u308b\u3002\n\n    vi app.yaml\n\n\u305d\u3057\u3066\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3002\n\n    cd ..\n    goapp deploy api\n\n\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u8d70\u308b\u3002\u9014\u4e2d\u3067Google\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u8a8d\u8a3c\u304c\u6c42\u3081\u3089\u308c\u308b\u3002\n\n    $ goapp deploy api\n    06:38 PM Application: playing-cards-api-timanish; version: 1\n    06:38 PM Host: appengine.google.com\n    06:38 PM \n    Starting update of app: playing-cards-api-timanish, version: 1\n    06:38 PM Getting current resource limits.\n    Email: hoge@example.com\n    Password for hoge@example.com: \n    06:39 PM Scanning files on local disk.\n    06:39 PM Cloning 11 application files.\n    06:39 PM Uploading 2 files and blobs.\n    06:40 PM Uploaded 2 files and blobs\n    06:40 PM Compilation starting.\n    06:40 PM Compilation: 10 files left.\n    06:40 PM Compilation completed.\n    06:40 PM Starting deployment.\n    06:40 PM Checking if deployment succeeded.\n    06:40 PM Deployment successful.\n    06:40 PM Checking if updated app version is serving.\n    06:40 PM Completed update of app: playing-cards-api-timanish, version: 1\n\n\u4e0b\u8a18\u306eURL\u3067\u52d5\u4f5c\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002\u7c21\u5358\u3060\u3063\u305f\u3002\n[http://playing-cards-api-timanish.appspot.com/](http://playing-cards-api-timanish.appspot.com/)\n\n\u901a\u5e38\u306e\u30b3\u30fc\u30c9\u3068GAE\u7528\u306e\u30b3\u30fc\u30c9\n----\n\n\u3061\u306a\u307f\u306b\u6628\u65e5\u6295\u7a3f\u3057\u305f\u30b3\u30fc\u30c9\u3068\u6bd4\u3079\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308b\u3002\u4e0b\u8a18\u306f\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u4f5c\u3059\u308bMartini\u306e\u30b3\u30fc\u30c9\u3002\n\n    package main    \n\n    import \"github.com/go-martini/martini\"    \n\n    func main() {\n      m := martini.Classic()\n      m.Get(\"/\", func() string {\n        return \"Hello world!\"\n      })\n      m.Run()\n    }\n\n\u3053\u308c\u306fgo run server.go\u3068\u3044\u3046\u5f62\u3067\u5b9f\u884c\u3057\u305f\u3002\n\n\u6b21\u306bappengine\u7528\u306e\u30b3\u30fc\u30c9\u3002\n\n    package hello\n    import (\n        \"net/http\"\n        \"github.com/go-martini/martini\"\n    )\n    func init() {\n        m := martini.Classic()\n        m.Get(\"/\", func() string {\n            return \"Hello world!\"\n        })\n        http.Handle(\"/\", m)\n    }    \n\n\u3053\u308c\u306fgoapp serve\u3068\u3044\u3046\u5f62\u3067\u5b9f\u884c\u3059\u308b\u3002m.Run()\u304chttp.Handle(\"/\", m)\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n"}