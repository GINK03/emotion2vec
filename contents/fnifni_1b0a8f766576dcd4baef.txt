{"tags": ["AWS", "Dsaas", "IAM", "SNS", "DeepSecurity"], "context": "\u3053\u3093\u306b\u3061\u306f\u3001\u3072\u308d\u304b\u305a\u3067\u3059\u3002\n\u5c11\u3057\u524d\u3067\u3059\u304c\u3001Deep Security as a Service(\u4ee5\u4e0b\u3001DSaaS)\u3067AWS\u306eSNS\u30c8\u30d4\u30c3\u30af\u5bfe\u5fdc\u304c\u3055\u308c\u307e\u3057\u305f\u3002\n\u5f53\u6642\u306f\u3061\u3087\u3063\u3068\u4f7f\u3044\u3069\u3053\u308d\u304c\u30d4\u30f3\u3068\u3053\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u9700\u8981\u304c\u51fa\u3066\u304d\u305f\u306e\u3067\u4e00\u7b46\u66f8\u304d\u307e\u3059\u3002\n\n\u4e3b\u306a\u9700\u8981\n\n\u30ed\u30b0\u306e\u9577\u671f\u4fdd\u5b58\n-- DSaaS\u74b0\u5883\u306e\u30ed\u30b0\u4fdd\u5b58\u671f\u9593\u306f13\u9031\u9593\u3067\u3059\u3002\n\u30ed\u30b0\u5206\u6790\n-- \u4f55\u3092\u3069\u3046\u3059\u308b\u304b\u304c\u30ab\u30ae\u3067\u3059\u306d\u3002\nLambda\u7b49\u3067\u30a4\u30d9\u30f3\u30c8\u30c9\u30ea\u30d6\u30f3\u3067\u3069\u3046\u306e\u3053\u3046\u306e\u3059\u308b\n-- \u3088\u304f\u8a9e\u3089\u308c\u307e\u3059\u304c\u3069\u3046\u306e\u3053\u3046\u306e\u306e\u90e8\u5206\u3092\u56fa\u3081\u308b\u306e\u304c\u5148\u6c7a\u3067\u3059\u306d\u3002\n\n\n\u3056\u3063\u304f\u308a\u69cb\u6210\uff08\u4eca\u56de\u306e\u5206\uff09\n\u4eca\u56de\u306f\u3001\u3059\u3079\u3066\u306e\u9700\u8981\u3092\u8003\u616e\u3057\u3066\u3053\u3093\u306a\u611f\u3058\u3067\u7d44\u307f\u307e\u3057\u305f\u3002\n\n\n\u524d\u63d0\u6761\u4ef6\n\nAWS\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6240\u6709\u3057\u3066\u3044\u308b\u3053\u3068\u3002\nDSaaS\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6240\u6709\u3057\u3066\u3044\u308b\u3053\u3068\u3002\n\n\n\u53c2\u8003\u60c5\u5831\n\u4ee5\u4e0b\u306e\u60c5\u5831\u3092\u53c2\u7167\u3057\u306a\u304c\u3089\u9032\u3081\u3066\u3044\u307e\u3059\u3002\n\n\u30c8\u30ec\u30f3\u30c9\u30de\u30a4\u30af\u30ed\u793e\u516c\u5f0f\uff1aDeep Security Help Center\nAWS\u516c\u5f0f\uff1aSubscribing an Amazon SQS Queue to an Amazon SNS Topic\n\n\n\u5de5\u7a0b\n\u53c2\u8003\u60c5\u5831\u306e\u9806\u756a\u3068\u306f\u5c11\u3057\u5909\u3048\u3066\u3044\u307e\u3059\u3002\n\nAmazon SNS\u30c8\u30d4\u30c3\u30af\u3092\u4f5c\u6210\u3059\u308b\n\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\nAWS\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3059\u308b\nDSaaS\u4e0a\u3067SNS\u3092\u8a2d\u5b9a\u3059\u308b\n\n\n1. Amazon SNS\u30c8\u30d4\u30c3\u30af\u3092\u4f5c\u6210\u3059\u308b\nGet Started\u304b\u3089\u59cb\u3081\u307e\u3059\u3002\n\u30ea\u30fc\u30b8\u30e7\u30f3\u306f\u4efb\u610f\u3067\u3059\u304c\u3001\u4eca\u56de\u306fOregon\u306b\u3057\u307e\u3057\u305f\u3002\n\nCreate topic\u3067\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\nTopic\u540d\u3092\u4ed8\u3051\u3066\u3001Create Topic\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\n\u3067\u304d\u307e\u3057\u305f\u3002Topic ARN\u3092\u63a7\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n\n\n2. \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\n\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306f\u3001\u9700\u8981\u3092\u8003\u616e\u3057\u3066SQS\u3068\u3057\u307e\u3059\u3002\n\n\u6700\u4f4e\u9650\u3001\u30ad\u30e5\u30fc\u540d\u3092\u4ed8\u3051\u308b\u3060\u3051\u3067\u3059\u3002\n\u3042\u3068\u306f\u8981\u4ef6\u6b21\u7b2c\u3067\u8abf\u6574\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3053\u3053\u3067\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\u5f85\u6a5f\u6642\u9593\u3092\u5ef6\u3070\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u3067\u304d\u307e\u3057\u305f\u3002\nARN\u3092\u63a7\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n\n\nSNS\u306e\u753b\u9762\u306b\u9077\u79fb\nCreate subscription\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\nProtocol\u306bAmazon SQS\u3092\u8a2d\u5b9a\u3057\u3066\u3001Endpoint\u306bSQS\u306eARN\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\nCreate subscription\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\nsubscriber\u304c\u7a7a\u6b04\u3067\u3059\u304c\u3001\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u304c\u4f5c\u6210\u3067\u304d\u307e\u3057\u305f\u3002\n\n\nSQS\u753b\u9762\u306b\u9077\u79fb\n\u30ad\u30e5\u30fc\u64cd\u4f5c\u3067SNS\u30c8\u30d4\u30c3\u30af\u3078\u306e\u30ad\u30e5\u30fc\u306e\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\u30c8\u30d4\u30c3\u30af\u306e\u9078\u629e\u306e\u30d7\u30eb\u30c0\u30a6\u30f3\u3067\u3001\u5148\u7a0b\u4f5c\u6210\u3057\u305fSNS\u30c8\u30d4\u30c3\u30af\u3092\u9078\u629e\u3057\u3066\u3001\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\n\u3046\u307e\u304f\u3067\u304d\u305f\u3088\u3046\u3067\u3059\u3002\n\n\nSNS\u306e\u753b\u9762\u306b\u9077\u79fb\n\u3061\u3087\u3063\u3068\u3042\u3061\u3053\u3061\u884c\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u304c\u3001\u7121\u4e8b\u306b\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u8a66\u3057\u5207\u308a\u3092\u3057\u307e\u3059\u3002\nPublish to topic\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\n\u9069\u5f53\u306b\u5185\u5bb9\u3092\u8a18\u8f09\u3057\u3066publish message\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\nSQS\u753b\u9762\u3092\u898b\u308b\u3068\u3001\u30ad\u30e5\u30fc\u304c\u4e00\u500b\u6e9c\u307e\u3063\u3066\u307e\u3059\u306d\u3002\n\n\n3. AWS\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3059\u308b\n\nIAM\u306e\u753b\u9762\u306b\u9077\u79fb\n\u30e6\u30fc\u30b6\u30fc\u3092\u9078\u629e\u3057\u3001\u65b0\u898f\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\n\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u5165\u529b\u3057\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306fDSaaS-SNS\u3068\u3044\u3046\u540d\u524d\u306b\u3057\u307e\u3057\u305f\u3002\n\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001Access Key\u3068Secret Key\u3092\u5fd8\u308c\u305a\u306b\u4fdd\u5b58\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30dd\u30ea\u30b7\u30fc\u3092\u9078\u629e\u3057\u3066\u3001\u30dd\u30ea\u30b7\u30fc\u306e\u4f5c\u6210\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\n\u8981\u306fSNS\u306bpublish\u3059\u308b\u6a29\u9650\u304c\u3042\u308c\u3070\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u72ec\u81ea\u306e\u30dd\u30ea\u30b7\u30fc\u3092\u4f5c\u6210\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n\u53c2\u8003\u60c5\u5831Deep Security Help Center\u8a18\u8f09\u306e\u30dd\u30ea\u30b7\u30fc\u3092\u30d9\u30fc\u30b9\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n\u30b3\u30d4\u30da\u7528\n{\n   \"Version\": \"2012-10-17\",\n   \"Statement\": [\n      {\n         \"Action\": [\n            \"sns:Publish\"\n         ],\n         \"Effect\": \"Allow\",\n         \"Resource\": \"arn:aws:sns:us-west-2:XXXXXXXXXXXX:dsaas-sns\"\n      }\n   ]\n}\n\n\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u4f5c\u6210\u3057\u305f\u30dd\u30ea\u30b7\u30fc\u3092\u9078\u629e\u3057\u3066\u3001\u30dd\u30ea\u30b7\u30fc\u30a2\u30af\u30b7\u30e7\u30f3\u304b\u3089\u30a2\u30bf\u30c3\u30c1\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n\u5148\u7a0b\u4f5c\u6210\u3057\u305fIAM\u30e6\u30fc\u30b6\u3092\u9078\u629e\u3057\u3066\u3001\u30dd\u30ea\u30b7\u30fc\u306e\u30a2\u30bf\u30c3\u30c1\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\n\n4. DSaaS\u4e0a\u3067SNS\u3092\u8a2d\u5b9a\u3059\u308b\nDSaaS\u306e\u7ba1\u7406\u753b\u9762\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u7ba1\u7406\uff1e\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\uff1eSIEM\u3068\u9077\u79fb\u3057\u307e\u3059\u3002\nAmazon SNS\u306ePublish Events to AWS Simple Notification Service\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u3001\u4f5c\u6210\u3057\u305fIAM\u30e6\u30fc\u30b6\u306e\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3068\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\u3001\u304a\u3088\u3073\u4f5c\u6210\u3057\u305fSNS\u30c8\u30d4\u30c3\u30af\u540d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001\u9001\u4fe1\u3059\u308b\u30a4\u30d9\u30f3\u30c8\u306e\u7a2e\u985e\u306f\u5168\u3066\u9078\u629e\u3057\u305f\u307e\u307e\u3068\u3057\u307e\u3059\u3002\n\nSQS\u753b\u9762\u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u7740\u4fe1\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u65e9\u901f\u30b7\u30b9\u30c6\u30e0\u30a4\u30d9\u30f3\u30c8\u304c\u7740\u4fe1\u3057\u3066\u307e\u3059\u306d\u3002\n\nDSaaS\u306e\u30a4\u30d9\u30f3\u30c8\u3092SNS\u30c8\u30d4\u30c3\u30af\u3068\u3057\u3066SQS\u3078\u30ad\u30e5\u30fc\u30a4\u30f3\u30b0\u3059\u308b\u3053\u3068\u308d\u307e\u3067\u3067\u304d\u307e\u3057\u305f\u3002\n\u9577\u304f\u306a\u3063\u305f\u306e\u3067\u4eca\u65e5\u306f\u3053\u3053\u307e\u3067\u306b\u3057\u307e\u3059\u3002\n\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\u3002\n\u3053\u3093\u306b\u3061\u306f\u3001\u3072\u308d\u304b\u305a\u3067\u3059\u3002\n\u5c11\u3057\u524d\u3067\u3059\u304c\u3001Deep Security as a Service(\u4ee5\u4e0b\u3001DSaaS)\u3067AWS\u306eSNS\u30c8\u30d4\u30c3\u30af\u5bfe\u5fdc\u304c\u3055\u308c\u307e\u3057\u305f\u3002\n\u5f53\u6642\u306f\u3061\u3087\u3063\u3068\u4f7f\u3044\u3069\u3053\u308d\u304c\u30d4\u30f3\u3068\u3053\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u9700\u8981\u304c\u51fa\u3066\u304d\u305f\u306e\u3067\u4e00\u7b46\u66f8\u304d\u307e\u3059\u3002\n\n#\u4e3b\u306a\u9700\u8981\n- \u30ed\u30b0\u306e\u9577\u671f\u4fdd\u5b58\n-- DSaaS\u74b0\u5883\u306e\u30ed\u30b0\u4fdd\u5b58\u671f\u9593\u306f13\u9031\u9593\u3067\u3059\u3002\n\n- \u30ed\u30b0\u5206\u6790\n-- \u4f55\u3092\u3069\u3046\u3059\u308b\u304b\u304c\u30ab\u30ae\u3067\u3059\u306d\u3002\n\n- Lambda\u7b49\u3067\u30a4\u30d9\u30f3\u30c8\u30c9\u30ea\u30d6\u30f3\u3067\u3069\u3046\u306e\u3053\u3046\u306e\u3059\u308b\n-- \u3088\u304f\u8a9e\u3089\u308c\u307e\u3059\u304c`\u3069\u3046\u306e\u3053\u3046\u306e`\u306e\u90e8\u5206\u3092\u56fa\u3081\u308b\u306e\u304c\u5148\u6c7a\u3067\u3059\u306d\u3002\n\n#\u3056\u3063\u304f\u308a\u69cb\u6210\uff08\u4eca\u56de\u306e\u5206\uff09\n\u4eca\u56de\u306f\u3001\u3059\u3079\u3066\u306e\u9700\u8981\u3092\u8003\u616e\u3057\u3066\u3053\u3093\u306a\u611f\u3058\u3067\u7d44\u307f\u307e\u3057\u305f\u3002\n![Diagram_01.png](https://qiita-image-store.s3.amazonaws.com/0/46611/679b6512-3bdf-9237-50e6-1025d7d05bcc.png \"Diagram_01.png\")\n\n\n#\u524d\u63d0\u6761\u4ef6\n- AWS\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6240\u6709\u3057\u3066\u3044\u308b\u3053\u3068\u3002\n- DSaaS\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6240\u6709\u3057\u3066\u3044\u308b\u3053\u3068\u3002\n\n#\u53c2\u8003\u60c5\u5831\n\u4ee5\u4e0b\u306e\u60c5\u5831\u3092\u53c2\u7167\u3057\u306a\u304c\u3089\u9032\u3081\u3066\u3044\u307e\u3059\u3002\n\n- \u30c8\u30ec\u30f3\u30c9\u30de\u30a4\u30af\u30ed\u793e\u516c\u5f0f\uff1a[Deep Security Help Center](https://app.deepsecurity.trendmicro.com/Help.screen?isSearch=true&searchKey=Amazon%20SNS)\n\n- AWS\u516c\u5f0f\uff1a[Subscribing an Amazon SQS Queue to an Amazon SNS Topic](http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqssubscribe.html)\n\n#\u5de5\u7a0b\n\u53c2\u8003\u60c5\u5831\u306e\u9806\u756a\u3068\u306f\u5c11\u3057\u5909\u3048\u3066\u3044\u307e\u3059\u3002\n\n1. Amazon SNS\u30c8\u30d4\u30c3\u30af\u3092\u4f5c\u6210\u3059\u308b\n2. \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\n3. AWS\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3059\u308b\n4. DSaaS\u4e0a\u3067SNS\u3092\u8a2d\u5b9a\u3059\u308b\n\n#1. Amazon SNS\u30c8\u30d4\u30c3\u30af\u3092\u4f5c\u6210\u3059\u308b\nGet Started\u304b\u3089\u59cb\u3081\u307e\u3059\u3002\n\u30ea\u30fc\u30b8\u30e7\u30f3\u306f\u4efb\u610f\u3067\u3059\u304c\u3001\u4eca\u56de\u306fOregon\u306b\u3057\u307e\u3057\u305f\u3002\n![SNS_00.png](https://qiita-image-store.s3.amazonaws.com/0/46611/56000054-78d9-91a7-72d2-8b49888b8789.png \"SNS_00.png\")\n\nCreate topic\u3067\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n![SNS_01.png](https://qiita-image-store.s3.amazonaws.com/0/46611/d8902d4a-130a-0309-abda-9fca3e3fd23b.png \"SNS_01.png\")\n\nTopic\u540d\u3092\u4ed8\u3051\u3066\u3001Create Topic\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n![SNS_02.png](https://qiita-image-store.s3.amazonaws.com/0/46611/ddab0a12-947f-e754-34b2-eb7e119d3f81.png \"SNS_02.png\")\n\n\u3067\u304d\u307e\u3057\u305f\u3002Topic ARN\u3092\u63a7\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n![SNS_03.png](https://qiita-image-store.s3.amazonaws.com/0/46611/551959ce-c2bb-3ae8-9d6e-80e8f4c588af.png \"SNS_03.png\")\n\n#2. \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\n\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306f\u3001\u9700\u8981\u3092\u8003\u616e\u3057\u3066SQS\u3068\u3057\u307e\u3059\u3002\n![SQS_00.png](https://qiita-image-store.s3.amazonaws.com/0/46611/8f56b8bf-12e4-098e-839a-4369c4414335.png \"SQS_00.png\")\n\n\u6700\u4f4e\u9650\u3001\u30ad\u30e5\u30fc\u540d\u3092\u4ed8\u3051\u308b\u3060\u3051\u3067\u3059\u3002\n\u3042\u3068\u306f\u8981\u4ef6\u6b21\u7b2c\u3067\u8abf\u6574\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3053\u3053\u3067\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\u5f85\u6a5f\u6642\u9593\u3092\u5ef6\u3070\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n![SQS_01.png](https://qiita-image-store.s3.amazonaws.com/0/46611/bf3f8116-6f29-81ca-3ccf-2818b1f43d24.png \"SQS_01.png\")\n\n\u3067\u304d\u307e\u3057\u305f\u3002\nARN\u3092\u63a7\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n![SQS_02.png](https://qiita-image-store.s3.amazonaws.com/0/46611/daac48a9-25a4-c22d-7d29-1ae3642e05be.png \"SQS_02.png\")\n\n##SNS\u306e\u753b\u9762\u306b\u9077\u79fb\nCreate subscription\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n![SNS_04.png](https://qiita-image-store.s3.amazonaws.com/0/46611/af71430b-a7d4-f98e-4a1e-22b5e3ddb906.png \"SNS_04.png\")\n\nProtocol\u306bAmazon SQS\u3092\u8a2d\u5b9a\u3057\u3066\u3001Endpoint\u306bSQS\u306eARN\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\nCreate subscription\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n![SNS_05.png](https://qiita-image-store.s3.amazonaws.com/0/46611/f25d73b7-9e6e-934d-181d-211a500ec623.png \"SNS_05.png\")\n\nsubscriber\u304c\u7a7a\u6b04\u3067\u3059\u304c\u3001\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u304c\u4f5c\u6210\u3067\u304d\u307e\u3057\u305f\u3002\n![SNS_06.png](https://qiita-image-store.s3.amazonaws.com/0/46611/7761b6d7-128d-c992-db33-c2735acbcc2b.png \"SNS_06.png\")\n\n##SQS\u753b\u9762\u306b\u9077\u79fb\n\u30ad\u30e5\u30fc\u64cd\u4f5c\u3067SNS\u30c8\u30d4\u30c3\u30af\u3078\u306e\u30ad\u30e5\u30fc\u306e\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n![SQS_03.png](https://qiita-image-store.s3.amazonaws.com/0/46611/d4f101ad-7160-c0dc-a0e2-a63c6ac655da.png \"SQS_03.png\")\n\n\u30c8\u30d4\u30c3\u30af\u306e\u9078\u629e\u306e\u30d7\u30eb\u30c0\u30a6\u30f3\u3067\u3001\u5148\u7a0b\u4f5c\u6210\u3057\u305fSNS\u30c8\u30d4\u30c3\u30af\u3092\u9078\u629e\u3057\u3066\u3001`\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6`\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n![SQS_04.png](https://qiita-image-store.s3.amazonaws.com/0/46611/5121ee9b-f204-dba1-10e2-fb29bb54e568.png \"SQS_04.png\")\n\n\u3046\u307e\u304f\u3067\u304d\u305f\u3088\u3046\u3067\u3059\u3002\n![SQS_05.png](https://qiita-image-store.s3.amazonaws.com/0/46611/daa10cab-320c-6c6e-1194-78a2a714a53b.png \"SQS_05.png\")\n\n##SNS\u306e\u753b\u9762\u306b\u9077\u79fb\n\u3061\u3087\u3063\u3068\u3042\u3061\u3053\u3061\u884c\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u304c\u3001\u7121\u4e8b\u306b\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u3067\u304d\u307e\u3057\u305f\u3002\n![SNS_07.png](https://qiita-image-store.s3.amazonaws.com/0/46611/f74e224c-4602-5c3b-05a3-2792b708b7ae.png \"SNS_07.png\")\n\n\u8a66\u3057\u5207\u308a\u3092\u3057\u307e\u3059\u3002\n`Publish to topic`\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n![SNS_11.png](https://qiita-image-store.s3.amazonaws.com/0/46611/d0f8e4e3-dd3e-4e03-a1ea-ddf643f131ea.png \"SNS_11.png\")\n\n\u9069\u5f53\u306b\u5185\u5bb9\u3092\u8a18\u8f09\u3057\u3066`publish message`\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n![SNS_12.png](https://qiita-image-store.s3.amazonaws.com/0/46611/851a6226-e2e5-1549-d1e7-64afb2d4adac.png \"SNS_12.png\")\n\nSQS\u753b\u9762\u3092\u898b\u308b\u3068\u3001\u30ad\u30e5\u30fc\u304c\u4e00\u500b\u6e9c\u307e\u3063\u3066\u307e\u3059\u306d\u3002\n![SQS_11.png](https://qiita-image-store.s3.amazonaws.com/0/46611/3f28f607-be91-c8c0-bf4a-390d9e3a0b3a.png \"SQS_11.png\")\n\n#3. AWS\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3059\u308b\n##IAM\u306e\u753b\u9762\u306b\u9077\u79fb\n\u30e6\u30fc\u30b6\u30fc\u3092\u9078\u629e\u3057\u3001`\u65b0\u898f\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210`\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n![IAM_01.png](https://qiita-image-store.s3.amazonaws.com/0/46611/b750f22e-d70d-8111-918e-18821a56ec92.png \"IAM_01.png\")\n\n\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u5165\u529b\u3057\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306fDSaaS-SNS\u3068\u3044\u3046\u540d\u524d\u306b\u3057\u307e\u3057\u305f\u3002\n\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001Access Key\u3068Secret Key\u3092\u5fd8\u308c\u305a\u306b\u4fdd\u5b58\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n![IAM_02.png](https://qiita-image-store.s3.amazonaws.com/0/46611/51a4584e-37ab-a001-5446-7452f39ee3a8.png \"IAM_02.png\")\n\n\u30dd\u30ea\u30b7\u30fc\u3092\u9078\u629e\u3057\u3066\u3001`\u30dd\u30ea\u30b7\u30fc\u306e\u4f5c\u6210`\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n![IAM_03.png](https://qiita-image-store.s3.amazonaws.com/0/46611/32ed17bf-6183-d69b-4b12-408e040433a9.png \"IAM_03.png\")\n\n\u8981\u306fSNS\u306bpublish\u3059\u308b\u6a29\u9650\u304c\u3042\u308c\u3070\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u3053\u3053\u3067\u306f`\u72ec\u81ea\u306e\u30dd\u30ea\u30b7\u30fc\u3092\u4f5c\u6210`\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n![IAM_04.png](https://qiita-image-store.s3.amazonaws.com/0/46611/7cee8ae9-cf5e-d078-df16-33240163b132.png \"IAM_04.png\")\n\n\u53c2\u8003\u60c5\u5831[Deep Security Help Center](https://app.deepsecurity.trendmicro.com/Help.screen?isSearch=true&searchKey=Amazon%20SNS)\u8a18\u8f09\u306e\u30dd\u30ea\u30b7\u30fc\u3092\u30d9\u30fc\u30b9\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n![IAM_05.png](https://qiita-image-store.s3.amazonaws.com/0/46611/eaddc859-d571-3650-4b5f-0982f9b31959.png \"IAM_05.png\")\n\n\u30b3\u30d4\u30da\u7528\n\n```\n{\n   \"Version\": \"2012-10-17\",\n   \"Statement\": [\n      {\n         \"Action\": [\n            \"sns:Publish\"\n         ],\n         \"Effect\": \"Allow\",\n         \"Resource\": \"arn:aws:sns:us-west-2:XXXXXXXXXXXX:dsaas-sns\"\n      }\n   ]\n}\n```\n\u3067\u304d\u307e\u3057\u305f\u3002\n![IAM_06.png](https://qiita-image-store.s3.amazonaws.com/0/46611/85976095-5f0d-2972-589b-1d3af9674570.png \"IAM_06.png\")\n\n\u4f5c\u6210\u3057\u305f\u30dd\u30ea\u30b7\u30fc\u3092\u9078\u629e\u3057\u3066\u3001\u30dd\u30ea\u30b7\u30fc\u30a2\u30af\u30b7\u30e7\u30f3\u304b\u3089\u30a2\u30bf\u30c3\u30c1\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n![IAM_07.png](https://qiita-image-store.s3.amazonaws.com/0/46611/c15b08ed-d8a2-462b-9c41-6fa1e7f0ab10.png \"IAM_07.png\")\n\n\u5148\u7a0b\u4f5c\u6210\u3057\u305fIAM\u30e6\u30fc\u30b6\u3092\u9078\u629e\u3057\u3066\u3001`\u30dd\u30ea\u30b7\u30fc\u306e\u30a2\u30bf\u30c3\u30c1\u30dc\u30bf\u30f3`\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n![IAM_08.png](https://qiita-image-store.s3.amazonaws.com/0/46611/592fe12b-25a7-30a4-2abc-17c816da8057.png \"IAM_08.png\")\n\n#4. DSaaS\u4e0a\u3067SNS\u3092\u8a2d\u5b9a\u3059\u308b\nDSaaS\u306e\u7ba1\u7406\u753b\u9762\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u7ba1\u7406\uff1e\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\uff1eSIEM\u3068\u9077\u79fb\u3057\u307e\u3059\u3002\nAmazon SNS\u306e`Publish Events to AWS Simple Notification Service`\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u3001\u4f5c\u6210\u3057\u305fIAM\u30e6\u30fc\u30b6\u306e\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3068\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\u3001\u304a\u3088\u3073\u4f5c\u6210\u3057\u305fSNS\u30c8\u30d4\u30c3\u30af\u540d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001\u9001\u4fe1\u3059\u308b\u30a4\u30d9\u30f3\u30c8\u306e\u7a2e\u985e\u306f\u5168\u3066\u9078\u629e\u3057\u305f\u307e\u307e\u3068\u3057\u307e\u3059\u3002\n![DSaaS_01.png](https://qiita-image-store.s3.amazonaws.com/0/46611/01021235-2522-8050-0d56-0bad75e65dd3.png \"DSaaS_01.png\")\n\nSQS\u753b\u9762\u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u7740\u4fe1\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u65e9\u901f\u30b7\u30b9\u30c6\u30e0\u30a4\u30d9\u30f3\u30c8\u304c\u7740\u4fe1\u3057\u3066\u307e\u3059\u306d\u3002\n![SQS_12.png](https://qiita-image-store.s3.amazonaws.com/0/46611/f8a1f26b-466a-8bb0-6cf7-7cfe44415348.png \"SQS_12.png\")\n\nDSaaS\u306e\u30a4\u30d9\u30f3\u30c8\u3092SNS\u30c8\u30d4\u30c3\u30af\u3068\u3057\u3066SQS\u3078\u30ad\u30e5\u30fc\u30a4\u30f3\u30b0\u3059\u308b\u3053\u3068\u308d\u307e\u3067\u3067\u304d\u307e\u3057\u305f\u3002\n\u9577\u304f\u306a\u3063\u305f\u306e\u3067\u4eca\u65e5\u306f\u3053\u3053\u307e\u3067\u306b\u3057\u307e\u3059\u3002\n\n\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\u3002\n"}