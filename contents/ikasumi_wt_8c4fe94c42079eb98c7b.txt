{"context": " More than 1 year has passed since last update.underscore\u306b\u8a73\u3057\u304f\u306a\u3044\u306e\u3067\u3001\u52c9\u5f37\u534a\u5206\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8aad\u3080\u3002\n\n\u5229\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\nunderscore.js(v1.8.3)\n\nindexOf\u3068\u306f\n\nunderscorejs.org\u306eindexOf\n\n\u3053\u3093\u306a\u8aac\u660e\u3002\n\n\n_.indexOf(array, value, [isSorted])\nReturns the index at which value can be found in the array, or -1 if value is not present in the array. \nIf you're working with a large array, and you know that the array is already sorted, pass true for isSorted to use a faster binary search ... or, pass a number as the third argument in order to look for the first matching value in the array after the given index.\n\n\n_.indexOf([1, 2, 3], 2);\n=> 1\n\n\n\narray\u306e\u4e2d\u3067value\u306e\u5024\u304c\u3042\u308b\u6700\u521d\u306eindex\u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002\n\u3082\u3057value\u304carray\u306e\u4e2d\u306b\u5b58\u5728\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306f-1\u3092\u8fd4\u3057\u307e\u3059\u3002\n\u3082\u3057\u3001indexOf\u3092\u5927\u304d\u306a\u914d\u5217\u3067\u52d5\u304b\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u3001\u4e8b\u524d\u306b\u30bd\u30fc\u30c8\u6e08\u307f\u3067\u3042\u308c\u3070isSorted\u306btrue\u3092\u4e0e\u3048\u3044\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3088\u308a\u9ad8\u901f\u306a\u30d0\u30a4\u30ca\u30ea\u30b5\u30fc\u30c1\u3092\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\u3082\u3057\u304f\u306findex\u3092\u4e0e\u3048\u305f\u3042\u3068\u306b\u3001\u914d\u5217\u5185\u3067\u6700\u521d\u306b\u30de\u30c3\u30c1\u3057\u305f\u5024\u3092\u898b\u3064\u3051\u308b\u305f\u3081\u306b\u7b2c\u4e09\u5f15\u6570\u306b\u6570\u5b57\u3092\u6e21\u3057\u307e\u3059\uff08\uff1f\uff09\n\nunderscore.indexOf\n\n\u30b3\u30fc\u30c9\u7684\u306b\u306f\u3053\u306e\u3042\u305f\u308a\u3002\n// Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n\n\n_.indexOf\u81ea\u4f53\u306fcreateIndexFinder\u306b\u5024\u3092\u6e21\u3057\u3066\u3044\u308b\u306e\u307f\u3002\ncreateIndexFinder\u306f\u4ee5\u4e0b\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n.indexOf\u306e\u5834\u5408\u306fdir\u306b1\u3001predocateFind\u306b.findIndex,sortedIndex\u306b _.sortedIndex\u304c\u5165\u308b\u3002\n\u8fd4\u3055\u308c\u308b\u306e\u306f\u95a2\u6570\u3067\u3001array,item,idx\u306e3\u3064\u306e\u5f15\u6570\u3092\u6301\u3064\u95a2\u6570\u3092\u8fd4\u3059\u3002\n\u3064\u307e\u308a\u3053\u3046\u306a\u308b\nfunction(array, item, idx) {\n      var predicateFind = _.findIndex;\n      var sortedIndex = _.sortedIndex;\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = i ; idx >= 0 && idx < length; idx += 1) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n\nfor\u6587\u7528\u306ei\u3068array\u306elength\u3092\u683c\u7d0d\u3057\u305f\u5909\u6570length\u3092\u5b9a\u7fa9\u3059\u308b\u3002\nidx\u304cnumber\u3060\u3063\u305f\u5834\u5408\u3001dir\u306f1\u306a\u306e\u3067\u3001\ni = idx >= 0 ? idx : Math.max(idx + length, i);\n\u306e\u307b\u3046\u306b\u5165\u308b\u3002\nidx\u304c\u5b58\u5728\u3057\u30011\u4ee5\u4e0a\u306e\u5834\u5408\u306fidx\u3092\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306fidx+length\u3068i\u306e\u5927\u304d\u3044\u65b9\u3092i\u306b\u4ee3\u5165\u3059\u308b\u3002\nidx\u304cnumber\u3067\u306f\u306a\u304f\u3001sortedIndex\u304c\u5b58\u5728\u3059\u308b\u304b\u3064idx\u304c\u5b58\u5728\u3059\u308b\u304b\u3064length\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\uff08\u30bd\u30fc\u30c8\u6e08\u307f\u306e\u5834\u5408\uff09\u306f\narray,item\u3092_.sortedIndex\u306b\u304b\u3051\u305f\u7d50\u679c\u3092idx\u306b\u683c\u7d0d\u3059\u308b\u3002\nsortedIndex\u306farray\u306e\u4e2d\u3067item\u306e\u8981\u7d20\u304c\u6765\u308b\u6700\u521d\u306e\u7b87\u6240\u3092\u8fd4\u3059\u305f\u3081\u3001array\u306eidx\u756a\u76ee\u304citem\u3068\u5408\u81f4\u3057\u305f\u5834\u5408\u306fidx\u3092\u8fd4\u3059\u3068index\u306e\u7b87\u6240\u306b\u3042\u305f\u308b\u3002\nitem\u304citem\u3058\u3083\u306a\u3044\u5834\u5408\uff08\uff1f\uff09\u306f\narray\u3092i\u756a\u76ee\u304b\u3089length\u756a\u76ee\u307e\u3067slice\u3057\u3001\u305d\u308c\u3092isNaN\u304c\u30de\u30c3\u30c1\u3059\u308b\u307e\u3067_.findIndex\u306b\u304b\u3051\u3001\u30de\u30c3\u30c1\u3057\u305f\u7b87\u6240\u3092idx\u306b\u4ee3\u5165\u3059\u308b\u3002\nidx\u304c0\u4ee5\u4e0a\u3060\u3063\u305f\u3089\uff08\u30de\u30c3\u30c1\u3057\u3066\u308b\u7b87\u6240\u304c\u3042\u3063\u305f\u3089\uff09idx+i\u3092\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306f-1\u3092\u8fd4\u3059\u3002\n\u305d\u308c\u3089\u5168\u3066\u306b\u5f53\u3066\u306f\u307e\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001dir=1\u306a\u306e\u3067\u3001idx\u306bi\u3092\u4ee3\u5165\u3057\u3001idx\u304c0\u4ee5\u4e0a\u304b\u3064idx\u304clength\u306b\u9054\u3059\u308b\u307e\u3067\u3001i++\u3059\u308b\u3002\n\u305d\u306e\u4e2d\u3067\u3001array[idx]\u304citem\u3068\u30de\u30c3\u30c1\u3057\u305f\u5834\u5408\u306f\u305d\u306eidx\u3092\u8fd4\u3059\u3002\n\u3053\u308c\u3089\u306b\u5168\u3066\u5408\u81f4\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306f-1\u3092\u8fd4\u3059\u3002\n\n\nunderscore\u306b\u8a73\u3057\u304f\u306a\u3044\u306e\u3067\u3001\u52c9\u5f37\u534a\u5206\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8aad\u3080\u3002\n\n\n\n##\u5229\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\n[underscore.js(v1.8.3)](https://github.com/jashkenas/underscore/tree/1.8.3)\n\n\n##indexOf\u3068\u306f\n\n\n###[underscorejs.org\u306eindexOf](http://underscorejs.org/#indexOf)\n\n\u3053\u3093\u306a\u8aac\u660e\u3002\n>####_.indexOf(array, value, [isSorted]) \n>Returns the index at which value can be found in the array, or -1 if value is not present in the array. \n>If you're working with a large array, and you know that the array is already sorted, pass true for isSorted to use a faster binary search ... or, pass a number as the third argument in order to look for the first matching value in the array after the given index.\n\n\n```javascript\n\n_.indexOf([1, 2, 3], 2);\n=> 1\n\n```\n------------- \narray\u306e\u4e2d\u3067value\u306e\u5024\u304c\u3042\u308b\u6700\u521d\u306eindex\u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002\n\u3082\u3057value\u304carray\u306e\u4e2d\u306b\u5b58\u5728\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306f-1\u3092\u8fd4\u3057\u307e\u3059\u3002\n\u3082\u3057\u3001indexOf\u3092\u5927\u304d\u306a\u914d\u5217\u3067\u52d5\u304b\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u3001\u4e8b\u524d\u306b\u30bd\u30fc\u30c8\u6e08\u307f\u3067\u3042\u308c\u3070isSorted\u306btrue\u3092\u4e0e\u3048\u3044\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3088\u308a\u9ad8\u901f\u306a\u30d0\u30a4\u30ca\u30ea\u30b5\u30fc\u30c1\u3092\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\u3082\u3057\u304f\u306findex\u3092\u4e0e\u3048\u305f\u3042\u3068\u306b\u3001\u914d\u5217\u5185\u3067\u6700\u521d\u306b\u30de\u30c3\u30c1\u3057\u305f\u5024\u3092\u898b\u3064\u3051\u308b\u305f\u3081\u306b\u7b2c\u4e09\u5f15\u6570\u306b\u6570\u5b57\u3092\u6e21\u3057\u307e\u3059\uff08\uff1f\uff09\n\n\n###[underscore.indexOf](https://github.com/jashkenas/underscore/blob/1.8.3/underscore.js#L672)\n\u30b3\u30fc\u30c9\u7684\u306b\u306f\u3053\u306e\u3042\u305f\u308a\u3002\n\n```javascript\n// Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  \n```\n\n_.indexOf\u81ea\u4f53\u306fcreateIndexFinder\u306b\u5024\u3092\u6e21\u3057\u3066\u3044\u308b\u306e\u307f\u3002\n\n[createIndexFinder](https://github.com/jashkenas/underscore/blob/1.8.3/underscore.js#L643)\u306f\u4ee5\u4e0b\n\n```javascript\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n```\n_.indexOf\u306e\u5834\u5408\u306fdir\u306b1\u3001predocateFind\u306b_.findIndex,sortedIndex\u306b _.sortedIndex\u304c\u5165\u308b\u3002\n\u8fd4\u3055\u308c\u308b\u306e\u306f\u95a2\u6570\u3067\u3001array,item,idx\u306e3\u3064\u306e\u5f15\u6570\u3092\u6301\u3064\u95a2\u6570\u3092\u8fd4\u3059\u3002\n\n\u3064\u307e\u308a\u3053\u3046\u306a\u308b\n\n```javascript\nfunction(array, item, idx) {\n      var predicateFind = _.findIndex;\n      var sortedIndex = _.sortedIndex;\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      \n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = i ; idx >= 0 && idx < length; idx += 1) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n```\nfor\u6587\u7528\u306ei\u3068array\u306elength\u3092\u683c\u7d0d\u3057\u305f\u5909\u6570length\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n\nidx\u304cnumber\u3060\u3063\u305f\u5834\u5408\u3001dir\u306f1\u306a\u306e\u3067\u3001\ni = idx >= 0 ? idx : Math.max(idx + length, i);\n\u306e\u307b\u3046\u306b\u5165\u308b\u3002\nidx\u304c\u5b58\u5728\u3057\u30011\u4ee5\u4e0a\u306e\u5834\u5408\u306fidx\u3092\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306fidx+length\u3068i\u306e\u5927\u304d\u3044\u65b9\u3092i\u306b\u4ee3\u5165\u3059\u308b\u3002\n\nidx\u304cnumber\u3067\u306f\u306a\u304f\u3001sortedIndex\u304c\u5b58\u5728\u3059\u308b\u304b\u3064idx\u304c\u5b58\u5728\u3059\u308b\u304b\u3064length\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\uff08\u30bd\u30fc\u30c8\u6e08\u307f\u306e\u5834\u5408\uff09\u306f\narray,item\u3092_.sortedIndex\u306b\u304b\u3051\u305f\u7d50\u679c\u3092idx\u306b\u683c\u7d0d\u3059\u308b\u3002\nsortedIndex\u306farray\u306e\u4e2d\u3067item\u306e\u8981\u7d20\u304c\u6765\u308b\u6700\u521d\u306e\u7b87\u6240\u3092\u8fd4\u3059\u305f\u3081\u3001array\u306eidx\u756a\u76ee\u304citem\u3068\u5408\u81f4\u3057\u305f\u5834\u5408\u306fidx\u3092\u8fd4\u3059\u3068index\u306e\u7b87\u6240\u306b\u3042\u305f\u308b\u3002\n\n\nitem\u304citem\u3058\u3083\u306a\u3044\u5834\u5408\uff08\uff1f\uff09\u306f\narray\u3092i\u756a\u76ee\u304b\u3089length\u756a\u76ee\u307e\u3067slice\u3057\u3001\u305d\u308c\u3092isNaN\u304c\u30de\u30c3\u30c1\u3059\u308b\u307e\u3067_.findIndex\u306b\u304b\u3051\u3001\u30de\u30c3\u30c1\u3057\u305f\u7b87\u6240\u3092idx\u306b\u4ee3\u5165\u3059\u308b\u3002\nidx\u304c0\u4ee5\u4e0a\u3060\u3063\u305f\u3089\uff08\u30de\u30c3\u30c1\u3057\u3066\u308b\u7b87\u6240\u304c\u3042\u3063\u305f\u3089\uff09idx+i\u3092\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306f-1\u3092\u8fd4\u3059\u3002\n\n\u305d\u308c\u3089\u5168\u3066\u306b\u5f53\u3066\u306f\u307e\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001dir=1\u306a\u306e\u3067\u3001idx\u306bi\u3092\u4ee3\u5165\u3057\u3001idx\u304c0\u4ee5\u4e0a\u304b\u3064idx\u304clength\u306b\u9054\u3059\u308b\u307e\u3067\u3001i++\u3059\u308b\u3002\n\u305d\u306e\u4e2d\u3067\u3001array[idx]\u304citem\u3068\u30de\u30c3\u30c1\u3057\u305f\u5834\u5408\u306f\u305d\u306eidx\u3092\u8fd4\u3059\u3002\n\n\u3053\u308c\u3089\u306b\u5168\u3066\u5408\u81f4\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306f-1\u3092\u8fd4\u3059\u3002\n", "tags": ["JavaScript", "Underscore.js"]}