{"context": " More than 1 year has passed since last update.\u554f\u984c\u306f\u3053\u3061\u3089\u3002\nhttp://nabetani.sakura.ne.jp/hena/ord17scheherazade/\ndef num2ary(num, radix)\n  d,m = num.divmod(radix) \n  num == 0 ? [] : num2ary(d, radix) + [m]\nend\n\ndef solve(q)\n  num = q.to_i\n  (2...num).each_with_object([]){|radix, a|\n    ary = num2ary(num, radix)\n    a << radix if ary == ary.reverse\n  }.join(',').gsub(/^$/,'-')\nend\n\nDATA.readlines.each do |line|\n  no,q,a,s = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans\n  puts ans == a ? ' o' : ' x'\nend\n__END__\n0   17301   5,38,100,218,236,5766,17300\n1   2   -\n2   1   -\n3   3   2\n4   4   3\n5   5   2,4\n\n\u554f\u984c\u306f\u3053\u3061\u3089\u3002\nhttp://nabetani.sakura.ne.jp/hena/ord17scheherazade/\n\n```rb\ndef num2ary(num, radix)\n  d,m = num.divmod(radix) \n  num == 0 ? [] : num2ary(d, radix) + [m]\nend\n\ndef solve(q)\n  num = q.to_i\n  (2...num).each_with_object([]){|radix, a|\n    ary = num2ary(num, radix)\n    a << radix if ary == ary.reverse\n  }.join(',').gsub(/^$/,'-')\nend\n\nDATA.readlines.each do |line|\n  no,q,a,s = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans\n  puts ans == a ? ' o' : ' x'\nend\n__END__\n0\t17301\t5,38,100,218,236,5766,17300\n1\t2\t-\n2\t1\t-\n3\t3\t2\n4\t4\t3\n5\t5\t2,4\n```", "tags": ["Ruby", "\u3069\u3046\u66f8\u304f", "yhpg"]}