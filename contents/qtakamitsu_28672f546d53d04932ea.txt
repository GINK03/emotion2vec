{"context": " More than 1 year has passed since last update.\u3053\u306e\u6295\u7a3f\u306f mruby Advent Calendar 2015 \u306e 9 \u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n\u3053\u306e Cheat Sheet \u306e\u8aac\u660e\nmruby\u306emrbgems\u3092\u958b\u767a\u3059\u308b\u4e0a\u3067\u3001\u3064\u3044\u5fd8\u308c\u304c\u3061\u306a\u3053\u3068\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\nmrbgems \u3092\u958b\u767a\u3059\u308b\u969b\u306b\u624b\u5143\u306b\u8868\u793a\u3057\u3066\u3001\u898b\u308b\u3088\u3046\u306b\u3057\u305f\u308a\u3057\u3066\u3044\u307e\u3059\u3002\u7d30\u304b\u3044\u52d5\u4f5c\u306a\u3069\u304c\u6c17\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u306f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u8a18\u61b6\u304b\u3089\u5f15\u3063\u5f35\u308a\u51fa\u305b\u308b\u7a0b\u5ea6\u306b\u8a18\u8ff0\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u6700\u8fd1 mruby \u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u30b3\u30e1\u30f3\u30c8\u304c\u5145\u5b9f\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3001\u305d\u308c\u3092\u898b\u308b\u3068\u4f55\u3092\u3059\u308b\u3082\u306e\u306a\u306e\u304b\u304c\u5206\u304b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001ruby\u3067C\u62e1\u5f35\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u66f8\u3044\u305f\u3053\u3068\u304c\u3042\u308b\u306a\u3089\u3001\u305d\u308c\u307b\u3069\u62b5\u6297\u306e\u306a\u304fmruby\u306e\u62e1\u5f35\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u66f8\u3051\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\nClass / Module \u3092\u5b9a\u7fa9\u3059\u308b\nmrb_define_module();  // \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\nmrb_define_class();  // \u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\nmrb_define_class_method();  // \u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3059\u308b\n\n\nmruby \u5909\u6570\u3092\u751f\u6210\u3059\u308b\nmrb_value = mrb_nil_value();  // nil\n\nmrb_bool = mrb_true_value();  // true\nmrb_bool = mrb_false_value();  // false\n\nmrb_value mrb_fixnum_value(30);  // \u6570\u5024\n\nmrb_value mrb_str_new_cstr(mrb, \"Come on!\");  // \u6587\u5b57\u5217\n\n\n// \u914d\u5217\nmrb_value array;\narray = mrb_ary_new(mrb);\nmrb_ary_push(mrb, array, mrb_true_value());\n\n// \u30cf\u30c3\u30b7\u30e5\nmrb_value hash;\nhash = mrb_hash_new(mrb);\nmrb_hash_set(mrb, hash, mrb_str_new_cstr(mrb, \"key1\"), mrb_fixnum_value(22));\n\n\n\n\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u3092 mrb_value \u3067\u53d7\u3051\u53d6\u308b\n  mrb_value val;\n\n  mrb_get_args(mrb, \"o\", &val);\n\n\nmrb_get_args() \u3067\u53d7\u3051\u53d6\u308b\u578b\u3092\u6307\u5b9a\u3059\u308b\nmrb_get_args() \u306b\u6e21\u3059 mrb_args_format \u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u3002\nmruby/mruby.h at master \u00b7 mruby/mruby\n\nnil \u304b\u3069\u3046\u304b\n  if (mrb_nil_p(val)) {\n    // 'val' is nil\n  }\n\n\nmrb_value \u306e\u6587\u5b57\u5217\u3092 C \u6587\u5b57\u5217\u306b\u5909\u63db\u3059\u308b\n  char *p;\n  mrb_int len;\n  mrb_value val;\n\n  mrb_get_args(mrb, \"S\", &val);\n\n  p = RSTRING_PTR(val);\n  len = RSTRING_LEN(val);\n\n\nmrb_value \u5909\u6570\u306e\u578b\u306b\u5408\u308f\u305b\u3066\u51e6\u7406\u3092\u3059\u308b\n    mrb_value val;\n\n    switch (mrb_type(val)) {\n    case MRB_TT_STRING:\n        ...\n        break;\n    case MRB_TT_FALSE:\n        ...\n        break;\n    case MRB_TT_TRUE:\n        ...\n        break;\n    case MRB_TT_FIXNUM:\n        ...\n        break;\n    ...\n\n\n[\u3053\u306e\u6295\u7a3f\u306f mruby Advent Calendar 2015 \u306e 9 \u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002](http://qiita.com/advent-calendar/2015/mruby)\n\n# \u3053\u306e Cheat Sheet \u306e\u8aac\u660e\nmruby\u306emrbgems\u3092\u958b\u767a\u3059\u308b\u4e0a\u3067\u3001\u3064\u3044\u5fd8\u308c\u304c\u3061\u306a\u3053\u3068\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\n\nmrbgems \u3092\u958b\u767a\u3059\u308b\u969b\u306b\u624b\u5143\u306b\u8868\u793a\u3057\u3066\u3001\u898b\u308b\u3088\u3046\u306b\u3057\u305f\u308a\u3057\u3066\u3044\u307e\u3059\u3002\u7d30\u304b\u3044\u52d5\u4f5c\u306a\u3069\u304c\u6c17\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u306f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u8a18\u61b6\u304b\u3089\u5f15\u3063\u5f35\u308a\u51fa\u305b\u308b\u7a0b\u5ea6\u306b\u8a18\u8ff0\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u6700\u8fd1 mruby \u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u30b3\u30e1\u30f3\u30c8\u304c\u5145\u5b9f\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3001\u305d\u308c\u3092\u898b\u308b\u3068\u4f55\u3092\u3059\u308b\u3082\u306e\u306a\u306e\u304b\u304c\u5206\u304b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u307e\u305f\u3001ruby\u3067C\u62e1\u5f35\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u66f8\u3044\u305f\u3053\u3068\u304c\u3042\u308b\u306a\u3089\u3001\u305d\u308c\u307b\u3069\u62b5\u6297\u306e\u306a\u304fmruby\u306e\u62e1\u5f35\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u66f8\u3051\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n# Class / Module \u3092\u5b9a\u7fa9\u3059\u308b\n```c\nmrb_define_module();  // \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\nmrb_define_class();  // \u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\nmrb_define_class_method();  // \u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3059\u308b\n```\n\n# mruby \u5909\u6570\u3092\u751f\u6210\u3059\u308b\n\n```c\nmrb_value = mrb_nil_value();  // nil\n\nmrb_bool = mrb_true_value();  // true\nmrb_bool = mrb_false_value();  // false\n\nmrb_value mrb_fixnum_value(30);  // \u6570\u5024\n\nmrb_value mrb_str_new_cstr(mrb, \"Come on!\");  // \u6587\u5b57\u5217\n\n\n// \u914d\u5217\nmrb_value array;\narray = mrb_ary_new(mrb);\nmrb_ary_push(mrb, array, mrb_true_value());\n\n// \u30cf\u30c3\u30b7\u30e5\nmrb_value hash;\nhash = mrb_hash_new(mrb);\nmrb_hash_set(mrb, hash, mrb_str_new_cstr(mrb, \"key1\"), mrb_fixnum_value(22));\n\n```\n\n# \u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u3092 mrb_value \u3067\u53d7\u3051\u53d6\u308b\n\n```c\n  mrb_value val;\n\n  mrb_get_args(mrb, \"o\", &val);\n```\n\n# mrb_get_args() \u3067\u53d7\u3051\u53d6\u308b\u578b\u3092\u6307\u5b9a\u3059\u308b\n`mrb_get_args()` \u306b\u6e21\u3059 `mrb_args_format` \u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u3002\n[mruby/mruby.h at master \u00b7 mruby/mruby](https://github.com/mruby/mruby/blob/master/include/mruby.h#L732-L757)\n\n# nil \u304b\u3069\u3046\u304b\n\n```\n  if (mrb_nil_p(val)) {\n    // 'val' is nil\n  }\n```\n\n# mrb_value \u306e\u6587\u5b57\u5217\u3092 C \u6587\u5b57\u5217\u306b\u5909\u63db\u3059\u308b\n\n```c\n  char *p;\n  mrb_int len;\n  mrb_value val;\n\n  mrb_get_args(mrb, \"S\", &val);\n\n  p = RSTRING_PTR(val);\n  len = RSTRING_LEN(val);\n```\n\n## mrb_value \u5909\u6570\u306e\u578b\u306b\u5408\u308f\u305b\u3066\u51e6\u7406\u3092\u3059\u308b\n\n```c\n    mrb_value val;\n\n    switch (mrb_type(val)) {\n    case MRB_TT_STRING:\n        ...\n        break;\n    case MRB_TT_FALSE:\n        ...\n        break;\n    case MRB_TT_TRUE:\n        ...\n        break;\n    case MRB_TT_FIXNUM:\n        ...\n        break;\n    ...\n\n```\n\n\n", "tags": ["mruby"]}