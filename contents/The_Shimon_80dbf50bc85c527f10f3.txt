{"context": "\n\n\u53d6\u5f97\nextension UIApplication {\n    class func topViewController(controller: UIViewController? = UIApplication.shared.keyWindow?.rootViewController) -> UIViewController? {\n        if let navigationController = controller as? UINavigationController {\n            return topViewController(controller: navigationController.visibleViewController)\n        }\n        if let tabController = controller as? UITabBarController {\n            if let selected = tabController.selectedViewController {\n                return topViewController(controller: selected)\n            }\n        }\n        if let presented = controller?.presentedViewController {\n            return topViewController(controller: presented)\n        }\n        return controller\n    }\n}\n\n\n\u4f7f\u3044\u65b9\nif let topController = UIApplication.topViewController() {\n\n}\n\n# \u53d6\u5f97\n\n```.swift\nextension UIApplication {\n    class func topViewController(controller: UIViewController? = UIApplication.shared.keyWindow?.rootViewController) -> UIViewController? {\n        if let navigationController = controller as? UINavigationController {\n            return topViewController(controller: navigationController.visibleViewController)\n        }\n        if let tabController = controller as? UITabBarController {\n            if let selected = tabController.selectedViewController {\n                return topViewController(controller: selected)\n            }\n        }\n        if let presented = controller?.presentedViewController {\n            return topViewController(controller: presented)\n        }\n        return controller\n    }\n}\n```\n\n# \u4f7f\u3044\u65b9\n\n```.swift\nif let topController = UIApplication.topViewController() {\n\n}\n```\n", "tags": ["Swift", "swift3"]}