{"context": "\n\n\u30dc\u30bf\u30f3\u306e\u4e2d\u306b\u8ffd\u52a0\u3057\u305f\u753b\u50cf\u306e\u8272\u304c\u30af\u30ea\u30c3\u30af\u6642\u306b\u5909\u308f\u3089\u306a\u3044\nUnity\u3067\u30dc\u30bf\u30f3\u306e\u4e2d\u306b image \u3092\u8ffd\u52a0\u3057\u305f\u304c\u3001\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u306b\u3001\u8ffd\u52a0\u3057\u305f image \u306e\u8272\u304c\u5909\u308f\u3089\u306a\u3044...\u3002\n\u306a\u3093\u304b\u753b\u50cf\u304c\u6d6e\u3044\u3066\u308b...\u3002\n\n\u3053\u308c\u306f\u56f0\u3063\u305f...\u3068\u3001\u30b0\u30b0\u3063\u3066\u307f\u305f\u3089...\u3002\nUGUI; Multi image button transition\nhttp://answers.unity3d.com/questions/820311/ugui-multi-image-button-transition.html\n\u306a\u308b\u307b\u3069\u3001\u3053\u308c\u306f\u826f\u3055\u3052\u3060\u306a\u3068...\u4eca\u56de\u3001\u7d44\u307f\u8fbc\u3093\u3067\u307f\u305f\u5185\u5bb9\u3092\u8a18\u9332\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\nMultiImageButton.cs\u3092\u4f5c\u6210\n\u307e\u305a\u3001MultiImageButton.cs\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u304c\u3001\u81ea\u5206\u306fGraphics\u30d7\u30ed\u30d1\u30c6\u30a3\u3067m_graphics\u3078\u4ee3\u5165\u3059\u308b\u5f0f\u3092\u5909\u66f4\u3057\u307e\u3057\u305f(\u30dc\u30bf\u30f3\u81ea\u8eab\u306e\u5b50\u4f9b\u3092\u6307\u5b9a)\u3002\n\nMultiImageButton.cs\n\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\nusing UnityEngine.UI;\nusing UnityEngine.EventSystems;\n\n\n/**\n * \u53c2\u8003\u306b\u3057\u305f URL\n * http://answers.unity3d.com/questions/820311/ugui-multi-image-button-transition.html\n */\npublic class MultiImageButton : Button\n{\n    private Graphic[] m_graphics;\n    protected Graphic[] Graphics\n    {\n        get\n        {\n            if (this.m_graphics == null)\n            {\n                //\u5909\u66f4\u70b9 \u30dc\u30bf\u30f3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4ee5\u4e0b\u306e\u5b50\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5bfe\u8c61\u3068\u3057\u307e\u3057\u305f\u3002\n                this.m_graphics = targetGraphic.transform.GetComponentsInChildren<Graphic>();\n            }\n\n            return this.m_graphics;\n        }\n    }\n\n\n    protected override void DoStateTransition (SelectionState state, bool instant)\n    {\n        Color color;\n        switch (state)\n        {\n            case (Selectable.SelectionState.Normal):\n                color = this.colors.normalColor;\n                break;\n\n            case (Selectable.SelectionState.Highlighted):\n                color = this.colors.highlightedColor;\n                break;\n\n            case (Selectable.SelectionState.Pressed):\n                color = this.colors.pressedColor;\n                break;\n\n            case (Selectable.SelectionState.Disabled):\n                color = this.colors.disabledColor;\n                break;\n\n            default:\n                color = Color.black;\n                break;\n        }\n\n        if (base.gameObject.activeInHierarchy)\n        {\n            switch (this.transition)\n            {\n                case (Selectable.Transition.ColorTint):\n                    this.ColorTween(color * this.colors.colorMultiplier, instant);\n                    break;\n\n                default:\n                    throw new System.NotSupportedException();\n            }\n        }\n    }\n\n\n    private void ColorTween(Color targetColor, bool instant)\n    {\n        if (this.targetGraphic == null)\n        {\n            return;\n        }\n\n        foreach (var g in this.Graphics)\n        {\n            g.CrossFadeColor(targetColor, (!instant) ? this.colors.fadeDuration : 0f, true, true);\n        }\n    }\n}\n\n\n\n\u30dc\u30bf\u30f3\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5dee\u3057\u66ff\u3048\n\u30dc\u30bf\u30f3\u306e\u300cButton (Script)\u300d\u3092\u300cMultiButton (Script)\u300d\u306b\u5dee\u3057\u66ff\u3048\u307e\u3059\u3002\n\u3044\u3063\u305f\u3093\u30dc\u30bf\u30f3\u304b\u3089\u300cButton (Script)\u300d\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u524a\u9664\u3057...\n\n\u30dc\u30bf\u30f3\u306e[Add Component]\u304b\u3089\u300cMulti Image Button (Script)\u300d\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\n\u8ffd\u52a0\u3057\u305f\u300cMulti Image Button (Script)\u300d\u306e\u8a2d\u5b9a\u306f\u4ee5\u524d\u3068\u540c\u3058\u3088\u3046\u306b\u8a2d\u5b9a\u53ef\u80fd\u307f\u305f\u3044\u3067\u3059\u3002\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u30c7\u30d0\u30c3\u30b0\u3057\u3066\u307f\u308b\u3068\u3001\u62bc\u3057\u305f\u3068\u304d\u306e\u9055\u548c\u611f\u304c\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n(\u4f8b\u3060\u3068\u308f\u304b\u308a\u3065\u3089\u3044\u3067\u3059\u304c...)\n\n###\u30dc\u30bf\u30f3\u306e\u4e2d\u306b\u8ffd\u52a0\u3057\u305f\u753b\u50cf\u306e\u8272\u304c\u30af\u30ea\u30c3\u30af\u6642\u306b\u5909\u308f\u3089\u306a\u3044\nUnity\u3067\u30dc\u30bf\u30f3\u306e\u4e2d\u306b image \u3092\u8ffd\u52a0\u3057\u305f\u304c\u3001\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u306b\u3001\u8ffd\u52a0\u3057\u305f image \u306e\u8272\u304c\u5909\u308f\u3089\u306a\u3044...\u3002\n\u306a\u3093\u304b\u753b\u50cf\u304c\u6d6e\u3044\u3066\u308b...\u3002\n![image_2-3.gif](https://qiita-image-store.s3.amazonaws.com/0/9142/2cd1feac-9633-7a72-d15b-57a39070b362.gif)\n\n\u3053\u308c\u306f\u56f0\u3063\u305f...\u3068\u3001\u30b0\u30b0\u3063\u3066\u307f\u305f\u3089...\u3002\n\nUGUI; Multi image button transition\nhttp://answers.unity3d.com/questions/820311/ugui-multi-image-button-transition.html\n\n\u306a\u308b\u307b\u3069\u3001\u3053\u308c\u306f\u826f\u3055\u3052\u3060\u306a\u3068...\u4eca\u56de\u3001\u7d44\u307f\u8fbc\u3093\u3067\u307f\u305f\u5185\u5bb9\u3092\u8a18\u9332\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\n###MultiImageButton.cs\u3092\u4f5c\u6210\n\u307e\u305a\u3001MultiImageButton.cs\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u304c\u3001\u81ea\u5206\u306f`Graphics`\u30d7\u30ed\u30d1\u30c6\u30a3\u3067`m_graphics`\u3078\u4ee3\u5165\u3059\u308b\u5f0f\u3092\u5909\u66f4\u3057\u307e\u3057\u305f(\u30dc\u30bf\u30f3\u81ea\u8eab\u306e\u5b50\u4f9b\u3092\u6307\u5b9a)\u3002\n\n```csharp:MultiImageButton.cs\n\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\nusing UnityEngine.UI;\nusing UnityEngine.EventSystems;\n\n\n/**\n * \u53c2\u8003\u306b\u3057\u305f URL\n * http://answers.unity3d.com/questions/820311/ugui-multi-image-button-transition.html\n */\npublic class MultiImageButton : Button\n{\n\tprivate Graphic[] m_graphics;\n\tprotected Graphic[] Graphics\n\t{\n\t\tget\n\t\t{\n\t\t\tif (this.m_graphics == null)\n\t\t\t{\n\t\t\t\t//\u5909\u66f4\u70b9 \u30dc\u30bf\u30f3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4ee5\u4e0b\u306e\u5b50\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5bfe\u8c61\u3068\u3057\u307e\u3057\u305f\u3002\n\t\t\t\tthis.m_graphics = targetGraphic.transform.GetComponentsInChildren<Graphic>();\n\t\t\t}\n\n\t\t\treturn this.m_graphics;\n\t\t}\n\t}\n\n\n\tprotected override void DoStateTransition (SelectionState state, bool instant)\n\t{\n\t\tColor color;\n\t\tswitch (state)\n\t\t{\n\t\t\tcase (Selectable.SelectionState.Normal):\n\t\t\t\tcolor = this.colors.normalColor;\n\t\t\t\tbreak;\n\n\t\t\tcase (Selectable.SelectionState.Highlighted):\n\t\t\t\tcolor = this.colors.highlightedColor;\n\t\t\t\tbreak;\n\n\t\t\tcase (Selectable.SelectionState.Pressed):\n\t\t\t\tcolor = this.colors.pressedColor;\n\t\t\t\tbreak;\n\n\t\t\tcase (Selectable.SelectionState.Disabled):\n\t\t\t\tcolor = this.colors.disabledColor;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tcolor = Color.black;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (base.gameObject.activeInHierarchy)\n\t\t{\n\t\t\tswitch (this.transition)\n\t\t\t{\n\t\t\t\tcase (Selectable.Transition.ColorTint):\n\t\t\t\t\tthis.ColorTween(color * this.colors.colorMultiplier, instant);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new System.NotSupportedException();\n\t\t\t}\n\t\t}\n\t}\n\n\n\tprivate void ColorTween(Color targetColor, bool instant)\n\t{\n\t\tif (this.targetGraphic == null)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tforeach (var g in this.Graphics)\n\t\t{\n\t\t\tg.CrossFadeColor(targetColor, (!instant) ? this.colors.fadeDuration : 0f, true, true);\n\t\t}\n\t}\n}\n```\n\n\n### \u30dc\u30bf\u30f3\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5dee\u3057\u66ff\u3048\n\u30dc\u30bf\u30f3\u306e\u300cButton (Script)\u300d\u3092\u300cMultiButton (Script)\u300d\u306b\u5dee\u3057\u66ff\u3048\u307e\u3059\u3002\n\n\u3044\u3063\u305f\u3093\u30dc\u30bf\u30f3\u304b\u3089\u300cButton (Script)\u300d\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u524a\u9664\u3057...\n![image_5_edit.png](https://qiita-image-store.s3.amazonaws.com/0/9142/e37c3256-c423-c6ba-16d8-2f53f491ca37.png)\n\n\u30dc\u30bf\u30f3\u306e[Add Component]\u304b\u3089\u300cMulti Image Button (Script)\u300d\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n![image_7_edit.png](https://qiita-image-store.s3.amazonaws.com/0/9142/6756fd06-e15c-042e-f688-5a1a9ed35e0e.png)\n\n\u8ffd\u52a0\u3057\u305f\u300cMulti Image Button (Script)\u300d\u306e\u8a2d\u5b9a\u306f\u4ee5\u524d\u3068\u540c\u3058\u3088\u3046\u306b\u8a2d\u5b9a\u53ef\u80fd\u307f\u305f\u3044\u3067\u3059\u3002\n![image_8.png](https://qiita-image-store.s3.amazonaws.com/0/9142/0c11c5cf-35d2-7a1a-49f0-0cf2bd798b35.png)\n\n\n### \u52d5\u4f5c\u78ba\u8a8d\n\u30c7\u30d0\u30c3\u30b0\u3057\u3066\u307f\u308b\u3068\u3001\u62bc\u3057\u305f\u3068\u304d\u306e\u9055\u548c\u611f\u304c\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n(\u4f8b\u3060\u3068\u308f\u304b\u308a\u3065\u3089\u3044\u3067\u3059\u304c...)\n![image_9-10.gif](https://qiita-image-store.s3.amazonaws.com/0/9142/97e1e6a4-a2da-054e-1765-997f8c60bddd.gif)\n", "tags": ["Unity", "button", "image"]}