{"tags": ["Raspberry", "RaspberryPi", "Navio2", "gstreamer"], "context": "\n\n\u6982\u8981\nGstreamer\u3092\u4f7f\u3063\u3066\u30d3\u30c7\u30aa\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u3057\u3066\u307f\u305f\n\n\u52d5\u4f5c\u74b0\u5883\n\u30dc\u30fc\u30c9\u3000\u3000\u3000\u3000\u3000\uff1aRaspberry Pi 3\n\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\uff1aRaspberry Pi Camera V2\n\u30a4\u30e1\u30fc\u30b8\u3000\u3000\u3000\u3000\uff1aemlid-raspbian-20160408\n\n\u4f7f\u7528\u65b9\u6cd5\n\nRaspberry Pi\u5074\n\n\n\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\nRaspberry Pi\u3092\u8d77\u52d5\u3057\u305f\u3089\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u8d77\u52d5\u3059\u308b\u3002\nsudo raspi-config\n\u300e6 Enable Camera\u300f\u3092\u9078\u629e\u3057\u3001Enable\u3092\u9078\u629e\u3059\u308b\u3002\n\u203b\u8d77\u52d5\u524d\u306b\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092Raspberry Pi\u306b\u63a5\u7d9a\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u9078\u629e\u3057\u305f\u3089\u30ea\u30d6\u30fc\u30c8\u3059\u308b\u3002\nGstreamer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\nsudo apt-get update\nsudo apt-get install gstreamer1.0-tools gstreamer1.0-plugins-good gstreamer1.0-plugins-bad\nGstreamer\u3092\u8d77\u52d5\u3059\u308b\u3002\nraspivid -n -w 1280 -h 720 -b 1000000 -fps 15 -t 0 -o - | gst-launch-1.0 -v fdsrc ! h264parse ! rtph264pay config-interval=10 pt=96 ! udpsink host=\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u5148\u306eIP port=9000\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\n\nGstreamer\u306fMac,Linux,Windows\u306a\u3069\u306eOS\u3067\u52d5\u4f5c\u3059\u308b\u304c\u3001\n\u4eca\u56de\u306fWindows\u3067\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u518d\u751f\u3092\u884c\u3046\u3002\n\nGstreamer\u304b\u3089\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nhttps://gstreamer.freedesktop.org/\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u65b9\u6cd5\u7701\u7565\nGstreamer\u3092\u8d77\u52d5\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u8d77\u52d5\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\ncd gstremaer\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\ngst-launch-1.0 -v udpsrc port=9000 caps=\"application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264\" ! rtph264depay ! avdec_h264 ! videoconvert ! autovideosink sync=f\n\n\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u6620\u50cf\u304c\u518d\u751f\u3055\u308c\u308b\u3002\n\n\n\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\n\nWARNING: erroneous pipeline: no element \"avdec_h264\"\nGstreamer\u304c\u53e4\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002\n\u516c\u5f0f\u304b\u3089\u6700\u65b0\u306eGstreamer\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\u81ea\u5206\u306e\u5834\u5408\u306f\u6700\u65b0\u306eGstreamer\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\"Complete\"\u3092\u9078\u629e\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3063\u305f\u3053\u3068\u3067\u3001\n\u4e0a\u8a18\u306eWARNING\u304c\u8868\u793a\u3055\u308c\u306a\u304f\u306a\u3063\u305f\u3002\nERROR: from element /GstPipeline:pipeline0/GstH264Parse:h264parse0: No valid frames found before end of stream\n\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u6b63\u3057\u304f\u63a5\u7d9a\u3055\u308c\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002\n\u63a5\u7d9a\u3092\u78ba\u8a8d\u3057\u3001\u518d\u5ea6\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u6539\u5584\u3055\u308c\u308b\u3002\n\n# \u6982\u8981\nGstreamer\u3092\u4f7f\u3063\u3066\u30d3\u30c7\u30aa\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u3057\u3066\u307f\u305f\n\n# \u52d5\u4f5c\u74b0\u5883\n\u30dc\u30fc\u30c9\u3000\u3000\u3000\u3000\u3000\uff1aRaspberry Pi 3\n\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\uff1aRaspberry Pi Camera V2\n\u30a4\u30e1\u30fc\u30b8\u3000\u3000\u3000\u3000\uff1aemlid-raspbian-20160408\n\n#\u4f7f\u7528\u65b9\u6cd5\n\n- Raspberry Pi\u5074\n\n1. \u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\nRaspberry Pi\u3092\u8d77\u52d5\u3057\u305f\u3089\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u8d77\u52d5\u3059\u308b\u3002\n```sudo raspi-config```\n\u300e6 Enable Camera\u300f\u3092\u9078\u629e\u3057\u3001Enable\u3092\u9078\u629e\u3059\u308b\u3002\n\u203b\u8d77\u52d5\u524d\u306b\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092Raspberry Pi\u306b\u63a5\u7d9a\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u9078\u629e\u3057\u305f\u3089\u30ea\u30d6\u30fc\u30c8\u3059\u308b\u3002\n\n2. Gstreamer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n```sudo apt-get update\nsudo apt-get install gstreamer1.0-tools gstreamer1.0-plugins-good gstreamer1.0-plugins-bad```\n\n3. Gstreamer\u3092\u8d77\u52d5\u3059\u308b\u3002\n```raspivid -n -w 1280 -h 720 -b 1000000 -fps 15 -t 0 -o - | gst-launch-1.0 -v fdsrc ! h264parse ! rtph264pay config-interval=10 pt=96 ! udpsink host=\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u5148\u306eIP port=9000```\n\n\n\n- \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\n\nGstreamer\u306fMac,Linux,Windows\u306a\u3069\u306eOS\u3067\u52d5\u4f5c\u3059\u308b\u304c\u3001\n\u4eca\u56de\u306fWindows\u3067\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u518d\u751f\u3092\u884c\u3046\u3002\n\n1. Gstreamer\u304b\u3089\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nhttps://gstreamer.freedesktop.org/\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u65b9\u6cd5\u7701\u7565\n\n2. Gstreamer\u3092\u8d77\u52d5\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u8d77\u52d5\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\n```cd gstremaer\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea```\n```gst-launch-1.0 -v udpsrc port=9000 caps=\"application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264\" ! rtph264depay ! avdec_h264 ! videoconvert ! autovideosink sync=f```\n\n\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u6620\u50cf\u304c\u518d\u751f\u3055\u308c\u308b\u3002\n![gst.jpg](https://qiita-image-store.s3.amazonaws.com/0/72035/5ccc9306-6fb5-3379-26fc-57d84b371028.jpeg)\n\n# \u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\n\n- WARNING: erroneous pipeline: no element \"avdec_h264\"\nGstreamer\u304c\u53e4\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002\n\u516c\u5f0f\u304b\u3089\u6700\u65b0\u306eGstreamer\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\u81ea\u5206\u306e\u5834\u5408\u306f\u6700\u65b0\u306eGstreamer\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\"Complete\"\u3092\u9078\u629e\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3063\u305f\u3053\u3068\u3067\u3001\n\u4e0a\u8a18\u306eWARNING\u304c\u8868\u793a\u3055\u308c\u306a\u304f\u306a\u3063\u305f\u3002\n\n\n- ERROR: from element /GstPipeline:pipeline0/GstH264Parse:h264parse0: No valid frames found before end of stream\n\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u6b63\u3057\u304f\u63a5\u7d9a\u3055\u308c\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002\n\u63a5\u7d9a\u3092\u78ba\u8a8d\u3057\u3001\u518d\u5ea6\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u6539\u5584\u3055\u308c\u308b\u3002\n"}