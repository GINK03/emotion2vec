{"tags": ["Rails", "Ruby", "ransack"], "context": "\u81ea\u5206\u7528\u30e1\u30e2\n\u6761\u4ef6A = users.name like %\u5c71\u7530%\n\u6761\u4ef6B = users.email like %gmail.com%\n\u6761\u4ef6C = users.address like %\u6771\u4eac\u90fd%\n\napp/controllers/users_controller.rb\ndef index\n  @q = User.search(params[:q]))\n  @q.build_grouping unless @q.groupings.any?\n  @users = @q.result\nend\n\n\n\napp/views/users/index.html.haml\n= search_form_for @q do |f|\n  = f.search_field :name_cont\n  = f.grouping_fields do |g|\n    = g.hidden_field :m, value: 'or'\n    = g.search_field :email_cont\n    = g.search_field :address_cont\n\n\n\u3053\u3093\u306a\u611f\u3058\u306eSQL\u304c\u4f5c\u6210\u3055\u308c\u308b\nSELECT  \"users\".* FROM \"users\"\nWHERE (\"users\".\"name\" ILIKE '%\u5c71\u7530%'\n       AND (\"users\".\"email\" ILIKE '%gmail.com%'\n            OR \"users\".\"address\" ILIKE '%\u6771\u4eac\u90fd%'))\n\n\u53c2\u8003\nhttp://stackoverflow.com/questions/32349699/ransack-grouping-to-use-or-combinator\n\u81ea\u5206\u7528\u30e1\u30e2\n\n\u6761\u4ef6A = `users.name like %\u5c71\u7530%`\n\u6761\u4ef6B = `users.email like %gmail.com%`\n\u6761\u4ef6C = `users.address like %\u6771\u4eac\u90fd%`\n\n```rb:app/controllers/users_controller.rb\ndef index\n  @q = User.search(params[:q]))\n  @q.build_grouping unless @q.groupings.any?\n  @users = @q.result\nend\n```\n\n```haml:app/views/users/index.html.haml\n= search_form_for @q do |f|\n  = f.search_field :name_cont\n  = f.grouping_fields do |g|\n    = g.hidden_field :m, value: 'or'\n    = g.search_field :email_cont\n    = g.search_field :address_cont\n```\n\n\u3053\u3093\u306a\u611f\u3058\u306eSQL\u304c\u4f5c\u6210\u3055\u308c\u308b\n\n```sql\nSELECT  \"users\".* FROM \"users\"\nWHERE (\"users\".\"name\" ILIKE '%\u5c71\u7530%'\n       AND (\"users\".\"email\" ILIKE '%gmail.com%'\n            OR \"users\".\"address\" ILIKE '%\u6771\u4eac\u90fd%'))\n```\n\n\u53c2\u8003\n\nhttp://stackoverflow.com/questions/32349699/ransack-grouping-to-use-or-combinator\n\n"}