{"context": "\n\u52d5\u4f5c\u74b0\u5883\nC++ Builder XE4\n\n\n\u30a4\u30d9\u30f3\u30c8\u958b\u59cb\u5f8c\u306e\u7d4c\u904e\u79d2\u6570\u3092\u8868\u793a\u3057\u305f\u3044\u3002\nTStopwatch\u3092\u4f7f\u3063\u3066\u307f\u305f\u3002\n\u53c2\u8003 http://www.gesource.jp/programming/bcb/110.html\n\n\u4ee5\u4e0b\u304c\u5fc5\u8981\n\n\n\n#include <System.Diagnostics.hpp> //\n\n#include <TimeSpan.hpp> //\n\n\n\n\nUnit1.h\n//---------------------------------------------------------------------------\n\n#ifndef Unit1H\n#define Unit1H\n//---------------------------------------------------------------------------\n#include <System.Classes.hpp>\n#include <Vcl.Controls.hpp>\n#include <Vcl.StdCtrls.hpp>\n#include <Vcl.Forms.hpp>\n#include <Vcl.ExtCtrls.hpp>\n\n#include <System.Diagnostics.hpp> //\n#include <TimeSpan.hpp> //\n//---------------------------------------------------------------------------\nclass TForm1 : public TForm\n{\n__published:    // IDE \u3067\u7ba1\u7406\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n    TTimer *Timer1;\n    TLabel *Label1;\n    TButton *B_start;\n    TButton *B_stop;\n    void __fastcall Timer1Timer(TObject *Sender);\n    void __fastcall B_startClick(TObject *Sender);\n    void __fastcall B_stopClick(TObject *Sender);\n    void __fastcall FormClose(TObject *Sender, TCloseAction &Action);\nprivate:    // \u30e6\u30fc\u30b6\u30fc\u5ba3\u8a00\n    TStopwatch m_stopwatch;\npublic:     // \u30e6\u30fc\u30b6\u30fc\u5ba3\u8a00\n    __fastcall TForm1(TComponent* Owner);\n};\n//---------------------------------------------------------------------------\nextern PACKAGE TForm1 *Form1;\n//---------------------------------------------------------------------------\n#endif\n\n\n\nUnit1.cpp\n//---------------------------------------------------------------------------\n\n#include <vcl.h>\n#pragma hdrstop\n\n#include \"Unit1.h\"\n//---------------------------------------------------------------------------\n#pragma package(smart_init)\n#pragma resource \"*.dfm\"\nTForm1 *Form1;\n//---------------------------------------------------------------------------\n__fastcall TForm1::TForm1(TComponent* Owner)\n    : TForm(Owner)\n{\n    m_stopwatch = TStopwatch::Create();\n}\n//---------------------------------------------------------------------------\nvoid __fastcall TForm1::Timer1Timer(TObject *Sender)\n{\n    int elpsd_sec = m_stopwatch.ElapsedMilliseconds / 1000;\n\n    String msg = IntToStr(elpsd_sec);\n    Label1->Caption = msg;\n}\n//---------------------------------------------------------------------------\nvoid __fastcall TForm1::B_startClick(TObject *Sender)\n{\n    m_stopwatch.Reset();\n    m_stopwatch.Start();\n\n    Timer1->Interval = 1000;\n    Timer1->Enabled = true;\n}\n//---------------------------------------------------------------------------\n\nvoid __fastcall TForm1::B_stopClick(TObject *Sender)\n{\n    Timer1->Enabled = false;\n\n    m_stopwatch.Stop();\n}\n//---------------------------------------------------------------------------\nvoid __fastcall TForm1::FormClose(TObject *Sender, TCloseAction &Action)\n{\n    m_stopwatch.Stop();\n}\n//---------------------------------------------------------------------------\n\n\n\nm_stopwatch\u3068\u3044\u3046\uff11\u3064\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3067\u7ba1\u7406\u3067\u304d\u308b\u306e\u306f\u5229\u70b9\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n```txt:\u52d5\u4f5c\u74b0\u5883\nC++ Builder XE4\n```\n\n\u30a4\u30d9\u30f3\u30c8\u958b\u59cb\u5f8c\u306e\u7d4c\u904e\u79d2\u6570\u3092\u8868\u793a\u3057\u305f\u3044\u3002\n\nTStopwatch\u3092\u4f7f\u3063\u3066\u307f\u305f\u3002\n\n\u53c2\u8003 http://www.gesource.jp/programming/bcb/110.html\n\n- \u4ee5\u4e0b\u304c\u5fc5\u8981\n  - `#include <System.Diagnostics.hpp>` //\n  - `#include <TimeSpan.hpp>` //\n\n```Unit1.h\n//---------------------------------------------------------------------------\n\n#ifndef Unit1H\n#define Unit1H\n//---------------------------------------------------------------------------\n#include <System.Classes.hpp>\n#include <Vcl.Controls.hpp>\n#include <Vcl.StdCtrls.hpp>\n#include <Vcl.Forms.hpp>\n#include <Vcl.ExtCtrls.hpp>\n\n#include <System.Diagnostics.hpp> //\n#include <TimeSpan.hpp> //\n//---------------------------------------------------------------------------\nclass TForm1 : public TForm\n{\n__published:\t// IDE \u3067\u7ba1\u7406\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n\tTTimer *Timer1;\n\tTLabel *Label1;\n\tTButton *B_start;\n\tTButton *B_stop;\n\tvoid __fastcall Timer1Timer(TObject *Sender);\n\tvoid __fastcall B_startClick(TObject *Sender);\n\tvoid __fastcall B_stopClick(TObject *Sender);\n\tvoid __fastcall FormClose(TObject *Sender, TCloseAction &Action);\nprivate:\t// \u30e6\u30fc\u30b6\u30fc\u5ba3\u8a00\n\tTStopwatch m_stopwatch;\npublic:\t\t// \u30e6\u30fc\u30b6\u30fc\u5ba3\u8a00\n\t__fastcall TForm1(TComponent* Owner);\n};\n//---------------------------------------------------------------------------\nextern PACKAGE TForm1 *Form1;\n//---------------------------------------------------------------------------\n#endif\n```\n\n```Unit1.cpp\n//---------------------------------------------------------------------------\n\n#include <vcl.h>\n#pragma hdrstop\n\n#include \"Unit1.h\"\n//---------------------------------------------------------------------------\n#pragma package(smart_init)\n#pragma resource \"*.dfm\"\nTForm1 *Form1;\n//---------------------------------------------------------------------------\n__fastcall TForm1::TForm1(TComponent* Owner)\n\t: TForm(Owner)\n{\n\tm_stopwatch = TStopwatch::Create();\n}\n//---------------------------------------------------------------------------\nvoid __fastcall TForm1::Timer1Timer(TObject *Sender)\n{\n\tint elpsd_sec = m_stopwatch.ElapsedMilliseconds / 1000;\n\n\tString msg = IntToStr(elpsd_sec);\n\tLabel1->Caption = msg;\n}\n//---------------------------------------------------------------------------\nvoid __fastcall TForm1::B_startClick(TObject *Sender)\n{\n\tm_stopwatch.Reset();\n\tm_stopwatch.Start();\n\n\tTimer1->Interval = 1000;\n\tTimer1->Enabled = true;\n}\n//---------------------------------------------------------------------------\n\nvoid __fastcall TForm1::B_stopClick(TObject *Sender)\n{\n\tTimer1->Enabled = false;\n\n\tm_stopwatch.Stop();\n}\n//---------------------------------------------------------------------------\nvoid __fastcall TForm1::FormClose(TObject *Sender, TCloseAction &Action)\n{\n\tm_stopwatch.Stop();\n}\n//---------------------------------------------------------------------------\n```\n\n![qiita.png](https://qiita-image-store.s3.amazonaws.com/0/32870/e6cf9576-64a8-9706-9ce0-17db943aaa89.png)\n\nm_stopwatch\u3068\u3044\u3046\uff11\u3064\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3067\u7ba1\u7406\u3067\u304d\u308b\u306e\u306f\u5229\u70b9\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\n", "tags": ["cppBuilder", "TTimer"]}