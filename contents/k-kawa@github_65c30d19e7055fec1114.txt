{"context": "Ubuntu 14.04 \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u307e\u3067\u306e\u624b\u9806\u3002\n\n\u307e\u305a\u306f Zabbix 3.0 \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8a2d\u5b9a\u3059\u308b\u3002\nwget http://repo.zabbix.com/zabbix/3.0/ubuntu/pool/main/z/zabbix-release/zabbix-release_3.0-1+trusty_all.deb\nsudo dpkg -i zabbix-release_3.0-1+trusty_all.deb\nsudo apt-get update\n\n\u3067\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\nsudo apt-get install zabbix-agent \n# \u305d\u306e\u30db\u30b9\u30c8\u3092\u76e3\u8996\u3059\u308b\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3002\n\nsudo apt-get install zabbix-server-mysql --no-install-recommends\n# Zabbix \u306e\u672c\u4f53\u3002\n# --no-install-recommends \u3092\u3064\u3051\u306a\u3044\u3068\u3001\u30ed\u30fc\u30ab\u30eb\u306b MySQL \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3057\u307e\u3046\u3002\n# \u307e\u3042\u3001\u4eca\u56de\u306f\u5225\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3082\u3044\u3044\u3051\u3069\u3002\n\nsudo apt-get install zabbix-frontend-php\n# Zabbix \u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3002\n\nsudo apt-get install php5-mysql\n# PHP \u306e MySQL \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3002\u8868\u793a\u306b\u4f7f\u3046\u3002\n\n\u6b21\u306b\u3001MySQL \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u30e6\u30fc\u30b6\u3068\u3001\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u308b\u3002\nmysql -uroot -p -e \"grant all on zabbix.* to 'zabbix'@'localhost' identified by 'SECRETPASSWORD'\"\nmysql -uroot -p -e \"create database zabbix character set utf8\"\n\n\u305d\u3057\u3066\u3001\u305d\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u521d\u671f\u5316\u3059\u308b\u3002\nzcat /usr/share/doc/zabbix-server-mysql/create.sql.gz  | mysql -uroot -p zabbix\n\n\u6b21\u306b\u3001Zabbix \u304c DB \u306b\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u3002\u5909\u66f4\u304c\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u4e0b\u8a18\u306e\uff14\u3064\u3002\n# vi /etc/zabbix/zabbix_server.conf\nDBHost=localhost\nDBName=zabbix\nDBUser=zabbix\nDBPassword=SECRETPASSWORD\n\n\u4ee5\u4e0a\u3067 Zabbix \u306e\u8a2d\u5b9a\u306f\u7d42\u308f\u308a\u3002\n\u3042\u3068\u306f Apache \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3059\u308b\u3060\u3051\u3002\u30b5\u30f3\u30d7\u30eb\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u30b3\u30d4\u30fc\u3057\u3066\u304d\u3066\u3001\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3060\u3051\u8a2d\u5b9a\u3059\u308b\u3002\nsudo cp /etc/zabbix/apache.conf /etc/apache2/conf-available/zabbix.conf\nsudo ln -s /etc/apache2/conf-{available,enabled}/zabbix.conf\nsudo vi /etc/apache2/conf-available/zabbix.conf\n....\nphp_value date.timezone Asia/Tokyo\n\n\u6700\u5f8c\u306b\u3001zabbix \u672c\u4f53\u3068 apache \u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\nsudo service zabbix restart\nsudo service apache2 restart\n\n\u3053\u308c\u3067\u8a2d\u5b9a\u306f\u5b8c\u4e86\u3002http://\u30db\u30b9\u30c8\u540d/zabbix/setup.php \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068...\n\n\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3002\n\u3042\u3068\u306f\u30dd\u30c1\u30dd\u30c1\u8a2d\u5b9a\u3057\u3066\u3044\u304f\u3002\n\n\n\n\n\n\u3053\u308c\u3067\u8a2d\u5b9a\u5b8c\u4e86\uff01\u3084\u3063\u305f\uff01\uff01\n\u30e6\u30fc\u30b6\u540d Admin / \u30d1\u30b9\u30ef\u30fc\u30c9 zabbix \u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3002\n\n\n\u308f\u30fc\u3044\uff01\nUbuntu 14.04 \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u307e\u3067\u306e\u624b\u9806\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/17333/347f1f6d-9b1e-18e7-fb77-c82d41c2a2ec.png)\n\n\u307e\u305a\u306f Zabbix 3.0 \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n\n    wget http://repo.zabbix.com/zabbix/3.0/ubuntu/pool/main/z/zabbix-release/zabbix-release_3.0-1+trusty_all.deb\n    sudo dpkg -i zabbix-release_3.0-1+trusty_all.deb\n    sudo apt-get update\n\n\u3067\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n    sudo apt-get install zabbix-agent \n    # \u305d\u306e\u30db\u30b9\u30c8\u3092\u76e3\u8996\u3059\u308b\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3002\n\n    sudo apt-get install zabbix-server-mysql --no-install-recommends\n    # Zabbix \u306e\u672c\u4f53\u3002\n    # --no-install-recommends \u3092\u3064\u3051\u306a\u3044\u3068\u3001\u30ed\u30fc\u30ab\u30eb\u306b MySQL \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3057\u307e\u3046\u3002\n    # \u307e\u3042\u3001\u4eca\u56de\u306f\u5225\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3082\u3044\u3044\u3051\u3069\u3002\n\n    sudo apt-get install zabbix-frontend-php\n    # Zabbix \u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3002\n\n    sudo apt-get install php5-mysql\n    # PHP \u306e MySQL \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3002\u8868\u793a\u306b\u4f7f\u3046\u3002\n\n\u6b21\u306b\u3001MySQL \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u30e6\u30fc\u30b6\u3068\u3001\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u308b\u3002\n\n    mysql -uroot -p -e \"grant all on zabbix.* to 'zabbix'@'localhost' identified by 'SECRETPASSWORD'\"\n    mysql -uroot -p -e \"create database zabbix character set utf8\"\n\n\u305d\u3057\u3066\u3001\u305d\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u521d\u671f\u5316\u3059\u308b\u3002\n\n    zcat /usr/share/doc/zabbix-server-mysql/create.sql.gz  | mysql -uroot -p zabbix\n\n\u6b21\u306b\u3001Zabbix \u304c DB \u306b\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u3002\u5909\u66f4\u304c\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u4e0b\u8a18\u306e\uff14\u3064\u3002\n\n    # vi /etc/zabbix/zabbix_server.conf\n    DBHost=localhost\n    DBName=zabbix\n    DBUser=zabbix\n    DBPassword=SECRETPASSWORD\n\n\u4ee5\u4e0a\u3067 Zabbix \u306e\u8a2d\u5b9a\u306f\u7d42\u308f\u308a\u3002\n\n\u3042\u3068\u306f Apache \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3059\u308b\u3060\u3051\u3002\u30b5\u30f3\u30d7\u30eb\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u30b3\u30d4\u30fc\u3057\u3066\u304d\u3066\u3001\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3060\u3051\u8a2d\u5b9a\u3059\u308b\u3002\n\n    sudo cp /etc/zabbix/apache.conf /etc/apache2/conf-available/zabbix.conf\n    sudo ln -s /etc/apache2/conf-{available,enabled}/zabbix.conf\n    sudo vi /etc/apache2/conf-available/zabbix.conf\n    ....\n    php_value date.timezone Asia/Tokyo\n\n\u6700\u5f8c\u306b\u3001zabbix \u672c\u4f53\u3068 apache \u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n\n    sudo service zabbix restart\n    sudo service apache2 restart\n\n\u3053\u308c\u3067\u8a2d\u5b9a\u306f\u5b8c\u4e86\u3002`http://\u30db\u30b9\u30c8\u540d/zabbix/setup.php` \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068...\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/17333/347f1f6d-9b1e-18e7-fb77-c82d41c2a2ec.png)\n\n\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3002\n\n\u3042\u3068\u306f\u30dd\u30c1\u30dd\u30c1\u8a2d\u5b9a\u3057\u3066\u3044\u304f\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/17333/33a86105-2dd8-12a8-ddbf-f2dd2ec35106.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/17333/ad88ad4b-bec6-25e1-0870-f93376febc53.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/17333/f93782d1-6543-3765-b75c-198997787658.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/17333/83c1c3f7-00e0-0014-b051-b82e2c981589.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/17333/39efd7e2-9120-a75f-c4a1-ab48dea36c9a.png)\n\n\u3053\u308c\u3067\u8a2d\u5b9a\u5b8c\u4e86\uff01\u3084\u3063\u305f\uff01\uff01\n\n\u30e6\u30fc\u30b6\u540d Admin / \u30d1\u30b9\u30ef\u30fc\u30c9 zabbix \u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/17333/524c65b7-5555-5d9a-a3fc-42ebeaac657a.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/17333/07f2e0e1-0324-aeb0-6f5d-bbf8cf7e1570.png)\n\n\u308f\u30fc\u3044\uff01\n\n", "tags": ["Ubuntu14.04", "zabbix", "monitoring"]}