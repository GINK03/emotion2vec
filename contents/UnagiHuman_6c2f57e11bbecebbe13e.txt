{"context": "\n\n\u52d5\u4f5c\u74b0\u5883\nUnity5.5.0f3\nNGUI 3.11.1\n\n\u624b\u9806\n\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u306b\u306a\u308a\u307e\u3059\u3002\n\nNGUI\u306e\u30b7\u30a7\u30fc\u30c0\u30fc\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\nUISprite\u3001UITexture\u306e\u30de\u30c6\u30ea\u30a2\u30eb\u3092\u4e0a\u8a18\u30b7\u30a7\u30fc\u30c0\u30fc\u3092\u5229\u7528\u3057\u305f\u30de\u30c6\u30ea\u30a2\u30eb\u306b\u5dee\u3057\u66ff\u3048\u308b\nC#\u5074\u304b\u3089\u30de\u30c6\u30ea\u30a2\u30eb\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\n\n3\u756a\u76ee\u306e\u65b9\u6cd5\u306f\u4ee5\u524d\u66f8\u3044\u305f\u8a18\u4e8b\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n\nNGUI\u306e\u30b7\u30a7\u30fc\u30c0\u30fc\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\nNGUI\u306e\u300cUnlit/Transparent Colored\u300d\u30b7\u30a7\u30fc\u30c0\u30fc\u306b\u52a0\u7b97\u5408\u6210\u306e\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\u5f62\u3067\u4f5c\u3063\u305f\u306e\u304c\u4ee5\u4e0b\u306e\u30b7\u30a7\u30fc\u30c0\u30fc\u3067\u3059\u3002\u30b3\u30e1\u30f3\u30c8\u3057\u305f\u7b87\u6240\u304c\u5143\u306e\u30b7\u30a7\u30fc\u30c0\u30fc\u306b\u5bfe\u3057\u3066\u8ffd\u52a0\u3057\u305f\u90e8\u5206\u3067\u3059\u3002\n\nShader \"Unlit/Transparent Colored Add\"\n{\n    Properties\n    {\n        _MainTex (\"Base (RGB), Alpha (A)\", 2D) = \"black\" {}\n        //\u52a0\u7b97\u5408\u6210\u3059\u308b\u8272\n        _Color (\"Tint\", Color) = (1,1,1,1)\n        //\u52a0\u7b97\u5408\u6210\u3059\u308b\u5272\u5408\n        _AddPercentage (\"Add %\", Range (0.0,1.0)) = 1.0\n    }\n\n    SubShader\n    {\n        LOD 200\n\n        Tags\n        {\n            \"Queue\" = \"Transparent\"\n            \"IgnoreProjector\" = \"True\"\n            \"RenderType\" = \"Transparent\"\n            \"DisableBatching\" = \"True\"\n        }\n\n        Pass\n        {\n            Cull Off\n            Lighting Off\n            ZWrite Off\n            Fog { Mode Off }\n            Offset -1, -1\n            Blend SrcAlpha OneMinusSrcAlpha\n\n            CGPROGRAM\n            #pragma vertex vert\n            #pragma fragment frag           \n            #include \"UnityCG.cginc\"\n\n            sampler2D _MainTex;\n            float4 _MainTex_ST;\n            fixed4 _Color;\n            float _AddPercentage;\n\n            struct appdata_t\n            {\n                float4 vertex : POSITION;\n                float2 texcoord : TEXCOORD0;\n                fixed4 color : COLOR;\n            };\n\n            struct v2f\n            {\n                float4 vertex : SV_POSITION;\n                half2 texcoord : TEXCOORD0;\n                fixed4 color : COLOR;\n            };\n\n            v2f o;\n\n            v2f vert (appdata_t v)\n            {\n                o.vertex = mul(UNITY_MATRIX_MVP, v.vertex);\n                o.texcoord = v.texcoord;\n                //\u52a0\u7b97\u5408\u6210\n                o.color.rgb = v.color.rgb + _Color.rgb * _AddPercentage;\n                o.color.a = v.color.a * _Color.a;\n                return o;\n            }\n\n            fixed4 frag (v2f IN) : SV_Target\n            {\n                return tex2D(_MainTex, IN.texcoord) * IN.color;\n            }\n            ENDCG\n        }\n    }\n\n    SubShader\n    {\n        LOD 100\n\n        Tags\n        {\n            \"Queue\" = \"Transparent\"\n            \"IgnoreProjector\" = \"True\"\n            \"RenderType\" = \"Transparent\"\n            \"DisableBatching\" = \"True\"\n        }\n\n        Pass\n        {\n            Cull Off\n            Lighting Off\n            ZWrite Off\n            Fog { Mode Off }\n            Offset -1, -1\n            //ColorMask RGB\n            Blend SrcAlpha OneMinusSrcAlpha\n            ColorMaterial AmbientAndDiffuse\n\n            SetTexture [_MainTex]\n            {\n                Combine Texture * Primary\n            }\n        }\n    }\n}\n\n\nC#\u5074\u304b\u3089\u30de\u30c6\u30ea\u30a2\u30eb\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\n\u4e0b\u8a18\u304cC#\u5074\u304b\u3089\u30de\u30c6\u30ea\u30a2\u30eb\u306e\u52a0\u7b97\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\u8a72\u5f53\u3059\u308bUISprite\u7b49\u306b\u30a2\u30bf\u30c3\u30c1\u3057\u307e\u3059\u3002\n\nUIControllAdd.cs\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class UIControllAdd : MonoBehaviour {\n/// <summary>\n    /// \u52a0\u7b97\u3059\u308b\u5272\u5408\n    /// </summary>\n    /// <value>The add parcentage.</value>\n    public float addParcentage {\n        get {\n            return m_addParcentage;\n        }\n\n        set {\n            m_addParcentage = value;\n\n        }\n    }\n\n    /// <summary>\n    /// \u52a0\u7b97\u306e\u5272\u5408\n    /// </summary>\n    [SerializeField, Range(0f,1f)] float    m_addParcentage;\n\n    void Awake()\n    {\n        var widget = GetComponent<UIWidget>();\n        widget.onRender = SetControllAddCB;\n    }\n\n    void SetControllAddCB(Material mat)\n    {\n        mat.SetFloat(\"_AddPercentage\",m_addParcentage);\n    }\n}\n\n\n\u4ee5\u4e0a\u3002\n# \u52d5\u4f5c\u74b0\u5883\nUnity5.5.0f3\nNGUI 3.11.1\n\n#\u624b\u9806\n\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u306b\u306a\u308a\u307e\u3059\u3002\n\n1. NGUI\u306e\u30b7\u30a7\u30fc\u30c0\u30fc\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\n2. UISprite\u3001UITexture\u306e\u30de\u30c6\u30ea\u30a2\u30eb\u3092\u4e0a\u8a18\u30b7\u30a7\u30fc\u30c0\u30fc\u3092\u5229\u7528\u3057\u305f\u30de\u30c6\u30ea\u30a2\u30eb\u306b\u5dee\u3057\u66ff\u3048\u308b\n3. C#\u5074\u304b\u3089\u30de\u30c6\u30ea\u30a2\u30eb\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\n\n3\u756a\u76ee\u306e\u65b9\u6cd5\u306f[\u4ee5\u524d\u66f8\u3044\u305f\u8a18\u4e8b](http://qiita.com/UnagiHuman/items/d62a2a1de84cc83ae227)\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n\n#NGUI\u306e\u30b7\u30a7\u30fc\u30c0\u30fc\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\nNGUI\u306e\u300cUnlit/Transparent Colored\u300d\u30b7\u30a7\u30fc\u30c0\u30fc\u306b\u52a0\u7b97\u5408\u6210\u306e\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\u5f62\u3067\u4f5c\u3063\u305f\u306e\u304c\u4ee5\u4e0b\u306e\u30b7\u30a7\u30fc\u30c0\u30fc\u3067\u3059\u3002\u30b3\u30e1\u30f3\u30c8\u3057\u305f\u7b87\u6240\u304c\u5143\u306e\u30b7\u30a7\u30fc\u30c0\u30fc\u306b\u5bfe\u3057\u3066\u8ffd\u52a0\u3057\u305f\u90e8\u5206\u3067\u3059\u3002\n\n```\n\nShader \"Unlit/Transparent Colored Add\"\n{\n\tProperties\n\t{\n\t\t_MainTex (\"Base (RGB), Alpha (A)\", 2D) = \"black\" {}\n\t\t//\u52a0\u7b97\u5408\u6210\u3059\u308b\u8272\n\t\t_Color (\"Tint\", Color) = (1,1,1,1)\n\t\t//\u52a0\u7b97\u5408\u6210\u3059\u308b\u5272\u5408\n\t\t_AddPercentage (\"Add %\", Range (0.0,1.0)) = 1.0\n\t}\n\t\n\tSubShader\n\t{\n\t\tLOD 200\n\n\t\tTags\n\t\t{\n\t\t\t\"Queue\" = \"Transparent\"\n\t\t\t\"IgnoreProjector\" = \"True\"\n\t\t\t\"RenderType\" = \"Transparent\"\n\t\t\t\"DisableBatching\" = \"True\"\n\t\t}\n\t\t\n\t\tPass\n\t\t{\n\t\t\tCull Off\n\t\t\tLighting Off\n\t\t\tZWrite Off\n\t\t\tFog { Mode Off }\n\t\t\tOffset -1, -1\n\t\t\tBlend SrcAlpha OneMinusSrcAlpha\n\n\t\t\tCGPROGRAM\n\t\t\t#pragma vertex vert\n\t\t\t#pragma fragment frag\t\t\t\n\t\t\t#include \"UnityCG.cginc\"\n\n\t\t\tsampler2D _MainTex;\n\t\t\tfloat4 _MainTex_ST;\n\t\t\tfixed4 _Color;\n\t\t\tfloat _AddPercentage;\n\t\n\t\t\tstruct appdata_t\n\t\t\t{\n\t\t\t\tfloat4 vertex : POSITION;\n\t\t\t\tfloat2 texcoord : TEXCOORD0;\n\t\t\t\tfixed4 color : COLOR;\n\t\t\t};\n\t\n\t\t\tstruct v2f\n\t\t\t{\n\t\t\t\tfloat4 vertex : SV_POSITION;\n\t\t\t\thalf2 texcoord : TEXCOORD0;\n\t\t\t\tfixed4 color : COLOR;\n\t\t\t};\n\t\n\t\t\tv2f o;\n\n\t\t\tv2f vert (appdata_t v)\n\t\t\t{\n\t\t\t\to.vertex = mul(UNITY_MATRIX_MVP, v.vertex);\n\t\t\t\to.texcoord = v.texcoord;\n\t\t\t\t//\u52a0\u7b97\u5408\u6210\n\t\t\t\to.color.rgb = v.color.rgb + _Color.rgb * _AddPercentage;\n\t\t\t\to.color.a = v.color.a * _Color.a;\n\t\t\t\treturn o;\n\t\t\t}\n\t\t\t\t\n\t\t\tfixed4 frag (v2f IN) : SV_Target\n\t\t\t{\n\t\t\t\treturn tex2D(_MainTex, IN.texcoord) * IN.color;\n\t\t\t}\n\t\t\tENDCG\n\t\t}\n\t}\n\n\tSubShader\n\t{\n\t\tLOD 100\n\n\t\tTags\n\t\t{\n\t\t\t\"Queue\" = \"Transparent\"\n\t\t\t\"IgnoreProjector\" = \"True\"\n\t\t\t\"RenderType\" = \"Transparent\"\n\t\t\t\"DisableBatching\" = \"True\"\n\t\t}\n\t\t\n\t\tPass\n\t\t{\n\t\t\tCull Off\n\t\t\tLighting Off\n\t\t\tZWrite Off\n\t\t\tFog { Mode Off }\n\t\t\tOffset -1, -1\n\t\t\t//ColorMask RGB\n\t\t\tBlend SrcAlpha OneMinusSrcAlpha\n\t\t\tColorMaterial AmbientAndDiffuse\n\t\t\t\n\t\t\tSetTexture [_MainTex]\n\t\t\t{\n\t\t\t\tCombine Texture * Primary\n\t\t\t}\n\t\t}\n\t}\n}\n```\n\n#C#\u5074\u304b\u3089\u30de\u30c6\u30ea\u30a2\u30eb\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\n\u4e0b\u8a18\u304cC#\u5074\u304b\u3089\u30de\u30c6\u30ea\u30a2\u30eb\u306e\u52a0\u7b97\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\u8a72\u5f53\u3059\u308bUISprite\u7b49\u306b\u30a2\u30bf\u30c3\u30c1\u3057\u307e\u3059\u3002\n\n```UIControllAdd.cs\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class UIControllAdd : MonoBehaviour {\n/// <summary>\n\t/// \u52a0\u7b97\u3059\u308b\u5272\u5408\n\t/// </summary>\n\t/// <value>The add parcentage.</value>\n\tpublic float addParcentage {\n\t\tget {\n\t\t\treturn m_addParcentage;\n\t\t}\n\n\t\tset {\n\t\t\tm_addParcentage = value;\n\n\t\t}\n\t}\n\n\t/// <summary>\n\t/// \u52a0\u7b97\u306e\u5272\u5408\n\t/// </summary>\n\t[SerializeField, Range(0f,1f)] float\tm_addParcentage;\n\n\tvoid Awake()\n\t{\n\t\tvar widget = GetComponent<UIWidget>();\n\t\twidget.onRender = SetControllAddCB;\n\t}\n\n\tvoid SetControllAddCB(Material mat)\n\t{\n\t\tmat.SetFloat(\"_AddPercentage\",m_addParcentage);\n\t}\n}\n```\n\n\u4ee5\u4e0a\u3002\n", "tags": ["Unity", "NGUI"]}