{"context": "\n\n\n\u591a\u6bb5\u968e\u9078\u629c\n\u30b7\u30ea\u30fc\u30ba:yield\u306e\u7df4\u7fd2/\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u5165\u308c\u5b50\u306b\n\n\n\n\n\u554f\u984c\n\nhttp://nabetani.sakura.ne.jp/hena/ord24eliseq/http://qiita.com/Nabetani/items/1c83005a854d2c6cbb69\n\n\n\nRuby\nhttp://qiita.com/cielavenir/items/9f15e29b73ecf98968a5\n\n\nC#/Python\nhttp://qiita.com/cielavenir/items/a1156e6a4f71ddbe5dcb\n\n\n\n\u3053\u3053\u304b\u3089\u4e0a\u306fdrop_prev_square/drop_prev_cubic\u3092\u307e\u3068\u3081\u308b\u524d\u306e\u7b54\u6848\n\n\nGo/C#/Ruby/Python\nhttp://qiita.com/cielavenir/items/2a685d3080862f2c2c47\n\n\nPHP/JavaScript\nhttp://qiita.com/cielavenir/items/28d613ac3823afbf8407\n\n\nVB\nhttp://qiita.com/cielavenir/items/cb7266abd30eadd71c04\n\n\nD\nhttp://qiita.com/cielavenir/items/47c9e50ee60bef2847ec\n\n\nPerl/C++17(TS)\nhttp://qiita.com/cielavenir/items/e1129ca185008f49cbab\n\n\nLua\nhttp://qiita.com/cielavenir/items/c60fe7e8da73487ba062\n\n\n\ncbrt\u306flmathx\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\ntyama_hena24_enum.lua\n#!/usr/bin/env lua\n-- http://qiita.com/Nabetani/items/1c83005a854d2c6cbb69\n-- http://nabetani.sakura.ne.jp/hena/ord24eliseq/\n\nrequire 'mathx' -- luarocks install lmathx\n\nfunction generate()\n    return coroutine.create(function()\n        local i=1\n        while true do\n            coroutine.yield(i)\n            i=i+1\n        end\n    end)\nend\nfunction drop_prev(check,prev)\n    return coroutine.create(function()\n        local a,b\n        _,a=coroutine.resume(prev)\n        _,b=coroutine.resume(prev)\n        while true do\n            if not check(b) then\n                coroutine.yield(a)\n            end\n            a=b\n            _,b=coroutine.resume(prev)\n        end\n    end)\nend\nfunction drop_next(check,prev)\n    return coroutine.create(function()\n        local a,b\n        _,a=coroutine.resume(prev)\n        _,b=coroutine.resume(prev)\n        coroutine.yield(a)\n        while true do\n            if not check(a) then\n                coroutine.yield(b)\n            end\n            a=b\n            _,b=coroutine.resume(prev)\n        end\n    end)\nend\nfunction drop_n(check,n,prev)\n    return coroutine.create(function()\n        local i=0,a\n        while true do\n            i=i+1\n            _,a=coroutine.resume(prev)\n            if not check(i,n) then\n                coroutine.yield(a)\n            end\n        end\n    end)\nend\n\nfunction is_sq(n)\n    local x=math.floor(math.sqrt(n))\n    return x*x==n\nend\nfunction is_cb(n)\n    local x=math.floor(math.cbrt(n))\n    return x*x*x==n\nend\nfunction is_multiple(i,n)\n    return i%n==0\nend\nfunction is_le(i,n)\n    return i<=n\nend\n\nlocal f={\n    ['S']=function(e) return drop_next(is_sq,e) end,\n    ['s']=function(e) return drop_prev(is_sq,e) end,\n    ['C']=function(e) return drop_next(is_cb,e) end,\n    ['c']=function(e) return drop_prev(is_cb,e) end,\n    ['h']=function(e) return drop_n(is_le,100,e) end,\n}\nlocal i,r\nfor i=2,9 do\n    f[tostring(i)]=function(e) return drop_n(is_multiple,i,e) end\nend\nlocal line=io.read('*line')\nwhile line~=nil do\n    local g=generate()\n    for c in line:gmatch('.') do\n        g=f[c](g)\n    end\n    for i=1,10 do\n        if i>1 then\n            io.write(',')\n        end\n        _,r=coroutine.resume(g)\n        io.write(r)\n    end\n    io.write(\"\\n\")\n    io.flush()\n    line=io.read('*line')\nend\n\n\n\n|\u591a\u6bb5\u968e\u9078\u629c|\u30b7\u30ea\u30fc\u30ba:yield\u306e\u7df4\u7fd2/\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u5165\u308c\u5b50\u306b|\n|:--|:--|\n|\u554f\u984c|http://nabetani.sakura.ne.jp/hena/ord24eliseq/<br>http://qiita.com/Nabetani/items/1c83005a854d2c6cbb69|\n|Ruby|http://qiita.com/cielavenir/items/9f15e29b73ecf98968a5|\n|C#/Python|http://qiita.com/cielavenir/items/a1156e6a4f71ddbe5dcb|\n||\u3053\u3053\u304b\u3089\u4e0a\u306fdrop_prev_square/drop_prev_cubic\u3092\u307e\u3068\u3081\u308b\u524d\u306e\u7b54\u6848|\n|Go/C#/Ruby/Python|http://qiita.com/cielavenir/items/2a685d3080862f2c2c47|\n|PHP/JavaScript|http://qiita.com/cielavenir/items/28d613ac3823afbf8407|\n|VB|http://qiita.com/cielavenir/items/cb7266abd30eadd71c04|\n|D|http://qiita.com/cielavenir/items/47c9e50ee60bef2847ec|\n|Perl/C++17(TS)|http://qiita.com/cielavenir/items/e1129ca185008f49cbab|\n|Lua|http://qiita.com/cielavenir/items/c60fe7e8da73487ba062|\n\ncbrt\u306flmathx\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n```lua:tyama_hena24_enum.lua\n#!/usr/bin/env lua\n-- http://qiita.com/Nabetani/items/1c83005a854d2c6cbb69\n-- http://nabetani.sakura.ne.jp/hena/ord24eliseq/\n\nrequire 'mathx' -- luarocks install lmathx\n\nfunction generate()\n\treturn coroutine.create(function()\n\t\tlocal i=1\n\t\twhile true do\n\t\t\tcoroutine.yield(i)\n\t\t\ti=i+1\n\t\tend\n\tend)\nend\nfunction drop_prev(check,prev)\n\treturn coroutine.create(function()\n\t\tlocal a,b\n\t\t_,a=coroutine.resume(prev)\n\t\t_,b=coroutine.resume(prev)\n\t\twhile true do\n\t\t\tif not check(b) then\n\t\t\t\tcoroutine.yield(a)\n\t\t\tend\n\t\t\ta=b\n\t\t\t_,b=coroutine.resume(prev)\n\t\tend\n\tend)\nend\nfunction drop_next(check,prev)\n\treturn coroutine.create(function()\n\t\tlocal a,b\n\t\t_,a=coroutine.resume(prev)\n\t\t_,b=coroutine.resume(prev)\n\t\tcoroutine.yield(a)\n\t\twhile true do\n\t\t\tif not check(a) then\n\t\t\t\tcoroutine.yield(b)\n\t\t\tend\n\t\t\ta=b\n\t\t\t_,b=coroutine.resume(prev)\n\t\tend\n\tend)\nend\nfunction drop_n(check,n,prev)\n\treturn coroutine.create(function()\n\t\tlocal i=0,a\n\t\twhile true do\n\t\t\ti=i+1\n\t\t\t_,a=coroutine.resume(prev)\n\t\t\tif not check(i,n) then\n\t\t\t\tcoroutine.yield(a)\n\t\t\tend\n\t\tend\n\tend)\nend\n\nfunction is_sq(n)\n\tlocal x=math.floor(math.sqrt(n))\n\treturn x*x==n\nend\nfunction is_cb(n)\n\tlocal x=math.floor(math.cbrt(n))\n\treturn x*x*x==n\nend\nfunction is_multiple(i,n)\n\treturn i%n==0\nend\nfunction is_le(i,n)\n\treturn i<=n\nend\n\nlocal f={\n\t['S']=function(e) return drop_next(is_sq,e) end,\n\t['s']=function(e) return drop_prev(is_sq,e) end,\n\t['C']=function(e) return drop_next(is_cb,e) end,\n\t['c']=function(e) return drop_prev(is_cb,e) end,\n\t['h']=function(e) return drop_n(is_le,100,e) end,\n}\nlocal i,r\nfor i=2,9 do\n\tf[tostring(i)]=function(e) return drop_n(is_multiple,i,e) end\nend\nlocal line=io.read('*line')\nwhile line~=nil do\n\tlocal g=generate()\n\tfor c in line:gmatch('.') do\n\t\tg=f[c](g)\n\tend\n\tfor i=1,10 do\n\t\tif i>1 then\n\t\t\tio.write(',')\n\t\tend\n\t\t_,r=coroutine.resume(g)\n\t\tio.write(r)\n\tend\n\tio.write(\"\\n\")\n\tio.flush()\n\tline=io.read('*line')\nend\n```\n", "tags": ["yhpg", "\u3069\u3046\u66f8\u304f", "Lua"]}