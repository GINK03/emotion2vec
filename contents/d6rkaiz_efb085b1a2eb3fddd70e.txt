{"context": "\u4eca\u65e5Sierra\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u305f\u3068\u3053\u308dSSH\u306e\u9375\u3092\u6bce\u56de\u805e\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u7c21\u5358\u306b\u30b0\u30b0\u3063\u305f\u3068\u3053\u308d\u5272\u3068\u30c8\u30e9\u30d6\u30eb\u306b\u306a\u3063\u3066\u308b\u3088\u3046\u3067\u3059\u304c\u3001\u6d77\u5916\u306e\u30b5\u30a4\u30c8\u3067SSH\u306econfig\u306b\u8ffd\u52a0\u3059\u308c\u3070\u3044\u3044\u3068\u3044\u3046\u8a18\u8f09\u304c\u3042\u308a\u3001\u305d\u306e\u901a\u308a\u306b\u3059\u308c\u3070\u3067\u304d\u305f\u306e\u3067\u3001\u5099\u5fd8\u9332\u304c\u3066\u3089\u3002\n\nssh_config\nman ssh_config\n\n\u3068\u5b9f\u884c\u3057\u7d42\u308f\u308a\u9803\u3092\u898b\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\nUseKeychain\n             On macOS, specifies whether the system should search for passphrases in the user's keychain when\n             attempting to use a particular key. When the passphrase is provided by the user, this option also speci-\n             fies whether the passphrase should be stored into the keychain once it has been verified to be correct.\n             The argument must be ``yes'' or ``no''.  The default is ``no''.\n\n\u8ffd\u52a0\u3067AddKeysToAgent\u3082\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u308c\u3092\u8ffd\u52a0\u3057\u3066\u304a\u304b\u306a\u3044\u3068ForwardAgent\u304c\u6709\u52b9\u306b\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n     AddKeysToAgent\n             Specifies whether keys should be automatically added to a running ssh-agent(1).  If this option is set to ``yes'' and a key is loaded from\n             a file, the key and its passphrase are added to the agent with the default lifetime, as if by ssh-add(1).  If this option is set to\n             ``ask'', ssh will require confirmation using the SSH_ASKPASS program before adding a key (see ssh-add(1) for details).  If this option is\n             set to ``confirm'', each use of the key must be confirmed, as if the -c option was specified to ssh-add(1).  If this option is set to\n             ``no'', no keys are added to the agent.  The argument must be ``yes'', ``confirm'', ``ask'', or ``no''.  The default is ``no''.\n\ndefault\u304cno\u306e\u3088\u3046\u306a\u306e\u3067.ssh/config\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\uff08\u3069\u3053\u3067\u3082\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u81ea\u5206\u306f Host * \u306b\u8ffd\u52a0\u3057\u307e\u3057\u305f\uff09\n Host *\n   ServerAliveInterval 1200\n   ServerAliveCountMax 12\n   TCPKeepAlive yes\n   Compression yes\n+  AddKeysToAgent yes\n+  UseKeychain yes\n   GSSAPIAuthentication no\n   UseRoaming no\n\n\n\u53c2\u8003\u306b\u3057\u305f\u30da\u30fc\u30b8\nhttp://apple.stackexchange.com/questions/254468/macos-sierra-doesn-t-seem-to-remember-ssh-keys-between-reboots\n\u4eca\u65e5Sierra\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u305f\u3068\u3053\u308dSSH\u306e\u9375\u3092\u6bce\u56de\u805e\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u7c21\u5358\u306b\u30b0\u30b0\u3063\u305f\u3068\u3053\u308d\u5272\u3068\u30c8\u30e9\u30d6\u30eb\u306b\u306a\u3063\u3066\u308b\u3088\u3046\u3067\u3059\u304c\u3001\u6d77\u5916\u306e\u30b5\u30a4\u30c8\u3067SSH\u306econfig\u306b\u8ffd\u52a0\u3059\u308c\u3070\u3044\u3044\u3068\u3044\u3046\u8a18\u8f09\u304c\u3042\u308a\u3001\u305d\u306e\u901a\u308a\u306b\u3059\u308c\u3070\u3067\u304d\u305f\u306e\u3067\u3001\u5099\u5fd8\u9332\u304c\u3066\u3089\u3002\n\n## ssh_config\n\n```text\nman ssh_config\n```\n\u3068\u5b9f\u884c\u3057\u7d42\u308f\u308a\u9803\u3092\u898b\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n\n```man\nUseKeychain\n             On macOS, specifies whether the system should search for passphrases in the user's keychain when\n             attempting to use a particular key. When the passphrase is provided by the user, this option also speci-\n             fies whether the passphrase should be stored into the keychain once it has been verified to be correct.\n             The argument must be ``yes'' or ``no''.  The default is ``no''.\n```\n\n\u8ffd\u52a0\u3067AddKeysToAgent\u3082\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u308c\u3092\u8ffd\u52a0\u3057\u3066\u304a\u304b\u306a\u3044\u3068ForwardAgent\u304c\u6709\u52b9\u306b\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n```man\n     AddKeysToAgent\n             Specifies whether keys should be automatically added to a running ssh-agent(1).  If this option is set to ``yes'' and a key is loaded from\n             a file, the key and its passphrase are added to the agent with the default lifetime, as if by ssh-add(1).  If this option is set to\n             ``ask'', ssh will require confirmation using the SSH_ASKPASS program before adding a key (see ssh-add(1) for details).  If this option is\n             set to ``confirm'', each use of the key must be confirmed, as if the -c option was specified to ssh-add(1).  If this option is set to\n             ``no'', no keys are added to the agent.  The argument must be ``yes'', ``confirm'', ``ask'', or ``no''.  The default is ``no''.\n```\n\ndefault\u304c`no`\u306e\u3088\u3046\u306a\u306e\u3067`.ssh/config`\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\uff08\u3069\u3053\u3067\u3082\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u81ea\u5206\u306f `Host *` \u306b\u8ffd\u52a0\u3057\u307e\u3057\u305f\uff09\n\n```diff\n Host *\n   ServerAliveInterval 1200\n   ServerAliveCountMax 12\n   TCPKeepAlive yes\n   Compression yes\n+  AddKeysToAgent yes\n+  UseKeychain yes\n   GSSAPIAuthentication no\n   UseRoaming no\n```\n\n## \u53c2\u8003\u306b\u3057\u305f\u30da\u30fc\u30b8\n\n[http://apple.stackexchange.com/questions/254468/macos-sierra-doesn-t-seem-to-remember-ssh-keys-between-reboots](http://apple.stackexchange.com/questions/254468/macos-sierra-doesn-t-seem-to-remember-ssh-keys-between-reboots)\n", "tags": ["Mac", "Sierra", "SSH", "keychain"]}