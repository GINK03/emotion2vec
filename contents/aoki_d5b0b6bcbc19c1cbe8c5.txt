{"context": " More than 1 year has passed since last update.Node.js \u3067\u7d75\u6587\u5b57\u3092\u4f7f\u3063\u305f\u6642\u306b\u5c11\u3057\u8e93\u3044\u305f\u306e\u3067\n\n\u74b0\u5883\n$ node -v\nv5.7.1\n\n\n\u30c0\u30e1\u306a\u4f8b\n\u6587\u5b57\u5217\u306b\u5bfe\u3057\u3066\u4e00\u6587\u5b57\u3054\u3068\u306b\u64cd\u4f5c\u3057\u305f\u3044\u5834\u5408\u3001 charAt \u3084 str[i] \u3067\u6587\u5b57\u3092\u53d6\u5f97\u3057\u305f\u308a\u3001split(\"\") \u3067\u5206\u96e2\u3055\u305b\u305f\u308a\u3059\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001\u7d75\u6587\u5b57\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3068\u7d50\u679c\u304c\u304a\u304b\u3057\u304f\u306a\u308a\u307e\u3059\u3002\n\nkuso.js\n\"use strict\";\n\nconst emojiStr = \"unko\ud83d\udca9 \u3046\u3093\u3053\";\n\n// \u4e00\u6587\u5b57\u3054\u3068\u306b\u8272\u3092\u4ed8\u3051\u305f\u3044\nconst rainbow = [31, 32, 33, 34, 35, 36];\nlet rainbowPos = 0;\n\n// \u4e00\u6587\u5b57\u3054\u3068\u306b\u5207\u3063\u3066\u8272\u3092\u3064\u3051\u308b\nconst colored = emojiStr.split(\"\").map((c) => {\n  let n = rainbow[\n    (rainbow.length <= ++rainbowPos) ? (rainbowPos = 0) : rainbowPos\n  ];\n  return `\\x1b[${n}m${c}\\x1b[39m`;\n}).join(\"\");\n\nconsole.log(colored);\n\n\n\n\u5b9f\u884c\u7d50\u679c\u304c\u3053\u3061\u3089\n\n\u6700\u60aa\u3067\u3059\u306d\u3002\n\npunycode.ucs2.decode / encode \u3092\u7528\u3044\u308b\n\u305d\u3053\u3067\u3001\u6a19\u6e96\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308b punycode \u306e punycode.ucs2.decode, punycode.ucs2.encode \u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u7d75\u6587\u5b57\u3092\u542b\u3080\u6587\u5b57\u5217\u3092\u3044\u3044\u611f\u3058\u306b\u64cd\u4f5c\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\niikannji.js\n\"use strict\";\n\nconst punycode = require(\"punycode\");\n\n\nconst emojiStr = \"star\ud83c\udf20 \u661f\";\n\n// \u4e00\u6587\u5b57\u3054\u3068\u306b\u8272\u3092\u4ed8\u3051\u305f\u3044\nconst rainbow = [31, 32, 33, 34, 35, 36];\nlet rainbowPos = 0;\n\n// decode \u3067\u6587\u5b57\u5217\u3092\u30b3\u30fc\u30c9\u5316\nconst colored = punycode.ucs2.decode(emojiStr).map((code) => {\n\n  // \u30b3\u30fc\u30c9\u304b\u3089\u6587\u5b57\u3078\u623b\u3059\n  let c = punycode.ucs2.encode([code]);\n\n  let n = rainbow[\n    (rainbow.length <= ++rainbowPos) ? (rainbowPos = 0) : rainbowPos\n  ];\n\n  return `\\x1b[${n}m${c}\\x1b[39m`;\n}).join(\"\");\n\nconsole.log(colored);\n\n\n\u5b9f\u884c\u7d50\u679c\u304c\u3053\u3061\u3089\n\n\u6700\u9ad8\u3067\u3059\u3002\n\n\u307e\u3068\u3081\n\u7d75\u6587\u5b57\u304c\u542b\u307e\u308c\u308b\u6587\u5b57\u5217\u3092\u64cd\u4f5c\u3059\u308b\u5834\u5408\u306f punycode.ucs2.encode/decode \u3092\u4f7f\u7528\u3057\u307e\u3057\u3087\u3046\u3002\nArray.from \u4f7f\u304a\u3046\uff01(\u30b3\u30e1\u30f3\u30c8\u3088\u308a)\n\nNode.js \u3067\u7d75\u6587\u5b57\u3092\u4f7f\u3063\u305f\u6642\u306b\u5c11\u3057\u8e93\u3044\u305f\u306e\u3067\n# \u74b0\u5883\n```\n$ node -v\nv5.7.1\n```\n\n# \u30c0\u30e1\u306a\u4f8b\n\u6587\u5b57\u5217\u306b\u5bfe\u3057\u3066\u4e00\u6587\u5b57\u3054\u3068\u306b\u64cd\u4f5c\u3057\u305f\u3044\u5834\u5408\u3001 `charAt` \u3084 `str[i]` \u3067\u6587\u5b57\u3092\u53d6\u5f97\u3057\u305f\u308a\u3001`split(\"\")` \u3067\u5206\u96e2\u3055\u305b\u305f\u308a\u3059\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001\u7d75\u6587\u5b57\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3068\u7d50\u679c\u304c\u304a\u304b\u3057\u304f\u306a\u308a\u307e\u3059\u3002\n\n```js:kuso.js\n\"use strict\";\n\nconst emojiStr = \"unko\ud83d\udca9 \u3046\u3093\u3053\";\n\n// \u4e00\u6587\u5b57\u3054\u3068\u306b\u8272\u3092\u4ed8\u3051\u305f\u3044\nconst rainbow = [31, 32, 33, 34, 35, 36];\nlet rainbowPos = 0;\n\n// \u4e00\u6587\u5b57\u3054\u3068\u306b\u5207\u3063\u3066\u8272\u3092\u3064\u3051\u308b\nconst colored = emojiStr.split(\"\").map((c) => {\n  let n = rainbow[\n    (rainbow.length <= ++rainbowPos) ? (rainbowPos = 0) : rainbowPos\n  ];\n  return `\\x1b[${n}m${c}\\x1b[39m`;\n}).join(\"\");\n\nconsole.log(colored);\n\n```\n\n\u5b9f\u884c\u7d50\u679c\u304c\u3053\u3061\u3089\n![2016-03-04-184756_106x19_scrot.png](https://qiita-image-store.s3.amazonaws.com/0/31573/bcc7c58c-760f-f46f-6d88-4a52730de3e4.png)\n\u6700\u60aa\u3067\u3059\u306d\u3002\n\n\n# punycode.ucs2.decode / encode \u3092\u7528\u3044\u308b\n\u305d\u3053\u3067\u3001\u6a19\u6e96\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308b punycode \u306e `punycode.ucs2.decode`, `punycode.ucs2.encode` \u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u7d75\u6587\u5b57\u3092\u542b\u3080\u6587\u5b57\u5217\u3092\u3044\u3044\u611f\u3058\u306b\u64cd\u4f5c\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n```js:iikannji.js\n\"use strict\";\n\nconst punycode = require(\"punycode\");\n\n\nconst emojiStr = \"star\ud83c\udf20 \u661f\";\n\n// \u4e00\u6587\u5b57\u3054\u3068\u306b\u8272\u3092\u4ed8\u3051\u305f\u3044\nconst rainbow = [31, 32, 33, 34, 35, 36];\nlet rainbowPos = 0;\n\n// decode \u3067\u6587\u5b57\u5217\u3092\u30b3\u30fc\u30c9\u5316\nconst colored = punycode.ucs2.decode(emojiStr).map((code) => {\n\n  // \u30b3\u30fc\u30c9\u304b\u3089\u6587\u5b57\u3078\u623b\u3059\n  let c = punycode.ucs2.encode([code]);\n\n  let n = rainbow[\n    (rainbow.length <= ++rainbowPos) ? (rainbowPos = 0) : rainbowPos\n  ];\n\n  return `\\x1b[${n}m${c}\\x1b[39m`;\n}).join(\"\");\n\nconsole.log(colored);\n```\n\n\u5b9f\u884c\u7d50\u679c\u304c\u3053\u3061\u3089\n![2016-03-04-184813_68x17_scrot.png](https://qiita-image-store.s3.amazonaws.com/0/31573/98a1463a-cb0f-70a3-1e11-9b5ef697e77e.png)\n\u6700\u9ad8\u3067\u3059\u3002\n\n\n\n# \u307e\u3068\u3081\n<s>\u7d75\u6587\u5b57\u304c\u542b\u307e\u308c\u308b\u6587\u5b57\u5217\u3092\u64cd\u4f5c\u3059\u308b\u5834\u5408\u306f punycode.ucs2.encode/decode \u3092\u4f7f\u7528\u3057\u307e\u3057\u3087\u3046\u3002</s>\n`Array.from` \u4f7f\u304a\u3046\uff01(\u30b3\u30e1\u30f3\u30c8\u3088\u308a)\n", "tags": ["Node.js", "emoji"]}