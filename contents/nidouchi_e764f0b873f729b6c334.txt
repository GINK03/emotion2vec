{"tags": ["Ruby", "yhpg", "\u3069\u3046\u66f8\u304f"], "context": " More than 1 year has passed since last update.\u554f\u984c\u306f http://qiita.com/Nabetani/items/f3cca410428f90333e28 \u304b\u3089\n\u89e3\u6cd5\uff11\u7d20\u76f4\u306b\uff1f\ndef solve(q)\n#       T  N  W  E  S  B\n  dice=[1, 2, 3, 4, 5, 6]\n  q.chars.each_with_object([1]){|dir, ans|\n    w = dice.clone\n    case dir\n    when 'N'\n      w[0] = dice[4]\n      w[1] = dice[0]\n      w[4] = dice[5]\n      w[5] = dice[1]\n    when 'S'\n      w[0] = dice[1]\n      w[1] = dice[5]\n      w[4] = dice[0]\n      w[5] = dice[4]\n    when 'E'\n      w[0] = dice[2]\n      w[2] = dice[5]\n      w[3] = dice[0]\n      w[5] = dice[3]\n    when 'W'\n      w[0] = dice[3]\n      w[2] = dice[0]\n      w[3] = dice[5]\n      w[5] = dice[2]\n    end\n    dice = w\n    ans << dice[0]\n  }.join\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans\n  puts ans == a ? ' o' : ' x'\nend\n__END__\n0   NNESWWS 15635624\n1   EEEE    13641\n2   WWWW    14631\n\nclass Dice\n  def initialize\n    @ns = [1, 5, 6, 2]\n    @ew = [1, 3, 6, 4]\n  end\n\n  def rol_ns(n)\n    ns = @ns\n    @ns = @ns.rotate(n)\n    ew = @ew.clone\n    ns.zip(@ns).each{|from,to|\n      i = ew.index(from)\n      @ew[i] = to if i\n    }\n    @ns[0]\n  end\n\n  def rol_ew(n)\n    ew = @ew\n    @ew = @ew.rotate(n)\n    ns = @ns.clone\n    ew.zip(@ew).each{|from,to|\n      i = ns.index(from)\n      @ns[i] = to if i\n    }\n    @ew[0]\n  end\nend\n\ndef solve(q)\n  dice = Dice.new\n  q.chars.each_with_object([1]){|dir, ans|\n    ans <<\n      case dir\n      when 'N'\n        w = dice.rol_ns(1)\n      when 'S'\n        w = dice.rol_ns(-1)\n      when 'E'\n        w = dice.rol_ew(1)\n      when 'W'\n        w = dice.rol_ew(-1)\n      end\n  }.join\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans\n  puts ans == a ? ' o' : ' x'\nend\n__END__\n0   NNESWWS 15635624\n1   EEEE    13641\n2   WWWW    14631\n\n\u554f\u984c\u306f http://qiita.com/Nabetani/items/f3cca410428f90333e28 \u304b\u3089\n\n\u89e3\u6cd5\uff11\u7d20\u76f4\u306b\uff1f\n\n```rb:\ndef solve(q)\n#       T  N  W  E  S  B\n  dice=[1, 2, 3, 4, 5, 6]\n  q.chars.each_with_object([1]){|dir, ans|\n    w = dice.clone\n    case dir\n    when 'N'\n      w[0] = dice[4]\n      w[1] = dice[0]\n      w[4] = dice[5]\n      w[5] = dice[1]\n    when 'S'\n      w[0] = dice[1]\n      w[1] = dice[5]\n      w[4] = dice[0]\n      w[5] = dice[4]\n    when 'E'\n      w[0] = dice[2]\n      w[2] = dice[5]\n      w[3] = dice[0]\n      w[5] = dice[3]\n    when 'W'\n      w[0] = dice[3]\n      w[2] = dice[0]\n      w[3] = dice[5]\n      w[5] = dice[2]\n    end\n    dice = w\n    ans << dice[0]\n  }.join\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans\n  puts ans == a ? ' o' : ' x'\nend\n__END__\n0\tNNESWWS\t15635624\n1\tEEEE\t13641\n2\tWWWW\t14631\n```\n\n```rb:\nclass Dice\n  def initialize\n    @ns = [1, 5, 6, 2]\n    @ew = [1, 3, 6, 4]\n  end\n  \n  def rol_ns(n)\n    ns = @ns\n    @ns = @ns.rotate(n)\n    ew = @ew.clone\n    ns.zip(@ns).each{|from,to|\n      i = ew.index(from)\n      @ew[i] = to if i\n    }\n    @ns[0]\n  end\n  \n  def rol_ew(n)\n    ew = @ew\n    @ew = @ew.rotate(n)\n    ns = @ns.clone\n    ew.zip(@ew).each{|from,to|\n      i = ns.index(from)\n      @ns[i] = to if i\n    }\n    @ew[0]\n  end\nend\n\ndef solve(q)\n  dice = Dice.new\n  q.chars.each_with_object([1]){|dir, ans|\n    ans <<\n      case dir\n      when 'N'\n        w = dice.rol_ns(1)\n      when 'S'\n        w = dice.rol_ns(-1)\n      when 'E'\n        w = dice.rol_ew(1)\n      when 'W'\n        w = dice.rol_ew(-1)\n      end\n  }.join\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans\n  puts ans == a ? ' o' : ' x'\nend\n__END__\n0\tNNESWWS\t15635624\n1\tEEEE\t13641\n2\tWWWW\t14631\n```"}