{"context": " More than 1 year has passed since last update.\n\u30ef\u30f3\u30bd\u30fc\u30b9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5b9a\u7fa9\u3001PHP\u30fbJavaScript\u30fbHTML\u5168\u3066\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u542b\u3093\u3067\u3044\u308b\u306e\u3067\u5206\u304b\u308a\u3084\u3059\u3044\u304b\u3082\u77e5\u308c\u307e\u305b\u3093\u3002\n\u305d\u306e\u4ee3\u308f\u308a\u3001AngularJS\u306e\u304a\u4f5c\u6cd5\u306a\u3069\u306f\u304b\u306a\u308a\u7701\u7565\u3057\u3066\u3044\u308b\u306e\u3067\u3054\u6ce8\u610f\u3002\n\u4ee5\u4e0b\u306ePHP\u30bd\u30fc\u30b9\u3092Web\u30b5\u30fc\u30d0\u30fc\u306b\u7f6e\u3044\u3066\u30d6\u30e9\u30a6\u30b6\u3067\u958b\u304f\u3068\u3001todo.db\u3068\u3044\u3046\u540d\u524d\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3066ToDo\u306e\u683c\u7d0d\u30fb\u524a\u9664\u30fb\u5b8c\u4e86\u30de\u30fc\u30af\u3092\u4ed8\u3051\u308b\u64cd\u4f5c\u3092\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\ntodo.php\n<?php\n$db = new PDO('sqlite:todo.db');\n$db->exec('CREATE TABLE IF NOT EXISTS todo(id INTEGER PRIMARY KEY, title TEXT, completed INTEGER)');\nif (isset($_GET['id'])) {\n  switch ($_SERVER['REQUEST_METHOD']) {\n  case 'GET':\n    echo json_encode($db->query('SELECT * FROM todo')->fetchAll(PDO::FETCH_ASSOC));\n    break;\n  case 'POST':\n    $in = json_decode(file_get_contents('php://input'), true);\n    if (isset($in['id'])) {\n      $db->prepare('UPDATE todo SET completed=? WHERE id=?')->execute([$in['completed'], $in['id']]);\n    } else {\n      $db->prepare('INSERT INTO todo(title,completed) VALUES(?,0)')->execute([$in['title']]);\n    }\n    break;\n  case 'DELETE':\n    $db->prepare('DELETE FROM todo WHERE id=?')->execute([$_GET['id']]);\n    break;\n  }\n  exit;\n}\n?>\n<!DOCTYPE html>\n<html ng-app=\"app\">\n<head>\n<meta charset=\"UTF-8\">\n<title>ToDo</title>\n<script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js\"></script>\n<script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-resource.min.js\"></script>\n<script>\nangular.module('app', ['ngResource']).controller('Controller', function($scope, $resource) {\n  var res = $resource('?id=:id');\n  $scope.todos = res.query();\n  $scope.post = function() {\n    res.save({title: $scope.title}, function() {\n      location.reload();\n    });\n  };\n  $scope.delete = function(id) {\n    res.delete({id: id}, function() {\n      location.reload();\n    });\n  };\n  $scope.change = function(todo) {\n    res.save({id: todo.id, completed: todo.completed});\n  };\n});\n</script>\n</head>\n<body ng-controller=\"Controller\">\n<p ng-repeat=\"todo in todos\">\n  <input type=\"checkbox\" ng-model=\"todo.completed\" ng-true-value=\"'1'\" ng-false-value=\"'0'\" ng-click=\"change(todo)\">\n  <span ng-style=\"{textDecoration: todo.completed === '1' ? 'line-through' : 'none'}\">{{todo.title}}</span>\n  <span style=\"cursor: pointer\" ng-click=\"delete(todo.id)\">\u2715</span>\n</p>\n<input ng-model=\"title\">\n<button ng-click=\"post()\">post</button>\n</body>\n</html>\n\n\n\n\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\n\n\n\n\u30ab\u30e9\u30e0\u540d\n\u5185\u5bb9\n\n\n\n\nid\n\u30d7\u30e9\u30a4\u30de\u30ea\u30ad\u30fc\n\n\ntitle\nToDo\u306e\u5185\u5bb9\n\n\ncompleted\n\u672a\u5b8c\u4e86:0 \u5b8c\u4e86:1\n\n\n\n![test.png](https://qiita-image-store.s3.amazonaws.com/0/32030/a3f1654d-78b0-c25d-b623-faf266db315f.png)\n\n\u30ef\u30f3\u30bd\u30fc\u30b9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5b9a\u7fa9\u3001PHP\u30fbJavaScript\u30fbHTML\u5168\u3066\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u542b\u3093\u3067\u3044\u308b\u306e\u3067\u5206\u304b\u308a\u3084\u3059\u3044\u304b\u3082\u77e5\u308c\u307e\u305b\u3093\u3002\n\n\u305d\u306e\u4ee3\u308f\u308a\u3001AngularJS\u306e\u304a\u4f5c\u6cd5\u306a\u3069\u306f\u304b\u306a\u308a\u7701\u7565\u3057\u3066\u3044\u308b\u306e\u3067\u3054\u6ce8\u610f\u3002\n\n\u4ee5\u4e0b\u306ePHP\u30bd\u30fc\u30b9\u3092Web\u30b5\u30fc\u30d0\u30fc\u306b\u7f6e\u3044\u3066\u30d6\u30e9\u30a6\u30b6\u3067\u958b\u304f\u3068\u3001todo.db\u3068\u3044\u3046\u540d\u524d\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3066ToDo\u306e\u683c\u7d0d\u30fb\u524a\u9664\u30fb\u5b8c\u4e86\u30de\u30fc\u30af\u3092\u4ed8\u3051\u308b\u64cd\u4f5c\u3092\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n```html+php:todo.php\n<?php\n$db = new PDO('sqlite:todo.db');\n$db->exec('CREATE TABLE IF NOT EXISTS todo(id INTEGER PRIMARY KEY, title TEXT, completed INTEGER)');\nif (isset($_GET['id'])) {\n  switch ($_SERVER['REQUEST_METHOD']) {\n  case 'GET':\n    echo json_encode($db->query('SELECT * FROM todo')->fetchAll(PDO::FETCH_ASSOC));\n    break;\n  case 'POST':\n    $in = json_decode(file_get_contents('php://input'), true);\n    if (isset($in['id'])) {\n      $db->prepare('UPDATE todo SET completed=? WHERE id=?')->execute([$in['completed'], $in['id']]);\n    } else {\n      $db->prepare('INSERT INTO todo(title,completed) VALUES(?,0)')->execute([$in['title']]);\n    }\n    break;\n  case 'DELETE':\n    $db->prepare('DELETE FROM todo WHERE id=?')->execute([$_GET['id']]);\n    break;\n  }\n  exit;\n}\n?>\n<!DOCTYPE html>\n<html ng-app=\"app\">\n<head>\n<meta charset=\"UTF-8\">\n<title>ToDo</title>\n<script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js\"></script>\n<script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-resource.min.js\"></script>\n<script>\nangular.module('app', ['ngResource']).controller('Controller', function($scope, $resource) {\n  var res = $resource('?id=:id');\n  $scope.todos = res.query();\n  $scope.post = function() {\n    res.save({title: $scope.title}, function() {\n      location.reload();\n    });\n  };\n  $scope.delete = function(id) {\n    res.delete({id: id}, function() {\n      location.reload();\n    });\n  };\n  $scope.change = function(todo) {\n    res.save({id: todo.id, completed: todo.completed});\n  };\n});\n</script>\n</head>\n<body ng-controller=\"Controller\">\n<p ng-repeat=\"todo in todos\">\n  <input type=\"checkbox\" ng-model=\"todo.completed\" ng-true-value=\"'1'\" ng-false-value=\"'0'\" ng-click=\"change(todo)\">\n  <span ng-style=\"{textDecoration: todo.completed === '1' ? 'line-through' : 'none'}\">{{todo.title}}</span>\n  <span style=\"cursor: pointer\" ng-click=\"delete(todo.id)\">\u2715</span>\n</p>\n<input ng-model=\"title\">\n<button ng-click=\"post()\">post</button>\n</body>\n</html>\n```\n\n## \u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\n\n|\u30ab\u30e9\u30e0\u540d|\u5185\u5bb9|\n|---|---|\n|id|\u30d7\u30e9\u30a4\u30de\u30ea\u30ad\u30fc|\n|title|ToDo\u306e\u5185\u5bb9|\n|completed|\u672a\u5b8c\u4e86:0 \u5b8c\u4e86:1|\n\n", "tags": ["AngularJS1.4.5", "PHP5.4", "SQLite3"]}