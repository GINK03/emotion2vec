{"context": " More than 1 year has passed since last update.\u5f15\u6570\u3067 http://google.com \u307f\u305f\u3044\u306a\u6587\u5b57\u5217\u3092\u53d7\u3051\u53d6\u308b\u3068\u3001\u305d\u3053\u306b 10\u56de http \u30a2\u30af\u30bb\u30b9\u3057\u3066\u7d50\u679c\u3068\u8981\u3057\u305f\u6642\u9593\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\u30a8\u30e9\u30fc\u51e6\u7406\u306f\u3057\u3066\u306a\u3044\u3057\u3001\u672b\u5c3e\u306e / \u88dc\u5b8c\u3082\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u3082\u8a2d\u5b9a\u3067\u304d\u306a\u3044\u3051\u3069\u3001\u3072\u306a\u5f62\u3068\u3057\u3066\u7f6e\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\u305f\u307e\u306b\u3053\u3046\u3044\u3046\u30d9\u30bf\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u3061\u3087\u3063\u3068\u3060\u3051\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u305f\u3082\u306e\u304c\u5358\u767a\u3067\u307b\u3057\u304f\u306a\u308b\u3053\u3068\u304c\u3042\u308b\u306e\u3067\u3059\u3002\n\nhttp_ping.rb\n#!/usr/bin/env ruby\n\nrequire 'net/http'\nrequire 'uri'\n\nCOUNT=10\nINTERVAL=1\n\ndef ping(s)\n  url = URI.parse(s)\n  res = Net::HTTP.start(url.host, url.port) {|http|\n       path = url.path.length != 0 ? url.path : \"/\"\n       http.get(path)\n  }\n  res.body\n  \"#{res.code} #{res.msg}\"\nrescue => e\n  \"error #{e.message}\"\nend\n\ntarget = ARGV[0]\nCOUNT.times do\n  t0 = Time.now\n  result = ping(target)\n  t1 = Time.now\n  puts \"#{result}  #{t1 - t0} sec\"\n  sleep INTERVAL\nend\n\n\n\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n./http_ping.rb http://qiita.com\n\n200 OK  0.835151 sec\n200 OK  0.265178 sec\n200 OK  0.22323 sec\n200 OK  0.81516 sec\n200 OK  0.147743 sec\n200 OK  0.159017 sec\n200 OK  0.255269 sec\n200 OK  0.150393 sec\n200 OK  0.173694 sec\n200 OK  0.265928 sec\n\n\u5f15\u6570\u3067 `http://google.com` \u307f\u305f\u3044\u306a\u6587\u5b57\u5217\u3092\u53d7\u3051\u53d6\u308b\u3068\u3001\u305d\u3053\u306b 10\u56de http \u30a2\u30af\u30bb\u30b9\u3057\u3066\u7d50\u679c\u3068\u8981\u3057\u305f\u6642\u9593\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u30a8\u30e9\u30fc\u51e6\u7406\u306f\u3057\u3066\u306a\u3044\u3057\u3001\u672b\u5c3e\u306e / \u88dc\u5b8c\u3082\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u3082\u8a2d\u5b9a\u3067\u304d\u306a\u3044\u3051\u3069\u3001\u3072\u306a\u5f62\u3068\u3057\u3066\u7f6e\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u305f\u307e\u306b\u3053\u3046\u3044\u3046\u30d9\u30bf\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u3061\u3087\u3063\u3068\u3060\u3051\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u305f\u3082\u306e\u304c\u5358\u767a\u3067\u307b\u3057\u304f\u306a\u308b\u3053\u3068\u304c\u3042\u308b\u306e\u3067\u3059\u3002\n\n```ruby:http_ping.rb\n#!/usr/bin/env ruby\n\nrequire 'net/http'\nrequire 'uri'\n\nCOUNT=10\nINTERVAL=1\n\ndef ping(s)\n  url = URI.parse(s)\n  res = Net::HTTP.start(url.host, url.port) {|http|\n       path = url.path.length != 0 ? url.path : \"/\"\n       http.get(path)\n  }\n  res.body\n  \"#{res.code} #{res.msg}\"\nrescue => e\n  \"error #{e.message}\"\nend\n\ntarget = ARGV[0]\nCOUNT.times do\n  t0 = Time.now\n  result = ping(target)\n  t1 = Time.now\n  puts \"#{result}  #{t1 - t0} sec\"\n  sleep INTERVAL\nend\n```\n\n\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n./http_ping.rb http://qiita.com\n\n200 OK  0.835151 sec\n200 OK  0.265178 sec\n200 OK  0.22323 sec\n200 OK  0.81516 sec\n200 OK  0.147743 sec\n200 OK  0.159017 sec\n200 OK  0.255269 sec\n200 OK  0.150393 sec\n200 OK  0.173694 sec\n200 OK  0.265928 sec\n```\n\n", "tags": ["Ruby", "Web", "tool"]}