{"context": "\n\n\u6982\u8981\n\n\u5143\u8a18\u4e8b Compiling Raspberry Pi kernel modules\n\nRTL8812AU\u3063\u3066\u3001\u6a19\u6e96\u3067\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u3001\u3068\u63a2\u3057\u3066\u305f\u3089\u3001\u2191\u306e\u8a18\u4e8b\u3092\u767a\u898b.\n\n\n\u74b0\u5883\n\nRaspberry Pi 3\n2016-05-27-raspbian-jessie-lite.img\n\n\n\u624b\u9806\n\n\nsudo apt-get update; sudo apt-get upgrade -y\u3044\u3064\u3082\u306e\n\nsudo apt-get install curl build-essential bc git\u8ffd\u52a0\u30d1\u30c3\u30b1\u30fc\u30b8\n\nrpi-update\u3067\u3001\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3068\u304b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u3066\u3001\u518d\u8d77\u52d5\nsudo apt-get install -y rpi-update\nsudo rpi-update\n#\n#2016-05-27\u306e\u30ab\u30fc\u30cd\u30eb\u306a\u3089\u3001\u3053\u306e\u30cf\u30c3\u30b7\u30e5\u3067\u53d6\u5f97\n# >Linux raspberrypi 4.4.11-v7+ #886 SMP Thu May 19 15:20:49 BST 2016 armv7l\n#sudo rpi-update 48cfa89779408ecd69db4eb793b846fb7fe40c4b\n#\nsudo reboot\n\n\n\n\u30ab\u30fc\u30cd\u30eb\u306e\u30bd\u30fc\u30b9\u53d6\u5f97\u3068\u30e2\u30b8\u30e5\u30fc\u30eb\u30d3\u30eb\u30c9\u74b0\u5883\u306e\u6e96\u5099\n# \u30d5\u30a1\u30fc\u30e0\u30a6\u30a8\u30a2\u306e\u30cf\u30c3\u30b7\u30e5\u304b\u3089\u3001\u30ab\u30fc\u30cd\u30eb\u306e\u30cf\u30c3\u30b7\u30e5\u3092\u53d6\u5f97\u3057\u3066\u3001`Module7.symvers`\u3068\u30ab\u30fc\u30cd\u30eb\u306e\u30bd\u30fc\u30b9\u53d6\u5f97\n#\nFIRMWARE_REV=`cat /boot/.firmware_revision`\nKERNEL_REV=`curl -L https://github.com/Hexxeh/rpi-firmware/raw/${FIRMWARE_REV}/git_hash`\necho Firmware Rev: ${FIRMWARE_REV}\necho kernel Rev  : ${KERNEL_REV}\ncurl -L https://github.com/Hexxeh/rpi-firmware/raw/${FIRMWARE_REV}/Module.symvers >Module.symvers\ncurl -L https://github.com/Hexxeh/rpi-firmware/raw/${FIRMWARE_REV}/Module7.symvers >Module7.symvers\ncurl -L https://github.com/raspberrypi/linux/archive/${KERNEL_REV}.tar.gz >rpi-linux.tar.gz\n#\n# root\u306b\u306a\u308b\nsudo -s\n#\n# \u30ab\u30fc\u30cd\u30eb\u30bd\u30fc\u30b9\u5c55\u958b \u6642\u9593\u304c\u304b\u304b\u308b\u3088\nHOME=/home/pi\ncd /usr/src\nmkdir rpi-linux\ncd rpi-linux\ntar --strip-components 1 -xf ${HOME}/rpi-linux.tar.gz\n#\n# Module.symvers\u3068 .config\u3092\u53d6\u5f97\u3057\u3066\u914d\u7f6e.\nmodprobe configs\ngunzip -c /proc/config.gz >.config\n# cp $HOME/Module.symvers Module.symvers  ## RPi1 ????\ncp $HOME/Module7.symvers Module.symvers\n#\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u30d3\u30eb\u30c9\u306e\u6e96\u5099\u3068\u30ea\u30f3\u30af.\ntime make modules_prepare\nln -sv /usr/src/rpi-linux /lib/modules/$(uname -r)/build\n\n\n\nrtl8812AU_8821AU_linux\u306e\u30bd\u30fc\u30b9\u53d6\u5f97\u30fb\u30d3\u30eb\u30c9\n# root\u3058\u3083\u306a\u304b\u3063\u305f\u3089.\nsudo -s \n#\n# \u30bd\u30fc\u30b9\u53d6\u5f97.\ncd /usr/src\ngit clone https://github.com/abperiasamy/rtl8812AU_8821AU_linux.git\ncd rtl8812AU_8821AU_linux/\n#\n# Makefile\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u3089\u305a\u3071\u3044\u5411\u3051\u306b\u3059\u308b - README.md\u306b\u66f8\u3044\u3066\u3042\u3063\u305f\n# > Edit Makefile and turn on ``CONFIG_PLATFORM_ARM_RPI``, turn off ``CONFIG_PLATFORM_I386_PC``\nsed -i 's/CONFIG_PLATFORM_I386_PC = y/CONFIG_PLATFORM_I386_PC = n/' Makefile\nsed -i 's/CONFIG_PLATFORM_ARM_RPI = n/CONFIG_PLATFORM_ARM_RPI = y/' Makefile\n#\n# \u30d3\u30eb\u30c9\nmake clean\nmake\nmake install\nmodprobe -a 8812au\n\n\n\n\u3046\u3054\u3044\u305f\npi@raspberrypi:~ $ lsusb | grep 8812\nBus 001 Device 004: ID 0bda:8812 Realtek Semiconductor Corp. \npi@raspberrypi:~ $ lsmod | grep 8812au\n8812au                960323  0 \ncfg80211              427855  2 brcmfmac,8812au\npi@raspberrypi:~ $ ifconfig wlan1 | grep \"inet \"\n      inet addr:192.168.41.11  Bcast:192.168.41.255  Mask:255.255.255.0\n\n\n\n\n(\u8ffd\u8a18) MediaTek MT7610U (RT2860) - ID 0e8d:7610 MediaTek Inc.\n\n\nhttps://github.com/xtknight/mt7610u-linksys-ae6000-wifi-fixes.git\n# root\u3058\u3083\u306a\u304b\u3063\u305f\u3089\nsudo -s \n#\n# MediaTek\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8\u304b\u3089\u3082\u3063\u3066\u304f\u308b\u30a2\u30fc\u30ab\u30a4\u30d6\u3068\u3001\u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\n##  MT7610U USB     9/16/2013     V3.0.0.2\n## wget http://s3.amazonaws.com/mtk.cfs/Downloads/linux/mt7610u_wifi_sta_v3002_dpo_20130916.tar.bz2\n## tar xjf mt7610u_wifi_sta_v3002_dpo_20130916.tar.bz2\n## cd mt7610u_wifi_sta_v3002_dpo_20130916\n#\n# \u306e\u3067\u3001\u30d3\u30eb\u30c9\u304c\u901a\u3063\u305f\u3082\u306e\u3092git clone\n# git clone https://github.com/coolshou/mt7610u.git\n# cd mt7610u\n#\u3057\u305f\u3051\u3069\u2191\u306f\u3001\u3046\u307e\u304f\u8a2d\u5b9a\u3067\u304d\u306a\u304b\u3063\u305f\u3002\u306e\u3067\u5225\u306e\u3082\u306e\n#\ncd /usr/src\ngit clone https://github.com/xtknight/mt7610u-linksys-ae6000-wifi-fixes.git\ncd mt7610u-linksys-ae6000-wifi-fixes\nmake\nmake install\n#\n#\n#sed -i 's/SSID=11n-AP/SSID=/' /etc/Wireless/RT2870STA/RT2870STA.dat\n#sed -i 's/AuthMode=OPEN/AuthMode=WPA2PSK/' /etc/Wireless/RT2870STA/RT2870STA.dat\n#sed -i 's/EncrypType=NONE/EncrypType=AES/' /etc/Wireless/RT2870STA/RT2870STA.dat\nmodprobe -a mt7610u_sta\n\n\n\nsudo vi /etc/network/interfaces\n\n/etc/network/interfaces\n...\n# \u4ee5\u4e0b\u8ffd\u52a0\nallow-hotplug ra0\niface ra0 inet manual\nwpa-conf /etc/wpa_supplicant/wpa_supplicant.conf\n\n\n\n\n\u52d5\u3044\u305f\npi@raspberrypi:~$ lsusb | grep 7610\nBus 001 Device 005: ID 0e8d:7610 MediaTek Inc.\npi@raspberrypi:~$ lsmod | grep 7610\nmt7610u_sta           876773  0\ncfg80211              427855  2 brcmfmac,mt7610u_sta\npi@raspberrypi:~$ ifconfig ra0 | grep \"inet \"\n  inet addr:192.168.41.13  Bcast:192.168.41.255  Mask:255.255.255.0\n\n\n\n\n\n\n\u305d\u306e\u4ed6\n\n(\u8a66\u3057\u3066\u3044\u306a\u3044) Raspberry Pi 1/Zero\u5bfe\u5fdc?cp $HOME/Module7.symvers Module.symvers \u306e\u3068\u3053\u308d\u306e7\u3092\u3068\u308b??? => cp $HOME/Module.symvers Module.symvers\nrpi-update\u3067\u53d6\u5f97\u3059\u308b\u3068\u3001/boot/.firmware_revision\u306b\u30d5\u30a1\u30fc\u30e0\u306e\u30cf\u30c3\u30b7\u30e5\u304c\u5165\u3063\u3066\u3001\u305d\u308c\u3092\u5229\u7528\u3057\u3066\u3001\u30ab\u30fc\u30cd\u30eb\u30bd\u30fc\u30b9\u3068\u304b\u53d6\u5f97\u3057\u3066\u308b\u6a21\u69d8..\n\n\u2193\u306e\u30a8\u30e9\u30fc\u306f\u3001sudo apt-get inatall bc \u3092\u3084\u308b\u3002\ninclude/linux/jiffies.h:10:33: fatal error: generated/timeconst.h: No such file or directory\n#include <generated/timeconst.h>\n                             ^\ncompilation terminated.\n\n\n\u30c6\u30b9\u30c8\u3059\u308b\u3068\u304d sudo wpa_supplicant -iwlan1 -c /etc/wpa_supplicant/wpa_supplicant.conf # -B\u3092\u3064\u3051\u308b\u3068\u30c7\u30fc\u30e2\u30f3\u5316\n5GHz\u306e\u3068\u3053\u306b\u3064\u306a\u3050\u306b\u306f\u3069\u3046\u3059\u308c\u3070..\n\n## \u6982\u8981\n- \u5143\u8a18\u4e8b [Compiling Raspberry Pi kernel modules](http://www.ploxiln.net/rpi_kernel_modules.html)\n- RTL8812AU\u3063\u3066\u3001\u6a19\u6e96\u3067\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u3001\u3068\u63a2\u3057\u3066\u305f\u3089\u3001\u2191\u306e\u8a18\u4e8b\u3092\u767a\u898b.\n\n## \u74b0\u5883\n- Raspberry Pi 3\n- `2016-05-27-raspbian-jessie-lite.img`\n\n## \u624b\u9806\n\n\n1. `sudo apt-get update; sudo apt-get upgrade -y`<br>\u3044\u3064\u3082\u306e\n2. `sudo apt-get install curl build-essential bc git`<br>\u8ffd\u52a0\u30d1\u30c3\u30b1\u30fc\u30b8\n3. rpi-update\u3067\u3001\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3068\u304b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u3066\u3001\u518d\u8d77\u52d5\n\n    ```\nsudo apt-get install -y rpi-update\nsudo rpi-update\n#\n#2016-05-27\u306e\u30ab\u30fc\u30cd\u30eb\u306a\u3089\u3001\u3053\u306e\u30cf\u30c3\u30b7\u30e5\u3067\u53d6\u5f97\n# >Linux raspberrypi 4.4.11-v7+ #886 SMP Thu May 19 15:20:49 BST 2016 armv7l\n#sudo rpi-update 48cfa89779408ecd69db4eb793b846fb7fe40c4b\n#\nsudo reboot\n```\n4. \u30ab\u30fc\u30cd\u30eb\u306e\u30bd\u30fc\u30b9\u53d6\u5f97\u3068\u30e2\u30b8\u30e5\u30fc\u30eb\u30d3\u30eb\u30c9\u74b0\u5883\u306e\u6e96\u5099\n\n    ```bash\n# \u30d5\u30a1\u30fc\u30e0\u30a6\u30a8\u30a2\u306e\u30cf\u30c3\u30b7\u30e5\u304b\u3089\u3001\u30ab\u30fc\u30cd\u30eb\u306e\u30cf\u30c3\u30b7\u30e5\u3092\u53d6\u5f97\u3057\u3066\u3001`Module7.symvers`\u3068\u30ab\u30fc\u30cd\u30eb\u306e\u30bd\u30fc\u30b9\u53d6\u5f97\n#\nFIRMWARE_REV=`cat /boot/.firmware_revision`\nKERNEL_REV=`curl -L https://github.com/Hexxeh/rpi-firmware/raw/${FIRMWARE_REV}/git_hash`\necho Firmware Rev: ${FIRMWARE_REV}\necho kernel Rev  : ${KERNEL_REV}\ncurl -L https://github.com/Hexxeh/rpi-firmware/raw/${FIRMWARE_REV}/Module.symvers >Module.symvers\ncurl -L https://github.com/Hexxeh/rpi-firmware/raw/${FIRMWARE_REV}/Module7.symvers >Module7.symvers\ncurl -L https://github.com/raspberrypi/linux/archive/${KERNEL_REV}.tar.gz >rpi-linux.tar.gz\n#\n# root\u306b\u306a\u308b\nsudo -s\n#\n# \u30ab\u30fc\u30cd\u30eb\u30bd\u30fc\u30b9\u5c55\u958b \u6642\u9593\u304c\u304b\u304b\u308b\u3088\nHOME=/home/pi\ncd /usr/src\nmkdir rpi-linux\ncd rpi-linux\ntar --strip-components 1 -xf ${HOME}/rpi-linux.tar.gz\n#\n# Module.symvers\u3068 .config\u3092\u53d6\u5f97\u3057\u3066\u914d\u7f6e.\nmodprobe configs\ngunzip -c /proc/config.gz >.config\n# cp $HOME/Module.symvers Module.symvers  ## RPi1 ????\ncp $HOME/Module7.symvers Module.symvers\n#\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u30d3\u30eb\u30c9\u306e\u6e96\u5099\u3068\u30ea\u30f3\u30af.\ntime make modules_prepare\nln -sv /usr/src/rpi-linux /lib/modules/$(uname -r)/build\n```\n\n5. `rtl8812AU_8821AU_linux`\u306e\u30bd\u30fc\u30b9\u53d6\u5f97\u30fb\u30d3\u30eb\u30c9\n\n    ```bash\n# root\u3058\u3083\u306a\u304b\u3063\u305f\u3089.\nsudo -s \n#\n# \u30bd\u30fc\u30b9\u53d6\u5f97.\ncd /usr/src\ngit clone https://github.com/abperiasamy/rtl8812AU_8821AU_linux.git\ncd rtl8812AU_8821AU_linux/\n#\n# Makefile\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u3089\u305a\u3071\u3044\u5411\u3051\u306b\u3059\u308b - README.md\u306b\u66f8\u3044\u3066\u3042\u3063\u305f\n# > Edit Makefile and turn on ``CONFIG_PLATFORM_ARM_RPI``, turn off ``CONFIG_PLATFORM_I386_PC``\nsed -i 's/CONFIG_PLATFORM_I386_PC = y/CONFIG_PLATFORM_I386_PC = n/' Makefile\nsed -i 's/CONFIG_PLATFORM_ARM_RPI = n/CONFIG_PLATFORM_ARM_RPI = y/' Makefile\n#\n# \u30d3\u30eb\u30c9\nmake clean\nmake\nmake install\nmodprobe -a 8812au\n```\n\n\n6. \u3046\u3054\u3044\u305f\n\n    ```shell-session\npi@raspberrypi:~ $ lsusb | grep 8812\nBus 001 Device 004: ID 0bda:8812 Realtek Semiconductor Corp. \npi@raspberrypi:~ $ lsmod | grep 8812au\n8812au                960323  0 \ncfg80211              427855  2 brcmfmac,8812au\npi@raspberrypi:~ $ ifconfig wlan1 | grep \"inet \"\n          inet addr:192.168.41.11  Bcast:192.168.41.255  Mask:255.255.255.0\n```\n\n### (\u8ffd\u8a18) MediaTek MT7610U (RT2860) - ID 0e8d:7610 MediaTek Inc.\n- https://github.com/xtknight/mt7610u-linksys-ae6000-wifi-fixes.git\n\n    ```bash\n# root\u3058\u3083\u306a\u304b\u3063\u305f\u3089\nsudo -s \n#\n# MediaTek\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8\u304b\u3089\u3082\u3063\u3066\u304f\u308b\u30a2\u30fc\u30ab\u30a4\u30d6\u3068\u3001\u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\n##  MT7610U USB     9/16/2013     V3.0.0.2\n## wget http://s3.amazonaws.com/mtk.cfs/Downloads/linux/mt7610u_wifi_sta_v3002_dpo_20130916.tar.bz2\n## tar xjf mt7610u_wifi_sta_v3002_dpo_20130916.tar.bz2\n## cd mt7610u_wifi_sta_v3002_dpo_20130916\n#\n# \u306e\u3067\u3001\u30d3\u30eb\u30c9\u304c\u901a\u3063\u305f\u3082\u306e\u3092git clone\n# git clone https://github.com/coolshou/mt7610u.git\n# cd mt7610u\n#\u3057\u305f\u3051\u3069\u2191\u306f\u3001\u3046\u307e\u304f\u8a2d\u5b9a\u3067\u304d\u306a\u304b\u3063\u305f\u3002\u306e\u3067\u5225\u306e\u3082\u306e\n#\ncd /usr/src\ngit clone https://github.com/xtknight/mt7610u-linksys-ae6000-wifi-fixes.git\ncd mt7610u-linksys-ae6000-wifi-fixes\nmake\nmake install\n#\n#\n#sed -i 's/SSID=11n-AP/SSID=/' /etc/Wireless/RT2870STA/RT2870STA.dat\n#sed -i 's/AuthMode=OPEN/AuthMode=WPA2PSK/' /etc/Wireless/RT2870STA/RT2870STA.dat\n#sed -i 's/EncrypType=NONE/EncrypType=AES/' /etc/Wireless/RT2870STA/RT2870STA.dat\nmodprobe -a mt7610u_sta\n```\n\n    - `sudo vi /etc/network/interfaces`\n\n        ```txt:/etc/network/interfaces\n...\n# \u4ee5\u4e0b\u8ffd\u52a0\nallow-hotplug ra0\niface ra0 inet manual\n    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf\n```\n\n    - \u52d5\u3044\u305f\n\n        ```\npi@raspberrypi:~$ lsusb | grep 7610\nBus 001 Device 005: ID 0e8d:7610 MediaTek Inc.\npi@raspberrypi:~$ lsmod | grep 7610\nmt7610u_sta           876773  0\ncfg80211              427855  2 brcmfmac,mt7610u_sta\npi@raspberrypi:~$ ifconfig ra0 | grep \"inet \"\n          inet addr:192.168.41.13  Bcast:192.168.41.255  Mask:255.255.255.0\n```\n\n\n## \u305d\u306e\u4ed6\n- (\u8a66\u3057\u3066\u3044\u306a\u3044) Raspberry Pi 1/Zero\u5bfe\u5fdc?<br>`cp $HOME/Module7.symvers Module.symvers` \u306e\u3068\u3053\u308d\u306e`7`\u3092\u3068\u308b???<br> => `cp $HOME/Module.symvers Module.symvers`\n\n\n- `rpi-update`\u3067\u53d6\u5f97\u3059\u308b\u3068\u3001`/boot/.firmware_revision`\u306b\u30d5\u30a1\u30fc\u30e0\u306e\u30cf\u30c3\u30b7\u30e5\u304c\u5165\u3063\u3066\u3001\u305d\u308c\u3092\u5229\u7528\u3057\u3066\u3001\u30ab\u30fc\u30cd\u30eb\u30bd\u30fc\u30b9\u3068\u304b\u53d6\u5f97\u3057\u3066\u308b\u6a21\u69d8..\n- \u2193\u306e\u30a8\u30e9\u30fc\u306f\u3001`sudo apt-get inatall bc` \u3092\u3084\u308b\u3002\n\n    ```\ninclude/linux/jiffies.h:10:33: fatal error: generated/timeconst.h: No such file or directory\n #include <generated/timeconst.h>\n                                 ^\ncompilation terminated.\n```\n- \u30c6\u30b9\u30c8\u3059\u308b\u3068\u304d `sudo wpa_supplicant -iwlan1 -c /etc/wpa_supplicant/wpa_supplicant.conf` # -B\u3092\u3064\u3051\u308b\u3068\u30c7\u30fc\u30e2\u30f3\u5316\n- 5GHz\u306e\u3068\u3053\u306b\u3064\u306a\u3050\u306b\u306f\u3069\u3046\u3059\u308c\u3070..\n", "tags": ["RaspberryPi", "raspbian"]}