{"context": " More than 1 year has passed since last update.http://stackoverflow.com/questions/8391551/sencha-touch-2-mvc-how-to-pass-cache-data-between-views-and-controllers\n\u306b\u304b\u304b\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u3001controller \u3067\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u6301\u3064\u3088\u3046\u306b\u3057\u3001view \u3067\u306f\u8868\u793a\u306e\u307f\u3092\u53d7\u3051\u6301\u3064\u65b9\u304c\u826f\u3044\u3002\n\u305d\u306e\u70ba\u3001\u53d7\u3051\u6e21\u3057\u305f\u3044 model \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092 controller \u5074\u3067\u751f\u6210\u3057\u3066\u304b\u3089\u3001View \u3092\u547c\u3073\u51fa\u3059\u65b9\u6cd5\u304c\u671b\u307e\u3057\u3044\n\u305f\u3068\u3048\u3070\u3053\u3046\u3044\u3046 model \u304c\u3042\u308b\u3068\u3059\u308b\n\nmodel/UserPicture.coffee\nExt.define(\"MyApp.model.UserPicture\", {\n  extend: \"Ext.data.Model\",\n  config: {\n    fields: [\n      {\n        name: \"id\",\n        type: \"int\"\n      }, {\n        name: \"login_id\",\n        type: \"string\"\n      }, {\n        name: \"time\",\n        type: \"string\"\n      }, {\n        name: \"description\",\n        type: \"auto\"\n      }, {\n        name: \"picture\",\n        type: \"auto\"\n      }\n    ],\n  }\n});\n\n\n\u3053\u306e\u30c7\u30fc\u30bf\u3092 http://hoge.com/fuga.json \u304b\u3089\u53d6\u3063\u3066\u304d\u3066\u3001\u4ee5\u4e0b\u306e PictureListView \u306b\u8868\u793a\u3057\u305f\u3044\u3002\n\nview/PictureListView\nExt.define \"Ezuko.view.PictureListView\",\n  extend: \"Ext.List\"\n  xtype: \"picturelist\"\n  id: 'picturelist'\n  config:\n    itemTpl:[ '<img src=\"{picture}\"/>',\n              '<div>{description}</div>'].join('')\n\n\n\u307e\u305a\u306f app/store/ \u4ee5\u4e0b\u306b Proxy \u3092\u5b9a\u7fa9\u3057\u305f Store \u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3002\n\nstore/UserPicture\nExt.define 'MyApp.store.UserPicture'\n  extend: 'Ext.data.Store'\n  config:\n    model: 'MyApp.model.UserPicture',\n    proxy:\n      type: 'ajax'\n      url: 'http://hoge.com/fuga.json'\n      reader:\n        type: 'json'\n        rootProperty: \"user_pictures\"\n\n\nfuga.json \u3067\u306f\u3001'user_pictures' \u4ee5\u4e0b\u304c UserPicture model \u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u3059\u308b\u3002\n\u3053\u306e store \u3092 Controller \u3067\u547c\u3073\u51fa\u3057\u3066\u3001View \u306b\u6e21\u3059\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\n\ncontroller/Main.coffee\nExt.define 'MyApp.controller.Main',\n    extend: 'Ext.app.Controller'\n    config:\n      routes:\n        'picture/index' : 'pictureIndex'\n      models: ['UserPicture']\n      stores: ['UserPicture']\n\n    pictureIndex:() ->\n      store = new MyApp.store.UserPicture()\n      store.load (records, operation, success) ->\n          view = new Ext.Container\n            layout: 'card'\n            items: [\n              xtype:'picturelist'\n              store: store\n            ]\n          Ezuko.Viewport.push(view);\n        , scope: this\n\n\n\nhttp://stackoverflow.com/questions/8391551/sencha-touch-2-mvc-how-to-pass-cache-data-between-views-and-controllers\n\u306b\u304b\u304b\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u3001controller \u3067\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u6301\u3064\u3088\u3046\u306b\u3057\u3001view \u3067\u306f\u8868\u793a\u306e\u307f\u3092\u53d7\u3051\u6301\u3064\u65b9\u304c\u826f\u3044\u3002\n\u305d\u306e\u70ba\u3001\u53d7\u3051\u6e21\u3057\u305f\u3044 model \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092 controller \u5074\u3067\u751f\u6210\u3057\u3066\u304b\u3089\u3001View \u3092\u547c\u3073\u51fa\u3059\u65b9\u6cd5\u304c\u671b\u307e\u3057\u3044\n\n\u305f\u3068\u3048\u3070\u3053\u3046\u3044\u3046 model \u304c\u3042\u308b\u3068\u3059\u308b\n\n```coffee:model/UserPicture.coffee\nExt.define(\"MyApp.model.UserPicture\", {\n  extend: \"Ext.data.Model\",\n  config: {\n    fields: [\n      {\n        name: \"id\",\n        type: \"int\"\n      }, {\n        name: \"login_id\",\n        type: \"string\"\n      }, {\n        name: \"time\",\n        type: \"string\"\n      }, {\n        name: \"description\",\n        type: \"auto\"\n      }, {\n        name: \"picture\",\n        type: \"auto\"\n      }\n    ],\n  }\n});\n```\n\n\u3053\u306e\u30c7\u30fc\u30bf\u3092 http://hoge.com/fuga.json \u304b\u3089\u53d6\u3063\u3066\u304d\u3066\u3001\u4ee5\u4e0b\u306e PictureListView \u306b\u8868\u793a\u3057\u305f\u3044\u3002\n\n```coffee:view/PictureListView\nExt.define \"Ezuko.view.PictureListView\",\n  extend: \"Ext.List\"\n  xtype: \"picturelist\"\n  id: 'picturelist'\n  config:\n    itemTpl:[ '<img src=\"{picture}\"/>',\n              '<div>{description}</div>'].join('')\n```\n\n\u307e\u305a\u306f app/store/ \u4ee5\u4e0b\u306b Proxy \u3092\u5b9a\u7fa9\u3057\u305f Store \u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```coffee:store/UserPicture\nExt.define 'MyApp.store.UserPicture'\n  extend: 'Ext.data.Store'\n  config:\n    model: 'MyApp.model.UserPicture',\n    proxy:\n      type: 'ajax'\n      url: 'http://hoge.com/fuga.json'\n      reader:\n        type: 'json'\n        rootProperty: \"user_pictures\"\n```\n\nfuga.json \u3067\u306f\u3001'user_pictures' \u4ee5\u4e0b\u304c UserPicture model \u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u3059\u308b\u3002\n\n\u3053\u306e store \u3092 Controller \u3067\u547c\u3073\u51fa\u3057\u3066\u3001View \u306b\u6e21\u3059\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\n\n```coffee:controller/Main.coffee\nExt.define 'MyApp.controller.Main',\n    extend: 'Ext.app.Controller'\n    config:\n      routes:\n        'picture/index' : 'pictureIndex'\n      models: ['UserPicture']\n      stores: ['UserPicture']\n\n    pictureIndex:() ->\n      store = new MyApp.store.UserPicture()\n      store.load (records, operation, success) ->\n          view = new Ext.Container\n            layout: 'card'\n            items: [\n              xtype:'picturelist'\n              store: store\n            ]\n          Ezuko.Viewport.push(view);\n        , scope: this\n```\n\n", "tags": ["SenchaTouch", "SenchaTouch2"]}