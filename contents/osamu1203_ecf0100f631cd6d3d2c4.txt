{"context": " More than 1 year has passed since last update.ORM\u306eObserver_Typing\u306b\u3064\u3044\u3066\u7c21\u5358\u306b\u8aac\u660e\u3059\u308b\u3068\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30ab\u30e9\u30e0\u3092\u5897\u3084\u3055\u306a\u304f\u3068\u3082\uff11\u3064\u306e\u30ab\u30e9\u30e0\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u307e\u305f\u306fJSON\u306a\u3069\u306e\u6587\u5b57\u5217\u3068\u3057\u3066\u4fdd\u5b58\u3059\u308b\u3053\u3068\u3067\u3001\u4fdd\u5b58\u3084\u53d6\u5f97\u3092\u81ea\u52d5\u3067\u884c\u3063\u3066\u304f\u308c\u308b\u3082\u306e\u3067\u3059\u3002\n\u4f8b\u3048\u3070\u3053\u306e\u3088\u3046\u306ausers\u30c6\u30fc\u30d6\u30eb\u304c\u3042\u308b\u3068\u3057\u307e\u3059\u3002\nCREATE TABLE IF NOT EXISTS `users` (\n  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) NOT NULL,\n  `profiles` text NOT NULL,\n  `created_at` int(11) DEFAULT NULL,\n  `updated_at` int(11) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB;\n\nname\u3068profiles\u3068\u3044\u3046\u30ab\u30e9\u30e0\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u306eprofiles\u306e\u4e2d\u306b\u3001age\u3068nicname\u3068\u3044\u3046\uff12\u3064\u306e\u8981\u7d20\u3092\u4fdd\u5b58\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30e2\u30c7\u30eb(Model)\n\u30e2\u30c7\u30eb\u3067\u306f\u3001profiles\u306edata_type\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3068\u3001$_observers\u306bOrm\\Observer_Typing\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n<?php\nuse Orm\\Model;\n\nclass Model_User extends Model\n{\n    protected static $_properties = array(\n        'id',\n        'name',\n        'profiles' => array(\n            'data_type' => 'json',\n        ),\n        'created_at',\n        'updated_at',\n    );\n\n    protected static $_observers = array(\n        'Orm\\Observer_Typing' => array(\n            'events' => array('before_save', 'after_save', 'after_load')\n        ),\n        'Orm\\Observer_CreatedAt' => array(\n            'events' => array('before_insert'),\n            'mysql_timestamp' => false,\n        ),\n        'Orm\\Observer_UpdatedAt' => array(\n            'events' => array('before_save'),\n            'mysql_timestamp' => false,\n        ),\n    );\n\n}\n\n\n\u30d3\u30e5\u30fc(View)\n\u7d9a\u3044\u3066\u30d3\u30e5\u30fc\u3067\u306fpost\u3057\u305f\u3082\u306e\u304c\u914d\u5217\u3068\u3057\u3066\u306a\u308b\u3088\u3046\u306b\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n<?php echo Form::open(array(\"class\"=>\"form-horizontal\")); ?>\n\n    <fieldset>\n        <div class=\"form-group\">\n            <?php echo Form::label('Name', 'name', array('class'=>'control-label')); ?>\n                <?php echo Form::input('name', Input::post('name', isset($user) ? $user->name : ''), array('class' => 'col-md-4 form-control', 'placeholder'=>'Name')); ?>\n        </div>\n\n        <div class=\"form-group\">\n            <?php echo Form::label('Age', 'age', array('class'=>'control-label')); ?>\n                <?php echo Form::input('profiles[age]', Input::post('profiles.age', isset($user->profiles) ? $user->profiles->age : ''), array('class' => 'col-md-4 form-control', 'placeholder'=>'age')); ?>\n        </div>\n\n        <div class=\"form-group\">\n            <?php echo Form::label('Nicname', 'nicname', array('class'=>'control-label')); ?>\n                <?php echo Form::input('profiles[nicname]', Input::post('profiles.nicname', isset($user->profiles) ? $user->profiles->nicname : ''), array('class' => 'col-md-4 form-control', 'placeholder'=>'nicname')); ?>\n        </div>\n\n        <div class=\"form-group\">\n            <label class='control-label'>&nbsp;</label>\n            <?php echo Form::submit('submit', 'Save', array('class' => 'btn btn-primary')); ?>      </div>\n    </fieldset>\n<?php echo Form::close(); ?>\n\n'profiles[age]'\u306e\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u3067\u3001$post['profiles']['age']\u3068\u3044\u3046\u5f62\u3067post\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc(Controller)\n\u6700\u5f8c\u306b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067\u3059\u304c\u3001\u307b\u3068\u3093\u3069\u610f\u8b58\u3059\u308b\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\u4fdd\u5b58\u3059\u308b\u524d\u306b\u5024\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3068\u304d\u306b\u914d\u5217\u306b\u306a\u3063\u305f\u5f62\u306e\u307e\u307eforge\u306e\u5f15\u6570\u306b\u6e21\u305b\u3070\u3001\u3042\u3068\u306f\u52dd\u624b\u306bJSON\u306b\u76f4\u3057\u3066\u4fdd\u5b58\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n$user = Model_User::forge(Input::post());\n\nTyping\u306e\u4f7f\u3044\u6240\u3068\u3057\u3066\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30ab\u30e9\u30e0\u306b\u306a\u3089\u306a\u3044\u306e\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5074\u3067\u5229\u7528\u3057\u306a\u3044\u30c7\u30fc\u30bf\uff08\u88dc\u8db3\u60c5\u5831\u306a\u3069\uff09\u306e\u307f\u6d3b\u7528\u3059\u308b\u3068\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nORM\u306eObserver_Typing\u306b\u3064\u3044\u3066\u7c21\u5358\u306b\u8aac\u660e\u3059\u308b\u3068\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30ab\u30e9\u30e0\u3092\u5897\u3084\u3055\u306a\u304f\u3068\u3082\uff11\u3064\u306e\u30ab\u30e9\u30e0\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u307e\u305f\u306fJSON\u306a\u3069\u306e\u6587\u5b57\u5217\u3068\u3057\u3066\u4fdd\u5b58\u3059\u308b\u3053\u3068\u3067\u3001\u4fdd\u5b58\u3084\u53d6\u5f97\u3092\u81ea\u52d5\u3067\u884c\u3063\u3066\u304f\u308c\u308b\u3082\u306e\u3067\u3059\u3002\n\n\u4f8b\u3048\u3070\u3053\u306e\u3088\u3046\u306ausers\u30c6\u30fc\u30d6\u30eb\u304c\u3042\u308b\u3068\u3057\u307e\u3059\u3002\n\n```mysql\nCREATE TABLE IF NOT EXISTS `users` (\n  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) NOT NULL,\n  `profiles` text NOT NULL,\n  `created_at` int(11) DEFAULT NULL,\n  `updated_at` int(11) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB;\n```\n\nname\u3068profiles\u3068\u3044\u3046\u30ab\u30e9\u30e0\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u306eprofiles\u306e\u4e2d\u306b\u3001age\u3068nicname\u3068\u3044\u3046\uff12\u3064\u306e\u8981\u7d20\u3092\u4fdd\u5b58\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n##\u30e2\u30c7\u30eb(Model)\n\u30e2\u30c7\u30eb\u3067\u306f\u3001profiles\u306edata_type\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3068\u3001$_observers\u306bOrm\\Observer_Typing\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```php\n<?php\nuse Orm\\Model;\n\nclass Model_User extends Model\n{\n    protected static $_properties = array(\n        'id',\n        'name',\n        'profiles' => array(\n            'data_type' => 'json',\n        ),\n        'created_at',\n        'updated_at',\n    );\n\n    protected static $_observers = array(\n        'Orm\\Observer_Typing' => array(\n            'events' => array('before_save', 'after_save', 'after_load')\n        ),\n        'Orm\\Observer_CreatedAt' => array(\n            'events' => array('before_insert'),\n            'mysql_timestamp' => false,\n        ),\n        'Orm\\Observer_UpdatedAt' => array(\n            'events' => array('before_save'),\n            'mysql_timestamp' => false,\n        ),\n    );\n\n}\n```\n\n##\u30d3\u30e5\u30fc(View)\n\u7d9a\u3044\u3066\u30d3\u30e5\u30fc\u3067\u306fpost\u3057\u305f\u3082\u306e\u304c\u914d\u5217\u3068\u3057\u3066\u306a\u308b\u3088\u3046\u306b\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\n```php\n<?php echo Form::open(array(\"class\"=>\"form-horizontal\")); ?>\n\n    <fieldset>\n        <div class=\"form-group\">\n            <?php echo Form::label('Name', 'name', array('class'=>'control-label')); ?>\n                <?php echo Form::input('name', Input::post('name', isset($user) ? $user->name : ''), array('class' => 'col-md-4 form-control', 'placeholder'=>'Name')); ?>\n        </div>\n\n        <div class=\"form-group\">\n            <?php echo Form::label('Age', 'age', array('class'=>'control-label')); ?>\n                <?php echo Form::input('profiles[age]', Input::post('profiles.age', isset($user->profiles) ? $user->profiles->age : ''), array('class' => 'col-md-4 form-control', 'placeholder'=>'age')); ?>\n        </div>\n\n        <div class=\"form-group\">\n            <?php echo Form::label('Nicname', 'nicname', array('class'=>'control-label')); ?>\n                <?php echo Form::input('profiles[nicname]', Input::post('profiles.nicname', isset($user->profiles) ? $user->profiles->nicname : ''), array('class' => 'col-md-4 form-control', 'placeholder'=>'nicname')); ?>\n        </div>\n\n        <div class=\"form-group\">\n            <label class='control-label'>&nbsp;</label>\n            <?php echo Form::submit('submit', 'Save', array('class' => 'btn btn-primary')); ?>      </div>\n    </fieldset>\n<?php echo Form::close(); ?>\n```\n\n\n'profiles[age]'\u306e\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u3067\u3001$post['profiles']['age']\u3068\u3044\u3046\u5f62\u3067post\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n<h2>\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc(Controller)</h2>\n\u6700\u5f8c\u306b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067\u3059\u304c\u3001\u307b\u3068\u3093\u3069\u610f\u8b58\u3059\u308b\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\u4fdd\u5b58\u3059\u308b\u524d\u306b\u5024\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3068\u304d\u306b\u914d\u5217\u306b\u306a\u3063\u305f\u5f62\u306e\u307e\u307eforge\u306e\u5f15\u6570\u306b\u6e21\u305b\u3070\u3001\u3042\u3068\u306f\u52dd\u624b\u306bJSON\u306b\u76f4\u3057\u3066\u4fdd\u5b58\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n```php\n$user = Model_User::forge(Input::post());\n```\n\n\nTyping\u306e\u4f7f\u3044\u6240\u3068\u3057\u3066\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30ab\u30e9\u30e0\u306b\u306a\u3089\u306a\u3044\u306e\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5074\u3067\u5229\u7528\u3057\u306a\u3044\u30c7\u30fc\u30bf\uff08\u88dc\u8db3\u60c5\u5831\u306a\u3069\uff09\u306e\u307f\u6d3b\u7528\u3059\u308b\u3068\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["FuelPHP"]}