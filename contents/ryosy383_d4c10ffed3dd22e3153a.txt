{"tags": ["Rails", "Cucumber", "Ruby", "poltergeist", "Ubuntu"], "context": " More than 1 year has passed since last update.\n\nPhantomJS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u74b0\u5883: Ubuntu 14.04LTS\n$ sudo apt-get install phantomjs\n\n\nCapybara + Poltergeist + Cucumber\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ee5\u4e0b\u306eGem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n$ gem install capybara capybara-webkit poltergeist headless cucumber rspec --no-ri --no-rdoc\n\n\nRails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30b9\u30c8\u69cb\u9020\u69cb\u7bc9\nRails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u9020\u306eDirectory\u3068File\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\ntest/\n\u251c\u2500\u2500 Rakefile\n\u2514\u2500\u2500 features\n    \u251c\u2500\u2500 screen_shot.feature\n    \u2514\u2500\u2500 step_definitions\n        \u2514\u2500\u2500 steps_ja.rb\n\n\nRakefile\nRakefile\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\nrequire 'rubygems'\nrequire 'headless'\nrequire 'cucumber'\nrequire 'cucumber/rake/task'\n\nheadless = Headless.new(display:99)\nheadless.start\nCucumber::Rake::Task.new(:features) do |t|\n  t.cucumber_opts = \"features --format pretty --format html -o features.html\"\nend\n\n\nscreen_shot.feature\nscreen_shot.feature\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n# language:ja\n\n\u6a5f\u80fd: \u6307\u5b9a\u3057\u305fURL\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u4fdd\u5b58\n  \u30b7\u30ca\u30ea\u30aa: \u753b\u9762\u8868\u793a\u3092\u3057\u3066\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u4fdd\u5b58\u3059\u308b\n    \u3082\u3057 \"http://qiita.com/ryosy383/\"\u3092\u8868\u793a\n    \u306a\u3089\u3070 \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u3063\u3066\"screen_shot.png\"\u306b\u4fdd\u5b58\n\n\n\nsteps_ja.rb\nsteps_ja.rb\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n#coding: utf-8\nrequire 'capybara-webkit'\nrequire 'capybara/poltergeist'\nCapybara.default_driver = :poltergeist\ninclude Capybara::DSL\n\n\u3082\u3057 /\\\"(.+)\\\"\u3092\u8868\u793a/ do |url|\n  visit(url)\nend\n\u306a\u3089\u3070 /\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u3063\u3066\\\"(.+)\\\"\u306b\u4fdd\u5b58/ do |filename|\n  page.save_screenshot \"./#{filename}\"\nend\n\n\n\nCucumber\u306e\u5b9f\u884c\ntest\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u3067Cucumber\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ cucumber\n\n\u305d\u3046\u3059\u308b\u3068\u30b7\u30ca\u30ea\u30aa\u901a\u308a\u306b\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3055\u308c\u3066\u3001\nscreen_shot.png\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\u25a0screen_shot.png\n\n\u25a0GitHub\u30ea\u30f3\u30af\n\u81ea\u52d5\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\nhttps://github.com/ryosy383/AutoScreenCaputure\n# PhantomJS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u74b0\u5883: Ubuntu 14.04LTS\n\n```\n$ sudo apt-get install phantomjs\n```\n\n# Capybara + Poltergeist + Cucumber\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u4ee5\u4e0b\u306eGem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n```\n$ gem install capybara capybara-webkit poltergeist headless cucumber rspec --no-ri --no-rdoc\n```\n\n# Rails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30b9\u30c8\u69cb\u9020\u69cb\u7bc9\n\nRails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u9020\u306eDirectory\u3068File\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\ntest/\n\u251c\u2500\u2500 Rakefile\n\u2514\u2500\u2500 features\n    \u251c\u2500\u2500 screen_shot.feature\n    \u2514\u2500\u2500 step_definitions\n        \u2514\u2500\u2500 steps_ja.rb\n```\n\n# Rakefile\n\nRakefile\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```rb\nrequire 'rubygems'\nrequire 'headless'\nrequire 'cucumber'\nrequire 'cucumber/rake/task'\n\nheadless = Headless.new(display:99)\nheadless.start\nCucumber::Rake::Task.new(:features) do |t|\n  t.cucumber_opts = \"features --format pretty --format html -o features.html\"\nend\n```\n\n# screen_shot.feature\n\nscreen_shot.feature\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```\n# language:ja\n\n\u6a5f\u80fd: \u6307\u5b9a\u3057\u305fURL\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u4fdd\u5b58\n  \u30b7\u30ca\u30ea\u30aa: \u753b\u9762\u8868\u793a\u3092\u3057\u3066\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u4fdd\u5b58\u3059\u308b\n    \u3082\u3057 \"http://qiita.com/ryosy383/\"\u3092\u8868\u793a\n    \u306a\u3089\u3070 \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u3063\u3066\"screen_shot.png\"\u306b\u4fdd\u5b58\n\n```\n\n# steps_ja.rb\n\nsteps_ja.rb\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```rb\n#coding: utf-8\nrequire 'capybara-webkit'\nrequire 'capybara/poltergeist'\nCapybara.default_driver = :poltergeist\ninclude Capybara::DSL\n\n\u3082\u3057 /\\\"(.+)\\\"\u3092\u8868\u793a/ do |url|\n  visit(url)\nend\n\u306a\u3089\u3070 /\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u3063\u3066\\\"(.+)\\\"\u306b\u4fdd\u5b58/ do |filename|\n  page.save_screenshot \"./#{filename}\"\nend\n\n```\n\n# Cucumber\u306e\u5b9f\u884c\n\ntest\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u3067Cucumber\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n$ cucumber\n```\n\n\u305d\u3046\u3059\u308b\u3068\u30b7\u30ca\u30ea\u30aa\u901a\u308a\u306b\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3055\u308c\u3066\u3001\nscreen_shot.png\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n\u25a0screen_shot.png\n\n![qiita.png](https://qiita-image-store.s3.amazonaws.com/0/34365/bc68bfe9-0c20-258c-a17a-15107157b1ce.png)\n\n\u25a0GitHub\u30ea\u30f3\u30af\n\u81ea\u52d5\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\nhttps://github.com/ryosy383/AutoScreenCaputure\n\n\n"}