{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nBookmarkablePageLink\u3092\u4f7f\u3063\u3066\u3001\u5024\u3092\u3082\u305f\u305b\u305f\u30da\u30fc\u30b8\u9077\u79fb\u3055\u305b\u308b\u3068\nURL\u6b04\u306b\u60c5\u5831\u304c\u305d\u306e\u307e\u307e\u51fa\u3066\u3057\u307e\u3046\u306e\u3067\u306a\u3093\u3068\u304b\u3057\u305f\u304b\u3063\u305f\u3002\n\n\n\u5b9f\u88c5\u753b\u9762\n\u30d5\u30a9\u30fc\u30e0\u304b\u3089\u5024\u3092\u9001\u308b\u3068\n\nURL\u306b\u8ffd\u52a0\u3055\u308c\u308b\u30da\u30fc\u30b8\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u304c\u96e3\u8aad\u5316\u3055\u308c\u3066\u3044\u308b\n\n\n\u30bd\u30fc\u30b9\n\u30da\u30fc\u30b8\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u30fb\u30c7\u30b3\u30fc\u30c0\u30fc\u3092\u6307\u5b9a\u3059\u308c\u3070\u3044\u3044\u307f\u305f\u3044\u3002\n\u53c2\u8003\uff1awicket user-guide \u306e\nControlling how page parameters are encoded with IPageParametersEncoder \u3063\u3066\u3044\u3046\u7bc0\n\u307e\u305a\u306fIPageParametersEncoder\u3092\u5b9f\u88c5\u3057\u305f CryptoPageaParametersEncoder\u3092\u4f5c\u6210\n\nCryptoPageParametersEncoder\npublic class CryptionPageParametersEncoder implements IPageParametersEncoder{\n\n    @Override\n    public PageParameters decodePageParameters(Url url) {\n\n        PageParameters parameters = new PageParameters();\n\n        int i = 0;\n        for (String s : url.getSegments())\n        {\n            parameters.set(i, s);\n            ++i;\n        }\n\n        for (QueryParameter p : url.getQueryParameters())\n        {\n            //\u5404\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e\u6697\u53f7\u5316\u3092\u89e3\u9664\u3059\u308b\u51e6\u7406\n            parameters.add( \u5fa9\u53f7\u5316\u30e1\u30bd\u30c3\u30c9(p.getKey(),p.getValue())));\n\n        }\n\n        return parameters.isEmpty() ? null : parameters;\n    }\n\n    @Override\n    public Url encodePageParameters(PageParameters pageParameters) {\n        Url url = new Url();\n\n        for (int i = 0; i < pageParameters.getIndexedCount(); ++i)\n        {\n            url.getSegments().add(pageParameters.get(i).toString());\n        }\n\n        for (PageParameters.NamedPair pair : pageParameters.getAllNamed())\n        {\n            String encryptedKey = \"\";\n            String encryptedValue = \"\";\n\n            //\u5404\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u6697\u53f7\u5316\u3059\u308b\u51e6\u7406\n            encryptedKey = \u6697\u53f7\u5316\u30e1\u30bd\u30c3\u30c9\uff08pair.getKey());\n            encryptedValue = \u6697\u53f7\u5316\u30e1\u30bd\u30c3\u30c9(pair.getValue());\n\n            QueryParameter param = new QueryParameter(encryptedKey, encryptedValue);\n            url.getQueryParameters().add(param);\n        }       \n        return url;\n    }   \n}\n\n\n\n\u6b21\u306b\u3001Application\u30af\u30e9\u30b9\u306einit\u30e1\u30bd\u30c3\u30c9\u3067\u3001\u6697\u53f7\u5316\u3057\u3066\u3084\u308a\u3068\u308a\u3092\u884c\u3044\u305f\u3044\u30da\u30fc\u30b8\u306b\u4e0a\u8a18\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u3002\n\nMyApplication.java\npublic class MyApplication extends WebApplication {\n    public MyApplication() {\n    }\n\n    /**\n     * @see org.apache.wicket.Application#getHomePage()\n     */\n    @Override\n    public Class getHomePage() {\n        return Page1.class;\n    }\n\n    @Override\n    protected void init() {\n        super.init();\n\n        //Page2\u30da\u30fc\u30b8\u306b\u4f5c\u6210\u3057\u305f\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u3092\u30de\u30a6\u30f3\u30c8\n        mount(new MountedMapper(\"/cryptedPageParameter/\", Page2.class, new CryptionPageParametersEncoder()));\n    }\n\n\n\n\u7d42\u308f\u308a\u306b\n\u6700\u521d\u3053\u306e\u3084\u308a\u65b9\u304c\u308f\u304b\u3089\u306a\u304f\u3066\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5404\u30da\u30fc\u30b8\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u6697\u53f7\u30fb\u5fa9\u53f7\u5316\u3057\u3066\u305f\u304b\u3089\u5927\u5909\u3060\u3063\u305f\u3002\n\u52c9\u5f37\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046 wicket user-guide\n\n# \u306f\u3058\u3081\u306b\nBookmarkablePageLink\u3092\u4f7f\u3063\u3066\u3001\u5024\u3092\u3082\u305f\u305b\u305f\u30da\u30fc\u30b8\u9077\u79fb\u3055\u305b\u308b\u3068\nURL\u6b04\u306b\u60c5\u5831\u304c\u305d\u306e\u307e\u307e\u51fa\u3066\u3057\u307e\u3046\u306e\u3067\u306a\u3093\u3068\u304b\u3057\u305f\u304b\u3063\u305f\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-05-14 11.17.45.jpg](https://qiita-image-store.s3.amazonaws.com/0/57201/316a6139-94c9-ee93-447f-56d100de681e.jpeg)\n\n\n# \u5b9f\u88c5\u753b\u9762\n\u30d5\u30a9\u30fc\u30e0\u304b\u3089\u5024\u3092\u9001\u308b\u3068\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-05-14 10.27.56.jpg](https://qiita-image-store.s3.amazonaws.com/0/57201/85ce9c96-f78c-d83d-8969-6d1c87579bac.jpeg)\n\nURL\u306b\u8ffd\u52a0\u3055\u308c\u308b\u30da\u30fc\u30b8\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u304c\u96e3\u8aad\u5316\u3055\u308c\u3066\u3044\u308b\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-05-14 11.04.12.jpg](https://qiita-image-store.s3.amazonaws.com/0/57201/74ca36fc-c709-5d16-3f16-6250ac2f1260.jpeg)\n\n\n# \u30bd\u30fc\u30b9\n\u30da\u30fc\u30b8\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u30fb\u30c7\u30b3\u30fc\u30c0\u30fc\u3092\u6307\u5b9a\u3059\u308c\u3070\u3044\u3044\u307f\u305f\u3044\u3002\n\u53c2\u8003\uff1a[wicket user-guide] (http://ci.apache.org/projects/wicket/guide/6.x/guide/single.html#urls_6) \u306e\n*Controlling how page parameters are encoded with IPageParametersEncoder* \u3063\u3066\u3044\u3046\u7bc0\n\n\u307e\u305a\u306f*IPageParametersEncoder*\u3092\u5b9f\u88c5\u3057\u305f *CryptoPageaParametersEncoder*\u3092\u4f5c\u6210\n\n``` java:CryptoPageParametersEncoder \npublic class CryptionPageParametersEncoder implements IPageParametersEncoder{\n\t\t\n\t@Override\n\tpublic PageParameters decodePageParameters(Url url) {\n\t\t\n\t\tPageParameters parameters = new PageParameters();\n\n\t\tint i = 0;\n\t\tfor (String s : url.getSegments())\n\t\t{\n\t\t\tparameters.set(i, s);\n\t\t\t++i;\n\t\t}\n\n\t\tfor (QueryParameter p : url.getQueryParameters())\n\t\t{\n\t\t\t//\u5404\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e\u6697\u53f7\u5316\u3092\u89e3\u9664\u3059\u308b\u51e6\u7406\n\t\t\tparameters.add( \u5fa9\u53f7\u5316\u30e1\u30bd\u30c3\u30c9(p.getKey(),p.getValue())));\n\t\t\t\n\t\t}\n\n\t\treturn parameters.isEmpty() ? null : parameters;\n\t}\n\t\n\t@Override\n\tpublic Url encodePageParameters(PageParameters pageParameters) {\n\t\tUrl url = new Url();\n\n\t\tfor (int i = 0; i < pageParameters.getIndexedCount(); ++i)\n\t\t{\n\t\t\turl.getSegments().add(pageParameters.get(i).toString());\n\t\t}\n\n\t\tfor (PageParameters.NamedPair pair : pageParameters.getAllNamed())\n\t\t{\n\t\t\tString encryptedKey = \"\";\n\t\t\tString encryptedValue = \"\";\n\t\t\t\n\t\t\t//\u5404\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u6697\u53f7\u5316\u3059\u308b\u51e6\u7406\n\t\t\tencryptedKey = \u6697\u53f7\u5316\u30e1\u30bd\u30c3\u30c9\uff08pair.getKey());\n\t\t\tencryptedValue = \u6697\u53f7\u5316\u30e1\u30bd\u30c3\u30c9(pair.getValue());\n\t\t\t\t \n\t\t\tQueryParameter param = new QueryParameter(encryptedKey, encryptedValue);\n\t\t\turl.getQueryParameters().add(param);\n\t\t}\t\t\n\t\treturn url;\n\t}\t\n}\n\n```\n\n\u6b21\u306b\u3001Application\u30af\u30e9\u30b9\u306einit\u30e1\u30bd\u30c3\u30c9\u3067\u3001\u6697\u53f7\u5316\u3057\u3066\u3084\u308a\u3068\u308a\u3092\u884c\u3044\u305f\u3044\u30da\u30fc\u30b8\u306b\u4e0a\u8a18\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u3002\n\n```java:MyApplication.java\npublic class MyApplication extends WebApplication {\n    public MyApplication() {\n    }\n\n    /**\n     * @see org.apache.wicket.Application#getHomePage()\n     */\n    @Override\n    public Class getHomePage() {\n    \treturn Page1.class;\n    }\n    \n    @Override\n    protected void init() {\n    \tsuper.init();\n    \n    \t//Page2\u30da\u30fc\u30b8\u306b\u4f5c\u6210\u3057\u305f\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u3092\u30de\u30a6\u30f3\u30c8\n    \tmount(new MountedMapper(\"/cryptedPageParameter/\", Page2.class, new CryptionPageParametersEncoder()));\n    }\n```\n\n# \u7d42\u308f\u308a\u306b\n\u6700\u521d\u3053\u306e\u3084\u308a\u65b9\u304c\u308f\u304b\u3089\u306a\u304f\u3066\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5404\u30da\u30fc\u30b8\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u6697\u53f7\u30fb\u5fa9\u53f7\u5316\u3057\u3066\u305f\u304b\u3089\u5927\u5909\u3060\u3063\u305f\u3002\n\u52c9\u5f37\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046 [wicket user-guide] (http://ci.apache.org/projects/wicket/guide/6.x/guide/single.html)\n", "tags": ["Wicket"]}