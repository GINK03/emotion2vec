{"context": "Instagram\u306e\u30af\u30ed\u30fc\u30eb\u3092\u5b9f\u65bd\u3057\u3088\u3046\u3068API\u767b\u9332\u3057\u305f\u3093\u3060\u3051\u3069\u3001\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3067\u304d\u305a\u8a70\u307e\u3063\u305f\u306e\u3067\u78ba\u8a8d\u65b9\u6cd5\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002\n\n\u72b6\u6cc1\n\u4ee5\u4e0bURL\u306b\u6cbf\u3063\u3066\u3001\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u3053\u308d\u30a8\u30e9\u30fc\u3067\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u304c\u53d6\u5f97\u3067\u304d\u306a\u3044\u3002\nhttp://d.hatena.ne.jp/tksthdnr/20110922/1316717437\n\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u5b9f\u884c\u3057\u305f\u30b3\u30de\u30f3\u30c9\ncurl \\                  \n-F 'client_id=[Client ID]' \\                    \n-F 'client_secret=[Client Secret]' \\                    \n-F 'grant_type=authorization_code' \\                    \n-F 'redirect_uri=[Valid redirect URIs]' \\                   \n-F 'code=[code]' \\                  \nhttps://api.instagram.com/oauth/access_token                    \n\n\u30a8\u30e9\u30fcMSG\n{\"error_message\": \"Matching code was not found or was already used.\", \"error_type\": \"OAuthException\", \"code\": 400}\n\"Matching code was not found or was already used.\n\n\n\u56de\u907f\u65b9\u6cd5\n\u53c2\u8003\uff1ahttp://fujiyamaworks.blogspot.jp/2012/08/instagram-api-access-token.html\n1.Security > Disable implicit Oauth\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5916\u3059\n\n2.\u4ee5\u4e0bURL\u306bClient ID\u3068Valid redirect URIs\u3092\u8a2d\u5b9a\nhttps://instagram.com/oauth/authorize/?client_id=[Client ID]&redirect_uri=[Valid redirect URIs]&response_type=token&scope=public_content\n\n3.\u300c#access_token=\u300d\u4ee5\u4e0b\u306e\u5024\u304c\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3068\u306a\u308b\n\nURL\u306b\u306f&scope=public_content\u3082\u4ed8\u4e0e\u3057\u3066\u304a\u304f\u3002\n\u3064\u3051\u306a\u3044\u3068https://api.instagram.com/v1/tags/[Tag\u540d]/media/recent/?access_token=[acessToken]\u3067\u30bf\u30b0\u304c\u3064\u3044\u3066\u3044\u308b\u3082\u306e\u3092\u53d6\u5f97\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u304d\u306b\u4ee5\u4e0b\u30a8\u30e9\u30fc\u3068\u306a\u308b\u3002\n{\"meta\": {\"error_type\": \"OAuthPermissionsException\", \"error_message\": \"This request requires scope=public_content, but this access token is not authorized with this scope. The user must re-authorize your application with scope=public_content to be granted this permissions.\", \"code\": 400}}\n\nInstagram\u306e\u30af\u30ed\u30fc\u30eb\u3092\u5b9f\u65bd\u3057\u3088\u3046\u3068API\u767b\u9332\u3057\u305f\u3093\u3060\u3051\u3069\u3001\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3067\u304d\u305a\u8a70\u307e\u3063\u305f\u306e\u3067\u78ba\u8a8d\u65b9\u6cd5\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002\n\n## \u72b6\u6cc1\n\u4ee5\u4e0bURL\u306b\u6cbf\u3063\u3066\u3001\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u3053\u308d\u30a8\u30e9\u30fc\u3067\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u304c\u53d6\u5f97\u3067\u304d\u306a\u3044\u3002\nhttp://d.hatena.ne.jp/tksthdnr/20110922/1316717437\n\n**\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u5b9f\u884c\u3057\u305f\u30b3\u30de\u30f3\u30c9**\n\n```\ncurl \\\t\t\t\t\t\n-F 'client_id=[Client ID]' \\\t\t\t\t\t\n-F 'client_secret=[Client Secret]' \\\t\t\t\t\t\n-F 'grant_type=authorization_code' \\\t\t\t\t\t\n-F 'redirect_uri=[Valid redirect URIs]' \\\t\t\t\t\t\n-F 'code=[code]' \\\t\t\t\t\t\nhttps://api.instagram.com/oauth/access_token\t\t\t\t\t\n```\n\n**\u30a8\u30e9\u30fcMSG**\n\n```\n{\"error_message\": \"Matching code was not found or was already used.\", \"error_type\": \"OAuthException\", \"code\": 400}\n\"Matching code was not found or was already used.\n```\n\n## \u56de\u907f\u65b9\u6cd5\n\u53c2\u8003\uff1ahttp://fujiyamaworks.blogspot.jp/2012/08/instagram-api-access-token.html\n\n1.Security > Disable implicit Oauth\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5916\u3059\n![image](https://qiita-image-store.s3.amazonaws.com/0/150939/a1f256c3-f491-ea3a-eab7-29dc0bed068e.png)\n\n\n2.\u4ee5\u4e0bURL\u306bClient ID\u3068Valid redirect URIs\u3092\u8a2d\u5b9a\n\n```\nhttps://instagram.com/oauth/authorize/?client_id=[Client ID]&redirect_uri=[Valid redirect URIs]&response_type=token&scope=public_content\n```\n\n\n3.\u300c#access_token=\u300d\u4ee5\u4e0b\u306e\u5024\u304c\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3068\u306a\u308b\n![image](https://qiita-image-store.s3.amazonaws.com/0/150939/2ae9b63b-6216-335d-8168-fff97a7d0b81.png)\n\n\nURL\u306b\u306f`&scope=public_content`\u3082\u4ed8\u4e0e\u3057\u3066\u304a\u304f\u3002\n\u3064\u3051\u306a\u3044\u3068`https://api.instagram.com/v1/tags/[Tag\u540d]/media/recent/?access_token=[acessToken]`\u3067\u30bf\u30b0\u304c\u3064\u3044\u3066\u3044\u308b\u3082\u306e\u3092\u53d6\u5f97\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u304d\u306b\u4ee5\u4e0b\u30a8\u30e9\u30fc\u3068\u306a\u308b\u3002\n\n```\n{\"meta\": {\"error_type\": \"OAuthPermissionsException\", \"error_message\": \"This request requires scope=public_content, but this access token is not authorized with this scope. The user must re-authorize your application with scope=public_content to be granted this permissions.\", \"code\": 400}}\n```\n\n\n", "tags": ["Instagram"]}