{"context": " More than 1 year has passed since last update.\u3069\u3046\u3082\u3001WACUL\u3067\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a8\u30f3\u30b8\u30cb\u30a2\u3092\u3057\u3066\u3044\u308b @Quramy \u3067\u3059\u3002\n\n\u306f\u3058\u3081\u306b\nWACUL\u3067\u904b\u55b6\u3057\u3066\u3044\u308bAI\u30a2\u30ca\u30ea\u30b9\u30c8\u306fGoogle Analytics(\u4ee5\u4e0bGA)\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3001\u3055\u307e\u3056\u307e\u306a\u89e3\u6790\u3092\u884c\u3046\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002\n\u306a\u306e\u3067\u3001\u65e5\u3005GA\u306eAPI\u3084\u30c7\u30fc\u30bf\u53ef\u8996\u5316\u3068\u622f\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u304c\u3001\u4eca\u65e5\u306fGA\u306e\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u66f8\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u3069\u3046\u3084\u3063\u3066\u3084\u308b\u304b\uff1f\nGA\u306eAPI\u7d50\u679c\u3092\u30b0\u30e9\u30d5\u306a\u3069\u3067\u8868\u793a\u3059\u308b\u65b9\u6cd5\u306f\u3001\u3044\u304f\u3064\u304b\u8003\u3048\u3089\u308c\u307e\u3059:\n\n\nGA Embed API \u3092\u5229\u7528\u3059\u308b\nAPI\u306e\u7d50\u679c\u3092Google Charts API\u3084chart.js, d3.js \u3092\u4f7f\u3063\u3066\u81ea\u5206\u3067\u53ef\u8996\u5316\u3059\u308b\n\n\u5927\u534a\u306e\u5834\u5408\u306b\u304a\u3044\u3066\u306f 1.\u3067\u4e8b\u304c\u8db3\u308a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001Embed API\u306f\u63d0\u4f9b\u3055\u308c\u308bAPI\u304c\u30cf\u30a4\u30ec\u30d9\u30eb\u3067\u3042\u308a\u3001\u300cAPI\u3092\u5b9f\u884c\u3059\u308b\u300d\u90e8\u5206\u3068\u300c\u53ef\u8996\u5316\u3092\u884c\u3046\u300d\u90e8\u5206\u304c\u5bc6\u306b\u7d50\u5408\u3057\u3066\u3044\u308b\u611f\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u306e\u305f\u3081\u3001\u300cGA\u306eAPI\u306f\u65e2\u306b\u5b9f\u884c\u6e08\u307f\u3067\u3042\u308a\u3001\u3059\u3067\u306b\u7d50\u679c\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\u300d\u5834\u5408\u3084\u3001\u300cGA API\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u72ec\u81ea\u306eproxy\u3092\u7d4c\u7531\u3057\u3066\u3044\u308b\u305f\u3081\u3001API\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c\u7570\u306a\u308b\u300d\u5834\u5408\u306f\u5229\u7528\u304c\u96e3\u3057\u304f\u306a\u308a\u307e\u3059\u3002\n\u3053\u306e\u3088\u3046\u306a\u30b1\u30fc\u30b9\u3067\u306f\u30012.\u3092\u9078\u3076\u3053\u3068\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u3067\u306f\u30012.\u306e\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u3084\u3063\u3066\u307f\u3088\u3046\nGA\u306eAPI\u3092\u53ef\u8996\u5316\u3059\u308b\u306b\u3042\u305f\u308a\u3001\u624b\u3063\u53d6\u308a\u65e9\u304f\u4f7f\u3048\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u306fGoogle Charts API\u3067\u3059\u3002\n\u307e\u305a\u306fPieChart\u3092\u8868\u793a\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002 Charts API\u306ePie Chart\u306e\u30ac\u30a4\u30c9 \u306b\"CODE IT YOURSELF ON JSFIDDLE\" \u3068\u3044\u3046\u30ea\u30f3\u30af\u304c\u3042\u308b\u306e\u3067\u3001\u3053\u3044\u3064\u3092\u53e9\u3044\u3066JS Fiddle\u306e\u753b\u9762\u3092\u51fa\u3057\u3066\u304a\u304d\u307e\u3059\u3002\ngoogle.setOnLoadCallback(drawChart);\nfunction drawChart() {\n\n  var data = google.visualization.arrayToDataTable([\n    ['Task', 'Hours per Day'],\n    ['Work',     11],\n    ['Eat',      2],\n    ['Commute',  2],\n    ['Watch TV', 2],\n    ['Sleep',    7]\n  ]);\n\n  var options = {\n    title: 'My Daily Activities'\n  };\n\n  var chart = new google.visualization.PieChart(document.getElementById('piechart'));\n\n  chart.draw(data, options);\n}\n\n\u5358\u7d14\u306bPieChart\u3092\u63cf\u753b\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u3059\u306d\u3002\u4eca\u56de\u306f\u3053\u308c\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066\u3001GA\u306eAPI\u306e\u7d50\u679c\u3092\u63cf\u753b\u51fa\u6765\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u7d9a\u3044\u3066\u3001GA\u306eQuery Explorer \u304b\u3089\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30af\u30a8\u30ea\u3092\u7d44\u3093\u3067\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u30c1\u30e3\u30cd\u30eb\u30b0\u30eb\u30fc\u30d7\u6bce\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u6570\u3092\u53d6\u5f97\u3059\u308b\u30b7\u30f3\u30d7\u30eb\u306a\u30af\u30a8\u30ea\u3067\u3059\u3002\n\u4f59\u8ac7\u3067\u3059\u304c\u3001\u4eca\u56de\u984c\u6750\u306b\u3057\u3066\u3044\u308bGA\u306eView\u306f @Quramy\u306eQiita\u306eView\u3067\u3059\u3002Qiita\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\u753b\u9762 \u304b\u3089, GA\u9023\u643a\u3067\u304d\u308b\u306e\u3067\u3001\u3084\u3063\u3066\u307f\u308b\u3053\u3068\u3092\u30aa\u30b9\u30b9\u30e1\u3057\u307e\u3059\u3002\n\n\"Run Query\"\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001API\u304c\u5b9f\u884c\u3055\u308c\u308b\u306e\u3067\u3001\u3053\u306e\u3068\u304d\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nUI\u4e0a\u306f\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u304c\u3001Query Explorer\u3067\u5b9f\u884c\u3059\u308bQuery\u306b\u306f\u5fc5\u305a output=dataTable\u3068\u3044\u3046\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u4ed8\u4e0e\u3055\u308c\u307e\u3059\u3002\n\u3053\u306e\u305f\u3081\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30c7\u30fc\u30bf\u306b\u306fdataTable\u3068\u3044\u3046Object\u304c\u3076\u3089\u4e0b\u304c\u308a\u307e\u3059(\u4e0b\u56f3):\n\nGA\u306ecore reporting API\u306b\u3082\u3001\n\ndataTable - Data Table \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u542b\u307f\u3001dataTable \u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u51fa\u529b\u3057\u307e\u3059\u3002\u3053\u306e Data Table \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001Google \u30b0\u30e9\u30d5\u306e\u30d3\u30b8\u30e5\u30a2\u30eb\u8868\u793a\u3067\u76f4\u63a5\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\n\n\u3068\u3042\u308a\u307e\u3059\u3002\n\u4e00\u65b9\u3001Google Charts API\u306eDataTable Class\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3092\u8aad\u3080\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5f15\u6570\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ea\u30c6\u30e9\u30eb\u3092\u6e21\u3059\u3053\u3068\u3067\u3001DataTable\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u7c21\u5358\u306b\u4f5c\u308c\u308b\u3001\u3068\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059:\n\nExamples\nThe following example demonstrates instantiating and populating a DataTable with a literal string, with the same data as shown in the JavaScript example above:\nvar dt = new google.visualization.DataTable({\n    cols: [{id: 'task', label: 'Task', type: 'string'},\n           {id: 'hours', label: 'Hours per Day', type: 'number'}],\n    rows: [{c:[{v: 'Work'}, {v: 11}]},\n           {c:[{v: 'Eat'}, {v: 2}]},\n           {c:[{v: 'Commute'}, {v: 2}]},\n           {c:[{v: 'Watch TV'}, {v:2}]},\n           {c:[{v: 'Sleep'}, {v:7, f:'7.000'}]}]\n    }, 0.6);\n\n\n\u306a\u308b\u307b\u3069\u306d\u3001API\u306e\u5b9f\u884c\u7d50\u679c\u3092DataTable\u306b\u98df\u308f\u305b\u308c\u3070\u77ac\u6bba\u3058\u3083\u3093\uff01\n\u5148\u307b\u3069\u306eJS Fiddle\u306e\u30b3\u30fc\u30c9\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u308c\u3070\u826f\u3055\u305d\u3046\u3067\u3059\u3002\ngoogle.setOnLoadCallback(drawChart);\n\nfunction drawChart() {\n  var queryUrl = /* \u3053\u3053\u306bQuery Explorer \u306eAPI Query URI \u3092\u8cbc\u308a\u4ed8\u3051\u308b*/\n  $.ajax({\n    url: queryUrl + '&output=dataTable'\n  }).done(function(response) {\n    var data = new google.visualization.DataTable(response.dataTable);\n    var options = {\n      title: 'Channel Group Access'\n    };\n\n    var chart = new google.visualization.PieChart(document.getElementById('piechart'));\n\n    chart.draw(data, options);\n  });\n}\n\n\u5b9f\u884c\u3057\u3066\u307f\u308b\u3068\u3001\u3001\u3001\u3001\n\n\u3044\u3084\u3001\u3053\u308c\u306f\u9055\u3046\u3002\u4f55\u304b\u304c\u304a\u304b\u3057\u3044\u3002\n\u539f\u56e0\u306f\u81f3\u6975\u5358\u7d14\u3067\u3001ga:sessions \u306f\u6570\u5024\u578b\u3067\u3059\u304c\u3001API\u306e\u623b\u308a\u5024\u4e0a\u306fString\u3068\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u8a08\u7b97\u304c\u51fa\u6765\u3066\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u304b\u3089\u3067\u3059\u3002\u300c\u76f4\u63a5\u4f7f\u7528\u3067\u304d\u307e\u3059\u300d\u304c\u805e\u3044\u3066\u5446\u308c\u308b\u305c...\n\u5b9f\u969b\u3001Embed API\u306eWeb Component\u5b9f\u88c5\u306e\u30b3\u30fc\u30c9\u3092\u7d10\u89e3\u3044\u3066\u307f\u308b\u3068\u3001https://github.com/GoogleWebComponents/google-analytics/blob/master/google-analytics-chart.html#L389 \u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u578b\u5909\u63db\u3092\u660e\u793a\u7684\u306b\u3084\u3063\u3066\u3044\u308b\u90e8\u5206\u304c\u898b\u3064\u304b\u308a\u307e\u3057\u305f\u3002\n    /**\n     * The analytics api erroneously return some values as strings that are\n     * supposed to be numbers. This function fixes that.\n     * @param {Object} dataTable - The dataTable data.\n     */\n    function ensureProperDataTableTypes(dataTable) {\n      for (var i = 0; i < dataTable.rows.length; i++) {\n        var row = dataTable.rows[i];\n        for (var j = 0; j < row.c.length; j++) {\n          if (dataTable.cols[j].type === 'number') {\n            row.c[j].v = Number(row.c[j].v);\n          }\n        }\n      }\n    }\n\nEmbed API\u306b\u306a\u3089\u3063\u3066\u3001\u5148\u307b\u3069\u306eFiddle\u306b\u3053\u306eensureProperDataTableTypes\u3092\u4ed5\u8fbc\u3093\u3067\u518d\u5b9f\u884c\u3057\u3066\u307f\u308b\u3068\u3001\u3001\u3001\ngoogle.setOnLoadCallback(drawChart);\n\nfunction ensureProperDataTableTypes(dataTable) {\n  for (var i = 0; i < dataTable.rows.length; i++) {\n    var row = dataTable.rows[i];\n    for (var j = 0; j < row.c.length; j++) {\n      if (dataTable.cols[j].type === 'number') {\n        row.c[j].v = Number(row.c[j].v);\n      }\n    }\n  }\n  return dataTable;\n}\n\nfunction drawChart() {\n  var queryUrl = /* \u3053\u3053\u306bQuery Explorer \u306eAPI Query URI \u3092\u8cbc\u308a\u4ed8\u3051\u308b*/\n  $.ajax({\n    url: queryUrl + '&output=dataTable'\n  }).done(function(response) {\n    var data = new google.visualization.DataTable(ensureProperDataTableTypes(response.dataTable));\n    var options = {\n      title: 'Channel Group Access'\n    };\n\n    var chart = new google.visualization.PieChart(document.getElementById('piechart'));\n\n    chart.draw(data, options);\n  });\n}\n\n\u304a\u30fc\u3001\u3088\u3046\u3084\u304fPieChart\u304c\u63cf\u753b\u3055\u308c\u305f(JS Fiddle\u306b\u3082\u540c\u3058\u3082\u306e\u3092\u7f6e\u3044\u3066\u307e\u3059)\u3002\n\n\u3053\u3053\u307e\u3067\u3092\u307e\u3068\u3081\u308b\u3068\u3001\u4e0b\u8a18\u3068\u306a\u308a\u307e\u3059\uff1a\n\nGA\u306eAPI\u306b output=dataTable \u3092\u4ed8\u4e0e\u3059\u308b\u3068dataTable\u98a8\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8cb0\u3048\u308b\nAPI\u306e\u7d50\u679c\u306edataTable\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3064\u3044\u3066\u3001\u9069\u5207\u306a\u578b\u5909\u63db\u3092\u5b9f\u65bd\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\nCharts API\u306eDataTable Class\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u98df\u308f\u305b\u308b\u3068\u3001chart\u63cf\u753b\u7528\u306eDataTable\u304c\u4f5c\u308c\u308b\n\n\u3061\u306a\u307f\u306b\u3001\u4e0a\u8ff0\u306eensureProperDataTableTypes \u3067\u3059\u304c\u3001DataTable\u3067\u5229\u7528\u53ef\u80fd\u306a\u578b\u306b\u306fnumber, string \u4ee5\u5916\u306b\u3082 date, datetime, dayOfWeek, boolean\u304c\u3042\u308b\u306e\u3067\u3001\u771f\u9762\u76ee\u306b\u3084\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u3053\u3044\u3064\u3089\u3082\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nDataTable\u3068DataView\n\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u3067\u306fPieChart\u3092\u4f8b\u306b\u3057\u3066\u8aac\u660e\u3057\u3066\u304d\u307e\u3057\u305f\u304c\u3001\u4ed6\u306eChartType\u3067\u306f\u3001\u3088\u308a\u8907\u96d1\u306aDataTable\u3092\u4f7f\u3046\u3053\u3068\u3082\u3042\u308b\u3067\u3057\u3087\u3046\u3002\n\u4f8b\u3048\u3070\u3001BubbleChart\u306fData Format\u3068\u3057\u3066\u3001\"\u540d\u524d, \u6570\u5024(x\u5ea7\u6a19\u5024), \u6570\u5024(y\u5ea7\u6a19\u5024), \u30e9\u30d9\u30eb, \u6570\u5024(\u5186\u306e\u5927\u304d\u3055)\" \u306e\u30d1\u30bf\u30fc\u30f3\u3092\u8981\u6c42\u3057\u307e\u3059\n\u4e00\u65b9\u3001GA\u306eAPI\u306e\u7d50\u679c\u306f\u3001\"demension1, demension2, ..., metric1, metric2,...\" \u3068\u3044\u3046\u5217\u306e\u4e26\u3073\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u76f4\u63a5DataTable\u3092\u6e21\u3057\u3066\u3082\u30b0\u30e9\u30d5\u306e\u63cf\u753b\u304c\u51fa\u6765\u306a\u3044\u30d1\u30bf\u30fc\u30f3\u304c\u3042\u308a\u307e\u3059\u3002 \n\u3053\u306e\u3088\u3046\u306a\u6642\u306f\u3001DataView\u30af\u30e9\u30b9\u3068setColumns \u3092\u5229\u7528\u3057\u3066\u3001\u5143\u306eDataTable\u306b\u5bfe\u3059\u308b\u5217\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u5909\u66f4\u3059\u308b\u3068\u826f\u3044\u3067\u3059:\n    var data = new google.visualization.DataTable(ensureProperDataTableTypes(response.dataTable));\n    var view = new google.visualization.DataView(data);\n    view.setColumns([0,2,3,0,1]); // dataTable\u3068DataView\u306e\u5217\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u6307\u5b9a\n    //:\n    chart.draw(view, options);\n\n\n\u304a\u307e\u3051\n\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u306e\u304a\u307e\u3051\u3068\u3057\u3066\u3001GA\u306eQuery Explorer\u4e0a\u306b\u76f4\u63a5\u30b0\u30e9\u30d5\u8868\u793a\u3092\u884c\u3046Chrome Extension\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u3053\u306eExtension\u3092\u4f5c\u308b\u306b\u3042\u305f\u308a\u3001\n\nChrome Extension(webRequest, sandBox)\nCharts API\nAnalytics core reporting API\nAngularJS\n\n\u3068\u3044\u3046Google\u3069\u3063\u3077\u308a\u30b9\u30bf\u30c3\u30af\u3092\u7d44\u3093\u3060\u306e\u3067\u3059\u304c\u3001Charts API\u304cChrome Extension\u306b\u7d44\u307f\u8fbc\u307f\u8f9b\u3059\u304e\u3066\u6ce3\u3051\u307e\u3057\u305f\u3002\n\u3053\u306e\u8fba\u306e\u82e6\u52b4\u8a71\u3082\u305d\u306e\u3046\u3061\u66f8\u304d\u305f\u3044\u3051\u3069\u3001\u4eca\u65e5\u306f\u3082\u3046\u75b2\u308c\u305f\u306e\u3067\u3001\u3053\u3053\u3044\u3089\u3067\u7b46\u3092\u4f11\u3081\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u3069\u3046\u3082\u3001WACUL\u3067\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a8\u30f3\u30b8\u30cb\u30a2\u3092\u3057\u3066\u3044\u308b @Quramy \u3067\u3059\u3002\n\n## \u306f\u3058\u3081\u306b\nWACUL\u3067\u904b\u55b6\u3057\u3066\u3044\u308b[AI\u30a2\u30ca\u30ea\u30b9\u30c8](https://wacul-ai.com)\u306fGoogle Analytics(\u4ee5\u4e0bGA)\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3001\u3055\u307e\u3056\u307e\u306a\u89e3\u6790\u3092\u884c\u3046\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002\n\u306a\u306e\u3067\u3001\u65e5\u3005GA\u306eAPI\u3084\u30c7\u30fc\u30bf\u53ef\u8996\u5316\u3068\u622f\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u304c\u3001\u4eca\u65e5\u306fGA\u306e\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u66f8\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n## \u3069\u3046\u3084\u3063\u3066\u3084\u308b\u304b\uff1f\nGA\u306eAPI\u7d50\u679c\u3092\u30b0\u30e9\u30d5\u306a\u3069\u3067\u8868\u793a\u3059\u308b\u65b9\u6cd5\u306f\u3001\u3044\u304f\u3064\u304b\u8003\u3048\u3089\u308c\u307e\u3059:\n\n1. [GA Embed API](https://developers.google.com/analytics/devguides/reporting/embed/v1/) \u3092\u5229\u7528\u3059\u308b\n2. API\u306e\u7d50\u679c\u3092[Google Charts API](https://developers.google.com/chart/)\u3084[chart.js](http://www.chartjs.org/), [d3.js](http://d3js.org/) \u3092\u4f7f\u3063\u3066\u81ea\u5206\u3067\u53ef\u8996\u5316\u3059\u308b\n\n\u5927\u534a\u306e\u5834\u5408\u306b\u304a\u3044\u3066\u306f 1.\u3067\u4e8b\u304c\u8db3\u308a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001Embed API\u306f\u63d0\u4f9b\u3055\u308c\u308bAPI\u304c\u30cf\u30a4\u30ec\u30d9\u30eb\u3067\u3042\u308a\u3001\u300cAPI\u3092\u5b9f\u884c\u3059\u308b\u300d\u90e8\u5206\u3068\u300c\u53ef\u8996\u5316\u3092\u884c\u3046\u300d\u90e8\u5206\u304c\u5bc6\u306b\u7d50\u5408\u3057\u3066\u3044\u308b\u611f\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u306e\u305f\u3081\u3001\u300cGA\u306eAPI\u306f\u65e2\u306b\u5b9f\u884c\u6e08\u307f\u3067\u3042\u308a\u3001\u3059\u3067\u306b\u7d50\u679c\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\u300d\u5834\u5408\u3084\u3001\u300cGA API\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u72ec\u81ea\u306eproxy\u3092\u7d4c\u7531\u3057\u3066\u3044\u308b\u305f\u3081\u3001API\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c\u7570\u306a\u308b\u300d\u5834\u5408\u306f\u5229\u7528\u304c\u96e3\u3057\u304f\u306a\u308a\u307e\u3059\u3002\n\u3053\u306e\u3088\u3046\u306a\u30b1\u30fc\u30b9\u3067\u306f\u30012.\u3092\u9078\u3076\u3053\u3068\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\n\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u3067\u306f\u30012.\u306e\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n## \u3084\u3063\u3066\u307f\u3088\u3046\nGA\u306eAPI\u3092\u53ef\u8996\u5316\u3059\u308b\u306b\u3042\u305f\u308a\u3001\u624b\u3063\u53d6\u308a\u65e9\u304f\u4f7f\u3048\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u306fGoogle Charts API\u3067\u3059\u3002\n\n\u307e\u305a\u306fPieChart\u3092\u8868\u793a\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002 [Charts API\u306ePie Chart\u306e\u30ac\u30a4\u30c9](https://developers.google.com/chart/interactive/docs/gallery/piechart) \u306b\"CODE IT YOURSELF ON JSFIDDLE\" \u3068\u3044\u3046\u30ea\u30f3\u30af\u304c\u3042\u308b\u306e\u3067\u3001\u3053\u3044\u3064\u3092\u53e9\u3044\u3066JS Fiddle\u306e\u753b\u9762\u3092\u51fa\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```js\ngoogle.setOnLoadCallback(drawChart);\nfunction drawChart() {\n\n  var data = google.visualization.arrayToDataTable([\n    ['Task', 'Hours per Day'],\n    ['Work',     11],\n    ['Eat',      2],\n    ['Commute',  2],\n    ['Watch TV', 2],\n    ['Sleep',    7]\n  ]);\n\n  var options = {\n    title: 'My Daily Activities'\n  };\n\n  var chart = new google.visualization.PieChart(document.getElementById('piechart'));\n\n  chart.draw(data, options);\n}\n```\n\n\u5358\u7d14\u306bPieChart\u3092\u63cf\u753b\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u3059\u306d\u3002\u4eca\u56de\u306f\u3053\u308c\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066\u3001GA\u306eAPI\u306e\u7d50\u679c\u3092\u63cf\u753b\u51fa\u6765\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u7d9a\u3044\u3066\u3001[GA\u306eQuery Explorer](https://ga-dev-tools.appspot.com/query-explorer/) \u304b\u3089\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30af\u30a8\u30ea\u3092\u7d44\u3093\u3067\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u30c1\u30e3\u30cd\u30eb\u30b0\u30eb\u30fc\u30d7\u6bce\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u6570\u3092\u53d6\u5f97\u3059\u308b\u30b7\u30f3\u30d7\u30eb\u306a\u30af\u30a8\u30ea\u3067\u3059\u3002\n\u4f59\u8ac7\u3067\u3059\u304c\u3001\u4eca\u56de\u984c\u6750\u306b\u3057\u3066\u3044\u308bGA\u306eView\u306f @Quramy\u306eQiita\u306eView\u3067\u3059\u3002[Qiita\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\u753b\u9762](https://qiita.com/settings/analytics) \u304b\u3089, GA\u9023\u643a\u3067\u304d\u308b\u306e\u3067\u3001\u3084\u3063\u3066\u307f\u308b\u3053\u3068\u3092\u30aa\u30b9\u30b9\u30e1\u3057\u307e\u3059\u3002\n\n![Query_Explorer_\u2014_Google_Analytics_Demos___Tools.png](https://qiita-image-store.s3.amazonaws.com/0/8808/98b5cbfb-2a5f-e477-77a8-17431a5946ce.png)\n\n\"Run Query\"\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001API\u304c\u5b9f\u884c\u3055\u308c\u308b\u306e\u3067\u3001\u3053\u306e\u3068\u304d\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nUI\u4e0a\u306f\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u304c\u3001Query Explorer\u3067\u5b9f\u884c\u3059\u308bQuery\u306b\u306f\u5fc5\u305a `output=dataTable`\u3068\u3044\u3046\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u4ed8\u4e0e\u3055\u308c\u307e\u3059\u3002\n\u3053\u306e\u305f\u3081\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30c7\u30fc\u30bf\u306b\u306f`dataTable`\u3068\u3044\u3046Object\u304c\u3076\u3089\u4e0b\u304c\u308a\u307e\u3059(\u4e0b\u56f3):\n\n![Query_Explorer_\u2014_Google_Analytics_Demos___Tools 2.png](https://qiita-image-store.s3.amazonaws.com/0/8808/f9010787-0865-73c6-2552-15790a88acf3.png)\n\n[GA\u306ecore reporting API](https://developers.google.com/analytics/devguides/reporting/core/v3/reference?hl=ja#output)\u306b\u3082\u3001\n\n> dataTable - Data Table \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u542b\u307f\u3001dataTable \u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u51fa\u529b\u3057\u307e\u3059\u3002\u3053\u306e Data Table \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001Google \u30b0\u30e9\u30d5\u306e\u30d3\u30b8\u30e5\u30a2\u30eb\u8868\u793a\u3067\u76f4\u63a5\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\n\n\u3068\u3042\u308a\u307e\u3059\u3002\n\n\u4e00\u65b9\u3001[Google Charts API\u306eDataTable Class\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9](https://developers.google.com/chart/interactive/docs/reference#constructor_://developers.google.com/chart/interactive/docs/reference#constructor_1)\u3092\u8aad\u3080\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5f15\u6570\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ea\u30c6\u30e9\u30eb\u3092\u6e21\u3059\u3053\u3068\u3067\u3001DataTable\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u7c21\u5358\u306b\u4f5c\u308c\u308b\u3001\u3068\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059:\n\n> Examples\n> The following example demonstrates instantiating and populating a DataTable with a literal string, with the same data as shown in the JavaScript example above:\n> \n```\nvar dt = new google.visualization.DataTable({\n    cols: [{id: 'task', label: 'Task', type: 'string'},\n           {id: 'hours', label: 'Hours per Day', type: 'number'}],\n    rows: [{c:[{v: 'Work'}, {v: 11}]},\n           {c:[{v: 'Eat'}, {v: 2}]},\n           {c:[{v: 'Commute'}, {v: 2}]},\n           {c:[{v: 'Watch TV'}, {v:2}]},\n           {c:[{v: 'Sleep'}, {v:7, f:'7.000'}]}]\n    }, 0.6);\n```\n\n\u306a\u308b\u307b\u3069\u306d\u3001API\u306e\u5b9f\u884c\u7d50\u679c\u3092DataTable\u306b\u98df\u308f\u305b\u308c\u3070\u77ac\u6bba\u3058\u3083\u3093\uff01\n\n\u5148\u307b\u3069\u306eJS Fiddle\u306e\u30b3\u30fc\u30c9\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u308c\u3070\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n\n```js\ngoogle.setOnLoadCallback(drawChart);\n\nfunction drawChart() {\n  var queryUrl = /* \u3053\u3053\u306bQuery Explorer \u306eAPI Query URI \u3092\u8cbc\u308a\u4ed8\u3051\u308b*/\n  $.ajax({\n    url: queryUrl + '&output=dataTable'\n  }).done(function(response) {\n    var data = new google.visualization.DataTable(response.dataTable);\n    var options = {\n      title: 'Channel Group Access'\n    };\n\n    var chart = new google.visualization.PieChart(document.getElementById('piechart'));\n\n    chart.draw(data, options);\n  });\n}\n```\n\n\u5b9f\u884c\u3057\u3066\u307f\u308b\u3068\u3001\u3001\u3001\u3001\n\n![Pie_Chart_Example_-_JSFiddle.png](https://qiita-image-store.s3.amazonaws.com/0/8808/cfa52deb-5e7b-cb28-c141-b0d03dc5fa61.png)\n\n\u3044\u3084\u3001\u3053\u308c\u306f\u9055\u3046\u3002\u4f55\u304b\u304c\u304a\u304b\u3057\u3044\u3002\n\n\u539f\u56e0\u306f\u81f3\u6975\u5358\u7d14\u3067\u3001`ga:sessions` \u306f\u6570\u5024\u578b\u3067\u3059\u304c\u3001API\u306e\u623b\u308a\u5024\u4e0a\u306fString\u3068\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u8a08\u7b97\u304c\u51fa\u6765\u3066\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u304b\u3089\u3067\u3059\u3002\u300c\u76f4\u63a5\u4f7f\u7528\u3067\u304d\u307e\u3059\u300d\u304c\u805e\u3044\u3066\u5446\u308c\u308b\u305c...\n\n\u5b9f\u969b\u3001Embed API\u306eWeb Component\u5b9f\u88c5\u306e\u30b3\u30fc\u30c9\u3092\u7d10\u89e3\u3044\u3066\u307f\u308b\u3068\u3001[https://github.com/GoogleWebComponents/google-analytics/blob/master/google-analytics-chart.html#L389](https://github.com/GoogleWebComponents/google-analytics/blob/master/google-analytics-chart.html#L389) \u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u578b\u5909\u63db\u3092\u660e\u793a\u7684\u306b\u3084\u3063\u3066\u3044\u308b\u90e8\u5206\u304c\u898b\u3064\u304b\u308a\u307e\u3057\u305f\u3002\n\n```js\n    /**\n     * The analytics api erroneously return some values as strings that are\n     * supposed to be numbers. This function fixes that.\n     * @param {Object} dataTable - The dataTable data.\n     */\n    function ensureProperDataTableTypes(dataTable) {\n      for (var i = 0; i < dataTable.rows.length; i++) {\n        var row = dataTable.rows[i];\n        for (var j = 0; j < row.c.length; j++) {\n          if (dataTable.cols[j].type === 'number') {\n            row.c[j].v = Number(row.c[j].v);\n          }\n        }\n      }\n    }\n```\n\nEmbed API\u306b\u306a\u3089\u3063\u3066\u3001\u5148\u307b\u3069\u306eFiddle\u306b\u3053\u306e`ensureProperDataTableTypes`\u3092\u4ed5\u8fbc\u3093\u3067\u518d\u5b9f\u884c\u3057\u3066\u307f\u308b\u3068\u3001\u3001\u3001\n\n```js\ngoogle.setOnLoadCallback(drawChart);\n\nfunction ensureProperDataTableTypes(dataTable) {\n  for (var i = 0; i < dataTable.rows.length; i++) {\n    var row = dataTable.rows[i];\n    for (var j = 0; j < row.c.length; j++) {\n      if (dataTable.cols[j].type === 'number') {\n        row.c[j].v = Number(row.c[j].v);\n      }\n    }\n  }\n  return dataTable;\n}\n\nfunction drawChart() {\n  var queryUrl = /* \u3053\u3053\u306bQuery Explorer \u306eAPI Query URI \u3092\u8cbc\u308a\u4ed8\u3051\u308b*/\n  $.ajax({\n    url: queryUrl + '&output=dataTable'\n  }).done(function(response) {\n    var data = new google.visualization.DataTable(ensureProperDataTableTypes(response.dataTable));\n    var options = {\n      title: 'Channel Group Access'\n    };\n\n    var chart = new google.visualization.PieChart(document.getElementById('piechart'));\n\n    chart.draw(data, options);\n  });\n}\n```\n\n\u304a\u30fc\u3001\u3088\u3046\u3084\u304fPieChart\u304c\u63cf\u753b\u3055\u308c\u305f([JS Fiddle\u306b\u3082\u540c\u3058\u3082\u306e\u3092\u7f6e\u3044\u3066\u307e\u3059](https://jsfiddle.net/Quramy/890ajtg7/))\u3002\n\n![Google_Analytics_and_Charts_example_-_JSFiddle.png](https://qiita-image-store.s3.amazonaws.com/0/8808/b7138082-c52e-4c8e-8c12-88a95212b747.png)\n\n\n\u3053\u3053\u307e\u3067\u3092\u307e\u3068\u3081\u308b\u3068\u3001\u4e0b\u8a18\u3068\u306a\u308a\u307e\u3059\uff1a\n\n* GA\u306eAPI\u306b `output=dataTable` \u3092\u4ed8\u4e0e\u3059\u308b\u3068dataTable\u98a8\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8cb0\u3048\u308b\n* API\u306e\u7d50\u679c\u306edataTable\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3064\u3044\u3066\u3001\u9069\u5207\u306a\u578b\u5909\u63db\u3092\u5b9f\u65bd\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\n* Charts API\u306eDataTable Class\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u98df\u308f\u305b\u308b\u3068\u3001chart\u63cf\u753b\u7528\u306eDataTable\u304c\u4f5c\u308c\u308b\n\n\u3061\u306a\u307f\u306b\u3001\u4e0a\u8ff0\u306e`ensureProperDataTableTypes` \u3067\u3059\u304c\u3001DataTable\u3067\u5229\u7528\u53ef\u80fd\u306a\u578b\u306b\u306f`number`, `string` \u4ee5\u5916\u306b\u3082 `date`, `datetime`, `dayOfWeek`, `boolean`\u304c\u3042\u308b\u306e\u3067\u3001\u771f\u9762\u76ee\u306b\u3084\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u3053\u3044\u3064\u3089\u3082\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n## DataTable\u3068DataView\n\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u3067\u306fPieChart\u3092\u4f8b\u306b\u3057\u3066\u8aac\u660e\u3057\u3066\u304d\u307e\u3057\u305f\u304c\u3001\u4ed6\u306eChartType\u3067\u306f\u3001\u3088\u308a\u8907\u96d1\u306aDataTable\u3092\u4f7f\u3046\u3053\u3068\u3082\u3042\u308b\u3067\u3057\u3087\u3046\u3002\n\n\u4f8b\u3048\u3070\u3001BubbleChart\u306fData Format\u3068\u3057\u3066\u3001\"\u540d\u524d, \u6570\u5024(x\u5ea7\u6a19\u5024), \u6570\u5024(y\u5ea7\u6a19\u5024), \u30e9\u30d9\u30eb, \u6570\u5024(\u5186\u306e\u5927\u304d\u3055)\" \u306e\u30d1\u30bf\u30fc\u30f3\u3092\u8981\u6c42\u3057\u307e\u3059\n\u4e00\u65b9\u3001GA\u306eAPI\u306e\u7d50\u679c\u306f\u3001\"demension1, demension2, ..., metric1, metric2,...\" \u3068\u3044\u3046\u5217\u306e\u4e26\u3073\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u76f4\u63a5DataTable\u3092\u6e21\u3057\u3066\u3082\u30b0\u30e9\u30d5\u306e\u63cf\u753b\u304c\u51fa\u6765\u306a\u3044\u30d1\u30bf\u30fc\u30f3\u304c\u3042\u308a\u307e\u3059\u3002 \n\n\u3053\u306e\u3088\u3046\u306a\u6642\u306f\u3001DataView\u30af\u30e9\u30b9\u3068`setColumns` \u3092\u5229\u7528\u3057\u3066\u3001\u5143\u306eDataTable\u306b\u5bfe\u3059\u308b\u5217\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u5909\u66f4\u3059\u308b\u3068\u826f\u3044\u3067\u3059:\n\n```js\n    var data = new google.visualization.DataTable(ensureProperDataTableTypes(response.dataTable));\n    var view = new google.visualization.DataView(data);\n    view.setColumns([0,2,3,0,1]); // dataTable\u3068DataView\u306e\u5217\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u6307\u5b9a\n    //:\n    chart.draw(view, options);\n```\n\n## \u304a\u307e\u3051\n\n\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u306e\u304a\u307e\u3051\u3068\u3057\u3066\u3001GA\u306eQuery Explorer\u4e0a\u306b\u76f4\u63a5\u30b0\u30e9\u30d5\u8868\u793a\u3092\u884c\u3046[Chrome Extension](https://chrome.google.com/webstore/detail/google-analytics-charts/kiohndocpaamknofhkcaoiibjabgenij?hl=ja)\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n![Query_Explorer_\u2014_Google_Analytics_Demos___Tools 4.png](https://qiita-image-store.s3.amazonaws.com/0/8808/d48b8511-62e1-7b0b-f4d1-5f5b3a9f8d39.png)\n\n\u3053\u306eExtension\u3092\u4f5c\u308b\u306b\u3042\u305f\u308a\u3001\n\n* Chrome Extension(webRequest, sandBox)\n* Charts API\n* Analytics core reporting API\n* AngularJS\n\n\u3068\u3044\u3046Google\u3069\u3063\u3077\u308a\u30b9\u30bf\u30c3\u30af\u3092\u7d44\u3093\u3060\u306e\u3067\u3059\u304c\u3001Charts API\u304cChrome Extension\u306b\u7d44\u307f\u8fbc\u307f\u8f9b\u3059\u304e\u3066\u6ce3\u3051\u307e\u3057\u305f\u3002\n\u3053\u306e\u8fba\u306e\u82e6\u52b4\u8a71\u3082\u305d\u306e\u3046\u3061\u66f8\u304d\u305f\u3044\u3051\u3069\u3001\u4eca\u65e5\u306f\u3082\u3046\u75b2\u308c\u305f\u306e\u3067\u3001\u3053\u3053\u3044\u3089\u3067\u7b46\u3092\u4f11\u3081\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["GoogleAnalytics", "GoogleChartAPI", "JavaScript", "DataVisualization"]}