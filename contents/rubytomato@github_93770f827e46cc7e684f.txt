{"tags": ["logback1.1.3", "Java"], "context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nlogback\u306e\u7279\u5fb4\u3084\u6a5f\u80fd\u306e\u307e\u3068\u3081\u8a18\u4e8b\u3067\u3059\u3002\n\u524d\u534a\u306f\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u305f\u30b3\u30fc\u30c9\u3084\u8a2d\u5b9a\u65b9\u6cd5\u306e\u8aac\u660e\u306b\u306a\u308a\u307e\u3059\u3002\n\u5f8c\u534a\u306f\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u3044\u305f\u30b5\u30a4\u30c8\u306e\u8981\u70b9\u3092\u307e\u3068\u3081\u305f\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u7684\u306a\u5185\u5bb9\u306b\u306a\u308a\u307e\u3059\u3002\n\u74b0\u5883\n\u4e0b\u8a18\u306e\u74b0\u5883\u3067\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\nJava 1.8.0_45\nlogback 1.1.3\nslf4j 1.7.7\n\n\n\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\nmaven\u3067\u96db\u5f62\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n> mvn archetype:generate -DgroupId=com.example.lbsample -DartifactId=lbsample -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\n\n\u7de8\u96c6\u5f8c\u306epom.xml\n\npom.xml\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n  <groupId>com.example.lbsample</groupId>\n  <artifactId>lbsample</artifactId>\n  <packaging>jar</packaging>\n  <version>1.0-SNAPSHOT</version>\n  <name>lbsample</name>\n  <url>http://maven.apache.org</url>\n\n  <properties>\n    <java.version>1.8</java.version>\n    <logback.version>1.1.3</logback.version>\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n  </properties>\n\n  <dependencies>\n    <dependency>\n      <groupId>ch.qos.logback</groupId>\n      <artifactId>logback-classic</artifactId>\n      <version>${logback.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>3.8.1</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n\n  <build>\n    <plugins>\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-compiler-plugin</artifactId>\n        <configuration>\n          <verbose>true</verbose>\n          <source>${java.version}</source>\n          <target>${java.version}</target>\n          <encoding>${project.build.sourceEncoding}</encoding>\n        </configuration>\n      </plugin>\n    </plugins>\n  </build>\n</project>\n\n\n\u4f5c\u6210\u3057\u305flogback.xml\n\nxml.logback.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<configuration debug=\"true\">\n\n  <!--\n    \u5909\u6570\u306e\u5b9a\u7fa9\u3092\u884c\u3044\u307e\u3059\u3002\n    2\u884c\u76ee\u306f\u5916\u90e8\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u304b\u3089\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n  -->\n  <property name=\"LOG_DIR\" value=\"D:/logs\" />\n  <property file=\"src/main/resources/variables1.properties\" />\n\n  <turboFilter class=\"ch.qos.logback.classic.turbo.MarkerFilter\">\n    <Marker>com.example.sample.animal.Cat</Marker>\n    <OnMatch>ACCEPT</OnMatch>\n  </turboFilter>\n\n  <!--\n     \u6a19\u6e96\u51fa\u529b\u306b\u51fa\u529b\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n  -->\n  <appender name=\"STDOUT_A\" class=\"ch.qos.logback.core.ConsoleAppender\">\n    <target>System.out</target>\n    <encoder>\n      <pattern>A: %-5r %d{yyyy-MM-dd HH:mm:ss} [%t] %highlight(%-5le) %cyan(%-40.40lo{36}) - %green(%msg) %n</pattern>\n    </encoder>\n    <withJasi>true</withJasi>\n  </appender>\n\n  <!--\n     \u6a19\u6e96\u51fa\u529b\u306b\u51fa\u529b\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n  -->\n  <appender name=\"STDOUT_B\" class=\"ch.qos.logback.core.ConsoleAppender\">\n    <target>System.out</target>\n    <encoder>\n      <pattern>B: %-5r %d{yyyy-MM-dd HH:mm:ss} [%t] %highlight(%-5le) %yellow(%-40.40lo{36}) - %green(%msg) %n</pattern>\n    </encoder>\n    <withJasi>true</withJasi>\n  </appender>\n\n  <!--\n    \u6a19\u6e96\u30a8\u30e9\u30fc\u306b\u51fa\u529b\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n  -->\n  <appender name=\"STDERR\" class=\"ch.qos.logback.core.ConsoleAppender\">\n    <target>System.err</target>\n    <encoder>\n      <pattern>E: %-5r %d{yyyy-MM-dd HH:mm:ss} [%t] %highlight(%-5le) %red(%-40.40lo{36}) - %red(%msg) %n</pattern>\n    </encoder>\n    <withJasi>true</withJasi>\n    <filter class=\"ch.qos.logback.classic.filter.ThresholdFilter\">\n      <level>ERROR</level>\n    </filter>\n  </appender>\n\n  <!--\n    \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3059\u308b\u30b7\u30f3\u30d7\u30eb\u306a\u8a2d\u5b9a\u3067\u3059\u3002\n  -->\n  <appender name=\"FILE_A\" class=\"ch.qos.logback.core.FileAppender\">\n    <file>${LOG_DIR}/lbsample_a.log</file>\n    <encoder>\n      <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} [%file:%line] - %msg %n</pattern>\n    </encoder>\n  </appender>\n\n  <!--\n    \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3059\u308b\u30b7\u30f3\u30d7\u30eb\u306a\u8a2d\u5b9a\u3067\u3059\u3002\n    \u30d5\u30a1\u30a4\u30eb\u540d\u3084\u30d1\u30bf\u30fc\u30f3\u306e\u8a2d\u5b9a\u3092\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u53d6\u5f97\u3057\u305f\u5909\u6570\u3067\u884c\u3044\u307e\u3059\u3002\n  -->\n  <appender name=\"FILE_B\" class=\"ch.qos.logback.core.FileAppender\">\n    <file>${file_b.log_dir:-D:/logs}${file_b.log_file}</file>\n    <encoder>\n      <pattern>${file_b.pattern}</pattern>\n    </encoder>\n  </appender>\n\n  <!--\n    \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n    \u30a2\u30fc\u30ab\u30a4\u30d6\u306f1\u5206\u6bce\u306b\u884c\u3044\u307e\u3059\u3002\uff08\u30c6\u30b9\u30c8\u306e\u305f\u3081\uff09\n  -->\n  <appender name=\"ROLLING_A\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n    <file>${LOG_DIR}/roll_a_lbsample.log</file>\n    <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n      <fileNamePattern>${LOG_DIR}/rolling_lbsample_%d{yyyy-MM-dd_HH-mm}.log</fileNamePattern>\n      <maxHistory>30</maxHistory>\n    </rollingPolicy>\n    <encoder>\n      <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{35} - %msg %n</pattern>\n    </encoder>\n  </appender>\n\n  <!--\n     \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n     \u30a2\u30fc\u30ab\u30a4\u30d6\u30d5\u30a1\u30a4\u30eb\u306f\u6708\u5225\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n  -->\n  <appender name=\"ROLLING_B\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n    <file>${LOG_DIR}/roll_b_lbsample.log</file>\n    <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n      <fileNamePattern>${LOG_DIR}/%d{yyyy-MM-dd,aux}/rolling2_lbsample_%d{yyyy-MM-dd_HH-mm}.log</fileNamePattern>\n    </rollingPolicy>\n    <encoder>\n      <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{35} - %msg %n</pattern>\n    </encoder>\n  </appender>\n\n  <!--\n    \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n    \u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u304c5KB(\u30c6\u30b9\u30c8\u306e\u305f\u3081\uff09\u306b\u9054\u3059\u308b\u3068\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059\u3002\n  -->\n  <appender name=\"ROLLING_C\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n    <file>${LOG_DIR}/roll_c_${${DEP}.${PRI}}.log</file>\n    <rollingPolicy class=\"ch.qos.logback.core.rolling.FixedWindowRollingPolicy\">\n      <fileNamePattern>roll_c_${LOG_DIR}/${${DEP}.${PRI}}_%i.log</fileNamePattern>\n        <minIndex>15</minIndex>\n        <maxIndex>19</maxIndex>\n    </rollingPolicy>\n    <triggeringPolicy class=\"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy\">\n      <maxFileSize>5KB</maxFileSize>\n    </triggeringPolicy>\n    <encoder>\n      <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} - %msg %n</pattern>\n    </encoder>\n  </appender>\n\n  <!--\n    \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n    \u6642\u9593\u3068\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059\u3002\n  -->\n  <appender name=\"ROLLING_D\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n    <file>${LOG_DIR}/roll_d_lbsample.log</file>\n    <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n      <fileNamePattern>${LOG_DIR}/roll_d_%d{yyyy-MM-dd_HH}.%i.log</fileNamePattern>\n      <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n        <maxFileSize>5KB</maxFileSize>\n      </timeBasedFileNamingAndTriggeringPolicy>\n    </rollingPolicy>\n    <encoder>\n      <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} - %msg %n</pattern>\n    </encoder>\n  </appender>\n\n  <logger name=\"com.example.sample.animal.dog\" level=\"DEBUG\" additivity=\"false\">\n    <appender-ref ref=\"STDOUT_B\"/>\n  </logger>\n\n  <logger name=\"com.example.sample.animal\" level=\"WARN\">\n    <appender-ref ref=\"STDERR\"/>\n  </logger>\n\n  <logger name=\"com.example.sample.fruits\" level=\"INFO\">\n    <appender-ref ref=\"STDERR\"/>\n  </logger>\n\n  <!--\n    \u4e0a\u8a18\u306e\u30ed\u30ac\u30fc\u306e\u7956\u5148\u30ed\u30ac\u30fc\u3067\u3059\u3002\n  -->\n  <logger name=\"com.example.sample\" level=\"DEBUG\">\n    <appender-ref ref=\"STDOUT_A\"/>\n  </logger>\n\n  <root level=\"DEBUG\">\n    <appender-ref ref=\"FILE_A\" />\n    <appender-ref ref=\"FILE_B\" />\n    <appender-ref ref=\"ROLLING_A\"/>\n    <appender-ref ref=\"ROLLING_B\"/>\n    <appender-ref ref=\"ROLLING_C\"/>\n    <appender-ref ref=\"ROLLING_D\"/>\n  </root>\n\n</configuration>\n\n\n\u4f5c\u6210\u3057\u305f\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a1\u30a4\u30eb\n\nvariables1.prpperties\n# FILE_B\nfile_b.log_dir = D:/logs\nfile_b.log_file = /lbsample_b.log\nfile_b.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5le %lo{36} [%file:%line] - %msg%n\n\nDEP = CUSTOMER\nPRI = REGULAR\n\nCUSTOMER.REGULAR = cust_r\nCUSTOMER.IRREGULAR = cust_i\nCUSTOMER.EMERGENCY = cust_e\nSALES.REGULAR = sale_r\nSALES.IRREGULAR = sale_i\nSALES.EMERGENCY = sale_e\nPERSONNEL.REGULAR = pers_r\nPERSONNEL.IRREGULAR = pers_i\nPERSONNEL.EMERGENCY = pers_e\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30c4\u30ea\u30fc\nlbsample\n \u251c\u2500src\n \u2502  \u251c\u2500main\n \u2502  \u2502  \u251c\u2500java\n \u2502  \u2502  \u2502  \u2514\u2500com\n \u2502  \u2502  \u2502      \u2514\u2500example\n \u2502  \u2502  \u2502          \u251c\u2500lbsample\n \u2502  \u2502  \u2502          \u2502   \u2514\u2500App.java\n \u2502  \u2502  \u2502          \u2514\u2500sample\n \u2502  \u2502  \u2502              \u251c\u2500Main.java\n \u2502  \u2502  \u2502              \u251c\u2500animal\n \u2502  \u2502  \u2502              \u2502  \u251c\u2500cat\n \u2502  \u2502  \u2502              \u2502  \u2502  \u2514\u2500Mike.java\n \u2502  \u2502  \u2502              \u2502  \u2514\u2500dog\n \u2502  \u2502  \u2502              \u2502     \u2514\u2500Shiba.java\n \u2502  \u2502  \u2502              \u2514\u2500fruits\n \u2502  \u2502  \u2502                  \u251c\u2500Budou.java\n \u2502  \u2502  \u2502                  \u2514\u2500budou\n \u2502  \u2502  \u2502                     \u2514\u2500Kyohou.java\n \u2502  \u2502  \u2514\u2500resources\n \u2502  \u2514\u2500test\n\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3068\u30ed\u30b0\u306e\u51fa\u529b\u7d50\u679c\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306eimport\u6587\u306f\u7701\u7565\u3057\u3066\u3044\u307e\u3059\u3002\n\u30ed\u30ac\u30fc\uff1acom.example.sample\n\u3053\u306e\u30ed\u30ac\u30fc\u306f\u4ed6\u306e\u30ed\u30ac\u30fc(root\u4ee5\u5916)\u306e\u7956\u5148\u30ed\u30ac\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n<logger name=\"com.example.sample\" level=\"DEBUG\">\n  <appender-ref ref=\"STDOUT_A\"/>\n</logger>\n\n\nMain.java\npackage com.example.sample;\n\npublic class Main {\n  private static final Logger logger = LoggerFactory.getLogger(Main.class);\n  public void doExec() {\n    logger.debug(\"Main debug\");\n    logger.info(\"Main info current:{}\", new Date());\n    logger.warn(\"Main warn\");\n    logger.error(\"Main error\");\n    Budou.doExec();\n    Cat.doExec();\n    Dog.doExec();\n  }\n}\n\n\n\n\n\nlogger name\nlevel\nSTDOUT_A\nSTDOUT_B\nSTRERR\n\n\n\n\ncom.example.sample\nDEBUG\n\u25cb\n\n\n\n\n\nINFO\n\u25cb\n\n\n\n\n\nWARN\n\u25cb\n\n\n\n\n\nERROR\n\u25cb\n\n\n\n\n\n\u30ed\u30ac\u30fc\uff1acom.example.sample.fruits\n\u3053\u306e\u30ed\u30ac\u30fc\u306e\u30a2\u30da\u30f3\u30c0\u30fc\u306fSTDERR\u3067\u3059\u304c\u3001\u7956\u5148\u306e\u30ed\u30ac\u30fc\u306e\u30a2\u30da\u30f3\u30c0\u30fc\u3082\u5f15\u304d\u7d99\u3044\u3067\u3044\u308b\u306e\u3067STDOUT_A\u3078\u3082\u51fa\u529b\u3057\u307e\u3059\u3002\n<logger name=\"com.example.sample.fruits\" level=\"INFO\">\n  <appender-ref ref=\"STDERR\"/>\n</logger>\n\n\nBudou.java\npackage com.example.sample.fruits;\n\npublic class Budou {\n  private static final Logger logger = LoggerFactory.getLogger(Budou.class);\n  public static void doExec() {\n    logger.debug(\"Budou debug\");\n    logger.info(\"Budou info current:{}\", new Date());\n    logger.warn(\"Budou warn\");\n    logger.error(\"Budou error\");\n    Kyohou.doExec();\n  }\n}\n\n\n\nKyohou.java\npackage com.example.sample.fruits.budou;\n\npublic class Kyohou {\n  private static final Logger logger = LoggerFactory.getLogger(Kyohou.class);\n  public static void doExec() {\n    logger.debug(\"Budou.Kyohou debug\");\n    logger.info(\"Budou.Kyohou info current:{}\", new Date());\n    logger.warn(\"Budou.Kyohou warn\");\n    logger.error(\"Budou.Kyohou error\");\n  }\n}\n\n\n\n\n\nlogger name\nlevel\nSTDOUT_A\nSTDOUT_B\nSTRERR\n\n\n\n\ncom.example.sample.fruits\nDEBUG\n\n\n\n\n\n\nINFO\n\u25cb\n\n\n\n\n\nWARN\n\u25cb\n\n\n\n\n\nERROR\n\u25cb\n\n\u25cb\n\n\ncom.example.sample.fruits.budou\nDEBUG\n\n\n\n\n\n\nINFO\n\u25cb\n\n\n\n\n\nWARN\n\u25cb\n\n\n\n\n\nERROR\n\u25cb\n\n\u25cb\n\n\n\n\u30ed\u30ac\u30fc\uff1acom.example.sample.animal\n\u3053\u306e\u30ed\u30ac\u30fc\u306e\u30a2\u30da\u30f3\u30c0\u30fc\u306fSTDERR\u3067\u3059\u304c\u3001\u7956\u5148\u306e\u30ed\u30ac\u30fc\u306e\u30a2\u30da\u30f3\u30c0\u30fc\u3082\u5f15\u304d\u7d99\u3044\u3067\u3044\u308b\u306e\u3067STDOUT_A\u3078\u3082\u51fa\u529b\u3057\u307e\u3059\u3002\n<logger name=\"com.example.sample.animal\" level=\"WARN\">\n  <appender-ref ref=\"STDERR\"/>\n</logger>\n\n\u307e\u305f\u3001\u30ed\u30b0\u30ec\u30d9\u30eb\u304cWARN\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u4e0b\u8a18\u306eMarkerFilter\u306b\u30de\u30c3\u30c1\u3059\u308b\u30ed\u30b0\u306f\u30ed\u30b0\u30ec\u30d9\u30eb\u306b\u95a2\u4fc2\u306a\u304f\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n<turboFilter class=\"ch.qos.logback.classic.turbo.MarkerFilter\">\n  <Marker>com.example.sample.animal.Cat</Marker>\n  <OnMatch>ACCEPT</OnMatch>\n</turboFilter>\n\n\nCat.java\npackage com.example.sample.animal;\n\npublic class Cat {\n  private static final Logger logger = LoggerFactory.getLogger(Cat.class);\n  private static final Marker marker = MarkerFactory.getMarker(Cat.class.getCanonicalName());\n  public static void doExec() {\n    logger.debug(\"Cat debug\");\n    logger.info(\"Cat info current:{}\", new Date());\n    logger.warn(\"Cat warn\");\n    logger.error(\"Cat error\");\n    logger.info(marker, \"marker:{}\", marker.getName());\n    Mike.doExec();\n  }\n}\n\n\n\nDog.java\npackage com.example.sample.animal;\n\npublic class Dog {\n  private static final Logger logger = LoggerFactory.getLogger(Dog.class);\n  private static final Marker marker = MarkerFactory.getMarker(Dog.class.getCanonicalName());\n  public static void doExec() {\n    logger.debug(\"Dog debug\");\n    logger.info(\"Dog info current:{}\", new Date());\n    logger.warn(\"Dog warn\");\n    logger.error(\"Dog error\");\n    logger.info(marker, \"marker:{}\", marker.getName());\n    Shiba.doExec();\n  }\n}\n\n\n\nMike.java\npackage com.example.sample.animal.cat;\n\npublic class Mike {\n  private static final Logger logger = LoggerFactory.getLogger(Mike.class);\n  public static void doExec() {\n    logger.debug(\"Cat.Mike debug\");\n    logger.info(\"Cat.Mike info current:{}\", new Date());\n    logger.warn(\"Cat.Mike warn\");\n    logger.error(\"Cat.Mike error\");\n  }\n}\n\n\n\n\n\nlogger name\nlevel\nSTDOUT_A\nSTDOUT_B\nSTRERR\n\n\n\n\ncom.example.sample.animal\nDEBUG\n\n\n\n\n\n\nINFO\n\u25b3\n\n\n\n\n\nWARN\n\u25cb\n\n\n\n\n\nERROR\n\u25cb\n\n\u25cb\n\n\ncom.example.sample.animal.cat\nDEBUG\n\n\n\n\n\n\nINFO\n\n\n\n\n\n\nWARN\n\u25cb\n\n\n\n\n\nERROR\n\u25cb\n\n\u25cb\n\n\n\n\u30ed\u30ac\u30fc\uff1acom.example.sample.animal.dog\n\u3053\u306e\u30ed\u30ac\u30fc\u306e\u30a2\u30da\u30f3\u30c0\u30fcSTDOUT_B\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u304c\u3001additivity=false\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u7956\u5148\u306e\u30ed\u30ac\u30fc(STDOUT_A)\u306b\u306f\u51fa\u529b\u3055\u308c\u307e\u305b\u3093\u3002\n\u3053\u306e\u6307\u5b9a\u3092\u5916\u3059\u3068\u7956\u5148\u306e\u30ed\u30ac\u30fc\u306b\u3082\u51fa\u529b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n<logger name=\"com.example.sample.animal.dog\" level=\"DEBUG\" additivity=\"false\">\n  <appender-ref ref=\"STDOUT_B\"/>\n</logger>\n\n\nShiba.java\npackage com.example.sample.animal.dog;\n\npublic class Shiba {\n  private static final Logger logger = LoggerFactory.getLogger(Shiba.class);\n  public static void doExec() {\n    logger.debug(\"Dog.Shiba debug\");\n    logger.info(\"Dog.Shiba info current:{}\", new Date());\n    logger.warn(\"Dog.Shiba warn\");\n    logger.error(\"Dog.Shiba error\");\n  }\n}\n\n\n\n\n\nlogger name\nlevel\nSTDOUT_A\nSTDOUT_B\nSTRERR\n\n\n\n\ncom.example.sample.animal.dog\nDEBUG\n\n\u25cb\n\n\n\n\nINFO\n\n\u25cb\n\n\n\n\nWARN\n\n\u25cb\n\n\n\n\nERROR\n\n\u25cb\n\n\n\n\n\nlogback\u4ed5\u69d8\u307e\u3068\u3081\n\u53c2\u8003\n\u4e0b\u8a18\u306e\u30b5\u30a4\u30c8\u306e\u5185\u5bb9\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\nLOGBack\n\nLOGBack\nLogback \u30de\u30cb\u30e5\u30a2\u30eb\n\nQiita\n\nLogback\u3067\u30d5\u30a1\u30a4\u30eb\u306b\u30ed\u30b0\u3092\u5410\u304f\u6642\u306e\u57fa\u672c\u8a2d\u5b9a\nSLF4J/Logback\u3067JSON\u5f62\u5f0f\u306e\u30ed\u30b0\u51fa\u529b\n\n\nappender\n\nname\u5c5e\u6027(\u5fc5\u9808)\u3002\u30a2\u30da\u30f3\u30c0\u30fc\u306e\u540d\u524d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nclass\u5c5e\u6027(\u5fc5\u9808)\u3002\u30a2\u30da\u30f3\u30c0\u30fc\u30af\u30e9\u30b9\u306e\u5b8c\u5168\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nappender\u306b\u306f\u4efb\u610f\u306e\u6570\u306elayout\u3001encoder\u3001filter\u3092\u542b\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nappender\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059\n\nConsoleAppender\nFileAppender\nRollingFileAppender\n\n\nConsoleAppender\nFQCN:ch.qos.logback.core.ConsoleAppender\nAPI: Class ConsoleAppender\n\u30ed\u30b0\u3092\u30b3\u30f3\u30bd\u30fc\u30eb(System.out\u304bSystem.err)\u306b\u51fa\u529b\u3057\u307e\u3059\u3002\n\n\n\nproperty name\ntype\nDescription\n\n\n\n\nencoder\nEncoder\ndefault PatternLayoutEncoder.\n\n\ntarget\nString\ndefault System.out. System.out or System.err\n\n\n\nwithJasi\nboolean\ndefault false.\n\n\n\n\nConsoleAppender\n<appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\n  <encoder>\n    <pattern>%d{yyyy-MM-dd HH:mm:ss} %-5level [%thread] %logger{35} - %msg %n</pattern>\n  </encoder>\n  <target>System.out</target>\n  <withJasi>false</withJasi>\n</appender>\n\n\n\nFileAppender\nFQCN:ch.qos.logback.core.FileAppender\nAPI: Class FileAppender\n\u30ed\u30b0\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3057\u307e\u3059\u3002\n\n\n\nproperty name\ntype\nDescription\n\n\n\n\nfile\nString\n\u51fa\u529b\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u540d.\n\n\nappend\nboolean\ndefault true.true\u306f\u65e2\u5b58\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u8a18\u3057\u307e\u3059.\n\n\nencoder\nEncoder\ndefault PatternLayoutEncoder.\n\n\nprudent\nboolean\ndefault false.\n\n\n\n\nFileAppender\n<appender name=\"FILE\" class=\"ch.qos.logback.core.FileAppender\">\n  <file>app.log</file>\n  <append>true</append>\n  <encoder>\n    <pattern>%d{yyyy-MM-dd HH:mm:ss} %-5le [%t] %lo{36} - %msg %n</pattern>\n  </encoder>\n  <prudent>false</prudent>\n</appender>\n\n\n\nRollingFileAppender\nFQCN:ch.qos.logback.core.rolling.RollingFileAppender\nAPI: Class RollingFileAppender\n\u30ed\u30b0\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3057\u307e\u3059\u3002\u6307\u5b9a\u3057\u305f\u6761\u4ef6\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3067\u304d\u307e\u3059\u3002\n\u30a2\u30fc\u30ab\u30a4\u30d6\u306e\u6761\u4ef6\u3092rollingPolicy\u3068triggeringPolicy\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\n\nproperty name\ntype\nDescription\n\n\n\n\nfile\nString\n\u51fa\u529b\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u540d.\n\n\nappend\nboolean\ndefault true. true\u306f\u65e2\u5b58\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u8a18\u3057\u307e\u3059.\n\n\nencoder\nEncoder\ndefault PatternLayoutEncoder.\n\n\nrollingPolicy\nRollingPolicy\nRollingPolicy\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u305f\u30af\u30e9\u30b9.\n\n\ntriggeringPolicy\nTriggeringPolicy\nTriggeringPolicy\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u305f\u30af\u30e9\u30b9.\n\n\nprudent\nboolean\ndefault false.\n\n\n\n\nRollingPolicy\nRollingPolicy\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059\n\nTimeBasedRollingPolicy\nFixedWindowRollingPolicy\n\n\nTimeBasedRollingPolicy\nFQCN:ch.qos.logback.core.rolling.TimeBasedRollingPolicy\nAPI: Class TimeBasedRollingPolicy\n\n\u6642\u9593\u30d9\u30fc\u30b9\u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u884c\u3044\u307e\u3059\u3002\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u306f%d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\nRollingPolicy\u3068TriggeringPolicy\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\n\u30d1\u30bf\u30fc\u30f3\u306b%d\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\nproperty name\ntype\nDescription\n\n\n\n\nfileNamePattern\nString\n\u30a2\u30fc\u30ab\u30a4\u30d6\u30d5\u30a1\u30a4\u30eb\u540d. %d\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059.\n\n\nmaxHistory\nint\n\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059.\u4fdd\u5b58\u3059\u308b\u30a2\u30fc\u30ab\u30a4\u30d6\u30d5\u30a1\u30a4\u30eb\u306e\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059. \u3053\u306e\u6570\u5024\u3092\u8d85\u3048\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u524a\u9664\u3057\u307e\u3059.\n\n\ncleanHistoryOnStart\nboolean\ndefault false.\n\n\n\n\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u306f%d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\n\npattern\nDescription\n\n\n\n\n%d\ndefault pattern of yyyy-MM-dd.\n\n\n%d{yyyy-MM}\n\u6708\u521d\u3081\u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059.\n\n\n%d{yyyy-ww}\n\u9031\u521d\u3081\u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059. \u9031\u521d\u3081\u304c\u65e5\u66dc\u306e\u5834\u5408\u306f\u65e5\u66dc\u65e5\u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059.\n\n\n%d{yyyy-MM-dd_HH-mm}\n1\u5206\u3054\u3068\u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059.\n\n\n%d{yyyy-MM-dd_HH-mm, Asia/Tokyo}\n\u540c\u4e0a\u3067\u3059. \u5f15\u6570\u306b\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059.\n\n\n%d{yyyy-MM,aux}/%d\n\u5e74\u6708\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(yyyy-MM)\u3078\u65e5\u3054\u3068\u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059.\n\n\n\n\nTimeBasedRollingPolicy\n<appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n  <file>app.log</file>\n  <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n    <fileNamePattern>app.%d{yyyy-MM-dd}.log</fileNamePattern>\n    <maxHistory>30</maxHistory>\n  </rollingPolicy>\n  <encoder>\n    <pattern>%-5r %d [%t] %-5le %lo{36} - %msg %n</pattern>\n  </encoder>\n</appender>\n\n\naux\n1\u3064\u76ee\u306e%d\u306e\u5f15\u6570\u306baux\u3092\u6307\u5b9a\u3059\u308b\u3068\u305d\u306e\u30d1\u30bf\u30fc\u30f3\u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u306f2\u3064\u76ee\u306e%d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\naux\n<rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n  <fileNamePattern>/var/logs/%d{yyyy-MM-dd,aux}/app_access_%d{yyyy-MM-dd_HH}.log</fileNamePattern>\n</rollingPolicy>\n\n\n\u3053\u306e\u4f8b\u3067\u306f\u3001/var/logs\u4ee5\u4e0b\u306byyyy-MM-dd\u30d1\u30bf\u30fc\u30f3\u3067\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30781\u6642\u9593\u3054\u3068\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059\u3002\n\nimage\n/var/logs\n      |\n      +--- /2015-06-20\n      |          |\n      |          +--- app_access_2015-06-20_00.log\n      |          +--- app_access_2015-06-20_01.log\n      |          |\n      |          +--- app_access_2015-06-20_23.log\n      |\n      +--- /2015/06/21\n      |          |\n      |          +--- app_access_2015-06-21_00.log\n      |          +--- app_access_2015-06-21_01.log\n\n\n\nSizeAndTimeBasedFNATP\nFQCN:ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\nAPI: Class SizeAndTimeBasedFNATP\n\u6642\u9593\u3068\u30b5\u30a4\u30ba\u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u884c\u3044\u307e\u3059\u3002\n\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u6642\u9593\u304c\u6765\u308b\u524d\u306b\u6307\u5b9a\u30b5\u30a4\u30ba\u306b\u9054\u3057\u305f\u5834\u5408\u306f\u9023\u756a\u3092\u4ed8\u3051\u3066\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u884c\u3044\u307e\u3059\u3002\n\nTimeBasedRollingPolicy\u306e\u30b5\u30d6\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u3059\u3002\n\u30d1\u30bf\u30fc\u30f3\u306b%d\u3068%i\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n%i\u306f0\u304b\u3089\u59cb\u307e\u308a\u307e\u3059\u3002\n\n\n\n\nproperty name\ntype\nDescription\n\n\n\n\nmaxFileSize\nString\n\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306e\u4e0a\u9650\u3092\u6307\u5b9a\u3057\u307e\u3059.\n\n\n\n\nSizeAndTimeBasedFNATP\n<appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n  <file>app.log</file>\n  <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n    <fileNamePattern>app-%d{yyyy-MM-dd}.%i.log</fileNamePattern>\n    <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n      <maxFileSize>100MB</maxFileSize>\n    </timeBasedFileNamingAndTriggeringPolicy>\n  </rollingPolicy>\n  <encoder>\n    <pattern>%-5r %d [%t] %-5le %lo{36} - %msg %n</pattern>\n  </encoder>\n</appender>\n\n\n\nFixedWindowRollingPolicy\nFQCN:ch.qos.logback.core.rolling.FixedWindowRollingPolicy\nAPI: Class FixedWindowRollingPolicy\n\u30d5\u30a1\u30a4\u30eb\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4ed8\u3051\u3066\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u7bc4\u56f2\u3067\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u884c\u3044\u307e\u3059\u3002\n\nRollingPolicy\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\nTriggeringPolicy\u3068\u4f75\u7528\u3057\u307e\u3059\u3002\n\u30d1\u30bf\u30fc\u30f3\u306b%i\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n%i\u306e\u51fa\u529b\u7d50\u679c\u306fminIdex\u304b\u3089maxIndex\u306e\u7bc4\u56f2\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\nproperty name\ntype\nDescription\n\n\n\n\nminIndex\nint\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u6700\u5c0f\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059.\n\n\nmaxIndex\nint\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u6700\u5927\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059.\n\n\nfileNamePattern\nString\n\u30a2\u30fc\u30ab\u30a4\u30d6\u30d5\u30a1\u30a4\u30eb\u540d. %i\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059.\n\n\n\n\nFixedWindowRollingPolicy\n<appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n  <file>app.log</file>\n  <rollingPolicy class=\"ch.qos.logback.core.rolling.FixedWindowRollingPolicy\">\n    <fileNamePattern>app.%i.log</fileNamePattern>\n    <minIndex>1</minIndex>\n    <maxIndex>3</maxIndex>\n  </rollingPolicy>\n  <triggeringPolicy class=\"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy\">\n    <maxFileSize>5MB</maxFileSize>\n  </triggeringPolicy>\n  <encoder>\n    <pattern>%-5r %d [%t] %-5le %lo{36} - %msg %n</pattern>\n  </encoder>\n</appender>\n\n\n\u3053\u306e\u4f8b\u3067\u306f\u30a2\u30fc\u30ab\u30a4\u30d6\u306f\u4e0b\u8a18\u306e3\u30d5\u30a1\u30a4\u30eb\u3092\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3057\u307e\u3059\u3002\n\napp.1.log\napp.2.log\napp.3.log\n\n\nTriggeringPolicy\nTriggeringPolicy\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059\n\nTimeBasedRollingPolicy\nSizeBasedTriggeringPolicy\n\n\nTimeBasedRollingPolicy\n\u6642\u9593\u30d9\u30fc\u30b9\u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u901a\u77e5\u3057\u307e\u3059\u3002\n(RollingFileAppender\u3067\u8aac\u660e\u6e08\u307f\u3067\u3059\u3002)\n\nSizeBasedTriggeringPolicy\nFQCN:ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy\nAPI: Class SizeBasedTriggeringPolicy\n\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u30d9\u30fc\u30b9\u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u901a\u77e5\u3057\u307e\u3059\u3002\n(FixedWindowRollingPolicy\u3067\u8aac\u660e\u6e08\u307f\u3067\u3059\u3002)\n\n\n\nproperty name\ntype\nDescription\n\n\n\n\nmaxFileSize\nString\n\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306e\u4e0a\u9650\u3092\u6307\u5b9a\u3057\u307e\u3059.\n\n\n\n\nlayout\n\u901a\u5e38\u306flayout\u3092\u76f4\u63a5\u4f7f\u7528\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002layout\u306e\u6a5f\u80fd\u306fencoder\u304c\u4ee3\u308f\u308a\u306b\u884c\u3044\u307e\u3059\u3002\npattern\u306b\u3001\u5909\u63db\u30d1\u30bf\u30fc\u30f3\u6587\u5b57\u5217\u3068\u547c\u3076\u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u5909\u63db\u30d1\u30bf\u30fc\u30f3\u6587\u5b57\u5217\u306f\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\u3001\u5909\u63db\u6307\u5b9a\u5b50\u3001\u66f8\u5f0f\u4fee\u98fe\u5b50\u306a\u3069\u3067\u69cb\u6210\u3055\u308c\u307e\u3059\u3002\n\nPatternLayout\nFQCN:ch.qos.logback.classic.PatternLayout\nAPI: Class PatternLayout\n\u3053\u308c\u306f\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306e\u8a18\u8ff0\u65b9\u6cd5\u3067\u3059\u3002\n\nPatternLayout\n<layout>\n  <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} [%file:%line] - %msg %n</pattern>\n</layout>\n\n\n\u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306fencoder\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\nencoder\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067PatternLayoutEncoder\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\nencoder\n<encoder>\n  <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} [%file:%line] - %msg %n</pattern>\n</encoder>\n\n\n\n\u5909\u63db\u6307\u5b9a\u5b50\n\n\n\n\u5909\u63db\u6307\u5b9a\u5b50\n\u77ed\u7e2e\u540d\n\u30aa\u30d7\u30b7\u30e7\u30f3\n\u51fa\u529b\n\u901f\u5ea6\n\n\n\n\nlogger\n\nlo, c\n\nlength\n\u30ed\u30ac\u30fc\u306e\u540d\u524d\n\n\n\nlevel\n\nle, p\n\n\n\u30ed\u30b0\u30ec\u30d9\u30eb\n\n\n\nthread\nt\n\n\u30b9\u30ec\u30c3\u30c9\n\n\n\ndate\n`d\npattern\n\u30ed\u30b0\u306e\u51fa\u529b\u65e5\u6642\n\n\n\nmessage\n\nmsg, m\n\n\n\u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\n\n\n\nn\n\n\n\u6539\u884c\u30b3\u30fc\u30c9\n\n\n\n\n\n\n\n\n\n\ncontextName\ncn\n\n\u30ed\u30ae\u30f3\u30b0\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u540d\n\n\n\nmarker\n\n\n\u30de\u30fc\u30ab\u30fc\u306e\u540d\u524d\n\n\n\n\n\n\n\n\n\n\nrelative\nr\n\n\u7d4c\u904e\u6642\u9593(\u30df\u30ea\u79d2)\n\n\n\nproperty\n\nkey\n\u30d7\u30ed\u30d1\u30c6\u30a3\n\n\n\nreplace(p)\n\n\nr, t\n\n\u7f6e\u63db\u5f8c\u306e\u6587\u5b57\u5217\n\n\n\n\n\n\n\n\n\n\ncaller\n\ndepth\n\u4f4d\u7f6e\u60c5\u5831\n\n\n\nfile\nF\n\n\u30af\u30e9\u30b9\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u540d\n\u4f4e\u901f\n\n\nline\nL\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u4e2d\u306e\u884c\u756a\u53f7\n\u4f4e\u901f\n\n\nclass\nC\nlength\n\u30af\u30e9\u30b9\u306e\u5b8c\u5168\u540d\n\u4f4e\u901f\n\n\nmethod\nM\n\n\u30e1\u30bd\u30c3\u30c9\u540d\n\u4f4e\u901f\n\n\n\n\n\n\n\n\n\nexception\nex\ndepth\n\u4f8b\u5916\n\n\n\nrootException\nrEx\ndepth\n\u4f8b\u5916\n\n\n\nxException\nxEx\ndepth\n\u4f8b\u5916\n\n\n\nnopexception\nnopex\n\n\u4f8b\u5916\u3092\u51fa\u529b\u3057\u306a\u3044\n\n\n\n\n\n\u66f8\u5f0f\u4fee\u98fe\u5b50\n\u66f8\u5f0f\u4fee\u98fe\u5b50\u3092\u4f7f\u3046\u3068\u51fa\u529b\u3059\u308b\u30c7\u30fc\u30bf\u306e\u5e45\u3084\u6587\u5b57\u63c3\u3048\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\u66f8\u5f0f\u4fee\u98fe\u5b50\u306f%\u8a18\u53f7\u3068\u5909\u63db\u6307\u5b9a\u5b50\u306e\u9593\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\u3053\u306e\u4f8b\u3067\u306f\u6700\u5c0f\u5e4520\u3001\u6700\u5927\u5e4530\u306e\u7bc4\u56f2\u3067\u30ed\u30ac\u30fc\u306e\u540d\u524d\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\u30ed\u30ac\u30fc\u304c20\u6587\u5b57\u672a\u6e80\u306e\u5834\u5408\u306f\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u3092\u53f3\u5074\u306b\u30d1\u30c7\u30a3\u30f3\u30b0\u3057\u306620\u6587\u5b57\u306b\u8abf\u6574\u3057\u307e\u3059\u3002(\u5de6\u63c3\u3048)\n\n\u66f8\u5f0f\u4fee\u98fe\u5b50\n%-20.30logger\n\n\n\n\n\noption\ndescription\n\n\n\n\n-\n\u5de6\u63c3\u3048\u306b\u3057\u307e\u3059.\n\n\n10\n\u6700\u5c0f\u5e4510\u6587\u5b57\u3067\u8db3\u308a\u306a\u3044\u5206\u306f\u5148\u982d\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u3092\u4ed8\u52a0\u3057\u307e\u3059(\u53f3\u63c3\u3048\u306b).\n\n\n-10\n\u6700\u5c0f\u5e4510\u6587\u5b57\u3067\u8db3\u308a\u306a\u3044\u5206\u306f\u672b\u5c3e\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u3092\u4ed8\u52a0\u3057\u307e\u3059(\u5de6\u63c3\u3048\u306b).\n\n\n.20\n\u6700\u5927\u5e4520\u6587\u5b57\u3067\u8d85\u3048\u305f\u5206\u306f\u5148\u982d\u304b\u3089\u524a\u9664\u3057\u307e\u3059.\n\n\n.-20\n\u6700\u5927\u5e4520\u6587\u5b57\u3067\u8d85\u3048\u305f\u5206\u306f\u672b\u5c3e\u304b\u3089\u524a\u9664\u3057\u307e\u3059.\n\n\n\ndate\n%date\u307e\u305f\u306f%d\u5909\u63db\u6307\u5b9a\u5b50\u3067\u65e5\u4ed8\u3092\u51fa\u529b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5f15\u6570\u306bfomart\u3068\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n\n\npattern\noutput\n\n\n\n\n%date\n2015-06-22 12:34:56,789\n\n\n%date{yyyy-MM-dd}\n2015-06-22\n\n\n%date{yyyy-MM-dd HH:mm:ss.SSS}\n2015-06-22 12:34:56.789\n\n\n%date{yyyy-MM-dd HH:mm:ss.SSS, Asia/Tokyo}\n\u540c\u4e0a, \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u6307\u5b9a\u3042\u308a.\n\n\n\nJava8 - SimpleDateFormat\nreplace(p)\n\u6587\u5b57\u5217\u306e\u7f6e\u63db\u3092\u884c\u3044\u307e\u3059\u3002\n\u3053\u306e\u4f8b\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n\nreplace\n%repalce(%msg){'\\s',''}\n\n\n\u3053\u306e\u4f8b\u306f\u3001\u30ed\u30ac\u30fc\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u306e.\u3092/\u306b\u7f6e\u63db\u3057\u307e\u3059\u3002\n\nreplace\n%replace(%logger %msg){'\\.','/'}\n\n\nexception\n\u4f8b\u5916\u3092\u51fa\u529b\u3059\u308b\u306e\u306b\u7279\u5225\u306a\u8a2d\u5b9a\u306f\u4e0d\u8981\u3067\u3059\u3002\n\u30ed\u30ac\u30fc\u306e\u5f15\u6570\u306b\u4f8b\u5916\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\u3060\u3051\u3067\u4f8b\u5916\u306e\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\nexception(\u629c\u7c8b)\npublic class Ringo {\n  private static final Logger logger = LoggerFactory.getLogger(Ringo.class);\n\n  public static void doExec() {\n\n    ...\u7701\u7565...\n\n    Exception error = new Exception(\"\u4f8b\u5916\u30e1\u30c3\u30bb\u30fc\u30b8\");\n    logger.error(\"\u308a\u3093\u3054\u306e\u4f8b\u5916\u30c6\u30b9\u30c8\",error);\n  }\n}\n\n\n\u5909\u63db\u30d1\u30bf\u30fc\u30f3\u6587\u5b57\u5217\u306b\u3082\u4f8b\u5916\u7528\u306e\u5909\u63db\u6307\u5b9a\u5b50\u3092\u542b\u3081\u306a\u304f\u3066\u3082\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\npattern\n<encoder>\n   <pattern>%-5r %date [%t] %-5le %-30.30lo{20} - %msg %n</pattern>\n</encoder>\n\n\n\noutput\n291   2015-06-22 10:40:43,763 [main] ERROR c.e.s.fruits.Ringo             - \u308a\u3093\u3054\u306e\u4f8b\u5916\u30c6\u30b9\u30c8 \njava.lang.Exception: \u4f8b\u5916\u30e1\u30c3\u30bb\u30fc\u30b8\n    at com.example.sample.fruits.Ringo.doExec(Ringo.java:26) ~[classes/:na]\n    at com.example.sample.Main.Sample1(Main.java:21) [classes/:na]\n    at com.example.lbsample.App.main(App.java:21) [classes/:na]\n\n\n\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u306e\u51fa\u529b\u3092\u5236\u5fa1\u3057\u305f\u3044\u5834\u5408\u306f%ex,%xEx,%rEx\u306a\u3069\u306e\u5909\u63db\u6307\u5b9a\u5b50\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\ncoloring\n\u8272\u4ed8\u3051\u7528\u306e\u5909\u63db\u6307\u5b9a\u5b50\u3092\u4f7f\u3063\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8272\u3065\u3051\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n%highlight\u306e\u4ed6\u306b\u4e0b\u8868\u306e\u8272\u304c\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n\n\nregular\nbold\n\n\n\n\n%black\n\n\n\n%red\n%boldRed\n\n\n%green\n%boldGreen\n\n\n%yellow\n%boldYellow\n\n\n%blue\n%boldBlue\n\n\n%magenta\n%boldMagenta\n\n\n%cyan\n%boldCyan\n\n\n%white\n%boldWhite\n\n\n%gray\n\n\n\n\n\ncoloring\n<pattern>%d{yyyy-MM-dd HH:mm:ss} - [%t] - %highlight(%-5le) - %green(%-30lo{20}) - %msg %n</pattern>\n\n\n\nencoder\nencoder\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059\n\nLayoutWrappingEncoder\nPatternLayoutEncoder\n\n\nLayoutWrappingEncoder\nFQCN:ch.qos.logback.core.encoder.LayoutWrappingEncoder\nAPI: Class LayoutWrappingEncoder\n\u81ea\u4f5c\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306a\u3069\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\n\nproperty name\ntype\nDescription\n\n\n\n\npattern\nString\n\u5909\u63db\u30d1\u30bf\u30fc\u30f3\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u307e\u3059.\n\n\nlayout\nLayout\ndefault PatternLayout.\n\n\nimmediateFlush\nboolean\ndefault true. false\u3092\u6307\u5b9a\u3059\u308b\u3068\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u66f8\u304d\u8fbc\u307f\u3092\u30d0\u30c3\u30d5\u30a1\u30ea\u30f3\u30b0\u3057\u307e\u3059.\n\n\ncharset\nCharset\n\u6587\u5b57\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059.\n\n\n\n\nLayoutWrappingEncoder\n<encoder class=\"ch.qos.logback.core.encoder.LayoutWrappingEncoder\">\n  <layout class=\"chapters.layouts.MySampleLayout\" />\n</encoder>\n\n\n\nPatternLayoutEncoder\nFQCN:ch.qos.logback.core.encoder.PatternLayoutEncoder\nAPI: Class PatternLayoutEncoder\nPatternLayoutEncoder\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u306a\u306e\u3067class\u306b\u6307\u5b9a\u3057\u306a\u304f\u3066\u3082\u304b\u307e\u3044\u307e\u305b\u3093\u3002\n\n\n\nproperty name\ntype\nDescription\n\n\n\n\npattern\nString\n\u5909\u63db\u30d1\u30bf\u30fc\u30f3\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u307e\u3059.\n\n\nlayout\nLayout\ndefault PatternLayout.\n\n\nimmediateFlush\nboolean\ndefault true.  false\u3092\u6307\u5b9a\u3059\u308b\u3068\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u66f8\u304d\u8fbc\u307f\u3092\u30d0\u30c3\u30d5\u30a1\u30ea\u30f3\u30b0\u3057\u307e\u3059.\n\n\ncharset\nCharset\n\u6587\u5b57\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059.\n\n\n\n\ndefault\n<encoder>\n  <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} [%file:%line] - %msg %n</pattern>\n  <immediateFlush>true</immediateFlush>\n</encoder>\n\n\n\u3053\u308c\u306f\u4e0a\u8a18\u306e\u4f8b\u3068\u540c\u3058\u610f\u5473\u306b\u306a\u308a\u307e\u3059\u3002\n\nPatternLayoutEncoder\n<encoder class=\"ch.qos.logback.core.encoder.PatternLayoutEncoder\">\n  <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} [%file:%line] - %msg %n</pattern>\n</encoder>\n\n\n\nfilter\nfilter\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059\n\nLevelFilter\nThresholdFilter\nEvaluatorFilter\n\n\nLevelFilter\nFQCN:ch.qos.logback.classic.filter.LevelFilter\nAPI: Class LevelFilter\n\u30ed\u30b0\u30ec\u30d9\u30eb\u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\u6307\u5b9a\u3057\u305f\u30ec\u30d9\u30eb\u306e\u30ed\u30b0\u306fonMatch\u3067\u3001\u305d\u308c\u4ee5\u5916\u306e\u30ec\u30d9\u30eb\u306e\u30ed\u30b0\u306fonMismatch\u3067\u51fa\u529b\u3059\u308b\u304b\u6c7a\u5b9a\u3057\u307e\u3059\u3002\nEnum FilterReply\n\nLevelFilter\n<filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n  <level>INFO</level>\n  <onMatch>ACCEPT</onMatch>\n  <onMismatch>DENY</onMismatch>\n</filter>\n\n\n\nThresholdFilter\nFQCN:ch.qos.logback.classic.filter.ThresholdFilter\nAPI: Class ThresholdFilter\n\u30ed\u30b0\u30ec\u30d9\u30eb\u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\u6307\u5b9a\u3057\u305f\u30ec\u30d9\u30eb\u4ee5\u4e0a\u306e\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\nThresholdFilter\n<filter class=\"ch.qos.logback.classic.filter.ThresholdFilter\">\n  <level>ERROR</level>\n</filter>\n\n\n\nEvaluatorFilter\nFQCN:ch.qos.logback.core.filter.EvaluatorFilter\nAPI: Class EvaluatorFilter\n\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u306fEventEvaluator\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u305f\u30af\u30e9\u30b9\u3067\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u3067\u884c\u3044\u307e\u3059\u3002\n\nTurboFilters\nTurboFilters\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059\n\nMDCFilter\nMarkerFilter\nDuplicateMessageFilter\n\n\nMDCFilter\nFQCN:ch.qos.logback.classic.turbo.MDCFilter\nAPI: Class MDC\nChapter 8: Mapped Diagnostic Context\n\nMarkerFilter\nFQCN:ch.qos.logback.classic.turbo.MarkerFilter\nAPI: Class MarkerFilter\n\u30de\u30fc\u30ab\u30fc\u304c\u95a2\u9023\u4ed8\u3051\u3089\u308c\u305f\u30ed\u30b0\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\n\u3053\u306e\u4f8b\u3067\u306fcom.example.sample.animal\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30ed\u30b0\u306fWARN\u30ec\u30d9\u30eb\u4ee5\u4e0a\u3057\u304b\u51fa\u529b\u3055\u308c\u306a\u3044\u8a2d\u5b9a\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304cMarkerFilter\u306b\u3088\u3063\u3066com.example.sample.animal.Cat\u306e\u30ed\u30b0\u306f\u30ec\u30d9\u30eb\u306b\u304b\u304b\u308f\u3089\u305a\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\nmarker(\u629c\u7c8b)\npackage com.example.sample.animal;\n\npublic class Cat {\n  private static final Marker marker = MarkerFactory.getMarker(Cat.class.getCanonicalName());\n\n  public static void doExec() {\n    ...\u7701\u7565...\n    logger.debug(marker, \"marker:{}\", marker.getName());\n  }\n}\n\n\n\nMarkerFilter\n<turboFilter class=\"ch.qos.logback.classic.turbo.MarkerFilter\">\n  <Marker>com.example.sample.animal.Cat</Marker>\n  <OnMatch>ACCEPT</OnMatch>\n</turboFilter>\n\n<!-- WARN\u4ee5\u4e0a -->\n<logger name=\"com.example.sample.animal\" level=\"WARN\">\n  <appender-ref ref=\"STDOUT\"/>\n</logger>\n\n\n\nDuplicateMessageFilter\nFQCN:ch.qos.logback.classic.turbo.DuplicateMessageFilter\nAPI: Class DuplicateMessageFilter\n\u91cd\u8907\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\n\n\n\nproperty name\ntype\nDescription\n\n\n\n\nallowedRepetitions\nint\n\u7e70\u308a\u8fd4\u3057\u3092\u8a31\u5bb9\u3059\u308b\u56de\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059. \u30c7\u30d5\u30a9\u30eb\u30c8\u306f5\u3067\u3059.\n\n\ncacheSize\nint\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306f100\u3067\u3059.\n\n\n\n\nDuplicateMessageFilter\n<turboFilter class=\"ch.qos.logback.classic.turbo.DuplicateMessageFilter\">\n  <allowedRepetitions>10</allowedRepetitions>\n  <cacheSize>200</cacheSize>\n</turboFilter>\n\n\n\nlogger\n\u30ed\u30ac\u30fc\u306flogger\u8981\u7d20\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\nlevel\u5c5e\u6027\u306fTRACE\u3001DEBUG\u3001INFO\u3001WARN\u3001ERROR\u3001ALL\u3001OFF\u306e\u3044\u305a\u308c\u304b\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\nadditivity\u306f\u4efb\u610f\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306ftrue\u3067\u3059\u3002\nappender-ref\u3067\u30a2\u30da\u30f3\u30c0\u30fc\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\nlogger\n<logger name=\"com.example.sample.fruits\" level=\"INFO\">\n  <appender-ref ref=\"STDOUT\"/>\n  <appender-ref ref=\"FILE\"/>\n</logger>\n\n\n\nroot logger\n\u30eb\u30fc\u30c8\u30ed\u30ac\u30fc\u306froot\u8981\u7d20\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u30eb\u30fc\u30c8\u30ed\u30ac\u30fc\u306f\u5168\u3066\u306e\u30ed\u30ac\u30fc\u306e\u7956\u5148\u30ed\u30ac\u30fc\u3067\u3059\u3002\n\nlevel\u5c5e\u6027(\u5fc5\u9808)\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306fDEBUG\u3067\u3059\u3002\nname\u5c5e\u6027\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002(\u540d\u524d\u306f\"ROOT\"\u3067\u56fa\u5b9a\u3055\u308c\u3066\u3044\u308b\u305f\u3081)\nappender-ref\u3067\u30a2\u30da\u30f3\u30c0\u30fc\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\nroot\n<root level=\"DEBUG\">\n  <appender-ref ref=\"CONSOLE\" />\n  <appender-ref ref=\"FILE\" />\n</root>\n\n\n\nVariable\n\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u6697\u9ed9\u7684\u306bHOSTNAME\u5909\u6570\u3068CONTEXT_NAME\u5909\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nproperty\n\u5909\u6570\u306e\u5b9a\u7fa9\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\nproperty\n<property name=\"LOG_DIR\" value=\"D:/logs\" />\n\n\n\u5916\u90e8\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\nproperty\n<property file=\"src/main/resources/variables1.properties\" />\n\n\n\u5b9a\u7fa9\u3057\u305f\u5909\u6570\u306e\u4f7f\u7528\n\u5909\u6570\u3092\u4f7f\u7528\u3059\u308b\u306b\u306f\u5b9a\u7fa9\u3057\u305f\u5909\u6570\u540d\u3092${\u3068}\u3067\u56f2\u307f\u307e\u3059\u3002\n\nvariable\n<file>${LOG_DIR}/app.log</file>\n\n\n\u30d1\u30bf\u30fc\u30f3\u5185\u3067\u5909\u6570\u3092\u4f7f\u7528\u3059\u308b\u306b\u306fproperty\u5909\u63db\u6307\u5b9a\u5b50\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\nproperty\n<encoder>\n  <pattern>%property{HOSTNAME} %d [%t] - %msg%n</pattern>\n</encoder>\n\n\n\u5909\u6570\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\n\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f:-\u306e\u5f8c\u306b\u7d9a\u3051\u3066\u6307\u5b9a\u3057\u307e\u3059\u3002\n\ndefault\n<file>${LOG_DIR:-/var/logs}/app.log</file>\n\n\n\u5909\u6570\u306e\u30cd\u30b9\u30c8\n\u5909\u6570\u306e\u5024\u3092\u5225\u306e\u5909\u6570\u540d\u306e\u4e00\u90e8\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3053\u306e\u4f8b\u3067\u306f\u3001file\u8981\u7d20\u306fD:/logs/cust_r.log\u306b\u306a\u308a\u307e\u3059\u3002\n\nvariables1.properties\nDEP = CUSTOMER\nPRI = REGULAR\n\nCUSTOMER.REGULAR = cust_r\nCUSTOMER.IRREGULAR = cust_i\nCUSTOMER.EMERGENCY = cust_e\nSALES.REGULAR = sale_r\nSALES.IRREGULAR = sale_i\nSALES.EMERGENCY = sale_e\nPERSONNEL.REGULAR = pers_r\nPERSONNEL.IRREGULAR = pers_i\nPERSONNEL.EMERGENCY = pers_e\n\n\n\nlogback.xml\n<property name=\"LOG_DIR\" value=\"D:/logs\" />\n<property file=\"src/main/resources/variables1.properties\" />\n\n<file>${LOG_DIR}/${${DEP}.${PRI}}.log</file>\n\n\n\ntimestamp\n\u5909\u6570\u306b\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u4f7f\u7528\n\ntimestamp\n<timestamp key=\"bySecond\" datePattern=\"yyyyMMdd'T'HHmmss\"/>\n\n\n\ntimestamp\n<timestamp key=\"bySecond\" datePattern=\"yyyyMMdd'T'HHmmss\" timeReference=\"contextBirth\"/>\n\n\n\n\u4ed8\u9332\n\nEclipse\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u30ab\u30e9\u30fc\u30b3\u30fc\u30c9\u306b\u5bfe\u5fdc\u3055\u305b\u308b\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttp://mihai-nita.net/java/ \u3092\u53c2\u7167\u3057Eclipse\u306ePlugin\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u8a2d\u5b9a\nWindow -> Preferences -> Ansi Console\u304b\u3089\u4e0b\u56f3\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\nEnabled\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u307e\u3059\u3002\nShow the escape sequences\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5916\u3057\u307e\u3059\u3002\n\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\n\u30ab\u30e9\u30fc\u30b3\u30fc\u30c9\u4ed8\u304d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n# \u6982\u8981\n\nlogback\u306e\u7279\u5fb4\u3084\u6a5f\u80fd\u306e\u307e\u3068\u3081\u8a18\u4e8b\u3067\u3059\u3002\n\u524d\u534a\u306f\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u305f\u30b3\u30fc\u30c9\u3084\u8a2d\u5b9a\u65b9\u6cd5\u306e\u8aac\u660e\u306b\u306a\u308a\u307e\u3059\u3002\n\u5f8c\u534a\u306f\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u3044\u305f\u30b5\u30a4\u30c8\u306e\u8981\u70b9\u3092\u307e\u3068\u3081\u305f\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u7684\u306a\u5185\u5bb9\u306b\u306a\u308a\u307e\u3059\u3002\n\n**\u74b0\u5883**\n\n\u4e0b\u8a18\u306e\u74b0\u5883\u3067\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\n* Java 1.8.0_45\n* logback 1.1.3\n* slf4j 1.7.7\n\n\n## \u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\n\nmaven\u3067\u96db\u5f62\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n```bat\n> mvn archetype:generate -DgroupId=com.example.lbsample -DartifactId=lbsample -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\n```\n\n**\u7de8\u96c6\u5f8c\u306epom.xml**\n\n```xml:pom.xml\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n  <groupId>com.example.lbsample</groupId>\n  <artifactId>lbsample</artifactId>\n  <packaging>jar</packaging>\n  <version>1.0-SNAPSHOT</version>\n  <name>lbsample</name>\n  <url>http://maven.apache.org</url>\n\n  <properties>\n    <java.version>1.8</java.version>\n    <logback.version>1.1.3</logback.version>\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n  </properties>\n\n  <dependencies>\n    <dependency>\n      <groupId>ch.qos.logback</groupId>\n      <artifactId>logback-classic</artifactId>\n      <version>${logback.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>3.8.1</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n\n  <build>\n    <plugins>\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-compiler-plugin</artifactId>\n        <configuration>\n          <verbose>true</verbose>\n          <source>${java.version}</source>\n          <target>${java.version}</target>\n          <encoding>${project.build.sourceEncoding}</encoding>\n        </configuration>\n      </plugin>\n    </plugins>\n  </build>\n</project>\n```\n\n**\u4f5c\u6210\u3057\u305flogback.xml**\n\n```xml.logback.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<configuration debug=\"true\">\n\n  <!--\n    \u5909\u6570\u306e\u5b9a\u7fa9\u3092\u884c\u3044\u307e\u3059\u3002\n    2\u884c\u76ee\u306f\u5916\u90e8\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u304b\u3089\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n  -->\n  <property name=\"LOG_DIR\" value=\"D:/logs\" />\n  <property file=\"src/main/resources/variables1.properties\" />\n\n  <turboFilter class=\"ch.qos.logback.classic.turbo.MarkerFilter\">\n    <Marker>com.example.sample.animal.Cat</Marker>\n    <OnMatch>ACCEPT</OnMatch>\n  </turboFilter>\n\n  <!--\n     \u6a19\u6e96\u51fa\u529b\u306b\u51fa\u529b\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n  -->\n  <appender name=\"STDOUT_A\" class=\"ch.qos.logback.core.ConsoleAppender\">\n    <target>System.out</target>\n    <encoder>\n      <pattern>A: %-5r %d{yyyy-MM-dd HH:mm:ss} [%t] %highlight(%-5le) %cyan(%-40.40lo{36}) - %green(%msg) %n</pattern>\n    </encoder>\n    <withJasi>true</withJasi>\n  </appender>\n\n  <!--\n     \u6a19\u6e96\u51fa\u529b\u306b\u51fa\u529b\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n  -->\n  <appender name=\"STDOUT_B\" class=\"ch.qos.logback.core.ConsoleAppender\">\n    <target>System.out</target>\n    <encoder>\n      <pattern>B: %-5r %d{yyyy-MM-dd HH:mm:ss} [%t] %highlight(%-5le) %yellow(%-40.40lo{36}) - %green(%msg) %n</pattern>\n    </encoder>\n    <withJasi>true</withJasi>\n  </appender>\n\n  <!--\n    \u6a19\u6e96\u30a8\u30e9\u30fc\u306b\u51fa\u529b\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n  -->\n  <appender name=\"STDERR\" class=\"ch.qos.logback.core.ConsoleAppender\">\n    <target>System.err</target>\n    <encoder>\n      <pattern>E: %-5r %d{yyyy-MM-dd HH:mm:ss} [%t] %highlight(%-5le) %red(%-40.40lo{36}) - %red(%msg) %n</pattern>\n    </encoder>\n    <withJasi>true</withJasi>\n    <filter class=\"ch.qos.logback.classic.filter.ThresholdFilter\">\n      <level>ERROR</level>\n    </filter>\n  </appender>\n\n  <!--\n    \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3059\u308b\u30b7\u30f3\u30d7\u30eb\u306a\u8a2d\u5b9a\u3067\u3059\u3002\n  -->\n  <appender name=\"FILE_A\" class=\"ch.qos.logback.core.FileAppender\">\n    <file>${LOG_DIR}/lbsample_a.log</file>\n    <encoder>\n      <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} [%file:%line] - %msg %n</pattern>\n    </encoder>\n  </appender>\n\n  <!--\n    \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3059\u308b\u30b7\u30f3\u30d7\u30eb\u306a\u8a2d\u5b9a\u3067\u3059\u3002\n    \u30d5\u30a1\u30a4\u30eb\u540d\u3084\u30d1\u30bf\u30fc\u30f3\u306e\u8a2d\u5b9a\u3092\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u53d6\u5f97\u3057\u305f\u5909\u6570\u3067\u884c\u3044\u307e\u3059\u3002\n  -->\n  <appender name=\"FILE_B\" class=\"ch.qos.logback.core.FileAppender\">\n    <file>${file_b.log_dir:-D:/logs}${file_b.log_file}</file>\n    <encoder>\n      <pattern>${file_b.pattern}</pattern>\n    </encoder>\n  </appender>\n\n  <!--\n    \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n    \u30a2\u30fc\u30ab\u30a4\u30d6\u306f1\u5206\u6bce\u306b\u884c\u3044\u307e\u3059\u3002\uff08\u30c6\u30b9\u30c8\u306e\u305f\u3081\uff09\n  -->\n  <appender name=\"ROLLING_A\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n    <file>${LOG_DIR}/roll_a_lbsample.log</file>\n    <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n      <fileNamePattern>${LOG_DIR}/rolling_lbsample_%d{yyyy-MM-dd_HH-mm}.log</fileNamePattern>\n      <maxHistory>30</maxHistory>\n    </rollingPolicy>\n    <encoder>\n      <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{35} - %msg %n</pattern>\n    </encoder>\n  </appender>\n\n  <!--\n     \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n     \u30a2\u30fc\u30ab\u30a4\u30d6\u30d5\u30a1\u30a4\u30eb\u306f\u6708\u5225\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n  -->\n  <appender name=\"ROLLING_B\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n    <file>${LOG_DIR}/roll_b_lbsample.log</file>\n    <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n      <fileNamePattern>${LOG_DIR}/%d{yyyy-MM-dd,aux}/rolling2_lbsample_%d{yyyy-MM-dd_HH-mm}.log</fileNamePattern>\n    </rollingPolicy>\n    <encoder>\n      <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{35} - %msg %n</pattern>\n    </encoder>\n  </appender>\n\n  <!--\n    \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n    \u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u304c5KB(\u30c6\u30b9\u30c8\u306e\u305f\u3081\uff09\u306b\u9054\u3059\u308b\u3068\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059\u3002\n  -->\n  <appender name=\"ROLLING_C\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n    <file>${LOG_DIR}/roll_c_${${DEP}.${PRI}}.log</file>\n    <rollingPolicy class=\"ch.qos.logback.core.rolling.FixedWindowRollingPolicy\">\n      <fileNamePattern>roll_c_${LOG_DIR}/${${DEP}.${PRI}}_%i.log</fileNamePattern>\n        <minIndex>15</minIndex>\n        <maxIndex>19</maxIndex>\n    </rollingPolicy>\n    <triggeringPolicy class=\"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy\">\n      <maxFileSize>5KB</maxFileSize>\n    </triggeringPolicy>\n    <encoder>\n      <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} - %msg %n</pattern>\n    </encoder>\n  </appender>\n\n  <!--\n    \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n    \u6642\u9593\u3068\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059\u3002\n  -->\n  <appender name=\"ROLLING_D\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n    <file>${LOG_DIR}/roll_d_lbsample.log</file>\n    <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n      <fileNamePattern>${LOG_DIR}/roll_d_%d{yyyy-MM-dd_HH}.%i.log</fileNamePattern>\n      <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n        <maxFileSize>5KB</maxFileSize>\n      </timeBasedFileNamingAndTriggeringPolicy>\n    </rollingPolicy>\n    <encoder>\n      <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} - %msg %n</pattern>\n    </encoder>\n  </appender>\n\n  <logger name=\"com.example.sample.animal.dog\" level=\"DEBUG\" additivity=\"false\">\n    <appender-ref ref=\"STDOUT_B\"/>\n  </logger>\n\n  <logger name=\"com.example.sample.animal\" level=\"WARN\">\n    <appender-ref ref=\"STDERR\"/>\n  </logger>\n\n  <logger name=\"com.example.sample.fruits\" level=\"INFO\">\n    <appender-ref ref=\"STDERR\"/>\n  </logger>\n\n  <!--\n    \u4e0a\u8a18\u306e\u30ed\u30ac\u30fc\u306e\u7956\u5148\u30ed\u30ac\u30fc\u3067\u3059\u3002\n  -->\n  <logger name=\"com.example.sample\" level=\"DEBUG\">\n    <appender-ref ref=\"STDOUT_A\"/>\n  </logger>\n\n  <root level=\"DEBUG\">\n    <appender-ref ref=\"FILE_A\" />\n    <appender-ref ref=\"FILE_B\" />\n    <appender-ref ref=\"ROLLING_A\"/>\n    <appender-ref ref=\"ROLLING_B\"/>\n    <appender-ref ref=\"ROLLING_C\"/>\n    <appender-ref ref=\"ROLLING_D\"/>\n  </root>\n\n</configuration>\n```\n\n**\u4f5c\u6210\u3057\u305f\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a1\u30a4\u30eb**\n\n```properties:variables1.prpperties\n# FILE_B\nfile_b.log_dir = D:/logs\nfile_b.log_file = /lbsample_b.log\nfile_b.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5le %lo{36} [%file:%line] - %msg%n\n\nDEP = CUSTOMER\nPRI = REGULAR\n\nCUSTOMER.REGULAR = cust_r\nCUSTOMER.IRREGULAR = cust_i\nCUSTOMER.EMERGENCY = cust_e\nSALES.REGULAR = sale_r\nSALES.IRREGULAR = sale_i\nSALES.EMERGENCY = sale_e\nPERSONNEL.REGULAR = pers_r\nPERSONNEL.IRREGULAR = pers_i\nPERSONNEL.EMERGENCY = pers_e\n```\n\n**\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30c4\u30ea\u30fc**\n\n```text\nlbsample\n \u251c\u2500src\n \u2502  \u251c\u2500main\n \u2502  \u2502  \u251c\u2500java\n \u2502  \u2502  \u2502  \u2514\u2500com\n \u2502  \u2502  \u2502      \u2514\u2500example\n \u2502  \u2502  \u2502          \u251c\u2500lbsample\n \u2502  \u2502  \u2502          \u2502   \u2514\u2500App.java\n \u2502  \u2502  \u2502          \u2514\u2500sample\n \u2502  \u2502  \u2502              \u251c\u2500Main.java\n \u2502  \u2502  \u2502              \u251c\u2500animal\n \u2502  \u2502  \u2502              \u2502  \u251c\u2500cat\n \u2502  \u2502  \u2502              \u2502  \u2502  \u2514\u2500Mike.java\n \u2502  \u2502  \u2502              \u2502  \u2514\u2500dog\n \u2502  \u2502  \u2502              \u2502     \u2514\u2500Shiba.java\n \u2502  \u2502  \u2502              \u2514\u2500fruits\n \u2502  \u2502  \u2502                  \u251c\u2500Budou.java\n \u2502  \u2502  \u2502                  \u2514\u2500budou\n \u2502  \u2502  \u2502                     \u2514\u2500Kyohou.java\n \u2502  \u2502  \u2514\u2500resources\n \u2502  \u2514\u2500test\n```\n\n### \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3068\u30ed\u30b0\u306e\u51fa\u529b\u7d50\u679c\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306eimport\u6587\u306f\u7701\u7565\u3057\u3066\u3044\u307e\u3059\u3002\n\n**\u30ed\u30ac\u30fc\uff1acom.example.sample**\n\n\u3053\u306e\u30ed\u30ac\u30fc\u306f\u4ed6\u306e\u30ed\u30ac\u30fc(root\u4ee5\u5916)\u306e\u7956\u5148\u30ed\u30ac\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\n```xml\n<logger name=\"com.example.sample\" level=\"DEBUG\">\n  <appender-ref ref=\"STDOUT_A\"/>\n</logger>\n```\n\n```java:Main.java\npackage com.example.sample;\n\npublic class Main {\n  private static final Logger logger = LoggerFactory.getLogger(Main.class);\n  public void doExec() {\n    logger.debug(\"Main debug\");\n    logger.info(\"Main info current:{}\", new Date());\n    logger.warn(\"Main warn\");\n    logger.error(\"Main error\");\n    Budou.doExec();\n    Cat.doExec();\n    Dog.doExec();\n  }\n}\n```\n\n|logger name                      |level   |STDOUT_A |STDOUT_B |STRERR   |\n|:--------------------------------|:------:|:-------:|:-------:|:-------:|\n|com.example.sample               |DEBUG   |    \u25cb    |         |         |\n|                                 |INFO    |    \u25cb    |         |         |\n|                                 |WARN    |    \u25cb    |         |         |\n|                                 |ERROR   |    \u25cb    |         |         |\n\n\n**\u30ed\u30ac\u30fc\uff1acom.example.sample.fruits**\n\n\u3053\u306e\u30ed\u30ac\u30fc\u306e\u30a2\u30da\u30f3\u30c0\u30fc\u306f`STDERR`\u3067\u3059\u304c\u3001\u7956\u5148\u306e\u30ed\u30ac\u30fc\u306e\u30a2\u30da\u30f3\u30c0\u30fc\u3082\u5f15\u304d\u7d99\u3044\u3067\u3044\u308b\u306e\u3067`STDOUT_A`\u3078\u3082\u51fa\u529b\u3057\u307e\u3059\u3002\n\n```xml\n<logger name=\"com.example.sample.fruits\" level=\"INFO\">\n  <appender-ref ref=\"STDERR\"/>\n</logger>\n```\n\n```java:Budou.java\npackage com.example.sample.fruits;\n\npublic class Budou {\n  private static final Logger logger = LoggerFactory.getLogger(Budou.class);\n  public static void doExec() {\n    logger.debug(\"Budou debug\");\n    logger.info(\"Budou info current:{}\", new Date());\n    logger.warn(\"Budou warn\");\n    logger.error(\"Budou error\");\n    Kyohou.doExec();\n  }\n}\n```\n\n```java:Kyohou.java\npackage com.example.sample.fruits.budou;\n\npublic class Kyohou {\n  private static final Logger logger = LoggerFactory.getLogger(Kyohou.class);\n  public static void doExec() {\n    logger.debug(\"Budou.Kyohou debug\");\n    logger.info(\"Budou.Kyohou info current:{}\", new Date());\n    logger.warn(\"Budou.Kyohou warn\");\n    logger.error(\"Budou.Kyohou error\");\n  }\n}\n```\n\n|logger name                      |level   |STDOUT_A |STDOUT_B |STRERR   |\n|:--------------------------------|:------:|:-------:|:-------:|:-------:|\n|com.example.sample.fruits        |DEBUG   |         |         |         |\n|                                 |INFO    |    \u25cb    |         |         |\n|                                 |WARN    |    \u25cb    |         |         |\n|                                 |ERROR   |    \u25cb    |         |    \u25cb    |\n|com.example.sample.fruits.budou  |DEBUG   |         |         |         |\n|                                 |INFO    |    \u25cb    |         |         |\n|                                 |WARN    |    \u25cb    |         |         |\n|                                 |ERROR   |    \u25cb    |         |    \u25cb    |\n\n\n**\u30ed\u30ac\u30fc\uff1acom.example.sample.animal**\n\n\u3053\u306e\u30ed\u30ac\u30fc\u306e\u30a2\u30da\u30f3\u30c0\u30fc\u306f`STDERR`\u3067\u3059\u304c\u3001\u7956\u5148\u306e\u30ed\u30ac\u30fc\u306e\u30a2\u30da\u30f3\u30c0\u30fc\u3082\u5f15\u304d\u7d99\u3044\u3067\u3044\u308b\u306e\u3067`STDOUT_A`\u3078\u3082\u51fa\u529b\u3057\u307e\u3059\u3002\n\n```xml\n<logger name=\"com.example.sample.animal\" level=\"WARN\">\n  <appender-ref ref=\"STDERR\"/>\n</logger>\n```\n\n\u307e\u305f\u3001\u30ed\u30b0\u30ec\u30d9\u30eb\u304c`WARN`\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u4e0b\u8a18\u306eMarkerFilter\u306b\u30de\u30c3\u30c1\u3059\u308b\u30ed\u30b0\u306f\u30ed\u30b0\u30ec\u30d9\u30eb\u306b\u95a2\u4fc2\u306a\u304f\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```xml\n<turboFilter class=\"ch.qos.logback.classic.turbo.MarkerFilter\">\n  <Marker>com.example.sample.animal.Cat</Marker>\n  <OnMatch>ACCEPT</OnMatch>\n</turboFilter>\n```\n\n```java:Cat.java\npackage com.example.sample.animal;\n\npublic class Cat {\n  private static final Logger logger = LoggerFactory.getLogger(Cat.class);\n  private static final Marker marker = MarkerFactory.getMarker(Cat.class.getCanonicalName());\n  public static void doExec() {\n    logger.debug(\"Cat debug\");\n    logger.info(\"Cat info current:{}\", new Date());\n    logger.warn(\"Cat warn\");\n    logger.error(\"Cat error\");\n    logger.info(marker, \"marker:{}\", marker.getName());\n    Mike.doExec();\n  }\n}\n```\n\n```java:Dog.java\npackage com.example.sample.animal;\n\npublic class Dog {\n  private static final Logger logger = LoggerFactory.getLogger(Dog.class);\n  private static final Marker marker = MarkerFactory.getMarker(Dog.class.getCanonicalName());\n  public static void doExec() {\n    logger.debug(\"Dog debug\");\n    logger.info(\"Dog info current:{}\", new Date());\n    logger.warn(\"Dog warn\");\n    logger.error(\"Dog error\");\n    logger.info(marker, \"marker:{}\", marker.getName());\n    Shiba.doExec();\n  }\n}\n```\n\n```java:Mike.java\npackage com.example.sample.animal.cat;\n\npublic class Mike {\n  private static final Logger logger = LoggerFactory.getLogger(Mike.class);\n  public static void doExec() {\n    logger.debug(\"Cat.Mike debug\");\n    logger.info(\"Cat.Mike info current:{}\", new Date());\n    logger.warn(\"Cat.Mike warn\");\n    logger.error(\"Cat.Mike error\");\n  }\n}\n```\n\n|logger name                      |level   |STDOUT_A |STDOUT_B |STRERR   |\n|:--------------------------------|:------:|:-------:|:-------:|:-------:|\n|com.example.sample.animal        |DEBUG   |         |         |         |\n|                                 |INFO    |    \u25b3   |         |         |\n|                                 |WARN    |    \u25cb    |         |         |\n|                                 |ERROR   |    \u25cb    |         |    \u25cb    |\n|com.example.sample.animal.cat    |DEBUG   |         |         |         |\n|                                 |INFO    |         |         |         |\n|                                 |WARN    |    \u25cb    |         |         |\n|                                 |ERROR   |    \u25cb    |         |    \u25cb    |\n\n\n**\u30ed\u30ac\u30fc\uff1acom.example.sample.animal.dog**\n\n\u3053\u306e\u30ed\u30ac\u30fc\u306e\u30a2\u30da\u30f3\u30c0\u30fc`STDOUT_B`\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u304c\u3001`additivity=false`\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u7956\u5148\u306e\u30ed\u30ac\u30fc(STDOUT_A)\u306b\u306f\u51fa\u529b\u3055\u308c\u307e\u305b\u3093\u3002\n\u3053\u306e\u6307\u5b9a\u3092\u5916\u3059\u3068\u7956\u5148\u306e\u30ed\u30ac\u30fc\u306b\u3082\u51fa\u529b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```xml\n<logger name=\"com.example.sample.animal.dog\" level=\"DEBUG\" additivity=\"false\">\n  <appender-ref ref=\"STDOUT_B\"/>\n</logger>\n```\n\n```java:Shiba.java\npackage com.example.sample.animal.dog;\n\npublic class Shiba {\n  private static final Logger logger = LoggerFactory.getLogger(Shiba.class);\n  public static void doExec() {\n    logger.debug(\"Dog.Shiba debug\");\n    logger.info(\"Dog.Shiba info current:{}\", new Date());\n    logger.warn(\"Dog.Shiba warn\");\n    logger.error(\"Dog.Shiba error\");\n  }\n}\n```\n\n|logger name                      |level   |STDOUT_A |STDOUT_B |STRERR   |\n|:--------------------------------|:------:|:-------:|:-------:|:-------:|\n|com.example.sample.animal.dog    |DEBUG   |         |    \u25cb    |         |\n|                                 |INFO    |         |    \u25cb    |         |\n|                                 |WARN    |         |    \u25cb    |         |\n|                                 |ERROR   |         |    \u25cb    |         |\n\n\n## logback\u4ed5\u69d8\u307e\u3068\u3081\n\n**\u53c2\u8003**\n\n\u4e0b\u8a18\u306e\u30b5\u30a4\u30c8\u306e\u5185\u5bb9\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\nLOGBack\n\n* [LOGBack] (http://logback.qos.ch/)\n* [Logback \u30de\u30cb\u30e5\u30a2\u30eb] (http://logback.qos.ch/manual/index_ja.html)\n\nQiita\n\n* [Logback\u3067\u30d5\u30a1\u30a4\u30eb\u306b\u30ed\u30b0\u3092\u5410\u304f\u6642\u306e\u57fa\u672c\u8a2d\u5b9a] (http://qiita.com/joe_hrmn/items/356f1e2b05cb90241414)\n* [SLF4J/Logback\u3067JSON\u5f62\u5f0f\u306e\u30ed\u30b0\u51fa\u529b] (http://qiita.com/ephemeralsnow/items/10d362286aaa55120822)\n\n### appender\n\n* name\u5c5e\u6027(\u5fc5\u9808)\u3002\u30a2\u30da\u30f3\u30c0\u30fc\u306e\u540d\u524d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n* class\u5c5e\u6027(\u5fc5\u9808)\u3002\u30a2\u30da\u30f3\u30c0\u30fc\u30af\u30e9\u30b9\u306e\u5b8c\u5168\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n* appender\u306b\u306f\u4efb\u610f\u306e\u6570\u306elayout\u3001encoder\u3001filter\u3092\u542b\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n**appender\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059**\n\n* ConsoleAppender\n* FileAppender\n* RollingFileAppender\n\n#### ConsoleAppender\n\nFQCN:`ch.qos.logback.core.ConsoleAppender`\nAPI: [Class ConsoleAppender<E>] (http://logback.qos.ch/apidocs/ch/qos/logback/core/ConsoleAppender.html)\n\n\u30ed\u30b0\u3092\u30b3\u30f3\u30bd\u30fc\u30eb(System.out\u304bSystem.err)\u306b\u51fa\u529b\u3057\u307e\u3059\u3002\n\n|property name       |type             |Description                                       |\n|:-------------------|:----------------|:-------------------------------------------------|\n|`encoder`           |Encoder          |default `PatternLayoutEncoder`.                   |\n|`target`            |String           |default `System.out`. `System.out` or `System.err`|\n|`withJasi`          |boolean          |default `false`.                                  |\n\n```xml:ConsoleAppender\n<appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\n  <encoder>\n    <pattern>%d{yyyy-MM-dd HH:mm:ss} %-5level [%thread] %logger{35} - %msg %n</pattern>\n  </encoder>\n  <target>System.out</target>\n  <withJasi>false</withJasi>\n</appender>\n```\n\n#### FileAppender\n\nFQCN:`ch.qos.logback.core.FileAppender`\nAPI: [Class FileAppender<E>] (http://logback.qos.ch/apidocs/ch/qos/logback/core/FileAppender.html)\n\n\u30ed\u30b0\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3057\u307e\u3059\u3002\n\n|property name       |type             |Description                                       |\n|:-------------------|:----------------|:-------------------------------------------------|\n|`file`              |String           |\u51fa\u529b\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u540d.                                 |\n|`append`            |boolean          |default `true`.true\u306f\u65e2\u5b58\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u8a18\u3057\u307e\u3059.      |\n|`encoder`           |Encoder          |default `PatternLayoutEncoder`.                   |\n|`prudent`           |boolean          |default `false`.                                  |\n\n```xml:FileAppender\n<appender name=\"FILE\" class=\"ch.qos.logback.core.FileAppender\">\n  <file>app.log</file>\n  <append>true</append>\n  <encoder>\n    <pattern>%d{yyyy-MM-dd HH:mm:ss} %-5le [%t] %lo{36} - %msg %n</pattern>\n  </encoder>\n  <prudent>false</prudent>\n</appender>\n```\n\n#### RollingFileAppender\n\nFQCN:`ch.qos.logback.core.rolling.RollingFileAppender`\nAPI: [Class RollingFileAppender<E>] (http://logback.qos.ch/apidocs/ch/qos/logback/core/rolling/RollingFileAppender.html)\n\n\u30ed\u30b0\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3057\u307e\u3059\u3002\u6307\u5b9a\u3057\u305f\u6761\u4ef6\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3067\u304d\u307e\u3059\u3002\n\u30a2\u30fc\u30ab\u30a4\u30d6\u306e\u6761\u4ef6\u3092`rollingPolicy`\u3068`triggeringPolicy`\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n|property name       |type             |Description                                       |\n|:-------------------|:----------------|:-------------------------------------------------|\n|`file`              |String           |\u51fa\u529b\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u540d.                                 |\n|`append`            |boolean          |default `true`. true\u306f\u65e2\u5b58\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u8a18\u3057\u307e\u3059.      |\n|`encoder`           |Encoder          |default `PatternLayoutEncoder`.                    |\n|`rollingPolicy`     |RollingPolicy    |RollingPolicy\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u305f\u30af\u30e9\u30b9.        |\n|`triggeringPolicy`  |TriggeringPolicy |TriggeringPolicy\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u305f\u30af\u30e9\u30b9.     |\n|`prudent`           |boolean          |default `false`.                                   |\n\n##### RollingPolicy\n\n**RollingPolicy\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059**\n\n* TimeBasedRollingPolicy\n* FixedWindowRollingPolicy\n\n###### TimeBasedRollingPolicy\n\nFQCN:`ch.qos.logback.core.rolling.TimeBasedRollingPolicy`\nAPI: [Class TimeBasedRollingPolicy<E>] (http://logback.qos.ch/apidocs/ch/qos/logback/core/rolling/TimeBasedRollingPolicy.html)\n\n* \u6642\u9593\u30d9\u30fc\u30b9\u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u884c\u3044\u307e\u3059\u3002\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u306f%d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n* RollingPolicy\u3068TriggeringPolicy\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\n* \u30d1\u30bf\u30fc\u30f3\u306b%d\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n|property name        |type             |Description                                       |\n|:--------------------|:----------------|:-------------------------------------------------|\n|`fileNamePattern`    |String           |\u30a2\u30fc\u30ab\u30a4\u30d6\u30d5\u30a1\u30a4\u30eb\u540d. %d\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059.       |\n|`maxHistory`         |int              |\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059.\u4fdd\u5b58\u3059\u308b\u30a2\u30fc\u30ab\u30a4\u30d6\u30d5\u30a1\u30a4\u30eb\u306e\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059. \u3053\u306e\u6570\u5024\u3092\u8d85\u3048\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u524a\u9664\u3057\u307e\u3059.|\n|`cleanHistoryOnStart`|boolean          |default `false`.    |\n\n\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u306f%d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n|pattern                             |Description                                 |\n|:-----------------------------------|:-------------------------------------------|\n|`%d`                                |default pattern of yyyy-MM-dd.              |\n|`%d{yyyy-MM}`                       |\u6708\u521d\u3081\u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059.                     |\n|`%d{yyyy-ww}`                       |\u9031\u521d\u3081\u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059. \u9031\u521d\u3081\u304c\u65e5\u66dc\u306e\u5834\u5408\u306f\u65e5\u66dc\u65e5\u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059. |\n|`%d{yyyy-MM-dd_HH-mm}`              |1\u5206\u3054\u3068\u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059.                    |\n|`%d{yyyy-MM-dd_HH-mm, Asia/Tokyo}`  |\u540c\u4e0a\u3067\u3059. \u5f15\u6570\u306b\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059.     |\n|`%d{yyyy-MM,aux}/%d`                |\u5e74\u6708\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(yyyy-MM)\u3078\u65e5\u3054\u3068\u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059.|\n\n```xml:TimeBasedRollingPolicy\n<appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n  <file>app.log</file>\n  <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n    <fileNamePattern>app.%d{yyyy-MM-dd}.log</fileNamePattern>\n    <maxHistory>30</maxHistory>\n  </rollingPolicy>\n  <encoder>\n    <pattern>%-5r %d [%t] %-5le %lo{36} - %msg %n</pattern>\n  </encoder>\n</appender>\n```\n\n**aux**\n\n1\u3064\u76ee\u306e%d\u306e\u5f15\u6570\u306baux\u3092\u6307\u5b9a\u3059\u308b\u3068\u305d\u306e\u30d1\u30bf\u30fc\u30f3\u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u306f2\u3064\u76ee\u306e%d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```xml:aux\n<rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n  <fileNamePattern>/var/logs/%d{yyyy-MM-dd,aux}/app_access_%d{yyyy-MM-dd_HH}.log</fileNamePattern>\n</rollingPolicy>\n```\n\n\u3053\u306e\u4f8b\u3067\u306f\u3001/var/logs\u4ee5\u4e0b\u306b`yyyy-MM-dd`\u30d1\u30bf\u30fc\u30f3\u3067\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30781\u6642\u9593\u3054\u3068\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059\u3002\n\n```text:image\n/var/logs\n      |\n      +--- /2015-06-20\n      |          |\n      |          +--- app_access_2015-06-20_00.log\n      |          +--- app_access_2015-06-20_01.log\n      |          |\n      |          +--- app_access_2015-06-20_23.log\n      |\n      +--- /2015/06/21\n      |          |\n      |          +--- app_access_2015-06-21_00.log\n      |          +--- app_access_2015-06-21_01.log\n```\n\n###### SizeAndTimeBasedFNATP\n\nFQCN:`ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP`\nAPI: [Class SizeAndTimeBasedFNATP<E>] (http://logback.qos.ch/apidocs/ch/qos/logback/core/rolling/SizeAndTimeBasedFNATP.html)\n\n\u6642\u9593\u3068\u30b5\u30a4\u30ba\u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u884c\u3044\u307e\u3059\u3002\n\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u6642\u9593\u304c\u6765\u308b\u524d\u306b\u6307\u5b9a\u30b5\u30a4\u30ba\u306b\u9054\u3057\u305f\u5834\u5408\u306f\u9023\u756a\u3092\u4ed8\u3051\u3066\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u884c\u3044\u307e\u3059\u3002\n\n* TimeBasedRollingPolicy\u306e\u30b5\u30d6\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u3059\u3002\n* \u30d1\u30bf\u30fc\u30f3\u306b%d\u3068%i\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n* %i\u306f0\u304b\u3089\u59cb\u307e\u308a\u307e\u3059\u3002\n\n|property name       |type             |Description                                       |\n|:-------------------|:----------------|:-------------------------------------------------|\n|maxFileSize         |String           |\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306e\u4e0a\u9650\u3092\u6307\u5b9a\u3057\u307e\u3059.                    |\n\n```xml:SizeAndTimeBasedFNATP\n<appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n  <file>app.log</file>\n  <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n    <fileNamePattern>app-%d{yyyy-MM-dd}.%i.log</fileNamePattern>\n    <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n      <maxFileSize>100MB</maxFileSize>\n    </timeBasedFileNamingAndTriggeringPolicy>\n  </rollingPolicy>\n  <encoder>\n    <pattern>%-5r %d [%t] %-5le %lo{36} - %msg %n</pattern>\n  </encoder>\n</appender>\n```\n\n###### FixedWindowRollingPolicy\n\nFQCN:`ch.qos.logback.core.rolling.FixedWindowRollingPolicy`\nAPI: [Class FixedWindowRollingPolicy] (http://logback.qos.ch/apidocs/ch/qos/logback/core/rolling/FixedWindowRollingPolicy.html)\n\n\u30d5\u30a1\u30a4\u30eb\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4ed8\u3051\u3066\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u7bc4\u56f2\u3067\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u884c\u3044\u307e\u3059\u3002\n\n* RollingPolicy\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\n* TriggeringPolicy\u3068\u4f75\u7528\u3057\u307e\u3059\u3002\n* \u30d1\u30bf\u30fc\u30f3\u306b%i\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n* %i\u306e\u51fa\u529b\u7d50\u679c\u306fminIdex\u304b\u3089maxIndex\u306e\u7bc4\u56f2\u306b\u306a\u308a\u307e\u3059\u3002\n\n|property name       |type             |Description                                       |\n|:-------------------|:----------------|:-------------------------------------------------|\n|`minIndex`          |int              |\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u6700\u5c0f\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059.                    |\n|`maxIndex`          |int              |\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u6700\u5927\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059.                    |\n|`fileNamePattern`   |String           |\u30a2\u30fc\u30ab\u30a4\u30d6\u30d5\u30a1\u30a4\u30eb\u540d. %i\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059.       |\n\n```xml:FixedWindowRollingPolicy\n<appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n  <file>app.log</file>\n  <rollingPolicy class=\"ch.qos.logback.core.rolling.FixedWindowRollingPolicy\">\n    <fileNamePattern>app.%i.log</fileNamePattern>\n    <minIndex>1</minIndex>\n    <maxIndex>3</maxIndex>\n  </rollingPolicy>\n  <triggeringPolicy class=\"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy\">\n    <maxFileSize>5MB</maxFileSize>\n  </triggeringPolicy>\n  <encoder>\n    <pattern>%-5r %d [%t] %-5le %lo{36} - %msg %n</pattern>\n  </encoder>\n</appender>\n```\n\n\u3053\u306e\u4f8b\u3067\u306f\u30a2\u30fc\u30ab\u30a4\u30d6\u306f\u4e0b\u8a18\u306e3\u30d5\u30a1\u30a4\u30eb\u3092\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3057\u307e\u3059\u3002\n\n* app.1.log\n* app.2.log\n* app.3.log\n\n##### TriggeringPolicy\n\n**TriggeringPolicy\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059**\n\n* TimeBasedRollingPolicy\n* SizeBasedTriggeringPolicy\n\n###### TimeBasedRollingPolicy\n\n\u6642\u9593\u30d9\u30fc\u30b9\u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u901a\u77e5\u3057\u307e\u3059\u3002\n(RollingFileAppender\u3067\u8aac\u660e\u6e08\u307f\u3067\u3059\u3002)\n\n###### SizeBasedTriggeringPolicy\n\nFQCN:`ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy`\nAPI: [Class SizeBasedTriggeringPolicy<E>] (http://logback.qos.ch/apidocs/ch/qos/logback/core/rolling/SizeBasedTriggeringPolicy.html)\n\n\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u30d9\u30fc\u30b9\u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u901a\u77e5\u3057\u307e\u3059\u3002\n(FixedWindowRollingPolicy\u3067\u8aac\u660e\u6e08\u307f\u3067\u3059\u3002)\n\n|property name       |type             |Description                                       |\n|:-------------------|:----------------|:-------------------------------------------------|\n|`maxFileSize`       |String           |\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306e\u4e0a\u9650\u3092\u6307\u5b9a\u3057\u307e\u3059.                    |\n\n### layout\n\n\u901a\u5e38\u306flayout\u3092\u76f4\u63a5\u4f7f\u7528\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002layout\u306e\u6a5f\u80fd\u306fencoder\u304c\u4ee3\u308f\u308a\u306b\u884c\u3044\u307e\u3059\u3002\npattern\u306b\u3001\u5909\u63db\u30d1\u30bf\u30fc\u30f3\u6587\u5b57\u5217\u3068\u547c\u3076\u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u5909\u63db\u30d1\u30bf\u30fc\u30f3\u6587\u5b57\u5217\u306f\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\u3001\u5909\u63db\u6307\u5b9a\u5b50\u3001\u66f8\u5f0f\u4fee\u98fe\u5b50\u306a\u3069\u3067\u69cb\u6210\u3055\u308c\u307e\u3059\u3002\n\n#### PatternLayout\n\nFQCN:`ch.qos.logback.classic.PatternLayout`\nAPI: [Class PatternLayout] (http://logback.qos.ch/apidocs/ch/qos/logback/classic/PatternLayout.html)\n\n\u3053\u308c\u306f\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306e\u8a18\u8ff0\u65b9\u6cd5\u3067\u3059\u3002\n\n```xml:PatternLayout\n<layout>\n  <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} [%file:%line] - %msg %n</pattern>\n</layout>\n```\n\n\u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306fencoder\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\nencoder\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067`PatternLayoutEncoder`\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n```xml:encoder\n<encoder>\n  <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} [%file:%line] - %msg %n</pattern>\n</encoder>\n```\n\n##### \u5909\u63db\u6307\u5b9a\u5b50\n\n|\u5909\u63db\u6307\u5b9a\u5b50       |\u77ed\u7e2e\u540d     |\u30aa\u30d7\u30b7\u30e7\u30f3|\u51fa\u529b                        |\u901f\u5ea6|\n|:---------------|:----------|:--------|:---------------------------|:--|\n|`logger`        |`lo`, `c`  |`length` |\u30ed\u30ac\u30fc\u306e\u540d\u524d                 |   |\n|`level`         |`le`, `p`  |         |\u30ed\u30b0\u30ec\u30d9\u30eb                  |   |\n|`thread`        |`t`        |         |\u30b9\u30ec\u30c3\u30c9                    |   |\n|`date`          |`d         |`pattern`|\u30ed\u30b0\u306e\u51fa\u529b\u65e5\u6642               |   |\n|`message`       |`msg`, `m` |         |\u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8               |   |\n|`n`             |           |         |\u6539\u884c\u30b3\u30fc\u30c9                   |   |\n|                |           |         |                            |   |\n|`contextName`   |`cn`       |         |\u30ed\u30ae\u30f3\u30b0\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u540d        |   |\n|`marker`        |           |         |\u30de\u30fc\u30ab\u30fc\u306e\u540d\u524d               |   |\n|                |           |         |                            |   |\n|`relative`      |`r`        |         |\u7d4c\u904e\u6642\u9593(\u30df\u30ea\u79d2)             |   |\n|`property`      |           |`key`    |\u30d7\u30ed\u30d1\u30c6\u30a3                   |   |\n|`replace(p)`    |           |`r`, `t` |\u7f6e\u63db\u5f8c\u306e\u6587\u5b57\u5217               |   |\n|                |           |         |                            |   |\n|`caller`        |           |`depth`  |\u4f4d\u7f6e\u60c5\u5831                     |   |\n|`file`          |`F`        |         |\u30af\u30e9\u30b9\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u540d |\u4f4e\u901f|\n|`line`          |`L`        |         |\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u4e2d\u306e\u884c\u756a\u53f7 |\u4f4e\u901f|\n|`class`         |`C`        |`length `|\u30af\u30e9\u30b9\u306e\u5b8c\u5168\u540d               |\u4f4e\u901f|\n|`method`        |`M`        |         |\u30e1\u30bd\u30c3\u30c9\u540d                   |\u4f4e\u901f|\n|                |           |         |                            |   |\n|`exception`     |`ex`       |`depth`  |\u4f8b\u5916                         |   |\n|`rootException` |`rEx`      |`depth`  |\u4f8b\u5916                         |   |\n|`xException`    |`xEx`      |`depth`  |\u4f8b\u5916                         |   |\n|`nopexception`  |`nopex`    |         |\u4f8b\u5916\u3092\u51fa\u529b\u3057\u306a\u3044              |   |\n\n##### \u66f8\u5f0f\u4fee\u98fe\u5b50\n\n\u66f8\u5f0f\u4fee\u98fe\u5b50\u3092\u4f7f\u3046\u3068\u51fa\u529b\u3059\u308b\u30c7\u30fc\u30bf\u306e\u5e45\u3084\u6587\u5b57\u63c3\u3048\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\u66f8\u5f0f\u4fee\u98fe\u5b50\u306f%\u8a18\u53f7\u3068\u5909\u63db\u6307\u5b9a\u5b50\u306e\u9593\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u4f8b\u3067\u306f\u6700\u5c0f\u5e4520\u3001\u6700\u5927\u5e4530\u306e\u7bc4\u56f2\u3067\u30ed\u30ac\u30fc\u306e\u540d\u524d\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\u30ed\u30ac\u30fc\u304c20\u6587\u5b57\u672a\u6e80\u306e\u5834\u5408\u306f\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u3092\u53f3\u5074\u306b\u30d1\u30c7\u30a3\u30f3\u30b0\u3057\u306620\u6587\u5b57\u306b\u8abf\u6574\u3057\u307e\u3059\u3002(\u5de6\u63c3\u3048)\n\n```xml:\u66f8\u5f0f\u4fee\u98fe\u5b50\n%-20.30logger\n```\n\n|option |description                |\n|:------|:--------------------------|\n|`-`    |\u5de6\u63c3\u3048\u306b\u3057\u307e\u3059.             |\n|`10`   |\u6700\u5c0f\u5e4510\u6587\u5b57\u3067\u8db3\u308a\u306a\u3044\u5206\u306f\u5148\u982d\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u3092\u4ed8\u52a0\u3057\u307e\u3059(\u53f3\u63c3\u3048\u306b).|\n|`-10`  |\u6700\u5c0f\u5e4510\u6587\u5b57\u3067\u8db3\u308a\u306a\u3044\u5206\u306f\u672b\u5c3e\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u3092\u4ed8\u52a0\u3057\u307e\u3059(\u5de6\u63c3\u3048\u306b).|\n|`.20`  |\u6700\u5927\u5e4520\u6587\u5b57\u3067\u8d85\u3048\u305f\u5206\u306f\u5148\u982d\u304b\u3089\u524a\u9664\u3057\u307e\u3059.|\n|`.-20` |\u6700\u5927\u5e4520\u6587\u5b57\u3067\u8d85\u3048\u305f\u5206\u306f\u672b\u5c3e\u304b\u3089\u524a\u9664\u3057\u307e\u3059.|\n\n**date**\n\n%date\u307e\u305f\u306f%d\u5909\u63db\u6307\u5b9a\u5b50\u3067\u65e5\u4ed8\u3092\u51fa\u529b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5f15\u6570\u306bfomart\u3068\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n|pattern                                      |output                    |\n|:--------------------------------------------|:-------------------------|\n|`%date`                                      |2015-06-22 12:34:56,789   |\n|`%date{yyyy-MM-dd}`                          |2015-06-22                |\n|`%date{yyyy-MM-dd HH:mm:ss.SSS}`             |2015-06-22 12:34:56.789   |\n|`%date{yyyy-MM-dd HH:mm:ss.SSS, Asia/Tokyo}` |\u540c\u4e0a, \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u6307\u5b9a\u3042\u308a. |\n\n[Java8 - SimpleDateFormat] (http://docs.oracle.com/javase/jp/8/api/java/text/SimpleDateFormat.html)\n\n**replace(p)**\n\n\u6587\u5b57\u5217\u306e\u7f6e\u63db\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u4f8b\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n\n```xml:replace\n%repalce(%msg){'\\s',''}\n```\n\n\u3053\u306e\u4f8b\u306f\u3001\u30ed\u30ac\u30fc\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u306e`.`\u3092`/`\u306b\u7f6e\u63db\u3057\u307e\u3059\u3002\n\n```xml:replace\n%replace(%logger %msg){'\\.','/'}\n```\n\n**exception**\n\n\u4f8b\u5916\u3092\u51fa\u529b\u3059\u308b\u306e\u306b\u7279\u5225\u306a\u8a2d\u5b9a\u306f\u4e0d\u8981\u3067\u3059\u3002\n\u30ed\u30ac\u30fc\u306e\u5f15\u6570\u306b\u4f8b\u5916\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\u3060\u3051\u3067\u4f8b\u5916\u306e\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```java:exception(\u629c\u7c8b)\npublic class Ringo {\n  private static final Logger logger = LoggerFactory.getLogger(Ringo.class);\n\n  public static void doExec() {\n\n    ...\u7701\u7565...\n\n    Exception error = new Exception(\"\u4f8b\u5916\u30e1\u30c3\u30bb\u30fc\u30b8\");\n    logger.error(\"\u308a\u3093\u3054\u306e\u4f8b\u5916\u30c6\u30b9\u30c8\",error);\n  }\n}\n```\n\n\u5909\u63db\u30d1\u30bf\u30fc\u30f3\u6587\u5b57\u5217\u306b\u3082\u4f8b\u5916\u7528\u306e\u5909\u63db\u6307\u5b9a\u5b50\u3092\u542b\u3081\u306a\u304f\u3066\u3082\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```xml:pattern\n<encoder>\n   <pattern>%-5r %date [%t] %-5le %-30.30lo{20} - %msg %n</pattern>\n</encoder>\n```\n\n```text:output\n291   2015-06-22 10:40:43,763 [main] ERROR c.e.s.fruits.Ringo             - \u308a\u3093\u3054\u306e\u4f8b\u5916\u30c6\u30b9\u30c8 \njava.lang.Exception: \u4f8b\u5916\u30e1\u30c3\u30bb\u30fc\u30b8\n\tat com.example.sample.fruits.Ringo.doExec(Ringo.java:26) ~[classes/:na]\n\tat com.example.sample.Main.Sample1(Main.java:21) [classes/:na]\n\tat com.example.lbsample.App.main(App.java:21) [classes/:na]\n```\n\n\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u306e\u51fa\u529b\u3092\u5236\u5fa1\u3057\u305f\u3044\u5834\u5408\u306f`%ex`,`%xEx`,`%rEx`\u306a\u3069\u306e\u5909\u63db\u6307\u5b9a\u5b50\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n**coloring**\n\n\u8272\u4ed8\u3051\u7528\u306e\u5909\u63db\u6307\u5b9a\u5b50\u3092\u4f7f\u3063\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8272\u3065\u3051\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n`%highlight`\u306e\u4ed6\u306b\u4e0b\u8868\u306e\u8272\u304c\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n|regular  |bold         |\n|:--------|:------------|\n|%black   |             |\n|%red     |%boldRed     |\n|%green   |%boldGreen   |\n|%yellow  |%boldYellow  |\n|%blue    |%boldBlue    |\n|%magenta |%boldMagenta |\n|%cyan    |%boldCyan    |\n|%white   |%boldWhite   |\n|%gray    |             |\n\n```xml:coloring\n<pattern>%d{yyyy-MM-dd HH:mm:ss} - [%t] - %highlight(%-5le) - %green(%-30lo{20}) - %msg %n</pattern>\n```\n\n### encoder\n\n**encoder\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059**\n\n* LayoutWrappingEncoder\n* PatternLayoutEncoder\n\n#### LayoutWrappingEncoder\n\nFQCN:`ch.qos.logback.core.encoder.LayoutWrappingEncoder`\nAPI: [Class LayoutWrappingEncoder<E>] (http://logback.qos.ch/apidocs/ch/qos/logback/core/encoder/LayoutWrappingEncoder.html)\n\n\u81ea\u4f5c\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306a\u3069\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n|property name       |type             |Description                                       |\n|:-------------------|:----------------|:-------------------------------------------------|\n|`pattern`           |String           |\u5909\u63db\u30d1\u30bf\u30fc\u30f3\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u307e\u3059.  |\n|`layout`            |Layout           |default `PatternLayout`.      |\n|`immediateFlush`    |boolean          |default `true`. false\u3092\u6307\u5b9a\u3059\u308b\u3068\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u66f8\u304d\u8fbc\u307f\u3092\u30d0\u30c3\u30d5\u30a1\u30ea\u30f3\u30b0\u3057\u307e\u3059. |\n|`charset`           |Charset          |\u6587\u5b57\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059.         |\n\n```xml:LayoutWrappingEncoder\n<encoder class=\"ch.qos.logback.core.encoder.LayoutWrappingEncoder\">\n  <layout class=\"chapters.layouts.MySampleLayout\" />\n</encoder>\n```\n\n#### PatternLayoutEncoder\n\nFQCN:`ch.qos.logback.core.encoder.PatternLayoutEncoder`\nAPI: [Class PatternLayoutEncoder] (http://logback.qos.ch/apidocs/ch/qos/logback/classic/encoder/PatternLayoutEncoder.html)\n\n`PatternLayoutEncoder`\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u306a\u306e\u3067class\u306b\u6307\u5b9a\u3057\u306a\u304f\u3066\u3082\u304b\u307e\u3044\u307e\u305b\u3093\u3002\n\n|property name       |type             |Description                                       |\n|:-------------------|:----------------|:-------------------------------------------------|\n|`pattern`           |String           |\u5909\u63db\u30d1\u30bf\u30fc\u30f3\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u307e\u3059.  |\n|`layout`            |Layout           |default `PatternLayout`.       |\n|`immediateFlush`    |boolean          |default `true`.  false\u3092\u6307\u5b9a\u3059\u308b\u3068\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u66f8\u304d\u8fbc\u307f\u3092\u30d0\u30c3\u30d5\u30a1\u30ea\u30f3\u30b0\u3057\u307e\u3059.   |\n|`charset`           |Charset          |\u6587\u5b57\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059.          |\n\n```xml:default\n<encoder>\n  <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} [%file:%line] - %msg %n</pattern>\n  <immediateFlush>true</immediateFlush>\n</encoder>\n```\n\n\u3053\u308c\u306f\u4e0a\u8a18\u306e\u4f8b\u3068\u540c\u3058\u610f\u5473\u306b\u306a\u308a\u307e\u3059\u3002\n\n```xml:PatternLayoutEncoder\n<encoder class=\"ch.qos.logback.core.encoder.PatternLayoutEncoder\">\n  <pattern>%-5r %d{yyyyMMdd HH:mm:ss.SSS} [%t] %-5le %lo{36} [%file:%line] - %msg %n</pattern>\n</encoder>\n```\n\n### filter\n\n**filter\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059**\n\n* LevelFilter\n* ThresholdFilter\n* EvaluatorFilter\n\n#### LevelFilter\n\nFQCN:`ch.qos.logback.classic.filter.LevelFilter`\nAPI: [Class LevelFilter] (http://logback.qos.ch/apidocs/ch/qos/logback/classic/filter/LevelFilter.html)\n\n\u30ed\u30b0\u30ec\u30d9\u30eb\u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\u6307\u5b9a\u3057\u305f\u30ec\u30d9\u30eb\u306e\u30ed\u30b0\u306f`onMatch`\u3067\u3001\u305d\u308c\u4ee5\u5916\u306e\u30ec\u30d9\u30eb\u306e\u30ed\u30b0\u306f`onMismatch`\u3067\u51fa\u529b\u3059\u308b\u304b\u6c7a\u5b9a\u3057\u307e\u3059\u3002\n\n[Enum FilterReply] (http://logback.qos.ch/apidocs/ch/qos/logback/core/spi/FilterReply.html)\n\n```xml:LevelFilter\n<filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n  <level>INFO</level>\n  <onMatch>ACCEPT</onMatch>\n  <onMismatch>DENY</onMismatch>\n</filter>\n```\n\n#### ThresholdFilter\n\nFQCN:`ch.qos.logback.classic.filter.ThresholdFilter`\nAPI: [Class ThresholdFilter] (http://logback.qos.ch/apidocs/ch/qos/logback/classic/filter/ThresholdFilter.html)\n\n\u30ed\u30b0\u30ec\u30d9\u30eb\u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\u6307\u5b9a\u3057\u305f\u30ec\u30d9\u30eb\u4ee5\u4e0a\u306e\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```xml:ThresholdFilter\n<filter class=\"ch.qos.logback.classic.filter.ThresholdFilter\">\n  <level>ERROR</level>\n</filter>\n```\n\n#### EvaluatorFilter\n\nFQCN:`ch.qos.logback.core.filter.EvaluatorFilter`\nAPI: [Class EvaluatorFilter<E>] (http://logback.qos.ch/apidocs/ch/qos/logback/core/filter/EvaluatorFilter.html)\n\n\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u306fEventEvaluator\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u305f\u30af\u30e9\u30b9\u3067\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u3067\u884c\u3044\u307e\u3059\u3002\n\n### TurboFilters\n\n**TurboFilters\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059**\n\n* MDCFilter\n* MarkerFilter\n* DuplicateMessageFilter\n\n##### MDCFilter\n\nFQCN:`ch.qos.logback.classic.turbo.MDCFilter`\nAPI: [Class MDC] (http://logback.qos.ch/apidocs/ch/qos/logback/classic/MDC.html)\n\n[Chapter 8: Mapped Diagnostic Context] (http://logback.qos.ch/manual/mdc.html)\n\n##### MarkerFilter\n\nFQCN:`ch.qos.logback.classic.turbo.MarkerFilter`\nAPI: [Class MarkerFilter] (http://logback.qos.ch/apidocs/ch/qos/logback/classic/turbo/MarkerFilter.html)\n\n\u30de\u30fc\u30ab\u30fc\u304c\u95a2\u9023\u4ed8\u3051\u3089\u308c\u305f\u30ed\u30b0\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u4f8b\u3067\u306f`com.example.sample.animal`\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30ed\u30b0\u306fWARN\u30ec\u30d9\u30eb\u4ee5\u4e0a\u3057\u304b\u51fa\u529b\u3055\u308c\u306a\u3044\u8a2d\u5b9a\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c`MarkerFilter`\u306b\u3088\u3063\u3066`com.example.sample.animal.Cat`\u306e\u30ed\u30b0\u306f\u30ec\u30d9\u30eb\u306b\u304b\u304b\u308f\u3089\u305a\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```java:marker(\u629c\u7c8b)\npackage com.example.sample.animal;\n\npublic class Cat {\n  private static final Marker marker = MarkerFactory.getMarker(Cat.class.getCanonicalName());\n\n  public static void doExec() {\n    ...\u7701\u7565...\n    logger.debug(marker, \"marker:{}\", marker.getName());\n  }\n}\n```\n\n```xml:MarkerFilter\n<turboFilter class=\"ch.qos.logback.classic.turbo.MarkerFilter\">\n  <Marker>com.example.sample.animal.Cat</Marker>\n  <OnMatch>ACCEPT</OnMatch>\n</turboFilter>\n\n<!-- WARN\u4ee5\u4e0a -->\n<logger name=\"com.example.sample.animal\" level=\"WARN\">\n  <appender-ref ref=\"STDOUT\"/>\n</logger>\n```\n\n##### DuplicateMessageFilter\n\nFQCN:`ch.qos.logback.classic.turbo.DuplicateMessageFilter`\nAPI: [Class DuplicateMessageFilter] (http://logback.qos.ch/apidocs/ch/qos/logback/classic/turbo/DuplicateMessageFilter.html)\n\n\u91cd\u8907\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\n\n|property name       |type             |Description                                       |\n|:-------------------|:----------------|:-------------------------------------------------|\n|`allowedRepetitions`|int              |\u7e70\u308a\u8fd4\u3057\u3092\u8a31\u5bb9\u3059\u308b\u56de\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059. \u30c7\u30d5\u30a9\u30eb\u30c8\u306f5\u3067\u3059.|\n|`cacheSize`         |int              |\u30c7\u30d5\u30a9\u30eb\u30c8\u306f100\u3067\u3059.|\n\n```xml:DuplicateMessageFilter\n<turboFilter class=\"ch.qos.logback.classic.turbo.DuplicateMessageFilter\">\n  <allowedRepetitions>10</allowedRepetitions>\n  <cacheSize>200</cacheSize>\n</turboFilter>\n```\n\n### logger\n\n\u30ed\u30ac\u30fc\u306flogger\u8981\u7d20\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n* level\u5c5e\u6027\u306fTRACE\u3001DEBUG\u3001INFO\u3001WARN\u3001ERROR\u3001ALL\u3001OFF\u306e\u3044\u305a\u308c\u304b\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n* additivity\u306f\u4efb\u610f\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306ftrue\u3067\u3059\u3002\n* appender-ref\u3067\u30a2\u30da\u30f3\u30c0\u30fc\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```xml:logger\n<logger name=\"com.example.sample.fruits\" level=\"INFO\">\n  <appender-ref ref=\"STDOUT\"/>\n  <appender-ref ref=\"FILE\"/>\n</logger>\n```\n\n#### root logger\n\n\u30eb\u30fc\u30c8\u30ed\u30ac\u30fc\u306froot\u8981\u7d20\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u30eb\u30fc\u30c8\u30ed\u30ac\u30fc\u306f\u5168\u3066\u306e\u30ed\u30ac\u30fc\u306e\u7956\u5148\u30ed\u30ac\u30fc\u3067\u3059\u3002\n\n* level\u5c5e\u6027(\u5fc5\u9808)\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306fDEBUG\u3067\u3059\u3002\n* name\u5c5e\u6027\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002(\u540d\u524d\u306f\"ROOT\"\u3067\u56fa\u5b9a\u3055\u308c\u3066\u3044\u308b\u305f\u3081)\n* appender-ref\u3067\u30a2\u30da\u30f3\u30c0\u30fc\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```xml:root\n<root level=\"DEBUG\">\n  <appender-ref ref=\"CONSOLE\" />\n  <appender-ref ref=\"FILE\" />\n</root>\n```\n\n### Variable\n\n\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u6697\u9ed9\u7684\u306b`HOSTNAME`\u5909\u6570\u3068`CONTEXT_NAME`\u5909\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n#### property\n\n**\u5909\u6570\u306e\u5b9a\u7fa9**\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```xml:property\n<property name=\"LOG_DIR\" value=\"D:/logs\" />\n```\n\n\u5916\u90e8\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```xml:property\n<property file=\"src/main/resources/variables1.properties\" />\n```\n\n**\u5b9a\u7fa9\u3057\u305f\u5909\u6570\u306e\u4f7f\u7528**\n\n\u5909\u6570\u3092\u4f7f\u7528\u3059\u308b\u306b\u306f\u5b9a\u7fa9\u3057\u305f\u5909\u6570\u540d\u3092`${`\u3068`}`\u3067\u56f2\u307f\u307e\u3059\u3002\n\n```xml:variable\n<file>${LOG_DIR}/app.log</file>\n```\n\n\u30d1\u30bf\u30fc\u30f3\u5185\u3067\u5909\u6570\u3092\u4f7f\u7528\u3059\u308b\u306b\u306fproperty\u5909\u63db\u6307\u5b9a\u5b50\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n```xml:property\n<encoder>\n  <pattern>%property{HOSTNAME} %d [%t] - %msg%n</pattern>\n</encoder>\n```\n\n**\u5909\u6570\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024**\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f`:-`\u306e\u5f8c\u306b\u7d9a\u3051\u3066\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```xml:default\n<file>${LOG_DIR:-/var/logs}/app.log</file>\n```\n\n**\u5909\u6570\u306e\u30cd\u30b9\u30c8**\n\n\u5909\u6570\u306e\u5024\u3092\u5225\u306e\u5909\u6570\u540d\u306e\u4e00\u90e8\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u3053\u306e\u4f8b\u3067\u306f\u3001file\u8981\u7d20\u306f`D:/logs/cust_r.log`\u306b\u306a\u308a\u307e\u3059\u3002\n\n```properties:variables1.properties\nDEP = CUSTOMER\nPRI = REGULAR\n\nCUSTOMER.REGULAR = cust_r\nCUSTOMER.IRREGULAR = cust_i\nCUSTOMER.EMERGENCY = cust_e\nSALES.REGULAR = sale_r\nSALES.IRREGULAR = sale_i\nSALES.EMERGENCY = sale_e\nPERSONNEL.REGULAR = pers_r\nPERSONNEL.IRREGULAR = pers_i\nPERSONNEL.EMERGENCY = pers_e\n```\n\n```xml:logback.xml\n<property name=\"LOG_DIR\" value=\"D:/logs\" />\n<property file=\"src/main/resources/variables1.properties\" />\n\n<file>${LOG_DIR}/${${DEP}.${PRI}}.log</file>\n```\n\n#### timestamp\n\n**\u5909\u6570\u306b\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u4f7f\u7528**\n\n```xml:timestamp\n<timestamp key=\"bySecond\" datePattern=\"yyyyMMdd'T'HHmmss\"/>\n```\n\n```xml:timestamp\n<timestamp key=\"bySecond\" datePattern=\"yyyyMMdd'T'HHmmss\" timeReference=\"contextBirth\"/>\n```\n\n## \u4ed8\u9332\n\n### Eclipse\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u30ab\u30e9\u30fc\u30b3\u30fc\u30c9\u306b\u5bfe\u5fdc\u3055\u305b\u308b\n\n**\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb**\n\nhttp://mihai-nita.net/java/ \u3092\u53c2\u7167\u3057Eclipse\u306ePlugin\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n**\u8a2d\u5b9a**\n\nWindow -> Preferences -> Ansi Console\u304b\u3089\u4e0b\u56f3\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n* Enabled\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u307e\u3059\u3002\n* Show the escape sequences\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5916\u3057\u307e\u3059\u3002\n\n![AnsiConsole.png](https://qiita-image-store.s3.amazonaws.com/0/22772/cb0550c6-b3b8-fee0-9b87-bcc357b361bb.png)\n\n**\u30b3\u30f3\u30bd\u30fc\u30eb**\n\n\u30ab\u30e9\u30fc\u30b3\u30fc\u30c9\u4ed8\u304d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n![eclipse_console.png](https://qiita-image-store.s3.amazonaws.com/0/22772/c5e1136e-f296-66ac-8510-aea6f70040f1.png)\n"}