{"tags": ["C#", "WPF"], "context": " More than 1 year has passed since last update.\u4e45\u3057\u3076\u308a\u306bWPF\u306eListBox\u3092\u4f7f\u3063\u305f\u306e\u3067\u3059\u3088\u3002\n\u305d\u3046\u3057\u305f\u3089\u3001\u8907\u6570\u9078\u629e\u3057\u3066\u3044\u308b\u30a2\u30a4\u30c6\u30e0\u3092\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3067\u304d\u306a\u3044\u3002\n\u5358\u6570\u306e\u9078\u629e\u3057\u305f\u3082\u306e\u306f\u3001\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\u8907\u6570\u304c\u306a\u3044\u3002\nMVVM\u7684\u306b\u4f5c\u308c\u306a\u3044\u3058\u3083\u306a\u3044\u3067\u3059\u304b\u30fc\u3002\n\u305d\u3046\u3044\u3048\u3070\u3001Mouse Event Commands for MVVM\n\u3067\u3001\u3069\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u306e\u30de\u30a6\u30b9\u30a4\u30d9\u30f3\u30c8\u3082\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3055\u305b\u308b\u3068\u3044\u3046\u3068\u3066\u3082\u4fbf\u5229\u6280\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u3053\u308c\u306e\u5fdc\u7528\u3067\u3084\u3063\u3066\u307f\u305f\u3002\n\nfilename\n\npublic class ListBoxBehaviour\n    {  \n        public static readonly DependencyProperty SeletedItemsProperty =\n            DependencyProperty.RegisterAttached(\"SeletedItems\", typeof(IList), typeof(ListBoxBehaviour), new PropertyMetadata(new PropertyChangedCallback(SeletedItemsChanged)));\n        static void SeletedItemsChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)\n        {\n            ListBox element = (ListBox)d;\n            element.SelectionChanged += Element_SelectionChanged;\n        }\n\n        static void Element_SelectionChanged(object sender, SelectionChangedEventArgs e)\n        {\n            ListBox element = (ListBox)sender;\n            element.SetValue(SeletedItemsProperty, element.SelectedItems);            \n        }\n\n        public static void SetSeletedItems(UIElement element, IList value)\n        {\n            element.SetValue(SeletedItemsProperty, value);\n        }\n\n        public static IList GetSeletedItems(UIElement element)\n        {\n            return (IList)element.GetValue(SeletedItemsProperty);\n        }\n    }\n\n\n\n\u3053\u308c\u3092WPF\u3067\u53c2\u7167\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3002\n\nfilename\n <ListBox MyControl:ListBoxBehaviour.SeletedItems=\"{Binding SelectedQuestion,Mode=TwoWay}\" >\n\n\n\n\u3053\u3046\u3044\u3046\u611f\u3058\u306b\u66f8\u304f\u3066\u3001VM\u5074\u306f\u3001IList\u3067\u53d7\u3051\u308b\u3088\u3046\u306b\u3059\u308b\u3068\u3001VM\u5074\u3067\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u30a2\u30a4\u30c6\u30e0\u306e\u53d6\u5f97\u304c\u3067\u304d\u308b\u3002\n\u306f\u3058\u3081\u304b\u3089\u7528\u610f\u3057\u3066\u3044\u3066\u3088\u30fb\u30fb\u30fb\u3002\n\u30cd\u30bf\u5143\u306e\u30de\u30a6\u30b9\u30a4\u30d9\u30f3\u30c8\u3092\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3055\u305b\u308b\u6280\u3082\u305d\u3046\u3067\u3059\u304c\u3001\u3053\u3046\u3044\u3046\u611f\u3058\u306b\u3084\u308c\u3070\u3001\u6a19\u6e96\u3067\u306f\u3067\u304d\u306a\u3044\u3001\u30a4\u30d9\u30f3\u30c8\u306a\u308a\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5f37\u5f15\u306b\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3067\u304d\u307e\u3059\u306d\u3002\n\u4e45\u3057\u3076\u308a\u306bWPF\u306eListBox\u3092\u4f7f\u3063\u305f\u306e\u3067\u3059\u3088\u3002\n\u305d\u3046\u3057\u305f\u3089\u3001\u8907\u6570\u9078\u629e\u3057\u3066\u3044\u308b\u30a2\u30a4\u30c6\u30e0\u3092\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3067\u304d\u306a\u3044\u3002\n\u5358\u6570\u306e\u9078\u629e\u3057\u305f\u3082\u306e\u306f\u3001\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\u8907\u6570\u304c\u306a\u3044\u3002\n\nMVVM\u7684\u306b\u4f5c\u308c\u306a\u3044\u3058\u3083\u306a\u3044\u3067\u3059\u304b\u30fc\u3002\n\n\u305d\u3046\u3044\u3048\u3070\u3001[Mouse Event Commands for MVVM](http://www.codeproject.com/Tips/478643/Mouse-Event-Commands-for-MVVM)\n\u3067\u3001\u3069\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u306e\u30de\u30a6\u30b9\u30a4\u30d9\u30f3\u30c8\u3082\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3055\u305b\u308b\u3068\u3044\u3046\u3068\u3066\u3082\u4fbf\u5229\u6280\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u3053\u308c\u306e\u5fdc\u7528\u3067\u3084\u3063\u3066\u307f\u305f\u3002\n\n```csharp:filename\n\npublic class ListBoxBehaviour\n    {  \n        public static readonly DependencyProperty SeletedItemsProperty =\n            DependencyProperty.RegisterAttached(\"SeletedItems\", typeof(IList), typeof(ListBoxBehaviour), new PropertyMetadata(new PropertyChangedCallback(SeletedItemsChanged)));\n        static void SeletedItemsChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)\n        {\n            ListBox element = (ListBox)d;\n            element.SelectionChanged += Element_SelectionChanged;\n        }\n\n        static void Element_SelectionChanged(object sender, SelectionChangedEventArgs e)\n        {\n            ListBox element = (ListBox)sender;\n            element.SetValue(SeletedItemsProperty, element.SelectedItems);            \n        }\n\n        public static void SetSeletedItems(UIElement element, IList value)\n        {\n            element.SetValue(SeletedItemsProperty, value);\n        }\n\n        public static IList GetSeletedItems(UIElement element)\n        {\n            return (IList)element.GetValue(SeletedItemsProperty);\n        }\n    }\n\n```\n\n\u3053\u308c\u3092WPF\u3067\u53c2\u7167\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3002\n\n```csharp:filename\n <ListBox MyControl:ListBoxBehaviour.SeletedItems=\"{Binding SelectedQuestion,Mode=TwoWay}\" >\n\n```\n\n\u3053\u3046\u3044\u3046\u611f\u3058\u306b\u66f8\u304f\u3066\u3001VM\u5074\u306f\u3001IList\u3067\u53d7\u3051\u308b\u3088\u3046\u306b\u3059\u308b\u3068\u3001VM\u5074\u3067\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u30a2\u30a4\u30c6\u30e0\u306e\u53d6\u5f97\u304c\u3067\u304d\u308b\u3002\n\n\u306f\u3058\u3081\u304b\u3089\u7528\u610f\u3057\u3066\u3044\u3066\u3088\u30fb\u30fb\u30fb\u3002\n\n\u30cd\u30bf\u5143\u306e\u30de\u30a6\u30b9\u30a4\u30d9\u30f3\u30c8\u3092\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3055\u305b\u308b\u6280\u3082\u305d\u3046\u3067\u3059\u304c\u3001\u3053\u3046\u3044\u3046\u611f\u3058\u306b\u3084\u308c\u3070\u3001\u6a19\u6e96\u3067\u306f\u3067\u304d\u306a\u3044\u3001\u30a4\u30d9\u30f3\u30c8\u306a\u308a\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5f37\u5f15\u306b\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3067\u304d\u307e\u3059\u306d\u3002\n"}