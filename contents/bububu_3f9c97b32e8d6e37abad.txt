{"context": " More than 1 year has passed since last update.OS\u306f\u6700\u8fd1\u5165\u308c\u305fUbuntu 12.04 LTS\u3002\n\u30e1\u30e2\u30ea\u3082\u6700\u8fd1\u5897\u3084\u3057\u305f\uff16GB\n\u53c2\u8003\u306b\u3055\u305b\u3066\u3082\u3089\u3063\u305f\u30b5\u30a4\u30c8\nhttps://gist.github.com/cshen/6492856\n\nPylearn2\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u516c\u5f0f\u306b\u66f8\u3044\u3066\u3042\u308b\u3088\u3046\u306bgit\u304b\u3089\u6301\u3063\u3066\u304f\u308b\u3002\ngit clone git://github.com/lisa-lab/pylearn2.git\n\n\u6b21\u306b\u4f7f\u3046\u30c7\u30fc\u30bf\u306e\u30d1\u30b9\u3092\u901a\u3059\nexport PYLEARN2_DATA_PATH=/data/lisa/data\nexport PYLEARN2_VIEWER_COMMAND=\"eog --new-instance\" # \u66f8\u3044\u3066\u304a\u304f\u3068\u5f8c\u3067\u3044\u3044\u3053\u3068\u304c\u3042\u308b\u3002\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u307e\u305a\u306fPylearn2\u3092\u52d5\u304b\u3059\u306e\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\nsudo apt-get install python-pip\nsudo apt-get install python-numpy\nsudo apt-get install python-scipy\nsudo apt-get install python-setuptools\nsudo apt-get install python-matplotlib\nsudo pip install --upgrade --no-deps git+git://github.com/Theano/Theano.git\n# sudo pip install theano\u3067\u306f\u99c4\u76ee \u7406\u7531\u306f\u5f8c\u3067\u89e3\u8aac\n\n\u6b21\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fPylearn2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# pylearn2/setup.py\u3092\u4f7f\u3046\npython setup.py build\nsudo python setup.py install\n\n\u300cimport pylearn2\u300d\u3067\u6210\u529f\u3057\u305f\u304b\u30c6\u30b9\u30c8\nimport pylearn2\n\n\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u52d5\u304b\u3059\n\n\u30b9\u30c6\u30c3\u30d71\n\u516c\u5f0f\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u898b\u3066\u52d5\u304b\u3059\u3002\n# pylearn2/pylearn2/scripts/tutorials/grbm_smd/\u306emake_dataset.py\u3092\u4f7f\u3046\npython make_dataset.py\n\n\u3059\u308b\u3068\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002data_batch_1\u304c\u306a\u3044\u3068\u306e\u3053\u3068\u3002\u3053\u308c\u3063\u3066\u81ea\u52d5\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u308c\u308b\u3093\u3058\u3083\u306a\u3044\u3093\u3060\u3002\nusername@ubuntu:~/pylearn2/pylearn2/scripts/tutorials/grbm_smd$ python make_dataset.py\nTraceback (most recent call last):\n  File \"make_dataset.py\", line 29, in <module>\n    train = cifar10.CIFAR10(which_set=\"train\", one_hot=True)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/cifar10.py\", line 67, in __init__\n    data = CIFAR10._unpickle(fname)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/cifar10.py\", line 249, in _unpickle\n    raise IOError(fname+\" was not found. You probably need to download \"\nIOError: /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_1 was not found. You probably need to download the CIFAR-10 dataset by using the download script in pylearn2/scripts/download_cifar10.sh or manually from http://www.cs.utoronto.ca/~kriz/cifar.html\nusername@ubuntu:~/pylearn2/pylearn2/scripts/tutorials/grbm_smd$ \n\n\u3053\u306e\u30a8\u30e9\u30fc\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n\u3053\u306e\u30da\u30fc\u30b8\u306e\u300cCIFAR-10 python version\u300d\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n/data/lisa/data/cifar10/cifar-10-batches-py/...\u307f\u305f\u3044\u306b\u306a\u308b\u3088\u3046\u5c55\u958b\u3059\u308b\n\u3053\u308c\u3067\u30a8\u30e9\u30fc\u304c\u6d88\u3048\u308b\u3002make_dataset.py\u3092\u7d9a\u3051\u308b\u3002\n\u3059\u308b\u3068\u307e\u305f\u30a8\u30e9\u30fc\u304c\u51fa\u305f\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_1\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_2\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_3\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_4\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_5\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/test_batch\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:846: UserWarning: This ZCA preprocessor class is known to yield very different results on different platforms. If you plan to conduct experiments with this preprocessing on multiple machines, it is probably a good idea to do the preprocessing on a single machine and copy the preprocessed datasets to the others, rather than preprocessing the data independently in each location.\n  warnings.warn(\"This ZCA preprocessor class is known to yield very \"\ncomputing zca of a (150000, 192) matrix\ncov estimate took 9.41569 seconds\neigh() took 0.0209 seconds\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:923: UserWarning: Implicitly converting mat from dtype=float64 to float32 for gpu\n  warnings.warn('Implicitly converting mat from dtype=%s to float32 for gpu' % mat.dtype)\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:925: UserWarning: Implicitly converting diag from dtype=float64 to float32 for gpu\n  warnings.warn('Implicitly converting diag from dtype=%s to float32 for gpu' % diags.dtype)\nTraceback (most recent call last):\n  File \"make_dataset.py\", line 70, in <module>\n    serial.save(train_pkl_path, train)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/utils/serial.py\", line 223, in save\n    _save(filepath, obj)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/utils/serial.py\", line 293, in _save\n    raise IOError(\"permission error creating %s\" % filepath)\nIOError: permission error creating /usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/scripts/tutorials/grbm_smd/cifar10_preprocessed_train.pkl\n\n\u4eca\u5ea6\u306f\u6a29\u9650\u304c\u306a\u3044\u304b\u3089\u300ccifar10_preprocessed_train.pkl\u300d\u304c\u4f5c\u308c\u306a\u3044\u3068\u306e\u3053\u3068\u3002\u3060\u3051\u3069\u3053\u306e\u307e\u307e\u300csudo python make_dataset.py\u300d\u3068\u3057\u3066\u3082PYLEARN2_DATA_PATH\u304c\u53d6\u5f97\u3067\u304d\u306a\u304f\u306a\u308b\u3002\u306a\u306e\u3067\u5f37\u5f15\u3060\u3051\u3069make_dataset.py\u306b\u3053\u3046\u66f8\u304f\u3002\u4ed6\u306b\u826f\u3044\u65b9\u6cd5\u306a\u3044\u304b\u306a\u30fc\n# pylearn2 tutorial example: make_dataset.py by Ian Goodfellow\n# See README before reading this file\n#\n#\n# This script creates a preprocessed version of a dataset using pylearn2.\n# It's not necessary to save preprocessed versions of your dataset to\n# disk but this is an instructive example, because later we can show\n# how to load your custom dataset in a yaml file.\n#\n# This is also a common use case because often you will want to preprocess\n# your data once and then train several models on the preprocessed data.\n\nimport os.path\nimport pylearn2\n\n# We'll need the serial module to save the dataset\nfrom pylearn2.utils import serial\n\n# Our raw dataset will be the CIFAR10 image dataset\nfrom pylearn2.datasets import cifar10\n\n# We'll need the preprocessing module to preprocess the dataset\nfrom pylearn2.datasets import preprocessing\n\nif __name__ == \"__main__\":\n    # Our raw training set is 32x32 color images\n    # TODO: the one_hot=True is only necessary because one_hot=False is\n    # broken, remove it after one_hot=False is fixed.\n\n    # \u8ffd\u52a0\u3057\u305f\u306e\u306f\u4e0b\u306e2\u884c\n    import os\n    os.environ['PYLEARN2_DATA_PATH'] = \"/data/lisa/data\"\n\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_1\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_2\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_3\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_4\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_5\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/test_batch\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:846: UserWarning: This ZCA preprocessor class is known to yield very different results on different platforms. If you plan to conduct experiments with this preprocessing on multiple machines, it is probably a good idea to do the preprocessing on a single machine and copy the preprocessed datasets to the others, rather than preprocessing the data independently in each location.\n  warnings.warn(\"This ZCA preprocessor class is known to yield very \"\ncomputing zca of a (150000, 192) matrix\ncov estimate took 9.5492 seconds\neigh() took 0.0213549 seconds\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:923: UserWarning: Implicitly converting mat from dtype=float64 to float32 for gpu\n  warnings.warn('Implicitly converting mat from dtype=%s to float32 for gpu' % mat.dtype)\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:925: UserWarning: Implicitly converting diag from dtype=float64 to float32 for gpu\n  warnings.warn('Implicitly converting diag from dtype=%s to float32 for gpu' % diags.dtype)\n\n\u3053\u308c\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\n\u5f8c\u3001\u3061\u3087\u304f\u3061\u3087\u304fUserWarning\u3063\u3066\u51fa\u3066\u304f\u308b\u3051\u3069\u3001\u305d\u308c\u306f\u3042\u3093\u307e\u308a\u554f\u984c\u7121\u3044\u3089\u3057\u3044\u3002\n\u3053\u308c\u3067\u30b9\u30c6\u30c3\u30d71\u306f\u7d42\u4e86\u3060\u304c\u3001\u3082\u3057\u300csudo pip install theano\u300d\u3068\u66f8\u3044\u3066\u3044\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_1\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_2\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_3\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_4\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_5\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/test_batch\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:846: UserWarning: This ZCA preprocessor class is known to yield very different results on different platforms. If you plan to conduct experiments with this preprocessing on multiple machines, it is probably a good idea to do the preprocessing on a single machine and copy the preprocessed datasets to the others, rather than preprocessing the data independently in each location.\n  warnings.warn(\"This ZCA preprocessor class is known to yield very \"\nWARNING (theano.tensor.blas): We did not found a dynamic library into the library_dir of the library we use for blas. If you use ATLAS, make sure to compile it with dynamics library.\n===============================\n00001   #include <Python.h>\n00002   #include <iostream>\n00003   #include <math.h>\n00004   #include <numpy/arrayobject.h>\n00005   #include <numpy/arrayscalars.h>\n00006   #include <iostream>\n00007   #include <time.h>\n00008   #include <sys/time.h>\n00009   //////////////////////\n00010   ////  Support Code\n00011   //////////////////////\n...\n\n01009   PyMODINIT_FUNC init2cefc1167b7fca6a2ad00f367f828a17(void){\n01010      import_array();\n01011      (void) Py_InitModule(\"2cefc1167b7fca6a2ad00f367f828a17\", MyMethods);\n01012   }\n01013   \n===============================\nProblem occurred during compilation with the command line below:\ng++ -shared -g -O3 -fno-math-errno -Wno-unused-label -Wno-unused-variable -Wno-write-strings -Wl,-rpath,/usr/lib -D NPY_NO_DEPRECATED_API=NPY_1_7_API_VERSION -D NPY_ARRAY_ENSURECOPY=NPY_ENSURECOPY -D NPY_ARRAY_ALIGNED=NPY_ALIGNED -D NPY_ARRAY_WRITEABLE=NPY_WRITEABLE -D NPY_ARRAY_UPDATE_ALL=NPY_UPDATE_ALL -D NPY_ARRAY_C_CONTIGUOUS=NPY_C_CONTIGUOUS -D NPY_ARRAY_F_CONTIGUOUS=NPY_F_CONTIGUOUS -m64 -fPIC -I/usr/lib/python2.7/dist-packages/numpy/core/include -I/usr/include/python2.7 -o /home/username/.theano/compiledir_Linux-3.2.0-48-generic-x86_64-with-Ubuntu-12.04-precise-x86_64-2.7.3-64/tmpQvg112/2cefc1167b7fca6a2ad00f367f828a17.so /home/username/.theano/compiledir_Linux-3.2.0-48-generic-x86_64-with-Ubuntu-12.04-precise-x86_64-2.7.3-64/tmpQvg112/mod.cpp -L/usr/lib -lpython2.7 -lblas\n/usr/bin/ld: cannot find -lblas\ncollect2: ld \u306f\u30b9\u30c6\u30fc\u30bf\u30b9 1 \u3067\u7d42\u4e86\u3057\u307e\u3057\u305f\n\nTraceback (most recent call last):\n  File \"make_dataset.py\", line 58, in <module>\n    train.apply_preprocessor(preprocessor=pipeline, can_fit=True)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/dense_design_matrix.py\", line 552, in apply_preprocessor\n    preprocessor.apply(self, can_fit)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py\", line 141, in apply\n    item.apply(dataset, can_fit)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py\", line 1082, in apply\n    new_x_symbol)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/compile/function.py\", line 223, in function\n    profile=profile)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/compile/pfunc.py\", line 512, in pfunc\n    on_unused_input=on_unused_input)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/compile/function_module.py\", line 1312, in orig_function\n    defaults)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/compile/function_module.py\", line 1181, in create\n    _fn, _i, _o = self.linker.make_thunk(input_storage=input_storage_lists)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/link.py\", line 434, in make_thunk\n    output_storage=output_storage)[:3]\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/vm.py\", line 847, in make_all\n    no_recycling))\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/op.py\", line 606, in make_thunk\n    output_storage=node_output_storage)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/cc.py\", line 948, in make_thunk\n    keep_lock=keep_lock)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/cc.py\", line 891, in __compile__\n    keep_lock=keep_lock)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/cc.py\", line 1322, in cthunk_factory\n    key=key, fn=self.compile_cmodule_by_step, keep_lock=keep_lock)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/cmodule.py\", line 996, in module_from_key\n    module = next(compile_steps)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/cc.py\", line 1237, in compile_cmodule_by_step\n    preargs=preargs)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/cmodule.py\", line 1971, in compile_str\n    (status, compile_stderr.replace('\\n', '. ')))\nException: ('The following error happened while compiling the node', Dot22(Elemwise{sub,no_inplace}.0, P_), '\\n', 'Compilation failed (return status=1): /usr/bin/ld: cannot find -lblas. collect2: ld \\xe3\\x81\\xaf\\xe3\\x82\\xb9\\xe3\\x83\\x86\\xe3\\x83\\xbc\\xe3\\x82\\xbf\\xe3\\x82\\xb9 1 \\xe3\\x81\\xa7\\xe7\\xb5\\x82\\xe4\\xba\\x86\\xe3\\x81\\x97\\xe3\\x81\\xbe\\xe3\\x81\\x97\\xe3\\x81\\x9f. ', '[Dot22(<TensorType(float64, matrix)>, P_)]')\n\n\u305f\u3060\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u898b\u3066\u3082\u4f55\u304c\u60aa\u3044\u306e\u304b\u5206\u304b\u3089\u306a\u3044\n\u3053\u3053\u306f\u8abf\u3079\u3066\u307f\u308b\u3002\u3059\u308b\u3068\u3053\u3093\u306a\u30da\u30fc\u30b8\u304c\u898b\u3064\u304b\u3063\u305f\n# \u5ff5\u306e\u305f\u3081\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304b\u3089\npip uninstall theano\npip install --upgrade --no-deps git+git://github.com/Theano/Theano.git\n\n\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u6d88\u3048\u305f\u3002\n\n\u30b9\u30c6\u30c3\u30d72 \u89e3\u6790\uff1f\u3057\u3066\u307f\u308b\n\u4eca\u5ea6\u306fpylearn2/scripts\u306b\u30d1\u30b9\u3092\u901a\u3059\u3002\nexport PATH=$PATH:~/pylearn2/pylearn2/scripts\n\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306fpylearn2/pylearn2/scripts/tutorials/grbm_smd/\u306e\u307e\u307e\n# \u3053\u306e\u64cd\u4f5c\u306f\u7d50\u69cb\u91cd\u304b\u3063\u305f\ntrain.py cifar_grbm_smd.yaml\n\n\u5b9f\u884c\u3059\u308b\u3068\u307e\u305f\u30a8\u30e9\u30fc\u306b\u306a\u308b\nException: Couldn't open 'cifar10_preprocessed_train.pkl' due to: <type 'exceptions.IOError'>, [Errno 2] No such file or directory: 'cifar10_preprocessed_train.pkl'. Orig traceback:\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/utils/serial.py\", line 111, in load\n    with open(filepath, 'rb') as f:\nIOError: [Errno 2] No such file or directory: 'cifar10_preprocessed_train.pkl'\n\ncifar10_preprocessed_train.pkl\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\n\u300c/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/scripts/tutorials/grbm_smd\u300d\n\u306b\u3042\u308b\u3002\u3053\u308c\u306b\u306f\u8ff7\u3063\u305f\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092pylearn2/pylearn2/scripts/tutorials/grbm_smd/\u306b\u79fb\u52d5\u3055\u305b\u308b\u3002\n\u4eca\u6e21\u3053\u305d\u958b\u59cb\nusername@ubuntu:~/pylearn2/pylearn2/scripts/tutorials/grbm_smd$ train.py cifar_grbm_smd.yaml\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/costs/ebm_estimation.py:14: UserWarning: Cost changing the recursion limit.\n  warnings.warn(\"Cost changing the recursion limit.\")\n/usr/local/lib/python2.7/dist-packages/theano/sandbox/rng_mrg.py:772: UserWarning: MRG_RandomStreams Can't determine #streams from size ((Elemwise{add,no_inplace}.0,)), guessing 60*256\n  nstreams = self.n_streams(size)\n/usr/local/lib/python2.7/dist-packages/theano/sandbox/rng_mrg.py:772: UserWarning: MRG_RandomStreams Can't determine #streams from size (Shape.0), guessing 60*256\n  nstreams = self.n_streams(size)\nParameter and initial learning rate summary:\n    W: 0.1\n    bias_vis: 0.1\n    bias_hid: 0.1\n    sigma_driver: 0.1\nCompiling sgd_update...\nCompiling sgd_update done. Time elapsed: 3.526216 seconds\ncompiling begin_record_entry...\ncompiling begin_record_entry done. Time elapsed: 0.046751 seconds\nMonitored channels: \n    bias_hid_max\n    bias_hid_mean\n    bias_hid_min\n    bias_vis_max\n    bias_vis_mean\n    bias_vis_min\n    h_max\n    h_mean\n    h_min\n    learning_rate\n    objective\n    reconstruction_error\n    total_seconds_last_epoch\n    training_seconds_this_epoch\nCompiling accum...\ngraph size: 83\nCompiling accum done. Time elapsed: 1.150050 seconds\nMonitoring step:\n    Epochs seen: 0\n    Batches seen: 0\n    Examples seen: 0\n    bias_hid_max: -2.0\n    bias_hid_mean: -2.0\n    bias_hid_min: -2.0\n    bias_vis_max: 0.0\n    bias_vis_mean: 0.0\n    bias_vis_min: 0.0\n    h_max: 0.00165399100786\n    h_mean: 1.88760476563e-05\n    h_min: 9.81922087086e-07\n    learning_rate: 0.1\n    objective: 15.1039446295\n    reconstruction_error: 74.2614943235\n    total_seconds_last_epoch: 0.0\n    training_seconds_this_epoch: 0.0\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/training_algorithms/sgd.py:545: UserWarning: The channel that has been chosen for monitoring is: objective.\n  str(self.channel_name) + '.')\nTime this epoch: 0:01:50.317007\nMonitoring step:\n    Epochs seen: 1\n    Batches seen: 30000\n    Examples seen: 150000\n    bias_hid_max: -0.272866563291\n    bias_hid_mean: -1.75659325702\n    bias_hid_min: -2.51777410634\n    bias_vis_max: 0.153457422901\n    bias_vis_mean: 0.00176315332845\n    bias_vis_min: -0.237732403732\n    h_max: 0.610667377089\n    h_mean: 0.0563938573299\n    h_min: 9.35136301756e-06\n    learning_rate: 0.1\n    objective: 3.7911270731\n    reconstruction_error: 29.6729947003\n    total_seconds_last_epoch: 0.0\n    training_seconds_this_epoch: 110.317007\nmonitoring channel is objective\nSaving to cifar_grbm_smd.pkl...\nSaving to cifar_grbm_smd.pkl done. Time elapsed: 0.110872 seconds\nTime this epoch: 0:02:04.662160\nMonitoring step:\n    Epochs seen: 2\n    Batches seen: 60000\n    Examples seen: 300000\n    bias_hid_max: -0.246065235441\n    bias_hid_mean: -2.01199273594\n    bias_hid_min: -2.80764297057\n    bias_vis_max: 0.18772020839\n    bias_vis_mean: -0.000339412708619\n    bias_vis_min: -0.187033129545\n    h_max: 0.598067247\n    h_mean: 0.0492958969179\n    h_min: 6.29718290456e-06\n    learning_rate: 0.1\n    objective: 3.52647040247\n    reconstruction_error: 29.4993278159\n    total_seconds_last_epoch: 110.48161\n    training_seconds_this_epoch: 124.66216\nmonitoring channel is objective\nSaving to cifar_grbm_smd.pkl...\nSaving to cifar_grbm_smd.pkl done. Time elapsed: 0.116746 seconds\nTime this epoch: 0:02:12.847753\nMonitoring step:\n    Epochs seen: 3\n    Batches seen: 90000\n    Examples seen: 450000\n    bias_hid_max: -0.217807592013\n    bias_hid_mean: -2.12349417946\n    bias_hid_min: -3.06315685204\n    bias_vis_max: 0.209034461753\n    bias_vis_mean: 0.000870083812334\n    bias_vis_min: -0.179624583448\n    h_max: 0.576599923191\n    h_mean: 0.0469544715944\n    h_min: 4.2071605178e-06\n    learning_rate: 0.1\n    objective: 3.37623778883\n    reconstruction_error: 29.2305192806\n    total_seconds_last_epoch: 124.834175\n    training_seconds_this_epoch: 132.847753\nmonitoring channel is objective\nSaving to cifar_grbm_smd.pkl...\nSaving to cifar_grbm_smd.pkl done. Time elapsed: 0.116925 seconds\nTime this epoch: 0:02:17.842619\nMonitoring step:\n    Epochs seen: 4\n    Batches seen: 120000\n    Examples seen: 600000\n    bias_hid_max: -0.248029915286\n    bias_hid_mean: -2.1915198152\n    bias_hid_min: -3.22054069844\n    bias_vis_max: 0.262918509995\n    bias_vis_mean: 0.000191742870546\n    bias_vis_min: -0.173778387514\n    h_max: 0.554194658923\n    h_mean: 0.0458009309099\n    h_min: 3.77548228177e-06\n    learning_rate: 0.1\n    objective: 3.26947615424\n    reconstruction_error: 29.8005568223\n    total_seconds_last_epoch: 133.019077\n    training_seconds_this_epoch: 137.842619\nmonitoring channel is objective\nSaving to cifar_grbm_smd.pkl...\nSaving to cifar_grbm_smd.pkl done. Time elapsed: 0.118880 seconds\nTime this epoch: 0:02:34.845050\nMonitoring step:\n    Epochs seen: 5\n    Batches seen: 150000\n    Examples seen: 750000\n    bias_hid_max: -0.282424217896\n    bias_hid_mean: -2.23634235523\n    bias_hid_min: -3.37966150939\n    bias_vis_max: 0.227035163956\n    bias_vis_mean: -0.000246034347711\n    bias_vis_min: -0.160823731668\n    h_max: 0.552645148762\n    h_mean: 0.0452473206913\n    h_min: 2.83635672249e-06\n    learning_rate: 0.1\n    objective: 3.30908132011\n    reconstruction_error: 29.058447262\n    total_seconds_last_epoch: 138.016547\n    training_seconds_this_epoch: 154.84505\nmonitoring channel is objective\nshrinking learning rate to 0.099000\nSaving to cifar_grbm_smd.pkl...\nSaving to cifar_grbm_smd.pkl done. Time elapsed: 0.134288 seconds\nSaving to cifar_grbm_smd.pkl...\nSaving to cifar_grbm_smd.pkl done. Time elapsed: 0.159221 seconds\nusername@ubuntu:~/pylearn2/pylearn2/scripts/tutorials/grbm_smd$\n\n\n\u30b9\u30c6\u30c3\u30d73 \u753b\u50cf\u306b\u3057\u3066\u898b\u308b\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u305d\u306e\u307e\u307e\u3067\n# \u3053\u3053\u3067\n# export PYLEARN2_VIEWER_COMMAND=\"eog --new-instance\"\n# \u304c\u306a\u304b\u3063\u305f\u3089\u30a8\u30e9\u30fc\u306b\u306a\u308b\nshow_weights.py cifar_grbm_smd.pkl\n\n\n\u3053\u308c\u3067\u3044\u3044\u306e\u304b\u306a\uff1f\n\nWindows\u3067\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ed6\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51fa\u6765\u305f\u3051\u3069\ntheano\u304c\u7121\u7406\u3060\u3063\u305f\n\u51fa\u6765\u306a\u3044\u3053\u3068\u306f\u306a\u3044\u3068\u601d\u3046\u3051\u3069\u3001linux\u3092\u4f7f\u3063\u305f\u65b9\u304c\u3044\u3044\u3068\u601d\u3046\u3002\n\nMac\n\u6301\u3063\u3066\u306a\u3044\u306e\u3067\u5206\u304b\u3089\u306a\u3044\u3002\n\nOS\u306f\u6700\u8fd1\u5165\u308c\u305fUbuntu 12.04 LTS\u3002\n\u30e1\u30e2\u30ea\u3082\u6700\u8fd1\u5897\u3084\u3057\u305f\uff16GB\n\n\u53c2\u8003\u306b\u3055\u305b\u3066\u3082\u3089\u3063\u305f\u30b5\u30a4\u30c8\n[https://gist.github.com/cshen/6492856](https://gist.github.com/cshen/6492856)\n\n# Pylearn2\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n[\u516c\u5f0f](http://deeplearning.net/software/pylearn2/)\u306b\u66f8\u3044\u3066\u3042\u308b\u3088\u3046\u306bgit\u304b\u3089\u6301\u3063\u3066\u304f\u308b\u3002\n\n```bash\ngit clone git://github.com/lisa-lab/pylearn2.git\n```\n\n\u6b21\u306b\u4f7f\u3046\u30c7\u30fc\u30bf\u306e\u30d1\u30b9\u3092\u901a\u3059\n\n```bash\nexport PYLEARN2_DATA_PATH=/data/lisa/data\nexport PYLEARN2_VIEWER_COMMAND=\"eog --new-instance\" # \u66f8\u3044\u3066\u304a\u304f\u3068\u5f8c\u3067\u3044\u3044\u3053\u3068\u304c\u3042\u308b\u3002\n```\n\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u307e\u305a\u306fPylearn2\u3092\u52d5\u304b\u3059\u306e\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n```bash\nsudo apt-get install python-pip\nsudo apt-get install python-numpy\nsudo apt-get install python-scipy\nsudo apt-get install python-setuptools\nsudo apt-get install python-matplotlib\nsudo pip install --upgrade --no-deps git+git://github.com/Theano/Theano.git\n# sudo pip install theano\u3067\u306f\u99c4\u76ee \u7406\u7531\u306f\u5f8c\u3067\u89e3\u8aac\n```\n\u6b21\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fPylearn2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n# pylearn2/setup.py\u3092\u4f7f\u3046\npython setup.py build\nsudo python setup.py install\n```\n\n\u300cimport pylearn2\u300d\u3067\u6210\u529f\u3057\u305f\u304b\u30c6\u30b9\u30c8\n\n```py\nimport pylearn2\n```\n\n\n# \u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u52d5\u304b\u3059\n\n## \u30b9\u30c6\u30c3\u30d71\n\n[\u516c\u5f0f\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb](http://deeplearning.net/software/pylearn2/tutorial/index.html#tutorial)\u3092\u898b\u3066\u52d5\u304b\u3059\u3002\n\n\n```bash\n# pylearn2/pylearn2/scripts/tutorials/grbm_smd/\u306emake_dataset.py\u3092\u4f7f\u3046\npython make_dataset.py\n```\n\n\u3059\u308b\u3068\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002data_batch_1\u304c\u306a\u3044\u3068\u306e\u3053\u3068\u3002\u3053\u308c\u3063\u3066\u81ea\u52d5\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u308c\u308b\u3093\u3058\u3083\u306a\u3044\u3093\u3060\u3002\n\n```bash\nusername@ubuntu:~/pylearn2/pylearn2/scripts/tutorials/grbm_smd$ python make_dataset.py\nTraceback (most recent call last):\n  File \"make_dataset.py\", line 29, in <module>\n    train = cifar10.CIFAR10(which_set=\"train\", one_hot=True)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/cifar10.py\", line 67, in __init__\n    data = CIFAR10._unpickle(fname)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/cifar10.py\", line 249, in _unpickle\n    raise IOError(fname+\" was not found. You probably need to download \"\nIOError: /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_1 was not found. You probably need to download the CIFAR-10 dataset by using the download script in pylearn2/scripts/download_cifar10.sh or manually from http://www.cs.utoronto.ca/~kriz/cifar.html\nusername@ubuntu:~/pylearn2/pylearn2/scripts/tutorials/grbm_smd$ \n```\n\u3053\u306e\u30a8\u30e9\u30fc\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n[\u3053\u306e\u30da\u30fc\u30b8](http://www.cs.utoronto.ca/~kriz/cifar.html)\u306e\u300cCIFAR-10 python version\u300d\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n/data/lisa/data/cifar10/cifar-10-batches-py/...\u307f\u305f\u3044\u306b\u306a\u308b\u3088\u3046\u5c55\u958b\u3059\u308b\n\n\u3053\u308c\u3067\u30a8\u30e9\u30fc\u304c\u6d88\u3048\u308b\u3002make_dataset.py\u3092\u7d9a\u3051\u308b\u3002\n\n\u3059\u308b\u3068\u307e\u305f\u30a8\u30e9\u30fc\u304c\u51fa\u305f\n\n```bash\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_1\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_2\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_3\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_4\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_5\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/test_batch\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:846: UserWarning: This ZCA preprocessor class is known to yield very different results on different platforms. If you plan to conduct experiments with this preprocessing on multiple machines, it is probably a good idea to do the preprocessing on a single machine and copy the preprocessed datasets to the others, rather than preprocessing the data independently in each location.\n  warnings.warn(\"This ZCA preprocessor class is known to yield very \"\ncomputing zca of a (150000, 192) matrix\ncov estimate took 9.41569 seconds\neigh() took 0.0209 seconds\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:923: UserWarning: Implicitly converting mat from dtype=float64 to float32 for gpu\n  warnings.warn('Implicitly converting mat from dtype=%s to float32 for gpu' % mat.dtype)\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:925: UserWarning: Implicitly converting diag from dtype=float64 to float32 for gpu\n  warnings.warn('Implicitly converting diag from dtype=%s to float32 for gpu' % diags.dtype)\nTraceback (most recent call last):\n  File \"make_dataset.py\", line 70, in <module>\n    serial.save(train_pkl_path, train)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/utils/serial.py\", line 223, in save\n    _save(filepath, obj)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/utils/serial.py\", line 293, in _save\n    raise IOError(\"permission error creating %s\" % filepath)\nIOError: permission error creating /usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/scripts/tutorials/grbm_smd/cifar10_preprocessed_train.pkl\n```\n\n\n\u4eca\u5ea6\u306f\u6a29\u9650\u304c\u306a\u3044\u304b\u3089\u300ccifar10_preprocessed_train.pkl\u300d\u304c\u4f5c\u308c\u306a\u3044\u3068\u306e\u3053\u3068\u3002\u3060\u3051\u3069\u3053\u306e\u307e\u307e\u300csudo python make_dataset.py\u300d\u3068\u3057\u3066\u3082PYLEARN2_DATA_PATH\u304c\u53d6\u5f97\u3067\u304d\u306a\u304f\u306a\u308b\u3002\u306a\u306e\u3067\u5f37\u5f15\u3060\u3051\u3069make_dataset.py\u306b\u3053\u3046\u66f8\u304f\u3002\u4ed6\u306b\u826f\u3044\u65b9\u6cd5\u306a\u3044\u304b\u306a\u30fc\n\n```py\n# pylearn2 tutorial example: make_dataset.py by Ian Goodfellow\n# See README before reading this file\n#\n#\n# This script creates a preprocessed version of a dataset using pylearn2.\n# It's not necessary to save preprocessed versions of your dataset to\n# disk but this is an instructive example, because later we can show\n# how to load your custom dataset in a yaml file.\n#\n# This is also a common use case because often you will want to preprocess\n# your data once and then train several models on the preprocessed data.\n\nimport os.path\nimport pylearn2\n\n# We'll need the serial module to save the dataset\nfrom pylearn2.utils import serial\n\n# Our raw dataset will be the CIFAR10 image dataset\nfrom pylearn2.datasets import cifar10\n\n# We'll need the preprocessing module to preprocess the dataset\nfrom pylearn2.datasets import preprocessing\n\nif __name__ == \"__main__\":\n    # Our raw training set is 32x32 color images\n    # TODO: the one_hot=True is only necessary because one_hot=False is\n    # broken, remove it after one_hot=False is fixed.\n    \n    # \u8ffd\u52a0\u3057\u305f\u306e\u306f\u4e0b\u306e2\u884c\n    import os\n    os.environ['PYLEARN2_DATA_PATH'] = \"/data/lisa/data\"\n```\n\n\n```bash\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_1\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_2\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_3\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_4\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_5\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/test_batch\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:846: UserWarning: This ZCA preprocessor class is known to yield very different results on different platforms. If you plan to conduct experiments with this preprocessing on multiple machines, it is probably a good idea to do the preprocessing on a single machine and copy the preprocessed datasets to the others, rather than preprocessing the data independently in each location.\n  warnings.warn(\"This ZCA preprocessor class is known to yield very \"\ncomputing zca of a (150000, 192) matrix\ncov estimate took 9.5492 seconds\neigh() took 0.0213549 seconds\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:923: UserWarning: Implicitly converting mat from dtype=float64 to float32 for gpu\n  warnings.warn('Implicitly converting mat from dtype=%s to float32 for gpu' % mat.dtype)\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:925: UserWarning: Implicitly converting diag from dtype=float64 to float32 for gpu\n  warnings.warn('Implicitly converting diag from dtype=%s to float32 for gpu' % diags.dtype)\n```\n\n\u3053\u308c\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\n\n\n\u5f8c\u3001\u3061\u3087\u304f\u3061\u3087\u304fUserWarning\u3063\u3066\u51fa\u3066\u304f\u308b\u3051\u3069\u3001\u305d\u308c\u306f\u3042\u3093\u307e\u308a\u554f\u984c\u7121\u3044\u3089\u3057\u3044\u3002\n\n\u3053\u308c\u3067\u30b9\u30c6\u30c3\u30d71\u306f\u7d42\u4e86\u3060\u304c\u3001\u3082\u3057\u300csudo pip install theano\u300d\u3068\u66f8\u3044\u3066\u3044\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\n\n\n\n```bash\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_1\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_2\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_3\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_4\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/data_batch_5\nloading file /data/lisa/data/cifar10/cifar-10-batches-py/test_batch\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py:846: UserWarning: This ZCA preprocessor class is known to yield very different results on different platforms. If you plan to conduct experiments with this preprocessing on multiple machines, it is probably a good idea to do the preprocessing on a single machine and copy the preprocessed datasets to the others, rather than preprocessing the data independently in each location.\n  warnings.warn(\"This ZCA preprocessor class is known to yield very \"\nWARNING (theano.tensor.blas): We did not found a dynamic library into the library_dir of the library we use for blas. If you use ATLAS, make sure to compile it with dynamics library.\n===============================\n00001\t#include <Python.h>\n00002\t#include <iostream>\n00003\t#include <math.h>\n00004\t#include <numpy/arrayobject.h>\n00005\t#include <numpy/arrayscalars.h>\n00006\t#include <iostream>\n00007\t#include <time.h>\n00008\t#include <sys/time.h>\n00009\t//////////////////////\n00010\t////  Support Code\n00011\t//////////////////////\n...\n\n01009\tPyMODINIT_FUNC init2cefc1167b7fca6a2ad00f367f828a17(void){\n01010\t   import_array();\n01011\t   (void) Py_InitModule(\"2cefc1167b7fca6a2ad00f367f828a17\", MyMethods);\n01012\t}\n01013\t\n===============================\nProblem occurred during compilation with the command line below:\ng++ -shared -g -O3 -fno-math-errno -Wno-unused-label -Wno-unused-variable -Wno-write-strings -Wl,-rpath,/usr/lib -D NPY_NO_DEPRECATED_API=NPY_1_7_API_VERSION -D NPY_ARRAY_ENSURECOPY=NPY_ENSURECOPY -D NPY_ARRAY_ALIGNED=NPY_ALIGNED -D NPY_ARRAY_WRITEABLE=NPY_WRITEABLE -D NPY_ARRAY_UPDATE_ALL=NPY_UPDATE_ALL -D NPY_ARRAY_C_CONTIGUOUS=NPY_C_CONTIGUOUS -D NPY_ARRAY_F_CONTIGUOUS=NPY_F_CONTIGUOUS -m64 -fPIC -I/usr/lib/python2.7/dist-packages/numpy/core/include -I/usr/include/python2.7 -o /home/username/.theano/compiledir_Linux-3.2.0-48-generic-x86_64-with-Ubuntu-12.04-precise-x86_64-2.7.3-64/tmpQvg112/2cefc1167b7fca6a2ad00f367f828a17.so /home/username/.theano/compiledir_Linux-3.2.0-48-generic-x86_64-with-Ubuntu-12.04-precise-x86_64-2.7.3-64/tmpQvg112/mod.cpp -L/usr/lib -lpython2.7 -lblas\n/usr/bin/ld: cannot find -lblas\ncollect2: ld \u306f\u30b9\u30c6\u30fc\u30bf\u30b9 1 \u3067\u7d42\u4e86\u3057\u307e\u3057\u305f\n\nTraceback (most recent call last):\n  File \"make_dataset.py\", line 58, in <module>\n    train.apply_preprocessor(preprocessor=pipeline, can_fit=True)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/dense_design_matrix.py\", line 552, in apply_preprocessor\n    preprocessor.apply(self, can_fit)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py\", line 141, in apply\n    item.apply(dataset, can_fit)\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/datasets/preprocessing.py\", line 1082, in apply\n    new_x_symbol)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/compile/function.py\", line 223, in function\n    profile=profile)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/compile/pfunc.py\", line 512, in pfunc\n    on_unused_input=on_unused_input)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/compile/function_module.py\", line 1312, in orig_function\n    defaults)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/compile/function_module.py\", line 1181, in create\n    _fn, _i, _o = self.linker.make_thunk(input_storage=input_storage_lists)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/link.py\", line 434, in make_thunk\n    output_storage=output_storage)[:3]\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/vm.py\", line 847, in make_all\n    no_recycling))\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/op.py\", line 606, in make_thunk\n    output_storage=node_output_storage)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/cc.py\", line 948, in make_thunk\n    keep_lock=keep_lock)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/cc.py\", line 891, in __compile__\n    keep_lock=keep_lock)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/cc.py\", line 1322, in cthunk_factory\n    key=key, fn=self.compile_cmodule_by_step, keep_lock=keep_lock)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/cmodule.py\", line 996, in module_from_key\n    module = next(compile_steps)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/cc.py\", line 1237, in compile_cmodule_by_step\n    preargs=preargs)\n  File \"/usr/local/lib/python2.7/dist-packages/theano/gof/cmodule.py\", line 1971, in compile_str\n    (status, compile_stderr.replace('\\n', '. ')))\nException: ('The following error happened while compiling the node', Dot22(Elemwise{sub,no_inplace}.0, P_), '\\n', 'Compilation failed (return status=1): /usr/bin/ld: cannot find -lblas. collect2: ld \\xe3\\x81\\xaf\\xe3\\x82\\xb9\\xe3\\x83\\x86\\xe3\\x83\\xbc\\xe3\\x82\\xbf\\xe3\\x82\\xb9 1 \\xe3\\x81\\xa7\\xe7\\xb5\\x82\\xe4\\xba\\x86\\xe3\\x81\\x97\\xe3\\x81\\xbe\\xe3\\x81\\x97\\xe3\\x81\\x9f. ', '[Dot22(<TensorType(float64, matrix)>, P_)]')\n```\n\n\u305f\u3060\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u898b\u3066\u3082\u4f55\u304c\u60aa\u3044\u306e\u304b\u5206\u304b\u3089\u306a\u3044\n\u3053\u3053\u306f\u8abf\u3079\u3066\u307f\u308b\u3002\u3059\u308b\u3068\u3053\u3093\u306a[\u30da\u30fc\u30b8](http://stackoverflow.com/questions/10270871/installing-theano-on-epd-windows-x64)\u304c\u898b\u3064\u304b\u3063\u305f\n\n```bash\n# \u5ff5\u306e\u305f\u3081\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304b\u3089\npip uninstall theano\npip install --upgrade --no-deps git+git://github.com/Theano/Theano.git\n```\n\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u6d88\u3048\u305f\u3002\n\n## \u30b9\u30c6\u30c3\u30d72 \u89e3\u6790\uff1f\u3057\u3066\u307f\u308b\n\u4eca\u5ea6\u306fpylearn2/scripts\u306b\u30d1\u30b9\u3092\u901a\u3059\u3002\n\n```bash\nexport PATH=$PATH:~/pylearn2/pylearn2/scripts\n```\n\n\n```bash\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306fpylearn2/pylearn2/scripts/tutorials/grbm_smd/\u306e\u307e\u307e\n# \u3053\u306e\u64cd\u4f5c\u306f\u7d50\u69cb\u91cd\u304b\u3063\u305f\ntrain.py cifar_grbm_smd.yaml\n```\n\u5b9f\u884c\u3059\u308b\u3068\u307e\u305f\u30a8\u30e9\u30fc\u306b\u306a\u308b\n\n```bash\nException: Couldn't open 'cifar10_preprocessed_train.pkl' due to: <type 'exceptions.IOError'>, [Errno 2] No such file or directory: 'cifar10_preprocessed_train.pkl'. Orig traceback:\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/utils/serial.py\", line 111, in load\n    with open(filepath, 'rb') as f:\nIOError: [Errno 2] No such file or directory: 'cifar10_preprocessed_train.pkl'\n```\n\ncifar10_preprocessed_train.pkl\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\n\u300c/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/scripts/tutorials/grbm_smd\u300d\n\u306b\u3042\u308b\u3002\u3053\u308c\u306b\u306f\u8ff7\u3063\u305f\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092pylearn2/pylearn2/scripts/tutorials/grbm_smd/\u306b\u79fb\u52d5\u3055\u305b\u308b\u3002\n\n\u4eca\u6e21\u3053\u305d\u958b\u59cb\n\n```bash\nusername@ubuntu:~/pylearn2/pylearn2/scripts/tutorials/grbm_smd$ train.py cifar_grbm_smd.yaml\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/costs/ebm_estimation.py:14: UserWarning: Cost changing the recursion limit.\n  warnings.warn(\"Cost changing the recursion limit.\")\n/usr/local/lib/python2.7/dist-packages/theano/sandbox/rng_mrg.py:772: UserWarning: MRG_RandomStreams Can't determine #streams from size ((Elemwise{add,no_inplace}.0,)), guessing 60*256\n  nstreams = self.n_streams(size)\n/usr/local/lib/python2.7/dist-packages/theano/sandbox/rng_mrg.py:772: UserWarning: MRG_RandomStreams Can't determine #streams from size (Shape.0), guessing 60*256\n  nstreams = self.n_streams(size)\nParameter and initial learning rate summary:\n\tW: 0.1\n\tbias_vis: 0.1\n\tbias_hid: 0.1\n\tsigma_driver: 0.1\nCompiling sgd_update...\nCompiling sgd_update done. Time elapsed: 3.526216 seconds\ncompiling begin_record_entry...\ncompiling begin_record_entry done. Time elapsed: 0.046751 seconds\nMonitored channels: \n\tbias_hid_max\n\tbias_hid_mean\n\tbias_hid_min\n\tbias_vis_max\n\tbias_vis_mean\n\tbias_vis_min\n\th_max\n\th_mean\n\th_min\n\tlearning_rate\n\tobjective\n\treconstruction_error\n\ttotal_seconds_last_epoch\n\ttraining_seconds_this_epoch\nCompiling accum...\ngraph size: 83\nCompiling accum done. Time elapsed: 1.150050 seconds\nMonitoring step:\n\tEpochs seen: 0\n\tBatches seen: 0\n\tExamples seen: 0\n\tbias_hid_max: -2.0\n\tbias_hid_mean: -2.0\n\tbias_hid_min: -2.0\n\tbias_vis_max: 0.0\n\tbias_vis_mean: 0.0\n\tbias_vis_min: 0.0\n\th_max: 0.00165399100786\n\th_mean: 1.88760476563e-05\n\th_min: 9.81922087086e-07\n\tlearning_rate: 0.1\n\tobjective: 15.1039446295\n\treconstruction_error: 74.2614943235\n\ttotal_seconds_last_epoch: 0.0\n\ttraining_seconds_this_epoch: 0.0\n/usr/local/lib/python2.7/dist-packages/pylearn2-0.1dev-py2.7.egg/pylearn2/training_algorithms/sgd.py:545: UserWarning: The channel that has been chosen for monitoring is: objective.\n  str(self.channel_name) + '.')\nTime this epoch: 0:01:50.317007\nMonitoring step:\n\tEpochs seen: 1\n\tBatches seen: 30000\n\tExamples seen: 150000\n\tbias_hid_max: -0.272866563291\n\tbias_hid_mean: -1.75659325702\n\tbias_hid_min: -2.51777410634\n\tbias_vis_max: 0.153457422901\n\tbias_vis_mean: 0.00176315332845\n\tbias_vis_min: -0.237732403732\n\th_max: 0.610667377089\n\th_mean: 0.0563938573299\n\th_min: 9.35136301756e-06\n\tlearning_rate: 0.1\n\tobjective: 3.7911270731\n\treconstruction_error: 29.6729947003\n\ttotal_seconds_last_epoch: 0.0\n\ttraining_seconds_this_epoch: 110.317007\nmonitoring channel is objective\nSaving to cifar_grbm_smd.pkl...\nSaving to cifar_grbm_smd.pkl done. Time elapsed: 0.110872 seconds\nTime this epoch: 0:02:04.662160\nMonitoring step:\n\tEpochs seen: 2\n\tBatches seen: 60000\n\tExamples seen: 300000\n\tbias_hid_max: -0.246065235441\n\tbias_hid_mean: -2.01199273594\n\tbias_hid_min: -2.80764297057\n\tbias_vis_max: 0.18772020839\n\tbias_vis_mean: -0.000339412708619\n\tbias_vis_min: -0.187033129545\n\th_max: 0.598067247\n\th_mean: 0.0492958969179\n\th_min: 6.29718290456e-06\n\tlearning_rate: 0.1\n\tobjective: 3.52647040247\n\treconstruction_error: 29.4993278159\n\ttotal_seconds_last_epoch: 110.48161\n\ttraining_seconds_this_epoch: 124.66216\nmonitoring channel is objective\nSaving to cifar_grbm_smd.pkl...\nSaving to cifar_grbm_smd.pkl done. Time elapsed: 0.116746 seconds\nTime this epoch: 0:02:12.847753\nMonitoring step:\n\tEpochs seen: 3\n\tBatches seen: 90000\n\tExamples seen: 450000\n\tbias_hid_max: -0.217807592013\n\tbias_hid_mean: -2.12349417946\n\tbias_hid_min: -3.06315685204\n\tbias_vis_max: 0.209034461753\n\tbias_vis_mean: 0.000870083812334\n\tbias_vis_min: -0.179624583448\n\th_max: 0.576599923191\n\th_mean: 0.0469544715944\n\th_min: 4.2071605178e-06\n\tlearning_rate: 0.1\n\tobjective: 3.37623778883\n\treconstruction_error: 29.2305192806\n\ttotal_seconds_last_epoch: 124.834175\n\ttraining_seconds_this_epoch: 132.847753\nmonitoring channel is objective\nSaving to cifar_grbm_smd.pkl...\nSaving to cifar_grbm_smd.pkl done. Time elapsed: 0.116925 seconds\nTime this epoch: 0:02:17.842619\nMonitoring step:\n\tEpochs seen: 4\n\tBatches seen: 120000\n\tExamples seen: 600000\n\tbias_hid_max: -0.248029915286\n\tbias_hid_mean: -2.1915198152\n\tbias_hid_min: -3.22054069844\n\tbias_vis_max: 0.262918509995\n\tbias_vis_mean: 0.000191742870546\n\tbias_vis_min: -0.173778387514\n\th_max: 0.554194658923\n\th_mean: 0.0458009309099\n\th_min: 3.77548228177e-06\n\tlearning_rate: 0.1\n\tobjective: 3.26947615424\n\treconstruction_error: 29.8005568223\n\ttotal_seconds_last_epoch: 133.019077\n\ttraining_seconds_this_epoch: 137.842619\nmonitoring channel is objective\nSaving to cifar_grbm_smd.pkl...\nSaving to cifar_grbm_smd.pkl done. Time elapsed: 0.118880 seconds\nTime this epoch: 0:02:34.845050\nMonitoring step:\n\tEpochs seen: 5\n\tBatches seen: 150000\n\tExamples seen: 750000\n\tbias_hid_max: -0.282424217896\n\tbias_hid_mean: -2.23634235523\n\tbias_hid_min: -3.37966150939\n\tbias_vis_max: 0.227035163956\n\tbias_vis_mean: -0.000246034347711\n\tbias_vis_min: -0.160823731668\n\th_max: 0.552645148762\n\th_mean: 0.0452473206913\n\th_min: 2.83635672249e-06\n\tlearning_rate: 0.1\n\tobjective: 3.30908132011\n\treconstruction_error: 29.058447262\n\ttotal_seconds_last_epoch: 138.016547\n\ttraining_seconds_this_epoch: 154.84505\nmonitoring channel is objective\nshrinking learning rate to 0.099000\nSaving to cifar_grbm_smd.pkl...\nSaving to cifar_grbm_smd.pkl done. Time elapsed: 0.134288 seconds\nSaving to cifar_grbm_smd.pkl...\nSaving to cifar_grbm_smd.pkl done. Time elapsed: 0.159221 seconds\nusername@ubuntu:~/pylearn2/pylearn2/scripts/tutorials/grbm_smd$\n```\n\n## \u30b9\u30c6\u30c3\u30d73 \u753b\u50cf\u306b\u3057\u3066\u898b\u308b\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u305d\u306e\u307e\u307e\u3067\n\n```bash\n# \u3053\u3053\u3067\n# export PYLEARN2_VIEWER_COMMAND=\"eog --new-instance\"\n# \u304c\u306a\u304b\u3063\u305f\u3089\u30a8\u30e9\u30fc\u306b\u306a\u308b\nshow_weights.py cifar_grbm_smd.pkl\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 - 2014\u5e7402\u670820\u65e5 - 01\u664244\u520641\u79d2.png](https://qiita-image-store.s3.amazonaws.com/0/12489/b9b2f7c3-412d-fb4f-97d0-3501d01e2df7.png)\n\u3053\u308c\u3067\u3044\u3044\u306e\u304b\u306a\uff1f\n\n# Windows\u3067\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ed6\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51fa\u6765\u305f\u3051\u3069\ntheano\u304c\u7121\u7406\u3060\u3063\u305f\n\u51fa\u6765\u306a\u3044\u3053\u3068\u306f\u306a\u3044\u3068\u601d\u3046\u3051\u3069\u3001linux\u3092\u4f7f\u3063\u305f\u65b9\u304c\u3044\u3044\u3068\u601d\u3046\u3002\n\n\n# Mac\n\u6301\u3063\u3066\u306a\u3044\u306e\u3067\u5206\u304b\u3089\u306a\u3044\u3002\n\n", "tags": ["\u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0", "Pylearn2"]}