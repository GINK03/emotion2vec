{"context": "https://flowtype.org/\n\n\u7c7b\u578b\u5f15\u7528\n\u901a\u8fc7\u7c7b\u578b\u5f15\u7528\u6765\u627e\u51fa\u6f5c\u5728\u7684 bug, \u5b83\u4f1a\u8ffd\u67e5\u53d8\u91cf\u5728\u6574\u4e2a\u7a0b\u5e8f\u91cc\u7684\u6240\u6709\u5f15\u7528\u800c\u627e\u4e0d\u7c7b\u578b\u51b2\u7a81\u7684bug.\n\n\u89c4\u8303\u7684 JS \u5199\u6cd5\nFlow \u662f\u7ed9 Javascript \u8bed\u8a00\u7f16\u5199\u7684, \u5b83\u80fd\u591f\u61c2\u5f97 javascript\u7684\u4e60\u60ef\u7528\u6cd5, \u8ba9\u4ee3\u7801\u66f4\u52a0\u6d41\u7545.\n\n\u5b9e\u65f6\u53cd\u9988\nFlow \u4f1a\u589e\u91cf\u7684\u68c0\u67e5\u6bcf\u4e00\u6b21\u4ee3\u7801\u6539\u52a8. \u63d0\u4f9b\u5feb\u901f\u54cd\u5e94.\n\n\u5982\u5b83\u53ef\u4ee5\u68c0\u67e5:\n\n\u7c7b\u578b\u8f6c\u6362\n\u7a7a\u5f15\u7528\n\u8fd8\u6709\u53ef\u6015\u7684undefined is not a function\n\n\n\u5982:\n// @flow\nfunction foo(x) {\n  return x * 10;\n}\nfoo('Hello, world!');\n\n\nFlow \u4f1a\u8f93\u51fa\u8fd9\u6837\u7684\u68c0\u67e5\u7ed3\u679c:\n$> flow\n5: foo('Hello, world!');\n   ^^^^^^^^^^^^^^^^^^^^ function call\n3:   return x * 10;\n            ^ string. This type is incompatible with\n3:   return x * 10;\n            ^^^^^^ number\n\nFlow \u8fd8\u53ef\u4ee5\u7ed9\u4ee3\u7801\u6dfb\u52a0assertion\n// @flow\nfunction bar(x): string {\n  return x.length;\n}\nbar('Hello, world!');\n\n\u5982\u4e0a\u9762\u7684\u51fd\u6570\u6807\u8bb0\u4e3a\u8fd4\u56destring, \u800c\u5b9e\u9645\u8fd4\u56de\u7684\u5374\u662f number, flow \u7684\u68c0\u67e5\u7ed3\u679c\u5c31\u662f:\n$> flow\n3:   return x.length;\n            ^^^^^^^^ number. This type is incompatible with the expected return type of\n2: function bar(x): string {\n                    ^^^^^^ string\n\n\n\u4e0a\u9762\u7684\u5199\u6cd5\u5b8c\u5168\u53ef\u4ee5\u63d0\u4f9b\u5982babel \u8fd9\u6837\u7684\u5de5\u5177\u6700\u540e\u8f6c\u5316\u4e3a\u90a3\u91cc\u90fd\u80fd\u591f\u6267\u884c\u7684javascript \u4ee3\u7801.\nref:\n\nhttps://github.com/facebook/flow\nhttps://github.com/facebook/flow/tree/master/examples/01_HelloWorld\n\n\nhttps://flowtype.org/\n\n\n# \u7c7b\u578b\u5f15\u7528\n\n\u901a\u8fc7\u7c7b\u578b\u5f15\u7528\u6765\u627e\u51fa\u6f5c\u5728\u7684 bug, \u5b83\u4f1a\u8ffd\u67e5\u53d8\u91cf\u5728\u6574\u4e2a\u7a0b\u5e8f\u91cc\u7684\u6240\u6709\u5f15\u7528\u800c\u627e\u4e0d\u7c7b\u578b\u51b2\u7a81\u7684bug.\n\n# \u89c4\u8303\u7684 JS \u5199\u6cd5\n\nFlow \u662f\u7ed9 Javascript \u8bed\u8a00\u7f16\u5199\u7684, \u5b83\u80fd\u591f\u61c2\u5f97 javascript\u7684\u4e60\u60ef\u7528\u6cd5, \u8ba9\u4ee3\u7801\u66f4\u52a0\u6d41\u7545.\n\n# \u5b9e\u65f6\u53cd\u9988\n\nFlow \u4f1a\u589e\u91cf\u7684\u68c0\u67e5\u6bcf\u4e00\u6b21\u4ee3\u7801\u6539\u52a8. \u63d0\u4f9b\u5feb\u901f\u54cd\u5e94.\n\n##\u5982\u5b83\u53ef\u4ee5\u68c0\u67e5:\n\n- \u7c7b\u578b\u8f6c\u6362\n- \u7a7a\u5f15\u7528\n- \u8fd8\u6709\u53ef\u6015\u7684`undefined is not a function`\n\n\n\u5982:\n\n```\n// @flow\nfunction foo(x) {\n  return x * 10;\n}\nfoo('Hello, world!');\n\n```\n\nFlow \u4f1a\u8f93\u51fa\u8fd9\u6837\u7684\u68c0\u67e5\u7ed3\u679c:\n\n```\n$> flow\n5: foo('Hello, world!');\n   ^^^^^^^^^^^^^^^^^^^^ function call\n3:   return x * 10;\n            ^ string. This type is incompatible with\n3:   return x * 10;\n            ^^^^^^ number\n```\n\nFlow \u8fd8\u53ef\u4ee5\u7ed9\u4ee3\u7801\u6dfb\u52a0` assertion`\n\n```\n// @flow\nfunction bar(x): string {\n  return x.length;\n}\nbar('Hello, world!');\n```\n\n\u5982\u4e0a\u9762\u7684\u51fd\u6570\u6807\u8bb0\u4e3a\u8fd4\u56de` string`, \u800c\u5b9e\u9645\u8fd4\u56de\u7684\u5374\u662f number, flow \u7684\u68c0\u67e5\u7ed3\u679c\u5c31\u662f:\n\n```\n$> flow\n3:   return x.length;\n            ^^^^^^^^ number. This type is incompatible with the expected return type of\n2: function bar(x): string {\n                    ^^^^^^ string\n\n```\n\n\u4e0a\u9762\u7684\u5199\u6cd5\u5b8c\u5168\u53ef\u4ee5\u63d0\u4f9b\u5982` babel` [\u8fd9\u6837\u7684\u5de5\u5177\u6700\u540e\u8f6c\u5316\u4e3a\u90a3\u91cc\u90fd\u80fd\u591f\u6267\u884c\u7684javascript \u4ee3\u7801.](https://flowtype.org/docs/running.html)\n\n\nref:\n\n1. https://github.com/facebook/flow\n2. https://github.com/facebook/flow/tree/master/examples/01_HelloWorld\n", "tags": ["JavaScript", "Facebook", "flow"]}