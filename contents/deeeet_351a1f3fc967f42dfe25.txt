{"context": " More than 1 year has passed since last update.Apache kafka\u306b\u5165\u9580\u3057\u305f\n\u6700\u8fd1Apache kafka\u3092\u63a2\u6c42\u3057\u3066\u3044\u308b\uff0e\u89e6\u308b\u3053\u3068\u3082\u591a\u304f\u306a\u3063\u305f\u306e\u3067\u30ed\u30fc\u30ab\u30eb\u3067\u7c21\u5358\u306b\u8a66\u305b\u308b\u74b0\u5883\u3092\u3061\u3083\u3093\u3068\u6574\u3048\u305f\uff0eJVM\u3060\u3057\u52d5\u304b\u3059\u306e\u5927\u5909\u305d\u3046\u3068\u601d\u308f\u308c\u304c\u3061\u3060\u304cDocker\u3092\u4f7f\u3048\u3070\u30b3\u30de\u30f3\u30c91\u767a\u3067\u8d77\u52d5\u3067\u304d\u308b\uff0e\u4ee5\u4e0b\u3067\u306f\u5b9f\u969b\u306bBroker\u3092\u7acb\u3066\u3066syslog\u306e\u914d\u4fe1/\u8cfc\u8aad\u3092\u3084\u3063\u3066\u307f\u308b\uff0e\n\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 0.8.2 \u3092\u5bfe\u8c61\u306b\u66f8\u3044\u3066\u3044\u308b\uff0e\n\u307e\u305aKafka\uff08Broker\uff09\u3092\u52d5\u304b\u3059\uff0eDocker\u30a4\u30e1\u30fc\u30b8tcnksm/single-kafka\u3092\u6e96\u5099\u3057\u305f\uff0e\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8d77\u52d5\u3059\u308b\uff0e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3059\u3079\u3066Docker\u30db\u30b9\u30c8\u5916\u304b\u3089Broker\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\uff0e\n $ docker run --rm -it \\\n     --name kafka \\\n     --publish 9092:9092 \\\n     --env ADVERTISED_HOST=${DOCKER_HOST} \\\n     --env ADVERTISED_PORT=9092 \\\n     tcnksm/single-kafka\n\n\u5b9f\u969b\u306bsyslog\u306e\u914d\u4fe1\uff08Produce\uff09\u3068\u8cfc\u8aad\uff08Consume\uff09\u3092\u3057\u3066\u307f\u308b\uff0elogstash\u3084fluentd\u3092\u4f7f\u3063\u3066\u3082\u826f\u3044\u304ckafkacat\u3092\u4f7f\u3046\u306e\u304c\u304a\u624b\u8efd\uff0e\u30d0\u30a4\u30ca\u30ea\u3067\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u306e\u3067OSX\u3060\u3068HomeBrew\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\uff0e\n$ brew install kafkacat\n\n\u307e\u305a\u914d\u4fe1\u306f\u4ee5\u4e0b\uff0e\u30d1\u30a4\u30d7\u3067tail\u306e\u51fa\u529b\u3092\u53d7\u3051\u53d6\u308b\uff0e\u30c8\u30d4\u30c3\u30af\u540d\u306fsyslog\u3068\u3057Kafka\uff08Broker\uff09\u306fDocker\u4e0a\u3067\u52d5\u3044\u3066\u3044\u308b\u306e\u3067${DOCKER_HOST}:9092\u3092\u6307\u5b9a\u3059\u308b\uff0e\n$ tail -f /var/log/system.log | kafkacat -P -t syslog -b ${DOCKER_HOST}:9092\n\n\u6b21\u306b\u8cfc\u8aad\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\uff0e\u30c8\u30d4\u30c3\u30af\u540dsyslog\u3092\u6307\u5b9a\u3059\u308b\u3060\u3051\uff0e\n$ kafkacat -C -t syslog -b ${DOCKER_HOST}:9092\n\n\n\u307e\u3068\u3081\n\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306eConsumer/Producer\u3092\u8a66\u3059\uff0c\u3082\u3057\u304f\u306f\u81ea\u5206\u3067\u66f8\u3044\u305fConsumer\u3084Producer\u306e\u30c6\u30b9\u30c8\u306b\u3082\u4f7f\u3048\u308b\u306e\u3067\u305c\u3072\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\uff0e\n\n[Apache kafka\u306b\u5165\u9580\u3057\u305f](http://deeeet.com/writing/2015/09/01/apache-kafka/)\n\n\u6700\u8fd1[Apache kafka](http://kafka.apache.org/)\u3092\u63a2\u6c42\u3057\u3066\u3044\u308b\uff0e\u89e6\u308b\u3053\u3068\u3082\u591a\u304f\u306a\u3063\u305f\u306e\u3067\u30ed\u30fc\u30ab\u30eb\u3067\u7c21\u5358\u306b\u8a66\u305b\u308b\u74b0\u5883\u3092\u3061\u3083\u3093\u3068\u6574\u3048\u305f\uff0eJVM\u3060\u3057\u52d5\u304b\u3059\u306e\u5927\u5909\u305d\u3046\u3068\u601d\u308f\u308c\u304c\u3061\u3060\u304cDocker\u3092\u4f7f\u3048\u3070\u30b3\u30de\u30f3\u30c91\u767a\u3067\u8d77\u52d5\u3067\u304d\u308b\uff0e\u4ee5\u4e0b\u3067\u306f\u5b9f\u969b\u306bBroker\u3092\u7acb\u3066\u3066syslog\u306e\u914d\u4fe1/\u8cfc\u8aad\u3092\u3084\u3063\u3066\u307f\u308b\uff0e\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u306f _0.8.2_ \u3092\u5bfe\u8c61\u306b\u66f8\u3044\u3066\u3044\u308b\uff0e\n\n\u307e\u305aKafka\uff08Broker\uff09\u3092\u52d5\u304b\u3059\uff0eDocker\u30a4\u30e1\u30fc\u30b8[tcnksm/single-kafka](https://github.com/tcnksm/dockerfile-single-kafka)\u3092\u6e96\u5099\u3057\u305f\uff0e\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8d77\u52d5\u3059\u308b\uff0e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3059\u3079\u3066Docker\u30db\u30b9\u30c8\u5916\u304b\u3089Broker\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\uff0e\n\n ```bash\n $ docker run --rm -it \\\n     --name kafka \\\n     --publish 9092:9092 \\\n     --env ADVERTISED_HOST=${DOCKER_HOST} \\\n     --env ADVERTISED_PORT=9092 \\\n     tcnksm/single-kafka\n ```\n\n\n\u5b9f\u969b\u306bsyslog\u306e\u914d\u4fe1\uff08Produce\uff09\u3068\u8cfc\u8aad\uff08Consume\uff09\u3092\u3057\u3066\u307f\u308b\uff0elogstash\u3084fluentd\u3092\u4f7f\u3063\u3066\u3082\u826f\u3044\u304c[kafkacat](https://github.com/edenhill/kafkacat)\u3092\u4f7f\u3046\u306e\u304c\u304a\u624b\u8efd\uff0e\u30d0\u30a4\u30ca\u30ea\u3067\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u306e\u3067OSX\u3060\u3068HomeBrew\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\uff0e\n\n```bash\n$ brew install kafkacat\n```\n\n\u307e\u305a\u914d\u4fe1\u306f\u4ee5\u4e0b\uff0e\u30d1\u30a4\u30d7\u3067`tail`\u306e\u51fa\u529b\u3092\u53d7\u3051\u53d6\u308b\uff0e\u30c8\u30d4\u30c3\u30af\u540d\u306f`syslog`\u3068\u3057Kafka\uff08Broker\uff09\u306fDocker\u4e0a\u3067\u52d5\u3044\u3066\u3044\u308b\u306e\u3067`${DOCKER_HOST}:9092`\u3092\u6307\u5b9a\u3059\u308b\uff0e\n\n```bash\n$ tail -f /var/log/system.log | kafkacat -P -t syslog -b ${DOCKER_HOST}:9092\n```\n\n\u6b21\u306b\u8cfc\u8aad\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\uff0e\u30c8\u30d4\u30c3\u30af\u540d`syslog`\u3092\u6307\u5b9a\u3059\u308b\u3060\u3051\uff0e\n\n```bash\n$ kafkacat -C -t syslog -b ${DOCKER_HOST}:9092\n```\n\n## \u307e\u3068\u3081\n\n\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306eConsumer/Producer\u3092\u8a66\u3059\uff0c\u3082\u3057\u304f\u306f\u81ea\u5206\u3067\u66f8\u3044\u305fConsumer\u3084Producer\u306e\u30c6\u30b9\u30c8\u306b\u3082\u4f7f\u3048\u308b\u306e\u3067\b\u305c\u3072\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\uff0e\n\n\n", "tags": ["Kafka"]}