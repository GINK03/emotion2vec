{"context": " More than 1 year has passed since last update.\u3072\u3055\u3073\u3055\u306bIFTTT\u3092\u3044\u3058\u3063\u3066\u305f\u3089\u3001Maker Channel\u304c\u3067\u304d\u305f\u3053\u3068\u3092\u77e5\u3063\u305f\u306e\u3067\u3001AWS Lambda\u3068IFTTT\u3067push\u901a\u77e5\u3092\u5b9f\u73fe\u3057\u3066\u307f\u305f\u3002\n\u4eca\u56de\u306f\u5358\u7d14\u306b Hello from Lambda! \u3092Lambda->IFTTT\u7d4c\u7531\u3067\u901a\u77e5\u3055\u305b\u3066\u307f\u308b\u3002\nMaker Channel\u306fWebhookURL\u3092\u63d0\u4f9b\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3001\u305d\u3053\u306bGET\u304bPOST\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u3059\u308b\u3068\u30c8\u30ea\u30ac\u30fc\u3068\u306a\u3063\u3066\u304f\u308c\u308b\u3002\n\nIFTTT\u5074\u306e\u8a2d\u5b9a\n\n\n\nhttps://ifttt.com/maker \u3067SecretKey\u3092\u53d6\u5f97\u3059\u308b\nTrigger(this)\u3092\u300cMaker\u300d\u3001Action(that)\u3092\u300cIF Notifications\u300d\u3067Recipe\u3092\u4f5c\u308b\n\n\n\u3053\u306e\u3068\u304d\u5165\u529b\u3057\u305fevent name\u306fWebhookURL\u306e\u4e00\u90e8\u306b\u306a\u308b\n\n\nRecipe\u306eNotification(push\u901a\u77e5\u5185\u5bb9)\u306b {{Value1}} \u3092\u5165\u529b\u3057\u3066\u4fdd\u5b58\u3059\u308b\n\n\nLambda(Node.js)\u306e\u30b3\u30fc\u30c9\nhttps://github.com/kawahiro311/aws-lambda2ifttt\nconsole.log('Loading function');\n\nvar https = require('https');\n\nvar iftttEventName = 'sample_lambda_event'; // IFTTT\u3067\u4f5c\u3063\u305fRecipe\u306eEventName\nvar iftttSecretKey = 'YOUR SECRET KEY'; // MakerChannel\u306eSecretKey\n\nvar body = JSON.stringify({ value1: 'Hello from Lambda!' });\n\nvar options = {\n    hostname: 'maker.ifttt.com',\n    path: '/trigger/'\n        + iftttEventName\n        + '/with/key/'\n        + iftttSecretKey,\n    method: 'POST',\n    headers: {\n        'Content-Type': 'application/json',\n        'Content-Length': body.length\n    }\n};\n\nexports.handler = function(event, context) {\n    https.request(options, function (res) {\n        res.setEncoding('utf8');\n        res.on('data', function(str) {\n            console.log(str);\n        });\n        context.succeed(res.statusCode);\n    }).write(body);\n};\n\n\n\u6ce8\u610f\u70b9\nIFTTT\u306b\u6e21\u305b\u308b\u5909\u6570\u306f value1 value2 value3 \u306e\u307f\u306a\u306e\u3067\u6ce8\u610f\n\n\u5b9f\u969b\u306epush\u901a\u77e5\u30ad\u30e3\u30d7\u30c1\u30e3\n\n\n\u307e\u3068\u3081\nIFTTT\u306eMakerChannel\u4fbf\u5229\uff01\n\u4eca\u56de\u306f\u6c7a\u307e\u3063\u305f\u6587\u5b57\u5217\u3092\u901a\u77e5\u3055\u305b\u305f\u3060\u3051\u3060\u3063\u305f\u306e\u3067Lambda\u3067\u3042\u308b\u5fc5\u8981\u6027\u306f\u306a\u3044\u3067\u3059\u304c\u3001\u30a4\u30d9\u30f3\u30c8\u3068\u9023\u52d5\u3057\u3066\u4f55\u304b\u3092\u901a\u77e5\u3055\u305b\u308b\u306e\u3082\u3044\u3044\u3057\u3001Lambda\u304ccron\u5bfe\u5fdc\u3057\u305f\u306e\u3067\u51dd\u3063\u305f\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u307f\u305f\u3044\u306e\u3082\u4f5c\u308c\u3066\u3044\u308d\u3044\u308d\u6709\u7528\u305d\u3046\u30fc\n\n\u3072\u3068\u308a\u3054\u3068\nLambda\u306eRuby\u5bfe\u5fdc\u306f\u3084\u304f\u3053\u306a\u3044\u304b\u306a\u30fc(\u00b4\u30fb\u03c9\u30fb\uff40)\n\u3072\u3055\u3073\u3055\u306bIFTTT\u3092\u3044\u3058\u3063\u3066\u305f\u3089\u3001[Maker Channel](https://ifttt.com/maker)\u304c\u3067\u304d\u305f\u3053\u3068\u3092\u77e5\u3063\u305f\u306e\u3067\u3001AWS Lambda\u3068IFTTT\u3067push\u901a\u77e5\u3092\u5b9f\u73fe\u3057\u3066\u307f\u305f\u3002\n\u4eca\u56de\u306f\u5358\u7d14\u306b `Hello from Lambda!` \u3092Lambda->IFTTT\u7d4c\u7531\u3067\u901a\u77e5\u3055\u305b\u3066\u307f\u308b\u3002\n\nMaker Channel\u306fWebhookURL\u3092\u63d0\u4f9b\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3001\u305d\u3053\u306bGET\u304bPOST\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u3059\u308b\u3068\u30c8\u30ea\u30ac\u30fc\u3068\u306a\u3063\u3066\u304f\u308c\u308b\u3002\n## IFTTT\u5074\u306e\u8a2d\u5b9a\n\n![Recipe_31042250_-_IFTTT.png](https://qiita-image-store.s3.amazonaws.com/0/19035/1e0e54a9-15ef-396f-36f5-f253ead2c444.png)\n\n1. https://ifttt.com/maker \u3067SecretKey\u3092\u53d6\u5f97\u3059\u308b\n2. Trigger(this)\u3092\u300cMaker\u300d\u3001Action(that)\u3092\u300cIF Notifications\u300d\u3067Recipe\u3092\u4f5c\u308b\n    - \u3053\u306e\u3068\u304d\u5165\u529b\u3057\u305fevent name\u306fWebhookURL\u306e\u4e00\u90e8\u306b\u306a\u308b\n3. Recipe\u306eNotification(push\u901a\u77e5\u5185\u5bb9)\u306b `{{Value1}}` \u3092\u5165\u529b\u3057\u3066\u4fdd\u5b58\u3059\u308b\n\n## Lambda(Node.js)\u306e\u30b3\u30fc\u30c9\n\nhttps://github.com/kawahiro311/aws-lambda2ifttt\n\n```js\nconsole.log('Loading function');\n\nvar https = require('https');\n\nvar iftttEventName = 'sample_lambda_event'; // IFTTT\u3067\u4f5c\u3063\u305fRecipe\u306eEventName\nvar iftttSecretKey = 'YOUR SECRET KEY'; // MakerChannel\u306eSecretKey\n\nvar body = JSON.stringify({ value1: 'Hello from Lambda!' });\n\nvar options = {\n    hostname: 'maker.ifttt.com',\n    path: '/trigger/'\n        + iftttEventName\n        + '/with/key/'\n        + iftttSecretKey,\n    method: 'POST',\n    headers: {\n        'Content-Type': 'application/json',\n        'Content-Length': body.length\n    }\n};\n\nexports.handler = function(event, context) {\n    https.request(options, function (res) {\n        res.setEncoding('utf8');\n        res.on('data', function(str) {\n            console.log(str);\n        });\n        context.succeed(res.statusCode);\n    }).write(body);\n};\n```\n\n### \u6ce8\u610f\u70b9\n\nIFTTT\u306b\u6e21\u305b\u308b\u5909\u6570\u306f `value1` `value2` `value3` \u306e\u307f\u306a\u306e\u3067\u6ce8\u610f\n    \n## \u5b9f\u969b\u306epush\u901a\u77e5\u30ad\u30e3\u30d7\u30c1\u30e3\n\n![\u5199\u771f 2015-12-13 19 22 23.png](https://qiita-image-store.s3.amazonaws.com/0/19035/195bd91c-7bc9-ac97-d231-0f7c8cc64123.png)\n\n## \u307e\u3068\u3081\n\nIFTTT\u306eMakerChannel\u4fbf\u5229\uff01\n\u4eca\u56de\u306f\u6c7a\u307e\u3063\u305f\u6587\u5b57\u5217\u3092\u901a\u77e5\u3055\u305b\u305f\u3060\u3051\u3060\u3063\u305f\u306e\u3067Lambda\u3067\u3042\u308b\u5fc5\u8981\u6027\u306f\u306a\u3044\u3067\u3059\u304c\u3001\u30a4\u30d9\u30f3\u30c8\u3068\u9023\u52d5\u3057\u3066\u4f55\u304b\u3092\u901a\u77e5\u3055\u305b\u308b\u306e\u3082\u3044\u3044\u3057\u3001Lambda\u304ccron\u5bfe\u5fdc\u3057\u305f\u306e\u3067\u51dd\u3063\u305f\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u307f\u305f\u3044\u306e\u3082\u4f5c\u308c\u3066\u3044\u308d\u3044\u308d\u6709\u7528\u305d\u3046\u30fc\n\n## \u3072\u3068\u308a\u3054\u3068\n\nLambda\u306eRuby\u5bfe\u5fdc\u306f\u3084\u304f\u3053\u306a\u3044\u304b\u306a\u30fc(\u00b4\u30fb\u03c9\u30fb\uff40)\n", "tags": ["AWS", "lambda", "Node.js", "ifttt"]}