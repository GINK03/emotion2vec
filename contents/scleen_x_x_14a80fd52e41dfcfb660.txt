{"tags": ["Ruby", "RMagick", "ffmpeg"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\u307f\u306a\u3055\u3093\u3001\u304a\u306f\u3053\u3093\u3070\u3093\u306b\u3061\u306f\u3067\u30b9\u3002\u666e\u6bb5\u306f\u52d5\u753b\u51e6\u7406\u3068\u304bffmpeg\u307e\u308f\u308a\u306e\u8a18\u4e8b\u3092\u6295\u7a3f\u3057\u3066\u307e\u3059\u3002\u300c\u30b9\u300d\u3067\u3059\u30022014\u5e74\u3082\u3042\u3068\u308f\u305a\u304b  \u5e74\u672b\u5e74\u59cb\u3068\u306e\u3093\u3073\u308a\u904e\u3054\u3057\u305f\u3044\u3082\u306e\u3067\u3059  \u306e\u3093\u3073\u308a\u904e\u3054\u3059\u306a\u3089\u3001\u3084\u3063\u3071\u308a\u3001\u753b\u50cf\u51e6\u7406\u30fb\u52d5\u753b\u51e6\u7406\u304c\u5b9a\u756a\u3067\u3059\u3088\u306d\uff1f\u305d\u3053\u306b\u3042\u308bCPU\u3092\u4f55\u6545100%\u307e\u3067\u4f7f\u3044\u5207\u3089\u306a\u3044\u306e\u304b\uff1f\u5c71\u304c\u3042\u308b\u304b\u3089\u767b\u308b\u306e\u304c\u767b\u5c71\u5bb6\u306e\u5fc3\u304c\u3051\u306a\u3089\u3001CPU\u304c\u3042\u308b\u306a\u3089\u4f7f\u3044\u5207\u308b\u306e\u304c\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u3068\u3057\u3066\u306e\u6b63\u3057\u3044\u5fc3\u304c\u3051\u3067\u3059\u3002\u4f7f\u3044\u5207\u308b\u4e2d\u3067\u6700\u9069\u5316\u3092\u76ee\u6307\u3059\uff01\u3067\u306f\u3001\u4f7f\u3044\u5207\u308b\u306b\u306f\u3069\u3046\u3057\u305f\u3089\u3044\u3044\u306e\u304b\uff1f \n\u753b\u50cf\u51e6\u7406\u3060\uff01\uff01\uff01\n\n\u52d5\u753b\u3064\u304f\u308b\u3060\uff01\uff01\uff01\nhttps://www.youtube.com/watch?v=jWD22lrWbD0\n\u6700\u8fd1\u306f\u4f7f\u3048\u308bCPU\u306e\u6570\u304c\u5897\u3048\u3066\u304d\u307e\u3057\u305f\u306d\u3002\u5c11\u3057\u80cc\u4f38\u3073\u3092\u3059\u308c\u3070\u3001\u304b\u3064\u3066\u306f\u60f3\u50cf\u3067\u304d\u306a\u304b\u3063\u305f\u307b\u3069\u4f7f\u3048\u305d\u3046\u3067\u3059\u3002Hadoop\u3067\u3059  \u5206\u6563\u51e6\u7406\u3067\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u697d\u3057\u3044\u3067\u3059\u306d\u3002\u5922\u306f\u5e83\u304c\u308a\u307e\u3059\u3002CPU\u306f\u5bdd\u304b\u305b\u305f\u3060\u3051\u8a08\u7b97\u6a5f\u4f1a\u3092\u5931\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u3068\u306b\u304b\u304f\u8a08\u7b97\u3002\u3048\uff1f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u304c\u3067\u304d\u306a\u3044\uff1f\u305d\u308c\u306a\u3089\u30013D\u30d0\u30ea\u30d0\u30ea\u306e\u30aa\u30f3\u30e9\u30a4\u30f3\u30b2\u30fc\u30e0\u3092\u3069\u3046\u305e\u3002\u3048\uff1f\u6700\u8fd1\u306fGPU\u3060\u3063\u3066\uff1f\u30fb\u30fb\u30fb\u77f3\u304c\u3042\u3063\u305f\u3089\u71b1\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u30ad\u30c3\u30c8\u30ab\u30c3\u30c8\u304a\u3044\u3057\u3044\u306d \n\u3068\u3053\u308d\u3067\u3001RMagick\u306b\u9650\u3089\u305a\u753b\u50cf\u30fb\u52d5\u753b\u51e6\u7406\u30c4\u30fc\u30eb\u3092\u4f7f\u3063\u305f\u3053\u3068\u306f\u3042\u308a\u307e\u3059\u304b\uff1f\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u304f\u3063\u3066\u3044\u308b\u306a\u3089\n\n\u753b\u50cf\u30b5\u30a4\u30ba\u306e\u5909\u66f4\uff1a\u30b5\u30e0\u30cd\u30a4\u30eb\u7528\u3068\u304b\n\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u5909\u66f4\uff1ajpeg\u3092png\u306b\u3059\u308b\u3068\u304b\n\u30c7\u30b3\uff1a\u6587\u5b57\u5165\u308c\u3057\u305f\u308a\u3001\u30b9\u30bf\u30f3\u30d7\u5165\u308c\u305f\u308a\u3068\u304b\n\n\u3068\u3044\u3063\u305f\u611f\u3058\u306e\u7528\u9014\u304c\u30e1\u30b8\u30e3\u30fc\u304b\u306a\u3002\u305f\u3044\u3066\u3044\u306e\u3082\u306e\uff08\u30bd\u30d5\u30c8\u306b\u3057\u308d\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u3057\u308d\uff09\u306b\u306f\n\n\u30ac\u30a6\u30b9\u307c\u304b\u3057\n\uff12\u5024\u5316\uff08\u767d\u9ed2\u306b\u3059\u308b\uff09\n\u30a8\u30c3\u30b8\u62bd\u51fa\n\n\u3068\u3044\u3063\u305f\u8b0e\u6a5f\u80fd\u304c\u3064\u3044\u3066\u3044\u3066\u3001\u300c\u3053\u308c\u4f55\u306b\u4f7f\u3046\u3093\u3060\u308d\u3046\uff1f\u300d\u3063\u3066\u601d\u3046\u3053\u3068\u3042\u308a\u307e\u305b\u3093\uff1f\u666e\u901a\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u751f\u6d3b\u304b\u3089\u306f\u7e01\u9060\u3044\u3001\u753b\u50cf\u8a8d\u8b58\uff08\u9854\u3068\u304b\u6587\u5b57\u3068\u304b\u7269\u4f53\u3068\u304b\uff09\u3068\u304b\u3084\u308b\u3068\u304d\u306b\u52b9\u3044\u3066\u304f\u308b\u51e6\u7406\u3060\u3063\u305f\u308a\u3057\u307e\u3059\u3002\u3082\u3057\u3001\u6687\u304c\u3042\u3063\u305f\u3089\u305d\u306e\u8fba\u306e\u4e16\u754c\u3082\u8997\u3044\u3066\u307f\u3066\u306d\u3002\u9762\u767d\u3044\u3088\u3002\u308a\u3055\u3093\u3075\u30fc\u308a\u3048\u4e91\u3005\u3068\u304b\u3046\u3047\u30fc\u3076\u308c\u3063\u3068\u4e91\u3005\u3068\u304b \nRMagick\u3068\u305d\u306e\u4ed6\u4fbf\u5229\u306a\u3082\u306e\u3092\u4f7f\u3044\u306a\u304c\u3089\u4f55\u304b\u3064\u304f\u308b  \u306d\u305f\u306f\u3001Ruby Advent Calendar 2014 \u300212\u67081\u65e5\u6642\u70b9\u3067\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u8f09\u3063\u3066\u3044\u308b\u60c5\u5831\u4f7f\u3046\u3002\u8ab0\u304b\u3070\u3063\u304f\u308c\u3066\u3082\u6d88\u3055\u306a\u3044\u3001\u3054\u3081\u3093\u306d\u3002\nhttp://qiita.com/advent-calendar/2014/ruby\n\u66f8\u3044\u3066\u3044\u304f\u3088 \n\n\u3064\u304f\u308b\u3082\u306e\nRuby\u306e\u30a2\u30c9\u30d9\u30f3\u30c8\u30ab\u30ec\u30f3\u30c02014\u306e\u767b\u5834\u4eba\u7269\u3092\u4f7f\u3063\u305f\u4f55\u304b\u3092\u3064\u304f\u308a\u307e\u3059\u3002\n\n\u3067\u304d\u3042\u304c\u308a\n\u5148\u306b\u51fa\u6765\u4e0a\u304c\u3063\u305f\u3082\u306e\u3092\u2193\u3053\u3061\u3089\u3067\u3059\nhttps://www.youtube.com/watch?v=jWD22lrWbD0\n\n\u6e96\u5099\nUbuntu12.4\u7cfb\u3092\u4f7f\u3044\u307e\u3059\u3002Windows\u3067\u306f\u6642\u3005RMagick\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308b\u3089\u3057\u3044\u3002\u3044\u3064\u3082\u306e\u3053\u3068\u3060\u306d \n$5/\u6708\u304b\u3089\u4f7f\u3048\u308b DigitalOcean \u3068\u3044\u3046\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u4f7f\u3063\u3066\u307e\u3059\u3002\u4eca\u306a\u3089\u7d39\u4ecb\u30d7\u30ed\u30b0\u30e9\u30e0\u3067 $10 \u5206\u7121\u6599\u3067\u4f7f\u3048\u307e\u3059\u3002\n\n\u305d\u308c\u3067\u3082Windows\u306b\u5165\u308c\u305f\u3044\u5834\u5408\u306b\u306f\n64bit windows \u3067\u3082 32bit \u7528\u306eImageMagick\u5165\u308c\u3066\u306d\u3068\u304b\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\u3068\u304b\u6c17\u3092\u4ed8\u3051\u305f\u65b9\u304c\u3044\u3044\u3053\u3068\u304c\u3042\u308b\u3088\u3046\u3060\u3002\u4ee5\u4e0b windows7 \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u969b\u306b\u53c2\u8003\u306b\u306a\u308b\u30da\u30fc\u30b8 \u203b\u3044\u305a\u308c\u3082\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u60c5\u5831\u3067\u306f\u306a\u3044\u306e\u3067\u81ea\u5df1\u8cac\u4efb\u3067\n\nhttp://codeofalice.com/code/installing-rmagick-on-windows-7/\nhttp://www.ownway.info/Ruby/index.php?rmagick%2Fhowtoinstall%2Fwindows\nhttp://uisteven.blog.fc2.com/blog-entry-37.html\n\n\n\u306a\u3093\u304b\u30d6\u30af\u30de\u3067\u30fb\u30fb\u30fb\n\nRMagick\u306f\u3061\u3087\u3063\u3068\u524d\u306b\u8a66\u3057\u305f\u3051\u3069Windows\u3067\u30d3\u30eb\u30c9\u51fa\u6765\u306a\u304b\u3063\u305f\u3093\u3060\u3088\u306a\u3042\u3002\u7d50\u5c40ImageMagick\u30b3\u30de\u30f3\u30c9\u3092\u547c\u3073\u51fa\u3057\u3066\u4f7f\u3063\u305f\u3051\u3069\u3001\u4eca\u306f\u30d3\u30eb\u30c9\u3067\u304d\u308b\u3093\u3060\u308d\u3046\u304b\u3002\n\n\u3053\u3093\u306a\u30b3\u30e1\u30f3\u30c8\u304c\u4ed8\u3044\u305f\u3002Windows 7 \u306b\u5165\u308c\u3066\u307f\u305f\u3002\u30d3\u30eb\u30c9\u3067\u304d\u305f\u3002\n\nImageMagick \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get install imagemagick\n\n\nRMagick \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo gem install rmagick\n\nRMagick \u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://www.imagemagick.org/RMagick/doc/\nRMagick \u306e github \u30ec\u30dd\u30b8\u30c8\u30ea\nhttps://github.com/RMagick/RMagick\n\n\u3064\u304f\u308b\u3088\n\n\u3064\u304f\u308a\u304b\u305f\u306e\u624b\u9806\n\u3053\u3093\u306a\u611f\u3058\u3067\u3064\u304f\u308a\u307e\u3059\n\nAdvent Calendar \u306e\u53c2\u52a0\u8005\u4e00\u89a7\u3092\u53d6\u5f97 Nokogiri \u3067\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066 .json \u3067\u4fdd\u5b58 (\u8a18\u4e8b\u4e0b\u90e8\u306e\u304a\u307e\u3051\u306b\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u6709)\nqiita.com API v2 \u3092\u4f7f\u4f7f\u7528\u3057\u53c2\u52a0\u8005\u306e\u60c5\u5831\u3092\u53d6\u5f97 (\u8a18\u4e8b\u4e0b\u90e8\u306e\u304a\u307e\u3051\u306b\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u6709)\n\u30d5\u30ec\u30fc\u30e0\u3092\u3069\u3093\u306a\u611f\u3058\u306b\u3059\u308b\u304b\u8003\u3048\u308b\nRMagick\u306e\u52b9\u679c\u3092\u4f7f\u3063\u3066\u753b\u50cf\u3092\u52a0\u5de5\u3057\u3066\u30d5\u30ec\u30fc\u30e0\u3092\u3064\u304f\u308b (\u5fc5\u9808)\n\u5408\u6210\u3059\u308b (\u5fc5\u9808)\nYouTube\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b (\u5fc5\u9808)\n\nRMagick \u4ee5\u5916\u3067\u306f\u307e\u3063\u3066\u305f\u3069\u308a\u7740\u3051\u306a\u3044\u53ef\u80fd\u6027\u3092\u8003\u616e\u3057\u3066\u3001RMagick\u306e\u57fa\u672c\u3068\u304b\u305d\u306e\u8fba\u8aac\u660e\u3057\u3064\u3064\u30fb\u30fb\u30fb\n\nRMagick \u306e\u57fa\u672c\n\u2193\u3053\u306e\u5143\u753b\u50cf\u3092\u52a0\u5de5\u3057\u306a\u304c\u3089\u3001\u57fa\u672c\u3092\u89e3\u8aac\n\n\u203b\u753b\u50cf\u306fshutterstock\u306e\u3082\u306e\u3092\u4f7f\u7528\u3002\u5229\u7528\u898f\u7d04\u4e0a\u3053\u306e\u8a18\u4e8b\u5916\u3067\u306f\u5229\u7528\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u8a66\u3059\u3068\u304d\u306f\u30b9\u30de\u30db\u3067\u81ea\u5206\u306e\u753b\u50cf\u64ae\u5f71\u3059\u308b\u7b49\u3067\u9069\u5f53\u306a\u753b\u50cf\u3092\u7528\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30a8\u30d5\u30a7\u30af\u30c8\u304b\u3051\u308b\u3000\u30d6\u30e9\u30fc\n\nblur.rb\nrequire 'RMagick' # require \u3057\u3066\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8aad\u307f\u8fbc\u307f\n\nimg = Magick::ImageList.new(\"sample.jpg\") # \u5143\u753b\u50cf\u306e sample.jpg \u3092\u8aad\u307f\u8fbc\u307f\nnew_img = img.blur_image(20.0, 10.0) # \u30d6\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3000\u623b\u308a\u5024\u306b\u65b0\u3057\u3044\u753b\u50cf\u304c\u623b\u308b\u3088\nnew_img.write(\"blur.jpg\") # \u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u51fa\u3057\n\n\n\u30a8\u30d5\u30a7\u30af\u30c8\u5f8c\u753b\u50cf\n\n\n \u6ce8\u610f\u70b9\n\n\u30e1\u30e2\u30ea\u306e\u89e3\u653e\nRMagick\u304c\u53d6\u308a\u6271\u3046\u753b\u50cf\u306f\u660e\u793a\u7684\u306b\u30e1\u30e2\u30ea\u89e3\u653e\u306e\u6307\u793adestroy!\u3092\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u305f\u3068\u3048\u3070\u4eca\u56de\u306e\u4f5c\u696d\u306e\u3088\u3046\u306b\u5927\u91cf\u306b\u753b\u50cf\u3092\u30eb\u30fc\u30d7\u5185\u3067\u4f5c\u6210\u3059\u308b\u5834\u5408\u3001\u753b\u50cf\u306e\u66f8\u304d\u51fa\u3057\u304c\u7d42\u308f\u3063\u305f\u6642\u70b9\u3067destroy!\u3059\u308b\u306e\u304c\u671b\u307e\u3057\u3044\n\nmemory.rb\nimg = Magick::ImageList.new(\"sample.jpg\") # \u5143\u753b\u50cf\u306e sample.jpg \u3092\u8aad\u307f\u8fbc\u307f\nnew_img = img.blur_image(20.0, 10.0) # \u30d6\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3000\u623b\u308a\u5024\u306b\u65b0\u3057\u3044\u753b\u50cf\u304c\u623b\u308b\u3088\nnew_img.write(\"blur.jpg\") # \u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u51fa\u3057\n\nnew_img.destroy! # \u2605\u3053\u3053\u3067\u30e1\u30e2\u30ea\u89e3\u653e\n\n\n\n\u753b\u50cf\u306e\u62e1\u5927\u7e2e\u5c0f\n\nresize.rb\nrequire 'RMagick'\n\nimg = Magick::ImageList.new(\"sample.jpg\")\nnew_img = img.scale(0.25)\nnew_img.write(\"small.jpg\")\n\n\n\u7e2e\u5c0f\u5f8c\u306e\u753b\u50cf\n\n\n\u6587\u5b57\u5165\u308c\n\n\u6587\u5b57\u5165\u308c\u306b\u306f\u30d5\u30a9\u30f3\u30c8\u304c\u5fc5\u8981\n\u74b0\u5883\u306b\u3088\u3063\u3066\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d5\u30a9\u30f3\u30c8\u304c\u81ea\u52d5\u7684\u306b\u9078\u629e\u3055\u308c\u308b\u304b\u3082\u30fb\u30fb\u3064\u307e\u308a\u660e\u793a\u7684\u306b\u6307\u5b9a\u3057\u305f\u307b\u3046\u304c\u7121\u96e3\n\u4eca\u56de\u306f\u3001\u30d5\u30ea\u30fc\u30d5\u30a9\u30f3\u30c8\u306e\u300c\u6e90\u67d4\u30b4\u30b7\u30c3\u30af (\u3052\u3093\u3058\u3085\u3046\u30b4\u30b7\u30c3\u30af) \u300d\u3092\u4f7f\u7528\nhttp://jikasei.me/font/genjyuu/\n\u2191\u3053\u3061\u3089\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\n\n\u6587\u5b57\u5165\u308c\u3057\u3066\u307f\u308b\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u306e GenJyuuGothic-Normal.ttf \u3092\u4f7f\u7528\n\nmoji.rb\nrequire 'RMagick'\n\nimg = Magick::ImageList.new(\"sample.jpg\")\nscaled_img = img.scale(300, 300)\n\nfont = \"GenJyuuGothic-Normal.ttf\"\ndraw = Magick::Draw.new\ndraw.annotate(scaled_img, 0, 0, 5, 5, '2014\u5e74\u3082\u7d42\u308f\u308b') do\n  self.font      = font\n  self.fill      = 'blue'\n  self.stroke    = 'transparent'\n  self.pointsize = 30\n  self.gravity   = Magick::NorthWestGravity\nend\n\nscaled_img.write(\"moji.png\") # save to file\n\n\n\u6587\u5b57\u5165\u308c\u5f8c\u306e\u753b\u50cf\n\n\u898b\u3065\u3089\u3044\u306e\u3067\u767d\u3067\u7e01\u53d6\u308a\u3057\u3066\u307f\u308b\n\n\u7e01\u53d6\u308a\u3057\u305f\u5834\u5408\n\nmoji2.rb\nrequire 'RMagick'\n\nimg = Magick::ImageList.new(\"sample.jpg\")\nscaled_img = img.scale(300, 300)\n\nfont = \"GenJyuuGothic-Normal.ttf\"\ndraw = Magick::Draw.new\n\ndraw.annotate(scaled_img, 0, 0, 5, 5, '2014\u5e74\u3082\u7d42\u308f\u308b') do\n  self.font      = font\n  self.fill      = 'blue'\n  self.stroke    = 'white'\n  self.stroke_width    = 4\n  self.pointsize = 30\n  self.gravity   = Magick::NorthWestGravity\nend\n\ndraw.annotate(scaled_img, 0, 0, 5, 5, '2014\u5e74\u3082\u7d42\u308f\u308b') do\n  self.font      = font\n  self.fill      = 'blue'\n  self.stroke    = 'transparent'\n  self.pointsize = 30\n  self.gravity   = Magick::NorthWestGravity\nend\n\nscaled_img.write(\"moji2.png\") # save to file\n\n\n\u6587\u5b57\u5165\u308c\u5f8c\u306e\u753b\u50cf\n\n\nqiita \u30ab\u30e9\u30fc\uff08\u7dd1\uff09\u3067\n\u6587\u5b57\u8272\u306f blue, white \u3068\u304b\u306e\u7d44\u8fbc\u307f\u306e\u5b9a\u7fa9\u6e08\u307f\u306e\u540d\u524d\u3082\u4f7f\u3048\u308b\u3057\u300116\u9032RGB\u6307\u5b9a\u3082\u4f7f\u3048\u308b\n\nmoji3.rb\nrequire 'RMagick'\n\nimg = Magick::ImageList.new(\"sample.jpg\")\nscaled_img = img.scale(300, 300)\n\nfont = \"GenJyuuGothic-Normal.ttf\"\ndraw = Magick::Draw.new\n\ndraw.annotate(scaled_img, 0, 0, 5, 5, '2014\u5e74\u3082\u7d42\u308f\u308b') do\n  self.font      = font\n  self.fill      = '#428b09'\n  self.stroke    = 'white'\n  self.stroke_width    = 4\n  self.pointsize = 30\n  self.gravity   = Magick::NorthWestGravity\nend\n\ndraw.annotate(scaled_img, 0, 0, 5, 5, '2014\u5e74\u3082\u7d42\u308f\u308b') do\n  self.font      = font\n  self.fill      = '#428b09'\n  self.stroke    = 'transparent'\n  self.pointsize = 30\n  self.gravity   = Magick::NorthWestGravity\nend\n\nscaled_img.write(\"moji3.png\") # save to file\n\n\n\u6587\u5b57\u5165\u308c\u5f8c\u306e\u753b\u50cf\n\n\n\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\nhttp://www.imagemagick.org/RMagick/doc/draw.html#annotate\n\n\u30e2\u30b6\u30a4\u30af\u753b\u50cf\u4f5c\u6210\uff08\u5192\u982d\u306e\u3084\u3064\uff09\n\u3053\u306e\u8a18\u4e8b\u306e\u982d\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u3044\u305f\u753b\u50cf\u3082RMagick\u3067\u4f5c\u6210\n\nmosaic.rb\nrequire 'RMagick'\nrequire 'yaml'\nrequire \"open-uri\"\n\nthumbnails = YAML.load(File.open('thumbnails.yml').read)\nimages = Magick::ImageList.new \nthumbnails.each do |uri|\n  puts uri\n  images.read(uri) # uri \u304c remote \u306e\u5834\u5408\u3067\u3082\u3001ruby\u3068RMagick\u3069\u3061\u3089\u3082\u6700\u65b0\u7248\u306a\u3089\u3053\u308c\u3067\u3082OK\u306e\u306f\u305a\u3002\u53e4\u3044\u3068\u30a8\u30e9\u30fc\n  # urlimage = open(uri) # ruby \u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u304f\u3066uri\u304chttps\u306e\u5834\u5408SSL\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u6709\n  # images.from_blob(urlimage.read)\nend # thumbnails.each\n\ntile = Magick::ImageList.new\npage = Magick::Rectangle.new(0,0,0,0)\nimages.scene = 0\n\n5.times do |i|\n  5.times do |j|\n    tile << images.scale(80, 80)\n    page.x = j * tile.columns\n    page.y = i * tile.rows\n    tile.page = page\n    (images.scene += 1) rescue images.scene = 0\n  end\nend\nmosaic = tile.mosaic\nmosaic.write(\"mosaic.png\")\n\n\n\n\u6ce8\u610f\u70b9\n\n\u30d0\u30fc\u30b8\u30e7\u30f3(ruby, RMagick)\u306b\u3088\u3063\u3066 http https \u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u4f7f\u3063\u3066\u76f4\u63a5 read \u3067\u304d\u306a\u3044\u3053\u3068\u304c\u3042\u308b\n\u30d0\u30fc\u30b8\u30e7\u30f3(ruby, RMagick)\u306b\u3088\u3063\u3066 https \u306e\u5834\u5408SSL\u306e\u8a3c\u660e\u66f8\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308b\n\n\u4ee5\u4e0b\u53c2\u8003URL\n\nhttp://stackoverflow.com/questions/7264895/rmagick-can-not-read-remote-image\nhttp://railsapps.github.io/openssl-certificate-verify-failed.html\n\n\nRMagick \u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n\u3053\u306e\u5148\u306e\u4f5c\u696d\u3067\u306e\u30dd\u30a4\u30f3\u30c8\n\n\u6700\u7d42\u7684\u306b\u306f\u52d5\u753b\u30d5\u30a1\u30a4\u30eb .mp4\n\u52d5\u753b\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u6210\u306b\u306f ffmpeg \u3092\u4f7f\u7528\uff08\u9905\u306f\u9905\u5c4b\u3067\uff09\nRMagick \u306f\u52d5\u753b\u306e\u5143\u3068\u306a\u308b\u30d5\u30ec\u30fc\u30e0\u306e\u4f5c\u6210\u306b\u4f7f\u3046\n\u3067\u304d\u308b\u3060\u3051 RMagick \u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u30d5\u30ec\u30fc\u30e0\u3092\u3064\u304f\u308b\n1280x720 \u3050\u3089\u3044\u3092\u76ee\u6307\u3059\n\n\u82b8\u8853\u306e\u7d20\u990a\u3068\u3044\u3046\u304b\u3001\u305d\u3046\u3044\u3046\u306e\u304c\u7121\u3044\u306e\u3067\u3001\u30a2\u30a4\u30c7\u30a2\u3092\u62dd\u501f\u3002\u30a4\u30f3\u30b9\u30d4\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5f97\u308b\u3001\u3053\u308c\u5927\u4e8b\u3002\u305f\u3068\u3048\u3070\u3053\u3046\u3044\u3046\u306e\u3002\nhttp://matome.naver.jp/odai/2139688110872725901\n\u81ea\u5206\u306e\u597d\u304d\u306a\u6620\u753b\u3082\u826f\u3044\u3068\u601d\u3046\u3002\u6700\u8fd1\u306f\u5b9f\u5199\u7cfb\u306e\u6620\u753b\u3082\u30aa\u30fc\u30d7\u30cb\u30f3\u30b0\u3001\u30a8\u30f3\u30c7\u30a3\u30f3\u30b0\u3067\u904a\u3093\u3067\u308b\u304b\u3089\u53c2\u8003\u306b\u3059\u308b\u306b\u306f\u826f\u3044\u3002\u5370\u8c61\u306b\u6b8b\u3063\u3066\u3044\u308b\u306e\u306f007\u3068\u304b\u3002\u3068\u304d\u3069\u304d\u3001\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u624b\u3092\u4f11\u3081\u3066\u2193\u306e\u3088\u3046\u306a\u8a18\u4e8b\u3092\u8aad\u3093\u3060\u308a\u3001\u52d5\u753b\u3092\u307f\u308b\u3068\u65b0\u3057\u3044\u30a2\u30a4\u30c7\u30a3\u30a2\u304c\u6d6e\u304b\u3093\u3067\u304f\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\u9b45\u529b\u7684\u306a\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u304f\u308b\u305f\u3081\u306e12\u306e\u539f\u5247\uff08\u52d5\u753b\u3042\u308a\uff09 http://wired.jp/2014/05/14/12-principles-of-animation/\n\u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6\u306a\u3093\u3066\u5411\u3044\u3066\u306a\u3044\u3053\u3068\u3092\u518d\u8a8d\u8b58\u21d2\u53c2\u52a0\u8005\u5168\u54e1\u304c\u8868\u793a\u3055\u308c\u308b\u52d5\u753b\u306b\u843d\u3061\u7740\u304f\n \u3053\u3053\u307e\u3067\u66f8\u3044\u3066\u7a7a\u8179\u306b\u306a\u3063\u305f\u306e\u3067\u30fb\u30fb\u30fb\u4f11\u61a9\n\ngif \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n\u4f11\u61a9\u5f8c\u3001\u3084\u3063\u3071\u308a\u3001\u6642\u9593\u7121\u3055\u305d\u3046\u30fb\u30fb\u30fb \u52d5\u753b\u306b\u3057\u306a\u304f\u3066\u3082gif\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3067\u304d\u308b\u3057\u3001RMagick\u306e\u307f\u3067\u3064\u304f\u308c\u308b\u306e\u306f\u826f\u3044\uff01\n\u4ee5\u4e0b\u53c2\u8003\u30ea\u30f3\u30af\u306e\u307f\u3067\u3001\u3054\u3081\u3093\u3088 \n\n\u53c2\u8003\u30ea\u30f3\u30af\n\nhttp://gihyo.jp/dev/serial/01/ruby/0027\nhttp://d.hatena.ne.jp/unageanu/20090831/1251735007\n\n\n\u52d5\u753b\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n\u30d5\u30ec\u30fc\u30e0\u3092\u3054\u308a\u3054\u308a\u3064\u304f\u3063\u3066\u3001ffmpeg \u4f7f\u3063\u3066\u52d5\u753b\u306b\u3057\u3066\u3082\u3089\u3046\u3002\nnext \u3067\u6b21\u306e\u30d5\u30ec\u30fc\u30e0\u306b\u79fb\u308b\u51e6\u7406\u3067\u3001draw \u3067\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u3060\u3059\u611f\u3058\u3067\u3044\u304f\u4e88\u5b9a\n\n\u80cc\u666f\u3068\u304b\u30d5\u30ec\u30fc\u30e0\u306e\u67a0\u3092\u6e96\u5099\n\u300c\u3067\u304d\u308b\u3060\u3051 RMagick \u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u30d5\u30ec\u30fc\u30e0\u3092\u3064\u304f\u308b\u300d\u306e\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u306a\u308b\u753b\u50cf\u7b49\u306f\u7528\u610f\u3057\u306a\u3044\u3067\u30d5\u30ec\u30fc\u30e0\u3092\u3064\u304f\u3063\u3066\u3044\u304f\u3002\u30b5\u30a4\u30ba\u306f 1280x720 \u3067\u3002\u7a7a\u306e\u753b\u50cf\u3092RMagick\u3067\u6e96\u5099\u3059\u308b\u306b\u306f Image.new(width, height) \u3092\u4f7f\u3046\u3002\n\nempty.rb\nrequire 'RMagick'\n\nf = Magick::Image.new(1280,720) { self.background_color = \"white\" }\nf.write(\"background.png\")\n\n\n\u5473\u6c17\u306a\u3044\u306e\u3067\u3001qiita \u3063\u307d\u304f\u3059\u308b\u3002qiita \u30b0\u30ea\u30fc\u30f3 \"#428b09\" \u3092\u62dd\u501f\u3002\"Ruby Advent Calendar 2014\" \u306e\u6587\u5b57\u3092\u5165\u308c\u308b\u3002\n\nbackground.rb\nrequire 'RMagick'\n\nf = Magick::Image.new(1280,720) { self.background_color = \"white\" } # \u80cc\u666f\u3092\u767d\u3067\u6e96\u5099\n\ndraw = Magick::Draw.new\n# http://www.imagemagick.org/RMagick/doc/draw.html#rectangle\ndraw.fill('#428b09') # \u5148\u306b\u8272\u3092\u6307\u5b9a\u3057\u3066\ndraw.rectangle(0, 0, 1280, 100) # \u30c8\u30c3\u30d7\u306e\u30d0\u30ca\u30fc\u3092\u9577\u65b9\u5f62\u3067\ndraw.draw(f) # \u5857\u308b\n\ndraw = Magick::Draw.new\nfont = \"GenJyuuGothic-Normal.ttf\"\ndraw.annotate(f, 0, 0, 15, 12, 'Ruby Advent Calendar 2014') do\n  self.font      = font\n  self.fill      = 'white'\n  self.stroke    = 'transparent'\n  self.pointsize = 54\n  self.gravity   = Magick::NorthWestGravity\nend\n\nf.write(\"background.png\")\n\n\n\u2193\u3053\u308c\u304c\u80cc\u666f\u306e\u30a4\u30e1\u30fc\u30b8\n\n\n\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306b\u4f7f\u3048\u305d\u3046\u306aRMagick\u306e\u30a8\u30d5\u30a7\u30af\u30c8\nmotion_blur \u304c\u826f\u3055\u305d\u3046\u3002\u8a66\u3057\u306b\u300c\u30b9\u300d\u306e\u30a2\u30a4\u30b3\u30f3\u306b motion_blur \u304b\u3051\u306620\u679a\u307b\u3069\u30d5\u30ec\u30fc\u30e0\u753b\u50cf\u3092\u4f5c\u6210\n\nmotion_blur.rb\nrequire 'RMagick'\n\nimg = Magick::ImageList.new(\"src.png\")\nimg.alpha Magick::DeactivateAlphaChannel # \u30a2\u30eb\u30d5\u30a1\u30c1\u30e3\u30cd\u30eb\u3092\u7121\u52b9\u306b\nimg = img.opaque_channel(\"#000000\", \"#FFFFFF\") # \u30a2\u30eb\u30d5\u30a1\u30c1\u30e3\u30cd\u30eb\u90e8\u5206\u304c\u9ed2\u304b\u3063\u305f\u306e\u3067\u767d\u304f\n\nctr = 0\n-10.upto(10) {|i|\n  if i >= 0\n    tmp = i != 0 ? img.motion_blur( 0, i*i, 0) : img # \u5de6\u306e\u65b9\u5411\u306b\u3076\u308c\u308b\u611f\u3058\n  else\n    tmp = i != 0 ? img.motion_blur( 0, i*i, 180) : img # \u53f3\u65b9\u5411\u306b\u3076\u308c\u308b\u611f\u3058\n  end\n  file_name = \"frames/frame-%03d.png\" % ctr\n  tmp.write(file_name)\n  ctr += 1\n}\n\n\n21\u679a\u306e\u753b\u50cf\u304c\u3067\u304d\u3066\u3053\u3093\u306a\u611f\u3058\n\n\n \u6ce8\u610f\u70b9\nmotion_blur \u306f\u30ac\u30a6\u30b9\u307c\u304b\u3057 gausian_blur \u3092\u5185\u90e8\u7684\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u5f15\u6570sigma\u306e\u5024\u304c\u5927\u304d\u304f\u306a\u308b\u307b\u3069\u8a08\u7b97\u91cf\u304c\u5897\u3048\u51e6\u7406\u304c\u9045\u304f\u306a\u308b\u3002\u4f7f\u7528\u53ef\u80fd\u306a\u30ea\u30bd\u30fc\u30b9\u306e\u7bc4\u56f2\u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u8003\u3048\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\u307f\u3093\u306a\u306e\u30a2\u30a4\u30b3\u30f3\u306b\u4f7f\u3063\u3066\u307f\u308b\n\nhoge.rb\nrequire 'RMagick'\n\n# background \u3092\u6e96\u5099\nbg = Magick::Image.new(1280,720) { self.background_color = \"white\" } # \u80cc\u666f\u3092\u767d\u3067\u6e96\u5099\n\ndraw = Magick::Draw.new\n# http://www.imagemagick.org/RMagick/doc/draw.html#rectangle\ndraw.fill('#428b09') # \u5148\u306b\u8272\u3092\u6307\u5b9a\u3057\u3066\ndraw.rectangle(0, 0, 1280, 100) # \u30c8\u30c3\u30d7\u306e\u30d0\u30ca\u30fc\u3092\u9577\u65b9\u5f62\u3067\ndraw.draw(bg) # \u5857\u308b\n\ndraw = Magick::Draw.new\nfont = \"GenJyuuGothic-Normal.ttf\"\ndraw.annotate(bg, 0, 0, 15, 12, 'Ruby Advent Calendar 2014') do\n  self.font      = font\n  self.fill      = 'white'\n  self.stroke    = 'transparent'\n  self.pointsize = 54\n  self.gravity   = Magick::NorthWestGravity\nend\n\n# \u3053\u3053\u3067\u30a8\u30d5\u30a7\u30af\u30c8\u3057\u305f\u30a2\u30a4\u30b3\u30f3\u3092\u5f35\u308a\u4ed8\u3051\u3066\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\nbase = Magick::Image.new(600,600) { self.background_color = \"white\" } # \u80cc\u666f\u3092\u767d\u3067\u6e96\u5099\noverlay = Magick::Image.read(\"mosaic.png\").first # \u3053\u308c\u306e\u30b5\u30a4\u30ba\u306f400x400\nbase.composite!(overlay, 100, 100, Magick::OverCompositeOp) # \u4e2d\u592e\u306b\u306a\u308b\u3088\u3046\u306b\u914d\u7f6e\n\nctr = 0\n-10.upto(10) {|i|\n  if i >= 0\n    tmp = i != 0 ? base.motion_blur( 0, i*i*0.5, 0) : base\n  else\n    tmp = i != 0 ? base.motion_blur( 0, i*i*0.5, 180) : base\n  end\n  file_name = \"frames/frame-%03d.png\" % ctr\n\n  # background \u306e\u4e2d\u592e\u306b\u914d\u7f6e\n  bg.composite!(tmp, 340, 120, Magick::OverCompositeOp) # \u4e2d\u592e\u306b\u306a\u308b\u3088\u3046\u306b\u914d\u7f6e\n  bg.write(file_name)\n  ctr += 1\n}\n\n\n\u540c\u3058\u3088\u3046\u306b21\u679a\u306e\u753b\u50cf\u304c\u3067\u304d\u3066\u3053\u3093\u306a\u611f\u3058\n\n\nffmpeg \u306e\u306f\u306a\u3057\n\n\u8907\u6570\u306e\u753b\u50cf\u3092\u3064\u304b\u3063\u3066\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u52d5\u753b\u3092\u3064\u304f\u308b\n1\u79d2\u9593\u306b5\u679a\uff085\u30d5\u30ec\u30fc\u30e0\uff09\u306e\u753b\u50cf\u3092\u4f7f\u3063\u305f\u52d5\u753b\u3092\u4f5c\u6210\nffmpeg -r 5 -i frame-%03d.png -c:v libx264 -pix_fmt yuv420p -y out.mp4\n\n\u2191\u3053\u3093\u306a\u611f\u3058\u3067\u30b3\u30de\u30f3\u30c9\u3067\u4e00\u767a\u3067\u52d5\u753b\u304c\u4f5c\u6210\u3067\u304d\u308b\uff01\u3067\u304d\u305f\u52d5\u753b\u306f\u2193\nhttps://www.youtube.com/watch?v=Qd1C5v2m76Y\n\u203b\u753b\u8cea\u304c\u8352\u3044\u306e\u306f\u5143\u306e\u753b\u50cf\u304c80x80\u306e\u305f\u3081\n\u307f\u3093\u306a\u306e\u9854\u21d2 https://www.youtube.com/watch?v=AqHmcZ5qplg\n\n\u4f7f\u7528\u3057\u305f\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u89e3\u8aac\n\n-r 1\u79d2\u9593\u306e\u30d5\u30ec\u30fc\u30e0\u6570\u3092\u6307\u5b9a\u3059\u308b\uff081\u3088\u308a\u5c0f\u3055\u3044\u6570\u3067\u3082 0.5 \u3068\u304bOK\uff09\n-i \u5165\u529b\u306b\u4f7f\u7528\u3059\u308b\u30d5\u30a1\u30a4\u30eb\n-c:v \u30d3\u30c7\u30aa\u30b3\u30fc\u30c7\u30c3\u30af\u306e\u6307\u5b9a\n-pix_fmt \u30d4\u30af\u30bb\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u6307\u5b9a \u203b\u3053\u308c\u6307\u5b9a\u3057\u306a\u3044\u3068\u3061\u3083\u3093\u3068\u3057\u305f\u7d75\u306b\u306a\u3089\u306a\u3044\n-y \u540c\u540d\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u3063\u305f\u3089\u5f37\u5236\u7684\u306b\u4e0a\u66f8\u304d\n\n\n\u52d5\u753b\u30d5\u30a1\u30a4\u30eb\u306b\u97f3\u58f0(BGM)\u3092\u52a0\u3048\u308b\n\nBGM\u306f\u30d5\u30ea\u30fcBGM\u7d20\u6750\u3068\u3057\u3066\u5b9a\u8a55\u306e\u3042\u308b\u300c\u9b54\u738b\u9b42\u300dhttp://maoudamashii.jokersounds.com/list/bgm6.html \u3055\u3093\u304b\u3089\n\u30e9\u30b9\u30dc\u30b9\u3063\u307d\u3044\u66f8\u304d\u624b\u304c\u591a\u3044\u306e\u3067\u30e9\u30b9\u30dc\u30b9\u3063\u307d\u3044\u66f2\u3092\u30c1\u30e7\u30a4\u30b9\nffmpeg \u3067\u3067\u304d\u305f\u52d5\u753b\u306e\u97f3\u58f0\u3092\u5165\u308c\u66ff\u3048\n\nffmpeg -i video.mp4 -i bgm.aac -bsf:a aac_adtstoasc -map 0:0 -map 1 -vcodec libx264 -acodec libvo_aacenc -y ruby_advent_calendar_2014.mp4\n\n\n\u5236\u4f5c\u3092\u7d42\u3048\u3066\u306e\u611f\u60f3\n\u30fd(\uff9f\uff70\uff9f\u30fd)(\uff89\uff9f\uff70\uff9f)\uff89\u308f\u3041\u3044\nruby \u3092\u4f7f\u3063\u305f\u610f\u5473\u306b\u3064\u3044\u3066\u30fb\u30fb\u30fb\n\n\u304a\u307e\u3051\n\n\u4f7f\u7528\u3055\u305b\u3066\u3044\u305f\u3060\u3044\u305f\u30e6\u30fc\u30b6\u30fc\u306e\u7686\u69d8\n\u65e5\u4ed8\u9806\n\u203b12\u67081\u65e5\u6642\u70b9\uff08\u4e00\u89a7\u4f5c\u6210\u4e2d\u306b\u5909\u66f4\u304c\u3042\u3063\u305f\u308a\u3067\u30fb\u30fb\u30fb\uff09\n\nhttp://qiita.com/joker1007\nhttp://qiita.com/awakia\nhttp://qiita.com/scleen_x_x\nhttp://qiita.com/tbpgr\nhttp://qiita.com/igrep\nhttp://qiita.com/komiyak\nhttp://qiita.com/michiomochi@github\nhttp://qiita.com/sonots\nhttp://qiita.com/kwatch\nhttp://qiita.com/udzura\nhttp://qiita.com/shu_0115\nhttp://qiita.com/tsumekoara\nhttp://qiita.com/domitry\nhttp://qiita.com/217\nhttp://qiita.com/shin_semiya\nhttp://qiita.com/kwgch\nhttp://qiita.com/supermomonga\nhttp://qiita.com/yancya\nhttp://qiita.com/yuutetu\nhttp://qiita.com/kwappa\nhttp://qiita.com/taiyop\nhttp://qiita.com/yui-knk\nhttp://qiita.com/hkusu\nhttp://qiita.com/syuu1228\nhttp://qiita.com/ocadaruma\n\n\nqiita\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf\n\ngravatar \u306e\u5834\u5408\u3082\u3042\u308c\u3070 twimg \u306e\u5834\u5408\u3082\u3042\u3063\u3066\u3001\u9762\u5012\ngravatar \u7cfb\u306e\u3068\u304d\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u53d6\u5f97\u3059\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u304c\u3061\n\n\nqiita\u306eAPI\n\n\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u306f http://qiita.com/api/v2/users/joker1007 \u3067\u53d6\u5f97\u53ef\u80fd\nContribution \u306e\u6570\u5b57\u306f\u5165\u3089\u306a\u3044\uff08Contribution\u306f\u30b9\u30c8\u30c3\u30af\u3055\u308c\u305f\u5408\u8a08\u6570\u3060\u308d\u3046\u304b\uff1f\uff09\n\u6295\u7a3f\u6570\u3001\u30d5\u30a9\u30ed\u30ef\u30fc\u6570\u3001\u30d5\u30a9\u30ed\u30fc\u6570\u306f\u53d6\u5f97\u3067\u304d\u308b\n\n\nqiita \u306e Contribution \u306e\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0 with Nokogiri\n\nget_contribution.rb\nrequire 'nokogiri'\nrequire 'open-uri'\n\nurl = 'http://qiita.com/joker1007'\nhtml = Nokogiri::HTML(open(url), nil, 'utf-8')\nctb = html.xpath('//div[@class=\"second-line\"]/span[@class=\"count\"]/text()')\nputs ctb\n\n\n\nAdvent Caendar \u304b\u3089 Nokogiri \u4f7f\u3063\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d6\u5f97\n\nget_messages.rb\nrequire 'nokogiri'\nrequire 'open-uri'\nrequire 'json'\n\nmessages = []\nurl = \"http://qiita.com/advent-calendar/2014/ruby\"\nhtml = Nokogiri::HTML(open(url), nil, 'utf-8')\n# \u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u67a0td\u3092\u63a2\u3059\ntds = html.xpath('//td[@class=\"adventCalendar_calendar_day\"]')\ntds.each do |td| \n  author = td.xpath('p[@class=\"adventCalendar_calendar_author\"]')\n  if author.empty? # author \u7121\u3044\u306a\u3089\u7121\u8996\n\n  else\n    user_id = author.xpath('a/@href').to_s[1, 100] # \u5148\u982d\u30b9\u30e9\u30c3\u30b7\u30e5\u7121\u8996\n    puts user_id\n\n    message = nil\n    m_a = td.xpath('p[@class=\"adventCalendar_calendar_entry\"]/a')\n    if m_a.empty? # \u672a\u6295\u7a3f\u306e\u5834\u5408\u306f\u3053\u3063\u3061\n      message = td.xpath('p[@class=\"adventCalendar_calendar_entry\"]/text()')\n      else # \u6295\u7a3f\u6e08\u307f\u306e\u5834\u5408\n      message = td.xpath('p[@class=\"adventCalendar_calendar_entry\"]/a/text()')\n    end\n    puts message\n    messages.push(:user_id=>user_id, :message=>message)\n  end\nend # tds.each\njson_file = \"messages.json\"\nFile.open(json_file,\"w\") do |f|\n  f.write(messages.to_json)\nend\n\n\n\nqiita API v2 \u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u53d6\u5f97\napi/v2/users/:id\n{\n  \"description\": \"Qiita, Qiita:Team(RoR)\u3084Kobito(Objective-C)\u306e\u958b\u767a\u3092\u3057\u3066\u3044\u307e\u3059\uff0e\",\n  \"facebook_id\": \"yaotti\",\n  \"followees_count\": 118,\n  \"followers_count\": 181,\n  \"github_login_name\": \"yaotti\",\n  \"id\": \"yaotti\",\n  \"items_count\": 101,\n  \"linkedin_id\": \"yaotti\",\n  \"location\": \"Tokyo, Japan\",\n  \"name\": \"Hiroshige Umino\",\n  \"organization\": \"Increments Inc\",\n  \"profile_image_url\": \"https://si0.twimg.com/profile_images/2309761038/1ijg13pfs0dg84sk2y0h_normal.jpeg\",\n  \"twitter_screen_name\": \"yaotti\",\n  \"website_url\": \"http://yaotti.hatenablog.com\"\n}\n\n\nGravatar \u306eAPI\ngravatar \u306a\u3093\u3066\u4f7f\u3063\u3066\u3044\u308b\u4eba\u5c11\u306a\u3044\u3068\u601d\u3063\u3066\u305f\u306e\u3060\u304c\u3051\u3063\u3053\u3046\u3044\u308b\u306e\u306d\u3002\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u30cf\u30c3\u30b7\u30e5\u3057\u305f\u3053\u3093\u306a\u611f\u3058\u306eURL\u3067\u753b\u50cf\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u30fcs\u3067\u30b5\u30a4\u30ba\u6307\u5b9a\u3067\u304d\u308b\u306e\u304c\u30dd\u30a4\u30f3\u30c8 \nhttp://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?s=200\n\n\nruby + RMagick \u3067\u3084\u3063\u305f\u610f\u5473\u306b\u3064\u3044\u3066\n\n\u3084\u3063\u305f\u3053\u3068\u306f\u30b7\u30a7\u30eb\u3067 ImageMagick + ffmpeg \u4f7f\u3046\u306e\u3068\u5909\u308f\u3089\u306a\u3044\u3067\u306f\u306a\u3044\u304b\n\n\n\u306f\u3044\u305d\u306e\u901a\u308a\u3067\u3059\n\n\nruby \u3067\u3084\u308b\u610f\u5473\u306f\u3069\u3053\u306b\u3042\u3063\u305f\u306e\u304b\n\n\nRMagick \u5468\u8fba\u3092\u7dba\u9e97\u306b\u30e9\u30c3\u30d7\u3057\u305f\u611f\u3058\u306e\u3082\u306e\u3092\u3064\u304f\u308c\u305f\u3089\u610f\u5473\u3042\u308b\u304b\u3082 \u203bRMagick\u304c\u51e6\u7406\u3059\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u5185\u3001self\u623b\u3059\u306e\u3082\u3042\u308c\u3070\u3001new image\u623b\u3059\u3082\u306e\u3082\u3042\u3063\u305f\u308a\u3068\u3084\u3084\u3053\u3057\u3044\u304b\u3089\n\n\n\u4f55\u304c\u5f97\u3089\u308c\u305f\u306e\u304b\n\n\n\u4f5c\u696d\u4e2d\u306fCPU\u4f7f\u7528\u7387\u304c100%\u8fd1\u304f\u3092\u7dad\u6301\u3067\u304d\u305f \n\n\n\n\n\u307f\u306a\u3055\u3093\u3001\u304a\u306f\u3053\u3093\u3070\u3093\u306b\u3061\u306f\u3067\u30b9\u3002\u666e\u6bb5\u306f\u52d5\u753b\u51e6\u7406\u3068\u304bffmpeg\u307e\u308f\u308a\u306e\u8a18\u4e8b\u3092\u6295\u7a3f\u3057\u3066\u307e\u3059\u3002\u300c\u30b9\u300d\u3067\u3059\u30022014\u5e74\u3082\u3042\u3068\u308f\u305a\u304b :calendar: \u5e74\u672b\u5e74\u59cb\u3068\u306e\u3093\u3073\u308a\u904e\u3054\u3057\u305f\u3044\u3082\u306e\u3067\u3059 :sake: \u306e\u3093\u3073\u308a\u904e\u3054\u3059\u306a\u3089\u3001\u3084\u3063\u3071\u308a\u3001\u753b\u50cf\u51e6\u7406\u30fb\u52d5\u753b\u51e6\u7406\u304c\u5b9a\u756a\u3067\u3059\u3088\u306d\uff1f\u305d\u3053\u306b\u3042\u308bCPU\u3092\u4f55\u6545100%\u307e\u3067\u4f7f\u3044\u5207\u3089\u306a\u3044\u306e\u304b\uff1f\u5c71\u304c\u3042\u308b\u304b\u3089\u767b\u308b\u306e\u304c\u767b\u5c71\u5bb6\u306e\u5fc3\u304c\u3051\u306a\u3089\u3001CPU\u304c\u3042\u308b\u306a\u3089\u4f7f\u3044\u5207\u308b\u306e\u304c\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u3068\u3057\u3066\u306e\u6b63\u3057\u3044\u5fc3\u304c\u3051\u3067\u3059\u3002\u4f7f\u3044\u5207\u308b\u4e2d\u3067\u6700\u9069\u5316\u3092\u76ee\u6307\u3059\uff01\u3067\u306f\u3001\u4f7f\u3044\u5207\u308b\u306b\u306f\u3069\u3046\u3057\u305f\u3089\u3044\u3044\u306e\u304b\uff1f :chicken:\n\n**\u753b\u50cf\u51e6\u7406\u3060\uff01\uff01\uff01**\n\n![mosaic.png](https://qiita-image-store.s3.amazonaws.com/0/56465/6cc1997f-28df-a792-9599-6c56684fab41.png)\n\n**\u52d5\u753b\u3064\u304f\u308b\u3060\uff01\uff01\uff01**\n\nhttps://www.youtube.com/watch?v=jWD22lrWbD0\n\n\u6700\u8fd1\u306f\u4f7f\u3048\u308bCPU\u306e\u6570\u304c\u5897\u3048\u3066\u304d\u307e\u3057\u305f\u306d\u3002\u5c11\u3057\u80cc\u4f38\u3073\u3092\u3059\u308c\u3070\u3001\u304b\u3064\u3066\u306f\u60f3\u50cf\u3067\u304d\u306a\u304b\u3063\u305f\u307b\u3069\u4f7f\u3048\u305d\u3046\u3067\u3059\u3002Hadoop\u3067\u3059 :elephant: \u5206\u6563\u51e6\u7406\u3067\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u697d\u3057\u3044\u3067\u3059\u306d\u3002\u5922\u306f\u5e83\u304c\u308a\u307e\u3059\u3002CPU\u306f\u5bdd\u304b\u305b\u305f\u3060\u3051\u8a08\u7b97\u6a5f\u4f1a\u3092\u5931\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u3068\u306b\u304b\u304f\u8a08\u7b97\u3002\u3048\uff1f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u304c\u3067\u304d\u306a\u3044\uff1f\u305d\u308c\u306a\u3089\u30013D\u30d0\u30ea\u30d0\u30ea\u306e\u30aa\u30f3\u30e9\u30a4\u30f3\u30b2\u30fc\u30e0\u3092\u3069\u3046\u305e\u3002\u3048\uff1f\u6700\u8fd1\u306fGPU\u3060\u3063\u3066\uff1f\u30fb\u30fb\u30fb\u77f3\u304c\u3042\u3063\u305f\u3089\u71b1\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u30ad\u30c3\u30c8\u30ab\u30c3\u30c8\u304a\u3044\u3057\u3044\u306d :chocolate_bar:\n\n\u3068\u3053\u308d\u3067\u3001RMagick\u306b\u9650\u3089\u305a\u753b\u50cf\u30fb\u52d5\u753b\u51e6\u7406\u30c4\u30fc\u30eb\u3092\u4f7f\u3063\u305f\u3053\u3068\u306f\u3042\u308a\u307e\u3059\u304b\uff1f\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u304f\u3063\u3066\u3044\u308b\u306a\u3089\n\n - \u753b\u50cf\u30b5\u30a4\u30ba\u306e\u5909\u66f4\uff1a\u30b5\u30e0\u30cd\u30a4\u30eb\u7528\u3068\u304b\n - \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u5909\u66f4\uff1ajpeg\u3092png\u306b\u3059\u308b\u3068\u304b\n - \u30c7\u30b3\uff1a\u6587\u5b57\u5165\u308c\u3057\u305f\u308a\u3001\u30b9\u30bf\u30f3\u30d7\u5165\u308c\u305f\u308a\u3068\u304b\n\n\u3068\u3044\u3063\u305f\u611f\u3058\u306e\u7528\u9014\u304c\u30e1\u30b8\u30e3\u30fc\u304b\u306a\u3002\u305f\u3044\u3066\u3044\u306e\u3082\u306e\uff08\u30bd\u30d5\u30c8\u306b\u3057\u308d\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u3057\u308d\uff09\u306b\u306f\n\n - \u30ac\u30a6\u30b9\u307c\u304b\u3057\n - \uff12\u5024\u5316\uff08\u767d\u9ed2\u306b\u3059\u308b\uff09\n - \u30a8\u30c3\u30b8\u62bd\u51fa\n\n\u3068\u3044\u3063\u305f\u8b0e\u6a5f\u80fd\u304c\u3064\u3044\u3066\u3044\u3066\u3001\u300c\u3053\u308c\u4f55\u306b\u4f7f\u3046\u3093\u3060\u308d\u3046\uff1f\u300d\u3063\u3066\u601d\u3046\u3053\u3068\u3042\u308a\u307e\u305b\u3093\uff1f\u666e\u901a\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u751f\u6d3b\u304b\u3089\u306f\u7e01\u9060\u3044\u3001\u753b\u50cf\u8a8d\u8b58\uff08\u9854\u3068\u304b\u6587\u5b57\u3068\u304b\u7269\u4f53\u3068\u304b\uff09\u3068\u304b\u3084\u308b\u3068\u304d\u306b\u52b9\u3044\u3066\u304f\u308b\u51e6\u7406\u3060\u3063\u305f\u308a\u3057\u307e\u3059\u3002\u3082\u3057\u3001\u6687\u304c\u3042\u3063\u305f\u3089\u305d\u306e\u8fba\u306e\u4e16\u754c\u3082\u8997\u3044\u3066\u307f\u3066\u306d\u3002\u9762\u767d\u3044\u3088\u3002\u308a\u3055\u3093\u3075\u30fc\u308a\u3048\u4e91\u3005\u3068\u304b\u3046\u3047\u30fc\u3076\u308c\u3063\u3068\u4e91\u3005\u3068\u304b :smile:\n\nRMagick\u3068\u305d\u306e\u4ed6\u4fbf\u5229\u306a\u3082\u306e\u3092\u4f7f\u3044\u306a\u304c\u3089\u4f55\u304b\u3064\u304f\u308b :smile: \u306d\u305f\u306f\u3001Ruby Advent Calendar 2014 \u300212\u67081\u65e5\u6642\u70b9\u3067\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u8f09\u3063\u3066\u3044\u308b\u60c5\u5831\u4f7f\u3046\u3002\u8ab0\u304b\u3070\u3063\u304f\u308c\u3066\u3082\u6d88\u3055\u306a\u3044\u3001\u3054\u3081\u3093\u306d\u3002\n\nhttp://qiita.com/advent-calendar/2014/ruby\n\n\u66f8\u3044\u3066\u3044\u304f\u3088 :pencil:\n\n# \u3064\u304f\u308b\u3082\u306e\n\n[Ruby\u306e\u30a2\u30c9\u30d9\u30f3\u30c8\u30ab\u30ec\u30f3\u30c02014](http://qiita.com/advent-calendar/2014/ruby)\u306e\u767b\u5834\u4eba\u7269\u3092\u4f7f\u3063\u305f\u4f55\u304b\u3092\u3064\u304f\u308a\u307e\u3059\u3002\n\n## \u3067\u304d\u3042\u304c\u308a\n\n\u5148\u306b\u51fa\u6765\u4e0a\u304c\u3063\u305f\u3082\u306e\u3092\u2193\u3053\u3061\u3089\u3067\u3059\n\nhttps://www.youtube.com/watch?v=jWD22lrWbD0\n\n# \u6e96\u5099\n\nUbuntu12.4\u7cfb\u3092\u4f7f\u3044\u307e\u3059\u3002Windows\u3067\u306f\u6642\u3005RMagick\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308b\u3089\u3057\u3044\u3002\u3044\u3064\u3082\u306e\u3053\u3068\u3060\u306d :smile:\n\n$5/\u6708\u304b\u3089\u4f7f\u3048\u308b DigitalOcean \u3068\u3044\u3046\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u4f7f\u3063\u3066\u307e\u3059\u3002[\u4eca\u306a\u3089\u7d39\u4ecb\u30d7\u30ed\u30b0\u30e9\u30e0\u3067 $10 \u5206\u7121\u6599\u3067\u4f7f\u3048\u307e\u3059\u3002](https://www.digitalocean.com/?refcode=2eab928d2c73)\n\n\n## \u305d\u308c\u3067\u3082Windows\u306b\u5165\u308c\u305f\u3044\u5834\u5408\u306b\u306f\n\n64bit windows \u3067\u3082 32bit \u7528\u306eImageMagick\u5165\u308c\u3066\u306d\u3068\u304b\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\u3068\u304b\u6c17\u3092\u4ed8\u3051\u305f\u65b9\u304c\u3044\u3044\u3053\u3068\u304c\u3042\u308b\u3088\u3046\u3060\u3002\u4ee5\u4e0b windows7 \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u969b\u306b\u53c2\u8003\u306b\u306a\u308b\u30da\u30fc\u30b8 \u203b\u3044\u305a\u308c\u3082\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u60c5\u5831\u3067\u306f\u306a\u3044\u306e\u3067\u81ea\u5df1\u8cac\u4efb\u3067\n\n - http://codeofalice.com/code/installing-rmagick-on-windows-7/\n - http://www.ownway.info/Ruby/index.php?rmagick%2Fhowtoinstall%2Fwindows\n - http://uisteven.blog.fc2.com/blog-entry-37.html\n\n### \u306a\u3093\u304b\u30d6\u30af\u30de\u3067\u30fb\u30fb\u30fb\n\n> RMagick\u306f\u3061\u3087\u3063\u3068\u524d\u306b\u8a66\u3057\u305f\u3051\u3069Windows\u3067\u30d3\u30eb\u30c9\u51fa\u6765\u306a\u304b\u3063\u305f\u3093\u3060\u3088\u306a\u3042\u3002\u7d50\u5c40ImageMagick\u30b3\u30de\u30f3\u30c9\u3092\u547c\u3073\u51fa\u3057\u3066\u4f7f\u3063\u305f\u3051\u3069\u3001\u4eca\u306f\u30d3\u30eb\u30c9\u3067\u304d\u308b\u3093\u3060\u308d\u3046\u304b\u3002\n\n\u3053\u3093\u306a\u30b3\u30e1\u30f3\u30c8\u304c\u4ed8\u3044\u305f\u3002Windows 7 \u306b\u5165\u308c\u3066\u307f\u305f\u3002\u30d3\u30eb\u30c9\u3067\u304d\u305f\u3002\n\n## ImageMagick \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\nsudo apt-get install imagemagick\n```\n\n## RMagick \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\nsudo gem install rmagick\n```\n\nRMagick \u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://www.imagemagick.org/RMagick/doc/\n\nRMagick \u306e github \u30ec\u30dd\u30b8\u30c8\u30ea\nhttps://github.com/RMagick/RMagick\n\n# \u3064\u304f\u308b\u3088\n\n## \u3064\u304f\u308a\u304b\u305f\u306e\u624b\u9806\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3064\u304f\u308a\u307e\u3059\n\n - Advent Calendar \u306e\u53c2\u52a0\u8005\u4e00\u89a7\u3092\u53d6\u5f97 Nokogiri \u3067\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066 .json \u3067\u4fdd\u5b58 (\u8a18\u4e8b\u4e0b\u90e8\u306e**\u304a\u307e\u3051**\u306b\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u6709)\n - qiita.com API v2 \u3092\u4f7f\u4f7f\u7528\u3057\u53c2\u52a0\u8005\u306e\u60c5\u5831\u3092\u53d6\u5f97 (\u8a18\u4e8b\u4e0b\u90e8\u306e**\u304a\u307e\u3051**\u306b\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u6709)\n - \u30d5\u30ec\u30fc\u30e0\u3092\u3069\u3093\u306a\u611f\u3058\u306b\u3059\u308b\u304b\u8003\u3048\u308b\n - RMagick\u306e\u52b9\u679c\u3092\u4f7f\u3063\u3066\u753b\u50cf\u3092\u52a0\u5de5\u3057\u3066\u30d5\u30ec\u30fc\u30e0\u3092\u3064\u304f\u308b (\u5fc5\u9808)\n - \u5408\u6210\u3059\u308b (\u5fc5\u9808)\n - YouTube\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b (\u5fc5\u9808)\n\nRMagick \u4ee5\u5916\u3067\u306f\u307e\u3063\u3066\u305f\u3069\u308a\u7740\u3051\u306a\u3044\u53ef\u80fd\u6027\u3092\u8003\u616e\u3057\u3066\u3001RMagick\u306e\u57fa\u672c\u3068\u304b\u305d\u306e\u8fba\u8aac\u660e\u3057\u3064\u3064\u30fb\u30fb\u30fb\n\n# RMagick \u306e\u57fa\u672c\n\n\u2193\u3053\u306e\u5143\u753b\u50cf\u3092\u52a0\u5de5\u3057\u306a\u304c\u3089\u3001\u57fa\u672c\u3092\u89e3\u8aac\n\n![sample.jpg](https://qiita-image-store.s3.amazonaws.com/0/56465/27297d79-5ee7-63df-822e-5d50fbb6aef5.jpeg)\n\n\u203b\u753b\u50cf\u306fshutterstock\u306e\u3082\u306e\u3092\u4f7f\u7528\u3002\u5229\u7528\u898f\u7d04\u4e0a\u3053\u306e\u8a18\u4e8b\u5916\u3067\u306f\u5229\u7528\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u8a66\u3059\u3068\u304d\u306f\u30b9\u30de\u30db\u3067\u81ea\u5206\u306e\u753b\u50cf\u64ae\u5f71\u3059\u308b\u7b49\u3067\u9069\u5f53\u306a\u753b\u50cf\u3092\u7528\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \u30a8\u30d5\u30a7\u30af\u30c8\u304b\u3051\u308b\u3000\u30d6\u30e9\u30fc\n\n```blur.rb\nrequire 'RMagick' # require \u3057\u3066\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8aad\u307f\u8fbc\u307f\n\nimg = Magick::ImageList.new(\"sample.jpg\") # \u5143\u753b\u50cf\u306e sample.jpg \u3092\u8aad\u307f\u8fbc\u307f\nnew_img = img.blur_image(20.0, 10.0) # \u30d6\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3000\u623b\u308a\u5024\u306b\u65b0\u3057\u3044\u753b\u50cf\u304c\u623b\u308b\u3088\nnew_img.write(\"blur.jpg\") # \u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u51fa\u3057\n```\n\n\u30a8\u30d5\u30a7\u30af\u30c8\u5f8c\u753b\u50cf\n![blur.jpg](https://qiita-image-store.s3.amazonaws.com/0/56465/cad84d5c-dea9-4bb0-293f-c59cb438a2ad.jpeg)\n\n### :exclamation: \u6ce8\u610f\u70b9\n\n#### \u30e1\u30e2\u30ea\u306e\u89e3\u653e\n\nRMagick\u304c\u53d6\u308a\u6271\u3046\u753b\u50cf\u306f\u660e\u793a\u7684\u306b\u30e1\u30e2\u30ea\u89e3\u653e\u306e\u6307\u793a`destroy!`\u3092\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u305f\u3068\u3048\u3070\u4eca\u56de\u306e\u4f5c\u696d\u306e\u3088\u3046\u306b\u5927\u91cf\u306b\u753b\u50cf\u3092\u30eb\u30fc\u30d7\u5185\u3067\u4f5c\u6210\u3059\u308b\u5834\u5408\u3001\u753b\u50cf\u306e\u66f8\u304d\u51fa\u3057\u304c\u7d42\u308f\u3063\u305f\u6642\u70b9\u3067`destroy!`\u3059\u308b\u306e\u304c\u671b\u307e\u3057\u3044\n\n```memory.rb\nimg = Magick::ImageList.new(\"sample.jpg\") # \u5143\u753b\u50cf\u306e sample.jpg \u3092\u8aad\u307f\u8fbc\u307f\nnew_img = img.blur_image(20.0, 10.0) # \u30d6\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3000\u623b\u308a\u5024\u306b\u65b0\u3057\u3044\u753b\u50cf\u304c\u623b\u308b\u3088\nnew_img.write(\"blur.jpg\") # \u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u51fa\u3057\n\nnew_img.destroy! # \u2605\u3053\u3053\u3067\u30e1\u30e2\u30ea\u89e3\u653e\n```\n\n## \u753b\u50cf\u306e\u62e1\u5927\u7e2e\u5c0f\n\n```resize.rb\nrequire 'RMagick'\n\nimg = Magick::ImageList.new(\"sample.jpg\")\nnew_img = img.scale(0.25)\nnew_img.write(\"small.jpg\")\n```\n\n\u7e2e\u5c0f\u5f8c\u306e\u753b\u50cf\n![small.jpg](https://qiita-image-store.s3.amazonaws.com/0/56465/1a262d59-c737-9ca7-ef15-27724166a8c1.jpeg)\n\n## \u6587\u5b57\u5165\u308c\n\n### \u6587\u5b57\u5165\u308c\u306b\u306f\u30d5\u30a9\u30f3\u30c8\u304c\u5fc5\u8981\n\n\u74b0\u5883\u306b\u3088\u3063\u3066\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d5\u30a9\u30f3\u30c8\u304c\u81ea\u52d5\u7684\u306b\u9078\u629e\u3055\u308c\u308b\u304b\u3082\u30fb\u30fb\u3064\u307e\u308a\u660e\u793a\u7684\u306b\u6307\u5b9a\u3057\u305f\u307b\u3046\u304c\u7121\u96e3\n\n\u4eca\u56de\u306f\u3001\u30d5\u30ea\u30fc\u30d5\u30a9\u30f3\u30c8\u306e\u300c\u6e90\u67d4\u30b4\u30b7\u30c3\u30af (\u3052\u3093\u3058\u3085\u3046\u30b4\u30b7\u30c3\u30af) \u300d\u3092\u4f7f\u7528\n\nhttp://jikasei.me/font/genjyuu/\n\n\u2191\u3053\u3061\u3089\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\n\n### \u6587\u5b57\u5165\u308c\u3057\u3066\u307f\u308b\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u306e GenJyuuGothic-Normal.ttf \u3092\u4f7f\u7528\n\n```moji.rb\nrequire 'RMagick'\n\nimg = Magick::ImageList.new(\"sample.jpg\")\nscaled_img = img.scale(300, 300)\n\nfont = \"GenJyuuGothic-Normal.ttf\"\ndraw = Magick::Draw.new\ndraw.annotate(scaled_img, 0, 0, 5, 5, '2014\u5e74\u3082\u7d42\u308f\u308b') do\n  self.font      = font\n  self.fill      = 'blue'\n  self.stroke    = 'transparent'\n  self.pointsize = 30\n  self.gravity   = Magick::NorthWestGravity\nend\n\nscaled_img.write(\"moji.png\") # save to file\n```\n\n\u6587\u5b57\u5165\u308c\u5f8c\u306e\u753b\u50cf\n![moji.png](https://qiita-image-store.s3.amazonaws.com/0/56465/c8f65e4e-789e-ad53-33dd-1612b36331d3.png)\n\n\u898b\u3065\u3089\u3044\u306e\u3067\u767d\u3067\u7e01\u53d6\u308a\u3057\u3066\u307f\u308b\n\n### \u7e01\u53d6\u308a\u3057\u305f\u5834\u5408\n\n```moji2.rb\nrequire 'RMagick'\n\nimg = Magick::ImageList.new(\"sample.jpg\")\nscaled_img = img.scale(300, 300)\n\nfont = \"GenJyuuGothic-Normal.ttf\"\ndraw = Magick::Draw.new\n\ndraw.annotate(scaled_img, 0, 0, 5, 5, '2014\u5e74\u3082\u7d42\u308f\u308b') do\n  self.font      = font\n  self.fill      = 'blue'\n  self.stroke    = 'white'\n  self.stroke_width    = 4\n  self.pointsize = 30\n  self.gravity   = Magick::NorthWestGravity\nend\n\ndraw.annotate(scaled_img, 0, 0, 5, 5, '2014\u5e74\u3082\u7d42\u308f\u308b') do\n  self.font      = font\n  self.fill      = 'blue'\n  self.stroke    = 'transparent'\n  self.pointsize = 30\n  self.gravity   = Magick::NorthWestGravity\nend\n\nscaled_img.write(\"moji2.png\") # save to file\n```\n\n\u6587\u5b57\u5165\u308c\u5f8c\u306e\u753b\u50cf\n![moji2.png](https://qiita-image-store.s3.amazonaws.com/0/56465/b76ca9de-b69e-12f7-4197-6ae69defd5cf.png)\n\n### qiita \u30ab\u30e9\u30fc\uff08\u7dd1\uff09\u3067\n\n\u6587\u5b57\u8272\u306f blue, white \u3068\u304b\u306e[\u7d44\u8fbc\u307f\u306e\u5b9a\u7fa9\u6e08\u307f\u306e\u540d\u524d](http://www.imagemagick.org/RMagick/doc/imusage.html#color_names)\u3082\u4f7f\u3048\u308b\u3057\u300116\u9032RGB\u6307\u5b9a\u3082\u4f7f\u3048\u308b\n\n```moji3.rb\nrequire 'RMagick'\n\nimg = Magick::ImageList.new(\"sample.jpg\")\nscaled_img = img.scale(300, 300)\n\nfont = \"GenJyuuGothic-Normal.ttf\"\ndraw = Magick::Draw.new\n\ndraw.annotate(scaled_img, 0, 0, 5, 5, '2014\u5e74\u3082\u7d42\u308f\u308b') do\n  self.font      = font\n  self.fill      = '#428b09'\n  self.stroke    = 'white'\n  self.stroke_width    = 4\n  self.pointsize = 30\n  self.gravity   = Magick::NorthWestGravity\nend\n\ndraw.annotate(scaled_img, 0, 0, 5, 5, '2014\u5e74\u3082\u7d42\u308f\u308b') do\n  self.font      = font\n  self.fill      = '#428b09'\n  self.stroke    = 'transparent'\n  self.pointsize = 30\n  self.gravity   = Magick::NorthWestGravity\nend\n\nscaled_img.write(\"moji3.png\") # save to file\n```\n\n\u6587\u5b57\u5165\u308c\u5f8c\u306e\u753b\u50cf\n![moji3.png](https://qiita-image-store.s3.amazonaws.com/0/56465/ea09d1d1-e94b-d110-941b-1bd134f6b042.png)\n\n\n### \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\n\nhttp://www.imagemagick.org/RMagick/doc/draw.html#annotate\n\n## \u30e2\u30b6\u30a4\u30af\u753b\u50cf\u4f5c\u6210\uff08\u5192\u982d\u306e\u3084\u3064\uff09\n\n\u3053\u306e\u8a18\u4e8b\u306e\u982d\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u3044\u305f\u753b\u50cf\u3082RMagick\u3067\u4f5c\u6210\n\n```mosaic.rb\nrequire 'RMagick'\nrequire 'yaml'\nrequire \"open-uri\"\n\nthumbnails = YAML.load(File.open('thumbnails.yml').read)\nimages = Magick::ImageList.new \nthumbnails.each do |uri|\n  puts uri\n  images.read(uri) # uri \u304c remote \u306e\u5834\u5408\u3067\u3082\u3001ruby\u3068RMagick\u3069\u3061\u3089\u3082\u6700\u65b0\u7248\u306a\u3089\u3053\u308c\u3067\u3082OK\u306e\u306f\u305a\u3002\u53e4\u3044\u3068\u30a8\u30e9\u30fc\n  # urlimage = open(uri) # ruby \u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u304f\u3066uri\u304chttps\u306e\u5834\u5408SSL\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u6709\n  # images.from_blob(urlimage.read)\nend # thumbnails.each\n\ntile = Magick::ImageList.new\npage = Magick::Rectangle.new(0,0,0,0)\nimages.scene = 0\n\n5.times do |i|\n  5.times do |j|\n    tile << images.scale(80, 80)\n    page.x = j * tile.columns\n    page.y = i * tile.rows\n    tile.page = page\n    (images.scene += 1) rescue images.scene = 0\n  end\nend\nmosaic = tile.mosaic\nmosaic.write(\"mosaic.png\")\n```\n\n### \u6ce8\u610f\u70b9\n\n - \u30d0\u30fc\u30b8\u30e7\u30f3(ruby, RMagick)\u306b\u3088\u3063\u3066 http https \u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u4f7f\u3063\u3066\u76f4\u63a5 read \u3067\u304d\u306a\u3044\u3053\u3068\u304c\u3042\u308b\n - \u30d0\u30fc\u30b8\u30e7\u30f3(ruby, RMagick)\u306b\u3088\u3063\u3066 https \u306e\u5834\u5408SSL\u306e\u8a3c\u660e\u66f8\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308b\n\n\u4ee5\u4e0b\u53c2\u8003URL\n\n - http://stackoverflow.com/questions/7264895/rmagick-can-not-read-remote-image\n - http://railsapps.github.io/openssl-certificate-verify-failed.html\n\n# RMagick \u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n\n\u3053\u306e\u5148\u306e\u4f5c\u696d\u3067\u306e\u30dd\u30a4\u30f3\u30c8\n\n - \u6700\u7d42\u7684\u306b\u306f\u52d5\u753b\u30d5\u30a1\u30a4\u30eb .mp4\n - \u52d5\u753b\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u6210\u306b\u306f ffmpeg \u3092\u4f7f\u7528\uff08\u9905\u306f\u9905\u5c4b\u3067\uff09\n - RMagick \u306f\u52d5\u753b\u306e\u5143\u3068\u306a\u308b\u30d5\u30ec\u30fc\u30e0\u306e\u4f5c\u6210\u306b\u4f7f\u3046\n - \u3067\u304d\u308b\u3060\u3051 RMagick \u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u30d5\u30ec\u30fc\u30e0\u3092\u3064\u304f\u308b\n - 1280x720 \u3050\u3089\u3044\u3092\u76ee\u6307\u3059\n\n\u82b8\u8853\u306e\u7d20\u990a\u3068\u3044\u3046\u304b\u3001\u305d\u3046\u3044\u3046\u306e\u304c\u7121\u3044\u306e\u3067\u3001\u30a2\u30a4\u30c7\u30a2\u3092\u62dd\u501f\u3002\u30a4\u30f3\u30b9\u30d4\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5f97\u308b\u3001\u3053\u308c\u5927\u4e8b\u3002\u305f\u3068\u3048\u3070\u3053\u3046\u3044\u3046\u306e\u3002\n\nhttp://matome.naver.jp/odai/2139688110872725901\n\n\u81ea\u5206\u306e\u597d\u304d\u306a\u6620\u753b\u3082\u826f\u3044\u3068\u601d\u3046\u3002\u6700\u8fd1\u306f\u5b9f\u5199\u7cfb\u306e\u6620\u753b\u3082\u30aa\u30fc\u30d7\u30cb\u30f3\u30b0\u3001\u30a8\u30f3\u30c7\u30a3\u30f3\u30b0\u3067\u904a\u3093\u3067\u308b\u304b\u3089\u53c2\u8003\u306b\u3059\u308b\u306b\u306f\u826f\u3044\u3002\u5370\u8c61\u306b\u6b8b\u3063\u3066\u3044\u308b\u306e\u306f007\u3068\u304b\u3002\u3068\u304d\u3069\u304d\u3001\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u624b\u3092\u4f11\u3081\u3066\u2193\u306e\u3088\u3046\u306a\u8a18\u4e8b\u3092\u8aad\u3093\u3060\u308a\u3001\u52d5\u753b\u3092\u307f\u308b\u3068\u65b0\u3057\u3044\u30a2\u30a4\u30c7\u30a3\u30a2\u304c\u6d6e\u304b\u3093\u3067\u304f\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\n[\u9b45\u529b\u7684\u306a\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u304f\u308b\u305f\u3081\u306e12\u306e\u539f\u5247\uff08\u52d5\u753b\u3042\u308a\uff09](http://wired.jp/2014/05/14/12-principles-of-animation/) http://wired.jp/2014/05/14/12-principles-of-animation/\n\n**\u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6\u306a\u3093\u3066\u5411\u3044\u3066\u306a\u3044\u3053\u3068\u3092\u518d\u8a8d\u8b58\u21d2\u53c2\u52a0\u8005\u5168\u54e1\u304c\u8868\u793a\u3055\u308c\u308b\u52d5\u753b\u306b\u843d\u3061\u7740\u304f**\n\n:ramen: \u3053\u3053\u307e\u3067\u66f8\u3044\u3066\u7a7a\u8179\u306b\u306a\u3063\u305f\u306e\u3067\u30fb\u30fb\u30fb\u4f11\u61a9\n\n## gif \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n\n\u4f11\u61a9\u5f8c\u3001\u3084\u3063\u3071\u308a\u3001\u6642\u9593\u7121\u3055\u305d\u3046\u30fb\u30fb\u30fb \u52d5\u753b\u306b\u3057\u306a\u304f\u3066\u3082gif\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3067\u304d\u308b\u3057\u3001RMagick\u306e\u307f\u3067\u3064\u304f\u308c\u308b\u306e\u306f\u826f\u3044\uff01\n\n\u4ee5\u4e0b\u53c2\u8003\u30ea\u30f3\u30af\u306e\u307f\u3067\u3001\u3054\u3081\u3093\u3088 :scream:\n\n### \u53c2\u8003\u30ea\u30f3\u30af\n\n - http://gihyo.jp/dev/serial/01/ruby/0027\n - http://d.hatena.ne.jp/unageanu/20090831/1251735007\n\n## \u52d5\u753b\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n\n\u30d5\u30ec\u30fc\u30e0\u3092\u3054\u308a\u3054\u308a\u3064\u304f\u3063\u3066\u3001ffmpeg \u4f7f\u3063\u3066\u52d5\u753b\u306b\u3057\u3066\u3082\u3089\u3046\u3002\n\nnext \u3067\u6b21\u306e\u30d5\u30ec\u30fc\u30e0\u306b\u79fb\u308b\u51e6\u7406\u3067\u3001draw \u3067\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u3060\u3059\u611f\u3058\u3067\u3044\u304f\u4e88\u5b9a\n\n### \u80cc\u666f\u3068\u304b\u30d5\u30ec\u30fc\u30e0\u306e\u67a0\u3092\u6e96\u5099\n\n\u300c**\u3067\u304d\u308b\u3060\u3051 RMagick \u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u30d5\u30ec\u30fc\u30e0\u3092\u3064\u304f\u308b**\u300d\u306e\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u306a\u308b\u753b\u50cf\u7b49\u306f\u7528\u610f\u3057\u306a\u3044\u3067\u30d5\u30ec\u30fc\u30e0\u3092\u3064\u304f\u3063\u3066\u3044\u304f\u3002\u30b5\u30a4\u30ba\u306f 1280x720 \u3067\u3002\u7a7a\u306e\u753b\u50cf\u3092RMagick\u3067\u6e96\u5099\u3059\u308b\u306b\u306f `Image.new(width, height)` \u3092\u4f7f\u3046\u3002\n\n```empty.rb\nrequire 'RMagick'\n\nf = Magick::Image.new(1280,720) { self.background_color = \"white\" }\nf.write(\"background.png\")\n```\n\n\u5473\u6c17\u306a\u3044\u306e\u3067\u3001qiita \u3063\u307d\u304f\u3059\u308b\u3002qiita \u30b0\u30ea\u30fc\u30f3 \"#428b09\" \u3092\u62dd\u501f\u3002\"Ruby Advent Calendar 2014\" \u306e\u6587\u5b57\u3092\u5165\u308c\u308b\u3002\n\n```background.rb\nrequire 'RMagick'\n\nf = Magick::Image.new(1280,720) { self.background_color = \"white\" } # \u80cc\u666f\u3092\u767d\u3067\u6e96\u5099\n\ndraw = Magick::Draw.new\n# http://www.imagemagick.org/RMagick/doc/draw.html#rectangle\ndraw.fill('#428b09') # \u5148\u306b\u8272\u3092\u6307\u5b9a\u3057\u3066\ndraw.rectangle(0, 0, 1280, 100) # \u30c8\u30c3\u30d7\u306e\u30d0\u30ca\u30fc\u3092\u9577\u65b9\u5f62\u3067\ndraw.draw(f) # \u5857\u308b\n\ndraw = Magick::Draw.new\nfont = \"GenJyuuGothic-Normal.ttf\"\ndraw.annotate(f, 0, 0, 15, 12, 'Ruby Advent Calendar 2014') do\n  self.font      = font\n  self.fill      = 'white'\n  self.stroke    = 'transparent'\n  self.pointsize = 54\n  self.gravity   = Magick::NorthWestGravity\nend\n\nf.write(\"background.png\")\n```\n\n\u2193\u3053\u308c\u304c\u80cc\u666f\u306e\u30a4\u30e1\u30fc\u30b8\n\n![background_small.png](https://qiita-image-store.s3.amazonaws.com/0/56465/d56e5d70-b1ed-d51b-e7c0-f2c79f990176.png)\n\n\n### \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306b\u4f7f\u3048\u305d\u3046\u306aRMagick\u306e\u30a8\u30d5\u30a7\u30af\u30c8\n\nmotion_blur \u304c\u826f\u3055\u305d\u3046\u3002\u8a66\u3057\u306b\u300c\u30b9\u300d\u306e\u30a2\u30a4\u30b3\u30f3\u306b motion_blur \u304b\u3051\u306620\u679a\u307b\u3069\u30d5\u30ec\u30fc\u30e0\u753b\u50cf\u3092\u4f5c\u6210\n\n```motion_blur.rb\nrequire 'RMagick'\n\nimg = Magick::ImageList.new(\"src.png\")\nimg.alpha Magick::DeactivateAlphaChannel # \u30a2\u30eb\u30d5\u30a1\u30c1\u30e3\u30cd\u30eb\u3092\u7121\u52b9\u306b\nimg = img.opaque_channel(\"#000000\", \"#FFFFFF\") # \u30a2\u30eb\u30d5\u30a1\u30c1\u30e3\u30cd\u30eb\u90e8\u5206\u304c\u9ed2\u304b\u3063\u305f\u306e\u3067\u767d\u304f\n\nctr = 0\n-10.upto(10) {|i|\n  if i >= 0\n    tmp = i != 0 ? img.motion_blur( 0, i*i, 0) : img # \u5de6\u306e\u65b9\u5411\u306b\u3076\u308c\u308b\u611f\u3058\n  else\n    tmp = i != 0 ? img.motion_blur( 0, i*i, 180) : img # \u53f3\u65b9\u5411\u306b\u3076\u308c\u308b\u611f\u3058\n  end\n  file_name = \"frames/frame-%03d.png\" % ctr\n  tmp.write(file_name)\n  ctr += 1\n}\n```\n\n21\u679a\u306e\u753b\u50cf\u304c\u3067\u304d\u3066\u3053\u3093\u306a\u611f\u3058\n\n![frame_files.png](https://qiita-image-store.s3.amazonaws.com/0/56465/e56532a4-839b-8458-d6c2-28dd3b23bd93.png)\n\n#### :exclamation: \u6ce8\u610f\u70b9\n\nmotion_blur \u306f\u30ac\u30a6\u30b9\u307c\u304b\u3057 gausian_blur \u3092\u5185\u90e8\u7684\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u5f15\u6570`sigma`\u306e\u5024\u304c\u5927\u304d\u304f\u306a\u308b\u307b\u3069\u8a08\u7b97\u91cf\u304c\u5897\u3048\u51e6\u7406\u304c\u9045\u304f\u306a\u308b\u3002\u4f7f\u7528\u53ef\u80fd\u306a\u30ea\u30bd\u30fc\u30b9\u306e\u7bc4\u56f2\u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u8003\u3048\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n### \u307f\u3093\u306a\u306e\u30a2\u30a4\u30b3\u30f3\u306b\u4f7f\u3063\u3066\u307f\u308b\n\n```hoge.rb\nrequire 'RMagick'\n\n# background \u3092\u6e96\u5099\nbg = Magick::Image.new(1280,720) { self.background_color = \"white\" } # \u80cc\u666f\u3092\u767d\u3067\u6e96\u5099\n\ndraw = Magick::Draw.new\n# http://www.imagemagick.org/RMagick/doc/draw.html#rectangle\ndraw.fill('#428b09') # \u5148\u306b\u8272\u3092\u6307\u5b9a\u3057\u3066\ndraw.rectangle(0, 0, 1280, 100) # \u30c8\u30c3\u30d7\u306e\u30d0\u30ca\u30fc\u3092\u9577\u65b9\u5f62\u3067\ndraw.draw(bg) # \u5857\u308b\n\ndraw = Magick::Draw.new\nfont = \"GenJyuuGothic-Normal.ttf\"\ndraw.annotate(bg, 0, 0, 15, 12, 'Ruby Advent Calendar 2014') do\n  self.font      = font\n  self.fill      = 'white'\n  self.stroke    = 'transparent'\n  self.pointsize = 54\n  self.gravity   = Magick::NorthWestGravity\nend\n\n# \u3053\u3053\u3067\u30a8\u30d5\u30a7\u30af\u30c8\u3057\u305f\u30a2\u30a4\u30b3\u30f3\u3092\u5f35\u308a\u4ed8\u3051\u3066\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\nbase = Magick::Image.new(600,600) { self.background_color = \"white\" } # \u80cc\u666f\u3092\u767d\u3067\u6e96\u5099\noverlay = Magick::Image.read(\"mosaic.png\").first # \u3053\u308c\u306e\u30b5\u30a4\u30ba\u306f400x400\nbase.composite!(overlay, 100, 100, Magick::OverCompositeOp) # \u4e2d\u592e\u306b\u306a\u308b\u3088\u3046\u306b\u914d\u7f6e\n\nctr = 0\n-10.upto(10) {|i|\n  if i >= 0\n    tmp = i != 0 ? base.motion_blur( 0, i*i*0.5, 0) : base\n  else\n    tmp = i != 0 ? base.motion_blur( 0, i*i*0.5, 180) : base\n  end\n  file_name = \"frames/frame-%03d.png\" % ctr\n  \n  # background \u306e\u4e2d\u592e\u306b\u914d\u7f6e\n  bg.composite!(tmp, 340, 120, Magick::OverCompositeOp) # \u4e2d\u592e\u306b\u306a\u308b\u3088\u3046\u306b\u914d\u7f6e\n  bg.write(file_name)\n  ctr += 1\n}\n```\n\n\u540c\u3058\u3088\u3046\u306b21\u679a\u306e\u753b\u50cf\u304c\u3067\u304d\u3066\u3053\u3093\u306a\u611f\u3058\n\n![frame_files2.png](https://qiita-image-store.s3.amazonaws.com/0/56465/cc181cb8-fe19-7e0e-0233-25042db20088.png)\n\n\n## ffmpeg \u306e\u306f\u306a\u3057\n\n### \u8907\u6570\u306e\u753b\u50cf\u3092\u3064\u304b\u3063\u3066\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u52d5\u753b\u3092\u3064\u304f\u308b\n\n1\u79d2\u9593\u306b5\u679a\uff085\u30d5\u30ec\u30fc\u30e0\uff09\u306e\u753b\u50cf\u3092\u4f7f\u3063\u305f\u52d5\u753b\u3092\u4f5c\u6210\n\n```\nffmpeg -r 5 -i frame-%03d.png -c:v libx264 -pix_fmt yuv420p -y out.mp4\n```\n\n\u2191\u3053\u3093\u306a\u611f\u3058\u3067\u30b3\u30de\u30f3\u30c9\u3067\u4e00\u767a\u3067\u52d5\u753b\u304c\u4f5c\u6210\u3067\u304d\u308b\uff01\u3067\u304d\u305f\u52d5\u753b\u306f\u2193\n\nhttps://www.youtube.com/watch?v=Qd1C5v2m76Y\n\n\u203b\u753b\u8cea\u304c\u8352\u3044\u306e\u306f\u5143\u306e\u753b\u50cf\u304c80x80\u306e\u305f\u3081\n\n\u307f\u3093\u306a\u306e\u9854\u21d2 https://www.youtube.com/watch?v=AqHmcZ5qplg\n\n#### \u4f7f\u7528\u3057\u305f\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u89e3\u8aac\n\n - -r 1\u79d2\u9593\u306e\u30d5\u30ec\u30fc\u30e0\u6570\u3092\u6307\u5b9a\u3059\u308b\uff081\u3088\u308a\u5c0f\u3055\u3044\u6570\u3067\u3082 0.5 \u3068\u304bOK\uff09\n - -i \u5165\u529b\u306b\u4f7f\u7528\u3059\u308b\u30d5\u30a1\u30a4\u30eb\n - -c:v \u30d3\u30c7\u30aa\u30b3\u30fc\u30c7\u30c3\u30af\u306e\u6307\u5b9a\n - -pix_fmt \u30d4\u30af\u30bb\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u6307\u5b9a \u203b\u3053\u308c\u6307\u5b9a\u3057\u306a\u3044\u3068\u3061\u3083\u3093\u3068\u3057\u305f\u7d75\u306b\u306a\u3089\u306a\u3044\n - -y \u540c\u540d\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u3063\u305f\u3089\u5f37\u5236\u7684\u306b\u4e0a\u66f8\u304d\n\n### \u52d5\u753b\u30d5\u30a1\u30a4\u30eb\u306b\u97f3\u58f0(BGM)\u3092\u52a0\u3048\u308b\n\n - BGM\u306f\u30d5\u30ea\u30fcBGM\u7d20\u6750\u3068\u3057\u3066\u5b9a\u8a55\u306e\u3042\u308b\u300c\u9b54\u738b\u9b42\u300dhttp://maoudamashii.jokersounds.com/list/bgm6.html \u3055\u3093\u304b\u3089\n - \u30e9\u30b9\u30dc\u30b9\u3063\u307d\u3044\u66f8\u304d\u624b\u304c\u591a\u3044\u306e\u3067\u30e9\u30b9\u30dc\u30b9\u3063\u307d\u3044\u66f2\u3092\u30c1\u30e7\u30a4\u30b9\n - ffmpeg \u3067\u3067\u304d\u305f\u52d5\u753b\u306e\u97f3\u58f0\u3092\u5165\u308c\u66ff\u3048\n\n```\nffmpeg -i video.mp4 -i bgm.aac -bsf:a aac_adtstoasc -map 0:0 -map 1 -vcodec libx264 -acodec libvo_aacenc -y ruby_advent_calendar_2014.mp4\n```\n\n# \u5236\u4f5c\u3092\u7d42\u3048\u3066\u306e\u611f\u60f3\n\n\u30fd(\uff9f\uff70\uff9f*\u30fd)(\uff89*\uff9f\uff70\uff9f)\uff89\u308f\u3041\u3044\n\nruby \u3092\u4f7f\u3063\u305f\u610f\u5473\u306b\u3064\u3044\u3066\u30fb\u30fb\u30fb\n\n# \u304a\u307e\u3051\n\n## \u4f7f\u7528\u3055\u305b\u3066\u3044\u305f\u3060\u3044\u305f\u30e6\u30fc\u30b6\u30fc\u306e\u7686\u69d8\n\n\u65e5\u4ed8\u9806\n\n\u203b12\u67081\u65e5\u6642\u70b9\uff08\u4e00\u89a7\u4f5c\u6210\u4e2d\u306b\u5909\u66f4\u304c\u3042\u3063\u305f\u308a\u3067\u30fb\u30fb\u30fb\uff09\n\n - http://qiita.com/joker1007\n - http://qiita.com/awakia\n - http://qiita.com/scleen_x_x\n - http://qiita.com/tbpgr\n - http://qiita.com/igrep\n - http://qiita.com/komiyak\n - http://qiita.com/michiomochi@github\n - http://qiita.com/sonots\n - http://qiita.com/kwatch\n - http://qiita.com/udzura\n - http://qiita.com/shu_0115\n - http://qiita.com/tsumekoara\n - http://qiita.com/domitry\n - http://qiita.com/217\n - http://qiita.com/shin_semiya\n - http://qiita.com/kwgch\n - http://qiita.com/supermomonga\n - http://qiita.com/yancya\n - http://qiita.com/yuutetu\n - http://qiita.com/kwappa\n - http://qiita.com/taiyop\n - http://qiita.com/yui-knk\n - http://qiita.com/hkusu\n - http://qiita.com/syuu1228\n - http://qiita.com/ocadaruma\n\n## qiita\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf\n\n - gravatar \u306e\u5834\u5408\u3082\u3042\u308c\u3070 twimg \u306e\u5834\u5408\u3082\u3042\u3063\u3066\u3001\u9762\u5012\n - gravatar \u7cfb\u306e\u3068\u304d\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u53d6\u5f97\u3059\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u304c\u3061\n\n## qiita\u306eAPI\n\n - \u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u306f `http://qiita.com/api/v2/users/joker1007` \u3067\u53d6\u5f97\u53ef\u80fd\n - Contribution \u306e\u6570\u5b57\u306f\u5165\u3089\u306a\u3044\uff08Contribution\u306f\u30b9\u30c8\u30c3\u30af\u3055\u308c\u305f\u5408\u8a08\u6570\u3060\u308d\u3046\u304b\uff1f\uff09\n - \u6295\u7a3f\u6570\u3001\u30d5\u30a9\u30ed\u30ef\u30fc\u6570\u3001\u30d5\u30a9\u30ed\u30fc\u6570\u306f\u53d6\u5f97\u3067\u304d\u308b\n\n## qiita \u306e Contribution \u306e\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0 with Nokogiri\n\n```get_contribution.rb\nrequire 'nokogiri'\nrequire 'open-uri'\n\nurl = 'http://qiita.com/joker1007'\nhtml = Nokogiri::HTML(open(url), nil, 'utf-8')\nctb = html.xpath('//div[@class=\"second-line\"]/span[@class=\"count\"]/text()')\nputs ctb\n```\n\n## Advent Caendar \u304b\u3089 Nokogiri \u4f7f\u3063\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d6\u5f97\n\n```get_messages.rb\nrequire 'nokogiri'\nrequire 'open-uri'\nrequire 'json'\n\nmessages = []\nurl = \"http://qiita.com/advent-calendar/2014/ruby\"\nhtml = Nokogiri::HTML(open(url), nil, 'utf-8')\n# \u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u67a0td\u3092\u63a2\u3059\ntds = html.xpath('//td[@class=\"adventCalendar_calendar_day\"]')\ntds.each do |td| \n  author = td.xpath('p[@class=\"adventCalendar_calendar_author\"]')\n  if author.empty? # author \u7121\u3044\u306a\u3089\u7121\u8996\n    \n  else\n    user_id = author.xpath('a/@href').to_s[1, 100] # \u5148\u982d\u30b9\u30e9\u30c3\u30b7\u30e5\u7121\u8996\n    puts user_id\n    \n    message = nil\n    m_a = td.xpath('p[@class=\"adventCalendar_calendar_entry\"]/a')\n    if m_a.empty? # \u672a\u6295\u7a3f\u306e\u5834\u5408\u306f\u3053\u3063\u3061\n      message = td.xpath('p[@class=\"adventCalendar_calendar_entry\"]/text()')\n      else # \u6295\u7a3f\u6e08\u307f\u306e\u5834\u5408\n      message = td.xpath('p[@class=\"adventCalendar_calendar_entry\"]/a/text()')\n    end\n    puts message\n    messages.push(:user_id=>user_id, :message=>message)\n  end\nend # tds.each\njson_file = \"messages.json\"\nFile.open(json_file,\"w\") do |f|\n  f.write(messages.to_json)\nend\n```\n\n## qiita API v2 \u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u53d6\u5f97\n\napi/v2/users/:id\n\n```.json\n{\n  \"description\": \"Qiita, Qiita:Team(RoR)\u3084Kobito(Objective-C)\u306e\u958b\u767a\u3092\u3057\u3066\u3044\u307e\u3059\uff0e\",\n  \"facebook_id\": \"yaotti\",\n  \"followees_count\": 118,\n  \"followers_count\": 181,\n  \"github_login_name\": \"yaotti\",\n  \"id\": \"yaotti\",\n  \"items_count\": 101,\n  \"linkedin_id\": \"yaotti\",\n  \"location\": \"Tokyo, Japan\",\n  \"name\": \"Hiroshige Umino\",\n  \"organization\": \"Increments Inc\",\n  \"profile_image_url\": \"https://si0.twimg.com/profile_images/2309761038/1ijg13pfs0dg84sk2y0h_normal.jpeg\",\n  \"twitter_screen_name\": \"yaotti\",\n  \"website_url\": \"http://yaotti.hatenablog.com\"\n}\n```\n\n## Gravatar \u306eAPI\n\ngravatar \u306a\u3093\u3066\u4f7f\u3063\u3066\u3044\u308b\u4eba\u5c11\u306a\u3044\u3068\u601d\u3063\u3066\u305f\u306e\u3060\u304c\u3051\u3063\u3053\u3046\u3044\u308b\u306e\u306d\u3002\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u30cf\u30c3\u30b7\u30e5\u3057\u305f\u3053\u3093\u306a\u611f\u3058\u306eURL\u3067\u753b\u50cf\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc`s`\u3067\u30b5\u30a4\u30ba\u6307\u5b9a\u3067\u304d\u308b\u306e\u304c\u30dd\u30a4\u30f3\u30c8 :+1:\n\n```\nhttp://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?s=200\n```\n\n## ruby + RMagick \u3067\u3084\u3063\u305f\u610f\u5473\u306b\u3064\u3044\u3066\n\n - \u3084\u3063\u305f\u3053\u3068\u306f\u30b7\u30a7\u30eb\u3067 ImageMagick + ffmpeg \u4f7f\u3046\u306e\u3068\u5909\u308f\u3089\u306a\u3044\u3067\u306f\u306a\u3044\u304b\n  - \u306f\u3044\u305d\u306e\u901a\u308a\u3067\u3059\n - ruby \u3067\u3084\u308b\u610f\u5473\u306f\u3069\u3053\u306b\u3042\u3063\u305f\u306e\u304b\n  - RMagick \u5468\u8fba\u3092\u7dba\u9e97\u306b\u30e9\u30c3\u30d7\u3057\u305f\u611f\u3058\u306e\u3082\u306e\u3092\u3064\u304f\u308c\u305f\u3089\u610f\u5473\u3042\u308b\u304b\u3082 \u203bRMagick\u304c\u51e6\u7406\u3059\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u5185\u3001self\u623b\u3059\u306e\u3082\u3042\u308c\u3070\u3001new image\u623b\u3059\u3082\u306e\u3082\u3042\u3063\u305f\u308a\u3068\u3084\u3084\u3053\u3057\u3044\u304b\u3089\n - \u4f55\u304c\u5f97\u3089\u308c\u305f\u306e\u304b\n  - \u4f5c\u696d\u4e2d\u306fCPU\u4f7f\u7528\u7387\u304c100%\u8fd1\u304f\u3092\u7dad\u6301\u3067\u304d\u305f :chart_with_upwards_trend:\n"}