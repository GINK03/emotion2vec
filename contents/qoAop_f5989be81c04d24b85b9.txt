{"tags": ["mail", "Perl", "\u7d75\u6587\u5b57", "emoji"], "context": " More than 1 year has passed since last update.perl\u3067\u30e1\u30fc\u30eb\u3092\u9001\u308b\u6642\u306b\u8a18\u53f7\u304c\u5165\u3063\u3066\u308b\u3068\u6587\u5b57\u5316\u3051\u3057\u3061\u3083\u3046\u306e\u3067HTML\u30e1\u30fc\u30eb\u3067\u9001\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u9001\u308b\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb(mail.txt)\u3001\u6587\u5b57\u30b3\u30fc\u30c9UTF8\u3067\u3059\u3002\n\u666e\u901a\u306e\u65e5\u672c\u8a9e\u3067\u3059\u3002\n\u2600\u2601\u2602\u2603\u260e\u260f\u261a\u261b\u261c\u261d\u261e\u261f\n\u2620\u2622\u2623\u2624\u2625\u262a\u262d\u262f\u2639\u263a\u263b\u263c\u263d\u263e\n\u2654\u2655\u2656\u2658\u265a\u265b\u265e\u2660\u2661\u2662\u2663\u2664\u2665\u2666\u2667\n\u2668\u2669\u266a\u266b\u266c\u266d\u266e\u266f\u2702\u2704\u2708\u270d\u270e\u270f\u2710\n\u2711\u2713\u2718\u2733\u2740\u2798\u2799\u279a\u279c\u27a5\u27a6\u27b7\u27b8\u27b9\n\u666e\u901a\u306e\u65e5\u672c\u8a9e\u3067\u3059\u3002\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\n\nhtml_mail.pl\n#!/usr/bin/perl\n\nuse utf8;\nuse strict;\nuse Encode;\nuse Encode::MIME::Header;\n\nmy $subject = 'UTF8\u306e\u8a18\u53f7\u3092\u9001\u308b\u3088\uff01';\nmy $to_mail = 'address@example.com';\n\nmy $mime_subject = encode( 'MIME-Header-ISO_2022_JP', $subject );\nmy $mime_to_mail = encode( 'MIME-Header-ISO_2022_JP', $to_mail );\n\nmy $body = '';\nfor (<>) {\n    my $utf8 = decode_utf8($_);\n    $body .= encode( 'jis', $utf8, Encode::FB_HTMLCREF );\n}\n\nmy $mail_cmd = '/usr/sbin/sendmail';\n\nmy $header = '';\n$header .= \"MIME-Version: 1.0\\n\";\n$header .= \"To: \" . $mime_to_mail . \"\\n\";\n$header .= \"Subject: \" . $mime_subject . \"\\n\";\n$header .= \"Content-type: text/html; charset=ISO-2022-JP\\n\";\n$header .= \"Content-Transfer-Encoding: 7bit\\n\";\n$header .= \"\\n\";\n\nif ( open( SMAIL, \"| $mail_cmd -t -i\" ) ) {\n    print SMAIL $header;\n    print SMAIL '<html><body><pre>' . \"\\n\";\n    print SMAIL $body . \"\\n\";\n    print SMAIL '</pre></body></html>' . \"\\n\";\n    close(SMAIL);\n}\nelse {\n    print STDERR \"ERROR $!\\n\";\n}\n\nexit(0);\n\n1;\n\n\n\n\u5b9f\u884c\n./html_mail.pl < mail.txt\n\n\n\u7d50\u679c\n\u8a18\u53f7\u5165\u308a\u3067\u30e1\u30fc\u30eb\u304c\u5c4a\u304d\u307e\u3057\u305f\u3002\n\u666e\u901a\u306e\u65e5\u672c\u8a9e\u3067\u3059\u3002\n\u2600\u2601\u2602\u2603\u260e\u260f\u261a\u261b\u261c\u261d\u261e\u261f\n\u2620\u2622\u2623\u2624\u2625\u262a\u262d\u262f\u2639\u263a\u263b\u263c\u263d\u263e\n\u2654\u2655\u2656\u2658\u265a\u265b\u265e\u2660\u2661\u2662\u2663\u2664\u2665\u2666\u2667\n\u2668\u2669\u266a\u266b\u266c\u266d\u266e\u266f\u2702\u2704\u2708\u270d\u270e\u270f\u2710\n\u2711\u2713\u2718\u2733\u2740\u2798\u2799\u279a\u279c\u27a5\u27a6\u27b7\u27b8\u27b9\n\u666e\u901a\u306e\u65e5\u672c\u8a9e\u3067\u3059\u3002\n\n\n\u30dd\u30a4\u30f3\u30c8\nJIS\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u6642\u306e Encode::FB_HTMLCREF \u90e8\u5206\u304c\u91cd\u8981\u3067\u3059\u3002\u3053\u308c\u304c\u306a\u3044\u3068\u6587\u5b57\u5316\u3051\u3057\u3066\u5c4a\u304d\u307e\u3057\u305f\u3002\n\u666e\u901a\u306e\u65e5\u672c\u8a9e\u3067\u3059\u3002\n????????????\n??????????????\n???????????????\n??\u266a??\u266d?\u266f???????\n??????????????\n\u666e\u901a\u306e\u65e5\u672c\u8a9e\u3067\u3059\u3002\n\n\n\u53c2\u8003\u30b5\u30a4\u30c8\n@dankogai\u3055\u3093\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n404 Blog Not Found : perl - Encode \u4e2d\u7d1a\n\nperl\u3067\u30e1\u30fc\u30eb\u3092\u9001\u308b\u6642\u306b\u8a18\u53f7\u304c\u5165\u3063\u3066\u308b\u3068\u6587\u5b57\u5316\u3051\u3057\u3061\u3083\u3046\u306e\u3067HTML\u30e1\u30fc\u30eb\u3067\u9001\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n###\u9001\u308b\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb(mail.txt)\u3001\u6587\u5b57\u30b3\u30fc\u30c9UTF8\u3067\u3059\u3002\n\n\t\u666e\u901a\u306e\u65e5\u672c\u8a9e\u3067\u3059\u3002\n\t\u2600\u2601\u2602\u2603\u260e\u260f\u261a\u261b\u261c\u261d\u261e\u261f\n\t\u2620\u2622\u2623\u2624\u2625\u262a\u262d\u262f\u2639\u263a\u263b\u263c\u263d\u263e\n\t\u2654\u2655\u2656\u2658\u265a\u265b\u265e\u2660\u2661\u2662\u2663\u2664\u2665\u2666\u2667\n\t\u2668\u2669\u266a\u266b\u266c\u266d\u266e\u266f\u2702\u2704\u2708\u270d\u270e\u270f\u2710\n\t\u2711\u2713\u2718\u2733\u2740\u2798\u2799\u279a\u279c\u27a5\u27a6\u27b7\u27b8\u27b9\n\t\u666e\u901a\u306e\u65e5\u672c\u8a9e\u3067\u3059\u3002\n\t\n###\u30d7\u30ed\u30b0\u30e9\u30e0\n\n```html_mail.pl\n#!/usr/bin/perl\n\nuse utf8;\nuse strict;\nuse Encode;\nuse Encode::MIME::Header;\n\nmy $subject = 'UTF8\u306e\u8a18\u53f7\u3092\u9001\u308b\u3088\uff01';\nmy $to_mail = 'address@example.com';\n\nmy $mime_subject = encode( 'MIME-Header-ISO_2022_JP', $subject );\nmy $mime_to_mail = encode( 'MIME-Header-ISO_2022_JP', $to_mail );\n\nmy $body = '';\nfor (<>) {\n\tmy $utf8 = decode_utf8($_);\n\t$body .= encode( 'jis', $utf8, Encode::FB_HTMLCREF );\n}\n\nmy $mail_cmd = '/usr/sbin/sendmail';\n\nmy $header = '';\n$header .= \"MIME-Version: 1.0\\n\";\n$header .= \"To: \" . $mime_to_mail . \"\\n\";\n$header .= \"Subject: \" . $mime_subject . \"\\n\";\n$header .= \"Content-type: text/html; charset=ISO-2022-JP\\n\";\n$header .= \"Content-Transfer-Encoding: 7bit\\n\";\n$header .= \"\\n\";\n\nif ( open( SMAIL, \"| $mail_cmd -t -i\" ) ) {\n\tprint SMAIL $header;\n\tprint SMAIL '<html><body><pre>' . \"\\n\";\n\tprint SMAIL $body . \"\\n\";\n\tprint SMAIL '</pre></body></html>' . \"\\n\";\n\tclose(SMAIL);\n}\nelse {\n\tprint STDERR \"ERROR $!\\n\";\n}\n\nexit(0);\n\n1;\n```\n\n###\u5b9f\u884c\n\n\t./html_mail.pl < mail.txt\n\n###\u7d50\u679c\n\n\u8a18\u53f7\u5165\u308a\u3067\u30e1\u30fc\u30eb\u304c\u5c4a\u304d\u307e\u3057\u305f\u3002\n\n\t\u666e\u901a\u306e\u65e5\u672c\u8a9e\u3067\u3059\u3002\n\t\u2600\u2601\u2602\u2603\u260e\u260f\u261a\u261b\u261c\u261d\u261e\u261f\n\t\u2620\u2622\u2623\u2624\u2625\u262a\u262d\u262f\u2639\u263a\u263b\u263c\u263d\u263e\n\t\u2654\u2655\u2656\u2658\u265a\u265b\u265e\u2660\u2661\u2662\u2663\u2664\u2665\u2666\u2667\n\t\u2668\u2669\u266a\u266b\u266c\u266d\u266e\u266f\u2702\u2704\u2708\u270d\u270e\u270f\u2710\n\t\u2711\u2713\u2718\u2733\u2740\u2798\u2799\u279a\u279c\u27a5\u27a6\u27b7\u27b8\u27b9\n\t\u666e\u901a\u306e\u65e5\u672c\u8a9e\u3067\u3059\u3002\n\n###\u30dd\u30a4\u30f3\u30c8\n\nJIS\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u6642\u306e **Encode::FB_HTMLCREF** \u90e8\u5206\u304c\u91cd\u8981\u3067\u3059\u3002\u3053\u308c\u304c\u306a\u3044\u3068\u6587\u5b57\u5316\u3051\u3057\u3066\u5c4a\u304d\u307e\u3057\u305f\u3002\n\n\t\u666e\u901a\u306e\u65e5\u672c\u8a9e\u3067\u3059\u3002\n\t????????????\n\t??????????????\n\t???????????????\n\t??\u266a??\u266d?\u266f???????\n\t??????????????\n\t\u666e\u901a\u306e\u65e5\u672c\u8a9e\u3067\u3059\u3002\n\n###\u53c2\u8003\u30b5\u30a4\u30c8\n\n@dankogai\u3055\u3093\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\n[404 Blog Not Found : perl - Encode \u4e2d\u7d1a](http://blog.livedoor.jp/dankogai/archives/51047005.html)\n"}