{"tags": ["xpath", "Scala"], "context": " More than 1 year has passed since last update.\" \u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044 \u2192 \" \u3067\u56f2\u3080\n' \u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044 \u2192 ' \u3067\u56f2\u3080\n\u305d\u308c\u4ee5\u5916 \u2192 contat() \u3059\u308b\ndef escapeXpathString(raw:String):String = {\n    if (raw.contains(\"\\\"\") == false) {\n        return \"\\\"\" + raw + \"\\\"\"\n    }\n\n    if (raw.contains(\"\\'\") == false) {\n        return \"'\" + raw + \"'\"\n    }\n\n    return \"concat('\" + raw.split(\"'\").mkString(\"', \\\"'\\\", '\") + \"')\"\n}\n\n// \u898b\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306e\u30d8\u30eb\u30d1\u30fc\nimplicit class MyString(str: String) {\n    def pad() = \" \" + str + \" \"\n}\n\nassert(escapeXpathString(\"foo\").pad == \"\"\" \"foo\" \"\"\")\nassert(escapeXpathString(\"O'Reilly\").pad == \"\"\" \"O'Reilly\" \"\"\")\nassert(escapeXpathString(\"\\\"Hello\\\"\").pad == \"\"\" '\"Hello\"' \"\"\")\nassert(escapeXpathString(\"O'Reilly \\\"Hello\\\"\").pad == \"\"\" concat('O', \"'\", 'Reilly \"Hello\"') \"\"\")\n\n\nXPath2.0\u304b\u3089\u306f\u30a8\u30b9\u30b1\u30fc\u30d7\u306e\u4ed5\u69d8\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001concat\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u3002\n\n`\"` \u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044 \u2192 `\"` \u3067\u56f2\u3080\n`'` \u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044 \u2192 `'` \u3067\u56f2\u3080\n\u305d\u308c\u4ee5\u5916 \u2192 contat() \u3059\u308b\n\n```scala\ndef escapeXpathString(raw:String):String = {\n\tif (raw.contains(\"\\\"\") == false) {\n\t\treturn \"\\\"\" + raw + \"\\\"\"\n\t}\n\n\tif (raw.contains(\"\\'\") == false) {\n\t\treturn \"'\" + raw + \"'\"\n\t}\n\t\n\treturn \"concat('\" + raw.split(\"'\").mkString(\"', \\\"'\\\", '\") + \"')\"\n}\n\n// \u898b\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306e\u30d8\u30eb\u30d1\u30fc\nimplicit class MyString(str: String) {\n\tdef pad() = \" \" + str + \" \"\n}\n\nassert(escapeXpathString(\"foo\").pad == \"\"\" \"foo\" \"\"\")\nassert(escapeXpathString(\"O'Reilly\").pad == \"\"\" \"O'Reilly\" \"\"\")\nassert(escapeXpathString(\"\\\"Hello\\\"\").pad == \"\"\" '\"Hello\"' \"\"\")\nassert(escapeXpathString(\"O'Reilly \\\"Hello\\\"\").pad == \"\"\" concat('O', \"'\", 'Reilly \"Hello\"') \"\"\")\n\n```\n\nXPath2.0\u304b\u3089\u306f\u30a8\u30b9\u30b1\u30fc\u30d7\u306e\u4ed5\u69d8\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001concat\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u3002"}