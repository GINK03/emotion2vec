{"context": "\n\u52d5\u4f5c\u74b0\u5883\nDIGILENT ZYBO\nAnalog Discovery 2 (\u4ee5\u4e0bAD2)\nVivado 2015.4 on Windows 8.1 pro (64bit)\n\n\n\ncnt\u4f7f\u7528\nhttp://qiita.com/7of9/items/2e714e66d4a6c78c4a02\n\u3092\u30d9\u30fc\u30b9\u306b\u4ee5\u4e0b\u306e\u30bd\u30d5\u30c8\u306b\u5909\u66f4\u3057\u305f\u3002\n\nhelloworld.c\n#include <stdio.h>\n#include \"xparameters.h\"\n#include \"xgpio.h\"\n#include \"platform.h\"\n\n#define PMOD_DEVICE_ID  XPAR_AXI_GPIO_0_DEVICE_ID\n\nXGpio PMODInst;\n\nint main()\n{\n    init_platform();\n\n    print(\"Hello World\\n\\r\");\n\n    int status;\n    status = XGpio_Initialize(&PMODInst, PMOD_DEVICE_ID);\n    if (status != XST_SUCCESS) {\n        print(\"LED initialize failure\\r\\n\");\n        return -1;\n    }\n    XGpio_SetDataDirection(&PMODInst, 1, 0);\n    XGpio_DiscreteWrite(&PMODInst, 1, 0x0F);\n\n    int cnt = 0;\n    while(1) {\n        cnt++;\n        if (cnt == 1000) {\n            XGpio_DiscreteWrite(&PMODInst, 1, 0xF0);\n        }\n        if (cnt == 2000) {\n            XGpio_DiscreteWrite(&PMODInst, 1, 0x0F);\n            cnt = 0;\n        }\n    }\n\n    cleanup_platform();\n    return 0;\n}\n\n\ncnt2000\u5468\u671f\u3067\u306e\u6ce2\u5f62\u306e\u51fa\u529b\u3092\u3057\u3066\u3044\u308b\u3002\n\u5bfe\u5fdc\u3059\u308bPmod \u30b3\u30cd\u30af\u30bf\u306e\u30d4\u30f3\uff11\u3064\u3092AD2\u306eChannel 1\u3067\u53d6\u8fbc\u3093\u3060\u3002\n\n1\u5468\u671f\u304c37usec\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n1\u79d2 / 37usec = 27027Hz \n= 27kHz\n2000\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u3057\u306627kHz.\n2\u30ab\u30a6\u30f3\u30c8\u306b\u3059\u308b\u306827Mhz\u7a0b\u5ea6\u304c\u51fa\u308b\u306e\u3060\u308d\u3046\u304b\u3002\nZYBO\u306eZynq\u306f650MHz\u3002\n\n\nusleep\u4f7f\u7528\nXillinx\u306eAPI\u3068\u3057\u3066usleep()\u3068\u3044\u3046\u95a2\u6570\u304c\u3042\u308b\u3088\u3046\u3060\u3002usleep()\u3092\u4f7f\u3046\u3088\u3046\u306b\u5909\u66f4\u3057\u3066\u307f\u305f\u3002\n\nhelloworld.c\n#include <stdio.h>\n#include \"xparameters.h\"\n#include \"xgpio.h\"\n#include \"platform.h\"\n\n#define PMOD_DEVICE_ID  XPAR_AXI_GPIO_0_DEVICE_ID\n\nXGpio PMODInst;\n\nint main()\n{\n    init_platform();\n\n    print(\"Hello World\\n\\r\");\n\n    int status;\n    status = XGpio_Initialize(&PMODInst, PMOD_DEVICE_ID);\n    if (status != XST_SUCCESS) {\n        print(\"LED initialize failure\\r\\n\");\n        return -1;\n    }\n    XGpio_SetDataDirection(&PMODInst, 1, 0);\n    XGpio_DiscreteWrite(&PMODInst, 1, 0x0F);\n\n    int cnt = 0;\n    while(1) {\n        usleep(50);\n        XGpio_DiscreteWrite(&PMODInst, 1, 0xF0);\n        usleep(50);\n        XGpio_DiscreteWrite(&PMODInst, 1, 0x0F);\n    }\n\n    cleanup_platform();\n    return 0;\n}\n\n\n100usec\u306e\u5468\u671f\u304c\u53d6\u308c\u305f\u3002\n\n```txt:\u52d5\u4f5c\u74b0\u5883\nDIGILENT ZYBO\nAnalog Discovery 2 (\u4ee5\u4e0bAD2)\nVivado 2015.4 on Windows 8.1 pro (64bit)\n```\n\n## cnt\u4f7f\u7528\n\nhttp://qiita.com/7of9/items/2e714e66d4a6c78c4a02\n\u3092\u30d9\u30fc\u30b9\u306b\u4ee5\u4e0b\u306e\u30bd\u30d5\u30c8\u306b\u5909\u66f4\u3057\u305f\u3002\n\n```helloworld.c\n#include <stdio.h>\n#include \"xparameters.h\"\n#include \"xgpio.h\"\n#include \"platform.h\"\n\n#define PMOD_DEVICE_ID  XPAR_AXI_GPIO_0_DEVICE_ID\n\nXGpio PMODInst;\n\nint main()\n{\n    init_platform();\n\n    print(\"Hello World\\n\\r\");\n\n    int status;\n    status = XGpio_Initialize(&PMODInst, PMOD_DEVICE_ID);\n    if (status != XST_SUCCESS) {\n        print(\"LED initialize failure\\r\\n\");\n        return -1;\n    }\n    XGpio_SetDataDirection(&PMODInst, 1, 0);\n    XGpio_DiscreteWrite(&PMODInst, 1, 0x0F);\n\n    int cnt = 0;\n    while(1) {\n    \tcnt++;\n    \tif (cnt == 1000) {\n    \t\tXGpio_DiscreteWrite(&PMODInst, 1, 0xF0);\n    \t}\n    \tif (cnt == 2000) {\n    \t\tXGpio_DiscreteWrite(&PMODInst, 1, 0x0F);\n    \t\tcnt = 0;\n    \t}\n    }\n\n    cleanup_platform();\n    return 0;\n}\n```\n\ncnt2000\u5468\u671f\u3067\u306e\u6ce2\u5f62\u306e\u51fa\u529b\u3092\u3057\u3066\u3044\u308b\u3002\n\n\u5bfe\u5fdc\u3059\u308bPmod \u30b3\u30cd\u30af\u30bf\u306e\u30d4\u30f3\uff11\u3064\u3092AD2\u306eChannel 1\u3067\u53d6\u8fbc\u3093\u3060\u3002\n\n![qiita.png](https://qiita-image-store.s3.amazonaws.com/0/32870/ca85fbc1-d7a4-5a44-d382-0b9c80eb1f53.png)\n\n\n1\u5468\u671f\u304c37usec\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n1\u79d2 / 37usec = 27027Hz \n= 27kHz\n\n2000\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u3057\u306627kHz.\n2\u30ab\u30a6\u30f3\u30c8\u306b\u3059\u308b\u306827Mhz\u7a0b\u5ea6\u304c\u51fa\u308b\u306e\u3060\u308d\u3046\u304b\u3002\n\nZYBO\u306eZynq\u306f650MHz\u3002\n\n![qiita.png](https://qiita-image-store.s3.amazonaws.com/0/32870/a5640ee5-7348-d5be-b826-c1a0fcbea852.png)\n\n\n\n## usleep\u4f7f\u7528\n\nXillinx\u306eAPI\u3068\u3057\u3066usleep()\u3068\u3044\u3046\u95a2\u6570\u304c\u3042\u308b\u3088\u3046\u3060\u3002usleep()\u3092\u4f7f\u3046\u3088\u3046\u306b\u5909\u66f4\u3057\u3066\u307f\u305f\u3002\n\n```helloworld.c\n#include <stdio.h>\n#include \"xparameters.h\"\n#include \"xgpio.h\"\n#include \"platform.h\"\n\n#define PMOD_DEVICE_ID  XPAR_AXI_GPIO_0_DEVICE_ID\n\nXGpio PMODInst;\n\nint main()\n{\n    init_platform();\n\n    print(\"Hello World\\n\\r\");\n\n    int status;\n    status = XGpio_Initialize(&PMODInst, PMOD_DEVICE_ID);\n    if (status != XST_SUCCESS) {\n        print(\"LED initialize failure\\r\\n\");\n        return -1;\n    }\n    XGpio_SetDataDirection(&PMODInst, 1, 0);\n    XGpio_DiscreteWrite(&PMODInst, 1, 0x0F);\n\n    int cnt = 0;\n    while(1) {\n    \tusleep(50);\n\t\tXGpio_DiscreteWrite(&PMODInst, 1, 0xF0);\n    \tusleep(50);\n\t\tXGpio_DiscreteWrite(&PMODInst, 1, 0x0F);\n    }\n\n    cleanup_platform();\n    return 0;\n}\n```\n\n100usec\u306e\u5468\u671f\u304c\u53d6\u308c\u305f\u3002\n\n![qiita.png](https://qiita-image-store.s3.amazonaws.com/0/32870/dc03ee19-9629-ea60-4282-3e99d852080d.png)\n\n", "tags": ["zybo", "AD2", "gpio"]}