{"context": "AWS\u306bOpenVPN\u3092\u4f7f\u3063\u3066VPN\u3092\u69cb\u7bc9\u3057\u305f\u306e\u3067\u305d\u306e\u6642\u306e\u30e1\u30e2\u3067\u3059\u3002\n\u307e\u3041\u3059\u3067\u306b\u3053\u3061\u3089\u306b\u826f\u8a18\u4e8b\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001\n\u69cb\u7bc9\u74b0\u5883\u306e\u9055\u3044\u304b\u9014\u4e2d\u3067\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u5225\u9014\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u74b0\u5883\nEIP\u304c\u4ed8\u4e0e\u3055\u308c\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092VPN\u30b5\u30fc\u30d0\u3068\u3057\u3001\n\u624b\u5143\u306eWindows PC\u306bVPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u4e0a\u8a18\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b\u3068\u3057\u307e\u3059\u3002\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\n\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a\n\u306f\u3058\u3081\u306bVPN\u30b5\u30fc\u30d0\u3068\u306a\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306bOpenVPN\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u305d\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u4ee5\u964d\u306froot\u30e6\u30fc\u30b6\u3067\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nOpenVPN\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum -y install openvpn openssl-devel lzo-devel pam-devel\n\n# easy-rsa\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwget https://github.com/OpenVPN/easy-rsa/archive/master.zip\nunzip master.zip\ncp -r easy-rsa-master/easyrsa3/ /etc/openvpn/\nrm -rf easy-rsa-master/\nrm -f master.zip\n\n\n\u5404\u7a2e\u9375\u30fb\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\ncd /etc/openvpn/easyrsa3/\n# \u8a8d\u8a3c\u5c40\u306e\u521d\u671f\u5316\n./easyrsa init-pki\n# \u8a8d\u8a3c\u5c40\u306e\u4f5c\u6210\n./easyrsa build-ca\n# \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\uff082\u56de\u3068\u3082\u540c\u3058\u5185\u5bb9\u3067OK\uff09\ncp pki/ca.crt /etc/openvpn/\n\n./easyrsa build-server-full server nopass\n# \u5148\u307b\u3069\u5165\u529b\u3057\u305f\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\ncp pki/issued/server.crt /etc/openvpn/\ncp pki/private/server.key /etc/openvpn/\n\n# \u8a3c\u660e\u66f8\u5931\u52b9\u30ea\u30b9\u30c8(CRL)\u306e\u4f5c\u6210\n./easyrsa gen-crl\ncp easyrsa3/pki/crl.pem /etc/openvpn/\n\n# DH\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u4f5c\u6210\n./easyrsa gen-dh\ncp pki/dh.pem /etc/openvpn/\n\n# TLS\u8a8d\u8a3c\u9375\u306e\u4f5c\u6210\nopenvpn --genkey --secret /etc/openvpn/ta.key\ncp /usr/share/doc/openvpn-2.3.6/sample/sample-config-files/server.conf /etc/openvpn/\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\n\u5148\u307b\u3069\u30b3\u30d4\u30fc\u3057\u305f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\u4ed6\u306f\u5143\u30d5\u30a1\u30a4\u30eb\u306e\u307e\u307e\u3067OK\u3067\u3059\u3002\n\n/etc/openvpn/server.conf\ndh dh.pem # dh dh2048.pem\u3092\u5909\u66f4\n\n;push \"route 192.168.10.0 255.255.255.0\"\n;push \"route 192.168.20.0 255.255.255.0\"\npush \"route 192.168.0.0 255.255.255.0\" # \u8ffd\u52a0\n\ntls-auth ta.key 0 # \u30b3\u30e1\u30f3\u30c8\u89e3\u9664\n\n# \u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nuser nobody\ngroup nobody\n\nlog-append openvpn.log # \u30b3\u30e1\u30f3\u30c8\u89e3\u9664\n\n# \u4ee5\u4e0b\u306e2\u884c\u3092\u6700\u5f8c\u306b\u8ffd\u52a0\nmanagement localhost 7505\ncrl-verify crl.pem\n\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3068\u79d8\u5bc6\u9375\u306e\u751f\u6210\ncd /etc/openvpn/easyrsa3\n./easyrsa build-client-full client1\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u7528\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306e\u5165\u529b\uff082\u56de\u3068\u3082\u540c\u3058\u5185\u5bb9\u3067OK\uff09\n# \u30b5\u30fc\u30d0\u7528\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306e\u5165\u529b\n\nbuild-client-full\u30b3\u30de\u30f3\u30c9\u306b\u6307\u5b9a\u3059\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u540d\u306f\u4e00\u610f\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nOpenVPN\u306e\u8d77\u52d5\n\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u3001\n\n/etc/init.d/openvpn\n# \u4ee5\u4e0b\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\necho 1 > /proc/sys/net/ipv4/ip_forward\n\n\nOpenVPN\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n/etc/init.d/openvpn start\n\n\u4ee5\u4e0a\u3067\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306e\u8a2d\u5b9a\u306f\u7d42\u4e86\u3067\u3059\u3002\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u8a2d\u5b9a\nwindows\u306b\u304a\u3051\u308bVPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3068\u3044\u3063\u3066\u3082vpnux Client\u3092\u4f7f\u3046\u3068\u7c21\u5358\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\n\nvpnux Client\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u3061\u3089\u304b\u3089vpnux Client\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\n\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\n\nVPN\u30b5\u30fc\u30d0\u306eEIP\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30b5\u30fc\u30d0\u304b\u3089ca.crt\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u305d\u308c\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n\u300c\u8a3c\u660e\u66f8\u8a8d\u8a3c\u3092\u4f7f\u7528\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u4e0b\u3055\u3044\u3002\n\u30b5\u30fc\u30d0\u304b\u3089client1.crt\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u305d\u308c\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n\u30b5\u30fc\u30d0\u304b\u3089client1.key\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u305d\u308c\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n\u30b5\u30fc\u30d0\u304b\u3089ta.key\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u305d\u308c\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\u4ee5\u4e0a\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306e\u8a2d\u5b9a\u3082\u5b8c\u4e86\u3067\u3059\u3002\n\n\u63a5\u7d9a\u78ba\u8a8d\n\u3067\u306f\u3001\u5b9f\u969b\u306b\u63a5\u7d9a\u3057\u3066\u307f\u307e\u3059\u3002\n\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3001\u79d8\u5bc6\u9375\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u7121\u4e8b\u63a5\u7d9a\u304c\u3067\u304d\u305f\u3089\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30fb\u30b5\u30fc\u30d0\u53cc\u65b9\u304b\u3089\u305d\u308c\u305e\u308cping\u3057\u3066\u307f\u307e\u3059\u3002\n\nclient(10.8.0.6)\nC:\\Users\\yosuke.saito>ping 10.8.0.1\n\n10.8.0.1 \u306b ping \u3092\u9001\u4fe1\u3057\u3066\u3044\u307e\u3059 32 \u30d0\u30a4\u30c8\u306e\u30c7\u30fc\u30bf:\n10.8.0.1 \u304b\u3089\u306e\u5fdc\u7b54: \u30d0\u30a4\u30c8\u6570 =32 \u6642\u9593 =27ms TTL=64\n10.8.0.1 \u304b\u3089\u306e\u5fdc\u7b54: \u30d0\u30a4\u30c8\u6570 =32 \u6642\u9593 =10ms TTL=64\n10.8.0.1 \u304b\u3089\u306e\u5fdc\u7b54: \u30d0\u30a4\u30c8\u6570 =32 \u6642\u9593 =11ms TTL=64\n10.8.0.1 \u304b\u3089\u306e\u5fdc\u7b54: \u30d0\u30a4\u30c8\u6570 =32 \u6642\u9593 =12ms TTL=64\n\n10.8.0.1 \u306e ping \u7d71\u8a08:\n    \u30d1\u30b1\u30c3\u30c8\u6570: \u9001\u4fe1 = 4\u3001\u53d7\u4fe1 = 4\u3001\u640d\u5931 = 0 (0% \u306e\u640d\u5931)\u3001\n\u30e9\u30a6\u30f3\u30c9 \u30c8\u30ea\u30c3\u30d7\u306e\u6982\u7b97\u6642\u9593 (\u30df\u30ea\u79d2):\n    \u6700\u5c0f = 10ms\u3001\u6700\u5927 = 27ms\u3001\u5e73\u5747 = 15ms\n\n\n\nserver(10.8.0.1)\n[ec2-user@ip-10-0-1-82 ~]$ ping -c 4 10.8.0.6\nPING 10.8.0.6 (10.8.0.6) 56(84) bytes of data.\n64 bytes from 10.8.0.6: icmp_seq=1 ttl=128 time=10.3 ms\n64 bytes from 10.8.0.6: icmp_seq=2 ttl=128 time=532 ms\n64 bytes from 10.8.0.6: icmp_seq=3 ttl=128 time=164 ms\n64 bytes from 10.8.0.6: icmp_seq=4 ttl=128 time=84.2 ms\n\n--- 10.8.0.6 ping statistics ---\n4 packets transmitted, 4 received, 0% packet loss, time 3088ms\nrtt min/avg/max/mdev = 10.325/197.853/532.513/200.747 ms\n\n\n\u758e\u901a\u3067\u304d\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\u7c21\u5358\u306b\u306f\u306a\u308a\u307e\u3059\u304c\u3001\u4ee5\u4e0a\u3067VPN\u306e\u69cb\u7bc9\u306f\u7d42\u308f\u308a\u3067\u3059\u3002\n\u305c\u3072\u53c2\u8003\u306b\u3057\u3066\u9802\u3051\u308b\u3068\u5e78\u3044\u3067\u3059\u3002\nvpnux Client\u304c\u7c21\u5358\u904e\u304e\u3066\u9a5a\u3044\u305f\u3002\nAWS\u306bOpenVPN\u3092\u4f7f\u3063\u3066VPN\u3092\u69cb\u7bc9\u3057\u305f\u306e\u3067\u305d\u306e\u6642\u306e\u30e1\u30e2\u3067\u3059\u3002\n\u307e\u3041\u3059\u3067\u306b[\u3053\u3061\u3089](http://qiita.com/hideki/items/657a5701133e713fcf8c)\u306b\u826f\u8a18\u4e8b\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001\n\u69cb\u7bc9\u74b0\u5883\u306e\u9055\u3044\u304b\u9014\u4e2d\u3067\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u5225\u9014\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n# \u74b0\u5883\nEIP\u304c\u4ed8\u4e0e\u3055\u308c\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092VPN\u30b5\u30fc\u30d0\u3068\u3057\u3001\n\u624b\u5143\u306eWindows PC\u306bVPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u4e0a\u8a18\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b\u3068\u3057\u307e\u3059\u3002\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n![23.png](https://qiita-image-store.s3.amazonaws.com/0/17731/0e2fb062-2755-7c0b-f231-6fc7c7506a60.png)\n\n\n# \u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a\n\u306f\u3058\u3081\u306bVPN\u30b5\u30fc\u30d0\u3068\u306a\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306bOpenVPN\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u305d\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u4ee5\u964d\u306froot\u30e6\u30fc\u30b6\u3067\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## OpenVPN\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash:\n# \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum -y install openvpn openssl-devel lzo-devel pam-devel\n\n# easy-rsa\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwget https://github.com/OpenVPN/easy-rsa/archive/master.zip\nunzip master.zip\ncp -r easy-rsa-master/easyrsa3/ /etc/openvpn/\nrm -rf easy-rsa-master/\nrm -f master.zip\n```\n\n## \u5404\u7a2e\u9375\u30fb\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\n\n```bash:\ncd /etc/openvpn/easyrsa3/\n# \u8a8d\u8a3c\u5c40\u306e\u521d\u671f\u5316\n./easyrsa init-pki\n# \u8a8d\u8a3c\u5c40\u306e\u4f5c\u6210\n./easyrsa build-ca\n# \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\uff082\u56de\u3068\u3082\u540c\u3058\u5185\u5bb9\u3067OK\uff09\ncp pki/ca.crt /etc/openvpn/\n\n./easyrsa build-server-full server nopass\n# \u5148\u307b\u3069\u5165\u529b\u3057\u305f\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\ncp pki/issued/server.crt /etc/openvpn/\ncp pki/private/server.key /etc/openvpn/\n\n# \u8a3c\u660e\u66f8\u5931\u52b9\u30ea\u30b9\u30c8(CRL)\u306e\u4f5c\u6210\n./easyrsa gen-crl\ncp easyrsa3/pki/crl.pem /etc/openvpn/\n\n# DH\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u4f5c\u6210\n./easyrsa gen-dh\ncp pki/dh.pem /etc/openvpn/\n\n# TLS\u8a8d\u8a3c\u9375\u306e\u4f5c\u6210\nopenvpn --genkey --secret /etc/openvpn/ta.key\ncp /usr/share/doc/openvpn-2.3.6/sample/sample-config-files/server.conf /etc/openvpn/\n```\n\n## \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\n\u5148\u307b\u3069\u30b3\u30d4\u30fc\u3057\u305f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\u4ed6\u306f\u5143\u30d5\u30a1\u30a4\u30eb\u306e\u307e\u307e\u3067OK\u3067\u3059\u3002\n\n```bash:/etc/openvpn/server.conf\ndh dh.pem # dh dh2048.pem\u3092\u5909\u66f4\n\n;push \"route 192.168.10.0 255.255.255.0\"\n;push \"route 192.168.20.0 255.255.255.0\"\npush \"route 192.168.0.0 255.255.255.0\" # \u8ffd\u52a0\n\ntls-auth ta.key 0 # \u30b3\u30e1\u30f3\u30c8\u89e3\u9664\n\n# \u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nuser nobody\ngroup nobody\n\nlog-append openvpn.log # \u30b3\u30e1\u30f3\u30c8\u89e3\u9664\n\n# \u4ee5\u4e0b\u306e2\u884c\u3092\u6700\u5f8c\u306b\u8ffd\u52a0\nmanagement localhost 7505\ncrl-verify crl.pem\n```\n\n## \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3068\u79d8\u5bc6\u9375\u306e\u751f\u6210\n\n```bash:\ncd /etc/openvpn/easyrsa3\n./easyrsa build-client-full client1\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u7528\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306e\u5165\u529b\uff082\u56de\u3068\u3082\u540c\u3058\u5185\u5bb9\u3067OK\uff09\n# \u30b5\u30fc\u30d0\u7528\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306e\u5165\u529b\n```\n\nbuild-client-full\u30b3\u30de\u30f3\u30c9\u306b\u6307\u5b9a\u3059\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u540d\u306f\u4e00\u610f\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## OpenVPN\u306e\u8d77\u52d5\n\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u3001\n\n```bash:/etc/init.d/openvpn\n# \u4ee5\u4e0b\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\necho 1 > /proc/sys/net/ipv4/ip_forward\n```\n\nOpenVPN\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```bash:\n/etc/init.d/openvpn start\n```\n\n\u4ee5\u4e0a\u3067\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306e\u8a2d\u5b9a\u306f\u7d42\u4e86\u3067\u3059\u3002\n\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u8a2d\u5b9a\nwindows\u306b\u304a\u3051\u308bVPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3068\u3044\u3063\u3066\u3082[vpnux Client](http://www.plum-systems.co.jp/vpnux-client/)\u3092\u4f7f\u3046\u3068\u7c21\u5358\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n## vpnux Client\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[\u3053\u3061\u3089](http://www.plum-systems.co.jp/vpnux-client/)\u304b\u3089vpnux Client\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n## \u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\n\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n![20_2.png](https://qiita-image-store.s3.amazonaws.com/0/17731/259591a6-1a3d-8dd1-ffe2-7bb732e10d9a.png)\n\n![21_2.png](https://qiita-image-store.s3.amazonaws.com/0/17731/5466638f-4e74-78af-9be8-e9393838972e.png)\n\n1. VPN\u30b5\u30fc\u30d0\u306eEIP\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n2. \u30b5\u30fc\u30d0\u304b\u3089ca.crt\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u305d\u308c\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n3. \u300c\u8a3c\u660e\u66f8\u8a8d\u8a3c\u3092\u4f7f\u7528\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u4e0b\u3055\u3044\u3002\n4. \u30b5\u30fc\u30d0\u304b\u3089client1.crt\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u305d\u308c\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n5. \u30b5\u30fc\u30d0\u304b\u3089client1.key\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u305d\u308c\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n6. \u30b5\u30fc\u30d0\u304b\u3089ta.key\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u305d\u308c\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\u4ee5\u4e0a\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306e\u8a2d\u5b9a\u3082\u5b8c\u4e86\u3067\u3059\u3002\n\n# \u63a5\u7d9a\u78ba\u8a8d\n\u3067\u306f\u3001\u5b9f\u969b\u306b\u63a5\u7d9a\u3057\u3066\u307f\u307e\u3059\u3002\n\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3001\u79d8\u5bc6\u9375\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n![22.png](https://qiita-image-store.s3.amazonaws.com/0/17731/c448e99b-bc29-52c8-1730-10dce7779b5b.png)\n\n\u7121\u4e8b\u63a5\u7d9a\u304c\u3067\u304d\u305f\u3089\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30fb\u30b5\u30fc\u30d0\u53cc\u65b9\u304b\u3089\u305d\u308c\u305e\u308cping\u3057\u3066\u307f\u307e\u3059\u3002\n\n```bash:client(10.8.0.6)\nC:\\Users\\yosuke.saito>ping 10.8.0.1\n\n10.8.0.1 \u306b ping \u3092\u9001\u4fe1\u3057\u3066\u3044\u307e\u3059 32 \u30d0\u30a4\u30c8\u306e\u30c7\u30fc\u30bf:\n10.8.0.1 \u304b\u3089\u306e\u5fdc\u7b54: \u30d0\u30a4\u30c8\u6570 =32 \u6642\u9593 =27ms TTL=64\n10.8.0.1 \u304b\u3089\u306e\u5fdc\u7b54: \u30d0\u30a4\u30c8\u6570 =32 \u6642\u9593 =10ms TTL=64\n10.8.0.1 \u304b\u3089\u306e\u5fdc\u7b54: \u30d0\u30a4\u30c8\u6570 =32 \u6642\u9593 =11ms TTL=64\n10.8.0.1 \u304b\u3089\u306e\u5fdc\u7b54: \u30d0\u30a4\u30c8\u6570 =32 \u6642\u9593 =12ms TTL=64\n\n10.8.0.1 \u306e ping \u7d71\u8a08:\n    \u30d1\u30b1\u30c3\u30c8\u6570: \u9001\u4fe1 = 4\u3001\u53d7\u4fe1 = 4\u3001\u640d\u5931 = 0 (0% \u306e\u640d\u5931)\u3001\n\u30e9\u30a6\u30f3\u30c9 \u30c8\u30ea\u30c3\u30d7\u306e\u6982\u7b97\u6642\u9593 (\u30df\u30ea\u79d2):\n    \u6700\u5c0f = 10ms\u3001\u6700\u5927 = 27ms\u3001\u5e73\u5747 = 15ms\n```\n\n```bash:server(10.8.0.1)\n[ec2-user@ip-10-0-1-82 ~]$ ping -c 4 10.8.0.6\nPING 10.8.0.6 (10.8.0.6) 56(84) bytes of data.\n64 bytes from 10.8.0.6: icmp_seq=1 ttl=128 time=10.3 ms\n64 bytes from 10.8.0.6: icmp_seq=2 ttl=128 time=532 ms\n64 bytes from 10.8.0.6: icmp_seq=3 ttl=128 time=164 ms\n64 bytes from 10.8.0.6: icmp_seq=4 ttl=128 time=84.2 ms\n\n--- 10.8.0.6 ping statistics ---\n4 packets transmitted, 4 received, 0% packet loss, time 3088ms\nrtt min/avg/max/mdev = 10.325/197.853/532.513/200.747 ms\n```\n\n\u758e\u901a\u3067\u304d\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u7c21\u5358\u306b\u306f\u306a\u308a\u307e\u3059\u304c\u3001\u4ee5\u4e0a\u3067VPN\u306e\u69cb\u7bc9\u306f\u7d42\u308f\u308a\u3067\u3059\u3002\n\u305c\u3072\u53c2\u8003\u306b\u3057\u3066\u9802\u3051\u308b\u3068\u5e78\u3044\u3067\u3059\u3002\nvpnux Client\u304c\u7c21\u5358\u904e\u304e\u3066\u9a5a\u3044\u305f\u3002\n", "tags": ["AWS", "OpenVPN"]}