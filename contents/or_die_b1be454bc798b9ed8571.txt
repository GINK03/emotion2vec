{"context": "spring-boot \u3067 WebSecurity \u3064\u304b\u3046\u3068 /hoge/... \u3078\u306e POST \u3067\u3082 csrf \u30c8\u30fc\u30af\u30f3\u306e\u30c1\u30a7\u30c3\u30af\u304c\u5165\u308b\u306e\u3067\u3001\u7279\u5b9a url \u3060\u3051\u9664\u5916\u3057\u3066\u3082\u3089\u3046\u3002\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    ...\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        ...\n        http.antMatcher(\"/hoge/**\").csrf().disable(); // \u3053\u308c\n        ...\n    }\n    ...\n\n\u306f\u9593\u9055\u3063\u3066\u305f!!!!\nhttp.antMatcher(\"/hoge/**\").csrf().disable();\n\n\u3058\u3083\u306a\u304f\u3066\nhttp.csrf().ignoringAntMatchers(\"/hoge/**\");\n\n\u3060\u3063\u305f\u3002\n\u30e1\u30bd\u30c3\u30c9\u30c1\u30a7\u30a4\u30f3\u306e\u7d50\u679c\u306b\u95a2\u3057\u3066\u3088\u304f\u308f\u304b\u3089\u3093\u306e\u3067\u3082\u3063\u3068\u8abf\u3079\u307e\u3059\u3002\n\u3061\u3087\u3063\u3068\u8abf\u3079\u307e\u3057\u305f\u3002\n\u524d\u8005\u306e http.antMatcher(\"/hoge/**\").csrf(); \u307f\u308b\u3068\u3001\norg.springframework.security.config.annotation.web.configurers.CsrfConfigurer@ac461fc[csrfTokenRepository=org.springframework.security.web.csrf.HttpSessionCsrfTokenRepository@3a75ad21,\nrequireCsrfProtectionMatcher=org.springframework.security.web.csrf.CsrfFilter$DefaultRequiresCsrfMatcher@1f5ca70,\nignoredCsrfProtectionMatchers=[],\nsecurityBuilder=org.springframework.security.config.annotation.web.builders.HttpSecurity@8c6f8a4,\nobjectPostProcessor=org.springframework.security.config.annotation.SecurityConfigurerAdapter$CompositeObjectPostProcessor@274f1586]\n\n\u3068\u306a\u3063\u3066\u3066\u3001\u5f8c\u8005\u306e http.csrf().ignoringAntMatchers(\"/hoge/**\") \u306f\n!!!org.springframework.security.config.annotation.web.configurers.CsrfConfigurer@ac461fc[csrfTokenRepository=org.springframework.security.web.csrf.HttpSessionCsrfTokenRepository@3a75ad21,\nrequireCsrfProtectionMatcher=org.springframework.security.web.csrf.CsrfFilter$DefaultRequiresCsrfMatcher@1f5ca70,\nignoredCsrfProtectionMatchers=[Ant [pattern='/hoge/**']],\nsecurityBuilder=org.springframework.security.config.annotation.web.builders.HttpSecurity@8c6f8a4,\nobjectPostProcessor=org.springframework.security.config.annotation.SecurityConfigurerAdapter$CompositeObjectPostProcessor@274f1586]\n\n\u3053\u3046\u306a\u3063\u3066\u305f\u3002antMatcher \u3055\u304d\u306b\u3084\u3063\u3066\u3082 csrf() \u306f\u305d\u308c\u306b\u5bfe\u3057\u3066\u9069\u7528\u3055\u308c\u308b\u308f\u3051\u3058\u3083\u306a\u3044\u3093\u3067\u3059\u306d\u3002\n\u76f4\u611f\u7684\u306b\u66f8\u3044\u3066\u3082\u30c0\u30e1\u306a\u3082\u3093\u306f\u30c0\u30e1\u3068\u3044\u3046\u4f8b\u3060\u3063\u305f\u306e\u304b\u306a\u3002\nspring-boot \u3067 WebSecurity \u3064\u304b\u3046\u3068 /hoge/... \u3078\u306e POST \u3067\u3082 csrf \u30c8\u30fc\u30af\u30f3\u306e\u30c1\u30a7\u30c3\u30af\u304c\u5165\u308b\u306e\u3067\u3001\u7279\u5b9a url \u3060\u3051\u9664\u5916\u3057\u3066\u3082\u3089\u3046\u3002\n\n\n```java\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    ...\n\t@Override\n\tprotected void configure(HttpSecurity http) throws Exception {\n        ...\n\t\thttp.antMatcher(\"/hoge/**\").csrf().disable(); // \u3053\u308c\n        ...\n\t}\n    ...\n```\n\n\u306f\u9593\u9055\u3063\u3066\u305f!!!!\n\n```java\nhttp.antMatcher(\"/hoge/**\").csrf().disable();\n```\n\n\u3058\u3083\u306a\u304f\u3066\n\n```java\nhttp.csrf().ignoringAntMatchers(\"/hoge/**\");\n```\n\n\u3060\u3063\u305f\u3002\n\n\u30e1\u30bd\u30c3\u30c9\u30c1\u30a7\u30a4\u30f3\u306e\u7d50\u679c\u306b\u95a2\u3057\u3066\u3088\u304f\u308f\u304b\u3089\u3093\u306e\u3067\u3082\u3063\u3068\u8abf\u3079\u307e\u3059\u3002\n\n\u3061\u3087\u3063\u3068\u8abf\u3079\u307e\u3057\u305f\u3002\n\n\u524d\u8005\u306e http.antMatcher(\"/hoge/**\").csrf(); \u307f\u308b\u3068\u3001\n\n```java\norg.springframework.security.config.annotation.web.configurers.CsrfConfigurer@ac461fc[csrfTokenRepository=org.springframework.security.web.csrf.HttpSessionCsrfTokenRepository@3a75ad21,\nrequireCsrfProtectionMatcher=org.springframework.security.web.csrf.CsrfFilter$DefaultRequiresCsrfMatcher@1f5ca70,\nignoredCsrfProtectionMatchers=[],\nsecurityBuilder=org.springframework.security.config.annotation.web.builders.HttpSecurity@8c6f8a4,\nobjectPostProcessor=org.springframework.security.config.annotation.SecurityConfigurerAdapter$CompositeObjectPostProcessor@274f1586]\n```\n\n\u3068\u306a\u3063\u3066\u3066\u3001\u5f8c\u8005\u306e http.csrf().ignoringAntMatchers(\"/hoge/**\") \u306f\n\n\n```java\n!!!org.springframework.security.config.annotation.web.configurers.CsrfConfigurer@ac461fc[csrfTokenRepository=org.springframework.security.web.csrf.HttpSessionCsrfTokenRepository@3a75ad21,\nrequireCsrfProtectionMatcher=org.springframework.security.web.csrf.CsrfFilter$DefaultRequiresCsrfMatcher@1f5ca70,\nignoredCsrfProtectionMatchers=[Ant [pattern='/hoge/**']],\nsecurityBuilder=org.springframework.security.config.annotation.web.builders.HttpSecurity@8c6f8a4,\nobjectPostProcessor=org.springframework.security.config.annotation.SecurityConfigurerAdapter$CompositeObjectPostProcessor@274f1586]\n```\n\n\u3053\u3046\u306a\u3063\u3066\u305f\u3002antMatcher \u3055\u304d\u306b\u3084\u3063\u3066\u3082 csrf() \u306f\u305d\u308c\u306b\u5bfe\u3057\u3066\u9069\u7528\u3055\u308c\u308b\u308f\u3051\u3058\u3083\u306a\u3044\u3093\u3067\u3059\u306d\u3002\n\n\u76f4\u611f\u7684\u306b\u66f8\u3044\u3066\u3082\u30c0\u30e1\u306a\u3082\u3093\u306f\u30c0\u30e1\u3068\u3044\u3046\u4f8b\u3060\u3063\u305f\u306e\u304b\u306a\u3002\n\n\n\n", "tags": ["Java", "spring-boot"]}