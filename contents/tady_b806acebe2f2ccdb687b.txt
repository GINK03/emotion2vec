{"tags": ["SSL", "letsencrypt", "AWS", "elb"], "context": "\n\n0. \u80cc\u666f\n\u7121\u6599\u306eSSL\u8a3c\u660e\u66f8\u3068\u3044\u3046\u3053\u3068\u3067\u8a71\u984c\u306eLet's Encrypt\u3067\u3059\u304c\u3001\u5b9f\u969b\u306e\u5229\u7528\u306e\u305f\u3081\u306b\u306f 90\u65e5\u3054\u3068 \u306b\u8a3c\u660e\u66f8\u3092\u66f4\u65b0\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3068\u3044\u3046\u5236\u7d04\u304b\u3089\u3001\u306a\u304b\u306a\u304b\u672c\u756a\u5229\u7528\u3059\u308b\u306b\u306f\u8170\u304c\u91cd\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\uff08\u3082\u3061\u308d\u3093\u672c\u5bb6\u3067\u306f\u3001\u5168\u81ea\u52d5\u3067\u66f4\u65b0\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u3066\u3044\u307e\u3059\u3002\uff09\n\u307e\u3057\u3066\u3084\u3001AWS ELB\u306a\u3069\u306e\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u3092\u5229\u7528\u3057\u3001\u914d\u4e0b\u306b\u8907\u6570\u306eWeb\u30b5\u30fc\u30d0\u304c\u3044\u308b\u3068\u3001ACME\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u901a\u904e\u3055\u305b\u308b\u3060\u3051\u3067\u4e00\u82e6\u52b4\u3067\u3059\u3002\n\u305d\u3053\u3067\u3001nginx\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u65e2\u5b58\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5f71\u97ff\u3092\u3042\u305f\u3048\u308b\u3053\u3068\u7121\u304f\u3001Let's Encrypt\u306e\u66f4\u65b0\u3092\u6e08\u307e\u305b\u308b\u65b9\u6cd5\u3092\u8a66\u3057\u307e\u3057\u305f\u3002\n\n1. \u524d\u63d0\n\u4eca\u56de\u306f\u3001\u4ee5\u4e0b\u306e\u69d8\u306a\u74b0\u5883\u3092\u60f3\u5b9a\u3057\u307e\u3059\u3002\n\n\nwww.example.com \u3067\u53d7\u3051\u308bELB\u306e\u914d\u4e0b\u306b\u8907\u6570\u306eWeb\u30b5\u30fc\u30d0\u304c\u3042\u308b\n\nstg.example.com \u3067\u53d7\u3051\u308bELB\u306e\u914d\u4e0b\u306bWeb\u30b5\u30fc\u30d0\u304c\u3042\u308b\n\nwww.example.com \u3068 stg.example.com \u306b\u5229\u7528\u3059\u308b\u8a3c\u660e\u66f8\u306f1\u3064\u306b\u307e\u3068\u307e\u3063\u3066\u3044\u3066\u826f\u3044\n\n\n\n2. letsencrypt\u5b9f\u884c\u30b5\u30fc\u30d0\u306e\u7528\u610f\nAmazon Linux\u304b\u3089\u306eletsencrypt\u306e\u5b9f\u884c\u306f\u307e\u3060\u4e0d\u5b89\u5b9a\u3067\u3001\u672c\u756a\u5229\u7528\u306e\u30b5\u30fc\u30d0\u306b\u4e0d\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u304f\u306f\u306a\u3044\u306e\u3067\u3001\u3042\u305f\u3089\u3057\u304fletsencrypt\u5b9f\u884c\u5c02\u7528\u306e\u30b5\u30fc\u30d0\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001CentOS7\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002\n\n\u30b5\u30fc\u30d0\u8d77\u52d5\u5f8c\u306b\u5fc5\u8981\u306a\u4f9d\u5b58\u95a2\u4fc2\u306f git \u306e\u307f\u3067\u3059\u3002\n\u305d\u306e\u5f8c\u3001letsencrypt\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001\u5f8c\u8ff0\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u306e\u305f\u3081\u306b\u3001firewalld\u3092\u5207\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\uff08firewalld\u3092\u9589\u3058\u308b\u524d\u306b\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u304c\u9589\u3058\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff09\n\nshell\n# yum install git\n# systemctl stop firewalld.service\n\n# cd /usr/local/src\n# git clone https://github.com/letsencrypt/letsencrypt.git\n# cd letsencrypt\n\n\n\u3053\u308c\u3067\u30b5\u30fc\u30d0\u306e\u6e96\u5099\u306f\u5b8c\u4e86\u3067\u3059\u3002\nRoute 53\u304b\u3089\u3001letsencrypt.example.com\u3068\u3044\u3046\u30c9\u30e1\u30a4\u30f3\u304c\u3053\u306e\u30b5\u30fc\u30d0\u3092\u6307\u3059\u3088\u3046\u306b\u30ec\u30b3\u30fc\u30c9\u6307\u5b9a\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u3053\u306e\u307e\u307e\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068Let's Ecnrypt\u304b\u3089\u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3057\u307e\u3059\u304c\u3001\u6307\u5b9a\u3057\u305f\u3059\u3079\u3066\u306e\u30c9\u30e1\u30a4\u30f3\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8(ACME\u30d7\u30ed\u30c8\u30b3\u30eb)\u304c\u81ea\u5206\u306e\u30b5\u30fc\u30d0\u306b\u5c4a\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u3067\u3001\u5931\u6557\u3057\u307e\u3059\u3002\n\n3. \u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u306e\u8a2d\u5b9a\nwww.example.com\u3068stg.example.com\u3078\u306e\u30a2\u30af\u30bb\u30b9\u304cletsencrypt\u5b9f\u884c\u30b5\u30fc\u30d0\u3078\u8fc2\u56de\u3059\u308b\u3088\u3046\u306b\u3001\u305d\u308c\u305e\u308c\u306e\u30b5\u30fc\u30d0\u3067\u52d5\u3044\u3066\u3044\u308bnginx\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\nLet's Encrypt\u306eACME\u30d7\u30ed\u30c8\u30b3\u30eb\u306f /.well-known/... \u3078\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304f\u308b\u306e\u3067\u3001\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3060\u3051\u30d7\u30ed\u30ad\u30b7\u3059\u308c\u3070\u5341\u5206\u3067\u3059\u3002\n\u3053\u306e\u8a2d\u5b9a\u306e\u304a\u304b\u3052\u3067\u3001\u672c\u756a\u74b0\u5883\u3078\u306e\u5f71\u97ff\u304c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n/etc/nginx/conf.d/app.conf\nserver {\n  listen 80;\n  server_name www.example.com;\n\n  ...\n\n  # lets encrypt ACME proxy\n  location /.well-known {\n    proxy_pass http://letsencrypt.example.private;\n  }\n}\n\n\n\u3053\u3053\u3067\u3001\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u5148\u306e\u30db\u30b9\u30c8\u3092letsencrypt.example.private\u3068\u7f6e\u304f\u3053\u3068\u3067\u3001\u6b21\u56de\u66f4\u65b0\u6642\u306b\u540c\u3058\u4f5c\u696d\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u305d\u306e\u5f8c\u306f\u3001Route 53\u3067letsencrypt.example.private\u306ePrivate DNS\u3092\u8a2d\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\n\n\n4. letsencrypt\u306e\u5b9f\u884c\nletsencrypt\u5b9f\u884c\u30b5\u30fc\u30d0\u306b\u623b\u3063\u3066letsencrypt\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002\n\nshell\n# pwd \n/usr/local/src/letsencrypt\n\n# ./letsencrypt-auto certonly --standalone -d www.example.com -d stg.example.com -d letsencrypt.example.com\n\n\n\u4e0a\u8a18\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u8a3c\u660e\u66f8\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\nshell\n# cd /etc/letsencrypt/live/letsencrypt.example.com\n# ls\ncert.pem  chain.pem  fullchain.pem  privkey.pem\n\n\nprivkey.pem\u3092\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ad\u30fc\u3001fullchain.pem\u3092\u30d1\u30d6\u30ea\u30c3\u30af\u30ad\u30fc\u8a3c\u660e\u66f8 \u3068\u8aad\u307f\u66ff\u3048\u3066\u3001ELB\u306eSSL\u8a3c\u660e\u66f8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0a\u3067\u3001\u30c0\u30a6\u30f3\u30bf\u30a4\u30e0\u306a\u3057\u306eELB\u306e\u8a3c\u660e\u66f8\u66f4\u65b0\u304c\u5b8c\u4e86\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u8a66\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001AWS CLI\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u5168\u81ea\u52d5\u306b\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n5. \u307e\u3068\u3081\n\u7121\u6599\u3067\u4f7f\u3048\u308bSSL\u8a3c\u660e\u66f8\u3068\u306f\u3044\u3046\u3082\u306e\u306e\u3001\u305d\u306e\u8a2d\u5b9a\u306b\u306f\u307e\u3060\u67af\u308c\u3066\u3044\u306a\u3044\u90e8\u5206\u304c\u3042\u308a\u307e\u3059\u3002\nTokyo\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u306eAWS Certificate Manager\u304c\u5229\u7528\u3067\u304d\u308b\u307e\u3067\u306f\u3053\u306e\u8a18\u4e8b\u304c\u5f79\u306b\u7acb\u3064\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\uff1f\n\n6. \u53c2\u8003URL\n\nLet's Encrypt\nLet's Encrypt \u3092\u652f\u3048\u308b ACME \u30d7\u30ed\u30c8\u30b3\u30eb\nLet's Encrypt \u3067\u624b\u8efd\u306b HTTPS \u30b5\u30fc\u30d0\u3092\u8a2d\u5b9a\u3059\u308b\nLet's Encrypt \u8a3c\u660e\u66f8\u306e\u81ea\u52d5\u767a\u884c\u3068ELB\u81ea\u52d5\u767b\u9332\u3092\u884c\u3063\u305f\u30ed\u30b0\n\u5927\u91cf\u306eELB\u306eSSL\u8a3c\u660e\u66f8\u3092AWS CLI\u3067\u7c21\u5358\u306b\u66f4\u65b0\u3059\u308b\nWill Let\u2019s Encrypt work for me? (Multiple servers serving one domain)\n\n\n## 0. \u80cc\u666f\n\n\u7121\u6599\u306eSSL\u8a3c\u660e\u66f8\u3068\u3044\u3046\u3053\u3068\u3067\u8a71\u984c\u306eLet's Encrypt\u3067\u3059\u304c\u3001\u5b9f\u969b\u306e\u5229\u7528\u306e\u305f\u3081\u306b\u306f **90\u65e5\u3054\u3068** \u306b\u8a3c\u660e\u66f8\u3092\u66f4\u65b0\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3068\u3044\u3046\u5236\u7d04\u304b\u3089\u3001\u306a\u304b\u306a\u304b\u672c\u756a\u5229\u7528\u3059\u308b\u306b\u306f\u8170\u304c\u91cd\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\uff08\u3082\u3061\u308d\u3093\u672c\u5bb6\u3067\u306f\u3001**\u5168\u81ea\u52d5**\u3067\u66f4\u65b0\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u3066\u3044\u307e\u3059\u3002\uff09\n\n\u307e\u3057\u3066\u3084\u3001`AWS ELB`\u306a\u3069\u306e\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u3092\u5229\u7528\u3057\u3001\u914d\u4e0b\u306b**\u8907\u6570\u306e**Web\u30b5\u30fc\u30d0\u304c\u3044\u308b\u3068\u3001`ACME\u30d7\u30ed\u30c8\u30b3\u30eb`\u3092\u901a\u904e\u3055\u305b\u308b\u3060\u3051\u3067\u4e00\u82e6\u52b4\u3067\u3059\u3002\n\n\u305d\u3053\u3067\u3001nginx\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u65e2\u5b58\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5f71\u97ff\u3092\u3042\u305f\u3048\u308b\u3053\u3068\u7121\u304f\u3001Let's Encrypt\u306e\u66f4\u65b0\u3092\u6e08\u307e\u305b\u308b\u65b9\u6cd5\u3092\u8a66\u3057\u307e\u3057\u305f\u3002\n\n\n## 1. \u524d\u63d0\n\n\u4eca\u56de\u306f\u3001\u4ee5\u4e0b\u306e\u69d8\u306a\u74b0\u5883\u3092\u60f3\u5b9a\u3057\u307e\u3059\u3002\n\n- `www.example.com` \u3067\u53d7\u3051\u308bELB\u306e\u914d\u4e0b\u306b**\u8907\u6570\u306e**Web\u30b5\u30fc\u30d0\u304c\u3042\u308b\n- `stg.example.com` \u3067\u53d7\u3051\u308bELB\u306e\u914d\u4e0b\u306bWeb\u30b5\u30fc\u30d0\u304c\u3042\u308b\n- `www.example.com` \u3068 `stg.example.com` \u306b\u5229\u7528\u3059\u308b\u8a3c\u660e\u66f8\u306f1\u3064\u306b\u307e\u3068\u307e\u3063\u3066\u3044\u3066\u826f\u3044\n\n![](https://s3-ap-northeast-1.amazonaws.com/tady-monosnap/Lets_Encrypt_-_draw.io_2016-03-23_02-11-36.png)\n\n\n## 2. letsencrypt\u5b9f\u884c\u30b5\u30fc\u30d0\u306e\u7528\u610f\n\nAmazon Linux\u304b\u3089\u306e`letsencrypt`\u306e\u5b9f\u884c\u306f\u307e\u3060\u4e0d\u5b89\u5b9a\u3067\u3001\u672c\u756a\u5229\u7528\u306e\u30b5\u30fc\u30d0\u306b\u4e0d\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u304f\u306f\u306a\u3044\u306e\u3067\u3001\u3042\u305f\u3089\u3057\u304f`letsencrypt`\u5b9f\u884c\u5c02\u7528\u306e\u30b5\u30fc\u30d0\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\n\u4eca\u56de\u306f\u3001CentOS7\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002\n\n![](https://s3-ap-northeast-1.amazonaws.com/tady-monosnap/EC2_Management_Console_2016-03-23_02-16-24.png_1260883_2016-03-24_00-49-51.png)\n\n\u30b5\u30fc\u30d0\u8d77\u52d5\u5f8c\u306b\u5fc5\u8981\u306a\u4f9d\u5b58\u95a2\u4fc2\u306f `git` \u306e\u307f\u3067\u3059\u3002\n\u305d\u306e\u5f8c\u3001`letsencrypt`\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001\u5f8c\u8ff0\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u306e\u305f\u3081\u306b\u3001`firewalld`\u3092\u5207\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\uff08`firewalld`\u3092\u9589\u3058\u308b\u524d\u306b\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u304c\u9589\u3058\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff09\n\n```shell-session:shell\n# yum install git\n# systemctl stop firewalld.service\n\n# cd /usr/local/src\n# git clone https://github.com/letsencrypt/letsencrypt.git\n# cd letsencrypt\n```\n\n\u3053\u308c\u3067\u30b5\u30fc\u30d0\u306e\u6e96\u5099\u306f\u5b8c\u4e86\u3067\u3059\u3002\nRoute 53\u304b\u3089\u3001`letsencrypt.example.com`\u3068\u3044\u3046\u30c9\u30e1\u30a4\u30f3\u304c\u3053\u306e\u30b5\u30fc\u30d0\u3092\u6307\u3059\u3088\u3046\u306b\u30ec\u30b3\u30fc\u30c9\u6307\u5b9a\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u3053\u306e\u307e\u307e\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068`Let's Ecnrypt`\u304b\u3089\u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3057\u307e\u3059\u304c\u3001\u6307\u5b9a\u3057\u305f\u3059\u3079\u3066\u306e\u30c9\u30e1\u30a4\u30f3\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8(`ACME\u30d7\u30ed\u30c8\u30b3\u30eb`)\u304c\u81ea\u5206\u306e\u30b5\u30fc\u30d0\u306b\u5c4a\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u3067\u3001\u5931\u6557\u3057\u307e\u3059\u3002\n\n\n\n## 3. \u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u306e\u8a2d\u5b9a\n\n`www.example.com`\u3068`stg.example.com`\u3078\u306e\u30a2\u30af\u30bb\u30b9\u304c`letsencrypt\u5b9f\u884c\u30b5\u30fc\u30d0`\u3078\u8fc2\u56de\u3059\u308b\u3088\u3046\u306b\u3001\u305d\u308c\u305e\u308c\u306e\u30b5\u30fc\u30d0\u3067\u52d5\u3044\u3066\u3044\u308b`nginx`\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\nLet's Encrypt\u306eACME\u30d7\u30ed\u30c8\u30b3\u30eb\u306f `/.well-known/...` \u3078\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304f\u308b\u306e\u3067\u3001\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3060\u3051\u30d7\u30ed\u30ad\u30b7\u3059\u308c\u3070\u5341\u5206\u3067\u3059\u3002\n\n\u3053\u306e\u8a2d\u5b9a\u306e\u304a\u304b\u3052\u3067\u3001\u672c\u756a\u74b0\u5883\u3078\u306e\u5f71\u97ff\u304c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n```nginx:/etc/nginx/conf.d/app.conf\nserver {\n  listen 80;\n  server_name www.example.com;\n\n  ...\n\n  # lets encrypt ACME proxy\n  location /.well-known {\n    proxy_pass http://letsencrypt.example.private;\n  }\n}\n```\n\n\u3053\u3053\u3067\u3001\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u5148\u306e\u30db\u30b9\u30c8\u3092`letsencrypt.example.private`\u3068\u7f6e\u304f\u3053\u3068\u3067\u3001\u6b21\u56de\u66f4\u65b0\u6642\u306b\u540c\u3058\u4f5c\u696d\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u305d\u306e\u5f8c\u306f\u3001Route 53\u3067`letsencrypt.example.private`\u306ePrivate DNS\u3092\u8a2d\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\n\n![](https://s3-ap-northeast-1.amazonaws.com/tady-monosnap/Route_53_Management_Console_2016-03-23_02-32-22.png)\n\n\n\n## 4. letsencrypt\u306e\u5b9f\u884c\n\n`letsencrypt\u5b9f\u884c\u30b5\u30fc\u30d0`\u306b\u623b\u3063\u3066`letsencrypt\u30b3\u30de\u30f3\u30c9`\u3092\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002\n\n```shell-session:shell\n# pwd \n/usr/local/src/letsencrypt\n\n# ./letsencrypt-auto certonly --standalone -d www.example.com -d stg.example.com -d letsencrypt.example.com\n```\n\n\u4e0a\u8a18\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u8a3c\u660e\u66f8\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n```shell-session:shell\n# cd /etc/letsencrypt/live/letsencrypt.example.com\n# ls\ncert.pem  chain.pem  fullchain.pem  privkey.pem\n```\n\n`privkey.pem`\u3092`\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ad\u30fc`\u3001`fullchain.pem`\u3092`\u30d1\u30d6\u30ea\u30c3\u30af\u30ad\u30fc\u8a3c\u660e\u66f8` \u3068\u8aad\u307f\u66ff\u3048\u3066\u3001ELB\u306eSSL\u8a3c\u660e\u66f8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n![](https://s3-ap-northeast-1.amazonaws.com/tady-monosnap/EC2_Management_Console_2016-03-23_00-57-22.png)\n\n\u4ee5\u4e0a\u3067\u3001\u30c0\u30a6\u30f3\u30bf\u30a4\u30e0\u306a\u3057\u306eELB\u306e\u8a3c\u660e\u66f8\u66f4\u65b0\u304c\u5b8c\u4e86\u3057\u307e\u3059\u3002\n\n\u4eca\u56de\u306f\u8a66\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001`AWS CLI`\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u5168\u81ea\u52d5\u306b\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n## 5. \u307e\u3068\u3081\n\n\u7121\u6599\u3067\u4f7f\u3048\u308bSSL\u8a3c\u660e\u66f8\u3068\u306f\u3044\u3046\u3082\u306e\u306e\u3001\u305d\u306e\u8a2d\u5b9a\u306b\u306f\u307e\u3060\u67af\u308c\u3066\u3044\u306a\u3044\u90e8\u5206\u304c\u3042\u308a\u307e\u3059\u3002\nTokyo\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u306e`AWS Certificate Manager`\u304c\u5229\u7528\u3067\u304d\u308b\u307e\u3067\u306f\u3053\u306e\u8a18\u4e8b\u304c\u5f79\u306b\u7acb\u3064\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\uff1f\n\n\n## 6. \u53c2\u8003URL\n\n- [Let's Encrypt](https://letsencrypt.org/)\n- [Let's Encrypt \u3092\u652f\u3048\u308b ACME \u30d7\u30ed\u30c8\u30b3\u30eb](http://jxck.hatenablog.com/entry/letsencrypt-acme)\n- [Let's Encrypt \u3067\u624b\u8efd\u306b HTTPS \u30b5\u30fc\u30d0\u3092\u8a2d\u5b9a\u3059\u308b](http://qiita.com/ww24/items/9fa19594b4e3a8eb9b6f)\n- [Let's Encrypt \u8a3c\u660e\u66f8\u306e\u81ea\u52d5\u767a\u884c\u3068ELB\u81ea\u52d5\u767b\u9332\u3092\u884c\u3063\u305f\u30ed\u30b0](http://qiita.com/hidekuro/items/482520f220a305dc147b)\n- [\u5927\u91cf\u306eELB\u306eSSL\u8a3c\u660e\u66f8\u3092AWS CLI\u3067\u7c21\u5358\u306b\u66f4\u65b0\u3059\u308b](http://dev.classmethod.jp/cloud/aws/elb-ssl-certificate-renew-from-cli/)\n- [Will Let\u2019s Encrypt work for me? (Multiple servers serving one domain)](https://community.letsencrypt.org/t/will-lets-encrypt-work-for-me-multiple-servers-serving-one-domain/6830/8)\n"}