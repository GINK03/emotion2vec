{"context": " More than 1 year has passed since last update.[\u30e2\u30c7\u30eb]\u2192\u53d6\u5f97\u2192[Entity]\n\u3053\u306e\u6d41\u308c\u3092\u7c21\u5358\u306b\u3059\u308b\u306e\u304cCoreDataFramework\u3067\u3059\u3002\n#import\uff1cCoreData/CoreData.h\uff1e\n\u3057\u305f\u4e0a\u3067Entity\u306b\u3059\u308b\u30af\u30e9\u30b9\u3092\u4f5c\u3063\u3066\u304a\u304f\u3002\u3061\u306a\u307f\u306b\n\u3053\u3044\u3064\u306f\u3001NSManagedObject\u30af\u30e9\u30b9\u3092\u89aa\u3068\u3057\u3066\u7d99\u627f\u3057\u3066\u3044\u306a\u3051\u308c\u3070\n\u306a\u3089\u306a\u3044\u3002\n\nEntity.h\n#import <Foundation/Foundation.h>\n#import <CoreData/CoreData.h>\n\n\n@interface Entity : NSManagedObject\n\n@property (nonatomic, retain) NSDate * deadline;\n@property (nonatomic, retain) NSString * homeWork;\n@property (nonatomic, retain) NSNumber * isExistAssign;\n@property (nonatomic, retain) NSString * labelA;\n@property (nonatomic, retain) NSString * labelB;\n@property (nonatomic, retain) NSNumber * tag;\n\n@end\n\n\n\u4e00\u65b9\n\nEntity.m\n#import \"Entity.h\"\n@implementation Entity\n@dynamic deadline;\n@dynamic homeWork;\n@dynamic isExistAssign;\n@dynamic labelA;\n@dynamic labelB;\n@dynamic tag;\n@end\n\n\n\n\u3053\u3093\u306a\u611f\u3058\u3002@dynamic\u3066\u306a\u3093\u3058\u3083\u3063\u3066\u306a\u3063\u305f\u3089\n\u3053\u3068\u306e\u904b\u3073\u65b9\u306f\n[\u30e2\u30c7\u30eb]\u2192[\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3]\n\u30e9\u30c3\u30d7\u3057\u305f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u5909\u66f4\u3057\u305f\u308a\u3057\u306a\u304b\u3063\u305f\u308a\u3057\u305f\u3042\u3068\u3001\nContext\u306b\u7a81\u3063\u8fbc\u3093\u3067\u5b9f\u969b\u306e\u30e2\u30c7\u30eb\u306b\u53cd\u6620\u3059\u308b\u3002\n\u3061\u306a\u307f\u306b\u3001\u3068\u308a\u3042\u3048\u305aDB(Store)\u306fsqlite\u3092\u5229\u7528\u3059\u308b\u306e\u3067\u3001\u4f5c\u3063\u3066\u3042\u3052\u306a\u3044\u3068\u3060\u3081\u3002\n\nex\n- (NSURL*)createStoreURL {\n    NSArray *directories = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *path = [[directories lastObject] stringByAppendingPathComponent:DB_NAME];\n    NSURL *storeURL = [NSURL fileURLWithPath:path];\n    return storeURL;\n}\n\n\n\u3082\u3061\u308d\u3093Store\u5185\u306b\u3064\u3063\u3053\u3080\u30e2\u30c7\u30eb\u3082\n\nex\n- (NSURL*)createModelURL {\n    NSBundle *mainBundle = [NSBundle mainBundle];\n    NSString *path = [mainBundle pathForResource:MODEL_NAME ofType:@\"momd\"];\n    NSURL *modelURL = [NSURL fileURLWithPath:path];\n    return modelURL;\n}\n\n\n\u3093\u3067\u3001NSManagedObjectModel\u3068\u3001\u30b9\u30c8\u30a2\u306e\u5b9f\u4f53NSPersistentScoreCoodinator,\u3042\u3068NSManagedObjectContext\u3082\u3064\u304f\u308b\u3002\n\nex.m\n- (NSManagedObjectContext*)createManagedObjectContext {\n    NSURL *modelURL = [self createModelURL];\n    NSURL *storeURL = [self createStoreURL];\n    NSError *error = nil;\n    NSManagedObjectModel *managedObjectModel=[[NSManagedObjectModel alloc]initWithContentsOfURL:modelURL];\n    NSPersistentStoreCoordinator *persistentStoreCoordinator = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:managedObjectModel];\n    [persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL options:nil error:&error];\n    NSManagedObjectContext *managedObjectContent = [[NSManagedObjectContext alloc] init];\n    [managedObjectContent setPersistentStoreCoordinator:persistentStoreCoordinator];\n    return managedObjectContent;\n}\n\n\n\n\u3093\u3067\u3001Entity\u3092\u65b0\u898f\u306b\u4f5c\u6210\u3057\u3066\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u3064\u3063\u3053\u3080\u306e\u306f\u3053\u3093\u306a\u3093\u3002\n\nex\n\n    Entity* newObject = [NSEntityDescription insertNewObjectForEntityForName:ENTITY_NAME inManagedObjectContext:context];\n\n//newObject\u306b\u5909\u5316\u304f\u308f\u3048\u30fc\u306e\n\n    NSError *error = nil;\n    if([context save:&error]/*dao\u306bflush\u3059\u308b\u307f\u305f\u3044\u306a*/) {\n       //\u30bb\u30fc\u30d6\u6210\u529f\u3057\u305f\u51e6\u7406\n    } else {\n        //\u30bb\u30fc\u30d6\u306b\u5931\u6557\u3057\u305f\u3068\u304d\u306e\u51e6\u7406\n    }\n\n\n\n\n\u3093\u3058\u3083\u9006\u306bStore\u304b\u3089\u6307\u5b9a\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u3002\n\nex\n\n NSEntityDescription *entity = [NSEntityDescription entityForName:ENTITY_NAME inManagedObjectContext:context];\n\n    NSFetchRequest *request = [[NSFetchRequest alloc]init];\n    //\u53d6\u3063\u3066\u304f\u308b\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n    [request setEntity:entity];\n\n    //\u691c\u7d22\u6761\u4ef6\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u3002Add Predicate as filter;\n    NSString *searchString = [searchWindows text];\n    //\u6bd4\u8f03\u5bfe\u8c61\u3092\u76f4\u63a5\u63cf\u304f\u306e\u304c\u30dd\u30a4\u30f3\u30c8\n    NSPredicate *predicate =[NSPredicate predicateWithFormat:@\"labelA == %@\",searchString];\n                              [request setPredicate:predicate];\n\n    NSError *error = nil;\n\n    //\u30c7\u30fc\u30bf\u306e\u30d5\u30a7\u30c3\u30c1\u3092\u884c\u3046 Data Fetching.\n    NSArray *fetchResults = [context executeFetchRequest:request error:&error];\n\n    if([fetchResults count] > 0) {\n        NSMutableString *str = [NSMutableString stringWithFormat:@\"Found %d Datas \\n\",[fetchResults count]];\n        int i = 0;\n        for (Entity *ent in fetchResults) {\n            [str appendFormat:@\"Num:%d Room:%@ Name:%@ isAss:\\n\",i,ent.labelA,ent.labelB];\n            i++;\n        }\n\n        dataViewer.text = str;\n\n    } else {\n        dataViewer.text = @\"Data is None!\";\n    }\n\n\n\n\n\u4ee5\u4e0a\n\u3053\u3053\u306bCoreData\u306e\u7c21\u5358\u306aSample\u307f\u305f\u3044\u306a\u306e\u7f6e\u304d\u307e\u3057\u305f\u3002\u591a\u5206\u4f7f\u3048\u307e\u3059\u2190\n[\u30e2\u30c7\u30eb]\u2192\u53d6\u5f97\u2192[Entity]\n\u3053\u306e\u6d41\u308c\u3092\u7c21\u5358\u306b\u3059\u308b\u306e\u304cCoreDataFramework\u3067\u3059\u3002\n\n\n<h1>#import\uff1cCoreData/CoreData.h\uff1e</h1>\n\u3057\u305f\u4e0a\u3067Entity\u306b\u3059\u308b\u30af\u30e9\u30b9\u3092\u4f5c\u3063\u3066\u304a\u304f\u3002\u3061\u306a\u307f\u306b\n\u3053\u3044\u3064\u306f\u3001NSManagedObject\u30af\u30e9\u30b9\u3092\u89aa\u3068\u3057\u3066\u7d99\u627f\u3057\u3066\u3044\u306a\u3051\u308c\u3070\n\u306a\u3089\u306a\u3044\u3002\n\n\n```objectivec:Entity.h\n#import <Foundation/Foundation.h>\n#import <CoreData/CoreData.h>\n\n\n@interface Entity : NSManagedObject\n\n@property (nonatomic, retain) NSDate * deadline;\n@property (nonatomic, retain) NSString * homeWork;\n@property (nonatomic, retain) NSNumber * isExistAssign;\n@property (nonatomic, retain) NSString * labelA;\n@property (nonatomic, retain) NSString * labelB;\n@property (nonatomic, retain) NSNumber * tag;\n\n@end\n```\n\n\u4e00\u65b9\n\n```objectivec:Entity.m\n#import \"Entity.h\"\n@implementation Entity\n@dynamic deadline;\n@dynamic homeWork;\n@dynamic isExistAssign;\n@dynamic labelA;\n@dynamic labelB;\n@dynamic tag;\n@end\n\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3002[@dynamic\u3066\u306a\u3093\u3058\u3083\u3063\u3066\u306a\u3063\u305f\u3089](http://www.tokoro.me/2013/01/05/objc-dynamic/)\n\n\n\u3053\u3068\u306e\u904b\u3073\u65b9\u306f\n[\u30e2\u30c7\u30eb]\u2192[\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3]\n\u30e9\u30c3\u30d7\u3057\u305f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u5909\u66f4\u3057\u305f\u308a\u3057\u306a\u304b\u3063\u305f\u308a\u3057\u305f\u3042\u3068\u3001\nContext\u306b\u7a81\u3063\u8fbc\u3093\u3067\u5b9f\u969b\u306e\u30e2\u30c7\u30eb\u306b\u53cd\u6620\u3059\u308b\u3002\n\n\u3061\u306a\u307f\u306b\u3001\u3068\u308a\u3042\u3048\u305aDB(Store)\u306fsqlite\u3092\u5229\u7528\u3059\u308b\u306e\u3067\u3001\u4f5c\u3063\u3066\u3042\u3052\u306a\u3044\u3068\u3060\u3081\u3002\n\n```objectivec:ex\n- (NSURL*)createStoreURL {\n    NSArray *directories = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *path = [[directories lastObject] stringByAppendingPathComponent:DB_NAME];\n    NSURL *storeURL = [NSURL fileURLWithPath:path];\n    return storeURL;\n}\n```\n\u3082\u3061\u308d\u3093Store\u5185\u306b\u3064\u3063\u3053\u3080\u30e2\u30c7\u30eb\u3082\n\n```objectivec:ex\n- (NSURL*)createModelURL {\n    NSBundle *mainBundle = [NSBundle mainBundle];\n    NSString *path = [mainBundle pathForResource:MODEL_NAME ofType:@\"momd\"];\n    NSURL *modelURL = [NSURL fileURLWithPath:path];\n    return modelURL;\n}\n```\n\n\u3093\u3067\u3001NSManagedObjectModel\u3068\u3001\u30b9\u30c8\u30a2\u306e\u5b9f\u4f53NSPersistentScoreCoodinator,\u3042\u3068NSManagedObjectContext\u3082\u3064\u304f\u308b\u3002\n\n```objectivec:ex.m\n- (NSManagedObjectContext*)createManagedObjectContext {\n    NSURL *modelURL = [self createModelURL];\n    NSURL *storeURL = [self createStoreURL];\n    NSError *error = nil;\n    NSManagedObjectModel *managedObjectModel=[[NSManagedObjectModel alloc]initWithContentsOfURL:modelURL];\n    NSPersistentStoreCoordinator *persistentStoreCoordinator = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:managedObjectModel];\n    [persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL options:nil error:&error];\n    NSManagedObjectContext *managedObjectContent = [[NSManagedObjectContext alloc] init];\n    [managedObjectContent setPersistentStoreCoordinator:persistentStoreCoordinator];\n    return managedObjectContent;\n}\n\n```\n\n\u3093\u3067\u3001Entity\u3092\u65b0\u898f\u306b\u4f5c\u6210\u3057\u3066\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u3064\u3063\u3053\u3080\u306e\u306f\u3053\u3093\u306a\u3093\u3002\n\n```objectivec:ex\n\n    Entity* newObject = [NSEntityDescription insertNewObjectForEntityForName:ENTITY_NAME inManagedObjectContext:context];\n\n//newObject\u306b\u5909\u5316\u304f\u308f\u3048\u30fc\u306e\n \n    NSError *error = nil;\n    if([context save:&error]/*dao\u306bflush\u3059\u308b\u307f\u305f\u3044\u306a*/) {\n       //\u30bb\u30fc\u30d6\u6210\u529f\u3057\u305f\u51e6\u7406\n    } else {\n        //\u30bb\u30fc\u30d6\u306b\u5931\u6557\u3057\u305f\u3068\u304d\u306e\u51e6\u7406\n    }\n\n\n```\n\n\u3093\u3058\u3083\u9006\u306bStore\u304b\u3089\u6307\u5b9a\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u3002\n\n```objectivec:ex\n\n NSEntityDescription *entity = [NSEntityDescription entityForName:ENTITY_NAME inManagedObjectContext:context];\n    \n    NSFetchRequest *request = [[NSFetchRequest alloc]init];\n    //\u53d6\u3063\u3066\u304f\u308b\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n    [request setEntity:entity];\n    \n    //\u691c\u7d22\u6761\u4ef6\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u3002Add Predicate as filter;\n    NSString *searchString = [searchWindows text];\n    //\u6bd4\u8f03\u5bfe\u8c61\u3092\u76f4\u63a5\u63cf\u304f\u306e\u304c\u30dd\u30a4\u30f3\u30c8\n    NSPredicate *predicate =[NSPredicate predicateWithFormat:@\"labelA == %@\",searchString];\n                              [request setPredicate:predicate];\n    \n    NSError *error = nil;\n    \n    //\u30c7\u30fc\u30bf\u306e\u30d5\u30a7\u30c3\u30c1\u3092\u884c\u3046 Data Fetching.\n    NSArray *fetchResults = [context executeFetchRequest:request error:&error];\n    \n    if([fetchResults count] > 0) {\n        NSMutableString *str = [NSMutableString stringWithFormat:@\"Found %d Datas \\n\",[fetchResults count]];\n        int i = 0;\n        for (Entity *ent in fetchResults) {\n            [str appendFormat:@\"Num:%d Room:%@ Name:%@ isAss:\\n\",i,ent.labelA,ent.labelB];\n            i++;\n        }\n        \n        dataViewer.text = str;\n        \n    } else {\n        dataViewer.text = @\"Data is None!\";\n    }\n    \n\n```\n\u4ee5\u4e0a\n\n[\u3053\u3053\u306bCoreData\u306e\u7c21\u5358\u306aSample\u307f\u305f\u3044\u306a\u306e\u7f6e\u304d\u307e\u3057\u305f\u3002\u591a\u5206\u4f7f\u3048\u307e\u3059\u2190](https://github.com/kawabatakazuki/CoreDataSampleApp)\n\n\n", "tags": ["Objective-C", "CoreData", "iOS"]}