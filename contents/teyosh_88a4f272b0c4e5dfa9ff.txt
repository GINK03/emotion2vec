{"context": "\n\nAngular\u3067SSR\u3092\u3057\u3066\u307f\u308b\nSPA\u306e\u6575\u306f\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306e\u5927\u304d\u3044JS\u3084\u521d\u671f\u5316\u306b\u304b\u304b\u308b\u6642\u9593\u3067\u3059\u3002\n\u305d\u306e\u306a\u304b\u3067\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306fAoT\u3084uglify\u3067\u5c0f\u3055\u304f\u3057\u3066\u3044\u304f\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u521d\u671f\u5316\u306b\u304b\u304b\u308b\u6642\u9593\u3092\u6291\u3048\u308b\u306b\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c1\u3064\u306e\u89e3\u306b\u306a\u308a\u307e\u3059\u3002\nAngular\u3067\u306f\u73fe\u5728@angular/universal\u3068\u3044\u3046SSR\u3092\u5b9f\u73fe\u3059\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u3042\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3053\u308c\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u5229\u7528\u3059\u308b\u306b\u306f\nangular-universal\u3092\u5229\u7528\u3059\u308b\u306e\u3082\u3044\u3044\u3067\u3059\u304c\u3001\u3053\u3053\u306f\u7d20\u65e9\u304f\u5229\u7528\u3067\u304d\u308buniversal-starter\u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u3087\u3046\n\u307e\u305a\u306funiversal-starter\u3092clone\u3057\u3066\u304d\u307e\u3059\u3002\n% git clone git@github.com:angular/universal-starter\nCloning into 'universal-starter'...\nremote: Counting objects: 2070, done.\nremote: Compressing objects: 100% (23/23), done.\nremote: Total 2070 (delta 10), reused 0 (delta 0), pack-reused 2047\nReceiving objects: 100% (2070/2070), 370.34 KiB | 437.00 KiB/s, done.\nResolving deltas: 100% (1272/1272), done.\nChecking connectivity... done.\n\n\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3001npm install\u3092\u5b9f\u884c\u3057\u307e\u3059\ncd universal-starter && npm install\n\n\u8d77\u52d5\u3057\u3066\u307f\u308b\n% npm start\n\n> universal-starter@2.0.0 prestart /Users/teyosh/Test/advent/universal-starter\n> npm run build\n\n\n> universal-starter@2.0.0 prebuild /Users/teyosh/Test/advent/universal-starter\n> npm run clean:dist\n\n\n> universal-starter@2.0.0 clean:dist /Users/teyosh/Test/advent/universal-starter\n> rimraf dist\n\n\n> universal-starter@2.0.0 build /Users/teyosh/Test/advent/universal-starter\n> webpack  --progress\n\n[0] Hash: f3ecdceb6ff8b863cd64d0ac0448d61acda74259                            r Version: webpack 2.1.0-beta.27\nChild\n    Hash: f3ecdceb6ff8b863cd64\n    Version: webpack 2.1.0-beta.27\n    Time: 12533ms\n                 Asset     Size  Chunks             Chunk Names\n           0.bundle.js  2.23 kB       0  [emitted]\n        main.bundle.js  2.99 MB       1  [emitted]  main\n       0.bundle.js.map  2.35 kB       0  [emitted]\n    main.bundle.js.map  2.95 MB       1  [emitted]  main\n     [279] ./src async 160 bytes {1} [built]\n     [446] ./src/+app/+lazy async ^\\.\\/lazy\\.module.*$ 160 bytes {1} [built]\n        + 449 hidden modules\nChild\n    Hash: d0ac0448d61acda74259\n    Version: webpack 2.1.0-beta.27\n    Time: 12512ms\n             Asset     Size  Chunks             Chunk Names\n        0.index.js  2.24 kB       0  [emitted]\n          index.js  2.66 MB       1  [emitted]  main\n    0.index.js.map  2.35 kB       0  [emitted]\n      index.js.map  2.56 MB       1  [emitted]  main\n     [260] ./src async 160 bytes {1} [built]\n     [406] ./src/+app/+lazy async ^\\.\\/lazy\\.module.*$ 160 bytes {1} [built]\n        + 429 hidden modules\n\n> universal-starter@2.0.0 start /Users/teyosh/Test/advent/universal-starter\n> npm run server\n\n\n> universal-starter@2.0.0 server /Users/teyosh/Test/advent/universal-starter\n> nodemon dist/server/index.js\n\n[nodemon] 1.11.0\n[nodemon] to restart at any time, enter `rs`\n[nodemon] watching: /Users/teyosh/Test/advent/universal-starter/dist/**/* src/index.html\n[nodemon] starting `node dist/server/index.js`\nListening on: http://localhost:3000\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\n/data.json Cache Miss\nGET /data.json 200 3.359 ms - 62\nGET /home 200 111.378 ms - -\n\n\n\u3053\u3046\u306a\u308a\u307e\u3059\u3002\n\u3053\u308c\u3060\u3051\u3067\u306fSSR\u304b\u3069\u3046\u304b\u306f\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u306d\n\nindex.html\n\u3053\u3061\u3089\u304c\u30bd\u30fc\u30b9\u306eindex\u306b\u306a\u308a\u307e\u3059\n<!doctype html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Angular 2 Universal Starter</title>\n  <meta name=\"description\" content=\"Angular 2 Universal\">\n  <meta name=\"keywords\" content=\"Angular 2,Universal\">\n  <meta name=\"author\" content=\"PatrickJS\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1\">\n\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  <link rel=\"prerender\" href=\"http://localhost:3000/lazy\">\n  <link rel=\"preload\" href=\"/assets/logo.png\">\n  <base href=\"/\">\n\n</head>\n<body>\n\n  <app>\n    Loading Universal ...\n  </app>\n\n  <script async src=\"/main.bundle.js\"></script>\n</body>\n</html>\n\n\u3067\u3001\u3053\u3063\u3061\u304c\u30d6\u30e9\u30a6\u30b6\u304c\u53d6\u5f97\u3057\u305findex\u306b\u306a\u308a\u307e\u3059\n\n<!DOCTYPE html><html><head>\n  <meta charset=\"UTF-8\">\n  <title>Angular 2 Universal Starter</title>\n  <meta name=\"description\" content=\"Angular 2 Universal\">\n  <meta name=\"keywords\" content=\"Angular 2,Universal\">\n  <meta name=\"author\" content=\"PatrickJS\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1\">\n\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  <link rel=\"prerender\" href=\"http://localhost:3000/lazy\">\n  <link rel=\"preload\" href=\"/assets/logo.png\">\n  <base href=\"/\">\n\n<style>*[_ngcontent-a72c-1] { padding:0; margin:0; font-family: 'Droid Sans', sans-serif; }\n    #universal[_ngcontent-a72c-1] { text-align:center; font-weight:bold; padding:15px 0; }\n    nav[_ngcontent-a72c-1] { background:#158126; min-height:40px; border-bottom:5px #046923 solid; }\n    nav[_ngcontent-a72c-1]   a[_ngcontent-a72c-1] { font-weight:bold; text-decoration:none; color:#fff; padding:20px; display:inline-block; }\n    nav[_ngcontent-a72c-1]   a[_ngcontent-a72c-1]:hover { background:#00AF36; }\n    .hero-universal[_ngcontent-a72c-1] { min-height:500px; display:block; padding:20px; background: url('/assets/logo.png') no-repeat center center; }\n    .inner-hero[_ngcontent-a72c-1] { background: rgba(255, 255, 255, 0.75); border:5px #ccc solid; padding:25px; }\n    .router-link-active[_ngcontent-a72c-1] { background-color: #00AF36; }\n    main[_ngcontent-a72c-1] { padding:20px 0; }\n    pre[_ngcontent-a72c-1] { font-size:12px; }</style><style>blockquote[_ngcontent-a72c-3] {\n  border-left:5px #158126 solid;\n  background:#fff;\n  padding:20px 20px 20px 40px;\n}\nblockquote[_ngcontent-a72c-3]::before {\n  left: 1em;\n}</style></head>\n<body>\n\n  <app _nghost-a72c-1=\"\">\n  <h3 _ngcontent-a72c-1=\"\" id=\"universal\">Angular2 Universal</h3>\n  <nav _ngcontent-a72c-1=\"\">\n    <a _ngcontent-a72c-1=\"\" routerLink=\"home\" routerLinkActive=\"router-link-active\" href=\"/home\" class=\"router-link-active\">Home</a>\n    <a _ngcontent-a72c-1=\"\" routerLink=\"about\" routerLinkActive=\"router-link-active\" href=\"/about\">About</a>\n    <a _ngcontent-a72c-1=\"\" routerLink=\"todo\" routerLinkActive=\"router-link-active\" href=\"/todo\">Todo</a>\n    <a _ngcontent-a72c-1=\"\" routerLink=\"lazy\" routerLinkActive=\"router-link-active\" href=\"/lazy\">Lazy</a>\n  </nav>\n  <div _ngcontent-a72c-1=\"\" class=\"hero-universal\">\n    <div _ngcontent-a72c-1=\"\" class=\"inner-hero\">\n      <div _ngcontent-a72c-1=\"\">\n        <span _ngcontent-a72c-1=\"\" xLarge=\"\" style=\"font-size:x-large;\">Universal JavaScript ftw!</span>\n      </div>\n\n      Two-way binding: <input _ngcontent-a72c-1=\"\" type=\"text\" value=\"ftw\">\n\n      <br _ngcontent-a72c-1=\"\">\n      <br _ngcontent-a72c-1=\"\">\n\n      <strong _ngcontent-a72c-1=\"\">Router-outlet:</strong>\n      <main _ngcontent-a72c-1=\"\">\n        <router-outlet _ngcontent-a72c-1=\"\"></router-outlet><home _nghost-a72c-3=\"\"><div _ngcontent-a72c-3=\"\" class=\"home\">\n  Home component\n  <strong _ngcontent-a72c-3=\"\">Async data call return value:</strong>\n  <pre _ngcontent-a72c-3=\"\">{\n  \"data\": \"This fake data came from the db on the server.\"\n}</pre>\n  <blockquote _ngcontent-a72c-3=\"\">This fake data came from the db on the server.</blockquote>\n</div>\n</home>\n      </main>\n    </div>\n  </div>\n  </app>\n\n  <script async=\"\" src=\"/main.bundle.js\"></script>\n\n\n<universal-script><script>\n try {window.UNIVERSAL_CACHE = ({\"APP_ID\":\"a72c\",\"CacheService\":\"{\\\"/data.json\\\":{\\\"data\\\":\\\"This fake data came from the db on the server.\\\"}}\"}) || {};} catch(e) {  console.warn(\"Angular Universal: There was a problem parsing data from the server\")}\n</script></universal-script></body></html>\n\n<app></app>\u306e\u4e2d\u8eab\u304c\u751f\u6210\u3055\u308c\u3066\u30d6\u30e9\u30a6\u30b6\u306b\u9001\u3089\u308c\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u521d\u671f\u5316\u306e\u51e6\u7406\u304c\u7701\u304b\u308c\u308b\u306e\u306f\u3082\u3061\u308d\u3093\u3001SEO\u5bfe\u7b56\u3082\u3067\u304d\u308b\u4e00\u77f3\u4e8c\u9ce5\u3067\u3059\u3002\n\nAoT\n\u3082\u3061\u308d\u3093AoT\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n% npm run build:prod:ngc\n> universal-starter@2.0.0 build:prod:ngc /Users/teyosh/Test/advent/universal-starter\n> npm run clean:ngc && npm run ngc && npm run clean:dist && npm run build:prod\n\n\n> universal-starter@2.0.0 clean:ngc /Users/teyosh/Test/advent/universal-starter\n> rimraf **/*.ngfactory.ts **/*.css.shim.ts\n\n\n> universal-starter@2.0.0 ngc /Users/teyosh/Test/advent/universal-starter\n> ngc -p tsconfig.aot.json\n\n\n> universal-starter@2.0.0 clean:dist /Users/teyosh/Test/advent/universal-starter\n> rimraf dist\n\n\n> universal-starter@2.0.0 build:prod /Users/teyosh/Test/advent/universal-starter\n> webpack --config webpack.prod.config.ts\n\nHash: b1b2d9e2afd25d442e1f48118b7ce828e0579d81\nVersion: webpack 2.1.0-beta.27\nChild\n    Hash: b1b2d9e2afd25d442e1f\n    Version: webpack 2.1.0-beta.27\n    Time: 27017ms\n                          Asset     Size  Chunks             Chunk Names\n        72fdbbaf74c66f7684c5.js  5.62 kB       0  [emitted]\n                 main.bundle.js   616 kB       1  [emitted]  main\n    72fdbbaf74c66f7684c5.js.map  32.3 kB       0  [emitted]\n             main.bundle.js.map  4.53 MB       1  [emitted]  main\n                     stats.json  2.61 MB          [emitted]\n      [26] ./empty.js 191 bytes {1} [built]\n     [216] ./src async 160 bytes {1} [built]\n        + 351 hidden modules\nChild\n    Hash: 48118b7ce828e0579d81\n    Version: webpack 2.1.0-beta.27\n    Time: 27005ms\n              Asset     Size  Chunks             Chunk Names\n        0.bundle.js  8.94 kB       0  [emitted]\n           index.js  1.66 MB       1  [emitted]  main\n    0.bundle.js.map  32.4 kB       0  [emitted]\n       index.js.map  6.26 MB       1  [emitted]  main\n     [273] ./src async 160 bytes {1} [built]\n        + 435 hidden modules\n\n\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306f\u7d50\u69cb\u5909\u308f\u308a\u307e\u3059\u3002\nAoT\u3057\u3066\u3044\u306a\u3044\u5834\u5408\n% ls -lh client\ntotal 11704\n-rw-r--r--  1 teyosh  staff    12K 12 19 14:50 0.bundle.js\n-rw-r--r--  1 teyosh  staff    20K 12 19 14:50 0.bundle.js.map\n-rw-r--r--  1 teyosh  staff   2.2K 12 19 14:50 1.bundle.js\n-rw-r--r--  1 teyosh  staff   2.3K 12 19 14:50 1.bundle.js.map\n-rw-r--r--  1 teyosh  staff   2.9M 12 19 14:50 main.bundle.js\n-rw-r--r--  1 teyosh  staff   2.8M 12 19 14:50 main.bundle.js.map\n\n% ls -lh server\ntotal 10296\n-rw-r--r--  1 teyosh  staff    12K 12 19 14:49 0.index.js\n-rw-r--r--  1 teyosh  staff    20K 12 19 14:49 0.index.js.map\n-rw-r--r--  1 teyosh  staff   2.2K 12 19 14:49 1.index.js\n-rw-r--r--  1 teyosh  staff   2.3K 12 19 14:49 1.index.js.map\n-rw-r--r--  1 teyosh  staff   2.5M 12 19 14:49 index.js\n-rw-r--r--  1 teyosh  staff   2.4M 12 19 14:50 index.js.map\n\nAoT\u3057\u305f\u5834\u5408\n% ls -lh client\ntotal 15240\n-rw-r--r--  1 teyosh  staff   5.5K 12 19 14:58 72fdbbaf74c66f7684c5.js\n-rw-r--r--  1 teyosh  staff    31K 12 19 14:58 72fdbbaf74c66f7684c5.js.map\n-rw-r--r--  1 teyosh  staff   602K 12 19 14:58 main.bundle.js\n-rw-r--r--  1 teyosh  staff   4.3M 12 19 14:58 main.bundle.js.map\n-rw-r--r--  1 teyosh  staff   2.5M 12 19 14:58 stats.json\n\n% ls -lh server\ntotal 15560\n-rw-r--r--  1 teyosh  staff   8.7K 12 19 14:58 0.bundle.js\n-rw-r--r--  1 teyosh  staff    32K 12 19 14:58 0.bundle.js.map\n-rw-r--r--  1 teyosh  staff   1.6M 12 19 14:58 index.js\n-rw-r--r--  1 teyosh  staff   6.0M 12 19 14:58 index.js.map\n\n\u307e\u3060\u307e\u3060\u3001\u958b\u767a\u4e2d\u3067\u4e0d\u5b89\u5b9a\u3067\u3059\u304c\u3001SEO\u5bfe\u7b56\u3084\u521d\u671f\u5316\u3067\u60a9\u3093\u3067\u3044\u308b\u5834\u5408\u306f\u4f7f\u3063\u3066\u307f\u3066\u3082\u826f\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059\u306d\uff01\uff01\n# Angular\u3067SSR\u3092\u3057\u3066\u307f\u308b\nSPA\u306e\u6575\u306f\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306e\u5927\u304d\u3044JS\u3084\u521d\u671f\u5316\u306b\u304b\u304b\u308b\u6642\u9593\u3067\u3059\u3002\n\n\u305d\u306e\u306a\u304b\u3067\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306fAoT\u3084uglify\u3067\u5c0f\u3055\u304f\u3057\u3066\u3044\u304f\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u521d\u671f\u5316\u306b\u304b\u304b\u308b\u6642\u9593\u3092\u6291\u3048\u308b\u306b\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c1\u3064\u306e\u89e3\u306b\u306a\u308a\u307e\u3059\u3002\n\nAngular\u3067\u306f\u73fe\u5728@angular/universal\u3068\u3044\u3046SSR\u3092\u5b9f\u73fe\u3059\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u3042\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3053\u308c\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\n## \u5229\u7528\u3059\u308b\u306b\u306f\nangular-universal\u3092\u5229\u7528\u3059\u308b\u306e\u3082\u3044\u3044\u3067\u3059\u304c\u3001\u3053\u3053\u306f\u7d20\u65e9\u304f\u5229\u7528\u3067\u304d\u308buniversal-starter\u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u3087\u3046\n\n\u307e\u305a\u306funiversal-starter\u3092clone\u3057\u3066\u304d\u307e\u3059\u3002\n\n```zsh\n% git clone git@github.com:angular/universal-starter\nCloning into 'universal-starter'...\nremote: Counting objects: 2070, done.\nremote: Compressing objects: 100% (23/23), done.\nremote: Total 2070 (delta 10), reused 0 (delta 0), pack-reused 2047\nReceiving objects: 100% (2070/2070), 370.34 KiB | 437.00 KiB/s, done.\nResolving deltas: 100% (1272/1272), done.\nChecking connectivity... done.\n```\n\n\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3001npm install\u3092\u5b9f\u884c\u3057\u307e\u3059\n\n```zsh\ncd universal-starter && npm install\n```\n\n\u8d77\u52d5\u3057\u3066\u307f\u308b\n\n```zsh\n% npm start\n\n> universal-starter@2.0.0 prestart /Users/teyosh/Test/advent/universal-starter\n> npm run build\n\n\n> universal-starter@2.0.0 prebuild /Users/teyosh/Test/advent/universal-starter\n> npm run clean:dist\n\n\n> universal-starter@2.0.0 clean:dist /Users/teyosh/Test/advent/universal-starter\n> rimraf dist\n\n\n> universal-starter@2.0.0 build /Users/teyosh/Test/advent/universal-starter\n> webpack  --progress\n\n[0] Hash: f3ecdceb6ff8b863cd64d0ac0448d61acda74259                            r Version: webpack 2.1.0-beta.27\nChild\n    Hash: f3ecdceb6ff8b863cd64\n    Version: webpack 2.1.0-beta.27\n    Time: 12533ms\n                 Asset     Size  Chunks             Chunk Names\n           0.bundle.js  2.23 kB       0  [emitted]\n        main.bundle.js  2.99 MB       1  [emitted]  main\n       0.bundle.js.map  2.35 kB       0  [emitted]\n    main.bundle.js.map  2.95 MB       1  [emitted]  main\n     [279] ./src async 160 bytes {1} [built]\n     [446] ./src/+app/+lazy async ^\\.\\/lazy\\.module.*$ 160 bytes {1} [built]\n        + 449 hidden modules\nChild\n    Hash: d0ac0448d61acda74259\n    Version: webpack 2.1.0-beta.27\n    Time: 12512ms\n             Asset     Size  Chunks             Chunk Names\n        0.index.js  2.24 kB       0  [emitted]\n          index.js  2.66 MB       1  [emitted]  main\n    0.index.js.map  2.35 kB       0  [emitted]\n      index.js.map  2.56 MB       1  [emitted]  main\n     [260] ./src async 160 bytes {1} [built]\n     [406] ./src/+app/+lazy async ^\\.\\/lazy\\.module.*$ 160 bytes {1} [built]\n        + 429 hidden modules\n\n> universal-starter@2.0.0 start /Users/teyosh/Test/advent/universal-starter\n> npm run server\n\n\n> universal-starter@2.0.0 server /Users/teyosh/Test/advent/universal-starter\n> nodemon dist/server/index.js\n\n[nodemon] 1.11.0\n[nodemon] to restart at any time, enter `rs`\n[nodemon] watching: /Users/teyosh/Test/advent/universal-starter/dist/**/* src/index.html\n[nodemon] starting `node dist/server/index.js`\nListening on: http://localhost:3000\n```\n\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\n\n```zsh\n/data.json Cache Miss\nGET /data.json 200 3.359 ms - 62\nGET /home 200 111.378 ms - -\n```\n\n<img width=\"996\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-12-19 14.19.16.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/5303/2b87c6d8-5ad2-c93a-b242-3fd38504705c.png\">\n\n\u3053\u3046\u306a\u308a\u307e\u3059\u3002\n\u3053\u308c\u3060\u3051\u3067\u306fSSR\u304b\u3069\u3046\u304b\u306f\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u306d\n\n## index.html\n\u3053\u3061\u3089\u304c\u30bd\u30fc\u30b9\u306eindex\u306b\u306a\u308a\u307e\u3059\n\n```html\n<!doctype html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Angular 2 Universal Starter</title>\n  <meta name=\"description\" content=\"Angular 2 Universal\">\n  <meta name=\"keywords\" content=\"Angular 2,Universal\">\n  <meta name=\"author\" content=\"PatrickJS\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1\">\n\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  <link rel=\"prerender\" href=\"http://localhost:3000/lazy\">\n  <link rel=\"preload\" href=\"/assets/logo.png\">\n  <base href=\"/\">\n\n</head>\n<body>\n\n  <app>\n    Loading Universal ...\n  </app>\n\n  <script async src=\"/main.bundle.js\"></script>\n</body>\n</html>\n```\n\n\u3067\u3001\u3053\u3063\u3061\u304c\u30d6\u30e9\u30a6\u30b6\u304c\u53d6\u5f97\u3057\u305findex\u306b\u306a\u308a\u307e\u3059\n\n```html\n\n<!DOCTYPE html><html><head>\n  <meta charset=\"UTF-8\">\n  <title>Angular 2 Universal Starter</title>\n  <meta name=\"description\" content=\"Angular 2 Universal\">\n  <meta name=\"keywords\" content=\"Angular 2,Universal\">\n  <meta name=\"author\" content=\"PatrickJS\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1\">\n\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  <link rel=\"prerender\" href=\"http://localhost:3000/lazy\">\n  <link rel=\"preload\" href=\"/assets/logo.png\">\n  <base href=\"/\">\n\n<style>*[_ngcontent-a72c-1] { padding:0; margin:0; font-family: 'Droid Sans', sans-serif; }\n    #universal[_ngcontent-a72c-1] { text-align:center; font-weight:bold; padding:15px 0; }\n    nav[_ngcontent-a72c-1] { background:#158126; min-height:40px; border-bottom:5px #046923 solid; }\n    nav[_ngcontent-a72c-1]   a[_ngcontent-a72c-1] { font-weight:bold; text-decoration:none; color:#fff; padding:20px; display:inline-block; }\n    nav[_ngcontent-a72c-1]   a[_ngcontent-a72c-1]:hover { background:#00AF36; }\n    .hero-universal[_ngcontent-a72c-1] { min-height:500px; display:block; padding:20px; background: url('/assets/logo.png') no-repeat center center; }\n    .inner-hero[_ngcontent-a72c-1] { background: rgba(255, 255, 255, 0.75); border:5px #ccc solid; padding:25px; }\n    .router-link-active[_ngcontent-a72c-1] { background-color: #00AF36; }\n    main[_ngcontent-a72c-1] { padding:20px 0; }\n    pre[_ngcontent-a72c-1] { font-size:12px; }</style><style>blockquote[_ngcontent-a72c-3] {\n  border-left:5px #158126 solid;\n  background:#fff;\n  padding:20px 20px 20px 40px;\n}\nblockquote[_ngcontent-a72c-3]::before {\n  left: 1em;\n}</style></head>\n<body>\n\n  <app _nghost-a72c-1=\"\">\n  <h3 _ngcontent-a72c-1=\"\" id=\"universal\">Angular2 Universal</h3>\n  <nav _ngcontent-a72c-1=\"\">\n    <a _ngcontent-a72c-1=\"\" routerLink=\"home\" routerLinkActive=\"router-link-active\" href=\"/home\" class=\"router-link-active\">Home</a>\n    <a _ngcontent-a72c-1=\"\" routerLink=\"about\" routerLinkActive=\"router-link-active\" href=\"/about\">About</a>\n    <a _ngcontent-a72c-1=\"\" routerLink=\"todo\" routerLinkActive=\"router-link-active\" href=\"/todo\">Todo</a>\n    <a _ngcontent-a72c-1=\"\" routerLink=\"lazy\" routerLinkActive=\"router-link-active\" href=\"/lazy\">Lazy</a>\n  </nav>\n  <div _ngcontent-a72c-1=\"\" class=\"hero-universal\">\n    <div _ngcontent-a72c-1=\"\" class=\"inner-hero\">\n      <div _ngcontent-a72c-1=\"\">\n        <span _ngcontent-a72c-1=\"\" xLarge=\"\" style=\"font-size:x-large;\">Universal JavaScript ftw!</span>\n      </div>\n\n      Two-way binding: <input _ngcontent-a72c-1=\"\" type=\"text\" value=\"ftw\">\n\n      <br _ngcontent-a72c-1=\"\">\n      <br _ngcontent-a72c-1=\"\">\n\n      <strong _ngcontent-a72c-1=\"\">Router-outlet:</strong>\n      <main _ngcontent-a72c-1=\"\">\n        <router-outlet _ngcontent-a72c-1=\"\"></router-outlet><home _nghost-a72c-3=\"\"><div _ngcontent-a72c-3=\"\" class=\"home\">\n  Home component\n  <strong _ngcontent-a72c-3=\"\">Async data call return value:</strong>\n  <pre _ngcontent-a72c-3=\"\">{\n  \"data\": \"This fake data came from the db on the server.\"\n}</pre>\n  <blockquote _ngcontent-a72c-3=\"\">This fake data came from the db on the server.</blockquote>\n</div>\n</home>\n      </main>\n    </div>\n  </div>\n  </app>\n\n  <script async=\"\" src=\"/main.bundle.js\"></script>\n\n\n<universal-script><script>\n try {window.UNIVERSAL_CACHE = ({\"APP_ID\":\"a72c\",\"CacheService\":\"{\\\"/data.json\\\":{\\\"data\\\":\\\"This fake data came from the db on the server.\\\"}}\"}) || {};} catch(e) {  console.warn(\"Angular Universal: There was a problem parsing data from the server\")}\n</script></universal-script></body></html>\n```\n\n`<app></app>`\u306e\u4e2d\u8eab\u304c\u751f\u6210\u3055\u308c\u3066\u30d6\u30e9\u30a6\u30b6\u306b\u9001\u3089\u308c\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u521d\u671f\u5316\u306e\u51e6\u7406\u304c\u7701\u304b\u308c\u308b\u306e\u306f\u3082\u3061\u308d\u3093\u3001SEO\u5bfe\u7b56\u3082\u3067\u304d\u308b\u4e00\u77f3\u4e8c\u9ce5\u3067\u3059\u3002\n\n# AoT\n\u3082\u3061\u308d\u3093AoT\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\n```zsh\n% npm run build:prod:ngc\n> universal-starter@2.0.0 build:prod:ngc /Users/teyosh/Test/advent/universal-starter\n> npm run clean:ngc && npm run ngc && npm run clean:dist && npm run build:prod\n\n\n> universal-starter@2.0.0 clean:ngc /Users/teyosh/Test/advent/universal-starter\n> rimraf **/*.ngfactory.ts **/*.css.shim.ts\n\n\n> universal-starter@2.0.0 ngc /Users/teyosh/Test/advent/universal-starter\n> ngc -p tsconfig.aot.json\n\n\n> universal-starter@2.0.0 clean:dist /Users/teyosh/Test/advent/universal-starter\n> rimraf dist\n\n\n> universal-starter@2.0.0 build:prod /Users/teyosh/Test/advent/universal-starter\n> webpack --config webpack.prod.config.ts\n\nHash: b1b2d9e2afd25d442e1f48118b7ce828e0579d81\nVersion: webpack 2.1.0-beta.27\nChild\n    Hash: b1b2d9e2afd25d442e1f\n    Version: webpack 2.1.0-beta.27\n    Time: 27017ms\n                          Asset     Size  Chunks             Chunk Names\n        72fdbbaf74c66f7684c5.js  5.62 kB       0  [emitted]\n                 main.bundle.js   616 kB       1  [emitted]  main\n    72fdbbaf74c66f7684c5.js.map  32.3 kB       0  [emitted]\n             main.bundle.js.map  4.53 MB       1  [emitted]  main\n                     stats.json  2.61 MB          [emitted]\n      [26] ./empty.js 191 bytes {1} [built]\n     [216] ./src async 160 bytes {1} [built]\n        + 351 hidden modules\nChild\n    Hash: 48118b7ce828e0579d81\n    Version: webpack 2.1.0-beta.27\n    Time: 27005ms\n              Asset     Size  Chunks             Chunk Names\n        0.bundle.js  8.94 kB       0  [emitted]\n           index.js  1.66 MB       1  [emitted]  main\n    0.bundle.js.map  32.4 kB       0  [emitted]\n       index.js.map  6.26 MB       1  [emitted]  main\n     [273] ./src async 160 bytes {1} [built]\n        + 435 hidden modules\n```\n\n\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306f\u7d50\u69cb\u5909\u308f\u308a\u307e\u3059\u3002\nAoT\u3057\u3066\u3044\u306a\u3044\u5834\u5408\n\n```zsh\n% ls -lh client\ntotal 11704\n-rw-r--r--  1 teyosh  staff    12K 12 19 14:50 0.bundle.js\n-rw-r--r--  1 teyosh  staff    20K 12 19 14:50 0.bundle.js.map\n-rw-r--r--  1 teyosh  staff   2.2K 12 19 14:50 1.bundle.js\n-rw-r--r--  1 teyosh  staff   2.3K 12 19 14:50 1.bundle.js.map\n-rw-r--r--  1 teyosh  staff   2.9M 12 19 14:50 main.bundle.js\n-rw-r--r--  1 teyosh  staff   2.8M 12 19 14:50 main.bundle.js.map\n\n% ls -lh server\ntotal 10296\n-rw-r--r--  1 teyosh  staff    12K 12 19 14:49 0.index.js\n-rw-r--r--  1 teyosh  staff    20K 12 19 14:49 0.index.js.map\n-rw-r--r--  1 teyosh  staff   2.2K 12 19 14:49 1.index.js\n-rw-r--r--  1 teyosh  staff   2.3K 12 19 14:49 1.index.js.map\n-rw-r--r--  1 teyosh  staff   2.5M 12 19 14:49 index.js\n-rw-r--r--  1 teyosh  staff   2.4M 12 19 14:50 index.js.map\n```\n\nAoT\u3057\u305f\u5834\u5408\n\n\n```zsh\n% ls -lh client\ntotal 15240\n-rw-r--r--  1 teyosh  staff   5.5K 12 19 14:58 72fdbbaf74c66f7684c5.js\n-rw-r--r--  1 teyosh  staff    31K 12 19 14:58 72fdbbaf74c66f7684c5.js.map\n-rw-r--r--  1 teyosh  staff   602K 12 19 14:58 main.bundle.js\n-rw-r--r--  1 teyosh  staff   4.3M 12 19 14:58 main.bundle.js.map\n-rw-r--r--  1 teyosh  staff   2.5M 12 19 14:58 stats.json\n\n% ls -lh server\ntotal 15560\n-rw-r--r--  1 teyosh  staff   8.7K 12 19 14:58 0.bundle.js\n-rw-r--r--  1 teyosh  staff    32K 12 19 14:58 0.bundle.js.map\n-rw-r--r--  1 teyosh  staff   1.6M 12 19 14:58 index.js\n-rw-r--r--  1 teyosh  staff   6.0M 12 19 14:58 index.js.map\n```\n\n\u307e\u3060\u307e\u3060\u3001\u958b\u767a\u4e2d\u3067\u4e0d\u5b89\u5b9a\u3067\u3059\u304c\u3001SEO\u5bfe\u7b56\u3084\u521d\u671f\u5316\u3067\u60a9\u3093\u3067\u3044\u308b\u5834\u5408\u306f\u4f7f\u3063\u3066\u307f\u3066\u3082\u826f\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059\u306d\uff01\uff01\n", "tags": ["angular"]}