{"context": "ECMAScript 6\uff082015\u5e746\u6708\u306b\u516c\u958b\u3055\u308c\u3001\u4eca\u3082\u306a\u304a\u6bd4\u8f03\u7684\u65b0\u3057\u3044 JavaScript\uff09\u306e\u5927\u76ee\u7389\u3067\u3042\u308b \u30a4\u30c6\u30ec\u30fc\u30bf \u3068 \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3002\u306a\u304b\u306a\u304b\u306b\u8907\u96d1\u3067\u5de8\u5927\u306a\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u3066\u3084\u3084\u3053\u3057\u3044\u3067\u3059\u3002\n\u305d\u3053\u3067\u4eca\u56de\u306f \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u3092\u3001\u9806\u3092\u8ffd\u3063\u3066\u7406\u89e3\u3067\u304d\u308b\u3088\u3046\u306b\u89e3\u8aac\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\nQiita: JavaScript \u306e \u30a4\u30c6\u30ec\u30fc\u30bf \u3092\u6975\u3081\u308b\uff01 \u2190\u3053\u3061\u3089\u304b\u3089\u8aad\u3080\u306e\u304c\u30aa\u30b9\u30b9\u30e1\u3067\u3059\nQiita: JavaScript \u306e \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u3092\u6975\u3081\u308b\uff01\uff08\u3053\u306e\u8a18\u4e8b\uff09\n\n\u307e\u305f\u3001\u5b9f\u7528\u7684\u306a\u30b5\u30f3\u30d7\u30eb\u3092\u300c3. \u5b9f\u7528\u30b5\u30f3\u30d7\u30eb\u300d\u306b\u793a\u3057\u307e\u3057\u305f\u3002\n\u521d\u3081\u306b\u3053\u3061\u3089\u3092\u898b\u3066\u3001\u4f55\u304c\u3067\u304d\u308b\u306e\u304b\u3092\u77e5\u3063\u3066\u304b\u3089\u8aad\u307f\u59cb\u3081\u308b\u306e\u3082\u30aa\u30b9\u30b9\u30e1\u3067\u3059\u3002\n\uff082017\u5e743\u6708\u73fe\u5728\u3001\u30aa\u30fc\u30d7\u30f3\u306a\u30da\u30fc\u30b8\u3067\u306e\u4f7f\u7528\u306f\u307e\u3060\u907f\u3051\u305f\u307b\u3046\u304c\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u5b9f\u88c5\u306f\u78ba\u5b9f\u306b\u9032\u3093\u3067\u3044\u307e\u3059\u3002ECMAScript 6 compatibility table\uff09\n\n1. \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u3068\u306f\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u306f\u3001\u30a4\u30c6\u30ec\u30fc\u30bf \u3092\u5f37\u529b\u306b\u30b5\u30dd\u30fc\u30c8 \u3059\u308b\u3082\u306e\u3067\u3059\u3002\n\u4f8b\u3048\u3070\u30011\uff5e20\u306e\u6570\u3092\u9806\u756a\u306b\u53d6\u308a\u51fa\u3059 for-of\u6587 \u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\uff08\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u306f\u4f7f\u3063\u3066\u3044\u307e\u305b\u3093\u3002\uff09\n\n1\uff5e20\u306e\u6570\u3092\u9806\u756a\u306b\u53d6\u308a\u51fa\u3059for-of\u6587\nvar ary = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20];\nfor(var num of ary) console.log(num);\n/*\n  1\n  2\n  3\n  ...\n  20\n*/\n\n\n\u3053\u306e\u66f8\u304d\u65b9\u3067\u3082\u5341\u5206\u306b\u5206\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002\n\u3057\u304b\u3057\u3001\u53d6\u308a\u51fa\u3059\u6570\u304c1\u305a\u3064\u5897\u3048\u3066\u3044\u304f\u3068\u3044\u3046\u51e6\u7406\u3092\u3001\u95a2\u6570\u3067\u30b9\u30de\u30fc\u30c8\u306b\u66f8\u304d\u305f\u3044\u3082\u306e\u3067\u3059\u3002\n\u305d\u3053\u3067\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u3092\u4f7f\u3048\u3070\u3082\u3063\u3068\u30b9\u30de\u30fc\u30c8\u306b\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u4f7f\u3063\u30661\uff5e20\u306e\u6570\u3092\u9806\u756a\u306b\u53d6\u308a\u51fa\u3059for-of\u6587\nfunction* gfn(from, to){ while(from <= to) yield from++; }\nvar g = gfn(1, 20);\nfor(var num of g) console.log(num);\n/*\n  1\n  2\n  3\n  ...\n  20\n*/\n\n\n\u3053\u306e\u3088\u3046\u306a\u7c21\u5358\u306a\u4f8b\u3060\u3051\u3067\u306a\u304f\u30012\u500d\u305a\u3064\u306b\u3057\u3066\u9806\u756a\u306b\u53d6\u308a\u51fa\u3057\u305f\u308a\u3001\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u6570\u5217\u3092\u9806\u756a\u306b\u53d6\u308a\u51fa\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\u3053\u306e\u3088\u3046\u306b\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u306f \u30a4\u30c6\u30ec\u30fc\u30bf \u3092\u5f37\u529b\u306b\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002\n\u3053\u3053\u306b\u304a\u3044\u3066\u3001\n\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u306f\u3001function* gfn(from, to){ while(from <= to) yield from++; }\u3001\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u306f\u3001gfn(1, 20) \u306e\u3088\u3046\u306b \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u304b\u3089\u5f97\u308b\u3053\u3068\u306e\u3067\u304d\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\n\u3092\u3001\u305d\u308c\u305e\u308c\u6307\u3059\u7528\u8a9e\u3067\u3059\u3002\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u306f\u3001\u30a4\u30c6\u30e9\u30d6\u30eb \u3067\u3042\u308a\u3001\u306a\u304a\u304b\u3064 \u30a4\u30c6\u30ec\u30fc\u30bf \u3067\u3082\u3042\u308a\u307e\u3059\u3002\n\u3064\u307e\u308a\u3001Qiita: JavaScript \u306e \u30a4\u30c6\u30ec\u30fc\u30bf \u3092\u6975\u3081\u308b\uff01 \u306e 2.6.2. \u30a4\u30c6\u30e9\u30d6\u30eb\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u306e\u5229\u7528\u6cd5 \u3067\u7d39\u4ecb\u3057\u305f\u3088\u3046\u306a\u5229\u7528\u6cd5\u304c\u3067\u304d\u307e\u3059\u3002\n\n2. \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u3092\u4f7f\u3046\n\n2.1. \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u306e\u66f8\u304d\u65b9\u3001\u4f7f\u3044\u65b9\n\u4fbf\u5229\u306a \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u306e\u66f8\u304d\u65b9\u3092\u5b66\u3073\u307e\u3057\u3087\u3046\u3002\u3068\u3044\u3063\u3066\u3082\u3001\u666e\u901a\u306e\u95a2\u6570\u306e\u66f8\u304d\u65b9\u3068\u307b\u3068\u3093\u3069\u9055\u3044\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u666e\u901a\u306e\u95a2\u6570\u3068\u9055\u3046\u70b9\u306f\u3001\u4ee5\u4e0b\u306e\u305f\u3063\u305f2\u70b9\u3060\u3051\u3067\u3059\u3002\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u306f\u3001function* gfn(){} \u307e\u305f\u306f var gfn = function*(){}; \u306e\u3088\u3046\u306b\u3001function \u306e\u3042\u3068\u306b * \u3092\u8a18\u8ff0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u3067\u306f\u3001yield \u53ca\u3073 yield* \u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u308b\n\n\n\u4f8b\u3068\u3057\u3066\u7c21\u5358\u306a \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570\nfunction* gfn(){\n    var a = yield 0;\n    yield* [1, a, 5];\n}\n\n\n\u3053\u308c\u3067 \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570\u306f\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u304b\u3089 \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u3092\u4f5c\u308b\u306b\u306f\u3001\u5358\u306b gfn() \u306e\u3088\u3046\u306b\u8a18\u8ff0\u3059\u308c\u3070\u30aa\u30c3\u30b1\u30fc\u3067\u3059\u3002\n\u305f\u3060\u3057\u3001gfn() \u306e\u6642\u70b9\u3067\u306f\u95a2\u6570\u306e\u4e2d\u8eab\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044\u3053\u3068\u306f\u8981\u6ce8\u610f\u3067\u3059\u3002\n\u95a2\u6570\u306e\u4e2d\u8eab\u306f\u3001gfn() \u3067\u751f\u6210\u3055\u308c\u305f \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u304b\u3089 .next() \u3067\u5024\u3092\u53d6\u308a\u51fa\u3059\u6642\u70b9\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570\u304b\u3089\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u4f5c\u3063\u3066\u5b9f\u884c\u3059\u308b\nfunction* gfn(){\n    var a = yield 0;\n    yield* [1, a, 5];\n}\n\nvar g = gfn(); // \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u4f5c\u3063\u305f\u3002\u3053\u306e\u6642\u70b9\u3067\u306f\u307e\u3060\u95a2\u6570\u306e\u4e2d\u8eab\u306f\u5b9f\u884c\u3055\u308c\u306a\u3044\n\n// g.next() \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u95a2\u6570\u306e\u4e2d\u8eab\u304c\u9806\u756a\u306b\u5b9f\u884c\u3055\u308c\u308b\nconsole.log( g.next() ); //  { value: 0, done: false }\nconsole.log( g.next(3) ); // { value: 1, done: false }\nconsole.log( g.next() ); //  { value: 3, done: false }\nconsole.log( g.next() ); //  { value: 5, done: false }\nconsole.log( g.next() ); //  { value: undefined, done: true }\n\n\n\u305d\u308c\u3067\u306f\u3001\u3082\u3063\u3068\u7c21\u5358\u306a\u30b3\u30fc\u30c9\u3092\u4f8b\u306b\u3057\u3066\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u306e\u4ed5\u7d44\u307f\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n2.2. yield\n\n\nyield\u5f0f\nfunction* gfn(n){\n    n++;\n    yield n;\n    n *= 2;\n    yield n;\n    n = 0;\n    yield n;\n}\n\nvar g = gfn(10); // \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u4f5c\u3063\u305f\n\nconsole.log( g.next() ); // { value: 11, done: false }\n// n++; \u304c\u5b9f\u884c\u3055\u308c\u305f\u5f8c\u3001yield n; \u306b\u3088\u3063\u3066 n \u306e\u5024\u304c\u8fd4\u3055\u308c\u305f\u3002\n\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u3092\u4f5c\u3063\u3066 .next() \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6700\u521d\u306e yield \u304c\u51fa\u3066\u304f\u308b\u307e\u3067\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\nyield \u307e\u3067\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u308b\u3068\u3001\u95a2\u6570\u306e\u5b9f\u884c\u306f\u3044\u3063\u305f\u3093\u505c\u6b62\u3057\u3001\u30a4\u30c6\u30ec\u30fc\u30bf\u30ea\u30b6\u30eb\u30c8\u3068\u3057\u3066\u5024\u304c\u8fd4\u3055\u308c\u307e\u3059\u3002\n\u518d\u3073 .next() \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u3044\u3063\u305f\u3093\u505c\u6b62\u3057\u305f\u4f4d\u7f6e\u304b\u3089\u518d\u3073\u95a2\u6570\u304c\u518d\u958b\u3055\u308c\u3001\u6b21\u306e yield \u307e\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\u6700\u5f8c\u307e\u3067\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u308b\u3068\u3001\u30a4\u30c6\u30ec\u30fc\u30bf\u30ea\u30b6\u30eb\u30c8\u306e .done \u304c true \u306b\u306a\u308a\u3001\u95a2\u6570\u306e\u5b9f\u884c\u304c\u7d42\u4e86\u3057\u307e\u3059\u3002\n\nyield\u5f0f\nfunction* gfn(n){\n    n++;\n    yield n;\n    n *= 2;\n    yield n;\n    n = 0;\n    yield n;\n}\n\nvar g = gfn(10); // \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u4f5c\u3063\u305f\n\nconsole.log( g.next() ); // { value: 11, done: false }\n// n++; \u304c\u5b9f\u884c\u3055\u308c\u305f\u5f8c\u3001yield n; \u306b\u3088\u3063\u3066 n \u306e\u5024\u304c\u8fd4\u3055\u308c\u305f\u3002\n\nconsole.log( g.next() ); // { value: 22, done: false }\n// n *= 2; \u304c\u5b9f\u884c\u3055\u308c\u305f\u5f8c\u3001yield n; \u306b\u3088\u3063\u3066 n \u306e\u5024\u304c\u8fd4\u3055\u308c\u305f\u3002\n\nconsole.log( g.next() ); // { value: 0, done: false }\n// n = 0; \u304c\u5b9f\u884c\u3055\u308c\u305f\u5f8c\u3001yield n; \u306b\u3088\u3063\u3066 n \u306e\u5024\u304c\u8fd4\u3055\u308c\u305f\u3002\n\nconsole.log( g.next() ); // { value: undefined, done: true }\n// \u95a2\u6570\u306e\u5b9f\u884c\u304c\u7d42\u4e86\u3057\u305f\u306e\u3067\u3001.done \u304c true \u306b\u306a\u3063\u305f\u3002\n\n\n\n2.3. \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306b\u5024\u3092\u6e21\u3059\n.next(val) \u306e\u3088\u3046\u306b\u5024\u3092\u6e21\u3057\u3066\u3084\u308b\u3053\u3068\u3067\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306b\u5024\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306b\u5024\u3092\u6e21\u3059\nfunction* gfn(){\n    var a = yield \"first\";\n    var b = yield \"second\";\n    yield a + b;\n}\n\nvar g = gfn();\n\nconsole.log( g.next() ); // { value: \"first\", done: false }\n\nconsole.log( g.next(3) ); // { value: \"second\", done: false }\n// yield \"first\" \u306e\u90e8\u5206\u304c 3 \u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u308b\n\nconsole.log( g.next(5) ); // { value: 8, done: false }\n// yield \"second\" \u306e\u90e8\u5206\u304c 5 \u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u308b\n\nconsole.log( g.next() ); // { value: undefined, done: true }\n\n\ng.next(3) \u306a\u3069\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570\u306e\u4e2d\u8eab\u306b\u5024\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\u6e21\u3057\u305f\u5024\u306f\u3001\u76f4\u524d\u306b\u3044\u3063\u305f\u3093\u505c\u6b62\u3057\u305f yield \u3068\u7f6e\u304d\u63db\u3048\u3089\u308c\u305f\u3088\u3046\u306b\u6e21\u3055\u308c\u307e\u3059\u3002\n\n2.4. yield*\n\nyield \u306e\u307b\u304b\u306b yield* \u3068\u3044\u3046\u4fbf\u5229\u306a\u5f0f\u304c\u3042\u308a\u307e\u3059\u3002\nyield* \u306b\u306f \u30a4\u30c6\u30e9\u30d6\u30eb\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u3092\u4e0e\u3048\u307e\u3059\u3002\n\u3059\u308b\u3068\u3001\u30a4\u30c6\u30e9\u30d6\u30eb\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u304b\u3089\u9806\u756a\u306b\u5024\u3092\u53d6\u308a\u51fa\u3057\u3001\u305d\u308c\u305e\u308c\u306e\u5024\u306b\u5bfe\u3057\u3066 yield \u3092\u884c\u3063\u3066\u304f\u308c\u307e\u3059\u3002\n\nyield*\u5f0f\nfunction* gfn(){\n    yield* [1, 3, 5];\n}\n\nvar g = gfn();\n\nconsole.log( g.next() ); // { value: 1, done: false }\nconsole.log( g.next() ); // { value: 3, done: false }\nconsole.log( g.next() ); // { value: 5, done: false }\nconsole.log( g.next() ); // { value: undefined, done: true }\n\n\n\nyield*\u5f0f\nfunction* gfn(){\n    yield* \"\u3072\u3088\u3053\";\n}\n\nvar g = gfn();\n\nconsole.log( g.next() ); // { value: \"\u3072\", done: false }\nconsole.log( g.next() ); // { value: \"\u3088\", done: false }\nconsole.log( g.next() ); // { value: \"\u3053\", done: false }\nconsole.log( g.next() ); // { value: undefined, done: true }\n\n\n\u3064\u307e\u308a\u3001for(var v of iterable) yield v; \u3068\u540c\u69d8\u306e\u51e6\u7406\u3092\u884c\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u308f\u3051\u3067\u3059\u3002\n\n2.5. \u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\n\u5168\u3066\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u304c \u30a4\u30c6\u30e9\u30d6\u30eb\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u3067\u3042\u308b\u3053\u3068\u3092\u5229\u7528\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u5229\u7528\u3059\u308b\nfunction* gfn(){\n    yield 1;\n    yield* [2, 1, 2];\n}\n\nfor(var num of gfn()) console.log(num);\n/*\n  1\n  2\n  1\n  2\n*/\n\nconsole.log( [...gfn()] ); // [1, 2, 1, 2]\n\nconsole.log( Math.max(...gfn()) ); // 2\n\nvar [a, b, c, d] = gfn();\nconsole.log(a, b, c, d); // 1, 2, 1, 2\n\nconsole.log( new Set(gfn()) ); // Set {1, 2}\n\n\n\n2.6. \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u306e\u3082\u3046\u4e00\u3064\u306e\u5229\u7528\u6cd5\n\u4eca\u307e\u3067\u898b\u3066\u304d\u305f \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u306f\u3001\u30a4\u30c6\u30ec\u30fc\u30bf \u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u91cd\u70b9\u3092\u7f6e\u3044\u3066\u304d\u307e\u3057\u305f\u3002\n\u3057\u304b\u3057\u3001\u898b\u65b9\u3092\u5909\u3048\u308c\u3070\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u306f\u3082\u3046\u4e00\u3064\u306e\u4f7f\u3044\u65b9\u304c\u3067\u304d\u307e\u3059\u3002\n\u305d\u308c\u306f\u3001\u81ea\u7531\u306b\u9014\u4e2d\u3067\u3044\u3063\u305f\u3093\u505c\u6b62\u3067\u304d\u308b\u95a2\u6570 \u3068\u3044\u3046\u898b\u65b9\u3067\u3059\u3002\n\n\u30da\u30fc\u30b8\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u305f\u3073\u306b\u3072\u3068\u3064\u305a\u3064\u30a2\u30e9\u30fc\u30c8\u3092\u51fa\u3059\nfunction* gfn(){\n    alert(\"\u3053\u3093\u306b\u3061\u306f\uff01\"); yield;\n    alert(\"\u826f\u3044\u5929\u6c17\u3067\u3059\u306d\u3002\"); yield;\n    alert(\"\u3055\u3088\u3046\u306a\u3089\uff01\");\n}\nvar g = gfn();\ndocument.onclick = function(){ g.next(); }; // \u30da\u30fc\u30b8\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u305f\u3073\u306b g.next(); \u3092\u5b9f\u884c\u3059\u308b\n\n\n\u30b3\u30fc\u30c9\u4e2d\u306e yield \u306e\u6642\u70b9\u3067\u3001\u95a2\u6570\u306e\u5b9f\u884c\u3092\u3044\u3063\u305f\u3093\u505c\u6b62\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b \u3068\u8003\u3048\u308b\u3068\u3001\u5206\u304b\u308a\u3084\u3059\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\u975e\u540c\u671f\u51e6\u7406\u3092\u3059\u308b\u969b\u306b\u3001\u304b\u306a\u308a\u306e\u529b\u3092\u767a\u63ee\u3057\u307e\u3059\u3002\n\n3. \u5b9f\u7528\u30b5\u30f3\u30d7\u30eb\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u3067\u8aac\u660e\u3059\u308b\u3053\u3068\u306f\u4ee5\u4e0a\u3067\u3059\u304c\u3001\u5b9f\u969b\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u306a\u3044\u3068\u3001\u3069\u306e\u3088\u3046\u306b\u3064\u304b\u3048\u308b\u304b\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u3064\u304d\u306b\u304f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u3044\u304f\u3064\u304b\u30b5\u30f3\u30d7\u30eb\u3092\u6319\u3052\u307e\u3059\u306e\u3067\u3001\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n1000\u4ee5\u4e0b\u306e\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u6570\u3092\u5217\u6319\u3059\u308b\nfunction* fibonacci(){\n    var a = 0, b = 1, temp;\n    while(true){\n        temp = a + b;\n        a = b; b = temp;\n        yield a;\n    }\n}\n\nvar g = fibonacci();\nfor(var num of g){\n    if(num > 1000) break;\n    console.log(num);\n}\n/*\n  1\n  2\n  3\n  5\n  8\n  13\n  21\n  34\n  55\n  89\n  144\n  233\n  377\n  610\n  987\n*/\n\n\n\n\u30e9\u30f3\u30c0\u30e0\u306a\u81ea\u7136\u6570\u306e\u914d\u5217\u3092\u4f5c\u308b\nfunction* randomIntArray(max, len){\n    for(var i=0;i<len;i++) yield Math.floor(Math.random() * max) + 1;\n}\n\nconsole.log( [...randomIntArray(2, 10)] ); // \u4f8b\uff1a[1, 2, 1, 1, 1, 2, 2, 2, 1, 2]\nconsole.log( [...randomIntArray(6, 4)] ); // \u4f8b\uff1a[1, 6, 2, 4]\n\n\n\n\u7d44\u307f\u5408\u308f\u305b\u3092\u9806\u756a\u306b\u53d6\u308a\u51fa\u3059\nfunction* combination(ary, len){\n    yield* (function* gfn(a, ary){\n        if(a.length < len){\n            for(var i=0;i<ary.length-len+a.length+1;i++){\n                yield* gfn(a.concat(ary[i]), ary.slice(i+1));\n            }\n        }\n        else yield a;\n    })([], ary);\n}\n\nfor(v of combination([1,2,3], 2)) console.log(v);\n/*\n  [1, 2]\n  [1, 3]\n  [2, 3]\n*/\n\nfor(v of combination([\"A\", \"B\", \"C\", \"D\", \"E\"], 3)) console.log(v.join(\"\"));\n/*\n  ABC\n  ABD\n  ABE\n  ACD\n  ACE\n  ADE\n  BCD\n  BCE\n  BDE\n  CDE\n*/\n\n\n\n\u975e\u540c\u671f\u51e6\u7406\u3092\u5206\u304b\u308a\u3084\u3059\u304f\u66f8\u304f\nfunction easyAsync(gfn){\n    var g = gfn();\n    (function ok(value){\n        var result = g.next(value);\n        if(!result.done) result.value(ok);\n    })();\n}\n\neasyAsync(function*(){\n    alert(\"\u3053\u3093\u306b\u3061\u306f\uff01\");\n    yield function(ok){\n        setTimeout(ok, 3000);\n    };\n    alert(\"3\u79d2\u305f\u3061\u307e\u3057\u305f\uff01\");\n    yield function(ok){\n        document.onclick = ok;\n    };\n    document.onclick = null;\n    alert(\"\u30da\u30fc\u30b8\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3057\u305f\uff01\");\n    var sourse = yield function(ok){\n        var xhr = new XMLHttpRequest();\n        xhr.open(\"GET\", location.href, true);\n        xhr.send(null);\n        xhr.onload = function(){ ok(xhr.responseText); };\n    };\n    alert(\"\u3053\u306e\u30da\u30fc\u30b8\u306e\u30bd\u30fc\u30b9\u306f\" + sourse.length + \"\u6587\u5b57\u3067\u3059\uff01\");\n});\n\n\n\n4. \u53c2\u8003\nECMAScript 2015 Language Specification \u2013 ECMA-262 6th Edition\nIterators and generators - JavaScript | MDN\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306b\u3064\u3044\u3066 - JS.next\nECMAScript 6 compatibility table\n*ECMAScript 6*\uff082015\u5e746\u6708\u306b\u516c\u958b\u3055\u308c\u3001\u4eca\u3082\u306a\u304a\u6bd4\u8f03\u7684\u65b0\u3057\u3044 *JavaScript*\uff09\u306e\u5927\u76ee\u7389\u3067\u3042\u308b <font color=#c70>\u30a4\u30c6\u30ec\u30fc\u30bf</font> \u3068 <font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font>\u3002\u306a\u304b\u306a\u304b\u306b\u8907\u96d1\u3067\u5de8\u5927\u306a\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u3066\u3084\u3084\u3053\u3057\u3044\u3067\u3059\u3002\n\u305d\u3053\u3067\u4eca\u56de\u306f <font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u3092\u3001\u9806\u3092\u8ffd\u3063\u3066\u7406\u89e3\u3067\u304d\u308b\u3088\u3046\u306b\u89e3\u8aac\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n* [Qiita: JavaScript \u306e \u30a4\u30c6\u30ec\u30fc\u30bf \u3092\u6975\u3081\u308b\uff01](http://qiita.com/kura07/items/cf168a7ea20e8c2554c6) \u2190\u3053\u3061\u3089\u304b\u3089\u8aad\u3080\u306e\u304c\u30aa\u30b9\u30b9\u30e1\u3067\u3059\n* **[Qiita: JavaScript \u306e \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u3092\u6975\u3081\u308b\uff01]()\uff08\u3053\u306e\u8a18\u4e8b\uff09**\n\n\u307e\u305f\u3001\u5b9f\u7528\u7684\u306a\u30b5\u30f3\u30d7\u30eb\u3092\u300c[3. \u5b9f\u7528\u30b5\u30f3\u30d7\u30eb][3.]\u300d\u306b\u793a\u3057\u307e\u3057\u305f\u3002\n\u521d\u3081\u306b\u3053\u3061\u3089\u3092\u898b\u3066\u3001\u4f55\u304c\u3067\u304d\u308b\u306e\u304b\u3092\u77e5\u3063\u3066\u304b\u3089\u8aad\u307f\u59cb\u3081\u308b\u306e\u3082\u30aa\u30b9\u30b9\u30e1\u3067\u3059\u3002\n\n\uff082017\u5e743\u6708\u73fe\u5728\u3001\u30aa\u30fc\u30d7\u30f3\u306a\u30da\u30fc\u30b8\u3067\u306e\u4f7f\u7528\u306f\u307e\u3060\u907f\u3051\u305f\u307b\u3046\u304c\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u5b9f\u88c5\u306f\u78ba\u5b9f\u306b\u9032\u3093\u3067\u3044\u307e\u3059\u3002[ECMAScript 6 compatibility table](http://kangax.github.io/compat-table/es6/#test-generators)\uff09\n\n# 1. <font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font>\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u3068\u306f\n\n**<font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u306f\u3001<font color=#c70>\u30a4\u30c6\u30ec\u30fc\u30bf</font> \u3092\u5f37\u529b\u306b\u30b5\u30dd\u30fc\u30c8** \u3059\u308b\u3082\u306e\u3067\u3059\u3002\n\n\u4f8b\u3048\u3070\u30011\uff5e20\u306e\u6570\u3092\u9806\u756a\u306b\u53d6\u308a\u51fa\u3059 for-of\u6587 \u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\uff08<font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u306f\u4f7f\u3063\u3066\u3044\u307e\u305b\u3093\u3002\uff09\n\n```js:1\uff5e20\u306e\u6570\u3092\u9806\u756a\u306b\u53d6\u308a\u51fa\u3059for-of\u6587\nvar ary = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20];\nfor(var num of ary) console.log(num);\n/*\n  1\n  2\n  3\n  ...\n  20\n*/\n```\n\n\u3053\u306e\u66f8\u304d\u65b9\u3067\u3082\u5341\u5206\u306b\u5206\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002\n\u3057\u304b\u3057\u3001\u53d6\u308a\u51fa\u3059\u6570\u304c1\u305a\u3064\u5897\u3048\u3066\u3044\u304f\u3068\u3044\u3046\u51e6\u7406\u3092\u3001\u95a2\u6570\u3067\u30b9\u30de\u30fc\u30c8\u306b\u66f8\u304d\u305f\u3044\u3082\u306e\u3067\u3059\u3002\n\u305d\u3053\u3067\u3001**<font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u3092\u4f7f\u3048\u3070\u3082\u3063\u3068\u30b9\u30de\u30fc\u30c8\u306b\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059**\u3002\n\n```js:\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u4f7f\u3063\u30661\uff5e20\u306e\u6570\u3092\u9806\u756a\u306b\u53d6\u308a\u51fa\u3059for-of\u6587\nfunction* gfn(from, to){ while(from <= to) yield from++; }\nvar g = gfn(1, 20);\nfor(var num of g) console.log(num);\n/*\n  1\n  2\n  3\n  ...\n  20\n*/\n```\n\n\u3053\u306e\u3088\u3046\u306a\u7c21\u5358\u306a\u4f8b\u3060\u3051\u3067\u306a\u304f\u30012\u500d\u305a\u3064\u306b\u3057\u3066\u9806\u756a\u306b\u53d6\u308a\u51fa\u3057\u305f\u308a\u3001\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u6570\u5217\u3092\u9806\u756a\u306b\u53d6\u308a\u51fa\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\u3053\u306e\u3088\u3046\u306b\u3001<font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u306f <font color=#c70>\u30a4\u30c6\u30ec\u30fc\u30bf</font> \u3092\u5f37\u529b\u306b\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002\n\n\u3053\u3053\u306b\u304a\u3044\u3066\u3001\n\n* **\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u306f\u3001`function* gfn(from, to){ while(from <= to) yield from++; }`**\u3001\n* **<font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u306f\u3001`gfn(1, 20)` \u306e\u3088\u3046\u306b \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u304b\u3089\u5f97\u308b\u3053\u3068\u306e\u3067\u304d\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8**\n\n\u3092\u3001\u305d\u308c\u305e\u308c\u6307\u3059\u7528\u8a9e\u3067\u3059\u3002\n\n<font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u306f\u3001\u30a4\u30c6\u30e9\u30d6\u30eb \u3067\u3042\u308a\u3001\u306a\u304a\u304b\u3064 <font color=#c70>\u30a4\u30c6\u30ec\u30fc\u30bf</font> \u3067\u3082\u3042\u308a\u307e\u3059\u3002\n\u3064\u307e\u308a\u3001[Qiita: JavaScript \u306e \u30a4\u30c6\u30ec\u30fc\u30bf \u3092\u6975\u3081\u308b\uff01](http://qiita.com/kura07/items/cf168a7ea20e8c2554c6) \u306e [2.6.2. \u30a4\u30c6\u30e9\u30d6\u30eb\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u306e\u5229\u7528\u6cd5](http://qiita.com/kura07/items/cf168a7ea20e8c2554c6#262-%E3%82%A4%E3%83%86%E3%83%A9%E3%83%96%E3%83%AB%E3%81%AA%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88-%E3%81%AE%E5%88%A9%E7%94%A8%E6%B3%95) \u3067\u7d39\u4ecb\u3057\u305f\u3088\u3046\u306a\u5229\u7528\u6cd5\u304c\u3067\u304d\u307e\u3059\u3002\n\n# 2. <font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u3092\u4f7f\u3046\n\n## 2.1. \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u306e\u66f8\u304d\u65b9\u3001\u4f7f\u3044\u65b9\n\n\u4fbf\u5229\u306a \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u306e\u66f8\u304d\u65b9\u3092\u5b66\u3073\u307e\u3057\u3087\u3046\u3002\u3068\u3044\u3063\u3066\u3082\u3001\u666e\u901a\u306e\u95a2\u6570\u306e\u66f8\u304d\u65b9\u3068\u307b\u3068\u3093\u3069\u9055\u3044\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n**\u666e\u901a\u306e\u95a2\u6570\u3068\u9055\u3046\u70b9\u306f\u3001\u4ee5\u4e0b\u306e\u305f\u3063\u305f2\u70b9\u3060\u3051**\u3067\u3059\u3002\n\n* \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u306f\u3001`function* gfn(){}` \u307e\u305f\u306f `var gfn = function*(){};` \u306e\u3088\u3046\u306b\u3001**`function` \u306e\u3042\u3068\u306b `*` \u3092\u8a18\u8ff0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b**\n* \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u3067\u306f\u3001**`yield` \u53ca\u3073 `yield*` \u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u308b**\n\n\u4f8b\u3068\u3057\u3066\u7c21\u5358\u306a \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```js:\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570\nfunction* gfn(){\n\tvar a = yield 0;\n\tyield* [1, a, 5];\n}\n```\n\n\u3053\u308c\u3067 \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570\u306f\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u304b\u3089 <font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u3092\u4f5c\u308b\u306b\u306f\u3001\u5358\u306b `gfn()` \u306e\u3088\u3046\u306b\u8a18\u8ff0\u3059\u308c\u3070\u30aa\u30c3\u30b1\u30fc\u3067\u3059\u3002\n\u305f\u3060\u3057\u3001**`gfn()` \u306e\u6642\u70b9\u3067\u306f\u95a2\u6570\u306e\u4e2d\u8eab\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044\u3053\u3068\u306f\u8981\u6ce8\u610f\u3067\u3059**\u3002\n\u95a2\u6570\u306e\u4e2d\u8eab\u306f\u3001`gfn()` \u3067\u751f\u6210\u3055\u308c\u305f <font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u304b\u3089 `.next()` \u3067\u5024\u3092\u53d6\u308a\u51fa\u3059\u6642\u70b9\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\n```js:\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570\u304b\u3089\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u4f5c\u3063\u3066\u5b9f\u884c\u3059\u308b\nfunction* gfn(){\n\tvar a = yield 0;\n\tyield* [1, a, 5];\n}\n\nvar g = gfn(); // \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u4f5c\u3063\u305f\u3002\u3053\u306e\u6642\u70b9\u3067\u306f\u307e\u3060\u95a2\u6570\u306e\u4e2d\u8eab\u306f\u5b9f\u884c\u3055\u308c\u306a\u3044\n\n// g.next() \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u95a2\u6570\u306e\u4e2d\u8eab\u304c\u9806\u756a\u306b\u5b9f\u884c\u3055\u308c\u308b\nconsole.log( g.next() ); //  { value: 0, done: false }\nconsole.log( g.next(3) ); // { value: 1, done: false }\nconsole.log( g.next() ); //  { value: 3, done: false }\nconsole.log( g.next() ); //  { value: 5, done: false }\nconsole.log( g.next() ); //  { value: undefined, done: true }\n```\n\n\u305d\u308c\u3067\u306f\u3001\u3082\u3063\u3068\u7c21\u5358\u306a\u30b3\u30fc\u30c9\u3092\u4f8b\u306b\u3057\u3066\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u306e\u4ed5\u7d44\u307f\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n## 2.2. `yield`\n\n```js:yield\u5f0f\nfunction* gfn(n){\n\tn++;\n\tyield n;\n\tn *= 2;\n\tyield n;\n\tn = 0;\n\tyield n;\n}\n\nvar g = gfn(10); // \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u4f5c\u3063\u305f\n\nconsole.log( g.next() ); // { value: 11, done: false }\n// n++; \u304c\u5b9f\u884c\u3055\u308c\u305f\u5f8c\u3001yield n; \u306b\u3088\u3063\u3066 n \u306e\u5024\u304c\u8fd4\u3055\u308c\u305f\u3002\n```\n\n<font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u3092\u4f5c\u3063\u3066 **`.next()` \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6700\u521d\u306e `yield` \u304c\u51fa\u3066\u304f\u308b\u307e\u3067\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059**\u3002\n`yield` \u307e\u3067\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u308b\u3068\u3001**\u95a2\u6570\u306e\u5b9f\u884c\u306f\u3044\u3063\u305f\u3093\u505c\u6b62\u3057\u3001\u30a4\u30c6\u30ec\u30fc\u30bf\u30ea\u30b6\u30eb\u30c8\u3068\u3057\u3066\u5024\u304c\u8fd4\u3055\u308c\u307e\u3059**\u3002\n\n**\u518d\u3073 `.next()` \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u3044\u3063\u305f\u3093\u505c\u6b62\u3057\u305f\u4f4d\u7f6e\u304b\u3089\u518d\u3073\u95a2\u6570\u304c\u518d\u958b\u3055\u308c\u3001\u6b21\u306e `yield` \u307e\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059**\u3002\n\u6700\u5f8c\u307e\u3067\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u308b\u3068\u3001\u30a4\u30c6\u30ec\u30fc\u30bf\u30ea\u30b6\u30eb\u30c8\u306e `.done` \u304c `true` \u306b\u306a\u308a\u3001\u95a2\u6570\u306e\u5b9f\u884c\u304c\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n```js:yield\u5f0f\nfunction* gfn(n){\n\tn++;\n\tyield n;\n\tn *= 2;\n\tyield n;\n\tn = 0;\n\tyield n;\n}\n\nvar g = gfn(10); // \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u4f5c\u3063\u305f\n\nconsole.log( g.next() ); // { value: 11, done: false }\n// n++; \u304c\u5b9f\u884c\u3055\u308c\u305f\u5f8c\u3001yield n; \u306b\u3088\u3063\u3066 n \u306e\u5024\u304c\u8fd4\u3055\u308c\u305f\u3002\n\nconsole.log( g.next() ); // { value: 22, done: false }\n// n *= 2; \u304c\u5b9f\u884c\u3055\u308c\u305f\u5f8c\u3001yield n; \u306b\u3088\u3063\u3066 n \u306e\u5024\u304c\u8fd4\u3055\u308c\u305f\u3002\n\nconsole.log( g.next() ); // { value: 0, done: false }\n// n = 0; \u304c\u5b9f\u884c\u3055\u308c\u305f\u5f8c\u3001yield n; \u306b\u3088\u3063\u3066 n \u306e\u5024\u304c\u8fd4\u3055\u308c\u305f\u3002\n\nconsole.log( g.next() ); // { value: undefined, done: true }\n// \u95a2\u6570\u306e\u5b9f\u884c\u304c\u7d42\u4e86\u3057\u305f\u306e\u3067\u3001.done \u304c true \u306b\u306a\u3063\u305f\u3002\n```\n\n## 2.3. \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306b\u5024\u3092\u6e21\u3059\n\n**`.next(val)` \u306e\u3088\u3046\u306b\u5024\u3092\u6e21\u3057\u3066\u3084\u308b\u3053\u3068\u3067\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306b\u5024\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059**\u3002\n\n```js:\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306b\u5024\u3092\u6e21\u3059\nfunction* gfn(){\n\tvar a = yield \"first\";\n\tvar b = yield \"second\";\n\tyield a + b;\n}\n\nvar g = gfn();\n\nconsole.log( g.next() ); // { value: \"first\", done: false }\n\nconsole.log( g.next(3) ); // { value: \"second\", done: false }\n// yield \"first\" \u306e\u90e8\u5206\u304c 3 \u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u308b\n\nconsole.log( g.next(5) ); // { value: 8, done: false }\n// yield \"second\" \u306e\u90e8\u5206\u304c 5 \u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u308b\n\nconsole.log( g.next() ); // { value: undefined, done: true }\n```\n\n`g.next(3)` \u306a\u3069\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570\u306e\u4e2d\u8eab\u306b\u5024\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\u6e21\u3057\u305f\u5024\u306f\u3001\u76f4\u524d\u306b\u3044\u3063\u305f\u3093\u505c\u6b62\u3057\u305f `yield` \u3068\u7f6e\u304d\u63db\u3048\u3089\u308c\u305f\u3088\u3046\u306b\u6e21\u3055\u308c\u307e\u3059\u3002\n\n## 2.4. `yield*`\n\n`yield` \u306e\u307b\u304b\u306b `yield*` \u3068\u3044\u3046\u4fbf\u5229\u306a\u5f0f\u304c\u3042\u308a\u307e\u3059\u3002\n`yield*` \u306b\u306f \u30a4\u30c6\u30e9\u30d6\u30eb\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u3092\u4e0e\u3048\u307e\u3059\u3002\n\u3059\u308b\u3068\u3001**\u30a4\u30c6\u30e9\u30d6\u30eb\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u304b\u3089\u9806\u756a\u306b\u5024\u3092\u53d6\u308a\u51fa\u3057\u3001\u305d\u308c\u305e\u308c\u306e\u5024\u306b\u5bfe\u3057\u3066 `yield` \u3092\u884c\u3063\u3066\u304f\u308c\u307e\u3059**\u3002\n\n```js:yield*\u5f0f\nfunction* gfn(){\n\tyield* [1, 3, 5];\n}\n\nvar g = gfn();\n\nconsole.log( g.next() ); // { value: 1, done: false }\nconsole.log( g.next() ); // { value: 3, done: false }\nconsole.log( g.next() ); // { value: 5, done: false }\nconsole.log( g.next() ); // { value: undefined, done: true }\n```\n\n```js:yield*\u5f0f\nfunction* gfn(){\n\tyield* \"\u3072\u3088\u3053\";\n}\n\nvar g = gfn();\n\nconsole.log( g.next() ); // { value: \"\u3072\", done: false }\nconsole.log( g.next() ); // { value: \"\u3088\", done: false }\nconsole.log( g.next() ); // { value: \"\u3053\", done: false }\nconsole.log( g.next() ); // { value: undefined, done: true }\n```\n\n\u3064\u307e\u308a\u3001`for(var v of iterable) yield v;` \u3068\u540c\u69d8\u306e\u51e6\u7406\u3092\u884c\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u308f\u3051\u3067\u3059\u3002\n\n## 2.5. \u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\n\n\u5168\u3066\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u304c \u30a4\u30c6\u30e9\u30d6\u30eb\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u3067\u3042\u308b\u3053\u3068\u3092\u5229\u7528\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\n```js:\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u5229\u7528\u3059\u308b\nfunction* gfn(){\n\tyield 1;\n\tyield* [2, 1, 2];\n}\n\nfor(var num of gfn()) console.log(num);\n/*\n  1\n  2\n  1\n  2\n*/\n\nconsole.log( [...gfn()] ); // [1, 2, 1, 2]\n\nconsole.log( Math.max(...gfn()) ); // 2\n\nvar [a, b, c, d] = gfn();\nconsole.log(a, b, c, d); // 1, 2, 1, 2\n\nconsole.log( new Set(gfn()) ); // Set {1, 2}\n```\n\n## 2.6. <font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u306e\u3082\u3046\u4e00\u3064\u306e\u5229\u7528\u6cd5\n\n\u4eca\u307e\u3067\u898b\u3066\u304d\u305f <font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u306f\u3001**<font color=#c70>\u30a4\u30c6\u30ec\u30fc\u30bf</font> \u3068\u3057\u3066\u5229\u7528\u3059\u308b**\u3053\u3068\u306b\u91cd\u70b9\u3092\u7f6e\u3044\u3066\u304d\u307e\u3057\u305f\u3002\n\n\u3057\u304b\u3057\u3001\u898b\u65b9\u3092\u5909\u3048\u308c\u3070\u3001<font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u306f\u3082\u3046\u4e00\u3064\u306e\u4f7f\u3044\u65b9\u304c\u3067\u304d\u307e\u3059\u3002\n\u305d\u308c\u306f\u3001**\u81ea\u7531\u306b\u9014\u4e2d\u3067\u3044\u3063\u305f\u3093\u505c\u6b62\u3067\u304d\u308b\u95a2\u6570** \u3068\u3044\u3046\u898b\u65b9\u3067\u3059\u3002\n\n```js:\u30da\u30fc\u30b8\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u305f\u3073\u306b\u3072\u3068\u3064\u305a\u3064\u30a2\u30e9\u30fc\u30c8\u3092\u51fa\u3059\nfunction* gfn(){\n\talert(\"\u3053\u3093\u306b\u3061\u306f\uff01\"); yield;\n\talert(\"\u826f\u3044\u5929\u6c17\u3067\u3059\u306d\u3002\"); yield;\n\talert(\"\u3055\u3088\u3046\u306a\u3089\uff01\");\n}\nvar g = gfn();\ndocument.onclick = function(){ g.next(); }; // \u30da\u30fc\u30b8\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u305f\u3073\u306b g.next(); \u3092\u5b9f\u884c\u3059\u308b\n```\n\n**\u30b3\u30fc\u30c9\u4e2d\u306e `yield` \u306e\u6642\u70b9\u3067\u3001\u95a2\u6570\u306e\u5b9f\u884c\u3092\u3044\u3063\u305f\u3093\u505c\u6b62\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b** \u3068\u8003\u3048\u308b\u3068\u3001\u5206\u304b\u308a\u3084\u3059\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\u975e\u540c\u671f\u51e6\u7406\u3092\u3059\u308b\u969b\u306b\u3001\u304b\u306a\u308a\u306e\u529b\u3092\u767a\u63ee\u3057\u307e\u3059\u3002\n\n# 3. \u5b9f\u7528\u30b5\u30f3\u30d7\u30eb\n\n<font color=#0c7>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf</font> \u3067\u8aac\u660e\u3059\u308b\u3053\u3068\u306f\u4ee5\u4e0a\u3067\u3059\u304c\u3001\u5b9f\u969b\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u306a\u3044\u3068\u3001\u3069\u306e\u3088\u3046\u306b\u3064\u304b\u3048\u308b\u304b\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u3064\u304d\u306b\u304f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u3044\u304f\u3064\u304b\u30b5\u30f3\u30d7\u30eb\u3092\u6319\u3052\u307e\u3059\u306e\u3067\u3001\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```js:1000\u4ee5\u4e0b\u306e\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u6570\u3092\u5217\u6319\u3059\u308b\nfunction* fibonacci(){\n\tvar a = 0, b = 1, temp;\n\twhile(true){\n\t\ttemp = a + b;\n\t\ta = b; b = temp;\n\t\tyield a;\n\t}\n}\n\nvar g = fibonacci();\nfor(var num of g){\n\tif(num > 1000) break;\n\tconsole.log(num);\n}\n/*\n  1\n  2\n  3\n  5\n  8\n  13\n  21\n  34\n  55\n  89\n  144\n  233\n  377\n  610\n  987\n*/\n```\n\n```js:\u30e9\u30f3\u30c0\u30e0\u306a\u81ea\u7136\u6570\u306e\u914d\u5217\u3092\u4f5c\u308b\nfunction* randomIntArray(max, len){\n\tfor(var i=0;i<len;i++) yield Math.floor(Math.random() * max) + 1;\n}\n\nconsole.log( [...randomIntArray(2, 10)] ); // \u4f8b\uff1a[1, 2, 1, 1, 1, 2, 2, 2, 1, 2]\nconsole.log( [...randomIntArray(6, 4)] ); // \u4f8b\uff1a[1, 6, 2, 4]\n```\n\n```js:\u7d44\u307f\u5408\u308f\u305b\u3092\u9806\u756a\u306b\u53d6\u308a\u51fa\u3059\nfunction* combination(ary, len){\n\tyield* (function* gfn(a, ary){\n\t\tif(a.length < len){\n\t\t\tfor(var i=0;i<ary.length-len+a.length+1;i++){\n\t\t\t\tyield* gfn(a.concat(ary[i]), ary.slice(i+1));\n\t\t\t}\n\t\t}\n\t\telse yield a;\n\t})([], ary);\n}\n\nfor(v of combination([1,2,3], 2)) console.log(v);\n/*\n  [1, 2]\n  [1, 3]\n  [2, 3]\n*/\n\nfor(v of combination([\"A\", \"B\", \"C\", \"D\", \"E\"], 3)) console.log(v.join(\"\"));\n/*\n  ABC\n  ABD\n  ABE\n  ACD\n  ACE\n  ADE\n  BCD\n  BCE\n  BDE\n  CDE\n*/\n```\n\n```js:\u975e\u540c\u671f\u51e6\u7406\u3092\u5206\u304b\u308a\u3084\u3059\u304f\u66f8\u304f\nfunction easyAsync(gfn){\n\tvar g = gfn();\n\t(function ok(value){\n\t\tvar result = g.next(value);\n\t\tif(!result.done) result.value(ok);\n\t})();\n}\n\neasyAsync(function*(){\n\talert(\"\u3053\u3093\u306b\u3061\u306f\uff01\");\n\tyield function(ok){\n\t\tsetTimeout(ok, 3000);\n\t};\n\talert(\"3\u79d2\u305f\u3061\u307e\u3057\u305f\uff01\");\n\tyield function(ok){\n\t\tdocument.onclick = ok;\n\t};\n\tdocument.onclick = null;\n\talert(\"\u30da\u30fc\u30b8\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3057\u305f\uff01\");\n\tvar sourse = yield function(ok){\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open(\"GET\", location.href, true);\n\t\txhr.send(null);\n\t\txhr.onload = function(){ ok(xhr.responseText); };\n\t};\n\talert(\"\u3053\u306e\u30da\u30fc\u30b8\u306e\u30bd\u30fc\u30b9\u306f\" + sourse.length + \"\u6587\u5b57\u3067\u3059\uff01\");\n});\n```\n\n\n# 4. \u53c2\u8003\n[ECMAScript 2015 Language Specification &ndash; ECMA-262 6th Edition](http://www.ecma-international.org/ecma-262/6.0/)\n[Iterators and generators - JavaScript | MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators)\n[\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306b\u3064\u3044\u3066 - JS.next](http://js-next.hatenablog.com/entry/2014/08/07/174147)\n[ECMAScript 6 compatibility table](https://kangax.github.io/compat-table/es6/)\n\n\n[1.]: #1-%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AC%E3%83%BC%E3%82%BF%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AC%E3%83%BC%E3%82%BF%E9%96%A2%E6%95%B0-%E3%81%A8%E3%81%AF \"1. \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u3068\u306f\"\n[2.]: #2-%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AC%E3%83%BC%E3%82%BF-%E3%82%92%E4%BD%BF%E3%81%86 \"2. \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u3092\u4f7f\u3046\"\n[2.1.]: #21-%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AC%E3%83%BC%E3%82%BF%E9%96%A2%E6%95%B0-%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9%E4%BD%BF%E3%81%84%E6%96%B9 \"2.1. \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u95a2\u6570 \u306e\u66f8\u304d\u65b9\u3001\u4f7f\u3044\u65b9\"\n[2.2.]: #22-yield \"2.2. yield\"\n[2.3.]: #23-%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AC%E3%83%BC%E3%82%BF%E3%81%AB%E5%80%A4%E3%82%92%E6%B8%A1%E3%81%99 \"2.3. \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306b\u5024\u3092\u6e21\u3059\"\n[2.4.]: #24-yield \"2.4. yield*\"\n[2.5.]: #25-%E7%B0%A1%E5%8D%98%E3%81%AA%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB \"2.5. \u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\"\n[2.6.]: #26-%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AC%E3%83%BC%E3%82%BF-%E3%81%AE%E3%82%82%E3%81%86%E4%B8%80%E3%81%A4%E3%81%AE%E5%88%A9%E7%94%A8%E6%B3%95 \"2.6. \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf \u306e\u3082\u3046\u4e00\u3064\u306e\u5229\u7528\u6cd5\"\n[3.]: #3-%E5%AE%9F%E7%94%A8%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB \"3. \u5b9f\u7528\u30b5\u30f3\u30d7\u30eb\"\n[4.]: #4-%E5%8F%82%E8%80%83 \"4. \u53c2\u8003\"\n", "tags": ["JavaScript", "ECMAScript", "ECMAScript6"]}