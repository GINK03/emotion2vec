{"context": "\n\u52d5\u4f5c\u74b0\u5883\nXeon E5-2620 v4 (8\u30b3\u30a2) x 2\n32GB RAM\nCentOS 6.8 (64bit)\nopenmpi-1.8.x86_64 \u3068\u305d\u306e-devel\nmpich.x86_64 3.1-5.el6\u3068\u305d\u306e-devel\ngcc version 4.4.7 (\u3068gfortran)\n\n\n\n\u75c7\u72b6\nFortran90\u3067\u4f5c\u3089\u308c\u305f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5b9f\u884c\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u3002\ngdb\u3067\u78ba\u8a8d\u3057\u305f\u3068\u3053\u308d\u3001\u4ee5\u4e0b\u306e\u90e8\u5206\u3067\u30a8\u30e9\u30fc\u3068\u306a\u3063\u3066\u3044\u308b\u3002\nProgram received signal SIGSEGV, Segmentation fault.\nreadinput () at readinput.f90:72\n72 character(len=80) :: fname,wfname1(maxwf),wfname1n(maxnests,maxwf)\n\n\u4ee5\u4e0b\u3092\u898b\u3064\u3051\u305f\u3002\nhttp://stackoverflow.com/questions/18337031/gfortran-segmentation-fault-with-long-character\n\nI find no problem with gfortran version 4.8.1 on Ubuntu 10.04. Can you update gfortran?\n\n...\n\nI tested this, and realized that if the character array is too large, you blow the stack\n\nulimit -a\u306e\u7d50\u679c\n$ ulimit -a\ncore file size          (blocks, -c) unlimited\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 128309\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 1024\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 10240\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 1024\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n\n\n\u5bfe\u7b56\n\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u305f\u3002\n$ ulimit -s unlimited\n\nulimit -a\u306e\u7d50\u679c\nstack size \u304cunlimited\u306b\u306a\u3063\u305f\u3002\n$ ulimit -a\ncore file size          (blocks, -c) unlimited\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 128309\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 1024\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) unlimited\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 1024\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n\n\u8a72\u5f53\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5b9f\u884c\u3057\u305f\u3068\u3053\u308dSegmentation fault\u306f\u3067\u306a\u304f\u306a\u3063\u305f\u3002\n\u305d\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067\u751f\u6210\u3057\u305f\u7c92\u5b50\u306e\u767a\u751f\u72b6\u6cc1\u3002\n\n```txt:\u52d5\u4f5c\u74b0\u5883\nXeon E5-2620 v4 (8\u30b3\u30a2) x 2\n32GB RAM\nCentOS 6.8 (64bit)\nopenmpi-1.8.x86_64 \u3068\u305d\u306e-devel\nmpich.x86_64 3.1-5.el6\u3068\u305d\u306e-devel\ngcc version 4.4.7 (\u3068gfortran)\n```\n\n## \u75c7\u72b6\n\nFortran90\u3067\u4f5c\u3089\u308c\u305f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5b9f\u884c\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u3002\n\ngdb\u3067\u78ba\u8a8d\u3057\u305f\u3068\u3053\u308d\u3001\u4ee5\u4e0b\u306e\u90e8\u5206\u3067\u30a8\u30e9\u30fc\u3068\u306a\u3063\u3066\u3044\u308b\u3002\n\n```\nProgram received signal SIGSEGV, Segmentation fault.\nreadinput () at readinput.f90:72\n72 character(len=80) :: fname,wfname1(maxwf),wfname1n(maxnests,maxwf)\n```\n\n\u4ee5\u4e0b\u3092\u898b\u3064\u3051\u305f\u3002\nhttp://stackoverflow.com/questions/18337031/gfortran-segmentation-fault-with-long-character\n\n> I find no problem with gfortran version 4.8.1 on Ubuntu 10.04. Can you update gfortran?\n\n...\n\n> I tested this, and realized that if the character array is too large, you blow the stack\n\nulimit -a\u306e\u7d50\u679c\n\n```\n$ ulimit -a\ncore file size          (blocks, -c) unlimited\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 128309\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 1024\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 10240\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 1024\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n```\n\n## \u5bfe\u7b56\n\n\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u305f\u3002\n\n```\n$ ulimit -s unlimited\n```\n\nulimit -a\u306e\u7d50\u679c\nstack size \u304c`unlimited`\u306b\u306a\u3063\u305f\u3002\n\n```\n$ ulimit -a\ncore file size          (blocks, -c) unlimited\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 128309\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 1024\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) unlimited\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 1024\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n```\n\n\u8a72\u5f53\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5b9f\u884c\u3057\u305f\u3068\u3053\u308dSegmentation fault\u306f\u3067\u306a\u304f\u306a\u3063\u305f\u3002\n\n\u305d\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067\u751f\u6210\u3057\u305f\u7c92\u5b50\u306e\u767a\u751f\u72b6\u6cc1\u3002\n\n![qiita.png](https://qiita-image-store.s3.amazonaws.com/0/32870/dd8d96a1-b285-a78a-b526-40c394729e48.png)\n", "tags": ["gfortran", "link", "WRF"]}