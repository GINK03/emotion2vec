{"context": " More than 1 year has passed since last update.\n\n\u554f\u984c\u3068\u4ed6\u306e\u65b9\u306e\u89e3\u7b54\n\n\u554f\u984c\n\n\n\u56de\u6587\u306e\u767a\u6398 \u301c \u6a2a\u3078\u306a 2013.11.1 \u53c2\u8003\u554f\u984c\n\n\n\u4ed6\u306e\u65b9\u306e\u89e3\u7b54\n\n\n\u7b2c15\u56de\u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f\u306e\u53c2\u8003\u554f\u984c\n\n\n\u4ed6\u306e\u65b9\u306e\u89e3\u7b54 in Clojure\n\n\n\u56de\u6587\u306e\u767a\u6398 in Clojure\n\n\n\n\n\u79c1\u306e\u89e3\u7b54 in Clojure\nScala \u3067\u52d5\u304f\u306e\u3092\u78ba\u8a8d\u3057\u3066\u304b\u3089 Clojure \u3067\u66f8\u304d\u76f4\u3057\u307e\u3057\u305f\uff0e\n\nkaibun.clj\n(ns kaibun\n  (:require [clojure.test :refer (deftest are run-tests)]))\n\n(defn solve\n  [^String s]\n  (letfn [(f [i j]\n            (cond (> i j) 0\n                  (= i j) 1\n                  :else (loop [acc 0 k i]\n                          (if (= k j)\n                            acc\n                            (recur (max acc (g k j)) (inc k))))))\n          (g [i j]\n            (let [k (.lastIndexOf s (int (nth s i)) (int j))]\n              (if (= i k)\n                1\n                (+ 2 (f (inc i) (dec k))))))]\n    (f 0 (dec (count s)))))\n\n(deftest solve-test\n  (are [i o] (= (str (solve i)) o)\n       \"I_believe_you_can_solve\" \"9\"\n       \"a\" \"1\"\n       \"aa\" \"2\"\n       \"aaa\" \"3\"\n       \"ab\" \"1\"\n       \"aabb\" \"2\"\n       \"ABBA\" \"4\"\n       \"Abba\" \"2\"\n       \"1234567890\" \"1\"\n       \"1234567890987654321\" \"19\"\n       \"abcdcba\" \"7\"\n       \"0a1b2c3d4c5b6a7\" \"7\"\n       \"abcdcba0123210\" \"7\"\n       \"abcdcba_123210\" \"7\"\n       \"_bcdcba0123210\" \"7\"\n       \"abcddcba0123210\" \"8\"\n       \"abcdcba01233210\" \"8\"\n       \"a0bc1dc2ba3210a\" \"9\"\n       \"a0bc1ddc2ba3210\" \"8\"\n       \"3a0bc1ddc2ba3210\" \"10\"\n       \"11oooo1111o1oo1o111ooooooooooo\" \"20\"\n       \"11o1111o1111oo11ooo11111ooo1oo\" \"20\"\n       \"111111oo11o111ooo1o1ooo11ooo1o\" \"21\"\n       \"11o1o1o11oo11o11oo111o1o1o11oo\" \"27\"\n       \"oo111o1o11o1oo1ooo11o1o11o1o1o\" \"27\"\n       \"1o1oo11111o1o1oo1o1o1111oo1o1o\" \"28\"\n       \"QQooooQooooQQyQoyQQQyyyyQQoyoy\" \"15\"\n       \"oQoooQooooQyoyQoyoyyyQQyQQQQoQ\" \"16\"\n       \"yyyyyooyQyyyoyyQyyooyQoQoQQoQy\" \"17\"\n       \"yyQoyQoyyQyQQoyooooyyQQyQyooQy\" \"24\"\n       \"oQQooQoQyQQoyoQQoQyQyQyQoQoooo\" \"24\"\n       \"oQQyQQyyQyQQoooyQQyyyQQQyyQQoy\" \"25\"\n       \"WAk9iHI4jVDlStyudwTNqE138kwan2\" \"3\"\n       \"c43fIu1Mlz0K9hEVOgGcUdbeB5ksa7\" \"3\"\n       \"CAbYcW5VqHjzFdIkH_61PM0TsyRuie\" \"3\"\n       \"jInQnUvSayrJTsQWujovbbqW0STvoj\" \"10\"\n       \"iZDrvpUKgtj3FrZsZ4CLjrEgUdZzQG\" \"11\"\n       \"ROgYUOu6er_DA7nB6UGquO1GUHC62R\" \"11\"\n       \"Oh_be_a_fine_girl_kiss_me\" \"9\"\n       \"8086_6502_6809_Z80\" \"11\"\n       \"xcode_visualstudio_eclipse\" \"11\"\n       \"word_excel_powerpoint_outlook\" \"9\"\n       \"abcdefghijklmnopqrstuvwxyz0123\" \"1\"))\n\n\n\n\u30c6\u30b9\u30c8\u5b9f\u884c\u7d50\u679c\nuser> #<Namespace kaibun>\nkaibun> (time (run-tests))\n\nTesting kaibun\n\nRan 1 tests containing 43 assertions.\n0 failures, 0 errors.\n\"Elapsed time: 97.209 msecs\"\n{:type :summary, :fail 0, :error 0, :pass 43, :test 1}\n\n\n\u89e3\u8aac\nletfn \u3067\u76f8\u4e92\u518d\u5e30\u3092\u66f8\u3044\u3066\u307f\u305f\u304b\u3063\u305f\u3060\u3051\u306e\u30b3\u30fc\u30c9\u3067\u3059\uff0e\u95a2\u6570 solve \u306b\u3064\u3044\u3066\uff0c\n\n\u95a2\u6570 f\n\n\u533a\u9593 [i, j] \u3067\u6700\u9577\u306e\u56de\u6587\u306e\u9577\u3055\u3092\u8fd4\u3059\u95a2\u6570\n\n\n\u95a2\u6570 g\n\n\u5148\u982d\u304b\u3089\u64a4\u53bb\u3055\u308c\u308b\u6587\u5b57\u6570\u304c k \u306e\u56de\u6587\u306b\u3064\u3044\u3066\u6700\u9577\u306e\u3082\u306e\u306e\u9577\u3055\u3092\u8fd4\u3059\u95a2\u6570\n\n\n\n\u3088\u3063\u3066\uff0c\u5165\u529b\u6587\u5b57\u5217\u3092 s \u3068\u3059\u308b\u3068 (f 0 (dec (count s))) \u304c\u89e3\u7b54\u3068\u306a\u308a\u307e\u3059\uff0e\n\u7121\u99c4\u3082\u591a\u304f\uff0c\u52b9\u7387\u7684\u306a\u30b3\u30fc\u30c9\u3068\u306f\u8a00\u3048\u307e\u305b\u3093\u304c\uff0c\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u304c\u6bd4\u8f03\u7684\u5c0f\u3055\u3044\u306e\u3068\uff0cClojure \u304c\u901f\u3044\u306e\u3068\u3067\uff0c\u30c6\u30b9\u30c8\u306f\u4e00\u77ac\u3067\u7d42\u308a\u307e\u3059\uff0e\n\u518d\u5e30\u3067\u306a\u3051\u308c\u3070 Clojure \u95a2\u6570\u306e\u30e1\u30e2\u5316\u306f\u7c21\u5358\u306a\u306e\u3067\u3059\u304c\uff0c\u518d\u5e30\u306e\u5834\u5408\u7c21\u5358\u306b\u30e1\u30e2\u5316\u3067\u304d\u306a\u3044 Clojure \u3068\u3044\u3046\u306e\u304c\u3042\u308a\u307e\u3059\u306e\u3067\uff0e\n\n\u307e\u3068\u3081\n@kohyama \u306e\u89e3\u7b54\u306e\u307b\u3046\u304c Clojure \u3089\u3057\u3055\u306b\u3042\u3075\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\uff0c\nClojurian \u306f\u305d\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u305f\u307b\u3046\u304c\u3088\u3044\u3067\u3059\uff0e\n## \u554f\u984c\u3068\u4ed6\u306e\u65b9\u306e\u89e3\u7b54\n\n+ \u554f\u984c\n  - [\u56de\u6587\u306e\u767a\u6398 \u301c \u6a2a\u3078\u306a 2013.11.1 \u53c2\u8003\u554f\u984c](http://nabetani.sakura.ne.jp/hena/ord15subpalin/)\n+ \u4ed6\u306e\u65b9\u306e\u89e3\u7b54\n  - [\u7b2c15\u56de\u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f\u306e\u53c2\u8003\u554f\u984c](http://qiita.com/Nabetani/items/0b56395d4c9e7c64b230)\n+ \u4ed6\u306e\u65b9\u306e\u89e3\u7b54 in Clojure\n  - [\u56de\u6587\u306e\u767a\u6398 in Clojure](http://qiita.com/kohyama/items/183ca328fc57a71fb282)\n\n## \u79c1\u306e\u89e3\u7b54 in Clojure\n\nScala \u3067\u52d5\u304f\u306e\u3092\u78ba\u8a8d\u3057\u3066\u304b\u3089 Clojure \u3067\u66f8\u304d\u76f4\u3057\u307e\u3057\u305f\uff0e\n\n```clojure:kaibun.clj\n(ns kaibun\n  (:require [clojure.test :refer (deftest are run-tests)]))\n\n(defn solve\n  [^String s]\n  (letfn [(f [i j]\n            (cond (> i j) 0\n                  (= i j) 1\n                  :else (loop [acc 0 k i]\n                          (if (= k j)\n                            acc\n                            (recur (max acc (g k j)) (inc k))))))\n          (g [i j]\n            (let [k (.lastIndexOf s (int (nth s i)) (int j))]\n              (if (= i k)\n                1\n                (+ 2 (f (inc i) (dec k))))))]\n    (f 0 (dec (count s)))))\n\n(deftest solve-test\n  (are [i o] (= (str (solve i)) o)\n       \"I_believe_you_can_solve\" \"9\"\n       \"a\" \"1\"\n       \"aa\" \"2\"\n       \"aaa\" \"3\"\n       \"ab\" \"1\"\n       \"aabb\" \"2\"\n       \"ABBA\" \"4\"\n       \"Abba\" \"2\"\n       \"1234567890\" \"1\"\n       \"1234567890987654321\" \"19\"\n       \"abcdcba\" \"7\"\n       \"0a1b2c3d4c5b6a7\" \"7\"\n       \"abcdcba0123210\" \"7\"\n       \"abcdcba_123210\" \"7\"\n       \"_bcdcba0123210\" \"7\"\n       \"abcddcba0123210\" \"8\"\n       \"abcdcba01233210\" \"8\"\n       \"a0bc1dc2ba3210a\" \"9\"\n       \"a0bc1ddc2ba3210\" \"8\"\n       \"3a0bc1ddc2ba3210\" \"10\"\n       \"11oooo1111o1oo1o111ooooooooooo\" \"20\"\n       \"11o1111o1111oo11ooo11111ooo1oo\" \"20\"\n       \"111111oo11o111ooo1o1ooo11ooo1o\" \"21\"\n       \"11o1o1o11oo11o11oo111o1o1o11oo\" \"27\"\n       \"oo111o1o11o1oo1ooo11o1o11o1o1o\" \"27\"\n       \"1o1oo11111o1o1oo1o1o1111oo1o1o\" \"28\"\n       \"QQooooQooooQQyQoyQQQyyyyQQoyoy\" \"15\"\n       \"oQoooQooooQyoyQoyoyyyQQyQQQQoQ\" \"16\"\n       \"yyyyyooyQyyyoyyQyyooyQoQoQQoQy\" \"17\"\n       \"yyQoyQoyyQyQQoyooooyyQQyQyooQy\" \"24\"\n       \"oQQooQoQyQQoyoQQoQyQyQyQoQoooo\" \"24\"\n       \"oQQyQQyyQyQQoooyQQyyyQQQyyQQoy\" \"25\"\n       \"WAk9iHI4jVDlStyudwTNqE138kwan2\" \"3\"\n       \"c43fIu1Mlz0K9hEVOgGcUdbeB5ksa7\" \"3\"\n       \"CAbYcW5VqHjzFdIkH_61PM0TsyRuie\" \"3\"\n       \"jInQnUvSayrJTsQWujovbbqW0STvoj\" \"10\"\n       \"iZDrvpUKgtj3FrZsZ4CLjrEgUdZzQG\" \"11\"\n       \"ROgYUOu6er_DA7nB6UGquO1GUHC62R\" \"11\"\n       \"Oh_be_a_fine_girl_kiss_me\" \"9\"\n       \"8086_6502_6809_Z80\" \"11\"\n       \"xcode_visualstudio_eclipse\" \"11\"\n       \"word_excel_powerpoint_outlook\" \"9\"\n       \"abcdefghijklmnopqrstuvwxyz0123\" \"1\"))\n```\n\n\n## \u30c6\u30b9\u30c8\u5b9f\u884c\u7d50\u679c\n\n```clojure\nuser> #<Namespace kaibun>\nkaibun> (time (run-tests))\n\nTesting kaibun\n\nRan 1 tests containing 43 assertions.\n0 failures, 0 errors.\n\"Elapsed time: 97.209 msecs\"\n{:type :summary, :fail 0, :error 0, :pass 43, :test 1}\n```\n\n\n## \u89e3\u8aac\n\n`letfn` \u3067\u76f8\u4e92\u518d\u5e30\u3092\u66f8\u3044\u3066\u307f\u305f\u304b\u3063\u305f\u3060\u3051\u306e\u30b3\u30fc\u30c9\u3067\u3059\uff0e\u95a2\u6570 `solve` \u306b\u3064\u3044\u3066\uff0c\n\n+ \u95a2\u6570 `f`\n  - \u533a\u9593 `[i, j]` \u3067\u6700\u9577\u306e\u56de\u6587\u306e\u9577\u3055\u3092\u8fd4\u3059\u95a2\u6570\n+ \u95a2\u6570 `g`\n  - \u5148\u982d\u304b\u3089\u64a4\u53bb\u3055\u308c\u308b\u6587\u5b57\u6570\u304c `k` \u306e\u56de\u6587\u306b\u3064\u3044\u3066\u6700\u9577\u306e\u3082\u306e\u306e\u9577\u3055\u3092\u8fd4\u3059\u95a2\u6570\n\n\u3088\u3063\u3066\uff0c\u5165\u529b\u6587\u5b57\u5217\u3092 `s` \u3068\u3059\u308b\u3068 `(f 0 (dec (count s)))` \u304c\u89e3\u7b54\u3068\u306a\u308a\u307e\u3059\uff0e\n\n\u7121\u99c4\u3082\u591a\u304f\uff0c\u52b9\u7387\u7684\u306a\u30b3\u30fc\u30c9\u3068\u306f\u8a00\u3048\u307e\u305b\u3093\u304c\uff0c\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u304c\u6bd4\u8f03\u7684\u5c0f\u3055\u3044\u306e\u3068\uff0cClojure \u304c\u901f\u3044\u306e\u3068\u3067\uff0c\u30c6\u30b9\u30c8\u306f\u4e00\u77ac\u3067\u7d42\u308a\u307e\u3059\uff0e\n\n\u518d\u5e30\u3067\u306a\u3051\u308c\u3070 Clojure \u95a2\u6570\u306e\u30e1\u30e2\u5316\u306f\u7c21\u5358\u306a\u306e\u3067\u3059\u304c\uff0c[\u518d\u5e30\u306e\u5834\u5408\u7c21\u5358\u306b\u30e1\u30e2\u5316\u3067\u304d\u306a\u3044 Clojure][1] \u3068\u3044\u3046\u306e\u304c\u3042\u308a\u307e\u3059\u306e\u3067\uff0e\n\n\n## \u307e\u3068\u3081\n\n@kohyama \u306e\u89e3\u7b54\u306e\u307b\u3046\u304c Clojure \u3089\u3057\u3055\u306b\u3042\u3075\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\uff0c\nClojurian \u306f\u305d\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u305f\u307b\u3046\u304c\u3088\u3044\u3067\u3059\uff0e\n\n\n[1]: http://tnoda-clojure.tumblr.com/post/38399531755\n", "tags": ["Clojure1.6.0", "\u3069\u3046\u66f8\u304f"]}