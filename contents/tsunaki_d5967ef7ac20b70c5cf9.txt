{"context": " More than 1 year has passed since last update.\n\nIntel Edison\u3092\u4f7f\u3063\u305f\u30ed\u30dc\u30c3\u30c8\nUART\u7d4c\u7531\u3067\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3092\u884c\u3063\u305fIntel Edison\u3067\u52d5\u304f\u30ed\u30dc\u30c3\u30c8\u306b\u6311\u6226\uff01\uff01\n\u3010\u4ed5\u69d8\u3011\n \u30fbWEB\u753b\u9762(Node.js or python)\u3067\u30ed\u30dc\u30c3\u30c8\u3092\u64cd\u4f5c\n \u30fb\u97f3\u58f0\u8a8d\u8b58\u3001\u753b\u50cf\u8a8d\u8b58\u3067\u52d5\u4f5c\n\u4eca\u56de\u3001\u97f3\u58f0\u8a8d\u8b58\u3084\u753b\u50cf\u8a8d\u8b58\u3092\u884c\u3046\u4e88\u5b9a\u306a\u306e\u3067Edison\u4e0a\u306eYocto linux\u3092Rebuild\u3092\u5b9f\u65bd\u3002\n\uff08Edison\u3067USB\u30d3\u30c7\u30aa\u3084USB\u97f3\u58f0\u3092\u6271\u3046\u306e\u306bOS\u30a4\u30e1\u30fc\u30b8\u306eRebuild\u304c\u5fc5\u8981\uff09\n\u2606\u4f5c\u6210\u4e2d\u306e\u30ed\u30dc\u30c3\u30c8\u2606\n\n\u2606\u64cd\u4f5c\u753b\u9762\u2606\n\n\nYocto linux Rebuild\u624b\u9806(ubuntu\u4f5c\u696d)\n\u6e96\u5099\u3057\u305f\u3082\u306e\n  \u30fbubuntu-14.04.1-server\uff08VM \uff1aCPU: 2, MEM: 4G, Disk: 50G)\n\n1.\u30b3\u30f3\u30d1\u30a4\u30eb\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo apt-get install build-essential git diffstat gawk chrpath texinfo libtool gcc-multilib\n\n\n2.\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u5fc5\u8981\u306a\u8a2d\u5b9a\n$ git config --global user.email \"******@gmail.com\"\n$ git config --global user.name \"tsunaki\"\n\n# \u4e00\u6642\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\uff08\u3069\u3053\u3067\u3082OK)\n$ sudo mkdir -p /temp/bitbake_download_dir\n$ sudo mkdir -p /temp/bitbake_sstate_dir\n$ sudo chmod 777 -R /temp\n\n\n3.Linux\u30a4\u30e1\u30fc\u30b8\u3092DownLoad\u3059\u308b\n\u3053\u3053\u304b\u3089\u3092wget\u306a\u3069\u3067DownLoad(Edison Linux source files)\n$ wget http://downloadmirror.intel.com/24389/eng/edison-src-rel1-maint-rel1-ww42-14.tgz\n\n$ tar xvf edison-src-rel1-maint-rel1-ww42-14.tgz\n\n$ cd edison-src\n\n\n4.build\u521d\u671f\u8a2d\u5b9a\n$ ./device-software/setup.sh --dl_dir=/temp/bitbake_download_dir --sstate_dir=/temp/bitbake_sstate_dir --bb_number_thread=8 --parallel_make=8\n\n# build\u306b\u5fc5\u8981\u306a\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\n$ source poky/oe-init-build-env\n\n\n5.\u30ab\u30fc\u30cd\u30eb\u306ebuild\n\u30b9\u30da\u30c3\u30af\u306b\u3082\u3088\u308a\u307e\u3059\u304c\u3001\u304b\u306a\u308a\u6642\u9593\u304c\u639b\u304b\u308a\u307e\u3059\n# build\n$ bitbake virtual/kernel\n\n\n\n6.\u30ab\u30fc\u30cd\u30eb\u8a2d\u5b9a\n$ bitbake linux-yocto -c menuconfig\n\n\u30e1\u30cb\u30e5\u30fc\u753b\u9762\u3067\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\uff1csave\uff1e\u3059\u308b\n\u3000\u25a0 Video\u8a2d\u5b9a\n\u3000\u3000Device Drivers\n\u3000\u3000\u3000Multimedia support\n\u3000\u3000\u3000\u3000Media USB Adapters\n\u3000\u3000\u3000\u3000\u3000USB Video Class [M]   \u2190\u3053\u3053\u3092\u8a2d\u5b9a\n\u3000\u3000\u3000\u3000\u3000\u3000UVC input events device support\n\u3000\u25a0 Sound\u8a2d\u5b9a\n\u3000\u3000Device Drivers\n\u3000\u3000\u3000Sound card support\n\u3000\u3000\u3000\u3000Advanced Linux Sound Architecture\n\u3000\u3000\u3000\u3000\u3000USB sound devices  [M]   \u2190\u3053\u3053\u3092\u8a2d\u5b9a\n\u203b\u7d42\u4e86\u306f\uff1cExit\uff1e\u3067\u968e\u5c64\u304c\u3042\u304c\u308b\u306e\u3067\u3001\u6700\u521d\u306e\u30da\u30fc\u30b8\u307e\u3067\u5b9f\u884c\u3059\u308c\u3070OK\u3002\n\n\n7.\u30ab\u30fc\u30cd\u30eb\u306eRebuild\n\u7d42\u308f\u3063\u305f\u3089\uff0c\u8a2d\u5b9a\u3057\u305f.config\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n$ cp tmp/work/edison-poky-linux/linux-yocto/3.10.17+gitAUTOINC+6ad20f049a_c03195ed6e-r0/linux-edison-standard-build/.config ../device-software/meta-edison/recipes-kernel/linux/files/defconfig\n\n# rebuild\n$ bitbake virtual/kernel\n\n\n8.\u5168\u4f53\u306ebuild\n$ bitbake edison-image\n\n\u203b build\u4e2d\u306bwarning\u304c\u51fa\u3066\u3082\u554f\u984c\u306a\u3057\u3002\n\n9.Edison\u3078\u713c\u304d\u8fbc\u307f\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\uff0cEdison\u306b\u713c\u304d\u8fbc\u3080\u30d5\u30a1\u30a4\u30eb\u3092toFlash\u30d5\u30a9\u30eb\u30c0\u306b\u307e\u3068\u3081\u308b\u3002\n$ ../device-software/utils/flash/postBuild.sh\n\n\u3053\u3053\u304b\u3089\u5b9f\u969b\u306bEdison\u306b\u713c\u304d\u8fbc\u307f\u3092\u884c\u3046\u3002\n\u203b\u5148\u305a\u306fEdison\u3068ubuntu\u306f\u63a5\u7d9a\u3057\u306a\u3044\u3067\u304a\u304f\n$ cd toFlash\n$ sudo ./flashall.sh\n[sudo] password for slavey:\nUsing U-Boot target: edison-default\nNow waiting for dfu device 8087:0a99\nPlease plug and reboot the board\n# \u2191\u3053\u308c\u304c\u51fa\u305f\u3089Edison\u306eUSB OTG\u3092\u63a5\u7d9a\u3059\u308b\u3002\n\n\n\u713c\u304d\u8fbc\u307f\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u3068\u308a\u3042\u3048\u305aEdison\u306e\u96fb\u6e90\u3092\u5207\u3063\u3066ubuntu\u3068\u5207\u308a\u96e2\u3059\u3002\n\n10.\u3053\u3053\u304b\u3089Edison\u3067\u306e\u4f5c\u696d\nMac\u5074\u3067Edison\u3078\u30b7\u30ea\u30a2\u30eb\u30ed\u30b0\u30a4\u30f3\n$ screen  /dev/tty.usbserial-A703ZARJ 115200 -L \n\nUser : root\n Pass : \u306a\u3057\n\u5148\u305a\u3001USB\u63a5\u7d9a\u304c\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\nUSB OTG\u3092\u5916\u90e8\u6a5f\u5668\u3067\u5229\u7528\u3059\u308b\u969b\u306f\u96fb\u6e90\u4f9b\u7d66\u3092USB\u4ee5\u5916\u304b\u3089\u884c\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002\nIntel Edison Breakout Board Hardware Guide\u3092\u898b\u308b\u3068\u3001J21\u304b\u30897v\u301c15v\u3092\u53d6\u5f97\u3067\u304d\u308b\u3068\u306e\u3053\u3068\u3002\n\u4eca\u56de\u306f\u3001Galileo\u7528\u306e12v\u3092\u30d6\u30ec\u30c3\u30c9\u30dc\u30fc\u30c9\u304b\u3089\u7d50\u5408\u3002\n\n# \u30c9\u30e9\u30a4\u30d0\u3092\u8a8d\u8b58\u3057\u3066\u3044\u308b\u304b\u306e\u78ba\u8a8d\nroot@edison:~# lsmod\nModule                  Size  Used by\nuvcvideo               71516  0 \nvideobuf2_vmalloc      13003  1 uvcvideo\nvideobuf2_memops       13001  1 videobuf2_vmalloc\nvideobuf2_core         37707  1 uvcvideo\nusb_f_acm              14335  1 \nu_serial               18582  6 usb_f_acm\ng_multi                70703  0 \nlibcomposite           39245  2 usb_f_acm,g_multi\nbcm_bt_lpm             13676  0 \nbcm4334x              574851  0 \n\nroot@edison:~# lsusb\nBus 001 Device 002: ID 05e3:0608 Genesys Logic, Inc. USB-2.0 4-Port HUB\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub\nBus 001 Device 003: ID 056e:7016 Elecom Co., Ltd \nBus 001 Device 004: ID 0d8c:013c C-Media Electronics, Inc. CM108 Audio Controller\n\n\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001Edison\u306e\u521d\u671f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n# PASSWORD, WIFI\u306e\u8a2d\u5b9a\n$ configure_edison --setup\n\n# Package Manager\u306e\u8a2d\u5b9a\n$ vi /etc/opkg/base-feeds.conf\nsrc/gz all http://repo.opkg.net/edison/repo/all\nsrc/gz edison http://repo.opkg.net/edison/repo/edison\nsrc/gz core2-32 http://repo.opkg.net/edison/repo/core2-32\n\n$ vi /etc/opkg/intel-iotdk.conf\nsrc intel-iotdk http://iotdk.intel.com/repos/1.1/intelgalactic\nsrc intel-all http://iotdk.intel.com/repos/1.1/iotdk/all\nsrc intel-i586 http://iotdk.intel.com/repos/1.1/iotdk/i586\nsrc intel-x86 http://iotdk.intel.com/repos/1.1/iotdk/x86\n\n# Package Update\n$ opkg update\n$ opkg upgrade\n\n\n\n11.\u30aa\u30fc\u30c7\u30a3\u30aa\u5165\u51fa\u529b\u30c4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nopkg\u3067ALSA\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ opkg install alsa-utils\n\n\n12.\u97f3\u58f0\u3092\u51fa\u529b\n\u30c6\u30b9\u30c8\u7528\u306e\u30b5\u30a6\u30f3\u30c9\uff08test.wav\uff09\u6e96\u5099\u3057\u3066\u97f3\u58f0\u51fa\u529b\n$ aplay -D plughw:1,0 test.wav \n\n\u30a4\u30e4\u30db\u30f3\u304b\u3089\u97f3\u304c\u51fa\u3066\u3044\u308b\u78ba\u8a8d\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n13.Edison\u30ed\u30dc\u30c3\u30c8\u63a5\u7d9a\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e20\u8ef8\u30b5\u30fc\u30dc\u30e2\u30fc\u30bf\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u4f7f\u7528\n\n\u30b5\u30fc\u30dc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u64cd\u4f5c\u306f\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3067\u884c\u3046\u305f\u3081\u3001Edison\u306eUART\u8a2d\u5b9a\u3092\u884c\u3046\u3002\nUART\u306fGalileo\u958b\u767a\u30dc\u30fc\u30c9\u306ePIN0/PIN1(/dev/ttyMFD1)\u3092\u5229\u7528\u3002\nUART\u3092\u4f7f\u3046\u306b\u306fGPIO\u306emode\u3092\u5909\u66f4\u3057\u306a\u3051\u308c\u3070\u884c\u3051\u306a\u3044\u3089\u3057\u3044\uff1f\uff01\n\u203bIntel\u306emraa\u3067mraa_uart_init(0);\u3067\u3082OK\u307f\u305f\u3044\u3067\u3059\u3002\n\u3000mraa: uart.h File Reference\n\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066mode\u5909\u63db\n$ echo 214 > /sys/class/gpio/export 2>&1\n$ echo high > /sys/class/gpio/gpio214/direction\n$ echo low > /sys/class/gpio/gpio214/direction\n\n$ echo 131 > /sys/class/gpio/export 2>&1\n$ echo mode1 > /sys/kernel/debug/gpio_debug/gpio131/current_pinmux\n$ echo 249 > /sys/class/gpio/export 2>&1\n$ echo high > /sys/class/gpio/gpio249/direction\n$ echo 1 > /sys/class/gpio/gpio249/value\n$ echo 217 > /sys/class/gpio/export 2>&1\n$ echo high > /sys/class/gpio/gpio217/direction\n$ echo 1 > /sys/class/gpio/gpio217/value\n$ echo out > /sys/class/gpio/gpio131/direction\n$ echo 0 > /sys/class/gpio/gpio131/value\n\n\n$ echo 130 > /sys/class/gpio/export 2>&1\n$ echo mode1 > /sys/kernel/debug/gpio_debug/gpio130/current_pinmux\n$ echo 248 > /sys/class/gpio/export 2>&1\n$ echo low > /sys/class/gpio/gpio248/direction\n$ echo 0 > /sys/class/gpio/gpio248/value\n$ echo 216 > /sys/class/gpio/export 2>&1\n$ echo in > /sys/class/gpio/gpio216/direction\n$ echo in > /sys/class/gpio/gpio130/direction\n\n$ echo high > /sys/class/gpio/gpio214/direction\n\n\u3053\u306e\u3042\u3068Node.js\u306eserialport\u3067\u63a5\u7d9a\u306e\u78ba\u8a8d\u304c\u3067\u304d\u3001Wifi\u7d4c\u7531\u3067\u30ed\u30dc\u30c3\u30c8\u64cd\u4f5c\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u3053\u3053\u307e\u3067\u3067\u3001\u306a\u3093\u3060\u304b\u3093\u3060\uff12\u65e5\u3082\u639b\u304b\u308a\u307e\u3057\u305f\u3002\n\u3053\u306e\u3042\u3068\u97f3\u58f0\u8a8d\u8b58\u3068\u753b\u50cf\u8a8d\u8b58\u306e\u7d44\u8fbc\u307f\u3092\u884c\u3046\u4e88\u5b9a\u3067\u3059\u3002\n\u305f\u3060\u3001Edison\u306e\u5916\u90e8\u6a5f\u5668\u3068\u30b5\u30fc\u30dc9\u8ef8\u3078\u306e\u96fb\u6e90\u4f9b\u7d66\u304c\u8ab2\u984c\u3002\u3002\u3002\n#Intel Edison\u3092\u4f7f\u3063\u305f\u30ed\u30dc\u30c3\u30c8\n\nUART\u7d4c\u7531\u3067\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3092\u884c\u3063\u305fIntel Edison\u3067\u52d5\u304f\u30ed\u30dc\u30c3\u30c8\u306b\u6311\u6226\uff01\uff01\n\n\u3010\u4ed5\u69d8\u3011\n \u30fbWEB\u753b\u9762(Node.js or python)\u3067\u30ed\u30dc\u30c3\u30c8\u3092\u64cd\u4f5c\n \u30fb\u97f3\u58f0\u8a8d\u8b58\u3001\u753b\u50cf\u8a8d\u8b58\u3067\u52d5\u4f5c\n\n\n\u4eca\u56de\u3001\u97f3\u58f0\u8a8d\u8b58\u3084\u753b\u50cf\u8a8d\u8b58\u3092\u884c\u3046\u4e88\u5b9a\u306a\u306e\u3067Edison\u4e0a\u306eYocto linux\u3092Rebuild\u3092\u5b9f\u65bd\u3002\n\uff08Edison\u3067USB\u30d3\u30c7\u30aa\u3084USB\u97f3\u58f0\u3092\u6271\u3046\u306e\u306bOS\u30a4\u30e1\u30fc\u30b8\u306eRebuild\u304c\u5fc5\u8981\uff09\n\n\u2606\u4f5c\u6210\u4e2d\u306e\u30ed\u30dc\u30c3\u30c8\u2606\n![IMG_0381.JPG](https://qiita-image-store.s3.amazonaws.com/0/52867/c2b97b8a-92d3-ba06-874e-2f929de25e10.jpeg)\n\u2606\u64cd\u4f5c\u753b\u9762\u2606\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-07 14.09.11.png](https://qiita-image-store.s3.amazonaws.com/0/52867/8116d31a-97f2-15c8-8aff-6e6f15f4b29d.png)\n\n\n#Yocto linux Rebuild\u624b\u9806(ubuntu\u4f5c\u696d)\n\n \u6e96\u5099\u3057\u305f\u3082\u306e\n  \u30fbubuntu-14.04.1-server\uff08VM \uff1aCPU: 2, MEM: 4G, Disk: 50G)\n\n##1.\u30b3\u30f3\u30d1\u30a4\u30eb\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ sudo apt-get install build-essential git diffstat gawk chrpath texinfo libtool gcc-multilib\n```\n\n##2.\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u5fc5\u8981\u306a\u8a2d\u5b9a\n\n```bash\n$ git config --global user.email \"******@gmail.com\"\n$ git config --global user.name \"tsunaki\"\n\n# \u4e00\u6642\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\uff08\u3069\u3053\u3067\u3082OK)\n$ sudo mkdir -p /temp/bitbake_download_dir\n$ sudo mkdir -p /temp/bitbake_sstate_dir\n$ sudo chmod 777 -R /temp\n```\n\n##3.Linux\u30a4\u30e1\u30fc\u30b8\u3092DownLoad\u3059\u308b\n<a href=\"https://communities.intel.com/docs/DOC-23242\">\u3053\u3053</a>\u304b\u3089\u3092wget\u306a\u3069\u3067DownLoad(<a href=\"hhttp://downloadmirror.intel.com/24389/eng/edison-src-rel1-maint-rel1-ww42-14.tgz\">Edison Linux source files</a>)\n\n``` bash\n$ wget http://downloadmirror.intel.com/24389/eng/edison-src-rel1-maint-rel1-ww42-14.tgz\n\n$ tar xvf edison-src-rel1-maint-rel1-ww42-14.tgz\n\n$ cd edison-src\n```\n\n##4.build\u521d\u671f\u8a2d\u5b9a\n\n```bash\n$ ./device-software/setup.sh --dl_dir=/temp/bitbake_download_dir --sstate_dir=/temp/bitbake_sstate_dir --bb_number_thread=8 --parallel_make=8\n\n# build\u306b\u5fc5\u8981\u306a\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\n$ source poky/oe-init-build-env\n```\n\n\n##5.\u30ab\u30fc\u30cd\u30eb\u306ebuild\n\u30b9\u30da\u30c3\u30af\u306b\u3082\u3088\u308a\u307e\u3059\u304c\u3001\u304b\u306a\u308a\u6642\u9593\u304c\u639b\u304b\u308a\u307e\u3059\n\n```\n# build\n$ bitbake virtual/kernel\n\n```\n##6.\u30ab\u30fc\u30cd\u30eb\u8a2d\u5b9a\n\n```bash\n$ bitbake linux-yocto -c menuconfig\n```\n\n\u30e1\u30cb\u30e5\u30fc\u753b\u9762\u3067\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\uff1csave\uff1e\u3059\u308b\n\u3000\u25a0 Video\u8a2d\u5b9a\n\u3000\u3000Device Drivers\n\u3000\u3000\u3000Multimedia support\n\u3000\u3000\u3000\u3000Media USB Adapters\n\u3000\u3000\u3000\u3000\u3000USB Video Class [M]   \u2190\u3053\u3053\u3092\u8a2d\u5b9a\n\u3000\u3000\u3000\u3000\u3000\u3000UVC input events device support\n\n\u3000\u25a0 Sound\u8a2d\u5b9a\n\u3000\u3000Device Drivers\n\u3000\u3000\u3000Sound card support\n\u3000\u3000\u3000\u3000Advanced Linux Sound Architecture\n\u3000\u3000\u3000\u3000\u3000USB sound devices  [M]   \u2190\u3053\u3053\u3092\u8a2d\u5b9a\n\n\u203b\u7d42\u4e86\u306f\uff1cExit\uff1e\u3067\u968e\u5c64\u304c\u3042\u304c\u308b\u306e\u3067\u3001\u6700\u521d\u306e\u30da\u30fc\u30b8\u307e\u3067\u5b9f\u884c\u3059\u308c\u3070OK\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-07 12.17.56.png](https://qiita-image-store.s3.amazonaws.com/0/52867/ca61b146-b7ef-e5f1-4794-1a3246e90d54.png)\n\n##7.\u30ab\u30fc\u30cd\u30eb\u306eRebuild\n\u7d42\u308f\u3063\u305f\u3089\uff0c\u8a2d\u5b9a\u3057\u305f.config\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n\n```bash\n$ cp tmp/work/edison-poky-linux/linux-yocto/3.10.17+gitAUTOINC+6ad20f049a_c03195ed6e-r0/linux-edison-standard-build/.config ../device-software/meta-edison/recipes-kernel/linux/files/defconfig\n\n# rebuild\n$ bitbake virtual/kernel\n```\n\n##8.\u5168\u4f53\u306ebuild\n\n```bash\n$ bitbake edison-image\n```\n\u203b build\u4e2d\u306bwarning\u304c\u51fa\u3066\u3082\u554f\u984c\u306a\u3057\u3002\n\n##9.Edison\u3078\u713c\u304d\u8fbc\u307f\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\uff0cEdison\u306b\u713c\u304d\u8fbc\u3080\u30d5\u30a1\u30a4\u30eb\u3092toFlash\u30d5\u30a9\u30eb\u30c0\u306b\u307e\u3068\u3081\u308b\u3002\n\n```bash\n$ ../device-software/utils/flash/postBuild.sh\n```\n\n\u3053\u3053\u304b\u3089\u5b9f\u969b\u306bEdison\u306b\u713c\u304d\u8fbc\u307f\u3092\u884c\u3046\u3002\n\u203b\u5148\u305a\u306fEdison\u3068ubuntu\u306f\u63a5\u7d9a\u3057\u306a\u3044\u3067\u304a\u304f\n\n```bash\n$ cd toFlash\n$ sudo ./flashall.sh\n[sudo] password for slavey:\nUsing U-Boot target: edison-default\nNow waiting for dfu device 8087:0a99\nPlease plug and reboot the board\n# \u2191\u3053\u308c\u304c\u51fa\u305f\u3089Edison\u306eUSB OTG\u3092\u63a5\u7d9a\u3059\u308b\u3002\n\n```\n\n\u713c\u304d\u8fbc\u307f\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u3068\u308a\u3042\u3048\u305aEdison\u306e\u96fb\u6e90\u3092\u5207\u3063\u3066ubuntu\u3068\u5207\u308a\u96e2\u3059\u3002\n\n##10.\u3053\u3053\u304b\u3089Edison\u3067\u306e\u4f5c\u696d\n\nMac\u5074\u3067Edison\u3078\u30b7\u30ea\u30a2\u30eb\u30ed\u30b0\u30a4\u30f3\n\n```bash\n$ screen  /dev/tty.usbserial-A703ZARJ 115200 -L \n```\n User : root\n Pass : \u306a\u3057\n\n\n\u5148\u305a\u3001USB\u63a5\u7d9a\u304c\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\nUSB OTG\u3092\u5916\u90e8\u6a5f\u5668\u3067\u5229\u7528\u3059\u308b\u969b\u306f\u96fb\u6e90\u4f9b\u7d66\u3092USB\u4ee5\u5916\u304b\u3089\u884c\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002\n<a href=\"https://communities.intel.com/servlet/JiveServlet/downloadBody/23252-102-8-27632/edison-breakout_HG_331190-004.pdf\">Intel Edison Breakout Board Hardware Guide</a>\u3092\u898b\u308b\u3068\u3001J21\u304b\u30897v\u301c15v\u3092\u53d6\u5f97\u3067\u304d\u308b\u3068\u306e\u3053\u3068\u3002\n\n\u4eca\u56de\u306f\u3001Galileo\u7528\u306e12v\u3092\u30d6\u30ec\u30c3\u30c9\u30dc\u30fc\u30c9\u304b\u3089\u7d50\u5408\u3002\n![IMG_0387.jpg](https://qiita-image-store.s3.amazonaws.com/0/52867/ea6210e5-2264-d23d-8bc2-64c44e40a2bf.jpeg)\n\n```bash\n# \u30c9\u30e9\u30a4\u30d0\u3092\u8a8d\u8b58\u3057\u3066\u3044\u308b\u304b\u306e\u78ba\u8a8d\nroot@edison:~# lsmod\nModule                  Size  Used by\nuvcvideo               71516  0 \nvideobuf2_vmalloc      13003  1 uvcvideo\nvideobuf2_memops       13001  1 videobuf2_vmalloc\nvideobuf2_core         37707  1 uvcvideo\nusb_f_acm              14335  1 \nu_serial               18582  6 usb_f_acm\ng_multi                70703  0 \nlibcomposite           39245  2 usb_f_acm,g_multi\nbcm_bt_lpm             13676  0 \nbcm4334x              574851  0 \n\nroot@edison:~# lsusb\nBus 001 Device 002: ID 05e3:0608 Genesys Logic, Inc. USB-2.0 4-Port HUB\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub\nBus 001 Device 003: ID 056e:7016 Elecom Co., Ltd \nBus 001 Device 004: ID 0d8c:013c C-Media Electronics, Inc. CM108 Audio Controller\n```\n\n\n\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001Edison\u306e\u521d\u671f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n``` bash\n# PASSWORD, WIFI\u306e\u8a2d\u5b9a\n$ configure_edison --setup\n\n# Package Manager\u306e\u8a2d\u5b9a\n$ vi /etc/opkg/base-feeds.conf\nsrc/gz all http://repo.opkg.net/edison/repo/all\nsrc/gz edison http://repo.opkg.net/edison/repo/edison\nsrc/gz core2-32 http://repo.opkg.net/edison/repo/core2-32\n\n$ vi /etc/opkg/intel-iotdk.conf\nsrc intel-iotdk http://iotdk.intel.com/repos/1.1/intelgalactic\nsrc intel-all http://iotdk.intel.com/repos/1.1/iotdk/all\nsrc intel-i586 http://iotdk.intel.com/repos/1.1/iotdk/i586\nsrc intel-x86 http://iotdk.intel.com/repos/1.1/iotdk/x86\n\n# Package Update\n$ opkg update\n$ opkg upgrade\n\n```\n##11.\u30aa\u30fc\u30c7\u30a3\u30aa\u5165\u51fa\u529b\u30c4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nopkg\u3067ALSA\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ opkg install alsa-utils\n```\n\n\n##12.\u97f3\u58f0\u3092\u51fa\u529b\n\u30c6\u30b9\u30c8\u7528\u306e\u30b5\u30a6\u30f3\u30c9\uff08test.wav\uff09\u6e96\u5099\u3057\u3066\u97f3\u58f0\u51fa\u529b\n\n```bash\n$ aplay -D plughw:1,0 test.wav \n```\n\n\n\u30a4\u30e4\u30db\u30f3\u304b\u3089\u97f3\u304c\u51fa\u3066\u3044\u308b\u78ba\u8a8d\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n##13.Edison\u30ed\u30dc\u30c3\u30c8\u63a5\u7d9a\n\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e20\u8ef8\u30b5\u30fc\u30dc\u30e2\u30fc\u30bf\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u4f7f\u7528\n![WR-MSXX.jpg](https://qiita-image-store.s3.amazonaws.com/0/52867/e415b191-89a8-8a32-e307-3dae5d71b1a0.jpeg)\n\n\n\n\u30b5\u30fc\u30dc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u64cd\u4f5c\u306f\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3067\u884c\u3046\u305f\u3081\u3001Edison\u306eUART\u8a2d\u5b9a\u3092\u884c\u3046\u3002\nUART\u306fGalileo\u958b\u767a\u30dc\u30fc\u30c9\u306ePIN0/PIN1(/dev/ttyMFD1)\u3092\u5229\u7528\u3002\n\nUART\u3092\u4f7f\u3046\u306b\u306fGPIO\u306emode\u3092\u5909\u66f4\u3057\u306a\u3051\u308c\u3070\u884c\u3051\u306a\u3044\u3089\u3057\u3044\uff1f\uff01\n\u203bIntel\u306emraa\u3067mraa_uart_init(0);\u3067\u3082OK\u307f\u305f\u3044\u3067\u3059\u3002\n\u3000<a href=\"http://iotdk.intel.com/docs/master/mraa/uart_8h.html\">mraa: uart.h File Reference</a>\n\n\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066mode\u5909\u63db\n\n```Bash\n$ echo 214 > /sys/class/gpio/export 2>&1\n$ echo high > /sys/class/gpio/gpio214/direction\n$ echo low > /sys/class/gpio/gpio214/direction\n \n$ echo 131 > /sys/class/gpio/export 2>&1\n$ echo mode1 > /sys/kernel/debug/gpio_debug/gpio131/current_pinmux\n$ echo 249 > /sys/class/gpio/export 2>&1\n$ echo high > /sys/class/gpio/gpio249/direction\n$ echo 1 > /sys/class/gpio/gpio249/value\n$ echo 217 > /sys/class/gpio/export 2>&1\n$ echo high > /sys/class/gpio/gpio217/direction\n$ echo 1 > /sys/class/gpio/gpio217/value\n$ echo out > /sys/class/gpio/gpio131/direction\n$ echo 0 > /sys/class/gpio/gpio131/value\n \n \n$ echo 130 > /sys/class/gpio/export 2>&1\n$ echo mode1 > /sys/kernel/debug/gpio_debug/gpio130/current_pinmux\n$ echo 248 > /sys/class/gpio/export 2>&1\n$ echo low > /sys/class/gpio/gpio248/direction\n$ echo 0 > /sys/class/gpio/gpio248/value\n$ echo 216 > /sys/class/gpio/export 2>&1\n$ echo in > /sys/class/gpio/gpio216/direction\n$ echo in > /sys/class/gpio/gpio130/direction\n\n$ echo high > /sys/class/gpio/gpio214/direction\n```\n\n\u3053\u306e\u3042\u3068Node.js\u306eserialport\u3067\u63a5\u7d9a\u306e\u78ba\u8a8d\u304c\u3067\u304d\u3001Wifi\u7d4c\u7531\u3067\u30ed\u30dc\u30c3\u30c8\u64cd\u4f5c\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u3053\u3053\u307e\u3067\u3067\u3001\u306a\u3093\u3060\u304b\u3093\u3060\uff12\u65e5\u3082\u639b\u304b\u308a\u307e\u3057\u305f\u3002\n\n\u3053\u306e\u3042\u3068\u97f3\u58f0\u8a8d\u8b58\u3068\u753b\u50cf\u8a8d\u8b58\u306e\u7d44\u8fbc\u307f\u3092\u884c\u3046\u4e88\u5b9a\u3067\u3059\u3002\n\u305f\u3060\u3001Edison\u306e\u5916\u90e8\u6a5f\u5668\u3068\u30b5\u30fc\u30dc9\u8ef8\u3078\u306e\u96fb\u6e90\u4f9b\u7d66\u304c\u8ab2\u984c\u3002\u3002\u3002\n", "tags": ["Edison", "\u96fb\u5b50\u5de5\u4f5c", "Node.js"]}