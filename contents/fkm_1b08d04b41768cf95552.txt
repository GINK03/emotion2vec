{"context": " More than 1 year has passed since last update.\u81ea\u5206\u3067\u4f5c\u3063\u3066\u81ea\u5206\u3067\u904a\u3073\u65b9\u3092\u66f8\u3044\u3066\u307f\u308b\u306e\u5dfb\nhttps://github.com/fkmhrk/kiilib_php\ndemo\u30d5\u30a9\u30eb\u30c0\u306b\u4e00\u901a\u308aAPI\u306e\u547c\u3073\u65b9\u306f\u66f8\u3044\u3066\u305f\u308a\u3059\u308b\u306e\u3067\u3001\u305d\u3063\u3061\u8aad\u3093\u3060\u307b\u3046\u304c\u65e9\u3044\u304b\u3082\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nPEAR\u3067http_request2\u3092\u3044\u308c\u308b\nclone\u3059\u308b\nsrc\u30d5\u30a9\u30eb\u30c0\u3092\u9069\u5207\u306a\u5834\u6240\u306b\u30b3\u30d4\u30fc\nrequire_once (dirname(FILE). '/path-to-src/kii/KiiAppAPI.php');\n\n\n\u3069\u3093\u306a\u6642\u306b\u4f7f\u3044\u305f\u3044\uff1f\n\nPC\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30c7\u30fc\u30bf\u898b\u308c\u308b\u3088\u3046\u306b\u3057\u305f\u3044\nPHP\u88fdCMS\u304b\u3089Push\u3092\u9001\u308a\u305f\u3044\n\uff08\u4ed6\u306bPHP\u304b\u3089Kii Cloud\u306eAPI\u3092\u53e9\u304d\u305f\u3044\u30b1\u30fc\u30b9\u304c\u3042\u308c\u3070\u6559\u3048\u3066\uff09\n\n\nAPI\u3092\u53e9\u3044\u3066\u307f\u308b\n\n\u30ed\u30b0\u30a4\u30f3\n<?php\ndefine ('APP_ID', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp ID');\ndefine ('APP_KEY', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp Key');\ndefine ('SITE', KiiContext::SITE_JP); // \u65e5\u672c\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u3046\n\nrequire_once (dirname(__FILE__). '/../src/kii/KiiAppAPI.php');\n\n$context = new KiiContext(APP_ID, APP_KEY, SITE);\n$api = new KiiAppAPI($context);\n\ntry {\n    $user = $api->login($username, $password);\n    echo 'user id : ' . $user->getPath(). \"\\n\";\n} catch (CloudException $e) {\n    echo 'failed to login '. $e->getStatus();\n    print_r($e->getResponse());\n}\n?>\n\n$username\u306f\u30e6\u30fc\u30b6\u30fc\u540d / \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9 / (+81\u304b\u3089\u59cb\u307e\u308b)\u96fb\u8a71\u756a\u53f7\u306e\u3069\u308c\u3067\u3082OK\n\nAdmin\u6a29\u9650\u3067\u30ed\u30b0\u30a4\u30f3\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u3067\u4f7f\u3044\u305f\u3044\u6642\u306f\u3053\u306e\u6a29\u9650\u304c\u4fbf\u5229\n<?php\ndefine ('APP_ID', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp ID');\ndefine ('APP_KEY', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp Key');\ndefine ('SITE', KiiContext::SITE_JP); // \u65e5\u672c\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u3046\n\nrequire_once (dirname(__FILE__). '/../src/kii/KiiAppAPI.php');\n\n$context = new KiiContext(APP_ID, APP_KEY, SITE);\n$api = new KiiAppAPI($context);\n\ntry {\n    // \u4e00\u5fdcKiiUser\u304c\u8fd4\u3063\u3066\u304f\u308b\u3051\u3069\u3001ID\u306f\u30c0\u30df\u30fc\u3060\u3063\u305f\u308a\u3059\u308b\n    $api->loginAsAdmin($clientId, $clientSecret);\n} catch (CloudException $e) {\n    echo 'failed to login '. $e->getStatus();\n    print_r($e->getResponse());\n}\n?>\n\n$clientId\u3068$clientSecret\u306fhttps://developer.kii.com \u306eAppID / AppKey\u3068\u540c\u3058\u3068\u3053\u308d\u306b\u66f8\u3044\u3066\u3042\u308b\n\n\u65b0\u898f\u767b\u9332\n\u3042\u308c\u3001API\u306a\u3055\u305d\u3046\uff08\u6b7b\n\n\u30e6\u30fc\u30b6\u30fc\u306e\u30d0\u30b1\u30c4\u3092\u691c\u7d22\u3057\u3066\u307f\u308b\n$user\u306f\u30ed\u30b0\u30a4\u30f3\u306e\u623b\u308a\u5024\u304c\u5165\u3063\u3066\u3044\u308b\u3068\u3057\u307e\u3059\n<?php\ndefine ('APP_ID', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp ID');\ndefine ('APP_KEY', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp Key');\ndefine ('SITE', KiiContext::SITE_JP); // \u65e5\u672c\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u3046\n\nrequire_once (dirname(__FILE__). '/../src/kii/KiiAppAPI.php');\n\n$context = new KiiContext(APP_ID, APP_KEY, SITE);\n$api = new KiiAppAPI($context);\n\ntry {\n    // \u30ed\u30b0\u30a4\u30f3\u4e2d\u306e\u30e6\u30fc\u30b6\u30fc\u306e'post'\u30d0\u30b1\u30c4\u3092\u691c\u7d22\u5bfe\u8c61\u306b\u3059\u308b\n    $bucket = new KiiBucket($user, 'post');\n    $condition = new KiiCondition(KiiClause::all());\n        // 10\u4ef6\u3060\u3051\u3068\u3063\u3066\u304f\u308b\n    $condition->setLimit(10);\n\n    $result = $api->query($bucket, $condition);\n    print_r($result);\n\n} catch (CloudException $e) {\n    echo 'failed to call Kii API '. $e->getStatus();\n    print_r($e->getResponse());\n}\n?>\n\n$result\u306fKiiObject\u306e\u914d\u5217\n\nApp Scope\u306aTopics\u306bPush\u3092\u9001\u308b\nAdmin\u6a29\u9650\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304a\u304d\u307e\u3059\n<?php\ndefine ('APP_ID', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp ID');\ndefine ('APP_KEY', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp Key');\ndefine ('SITE', KiiContext::SITE_JP); // \u65e5\u672c\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u3046\n\nrequire_once (dirname(__FILE__). '/../src/kii/KiiAppAPI.php');\n\n$context = new KiiContext(APP_ID, APP_KEY, SITE);\n$api = new KiiAppAPI($context);\n\ntry {\n    // App Scope\u306eupdate\u30c8\u30d4\u30c3\u30af\u30b9\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u3052\u305f\u3044\n    $topic = new KiiTopic(new KiiApp(), 'update');\n    // \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5185\u5bb9\u3092\u8868\u3059\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308b\n    $message = new KiiTopicMessage();\n    $message->data['title'] = '\u65b0\u3057\u3044\u304a\u77e5\u3089\u305b\u3060\u3088\uff01';\n\n    $result = $topicApi->sendMessage($topic, $message);\n    echo 'push id : '. $result;\n\n} catch (CloudException $e) {\n    echo 'failed to call Kii API '. $e->getStatus();\n    print_r($e->getResponse());\n}\n?>\n\n\u4ed6\u306b\u3082\u300c\u3053\u3093\u306a\u3053\u3068\u3067\u304d\u306a\u3044\u306e\uff1f\u300d\u3068\u3044\u3046\u306e\u304c\u3042\u308c\u3070\u8ffd\u8a18\u3057\u3066\u3044\u304d\u307e\u3059\uff08\u591a\u5206\n\u81ea\u5206\u3067\u4f5c\u3063\u3066\u81ea\u5206\u3067\u904a\u3073\u65b9\u3092\u66f8\u3044\u3066\u307f\u308b\u306e\u5dfb\nhttps://github.com/fkmhrk/kiilib_php\n\ndemo\u30d5\u30a9\u30eb\u30c0\u306b\u4e00\u901a\u308aAPI\u306e\u547c\u3073\u65b9\u306f\u66f8\u3044\u3066\u305f\u308a\u3059\u308b\u306e\u3067\u3001\u305d\u3063\u3061\u8aad\u3093\u3060\u307b\u3046\u304c\u65e9\u3044\u304b\u3082\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n1. PEAR\u3067http_request2\u3092\u3044\u308c\u308b\n2. clone\u3059\u308b\n3. src\u30d5\u30a9\u30eb\u30c0\u3092\u9069\u5207\u306a\u5834\u6240\u306b\u30b3\u30d4\u30fc\n4. require_once (dirname(__FILE__). '/path-to-src/kii/KiiAppAPI.php');\n\n# \u3069\u3093\u306a\u6642\u306b\u4f7f\u3044\u305f\u3044\uff1f\n\n* PC\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30c7\u30fc\u30bf\u898b\u308c\u308b\u3088\u3046\u306b\u3057\u305f\u3044\n* PHP\u88fdCMS\u304b\u3089Push\u3092\u9001\u308a\u305f\u3044\n* \uff08\u4ed6\u306bPHP\u304b\u3089Kii Cloud\u306eAPI\u3092\u53e9\u304d\u305f\u3044\u30b1\u30fc\u30b9\u304c\u3042\u308c\u3070\u6559\u3048\u3066\uff09\n\n# API\u3092\u53e9\u3044\u3066\u307f\u308b\n\n## \u30ed\u30b0\u30a4\u30f3\n\n```php\n<?php\ndefine ('APP_ID', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp ID');\ndefine ('APP_KEY', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp Key');\ndefine ('SITE', KiiContext::SITE_JP); // \u65e5\u672c\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u3046\n\nrequire_once (dirname(__FILE__). '/../src/kii/KiiAppAPI.php');\n\n$context = new KiiContext(APP_ID, APP_KEY, SITE);\n$api = new KiiAppAPI($context);\n\ntry {\n\t$user = $api->login($username, $password);\n\techo 'user id : ' . $user->getPath(). \"\\n\";\n} catch (CloudException $e) {\n\techo 'failed to login '. $e->getStatus();\n\tprint_r($e->getResponse());\n}\n?>\n```\n\n`$username`\u306f\u30e6\u30fc\u30b6\u30fc\u540d / \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9 / (+81\u304b\u3089\u59cb\u307e\u308b)\u96fb\u8a71\u756a\u53f7\u306e\u3069\u308c\u3067\u3082OK\n\n## Admin\u6a29\u9650\u3067\u30ed\u30b0\u30a4\u30f3\n\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u3067\u4f7f\u3044\u305f\u3044\u6642\u306f\u3053\u306e\u6a29\u9650\u304c\u4fbf\u5229\n\n```php\n<?php\ndefine ('APP_ID', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp ID');\ndefine ('APP_KEY', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp Key');\ndefine ('SITE', KiiContext::SITE_JP); // \u65e5\u672c\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u3046\n\nrequire_once (dirname(__FILE__). '/../src/kii/KiiAppAPI.php');\n\n$context = new KiiContext(APP_ID, APP_KEY, SITE);\n$api = new KiiAppAPI($context);\n\ntry {\n\t// \u4e00\u5fdcKiiUser\u304c\u8fd4\u3063\u3066\u304f\u308b\u3051\u3069\u3001ID\u306f\u30c0\u30df\u30fc\u3060\u3063\u305f\u308a\u3059\u308b\n\t$api->loginAsAdmin($clientId, $clientSecret);\n} catch (CloudException $e) {\n\techo 'failed to login '. $e->getStatus();\n\tprint_r($e->getResponse());\n}\n?>\n```\n`$clientId`\u3068`$clientSecret`\u306fhttps://developer.kii.com \u306eAppID / AppKey\u3068\u540c\u3058\u3068\u3053\u308d\u306b\u66f8\u3044\u3066\u3042\u308b\n\n## \u65b0\u898f\u767b\u9332\n\n\u3042\u308c\u3001API\u306a\u3055\u305d\u3046\uff08\u6b7b\n\n## \u30e6\u30fc\u30b6\u30fc\u306e\u30d0\u30b1\u30c4\u3092\u691c\u7d22\u3057\u3066\u307f\u308b\n\n`$user`\u306f\u30ed\u30b0\u30a4\u30f3\u306e\u623b\u308a\u5024\u304c\u5165\u3063\u3066\u3044\u308b\u3068\u3057\u307e\u3059\n\n```php\n<?php\ndefine ('APP_ID', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp ID');\ndefine ('APP_KEY', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp Key');\ndefine ('SITE', KiiContext::SITE_JP); // \u65e5\u672c\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u3046\n\nrequire_once (dirname(__FILE__). '/../src/kii/KiiAppAPI.php');\n\n$context = new KiiContext(APP_ID, APP_KEY, SITE);\n$api = new KiiAppAPI($context);\n\ntry {\n\t// \u30ed\u30b0\u30a4\u30f3\u4e2d\u306e\u30e6\u30fc\u30b6\u30fc\u306e'post'\u30d0\u30b1\u30c4\u3092\u691c\u7d22\u5bfe\u8c61\u306b\u3059\u308b\n\t$bucket = new KiiBucket($user, 'post');\n\t$condition = new KiiCondition(KiiClause::all());\n        // 10\u4ef6\u3060\u3051\u3068\u3063\u3066\u304f\u308b\n\t$condition->setLimit(10);\n\n\t$result = $api->query($bucket, $condition);\n\tprint_r($result);\n\n} catch (CloudException $e) {\n\techo 'failed to call Kii API '. $e->getStatus();\n\tprint_r($e->getResponse());\n}\n?>\n```\n\n`$result`\u306f`KiiObject`\u306e\u914d\u5217\n\n## App Scope\u306aTopics\u306bPush\u3092\u9001\u308b\n\nAdmin\u6a29\u9650\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304a\u304d\u307e\u3059\n\n```php\n<?php\ndefine ('APP_ID', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp ID');\ndefine ('APP_KEY', '\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306eApp Key');\ndefine ('SITE', KiiContext::SITE_JP); // \u65e5\u672c\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u3046\n\nrequire_once (dirname(__FILE__). '/../src/kii/KiiAppAPI.php');\n\n$context = new KiiContext(APP_ID, APP_KEY, SITE);\n$api = new KiiAppAPI($context);\n\ntry {\n\t// App Scope\u306eupdate\u30c8\u30d4\u30c3\u30af\u30b9\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u3052\u305f\u3044\n\t$topic = new KiiTopic(new KiiApp(), 'update');\n\t// \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5185\u5bb9\u3092\u8868\u3059\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308b\n\t$message = new KiiTopicMessage();\n\t$message->data['title'] = '\u65b0\u3057\u3044\u304a\u77e5\u3089\u305b\u3060\u3088\uff01';\n\n\t$result = $topicApi->sendMessage($topic, $message);\n\techo 'push id : '. $result;\n\t\n} catch (CloudException $e) {\n\techo 'failed to call Kii API '. $e->getStatus();\n\tprint_r($e->getResponse());\n}\n?>\n```\n\n\u4ed6\u306b\u3082\u300c\u3053\u3093\u306a\u3053\u3068\u3067\u304d\u306a\u3044\u306e\uff1f\u300d\u3068\u3044\u3046\u306e\u304c\u3042\u308c\u3070\u8ffd\u8a18\u3057\u3066\u3044\u304d\u307e\u3059\uff08\u591a\u5206\n", "tags": ["PHP", "KiiCloud"]}