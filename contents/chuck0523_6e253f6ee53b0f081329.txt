{"context": "Medium\u306e\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u8aad\u307f\u307e\u3057\u305f\u3002\nReact, Webpack, and Horizon Quick Start\n\u9762\u767d\u305d\u3046\u3060\u3063\u305f\u306e\u3067\u3001\u50d5\u3082\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u307b\u307c\u30b3\u30d4\u30da\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001\u4e00\u5fdc\u3001\u8457\u8005\u306e\u8a31\u53ef\u306f\u3068\u3063\u3066\u3042\u308a\u307e\u3059\u3002\n\u305d\u308c\u305e\u308c\u306e\u30c4\u30fc\u30eb\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aac\u660e\u306f\u7701\u7565\u3057\u307e\u3059\u3002\u3068\u3044\u3046\u304b\u3001RethinkDB\u3082Horizon.js\u3082\u521d\u3081\u3066\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u30025 minutes Javascript\u3068\u3044\u3046\u30dd\u30c3\u30c9\u30ad\u30e3\u30b9\u30c8\u3067\u6c17\u306b\u306f\u306a\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u4f7f\u3046\u306e\u306f\u521d\u3081\u3066\u3067\u3059\u3002\u308f\u304f\u308f\u304f\u3002\n\n\u30b9\u30c6\u30c3\u30d7\uff11\n\u307e\u305a\u3001\u5fc5\u8981\u306a\u30c4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001\u958b\u767a\u74b0\u5883\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u305f\u5f8c\u3001\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u30b5\u30fc\u30d0\u3092\u7acb\u3061\u4e0a\u3052\u308b\u3068\u3053\u308d\u307e\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\nRethinkDB\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRethinkDB\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nInstalling RethinkDB\n\u81ea\u5206\u306fHomebrew\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n$ brew install rethinkdb\n\nRethinkDB\u306f\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u305f\u3081\u306e\u3001\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9DB\u3089\u3057\u3044\u3067\u3059\u3002\n\nHorizon\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nHorizon\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\uff08Horizon.js\u306a\u306e\u304b\u3001Horizon\u306a\u306e\u304b\u3044\u307e\u3044\u3061\u308f\u304b\u3089\u306a\u3044\u3002\u3002\uff09\n\u3053\u3061\u3089\u306f\u3001npm\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ npm i -g horizon\n\nhorizon\u306f\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3044\u3046\u3088\u308a\u306f\u3001\u30c4\u30fc\u30eb\u306a\u306e\u3067\u3001-g\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307f\u305f\u3044\u3067\u3059\u306d\u3002\n\u30b0\u30ed\u30fc\u30d0\u30eb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3061\u3087\u3063\u3068\u3002\u3002\u3002\u3068\u3044\u3046\u65b9\u306f\u4eee\u60f3\u74b0\u5883\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002\nhorizon\u306e\u30b3\u30de\u30f3\u30c9\u306fhz\u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n\n$ hz version\n\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u521d\u671f\u5316\u3057\u307e\u3059\u3002\n$ hz init [\u30a2\u30d7\u30ea\u540d]\n$ cd [\u30a2\u30d7\u30ea\u540d]\n$ npm init -y\n\n\u3053\u3093\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u304c\u751f\u6210\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u4eca\u56de\u3001.hz/config.toml\u306b\u306f\u89e6\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u4e00\u8aad\u3059\u308b\u3068\u9762\u767d\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u306b\u307e\u3064\u308f\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002webpack\u3084react,babel\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u306d\u3002\n$ npm install --save react react-dom webpack babel-core babel-polyfill babel-loader babel-plugin-transform-runtime babel-preset-es2015 babel-preset-stage-0 babel-preset-react babel-plugin-transform-runtime\n\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u8005\u306b\u3068\u3063\u3066\u306f\u3001\u304a\u306a\u3058\u307f\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u306d\u3002\n\u958b\u767a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3082\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ mkdir src/components\n$ touch src/index.jsx\n$ touch src/components/app.jsx\n\n\nReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4f5c\u6210\n\u6700\u4f4e\u9650\u306eReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n// ./src/index.jsx\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './components/app'\n\nReactDOM.render(\n  <App />,\n  document.querySelector('.attach')\n)\n\n// ./src/components/app.jsx\n\nimport React, { Component } from 'react'\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        \u3053\u3053\u306b\u30a2\u30d7\u30ea\u3092\u69cb\u7bc9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n      </div>\n    )\n  }\n}\n\nexport default App\n\n\u3055\u3089\u306b\u3001index.html\u3082\u4fee\u6b63\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n<!-- dist/index.html -->\n\n<!doctype html>\n<html>\n  <head>\n    <meta charset=\"UTF-8\">\n    <script src=\"/horizon/horizon.js\"></script>\n    <script>\n      var horizon = Horizon();\n      horizon.onReady(function() {\n        document.querySelector('h1').innerHTML = 'reChat works!'\n      });\n      horizon.connect();\n    </script>\n  </head>\n  <body>\n    <div class=\"attach\"></div>\n    <script src=\"./bundle.js\"></script>\n  </body>\n</html>\n\n\n\n\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\uff06\u30d0\u30f3\u30c9\u30eb\u8a2d\u5b9a\n\u6b21\u306b\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3068\u30d0\u30f3\u30c9\u30eb\u306e\u6e96\u5099\u3092\u884c\u3044\u307e\u3059\u3002\n$ touch babel.rc\n$ touch webpack.config.js\n\nbabel.rc\u306b\u306fbabel\u306b\u3088\u308b\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u307e\u3059\u3002\u305d\u3057\u3066\u3001webpack.config.js\u306b\u306f\u3001babel\u3092\u542b\u3081\u305fJS\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u5168\u822c\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u307e\u3059\u3002\n\u8a2d\u5b9a\u3092\u66f8\u304d\u7d42\u3048\u305f\u3089\u3001webpack\u3092\uff57atch\u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ webpack --watch --progress --colors\n\n\u4f55\u5ea6\u3082\u4f7f\u3046\u3082\u306e\u3067\u3059\u306e\u3067\u3001\u81ea\u5206\u306fpackage.json\u306enpm scripts\u306b\u8a18\u8ff0\u3057\u307e\u3057\u305f\u3002\n\"scripts\": {   \n  \"watch\": \"webpack --watch --progress --colors\"\n},\n\n\nHorizon dev\u30b5\u30fc\u30d0\nHorizon\u306e\u958b\u767a\u30b5\u30fc\u30d0\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\n$ hz serve --dev\n\n\nhttp://localhost:49742 \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\u3002\n\n\u3053\u308c\u306fAdminInterface\uff08\u7ba1\u7406\u753b\u9762\uff09\u3068\u3044\u3046\u3082\u306e\u3089\u3057\u3044\u3067\u3059\u306d\u3002\n\u6211\u3005\u304c\u4f5c\u3063\u3066\u3044\u304f\u30a2\u30d7\u30ea\u753b\u9762\u306f http://localhost:8181/ \u3067\u3059\u3002\n\u3053\u3053\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u304d\u3061\u3093\u3068React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u30ec\u30f3\u30c0\u30fc\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n\n\u30b9\u30c6\u30c3\u30d7\uff12\n\u958b\u767a\u74b0\u5883\u304c\u5b8c\u6210\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u6b21\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u3082\u3063\u3068React\u30c1\u30c3\u30af\u306b\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n\u307e\u305a\u306f\u3044\u304f\u3064\u304b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ touch src/components/messages.jsx\n$ touch src/components/message.jsx\n$ touch dist/style.css\n\nstyle.css\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u6700\u4f4e\u9650\u306e\u898b\u305f\u76ee\u3092\u898f\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n.center {\n  margin: auto;\n  border: 1px solid;\n  border-radius: 2px;\n  padding: 10px;\n}\n\n\u4eca\u56de\u306f\u30c1\u30e3\u30c3\u30c8\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3059\u308b\u306e\u3067\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u307e\u305a\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u3059\u3002\n// .src/components/message.jsx\n\nimport React, { Component } from 'react'\nimport Message from './message'\n\nclass Messages extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      convo: [\n        {text: 'this is text', author: '@steedhelix'},\n        {text: 'this is some text', author: '@steedhelix'},\n        {text: 'this is more text', author: '@steedhelix'},\n        {text: 'this is other text', author: '@steedhelix'}\n      ]\n    }\n  }\n\n  render() {\n    let msgjsx = this.state.convo.map((message, i) => {\n      return <Message msg={message} key={i} />\n    })\n    return (\n      <div className='container-fluid'>\n        {msgjsx}\n      </div>\n    )\n  }\n}\nexport default Messages\n\n\nmap\u3067\u30c7\u30fc\u30bf\u304b\u3089\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u4e00\u89a7\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\u5358\u4e00\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n// .src/components/message.jsx\n\nimport React, { Component } from 'react'\n\nclass Message extends Component {\n  constructor(props) {\n    super(props)\n    this.props = props\n  }\n  render() {\n    return(\n      <div className='row'>\n        <div className='col-xs-2 center'>\n          {this.props.msg.author}\n        </div>\n        <div className='col-xs-10 center'>\n          {this.props.msg.text}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Message\n\n\n\u6700\u5f8c\u306b\u3001Messages\u3092\u30ec\u30f3\u30c0\u30fc\u3059\u308b\u305f\u3081\u306b\u3001App.jsx\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n// .src/components/app.jsx\n\nimport React, { Component } from 'react'\n\nimport Messages from './messages'\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <form>\n          <div className='center'>\n            <button>\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1</button>\n            <input placeholder='By'></input>\n            <input placeholder='write message here'></input>\n          </div>\n        </form>\n        <Messages />\n      </div>\n    )\n  }\n}\n\nexport default App\n\n\u3055\u3089\u306b\u4eca\u56de\u306f\u3001Bootstrap\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\nindex.html\u306ehead\u30bf\u30b0\u5185\u306b\u4ee5\u4e0b\u306e\uff12\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\">\n    <link rel=\"stylesheet\" href=\"style.css\">\n\n\u6539\u3081\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u304d\u3061\u3093\u3068React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u306d\u3002\n\n\u30b9\u30c6\u30c3\u30d7\uff13\n\u3055\u3066\u3001\u3053\u3053\u304b\u3089\u306fDB\u3068\u306e\u901a\u4fe1\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3055\u3089\u306b\u3082\u3046\uff11\u3064\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ npm install --save @horizon/client \n\n\nindex.html\u306e\u5b8c\u6210\nindex.html\u304b\u3089\u4e0d\u8981\u306a\u7b87\u6240\u3092\u524a\u9664\u3057\u307e\u3059\u3002index.html\u3078\u306e\u4fee\u6b63\u306f\u3053\u308c\u304c\u6700\u5f8c\u306b\u306a\u308a\u307e\u3059\u3002\n<!doctype html>\n<html>\n  <head>\n    <meta charset=\"UTF-8\">\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\">\n    <link rel=\"stylesheet\" href=\"style.css\">  \n  </head>\n  <body>\n    <div class=\"attach\"></div>\n    <script src=\"./bundle.js\"></script>\n  </body>\n</html>\n\nHorizon\u306b\u95a2\u3059\u308bscript\u306f\u3001\u5148\u307b\u3069\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u5185\u5305\u3055\u308c\u308b\u306e\u3067\u3001\u4e0d\u8981\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\nApp.jsx\u306e\u4fee\u6b63\nApp.jsx\u3092\u5927\u304d\u304f\u4fee\u6b63\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n// ./src/components/app.jsx\n\nimport React, { Component } from 'react'\nimport Messages from './messages'\n\n// \u65b0\u3057\u304f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fhorizon\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u307e\u3059\u3002\nconst Horizon = require('@horizon/client')\nconst horizon = Horizon({secure: false})\n\n// message\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092RethinkDB\u5185\u3067\u521d\u671f\u5316\u3057\u307e\u3059\u3002\nconst chat = horizon('message')\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      author: false,\n      text: false\n    }\n  }\n\n  // \u4ee5\u4e0b\u306e\uff12\u3064\u306ehandleChange\u95a2\u6570\u306fform\u306e\u5024\u3092\u30a6\u30a9\u30c3\u30c1\u3057\u307e\u3059\u3002\n  handleChangeAuthor(event) {\n    this.setState({author: event.target.value})\n  }\n\n  handleChangeText(event) {\n    this.setState({text: event.target.value})\n  }\n\n  sendMessage() {\n    // \u7a7a\u6587\u5b57\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u66f8\u304d\u624b\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u306a\u3044\u306a\u3089\u3070\u3001\u65e9\u3081\u306breturn\u3059\u308b\u3002\n    if(this.state.text === false || this.state.author === false) {\n      alert(\"Invalid Submission\")\n      return\n    }\n    let message = {\n      text: this.state.text,\n      author: this.state.author\n    }\n\n    // store\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u65b0\u3057\u3044\u30e1\u30c3\u30bb\u30fc\u30b8\u3092RethinkDB\u4e0a\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0\u3059\u308b\u3002\n    chat.store(message)\n  }\n\n\n  render() {\n    return (\n      <div>\n        <form>\n          <div className='center'>\n            <button onClick={this.sendMessage.bind(this)}>\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1</button>\n            <input onChange={this.handleChangeAuthor.bind(this)} placeholder='By'></input>\n            <input onChange={this.handleChangeText.bind(this)} placeholder='write message here'></input>\n          </div>\n        </form>\n        {/* chat\u3092prop\u3068\u3057\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u6e21\u3059\u3002 */}\n        <Messages chat={chat} />\n      </div>\n    )\n  }\n}\n\nexport default App\n\n\nhorizon\u3092\u4f7f\u3063\u3066\u3001RethinkDB\u3068\u306e\u3084\u308a\u3068\u308a\u3092\u3059\u308b\u3088\u3046\u306a\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\nMessages.jsx\u306e\u4fee\u6b63\n// ./src/components/messages.jsx\n\nimport React, { Component } from 'react'\nimport Message from './message'\n\nclass Messages extends Component {\n  constructor(props) {\n    super(props)\n\n    this.chat = props.chat\n\n    // Messages\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306estate\u3092\u7a7a\u914d\u5217\u3067\u521d\u671f\u5316\u3002\n    this.state = {\n      convo: []\n    }\n  }\n\n  // \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u30de\u30a6\u30f3\u30c8\u3055\u308c\u305f\u6642\u3001this.chat.watch\u3092\u7528\u3044\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u554f\u3044\u5408\u308f\u305b\u3092\u884c\u3046\u3002\n  // state\u3092\u30bb\u30c3\u30c8\u3057\u3066\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6301\u305f\u305b\u3066\u518d\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u3002\n  componentDidMount() {\n    this.chat.watch().subscribe(\n      (messages) => {\n        let convo = messages.map((message) => {\n            return message\n        })\n        this.setState({convo: convo})\n      },\n      (err) => {\n        console.log(err)\n      }\n    )\n  }\n\n  render() {\n    let msgjsx = this.state.convo.map((message, i) => {\n      return <Message msg={message} key={i} />\n    })\n    return (\n      <div className='container-fluid'>\n        {msgjsx}\n      </div>\n    )\n  }\n}\nexport default Messages\n\n\nApp.jsx\u306e\u4fee\u6b63\u3092\u53d7\u3051\u3066\u3001Messages.jsx\u3082\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\n\u8a73\u3057\u3044\u3053\u3068\u306f\u3001\u30b3\u30e1\u30f3\u30c8\u3067\u66f8\u304d\u307e\u3057\u305f\u3002\n\n\u5b8c\u6210\uff01\nReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4fee\u6b63\u3092\u7d4c\u3066\u3001\u30c1\u30e3\u30c3\u30c8\u30a2\u30d7\u30ea\u304c\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\n\nRethinkDB\u3068\u306e\u901a\u4fe1\u3092\u884c\u3044\u3001DB\u304b\u3089state\u306b\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8ffd\u52a0\u3055\u308c\u308b\u305f\u3073\u306bAdmin\u753b\u9762\u306b\u305d\u306e\u65e8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\u7d50\u8ad6\uff1a\u305f\u306e\u3057\u3044\nMedium\u306e\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u8aad\u307f\u307e\u3057\u305f\u3002\n\n[React, Webpack, and Horizon Quick Start](https://medium.com/front-end-hacking/react-webpack-and-horizon-quick-start-b9335c1ece53#.7vfg82b5n)\n\n\u9762\u767d\u305d\u3046\u3060\u3063\u305f\u306e\u3067\u3001\u50d5\u3082\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u307b\u307c\u30b3\u30d4\u30da\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001\u4e00\u5fdc\u3001[\u8457\u8005\u306e\u8a31\u53ef](https://twitter.com/steedhelix/status/744219021222907904)\u306f\u3068\u3063\u3066\u3042\u308a\u307e\u3059\u3002\n\n\u305d\u308c\u305e\u308c\u306e\u30c4\u30fc\u30eb\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aac\u660e\u306f\u7701\u7565\u3057\u307e\u3059\u3002\u3068\u3044\u3046\u304b\u3001RethinkDB\u3082Horizon.js\u3082\u521d\u3081\u3066\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002[5 minutes Javascript](https://fivejs.codeschool.com/)\u3068\u3044\u3046\u30dd\u30c3\u30c9\u30ad\u30e3\u30b9\u30c8\u3067\u6c17\u306b\u306f\u306a\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u4f7f\u3046\u306e\u306f\u521d\u3081\u3066\u3067\u3059\u3002\u308f\u304f\u308f\u304f\u3002\n\n# \u30b9\u30c6\u30c3\u30d7\uff11\n\n\u307e\u305a\u3001\u5fc5\u8981\u306a\u30c4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001\u958b\u767a\u74b0\u5883\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u305f\u5f8c\u3001\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u30b5\u30fc\u30d0\u3092\u7acb\u3061\u4e0a\u3052\u308b\u3068\u3053\u308d\u307e\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\n\n## RethinkDB\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nRethinkDB\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n[Installing RethinkDB](https://www.rethinkdb.com/docs/install/)\n\n\u81ea\u5206\u306fHomebrew\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\n```\n$ brew install rethinkdb\n```\n\nRethinkDB\u306f\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u305f\u3081\u306e\u3001\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9DB\u3089\u3057\u3044\u3067\u3059\u3002\n\n## Horizon\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nHorizon\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\uff08Horizon.js\u306a\u306e\u304b\u3001Horizon\u306a\u306e\u304b\u3044\u307e\u3044\u3061\u308f\u304b\u3089\u306a\u3044\u3002\u3002\uff09\n\u3053\u3061\u3089\u306f\u3001npm\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n$ npm i -g horizon\n```\n\nhorizon\u306f\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3044\u3046\u3088\u308a\u306f\u3001\u30c4\u30fc\u30eb\u306a\u306e\u3067\u3001-g\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307f\u305f\u3044\u3067\u3059\u306d\u3002\n\u30b0\u30ed\u30fc\u30d0\u30eb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3061\u3087\u3063\u3068\u3002\u3002\u3002\u3068\u3044\u3046\u65b9\u306f\u4eee\u60f3\u74b0\u5883\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002\n\n\nhorizon\u306e\u30b3\u30de\u30f3\u30c9\u306fhz\u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n```\n$ hz version\n```\n\n## \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u521d\u671f\u5316\u3057\u307e\u3059\u3002\n\n```\n$ hz init [\u30a2\u30d7\u30ea\u540d]\n$ cd [\u30a2\u30d7\u30ea\u540d]\n$ npm init -y\n```\n\n\u3053\u3093\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u304c\u751f\u6210\u3055\u308c\u307e\u3057\u305f\u3002\n<img width=\"175\" alt=\"Screen Shot 2016-06-18 at 8.25.39 PM.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/77614/47b57059-7175-d3e9-f6d6-6deab3d11228.png\">\n\n\u4eca\u56de\u3001.hz/config.toml\u306b\u306f\u89e6\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u4e00\u8aad\u3059\u308b\u3068\u9762\u767d\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n## \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9\n\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u306b\u307e\u3064\u308f\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002webpack\u3084react,babel\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u306d\u3002\n\n```\n$ npm install --save react react-dom webpack babel-core babel-polyfill babel-loader babel-plugin-transform-runtime babel-preset-es2015 babel-preset-stage-0 babel-preset-react babel-plugin-transform-runtime\n```\n\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u8005\u306b\u3068\u3063\u3066\u306f\u3001\u304a\u306a\u3058\u307f\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u306d\u3002\n\n\u958b\u767a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3082\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n$ mkdir src/components\n$ touch src/index.jsx\n$ touch src/components/app.jsx\n```\n\n## React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4f5c\u6210\n\n\u6700\u4f4e\u9650\u306eReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```js\n// ./src/index.jsx\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './components/app'\n\nReactDOM.render(\n  <App />,\n  document.querySelector('.attach')\n)\n```\n\n```js\n// ./src/components/app.jsx\n\nimport React, { Component } from 'react'\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        \u3053\u3053\u306b\u30a2\u30d7\u30ea\u3092\u69cb\u7bc9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n      </div>\n    )\n  }\n}\n\nexport default App\n```\n\n\u3055\u3089\u306b\u3001index.html\u3082\u4fee\u6b63\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```html\n<!-- dist/index.html -->\n\n<!doctype html>\n<html>\n  <head>\n    <meta charset=\"UTF-8\">\n    <script src=\"/horizon/horizon.js\"></script>\n    <script>\n      var horizon = Horizon();\n      horizon.onReady(function() {\n        document.querySelector('h1').innerHTML = 'reChat works!'\n      });\n      horizon.connect();\n    </script>\n  </head>\n  <body>\n    <div class=\"attach\"></div>\n    <script src=\"./bundle.js\"></script>\n  </body>\n</html>\n\n```\n\n## \u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\uff06\u30d0\u30f3\u30c9\u30eb\u8a2d\u5b9a\n\n\u6b21\u306b\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3068\u30d0\u30f3\u30c9\u30eb\u306e\u6e96\u5099\u3092\u884c\u3044\u307e\u3059\u3002\n\n```\n$ touch babel.rc\n$ touch webpack.config.js\n```\nbabel.rc\u306b\u306fbabel\u306b\u3088\u308b\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u307e\u3059\u3002\u305d\u3057\u3066\u3001webpack.config.js\u306b\u306f\u3001babel\u3092\u542b\u3081\u305fJS\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u5168\u822c\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u307e\u3059\u3002\n\n\n\u8a2d\u5b9a\u3092\u66f8\u304d\u7d42\u3048\u305f\u3089\u3001webpack\u3092\uff57atch\u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\n$ webpack --watch --progress --colors\n```\n\n\u4f55\u5ea6\u3082\u4f7f\u3046\u3082\u306e\u3067\u3059\u306e\u3067\u3001\u81ea\u5206\u306fpackage.json\u306enpm scripts\u306b\u8a18\u8ff0\u3057\u307e\u3057\u305f\u3002\n\n```json\n\"scripts\": {   \n  \"watch\": \"webpack --watch --progress --colors\"\n},\n```\n\n## Horizon dev\u30b5\u30fc\u30d0\nHorizon\u306e\u958b\u767a\u30b5\u30fc\u30d0\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\n\n```\n$ hz serve --dev\n```\n\n<img width=\"405\" alt=\"Screen Shot 2016-06-19 at 12.33.25 AM.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/77614/7f66590e-c0db-094e-1157-81b62322611d.png\">\n\n[http://localhost:49742](http://localhost:49742) \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\u3002\n<img width=\"1000\" alt=\"Screen Shot 2016-06-19 at 12.34.36 AM.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/77614/94089922-1e7c-4639-4da5-104d4cb433ed.png\">\n\n\u3053\u308c\u306fAdminInterface\uff08\u7ba1\u7406\u753b\u9762\uff09\u3068\u3044\u3046\u3082\u306e\u3089\u3057\u3044\u3067\u3059\u306d\u3002\n\n\u6211\u3005\u304c\u4f5c\u3063\u3066\u3044\u304f\u30a2\u30d7\u30ea\u753b\u9762\u306f [http://localhost:8181/](http://localhost:8181/) \u3067\u3059\u3002\n\u3053\u3053\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u304d\u3061\u3093\u3068React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u30ec\u30f3\u30c0\u30fc\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n<img width=\"364\" alt=\"Screen Shot 2016-06-19 at 12.45.12 AM.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/77614/1376ebc9-df37-3605-5b7f-29ad89de9eae.png\">\n\n\n\n# \u30b9\u30c6\u30c3\u30d7\uff12\n\n\u958b\u767a\u74b0\u5883\u304c\u5b8c\u6210\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u6b21\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u3082\u3063\u3068React\u30c1\u30c3\u30af\u306b\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n## \u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n\n\u307e\u305a\u306f\u3044\u304f\u3064\u304b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n$ touch src/components/messages.jsx\n$ touch src/components/message.jsx\n$ touch dist/style.css\n```\n\nstyle.css\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u6700\u4f4e\u9650\u306e\u898b\u305f\u76ee\u3092\u898f\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```css\n.center {\n  margin: auto;\n  border: 1px solid;\n  border-radius: 2px;\n  padding: 10px;\n}\n```\n\n\u4eca\u56de\u306f\u30c1\u30e3\u30c3\u30c8\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3059\u308b\u306e\u3067\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u3059\u3002\n\n```js\n// .src/components/message.jsx\n\nimport React, { Component } from 'react'\nimport Message from './message'\n\nclass Messages extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      convo: [\n        {text: 'this is text', author: '@steedhelix'},\n        {text: 'this is some text', author: '@steedhelix'},\n        {text: 'this is more text', author: '@steedhelix'},\n        {text: 'this is other text', author: '@steedhelix'}\n      ]\n    }\n  }\n\n  render() {\n    let msgjsx = this.state.convo.map((message, i) => {\n      return <Message msg={message} key={i} />\n    })\n    return (\n      <div className='container-fluid'>\n        {msgjsx}\n      </div>\n    )\n  }\n}\nexport default Messages\n\n```\n\nmap\u3067\u30c7\u30fc\u30bf\u304b\u3089\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u4e00\u89a7\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\u5358\u4e00\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```js\n// .src/components/message.jsx\n\nimport React, { Component } from 'react'\n\nclass Message extends Component {\n  constructor(props) {\n    super(props)\n    this.props = props\n  }\n  render() {\n    return(\n      <div className='row'>\n        <div className='col-xs-2 center'>\n          {this.props.msg.author}\n        </div>\n        <div className='col-xs-10 center'>\n          {this.props.msg.text}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Message\n\n```\n\n\u6700\u5f8c\u306b\u3001Messages\u3092\u30ec\u30f3\u30c0\u30fc\u3059\u308b\u305f\u3081\u306b\u3001App.jsx\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```\n// .src/components/app.jsx\n\nimport React, { Component } from 'react'\n\nimport Messages from './messages'\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <form>\n          <div className='center'>\n            <button>\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1</button>\n            <input placeholder='By'></input>\n            <input placeholder='write message here'></input>\n          </div>\n        </form>\n        <Messages />\n      </div>\n    )\n  }\n}\n\nexport default App\n```\n\n\u3055\u3089\u306b\u4eca\u56de\u306f\u3001Bootstrap\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\nindex.html\u306ehead\u30bf\u30b0\u5185\u306b\u4ee5\u4e0b\u306e\uff12\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```html\n<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\">\n    <link rel=\"stylesheet\" href=\"style.css\">\n```\n\n\u6539\u3081\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n\n<img width=\"537\" alt=\"Screen Shot 2016-06-19 at 1.22.13 AM.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/77614/a96931f8-7a4a-1dd1-6713-3e0285b89d67.png\">\n\n\u304d\u3061\u3093\u3068React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u306d\u3002\n\n\n# \u30b9\u30c6\u30c3\u30d7\uff13\n\n\u3055\u3066\u3001\u3053\u3053\u304b\u3089\u306fDB\u3068\u306e\u901a\u4fe1\u3092\u884c\u3044\u307e\u3059\u3002\n\n## \u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u3055\u3089\u306b\u3082\u3046\uff11\u3064\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n$ npm install --save @horizon/client \n```\n\n## index.html\u306e\u5b8c\u6210\n\nindex.html\u304b\u3089\u4e0d\u8981\u306a\u7b87\u6240\u3092\u524a\u9664\u3057\u307e\u3059\u3002index.html\u3078\u306e\u4fee\u6b63\u306f\u3053\u308c\u304c\u6700\u5f8c\u306b\u306a\u308a\u307e\u3059\u3002\n\n```html\n<!doctype html>\n<html>\n  <head>\n    <meta charset=\"UTF-8\">\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\">\n    <link rel=\"stylesheet\" href=\"style.css\">  \n  </head>\n  <body>\n    <div class=\"attach\"></div>\n    <script src=\"./bundle.js\"></script>\n  </body>\n</html>\n```\n\nHorizon\u306b\u95a2\u3059\u308bscript\u306f\u3001\u5148\u307b\u3069\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u5185\u5305\u3055\u308c\u308b\u306e\u3067\u3001\u4e0d\u8981\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n## App.jsx\u306e\u4fee\u6b63\n\nApp.jsx\u3092\u5927\u304d\u304f\u4fee\u6b63\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```js\n// ./src/components/app.jsx\n\nimport React, { Component } from 'react'\nimport Messages from './messages'\n\n// \u65b0\u3057\u304f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fhorizon\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u307e\u3059\u3002\nconst Horizon = require('@horizon/client')\nconst horizon = Horizon({secure: false})\n\n// message\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092RethinkDB\u5185\u3067\u521d\u671f\u5316\u3057\u307e\u3059\u3002\nconst chat = horizon('message')\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      author: false,\n      text: false\n    }\n  }\n\n  // \u4ee5\u4e0b\u306e\uff12\u3064\u306ehandleChange\u95a2\u6570\u306fform\u306e\u5024\u3092\u30a6\u30a9\u30c3\u30c1\u3057\u307e\u3059\u3002\n  handleChangeAuthor(event) {\n    this.setState({author: event.target.value})\n  }\n\n  handleChangeText(event) {\n    this.setState({text: event.target.value})\n  }\n\n  sendMessage() {\n    // \u7a7a\u6587\u5b57\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u66f8\u304d\u624b\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u306a\u3044\u306a\u3089\u3070\u3001\u65e9\u3081\u306breturn\u3059\u308b\u3002\n    if(this.state.text === false || this.state.author === false) {\n      alert(\"Invalid Submission\")\n      return\n    }\n    let message = {\n      text: this.state.text,\n      author: this.state.author\n    }\n\n    // store\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u65b0\u3057\u3044\u30e1\u30c3\u30bb\u30fc\u30b8\u3092RethinkDB\u4e0a\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0\u3059\u308b\u3002\n    chat.store(message)\n  }\n\n\n  render() {\n    return (\n      <div>\n        <form>\n          <div className='center'>\n            <button onClick={this.sendMessage.bind(this)}>\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1</button>\n            <input onChange={this.handleChangeAuthor.bind(this)} placeholder='By'></input>\n            <input onChange={this.handleChangeText.bind(this)} placeholder='write message here'></input>\n          </div>\n        </form>\n        {/* chat\u3092prop\u3068\u3057\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u6e21\u3059\u3002 */}\n        <Messages chat={chat} />\n      </div>\n    )\n  }\n}\n\nexport default App\n\n```\n\nhorizon\u3092\u4f7f\u3063\u3066\u3001RethinkDB\u3068\u306e\u3084\u308a\u3068\u308a\u3092\u3059\u308b\u3088\u3046\u306a\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\n\n## Messages.jsx\u306e\u4fee\u6b63\n\n```js\n// ./src/components/messages.jsx\n\nimport React, { Component } from 'react'\nimport Message from './message'\n\nclass Messages extends Component {\n  constructor(props) {\n    super(props)\n\n    this.chat = props.chat\n\n    // Messages\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306estate\u3092\u7a7a\u914d\u5217\u3067\u521d\u671f\u5316\u3002\n    this.state = {\n      convo: []\n    }\n  }\n\n  // \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u30de\u30a6\u30f3\u30c8\u3055\u308c\u305f\u6642\u3001this.chat.watch\u3092\u7528\u3044\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u554f\u3044\u5408\u308f\u305b\u3092\u884c\u3046\u3002\n  // state\u3092\u30bb\u30c3\u30c8\u3057\u3066\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6301\u305f\u305b\u3066\u518d\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u3002\n  componentDidMount() {\n    this.chat.watch().subscribe(\n      (messages) => {\n        let convo = messages.map((message) => {\n            return message\n        })\n        this.setState({convo: convo})\n      },\n      (err) => {\n        console.log(err)\n      }\n    )\n  }\n\n  render() {\n    let msgjsx = this.state.convo.map((message, i) => {\n      return <Message msg={message} key={i} />\n    })\n    return (\n      <div className='container-fluid'>\n        {msgjsx}\n      </div>\n    )\n  }\n}\nexport default Messages\n\n```\n\nApp.jsx\u306e\u4fee\u6b63\u3092\u53d7\u3051\u3066\u3001Messages.jsx\u3082\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\n\u8a73\u3057\u3044\u3053\u3068\u306f\u3001\u30b3\u30e1\u30f3\u30c8\u3067\u66f8\u304d\u307e\u3057\u305f\u3002\n\n\n# \u5b8c\u6210\uff01\n\nReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4fee\u6b63\u3092\u7d4c\u3066\u3001\u30c1\u30e3\u30c3\u30c8\u30a2\u30d7\u30ea\u304c\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\n<img width=\"451\" alt=\"Screen Shot 2016-06-19 at 2.14.06 AM.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/77614/2537ede0-7ad4-2af8-2be2-53ee41a9e9aa.png\">\n\nRethinkDB\u3068\u306e\u901a\u4fe1\u3092\u884c\u3044\u3001DB\u304b\u3089state\u306b\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8ffd\u52a0\u3055\u308c\u308b\u305f\u3073\u306bAdmin\u753b\u9762\u306b\u305d\u306e\u65e8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n<img width=\"956\" alt=\"Screen Shot 2016-06-19 at 2.23.15 AM.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/77614/00511eb8-f36d-5040-5a07-5de55143d18d.png\">\n\n\n\u7d50\u8ad6\uff1a\u305f\u306e\u3057\u3044\n", "tags": ["RethinkDB", "reactjs", "Horizon", "webpack", "\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9"]}