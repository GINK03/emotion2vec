{"context": " More than 1 year has passed since last update.\n\n\u4e8b\u524d\u77e5\u8b58: \u30d6\u30e9\u30a6\u30b6\u6bce\u306e\u5dee\u7570\n\nAndroid\n\n2.x, 3.x\n2.x, 3.x \u3067\u306f\u4f1d\u7d71\u7684\u306b TouchEvent \u304c\u307e\u3068\u3082\u306b\u4f7f\u3048\u307e\u305b\u3093\u3002\n\u7d4c\u9a13\u4e0a\u3001\u4e00\u90e8\u7aef\u672b\u3067document.createEvent('TouchEvent')\u3059\u308b\u3068NOT_SUPPORTED_ERR\u3092\u5410\u304f\u306a\u3069\u306e\u73fe\u8c61\u304c\u898b\u3089\u308c\u3001selenium\u306e\u3053\u306e\u30b3\u30fc\u30c9\u3067\u3082\u3001MouseEvents\u3092\u5229\u7528\u3057\u3066\u7121\u7406\u77e2\u7406\u56de\u907f\u3057\u3066\u3044\u307e\u3059\u3002\n\n4.x (Stock Browser & WebView)\n4.x \u3067\u306f\u3001\u3084\u3063\u3068 TouchEvent \u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u304c\u3001 \u30a4\u30d9\u30f3\u30c8\u306e\u521d\u671f\u5316\u65b9\u6cd5\u304c\u5f8c\u8ff0\u3059\u308b iOS \u306e\u30bd\u30ec\u3068\u7570\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u540c\u3058\u304fselenium\u4e0a\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3053\u306e\u3088\u3046\u306b\u56de\u907f\u3057\u3066\u3044\u308b\u306e\u304c\u898b\u53d7\u3051\u3089\u308c\u307e\u3059\u3002\n\n// Android's initTouchEvent method is not compliant with the W3C spec.\n\n\u3068\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u3082\u305d\u3082\u3053\u306einitTouchEvent\u306f\u57f7\u7b46\u6642\u70b9(2014/10/07)\u3067\u307e\u3060\u6a19\u6e96\u5316\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002W3C - TouchEvents #NOTE_3\n(\u3053\u306e\u8fba\u308a\u3001\u8a73\u3057\u304f\u306f\u5f8c\u8ff0)\n\n4.x (Chrome for Android & Chromium WebView)\ndocument.createEvent('TouchEvent')\u3067\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u304c\u3001 Stock Browser\u3068\u540c\u69d8\u3001initTouchEvent\u306e\u5f15\u6570\u304ciOS\u3068\u7570\u306a\u308a\u307e\u3059\u3002(\u5f8c\u8ff0)\n\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3068\u3057\u3066\u306eTouchEvent, Touch, TouchList\u304c\u5b58\u5728\u3057\u307e\u3059\u304c\u3001\u3044\u305a\u308c\u3082new\u3059\u308b\u3068Illegal constructor\u3068\u3057\u3066\u6012\u3089\u308c\u307e\u3059\u3002(\u3069\u3093\u306a\u5f15\u6570\u3092\u6e21\u3057\u3066\u3082\u99c4\u76ee)\n(\u591a\u5206)Opera Mobile\u3082\u540c\u4e00\u306e\u6319\u52d5\u3092\u793a\u3059\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\niOS\n\u30d0\u30fc\u30b8\u30e7\u30f3\u6bce\u306b\u308f\u3051\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u975e\u5e38\u306b\u512a\u79c0\u3067\u9769\u65b0\u7684\u306a iOS \u3067\u306f\u3001iOS2.0 \u306e\u9803\u304b\u3089TouchEvent\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Safari Developer Library - TouchEvent Class Reference\n\nWindows & Mac\n\nInternet Exproler 11\nTouchEvent \u306f\u4f7f\u3048\u307e\u305b\u3093\u3002PointerEvent \u306a\u3089\u4f7f\u3048\u307e\u3059\u3002PointerEvent \u3092\u4f7f\u3048\u3070\u826f\u3044\u3093\u3058\u3083\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\nChrome(+Opera), Firefox\n\u901a\u5e38\u306f TouchEvent \u3092\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u304c\u3001\u958b\u767a\u30c4\u30fc\u30eb\u4e0a\u3067 TouchEvent \u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u3092ON\u306b\u3059\u308b\u3053\u3068\u3067document.createEvent('TouchEvent')\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3068\u3057\u3066\u306eTouchEvent, Touch, TouchList\u304c\u5b58\u5728\u3057\u307e\u3059\u304c\u3001\u3044\u305a\u308c\u3082new\u3059\u308b\u3068Illegal constructor\u3068\u3057\u3066\u6012\u3089\u308c\u307e\u3059\u3002(\u3069\u3093\u306a\u5f15\u6570\u3092\u6e21\u3057\u3066\u3082\u99c4\u76ee)\n\u307e\u305f\u3001Chrome\u3068Firefox\u3067initTouchEvent\u306e\u5f15\u6570\u306e\u9806\u756a\u304c\u7570\u306a\u308a\u307e\u3059\u3002(\u5f8c\u8ff0)\n\nSafari\ndocument.createEvent('TouchEvent'), TouchEvent, Touch, TouchList \u306a\u3069\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3068\u3082\u306b\u305d\u306e\u307e\u307e\u3067\u306f\u4f7f\u3048\u307e\u305b\u3093\u3002\niOS\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3082\u3057\u304f\u306fiOS\u306e\u5b9f\u6a5f\u3092\u63a5\u7d9a\u3057\u3066\u3001\u305d\u306e\u7aef\u672b\u306eSafari\u306eWeb\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u3092\u958b\u3044\u305f\u5834\u5408\u306f\u5168\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002(= PC\u30b5\u30a4\u30c8\u3067\u306f\u4f7f\u3048\u306a\u3044)\n\nTouchEvent\u3092\u751f\u6210\u3059\u308b\n\u5148\u307b\u3069\u3055\u3089\u3063\u3068\u66f8\u304d\u307e\u3057\u305f\u304c\u3001\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u751f\u6210\u3059\u308b\u969b\u306einitTouchEvent\u30e1\u30bd\u30c3\u30c9\u304c\u6a19\u6e96\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001 \u5404\u30d6\u30e9\u30a6\u30b6\u6bce\u306b\u5f15\u6570\u304c\u9055\u3046 \u3068\u3044\u3046\u8840\u3082\u6d99\u3082\u306a\u3044\u72b6\u6cc1\u3067\u3059\u3002\u307e\u305f2.x, 3.x\u7cfb\u306eAndroid\u3082\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001MouseEvent\u3092\u4ee3\u66ff\u3068\u3057\u3066\u7528\u3044\u308b\u5fc5\u8981\u3082\u3042\u308a\u307e\u3059\u3002\n\u3055\u3089\u306b\u3001initTouchEvent\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\u306fTouchList\u3068\u3044\u3046\u914d\u5217 like \u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001touches, targetTouches, changedTouches\u3068\u3044\u3046\u73fe\u5728\u306e\u6307\u306e\u60c5\u5831\u3068\u3057\u3066 TouchEvent \u306b\u4ed8\u4e0e\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u3089\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001document.createTouch, document.createTouchList\u306e\u30e1\u30bd\u30c3\u30c9\u3001\u3082\u3057\u304f\u306f Safari \u306e\u307f Touch, TouchList \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u304c\u3001 document.createTouch, document.createTouchList \u306f\u73fe\u5728\u306e Document \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c DocumentTouch \u3067\u306a\u3044\u5834\u5408\u306f\u751f\u3048\u306a\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a Polyfill \u3067\u9003\u3052\u308b\u3057\u304b\u73fe\u72b6\u306f\u6253\u3064\u624b\u304c\u306a\u3044\u6c17\u304c\u3057\u3066\u3044\u307e\u3059\u3002\n//!Document.prototype.createTouch by w3c spec createTouch (https://developer.mozilla.org/ja/docs/Web/API/DocumentTouch.createTouch)\nif (!Document.prototype.createTouch) {\n    Document.prototype.createTouch = function(view, target, identifier, pageX, pageY,\n                                              screenX, screenY, clientX, clientY,\n                                              radiusX, radiusY, rotationAngle, force) {\n        return {\n            clientX       : clientX,\n            clientY       : clientY,\n            force         : force,\n            identifier    : identifier,\n            pageX         : pageX,\n            pageY         : pageY,\n            radiusX       : radiusX,\n            radiusY       : radiusY,\n            rotationAngle : rotationAngle,\n            screenX       : screenX,\n            screenY       : screenY,\n            target        : target,\n        };\n    };\n}\n\n//!Document.prototype.createTouchList by w3c spec createTouchList (https://developer.mozilla.org/ja/docs/Web/API/DocumentTouch.createTouch)\nif (!Document.prototype.createTouchList) {\n    (function(global) {\n        function TouchList(touches) {\n            this.length = 0;\n            if (!touches) {\n                return this;\n            }\n            // list type argument\n            else if (touches.length) {\n                var touch;\n\n                for (var i = 0, iz = touches.length; i < iz; i++) {\n                    touch = touches[i];\n                    this[i] = touch;\n                }\n                this.length = iz;\n            }\n            else {\n                this[0] = touches;\n                this.length = 1;\n            }\n        }\n        TouchList.prototype = {\n            constructor: TouchList,\n            identifiedTouch: function(id) {\n                var that = this;\n\n                for (var key in that) if (!global.isNaN(global.parseInt(key)) && that.hasOwnProperty(key))  {\n                    if (that[key].identifier == id) {\n                        return that[key];\n                    }\n                }\n                return undefined;\n            },\n            item: function(index) {\n                return this[index];\n            }\n        };\n\n        Document.prototype.createTouchList = function(touches) {\n            return new TouchList(touches);\n        };\n    })(window);\n}\n\n\nDocumentTouch,createTouch\nDocumentTouch.createTouchList\n\n\u4ee5\u4e0b\u3067\u306f\u3001\"tap\"\u3068\u3044\u3046\u30a4\u30d9\u30f3\u30c8\u3092\u751f\u6210\u3059\u308b\u4f8b\u3092\u8a18\u3057\u307e\u3059\u3002\n\ninitTouchEvent - Chrome, Opera \u7de8\n\u53c2\u8003: Chromium Source\nvar touch = document.createTouch(/* \u5f15\u6570\u7701\u7565 */);\nvar touches = document.createTouchList(/* \u5f15\u6570\u7701\u7565 */);\nvar event = document.createEvent('TouchEvent');\n\nevent.initTouchEvent(\n    touches,              // {TouchList} touches\n    touches,              // {TouchList} targetTouches\n    touches,              // {TouchList} changedTouches\n    'tap',                // {String}    type\n    document.defaultView, // {Window}    view\n    0,                    // {Number}    screenX\n    0,                    // {Number}    screenY\n    0,                    // {Number}    clientX\n    0,                    // {Number}    clientY\n    false,                // {Boolean}   ctrlKey\n    false,                // {Boolean}   alrKey\n    false,                // {Boolean}   shiftKey\n    false                 // {Boolean}   metaKey\n);\n\n\ninitTouchEvent - Safari \u7de8\n\u53c2\u8003: Safari Developer Library - TouchEvent Class Reference\nvar touch = document.createTouch(/* \u5f15\u6570\u7701\u7565 */);\nvar touches = document.createTouchList(/* \u5f15\u6570\u7701\u7565 */);\nvar event = document.createEvent('TouchEvent');\n\nevent.initTouchEvent(\n    'tap',                // {String}    type\n    true,                 // {Boolean}   canBubble\n    true,                 // {Boolean}   cancelable\n    document.defaultView, // {Window}    view\n    1,                    // {Number}    detail\n    0,                    // {Number}    screenX\n    0,                    // {Number}    screenY\n    0,                    // {Number}    clientX\n    0,                    // {Number}    clientY\n    false,                // {Boolean}   ctrlKey\n    false,                // {Boolean}   altKey\n    false,                // {Boolean}   shiftKey\n    false,                // {Boolean}   metaKey\n    touches,              // {TouchList} touches\n    touches,              // {TouchList} targetTouches\n    touches,              // {TouchList} changedTouches\n    0,                    // {Number}    scale(0 - 1)\n    0                     // {Number}    rotation\n);\n\n\ninitTouchEvent - Firefox \u7de8\n\u53c2\u8003: mozilla-central mozilla/dom/events/TouchEvent.h\n\nvar touch = document.createTouch(/* \u5f15\u6570\u7701\u7565 */);\nvar touches = document.createTouchList(/* \u5f15\u6570\u7701\u7565 */);\nvar event = document.createEvent('TouchEvent');\n\nevent.initTouchEvent(\n    'tap',                // {String} type\n    true,                 // {Boolean} canBubble\n    true,                 // {Boolean} cancelable\n    document.defaultView, // {Window} view\n    1,                    // {Number} detail\n    false,                // {Boolean} ctrlKey\n    false,                // {Boolean} altKey\n    false,                // {Boolean} shiftKey\n    false,                // {Boolean} metaKey\n    touches,              // {TouchList} touches\n    touches,              // {TouchList} targetTouches\n    touches               // {TouchList} changedTouches\n);\n\n\n\u73fe\u5b9f\u7684\u306a\u8a71\n\u4f8b\u3048\u3070Android2.3\u301c, iOS6\u301c\u3001\u304b\u3064PC\u3067\u8868\u793a\u3057\u305f\u5834\u5408\u3082\u554f\u984c\u306a\u304f\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u751f\u6210\u3059\u308b\u5834\u5408\u306f\n\nAndroid2.x, 3.x\u3060\u3063\u305f\u3089\n\n\n\ndocument.createEvent('MouseEvent')\u3057\u3066\u3001\u5f15\u6570\u3092MouseEvent\u306b\u5408\u308f\u305b\u3066initMouseEvent\u3057\u3066\u3001TouchEvent\u3063\u307d\u304f\u898b\u305b\u304b\u3051\u3066(touches, targetTouches, changedTouches\u3092\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u8ffd\u52a0)\u767a\u706b\n\n\nAndroid4.x (Stock Browser & Chrome)\n\n\n\ndocument.createEvent('TouchEvent')\u3057\u3066\u3001\u5f15\u6570\u3092Chrome\u7528\u306e\u3082\u306e\u3067initTouchEvent\u3057\u3066\u767a\u706b\n\n\niOS\n\n\n\ndocument.createEvent('TouchEvent')\u3057\u3066\u3001\u5f15\u6570\u3092Safari\u7528\u306e\u3082\u306e\u3067initTouchEvent\u3057\u3066\u767a\u706b\n\n\nPC Chrome & Opera\n\n\nPolyfill\u3067createTouch, createTouchList\u3092\u751f\u3084\u3057\u305f\u5f8c\u3001Android4.x\u3068\u540c\u4e00\u306e\u51e6\u7406\n\n\nPC Safari\n\n\nPolyfill\u3067createTouch, createTouchList\u3092\u751f\u3084\u3057\u305f\u5f8c\u3001Android2.x, 3.x\u3068\u540c\u4e00\u306e\u51e6\u7406\n\n\nPC Firefox\n\n\nPolyfill\u3067createTouch, createTouchList\u3092\u751f\u3084\u3057\u305f\u5f8c\u3001\u5f15\u6570\u3092Firefox\u7528\u306e\u3082\u306e\u3067initTouchEvent\u3057\u3066\u767a\u706b\n\n\nPC Internet Exproler\n\n\nPolyfill\u3067createTouch, createTouchList\u3092\u751f\u3084\u3057\u305f\u5f8c\u3001Android2.x, 3.x\u3068\u540c\u4e00\u306e\u51e6\u7406\n\n\n\n\u3068\u3044\u3046\u306e\u304c\u73fe\u5b9f\u89e3\u3067\u3057\u3087\u3046\u304b\u3002\n\u3057\u304b\u3057\u3001Chrome \u306a\u3069\u3067 UserAgent \u3092\u5909\u66f4\u3057\u305f\u5834\u5408\u306b\u306f iOS \u306e\u30d5\u30ea\u3092\u3057\u305f Chrome \u3068\u3044\u3046\u72b6\u6cc1\u306b\u306a\u308b\u306e\u3067\u304b\u306a\u308a\u5224\u5b9a\u3082\u96e3\u3057\u304f\u306a\u308b\u306e\u3067\u306f\u7121\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u7b54\u3048\n\u8ae6\u3081\u3066CustomEvent\u4f7f\u3048\n(Android2.x\u306fCustomEvent\u306a\u3044\u306e\u3067\u305d\u308c\u3082UIEvent\u306a\u3069\u3067\u4ee3\u66ff\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059)\n## \u4e8b\u524d\u77e5\u8b58: \u30d6\u30e9\u30a6\u30b6\u6bce\u306e\u5dee\u7570\n \n### Android\n \n#### 2.x, 3.x\n \n2.x, 3.x \u3067\u306f\u4f1d\u7d71\u7684\u306b TouchEvent \u304c\u307e\u3068\u3082\u306b\u4f7f\u3048\u307e\u305b\u3093\u3002\n \n\u7d4c\u9a13\u4e0a\u3001\u4e00\u90e8\u7aef\u672b\u3067`document.createEvent('TouchEvent')`\u3059\u308b\u3068`NOT_SUPPORTED_ERR`\u3092\u5410\u304f\u306a\u3069\u306e\u73fe\u8c61\u304c\u898b\u3089\u308c\u3001selenium\u306e[\u3053\u306e\u30b3\u30fc\u30c9](https://code.google.com/p/selenium/source/browse/javascript/atoms/events.js#523)\u3067\u3082\u3001`MouseEvents`\u3092\u5229\u7528\u3057\u3066~~\u7121\u7406\u77e2\u7406~~\u56de\u907f\u3057\u3066\u3044\u307e\u3059\u3002\n \n#### 4.x (Stock Browser & WebView)\n \n4.x \u3067\u306f\u3001\u3084\u3063\u3068 TouchEvent \u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n \n**\u304c\u3001** \u30a4\u30d9\u30f3\u30c8\u306e\u521d\u671f\u5316\u65b9\u6cd5\u304c\u5f8c\u8ff0\u3059\u308b iOS \u306e\u30bd\u30ec\u3068\u7570\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u540c\u3058\u304fselenium\u4e0a\u306e\u30b3\u30fc\u30c9\u3067\u306f[\u3053\u306e\u3088\u3046\u306b](https://code.google.com/p/selenium/source/browse/javascript/atoms/events.js#536)\u56de\u907f\u3057\u3066\u3044\u308b\u306e\u304c\u898b\u53d7\u3051\u3089\u308c\u307e\u3059\u3002\n \n> // Android's initTouchEvent method is not compliant with the W3C spec.\n \n\u3068\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u3082\u305d\u3082\u3053\u306e`initTouchEvent`\u306f\u57f7\u7b46\u6642\u70b9(2014/10/07)\u3067\u307e\u3060\u6a19\u6e96\u5316\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002[W3C - TouchEvents #NOTE_3](http://www.w3.org/TR/touch-events/#h_note_3)\n\n(\u3053\u306e\u8fba\u308a\u3001\u8a73\u3057\u304f\u306f\u5f8c\u8ff0)\n \n#### 4.x (Chrome for Android & Chromium WebView)\n\n`document.createEvent('TouchEvent')`\u3067\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002  \n**\u304c\u3001** Stock Browser\u3068\u540c\u69d8\u3001`initTouchEvent`\u306e\u5f15\u6570\u304ciOS\u3068\u7570\u306a\u308a\u307e\u3059\u3002(\u5f8c\u8ff0)\n\n\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3068\u3057\u3066\u306e`TouchEvent`, `Touch`, `TouchList`\u304c\u5b58\u5728\u3057\u307e\u3059\u304c\u3001\u3044\u305a\u308c\u3082new\u3059\u308b\u3068`Illegal constructor`\u3068\u3057\u3066\u6012\u3089\u308c\u307e\u3059\u3002(\u3069\u3093\u306a\u5f15\u6570\u3092\u6e21\u3057\u3066\u3082\u99c4\u76ee)\n\n(\u591a\u5206)Opera Mobile\u3082\u540c\u4e00\u306e\u6319\u52d5\u3092\u793a\u3059\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n \n### iOS\n \n\u30d0\u30fc\u30b8\u30e7\u30f3\u6bce\u306b\u308f\u3051\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n \n\u975e\u5e38\u306b\u512a\u79c0\u3067\u9769\u65b0\u7684\u306a iOS \u3067\u306f\u3001iOS2.0 \u306e\u9803\u304b\u3089`TouchEvent`\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002[Safari Developer Library - TouchEvent Class Reference](https://developer.apple.com/library/safari/documentation/UserExperience/Reference/TouchEventClassReference/TouchEvent/TouchEvent.html#//apple_ref/javascript/instm/TouchEvent/initTouchEvent)\n \n \n### Windows & Mac\n \n#### Internet Exproler 11\n \nTouchEvent \u306f\u4f7f\u3048\u307e\u305b\u3093\u3002PointerEvent \u306a\u3089\u4f7f\u3048\u307e\u3059\u3002PointerEvent \u3092\u4f7f\u3048\u3070\u826f\u3044\u3093\u3058\u3083\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n \n#### Chrome(+Opera), Firefox\n \n\u901a\u5e38\u306f TouchEvent \u3092\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u304c\u3001\u958b\u767a\u30c4\u30fc\u30eb\u4e0a\u3067 TouchEvent \u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u3092ON\u306b\u3059\u308b\u3053\u3068\u3067`document.createEvent('TouchEvent')`\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3068\u3057\u3066\u306e`TouchEvent`, `Touch`, `TouchList`\u304c\u5b58\u5728\u3057\u307e\u3059\u304c\u3001\u3044\u305a\u308c\u3082new\u3059\u308b\u3068`Illegal constructor`\u3068\u3057\u3066\u6012\u3089\u308c\u307e\u3059\u3002(\u3069\u3093\u306a\u5f15\u6570\u3092\u6e21\u3057\u3066\u3082\u99c4\u76ee)\n\n\u307e\u305f\u3001Chrome\u3068Firefox\u3067`initTouchEvent`\u306e\u5f15\u6570\u306e\u9806\u756a\u304c\u7570\u306a\u308a\u307e\u3059\u3002(\u5f8c\u8ff0)\n \n#### Safari\n\n`document.createEvent('TouchEvent')`, `TouchEvent`, `Touch`, `TouchList` \u306a\u3069\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3068\u3082\u306b\u305d\u306e\u307e\u307e\u3067\u306f\u4f7f\u3048\u307e\u305b\u3093\u3002\n\niOS\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3082\u3057\u304f\u306fiOS\u306e\u5b9f\u6a5f\u3092\u63a5\u7d9a\u3057\u3066\u3001\u305d\u306e\u7aef\u672b\u306eSafari\u306eWeb\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u3092\u958b\u3044\u305f\u5834\u5408\u306f\u5168\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002(= PC\u30b5\u30a4\u30c8\u3067\u306f\u4f7f\u3048\u306a\u3044)\n\n\n\n## TouchEvent\u3092\u751f\u6210\u3059\u308b\n\n\u5148\u307b\u3069\u3055\u3089\u3063\u3068\u66f8\u304d\u307e\u3057\u305f\u304c\u3001\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u751f\u6210\u3059\u308b\u969b\u306e`initTouchEvent`\u30e1\u30bd\u30c3\u30c9\u304c\u6a19\u6e96\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001 **\u5404\u30d6\u30e9\u30a6\u30b6\u6bce\u306b\u5f15\u6570\u304c\u9055\u3046** \u3068\u3044\u3046\u8840\u3082\u6d99\u3082\u306a\u3044\u72b6\u6cc1\u3067\u3059\u3002\u307e\u305f2.x, 3.x\u7cfb\u306eAndroid\u3082\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001MouseEvent\u3092\u4ee3\u66ff\u3068\u3057\u3066\u7528\u3044\u308b\u5fc5\u8981\u3082\u3042\u308a\u307e\u3059\u3002\n\n\u3055\u3089\u306b\u3001`initTouchEvent`\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\u306f`TouchList`\u3068\u3044\u3046\u914d\u5217 like \u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001`touches`, `targetTouches`, `changedTouches`\u3068\u3044\u3046\u73fe\u5728\u306e\u6307\u306e\u60c5\u5831\u3068\u3057\u3066 TouchEvent \u306b\u4ed8\u4e0e\u3055\u308c\u307e\u3059\u3002  \n\u3053\u308c\u3089\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001`document.createTouch`, `document.createTouchList`\u306e\u30e1\u30bd\u30c3\u30c9\u3001\u3082\u3057\u304f\u306f Safari \u306e\u307f `Touch`, `TouchList` \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002  \n**\u304c\u3001** `document.createTouch`, `document.createTouchList` \u306f\u73fe\u5728\u306e Document \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c [DocumentTouch](https://developer.mozilla.org/ja/docs/Web/API/DocumentTouch) \u3067\u306a\u3044\u5834\u5408\u306f\u751f\u3048\u306a\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a Polyfill \u3067\u9003\u3052\u308b\u3057\u304b\u73fe\u72b6\u306f\u6253\u3064\u624b\u304c\u306a\u3044\u6c17\u304c\u3057\u3066\u3044\u307e\u3059\u3002\n\n```javascript\n//!Document.prototype.createTouch by w3c spec createTouch (https://developer.mozilla.org/ja/docs/Web/API/DocumentTouch.createTouch)\nif (!Document.prototype.createTouch) {\n    Document.prototype.createTouch = function(view, target, identifier, pageX, pageY,\n                                              screenX, screenY, clientX, clientY,\n                                              radiusX, radiusY, rotationAngle, force) {\n        return {\n            clientX       : clientX,\n            clientY       : clientY,\n            force         : force,\n            identifier    : identifier,\n            pageX         : pageX,\n            pageY         : pageY,\n            radiusX       : radiusX,\n            radiusY       : radiusY,\n            rotationAngle : rotationAngle,\n            screenX       : screenX,\n            screenY       : screenY,\n            target        : target,\n        };\n    };\n}\n\n//!Document.prototype.createTouchList by w3c spec createTouchList (https://developer.mozilla.org/ja/docs/Web/API/DocumentTouch.createTouch)\nif (!Document.prototype.createTouchList) {\n    (function(global) {\n        function TouchList(touches) {\n            this.length = 0;\n            if (!touches) {\n                return this;\n            }\n            // list type argument\n            else if (touches.length) {\n                var touch;\n\n                for (var i = 0, iz = touches.length; i < iz; i++) {\n                    touch = touches[i];\n                    this[i] = touch;\n                }\n                this.length = iz;\n            }\n            else {\n                this[0] = touches;\n                this.length = 1;\n            }\n        }\n        TouchList.prototype = {\n            constructor: TouchList,\n            identifiedTouch: function(id) {\n                var that = this;\n\n                for (var key in that) if (!global.isNaN(global.parseInt(key)) && that.hasOwnProperty(key))  {\n                    if (that[key].identifier == id) {\n                        return that[key];\n                    }\n                }\n                return undefined;\n            },\n            item: function(index) {\n                return this[index];\n            }\n        };\n\n        Document.prototype.createTouchList = function(touches) {\n            return new TouchList(touches);\n        };\n    })(window);\n}\n```\n\n- [DocumentTouch,createTouch](https://developer.mozilla.org/ja/docs/Web/API/DocumentTouch.createTouch)\n- [DocumentTouch.createTouchList](https://developer.mozilla.org/ja/docs/Web/API/DocumentTouch.createTouch)\n\n\u4ee5\u4e0b\u3067\u306f\u3001\"tap\"\u3068\u3044\u3046\u30a4\u30d9\u30f3\u30c8\u3092\u751f\u6210\u3059\u308b\u4f8b\u3092\u8a18\u3057\u307e\u3059\u3002\n\n\n### `initTouchEvent` - Chrome, Opera \u7de8 \n\n\u53c2\u8003: [Chromium Source](https://code.google.com/p/chromium/codesearch#chromium/src/third_party/WebKit/Source/core/events/TouchEvent.cpp&q=initTouchEvent&sq=package:chromium&type=cs&l=58)\n\n```javascript\nvar touch = document.createTouch(/* \u5f15\u6570\u7701\u7565 */);\nvar touches = document.createTouchList(/* \u5f15\u6570\u7701\u7565 */);\nvar event = document.createEvent('TouchEvent');\n\nevent.initTouchEvent(\n    touches,              // {TouchList} touches\n    touches,              // {TouchList} targetTouches\n    touches,              // {TouchList} changedTouches\n    'tap',                // {String}    type\n    document.defaultView, // {Window}    view\n    0,                    // {Number}    screenX\n    0,                    // {Number}    screenY\n    0,                    // {Number}    clientX\n    0,                    // {Number}    clientY\n    false,                // {Boolean}   ctrlKey\n    false,                // {Boolean}   alrKey\n    false,                // {Boolean}   shiftKey\n    false                 // {Boolean}   metaKey\n);\n```\n\n### `initTouchEvent` - Safari \u7de8\n\n\u53c2\u8003: [Safari Developer Library - TouchEvent Class Reference](https://developer.apple.com/library/safari/documentation/UserExperience/Reference/TouchEventClassReference/TouchEvent/TouchEvent.html#//apple_ref/javascript/instm/TouchEvent/initTouchEvent)\n\n```javascript\nvar touch = document.createTouch(/* \u5f15\u6570\u7701\u7565 */);\nvar touches = document.createTouchList(/* \u5f15\u6570\u7701\u7565 */);\nvar event = document.createEvent('TouchEvent');\n\nevent.initTouchEvent(\n    'tap',                // {String}    type\n    true,                 // {Boolean}   canBubble\n    true,                 // {Boolean}   cancelable\n    document.defaultView, // {Window}    view\n    1,                    // {Number}    detail\n    0,                    // {Number}    screenX\n    0,                    // {Number}    screenY\n    0,                    // {Number}    clientX\n    0,                    // {Number}    clientY\n    false,                // {Boolean}   ctrlKey\n    false,                // {Boolean}   altKey\n    false,                // {Boolean}   shiftKey\n    false,                // {Boolean}   metaKey\n    touches,              // {TouchList} touches\n    touches,              // {TouchList} targetTouches\n    touches,              // {TouchList} changedTouches\n    0,                    // {Number}    scale(0 - 1)\n    0                     // {Number}    rotation\n);\n```\n\n### `initTouchEvent` - Firefox \u7de8\n\n\u53c2\u8003: [mozilla-central mozilla/dom/events/TouchEvent.h](http://lxr.mozilla.org/mozilla-central/source/dom/events/TouchEvent.h#108)\n\n```javascript\n\nvar touch = document.createTouch(/* \u5f15\u6570\u7701\u7565 */);\nvar touches = document.createTouchList(/* \u5f15\u6570\u7701\u7565 */);\nvar event = document.createEvent('TouchEvent');\n\nevent.initTouchEvent(\n    'tap',                // {String} type\n    true,                 // {Boolean} canBubble\n    true,                 // {Boolean} cancelable\n    document.defaultView, // {Window} view\n    1,                    // {Number} detail\n    false,                // {Boolean} ctrlKey\n    false,                // {Boolean} altKey\n    false,                // {Boolean} shiftKey\n    false,                // {Boolean} metaKey\n    touches,              // {TouchList} touches\n    touches,              // {TouchList} targetTouches\n    touches               // {TouchList} changedTouches\n);\n```\n\n### \u73fe\u5b9f\u7684\u306a\u8a71\n\n\u4f8b\u3048\u3070Android2.3\u301c, iOS6\u301c\u3001\u304b\u3064PC\u3067\u8868\u793a\u3057\u305f\u5834\u5408\u3082\u554f\u984c\u306a\u304f\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u751f\u6210\u3059\u308b\u5834\u5408\u306f\n\n- Android2.x, 3.x\u3060\u3063\u305f\u3089\n    - `document.createEvent('MouseEvent')`\u3057\u3066\u3001\u5f15\u6570\u3092MouseEvent\u306b\u5408\u308f\u305b\u3066`initMouseEvent`\u3057\u3066\u3001TouchEvent\u3063\u307d\u304f\u898b\u305b\u304b\u3051\u3066(touches, targetTouches, changedTouches\u3092\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u8ffd\u52a0)\u767a\u706b\n- Android4.x (Stock Browser & Chrome)\n    - `document.createEvent('TouchEvent')`\u3057\u3066\u3001\u5f15\u6570\u3092Chrome\u7528\u306e\u3082\u306e\u3067`initTouchEvent`\u3057\u3066\u767a\u706b\n- iOS\n    - `document.createEvent('TouchEvent')`\u3057\u3066\u3001\u5f15\u6570\u3092Safari\u7528\u306e\u3082\u306e\u3067`initTouchEvent`\u3057\u3066\u767a\u706b\n- PC Chrome & Opera\n    - Polyfill\u3067`createTouch`, `createTouchList`\u3092\u751f\u3084\u3057\u305f\u5f8c\u3001Android4.x\u3068\u540c\u4e00\u306e\u51e6\u7406\n- PC Safari\n    - Polyfill\u3067`createTouch`, `createTouchList`\u3092\u751f\u3084\u3057\u305f\u5f8c\u3001Android2.x, 3.x\u3068\u540c\u4e00\u306e\u51e6\u7406\n- PC Firefox\n    - Polyfill\u3067`createTouch`, `createTouchList`\u3092\u751f\u3084\u3057\u305f\u5f8c\u3001\u5f15\u6570\u3092Firefox\u7528\u306e\u3082\u306e\u3067`initTouchEvent`\u3057\u3066\u767a\u706b\n- PC Internet Exproler\n    - Polyfill\u3067`createTouch`, `createTouchList`\u3092\u751f\u3084\u3057\u305f\u5f8c\u3001Android2.x, 3.x\u3068\u540c\u4e00\u306e\u51e6\u7406\n\n\u3068\u3044\u3046\u306e\u304c\u73fe\u5b9f\u89e3\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u3057\u304b\u3057\u3001Chrome \u306a\u3069\u3067 UserAgent \u3092\u5909\u66f4\u3057\u305f\u5834\u5408\u306b\u306f **iOS \u306e\u30d5\u30ea\u3092\u3057\u305f Chrome** \u3068\u3044\u3046\u72b6\u6cc1\u306b\u306a\u308b\u306e\u3067\u304b\u306a\u308a\u5224\u5b9a\u3082\u96e3\u3057\u304f\u306a\u308b\u306e\u3067\u306f\u7121\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n## \u7b54\u3048\n\n**\u8ae6\u3081\u3066`CustomEvent`\u4f7f\u3048**\n\n(Android2.x\u306f`CustomEvent`\u306a\u3044\u306e\u3067\u305d\u308c\u3082`UIEvent`\u306a\u3069\u3067\u4ee3\u66ff\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059)\n", "tags": ["JavaScript", "dom"]}