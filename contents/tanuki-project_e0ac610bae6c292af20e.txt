{"context": " More than 1 year has passed since last update.Ansible\u3068\u3044\u3048\u3070\u69cb\u6210\u7ba1\u7406\u30c4\u30fc\u30eb\u306e\u4e00\u7a2e\u3068\u3044\u3046\u4f4d\u7f6e\u4ed8\u3051\u3067\u3059\u304c\u3001\u8907\u6570\u306e\u30b5\u30fc\u30d0\u3092\u540c\u6642\u306b\u5236\u5fa1\u3067\u304d\u308b\u3068\u3044\u3046\u7279\u5fb4\u304b\u3089\u3001\u30b5\u30fc\u30d0\u306e\u8ca0\u8377\u30c6\u30b9\u30c8\u306b\u3082\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u8ca0\u8377\u30c6\u30b9\u30c8\u7528\u306e\u30c4\u30fc\u30eb\nWEB\u30b5\u30fc\u30d0\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30c4\u30fc\u30eb\u3068\u3057\u3066\u3001Apach Benchmark \u304b weighttp \u3092\u7528\u610f\u3057\u307e\u3059\u3002Apach Benchmark\u3092\u4f7f\u3046\u5834\u5408\u306fhttpd-tools\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002weightp\u306f\u81ea\u5206\u3067\u30d3\u30eb\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u3089\u306e\u30c4\u30fc\u30eb\u3092Ansible\u3067\u8907\u6570\u306e\u30ce\u30fc\u30c9\u304b\u3089\u540c\u6642\u304b\u3064\u4e00\u6589\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001WEB\u30b5\u30fc\u30d0\u306e\u8ca0\u8377\u30c6\u30b9\u30c8\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nAnsible\u306e\u8a2d\u5b9a\n\u30a4\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u306b\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30c4\u30fc\u30eb\u3092\u5b9f\u884c\u3059\u308b\u30db\u30b9\u30c8\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n[clients]\nhost1\nhost1\nhost3\n\u30fb\n\u30fb\nhost9\nhost10\n\n\u307e\u305f\u3001\u4e26\u5217\u51e6\u7406\u6570\u306e\u8a2d\u5b9a /etc/ansible/ansible.cfg \u3067forks(\u5e73\u884c\u3057\u3066\u751f\u6210\u3059\u308b\u30d7\u30ed\u30bb\u30b9\u6570)\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u6570\u4ee5\u4e0a\u306e\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n[defaults]\ninventory               = /etc/ansible/hosts\nforks                   = 10\n\n\n\u8ca0\u8377\u30c6\u30b9\u30c8\u306e\u5b9f\u884c\nansible\u30b3\u30de\u30f3\u30c9\u3067\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30c4\u30fc\u30eb\u3092\u4e00\u6589\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u3010Apach Benchmark\u306e\u5834\u5408\u3011\n$ ansible clients -k -a \"ab -c 100 -n 1000 http://192.168.10.1/\"\nSSH password: \nhost1 | success | rc=0 >>\nThis is ApacheBench, Version 2.3 <$Revision: 1430300 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking 192.168.10.1 (be patient)\n\n\nServer Software:        Boa/0.94.14rc21\nServer Hostname:        192.168.10.1\nServer Port:            80\n\nDocument Path:          /\nDocument Length:        702 bytes\n\nConcurrency Level:      100\nTime taken for tests:   8.167 seconds\nComplete requests:      1000\nFailed requests:        0\nWrite errors:           0\nNon-2xx responses:      1000\nTotal transferred:      921000 bytes\nHTML transferred:       702000 bytes\nRequests per second:    122.44 [#/sec] (mean)\nTime per request:       816.748 [ms] (mean)\nTime per request:       8.167 [ms] (mean, across all concurrent requests)\nTransfer rate:          110.12 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        2  215 1035.5      5    7032\nProcessing:     4  120 233.1     30    2060\nWaiting:        4  119 233.1     30    2060\nTotal:          7  334 1087.9     39    7299\n\nPercentage of the requests served within a certain time (ms)\n  50%     39\n  66%    142\n  75%    189\n  80%    233\n  90%    356\n  95%   1117\n  98%   7128\n  99%   7269\n 100%   7299 (longest request)Completed 100 requests\nCompleted 200 requests\nCompleted 300 requests\nCompleted 400 requests\nCompleted 500 requests\nCompleted 600 requests\nCompleted 700 requests\nCompleted 800 requests\nCompleted 900 requests\nCompleted 1000 requests\nFinished 1000 requests\n\n\u30fb\n\u30fb\n\u30fb\n\nhost10 | success | rc=0 >>\nThis is ApacheBench, Version 2.3 <$Revision: 1430300 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking 192.168.10.1 (be patient)\n\n\nServer Software:        Boa/0.94.14rc21\nServer Hostname:        192.168.10.1\nServer Port:            80\n\nDocument Path:          /\nDocument Length:        702 bytes\n\nConcurrency Level:      100\nTime taken for tests:   8.025 seconds\nComplete requests:      1000\nFailed requests:        0\nWrite errors:           0\nNon-2xx responses:      1000\nTotal transferred:      921000 bytes\nHTML transferred:       702000 bytes\nRequests per second:    124.61 [#/sec] (mean)\nTime per request:       802.535 [ms] (mean)\nTime per request:       8.025 [ms] (mean, across all concurrent requests)\nTransfer rate:          112.07 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        1  612 1858.0      3    7025\nProcessing:     7  180 133.5    162     627\nWaiting:        7  179 133.5    161     627\nTotal:         15  792 1888.9    175    7532\n\nPercentage of the requests served within a certain time (ms)\n  50%    175\n  66%    227\n  75%    276\n  80%    343\n  90%   4140\n  95%   7231\n  98%   7483\n  99%   7508\n 100%   7532 (longest request)Completed 100 requests\nCompleted 200 requests\nCompleted 300 requests\nCompleted 400 requests\nCompleted 500 requests\nCompleted 600 requests\nCompleted 700 requests\nCompleted 800 requests\nCompleted 900 requests\nCompleted 1000 requests\nFinished 1000 requests\n\n\u3010weighttp\u306e\u5834\u5408\u3011\n$ ansible clients -k -a \"weighttp -c 100 -n 1000 http://192.168.10.1/\"\nSSH password: \nhost1 | success | rc=0 >>\nweighttp - a lightweight and simple webserver benchmarking tool\n\nstarting benchmark...\nspawning thread #1: 100 concurrent requests, 1000 total requests\nprogress:  10% done\nprogress:  20% done\nprogress:  30% done\nprogress:  40% done\nprogress:  50% done\nprogress:  60% done\nprogress:  70% done\nprogress:  80% done\nprogress:  90% done\nprogress: 100% done\n\nfinished in 4 sec, 696 millisec and 192 microsec, 212 req/s, 191 kbyte/s\nrequests: 1000 total, 1000 started, 1000 done, 0 succeeded, 1000 failed, 0 errored\nstatus codes: 0 2xx, 0 3xx, 1000 4xx, 0 5xx\ntraffic: 921000 bytes total, 921000 bytes http, 0 bytes data\n\n\u30fb\n\u30fb\n\u30fb\n\nhost10 | success | rc=0 >>\nweighttp - a lightweight and simple webserver benchmarking tool\n\nstarting benchmark...\nspawning thread #1: 100 concurrent requests, 1000 total requests\nprogress:  10% done\nprogress:  20% done\nprogress:  30% done\nprogress:  40% done\nprogress:  50% done\nprogress:  60% done\nprogress:  70% done\nprogress:  80% done\nprogress:  90% done\nprogress: 100% done\n\nfinished in 7 sec, 251 millisec and 565 microsec, 137 req/s, 124 kbyte/s\nrequests: 1000 total, 1000 started, 1000 done, 0 succeeded, 1000 failed, 0 errored\nstatus codes: 0 2xx, 0 3xx, 1000 4xx, 0 5xx\ntraffic: 921000 bytes total, 921000 bytes http, 0 bytes data\n\n\u5b9f\u884c\u7d50\u679c\u306b\u95a2\u3057\u3066\u306f\u3001Apache Benchmark \u3088\u308a\u3082 weighttp \u306e\u65b9\u304c\u3059\u3063\u304d\u308a\u3057\u3066\u898b\u3084\u3059\u3044\u304b\u306a\u3002\nAnsible\u3068\u3044\u3048\u3070\u69cb\u6210\u7ba1\u7406\u30c4\u30fc\u30eb\u306e\u4e00\u7a2e\u3068\u3044\u3046\u4f4d\u7f6e\u4ed8\u3051\u3067\u3059\u304c\u3001\u8907\u6570\u306e\u30b5\u30fc\u30d0\u3092\u540c\u6642\u306b\u5236\u5fa1\u3067\u304d\u308b\u3068\u3044\u3046\u7279\u5fb4\u304b\u3089\u3001\u30b5\u30fc\u30d0\u306e\u8ca0\u8377\u30c6\u30b9\u30c8\u306b\u3082\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n#\u8ca0\u8377\u30c6\u30b9\u30c8\u7528\u306e\u30c4\u30fc\u30eb\n\nWEB\u30b5\u30fc\u30d0\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30c4\u30fc\u30eb\u3068\u3057\u3066\u3001[Apach Benchmark](http://httpd.apache.org/docs/2.2/en/programs/ab.html) \u304b [weighttp](http://www.iij.ad.jp/company/development/tech/activities/weighttp/) \u3092\u7528\u610f\u3057\u307e\u3059\u3002Apach Benchmark\u3092\u4f7f\u3046\u5834\u5408\u306fhttpd-tools\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002weightp\u306f\u81ea\u5206\u3067[\u30d3\u30eb\u30c9\u3059\u308b](http://qiita.com/tanuki-project/items/3d50acb6871d29123224)\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u3089\u306e\u30c4\u30fc\u30eb\u3092Ansible\u3067\u8907\u6570\u306e\u30ce\u30fc\u30c9\u304b\u3089\u540c\u6642\u304b\u3064\u4e00\u6589\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001WEB\u30b5\u30fc\u30d0\u306e\u8ca0\u8377\u30c6\u30b9\u30c8\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n#Ansible\u306e\u8a2d\u5b9a\n\n\u30a4\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u306b\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30c4\u30fc\u30eb\u3092\u5b9f\u884c\u3059\u308b\u30db\u30b9\u30c8\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n    [clients]\n    host1\n    host1\n    host3\n    \u30fb\n    \u30fb\n    host9\n    host10\n\n\u307e\u305f\u3001\u4e26\u5217\u51e6\u7406\u6570\u306e\u8a2d\u5b9a /etc/ansible/ansible.cfg \u3067forks(\u5e73\u884c\u3057\u3066\u751f\u6210\u3059\u308b\u30d7\u30ed\u30bb\u30b9\u6570)\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u6570\u4ee5\u4e0a\u306e\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n    [defaults]\n    inventory               = /etc/ansible/hosts\n    forks                   = 10\n\n\n#\u8ca0\u8377\u30c6\u30b9\u30c8\u306e\u5b9f\u884c\n\nansible\u30b3\u30de\u30f3\u30c9\u3067\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30c4\u30fc\u30eb\u3092\u4e00\u6589\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\u3010Apach Benchmark\u306e\u5834\u5408\u3011\n\n    $ ansible clients -k -a \"ab -c 100 -n 1000 http://192.168.10.1/\"\n    SSH password: \n    host1 | success | rc=0 >>\n    This is ApacheBench, Version 2.3 <$Revision: 1430300 $>\n    Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\n    Licensed to The Apache Software Foundation, http://www.apache.org/\n    \n    Benchmarking 192.168.10.1 (be patient)\n    \n    \n    Server Software:        Boa/0.94.14rc21\n    Server Hostname:        192.168.10.1\n    Server Port:            80\n    \n    Document Path:          /\n    Document Length:        702 bytes\n    \n    Concurrency Level:      100\n    Time taken for tests:   8.167 seconds\n    Complete requests:      1000\n    Failed requests:        0\n    Write errors:           0\n    Non-2xx responses:      1000\n    Total transferred:      921000 bytes\n    HTML transferred:       702000 bytes\n    Requests per second:    122.44 [#/sec] (mean)\n    Time per request:       816.748 [ms] (mean)\n    Time per request:       8.167 [ms] (mean, across all concurrent requests)\n    Transfer rate:          110.12 [Kbytes/sec] received\n    \n    Connection Times (ms)\n                  min  mean[+/-sd] median   max\n    Connect:        2  215 1035.5      5    7032\n    Processing:     4  120 233.1     30    2060\n    Waiting:        4  119 233.1     30    2060\n    Total:          7  334 1087.9     39    7299\n    \n    Percentage of the requests served within a certain time (ms)\n      50%     39\n      66%    142\n      75%    189\n      80%    233\n      90%    356\n      95%   1117\n      98%   7128\n      99%   7269\n     100%   7299 (longest request)Completed 100 requests\n    Completed 200 requests\n    Completed 300 requests\n    Completed 400 requests\n    Completed 500 requests\n    Completed 600 requests\n    Completed 700 requests\n    Completed 800 requests\n    Completed 900 requests\n    Completed 1000 requests\n    Finished 1000 requests\n\n    \u30fb\n    \u30fb\n    \u30fb\n    \n    host10 | success | rc=0 >>\n    This is ApacheBench, Version 2.3 <$Revision: 1430300 $>\n    Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\n    Licensed to The Apache Software Foundation, http://www.apache.org/\n    \n    Benchmarking 192.168.10.1 (be patient)\n    \n    \n    Server Software:        Boa/0.94.14rc21\n    Server Hostname:        192.168.10.1\n    Server Port:            80\n    \n    Document Path:          /\n    Document Length:        702 bytes\n    \n    Concurrency Level:      100\n    Time taken for tests:   8.025 seconds\n    Complete requests:      1000\n    Failed requests:        0\n    Write errors:           0\n    Non-2xx responses:      1000\n    Total transferred:      921000 bytes\n    HTML transferred:       702000 bytes\n    Requests per second:    124.61 [#/sec] (mean)\n    Time per request:       802.535 [ms] (mean)\n    Time per request:       8.025 [ms] (mean, across all concurrent requests)\n    Transfer rate:          112.07 [Kbytes/sec] received\n    \n    Connection Times (ms)\n                  min  mean[+/-sd] median   max\n    Connect:        1  612 1858.0      3    7025\n    Processing:     7  180 133.5    162     627\n    Waiting:        7  179 133.5    161     627\n    Total:         15  792 1888.9    175    7532\n    \n    Percentage of the requests served within a certain time (ms)\n      50%    175\n      66%    227\n      75%    276\n      80%    343\n      90%   4140\n      95%   7231\n      98%   7483\n      99%   7508\n     100%   7532 (longest request)Completed 100 requests\n    Completed 200 requests\n    Completed 300 requests\n    Completed 400 requests\n    Completed 500 requests\n    Completed 600 requests\n    Completed 700 requests\n    Completed 800 requests\n    Completed 900 requests\n    Completed 1000 requests\n    Finished 1000 requests\n\n\u3010weighttp\u306e\u5834\u5408\u3011\n\n    $ ansible clients -k -a \"weighttp -c 100 -n 1000 http://192.168.10.1/\"\n    SSH password: \n    host1 | success | rc=0 >>\n    weighttp - a lightweight and simple webserver benchmarking tool\n    \n    starting benchmark...\n    spawning thread #1: 100 concurrent requests, 1000 total requests\n    progress:  10% done\n    progress:  20% done\n    progress:  30% done\n    progress:  40% done\n    progress:  50% done\n    progress:  60% done\n    progress:  70% done\n    progress:  80% done\n    progress:  90% done\n    progress: 100% done\n    \n    finished in 4 sec, 696 millisec and 192 microsec, 212 req/s, 191 kbyte/s\n    requests: 1000 total, 1000 started, 1000 done, 0 succeeded, 1000 failed, 0 errored\n    status codes: 0 2xx, 0 3xx, 1000 4xx, 0 5xx\n    traffic: 921000 bytes total, 921000 bytes http, 0 bytes data\n    \n    \u30fb\n    \u30fb\n    \u30fb\n    \n    host10 | success | rc=0 >>\n    weighttp - a lightweight and simple webserver benchmarking tool\n    \n    starting benchmark...\n    spawning thread #1: 100 concurrent requests, 1000 total requests\n    progress:  10% done\n    progress:  20% done\n    progress:  30% done\n    progress:  40% done\n    progress:  50% done\n    progress:  60% done\n    progress:  70% done\n    progress:  80% done\n    progress:  90% done\n    progress: 100% done\n    \n    finished in 7 sec, 251 millisec and 565 microsec, 137 req/s, 124 kbyte/s\n    requests: 1000 total, 1000 started, 1000 done, 0 succeeded, 1000 failed, 0 errored\n    status codes: 0 2xx, 0 3xx, 1000 4xx, 0 5xx\n    traffic: 921000 bytes total, 921000 bytes http, 0 bytes data\n\n\u5b9f\u884c\u7d50\u679c\u306b\u95a2\u3057\u3066\u306f\u3001Apache Benchmark \u3088\u308a\u3082 weighttp \u306e\u65b9\u304c\u3059\u3063\u304d\u308a\u3057\u3066\u898b\u3084\u3059\u3044\u304b\u306a\u3002\n", "tags": ["Ansible", "\u8ca0\u8377\u8a66\u9a13"]}