{"tags": ["gce", "gcp", "hadoop", "hive", "Ubuntu14.10"], "context": " More than 1 year has passed since last update.\n\nGoogle compute engine\u306ehadoop\u306bhive\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n\nGCE\u306ehadoop\u306bhive\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5\u3092\u8272\u3005\u691c\u7d22\u3057\u305f\u3051\u3069\u60c5\u5831\u304c\u5c11\u306a\u3059\u304e\u3066\u307e\u3068\u3081\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002  \n\u516c\u5f0f\u3063\u307d\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3068\u3057\u3066\u306f\u4e0b\u8a18\u306e\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\n\u57fa\u672c\u305d\u306e\u901a\u308a\u306b\u5b9f\u65bd\u3059\u308c\u3070\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u306e\u3067\u3059\u304c\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u3042\u307e\u308a\u306b\u3082\u4e0d\u89aa\u5207\u3068\u3044\u3046\u304b\u5206\u304b\u308a\u306b\u304f\u3044\u3068\u3044\u3046\u304b\u30fb\u30fb\u30fb\u3002\nhttps://github.com/GoogleCloudPlatform/solutions-apache-hive-and-pig-on-google-compute-engine\n\n\u4e8b\u524d\u306bgcloud\u3067\u306e\u63a5\u7d9a\u304c\u53ef\u80fd\u306a\u8a2d\u5b9a\u3092\u884c\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\u57fa\u672c\u7684\u306b\u4f5c\u696d\u306fubuntu\u306eterm\u3067\u884c\u3044\u307e\u3059\u3002\uff08readme\u306b\u306f\u3053\u308c\u304c\u629c\u3051\u3066\u3044\u308b\uff09\n\u4e8b\u524d\u306bhadoop\u306evm\u3092\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\u3002\ngsutil \u3068 gcutil \u30b3\u30de\u30f3\u30c9\u304cubuntu\u3067\u5b9f\u884c\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304f\u3002\n\n\n\u672c\u5f53\u306b\u5fc5\u8981\u304b\u308f\u304b\u3089\u3093\u304c\u3084\u3063\u3066\u304a\u304f\n\nreadme\u306b\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u4e0b\u8a18\u3092\u5b9f\u884c\u3057\u3066\u304a\u304f\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30bb\u30c3\u30c8\n\n\ngcloud config set project <project ID>\n\nproject ID\u306f\u3001GCP\u3067\u4f5c\u6210\u6e08\u307f\u306e\u306f\u305a\u3067\u3059\u3002\n\n\n\u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210\n\n\u3053\u308c\u3082readme\u306b\u66f8\u3044\u3066\u308b\u3051\u3069\u3001\n\ngsutil mb gs://<bucket name>\n\n\u30d0\u30b1\u30c3\u30c8\u304c\u4f5c\u6210\u6e08\u307f\u306e\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\u30d0\u30b1\u30c3\u30c8\u540d\u306f\u3001[\u30b9\u30c8\u30ec\u30fc\u30b8][cloud Storage][\u30b9\u30c8\u30ec\u30fc\u30b8 \u30d6\u30e9\u30a6\u30b6]\u3092\u958b\u304f\u3068\u307f\u308c\u307e\u3059\u3002\n\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3082\u8aac\u660e\u4e0d\u8db3\u3059\u304e\u3066\u308f\u304b\u308a\u306b\u304f\u3044\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306f\u5b9f\u884c\u3059\u308b\u30e6\u30fc\u30b6\u306ehome\u3067\u554f\u984c\u306a\u3044\u3002\n\n$ wget https://github.com/GoogleCloudPlatform/solutions-apache-hive-and-pig-on-google-compute-engine/archive/master.zip\n$ unzip master.zip\n\n\nHive \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n\u4e0a\u8a18\u3067unzip\u3057\u305f\u30d5\u30a9\u30eb\u30c0(solutions-apache-hive-and-pig-on-google-compute-engine-master)\u306b\u79fb\u52d5\u3059\u308b\u3002\n\u3053\u306e\u4f4d\u7f6e\u3092readme\u3067\u306f\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u547c\u3093\u3067\u3044\u308b\u3002(root directory of the sample application.)\n\u3053\u306e\u30d5\u30a9\u30eb\u30c0\u306e\u4e0b\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\n\n$ mkdir -p packages/hive\n\n\u4f5c\u6210packages/hive\u4e0b\u306bhive\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\u81ea\u5206\u306f\u3001hive-0.12.0.tar.gz\u306b\u3057\u307e\u3057\u305f\u3002\n\ncdpackages/hivecdpackages/hive cd packages/hive \n wget http://archive.apache.org/dist/hive/hive-0.12.0/hive-0.12.0.tar.gz\n\n\nproject_properties.sh\u306e\u7de8\u96c6\n\n\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308bproject_properties.sh\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\u7de8\u96c6\u3059\u308b\u9805\u76ee\u306f\u4ee5\u4e0b\u306e\uff14\u3064\u3067\u3059\u3002\n\u5404\u9805\u76ee\u3092\u81ea\u5206\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\n\nreadonly GCS_PACKAGE_BUCKET=myproject-bucket\nreadonly ZONE=us-central1-a\nreadonly MASTER=myproject-hm\nreadonly HADOOP_HOME=/home/hadoop/hadoop-install\n\nHADOOP_HOME\u306f\u81ea\u5206\u306e\u74b0\u5883\u306ehadoop\u3067\u306fhadoop-insall\u3060\u3063\u305f\u306e\u3067\u66f8\u304d\u63db\u3048\u3066\u3044\u307e\u3059\u3002\n\u5206\u304b\u3089\u306a\u3044\u5834\u5408\u3001gce\u306eVM\u5074\u3067which\u3057\u3066\u307f\u307e\u3059\u3002\n\n$ which hadoop\n/home/hadoop/hadoop-install/bin/hadoop\n\n\u3067bin\u4ee5\u4e0b\u304cHADOOP_HOME\u306b\u306a\u308a\u307e\u3059\u3002\n\ncloud storage\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d7\u30c3\u30b7\u30e5\n\n\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u4ee5\u4e0b\u306e\u30b7\u30a7\u30eb\u3092\u5b9f\u884c\u3057\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d7\u30c3\u30b7\u30e5\u3057\u307e\u3059\u3002\n\n$ ./scripts/packages-to-gcs_at_host.sh\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b9f\u884c\n\n\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u4ee5\u4e0b\u306e\u30b7\u30a7\u30eb\u3092\u5b9f\u884c\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n$ ./scripts/install-packages-on-master_at_host.sh\n\n\u6210\u529f\u3059\u308c\u3070GCE\u5074\u306bhdpuser\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\n\u78ba\u8a8d\n\n\u3053\u3053\u304b\u3089readme\u3068\u82e5\u5e72\u7570\u306a\u308a\u307e\u3059\u3002\n\u307e\u305f\u3001\u3053\u3053\u304b\u3089\u306fGCE\u306bgcloud\u3067\u63a5\u7d9a\u3057\u3066hadoop vm\u4e0a\u3067\u306e\u5b9f\u884c\u3067\u3059\u3002\n\nsudo sudo -i -u hdpuser\n\nhive\u306e\u8d77\u52d5\n\n$ hive\n\n\u8d77\u52d5\u6642\u306b\u4ee5\u4e0b\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u308b\u5834\u5408\u3001HADOOP_HOME\u304bHADOOP_PREFIX\u304c\u6b63\u3057\u304fhadoop\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u539f\u56e0\u3067\u3059\u3002\n\nCannot find hadoop installation: $HADOOP_HOME or $HADOOP_PREFIX must be set or hadoop must be in the path\n\n\u74b0\u5883\u5909\u6570\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u3001\u6700\u521d\u306b\n\nHADOOP_PREFIX=/home/hadoop/hadoop\n\n\u3068\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u306e\u3067\u3001\n\nHADOOP_PREFIX=/home/hadoop/hadoop-install\n\n\u3068\u4fee\u6b63\u3057\u3066\u3044\u307e\u3059\u3002\nproject_properties.sh\u306e\u5185\u5bb9\u304c\u6b63\u3057\u304f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308c\u3070\u554f\u984c\u306a\u3044\u3068\u601d\u3046\u306e\u3067\u3001project_properties.sh\u3092\u4fee\u6b63\u3057\u3066\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092\u3057\u76f4\u3059\u306e\u3082\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\nhive\u304c\u8d77\u52d5\u3057\u305f\u3089\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u3053\u3093\u306a\u611f\u3058\u306b\u3002\n\nhive> \n\n\u4e0b\u8a18\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\uff08readme\u306e\u307e\u307e\u3067\u3059\uff09\n\nCREATE TABLE passwd (\n  user STRING,\n  dummy STRING,\n  uid INT,\n  gid INT,\n  name STRING,\n  home STRING,\n  shell STRING\n)\nROW FORMAT DELIMITED\n    FIELDS TERMINATED BY ':'\nSTORED AS TEXTFILE;\n\n\u6b21\u306b\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\nhive|>LOAD DATA LOCAL INPATH '/etc/passwd' OVERWRITE INTO TABLE passwd;\n\nreadme\u3067\u306fgs\u304b\u3089\u30ed\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u307e\u3060\u4e0a\u624b\u304f\u3044\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u76f4\u63a5\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\u30ed\u30fc\u30c9\u3067\u304d\u305f\u3089select\u3057\u3066\u307f\u307e\u3059\u3002\nhive> select * from passwd;\nOK\nroot    x   0   0   root    /root   /bin/bash\ndaemon  x   1   1   daemon  /usr/sbin   /bin/sh\nbin x   2   2   bin /bin    /bin/sh\nsys x   3   3   sys /dev    /bin/sh\nsync    x   4   65534   sync    /bin    /bin/sync\ngames   x   5   60  games   /usr/games  /bin/sh\nman x   6   12  man /var/cache/man  /bin/sh\nlp  x   7   7   lp  /var/spool/lpd  /bin/sh\nmail    x   8   8   mail    /var/mail   /bin/sh\nnews    x   9   9   news    /var/spool/news /bin/sh\nuucp    x   10  10  uucp    /var/spool/uucp /bin/sh\nproxy   x   13  13  proxy   /bin    /bin/sh\nwww-data    x   33  33  www-data    /var/www    /bin/sh\nbackup  x   34  34  backup  /var/backups    /bin/sh\nlist    x   38  38  Mailing List Manager    /var/list   /bin/sh\nirc x   39  39  ircd    /var/run/ircd   /bin/sh\ngnats   x   41  41  Gnats Bug-Reporting System (admin)  /var/lib/gnats  /bin/sh\nnobody  x   65534   65534   nobody  /nonexistent    /bin/sh\nlibuuid x   100 101     /var/lib/libuuid    /bin/sh\nntp x   101 103     /home/ntp   /bin/false\nsshd    x   102 65534       /var/run/sshd   /usr/sbin/nologin\nmessagebus  x   103 105     /var/run/dbus   /bin/false\nhadoop  x   500 500     /home/hadoop    /bin/bash\nhdpuser x   1002    500     /home/hdpuser   /bin/bash\nTime taken: 10.486 seconds, Fetched: 26 row(s)\nhive> \n\n\u3069\u3046\u3084\u3089select\u3067\u304d\u305f\u3088\u3046\u3067\u3059\u3002\n# **Google compute engine\u306ehadoop\u306bhive\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059**\nGCE\u306ehadoop\u306bhive\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5\u3092\u8272\u3005\u691c\u7d22\u3057\u305f\u3051\u3069\u60c5\u5831\u304c\u5c11\u306a\u3059\u304e\u3066\u307e\u3068\u3081\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002  \n\n\u516c\u5f0f\u3063\u307d\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3068\u3057\u3066\u306f\u4e0b\u8a18\u306e\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\n\u57fa\u672c\u305d\u306e\u901a\u308a\u306b\u5b9f\u65bd\u3059\u308c\u3070\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u306e\u3067\u3059\u304c\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u3042\u307e\u308a\u306b\u3082\u4e0d\u89aa\u5207\u3068\u3044\u3046\u304b\u5206\u304b\u308a\u306b\u304f\u3044\u3068\u3044\u3046\u304b\u30fb\u30fb\u30fb\u3002\n\nhttps://github.com/GoogleCloudPlatform/solutions-apache-hive-and-pig-on-google-compute-engine\n\n* \u4e8b\u524d\u306bgcloud\u3067\u306e\u63a5\u7d9a\u304c\u53ef\u80fd\u306a\u8a2d\u5b9a\u3092\u884c\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n* \u57fa\u672c\u7684\u306b\u4f5c\u696d\u306fubuntu\u306eterm\u3067\u884c\u3044\u307e\u3059\u3002\uff08readme\u306b\u306f\u3053\u308c\u304c\u629c\u3051\u3066\u3044\u308b\uff09\n* \u4e8b\u524d\u306bhadoop\u306evm\u3092\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n* gsutil \u3068 gcutil \u30b3\u30de\u30f3\u30c9\u304cubuntu\u3067\u5b9f\u884c\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304f\u3002\n\n## **\u672c\u5f53\u306b\u5fc5\u8981\u304b\u308f\u304b\u3089\u3093\u304c\u3084\u3063\u3066\u304a\u304f**\nreadme\u306b\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u4e0b\u8a18\u3092\u5b9f\u884c\u3057\u3066\u304a\u304f\u3002\n### **\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30bb\u30c3\u30c8**\n> gcloud config set project \\<project ID\\>\n\nproject ID\u306f\u3001GCP\u3067\u4f5c\u6210\u6e08\u307f\u306e\u306f\u305a\u3067\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/84915/94a629aa-5342-ff7a-f02d-bf267cdf3b9f.png)\n### **\u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210**\n\u3053\u308c\u3082readme\u306b\u66f8\u3044\u3066\u308b\u3051\u3069\u3001\n> gsutil mb gs://\\<bucket name\\>\n\n\u30d0\u30b1\u30c3\u30c8\u304c\u4f5c\u6210\u6e08\u307f\u306e\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\u30d0\u30b1\u30c3\u30c8\u540d\u306f\u3001[\u30b9\u30c8\u30ec\u30fc\u30b8][cloud Storage][\u30b9\u30c8\u30ec\u30fc\u30b8 \u30d6\u30e9\u30a6\u30b6]\u3092\u958b\u304f\u3068\u307f\u308c\u307e\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/84915/4ba8fb64-4109-3298-c0fe-e9c5cf138131.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/84915/55d14fe5-0565-390e-d502-be7f91aad6d5.png)\n\n### **\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9**\n\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3082\u8aac\u660e\u4e0d\u8db3\u3059\u304e\u3066\u308f\u304b\u308a\u306b\u304f\u3044\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306f\u5b9f\u884c\u3059\u308b\u30e6\u30fc\u30b6\u306ehome\u3067\u554f\u984c\u306a\u3044\u3002\n> $ wget https://github.com/GoogleCloudPlatform/solutions-apache-hive-and-pig-on-google-compute-engine/archive/master.zip\n> $ unzip master.zip\n\n### **Hive \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7**\n\u4e0a\u8a18\u3067unzip\u3057\u305f\u30d5\u30a9\u30eb\u30c0(solutions-apache-hive-and-pig-on-google-compute-engine-master)\u306b\u79fb\u52d5\u3059\u308b\u3002\n\u3053\u306e\u4f4d\u7f6e\u3092readme\u3067\u306f\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u547c\u3093\u3067\u3044\u308b\u3002(root directory of the sample application.)\n\u3053\u306e\u30d5\u30a9\u30eb\u30c0\u306e\u4e0b\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\n\n> $ mkdir -p packages/hive\n\n\u4f5c\u6210packages/hive\u4e0b\u306bhive\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\u81ea\u5206\u306f\u3001hive-0.12.0.tar.gz\u306b\u3057\u307e\u3057\u305f\u3002\n\n> $ cd packages/hive\n> $ wget http://archive.apache.org/dist/hive/hive-0.12.0/hive-0.12.0.tar.gz\n\n### **project_properties.sh\u306e\u7de8\u96c6**\n\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308bproject_properties.sh\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\u7de8\u96c6\u3059\u308b\u9805\u76ee\u306f\u4ee5\u4e0b\u306e\uff14\u3064\u3067\u3059\u3002\n\u5404\u9805\u76ee\u3092\u81ea\u5206\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\n\n>readonly GCS_PACKAGE_BUCKET=myproject-bucket\nreadonly ZONE=us-central1-a\nreadonly MASTER=myproject-hm\nreadonly HADOOP_HOME=/home/hadoop/hadoop-install\n\nHADOOP_HOME\u306f\u81ea\u5206\u306e\u74b0\u5883\u306ehadoop\u3067\u306fhadoop-insall\u3060\u3063\u305f\u306e\u3067\u66f8\u304d\u63db\u3048\u3066\u3044\u307e\u3059\u3002\n\u5206\u304b\u3089\u306a\u3044\u5834\u5408\u3001gce\u306eVM\u5074\u3067which\u3057\u3066\u307f\u307e\u3059\u3002\n\n>$ which hadoop\n/home/hadoop/hadoop-install/bin/hadoop\n\n\u3067bin\u4ee5\u4e0b\u304cHADOOP_HOME\u306b\u306a\u308a\u307e\u3059\u3002\n\n### **cloud storage\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d7\u30c3\u30b7\u30e5**\n\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u4ee5\u4e0b\u306e\u30b7\u30a7\u30eb\u3092\u5b9f\u884c\u3057\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d7\u30c3\u30b7\u30e5\u3057\u307e\u3059\u3002\n> $ ./scripts/packages-to-gcs__at__host.sh\n\n### **\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b9f\u884c**\n\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u4ee5\u4e0b\u306e\u30b7\u30a7\u30eb\u3092\u5b9f\u884c\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n> $ ./scripts/install-packages-on-master__at__host.sh\n\n\u6210\u529f\u3059\u308c\u3070GCE\u5074\u306bhdpuser\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n### **\u78ba\u8a8d**\n\u3053\u3053\u304b\u3089readme\u3068\u82e5\u5e72\u7570\u306a\u308a\u307e\u3059\u3002\n\u307e\u305f\u3001\u3053\u3053\u304b\u3089\u306fGCE\u306bgcloud\u3067\u63a5\u7d9a\u3057\u3066hadoop vm\u4e0a\u3067\u306e\u5b9f\u884c\u3067\u3059\u3002\n\n> sudo sudo -i -u hdpuser\n\nhive\u306e\u8d77\u52d5\n>$ hive\n\n\u8d77\u52d5\u6642\u306b\u4ee5\u4e0b\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u308b\u5834\u5408\u3001HADOOP_HOME\u304bHADOOP_PREFIX\u304c\u6b63\u3057\u304fhadoop\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u539f\u56e0\u3067\u3059\u3002\n\n> Cannot find hadoop installation: \\$HADOOP_HOME or $HADOOP_PREFIX must be set or hadoop must be in the path\n\n\u74b0\u5883\u5909\u6570\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u3001\u6700\u521d\u306b\n> HADOOP_PREFIX=/home/hadoop/hadoop\n\n\u3068\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u306e\u3067\u3001\n>HADOOP_PREFIX=/home/hadoop/hadoop-install\n\n\u3068\u4fee\u6b63\u3057\u3066\u3044\u307e\u3059\u3002\nproject_properties.sh\u306e\u5185\u5bb9\u304c\u6b63\u3057\u304f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308c\u3070\u554f\u984c\u306a\u3044\u3068\u601d\u3046\u306e\u3067\u3001project_properties.sh\u3092\u4fee\u6b63\u3057\u3066\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092\u3057\u76f4\u3059\u306e\u3082\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\nhive\u304c\u8d77\u52d5\u3057\u305f\u3089\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u3053\u3093\u306a\u611f\u3058\u306b\u3002\n> hive\\> \n\n\n\u4e0b\u8a18\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\uff08readme\u306e\u307e\u307e\u3067\u3059\uff09\n> CREATE TABLE passwd (\n  user STRING,\n  dummy STRING,\n  uid INT,\n  gid INT,\n  name STRING,\n  home STRING,\n  shell STRING\n)\nROW FORMAT DELIMITED\n    FIELDS TERMINATED BY ':'\n>STORED AS TEXTFILE;\n\n\u6b21\u306b\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n> hive|>LOAD DATA LOCAL INPATH '/etc/passwd' OVERWRITE INTO TABLE passwd;\n\nreadme\u3067\u306fgs\u304b\u3089\u30ed\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u307e\u3060\u4e0a\u624b\u304f\u3044\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u76f4\u63a5\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n\u30ed\u30fc\u30c9\u3067\u304d\u305f\u3089select\u3057\u3066\u307f\u307e\u3059\u3002\n\n````\nhive> select * from passwd;\nOK\nroot\tx\t0\t0\troot\t/root\t/bin/bash\ndaemon\tx\t1\t1\tdaemon\t/usr/sbin\t/bin/sh\nbin\tx\t2\t2\tbin\t/bin\t/bin/sh\nsys\tx\t3\t3\tsys\t/dev\t/bin/sh\nsync\tx\t4\t65534\tsync\t/bin\t/bin/sync\ngames\tx\t5\t60\tgames\t/usr/games\t/bin/sh\nman\tx\t6\t12\tman\t/var/cache/man\t/bin/sh\nlp\tx\t7\t7\tlp\t/var/spool/lpd\t/bin/sh\nmail\tx\t8\t8\tmail\t/var/mail\t/bin/sh\nnews\tx\t9\t9\tnews\t/var/spool/news\t/bin/sh\nuucp\tx\t10\t10\tuucp\t/var/spool/uucp\t/bin/sh\nproxy\tx\t13\t13\tproxy\t/bin\t/bin/sh\nwww-data\tx\t33\t33\twww-data\t/var/www\t/bin/sh\nbackup\tx\t34\t34\tbackup\t/var/backups\t/bin/sh\nlist\tx\t38\t38\tMailing List Manager\t/var/list\t/bin/sh\nirc\tx\t39\t39\tircd\t/var/run/ircd\t/bin/sh\ngnats\tx\t41\t41\tGnats Bug-Reporting System (admin)\t/var/lib/gnats\t/bin/sh\nnobody\tx\t65534\t65534\tnobody\t/nonexistent\t/bin/sh\nlibuuid\tx\t100\t101\t\t/var/lib/libuuid\t/bin/sh\nntp\tx\t101\t103\t\t/home/ntp\t/bin/false\nsshd\tx\t102\t65534\t\t/var/run/sshd\t/usr/sbin/nologin\nmessagebus\tx\t103\t105\t\t/var/run/dbus\t/bin/false\nhadoop\tx\t500\t500\t\t/home/hadoop\t/bin/bash\nhdpuser\tx\t1002\t500\t\t/home/hdpuser\t/bin/bash\nTime taken: 10.486 seconds, Fetched: 26 row(s)\nhive> \n````\n\n\u3069\u3046\u3084\u3089select\u3067\u304d\u305f\u3088\u3046\u3067\u3059\u3002\n\n\n\n\n\n\n\n"}