{"context": " More than 1 year has passed since last update.\u8981oauth.js, sha1.js\nConsumer key\nConsumer secret\n\u3092\u3055\u3089\u3055\u306a\u3044\u3068\u30c0\u30e1\u306a\u306e\u3067\u3001\u4ed6\u306e\u4eba\u306b\u52dd\u624b\u306b\u4f7f\u308f\u308c\u308b\u3088\u306a\u3042\n\u3067\u3082\u3057\u3087\u3046\u304c\u306a\u3044\u3088\u306a\u3042\n@ktty1220 \u3055\u3093\u306b\u3088\u308b\u5225\u30d0\u30fc\u30b8\u30e7\u30f3\u3082\u3042\u308a\u307e\u3059\n\nindex.html\n\n<head>\n<script src=\"http://oauth.googlecode.com/svn/code/javascript/oauth.js\"></script>\n<script src=\"http://oauth.googlecode.com/svn/code/javascript/sha1.js\"></script>\n<script src=\"getTwitterAPI.js\"></script>\n</head>\n\n\n\n\ngetTwitterAPI.js\n\n// \u3042\u3089\u304b\u3058\u3081\u30a2\u30d7\u30ea\u767b\u9332\u3057\u3066\u53d6\u5f97\nvar CONSUMER = {\n    \"key\" : XXXXXXXXXXXXXXX,\n    \"secret\" : XXXXXXXXXXXXXXXX \n};\n\n// \u30e6\u30fc\u30b6\u306e\u81ea\u524d\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u53d6\u3063\u3066\u304d\u3066\u3082\u3089\u3063\u3066\u3082\u3044\u3044\u3057\u3001\u30a2\u30d7\u30ea\u56fa\u6709\u306e\u3092\u57cb\u3081\u8fbc\u3093\u3067\u3082\u3044\u3044\nvar ACCESS = {\n    \"screen_name\" : false,\n    \"key\" : false,\n    \"secret\" : false\n};\n\n// url : API\u306eURL\u3002GET\u30af\u30a8\u30ea\u3092\u542b\u3080\u3082\u306e\n// callBackFunc : \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3000\u7b2c\u4e00\u5f15\u6570\u306bAPI\u30a2\u30af\u30bb\u30b9\u306e\u7d50\u679c\u304c\u9023\u60f3\u914d\u5217\u306eObject\u3067\u6e21\u308b\n// onerror : Function\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3068\u3001script\u30bf\u30b0\u57cb\u3081\u8fbc\u307f\u306b\u5931\u6557\u3057\u305f\u6642\u306e\u6319\u52d5\u3092\u5b9a\u7fa9\u53ef\nfunction getTwitterAPI(url, callBackFunc, onerror){\n    var parameters = {\n        oauth_signature_method: \"HMAC-SHA1\",\n        oauth_consumer_key: CONSUMER['key'],\n        oauth_token: ACCESS['key'],\n        callback: callBackFunc\n    };\n    var api_url = url;\n    var message = {\n        method: \"GET\",\n        action: api_url,\n        parameters: parameters\n    };\n    var secretKeys = {\n        \"consumerSecret\" : CONSUMER['secret'],\n        \"tokenSecret\" : ACCESS['secret']\n    };\n\n    OAuth.setTimestampAndNonce(message);\n    OAuth.SignatureMethod.sign(message, secretKeys);\n    var signed_url = OAuth.addToURL(api_url, parameters);\n\n    var ele = document.createElement(\"script\");\n\n    if(is('Function', onerror)){\n        ele.onerror = onerror;\n    }\n\n    var head = document.getElementsByTagName('head').item(0);\n    ele.type = \"text/javascript\";\n    ele.src = signed_url;\n    head.appendChild(ele);\n}\n\nfunction is(type, obj) {\n    var clas = Object.prototype.toString.call(obj).slice(8, -1);\n    return obj !== undefined && obj !== null && clas === type;\n}\n\n\n\n\u4f7f\u7528\u4f8b\n\ngetTwitterAPI('https://api.twitter.com/1.1/application/rate_limit_status.json?resources=users', 'callback_limit');\nfunction callback_limit(json){\n    var limitHash = json;\n    console.log(limitHash);\n}\n\n\n\n\n\u8981oauth.js, sha1.js\n\nConsumer key\nConsumer secret\n\u3092\u3055\u3089\u3055\u306a\u3044\u3068\u30c0\u30e1\u306a\u306e\u3067\u3001\u4ed6\u306e\u4eba\u306b\u52dd\u624b\u306b\u4f7f\u308f\u308c\u308b\u3088\u306a\u3042\n\u3067\u3082\u3057\u3087\u3046\u304c\u306a\u3044\u3088\u306a\u3042\n\n@ktty1220 \u3055\u3093\u306b\u3088\u308b[\u5225\u30d0\u30fc\u30b8\u30e7\u30f3](http://qiita.com/ktty1220/items/d8d5a5755cd6933a0c6f)\u3082\u3042\u308a\u307e\u3059\n\n```html:index.html\n\n<head>\n<script src=\"http://oauth.googlecode.com/svn/code/javascript/oauth.js\"></script>\n<script src=\"http://oauth.googlecode.com/svn/code/javascript/sha1.js\"></script>\n<script src=\"getTwitterAPI.js\"></script>\n</head>\n\n```\n\n\n```js:getTwitterAPI.js\n\n// \u3042\u3089\u304b\u3058\u3081\u30a2\u30d7\u30ea\u767b\u9332\u3057\u3066\u53d6\u5f97\nvar CONSUMER = {\n\t\"key\" : XXXXXXXXXXXXXXX,\n\t\"secret\" : XXXXXXXXXXXXXXXX\t\n};\n\n// \u30e6\u30fc\u30b6\u306e\u81ea\u524d\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u53d6\u3063\u3066\u304d\u3066\u3082\u3089\u3063\u3066\u3082\u3044\u3044\u3057\u3001\u30a2\u30d7\u30ea\u56fa\u6709\u306e\u3092\u57cb\u3081\u8fbc\u3093\u3067\u3082\u3044\u3044\nvar ACCESS = {\n\t\"screen_name\" : false,\n\t\"key\" : false,\n\t\"secret\" : false\n};\n\n// url : API\u306eURL\u3002GET\u30af\u30a8\u30ea\u3092\u542b\u3080\u3082\u306e\n// callBackFunc : \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3000\u7b2c\u4e00\u5f15\u6570\u306bAPI\u30a2\u30af\u30bb\u30b9\u306e\u7d50\u679c\u304c\u9023\u60f3\u914d\u5217\u306eObject\u3067\u6e21\u308b\n// onerror : Function\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3068\u3001script\u30bf\u30b0\u57cb\u3081\u8fbc\u307f\u306b\u5931\u6557\u3057\u305f\u6642\u306e\u6319\u52d5\u3092\u5b9a\u7fa9\u53ef\nfunction getTwitterAPI(url, callBackFunc, onerror){\n\tvar parameters = {\n\t\toauth_signature_method: \"HMAC-SHA1\",\n\t\toauth_consumer_key: CONSUMER['key'],\n\t\toauth_token: ACCESS['key'],\n\t\tcallback: callBackFunc\n\t};\n\tvar api_url = url;\n\tvar message = {\n\t\tmethod: \"GET\",\n\t\taction: api_url,\n\t\tparameters: parameters\n\t};\n\tvar secretKeys = {\n\t\t\"consumerSecret\" : CONSUMER['secret'],\n\t\t\"tokenSecret\" : ACCESS['secret']\n\t};\n\n\tOAuth.setTimestampAndNonce(message);\n\tOAuth.SignatureMethod.sign(message, secretKeys);\n\tvar signed_url = OAuth.addToURL(api_url, parameters);\n\n\tvar ele = document.createElement(\"script\");\n\n\tif(is('Function', onerror)){\n\t\tele.onerror = onerror;\n\t}\n\n\tvar head = document.getElementsByTagName('head').item(0);\n\tele.type = \"text/javascript\";\n\tele.src = signed_url;\n\thead.appendChild(ele);\n}\n\nfunction is(type, obj) {\n\tvar clas = Object.prototype.toString.call(obj).slice(8, -1);\n\treturn obj !== undefined && obj !== null && clas === type;\n}\n```\n\n\n```js:\u4f7f\u7528\u4f8b\n\ngetTwitterAPI('https://api.twitter.com/1.1/application/rate_limit_status.json?resources=users', 'callback_limit');\nfunction callback_limit(json){\n\tvar limitHash = json;\n\tconsole.log(limitHash);\n}\n\n\n```", "tags": ["JavaScript", "OAuth", "Twitter"]}