{"context": "\n\n\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u306e\u8868\u9818\u57df\u4f7f\u7528\u91cf\nselect\n   tablespace_name,\n   to_char(nvl(total_bytes / 1024,0), '999,999,999' ) as \"size(KB)\" ,\n   to_char(nvl((total_bytes - free_total_bytes) / 1024,0), '999,999,999' ) as \"used(KB)\" ,\n   to_char(nvl(free_total_bytes/1024,0), '999,999,999' ) as \"free(KB)\" ,\n   round(nvl((total_bytes - free_total_bytes) / total_bytes * 100,100),2) as \"rate(%)\"\nfrom\n   ( select\n       tablespace_name,\n       sum (bytes) total_bytes\n     from\n       dba_data_files\n     group by\n       tablespace_name\n   ),\n   ( select\n       tablespace_name free_tablespace_name,\n       sum (bytes) free_total_bytes\n     from\n       dba_free_space\n     group by tablespace_name\n   )\nwhere\n   tablespace_name = free_tablespace_name(+)\n\n\n\u30b9\u30ad\u30fc\u30de\u5225 \u30c7\u30a3\u30b9\u30af\u4f7f\u7528\u91cf\nSELECT\n     sg.tablespace_name,\n     sg.owner,\n     sg.segment_type,\n     count (segment_name) segment_cnt,\n     sum (blocks) blocks,\n     round( sum (bytes)/1024/1024) mb\nFROM\n     dba_segments sg,\n     dba_tablespaces ts\nWHERE\n     sg.tablespace_name = ts.tablespace_name\nGROUP BY\n     sg.tablespace_name,\n     sg.owner,\n     sg.segment_type\nORDER BY\n     sg.tablespace_name,\n     sg.owner,\n     sg.segment_type\n\n\n\u30e6\u30fc\u30b6\u30fc\u306e\u8868\u9818\u57df\u3092\u6d6a\u8cbb\u3057\u3066\u3044\u308b\u30c6\u30fc\u30d6\u30eb\u3092\u7279\u5b9a\u3059\u308b\u3002\nselect\n  tablespace_name,segment_name,segment_type,sum(bytes) / 1000 / 1000\nfrom\n  user_extents\ngroup by\n  tablespace_name,segment_name,segment_type\norder by\n  sum(bytes) desc\n\n#\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u306e\u8868\u9818\u57df\u4f7f\u7528\u91cf\n```\nselect\n   tablespace_name,\n   to_char(nvl(total_bytes / 1024,0), '999,999,999' ) as \"size(KB)\" ,\n   to_char(nvl((total_bytes - free_total_bytes) / 1024,0), '999,999,999' ) as \"used(KB)\" ,\n   to_char(nvl(free_total_bytes/1024,0), '999,999,999' ) as \"free(KB)\" ,\n   round(nvl((total_bytes - free_total_bytes) / total_bytes * 100,100),2) as \"rate(%)\"\nfrom\n   ( select\n       tablespace_name,\n       sum (bytes) total_bytes\n     from\n       dba_data_files\n     group by\n       tablespace_name\n   ),\n   ( select\n       tablespace_name free_tablespace_name,\n       sum (bytes) free_total_bytes\n     from\n       dba_free_space\n     group by tablespace_name\n   )\nwhere\n   tablespace_name = free_tablespace_name(+)\n```\n\n#\u30b9\u30ad\u30fc\u30de\u5225 \u30c7\u30a3\u30b9\u30af\u4f7f\u7528\u91cf\n```\nSELECT\n     sg.tablespace_name,\n     sg.owner,\n     sg.segment_type,\n     count (segment_name) segment_cnt,\n     sum (blocks) blocks,\n     round( sum (bytes)/1024/1024) mb\nFROM\n     dba_segments sg,\n     dba_tablespaces ts\nWHERE\n     sg.tablespace_name = ts.tablespace_name\nGROUP BY\n     sg.tablespace_name,\n     sg.owner,\n     sg.segment_type\nORDER BY\n     sg.tablespace_name,\n     sg.owner,\n     sg.segment_type\n```\n#\u30e6\u30fc\u30b6\u30fc\u306e\u8868\u9818\u57df\u3092\u6d6a\u8cbb\u3057\u3066\u3044\u308b\u30c6\u30fc\u30d6\u30eb\u3092\u7279\u5b9a\u3059\u308b\u3002\n```\nselect\n  tablespace_name,segment_name,segment_type,sum(bytes) / 1000 / 1000\nfrom\n  user_extents\ngroup by\n  tablespace_name,segment_name,segment_type\norder by\n  sum(bytes) desc\n```\n", "tags": ["oracle", "SQL"]}