{"tags": ["vue.js", "JavaScript"], "context": "\n\nIndex\n1.VueCLI\u3067HelloWorld\n2.VueJS\u3067\u30d5\u30a9\u30fc\u30e0\u3092\u4f7f\u304a\u3046\n3.VueJS\u3067\u5358\u4e00\u30d5\u30a1\u30a4\u30eb\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n4.VueJS\u3067API\u901a\u4fe1\n\n\n1. \u524d\u63d0\u6761\u4ef6\n\u524d\u56de\u306e\u5b9f\u7fd2\u3092\u7d42\u308f\u3089\u305b\u3066\u304a\u304f\u3053\u3068\n\n2.axios\u3068mockey\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVue\u3067Ajax\u3059\u308b\u306b\u306f\u4f55\u3092\u4f7f\u3048\u3070\u3044\u3044\u306e\uff1f\u3063\u3066\u3044\u3046\u8a71\u304c\u8abf\u3079\u3066\u3044\u304f\u3068\u304d\u306a\u81ed\u3044\u611f\u3058\u30fb\u30fb\u30fb\u30fb\u30fb\nhttps://jp.vuejs.org/2016/11/03/retiring-vue-resource/\n\u3068\u308a\u3042\u3048\u305a\u3001\u4e0a\u8a18\u306e\u516c\u5f0f\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u3067\u304a\u3059\u3059\u3081\u3055\u308c\u3066\u308b\u3001axios\u3092\u4f7f\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nnpm install axios --save\nnpm install -D mocky --save\n\n\n3. mokey\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068API\u30b9\u30bf\u30d6\u4f5c\u6210\n\n3.1 \u30b9\u30bf\u30d6API\u4f5c\u6210\n\nmock.js\nvar mocky = require('mocky');\n\nmocky.createServer([{\n// simple GET route without request body to match\n  url: '/profile',\n  method: 'get',\n  headers: {'Content-type': 'text/json'},\n  res: {\n    status: 200,\n    headers: {'Content-type': 'text/html', 'Access-Control-Allow-Origin': 'http://localhost:8080'},\n    body: JSON.stringify({'nickname': ''})\n  }\n},\n{\n// simple GET route without request body to match\n  url: '/profile_wait',\n  method: 'get',\n  headers: {'Content-type': 'text/json'},\n  res: function(req, res, callback) {\n    setTimeout(function() {\n      callback(null, {\n        status: 200,\n        headers: {'Content-type': 'text/html', 'Access-Control-Allow-Origin': 'http://localhost:8080'},\n        body: JSON.stringify({'nickname': ''})\n      });\n    }, 1000);\n  }\n},\n{\n// POST route with request body to match and respose with status, headers and body\n  url: '/profile',\n  method: 'post',\n  req: '',\n  headers: {'Content-type': 'text/json'},\n  res: {\n    status: 200,\n    headers: {'Content-type': 'text/html', 'Access-Control-Allow-Origin': 'http://localhost:8080'},\n    body: JSON.stringify({'status': 'ok'})\n  }\n},\n{\n// PUT route with dynamic response body\n  url: '/profile',\n  method: 'put',\n  req: '',\n  headers: {'Content-type': 'text/json'},\n  res: {\n    status: 200,\n    headers: {'Content-type': 'text/html', 'Access-Control-Allow-Origin': 'http://localhost:8080'},\n    body: JSON.stringify({'status': 'ok'})\n  }\n},\n{\n// DELETE route with dynamic response body\n  url: '/profile',\n  method: 'delete',\n  req: '',\n  headers: {'Content-type': 'text/json'},\n  res: {\n    status: 200,\n    headers: {'Content-type': 'text/html', 'Access-Control-Allow-Origin': 'http://localhost:8080'},\n    body: JSON.stringify({'status': 'ok'})\n  }\n}]).listen(4321);\n\n\n\n3.2 \u8d77\u52d5\nnode mock.js\n\n\n3.3 \u52d5\u4f5c\u78ba\u8a8d\n# GET\ncurl \"http://127.0.0.1:4321/profile\"\n# POST\ncurl -d \"{'nickname': 'test'}\" http://127.0.0.1:4321/profile\n# PUT\ncurl -v -X PUT -d \"{'nickname': 'test'}\" http://127.0.0.1:4321/profile\n# DELETE\ncurl -v -X DELETE -d \"{'nickname': 'test'}\" http://127.0.0.1:4321/profile\n\n\n4. axios\u3092\u4f7f\u3063\u3066API\u901a\u4fe1\n\u4e0b\u8a18\u306e\u8a18\u8ff0\u3092Scene1.vue\u306b\u8ffd\u52a0\u3057\u3066API\u30c7\u30fc\u30bf\u53d6\u5f97\u304c\u975e\u540c\u671f\u3067\u3042\u308b\u4e8b\u3092\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002profile_wait\u3092\u8aad\u3093\u3067\u3044\u308b\u306e\u3067\u5c11\u3057\u9045\u308c\u3066\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\ncomponents/Scene1.vue\n.......\nimport axios from 'axios'\n\nexport default {\n  created: function () {\n    axios.get('http://127.0.0.1:4321/profile_wait')\n      .then(response => {\n        console.log(response.data) // mockData\n        console.log(response.status) // 200\n      })\n  }\n}\n.......\n\n\n\n5. Vuex\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068Store\u306e\u66f8\u304d\u63db\u3048\n\u30b3\u30fc\u30c9\nnpm install vuex install --save\n\n\n5.1 \u975e\u540c\u671f\u901a\u4fe1\u306e\u5b9f\u8df5\n\u307e\u305a\u3001PropertyStore.js\u3092Vuex\u306b\u5408\u308f\u305b\u3066\u66f8\u304d\u63db\u3048\u3066\u3044\u304d\u307e\u3059\n\nPropertyStore.js\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\nVue.use(Vuex)\n\n//  \u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\nvar PropertyStore = new Vuex.Store({\n  state: {\n    property: {\n      nickname: 'Loading.....'\n    }\n  },\n  mutations: {\n    increment (state, n) {\n      state.count += n\n    },\n    getUser (state, response) {\n      state.property.nickname = response.data.nickname\n    },\n    setUser (state, nickname) {\n      state.property.nickname = nickname\n    }\n  },\n  actions: {\n    getUser ({ commit }) {\n      axios.get('http://127.0.0.1:4321/profile_wait')\n        .then(response => {\n          if (response.status === 200) {\n            commit('getUser', response)\n          }\n        })\n    },\n    setUser ({ state, commit, rootState }) {\n      if (state.property.nickname.length <= 3) {\n        throw new Error('3\u6587\u5b57\u4ee5\u4e0a\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044')\n      }\n      axios.post('http://127.0.0.1:4321/profile')\n        .then(response => {\n          if (response.status === 200 && response.data.status === 'ok') {\n            commit('setUser', state.property.nickname)\n          } else {\n            throw new Error('\u30ec\u30b9\u30dd\u30f3\u30b9\u30a8\u30e9\u30fc')\n          }\n        })\n    }\n  }\n})\nexport default PropertyStore\n\n\n\u6b21\u306b\u3001Scene1\u306b\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\ncomponent/Scene1.vue\n.....\nimport InputText from './forms/InputText'\nimport PropertyStore from '../models/PropertyStore.js'\n\nexport default {\n  created: function () {\n\n  }\n}\n//  \u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u53d6\u5f97\nPropertyStore.dispatch('getUser')\n//  \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u767b\u9332\nVue.component('nickname-header', NickNameHeader)\n.....\n\n\n\u6700\u5f8c\u306b\u3001\u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u3044\u305f\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\ncomponent/forms/Scene1.vue\n.....\n  methods: {\n    validate: function (event) {\n      try {\n        this.$data.sharedState.dispatch('setUser')\n        this.$router.push('/scene2')\n      } catch (e) {\n        alert(e.message)\n      }\n    }\n  }\n.....\n\n\n\u30b9\u30bf\u30d6\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u8fd4\u5374\u30921\u79d2\u307e\u3063\u3066\u304b\u3089\u884c\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u521d\u671f\u5024\u3068\u3057\u3066nickname\u306b\u5165\u308c\u3066\u3044\u308binitialize\u3068\u3044\u3046\u6587\u5b57\u304c1\u79d2\u5f8c\u306b\u66f8\u304d\u63db\u3048\u3089\u308c\u308b\u4e8b\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\n\n6. Loading\u753b\u9762\u304b\u3089\u306e\u30d5\u30a9\u30fc\u30e0\u8868\u793a\n\u4e0a\u8a18 5.\u306e\u5b9f\u7fd2\u3067\u306f\u3001\u30d5\u30a9\u30fc\u30e0\u3092\u8868\u793a\u3057\u305f\u5f8c\u306b\u30c7\u30fc\u30bf\u5165\u529b\u304c\u53ef\u80fd\u306a\u72b6\u614b\u306b\u306a\u308b\u306e\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u30d3\u30ea\u30c6\u30a3\u304c\u3088\u304f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u3053\u3053\u3067\u3001\u518d\u5ea6\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u3057\u3066Store\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u7ba1\u7406\u3068UI\u3092\u7d50\u3073\u3064\u3051\u3066\u884c\u304d\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001v-show\u3000\u3068\u3044\u3046syntax\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\u30b3\u30fc\u30c9\n\u307e\u305a\u306f\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u7ba1\u7406\u7528\u306econfig\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nconfig/Status.js\nexport const StatusConfig = {\n  INITIALIZE: 0,\n  DATA_LOADED: 1\n}\n\n\nPropertyStore\u3067\u30b9\u30c6\u30fc\u30bf\u30b9\u7ba1\u7406\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n1. \u5148\u7a0b\u4f5c\u6210\u3057\u305f\u3001StatusConfig\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n2. state\u306e\u4e2d\u306bstatus=StatusConfig.INITIALIZE\u3092\u8ffd\u52a0\u3001\u4ee3\u5165\u3057\u307e\u3057\u3087\u3046\u3002\n3. mutations\u5185\u306egetUser\u306e\u4e2d\u3067status\u3092StatusConfig.DATA_LOADED\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\nmodels/PropertyStore.js\nimport {StatusConfig} from '../config/Status.js'\n\n.....\n  state: {\n    status: StatusConfig.INITIALIZE,\n    property: {\n      nickname: 'Loading.....'\n    }\n  },\n.....\n  mutations: {\n.....\n    getUser (state, response) {\n      state.property.nickname = response.data.nickname\n      state.status = StatusConfig.DATA_LOADED\n    },\n\n\n\u6700\u5f8c\u306bScene1.vue\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n1. StatusConfig\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\n2. computed\u306e\u4e2d\u306bis_loading\u95a2\u6570\u3092\u8ffd\u52a0\n3. <template></template>\u5185\u3067Loading\u4e2d\u306b\u8868\u793a\u3059\u308b\u3082\u306e\u3068Loading\u5f8c\u306b\u8868\u793a\u3059\u308b\u3082\u306e\u3092\u66f8\u304d\u5206\u3051\u307e\u3059\u3002\n\ncomponents/Scene1.vue\n<template>\n  <div class=\"scene1\">\n    <div v-show=\"is_loading\">\n      Loading......\n  </div>\n  <div v-show=\"!is_loading\">\n      <nickname-header></nickname-header>\n      <input-text></input-text>\n      <input-button></input-button>\n    </div>\n  </div>\n</template>\n........\nimport PropertyStore from '../models/PropertyStore.js'\nimport {StatusConfig} from '../config/Status.js'\n........\nexport default {\n  computed: {\n    is_loading: function () {\n      return PropertyStore.state.status === StatusConfig.INITIALIZE\n    }\n  }\n}\n........\n\n\n\n# Index\n[1.VueCLI\u3067HelloWorld](http://qiita.com/MariMurotani/items/5fbea5942d2edf149989)\n[2.VueJS\u3067\u30d5\u30a9\u30fc\u30e0\u3092\u4f7f\u304a\u3046](http://qiita.com/MariMurotani/items/10702fbcae2997fcae80)\n[3.VueJS\u3067\u5358\u4e00\u30d5\u30a1\u30a4\u30eb\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8](http://qiita.com/MariMurotani/items/8694bce9e29e1593a488)\n[4.VueJS\u3067API\u901a\u4fe1](http://qiita.com/MariMurotani/items/a8576974deeabf9daf6e)\n\n-----\n# 1. \u524d\u63d0\u6761\u4ef6\n[\u524d\u56de\u306e\u5b9f\u7fd2\u3092\u7d42\u308f\u3089\u305b\u3066\u304a\u304f\u3053\u3068](http://qiita.com/MariMurotani/items/8694bce9e29e1593a488)\n\n# 2.[axios](https://github.com/mzabriskie/axios)\u3068[mockey](https://github.com/2do2go/mocky)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVue\u3067Ajax\u3059\u308b\u306b\u306f\u4f55\u3092\u4f7f\u3048\u3070\u3044\u3044\u306e\uff1f\u3063\u3066\u3044\u3046\u8a71\u304c\u8abf\u3079\u3066\u3044\u304f\u3068\u304d\u306a\u81ed\u3044\u611f\u3058\u30fb\u30fb\u30fb\u30fb\u30fb\nhttps://jp.vuejs.org/2016/11/03/retiring-vue-resource/\n\u3068\u308a\u3042\u3048\u305a\u3001\u4e0a\u8a18\u306e\u516c\u5f0f\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u3067\u304a\u3059\u3059\u3081\u3055\u308c\u3066\u308b\u3001axios\u3092\u4f7f\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n```\nnpm install axios --save\nnpm install -D mocky --save\n```\n\n# 3. mokey\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068API\u30b9\u30bf\u30d6\u4f5c\u6210\n## 3.1 \u30b9\u30bf\u30d6API\u4f5c\u6210 \n```mock.js\nvar mocky = require('mocky');\n\nmocky.createServer([{\n// simple GET route without request body to match\n  url: '/profile',\n  method: 'get',\n  headers: {'Content-type': 'text/json'},\n  res: {\n    status: 200,\n    headers: {'Content-type': 'text/html', 'Access-Control-Allow-Origin': 'http://localhost:8080'},\n    body: JSON.stringify({'nickname': ''})\n  }\n},\n{\n// simple GET route without request body to match\n  url: '/profile_wait',\n  method: 'get',\n  headers: {'Content-type': 'text/json'},\n  res: function(req, res, callback) {\n    setTimeout(function() {\n      callback(null, {\n        status: 200,\n        headers: {'Content-type': 'text/html', 'Access-Control-Allow-Origin': 'http://localhost:8080'},\n        body: JSON.stringify({'nickname': ''})\n      });\n    }, 1000);\n  }\n},\n{\n// POST route with request body to match and respose with status, headers and body\n  url: '/profile',\n  method: 'post',\n  req: '',\n  headers: {'Content-type': 'text/json'},\n  res: {\n    status: 200,\n    headers: {'Content-type': 'text/html', 'Access-Control-Allow-Origin': 'http://localhost:8080'},\n    body: JSON.stringify({'status': 'ok'})\n  }\n},\n{\n// PUT route with dynamic response body\n  url: '/profile',\n  method: 'put',\n  req: '',\n  headers: {'Content-type': 'text/json'},\n  res: {\n    status: 200,\n    headers: {'Content-type': 'text/html', 'Access-Control-Allow-Origin': 'http://localhost:8080'},\n    body: JSON.stringify({'status': 'ok'})\n  }\n},\n{\n// DELETE route with dynamic response body\n  url: '/profile',\n  method: 'delete',\n  req: '',\n  headers: {'Content-type': 'text/json'},\n  res: {\n    status: 200,\n    headers: {'Content-type': 'text/html', 'Access-Control-Allow-Origin': 'http://localhost:8080'},\n    body: JSON.stringify({'status': 'ok'})\n  }\n}]).listen(4321);\n```\n\n## 3.2 \u8d77\u52d5 \n```\nnode mock.js\n```\n## 3.3 \u52d5\u4f5c\u78ba\u8a8d\n```shell\n# GET\ncurl \"http://127.0.0.1:4321/profile\"\n# POST\ncurl -d \"{'nickname': 'test'}\" http://127.0.0.1:4321/profile\n# PUT\ncurl -v -X PUT -d \"{'nickname': 'test'}\" http://127.0.0.1:4321/profile\n# DELETE\ncurl -v -X DELETE -d \"{'nickname': 'test'}\" http://127.0.0.1:4321/profile\n```\n\n# 4. axios\u3092\u4f7f\u3063\u3066API\u901a\u4fe1\n\u4e0b\u8a18\u306e\u8a18\u8ff0\u3092Scene1.vue\u306b\u8ffd\u52a0\u3057\u3066API\u30c7\u30fc\u30bf\u53d6\u5f97\u304c\u975e\u540c\u671f\u3067\u3042\u308b\u4e8b\u3092\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002profile_wait\u3092\u8aad\u3093\u3067\u3044\u308b\u306e\u3067\u5c11\u3057\u9045\u308c\u3066\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```html:components/Scene1.vue\n.......\nimport axios from 'axios'\n\nexport default {\n  created: function () {\n    axios.get('http://127.0.0.1:4321/profile_wait')\n      .then(response => {\n        console.log(response.data) // mockData\n        console.log(response.status) // 200\n      })\n  }\n}\n.......\n```\n\n# 5. [Vuex](https://vuex.vuejs.org/ja/api.html)\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068Store\u306e\u66f8\u304d\u63db\u3048\n\n[\u30b3\u30fc\u30c9](https://github.com/MariMurotani/my-project/tree/05_vue-ajax)\n\n```\nnpm install vuex install --save\n```\n\n## 5.1 \u975e\u540c\u671f\u901a\u4fe1\u306e\u5b9f\u8df5\n\n\u307e\u305a\u3001PropertyStore.js\u3092Vuex\u306b\u5408\u308f\u305b\u3066\u66f8\u304d\u63db\u3048\u3066\u3044\u304d\u307e\u3059\n\n```javascript:PropertyStore.js\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\nVue.use(Vuex)\n\n//  \u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\nvar PropertyStore = new Vuex.Store({\n  state: {\n    property: {\n      nickname: 'Loading.....'\n    }\n  },\n  mutations: {\n    increment (state, n) {\n      state.count += n\n    },\n    getUser (state, response) {\n      state.property.nickname = response.data.nickname\n    },\n    setUser (state, nickname) {\n      state.property.nickname = nickname\n    }\n  },\n  actions: {\n    getUser ({ commit }) {\n      axios.get('http://127.0.0.1:4321/profile_wait')\n        .then(response => {\n          if (response.status === 200) {\n            commit('getUser', response)\n          }\n        })\n    },\n    setUser ({ state, commit, rootState }) {\n      if (state.property.nickname.length <= 3) {\n        throw new Error('3\u6587\u5b57\u4ee5\u4e0a\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044')\n      }\n      axios.post('http://127.0.0.1:4321/profile')\n        .then(response => {\n          if (response.status === 200 && response.data.status === 'ok') {\n            commit('setUser', state.property.nickname)\n          } else {\n            throw new Error('\u30ec\u30b9\u30dd\u30f3\u30b9\u30a8\u30e9\u30fc')\n          }\n        })\n    }\n  }\n})\nexport default PropertyStore\n```\n\n\u6b21\u306b\u3001Scene1\u306b\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```javascript:component/Scene1.vue\n.....\nimport InputText from './forms/InputText'\nimport PropertyStore from '../models/PropertyStore.js'\n\nexport default {\n  created: function () {\n\n  }\n}\n//  \u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u53d6\u5f97\nPropertyStore.dispatch('getUser')\n//  \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u767b\u9332\nVue.component('nickname-header', NickNameHeader)\n.....\n```\n\n\u6700\u5f8c\u306b\u3001\u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u3044\u305f\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n```javascript:component/forms/Scene1.vue\n.....\n  methods: {\n    validate: function (event) {\n      try {\n        this.$data.sharedState.dispatch('setUser')\n        this.$router.push('/scene2')\n      } catch (e) {\n        alert(e.message)\n      }\n    }\n  }\n.....\n```\n\n\u30b9\u30bf\u30d6\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u8fd4\u5374\u30921\u79d2\u307e\u3063\u3066\u304b\u3089\u884c\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u521d\u671f\u5024\u3068\u3057\u3066nickname\u306b\u5165\u308c\u3066\u3044\u308binitialize\u3068\u3044\u3046\u6587\u5b57\u304c1\u79d2\u5f8c\u306b\u66f8\u304d\u63db\u3048\u3089\u308c\u308b\u4e8b\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\n![0.gif](https://qiita-image-store.s3.amazonaws.com/0/89997/2b54e9f5-598a-779e-5655-27dc1d1c7c6d.gif)\n\n\n# 6. Loading\u753b\u9762\u304b\u3089\u306e\u30d5\u30a9\u30fc\u30e0\u8868\u793a\n\u4e0a\u8a18 5.\u306e\u5b9f\u7fd2\u3067\u306f\u3001\u30d5\u30a9\u30fc\u30e0\u3092\u8868\u793a\u3057\u305f\u5f8c\u306b\u30c7\u30fc\u30bf\u5165\u529b\u304c\u53ef\u80fd\u306a\u72b6\u614b\u306b\u306a\u308b\u306e\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u30d3\u30ea\u30c6\u30a3\u304c\u3088\u304f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u3053\u3053\u3067\u3001\u518d\u5ea6\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u3057\u3066Store\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u7ba1\u7406\u3068UI\u3092\u7d50\u3073\u3064\u3051\u3066\u884c\u304d\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001[v-show](https://jp.vuejs.org/v2/guide/conditional.html#v-if-vs-v-show)\u3000\u3068\u3044\u3046syntax\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n[\u30b3\u30fc\u30c9](https://github.com/MariMurotani/my-project/tree/06_vue-ajax_refactor)\n\n\u307e\u305a\u306f\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u7ba1\u7406\u7528\u306econfig\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```javascript:config/Status.js\nexport const StatusConfig = {\n  INITIALIZE: 0,\n  DATA_LOADED: 1\n}\n```\n\nPropertyStore\u3067\u30b9\u30c6\u30fc\u30bf\u30b9\u7ba1\u7406\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n1. \u5148\u7a0b\u4f5c\u6210\u3057\u305f\u3001StatusConfig\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n2. state\u306e\u4e2d\u306bstatus=StatusConfig.INITIALIZE\u3092\u8ffd\u52a0\u3001\u4ee3\u5165\u3057\u307e\u3057\u3087\u3046\u3002\n3. mutations\u5185\u306egetUser\u306e\u4e2d\u3067status\u3092StatusConfig.DATA_LOADED\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n```javascript:models/PropertyStore.js\nimport {StatusConfig} from '../config/Status.js'\n\n.....\n  state: {\n    status: StatusConfig.INITIALIZE,\n    property: {\n      nickname: 'Loading.....'\n    }\n  },\n.....\n  mutations: {\n.....\n    getUser (state, response) {\n      state.property.nickname = response.data.nickname\n      state.status = StatusConfig.DATA_LOADED\n    },\n```\n\n\u6700\u5f8c\u306bScene1.vue\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n1. StatusConfig\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\n2. [computed](https://jp.vuejs.org/v2/guide/computed.html)\u306e\u4e2d\u306bis_loading\u95a2\u6570\u3092\u8ffd\u52a0\n3. &lt;template&gt;&lt;/template&gt;\u5185\u3067Loading\u4e2d\u306b\u8868\u793a\u3059\u308b\u3082\u306e\u3068Loading\u5f8c\u306b\u8868\u793a\u3059\u308b\u3082\u306e\u3092\u66f8\u304d\u5206\u3051\u307e\u3059\u3002\n\n```html:components/Scene1.vue\n<template>\n  <div class=\"scene1\">\n    <div v-show=\"is_loading\">\n      Loading......\n  </div>\n  <div v-show=\"!is_loading\">\n      <nickname-header></nickname-header>\n      <input-text></input-text>\n      <input-button></input-button>\n    </div>\n  </div>\n</template>\n........\nimport PropertyStore from '../models/PropertyStore.js'\nimport {StatusConfig} from '../config/Status.js'\n........\nexport default {\n  computed: {\n    is_loading: function () {\n      return PropertyStore.state.status === StatusConfig.INITIALIZE\n    }\n  }\n}\n........\n``````\n\n![\u3055\u3044\u3053\u3099\u306e.gif](https://qiita-image-store.s3.amazonaws.com/0/89997/597ff439-727e-0306-07e6-bc53ae028ee0.gif)\n\n"}