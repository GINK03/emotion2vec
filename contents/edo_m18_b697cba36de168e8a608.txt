{"context": " More than 1 year has passed since last update.[2015.05.21 \u8ffd\u8a18]\n\u3069\u3046\u3084\u3089\u6700\u65b0\u7248\uff08r72\uff09\u3067\u306fvideo\u8981\u7d20\u3092\u305d\u306e\u307e\u307e\u30c6\u30af\u30b9\u30c1\u30e3\u3068\u3057\u3066\u4f7f\u3046\u65b9\u6cd5\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u3082\u3042\u308a\u307e\u3057\u305f\u3002\n\u3056\u3063\u304f\u308a\u3068\u305d\u306e\u8a18\u8ff0\u3060\u3051\u629c\u304d\u51fa\u3059\u3068\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u975e\u5e38\u306b\u624b\u8efd\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\nvideoTexture\nvideo = document.getElementById( 'video' );\n\ntexture = new THREE.VideoTexture( video );\ntexture.minFilter = THREE.LinearFilter;\ntexture.magFilter = THREE.LinearFilter;\ntexture.format = THREE.RGBFormat;\n\n\n\u4e0b\u306e\u8a18\u4e8b\u306f\u305d\u306e\u524d\u306b\u66f8\u3044\u305f\u3082\u306e\u3067\u3001\u6bd4\u8f03\u7684\u4f4e\u30ec\u30a4\u30e4\u30fc\u3067\u306e\u3084\u308a\u65b9\u3067\u3059\u3002\n\nThree.js\u306e\u30b5\u30f3\u30d7\u30eb\u306b\u3042\u3063\u305f\u3082\u306e\u3092\u629c\u7c8b\u3002\n\u57fa\u672c\u7684\u306a\u30d5\u30ed\u30fc\u306f\n\nvideo\u8981\u7d20\u3092\u751f\u6210\uff08\u3042\u308b\u3044\u306f\u53d6\u5f97\uff09\nvideo\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308bcanvas\u8981\u7d20\u3092\u751f\u6210\uff08\u3042\u308b\u3044\u306f\u53d6\u5f97\uff09\ncanvas\u8981\u7d20\u3092texture\u306b\u6307\u5b9a\n\u751f\u6210\u3057\u305ftexture\u3092\u5143\u306b\u30de\u30c6\u30ea\u30a2\u30eb\u3092\u751f\u6210\nloop update\u306e\u4e2d\u3067canvas\u3092\u66f4\u65b0\u3057\u3001\u3055\u3089\u306btexture\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306eneedsUpdate\u3092true\u306b\u6307\u5b9a\n\n\u3068\u3044\u3046\u624b\u9806\u3067\u3001\u3042\u3068\u306f\u52dd\u624b\u306bThree.js\u304c\u66f4\u65b0\u3057\u3066\u304f\u308c\u308b\u3002\n\nvideotexture.js\n//video\u8981\u7d20\u3068\u305d\u308c\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308bcanvas\u8981\u7d20\u3092\u751f\u6210\nvar video = document.createElement('video');\nvideo.src = \"some.mp4\";\nvideo.load();\nvideo.play();\n\nvar videoImage = document.createElement('canvas');\nvideoImage.width = 480;\nvideoImage.height = 200;\n\nvar videoImageContext = videoImage.getContext('2d');\nvideoImageContext.fillStyle = '#000000';\nvideoImageContext.fillRect(0, 0, videoImage.width, videoImage.height);\n\n//\u751f\u6210\u3057\u305fcanvas\u3092texture\u3068\u3057\u3066THREE.Texture\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\nvar videoTexture = new THREE.Texture(videoImage);\nvideoTexture.minFilter = THREE.LinearFilter;\nvideoTexture.magFilter = THREE.LinearFilter;\n\n//\u751f\u6210\u3057\u305fvideo texture\u3092map\u306b\u6307\u5b9a\u3057\u3001overdraw\u3092ture\u306b\u3057\u3066\u30de\u30c6\u30ea\u30a2\u30eb\u3092\u751f\u6210\nvar movieMaterial = new THREE.MeshBasicMaterial({map: videoTexture, overdraw: true, side:THREE.DoubleSide});\nvar movieGeometry = new THREE.PlaneGeometry(10, 10, 4, 4);\nvar movieScreen = new THREE.Mesh(movieGeometry, movieMaterial);\nmovieScreen.rotation.y = THREE.Math.degToRad(90);\n\nscene.add(movieScreen);\n\n//loop update\u306e\u4e2d\u3067\u5b9f\u884c\nif (video.readyState === video.HAVE_ENOUGH_DATA) {\n    videoImageContext.drawImage(video, 0, 0);\n    if (videoTexture) {\n        videoTexture.needsUpdate = true;\n    }\n}\n\n\n\n\n[2015.05.21 \u8ffd\u8a18]\n\u3069\u3046\u3084\u3089\u6700\u65b0\u7248\uff08r72\uff09\u3067\u306fvideo\u8981\u7d20\u3092\u305d\u306e\u307e\u307e\u30c6\u30af\u30b9\u30c1\u30e3\u3068\u3057\u3066\u4f7f\u3046\u65b9\u6cd5\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n[\u30b5\u30f3\u30d7\u30eb](http://threejs.org/examples/#webgl_materials_video)\u3082\u3042\u308a\u307e\u3057\u305f\u3002\n\n\u3056\u3063\u304f\u308a\u3068\u305d\u306e\u8a18\u8ff0\u3060\u3051\u629c\u304d\u51fa\u3059\u3068\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u975e\u5e38\u306b\u624b\u8efd\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\n```js:videoTexture\nvideo = document.getElementById( 'video' );\n\ntexture = new THREE.VideoTexture( video );\ntexture.minFilter = THREE.LinearFilter;\ntexture.magFilter = THREE.LinearFilter;\ntexture.format = THREE.RGBFormat;\n```\n\n\u4e0b\u306e\u8a18\u4e8b\u306f\u305d\u306e\u524d\u306b\u66f8\u3044\u305f\u3082\u306e\u3067\u3001\u6bd4\u8f03\u7684\u4f4e\u30ec\u30a4\u30e4\u30fc\u3067\u306e\u3084\u308a\u65b9\u3067\u3059\u3002\n\n-------------------------------------------\n\nThree.js\u306e\u30b5\u30f3\u30d7\u30eb\u306b\u3042\u3063\u305f\u3082\u306e\u3092\u629c\u7c8b\u3002\n\u57fa\u672c\u7684\u306a\u30d5\u30ed\u30fc\u306f\n\n1. video\u8981\u7d20\u3092\u751f\u6210\uff08\u3042\u308b\u3044\u306f\u53d6\u5f97\uff09\n2. video\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308bcanvas\u8981\u7d20\u3092\u751f\u6210\uff08\u3042\u308b\u3044\u306f\u53d6\u5f97\uff09\n3. canvas\u8981\u7d20\u3092texture\u306b\u6307\u5b9a\n4. \u751f\u6210\u3057\u305ftexture\u3092\u5143\u306b\u30de\u30c6\u30ea\u30a2\u30eb\u3092\u751f\u6210\n5. loop update\u306e\u4e2d\u3067canvas\u3092\u66f4\u65b0\u3057\u3001\u3055\u3089\u306btexture\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e`needsUpdate`\u3092true\u306b\u6307\u5b9a\n\n\u3068\u3044\u3046\u624b\u9806\u3067\u3001\u3042\u3068\u306f\u52dd\u624b\u306bThree.js\u304c\u66f4\u65b0\u3057\u3066\u304f\u308c\u308b\u3002\n\n\n```videotexture.js\n//video\u8981\u7d20\u3068\u305d\u308c\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308bcanvas\u8981\u7d20\u3092\u751f\u6210\nvar video = document.createElement('video');\nvideo.src = \"some.mp4\";\nvideo.load();\nvideo.play();\n\nvar videoImage = document.createElement('canvas');\nvideoImage.width = 480;\nvideoImage.height = 200;\n\nvar videoImageContext = videoImage.getContext('2d');\nvideoImageContext.fillStyle = '#000000';\nvideoImageContext.fillRect(0, 0, videoImage.width, videoImage.height);\n\n//\u751f\u6210\u3057\u305fcanvas\u3092texture\u3068\u3057\u3066THREE.Texture\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\nvar videoTexture = new THREE.Texture(videoImage);\nvideoTexture.minFilter = THREE.LinearFilter;\nvideoTexture.magFilter = THREE.LinearFilter;\n\n//\u751f\u6210\u3057\u305fvideo texture\u3092map\u306b\u6307\u5b9a\u3057\u3001overdraw\u3092ture\u306b\u3057\u3066\u30de\u30c6\u30ea\u30a2\u30eb\u3092\u751f\u6210\nvar movieMaterial = new THREE.MeshBasicMaterial({map: videoTexture, overdraw: true, side:THREE.DoubleSide});\nvar movieGeometry = new THREE.PlaneGeometry(10, 10, 4, 4);\nvar movieScreen = new THREE.Mesh(movieGeometry, movieMaterial);\nmovieScreen.rotation.y = THREE.Math.degToRad(90);\n\nscene.add(movieScreen);\n\n//loop update\u306e\u4e2d\u3067\u5b9f\u884c\nif (video.readyState === video.HAVE_ENOUGH_DATA) {\n    videoImageContext.drawImage(video, 0, 0);\n    if (videoTexture) {\n        videoTexture.needsUpdate = true;\n    }\n}\n```\n", "tags": ["three.js", "WebGL", "3D"]}