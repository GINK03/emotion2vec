{"tags": ["Python3.4.0", "PySide1.2.2", "\u30b7\u30c0"], "context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\u63cf\u753b\u90e8\u5206\u306f@noc06140728\u3055\u3093\u306e\u3092\u30b3\u30fc\u30c9\u4f7f\u3063\u3066\u307e\u3059\u3002\nhttp://qiita.com/noc06140728/items/8b8f06cfc312b8492df4\n\u63cf\u753b\u884c\u7a0b\u3092\u898b\u305f\u304b\u3063\u305f\u306e\u3067\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\nPySide\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4f5c\u308b\u53c2\u8003\u306b\u3067\u3082\u3069\u3046\u305e\u3002\n\u203bPySide\u304c\u66f4\u65b0\u505c\u6b62\u3057\u3066\u3057\u307e\u3063\u305f\u306e\u3067PyQt\u306b\u5207\u308a\u66ff\u3048\u305f\u65b9\u304c\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n\n\u30b3\u30fc\u30c9\n\nGUI\u7248\n\u203bmousePressEvent\u3067\u63cf\u753b\u958b\u59cb\u306b\u3057\u3066\u3044\u307e\u3059\n\u203b\u63cf\u753b\u4e2d\u306b\u518d\u5ea6\u63cf\u753b\u958b\u59cb\u3057\u305f\u5834\u5408\u306f\u60f3\u5b9a\u3057\u3066\u307e\u305b\u3093\n\nfern_gui.py\nimport sys\nimport random\nfrom PySide.QtGui import QApplication\nfrom PySide.QtGui import QMainWindow\nfrom PySide.QtGui import QLabel\nfrom PySide.QtGui import QPixmap\nfrom PySide.QtGui import QPainter\nfrom PySide.QtGui import QColor\n\n# Quot Begin\n# From http://qiita.com/noc06140728/items/8b8f06cfc312b8492df4\nN = 20\nxm = 0\nym = 0.5\nh = 0.6\n\nwidth = 500\nheight = 500\n\nW1x = lambda x, y: 0.836 * x + 0.044 * y\nW1y = lambda x, y: -0.044 * x + 0.836 * y + 0.169\nW2x = lambda x, y: -0.141 * x + 0.302 * y\nW2y = lambda x, y: 0.302 * x + 0.141 * y + 0.127\nW3x = lambda x, y: 0.141 * x - 0.302 * y\nW3y = lambda x, y: 0.302 * x + 0.141 * y + 0.169\nW4x = lambda x, y: 0\nW4y = lambda x, y: 0.175337 * y\n\ndef f(k, x, y):\n    if 0 < k:\n        for p in f(k - 1, W1x(x, y), W1y(x, y)):\n            yield p\n        if random.random() < 0.3:\n            for p in f(k - 1, W2x(x, y), W2y(x, y)):\n                yield p\n        if random.random() < 0.3:\n            for p in f(k - 1, W3x(x, y), W3y(x, y)):\n                yield p\n        if random.random() < 0.3:\n            for p in f(k - 1, W4x(x, y), W4y(x, y)):\n                yield p\n    else:\n        s = 490\n        yield x * s + width * 0.5, height - y * s\n# Quot End\n\n\nclass MainWindow(QMainWindow):\n    def __init__(self, parent = None):\n        super().__init__(parent)\n        self.setFixedSize(width, height)\n        self.refresh_rate = 200\n        self.pixmap = QPixmap(width, height)\n        self.pixmap.fill()\n\n    def paintEvent(self, event):\n        painter = QPainter(self)\n        painter.drawPixmap(0, 0, self.pixmap)\n\n    def mousePressEvent(self, event):\n        painter = QPainter(self.pixmap)\n        painter.setPen(QColor(0, 128, 0))\n        for i, p in enumerate(f(N, 0, 0)):\n            painter.drawPoint(p[0], p[1])\n            if i % self.refresh_rate == 0:\n                self.repaint()\n        self.repaint()\n        painter.end()\n        print(\"finished\")\n\ndef main():\n    app = QApplication(sys.argv)\n\n    window = MainWindow()\n    app.setActiveWindow(window)\n    window.show()\n\n    sys.exit(app.exec_())\n\n\nif __name__ == '__main__':\n    main()\n\n\n\nCUI\u7248\uff08PNG\u9023\u756a\u51fa\u529b\uff09\n\nfern_cui.py\nimport sys\nimport random\nfrom PySide.QtCore import QDir\nfrom PySide.QtGui import QDesktopServices\nfrom PySide.QtGui import QApplication\nfrom PySide.QtGui import QPixmap\nfrom PySide.QtGui import QPainter\nfrom PySide.QtGui import QColor\n\n# Quot Begin\n# From http://qiita.com/noc06140728/items/8b8f06cfc312b8492df4\nN = 20\nxm = 0\nym = 0.5\nh = 0.6\n\nwidth = 500\nheight = 500\n\nW1x = lambda x, y: 0.836 * x + 0.044 * y\nW1y = lambda x, y: -0.044 * x + 0.836 * y + 0.169\nW2x = lambda x, y: -0.141 * x + 0.302 * y\nW2y = lambda x, y: 0.302 * x + 0.141 * y + 0.127\nW3x = lambda x, y: 0.141 * x - 0.302 * y\nW3y = lambda x, y: 0.302 * x + 0.141 * y + 0.169\nW4x = lambda x, y: 0\nW4y = lambda x, y: 0.175337 * y\n\ndef f(k, x, y):\n    if 0 < k:\n        for p in f(k - 1, W1x(x, y), W1y(x, y)):\n            yield p\n        if random.random() < 0.3:\n            for p in f(k - 1, W2x(x, y), W2y(x, y)):\n                yield p\n        if random.random() < 0.3:\n            for p in f(k - 1, W3x(x, y), W3y(x, y)):\n                yield p\n        if random.random() < 0.3:\n            for p in f(k - 1, W4x(x, y), W4y(x, y)):\n                yield p\n    else:\n        s = 490\n        yield x * s + width * 0.5, height - y * s\n# Quot End\n\ndef main():\n    app = QApplication(sys.argv)\n\n    # Output Directory\n    # <Desktop>/ferns/\n    directory = QDir(QDesktopServices.storageLocation(QDesktopServices.DesktopLocation))\n    directory.mkdir(\"ferns\")\n    if directory.cd(\"ferns\") == False:\n        print(\"directory error\")\n        app.quit()\n        return\n\n    # Output\n    # <Desktop>/ferns/fern_*****.png\n    output_rate = 2000\n    pixmap = QPixmap(width, height)\n    pixmap.fill()\n    painter = QPainter(pixmap)\n    painter.setPen(QColor(0, 128, 0))\n    for i, p in enumerate(f(N, 0, 0)):\n        painter.drawPoint(p[0], p[1])\n        if i % output_rate == 0:\n            pixmap.save(\"%s/fern_%05d.png\" % (directory.path(), i / output_rate))\n    pixmap.save(\"%s/fern_%05d.png\" % (directory.path(), i / output_rate + 1))\n    painter.end()\n\n    print(\"finished\")\n    app.quit()\n\n\nif __name__ == '__main__':\n    main()\n\n\n\n\u51fa\u529b\u30b5\u30f3\u30d7\u30eb\uff08GIF\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\uff09\n\n# \u6982\u8981\n**\u63cf\u753b\u90e8\u5206\u306f@noc06140728\u3055\u3093\u306e\u3092\u30b3\u30fc\u30c9\u4f7f\u3063\u3066\u307e\u3059\u3002**\n**http://qiita.com/noc06140728/items/8b8f06cfc312b8492df4**\n\n\u63cf\u753b\u884c\u7a0b\u3092\u898b\u305f\u304b\u3063\u305f\u306e\u3067\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\nPySide\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4f5c\u308b\u53c2\u8003\u306b\u3067\u3082\u3069\u3046\u305e\u3002\n\u203bPySide\u304c\u66f4\u65b0\u505c\u6b62\u3057\u3066\u3057\u307e\u3063\u305f\u306e\u3067PyQt\u306b\u5207\u308a\u66ff\u3048\u305f\u65b9\u304c\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n\n# \u30b3\u30fc\u30c9\n## GUI\u7248\n**\u203bmousePressEvent\u3067\u63cf\u753b\u958b\u59cb\u306b\u3057\u3066\u3044\u307e\u3059**\n**\u203b\u63cf\u753b\u4e2d\u306b\u518d\u5ea6\u63cf\u753b\u958b\u59cb\u3057\u305f\u5834\u5408\u306f\u60f3\u5b9a\u3057\u3066\u307e\u305b\u3093**\n\n```py3:fern_gui.py\nimport sys\nimport random\nfrom PySide.QtGui import QApplication\nfrom PySide.QtGui import QMainWindow\nfrom PySide.QtGui import QLabel\nfrom PySide.QtGui import QPixmap\nfrom PySide.QtGui import QPainter\nfrom PySide.QtGui import QColor\n\n# Quot Begin\n# From http://qiita.com/noc06140728/items/8b8f06cfc312b8492df4\nN = 20\nxm = 0\nym = 0.5\nh = 0.6\n\nwidth = 500\nheight = 500\n\nW1x = lambda x, y: 0.836 * x + 0.044 * y\nW1y = lambda x, y: -0.044 * x + 0.836 * y + 0.169\nW2x = lambda x, y: -0.141 * x + 0.302 * y\nW2y = lambda x, y: 0.302 * x + 0.141 * y + 0.127\nW3x = lambda x, y: 0.141 * x - 0.302 * y\nW3y = lambda x, y: 0.302 * x + 0.141 * y + 0.169\nW4x = lambda x, y: 0\nW4y = lambda x, y: 0.175337 * y\n\ndef f(k, x, y):\n    if 0 < k:\n        for p in f(k - 1, W1x(x, y), W1y(x, y)):\n            yield p\n        if random.random() < 0.3:\n            for p in f(k - 1, W2x(x, y), W2y(x, y)):\n                yield p\n        if random.random() < 0.3:\n            for p in f(k - 1, W3x(x, y), W3y(x, y)):\n                yield p\n        if random.random() < 0.3:\n            for p in f(k - 1, W4x(x, y), W4y(x, y)):\n                yield p\n    else:\n        s = 490\n        yield x * s + width * 0.5, height - y * s\n# Quot End\n\n\nclass MainWindow(QMainWindow):\n    def __init__(self, parent = None):\n        super().__init__(parent)\n        self.setFixedSize(width, height)\n        self.refresh_rate = 200\n        self.pixmap = QPixmap(width, height)\n        self.pixmap.fill()\n\n    def paintEvent(self, event):\n        painter = QPainter(self)\n        painter.drawPixmap(0, 0, self.pixmap)\n\n    def mousePressEvent(self, event):\n        painter = QPainter(self.pixmap)\n        painter.setPen(QColor(0, 128, 0))\n        for i, p in enumerate(f(N, 0, 0)):\n            painter.drawPoint(p[0], p[1])\n            if i % self.refresh_rate == 0:\n                self.repaint()\n        self.repaint()\n        painter.end()\n        print(\"finished\")\n\ndef main():\n    app = QApplication(sys.argv)\n\n    window = MainWindow()\n    app.setActiveWindow(window)\n    window.show()\n\n    sys.exit(app.exec_())\n\n\nif __name__ == '__main__':\n    main()\n```\n\n## CUI\u7248\uff08PNG\u9023\u756a\u51fa\u529b\uff09\n```py3:fern_cui.py\nimport sys\nimport random\nfrom PySide.QtCore import QDir\nfrom PySide.QtGui import QDesktopServices\nfrom PySide.QtGui import QApplication\nfrom PySide.QtGui import QPixmap\nfrom PySide.QtGui import QPainter\nfrom PySide.QtGui import QColor\n\n# Quot Begin\n# From http://qiita.com/noc06140728/items/8b8f06cfc312b8492df4\nN = 20\nxm = 0\nym = 0.5\nh = 0.6\n\nwidth = 500\nheight = 500\n\nW1x = lambda x, y: 0.836 * x + 0.044 * y\nW1y = lambda x, y: -0.044 * x + 0.836 * y + 0.169\nW2x = lambda x, y: -0.141 * x + 0.302 * y\nW2y = lambda x, y: 0.302 * x + 0.141 * y + 0.127\nW3x = lambda x, y: 0.141 * x - 0.302 * y\nW3y = lambda x, y: 0.302 * x + 0.141 * y + 0.169\nW4x = lambda x, y: 0\nW4y = lambda x, y: 0.175337 * y\n\ndef f(k, x, y):\n    if 0 < k:\n        for p in f(k - 1, W1x(x, y), W1y(x, y)):\n            yield p\n        if random.random() < 0.3:\n            for p in f(k - 1, W2x(x, y), W2y(x, y)):\n                yield p\n        if random.random() < 0.3:\n            for p in f(k - 1, W3x(x, y), W3y(x, y)):\n                yield p\n        if random.random() < 0.3:\n            for p in f(k - 1, W4x(x, y), W4y(x, y)):\n                yield p\n    else:\n        s = 490\n        yield x * s + width * 0.5, height - y * s\n# Quot End\n\ndef main():\n    app = QApplication(sys.argv)\n\n    # Output Directory\n    # <Desktop>/ferns/\n    directory = QDir(QDesktopServices.storageLocation(QDesktopServices.DesktopLocation))\n    directory.mkdir(\"ferns\")\n    if directory.cd(\"ferns\") == False:\n        print(\"directory error\")\n        app.quit()\n        return\n\n    # Output\n    # <Desktop>/ferns/fern_*****.png\n    output_rate = 2000\n    pixmap = QPixmap(width, height)\n    pixmap.fill()\n    painter = QPainter(pixmap)\n    painter.setPen(QColor(0, 128, 0))\n    for i, p in enumerate(f(N, 0, 0)):\n        painter.drawPoint(p[0], p[1])\n        if i % output_rate == 0:\n            pixmap.save(\"%s/fern_%05d.png\" % (directory.path(), i / output_rate))\n    pixmap.save(\"%s/fern_%05d.png\" % (directory.path(), i / output_rate + 1))\n    painter.end()\n\n    print(\"finished\")\n    app.quit()\n\n\nif __name__ == '__main__':\n    main()\n```\n# \u51fa\u529b\u30b5\u30f3\u30d7\u30eb\uff08GIF\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\uff09\n![animated.gif](https://qiita-image-store.s3.amazonaws.com/0/46495/685c8e75-0518-fdc0-1904-dcaafffdffee.gif)\n"}