{"context": "\n\n\u6982\u8981\n\nUITextView\u306b\u30bf\u30c3\u30d7\u53ef\u80fd\u306a\u30ea\u30f3\u30af\u3092\u633f\u5165\u3057\u305f\u3044\n\u5b9f\u88c5\u65b9\u6cd5\u306fNSMutableAttributedString\u306eNSLinkAttribute\u3092\u5229\u7528\u3059\u308b\nTapGestureRecognizer\u3092\u5229\u7528\u3059\u308b\u5b9f\u88c5\u65b9\u6cd5\u3082\u3042\u308b\u304c\u3001\u7d50\u69cb\u624b\u9593\n\n\n\u5b8c\u6210\u30a4\u30e1\u30fc\u30b8\n\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\nViewController.swift\nimport UIKit\n\nclass ViewController: UIViewController, UITextViewDelegate {\n\n    @IBOutlet weak var textView: UITextView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        let baseString = \"\u3053\u308c\u306f\u8a2d\u5b9a\u30a2\u30d7\u30ea\u3078\u306e\u30ea\u30f3\u30af\u3092\u542b\u3080\u6587\u7ae0\u3067\u3059\u3002\\n\\n\u3053\u3061\u3089\u306e\u30ea\u30f3\u30af\u306fGoogle\u691c\u7d22\u3067\u3059\"\n\n        let attributedString = NSMutableAttributedString(string: baseString)\n\n        attributedString.addAttribute(NSLinkAttributeName,\n                                      value: UIApplicationOpenSettingsURLString,\n                                      range: NSString(string: baseString).range(of: \"\u8a2d\u5b9a\u30a2\u30d7\u30ea\u3078\u306e\u30ea\u30f3\u30af\"))\n\n        attributedString.addAttribute(NSLinkAttributeName,\n                                      value: \"https://www.google.co.jp/\",\n                                      range: NSString(string: baseString).range(of: \"\u3053\u3061\u3089\"))\n\n        textView.attributedText = attributedString\n        textView.isSelectable = true\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n    }\n\n    // MARK: - Text View Delegate\n\n    func textView(_ textView: UITextView,\n                  shouldInteractWith URL: URL,\n                  in characterRange: NSRange,\n                  interaction: UITextItemInteraction) -> Bool {\n\n        UIApplication.shared.open(URL)\n\n        return false\n    }\n}\n\n\n\n\u30dd\u30a4\u30f3\u30c8\n\n\naddAttribute\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570range\u306fNSRange\u578b\nString\u306erange(of:String)\u30e1\u30bd\u30c3\u30c9\u3067\u306a\u304f\u3001NSSting\u306erange(of:String)\u30e1\u30bd\u30c3\u30c9\u3092\u5229\u7528\nString\u306e\u5834\u5408\u3001\u623b\u308a\u5024\u306fRange<String.Index>\u578b\u3001NSString\u306e\u5834\u5408\u3001\u623b\u308a\u5024\u306fNSRange\u578b\u306e\u305f\u3081\n\n\n\u4e00\u90e8\u629c\u7c8b\nattributedString.addAttribute(NSLinkAttributeName,\n                                      value: \"https://www.google.co.jp/\",\n                                      range: NSString(string: baseString).range(of: \"\u3053\u3061\u3089\"))\n\n\n\nGithub\nGithub\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002\nhttps://github.com/shtnkgm/LinkTextViewSample\n\n\u53c2\u8003\n\nHACKING WITH SWIFT / How to make tappable links in NSAttributedString\n\n# \u6982\u8981\n - UITextView\u306b\u30bf\u30c3\u30d7\u53ef\u80fd\u306a\u30ea\u30f3\u30af\u3092\u633f\u5165\u3057\u305f\u3044\n - \u5b9f\u88c5\u65b9\u6cd5\u306fNSMutableAttributedString\u306eNSLinkAttribute\u3092\u5229\u7528\u3059\u308b\n - TapGestureRecognizer\u3092\u5229\u7528\u3059\u308b\u5b9f\u88c5\u65b9\u6cd5\u3082\u3042\u308b\u304c\u3001\u7d50\u69cb\u624b\u9593\n\n# \u5b8c\u6210\u30a4\u30e1\u30fc\u30b8\n<img width=\"320\" alt=\"screenshot_01.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/113553/5a8c91a3-49d1-88d0-7b27-ff881fe866f2.png\">\n\n# \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\n```swift:ViewController.swift\nimport UIKit\n\nclass ViewController: UIViewController, UITextViewDelegate {\n\n    @IBOutlet weak var textView: UITextView!\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        let baseString = \"\u3053\u308c\u306f\u8a2d\u5b9a\u30a2\u30d7\u30ea\u3078\u306e\u30ea\u30f3\u30af\u3092\u542b\u3080\u6587\u7ae0\u3067\u3059\u3002\\n\\n\u3053\u3061\u3089\u306e\u30ea\u30f3\u30af\u306fGoogle\u691c\u7d22\u3067\u3059\"\n        \n        let attributedString = NSMutableAttributedString(string: baseString)\n        \n        attributedString.addAttribute(NSLinkAttributeName,\n                                      value: UIApplicationOpenSettingsURLString,\n                                      range: NSString(string: baseString).range(of: \"\u8a2d\u5b9a\u30a2\u30d7\u30ea\u3078\u306e\u30ea\u30f3\u30af\"))\n        \n        attributedString.addAttribute(NSLinkAttributeName,\n                                      value: \"https://www.google.co.jp/\",\n                                      range: NSString(string: baseString).range(of: \"\u3053\u3061\u3089\"))\n        \n        textView.attributedText = attributedString\n        textView.isSelectable = true\n    }\n  \n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n    }\n    \n    // MARK: - Text View Delegate\n    \n    func textView(_ textView: UITextView,\n                  shouldInteractWith URL: URL,\n                  in characterRange: NSRange,\n                  interaction: UITextItemInteraction) -> Bool {\n        \n        UIApplication.shared.open(URL)\n        \n        return false\n    }\n}\n```\n\n# \u30dd\u30a4\u30f3\u30c8\n - `addAttribute`\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570range\u306f`NSRange`\u578b\n - String\u306e`range(of:String)`\u30e1\u30bd\u30c3\u30c9\u3067\u306a\u304f\u3001NSSting\u306erange(of:String)\u30e1\u30bd\u30c3\u30c9\u3092\u5229\u7528\n - String\u306e\u5834\u5408\u3001\u623b\u308a\u5024\u306f`Range<String.Index>`\u578b\u3001NSString\u306e\u5834\u5408\u3001\u623b\u308a\u5024\u306f`NSRange`\u578b\u306e\u305f\u3081\n\n```swift:\u4e00\u90e8\u629c\u7c8b\nattributedString.addAttribute(NSLinkAttributeName,\n                                      value: \"https://www.google.co.jp/\",\n                                      range: NSString(string: baseString).range(of: \"\u3053\u3061\u3089\"))\n```\n\n# Github\nGithub\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002\nhttps://github.com/shtnkgm/LinkTextViewSample\n\n# \u53c2\u8003\n - [HACKING WITH SWIFT / How to make tappable links in NSAttributedString](https://www.hackingwithswift.com/example-code/system/how-to-make-tappable-links-in-nsattributedstring)\n", "tags": ["Swift", "Swift3.0", "iOS", "Xcode"]}