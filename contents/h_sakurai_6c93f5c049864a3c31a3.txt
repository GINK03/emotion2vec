{"context": "\\begin{array}{l|l}\n\\begin{array}{llr}\n\u69cb\u6587\\\\\nt ::= &             & \u9805\uff1a\\\\\n      & x           & \u5909\u6570\\\\\n      & \u03bbx:T.t      & \u30e9\u30e0\u30c0\u62bd\u8c61\\\\\n      & t\\;t        & \u95a2\u6570\u9069\u7528\\\\\nv ::= &             & \u5024\uff1a\\\\\n      & \u03bbx:T.t      & \u30e9\u30e0\u30c0\u62bd\u8c61\u5024\\\\\nT ::= &             & \u578b\uff1a\\\\\n      & T\\text{->}T & \u95a2\u6570\u306e\u578b\\\\\n\u0393 ::= &             & \u6587\u8108\uff1a\\\\\n      & \u2205           & \u7a7a\u306e\u6587\u8108\\\\\n      & \u0393,x:T       & \u9805\u5909\u6570\u306e\u675f\u7e1b\\\\\n\\\\\n\\end{array}&\n\\begin{array}{l}\n\\begin{array}{cr}\n\u8a55\u4fa1 \\hspace{240px} & \\bbox[3px,border:1px solid black]{t  \\longrightarrow t'}\\\\\n\\dfrac{t_1 \\longrightarrow t_1'}\n{t_1\\;t_2 \\longrightarrow t_1'\\; t_2} & \\text{(E-App1)} \\\\\n\n\\dfrac{t_2 \\longrightarrow t_2'}\n{v_1\\;t_2 \\longrightarrow v_1\\;t_2'} & \\text{(E-App2)} \\\\\n\n(\u03bbx:T_{11}.t_{12}) v_2 \\longrightarrow [x\\mapsto v_2]t_{12} & \\text{(E-AppAbs)} \\\\\n\\\\\n\u578b\u4ed8\u3051\\hspace{228px} & \\bbox[3px,border:1px solid black]{\u0393 \u22a2 t : T}\\\\\n\\dfrac{x : T \u2208 \u0393}\n{\u0393 \u22a2 x : T} & \\text{(T-Var)}\\\\\n\n\\dfrac{\u0393,x:T_1 \u22a2 t_2 : T_2}\n{\u0393 \u22a2 \u03bbx:T_1.t_2 : T_1 \\text{->} T_2} & \\text{(T-Abs)}\\\\\n\n\\dfrac{\u0393 \u22a2 t_1 : T_{11} \\text{->} T_{12} \\quad \u0393 \u22a2 t_2 : T_{11}}\n{\u0393 \u22a2 t_1\\;t_2 : T_{12}} & \\text{(T-App)}\\\\\n\n\\end{array}\n\n\\end{array}\n\\end{array}\n{\\begin{array}{l|l}\n\\begin{array}{llr}\n\u69cb\u6587\\\\\nt ::= &             & \u9805\uff1a\\\\\n      & x           & \u5909\u6570\\\\\n      & \u03bbx:T.t      & \u30e9\u30e0\u30c0\u62bd\u8c61\\\\\n      & t\\;t        & \u95a2\u6570\u9069\u7528\\\\\nv ::= &             & \u5024\uff1a\\\\\n      & \u03bbx:T.t      & \u30e9\u30e0\u30c0\u62bd\u8c61\u5024\\\\\nT ::= &             & \u578b\uff1a\\\\\n      & T\\text{->}T & \u95a2\u6570\u306e\u578b\\\\\n\u0393 ::= &             & \u6587\u8108\uff1a\\\\\n      & \u2205           & \u7a7a\u306e\u6587\u8108\\\\\n      & \u0393,x:T       & \u9805\u5909\u6570\u306e\u675f\u7e1b\\\\\n\\\\\n\\end{array}&\n\\begin{array}{l}\n\\begin{array}{cr}\n\u8a55\u4fa1 \\hspace{240px} & \\bbox[3px,border:1px solid black]{t  \\longrightarrow t'}\\\\\n\\dfrac{t_1 \\longrightarrow t_1'}\n{t_1\\;t_2 \\longrightarrow t_1'\\; t_2} & \\text{(E-App1)} \\\\\n\n\\dfrac{t_2 \\longrightarrow t_2'}\n{v_1\\;t_2 \\longrightarrow v_1\\;t_2'} & \\text{(E-App2)} \\\\\n\n(\u03bbx:T_{11}.t_{12}) v_2 \\longrightarrow [x\\mapsto v_2]t_{12} & \\text{(E-AppAbs)} \\\\\n\\\\\n\u578b\u4ed8\u3051\\hspace{228px} & \\bbox[3px,border:1px solid black]{\u0393 \u22a2 t : T}\\\\\n\\dfrac{x : T \u2208 \u0393}\n{\u0393 \u22a2 x : T} & \\text{(T-Var)}\\\\\n\n\\dfrac{\u0393,x:T_1 \u22a2 t_2 : T_2}\n{\u0393 \u22a2 \u03bbx:T_1.t_2 : T_1 \\text{->} T_2} & \\text{(T-Abs)}\\\\\n\n\\dfrac{\u0393 \u22a2 t_1 : T_{11} \\text{->} T_{12} \\quad \u0393 \u22a2 t_2 : T_{11}}\n{\u0393 \u22a2 t_1\\;t_2 : T_{12}} & \\text{(T-App)}\\\\\n\n\\end{array}\n\n\\end{array}\n\\end{array}\n}{\\begin{array}{l|l}\n\\begin{array}{llr}\n\u69cb\u6587\\\\\nt ::= &             & \u9805\uff1a\\\\\n      & x           & \u5909\u6570\\\\\n      & \u03bbx:T.t      & \u30e9\u30e0\u30c0\u62bd\u8c61\\\\\n      & t\\;t        & \u95a2\u6570\u9069\u7528\\\\\nv ::= &             & \u5024\uff1a\\\\\n      & \u03bbx:T.t      & \u30e9\u30e0\u30c0\u62bd\u8c61\u5024\\\\\nT ::= &             & \u578b\uff1a\\\\\n      & T\\text{->}T & \u95a2\u6570\u306e\u578b\\\\\n\u0393 ::= &             & \u6587\u8108\uff1a\\\\\n      & \u2205           & \u7a7a\u306e\u6587\u8108\\\\\n      & \u0393,x:T       & \u9805\u5909\u6570\u306e\u675f\u7e1b\\\\\n\\\\\n\\end{array}&\n\\begin{array}{l}\n\\begin{array}{cr}\n\u8a55\u4fa1 \\hspace{240px} & \\bbox[3px,border:1px solid black]{t  \\longrightarrow t'}\\\\\n\\dfrac{t_1 \\longrightarrow t_1'}\n{t_1\\;t_2 \\longrightarrow t_1'\\; t_2} & \\text{(E-App1)} \\\\\n\n\\dfrac{t_2 \\longrightarrow t_2'}\n{v_1\\;t_2 \\longrightarrow v_1\\;t_2'} & \\text{(E-App2)} \\\\\n\n(\u03bbx:T_{11}.t_{12}) v_2 \\longrightarrow [x\\mapsto v_2]t_{12} & \\text{(E-AppAbs)} \\\\\n\\\\\n\u578b\u4ed8\u3051\\hspace{228px} & \\bbox[3px,border:1px solid black]{\u0393 \u22a2 t : T}\\\\\n\\dfrac{x : T \u2208 \u0393}\n{\u0393 \u22a2 x : T} & \\text{(T-Var)}\\\\\n\n\\dfrac{\u0393,x:T_1 \u22a2 t_2 : T_2}\n{\u0393 \u22a2 \u03bbx:T_1.t_2 : T_1 \\text{->} T_2} & \\text{(T-Abs)}\\\\\n\n\\dfrac{\u0393 \u22a2 t_1 : T_{11} \\text{->} T_{12} \\quad \u0393 \u22a2 t_2 : T_{11}}\n{\u0393 \u22a2 t_1\\;t_2 : T_{12}} & \\text{(T-App)}\\\\\n\n\\end{array}\n\n\\end{array}\n\\end{array}\n}\n\ntapl09_1.pl\n/*\n\u69cb\u6587\n\nt ::=       \u9805\uff1a\n  x         \u5909\u6570\n  (x:T)->t  \u30e9\u30e0\u30c0\u62bd\u8c61\n  t $ t     \u95a2\u6570\u9069\u7528\nv ::=       \u5024\uff1a\n  (x:T)->t  \u30e9\u30e0\u30c0\u62bd\u8c61\u5024\nT ::=       \u578b\uff1a\n  T->T      \u95a2\u6570\u306e\u578b\n\u0393 ::=       \u6587\u8108\uff1a\n  []        \u7a7a\u306e\u6587\u8108\n  [x:T|\u0393]   \u9805\u5909\u6570\u306e\u675f\u7e1b\n*/\n:- op(500, yfx, $).\n:- op(900, xfx, [ : ]).\n:- op(910, xfx, [ \u22a2 ]).\n:- op(920, xfx, [ ==>, ==>> ]).\n:- op(1200, xfx, [ -- ]).\n:- style_check(-singleton).\nterm_expansion(A -- B, B :- A).\n\nv((_:_)->_).\n\n% \u8a55\u4fa1 t ==> t'\n\\+v(T1), T1 ==> T1_\n--%-------------------------- (E-App1)\nT1 $ T2 ==> T1_ $ T2.\n\nT2 ==> T2_\n--%-------------------------- (E-App2)\nV1 $ T2 ==> V1 $ T2_.\n\ncopy_term(X->T12, V2->T12_)\n--%-------------------------- (E-AppAbs)\n((X:T11)->T12) $ V2 ==> T12_.\n\n% \u578b\u4ed8\u3051 \u0393 \u22a2 t : T\nmember(X : Ty, \u0393)\n--%------------------------------- (T-Var)\n\u0393 \u22a2 X : Ty.\n\n[X:Ty1|\u0393] \u22a2 T2 : Ty2\n--%------------------------------- (T-Abs)\n\u0393 \u22a2 ((X:Ty1)->T2) : (Ty1 -> Ty2).\n\n\u0393 \u22a2 T1 : (Ty11 -> Ty12), \u0393 \u22a2 T2 : Ty11\n--%---------------------------------- (T-App)\n\u0393 \u22a2 T1 $ T2 : Ty12.\n\nT ==>> T3 :- T ==> T2, T2 ==>> T3.\nT ==>> T.\n\nrun(T:ExpectedTy==>>ExprectedResult) :-\n  [] \u22a2 T : Ty,\n  T ==>> T2,\n  writeln(T:Ty==>>T2),\n  Ty=ExpectedTy,\n  T2=ExpectedResult.\n\n:- run(((X:T)->X) : (T->T)==>>((X:T)->X)).\n:- run(((X:(T->T))->X) $ ((Y:T)->Y) : (T->T) ==>> ((Y:T)->Y)).\n:- halt.\n\n\n```math\n\\begin{array}{l|l}\n\\begin{array}{llr}\n\u69cb\u6587\\\\\nt ::= &             & \u9805\uff1a\\\\\n      & x           & \u5909\u6570\\\\\n      & \u03bbx:T.t      & \u30e9\u30e0\u30c0\u62bd\u8c61\\\\\n      & t\\;t        & \u95a2\u6570\u9069\u7528\\\\\nv ::= &             & \u5024\uff1a\\\\\n      & \u03bbx:T.t      & \u30e9\u30e0\u30c0\u62bd\u8c61\u5024\\\\\nT ::= &             & \u578b\uff1a\\\\\n      & T\\text{->}T & \u95a2\u6570\u306e\u578b\\\\\n\u0393 ::= &             & \u6587\u8108\uff1a\\\\\n      & \u2205           & \u7a7a\u306e\u6587\u8108\\\\\n      & \u0393,x:T       & \u9805\u5909\u6570\u306e\u675f\u7e1b\\\\\n\\\\\n\\end{array}&\n\\begin{array}{l}\n\\begin{array}{cr}\n\u8a55\u4fa1 \\hspace{240px} & \\bbox[3px,border:1px solid black]{t  \\longrightarrow t'}\\\\\n\\dfrac{t_1 \\longrightarrow t_1'}\n{t_1\\;t_2 \\longrightarrow t_1'\\; t_2} & \\text{(E-App1)} \\\\\n\n\\dfrac{t_2 \\longrightarrow t_2'}\n{v_1\\;t_2 \\longrightarrow v_1\\;t_2'} & \\text{(E-App2)} \\\\\n\n(\u03bbx:T_{11}.t_{12}) v_2 \\longrightarrow [x\\mapsto v_2]t_{12} & \\text{(E-AppAbs)} \\\\\n\\\\\n\u578b\u4ed8\u3051\\hspace{228px} & \\bbox[3px,border:1px solid black]{\u0393 \u22a2 t : T}\\\\\n\\dfrac{x : T \u2208 \u0393}\n{\u0393 \u22a2 x : T} & \\text{(T-Var)}\\\\\n\n\\dfrac{\u0393,x:T_1 \u22a2 t_2 : T_2}\n{\u0393 \u22a2 \u03bbx:T_1.t_2 : T_1 \\text{->} T_2} & \\text{(T-Abs)}\\\\\n\n\\dfrac{\u0393 \u22a2 t_1 : T_{11} \\text{->} T_{12} \\quad \u0393 \u22a2 t_2 : T_{11}}\n{\u0393 \u22a2 t_1\\;t_2 : T_{12}} & \\text{(T-App)}\\\\\n\n\\end{array}\n\n\\end{array}\n\\end{array}\n```\n\n```prolog:tapl09_1.pl\n/*\n\u69cb\u6587\n\nt ::=       \u9805\uff1a\n  x         \u5909\u6570\n  (x:T)->t  \u30e9\u30e0\u30c0\u62bd\u8c61\n  t $ t     \u95a2\u6570\u9069\u7528\nv ::=       \u5024\uff1a\n  (x:T)->t  \u30e9\u30e0\u30c0\u62bd\u8c61\u5024\nT ::=       \u578b\uff1a\n  T->T      \u95a2\u6570\u306e\u578b\n\u0393 ::=       \u6587\u8108\uff1a\n  []        \u7a7a\u306e\u6587\u8108\n  [x:T|\u0393]   \u9805\u5909\u6570\u306e\u675f\u7e1b\n*/\n:- op(500, yfx, $).\n:- op(900, xfx, [ : ]).\n:- op(910, xfx, [ \u22a2 ]).\n:- op(920, xfx, [ ==>, ==>> ]).\n:- op(1200, xfx, [ -- ]).\n:- style_check(-singleton).\nterm_expansion(A -- B, B :- A).\n\nv((_:_)->_).\n\n% \u8a55\u4fa1 t ==> t'\n\\+v(T1), T1 ==> T1_\n--%-------------------------- (E-App1)\nT1 $ T2 ==> T1_ $ T2.\n\nT2 ==> T2_\n--%-------------------------- (E-App2)\nV1 $ T2 ==> V1 $ T2_.\n\ncopy_term(X->T12, V2->T12_)\n--%-------------------------- (E-AppAbs)\n((X:T11)->T12) $ V2 ==> T12_.\n\n% \u578b\u4ed8\u3051 \u0393 \u22a2 t : T\nmember(X : Ty, \u0393)\n--%------------------------------- (T-Var)\n\u0393 \u22a2 X : Ty.\n\n[X:Ty1|\u0393] \u22a2 T2 : Ty2\n--%------------------------------- (T-Abs)\n\u0393 \u22a2 ((X:Ty1)->T2) : (Ty1 -> Ty2).\n\n\u0393 \u22a2 T1 : (Ty11 -> Ty12), \u0393 \u22a2 T2 : Ty11\n--%---------------------------------- (T-App)\n\u0393 \u22a2 T1 $ T2 : Ty12.\n\nT ==>> T3 :- T ==> T2, T2 ==>> T3.\nT ==>> T.\n\nrun(T:ExpectedTy==>>ExprectedResult) :-\n  [] \u22a2 T : Ty,\n  T ==>> T2,\n  writeln(T:Ty==>>T2),\n  Ty=ExpectedTy,\n  T2=ExpectedResult.\n\n:- run(((X:T)->X) : (T->T)==>>((X:T)->X)).\n:- run(((X:(T->T))->X) $ ((Y:T)->Y) : (T->T) ==>> ((Y:T)->Y)).\n:- halt.\n```\n", "tags": ["TaPL", "Prolog"]}