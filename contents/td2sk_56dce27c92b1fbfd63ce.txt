{"context": "\n\n\u306f\u3058\u3081\u306b\n\u4e16\u306e\u4e2d\u306b\u306f\u3001\u4f53\u91cd\u8a18\u9332\u30c0\u30a4\u30a8\u30c3\u30c8\u306a\u308b\u3082\u306e\u304c\u3042\u308b\u3088\u3046\u3060\u3002\n\u3057\u304b\u3057\u3001\u6020\u6162\u306a\u30d7\u30ed\u30b0\u30e9\u30de\u5404\u4f4d\u306f\u4f53\u91cd\u306e\u8a18\u9332\u306a\u3069\u5f53\u7136\u81ea\u52d5\u5316\u3057\u305f\u304f\u306a\u308b\u3060\u308d\u3046\u3002\n\u65e2\u6210\u54c1\u3068\u3057\u3066\u3001 WiFi \u5bfe\u5fdc\u4f53\u91cd\u8a08\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u3001\u3053\u308c\u3092\u8cfc\u5165\u3059\u308c\u3070\u5168\u81ea\u52d5\u3067\u4f53\u91cd\u3092\u8a18\u9332\u3067\u304d\u308b\u3002\n\u3057\u304b\u3057\u3001\u5024\u6bb5\u3082\u9ad8\u304f(10,000\u5186 ~ 20,000\u5186\u307b\u3069)\u3001\u6a5f\u7a2e\u306b\u3088\u3063\u3066\u306f\u5c02\u7528\u306eWeb\u30b5\u30fc\u30d3\u30b9\u3078\u306e\u52a0\u5165\u304c\u5fc5\u9808\u3060\u3063\u305f\u308a\u3001\u305d\u306e\u30b5\u30fc\u30d3\u30b9\u306b\u6708\u984d\u6599\u91d1\u304c\u304b\u304b\u3063\u305f\u308a\u3001\u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u7528API\u304c\u306a\u304b\u3063\u305f\u308a\u3068\u8ab2\u984c\u3082\u591a\u3044\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u4eca\u56de\u306f\u5b89\u4fa1\u306a\u5168\u81ea\u52d5\u4f53\u91cd\u8a18\u9332\u88c5\u7f6e\u3092\u81ea\u4f5c\u3059\u308b\u3053\u3068\u306b\u3059\u308b\u3002\n\n\u4f53\u91cd\u8a08\n\u3068\u306f\u3044\u3046\u3082\u306e\u306e\u3001\u4eba\u9593\u306e\u91cd\u91cf\u306b\u8010\u3048\u3089\u308c\u308b\u3088\u3046\u306a\u6e2c\u5b9a\u5668\u3092\u81ea\u4f5c\u3059\u308b\u306e\u306f\u7c21\u5358\u3067\u306f\u306a\u3044\u30021\n\u4e00\u822c\u7684\u306a\u4f53\u91cd\u8a08\u3092\u6539\u9020\u3057\u3066\u4f7f\u3046\u306b\u3082\u3001\u4ee5\u4e0b\u306e\u8ab2\u984c\u304c\u3042\u308b\n\n\u5206\u89e3\u3057\u3066\u5185\u90e8\u914d\u7dda\u3092\u901a\u308b\u4fe1\u53f7\u3092\u76f4\u63a5\u76e3\u8996\u3059\u308b\u306e\u306f\u5927\u639b\u304b\u308a\n\u4e00\u5ea6\u5206\u89e3\u3057\u305f\u3042\u3068\u3001\u4f53\u91cd\u6e2c\u5b9a\u306e\u7cbe\u5ea6\u3092\u4fdd\u3063\u305f\u307e\u307e\u7d44\u307f\u76f4\u305b\u308b\u304b\u308f\u304b\u3089\u306a\u3044\n\n\u305d\u3053\u3067\u3001\u672c\u4f53\u7121\u6539\u9020\u3067\u5185\u90e8\u30c7\u30fc\u30bf\u3092\u53d6\u308c\u308b\u4f53\u91cd\u8a08\u3092\u63a2\u3059\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u4eca\u56de\u306f\u3001\u8981\u4ef6\u3092\u6e80\u305f\u3059\u4f53\u91cd\u8a08\u3068\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u6a5f\u7a2e\u3092\u4f7f\u3046\u3002\nAmacon.co.jp: Hashy SALUTE(\u30b5\u30eb\u30fc\u30c8) \u30ef\u30a4\u30e4\u30ec\u30b9\u4f53\u91cd\u8a08 (WH) BH-2581\n\u3053\u306e\u4f53\u91cd\u8a08\u306f\u3001\u672c\u4f53\u3068\u4f53\u91cd\u8868\u793a\u5668\u304c\u96e2\u308c\u3066\u304a\u308a\u3001\u305d\u306e\u9593\u306f\u8d64\u5916\u7dda\u3067\u30c7\u30fc\u30bf\u3092\u3084\u308a\u53d6\u308a\u3057\u3066\u3044\u308b\u3002\u305d\u306e\u305f\u3081\u3001\u8d64\u5916\u7dda\u4fe1\u53f7\u3055\u3048\u89e3\u6790\u3059\u308c\u3070\u3001\u672c\u4f53\u306b\u624b\u3092\u52a0\u3048\u308b\u3053\u3068\u306a\u304f\u4f53\u91cd\u5024\u3092\u8aad\u307f\u3060\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u307e\u305f\u3001\u5b9f\u58f22,000\u5186\u7a0b\u5ea6\u3068\u6bd4\u8f03\u7684\u5b89\u4fa1\u3060\u3002\n\u3053\u306e\u4f53\u91cd\u8a08\u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u3001\u8d64\u5916\u7dda\u4fe1\u53f7\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u89e3\u6790\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u305d\u306e\u305f\u3081\u3001\u672c\u8a18\u4e8b\u3067\u306f\u8d64\u5916\u7dda\u4fe1\u53f7\u306e\u89e3\u6790\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3082\u3001\u624b\u9806\u30d9\u30fc\u30b9\u3067\u7d39\u4ecb\u3059\u308b\u3002\n\n\u90e8\u54c1\u3068\u914d\u7dda\n\nSALUTE \u30ef\u30a4\u30e4\u30ec\u30b9\u4f53\u91cd\u8a08\nArduino Uno\n\u8d64\u5916\u7dda\u30bb\u30f3\u30b5\n\n\u4ee5\u964d\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u3001\u8d64\u5916\u7dda\u30bb\u30f3\u30b5\u306e\u4fe1\u53f7\u306f\u3001Arduino \u306e2\u756a\u30d4\u30f3\u306b\u63a5\u7d9a\u3057\u305f\u3082\u306e\u3068\u3059\u308b\u3002\n\n01. \u6ce2\u5f62\u8abf\u67fb\n\u4ee5\u4e0b\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u6ce2\u5f62\u306e\u96f0\u56f2\u6c17\u3092\u63b4\u3080\u3002\n\n01_signal.ino\n#define PIN 2\n#define LED 13\n\nvoid setup() {\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n\n  Serial.begin(115200);\n}\n\nvoid loop() {\n  int pin = digitalRead(PIN);\n  Serial.println(pin);\n}\n\n\n\u306f\u3058\u3081\u306b\u3001\u4f53\u91cd\u8a08\u306b\u4e57\u3089\u305a\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u3068\u30011\u3070\u304b\u308a\u51fa\u529b\u3055\u308c\u308b\u3002\n\n\u4f53\u91cd\u8a08\u306b\u4e57\u3089\u305a\u306b\u6e2c\u5b9a\u3057\u305f\u5834\u5408\n1\n1\n1\n1\n1\n1\n1\n\n\n\u6b21\u306b\u3001\u8d64\u5916\u7dda\u30bb\u30f3\u30b5\u306e\u906e\u853d\u3092\u5916\u3057\u3001\u4f53\u91cd\u8a08\u306b\u4e57\u3063\u3066\u307f\u308b\u3002\n\u5b9a\u671f\u7684\u306b\u4fe1\u53f7\u306b0\u304c\u6df7\u3058\u308a\u3001\u8d64\u5916\u7dda\u3092\u30ad\u30e3\u30c3\u30c1\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u305f\u3002\n\n\u4f53\u91cd\u8a08\u306b\u4e57\u3063\u3066\u6e2c\u5b9a\u3057\u305f\u5834\u5408\n1\n1\n1\n0\n0\n1\n1\n0\n0\n1\n1\n0\n0\n\n\n\u8d64\u5916\u7dda\u30bb\u30f3\u30b5\u306e\u30c7\u30fc\u30bf\u30b7\u30fc\u30c8\u3092\u78ba\u8a8d\u3059\u308b\u3068\u3001Active Low \u3068\u306e\u8a18\u8f09\u304c\u3042\u3063\u305f\u3002\u305d\u306e\u305f\u3081\u3001\u4fe1\u53f7\u304c\u51fa\u3066\u3044\u308b\u3068\u304d\u306f 0\u3001\u4fe1\u53f7\u304c\u306a\u3044\u3068\u304d\u306f 1 \u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\u4eca\u56de\u306f\u3001\u4fe1\u53f7\u306e\u3042\u308a\u306a\u3057\u3067\u306f\u306a\u304f\u3001 \u30bb\u30f3\u30b5\u304c\u8fd4\u3059 HIGH, LOW \u3092\u57fa\u6e96\u306b \u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u88c5\u3059\u308b\u3002\n\n02. \u6ce2\u5f62\u8abf\u67fb 2\n\u3055\u3066\u6b21\u306b\u3001\u6ce2\u5f62\u306e\u6301\u7d9a\u6642\u9593\u3092\u8abf\u3079\u3066\u307f\u308b\u3002\n\u7121\u4fe1\u53f7\u6642\u306f HIGH \u306a\u306e\u3067\u3001\u60c5\u5831\u306f LOW \u306b\u4e57\u3063\u3066\u3044\u308b\u3068\u4eee\u5b9a\u3057\u3066\u3001LOW \u306e\u6301\u7d9a\u6642\u9593\u3092\u6e2c\u3063\u3066\u307f\u3088\u3046\u3002\n\u4fe1\u53f7\u306e\u6301\u7d9a\u6642\u9593\u3092\u6e2c\u308b\u306b\u306f\u3001pulseIn \u95a2\u6570\u3092\u4f7f\u3046\u3002\n\n02_pulse_low.cpp\n#define PIN 2\n#define LED 13\n\n#define TIMEOUT_US 1000000\n\nvoid setup() {\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n\n  Serial.begin(115200);\n}\n\nvoid loop() {\n  unsigned long pulse_us = pulseIn(PIN, LOW, TIMEOUT_US);\n\n  /* \u3010\u6ce8\u610f\u3011\n     115200 bit/sec\n     => 14400 byte/sec\n     => 1/14400 sec/byte\n     => 1 * 10^6 / 14400 usec/byte\n     \u2252 70 usec/byte\n\n     \u3088\u308a\u30013\u6587\u5b57+1\u6539\u884c\u6587\u5b57\u306e\u9001\u4fe1\u3067 70 * (3+1) = 280us \u307b\u3069\u4f7f\u3063\u3066\u3044\u308b\u3002\n     \u8a08\u6e2c\u5bfe\u8c61\u306e\u4fe1\u53f7\u304c 280us \u4ee5\u4e0b\u306e\u6301\u7d9a\u6642\u9593\u3060\u3068\u3001\u4fe1\u53f7\u3092\u6b63\u3057\u304f\u8aad\u3081\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002\n     \u305d\u306e\u5834\u5408\u3001\u8907\u6570\u306e\u8a08\u6e2c\u30c7\u30fc\u30bf\u3092\u914d\u5217\u306a\u3069\u306b\u66f8\u304d\u8fbc\u307f\u3001\u6700\u5f8c\u306b\u307e\u3068\u3081\u3066\u8868\u793a\u3059\u3079\u304d\u3002\n\n     \u4eca\u56de\u306f\u4fe1\u53f7\u306e\u6301\u7d9a\u6642\u9593\u304c 500us \u3042\u308b\u3068\u3044\u3046\"\u7b54\u3048\"\u3092\u5229\u7528\u3057\u3066\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u7c21\u7565\u5316\u3057\u3066\u3044\u308b\u3002\n   */\n\n  Serial.println(pulse_us);\n}\n\n\n\n\u6301\u7d9a\u6642\u9593\u306e\u8a08\u6e2c(LOW)\n514\n514\n518\n510\n482\n513\n482\n\n\n\u51fa\u529b\u30c7\u30fc\u30bf\u3092\u898b\u308b\u3068\u3001LOW \u306e\u6301\u7d9a\u6642\u9593\u306f\u5e38\u306b 500us \u3067\u5b89\u5b9a\u3057\u3066\u3044\u308b\u3088\u3046\u3060\u3002\n\u3055\u3066\u3001LOW \u306f\u5e38\u306b\u540c\u3058\u9577\u3055\u3060\u3063\u305f\u306e\u3067\u6b21\u306f HIGH \u306e\u6301\u7d9a\u6642\u9593\u3092\u898b\u3088\u3046\u3002\n\n02_pulse_high.cpp\n#define PIN 2\n#define LED 13\n\n#define TIMEOUT_US 1000000\n\nvoid setup() {\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n\n  Serial.begin(115200);\n}\n\nvoid loop() {\n  unsigned long pulse_us = pulseIn(PIN, HIGH, TIMEOUT_US);\n  Serial.println(pulse_us);\n}\n\n\n\n\u6301\u7d9a\u6642\u9593\u306e\u8a08\u6e2c(HIGH)\n984\n547\n1012\n983\n1010\n510\n517\n1010\n1003\n507\n540\n520\n1011\n984\n521\n77653\n510\n985\n544\n\n\n\u3053\u308c\u3092\u898b\u308b\u3068\u3001\u51fa\u529b\u7d50\u679c\u306f\u304a\u3088\u305d3\u5206\u985e\u3067\u304d\u305d\u3046\u3060\u3002\n\n500us\n1000us\n70000us\n\n70000us (70ms) \u306f\u3001\u4ed62\u3064\u3068\u6bd4\u3079\u3066\u660e\u3089\u304b\u306b\u9577\u3044\u3002\n\u304a\u305d\u3089\u304f\u3053\u3053\u304c\u4fe1\u53f7\u306e\u533a\u5207\u308a\u3060\u308d\u3046\u3002\n\u307e\u305f\u3001500us \u3068 1000us \u304c 0 \u3068 1 \u306e\u30d3\u30c3\u30c8\u3092\u8868\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u601d\u3048\u308b\u3002\n\u307e\u3068\u3081\u308b\u3068\n\nLOW \u306e\u6301\u7d9a\u6642\u9593\u306f\u5e38\u306b 500us\nHIGH \u306e\u6301\u7d9a\u6642\u9593\u306f 500us \u3068 1000us\n\n\n\u304a\u305d\u3089\u304f\u305d\u308c\u305e\u308c 0 \u3068 1 \u306b\u5bfe\u5fdc\n\n\n\u4fe1\u53f7\u9593\u306e\u533a\u5207\u308a\u3068\u3057\u3066 HIGH \u304c 70000us \u6301\u7d9a\n\u4fe1\u53f7\u304c\u306a\u304f\u306a\u308c\u3070\u3001(\u8d64\u5916\u7dda\u30bb\u30f3\u30b5\u304c\u8ca0\u8ad6\u7406\u306a\u306e\u3067) HIGH \u306b\u623b\u308b\n\n\n03. \u6ce2\u5f62\u8abf\u67fb 3\n\u3055\u3066\u3001\u5148\u306e\u60f3\u5b9a\u3092\u5143\u306b\u3001\u4fe1\u53f7\u306e\u30d3\u30c3\u30c8\u9577\u3092\u8abf\u3079\u3066\u307f\u3088\u3046\u3002\n70000us \u3092\u533a\u5207\u308a\u3068\u3057\u3066\u3001500us \u3068 1000us \u306e HIGH \u30d1\u30eb\u30b9\u304c\u4f55\u56de\u73fe\u308c\u308b\u304b\u30ab\u30a6\u30f3\u30c8\u3059\u308b\u3002\n\n03_count.ino\n#define PIN 2\n#define LED 13\n\n#define TIMEOUT_US 30000\n\nvoid setup() {\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n\n  Serial.begin(115200);\n}\n\nvoid loop() {\n  unsigned int count = 0;\n\n  while (true) {\n    unsigned long pulse = pulseIn(PIN, HIGH, TIMEOUT_US);\n    if (pulse == 0) break;\n    ++count;\n  }\n\n  if (count != 0) {\n    Serial.println(count);\n  }\n}\n\n\n\n\u4fe1\u53f7\u306ebit\u6570\u6e2c\u5b9a\n1919\n39\n39\n39\n39\n39\n39\n39\n39\n39\n39\n\n\n\u3053\u308c\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u4e8c\u7a2e\u985e\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u5f97\u3089\u308c\u308b\u3002\n\n\u306f\u3058\u3081\u306b1\u56de 1919 bit\n\u4ee5\u964d\u7e70\u308a\u8fd4\u3057 39 bit\n\n\u306f\u3058\u3081\u306e 1919bit \u306f\u3068\u308a\u3042\u3048\u305a\u7121\u8996\u3057\u3088\u3046\u3002\n\u304a\u305d\u3089\u304f\u30c7\u30fc\u30bf\u306f 39bit \u5074\u306b\u4e57\u3063\u3066\u3044\u308b\u30022\n\n04 bit \u8868\u793a\n\u4eca\u5ea6\u306f bit \u5217\u3092\u8868\u793a\u3057\u3066\u307f\u308b\u3002\n500us \u3068 1000us \u306e\u4fe1\u53f7\u306e\u3069\u3061\u3089\u304c 0 \u3067\u3069\u3061\u3089\u304c 1 \u304b\u3001\u4e8c\u901a\u308a\u306e\u89e3\u91c8\u304c\u3042\u308b\u30023\n\u4eca\u56de\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u3001\n\n0: 1000us\n1: 500us\n\n\u3068\u3044\u3046\u5272\u5f53\u3092\u4f7f\u3046\u30024\n\n04_bits.cpp\n#define PIN 2\n#define LED 13\n\n\n#define TIMEOUT_US 30000\n\n/*\n   39bit \u5024\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u3001uint32_t \u306e\u5909\u6570\u30922\u3064\u4f7f\u3063\u3066\u3044\u308b\u3002\n   Arduino \u74b0\u5883\u306b\u304a\u3051\u308b uint64_t \u306f\u7f60\u304c\u591a\u3044\u305f\u3081\u907f\u3051\u308b\u3002\n*/\nint read_bits(uint32_t *bh, uint32_t *bl) {\n  int count = 0;\n  uint64_t ret = 0;\n\n  while (true) {\n    unsigned long pulse = pulseIn(PIN, HIGH, TIMEOUT_US);\n    if (pulse == 0) break;\n\n    uint32_t bit = pulse < 750 ? 1 : 0;\n    if (count < 32) {\n      bitWrite(*bh, 31 - count, bit);\n    } else if (count < 64) {\n      bitWrite(*bl, 63 - count, bit);\n    }\n    ++count;\n  }\n\n  return count;\n}\n\nvoid setup() {\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n\n  Serial.begin(115200);\n}\n\nvoid loop() {\n  uint32_t bh = 0;\n  uint32_t bl = 0;\n\n  int count = read_bits(&bh, &bl);\n\n  /*\n    \u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u306b\u4e00\u5b9a\u306e\u6642\u9593\u304c\u304b\u304b\u308b\u305f\u3081\u3001\u8868\u793a\u51e6\u7406\u306e\u9593\u306b\u5e7e\u3064\u304b\u306e\u4fe1\u53f7\u3092\u53d6\u308a\u9003\u3057\u3066\u3057\u307e\u3046\u3002\n    \u307e\u305f\u3001\u4e0d\u5b8c\u5168\u306a\u4fe1\u53f7\u3092\u53d7\u4fe1\u3059\u308b\u53ef\u80fd\u6027\u3082\u3042\u308b\u3002\n    \u4eca\u56de\u306f\u3001\u76ee\u7684\u306e 39 bit \u3092\u8aad\u3081\u305f\u3068\u304d\u3060\u3051\u8868\u793a\u3059\u308b\u3053\u3068\u3068\u3059\u308b\u3002\n   */\n  if (count == 39) {\n    Serial.print(bh, BIN);\n    Serial.print(' ');\n    Serial.println(bl >> 25, BIN);\n  }\n}\n\n\n\n\u30c7\u30fc\u30bf\n\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u5f97\u3089\u308c\u308b\u30d3\u30c3\u30c8\u5217\u3092\u5e7e\u3064\u304b\u4f8b\u793a\u3057\u3066\u307f\u308b\u3002\n\u306f\u3058\u3081\u306b\u4f53\u91cd\u8a08\u306b\u4e57\u308a\u3001\u305d\u306e\u5f8c\u3059\u3050\u964d\u308a\u305f\u6642\u306e\u4fe1\u53f7\u5217\u306f\u6b21\u306e\u901a\u308a\u3067\u3042\u308b\u3002\n\n\u4f53\u91cd\u8a08\u3092\u3059\u3050\u964d\u308a\u305f\u3068\u304d\n10101011000000000000000000000000 1010101\n10101011000010000000000000000000 1011001\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n\n\n\u4e00\u65b9\u3001\u4e57\u308a\u7d9a\u3051\u305f\u5834\u5408\u306e\u30c7\u30fc\u30bf\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n\u4f53\u91cd\u8a08\u306b\u4e57\u308a\u7d9a\u3051\u305f\u5834\u5408\n10101011100000000000000001111100 1010100\n10101011100000000000000001111100 1010100\n10101011100000000000000001111100 1010100\n10101011100000000000000001111100 1010100\n10101011100000000000000001111100 1010100\n10101011100000000000000001111100 1010100\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n\n\n\u5168\u4f53\u3092\u773a\u3081\u308b\u3068\u3001\u5148\u982d 12 bit \u306f\u5e38\u306b 101010111000 \u56fa\u5b9a\u306e\u3088\u3046\u3060\u3002\n\u307e\u305f\u3001\u6b21\u306e 2 bit \u306f\n\n\u306f\u3058\u3081\u306f 00\n\u9014\u4e2d\u3067 01\n\u91cd\u91cf\u304c\u5b89\u5b9a\u3059\u308b\u3068 11\n\n\u3068\u3044\u3046\u50be\u5411\u304c\u898b\u3066\u53d6\u308c\u308b\u3002\u8a72\u5f53\u306e2bit\u90e8\u5206\u3092\u533a\u5207\u3063\u3066\u898b\u308b\u3068\u5206\u304b\u308a\u3084\u3059\u3044\u3002\n\n\u5148\u982d12bit\u3068\u6b21\u306e2bit\u3092\u533a\u5207\u3063\u3066\u8868\u793a\n101010111000 00 000000000001111100 1010100\n101010111000 00 000000000001111100 1010100\n101010111000 11 000000000001111100 1011010\n101010111000 11 000000000001111100 1011010\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 11 000000000001111100 1011010\n101010111000 11 000000000001111100 1011010\n\n\n\u6b21\u306b\u3001\u6e2c\u5b9a\u4e2d\u306b\u91cd\u91cf\u3092\u5909\u3048\u3066\u307f\u308b\u3002\n\u6905\u5b50\u306b\u5ea7\u3063\u3066\u8efd\u304f\u4f53\u91cd\u3092\u304b\u3051\u3001\u78ba\u5b9a\u30b5\u30a4\u30f3\u304c\u898b\u3048\u305f\u3089\u8db3\u3067\u4f53\u91cd\u8a08\u3092\u3088\u308a\u5f37\u304f\u62bc\u3057\u3066\u307f\u308b\u3002\n\n\u4f53\u91cd\u78ba\u5b9a\u30b5\u30a4\u30f3\u304c\u51fa\u305f\u3042\u3068\u3067\u91cd\u91cf\u3092\u5909\u3048\u308b\n101010111000 11 000000000010000001 1011100       <--- \u91cd\u91cf\u304c\u5b89\u5b9a\u3057\u305f\n101010111000 11 000000000010000001 1011100\n101010111000 11 000000000010000001 1011100\n101010111000 11 000000000010000100 1011110\n101010111000 11 000000000010000100 1011110\n101010111000 11 000000000010000100 1011110\n101010111000 11 000000000010000100 1011110\n101010111000 01 000000000010000100 1011010       <--- \u3053\u3053\u3067\u8ca0\u8377\u3092\u5897\u3084\u3057\u305f\n101010111000 00 000000000011100000 110           <--- \u6841\u6570\u304c\u305a\u308c\u308b \uff08\u5f8c\u8ff0)\n101010111000 00 000000000011111101 10101\n101010111000 00 000000000100010100 100000\n101010111000 00 000000000100010100 100000\n101010111000 00 000000000100010100 100000\n101010111000 00 000000000100010101 100001\n\n\n\u91cd\u91cf\u304c\u5b89\u5b9a\u3057\u305f\u3068\u304d\u306b 11 \u3060\u3063\u305f\u30d3\u30c3\u30c8\u304c\u3001\u91cd\u91cf\u5909\u5316\u3067 00 \u306b\u623b\u3063\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\u9014\u4e2d\u3001\u6841\u6570\u304c 39bit \u3067\u306a\u3044\u5217\u304c\u3042\u308b\u304c\u3001\u3053\u308c\u306f Arduino \u306e print \u306e\u4ed5\u69d8\u306b\u3088\u308b\u3002\n2\u9032\u6570\u8868\u793a\u306e\u3068\u304d\u306b\u3001\u6841\u6570\u3092\u6307\u5b9a\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u5148\u982d\u306b\u3042\u308b0\u306f\u6d88\u3055\u308c\u3066\u3057\u307e\u3046\u3002\n\u305d\u306e\u305f\u3081\u3001\u4ee5\u964d\u306f\u308f\u304b\u308a\u3084\u3059\u305f\u306e\u305f\u3081\u306b\u3001\u5148\u982d\u306e0\u3092\u624b\u3067\u88dc\u3063\u305f\u51fa\u529b\u3092\u8f09\u305b\u308b\u3002\n\n\u88dc\u6b63\u524d\u3068\u88dc\u6b63\u5f8c\n# \u88dc\u6b63\u524d\u306f\u3001\u672b\u5c3e 7bit \u304c 3bit \u5206\u3057\u304b\u8868\u793a\u3055\u308c\u306a\u3044\n10101011100000000000000011100000 110\n\n# \u672b\u5c3e 7bit \u90e8\u306b0\u3092\u88dc\u3063\u3066\u6841\u3092\u63c3\u3048\u308b\n10101011100000000000000011100000 0000110\n\n\n\u3055\u3066\u3001\u6b21\u306f\u91cd\u3055\u3092\u5909\u3048\u3066\u4fe1\u53f7\u306e\u5909\u5316\u3092\u898b\u3066\u307f\u3088\u3046\u3002\n\u6905\u5b50\u306b\u5ea7\u3063\u3066\u8db3\u3067\u4f53\u91cd\u8a08\u3092\u62bc\u3057\u3001\u4fe1\u53f7\u3092\u898b\u306a\u304c\u3089\u8db3\u306b\u304b\u3051\u308b\u529b\u3092\u5909\u3048\u308b\u3002\n\n\u8db3\u306b\u304b\u3051\u308b\u8ca0\u8377\u3092\u5909\u3048\u305f\u3068\u304d\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000011000 1100001   <--- \u529b\u3092\u304b\u3051\u59cb\u3081\u305f\n10101011100000000000000000111010 0110011\n10101011100000000000000010010110 1100001\n10101011100000000000000101110011 1010000\n10101011100000000000001001111001 1010011\n10101011100000000000001100000000 0010111\n10101011100000000000001100000000 0010111\n10101011100000000000001011010110 0000010\n10101011100000000000001011101111 0001111\n10101011100000000000001100001110 0011110\n10101011100000000000001010100111 1101010  <--- \u529b\u3092\u629c\u304d\u59cb\u3081\u305f\n10101011100000000000000110010100 1100000\n10101011100000000000000010110001 1101110\n10101011100000000000000001010010 0111111\n10101011000000000000000000011100 1100011\n10101011000000000000000000000000 1010101  <--- \u5b8c\u5168\u306b\u8db3\u3092\u96e2\u3057\u305f\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n\n\n\u306a\u3093\u3068\u306a\u304f\u3001\u672b\u5c3e\u4ed8\u8fd1\u306e\u30d3\u30c3\u30c8\u304c\u8db3\u306b\u304b\u3051\u305f\u91cd\u3055\u306b\u5408\u308f\u305b\u3066\u5909\u5316\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u308b\u3002\n\u5148\u982d 16bit \u3092\u524a\u3063\u3066\u307f\u3088\u3046\u3002\n\n\u5148\u982d16bit\u3092\u524a\u3063\u305f\u3082\u306e\n0000000000000000 1010101\n0000000000000000 1010101\n0000000000011000 1100001   <--- \u529b\u3092\u304b\u3051\u59cb\u3081\u305f\n0000000000111010 0110011\n0000000010010110 1100001\n0000000101110011 1010000\n0000001001111001 1010011\n0000001100000000 0010111\n0000001100000000 0010111\n0000001011010110 0000010\n0000001011101111 0001111\n0000001100001110 0011110\n0000001010100111 1101010  <--- \u529b\u3092\u629c\u304d\u59cb\u3081\u305f\n0000000110010100 1100000\n0000000010110001 1101110\n0000000001010010 0111111\n0000000000011100 1100011\n0000000000000000 1010101  <--- \u5b8c\u5168\u306b\u8db3\u3092\u96e2\u3057\u305f\n0000000000000000 1010101\n0000000000000000 1010101\n\n\n\u529b\u306e\u5165\u308c\u5177\u5408\u306b\u5408\u308f\u305b\u3066\u30d3\u30c3\u30c8\u304c\u4f38\u3073\u3066\u3044\u308b\u3053\u3068\u304c\u898b\u3066\u53d6\u308c\u308b\u3002\n\u5b8c\u5168\u306b\u8db3\u3092\u96e2\u3057\u3066\u3082\u672b\u5c3e 7bit \u306f0\u306b\u306f\u306a\u3089\u306a\u3044\u3053\u3068\u304b\u3089\u3001\u3053\u306e\u90e8\u5206\u306f\u4f53\u91cd\u3068\u306f\u95a2\u4fc2\u306a\u3044\u30c7\u30fc\u30bf\u3068\u601d\u308f\u308c\u308b\u3002\n\u305d\u3053\u3067\u3001\u6b8b\u3063\u305f 16bit \u5206\u309210\u9032\u6570\u3068\u3057\u3066\u8868\u793a\u3057\u3066\u307f\u3088\u3046\u3002\n\n05_weight.ino\n// loop \u95a2\u6570\u4ee5\u5916\u306f 04_bits.cpp \u3068\u540c\u3058\n\n#define PIN 2\n#define LED 13\n\n\n#define TIMEOUT_US 30000\n\nint read_bits(uint32_t *bh, uint32_t *bl) {\n  int count = 0;\n  uint64_t ret = 0;\n\n  while (true) {\n    unsigned long pulse = pulseIn(PIN, HIGH, TIMEOUT_US);\n    if (pulse == 0) break;\n\n    uint32_t bit = pulse < 750 ? 1 : 0;\n    if (count < 32) {\n      bitWrite(*bh, 31 - count, bit);\n    } else if (count < 64) {\n      bitWrite(*bl, 63 - count, bit);\n    }\n    ++count;\n  }\n\n  return count;\n}\n\nvoid setup() {\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n\n  Serial.begin(115200);\n}\n\nvoid loop() {\n  uint32_t bh = 0;\n  uint32_t bl = 0;\n\n  int count = read_bits(&bh, &bl);\n\n  if (count == 39) {\n    Serial.println(bh & 0xFFFF);\n  }\n}\n\n\n\n\u30c7\u30fc\u30bf\n0\n0\n0\n0\n23\n40\n95\n152\n217\n295\n386\n460\n484\n500\n512\n512\n512\n\n\n\u4f53\u91cd\u8a08\u4ed8\u5c5e\u306e\u8868\u793a\u5668\u3068\u898b\u6bd4\u3079\u308b\u3068\u3001\u3061\u3087\u3046\u306910\u500d\u3055\u308c\u305f\u4f53\u91cd\u304c kg \u3067\u53d6\u5f97\u3067\u304d\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u5316\n\u4ee5\u4e0a\u306e\u3053\u3068\u3092\u8e0f\u307e\u3048\u3066\u3001\u4f53\u91cd\u8a08\u304b\u3089\u5024\u3092\u8aad\u307f\u53d6\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8a2d\u8a08\u3059\u308b\u3002\n\u307e\u305a\u306f\u72b6\u614b\u9077\u79fb\u56f3\u3092\u66f8\u304f\u3002\n\n\u3053\u306e\u56f3\u3092\u5143\u306b\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u304d\u51fa\u3057\u3066\u307f\u308b\u3002\n\nweight.ino\n#include <avr/sleep.h>\n\n#define PIN 2\n#define LED 13\n\n#define SHORT_TIMEOUT 5000\n#define LONG_TIMEOUT 1000000\n\n\nvoid deepSleep() {\n  set_sleep_mode(SLEEP_MODE_PWR_SAVE);\n\n  // Arduino Uno \u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306b\u3088\u308a2\u756a\u30d4\u30f3\u306e\u5909\u5316\u3092\u53d7\u3051\u3066\u30b9\u30ea\u30fc\u30d7\u304b\u3089\u5fa9\u5e30\u3067\u304d\u308b\n  attachInterrupt(0, wakeup, FALLING);\n  digitalWrite(LED, LOW);\n  delay(100);\n\n  sleep_enable();\n  sleep_mode();\n  sleep_disable();\n\n  detachInterrupt(0);\n  digitalWrite(LED, HIGH);\n}\n\nvoid wakeup() {\n  delay(100);\n}\n\n// \u5148\u306e\u72b6\u614b\u9077\u79fb\u56f3\u306b\u5bfe\u5fdc\u3059\u308b\u95a2\u6570\n// \u65b0\u3057\u3044\u4fe1\u53f7\u304c\u6765\u306a\u304f\u306a\u3063\u305f\u3089\u3001\u6700\u5f8c\u306b\u8aad\u3093\u3060\u4f53\u91cd\u5024\u3092 return \u3059\u308b\nunsigned long receive() {\n  uint32_t count = 0;\n  uint32_t bits = 0;\n  uint32_t ret = 0;\n\n  while (true) {\n    unsigned long pulse = pulseIn(PIN, HIGH, SHORT_TIMEOUT);\n    if (pulse == 0) {\n      if (count != 0) {\n        /* \u4fe1\u53f7\u304c 39bit \u304b\u3064\u3001\u4f53\u91cd\u304c\u5b89\u5b9a\u3057\u3066\u3044\u308b\u3068\u304d\u306b\u4fdd\u5b58\u3059\u308b\u3002\n\u3000\u3000\u3000\u3000\u3000\u3000\u5148\u982d 12 bit \u306f\u56fa\u5b9a\u3067 0b101010110000 = 0xAB8\n           \u5b89\u5b9a\u3092\u793a\u3059\u6b21\u306e 2\u30d3\u30c3\u30c8\u304c 11 \u3001\u66f4\u306b\u7d9a\u304f 2 bit \u306f\u5e38\u306b 0 \u3067\u3042\u308b\u3002\n           \u3088\u3063\u3066\u3001\u4f53\u91cd\u304c\u5b89\u5b9a\u3057\u305f\u3068\u304d\u3001\u4fe1\u53f7\u306e\u5148\u982d 16 bit \u306f 0xAB8C \u306b\u306a\u308b\u3002\n         */\n        if ((count == 39) && (bits >> 16 == 0xAB8C)) {\n          // SALUTE \u4f53\u91cd\u8a08\u306e\u6e2c\u5b9a\u4e0a\u9650\u306f 150kg (1500) \u307e\u3067\u306a\u306e\u3067\u3001 11bit \u53d6\u308c\u3070\u5341\u5206\n          ret = bits & 0x7ff;\n        }\n        count = 0;\n        continue;\n      }\n\n      pulse = pulseIn(PIN, HIGH, LONG_TIMEOUT);\n      if (pulse == 0) {\n        break;\n      }\n    }\n\n    if (count < 32) {\n      unsigned long b = pulse < 750 ? 1 : 0;\n      bitWrite(bits, 31 - count, b);\n    }\n    ++count;\n  }\n\n  return ret;\n}\n\nvoid setup() {\n  cli();\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n  Serial.begin(115200);\n  sei();\n\n  Serial.println(\"\");\n  delay(100);\n\n  digitalWrite(LED, LOW);\n}\n\nvoid loop() {\n  uint32_t v;\n\n  do {\n    deepSleep();\n    delay(100);\n  } while ((v = receive()) == 0);\n  Serial.println(v/10.0);\n  delay(200);\n}\n\n\n\n\u6e2c\u5b9a\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30c7\u30fc\u30e2\u30f3\u5316\n\u4ed5\u4e0a\u3052\u3068\u3057\u3066\u3001Linux \u3067\u306e\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u3092\u884c\u3046\u3002\n\nudev \u306b\u3088\u308b Arduino \u306e\u81ea\u52d5\u8a8d\u8b58\n\u307e\u305a\u306f\u3001Arduino Uno \u3092 USB \u63a5\u7d9a\u3057\u305f\u3068\u304d\u306b\u3001udev \u3067\u81ea\u52d5\u8a8d\u8b58\u3059\u308b\u8a2d\u5b9a\u3092\u66f8\u304f\u3002\n\n/etc/udev/rules.d/90-arduino.rules\nSUBSYSTEMS==\"usb\", ACTION==\"add\", ATTRS{idProduct}==\"0043\", ATTRS{idVendor}==\"2341\", GROUP=\"usb\", TAG+=\"systemd\", SYMLINK+=\"arduino/uno arduino/uno_$attr{serial}\"\n\n\n\u4e0a\u8a18\u8a2d\u5b9a\u306b\u3088\u308a\u3001Arduino \u63a5\u7d9a\u6642\u306b\u4ee5\u4e0b\u306e\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002\n\n/dev/arduino/uno\n/dev/arduino/uno-(id)\n\n\nsystemd \u306b\u3088\u308b\u30c7\u30fc\u30e2\u30f3\u7ba1\u7406\n\u4f53\u91cd\u901a\u77e5\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u3001\u4ee5\u4e0b\u8a2d\u5b9a\u3067\u30c7\u30fc\u30e2\u30f3\u5316\u3059\u308b\u3002\n\n/etc/systemd/system/weight.service\n[Unit]\nDescription=Arduino weight service\nRequires=dev-arduino-uno.device\nAfter=dev-arduino-uno.device\n\n[Service]\nType=simple\nExecStart=/usr/bin/ruby /usr/local/bin/weight.rb\nRestart=always\n\n\nudev \u3068\u9023\u643a\u3059\u308b\u8a2d\u5b9a\u306e\u305f\u3081\u3001Arduino \u3092\u63a5\u7d9a\u3059\u308b\u3068\u81ea\u52d5\u7684\u306b\u30c7\u30fc\u30e2\u30f3\u304c\u8d77\u52d5\u3059\u308b\u3002\n\n\u30c7\u30fc\u30e2\u30f3\n\u5b9f\u969b\u306b\u8aad\u307f\u53d6\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3067\u6570\u5024\u3092\u8aad\u3080\u3060\u3051\u3060\u3002\n\u4eca\u56de\u306f Ruby \u3067\u8a18\u8ff0\u3057 zabbix \u3078\u30c7\u30fc\u30bf\u3092\u9001\u3063\u3066\u3044\u308b\u3002\n\nweight.rb\nrequire 'serialport'\n\nport = '/dev/arduino/uno'\nbps = 115200\n\nsp = SerialPort.new(port, bps)\n\nvalue = 0\n\nloop do\n  begin\n    value = sp.readline.chomp.to_f\n    next if value.zero?\n    # zabbix_sender \u30b3\u30de\u30f3\u30c9\u3067\u30c7\u30fc\u30bf\u3092\u9001\u308b\n    # \u3082\u3061\u308d\u3093\u4ee5\u4e0b\u3092\u5909\u66f4\u3057\u3001\u3069\u3053\u306b\u4fdd\u5b58\u3057\u3066\u3082\u3088\u3044\n    system(\"/usr/local/app/zabbix/bin/zabbix_sender -z localhost -p 10051 -s I -k weight -o '#{value}'\")\n  end\nend\n\n\n\n\u307e\u3068\u3081\n\u672c\u8a18\u4e8b\u3067\u306f\u3001\u6bd4\u8f03\u7684\u5b89\u4fa1\u306aPC\u9023\u52d5\u4f53\u91cd\u8a08\u3092\u4f5c\u6210\u3057\u305f\u3002\u307e\u305f\u3001\u4f5c\u6210\u306e\u904e\u7a0b\u3067\u8d64\u5916\u7dda\u4fe1\u53f7\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u3069\u306e\u3088\u3046\u306b\u89e3\u6790\u3057\u305f\u304b\u306b\u3064\u3044\u3066\u3001\u5927\u307e\u304b\u306a\u6d41\u308c\u3092\u307e\u3068\u3081\u305f\u3002\nESP8266 \u306a\u3069\u306e Arduino \u4e92\u63db\u74b0\u5883\u304c\u3042\u308b WiFi \u30c7\u30d0\u30a4\u30b9\u3092\u4f7f\u3048\u3070\u3001PC\u4e0d\u8981\u306e\u65e2\u6210\u54c1\u306b\u8fd1\u3044\u69cb\u6210\u306b\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3060\u30025\n\u8d64\u5916\u7dda\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u6301\u3064\u5bb6\u96fb\u306f\u591a\u3044\u3002\u3053\u306e\u8a18\u4e8b\u304c\u3001\u65e2\u5b58\u5bb6\u96fb\u306e\u81ea\u52d5\u5316\u3001\u4fbf\u5229\u5316\u306b\u5c11\u3057\u3067\u3082\u5f79\u7acb\u3066\u3070\u5e78\u3044\u3060\u3002\n\n\n\n\n\u4f8b\u3048\u3070\u300120kg\u307e\u3067\u6e2c\u308c\u308b\u30bb\u30f3\u30b5\u3067\u3001100kg\u307e\u3067\u5bfe\u5fdc\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u4f53\u91cd\u5024\u306e\u3061\u3087\u3046\u30691/5\u306e\u8ca0\u8377\u304c\u30bb\u30f3\u30b5\u306b\u304b\u304b\u308b\u3088\u3046\u306a\u30ae\u30df\u30c3\u30af\u3092\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u307e\u305f\u3001\u3053\u306e\u624b\u306e\u30bb\u30f3\u30b5\u306f\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u3082\u96e3\u3057\u3044\u3088\u3046\u3060\u3002\u00a0\u21a9\n\n\n\u4f53\u91cd\u8a08\u306b\u4ed8\u5c5e\u306e\u8868\u793a\u5668\u306f\u3001\u4f53\u91cd\u5909\u5316\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u8868\u793a\u3067\u304d\u308b\u3002\u3088\u3063\u3066\u3001\u7e70\u308a\u8fd4\u3057\u9001\u4fe1\u3055\u308c\u308b 39bit \u5074\u306b\u4f53\u91cd\u5024\u304c\u4e57\u3063\u3066\u3044\u308b\u3068\u8003\u3048\u3089\u308c\u308b\u3002\u00a0\u21a9\n\n\n0 \u3068 1 \u306e\u5272\u5f53\u304c\u52d5\u7684\u306b\u5909\u308f\u308b\u3088\u3046\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u3082\u3042\u308a\u3046\u308b\u304c\u3001\u305d\u3093\u306a\u8907\u96d1\u306a\u3053\u3068\u306f\u3057\u3066\u3044\u306a\u3044\u3060\u308d\u3046\u3002\u00a0\u21a9\n\n\n\u5b9f\u306f\u3053\u306e\u5272\u5f53\u304c\u6b63\u89e3\u3067\u3042\u308b\u3053\u3068\u304c\u5f8c\u3067\u308f\u304b\u308b\u3002\u3082\u3061\u308d\u3093\u4fe1\u53f7\u3092\u8abf\u3079\u308b\u3068\u304d\u306f\u3001\u4e21\u65b9\u306e\u30d1\u30bf\u30fc\u30f3\u3067\u30d3\u30c3\u30c8\u5217\u3092\u8868\u793a\u3057\u3066\u307f\u3066\u8003\u3048\u308b\u3057\u304b\u306a\u3044\u3002\u00a0\u21a9\n\n\n\u672c\u8a18\u4e8b\u306f\u3082\u3068\u3082\u3068 ESP8266 Advent Calendar 2015 \u306b\u6295\u7a3f\u4e88\u5b9a\u3067\u3057\u305f\u3002\u9045\u304f\u306a\u3063\u3066\u3059\u307f\u307e\u305b\u3093\u2026\u2026\u00a0\u21a9\n\n\n\n## \u306f\u3058\u3081\u306b\n\u4e16\u306e\u4e2d\u306b\u306f\u3001\u4f53\u91cd\u8a18\u9332\u30c0\u30a4\u30a8\u30c3\u30c8\u306a\u308b\u3082\u306e\u304c\u3042\u308b\u3088\u3046\u3060\u3002\n\u3057\u304b\u3057\u3001\u6020\u6162\u306a\u30d7\u30ed\u30b0\u30e9\u30de\u5404\u4f4d\u306f\u4f53\u91cd\u306e\u8a18\u9332\u306a\u3069\u5f53\u7136\u81ea\u52d5\u5316\u3057\u305f\u304f\u306a\u308b\u3060\u308d\u3046\u3002\n\n\u65e2\u6210\u54c1\u3068\u3057\u3066\u3001 WiFi \u5bfe\u5fdc\u4f53\u91cd\u8a08\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u3001\u3053\u308c\u3092\u8cfc\u5165\u3059\u308c\u3070\u5168\u81ea\u52d5\u3067\u4f53\u91cd\u3092\u8a18\u9332\u3067\u304d\u308b\u3002\n\u3057\u304b\u3057\u3001\u5024\u6bb5\u3082\u9ad8\u304f(10,000\u5186 ~ 20,000\u5186\u307b\u3069)\u3001\u6a5f\u7a2e\u306b\u3088\u3063\u3066\u306f\u5c02\u7528\u306eWeb\u30b5\u30fc\u30d3\u30b9\u3078\u306e\u52a0\u5165\u304c\u5fc5\u9808\u3060\u3063\u305f\u308a\u3001\u305d\u306e\u30b5\u30fc\u30d3\u30b9\u306b\u6708\u984d\u6599\u91d1\u304c\u304b\u304b\u3063\u305f\u308a\u3001\u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u7528API\u304c\u306a\u304b\u3063\u305f\u308a\u3068\u8ab2\u984c\u3082\u591a\u3044\u3002\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u4eca\u56de\u306f\u5b89\u4fa1\u306a\u5168\u81ea\u52d5\u4f53\u91cd\u8a18\u9332\u88c5\u7f6e\u3092\u81ea\u4f5c\u3059\u308b\u3053\u3068\u306b\u3059\u308b\u3002\n\n## \u4f53\u91cd\u8a08\n\u3068\u306f\u3044\u3046\u3082\u306e\u306e\u3001\u4eba\u9593\u306e\u91cd\u91cf\u306b\u8010\u3048\u3089\u308c\u308b\u3088\u3046\u306a\u6e2c\u5b9a\u5668\u3092\u81ea\u4f5c\u3059\u308b\u306e\u306f\u7c21\u5358\u3067\u306f\u306a\u3044\u3002[^1]\n\n\u4e00\u822c\u7684\u306a\u4f53\u91cd\u8a08\u3092\u6539\u9020\u3057\u3066\u4f7f\u3046\u306b\u3082\u3001\u4ee5\u4e0b\u306e\u8ab2\u984c\u304c\u3042\u308b\n\n* \u5206\u89e3\u3057\u3066\u5185\u90e8\u914d\u7dda\u3092\u901a\u308b\u4fe1\u53f7\u3092\u76f4\u63a5\u76e3\u8996\u3059\u308b\u306e\u306f\u5927\u639b\u304b\u308a\n* \u4e00\u5ea6\u5206\u89e3\u3057\u305f\u3042\u3068\u3001\u4f53\u91cd\u6e2c\u5b9a\u306e\u7cbe\u5ea6\u3092\u4fdd\u3063\u305f\u307e\u307e\u7d44\u307f\u76f4\u305b\u308b\u304b\u308f\u304b\u3089\u306a\u3044\n\n\u305d\u3053\u3067\u3001\u672c\u4f53\u7121\u6539\u9020\u3067\u5185\u90e8\u30c7\u30fc\u30bf\u3092\u53d6\u308c\u308b\u4f53\u91cd\u8a08\u3092\u63a2\u3059\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\u4eca\u56de\u306f\u3001\u8981\u4ef6\u3092\u6e80\u305f\u3059\u4f53\u91cd\u8a08\u3068\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u6a5f\u7a2e\u3092\u4f7f\u3046\u3002\n[Amacon.co.jp: Hashy SALUTE(\u30b5\u30eb\u30fc\u30c8) \u30ef\u30a4\u30e4\u30ec\u30b9\u4f53\u91cd\u8a08 (WH) BH-2581](http://www.amazon.co.jp/Hashy-SALUTE-%E3%82%B5%E3%83%AB%E3%83%BC%E3%83%88-%E3%83%AF%E3%82%A4%E3%83%A4%E3%83%AC%E3%82%B9%E4%BD%93%E9%87%8D%E8%A8%88-BH-2581/dp/B00A1ZU2Y8)\n\n\u3053\u306e\u4f53\u91cd\u8a08\u306f\u3001\u672c\u4f53\u3068\u4f53\u91cd\u8868\u793a\u5668\u304c\u96e2\u308c\u3066\u304a\u308a\u3001\u305d\u306e\u9593\u306f\u8d64\u5916\u7dda\u3067\u30c7\u30fc\u30bf\u3092\u3084\u308a\u53d6\u308a\u3057\u3066\u3044\u308b\u3002\u305d\u306e\u305f\u3081\u3001\u8d64\u5916\u7dda\u4fe1\u53f7\u3055\u3048\u89e3\u6790\u3059\u308c\u3070\u3001\u672c\u4f53\u306b\u624b\u3092\u52a0\u3048\u308b\u3053\u3068\u306a\u304f\u4f53\u91cd\u5024\u3092\u8aad\u307f\u3060\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u307e\u305f\u3001\u5b9f\u58f22,000\u5186\u7a0b\u5ea6\u3068\u6bd4\u8f03\u7684\u5b89\u4fa1\u3060\u3002\n\n\u3053\u306e\u4f53\u91cd\u8a08\u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u3001\u8d64\u5916\u7dda\u4fe1\u53f7\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u89e3\u6790\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u305d\u306e\u305f\u3081\u3001\u672c\u8a18\u4e8b\u3067\u306f\u8d64\u5916\u7dda\u4fe1\u53f7\u306e\u89e3\u6790\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3082\u3001\u624b\u9806\u30d9\u30fc\u30b9\u3067\u7d39\u4ecb\u3059\u308b\u3002\n\n## \u90e8\u54c1\u3068\u914d\u7dda\n\n\n* SALUTE \u30ef\u30a4\u30e4\u30ec\u30b9\u4f53\u91cd\u8a08\n* Arduino Uno\n* [\u8d64\u5916\u7dda\u30bb\u30f3\u30b5](http://akizukidenshi.com/catalog/g/gI-00622/)\n\n\u4ee5\u964d\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u3001\u8d64\u5916\u7dda\u30bb\u30f3\u30b5\u306e\u4fe1\u53f7\u306f\u3001Arduino \u306e2\u756a\u30d4\u30f3\u306b\u63a5\u7d9a\u3057\u305f\u3082\u306e\u3068\u3059\u308b\u3002\n\n## 01. \u6ce2\u5f62\u8abf\u67fb\n\u4ee5\u4e0b\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u6ce2\u5f62\u306e\u96f0\u56f2\u6c17\u3092\u63b4\u3080\u3002\n\n```cpp:01_signal.ino\n#define PIN 2\n#define LED 13\n\nvoid setup() {\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n\n  Serial.begin(115200);\n}\n\nvoid loop() {\n  int pin = digitalRead(PIN);\n  Serial.println(pin);\n}\n```\n\n\u306f\u3058\u3081\u306b\u3001\u4f53\u91cd\u8a08\u306b\u4e57\u3089\u305a\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u3068\u30011\u3070\u304b\u308a\u51fa\u529b\u3055\u308c\u308b\u3002\n\n```:\u4f53\u91cd\u8a08\u306b\u4e57\u3089\u305a\u306b\u6e2c\u5b9a\u3057\u305f\u5834\u5408\n1\n1\n1\n1\n1\n1\n1\n```\n\n\u6b21\u306b\u3001\u8d64\u5916\u7dda\u30bb\u30f3\u30b5\u306e\u906e\u853d\u3092\u5916\u3057\u3001\u4f53\u91cd\u8a08\u306b\u4e57\u3063\u3066\u307f\u308b\u3002\n\u5b9a\u671f\u7684\u306b\u4fe1\u53f7\u306b0\u304c\u6df7\u3058\u308a\u3001\u8d64\u5916\u7dda\u3092\u30ad\u30e3\u30c3\u30c1\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u305f\u3002\n\n```:\u4f53\u91cd\u8a08\u306b\u4e57\u3063\u3066\u6e2c\u5b9a\u3057\u305f\u5834\u5408\n1\n1\n1\n0\n0\n1\n1\n0\n0\n1\n1\n0\n0\n```\n\n[\u8d64\u5916\u7dda\u30bb\u30f3\u30b5\u306e\u30c7\u30fc\u30bf\u30b7\u30fc\u30c8](http://akizukidenshi.com/download/ds/paralight/DS-27-01-0001%20PL-IRM0101-3%20B1.pdf)\u3092\u78ba\u8a8d\u3059\u308b\u3068\u3001Active Low \u3068\u306e\u8a18\u8f09\u304c\u3042\u3063\u305f\u3002\u305d\u306e\u305f\u3081\u3001\u4fe1\u53f7\u304c\u51fa\u3066\u3044\u308b\u3068\u304d\u306f 0\u3001\u4fe1\u53f7\u304c\u306a\u3044\u3068\u304d\u306f 1 \u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\u4eca\u56de\u306f\u3001\u4fe1\u53f7\u306e\u3042\u308a\u306a\u3057\u3067\u306f\u306a\u304f\u3001 **\u30bb\u30f3\u30b5\u304c\u8fd4\u3059 HIGH, LOW \u3092\u57fa\u6e96\u306b** \u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u88c5\u3059\u308b\u3002\n\n## 02. \u6ce2\u5f62\u8abf\u67fb 2\n\u3055\u3066\u6b21\u306b\u3001\u6ce2\u5f62\u306e\u6301\u7d9a\u6642\u9593\u3092\u8abf\u3079\u3066\u307f\u308b\u3002\n\u7121\u4fe1\u53f7\u6642\u306f HIGH \u306a\u306e\u3067\u3001\u60c5\u5831\u306f LOW \u306b\u4e57\u3063\u3066\u3044\u308b\u3068\u4eee\u5b9a\u3057\u3066\u3001LOW \u306e\u6301\u7d9a\u6642\u9593\u3092\u6e2c\u3063\u3066\u307f\u3088\u3046\u3002\n\n\u4fe1\u53f7\u306e\u6301\u7d9a\u6642\u9593\u3092\u6e2c\u308b\u306b\u306f\u3001[pulseIn \u95a2\u6570](https://www.arduino.cc/en/Reference/PulseIn)\u3092\u4f7f\u3046\u3002\n\n\n```cpp:02_pulse_low.cpp\n#define PIN 2\n#define LED 13\n\n#define TIMEOUT_US 1000000\n\nvoid setup() {\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n\n  Serial.begin(115200);\n}\n\nvoid loop() {\n  unsigned long pulse_us = pulseIn(PIN, LOW, TIMEOUT_US);\n\n  /* \u3010\u6ce8\u610f\u3011\n     115200 bit/sec\n     => 14400 byte/sec\n     => 1/14400 sec/byte\n     => 1 * 10^6 / 14400 usec/byte\n     \u2252 70 usec/byte\n\n     \u3088\u308a\u30013\u6587\u5b57+1\u6539\u884c\u6587\u5b57\u306e\u9001\u4fe1\u3067 70 * (3+1) = 280us \u307b\u3069\u4f7f\u3063\u3066\u3044\u308b\u3002\n     \u8a08\u6e2c\u5bfe\u8c61\u306e\u4fe1\u53f7\u304c 280us \u4ee5\u4e0b\u306e\u6301\u7d9a\u6642\u9593\u3060\u3068\u3001\u4fe1\u53f7\u3092\u6b63\u3057\u304f\u8aad\u3081\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002\n     \u305d\u306e\u5834\u5408\u3001\u8907\u6570\u306e\u8a08\u6e2c\u30c7\u30fc\u30bf\u3092\u914d\u5217\u306a\u3069\u306b\u66f8\u304d\u8fbc\u307f\u3001\u6700\u5f8c\u306b\u307e\u3068\u3081\u3066\u8868\u793a\u3059\u3079\u304d\u3002\n     \n     \u4eca\u56de\u306f\u4fe1\u53f7\u306e\u6301\u7d9a\u6642\u9593\u304c 500us \u3042\u308b\u3068\u3044\u3046\"\u7b54\u3048\"\u3092\u5229\u7528\u3057\u3066\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u7c21\u7565\u5316\u3057\u3066\u3044\u308b\u3002\n   */\n\n  Serial.println(pulse_us);\n}\n```\n\n```:\u6301\u7d9a\u6642\u9593\u306e\u8a08\u6e2c(LOW)\n514\n514\n518\n510\n482\n513\n482\n```\n\n\u51fa\u529b\u30c7\u30fc\u30bf\u3092\u898b\u308b\u3068\u3001LOW \u306e\u6301\u7d9a\u6642\u9593\u306f\u5e38\u306b 500us \u3067\u5b89\u5b9a\u3057\u3066\u3044\u308b\u3088\u3046\u3060\u3002\n\n\u3055\u3066\u3001LOW \u306f\u5e38\u306b\u540c\u3058\u9577\u3055\u3060\u3063\u305f\u306e\u3067\u6b21\u306f HIGH \u306e\u6301\u7d9a\u6642\u9593\u3092\u898b\u3088\u3046\u3002\n\n```cpp:02_pulse_high.cpp\n#define PIN 2\n#define LED 13\n\n#define TIMEOUT_US 1000000\n\nvoid setup() {\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n\n  Serial.begin(115200);\n}\n\nvoid loop() {\n  unsigned long pulse_us = pulseIn(PIN, HIGH, TIMEOUT_US);\n  Serial.println(pulse_us);\n}\n```\n\n```:\u6301\u7d9a\u6642\u9593\u306e\u8a08\u6e2c(HIGH)\n984\n547\n1012\n983\n1010\n510\n517\n1010\n1003\n507\n540\n520\n1011\n984\n521\n77653\n510\n985\n544\n```\n\n\u3053\u308c\u3092\u898b\u308b\u3068\u3001\u51fa\u529b\u7d50\u679c\u306f\u304a\u3088\u305d3\u5206\u985e\u3067\u304d\u305d\u3046\u3060\u3002\n\n* 500us\n* 1000us\n* 70000us\n\n70000us (70ms) \u306f\u3001\u4ed62\u3064\u3068\u6bd4\u3079\u3066\u660e\u3089\u304b\u306b\u9577\u3044\u3002\n\u304a\u305d\u3089\u304f\u3053\u3053\u304c\u4fe1\u53f7\u306e\u533a\u5207\u308a\u3060\u308d\u3046\u3002\n\u307e\u305f\u3001500us \u3068 1000us \u304c 0 \u3068 1 \u306e\u30d3\u30c3\u30c8\u3092\u8868\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u601d\u3048\u308b\u3002\n\n\n\u307e\u3068\u3081\u308b\u3068\n\n* LOW \u306e\u6301\u7d9a\u6642\u9593\u306f\u5e38\u306b 500us\n* HIGH \u306e\u6301\u7d9a\u6642\u9593\u306f 500us \u3068 1000us\n    * \u304a\u305d\u3089\u304f\u305d\u308c\u305e\u308c 0 \u3068 1 \u306b\u5bfe\u5fdc\n* \u4fe1\u53f7\u9593\u306e\u533a\u5207\u308a\u3068\u3057\u3066 HIGH \u304c 70000us \u6301\u7d9a\n* \u4fe1\u53f7\u304c\u306a\u304f\u306a\u308c\u3070\u3001(\u8d64\u5916\u7dda\u30bb\u30f3\u30b5\u304c\u8ca0\u8ad6\u7406\u306a\u306e\u3067) HIGH \u306b\u623b\u308b\n\n## 03. \u6ce2\u5f62\u8abf\u67fb 3\n\u3055\u3066\u3001\u5148\u306e\u60f3\u5b9a\u3092\u5143\u306b\u3001\u4fe1\u53f7\u306e\u30d3\u30c3\u30c8\u9577\u3092\u8abf\u3079\u3066\u307f\u3088\u3046\u3002\n70000us \u3092\u533a\u5207\u308a\u3068\u3057\u3066\u3001500us \u3068 1000us \u306e HIGH \u30d1\u30eb\u30b9\u304c\u4f55\u56de\u73fe\u308c\u308b\u304b\u30ab\u30a6\u30f3\u30c8\u3059\u308b\u3002\n\n```cpp:03_count.ino\n#define PIN 2\n#define LED 13\n\n#define TIMEOUT_US 30000\n\nvoid setup() {\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n\n  Serial.begin(115200);\n}\n\nvoid loop() {\n  unsigned int count = 0;\n\n  while (true) {\n    unsigned long pulse = pulseIn(PIN, HIGH, TIMEOUT_US);\n    if (pulse == 0) break;\n    ++count;\n  }\n\n  if (count != 0) {\n    Serial.println(count);\n  }\n}\n```\n\n```:\u4fe1\u53f7\u306ebit\u6570\u6e2c\u5b9a\n1919\n39\n39\n39\n39\n39\n39\n39\n39\n39\n39\n```\n\n\u3053\u308c\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u4e8c\u7a2e\u985e\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u5f97\u3089\u308c\u308b\u3002\n\n* \u306f\u3058\u3081\u306b1\u56de 1919 bit\n* \u4ee5\u964d\u7e70\u308a\u8fd4\u3057 39 bit\n\n\u306f\u3058\u3081\u306e 1919bit \u306f\u3068\u308a\u3042\u3048\u305a\u7121\u8996\u3057\u3088\u3046\u3002\n\u304a\u305d\u3089\u304f\u30c7\u30fc\u30bf\u306f 39bit \u5074\u306b\u4e57\u3063\u3066\u3044\u308b\u3002[^2]\n\n## 04 bit \u8868\u793a\n\u4eca\u5ea6\u306f bit \u5217\u3092\u8868\u793a\u3057\u3066\u307f\u308b\u3002\n\n500us \u3068 1000us \u306e\u4fe1\u53f7\u306e\u3069\u3061\u3089\u304c 0 \u3067\u3069\u3061\u3089\u304c 1 \u304b\u3001\u4e8c\u901a\u308a\u306e\u89e3\u91c8\u304c\u3042\u308b\u3002[^3]\n\n\u4eca\u56de\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u3001\n\n* 0: 1000us\n* 1: 500us\n\n\u3068\u3044\u3046\u5272\u5f53\u3092\u4f7f\u3046\u3002[^4]\n\n```cpp:04_bits.cpp\n#define PIN 2\n#define LED 13\n\n\n#define TIMEOUT_US 30000\n\n/*\n   39bit \u5024\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u3001uint32_t \u306e\u5909\u6570\u30922\u3064\u4f7f\u3063\u3066\u3044\u308b\u3002\n   Arduino \u74b0\u5883\u306b\u304a\u3051\u308b uint64_t \u306f\u7f60\u304c\u591a\u3044\u305f\u3081\u907f\u3051\u308b\u3002\n*/\nint read_bits(uint32_t *bh, uint32_t *bl) {\n  int count = 0;\n  uint64_t ret = 0;\n\n  while (true) {\n    unsigned long pulse = pulseIn(PIN, HIGH, TIMEOUT_US);\n    if (pulse == 0) break;\n\n    uint32_t bit = pulse < 750 ? 1 : 0;\n    if (count < 32) {\n      bitWrite(*bh, 31 - count, bit);\n    } else if (count < 64) {\n      bitWrite(*bl, 63 - count, bit);\n    }\n    ++count;\n  }\n\n  return count;\n}\n\nvoid setup() {\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n\n  Serial.begin(115200);\n}\n\nvoid loop() {\n  uint32_t bh = 0;\n  uint32_t bl = 0;\n\n  int count = read_bits(&bh, &bl);\n\n  /*\n    \u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u306b\u4e00\u5b9a\u306e\u6642\u9593\u304c\u304b\u304b\u308b\u305f\u3081\u3001\u8868\u793a\u51e6\u7406\u306e\u9593\u306b\u5e7e\u3064\u304b\u306e\u4fe1\u53f7\u3092\u53d6\u308a\u9003\u3057\u3066\u3057\u307e\u3046\u3002\n    \u307e\u305f\u3001\u4e0d\u5b8c\u5168\u306a\u4fe1\u53f7\u3092\u53d7\u4fe1\u3059\u308b\u53ef\u80fd\u6027\u3082\u3042\u308b\u3002\n    \u4eca\u56de\u306f\u3001\u76ee\u7684\u306e 39 bit \u3092\u8aad\u3081\u305f\u3068\u304d\u3060\u3051\u8868\u793a\u3059\u308b\u3053\u3068\u3068\u3059\u308b\u3002\n   */\n  if (count == 39) {\n    Serial.print(bh, BIN);\n    Serial.print(' ');\n    Serial.println(bl >> 25, BIN);\n  }\n}\n```\n\n\n### \u30c7\u30fc\u30bf\n\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u5f97\u3089\u308c\u308b\u30d3\u30c3\u30c8\u5217\u3092\u5e7e\u3064\u304b\u4f8b\u793a\u3057\u3066\u307f\u308b\u3002\n\n\u306f\u3058\u3081\u306b\u4f53\u91cd\u8a08\u306b\u4e57\u308a\u3001\u305d\u306e\u5f8c\u3059\u3050\u964d\u308a\u305f\u6642\u306e\u4fe1\u53f7\u5217\u306f\u6b21\u306e\u901a\u308a\u3067\u3042\u308b\u3002\n\n\n```text:\u4f53\u91cd\u8a08\u3092\u3059\u3050\u964d\u308a\u305f\u3068\u304d\n10101011000000000000000000000000 1010101\n10101011000010000000000000000000 1011001\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n```\n\n\u4e00\u65b9\u3001\u4e57\u308a\u7d9a\u3051\u305f\u5834\u5408\u306e\u30c7\u30fc\u30bf\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n```text:\u4f53\u91cd\u8a08\u306b\u4e57\u308a\u7d9a\u3051\u305f\u5834\u5408\n10101011100000000000000001111100 1010100\n10101011100000000000000001111100 1010100\n10101011100000000000000001111100 1010100\n10101011100000000000000001111100 1010100\n10101011100000000000000001111100 1010100\n10101011100000000000000001111100 1010100\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100001000000000001111100 1010110\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n10101011100011000000000001111100 1011010\n```\n\n\u5168\u4f53\u3092\u773a\u3081\u308b\u3068\u3001\u5148\u982d 12 bit \u306f\u5e38\u306b 101010111000 \u56fa\u5b9a\u306e\u3088\u3046\u3060\u3002\n\u307e\u305f\u3001\u6b21\u306e 2 bit \u306f\n\n* \u306f\u3058\u3081\u306f 00\n* \u9014\u4e2d\u3067 01\n* \u91cd\u91cf\u304c\u5b89\u5b9a\u3059\u308b\u3068 11\n\n\u3068\u3044\u3046\u50be\u5411\u304c\u898b\u3066\u53d6\u308c\u308b\u3002\u8a72\u5f53\u306e2bit\u90e8\u5206\u3092\u533a\u5207\u3063\u3066\u898b\u308b\u3068\u5206\u304b\u308a\u3084\u3059\u3044\u3002\n\n```:\u5148\u982d12bit\u3068\u6b21\u306e2bit\u3092\u533a\u5207\u3063\u3066\u8868\u793a\n101010111000 00 000000000001111100 1010100\n101010111000 00 000000000001111100 1010100\n101010111000 11 000000000001111100 1011010\n101010111000 11 000000000001111100 1011010\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 01 000000000001111100 1010110\n101010111000 11 000000000001111100 1011010\n101010111000 11 000000000001111100 1011010\n```\n\n\u6b21\u306b\u3001\u6e2c\u5b9a\u4e2d\u306b\u91cd\u91cf\u3092\u5909\u3048\u3066\u307f\u308b\u3002\n\u6905\u5b50\u306b\u5ea7\u3063\u3066\u8efd\u304f\u4f53\u91cd\u3092\u304b\u3051\u3001\u78ba\u5b9a\u30b5\u30a4\u30f3\u304c\u898b\u3048\u305f\u3089\u8db3\u3067\u4f53\u91cd\u8a08\u3092\u3088\u308a\u5f37\u304f\u62bc\u3057\u3066\u307f\u308b\u3002\n\n```:\u4f53\u91cd\u78ba\u5b9a\u30b5\u30a4\u30f3\u304c\u51fa\u305f\u3042\u3068\u3067\u91cd\u91cf\u3092\u5909\u3048\u308b\n101010111000 11 000000000010000001 1011100       <--- \u91cd\u91cf\u304c\u5b89\u5b9a\u3057\u305f\n101010111000 11 000000000010000001 1011100\n101010111000 11 000000000010000001 1011100\n101010111000 11 000000000010000100 1011110\n101010111000 11 000000000010000100 1011110\n101010111000 11 000000000010000100 1011110\n101010111000 11 000000000010000100 1011110\n101010111000 01 000000000010000100 1011010       <--- \u3053\u3053\u3067\u8ca0\u8377\u3092\u5897\u3084\u3057\u305f\n101010111000 00 000000000011100000 110           <--- \u6841\u6570\u304c\u305a\u308c\u308b \uff08\u5f8c\u8ff0)\n101010111000 00 000000000011111101 10101\n101010111000 00 000000000100010100 100000\n101010111000 00 000000000100010100 100000\n101010111000 00 000000000100010100 100000\n101010111000 00 000000000100010101 100001\n```\n\n\u91cd\u91cf\u304c\u5b89\u5b9a\u3057\u305f\u3068\u304d\u306b 11 \u3060\u3063\u305f\u30d3\u30c3\u30c8\u304c\u3001\u91cd\u91cf\u5909\u5316\u3067 00 \u306b\u623b\u3063\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n\n\u9014\u4e2d\u3001\u6841\u6570\u304c 39bit \u3067\u306a\u3044\u5217\u304c\u3042\u308b\u304c\u3001\u3053\u308c\u306f Arduino \u306e print \u306e\u4ed5\u69d8\u306b\u3088\u308b\u3002\n2\u9032\u6570\u8868\u793a\u306e\u3068\u304d\u306b\u3001\u6841\u6570\u3092\u6307\u5b9a\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u5148\u982d\u306b\u3042\u308b0\u306f\u6d88\u3055\u308c\u3066\u3057\u307e\u3046\u3002\n\u305d\u306e\u305f\u3081\u3001\u4ee5\u964d\u306f\u308f\u304b\u308a\u3084\u3059\u305f\u306e\u305f\u3081\u306b\u3001\u5148\u982d\u306e0\u3092\u624b\u3067\u88dc\u3063\u305f\u51fa\u529b\u3092\u8f09\u305b\u308b\u3002\n\n```bash:\u88dc\u6b63\u524d\u3068\u88dc\u6b63\u5f8c\n# \u88dc\u6b63\u524d\u306f\u3001\u672b\u5c3e 7bit \u304c 3bit \u5206\u3057\u304b\u8868\u793a\u3055\u308c\u306a\u3044\n10101011100000000000000011100000 110\n\n# \u672b\u5c3e 7bit \u90e8\u306b0\u3092\u88dc\u3063\u3066\u6841\u3092\u63c3\u3048\u308b\n10101011100000000000000011100000 0000110\n```\n\n\n\u3055\u3066\u3001\u6b21\u306f\u91cd\u3055\u3092\u5909\u3048\u3066\u4fe1\u53f7\u306e\u5909\u5316\u3092\u898b\u3066\u307f\u3088\u3046\u3002\n\u6905\u5b50\u306b\u5ea7\u3063\u3066\u8db3\u3067\u4f53\u91cd\u8a08\u3092\u62bc\u3057\u3001\u4fe1\u53f7\u3092\u898b\u306a\u304c\u3089\u8db3\u306b\u304b\u3051\u308b\u529b\u3092\u5909\u3048\u308b\u3002\n\n```:\u8db3\u306b\u304b\u3051\u308b\u8ca0\u8377\u3092\u5909\u3048\u305f\u3068\u304d\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n10101011000000000000000000011000 1100001   <--- \u529b\u3092\u304b\u3051\u59cb\u3081\u305f\n10101011100000000000000000111010 0110011\n10101011100000000000000010010110 1100001\n10101011100000000000000101110011 1010000\n10101011100000000000001001111001 1010011\n10101011100000000000001100000000 0010111\n10101011100000000000001100000000 0010111\n10101011100000000000001011010110 0000010\n10101011100000000000001011101111 0001111\n10101011100000000000001100001110 0011110\n10101011100000000000001010100111 1101010  <--- \u529b\u3092\u629c\u304d\u59cb\u3081\u305f\n10101011100000000000000110010100 1100000\n10101011100000000000000010110001 1101110\n10101011100000000000000001010010 0111111\n10101011000000000000000000011100 1100011\n10101011000000000000000000000000 1010101  <--- \u5b8c\u5168\u306b\u8db3\u3092\u96e2\u3057\u305f\n10101011000000000000000000000000 1010101\n10101011000000000000000000000000 1010101\n```\n\n\n\u306a\u3093\u3068\u306a\u304f\u3001\u672b\u5c3e\u4ed8\u8fd1\u306e\u30d3\u30c3\u30c8\u304c\u8db3\u306b\u304b\u3051\u305f\u91cd\u3055\u306b\u5408\u308f\u305b\u3066\u5909\u5316\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u308b\u3002\n\u5148\u982d 16bit \u3092\u524a\u3063\u3066\u307f\u3088\u3046\u3002\n\n```:\u5148\u982d16bit\u3092\u524a\u3063\u305f\u3082\u306e\n0000000000000000 1010101\n0000000000000000 1010101\n0000000000011000 1100001   <--- \u529b\u3092\u304b\u3051\u59cb\u3081\u305f\n0000000000111010 0110011\n0000000010010110 1100001\n0000000101110011 1010000\n0000001001111001 1010011\n0000001100000000 0010111\n0000001100000000 0010111\n0000001011010110 0000010\n0000001011101111 0001111\n0000001100001110 0011110\n0000001010100111 1101010  <--- \u529b\u3092\u629c\u304d\u59cb\u3081\u305f\n0000000110010100 1100000\n0000000010110001 1101110\n0000000001010010 0111111\n0000000000011100 1100011\n0000000000000000 1010101  <--- \u5b8c\u5168\u306b\u8db3\u3092\u96e2\u3057\u305f\n0000000000000000 1010101\n0000000000000000 1010101\n```\n\n\u529b\u306e\u5165\u308c\u5177\u5408\u306b\u5408\u308f\u305b\u3066\u30d3\u30c3\u30c8\u304c\u4f38\u3073\u3066\u3044\u308b\u3053\u3068\u304c\u898b\u3066\u53d6\u308c\u308b\u3002\n\n\u5b8c\u5168\u306b\u8db3\u3092\u96e2\u3057\u3066\u3082\u672b\u5c3e 7bit \u306f0\u306b\u306f\u306a\u3089\u306a\u3044\u3053\u3068\u304b\u3089\u3001\u3053\u306e\u90e8\u5206\u306f\u4f53\u91cd\u3068\u306f\u95a2\u4fc2\u306a\u3044\u30c7\u30fc\u30bf\u3068\u601d\u308f\u308c\u308b\u3002\n\u305d\u3053\u3067\u3001\u6b8b\u3063\u305f 16bit \u5206\u309210\u9032\u6570\u3068\u3057\u3066\u8868\u793a\u3057\u3066\u307f\u3088\u3046\u3002\n\n```cpp:05_weight.ino\n// loop \u95a2\u6570\u4ee5\u5916\u306f 04_bits.cpp \u3068\u540c\u3058\n\n#define PIN 2\n#define LED 13\n\n\n#define TIMEOUT_US 30000\n\nint read_bits(uint32_t *bh, uint32_t *bl) {\n  int count = 0;\n  uint64_t ret = 0;\n\n  while (true) {\n    unsigned long pulse = pulseIn(PIN, HIGH, TIMEOUT_US);\n    if (pulse == 0) break;\n\n    uint32_t bit = pulse < 750 ? 1 : 0;\n    if (count < 32) {\n      bitWrite(*bh, 31 - count, bit);\n    } else if (count < 64) {\n      bitWrite(*bl, 63 - count, bit);\n    }\n    ++count;\n  }\n\n  return count;\n}\n\nvoid setup() {\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n\n  Serial.begin(115200);\n}\n\nvoid loop() {\n  uint32_t bh = 0;\n  uint32_t bl = 0;\n\n  int count = read_bits(&bh, &bl);\n\n  if (count == 39) {\n    Serial.println(bh & 0xFFFF);\n  }\n}\n```\n\n```:\u30c7\u30fc\u30bf\n0\n0\n0\n0\n23\n40\n95\n152\n217\n295\n386\n460\n484\n500\n512\n512\n512\n```\n\n\u4f53\u91cd\u8a08\u4ed8\u5c5e\u306e\u8868\u793a\u5668\u3068\u898b\u6bd4\u3079\u308b\u3068\u3001\u3061\u3087\u3046\u306910\u500d\u3055\u308c\u305f\u4f53\u91cd\u304c kg \u3067\u53d6\u5f97\u3067\u304d\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n\n\n## \u30d7\u30ed\u30b0\u30e9\u30e0\u5316\n\u4ee5\u4e0a\u306e\u3053\u3068\u3092\u8e0f\u307e\u3048\u3066\u3001\u4f53\u91cd\u8a08\u304b\u3089\u5024\u3092\u8aad\u307f\u53d6\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8a2d\u8a08\u3059\u308b\u3002\n\u307e\u305a\u306f\u72b6\u614b\u9077\u79fb\u56f3\u3092\u66f8\u304f\u3002\n\n![states.png](https://qiita-image-store.s3.amazonaws.com/0/16112/3661bcfb-33fc-73bb-4ab5-96882c71a7fd.png)\n\n\u3053\u306e\u56f3\u3092\u5143\u306b\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u304d\u51fa\u3057\u3066\u307f\u308b\u3002\n\n\n\n```cpp:weight.ino\n#include <avr/sleep.h>\n\n#define PIN 2\n#define LED 13\n\n#define SHORT_TIMEOUT 5000\n#define LONG_TIMEOUT 1000000\n\n\nvoid deepSleep() {\n  set_sleep_mode(SLEEP_MODE_PWR_SAVE);\n\n  // Arduino Uno \u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306b\u3088\u308a2\u756a\u30d4\u30f3\u306e\u5909\u5316\u3092\u53d7\u3051\u3066\u30b9\u30ea\u30fc\u30d7\u304b\u3089\u5fa9\u5e30\u3067\u304d\u308b\n  attachInterrupt(0, wakeup, FALLING);\n  digitalWrite(LED, LOW);\n  delay(100);\n\n  sleep_enable();\n  sleep_mode();\n  sleep_disable();\n  \n  detachInterrupt(0);\n  digitalWrite(LED, HIGH);\n}\n\nvoid wakeup() {\n  delay(100);\n}\n\n// \u5148\u306e\u72b6\u614b\u9077\u79fb\u56f3\u306b\u5bfe\u5fdc\u3059\u308b\u95a2\u6570\n// \u65b0\u3057\u3044\u4fe1\u53f7\u304c\u6765\u306a\u304f\u306a\u3063\u305f\u3089\u3001\u6700\u5f8c\u306b\u8aad\u3093\u3060\u4f53\u91cd\u5024\u3092 return \u3059\u308b\nunsigned long receive() {\n  uint32_t count = 0;\n  uint32_t bits = 0;\n  uint32_t ret = 0;\n\n  while (true) {\n    unsigned long pulse = pulseIn(PIN, HIGH, SHORT_TIMEOUT);\n    if (pulse == 0) {\n      if (count != 0) {\n        /* \u4fe1\u53f7\u304c 39bit \u304b\u3064\u3001\u4f53\u91cd\u304c\u5b89\u5b9a\u3057\u3066\u3044\u308b\u3068\u304d\u306b\u4fdd\u5b58\u3059\u308b\u3002\n\u3000\u3000\u3000\u3000\u3000\u3000\u5148\u982d 12 bit \u306f\u56fa\u5b9a\u3067 0b101010110000 = 0xAB8\n           \u5b89\u5b9a\u3092\u793a\u3059\u6b21\u306e 2\u30d3\u30c3\u30c8\u304c 11 \u3001\u66f4\u306b\u7d9a\u304f 2 bit \u306f\u5e38\u306b 0 \u3067\u3042\u308b\u3002\n           \u3088\u3063\u3066\u3001\u4f53\u91cd\u304c\u5b89\u5b9a\u3057\u305f\u3068\u304d\u3001\u4fe1\u53f7\u306e\u5148\u982d 16 bit \u306f 0xAB8C \u306b\u306a\u308b\u3002\n         */\n        if ((count == 39) && (bits >> 16 == 0xAB8C)) {\n          // SALUTE \u4f53\u91cd\u8a08\u306e\u6e2c\u5b9a\u4e0a\u9650\u306f 150kg (1500) \u307e\u3067\u306a\u306e\u3067\u3001 11bit \u53d6\u308c\u3070\u5341\u5206\n          ret = bits & 0x7ff;\n        }\n        count = 0;\n        continue;\n      }\n\n      pulse = pulseIn(PIN, HIGH, LONG_TIMEOUT);\n      if (pulse == 0) {\n        break;\n      }\n    }\n\n    if (count < 32) {\n      unsigned long b = pulse < 750 ? 1 : 0;\n      bitWrite(bits, 31 - count, b);\n    }\n    ++count;\n  }\n\n  return ret;\n}\n\nvoid setup() {\n  cli();\n  pinMode(PIN, INPUT);\n  pinMode(LED, OUTPUT);\n  Serial.begin(115200);\n  sei();\n\n  Serial.println(\"\");\n  delay(100);\n\n  digitalWrite(LED, LOW);\n}\n\nvoid loop() {\n  uint32_t v;\n  \n  do {\n    deepSleep();\n    delay(100);\n  } while ((v = receive()) == 0);\n  Serial.println(v/10.0);\n  delay(200);\n}\n```\n\n## \u6e2c\u5b9a\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30c7\u30fc\u30e2\u30f3\u5316\n\u4ed5\u4e0a\u3052\u3068\u3057\u3066\u3001Linux \u3067\u306e\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u3092\u884c\u3046\u3002\n\n### udev \u306b\u3088\u308b Arduino \u306e\u81ea\u52d5\u8a8d\u8b58\n\u307e\u305a\u306f\u3001Arduino Uno \u3092 USB \u63a5\u7d9a\u3057\u305f\u3068\u304d\u306b\u3001udev \u3067\u81ea\u52d5\u8a8d\u8b58\u3059\u308b\u8a2d\u5b9a\u3092\u66f8\u304f\u3002\n\n```:/etc/udev/rules.d/90-arduino.rules\nSUBSYSTEMS==\"usb\", ACTION==\"add\", ATTRS{idProduct}==\"0043\", ATTRS{idVendor}==\"2341\", GROUP=\"usb\", TAG+=\"systemd\", SYMLINK+=\"arduino/uno arduino/uno_$attr{serial}\"\n```\n\n\u4e0a\u8a18\u8a2d\u5b9a\u306b\u3088\u308a\u3001Arduino \u63a5\u7d9a\u6642\u306b\u4ee5\u4e0b\u306e\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002\n\n* /dev/arduino/uno\n* /dev/arduino/uno-(id)\n\n### systemd \u306b\u3088\u308b\u30c7\u30fc\u30e2\u30f3\u7ba1\u7406\n\u4f53\u91cd\u901a\u77e5\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u3001\u4ee5\u4e0b\u8a2d\u5b9a\u3067\u30c7\u30fc\u30e2\u30f3\u5316\u3059\u308b\u3002\n\n```:/etc/systemd/system/weight.service\n[Unit]\nDescription=Arduino weight service\nRequires=dev-arduino-uno.device\nAfter=dev-arduino-uno.device\n\n[Service]\nType=simple\nExecStart=/usr/bin/ruby /usr/local/bin/weight.rb\nRestart=always\n```\n\nudev \u3068\u9023\u643a\u3059\u308b\u8a2d\u5b9a\u306e\u305f\u3081\u3001Arduino \u3092\u63a5\u7d9a\u3059\u308b\u3068\u81ea\u52d5\u7684\u306b\u30c7\u30fc\u30e2\u30f3\u304c\u8d77\u52d5\u3059\u308b\u3002\n\n### \u30c7\u30fc\u30e2\u30f3\n\u5b9f\u969b\u306b\u8aad\u307f\u53d6\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3067\u6570\u5024\u3092\u8aad\u3080\u3060\u3051\u3060\u3002\n\u4eca\u56de\u306f Ruby \u3067\u8a18\u8ff0\u3057 zabbix \u3078\u30c7\u30fc\u30bf\u3092\u9001\u3063\u3066\u3044\u308b\u3002\n\n```rb:weight.rb\nrequire 'serialport'\n\nport = '/dev/arduino/uno'\nbps = 115200\n\nsp = SerialPort.new(port, bps)\n\nvalue = 0\n\nloop do\n  begin\n    value = sp.readline.chomp.to_f\n    next if value.zero?\n    # zabbix_sender \u30b3\u30de\u30f3\u30c9\u3067\u30c7\u30fc\u30bf\u3092\u9001\u308b\n    # \u3082\u3061\u308d\u3093\u4ee5\u4e0b\u3092\u5909\u66f4\u3057\u3001\u3069\u3053\u306b\u4fdd\u5b58\u3057\u3066\u3082\u3088\u3044\n    system(\"/usr/local/app/zabbix/bin/zabbix_sender -z localhost -p 10051 -s I -k weight -o '#{value}'\")\n  end\nend\n```\n\n## \u307e\u3068\u3081\n\u672c\u8a18\u4e8b\u3067\u306f\u3001\u6bd4\u8f03\u7684\u5b89\u4fa1\u306aPC\u9023\u52d5\u4f53\u91cd\u8a08\u3092\u4f5c\u6210\u3057\u305f\u3002\u307e\u305f\u3001\u4f5c\u6210\u306e\u904e\u7a0b\u3067\u8d64\u5916\u7dda\u4fe1\u53f7\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u3069\u306e\u3088\u3046\u306b\u89e3\u6790\u3057\u305f\u304b\u306b\u3064\u3044\u3066\u3001\u5927\u307e\u304b\u306a\u6d41\u308c\u3092\u307e\u3068\u3081\u305f\u3002\nESP8266 \u306a\u3069\u306e Arduino \u4e92\u63db\u74b0\u5883\u304c\u3042\u308b WiFi \u30c7\u30d0\u30a4\u30b9\u3092\u4f7f\u3048\u3070\u3001PC\u4e0d\u8981\u306e\u65e2\u6210\u54c1\u306b\u8fd1\u3044\u69cb\u6210\u306b\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3060\u3002[^5]\n\n\u8d64\u5916\u7dda\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u6301\u3064\u5bb6\u96fb\u306f\u591a\u3044\u3002\u3053\u306e\u8a18\u4e8b\u304c\u3001\u65e2\u5b58\u5bb6\u96fb\u306e\u81ea\u52d5\u5316\u3001\u4fbf\u5229\u5316\u306b\u5c11\u3057\u3067\u3082\u5f79\u7acb\u3066\u3070\u5e78\u3044\u3060\u3002\n\n[^1]: \u4f8b\u3048\u3070\u300120kg\u307e\u3067\u6e2c\u308c\u308b\u30bb\u30f3\u30b5\u3067\u3001100kg\u307e\u3067\u5bfe\u5fdc\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u4f53\u91cd\u5024\u306e\u3061\u3087\u3046\u30691/5\u306e\u8ca0\u8377\u304c\u30bb\u30f3\u30b5\u306b\u304b\u304b\u308b\u3088\u3046\u306a\u30ae\u30df\u30c3\u30af\u3092\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u307e\u305f\u3001\u3053\u306e\u624b\u306e\u30bb\u30f3\u30b5\u306f\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u3082\u96e3\u3057\u3044\u3088\u3046\u3060\u3002\n\n[^2]: \u4f53\u91cd\u8a08\u306b\u4ed8\u5c5e\u306e\u8868\u793a\u5668\u306f\u3001\u4f53\u91cd\u5909\u5316\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u8868\u793a\u3067\u304d\u308b\u3002\u3088\u3063\u3066\u3001\u7e70\u308a\u8fd4\u3057\u9001\u4fe1\u3055\u308c\u308b 39bit \u5074\u306b\u4f53\u91cd\u5024\u304c\u4e57\u3063\u3066\u3044\u308b\u3068\u8003\u3048\u3089\u308c\u308b\u3002\n\n[^3]: 0 \u3068 1 \u306e\u5272\u5f53\u304c\u52d5\u7684\u306b\u5909\u308f\u308b\u3088\u3046\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u3082\u3042\u308a\u3046\u308b\u304c\u3001\u305d\u3093\u306a\u8907\u96d1\u306a\u3053\u3068\u306f\u3057\u3066\u3044\u306a\u3044\u3060\u308d\u3046\u3002\n\n[^4]: \u5b9f\u306f\u3053\u306e\u5272\u5f53\u304c\u6b63\u89e3\u3067\u3042\u308b\u3053\u3068\u304c\u5f8c\u3067\u308f\u304b\u308b\u3002\u3082\u3061\u308d\u3093\u4fe1\u53f7\u3092\u8abf\u3079\u308b\u3068\u304d\u306f\u3001\u4e21\u65b9\u306e\u30d1\u30bf\u30fc\u30f3\u3067\u30d3\u30c3\u30c8\u5217\u3092\u8868\u793a\u3057\u3066\u307f\u3066\u8003\u3048\u308b\u3057\u304b\u306a\u3044\u3002\n\n[^5]: \u672c\u8a18\u4e8b\u306f\u3082\u3068\u3082\u3068 ESP8266 Advent Calendar 2015 \u306b\u6295\u7a3f\u4e88\u5b9a\u3067\u3057\u305f\u3002\u9045\u304f\u306a\u3063\u3066\u3059\u307f\u307e\u305b\u3093\u2026\u2026\n", "tags": ["Arduino", "\u96fb\u5b50\u5de5\u4f5c", "Ruby", "C++", "IoT"]}