{"context": " More than 1 year has passed since last update.Compass\u3067\u30b9\u30d7\u30e9\u30a4\u30c8\u3092\u4f7f\u3046\u3068\u304d\u306emixin\u3002\n$device-pixel-ratio\u3092\u3044\u3058\u308c\u3070Retina\u5bfe\u5fdc\u3067\u3082\u305d\u3046\u3067\u306a\u3044\u3084\u3064\u3067\u3082\u3044\u3051\u308b\u611f\u3058\u3067\u3059\u3002\n// $name: sprite file name\n// $sprites: sprite-map\n// $block: display type\n// $device-pixel-ratio: if use Retina-image, it should 2 and original-image-size is x2.\n// $sprites-image: sprite-url($sprite) ;for optimize compile\n\n@mixin sprite-bg-size($name, $sprites, $device-pixel-ratio: 2) {\n    $_w: image-width(sprite-file($sprites, $name)) / $device-pixel-ratio;\n    $_h: image-height(sprite-file($sprites, $name)) / $device-pixel-ratio;\n    width: $_w;\n    height: $_h;\n    background-size: $_w auto;\n}\n\n@mixin sprite-bg-position($name, $sprites, $device-pixel-ratio: 2) {\n    $_pos: sprite-position($sprites, $name);\n    $_x: round(nth($_pos, 1) / $device-pixel-ratio);\n    $_y: round(nth($_pos, 2) / $device-pixel-ratio);\n    background-position: $_x $_y;\n}\n\n@mixin sprite-bg-image($sprites, $sprites-image, $display: block) {\n  display: $display;\n  background-image: $sprites-image;\n  background-repeat: no-repeat;\n}\n\n// manager\n@mixin sprite-bg($name, $sprites, $sprites-image, $display: block, $device-pixel-ratio: 2) {\n  @include sprite-bg-image($sprites, $sprites-image, $display);\n  @include sprite-bg-position($name, $sprites, $device-pixel-ratio);\n  @include sprite-bg-size($name, $sprites, $device-pixel-ratio);\n}\n\n@mixin sprite-bg-base($name, $sprites, $sprites-image, $display: block, $device-pixel-ratio: 2) {\n    @include sprite-bg-image($sprites, $sprites-image, $display);\n    @include sprite-bg-size($name, $sprites, $device-pixel-ratio);\n}\n\n\n\u4f7f\u3046\u3068\u304d\n$sprites: sprite-map(\"hoge/fuga/*.png\", $layout: smart);\n$spritesImage: sprite-url($sprites);\n// hoge/fuga/\u4ee5\u4e0b\u306b default.png\u3068on.png\u304c\u3042\u308b\u3068\u60f3\u5b9a\u3057\u3066\n.piyo {\n    @include sprite-bg-base('default', $sprites, $spritesImage);\n    @include sprite-bg-position('default', $sprites);\n    &:hover {\n        @include sprite-bg-position('on', $sprites);\n    }\n}\n\n\nCompass\u3067\u30b9\u30d7\u30e9\u30a4\u30c8\u3092\u4f7f\u3046\u3068\u304d\u306emixin\u3002\n\n`$device-pixel-ratio`\u3092\u3044\u3058\u308c\u3070Retina\u5bfe\u5fdc\u3067\u3082\u305d\u3046\u3067\u306a\u3044\u3084\u3064\u3067\u3082\u3044\u3051\u308b\u611f\u3058\u3067\u3059\u3002\n\n```scss\n// $name: sprite file name\n// $sprites: sprite-map\n// $block: display type\n// $device-pixel-ratio: if use Retina-image, it should 2 and original-image-size is x2.\n// $sprites-image: sprite-url($sprite) ;for optimize compile\n\n@mixin sprite-bg-size($name, $sprites, $device-pixel-ratio: 2) {\n    $_w: image-width(sprite-file($sprites, $name)) / $device-pixel-ratio;\n    $_h: image-height(sprite-file($sprites, $name)) / $device-pixel-ratio;\n    width: $_w;\n    height: $_h;\n    background-size: $_w auto;\n}\n\n@mixin sprite-bg-position($name, $sprites, $device-pixel-ratio: 2) {\n    $_pos: sprite-position($sprites, $name);\n    $_x: round(nth($_pos, 1) / $device-pixel-ratio);\n    $_y: round(nth($_pos, 2) / $device-pixel-ratio);\n    background-position: $_x $_y;\n}\n\n@mixin sprite-bg-image($sprites, $sprites-image, $display: block) {\n  display: $display;\n  background-image: $sprites-image;\n  background-repeat: no-repeat;\n}\n\n// manager\n@mixin sprite-bg($name, $sprites, $sprites-image, $display: block, $device-pixel-ratio: 2) {\n  @include sprite-bg-image($sprites, $sprites-image, $display);\n  @include sprite-bg-position($name, $sprites, $device-pixel-ratio);\n  @include sprite-bg-size($name, $sprites, $device-pixel-ratio);\n}\n\n@mixin sprite-bg-base($name, $sprites, $sprites-image, $display: block, $device-pixel-ratio: 2) {\n    @include sprite-bg-image($sprites, $sprites-image, $display);\n    @include sprite-bg-size($name, $sprites, $device-pixel-ratio);\n}\n```\n\n#### \u4f7f\u3046\u3068\u304d\n\n```scss\n$sprites: sprite-map(\"hoge/fuga/*.png\", $layout: smart);\n$spritesImage: sprite-url($sprites);\n// hoge/fuga/\u4ee5\u4e0b\u306b default.png\u3068on.png\u304c\u3042\u308b\u3068\u60f3\u5b9a\u3057\u3066\n.piyo {\n    @include sprite-bg-base('default', $sprites, $spritesImage);\n    @include sprite-bg-position('default', $sprites);\n    &:hover {\n        @include sprite-bg-position('on', $sprites);\n    }\n}\n\n```", "tags": ["scss", "Compass"]}