{"context": "\n\n\u6982\u8981\njQuery-File-Upload\u3092\u4f7f\u3063\u305fajax\u30d5\u30a1\u30a4\u30eb\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\nhttps://github.com/blueimp/jQuery-File-Upload\n\u30c7\u30e2\u306f\u3053\u3063\u3061\n\u4eca\u56de\u306fBasic version\u3092\u4f7f\u7528\u3057\u305f\uff0e\n\n\u5b9f\u88c5\n\nbasic.html\u304b\u3089\u30b3\u30d4\u30da\n\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\uff0cbasic.html\u306e\u5185\u5bb9\u3092\u30b3\u30d4\u30fc\u3059\u308c\u3070\u5b9f\u88c5\u3067\u304d\u308b\u306f\u305a\uff0e\uff08\u3067\u304d\u305f\uff09\n\njs,css\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\n\u203bbootstrap,jquery\u306f\u5225\u9014\u30a4\u30f3\u30dd\u30fc\u30c8\u5fc5\u8981\n\nimport_file_upload\n    <script src=\"file_upload/js/vendor/jquery.ui.widget.js\"></script>\n    <!-- The Iframe Transport is required for browsers without support for XHR file uploads -->\n    <script src=\"file_upload/js/jquery.iframe-transport.js\"></script>\n    <!-- The basic File Upload plugin -->\n    <script src=\"file_upload/js/jquery.fileupload.js\"></script>\n    <link rel=\"stylesheet\" href=\"file_upload/css/jquery.fileupload.css\" />\n\n\n\nbody\nbasic.html\u304b\u3089\u30b3\u30d4\u30da\n\nbody\n<span class=\"btn btn-success fileinput-button\">\n        <i class=\"glyphicon glyphicon-plus\"></i>\n        <span>Select files...</span>\n        <!-- The file input field used as target for the file upload widget -->\n        <input id=\"fileupload\" type=\"file\" name=\"files[]\" multiple>\n    </span>\n<br>\n<br>\n<!-- The global progress bar -->\n<div id=\"progress\" class=\"progress\">\n    <div class=\"progress-bar progress-bar-success\"></div>\n</div>\n\n\n\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9script\nbasic.html\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308bscript\u3092\u30b3\u30d4\u30da\nurl\u306f\u5b9f\u969b\u306eupload\u5148URL\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\n\nsample\n    <script>\n        $(function () {\n            'use strict';\n\n            var url = \"\"; // \u8981url\u5909\u66f4\n            $('#fileupload').fileupload({\n                url: url,\n                dataType: 'json',\n                done: function (e, data) {\n                    $.each(data.result.files, function (index, file) {\n                        $('<p/>').text(file.name).appendTo('#files');\n                    });\n                },\n                progressall: function (e, data) {\n                    var progress = parseInt(data.loaded / data.total * 100, 10);\n                    $('#progress .progress-bar').css(\n                            'width',\n                            progress + '%'\n                    );\n                }\n            }).prop('disabled', !$.support.fileInput)\n                    .parent().addClass($.support.fileInput ? undefined : 'disabled');\n        });\n    </script>\n\n\n\nvalidate\n\u6307\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30bf\u30a4\u30d7,\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u53ef\u5426\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\uff0e\nadd\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\uff1f\u3092\u5b9f\u88c5\u3057\uff0c\u305d\u306e\u4e2d\u3067\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\uff0e\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u53ef\u306e\u3068\u304d\u306f\uff0cdata.submit();\u3092\u547c\u3076\uff0e\nstackoverflow\u3067ContentType\u3001\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u30c1\u30a7\u30c3\u30af\u306e\u30b3\u30fc\u30c9\u304c\u3042\u3063\u305f\u306e\u3067\u62dd\u501f\u3002\nhttp://stackoverflow.com/questions/17451629/maxfilesize-and-acceptfiletypes-in-blueimp-file-upload-plugin-do-not-work-why\n\nContentType\u3001\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u30c1\u30a7\u30c3\u30af\n            $('#fileupload').fileupload({\n                // \u4e2d\u7565 //\n                // -- \u3053\u3053\u304b\u3089\u8ffd\u52a0\n                add: function(e, data){\n                    var uploadErrors = [];\n                    var acceptFileTypes = /^image\\/(gif|jpe?g|png)$/i; //content type\n                    if(data.Files[0]['type'].length && !acceptFileTypes.test(data.Files[0]['type'])) {\n                        uploadErrors.push('Not an accepted file type');\n                    }\n                    if(data.files[0]['size'].length && data.files[0]['size'] > 5000000) {\n                        uploadErrors.push('Filesize is too big');\n                    }\n                    if(uploadErrors.length > 0) {\n                        alert(uploadErrors.join(\"\\n\"));\n                    } else {\n                        data.submit();\n                    }\n                },\n\n\n\nMIME Content-type \u8868\nContentType\u306e\u53c2\u8003\u306b\u3002\nhttp://www.kyoto-su.ac.jp/ccinfo/use_web/mine_contenttype/\n\n## \u6982\u8981\njQuery-File-Upload\u3092\u4f7f\u3063\u305fajax\u30d5\u30a1\u30a4\u30eb\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\nhttps://github.com/blueimp/jQuery-File-Upload\n\n[\u30c7\u30e2\u306f\u3053\u3063\u3061](https://blueimp.github.io/jQuery-File-Upload/basic.html)\n\n\u4eca\u56de\u306fBasic version\u3092\u4f7f\u7528\u3057\u305f\uff0e\n\n## \u5b9f\u88c5\n\n### basic.html\u304b\u3089\u30b3\u30d4\u30da\n\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\uff0cbasic.html\u306e\u5185\u5bb9\u3092\u30b3\u30d4\u30fc\u3059\u308c\u3070\u5b9f\u88c5\u3067\u304d\u308b\u306f\u305a\uff0e\uff08\u3067\u304d\u305f\uff09\n\n#### js,css\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\n\u203bbootstrap,jquery\u306f\u5225\u9014\u30a4\u30f3\u30dd\u30fc\u30c8\u5fc5\u8981\n\n```html:import_file_upload\n    <script src=\"file_upload/js/vendor/jquery.ui.widget.js\"></script>\n    <!-- The Iframe Transport is required for browsers without support for XHR file uploads -->\n    <script src=\"file_upload/js/jquery.iframe-transport.js\"></script>\n    <!-- The basic File Upload plugin -->\n    <script src=\"file_upload/js/jquery.fileupload.js\"></script>\n    <link rel=\"stylesheet\" href=\"file_upload/css/jquery.fileupload.css\" />\n```\n\n#### body\nbasic.html\u304b\u3089\u30b3\u30d4\u30da\n\n```html:body\n<span class=\"btn btn-success fileinput-button\">\n        <i class=\"glyphicon glyphicon-plus\"></i>\n        <span>Select files...</span>\n        <!-- The file input field used as target for the file upload widget -->\n        <input id=\"fileupload\" type=\"file\" name=\"files[]\" multiple>\n    </span>\n<br>\n<br>\n<!-- The global progress bar -->\n<div id=\"progress\" class=\"progress\">\n    <div class=\"progress-bar progress-bar-success\"></div>\n</div>\n```\n\n#### \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9script\nbasic.html\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308bscript\u3092\u30b3\u30d4\u30da\nurl\u306f\u5b9f\u969b\u306eupload\u5148URL\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\n\n```js:sample\n    <script>\n        $(function () {\n            'use strict';\n\n            var url = \"\"; // \u8981url\u5909\u66f4\n            $('#fileupload').fileupload({\n                url: url,\n                dataType: 'json',\n                done: function (e, data) {\n                    $.each(data.result.files, function (index, file) {\n                        $('<p/>').text(file.name).appendTo('#files');\n                    });\n                },\n                progressall: function (e, data) {\n                    var progress = parseInt(data.loaded / data.total * 100, 10);\n                    $('#progress .progress-bar').css(\n                            'width',\n                            progress + '%'\n                    );\n                }\n            }).prop('disabled', !$.support.fileInput)\n                    .parent().addClass($.support.fileInput ? undefined : 'disabled');\n        });\n    </script>\n```\n\n### validate\n\u6307\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30bf\u30a4\u30d7,\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u53ef\u5426\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\uff0e\nadd\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\uff1f\u3092\u5b9f\u88c5\u3057\uff0c\u305d\u306e\u4e2d\u3067\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\uff0e\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u53ef\u306e\u3068\u304d\u306f\uff0c`data.submit();`\u3092\u547c\u3076\uff0e\n\nstackoverflow\u3067ContentType\u3001\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u30c1\u30a7\u30c3\u30af\u306e\u30b3\u30fc\u30c9\u304c\u3042\u3063\u305f\u306e\u3067\u62dd\u501f\u3002\nhttp://stackoverflow.com/questions/17451629/maxfilesize-and-acceptfiletypes-in-blueimp-file-upload-plugin-do-not-work-why\n\n```javascript:ContentType\u3001\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u30c1\u30a7\u30c3\u30af\n            $('#fileupload').fileupload({\n                // \u4e2d\u7565 //\n                // -- \u3053\u3053\u304b\u3089\u8ffd\u52a0\n                add: function(e, data){\n                    var uploadErrors = [];\n                    var acceptFileTypes = /^image\\/(gif|jpe?g|png)$/i; //content type\n                    if(data.Files[0]['type'].length && !acceptFileTypes.test(data.Files[0]['type'])) {\n                        uploadErrors.push('Not an accepted file type');\n                    }\n                    if(data.files[0]['size'].length && data.files[0]['size'] > 5000000) {\n                        uploadErrors.push('Filesize is too big');\n                    }\n                    if(uploadErrors.length > 0) {\n                        alert(uploadErrors.join(\"\\n\"));\n                    } else {\n                        data.submit();\n                    }\n                },\n```\n\n#### MIME Content-type \u8868\nContentType\u306e\u53c2\u8003\u306b\u3002\nhttp://www.kyoto-su.ac.jp/ccinfo/use_web/mine_contenttype/\n", "tags": ["JavaScript", "Ajax"]}