{"tags": ["oracle", "DeepLearning", "MachineLearning", "\u6a5f\u68b0\u5b66\u7fd2", "Chainer"], "context": "Oracle Cloud\u306b\u306f\u5265\u304d\u8eab\u306eOS\u3060\u3051\u304c\u6271\u3048\u308bIaaS\u3082\u3042\u308a\u307e\u3059\u304c\u3001PaaS\u3067\u3042\u3063\u3066\u3082OS\u30ec\u30a4\u30e4\u3082\u3044\u308d\u3044\u308d\u3044\u3058\u308c\u3066\u3057\u307e\u3048\u308b\u306e\u304c\u7279\u5fb4\u3067\u3059\u3002\u4eca\u56de\u306fPaaS\u306e\u4e2d\u306eOracle Database Cloud Service\u306b\u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u6709\u540d\u306aChainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3059\u3002\n\u516c\u5f0f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9\nOracle Database Cloud Service\u306e\u7279\u5fb4\u3068\u3057\u3066\u306f\u3001OS\u306fOracle Linux\u3067\u56fa\u5b9a\u3068\u306a\u308a\u307e\u3059\u3002\u5143\u3005PaaS\u306a\u306e\u3067\u3001OS\u3092\u9078\u629e\u3059\u308b\u3068\u3044\u3046\u6982\u5ff5\u306f\u3042\u308a\u307e\u305b\u3093\u3002Oracle Linux\u306fRedhat\u4e92\u63db\u306eOS\u306e\u305f\u3081\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306fyum\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u3042\u3068\u306f\u3001OS\u30e6\u30fc\u30b6\u304c\u6700\u521d\u304b\u3089\u4e8c\u3064\u4f5c\u6210\u3055\u308c\u3066\u304a\u308a\u3001database\u7ba1\u7406\u7cfb\u306f\u306a\u3058\u307f\u306eoracle\u30e6\u30fc\u30b6\u3067\u3059\u304c\u3001OS\u7ba1\u7406\u306b\u306fopc\u30e6\u30fc\u30b6\u304c\u5b58\u5728\u3057\u307e\u3059\u3002opc\u30e6\u30fc\u30b6\u306fsudo\u304c\u4f7f\u3048\u308b\u306e\u3067\u3001root\u6a29\u9650\u304c\u5fc5\u8981\u306a\u64cd\u4f5c\u3082\u5b9f\u65bd\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4eca\u56de\u306f\u7279\u306bDatabase\u3068\u63a5\u7d9a\u306a\u3069\u306f\u8003\u3048\u3066\u3044\u306a\u3044\u306e\u3067\u3001opc\u30e6\u30fc\u30b6\u3092\u4f7f\u7528\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\nChainer\u3092\u5165\u308c\u308b\u305f\u3081\u306e\u4e8b\u524d\u6e96\u5099\n\u500b\u4eba\u7684\u306bpython\u4f7f\u3046\u6642\u306fpyenv\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u7ba1\u7406\u3057\u305f\u3044\u306e\u3067\u3001pyenv\u3092git clone\u3067\u5165\u308c\u307e\u3059\u3002\n[opc@OracleML ~]$ git clone https://github.com/yyuu/pyenv.git ~/.pyenv\n\nbashrc\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n\nexport PYENV_ROOT=$HOME/.pyenv\u3000\nexport PATH=$PYENV_ROOT/bin:$PATH\neval \"$(pyenv init -)\"\n\n\u66f8\u304d\u7d42\u3048\u305f\u3089bashrc\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001pyenv\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u518d\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3082\u3082\u3061\u308d\u3093\u5927\u4e08\u592b\u3067\u3059\u3002\npyenv\u304b\u3089\u6700\u65b0\u306epython2.7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(2016\u5e745\u670817\u65e5\u6642\u70b9)\n\u203bchainer\u306f2.7.6+, 3.4.3+, 3.5.1+\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u306e\u3067\u3001python3\u7cfb\u3067\u3082\u3082\u3061\u308d\u3093\u52d5\u4f5c\u3057\u307e\u3059\u3002\n[opc@OracleML ~]$ pyenv install 2.7.11\nDownloading Python-2.7.11.tgz...\n-> https://www.python.org/ftp/python/2.7.11/Python-2.7.11.tgz\nInstalling Python-2.7.11...\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\n[opc@OracleML ~]$ pyenv versions\n* system (set by /home/opc/.pyenv/version)\n  2.7.11\n\n\u203b\u304c\u3064\u3044\u3066\u3044\u308b\u306e\u304c\u73fe\u6642\u70b9\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30022.7.11\u3092\u4f7f\u3044\u305f\u3044\u306e\u3067\u3001\u4f7f\u3046\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n[opc@OracleML ~]$ pyenv global 2.7.11\n\n\u6539\u3081\u3066\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d\n[opc@OracleML ~]$ pyenv versions\n  system\n* 2.7.11 (set by /home/opc/.pyenv/version)\n\n\u203b\u304c2.7.11\u306b\u3064\u3044\u305f\u306e\u3067\u3053\u308c\u3067\u554f\u984c\u306a\u3057\u3002\nChainer\u5074\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306bC++\u30b3\u30f3\u30d1\u30a4\u30e9\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n[opc@OracleML ~]$ sudo yum install gcc-c++\n\u203b\u51fa\u529b\u306f\u9577\u3044\u306e\u3067\u4e00\u90e8\u7701\u7565\nUpdated:\n  gcc-c++.x86_64 0:4.4.7-16.el6\n\nDependency Updated:\n  cpp.x86_64 0:4.4.7-16.el6               gcc.x86_64 0:4.4.7-16.el6\n  gcc-gfortran.x86_64 0:4.4.7-16.el6      gcc-gnat.x86_64 0:4.4.7-16.el6\n  gcc-java.x86_64 0:4.4.7-16.el6          gcc-objc.x86_64 0:4.4.7-16.el6\n  gcc-objc++.x86_64 0:4.4.7-16.el6        libgcc.i686 0:4.4.7-16.el6\n  libgcc.x86_64 0:4.4.7-16.el6            libgcj.x86_64 0:4.4.7-16.el6\n  libgcj-devel.x86_64 0:4.4.7-16.el6      libgfortran.x86_64 0:4.4.7-16.el6\n  libgnat.x86_64 0:4.4.7-16.el6           libgnat-devel.x86_64 0:4.4.7-16.el6\n  libgomp.x86_64 0:4.4.7-16.el6           libobjc.x86_64 0:4.4.7-16.el6\n  libstdc++.i686 0:4.4.7-16.el6           libstdc++.x86_64 0:4.4.7-16.el6\n  libstdc++-devel.x86_64 0:4.4.7-16.el6\n\nsetuptools\u3092\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n[opc@OracleML ~]$ pip install -U setuptools\nCollecting setuptools\n  Downloading setuptools-21.0.0-py2.py3-none-any.whl (509kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 512kB 833kB/s\nInstalling collected packages: setuptools\n  Found existing installation: setuptools 18.2\n    Uninstalling setuptools-18.2:\n      Successfully uninstalled setuptools-18.2\nSuccessfully installed setuptools-21.0.0\n\n\nChainer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3068\u306f\u8a00\u3063\u3066\u3082pip\u304b\u3089chainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n[opc@OracleML ~]$ pip install chainer\nCollecting chainer\n  Downloading chainer-1.8.2.tar.gz (934kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 937kB 447kB/s\nCollecting filelock (from chainer)\n  Downloading filelock-2.0.6.tar.gz\nCollecting nose (from chainer)\n  Downloading nose-1.3.7-py2-none-any.whl (154kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 155kB 2.7MB/s\nCollecting numpy>=1.9.0 (from chainer)\n  Downloading numpy-1.11.0.tar.gz (4.2MB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4.2MB 111kB/s\nCollecting protobuf (from chainer)\n  Downloading protobuf-2.6.1.tar.gz (188kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 188kB 1.8MB/s\nCollecting six>=1.9.0 (from chainer)\n  Downloading six-1.10.0-py2.py3-none-any.whl\nRequirement already satisfied (use --upgrade to upgrade): setuptools in ./.pyenv/versions/2.7.11/lib/python2.7/site-packages (from protobuf->chainer)\nInstalling collected packages: filelock, nose, numpy, protobuf, six, chainer\n  Running setup.py install for filelock\n  Running setup.py install for numpy\n  Running setup.py install for protobuf\n  Running setup.py install for chainer\nSuccessfully installed chainer-1.8.2 filelock-2.0.6 nose-1.3.7 numpy-1.11.0 protobuf-2.6.1 six-1.10.0\n\nChainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068pyton\u306e\u6570\u5024\u8a08\u7b97\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u6709\u540d\u306anumpy\u3068\u304b\u3082\u5408\u308f\u305b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\n\u3061\u3083\u3093\u3068\u52d5\u304f\u304b\u78ba\u8a8d\n\u7121\u4e8b\u306b\u52d5\u304f\u304b\u78ba\u304b\u3081\u308b\u305f\u3081\u306bmnist\u306e\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\n\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u308b\u306e\u3067\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u203b\u5727\u7e2e\u72b6\u614b\u30671.8MB\u5f31\u306e\u30c7\u30fc\u30bf\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n[opc@OracleML chainer]$ mkdir -p work/chainer\n[opc@OracleML chainer]$ cd work/chainer\n[opc@OracleML chainer]$ wget https://github.com/pfnet/chainer/archive/v1.8.2.tar.gz\n--2016-05-17 15:23:18--  https://github.com/pfnet/chainer/archive/v1.8.2.tar.gz\nResolving github.com... 192.30.252.121\nConnecting to github.com|192.30.252.121|:443... connected.\nHTTP request sent, awaiting response... s/mnist/train_mnist.py302 Found\nLocation: https://codeload.github.com/pfnet/chainer/tar.gz/v1.8.2 [following]\n--2016-05-17 15:23:19--  https://codeload.github.com/pfnet/chainer/tar.gz/v1.8.2\nResolving codeload.github.com... 192.30.252.144\nConnecting to codeload.github.com|192.30.252.144|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: unspecified [application/x-gzip]\nSaving to: \u201cv1.8.2.tar.gz\u201d\n\n    [     <=>                               ] 1,865,695   1.78M/s   in 1.0s\n\n2016-05-17 15:23:21 (1.78 MB/s) - \u201cv1.8.2.tar.gz\u201d saved [1865695]\n\n[opc@OracleML chainer]$ tar xzf v1.8.2.tar.gz\n[opc@OracleML chainer]$ python chainer-1.8.2/examples/mnist/train_mnist.py\nGPU: -1\n# unit: 1000\n# Minibatch-size: 100\n# epoch: 20\nNetwork type: simple\n\nload MNIST dataset\nDownloading train-images-idx3-ubyte.gz...\nDone\nDownloading train-labels-idx1-ubyte.gz...\nDone\nDownloading t10k-images-idx3-ubyte.gz...\nDone\nDownloading t10k-labels-idx1-ubyte.gz...\nDone\nConverting training data...\nDone\nConverting test data...\nDone\nSave output...\nDone\nConvert completed\nepoch 1\ngraph generated\ntrain mean loss=0.191361587822, accuracy=0.942716671055, throughput=41.6892000542 images/sec\ntest  mean loss=0.0909628344493, accuracy=0.969800004363\nepoch 2\ntrain mean loss=0.0739348402239, accuracy=0.977466677626, throughput=41.7980654511 images/sec\ntest  mean loss=0.0737590348307, accuracy=0.977700006962\nepoch 3\ntrain mean loss=0.0460491577055, accuracy=0.985283343196, throughput=41.8672285113 images/sec\ntest  mean loss=0.0851957379319, accuracy=0.972600005269\nepoch 4\ntrain mean loss=0.0372030753359, accuracy=0.988516676029, throughput=41.8309492376 images/sec\ntest  mean loss=0.0761305289133, accuracy=0.977800009251\nepoch 5\ntrain mean loss=0.0300519610067, accuracy=0.99026667436, throughput=41.8231355797 images/sec\ntest  mean loss=0.0759965585483, accuracy=0.979400006533\nepoch 6\ntrain mean loss=0.0228657945233, accuracy=0.992600006262, throughput=41.8207654705 images/sec\ntest  mean loss=0.07971162725, accuracy=0.978800007105\nepoch 7\ntrain mean loss=0.0186917934164, accuracy=0.994066672126, throughput=41.8575257029 images/sec\ntest  mean loss=0.0735157749392, accuracy=0.980700005293\nepoch 8\ntrain mean loss=0.0197259162495, accuracy=0.993233339489, throughput=41.8038634911 images/sec\ntest  mean loss=0.0788154986306, accuracy=0.981200004816\nepoch 9\ntrain mean loss=0.0186268132607, accuracy=0.994200005432, throughput=41.8321415426 images/sec\ntest  mean loss=0.0705992765316, accuracy=0.981400005817\nepoch 10\ntrain mean loss=0.0122995013625, accuracy=0.995800003906, throughput=41.8293981004 images/sec\ntest  mean loss=0.0840267806896, accuracy=0.980400006771\nepoch 11\ntrain mean loss=0.0152960172197, accuracy=0.994950004816, throughput=41.8024463269 images/sec\ntest  mean loss=0.0897405684877, accuracy=0.981700005531\nepoch 12\ntrain mean loss=0.011390889745, accuracy=0.996050003767, throughput=41.8014272636 images/sec\ntest  mean loss=0.0988696553496, accuracy=0.981500008106\nepoch 13\ntrain mean loss=0.0108807976301, accuracy=0.99655000329, throughput=41.7682246509 images/sec\ntest  mean loss=0.10508250903, accuracy=0.980000008345\n\n\n\n2\u6642\u9593\u304f\u3089\u3044\u56de\u3057\u7d9a\u3051\u3066\u3001epoch5\u307e\u3067\u3057\u304b\u884c\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u305d\u306e\u307e\u307e\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30ad\u30c3\u30af\u3059\u308b\u30681\u30b3\u30a2\u3060\u3051100%\u3067\u4f7f\u3044\u5207\u308b\u611f\u3058\u3067\u3059\u3002\n\u63a8\u5968\u3055\u308c\u308bChainer\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306f\n\nUbuntu 14.04 LTS 64bit\nCentOS 7 64bit\n\n\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001Oracle Linux(OL6.6)\u306b\u3082\u554f\u984c\u306a\u304f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u6b21\u56de\u306f\u3082\u3046\u5c11\u3057Chainer\u3067\u904a\u3076\u304b\u3001Oracle Cloud\u3068\u306e\u9023\u4fc2\u3089\u3057\u3044\u306e\u3092\u4f5c\u3063\u3066\u3044\u304d\u305f\u3044\u3067\u3059\u306d\u3002\nOracle Cloud\u306b\u306f\u5265\u304d\u8eab\u306eOS\u3060\u3051\u304c\u6271\u3048\u308bIaaS\u3082\u3042\u308a\u307e\u3059\u304c\u3001PaaS\u3067\u3042\u3063\u3066\u3082OS\u30ec\u30a4\u30e4\u3082\u3044\u308d\u3044\u308d\u3044\u3058\u308c\u3066\u3057\u307e\u3048\u308b\u306e\u304c\u7279\u5fb4\u3067\u3059\u3002\u4eca\u56de\u306fPaaS\u306e\u4e2d\u306eOracle Database Cloud Service\u306b\u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u6709\u540d\u306aChainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3059\u3002\n\n[\u516c\u5f0f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9](http://docs.chainer.org/en/stable/install.html)\n\nOracle Database Cloud Service\u306e\u7279\u5fb4\u3068\u3057\u3066\u306f\u3001OS\u306fOracle Linux\u3067\u56fa\u5b9a\u3068\u306a\u308a\u307e\u3059\u3002\u5143\u3005PaaS\u306a\u306e\u3067\u3001OS\u3092\u9078\u629e\u3059\u308b\u3068\u3044\u3046\u6982\u5ff5\u306f\u3042\u308a\u307e\u305b\u3093\u3002Oracle Linux\u306fRedhat\u4e92\u63db\u306eOS\u306e\u305f\u3081\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306fyum\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u3042\u3068\u306f\u3001OS\u30e6\u30fc\u30b6\u304c\u6700\u521d\u304b\u3089\u4e8c\u3064\u4f5c\u6210\u3055\u308c\u3066\u304a\u308a\u3001database\u7ba1\u7406\u7cfb\u306f\u306a\u3058\u307f\u306eoracle\u30e6\u30fc\u30b6\u3067\u3059\u304c\u3001OS\u7ba1\u7406\u306b\u306fopc\u30e6\u30fc\u30b6\u304c\u5b58\u5728\u3057\u307e\u3059\u3002opc\u30e6\u30fc\u30b6\u306fsudo\u304c\u4f7f\u3048\u308b\u306e\u3067\u3001root\u6a29\u9650\u304c\u5fc5\u8981\u306a\u64cd\u4f5c\u3082\u5b9f\u65bd\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4eca\u56de\u306f\u7279\u306bDatabase\u3068\u63a5\u7d9a\u306a\u3069\u306f\u8003\u3048\u3066\u3044\u306a\u3044\u306e\u3067\u3001opc\u30e6\u30fc\u30b6\u3092\u4f7f\u7528\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n#Chainer\u3092\u5165\u308c\u308b\u305f\u3081\u306e\u4e8b\u524d\u6e96\u5099\n\u500b\u4eba\u7684\u306bpython\u4f7f\u3046\u6642\u306fpyenv\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u7ba1\u7406\u3057\u305f\u3044\u306e\u3067\u3001pyenv\u3092git clone\u3067\u5165\u308c\u307e\u3059\u3002\n\n```\n[opc@OracleML ~]$ git clone https://github.com/yyuu/pyenv.git ~/.pyenv\n```\n\nbashrc\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n>export PYENV_ROOT=\\$HOME/.pyenv\u3000\n>export PATH=\\$PYENV_ROOT/bin:\\$PATH\n>eval \"\\$(pyenv init -)\"\n\n\u66f8\u304d\u7d42\u3048\u305f\u3089bashrc\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001pyenv\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u518d\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3082\u3082\u3061\u308d\u3093\u5927\u4e08\u592b\u3067\u3059\u3002\n\npyenv\u304b\u3089\u6700\u65b0\u306epython2.7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(2016\u5e745\u670817\u65e5\u6642\u70b9)\n\u203bchainer\u306f2.7.6+, 3.4.3+, 3.5.1+\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u306e\u3067\u3001python3\u7cfb\u3067\u3082\u3082\u3061\u308d\u3093\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\n```\n[opc@OracleML ~]$ pyenv install 2.7.11\nDownloading Python-2.7.11.tgz...\n-> https://www.python.org/ftp/python/2.7.11/Python-2.7.11.tgz\nInstalling Python-2.7.11...\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\n\n```\n[opc@OracleML ~]$ pyenv versions\n* system (set by /home/opc/.pyenv/version)\n  2.7.11\n```\n\n\u203b\u304c\u3064\u3044\u3066\u3044\u308b\u306e\u304c\u73fe\u6642\u70b9\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30022.7.11\u3092\u4f7f\u3044\u305f\u3044\u306e\u3067\u3001\u4f7f\u3046\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```\n[opc@OracleML ~]$ pyenv global 2.7.11\n```\n\n\u6539\u3081\u3066\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d\n\n```\n[opc@OracleML ~]$ pyenv versions\n  system\n* 2.7.11 (set by /home/opc/.pyenv/version)\n```\n\n\u203b\u304c2.7.11\u306b\u3064\u3044\u305f\u306e\u3067\u3053\u308c\u3067\u554f\u984c\u306a\u3057\u3002\n\n\nChainer\u5074\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306bC++\u30b3\u30f3\u30d1\u30a4\u30e9\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n[opc@OracleML ~]$ sudo yum install gcc-c++\n\u203b\u51fa\u529b\u306f\u9577\u3044\u306e\u3067\u4e00\u90e8\u7701\u7565\nUpdated:\n  gcc-c++.x86_64 0:4.4.7-16.el6\n\nDependency Updated:\n  cpp.x86_64 0:4.4.7-16.el6               gcc.x86_64 0:4.4.7-16.el6\n  gcc-gfortran.x86_64 0:4.4.7-16.el6      gcc-gnat.x86_64 0:4.4.7-16.el6\n  gcc-java.x86_64 0:4.4.7-16.el6          gcc-objc.x86_64 0:4.4.7-16.el6\n  gcc-objc++.x86_64 0:4.4.7-16.el6        libgcc.i686 0:4.4.7-16.el6\n  libgcc.x86_64 0:4.4.7-16.el6            libgcj.x86_64 0:4.4.7-16.el6\n  libgcj-devel.x86_64 0:4.4.7-16.el6      libgfortran.x86_64 0:4.4.7-16.el6\n  libgnat.x86_64 0:4.4.7-16.el6           libgnat-devel.x86_64 0:4.4.7-16.el6\n  libgomp.x86_64 0:4.4.7-16.el6           libobjc.x86_64 0:4.4.7-16.el6\n  libstdc++.i686 0:4.4.7-16.el6           libstdc++.x86_64 0:4.4.7-16.el6\n  libstdc++-devel.x86_64 0:4.4.7-16.el6\n```\n\nsetuptools\u3092\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n[opc@OracleML ~]$ pip install -U setuptools\nCollecting setuptools\n  Downloading setuptools-21.0.0-py2.py3-none-any.whl (509kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 512kB 833kB/s\nInstalling collected packages: setuptools\n  Found existing installation: setuptools 18.2\n    Uninstalling setuptools-18.2:\n      Successfully uninstalled setuptools-18.2\nSuccessfully installed setuptools-21.0.0\n```\n\n#Chainer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3068\u306f\u8a00\u3063\u3066\u3082pip\u304b\u3089chainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\n```\n[opc@OracleML ~]$ pip install chainer\nCollecting chainer\n  Downloading chainer-1.8.2.tar.gz (934kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 937kB 447kB/s\nCollecting filelock (from chainer)\n  Downloading filelock-2.0.6.tar.gz\nCollecting nose (from chainer)\n  Downloading nose-1.3.7-py2-none-any.whl (154kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 155kB 2.7MB/s\nCollecting numpy>=1.9.0 (from chainer)\n  Downloading numpy-1.11.0.tar.gz (4.2MB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4.2MB 111kB/s\nCollecting protobuf (from chainer)\n  Downloading protobuf-2.6.1.tar.gz (188kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 188kB 1.8MB/s\nCollecting six>=1.9.0 (from chainer)\n  Downloading six-1.10.0-py2.py3-none-any.whl\nRequirement already satisfied (use --upgrade to upgrade): setuptools in ./.pyenv/versions/2.7.11/lib/python2.7/site-packages (from protobuf->chainer)\nInstalling collected packages: filelock, nose, numpy, protobuf, six, chainer\n  Running setup.py install for filelock\n  Running setup.py install for numpy\n  Running setup.py install for protobuf\n  Running setup.py install for chainer\nSuccessfully installed chainer-1.8.2 filelock-2.0.6 nose-1.3.7 numpy-1.11.0 protobuf-2.6.1 six-1.10.0\n```\n\nChainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068pyton\u306e\u6570\u5024\u8a08\u7b97\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u6709\u540d\u306anumpy\u3068\u304b\u3082\u5408\u308f\u305b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\n#\u3061\u3083\u3093\u3068\u52d5\u304f\u304b\u78ba\u8a8d\n\u7121\u4e8b\u306b\u52d5\u304f\u304b\u78ba\u304b\u3081\u308b\u305f\u3081\u306bmnist\u306e\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\n\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u308b\u306e\u3067\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u203b\u5727\u7e2e\u72b6\u614b\u30671.8MB\u5f31\u306e\u30c7\u30fc\u30bf\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\n```\n[opc@OracleML chainer]$ mkdir -p work/chainer\n[opc@OracleML chainer]$ cd work/chainer\n[opc@OracleML chainer]$ wget https://github.com/pfnet/chainer/archive/v1.8.2.tar.gz\n--2016-05-17 15:23:18--  https://github.com/pfnet/chainer/archive/v1.8.2.tar.gz\nResolving github.com... 192.30.252.121\nConnecting to github.com|192.30.252.121|:443... connected.\nHTTP request sent, awaiting response... s/mnist/train_mnist.py302 Found\nLocation: https://codeload.github.com/pfnet/chainer/tar.gz/v1.8.2 [following]\n--2016-05-17 15:23:19--  https://codeload.github.com/pfnet/chainer/tar.gz/v1.8.2\nResolving codeload.github.com... 192.30.252.144\nConnecting to codeload.github.com|192.30.252.144|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: unspecified [application/x-gzip]\nSaving to: \u201cv1.8.2.tar.gz\u201d\n\n    [     <=>                               ] 1,865,695   1.78M/s   in 1.0s\n\n2016-05-17 15:23:21 (1.78 MB/s) - \u201cv1.8.2.tar.gz\u201d saved [1865695]\n\n[opc@OracleML chainer]$ tar xzf v1.8.2.tar.gz\n[opc@OracleML chainer]$ python chainer-1.8.2/examples/mnist/train_mnist.py\nGPU: -1\n# unit: 1000\n# Minibatch-size: 100\n# epoch: 20\nNetwork type: simple\n\nload MNIST dataset\nDownloading train-images-idx3-ubyte.gz...\nDone\nDownloading train-labels-idx1-ubyte.gz...\nDone\nDownloading t10k-images-idx3-ubyte.gz...\nDone\nDownloading t10k-labels-idx1-ubyte.gz...\nDone\nConverting training data...\nDone\nConverting test data...\nDone\nSave output...\nDone\nConvert completed\nepoch 1\ngraph generated\ntrain mean loss=0.191361587822, accuracy=0.942716671055, throughput=41.6892000542 images/sec\ntest  mean loss=0.0909628344493, accuracy=0.969800004363\nepoch 2\ntrain mean loss=0.0739348402239, accuracy=0.977466677626, throughput=41.7980654511 images/sec\ntest  mean loss=0.0737590348307, accuracy=0.977700006962\nepoch 3\ntrain mean loss=0.0460491577055, accuracy=0.985283343196, throughput=41.8672285113 images/sec\ntest  mean loss=0.0851957379319, accuracy=0.972600005269\nepoch 4\ntrain mean loss=0.0372030753359, accuracy=0.988516676029, throughput=41.8309492376 images/sec\ntest  mean loss=0.0761305289133, accuracy=0.977800009251\nepoch 5\ntrain mean loss=0.0300519610067, accuracy=0.99026667436, throughput=41.8231355797 images/sec\ntest  mean loss=0.0759965585483, accuracy=0.979400006533\nepoch 6\ntrain mean loss=0.0228657945233, accuracy=0.992600006262, throughput=41.8207654705 images/sec\ntest  mean loss=0.07971162725, accuracy=0.978800007105\nepoch 7\ntrain mean loss=0.0186917934164, accuracy=0.994066672126, throughput=41.8575257029 images/sec\ntest  mean loss=0.0735157749392, accuracy=0.980700005293\nepoch 8\ntrain mean loss=0.0197259162495, accuracy=0.993233339489, throughput=41.8038634911 images/sec\ntest  mean loss=0.0788154986306, accuracy=0.981200004816\nepoch 9\ntrain mean loss=0.0186268132607, accuracy=0.994200005432, throughput=41.8321415426 images/sec\ntest  mean loss=0.0705992765316, accuracy=0.981400005817\nepoch 10\ntrain mean loss=0.0122995013625, accuracy=0.995800003906, throughput=41.8293981004 images/sec\ntest  mean loss=0.0840267806896, accuracy=0.980400006771\nepoch 11\ntrain mean loss=0.0152960172197, accuracy=0.994950004816, throughput=41.8024463269 images/sec\ntest  mean loss=0.0897405684877, accuracy=0.981700005531\nepoch 12\ntrain mean loss=0.011390889745, accuracy=0.996050003767, throughput=41.8014272636 images/sec\ntest  mean loss=0.0988696553496, accuracy=0.981500008106\nepoch 13\ntrain mean loss=0.0108807976301, accuracy=0.99655000329, throughput=41.7682246509 images/sec\ntest  mean loss=0.10508250903, accuracy=0.980000008345\n\n\n```\n\n2\u6642\u9593\u304f\u3089\u3044\u56de\u3057\u7d9a\u3051\u3066\u3001epoch5\u307e\u3067\u3057\u304b\u884c\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u305d\u306e\u307e\u307e\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30ad\u30c3\u30af\u3059\u308b\u30681\u30b3\u30a2\u3060\u3051100%\u3067\u4f7f\u3044\u5207\u308b\u611f\u3058\u3067\u3059\u3002\n\n\u63a8\u5968\u3055\u308c\u308bChainer\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306f\n\n- Ubuntu 14.04 LTS 64bit\n- CentOS 7 64bit\n\n\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001Oracle Linux(OL6.6)\u306b\u3082\u554f\u984c\u306a\u304f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u6b21\u56de\u306f\u3082\u3046\u5c11\u3057Chainer\u3067\u904a\u3076\u304b\u3001Oracle Cloud\u3068\u306e\u9023\u4fc2\u3089\u3057\u3044\u306e\u3092\u4f5c\u3063\u3066\u3044\u304d\u305f\u3044\u3067\u3059\u306d\u3002\n"}