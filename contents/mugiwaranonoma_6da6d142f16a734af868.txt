{"context": "\n\nReact \u89e6\u3063\u3066\u307f\u305f\n\n\u5b9f\u306f Qiita \u3067\u8a18\u4e8b\u66f8\u304f\u306e\u521d\u3081\u3066\u3067\u3059\uff01\u3069\u3046\u305e\u304a\u624b\u67d4\u3089\u304b\u306b\uff01\n\u4e16\u306e\u6d41\u308c\u306b\u3068\u308a\u6b8b\u3055\u308c\u3066\u308b\u611f\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u91cd\u3044\u8170\u3092\u3042\u3052\u3066 React \u306b\u89e6\u308c\u3066\u307f\u305f\u306e\u3067\u305d\u306e\u5099\u5fd8\u9332\u3002\n\u3067\u304d\u308b\u3060\u3051\u30e2\u30c0\u30f3\u306a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u3092\u3059\u308b\u305f\u3081\u306e\u3001\u7d20\u5730\u3092\u6574\u3048\u308b\u3068\u3053\u308d\u307e\u3067\u3092\u30b4\u30fc\u30eb\u3068\u3059\u308b\u3002\n\n\n\u69cb\u6210\n\nRails 4.2.x\nReact\nES6\nBabel\nWebpack\ngulp\nMaterial Design Lite\n\n\n\u65b9\u91dd\n\n\u958b\u767a\u74b0\u5883\u306f vagrant(ubuntu) \u3067\u3084\u308b\n\u65e2\u5b58\u306e Rails \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u4e57\u305b\u308b\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u7ba1\u7406\u306b\u95a2\u3059\u308b\u3082\u306e\u306f\u3001\u3059\u3079\u3066 npm \u3067\u7ba1\u7406\u3059\u308b(gem \u3067\u306f\u3084\u3089\u306a\u3044)\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u95a2\u3059\u308b\u30b3\u30fc\u30c9\u306f\u3059\u3079\u3066 app_root/frontend \u306b\u7f6e\u304f\n\u81ea\u5206\u3067\u66f8\u3044\u305f js, jsx \u90e8\n\n\n\napp_root/app/assets/javascripts/dist/main.js \u306b\u51fa\u529b\u3059\u308b\n\n\n\u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea js \u90e8\n\n\n\napp_root/app/assets/javascripts/dist/vendor.js \u306b\u51fa\u529b\u3059\u308b\n\n\n\u81ea\u5206\u3067\u66f8\u3044\u305f css \u90e8\n\n\n\napp_root/app/assets/stylesheet/dist/main.css \u306b\u51fa\u529b\u3059\u308b\n\n\n\u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea css \u90e8\n\n\n\napp_root/app/assets/stylesheet/dist/vendor.css \u306b\u51fa\u529b\u3059\u308b\n\n\n\n\n\u307e\u305a Rails \u304b\u3089\n\n\u8efd\u304f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ncommand\n$ cd ~/\n$ rails new react-test -d mysql\n$ cd react-test\n$ bin/rake db:create db:migrate\n\n\n\n\u691c\u8a3c\u306b\u5fc5\u8981\u306a\u5206\u3060\u3051\u306e\u3001\u6700\u4f4e\u9650\u306e\u30b3\u30fc\u30c9\u66f8\u304f\n\nGemfile.rb\ngem 'slim-rails'\n\n\n\ncommand\n$ bin/rails g controller test\n\n\n\napp/controllers/test_controller.rb\nclass TestController < ApplicationController\n  def index\n  end\nend\n\n\n\napp/views/test/index.html.slim\n#container\n\n\n\nconfig/routes.rb\nroot 'test#index'\n\n\n\ncommand\n$ bin/rails s -b 0.0.0.0\n\n\n\u3053\u308c\u3067\u6e96\u5099\u5b8c\u4e86\u3002\n\nReact \u5c0e\u5165\u6e96\u5099\n\nnode \u3044\u308c\u308b\n\ncommand\n$ curl -L git.io/nodebrew | perl - setup\n# .bashrc, .zshrc \u306a\u3069\u306b PATH \u66f8\u304f\nexport PATH=$HOME/.nodebrew/current/bin:$PATH\n$ source ~/.zshrc\n$ nodebrew ls-remote\n# 20160603 \u6642\u70b9\u3067\u306e Stable \u306f v5.11.1 \u3060\u3063\u305f(https://nodejs.org/en/blog/)\n$ nodebrew install-binary v5.11.1\n$ nodebrew use v5.11.1\n$ node -v\nv5.11.1\n$ npm -v\n3.8.6\n\n\n\napp_root/frontend \u4ee5\u4e0b\u306e\u6e96\u5099\n\ncommand\n$ cd ~/react-test\n$ mkdir frontend\n$ cd frontend\n$ npm init\n# \u3068\u308a\u3042\u3048\u305a\u5168\u90e8\u30a8\u30f3\u30bf\u30fc\u62bc\u3057\u3068\u304f\n\n\n\u3053\u308c\u3067 package.json \u304c\u3068\u308a\u307e\u3067\u304d\u305f\u3002\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u6e96\u5099\n\nReact + ES6 + Babel + Webpack + gulp + Material Design Lite \u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\n\ncommand\n# React \u7528\n$ npm install --save react react-dom react-router react-tap-event-plugin\n# ES6, Babel, Webpack \u7528\n$ npm install --save-dev babel babel-loader babel-core babel-preset-react babel-preset-es2015 webpack\n# gulp \u7528\n$ npm install --save-dev gulp gulp-autoprefixer gulp-concat gulp-concat-css gulp-ruby-sass gulp-webpack\n# Material Design Lite \u7528\n$ gulp install --save material-design-lite\n\n\n--save \u306f\u300c\u30d1\u30c3\u30b1\u30fc\u30b8\uff08\u2252\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\uff09\u306e\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5b9a\u7fa9\u300d\u3089\u3057\u3044\n--save-dev \u306f\u300c\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u958b\u767a\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5b9a\u7fa9\u300d\u3089\u3057\u3044\n\npackage.json\n{\n  \"name\": \"frontend\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"babel\": \"^6.5.2\",\n    \"babel-core\": \"^6.9.1\",\n    \"babel-loader\": \"^6.2.4\",\n    \"babel-preset-es2015\": \"^6.9.0\",\n    \"babel-preset-react\": \"^6.5.0\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-autoprefixer\": \"^3.1.0\",\n    \"gulp-concat\": \"^2.6.0\",\n    \"gulp-concat-css\": \"^2.3.0\",\n    \"gulp-ruby-sass\": \"^2.0.6\",\n    \"gulp-webpack\": \"^1.5.0\",\n    \"webpack\": \"^1.13.1\"\n  },\n  \"dependencies\": {\n    \"material-design-lite\": \"^1.1.3\",\n    \"react\": \"^15.1.0\",\n    \"react-dom\": \"^15.1.0\",\n    \"react-router\": \"^2.4.1\",\n    \"react-tap-event-plugin\": \"^1.0.0\"\n  }\n}\n\n\n\u3053\u3053\u307e\u3067\u3067\u3001package.json \u306f\u3053\u3046\u306a\u3063\u305f\u3002\n\n\u30d3\u30eb\u30c9\u5468\u308a\n\npackage.json\n\"scripts\": {\n  \"build\": \"gulp build\"\n},\n\n\npackage.json \u3092\u4e0a\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\u3059\u308b\u3002\n\u3053\u308c\u3067\u3001$ npm run build \u3067\u3001 $ gulp build \u304c\u8d70\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\ncommand\n$ cd ~/react-test/frontend\n$ vim gulpfile.js\n\n\n\ngulpfile.js\nvar gulp = require('gulp');\nvar webpack = require('gulp-webpack');\nvar concat = require('gulp-concat');\nvar sass = require('gulp-ruby-sass');\nvar autoprefixer = require('gulp-autoprefixer');\nvar concatCss = require('gulp-concat-css');\n\nconst JS_SRC = '';\nconst JS_DEST = '../app/assets/javascripts/dist';\nconst CSS_SRC = 'src/stylesheets/main.scss';\nconst CSS_DEST = '../app/assets/stylesheets/dist';\n\nvar webpackConfig = {\n  entry: {\n    main: './src/javascripts/main.js',\n  },\n  output: {\n    filename: 'main.js'\n  },\n  module: {\n    loaders: [\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'babel?presets[]=react,presets[]=es2015'\n      }\n    ]\n  }\n}\n\ngulp.task('js:main', function() {\n  gulp.src(JS_SRC)\n  .pipe(webpack(webpackConfig))\n  .pipe(gulp.dest(JS_DEST));\n});\n\ngulp.task('js:vendor', function() {\n  gulp.src([\n    'node_modules/material-design-lite/material.min.js'\n  ])\n  .pipe(concat('vendor.js'))\n  .pipe(gulp.dest(JS_DEST));\n});\n\ngulp.task('css:main', function(){\n  sass(CSS_SRC, { style: 'expanded', bundleExec: true })\n  .pipe(autoprefixer())\n  .pipe(concatCss('main.css'))\n  .pipe(gulp.dest(CSS_DEST));\n});\n\ngulp.task('css:vendor', function() {\n  gulp.src([\n    'node_modules/material-design-lite/material.min.css'\n  ])\n  .pipe(concatCss('vendor.css'))\n  .pipe(gulp.dest(CSS_DEST));\n});\n\ngulp.task('build', ['js:main', 'js:vendor', 'css:main', 'css:vendor']);\n\n\n\u3053\u308c\u3067\u3001\n\n\u81ea\u5206\u3067\u66f8\u3044\u305f js, jsx \u90e8\n\n\n\napp_root/app/assets/javascripts/dist/main.js \u306b\u51fa\u529b\u3059\u308b\n\n\n\u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea js \u90e8\n\n\n\napp_root/app/assets/javascripts/dist/vendor.js \u306b\u51fa\u529b\u3059\u308b\n\n\n\u81ea\u5206\u3067\u66f8\u3044\u305f css \u90e8\n\n\n\napp_root/app/assets/stylesheet/dist/main.css \u306b\u51fa\u529b\u3059\u308b\n\n\n\u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea css \u90e8\n\n\n\napp_root/app/assets/stylesheet/dist/vendor.css \u306b\u51fa\u529b\u3059\u308b\n\n\n\n\u3068\u3044\u3046\u76ee\u7684\u304c\u9054\u6210\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\u3053\u308c\u3067\u958b\u767a\u6e96\u5099\u306f\u6574\u3063\u305f\u3002\n\u4e0b\u8a18\u5b9f\u73fe\u3057\u305f\u3044\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u3002\n\napp/frontend\n\u2514\u2500\u2500 app/frontend\n    \u251c\u2500\u2500 gulpfile.js\n    \u251c\u2500\u2500 package.json\n    \u251c\u2500\u2500 src\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 javascripts\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 components\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 test_page\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 fuga.js\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 hoge.js\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 index.js\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 main.js\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 utils\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 stylesheets\n    \u2502\u00a0\u00a0     \u251c\u2500\u2500 main.scss\n    \u2502\u00a0\u00a0     \u2514\u2500\u2500 pages\n    \u2502\u00a0\u00a0         \u2514\u2500\u2500 test_page.scss\n    \u2514\u2500\u2500 test\n\n\n\n\u3053\u3053\u3067\u3082\u3046\u4e00\u5ea6 Rails \u5074\u306e\u8a2d\u5b9a\u3092\u3059\u308b\n\nconfig/initializers/assets.rb\nRails.application.config.assets.precompile += %w(dist/main.js)\nRails.application.config.assets.precompile += %w(dist/vendor.js)\nRails.application.config.assets.precompile += %w(dist/main.css)\nRails.application.config.assets.precompile += %w(dist/vendor.css)\n\n\n\u3053\u308c\u3067\u3001 */dist \u4ee5\u4e0b\u306b\u51fa\u529b\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u3001\u30a2\u30bb\u30c3\u30c8\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306b\u4e57\u305b\u3066\u3001Rails \u5074\u304b\u3089\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\napp/views/layouts/application.html.slim\n= javascript_include_tag 'dist/main'\n= javascript_include_tag 'dist/vendor'\n= stylesheet_link_tag 'dist/main'\n= stylesheet_link_tag 'dist/vendor'\n= stylesheet_link_tag 'https://fonts.googleapis.com/iconfamily=Material+Icons'\n\n\n<body>...</body> \u306e\u6700\u5f8c\u3067\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308b\u70b9\u306b\u6ce8\u610f\u3002\n\nmain.js \u306b\u3064\u3044\u3066\n\napp/frontend/src/javascripts/main.js\nimport React from 'react';\nimport ReactDom from 'react-dom';\nimport { Router, Route, Link, browserHistory } from 'react-router';\nimport injectTapEventPlugin from \"react-tap-event-plugin\";\n\ninjectTapEventPlugin();\n\nimport TestPage from './components/test_page/index';\n\nReactDom.render((\n  <Router history={browserHistory}>\n    <Route path='/' component={TestPage} />\n  </Router>\n),document.querySelector('#container'));\n\n\n\n\nmain.js \u306f Webpack \u3068 gulp \u306b\u3088\u3063\u3066\u3001app_root/app/assets/javascripts/dist/main.js \u306b\u30d3\u30eb\u30c9\u3055\u308c\u308b\u3002\n\nreact-router \u306b\u3088\u308a\u3001\u30de\u30c3\u30c1\u3057\u305f path \u304c\u3042\u308b\u3068\u3001component={XXXXXX} \u3067\u6307\u5b9a\u3057\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8868\u793a\u3057\u3066\u304f\u308c\u308b\u3002\nRails \u5074\u3067\u7528\u610f\u3057\u305f #container \u306b\u3001React \u3067\u66f8\u3044\u305f\u5206\u3092\u307c\u3053\u3063\u3068\u30de\u30a6\u30f3\u30c8\u3059\u308b\u611f\u3058\u3002\n\n\nReact \u3067\u8868\u793a\u3057\u3066\u307f\u308b\n\nfrontend/src/javascripts/components/test_page/index.js\nimport React from 'react';\n\nexport default class TestPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n    };\n  }\n\n  render() {\n    return (\n      <div className='mdl-grid'>\n        <div className='mdl-cell mdl-cell--2-offset mdl-cell--8-col'>\n          <button className='mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect'>ALL IS WELL!</button>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\njs \u306e\u4e88\u7d04\u8a9e\u3068\u306e\u517c\u306d\u5408\u3044\u306b\u3088\u308a\u3001class => className, for => htmlfor \u3068\u66f8\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306a\u3069\u3001jsx \u306f\u3061\u3087\u3063\u3068\u7656\u304c\u3042\u308b\u3002\n\n\n\u8868\u793a\uff01\n\u3055\u3042\u3001\u3053\u3053\u307e\u3067\u304d\u305f\u3089\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u3066\u307f\u3088\u3046\uff01\n\u30de\u30c6\u30ea\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\u3063\u307d\u3044\u30dc\u30bf\u30f3\u304c\u30dd\u30c4\u30ea\u3068\u51fa\u73fe\u3057\u3066\u3044\u308b\u306f\u305a\uff01\n\u3053\u308c\u306b\u3066\u30e2\u30c0\u30f3\u306a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u306e\u7d20\u5730\u4f5c\u308a\u7d42\u4e86\uff01\n\n\n\u30b3\u30fc\u30c9\nhttps://github.com/mugiwaranonoma/react-test\n\u4e00\u5fdc git \u306b\u3042\u3052\u3066\u304a\u3044\u305f\u3002\n\n\u4eca\u5f8c\n\ngulpfile.js \u3082\u3063\u3068\u66f8\u304d\u8fbc\u3093\u3067\u3044\u304b\u306d\u3070(gulp \u89e6\u308b\u306e\u3082\u521d\u3081\u3066\u3060\u3063\u305f)\nredux \u5c0e\u5165\u3057\u305f\u3044\nredux-router(?) \u3067\u3001SPA \u306a\u306e\u306b URL \u304c\u304d\u3061\u3093\u3068\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\nESLint \u3044\u308c\u305f\u3044\nWebpack \u3068 gulp \u304c\u6df7\u5728\u3057\u3066\u308b\u306e\u3069\u3046\u306b\u304b\u3057\u305f\u3044\nnode_modules \u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u3001Webpack \u3082\u30d3\u30eb\u30c9\u3067\u304d\u308b\u306e\u306a\u3089\u3001Webpack \u3060\u3051\u306b\u3067\u304d\u305d\u3046\u306a\u611f\u3058\u306f\u3042\u308b\n\n# React \u89e6\u3063\u3066\u307f\u305f\n* \u5b9f\u306f Qiita \u3067\u8a18\u4e8b\u66f8\u304f\u306e\u521d\u3081\u3066\u3067\u3059\uff01\u3069\u3046\u305e\u304a\u624b\u67d4\u3089\u304b\u306b\uff01\n* \u4e16\u306e\u6d41\u308c\u306b\u3068\u308a\u6b8b\u3055\u308c\u3066\u308b\u611f\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u91cd\u3044\u8170\u3092\u3042\u3052\u3066 React \u306b\u89e6\u308c\u3066\u307f\u305f\u306e\u3067\u305d\u306e\u5099\u5fd8\u9332\u3002\n* \u3067\u304d\u308b\u3060\u3051\u30e2\u30c0\u30f3\u306a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u3092\u3059\u308b\u305f\u3081\u306e\u3001\u7d20\u5730\u3092\u6574\u3048\u308b\u3068\u3053\u308d\u307e\u3067\u3092\u30b4\u30fc\u30eb\u3068\u3059\u308b\u3002\n\n# \u69cb\u6210\n* Rails 4.2.x\n* React\n* ES6\n* Babel\n* Webpack\n* gulp\n* [Material Design Lite](https://getmdl.io/)\n\n# \u65b9\u91dd\n* \u958b\u767a\u74b0\u5883\u306f vagrant(ubuntu) \u3067\u3084\u308b\n* \u65e2\u5b58\u306e Rails \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u4e57\u305b\u308b\n* \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u7ba1\u7406\u306b\u95a2\u3059\u308b\u3082\u306e\u306f\u3001\u3059\u3079\u3066 npm \u3067\u7ba1\u7406\u3059\u308b(gem \u3067\u306f\u3084\u3089\u306a\u3044)\n* \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u95a2\u3059\u308b\u30b3\u30fc\u30c9\u306f\u3059\u3079\u3066 `app_root/frontend` \u306b\u7f6e\u304f\n* \u81ea\u5206\u3067\u66f8\u3044\u305f js, jsx \u90e8\n  * `app_root/app/assets/javascripts/dist/main.js` \u306b\u51fa\u529b\u3059\u308b\n* \u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea js \u90e8\n  * `app_root/app/assets/javascripts/dist/vendor.js` \u306b\u51fa\u529b\u3059\u308b\n* \u81ea\u5206\u3067\u66f8\u3044\u305f css \u90e8\n  * `app_root/app/assets/stylesheet/dist/main.css` \u306b\u51fa\u529b\u3059\u308b\n* \u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea css \u90e8\n  * `app_root/app/assets/stylesheet/dist/vendor.css` \u306b\u51fa\u529b\u3059\u308b\n\n# \u307e\u305a Rails \u304b\u3089\n#### \u8efd\u304f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n```zsh:command\n$ cd ~/\n$ rails new react-test -d mysql\n$ cd react-test\n$ bin/rake db:create db:migrate\n```\n#### \u691c\u8a3c\u306b\u5fc5\u8981\u306a\u5206\u3060\u3051\u306e\u3001\u6700\u4f4e\u9650\u306e\u30b3\u30fc\u30c9\u66f8\u304f\n```rb:Gemfile.rb\ngem 'slim-rails'\n```\n```zsh:command\n$ bin/rails g controller test\n```\n```rb:app/controllers/test_controller.rb\nclass TestController < ApplicationController\n  def index\n  end\nend\n```\n```erb:app/views/test/index.html.slim\n#container\n```\n```rb:config/routes.rb\nroot 'test#index'\n```\n```zsh:command\n$ bin/rails s -b 0.0.0.0\n```\n\n\u3053\u308c\u3067\u6e96\u5099\u5b8c\u4e86\u3002\n\n# React \u5c0e\u5165\u6e96\u5099\n#### node \u3044\u308c\u308b\n```zsh:command\n$ curl -L git.io/nodebrew | perl - setup\n# .bashrc, .zshrc \u306a\u3069\u306b PATH \u66f8\u304f\nexport PATH=$HOME/.nodebrew/current/bin:$PATH\n$ source ~/.zshrc\n$ nodebrew ls-remote\n# 20160603 \u6642\u70b9\u3067\u306e Stable \u306f v5.11.1 \u3060\u3063\u305f(https://nodejs.org/en/blog/)\n$ nodebrew install-binary v5.11.1\n$ nodebrew use v5.11.1\n$ node -v\nv5.11.1\n$ npm -v\n3.8.6\n```\n\n#### app_root/frontend \u4ee5\u4e0b\u306e\u6e96\u5099\n```zsh:command\n$ cd ~/react-test\n$ mkdir frontend\n$ cd frontend\n$ npm init\n# \u3068\u308a\u3042\u3048\u305a\u5168\u90e8\u30a8\u30f3\u30bf\u30fc\u62bc\u3057\u3068\u304f\n```\n\u3053\u308c\u3067 `package.json` \u304c\u3068\u308a\u307e\u3067\u304d\u305f\u3002\n\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u6e96\u5099\n\n#### React + ES6 + Babel + Webpack + gulp + Material Design Lite \u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\n```zsh:command\n# React \u7528\n$ npm install --save react react-dom react-router react-tap-event-plugin\n# ES6, Babel, Webpack \u7528\n$ npm install --save-dev babel babel-loader babel-core babel-preset-react babel-preset-es2015 webpack\n# gulp \u7528\n$ npm install --save-dev gulp gulp-autoprefixer gulp-concat gulp-concat-css gulp-ruby-sass gulp-webpack\n# Material Design Lite \u7528\n$ gulp install --save material-design-lite\n```\n`--save` \u306f\u300c\u30d1\u30c3\u30b1\u30fc\u30b8\uff08\u2252\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\uff09\u306e\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5b9a\u7fa9\u300d\u3089\u3057\u3044\n`--save-dev` \u306f\u300c\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u958b\u767a\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5b9a\u7fa9\u300d\u3089\u3057\u3044\n\n```json:package.json\n{\n  \"name\": \"frontend\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"babel\": \"^6.5.2\",\n    \"babel-core\": \"^6.9.1\",\n    \"babel-loader\": \"^6.2.4\",\n    \"babel-preset-es2015\": \"^6.9.0\",\n    \"babel-preset-react\": \"^6.5.0\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-autoprefixer\": \"^3.1.0\",\n    \"gulp-concat\": \"^2.6.0\",\n    \"gulp-concat-css\": \"^2.3.0\",\n    \"gulp-ruby-sass\": \"^2.0.6\",\n    \"gulp-webpack\": \"^1.5.0\",\n    \"webpack\": \"^1.13.1\"\n  },\n  \"dependencies\": {\n    \"material-design-lite\": \"^1.1.3\",\n    \"react\": \"^15.1.0\",\n    \"react-dom\": \"^15.1.0\",\n    \"react-router\": \"^2.4.1\",\n    \"react-tap-event-plugin\": \"^1.0.0\"\n  }\n}\n```\n\u3053\u3053\u307e\u3067\u3067\u3001`package.json` \u306f\u3053\u3046\u306a\u3063\u305f\u3002\n\n# \u30d3\u30eb\u30c9\u5468\u308a\n```json:package.json\n\"scripts\": {\n  \"build\": \"gulp build\"\n},\n```\n`package.json` \u3092\u4e0a\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\u3059\u308b\u3002\n\u3053\u308c\u3067\u3001`$ npm run build` \u3067\u3001 `$ gulp build` \u304c\u8d70\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n```zsh:command\n$ cd ~/react-test/frontend\n$ vim gulpfile.js\n```\n```js:gulpfile.js\nvar gulp = require('gulp');\nvar webpack = require('gulp-webpack');\nvar concat = require('gulp-concat');\nvar sass = require('gulp-ruby-sass');\nvar autoprefixer = require('gulp-autoprefixer');\nvar concatCss = require('gulp-concat-css');\n\nconst JS_SRC = '';\nconst JS_DEST = '../app/assets/javascripts/dist';\nconst CSS_SRC = 'src/stylesheets/main.scss';\nconst CSS_DEST = '../app/assets/stylesheets/dist';\n\nvar webpackConfig = {\n  entry: {\n    main: './src/javascripts/main.js',\n  },\n  output: {\n    filename: 'main.js'\n  },\n  module: {\n    loaders: [\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'babel?presets[]=react,presets[]=es2015'\n      }\n    ]\n  }\n}\n\ngulp.task('js:main', function() {\n  gulp.src(JS_SRC)\n  .pipe(webpack(webpackConfig))\n  .pipe(gulp.dest(JS_DEST));\n});\n\ngulp.task('js:vendor', function() {\n  gulp.src([\n    'node_modules/material-design-lite/material.min.js'\n  ])\n  .pipe(concat('vendor.js'))\n  .pipe(gulp.dest(JS_DEST));\n});\n\ngulp.task('css:main', function(){\n  sass(CSS_SRC, { style: 'expanded', bundleExec: true })\n  .pipe(autoprefixer())\n  .pipe(concatCss('main.css'))\n  .pipe(gulp.dest(CSS_DEST));\n});\n\ngulp.task('css:vendor', function() {\n  gulp.src([\n    'node_modules/material-design-lite/material.min.css'\n  ])\n  .pipe(concatCss('vendor.css'))\n  .pipe(gulp.dest(CSS_DEST));\n});\n\ngulp.task('build', ['js:main', 'js:vendor', 'css:main', 'css:vendor']);\n```\n\u3053\u308c\u3067\u3001\n\n* \u81ea\u5206\u3067\u66f8\u3044\u305f js, jsx \u90e8\n  * `app_root/app/assets/javascripts/dist/main.js` \u306b\u51fa\u529b\u3059\u308b\n* \u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea js \u90e8\n  * `app_root/app/assets/javascripts/dist/vendor.js` \u306b\u51fa\u529b\u3059\u308b\n* \u81ea\u5206\u3067\u66f8\u3044\u305f css \u90e8\n  * `app_root/app/assets/stylesheet/dist/main.css` \u306b\u51fa\u529b\u3059\u308b\n* \u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea css \u90e8\n  * `app_root/app/assets/stylesheet/dist/vendor.css` \u306b\u51fa\u529b\u3059\u308b\n\n\u3068\u3044\u3046\u76ee\u7684\u304c\u9054\u6210\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\u3053\u308c\u3067\u958b\u767a\u6e96\u5099\u306f\u6574\u3063\u305f\u3002\n\u4e0b\u8a18\u5b9f\u73fe\u3057\u305f\u3044\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u3002\n\n```zsh:app/frontend\n\u2514\u2500\u2500 app/frontend\n    \u251c\u2500\u2500 gulpfile.js\n    \u251c\u2500\u2500 package.json\n    \u251c\u2500\u2500 src\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 javascripts\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 components\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 test_page\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 fuga.js\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 hoge.js\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 index.js\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 main.js\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 utils\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 stylesheets\n    \u2502\u00a0\u00a0     \u251c\u2500\u2500 main.scss\n    \u2502\u00a0\u00a0     \u2514\u2500\u2500 pages\n    \u2502\u00a0\u00a0         \u2514\u2500\u2500 test_page.scss\n    \u2514\u2500\u2500 test\n```\n\n# \u3053\u3053\u3067\u3082\u3046\u4e00\u5ea6 Rails \u5074\u306e\u8a2d\u5b9a\u3092\u3059\u308b\n```rb:config/initializers/assets.rb\nRails.application.config.assets.precompile += %w(dist/main.js)\nRails.application.config.assets.precompile += %w(dist/vendor.js)\nRails.application.config.assets.precompile += %w(dist/main.css)\nRails.application.config.assets.precompile += %w(dist/vendor.css)\n```\n\u3053\u308c\u3067\u3001 `*/dist` \u4ee5\u4e0b\u306b\u51fa\u529b\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u3001\u30a2\u30bb\u30c3\u30c8\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306b\u4e57\u305b\u3066\u3001Rails \u5074\u304b\u3089\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n```rb:app/views/layouts/application.html.slim\n= javascript_include_tag 'dist/main'\n= javascript_include_tag 'dist/vendor'\n= stylesheet_link_tag 'dist/main'\n= stylesheet_link_tag 'dist/vendor'\n= stylesheet_link_tag 'https://fonts.googleapis.com/iconfamily=Material+Icons'\n```\n`<body>...</body>` \u306e\u6700\u5f8c\u3067\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308b\u70b9\u306b\u6ce8\u610f\u3002\n\n# main.js \u306b\u3064\u3044\u3066\n```js:app/frontend/src/javascripts/main.js\nimport React from 'react';\nimport ReactDom from 'react-dom';\nimport { Router, Route, Link, browserHistory } from 'react-router';\nimport injectTapEventPlugin from \"react-tap-event-plugin\";\n\ninjectTapEventPlugin();\n\nimport TestPage from './components/test_page/index';\n\nReactDom.render((\n  <Router history={browserHistory}>\n    <Route path='/' component={TestPage} />\n  </Router>\n),document.querySelector('#container'));\n```\n\n* `main.js` \u306f Webpack \u3068 gulp \u306b\u3088\u3063\u3066\u3001`app_root/app/assets/javascripts/dist/main.js` \u306b\u30d3\u30eb\u30c9\u3055\u308c\u308b\u3002\n* `react-router` \u306b\u3088\u308a\u3001\u30de\u30c3\u30c1\u3057\u305f path \u304c\u3042\u308b\u3068\u3001`component={XXXXXX}` \u3067\u6307\u5b9a\u3057\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8868\u793a\u3057\u3066\u304f\u308c\u308b\u3002\n* Rails \u5074\u3067\u7528\u610f\u3057\u305f `#container` \u306b\u3001React \u3067\u66f8\u3044\u305f\u5206\u3092\u307c\u3053\u3063\u3068\u30de\u30a6\u30f3\u30c8\u3059\u308b\u611f\u3058\u3002\n\n# React \u3067\u8868\u793a\u3057\u3066\u307f\u308b\n```js:frontend/src/javascripts/components/test_page/index.js\nimport React from 'react';\n\nexport default class TestPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n    };\n  }\n\n  render() {\n    return (\n      <div className='mdl-grid'>\n        <div className='mdl-cell mdl-cell--2-offset mdl-cell--8-col'>\n          <button className='mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect'>ALL IS WELL!</button>\n        </div>\n      </div>\n    );\n  }\n}\n```\n\n* js \u306e\u4e88\u7d04\u8a9e\u3068\u306e\u517c\u306d\u5408\u3044\u306b\u3088\u308a\u3001`class` => `className`, `for` => `htmlfor` \u3068\u66f8\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306a\u3069\u3001jsx \u306f\u3061\u3087\u3063\u3068\u7656\u304c\u3042\u308b\u3002\n\n# \u8868\u793a\uff01\n\u3055\u3042\u3001\u3053\u3053\u307e\u3067\u304d\u305f\u3089\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u3066\u307f\u3088\u3046\uff01\n\u30de\u30c6\u30ea\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\u3063\u307d\u3044\u30dc\u30bf\u30f3\u304c\u30dd\u30c4\u30ea\u3068\u51fa\u73fe\u3057\u3066\u3044\u308b\u306f\u305a\uff01\n\u3053\u308c\u306b\u3066\u30e2\u30c0\u30f3\u306a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u306e\u7d20\u5730\u4f5c\u308a\u7d42\u4e86\uff01\n<img width=\"672\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-04 0.58.01.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/65535/a9573346-4c3c-2e99-dcfc-e026d762c3fe.png\">\n\n# \u30b3\u30fc\u30c9\nhttps://github.com/mugiwaranonoma/react-test\n\u4e00\u5fdc git \u306b\u3042\u3052\u3066\u304a\u3044\u305f\u3002\n\n# \u4eca\u5f8c\n* gulpfile.js \u3082\u3063\u3068\u66f8\u304d\u8fbc\u3093\u3067\u3044\u304b\u306d\u3070(gulp \u89e6\u308b\u306e\u3082\u521d\u3081\u3066\u3060\u3063\u305f)\n* redux \u5c0e\u5165\u3057\u305f\u3044\n* redux-router(?) \u3067\u3001SPA \u306a\u306e\u306b URL \u304c\u304d\u3061\u3093\u3068\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\n* ESLint \u3044\u308c\u305f\u3044\n* Webpack \u3068 gulp \u304c\u6df7\u5728\u3057\u3066\u308b\u306e\u3069\u3046\u306b\u304b\u3057\u305f\u3044\n* node_modules \u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u3001Webpack \u3082\u30d3\u30eb\u30c9\u3067\u304d\u308b\u306e\u306a\u3089\u3001Webpack \u3060\u3051\u306b\u3067\u304d\u305d\u3046\u306a\u611f\u3058\u306f\u3042\u308b\n", "tags": ["React", "es6", "Rails", "webpack", "gulp"]}