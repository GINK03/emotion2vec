{"context": "\n\n\u57fa\u672c\u69cb\u6210\ncircle.yml \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306b\u7f6e\u3044\u3066\u7ba1\u7406\u3059\u308b\u3002\nhttps://circleci.com/docs/configuration/\n\u3053\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u5927\u304d\u304f6\u3064\u306e\u30a8\u30f3\u30c8\u30ea\u304b\u3089\u306a\u308a\u3001\u305d\u308c\u305e\u308c\u4ee5\u4e0b\u3092\u62c5\u3046\u3068\u306e\u3053\u3068\u3002\n\nmachine: adjusting the VM to your preferences and requirements\ncheckout: checking out and cloning your git repo\ndependencies: setting up your project\u2019s language-specific dependencies\ndatabase: preparing the databases for your tests\ntest: running your tests\ndeployment: deploying your code to your web servers\n\n\u5404\u30bb\u30af\u30b7\u30e7\u30f3\u306f\u3001pre/override/post\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u5b9f\u884c\u3059\u308bbash\u30b3\u30de\u30f3\u30c9\u3092\u6307\u5b9a\u3067\u304d\u308b\u3002 \npre: commands run before CircleCI\u2019s inferred commands\noverride: CircleCI\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5b9f\u884c\u3059\u308b\u4e88\u5b9a\u306e\u30b3\u30de\u30f3\u30c9\u3092\u7f6e\u304d\u63db\u3048\u308b\npost: commands run after CircleCI\u2019s inferred commands\n\nPHP \u306e\u8a2d\u5b9a\nhttps://circleci.com/docs/language-php/\n\nMachine\nUbuntu\u304c\u7528\u610f\u3055\u308c\u308b\u6a21\u69d8\u3002\nversion \u306b\u3066PHP\u69cb\u6210\u306e\u6307\u5b9a\u304c\u53ef\u80fd\nmachine:\n  php:\n    version: 7.0.4\n\n\u5229\u7528\u53ef\u80fd\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u306f https://circleci.com/docs/build-image-trusty/#php \u3092\u78ba\u8a8d\nmachine.environment\u306e\u4e0b\u306b\u30de\u30c3\u30d7\u3092\u7f6e\u3044\u3066\u74b0\u5883\u5909\u6570\u306e\u5b9a\u7fa9\u3082\u53ef\u80fd \n\ndependencies\n\u57fa\u672c\u7684\u306b\u306f composer install \u304c\u6d41\u308c\u308b\u3002\nPECL \u7b49\u3067\u62e1\u5f35\u6a5f\u80fd\u306e\u5c0e\u5165\u304c\u53ef\u80fd\u3002\ndependencies:\n  pre:\n    - pecl install mongo\n\nphp.ini\u306e\u5909\u66f4\u3082\u4ee5\u4e0b\u306e\u69d8\u306a\u5f62\u3067\u884c\u3048\u308b\u3002\ndependencies:\n  pre:\n    - cp config/custom.ini /opt/circleci/php/$(phpenv global)/etc/conf.d/\n\ndependencies:\n  pre:\n    - echo \"memory_limit = 64M\" > /opt/circleci/php/$(phpenv global)/etc/conf.d/memory.ini  \n\n\ndatabase\n\u8272\u3005\u306aDatabase\u304c\u4f7f\u3048\u308b\u3068\u306e\u3053\u3068\u3002\n\ntest\nphpunit \u304c\u8d70\u308b\u3002\n\n## \u57fa\u672c\u69cb\u6210\n\ncircle.yml \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306b\u7f6e\u3044\u3066\u7ba1\u7406\u3059\u308b\u3002\n\nhttps://circleci.com/docs/configuration/\n\n\u3053\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u5927\u304d\u304f6\u3064\u306e\u30a8\u30f3\u30c8\u30ea\u304b\u3089\u306a\u308a\u3001\u305d\u308c\u305e\u308c\u4ee5\u4e0b\u3092\u62c5\u3046\u3068\u306e\u3053\u3068\u3002\n\n- machine: adjusting the VM to your preferences and requirements\n- checkout: checking out and cloning your git repo\n- dependencies: setting up your project\u2019s language-specific dependencies\n- database: preparing the databases for your tests\n- test: running your tests\n- deployment: deploying your code to your web servers\n\n\u5404\u30bb\u30af\u30b7\u30e7\u30f3\u306f\u3001`pre`/`override`/`post`\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u5b9f\u884c\u3059\u308bbash\u30b3\u30de\u30f3\u30c9\u3092\u6307\u5b9a\u3067\u304d\u308b\u3002 \n\npre: commands run before CircleCI\u2019s inferred commands\noverride: CircleCI\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5b9f\u884c\u3059\u308b\u4e88\u5b9a\u306e\u30b3\u30de\u30f3\u30c9\u3092\u7f6e\u304d\u63db\u3048\u308b\npost: commands run after CircleCI\u2019s inferred commands\n\n\n## PHP \u306e\u8a2d\u5b9a\n\nhttps://circleci.com/docs/language-php/\n\n### Machine \n\n`Ubuntu`\u304c\u7528\u610f\u3055\u308c\u308b\u6a21\u69d8\u3002\n\nversion \u306b\u3066PHP\u69cb\u6210\u306e\u6307\u5b9a\u304c\u53ef\u80fd\n\n````\nmachine:\n  php:\n    version: 7.0.4\n````\n\n\u5229\u7528\u53ef\u80fd\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u306f https://circleci.com/docs/build-image-trusty/#php \u3092\u78ba\u8a8d\n\n`machine.environment`\u306e\u4e0b\u306b\u30de\u30c3\u30d7\u3092\u7f6e\u3044\u3066\u74b0\u5883\u5909\u6570\u306e\u5b9a\u7fa9\u3082\u53ef\u80fd \n\n### dependencies\n\n\u57fa\u672c\u7684\u306b\u306f `composer install` \u304c\u6d41\u308c\u308b\u3002\n\nPECL \u7b49\u3067\u62e1\u5f35\u6a5f\u80fd\u306e\u5c0e\u5165\u304c\u53ef\u80fd\u3002\n\n````\ndependencies:\n  pre:\n    - pecl install mongo\n````\n\nphp.ini\u306e\u5909\u66f4\u3082\u4ee5\u4e0b\u306e\u69d8\u306a\u5f62\u3067\u884c\u3048\u308b\u3002\n\n````\ndependencies:\n  pre:\n    - cp config/custom.ini /opt/circleci/php/$(phpenv global)/etc/conf.d/\n````\n\n````\ndependencies:\n  pre:\n    - echo \"memory_limit = 64M\" > /opt/circleci/php/$(phpenv global)/etc/conf.d/memory.ini  \n````\n\n### database \n\n\u8272\u3005\u306aDatabase\u304c\u4f7f\u3048\u308b\u3068\u306e\u3053\u3068\u3002\n\n### test\n\nphpunit \u304c\u8d70\u308b\u3002\n", "tags": ["CircleCI", "PHP"]}