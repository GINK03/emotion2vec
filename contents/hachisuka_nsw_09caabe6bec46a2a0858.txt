{"context": "RGB\u304b\u3089Lab\u8272\u7a7a\u9593\u306b\u5909\u63db\u3059\u308bJavaScript\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\u5909\u63db\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306f\u4ee5\u4e0b\u306ewikipedia\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\nsRGB#The reverse transformation - wikipedia\nLab color space#CIELAB-CIEXYZ conversions - wikipedia\n\nRGB\u304b\u3089Lab\u306b\u5909\u63db\u3059\u308b\u305f\u3081\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u63a2\u3057\u3066\u307f\u305f\u306e\u3067\u3059\u304c\u3001\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u305f\u3081\u3001RGB\u304b\u3089XYZ\u306b\u5909\u63db\u3057\u3066\u3001XYZ\u304b\u3089Lab\u306b\u5909\u63db\u3068\u3044\u3063\u305f\u4e8b\u3092\u884c\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nrgbToLab\nfunction rgbToLab(r,g,b) {\n    //https://en.wikipedia.org/wiki/SRGB#The_reverse_transformation\n    var r = r / 255;\n    var g = g / 255;\n    var b = b / 255;\n\n    r = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n    g = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n    b = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n    var x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n    var y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n    var z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n    //https://en.wikipedia.org/wiki/Lab_color_space#CIELAB-CIEXYZ_conversions\n    var L;\n    var a;\n    var b;\n\n    x *= 100;\n    y *= 100;\n    z *= 100;\n\n    x /= 95.047;\n    y /= 100;\n    z /= 108.883;\n\n    x = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (4 / 29);\n    y = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (4 / 29);\n    z = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (4 / 29);\n\n    L = (116 * y) - 16;\n    a = 500 * (x - y);\n    b = 200 * (y - z);\n\n    return [L, a, b];\n}\n\n\nRGB\u304b\u3089Lab\u8272\u7a7a\u9593\u306b\u5909\u63db\u3059\u308bJavaScript\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\u5909\u63db\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306f\u4ee5\u4e0b\u306ewikipedia\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n- [sRGB#The reverse transformation - wikipedia](https://en.wikipedia.org/wiki/SRGB#The_reverse_transformation)\n- [Lab color space#CIELAB-CIEXYZ conversions - wikipedia](https://en.wikipedia.org/wiki/Lab_color_space#CIELAB-CIEXYZ_conversions)\n\nRGB\u304b\u3089Lab\u306b\u5909\u63db\u3059\u308b\u305f\u3081\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u63a2\u3057\u3066\u307f\u305f\u306e\u3067\u3059\u304c\u3001\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u305f\u3081\u3001RGB\u304b\u3089XYZ\u306b\u5909\u63db\u3057\u3066\u3001XYZ\u304b\u3089Lab\u306b\u5909\u63db\u3068\u3044\u3063\u305f\u4e8b\u3092\u884c\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```js:rgbToLab\nfunction rgbToLab(r,g,b) {\n\t//https://en.wikipedia.org/wiki/SRGB#The_reverse_transformation\n\tvar r = r / 255;\n\tvar g = g / 255;\n\tvar b = b / 255;\n\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\t//https://en.wikipedia.org/wiki/Lab_color_space#CIELAB-CIEXYZ_conversions\n\tvar L;\n\tvar a;\n\tvar b;\n\n\tx *= 100;\n\ty *= 100;\n\tz *= 100;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (4 / 29);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (4 / 29);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (4 / 29);\n\n\tL = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [L, a, b];\n}\n```\n", "tags": ["JavaScript", "color", "\u8272", "\u8272\u7a7a\u9593"]}