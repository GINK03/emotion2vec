{"context": "\u554f\u984c\u306f\u3053\u3061\u3089\n\nhttp://qiita.com/Nabetani/items/c516875b13a4d282affe\n\n\u7d20\u76f4\u306b\u305d\u308c\u305e\u308c\u306e\u9053\u3092\u9032\u3093\u3067\u6700\u5f8c\u307e\u3067\u5230\u9054\u3067\u304d\u308b\u304b\u3092\u8abf\u3079\u3066\u3044\u307e\u3059\u3002\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\n\n// \u3069\u304d\u3069\u304d\u30c8\u30ed\u30c3\u30b3 \u6a2a\u3078\u306a2016.7.2 \u554f\u984c\n// http://nabetani.sakura.ne.jp/hena/orde05dokitruck/\n\nclass Program {\n    static int[] Next(int n) {\n        // -1 => \u5206\u5c90\u306a\u3057\n        // -2 => x \u5370\n        switch (n) {\n        case 1: return new[] { 1, 2, -1 };\n        case 2: return new[] { 2, -1, 1 };\n        case 3: return new[] { 2, 0, -1 };\n        case 4: return new[] { -1, 0, 1 };\n        case 5: return new[] { -1, 2, 0 };\n        case 6: return new[] { 1, -1, 0 };\n        case 7: return new[] { -1, -2, -1 };\n        case 8: return new[] { -2, -1, -1 };\n        case 9: return new[] { -1, -1, -2 };\n        }\n        throw new ArgumentException();\n    }\n\n    static bool Calc_1(int x, int p, int[] xs) {\n        if (p == xs.Length) return true;\n\n        var next = Next(xs[p]);\n        if (next[x] == -2) return false; // x \u5370\n\n        bool goal = Calc_1(x, p + 1, xs); // \u540c\u3058\u9053\u3092\u9032\u3080\n        if (!goal && next[x] >= 0) { // \u5206\u304b\u308c\u9053\u3092\u9032\u3080\n            goal = Calc_1(next[x], p + 1, xs);\n        }\n        return goal;\n    }\n\n    static string Calc(string input) {\n        var xs = input.Select(c => c - '0').ToArray();\n        string ans = \"\";\n        for (int i = 0; i < 3; i++) {\n            if (Calc_1(i, 0, xs)) {\n                ans += (char)('a' + i);\n            }\n        }\n        return ans.Length > 0 ? ans : \"-\";\n    }\n\n    static void test(string input, string output) {\n        var got = Calc(input);\n        if (got == output) {\n            Console.WriteLine(\"ok\");\n        }\n        else {\n            Console.WriteLine(\"ng {0} {1} got:{2}\", input, output, got);\n            throw new Exception();\n        }\n    }\n\n    static void Main() {\n        /*0*/ test( \"1728398\", \"bc\" );\n        /*1*/ test( \"789\", \"-\" );\n        /*2*/ test( \"274\", \"ac\" );\n        /*3*/ test( \"185\", \"abc\" );\n        /*4*/ test( \"396\", \"ab\" );\n        /*5*/ test( \"1278\", \"abc\" );\n        /*6*/ test( \"7659832\", \"a\" );\n        /*7*/ test( \"178\", \"bc\" );\n        /*8*/ test( \"189\", \"ab\" );\n        /*9*/ test( \"197\", \"a\" );\n        /*10*/ test( \"278\", \"ac\" );\n        /*11*/ test( \"289\", \"bc\" );\n        /*12*/ test( \"297\", \"a\" );\n        /*13*/ test( \"378\", \"ac\" );\n        /*14*/ test( \"389\", \"b\" );\n        /*15*/ test( \"397\", \"ab\" );\n        /*16*/ test( \"478\", \"c\" );\n        /*17*/ test( \"489\", \"bc\" );\n        /*18*/ test( \"497\", \"ab\" );\n        /*19*/ test( \"578\", \"bc\" );\n        /*20*/ test( \"589\", \"b\" );\n        /*21*/ test( \"597\", \"ac\" );\n        /*22*/ test( \"678\", \"c\" );\n        /*23*/ test( \"689\", \"ab\" );\n        /*24*/ test( \"697\", \"ac\" );\n        /*25*/ test( \"899\", \"b\" );\n        /*26*/ test( \"7172\", \"ac\" );\n        /*27*/ test( \"54787\", \"bc\" );\n        /*28*/ test( \"83713\", \"bc\" );\n        /*29*/ test( \"149978\", \"-\" );\n        /*30*/ test( \"159735\", \"abc\" );\n        /*31*/ test( \"1449467\", \"abc\" );\n        /*32*/ test( \"9862916\", \"b\" );\n        /*33*/ test( \"96112873\", \"ab\" );\n        /*34*/ test( \"311536789\", \"-\" );\n        /*35*/ test( \"281787212994\", \"abc\" );\n        /*36*/ test( \"697535114542\", \"ac\" );\n    }\n}\n\n\n\u554f\u984c\u306f\u3053\u3061\u3089\n\n- http://qiita.com/Nabetani/items/c516875b13a4d282affe\n\n\u7d20\u76f4\u306b\u305d\u308c\u305e\u308c\u306e\u9053\u3092\u9032\u3093\u3067\u6700\u5f8c\u307e\u3067\u5230\u9054\u3067\u304d\u308b\u304b\u3092\u8abf\u3079\u3066\u3044\u307e\u3059\u3002\n\n\n```csharp\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\n\n// \u3069\u304d\u3069\u304d\u30c8\u30ed\u30c3\u30b3 \u6a2a\u3078\u306a2016.7.2 \u554f\u984c\n// http://nabetani.sakura.ne.jp/hena/orde05dokitruck/\n\nclass Program {\n    static int[] Next(int n) {\n        // -1 => \u5206\u5c90\u306a\u3057\n        // -2 => x \u5370\n        switch (n) {\n        case 1: return new[] { 1, 2, -1 };\n        case 2: return new[] { 2, -1, 1 };\n        case 3: return new[] { 2, 0, -1 };\n        case 4: return new[] { -1, 0, 1 };\n        case 5: return new[] { -1, 2, 0 };\n        case 6: return new[] { 1, -1, 0 };\n        case 7: return new[] { -1, -2, -1 };\n        case 8: return new[] { -2, -1, -1 };\n        case 9: return new[] { -1, -1, -2 };\n        }\n        throw new ArgumentException();\n    }\n\n    static bool Calc_1(int x, int p, int[] xs) {\n        if (p == xs.Length) return true;\n\n        var next = Next(xs[p]);\n        if (next[x] == -2) return false; // x \u5370\n\n        bool goal = Calc_1(x, p + 1, xs); // \u540c\u3058\u9053\u3092\u9032\u3080\n        if (!goal && next[x] >= 0) { // \u5206\u304b\u308c\u9053\u3092\u9032\u3080\n            goal = Calc_1(next[x], p + 1, xs);\n        }\n        return goal;\n    }\n\n    static string Calc(string input) {\n        var xs = input.Select(c => c - '0').ToArray();\n        string ans = \"\";\n        for (int i = 0; i < 3; i++) {\n            if (Calc_1(i, 0, xs)) {\n                ans += (char)('a' + i);\n            }\n        }\n        return ans.Length > 0 ? ans : \"-\";\n    }\n\n    static void test(string input, string output) {\n        var got = Calc(input);\n        if (got == output) {\n            Console.WriteLine(\"ok\");\n        }\n        else {\n            Console.WriteLine(\"ng {0} {1} got:{2}\", input, output, got);\n            throw new Exception();\n        }\n    }\n\n    static void Main() {\n        /*0*/ test( \"1728398\", \"bc\" );\n        /*1*/ test( \"789\", \"-\" );\n        /*2*/ test( \"274\", \"ac\" );\n        /*3*/ test( \"185\", \"abc\" );\n        /*4*/ test( \"396\", \"ab\" );\n        /*5*/ test( \"1278\", \"abc\" );\n        /*6*/ test( \"7659832\", \"a\" );\n        /*7*/ test( \"178\", \"bc\" );\n        /*8*/ test( \"189\", \"ab\" );\n        /*9*/ test( \"197\", \"a\" );\n        /*10*/ test( \"278\", \"ac\" );\n        /*11*/ test( \"289\", \"bc\" );\n        /*12*/ test( \"297\", \"a\" );\n        /*13*/ test( \"378\", \"ac\" );\n        /*14*/ test( \"389\", \"b\" );\n        /*15*/ test( \"397\", \"ab\" );\n        /*16*/ test( \"478\", \"c\" );\n        /*17*/ test( \"489\", \"bc\" );\n        /*18*/ test( \"497\", \"ab\" );\n        /*19*/ test( \"578\", \"bc\" );\n        /*20*/ test( \"589\", \"b\" );\n        /*21*/ test( \"597\", \"ac\" );\n        /*22*/ test( \"678\", \"c\" );\n        /*23*/ test( \"689\", \"ab\" );\n        /*24*/ test( \"697\", \"ac\" );\n        /*25*/ test( \"899\", \"b\" );\n        /*26*/ test( \"7172\", \"ac\" );\n        /*27*/ test( \"54787\", \"bc\" );\n        /*28*/ test( \"83713\", \"bc\" );\n        /*29*/ test( \"149978\", \"-\" );\n        /*30*/ test( \"159735\", \"abc\" );\n        /*31*/ test( \"1449467\", \"abc\" );\n        /*32*/ test( \"9862916\", \"b\" );\n        /*33*/ test( \"96112873\", \"ab\" );\n        /*34*/ test( \"311536789\", \"-\" );\n        /*35*/ test( \"281787212994\", \"abc\" );\n        /*36*/ test( \"697535114542\", \"ac\" );\n    }\n}\n```\n", "tags": ["yhpg", "\u3069\u3046\u66f8\u304f", "C#"]}