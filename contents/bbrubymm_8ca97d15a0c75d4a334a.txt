{"context": " More than 1 year has passed since last update.\nRuby1.9.2-p326\u304b\u30892.2.3p173\u306b\u30a2\u30c3\u30d7\u3002Rails\u306f3.2.17\n\n\n ActiveSupport\u306eHash\u306b\u8a2d\u5b9a\u3057\u305f\u5024\u304c\u53d6\u308c\u306a\u304f\u306a\u3063\u3066\u3044\u308b \n\n\n\n   5:                                       add_params[:cmd],\n(byebug) p add_params[:cmd] #\u5024\u304c\u53d6\u308c\u306a\u3044\uff01\n\n(byebug) p add_params #\u5024\u306f\u5165\u3063\u3066\u3044\u308b\n{\"cmd\"=>\"listALL\"}\n\n\n\u30af\u30e9\u30b9\u3092\u8abf\u3079\u3066\u307f\u308b\n\n(byebug) p add_params.class #Hash\u306b\u306a\u3063\u3066\u308b\nHash\n(byebug)\n   146:     debugger\n=> 147:     add_params.reject{|k, v| EXCEPT_PARAM.include?(k.downcase)}\n   148:   end\n(byebug) p add_params.class\nActiveSupport::HashWithIndifferentAccess #reject\u524d\u306fHashWithIndifferentAccess\u30af\u30e9\u30b9\n(byebug) p add_params.reject{|k, v| EXCEPT_PARAM.include?(k.downcase)}.class\nHash #reject\u5f8cHash\u30af\u30e9\u30b9\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\uff01\uff01\n(byebug)\n\n\n\nreject\u3059\u308b\u3068\u30af\u30e9\u30b9\u304cActiveSupport::HashWithIndifferentAccess\u304b\u3089Hash\u306b\u5909\u308f\u3063\u3066\u3057\u307e\u3046\uff01\uff01\n\nRuby 2.1.1 \u3067 Hash#reject \u306e\u30c7\u30b0\u30ec\u3089\u3057\u3044\n\n\n\u76f4\u3059\u65b9\u6cd5\n\n   change_params = add_params.reject{|k, v| EXCEPT_PARAM.include?(k.downcase)}\n   change(change_params)\n\u2026\n  def change(change_params)\n    change_params.each_with_object(ActiveSupport::HashWithIndifferentAccess.new){|(k, v), h| h[k] = v}\n  end\n\n\n\nreject\u3057\u305f\u5f8c\u306bHashWithIndifferentAccess\u30af\u30e9\u30b9\u306b\u623b\u3059\u3088\u3046\u306b\u3057\u305f\u2026\u4ed6\u306b\u3044\u3044\u4fee\u6b63\u65b9\u6cd5\u3042\u3063\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n- Ruby1.9.2-p326\u304b\u30892.2.3p173\u306b\u30a2\u30c3\u30d7\u3002Rails\u306f3.2.17\n -  ActiveSupport\u306eHash\u306b\u8a2d\u5b9a\u3057\u305f\u5024\u304c\u53d6\u308c\u306a\u304f\u306a\u3063\u3066\u3044\u308b \n\n```rb\n   5:                                       add_params[:cmd],\n(byebug) p add_params[:cmd] #\u5024\u304c\u53d6\u308c\u306a\u3044\uff01\n\n(byebug) p add_params #\u5024\u306f\u5165\u3063\u3066\u3044\u308b\n{\"cmd\"=>\"listALL\"}\n```\n\n- \u30af\u30e9\u30b9\u3092\u8abf\u3079\u3066\u307f\u308b\n\n```rb\n(byebug) p add_params.class #Hash\u306b\u306a\u3063\u3066\u308b\nHash\n(byebug)\n   146:     debugger\n=> 147:     add_params.reject{|k, v| EXCEPT_PARAM.include?(k.downcase)}\n   148:   end\n(byebug) p add_params.class\nActiveSupport::HashWithIndifferentAccess #reject\u524d\u306fHashWithIndifferentAccess\u30af\u30e9\u30b9\n(byebug) p add_params.reject{|k, v| EXCEPT_PARAM.include?(k.downcase)}.class\nHash #reject\u5f8cHash\u30af\u30e9\u30b9\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\uff01\uff01\n(byebug)\n```\n\n- reject\u3059\u308b\u3068\u30af\u30e9\u30b9\u304cActiveSupport::HashWithIndifferentAccess\u304b\u3089Hash\u306b\u5909\u308f\u3063\u3066\u3057\u307e\u3046\uff01\uff01\n - [Ruby 2.1.1 \u3067 Hash#reject \u306e\u30c7\u30b0\u30ec\u3089\u3057\u3044](http://diary.sorah.jp/2014/02/28/ruby211-hash-reject)\n\n- \u76f4\u3059\u65b9\u6cd5\n\n```rb\n   change_params = add_params.reject{|k, v| EXCEPT_PARAM.include?(k.downcase)}\n   change(change_params)\n\u2026\n  def change(change_params)\n    change_params.each_with_object(ActiveSupport::HashWithIndifferentAccess.new){|(k, v), h| h[k] = v}\n  end\n\n```\n\n- reject\u3057\u305f\u5f8c\u306bHashWithIndifferentAccess\u30af\u30e9\u30b9\u306b\u623b\u3059\u3088\u3046\u306b\u3057\u305f\u2026\u4ed6\u306b\u3044\u3044\u4fee\u6b63\u65b9\u6cd5\u3042\u3063\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n", "tags": ["Ruby", "Rails", "Gem", "activesupport"]}