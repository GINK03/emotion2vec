{"context": "\n\n\u78ba\u8a8d\u74b0\u5883\n\n Unity\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f5.5.0f3\n Google Mobile Ads Unity Plugin\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f3.1.3\n\n\n\n\u4e8b\u8c61\nUnity\u3067\u4f5c\u3063\u305f\u30a2\u30d7\u30ea\u306bAdMob\u3092\u8868\u793a\u3055\u305b\u308b\u305f\u3081\u306bGoogle Mobile Ads Unity Plugin\u3092\u5c0e\u5165\u3057\u3088\u3046\u3068\u3057\u307e\u3057\u305f\u304c\u3001Unity Cloud Build\u4e0a\u3067iOS\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002\uff08Android\u306e\u30d3\u30eb\u30c9\u306f\u6b63\u5e38\u306b\u3067\u304d\u307e\u3059\uff09\n\nlog1.txt\n2479: [Unity] 'pod' command not found; unable to generate a usable Xcode project. You can install cocoapods with the Ruby gem package manager:\n2480: [Unity]  > sudo gem install -n /usr/local/bin cocoapods\n2481: [Unity]  > pod setup\n\n\n\nlog2.txt\n2491: [Unity] Error running cocoapods. Please ensure you have at least version  1.0.0.  You can install cocoapods with the Ruby gem package manager:\n2492: [Unity]  > sudo gem install -n /usr/local/bin cocoapods\n2493: [Unity]  > pod setup\n2494: [Unity] 'pod --version' returned status: 1\n2495: [Unity] output:\n\n\n\n\u539f\u56e0\nGoogle Mobile Ads Unity Plugin\u306e\u5185\u90e8\u3067iOS\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306bCocoaPods\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u3001Unity Cloud Build\u4e0a\u3067\u306fCocoaPods\u304c\u4f7f\u3048\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\u3059\u3002\n\n\u89e3\u6c7a\u7b56\n\u3042\u304f\u307e\u3067\u3082\u66ab\u5b9a\u5bfe\u5fdc\u3067\u3059\u304c\u3001Assets/GoogleMobileAds/Editor/AdMobDependencies.cs\u306e53\u301c63\u884c\u76ee\u3042\u305f\u308a\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\u3057\u306a\u3044\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\nAdMobDependencies.cs\n#elif UNITY_IOS\n//        Type iosResolver = Google.VersionHandler.FindClass(\n//            \"Google.IOSResolver\", \"Google.IOSResolver\");\n//        if (iosResolver == null) {\n//            return;\n//        }\n//        Google.VersionHandler.InvokeStaticMethod(\n//            iosResolver, \"AddPod\",\n//            new object[] { \"Google-Mobile-Ads-SDK\" },\n//            namedArgs: new Dictionary<string, object>() {\n//                { \"version\", \"7.13+\" }\n//            });\n#endif  // UNITY_IOS\n\n\n\u4e0a\u8a18\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u624b\u52d5\u3067Google Mobile Ads SDK\u3092\u5c0e\u5165\u3059\u308b\u5fc5\u8981\u304c\u51fa\u3066\u304f\u308b\u305f\u3081\u3001Unity\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306eAssets/Plugins/iOS\u5185\u306bGoogleMobileAds.framework\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002\n\u6700\u5f8c\u306bXcode\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306eEnable Modules (C and Objective-C)\u3092YES\u306b\u81ea\u52d5\u3067\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306ePostProcessBuild\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092Assets/Editor\u3042\u305f\u308a\u306b\u914d\u7f6e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff08Editor\u30d5\u30a9\u30eb\u30c0\u306fUnity\u3067\u306f\u7279\u6b8a\u306a\u30d5\u30a9\u30eb\u30c0\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002\u8a73\u7d30\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\uff09\n\nXcodePostProcessBuild.cs\nusing UnityEditor;\nusing UnityEditor.Callbacks;\nusing UnityEditor.iOS.Xcode;\n\npublic static class XcodePostProcessBuild\n{\n    [PostProcessBuild]\n    public static void OnPostProcessBuild(BuildTarget target, string path)\n    {\n        if (target != BuildTarget.iOS)\n        {\n            return;\n        }\n\n        var project = new PBXProject();\n        project.ReadFromFile(PBXProject.GetPBXProjectPath(path));\n\n        var projectGuid = project.TargetGuidByName(PBXProject.GetUnityTargetName());\n        // Enable Modules (C and Objective-C)\u3092YES\u306b\u8a2d\u5b9a\u3059\u308b\n        project.SetBuildProperty(projectGuid, \"CLANG_ENABLE_MODULES\", \"YES\");\n\n        project.WriteToFile(PBXProject.GetPBXProjectPath(path));\n    }\n}\n\n\n\n\u3053\u308c\u3067Unity Cloud Build\u4e0a\u3067\u3082iOS\u306e\u30d3\u30eb\u30c9\u304c\u901a\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u53c2\u8003\n\nGoogle Mobile Ads SDK Developers\u306e\u30d5\u30a9\u30fc\u30e9\u30e0\nGoogle Mobile Ads Unity Plugin\nGoogle Mobile Ads SDK\n\n## \u78ba\u8a8d\u74b0\u5883\n*  Unity\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f5.5.0f3\n*  [Google Mobile Ads Unity Plugin](https://github.com/googleads/googleads-mobile-unity)\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f[3.1.3](https://github.com/googleads/googleads-mobile-unity/releases/tag/3.1.3)\n\n## \u4e8b\u8c61\nUnity\u3067\u4f5c\u3063\u305f\u30a2\u30d7\u30ea\u306b[AdMob](https://www.google.co.jp/admob/)\u3092\u8868\u793a\u3055\u305b\u308b\u305f\u3081\u306b[Google Mobile Ads Unity Plugin](https://github.com/googleads/googleads-mobile-unity)\u3092\u5c0e\u5165\u3057\u3088\u3046\u3068\u3057\u307e\u3057\u305f\u304c\u3001Unity Cloud Build\u4e0a\u3067iOS\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002\uff08Android\u306e\u30d3\u30eb\u30c9\u306f\u6b63\u5e38\u306b\u3067\u304d\u307e\u3059\uff09\n\n```log1.txt\n2479: [Unity] 'pod' command not found; unable to generate a usable Xcode project. You can install cocoapods with the Ruby gem package manager:\n2480: [Unity]  > sudo gem install -n /usr/local/bin cocoapods\n2481: [Unity]  > pod setup\n```\n\n```log2.txt\n2491: [Unity] Error running cocoapods. Please ensure you have at least version  1.0.0.  You can install cocoapods with the Ruby gem package manager:\n2492: [Unity]  > sudo gem install -n /usr/local/bin cocoapods\n2493: [Unity]  > pod setup\n2494: [Unity] 'pod --version' returned status: 1\n2495: [Unity] output:\n```\n\n## \u539f\u56e0\n[Google Mobile Ads Unity Plugin](https://github.com/googleads/googleads-mobile-unity)\u306e\u5185\u90e8\u3067iOS\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306bCocoaPods\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u3001Unity Cloud Build\u4e0a\u3067\u306fCocoaPods\u304c\u4f7f\u3048\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\u3059\u3002\n\n## \u89e3\u6c7a\u7b56\n<b>\u3042\u304f\u307e\u3067\u3082\u66ab\u5b9a\u5bfe\u5fdc\u3067\u3059\u304c\u3001</b>`Assets/GoogleMobileAds/Editor/AdMobDependencies.cs`\u306e53\u301c63\u884c\u76ee\u3042\u305f\u308a\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\u3057\u306a\u3044\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```csharp:AdMobDependencies.cs\n#elif UNITY_IOS\n//        Type iosResolver = Google.VersionHandler.FindClass(\n//            \"Google.IOSResolver\", \"Google.IOSResolver\");\n//        if (iosResolver == null) {\n//            return;\n//        }\n//        Google.VersionHandler.InvokeStaticMethod(\n//            iosResolver, \"AddPod\",\n//            new object[] { \"Google-Mobile-Ads-SDK\" },\n//            namedArgs: new Dictionary<string, object>() {\n//                { \"version\", \"7.13+\" }\n//            });\n#endif  // UNITY_IOS\n```\n\n\u4e0a\u8a18\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u624b\u52d5\u3067[Google Mobile Ads SDK](https://firebase.google.com/docs/admob/ios/download)\u3092\u5c0e\u5165\u3059\u308b\u5fc5\u8981\u304c\u51fa\u3066\u304f\u308b\u305f\u3081\u3001Unity\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e`Assets/Plugins/iOS`\u5185\u306b`GoogleMobileAds.framework`\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002\n\n\u6700\u5f8c\u306bXcode\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e`Enable Modules (C and Objective-C)`\u3092`YES`\u306b\u81ea\u52d5\u3067\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306ePostProcessBuild\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092`Assets/Editor`\u3042\u305f\u308a\u306b\u914d\u7f6e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff08Editor\u30d5\u30a9\u30eb\u30c0\u306fUnity\u3067\u306f\u7279\u6b8a\u306a\u30d5\u30a9\u30eb\u30c0\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002\u8a73\u7d30\u306f[\u3053\u3061\u3089](https://docs.unity3d.com/jp/current/Manual/SpecialFolders.html)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\uff09\n\n```csharp:XcodePostProcessBuild.cs\nusing UnityEditor;\nusing UnityEditor.Callbacks;\nusing UnityEditor.iOS.Xcode;\n\npublic static class XcodePostProcessBuild\n{\n    [PostProcessBuild]\n    public static void OnPostProcessBuild(BuildTarget target, string path)\n    {\n        if (target != BuildTarget.iOS)\n        {\n            return;\n        }\n\n        var project = new PBXProject();\n        project.ReadFromFile(PBXProject.GetPBXProjectPath(path));\n\n        var projectGuid = project.TargetGuidByName(PBXProject.GetUnityTargetName());\n        // Enable Modules (C and Objective-C)\u3092YES\u306b\u8a2d\u5b9a\u3059\u308b\n        project.SetBuildProperty(projectGuid, \"CLANG_ENABLE_MODULES\", \"YES\");\n\n        project.WriteToFile(PBXProject.GetPBXProjectPath(path));\n    }\n}\n```\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/5879/8cc375fa-6f0e-69a2-472d-a32509d47f7a.png)\n\n\u3053\u308c\u3067Unity Cloud Build\u4e0a\u3067\u3082iOS\u306e\u30d3\u30eb\u30c9\u304c\u901a\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n## \u53c2\u8003\n* [Google Mobile Ads SDK Developers\u306e\u30d5\u30a9\u30fc\u30e9\u30e0](https://groups.google.com/d/msg/google-admob-ads-sdk/Ivkz1klzZWg/Pn1VXPIlBwAJ)\n* [Google Mobile Ads Unity Plugin](https://github.com/googleads/googleads-mobile-unity)\n* [Google Mobile Ads SDK](https://firebase.google.com/docs/admob/ios/download)\n", "tags": ["Unity", "adMob", "UnityCloudBuild", "iOS"]}