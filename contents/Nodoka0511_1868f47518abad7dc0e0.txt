{"tags": ["SQL\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3", "\u52c9\u5f37\u4f1a"], "context": " More than 1 year has passed since last update.\n\n14.0 \u304d\u3063\u304b\u3051\n\u4e0a\u53f8\uff1a\u5831\u544a\u3055\u308c\u305f\u76f4\u8fd1\u306e\u30d0\u30b0\u3092\u88fd\u54c1\u3054\u3068\u306b\u307e\u3068\u3081\u305f\u30ec\u30dd\u30fc\u30c8\u304c\u307b\u3057\u3044\n\u90e8\u4e0b\uff1a\u540c\u3058product_id\u3092\u5171\u6709\u3059\u308b\u30d0\u30b0\u306e\u30b0\u30eb\u30fc\u30d7\u3054\u3068\u306b\u3001data_reported\u5217\u306e\u6700\u5927\u5024\u3092\u8a08\u7b97\u3059\u308b\u30af\u30a8\u30ea\u3092\u66f8\u3053\u3046\n\u3000\n\u886814-1 \u76f4\u8fd1\u306e\u30d0\u30b0\u3092\u88fd\u54c1\u3054\u3068\u306b\u307e\u3068\u3081\u305f\u30ec\u30dd\u30fc\u30c8\u306f\u3053\u3046\u66f8\u304d\u305f\u3044 \n\n\n\nproduct_name\nlatest\nbug_id\n\n\n\n\n\u3084\u3059\u308a\n2010-06-01\n1234\n\n\n\u30c9\u30e9\u30a4\u30d0\u30fc\n2010-02-16\n3456\n\n\n\u30da\u30f3\u30c1\n2010-01-01\n5678\n\n\n\n\u3000\u3000\n\u4e0a\u53f8\uff1a\u30ec\u30dd\u30fc\u30c8\u306b\u5217\u6319\u3055\u308c\u3066\u3044\u308b\u305d\u308c\u305e\u308c\u306e\u30d0\u30b0\u3092\u8abf\u3079\u3088\u3046\n\u886814-2 \u7d50\u679c\u306e\u4e0d\u4e00\u81f4\n\n\n\nproduct_name\ndate_reported\nbug_id\n\n\n\n\n\u3084\u3059\u308a\n2009-12-19\n1234\n\n\n\u3084\u3059\u308a\n2010-06-01\n2248\n\n\n\u30c9\u30e9\u30a4\u30d0\u30fc\n2010-02-16\n3456\n\n\n\u30c9\u30e9\u30a4\u30d0\u30fc\n2010-02-10\n4077\n\n\n\u30c9\u30e9\u30a4\u30d0\u30fc\n2010-02-16\n5150\n\n\n\u30da\u30f3\u30c1\n2010-01-01\n5678\n\n\n\u30da\u30f3\u30c1\n2009-11-09\n8063\n\n\n\n\u4e0a\u53f8\uff1a\u3084\u3059\u308a\u306e\u30d0\u30b0\u3001\u65e5\u4ed8\u3068id\u4e00\u81f4\u3057\u3066\u306a\u3044\u3088\u3002\u76f4\u8fd1\u306e\u30d0\u30b0\u306ebug_id\u306f2248\u3060\u3051\u3069\u3002\n\n14.1 \u76ee\u7684\uff1a\u30b0\u30eb\u30fc\u30d7\u5185\u3067\u6700\u5927\u5024\u3092\u6301\u3064\u884c\u3092\u53d6\u5f97\u3059\u308b\nGROUP BY\u4f7f\u3063\u3066\u3001Bugs\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u3001\u88fd\u54c1\u3054\u3068\u306e\u6700\u65b0\u306e\u30d0\u30b0\u5831\u544a\u65e5\u4ed8\u3092\u53d6\u5f97\u3059\u308b\u30af\u30a8\u30ea\u3092\u767a\u884c\n\nGroups/anti/groupbyproduct.sql\nSELECT product_id, MAX(date_reported) AS latest\nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n\n\n\u30af\u30a8\u30ea\u62e1\u5f35\u3057\u3066\u3001\u88fd\u54c1\u3054\u3068\u306b\u6700\u65b0\u306e\u5831\u544a\u65e5\u4ed8\u3092\u6301\u3064\u30d0\u30b0\u306eID\u3092\u53d6\u5f97\u3067\u304d\u308b\n\nGroups/anti/groupbyproduct.sql\nSELECT product_id, MAX(date_reported) AS latest, bug_id\nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n\n\n\n\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u6700\u5927\u5024\u3060\u3051\u3067\u306a\u304f\u3001 \u305d\u306e\u6700\u5927\u5024\u304c\u898b\u3064\u304b\u3063\u305f\u884c\u306e\u4ed6\u306e\u5c5e\u6027\u3082\u53d6\u5f97\u3059\u308b\u30af\u30a8\u30ea \u3092\u5b9f\u884c\u3057\u305f\u3044\u3002\n\n14.2 \u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\uff1a\u975e\u30b0\u30eb\u30fc\u30d7\u5316\u5217\u3092\u53c2\u7167\u3059\u308b\n\n14.2.1 \u5358\u4e00\u5024\u306e\u539f\u5247(Single-Value Rule)\n\nGroups/anti/groupbyproduct.sql\nSELECT product_id, MAX(date_reported) AS latest\nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n\n\n\u5358\u4e00\u5024\u306e\u539f\u5247 => \u3053\u306e\u30af\u30a8\u30ea\u306eSELECT\u53e5\u306e\u9078\u629e\u30ea\u30b9\u30c8\u306b\u5217\u6319\u3055\u308c\u308b\u3059\u3079\u3066\u306e\u5217\u306f\u3001\u884c\u30b0\u30eb\u30fc\u30d7\u3054\u3068\u306b\u5358\u4e00\u306e\u5024\u3067\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u3044\u3002 \n\u3064\u307e\u308a\u3001GROUP BY\u3067\u5217\u6319\u3055\u308c\u305f\u5217(\u4eca\u56de\u306a\u3089product_id)\u306f\u3001\u30b0\u30eb\u30fc\u30d7\u5316\u3055\u308c\u308b\u884c\u6570\u306b\u95a2\u308f\u3089\u305a\u3001\u30b0\u30eb\u30fc\u30d7\u6bce\u306b\u5358\u4e00\u3067\u3042\u308b\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u308b(MAX\u95a2\u6570\u3082)\u3002\n\u3057\u304b\u3057\u3001\u9078\u629e\u30ea\u30b9\u30c8\u306e\u4e2d\u3067GROUP BY\u53e5\u306b\u5217\u6319\u3055\u308c\u3066\u3044\u306a\u3044\u5217\u3067\u306f\u4e8b\u60c5\u304c\u7570\u306a\u308b\n\u3053\u308c\u3089\u306e\u5217\u3067\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u3059\u3079\u3066\u306e\u884c\u306b\u540c\u3058\u5024\u304c\u3042\u308b\u3053\u3068\u3092\u5e38\u306b\u4fdd\u8a3c\u3067\u304d\u306a\u3044\u3002\n\u4eca\u56de\u306e\u4f8b\u306b\u3042\u3066\u306f\u3081\u308b\u3068\u3001\n\nGroups/anti/groupbyproduct.sql\nSELECT product_id, MAX(date_reported) AS latest, bug_id\nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n\n\n\u3042\u308bproduct_id\u306b\u5bfe\u5fdc\u3057\u305fbug_id\u306b\u306f\u8907\u6570\u306e\u5024\u304c\u5b58\u5728\u3059\u308b\n\u886814-3.1 1\u3064\u306eproduct\u306b\u5bfe\u3059\u308b\u8907\u6570\u306ebug_id\n\n\n\nproduct_name\ndate_reported\nbug_id\n\n\n\n\n\u3084\u3059\u308a\n2009-12-19\n1234\n\n\n\u3084\u3059\u308a\n2010-06-01\n2248\n\n\n\nGROUP BY\u3067\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5217\u3067\u306f\u3001\u30b0\u30eb\u30fc\u30d7\u6bce\u306e\u5358\u4e00\u5024\u4fdd\u8a3c\u306f\u3055\u308c\u306a\u3044\u306e\u3067\u3001\u305d\u308c\u3089\u306e\u5217\u3092\u5358\u4e00\u5024\u306e\u539f\u5247\u306b\u53cd\u3059\u308b\u3068\u898b\u306a\u3057\u3001\u307b\u3068\u3093\u3069\u306eDB\u3067\u306f\u3053\u308c\u3092\u30a8\u30e9\u30fc\u306b\u3059\u308b\u304c\u3001MySQL\u3068SQLite \u306f\u9055\u3046\uff01\n\n14.2.2 SQL\u304c\u30af\u30a8\u30ea\u306e\u610f\u56f3\u3092\u6c72\u3093\u3067\u304f\u308c\u308b\u3068\u306f\u9650\u3089\u306a\u3044\n\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u601d\u8003\uff1adate_reported\u306e\u6700\u5927\u5024\u3092\u53d6\u5f97\u3059\u308b\u3068\u304d\u306b\u3001\u3064\u3044\u3067\u306b\u9078\u629e\u30ea\u30b9\u30c8\u306b\u6307\u5b9a\u3055\u308c\u305f\u4ed6\u306e\u5217\u306e\u5024\u3082\u3001\u305d\u306e\u6700\u5927\u5024\u306e\u5b58\u5728\u3059\u308b\u540c\u3058\u884c\u304b\u3089\u3068\u3063\u3066\u304d\u3066\u304f\u308c\u308b\u3088\u306d\n\u305d\u3046\u306f\u3044\u304b\u306a\u3044\n * date_reported\u5217\u30672\u3064\u306e\u30d0\u30b0\u304c\u540c\u3058\u5831\u544a\u65e5\u4ed8\u3092\u6301\u3063\u3066\u3044\u308b\u3001\u304b\u3064\u3001\u305d\u306e\u65e5\u4ed8\u304c\u884c\u30b0\u30eb\u30fc\u30d7\u306e\u6700\u5927\u5024\u3067\u3042\u308b\u5834\u5408\u3001\u3069\u3063\u3061\u306ebug_id\u8fd4\u305b\u3070\u3044\u3044\u306e\uff1f\n * \u30af\u30a8\u30ea\u30672\u3064\u306e\u7570\u306a\u308b\u96c6\u7d04\u95a2\u6570\u3092\u5b9f\u884c\u3057\u305f\u3068\u304d(\u4f8b\u3048\u3070MAX\u3068MIN)\u3001\u96c6\u7d04\u95a2\u6570\u306e\u5024\u306f\u304a\u305d\u3089\u304f\u30b0\u30eb\u30fc\u30d7\u5185\u306e2\u3064\u306e\u7570\u306a\u308b\u884c\u304b\u3089\u53d6\u5f97\u3055\u308c\u308b\u3002\u3069\u3063\u3061\u306ebug_id\u8fd4\u305b\u3070\u3044\u3044\u306e\uff1f\n\nGroups/anti/maxandmin.sql\nSELECT product_id, MAX(date_reported) AS latest,\n MIN(date_reported) AS earliest, bug_id \nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n\n\n\n\u96c6\u7d04\u95a2\u6570\u3067\u8fd4\u3055\u308c\u305f\u5024\u3068\u4e00\u81f4\u3059\u308b\u884c\u304c\u30c6\u30fc\u30d6\u30eb\u306b\u306a\u3044\u5834\u5408\u3001bug_id\u306e\u5024\u306f\u3069\u3046\u3059\u308c\u3070\u3088\u3044\uff1fAVG\u3068\u304bCOUNT\u3068\u304bSUM\u3068\u304b\n\n\nGroups/anti/sumbyproduct.sql\nSELECT product_id, SUM(hours) AS total_project_estimate, bug_id\nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n\n\n\u3053\u308c\u3089\u306e\u30af\u30a8\u30ea\u304c\u5fc5\u305a\u66d6\u6627\u306a\u7d50\u679c\u3092\u8fd4\u3059\u3068\u306f\u9650\u3089\u306a\u3044\u304c\u3001\u591a\u304f\u306e\u5834\u5408\u306f\u66d6\u6627\n\n14.3 \u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u306e\u898b\u3064\u3051\u65b9\n\u307b\u3068\u3093\u3069\u306eDB\u88fd\u54c1\u3067\u306f\u3001\u5358\u4e00\u5024\u306e\u539f\u5247\u306b\u53cd\u3059\u308b\u30af\u30a8\u30ea\u3092\u767a\u884c\u3059\u308b\u3068\u3001\u305f\u3060\u3061\u306b\u30a8\u30e9\u30fc\u304c\u8fd4\u3055\u308c\u308b\u3002\nSQLite\u3068MySQL\u3067\u306f\u3001\u66d6\u6627\u306a\u5217\u306b\u306f\u4e88\u671f\u3057\u306a\u3044\u5024\u3084\u4fe1\u983c\u6027\u306e\u4f4e\u3044\u5024\u304c\u8fd4\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002\n\nMySQL\u3067\u306f\u30b0\u30eb\u30fc\u30d7\u306e\u6700\u521d(\u7269\u7406\u7684\u306a\u683c\u7d0d\u5834\u6240)\u306e\u884c\u304b\u3089\u5024\u304c\u8fd4\u3055\u308c\u3066\u3057\u307e\u3046\nSQLite\u3067\u306f\u30b0\u30eb\u30fc\u30d7\u306e\u6700\u7d42\u306e\u884c\u304b\u3089\u5024\u304c\u8fd4\u3055\u308c\u308b\n\n\n14.4 \u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u3092\u7528\u3044\u3066\u3082\u3088\u3044\u5834\u5408\n\nGroups/legit/functiona.sql\nSELECT b.reported_by, a.account_name\nFROM Bugs b INNER JOIN Accounts a ON b.reported_by = a.account_id\nGROUP BY b.reported_by;   \n\n\naccount_name\u306f\u96c6\u7d04\u95a2\u6570\u3067\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u304b\u3089\u5358\u4e00\u5024\u306e\u539f\u5247\u306b\u9055\u53cd\u3057\u3066\u3044\u308b\n\u3057\u304b\u3057\u3001Bugs.reported_by\u306fAccounts\u30c6\u30fc\u30d6\u30eb\u306e\u5916\u90e8\u30ad\u30fc\u306a\u306e\u3067\u3001\u5404\u30b0\u30eb\u30fc\u30d7\u306fAccounts\u30c6\u30fc\u30d6\u30eb\u306e\u884c\u30681\u5bfe1\n\u3064\u307e\u308a\u3001reported_by\u306e\u5024\u3092\u77e5\u3063\u3066\u3044\u308c\u3070\u3001account_name\u306e\u5024\u3092\u4e00\u610f\u306b\u7279\u5b9a\u3067\u304d\u308b\naccounts\u30c6\u30fc\u30d6\u30eb\u306e\u4e3b\u30ad\u30fc\u3067\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u3068\u540c\u3058\n\u95a2\u6570\u5f93\u5c5e\u6027\nBugs.reported_by\u306fAccounts\u30c6\u30fc\u30d6\u30eb\u306e\u4e3b\u30ad\u30fc\u3092\u53c2\u7167\u3059\u308b\u306e\u3067\u3001Accounts\u30c6\u30fc\u30d6\u30eb\u306e\u4e3b\u30ad\u30fc\u306b\u5f93\u5c5e\u3059\u308b\u5c5e\u6027\u306b\u5bfe\u3057\u3066\u3001\u4e3b\u30ad\u30fc\u3068\u540c\u69d8\u306e\u95a2\u4fc2\u6027\u3092\u6301\u3064\n\u30af\u30a8\u30ea\u304creported_by\u5217\u3067\u30b0\u30eb\u30fc\u30d7\u5316\u3055\u308c\u308b\u3068\u304d\u3001reported_by\u304c\u5916\u90e8\u30ad\u30fc\u306a\u306e\u3067\u3001Accounts\u30c6\u30fc\u30d6\u30eb\u306e\u5404\u5c5e\u6027\u304c\u95a2\u6570\u5f93\u5c5e\u3068\u306a\u308a\u3001\u66d6\u6627\u3055\u304c\u767a\u751f\u3057\u306a\u3044\n\u3067\u3082\u307b\u3068\u3093\u3069\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u306f\u30a8\u30e9\u30fc\nMySQL\u3084SQlite\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u95a2\u6570\u5f93\u5c5e\u6027\u3092\u6301\u3064\u5217\u306e\u307f\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\n\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u304c\u6ce8\u610f \u3059\u308c\u3070\u3001\u3053\u306e\u7a2e\u306e\u30af\u30a8\u30ea\u306e\u30b0\u30eb\u30fc\u30d7\u5316\u3092\u4f7f\u7528\u3067\u304d\u308b\n\n14.5 \u89e3\u6c7a\u7b56\uff1a\u66d6\u6627\u3067\u306a\u3044\u5217\u3092\u4f7f\u7528\u3059\u308b\n\n14.5.1 \u95a2\u6570\u5f93\u5c5e\u6027\u306e\u3042\u308b\u5217\u306e\u307f\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\n\u30af\u30a8\u30ea\u304b\u3089\u66d6\u6627\u306a\u5217\u3092\u6392\u9664\u3059\u308b\n\nGroups/anti/groupbyproduct.sql\nSELECT product_id, MAX(date_reported) AS latest\nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n\n\n\u88fd\u54c1\u3054\u3068\u306e\u30d0\u30b0\u306e\u6700\u65b0\u306e\u65e5\u4ed8\u3092\u8fd4\u3059\n\u3053\u308c\u3067\u5341\u5206\u306a\u5834\u5408\u3082\u3042\u308b\n\n14.5.2 \u76f8\u95a2\u30b5\u30d6\u30af\u30a8\u30ea\u3092\u4f7f\u7528\u3059\u308b\n\nGroups/soln/notexists.sql\nSELECT bp1.product_id,b1.date_reported AS latest, b1.bug_id\nFROM Bugs b1 INNER JOIN BugProducts bp1 USING (bug_id)\nWHERE NOT EXISTS\n (SELECT * FROM Bugs b2 INNER JOIN BugsProducts bp2 USING (bug_id)\n  WHERE bp1.product_id = bp2.product_id\n  AND b1.date_reported < b2.date_reported); \n\n\n\u30b5\u30d6\u30af\u30a8\u30ea\u304c\u7d50\u679c\u30921\u3064\u3082\u691c\u51fa\u3057\u306a\u3044\u5834\u5408\u3001\u5916\u90e8\u30af\u30a8\u30ea\u306e\u30d0\u30b0\u304c\u6700\u65b0\n\u76f8\u95a2\u30b5\u30d6\u30af\u30a8\u30ea\u304c\u5916\u90e8\u30af\u30a8\u30ea\u306e\u5404\u884c\u306b\u5bfe\u3057\u3066\u305d\u308c\u305e\u308c\u5b9f\u884c\u3055\u308c\u308b\u306e\u3067\u3001\u6700\u5584\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306f\u5f97\u3089\u308c\u306a\u3044\n\n14.5.3 \u5c0e\u51fa\u30c6\u30fc\u30d6\u30eb\u3092\u4f7f\u7528\u3059\u308b\n\u30b5\u30d6\u30af\u30a8\u30ea\u3092\u5c0e\u51fa\u30c6\u30fc\u30d6\u30eb\u3068\u3057\u3066\u4f7f\u7528\nproduct_id\u3068\u5404\u88fd\u54c1\u306b\u5bfe\u5fdc\u3059\u308b\u6700\u65b0\u306e\u30d0\u30b0\u30ec\u30dd\u30fc\u30c8\u306e\u65e5\u4ed8\u306e\u307f\u3092\u542b\u3080\u4e2d\u9593\u7d50\u679c\u3092\u53d6\u5f97\u3067\u304d\u308b\n\u305d\u306e\u7d50\u679c\u3092\u7528\u3044\u3066\u30c6\u30fc\u30d6\u30eb\u306bJOIN\u3055\u305b\u3001\u30af\u30a8\u30ea\u306e\u6700\u7d42\u7d50\u679c\u306b\u88fd\u54c1\u3054\u3068\u306e\u6700\u65b0\u65e5\u4ed8\u3092\u6301\u3064\u30d0\u30b0\u306e\u307f\u304c\u542b\u307e\u308c\u308b\u3088\u3046\u306b\u3059\u308b\n\u886814-3 \u30b5\u30d6\u30af\u30a8\u30ea\u3067\u8fd4\u3055\u308c\u305f\u65e5\u4ed8\u304c\u8907\u6570\u884c\u3068\u4e00\u81f4\u3059\u308b\u5834\u5408\u306e\u7d50\u679c\n\n\n\nproduct_id\nlatest\nbug_id\n\n\n\n\n1\n2010-06-01\n2248\n\n\n2\n2010-02-16\n3456\n\n\n2\n2010-02-16\n5150\n\n\n3\n2010-01-01\n5678\n\n\n\n\u30b5\u30d6\u30af\u30a8\u30ea\u3067\u8fd4\u3055\u308c\u305flatest\u306e\u65e5\u4ed8\u304c\u8907\u6570\u884c\u3068\u4e00\u81f4\u3059\u308b\u5834\u5408\u30011\u3064\u306e\u88fd\u54c1\u306b\u8907\u6570\u884c\u304c\u53d6\u5f97\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\nproduct_id\u3054\u3068\u306b1\u884c\u306e\u307f\u51fa\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u5916\u90e8\u30af\u30a8\u30ea\u3067\u3082\u30461\u56de\u30b0\u30eb\u30fc\u30d7\u5316\u95a2\u6570\u3092\u4f7f\u3046\n\u3053\u306e\u624b\u6cd5\u3060\u3068\u4e2d\u9593\u7d50\u679c\u3092\u30c6\u30f3\u30dd\u30e9\u30ea\u30fc\u30c6\u30fc\u30d6\u30eb\u306b\u683c\u7d0d\u3059\u308b\u305f\u3081\u6700\u5584\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u3082\u305f\u3089\u3059\u308f\u3051\u3067\u306f\u306a\u3044\n\n14.5.4 JOIN\u3092\u4f7f\u7528\u3059\u308b\n\u5927\u91cf\u306e\u30c7\u30fc\u30bf\u306b\u5bfe\u3059\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u91cd\u8981\u306a\u5834\u5408\u306b\u4f7f\u7528\n\u4ed5\u7d44\u307f\u306e\u7406\u89e3\u3084\u4fdd\u5b88\u304c\u96e3\u3057\u304f\u306a\u308b\u304c\u3001\u30b5\u30d6\u30af\u30a8\u30ea\u306b\u6bd4\u3079\u308c\u3070\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306f\u826f\u597d\n\nGroups/soln/outer-join.sql\nSELECT bp1.product_id,b1.date_reported AS latest, b1.bug_id\nFROM Bugs b1 \nINNER JOIN BugProducts bp1 \n ON b1.bug_id = bp1.bug_id\nLEFT OUTER JOIN (\n Bugs AS b2 INNER JOIN BugsProducts AS bp2\n ON b2.bug_id = bp2.bug_id\n)\nON (bp1.product_id = bp2.product_id AND (b1.date_reported < b2.date_reported\n OR b1.date_reported = b2.date_reported AND b1.bug_id < b2.bug_id))\nWHERE b2.bug_id IS NULL; \n\n\n\n14.5.5 \u4ed6\u306e\u5217\u306b\u5bfe\u3057\u3066\u3082\u96c6\u7d04\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b\n\u3053\u308c\u306f\u6700\u5927\u306ebug_id\u304c\u6700\u65b0\u306e\u65e5\u4ed8\u3092\u6301\u3064\u3053\u3068\u3092\u3042\u3066\u306b\u3067\u304d\u308b\u5834\u5408\u306e\u307f\u306b\u4f7f\u7528\n\u3064\u307e\u308a\u30d0\u30b0\u5831\u544a\u304c\u6642\u7cfb\u5217\u9806\u306b\u884c\u308f\u308c\u308b\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306e\u307f\u6709\u52b9\n\n14.5.6 \u30b0\u30eb\u30fc\u30d7\u3054\u3068\u306b\u3059\u3079\u3066\u306e\u5024\u3092\u9023\u7d50\u3059\u308b\nGROUP_CONCAT\u95a2\u6570\u3092\u4f7f\u3046\n\u886814-6 GROUP_CONCAT\u95a2\u6570\u3092\u4f7f\u3044\u3001\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u3059\u3079\u3066\u306e\u5024\u30921\u3064\u306b\u9023\u7d50\n\n\n\nproduct_id\nlatest\nbug_id_list\n\n\n\n\n1\n2010-06-01\n1234,2248\n\n\n2\n2010-02-16\n3456,4077,5150\n\n\n3\n2010-01-01\n5678,8063\n\n\n\n\u6700\u65b0\u65e5\u4ed8\u306b\u5bfe\u5fdc\u3059\u308bbug_id\u306f\u7279\u5b9a\u3067\u304d\u306a\u3044 + \u5404\u30b0\u30eb\u30fc\u30d7\u306ebug_id\u304c\u3059\u3079\u3066\u542b\u307e\u308c\u308b\n\u52a0\u3048\u3066\u3001SQL\u6a19\u6e96\u306b\u6e96\u62e0\u3057\u3066\u3044\u306a\u3044\n\u4ed6\u306eDB\u88fd\u54c1\u3067\u306f\u3053\u306e\u95a2\u6570\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\n\u30ab\u30b9\u30bf\u30e0\u95a2\u6570\u3068\u30ab\u30b9\u30bf\u30e0\u96c6\u7d04\u95a2\u6570\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308bDB\u3082\u3042\u308b\n\u30ab\u30b9\u30bf\u30e0\u95a2\u6570\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u975e\u30b0\u30eb\u30fc\u30d7\u5316\u30af\u30a8\u30ea\u306e\u7d50\u679c\u3092\u30eb\u30fc\u30d7\u3057\u3001\u5024\u3092\u9023\u7d50\u3055\u305b\u308b\u305f\u3081\u306e\u30b9\u30c8\u30a2\u30c9\u30d7\u30ed\u30b7\u30fc\u30b8\u30e3\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u5fc5\u8981\n\u3053\u306e\u624b\u6cd5\u306f\u3001GROUP BY\u3067\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u306a\u3001\u5358\u4e00\u5024\u539f\u5247\u306b\u9055\u53cd\u3059\u308b\u53ef\u80fd\u6027\u3082\u6b8b\u3063\u3066\u3044\u308b\u5834\u5408\u306b\u4f7f\u3046\n\n\u307e\u3068\u3081\n\u66d6\u6627\u306a\u30af\u30a8\u30ea\u7d50\u679c\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u3001\u5358\u4e00\u5024\u306e\u539f\u5247\u306b\u5f93\u3046\u3053\u3068\n# 14.0 \u304d\u3063\u304b\u3051\n\u4e0a\u53f8\uff1a\u5831\u544a\u3055\u308c\u305f\u76f4\u8fd1\u306e\u30d0\u30b0\u3092\u88fd\u54c1\u3054\u3068\u306b\u307e\u3068\u3081\u305f\u30ec\u30dd\u30fc\u30c8\u304c\u307b\u3057\u3044\n\u90e8\u4e0b\uff1a\u540c\u3058product_id\u3092\u5171\u6709\u3059\u308b\u30d0\u30b0\u306e\u30b0\u30eb\u30fc\u30d7\u3054\u3068\u306b\u3001data_reported\u5217\u306e\u6700\u5927\u5024\u3092\u8a08\u7b97\u3059\u308b\u30af\u30a8\u30ea\u3092\u66f8\u3053\u3046\n\u3000\n\u886814-1 \u76f4\u8fd1\u306e\u30d0\u30b0\u3092\u88fd\u54c1\u3054\u3068\u306b\u307e\u3068\u3081\u305f\u30ec\u30dd\u30fc\u30c8\u306f\u3053\u3046\u66f8\u304d\u305f\u3044 \n\n| product_name | latest | bug_id |\n|:-:|:-:|:-:|\n| \u3084\u3059\u308a | 2010-06-01 | 1234 |\n| \u30c9\u30e9\u30a4\u30d0\u30fc | 2010-02-16 | 3456 |\n| \u30da\u30f3\u30c1 | 2010-01-01 | 5678 |\n  \n\u3000\u3000\n\u4e0a\u53f8\uff1a\u30ec\u30dd\u30fc\u30c8\u306b\u5217\u6319\u3055\u308c\u3066\u3044\u308b\u305d\u308c\u305e\u308c\u306e\u30d0\u30b0\u3092\u8abf\u3079\u3088\u3046\n\n\u886814-2 \u7d50\u679c\u306e\u4e0d\u4e00\u81f4\n\n| product_name | date_reported | bug_id |\n|:-:|:-:|:-:|\n| __\u3084\u3059\u308a__ | __2009-12-19__ | __1234__ |\n| __\u3084\u3059\u308a__ | __2010-06-01__ | __2248__ |\n| \u30c9\u30e9\u30a4\u30d0\u30fc | 2010-02-16 | 3456 |\n| \u30c9\u30e9\u30a4\u30d0\u30fc | 2010-02-10 | 4077 |\n| \u30c9\u30e9\u30a4\u30d0\u30fc | 2010-02-16 | 5150 |\n| \u30da\u30f3\u30c1 | 2010-01-01 | 5678 |\n| \u30da\u30f3\u30c1 | 2009-11-09 | 8063 |\n\n\u4e0a\u53f8\uff1a\u3084\u3059\u308a\u306e\u30d0\u30b0\u3001\u65e5\u4ed8\u3068id\u4e00\u81f4\u3057\u3066\u306a\u3044\u3088\u3002\u76f4\u8fd1\u306e\u30d0\u30b0\u306ebug_id\u306f2248\u3060\u3051\u3069\u3002\n\n\n##  14.1 \u76ee\u7684\uff1a\u30b0\u30eb\u30fc\u30d7\u5185\u3067\u6700\u5927\u5024\u3092\u6301\u3064\u884c\u3092\u53d6\u5f97\u3059\u308b\n   \nGROUP BY\u4f7f\u3063\u3066\u3001Bugs\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u3001\u88fd\u54c1\u3054\u3068\u306e\u6700\u65b0\u306e\u30d0\u30b0\u5831\u544a\u65e5\u4ed8\u3092\u53d6\u5f97\u3059\u308b\u30af\u30a8\u30ea\u3092\u767a\u884c\n\n```Groups/anti/groupbyproduct.sql\nSELECT product_id, MAX(date_reported) AS latest\nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n```\n\n\u30af\u30a8\u30ea\u62e1\u5f35\u3057\u3066\u3001\u88fd\u54c1\u3054\u3068\u306b\u6700\u65b0\u306e\u5831\u544a\u65e5\u4ed8\u3092\u6301\u3064\u30d0\u30b0\u306eID\u3092\u53d6\u5f97\u3067\u304d\u308b\n\n```Groups/anti/groupbyproduct.sql\nSELECT product_id, MAX(date_reported) AS latest, bug_id\nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n\n```\n\n\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u6700\u5927\u5024\u3060\u3051\u3067\u306a\u304f\u3001 **\u305d\u306e\u6700\u5927\u5024\u304c\u898b\u3064\u304b\u3063\u305f\u884c\u306e\u4ed6\u306e\u5c5e\u6027\u3082\u53d6\u5f97\u3059\u308b\u30af\u30a8\u30ea** \u3092\u5b9f\u884c\u3057\u305f\u3044\u3002\n\n  \n## 14.2 \u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\uff1a\u975e\u30b0\u30eb\u30fc\u30d7\u5316\u5217\u3092\u53c2\u7167\u3059\u308b\n   \n### 14.2.1 \u5358\u4e00\u5024\u306e\u539f\u5247(Single-Value Rule)\n   \n```Groups/anti/groupbyproduct.sql\nSELECT product_id, MAX(date_reported) AS latest\nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n```\n  \n**\u5358\u4e00\u5024\u306e\u539f\u5247** => \u3053\u306e\u30af\u30a8\u30ea\u306eSELECT\u53e5\u306e\u9078\u629e\u30ea\u30b9\u30c8\u306b\u5217\u6319\u3055\u308c\u308b\u3059\u3079\u3066\u306e\u5217\u306f\u3001\u884c\u30b0\u30eb\u30fc\u30d7\u3054\u3068\u306b\u5358\u4e00\u306e\u5024\u3067\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u3044\u3002 \n\u3064\u307e\u308a\u3001GROUP BY\u3067\u5217\u6319\u3055\u308c\u305f\u5217(\u4eca\u56de\u306a\u3089product_id)\u306f\u3001\u30b0\u30eb\u30fc\u30d7\u5316\u3055\u308c\u308b\u884c\u6570\u306b\u95a2\u308f\u3089\u305a\u3001\u30b0\u30eb\u30fc\u30d7\u6bce\u306b\u5358\u4e00\u3067\u3042\u308b\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u308b(MAX\u95a2\u6570\u3082)\u3002\n**\u3057\u304b\u3057\u3001\u9078\u629e\u30ea\u30b9\u30c8\u306e\u4e2d\u3067GROUP BY\u53e5\u306b\u5217\u6319\u3055\u308c\u3066\u3044\u306a\u3044\u5217\u3067\u306f\u4e8b\u60c5\u304c\u7570\u306a\u308b**\n\u3053\u308c\u3089\u306e\u5217\u3067\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u3059\u3079\u3066\u306e\u884c\u306b\u540c\u3058\u5024\u304c\u3042\u308b\u3053\u3068\u3092\u5e38\u306b\u4fdd\u8a3c\u3067\u304d\u306a\u3044\u3002\n\n\u4eca\u56de\u306e\u4f8b\u306b\u3042\u3066\u306f\u3081\u308b\u3068\u3001\n\n```Groups/anti/groupbyproduct.sql\nSELECT product_id, MAX(date_reported) AS latest, bug_id\nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n```\n\u3042\u308bproduct_id\u306b\u5bfe\u5fdc\u3057\u305fbug_id\u306b\u306f\u8907\u6570\u306e\u5024\u304c\u5b58\u5728\u3059\u308b\n\n\u886814-3.1 1\u3064\u306eproduct\u306b\u5bfe\u3059\u308b\u8907\u6570\u306ebug_id\n\n| product_name | date_reported | bug_id |\n|:-:|:-:|:-:|\n| __\u3084\u3059\u308a__ | __2009-12-19__ | __1234__ |\n| __\u3084\u3059\u308a__ | __2010-06-01__ | __2248__ |\n\nGROUP BY\u3067\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5217\u3067\u306f\u3001\u30b0\u30eb\u30fc\u30d7\u6bce\u306e\u5358\u4e00\u5024\u4fdd\u8a3c\u306f\u3055\u308c\u306a\u3044\u306e\u3067\u3001\u305d\u308c\u3089\u306e\u5217\u3092\u5358\u4e00\u5024\u306e\u539f\u5247\u306b\u53cd\u3059\u308b\u3068\u898b\u306a\u3057\u3001\u307b\u3068\u3093\u3069\u306eDB\u3067\u306f\u3053\u308c\u3092\u30a8\u30e9\u30fc\u306b\u3059\u308b\u304c\u3001**MySQL\u3068SQLite** \u306f\u9055\u3046\uff01\n\n\n### 14.2.2 SQL\u304c\u30af\u30a8\u30ea\u306e\u610f\u56f3\u3092\u6c72\u3093\u3067\u304f\u308c\u308b\u3068\u306f\u9650\u3089\u306a\u3044\n\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u601d\u8003\uff1adate_reported\u306e\u6700\u5927\u5024\u3092\u53d6\u5f97\u3059\u308b\u3068\u304d\u306b\u3001\u3064\u3044\u3067\u306b\u9078\u629e\u30ea\u30b9\u30c8\u306b\u6307\u5b9a\u3055\u308c\u305f\u4ed6\u306e\u5217\u306e\u5024\u3082\u3001\u305d\u306e\u6700\u5927\u5024\u306e\u5b58\u5728\u3059\u308b\u540c\u3058\u884c\u304b\u3089\u3068\u3063\u3066\u304d\u3066\u304f\u308c\u308b\u3088\u306d\n      \n**\u305d\u3046\u306f\u3044\u304b\u306a\u3044**\n * date_reported\u5217\u30672\u3064\u306e\u30d0\u30b0\u304c\u540c\u3058\u5831\u544a\u65e5\u4ed8\u3092\u6301\u3063\u3066\u3044\u308b\u3001\u304b\u3064\u3001\u305d\u306e\u65e5\u4ed8\u304c\u884c\u30b0\u30eb\u30fc\u30d7\u306e\u6700\u5927\u5024\u3067\u3042\u308b\u5834\u5408\u3001\u3069\u3063\u3061\u306ebug_id\u8fd4\u305b\u3070\u3044\u3044\u306e\uff1f\n * \u30af\u30a8\u30ea\u30672\u3064\u306e\u7570\u306a\u308b\u96c6\u7d04\u95a2\u6570\u3092\u5b9f\u884c\u3057\u305f\u3068\u304d(\u4f8b\u3048\u3070MAX\u3068MIN)\u3001\u96c6\u7d04\u95a2\u6570\u306e\u5024\u306f\u304a\u305d\u3089\u304f\u30b0\u30eb\u30fc\u30d7\u5185\u306e2\u3064\u306e\u7570\u306a\u308b\u884c\u304b\u3089\u53d6\u5f97\u3055\u308c\u308b\u3002\u3069\u3063\u3061\u306ebug_id\u8fd4\u305b\u3070\u3044\u3044\u306e\uff1f\n\n```Groups/anti/maxandmin.sql\nSELECT product_id, MAX(date_reported) AS latest,\n MIN(date_reported) AS earliest, bug_id \nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n```\n\n * \u96c6\u7d04\u95a2\u6570\u3067\u8fd4\u3055\u308c\u305f\u5024\u3068\u4e00\u81f4\u3059\u308b\u884c\u304c\u30c6\u30fc\u30d6\u30eb\u306b\u306a\u3044\u5834\u5408\u3001bug_id\u306e\u5024\u306f\u3069\u3046\u3059\u308c\u3070\u3088\u3044\uff1fAVG\u3068\u304bCOUNT\u3068\u304bSUM\u3068\u304b\n\n```Groups/anti/sumbyproduct.sql\nSELECT product_id, SUM(hours) AS total_project_estimate, bug_id\nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n```\n\u3053\u308c\u3089\u306e\u30af\u30a8\u30ea\u304c\u5fc5\u305a\u66d6\u6627\u306a\u7d50\u679c\u3092\u8fd4\u3059\u3068\u306f\u9650\u3089\u306a\u3044\u304c\u3001\u591a\u304f\u306e\u5834\u5408\u306f\u66d6\u6627\n\n\n## 14.3 \u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u306e\u898b\u3064\u3051\u65b9\n  \n\u307b\u3068\u3093\u3069\u306eDB\u88fd\u54c1\u3067\u306f\u3001\u5358\u4e00\u5024\u306e\u539f\u5247\u306b\u53cd\u3059\u308b\u30af\u30a8\u30ea\u3092\u767a\u884c\u3059\u308b\u3068\u3001\u305f\u3060\u3061\u306b\u30a8\u30e9\u30fc\u304c\u8fd4\u3055\u308c\u308b\u3002\nSQLite\u3068MySQL\u3067\u306f\u3001\u66d6\u6627\u306a\u5217\u306b\u306f\u4e88\u671f\u3057\u306a\u3044\u5024\u3084\u4fe1\u983c\u6027\u306e\u4f4e\u3044\u5024\u304c\u8fd4\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002\n\n * MySQL\u3067\u306f\u30b0\u30eb\u30fc\u30d7\u306e\u6700\u521d(\u7269\u7406\u7684\u306a\u683c\u7d0d\u5834\u6240)\u306e\u884c\u304b\u3089\u5024\u304c\u8fd4\u3055\u308c\u3066\u3057\u307e\u3046\n\n * SQLite\u3067\u306f\u30b0\u30eb\u30fc\u30d7\u306e\u6700\u7d42\u306e\u884c\u304b\u3089\u5024\u304c\u8fd4\u3055\u308c\u308b\n\n\n## 14.4 \u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u3092\u7528\u3044\u3066\u3082\u3088\u3044\u5834\u5408\n\n```Groups/legit/functiona.sql\nSELECT b.reported_by, a.account_name\nFROM Bugs b INNER JOIN Accounts a ON b.reported_by = a.account_id\nGROUP BY b.reported_by;   \n```\naccount_name\u306f\u96c6\u7d04\u95a2\u6570\u3067\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u304b\u3089\u5358\u4e00\u5024\u306e\u539f\u5247\u306b\u9055\u53cd\u3057\u3066\u3044\u308b\n\u3057\u304b\u3057\u3001Bugs.reported_by\u306fAccounts\u30c6\u30fc\u30d6\u30eb\u306e\u5916\u90e8\u30ad\u30fc\u306a\u306e\u3067\u3001\u5404\u30b0\u30eb\u30fc\u30d7\u306fAccounts\u30c6\u30fc\u30d6\u30eb\u306e\u884c\u30681\u5bfe1\n\u3064\u307e\u308a\u3001reported_by\u306e\u5024\u3092\u77e5\u3063\u3066\u3044\u308c\u3070\u3001account_name\u306e\u5024\u3092\u4e00\u610f\u306b\u7279\u5b9a\u3067\u304d\u308b\naccounts\u30c6\u30fc\u30d6\u30eb\u306e\u4e3b\u30ad\u30fc\u3067\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u3068\u540c\u3058\n\n**\u95a2\u6570\u5f93\u5c5e\u6027**\nBugs.reported_by\u306fAccounts\u30c6\u30fc\u30d6\u30eb\u306e\u4e3b\u30ad\u30fc\u3092\u53c2\u7167\u3059\u308b\u306e\u3067\u3001Accounts\u30c6\u30fc\u30d6\u30eb\u306e\u4e3b\u30ad\u30fc\u306b\u5f93\u5c5e\u3059\u308b\u5c5e\u6027\u306b\u5bfe\u3057\u3066\u3001\u4e3b\u30ad\u30fc\u3068\u540c\u69d8\u306e\u95a2\u4fc2\u6027\u3092\u6301\u3064\n\u30af\u30a8\u30ea\u304creported_by\u5217\u3067\u30b0\u30eb\u30fc\u30d7\u5316\u3055\u308c\u308b\u3068\u304d\u3001reported_by\u304c\u5916\u90e8\u30ad\u30fc\u306a\u306e\u3067\u3001Accounts\u30c6\u30fc\u30d6\u30eb\u306e\u5404\u5c5e\u6027\u304c\u95a2\u6570\u5f93\u5c5e\u3068\u306a\u308a\u3001\u66d6\u6627\u3055\u304c\u767a\u751f\u3057\u306a\u3044\n\n\u3067\u3082\u307b\u3068\u3093\u3069\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u306f\u30a8\u30e9\u30fc\nMySQL\u3084SQlite\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u95a2\u6570\u5f93\u5c5e\u6027\u3092\u6301\u3064\u5217\u306e\u307f\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\n**\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u304c\u6ce8\u610f** \u3059\u308c\u3070\u3001\u3053\u306e\u7a2e\u306e\u30af\u30a8\u30ea\u306e\u30b0\u30eb\u30fc\u30d7\u5316\u3092\u4f7f\u7528\u3067\u304d\u308b\n\n## 14.5 \u89e3\u6c7a\u7b56\uff1a\u66d6\u6627\u3067\u306a\u3044\u5217\u3092\u4f7f\u7528\u3059\u308b\n\n### 14.5.1 \u95a2\u6570\u5f93\u5c5e\u6027\u306e\u3042\u308b\u5217\u306e\u307f\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\n\u30af\u30a8\u30ea\u304b\u3089\u66d6\u6627\u306a\u5217\u3092\u6392\u9664\u3059\u308b\n\n```Groups/anti/groupbyproduct.sql\nSELECT product_id, MAX(date_reported) AS latest\nFROM Bugs INNER JOIN BugsProducts USING (bug_id)\nGROUP BY product_id;   \n```\n\u88fd\u54c1\u3054\u3068\u306e\u30d0\u30b0\u306e\u6700\u65b0\u306e\u65e5\u4ed8\u3092\u8fd4\u3059\n\u3053\u308c\u3067\u5341\u5206\u306a\u5834\u5408\u3082\u3042\u308b\n\n### 14.5.2 \u76f8\u95a2\u30b5\u30d6\u30af\u30a8\u30ea\u3092\u4f7f\u7528\u3059\u308b\n```Groups/soln/notexists.sql\nSELECT bp1.product_id,b1.date_reported AS latest, b1.bug_id\nFROM Bugs b1 INNER JOIN BugProducts bp1 USING (bug_id)\nWHERE NOT EXISTS\n (SELECT * FROM Bugs b2 INNER JOIN BugsProducts bp2 USING (bug_id)\n  WHERE bp1.product_id = bp2.product_id\n  AND b1.date_reported < b2.date_reported); \n```\n\u30b5\u30d6\u30af\u30a8\u30ea\u304c\u7d50\u679c\u30921\u3064\u3082\u691c\u51fa\u3057\u306a\u3044\u5834\u5408\u3001\u5916\u90e8\u30af\u30a8\u30ea\u306e\u30d0\u30b0\u304c\u6700\u65b0\n\u76f8\u95a2\u30b5\u30d6\u30af\u30a8\u30ea\u304c\u5916\u90e8\u30af\u30a8\u30ea\u306e\u5404\u884c\u306b\u5bfe\u3057\u3066\u305d\u308c\u305e\u308c\u5b9f\u884c\u3055\u308c\u308b\u306e\u3067\u3001\u6700\u5584\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306f\u5f97\u3089\u308c\u306a\u3044\n\n### 14.5.3 \u5c0e\u51fa\u30c6\u30fc\u30d6\u30eb\u3092\u4f7f\u7528\u3059\u308b\n\u30b5\u30d6\u30af\u30a8\u30ea\u3092\u5c0e\u51fa\u30c6\u30fc\u30d6\u30eb\u3068\u3057\u3066\u4f7f\u7528\nproduct_id\u3068\u5404\u88fd\u54c1\u306b\u5bfe\u5fdc\u3059\u308b\u6700\u65b0\u306e\u30d0\u30b0\u30ec\u30dd\u30fc\u30c8\u306e\u65e5\u4ed8\u306e\u307f\u3092\u542b\u3080\u4e2d\u9593\u7d50\u679c\u3092\u53d6\u5f97\u3067\u304d\u308b\n\u305d\u306e\u7d50\u679c\u3092\u7528\u3044\u3066\u30c6\u30fc\u30d6\u30eb\u306bJOIN\u3055\u305b\u3001\u30af\u30a8\u30ea\u306e\u6700\u7d42\u7d50\u679c\u306b\u88fd\u54c1\u3054\u3068\u306e\u6700\u65b0\u65e5\u4ed8\u3092\u6301\u3064\u30d0\u30b0\u306e\u307f\u304c\u542b\u307e\u308c\u308b\u3088\u3046\u306b\u3059\u308b\n\n\u886814-3 \u30b5\u30d6\u30af\u30a8\u30ea\u3067\u8fd4\u3055\u308c\u305f\u65e5\u4ed8\u304c\u8907\u6570\u884c\u3068\u4e00\u81f4\u3059\u308b\u5834\u5408\u306e\u7d50\u679c\n\n| product_id | latest | bug_id |\n|:-:|:-:|:-:|\n| 1 | 2010-06-01 | 2248 |\n| 2 | 2010-02-16 | 3456 |\n| 2 | 2010-02-16 | 5150 |\n| 3 | 2010-01-01 | 5678 |\n\n\u30b5\u30d6\u30af\u30a8\u30ea\u3067\u8fd4\u3055\u308c\u305flatest\u306e\u65e5\u4ed8\u304c\u8907\u6570\u884c\u3068\u4e00\u81f4\u3059\u308b\u5834\u5408\u30011\u3064\u306e\u88fd\u54c1\u306b\u8907\u6570\u884c\u304c\u53d6\u5f97\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\nproduct_id\u3054\u3068\u306b1\u884c\u306e\u307f\u51fa\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u5916\u90e8\u30af\u30a8\u30ea\u3067\u3082\u30461\u56de\u30b0\u30eb\u30fc\u30d7\u5316\u95a2\u6570\u3092\u4f7f\u3046\n\n\u3053\u306e\u624b\u6cd5\u3060\u3068\u4e2d\u9593\u7d50\u679c\u3092\u30c6\u30f3\u30dd\u30e9\u30ea\u30fc\u30c6\u30fc\u30d6\u30eb\u306b\u683c\u7d0d\u3059\u308b\u305f\u3081\u6700\u5584\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u3082\u305f\u3089\u3059\u308f\u3051\u3067\u306f\u306a\u3044\n\n### 14.5.4 JOIN\u3092\u4f7f\u7528\u3059\u308b\n\u5927\u91cf\u306e\u30c7\u30fc\u30bf\u306b\u5bfe\u3059\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u91cd\u8981\u306a\u5834\u5408\u306b\u4f7f\u7528\n\u4ed5\u7d44\u307f\u306e\u7406\u89e3\u3084\u4fdd\u5b88\u304c\u96e3\u3057\u304f\u306a\u308b\u304c\u3001\u30b5\u30d6\u30af\u30a8\u30ea\u306b\u6bd4\u3079\u308c\u3070\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306f\u826f\u597d\n\n```Groups/soln/outer-join.sql\nSELECT bp1.product_id,b1.date_reported AS latest, b1.bug_id\nFROM Bugs b1 \nINNER JOIN BugProducts bp1 \n ON b1.bug_id = bp1.bug_id\nLEFT OUTER JOIN (\n Bugs AS b2 INNER JOIN BugsProducts AS bp2\n ON b2.bug_id = bp2.bug_id\n)\nON (bp1.product_id = bp2.product_id AND (b1.date_reported < b2.date_reported\n OR b1.date_reported = b2.date_reported AND b1.bug_id < b2.bug_id))\nWHERE b2.bug_id IS NULL; \n```\n\n\n### 14.5.5 \u4ed6\u306e\u5217\u306b\u5bfe\u3057\u3066\u3082\u96c6\u7d04\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b\n\u3053\u308c\u306f\u6700\u5927\u306ebug_id\u304c\u6700\u65b0\u306e\u65e5\u4ed8\u3092\u6301\u3064\u3053\u3068\u3092\u3042\u3066\u306b\u3067\u304d\u308b\u5834\u5408\u306e\u307f\u306b\u4f7f\u7528\n\u3064\u307e\u308a\u30d0\u30b0\u5831\u544a\u304c\u6642\u7cfb\u5217\u9806\u306b\u884c\u308f\u308c\u308b\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306e\u307f\u6709\u52b9\n\n\n### 14.5.6 \u30b0\u30eb\u30fc\u30d7\u3054\u3068\u306b\u3059\u3079\u3066\u306e\u5024\u3092\u9023\u7d50\u3059\u308b\nGROUP_CONCAT\u95a2\u6570\u3092\u4f7f\u3046\n\n\u886814-6 GROUP_CONCAT\u95a2\u6570\u3092\u4f7f\u3044\u3001\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u3059\u3079\u3066\u306e\u5024\u30921\u3064\u306b\u9023\u7d50\n\n| product_id | latest | bug_id_list |\n|:-:|:-:|:-:|\n| 1 | 2010-06-01 | 1234,2248 |\n| 2 | 2010-02-16 | 3456,4077,5150 |\n| 3 | 2010-01-01 | 5678,8063 |\n\n\u6700\u65b0\u65e5\u4ed8\u306b\u5bfe\u5fdc\u3059\u308bbug_id\u306f\u7279\u5b9a\u3067\u304d\u306a\u3044 + \u5404\u30b0\u30eb\u30fc\u30d7\u306ebug_id\u304c\u3059\u3079\u3066\u542b\u307e\u308c\u308b\n\n\u52a0\u3048\u3066\u3001SQL\u6a19\u6e96\u306b\u6e96\u62e0\u3057\u3066\u3044\u306a\u3044\n\u4ed6\u306eDB\u88fd\u54c1\u3067\u306f\u3053\u306e\u95a2\u6570\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\n\u30ab\u30b9\u30bf\u30e0\u95a2\u6570\u3068\u30ab\u30b9\u30bf\u30e0\u96c6\u7d04\u95a2\u6570\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308bDB\u3082\u3042\u308b\n\u30ab\u30b9\u30bf\u30e0\u95a2\u6570\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u975e\u30b0\u30eb\u30fc\u30d7\u5316\u30af\u30a8\u30ea\u306e\u7d50\u679c\u3092\u30eb\u30fc\u30d7\u3057\u3001\u5024\u3092\u9023\u7d50\u3055\u305b\u308b\u305f\u3081\u306e\u30b9\u30c8\u30a2\u30c9\u30d7\u30ed\u30b7\u30fc\u30b8\u30e3\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u5fc5\u8981\n\n\u3053\u306e\u624b\u6cd5\u306f\u3001GROUP BY\u3067\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u306a\u3001\u5358\u4e00\u5024\u539f\u5247\u306b\u9055\u53cd\u3059\u308b\u53ef\u80fd\u6027\u3082\u6b8b\u3063\u3066\u3044\u308b\u5834\u5408\u306b\u4f7f\u3046\n\n## \u307e\u3068\u3081\n\n**\u66d6\u6627\u306a\u30af\u30a8\u30ea\u7d50\u679c\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u3001\u5358\u4e00\u5024\u306e\u539f\u5247\u306b\u5f93\u3046\u3053\u3068**\n   \n   \n"}