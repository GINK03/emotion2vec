{"tags": ["C#", "\u6570\u5b66", "bit\u6f14\u7b97"], "context": "\u4efb\u610f\u306e\u6570\u4ee5\u4e0a\u306e\u6700\u5c0f\u306e2\u306e\u3079\u304d\u4e57\u3092\u6c42\u3081\u308b\u3068\u3044\u3046\u8a18\u4e8b\u3092\u898b\u3064\u3051\u305f\u306e\u3067\u81ea\u5206\u3067\u3082\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n\u3069\u306e\u3088\u3046\u306a\u5834\u9762\u3067\u4f7f\u3046\u304b\u306a\u3069\u306f\u3001\u5143\u8a18\u4e8b\u306e\u65b9\u3092\u53c2\u7167\u3057\u3066\u3044\u305f\u3060\u3044\u3066\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u30d3\u30c3\u30c8\u6f14\u7b97\u3092\u7528\u3044\u3066\u6c42\u3081\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u66f8\u304d\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\n\u4ee5\u4e0b\u306b\u30b3\u30fc\u30c9\u3092\u793a\u3057\u307e\u3059\u3002\n\nc#\nstatic uint nearPow2(int n)\n{\n    // n\u304c0\u4ee5\u4e0b\u306e\u6642\u306f0\u3068\u3059\u308b\u3002\n    if (n <= 0) return 0;\n\n    // (n & (n - 1)) == 0 \u306e\u6642\u306f\u3001n\u304c2\u306e\u51aa\u4e57\u3067\u3042\u308b\u305f\u3081\u3001\u305d\u306e\u307e\u307en\u3092\u8fd4\u3059\u3002\n    if ((n & (n - 1)) == 0) return (uint)n;\n\n    // bit\u30b7\u30d5\u30c8\u3092\u7528\u3044\u3066\u30012\u306e\u51aa\u4e57\u3092\u6c42\u3081\u308b\u3002\n    uint ret = 1;\n    while (n > 0) { ret <<= 1; n >>= 1; }\n    return ret;\n}\n\n\n2016/6/11 8:30\u4fee\u6b63\n\n\u5c11\u3057\u3060\u3051\u539f\u7406\u306e\u8aac\u660e\n\n2\u306e\u51aa\u4e57\u304b\u5224\u5b9a\n\u3042\u308b\u6570$n$\u304c2\u306e\u51aa\u4e57\u304b\u5224\u5b9a\u3059\u308b\u306b\u306f\u3001(n & (n - 1))\u3053\u306e\u5f0f\u304c\u30010\u3068\u7b49\u3057\u3044\u304b\u3092\u8abf\u3079\u307e\u3059\u3002\u305f\u3060\u3057\u3001$n=0$\u306e\u5834\u5408\u306f\u3001\u6b63\u3057\u304f\u6c42\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u5148\u306b\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n$n$\u304c0\u304b\u30897\u307e\u3067\u306e\u6642\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n\n\n\nn(10\u9032)\nn\nn-1\nn & (n - 1)\n2\u306e\u51aa\u4e57\u304b\u3069\u3046\u304b\n\uff12\u306e\u4f55\u4e57\u304b\n\n\n\n\n0\n000\n111\n000\n\u2715\n-\n\n\n1\n001\n000\n000\n\u25ef\n0\n\n\n2\n010\n001\n000\n\u25ef\n1\n\n\n3\n011\n010\n010\n\u2715\n-\n\n\n4\n100\n011\n000\n\u25ef\n2\n\n\n5\n101\n100\n100\n\u2715\n-\n\n\n6\n110\n101\n100\n\u2715\n-\n\n\n7\n111\n110\n100\n\u2715\n-\n\n\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u30012\u306e\u51aa\u4e57\u304b\u306e\u5224\u5b9a\u304c\u3067\u304d\u307e\u3059\u3002\n2\u306e\u51aa\u4e57\u3068\u3044\u3046\u6570\u306f\u30012\u9032\u6570\u3067\u3001$MSb$\uff08Most Significant bit : \u6700\u4e0a\u4f4d\u30d3\u30c3\u30c8\uff09\u306e\uff11\u3064\u306e\u307f\u304c\u7acb\u3063\u3066\u3044\u308b\u72b6\u614b\u3067\u3059\u3002\n\u305d\u3057\u3066\u30012\u306e\u51aa\u4e57-1\u3068\u3044\u3046\u6570\u306f\u30012\u306e\u51aa\u4e57\u3067\u7acb\u3063\u3066\u3044\u308b\u30d3\u30c3\u30c8\u3088\u308a\u5c0f\u3055\u3044\u4f4d\u306e\u30d3\u30c3\u30c8\u304c\u5168\u3066\u7acb\u3063\u3066\u3044\u308b\u72b6\u614b\u3067\u3059\u3002\n\u3064\u307e\u308a\u3001\u305d\u308c\u3089\u306e$AND$(\u8ad6\u7406\u7a4d)\u3092\u53d6\u308b\u3068$0$\u306b\u306a\u308a\u307e\u3059\u3002\n\u4f8b\uff09 $8_{(10)}=1000_{(2)}$\u306e\u5224\u5b9a\n$1000 \\space and \\space 0111 = 0000$ \n\u8ad6\u7406\u7a4d\u304c$0$\u306b\u306a\u3063\u305f\u306e\u3067\u30012\u306e\u51aa\u4e57\u3068\u306a\u308b\u3002\n\n\u30d3\u30c3\u30c8\u30b7\u30d5\u30c8\u3092\u7528\u3044\u30662\u306e\u7d2f\u4e57\u3092\u6c42\u3081\u308b\n\u5143\u8a18\u4e8b\u306e\u65b9\u3067\u306f\u3001$n$\u304c\u4e0e\u3048\u3089\u308c\u308b\u6570\u3068\u3059\u308b\u3068\u30012\u3092 $log_2(n)$\u306e\u5c0f\u6570\u3092\u5207\u308a\u6368\u3066\u305f\u5024 \u4e57\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u76ee\u7684\u306e\u5024\u3092\u6c42\u3081\u3066\u3044\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306f\u30012\u306e\u51aa\u4e57\u3092\u6c42\u3081\u308b\u3068\u3044\u3046\u3053\u3068\u306a\u306e\u3067\u3001bit\u6f14\u7b97(\u30d3\u30c3\u30c8\u30b7\u30d5\u30c8)\u3092\u7528\u3044\u3066\u6c42\u3081\u3066\u307f\u307e\u3059\u3002\n\u307e\u305a\u3001\u30d3\u30c3\u30c8\u30b7\u30d5\u30c8\u3068\u306f\uff1f\n2\u9032\u6570\u306e\u30d3\u30c3\u30c8\u5217\u3092\u53f3\u3084\u5de6\u306b\u4efb\u610f\u306e\u30d3\u30c3\u30c8\u6570\u3060\u3051\u79fb\u52d5\u3055\u305b\u308b\u3053\u3068\u3067\u3059\u3002\n\u3053\u308c\u3092\u4f7f\u3046\u3068\u4f55\u304c\u5b09\u3057\u3044\u304b\u3068\u3044\u3046\u3068\u30012\u9032\u6570\u3067\u3001\u5de6\u306b1\u30d3\u30c3\u30c8\u30b7\u30d5\u30c8\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u305d\u306e\u5024\u30922\u500d\u3059\u308b\u3053\u3068\u306b\u7b49\u3057\u3044\u3067\u3059\u3002\n\u307e\u305f\u3001\u540c\u69d8\u306b\u53f3\u306b1\u30d3\u30c3\u30c8\u30b7\u30d5\u30c8\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u305d\u306e\u5024\u30921/2\u500d\u3059\u308b\u3053\u3068\u3068\u7b49\u3057\u3044\u3067\u3059\u3002\n\u3064\u307e\u308a\u3001$\\times2^p$ \u3084$\\div2^p$\u3068\u3044\u3046\u64cd\u4f5c\u304c$p$\u30d3\u30c3\u30c8\u306e\u30b7\u30d5\u30c8\u6f14\u7b97\u3067\u6c42\u307e\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3059\uff01(p\u306f\u4efb\u610f\u306e\u6b63\u306e\u6574\u6570)\n\u4e0a\u8a18\u306e\u3053\u3068\u3092\u8e0f\u307e\u3048\u3066\u8003\u3048\u308b\u3068\u3001\u4efb\u610f\u306e\u6570\u4ee5\u4e0a\u306e\u6700\u5c0f\u306e2\u306e\u51aa\u4e57\u3092\u6c42\u3081\u308b\u306b\u306f\u3001\n1\u3092MSb\u306e\u30d3\u30c3\u30c8\u306e\u756a\u53f7\u5206\u5de6\u306b\u30b7\u30d5\u30c8\u3059\u308b\u4e8b\u306b\u3088\u3063\u3066\u6c42\u307e\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u4f8b\uff09 $3_{(10)}=11_{(2)}$\n$11$\u306e$MSb$\u306e\u30d3\u30c3\u30c8\u756a\u53f7\u306f$2$\u3002\n$1$\u3092\u5de6\u306b$2$\u30d3\u30c3\u30c8\u30b7\u30d5\u30c8\u3059\u308b\u3068\u3001$100_{(2)}=4_{(10)}$\u3068\u306a\u308a\u3001\u7b54\u3048\u306f$4$\u3068\u306a\u308b\u3002\n\nMSb\u306e\u9ad8\u901f\u306a\u6c42\u3081\u65b9(\u52a0\u7b46\u4e88\u5b9a)\n\u30b3\u30e1\u30f3\u30c8\u306b\u3042\u3063\u305fMSb\u3092\u7573\u307f\u8fbc\u307f\u3067\u8a08\u7b97\u3059\u308b\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u5b9f\u884c\u7d50\u679c\n\u5b9f\u884c\u78ba\u8a8d\u7528\u306e\u30b3\u30fc\u30c9\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002\nusing System;\nclass Program\n{\n    static void Main()\n    {\n        Console.WriteLine($\"-1          : {nearPow2(-1)}\");\n        Console.WriteLine($\"0           : {nearPow2(0)}\");\n        Console.WriteLine($\"1           : {nearPow2(1)}\");\n        Console.WriteLine($\"2           : {nearPow2(2)}\");\n        Console.WriteLine($\"3           : {nearPow2(3)}\");\n        Console.WriteLine($\"4           : {nearPow2(4)}\");\n        Console.WriteLine($\"7           : {nearPow2(7)}\");\n        Console.WriteLine($\"8           : {nearPow2(8)}\");\n        Console.WriteLine($\"0x7fffffff  : {nearPow2((int)0x7fffffff)}\");\n    }\n\n    static uint nearPow2(int n)\n    {\n        // n\u304c0\u4ee5\u4e0b\u306e\u6642\u306f0\u3068\u3059\u308b\u3002\n        if (n <= 0) return 0;\n\n        // (n & (n - 1)) == 0 \u306e\u6642\u306f\u3001n\u304c2\u306e\u51aa\u4e57\u3067\u3042\u308b\u305f\u3081\u3001\u305d\u306e\u307e\u307en\u3092\u8fd4\u3059\u3002\n        if ((n & (n - 1)) == 0) return (uint)n;\n\n        // bit\u30b7\u30d5\u30c8\u3092\u7528\u3044\u3066\u30012\u306e\u51aa\u4e57\u3092\u6c42\u3081\u308b\u3002\n        uint ret = 1;\n        while (n > 0) { ret <<= 1; n >>= 1; }\n        return ret;\n    }\n}\n\n\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002\n-1         : 0\n0          : 0\n1          : 1\n2          : 2\n3          : 4\n4          : 4\n7          : 8\n8          : 8\n0x7fffffff : 2147483648\n\n2016/6/11 8:30\u4fee\u6b63\n[\u4efb\u610f\u306e\u6570\u4ee5\u4e0a\u306e\u6700\u5c0f\u306e2\u306e\u3079\u304d\u4e57\u3092\u6c42\u3081\u308b](http://qiita.com/edo_m18/items/99087f5240f044e0622f)\u3068\u3044\u3046\u8a18\u4e8b\u3092\u898b\u3064\u3051\u305f\u306e\u3067\u81ea\u5206\u3067\u3082\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n\u3069\u306e\u3088\u3046\u306a\u5834\u9762\u3067\u4f7f\u3046\u304b\u306a\u3069\u306f\u3001\u5143\u8a18\u4e8b\u306e\u65b9\u3092\u53c2\u7167\u3057\u3066\u3044\u305f\u3060\u3044\u3066\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u30d3\u30c3\u30c8\u6f14\u7b97\u3092\u7528\u3044\u3066\u6c42\u3081\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u66f8\u304d\u307e\u3059\u3002\n\n# \u30b3\u30fc\u30c9\n\u4ee5\u4e0b\u306b\u30b3\u30fc\u30c9\u3092\u793a\u3057\u307e\u3059\u3002\n\n```csharp:c#\nstatic uint nearPow2(int n)\n{\n    // n\u304c0\u4ee5\u4e0b\u306e\u6642\u306f0\u3068\u3059\u308b\u3002\n    if (n <= 0) return 0;\n\n    // (n & (n - 1)) == 0 \u306e\u6642\u306f\u3001n\u304c2\u306e\u51aa\u4e57\u3067\u3042\u308b\u305f\u3081\u3001\u305d\u306e\u307e\u307en\u3092\u8fd4\u3059\u3002\n    if ((n & (n - 1)) == 0) return (uint)n;\n\n    // bit\u30b7\u30d5\u30c8\u3092\u7528\u3044\u3066\u30012\u306e\u51aa\u4e57\u3092\u6c42\u3081\u308b\u3002\n    uint ret = 1;\n    while (n > 0) { ret <<= 1; n >>= 1; }\n    return ret;\n}\n```\n2016/6/11 8:30\u4fee\u6b63\n\n# \u5c11\u3057\u3060\u3051\u539f\u7406\u306e\u8aac\u660e\n## 2\u306e\u51aa\u4e57\u304b\u5224\u5b9a\n\u3042\u308b\u6570$n$\u304c2\u306e\u51aa\u4e57\u304b\u5224\u5b9a\u3059\u308b\u306b\u306f\u3001`(n & (n - 1))`\u3053\u306e\u5f0f\u304c\u30010\u3068\u7b49\u3057\u3044\u304b\u3092\u8abf\u3079\u307e\u3059\u3002\u305f\u3060\u3057\u3001$n=0$\u306e\u5834\u5408\u306f\u3001\u6b63\u3057\u304f\u6c42\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u5148\u306b\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n$n$\u304c0\u304b\u30897\u307e\u3067\u306e\u6642\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n\n| n(10\u9032) |  n  | n-1 | n & (n - 1)|2\u306e\u51aa\u4e57\u304b\u3069\u3046\u304b|\uff12\u306e\u4f55\u4e57\u304b|\n|:-------:|:---:|:---:|:----------:|:---------:|:------:|\n|    0    | 000 | 111 |     000    |      \u2715     |   -   |\n|    1    | 001 | 000 |     000    |      \u25ef     |   0   |\n|    2    | 010 | 001 |     000    |      \u25ef     |   1   |\n|    3    | 011 | 010 |     010    |      \u2715     |   -   |\n|    4    | 100 | 011 |     000    |      \u25ef     |   2   |\n|    5    | 101 | 100 |     100    |      \u2715     |   -   |\n|    6    | 110 | 101 |     100    |      \u2715     |   -   |\n|    7    | 111 | 110 |     100    |      \u2715     |   -   |\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u30012\u306e\u51aa\u4e57\u304b\u306e\u5224\u5b9a\u304c\u3067\u304d\u307e\u3059\u3002\n2\u306e\u51aa\u4e57\u3068\u3044\u3046\u6570\u306f\u30012\u9032\u6570\u3067\u3001$MSb$\uff08Most Significant bit : \u6700\u4e0a\u4f4d\u30d3\u30c3\u30c8\uff09\u306e\uff11\u3064\u306e\u307f\u304c\u7acb\u3063\u3066\u3044\u308b\u72b6\u614b\u3067\u3059\u3002\n\u305d\u3057\u3066\u3001`2\u306e\u51aa\u4e57-1`\u3068\u3044\u3046\u6570\u306f\u30012\u306e\u51aa\u4e57\u3067\u7acb\u3063\u3066\u3044\u308b\u30d3\u30c3\u30c8\u3088\u308a\u5c0f\u3055\u3044\u4f4d\u306e\u30d3\u30c3\u30c8\u304c\u5168\u3066\u7acb\u3063\u3066\u3044\u308b\u72b6\u614b\u3067\u3059\u3002\n\u3064\u307e\u308a\u3001\u305d\u308c\u3089\u306e$AND$(\u8ad6\u7406\u7a4d)\u3092\u53d6\u308b\u3068$0$\u306b\u306a\u308a\u307e\u3059\u3002\n\u4f8b\uff09 $8_{(10)}=1000_{(2)}$\u306e\u5224\u5b9a\n$1000 \\space and \\space 0111 = 0000$ \n\u8ad6\u7406\u7a4d\u304c$0$\u306b\u306a\u3063\u305f\u306e\u3067\u30012\u306e\u51aa\u4e57\u3068\u306a\u308b\u3002\n\n## \u30d3\u30c3\u30c8\u30b7\u30d5\u30c8\u3092\u7528\u3044\u30662\u306e\u7d2f\u4e57\u3092\u6c42\u3081\u308b\n\u5143\u8a18\u4e8b\u306e\u65b9\u3067\u306f\u3001$n$\u304c\u4e0e\u3048\u3089\u308c\u308b\u6570\u3068\u3059\u308b\u3068\u30012\u3092 $log_2(n)$\u306e\u5c0f\u6570\u3092\u5207\u308a\u6368\u3066\u305f\u5024 \u4e57\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u76ee\u7684\u306e\u5024\u3092\u6c42\u3081\u3066\u3044\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306f\u30012\u306e\u51aa\u4e57\u3092\u6c42\u3081\u308b\u3068\u3044\u3046\u3053\u3068\u306a\u306e\u3067\u3001bit\u6f14\u7b97(\u30d3\u30c3\u30c8\u30b7\u30d5\u30c8)\u3092\u7528\u3044\u3066\u6c42\u3081\u3066\u307f\u307e\u3059\u3002\n\n\u307e\u305a\u3001\u30d3\u30c3\u30c8\u30b7\u30d5\u30c8\u3068\u306f\uff1f\n2\u9032\u6570\u306e\u30d3\u30c3\u30c8\u5217\u3092\u53f3\u3084\u5de6\u306b\u4efb\u610f\u306e\u30d3\u30c3\u30c8\u6570\u3060\u3051\u79fb\u52d5\u3055\u305b\u308b\u3053\u3068\u3067\u3059\u3002\n\u3053\u308c\u3092\u4f7f\u3046\u3068\u4f55\u304c\u5b09\u3057\u3044\u304b\u3068\u3044\u3046\u3068\u30012\u9032\u6570\u3067\u3001\u5de6\u306b1\u30d3\u30c3\u30c8\u30b7\u30d5\u30c8\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u306f`\u305d\u306e\u5024\u30922\u500d\u3059\u308b`\u3053\u3068\u306b\u7b49\u3057\u3044\u3067\u3059\u3002\n\u307e\u305f\u3001\u540c\u69d8\u306b\u53f3\u306b1\u30d3\u30c3\u30c8\u30b7\u30d5\u30c8\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001`\u305d\u306e\u5024\u30921/2\u500d\u3059\u308b`\u3053\u3068\u3068\u7b49\u3057\u3044\u3067\u3059\u3002\n\u3064\u307e\u308a\u3001$\\times2^p$ \u3084$\\div2^p$\u3068\u3044\u3046\u64cd\u4f5c\u304c$p$\u30d3\u30c3\u30c8\u306e\u30b7\u30d5\u30c8\u6f14\u7b97\u3067\u6c42\u307e\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3059\uff01(p\u306f\u4efb\u610f\u306e\u6b63\u306e\u6574\u6570)\n\n\u4e0a\u8a18\u306e\u3053\u3068\u3092\u8e0f\u307e\u3048\u3066\u8003\u3048\u308b\u3068\u3001\u4efb\u610f\u306e\u6570\u4ee5\u4e0a\u306e\u6700\u5c0f\u306e2\u306e\u51aa\u4e57\u3092\u6c42\u3081\u308b\u306b\u306f\u3001\n `1\u3092MSb\u306e\u30d3\u30c3\u30c8\u306e\u756a\u53f7\u5206\u5de6\u306b\u30b7\u30d5\u30c8\u3059\u308b`\u4e8b\u306b\u3088\u3063\u3066\u6c42\u307e\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\u4f8b\uff09 $3_{(10)}=11_{(2)}$\n$11$\u306e$MSb$\u306e\u30d3\u30c3\u30c8\u756a\u53f7\u306f$2$\u3002\n$1$\u3092\u5de6\u306b$2$\u30d3\u30c3\u30c8\u30b7\u30d5\u30c8\u3059\u308b\u3068\u3001$100_{(2)}=4_{(10)}$\u3068\u306a\u308a\u3001\u7b54\u3048\u306f$4$\u3068\u306a\u308b\u3002\n\n## MSb\u306e\u9ad8\u901f\u306a\u6c42\u3081\u65b9(\u52a0\u7b46\u4e88\u5b9a)\n\u30b3\u30e1\u30f3\u30c8\u306b\u3042\u3063\u305fMSb\u3092\u7573\u307f\u8fbc\u307f\u3067\u8a08\u7b97\u3059\u308b\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u5b9f\u884c\u7d50\u679c\n\u5b9f\u884c\u78ba\u8a8d\u7528\u306e\u30b3\u30fc\u30c9\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002\n\n```csharp\nusing System;\nclass Program\n{\n    static void Main()\n    {\n        Console.WriteLine($\"-1          : {nearPow2(-1)}\");\n        Console.WriteLine($\"0           : {nearPow2(0)}\");\n        Console.WriteLine($\"1           : {nearPow2(1)}\");\n        Console.WriteLine($\"2           : {nearPow2(2)}\");\n        Console.WriteLine($\"3           : {nearPow2(3)}\");\n        Console.WriteLine($\"4           : {nearPow2(4)}\");\n        Console.WriteLine($\"7           : {nearPow2(7)}\");\n        Console.WriteLine($\"8           : {nearPow2(8)}\");\n        Console.WriteLine($\"0x7fffffff  : {nearPow2((int)0x7fffffff)}\");\n    }\n\n    static uint nearPow2(int n)\n    {\n        // n\u304c0\u4ee5\u4e0b\u306e\u6642\u306f0\u3068\u3059\u308b\u3002\n        if (n <= 0) return 0;\n\n        // (n & (n - 1)) == 0 \u306e\u6642\u306f\u3001n\u304c2\u306e\u51aa\u4e57\u3067\u3042\u308b\u305f\u3081\u3001\u305d\u306e\u307e\u307en\u3092\u8fd4\u3059\u3002\n        if ((n & (n - 1)) == 0) return (uint)n;\n\n        // bit\u30b7\u30d5\u30c8\u3092\u7528\u3044\u3066\u30012\u306e\u51aa\u4e57\u3092\u6c42\u3081\u308b\u3002\n        uint ret = 1;\n        while (n > 0) { ret <<= 1; n >>= 1; }\n        return ret;\n    }\n}\n```\n\n\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002\n\n```\n-1         : 0\n0          : 0\n1          : 1\n2          : 2\n3          : 4\n4          : 4\n7          : 8\n8          : 8\n0x7fffffff : 2147483648\n```\n2016/6/11 8:30\u4fee\u6b63\n"}