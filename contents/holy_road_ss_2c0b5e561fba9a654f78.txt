{"context": "s3_cli = Aws::S3::Client.new(region: '\u308c\u304e\u304a\u3093', endpoint: \"\u3048\u3093\u3069\u307d\u3044\u3093\u3068\")\nIO.pipe do |read_io, write_io|\n  write_io.binmode\n  Thread.new do\n    begin\n      s3_cli.get_object(bucket: '\u3070\u3051\u3063\u3068', key: '\u3075\u3041\u3044\u308b\u3071\u3059') do |chunk|\n        write_io.write(chunk)\n      end\n    rescue => ex\n      write_io.close\n      raise ex\n    end\n  end\n  gz = Zlib::GzipReader.new(read_io)\nend\n\n\u3042\u3068\u306fgz\u3092\u597d\u304d\u306a\u3088\u3046\u306b\u3059\u308c\u3070\u826f\u3044\u3002\n/tmp\u3068\u304b\u306bDL\u2192\u89e3\u51cd\u2192read\u3063\u3066\u3084\u308b\u306e\u304c\u306a\u3093\u304b\u6c17\u306b\u98df\u308f\u306a\u3044\u5834\u5408\u3068\u304b\u306b\u305c\u3072\u3002\n```ruby\ns3_cli = Aws::S3::Client.new(region: '\u308c\u304e\u304a\u3093', endpoint: \"\u3048\u3093\u3069\u307d\u3044\u3093\u3068\")\nIO.pipe do |read_io, write_io|\n  write_io.binmode\n  Thread.new do\n    begin\n      s3_cli.get_object(bucket: '\u3070\u3051\u3063\u3068', key: '\u3075\u3041\u3044\u308b\u3071\u3059') do |chunk|\n        write_io.write(chunk)\n      end\n    rescue => ex\n      write_io.close\n      raise ex\n    end\n  end\n  gz = Zlib::GzipReader.new(read_io)\nend\n```\n\n\u3042\u3068\u306fgz\u3092\u597d\u304d\u306a\u3088\u3046\u306b\u3059\u308c\u3070\u826f\u3044\u3002\n/tmp\u3068\u304b\u306bDL\u2192\u89e3\u51cd\u2192read\u3063\u3066\u3084\u308b\u306e\u304c\u306a\u3093\u304b\u6c17\u306b\u98df\u308f\u306a\u3044\u5834\u5408\u3068\u304b\u306b\u305c\u3072\u3002\n", "tags": ["Ruby", "AWS", "S3"]}