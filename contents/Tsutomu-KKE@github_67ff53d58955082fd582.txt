{"tags": ["Python", "Jupyter"], "context": "Jupyter\u306e\u5c0f\u62803\nJupyter\u306e\u5c0f\u62802\u306e\u7d9a\u304d\n\n\u4e16\u754c\u4e00\u306e\u3082\u306e\u3092\u8868\u793a\u3055\u305b\u308b\n\u6e96\u5099\u3068\u3057\u3066\u3001\u307e\u305a\u3001\u4e0b\u8a18\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\njupyter_notebook\nimport random, re, urllib, IPython.core.getipython\nfrom itertools import takewhile\nwith urllib.request.urlopen('https://ja.wikipedia.org/wiki/'\n    '%E4%B8%96%E7%95%8C%E4%B8%80%E3%81%AE%E4%B8%80%E8%A6%A7') as fp:\n    s0 = fp.read().decode('utf8')\ns = re.sub('<img.*?/>', '', s0.replace('\\u3000', ''))\nle = 0\nwhile le != len(s):\n    le = len(s)\n    s = re.sub(r'<(a|b|i|span|strong|sup)[^>]*>(.*?)</\\1>', r'\\2', s)\ns = re.sub(r'\\[[0-9]*]', '', s)\nll = re.findall('<li>(.*?)</li>', s[10000:])\nll = [i for i in takewhile(lambda s: not s.startswith('\u30ae\u30cd\u30b9\u4e16\u754c\u8a18\u9332'), ll)\n    if '\u6700' in i or '\u4e16\u754c\u4e00' in i or len(i) > 15]\ndef G_impl(s, lst=ll):\n    print(random.choice(lst))\nip = IPython.core.getipython.get_ipython()\nif ip:\n    ip.register_magic_function(G_impl, magic_name='G')\n\n\n\n\u5b9f\u884c\u3057\u3066\u307f\u308b\n\njupyter_notebook\nG\n>>>\n\u97f3\u7bc0\u304c\u4e16\u754c\u4e00\u5c11\u306a\u3044\u8a00\u8a9e\uff08\u306e\u4e00\u3064\uff09\u2192 \u30cf\u30ef\u30a4\u8a9e - 35\u97f3\u7bc0\u3002\n\n\n\njupyter_notebook\nG\n>>>\n\u4e0d\u898f\u5247\u52d5\u8a5e\u304c\u4e16\u754c\u4e00\u591a\u3044\u8a00\u8a9e\u2192 \u30d5\u30e9\u30f3\u30b9\u8a9e - 570\u500b\u3002\n\n\n\u4ee5\u4e0a\nJupyter\u306e\u5c0f\u62803\n[Jupyter\u306e\u5c0f\u62802](http://qiita.com/Tsutomu-KKE@github/items/708ae8fe0cf293f7f986)\u306e\u7d9a\u304d\n# \u4e16\u754c\u4e00\u306e\u3082\u306e\u3092\u8868\u793a\u3055\u305b\u308b\n\n\u6e96\u5099\u3068\u3057\u3066\u3001\u307e\u305a\u3001\u4e0b\u8a18\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```py3:jupyter_notebook\nimport random, re, urllib, IPython.core.getipython\nfrom itertools import takewhile\nwith urllib.request.urlopen('https://ja.wikipedia.org/wiki/'\n    '%E4%B8%96%E7%95%8C%E4%B8%80%E3%81%AE%E4%B8%80%E8%A6%A7') as fp:\n    s0 = fp.read().decode('utf8')\ns = re.sub('<img.*?/>', '', s0.replace('\\u3000', ''))\nle = 0\nwhile le != len(s):\n    le = len(s)\n    s = re.sub(r'<(a|b|i|span|strong|sup)[^>]*>(.*?)</\\1>', r'\\2', s)\ns = re.sub(r'\\[[0-9]*]', '', s)\nll = re.findall('<li>(.*?)</li>', s[10000:])\nll = [i for i in takewhile(lambda s: not s.startswith('\u30ae\u30cd\u30b9\u4e16\u754c\u8a18\u9332'), ll)\n    if '\u6700' in i or '\u4e16\u754c\u4e00' in i or len(i) > 15]\ndef G_impl(s, lst=ll):\n    print(random.choice(lst))\nip = IPython.core.getipython.get_ipython()\nif ip:\n    ip.register_magic_function(G_impl, magic_name='G')\n```\n\n# \u5b9f\u884c\u3057\u3066\u307f\u308b\n\n```py3:jupyter_notebook\nG\n>>>\n\u97f3\u7bc0\u304c\u4e16\u754c\u4e00\u5c11\u306a\u3044\u8a00\u8a9e\uff08\u306e\u4e00\u3064\uff09\u2192 \u30cf\u30ef\u30a4\u8a9e - 35\u97f3\u7bc0\u3002\n```\n\n```py3:jupyter_notebook\nG\n>>>\n\u4e0d\u898f\u5247\u52d5\u8a5e\u304c\u4e16\u754c\u4e00\u591a\u3044\u8a00\u8a9e\u2192 \u30d5\u30e9\u30f3\u30b9\u8a9e - 570\u500b\u3002\n```\n\n\u4ee5\u4e0a\n\n"}