{"context": "\n\n\u306f\u3058\u3081\u306b\n\u5148\u65e5\u8a18\u4e8b\u306b\u3057\u305f\u3001Google Maps API \u3067Geocoding\u3057\u3088\u3046\u3068\u3057\u305f\u3089undefined\u306b\u306a\u308b\u306e\u4e2d\u3067\u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306b\u3064\u3044\u3066\u89e6\u308c\u305f\u306e\u3067\u3001\u90fd\u9053\u5e9c\u770c\u540d\u3060\u3051\u3092\u53d6\u5f97\u3059\u308bJS\u3092\u66f8\u3044\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u3001Google Maps API \u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u306f\u3053\u3061\u3089\u3002\n\n\u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306e\u66f8\u304d\u65b9\n\u307e\u305a\u3001\u57fa\u672c\u7684\u306a\u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306e\u66f8\u304d\u65b9\u306f\u3053\u3061\u3089\n\nhtml\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Geocoding service</title>\n    <meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\">\n    <meta charset=\"utf-8\">\n    <style>\n        html, body {\n            height: 100%;\n            margin: 0;\n            padding: 0;\n        }\n\n        #map {\n            height: 500px;\n            width: 50%;\n        }\n\n        #floating-panel {\n            position: absolute;\n            top: 10px;\n            left: 30%;\n            z-index: 5;\n            background-color: #fff;\n            padding: 5px;\n            border: 1px solid #999;\n            text-align: center;\n            font-family: 'Roboto', 'sans-serif';\n            line-height: 30px;\n            padding-left: 10px;\n        }\n\n    </style>\n</head>\n<body>\n<div id=\"floating-panel\">\n    <input id=\"latlng\" type=\"textbox\" value=\"35.689488, 139.691706\">\n    <input id=\"submit\" type=\"button\" value=\"Reverse Geocode\">\n</div>\n<div id=\"map\"></div>\n<script src=\"https://maps.googleapis.com/maps/api/js\"></script>\n<script>\n    function initMap()\n    {\n        var myLatLng = {lat: 35.658581, lng: 139.745433};\n        var map = new google.maps.Map(document.getElementById('map'), {\n            zoom: 15,\n            center: myLatLng\n        });\n        var marker = new google.maps.Marker({\n            position: myLatLng,\n            map: map\n        });\n\n        document.getElementById('submit').addEventListener('click', function () {\n            geocodeLatLng(getPreName);\n            alert(\"\u51e6\u7406\u7d42\u4e86\");\n        });\n    }\n\n    function geocodeLatLng(callback) {\n        var geocoder = new google.maps.Geocoder();\n        var input = document.getElementById('latlng').value;\n        var latlngStr = input.split(',', 2);\n        var latlng = {lat: parseFloat(latlngStr[0]), lng: parseFloat(latlngStr[1])};\n        geocoder.geocode({'location': latlng}, function(results, status) {\n            if (status === google.maps.GeocoderStatus.OK) {\n                if (results[1]) {\n                    callback(results);\n                } else {\n                    alert('No results found');\n                }\n            } else {\n                alert('Geocoder failed due to: ' + status);\n            }\n        });\n    }\n\n    function getPreName(geoCodeResults)\n    {\n        // \u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u7d50\u679c\u3092\u7528\u3044\u305f\u51e6\u7406\n        console.log(geoCodeResults);\n    }\n    initMap();\n</script>\n</body>\n</html>\n\n\n\n\u3053\u3053\u306f\u3001\u524d\u56de\u307e\u3067\u3068\u540c\u3058\u3067\u3059\u306d\u3002\n\n\u90fd\u9053\u5e9c\u770c\u540d\u3060\u3051\u3092\u53d6\u5f97\u3059\u308b\n\u7def\u5ea6\u30fb\u7d4c\u5ea6\u304b\u3089\u30d2\u30c3\u30c8\u3057\u305f\u5024\u306fObject\u3067\u8fd4\u5374\u3055\u308c\u3066\u304d\u307e\u3059\u3002\n\u5024\u304c\u305f\u304f\u3055\u3093\u3042\u308a\u3001\u300c\u3069\u3053\u306b\u90fd\u9053\u5e9c\u770c\u5165\u3063\u3066\u308b\u3093\u3060\u3088\u300d\u3068\u306a\u308a\u304b\u306d\u307e\u305b\u3093\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u8fd4\u3063\u3066\u6765\u305f\u5024\u306e\u3069\u3053\u306b\u90fd\u9053\u5e9c\u770c\u540d\u304c\u3042\u308b\u304b\u3068\u3044\u3046\u3068\u3001\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u3067\u3042\u308c\u3070\ngeoCodeResults[0].address_components\u306e\u4e2d\u306e\u914d\u5217\u306etypes[0]\u304cadministrative_area_level_1\u306elong_name\u3067\u3059\u3002\u8ffd\u3046\u306e\u5927\u5909\uff01\uff01\uff01\n\u3050\u308b\u3050\u308b\u56de\u3057\u3066\u90fd\u9053\u5e9c\u770c\u540d\u3060\u3051\u3092\u53d6\u5f97\u3057\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\uff08\u3082\u3063\u3068\u3044\u3044\u65b9\u6cd5\u304c\u3042\u308b\u306f\u305a\uff09\n    function getPreName(geoCodeResults)\n    {\n        // \u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u7d50\u679c\u3092\u7528\u3044\u305f\u51e6\u7406\n        var geoCnt = geoCodeResults[0].address_components.length;\n        var prefName = \"\";\n        for (var i = 0; i < geoCnt; i++) {\n            if (geoCodeResults[0].address_components[i].types[0] === \"administrative_area_level_1\") {\n                prefName = geoCodeResults[0].address_components[i].long_name;\n                return prefName;\n            }\n        }\n        return prefName;\n    }\n\n\u95a2\u6570\u306e\u5f15\u6570\u306b\u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3067\u53d6\u5f97\u3057\u305f\u7d50\u679c\u3092\u5165\u308c\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001\u90fd\u9053\u5e9c\u770c\u540d\u304c\u5165\u3063\u3066\u3044\u308b\u7b87\u6240\u3092\u5224\u5b9a\u3057\u3066\u3001\u90fd\u9053\u5e9c\u770c\u540d\u304c\u5165\u3063\u3066\u3044\u308b\u7b87\u6240\u304c\u6765\u305f\u3089\u90fd\u9053\u5e9c\u770c\u540d\u3092\u8fd4\u3059\u3001\u3068\u3044\u3046\u7c21\u5358\u306a\u51e6\u7406\u3002\n\u3076\u3093\u3076\u3093\u56de\u3059\u306e\u3042\u3093\u307e\u308a\u597d\u304d\u3058\u3083\u306a\u3044\u3093\u3067\u3059\u3051\u3069\u306d(\uff40\uff1b\u03c9\uff1b\u00b4)\n\u203b\u8ffd\u8a18\u203b\nwf9a5m75\u3055\u3093\u3088\u308a\u30b3\u30e1\u30f3\u30c8\u9802\u304d\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059m(_ _)m\nfunction getPreName(geoCodeResults)\n{\n    // \u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u7d50\u679c\u3092\u7528\u3044\u305f\u51e6\u7406\n    var results = geoCodeResults[0].address_components.filter(function(component) {\n      return component.types.indexOf(\"administrative_area_level_1\") > -1;\n    });\n    console.log(results[0].long_name);\n}\n\n\u3053\u306e\u3088\u3046\u306b\u66f8\u3051\u3070\u3001for\u3067\u66f8\u304f\u3088\u308a\u30b7\u30f3\u30d7\u30eb\u3067\u3044\u3044\u3067\u3059\u306d\u3002\n\n\u304a\u308f\u308a\u306b\n\u7d50\u69cb\u7c21\u5358\u3067\u3057\u305f\u306d\u3002\n\u3069\u3053\u306b\u4f55\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u304b\u304c\u5206\u304b\u308c\u3070\u305d\u3053\u307e\u3067\u96e3\u3057\u3044\u3053\u3068\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u4ed6\u306b\u3082\u3001\u90fd\u9053\u5e9c\u770c\u540d\u3060\u3051\u3067\u306f\u306a\u304f\u3066\u56fd\u540d\u304c\u6b32\u3057\u3044\uff01\u5e02\u533a\u753a\u6751\u540d\u304c\u6b32\u3057\u3044\uff01\u306a\u3069\u3001\u305d\u306e\u5024\u304c\u5165\u3063\u3066\u308b\u7b87\u6240\u3092\u898b\u3066\u3001\u5224\u5b9a\u30ed\u30b8\u30c3\u30af\u3092\u5909\u66f4\u3059\u308c\u3070\u53d6\u5f97\u3067\u304d\u307e\u3059\u306d\uff01\uff01\uff01\n#\u306f\u3058\u3081\u306b\n\u5148\u65e5\u8a18\u4e8b\u306b\u3057\u305f\u3001[Google Maps API \u3067Geocoding\u3057\u3088\u3046\u3068\u3057\u305f\u3089undefined\u306b\u306a\u308b](http://qiita.com/Arashi/items/33a605870d39aeac9a37#%E9%80%86%E3%82%B8%E3%82%AA%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0)\u306e\u4e2d\u3067\u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306b\u3064\u3044\u3066\u89e6\u308c\u305f\u306e\u3067\u3001\u90fd\u9053\u5e9c\u770c\u540d\u3060\u3051\u3092\u53d6\u5f97\u3059\u308bJS\u3092\u66f8\u3044\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u3001Google Maps API \u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u306f[\u3053\u3061\u3089](http://qiita.com/Arashi/items/2aa756c942e0de323a97)\u3002\n\n#\u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306e\u66f8\u304d\u65b9\n\n\u307e\u305a\u3001\u57fa\u672c\u7684\u306a\u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306e\u66f8\u304d\u65b9\u306f\u3053\u3061\u3089\n\n```:html\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Geocoding service</title>\n    <meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\">\n    <meta charset=\"utf-8\">\n    <style>\n        html, body {\n            height: 100%;\n            margin: 0;\n            padding: 0;\n        }\n\n        #map {\n            height: 500px;\n            width: 50%;\n        }\n\n        #floating-panel {\n            position: absolute;\n            top: 10px;\n            left: 30%;\n            z-index: 5;\n            background-color: #fff;\n            padding: 5px;\n            border: 1px solid #999;\n            text-align: center;\n            font-family: 'Roboto', 'sans-serif';\n            line-height: 30px;\n            padding-left: 10px;\n        }\n\n    </style>\n</head>\n<body>\n<div id=\"floating-panel\">\n    <input id=\"latlng\" type=\"textbox\" value=\"35.689488, 139.691706\">\n    <input id=\"submit\" type=\"button\" value=\"Reverse Geocode\">\n</div>\n<div id=\"map\"></div>\n<script src=\"https://maps.googleapis.com/maps/api/js\"></script>\n<script>\n    function initMap()\n    {\n        var myLatLng = {lat: 35.658581, lng: 139.745433};\n        var map = new google.maps.Map(document.getElementById('map'), {\n            zoom: 15,\n            center: myLatLng\n        });\n        var marker = new google.maps.Marker({\n            position: myLatLng,\n            map: map\n        });\n\n        document.getElementById('submit').addEventListener('click', function () {\n            geocodeLatLng(getPreName);\n            alert(\"\u51e6\u7406\u7d42\u4e86\");\n        });\n    }\n\n    function geocodeLatLng(callback) {\n        var geocoder = new google.maps.Geocoder();\n        var input = document.getElementById('latlng').value;\n        var latlngStr = input.split(',', 2);\n        var latlng = {lat: parseFloat(latlngStr[0]), lng: parseFloat(latlngStr[1])};\n        geocoder.geocode({'location': latlng}, function(results, status) {\n            if (status === google.maps.GeocoderStatus.OK) {\n                if (results[1]) {\n                    callback(results);\n                } else {\n                    alert('No results found');\n                }\n            } else {\n                alert('Geocoder failed due to: ' + status);\n            }\n        });\n    }\n\n    function getPreName(geoCodeResults)\n    {\n        // \u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u7d50\u679c\u3092\u7528\u3044\u305f\u51e6\u7406\n        console.log(geoCodeResults);\n    }\n    initMap();\n</script>\n</body>\n</html>\n```\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-01-11 23.22.58.png](https://qiita-image-store.s3.amazonaws.com/0/50208/2c12ccba-df5b-86dc-0a62-8f4b48b7bd15.png)\n\n\u3053\u3053\u306f\u3001\u524d\u56de\u307e\u3067\u3068\u540c\u3058\u3067\u3059\u306d\u3002\n\n#\u90fd\u9053\u5e9c\u770c\u540d\u3060\u3051\u3092\u53d6\u5f97\u3059\u308b\n\n\u7def\u5ea6\u30fb\u7d4c\u5ea6\u304b\u3089\u30d2\u30c3\u30c8\u3057\u305f\u5024\u306f**`Object`**\u3067\u8fd4\u5374\u3055\u308c\u3066\u304d\u307e\u3059\u3002\n\u5024\u304c\u305f\u304f\u3055\u3093\u3042\u308a\u3001\u300c\u3069\u3053\u306b\u90fd\u9053\u5e9c\u770c\u5165\u3063\u3066\u308b\u3093\u3060\u3088\u300d\u3068\u306a\u308a\u304b\u306d\u307e\u305b\u3093\u3002\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u8fd4\u3063\u3066\u6765\u305f\u5024\u306e\u3069\u3053\u306b\u90fd\u9053\u5e9c\u770c\u540d\u304c\u3042\u308b\u304b\u3068\u3044\u3046\u3068\u3001\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u3067\u3042\u308c\u3070\n**`geoCodeResults[0].address_components`**\u306e\u4e2d\u306e\u914d\u5217\u306e**`types[0]`**\u304c**`administrative_area_level_1`**\u306e**`long_name`**\u3067\u3059\u3002~~\u8ffd\u3046\u306e\u5927\u5909\uff01\uff01\uff01~~\n\n\u3050\u308b\u3050\u308b\u56de\u3057\u3066\u90fd\u9053\u5e9c\u770c\u540d\u3060\u3051\u3092\u53d6\u5f97\u3057\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\uff08\u3082\u3063\u3068\u3044\u3044\u65b9\u6cd5\u304c\u3042\u308b\u306f\u305a\uff09\n\n```js\n    function getPreName(geoCodeResults)\n    {\n        // \u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u7d50\u679c\u3092\u7528\u3044\u305f\u51e6\u7406\n        var geoCnt = geoCodeResults[0].address_components.length;\n        var prefName = \"\";\n        for (var i = 0; i < geoCnt; i++) {\n            if (geoCodeResults[0].address_components[i].types[0] === \"administrative_area_level_1\") {\n                prefName = geoCodeResults[0].address_components[i].long_name;\n                return prefName;\n            }\n        }\n        return prefName;\n    }\n```\n\n\u95a2\u6570\u306e\u5f15\u6570\u306b\u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3067\u53d6\u5f97\u3057\u305f\u7d50\u679c\u3092\u5165\u308c\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001\u90fd\u9053\u5e9c\u770c\u540d\u304c\u5165\u3063\u3066\u3044\u308b\u7b87\u6240\u3092\u5224\u5b9a\u3057\u3066\u3001\u90fd\u9053\u5e9c\u770c\u540d\u304c\u5165\u3063\u3066\u3044\u308b\u7b87\u6240\u304c\u6765\u305f\u3089\u90fd\u9053\u5e9c\u770c\u540d\u3092\u8fd4\u3059\u3001\u3068\u3044\u3046\u7c21\u5358\u306a\u51e6\u7406\u3002\n\n\u3076\u3093\u3076\u3093\u56de\u3059\u306e\u3042\u3093\u307e\u308a\u597d\u304d\u3058\u3083\u306a\u3044\u3093\u3067\u3059\u3051\u3069\u306d(\uff40\uff1b\u03c9\uff1b\u00b4)\n\n\u203b\u8ffd\u8a18\u203b\nwf9a5m75\u3055\u3093\u3088\u308a\u30b3\u30e1\u30f3\u30c8\u9802\u304d\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059m(_ _)m\n\n```js\nfunction getPreName(geoCodeResults)\n{\n    // \u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u7d50\u679c\u3092\u7528\u3044\u305f\u51e6\u7406\n    var results = geoCodeResults[0].address_components.filter(function(component) {\n      return component.types.indexOf(\"administrative_area_level_1\") > -1;\n    });\n    console.log(results[0].long_name);\n}\n```\n\n\u3053\u306e\u3088\u3046\u306b\u66f8\u3051\u3070\u3001for\u3067\u66f8\u304f\u3088\u308a\u30b7\u30f3\u30d7\u30eb\u3067\u3044\u3044\u3067\u3059\u306d\u3002\n\n#\u304a\u308f\u308a\u306b\n\n\u7d50\u69cb\u7c21\u5358\u3067\u3057\u305f\u306d\u3002\n\u3069\u3053\u306b\u4f55\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u304b\u304c\u5206\u304b\u308c\u3070\u305d\u3053\u307e\u3067\u96e3\u3057\u3044\u3053\u3068\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\u4ed6\u306b\u3082\u3001\u90fd\u9053\u5e9c\u770c\u540d\u3060\u3051\u3067\u306f\u306a\u304f\u3066\u56fd\u540d\u304c\u6b32\u3057\u3044\uff01\u5e02\u533a\u753a\u6751\u540d\u304c\u6b32\u3057\u3044\uff01\u306a\u3069\u3001\u305d\u306e\u5024\u304c\u5165\u3063\u3066\u308b\u7b87\u6240\u3092\u898b\u3066\u3001\u5224\u5b9a\u30ed\u30b8\u30c3\u30af\u3092\u5909\u66f4\u3059\u308c\u3070\u53d6\u5f97\u3067\u304d\u307e\u3059\u306d\uff01\uff01\uff01\n", "tags": ["GoogleMapsAPI", "JavaScript"]}