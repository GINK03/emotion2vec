{"context": "\n\n\u306f\u3058\u3081\u306b\nCodeIgniter3 \u304b\u3089MODx Revolution\u306eAPI\u3092\u5229\u7528\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n\u5b9f\u88c5\u65b9\u6cd5\nCodeIgniter\u5074\u306b\u304a\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001MODx Revolution,CodeIgniter3\u306f\u3044\u305a\u308c\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\n\napplication/libraries/Lib_modx.php\n<?php\nif ( ! defined('BASEPATH')) exit('No direct script access allowed');\n\n$modx_dir = 'modx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea/';\n\nrequire_once $modx_dir . 'config.core.php';\nrequire_once MODX_CORE_PATH.'model/modx/modx.class.php';\n\n\n\nclass Lib_modx  {\n\n    var $modx;\n\n    public function __construct() {\n       $this->modx = new modX();\n       $this->modx->initialize('web');\n       $this->modx->getService('error','error.modError', '', '');\n\n    }\n}\n\n\n\nAPI\u3078\u306e\u30a2\u30af\u30bb\u30b9\u4f8b\n\nMODx\u4e0a\u306e\u7279\u5b9a\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u30b3\u30f3\u30c6\u30f3\u30c4(content)\u3092\u53d6\u5f97\u3059\u308b(\u4ee5\u4e0b\u306e\u5834\u5408\u306fID=1\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u53c2\u7167\u3059\u308b)\n\napplication/controller/Example.php\nclass Example extends CI_Controller {\n\n    public function index() {\n        $this->load->library('lib_modx');\n\n        $page = $this->lib_modx->modx->getObject('modResource', 1);\n\n        echo $page->get('content');\n    }\n\n}\n\n\n\nID=1\u306e\u5b50\u30ea\u30bd\u30fc\u30b9\u306eID\u3092\u53d6\u5f97\u3059\u308b\n\napplication/controller/Example.php\nclass Example extends CI_Controller {\n\n    public function index() {\n        $this->load->library('lib_modx');\n\n        var_dump($this->lib_modx->modx->getChildIds(1));\n    }\n\n}\n\n\n\nID=1\u306e\u5b50\u30ea\u30bd\u30fc\u30b9\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u5f97\u3057\u3066\u914d\u5217\u3067\u8fd4\u3059\n\napplication/controller/Example.php\nclass Example extends CI_Controller {\n\n    public function index() {\n        $this->load->library('lib_modx');\n\n        $query = $this->lib_modx->modx->newQuery('modResource');\n        $query->where(array(\n            'published' => true,\n            'deleted' => false,\n            'id' => 1\n        ));\n\n        $resources = $this->lib_modx->modx->getCollection('modResource',$query);\n\n        foreach ($resources as $resource) {\n            $resource_array = $resource->toArray();\n            $result[] = $resource_array;\n        }\n\n        var_dump($result);\n    }\n\n}\n\n\n\n\u53c2\u8003\u30b5\u30a4\u30c8\n\nMODx Docs / Revo2.0 -Loading MODx Externally\nMODx Docs / xPDO2.0\n\n## \u306f\u3058\u3081\u306b\n\nCodeIgniter3 \u304b\u3089MODx Revolution\u306eAPI\u3092\u5229\u7528\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n## \u5b9f\u88c5\u65b9\u6cd5\n\nCodeIgniter\u5074\u306b\u304a\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001MODx Revolution,CodeIgniter3\u306f\u3044\u305a\u308c\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\n\n```php:application/libraries/Lib_modx.php\n<?php\nif ( ! defined('BASEPATH')) exit('No direct script access allowed');\n\n$modx_dir = 'modx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea/';\n\nrequire_once $modx_dir . 'config.core.php';\nrequire_once MODX_CORE_PATH.'model/modx/modx.class.php';\n\n\n\nclass Lib_modx  {\n\n    var $modx;\n    \n    public function __construct() {\n       $this->modx = new modX();\n       $this->modx->initialize('web');\n       $this->modx->getService('error','error.modError', '', '');\n       \n    }\n}\n```\n\n## API\u3078\u306e\u30a2\u30af\u30bb\u30b9\u4f8b\n\n### MODx\u4e0a\u306e\u7279\u5b9a\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u30b3\u30f3\u30c6\u30f3\u30c4(content)\u3092\u53d6\u5f97\u3059\u308b(\u4ee5\u4e0b\u306e\u5834\u5408\u306fID=1\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u53c2\u7167\u3059\u308b)\n\n```php:application/controller/Example.php\nclass Example extends CI_Controller {\n\t\n\tpublic function index() {\n\t\t$this->load->library('lib_modx');\n\t\t\n\t\t$page = $this->lib_modx->modx->getObject('modResource', 1);\n\t\t\n\t\techo $page->get('content');\n\t}\n\t\n}\n```\n\n### ID=1\u306e\u5b50\u30ea\u30bd\u30fc\u30b9\u306eID\u3092\u53d6\u5f97\u3059\u308b\n\n```php:application/controller/Example.php\nclass Example extends CI_Controller {\n\t\n\tpublic function index() {\n\t\t$this->load->library('lib_modx');\n\t\t\n\t\tvar_dump($this->lib_modx->modx->getChildIds(1));\n\t}\n\t\n}\n```\n\n##ID=1\u306e\u5b50\u30ea\u30bd\u30fc\u30b9\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u5f97\u3057\u3066\u914d\u5217\u3067\u8fd4\u3059\n\n```php:application/controller/Example.php\nclass Example extends CI_Controller {\n\t\n\tpublic function index() {\n\t\t$this->load->library('lib_modx');\n\t\t\n\t\t$query = $this->lib_modx->modx->newQuery('modResource');\n\t\t$query->where(array(\n  \t\t\t'published' => true,\n  \t\t\t'deleted' => false,\n  \t\t\t'id' => 1\n\t\t));\n\t\t\n\t\t$resources = $this->lib_modx->modx->getCollection('modResource',$query);\n\t\t\n\t\tforeach ($resources as $resource) {\n\t\t\t$resource_array = $resource->toArray();\n\t\t\t$result[] = $resource_array;\n\t\t}\n\t\t\n\t\tvar_dump($result);\n\t}\n\t\n}\n```\n\n## \u53c2\u8003\u30b5\u30a4\u30c8\n- [MODx Docs / Revo2.0 -Loading MODx Externally](https://rtfm.modx.com/revolution/2.x/developing-in-modx/other-development-resources/loading-modx-externally)\n- [MODx Docs / xPDO2.0](https://rtfm.modx.com/xpdo/2.x/)\n", "tags": ["CodeIgniter", "CodeIgniter3", "MODx"]}