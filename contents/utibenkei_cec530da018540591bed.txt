{"context": " More than 1 year has passed since last update.EaselJS(0.6.1\u3067\u78ba\u8a8d)\u306b\u304a\u3044\u3066Text\u306b\u65e5\u672c\u8a9e\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001lineWidth\u304c\u52b9\u304b\u305a\u6539\u884c\u3055\u308c\u307e\u305b\u3093\u3002\n\u3053\u308c\u306f\u3053\u306e\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306e\u95a2\u6570\u3067\u3059\u3002\uff08Haxe\u30b3\u30fc\u30c9\u3067\u3059\uff09\n\nhoge.hx\nimport createjs.easeljs.Text;\nclass Main {\n    //\u6307\u5b9a\u3057\u305f\u5e45(lineWidth)\u3067\u81ea\u52d5\u6298\u308a\u8fd4\u3057\u3057\u305f\u8907\u6570\u884c\u30c6\u30ad\u30b9\u30c8\u3092\u8fd4\u3059\n    public static function wrapText(text:Text, lineWidth:Int):String {\n        text.lineWidth = null;\n\n        var str = text.text;\n        var newStr:String = \"\";\n        var r:EReg = new EReg(\"[\\r\\n]+|[\\n]+|[\\n]+\", \"g\");\n        var lines:Array<String> = r.split(str);\n\n        var line:String;\n        var words:Array<String>;\n        var oneLineStr:String;\n        var len:Int = lines.length;\n        for (i in 0...len) {\n            line = lines[i];\n            text.text = line;\n            if (text.getMeasuredWidth() < lineWidth ) {\n                newStr += line;\n                if(i < len-1) newStr += \"\\n\";\n                continue;\n            }\n\n            words = line.split(\"\");//\u4e00\u6587\u5b57\u3054\u3068\u306b\u5206\u5272\u3059\u308b\n            oneLineStr = \"\";\n            for (w in words) {\n                text.text = oneLineStr + w;\n                if (text.getMeasuredWidth() > lineWidth ) {\n                    newStr += oneLineStr + \"\\n\";\n                    oneLineStr = \"\";\n                }\n                oneLineStr += w;\n            }\n            newStr += oneLineStr;\n            if(i < len-1) newStr += \"\\n\";\n        }\n\n        text.text = newStr;\n\n        return newStr;\n    }\n}\n\n\nEaselJS(0.6.1\u3067\u78ba\u8a8d)\u306b\u304a\u3044\u3066Text\u306b\u65e5\u672c\u8a9e\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001lineWidth\u304c\u52b9\u304b\u305a\u6539\u884c\u3055\u308c\u307e\u305b\u3093\u3002\n\u3053\u308c\u306f\u3053\u306e\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306e\u95a2\u6570\u3067\u3059\u3002\uff08Haxe\u30b3\u30fc\u30c9\u3067\u3059\uff09\n\n```haXe:hoge.hx\nimport createjs.easeljs.Text;\nclass Main {\n\t//\u6307\u5b9a\u3057\u305f\u5e45(lineWidth)\u3067\u81ea\u52d5\u6298\u308a\u8fd4\u3057\u3057\u305f\u8907\u6570\u884c\u30c6\u30ad\u30b9\u30c8\u3092\u8fd4\u3059\n\tpublic static function wrapText(text:Text, lineWidth:Int):String {\n\t\ttext.lineWidth = null;\n\t\t\n\t\tvar str = text.text;\n\t\tvar newStr:String = \"\";\n\t\tvar r:EReg = new EReg(\"[\\r\\n]+|[\\n]+|[\\n]+\", \"g\");\n\t\tvar lines:Array<String> = r.split(str);\n\t\t\n\t\tvar line:String;\n\t\tvar words:Array<String>;\n\t\tvar oneLineStr:String;\n\t\tvar len:Int = lines.length;\n\t\tfor (i in 0...len) {\n\t\t\tline = lines[i];\n\t\t\ttext.text = line;\n\t\t\tif (text.getMeasuredWidth() < lineWidth ) {\n\t\t\t\tnewStr += line;\n\t\t\t\tif(i < len-1) newStr += \"\\n\";\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\twords = line.split(\"\");//\u4e00\u6587\u5b57\u3054\u3068\u306b\u5206\u5272\u3059\u308b\n\t\t\toneLineStr = \"\";\n\t\t\tfor (w in words) {\n\t\t\t\ttext.text = oneLineStr + w;\n\t\t\t\tif (text.getMeasuredWidth() > lineWidth ) {\n\t\t\t\t\tnewStr += oneLineStr + \"\\n\";\n\t\t\t\t\toneLineStr = \"\";\n\t\t\t\t}\n\t\t\t\toneLineStr += w;\n\t\t\t}\n\t\t\tnewStr += oneLineStr;\n\t\t\tif(i < len-1) newStr += \"\\n\";\n\t\t}\n\t\t\n\t\ttext.text = newStr;\n\t\t\n\t\treturn newStr;\n\t}\n}\n```", "tags": ["Haxe", "CreateJS", "EaselJS0.6.1"]}