{"context": " More than 1 year has passed since last update.BEM\u3059\u308b\u306e\u5927\u5909\u3067\u3059\u3088\u306d\u301c\u3002\nJade\u3067\u3053\u3093\u306a\u611f\u3058\u306b\u66f8\u304f\u3068\u3001\n\nJade\ninclude jade-de-bem\n\n+div(class=\"block --special\")\n  +ul(class=\"__items div\")\n    +li(class=\"__item --new div\")\n      +a(class=\"__link span\")\n        | Foo\n\n\n\u3053\u3046\u5909\u63db\u3055\u308c\u308b\u3001\n\nHTML\n<div class=\"block block--special\">\n  <ul class=\"block__items div\">\n    <li class=\"block__item block__item--new div\">\n      <a class=\"block__link span\">Foo\n      </a>\n    </li>\n  </ul>\n</div>\n\n\nMixin\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n\nJade\nmixin bem(boo)\n\n  -\n    var config = {}\n    config.element  = '__'\n    config.modifier = '--'\n\n    function converted(str) {\n      arr = str.split('')\n      res = arr.join('\\\\')\n      res = '^' + res\n      return res\n    }\n\n    var elmExamStr = converted(config.element)\n    var modExamStr = converted(config.modifier)\n\n    var elmExam = new RegExp(elmExamStr)\n    var modExam = new RegExp(modExamStr)\n\n    var tag = attributes.tag ? attributes.tag : false\n    var cls = attributes.class ? attributes.class + '' : ''\n\n    attributes.tag = null\n    attributes.class = ''\n\n    bem = bem || []\n    var elm = ''\n    var mod = []\n    var els = []\n    var res = []\n    var str = ''\n\n    function hasLength(str) {\n      return (str.length)\n    }\n\n    var names = cls.split(' ')\n    names = names.filter(hasLength)\n\n    for (var i=0; i<names.length; i++)\n      if (elmExam.test(names[i]))\n        elm = names[i]\n      else if (modExam.test(names[i]))\n        mod.push(names[i])\n      else if (i === 0)\n        bem.push(names[i])\n      else\n        els.push(names[i])\n\n    if (boo === false)\n      bem.pop()\n\n    var len = bem.length - 1\n\n    if (elm.length)\n      res.push(bem[len] + elm)\n    else\n      res.push(bem[len])\n\n    for (var i=0; i<mod.length; i++)\n      if (elm.length)\n        res.push(bem[len] + elm + mod[i])\n      else\n        res.push(bem[len] + mod[i])\n\n    for (var i=0; i<els.length; i++)\n      res.push(els[i])\n\n    str = res.join(' ')\n    attributes.class = str\n\n  if (tag && boo !== false)\n    #{tag}&attributes(attributes)\n      block\n\n  if (boo === true)\n    block\n\n\nhttps://github.com/internets-inc/jade-de-bem\nEnjoy BEM Life!\nBEM\u3059\u308b\u306e\u5927\u5909\u3067\u3059\u3088\u306d\u301c\u3002\n\nJade\u3067\u3053\u3093\u306a\u611f\u3058\u306b\u66f8\u304f\u3068\u3001\n\n```jade:Jade\ninclude jade-de-bem\n\n+div(class=\"block --special\")\n  +ul(class=\"__items div\")\n    +li(class=\"__item --new div\")\n      +a(class=\"__link span\")\n        | Foo\n```\n\n\u3053\u3046\u5909\u63db\u3055\u308c\u308b\u3001\n\n```html:HTML\n<div class=\"block block--special\">\n  <ul class=\"block__items div\">\n    <li class=\"block__item block__item--new div\">\n      <a class=\"block__link span\">Foo\n      </a>\n    </li>\n  </ul>\n</div>\n```\n\nMixin\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n\n```jade:Jade\nmixin bem(boo)\n\n  -\n    var config = {}\n    config.element  = '__'\n    config.modifier = '--'\n\n    function converted(str) {\n      arr = str.split('')\n      res = arr.join('\\\\')\n      res = '^' + res\n      return res\n    }\n\n    var elmExamStr = converted(config.element)\n    var modExamStr = converted(config.modifier)\n\n    var elmExam = new RegExp(elmExamStr)\n    var modExam = new RegExp(modExamStr)\n\n    var tag = attributes.tag ? attributes.tag : false\n    var cls = attributes.class ? attributes.class + '' : ''\n\n    attributes.tag = null\n    attributes.class = ''\n\n    bem = bem || []\n    var elm = ''\n    var mod = []\n    var els = []\n    var res = []\n    var str = ''\n\n    function hasLength(str) {\n      return (str.length)\n    }\n\n    var names = cls.split(' ')\n    names = names.filter(hasLength)\n\n    for (var i=0; i<names.length; i++)\n      if (elmExam.test(names[i]))\n        elm = names[i]\n      else if (modExam.test(names[i]))\n        mod.push(names[i])\n      else if (i === 0)\n        bem.push(names[i])\n      else\n        els.push(names[i])\n\n    if (boo === false)\n      bem.pop()\n\n    var len = bem.length - 1\n\n    if (elm.length)\n      res.push(bem[len] + elm)\n    else\n      res.push(bem[len])\n\n    for (var i=0; i<mod.length; i++)\n      if (elm.length)\n        res.push(bem[len] + elm + mod[i])\n      else\n        res.push(bem[len] + mod[i])\n\n    for (var i=0; i<els.length; i++)\n      res.push(els[i])\n\n    str = res.join(' ')\n    attributes.class = str\n\n  if (tag && boo !== false)\n    #{tag}&attributes(attributes)\n      block\n\n  if (boo === true)\n    block\n```\n\nhttps://github.com/internets-inc/jade-de-bem\n\nEnjoy BEM Life!\n", "tags": ["HTML", "CSS", "bem", "Jade"]}