{"context": " More than 1 year has passed since last update.Google Cloud Platform \u306e\u4e2d\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3046\u4f4d\u7f6e\u306b\u3044\u308b\u306e\u304c Google Cloud Storage (\u4ee5\u4e0bGCS) \u3067\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u540c\u3058\u304f Google Cloud Platform \u306b\u5c5e\u3059\u308b Google Appengine (\u4ee5\u4e0bGAE) \u304b\u3089GCS\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3046\u305f\u3081\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u66f8\u304d\u307e\u3059\u3002\n\nCloud Console Project\u306e\u4f5c\u6210\nGAE\u306eProject\u3092\u4f5c\u6210\u3059\u308b\u3068\u3001Cloud Console Project\u3082\u81ea\u52d5\u3067\u751f\u6210\u3055\u308c\u307e\u3059\u3002\nGAE\u306eProject\u3092\u4f5c\u3063\u305f\u5f8c\u306b Cloud Console \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u3001GAE AppId\u3068\u540c\u3058\u540d\u524d\u306eProject\u304c\u4f5c\u3089\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\nBilling\u8a2d\u5b9a\nGCS\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306bBilling\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\nCloud Console Project\u306eMenu\u304b\u3089Billing\u3092\u9078\u629e\u3057\u3001\u30af\u30ec\u30b8\u30c3\u30c8\u30ab\u30fc\u30c9\u3092\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\nGCS API\u306eStatus\u3092ON\u306b\u3059\u308b\nGCS\u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u3001Cloud Console Project\u306eGCS API Status\u3092ON\u306b\u3057\u307e\u3059\u3002\nProject Menu\u306e\u4e2d\u304b\u3089\u4ee5\u4e0b\u306e\u968e\u5c64\u306b\u5165\u3063\u3066\u3001Google Cloud Storage\u3092\u63a2\u3057\u3066\u3001ON\u306b\u3057\u307e\u3059\u3002\nAPIs & auth \u2192 APIs\nMenu\u306bCloud Storage\u304c\u5897\u3048\u308c\u3070\u3001OK\u3067\u3059\u3002\n\nBucket\u306e\u4f5c\u6210\nBucket\u3068\u306fGCS\u3067Top\u306b\u4f4d\u7f6e\u3059\u308bDirectory\u306e\u3088\u3046\u306a\u5b58\u5728\u3067\u3059\u3002\nBucket\u306e\u4f5c\u6210\u306f\u3001Cloud Console\u306e\nBucket\u306e\u540d\u524d\u306f\u4e16\u754c\u3067Unique\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u4ed6\u306e\u4eba\u304c\u53d6\u5f97\u3057\u3066\u3044\u308bBucket\u540d\u306f\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\u305d\u306e\u305f\u3081\u3001develop,staging\u306a\u3069\u306e\u8907\u6570\u74b0\u5883\u3092\u4f5c\u308d\u3046\u3068\u601d\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u3001xxx-dev\u306e\u3088\u3046\u306a\u5f62\u3067\u540d\u524d\u3092\u4ed8\u3051\u308c\u3070\u3001\u5206\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002\n\nACL\u306e\u8a2d\u5b9a\nGCS\u306f \u30a2\u30af\u30bb\u30b9\u5236\u5fa1 \u3092\u884c\u3046\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\nDefault\u3067\u306fGAE\u304b\u3089\u306e\u64cd\u4f5c\u304c\u8a31\u53ef\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u8272\u3005\u3068\u7d30\u304b\u304f\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u304c\u3001\u81ea\u5206\u306eGAE\u306b\u306f\u5168\u6a29\u9650\u3092\u4e0e\u3048\u308b\u3053\u3068\u3068\u3057\u307e\u3059\u3002\n\ngsutil install\nACL\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u5c02\u7528\u306eCommand Line Tool\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\u305d\u308c\u304c gsutil \u3067\u3059\u3002\ninstall\u306fDownload\u3057\u3066\u3001Path\u3092\u901a\u3059\u3060\u3051\u3067\u3059\u3002\n\nACL\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\n\nACL\u306e\u53d6\u5f97\ngsutil\u3092\u5229\u7528\u3057\u3066\u3001ACL\u306e\u53d6\u5f97\u3092\u884c\u3044\u307e\u3059\u3002\ngsutil acl get {{your bucket name}} > acl.xml\n\n{{your bucket name}}\u306e\u3068\u3053\u308d\u306b\u306f\u3001\u81ea\u5206\u306eBucket\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4f8b\u3048\u3070Bucket\u540d=sample\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u3067\u3059\u3002\ngsutil acl get sample > acl.xml\n\n\u3053\u308c\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n{{ID}}\u306e\u90e8\u5206\u306f\u306a\u304c\u30fc\u3044\u6570\u5b57\u304c\u5165\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\nacl.xml\n<?xml version=\"1.0\" ?>\n<AccessControlList>\n    <Owner>\n        <ID>\n            {{ID}}\n        </ID>\n    </Owner>\n    <Entries>\n        <Entry>\n            <Scope type=\"GroupById\">\n                <ID>\n                    {{ID}}\n                </ID>\n            </Scope>\n            <Permission>\n                FULL_CONTROL\n            </Permission>\n        </Entry>\n        <Entry>\n            <Scope type=\"GroupById\">\n                <ID>\n                    {{ID}}\n                </ID>\n            </Scope>\n            <Permission>\n                FULL_CONTROL\n            </Permission>\n        </Entry>\n        <Entry>\n            <Scope type=\"GroupById\">\n                <ID>\n                    {{ID}}\n                </ID>\n            </Scope>\n            <Permission>\n                READ\n            </Permission>\n        </Entry>\n    </Entries>\n</AccessControlList>\n\n\n\nGAE\u306eACL\u3092\u8ffd\u52a0\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306aGAE\u306e\u8a2d\u5b9a\u3092\u8db3\u3057\u307e\u3059\u3002\n<Entry>\n    <Scope type=\"UserByEmail\">\n        <EmailAddress>\n            {{your appengine server account name}}\n        </EmailAddress>\n    </Scope>\n    <Permission>\n        FULL_CONTROL\n    </Permission>\n</Entry>\n\n{{your appengine server account name}}\u306b\u6307\u5b9a\u3059\u308b\u5024\u306f\u3001GAE Console\u304b\u3089\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nApplication Settings \u2192 Service Account Name\u306b\u3042\u308a\u307e\u3059\u3002\nexample@appspot.gserviceaccount.com \u306e\u3088\u3046\u306a\u5024\u3067\u3059\u3002\n\u8ffd\u52a0\u3057\u305f\u7d50\u679c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nacl.xml\n<?xml version=\"1.0\" ?>\n<AccessControlList>\n    <Owner>\n        <ID>\n            {{ID}}\n        </ID>\n    </Owner>\n    <Entries>\n        <Entry>\n            <Scope type=\"GroupById\">\n                <ID>\n                    {{ID}}\n                </ID>\n            </Scope>\n            <Permission>\n                FULL_CONTROL\n            </Permission>\n        </Entry>\n        <Entry>\n            <Scope type=\"GroupById\">\n                <ID>\n                    {{ID}}\n                </ID>\n            </Scope>\n            <Permission>\n                FULL_CONTROL\n            </Permission>\n        </Entry>\n        <Entry>\n            <Scope type=\"GroupById\">\n                <ID>\n                    {{ID}}\n                </ID>\n            </Scope>\n            <Permission>\n                READ\n            </Permission>\n        </Entry>\n        <Entry>\n            <Scope type=\"UserByEmail\">\n                <EmailAddress>\n                    {{your appengine server account name}}\n                </EmailAddress>\n            </Scope>\n            <Permission>\n                FULL_CONTROL\n            </Permission>\n        </Entry>\n    </Entries>\n</AccessControlList>\n\n\n\nACL\u8a2d\u5b9a\u3092Upload\ngsutil\u3092\u4f7f\u3063\u3066GAE\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u305fACL\u3092\u9069\u7528\u3057\u307e\u3059\u3002\ngsutil acl set acl.xml {{your bucket name}}\n\n\u3053\u308c\u3067GAE\u304b\u3089GCS\u3092\u6271\u3046\u305f\u3081\u306e\u8a2d\u5b9a\u306f\u7d42\u4e86\u3067\u3059\u3002\n\nGAE\u304b\u3089GCS\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3046\u8a18\u4e8b\n\nGAE/j\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3046 Part1\nGAE/j\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3046 Part2\n\n\n[Google Cloud Platform] (https://cloud.google.com/?hl=ja) \u306e\u4e2d\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3046\u4f4d\u7f6e\u306b\u3044\u308b\u306e\u304c [Google Cloud Storage (\u4ee5\u4e0bGCS)](https://developers.google.com/storage/index) \u3067\u3059\u3002\n\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u540c\u3058\u304f [Google Cloud Platform] (https://cloud.google.com/?hl=ja) \u306b\u5c5e\u3059\u308b [Google Appengine (\u4ee5\u4e0bGAE)] (\"https://developers.google.com/appengine/\") \u304b\u3089GCS\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3046\u305f\u3081\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u66f8\u304d\u307e\u3059\u3002\n\n# Cloud Console Project\u306e\u4f5c\u6210\nGAE\u306eProject\u3092\u4f5c\u6210\u3059\u308b\u3068\u3001Cloud Console Project\u3082\u81ea\u52d5\u3067\u751f\u6210\u3055\u308c\u307e\u3059\u3002\nGAE\u306eProject\u3092\u4f5c\u3063\u305f\u5f8c\u306b [Cloud Console](https://cloud.google.com/console#/project) \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u3001GAE AppId\u3068\u540c\u3058\u540d\u524d\u306eProject\u304c\u4f5c\u3089\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n# Billing\u8a2d\u5b9a\nGCS\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306bBilling\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\nCloud Console Project\u306eMenu\u304b\u3089Billing\u3092\u9078\u629e\u3057\u3001\u30af\u30ec\u30b8\u30c3\u30c8\u30ab\u30fc\u30c9\u3092\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n# GCS API\u306eStatus\u3092ON\u306b\u3059\u308b\nGCS\u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u3001Cloud Console Project\u306eGCS API Status\u3092ON\u306b\u3057\u307e\u3059\u3002\nProject Menu\u306e\u4e2d\u304b\u3089\u4ee5\u4e0b\u306e\u968e\u5c64\u306b\u5165\u3063\u3066\u3001Google Cloud Storage\u3092\u63a2\u3057\u3066\u3001ON\u306b\u3057\u307e\u3059\u3002\n\nAPIs & auth \u2192 APIs\n\nMenu\u306bCloud Storage\u304c\u5897\u3048\u308c\u3070\u3001OK\u3067\u3059\u3002\n\n# Bucket\u306e\u4f5c\u6210\nBucket\u3068\u306fGCS\u3067Top\u306b\u4f4d\u7f6e\u3059\u308bDirectory\u306e\u3088\u3046\u306a\u5b58\u5728\u3067\u3059\u3002\nBucket\u306e\u4f5c\u6210\u306f\u3001Cloud Console\u306e\nBucket\u306e\u540d\u524d\u306f\u4e16\u754c\u3067Unique\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u4ed6\u306e\u4eba\u304c\u53d6\u5f97\u3057\u3066\u3044\u308bBucket\u540d\u306f\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\u305d\u306e\u305f\u3081\u3001develop,staging\u306a\u3069\u306e\u8907\u6570\u74b0\u5883\u3092\u4f5c\u308d\u3046\u3068\u601d\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u3001xxx-dev\u306e\u3088\u3046\u306a\u5f62\u3067\u540d\u524d\u3092\u4ed8\u3051\u308c\u3070\u3001\u5206\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002\n\n# ACL\u306e\u8a2d\u5b9a\nGCS\u306f [\u30a2\u30af\u30bb\u30b9\u5236\u5fa1](https://developers.google.com/storage/docs/accesscontrol) \u3092\u884c\u3046\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\nDefault\u3067\u306fGAE\u304b\u3089\u306e\u64cd\u4f5c\u304c\u8a31\u53ef\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u8272\u3005\u3068\u7d30\u304b\u304f\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u304c\u3001\u81ea\u5206\u306eGAE\u306b\u306f\u5168\u6a29\u9650\u3092\u4e0e\u3048\u308b\u3053\u3068\u3068\u3057\u307e\u3059\u3002\n\n## gsutil install\nACL\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u5c02\u7528\u306eCommand Line Tool\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\u305d\u308c\u304c [gsutil](https://developers.google.com/storage/docs/gsutil_install) \u3067\u3059\u3002\ninstall\u306fDownload\u3057\u3066\u3001Path\u3092\u901a\u3059\u3060\u3051\u3067\u3059\u3002\n\n## ACL\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\n### ACL\u306e\u53d6\u5f97\ngsutil\u3092\u5229\u7528\u3057\u3066\u3001ACL\u306e\u53d6\u5f97\u3092\u884c\u3044\u307e\u3059\u3002\n\n```Bash\ngsutil acl get {{your bucket name}} > acl.xml\n```\n\n{{your bucket name}}\u306e\u3068\u3053\u308d\u306b\u306f\u3001\u81ea\u5206\u306eBucket\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4f8b\u3048\u3070Bucket\u540d=sample\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n\n```Bash\ngsutil acl get sample > acl.xml\n```\n\n\u3053\u308c\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n{{ID}}\u306e\u90e8\u5206\u306f\u306a\u304c\u30fc\u3044\u6570\u5b57\u304c\u5165\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n```XML:acl.xml\n<?xml version=\"1.0\" ?>\n<AccessControlList>\n    <Owner>\n        <ID>\n            {{ID}}\n        </ID>\n    </Owner>\n    <Entries>\n        <Entry>\n            <Scope type=\"GroupById\">\n                <ID>\n                    {{ID}}\n                </ID>\n            </Scope>\n            <Permission>\n                FULL_CONTROL\n            </Permission>\n        </Entry>\n        <Entry>\n            <Scope type=\"GroupById\">\n                <ID>\n                    {{ID}}\n                </ID>\n            </Scope>\n            <Permission>\n                FULL_CONTROL\n            </Permission>\n        </Entry>\n        <Entry>\n            <Scope type=\"GroupById\">\n                <ID>\n                    {{ID}}\n                </ID>\n            </Scope>\n            <Permission>\n                READ\n            </Permission>\n        </Entry>\n    </Entries>\n</AccessControlList>\n```\n### GAE\u306eACL\u3092\u8ffd\u52a0\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306aGAE\u306e\u8a2d\u5b9a\u3092\u8db3\u3057\u307e\u3059\u3002\n\n```XML\n<Entry>\n    <Scope type=\"UserByEmail\">\n        <EmailAddress>\n            {{your appengine server account name}}\n        </EmailAddress>\n    </Scope>\n    <Permission>\n        FULL_CONTROL\n    </Permission>\n</Entry>\n```\n\n{{your appengine server account name}}\u306b\u6307\u5b9a\u3059\u308b\u5024\u306f\u3001GAE Console\u304b\u3089\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nApplication Settings \u2192 Service Account Name\u306b\u3042\u308a\u307e\u3059\u3002\nexample@appspot.gserviceaccount.com \u306e\u3088\u3046\u306a\u5024\u3067\u3059\u3002\n\n\u8ffd\u52a0\u3057\u305f\u7d50\u679c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```XML:acl.xml\n<?xml version=\"1.0\" ?>\n<AccessControlList>\n    <Owner>\n        <ID>\n            {{ID}}\n        </ID>\n    </Owner>\n    <Entries>\n        <Entry>\n            <Scope type=\"GroupById\">\n                <ID>\n                    {{ID}}\n                </ID>\n            </Scope>\n            <Permission>\n                FULL_CONTROL\n            </Permission>\n        </Entry>\n        <Entry>\n            <Scope type=\"GroupById\">\n                <ID>\n                    {{ID}}\n                </ID>\n            </Scope>\n            <Permission>\n                FULL_CONTROL\n            </Permission>\n        </Entry>\n        <Entry>\n            <Scope type=\"GroupById\">\n                <ID>\n                    {{ID}}\n                </ID>\n            </Scope>\n            <Permission>\n                READ\n            </Permission>\n        </Entry>\n        <Entry>\n            <Scope type=\"UserByEmail\">\n                <EmailAddress>\n                    {{your appengine server account name}}\n                </EmailAddress>\n            </Scope>\n            <Permission>\n                FULL_CONTROL\n            </Permission>\n        </Entry>\n    </Entries>\n</AccessControlList>\n```\n\n### ACL\u8a2d\u5b9a\u3092Upload\ngsutil\u3092\u4f7f\u3063\u3066GAE\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u305fACL\u3092\u9069\u7528\u3057\u307e\u3059\u3002\n\n```Bash\ngsutil acl set acl.xml {{your bucket name}}\n```\n\n\u3053\u308c\u3067GAE\u304b\u3089GCS\u3092\u6271\u3046\u305f\u3081\u306e\u8a2d\u5b9a\u306f\u7d42\u4e86\u3067\u3059\u3002\n\n#GAE\u304b\u3089GCS\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3046\u8a18\u4e8b\n* [GAE/j\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3046 Part1](http://qiita.com/sinmetal/items/6ed7ec012af030f3e8fa)\n* [GAE/j\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3046 Part2](http://qiita.com/sinmetal/items/7d2617001494cd204255)\n", "tags": ["gsutil3.37", "GoogleAppEngine", "GoogleCloudStorage", "GoogleCloudPlatform"]}