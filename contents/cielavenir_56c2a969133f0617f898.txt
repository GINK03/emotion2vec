{"context": " More than 1 year has passed since last update.//http://qiita.com/Nabetani/items/1de39df381dfeee305ab\n//http://nabetani.sakura.ne.jp/hena/ord12aloroturtle/\n#include <iostream>\n#include <string>\n#include <vector>\n#include <map>\nusing namespace std;\ntypedef pair<int,int> pii;\nstring v1[]={\n    \"ABCDEFGHIJK\",\n    \"LMNOPQRSTUV\",\n    \"WXYZabcdefg\",\n};\nstring v2[]={\n    \"jmpsvy147\",\n    \"ilorux036\",\n    \"hknqtwz25\",\n};\nconst int D[4][2]={{1,0},{0,1},{-1,0},{0,-1}}; //RDLU\nint main(){\n    int x,y,i,d,n;\n    map<char,map<int,pair<char,int> > >m;\n    for(y=0;y<3/*v1.size()*/;y++){\n        for(x=0;x<v1[y].size();x++){\n            char c=v1[y][x];\n            if(x<v1[y].size()-1)m[c][0]=make_pair(v1[y][x+1],0);\n            if(y<3/*v1.size()*/-1)m[c][1]=make_pair(v1[y+1][x],1);\n            if(x>0)m[c][2]=make_pair(v1[y][x-1],2);\n            if(y>0)m[c][3]=make_pair(v1[y-1][x],3);\n        }\n    }\n    for(y=0;y<3/*v2.size()*/;y++){\n        for(x=0;x<v2[y].size();x++){\n            char c=v2[y][x];\n            if(x<v1[y].size()-1)m[c][0]=make_pair(v2[y][x+1],0);\n            if(y<3/*v1.size()*/-1)m[c][1]=make_pair(v2[y+1][x],1);\n            if(x>0)m[c][2]=make_pair(v2[y][x-1],2);\n            if(y>0)m[c][3]=make_pair(v2[y-1][x],3);\n        }\n    }\n    m['W'][1]=make_pair('h',0);\n    m['X'][1]=make_pair('i',0);\n    m['Y'][1]=make_pair('j',0);\n    m['h'][2]=make_pair('W',3);\n    m['i'][2]=make_pair('X',3);\n    m['j'][2]=make_pair('Y',3);\n    m['e'][1]=make_pair('7',2);\n    m['f'][1]=make_pair('6',2);\n    m['g'][1]=make_pair('5',2);\n    m['7'][0]=make_pair('e',3);\n    m['6'][0]=make_pair('f',3);\n    m['5'][0]=make_pair('g',3);\n    string line;\n    for(;getline(cin,line);){\n        char cur='A',nxt;\n        d=0;\n        cout<<cur;\n        for(i=0;i<line.size();i++){\n            if(line[i]=='L')d=(d+3)%4;\n            else if(line[i]=='R')d=(d+1)%4;\n            else{\n                n=0;\n                if('1'<=line[i]&&line[i]<='9')n=line[i]-'0';\n                if('a'<=line[i]&&line[i]<='f')n=line[i]-'a'+10;\n                if(!n)break;\n                for(;n;n--){\n                    if(m[cur].find(d)==m[cur].end()){cout<<'?';break;}\n                    nxt=m[cur][d].first;\n                    d=m[cur][d].second;\n                    cur=nxt;\n                    cout<<cur;\n                }\n                if(n)break;\n            }\n        }\n        cout<<endl<<flush;\n    }\n}\n\n```cpp\n//http://qiita.com/Nabetani/items/1de39df381dfeee305ab\n//http://nabetani.sakura.ne.jp/hena/ord12aloroturtle/\n#include <iostream>\n#include <string>\n#include <vector>\n#include <map>\nusing namespace std;\ntypedef pair<int,int> pii;\nstring v1[]={\n\t\"ABCDEFGHIJK\",\n\t\"LMNOPQRSTUV\",\n\t\"WXYZabcdefg\",\n};\nstring v2[]={\n\t\"jmpsvy147\",\n\t\"ilorux036\",\n\t\"hknqtwz25\",\n};\nconst int D[4][2]={{1,0},{0,1},{-1,0},{0,-1}}; //RDLU\nint main(){\n\tint x,y,i,d,n;\n\tmap<char,map<int,pair<char,int> > >m;\n\tfor(y=0;y<3/*v1.size()*/;y++){\n\t\tfor(x=0;x<v1[y].size();x++){\n\t\t\tchar c=v1[y][x];\n\t\t\tif(x<v1[y].size()-1)m[c][0]=make_pair(v1[y][x+1],0);\n\t\t\tif(y<3/*v1.size()*/-1)m[c][1]=make_pair(v1[y+1][x],1);\n\t\t\tif(x>0)m[c][2]=make_pair(v1[y][x-1],2);\n\t\t\tif(y>0)m[c][3]=make_pair(v1[y-1][x],3);\n\t\t}\n\t}\n\tfor(y=0;y<3/*v2.size()*/;y++){\n\t\tfor(x=0;x<v2[y].size();x++){\n\t\t\tchar c=v2[y][x];\n\t\t\tif(x<v1[y].size()-1)m[c][0]=make_pair(v2[y][x+1],0);\n\t\t\tif(y<3/*v1.size()*/-1)m[c][1]=make_pair(v2[y+1][x],1);\n\t\t\tif(x>0)m[c][2]=make_pair(v2[y][x-1],2);\n\t\t\tif(y>0)m[c][3]=make_pair(v2[y-1][x],3);\n\t\t}\n\t}\n\tm['W'][1]=make_pair('h',0);\n\tm['X'][1]=make_pair('i',0);\n\tm['Y'][1]=make_pair('j',0);\n\tm['h'][2]=make_pair('W',3);\n\tm['i'][2]=make_pair('X',3);\n\tm['j'][2]=make_pair('Y',3);\n\tm['e'][1]=make_pair('7',2);\n\tm['f'][1]=make_pair('6',2);\n\tm['g'][1]=make_pair('5',2);\n\tm['7'][0]=make_pair('e',3);\n\tm['6'][0]=make_pair('f',3);\n\tm['5'][0]=make_pair('g',3);\n\tstring line;\n\tfor(;getline(cin,line);){\n\t\tchar cur='A',nxt;\n\t\td=0;\n\t\tcout<<cur;\n\t\tfor(i=0;i<line.size();i++){\n\t\t\tif(line[i]=='L')d=(d+3)%4;\n\t\t\telse if(line[i]=='R')d=(d+1)%4;\n\t\t\telse{\n\t\t\t\tn=0;\n\t\t\t\tif('1'<=line[i]&&line[i]<='9')n=line[i]-'0';\n\t\t\t\tif('a'<=line[i]&&line[i]<='f')n=line[i]-'a'+10;\n\t\t\t\tif(!n)break;\n\t\t\t\tfor(;n;n--){\n\t\t\t\t\tif(m[cur].find(d)==m[cur].end()){cout<<'?';break;}\n\t\t\t\t\tnxt=m[cur][d].first;\n\t\t\t\t\td=m[cur][d].second;\n\t\t\t\t\tcur=nxt;\n\t\t\t\t\tcout<<cur;\n\t\t\t\t}\n\t\t\t\tif(n)break;\n\t\t\t}\n\t\t}\n\t\tcout<<endl<<flush;\n\t}\n}\n```\n", "tags": ["C++", "\u3069\u3046\u66f8\u304f", "yhpg"]}