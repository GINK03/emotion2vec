{"context": " More than 1 year has passed since last update.\n\n\u30c7\u30fc\u30bf\u578b\n\n\n\n\u30ad\u30fc\u540d\n\u30c7\u30fc\u30bf\u578b\n\u8aac\u660e\n\n\n\n\nS\nString\n\n\n\nN\nNumber\n\n\n\nB\nBinary\n\n\n\nSS\nA set of strings\n\n\n\nNS\nA set of numbers\n\n\n\nBS\nA set of binary\n\n\n\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u751f\u6210 / DynamoDbClient#factory\n\n<?php\nuse Aws\\DynamoDb\\DynamoDbClient;\n\n$dynamo = DynamoDbClient::factory(array(\n    'key'    => AWS_KEY,\n    'secret' => AWS_SECRET,\n    'region' => AWS_REGION,\n));\n\n\n\n\u30c7\u30fc\u30bf\u306e\u767b\u9332 / DynamoDbClient#putItem\nhttp://docs.aws.amazon.com/aws-sdk-php/latest/class-Aws.DynamoDb.DynamoDbClient.html#_putItem\n<?php\n\n$result = $dynamo->putItem(\n    array(\n        'TableName' => 'table_name',\n        'Item' => $dynamo->formatAttributes(\n            array(\n                'key1'  => $value1,\n                'key2'  => $value2,\n                'key3'  => $value3,\n            )\n        ),\n         // INDEXES | TOTAL | NONE\n        'ReturnConsumedCapacity' => 'TOTAL',\n        // NONE | ALL_OLD | UPDATED_OLD | ALL_NEW | UPDATED_NEW\n       'ReturnValues' => 'ALL_NEW',        \n        // SIZE | NONE\n       'ReturnItemCollectionMetrics' => 'SIZE', \n    )\n);\n\n\n\nReturnConsumedCapacity\n\n\n\n\u5024\n\u8aac\u660e\n\n\n\n\nNONE\n(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024) \u4f55\u3082\u8fd4\u3055\u306a\u3044\n\n\nTOTAL\n\u30c6\u30fc\u30d6\u30eb\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4e21\u65b9\u3067\u6d88\u8cbb\u3055\u308c\u305f\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u306e\u30c8\u30fc\u30bf\u30eb\u3092\u8fd4\u3059\n\n\nINDEXES\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u6d88\u8cbb\u3055\u308c\u305f\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u306e\u307f\u8fd4\u3059\n\n\n\n\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u306fread capacity units\u306e\u3053\u3068\u3002\u591a\u5206\u3002\n\nReturnItemCollectionMetrics\n\n\n\n\u5024\n\u8aac\u660e\n\n\n\n\nNONE\n(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024) \u4f55\u3082\u8fd4\u3055\u306a\u3044\n\n\nSIZE\n\u64cd\u4f5c\u4e2d\u306b\u5909\u66f4\u3055\u308c\u305f\u30a2\u30a4\u30c6\u30e0\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u304c\u3042\u308c\u3070\u3001\u7d71\u8a08\u60c5\u5831\u304c\u8fd4\u3055\u308c\u307e\u3059\u3002\n\n\n\n\n\u30c7\u30fc\u30bf\u306e\u66f4\u65b0 / DynamoDbClient#updateItem\nhttp://docs.aws.amazon.com/aws-sdk-php/latest/class-Aws.DynamoDb.DynamoDbClient.html#_updateItem\n<?php\n\nuse Aws\\DynamoDb\\DynamoDbClient;\nuse Aws\\DynamoDb\\Enum\\Type;\nuse Aws\\DynamoDb\\Enum\\AttributeAction;\nuse Aws\\DynamoDb\\Enum\\ReturnValue;\n\n\n$result = $dynamo->updateItem(array(\n    \"TableName\" => 'table_name',\n    \"Key\" => array(\n        \"Id\" => array(Type::NUMBER => 121)\n    ),\n    \"AttributeUpdates\" => array(\n        \"NewAttribute\" => array(\n            \"Value\" => array(Type::STRING => \"Some Value\")\n        ),\n        \"Authors\" => array(\n            \"Action\" => AttributeAction::ADD,\n            \"Value\" => array(Type::STRING_SET => array(\"Author YY\", \"Author ZZ\"))\n        )\n    ),\n    \"ReturnValues\" => ReturnValue::ALL_NEW\n));\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\uff1aAction (ADD | PUT | DELETE\u304c\u6307\u5b9a\u53ef\u80fd)\n\n\nADD: \n\n\u5c5e\u6027\u304c\u65e2\u306b\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3001\u5c5e\u6027\u3068\u305d\u306e\u5024\u304c\u30a2\u30a4\u30c6\u30e0\u306b\u8ffd\u52a0\u3055\u308c\u308b\u3002\n\u5c5e\u6027\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u3001\u5c5e\u6027\u306e\u30c7\u30fc\u30bf\u578b\u306b\u3088\u3063\u3066\u52d5\u4f5c\u304c\u7570\u306a\u308b\u3002\n\n\n\u65e2\u5b58\u306e\u5c5e\u6027\u304cnumber\u3067 \u5024\u3082number\u306e\u5834\u5408\u3001\u52a0\u7b97\u3055\u308c\u308b\u3002\n\u65e2\u5b58\u306e\u5c5e\u6027\u304c\u30bb\u30c3\u30c8\u578b\u3067\u3001\u5024\u3082\u30bb\u30c3\u30c8\u306e\u5834\u5408\u3001\u8ffd\u52a0\u3055\u308c\u308b\u3002\n\n\n\n\n\nPUT: \n\n\u30a2\u30a4\u30c6\u30e0\u306b\u6307\u5b9a\u3055\u308c\u305f\u5c5e\u6027\u3092\u8ffd\u52a0\u3002\u5c5e\u6027\u304c\u65e2\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u3001\u65b0\u3057\u3044\u5024\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u308b\u3002\n\n\n\nDELETE:\n\n\u5024\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u5c5e\u6027\u3068\u305d\u306e\u5024\u3092\u30a2\u30a4\u30c6\u30e0\u304b\u3089\u9664\u53bb\u3055\u308c\u308b\u3002\n\u6307\u5b9a\u3055\u308c\u305f\u5024\u306e\u30c7\u30fc\u30bf\u578b\u306f\u3001\u65e2\u5b58\u306e\u5024\u306e\u30c7\u30fc\u30bf\u578b\u3068\u4e00\u81f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \n\u5024\u306b\u30bb\u30c3\u30c8\u578b\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u305d\u308c\u3089\u306e\u5024\u306f\u3001\u53e4\u3044\u30bb\u30c3\u30c8\u304b\u3089\u6e1b\u7b97\u3055\u308c\u308b\u3002\u305f\u3068\u3048\u3070\u3001[A\u3001B\u3001C]\u3068\u3044\u3046\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u305f\u5834\u5408\u306b\u3001[A\u3001C]\u306e\u524a\u9664\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u7d50\u679c\u306f[B]\u306b\u306a\u308b\u3002\u7a7a\u306e\u30bb\u30c3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3068\u30a8\u30e9\u30fc\u3002\n\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\uff1aExpected\n\u671f\u5f85\u3059\u308b\u5024\u3092\u6301\u3063\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3067\u304d\u308b\u307d\u3044\u3002\u8a73\u7d30\u306f\u4e0d\u660e\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\uff1aReturnValues\n\n\n\n\u5024\n\u8aac\u660e\n\n\n\n\nNONE\n(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024) \u4f55\u3082\u8fd4\u3055\u306a\u3044\n\n\nALL_OLD\n\u53e4\u3044\u5c5e\u6027\u5024\u3059\u3079\u3066\u3092\u8fd4\u3059\n\n\nUPDATED_OLD\n\u66f4\u65b0\u3055\u308c\u305f\u53e4\u3044\u5c5e\u6027\u5024\u306e\u307f\u3092\u8fd4\u3059\n\n\nALL_NEW\n\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u5c5e\u6027\u3059\u3079\u3066\u8fd4\u3059\n\n\nUPDATED_NEW\n\u66f4\u65b0\u3055\u308c\u305f\u65b0\u3057\u3044\u5c5e\u6027\u5024\u306e\u307f\u3092\u8fd4\u3059\n\n\n\n\n\u30c7\u30fc\u30bf\u306e\u53d6\u5f97 / DynamoDbClient#getItem\n<?php\n\n $args = array(\n        'TableName' => 'table_name',\n        'Key' => array(\n            'field1' => array('N' => '1201'),\n            'field2' => array('S' => 1),\n        ),\n        // 'AttributesToGet' => array('string', ... ),\n        'ConsistentRead' => true,\n        //'ReturnConsumedCapacity' => 'string',\n );\n $result = $client->getItem($args);\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\uff1aConsistentRead\n\n\n\n\u5024\n\u8aac\u660e\n\n\n\n\ntrue\n\u5f37\u304f\u4e00\u8cab\u3057\u305f\u8aad\u307f\u53d6\u308a\n\n\nfalse\n\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\u7d50\u679c\u7684\u306a\u8aad\u53d6\u308a\u4e00\u8cab\u6027\n\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\uff1aAttributesToGet\n\u5c5e\u6027\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u6307\u5b9a\u3057\u305f\u5c5e\u6027\u306e\u307f\u8fd4\u3059\u3002\u6307\u5b9a\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3059\u3079\u3066\u8fd4\u3059\u3002\nselect * \u3068\u3001select field1, field2 from table \u306e\u9055\u3044\u307f\u305f\u3044\u306a\u611f\u3058\u3002\n\n\u30c7\u30fc\u30bf\u306e\u691c\u7d22 / DynamoDbClient#query\n\n\u30ec\u30b9\u30dd\u30f3\u30b9: LastEvaluatedKey\nLimit\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u304b\u3001\u7d50\u679c\u30bb\u30c3\u30c8\u304c1MB\u3092\u8d85\u3048\u305f\u5834\u5408\u306b\u306e\u307f\u8fd4\u3055\u308c\u308b\u3002\n\u7d9a\u304d\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u305f\u3044\u5834\u5408\u306f\u3001LastEvaluatedKey \u306e\u5024\u3092 ExclusiveStartKey\u306b\u6307\u5b9a\u3057\u3066\u518d\u5ea6query\u3059\u308b\u3002\n\n\u30e1\u30e2\uff0f\u6bd4\u8f03\u6f14\u7b97\u5b50\n\n\n\n\u6f14\u7b97\u5b50\n\u8aac\u660e\n\n\n\n\nEQ\n\u7b49\u3057\u3044\n\n\nLE\n\u4ee5\u4e0b (Less than or equal)\n\n\nLT\n\u672a\u6e80 (Less than)\n\n\nGE\n\u4ee5\u4e0a (Greater than or equal)\n\n\nGT\n\u3088\u308a\u5927\u304d\u3044 (Greater than)\n\n\nBEGINS_WITH\n\u301c\u3067\u59cb\u307e\u308b\n\n\nBETWEEN\nA\u301cB\u306e\u9593 (A\u3068B\u306f\u542b\u3080)\n\n\n\n\nDynamoDbClient\u306e\u4fbf\u5229\u30e1\u30bd\u30c3\u30c9(Dynamo\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\u578b\u306b\u5909\u63db)\nhttps://github.com/aws/aws-sdk-php/blob/master/src/Aws/DynamoDb/DynamoDbClient.php\n\u203b \u6ce8\u610f\uff1a2014/11/09\u8ffd\u8a18\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u3001DynamoDB\u304cjson\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u305f\u306e\u306b\u4f34\u3044\u3001deprecated \u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \n(see https://github.com/aws/aws-sdk-php/blob/master/src/Aws/DynamoDb/DynamoDbClient.php#L155)\n<?php\n\n$attrs = array(\n    \u201dname\" => \"my_name\",\n    \"age\" => 30,\n);\n\n$res = $client->formatAttributes($attrs, $format = Aws\\DynamoDb\\Attribute::FORMAT_PUT);\n\nprint_r($res);\n\n\u7d50\u679c: \nArray\n(\n    [name] => Array\n        (\n            [S] => my_name\n        )\n\n    [age] => Array\n        (\n            [N] => 30\n        )\n\n)\n\n\n$format \u306f\u4e0b\u8a18\u304c\u6307\u5b9a\u53ef\u80fd\n\nAws\\DynamoDb\\Attribute::FORMAT_PUT (put)\nAws\\DynamoDb\\Attribute::FORMAT_UPDATE (update)\nAws\\DynamoDb\\Attribute::FORMAT_EXPECTED (expected)\n\nupdate, expected \u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u5f0f\u306b\u306a\u308b\u3002\n\u5f62\u5f0f\u304c\u9055\u3063\u3066\u3081\u3093\u3069\u304f\u3055\u3044\u3088\u306d\u2026\nArray\n(\n    [name] => Array \n        (\n            [Value] => Array\n                (\n                    [S] => my_name\n                )\n    [age] => Array \n        (\n            [Value] => Array\n                (\n                    [N] => 30\n                )\n\n)\n\n\nputItem \u3068 updateItem \u306e\u9055\u3044\n\nputItem\u306f\u30ec\u30b3\u30fc\u30c9\u5168\u4f53\u3092\u6307\u5b9a\u3057\u305fkey,value\u3067\u7f6e\u304d\u63db\u3048\u308b\nupdateItem \u306f\u3001\u30ec\u30b3\u30fc\u30c9\u306e\u4e00\u90e8\u306ekey, value\u3092\u7f6e\u304d\u63db\u3048\u3089\u3048\u308b\nupdateItem \u306f\u3001ADD, PUT, DELETE \u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u884c\u3048\u308b\u3002\n\n\nputItem \u3068 updateItem \u306e\u540c\u3058\u90e8\u5206\n\n\u3069\u3061\u3089\u3082\u3001\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u304c\u3067\u304d\u308b\n\n\n\n## \u30c7\u30fc\u30bf\u578b\n\n| \u30ad\u30fc\u540d      | \u30c7\u30fc\u30bf\u578b       | \u8aac\u660e      |\n|:-----------|------------:|:------------:|\n|S           | String \t\t\t|      |\n|N           | Number \t\t\t|      |\n|B           | Binary \t\t\t|      |\n|SS          | A set of strings |      |\n|NS          | A set of numbers |      |\n|BS          | A set of binary \t|      |\n\n\n\n\n## \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u751f\u6210 / DynamoDbClient#factory\n\n\n```php\n\n<?php\nuse Aws\\DynamoDb\\DynamoDbClient;\n\n$dynamo = DynamoDbClient::factory(array(\n    'key'    => AWS_KEY,\n    'secret' => AWS_SECRET,\n    'region' => AWS_REGION,\n));\n\n```\n\n\n## \u30c7\u30fc\u30bf\u306e\u767b\u9332 / DynamoDbClient#putItem\nhttp://docs.aws.amazon.com/aws-sdk-php/latest/class-Aws.DynamoDb.DynamoDbClient.html#_putItem\n\n```php\n<?php\n\n$result = $dynamo->putItem(\n\tarray(\n\t\t'TableName' => 'table_name',\n\t\t'Item' => $dynamo->formatAttributes(\n\t\t\tarray(\n\t\t\t\t'key1'  => $value1,\n\t\t\t\t'key2'  => $value2,\n\t\t\t\t'key3'  => $value3,\n\t\t\t)\n\t\t),\n\t\t // INDEXES | TOTAL | NONE\n\t\t'ReturnConsumedCapacity' => 'TOTAL',\n        // NONE | ALL_OLD | UPDATED_OLD | ALL_NEW | UPDATED_NEW\n       'ReturnValues' => 'ALL_NEW',        \n        // SIZE | NONE\n       'ReturnItemCollectionMetrics' => 'SIZE', \n\t)\n);\n\n```\n\n### ReturnConsumedCapacity\n\n| \u5024          |   \u8aac\u660e      |\n|:------------|------------:|\n| NONE | (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024) \u4f55\u3082\u8fd4\u3055\u306a\u3044    |\n| TOTAL   | \u30c6\u30fc\u30d6\u30eb\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4e21\u65b9\u3067\u6d88\u8cbb\u3055\u308c\u305f\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u306e\u30c8\u30fc\u30bf\u30eb\u3092\u8fd4\u3059      |\n| INDEXES   | \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u6d88\u8cbb\u3055\u308c\u305f\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u306e\u307f\u8fd4\u3059 |\n\n\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u306fread capacity units\u306e\u3053\u3068\u3002\u591a\u5206\u3002\n\n### ReturnItemCollectionMetrics\n\n| \u5024          |   \u8aac\u660e      |\n|:------------|------------:|\n| NONE | (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024) \u4f55\u3082\u8fd4\u3055\u306a\u3044    |\n| SIZE |  \u64cd\u4f5c\u4e2d\u306b\u5909\u66f4\u3055\u308c\u305f\u30a2\u30a4\u30c6\u30e0\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u304c\u3042\u308c\u3070\u3001\u7d71\u8a08\u60c5\u5831\u304c\u8fd4\u3055\u308c\u307e\u3059\u3002 |\n\n\n## \u30c7\u30fc\u30bf\u306e\u66f4\u65b0 / DynamoDbClient#updateItem\n\nhttp://docs.aws.amazon.com/aws-sdk-php/latest/class-Aws.DynamoDb.DynamoDbClient.html#_updateItem\n\n```php\n<?php\n\nuse Aws\\DynamoDb\\DynamoDbClient;\nuse Aws\\DynamoDb\\Enum\\Type;\nuse Aws\\DynamoDb\\Enum\\AttributeAction;\nuse Aws\\DynamoDb\\Enum\\ReturnValue;\n\n\n$result = $dynamo->updateItem(array(\n    \"TableName\" => 'table_name',\n    \"Key\" => array(\n        \"Id\" => array(Type::NUMBER => 121)\n    ),\n    \"AttributeUpdates\" => array(\n        \"NewAttribute\" => array(\n            \"Value\" => array(Type::STRING => \"Some Value\")\n        ),\n        \"Authors\" => array(\n            \"Action\" => AttributeAction::ADD,\n            \"Value\" => array(Type::STRING_SET => array(\"Author YY\", \"Author ZZ\"))\n        )\n    ),\n    \"ReturnValues\" => ReturnValue::ALL_NEW\n));\n```\n\n### \u30d1\u30e9\u30e1\u30fc\u30bf\uff1aAction (ADD | PUT | DELETE\u304c\u6307\u5b9a\u53ef\u80fd)\n * ADD: \n  * \u5c5e\u6027\u304c\u65e2\u306b\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3001\u5c5e\u6027\u3068\u305d\u306e\u5024\u304c\u30a2\u30a4\u30c6\u30e0\u306b\u8ffd\u52a0\u3055\u308c\u308b\u3002\n  * \u5c5e\u6027\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u3001\u5c5e\u6027\u306e\u30c7\u30fc\u30bf\u578b\u306b\u3088\u3063\u3066\u52d5\u4f5c\u304c\u7570\u306a\u308b\u3002\n     * \u65e2\u5b58\u306e\u5c5e\u6027\u304cnumber\u3067 \u5024\u3082number\u306e\u5834\u5408\u3001\u52a0\u7b97\u3055\u308c\u308b\u3002\n     * \u65e2\u5b58\u306e\u5c5e\u6027\u304c\u30bb\u30c3\u30c8\u578b\u3067\u3001\u5024\u3082\u30bb\u30c3\u30c8\u306e\u5834\u5408\u3001\u8ffd\u52a0\u3055\u308c\u308b\u3002\n\n * PUT: \n  * \u30a2\u30a4\u30c6\u30e0\u306b\u6307\u5b9a\u3055\u308c\u305f\u5c5e\u6027\u3092\u8ffd\u52a0\u3002\u5c5e\u6027\u304c\u65e2\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u3001\u65b0\u3057\u3044\u5024\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u308b\u3002\n * DELETE:\n   * \u5024\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u5c5e\u6027\u3068\u305d\u306e\u5024\u3092\u30a2\u30a4\u30c6\u30e0\u304b\u3089\u9664\u53bb\u3055\u308c\u308b\u3002\n   * \u6307\u5b9a\u3055\u308c\u305f\u5024\u306e\u30c7\u30fc\u30bf\u578b\u306f\u3001\u65e2\u5b58\u306e\u5024\u306e\u30c7\u30fc\u30bf\u578b\u3068\u4e00\u81f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \n   * \u5024\u306b\u30bb\u30c3\u30c8\u578b\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u305d\u308c\u3089\u306e\u5024\u306f\u3001\u53e4\u3044\u30bb\u30c3\u30c8\u304b\u3089\u6e1b\u7b97\u3055\u308c\u308b\u3002\u305f\u3068\u3048\u3070\u3001[A\u3001B\u3001C]\u3068\u3044\u3046\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u305f\u5834\u5408\u306b\u3001[A\u3001C]\u306e\u524a\u9664\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u7d50\u679c\u306f[B]\u306b\u306a\u308b\u3002\u7a7a\u306e\u30bb\u30c3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3068\u30a8\u30e9\u30fc\u3002\n\n### \u30d1\u30e9\u30e1\u30fc\u30bf\uff1aExpected\n\n\u671f\u5f85\u3059\u308b\u5024\u3092\u6301\u3063\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3067\u304d\u308b\u307d\u3044\u3002\u8a73\u7d30\u306f\u4e0d\u660e\n\n### \u30d1\u30e9\u30e1\u30fc\u30bf\uff1aReturnValues\n\n| \u5024          |   \u8aac\u660e      |\n|:------------|------------:|\n| NONE        | (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024) \u4f55\u3082\u8fd4\u3055\u306a\u3044    |\n| ALL_OLD     | \u53e4\u3044\u5c5e\u6027\u5024\u3059\u3079\u3066\u3092\u8fd4\u3059        |\n| UPDATED_OLD | \u66f4\u65b0\u3055\u308c\u305f\u53e4\u3044\u5c5e\u6027\u5024\u306e\u307f\u3092\u8fd4\u3059  |\n| ALL_NEW     | \u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u5c5e\u6027\u3059\u3079\u3066\u8fd4\u3059 |\n| UPDATED_NEW | \u66f4\u65b0\u3055\u308c\u305f\u65b0\u3057\u3044\u5c5e\u6027\u5024\u306e\u307f\u3092\u8fd4\u3059 |\n\n\n\n## \u30c7\u30fc\u30bf\u306e\u53d6\u5f97 / DynamoDbClient#getItem\n\n```php\n<?php\n\n $args = array(\n        'TableName' => 'table_name',\n        'Key' => array(\n            'field1' => array('N' => '1201'),\n            'field2' => array('S' => 1),\n        ),\n        // 'AttributesToGet' => array('string', ... ),\n        'ConsistentRead' => true,\n        //'ReturnConsumedCapacity' => 'string',\n );\n $result = $client->getItem($args);\n```\n\n### \u30d1\u30e9\u30e1\u30fc\u30bf\uff1aConsistentRead\n\n| \u5024     |   \u8aac\u660e      |\n|:-----------|------------:|\n| true | \u5f37\u304f\u4e00\u8cab\u3057\u305f\u8aad\u307f\u53d6\u308a |\n| false | \uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\u7d50\u679c\u7684\u306a\u8aad\u53d6\u308a\u4e00\u8cab\u6027|\n\n### \u30d1\u30e9\u30e1\u30fc\u30bf\uff1aAttributesToGet\n\n\u5c5e\u6027\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u6307\u5b9a\u3057\u305f\u5c5e\u6027\u306e\u307f\u8fd4\u3059\u3002\u6307\u5b9a\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3059\u3079\u3066\u8fd4\u3059\u3002\nselect * \u3068\u3001select field1, field2 from table \u306e\u9055\u3044\u307f\u305f\u3044\u306a\u611f\u3058\u3002\n\n\n## \u30c7\u30fc\u30bf\u306e\u691c\u7d22 / DynamoDbClient#query\n\n\n### \u30ec\u30b9\u30dd\u30f3\u30b9: LastEvaluatedKey\nLimit\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u304b\u3001\u7d50\u679c\u30bb\u30c3\u30c8\u304c1MB\u3092\u8d85\u3048\u305f\u5834\u5408\u306b\u306e\u307f\u8fd4\u3055\u308c\u308b\u3002\n\u7d9a\u304d\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u305f\u3044\u5834\u5408\u306f\u3001LastEvaluatedKey \u306e\u5024\u3092 ExclusiveStartKey\u306b\u6307\u5b9a\u3057\u3066\u518d\u5ea6query\u3059\u308b\u3002\n\n\n\n# \u30e1\u30e2\uff0f\u6bd4\u8f03\u6f14\u7b97\u5b50\n\n| \u6f14\u7b97\u5b50      |   \u8aac\u660e      |\n|:-----------|------------:|\n| EQ | \u7b49\u3057\u3044 |\n| LE | \u4ee5\u4e0b (Less than or equal)|\n| LT | \u672a\u6e80 (Less than) |\n| GE | \u4ee5\u4e0a (Greater than or equal)|\n| GT | \u3088\u308a\u5927\u304d\u3044 (Greater than) |\n| BEGINS_WITH | \u301c\u3067\u59cb\u307e\u308b |\n| BETWEEN|A\u301cB\u306e\u9593 (A\u3068B\u306f\u542b\u3080)|\n\n\n\n## DynamoDbClient\u306e\u4fbf\u5229\u30e1\u30bd\u30c3\u30c9(Dynamo\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\u578b\u306b\u5909\u63db)\n\nhttps://github.com/aws/aws-sdk-php/blob/master/src/Aws/DynamoDb/DynamoDbClient.php\n\n\u203b \u6ce8\u610f\uff1a2014/11/09\u8ffd\u8a18\n\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u3001DynamoDB\u304cjson\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u305f\u306e\u306b\u4f34\u3044\u3001deprecated \u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \n(see https://github.com/aws/aws-sdk-php/blob/master/src/Aws/DynamoDb/DynamoDbClient.php#L155)\n\n\n```php\n<?php\n\n$attrs = array(\n\t\u201dname\" => \"my_name\",\n    \"age\" => 30,\n);\n\n$res = $client->formatAttributes($attrs, $format = Aws\\DynamoDb\\Attribute::FORMAT_PUT);\n\nprint_r($res);\n```\n\n\u7d50\u679c: \n\n```\nArray\n(\n    [name] => Array\n        (\n            [S] => my_name\n        )\n\n    [age] => Array\n        (\n            [N] => 30\n        )\n\n)\n\n```\n\n$format \u306f\u4e0b\u8a18\u304c\u6307\u5b9a\u53ef\u80fd\n\n* Aws\\DynamoDb\\Attribute::FORMAT_PUT (put)\n* Aws\\DynamoDb\\Attribute::FORMAT_UPDATE (update)\n* Aws\\DynamoDb\\Attribute::FORMAT_EXPECTED (expected)\n\nupdate, expected \u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u5f0f\u306b\u306a\u308b\u3002\n\u5f62\u5f0f\u304c\u9055\u3063\u3066\u3081\u3093\u3069\u304f\u3055\u3044\u3088\u306d\u2026\n\n\n```\nArray\n(\n    [name] => Array \n        (\n            [Value] => Array\n                (\n                    [S] => my_name\n                )\n    [age] => Array \n        (\n            [Value] => Array\n                (\n                    [N] => 30\n                )\n\n)\n```\n\n\n\n\n# putItem \u3068 updateItem \u306e\u9055\u3044\n\n* putItem\u306f\u30ec\u30b3\u30fc\u30c9\u5168\u4f53\u3092\u6307\u5b9a\u3057\u305fkey,value\u3067\u7f6e\u304d\u63db\u3048\u308b\n* updateItem \u306f\u3001\u30ec\u30b3\u30fc\u30c9\u306e\u4e00\u90e8\u306ekey, value\u3092\u7f6e\u304d\u63db\u3048\u3089\u3048\u308b\n* updateItem \u306f\u3001ADD, PUT, DELETE \u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u884c\u3048\u308b\u3002\n\n# putItem \u3068 updateItem \u306e\u540c\u3058\u90e8\u5206\n\n* \u3069\u3061\u3089\u3082\u3001\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u304c\u3067\u304d\u308b\n\n\n", "tags": ["DynamoDB", "PHP", "AWS"]}