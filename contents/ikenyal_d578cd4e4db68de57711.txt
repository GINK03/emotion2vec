{"context": "\n[\u76ee\u7684]\nLINE BOT API Trial Account\u3092\u5229\u7528\u3057\u3066LINE\u30dc\u30c3\u30c8\u3092\u4f5c\u308b\u3002\n\n\u4e8b\u524d\u6e96\u5099\u3068\u3057\u3066\u3001LINE BOT API Trial Account \u304b\u3089\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\u3002\u305d\u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u901a\u4fe1\u306b\u306fSSL\u901a\u4fe1\u304c\u5fc5\u9808\u306a\u305f\u3081\u3001Web\u30b5\u30fc\u30d0\u3092https\u5316\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u3002Web\u30b5\u30fc\u30d0\u306ehttps\u5316\u306f Let's Encrypt\u3067SSL\u901a\u4fe1\u3092\u3057\u3066https\u5316 \u3092\u884c\u3063\u3066\u304a\u304f\u3002\n\nBasic Information\u306e\u8a2d\u5b9a\nLINE\u30d3\u30b8\u30cd\u30b9\u30a2\u30ab\u30a6\u30f3\u30c8 \u306b\u30ed\u30b0\u30a4\u30f3\u3057\u30dc\u30c3\u30c8\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3002\n\nCallback URL\u306e\u8a2d\u5b9a\nCallback URL\u306f\u30dd\u30fc\u30c8\u540d\u3082\u542b\u3081\u3001\u300chttps://\u30b5\u30fc\u30d0\u30fc:443/\u307b\u3052\u307b\u3052\u300d\u306e\u5f62\u5f0f\u3067\u5165\u529b\u3059\u308b\u3002\n\nServer IP Whitelist\u306e\u8a2d\u5b9a\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u5148\u306e\u30b5\u30fc\u30d0\u306eIP\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n\u5b9f\u88c5\nBOT API\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u8003\u306b\u5b9f\u88c5\u3059\u308b\u3002\n<?php\n$request = file_get_contents(\"php://input\");\n$json = json_decode($request);\n$content = $json->result[0]->content;\n\n$header = array(\n    'Content-Type: application/json; charser=UTF-8',\n    'X-Line-ChannelID: \u3010Channel\u3000ID\u3092\u6307\u5b9a\u3011',  // Channel ID\n    'X-Line-ChannelSecret: \u3010ChannelID\u3000Secret\u3092\u6307\u5b9a\u3011',  // ChannelID Secret\n    'X-Line-Trusted-User-With-ACL: \u3010MID\u3092\u6307\u5b9a\u3011',  // MID\n);\n$post = array(\n    'to' => array($content->from),\n    'toChannel' => 1383378250,  // Fixed value.\n    'eventType' => '138311608800106203',  // Fixed value.\n    'content' => array(\n        'contentType' => 1,\n        'toType' => 1,\n    ),\n);\n\n// \u30dc\u30c3\u30c8\u304c\u8fd4\u7b54\u3059\u308b\u5185\u5bb9\u3002\u3053\u3053\u3067\u306f\u9001\u3089\u308c\u305f\u5185\u5bb9\u3092\u5fa9\u5531\u3059\u308b\u3060\u3051\n$post['content']['text'] = $content->text.' \u3067\u3059\u306d';\n\n$post = json_encode($post);\n\n$ch = curl_init(\"https://trialbot-api.line.me/v1/events\");\ncurl_setopt($ch, CURLOPT_POST, true);\ncurl_setopt($ch, CURLOPT_HTTPHEADER, $header);\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $post);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n$result = curl_exec($ch);\n\n> [\u76ee\u7684]\nLINE BOT API Trial Account\u3092\u5229\u7528\u3057\u3066LINE\u30dc\u30c3\u30c8\u3092\u4f5c\u308b\u3002\n\n\u4e8b\u524d\u6e96\u5099\u3068\u3057\u3066\u3001[LINE BOT API Trial Account](https://business.line.me/ja/products/4/introduction) \u304b\u3089\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\u3002\u305d\u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u901a\u4fe1\u306b\u306fSSL\u901a\u4fe1\u304c\u5fc5\u9808\u306a\u305f\u3081\u3001Web\u30b5\u30fc\u30d0\u3092https\u5316\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u3002Web\u30b5\u30fc\u30d0\u306ehttps\u5316\u306f [Let's Encrypt\u3067SSL\u901a\u4fe1\u3092\u3057\u3066https\u5316](http://qiita.com/ikenyal/items/c2d9af510805dafdf2dd) \u3092\u884c\u3063\u3066\u304a\u304f\u3002\n\n# Basic Information\u306e\u8a2d\u5b9a\n[LINE\u30d3\u30b8\u30cd\u30b9\u30a2\u30ab\u30a6\u30f3\u30c8](https://business.line.me/ja/) \u306b\u30ed\u30b0\u30a4\u30f3\u3057\u30dc\u30c3\u30c8\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3002\n\n## Callback URL\u306e\u8a2d\u5b9a\nCallback URL\u306f\u30dd\u30fc\u30c8\u540d\u3082\u542b\u3081\u3001\u300chttps://\u30b5\u30fc\u30d0\u30fc:443/\u307b\u3052\u307b\u3052\u300d\u306e\u5f62\u5f0f\u3067\u5165\u529b\u3059\u308b\u3002\n\n## Server IP Whitelist\u306e\u8a2d\u5b9a\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u5148\u306e\u30b5\u30fc\u30d0\u306eIP\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n# \u5b9f\u88c5\n\n[BOT API\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://developers.line.me/bot-api/overview) \u3092\u53c2\u8003\u306b\u5b9f\u88c5\u3059\u308b\u3002\n\n```php\n<?php\n$request = file_get_contents(\"php://input\");\n$json = json_decode($request);\n$content = $json->result[0]->content;\n\n$header = array(\n    'Content-Type: application/json; charser=UTF-8',\n    'X-Line-ChannelID: \u3010Channel\u3000ID\u3092\u6307\u5b9a\u3011',  // Channel ID\n    'X-Line-ChannelSecret: \u3010ChannelID\u3000Secret\u3092\u6307\u5b9a\u3011',  // ChannelID Secret\n    'X-Line-Trusted-User-With-ACL: \u3010MID\u3092\u6307\u5b9a\u3011',  // MID\n);\n$post = array(\n    'to' => array($content->from),\n    'toChannel' => 1383378250,  // Fixed value.\n    'eventType' => '138311608800106203',  // Fixed value.\n    'content' => array(\n        'contentType' => 1,\n        'toType' => 1,\n    ),\n);\n\n// \u30dc\u30c3\u30c8\u304c\u8fd4\u7b54\u3059\u308b\u5185\u5bb9\u3002\u3053\u3053\u3067\u306f\u9001\u3089\u308c\u305f\u5185\u5bb9\u3092\u5fa9\u5531\u3059\u308b\u3060\u3051\n$post['content']['text'] = $content->text.' \u3067\u3059\u306d';\n\n$post = json_encode($post);\n\n$ch = curl_init(\"https://trialbot-api.line.me/v1/events\");\ncurl_setopt($ch, CURLOPT_POST, true);\ncurl_setopt($ch, CURLOPT_HTTPHEADER, $header);\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $post);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n$result = curl_exec($ch);\n```\n", "tags": ["PHP", "linebot", "letsencrypt", "LineBotAPI", "bot"]}