{"context": "Facebook SDK\u3092\u4f7f\u3063\u305fSwift3\u88fd\u306eiOS\u30a2\u30d7\u30ea\u3067\u3001Facebook\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066Access Token\u53d6\u5f97\u3059\u308b\u307e\u3067\u306e\u6d41\u308c\u3092\u307e\u3068\u3081\u307e\u3059\u3002\n\n\u524d\u63d0\n\nSwift 3.x\n\u516c\u5f0fFacebook SDK\u3092\u5229\u7528\u3059\u308b\nCarthage\u3092\u5229\u7528\u3059\u308b\n\n\nFacebook\u5074\u306e\u8a2d\u5b9a\n\n\nFacebook for developer\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066Apps\u30da\u30fc\u30b8\u3092\u958b\u304d\u307e\u3059\u3002\n\u65b0\u898fApp\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u30a2\u30d7\u30eaID(App ID)\u3092\u30e1\u30e2\u3057\u307e\u3059\u3002\n\u300c\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3092\u8ffd\u52a0\u300d\u3067\u3001iOS\u30a2\u30d7\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u30d0\u30f3\u30c9\u30ebID\u306e\u6b04\u306b\u3001Xcode\u304b\u3089\u53d6\u5f97\u3057\u305fBundle Identifier\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\n\n\u5168\u90e8\u5c0f\u6587\u5b57\u3067\u306a\u3044\u3068\u30c0\u30e1\u306a\u3088\u3046\u3067\u3059\u3002\n\n\nSingle Sign On\u3092ON\u306b\u3057\u307e\u3059\u3002\n\n\nFacebook SDK\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nCarthage\u3092\u4f7f\u7528\u3057\u305f\u4f8b\u3067\u3059\u3002\n\n\nXcode\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bCartfile\u3092\u4f5c\u6210\u3057\u3066\u4ee5\u4e0b\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\ngithub \"facebook/facebook-sdk-swift\"\n\n\n\nSDK\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\ncarthage update\n\n\nXcode\u3092\u958b\u304d\u307e\u3059\u3002\n\nTarget > General > Linked Framework and Libraries\u306b\u4ee5\u4e0b\u3092drag & drop\u3057\u307e\u3059\u3002\n\nFacebookCore.framework\nFacebookLogin.framework\nFBSDKCoreKit.framework\nFBSDLoginKit.framework\nBolts.framework\n\n\n\nTarget > Build Phase\u3092\u958b\u304d\u307e\u3059\n\n\u5de6\u4e0a\u306e+\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\"New Run Script Phase\"\u3092\u9078\u629e\n\nRun Script\u306eShell\u306e\u30a8\u30c7\u30a3\u30bf\u306b\u4e0b\u8a18\u3092\u8ffd\u52a0\n/usr/local/bin/carthage copy-frameworks\n\n\n\nRun Script\u306eInput Files\u306b\u4e0b\u8a18\u3092\u8ffd\u52a0\n$(SRCROOT)/Carthage/Build/iOS/FacebookCore.framework\n$(SRCROOT)/Carthage/Build/iOS/FacebookLogin.framework\n$(SRCROOT)/Carthage/Build/iOS/FBSDKCoreKit.framework\n$(SRCROOT)/Carthage/Build/iOS/FBSDKLoginKit.framework\n$(SRCROOT)/Carthage/Build/iOS/Bolts.framework\n\n\n\n\n\nInfo.plist\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066Open As > Source Code\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u4ee5\u4e0b\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n<key>CFBundleURLTypes</key>\n<array>\n  <dict>\n    <key>CFBundleURLSchemes</key>\n    <array>\n      <string>fb{your-app-id}</string>\n    </array>\n  </dict>\n</array>\n<key>FacebookAppID</key>\n<string>{your-app-id}</string>\n<key>FacebookDisplayName</key>\n<string>{your-app-name}</string>\n<key>LSApplicationQueriesSchemes</key>\n<array>\n    <string>fbapi</string>\n    <string>fb-messenger-api</string>\n    <string>fbauth2</string>\n    <string>fbshareextension</string>\n</array>\n<key>NSPhotoLibraryUsageDescription</key>\n<string>{human-readable reason for photo access}</string>\n\n\n\n\n{your-app-id} : Facebook\u3067\u4f5c\u6210\u3057\u305fApp ID\n{your-app-name} : Facebook\u3067\u8a2d\u5b9a\u3057\u305f\u30a2\u30d7\u30ea\u540d\n{human-readable reason for photo access} : \u4efb\u610f\u306e\u6587\u7ae0\n\n\nLogin\u30dc\u30bf\u30f3\n\u9069\u5f53\u306a\u30ed\u30b0\u30a4\u30f3\u7528View Controller\u306e\u4e2d\u3067SDK\u306e\u30dc\u30bf\u30f3\u3092\u751f\u6210\u3057\u307e\u3059\u3002\nimport FacebookLogin\n\nfunc viewDidLoad() {\n    let loginButton = LoginButton(readPermissions: [ .PublicProfile ])\n    loginButton.center = view.center\n    view.addSubview(loginButton)\n}\n\n\nApp Delegate\n\n\u8d77\u52d5\u6642\nfunc application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {\n   return FBSDKApplicationDelegate.sharedInstance().application(application, didFinishLaunchingWithOptions: launchOptions)\n}\n\n\n\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\nfunc application(_ application: UIApplication, open url: URL, sourceApplication: String?, annotation: AnyObject) -> Bool {\n    let result = FBSDKApplicationDelegate.sharedInstance().application(application, open: url as URL!, sourceApplication: sourceApplication, annotation: annotation)\n\n    //\u4e0a\u8a18\u4ee5\u964dAccessToken\u304c\u4f7f\u3048\u307e\u3059    \n    if let accessToken = AccessToken.current {\n        debugPrint(accessToken)\n    }\n    return result\n}\n\n\nAccess Token\u306e\u53d6\u5f97\nFBSDKApplicationDelegate.sharedInstance().application(application, open: url as URL!, sourceApplication: sourceApplication, annotation: annotation)\u5b9f\u884c\u4ee5\u964d\u3001AccessToken.current\u3067\u73fe\u5728\u306e\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u306eAccess Token\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nLog\u306e\u9001\u4fe1(\u4efb\u610f)\n\n\u30ed\u30b0\u3092Facebook\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\n\u30ed\u30b0\u306e\u30e1\u30c8\u30ea\u30af\u30b9\u306fFacebook\u30a2\u30d7\u30ea\u306e\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u30da\u30fc\u30b8\u3067\u95b2\u89a7\u3067\u304d\u307e\u3059\u3002\n\nfunc applicationDidBecomeActive(_ application: UIApplication) {\n    FBSDKAppEvents.activateApp() //Active\u3067\u3042\u308b\u3053\u3068\u3092Facebook\u306b\u901a\u77e5\n    FBSDKAppEvents.logEvent(\"launch application\") //Facebook\u306b\u4efb\u610f\u306e\u30ed\u30b0\u3092\u9001\u4fe1\n}\n\n\u4ee5\u4e0a\nFacebook SDK\u3092\u4f7f\u3063\u305fSwift3\u88fd\u306eiOS\u30a2\u30d7\u30ea\u3067\u3001Facebook\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066Access Token\u53d6\u5f97\u3059\u308b\u307e\u3067\u306e\u6d41\u308c\u3092\u307e\u3068\u3081\u307e\u3059\u3002\n\n## \u524d\u63d0\n\n- Swift 3.x\n- \u516c\u5f0fFacebook SDK\u3092\u5229\u7528\u3059\u308b\n- Carthage\u3092\u5229\u7528\u3059\u308b\n\n## Facebook\u5074\u306e\u8a2d\u5b9a\n\n0. [Facebook for developer](https://developers.facebook.com)\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066[Apps\u30da\u30fc\u30b8](https://developers.facebook.com/apps/)\u3092\u958b\u304d\u307e\u3059\u3002\n1. \u65b0\u898fApp\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n2. \u30a2\u30d7\u30eaID(App ID)\u3092\u30e1\u30e2\u3057\u307e\u3059\u3002\n3. \u300c\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3092\u8ffd\u52a0\u300d\u3067\u3001iOS\u30a2\u30d7\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n4. \u30d0\u30f3\u30c9\u30ebID\u306e\u6b04\u306b\u3001Xcode\u304b\u3089\u53d6\u5f97\u3057\u305fBundle Identifier\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\t- \u5168\u90e8\u5c0f\u6587\u5b57\u3067\u306a\u3044\u3068\u30c0\u30e1\u306a\u3088\u3046\u3067\u3059\u3002\n5. Single Sign On\u3092ON\u306b\u3057\u307e\u3059\u3002\n\n## Facebook SDK\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nCarthage\u3092\u4f7f\u7528\u3057\u305f\u4f8b\u3067\u3059\u3002\n\n1. Xcode\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bCartfile\u3092\u4f5c\u6210\u3057\u3066\u4ee5\u4e0b\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n\t```\n\tgithub \"facebook/facebook-sdk-swift\"\n\t```\n\n2. SDK\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\t\n\t```\n\tcarthage update\n\t```\n\n3. Xcode\u3092\u958b\u304d\u307e\u3059\u3002\n\n4. Target > General > Linked Framework and Libraries\u306b\u4ee5\u4e0b\u3092drag & drop\u3057\u307e\u3059\u3002\n  - FacebookCore.framework\n  - FacebookLogin.framework\n  - FBSDKCoreKit.framework\n  - FBSDLoginKit.framework\n  - Bolts.framework\n\t\n5. Target > Build Phase\u3092\u958b\u304d\u307e\u3059\n\t1. \u5de6\u4e0a\u306e+\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\"New Run Script Phase\"\u3092\u9078\u629e\n\t2. Run Script\u306eShell\u306e\u30a8\u30c7\u30a3\u30bf\u306b\u4e0b\u8a18\u3092\u8ffd\u52a0\n\n\t\t```bash\n\t\t/usr/local/bin/carthage copy-frameworks\n\t\t```\n\t3. Run Script\u306eInput Files\u306b\u4e0b\u8a18\u3092\u8ffd\u52a0\n\n\t\t```bash\n\t\t$(SRCROOT)/Carthage/Build/iOS/FacebookCore.framework\n\t\t$(SRCROOT)/Carthage/Build/iOS/FacebookLogin.framework\n\t\t$(SRCROOT)/Carthage/Build/iOS/FBSDKCoreKit.framework\n\t\t$(SRCROOT)/Carthage/Build/iOS/FBSDKLoginKit.framework\n\t\t$(SRCROOT)/Carthage/Build/iOS/Bolts.framework\n\t\t```\n\n6. Info.plist\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066Open As > Source Code\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u4ee5\u4e0b\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n\t```xml\n\t<key>CFBundleURLTypes</key>\n\t<array>\n\t  <dict>\n\t    <key>CFBundleURLSchemes</key>\n\t    <array>\n\t      <string>fb{your-app-id}</string>\n\t    </array>\n\t  </dict>\n\t</array>\n\t<key>FacebookAppID</key>\n\t<string>{your-app-id}</string>\n\t<key>FacebookDisplayName</key>\n\t<string>{your-app-name}</string>\n\t<key>LSApplicationQueriesSchemes</key>\n    <array>\n        <string>fbapi</string>\n        <string>fb-messenger-api</string>\n        <string>fbauth2</string>\n        <string>fbshareextension</string>\n    </array>\n    <key>NSPhotoLibraryUsageDescription</key>\n    <string>{human-readable reason for photo access}</string>\n\t```\n\t\n  - {your-app-id} : Facebook\u3067\u4f5c\u6210\u3057\u305fApp ID\n  - {your-app-name} : Facebook\u3067\u8a2d\u5b9a\u3057\u305f\u30a2\u30d7\u30ea\u540d\n  - {human-readable reason for photo access} : \u4efb\u610f\u306e\u6587\u7ae0\n\n## Login\u30dc\u30bf\u30f3\n\n\u9069\u5f53\u306a\u30ed\u30b0\u30a4\u30f3\u7528View Controller\u306e\u4e2d\u3067SDK\u306e\u30dc\u30bf\u30f3\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\n```swift\nimport FacebookLogin\n\nfunc viewDidLoad() {\n    let loginButton = LoginButton(readPermissions: [ .PublicProfile ])\n    loginButton.center = view.center\n    view.addSubview(loginButton)\n}\n```\n\n## App Delegate\n\n### \u8d77\u52d5\u6642\n\n```swift\nfunc application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {\n   return FBSDKApplicationDelegate.sharedInstance().application(application, didFinishLaunchingWithOptions: launchOptions)\n}\n```\n\n### \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n\n```swift\nfunc application(_ application: UIApplication, open url: URL, sourceApplication: String?, annotation: AnyObject) -> Bool {\n    let result = FBSDKApplicationDelegate.sharedInstance().application(application, open: url as URL!, sourceApplication: sourceApplication, annotation: annotation)\n\n\t//\u4e0a\u8a18\u4ee5\u964dAccessToken\u304c\u4f7f\u3048\u307e\u3059    \n    if let accessToken = AccessToken.current {\n        debugPrint(accessToken)\n    }\n    return result\n}\n```\n\n## Access Token\u306e\u53d6\u5f97\n\n`FBSDKApplicationDelegate.sharedInstance().application(application, open: url as URL!, sourceApplication: sourceApplication, annotation: annotation)`\u5b9f\u884c\u4ee5\u964d\u3001`AccessToken.current`\u3067\u73fe\u5728\u306e\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u306eAccess Token\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n## Log\u306e\u9001\u4fe1(\u4efb\u610f)\n\n- \u30ed\u30b0\u3092Facebook\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\n- \u30ed\u30b0\u306e\u30e1\u30c8\u30ea\u30af\u30b9\u306fFacebook\u30a2\u30d7\u30ea\u306e\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u30da\u30fc\u30b8\u3067\u95b2\u89a7\u3067\u304d\u307e\u3059\u3002\n\n```swift\nfunc applicationDidBecomeActive(_ application: UIApplication) {\n    FBSDKAppEvents.activateApp() //Active\u3067\u3042\u308b\u3053\u3068\u3092Facebook\u306b\u901a\u77e5\n    FBSDKAppEvents.logEvent(\"launch application\") //Facebook\u306b\u4efb\u610f\u306e\u30ed\u30b0\u3092\u9001\u4fe1\n}\n```\n\n\u4ee5\u4e0a\n", "tags": ["Swift3.0", "iOS", "Carthage", "Swift", "Facebook"]}