{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nKnockoutJS\u306e3.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u306d\u3002\nUpgrade Notes\u3092\u8aad\u3093\u3067\u5206\u304b\u3063\u305f\u4e8b\u3092\u307e\u3068\u3081\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001\u300c1. Computed properties now notify only when their value changes\u300d\u3092\u8aad\u307f\u307e\u3059\u3002\n\u8aac\u660e\u3092\u8aad\u3080\u3068\u30012.x\u307e\u3067\u306fcomputed\u304c\u8a55\u4fa1\u3055\u308c\u305f\u969b\u306f\u3001\u5fc5\u305a\u5909\u66f4\u3057\u305f\u3068\u3046\u3044\u3046\u901a\u77e5\u304c\u884c\u304f\u305d\u3046\u3067\u3059\u3002subscribe\u3067\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u4ed5\u639b\u3051\u308c\u3070\u3001\u305d\u306e\u901a\u77e5\u3092\u53d7\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u30023.0\u3067\u306f\u3001computed\u304c\u8a55\u4fa1\u3055\u308c\u305f\u7d50\u679c\u304c\u524d\u56de\u3068\u540c\u3058\u3067\u3042\u308c\u3070\u3001\u901a\u77e5\u304c\u3044\u304b\u306a\u3044\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u6587\u7ae0\u3060\u3051\u898b\u308b\u3068\u3001\u5206\u304b\u3063\u305f\u3088\u3046\u3067\u5206\u304b\u3089\u306a\u3044\u306e\u3067\u3001KnockoutJS\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8aad\u307f\u307e\u3057\u3087\u3046\u3002\n\n2.3.0\u306e\u30b3\u30fc\u30c9\n2.3.0\u306e\u30b3\u30fc\u30c9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\nhttps://github.com/knockout/knockout/blob/v2.3.0/src/subscribables/dependentObservable.js#L80-L84\nevaluateImmediate\u304c\u547c\u3070\u308c\u308b\u3068\u3001\u5024\u306e\u66f4\u65b0\u3068\u305d\u306e\u4e8b\u306e\u901a\u77e5\u304c\u884c\u306a\u308f\u308c\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308a\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u4f9d\u5b58\u3057\u3066\u3044\u308bobservable\u304c\u66f4\u65b0\u3055\u308c\u306a\u3044\u3068evaluateImmediate\u304c\u547c\u3070\u308c\u305a\u306b\u3001\u524d\u56de\u8a55\u4fa1\u3057\u305f\u5024\u3092\u4f7f\u3046\u306e\u3067\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n2.3.0.dependentObservable.js\nfunction evaluateImmediate() {\n    //...\n    // \u3053\u3053\u3067\u5024\u306e\u66f4\u65b0\u3068\u901a\u77e5\u3057\u3066\u3044\u308b\n    dependentObservable[\"notifySubscribers\"](_latestValue, \"beforeChange\");\n    _latestValue = newValue;\n    dependentObservable[\"notifySubscribers\"](_latestValue);\n    //...\n}\n\n\n\n3.0.0\u306e\u30b3\u30fc\u30c9\n\u6b21\u306b\u30013.0.0\u306e\u30b3\u30fc\u30c9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\nhttps://github.com/knockout/knockout/blob/v3.0.0/src/subscribables/dependentObservable.js#L85-L91\n2.3.0\u306b\u7121\u304b\u3063\u305fif\u6587\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\u898b\u3066\u306e\u901a\u308a\u3001\u5024\u306b\u5909\u5316\u304c\u306a\u304b\u3063\u305f\u3089\u66f4\u65b0\u3082\u901a\u77e5\u3082\u3057\u306a\u3044\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\n3.0.0.dependentObservable.js\nfunction evaluateImmediate() {\n    //...\n    // \u5909\u66f4\u306a\u3051\u308c\u3070\u3001\u66f4\u65b0\u3082\u901a\u77e5\u3082\u3057\u306a\u3044\n    if (!dependentObservable['equalityComparer'] || !dependentObservable['equalityComparer'](_latestValue, newValue)) {\n        dependentObservable[\"notifySubscribers\"](_latestValue, \"beforeChange\");\n        _latestValue = newValue;\n        dependentObservable[\"notifySubscribers\"](_latestValue);\n    }\n    //...\n}\n\n\n\n\u52d5\u304b\u3057\u3066\u9055\u3044\u3092\u898b\u308b\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u4e0a\u306e\u9055\u3044\u304c\u5206\u304b\u3063\u305f\u306e\u3067\u3001\u5b9f\u969b\u306b\u52d5\u304d\u306e\u9055\u3044\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306b\u306f\u3001n\u3068\u3044\u3046observable\u3068evenN\u3068\u3044\u3046computed\u304c\u3067\u3066\u304d\u307e\u3059\u3002n\u306b\u306f\u6570\u5024\u304c\u5165\u308a\u3001evenN\u306fn\u304c\u5076\u6570\u3060\u3063\u305f\u3089true\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n2.x\u306e\u5834\u5408\u3001evenN\u306e\u7d50\u679c\u304c\u540c\u3058\u3067\u3082\u901a\u77e5\u304c\u3044\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u306f\u3058\u3081n\u306b10\u304c\u5165\u3063\u3066\u304a\u308a\u3001\u305d\u306e\u5f8c20\u306b\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\u3069\u3061\u3089\u3082\u5076\u6570\u306a\u306e\u3067\u3001evenN\u306f\u5171\u306btrue\u306b\u306a\u308a\u307e\u3059\u3002evenN\u306e\u5024\u306f\u5909\u308f\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u901a\u77e5\u306f\u3044\u3063\u3066\u307b\u3057\u304f\u306a\u3044\u3067\u3059\u304c\u30012.x\u306e\u5834\u5408\u306f\u901a\u77e5\u304c\u3044\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u4e00\u65b9\u30013.0.0\u306e\u5834\u5408\u306f\u3001n(20)\u3067\u306fevenN\u306e\u5024\u306f\u5909\u308f\u3089\u306a\u3044\u306e\u3067\u3001\u901a\u77e5\u306f\u3044\u3044\u307e\u305b\u3093\u3002n(21)\u3067\u306f\u3001\u5947\u6570\u306b\u306a\u308b\u306e\u3067\u3001evenN\u306e\u5024\u306ffalse\u3068\u306a\u308b\u306e\u3067\u3001\u901a\u77e5\u304c\u3044\u304d\u307e\u3059\u3002\nJSFiddle\u3067\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n2.3.0\uff1ahttp://jsfiddle.net/uedatakuya/TdErN/\n3.0.0\uff1ahttp://jsfiddle.net/uedatakuya/xxK9E/\nvar n = ko.observable(10);\n\nvar evenN = ko.computed(function() {\n    var isEven = n() % 2 == 0;\n    alert(isEven);\n    console.log(isEven);\n    return isEven;\n});\n\nevenN.subscribe(function(newValue) {\n    alert(\"change evenN to \" + newValue);\n    console.log(\"change evenN to \" + newValue);\n});\n\nn(20);\nn(21);\n\n\n\u6319\u52d5\u304c\u5909\u308f\u308b\u3068\u56f0\u308b\u5834\u5408\n\u4e0a\u8ff0\u306e\u3088\u3046\u306b\u30013.0.0\u3067\u306f2.x\u3068\u6319\u52d5\u304c\u5909\u308f\u308a\u307e\u3059\u30022.x\u306e\u6319\u52d5\u3068\u540c\u3058\u3088\u3046\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001Upgrade Notes\u306b\u66f8\u3044\u3066\u3042\u308b\u901a\u308a\u3001myComputed.extend({ notify: 'always' });\u306e\u3088\u3046\u306b\u3001\u5fc5\u305a\u901a\u77e5\u304c\u3044\u304f\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\nhttp://jsfiddle.net/uedatakuya/sKHgg/\nvar n = ko.observable(10);\n\nvar evenN = ko.computed(function() {\n    var isEven = n() % 2 == 0;\n    alert(isEven);\n    console.log(isEven);\n    return isEven;\n});\n\n// \u5fc5\u305a\u901a\u77e5\u304c\u3044\u304f\u3088\u3046\u306b\u3059\u308b\nevenN.extend({notify: 'always'});\n\nevenN.subscribe(function(newValue) {\n    alert(\"change evenN to \" + newValue);\n    console.log(\"change evenN to \" + newValue);\n});\n\nn(20);\nn(21);\n\n\n## \u306f\u3058\u3081\u306b\n\nKnockoutJS\u306e3.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u306d\u3002\nUpgrade Notes\u3092\u8aad\u3093\u3067\u5206\u304b\u3063\u305f\u4e8b\u3092\u307e\u3068\u3081\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001\u300c1. Computed properties now notify only when their value changes\u300d\u3092\u8aad\u307f\u307e\u3059\u3002\n\n\u8aac\u660e\u3092\u8aad\u3080\u3068\u30012.x\u307e\u3067\u306f`computed`\u304c\u8a55\u4fa1\u3055\u308c\u305f\u969b\u306f\u3001\u5fc5\u305a\u5909\u66f4\u3057\u305f\u3068\u3046\u3044\u3046\u901a\u77e5\u304c\u884c\u304f\u305d\u3046\u3067\u3059\u3002`subscribe`\u3067\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u4ed5\u639b\u3051\u308c\u3070\u3001\u305d\u306e\u901a\u77e5\u3092\u53d7\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u30023.0\u3067\u306f\u3001`computed`\u304c\u8a55\u4fa1\u3055\u308c\u305f\u7d50\u679c\u304c\u524d\u56de\u3068\u540c\u3058\u3067\u3042\u308c\u3070\u3001\u901a\u77e5\u304c\u3044\u304b\u306a\u3044\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u6587\u7ae0\u3060\u3051\u898b\u308b\u3068\u3001\u5206\u304b\u3063\u305f\u3088\u3046\u3067\u5206\u304b\u3089\u306a\u3044\u306e\u3067\u3001KnockoutJS\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8aad\u307f\u307e\u3057\u3087\u3046\u3002\n\n## 2.3.0\u306e\u30b3\u30fc\u30c9\n\n2.3.0\u306e\u30b3\u30fc\u30c9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\nhttps://github.com/knockout/knockout/blob/v2.3.0/src/subscribables/dependentObservable.js#L80-L84\n\n`evaluateImmediate`\u304c\u547c\u3070\u308c\u308b\u3068\u3001\u5024\u306e\u66f4\u65b0\u3068\u305d\u306e\u4e8b\u306e\u901a\u77e5\u304c\u884c\u306a\u308f\u308c\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308a\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u4f9d\u5b58\u3057\u3066\u3044\u308bobservable\u304c\u66f4\u65b0\u3055\u308c\u306a\u3044\u3068`evaluateImmediate`\u304c\u547c\u3070\u308c\u305a\u306b\u3001\u524d\u56de\u8a55\u4fa1\u3057\u305f\u5024\u3092\u4f7f\u3046\u306e\u3067\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n```2.3.0.dependentObservable.js\nfunction evaluateImmediate() {\n\t//...\n\t// \u3053\u3053\u3067\u5024\u306e\u66f4\u65b0\u3068\u901a\u77e5\u3057\u3066\u3044\u308b\n\tdependentObservable[\"notifySubscribers\"](_latestValue, \"beforeChange\");\n\t_latestValue = newValue;\n\tdependentObservable[\"notifySubscribers\"](_latestValue);\n\t//...\n}\n```\n\n## 3.0.0\u306e\u30b3\u30fc\u30c9\n\n\u6b21\u306b\u30013.0.0\u306e\u30b3\u30fc\u30c9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\nhttps://github.com/knockout/knockout/blob/v3.0.0/src/subscribables/dependentObservable.js#L85-L91\n\n2.3.0\u306b\u7121\u304b\u3063\u305fif\u6587\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\u898b\u3066\u306e\u901a\u308a\u3001\u5024\u306b\u5909\u5316\u304c\u306a\u304b\u3063\u305f\u3089\u66f4\u65b0\u3082\u901a\u77e5\u3082\u3057\u306a\u3044\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\n```3.0.0.dependentObservable.js\nfunction evaluateImmediate() {\n\t//...\n\t// \u5909\u66f4\u306a\u3051\u308c\u3070\u3001\u66f4\u65b0\u3082\u901a\u77e5\u3082\u3057\u306a\u3044\n\tif (!dependentObservable['equalityComparer'] || !dependentObservable['equalityComparer'](_latestValue, newValue)) {\n\t\tdependentObservable[\"notifySubscribers\"](_latestValue, \"beforeChange\");\n\t\t_latestValue = newValue;\n\t\tdependentObservable[\"notifySubscribers\"](_latestValue);\n\t}\n\t//...\n}\n```\n\n### \u52d5\u304b\u3057\u3066\u9055\u3044\u3092\u898b\u308b\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u4e0a\u306e\u9055\u3044\u304c\u5206\u304b\u3063\u305f\u306e\u3067\u3001\u5b9f\u969b\u306b\u52d5\u304d\u306e\u9055\u3044\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306b\u306f\u3001`n`\u3068\u3044\u3046`observable`\u3068`evenN`\u3068\u3044\u3046`computed`\u304c\u3067\u3066\u304d\u307e\u3059\u3002`n`\u306b\u306f\u6570\u5024\u304c\u5165\u308a\u3001`evenN`\u306f`n`\u304c\u5076\u6570\u3060\u3063\u305f\u3089`true`\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n2.x\u306e\u5834\u5408\u3001`evenN`\u306e\u7d50\u679c\u304c\u540c\u3058\u3067\u3082\u901a\u77e5\u304c\u3044\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u306f\u3058\u3081`n`\u306b`10`\u304c\u5165\u3063\u3066\u304a\u308a\u3001\u305d\u306e\u5f8c`20`\u306b\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\u3069\u3061\u3089\u3082\u5076\u6570\u306a\u306e\u3067\u3001`evenN`\u306f\u5171\u306b`true`\u306b\u306a\u308a\u307e\u3059\u3002`evenN`\u306e\u5024\u306f\u5909\u308f\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u901a\u77e5\u306f\u3044\u3063\u3066\u307b\u3057\u304f\u306a\u3044\u3067\u3059\u304c\u30012.x\u306e\u5834\u5408\u306f\u901a\u77e5\u304c\u3044\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u4e00\u65b9\u30013.0.0\u306e\u5834\u5408\u306f\u3001`n(20)`\u3067\u306f`evenN`\u306e\u5024\u306f\u5909\u308f\u3089\u306a\u3044\u306e\u3067\u3001\u901a\u77e5\u306f\u3044\u3044\u307e\u305b\u3093\u3002`n(21)`\u3067\u306f\u3001\u5947\u6570\u306b\u306a\u308b\u306e\u3067\u3001`evenN`\u306e\u5024\u306f`false`\u3068\u306a\u308b\u306e\u3067\u3001\u901a\u77e5\u304c\u3044\u304d\u307e\u3059\u3002\n\nJSFiddle\u3067\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n2.3.0\uff1ahttp://jsfiddle.net/uedatakuya/TdErN/\n3.0.0\uff1ahttp://jsfiddle.net/uedatakuya/xxK9E/\n\n```js\nvar n = ko.observable(10);\n\nvar evenN = ko.computed(function() {\n    var isEven = n() % 2 == 0;\n    alert(isEven);\n    console.log(isEven);\n    return isEven;\n});\n\nevenN.subscribe(function(newValue) {\n    alert(\"change evenN to \" + newValue);\n    console.log(\"change evenN to \" + newValue);\n});\n\nn(20);\nn(21);\n```\n\n### \u6319\u52d5\u304c\u5909\u308f\u308b\u3068\u56f0\u308b\u5834\u5408\n\n\u4e0a\u8ff0\u306e\u3088\u3046\u306b\u30013.0.0\u3067\u306f2.x\u3068\u6319\u52d5\u304c\u5909\u308f\u308a\u307e\u3059\u30022.x\u306e\u6319\u52d5\u3068\u540c\u3058\u3088\u3046\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001Upgrade Notes\u306b\u66f8\u3044\u3066\u3042\u308b\u901a\u308a\u3001`myComputed.extend({ notify: 'always' });`\u306e\u3088\u3046\u306b\u3001\u5fc5\u305a\u901a\u77e5\u304c\u3044\u304f\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\nhttp://jsfiddle.net/uedatakuya/sKHgg/\n\n```js\nvar n = ko.observable(10);\n\nvar evenN = ko.computed(function() {\n    var isEven = n() % 2 == 0;\n    alert(isEven);\n    console.log(isEven);\n    return isEven;\n});\n\n// \u5fc5\u305a\u901a\u77e5\u304c\u3044\u304f\u3088\u3046\u306b\u3059\u308b\nevenN.extend({notify: 'always'});\n\nevenN.subscribe(function(newValue) {\n    alert(\"change evenN to \" + newValue);\n    console.log(\"change evenN to \" + newValue);\n});\n\nn(20);\nn(21);\n```\n\n", "tags": ["knockoutjs", "JavaScript"]}