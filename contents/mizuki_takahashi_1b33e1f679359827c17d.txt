{"context": "Ubuntu\u3067\u30e1\u30fc\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3057\u305f\u969b\u306e\u624b\u9806\u3067\u3059\u3002\n\u9001\u4fe1\u30b5\u30fc\u30d0\u30fc\u3068\u3057\u3066Postfix\u3001\u53d7\u4fe1\u30b5\u30fc\u30d0\u30fc\u3068\u3057\u3066dovecot\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\u69cb\u7bc9\u524d\u306b\u77e5\u3063\u3068\u3044\u305f\u307b\u3046\u304c\u3044\u3044\u30e1\u30fc\u30eb\u306e\u77e5\u8b58\n\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u306b\u306f\u30a2\u30c9\u30ec\u30b9\u3092\u77e5\u3063\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8868\u73fe\u3055\u308c\u307e\u3059\u3002\nhogehoge@gmail.com\n\n@\u306e\u524d\u306e\u300chogehoge\u300d\u306f\u30e6\u30fc\u30b6\u30fc\u540d\u3067\u3001\n@\u306e\u5f8c\u306e\u300cgmail.com\u300d\u306f\u30b5\u30fc\u30d0\u30fc\u306e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u6240\u5728\u5730(\u30c9\u30e1\u30a4\u30f3)\u306b\u306a\u308a\u307e\u3059\u3002\n\u4eca\u304b\u3089\u69cb\u7bc9\u3059\u308b\u9001\u4fe1\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u53d7\u4fe1\u30b5\u30fc\u30d0\u30fc\u306b\u30e1\u30fc\u30eb\u3092\u9001\u308b\u5834\u5408\u3001\nroot@localhost\n\n\u3068\u3059\u308c\u3070OK\u3067\u3059\u3002(root\u30e6\u30fc\u30b6\u30fc\u306e\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u306b\u5c4a\u304d\u307e\u3059\u3002)\n\n\u74b0\u5883\nOS\uff1aUbuntu 14.04 LTS\nPostfix\uff1a2.11.0 (\u78ba\u8a8d\u30b3\u30de\u30f3\u30c9\uff1a$ postconf  | grep mail_version)\nDovecot\uff1a2.2.9 (\u78ba\u8a8d\u30b3\u30de\u30f3\u30c9\uff1a$ dovecot --version)\n\n\u9001\u4fe1\u30b5\u30fc\u30d0\u30fc(Postfix)\u306e\u69cb\u7bc9\n\nPostfix\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo apt-get install -y postfix\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u51fa\u3066\u304d\u307e\u3059\u304c\u3001\u300c\u8a2d\u5b9a\u306a\u3057\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u300cmain.cf\u300d\u3068\u3044\u3046\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092/etc/postfix/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n$ sudo cp /usr/lib/postfix/main.cf /etc/postfix/main.cf\n\n\npostfix\u306e\u8a2d\u5b9a\u3092\u7de8\u96c6\n$ sudo vi /etc/postfix/main.cf\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\n# 59\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nmail_owner = postfix\n\u3000\n# 76\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\u3057\u30db\u30b9\u30c8\u540d\u6307\u5b9a\u2605\nmyhostname = mail.hogefuga.com\n\u3000\n# 83\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\u3057\u30c9\u30e1\u30a4\u30f3\u540d\u6307\u5b9a\nmydomain = hogefuga.com\n\n# 104\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nmyorigin = $mydomain\n\n# 118\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\ninet_interfaces = all\n\n# 166\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nmydestination = $myhostname, localhost.$mydomain, localhost, $mydomain\n\n# 209\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nlocal_recipient_maps = unix:passwd.byname $alias_maps\n\n# 268\u884c\u76ee\uff1a\u81ea\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8ffd\u8a18(ifconfig\u30b3\u30de\u30f3\u30c9\u3067eth0\u306einet\u30a2\u30c9\u30ec\u30b9\u304c10.0.2.15\u3060\u3063\u305f\u306e\u306710.0.0.0/24\u3092\u8ffd\u8a18)\nmynetworks = 127.0.0.0/8, 10.0.0.0/24\n\n# 388\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nalias_maps = hash:/etc/aliases\n\n# 399\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nalias_database = hash:/etc/aliases\n\n# 421\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664 ( Maildir\u5f62\u5f0f\u3078\u79fb\u884c )\nhome_mailbox = Maildir/\n\n# 557\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u306b\u3057\u3066\u305d\u306e\u4e0b\u306b\u8ffd\u8a18\n#smtpd_banner = $myhostname ESMTP $mail_name (@@DISTRO@@)\nsmtpd_banner = $myhostname ESMTP\n\n# 632\u884c\u76ee\uff1a\u8ffd\u8a18\nsendmail_path = /usr/sbin/postfix\n\n# 637\u884c\u76ee\uff1a\u8ffd\u8a18\nnewaliases_path = /usr/bin/newaliases\n\n# 642\u884c\u76ee\uff1a\u8ffd\u8a18\nmailq_path = /usr/bin/mailq\n\n# 648\u884c\u76ee\uff1a\u8ffd\u8a18\nsetgid_group = postdrop\n\n# 652\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u5316\n#html_directory =\n\n# 656\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u5316\n#manpage_directory =\n\n# 661\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u5316\n#sample_directory =\n\n# 665\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u5316\n#readme_directory =\n\n# \u6700\u7d42\u884c\u3078\u8ffd\u8a18\uff1a\u9001\u53d7\u4fe1\u30e1\u30fc\u30eb\u30b5\u30a4\u30ba\u309210M\u306b\u5236\u9650\nmessage_size_limit = 10485760\n# \u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u30b5\u30a4\u30ba\u30921G\u306b\u5236\u9650\nmailbox_size_limit = 1073741824\n\n# \u4ee5\u4e0bSMTP-Auth\u7528\nsmtpd_sasl_type = dovecot\nsmtpd_sasl_path = private/auth\nsmtpd_sasl_auth_enable = yes\nsmtpd_sasl_security_options = noanonymous\nsmtpd_sasl_local_domain = $myhostname\nsmtpd_recipient_restrictions = permit_mynetworks,permit_auth_destination,permit_sasl_authenticated,reject\n\n\u30e1\u30fc\u30eb\u30a8\u30a4\u30ea\u30a2\u30b9\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u518d\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u66f8\u304d\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ newaliases\n\n\npostfix\u3092\u518d\u8d77\u52d5\n\u8a2d\u5b9a\u3092\u53cd\u6620\u3055\u305b\u308b\u305f\u3081\u306b\u3001postfix\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ sudo /etc/init.d/postfix restart\n\n\n\u9001\u4fe1\u30c6\u30b9\u30c8\npostfix\u304c\u3046\u307e\u304f\u69cb\u7bc9\u3067\u304d\u305f\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u3001\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u3066\u307f\u307e\u3059\u3002\n\u3068\u3001\u305d\u306e\u524d\u306b\u3001mail\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u300cmailutils\u300d\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n$ sudo apt-get install mailutils\n\n\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u3066\u307f\u307e\u3059\u3002\n\u203b\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u306b\u306f\u3001\u6539\u884c\u5f8c\u3001\u300c.\u300d\u3092\u5165\u529b\u3057[Enter]\u3092\u62bc\u3057\u307e\u3059\u3002\n# mail hogehogefugafuga@gmail.com\nCc:\nSubject: test\nhogehogefugafuga\n.\n\n\u7d50\u679c\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306bGmail\u306b\u9001\u3089\u308c\u307e\u3059\u3002\n\n\n\u53d7\u4fe1\u30b5\u30fc\u30d0\u30fc(dovecot)\u306e\u69cb\u7bc9\n\nDovecot\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo apt-get install dovecot-common dovecot-imapd dovecot-pop3d\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u72ec\u81ea SSL \u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3055\u308c\u308b\u304b\u554f\u308f\u308c\u307e\u3059\u304c\u3001\n\u5fc5\u8981\u306a\u3089\u3070\u5f8c\u3067\u3082\u4f5c\u6210\u3067\u304d\u308b\u306e\u3067\u3001\u300c\u3044\u3044\u3048\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n\nDovecot\u306e\u8a2d\u5b9a\u3092\u7de8\u96c6\n\n\u25a0 /etc/dovecot/dovecot.conf \u3092\u5909\u66f4\n$ sudo vi /etc/dovecot/dovecot.conf\n\n# 30\u884c\u76ee\uff1a\u5909\u66f4 ( IPv6\u3092\u30ea\u30b9\u30f3\u3057\u306a\u3044\u5834\u5408 )\nlisten = *\n\n\n\u25a0 /etc/dovecot/conf.d/10-auth.conf \u3092\u5909\u66f4\n$ sudo vi /etc/dovecot/conf.d/10-auth.conf\n\n# 10\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\u3057\u5909\u66f4(\u30d7\u30ec\u30fc\u30f3\u30c6\u30ad\u30b9\u30c8\u8a8d\u8a3c\u3082\u8a31\u53ef\u3059\u308b)\ndisable_plaintext_auth = no\n\n# 100\u884c\u76ee\uff1a\u8ffd\u8a18\nauth_mechanisms = plain login\n\n\n\u25a0 /etc/dovecot/conf.d/10-mail.conf \u3092\u5909\u66f4\n$ sudo vi /etc/dovecot/conf.d/10-mail.conf\n\n# 30\u884c\u76ee\uff1aMaildir\u5f62\u5f0f\u306b\u5909\u66f4\nmail_location = maildir:~/Maildir\n\n\n\u25a0 /etc/dovecot/conf.d/10-master.conf \u3092\u5909\u66f4\n$ sudo vi /etc/dovecot/conf.d/10-master.conf\n\n# 96-98\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\u3057\u8ffd\u8a18\n# Postfix smtp-auth\nunix_listener /var/spool/postfix/private/auth {\n    mode = 0666\n    user = postfix\n    group = postfix\n}\n\n\n\u25a0 /etc/dovecot/conf.d/10-ssl.conf \u3092\u5909\u66f4\n$ sudo vi /etc/dovecot/conf.d/10-ssl.conf\n\n# 6\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\u3057\u3066\u5909\u66f4(SSL\u306a\u3057)\nssl = no\n\n# 12,13\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u306b\u3059\u308b\n#ssl_cert = </etc/dovecot/dovecot.pem\n#ssl_key = </etc/dovecot/private/dovecot.pem\n\n\n\u25a0 Dovecot\u3092\u8d77\u52d5\n$ sudo initctl start dovecot\n\n\n\u53d7\u4fe1\u30c6\u30b9\u30c8\n\u53d7\u4fe1\u30b5\u30fc\u30d0\u30fc\u304c\u6b63\u3057\u304f\u52d5\u304f\u304b\u3069\u3046\u304b\u3092\u691c\u8a3c\u3057\u307e\u3059\u3002\n\u9001\u4fe1\u30c6\u30b9\u30c8\u6642\u3068\u540c\u3058\u3088\u3046\u306b\u30e1\u30fc\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u3066\u307f\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001\u3053\u306e\u6642\u306e\u5b9b\u5148(@\u4ee5\u964d)\u3092\u300clocalhost\u300d\u306b\u3057\u307e\u3059\u3002\n# mail root@localhost\nCc:\nSubject: test\nhogehogefugafuga\n.\n\n\u4e0a\u8a18\u5b9f\u884c\u5f8c\u3001@\u4ee5\u524d\u3092root\u3068\u3057\u305f\u306e\u3067\u3001\n/root/Maildir \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u306e\u3067\u3001\n\u78ba\u8a8d\u3057\u3066\u898b\u3066\u304f\u3060\u3055\u3044\u3002(\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u53d7\u4fe1\u30c6\u30b9\u30c8OK)\n# ll /root/Maildir/\n\u5408\u8a08 20\ndrwx------  5 root root 4096  3\u6708 16 10:39 ./\ndrwx------ 10 root root 4096  3\u6708 16 10:39 ../\ndrwx------  2 root root 4096  3\u6708 16 10:39 cur/\ndrwx------  2 root root 4096  3\u6708 16 10:39 new/\ndrwx------  2 root root 4096  3\u6708 16 10:39 tmp/\n\n\n\n\u30a4\u30f3\u30c8\u30e9\u30cd\u30c3\u30c8\u5916\u304b\u3089\u53d7\u4fe1\u3092\u3057\u305f\u3044\u5834\u5408\n\u30e1\u30fc\u30eb\u306e\u9001\u4fe1\u306b\u95a2\u3057\u3066\u306f\u3001\u30a4\u30f3\u30c8\u30e9\u30cd\u30c3\u30c8\u5916\u3078\u9001\u4fe1\u51fa\u6765\u307e\u3059\u304c\u3001\n\u53d7\u4fe1\u306b\u95a2\u3057\u3066\u306f\u3001\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u3084\u30eb\u30fc\u30bf\u30fc(\u30e2\u30c7\u30e0\u542b\u3080)\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\u53d7\u4fe1\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3082\u306e\n\n\u25a0 \u30c9\u30e1\u30a4\u30f3 or \u30b0\u30ed\u30fc\u30d0\u30ebIP\u30a2\u30c9\u30ec\u30b9\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u4f4f\u6240\u3002\n\u203b@\u306e\u5f8c\u306f\u30c9\u30e1\u30a4\u30f3\u3060\u3051\u3067\u306f\u306a\u304f\u30b0\u30ed\u30fc\u30d0\u30ebIP\u30a2\u30c9\u30ec\u30b9\u3067\u3082\u53ef\u3067\u3059\u3002\n\u56fa\u5b9aIP\u3084\u30c9\u30e1\u30a4\u30f3\u767b\u9332\u3068\u3044\u3063\u305f\u4f5c\u696d\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\u30c9\u30e1\u30a4\u30f3\u53d6\u5f97\u306b\u95a2\u3057\u3066\u306f\u3001\nhttp://qiita.com/mizuki_takahashi/items/b0c5adebea48b9f2f7a6\n\u304c\u53c2\u8003\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u25a0 \u30dd\u30fc\u30c8\u89e3\u653e\n\u30e1\u30fc\u30eb\u306e\u9001\u53d7\u4fe1\u306b\u4f7f\u7528\u3059\u308b\u30dd\u30fc\u30c8\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\n\n\n\n\u9001\u53d7\u4fe1\n\u30dd\u30fc\u30c8\u756a\u53f7\n\u7528\u9014\n\n\n\n\n\u9001\u4fe1\n25\nsmtp\n\n\n\u9001\u4fe1\n465\nsmtp(SSL)\n\n\n\u9001\u4fe1\n587\nSubmission\u30dd\u30fc\u30c8\n\n\n\u53d7\u4fe1\n110\nPOP\n\n\n\u53d7\u4fe1\n995\nPOP(SSL)\n\n\n\u53d7\u4fe1\n143\nIMAP\n\n\n\u53d7\u4fe1\n993\nIMAP(SSL)\n\n\n\n\u305f\u3060\u3057\u3001\u4e0a\u8a18\u30dd\u30fc\u30c8\u3092\u958b\u653e\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u306f\u3001\n\u30e2\u30c7\u30e0\u3084\u30eb\u30fc\u30bf\u30fc\u306e\u6a5f\u7a2e\u306b\u3088\u3063\u3066\u8a2d\u5b9a\u65b9\u6cd5\u304c\u307e\u3061\u307e\u3061\u306a\u306e\u3067\u3001\u4e0b\u8a18\u3092\u53c2\u8003\u306b\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\nhttp://27bit.com/router.html\n\u4ee5\u4e0a\u3067\u3059\u3002\n\nUbuntu\u3067\u30e1\u30fc\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3057\u305f\u969b\u306e\u624b\u9806\u3067\u3059\u3002\n\u9001\u4fe1\u30b5\u30fc\u30d0\u30fc\u3068\u3057\u3066Postfix\u3001\u53d7\u4fe1\u30b5\u30fc\u30d0\u30fc\u3068\u3057\u3066dovecot\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n# \u69cb\u7bc9\u524d\u306b\u77e5\u3063\u3068\u3044\u305f\u307b\u3046\u304c\u3044\u3044\u30e1\u30fc\u30eb\u306e\u77e5\u8b58\n\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u306b\u306f\u30a2\u30c9\u30ec\u30b9\u3092\u77e5\u3063\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8868\u73fe\u3055\u308c\u307e\u3059\u3002\n\n    hogehoge@gmail.com\n@\u306e\u524d\u306e\u300chogehoge\u300d\u306f\u30e6\u30fc\u30b6\u30fc\u540d\u3067\u3001\n@\u306e\u5f8c\u306e\u300cgmail.com\u300d\u306f\u30b5\u30fc\u30d0\u30fc\u306e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u6240\u5728\u5730(\u30c9\u30e1\u30a4\u30f3)\u306b\u306a\u308a\u307e\u3059\u3002\n\u4eca\u304b\u3089\u69cb\u7bc9\u3059\u308b\u9001\u4fe1\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u53d7\u4fe1\u30b5\u30fc\u30d0\u30fc\u306b\u30e1\u30fc\u30eb\u3092\u9001\u308b\u5834\u5408\u3001\n\n    root@localhost\n\u3068\u3059\u308c\u3070OK\u3067\u3059\u3002(root\u30e6\u30fc\u30b6\u30fc\u306e\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u306b\u5c4a\u304d\u307e\u3059\u3002)\n\n# \u74b0\u5883\nOS\uff1aUbuntu 14.04 LTS\nPostfix\uff1a2.11.0 (\u78ba\u8a8d\u30b3\u30de\u30f3\u30c9\uff1a\\$ postconf  | grep mail_version)\nDovecot\uff1a2.2.9 (\u78ba\u8a8d\u30b3\u30de\u30f3\u30c9\uff1a\\$ dovecot --version)\n\n# \u9001\u4fe1\u30b5\u30fc\u30d0\u30fc(Postfix)\u306e\u69cb\u7bc9\n## Postfix\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo apt-get install -y postfix\n```\n\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u51fa\u3066\u304d\u307e\u3059\u304c\u3001\u300c\u8a2d\u5b9a\u306a\u3057\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/53476/a305d748-97ca-d4b3-60e8-a39692b2c589.png)\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u300cmain.cf\u300d\u3068\u3044\u3046\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092/etc/postfix/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n$ sudo cp /usr/lib/postfix/main.cf /etc/postfix/main.cf\n```\n\n## postfix\u306e\u8a2d\u5b9a\u3092\u7de8\u96c6\n```\n$ sudo vi /etc/postfix/main.cf\n```\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n```\n# 59\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nmail_owner = postfix\n\u3000\n# 76\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\u3057\u30db\u30b9\u30c8\u540d\u6307\u5b9a\u2605\nmyhostname = mail.hogefuga.com\n\u3000\n# 83\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\u3057\u30c9\u30e1\u30a4\u30f3\u540d\u6307\u5b9a\nmydomain = hogefuga.com\n\n# 104\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nmyorigin = $mydomain\n\n# 118\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\ninet_interfaces = all\n\n# 166\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nmydestination = $myhostname, localhost.$mydomain, localhost, $mydomain\n\n# 209\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nlocal_recipient_maps = unix:passwd.byname $alias_maps\n\n# 268\u884c\u76ee\uff1a\u81ea\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8ffd\u8a18(ifconfig\u30b3\u30de\u30f3\u30c9\u3067eth0\u306einet\u30a2\u30c9\u30ec\u30b9\u304c10.0.2.15\u3060\u3063\u305f\u306e\u306710.0.0.0/24\u3092\u8ffd\u8a18)\nmynetworks = 127.0.0.0/8, 10.0.0.0/24\n\n# 388\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nalias_maps = hash:/etc/aliases\n\n# 399\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\nalias_database = hash:/etc/aliases\n\n# 421\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664 ( Maildir\u5f62\u5f0f\u3078\u79fb\u884c )\nhome_mailbox = Maildir/\n\n# 557\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u306b\u3057\u3066\u305d\u306e\u4e0b\u306b\u8ffd\u8a18\n#smtpd_banner = $myhostname ESMTP $mail_name (@@DISTRO@@)\nsmtpd_banner = $myhostname ESMTP\n\n# 632\u884c\u76ee\uff1a\u8ffd\u8a18\nsendmail_path = /usr/sbin/postfix\n\n# 637\u884c\u76ee\uff1a\u8ffd\u8a18\nnewaliases_path = /usr/bin/newaliases\n\n# 642\u884c\u76ee\uff1a\u8ffd\u8a18\nmailq_path = /usr/bin/mailq\n\n# 648\u884c\u76ee\uff1a\u8ffd\u8a18\nsetgid_group = postdrop\n\n# 652\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u5316\n#html_directory =\n\n# 656\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u5316\n#manpage_directory =\n\n# 661\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u5316\n#sample_directory =\n\n# 665\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u5316\n#readme_directory =\n\n# \u6700\u7d42\u884c\u3078\u8ffd\u8a18\uff1a\u9001\u53d7\u4fe1\u30e1\u30fc\u30eb\u30b5\u30a4\u30ba\u309210M\u306b\u5236\u9650\nmessage_size_limit = 10485760\n# \u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u30b5\u30a4\u30ba\u30921G\u306b\u5236\u9650\nmailbox_size_limit = 1073741824\n\n# \u4ee5\u4e0bSMTP-Auth\u7528\nsmtpd_sasl_type = dovecot\nsmtpd_sasl_path = private/auth\nsmtpd_sasl_auth_enable = yes\nsmtpd_sasl_security_options = noanonymous\nsmtpd_sasl_local_domain = $myhostname\nsmtpd_recipient_restrictions = permit_mynetworks,permit_auth_destination,permit_sasl_authenticated,reject\n```\n\n\u30e1\u30fc\u30eb\u30a8\u30a4\u30ea\u30a2\u30b9\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u518d\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u66f8\u304d\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n$ newaliases\n```\n\n## postfix\u3092\u518d\u8d77\u52d5\n\u8a2d\u5b9a\u3092\u53cd\u6620\u3055\u305b\u308b\u305f\u3081\u306b\u3001postfix\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\n$ sudo /etc/init.d/postfix restart\n```\n\n## \u9001\u4fe1\u30c6\u30b9\u30c8\npostfix\u304c\u3046\u307e\u304f\u69cb\u7bc9\u3067\u304d\u305f\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u3001\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u3066\u307f\u307e\u3059\u3002\n\u3068\u3001\u305d\u306e\u524d\u306b\u3001mail\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u300cmailutils\u300d\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n$ sudo apt-get install mailutils\n```\n\n\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u3066\u307f\u307e\u3059\u3002\n\u203b\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u306b\u306f\u3001\u6539\u884c\u5f8c\u3001\u300c.\u300d\u3092\u5165\u529b\u3057[Enter]\u3092\u62bc\u3057\u307e\u3059\u3002\n\n```\n# mail hogehogefugafuga@gmail.com\nCc:\nSubject: test\nhogehogefugafuga\n.\n```\n\n\u7d50\u679c\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306bGmail\u306b\u9001\u3089\u308c\u307e\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/53476/e6936a33-49f1-d408-9ef4-4cf3caf48dd2.png)\n\n\n# \u53d7\u4fe1\u30b5\u30fc\u30d0\u30fc(dovecot)\u306e\u69cb\u7bc9\n## Dovecot\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\n$ sudo apt-get install dovecot-common dovecot-imapd dovecot-pop3d\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u72ec\u81ea SSL \u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3055\u308c\u308b\u304b\u554f\u308f\u308c\u307e\u3059\u304c\u3001\n\u5fc5\u8981\u306a\u3089\u3070\u5f8c\u3067\u3082\u4f5c\u6210\u3067\u304d\u308b\u306e\u3067\u3001\u300c\u3044\u3044\u3048\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/53476/3925fe54-0b29-5c8f-de5c-7e8e8d47b200.png)\n\n## Dovecot\u306e\u8a2d\u5b9a\u3092\u7de8\u96c6\n### \u25a0 /etc/dovecot/dovecot.conf \u3092\u5909\u66f4\n\n```\n$ sudo vi /etc/dovecot/dovecot.conf\n\n# 30\u884c\u76ee\uff1a\u5909\u66f4 ( IPv6\u3092\u30ea\u30b9\u30f3\u3057\u306a\u3044\u5834\u5408 )\nlisten = *\n```\n### \u25a0 /etc/dovecot/conf.d/10-auth.conf \u3092\u5909\u66f4\n\n```\n$ sudo vi /etc/dovecot/conf.d/10-auth.conf\n\n# 10\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\u3057\u5909\u66f4(\u30d7\u30ec\u30fc\u30f3\u30c6\u30ad\u30b9\u30c8\u8a8d\u8a3c\u3082\u8a31\u53ef\u3059\u308b)\ndisable_plaintext_auth = no\n\n# 100\u884c\u76ee\uff1a\u8ffd\u8a18\nauth_mechanisms = plain login\n```\n### \u25a0 /etc/dovecot/conf.d/10-mail.conf \u3092\u5909\u66f4\n\n```\n$ sudo vi /etc/dovecot/conf.d/10-mail.conf\n\n# 30\u884c\u76ee\uff1aMaildir\u5f62\u5f0f\u306b\u5909\u66f4\nmail_location = maildir:~/Maildir\n```\n### \u25a0 /etc/dovecot/conf.d/10-master.conf \u3092\u5909\u66f4\n\n```\n$ sudo vi /etc/dovecot/conf.d/10-master.conf\n\n# 96-98\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\u3057\u8ffd\u8a18\n# Postfix smtp-auth\nunix_listener /var/spool/postfix/private/auth {\n    mode = 0666\n    user = postfix\n    group = postfix\n}\n```\n### \u25a0 /etc/dovecot/conf.d/10-ssl.conf \u3092\u5909\u66f4\n\n```\n$ sudo vi /etc/dovecot/conf.d/10-ssl.conf\n\n# 6\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u89e3\u9664\u3057\u3066\u5909\u66f4(SSL\u306a\u3057)\nssl = no\n\n# 12,13\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u306b\u3059\u308b\n#ssl_cert = </etc/dovecot/dovecot.pem\n#ssl_key = </etc/dovecot/private/dovecot.pem\n```\n### \u25a0 Dovecot\u3092\u8d77\u52d5\n\n```\n$ sudo initctl start dovecot\n```\n\n## \u53d7\u4fe1\u30c6\u30b9\u30c8\n\u53d7\u4fe1\u30b5\u30fc\u30d0\u30fc\u304c\u6b63\u3057\u304f\u52d5\u304f\u304b\u3069\u3046\u304b\u3092\u691c\u8a3c\u3057\u307e\u3059\u3002\n\u9001\u4fe1\u30c6\u30b9\u30c8\u6642\u3068\u540c\u3058\u3088\u3046\u306b\u30e1\u30fc\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u3066\u307f\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001\u3053\u306e\u6642\u306e\u5b9b\u5148(@\u4ee5\u964d)\u3092\u300clocalhost\u300d\u306b\u3057\u307e\u3059\u3002\n\n```\n# mail root@localhost\nCc:\nSubject: test\nhogehogefugafuga\n.\n```\n\n\u4e0a\u8a18\u5b9f\u884c\u5f8c\u3001@\u4ee5\u524d\u3092root\u3068\u3057\u305f\u306e\u3067\u3001\n/root/Maildir \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u306e\u3067\u3001\n\u78ba\u8a8d\u3057\u3066\u898b\u3066\u304f\u3060\u3055\u3044\u3002(\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u53d7\u4fe1\u30c6\u30b9\u30c8OK)\n\n```\n# ll /root/Maildir/\n\u5408\u8a08 20\ndrwx------  5 root root 4096  3\u6708 16 10:39 ./\ndrwx------ 10 root root 4096  3\u6708 16 10:39 ../\ndrwx------  2 root root 4096  3\u6708 16 10:39 cur/\ndrwx------  2 root root 4096  3\u6708 16 10:39 new/\ndrwx------  2 root root 4096  3\u6708 16 10:39 tmp/\n\n```\n\n\n# \u30a4\u30f3\u30c8\u30e9\u30cd\u30c3\u30c8\u5916\u304b\u3089\u53d7\u4fe1\u3092\u3057\u305f\u3044\u5834\u5408\n\n\u30e1\u30fc\u30eb\u306e\u9001\u4fe1\u306b\u95a2\u3057\u3066\u306f\u3001\u30a4\u30f3\u30c8\u30e9\u30cd\u30c3\u30c8\u5916\u3078\u9001\u4fe1\u51fa\u6765\u307e\u3059\u304c\u3001\n\u53d7\u4fe1\u306b\u95a2\u3057\u3066\u306f\u3001\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u3084\u30eb\u30fc\u30bf\u30fc(\u30e2\u30c7\u30e0\u542b\u3080)\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n## \u53d7\u4fe1\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3082\u306e\n### \u25a0 \u30c9\u30e1\u30a4\u30f3 or \u30b0\u30ed\u30fc\u30d0\u30ebIP\u30a2\u30c9\u30ec\u30b9\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u4f4f\u6240\u3002\n\u203b@\u306e\u5f8c\u306f\u30c9\u30e1\u30a4\u30f3\u3060\u3051\u3067\u306f\u306a\u304f\u30b0\u30ed\u30fc\u30d0\u30ebIP\u30a2\u30c9\u30ec\u30b9\u3067\u3082\u53ef\u3067\u3059\u3002\n\n\u56fa\u5b9aIP\u3084\u30c9\u30e1\u30a4\u30f3\u767b\u9332\u3068\u3044\u3063\u305f\u4f5c\u696d\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\u30c9\u30e1\u30a4\u30f3\u53d6\u5f97\u306b\u95a2\u3057\u3066\u306f\u3001\nhttp://qiita.com/mizuki_takahashi/items/b0c5adebea48b9f2f7a6\n\u304c\u53c2\u8003\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n### \u25a0 \u30dd\u30fc\u30c8\u89e3\u653e\n\u30e1\u30fc\u30eb\u306e\u9001\u53d7\u4fe1\u306b\u4f7f\u7528\u3059\u308b\u30dd\u30fc\u30c8\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\n\n|\u9001\u53d7\u4fe1|\u30dd\u30fc\u30c8\u756a\u53f7|\u7528\u9014|\n|:----:|:----:|:----:|\n|\u9001\u4fe1|25|[smtp](http://www.sophia-it.com/content/SMTP%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC)|\n|\u9001\u4fe1|465|smtp(SSL)|\n|\u9001\u4fe1|587|[Submission\u30dd\u30fc\u30c8](http://masuipeo.com/tech/port587.html)|\n|\u53d7\u4fe1|110|[POP](http://www.sophia-it.com/content/POP%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC)|\n|\u53d7\u4fe1|995|POP(SSL)|\n|\u53d7\u4fe1|143|[IMAP](http://www.sophia-it.com/content/IMAP)|\n|\u53d7\u4fe1|993|IMAP(SSL)|\n\n\n\u305f\u3060\u3057\u3001\u4e0a\u8a18\u30dd\u30fc\u30c8\u3092\u958b\u653e\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u306f\u3001\n\u30e2\u30c7\u30e0\u3084\u30eb\u30fc\u30bf\u30fc\u306e\u6a5f\u7a2e\u306b\u3088\u3063\u3066\u8a2d\u5b9a\u65b9\u6cd5\u304c\u307e\u3061\u307e\u3061\u306a\u306e\u3067\u3001\u4e0b\u8a18\u3092\u53c2\u8003\u306b\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\nhttp://27bit.com/router.html\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n", "tags": ["Ubuntu", "dovecot", "postfix", "mail"]}