{"context": " More than 1 year has passed since last update.http://qiita.com/items/b10d5659cb1f1a168758\n\u3092\u898b\u3066\u3002\npython\u3082plugin\u4f5c\u308b\u306e\u3082\u521d\u3081\u3066\u306a\u3093\u3067\u4e0d\u5177\u5408\u3068\u304b\u3042\u308b\u304b\u3082\u3067\u3059(><)\n\u4f55\u304b\u3042\u3063\u305f\u3089\u8ab0\u304b\u76f4\u3057\u3066\u304f\u3060\u3055\u3044(><)\n\n\u30bd\u30fc\u30b9\n\nSuddenDeath.py\n# -*- coding: utf-8 -*-\n\nimport sublime, sublime_plugin\n\nclass SuddenDeathCommand(sublime_plugin.TextCommand):\n    def width_kana(self,str):\n        all = len(str)              # \u5168\u6587\u5b57\u6570\n        zenkaku = self.count_zen(str)    # \u5168\u89d2\u6587\u5b57\u6570\n        hankaku = all - zenkaku     # \u534a\u89d2\u6587\u5b57\u6570\n        return zenkaku * 2 + hankaku\n    def count_zen(self,str):\n        from unicodedata import east_asian_width\n        n = 0\n        for c in str:\n            wide_chars = u\"WFA\"\n            eaw = east_asian_width(c)\n            if wide_chars.find(eaw) > -1:\n                n += 1\n        return n\n    def run(self, edit):\n        for region in self.view.sel():\n            if not region.empty():\n                strs=self.view.substr(region).splitlines()\n                max_width=max(map(self.width_kana,strs))\n                head=u\"\uff3f\u4eba\"+u\"\u4eba\"*(max_width/2)+u\"\u4eba\uff3f\\n\"\n                tail=u\"\uffe3\uff39\"+u\"\uff39\"*(max_width/2)+u\"\uff39\uffe3\\n\"\n                death_str=head\n                for str in strs:\n                    death_str+=u'\uff1e\u3000%s\u3000\uff1c\\n' % (str+\" \"*(max_width - self.width_kana(str)))\n                death_str+=tail\n                self.view.replace(edit, region, death_str)\n\n\n\n\u4f7f\u3044\u65b9\n~/.config/sublime-text-2/Packages/User\u306b\u4fdd\u5b58\u3002\n\u9069\u5f53\u306b\u30ad\u30fc\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u56f2\u307f\u305f\u3044\u6587\u5b57\u3092\u9078\u629e\u3057\u3066\u5b9f\u884c\u3002\n\uff3f\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\uff3f\n\uff1e\u3000\u7a81\u7136\u306e\u6b7b\u3000\uff1c\n\uffe3\uff39\uff39\uff39\uff39\uff39\uff39\uffe3\n\n\uff3f\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\uff3f\n\uff1e\u3000\uff3f\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\uff3f\u3000\uff1c\n\uff1e\u3000\uff1e\u3000\u7a81\u7136\u306e\u6b7b\u3000\uff1c\u3000\uff1c\n\uff1e\u3000\uffe3\uff39\uff39\uff39\uff39\uff39\uff39\uffe3\u3000\uff1c\n\uffe3\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uffe3\n\n\uff3f\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\uff3f\n\uff1e\u3000\uff3f\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\uff3f\u3000\uff1c\n\uff1e\u3000\uff1e\u3000\uff3f\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\uff3f\u3000\uff1c\u3000\uff1c\n\uff1e\u3000\uff1e\u3000\uff1e\u3000\u3061\u3087\u3063\u3068\u3000\uff1c\u3000\uff1c\u3000\uff1c\n\uff1e\u3000\uff1e\u3000\uff1e\u3000\u305a\u308c\u308b  \u3000\uff1c\u3000\uff1c\u3000\uff1c\n\uff1e\u3000\uff1e\u3000\uff1e\u3000\u304b\u3082    \u3000\uff1c\u3000\uff1c\u3000\uff1c\n\uff1e\u3000\uff1e\u3000\uffe3\uff39\uff39\uff39\uff39\uff39\uff39\uffe3\u3000\uff1c\u3000\uff1c\n\uff1e\u3000\uffe3\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uffe3\u3000\uff1c\n\uffe3\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uffe3\n\n\n\u53c2\u8003\u6587\u732e\n\nhttp://qiita.com/items/b10d5659cb1f1a168758\nhttp://pythonlife.seesaa.net/article/133360506.html\n\nhttp://qiita.com/items/b10d5659cb1f1a168758\n\u3092\u898b\u3066\u3002\npython\u3082plugin\u4f5c\u308b\u306e\u3082\u521d\u3081\u3066\u306a\u3093\u3067\u4e0d\u5177\u5408\u3068\u304b\u3042\u308b\u304b\u3082\u3067\u3059(>_<)\n\u4f55\u304b\u3042\u3063\u305f\u3089\u8ab0\u304b\u76f4\u3057\u3066\u304f\u3060\u3055\u3044(>_<)\n\n#\u30bd\u30fc\u30b9\n\n```python:SuddenDeath.py\n# -*- coding: utf-8 -*-\n\nimport sublime, sublime_plugin\n\nclass SuddenDeathCommand(sublime_plugin.TextCommand):\n\tdef width_kana(self,str):\n\t\tall = len(str)              # \u5168\u6587\u5b57\u6570\n\t\tzenkaku = self.count_zen(str)    # \u5168\u89d2\u6587\u5b57\u6570\n\t\thankaku = all - zenkaku     # \u534a\u89d2\u6587\u5b57\u6570\n\t\treturn zenkaku * 2 + hankaku\n\tdef count_zen(self,str):\n\t\tfrom unicodedata import east_asian_width\n\t\tn = 0\n\t\tfor c in str:\n\t\t\twide_chars = u\"WFA\"\n\t\t\teaw = east_asian_width(c)\n\t\t\tif wide_chars.find(eaw) > -1:\n\t\t\t\tn += 1\n\t\treturn n\n\tdef run(self, edit):\n\t\tfor region in self.view.sel():\n\t\t\tif not region.empty():\n\t\t\t\tstrs=self.view.substr(region).splitlines()\n\t\t\t\tmax_width=max(map(self.width_kana,strs))\n\t\t\t\thead=u\"\uff3f\u4eba\"+u\"\u4eba\"*(max_width/2)+u\"\u4eba\uff3f\\n\"\n\t\t\t\ttail=u\"\uffe3\uff39\"+u\"\uff39\"*(max_width/2)+u\"\uff39\uffe3\\n\"\n\t\t\t\tdeath_str=head\n\t\t\t\tfor str in strs:\n\t\t\t\t\tdeath_str+=u'\uff1e\u3000%s\u3000\uff1c\\n' % (str+\" \"*(max_width - self.width_kana(str)))\n\t\t\t\tdeath_str+=tail\n\t\t\t\tself.view.replace(edit, region, death_str)\n```\n\n#\u4f7f\u3044\u65b9\n~/.config/sublime-text-2/Packages/User\u306b\u4fdd\u5b58\u3002\n\u9069\u5f53\u306b\u30ad\u30fc\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u56f2\u307f\u305f\u3044\u6587\u5b57\u3092\u9078\u629e\u3057\u3066\u5b9f\u884c\u3002\n\n```\n\uff3f\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\uff3f\n\uff1e\u3000\u7a81\u7136\u306e\u6b7b\u3000\uff1c\n\uffe3\uff39\uff39\uff39\uff39\uff39\uff39\uffe3\n\n\uff3f\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\uff3f\n\uff1e\u3000\uff3f\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\uff3f\u3000\uff1c\n\uff1e\u3000\uff1e\u3000\u7a81\u7136\u306e\u6b7b\u3000\uff1c\u3000\uff1c\n\uff1e\u3000\uffe3\uff39\uff39\uff39\uff39\uff39\uff39\uffe3\u3000\uff1c\n\uffe3\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uffe3\n\n\uff3f\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\uff3f\n\uff1e\u3000\uff3f\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\uff3f\u3000\uff1c\n\uff1e\u3000\uff1e\u3000\uff3f\u4eba\u4eba\u4eba\u4eba\u4eba\u4eba\uff3f\u3000\uff1c\u3000\uff1c\n\uff1e\u3000\uff1e\u3000\uff1e\u3000\u3061\u3087\u3063\u3068\u3000\uff1c\u3000\uff1c\u3000\uff1c\n\uff1e\u3000\uff1e\u3000\uff1e\u3000\u305a\u308c\u308b  \u3000\uff1c\u3000\uff1c\u3000\uff1c\n\uff1e\u3000\uff1e\u3000\uff1e\u3000\u304b\u3082    \u3000\uff1c\u3000\uff1c\u3000\uff1c\n\uff1e\u3000\uff1e\u3000\uffe3\uff39\uff39\uff39\uff39\uff39\uff39\uffe3\u3000\uff1c\u3000\uff1c\n\uff1e\u3000\uffe3\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uffe3\u3000\uff1c\n\uffe3\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uff39\uffe3\n```\n\n#\u53c2\u8003\u6587\u732e\n* http://qiita.com/items/b10d5659cb1f1a168758\n* http://pythonlife.seesaa.net/article/133360506.html", "tags": ["SublimeText2", "\u7a81\u7136\u306e\u6b7b"]}