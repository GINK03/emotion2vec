{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nserverspec\u3067\u30e6\u30fc\u30b6\u30fc\u3092\u4e00\u6642\u7684\u306b\u5909\u66f4\u3057\u3066\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u65b9\u6cd5\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002\n\nspec_helper.rb\n\u6b21\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\ndef user_command(user, cmd)\n  command(\"su -l #{user} -c '#{cmd}'\")\nend\n\n\n\u4f7f\u3044\u65b9\n\nrbenv_spec.rb\n\nrequire 'spec_helper'\n\ndescribe user_command(:alice, 'rbenv versions') do\n  its(:stdout) { should match /system/ }\n  its(:stdout) { should match /\\* 2.0.0-p353/ }\n  its(:stdout) { should match /2.1.3/ }\nend\n\n# \u306f\u3058\u3081\u306b\nserverspec\u3067\u30e6\u30fc\u30b6\u30fc\u3092\u4e00\u6642\u7684\u306b\u5909\u66f4\u3057\u3066\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u65b9\u6cd5\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002\n\n# spec_helper.rb\n\u6b21\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```rb\ndef user_command(user, cmd)\n  command(\"su -l #{user} -c '#{cmd}'\")\nend\n```\n\n# \u4f7f\u3044\u65b9\n* rbenv_spec.rb\n\n```rb\nrequire 'spec_helper'\n\ndescribe user_command(:alice, 'rbenv versions') do\n  its(:stdout) { should match /system/ }\n  its(:stdout) { should match /\\* 2.0.0-p353/ }\n  its(:stdout) { should match /2.1.3/ }\nend\n```\n", "tags": ["serverspec"]}