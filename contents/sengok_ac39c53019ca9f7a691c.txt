{"tags": ["jquery.ui", "HTML5"], "context": " More than 1 year has passed since last update.\u5099\u5fd8\u9332\u3067\u3059\uff0e\n\u524d\u56de\u66f8\u3044\u305fjQuery UI \u306e draggable \u3068HTML5\u306eDrag Drop API \u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\uff0e\n\u4eca\u56de\u306f\u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306a\u8981\u7d20\u3092\u4e0b\u306e\u30a8\u30ea\u30a2\u306b\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u3068\uff0c\n\u30c9\u30e9\u30c3\u30b0\u30a8\u30ea\u30a2\u4e0a\u3067\u81ea\u7531\u306b\u52d5\u304b\u305b\u308b\u8981\u7d20\u304c\u65b0\u3057\u304f\u51fa\u6765\u4e0a\u304c\u308b\u3068\u3044\u3063\u305f\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\uff0e\n\n\u74b0\u5883\n\nMacOSX (10.9)\njQuery UI (1.11.0)\njQuery (1.10.2)\n\n\n\u30b5\u30f3\u30d7\u30eb\n\u4e0a\u90e8\u306e\u8981\u7d20\u3092\u4e0b\u90e8\u306e\u30a8\u30ea\u30a2\u306b\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u3068\u81ea\u7531\u306b\u52d5\u304b\u305b\u308b\u8981\u7d20\u304c\u4e0b\u90e8\u306e\u30a8\u30ea\u30a2\u306b\u3067\u304d\u307e\u3059\uff0e\n\u4f5c\u3063\u305f\u8981\u7d20\u306f\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e\n\nddSample.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <title>drag and drop test</title>\n    <meta charset=\"utf-8\">\n    <link rel=\"stylesheet\" href=\"./jquery-ui-1.11.0/jquery-ui.css\">\n    <link rel=\"stylesheet\" href=\"./css/ddStyle.css\">\n\n</head>\n<body>\n    <div id=\"container\">\n\n        <div id=\"dragTargetsArea\">\n            <p class=\"dragTarget\" draggable=\"true\">drag me.</p>\n            <p class=\"dragTarget\" draggable=\"true\">drag drag!</p>\n        </div>\n\n        <div id=\"draggableArea\">\n\n        </div>\n\n    </div>\n\n    <script src=\"./jquery-ui-1.11.0/external/jquery/jquery.js\"></script>\n    <script src=\"./jquery-ui-1.11.0/jquery-ui.js\"></script>\n    <script src=\"./js/ddEvent.js\"></script>\n</body>\n</html>\n\n\n\nddStyle.css\nbody {\n    width: 940px;\n    height: 100%;\n    margin: 0 auto;\n    padding: 0;\n}\n\ndiv#draggableArea {\n    width: 100%;\n    height: 300px;\n    border: solid 1px #000;\n}\n\ndiv.draggable {\n    width: 20%;\n    height: 10%;\n}\n\n\n\nddEvent.js\n$(function() {\n\n    $('.draggable').draggable( {\n\n        containment: '#draggableArea',\n        scroll: false,\n\n    });\n\n    $('.dragTarget').on('dragstart', function(e) {\n\n        // this \u306f p.dragTarget \u306e\u3046\u3061\u4eca\u30c9\u30e9\u30c3\u30b0\u3057\u3066\u308b\u3082\u306e\n        dragSrcEl = this;\n        console.log(this);\n\n    });\n\n    // \u30c9\u30e9\u30c3\u30b0\u30a8\u30ea\u30a2\u306b\u8981\u7d20\u3092\u8ffd\u52a0\uff0c\u30c9\u30e9\u30c3\u30b0\u30a8\u30ea\u30a2\u304b\u3089\u8981\u7d20\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u524a\u9664\n    $('#draggableArea').on('dragover', function(e) {\n\n        e.preventDefault();\n\n    }).on('drop', function(e) {\n\n        if( !(e.isDefaultPrevented()) ) {\n            e.stopPropagation();\n        }\n\n        if(dragSrcEl != this) {\n            // this \u306f div#draggableArea\n            $('#'+this.id).append(\"<div class='draggable'><p>\"+dragSrcEl.innerText+\"</p></div>\");\n        }\n\n        $('.draggable').each(function() {\n            $(this).draggable( {\n                containment: '#draggableArea',\n                scroll: false,\n            });\n        });\n\n    }).on('dblclick', '.draggable', function(e) {\n        $(this).remove();\n    });\n\n});\n\n\n\u81ea\u7531\u306b\u52d5\u304b\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3067\u3057\u3087\u3046\u304b\uff0e\n\u4eca\u56de\u306f\u3053\u3061\u3089 http://www.html5rocks.com/ja/tutorials/dnd/basics/ \u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\uff0e\n\n\u3072\u3068\u3053\u3068\n\u6700\u8fd1\uff0c\u8abf\u3079\u3066\u66f8\u304d\u7d42\u308f\u3063\u305f\u3089\uff0c\u8abf\u3079\u3066\u305f\u30bf\u30d6\u3092\u9589\u3058\u308b\u524d\u306b\u304d\u30fc\u305f\u306b\u66f8\u304d\u7559\u3081\u308b\u7fd2\u6163\u304c\u3064\u304d\u307e\u3057\u305f\uff0e\n\u304d\u30fc\u305f\u306e\u3072\u3068\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff0e\n\u5099\u5fd8\u9332\u3067\u3059\uff0e\n\u524d\u56de\u66f8\u3044\u305fjQuery UI \u306e draggable \u3068HTML5\u306eDrag Drop API \u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\uff0e\n\u4eca\u56de\u306f\u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306a\u8981\u7d20\u3092\u4e0b\u306e\u30a8\u30ea\u30a2\u306b\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u3068\uff0c\n\u30c9\u30e9\u30c3\u30b0\u30a8\u30ea\u30a2\u4e0a\u3067\u81ea\u7531\u306b\u52d5\u304b\u305b\u308b\u8981\u7d20\u304c\u65b0\u3057\u304f\u51fa\u6765\u4e0a\u304c\u308b\u3068\u3044\u3063\u305f\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\uff0e\n\n# \u74b0\u5883\n\n+ MacOSX (10.9)\n+ jQuery UI (1.11.0)\n+ jQuery (1.10.2)\n\n# \u30b5\u30f3\u30d7\u30eb\n\n\u4e0a\u90e8\u306e\u8981\u7d20\u3092\u4e0b\u90e8\u306e\u30a8\u30ea\u30a2\u306b\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u3068\u81ea\u7531\u306b\u52d5\u304b\u305b\u308b\u8981\u7d20\u304c\u4e0b\u90e8\u306e\u30a8\u30ea\u30a2\u306b\u3067\u304d\u307e\u3059\uff0e\n\u4f5c\u3063\u305f\u8981\u7d20\u306f\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e\n\n```html:ddSample.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n\t<title>drag and drop test</title>\n\t<meta charset=\"utf-8\">\n\t<link rel=\"stylesheet\" href=\"./jquery-ui-1.11.0/jquery-ui.css\">\n\t<link rel=\"stylesheet\" href=\"./css/ddStyle.css\">\n\n</head>\n<body>\n\t<div id=\"container\">\n\t\t\n\t\t<div id=\"dragTargetsArea\">\n\t\t\t<p class=\"dragTarget\" draggable=\"true\">drag me.</p>\n\t\t\t<p class=\"dragTarget\" draggable=\"true\">drag drag!</p>\n\t\t</div>\n\n\t\t<div id=\"draggableArea\">\n\t\t\t\n\t\t</div>\n\n\t</div>\n\n\t<script src=\"./jquery-ui-1.11.0/external/jquery/jquery.js\"></script>\n\t<script src=\"./jquery-ui-1.11.0/jquery-ui.js\"></script>\n\t<script src=\"./js/ddEvent.js\"></script>\n</body>\n</html>\n```\n\n```css:ddStyle.css\nbody {\n\twidth: 940px;\n\theight: 100%;\n\tmargin: 0 auto;\n\tpadding: 0;\n}\n\ndiv#draggableArea {\n\twidth: 100%;\n\theight: 300px;\n\tborder: solid 1px #000;\n}\n\ndiv.draggable {\n\twidth: 20%;\n\theight: 10%;\n}\n```\n\n```js:ddEvent.js\n$(function() {\n\t\n\t$('.draggable').draggable( {\n\t\n\t\tcontainment: '#draggableArea',\n\t\tscroll: false,\n\t\n\t});\n\n\t$('.dragTarget').on('dragstart', function(e) {\n\t\n\t\t// this \u306f p.dragTarget \u306e\u3046\u3061\u4eca\u30c9\u30e9\u30c3\u30b0\u3057\u3066\u308b\u3082\u306e\n\t\tdragSrcEl = this;\n\t\tconsole.log(this);\n\t\n\t});\n\n\t// \u30c9\u30e9\u30c3\u30b0\u30a8\u30ea\u30a2\u306b\u8981\u7d20\u3092\u8ffd\u52a0\uff0c\u30c9\u30e9\u30c3\u30b0\u30a8\u30ea\u30a2\u304b\u3089\u8981\u7d20\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u524a\u9664\n\t$('#draggableArea').on('dragover', function(e) {\n\n\t\te.preventDefault();\n\n\t}).on('drop', function(e) {\n\n\t\tif( !(e.isDefaultPrevented()) ) {\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\tif(dragSrcEl != this) {\n\t\t\t// this \u306f div#draggableArea\n\t\t\t$('#'+this.id).append(\"<div class='draggable'><p>\"+dragSrcEl.innerText+\"</p></div>\");\n\t\t}\n\n\t\t$('.draggable').each(function() {\n\t\t\t$(this).draggable( {\n\t\t\t\tcontainment: '#draggableArea',\n\t\t\t\tscroll: false,\n\t\t\t});\n\t\t});\n\n\t}).on('dblclick', '.draggable', function(e) {\n\t\t$(this).remove();\n\t});\n\n});\n```\n\n\u81ea\u7531\u306b\u52d5\u304b\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3067\u3057\u3087\u3046\u304b\uff0e\n\u4eca\u56de\u306f\u3053\u3061\u3089 http://www.html5rocks.com/ja/tutorials/dnd/basics/ \u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\uff0e\n\n# \u3072\u3068\u3053\u3068\n\u6700\u8fd1\uff0c\u8abf\u3079\u3066\u66f8\u304d\u7d42\u308f\u3063\u305f\u3089\uff0c\u8abf\u3079\u3066\u305f\u30bf\u30d6\u3092\u9589\u3058\u308b\u524d\u306b\u304d\u30fc\u305f\u306b\u66f8\u304d\u7559\u3081\u308b\u7fd2\u6163\u304c\u3064\u304d\u307e\u3057\u305f\uff0e\n\u304d\u30fc\u305f\u306e\u3072\u3068\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff0e\n"}