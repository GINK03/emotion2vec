{"context": "gem(oauth2)\u3092\u4f7f\u3063\u3066google\u8a8d\u8a3c\uff06\u500b\u4eba\u60c5\u5831\u53d6\u5f97\u3057\u3066\u307f\u308b\u3002\n\n\u4e8b\u524d\u6e96\u5099\ngoogle developer\u306b\u767b\u9332\u3057\u3066client_id, client_secret\u3092\u53d6\u5f97\u3002\n\ncode\nrequire 'oauth2'\n\nclient = OAuth2::Client.new(\n    'client_id', \n    'client_secret', \n    { site: 'https://console.developers.google.com', \n      authorize_url: '/o/oauth2/auth', \n      token_url: '/o/oauth2/token'\n    })\n\nclient.auth_code.authorize_url(:redirect_uri => 'http://localhost:8080/oauth2/callback')\n\ntoken = client.auth_code.get_token('\u8a8d\u8a3c\u6642\u306b\u53d6\u5f97\u3057\u305fcode', :redirect_uri => 'http://localhost:8080/oauth2/callback')\n\nresponse = token.get('https://www.googleapis.com/oauth2/v1/userinfo', {access_token: token.token}).parsed\n\nresponse['email'] # email\u53d6\u5f97\n\n\u3053\u3093\u306a\u611f\u3058\u3002\ngem(oauth2)\u3092\u4f7f\u3063\u3066google\u8a8d\u8a3c\uff06\u500b\u4eba\u60c5\u5831\u53d6\u5f97\u3057\u3066\u307f\u308b\u3002\n\n### \u4e8b\u524d\u6e96\u5099\ngoogle developer\u306b\u767b\u9332\u3057\u3066client_id, client_secret\u3092\u53d6\u5f97\u3002\n\n### code\n```ruby\nrequire 'oauth2'\n\nclient = OAuth2::Client.new(\n    'client_id', \n    'client_secret', \n    { site: 'https://console.developers.google.com', \n      authorize_url: '/o/oauth2/auth', \n      token_url: '/o/oauth2/token'\n    })\n\nclient.auth_code.authorize_url(:redirect_uri => 'http://localhost:8080/oauth2/callback')\n\ntoken = client.auth_code.get_token('\u8a8d\u8a3c\u6642\u306b\u53d6\u5f97\u3057\u305fcode', :redirect_uri => 'http://localhost:8080/oauth2/callback')\n\nresponse = token.get('https://www.googleapis.com/oauth2/v1/userinfo', {access_token: token.token}).parsed\n\nresponse['email'] # email\u53d6\u5f97\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3002\n", "tags": ["oauth2"]}