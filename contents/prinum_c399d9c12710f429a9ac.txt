{"tags": ["Ruby", "middleman"], "context": " More than 1 year has passed since last update.http://middlemanapp.com/jp/advanced/configuration/\nasset_hash\u3068\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306b\u3001file\u540d\u306bMD5\u306e\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u4ed8\u3051\u308b\u3082\u306e\u3002\n\u5185\u5bb9\u304c\u5909\u308f\u308b\u6642\u306e\u307fMD5\u306e\u7d50\u679c\u304c\u5909\u308f\u308b\u3002\n\nconfig.rb\n\n    configure :build do\n    ~~~\n    activate :asset_hash\n    ~~~\n    end\n\n\n\n\nasset\u306epath\u3092scss\u3084js\u3067\u5c55\u958b\u3059\u308b\nrails\u306e\u3084\u308a\u65b9\u3068\u307b\u307c\u540c\u69d8\u306e\u6a21\u69d8\u3089\u3057\u3044\u306e\u3067\u3001\u53c2\u8003URL\u306frails\u306e\u3082\u306e\u3002\n\nscss\u306e\u5834\u5408\nhttp://edgeguides.rubyonrails.org/asset_pipeline.html#css-and-sass\n\nscss\u3067\u4f7f\u3046\u6642\u3001\n#hoge{\n    background-image: image-url(\"../images/fuga.png\");\n    background-image: url(image-path(\"../images/fuga.png\") );\n}\n\n\n\nmiddleman server\u306e\u6642\n#hoge {\n  background-image: url(\"../images/fuga.png\");\n  background-image: url(\"../images/fuga.png\"); }\n\n\nmiddleman build\u3059\u308b\u3068\n#hoge{\n  background-image:url(\"../images/fuga-b76b5a81.png\");\n  background-image:url(\"../images/fuga-b76b5a81.png\")\n}\n\n\njavascript\u306e\u5834\u5408\nhttp://edgeguides.rubyonrails.org/asset_pipeline.html#javascript-coffeescript-and-erb\njs\u30d5\u30a1\u30a4\u30eb\u3067\u4f7f\u3046\u5834\u5408\u306f\u3001\u62e1\u5f35\u5b50\u306b.erb\u3092\u3064\u3051\u3066hoge.js.erb\u306e\u3088\u3046\u306b\u3059\u308b\u3002\nrails\u306e\u30da\u30fc\u30b8\u3067\u306fasset_path\u3092\u4f7f\u3063\u3066\u3044\u308b\u304c\u3001middleman\u3060\u3068error\u304c\u8d77\u304d\u305f\u306e\u3067\u3001asset_url\u3092\u4f7f\u3046\u3002\n\nhoge.js.erb\n{src:\"<%= asset_url 'logo.png', 'images/' %>\"},\n{src:\"<%= asset_url 'map@2x.png', 'images/' %>\"},\n{src:\"<%= asset_url 'mrt.png', 'images/' %>\"},\n\n\nmiddleman server\u306e\u6642\n\n{src:\"../images/logo.png\"},\n{src:\"../images/map@2x.png\"},\n{src:\"../images/mrt.png\"},\n\n\nmiddleman build\u306e\u6642\n{src:\"../images/logo-bb0b7bcf.png\"},\n{src:\"../images/map@2x-49797249.png\"},\n{src:\"../images/mrt-8dc0fac1.png\"}\n\n\n\nasset_host\u3092\u8a2d\u5b9a\u3059\u308b\u3068assete\u304c\u8aad\u307f\u8fbc\u3080host\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3002\n\u30af\u30e9\u30a6\u30c9\u30d5\u30ed\u30f3\u30c8\u7b49CDN\u3092\u4f7f\u3046\u6642\u306b\u5f79\u7acb\u3061\u305d\u3046\u3002\nhttps://github.com/middleman/middleman/search?q=asset_host&ref=cmdform\n\nconfig.rb\nactivate :asset_host\n      set :asset_host, \"http://assets1.example.com\"\n\n\n\n<%= javascript_include_tag \"app\" %>\n\n    <script src=\"http://assets1.example.com/javascripts/app-5c110269.js\" type=\"text/javascript\"></script>\n\n\n\nhttp://middlemanapp.com/jp/advanced/configuration/\n\nasset_hash\u3068\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306b\u3001file\u540d\u306bMD5\u306e\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u4ed8\u3051\u308b\u3082\u306e\u3002\n\u5185\u5bb9\u304c\u5909\u308f\u308b\u6642\u306e\u307fMD5\u306e\u7d50\u679c\u304c\u5909\u308f\u308b\u3002\n\n\n\n```:config.rb\n\n\tconfigure :build do\n\t~~~\n  \tactivate :asset_hash\n\t~~~\n\tend\n\n```\n\n\n\n## asset\u306epath\u3092scss\u3084js\u3067\u5c55\u958b\u3059\u308b\n\nrails\u306e\u3084\u308a\u65b9\u3068\u307b\u307c\u540c\u69d8\u306e\u6a21\u69d8\u3089\u3057\u3044\u306e\u3067\u3001\u53c2\u8003URL\u306frails\u306e\u3082\u306e\u3002\n\n###scss\u306e\u5834\u5408\n\nhttp://edgeguides.rubyonrails.org/asset_pipeline.html#css-and-sass\n\n####scss\u3067\u4f7f\u3046\u6642\u3001\n\n```\n#hoge{\n\tbackground-image: image-url(\"../images/fuga.png\");\n\tbackground-image: url(image-path(\"../images/fuga.png\") );\n}\n\n```\n\n####middleman server\u306e\u6642\n\n```\n#hoge {\n  background-image: url(\"../images/fuga.png\");\n  background-image: url(\"../images/fuga.png\"); }\n```\n\n####middleman build\u3059\u308b\u3068\n\n```\n#hoge{\n  background-image:url(\"../images/fuga-b76b5a81.png\");\n  background-image:url(\"../images/fuga-b76b5a81.png\")\n}\n```\n\n###javascript\u306e\u5834\u5408\nhttp://edgeguides.rubyonrails.org/asset_pipeline.html#javascript-coffeescript-and-erb\n\njs\u30d5\u30a1\u30a4\u30eb\u3067\u4f7f\u3046\u5834\u5408\u306f\u3001\u62e1\u5f35\u5b50\u306b.erb\u3092\u3064\u3051\u3066hoge.js.erb\u306e\u3088\u3046\u306b\u3059\u308b\u3002\nrails\u306e\u30da\u30fc\u30b8\u3067\u306f`asset_path`\u3092\u4f7f\u3063\u3066\u3044\u308b\u304c\u3001middleman\u3060\u3068error\u304c\u8d77\u304d\u305f\u306e\u3067\u3001`asset_url`\u3092\u4f7f\u3046\u3002\n\n####hoge.js.erb\n\n```\n{src:\"<%= asset_url 'logo.png', 'images/' %>\"},\n{src:\"<%= asset_url 'map@2x.png', 'images/' %>\"},\n{src:\"<%= asset_url 'mrt.png', 'images/' %>\"},\n```\n\n####middleman server\u306e\u6642\n\n```\n\n{src:\"../images/logo.png\"},\n{src:\"../images/map@2x.png\"},\n{src:\"../images/mrt.png\"},\n```\n\n####middleman build\u306e\u6642\n\n```\n{src:\"../images/logo-bb0b7bcf.png\"},\n{src:\"../images/map@2x-49797249.png\"},\n{src:\"../images/mrt-8dc0fac1.png\"}\n\n```\n\n-------------------------\n\nasset_host\u3092\u8a2d\u5b9a\u3059\u308b\u3068assete\u304c\u8aad\u307f\u8fbc\u3080host\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3002\n\u30af\u30e9\u30a6\u30c9\u30d5\u30ed\u30f3\u30c8\u7b49CDN\u3092\u4f7f\u3046\u6642\u306b\u5f79\u7acb\u3061\u305d\u3046\u3002\n\nhttps://github.com/middleman/middleman/search?q=asset_host&ref=cmdform\n\n```:config.rb\nactivate :asset_host\n      set :asset_host, \"http://assets1.example.com\"\n\n```\n\n```\n<%= javascript_include_tag \"app\" %>\n```\n\n```\n    <script src=\"http://assets1.example.com/javascripts/app-5c110269.js\" type=\"text/javascript\"></script>\n\n```\n"}