{"tags": ["Guzzle", "PHP", "OpenWeatherMap"], "context": " More than 1 year has passed since last update.\n\nphp-tenki\nhttps://github.com/takatama/php-tenki\n\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u4f7f\u3044\u307e\u3059\u30021\u9031\u9593\u5206\u306e\u5929\u6c17\u4e88\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\u5929\u6c17\u4e88\u5831\u306e\u30c7\u30fc\u30bf\u306f OpenWeatherMap \u304b\u3089\u5165\u624b\u3057\u307e\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\n$ git clone https://github.com/takatama/php-tenki\n$ cd php-tenki\n$ curl -sS https://getcomposer.org/installer | php\n$ php composer.phar update\n\n\n\u4f7f\u3044\u65b9\n$ php tenki.php <\u5834\u6240,\u56fd>\n\n\u4f8b: \u5343\u8449\u770c\u67cf\u5e02\u306e\u304a\u5929\u6c17\n$ php tenki.php kashiwa,jp\nKashiwa, JP (lat:35.854439, lon:139.968887)\n2014/12/27 Clear max:7.9 min:-0.4\n2014/12/28 Clouds max:7.9 min:-1.8\n2014/12/29 Rain max:5.2 min:-0.4\n2014/12/30 Clear max:11.3 min:0.2\n2014/12/31 Rain max:8.7 min:-0.5\n2015/01/01 Rain max:10.1 min:-2.1\n2015/01/02 Clear max:7.9 min:0.2\n\n\n\u4f7f\u3063\u305f\u6280\u8853\n\nOpenWeatherMap API\n\u4e00\u65e5\u5358\u4f4d\u306e\u5929\u6c17\u4e88\u5831\u30c7\u30fc\u30bf(Daily Forecast Data)\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u4f8b\uff09\u5343\u8449\u770c\u67cf\u5e02\u306e\u30c7\u30fc\u30bf\nhttp://api.openweathermap.org/data/2.5/forecast/daily?q=kashiwa,JP\n\u30c7\u30fc\u30bf\u306e\u8aac\u660e\u306f\u3053\u3061\u3089\u3067\u3059\u3002\u65e5\u672c\u306b\u5408\u308f\u305b\u308b\u305f\u3081\u306b\u5de5\u592b\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\u6642\u523b\u306fGMT\u3002JPN\u306b\u5909\u63db\u3059\u308b\u305f\u3081 9\u6642\u9593\u9032\u3081\u308b\u3002\n\u6e29\u5ea6\u306f\u83ef\u6c0f\u3002\u6442\u6c0f\u306b\u5909\u63db\u3059\u308b\u305f\u3081 273.15 \u5f15\u304f\u3002\n\u5c0f\u6570\u70b91\u6841\u3060\u3051\u3067\u3044\u3044\u306e\u3067\u3001round \u95a2\u6570\u3067\u56db\u6368\u4e94\u5165\u3059\u308b\u3002\n\n\u3064\u3044\u3067\u306b\u3001\n* \u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u8868\u793a\u3092\u30ab\u30e9\u30d5\u30eb\u306b\u3059\u308b\u305f\u3081\u3001kevinlebrun/colors.php \u3092\u4f7f\u3046\u3002\n\ntenki.php\nfunction show_forecast($time_gmt, $weather, $temp_max_K, $temp_min_K) {\n    $time_jpn = $time_gmt + 9 * 60 * 60;\n    $temp_max_C = round($temp_max_K - 273.15, 1); //\u5c0f\u6570\u70b9\u7b2c\u4e00\u4f4d\u307e\u3067\u8868\u793a\n    $temp_min_C = round($temp_min_K - 273.15, 1);\n    $c = new Color();\n    echo gmdate('Y/m/d', $time_jpn) . ' ' . $c($weather)->bold . ' max:' . $c($temp_max_C)->red . ' min:' . $c($temp_min_C)->blue . PHP_EOL;\n}\n\n\n\nGuzzle \u3067 REST API \u3092\u5229\u7528\u3059\u308b\n\u6700\u8fd1\u306fcURL\u3088\u308aGuzzle\u307f\u305f\u3044\u3067\u3059\u3002JSON\u306a\u3089\u3053\u308c\u3060\u3051\u3067\u5927\u4e08\u592b\u3002\n\ntenki.php\nrequire 'vendor/autoload.php';\n\nuse GuzzleHttp\\Client;\n\n$url = 'http://api.openweathermap.org/data/2.5/forecast/daily?q=' . $city_and_country;\n$client = new Client();\n$json = $client->get($url)->json();\n\n\n\n\u53c2\u8003\u306b\u3057\u305f\u60c5\u5831\n\nPHP - Guzzle \u3067 Twitter REST API \u3092\u53e9\u304f - Qiita\nhttp://qiita.com/kawanamiyuu/items/2cab57e3d3932a2c5e4e\n\n\n\n# php-tenki\nhttps://github.com/takatama/php-tenki\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u4f7f\u3044\u307e\u3059\u30021\u9031\u9593\u5206\u306e\u5929\u6c17\u4e88\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\u5929\u6c17\u4e88\u5831\u306e\u30c7\u30fc\u30bf\u306f [OpenWeatherMap](http://openweathermap.org/) \u304b\u3089\u5165\u624b\u3057\u307e\u3059\u3002\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\n\n```\n$ git clone https://github.com/takatama/php-tenki\n$ cd php-tenki\n$ curl -sS https://getcomposer.org/installer | php\n$ php composer.phar update\n```\n\n## \u4f7f\u3044\u65b9\n\n```\n$ php tenki.php <\u5834\u6240,\u56fd>\n```\n\n\u4f8b: \u5343\u8449\u770c\u67cf\u5e02\u306e\u304a\u5929\u6c17\n\n```\n$ php tenki.php kashiwa,jp\nKashiwa, JP (lat:35.854439, lon:139.968887)\n2014/12/27 Clear max:7.9 min:-0.4\n2014/12/28 Clouds max:7.9 min:-1.8\n2014/12/29 Rain max:5.2 min:-0.4\n2014/12/30 Clear max:11.3 min:0.2\n2014/12/31 Rain max:8.7 min:-0.5\n2015/01/01 Rain max:10.1 min:-2.1\n2015/01/02 Clear max:7.9 min:0.2\n```\n\n## \u4f7f\u3063\u305f\u6280\u8853\n\n### OpenWeatherMap API\n\n\u4e00\u65e5\u5358\u4f4d\u306e\u5929\u6c17\u4e88\u5831\u30c7\u30fc\u30bf([Daily Forecast Data](http://openweathermap.org/forecast))\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n\u4f8b\uff09\u5343\u8449\u770c\u67cf\u5e02\u306e\u30c7\u30fc\u30bf\nhttp://api.openweathermap.org/data/2.5/forecast/daily?q=kashiwa,JP\n\n\u30c7\u30fc\u30bf\u306e\u8aac\u660e\u306f[\u3053\u3061\u3089](http://openweathermap.org/weather-data#16days)\u3067\u3059\u3002\u65e5\u672c\u306b\u5408\u308f\u305b\u308b\u305f\u3081\u306b\u5de5\u592b\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n* \u6642\u523b\u306fGMT\u3002JPN\u306b\u5909\u63db\u3059\u308b\u305f\u3081 9\u6642\u9593\u9032\u3081\u308b\u3002\n* \u6e29\u5ea6\u306f\u83ef\u6c0f\u3002\u6442\u6c0f\u306b\u5909\u63db\u3059\u308b\u305f\u3081 273.15 \u5f15\u304f\u3002\n* \u5c0f\u6570\u70b91\u6841\u3060\u3051\u3067\u3044\u3044\u306e\u3067\u3001round \u95a2\u6570\u3067\u56db\u6368\u4e94\u5165\u3059\u308b\u3002\n\n\u3064\u3044\u3067\u306b\u3001\n* \u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u8868\u793a\u3092\u30ab\u30e9\u30d5\u30eb\u306b\u3059\u308b\u305f\u3081\u3001[kevinlebrun/colors.php](https://github.com/kevinlebrun/colors.php) \u3092\u4f7f\u3046\u3002\n\n```tenki.php\nfunction show_forecast($time_gmt, $weather, $temp_max_K, $temp_min_K) {\n    $time_jpn = $time_gmt + 9 * 60 * 60;\n    $temp_max_C = round($temp_max_K - 273.15, 1); //\u5c0f\u6570\u70b9\u7b2c\u4e00\u4f4d\u307e\u3067\u8868\u793a\n    $temp_min_C = round($temp_min_K - 273.15, 1);\n    $c = new Color();\n    echo gmdate('Y/m/d', $time_jpn) . ' ' . $c($weather)->bold . ' max:' . $c($temp_max_C)->red . ' min:' . $c($temp_min_C)->blue . PHP_EOL;\n}\n```\n\n\n### Guzzle \u3067 REST API \u3092\u5229\u7528\u3059\u308b\n\n\u6700\u8fd1\u306fcURL\u3088\u308a[Guzzle](http://docs.guzzlephp.org/en/latest/)\u307f\u305f\u3044\u3067\u3059\u3002JSON\u306a\u3089\u3053\u308c\u3060\u3051\u3067\u5927\u4e08\u592b\u3002\n\n\n```tenki.php\nrequire 'vendor/autoload.php';\n\nuse GuzzleHttp\\Client;\n\n$url = 'http://api.openweathermap.org/data/2.5/forecast/daily?q=' . $city_and_country;\n$client = new Client();\n$json = $client->get($url)->json();\n```\n\n### \u53c2\u8003\u306b\u3057\u305f\u60c5\u5831\n\n* PHP - Guzzle \u3067 Twitter REST API \u3092\u53e9\u304f - Qiita\nhttp://qiita.com/kawanamiyuu/items/2cab57e3d3932a2c5e4e\n\n\n"}