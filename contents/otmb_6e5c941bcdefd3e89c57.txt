{"context": " More than 1 year has passed since last update.\nGameScene.h\n\n#include \"cocos2d.h\"\n\n#include \"extensions/cocos-ext.h\"\n#include \"ui/CocosGUI.h\"\n\nUSING_NS_CC;\nUSING_NS_CC_EXT;\nusing namespace ui;\n\nclass GameScene : public cocos2d::Layer\n{\nprotected:\n    void addLayer();\npublic:\n    static cocos2d::Scene* createScene();\n    virtual bool init();\n    CREATE_FUNC(GameScene);\n};\n\n\n\nGameScene.spp\n#include \"GameScene.h\"\nUSING_NS_CC;\n\nScene* GameScene::createScene()\n{\n    auto scene = Scene::createWithPhysics();\n    auto layer = GameScene::create();\n    scene->addChild(layer);\n\n    return scene;\n}\nbool GameScene::init()\n{\n    if (!Layer::init())\n        return false;\n\n    addLayer();\n    return true;\n}\n\n#define kModalLayerPriority -1\n\nvoid GameScene::addLayer(){\n\n    auto layer = Layer::create();\n\n    // \u30e2\u30fc\u30c0\u30eb\u30ec\u30a4\u30e4 \u3053\u3053\u304b\u3089\n    auto listener = EventListenerTouchOneByOne::create();\n    listener->setSwallowTouches(true);\n    listener->onTouchBegan = [](Touch *touch,Event*event)->bool{\n        return true;\n    };\n    auto dip = layer->getEventDispatcher();\n    dip->addEventListenerWithSceneGraphPriority(listener, this);\n    dip->setPriority(listener, kModalLayerPriority);\n    // \u30e2\u30fc\u30c0\u30eb\u30ec\u30a4\u30e4 \u3053\u3053\u307e\u3067\n\n    auto size = Director::getInstance()->getVisibleSize();\n    ui::ScrollView* sc = ui::ScrollView::create();\n    sc->setContentSize(size);\n    sc->setBackGroundColor(Color3B::GREEN);\n    sc->setBackGroundColorType(Layout::BackGroundColorType::SOLID);\n    sc->setBounceEnabled(true);\n    sc->setDirection(ui::ScrollView::Direction::VERTICAL);\n    sc->setContentSize(Size(480,size.height));\n    sc->setInnerContainerSize(Size(480, sc->getContentSize().height + 300 ));\n\n    sc->setPosition(Vec2(0,size.height - sc->getContentSize().height ));\n\n\n    Button* button = Button::create(\"button.png\");\n    button->setPosition(Vec2(button->getContentSize().width / 2.0f,\n                             sc->getContentSize().height - button->getContentSize().height / 2.0f));\n    sc->addChild(button);\n\n    layer->addChild(sc);\n    addChild(layer);\n}\n\n\n```cpp:GameScene.h\n\n#include \"cocos2d.h\"\n\n#include \"extensions/cocos-ext.h\"\n#include \"ui/CocosGUI.h\"\n\nUSING_NS_CC;\nUSING_NS_CC_EXT;\nusing namespace ui;\n\nclass GameScene : public cocos2d::Layer\n{\nprotected:\n    void addLayer();\npublic:\n    static cocos2d::Scene* createScene();\n    virtual bool init();\n    CREATE_FUNC(GameScene);\n};\n```\n\n```cpp:GameScene.spp\n#include \"GameScene.h\"\nUSING_NS_CC;\n\nScene* GameScene::createScene()\n{\n    auto scene = Scene::createWithPhysics();\n    auto layer = GameScene::create();\n    scene->addChild(layer);\n    \n    return scene;\n}\nbool GameScene::init()\n{\n    if (!Layer::init())\n        return false;\n\n    addLayer();\n    return true;\n}\n\n#define kModalLayerPriority -1\n\nvoid GameScene::addLayer(){\n    \n    auto layer = Layer::create();\n    \n    // \u30e2\u30fc\u30c0\u30eb\u30ec\u30a4\u30e4 \u3053\u3053\u304b\u3089\n    auto listener = EventListenerTouchOneByOne::create();\n    listener->setSwallowTouches(true);\n    listener->onTouchBegan = [](Touch *touch,Event*event)->bool{\n        return true;\n    };\n    auto dip = layer->getEventDispatcher();\n    dip->addEventListenerWithSceneGraphPriority(listener, this);\n    dip->setPriority(listener, kModalLayerPriority);\n    // \u30e2\u30fc\u30c0\u30eb\u30ec\u30a4\u30e4 \u3053\u3053\u307e\u3067\n    \n    auto size = Director::getInstance()->getVisibleSize();\n    ui::ScrollView* sc = ui::ScrollView::create();\n    sc->setContentSize(size);\n    sc->setBackGroundColor(Color3B::GREEN);\n    sc->setBackGroundColorType(Layout::BackGroundColorType::SOLID);\n    sc->setBounceEnabled(true);\n    sc->setDirection(ui::ScrollView::Direction::VERTICAL);\n    sc->setContentSize(Size(480,size.height));\n    sc->setInnerContainerSize(Size(480, sc->getContentSize().height + 300 ));\n    \n    sc->setPosition(Vec2(0,size.height - sc->getContentSize().height ));\n   \n    \n    Button* button = Button::create(\"button.png\");\n    button->setPosition(Vec2(button->getContentSize().width / 2.0f,\n                             sc->getContentSize().height - button->getContentSize().height / 2.0f));\n    sc->addChild(button);\n    \n    layer->addChild(sc);\n    addChild(layer);\n}\n```\n", "tags": ["cocos2d-x3.2"]}