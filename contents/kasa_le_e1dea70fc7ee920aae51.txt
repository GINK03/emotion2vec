{"tags": ["Android", "Espresso", "webView", "NavigationView"], "context": "\n\n0. \u524d\u63d0\nAndroidStudio2.1.1\nEspesso 2.2.1\nTarget / Compile SDK 23\nMinSDK 16\n\napp/build.gladle\ndependencies {\n...\n    testCompile 'junit:junit:4.12'\n    testCompile 'org.json:json:20140107'\n    androidTestCompile 'com.android.support.test:runner:0.4.1'\n    androidTestCompile 'com.android.support.test:rules:0.4.1'\n    androidTestCompile 'com.android.support:recyclerview-v7:23.3.0'\n    androidTestCompile 'com.android.support:support-v4:23.3.0'\n    androidTestCompile 'com.android.support:support-annotations:23.3.0'\n    androidTestCompile 'com.android.support.test.espresso:espresso-core:2.2.1'\n    androidTestCompile 'com.android.support.test.espresso:espresso-contrib:2.2.1'\n\n    compile 'com.android.support:recyclerview-v7:23.3.0'\n    compile 'com.android.support:support-v4:23.3.0'\n    compile 'com.android.support:appcompat-v7:23.3.0'\n    compile 'com.android.support:design:23.3.0'\n...\n}\n\n\n\n1. \u906d\u9047\u3057\u305f\u73fe\u8c61\nEspresso\u3067\u3001NavigationView\u306e\u958b\u9589\u3092\u30c6\u30b9\u30c8\u3057\u3088\u3046\u3068\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30c6\u30b9\u30c8\u3092\u8a18\u8ff0\u3002\n\nMainActivityTest.java\n\n@RunWith(AndroidJUnit4.class)\npublic class MainActivityTest {\n    MainActivity mActivity;\n\n    @Rule\n    public ActivityTestRule<MainActivity> activityTestRule =\n            new ActivityTestRule<>(MainActivity.class);\n\n    @Before\n    public void setUp() throws Exception {\n        mActivity = activityTestRule.getActivity();\n    }\n\n    @Test\n    public void \u30b5\u30a4\u30c9\u30e1\u30cb\u30e5\u30fc\u958b\u9589() {\n        Espresso.onView(withId(R.id.drawer_layout)).check(matches(DrawerMatchers.isClosed()));\n        Espresso.onView(withId(R.id.drawer_layout)).perform(DrawerActions.open());\u3000 // (*)\n        Espresso.onView(withId(R.id.drawer_layout)).check(matches(DrawerMatchers.isOpen()));\n        Espresso.onView(withId(R.id.drawer_layout)).perform(DrawerActions.close());\n        Espresso.onView(withId(R.id.drawer_layout)).check(matches(DrawerMatchers.isClosed()));\n        // \u623b\u308b\u30dc\u30bf\u30f3\u3067\u9589\u3058\u308b\u306e\u3092\u78ba\u8a8d\n        Espresso.onView(withId(R.id.drawer_layout)).perform(DrawerActions.open());\n        Espresso.pressBack();\n        Espresso.onView(withId(R.id.drawer_layout)).check(matches(DrawerMatchers.isClosed()));\n    }\n\n\n\u305d\u3057\u305f\u3089\u3001(*)\u306e\u90e8\u5206\u3067\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u307f\u305f\u3044\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3057\u305f\u3002\nAppNotIdleException: Looped for XXXX iterations over 60 SECONDS. The following Idle Conditions failed . \n\n\n2. \u69cb\u6210\nMainActivity\u306e\u69cb\u6210\n+ActionBar\n+Toolbar\n+TabLayout\n+ViewPager\n+NavigationView\nViewPager\u3067\u8868\u793a\u3059\u308bFragment\u304c\u3001WebView\u8868\u793a\u3002\n\u3067\u3001onResume/onPause\u306b\u4ee5\u4e0b\u3092\u8a18\u8ff0\u6e08\u307f\u3002\n\nWebFragment.java\n\nimport android.support.v4.app.Fragment;\n...\n\npublic class WebFragment extends Fragment{\n...\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        webView.onResume();\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        webView.onPause();\n    }\n\n}\n\n\n\n3. \u539f\u56e0\nAppNotIdleException: Looped for XXXX iterations over 60 SECONDS. The following Idle Conditions failed . \n\n\u3053\u306e\u30a8\u30e9\u30fc\u306e\u539f\u56e0\u306f\u3001\u8981\u3059\u308b\u306b\u3001MainThread\u304c\u3072\u305f\u3059\u3089\u30d3\u30b8\u30fc\u306b\u306a\u3063\u3066\u308b\u3088\u3001\u3068\u3044\u3046\u3053\u3068\u3089\u3057\u3044\u3002\nMainThread\u304c\u3072\u305f\u3059\u3089\u30d3\u30b8\u30fc\u3068\u8a00\u3046\u3053\u3068\u306f\u3001\u300c\u753b\u9762\u304c\u3072\u305f\u3059\u3089\u518d\u63cf\u753b\u3055\u308c\u3066\u3044\u308b\u300d\u3068\u8003\u3048\u3066\u3044\u3044\u3002\n\u3067\u3082\u3001\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u3044\u308bView\u306f\u306a\u3044\u3057\u3001Progress\u3082\u6d88\u3057\u3066\u3044\u308b\u3002\n\u305d\u3053\u3067\u3001\u958b\u767a\u8005\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u753b\u9762\u306e\u66f4\u65b0\u3092\u8868\u793a\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u3001\u30a2\u30d7\u30ea\u3092\u901a\u5e38\u8d77\u52d5\u3057\uff08\u30c6\u30b9\u30c8\u3067\u306f\u7121\u304f\uff09\u3001NavigationView\u3092\u8868\u793a\u3055\u305b\u3066\u307f\u305f\u3002\n\u203b\u305f\u3060\u3057\u3001\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u6709\u52b9\u3060\u3068\u3001\u753b\u9762\u304c\u6fc0\u3057\u304f\u70b9\u6ec5\u3059\u308b\u306e\u3067\u3001\u3054\u6ce8\u610f\u3055\u308c\u305f\u3057\u3002\n\u7d50\u679c\u3001NavigationView\u8868\u793a\u4e2d\u306f\u3072\u305f\u3059\u3089\u70b9\u6ec5\u30fb\u30fb\u30fb\u3002\u306f\u3001\u6fc0\u3057\u3044\u3002\u76ee\u304c\u75db\u3044\u3002\n\u305d\u3053\u3067\u3001\u3069\u306eView\u304c\u554f\u984c\u306a\u306e\u304b\u3092\u8abf\u67fb\u3059\u308b\u3079\u304f\u3001\u3001\u3001\u3044\u3084\u6700\u521d\u304b\u3089\u3001WebView\u3092\u7591\u3063\u3066\u307e\u3057\u305f\u304c\u306d\u3002\uff08\u3068\u306f\u3044\u3048\u3001Tab+ViewPager\u304b\u3082\uff1f\u3068\u3082\u7591\u3063\u3066\u305f\u304b\u306a\u3002\uff09\n\u3068\u308a\u3042\u3048\u305a\u3001\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u300cNavigation Drawer Activity\u300d\u3092\u9078\u629e\u3057\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067\u8d77\u52d5\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u554f\u984c\u306a\u3057\u3002\n\u5c11\u3057\u70b9\u6ec5\u3057\u307e\u3059\u304c\u3001\u3058\u304d\u306b\u53ce\u307e\u308a\u307e\u3059\u3002\nMainActivity\u306bWebView\u3092\u8ffd\u52a0\u3057\u3066\u3001\u518d\u5ea6\u8d77\u52d5\u3002\n\u306f\u3044\u3001\u5ef6\u3005\u3068\u70b9\u6ec5\u3057\u59cb\u3081\u307e\u3057\u305f\u3002\n\u72af\u4eba\u306f\u3001WebView\u3002\n\u3082\u3046\u4e00\u3064\u3002\nNavigation\u304c\u958b\u3044\u305f\u3068\u304d\u306b\u3001WebView\u3092\u975e\u8868\u793a\u306b\u3057\u3066\u3001\u9589\u3058\u305f\u3089\u307e\u305f\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u898b\u307e\u3057\u305f\u3002\n\u70b9\u6ec5\u3057\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\nNavigationView\u3092\u8868\u793a\u3059\u308b\u3068\u304d\u306b\u3001WebView\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u3066\u306f\u3044\u3051\u306a\u3044(Visibility==View.VISIBLE\u3067\u3042\u3063\u3066\u306f\u3044\u3051\u306a\u3044)\n\u3068\u3044\u3046\u7d50\u8ad6\u3067\u3059\u3002\n\n4. \u5bfe\u7b56\n\u56f0\u308a\u307e\u3057\u305f\u306d\u3002\u307e\u3042\u30c6\u30b9\u30c8\u6642\u3060\u3051\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u3059\u308c\u3070\u3001\u3068\u308a\u3042\u3048\u305a\u56de\u907f\u51fa\u6765\u307e\u3059\u3002\n\nMainActivity.java\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ...\n        drawerLayout = (DrawerLayout)findViewById(R.id.drawer_layout);\n        drawerLayout.addDrawerListener(this);\n        ...\n    }\n\n    @Override\n    public void onDrawerOpened(View drawerView) {\n        if (Debug.isTest) {\n            webView.setVisibility(View.INVISIBLE);\n        }\n    }\n\n    @Override\n    public void onDrawerClosed(View drawerView) {\n        if (Debug.isTest) {\n            webView.setVisibility(View.VISIBLE);\n        }  \n    }\n\n\nMainActivityTest.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3002\n\nMainActivityTest.java\n    @BeforeClass\n    public static void initClass() {\n        Debug.isTest = true;\n    }\n\n\nDebug\u30af\u30e9\u30b9\u306f\u9069\u5f53\u306b\u30af\u30e9\u30b9\u4f5c\u3063\u3066\u7f6e\u3044\u3066\u4e0b\u3055\u3044\u3002\n\u5fc3\u914d\u3060\u3063\u305f\u3089app/src/debug\u3068app/src/release\u306b\u7f6e\u304d\u5206\u3051\u3066\u304a\u304f\u3068\u3044\u3044\u304b\u3082\u3067\u3059\u306d\u3002\n\u3053\u308c\u3060\u3068NavigationView\u8868\u793a\u6642\u306b\u88cf\u753b\u9762\u304c\u771f\u3063\u9ed2\u306b\u306a\u3063\u305f\u308a\u3057\u307e\u3059\u304c\uff08\u30c6\u30fc\u30de\u306b\u3082\u3088\u308b\u304b\u306a)\u3001\u307e\u3042\u30c6\u30b9\u30c8\u6642\u3060\u3051\u306a\u306e\u3067\u30fb\u30fb\u30fb\n\u3061\u306a\u307f\u306b\u3001\u79c1\u306f\u6a2a\u7740\u3057\u3066\u30c7\u30d0\u30c3\u30b0\u7528\u753b\u9762\u8868\u793a\u6642(\u30b5\u30fc\u30d0\u30fc\u30a2\u30af\u30bb\u30b9\u3057\u306a\u3044\u305f\u3081\u306e\u30ed\u30fc\u30ab\u30ebhtml\u3092\u8aad\u3080\u753b\u9762)\u306b\u305d\u3046\u3059\u308b\u3088\u3046\u306b\u3057\u3061\u3083\u3063\u305f\u306e\u3067\u3001JUnit\u4ee5\u5916\u3067\u3082\u76ee\u6483\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u3061\u3087\u3063\u3068\u898b\u305f\u76ee\u3092\u3044\u3058\u308a\u307e\u3057\u305f\u3002\n(1)NavigationView\u304c\u958b\u3044\u305f\u6642\u306bWebView\u306eDrawingCache\u3092\u53d6\u5f97\u3057\u3066ImageView\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u3001\u305d\u306eImageView\u3092setVisibility(View.VISIBLE)\n(2)NavigationView\u304c\u9589\u3058\u305f\u6642\u306b\u305d\u306eImageView\u3092setVisibility(View.INVISIBLE)\n\u3068\u3084\u308a\u307e\u3057\u305f\u3002\nJUnit\u901a\u904e\u3055\u305b\u308b\u305f\u3081\u3060\u3051\u306a\u3089\u4e0d\u8981\u3067\u3059\u306d\u3002\n\u3053\u308c\u3067\u3001\u7121\u4e8b\u3001\u30b5\u30a4\u30c9\u30e1\u30cb\u30e5\u30fc\u958b\u9589\u30c6\u30b9\u30c8\u304c\u901a\u904e\u3057\u307e\u3057\u305f\u3002\n\u3084\u308c\u3084\u308c\u3002\n#0. \u524d\u63d0\n\nAndroidStudio2.1.1\nEspesso 2.2.1\nTarget / Compile SDK 23\nMinSDK 16\n\n```app/build.gladle\ndependencies {\n...\n    testCompile 'junit:junit:4.12'\n    testCompile 'org.json:json:20140107'\n    androidTestCompile 'com.android.support.test:runner:0.4.1'\n    androidTestCompile 'com.android.support.test:rules:0.4.1'\n    androidTestCompile 'com.android.support:recyclerview-v7:23.3.0'\n    androidTestCompile 'com.android.support:support-v4:23.3.0'\n    androidTestCompile 'com.android.support:support-annotations:23.3.0'\n    androidTestCompile 'com.android.support.test.espresso:espresso-core:2.2.1'\n    androidTestCompile 'com.android.support.test.espresso:espresso-contrib:2.2.1'\n\n    compile 'com.android.support:recyclerview-v7:23.3.0'\n    compile 'com.android.support:support-v4:23.3.0'\n    compile 'com.android.support:appcompat-v7:23.3.0'\n    compile 'com.android.support:design:23.3.0'\n...\n}\n```\n\n#1. \u906d\u9047\u3057\u305f\u73fe\u8c61\n\nEspresso\u3067\u3001NavigationView\u306e\u958b\u9589\u3092\u30c6\u30b9\u30c8\u3057\u3088\u3046\u3068\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30c6\u30b9\u30c8\u3092\u8a18\u8ff0\u3002\n\n```java:MainActivityTest.java\n\n@RunWith(AndroidJUnit4.class)\npublic class MainActivityTest {\n    MainActivity mActivity;\n\n    @Rule\n    public ActivityTestRule<MainActivity> activityTestRule =\n            new ActivityTestRule<>(MainActivity.class);\n\n    @Before\n    public void setUp() throws Exception {\n        mActivity = activityTestRule.getActivity();\n    }\n\n    @Test\n    public void \u30b5\u30a4\u30c9\u30e1\u30cb\u30e5\u30fc\u958b\u9589() {\n        Espresso.onView(withId(R.id.drawer_layout)).check(matches(DrawerMatchers.isClosed()));\n        Espresso.onView(withId(R.id.drawer_layout)).perform(DrawerActions.open());\u3000 // (*)\n        Espresso.onView(withId(R.id.drawer_layout)).check(matches(DrawerMatchers.isOpen()));\n        Espresso.onView(withId(R.id.drawer_layout)).perform(DrawerActions.close());\n        Espresso.onView(withId(R.id.drawer_layout)).check(matches(DrawerMatchers.isClosed()));\n        // \u623b\u308b\u30dc\u30bf\u30f3\u3067\u9589\u3058\u308b\u306e\u3092\u78ba\u8a8d\n        Espresso.onView(withId(R.id.drawer_layout)).perform(DrawerActions.open());\n        Espresso.pressBack();\n        Espresso.onView(withId(R.id.drawer_layout)).check(matches(DrawerMatchers.isClosed()));\n    }\n```\n\n\u305d\u3057\u305f\u3089\u3001(*)\u306e\u90e8\u5206\u3067\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u307f\u305f\u3044\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3057\u305f\u3002\n\n```\nAppNotIdleException: Looped for XXXX iterations over 60 SECONDS. The following Idle Conditions failed . \n```\n\n#2. \u69cb\u6210\n\nMainActivity\u306e\u69cb\u6210\n+ActionBar\n+Toolbar\n+TabLayout\n+ViewPager\n+NavigationView\n\nViewPager\u3067\u8868\u793a\u3059\u308bFragment\u304c\u3001WebView\u8868\u793a\u3002\n\u3067\u3001onResume/onPause\u306b\u4ee5\u4e0b\u3092\u8a18\u8ff0\u6e08\u307f\u3002\n\n```java:WebFragment.java\n\nimport android.support.v4.app.Fragment;\n...\n\npublic class WebFragment extends Fragment{\n...\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        webView.onResume();\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        webView.onPause();\n    }\n\n}\n```\n\n#3. \u539f\u56e0\n\n```\nAppNotIdleException: Looped for XXXX iterations over 60 SECONDS. The following Idle Conditions failed . \n```\n\n\u3053\u306e\u30a8\u30e9\u30fc\u306e\u539f\u56e0\u306f\u3001\u8981\u3059\u308b\u306b\u3001MainThread\u304c\u3072\u305f\u3059\u3089\u30d3\u30b8\u30fc\u306b\u306a\u3063\u3066\u308b\u3088\u3001\u3068\u3044\u3046\u3053\u3068\u3089\u3057\u3044\u3002\nMainThread\u304c\u3072\u305f\u3059\u3089\u30d3\u30b8\u30fc\u3068\u8a00\u3046\u3053\u3068\u306f\u3001\u300c\u753b\u9762\u304c\u3072\u305f\u3059\u3089\u518d\u63cf\u753b\u3055\u308c\u3066\u3044\u308b\u300d\u3068\u8003\u3048\u3066\u3044\u3044\u3002\n\u3067\u3082\u3001\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u3044\u308bView\u306f\u306a\u3044\u3057\u3001Progress\u3082\u6d88\u3057\u3066\u3044\u308b\u3002\n\u305d\u3053\u3067\u3001\u958b\u767a\u8005\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u753b\u9762\u306e\u66f4\u65b0\u3092\u8868\u793a\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u3001\u30a2\u30d7\u30ea\u3092\u901a\u5e38\u8d77\u52d5\u3057\uff08\u30c6\u30b9\u30c8\u3067\u306f\u7121\u304f\uff09\u3001NavigationView\u3092\u8868\u793a\u3055\u305b\u3066\u307f\u305f\u3002\n\n\u203b\u305f\u3060\u3057\u3001\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u6709\u52b9\u3060\u3068\u3001\u753b\u9762\u304c\u6fc0\u3057\u304f\u70b9\u6ec5\u3059\u308b\u306e\u3067\u3001\u3054\u6ce8\u610f\u3055\u308c\u305f\u3057\u3002\n\n\u7d50\u679c\u3001NavigationView\u8868\u793a\u4e2d\u306f\u3072\u305f\u3059\u3089\u70b9\u6ec5\u30fb\u30fb\u30fb\u3002\u306f\u3001\u6fc0\u3057\u3044\u3002\u76ee\u304c\u75db\u3044\u3002\n\u305d\u3053\u3067\u3001\u3069\u306eView\u304c\u554f\u984c\u306a\u306e\u304b\u3092\u8abf\u67fb\u3059\u308b\u3079\u304f\u3001\u3001\u3001\u3044\u3084\u6700\u521d\u304b\u3089\u3001WebView\u3092\u7591\u3063\u3066\u307e\u3057\u305f\u304c\u306d\u3002\uff08\u3068\u306f\u3044\u3048\u3001Tab+ViewPager\u304b\u3082\uff1f\u3068\u3082\u7591\u3063\u3066\u305f\u304b\u306a\u3002\uff09\n\n\u3068\u308a\u3042\u3048\u305a\u3001\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u300cNavigation Drawer Activity\u300d\u3092\u9078\u629e\u3057\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067\u8d77\u52d5\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u554f\u984c\u306a\u3057\u3002\n\u5c11\u3057\u70b9\u6ec5\u3057\u307e\u3059\u304c\u3001\u3058\u304d\u306b\u53ce\u307e\u308a\u307e\u3059\u3002\n\nMainActivity\u306bWebView\u3092\u8ffd\u52a0\u3057\u3066\u3001\u518d\u5ea6\u8d77\u52d5\u3002\n\n\u306f\u3044\u3001\u5ef6\u3005\u3068\u70b9\u6ec5\u3057\u59cb\u3081\u307e\u3057\u305f\u3002\n\n\u72af\u4eba\u306f\u3001WebView\u3002\n\n\u3082\u3046\u4e00\u3064\u3002\n\nNavigation\u304c\u958b\u3044\u305f\u3068\u304d\u306b\u3001WebView\u3092\u975e\u8868\u793a\u306b\u3057\u3066\u3001\u9589\u3058\u305f\u3089\u307e\u305f\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u898b\u307e\u3057\u305f\u3002\n\n\u70b9\u6ec5\u3057\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\n\n**NavigationView\u3092\u8868\u793a\u3059\u308b\u3068\u304d\u306b\u3001WebView\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u3066\u306f\u3044\u3051\u306a\u3044(Visibility==View.VISIBLE\u3067\u3042\u3063\u3066\u306f\u3044\u3051\u306a\u3044)**\n\n\u3068\u3044\u3046\u7d50\u8ad6\u3067\u3059\u3002\n\n#4. \u5bfe\u7b56\n\n\u56f0\u308a\u307e\u3057\u305f\u306d\u3002\u307e\u3042\u30c6\u30b9\u30c8\u6642\u3060\u3051\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u3059\u308c\u3070\u3001\u3068\u308a\u3042\u3048\u305a\u56de\u907f\u51fa\u6765\u307e\u3059\u3002\n\n```MainActivity.java\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ...\n        drawerLayout = (DrawerLayout)findViewById(R.id.drawer_layout);\n        drawerLayout.addDrawerListener(this);\n        ...\n    }\n\n    @Override\n    public void onDrawerOpened(View drawerView) {\n        if (Debug.isTest) {\n            webView.setVisibility(View.INVISIBLE);\n        }\n    }\n\n    @Override\n    public void onDrawerClosed(View drawerView) {\n        if (Debug.isTest) {\n            webView.setVisibility(View.VISIBLE);\n        }  \n    }\n```\n\nMainActivityTest.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3002\n\n```java:MainActivityTest.java\n    @BeforeClass\n    public static void initClass() {\n        Debug.isTest = true;\n    }\n```\n\nDebug\u30af\u30e9\u30b9\u306f\u9069\u5f53\u306b\u30af\u30e9\u30b9\u4f5c\u3063\u3066\u7f6e\u3044\u3066\u4e0b\u3055\u3044\u3002\n\u5fc3\u914d\u3060\u3063\u305f\u3089app/src/debug\u3068app/src/release\u306b\u7f6e\u304d\u5206\u3051\u3066\u304a\u304f\u3068\u3044\u3044\u304b\u3082\u3067\u3059\u306d\u3002\n\n\u3053\u308c\u3060\u3068NavigationView\u8868\u793a\u6642\u306b\u88cf\u753b\u9762\u304c\u771f\u3063\u9ed2\u306b\u306a\u3063\u305f\u308a\u3057\u307e\u3059\u304c\uff08\u30c6\u30fc\u30de\u306b\u3082\u3088\u308b\u304b\u306a)\u3001\u307e\u3042\u30c6\u30b9\u30c8\u6642\u3060\u3051\u306a\u306e\u3067\u30fb\u30fb\u30fb\n\n\u3061\u306a\u307f\u306b\u3001\u79c1\u306f\u6a2a\u7740\u3057\u3066\u30c7\u30d0\u30c3\u30b0\u7528\u753b\u9762\u8868\u793a\u6642(\u30b5\u30fc\u30d0\u30fc\u30a2\u30af\u30bb\u30b9\u3057\u306a\u3044\u305f\u3081\u306e\u30ed\u30fc\u30ab\u30ebhtml\u3092\u8aad\u3080\u753b\u9762)\u306b\u305d\u3046\u3059\u308b\u3088\u3046\u306b\u3057\u3061\u3083\u3063\u305f\u306e\u3067\u3001JUnit\u4ee5\u5916\u3067\u3082\u76ee\u6483\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u3061\u3087\u3063\u3068\u898b\u305f\u76ee\u3092\u3044\u3058\u308a\u307e\u3057\u305f\u3002\n\n(1)NavigationView\u304c\u958b\u3044\u305f\u6642\u306bWebView\u306eDrawingCache\u3092\u53d6\u5f97\u3057\u3066ImageView\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u3001\u305d\u306eImageView\u3092setVisibility(View.VISIBLE)\n\n(2)NavigationView\u304c\u9589\u3058\u305f\u6642\u306b\u305d\u306eImageView\u3092setVisibility(View.INVISIBLE)\n\n\u3068\u3084\u308a\u307e\u3057\u305f\u3002\nJUnit\u901a\u904e\u3055\u305b\u308b\u305f\u3081\u3060\u3051\u306a\u3089\u4e0d\u8981\u3067\u3059\u306d\u3002\n\n\u3053\u308c\u3067\u3001\u7121\u4e8b\u3001\u30b5\u30a4\u30c9\u30e1\u30cb\u30e5\u30fc\u958b\u9589\u30c6\u30b9\u30c8\u304c\u901a\u904e\u3057\u307e\u3057\u305f\u3002\n\u3084\u308c\u3084\u308c\u3002\n"}