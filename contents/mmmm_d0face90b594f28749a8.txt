{"context": "\n\n\u5229\u7528\u74b0\u5883\n\nRuby 2.1.2\naws-sdk 2.1.11\n\n\nGem\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngem 'aws-sdk'\n\n\nEC2\u306e\u64cd\u4f5c\n\nClient\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\n\u5404\u7a2eEC2\u306e\u64cd\u4f5c\u306f\u3001Client\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u5229\u7528\u3057\u3066\u884c\u3046\u3002\nrequire 'aws-sdk'\n\naccess_key =\"xxxxxxxxxxxxxxxxxxxxxxxxxxx\"\nsecret_key =\"xxxxxxxxxxxxxxxxxxxxxxxxxxx\"\nregion = \"ap-northeast-1\"\n\nclient = Aws::EC2::Client.new(\n    credentials: Aws::Credentials.new(access_key , secret_key),\n    region: region\n)\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u505c\u6b62\nclient.stop_instances({\n                               dry_run: false,\n                               instance_ids: [\"i-1234567\" ],\n                             })\n\n# \u505c\u6b62\u307e\u3067\u5f85\u3064\u30025\u79d2\u9593\u9694\u306715\u56de\nclient.wait_until(:instance_stopped, instance_ids: [ 'i-1234567']) do |waiter|\n      waiter.interval = 5 \n      waiter.max_attempts = 15\nend\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30bf\u30a4\u30d7\u306e\u5909\u66f4\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30bf\u30a4\u30d7\u3092\u6307\u5b9a\u3057\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u5909\u66f4\u3059\u308b\u3002\u5909\u66f4\u5bfe\u8c61\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\u505c\u6b62\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n# m1.small \u306b\u5909\u66f4\ninstance_type = Aws::EC2::Types::AttributeValue.new(value: \"m1.small\")\n\nclient.modify_instance_attribute({\n                                          dry_run: false,\n                                          instance_id: \"i-1234567\",\n                                          instance_type: instance_type,\n                                      })\n\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u958b\u59cb\nclient.start_instances({\n                               dry_run: false,\n                               instance_ids: [\"i-1234567\" ],\n                             })\n\n# \u8d77\u52d5\u307e\u3067\u5f85\u3064\u30025\u79d2\u9593\u9694\u306715\u56de\nclient.wait_until(:instance_running, instance_ids: [ 'i-1234567']) do |waiter|\n      waiter.interval = 5 \n      waiter.max_attempts = 15\nend\n\n## \u5229\u7528\u74b0\u5883\n\n- Ruby 2.1.2\n- aws-sdk 2.1.11\n\n## Gem\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```Gemfile\ngem 'aws-sdk'\n```\n\n## EC2\u306e\u64cd\u4f5c\n\n### Client\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\n\n\u5404\u7a2eEC2\u306e\u64cd\u4f5c\u306f\u3001Client\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u5229\u7528\u3057\u3066\u884c\u3046\u3002\n\n```\nrequire 'aws-sdk'\n\naccess_key =\"xxxxxxxxxxxxxxxxxxxxxxxxxxx\"\nsecret_key =\"xxxxxxxxxxxxxxxxxxxxxxxxxxx\"\nregion = \"ap-northeast-1\"\n\nclient = Aws::EC2::Client.new(\n    credentials: Aws::Credentials.new(access_key , secret_key),\n    region: region\n)\n```\n\n### \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u505c\u6b62\n\n```\nclient.stop_instances({\n                               dry_run: false,\n                               instance_ids: [\"i-1234567\" ],\n                             })\n\n# \u505c\u6b62\u307e\u3067\u5f85\u3064\u30025\u79d2\u9593\u9694\u306715\u56de\nclient.wait_until(:instance_stopped, instance_ids: [ 'i-1234567']) do |waiter|\n      waiter.interval = 5 \n      waiter.max_attempts = 15\nend\n```\n\n### \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30bf\u30a4\u30d7\u306e\u5909\u66f4\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30bf\u30a4\u30d7\u3092\u6307\u5b9a\u3057\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u5909\u66f4\u3059\u308b\u3002\u5909\u66f4\u5bfe\u8c61\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\u505c\u6b62\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n```\n# m1.small \u306b\u5909\u66f4\ninstance_type = Aws::EC2::Types::AttributeValue.new(value: \"m1.small\")\n\nclient.modify_instance_attribute({\n                                          dry_run: false,\n                                          instance_id: \"i-1234567\",\n                                          instance_type: instance_type,\n                                      })\n                                          \n```\n  \n### \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u958b\u59cb\n\n```\nclient.start_instances({\n                               dry_run: false,\n                               instance_ids: [\"i-1234567\" ],\n                             })\n\n# \u8d77\u52d5\u307e\u3067\u5f85\u3064\u30025\u79d2\u9593\u9694\u306715\u56de\nclient.wait_until(:instance_running, instance_ids: [ 'i-1234567']) do |waiter|\n      waiter.interval = 5 \n      waiter.max_attempts = 15\nend\n```\n", "tags": ["AWS", "Ruby", "aws-sdk"]}