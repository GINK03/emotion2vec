{"context": " More than 1 year has passed since last update.\n\n\u547c\u3073\u51fa\u3057\u5074\u3067\u5c5e\u6027\u6307\u5b9a\n\u547c\u3073\u51fa\u3057\u6642\u306b\u30cf\u30c3\u30b7\u30e5\u3092\u6e21\u3059\u3068\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u5024\u3092\u4e0a\u66f8\u304d\u3057\u3066\u30c7\u30fc\u30bf\u3092\u751f\u6210\u3067\u304d\u308b\n\nspec/factories/users.rb\nFactoryGirl.define do\n  factory :user do\n    name \"Isaac Newton\"\n    role \"physicist\"\n    gender \"male\"\n  end\nend\n\n\nuser = FactoryGirl.create(:user, name: \"Max Planck\")\nuser.name\n  # \"Max Planck\"\nuser.role\n  # \"physicist\"\nuser.gender\n  # \"male\"\n\n\n\u30cd\u30b9\u30c8\u306b\u3088\u308bfactory\u306e\u7d99\u627f\uff08inheritance\uff09\nfactory\u3092\u30cd\u30b9\u30c8\u3059\u308b\u3068\u89aa\u306e\u5c5e\u6027\u3092\u3059\u3079\u3066\u5f15\u304d\u7d99\u3044\u3060\u4e0a\u3067\u3001\u5b50\u306efactory\u3067\u6307\u5b9a\u3057\u305f\u5c5e\u6027\u3092\u4e0a\u66f8\u304d\u3057\u305f\u30c7\u30fc\u30bf\u3092\u751f\u6210\u3067\u304d\u308b.\n\nspec/factories/users.rb\nFactoryGirl.define do\n  factory :user do\n    name \"Isaac Newton\"\n    role \"physicist\"\n    gender \"male\"\n\n    factory :mathematician do\n      role \"mathematician\"\n    end\n\n    factory :woman do\n      gender \"female\"\n    end\n  end\nend\n\n\nuser = FactoryGirl.create(:user)\nuser.name\n  # \"Isaac Newton\"\nuser.role\n  # \"physicist\"\nuser.gender\n  # \"male\"\n\nmathematician = FactoryGirl.create(:mathematician)\nmathematician.name\n  # \"Isaac Newton\"\nmathematician.role\n  # \"mathematician\"\nmathematician.gender\n  # \"male\"\n\nwoman = FactoryGirl.create(:woman)\nwoman.name\n  # \"Isaac Newton\"\nwoman.role\n  # \"physicist\"\nwoman.gender\n  # \"female\"\n\n\nparent\u306b\u3088\u308bfactory\u306e\u7d99\u627f\uff08inheritance\uff09\n\u30cd\u30b9\u30c8\u306b\u3088\u308bfactory\u306e\u7d99\u627f\u306fparent\u5c5e\u6027\u3092\u4f7f\u3063\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u3082\u3067\u304d\u308b.\n\nspec/factories/users.rb\nFactoryGirl.define do\n  factory :user do\n    name \"Isaac Newton\"\n    role \"physicist\"\n    gender \"male\"\n  end\n\n  factory :mathematician, parent: :user do\n    role \"mathematician\"\n  end\n\n  factory :woman, parent: :user do\n    gender \"female\"\n  end\nend\n\n\nuser = FactoryGirl.create(:user)\nuser.name\n  # \"Isaac Newton\"\nuser.role\n  # \"physicist\"\nuser.gender\n  # \"male\"\n\nmathematician = FactoryGirl.create(:mathematician)\nmathematician.name\n  # \"Isaac Newton\"\nmathematician.role\n  # \"mathematician\"\nmathematician.gender\n  # \"male\"\n\nwoman = FactoryGirl.create(:woman)\nwoman.name\n  # \"Isaac Newton\"\nwoman.role\n  # \"physicist\"\nwoman.gender\n  # \"female\"\n\n\ntrait\n\u7d99\u627f\u306f\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u30d5\u30a1\u30af\u30c8\u30ea\u540d\u306e\u30e9\u30d9\u30eb(:user\u306a\u3069)\u304c\u65b0\u305f\u306b\u4f5c\u6210\u3055\u308c\u308b\u306e\u306b\u5bfe\u3057\u3066\u3001trait\u3067\u306f\u547c\u3073\u51fa\u3057\u5074\u3067trait\u540d\u3092\u6307\u5b9a\u3059\u308b. \u3088\u308a\u67d4\u8edf\u306b\u30d1\u30bf\u30fc\u30f3\u3092\u7db2\u7f85\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b.\n\nspec/factories/users.rb\nFactoryGirl.define do\n  factory :user do\n    name \"Isaac Newton\"\n    role \"physicist\"\n    gender \"male\"\n\n    trait :mathematician do\n      role \"mathematician\"\n    end\n\n    trait :professor do\n      role \"professor\"\n    end\n\n    trait :father do\n      role \"father\"\n      gender \"male\"\n    end\n\n    trait :mother do\n      role \"mother\"\n      gender \"female\"\n    end\n\n    trait :man do\n      gender \"male\"\n    end\n\n    trait :woman do\n      gender \"female\"\n    end\n  end\nend\n\n\n\u547c\u3073\u51fa\u3057\u6642\u306b\u7b2c\uff12\u5f15\u6570\u306btrait\u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\u305d\u306etrait\u30d6\u30ed\u30c3\u30af\u3067\u5c5e\u6027\u3092\u4e0a\u66f8\u304d\u3057\u305f\u30c7\u30fc\u30bf\u304c\u8fd4\u308b.\nFactoryGirl.create(:user, :mathematician).role\n  # \"mathematician\"\n\nmother = FactoryGirl.create(:user, :mother)\nmother.name\n  # \"Isaac Newton\"\nmother.role\n  # \"mother\"\nmother.gender\n  # \"female\"\n\ntrait\u306f\u8907\u6570\u6307\u5b9a\u3067\u304d\u3001\u5f8c\u306b\u6307\u5b9a\u3057\u305ftrait\u304c\u524d\u306e\u5c5e\u6027\u3092\u4e0a\u66f8\u304d\u3059\u308b\nuser = FactoryGirl.create(:user, :father, :woman)\nuser.name\n  # \"Isaac Newton\"\nuser.role\n  # \"father\"\nuser.gender\n  # \"female\"\n\n\ntrait\u3092\u7d44\u307f\u5408\u308f\u305b\u305ffactory\u3092\u4f5c\u6210\nfactory\u5b9a\u7fa9\u6642\u306btraits\u5c5e\u6027\u3067\u914d\u5217\u3092\u6e21\u305b\u3070trait\u3092\u7d44\u307f\u5408\u308f\u305b\u305ffactory\u3092\u4f5c\u6210\u3067\u304d\u308b.\n\nspec/factories/users.rb\nFactoryGirl.define do\n  factory :user do\n    name \"Isaac Newton\"\n    role \"physicist\"\n    gender \"male\"\n\n    trait :mathematician do\n      role \"mathematician\"\n    end\n\n    trait :professor do\n      role \"professor\"\n    end\n\n    trait :man do\n      gender \"male\"\n    end\n\n    trait :woman do\n      gender \"female\"\n    end\n  end\n\n  factory :newton_mathematician, traits: [:mathematician], parent: :user\n  factory :newton_professor, traits: [:professor], parent: :user\n  factory :newton_woman_professor, traits: [:professor, :woman], parent: :user\nend\n\n\nuser = FactoryGirl.create(:newton_mathematician)\nuser.name\n  # \"Isaac Newton\"\nuser.role\n  # \"mathematician\"\nuser.gender\n  # \"male\"\n\nuser = FactoryGirl.create(:newton_woman_professor)\nuser.name\n  # \"Isaac Newton\"\nuser.role\n  # \"professor\"\nuser.gender\n  # \"female\"\n\n\nConclusion\n\u5404\u5c5e\u6027\u306e\u30d1\u30bf\u30fc\u30f3\u306ftrait\u3067\u7528\u610f\u3057\u305d\u308c\u3089\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u304b\u3064\u7d99\u627f\u3092\u5229\u7528\u3057\u3066\u57fa\u672c\u7684\u306a\u30c7\u30fc\u30bf\u30d1\u30bf\u30fc\u30f3\u3092\u7db2\u7f85\u3057\u3001\u30ec\u30a2\u30b1\u30fc\u30b9\u3084\u6c4e\u7528\u6027\u306e\u306a\u3044\u30c7\u30fc\u30bf\u306f\u547c\u3073\u51fa\u3057\u5074\u3067\u7528\u610f\u3059\u308b\u3001\u3068\u3044\u3063\u305f\u4f7f\u3044\u65b9\u304c\u6709\u52b9\u305d\u3046.\n\u306a\u308b\u3079\u304f\u30c6\u30b9\u30c8\u8a08\u753b\u4e0a\u91cd\u8981\u306a\u30d1\u30bf\u30fc\u30f3\u3092trait\u3067\u4f5c\u6210\u3057\u305f\u3044.\n\nReferences\n\nhttps://github.com/thoughtbot/factory_girl/blob/master/GETTING_STARTED.md\n\n\nEnvironment\n% ruby -v\nruby 2.1.1p76 (2014-02-24 revision 45161) [x86_64-linux]\n\n% gem list factory_girl\n\n*** LOCAL GEMS ***\n\nfactory_girl (4.4.0)\nfactory_girl_rails (4.4.1)\n\n\n\n## \u547c\u3073\u51fa\u3057\u5074\u3067\u5c5e\u6027\u6307\u5b9a\n\n\u547c\u3073\u51fa\u3057\u6642\u306b\u30cf\u30c3\u30b7\u30e5\u3092\u6e21\u3059\u3068\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u5024\u3092\u4e0a\u66f8\u304d\u3057\u3066\u30c7\u30fc\u30bf\u3092\u751f\u6210\u3067\u304d\u308b\n\n```ruby:spec/factories/users.rb\nFactoryGirl.define do\n  factory :user do\n    name \"Isaac Newton\"\n    role \"physicist\"\n    gender \"male\"\n  end\nend\n```\n\n```\nuser = FactoryGirl.create(:user, name: \"Max Planck\")\nuser.name\n  # \"Max Planck\"\nuser.role\n  # \"physicist\"\nuser.gender\n  # \"male\"\n```\n\n## \u30cd\u30b9\u30c8\u306b\u3088\u308bfactory\u306e\u7d99\u627f\uff08inheritance\uff09\n\nfactory\u3092\u30cd\u30b9\u30c8\u3059\u308b\u3068\u89aa\u306e\u5c5e\u6027\u3092\u3059\u3079\u3066\u5f15\u304d\u7d99\u3044\u3060\u4e0a\u3067\u3001\u5b50\u306efactory\u3067\u6307\u5b9a\u3057\u305f\u5c5e\u6027\u3092\u4e0a\u66f8\u304d\u3057\u305f\u30c7\u30fc\u30bf\u3092\u751f\u6210\u3067\u304d\u308b.\n\n```ruby:spec/factories/users.rb\nFactoryGirl.define do\n  factory :user do\n    name \"Isaac Newton\"\n    role \"physicist\"\n    gender \"male\"\n\n    factory :mathematician do\n      role \"mathematician\"\n    end\n\n    factory :woman do\n      gender \"female\"\n    end\n  end\nend\n```\n\n```\nuser = FactoryGirl.create(:user)\nuser.name\n  # \"Isaac Newton\"\nuser.role\n  # \"physicist\"\nuser.gender\n  # \"male\"\n\nmathematician = FactoryGirl.create(:mathematician)\nmathematician.name\n  # \"Isaac Newton\"\nmathematician.role\n  # \"mathematician\"\nmathematician.gender\n  # \"male\"\n\nwoman = FactoryGirl.create(:woman)\nwoman.name\n  # \"Isaac Newton\"\nwoman.role\n  # \"physicist\"\nwoman.gender\n  # \"female\"\n```\n\n\n## parent\u306b\u3088\u308bfactory\u306e\u7d99\u627f\uff08inheritance\uff09\n\n\u30cd\u30b9\u30c8\u306b\u3088\u308bfactory\u306e\u7d99\u627f\u306fparent\u5c5e\u6027\u3092\u4f7f\u3063\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u3082\u3067\u304d\u308b.\n\n```ruby:spec/factories/users.rb\nFactoryGirl.define do\n  factory :user do\n    name \"Isaac Newton\"\n    role \"physicist\"\n    gender \"male\"\n  end\n\n  factory :mathematician, parent: :user do\n    role \"mathematician\"\n  end\n\n  factory :woman, parent: :user do\n    gender \"female\"\n  end\nend\n```\n\n```\nuser = FactoryGirl.create(:user)\nuser.name\n  # \"Isaac Newton\"\nuser.role\n  # \"physicist\"\nuser.gender\n  # \"male\"\n\nmathematician = FactoryGirl.create(:mathematician)\nmathematician.name\n  # \"Isaac Newton\"\nmathematician.role\n  # \"mathematician\"\nmathematician.gender\n  # \"male\"\n\nwoman = FactoryGirl.create(:woman)\nwoman.name\n  # \"Isaac Newton\"\nwoman.role\n  # \"physicist\"\nwoman.gender\n  # \"female\"\n```\n\n## trait\n\n\u7d99\u627f\u306f\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u30d5\u30a1\u30af\u30c8\u30ea\u540d\u306e\u30e9\u30d9\u30eb(:user\u306a\u3069)\u304c\u65b0\u305f\u306b\u4f5c\u6210\u3055\u308c\u308b\u306e\u306b\u5bfe\u3057\u3066\u3001trait\u3067\u306f\u547c\u3073\u51fa\u3057\u5074\u3067trait\u540d\u3092\u6307\u5b9a\u3059\u308b. \u3088\u308a\u67d4\u8edf\u306b\u30d1\u30bf\u30fc\u30f3\u3092\u7db2\u7f85\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b.\n\n```ruby:spec/factories/users.rb\nFactoryGirl.define do\n  factory :user do\n    name \"Isaac Newton\"\n    role \"physicist\"\n    gender \"male\"\n\n    trait :mathematician do\n      role \"mathematician\"\n    end\n    \n    trait :professor do\n      role \"professor\"\n    end\n    \n    trait :father do\n      role \"father\"\n      gender \"male\"\n    end\n    \n    trait :mother do\n      role \"mother\"\n      gender \"female\"\n    end\n\n    trait :man do\n      gender \"male\"\n    end\n    \n    trait :woman do\n      gender \"female\"\n    end\n  end\nend\n```\n\n\u547c\u3073\u51fa\u3057\u6642\u306b\u7b2c\uff12\u5f15\u6570\u306btrait\u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\u305d\u306etrait\u30d6\u30ed\u30c3\u30af\u3067\u5c5e\u6027\u3092\u4e0a\u66f8\u304d\u3057\u305f\u30c7\u30fc\u30bf\u304c\u8fd4\u308b.\n\n```\nFactoryGirl.create(:user, :mathematician).role\n  # \"mathematician\"\n\nmother = FactoryGirl.create(:user, :mother)\nmother.name\n  # \"Isaac Newton\"\nmother.role\n  # \"mother\"\nmother.gender\n  # \"female\"\n```\n\ntrait\u306f\u8907\u6570\u6307\u5b9a\u3067\u304d\u3001\u5f8c\u306b\u6307\u5b9a\u3057\u305ftrait\u304c\u524d\u306e\u5c5e\u6027\u3092\u4e0a\u66f8\u304d\u3059\u308b\n \n```\nuser = FactoryGirl.create(:user, :father, :woman)\nuser.name\n  # \"Isaac Newton\"\nuser.role\n  # \"father\"\nuser.gender\n  # \"female\"\n```\n\n## trait\u3092\u7d44\u307f\u5408\u308f\u305b\u305ffactory\u3092\u4f5c\u6210\n\nfactory\u5b9a\u7fa9\u6642\u306btraits\u5c5e\u6027\u3067\u914d\u5217\u3092\u6e21\u305b\u3070trait\u3092\u7d44\u307f\u5408\u308f\u305b\u305ffactory\u3092\u4f5c\u6210\u3067\u304d\u308b.\n\n```ruby:spec/factories/users.rb\nFactoryGirl.define do\n  factory :user do\n    name \"Isaac Newton\"\n    role \"physicist\"\n    gender \"male\"\n\n    trait :mathematician do\n      role \"mathematician\"\n    end\n    \n    trait :professor do\n      role \"professor\"\n    end\n\n    trait :man do\n      gender \"male\"\n    end\n    \n    trait :woman do\n      gender \"female\"\n    end\n  end\n\n  factory :newton_mathematician, traits: [:mathematician], parent: :user\n  factory :newton_professor, traits: [:professor], parent: :user\n  factory :newton_woman_professor, traits: [:professor, :woman], parent: :user\nend\n```\n\n```\nuser = FactoryGirl.create(:newton_mathematician)\nuser.name\n  # \"Isaac Newton\"\nuser.role\n  # \"mathematician\"\nuser.gender\n  # \"male\"\n\nuser = FactoryGirl.create(:newton_woman_professor)\nuser.name\n  # \"Isaac Newton\"\nuser.role\n  # \"professor\"\nuser.gender\n  # \"female\"\n```\n\n# Conclusion\n\n\u5404\u5c5e\u6027\u306e\u30d1\u30bf\u30fc\u30f3\u306ftrait\u3067\u7528\u610f\u3057\u305d\u308c\u3089\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u304b\u3064\u7d99\u627f\u3092\u5229\u7528\u3057\u3066\u57fa\u672c\u7684\u306a\u30c7\u30fc\u30bf\u30d1\u30bf\u30fc\u30f3\u3092\u7db2\u7f85\u3057\u3001\u30ec\u30a2\u30b1\u30fc\u30b9\u3084\u6c4e\u7528\u6027\u306e\u306a\u3044\u30c7\u30fc\u30bf\u306f\u547c\u3073\u51fa\u3057\u5074\u3067\u7528\u610f\u3059\u308b\u3001\u3068\u3044\u3063\u305f\u4f7f\u3044\u65b9\u304c\u6709\u52b9\u305d\u3046.\n\u306a\u308b\u3079\u304f\u30c6\u30b9\u30c8\u8a08\u753b\u4e0a\u91cd\u8981\u306a\u30d1\u30bf\u30fc\u30f3\u3092trait\u3067\u4f5c\u6210\u3057\u305f\u3044.\n\n\n# References\n\n* https://github.com/thoughtbot/factory_girl/blob/master/GETTING_STARTED.md\n\n# Environment\n\n```\n% ruby -v\nruby 2.1.1p76 (2014-02-24 revision 45161) [x86_64-linux]\n\n% gem list factory_girl\n\n*** LOCAL GEMS ***\n\nfactory_girl (4.4.0)\nfactory_girl_rails (4.4.1)\n```\n", "tags": ["FactoryGirl", "TDD", "Rails"]}