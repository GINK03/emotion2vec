{"context": "\n\n\u6982\u8981\nRedis\u3092CentOS\u306b\u5c0e\u5165\u3057\u3066\u3001\u52d5\u304b\u3057\u3066\u307f\u308b\nRedis(Remote dictionary server)\u3068\u306f\u3001\u30e1\u30e2\u30ea\u4e0a\u306bKey-Value\u30b9\u30c8\u30a2\uff08KVS\uff09\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u4e00\u3064\u3001\u3068\u306e\u3053\u3068\u3002 \u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406\u306b\u4f7f\u3046\u305f\u3081\u306e\u691c\u8a3c\u3068\u3057\u3066\u3001\u624b\u5143\u306eVagrant\u74b0\u5883\u306b\u5c0e\u5165\u3057\u3066\u307f\u308b\u3002\n\n\u74b0\u5883\n[vagrant@localhost ~]$ cat /etc/redhat-release\nCentOS release 6.7 (Final)\nRedis\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u304b\u3089\u3001\u4e00\u756a\u65b0\u3057\u304b\u3063\u305f\u300credis-3.2.0.tar.gz\u300d\u3068\u3057\u305f\u3002\nhttp://download.redis.io/releases/\n\n\u5c0e\u5165\n\n#GNU Compiler Collection\uff08gcc\uff09\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\n$ sudo yum install gcc\n\n$ cd /usr/local/src/\n\n$ sudo wget http://download.redis.io/releases/redis-3.2.0.tar.gz\n\n$ ls\n# tar xzf redis-3.2.0.tar.gz\n\n$ sudo tar xzf redis-3.2.0.tar.gz\n$ cd redis-3.2.0/\n\n$ sudo make\n$ sudo make install\n\n$ which redis-cli\n# /usr/local/bin/redis-cli \u5165\u3063\u305f\u266a\n\n$ sudo groupadd redis\n$ sudo useradd -s /sbin/nologin -M -g redis redis\n\n$ sudo mkdir /var/run/redis\n$ sudo chmod 755 /var/run/redis\n$ sudo chown redis:redis /var/run/redis\n\n$ sudo mkdir /var/log/redis\n$ sudo chmod 755 /var/log/redis\n$ sudo chown redis:redis /var/log/redis\n\n$ sudo mkdir /etc/redis\n$ sudo chown redis.redis /etc/redis\n$ sudo cp -p ./redis-3.2.0/redis.conf /etc/redis/redis.conf\n\n\n# \u3053\u3053\u306f\u305d\u306e\u307e\u307e\u53c2\u8003\u30b5\u30a4\u30c8\u306e\u3082\u306e\u3067\u3059 \uff01\n$ sudo vi /etc/redis/redis.conf\ndaemonize yes                         # \u30c7\u30fc\u30e2\u30f3\u8d77\u52d5\u306b\u3057\u307e\u3059\npidfile /var/run/redis/redis.pid      # redis \u30d7\u30ed\u30bb\u30b9\u756a\u53f7\u3092\u7ba1\u7406\u3059\u308b\u30d5\u30a1\u30a4\u30eb\nport 6379                             # \u8d77\u52d5\u30dd\u30fc\u30c8\nbind 127.0.0.1                        # \u63a5\u7d9a\u30b5\u30fc\u30d0\u306eIP\u5236\u9650\uff080.0.0.0=\u7121\u5236\u9650\uff09\nloglevel notice                       # \u30ed\u30b0\u51fa\u529b\u30ec\u30d9\u30eb\uff08debug/info/notice...\uff09\nlogfile \"/var/log/redis/redis.log\"    # \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\ndbfilename \"dump_redis.rdb\"           # RDB\uff08\u6c38\u7d9a\u6027\u62c5\u4fdd\u306e\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\uff09\u683c\u7d0d\u5148\ndir \"/var/run/redis\"                  # redis\u5b9f\u884c\u6642\u306e\u30ef\u30fc\u30af\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nrequirepass hoge                      # \u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u9069\u5f53\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\uff09\nmaxclients 1024                       # \u63a5\u7d9a\u6700\u5927\u6570\uff08ulimit -n \u3067\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff09\n\n# redis\u8d77\u52d5\n$ sudo -u redis sh -c \"/usr/local/bin/redis-server /etc/redis/redis.conf\"\n\n#redis\u306b\u63a5\u7d9a\n$ /usr/local/bin/redis-cli -p 6379\n127.0.0.1:6379> auth hoge\nOK\n127.0.0.1:6379> ping\nPONG\n127.0.0.1:6379> set aaaa bbbb\nOK\n127.0.0.1:6379> \n127.0.0.1:6379> get aaaa\n\"bbbb\"\n\n127.0.0.1:6379> exit\n\n\n\n\u53c2\u8003\n\u30fb\u30fb\u30fb\u53c2\u8003\u3001\u3068\u3044\u3046\u304b\u305d\u306e\u307e\u307e\u3067\u3059\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\nredis Setup\uff08redis\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\uff09\n\u8981\u4ef6\u304cElasticCache\u4e0a\u306eRedis\u5229\u7528\u3060\u3063\u305f\u306e\u3067\u3001\u4ee5\u4e0b\u3082\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\n\u30b9\u30c6\u30c3\u30d7 5: \u30af\u30e9\u30b9\u30bf\u30fc\u306e\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3059\u308b\nredis 2.0.3 documentation\n\u30b3\u30de\u30f3\u30c9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\n# \u6982\u8981\n\nRedis\u3092CentOS\u306b\u5c0e\u5165\u3057\u3066\u3001\u52d5\u304b\u3057\u3066\u307f\u308b\n\nRedis(Remote dictionary server)\u3068\u306f\u3001\u30e1\u30e2\u30ea\u4e0a\u306bKey-Value\u30b9\u30c8\u30a2\uff08KVS\uff09\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u4e00\u3064\u3001\u3068\u306e\u3053\u3068\u3002 \u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406\u306b\u4f7f\u3046\u305f\u3081\u306e\u691c\u8a3c\u3068\u3057\u3066\u3001\u624b\u5143\u306eVagrant\u74b0\u5883\u306b\u5c0e\u5165\u3057\u3066\u307f\u308b\u3002\n\n\n# \u74b0\u5883\n[vagrant@localhost ~]$ cat /etc/redhat-release\nCentOS release 6.7 (Final)\n\nRedis\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u304b\u3089\u3001\u4e00\u756a\u65b0\u3057\u304b\u3063\u305f\u300credis-3.2.0.tar.gz\u300d\u3068\u3057\u305f\u3002\nhttp://download.redis.io/releases/\n\n# \u5c0e\u5165\n\n```shell-session\n\n#GNU Compiler Collection\uff08gcc\uff09\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\n$ sudo yum install gcc\n\n$ cd /usr/local/src/\n\n$ sudo wget http://download.redis.io/releases/redis-3.2.0.tar.gz\n\n$ ls\n# tar xzf redis-3.2.0.tar.gz\n\n$ sudo tar xzf redis-3.2.0.tar.gz\n$ cd redis-3.2.0/\n\n$ sudo make\n$ sudo make install\n\n$ which redis-cli\n# /usr/local/bin/redis-cli \u5165\u3063\u305f\u266a\n\n$ sudo groupadd redis\n$ sudo useradd -s /sbin/nologin -M -g redis redis\n\n$ sudo mkdir /var/run/redis\n$ sudo chmod 755 /var/run/redis\n$ sudo chown redis:redis /var/run/redis\n\n$ sudo mkdir /var/log/redis\n$ sudo chmod 755 /var/log/redis\n$ sudo chown redis:redis /var/log/redis\n\n$ sudo mkdir /etc/redis\n$ sudo chown redis.redis /etc/redis\n$ sudo cp -p ./redis-3.2.0/redis.conf /etc/redis/redis.conf\n\n\n# \u3053\u3053\u306f\u305d\u306e\u307e\u307e\u53c2\u8003\u30b5\u30a4\u30c8\u306e\u3082\u306e\u3067\u3059 \uff01\n$ sudo vi /etc/redis/redis.conf\ndaemonize yes                         # \u30c7\u30fc\u30e2\u30f3\u8d77\u52d5\u306b\u3057\u307e\u3059\npidfile /var/run/redis/redis.pid      # redis \u30d7\u30ed\u30bb\u30b9\u756a\u53f7\u3092\u7ba1\u7406\u3059\u308b\u30d5\u30a1\u30a4\u30eb\nport 6379                             # \u8d77\u52d5\u30dd\u30fc\u30c8\nbind 127.0.0.1                        # \u63a5\u7d9a\u30b5\u30fc\u30d0\u306eIP\u5236\u9650\uff080.0.0.0=\u7121\u5236\u9650\uff09\nloglevel notice                       # \u30ed\u30b0\u51fa\u529b\u30ec\u30d9\u30eb\uff08debug/info/notice...\uff09\nlogfile \"/var/log/redis/redis.log\"    # \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\ndbfilename \"dump_redis.rdb\"           # RDB\uff08\u6c38\u7d9a\u6027\u62c5\u4fdd\u306e\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\uff09\u683c\u7d0d\u5148\ndir \"/var/run/redis\"                  # redis\u5b9f\u884c\u6642\u306e\u30ef\u30fc\u30af\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nrequirepass hoge                      # \u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u9069\u5f53\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\uff09\nmaxclients 1024                       # \u63a5\u7d9a\u6700\u5927\u6570\uff08ulimit -n \u3067\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff09\n\n# redis\u8d77\u52d5\n$ sudo -u redis sh -c \"/usr/local/bin/redis-server /etc/redis/redis.conf\"\n\n#redis\u306b\u63a5\u7d9a\n$ /usr/local/bin/redis-cli -p 6379\n127.0.0.1:6379> auth hoge\nOK\n127.0.0.1:6379> ping\nPONG\n127.0.0.1:6379> set aaaa bbbb\nOK\n127.0.0.1:6379> \n127.0.0.1:6379> get aaaa\n\"bbbb\"\n\n127.0.0.1:6379> exit\n\n```\n\n\n\n# \u53c2\u8003\n\u30fb\u30fb\u30fb\u53c2\u8003\u3001\u3068\u3044\u3046\u304b\u305d\u306e\u307e\u307e\u3067\u3059\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n[redis Setup\uff08redis\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\uff09](https://github.com/kurosawatsuyoshi/doshelper/wiki/1.-redis-Setup%EF%BC%88redis%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97%EF%BC%89)\n\n\u8981\u4ef6\u304cElasticCache\u4e0a\u306eRedis\u5229\u7528\u3060\u3063\u305f\u306e\u3067\u3001\u4ee5\u4e0b\u3082\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\n[\u30b9\u30c6\u30c3\u30d7 5: \u30af\u30e9\u30b9\u30bf\u30fc\u306e\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3059\u308b](https://docs.aws.amazon.com/ja_jp/AmazonElastiCache/latest/UserGuide/GettingStarted.ConnectToCacheNode.html)\n\nredis 2.0.3 documentation\n[\u30b3\u30de\u30f3\u30c9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9](http://redis.shibu.jp/commandreference/)\n", "tags": ["Linux", "Redis", "CentOS", "install"]}