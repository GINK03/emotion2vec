{"context": "DISTINCT\u3068row_number\u3092\u5408\u308f\u305b\u3066\u4f7f\u3046\u3068DISINCT\u306e\u524d\u306brow_number\u304c\u884c\u308f\u308c\u308b\u305f\u3081\u304b\u3001\u540c\u3058\u30ec\u30b3\u30fc\u30c9\u3067\u9055\u3046\u9023\u756a\u304c\u632f\u3089\u308c\u3066\u3057\u307e\u3046\u3002\n\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30c6\u30fc\u30d6\u30eb\u304c\u3042\u3063\u305f\u3068\u3057\u3066\u3001section\u3068\u305d\u306e\u9023\u756a\u3092\u53d6\u5f97\u3057\u305f\u3044\u3068\u3059\u308b\u3002\nStaff\n\n\n\nsection\ndepartment\nid\n\n\n\n\nA\n1\n001\n\n\nA\n2\n002\n\n\nB\n1\n003\n\n\nB\n2\n004\n\n\n\nSQL\u306f\u3053\u3093\u306a\u611f\u3058\u3002\nSELECT DISTINCT\n       section\n     , row_number() OVER (PARTISION BY section\n                          ORDER BY section) section_cnt\n  FROM Staff\n\n\u4e0a\u8a18\u306eSQL\u3060\u3068\u3001DISTINCT\u3092\u5b9f\u884c\u3059\u308b\u524d\u306brow_number\u304c\u5b9f\u884c\u3055\u308c\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u691c\u7d22\u7d50\u679c\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n\n\n\nsection\nsection_cnt\n\n\n\n\nA\n1\n\n\nA\n2\n\n\nB\n1\n\n\nB\n2\n\n\n\n\u672c\u5f53\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u691c\u7d22\u3057\u305f\u3044\u3002\n\n\n\nsection\nsection_cnt\n\n\n\n\nA\n1\n\n\nB\n2\n\n\n\n\u4e00\u65e6\u3001DISTINCT\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u304b\u3089\u9023\u756a\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u3067\u3001\u91cd\u8907\u3092\u6392\u9664\u3057\u305f\u5f8c\u306e\u9023\u756a\u304c\u53d6\u5f97\u3067\u304d\u308b\u3002\nSELECT T1.section\n     , row_number() OVER (PARTISION BY T1.section\n                          ORDER BY T1.section) section_cnt\n  FROM (SELECT DISTINCT\n               section\n          FROM Staff\n       ) T1\n\nDISTINCT\u3068row_number\u3092\u5408\u308f\u305b\u3066\u4f7f\u3046\u3068DISINCT\u306e\u524d\u306brow_number\u304c\u884c\u308f\u308c\u308b\u305f\u3081\u304b\u3001\u540c\u3058\u30ec\u30b3\u30fc\u30c9\u3067\u9055\u3046\u9023\u756a\u304c\u632f\u3089\u308c\u3066\u3057\u307e\u3046\u3002\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30c6\u30fc\u30d6\u30eb\u304c\u3042\u3063\u305f\u3068\u3057\u3066\u3001section\u3068\u305d\u306e\u9023\u756a\u3092\u53d6\u5f97\u3057\u305f\u3044\u3068\u3059\u308b\u3002\n\nStaff\n\n|section  |department  |id |\n|---|---|---|\n|A  |1  |001|\n|A  |2  |002|\n|B  |1  |003|\n|B  |2  |004|\n\n\nSQL\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\n```\nSELECT DISTINCT\n       section\n     , row_number() OVER (PARTISION BY section\n                          ORDER BY section) section_cnt\n  FROM Staff\n```\n\n\n\u4e0a\u8a18\u306eSQL\u3060\u3068\u3001DISTINCT\u3092\u5b9f\u884c\u3059\u308b\u524d\u306brow_number\u304c\u5b9f\u884c\u3055\u308c\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u691c\u7d22\u7d50\u679c\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n\n|section  |section_cnt |\n|---|---|\n|A  |1  |\n|A  |2  |\n|B  |1  |\n|B  |2  |\n\n\u672c\u5f53\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u691c\u7d22\u3057\u305f\u3044\u3002\n\n|section  |section_cnt |\n|---|---|\n|A  |1  |\n|B  |2  |\n\n\n\n\u4e00\u65e6\u3001DISTINCT\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u304b\u3089\u9023\u756a\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u3067\u3001\u91cd\u8907\u3092\u6392\u9664\u3057\u305f\u5f8c\u306e\u9023\u756a\u304c\u53d6\u5f97\u3067\u304d\u308b\u3002\n\n```\nSELECT T1.section\n     , row_number() OVER (PARTISION BY T1.section\n                          ORDER BY T1.section) section_cnt\n  FROM (SELECT DISTINCT\n               section\n          FROM Staff\n       ) T1\n```\n", "tags": ["oracle", "SQL"]}