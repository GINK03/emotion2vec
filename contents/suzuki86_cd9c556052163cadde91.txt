{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nTravis CI \u3067 GUI \u3092\u5229\u7528\u3057\u306a\u3044 Firefox \u3092\u4f7f\u3063\u3066\u30a8\u30f3\u30c9\u30c4\u30fc\u30a8\u30f3\u30c9\u30c6\u30b9\u30c8\u3059\u308b\u65b9\u6cd5\u3092\u8abf\u3079\u307e\u3057\u305f\u3002\n\n\u52d5\u4f5c\u8a66\u9a13\n.travis.yml \u3067\u306f before_script \u3067\u95a2\u9023\u3059\u308b gem \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068 Xvfb \u306e\u8d77\u52d5\u3092\u884c\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f \u30d6\u30e9\u30a6\u30b6\u306e\u81ea\u52d5\u64cd\u4f5c\u306b watir-webdriver \u3092\u4f7f\u3044\u307e\u3059\u3002Xvfb \u306e\u8d77\u52d5\u65b9\u6cd5\u306f Travis CI \u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u5f93\u3044\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\ntravis.yml\nlanguage: ruby\nbefore_script:\n  - \"gem install rspec\"\n  - \"gem install headless\"\n  - \"gem install watir-webdriver\"\n  - \"export DISPLAY=:99.0\"\n  - \"sh -e /etc/init.d/xvfb start\"\nscript:\n  - \"rspec\"\n\n\n\u4e0b\u8a18\u306f Travis CI \u3067 Firefox \u3092\u8d77\u52d5\u3057\u3066 Qiita \u306e\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u30bf\u30a4\u30c8\u30eb\u304c\u6b63\u3057\u3044\u304b\u78ba\u304b\u3081\u308b\u30c6\u30b9\u30c8\u3067\u3059\u3002(Travis CI \u304b\u3089 Qiita \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u30bf\u30a4\u30c8\u30eb\u304c\u82f1\u8a9e\u306b\u306a\u308b\u3088\u3046\u3067\u3059\u3002)\n\nspec/e2e_spec.rb\n# encoding: utf-8\n\nrequire 'watir-webdriver'\nrequire 'headless'\n\ndescribe \"qiita.com\" do\n  before do\n    @headless = Headless.new\n    @headless.start\n    @browser = Watir::Browser.new :ff\n  end\n  it \"has valid title\" do\n    @browser.goto \"http://qiita.com\"\n    expect(@browser.title).to eq(\"Qiita - A technical knowledge sharing platform for programmers.\")\n  end\n  after do\n    @browser.quit\n    @headless.destroy\n  end\nend\n\n\nTravis CI \u306b\u3066\u30c6\u30b9\u30c8\u304c\u30d1\u30b9\u3059\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n$ rspec\n.\nFinished in 30.14 seconds (files took 0.24446 seconds to load)\n1 example, 0 failures\n\n\u4e0a\u8a18\u306e\u52d5\u4f5c\u8a66\u9a13\u3092\u884c\u3063\u305f GitHub \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u3059\u3002\nhttps://github.com/suzuki86/sample-of-using-headless-firefox-on-travisci\nTravis CI \u3067\u306e\u5b9f\u884c\u7d50\u679c\u3067\u3059\u3002\nhttps://travis-ci.org/suzuki86/sample-of-using-headless-firefox-on-travisci\n## \u6982\u8981\n\nTravis CI \u3067 GUI \u3092\u5229\u7528\u3057\u306a\u3044 Firefox \u3092\u4f7f\u3063\u3066\u30a8\u30f3\u30c9\u30c4\u30fc\u30a8\u30f3\u30c9\u30c6\u30b9\u30c8\u3059\u308b\u65b9\u6cd5\u3092\u8abf\u3079\u307e\u3057\u305f\u3002\n\n## \u52d5\u4f5c\u8a66\u9a13\n\n`.travis.yml` \u3067\u306f `before_script` \u3067\u95a2\u9023\u3059\u308b gem \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068 Xvfb \u306e\u8d77\u52d5\u3092\u884c\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f \u30d6\u30e9\u30a6\u30b6\u306e\u81ea\u52d5\u64cd\u4f5c\u306b watir-webdriver \u3092\u4f7f\u3044\u307e\u3059\u3002Xvfb \u306e\u8d77\u52d5\u65b9\u6cd5\u306f Travis CI \u306e[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](http://docs.travis-ci.com/user/gui-and-headless-browsers/#Using-xvfb-to-Run-Tests-That-Require-GUI-(e.g.-a-Web-browser))\u306b\u5f93\u3044\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```.travis.yml\nlanguage: ruby\nbefore_script:\n  - \"gem install rspec\"\n  - \"gem install headless\"\n  - \"gem install watir-webdriver\"\n  - \"export DISPLAY=:99.0\"\n  - \"sh -e /etc/init.d/xvfb start\"\nscript:\n  - \"rspec\"\n```\n\n\u4e0b\u8a18\u306f Travis CI \u3067 Firefox \u3092\u8d77\u52d5\u3057\u3066 Qiita \u306e\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u30bf\u30a4\u30c8\u30eb\u304c\u6b63\u3057\u3044\u304b\u78ba\u304b\u3081\u308b\u30c6\u30b9\u30c8\u3067\u3059\u3002(Travis CI \u304b\u3089 Qiita \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u30bf\u30a4\u30c8\u30eb\u304c\u82f1\u8a9e\u306b\u306a\u308b\u3088\u3046\u3067\u3059\u3002)\n\n```spec/e2e_spec.rb\n# encoding: utf-8\n\nrequire 'watir-webdriver'\nrequire 'headless'\n\ndescribe \"qiita.com\" do\n  before do\n    @headless = Headless.new\n    @headless.start\n    @browser = Watir::Browser.new :ff\n  end\n  it \"has valid title\" do\n    @browser.goto \"http://qiita.com\"\n    expect(@browser.title).to eq(\"Qiita - A technical knowledge sharing platform for programmers.\")\n  end\n  after do\n    @browser.quit\n    @headless.destroy\n  end\nend\n```\n\nTravis CI \u306b\u3066\u30c6\u30b9\u30c8\u304c\u30d1\u30b9\u3059\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\n```\n$ rspec\n.\nFinished in 30.14 seconds (files took 0.24446 seconds to load)\n1 example, 0 failures\n```\n\n\u4e0a\u8a18\u306e\u52d5\u4f5c\u8a66\u9a13\u3092\u884c\u3063\u305f GitHub \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u3059\u3002\nhttps://github.com/suzuki86/sample-of-using-headless-firefox-on-travisci\n\nTravis CI \u3067\u306e\u5b9f\u884c\u7d50\u679c\u3067\u3059\u3002\nhttps://travis-ci.org/suzuki86/sample-of-using-headless-firefox-on-travisci\n", "tags": ["TravisCI", "testing", "Ruby", "RSpec", "watir-webdriver"]}