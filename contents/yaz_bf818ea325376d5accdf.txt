{"context": " More than 1 year has passed since last update.\n\n\uff11\uff0e\u306f\u3058\u3081\u306b\n\u3061\u3087\u3063\u3068\u9593\u304c\u7a7a\u304d\u307e\u3057\u305f\u304c\uff0c\u76f8\u5909\u308f\u3089\u305aCaveman2\u3092\u3044\u3058\u3063\u3066\u307e\u3059\u3002\n\u4eca\u56de\u306fDB\uff0cMySQL\u3092\u4f7f\u304a\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\uff12\uff0e\u6e96\u5099\n\n\uff12\uff0e\uff11\uff0e\u74b0\u5883\nMax OS X 10.10.1\uff0cClozure Common Lisp 1.10\uff0cMySQL 5.6.21\u3067\u3084\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\uff12\uff0e\uff11\uff0eMySQL\n\u9069\u5f53\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u308a\u307e\u3059\u3002\n\nmyappdb.sql\nCREATE SCHEMA IF NOT EXISTS `myappdb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;\n\nGRANT ALL PRIVILEGES ON `myappdb`.* TO `yazc`@`localhost` IDENTIFIED BY 'pass';\nGRANT ALL PRIVILEGES ON `myappdb`.* TO `yazc`@`127.0.0.1` IDENTIFIED BY 'pass';\n\nCREATE TABLE IF NOT EXISTS `myappdb`.`books` (\n  `BookID` VARCHAR(45) NOT NULL,\n  `ISBN13` VARCHAR(17) NULL,\n  `ISBN10` VARCHAR(13) NULL,\n  `Title` VARCHAR(45) NULL,\n  `Words` double NULL,\n  PRIMARY KEY (`BookID`))\nENGINE = InnoDB DEFAULT CHARSET=utf8;\n\nCREATE TABLE IF NOT EXISTS `myappdb`.`user` (\n  `UserID` VARCHAR(45) NOT NULL,\n  `Name` VARCHAR(45) NULL,\n  `Password` VARCHAR(128) NULL,\n  `Mail` VARCHAR(45) NULL,\n  `Phone` VARCHAR(45) NULL,\n  PRIMARY KEY (`UserID`))\nENGINE = InnoDB DEFAULT CHARSET=utf8;\n\nINSERT INTO `myappdb`.`books` (`BookID`, `ISBN13`, `ISBN10`, `Title`) VALUES\n(1, '9784798119410', '4798119415', '\u521d\u3081\u3066\u306e\u4eba\u306e\u305f\u3081\u306eLISP[\u5897\u88dc\u6539\u8a02\u7248]'),\n(2, '9784320122543', '4320122542', 'Common Lisp \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b7\u30b9\u30c6\u30e0');\n\n\n\n\uff13\uff0eCaveman2\u304b\u3089MySQL\u3078\n\n\uff13\uff0e\uff11\uff0econfig.lisp\nconfig.lisp\u306e\u4e2d\u8eab\u304c\u4eca\u3072\u3068\u3064\u7406\u89e3\u51fa\u6765\u3066\u307e\u305b\u3093\u2026\n\u5171\u901a\u306e\u8a2d\u5b9a\u306f:common\u3068|default|\u306e\u3069\u3063\u3061\u306b\u66f8\u3051\u3070\u3044\u3044\u3093\u3060\u308d\u3046\uff1f\n\u3068\u308a\u3042\u3048\u305a:common\u306e\u65b9\u306b\u9069\u5f53\u306b\u66f8\u304d\u307e\u3057\u305f\u3002\u5f8c\u3067\u3061\u3083\u3093\u3068\u8abf\u3079\u307e\u3059\u3002\n\nconfig.lisp\n(defconfig :common\n    `(:error-log ,(merge-pathnames #P\"log/common_error.log\" myapp.config::*application-root*)\n      :databases ((:maindb :mysql :database-name \"myappdb\" :username \"yazc\" :password \"pass\"))))\n\n\n\n\uff13\uff0e\uff12\uff0edb.lisp\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u51fa\u6765\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n(defun test01 ()\n  (with-connection (db)\n    (datafly:retrieve-all\n     (sxql:select :*\n       (sxql:from :books)))))\n\nCL-USER> (in-package :myapp.db)\n#<Package \"MYAPP.DB\">\nDB> (connection-settings)\n(:MYSQL :DATABASE-NAME \"myappdb\" :USERNAME \"yazc\" :PASSWORD \"pass\")\nDB> (db)\nTo load \"dbd-mysql\":\n  Load 1 ASDF system:\n    dbd-mysql\n; Loading \"dbd-mysql\"\n\n#<DBD.MYSQL:<DBD-MYSQL-CONNECTION> #x302003B6EF1D>\nDB> (test01)\n((:BOOKID 1 :ISBN13 \"9784798119410\" :ISBN10 \"4798119415\" :TITLE \"?????????LISP[?????]\" :WORDS NIL) (:BOOKID 2 :ISBN13 \"9784320122543\" :ISBN10 \"4320122542\" :TITLE \"Common Lisp ??????????\" :WORDS NIL))\n\n\u300e??\u300f\u3092\u898b\u308b\u3068\u5acc\u306a\u8a18\u61b6\u304c\u8607\u308a\u307e\u3059\u3002\n\u3061\u3087\u3063\u3068\u524d\u306b\u3082\u7ba1\u7406\u8005\u4e0d\u5728\u306b\u306a\u3063\u305fPHP\u306e\u30bd\u30fc\u30b9\u3044\u3058\u3063\u3066\u3066\u6587\u5b57\u30b3\u30fc\u30c9\u3067\u306f\u307e\u308a\u307e\u3057\u305f\u3057\u2026(~_~;\n\u3068\u308a\u3042\u3048\u305a\u6df1\u753a\u3055\u3093\u306e\u30d6\u30ed\u30b0\u3092\u53c2\u8003\u306b\u51e6\u7406\u7cfb\u5074\u306e\u6587\u5b57\u30b3\u30fc\u30c9\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\uff08\u4f55\u304b\u898b\u305f\u3053\u3068\u3042\u308b\u8a18\u4e8b\u3060\u306a\u3068\u601d\u3063\u3066\uff0c\u5f8c\u3067ccl-init.lisp\u898b\u305f\u3089\u8a18\u4e8b\u305d\u306e\u307e\u307e\u306eUTF-8\u306e\u8a2d\u5b9a\u66f8\u3044\u3066\u3042\u308a\u307e\u3057\u305f\u3002\uff09\nDB> ccl:*default-external-format*\n#<EXTERNAL-FORMAT :UTF-8/:UNIX #x3020003952FD>\nDB> ccl:*default-file-character-encoding*\n:UTF-8\nDB> ccl:*default-socket-character-encoding*\n:UTF-8\n\n\u3042\u308c\u2026UTF-8\u3060\u3088\u306a\u3042\u2026\u4f55\u3067\u6587\u5b57\u5316\u3051\u3059\u308b\u3093\u3060\u308d\u2026\n\u3068\n\u66ab\u304f\u60a9\u3093\u3060\u672b\u306bMac\u3067my.conf\u3044\u3058\u3063\u305f\u899a\u3048\u306a\u3044\u306e\u3092\u601d\u3044\u51fa\u3057\u307e\u3057\u305f\u2026\nLAMP\u3060\u3068\u6700\u521d\u306b\u8a2d\u5b9a\u3059\u308b\u306e\u3067\u5b8c\u5168\u306b\u5fd8\u308c\u3066\u307e\u3057\u305f(-_-;\n\u5ff5\u306e\u305f\u3081\u6587\u5b57\u30b3\u30fc\u30c9\u78ba\u8a8d\u3002\nmysql> show variables like 'character_set%';\n+--------------------------+--------------------------------------------------------+\n| Variable_name            | Value                                                  |\n+--------------------------+--------------------------------------------------------+\n| character_set_client     | utf8                                                   |\n| character_set_connection | utf8                                                   |\n| character_set_database   | latin1                                                 |\n| character_set_filesystem | binary                                                 |\n| character_set_results    | utf8                                                   |\n| character_set_server     | latin1                                                 |\n| character_set_system     | utf8                                                   |\n| character_sets_dir       | /usr/local/mysql-5.6.21-osx10.8-x86_64/share/charsets/ |\n+--------------------------+--------------------------------------------------------+\n\n\u3060\u3081\u3067\u3059\u306d\u3002\n$ mysql -help\u3067my.cnf\u306e\u4f4d\u7f6e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nDefault options are read from the following files in the given order:\n/etc/my.cnf /etc/mysql/my.cnf /usr/local/mysql/etc/my.cnf /usr/local/mysql/bin/my.cnf ~/.my.cnf\n\n/usr/local/mysql/my.cnf\u306f\u3042\u308b\u306e\u3067/usr/local/mysql/bin/my.cnf\u306b\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u5f35\u308a\u307e\u3059\u3002\n$ sudo ln -fs my.cnf bin/my.cnf\nmy.cnf`\u306b\u4ee5\u4e0b\u306e\u8a18\u8ff0\u3092\u8ffd\u52a0\u3002\n[client]\ndefault-character-set=utf8\n[mysqld]\nskip-character-set-client-handshake\ncharacter-set-server = utf8\ncollation-server = utf8_general_ci\n[mysqldump]\ndefault-character-set = utf8\n[mysql]\ndefault-character-set = utf8\n\n\u3082\u3046\u4e00\u56de\u6587\u5b57\u30b3\u30fc\u30c9\u306e\u78ba\u8a8d\u3002\nmysql> show variables like 'character_set%';\n+--------------------------+--------------------------------------------------------+\n| Variable_name            | Value                                                  |\n+--------------------------+--------------------------------------------------------+\n| character_set_client     | utf8                                                   |\n| character_set_connection | utf8                                                   |\n| character_set_database   | utf8                                                   |\n| character_set_filesystem | binary                                                 |\n| character_set_results    | utf8                                                   |\n| character_set_server     | utf8                                                   |\n| character_set_system     | utf8                                                   |\n| character_sets_dir       | /usr/local/mysql-5.6.21-osx10.8-x86_64/share/charsets/ |\n+--------------------------+--------------------------------------------------------+\n\n\u3053\u308c\u3067\u3069\u3046\u3060\u308d\u3046\uff1f\nDB> (connection-settings)\n(:MYSQL :DATABASE-NAME \"myappdb\" :USERNAME \"yazc\" :PASSWORD \"pass\")\nDB> (db)\n#<DBD.MYSQL:<DBD-MYSQL-CONNECTION> #x302003C1E1DD>\nDB> (test01)\n((:BOOKID 1 :ISBN13 \"9784798119410\" :ISBN10 \"4798119415\" :TITLE \"\u521d\u3081\u3066\u306e\u4eba\u306e\u305f\u3081\u306eLISP[\u5897\u88dc\u6539\u8a02\u7248]\" :WORDS NIL) (:BOOKID 2 :ISBN13 \"9784320122543\" :ISBN10 \"4320122542\" :TITLE \"Common Lisp \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b7\u30b9\u30c6\u30e0\" :WORDS NIL))\n\n\u3084\u3063\u305f\u30fc^^\n\n\uff14\uff0e\u308f\u304b\u3063\u3066\u306a\u3044\u3053\u3068\n\u30e6\u30fc\u30b6\u8a8d\u8a3c\u3068\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u5468\u308a\u3092Caveman2\u3067\u3069\u3046\u3059\u308b\u304b\u826f\u304f\u308f\u304b\u3063\u3066\u307e\u305b\u3093\u3002\nClack\u306e\u30bd\u30fc\u30b9\u3068\u304b\u3061\u3083\u3093\u3068\u8aad\u3081\u3070\u826f\u3044\u306e\u3060\u308d\u3046\u3068\u601d\u3046\u306e\u3067\u3059\u304c\uff0c\u307e\u3060\u5b66\u7fd2\u304c\u8ffd\u3044\u3064\u3044\u3066\u307e\u305b\u3093\u3002\n\uff08clack.middleware.auth.basic\u3042\u305f\u308a\uff1f\uff09\n\u57fa\u790e\u77e5\u8b58\u304c\u8db3\u3089\u306a\u3044\u3088\u3046\u306a\u611f\u3058\u304c\u3057\u3066\u304d\u305f\u306e\u3067\u3053\u306e\u8fba\u3068\u304b\u898b\u306a\u304c\u3089\u52c9\u5f37\u4e2d\u3002\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u4fdd\u5b58\u306b\u306fSHA512\u4f7f\u3044\u305f\u3044\u3067\u3059\u3002\u65e5\u672c\u8a9e\u304c\u5165\u3063\u3066\u554f\u984c\u306a\u3044\u3088\u3046\u306b\u3082\u3057\u305f\u3044\u3002\n\nsha512\n(defun strings->sha512-hex-strings (strings)\n  (ironclad:byte-array-to-hex-string\n   (ironclad:digest-sequence\n    :sha512\n    (flexi-streams:string-to-octets strings :external-format :utf8))))\n\n\nDB> (strings->sha512-hex-strings \"\")\n\"cf83e1357eefb8bdf1542850d66d8007d620e4050b5715dc83f4a921d36ce9ce47d0d13c5d85f2b0ff8318d2877eec2f63b931bd47417a81a538327af927da3e\"\nDB> (strings->sha512-hex-strings \"\u672c\u65e5\u30cf\u6674\u5929\u30ca\u30ea\")\n\"fb1edff0663cb087d4a079ee9b4149b71e4a0965d61cdffe976158f7178c51003cc3a51ca47cf5c803409d88e4f68f16e538783e753794bd6c2b74160f239ca3\"\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3002\n\u4e0a\u624b\u304f\u884c\u304f\u3060\u308d\u3046\u304b\u2026\n##\uff11\uff0e\u306f\u3058\u3081\u306b##\n\u3061\u3087\u3063\u3068\u9593\u304c\u7a7a\u304d\u307e\u3057\u305f\u304c\uff0c\u76f8\u5909\u308f\u3089\u305aCaveman2\u3092\u3044\u3058\u3063\u3066\u307e\u3059\u3002\n\u4eca\u56de\u306fDB\uff0cMySQL\u3092\u4f7f\u304a\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n##\uff12\uff0e\u6e96\u5099##\n###\uff12\uff0e\uff11\uff0e\u74b0\u5883###\nMax OS X 10.10.1\uff0cClozure Common Lisp 1.10\uff0cMySQL 5.6.21\u3067\u3084\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n###\uff12\uff0e\uff11\uff0eMySQL###\n\u9069\u5f53\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n```sql:myappdb.sql\nCREATE SCHEMA IF NOT EXISTS `myappdb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;\n\nGRANT ALL PRIVILEGES ON `myappdb`.* TO `yazc`@`localhost` IDENTIFIED BY 'pass';\nGRANT ALL PRIVILEGES ON `myappdb`.* TO `yazc`@`127.0.0.1` IDENTIFIED BY 'pass';\n\nCREATE TABLE IF NOT EXISTS `myappdb`.`books` (\n  `BookID` VARCHAR(45) NOT NULL,\n  `ISBN13` VARCHAR(17) NULL,\n  `ISBN10` VARCHAR(13) NULL,\n  `Title` VARCHAR(45) NULL,\n  `Words` double NULL,\n  PRIMARY KEY (`BookID`))\nENGINE = InnoDB DEFAULT CHARSET=utf8;\n\nCREATE TABLE IF NOT EXISTS `myappdb`.`user` (\n  `UserID` VARCHAR(45) NOT NULL,\n  `Name` VARCHAR(45) NULL,\n  `Password` VARCHAR(128) NULL,\n  `Mail` VARCHAR(45) NULL,\n  `Phone` VARCHAR(45) NULL,\n  PRIMARY KEY (`UserID`))\nENGINE = InnoDB DEFAULT CHARSET=utf8;\n\nINSERT INTO `myappdb`.`books` (`BookID`, `ISBN13`, `ISBN10`, `Title`) VALUES\n(1, '9784798119410', '4798119415', '\u521d\u3081\u3066\u306e\u4eba\u306e\u305f\u3081\u306eLISP[\u5897\u88dc\u6539\u8a02\u7248]'),\n(2, '9784320122543', '4320122542', 'Common Lisp \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b7\u30b9\u30c6\u30e0');\n```\n\n##\uff13\uff0eCaveman2\u304b\u3089MySQL\u3078##\n###\uff13\uff0e\uff11\uff0econfig.lisp###\n`config.lisp`\u306e\u4e2d\u8eab\u304c\u4eca\u3072\u3068\u3064\u7406\u89e3\u51fa\u6765\u3066\u307e\u305b\u3093\u2026\n\u5171\u901a\u306e\u8a2d\u5b9a\u306f`:common`\u3068`|default|`\u306e\u3069\u3063\u3061\u306b\u66f8\u3051\u3070\u3044\u3044\u3093\u3060\u308d\u3046\uff1f\n\u3068\u308a\u3042\u3048\u305a`:common`\u306e\u65b9\u306b\u9069\u5f53\u306b\u66f8\u304d\u307e\u3057\u305f\u3002\u5f8c\u3067\u3061\u3083\u3093\u3068\u8abf\u3079\u307e\u3059\u3002\n\n```cl:config.lisp\n(defconfig :common\n    `(:error-log ,(merge-pathnames #P\"log/common_error.log\" myapp.config::*application-root*)\n      :databases ((:maindb :mysql :database-name \"myappdb\" :username \"yazc\" :password \"pass\"))))\n```\n\n###\uff13\uff0e\uff12\uff0edb.lisp###\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u51fa\u6765\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```cl:\n(defun test01 ()\n  (with-connection (db)\n    (datafly:retrieve-all\n     (sxql:select :*\n       (sxql:from :books)))))\n```\n\n```cl:\nCL-USER> (in-package :myapp.db)\n#<Package \"MYAPP.DB\">\nDB> (connection-settings)\n(:MYSQL :DATABASE-NAME \"myappdb\" :USERNAME \"yazc\" :PASSWORD \"pass\")\nDB> (db)\nTo load \"dbd-mysql\":\n  Load 1 ASDF system:\n    dbd-mysql\n; Loading \"dbd-mysql\"\n\n#<DBD.MYSQL:<DBD-MYSQL-CONNECTION> #x302003B6EF1D>\nDB> (test01)\n((:BOOKID 1 :ISBN13 \"9784798119410\" :ISBN10 \"4798119415\" :TITLE \"?????????LISP[?????]\" :WORDS NIL) (:BOOKID 2 :ISBN13 \"9784320122543\" :ISBN10 \"4320122542\" :TITLE \"Common Lisp ??????????\" :WORDS NIL))\n```\n\u300e??\u300f\u3092\u898b\u308b\u3068\u5acc\u306a\u8a18\u61b6\u304c\u8607\u308a\u307e\u3059\u3002\n\u3061\u3087\u3063\u3068\u524d\u306b\u3082\u7ba1\u7406\u8005\u4e0d\u5728\u306b\u306a\u3063\u305fPHP\u306e\u30bd\u30fc\u30b9\u3044\u3058\u3063\u3066\u3066\u6587\u5b57\u30b3\u30fc\u30c9\u3067\u306f\u307e\u308a\u307e\u3057\u305f\u3057\u2026(~_~;\n\u3068\u308a\u3042\u3048\u305a\u6df1\u753a\u3055\u3093\u306e[\u30d6\u30ed\u30b0](http://blog.8arrow.org/entry/20120323/1332516342)\u3092\u53c2\u8003\u306b\u51e6\u7406\u7cfb\u5074\u306e\u6587\u5b57\u30b3\u30fc\u30c9\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\uff08\u4f55\u304b\u898b\u305f\u3053\u3068\u3042\u308b\u8a18\u4e8b\u3060\u306a\u3068\u601d\u3063\u3066\uff0c\u5f8c\u3067`ccl-init.lisp`\u898b\u305f\u3089\u8a18\u4e8b\u305d\u306e\u307e\u307e\u306eUTF-8\u306e\u8a2d\u5b9a\u66f8\u3044\u3066\u3042\u308a\u307e\u3057\u305f\u3002\uff09\n\n```cl:\nDB> ccl:*default-external-format*\n#<EXTERNAL-FORMAT :UTF-8/:UNIX #x3020003952FD>\nDB> ccl:*default-file-character-encoding*\n:UTF-8\nDB> ccl:*default-socket-character-encoding*\n:UTF-8\n```\n\u3042\u308c\u2026UTF-8\u3060\u3088\u306a\u3042\u2026\u4f55\u3067\u6587\u5b57\u5316\u3051\u3059\u308b\u3093\u3060\u308d\u2026\n\n\u3068\n\u66ab\u304f\u60a9\u3093\u3060\u672b\u306bMac\u3067`my.conf`\u3044\u3058\u3063\u305f\u899a\u3048\u306a\u3044\u306e\u3092\u601d\u3044\u51fa\u3057\u307e\u3057\u305f\u2026\nLAMP\u3060\u3068\u6700\u521d\u306b\u8a2d\u5b9a\u3059\u308b\u306e\u3067\u5b8c\u5168\u306b\u5fd8\u308c\u3066\u307e\u3057\u305f(-_-;\n\u5ff5\u306e\u305f\u3081\u6587\u5b57\u30b3\u30fc\u30c9\u78ba\u8a8d\u3002\n\n```\nmysql> show variables like 'character_set%';\n+--------------------------+--------------------------------------------------------+\n| Variable_name            | Value                                                  |\n+--------------------------+--------------------------------------------------------+\n| character_set_client     | utf8                                                   |\n| character_set_connection | utf8                                                   |\n| character_set_database   | latin1                                                 |\n| character_set_filesystem | binary                                                 |\n| character_set_results    | utf8                                                   |\n| character_set_server     | latin1                                                 |\n| character_set_system     | utf8                                                   |\n| character_sets_dir       | /usr/local/mysql-5.6.21-osx10.8-x86_64/share/charsets/ |\n+--------------------------+--------------------------------------------------------+\n```\n\u3060\u3081\u3067\u3059\u306d\u3002\n`$ mysql -help`\u3067`my.cnf`\u306e\u4f4d\u7f6e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\nDefault options are read from the following files in the given order:\n/etc/my.cnf /etc/mysql/my.cnf /usr/local/mysql/etc/my.cnf /usr/local/mysql/bin/my.cnf ~/.my.cnf\n```\n`/usr/local/mysql/my.cnf`\u306f\u3042\u308b\u306e\u3067`/usr/local/mysql/bin/my.cnf`\u306b\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u5f35\u308a\u307e\u3059\u3002\n`$ sudo ln -fs my.cnf bin/my.cnf`\n`my.cnf``\u306b\u4ee5\u4e0b\u306e\u8a18\u8ff0\u3092\u8ffd\u52a0\u3002\n\n```\n[client]\ndefault-character-set=utf8\n[mysqld]\nskip-character-set-client-handshake\ncharacter-set-server = utf8\ncollation-server = utf8_general_ci\n[mysqldump]\ndefault-character-set = utf8\n[mysql]\ndefault-character-set = utf8\n```\n\u3082\u3046\u4e00\u56de\u6587\u5b57\u30b3\u30fc\u30c9\u306e\u78ba\u8a8d\u3002\n\n```\nmysql> show variables like 'character_set%';\n+--------------------------+--------------------------------------------------------+\n| Variable_name            | Value                                                  |\n+--------------------------+--------------------------------------------------------+\n| character_set_client     | utf8                                                   |\n| character_set_connection | utf8                                                   |\n| character_set_database   | utf8                                                   |\n| character_set_filesystem | binary                                                 |\n| character_set_results    | utf8                                                   |\n| character_set_server     | utf8                                                   |\n| character_set_system     | utf8                                                   |\n| character_sets_dir       | /usr/local/mysql-5.6.21-osx10.8-x86_64/share/charsets/ |\n+--------------------------+--------------------------------------------------------+\n```\n\u3053\u308c\u3067\u3069\u3046\u3060\u308d\u3046\uff1f\n\n```cl:\nDB> (connection-settings)\n(:MYSQL :DATABASE-NAME \"myappdb\" :USERNAME \"yazc\" :PASSWORD \"pass\")\nDB> (db)\n#<DBD.MYSQL:<DBD-MYSQL-CONNECTION> #x302003C1E1DD>\nDB> (test01)\n((:BOOKID 1 :ISBN13 \"9784798119410\" :ISBN10 \"4798119415\" :TITLE \"\u521d\u3081\u3066\u306e\u4eba\u306e\u305f\u3081\u306eLISP[\u5897\u88dc\u6539\u8a02\u7248]\" :WORDS NIL) (:BOOKID 2 :ISBN13 \"9784320122543\" :ISBN10 \"4320122542\" :TITLE \"Common Lisp \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b7\u30b9\u30c6\u30e0\" :WORDS NIL))\n```\n\u3084\u3063\u305f\u30fc^^\n\n##\uff14\uff0e\u308f\u304b\u3063\u3066\u306a\u3044\u3053\u3068##\n\u30e6\u30fc\u30b6\u8a8d\u8a3c\u3068\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u5468\u308a\u3092Caveman2\u3067\u3069\u3046\u3059\u308b\u304b\u826f\u304f\u308f\u304b\u3063\u3066\u307e\u305b\u3093\u3002\nClack\u306e\u30bd\u30fc\u30b9\u3068\u304b\u3061\u3083\u3093\u3068\u8aad\u3081\u3070\u826f\u3044\u306e\u3060\u308d\u3046\u3068\u601d\u3046\u306e\u3067\u3059\u304c\uff0c\u307e\u3060\u5b66\u7fd2\u304c\u8ffd\u3044\u3064\u3044\u3066\u307e\u305b\u3093\u3002\n\uff08[clack.middleware.auth.basic](https://github.com/fukamachi/clack/blob/master/src/contrib/middleware/auth/basic.lisp)\u3042\u305f\u308a\uff1f\uff09\n\n\u57fa\u790e\u77e5\u8b58\u304c\u8db3\u3089\u306a\u3044\u3088\u3046\u306a\u611f\u3058\u304c\u3057\u3066\u304d\u305f\u306e\u3067[\u3053\u306e\u8fba](https://www.ipa.go.jp/security/awareness/vendor/programmingv2/web.html)\u3068\u304b\u898b\u306a\u304c\u3089\u52c9\u5f37\u4e2d\u3002\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u4fdd\u5b58\u306b\u306fSHA512\u4f7f\u3044\u305f\u3044\u3067\u3059\u3002\u65e5\u672c\u8a9e\u304c\u5165\u3063\u3066\u554f\u984c\u306a\u3044\u3088\u3046\u306b\u3082\u3057\u305f\u3044\u3002\n\n```cl:sha512\n(defun strings->sha512-hex-strings (strings)\n  (ironclad:byte-array-to-hex-string\n   (ironclad:digest-sequence\n    :sha512\n    (flexi-streams:string-to-octets strings :external-format :utf8))))\n```\n```cl:\nDB> (strings->sha512-hex-strings \"\")\n\"cf83e1357eefb8bdf1542850d66d8007d620e4050b5715dc83f4a921d36ce9ce47d0d13c5d85f2b0ff8318d2877eec2f63b931bd47417a81a538327af927da3e\"\nDB> (strings->sha512-hex-strings \"\u672c\u65e5\u30cf\u6674\u5929\u30ca\u30ea\")\n\"fb1edff0663cb087d4a079ee9b4149b71e4a0965d61cdffe976158f7178c51003cc3a51ca47cf5c803409d88e4f68f16e538783e753794bd6c2b74160f239ca3\"\n```\n\u3053\u3093\u306a\u611f\u3058\u3067\u3002\n\n\u4e0a\u624b\u304f\u884c\u304f\u3060\u308d\u3046\u304b\u2026\n", "tags": ["memo", "caveman2"]}