{"context": " More than 1 year has passed since last update.\nproxmox4\u03b2(debian8)\u306b\u3066\u5b9f\u65bd\u3002\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n/media/3tb/ \u3092\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3059\u308b\n\n\n\u6700\u65b0\u306edocker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwget -qO- get.docker.com | sh\nmkdir /media/3tb/docker\nln -s /media/3tb/docker /var/lib/docker\n\n\n\nOSS\u7248drone.io\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwget http://downloads.drone.io/master/drone.deb\ndpkg -i drone.deb\nln -s /usr/share/drone/systemd/drone.service /etc/systemd/system/multi-user.targ\nsystemctl start drone\nsystemctl enable drone\n\n\n\nGit\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u6e96\u5099(Gogs\u4f7f\u3063\u3066\u307f\u305f)\n\nGogs\ncd /media/3tb/\nwget http://gogs.dn.qbox.me/gogs_v0.6.1_linux_amd64.zip\napt-get install -y unzip\nunzip gogs_v0.6.1_linux_amd64.zip\n\n\n\ngit\u30e6\u30fc\u30b6\u4f5c\u6210\nadduser git\nmkdir /media/3tb/gogs-repositories/\nchown -R git:git /media/3tb/gogs*\n\n\n\ngit\u30a2\u30ab\u30a6\u30f3\u30c8\u306ecrontab\u7de8\u96c6\n\n\ncrontab\u00a0-e\n@reboot (cd /media/3tb/gogs && nohup ./gogs web &)\n\n\n(cd /media/3tb/gogs && nohup ./gogs web &)\u3092\u5b9f\u884c\u3059\u308b\u3068\n\n\nhttp://ipaddress:3000/ \u3067Gogs\u306eWebUI\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n\n\nGogs\u3067\u4f7f\u3046\u7ba1\u7406\u8005\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\nRegister\u304b\u3089\u4e00\u822c\u30e6\u30fc\u30b6\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3002(\u3082\u3057\u304f\u306f\u7ba1\u7406\u8005\u30a2\u30ab\u30a6\u30f3\u30c8\u3067Admin Panel->Users\u3067\u767b\u9332)\n\u4e00\u822c\u30e6\u30fc\u30b6\u3067\u30ed\u30b0\u30a4\u30f3\u3057SSH\u9375\u306e\u767b\u9332\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4f5c\u6210\u3002\n\n\nSSH\u9375\u306f\u3001git clone\u306a\u3069\u3067\u4f7f\u7528\u3059\u308b\u3002\n\n\nGogs\u3067\u30db\u30b9\u30c8\u540d\u3092\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u306fgogs/custom/conf/app.ini\u3092\u7de8\u96c6\u3002\u516c\u5f0fdoc\n\n\n\nAccess Token\u53d6\u5f97\n\n\u516c\u5f0fdoc\n\n\n\n\n\u4eca\u56de\u306fe89dfc27bc12e3d1ebfdcfaa45ec45c38daeba4f\u304cAccess Token\u3068\u306a\u308b\u3002\n\n\ndrone.io\u306eWebUI\u306b\u30a2\u30af\u30bb\u30b9\n\n\nhttp://IP\u30a2\u30c9\u30ec\u30b9/login \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068 drone\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n\nPort\u756a\u53f7\u3092\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\n\n/etc/drone/drone.toml\n  [server]\n- port=\":80\"\n+ port=\":3001\"\n\n\n\n\nGogs\u306eAccess Token\u767b\u9332\n\n/etc/drone/drone.toml\n+ [gogs]\n+ url=\"http://localhost:3000\"\n+ secret=\"e89dfc27bc12e3d1ebfdcfaa45ec45c38daeba4f\"\n+ open=true\n\n\nsystemctl restart drone\n\n\n\nGogs\u304c\u767b\u9332\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\n\n\n\nGogs\u306b\u767b\u9332\u3057\u3066\u3044\u308b\u30e6\u30fc\u30b6\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\n\n\n\n\nGogs\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\u3002\nsync\u30dc\u30bf\u30f3\u304c\u3042\u308b\u306e\u3067\u305f\u307e\u306b\u62bc\u3059\u3002\n\u30ed\u30b0\u306fjournalctl -u drone -f\u3067\u78ba\u8a8d\u304c\u3067\u304d\u308b\u3002\n\n\n\n\n.drone.yml\u3092\u8ffd\u52a0\u3057\u3066\u30b3\u30df\u30c3\u30c8\u3057\u308d\u3068\u51fa\u308b\u306e\u3067\u30b3\u30df\u30c3\u30c8\u3057\u305f\u304c\u4f55\u3082\u5909\u308f\u3089\u306a\u3044\u306e\u3067\u65ad\u5ff5\u3002\n\n* proxmox4\u03b2(debian8)\u306b\u3066\u5b9f\u65bd\u3002\n\n## \u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n* /media/3tb/ \u3092\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3059\u308b\n\n```bash:\u6700\u65b0\u306edocker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwget -qO- get.docker.com | sh\nmkdir /media/3tb/docker\nln -s /media/3tb/docker /var/lib/docker\n```\n\n```bash:OSS\u7248drone.io\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwget http://downloads.drone.io/master/drone.deb\ndpkg -i drone.deb\nln -s /usr/share/drone/systemd/drone.service /etc/systemd/system/multi-user.targ\nsystemctl start drone\nsystemctl enable drone\n```\n\n# Git\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u6e96\u5099(Gogs\u4f7f\u3063\u3066\u307f\u305f)\n\n```bash:Gogs\ncd /media/3tb/\nwget http://gogs.dn.qbox.me/gogs_v0.6.1_linux_amd64.zip\napt-get install -y unzip\nunzip gogs_v0.6.1_linux_amd64.zip\n```\n\n```bash:git\u30e6\u30fc\u30b6\u4f5c\u6210\nadduser git\nmkdir /media/3tb/gogs-repositories/\nchown -R git:git /media/3tb/gogs*\n```\n\n* git\u30a2\u30ab\u30a6\u30f3\u30c8\u306ecrontab\u7de8\u96c6\n\n```bash:crontab&nbsp;-e\n@reboot (cd /media/3tb/gogs && nohup ./gogs web &)\n```\n\n`(cd /media/3tb/gogs && nohup ./gogs web &)`\u3092\u5b9f\u884c\u3059\u308b\u3068\n\n* http://ipaddress:3000/ \u3067Gogs\u306eWebUI\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n![Screenshot from 2015-07-22 08:43:20.png](https://qiita-image-store.s3.amazonaws.com/0/25728/347e70cf-0aae-91a7-2977-63e37300554f.png)\n\n* Gogs\u3067\u4f7f\u3046\u7ba1\u7406\u8005\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\n* Register\u304b\u3089\u4e00\u822c\u30e6\u30fc\u30b6\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3002(\u3082\u3057\u304f\u306f\u7ba1\u7406\u8005\u30a2\u30ab\u30a6\u30f3\u30c8\u3067`Admin Panel`->`Users`\u3067\u767b\u9332)\n* \u4e00\u822c\u30e6\u30fc\u30b6\u3067\u30ed\u30b0\u30a4\u30f3\u3057SSH\u9375\u306e\u767b\u9332\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4f5c\u6210\u3002\n  * SSH\u9375\u306f\u3001`git clone`\u306a\u3069\u3067\u4f7f\u7528\u3059\u308b\u3002\n* Gogs\u3067\u30db\u30b9\u30c8\u540d\u3092\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u306f`gogs/custom/conf/app.ini`\u3092\u7de8\u96c6\u3002[\u516c\u5f0fdoc](http://gogs.io/docs/installation/configuration_and_run.html)\n\n## Access Token\u53d6\u5f97\n\n* [\u516c\u5f0fdoc](http://readme.drone.io/setup/config/gogs/)\n\n![01.png](https://qiita-image-store.s3.amazonaws.com/0/25728/404b50a9-4272-5bf7-66c4-2982641130d6.png)\n\n![02.png](https://qiita-image-store.s3.amazonaws.com/0/25728/cbbe659f-2ea3-794c-93c2-cf57e2eeb9dc.png)\n\n* \u4eca\u56de\u306f`e89dfc27bc12e3d1ebfdcfaa45ec45c38daeba4f`\u304cAccess Token\u3068\u306a\u308b\u3002\n\n\n# drone.io\u306eWebUI\u306b\u30a2\u30af\u30bb\u30b9\n\n* http://IP\u30a2\u30c9\u30ec\u30b9/login \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068 drone\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n##  Port\u756a\u53f7\u3092\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\n\n```diff:/etc/drone/drone.toml\n  [server]\n- port=\":80\"\n+ port=\":3001\"\n```\n\n![Screenshot from 2015-07-22 08:14:53.png](https://qiita-image-store.s3.amazonaws.com/0/25728/af75664a-de0f-b1fc-725d-18cbb2b14436.png)\n\n### Gogs\u306eAccess Token\u767b\u9332\n\n```diff:/etc/drone/drone.toml\n+ [gogs]\n+ url=\"http://localhost:3000\"\n+ secret=\"e89dfc27bc12e3d1ebfdcfaa45ec45c38daeba4f\"\n+ open=true\n```\n\n```bash:\nsystemctl restart drone\n```\n\n![1.png](https://qiita-image-store.s3.amazonaws.com/0/25728/0a7bdc83-5a02-4f82-3d35-73b18e278974.png)\n\n* Gogs\u304c\u767b\u9332\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\n\n![2.png](https://qiita-image-store.s3.amazonaws.com/0/25728/048f2320-6422-44d4-9bf3-8fa2d1c5087d.png)\n\n* Gogs\u306b\u767b\u9332\u3057\u3066\u3044\u308b\u30e6\u30fc\u30b6\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\n\n![3.png](https://qiita-image-store.s3.amazonaws.com/0/25728/efdb4a68-69d3-7a4d-1713-c4bff2329525.png)\n\n![4.png](https://qiita-image-store.s3.amazonaws.com/0/25728/ea825845-ba30-a0b3-5e40-21057f572478.png)\n\n* Gogs\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n* sync\u30dc\u30bf\u30f3\u304c\u3042\u308b\u306e\u3067\u305f\u307e\u306b\u62bc\u3059\u3002\n* \u30ed\u30b0\u306f`journalctl -u drone -f`\u3067\u78ba\u8a8d\u304c\u3067\u304d\u308b\u3002\n\n![5.png](https://qiita-image-store.s3.amazonaws.com/0/25728/86ebc1e7-23ce-97ca-85c0-90874b382e39.png)\n\n* `.drone.yml`\u3092\u8ffd\u52a0\u3057\u3066\u30b3\u30df\u30c3\u30c8\u3057\u308d\u3068\u51fa\u308b\u306e\u3067\u30b3\u30df\u30c3\u30c8\u3057\u305f\u304c\u4f55\u3082\u5909\u308f\u3089\u306a\u3044\u306e\u3067\u65ad\u5ff5\u3002\n", "tags": ["drone.io"]}