{"context": " More than 1 year has passed since last update.\u4ee5\u524d\u3001\u3053\u3093\u306a\u8a18\u4e8b\u3092\u66f8\u3044\u305f\u3002\n\nrvest \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\n\n\u3057\u304b\u3057\u6700\u8fd1\u306f Twitter \u30a2\u30ab\u30a6\u30f3\u30c8\u306a\u3069\u3067 OAuth \u3092\u4f7f\u3063\u3066\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u30b5\u30a4\u30c8\u304c\u5897\u3048\u3066\u304d\u305f\u3002\n\u79c1\u3082 Qiita \u306f Twitter ID \u3092\u7d10\u3065\u3051\u3066 OAuth \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u3002\nrvest \u3092\u4f7f\u3063\u3066 OAuth \u8a8d\u8a3c\u3059\u308b\u306e\u306f\u3001\u4e0a\u8a18\u8a18\u4e8b\u306e\u3084\u308a\u65b9\u306b\u3072\u3068\u624b\u9593\u52a0\u3048\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u7d39\u4ecb\u3057\u3088\u3046\u3002\n\nQiita \u306b Twitter ID \u3067\u30ed\u30b0\u30a4\u30f3\n\u4f8b\u3068\u3057\u3066\u3001Qiita \u306b Twitter ID \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u308b\u3002\n\nR\nlibrary(rvest)\n\n# Qiita \u306e Twitter \u7528\u8a8d\u8a3c\u30da\u30fc\u30b8\nlogin_page <- html_session(\"https://qiita.com/auth/twitter\")\n\n# \u8a8d\u8a3c\u30da\u30fc\u30b8\u306e\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u308c\u308b\nlogin_form <- html_form(login_page)[[1]] %>% \n  set_values(`session[username_or_email]`=\"hoxo_m\", `session[password]`=\"****\")\n\n# Submit \u3059\u308b\u3068\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\nredirect_page <- submit_form(login_page, login_form)\n\n\n\u307e\u305a\u3001Qiita \u306e Twitter \u8a8d\u8a3c\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n\u3059\u308b\u3068\u3001Twitter \u5074\u306e\u8a8d\u8a3c\u30da\u30fc\u30b8\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u308b\u306e\u3067\u3001\u305d\u3053\u3067\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3059\u308b\u3002\n\u3053\u308c\u3092 Submit \u3059\u308b\u3068\u3001\u4eca\u5ea6\u306f Qiita \u5074\u3078\u8a8d\u8a3c\u60c5\u5831\u3092\u8fd4\u3059\u305f\u3081\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3088\u3046\u3068\u3059\u308b\u306e\u3060\u304c\u3001rvest \u3067\u306f\u81ea\u52d5\u7684\u306b\u9077\u79fb\u3057\u306a\u3044\u3002\n\u3057\u305f\u304c\u3063\u3066\u3001\u3053\u306e redirect_page \u30da\u30fc\u30b8\u304b\u3089\u3001\u8a8d\u8a3c\u60c5\u5831\u3092\u8fd4\u3059\u305f\u3081\u306e\u30ea\u30f3\u30af\u3092\u63a2\u3057\u3066\u305d\u306e\u30ea\u30f3\u30af\u3092\u305f\u3069\u3089\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\n\nR\nredirect_page %>% html_node(xpath='//body')\n\n\n\n\u7d50\u679c\n(\u7701\u7565)\n<div id=\"bd\" role=\"main\">\n  <div class=\"happy notice callback\">\n    <h2>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u623b\u308a\u307e\u3059\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002</h2>\n    <p>\u81ea\u52d5\u7684\u306b\u79fb\u52d5\u3057\u306a\u3044\u5834\u5408\u306f<a class=\"maintain-context\" href=\"https://qiita.com/auth/twitter/callback?oauth_token=***&amp;oauth_verifier=***\">\u3053\u3061\u3089</a>\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044</p>\n  </div>\n</div>\n(\u7701\u7565)\n\n\n\u3053\u306e\u300c\u81ea\u52d5\u7684\u306b\u79fb\u52d5\u3057\u306a\u3044\u5834\u5408\u306f\u3053\u3061\u3089\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u300d\u3068\u3044\u3046\u306e\u304c\u8a8d\u8a3c\u60c5\u5831\u3092\u8fd4\u3059\u305f\u3081\u306e\u30ea\u30f3\u30af\u3067\u3042\u308b\u3002\n\u3053\u306e\u30ea\u30f3\u30af\u3092 rvest \u3067\u305f\u3069\u308b\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u3059\u308b\u3002\n\nR\nsession <- redirect_page %>%\n  follow_link(xpath = '//*[@id=\"bd\"]/div/p/a')\n\n\n\u4ee5\u4e0a\u3067\u3001Qiita \u306b Twitter ID \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u3002\n\u3042\u3068\u306f\u901a\u5e38\u3069\u304a\u308a\u3001\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u72b6\u614b\u3067\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3067\u304d\u308b\u3002\n\nR\nsession %>% \n  jump_to(\"http://qiita.com\") %>% \n  html_nodes(xpath='//div[@class=\"userInfo\"]/div/div') %>%\n  html_text\n\n\n\n\u7d50\u679c\n[1] \"hoxo_m\"          \"753Contribution\"\n\n\nhoxo_m \u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u305f\u3002\n\nQiita \u306e\u901a\u77e5\u60c5\u5831\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\n\u3053\u3053\u304b\u3089\u306f\u5b8c\u5168\u306b\u4f59\u8ac7\u3067\u3001Qiita \u306e\u901a\u77e5\u4e00\u89a7\u306e\u30da\u30fc\u30b8\u304b\u3089\u3001\u901a\u77e5\u60c5\u5831\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u307f\u308b\u3002\n\nR\nlibrary(lambdaR)\nlibrary(pforeach)\n\nnpforeach(i=1:99, .c=rbind)({\n  url <- sprintf(\"http://qiita.com/notifications?page=%d\", i)\n  message(url)\n\n  nodes <- session %>%\n    jump_to(url) %>%\n    html_nodes(xpath = '//div[@class=\"notification_actionWrapper\"]')\n\n  Sys.sleep(1)\n\n  nodes %>%\n    Map_(node: {\n      action <- tryCatch({\n        node %>% html_node(xpath='span[@class=\"action\"]') %>% html_text\n      }, error = f_(e: {\n        # action \u304c\u300c\u7de8\u96c6\u300d\u300c\u6295\u7a3f\u300d\u306e\u5834\u5408\n        node %>% html_node(xpath='*/span[@class=\"action\"]') %>% html_text\n      }))\n      if(action == \"\u30c4\u30a4\u30fc\u30c8\") {\n        who <- \"\"\n      } else {\n        who <- node %>% html_node(xpath='span[@class=\"notification_user\"]') %>% html_text\n      }\n      if(action %in% c(\"\u30d5\u30a9\u30ed\u30fc\", \"\u30c4\u30a4\u30fc\u30c8\", \"Thank!\")) {\n        url <- \"\"\n      } else if(action %in% c(\"\u7de8\u96c6\", \"\u6295\u7a3f\")) {\n        url <- node %>% html_node(xpath='a') %>% html_attr(\"href\")      \n      } else {\n        url <- node %>% html_node(xpath='span[@class=\"action\"]/a') %>% html_attr(\"href\")\n      }\n      if(action == \"\u30d5\u30a9\u30ed\u30fc\") {\n        title <- \"\u3042\u306a\u305f\"\n      } else if(action == \"\u63a1\u7528\")\u3000{\n        title <- \"\u7de8\u96c6\u30ea\u30af\u30a8\u30b9\u30c8\"\n      } else if(action == \"Thank!\")\u3000{\n        title <- \"\u3042\u306a\u305f\u306e\u30b3\u30e1\u30f3\u30c8\"\n      } else {\n        title <- node %>% html_node(xpath='span[@class=\"title\"]') %>% html_text        \n      }\n      data.frame(who, action, title, url, stringsAsFactors = FALSE)\n    }) %>%\n    Reduce_(rbind)\n}) -> result\n\nknitr::kable(head(result))\n\n\n\n\n\nwho\naction\ntitle\nurl\n\n\n\n\nkisy\n\u30b9\u30c8\u30c3\u30af\n\"rvest \u3059\u3052\u3048\u3002#rstatsj\"\nhttp://qiita.com/hoxo_m/items/264b45684fcb657cf285\n\n\ngaram\n\u30b9\u30c8\u30c3\u30af\n\"read.table() \u3067\u30d8\u30c3\u30c0...\"\nhttp://qiita.com/hoxo_m/items/b77f1566d3a848e46c92\n\n\nuri\n\u7de8\u96c6\n\"\u3010gif\u30a2\u30cb\u30e1\u3064\u304d\u3011\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3...\"\nhttp://qiita.com/uri/items/a4a6e9abdbe9a913d657/revisions\n\n\nuri\n\u7de8\u96c6\n\"\u3010gif\u30a2\u30cb\u30e1\u3064\u304d\u3011\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3...\"\nhttp://qiita.com/uri/items/a4a6e9abdbe9a913d657/revisions\n\n\ndichika\n\u30e1\u30f3\u30b7\u30e7\u30f3\n\"readr::parse_date...\"\nhttp://qiita.com/dichika/items/4255bc4b5949c9b367f1\n\n\nddintokyo\n\u30b9\u30c8\u30c3\u30af\n\"RStudio Shiny \u30c1\u30e5\u30fc...\"\nhttp://qiita.com/hoxo_m/items/c8365117f3444fb51df4\n\n\n\n\u3053\u306e\u30c7\u30fc\u30bf\u304b\u3089\u3001\u30b9\u30c8\u30c3\u30af\u60c5\u5831\u3060\u3051\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u81ea\u5206\u306e\u8a18\u4e8b\u3092\u3088\u304f\u30b9\u30c8\u30c3\u30af\u3059\u308b\u30e6\u30fc\u30b6\u3092\u898b\u3064\u3051\u3066\u307f\u3088\u3046\u3002\n\nR\nlibrary(dplyr)\n\nstock_ranking <- result %>%\n  filter(action == \"\u30b9\u30c8\u30c3\u30af\") %>%\n  count(who) %>%\n  arrange(desc(n))\n\nknitr::kable(head(stock_ranking, 20))\n\n\n\n\n\nwho\nn\n\n\n\n\nHirofumiYashima\n47\n\n\nuri\n39\n\n\nReds\n32\n\n\nytakky\n26\n\n\nkasumani\n19\n\n\ncof\n17\n\n\nhorihorio\n16\n\n\nP_tan\n12\n\n\nsoogie\n11\n\n\nhiro_matsuno2\n10\n\n\nkaz-yos\n10\n\n\nst450\n10\n\n\ntktz\n10\n\n\nginmaru\n8\n\n\nselious\n8\n\n\nwakuteka\n8\n\n\nR_beginner\n7\n\n\nhayashiyus\n7\n\n\nheliac2000\n7\n\n\nksomemo\n6\n\n\n\n\u3053\u3053\u306f @uri \u3055\u3093\u304c\u4e00\u4f4d\u3067\u3042\u3063\u3066\u307b\u3057\u304b\u3063\u305f\u3002\nEnjoy!\n\n\u95a2\u9023\n\nrvest \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\nrvest \u3059\u3052\u3048\u3002\nggplot2 \u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u4e00\u89a7\u3092 rvest \u3067\u53d6\u5f97\u3059\u308b\nrvest \u3067\u58f0\u512a\u306e\u7537\u5973\u30c7\u30fc\u30bf\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\n\n\n\u4ee5\u524d\u3001\u3053\u3093\u306a\u8a18\u4e8b\u3092\u66f8\u3044\u305f\u3002\n\n- [rvest \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0](http://qiita.com/hoxo_m/items/59bedbf7e4c7c99cbf5a)\n\n\u3057\u304b\u3057\u6700\u8fd1\u306f Twitter \u30a2\u30ab\u30a6\u30f3\u30c8\u306a\u3069\u3067 OAuth \u3092\u4f7f\u3063\u3066\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u30b5\u30a4\u30c8\u304c\u5897\u3048\u3066\u304d\u305f\u3002\n\u79c1\u3082 Qiita \u306f Twitter ID \u3092\u7d10\u3065\u3051\u3066 OAuth \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u3002\n\nrvest \u3092\u4f7f\u3063\u3066 OAuth \u8a8d\u8a3c\u3059\u308b\u306e\u306f\u3001\u4e0a\u8a18\u8a18\u4e8b\u306e\u3084\u308a\u65b9\u306b\u3072\u3068\u624b\u9593\u52a0\u3048\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u7d39\u4ecb\u3057\u3088\u3046\u3002\n\n## Qiita \u306b Twitter ID \u3067\u30ed\u30b0\u30a4\u30f3\n\n\u4f8b\u3068\u3057\u3066\u3001Qiita \u306b Twitter ID \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u308b\u3002\n\n```r:R\nlibrary(rvest)\n\n# Qiita \u306e Twitter \u7528\u8a8d\u8a3c\u30da\u30fc\u30b8\nlogin_page <- html_session(\"https://qiita.com/auth/twitter\")\n\n# \u8a8d\u8a3c\u30da\u30fc\u30b8\u306e\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u308c\u308b\nlogin_form <- html_form(login_page)[[1]] %>% \n  set_values(`session[username_or_email]`=\"hoxo_m\", `session[password]`=\"****\")\n\n# Submit \u3059\u308b\u3068\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\nredirect_page <- submit_form(login_page, login_form)\n```\n\n\u307e\u305a\u3001Qiita \u306e Twitter \u8a8d\u8a3c\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n\u3059\u308b\u3068\u3001Twitter \u5074\u306e\u8a8d\u8a3c\u30da\u30fc\u30b8\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u308b\u306e\u3067\u3001\u305d\u3053\u3067\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3059\u308b\u3002\n\u3053\u308c\u3092 Submit \u3059\u308b\u3068\u3001\u4eca\u5ea6\u306f Qiita \u5074\u3078\u8a8d\u8a3c\u60c5\u5831\u3092\u8fd4\u3059\u305f\u3081\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3088\u3046\u3068\u3059\u308b\u306e\u3060\u304c\u3001rvest \u3067\u306f\u81ea\u52d5\u7684\u306b\u9077\u79fb\u3057\u306a\u3044\u3002\n\n\u3057\u305f\u304c\u3063\u3066\u3001\u3053\u306e `redirect_page` \u30da\u30fc\u30b8\u304b\u3089\u3001\u8a8d\u8a3c\u60c5\u5831\u3092\u8fd4\u3059\u305f\u3081\u306e\u30ea\u30f3\u30af\u3092\u63a2\u3057\u3066\u305d\u306e\u30ea\u30f3\u30af\u3092\u305f\u3069\u3089\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\n\n```r:R\nredirect_page %>% html_node(xpath='//body')\n```\n\n```:\u7d50\u679c\n(\u7701\u7565)\n<div id=\"bd\" role=\"main\">\n  <div class=\"happy notice callback\">\n    <h2>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u623b\u308a\u307e\u3059\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002</h2>\n    <p>\u81ea\u52d5\u7684\u306b\u79fb\u52d5\u3057\u306a\u3044\u5834\u5408\u306f<a class=\"maintain-context\" href=\"https://qiita.com/auth/twitter/callback?oauth_token=***&amp;oauth_verifier=***\">\u3053\u3061\u3089</a>\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044</p>\n  </div>\n</div>\n(\u7701\u7565)\n```\n\n\u3053\u306e\u300c\u81ea\u52d5\u7684\u306b\u79fb\u52d5\u3057\u306a\u3044\u5834\u5408\u306f\u3053\u3061\u3089\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u300d\u3068\u3044\u3046\u306e\u304c\u8a8d\u8a3c\u60c5\u5831\u3092\u8fd4\u3059\u305f\u3081\u306e\u30ea\u30f3\u30af\u3067\u3042\u308b\u3002\n\u3053\u306e\u30ea\u30f3\u30af\u3092 rvest \u3067\u305f\u3069\u308b\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u3059\u308b\u3002\n\n```r:R\nsession <- redirect_page %>%\n  follow_link(xpath = '//*[@id=\"bd\"]/div/p/a')\n```\n\n\u4ee5\u4e0a\u3067\u3001Qiita \u306b Twitter ID \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u3002\n\n\u3042\u3068\u306f\u901a\u5e38\u3069\u304a\u308a\u3001\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u72b6\u614b\u3067\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3067\u304d\u308b\u3002\n\n```r:R\nsession %>% \n  jump_to(\"http://qiita.com\") %>% \n  html_nodes(xpath='//div[@class=\"userInfo\"]/div/div') %>%\n  html_text\n```\n\n```:\u7d50\u679c\n[1] \"hoxo_m\"          \"753Contribution\"\n```\n\nhoxo_m \u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u305f\u3002\n\n## Qiita \u306e\u901a\u77e5\u60c5\u5831\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\n\n\u3053\u3053\u304b\u3089\u306f\u5b8c\u5168\u306b\u4f59\u8ac7\u3067\u3001Qiita \u306e[\u901a\u77e5\u4e00\u89a7](http://qiita.com/notifications)\u306e\u30da\u30fc\u30b8\u304b\u3089\u3001\u901a\u77e5\u60c5\u5831\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u307f\u308b\u3002\n\n```r:R\nlibrary(lambdaR)\nlibrary(pforeach)\n\nnpforeach(i=1:99, .c=rbind)({\n  url <- sprintf(\"http://qiita.com/notifications?page=%d\", i)\n  message(url)\n  \n  nodes <- session %>%\n    jump_to(url) %>%\n    html_nodes(xpath = '//div[@class=\"notification_actionWrapper\"]')\n  \n  Sys.sleep(1)\n  \n  nodes %>%\n    Map_(node: {\n      action <- tryCatch({\n        node %>% html_node(xpath='span[@class=\"action\"]') %>% html_text\n      }, error = f_(e: {\n        # action \u304c\u300c\u7de8\u96c6\u300d\u300c\u6295\u7a3f\u300d\u306e\u5834\u5408\n        node %>% html_node(xpath='*/span[@class=\"action\"]') %>% html_text\n      }))\n      if(action == \"\u30c4\u30a4\u30fc\u30c8\") {\n        who <- \"\"\n      } else {\n        who <- node %>% html_node(xpath='span[@class=\"notification_user\"]') %>% html_text\n      }\n      if(action %in% c(\"\u30d5\u30a9\u30ed\u30fc\", \"\u30c4\u30a4\u30fc\u30c8\", \"Thank!\")) {\n        url <- \"\"\n      } else if(action %in% c(\"\u7de8\u96c6\", \"\u6295\u7a3f\")) {\n        url <- node %>% html_node(xpath='a') %>% html_attr(\"href\")      \n      } else {\n        url <- node %>% html_node(xpath='span[@class=\"action\"]/a') %>% html_attr(\"href\")\n      }\n      if(action == \"\u30d5\u30a9\u30ed\u30fc\") {\n        title <- \"\u3042\u306a\u305f\"\n      } else if(action == \"\u63a1\u7528\")\u3000{\n        title <- \"\u7de8\u96c6\u30ea\u30af\u30a8\u30b9\u30c8\"\n      } else if(action == \"Thank!\")\u3000{\n        title <- \"\u3042\u306a\u305f\u306e\u30b3\u30e1\u30f3\u30c8\"\n      } else {\n        title <- node %>% html_node(xpath='span[@class=\"title\"]') %>% html_text        \n      }\n      data.frame(who, action, title, url, stringsAsFactors = FALSE)\n    }) %>%\n    Reduce_(rbind)\n}) -> result\n\nknitr::kable(head(result))\n```\n\n|who       |action     |title                                |url                                                       |\n|:---------|:----------|:------------------------------------|:---------------------------------------------------------|\n|kisy      |\u30b9\u30c8\u30c3\u30af   |\"rvest \u3059\u3052\u3048\u3002#rstatsj\"             |http://qiita.com/hoxo_m/items/264b45684fcb657cf285        |\n|garam     |\u30b9\u30c8\u30c3\u30af   |\"read.table() \u3067\u30d8\u30c3\u30c0...\"           |http://qiita.com/hoxo_m/items/b77f1566d3a848e46c92        |\n|uri       |\u7de8\u96c6       |\"\u3010gif\u30a2\u30cb\u30e1\u3064\u304d\u3011\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3...\" |http://qiita.com/uri/items/a4a6e9abdbe9a913d657/revisions |\n|uri       |\u7de8\u96c6       |\"\u3010gif\u30a2\u30cb\u30e1\u3064\u304d\u3011\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3...\" |http://qiita.com/uri/items/a4a6e9abdbe9a913d657/revisions |\n|dichika   |\u30e1\u30f3\u30b7\u30e7\u30f3 |\"readr::parse_date...\"               |http://qiita.com/dichika/items/4255bc4b5949c9b367f1       |\n|ddintokyo |\u30b9\u30c8\u30c3\u30af   |\"RStudio Shiny \u30c1\u30e5\u30fc...\"            |http://qiita.com/hoxo_m/items/c8365117f3444fb51df4        |\n\n\u3053\u306e\u30c7\u30fc\u30bf\u304b\u3089\u3001\u30b9\u30c8\u30c3\u30af\u60c5\u5831\u3060\u3051\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u81ea\u5206\u306e\u8a18\u4e8b\u3092\u3088\u304f\u30b9\u30c8\u30c3\u30af\u3059\u308b\u30e6\u30fc\u30b6\u3092\u898b\u3064\u3051\u3066\u307f\u3088\u3046\u3002\n\n```r:R\nlibrary(dplyr)\n\nstock_ranking <- result %>%\n  filter(action == \"\u30b9\u30c8\u30c3\u30af\") %>%\n  count(who) %>%\n  arrange(desc(n))\n\nknitr::kable(head(stock_ranking, 20))\n```\n\n|who             |  n|\n|:---------------|--:|\n|HirofumiYashima | 47|\n|uri             | 39|\n|Reds            | 32|\n|ytakky          | 26|\n|kasumani        | 19|\n|cof             | 17|\n|horihorio       | 16|\n|P_tan           | 12|\n|soogie          | 11|\n|hiro_matsuno2   | 10|\n|kaz-yos         | 10|\n|st450           | 10|\n|tktz            | 10|\n|ginmaru         |  8|\n|selious         |  8|\n|wakuteka        |  8|\n|R_beginner      |  7|\n|hayashiyus      |  7|\n|heliac2000      |  7|\n|ksomemo         |  6|\n\n\u3053\u3053\u306f @uri \u3055\u3093\u304c\u4e00\u4f4d\u3067\u3042\u3063\u3066\u307b\u3057\u304b\u3063\u305f\u3002\n\nEnjoy!\n\n## \u95a2\u9023\n\n- [rvest \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0](http://qiita.com/hoxo_m/items/59bedbf7e4c7c99cbf5a)\n- [rvest \u3059\u3052\u3048\u3002](http://qiita.com/hoxo_m/items/264b45684fcb657cf285)\n- [ggplot2 \u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u4e00\u89a7\u3092 rvest \u3067\u53d6\u5f97\u3059\u308b](http://qiita.com/hoxo_m/items/c53b6cfbd5ada5fe1642)\n- [rvest \u3067\u58f0\u512a\u306e\u7537\u5973\u30c7\u30fc\u30bf\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0](http://qiita.com/hoxo_m/items/b9002b7b05954e882148)\n", "tags": ["R", "\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0", "OAuth"]}