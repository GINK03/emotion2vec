{"context": " More than 1 year has passed since last update.\n\nRDS(MySQL)\u3067JST\u3092\u4f7f\u3046 \u305f\u3063\u305f\uff11\u3064\u306e\u51b4\u3048\u305f\u3084\u308a\u65b9\n\nRDS(MySQL)\u306e\u30b7\u30b9\u30c6\u30e0\u6a19\u6e96\u8a2d\u5b9a\u306fUTC\u304b\u3064\u5909\u66f4\u4e0d\u53ef\u80fd\n$ date\n2014\u5e74 5\u670830\u65e5 \u91d1\u66dc\u65e5 20\u664256\u520602\u79d2 JST\n$ echo 'select now()' | mysql -h mysql.foobar.ap-northeast-1.rds.amazonaws.com -u admin -p \nEnter password: \nnow()\n2014-05-30 11:56:20\n\n\n\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\n\ninit_connect \u306b \"SET SESSION time_zone = 'Asia/Tokyo';\"\u3068\u66f8\u304f\n\u2192\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u6642\u306b\u30cf\u30de\u308b (rdsadmin\u30e6\u30fc\u30b6\u306a\u3069\u3067\u306fTimezone\u304cUTC\u3067\u306a\u3044\u3068\u30c0\u30e1)\n\n\u30b9\u30c8\u30a2\u30c9\u30d7\u30ed\u30b7\u30fc\u30b8\u30e3\u3092\u5165\u308c\u3066 init_connect \u304b\u3089\u547c\u3076\n\u4f8b)\nIF NOT (POSITION(\u2018rdsadmin@\u2019 IN CURRENT_USER()) = 1) THEN\nSET SESSION time_zone = \u2018Asia/Tokyo\u2019;\nEND IF\n\n\u2192 \u30b9\u30c8\u30a2\u30c9\u5165\u308c\u308b\u524d\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u30b0\u30eb\u30fc\u30d7\u9069\u7528\u3057\u3061\u3083\u3063\u305f\u308a\u3068\u304b\u3067\u30cf\u30de\u308b\n\n\u304a\u305d\u3089\u304f\u4e00\u756a\u7c21\u5358\u306a\u3084\u308a\u65b9\n\u4e0b\u8a18\u3092init_connect\u306b\u8a2d\u5b9a\u3059\u308b  \nSET SESSION time_zone = CASE WHEN POSITION('rds' IN CURRENT_USER()) = 1 THEN 'UTC' ELSE 'Asia/Tokyo' END;\n\nrds\u3067\u59cb\u307e\u308b\u30e6\u30fc\u30b6\u540d\u3067\u3042\u3063\u305f\u5834\u5408UTC\u3092\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306b\u306f\u65e5\u672c\u6642\u9593\u306b\u8a2d\u5b9a\n\u9069\u7528\u5f8c)\n$ date\n2014\u5e74 5\u670830\u65e5 \u91d1\u66dc\u65e5 21\u664204\u520648\u79d2 JST\n$ echo 'select now()' | mysql -h mysql.foobar.ap-northeast-1.rds.amazonaws.com -u admin -p \nEnter password: \nnow()\n2014-05-30 21:04:57\n\n\u65e5\u672c\u6642\u9593\u306b\u306a\u308a\u307e\u3057\u305f\uff01\n# RDS(MySQL)\u3067JST\u3092\u4f7f\u3046 \u305f\u3063\u305f\uff11\u3064\u306e\u51b4\u3048\u305f\u3084\u308a\u65b9\n## RDS(MySQL)\u306e\u30b7\u30b9\u30c6\u30e0\u6a19\u6e96\u8a2d\u5b9a\u306fUTC\u304b\u3064\u5909\u66f4\u4e0d\u53ef\u80fd\n~~~\n$ date\n2014\u5e74 5\u670830\u65e5 \u91d1\u66dc\u65e5 20\u664256\u520602\u79d2 JST\n$ echo 'select now()' | mysql -h mysql.foobar.ap-northeast-1.rds.amazonaws.com -u admin -p \nEnter password: \nnow()\n2014-05-30 11:56:20\n~~~\n## \u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\n### init_connect \u306b \"SET SESSION time_zone = 'Asia/Tokyo';\"\u3068\u66f8\u304f  \n\u2192\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u6642\u306b\u30cf\u30de\u308b (rdsadmin\u30e6\u30fc\u30b6\u306a\u3069\u3067\u306fTimezone\u304cUTC\u3067\u306a\u3044\u3068\u30c0\u30e1)\n### \u30b9\u30c8\u30a2\u30c9\u30d7\u30ed\u30b7\u30fc\u30b8\u30e3\u3092\u5165\u308c\u3066 init_connect \u304b\u3089\u547c\u3076  \n\u4f8b)\n\n~~~\nIF NOT (POSITION(\u2018rdsadmin@\u2019 IN CURRENT_USER()) = 1) THEN\nSET SESSION time_zone = \u2018Asia/Tokyo\u2019;\nEND IF\n~~~\n\n\u2192 \u30b9\u30c8\u30a2\u30c9\u5165\u308c\u308b\u524d\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u30b0\u30eb\u30fc\u30d7\u9069\u7528\u3057\u3061\u3083\u3063\u305f\u308a\u3068\u304b\u3067\u30cf\u30de\u308b\n## \u304a\u305d\u3089\u304f\u4e00\u756a\u7c21\u5358\u306a\u3084\u308a\u65b9\n\u4e0b\u8a18\u3092init_connect\u306b\u8a2d\u5b9a\u3059\u308b  \n\n~~~\nSET SESSION time_zone = CASE WHEN POSITION('rds' IN CURRENT_USER()) = 1 THEN 'UTC' ELSE 'Asia/Tokyo' END;\n~~~\n\nrds\u3067\u59cb\u307e\u308b\u30e6\u30fc\u30b6\u540d\u3067\u3042\u3063\u305f\u5834\u5408UTC\u3092\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306b\u306f\u65e5\u672c\u6642\u9593\u306b\u8a2d\u5b9a\n\u9069\u7528\u5f8c)\n\n~~~\n$ date\n2014\u5e74 5\u670830\u65e5 \u91d1\u66dc\u65e5 21\u664204\u520648\u79d2 JST\n$ echo 'select now()' | mysql -h mysql.foobar.ap-northeast-1.rds.amazonaws.com -u admin -p \nEnter password: \nnow()\n2014-05-30 21:04:57\n~~~\n\n\u65e5\u672c\u6642\u9593\u306b\u306a\u308a\u307e\u3057\u305f\uff01\n", "tags": ["AWS", "RDS", "MySQL", "AWS\u3042\u308b\u3042\u308b"]}