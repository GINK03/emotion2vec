{"tags": ["FreeBSD", "NetBSD", "fprint"], "context": " More than 1 year has passed since last update.(\u3053\u306e\u8a18\u4e8b\u306f\u3001ofug.net \u306b\u66f8\u3044\u305f\u8a18\u4e8b\u306e\u518d\u63b2\u3067\u3059)\n\n*BSD\u3067fprint\u3092\u4f7f\u3063\u3066\u6307\u7d0b\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u3092\u4f7f\u3046\u65b9\u6cd5\n\u6700\u8fd1(2009\u5e74\u9803)\u306e ThinkPad \u306a\u3069\u3067\u306f\u3001\u6307\u7d0b\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u304c\u304f\u3063\u3064\u3044\u3066\u3044\u3066\u3001\nWindows \u3078\u306e\u30ed\u30b0\u30a4\u30f3\u6642\u306e\u8a8d\u8a3c\u304c\u697d\u306b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n*BSD \u3067\u3082\u3001fprint \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u6307\u7d0b\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nFreeBSD \u3068 NetBSD \u3067\u306e fprint \u306e\u8a2d\u5b9a\u65b9\u6cd5\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002\n\u6ce8\u610f: fprint \u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u30c7\u30d0\u30a4\u30b9\u30ea\u30b9\u30c8\u306b\u8a72\u5f53\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u5834\u5408\u306b\u306f\u4f7f\u3048\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u6307\u7d0b\u8a8d\u8a3c\u7528 USB \u30c7\u30d0\u30a4\u30b9\u306e\u30d9\u30f3\u30c0\u30fc ID\u3001\u30d7\u30ed\u30c0\u30af\u30c8 ID \u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\u8a2d\u5b9a\u624b\u9806\nfprint \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u2193\n\u6307\u7d0b\u767b\u9332\n\u2193\nPAM \u306e\u8a2d\u5b9a\nfprint \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nFreeBSD\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsecurity/pam_fprint \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n# cd /usr/ports/security/pam_fprint\n# make install\n(\u4e2d\u7565)\n=========================================================================\nIn order to enroll new finger prints, you must have r/w access to the\nusb device node(s) of your finger print reader (i.e., /dev/{ugen, usb*})\n(tested with UPEK finger print reader as found in Lenovo T61).\n\nIt is recommended to use devfs.rules(5) and a dedicated group to manage\naccess to your finger print reader.\n\nYou can use `usbdevs -v' to see if your sensor is accessible.\n\nExample configuration:\n- /etc/rc.conf:\ndevfs_system_ruleset=\"localrules\"\n\n- /etc/devfs.rules:\n[localrules=10]\nadd path 'ugen0*' mode 0660 group operator\nadd path 'usb0*' mode 0660 group operator\n\n# /etc/rc.d/devfs restart\n\nRead `pam_fprint_enroll --help' to learn about enrolling fingers.\n\nThe security/fprint_demo port contains the graphical `fprint_demo'\napplication that allows you to manage your finger prints in a comfortable\nway.\n\nAfter enrolling fingerprints for your user(s), you can enable finger\nprint authentication by adding the following line to the corresponding\nPAM configuration file(s) (see the PAM documentation and the pam_fprint\nweb site for more information).\n\nauth            sufficient      /usr/local/lib/pam_fprint.so\n\n/etc/pam.d/system is used for system-wide defaults,\n/etc/pam.d/{gdm, kde} are used by the GDM/KDM login managers.\n=========================================================================\n# make clean\n\n\u6307\u7d0b\u767b\u9332\u3092\u3084\u308a\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306b\u3001GUI\u306e\u7ba1\u7406\u30c4\u30fc\u30eb\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n# cd /usr/ports/security/fprint_demo\n# make install\n# make clean\n\n\u6307\u7d0b\u767b\u9332\u306e\u6e96\u5099\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306f ugen* \u30c7\u30d0\u30a4\u30b9\u306e\u8aad\u307f\u66f8\u304d\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\u305d\u306e\u305f\u3081\u3001devfs \u3092\u4f7f\u3063\u3066\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306b ugen* \u30c7\u30d0\u30a4\u30b9\u306e\u8aad\u307f\u66f8\u304d\u6a29\u9650\u3092\u4e0e\u3048\u306a\u3044\u3068\u3001\u6307\u7d0b\u306e\u767b\u9332\u4f5c\u696d\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\n\n\u307e\u305a\u3001/etc/devfs.conf \u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n# \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u304c operator \u30b0\u30eb\u30fc\u30d7\u306b\u5c5e\u3057\u3066\u3044\u308b\u5834\u5408\u306e\u8a2d\u5b9a\n[localrules=10]\nadd path 'ugen*' mode 0660 group operator\nadd path 'usb*' mode 0660 group operator\n\n\u6b21\u306b\u3001 /etc/rc.conf \u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u52a0\u3048\u307e\u3059\u3002\ndevfs_system_ruleset=\"localrules\"\n\ndevfs \u306e\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u307f\u76f4\u3057\u3066\u3001\u6307\u7d0b\u767b\u9332\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n# /etc/rc.d/devfs restart\n\nNetBSD\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsecurity/pam-fprint \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n# cd /usr/pkgsrc/security/pam-fprint\n# make install\n(\u4e2d\u7565)\n===========================================================================\n$NetBSD: MESSAGE,v 1.1.1.1 2009/02/26 21:52:00 plunky Exp $\n\nRead `pam_fprint_enroll --help' to learn about enrolling fingers. The\nfingerprint data is stored in the users home directory under the .fprint\ndirectory, and the program must have read/write access to the USB devices.\n\nAfter enrolling fingerprints for your user(s), you can enable finger\nprint authentication by adding the following line to the corresponding\nPAM configuration file(s) in /etc/pam.d\n\nauth            sufficient      /usr/pkg/lib/security/pam_fprint.so\n\nNote that using a fingerprint to authenticate is not particularly\nsecure, see the pam_fprint web site for more information.\n===========================================================================\n# make clean-depends clean\n\n\u6307\u7d0b\u767b\u9332\u3092\u3084\u308a\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306b\u3001GUI\u306e\u7ba1\u7406\u30c4\u30fc\u30eb\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n# cd /usr/pkgsrc/security/fprint-demo\n# make install\n# make clean-depends clean\n\n\u6307\u7d0b\u767b\u9332\u306e\u6e96\u5099\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u304c\u6307\u7d0b\u767b\u9332\u3092\u884c\u3046\u524d\u306b\u3001/dev/usb? \u3068 /dev/ugen* \u3092\u30e6\u30fc\u30b6\u30fc\u304c\n\u8aad\u307f\u66f8\u304d\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n(\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u304c wheel \u30b0\u30eb\u30fc\u30d7\u306b\u5c5e\u3057\u3066\u3044\u308b\u5834\u5408)\n% sudo chmod g+rw /dev/usb? /dev/ugen*\n\n\u6307\u7d0b\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n% dmesg | grep ugen\nugen0 at uhub0 port 2\nugen0: STMicroelectronics Biometric Coprocessor, rev 1.00/0.01, addr 3\n\n\u3082\u3057\u3001 \u6307\u7d0b\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u304c /dev/ugen1 \u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u308b\u5834\u5408\u306b\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\nugen1 \u306e\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u3001\u6307\u7d0b\u8a8d\u8a3c\u304c\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n% su\n# cd /dev\n# ./MAKEDEV ugen1\n\n\u6307\u7d0b\u767b\u9332\nfprint \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u6307\u7d0b\u767b\u9332\u4f5c\u696d\u3092\u884c\u3044\u307e\u3059\u3002\nCLI\u3067\u306e\u6307\u7d0b\u767b\u9332\nsecurity/pam-fprint \u306b\u4ed8\u5c5e\u3059\u308b pam_fprint_enroll \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\n\u6307\u7d0b\u767b\u9332\u3092\u884c\u3044\u307e\u3059\u3002\n(\u3057\u304b\u3057\u3001\u79c1\u306e\u74b0\u5883\u3067\u306f\u3046\u307e\u304f\u767b\u9332\u3067\u304d\u307e\u305b\u3093...)\n% pam_fprint_enroll --help\nUsage: pam_fprint_enroll options\n    -h  --help          Display this usage information.\n    -f  --enroll-finger index   Enroll finger with index.\n\n    Valid indexes are:\n    1 - Left Thumb\n    2 - Left Index Finger\n    3 - Left Middle Finger\n    4 - Left Ring Finger\n    5 - Left Little Finger\n    6 - Right Thumb\n    7 - Right Index Finger\n    8 - Right Middle Finger\n    9 - Right Ring Finger\n    10 - Right Little Finger\n% pam_fprint_enroll -f 7\nThis program will enroll your finger, unconditionally overwriting\nany selected print that was enrolled previously. If you want to\ncontinue, press enter, otherwise hit Ctrl+C\n<span style=\"color: yellow\">(Enter \u3092\u5165\u529b)</span>\n\nFound device claimed by UPEK TouchStrip driver\nOpened device. It's now time to enroll your finger.\n\nYou will need to successfully scan your Right Index Finger 3 times\nto complete the process.\n\nScan your finger now.\n<span style=\"color: yellow\">(\u6307\u3092\u8aad\u307f\u53d6\u3089\u305b\u308b\u3051\u3069\u3001\u3046\u307e\u304f\u3044\u304b\u306a\u3044)</span>\n</pre>\n\nGUI\u3067\u306e\u6307\u7d0b\u767b\u9332\nGUI\u3067\u767b\u9332\u3092\u884c\u3046\u5834\u5408\u306b\u306f\u3001fprint_demo \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u3067\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u6642\u306b\u3001/dev/ugen* \u3092\n\u8aad\u307f\u53d6\u308a\u53ef\u80fd\u306b\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u3001\u6307\u7d0b\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u304c\u8a8d\u8b58\u3055\u308c\u307e\u305b\u3093\u3002\n% fprint_demo\n\n\n\u8aad\u307f\u53d6\u3089\u305b\u305f\u3044\u6307\u306e\"Enroll\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u30013\u5ea6\u6307\u7d0b\u3092\u8aad\u307f\u53d6\u3089\u305b\u308b\u3068\n\u6307\u7d0b\u304c\u767b\u9332\u3055\u308c\u307e\u3059\u3002\n\n\u3053\u306e\u3068\u304d\u3001\u6700\u5f8c\u306b\u8aad\u307f\u53d6\u3089\u305b\u305f\u6307\u304c\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u30c1\u30a7\u30c3\u30af\u5bfe\u8c61\u3068\u306a\u308a\u307e\u3059\u3002\nlogin: yamajun\nScan *right index finger* on UPEK TouchStrip\n\nPAM\u306e\u8a2d\u5b9a\n\u3053\u3053\u304b\u3089\u306e\u8a2d\u5b9a\u4f5c\u696d\u3067\u306f\u8a2d\u5b9a\u306b\u5931\u6557\u3057\u305f\u6642\u306e\u305f\u3081\u306b\u3001\u4ed6\u306e\u30db\u30b9\u30c8\u304b\u3089\nSSH \u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u5b89\u5168\u306b\u4f5c\u696d\u3067\u304d\u307e\u3059\u3002\nFreeBSD\nsecurity/pam_fprint \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u6642\u306e\u6307\u793a\u306b\u5f93\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u5217\u3092\n/etc/pam.d/login \u306e auth \u304c\u4e26\u3093\u3067\u3044\u308b\u90e8\u5206\u306e\u5148\u982d\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\nauth            sufficient      /usr/local/lib/pam_fprint.so\n\nNetBSD\nsecurity/pam-fprint \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u6642\u306e\u6307\u793a\u306b\u5f93\u3063\u3066\n/etc/pam.d/login \u306e auth \u304c\u4e26\u3093\u3067\u3044\u308b\u90e8\u5206\u306e\u5148\u982d\u306b pam_fprint.so \u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n# auth\n# \u2193\u3053\u3053\u306b\u633f\u5165\nauth            sufficient      /usr/pkg/lib/security/pam_fprint.so\nauth            sufficient      pam_self.so             no_warn\nauth            required        pam_nologin.so          no_warn\nauth            include         system\n\n(\u3053\u306e\u8a18\u4e8b\u306f\u3001[ofug.net \u306b\u66f8\u3044\u305f\u8a18\u4e8b](http://www.ofug.net/~yamajun/document/fprint/bsd-fprint.html)\u306e\u518d\u63b2\u3067\u3059)\n\n#*BSD\u3067fprint\u3092\u4f7f\u3063\u3066\u6307\u7d0b\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u3092\u4f7f\u3046\u65b9\u6cd5\n\n\u6700\u8fd1(2009\u5e74\u9803)\u306e ThinkPad \u306a\u3069\u3067\u306f\u3001\u6307\u7d0b\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u304c\u304f\u3063\u3064\u3044\u3066\u3044\u3066\u3001\nWindows \u3078\u306e\u30ed\u30b0\u30a4\u30f3\u6642\u306e\u8a8d\u8a3c\u304c\u697d\u306b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n*BSD \u3067\u3082\u3001[fprint](http://www.freedesktop.org/wiki/Software/fprint/) \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u6307\u7d0b\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nFreeBSD \u3068 NetBSD \u3067\u306e fprint \u306e\u8a2d\u5b9a\u65b9\u6cd5\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002\n\n\u6ce8\u610f: <a href=\"http://www.freedesktop.org/wiki/Software/fprint/libfprint/Unsupported_devices/\">fprint \u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u30c7\u30d0\u30a4\u30b9\u30ea\u30b9\u30c8</a>\u306b\u8a72\u5f53\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u5834\u5408\u306b\u306f\u4f7f\u3048\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u6307\u7d0b\u8a8d\u8a3c\u7528 USB \u30c7\u30d0\u30a4\u30b9\u306e\u30d9\u30f3\u30c0\u30fc ID\u3001\u30d7\u30ed\u30c0\u30af\u30c8 ID \u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n##\u8a2d\u5b9a\u624b\u9806\nfprint \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u2193\n\u6307\u7d0b\u767b\u9332\n\u2193\nPAM \u306e\u8a2d\u5b9a\n\n\n<h1>fprint \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</h1>\n\n<h2>FreeBSD</h2>\n<h3>\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</h3>\nsecurity/pam_fprint \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n    # cd /usr/ports/security/pam_fprint\n    # make install\n    (\u4e2d\u7565)\n    =========================================================================\n    In order to enroll new finger prints, you must have r/w access to the\n    usb device node(s) of your finger print reader (i.e., /dev/{ugen, usb*})\n    (tested with UPEK finger print reader as found in Lenovo T61).\n    \n    It is recommended to use devfs.rules(5) and a dedicated group to manage\n    access to your finger print reader.\n    \n    You can use `usbdevs -v' to see if your sensor is accessible.\n    \n    Example configuration:\n    - /etc/rc.conf:\n    devfs_system_ruleset=\"localrules\"\n    \n    - /etc/devfs.rules:\n    [localrules=10]\n    add path 'ugen0*' mode 0660 group operator\n    add path 'usb0*' mode 0660 group operator\n    \n    # /etc/rc.d/devfs restart\n    \n    Read `pam_fprint_enroll --help' to learn about enrolling fingers.\n    \n    The security/fprint_demo port contains the graphical `fprint_demo'\n    application that allows you to manage your finger prints in a comfortable\n    way.\n\n    After enrolling fingerprints for your user(s), you can enable finger\n    print authentication by adding the following line to the corresponding\n    PAM configuration file(s) (see the PAM documentation and the pam_fprint\n    web site for more information).\n    \n    auth            sufficient      /usr/local/lib/pam_fprint.so\n    \n    /etc/pam.d/system is used for system-wide defaults,\n    /etc/pam.d/{gdm, kde} are used by the GDM/KDM login managers.\n    =========================================================================\n    # make clean\n\n\u6307\u7d0b\u767b\u9332\u3092\u3084\u308a\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306b\u3001GUI\u306e\u7ba1\u7406\u30c4\u30fc\u30eb\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n    # cd /usr/ports/security/fprint_demo\n    # make install\n    # make clean\n\n<h3>\u6307\u7d0b\u767b\u9332\u306e\u6e96\u5099</h3>\n<p>\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306f ugen* \u30c7\u30d0\u30a4\u30b9\u306e\u8aad\u307f\u66f8\u304d\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\u305d\u306e\u305f\u3081\u3001devfs \u3092\u4f7f\u3063\u3066\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306b ugen* \u30c7\u30d0\u30a4\u30b9\u306e\u8aad\u307f\u66f8\u304d\u6a29\u9650\u3092\u4e0e\u3048\u306a\u3044\u3068\u3001\u6307\u7d0b\u306e\u767b\u9332\u4f5c\u696d\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n</p>\n\n<p>\n\u307e\u305a\u3001/etc/devfs.conf \u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n</p>\n\n    # \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u304c operator \u30b0\u30eb\u30fc\u30d7\u306b\u5c5e\u3057\u3066\u3044\u308b\u5834\u5408\u306e\u8a2d\u5b9a\n    [localrules=10]\n    add path 'ugen*' mode 0660 group operator\n    add path 'usb*' mode 0660 group operator\n\n\u6b21\u306b\u3001 /etc/rc.conf \u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u52a0\u3048\u307e\u3059\u3002\n\n    devfs_system_ruleset=\"localrules\"\n\ndevfs \u306e\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u307f\u76f4\u3057\u3066\u3001\u6307\u7d0b\u767b\u9332\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n    # /etc/rc.d/devfs restart\n\n\n<h2>NetBSD</h2>\n<h3>\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</h3>\nsecurity/pam-fprint \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n    # cd /usr/pkgsrc/security/pam-fprint\n    # make install\n    (\u4e2d\u7565)\n    ===========================================================================\n    $NetBSD: MESSAGE,v 1.1.1.1 2009/02/26 21:52:00 plunky Exp $\n    \n    Read `pam_fprint_enroll --help' to learn about enrolling fingers. The\n    fingerprint data is stored in the users home directory under the .fprint\n    directory, and the program must have read/write access to the USB devices.\n    \n    After enrolling fingerprints for your user(s), you can enable finger\n    print authentication by adding the following line to the corresponding\n    PAM configuration file(s) in /etc/pam.d\n    \n    auth            sufficient      /usr/pkg/lib/security/pam_fprint.so\n    \n    Note that using a fingerprint to authenticate is not particularly\n    secure, see the pam_fprint web site for more information.\n    ===========================================================================\n    # make clean-depends clean\n\n\u6307\u7d0b\u767b\u9332\u3092\u3084\u308a\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306b\u3001GUI\u306e\u7ba1\u7406\u30c4\u30fc\u30eb\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n    # cd /usr/pkgsrc/security/fprint-demo\n    # make install\n    # make clean-depends clean\n\n<h3>\u6307\u7d0b\u767b\u9332\u306e\u6e96\u5099</h3>\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u304c\u6307\u7d0b\u767b\u9332\u3092\u884c\u3046\u524d\u306b\u3001/dev/usb? \u3068 /dev/ugen* \u3092\u30e6\u30fc\u30b6\u30fc\u304c\n\u8aad\u307f\u66f8\u304d\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n    (\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u304c wheel \u30b0\u30eb\u30fc\u30d7\u306b\u5c5e\u3057\u3066\u3044\u308b\u5834\u5408)\n    % sudo chmod g+rw /dev/usb? /dev/ugen*\n\n\n\u6307\u7d0b\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n    % dmesg | grep ugen\n    ugen0 at uhub0 port 2\n    ugen0: STMicroelectronics Biometric Coprocessor, rev 1.00/0.01, addr 3\n\n\u3082\u3057\u3001 \u6307\u7d0b\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u304c /dev/ugen1 \u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u308b\u5834\u5408\u306b\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\nugen1 \u306e\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u3001\u6307\u7d0b\u8a8d\u8a3c\u304c\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n    % su\n    # cd /dev\n    # ./MAKEDEV ugen1\n\n\n<h1>\u6307\u7d0b\u767b\u9332</h1>\nfprint \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u6307\u7d0b\u767b\u9332\u4f5c\u696d\u3092\u884c\u3044\u307e\u3059\u3002\n\n<h3>CLI\u3067\u306e\u6307\u7d0b\u767b\u9332</h3>\nsecurity/pam-fprint \u306b\u4ed8\u5c5e\u3059\u308b pam_fprint_enroll \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\n\u6307\u7d0b\u767b\u9332\u3092\u884c\u3044\u307e\u3059\u3002\n\n(\u3057\u304b\u3057\u3001\u79c1\u306e\u74b0\u5883\u3067\u306f\u3046\u307e\u304f\u767b\u9332\u3067\u304d\u307e\u305b\u3093...)\n\n    % pam_fprint_enroll --help\n    Usage: pam_fprint_enroll options\n    \t-h\t--help\t\t\tDisplay this usage information.\n    \t-f\t--enroll-finger index\tEnroll finger with index.\n        \n    \tValid indexes are:\n    \t1 - Left Thumb\n    \t2 - Left Index Finger\n    \t3 - Left Middle Finger\n    \t4 - Left Ring Finger\n    \t5 - Left Little Finger\n    \t6 - Right Thumb\n    \t7 - Right Index Finger\n    \t8 - Right Middle Finger\n    \t9 - Right Ring Finger\n    \t10 - Right Little Finger\n    % pam_fprint_enroll -f 7\n    This program will enroll your finger, unconditionally overwriting\n    any selected print that was enrolled previously. If you want to\n    continue, press enter, otherwise hit Ctrl+C\n    <span style=\"color: yellow\">(Enter \u3092\u5165\u529b)</span>\n    \n    Found device claimed by UPEK TouchStrip driver\n    Opened device. It's now time to enroll your finger.\n    \n    You will need to successfully scan your Right Index Finger 3 times\n    to complete the process.\n    \n    Scan your finger now.\n    <span style=\"color: yellow\">(\u6307\u3092\u8aad\u307f\u53d6\u3089\u305b\u308b\u3051\u3069\u3001\u3046\u307e\u304f\u3044\u304b\u306a\u3044)</span>\n    </pre>\n\n<h3>GUI\u3067\u306e\u6307\u7d0b\u767b\u9332</h3>\nGUI\u3067\u767b\u9332\u3092\u884c\u3046\u5834\u5408\u306b\u306f\u3001fprint_demo \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u3067\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u6642\u306b\u3001/dev/ugen* \u3092\n\u8aad\u307f\u53d6\u308a\u53ef\u80fd\u306b\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u3001\u6307\u7d0b\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u304c\u8a8d\u8b58\u3055\u308c\u307e\u305b\u3093\u3002\n\n    % fprint_demo\n\n![fprint_demo \u306e\u753b\u9762](https://qiita-image-store.s3.amazonaws.com/0/39232/2d605628-5223-f418-bb20-ae66a75ffb7b.png)\n\n\u8aad\u307f\u53d6\u3089\u305b\u305f\u3044\u6307\u306e\"Enroll\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u30013\u5ea6\u6307\u7d0b\u3092\u8aad\u307f\u53d6\u3089\u305b\u308b\u3068\n\u6307\u7d0b\u304c\u767b\u9332\u3055\u308c\u307e\u3059\u3002\n\n![fprint_demo \u306e\u6307\u7d0b\u767b\u9332\u30c0\u30a4\u30a2\u30ed\u30b0](https://qiita-image-store.s3.amazonaws.com/0/39232/7e4bd0ed-b7fc-c25f-d276-c3ba35776b9b.png)\n\n\u3053\u306e\u3068\u304d\u3001\u6700\u5f8c\u306b\u8aad\u307f\u53d6\u3089\u305b\u305f\u6307\u304c\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u30c1\u30a7\u30c3\u30af\u5bfe\u8c61\u3068\u306a\u308a\u307e\u3059\u3002\n\n    login: yamajun\n    Scan *right index finger* on UPEK TouchStrip\n\n<h1>PAM\u306e\u8a2d\u5b9a</h1>\n\u3053\u3053\u304b\u3089\u306e\u8a2d\u5b9a\u4f5c\u696d\u3067\u306f\u8a2d\u5b9a\u306b\u5931\u6557\u3057\u305f\u6642\u306e\u305f\u3081\u306b\u3001\u4ed6\u306e\u30db\u30b9\u30c8\u304b\u3089\nSSH \u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u5b89\u5168\u306b\u4f5c\u696d\u3067\u304d\u307e\u3059\u3002\n\n<h2>FreeBSD</h2>\n\nsecurity/pam_fprint \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u6642\u306e\u6307\u793a\u306b\u5f93\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u5217\u3092\n/etc/pam.d/login \u306e auth \u304c\u4e26\u3093\u3067\u3044\u308b\u90e8\u5206\u306e\u5148\u982d\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n    auth            sufficient      /usr/local/lib/pam_fprint.so\n\n<h2>NetBSD</h2>\nsecurity/pam-fprint \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u6642\u306e\u6307\u793a\u306b\u5f93\u3063\u3066\n/etc/pam.d/login \u306e auth \u304c\u4e26\u3093\u3067\u3044\u308b\u90e8\u5206\u306e\u5148\u982d\u306b pam_fprint.so \u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n    # auth\n    # \u2193\u3053\u3053\u306b\u633f\u5165\n    auth            sufficient      /usr/pkg/lib/security/pam_fprint.so\n    auth            sufficient      pam_self.so             no_warn\n    auth            required        pam_nologin.so          no_warn\n    auth            include         system\n\n"}