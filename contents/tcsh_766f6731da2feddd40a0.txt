{"context": "\n\n\u524d\u63d0\u6761\u4ef6\n\nS3\nS3(conf)\u30d0\u30b1\u30c3\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u6a29\n\n0. \u6e96\u5099\n\n1. \u4e8b\u524d\u4f5c\u696d\n\n1.1. AMI\u8a2d\u5b9a\u60c5\u5831\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6307\u5b9a\n\n\u5909\u6570\u306e\u6307\u5b9a\nDIR_CONF_AMI='config-ami-handson-20170213'\n\n\n\n1.2. S3\u30d0\u30b1\u30c3\u30c8\u306e\u6307\u5b9a\n\n\u5909\u6570\u306e\u6307\u5b9a\nS3_BUCKET_NAME=\"conf-${AWS_ID}\"\n\n\n\n2. S3\u3078\u306e\u8ee2\u9001\n\n\u5909\u6570\u306e\u78ba\u8a8d\ncat << ETX\n\n  DIR_CONF_AMI:   ${DIR_CONF_AMI}\n  S3_BUCKET_NAME: ${S3_BUCKET_NAME}\n\nETX\n\n\n\n\u30b3\u30de\u30f3\u30c9\naws s3 sync ${DIR_CONF_AMI} s3://${S3_BUCKET_NAME}/${DIR_CONF_AMI} \\\n        --exclude \".*\" \\\n        --delete\n\n\n\u7d50\u679c(\u4f8b):\n  upload: config-apache-redmine/sample-index.html to s3://conf-${AWS_ID}/config-ami-handson-20170213/database.yml\n  upload: config-apache-redmine/sample-index.html to s3://conf-${AWS_ID}/config-ami-handson-20170213/httpd-redmine.conf\n\n\n3. \u4e8b\u5f8c\u4f5c\u696d\n\n\u30b3\u30de\u30f3\u30c9\naws s3 ls s3://${S3_BUCKET_NAME}/${DIR_CONF_AMI}/\n\n\n\u7d50\u679c(\u4f8b):\n  2017-02-13 01:23:45         195 database.yml\n  2017-02-13 01:23:45         513 httpd-redmine.conf\n\n\n\u5b8c\u4e86\n\n\n\u524d\u63d0\u6761\u4ef6\n========\n\n\nS3\n--\n\nS3(conf)\u30d0\u30b1\u30c3\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u6a29\n\n\n0. \u6e96\u5099\n=======\n\n\n1. \u4e8b\u524d\u4f5c\u696d\n===========\n\n\n1.1. AMI\u8a2d\u5b9a\u60c5\u5831\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6307\u5b9a\n----------------------------------\n\n```bash:\u5909\u6570\u306e\u6307\u5b9a:\nDIR_CONF_AMI='config-ami-handson-20170213'\n```\n\n\n1.2. S3\u30d0\u30b1\u30c3\u30c8\u306e\u6307\u5b9a\n---------------------\n\n```bash:\u5909\u6570\u306e\u6307\u5b9a:\nS3_BUCKET_NAME=\"conf-${AWS_ID}\"\n```\n\n\n2. S3\u3078\u306e\u8ee2\u9001\n=============\n\n```bash:\u5909\u6570\u306e\u78ba\u8a8d:\ncat << ETX\n\n  DIR_CONF_AMI:   ${DIR_CONF_AMI}\n  S3_BUCKET_NAME: ${S3_BUCKET_NAME}\n\nETX\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws s3 sync ${DIR_CONF_AMI} s3://${S3_BUCKET_NAME}/${DIR_CONF_AMI} \\\n        --exclude \".*\" \\\n        --delete\n```\n\n\u7d50\u679c(\u4f8b):\n\n      upload: config-apache-redmine/sample-index.html to s3://conf-${AWS_ID}/config-ami-handson-20170213/database.yml\n      upload: config-apache-redmine/sample-index.html to s3://conf-${AWS_ID}/config-ami-handson-20170213/httpd-redmine.conf\n\n\n3. \u4e8b\u5f8c\u4f5c\u696d\n===========\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws s3 ls s3://${S3_BUCKET_NAME}/${DIR_CONF_AMI}/\n```\n\n\u7d50\u679c(\u4f8b):\n\n      2017-02-13 01:23:45         195 database.yml\n      2017-02-13 01:23:45         513 httpd-redmine.conf\n\n\n\u5b8c\u4e86\n====\n", "tags": ["AWS", "awscli", "S3", "Redmine"]}