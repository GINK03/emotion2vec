{"context": " More than 1 year has passed since last update.Rails\u306b\u3088\u308b\u30a2\u30b8\u30e3\u30a4\u30ebWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\u7b2c4\u7248\n\u3053\u306e\u66f8\u7c4d\u3067\u52c9\u5f37\u3092\u884c\u3063\u3066\u3044\u308b\u306e\u3060\u304c\u3001\u66f8\u304b\u308c\u305f\u6642\u671f\u304c2011\u5e74\u3067\u3001Rails\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c3\u3067\u3042\u308b\u3002\u306a\u306e\u3067\u3001\u73fe\u5728\u306eRails4\u3067\u958b\u767a\u3057\u3066\u3044\u305f\u306e\u3060\u304c\u3001Model\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3067\u306e\u6b63\u898f\u8868\u73fe\u3092\u66f8\u3044\u3066\u3044\u308b\u969b\u3001\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u73fe\nThe provided regular expression is using multiline anchors (^ or $), which may present a security risk. Did you mean to use \\A and \\z, or forgot to add the :multiline => true option?\n\u3050\u3050\u3063\u3066\u307f\u305f\u3089\u3001\u5168\u304f\u540c\u3058\u3068\u3053\u308d\u3067\u8e93\u3044\u3066\u3044\u305f\u4eba\u304c\u3044\u305f\u306e\u3067\u3001\u305d\u306e\u8a18\u4e8b\u3092\u898b\u3066\u89e3\u6c7a\u3057\u305f\u306e\u3067\u3001\u5909\u3048\u305f\u30b3\u30fc\u30c9\u3068\u3068\u3082\u306b\u63b2\u8f09\u3057\u3066\u304a\u304f\n\nbefore\n\nproduct.rb\nclass Product < ActiveRecord::Base\n  validates :title, :description, :image_url, presence: true\n  validates :price, numericality: {greater_than_or_equal_to: 0.01}\n  validates :title, uniqueness: true\n  validates :image_url, allow_blank: true, format: {\n    with: %r{\\.(gif|jpg|png)$}i,\n    message: '\u306fGIF,JPG,PNG\u753b\u50cf\u306eURL\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093'\n  }\nend\n\n\nRails4\u3067\u306f\u3001^\u3092\\A\u3067\u3001$\u3092\\Z\u3067\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308b\u3089\u3057\u3044\u306e\u3067\u3001\n\u3053\u306e\u30b3\u30fc\u30c9\u3067\u3001with: %r{.(gif|jpg|png|$}i\u306e\u8a18\u8ff0\u306f\u3001$\u3092\\Z\u306b\u5909\u3048\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u3002\n\nafter\n\nproduct.rb\nclass Product < ActiveRecord::Base\n  validates :title, :description, :image_url, presence: true\n  validates :price, numericality: {greater_than_or_equal_to: 0.01}\n  validates :title, uniqueness: true\n  validates :image_url, allow_blank: true, format: {\n    with: %r{\\.(gif|jpg|png)\\z}i,\n    message: '\u306fGIF,JPG,PNG\u753b\u50cf\u306eURL\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093'\n  }\nend\n\n\n\n[Rails\u306b\u3088\u308b\u30a2\u30b8\u30e3\u30a4\u30ebWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\u7b2c4\u7248](http://www.amazon.co.jp/Rails%E3%81%AB%E3%82%88%E3%82%8B%E3%82%A2%E3%82%B8%E3%83%A3%E3%82%A4%E3%83%ABWeb%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA-%E7%AC%AC4%E7%89%88-Sam-Ruby/dp/4274068668)\n\u3053\u306e\u66f8\u7c4d\u3067\u52c9\u5f37\u3092\u884c\u3063\u3066\u3044\u308b\u306e\u3060\u304c\u3001\u66f8\u304b\u308c\u305f\u6642\u671f\u304c2011\u5e74\u3067\u3001Rails\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c3\u3067\u3042\u308b\u3002\u306a\u306e\u3067\u3001\u73fe\u5728\u306eRails4\u3067\u958b\u767a\u3057\u3066\u3044\u305f\u306e\u3060\u304c\u3001Model\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3067\u306e\u6b63\u898f\u8868\u73fe\u3092\u66f8\u3044\u3066\u3044\u308b\u969b\u3001\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u73fe\n\n__The provided regular expression is using multiline anchors (^ or $), which may present a security risk. Did you mean to use \\A and \\z, or forgot to add the :multiline => true option?__\n\n\u3050\u3050\u3063\u3066\u307f\u305f\u3089\u3001\u5168\u304f\u540c\u3058\u3068\u3053\u308d\u3067\u8e93\u3044\u3066\u3044\u305f\u4eba\u304c\u3044\u305f\u306e\u3067\u3001[\u305d\u306e\u8a18\u4e8b](http://jumperson.hatenablog.com/entry/2013/06/27/062237)\u3092\u898b\u3066\u89e3\u6c7a\u3057\u305f\u306e\u3067\u3001\u5909\u3048\u305f\u30b3\u30fc\u30c9\u3068\u3068\u3082\u306b\u63b2\u8f09\u3057\u3066\u304a\u304f\n\n\n#### before\n\n```ruby:product.rb\nclass Product < ActiveRecord::Base\n  validates :title, :description, :image_url, presence: true\n  validates :price, numericality: {greater_than_or_equal_to: 0.01}\n  validates :title, uniqueness: true\n  validates :image_url, allow_blank: true, format: {\n    with: %r{\\.(gif|jpg|png)$}i,\n    message: '\u306fGIF,JPG,PNG\u753b\u50cf\u306eURL\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093'\n  }\nend\n```\nRails4\u3067\u306f\u3001\\^\u3092\\A\u3067\u3001\\$\u3092\\Z\u3067\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308b\u3089\u3057\u3044\u306e\u3067\u3001\n\u3053\u306e\u30b3\u30fc\u30c9\u3067\u3001_with: %r{\\.(gif|jpg|png|$}i_\u306e\u8a18\u8ff0\u306f\u3001\\$\u3092\\Z\u306b\u5909\u3048\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u3002\n\n#### after\n\n```ruby:product.rb\nclass Product < ActiveRecord::Base\n  validates :title, :description, :image_url, presence: true\n  validates :price, numericality: {greater_than_or_equal_to: 0.01}\n  validates :title, uniqueness: true\n  validates :image_url, allow_blank: true, format: {\n    with: %r{\\.(gif|jpg|png)\\z}i,\n    message: '\u306fGIF,JPG,PNG\u753b\u50cf\u306eURL\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093'\n  }\nend\n```\n\n", "tags": ["Rails3, 4", "\u6b63\u898f\u8868\u73fe"]}