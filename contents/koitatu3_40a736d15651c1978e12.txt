{"context": "\u793e\u5185\u691c\u8a3c\u7528\u306bCentOS7\u3092minimal\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u969b\u306b\u3001\u81ea\u5206\u306e\u4e0d\u624b\u969b\u3067\u8272\u3005\u30cf\u30de\u3063\u305f\u3002\n\u305d\u306e\u6642\u8abf\u3079\u305fNIC\u5468\u308a\u3084\u3089SSH\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u307e\u3067\u306e\u8a2d\u5b9a\u30e1\u30e2\u3002\nNetworkManager\u306f\u4e2d\u3005\u624b\u5f37\u304b\u3063\u305f\u3002net-tools\u5165\u308c\u305f\u3051\u3069\u3001\u6163\u308c\u306a\u3051\u308c\u3070\u2026\u3002\n\nNW\u5468\u308a\n\nNIC\u72b6\u614b\u78ba\u8a8d\n[root@testsv ~]# nmcli device\n\u30c7\u30d0\u30a4\u30b9  \u30bf\u30a4\u30d7    \u72b6\u614b      \u63a5\u7d9a   \nenp2s0    ethernet  \u63a5\u7d9a\u6e08\u307f  enp2s0 \neno1      ethernet  \u5229\u7528\u4e0d\u53ef  --     \nlo        loopback  \u7ba1\u7406\u7121\u3057  --     \n[root@testsv ~]# \n\n\u3082\u3057\u304f\u306f nmcli d \u3067\u3082\u3044\u3044\u3089\u3057\u3044\u3002\n\nIP\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d\n\u3061\u306a\u307f\u306b\u4e0b\u8a18\u306fIP\u632f\u3063\u305f\u5f8c\u3002\n(NIC\u88cf\u3063\u8fd4\u3063\u3066\u3084\u304c\u308b\u2026)\n[root@testsv ~]# ip addr show\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN \n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n2: enp2s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000\n    link/ether 28:92:4a:34:0f:76 brd ff:ff:ff:ff:ff:ff\n       valid_lft forever preferred_lft forever\n    inet6 fe80::2a92:4aff:fe34:f76/64 scope link \n       valid_lft forever preferred_lft forever\n3: eno1: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc pfifo_fast state DOWN qlen 1000\n    link/ether 28:92:4a:34:0f:77 brd ff:ff:ff:ff:ff:ff\n[root@testsv ~]# nmcli c modify enp2s0 ipv4.address 192.168.4.15/24\n\n\nIPv4\u3067IP\u3092\u632f\u308b\u3002(IP\u3068\u30c7\u30d5\u30a9\u30b2\u4f75\u305b\u3066\u8a2d\u5b9a)\n[root@testsv ~]# nmcli connection modify enp2s0 ipv4.method manual ipv4.addresses 192.168.4.15/24 ipv4.gateway 192.168.4.241 \n\n\u3053\u308c\u3082 nmcli c mod \u306e\u7565\u5f0f\u3067\u3044\u3051\u308b\u3089\u3057\u3044\u3002\n\n\u30ea\u30be\u30eb\u30d0\u8a2d\u5b9a\u3002\u6211\u6162\u3067\u304d\u305a\u306bresolv.conf\u306b\u76f4\u66f8\u304d\u3057\u305f\u2026\u3002\n[root@testsv ~]# echo \"nameserver 8.8.8.8\" > /etc/resolv.conf\n\n\n\u5f8c\u3067\u898b\u306a\u304a\u3057\u305f\u3089\u3001DNS\u8a2d\u5b9a\u304c\u30d6\u30e9\u30f3\u30af\u306b\u2026\u3002\n[root@testsv ~]# nmcli --fields ipv4 connection show enp2s0\nipv4.method:                            manual\nipv4.dns:                               \nipv4.dns-search:                        \nipv4.addresses:                         192.168.4.15/24\nipv4.gateway:                           192.168.4.254\nipv4.routes:                            \nipv4.route-metric:                      -1\nipv4.ignore-auto-routes:                no\nipv4.ignore-auto-dns:                   no\nipv4.dhcp-client-id:                    --\nipv4.dhcp-send-hostname:                yes\nipv4.dhcp-hostname:                     --\nipv4.never-default:                     no\nipv4.may-fail:                          no\n[root@testsv ~]#\n\n\u3067\u3082\u3001curl http://google.com\u3057\u3066\u3001\u3061\u3083\u3093\u3068\u7d50\u679c\u5e30\u3063\u3066\u304d\u305f\u3093\u3067\u3059\u2026\u3002\u5618\u3058\u3083\u306a\u3044\u3093\u3067\u3059\u2026\u3002\n\u304a\u305d\u3089\u304f\u3001NIC\u6bce\u306b\u30ea\u30be\u30eb\u30d0\u8a2d\u5b9a\u3067\u304d\u3066\u3001\u672a\u8a2d\u5b9a\u306a\u3089resolv.conf\u898b\u3066\u304f\u308c\u308b\u3093\u3058\u3083\u306a\u3044\u304b\uff1f\u3068\u4e88\u60f3\u3002(\u6839\u62e0\u30bc\u30ed\u3002)\n\n\u672c\u5f53\u306f\u3053\u3063\u3061\u304c\u63a8\u5968\u3089\u3057\u3044\u3002\n# \u30ea\u30be\u30eb\u30d0\u8a2d\u5b9a\n[root@testsv ~]# nmcli connection modify enp2s0 ipv4.dns 8.8.8.8\n\n# IP\u3068\u30c7\u30d5\u30a9\u30b2\u3068\u30ea\u30be\u30eb\u30d0\u307e\u3068\u3081\u3066\u8a2d\u5b9a\u3002\n[root@testsv ~]# nmcli connection modify enp2s0 ipv4.method manual ipv4.addresses 192.168.4.15/24 ipv4.gateway 192.168.4.254 ipv4.dns 8.8.8.8\n\n\nNIC\u843d\u3068\u3057\u4e0a\u3052\nifdown/ifup\u76f8\u5f53\uff1f\n[root@testsv ~]# nmcli connection down enp2s0\n[root@testsv ~]# nmcli connection up enp2s0\n\n\nSELinux\n\nSELinux\u7121\u52b9\u5316\u3002\u3053\u306e\u3042\u305f\u308a\u306fRHEL6(CentOS6)\u307e\u3067\u3068\u5909\u308f\u3089\u305a\u3002\n\u5b9a\u756a\u3060\u3051\u3069\u3001\u65b0\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3067\u9069\u5f53\u306b\u30dd\u30c1\u30dd\u30c1\u3057\u3066\u305f\u3089\u3001\u7121\u52b9\u5316\u3057\u5fd8\u308c\u3066\u305f\u2026\u3002\nsshd\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u5909\u3048\u305f\u9014\u7aef\u306b\u3064\u306a\u304c\u3089\u306a\u3044\u304b\u3089\u3001\u3084\u3063\u3071\u308a\u305d\u3046\u3060\u3063\u305f\u3088\u2026\u3002\n\u4e45\u3057\u3076\u308a\u306b\u3053\u3093\u306a\u30df\u30b9\u3057\u305f\u308forz\u3002\n[root@testsv ~]# grep ^SELINUX= /etc/sysconfig/selinux \nSELINUX=enforcing\n[root@testsv ~]# \n[root@testsv ~]# sed -ie 's|SELINUX=enforcing|SELINUX=disabled|g' /etc/sysconfig/selinux \n[root@testsv ~]# grep ^SELINUX= /etc/sysconfig/selinux \nSELINUX=disabled\n[root@testsv ~]# \n\n\nPermisive\u306b\u3059\u308b\u306e\u3082\u76f8\u5909\u308f\u3089\u305a\u3002\n[root@testsv ~]# setenforce 0 \n[root@testsv ~]# getenforce \nDisabled\n[root@testsv ~]# \n\n\nfirewalld\u3001iptables\u5468\u308a\n\n\u65b0\u6a5f\u80fd\u306efirewalld\u306e\u81ea\u52d5\u8d77\u52d5\u3092OFF\u306b\u3057\u3061\u3083\u3046\u3002\nfirewalld\u306fiptables\u306e\u4ee3\u66ff\u3002\u5185\u90e8\u7684\u306biptables\u3092\u4f7f\u3063\u3066\u3044\u308b\u3089\u3057\u3044\u3002\n\u78ba\u304b\u3001\u300cOpenstack\u7528\u3068\u304b\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u64cd\u4f5c\u3057\u3084\u3059\u3044\u3088\u3046\u3001\u308f\u3056\u308f\u3056\u65b0\u305f\u306b\u4f5c\u3063\u305f\u300d\n\u2026\u307f\u305f\u3044\u306a\u8a71\u3092Openstack\u672c\u66f8\u3044\u3066\u3044\u308b\u4eba\u304b\u3089\u805e\u3044\u305f\u6c17\u304c\u3059\u308b\uff57\n[root@testsv ~]# systemctl disable firewalld\nrm '/etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service'\nrm '/etc/systemd/system/basic.target.wants/firewalld.service'\n[root@testsv ~]# \n\n\n\u81ea\u52d5\u8d77\u52d5OFF\u306b\u306a\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3002\n[root@testsv ~]# systemctl list-unit-files -t service |grep fire\nfirewalld.service                           disabled\n[root@testsv ~]# \n\n\n\u6163\u308c\u89aa\u3057\u3093\u3060iptables\u306b\u5207\u308a\u66ff\u3048\u3061\u3083\u3048\u3002\n\u8d77\u52d5\uff01\u3048\u2026\u3067\u304d\u2026\u306a\u3044\uff01\uff1f\n[root@testsv ~]# systemctl start iptables.service\nFailed to issue method call: Unit iptables.service failed to load: No such file or directory.\n[root@testsv ~]\n\n\n\u3069\u3046\u3084\u3089\u3001firewalld\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u3001iptables\u306e\u4e00\u90e8\u304c\u5165\u3063\u3066\u3044\u308b\u3060\u3051\u3067\u3001\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u306f\u5165\u3063\u3066\u3044\u306a\u3044\u3089\u3057\u3044\u3002\n[root@testsv ~]# rpm -qa |grep iptables\niptables-1.4.21-13.el7.x86_64\n[root@testsv ~]# \n[root@testsv ~]# yum search iptables\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror\nLoading mirror speeds from cached hostfile\n * base: ftp.tsukuba.wide.ad.jp\n * extras: ftp.tsukuba.wide.ad.jp\n * updates: ftp.tsukuba.wide.ad.jp\n=========================================================================================================== N/S matched: iptables ===========================================================================================================\niptables-devel.i686 : Development package for iptables\niptables-devel.x86_64 : Development package for iptables\niptables-services.x86_64 : iptables and ip6tables services for iptables\niptables-utils.x86_64 : iptables and ip6tables services for iptables\niptables.i686 : Tools for managing Linux kernel packet filtering capabilities\niptables.x86_64 : Tools for managing Linux kernel packet filtering capabilities\n\n  Name and summary matches only, use \"search all\" for everything.\n[root@testsv ~]# \n\n\niptables-service\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u8d77\u52d5\u3002\n[root@testsv ~]# systemctl start iptables.service\n[root@testsv ~]# iptables -nL\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \nACCEPT     all  --  0.0.0.0/0            0.0.0.0/0            state RELATED,ESTABLISHED\nACCEPT     icmp --  0.0.0.0/0            0.0.0.0/0           \nACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           \nACCEPT     tcp  --  0.0.0.0/0            0.0.0.0/0            state NEW tcp dpt:22\nREJECT     all  --  0.0.0.0/0            0.0.0.0/0            reject-with icmp-host-prohibited\n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \nREJECT     all  --  0.0.0.0/0            0.0.0.0/0            reject-with icmp-host-prohibited\n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n[root@testsv ~]# \n\n\n\u3067\u3082\u3001\u3069\u3046\u305b\u793e\u5185\u8a2d\u7f6e\u306e\u691c\u8a3c\u30b5\u30fc\u30d0\u306a\u306e\u3067flush\u3057\u3066\u3057\u307e\u3046\uff57\n[root@testsv ~]# iptables -nL\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n[root@testsv ~]# \n\n\n\u305d\u308c\u3067\u3082\u3001\u4e00\u5fdc\u81ea\u52d5\u8d77\u52d5\u306f\u6709\u52b9\u5316\u3057\u3066\u304a\u304f\uff57\ndocker\u5165\u308c\u308b\u304b\u3082\u3057\u308c\u3093\u3057\u306d\u3002\n[root@testsv ~]# systemctl list-unit-files -t service |grep iptables\niptables.service                            disabled\n[root@testsv ~]# \n[root@testsv ~]# systemctl enable iptables\nln -s '/usr/lib/systemd/system/iptables.service' '/etc/systemd/system/basic.target.wants/iptables.service'\n[root@testsv ~]# systemctl list-unit-files -t service |grep iptables\niptables.service                            enabled\n[root@testsv ~]# \n\n\u3053\u3053\u3067OS\u518d\u8d77\u52d5\u3057\u3066SELinux\u306e\u7121\u52b9\u5316\u3092\u53cd\u6620\u3057\u3001\u7121\u4e8bSSH\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\nRHEL6\u307e\u3067\u3068\u6bd4\u3079\u308b\u3068\u3001\u30d7\u30ed\u30b0\u30e9\u30de\u5bc4\u308a\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306b\u306a\u3063\u3066\u3044\u308b\u6c17\u304c\u3059\u308b\u3002\n\u65e9\u3044\u3046\u3061\u306bsystemd\u306b\u6163\u308c\u3066\u304a\u304b\u306a\u3044\u3068\u3001\u672c\u5f53\u306b\u3084\u3070\u305d\u3046\u3060\u2026\u3002\n\u793e\u5185\u691c\u8a3c\u7528\u306bCentOS7\u3092minimal\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u969b\u306b\u3001\u81ea\u5206\u306e\u4e0d\u624b\u969b\u3067\u8272\u3005\u30cf\u30de\u3063\u305f\u3002\n\u305d\u306e\u6642\u8abf\u3079\u305fNIC\u5468\u308a\u3084\u3089SSH\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u307e\u3067\u306e\u8a2d\u5b9a\u30e1\u30e2\u3002\nNetworkManager\u306f\u4e2d\u3005\u624b\u5f37\u304b\u3063\u305f\u3002net-tools\u5165\u308c\u305f\u3051\u3069\u3001\u6163\u308c\u306a\u3051\u308c\u3070\u2026\u3002\n\n\n# NW\u5468\u308a\n## NIC\u72b6\u614b\u78ba\u8a8d\n\n```\n[root@testsv ~]# nmcli device\n\u30c7\u30d0\u30a4\u30b9  \u30bf\u30a4\u30d7    \u72b6\u614b      \u63a5\u7d9a   \nenp2s0    ethernet  \u63a5\u7d9a\u6e08\u307f  enp2s0 \neno1      ethernet  \u5229\u7528\u4e0d\u53ef  --     \nlo        loopback  \u7ba1\u7406\u7121\u3057  --     \n[root@testsv ~]# \n```\n\n\u3082\u3057\u304f\u306f ```nmcli d``` \u3067\u3082\u3044\u3044\u3089\u3057\u3044\u3002\n\n## IP\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d\n\u3061\u306a\u307f\u306b\u4e0b\u8a18\u306fIP\u632f\u3063\u305f\u5f8c\u3002\n(NIC\u88cf\u3063\u8fd4\u3063\u3066\u3084\u304c\u308b\u2026)\n\n```\n[root@testsv ~]# ip addr show\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN \n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n2: enp2s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000\n    link/ether 28:92:4a:34:0f:76 brd ff:ff:ff:ff:ff:ff\n       valid_lft forever preferred_lft forever\n    inet6 fe80::2a92:4aff:fe34:f76/64 scope link \n       valid_lft forever preferred_lft forever\n3: eno1: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc pfifo_fast state DOWN qlen 1000\n    link/ether 28:92:4a:34:0f:77 brd ff:ff:ff:ff:ff:ff\n[root@testsv ~]# nmcli c modify enp2s0 ipv4.address 192.168.4.15/24\n```\n\n## IPv4\u3067IP\u3092\u632f\u308b\u3002(IP\u3068\u30c7\u30d5\u30a9\u30b2\u4f75\u305b\u3066\u8a2d\u5b9a)\n\n```\n[root@testsv ~]# nmcli connection modify enp2s0 ipv4.method manual ipv4.addresses 192.168.4.15/24 ipv4.gateway 192.168.4.241 \n```\n\n\u3053\u308c\u3082 ``` nmcli c mod ``` \u306e\u7565\u5f0f\u3067\u3044\u3051\u308b\u3089\u3057\u3044\u3002\n\n## \u30ea\u30be\u30eb\u30d0\u8a2d\u5b9a\u3002\u6211\u6162\u3067\u304d\u305a\u306bresolv.conf\u306b\u76f4\u66f8\u304d\u3057\u305f\u2026\u3002\n```\n[root@testsv ~]# echo \"nameserver 8.8.8.8\" > /etc/resolv.conf\n```\n\n## \u5f8c\u3067\u898b\u306a\u304a\u3057\u305f\u3089\u3001DNS\u8a2d\u5b9a\u304c\u30d6\u30e9\u30f3\u30af\u306b\u2026\u3002\n\n```\n[root@testsv ~]# nmcli --fields ipv4 connection show enp2s0\nipv4.method:                            manual\nipv4.dns:                               \nipv4.dns-search:                        \nipv4.addresses:                         192.168.4.15/24\nipv4.gateway:                           192.168.4.254\nipv4.routes:                            \nipv4.route-metric:                      -1\nipv4.ignore-auto-routes:                no\nipv4.ignore-auto-dns:                   no\nipv4.dhcp-client-id:                    --\nipv4.dhcp-send-hostname:                yes\nipv4.dhcp-hostname:                     --\nipv4.never-default:                     no\nipv4.may-fail:                          no\n[root@testsv ~]#\n```\n\n\u3067\u3082\u3001```curl http://google.com```\u3057\u3066\u3001\u3061\u3083\u3093\u3068\u7d50\u679c\u5e30\u3063\u3066\u304d\u305f\u3093\u3067\u3059\u2026\u3002\u5618\u3058\u3083\u306a\u3044\u3093\u3067\u3059\u2026\u3002\n\u304a\u305d\u3089\u304f\u3001NIC\u6bce\u306b\u30ea\u30be\u30eb\u30d0\u8a2d\u5b9a\u3067\u304d\u3066\u3001\u672a\u8a2d\u5b9a\u306a\u3089resolv.conf\u898b\u3066\u304f\u308c\u308b\u3093\u3058\u3083\u306a\u3044\u304b\uff1f\u3068\u4e88\u60f3\u3002(\u6839\u62e0\u30bc\u30ed\u3002)\n\n## \u672c\u5f53\u306f\u3053\u3063\u3061\u304c\u63a8\u5968\u3089\u3057\u3044\u3002\n\n```\n# \u30ea\u30be\u30eb\u30d0\u8a2d\u5b9a\n[root@testsv ~]# nmcli connection modify enp2s0 ipv4.dns 8.8.8.8\n\n# IP\u3068\u30c7\u30d5\u30a9\u30b2\u3068\u30ea\u30be\u30eb\u30d0\u307e\u3068\u3081\u3066\u8a2d\u5b9a\u3002\n[root@testsv ~]# nmcli connection modify enp2s0 ipv4.method manual ipv4.addresses 192.168.4.15/24 ipv4.gateway 192.168.4.254 ipv4.dns 8.8.8.8\n```\n\n\n\n## NIC\u843d\u3068\u3057\u4e0a\u3052\nifdown/ifup\u76f8\u5f53\uff1f\n\n```\n[root@testsv ~]# nmcli connection down enp2s0\n[root@testsv ~]# nmcli connection up enp2s0\n```\n\n\n# SELinux\n## SELinux\u7121\u52b9\u5316\u3002\u3053\u306e\u3042\u305f\u308a\u306fRHEL6(CentOS6)\u307e\u3067\u3068\u5909\u308f\u3089\u305a\u3002\n\u5b9a\u756a\u3060\u3051\u3069\u3001\u65b0\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3067\u9069\u5f53\u306b\u30dd\u30c1\u30dd\u30c1\u3057\u3066\u305f\u3089\u3001\u7121\u52b9\u5316\u3057\u5fd8\u308c\u3066\u305f\u2026\u3002\nsshd\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u5909\u3048\u305f\u9014\u7aef\u306b\u3064\u306a\u304c\u3089\u306a\u3044\u304b\u3089\u3001\u3084\u3063\u3071\u308a\u305d\u3046\u3060\u3063\u305f\u3088\u2026\u3002\n\u4e45\u3057\u3076\u308a\u306b\u3053\u3093\u306a\u30df\u30b9\u3057\u305f\u308forz\u3002\n\n```\n[root@testsv ~]# grep ^SELINUX= /etc/sysconfig/selinux \nSELINUX=enforcing\n[root@testsv ~]# \n[root@testsv ~]# sed -ie 's|SELINUX=enforcing|SELINUX=disabled|g' /etc/sysconfig/selinux \n[root@testsv ~]# grep ^SELINUX= /etc/sysconfig/selinux \nSELINUX=disabled\n[root@testsv ~]# \n```\n\n## Permisive\u306b\u3059\u308b\u306e\u3082\u76f8\u5909\u308f\u3089\u305a\u3002\n\n```\n[root@testsv ~]# setenforce 0 \n[root@testsv ~]# getenforce \nDisabled\n[root@testsv ~]# \n```\n\n#firewalld\u3001iptables\u5468\u308a\n## \u65b0\u6a5f\u80fd\u306efirewalld\u306e\u81ea\u52d5\u8d77\u52d5\u3092OFF\u306b\u3057\u3061\u3083\u3046\u3002\nfirewalld\u306fiptables\u306e\u4ee3\u66ff\u3002\u5185\u90e8\u7684\u306biptables\u3092\u4f7f\u3063\u3066\u3044\u308b\u3089\u3057\u3044\u3002\n\u78ba\u304b\u3001\u300cOpenstack\u7528\u3068\u304b\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u64cd\u4f5c\u3057\u3084\u3059\u3044\u3088\u3046\u3001\u308f\u3056\u308f\u3056\u65b0\u305f\u306b\u4f5c\u3063\u305f\u300d\n\u2026\u307f\u305f\u3044\u306a\u8a71\u3092Openstack\u672c\u66f8\u3044\u3066\u3044\u308b\u4eba\u304b\u3089\u805e\u3044\u305f\u6c17\u304c\u3059\u308b\uff57\n\n```\n[root@testsv ~]# systemctl disable firewalld\nrm '/etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service'\nrm '/etc/systemd/system/basic.target.wants/firewalld.service'\n[root@testsv ~]# \n```\n\n## \u81ea\u52d5\u8d77\u52d5OFF\u306b\u306a\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3002\n\n```\n[root@testsv ~]# systemctl list-unit-files -t service |grep fire\nfirewalld.service                           disabled\n[root@testsv ~]# \n```\n\n## \u6163\u308c\u89aa\u3057\u3093\u3060iptables\u306b\u5207\u308a\u66ff\u3048\u3061\u3083\u3048\u3002\n\u8d77\u52d5\uff01\u3048\u2026\u3067\u304d\u2026\u306a\u3044\uff01\uff1f\n\n```\n[root@testsv ~]# systemctl start iptables.service\nFailed to issue method call: Unit iptables.service failed to load: No such file or directory.\n[root@testsv ~]\n```\n\n## \u3069\u3046\u3084\u3089\u3001firewalld\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u3001iptables\u306e\u4e00\u90e8\u304c\u5165\u3063\u3066\u3044\u308b\u3060\u3051\u3067\u3001\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u306f\u5165\u3063\u3066\u3044\u306a\u3044\u3089\u3057\u3044\u3002\n\n```\n[root@testsv ~]# rpm -qa |grep iptables\niptables-1.4.21-13.el7.x86_64\n[root@testsv ~]# \n[root@testsv ~]# yum search iptables\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror\nLoading mirror speeds from cached hostfile\n * base: ftp.tsukuba.wide.ad.jp\n * extras: ftp.tsukuba.wide.ad.jp\n * updates: ftp.tsukuba.wide.ad.jp\n=========================================================================================================== N/S matched: iptables ===========================================================================================================\niptables-devel.i686 : Development package for iptables\niptables-devel.x86_64 : Development package for iptables\niptables-services.x86_64 : iptables and ip6tables services for iptables\niptables-utils.x86_64 : iptables and ip6tables services for iptables\niptables.i686 : Tools for managing Linux kernel packet filtering capabilities\niptables.x86_64 : Tools for managing Linux kernel packet filtering capabilities\n\n  Name and summary matches only, use \"search all\" for everything.\n[root@testsv ~]# \n```\n\n## iptables-service\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u8d77\u52d5\u3002\n\n```\n[root@testsv ~]# systemctl start iptables.service\n[root@testsv ~]# iptables -nL\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \nACCEPT     all  --  0.0.0.0/0            0.0.0.0/0            state RELATED,ESTABLISHED\nACCEPT     icmp --  0.0.0.0/0            0.0.0.0/0           \nACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           \nACCEPT     tcp  --  0.0.0.0/0            0.0.0.0/0            state NEW tcp dpt:22\nREJECT     all  --  0.0.0.0/0            0.0.0.0/0            reject-with icmp-host-prohibited\n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \nREJECT     all  --  0.0.0.0/0            0.0.0.0/0            reject-with icmp-host-prohibited\n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n[root@testsv ~]# \n```\n\n\n## \u3067\u3082\u3001\u3069\u3046\u305b\u793e\u5185\u8a2d\u7f6e\u306e\u691c\u8a3c\u30b5\u30fc\u30d0\u306a\u306e\u3067flush\u3057\u3066\u3057\u307e\u3046\uff57\n\n```\n[root@testsv ~]# iptables -nL\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n[root@testsv ~]# \n```\n\n## \u305d\u308c\u3067\u3082\u3001\u4e00\u5fdc\u81ea\u52d5\u8d77\u52d5\u306f\u6709\u52b9\u5316\u3057\u3066\u304a\u304f\uff57\ndocker\u5165\u308c\u308b\u304b\u3082\u3057\u308c\u3093\u3057\u306d\u3002\n\n```\n[root@testsv ~]# systemctl list-unit-files -t service |grep iptables\niptables.service                            disabled\n[root@testsv ~]# \n[root@testsv ~]# systemctl enable iptables\nln -s '/usr/lib/systemd/system/iptables.service' '/etc/systemd/system/basic.target.wants/iptables.service'\n[root@testsv ~]# systemctl list-unit-files -t service |grep iptables\niptables.service                            enabled\n[root@testsv ~]# \n```\n\n\n\u3053\u3053\u3067OS\u518d\u8d77\u52d5\u3057\u3066SELinux\u306e\u7121\u52b9\u5316\u3092\u53cd\u6620\u3057\u3001\u7121\u4e8bSSH\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\nRHEL6\u307e\u3067\u3068\u6bd4\u3079\u308b\u3068\u3001\u30d7\u30ed\u30b0\u30e9\u30de\u5bc4\u308a\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306b\u306a\u3063\u3066\u3044\u308b\u6c17\u304c\u3059\u308b\u3002\n\u65e9\u3044\u3046\u3061\u306bsystemd\u306b\u6163\u308c\u3066\u304a\u304b\u306a\u3044\u3068\u3001\u672c\u5f53\u306b\u3084\u3070\u305d\u3046\u3060\u2026\u3002\n", "tags": ["centos7", "systemd"]}