{"context": "\n\n\u6982\u8981\nHadoop\u306a\u3069\u306e\u5206\u6563\u51e6\u7406\u57fa\u76e4\u3067louvain\u6cd5\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u3042\u3055\u3063\u3066\u3044\u305f\u3068\u3053\u308d\u3001Sotera defence\u793e\u306edistributed-graph-analytics\u3068\u3044\u3046\u306e\u3092\u898b\u3064\u3051\u305f\u306e\u3067\u3001\u8abf\u67fb\u3059\u308b\u3002\nhttps://github.com/Sotera/distributed-graph-analytics\n\n\u7528\u8a9e\ndistributed-graph-analytics(\u4ee5\u4e0bdga)\uff1aSotera defence\u793e\u306e\u5206\u6563\u30b0\u30e9\u30d5\u5206\u6790\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3001Giraph\u3084GraphX\u306a\u3069\u306e\u5206\u6563\u30b0\u30e9\u30d5\u5206\u6790\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u3066louvain\u6cd5\u3084\u30da\u30fc\u30b8\u30e9\u30f3\u30af\u306a\u3069\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u5b9f\u884c\u3067\u304d\u308b\u3002\nGiraph: Hadoop\u4e0a\u3067\u30b0\u30e9\u30d5\u5206\u6790\u3092\u884c\u3046\u305f\u3081\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\nGraphX\uff1aSpark\u4e0a\u3067\u30b0\u30e9\u30d5\u5206\u6790\u3092\u884c\u3046\u305f\u3081\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\nlouvain\u6cd5\uff1a\u9ad8\u901f\u306a\u30b0\u30e9\u30d5\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u624b\u6cd5\u3002\u5206\u6563\u51e6\u7406\u3082\u53ef\u80fd\u3002\n\n\u74b0\u5883\n\n\n\nOS/\u30e9\u30a4\u30d6\u30e9\u30ea\u306a\u3069\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\nCentOS\n7.0\n\n\nsotera/distributed-graph-analytics\n0.0.1\n\n\nJava\n1.8.0_45\n\n\nGradle\n2.12\n\n\nCDH\n5.0\n\n\n\n\n\u5c0e\u5165\u624b\u9806\ngiraph-dga(hadoop\u4f7f\u7528)\u3068graphx-dga(spark\u4f7f\u7528)\u306e2\u3064\u304c\u3042\u308b\u3002\n\u81ea\u5206\u304c\u6240\u5c5e\u3057\u3066\u308b\u4f1a\u793e\u3067spark\u304c\u5229\u7528\u3067\u304d\u305f\u304b\u4e0d\u660e\u306a\u306e\u3067\u3001\nhadoop\u4e0a\u3067\u51e6\u7406\u3092\u884c\u3046giraph-dga\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3059\u308b\u3002\n\nCDH5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4e0b\u8a18\u3092\u53c2\u8003\u306b\u3057\u3066\u7591\u4f3c\u5206\u6563\u74b0\u5883\u306ehadoop\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3002\nhttp://www.task-notes.com/entry/20150608/1433732400\nZookeeper\u304c\u5165\u3089\u306a\u304b\u3063\u305f\u306e\u3067yum\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u8d77\u52d5\u3057\u305f\u3002\n\uff08Zookeeper\u304c\u7121\u3044\u3068giraph-dga\u306e\u30b8\u30e7\u30d6\u3092\u8d70\u3089\u305b\u3066\u30820%\u3067\u6b62\u307e\u3063\u3066\u3057\u307e\u3046\u30fb\u30fb\u30fb\uff09\n\n\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngradle\u3068\u3044\u3046\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u30d3\u30eb\u30c9\u3059\u308b\u3002\nhttps://services.gradle.org/distributions/gradle-2.12-bin.zip\ngit clone https://github.com/Sotera/distributed-graph-analytics.git\ncd distributed-graph-analytics\ngradle clean dist\ncp -r dga-giraph/build/dist /var/lib/hadoop-hdfs\n\n\n\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\n\u4e0b\u8a18hdfs\u30e6\u30fc\u30b6\u3067\u5b9f\u884c\u3002example.csv\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\nwget http://sotera.github.io/distributed-graph-analytics/data/example.csv \ncat example.csv\n1,2\n1,3\n1,4\n1,5\n1,6\n2,3\n2,4\n\u30fb\u30fb\u30fb\n#\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u306e\u5f62\u5f0f\u306f\n#src\u30ce\u30fc\u30c9\u756a\u53f7 dest\u30ce\u30fc\u30c9\u756a\u53f7\n#\u30fb\u30fb\u30fb\n\nhdfs\u306bput\u3057\u3066\u3001\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3002\nhadoop fs -put example.csv /user/hdfs/input\nhadoop fs -chmod 777 /user/hdfs\n# org.apache.hadoop.security.AccessControlException: Permission denied:\u306b\u306a\u3063\u305f\u306e\u3067\u3084\u3063\u3064\u3051\u3067\u56de\u907f\u30fb\u30fb\u30fb\ncd /var/lib/hadoop-hdfs/dist\nbin/dga-yarn-giraph louvain \"/user/hdfs/input/example.csv\" \"/user/hdfs/output\"\n\n\u5b8c\u4e86\u3059\u308b\u3068/user/hdfs/output\u306b\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u308b\u3002\nhadoop fs -cat /user/hdfs/output/giraph_0/part-m-00001\n10      12      0       12:1,6:1\n12      12      0       12:1\n15      17      0       17:1,19:1\n17      17      0       17:1\n19      19      0       17:1,19:1\n1       2       0       2:4,6:1\n2       2       0       2:4\n3       2       0       2:4,19:1\n4       2       0       2:4\n5       2       0       2:4\n6       6       0       2:1,6:1\n8       6       0       12:1,6:1\n20      19      0       2:1,19:1\n\n#\u51fa\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n#\u30ce\u30fc\u30c9\u306eid communityId internalWeight  communityEdgeList\n#\u53c2\u8003\u2192\u3000https://github.com/Sotera/distributed-graph-analytics/blob/fa2a72e3bcee1c6e5db2551d2258b94d85e16a60/dga-giraph/src/main/java/com/soteradefense/dga/io/formats/LouvainVertexOutputFormat.java\n\n\n\u305d\u306e\u4ed6\n\u306a\u3093\u304b\u30b5\u30f3\u30d7\u30eb\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u30d5\u30a1\u30a4\u30eb\uff08dist/conf/dga-config.xml\uff09\u306bzookeeper\u306e\u30db\u30b9\u30c8\u3092\u6307\u5b9a\u3059\u308b\u90e8\u5206\u304c\u3042\u3063\u3066\u3001\u30b8\u30e7\u30d6\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u306b\u306a\u3093\u3067zookeeper\u306e\u30db\u30b9\u30c8\u306e\u30ea\u30b9\u30c8\u304c\u5fc5\u8981\u306a\u3093\u3060\u308d\u3046\u30fb\u30fb\u30fb\u3063\u3066\u601d\u3063\u305f\u3051\u3069\u3001\u306a\u304f\u3066\u3082\u52d5\u304f\u307d\u3044\u30fb\u30fb\u30fb\u3002\n\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u304b\u3059\u3068\u304d\u306f\u4e0d\u8981\u306a\u3093\u3060\u3051\u3069\u3001\u5206\u6563\u74b0\u5883\u3067\u5b9f\u884c\u3057\u3066\u307f\u308b\u3068\u3001\u3084\u3063\u3071\u308a\u8a2d\u5b9a\u3055\u308c\u3066\u7121\u3044\u3068\u52d5\u304b\u306a\u304b\u3063\u305f\u3002\u5206\u6563\u74b0\u5883\u3067\u52d5\u304b\u3059\u3068\u304d\u306b\u3044\u304f\u3064\u304b\u30cf\u30de\u3063\u305f\u30dd\u30a4\u30f3\u30c8\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u3042\u3068\u3067\u307e\u3068\u3081\u308b\u3002\n# \u6982\u8981\nHadoop\u306a\u3069\u306e\u5206\u6563\u51e6\u7406\u57fa\u76e4\u3067louvain\u6cd5\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u3042\u3055\u3063\u3066\u3044\u305f\u3068\u3053\u308d\u3001Sotera defence\u793e\u306edistributed-graph-analytics\u3068\u3044\u3046\u306e\u3092\u898b\u3064\u3051\u305f\u306e\u3067\u3001\u8abf\u67fb\u3059\u308b\u3002\nhttps://github.com/Sotera/distributed-graph-analytics\n\n## \u7528\u8a9e\ndistributed-graph-analytics(\u4ee5\u4e0bdga)\uff1aSotera defence\u793e\u306e\u5206\u6563\u30b0\u30e9\u30d5\u5206\u6790\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3001Giraph\u3084GraphX\u306a\u3069\u306e\u5206\u6563\u30b0\u30e9\u30d5\u5206\u6790\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u3066louvain\u6cd5\u3084\u30da\u30fc\u30b8\u30e9\u30f3\u30af\u306a\u3069\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u5b9f\u884c\u3067\u304d\u308b\u3002\n\nGiraph: Hadoop\u4e0a\u3067\u30b0\u30e9\u30d5\u5206\u6790\u3092\u884c\u3046\u305f\u3081\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\nGraphX\uff1aSpark\u4e0a\u3067\u30b0\u30e9\u30d5\u5206\u6790\u3092\u884c\u3046\u305f\u3081\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\nlouvain\u6cd5\uff1a\u9ad8\u901f\u306a\u30b0\u30e9\u30d5\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u624b\u6cd5\u3002\u5206\u6563\u51e6\u7406\u3082\u53ef\u80fd\u3002\n\n# \u74b0\u5883\n| OS/\u30e9\u30a4\u30d6\u30e9\u30ea\u306a\u3069 |\u30d0\u30fc\u30b8\u30e7\u30f3  | \n|:-----------|------------:|\n| CentOS       |  7.0 |\n| sotera/distributed-graph-analytics       |  0.0.1 |\n| Java       |   1.8.0_45|\n| Gradle     |   2.12 |\n| CDH        |   5.0 |\n\n# \u5c0e\u5165\u624b\u9806\ngiraph-dga(hadoop\u4f7f\u7528)\u3068graphx-dga(spark\u4f7f\u7528)\u306e2\u3064\u304c\u3042\u308b\u3002\n\u81ea\u5206\u304c\u6240\u5c5e\u3057\u3066\u308b\u4f1a\u793e\u3067spark\u304c\u5229\u7528\u3067\u304d\u305f\u304b\u4e0d\u660e\u306a\u306e\u3067\u3001\nhadoop\u4e0a\u3067\u51e6\u7406\u3092\u884c\u3046giraph-dga\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3059\u308b\u3002\n\n## CDH5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4e0b\u8a18\u3092\u53c2\u8003\u306b\u3057\u3066\u7591\u4f3c\u5206\u6563\u74b0\u5883\u306ehadoop\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3002\nhttp://www.task-notes.com/entry/20150608/1433732400\nZookeeper\u304c\u5165\u3089\u306a\u304b\u3063\u305f\u306e\u3067yum\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u8d77\u52d5\u3057\u305f\u3002\n\uff08Zookeeper\u304c\u7121\u3044\u3068giraph-dga\u306e\u30b8\u30e7\u30d6\u3092\u8d70\u3089\u305b\u3066\u30820%\u3067\u6b62\u307e\u3063\u3066\u3057\u307e\u3046\u30fb\u30fb\u30fb\uff09\n\n## \u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngradle\u3068\u3044\u3046\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u30d3\u30eb\u30c9\u3059\u308b\u3002\nhttps://services.gradle.org/distributions/gradle-2.12-bin.zip\n\n```bash\ngit clone https://github.com/Sotera/distributed-graph-analytics.git\ncd distributed-graph-analytics\ngradle clean dist\ncp -r dga-giraph/build/dist /var/lib/hadoop-hdfs\n```\n\n## \u30b8\u30e7\u30d6\u306e\u5b9f\u884c\n\u4e0b\u8a18hdfs\u30e6\u30fc\u30b6\u3067\u5b9f\u884c\u3002example.csv\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n\n```bash\nwget http://sotera.github.io/distributed-graph-analytics/data/example.csv \ncat example.csv\n1,2\n1,3\n1,4\n1,5\n1,6\n2,3\n2,4\n\u30fb\u30fb\u30fb\n#\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u306e\u5f62\u5f0f\u306f\n#src\u30ce\u30fc\u30c9\u756a\u53f7 dest\u30ce\u30fc\u30c9\u756a\u53f7\n#\u30fb\u30fb\u30fb\n```\n\nhdfs\u306bput\u3057\u3066\u3001\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3002\n\n```bash\nhadoop fs -put example.csv /user/hdfs/input\nhadoop fs -chmod 777 /user/hdfs\n# org.apache.hadoop.security.AccessControlException: Permission denied:\u306b\u306a\u3063\u305f\u306e\u3067\u3084\u3063\u3064\u3051\u3067\u56de\u907f\u30fb\u30fb\u30fb\ncd /var/lib/hadoop-hdfs/dist\nbin/dga-yarn-giraph louvain \"/user/hdfs/input/example.csv\" \"/user/hdfs/output\"\n```\n\u5b8c\u4e86\u3059\u308b\u3068/user/hdfs/output\u306b\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u308b\u3002\n\n```bash\nhadoop fs -cat /user/hdfs/output/giraph_0/part-m-00001\n10      12      0       12:1,6:1\n12      12      0       12:1\n15      17      0       17:1,19:1\n17      17      0       17:1\n19      19      0       17:1,19:1\n1       2       0       2:4,6:1\n2       2       0       2:4\n3       2       0       2:4,19:1\n4       2       0       2:4\n5       2       0       2:4\n6       6       0       2:1,6:1\n8       6       0       12:1,6:1\n20      19      0       2:1,19:1\n\n#\u51fa\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n#\u30ce\u30fc\u30c9\u306eid\tcommunityId\tinternalWeight\tcommunityEdgeList\n#\u53c2\u8003\u2192\u3000https://github.com/Sotera/distributed-graph-analytics/blob/fa2a72e3bcee1c6e5db2551d2258b94d85e16a60/dga-giraph/src/main/java/com/soteradefense/dga/io/formats/LouvainVertexOutputFormat.java\n```\n\n# \u305d\u306e\u4ed6\n\u306a\u3093\u304b\u30b5\u30f3\u30d7\u30eb\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u30d5\u30a1\u30a4\u30eb\uff08dist/conf/dga-config.xml\uff09\u306bzookeeper\u306e\u30db\u30b9\u30c8\u3092\u6307\u5b9a\u3059\u308b\u90e8\u5206\u304c\u3042\u3063\u3066\u3001\u30b8\u30e7\u30d6\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u306b\u306a\u3093\u3067zookeeper\u306e\u30db\u30b9\u30c8\u306e\u30ea\u30b9\u30c8\u304c\u5fc5\u8981\u306a\u3093\u3060\u308d\u3046\u30fb\u30fb\u30fb<del>\u3063\u3066\u601d\u3063\u305f\u3051\u3069\u3001\u306a\u304f\u3066\u3082\u52d5\u304f\u307d\u3044\u30fb\u30fb\u30fb\u3002</del>\n\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u304b\u3059\u3068\u304d\u306f\u4e0d\u8981\u306a\u3093\u3060\u3051\u3069\u3001\u5206\u6563\u74b0\u5883\u3067\u5b9f\u884c\u3057\u3066\u307f\u308b\u3068\u3001\u3084\u3063\u3071\u308a\u8a2d\u5b9a\u3055\u308c\u3066\u7121\u3044\u3068\u52d5\u304b\u306a\u304b\u3063\u305f\u3002\u5206\u6563\u74b0\u5883\u3067\u52d5\u304b\u3059\u3068\u304d\u306b\u3044\u304f\u3064\u304b\u30cf\u30de\u3063\u305f\u30dd\u30a4\u30f3\u30c8\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u3042\u3068\u3067\u307e\u3068\u3081\u308b\u3002\n", "tags": ["hadoop", "louvain", "\u30b0\u30e9\u30d5\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0", "giraph", "CDH5.0"]}