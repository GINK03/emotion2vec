{"context": "\n\n\u53c2\u8003\n\n\nHow to renew expired puppetmaster certificates? - Ask Puppet: Puppet DevOps Q&A Community\n\n5\u5e74\u307b\u3069\u3067\u671f\u9650\u5207\u308c\u308b\u69d8\u5b50\n\n\n\n\n\u30a8\u30e9\u30fc\n\npuppetclient\u306b\u3066\u5b9f\u65bd\nsudo puppet agent --test --noop\n\n\n\ninfo: Not using expired certificate for ca from cache; expired\n\n\n\npuppetmaster\u306b\u3066\u5b9f\u65bd\n% sudo puppet cert --list --all\n(certificate has expired)\n- server.com (FF:FF:FF:FF:FF:FF:FF:FF:FF:FF:FF:FF:FF:FF:FF:FF) (certificate has expired)\n\n\n\n\u5bfe\u5fdc\n\npuppet master\n\npuppetmaster\u306b\u3066\u5b9f\u65bd\nmv /var/lib/puppet/ssl /var/lib/puppet/ssl.bak.`date -I`\n\n\n\npuppetmaster\u30b5\u30fc\u30d3\u30b9restart\n/sbin/service puppetmaster restart\n\n\n\npuppet client\n\npuppetclient\u306b\u3066\u5b9f\u65bd\nmv /var/lib/puppet/ssl /var/lib/puppet/ssl.bak.`date -I`\n\n\n\npuppet\u30b5\u30fc\u30d3\u30b9restart\n/sbin/service puppet restart\n\n\n\npuppet master\n\nsign\u3059\u308b\nsudo puppet cert --list --all\nsudo puppet cert --sign server.com\n\n\n## \u53c2\u8003\n\n* [How to renew expired puppetmaster certificates? - Ask Puppet: Puppet DevOps Q&A Community](https://ask.puppet.com/question/16111/how-to-renew-expired-puppetmaster-certificates/)\n    * 5\u5e74\u307b\u3069\u3067\u671f\u9650\u5207\u308c\u308b\u69d8\u5b50\n\n## \u30a8\u30e9\u30fc\n\n```bash:puppetclient\u306b\u3066\u5b9f\u65bd\nsudo puppet agent --test --noop\n```\n\n> info: Not using expired certificate for ca from cache; expired\n\n![err.png](https://qiita-image-store.s3.amazonaws.com/0/25728/619bc928-17d0-e6ad-cf9d-7506a5ee8821.png)\n\n```bash:puppetmaster\u306b\u3066\u5b9f\u65bd\n% sudo puppet cert --list --all\n(certificate has expired)\n- server.com (FF:FF:FF:FF:FF:FF:FF:FF:FF:FF:FF:FF:FF:FF:FF:FF) (certificate has expired)\n```\n\n\n## \u5bfe\u5fdc\n\n### puppet master\n\n```bash:puppetmaster\u306b\u3066\u5b9f\u65bd\nmv /var/lib/puppet/ssl /var/lib/puppet/ssl.bak.`date -I`\n```\n\n```bash:puppetmaster\u30b5\u30fc\u30d3\u30b9restart\n/sbin/service puppetmaster restart\n```\n\n### puppet client\n\n```bash:puppetclient\u306b\u3066\u5b9f\u65bd\nmv /var/lib/puppet/ssl /var/lib/puppet/ssl.bak.`date -I`\n```\n\n```bash:puppet\u30b5\u30fc\u30d3\u30b9restart\n/sbin/service puppet restart\n```\n\n### puppet master\n\n```bash:sign\u3059\u308b\nsudo puppet cert --list --all\nsudo puppet cert --sign server.com\n```\n", "tags": ["Puppet"]}