{"tags": ["AWS", "Python", "APIGateway", "lambda"], "context": " More than 1 year has passed since last update.\n\n\u3084\u308a\u305f\u3044\u3053\u3068\nhttps://example.com/beta/resource \u306bGET\u3067\u30a2\u30af\u30bb\u30b9\u3057\u305f\u969b\u306b\u3001Lambda\u5074\u3067\u30af\u30a8\u30ea\u6587\u5b57\u5217\u3092\u53d6\u5f97\u3057\u305f\u3044\n\n\u304a\u3053\u305f\u3048\n\nAPI Gateway\u306e Integration Request \u3092\u30af\u30ea\u30c3\u30af\n\nMapping Templates \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u958b\u3044\u3066\u3001 content-type \u306b application/json \u3068\u5165\u529b\n\n\u53f3\u5074\u306e Input passthrough \u306e\u925b\u7b46\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001 Mapping Templates \u3092\u9078\u629e\n\n\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u5165\u529b\u3057\u3066\u4fdd\u5b58\n\n{\n#foreach( $key in $input.params().querystring.keySet() )\n    \"$key\": \"$input.params().querystring.get($key)\"#if( $foreach.hasNext ),#end\n#end\n}\n\n\n\u3053\u308c\u3067lambda_function()\u306e\u7b2c\u4e00\u5f15\u6570\u306e event \u306b\u30af\u30a8\u30ea\u6587\u5b57\u5217\u304c\u683c\u7d0d\u3055\u308c\u308b\u3002\n\u53c2\u8003\uff1ahttp://r7kamura.hatenablog.com/entry/2015/08/14/043134\n# \u3084\u308a\u305f\u3044\u3053\u3068\n\n`https://example.com/beta/resource` \u306bGET\u3067\u30a2\u30af\u30bb\u30b9\u3057\u305f\u969b\u306b\u3001Lambda\u5074\u3067\u30af\u30a8\u30ea\u6587\u5b57\u5217\u3092\u53d6\u5f97\u3057\u305f\u3044\n\n\n# \u304a\u3053\u305f\u3048\n\n1. API Gateway\u306e `Integration Request` \u3092\u30af\u30ea\u30c3\u30af\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-03 20.19.44.png](https://qiita-image-store.s3.amazonaws.com/0/73113/f512487c-ce8d-c600-93c7-8105aadbe44b.png)\n\n2. `Mapping Templates` \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u958b\u3044\u3066\u3001 `content-type` \u306b `application/json` \u3068\u5165\u529b\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-03 20.21.55.png](https://qiita-image-store.s3.amazonaws.com/0/73113/4b4e09ec-6708-c3b2-e86b-c3646f242118.png)\n\n3. \u53f3\u5074\u306e `Input passthrough` \u306e\u925b\u7b46\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001 `Mapping Templates` \u3092\u9078\u629e\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-03 20.23.38.png](https://qiita-image-store.s3.amazonaws.com/0/73113/400420d2-8970-73b4-0f39-061933884753.png)\n\n4. \u4ee5\u4e0b\u306e\u3068\u304a\u308a\u5165\u529b\u3057\u3066\u4fdd\u5b58\n\n```js\n{\n#foreach( $key in $input.params().querystring.keySet() )\n    \"$key\": \"$input.params().querystring.get($key)\"#if( $foreach.hasNext ),#end\n#end\n}\n```\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-03 20.22.41.png](https://qiita-image-store.s3.amazonaws.com/0/73113/f4b02b2e-cc3e-90bd-2fa2-3f285ec42fa2.png)\n\n\u3053\u308c\u3067lambda_function()\u306e\u7b2c\u4e00\u5f15\u6570\u306e `event` \u306b\u30af\u30a8\u30ea\u6587\u5b57\u5217\u304c\u683c\u7d0d\u3055\u308c\u308b\u3002\n\n\n\u53c2\u8003\uff1ahttp://r7kamura.hatenablog.com/entry/2015/08/14/043134\n"}