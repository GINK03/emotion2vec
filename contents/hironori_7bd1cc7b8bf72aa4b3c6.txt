{"context": "\n\u75c7\u72b6\n\n\nrandom_bytes()\u95a2\u6570\u3092\u547c\u3076\u3068\u6b7b\u306c\n\n\n\u74b0\u5883\n\n\nWindows10\nVagrant\u3067CentOS7\u5165\u3063\u3066\u308b\ndocker\u3067php:7.1-fpm-alpine\u3044\u308c\u3066\u308b\nLaravel 5.1\u3050\u3089\u3044\n\n\n\n[2017-02-21 17:25:44] local.ERROR: Exception: Could not gather sufficient random data in /var/www/laravel/vendor/laravel/framework/src/Illuminate/Support/Str.php:230\nStack trace:\n#0 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Support/Str.php(230): random_bytes(40)\n#1 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/Store.php(198): Illuminate\\Support\\Str::random(40)\n#2 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/Store.php(174): Illuminate\\Session\\Store->generateSessionId()\n#3 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/Store.php(82): Illuminate\\Session\\Store->setId(NULL)\n#4 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/SessionManager.php(178): Illuminate\\Session\\Store->__construct('laravel_session', Object(Illuminate\\Session\\FileSessionHandler))\n#5 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/SessionManager.php(64): Illuminate\\Session\\SessionManager->buildSession(Object(Illuminate\\Session\\FileSessionHandler))\n#6 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/SessionManager.php(50): Illuminate\\Session\\SessionManager->createNativeDriver()\n#7 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Support/Manager.php(87): Illuminate\\Session\\SessionManager->createFileDriver()\n#8 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Support/Manager.php(63): Illuminate\\Support\\Manager->createDriver('file')\n#9 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(245): Illuminate\\Support\\Manager->driver()\n#10 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(87): Illuminate\\Session\\Middleware\\StartSession->usingCookieSessions()\n#11 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(177): Illuminate\\Session\\Middleware\\StartSession->terminate(Object(Illuminate\\Http\\Request), Object(Illuminate\\Http\\Response))\n#12 /var/www/laravel/public/index.php(58): Illuminate\\Foundation\\Http\\Kernel->terminate(Object(Illuminate\\Http\\Request), Object(Illuminate\\Http\\Response))\n#13 {main}\n\n/var/www/laravel # php artisan t\nPsy Shell v0.8.1 (PHP 7.1.2 \u2014 cli) by Justin Hileman\n>>> random_bytes(1)\nException with message 'Could not gather sufficient random data'\n\n\u3046\u3051\u308b\nphp.net\nhttp://php.net/manual/ja/function.random-bytes.php\n\n\u30fbLinux \u3067\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb \u00bb getrandom(2) \u304c\u3042\u308c\u3070\u305d\u308c\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u30fb\u305d\u306e\u4ed6\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u306f\u3001 /dev/urandom \u3092\u4f7f\u3044\u307e\u3059\u3002\n\u30fb\u3053\u308c\u3089\u304c\u3044\u305a\u308c\u3082\u4f7f\u3048\u306a\u3044\u5834\u5408\u306f\u3001 Exception \u3092\u30b9\u30ed\u30fc\u3057\u307e\u3059\u3002\n\n\u30bd\u30fc\u30b9\u307f\u3066\u307f\u308b\nhttps://github.com/php/php-src/blob/master/ext/standard/random.c\n/dev/urandom\u3042\u308b\u306e\uff1f\n/var/www/laravel # ls -al /dev/ | grep rand\ncrw-rw-rw-    1 root     root        1,   8 Feb 21 08:36 random\ncrw-rw-rw-    1 root     root        1,   9 Feb 21 08:36 urandom\n/var/www/laravel #\n\n\u3042\u308b\u3063\u307d\u3044\nstackOverFlow\u3055\u3093\nhttp://stackoverflow.com/questions/35736548/exception-could-not-gather-sufficient-random-data\nphp5.x\u7cfb\u306e\u8a71\u3063\u307d\u3044\nphp7.1\u306ealpine \u307f\u3066\u307f\u308b\nhttps://github.com/docker-library/php/blob/738fcd0bdaed0b27e56b4975be94abe2dbe0b0b4/7.1/alpine/Dockerfile\nalpine3.4\u3067\u3067\u304d\u3066\u308b\nalpine3.4\u306eKernel\nhttps://alpinelinux.org/posts/Alpine-3.4.0-released.html\n\nLinux 4.4 Kernel\n\nCentOS7\u304f\u3093\u306eKernel\n\n[vagrant@localhost ~]$ uname -r\n3.10.0-327.4.5.el7.x86_64\n\ngetrandom\u304f\u3093\u304c\u8ffd\u52a0\u3055\u308c\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\nhttp://man7.org/linux/man-pages/man2/getrandom.2.html#VERSIONS\n3.17\n\u30d3\u30eb\u30c9\u3055\u308c\u308b\u3068\u304d\u306fgetrandom\u304f\u3093\u304c\u5b58\u5728\u3057\u3066\u305f\n\u5b9f\u884c\u6642\u306bgetrandom\u3042\u308b\u5224\u5b9a\u3067\nhttps://github.com/php/php-src/blob/master/ext/standard/random.c#L99\n\u304ctrue\u306b\u306a\u3063\u3066\nhttps://github.com/php/php-src/blob/master/ext/standard/random.c#L132\n\u3067\u6b7b\u306c\u7684\u306a\uff1f\nCentOS\u306e\u6700\u65b0\u7248(2017/02/21\u73fe\u5728)\u306eKernel\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c 3.10.0-514 \u3067\u3057\u305f\nVagrant\u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u63db\u3048\u4f5c\u6226\n$ vagrant -v\nVagrant 1.8.1\n\n\u3088\u304f\u308f\u304b\u3089\u3093\u3057alpine3.4\u4f7f\u3048\u3070\u3044\u3044\u3093\u3058\u3083\u3042\u306a\u3044\u306e\u304b\nhttps://atlas.hashicorp.com/maier/boxes/alpine-3.4-x86_64\nbox\u3042\u3063\u305f\nhttps://atlas.hashicorp.com/maier/boxes/alpine-3.4-x86_64/versions/1.0.0/providers/virtualbox.box\nVAGRANTFILE_API_VERSION = \"2\"\nVIRTUAL_MACHINE_NAME    = \"sugoi_application/alpine3.4\"\nVIRTUAL_MACHINE_MEMORY  = \"2048\"\nBOXFILE_URL             = \"https://atlas.hashicorp.com/maier/boxes/alpine-3.4-x86_64/versions/1.0.0/providers/virtualbox.box\"\nPRIVATE_IP_ADDR         = \"192.168.56.114\"\n\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n    config.vm.box = VIRTUAL_MACHINE_NAME\n    config.vm.box_url = BOXFILE_URL\n    config.vm.network :forwarded_port, guest:22, host:3004, id: \"ssh\"\n    config.vm.network :private_network, ip: PRIVATE_IP_ADDR\n    config.vm.provider :virtualbox do |vb|\n        vb.customize [\n            \"modifyvm\", :id,\n            \"--memory\", VIRTUAL_MACHINE_MEMORY\n        ]\n    end\n    config.vm.provision :shell, :path => \"bootstrap.sh\"\n    config.vm.synced_folder \"../\", \"/vagrant\",\n        disabled: false,\n        owner: \"root\", group: \"root\",\n        mount_options: [\"dmode=777\", \"fmode=777\"]\nend\n\n\n#\n# Vagrant provisioning bootstrap ashell.\n#\n\necho \"http://dl-cdn.alpinelinux.org/alpine/v3.4/main\" > /etc/apk/repositories\necho \"http://nl.alpinelinux.org/alpine/edge/testing\" >> /etc/apk/repositories\necho \"http://mirror1.hs-esslingen.de/pub/Mirrors/alpine/edge/community\" >> /etc/apk/repositories\n\napk update\napk add virtualbox-additions-grsec git php7.1 zip docker python\n\n# guest_additions\necho af_packet > /etc/modules\necho vboxpci >> /etc/modules\necho vboxdrv >> /etc/modules\necho vboxnetflt >> /etc/modules\n\n# Install docker-compose\ncurl -L https://github.com/docker/compose/releases/download/1.11.0/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose\nchmod +x /usr/local/bin/docker-compose\n\n# Install composer\ncurl -sS https://getcomposer.org/installer | php\n\n# Install aws cli\ncurl -kL https://bootstrap.pypa.io/get-pip.py | python\npip install awscli\n\nguest additions\u5165\u308c\u308b\u306e\u3057\u3093\u3069\u305d\u3046\u3060\u306a\u3042\nubuntu 16\u7cfb\u306b\u3057\u3088\u3046(\u63d0\u6848)\nVAGRANTFILE_API_VERSION = \"2\"\nVIRTUAL_MACHINE_NAME    = \"sugoi_application/ubuntu16.04\"\nVIRTUAL_MACHINE_MEMORY  = \"2048\"\nBOXFILE_URL             = \"https://atlas.hashicorp.com/bento/boxes/ubuntu-16.04/versions/2.3.1/providers/virtualbox.box\"\nPRIVATE_IP_ADDR         = \"192.168.56.114\"\n\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n    config.vm.box = VIRTUAL_MACHINE_NAME\n    config.vm.box_url = BOXFILE_URL\n    config.vm.network :forwarded_port, guest:22, host:3004, id: \"ssh\"\n    config.vm.network :private_network, ip: PRIVATE_IP_ADDR\n    config.vm.provider :virtualbox do |vb|\n        vb.customize [\n            \"modifyvm\", :id,\n            \"--memory\", VIRTUAL_MACHINE_MEMORY\n        ]\n        vb.customize [\n           \"modifyvm\", :id,\n           \"--cableconnected1\", \"on\"\n        ]\n    end\n    config.vm.provision :shell, :path => \"bootstrap.sh\"\n    config.vm.synced_folder \"../\", \"/vagrant\",\n        disabled: false,\n        owner: \"root\", group: \"root\",\n        mount_options: [\"dmode=777\", \"fmode=777\"]\n\nend\n\n#!/bin/bash\n\n#\n# Vagrant provisioning bootstrap shellscript.\n#\n\ncurl -fsSL https://apt.dockerproject.org/gpg | sudo apt-key add -\napt-key fingerprint 58118E89F3A912897C070ADBF76221572C52609D\nadd-apt-repository \\\n       \"deb https://apt.dockerproject.org/repo/ \\\n       ubuntu-$(lsb_release -cs) \\\n       main\"\n\n# Update apt-get packages\napt-get update -y\n\napt-get install -y git wget docker-engine php zip sysv-rc-conf\n\n# Install docker-compose\ncurl -L https://github.com/docker/compose/releases/download/1.11.1/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose\nchmod +x /usr/local/bin/docker-compose\n\n# Install lambda apex\ncurl https://raw.githubusercontent.com/apex/apex/master/install.sh | sh\napex upgrade\n\n# Install composer\ncurl -sS https://getcomposer.org/installer | php\n\n# Install node version manager\ngit clone https://github.com/creationix/nvm.git ~/.nvm && \\\n    cd ~/.nvm && \\\n    git checkout `git describe --abbrev=0 --tags`\n\n\n# Install aws cli\ncurl -kL https://bootstrap.pypa.io/get-pip.py | python\npip install awscli\n\nsysv-rc-conf docker on\nservice docker start\n\ndocker-compose\u3068\u304b\u4f7f\u3063\u3066\u30b3\u30f3\u30c6\u30ca\u7acb\u3061\u4e0a\u3052\n/var/www/laravel # uname -r\n4.4.0-51-generic\n/var/www/laravel # php artisan tin\nPsy Shell v0.8.1 (PHP 7.1.2 \u2014 cli) by Justin Hileman\n>>> random_bytes(1)\n=> b\"\u00b6\"\n>>>\n\n\u52d5\u3044\u305f\nCentOS7\u306eKernel\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u4e0a\u3052\u305f\u307b\u3046\u304c\u65e9\u304b\u3063\u305f\u3088\u306d\nKernel\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u306f\u6c17\u3092\u3064\u3051\u3088\u3046\uff01\n* \u75c7\u72b6\n  * random_bytes()\u95a2\u6570\u3092\u547c\u3076\u3068\u6b7b\u306c\n* \u74b0\u5883\n  * Windows10\n  * Vagrant\u3067CentOS7\u5165\u3063\u3066\u308b\n  * docker\u3067php:7.1-fpm-alpine\u3044\u308c\u3066\u308b\n  * Laravel 5.1\u3050\u3089\u3044\n\n```\n[2017-02-21 17:25:44] local.ERROR: Exception: Could not gather sufficient random data in /var/www/laravel/vendor/laravel/framework/src/Illuminate/Support/Str.php:230\nStack trace:\n#0 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Support/Str.php(230): random_bytes(40)\n#1 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/Store.php(198): Illuminate\\Support\\Str::random(40)\n#2 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/Store.php(174): Illuminate\\Session\\Store->generateSessionId()\n#3 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/Store.php(82): Illuminate\\Session\\Store->setId(NULL)\n#4 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/SessionManager.php(178): Illuminate\\Session\\Store->__construct('laravel_session', Object(Illuminate\\Session\\FileSessionHandler))\n#5 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/SessionManager.php(64): Illuminate\\Session\\SessionManager->buildSession(Object(Illuminate\\Session\\FileSessionHandler))\n#6 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/SessionManager.php(50): Illuminate\\Session\\SessionManager->createNativeDriver()\n#7 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Support/Manager.php(87): Illuminate\\Session\\SessionManager->createFileDriver()\n#8 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Support/Manager.php(63): Illuminate\\Support\\Manager->createDriver('file')\n#9 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(245): Illuminate\\Support\\Manager->driver()\n#10 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(87): Illuminate\\Session\\Middleware\\StartSession->usingCookieSessions()\n#11 /var/www/laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(177): Illuminate\\Session\\Middleware\\StartSession->terminate(Object(Illuminate\\Http\\Request), Object(Illuminate\\Http\\Response))\n#12 /var/www/laravel/public/index.php(58): Illuminate\\Foundation\\Http\\Kernel->terminate(Object(Illuminate\\Http\\Request), Object(Illuminate\\Http\\Response))\n#13 {main}\n```\n\n```\n/var/www/laravel # php artisan t\nPsy Shell v0.8.1 (PHP 7.1.2 \u2014 cli) by Justin Hileman\n>>> random_bytes(1)\nException with message 'Could not gather sufficient random data'\n```\n\u3046\u3051\u308b\n\nphp.net\nhttp://php.net/manual/ja/function.random-bytes.php\n> \u30fbLinux \u3067\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb \u00bb getrandom(2) \u304c\u3042\u308c\u3070\u305d\u308c\u3092\u4f7f\u3044\u307e\u3059\u3002\n> \u30fb\u305d\u306e\u4ed6\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u306f\u3001 /dev/urandom \u3092\u4f7f\u3044\u307e\u3059\u3002\n> \u30fb\u3053\u308c\u3089\u304c\u3044\u305a\u308c\u3082\u4f7f\u3048\u306a\u3044\u5834\u5408\u306f\u3001 Exception \u3092\u30b9\u30ed\u30fc\u3057\u307e\u3059\u3002\n\n\u30bd\u30fc\u30b9\u307f\u3066\u307f\u308b\nhttps://github.com/php/php-src/blob/master/ext/standard/random.c\n\n/dev/urandom\u3042\u308b\u306e\uff1f\n\n```\n/var/www/laravel # ls -al /dev/ | grep rand\ncrw-rw-rw-    1 root     root        1,   8 Feb 21 08:36 random\ncrw-rw-rw-    1 root     root        1,   9 Feb 21 08:36 urandom\n/var/www/laravel #\n```\n\u3042\u308b\u3063\u307d\u3044\n\nstackOverFlow\u3055\u3093\nhttp://stackoverflow.com/questions/35736548/exception-could-not-gather-sufficient-random-data\nphp5.x\u7cfb\u306e\u8a71\u3063\u307d\u3044\n\nphp7.1\u306ealpine \u307f\u3066\u307f\u308b\nhttps://github.com/docker-library/php/blob/738fcd0bdaed0b27e56b4975be94abe2dbe0b0b4/7.1/alpine/Dockerfile\nalpine3.4\u3067\u3067\u304d\u3066\u308b\nalpine3.4\u306eKernel\nhttps://alpinelinux.org/posts/Alpine-3.4.0-released.html\n> Linux 4.4 Kernel\n\nCentOS7\u304f\u3093\u306eKernel\n```\n[vagrant@localhost ~]$ uname -r\n3.10.0-327.4.5.el7.x86_64\n```\n\ngetrandom\u304f\u3093\u304c\u8ffd\u52a0\u3055\u308c\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\nhttp://man7.org/linux/man-pages/man2/getrandom.2.html#VERSIONS\n3.17\n\n\u30d3\u30eb\u30c9\u3055\u308c\u308b\u3068\u304d\u306fgetrandom\u304f\u3093\u304c\u5b58\u5728\u3057\u3066\u305f\n\u5b9f\u884c\u6642\u306bgetrandom\u3042\u308b\u5224\u5b9a\u3067\nhttps://github.com/php/php-src/blob/master/ext/standard/random.c#L99\n\u304ctrue\u306b\u306a\u3063\u3066\nhttps://github.com/php/php-src/blob/master/ext/standard/random.c#L132\n\u3067\u6b7b\u306c\u7684\u306a\uff1f\n\nCentOS\u306e\u6700\u65b0\u7248(2017/02/21\u73fe\u5728)\u306eKernel\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c 3.10.0-514 \u3067\u3057\u305f\nVagrant\u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u63db\u3048\u4f5c\u6226\n\n```\n$ vagrant -v\nVagrant 1.8.1\n```\n\u3088\u304f\u308f\u304b\u3089\u3093\u3057alpine3.4\u4f7f\u3048\u3070\u3044\u3044\u3093\u3058\u3083\u3042\u306a\u3044\u306e\u304b\nhttps://atlas.hashicorp.com/maier/boxes/alpine-3.4-x86_64\nbox\u3042\u3063\u305f\nhttps://atlas.hashicorp.com/maier/boxes/alpine-3.4-x86_64/versions/1.0.0/providers/virtualbox.box\n\n```\nVAGRANTFILE_API_VERSION = \"2\"\nVIRTUAL_MACHINE_NAME    = \"sugoi_application/alpine3.4\"\nVIRTUAL_MACHINE_MEMORY  = \"2048\"\nBOXFILE_URL             = \"https://atlas.hashicorp.com/maier/boxes/alpine-3.4-x86_64/versions/1.0.0/providers/virtualbox.box\"\nPRIVATE_IP_ADDR         = \"192.168.56.114\"\n\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n    config.vm.box = VIRTUAL_MACHINE_NAME\n    config.vm.box_url = BOXFILE_URL\n    config.vm.network :forwarded_port, guest:22, host:3004, id: \"ssh\"\n    config.vm.network :private_network, ip: PRIVATE_IP_ADDR\n    config.vm.provider :virtualbox do |vb|\n        vb.customize [\n            \"modifyvm\", :id,\n            \"--memory\", VIRTUAL_MACHINE_MEMORY\n        ]\n    end\n    config.vm.provision :shell, :path => \"bootstrap.sh\"\n    config.vm.synced_folder \"../\", \"/vagrant\",\n        disabled: false,\n        owner: \"root\", group: \"root\",\n        mount_options: [\"dmode=777\", \"fmode=777\"]\nend\n```\n\n```\n\n#\n# Vagrant provisioning bootstrap ashell.\n#\n\necho \"http://dl-cdn.alpinelinux.org/alpine/v3.4/main\" > /etc/apk/repositories\necho \"http://nl.alpinelinux.org/alpine/edge/testing\" >> /etc/apk/repositories\necho \"http://mirror1.hs-esslingen.de/pub/Mirrors/alpine/edge/community\" >> /etc/apk/repositories\n\napk update\napk add virtualbox-additions-grsec git php7.1 zip docker python\n\n# guest_additions\necho af_packet > /etc/modules\necho vboxpci >> /etc/modules\necho vboxdrv >> /etc/modules\necho vboxnetflt >> /etc/modules\n\n# Install docker-compose\ncurl -L https://github.com/docker/compose/releases/download/1.11.0/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose\nchmod +x /usr/local/bin/docker-compose\n\n# Install composer\ncurl -sS https://getcomposer.org/installer | php\n\n# Install aws cli\ncurl -kL https://bootstrap.pypa.io/get-pip.py | python\npip install awscli\n```\n\nguest additions\u5165\u308c\u308b\u306e\u3057\u3093\u3069\u305d\u3046\u3060\u306a\u3042\nubuntu 16\u7cfb\u306b\u3057\u3088\u3046(\u63d0\u6848)\n\n```\nVAGRANTFILE_API_VERSION = \"2\"\nVIRTUAL_MACHINE_NAME    = \"sugoi_application/ubuntu16.04\"\nVIRTUAL_MACHINE_MEMORY  = \"2048\"\nBOXFILE_URL             = \"https://atlas.hashicorp.com/bento/boxes/ubuntu-16.04/versions/2.3.1/providers/virtualbox.box\"\nPRIVATE_IP_ADDR         = \"192.168.56.114\"\n\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n    config.vm.box = VIRTUAL_MACHINE_NAME\n    config.vm.box_url = BOXFILE_URL\n    config.vm.network :forwarded_port, guest:22, host:3004, id: \"ssh\"\n    config.vm.network :private_network, ip: PRIVATE_IP_ADDR\n    config.vm.provider :virtualbox do |vb|\n        vb.customize [\n            \"modifyvm\", :id,\n            \"--memory\", VIRTUAL_MACHINE_MEMORY\n        ]\n        vb.customize [\n           \"modifyvm\", :id,\n           \"--cableconnected1\", \"on\"\n        ]\n    end\n    config.vm.provision :shell, :path => \"bootstrap.sh\"\n    config.vm.synced_folder \"../\", \"/vagrant\",\n        disabled: false,\n        owner: \"root\", group: \"root\",\n        mount_options: [\"dmode=777\", \"fmode=777\"]\n\nend\n```\n\n```\n#!/bin/bash\n\n#\n# Vagrant provisioning bootstrap shellscript.\n#\n\ncurl -fsSL https://apt.dockerproject.org/gpg | sudo apt-key add -\napt-key fingerprint 58118E89F3A912897C070ADBF76221572C52609D\nadd-apt-repository \\\n       \"deb https://apt.dockerproject.org/repo/ \\\n       ubuntu-$(lsb_release -cs) \\\n       main\"\n\n# Update apt-get packages\napt-get update -y\n\napt-get install -y git wget docker-engine php zip sysv-rc-conf\n\n# Install docker-compose\ncurl -L https://github.com/docker/compose/releases/download/1.11.1/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose\nchmod +x /usr/local/bin/docker-compose\n\n# Install lambda apex\ncurl https://raw.githubusercontent.com/apex/apex/master/install.sh | sh\napex upgrade\n\n# Install composer\ncurl -sS https://getcomposer.org/installer | php\n\n# Install node version manager\ngit clone https://github.com/creationix/nvm.git ~/.nvm && \\\n    cd ~/.nvm && \\\n    git checkout `git describe --abbrev=0 --tags`\n\n\n# Install aws cli\ncurl -kL https://bootstrap.pypa.io/get-pip.py | python\npip install awscli\n\nsysv-rc-conf docker on\nservice docker start\n```\n\ndocker-compose\u3068\u304b\u4f7f\u3063\u3066\u30b3\u30f3\u30c6\u30ca\u7acb\u3061\u4e0a\u3052\n\n```\n/var/www/laravel # uname -r\n4.4.0-51-generic\n/var/www/laravel # php artisan tin\nPsy Shell v0.8.1 (PHP 7.1.2 \u2014 cli) by Justin Hileman\n>>> random_bytes(1)\n=> b\"\u00b6\"\n>>>\n```\n\n\u52d5\u3044\u305f\nCentOS7\u306eKernel\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u4e0a\u3052\u305f\u307b\u3046\u304c\u65e9\u304b\u3063\u305f\u3088\u306d\n\nKernel\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u306f\u6c17\u3092\u3064\u3051\u3088\u3046\uff01\n", "tags": ["PHP7"]}