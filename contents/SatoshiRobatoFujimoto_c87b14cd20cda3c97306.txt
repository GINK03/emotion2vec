{"context": " More than 1 year has passed since last update.OpenCV3.1\u306b\u306fSfM(Structure from Motion)\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u65b0\u305f\u306b\u8ffd\u52a0\u3055\u308c\u305f\u304c\u3001CMake\u3057\u3066\u3082Ceres solver\u3092\u898b\u3064\u3051\u3066\u304f\u308c\u306a\u3044\u3002\n\u305d\u3082\u305d\u3082\u3001\n\nThe module is only available for Linux/GNU systems.\n\n\u3068\u3042\u3063\u305f\u3002\n\u30a6\u30bd\u3060\u2026 Windows\u3067\u3084\u3063\u3066\u307f\u305f\n\n\u30b7\u30b9\u30c6\u30e0\u74b0\u5883\n\nOpenCV 3.1\nVisual Studio 2013\nWindows 8.1\nCMake 3.2\n\n\nGLog\n\n\nGLog 0.3.3\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n\u89e3\u51cd\u3057\u305f\u3089\u3001google-glog.sln\u3092\u958b\u304d\u3001\u30d3\u30eb\u30c9\u3059\u308b\u3002\nDebug\u3068Release\u306b\u305d\u308c\u305e\u308clibglog.dll, libglog.lib\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\n\nlogging.cc\u306e\u30a8\u30e9\u30fc\n#include <algorithm>\n\n\u3092\u8ffd\u8a18\u3057\u3001\nLn1386, 1387\u306e\nconst int copy = min<int>(data_->num_chars_to_log_,\n                                sizeof(fatal_message)-1);\n\n\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3068\u901a\u3063\u305f\u3002\nconst int copy = std::min<int>(data_->num_chars_to_log_,\n                                sizeof(fatal_message)-1);\n\n\nGFlags\n\n1. GFlags\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n2. CMake\u3092\u8d77\u52d5\u3057\u3001\n\u30bd\u30fc\u30b9\u5148: C:\\gflags-master\n\u30d3\u30eb\u30c9\u5148: C:\\gflags-master\\build\n\u3068\u6307\u5b9a\u3057\u3001configure, \u305d\u3057\u3066generate\u3059\u308b\u3002\n3. build\u4e0b\u306b\u751f\u6210\u3055\u308c\u305fgflags.sln\u3092\u958b\u304d\u3001\u30d3\u30eb\u30c9\u3059\u308b\u3002\n4. gflags.lib\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\nCeres Solver\n\n\nCeres Solver\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n\u5148\u307b\u3069\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305fGLog\u306e\u30bd\u30fc\u30b9\u3092ceres-windows-master\u306b\u30b3\u30d4\u30da\u3059\u308b\u3002\n\u307e\u305f\u3001latest stable release\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fceres-solver\u3092ceres-windows-master\u306b\u30b3\u30d4\u30da\u3059\u308b\u3002\n\u3055\u3089\u306b\u3001Eigen\u3092ceres-windows-master\u306b\u30b3\u30d4\u30da\u3059\u308b\u3002\nEigen\u306fPCL1.7.2\u306b\u4ed8\u5c5e\u3057\u3066\u3044\u308b\u3082\u306e\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3002\nceres-2012.sln\u3092\u958b\u304d\u3001\u30d3\u30eb\u30c9\u3059\u308b\u3002\nWin32\\Debug\u3068Win32\\Release\u306b\u305d\u308c\u305e\u308cceres.dll, ceres.lib\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\n\nlibmv\nlibmv\u306fSfM\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3042\u308b\u304c\u3001OpenCV3.1\u3067\u306f\u3001SfM\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e2d\u306blight\u7248(libmv_light)\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3002\u305d\u306e\u4e2d\u306b\u3001Ceres Solver\u3092\u7528\u3044\u305fSimple Pipeline\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3002\n\n\nlibmv\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002(Eigen3\u306b\u5bfe\u5fdc)\n\u3053\u308c\u306fCMake\u3067\u304d\u305a\u3001\u3053\u308c\u306fEigen2\u306b\u5bfe\u5fdc\u3002\n\n\u89e3\u51cd\u3057\u305flibmv-master\\src\u306elibmv\u3068third_party\u3092SfM\u30e2\u30b8\u30e5\u30fc\u30eb\u306elibmv_light(opencv_contrib-master\\modules\\sfm\\src\\libmv_light\\libmv)\u306b\u5408\u308f\u305b\u3066\u5909\u66f4\u3057\u3066\u3044\u304f\u3002\n\n\nlibmv-master\\src\\libmv\u3092\u5909\u66f4\n\nbase\nlibmv_light\\libmv\\base\u306e\n\nvector.h\nvector_utils.h\n\n\u3092libmv-master\\src\\libmv\\base\u306b\u4e0a\u66f8\u304d\u3002\n\ncorrespondence\nlibmv_light\\libmv\\correspondence\u306e\n\nbipartite_graph.h\nfeature.h\nfeature_matching.cc\nfeature_matching.h\nmatches.cc\nmatches.h\nnRobustViewMatching.cc\nnRobustViewMatching.h\nnViewMatchingInterface.h\n\n\u3092libmv-master\\src\\libmv\\correspondence\u306b\u4e0a\u66f8\u304d\u3002\nCMakeLists.txt\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3002\n# define the source files\nSET(CORRESPONDENCE_SRC matches.cc \n                       feature_matching.cc\n                       nRobustViewMatching.cc)\n\n# define the header files (make the headers appear in IDEs.)\nFILE(GLOB CORRESPONDENCE_HDRS *.h)\n\nADD_LIBRARY(correspondence ${CORRESPONDENCE_SRC} ${CORRESPONDENCE_HDRS})\n\n# make the name of debug libraries end in _d.\nSET_TARGET_PROPERTIES(correspondence PROPERTIES DEBUG_POSTFIX \"_d\")\n\nTARGET_LINK_LIBRARIES(correspondence multiview)\n\n# installation rules for the library\nLIBMV_INSTALL_LIB(correspondence)\n\n# LIBMV_TEST(klt \"correspondence;image;numeric\")\n# LIBMV_TEST(bipartite_graph \"\")\n# LIBMV_TEST(kdtree \"\")\n# LIBMV_TEST(feature_set \"correspondence;image;numeric\")\n# LIBMV_TEST(matches \"correspondence;image;numeric\")\n# LIBMV_TEST(Array_Matcher \"correspondence;numeric;flann\")\n# LIBMV_TEST(tracker \"correspondence;reconstruction;numeric;flann\")\n\n\nmultiview\nlibmv_light\\libmv\\multiview\u306e\n\nconditioning.cc\nconditioning.h\neuclidean_resection.cc\neuclidean_resection.h\nfundamental.cc\nfundamental.h\nfundamental_kernel.cc\nfundamental_kernel.h\nhomography.cc\nhomography.h\nhomography_error.h\nhomography_parameterization.h\nnviewtriangulation.h\npanography.cc\npanography.h\npanography_kernel.cc\npanography_kernel.h\nprojection.cc\nprojection.h\nrandom_sample.h\nresection.h\nresection_kernel.h\nrobust_estimation.cc\nrobust_estimation.h\nrobust_fundamental.cc\nrobust_fundamental.h\nrobust_resection.cc\nrobust_resection.h\ntriangulation.cc\ntriangulation.h\ntwo_view_kernel.h\ntwoviewtriangulation.cc\ntwoviewtriangulation.h\n\n\u3092libmv-master\\src\\libmv\\multiview\u306b\u4e0a\u66f8\u304d\u3002\nCMakeLists.txt\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3002\n# define the source files\nSET(MULTIVIEW_SRC conditioning.cc\n                  euclidean_resection.cc\n                  fundamental.cc\n                  fundamental_kernel.cc\n                  homography.cc\n                  panography.cc\n                  panography_kernel.cc\n                  projection.cc\n                  robust_estimation.cc\n                  robust_fundamental.cc\n                  robust_resection.cc\n                  triangulation.cc\n                  twoviewtriangulation.cc)\n\n# define the header files (make the headers appear in IDEs.)\nFILE(GLOB MULTIVIEW_HDRS *.h)\n\nADD_LIBRARY(multiview ${MULTIVIEW_SRC} ${MULTIVIEW_HDRS})\n\nTARGET_LINK_LIBRARIES(multiview numeric V3D colamd ldl)\n\n# make the name of debug libraries end in _d.\nSET_TARGET_PROPERTIES(multiview PROPERTIES DEBUG_POSTFIX \"_d\")\n\n# installation rules for the library\nLIBMV_INSTALL_LIB(multiview)\n\n#IF (BUILD_TESTS)\n#ADD_LIBRARY(multiview_test_data\n#            test_data_sets.cc)\n# make the name of debug libraries end in _d.\n#SET_TARGET_PROPERTIES(multiview_test_data PROPERTIES DEBUG_POSTFIX \"_d\")\n#ENDIF (BUILD_TESTS)\n\n#MACRO (MULTIVIEW_TEST NAME)\n # LIBMV_TEST(${NAME} \"multiview_test_data;multiview;numeric\")\n#ENDMACRO (MULTIVIEW_TEST)\n\n#MULTIVIEW_TEST(projection)\n#MULTIVIEW_TEST(triangulation)\n#MULTIVIEW_TEST(fundamental)\n#MULTIVIEW_TEST(fundamental_kernel)\n#MULTIVIEW_TEST(fundamental_parameterization)\n#MULTIVIEW_TEST(homography)\n#MULTIVIEW_TEST(homography_error)\n#MULTIVIEW_TEST(homography_kernel)\n#MULTIVIEW_TEST(homography_parameterization)\n#MULTIVIEW_TEST(panography)\n#MULTIVIEW_TEST(focal_from_fundamental)\n#MULTIVIEW_TEST(nviewtriangulation)\n#MULTIVIEW_TEST(resection)\n#MULTIVIEW_TEST(resection_kernel)\n#MULTIVIEW_TEST(robust_homography)\n#MULTIVIEW_TEST(robust_fundamental)\n#MULTIVIEW_TEST(robust_estimation)\n#MULTIVIEW_TEST(sixpointnview)\n#MULTIVIEW_TEST(bundle)\n#MULTIVIEW_TEST(autocalibration)\n#MULTIVIEW_TEST(five_point)\n#MULTIVIEW_TEST(five_point_kernel)\n#MULTIVIEW_TEST(essential_kernel)\n#MULTIVIEW_TEST(affine)\n#MULTIVIEW_TEST(affine_kernel)\n#MULTIVIEW_TEST(affine_parameterization)\n#MULTIVIEW_TEST(robust_affine)\n#MULTIVIEW_TEST(euclidean_resection)\n#MULTIVIEW_TEST(euclidean_resection_kernel)\n#MULTIVIEW_TEST(robust_euclidean_resection)\n#MULTIVIEW_TEST(twoviewtriangulation)\n#MULTIVIEW_TEST(robust_resection)\n#MULTIVIEW_TEST(similarity)\n#MULTIVIEW_TEST(similarity_kernel)\n#MULTIVIEW_TEST(similarity_parameterization)\n#MULTIVIEW_TEST(robust_similarity)\n#MULTIVIEW_TEST(euclidean)\n#MULTIVIEW_TEST(euclidean_kernel)\n#MULTIVIEW_TEST(euclidean_parameterization)\n#MULTIVIEW_TEST(robust_euclidean)\n#MULTIVIEW_TEST(rotation_parameterization)\n\n# TODO(keir): Make tests that depend on generated.cc to use generated sources.\n#ADD_GENERATED_SOURCE(generated.cc generator.py)\n\n\nnumeric\nlibmv_light\\libmv\\numeric\u306e\n\nfunction_derivative.h\nlevenberg_marquardt.h\nnumeric.cc\nnumeric.h\npoly.cc\npoly.h\n\n\u3092libmv-master\\src\\libmv\\numeric\u306b\u4e0a\u66f8\u304d\u3002\n\nsimple_pipeline\nlibmv-master\\src\\libmv\\\u306b\u306fsimple_pipeline\u304c\u5b58\u5728\u3057\u306a\u3044\u306e\u3067\u3001libmv_light\\libmv\\simple_pipeline\u3092\u30b3\u30d4\u30da\u3002\nCMakeLists.txt\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3002\nSET(SIMPLE_PIPELINE_SRC\n    bundle.cc\n    camera_intrinsics.cc\n    distortion_models.cc\n    initialize_reconstruction.cc\n    intersect.cc\n    keyframe_selection.cc\n    pipeline.cc\n    reconstruction.cc\n    reconstruction_scale.cc\n    resect.cc\n    tracks.cc\n)\n\n# Define the header files so that they appear in IDEs.\nFILE(GLOB SIMPLE_PIPELINE_HDRS *.h)\n\nADD_LIBRARY(simple_pipeline STATIC ${SIMPLE_PIPELINE_SRC} ${SIMPLE_PIPELINE_HDRS})\n\nTARGET_LINK_LIBRARIES(simple_pipeline multiview)\n\nLIBMV_INSTALL_LIB(simple_pipeline)\n\n\nlibmv-master\\src\\third_party\u306e\u5909\u66f4\n\neigen\nceres-windows-master\\Eigen\u306e\n\nEigen\nunsupported\n\n\u3092libmv-master\\src\\third_party\\eigen\u306b\u4e0a\u66f8\u304d\u3002\n\nglog\nceres-windows-master\\glog\\src\\glog\u306e\n\nlog_severity.h\nlogging.h.in\nraw_logging.h.in\nstl_logging.h.in\nvlog_is_on.h.in\n\n\u3092libmv-master\\src\\third_party\\glog\\src\\glog\u306b\u4e0a\u66f8\u304d\u3002\n\nlibmv\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\n\nCMake\u3092\u958b\u304d\u3001\n\u30bd\u30fc\u30b9\u5148: C:\\libmv-master\\src\n\u30d3\u30eb\u30c9\u5148: C:\\libmv-master\\src\\build\n\u3068\u3057\u3066configure, \u305d\u3057\u3066generate\u3059\u308b\u3002\nbuild\u4e0b\u306b\u751f\u6210\u3055\u308c\u305fLIBMV.sln\u3092\u8d77\u52d5\u3057\u3001correspondence, gflags, multiview, numeric,  simple_pipeline\u306e\u307f\u30d3\u30eb\u30c9\u3059\u308b\u3002\n\n\ncorrespondence\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304b\u3089\u8ffd\u52a0\u306e\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u8ffd\u8a18\u3059\u308b\u3002\n\nC:\\ceres-windows-master\\glog\\src\\windows;\n$(OPENCV_DIR)\\build\\include;\n\n\nmultiview\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304b\u3089\u8ffd\u52a0\u306e\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u8ffd\u8a18\u3059\u308b\u3002\n\nC:\\ceres-windows-master\\glog\\src\\windows;\n\n\nsimple_pipeline\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304b\u3089\u8ffd\u52a0\u306e\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u8ffd\u8a18\u3059\u308b\u3002\n\nC:\\ceres-windows-master\\glog\\src\\windows;\nC:\\ceres-windows-master\\win\\include;\nC:\\ceres-windows-master\\ceres-solver\\include;\n\n\u30d3\u30eb\u30c9\u306b\u6210\u529f\u3059\u308c\u3070\u3001\ncorrespondence_d.lib\ncorrespondence.lib\ngflags_d.lib (debug\u3067\u30d3\u30eb\u30c9\u3059\u308b\u3068\u304dgflags.lib\u306a\u306e\u3067\u540d\u524d\u3092\u5909\u66f4)\ngflags.lib\nmultiview_d.lib\nmultiview.lib\nnumeric_d.lib\nnumeric.lib\nsimple_pipeline_d.lib (debug\u3067\u30d3\u30eb\u30c9\u3059\u308b\u3068\u304dsimple_pipeline.lib\u306a\u306e\u3067\u540d\u524d\u3092\u5909\u66f4)\nsimple_pipeline.lib\n\n\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u4f5c\u6210\n\u3053\u308c\u3067\u6e96\u5099\u304c\u6574\u3063\u305f\u306e\u3067\u3001\u5b9f\u969b\u306eSfM\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u3002\n\nCamera Motion Estimation\n\n\u30d8\u30c3\u30c0\u30fc\u30d5\u30a1\u30a4\u30eb\nC:\\opencv_contrib-master\\modules\\sfm\\src\u306e\n\nlibmv_capi.h\n\n\u3092\u7528\u3044\u308b\u3002\nlibmv_capi.h\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3059\u308b\u3002\n#define snprintf _snprintf\n#define CERES_FOUND 1\n\n#include <opencv2/opencv.hpp>\n#include <opencv2/sfm.hpp>\n#include <opencv_lib.hpp>\n#include <gflags/gflags.h>\n#include <glog/logging.h>\n\n\n\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\nC:\\opencv_contrib-master\\modules\\sfm\\samples\u306e\n\ntrajectory_reconstruccion.cpp\n\n\u3092main.cpp\u3068\u3059\u308b\u3002\n\u307e\u305f\u3001C:\\opencv_contrib-master\\modules\\sfm\\src\u306e\n\nconditioning.cpp\nfundamental.cpp\nnumeric.cpp\nprojection.cpp\nreconstruct.cpp\nrobust.cpp\nsimple_pipeline.cpp\ntriangulation.cpp\n\n\u3092\u7528\u3044\u308b\u3002\nmain.cpp\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3059\u308b\u3002\n#include <opencv_lib.hpp>\n\nmain.cpp, reconstruct.cpp, simple_pipeline.cpp\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3059\u308b\u3002\n#define CERES_FOUND 1\n\n\n\u8ffd\u52a0\u306e\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(Release)\nC:\\ceres-windows-master\\Eigen;\nC:\\ceres-windows-master\\glog\\src\\windows;\nC:\\ceres-windows-master\\glog\\src;\nC:\\ceres-windows-master\\win\\include;\nC:\\ceres-windows-master\\ceres-solver\\include;\nC:\\libmv-master\\src;\nC:\\libmv-master\\src\\third_party;\n$(OPENCV_DIR)\\build\\include;\n\n\n\u8ffd\u52a0\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(Release)\nC:\\ceres-windows-master\\glog\\Release;\nC:\\ceres-windows-master\\Win32\\Release;\nC:\\libmv-master\\src\\build\\lib;\n$(OPENCV_DIR)\\build\\lib;\n\n\n\u8ffd\u52a0\u306e\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea(Release)\nceres.lib\nlibglog.lib\ngflags.lib\ncorrespondence.lib\nmultiview.lib\nnumeric.lib\nsimple_pipeline.lib\n\n\n\u5b9f\u884c\u7d50\u679c\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4e0b\u306b\u3001ceres.dll, libglog.dll, opencv_contrib-master\\modules\\sfm\\samples\\data\\desktop_tracks.txt\u3092\u30b3\u30d4\u30da\u3059\u308b\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30d7\u30ed\u30d1\u30c6\u30a3->\u30c7\u30d0\u30c3\u30b0->\u30b3\u30de\u30f3\u30c9\u5f15\u6570\u306b\ndesktop_tracks.txt 1914 640 360\n\n\u3092\u5165\u529b\u3059\u308b\u3002\nRelease\u3067\u5b9f\u884c\u3057\u305f\u7d50\u679c\u3092\u4ee5\u4e0b\u306b\u793a\u3059\u3002\n\n\n\ns: \u30ab\u30e1\u30e9\u5ea7\u6a19\u3068\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u306e\u8996\u70b9\u5207\u308a\u66ff\u3048\nq: \u7d42\u4e86\n\nDebug\u3067\u306f\u30d3\u30eb\u30c9\u3067\u304d\u305f\u304c\u3001\u5b9f\u884c\u3057\u305f\u3089\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002\n\n\u6b21\u306f\u3001Scene Reconstruction\u3092\u3084\u308b\u3002\n\n\u95a2\u9023\u8a18\u4e8b\n\nOpenCV 3.1\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u306e\u3067\u5c0e\u5165\u3057\u3066\u307f\u305f(Visual Studio 2013)\n\n\nOpenCV3.1\u306b\u306fSfM(Structure from Motion)\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u65b0\u305f\u306b\u8ffd\u52a0\u3055\u308c\u305f\u304c\u3001CMake\u3057\u3066\u3082Ceres solver\u3092\u898b\u3064\u3051\u3066\u304f\u308c\u306a\u3044\u3002\n\n\u305d\u3082\u305d\u3082\u3001\n> [The module is only available for Linux/GNU systems.](http://docs.opencv.org/master/db/db8/tutorial_sfm_installation.html#gsc.tab=0)\n\n\u3068\u3042\u3063\u305f\u3002\n\n\u30a6\u30bd\u3060\u2026 Windows\u3067\u3084\u3063\u3066\u307f\u305f\n\n# \u30b7\u30b9\u30c6\u30e0\u74b0\u5883\n- OpenCV 3.1\n- Visual Studio 2013\n- Windows 8.1\n- CMake 3.2\n\n# GLog\n\n1. [GLog 0.3.3](https://code.google.com/p/google-glog/downloads/detail?name=glog-0.3.3.tar.gz)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n2. \u89e3\u51cd\u3057\u305f\u3089\u3001google-glog.sln\u3092\u958b\u304d\u3001\u30d3\u30eb\u30c9\u3059\u308b\u3002\n3. Debug\u3068Release\u306b\u305d\u308c\u305e\u308clibglog.dll, libglog.lib\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\n## logging.cc\u306e\u30a8\u30e9\u30fc\n\n~~~\n#include <algorithm>\n~~~\n\u3092\u8ffd\u8a18\u3057\u3001\nLn1386, 1387\u306e\n\n~~~\nconst int copy = min<int>(data_->num_chars_to_log_,\n                                sizeof(fatal_message)-1);\n~~~\n\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3068\u901a\u3063\u305f\u3002\n\n~~~\nconst int copy = std::min<int>(data_->num_chars_to_log_,\n                                sizeof(fatal_message)-1);\n~~~\n\n\n\n# ~~GFlags~~\n~~1. [GFlags](https://github.com/gflags/gflags)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002~~\n\n~~2. CMake\u3092\u8d77\u52d5\u3057\u3001~~\n~~\u30bd\u30fc\u30b9\u5148: C:\\gflags-master~~\n~~\u30d3\u30eb\u30c9\u5148: C:\\gflags-master\\build~~\n~~\u3068\u6307\u5b9a\u3057\u3001configure, \u305d\u3057\u3066generate\u3059\u308b\u3002~~\n\n~~3. build\u4e0b\u306b\u751f\u6210\u3055\u308c\u305fgflags.sln\u3092\u958b\u304d\u3001\u30d3\u30eb\u30c9\u3059\u308b\u3002~~\n~~4. gflags.lib\u304c\u751f\u6210\u3055\u308c\u308b\u3002~~\n\n# Ceres Solver\n1. [Ceres Solver](https://github.com/tbennun/ceres-windows)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n2. \u5148\u307b\u3069\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305fGLog\u306e\u30bd\u30fc\u30b9\u3092ceres-windows-master\u306b\u30b3\u30d4\u30da\u3059\u308b\u3002\n3. \u307e\u305f\u3001[latest stable release](http://ceres-solver.org/)\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fceres-solver\u3092ceres-windows-master\u306b\u30b3\u30d4\u30da\u3059\u308b\u3002\n4. \u3055\u3089\u306b\u3001[Eigen](http://eigen.tuxfamily.org/index.php?title=Main_Page)\u3092ceres-windows-master\u306b\u30b3\u30d4\u30da\u3059\u308b\u3002\nEigen\u306f[PCL1.7.2](http://unanancyowen.com/?p=712)\u306b\u4ed8\u5c5e\u3057\u3066\u3044\u308b\u3082\u306e\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3002\n5. ceres-2012.sln\u3092\u958b\u304d\u3001\u30d3\u30eb\u30c9\u3059\u308b\u3002\n6. Win32\\Debug\u3068Win32\\Release\u306b\u305d\u308c\u305e\u308cceres.dll, ceres.lib\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\n# libmv\n\nlibmv\u306fSfM\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3042\u308b\u304c\u3001OpenCV3.1\u3067\u306f\u3001SfM\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e2d\u306blight\u7248(libmv_light)\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3002\u305d\u306e\u4e2d\u306b\u3001Ceres Solver\u3092\u7528\u3044\u305fSimple Pipeline\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3002\n\n1. [libmv](https://github.com/libmv/libmv)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002(Eigen3\u306b\u5bfe\u5fdc)\n~~[\u3053\u308c](https://code.google.com/p/libmv/)\u306fCMake\u3067\u304d\u305a\u3001[\u3053\u308c](https://code.google.com/p/libmv/downloads/detail?name=libmv-0.1-full_Win-x86-msvc2008.exe)\u306fEigen2\u306b\u5bfe\u5fdc\u3002~~\n3. \u89e3\u51cd\u3057\u305flibmv-master\\src\u306elibmv\u3068third_party\u3092SfM\u30e2\u30b8\u30e5\u30fc\u30eb\u306elibmv_light(opencv_contrib-master\\modules\\sfm\\src\\libmv_light\\libmv)\u306b\u5408\u308f\u305b\u3066\u5909\u66f4\u3057\u3066\u3044\u304f\u3002\n\n## libmv-master\\src\\libmv\u3092\u5909\u66f4\n### base\nlibmv_light\\libmv\\base\u306e\n\n- vector.h\n- vector_utils.h\n\n\u3092libmv-master\\src\\libmv\\base\u306b\u4e0a\u66f8\u304d\u3002\n\n### correspondence\nlibmv_light\\libmv\\correspondence\u306e\n\n- bipartite_graph.h\n- feature.h\n- feature_matching.cc\n- feature_matching.h\n- matches.cc\n- matches.h\n- nRobustViewMatching.cc\n- nRobustViewMatching.h\n- nViewMatchingInterface.h\n\n\u3092libmv-master\\src\\libmv\\correspondence\u306b\u4e0a\u66f8\u304d\u3002\n\nCMakeLists.txt\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3002\n\n~~~\n# define the source files\nSET(CORRESPONDENCE_SRC matches.cc \n                       feature_matching.cc\n                       nRobustViewMatching.cc)\n\n# define the header files (make the headers appear in IDEs.)\nFILE(GLOB CORRESPONDENCE_HDRS *.h)\n\nADD_LIBRARY(correspondence ${CORRESPONDENCE_SRC} ${CORRESPONDENCE_HDRS})\n\n# make the name of debug libraries end in _d.\nSET_TARGET_PROPERTIES(correspondence PROPERTIES DEBUG_POSTFIX \"_d\")\n\nTARGET_LINK_LIBRARIES(correspondence multiview)\n\n# installation rules for the library\nLIBMV_INSTALL_LIB(correspondence)\n            \n# LIBMV_TEST(klt \"correspondence;image;numeric\")\n# LIBMV_TEST(bipartite_graph \"\")\n# LIBMV_TEST(kdtree \"\")\n# LIBMV_TEST(feature_set \"correspondence;image;numeric\")\n# LIBMV_TEST(matches \"correspondence;image;numeric\")\n# LIBMV_TEST(Array_Matcher \"correspondence;numeric;flann\")\n# LIBMV_TEST(tracker \"correspondence;reconstruction;numeric;flann\")\n~~~\n\n### multiview\nlibmv_light\\libmv\\multiview\u306e\n\n- conditioning.cc\n- conditioning.h\n- euclidean_resection.cc\n- euclidean_resection.h\n- fundamental.cc\n- fundamental.h\n- fundamental_kernel.cc\n- fundamental_kernel.h\n- homography.cc\n- homography.h\n- homography_error.h\n- homography_parameterization.h\n- nviewtriangulation.h\n- panography.cc\n- panography.h\n- panography_kernel.cc\n- panography_kernel.h\n- projection.cc\n- projection.h\n- random_sample.h\n- resection.h\n- resection_kernel.h\n- robust_estimation.cc\n- robust_estimation.h\n- robust_fundamental.cc\n- robust_fundamental.h\n- robust_resection.cc\n- robust_resection.h\n- triangulation.cc\n- triangulation.h\n- two_view_kernel.h\n- twoviewtriangulation.cc\n- twoviewtriangulation.h\n\n\u3092libmv-master\\src\\libmv\\multiview\u306b\u4e0a\u66f8\u304d\u3002\n\nCMakeLists.txt\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3002\n\n~~~\n# define the source files\nSET(MULTIVIEW_SRC conditioning.cc\n                  euclidean_resection.cc\n                  fundamental.cc\n                  fundamental_kernel.cc\n                  homography.cc\n                  panography.cc\n                  panography_kernel.cc\n                  projection.cc\n                  robust_estimation.cc\n                  robust_fundamental.cc\n                  robust_resection.cc\n                  triangulation.cc\n                  twoviewtriangulation.cc)\n\n# define the header files (make the headers appear in IDEs.)\nFILE(GLOB MULTIVIEW_HDRS *.h)\n\nADD_LIBRARY(multiview ${MULTIVIEW_SRC} ${MULTIVIEW_HDRS})\n\nTARGET_LINK_LIBRARIES(multiview numeric V3D colamd ldl)\n\n# make the name of debug libraries end in _d.\nSET_TARGET_PROPERTIES(multiview PROPERTIES DEBUG_POSTFIX \"_d\")\n\n# installation rules for the library\nLIBMV_INSTALL_LIB(multiview)\n\n#IF (BUILD_TESTS)\n#ADD_LIBRARY(multiview_test_data\n#            test_data_sets.cc)\n# make the name of debug libraries end in _d.\n#SET_TARGET_PROPERTIES(multiview_test_data PROPERTIES DEBUG_POSTFIX \"_d\")\n#ENDIF (BUILD_TESTS)\n\n#MACRO (MULTIVIEW_TEST NAME)\n # LIBMV_TEST(${NAME} \"multiview_test_data;multiview;numeric\")\n#ENDMACRO (MULTIVIEW_TEST)\n\n#MULTIVIEW_TEST(projection)\n#MULTIVIEW_TEST(triangulation)\n#MULTIVIEW_TEST(fundamental)\n#MULTIVIEW_TEST(fundamental_kernel)\n#MULTIVIEW_TEST(fundamental_parameterization)\n#MULTIVIEW_TEST(homography)\n#MULTIVIEW_TEST(homography_error)\n#MULTIVIEW_TEST(homography_kernel)\n#MULTIVIEW_TEST(homography_parameterization)\n#MULTIVIEW_TEST(panography)\n#MULTIVIEW_TEST(focal_from_fundamental)\n#MULTIVIEW_TEST(nviewtriangulation)\n#MULTIVIEW_TEST(resection)\n#MULTIVIEW_TEST(resection_kernel)\n#MULTIVIEW_TEST(robust_homography)\n#MULTIVIEW_TEST(robust_fundamental)\n#MULTIVIEW_TEST(robust_estimation)\n#MULTIVIEW_TEST(sixpointnview)\n#MULTIVIEW_TEST(bundle)\n#MULTIVIEW_TEST(autocalibration)\n#MULTIVIEW_TEST(five_point)\n#MULTIVIEW_TEST(five_point_kernel)\n#MULTIVIEW_TEST(essential_kernel)\n#MULTIVIEW_TEST(affine)\n#MULTIVIEW_TEST(affine_kernel)\n#MULTIVIEW_TEST(affine_parameterization)\n#MULTIVIEW_TEST(robust_affine)\n#MULTIVIEW_TEST(euclidean_resection)\n#MULTIVIEW_TEST(euclidean_resection_kernel)\n#MULTIVIEW_TEST(robust_euclidean_resection)\n#MULTIVIEW_TEST(twoviewtriangulation)\n#MULTIVIEW_TEST(robust_resection)\n#MULTIVIEW_TEST(similarity)\n#MULTIVIEW_TEST(similarity_kernel)\n#MULTIVIEW_TEST(similarity_parameterization)\n#MULTIVIEW_TEST(robust_similarity)\n#MULTIVIEW_TEST(euclidean)\n#MULTIVIEW_TEST(euclidean_kernel)\n#MULTIVIEW_TEST(euclidean_parameterization)\n#MULTIVIEW_TEST(robust_euclidean)\n#MULTIVIEW_TEST(rotation_parameterization)\n\n# TODO(keir): Make tests that depend on generated.cc to use generated sources.\n#ADD_GENERATED_SOURCE(generated.cc generator.py)\n~~~\n\n### numeric\nlibmv_light\\libmv\\numeric\u306e\n\n- function_derivative.h\n- levenberg_marquardt.h\n- numeric.cc\n- numeric.h\n- poly.cc\n- poly.h\n\n\u3092libmv-master\\src\\libmv\\numeric\u306b\u4e0a\u66f8\u304d\u3002\n\n### simple_pipeline\nlibmv-master\\src\\libmv\\\u306b\u306fsimple_pipeline\u304c\u5b58\u5728\u3057\u306a\u3044\u306e\u3067\u3001libmv_light\\libmv\\simple_pipeline\u3092\u30b3\u30d4\u30da\u3002\n\nCMakeLists.txt\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3002\n\n~~~\nSET(SIMPLE_PIPELINE_SRC\n    bundle.cc\n    camera_intrinsics.cc\n    distortion_models.cc\n    initialize_reconstruction.cc\n    intersect.cc\n    keyframe_selection.cc\n    pipeline.cc\n    reconstruction.cc\n    reconstruction_scale.cc\n    resect.cc\n    tracks.cc\n)\n\n# Define the header files so that they appear in IDEs.\nFILE(GLOB SIMPLE_PIPELINE_HDRS *.h)\n\nADD_LIBRARY(simple_pipeline STATIC ${SIMPLE_PIPELINE_SRC} ${SIMPLE_PIPELINE_HDRS})\n\nTARGET_LINK_LIBRARIES(simple_pipeline multiview)\n\nLIBMV_INSTALL_LIB(simple_pipeline)\n~~~\n\n## libmv-master\\src\\third_party\u306e\u5909\u66f4\n### eigen\nceres-windows-master\\Eigen\u306e\n\n- Eigen\n- unsupported\n\n\u3092libmv-master\\src\\third_party\\eigen\u306b\u4e0a\u66f8\u304d\u3002\n\n### glog\nceres-windows-master\\glog\\src\\glog\u306e\n\n- log_severity.h\n- logging.h.in\n- raw_logging.h.in\n- stl_logging.h.in\n- vlog_is_on.h.in\n\n\u3092libmv-master\\src\\third_party\\glog\\src\\glog\u306b\u4e0a\u66f8\u304d\u3002\n\n## libmv\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\n1. CMake\u3092\u958b\u304d\u3001\n\u30bd\u30fc\u30b9\u5148: C:\\libmv-master\\src\n\u30d3\u30eb\u30c9\u5148: C:\\libmv-master\\src\\build\n\u3068\u3057\u3066configure, \u305d\u3057\u3066generate\u3059\u308b\u3002\n2. build\u4e0b\u306b\u751f\u6210\u3055\u308c\u305fLIBMV.sln\u3092\u8d77\u52d5\u3057\u3001correspondence, gflags, multiview, numeric,  simple_pipeline\u306e\u307f\u30d3\u30eb\u30c9\u3059\u308b\u3002\n\n- correspondence\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304b\u3089\u8ffd\u52a0\u306e\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u8ffd\u8a18\u3059\u308b\u3002\n\n~~~\nC:\\ceres-windows-master\\glog\\src\\windows;\n$(OPENCV_DIR)\\build\\include;\n~~~\n- multiview\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304b\u3089\u8ffd\u52a0\u306e\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u8ffd\u8a18\u3059\u308b\u3002\n\n~~~\nC:\\ceres-windows-master\\glog\\src\\windows;\n~~~\n- simple_pipeline\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304b\u3089\u8ffd\u52a0\u306e\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u8ffd\u8a18\u3059\u308b\u3002\n\n~~~\nC:\\ceres-windows-master\\glog\\src\\windows;\nC:\\ceres-windows-master\\win\\include;\nC:\\ceres-windows-master\\ceres-solver\\include;\n~~~\n\n\u30d3\u30eb\u30c9\u306b\u6210\u529f\u3059\u308c\u3070\u3001\n\n~~~\ncorrespondence_d.lib\ncorrespondence.lib\ngflags_d.lib (debug\u3067\u30d3\u30eb\u30c9\u3059\u308b\u3068\u304dgflags.lib\u306a\u306e\u3067\u540d\u524d\u3092\u5909\u66f4)\ngflags.lib\nmultiview_d.lib\nmultiview.lib\nnumeric_d.lib\nnumeric.lib\nsimple_pipeline_d.lib (debug\u3067\u30d3\u30eb\u30c9\u3059\u308b\u3068\u304dsimple_pipeline.lib\u306a\u306e\u3067\u540d\u524d\u3092\u5909\u66f4)\nsimple_pipeline.lib\n~~~\n\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\n# \u30d7\u30ed\u30b0\u30e9\u30e0\u4f5c\u6210\n\u3053\u308c\u3067\u6e96\u5099\u304c\u6574\u3063\u305f\u306e\u3067\u3001\u5b9f\u969b\u306eSfM\u30e2\u30b8\u30e5\u30fc\u30eb\u306e[\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0](http://docs.opencv.org/master/d5/dab/tutorial_sfm_trajectory_estimation.html#gsc.tab=0)\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u3002\n\n## Camera Motion Estimation\n### \u30d8\u30c3\u30c0\u30fc\u30d5\u30a1\u30a4\u30eb\nC:\\opencv_contrib-master\\modules\\sfm\\src\u306e\n\n- libmv_capi.h\n\n\u3092\u7528\u3044\u308b\u3002\n\nlibmv_capi.h\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3059\u308b\u3002\n\n~~~\n#define snprintf _snprintf\n#define CERES_FOUND 1\n\n#include <opencv2/opencv.hpp>\n#include <opencv2/sfm.hpp>\n#include <opencv_lib.hpp>\n#include <gflags/gflags.h>\n#include <glog/logging.h>\n~~~\n\n\n### \u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\nC:\\opencv_contrib-master\\modules\\sfm\\samples\u306e\n\n- trajectory_reconstruccion.cpp\n\n\u3092main.cpp\u3068\u3059\u308b\u3002\n\n\u307e\u305f\u3001C:\\opencv_contrib-master\\modules\\sfm\\src\u306e\n\n- conditioning.cpp\n- fundamental.cpp\n- numeric.cpp\n- projection.cpp\n- reconstruct.cpp\n- robust.cpp\n- simple_pipeline.cpp\n- triangulation.cpp\n\n\u3092\u7528\u3044\u308b\u3002\n\nmain.cpp\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3059\u308b\u3002\n\n~~~\n#include <opencv_lib.hpp>\n~~~\n\nmain.cpp, reconstruct.cpp, simple_pipeline.cpp\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3059\u308b\u3002\n\n~~~\n#define CERES_FOUND 1\n~~~\n\n## \u8ffd\u52a0\u306e\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(Release)\n\n~~~\nC:\\ceres-windows-master\\Eigen;\nC:\\ceres-windows-master\\glog\\src\\windows;\nC:\\ceres-windows-master\\glog\\src;\nC:\\ceres-windows-master\\win\\include;\nC:\\ceres-windows-master\\ceres-solver\\include;\nC:\\libmv-master\\src;\nC:\\libmv-master\\src\\third_party;\n$(OPENCV_DIR)\\build\\include;\n~~~\n\n## \u8ffd\u52a0\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(Release)\n\n~~~\nC:\\ceres-windows-master\\glog\\Release;\nC:\\ceres-windows-master\\Win32\\Release;\nC:\\libmv-master\\src\\build\\lib;\n$(OPENCV_DIR)\\build\\lib;\n~~~\n\n## \u8ffd\u52a0\u306e\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea(Release)\n\n~~~\nceres.lib\nlibglog.lib\ngflags.lib\ncorrespondence.lib\nmultiview.lib\nnumeric.lib\nsimple_pipeline.lib\n~~~\n\n# \u5b9f\u884c\u7d50\u679c\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4e0b\u306b\u3001ceres.dll, libglog.dll, opencv_contrib-master\\modules\\sfm\\samples\\data\\desktop_tracks.txt\u3092\u30b3\u30d4\u30da\u3059\u308b\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30d7\u30ed\u30d1\u30c6\u30a3->\u30c7\u30d0\u30c3\u30b0->\u30b3\u30de\u30f3\u30c9\u5f15\u6570\u306b\n\n~~~\ndesktop_tracks.txt 1914 640 360\n~~~\n\u3092\u5165\u529b\u3059\u308b\u3002\n\nRelease\u3067\u5b9f\u884c\u3057\u305f\u7d50\u679c\u3092\u4ee5\u4e0b\u306b\u793a\u3059\u3002\n![sfm1.png](https://qiita-image-store.s3.amazonaws.com/0/63863/aa284496-08a4-2845-c8da-24beec2124ca.png)\n![sfm2.png](https://qiita-image-store.s3.amazonaws.com/0/63863/d233b1d0-88d0-28a2-2c8e-8d3db7bd2350.png)\n![sfm3.png](https://qiita-image-store.s3.amazonaws.com/0/63863/db772c00-4f5a-f711-2873-4ae314f1e75e.png)\n\n\n~~~\ns: \u30ab\u30e1\u30e9\u5ea7\u6a19\u3068\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u306e\u8996\u70b9\u5207\u308a\u66ff\u3048\nq: \u7d42\u4e86\n~~~\n\nDebug\u3067\u306f\u30d3\u30eb\u30c9\u3067\u304d\u305f\u304c\u3001\u5b9f\u884c\u3057\u305f\u3089\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002\n![err.png](https://qiita-image-store.s3.amazonaws.com/0/63863/dcafff66-7fbf-6820-df87-5961aadc5845.png)\n\n\u6b21\u306f\u3001Scene Reconstruction\u3092\u3084\u308b\u3002\n\n\n# \u95a2\u9023\u8a18\u4e8b\n- [OpenCV 3.1\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u306e\u3067\u5c0e\u5165\u3057\u3066\u307f\u305f(Visual Studio 2013)](http://qiita.com/SatoshiRobatoFujimoto/items/21d74912a7752b9e6ca4)\n", "tags": ["OpenCV", "VisualStudio", "OpenGL", "\u753b\u50cf\u51e6\u7406", "C++"]}