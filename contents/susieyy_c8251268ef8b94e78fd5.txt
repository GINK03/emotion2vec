{"context": " More than 1 year has passed since last update.Rails\u306e\u958b\u767a\u74b0\u5883\u306b\u304a\u3044\u3066\u3001DB\u3092sqlite\u304b\u3089boot2docker&docker\u3067\u8d77\u52d5\u3057\u305fMySQL\u306b\u5909\u66f4\u3057\u3066\u307f\u307e\u3059\u3002\n\n\nEnvironment\n\nOSX Ysemite 10.10.1\nVirtualBox 4.3.20\nboot2docker 1.4.1\n\n\nInstall VirtualBox\nVirtualBox\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u3088\u308a\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\u57f7\u7b46\u6642\u70b9\u3067\u306f\u6700\u65b0\u7248\u306f4.3.20\u3067\u3057\u305f\u3002\nhttps://www.virtualbox.org/\n\nInstall boot2docker\n\u4ee5\u4e0b\u3088\u308a boot2docker.pkg \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u57f7\u7b46\u6642\u70b9\u3067\u306f\u6700\u65b0\u7248\u306f1.4.1\u3067\u3057\u305f\u3002\nhttps://github.com/boot2docker/osx-installer/releases\n\nSetup boot2docker\nboot2docker\u3092\u521d\u671f\u5316\u3057\u307e\u3059\u3002\n$ boot2docker init\nLatest release for boot2docker/boot2docker is v1.4.1\nDownloading boot2docker ISO image...\nSuccess: downloaded\n\nboot2docker\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\u5185\u90e8\u3067\u306f\u3001VirtualBox\u4e0a\u3067boot2docke\u30a4\u30e1\u30fc\u30b8\u3092\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\n$ boot2docker up\nWaiting for VM and Docker daemon to start...\n..........................oooooooooooooooooooooo\nStarted.\n\n    export DOCKER_CERT_PATH=/Users/suiseyy/.boot2docker/certs/boot2docker-vm\n    export DOCKER_TLS_VERIFY=1\n    export DOCKER_HOST=tcp://192.168.59.103:2376\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306bexport\u8a2d\u5b9a\u3092\u3001bash\u3084zsh\u306erc\u3084profile\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\nIP\u306e\u90e8\u5206\u306f\u52d5\u7684\u306b\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n$ vi ~/.zprofile\n\n## Boot2Docker\nexport DOCKER_HOST=tcp://$(boot2docker ip 2>/dev/null):2376\nexport DOCKER_CERT_PATH=/Users/susieyy/.boot2docker/certs/boot2docker-vm\nexport DOCKER_TLS_VERIFY=1\n\n\nHello World!\n\u52d5\u4f5c\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002\nHello World\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n$ docker run ubuntu echo \"Hello World\"\n....\nHello World\n\n\nStop boot2docker\nVirtualBox\u4e0a\u3067boot2docke\u30a4\u30e1\u30fc\u30b8\u3092\u505c\u6b62\u3059\u308b\u5834\u5408\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u3067\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ boot2docker down\n\n\nVersion\n$ boot2docker version\nBoot2Docker-cli version: v1.4.1\nGit commit: 43241cb\n\n\nInstall MySQL\n\nDownload MySQL\nOFFICIAL REPO MySQL\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n$ docker pull mysql\n$ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nmysql               latest              a385835786ac        9 days ago          236 MB\n\n\nREF\nOfficial Images\u306f\u4ee5\u4e0b\u304b\u3089\u63a2\u305b\u307e\u3059\u3002\nhttps://registry.hub.docker.com/search?page=1&q=library&f=official\n\nStart MySQL Container\nMySQL\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002PORT\u3092\u30db\u30b9\u30c8\u306e13306\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u307e\u3059\u3002\nmysql-server\u306f\u4efb\u610f\u306e\u540d\u524d\u3067\u3059\u3002\nmysecretpassword\u306f\u4efb\u610f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u3059\u3002\n$ docker run --name mysql-server -p 13306:3306 -e MYSQL_ROOT_PASSWORD=mysecretpassword -d mysql -p 13306:3306\n$ docker ps\nCONTAINER ID        IMAGE               COMMAND                CREATED             STATUS              PORTS                     NAMES\n7c4ece504bf3        mysql:latest        \"/entrypoint.sh mysq   3 seconds ago       Up 3 seconds        0.0.0.0:13306->3306/tcp   mysql-server\n\n\u63a5\u7d9a\u30c6\u30b9\u30c8\u3092\u3057\u307e\u3059\u3002\n$ mysql -u root -h $(boot2docker ip) --port 13306 -p\nEnter password:\n....\nmysql>\n\n\u63a5\u7d9a\u3067\u304d\u307e\u3057\u305f\u3002\n\nStop MySQL Container\nMySQL\u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ docker stop mysql-server\n\n\nConnect by Rails\n\u4eca\u56de\u306e\u672c\u7b4b\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001dotenv\u3092\u5229\u7528\u3057\u3066\u8a2d\u5b9a\u5024\u3092\u8a18\u8ff0\u3057\u307e\u3057\u305f\u3002\nGemfile\u306b\u4ee5\u4e0b\u8ffd\u8a18\u3057\u307e\u3059\u3002\ngem 'dotenv'\ngem 'mysql2'\n\n$ bundle install --path vendor/bundle\n\nMySQL Container\u306b\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u3001.env\u3068database.yml\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\nDB_HOST=$(boot2docker ip)\nDB_PORT=13306\nDB_USER=root\nDB_PASSWORD=mysecretpassword\n\n\nconfig/database.yml\ndevelopment:\n  adapter: mysql2\n  encoding: utf8\n  database: your_database_name\n  host: <%= ENV['DB_HOST'] %>\n  port: <%= ENV['DB_PORT'] %>\n  username: <%= ENV['DB_USER'] %>\n  password: <%= ENV['DB_PASSWORD'] %>\n\n\n\nRails\u306e\u958b\u767a\u74b0\u5883\u306b\u304a\u3044\u3066\u3001DB\u3092sqlite\u304b\u3089boot2docker&docker\u3067\u8d77\u52d5\u3057\u305fMySQL\u306b\u5909\u66f4\u3057\u3066\u307f\u307e\u3059\u3002\n\n![6394678.png](https://qiita-image-store.s3.amazonaws.com/0/4943/b9c95624-f1dc-cda0-d77a-74888018e1ff.png \"6394678.png\")\n\n## Environment\n\n+ OSX Ysemite 10.10.1\n+ VirtualBox 4.3.20\n+ boot2docker 1.4.1\n\n\n## Install VirtualBox\n\nVirtualBox\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u3088\u308a\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\u57f7\u7b46\u6642\u70b9\u3067\u306f\u6700\u65b0\u7248\u306f4.3.20\u3067\u3057\u305f\u3002\n\nhttps://www.virtualbox.org/\n\n\n## Install boot2docker\n\n\u4ee5\u4e0b\u3088\u308a boot2docker.pkg \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u57f7\u7b46\u6642\u70b9\u3067\u306f\u6700\u65b0\u7248\u306f1.4.1\u3067\u3057\u305f\u3002\n\nhttps://github.com/boot2docker/osx-installer/releases\n\n\n### Setup boot2docker\n\nboot2docker\u3092\u521d\u671f\u5316\u3057\u307e\u3059\u3002\n\n```Shell\n$ boot2docker init\nLatest release for boot2docker/boot2docker is v1.4.1\nDownloading boot2docker ISO image...\nSuccess: downloaded\n```\n\nboot2docker\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n\u5185\u90e8\u3067\u306f\u3001VirtualBox\u4e0a\u3067boot2docke\u30a4\u30e1\u30fc\u30b8\u3092\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n```Shell\n$ boot2docker up\nWaiting for VM and Docker daemon to start...\n..........................oooooooooooooooooooooo\nStarted.\n \n    export DOCKER_CERT_PATH=/Users/suiseyy/.boot2docker/certs/boot2docker-vm\n    export DOCKER_TLS_VERIFY=1\n    export DOCKER_HOST=tcp://192.168.59.103:2376\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306bexport\u8a2d\u5b9a\u3092\u3001bash\u3084zsh\u306erc\u3084profile\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\nIP\u306e\u90e8\u5206\u306f\u52d5\u7684\u306b\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\n\n```Shell\n$ vi ~/.zprofile\n\n## Boot2Docker\nexport DOCKER_HOST=tcp://$(boot2docker ip 2>/dev/null):2376\nexport DOCKER_CERT_PATH=/Users/susieyy/.boot2docker/certs/boot2docker-vm\nexport DOCKER_TLS_VERIFY=1\n```\n\n### Hello World!\n\n\u52d5\u4f5c\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002\nHello World\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\n```Shell\n$ docker run ubuntu echo \"Hello World\"\n....\nHello World\n```\n\n### Stop boot2docker\n\nVirtualBox\u4e0a\u3067boot2docke\u30a4\u30e1\u30fc\u30b8\u3092\u505c\u6b62\u3059\u308b\u5834\u5408\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u3067\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```Shell\n$ boot2docker down\n```\n\n### Version\n\n```Shell\n$ boot2docker version\nBoot2Docker-cli version: v1.4.1\nGit commit: 43241cb\n```\n\n\n\n\n## Install MySQL\n\n\n### Download MySQL\n\n[OFFICIAL REPO MySQL](https://registry.hub.docker.com/_/mysql/)\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n```Shell\n$ docker pull mysql\n$ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nmysql               latest              a385835786ac        9 days ago          236 MB\n```\n\n#### REF\n\nOfficial Images\u306f\u4ee5\u4e0b\u304b\u3089\u63a2\u305b\u307e\u3059\u3002\n\nhttps://registry.hub.docker.com/search?page=1&q=library&f=official\n\n\n### Start MySQL Container \n\nMySQL\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002PORT\u3092\u30db\u30b9\u30c8\u306e13306\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u307e\u3059\u3002\n`mysql-server`\u306f\u4efb\u610f\u306e\u540d\u524d\u3067\u3059\u3002\n`mysecretpassword`\u306f\u4efb\u610f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u3059\u3002\n\n```Shell\n$ docker run --name mysql-server -p 13306:3306 -e MYSQL_ROOT_PASSWORD=mysecretpassword -d mysql -p 13306:3306\n$ docker ps\nCONTAINER ID        IMAGE               COMMAND                CREATED             STATUS              PORTS                     NAMES\n7c4ece504bf3        mysql:latest        \"/entrypoint.sh mysq   3 seconds ago       Up 3 seconds        0.0.0.0:13306->3306/tcp   mysql-server\n```\n\n\u63a5\u7d9a\u30c6\u30b9\u30c8\u3092\u3057\u307e\u3059\u3002\n\n```Shell\n$ mysql -u root -h $(boot2docker ip) --port 13306 -p\nEnter password:\n....\nmysql>\n```\n\n\u63a5\u7d9a\u3067\u304d\u307e\u3057\u305f\u3002\n\n\n### Stop MySQL Container\n\nMySQL\u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```Shell\n$ docker stop mysql-server\n```\n\n## Connect by Rails\n\n\u4eca\u56de\u306e\u672c\u7b4b\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001`dotenv`\u3092\u5229\u7528\u3057\u3066\u8a2d\u5b9a\u5024\u3092\u8a18\u8ff0\u3057\u307e\u3057\u305f\u3002\nGemfile\u306b\u4ee5\u4e0b\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```Gemfile\ngem 'dotenv'\ngem 'mysql2'\n```\n\n```Shell\n$ bundle install --path vendor/bundle\n```\n\nMySQL Container\u306b\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u3001`.env`\u3068`database.yml`\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```.env\nDB_HOST=$(boot2docker ip)\nDB_PORT=13306\nDB_USER=root\nDB_PASSWORD=mysecretpassword\n```\n\n```config/database.yml\ndevelopment:\n  adapter: mysql2\n  encoding: utf8\n  database: your_database_name\n  host: <%= ENV['DB_HOST'] %>\n  port: <%= ENV['DB_PORT'] %>\n  username: <%= ENV['DB_USER'] %>\n  password: <%= ENV['DB_PASSWORD'] %>\n```\n", "tags": ["OSX", "Rails", "boot2docker", "docker"]}