{"context": " More than 1 year has passed since last update.\u65e5\u672c\u6642\u9593 2014/11/27 \u306e AM9\u6642\u301cAM11\u6642\u9803\u307e\u3067\u3001\u5168\u4e16\u754c\u7684\u306b Amazon CloudFront \u306b\u969c\u5bb3\u304c\u3042\u308a\u307e\u3057\u305f\u3002\nCDN\u3068\u3057\u3066 CloudFront \u3092\u5229\u7528\u3057\u3064\u3064\u3001\u969c\u5bb3\u6642\u306b\u306f\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u3059\u308b\u65b9\u6cd5\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\nS3\n\nCloudFront\u306eOrigin\u304cS3\u3067\u306a\u3044\u5834\u5408\u306f\u3001\u3053\u306e\u9805\u306e\u8a2d\u5b9a\u306f\u95a2\u4fc2\u3042\u308a\u307e\u305b\u3093\u3002\n\nCloudFront\u306eOrigin\u3068\u3057\u3066S3\u3092\u4f7f\u3046\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\nfile.example.jp \u306e\u3088\u3046\u306a\u3001\u4f7f\u3044\u305f\u3044\u30c9\u30e1\u30a4\u30f3\u540d\u3067 S3\u30d0\u30b1\u30c3\u30c8 \u3092\u4f5c\u308b\nStatic Website Hosting \u3092\u6709\u52b9\u306b\u3057\u3066\u304a\u304f\n\n\u30c9\u30e1\u30a4\u30f3\u540d\u306e\u30d0\u30b1\u30c3\u30c8\u3067 Static Website Hosting \u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u3068\u3001\u5f8c\u8ff0\u306e Route53 \u306e Alias Target \u306b\u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002\n\nHealth Check\nRoute53 \u306e Health Checks \u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\nSpecify Endpoint By: Domain Name\nDomain Name: \u5229\u7528\u3057\u3066\u3044\u308bCloudFront\u306e\u30c9\u30e1\u30a4\u30f3\u540d ( xxx.cloudfront.net )\nPath: \u4f55\u3089\u304b\u306e\u3001\u5b58\u5728\u3059\u308b\u30d1\u30b9\n\n\u3068\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u30d1\u30b9\u306f\u5b58\u5728\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3088\u3044\u306e\u3067\u3001/index.html \u3067\u3082 /robots.txt \u3067\u3082\u3001\u597d\u304d\u306a\u3082\u306e\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u6b7b\u6d3b\u76e3\u8996\u7528\u306a\u306e\u3067\u3001\u3042\u307e\u308a\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u304c\u5927\u304d\u304f\u306a\u3044\u3082\u306e\u304c\u9069\u5207\u304b\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\u5b9a\u671f\u7684\u306b\u3001\u4e0a\u8a18\u3067\u8a2d\u5b9a\u3055\u308c\u305f CloudFront\u306e\u30d1\u30b9 \u306bHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u98db\u3093\u3067\u304d\u3066\u3001\u6b7b\u6d3b\u76e3\u8996\u3055\u308c\u307e\u3059\u3002\n\nRoute53\nRoute53 \u306f Health Checks \u3068\u9023\u52d5\u3057\u3066\u3001DNS\u304c\u8fd4\u3059\u5185\u5bb9\u3092\u5909\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4f8b\u3048\u3070 file.example.jp \u3092CDN\u306e\u30c9\u30e1\u30a4\u30f3\u540d\u3068\u3057\u3066\u4f7f\u3046\u5834\u5408\u3001\nPrimary\n- Name: file.example.jp\n- Type: A\u30ec\u30b3\u30fc\u30c9\n- Alias: Yes\n- Alias Target: \u5229\u7528\u3057\u3066\u3044\u308bCloudFront ( xxx.cloudfront.net )\n- Routing Policy: Failover\n- Failover Record Type: Primary\n- Evaluate Target Health: No\n- Associate with Health Check: Yes\n- Health Check to Associate: \u524d\u9805\u3067\u8a2d\u5b9a\u3057\u305f Health Check\nSecondary\n- Name: file.example.jp\n- Type: A\u30ec\u30b3\u30fc\u30c9\n- Alias: Yes\n- Alias Target: \u5229\u7528\u3057\u3066\u3044\u308bS3 ( file.example.jp.s3-website-ap-northeast-1.amazonaws.com )\n- Routing Policy: Failover\n- Failover Record Type: Secondary\n- Evaluate Target Health: No\n- Associate with Health Check: No\n\u3068\u3057\u307e\u3059\u3002\n\u3082\u3057\u3001Origin\u304cS3\u3067\u306a\u3044\u5834\u5408\u306f\u3001Secondary\u306e\u5185\u5bb9\u3092\u3001Origin\u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u304c\u884c\u304f\u3088\u3046\u306bIP\u306a\u308aELB\u306a\u3069\u3092\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u3067\u3059\u3002\nOrigin\u304cELB\u306a\u3089\u3070\n- Alias: Yes\n- Alias Target: Origin ELB ( xxx.ap-northeast-1.elb.amazonaws.com. )\n\u5225\u306e\u30ec\u30b3\u30fc\u30c9\u30bb\u30c3\u30c8(\u30c9\u30e1\u30a4\u30f3)\u306a\u3089\u3070\n- Alias: Yes\n- Alias Target: Origin Recode Set ( www.example.jp )\nIP\u30a2\u30c9\u30ec\u30b9\u306a\u3089\u3070\n- Alias: No\n- Value: xxx.xxx.xxx.xxx\n\n\u4f7f\u3044\u65b9\n\u524d\u8ff0\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u304a\u304f\u3068\u3001\u4f8b\u3068\u3057\u3066\u4f7f\u3063\u305f\u30c9\u30e1\u30a4\u30f3\u540d file.example.jp \u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3068\u304d\u306b\u3001CloudFront \u304c\u751f\u304d\u3066\u3044\u308b\u9593\u306f CloudFront \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3088\u3046\u306b\u3001Route53 \u306b\u3088\u3063\u3066\u540d\u524d\u89e3\u6c7a\u3055\u308c\u307e\u3059\u3002\nCloudFront \u304c\u6b7b\u3093\u3067\u3001Health Check \u3067\u8a2d\u5b9a\u3057\u305f\u95be\u5024\u3092\u8d85\u3048\u305f\u5834\u5408\u3001Secondary \u306e S3(\u3042\u308b\u3044\u306f\u8a2d\u5b9a\u3057\u305fOrigin) \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3088\u3046\u306b\u540d\u524d\u89e3\u6c7a\u3055\u308c\u308b\u3088\u3046\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n\u6ce8\u610f\u70b9\nCloudFront \u304c\u6b7b\u3093\u3060\u5834\u5408\u3001\u305d\u306e\u30a2\u30af\u30bb\u30b9\u306f\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u5148\u306b\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\u3002\u3082\u3057\u305d\u308c\u304c\u5927\u91cf\u306e\u30a2\u30af\u30bb\u30b9\u3067\u3042\u308c\u3070\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u5148\u306b\u304b\u306a\u308a\u306e\u8ca0\u8377\u304c\u304b\u304b\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u5148\u306b\u5225\u306e CDN \u3092\u5229\u7528\u3057\u305f\u308a\u3001ELB\u3067\u3042\u308c\u3070 Auto Scaling \u3092\u8a2d\u5b9a\u3059\u308b\u306a\u308a\u3057\u305f\u307b\u3046\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\u65e5\u672c\u6642\u9593 2014/11/27 \u306e AM9\u6642\u301cAM11\u6642\u9803\u307e\u3067\u3001\u5168\u4e16\u754c\u7684\u306b Amazon CloudFront \u306b\u969c\u5bb3\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\nCDN\u3068\u3057\u3066 CloudFront \u3092\u5229\u7528\u3057\u3064\u3064\u3001\u969c\u5bb3\u6642\u306b\u306f\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u3059\u308b\u65b9\u6cd5\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n## S3\n\n> CloudFront\u306eOrigin\u304cS3\u3067\u306a\u3044\u5834\u5408\u306f\u3001\u3053\u306e\u9805\u306e\u8a2d\u5b9a\u306f\u95a2\u4fc2\u3042\u308a\u307e\u305b\u3093\u3002\n\nCloudFront\u306eOrigin\u3068\u3057\u3066S3\u3092\u4f7f\u3046\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n- `file.example.jp` \u306e\u3088\u3046\u306a\u3001\u4f7f\u3044\u305f\u3044\u30c9\u30e1\u30a4\u30f3\u540d\u3067 S3\u30d0\u30b1\u30c3\u30c8 \u3092\u4f5c\u308b\n- Static Website Hosting \u3092\u6709\u52b9\u306b\u3057\u3066\u304a\u304f\n\n\u30c9\u30e1\u30a4\u30f3\u540d\u306e\u30d0\u30b1\u30c3\u30c8\u3067 Static Website Hosting \u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u3068\u3001\u5f8c\u8ff0\u306e Route53 \u306e Alias Target \u306b\u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002\n\n\n## Health Check\n\nRoute53 \u306e Health Checks \u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n- Specify Endpoint By: Domain Name\n- Domain Name: \u5229\u7528\u3057\u3066\u3044\u308bCloudFront\u306e\u30c9\u30e1\u30a4\u30f3\u540d ( `xxx.cloudfront.net` )\n- Path: \u4f55\u3089\u304b\u306e\u3001\u5b58\u5728\u3059\u308b\u30d1\u30b9\n\n\u3068\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u30d1\u30b9\u306f\u5b58\u5728\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3088\u3044\u306e\u3067\u3001`/index.html` \u3067\u3082 `/robots.txt` \u3067\u3082\u3001\u597d\u304d\u306a\u3082\u306e\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u6b7b\u6d3b\u76e3\u8996\u7528\u306a\u306e\u3067\u3001\u3042\u307e\u308a\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u304c\u5927\u304d\u304f\u306a\u3044\u3082\u306e\u304c\u9069\u5207\u304b\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n\u5b9a\u671f\u7684\u306b\u3001\u4e0a\u8a18\u3067\u8a2d\u5b9a\u3055\u308c\u305f CloudFront\u306e\u30d1\u30b9 \u306bHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u98db\u3093\u3067\u304d\u3066\u3001\u6b7b\u6d3b\u76e3\u8996\u3055\u308c\u307e\u3059\u3002\n\n## Route53\n\nRoute53 \u306f Health Checks \u3068\u9023\u52d5\u3057\u3066\u3001DNS\u304c\u8fd4\u3059\u5185\u5bb9\u3092\u5909\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u4f8b\u3048\u3070 file.example.jp \u3092CDN\u306e\u30c9\u30e1\u30a4\u30f3\u540d\u3068\u3057\u3066\u4f7f\u3046\u5834\u5408\u3001\n\nPrimary\n- Name: `file.example.jp`\n- Type: A\u30ec\u30b3\u30fc\u30c9\n- Alias: Yes\n- Alias Target: \u5229\u7528\u3057\u3066\u3044\u308bCloudFront ( `xxx.cloudfront.net` )\n- Routing Policy: Failover\n- Failover Record Type: Primary\n- Evaluate Target Health: No\n- Associate with Health Check: Yes\n- Health Check to Associate: \u524d\u9805\u3067\u8a2d\u5b9a\u3057\u305f Health Check\n\nSecondary\n- Name: `file.example.jp`\n- Type: A\u30ec\u30b3\u30fc\u30c9\n- Alias: Yes\n- Alias Target: \u5229\u7528\u3057\u3066\u3044\u308bS3 ( `file.example.jp.s3-website-ap-northeast-1.amazonaws.com` )\n- Routing Policy: Failover\n- Failover Record Type: Secondary\n- Evaluate Target Health: No\n- Associate with Health Check: No\n\n\u3068\u3057\u307e\u3059\u3002\n\n\u3082\u3057\u3001Origin\u304cS3\u3067\u306a\u3044\u5834\u5408\u306f\u3001Secondary\u306e\u5185\u5bb9\u3092\u3001Origin\u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u304c\u884c\u304f\u3088\u3046\u306bIP\u306a\u308aELB\u306a\u3069\u3092\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\nOrigin\u304cELB\u306a\u3089\u3070\n- Alias: Yes\n- Alias Target: Origin ELB ( `xxx.ap-northeast-1.elb.amazonaws.com.` )\n\n\u5225\u306e\u30ec\u30b3\u30fc\u30c9\u30bb\u30c3\u30c8(\u30c9\u30e1\u30a4\u30f3)\u306a\u3089\u3070\n- Alias: Yes\n- Alias Target: Origin Recode Set ( `www.example.jp` )\n\nIP\u30a2\u30c9\u30ec\u30b9\u306a\u3089\u3070\n- Alias: No\n- Value: xxx.xxx.xxx.xxx\n\n## \u4f7f\u3044\u65b9\n\n\u524d\u8ff0\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u304a\u304f\u3068\u3001\u4f8b\u3068\u3057\u3066\u4f7f\u3063\u305f\u30c9\u30e1\u30a4\u30f3\u540d `file.example.jp` \u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3068\u304d\u306b\u3001CloudFront \u304c\u751f\u304d\u3066\u3044\u308b\u9593\u306f CloudFront \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3088\u3046\u306b\u3001Route53 \u306b\u3088\u3063\u3066\u540d\u524d\u89e3\u6c7a\u3055\u308c\u307e\u3059\u3002\n\nCloudFront \u304c\u6b7b\u3093\u3067\u3001Health Check \u3067\u8a2d\u5b9a\u3057\u305f\u95be\u5024\u3092\u8d85\u3048\u305f\u5834\u5408\u3001Secondary \u306e S3(\u3042\u308b\u3044\u306f\u8a2d\u5b9a\u3057\u305fOrigin) \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3088\u3046\u306b\u540d\u524d\u89e3\u6c7a\u3055\u308c\u308b\u3088\u3046\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n## \u6ce8\u610f\u70b9\n\nCloudFront \u304c\u6b7b\u3093\u3060\u5834\u5408\u3001\u305d\u306e\u30a2\u30af\u30bb\u30b9\u306f\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u5148\u306b\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\u3002\u3082\u3057\u305d\u308c\u304c\u5927\u91cf\u306e\u30a2\u30af\u30bb\u30b9\u3067\u3042\u308c\u3070\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u5148\u306b\u304b\u306a\u308a\u306e\u8ca0\u8377\u304c\u304b\u304b\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u5148\u306b\u5225\u306e CDN \u3092\u5229\u7528\u3057\u305f\u308a\u3001ELB\u3067\u3042\u308c\u3070 Auto Scaling \u3092\u8a2d\u5b9a\u3059\u308b\u306a\u308a\u3057\u305f\u307b\u3046\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n", "tags": ["AWS", "CloudFront", "S3", "route53"]}