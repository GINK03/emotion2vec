{"context": " More than 1 year has passed since last update.\n\n\u306a\u305c\u4f5c\u3063\u305f\u304b\n\nCoffeeScript\u306b\u6163\u308c\u305f\u304b\u3063\u305f\u3002\nHubot\u306b\u3084\u3063\u3066\u3082\u3089\u3046\u3053\u3068\u3092\u5897\u3084\u3057\u305f\u304b\u3063\u305f\u3002\n\n\n\u5229\u7528\u3055\u305b\u3066\u3044\u305f\u3060\u3044\u305f\u3082\u306e\nhttps://github.com/addyosmani/psi\n\n\u4f7f\u3044\u65b9\nPC\u30b5\u30a4\u30c8\u306e\u60c5\u5831\u3092\u77e5\u308a\u305f\u3044\u3068\u304d\u306f\nhubot psi google.co.jp desktop\n\n\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u30b5\u30a4\u30c8\u306e\u60c5\u5831\u3092\u77e5\u308a\u305f\u3044\u3068\u304d\u306f\nhubot psi google.co.jp mobile\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\npsi.coffee\npsi = require('psi')\n\nmodule.exports = (robot) ->\n  message = (id, title, score, numberResources, numberHosts, totalRequestBytes\n  , numberStaticResources, htmlResponseBytes, cssResponseBytes, imageResponseBytes\n  , javascriptResponseBytes, otherResponseBytes, numberJsResources, numberCssResources)-> \"\"\"\n\n\n\u0295\u2022\u1d25\u2022\u0294\u304c\u6559\u3048\u308bPageSpeed Insights\uff01\n\ndomain: #{id}\nname: #{title}\nscore: #{score}\nnumberResources: #{numberResources}\nnumberHosts: #{numberHosts}\ntotalRequestBytes: #{totalRequestBytes}\nnumberStaticResources: #{numberStaticResources}\nhtmlResponseBytes: #{htmlResponseBytes}\ncssResponseBytes: #{cssResponseBytes}\nimageResponseBytes: #{imageResponseBytes}\njavascriptResponseBytes: #{javascriptResponseBytes}\notherResponseBytes: #{otherResponseBytes}\nnumberJsResources: #{numberJsResources}\nnumberCssResources: #{numberCssResources}\n\n\"\"\"\n\n  robot.respond /psi (.*)/i, (msg) ->\n    matches = msg.match[1].split(' ')\n    url = matches[0]\n\n    if matches[1] == 'desktop' || matches[1] == 'mobile'\n      strategy = matches[1]\n    else\n      strategy = 'desktop'\n\n    locale = 'ja_JP'\n\n    psi(url,\n      nokey: 'true'\n      strategy: strategy\n      locale: locale).then (data) ->\n      msg.send message(data.id, data.title, data.ruleGroups.SPEED.score, data.pageStats.numberResources, data.pageStats.numberHosts, data.pageStats.totalRequestBytes\n      , data.pageStats.numberStaticResources, data.pageStats.htmlResponseBytes, data.pageStats.cssResponseBytes, data.pageStats.imageResponseBytes\n      , data.pageStats.javascriptResponseBytes, data.pageStats.otherResponseBytes, data.pageStats.numberJsResources, data.pageStats.numberCssResources)\n      return\n\n\n\n## \u306a\u305c\u4f5c\u3063\u305f\u304b\n* CoffeeScript\u306b\u6163\u308c\u305f\u304b\u3063\u305f\u3002\n* Hubot\u306b\u3084\u3063\u3066\u3082\u3089\u3046\u3053\u3068\u3092\u5897\u3084\u3057\u305f\u304b\u3063\u305f\u3002\n\n## \u5229\u7528\u3055\u305b\u3066\u3044\u305f\u3060\u3044\u305f\u3082\u306e\nhttps://github.com/addyosmani/psi\n\n## \u4f7f\u3044\u65b9\nPC\u30b5\u30a4\u30c8\u306e\u60c5\u5831\u3092\u77e5\u308a\u305f\u3044\u3068\u304d\u306f\n\n```\nhubot psi google.co.jp desktop\n```\n\n\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u30b5\u30a4\u30c8\u306e\u60c5\u5831\u3092\u77e5\u308a\u305f\u3044\u3068\u304d\u306f\n\n```\nhubot psi google.co.jp mobile\n```\n\n## \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\n```psi.coffee\npsi = require('psi')\n\nmodule.exports = (robot) ->\n  message = (id, title, score, numberResources, numberHosts, totalRequestBytes\n  , numberStaticResources, htmlResponseBytes, cssResponseBytes, imageResponseBytes\n  , javascriptResponseBytes, otherResponseBytes, numberJsResources, numberCssResources)-> \"\"\"\n\n\n\u0295\u2022\u1d25\u2022\u0294\u304c\u6559\u3048\u308bPageSpeed Insights\uff01\n\ndomain: #{id}\nname: #{title}\nscore: #{score}\nnumberResources: #{numberResources}\nnumberHosts: #{numberHosts}\ntotalRequestBytes: #{totalRequestBytes}\nnumberStaticResources: #{numberStaticResources}\nhtmlResponseBytes: #{htmlResponseBytes}\ncssResponseBytes: #{cssResponseBytes}\nimageResponseBytes: #{imageResponseBytes}\njavascriptResponseBytes: #{javascriptResponseBytes}\notherResponseBytes: #{otherResponseBytes}\nnumberJsResources: #{numberJsResources}\nnumberCssResources: #{numberCssResources}\n\n\"\"\"\n\n  robot.respond /psi (.*)/i, (msg) ->\n    matches = msg.match[1].split(' ')\n    url = matches[0]\n\n    if matches[1] == 'desktop' || matches[1] == 'mobile'\n      strategy = matches[1]\n    else\n      strategy = 'desktop'\n\n    locale = 'ja_JP'\n\n    psi(url,\n      nokey: 'true'\n      strategy: strategy\n      locale: locale).then (data) ->\n      msg.send message(data.id, data.title, data.ruleGroups.SPEED.score, data.pageStats.numberResources, data.pageStats.numberHosts, data.pageStats.totalRequestBytes\n      , data.pageStats.numberStaticResources, data.pageStats.htmlResponseBytes, data.pageStats.cssResponseBytes, data.pageStats.imageResponseBytes\n      , data.pageStats.javascriptResponseBytes, data.pageStats.otherResponseBytes, data.pageStats.numberJsResources, data.pageStats.numberCssResources)\n      return\n```\n", "tags": ["Hubot"]}