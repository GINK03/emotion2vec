{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nUnity \u306e\u30bf\u30c3\u30c1\u51e6\u7406\u7b2c\uff12\u5f3e\u3067\u3059\u3002\n\u4eca\u56de\u306f\u6307\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\u51e6\u7406\u3067\u3059\u3002\n\u300c\u7279\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u4e00\u62ec\u3067\u4f55\u304b\u3092\u3057\u305f\u3044\u3068\u304d\u300d\n\u3068\u304b\u306b\u4f7f\u3048\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u5b9f\u88c5\n\nTouchManager.cs\n/// <summary>\n/// \u30bf\u30c3\u30c1\u3055\u308c\u305f\u8a72\u5f53\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4e00\u89a7\u3092\u53d6\u5f97.\n/// </summary>\n/// <param name=\"aName\">\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d</param>\n/// <param name=\"aCompMatch\">true = \u5b8c\u5168\u4e00\u81f4</param>\n/// <param name=\"aCompMatch\">false = \u90e8\u5206\u4e00\u81f4</param>\n/// <returns>\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4e00\u89a7</returns>\npublic static GameObject[] GetTouchObjectAll(string aName, bool aCompMatch=true)\n{\n    List<GameObject> list = new List<GameObject>();\n    for (int i = 0; i < Input.touchCount; ++i)\n    {\n        Touch touch = Input.touches[i];\n        if (touch.phase == TouchPhase.Began)\n        {\n            Vector3 pos = Camera.main.ScreenToWorldPoint(touch.position);\n            Collider2D[] colliders = Physics2D.OverlapPointAll(pos);\n            foreach (Collider2D collider in colliders)\n            {\n                if ((aCompMatch && collider.gameObject.name.Equals(aName)) || \n                    (!aCompMatch && 0 <= collider.gameObject.name.IndexOf(aName)))\n                {\n                    Debug.Log(\"touch object name : \" + collider.gameObject.name);\n                    list.Add(collider.gameObject);\n                }\n            }\n        }\n    }\n    return list.ToArray();\n}\n\n\n\n\u4f7f\u3044\u65b9\n\nMain.cs\n/// <summary>\n/// \u66f4\u65b0.\n/// </summary>\nvoid Update()\n{\n    GameObject[] array = TouchManager.GetTouchObjectAll(\"Enemy\");\n    foreach(GameObject obj in array)\n    {\n        // \u5b8c\u5168\u4e00\u81f4\u6642\u306e\u30bf\u30c3\u30c1\u3055\u308c\u305f\u6642\u306e\u51e6\u7406.\n    }\n\n    array = TouchManager.GetTouchObjectAll(\"Enemy\", false);\n    foreach(GameObject obj in array)\n    {\n        // \u90e8\u5206\u4e00\u81f4\u6642\u306e\u30bf\u30c3\u30c1\u3055\u308c\u305f\u6642\u306e\u51e6\u7406.\n    }\n}\n\n\n\n\u6700\u5f8c\u306b\n\u3053\u308c\u3067\u30bf\u30c3\u30c1\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4e00\u89a7\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\nHierarchy\u4e0a\u306e\u540d\u524d\u3067\u5224\u65ad\u3059\u308b\u306e\u3067\u547d\u540d\u898f\u5247\u3068\u304b\u306b\u306f\u304a\u6c17\u3092\u3064\u3051\u3092\u3002\n#\u306f\u3058\u3081\u306b\nUnity \u306e\u30bf\u30c3\u30c1\u51e6\u7406\u7b2c\uff12\u5f3e\u3067\u3059\u3002\n\u4eca\u56de\u306f\u6307\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\u51e6\u7406\u3067\u3059\u3002\n\u300c\u7279\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u4e00\u62ec\u3067\u4f55\u304b\u3092\u3057\u305f\u3044\u3068\u304d\u300d\n\u3068\u304b\u306b\u4f7f\u3048\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n#\u5b9f\u88c5\n```csharp:TouchManager.cs\n/// <summary>\n/// \u30bf\u30c3\u30c1\u3055\u308c\u305f\u8a72\u5f53\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4e00\u89a7\u3092\u53d6\u5f97.\n/// </summary>\n/// <param name=\"aName\">\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d</param>\n/// <param name=\"aCompMatch\">true = \u5b8c\u5168\u4e00\u81f4</param>\n/// <param name=\"aCompMatch\">false = \u90e8\u5206\u4e00\u81f4</param>\n/// <returns>\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4e00\u89a7</returns>\npublic static GameObject[] GetTouchObjectAll(string aName, bool aCompMatch=true)\n{\n\tList<GameObject> list = new List<GameObject>();\n\tfor (int i = 0; i < Input.touchCount; ++i)\n\t{\n\t\tTouch touch = Input.touches[i];\n\t\tif (touch.phase == TouchPhase.Began)\n\t\t{\n\t\t\tVector3 pos = Camera.main.ScreenToWorldPoint(touch.position);\n\t\t\tCollider2D[] colliders = Physics2D.OverlapPointAll(pos);\n\t\t\tforeach (Collider2D collider in colliders)\n\t\t\t{\n\t\t\t\tif ((aCompMatch && collider.gameObject.name.Equals(aName)) || \n\t\t\t\t\t(!aCompMatch && 0 <= collider.gameObject.name.IndexOf(aName)))\n\t\t\t\t{\n\t\t\t\t\tDebug.Log(\"touch object name : \" + collider.gameObject.name);\n\t\t\t\t\tlist.Add(collider.gameObject);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn list.ToArray();\n}\n```\n\n#\u4f7f\u3044\u65b9\n```csharp:Main.cs\n/// <summary>\n/// \u66f4\u65b0.\n/// </summary>\nvoid Update()\n{\n\tGameObject[] array = TouchManager.GetTouchObjectAll(\"Enemy\");\n\tforeach(GameObject obj in array)\n\t{\n\t\t// \u5b8c\u5168\u4e00\u81f4\u6642\u306e\u30bf\u30c3\u30c1\u3055\u308c\u305f\u6642\u306e\u51e6\u7406.\n\t}\n\n\tarray = TouchManager.GetTouchObjectAll(\"Enemy\", false);\n\tforeach(GameObject obj in array)\n\t{\n\t\t// \u90e8\u5206\u4e00\u81f4\u6642\u306e\u30bf\u30c3\u30c1\u3055\u308c\u305f\u6642\u306e\u51e6\u7406.\n\t}\n}\n```\n\n#\u6700\u5f8c\u306b\n\u3053\u308c\u3067\u30bf\u30c3\u30c1\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4e00\u89a7\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\nHierarchy\u4e0a\u306e\u540d\u524d\u3067\u5224\u65ad\u3059\u308b\u306e\u3067\u547d\u540d\u898f\u5247\u3068\u304b\u306b\u306f\u304a\u6c17\u3092\u3064\u3051\u3092\u3002\n", "tags": ["Unity", "Unity2D"]}