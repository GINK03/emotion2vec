{"tags": ["knockoutjs"], "context": " More than 1 year has passed since last update.\u3053\u306e\u8a18\u4e8b\u306f\u3001knockout.js Advent Calendar 2015\u306e\uff13\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002 \u5148\u306b\uff12\u65e5\u76ee\u306b\u76ee\u3092\u901a\u3059\u3053\u3068\u3092\u63a8\u5968\u3057\u3066\u3044\u307e\u3059\u3002\nknockout , knockout-es5 , knockout.punches\u74b0\u5883\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\nknockout\u3067view\u90e8\u5206\u3067\u30a4\u30c6\u30ec\u30fc\u30bf\u3092\u7528\u3044\u308b\u306b\u306f\u3001foreach\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u3001FruitShop\u3092\u4f8b\u306b\u3001Shop\u3067\u53d6\u308a\u6271\u3046\u30d5\u30eb\u30fc\u30c4(Item)\u306e\u540d\u524d\u3068\u4fa1\u683c\u3092\u4e00\u89a7\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\nthis.items = [\n    new Item(\"apple\",60),\n    new Item(\"banana\",25),\n    new Item(\"cinnamon\",80),\n    new Item(\"dragonfruit\",120)\n];\n\n\u306e\u90e8\u5206\u3092\u3001\nthis.items = [\n    {name:\"apple\",price:60},\n    {name:\"banana\",price:25},\n    {name:\"cinnamon\",price:80},\n    {name:\"dragonfruit\",price:120}\n];\n\n\u3068\u66f8\u304d\u63db\u3048\u3066\u3082\u554f\u984c\u306f\u3042\u308a\u307e\u305b\u3093\n\u5148\u307b\u3069\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u3001binding\u306e\u6069\u6075\u304c\u5c11\u306a\u3044\u306e\u3067\u3001Shop\u3078\u306eItem\u306e\u52d5\u7684\u8ffd\u52a0\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nindex.html\n<h1>Fruit Shop</h1>\n<ul data-bind=\"foreach:items\">\n    <li>\n        <span>{{name}}</span>\n        <span>\uff08{{price}}\uff09</span>\n    </li>\n</ul>\n<form data-bind=\"submit: register\"> \n    <fieldset>\n        <legend>\u5546\u54c1\u767b\u9332\uff1a</legend>\n        <label>\u5546\u54c1\u540d:<input type=\"text\" id=\"item-name-input\"></label>\n        <label>\u4fa1\u683c:<input type=\"text\" id=\"item-price-input\"></label>\n        <button>\u767b\u9332</button>\n    </fieldset>\n</form>\n\n\n\nscript.js\nfunction Item(name,price){\n    this.name = name;\n    this.price = price;\n    ko.track(this);\n}\nfunction Shop(){\n    this.items = [\n        new Item(\"apple\",60),\n        new Item(\"banana\",25),\n        new Item(\"cinnamon\",80),\n        new Item(\"dragonfruit\",120)\n    ];\n    ko.track(this);\n}\nShop.prototype.register = function(){\n    this.items.push(\n        new Item(\n            document.querySelector(\"#item-name-input\").value,\n            +document.querySelector(\"#item-price-input\").value\n        )\n    );\n};\n\nvar vm = new Shop();\n\nko.punches.enableAll();\nko.applyBindings(vm);\n\n\n\ndocument.querySelector(\"#foo\").value\n\n\u306e\u90e8\u5206\u306f\u3001\ndocument.getElementById(\"foo\").value\n\n\u3067\u3082\u3082\u3061\u308d\u3093OK\u3067\u3059\u3057\u3001\njQuery\u3092\u4f7f\u3046\u306e\u3067\u3042\u308c\u3070\u3001\n$(\"#foo\").val()\n\n\u3067\u3082\u4f55\u3067\u3082\u3044\u3044\u3067\u3059\u3002\n\u30a4\u30c6\u30ec\u30fc\u30bf\u306e\u8981\u7d20\u756a\u53f7\u3092\u53d6\u5f97\u3059\u308b\u5834\u5408\u306b\u306f\u3001$index\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\u3082\u3063\u3068\u3082\u3001\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306fol\u3092\u4f7f\u3048\u3070\u3044\u3044\u3060\u3051\u3067\u306f\u3042\u308b\u306e\u3067\u3059\u304c\u3002\n\u307e\u305f\u3001$index\u306f0\u304b\u3089\u59cb\u307e\u308b\u756a\u53f7\u3067\u3059\u304c\u30011\u304b\u3089\u59cb\u3081\u305f\u3044\u5834\u5408\u306f\u3001\n\u3053\u306e\u3088\u3046\u306b {{ $index() + 1 }}\u3068\u3057\u307e\u3059\u3002\nview\u90e8\u5206\u3067{{ }} \u3067\u304f\u304f\u3089\u308c\u305f\u4e2d\u8eab\u306f\u3000ko.observale()\u306egetter\u3092\u5c55\u958b\u3057\u3066\u304f\u308c\u307e\u3059\u304c\u3001 ko.observable()\u306f\u3042\u304f\u307e\u3067\u95a2\u6570\u306a\u306e\u3067\u3001\n\u95a2\u6570\u306b\u306a\u3093\u3089\u304b\u306e\u3082\u306e\u3092\u7d50\u5408\u3059\u308b\u3068\u3001\u95a2\u6570\u304c\u6587\u5b57\u5217\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u3053\u306e\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nknockout-es5\u3067\u9069\u7528\u3057\u305f\u90e8\u5206\u306f\u3001object.define\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u3000\u751f\u306eknockout\u3067\u306fko.observable\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u3082\u3069\u304b\u3057\u304f\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u3057\u3087\u3046\u304c\u306a\u3044\u3067\u3059\u306d\u3002\n\u307e\u305f\u3001\u86c7\u8db3\u3067\u3059\u304c\u5148\u307b\u3069\u306e\u30b5\u30f3\u30d7\u30eb\u3092Typescript\u3067\u66f8\u304f\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nclass Item{\n    constructor(\n        public name:string,\n        public price:number\n    ){\n        ko.track(this);\n    }\n}\nclass Shop{\n    public items:Item[] = [\n        new Item(\"apple\",60),\n        new Item(\"banana\",25),\n        new Item(\"cinnamon\",80),\n        new Item(\"dragonfruit\",120)\n    ];\n    constructor(){\n        ko.track(this);\n    }\n    public register(){\n        this.items.push(\n            new Item(\n                document.querySelector(\"#item-name-input\").value,\n                +document.querySelector(\"#item-price-input\").value\n            )\n        );\n    }\n}\n\nvar vm = new Shop();\n\nko.punches.enableAll();\nko.applyBindings(vm);\n\n\n\u914d\u5217\u3078\u306e\u5024\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u306f\u6b21\u306e\u3088\u3046\u306b\u884c\u3044\u307e\u3059\u3002\u3000\u3053\u308c\u3089\u306f\u30d0\u30cb\u30e9\u306ejavascript\u3068\u540c\u3058\u3067\u3059\u3002\n\n\nlist.push(value) list\u3068\u3044\u3046\u914d\u5217\u306e\u672b\u5c3e\u306b\u3001value\u3092\u8ffd\u52a0\n\n\nlist.splice(index,length) list\u3068\u3044\u3046\u914d\u5217\u306e\u3001index\u756a\u76ee\u304b\u3089\u3001length\u500b\u306e\u8981\u7d20\u3092\u524a\u9664\n\nlist\u3092\u7a7a\u306b\u3057\u305f\u3044\u304b\u3089\u3068\u3044\u3063\u3066\u3001list\u306b\u7a7a\u914d\u5217\u3092\u4e0a\u66f8\u304d\u3092\u3059\u308b\u3053\u3068\u306f\u975e\u63a8\u5968\u3067\u3059\uff08ko-es5\u3067track\u3057\u3066\u3044\u308b\u306e\u3067\u3042\u308c\u3070\u7981\u6b62\u3067\u306f\u3042\u308a\u307e\u305b\u3093\uff09\u3002 list = []\n    \u3053\u306e\u8a18\u4e8b\u306f\u3001knockout.js Advent Calendar 2015\u306e\uff13\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002 \u5148\u306b\uff12\u65e5\u76ee\u306b\u76ee\u3092\u901a\u3059\u3053\u3068\u3092\u63a8\u5968\u3057\u3066\u3044\u307e\u3059\u3002\n    knockout , knockout-es5 , knockout.punches\u74b0\u5883\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\nknockout\u3067view\u90e8\u5206\u3067\u30a4\u30c6\u30ec\u30fc\u30bf\u3092\u7528\u3044\u308b\u306b\u306f\u3001[foreach](http://knockoutjs.com/documentation/foreach-binding.html)\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n[**\u3053\u306e\u30b5\u30f3\u30d7\u30eb**](http://jsfiddle.net/MKGaru/25kqto8q/)\u3067\u306f\u3001FruitShop\u3092\u4f8b\u306b\u3001Shop\u3067\u53d6\u308a\u6271\u3046\u30d5\u30eb\u30fc\u30c4(Item)\u306e\u540d\u524d\u3068\u4fa1\u683c\u3092\u4e00\u89a7\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n```js\nthis.items = [\n    new Item(\"apple\",60),\n    new Item(\"banana\",25),\n    new Item(\"cinnamon\",80),\n    new Item(\"dragonfruit\",120)\n];\n```\n\u306e\u90e8\u5206\u3092\u3001\n\n```js\nthis.items = [\n    {name:\"apple\",price:60},\n    {name:\"banana\",price:25},\n    {name:\"cinnamon\",price:80},\n    {name:\"dragonfruit\",price:120}\n];\n```\n\u3068\u66f8\u304d\u63db\u3048\u3066\u3082[\u554f\u984c\u306f\u3042\u308a\u307e\u305b\u3093](http://qiita.com/MKGaru/items/69c9f032295146b2e1fa)\n\n[\u5148\u307b\u3069\u306e\u30b5\u30f3\u30d7\u30eb](http://jsfiddle.net/MKGaru/25kqto8q/)\u3067\u306f\u3001binding\u306e\u6069\u6075\u304c\u5c11\u306a\u3044\u306e\u3067\u3001Shop\u3078\u306eItem\u306e\u52d5\u7684\u8ffd\u52a0\u306e[**\u30b5\u30f3\u30d7\u30eb**](http://jsfiddle.net/MKGaru/9304qhky/)\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```html:index.html\n<h1>Fruit Shop</h1>\n<ul data-bind=\"foreach:items\">\n    <li>\n        <span>{{name}}</span>\n        <span>\uff08{{price}}\uff09</span>\n    </li>\n</ul>\n<form data-bind=\"submit: register\"> \n    <fieldset>\n        <legend>\u5546\u54c1\u767b\u9332\uff1a</legend>\n        <label>\u5546\u54c1\u540d:<input type=\"text\" id=\"item-name-input\"></label>\n        <label>\u4fa1\u683c:<input type=\"text\" id=\"item-price-input\"></label>\n        <button>\u767b\u9332</button>\n    </fieldset>\n</form>\n```\n\n```js:script.js\nfunction Item(name,price){\n    this.name = name;\n    this.price = price;\n    ko.track(this);\n}\nfunction Shop(){\n    this.items = [\n        new Item(\"apple\",60),\n        new Item(\"banana\",25),\n        new Item(\"cinnamon\",80),\n        new Item(\"dragonfruit\",120)\n    ];\n    ko.track(this);\n}\nShop.prototype.register = function(){\n    this.items.push(\n        new Item(\n            document.querySelector(\"#item-name-input\").value,\n            +document.querySelector(\"#item-price-input\").value\n        )\n    );\n};\n\nvar vm = new Shop();\n\nko.punches.enableAll();\nko.applyBindings(vm);\n```\n\n-------------------------------------\n\n```js\ndocument.querySelector(\"#foo\").value\n```\n\u306e\u90e8\u5206\u306f\u3001\n\n```js\ndocument.getElementById(\"foo\").value\n```\n\u3067\u3082\u3082\u3061\u308d\u3093OK\u3067\u3059\u3057\u3001\njQuery\u3092\u4f7f\u3046\u306e\u3067\u3042\u308c\u3070\u3001\n\n```js\n$(\"#foo\").val()\n```\n\u3067\u3082\u4f55\u3067\u3082\u3044\u3044\u3067\u3059\u3002\n\n\u30a4\u30c6\u30ec\u30fc\u30bf\u306e\u8981\u7d20\u756a\u53f7\u3092\u53d6\u5f97\u3059\u308b\u5834\u5408\u306b\u306f\u3001[$index](http://knockoutjs.com/documentation/foreach-binding.html#note-2-using-index-parent-and-other-context-properties)\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\u3082\u3063\u3068\u3082\u3001[**\u3053\u306e\u30b5\u30f3\u30d7\u30eb**](http://jsfiddle.net/MKGaru/tp42kab5/)\u3067\u306fol\u3092\u4f7f\u3048\u3070\u3044\u3044\u3060\u3051\u3067\u306f\u3042\u308b\u306e\u3067\u3059\u304c\u3002  \n\u307e\u305f\u3001$index\u306f0\u304b\u3089\u59cb\u307e\u308b\u756a\u53f7\u3067\u3059\u304c\u30011\u304b\u3089\u59cb\u3081\u305f\u3044\u5834\u5408\u306f\u3001\n\n[**\u3053\u306e\u3088\u3046\u306b**](http://jsfiddle.net/MKGaru/sjxhbmkk/) ```{{ $index() + 1 }}```\u3068\u3057\u307e\u3059\u3002\n\nview\u90e8\u5206\u3067`{{ }}` \u3067\u304f\u304f\u3089\u308c\u305f\u4e2d\u8eab\u306f\u3000ko.observale()\u306egetter\u3092\u5c55\u958b\u3057\u3066\u304f\u308c\u307e\u3059\u304c\u3001 ko.observable()\u306f\u3042\u304f\u307e\u3067\u95a2\u6570\u306a\u306e\u3067\u3001\n\u95a2\u6570\u306b\u306a\u3093\u3089\u304b\u306e\u3082\u306e\u3092\u7d50\u5408\u3059\u308b\u3068\u3001\u95a2\u6570\u304c\u6587\u5b57\u5217\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u3053\u306e\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nknockout-es5\u3067\u9069\u7528\u3057\u305f\u90e8\u5206\u306f\u3001object.define\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u3000\u751f\u306eknockout\u3067\u306fko.observable\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u3082\u3069\u304b\u3057\u304f\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u3057\u3087\u3046\u304c\u306a\u3044\u3067\u3059\u306d\u3002\n\n\u307e\u305f\u3001\u86c7\u8db3\u3067\u3059\u304c\u5148\u307b\u3069\u306e\u30b5\u30f3\u30d7\u30eb\u3092Typescript\u3067\u66f8\u304f\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```ts\nclass Item{\n    constructor(\n        public name:string,\n        public price:number\n    ){\n        ko.track(this);\n    }\n}\nclass Shop{\n    public items:Item[] = [\n        new Item(\"apple\",60),\n        new Item(\"banana\",25),\n        new Item(\"cinnamon\",80),\n        new Item(\"dragonfruit\",120)\n    ];\n    constructor(){\n        ko.track(this);\n    }\n    public register(){\n        this.items.push(\n            new Item(\n                document.querySelector(\"#item-name-input\").value,\n                +document.querySelector(\"#item-price-input\").value\n            )\n        );\n    }\n}\n\nvar vm = new Shop();\n\nko.punches.enableAll();\nko.applyBindings(vm);\n```\n\n------------------------------------------------------------------------\n\n\u914d\u5217\u3078\u306e\u5024\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u306f\u6b21\u306e\u3088\u3046\u306b\u884c\u3044\u307e\u3059\u3002\u3000\u3053\u308c\u3089\u306f\u30d0\u30cb\u30e9\u306ejavascript\u3068\u540c\u3058\u3067\u3059\u3002\n\n* ``list.push(value)`` ``list``\u3068\u3044\u3046\u914d\u5217\u306e\u672b\u5c3e\u306b\u3001``value``\u3092\u8ffd\u52a0  \n* ``list.splice(index,length)`` ``list``\u3068\u3044\u3046\u914d\u5217\u306e\u3001``index``\u756a\u76ee\u304b\u3089\u3001``length``\u500b\u306e\u8981\u7d20\u3092\u524a\u9664\n\nlist\u3092\u7a7a\u306b\u3057\u305f\u3044\u304b\u3089\u3068\u3044\u3063\u3066\u3001list\u306b\u7a7a\u914d\u5217\u3092\u4e0a\u66f8\u304d\u3092\u3059\u308b\u3053\u3068\u306f\u975e\u63a8\u5968\u3067\u3059\uff08ko-es5\u3067track\u3057\u3066\u3044\u308b\u306e\u3067\u3042\u308c\u3070\u7981\u6b62\u3067\u306f\u3042\u308a\u307e\u305b\u3093\uff09\u3002 ~~`` list = [] ``~~\n"}