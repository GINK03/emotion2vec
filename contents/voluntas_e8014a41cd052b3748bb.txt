{"context": " More than 1 year has passed since last update.\u3053\u306e\u8a18\u4e8b\u53e4\u3044\u3067\u3059 Paho \u306e JS \u30e9\u30a4\u30d6\u30e9\u30ea 1.0.0 \u306b\u306a\u3063\u3066 API \u304c\u5225\u7269\u306b\u306a\u3063\u3066\u307e\u3059\n\u305d\u306e\u3046\u3061\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\npaho \u306b mqtt \u306e js \u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u3042\u308b\u306e\u3067\u4f7f\u3063\u3066\u898b\u307e\u3059\u3002\nhttp://git.eclipse.org/c/paho/org.eclipse.paho.mqtt.javascript.git/\n\u30d3\u30eb\u30c9\u306f maven \u304c\u5fc5\u8981\u3067\u3059\u3002\u3068\u308a\u3042\u3048\u305a macports \u3067 maven3 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n$ git clone git://git.eclipse.org/gitroot/paho/org.eclipse.paho.mqtt.javascript.git\n$ cd org.eclipse.paho.mqtt.javascript\n$ git checkout --track origin/develop\n$ mvn3\n\n\u4ee5\u4e0b\u306f\u3056\u3063\u304f\u308a\u3068\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u3059\u3002\u4f55\u3068\u306a\u304f\u30a4\u30e1\u30fc\u30b8\u304c\u3064\u304b\u3081\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u9069\u5f53\u306b\u30b3\u30e1\u30f3\u30c8\u632f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\nfunction doConnect() {\n    // host, port, client_id\n    // \u30c7\u30d5\u30a9\u30eb\u30c8\u306f ws://127.0.0.1:8080/mqtt \u3068\u3044\u3046 uri \u306b\u306a\u308b\n    // \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3082\u51fa\u6765\u308b\n    // client = new Messaging.Client(\"ws://127.0.0.1:8080\", \"ClientId\");\n    client = new Messaging.Client(\"127.0.0.1\", 8080, \"ClientId\");\n    // CONNECT \u3057\u305f\u3068\u304d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u6307\u5b9a\n    client.onConnect = onConnect;\n    // SUBSCRIBE \u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3057\u305f\u3068\u304d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\n    client.onMessageArrived = onMessageArrived;\n    // DISCONNECT \u3057\u305f\u3068\u304d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\n    client.onConnectionLost = onConnectionLost;\n    client.connect({onSuccess:onConnect});\n}\n\nfunction doSubscribe() {\n    // /World \u306f topic name\n    client.subscribe(\"/World\");\n}\n\nfunction doSend() {\n    // Hello \u304c publish \u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\n    message = new Messaging.Message(\"Hello\");\n    // \u9001\u4fe1\u5148\u306e topic name\n    message.destinationName = \"/World\";\n    client.send(message);\n}\n\nfunction doDisconnect() {\n    client.disconnect();\n}\n\n\nfunction onConnect() {\n    // \u63a5\u7d9a\u3057\u305f\u3068\u304d\u306e\u51e6\u7406\n}\n\nfunction onConnectionLost(responseObject) {\n    // \u63a5\u7d9a\u304c\u5207\u308c\u305f\u3068\u304d\u306e\u51e6\u7406\n}\n\nfunction onMessageArrived(message) {\n    // \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u5230\u7740\u3057\u305f\u3068\u304d\u306e\u51e6\u7406\n}\n\n\u5b9f\u884c\u6642\u306e WebSocket \u30d1\u30b1\u30c3\u30c8\u306e\u30b5\u30f3\u30d7\u30eb\u4f8b\n\nSec-WebSocket-Protocol \u304c mqttv3.1 \u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u5b9f\u969b\u306b\u4e0a\u306e\u30b3\u30fc\u30c9\u306b\u8272\u3005\u4ed8\u3051\u8db3\u3057\u3066\u5b9f\u884c\u3057\u305f\u4f8b\u3002\u30e1\u30c3\u30bb\u30fc\u30b8\u306e publish \u306f mosquitto \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\n**\u3053\u306e\u8a18\u4e8b\u53e4\u3044\u3067\u3059 Paho \u306e JS \u30e9\u30a4\u30d6\u30e9\u30ea 1.0.0 \u306b\u306a\u3063\u3066 API \u304c\u5225\u7269\u306b\u306a\u3063\u3066\u307e\u3059**\n\n\u305d\u306e\u3046\u3061\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\n\n\npaho \u306b mqtt \u306e js \u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u3042\u308b\u306e\u3067\u4f7f\u3063\u3066\u898b\u307e\u3059\u3002\n\nhttp://git.eclipse.org/c/paho/org.eclipse.paho.mqtt.javascript.git/\n\n\u30d3\u30eb\u30c9\u306f maven \u304c\u5fc5\u8981\u3067\u3059\u3002\u3068\u308a\u3042\u3048\u305a macports \u3067 maven3 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\n```bash\n$ git clone git://git.eclipse.org/gitroot/paho/org.eclipse.paho.mqtt.javascript.git\n$ cd org.eclipse.paho.mqtt.javascript\n$ git checkout --track origin/develop\n$ mvn3\n```\n\n\u4ee5\u4e0b\u306f\u3056\u3063\u304f\u308a\u3068\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u3059\u3002\u4f55\u3068\u306a\u304f\u30a4\u30e1\u30fc\u30b8\u304c\u3064\u304b\u3081\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u9069\u5f53\u306b\u30b3\u30e1\u30f3\u30c8\u632f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n```javascript\nfunction doConnect() {\n    // host, port, client_id\n    // \u30c7\u30d5\u30a9\u30eb\u30c8\u306f ws://127.0.0.1:8080/mqtt \u3068\u3044\u3046 uri \u306b\u306a\u308b\n    // \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3082\u51fa\u6765\u308b\n    // client = new Messaging.Client(\"ws://127.0.0.1:8080\", \"ClientId\");\n    client = new Messaging.Client(\"127.0.0.1\", 8080, \"ClientId\");\n    // CONNECT \u3057\u305f\u3068\u304d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u6307\u5b9a\n    client.onConnect = onConnect;\n    // SUBSCRIBE \u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3057\u305f\u3068\u304d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\n    client.onMessageArrived = onMessageArrived;\n    // DISCONNECT \u3057\u305f\u3068\u304d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\n    client.onConnectionLost = onConnectionLost;\n    client.connect({onSuccess:onConnect});\n}\n\nfunction doSubscribe() {\n    // /World \u306f topic name\n    client.subscribe(\"/World\");\n}\n\nfunction doSend() {\n    // Hello \u304c publish \u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\n    message = new Messaging.Message(\"Hello\");\n    // \u9001\u4fe1\u5148\u306e topic name\n    message.destinationName = \"/World\";\n    client.send(message);\n}\n\nfunction doDisconnect() {\n    client.disconnect();\n}\n\n\nfunction onConnect() {\n    // \u63a5\u7d9a\u3057\u305f\u3068\u304d\u306e\u51e6\u7406\n}\n\nfunction onConnectionLost(responseObject) {\n    // \u63a5\u7d9a\u304c\u5207\u308c\u305f\u3068\u304d\u306e\u51e6\u7406\n}\n\nfunction onMessageArrived(message) {\n    // \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u5230\u7740\u3057\u305f\u3068\u304d\u306e\u51e6\u7406\n}\n```\n\n\u5b9f\u884c\u6642\u306e WebSocket \u30d1\u30b1\u30c3\u30c8\u306e\u30b5\u30f3\u30d7\u30eb\u4f8b\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-01-25 12.41.42 AM.png](https://qiita-image-store.s3.amazonaws.com/0/1821/3ebcb632-935c-ba6f-15d6-f4e4723b1dc4.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-01-25 12.41.42 AM.png\")\n\nSec-WebSocket-Protocol \u304c mqttv3.1 \u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u5b9f\u969b\u306b\u4e0a\u306e\u30b3\u30fc\u30c9\u306b\u8272\u3005\u4ed8\u3051\u8db3\u3057\u3066\u5b9f\u884c\u3057\u305f\u4f8b\u3002\u30e1\u30c3\u30bb\u30fc\u30b8\u306e publish \u306f mosquitto \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-01-25 1.15.27 AM.png](https://qiita-image-store.s3.amazonaws.com/0/1821/d3070716-1a47-aa40-28b1-eb7826fad6e2.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-01-25 1.15.27 AM.png\")\n", "tags": ["mqtt", "JavaScript"]}