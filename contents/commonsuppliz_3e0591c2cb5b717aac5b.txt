{"context": ".NET \u3067\u3001Web,CSS \u306e\u8272\u3092\u30d1\u30fc\u30b9\u3059\u308b\u969b\u306b\u3001\"#fff\" \u3084 \"#ff0000\" \u306a\u3069\u306e\u8272\u3092\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u3092\u89e3\u6790\u3057 System.Drawing.Color \u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b\u306f\u3001ColorTranslator.FromHTML() \u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u304c\u3001\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3057\u3066\u307f\u308b\u3068\u591a\u5c11\u9045\u3044\u305f\u3081\u3001\u9ad8\u901f\u5316\u3067\u304d\u308b\u304b\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u524d\u63d0\u3068\u3057\u3066\u306f\u3001\u540d\u524d\u4ed8\u304d\u306e\u8272\u306a\u3069\u306f\u3001\u5225\u5bfe\u5fdc\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\npublic static System.Drawing.Color getColorFromHexHtmlFaster(string str)\n        {\n\n        char[] cs = str.ToCharArray();\n        int cslen = cs.Length;\n        if (cs[0] == '#')\n        {\n            switch (cslen)\n            {\n                case 4:\n                    return System.Drawing.Color.FromArgb(255, convertHexcharsToInt32(cs[1], cs[1]), convertHexcharsToInt32(cs[2], cs[2]), convertHexcharsToInt32(cs[3], cs[3]));\n                case 7:\n\n                    return System.Drawing.Color.FromArgb(255, convertHexcharsToInt32(cs[1], cs[2]), convertHexcharsToInt32(cs[3], cs[4]), convertHexcharsToInt32(cs[5], cs[6]));\n\n                default:\n                    return System.Drawing.Color.Transparent;\n            }\n\n        }else\n        {\n            return Color.Transparent;\n        }\n    }\n    internal static int convertHexcharsToInt32(char c1, char c2)\n    {\n\n        return (getHexCharToInt(c1) * 16) + getHexCharToInt(c2);\n    }\n\n    internal static int getHexCharToInt(char c)\n    {\n\n        switch (c)\n        {\n            case '1':\n                return 1;\n            case '2':\n                return 2;\n            case '3':\n                return 3;\n            case '4':\n                return 4;\n            case '5':\n                return 5;\n            case '6':\n                return 6;\n            case '7':\n                return 7;\n            case '8':\n                return 8;\n            case '9':\n                return 9;\n            case 'A':\n            case 'a':\n                return 0xa;\n            case 'B':\n            case 'b':\n                return 0xb;\n            case 'C':\n            case 'c':\n                return 0xc;\n            case 'D':\n            case 'd':\n                return 0xd;\n            case 'E':\n            case 'e':\n                return 0xe;\n            case 'F':\n            case 'f':\n                return 0xf;\n            case '0':\n            default:\n                return 0;\n        }\n\n    }\n\n\n\n\u3053\u306e\u30b3\u30fc\u30c9\u3067\u3001ColorTranslator.FromHtml() \u3088\u308a\u304a\u3088\u305d\u30011/3 \u7a0b\u5ea6\u307e\u3067\u3001\u51e6\u7406\u6642\u9593\u304c\u77ed\u7e2e\u3067\u304d\u307e\u3057\u305f\u3002\n[Benchmark Result]\nColorTranslator.fromHTML() took 1503 ms Color [A=255, R=255, G=0, B=0]\nFaster fromHTML() took 451 ms : Color [A=255, R=255, G=0, B=0]\n\n.NET \u3067\u3001Web,CSS \u306e\u8272\u3092\u30d1\u30fc\u30b9\u3059\u308b\u969b\u306b\u3001\"#fff\" \u3084 \"#ff0000\" \u306a\u3069\u306e\u8272\u3092\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u3092\u89e3\u6790\u3057 System.Drawing.Color \u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b\u306f\u3001ColorTranslator.FromHTML() \u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u304c\u3001\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3057\u3066\u307f\u308b\u3068\u591a\u5c11\u9045\u3044\u305f\u3081\u3001\u9ad8\u901f\u5316\u3067\u304d\u308b\u304b\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u524d\u63d0\u3068\u3057\u3066\u306f\u3001\u540d\u524d\u4ed8\u304d\u306e\u8272\u306a\u3069\u306f\u3001\u5225\u5bfe\u5fdc\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n<pre>\npublic static System.Drawing.Color getColorFromHexHtmlFaster(string str)\n        {\n\n            char[] cs = str.ToCharArray();\n            int cslen = cs.Length;\n            if (cs[0] == '#')\n            {\n                switch (cslen)\n                {\n                    case 4:\n                        return System.Drawing.Color.FromArgb(255, convertHexcharsToInt32(cs[1], cs[1]), convertHexcharsToInt32(cs[2], cs[2]), convertHexcharsToInt32(cs[3], cs[3]));\n                    case 7:\n\n                        return System.Drawing.Color.FromArgb(255, convertHexcharsToInt32(cs[1], cs[2]), convertHexcharsToInt32(cs[3], cs[4]), convertHexcharsToInt32(cs[5], cs[6]));\n\n                    default:\n                        return System.Drawing.Color.Transparent;\n                }\n\n            }else\n            {\n                return Color.Transparent;\n            }\n        }\n        internal static int convertHexcharsToInt32(char c1, char c2)\n        {\n\n            return (getHexCharToInt(c1) * 16) + getHexCharToInt(c2);\n        }\n\n        internal static int getHexCharToInt(char c)\n        {\n\n            switch (c)\n            {\n                case '1':\n                    return 1;\n                case '2':\n                    return 2;\n                case '3':\n                    return 3;\n                case '4':\n                    return 4;\n                case '5':\n                    return 5;\n                case '6':\n                    return 6;\n                case '7':\n                    return 7;\n                case '8':\n                    return 8;\n                case '9':\n                    return 9;\n                case 'A':\n                case 'a':\n                    return 0xa;\n                case 'B':\n                case 'b':\n                    return 0xb;\n                case 'C':\n                case 'c':\n                    return 0xc;\n                case 'D':\n                case 'd':\n                    return 0xd;\n                case 'E':\n                case 'e':\n                    return 0xe;\n                case 'F':\n                case 'f':\n                    return 0xf;\n                case '0':\n                default:\n                    return 0;\n            }\n\n        }\n\n</pre>\n\n\u3053\u306e\u30b3\u30fc\u30c9\u3067\u3001ColorTranslator.FromHtml() \u3088\u308a\u304a\u3088\u305d\u30011/3 \u7a0b\u5ea6\u307e\u3067\u3001\u51e6\u7406\u6642\u9593\u304c\u77ed\u7e2e\u3067\u304d\u307e\u3057\u305f\u3002\n\n<pre>\n[Benchmark Result]\nColorTranslator.fromHTML() took 1503 ms Color [A=255, R=255, G=0, B=0]\nFaster fromHTML() took 451 ms : Color [A=255, R=255, G=0, B=0]\n</pre>\n\n\n", "tags": ["Drawing", ".NET", "C#"]}