{"context": " More than 1 year has passed since last update.\u73fe\u5728\u3001Heroku\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308bCedar\u30b9\u30bf\u30c3\u30af\u306f\u3001\u753b\u50cf\u306e\u4fdd\u5b58\u306f\u3067\u304d\u308b\u3082\u306e\u306e\u3001Heroku\u3092\u518d\u8d77\u52d5\u3057\u305f\u308a\u3001Push\u3059\u308b\u3068\u4fdd\u5b58\u3057\u3066\u3044\u305f\u753b\u50cf\u304c\u6d88\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001Heroku\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5185\u3067\u753b\u50cf\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306b\u306f\u5916\u90e8\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u304c\u5fc5\u9808\u3067\u3059\u3002\nAWS\u306eS3\u306a\u3069\u3082\u3042\u308a\u307e\u3059\u304c\u3001Heroku\u3068\u89aa\u548c\u6027\u306e\u9ad8\u3044Cloudinary\u304c\u3059\u3054\u304f\u4fbf\u5229\u3067\u3059\u3002\n\u5099\u5fd8\u9332\u3068\u3057\u3066\u307e\u3068\u3081\u307e\u3057\u305f\u306e\u3067\u3001\u3054\u6d3b\u7528\u304f\u3060\u3055\u3044\u3002\n\nHeoku\u3078\u306e\u8ffd\u52a0\u3068Cloudinary\u3067\u306e\u78ba\u8a8d\n\nHeroku\u3078\u306e\u8ffd\u52a0\n\u307e\u305a\u306f\u3001Heroku\u306b\u30a2\u30c9\u30aa\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\n\nconsole\n$heroku addons:add cloudinary:starter\n\n\n\u307e\u305f\u306f Heroku\u306edashboard\u304b\u3089Add-ons\u304b\u3089Cloudinary\u3092\u8ffd\u52a0\u3057\u3066\u4e0b\u3055\u3044\u3002\n \u203b\u6700\u521d\u306fStarter\u3067\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nCloudinary\u3067\u306e\u78ba\u8a8d\n\nHeroku\u306eApp\u304b\u3089\u30a2\u30c9\u30aa\u30f3\u3092\u8ffd\u52a0\u3057\u305f\u30a2\u30d7\u30ea\u3092\u9078\u629e\u3057\u3067Cloudinary\u3092\u30af\u30ea\u30c3\u30af\u3057\u3059\u308b\u3068\u3001Heroku\u3068\u9023\u643a\u3057\u305fCloudinary\u306eWeb\u30b5\u30a4\u30c8\u304c\u958b\u304d\u307e\u3059\u3002\n\u306f\u3058\u3081\u3066Cloudinary\u306e\u30b5\u30a4\u30c8\u3092\u958b\u304f\u3068\u3001\u3042\u306a\u305f\u306f\u3069\u306e\u8a00\u8a9e\uff0f\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u5229\u7528\u3057\u307e\u3059\u304b\uff1f\u306e\u3088\u3046\u306a\u8cea\u554f\u304c\u3067\u3066\u304d\u307e\u3059\u306e\u3067\u3001\u3053\u3053\u3067\u306fRuby on Rails\u3092\u9078\u629e\u3057\u307e\u3059\u3002\nRoR\u306b\u95a2\u3059\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\nConfiguration\u306e\u9805\u306bdownload your customized cloudinary.yml configuration file\u3068\u3044\u3046\u30ea\u30f3\u30af\u304b\u3089\u3001cloudinary.yml\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nCloudinary\u3068Carrierwave\u306e\u5b9f\u88c5\n\n\u3082\u308d\u3082\u308d\u8ffd\u52a0\ngem\u3092\u8ffd\u52a0\u3057\u307e\u3059\n\nconsole\n$gem install carrierwave\n$gem install cloudinary\n\n\nGemfile\u3078\u8ffd\u52a0\u3002\u3064\u3044\u3067\u306bHeroku\u306e\u74b0\u5883\u3082\u8ffd\u52a0\u3002\n\ngemfile\nsource 'https://rubygems.org'\n\ngem 'rails', '3.2.8'\n\ngem 'carrierwave'\ngem 'cloudinary'\n\ngem 'heroku'\n\ngroup :test, :development do\n    gem 'sqlite3'\nend\n\ngroup :production do\n    gem 'pg'\n    gem 'thin'\nend\n\ngroup :assets do\n  gem 'sass-rails',   '~> 3.2.3'\n  gem 'coffee-rails', '~> 3.2.1'\n  gem 'uglifier', '>= 1.0.3'\nend\n\ngem 'jquery-rails'\n\n\nbundle install\u3092\u5b9f\u884c\n\nconsole\n$bundle install\n\n\n\n\u30c7\u30e2\u30a2\u30d7\u30ea\u4f5c\u6210\n\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u9854\u5199\u771f\u3092\u8868\u793a\u3059\u308b\u30a2\u30d7\u30ea\u3067\u3059\u3002\n\nconsole\n$rails new coudinary_demo\n\n$cd cloudinary_demo\n\n$rm -f public/index.html\n\n$rails g scaffold User name:string avatar:string remove_avatar:boolean avatar_cache:string\n\n$rake db:migrate\n\n\navatar \u306f\u4fdd\u5b58\u3059\u308b\u753b\u50cf\u3092\u6587\u5b57\u5217\u306b\u3057\u3066\u4fdd\u5b58\u3002\nremove_avatar \u306f\u753b\u50cf\u306e\u524a\u9664\u306b\u5229\u7528\u3002\navatar_cache \u306f\u753b\u50cf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u5931\u6557\u6642\u3001\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u3002\n\nconfig/routes.rb\nCloudinaryDemo::Application.routes.draw do\n  resources :users\n\n  root :to => 'users#index'  \nend\n\n\n\u30d6\u30e9\u30a6\u30b6\u3067http://localhost:3000\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u30a2\u30d7\u30ea\u306e\u30c8\u30c3\u30d7\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\navatar_uploader.rb\u3092\u4f5c\u6210\n\u6b21\u306b\u753b\u50cf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c0\u30fc\u3092\u4f5c\u308a\u307e\u3059\u3002\n\nconsole\nrails g uploader Avatar\n\n\n\navatar_uploader.rb\u3092\u7de8\u96c6\n\u30b3\u30e1\u30f3\u30c8\u3067\u8272\u3005\u3068\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\n\u3056\u3063\u304f\u308a\u7f6e\u304d\u63db\u3048\u3066\u4e0b\u3055\u3044\u3002\n\napp/avatar_uploader.rb\n# encoding: utf-8\nclass AvatarUploader < CarrierWave::Uploader::Base\n\n  include Cloudinary::CarrierWave\n\n  process :convert => 'png'\n  process :tags => ['avatar']\n\n  version :standard do\n    process :resize_to_fill => [100, 150, :north]\n  end\n\n  version :thumbnail do\n    process :resize_to_fit => [50, 50]\n  end\n\n  def public_id\n    return model.id \u30fb\u30fb\u30fb\u203b1\n  end\n\nend\n\n\n\u203b1 public_id\u3067Cloudinary\u304b\u3089\u753b\u50cf\u3092\u53c2\u7167\u3067\u304d\u308b\u306e\u3067\u3001\u90fd\u5408\u306e\u3044\u3044\u5024\u3092\u8a2d\u5b9a\u3059\u308c\u3070\u4fbf\u5229\u3067\u3059\u3002User\u306eAvatar\u306a\u3089User.id\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nuser.rb\u3092\u7de8\u96c6\nuploader\u3068User\u30e2\u30c7\u30eb\u3092\u95a2\u9023\u4ed8\u3051\u307e\u3059\u3002\n\napp/models/user.rb\nclass User < ActiveRecord::Base\n  attr_accessible :avatar, :avatar_cache, :name, :remove_avatar\n\n  mount_uploader :avatar, AvatarUploader\n\nend\n\n\n\ndatabase.yml\u3092\u8ffd\u52a0\n\u5fd8\u308c\u306a\u3044\u3046\u3061\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u5148\u307b\u3069\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u3001cloudinary.yml\u3092config\u30d5\u30a9\u30eb\u30c0\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002database.yml\u3068\u540c\u3058\u968e\u5c64\u3067\u3059\u3002\n\nnew.html.erb\u3068edit.html.erb\u306e\u7de8\u96c6\nScaffold\u3067\u4f5c\u6210\u3055\u308c\u305fview\u306enew.html.erb\u3068edit.html.erb\u306f\u3001_form.html.erb\u3092\u5171\u6709\u3057\u3066\u3044\u308b\u306e\u3067\u3001_form.html.erb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\napp/views/_form.html.erb\n<%= form_for(@user) do |f| %>\n  <% if @user.errors.any? %>\n    <div id=\"error_explanation\">\n      <h2><%= pluralize(@user.errors.count, \"error\") %> prohibited this user from being saved:</h2>\n\n      <ul>\n      <% @user.errors.full_messages.each do |msg| %>\n        <li><%= msg %></li>\n      <% end %>\n      </ul>\n    </div>\n  <% end %>\n\n  <div class=\"field\">\n    <%= f.label :name %><br />\n    <%= f.text_field :name %>\n  </div>\n  <div class=\"field\">\n        <%= image_tag(@user.avatar_url(:thumbnail), :width => 80, :height => 80) %>\n        <%= f.file_field :avatar %>\n        <%= f.check_box :remove_avatar %> \u753b\u50cf\u3092\u524a\u9664\u3059\u308b\n        <%= f.hidden_field :avatar_cache %>\n  </div>\n  <div class=\"actions\">\n    <%= f.submit %>\n  </div>\n<% end %>\n\n\n\nindex.html.erb\u3068show.html.erb\u306e\u7de8\u96c6\nindex.html.erb\u306f\u540d\u524d\u3060\u3051\u8868\u793a\u3002\n\napp/views/users/index.html.erb\n<h1>Listing users</h1>\n\n<table>\n  <tr>\n    <th>Name</th>\n    <th></th>\n    <th></th>\n    <th></th>\n  </tr>\n\n<% @users.each do |user| %>\n  <tr>\n    <td><%= user.name %></td>\n    <td><%= link_to 'Show', user %></td>\n    <td><%= link_to 'Edit', edit_user_path(user) %></td>\n    <td><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' } %></td>\n  </tr>\n<% end %>\n</table>\n\n<br />\n\n<%= link_to 'New User', new_user_path %>\n\n\n\nshow.html.erb\u306f\u540d\u524d\u3068\u753b\u50cf\u3060\u3051\u8868\u793a\n\napp/views/users/show.html.erb\n<p id=\"notice\"><%= notice %></p>\n\n<p>\n  <b>Name:</b>\n  <%= @user.name %>\n</p>\n\n<p>\n  <b>Avatar:</b>\n  <%= image_tag(@user.avatar_url) %>\n</p>\n\n\n<%= link_to 'Edit', edit_user_path(@user) %> |\n<%= link_to 'Back', users_path %>\n\n\n\n\u753b\u50cf\u306e\u30ea\u30b5\u30a4\u30ba\u306a\u3069\u306fCloudinary\u3067\u3044\u308d\u3044\u308d\u3068\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002\nhttp://cloudinary.com/documentation/image_transformations\n\u3067\u306f\u3001Heroku\u3078push\u3057\u307e\u3059\u3002\n\nconsole\n$git init  \u203bgit\u306e\u521d\u671f\u5316 \u6700\u521d\u3060\u3051\n$git add .\n$git commit -m 'first commit'\n$git push heroku master\n\n\nHeroku\u3092\u958b\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nconsole\n$heroku open\n\n\n\u3053\u308c\u3067\u3001\u753b\u50cf\u306e\u8868\u793a\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3001\u524a\u9664\u304c\u3067\u304d\u308b\u30a2\u30d7\u30ea\u306e\u5b8c\u6210\u3067\u3059\u3002\n\n\u753b\u50cf\u30ea\u30b5\u30a4\u30ba\u306f\u3001Rmagik\u3084minimagik\u306a\u3069\u3092\u5229\u7528\u3057\u305f\u308a\uff08\u79c1\u306f\u3053\u308c\u306b\u8d85\u7d76\u30cf\u30de\u308a\u307e\u3057\u305f^^;\uff09\n\u753b\u50cf\u30b9\u30c8\u30ec\u30fc\u30b8\u306f\u3001AWS\u306eS3\u3092\u5229\u7528\u3057\u305f\u308a\u306a\u3069\u3001\u8272\u3005\u3068\u30cf\u30fc\u30c9\u30eb\u304c\u9ad8\u3044\u3067\u3059\u304c\u3001\n\u3053\u306e\u65b9\u6cd5\u306f\u6bd4\u8f03\u7684\u624b\u8efd\u306b\u6d3b\u7528\u3067\u304d\u308b\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305c\u3072\u305c\u3072\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\uff01\u3053\u308c\u304c\u7121\u6599\u3067\u4f7f\u3048\u308b\u3068\u3044\u3046\u306e\u304c\u3059\u3054\u3044\u3067\u3059\u306d\u3002\u3002\n\nvia http://cloudinary.com/documentation/rails_integration\nvia https://github.com/jnicklas/carrierwave\n\u73fe\u5728\u3001Heroku\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308bCedar\u30b9\u30bf\u30c3\u30af\u306f\u3001\u753b\u50cf\u306e\u4fdd\u5b58\u306f\u3067\u304d\u308b\u3082\u306e\u306e\u3001Heroku\u3092\u518d\u8d77\u52d5\u3057\u305f\u308a\u3001Push\u3059\u308b\u3068\u4fdd\u5b58\u3057\u3066\u3044\u305f\u753b\u50cf\u304c\u6d88\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001Heroku\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5185\u3067\u753b\u50cf\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306b\u306f\u5916\u90e8\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u304c\u5fc5\u9808\u3067\u3059\u3002\nAWS\u306eS3\u306a\u3069\u3082\u3042\u308a\u307e\u3059\u304c\u3001Heroku\u3068\u89aa\u548c\u6027\u306e\u9ad8\u3044Cloudinary\u304c\u3059\u3054\u304f\u4fbf\u5229\u3067\u3059\u3002\n\u5099\u5fd8\u9332\u3068\u3057\u3066\u307e\u3068\u3081\u307e\u3057\u305f\u306e\u3067\u3001\u3054\u6d3b\u7528\u304f\u3060\u3055\u3044\u3002\n\n##Heoku\u3078\u306e\u8ffd\u52a0\u3068Cloudinary\u3067\u306e\u78ba\u8a8d\n\n###Heroku\u3078\u306e\u8ffd\u52a0\n\u307e\u305a\u306f\u3001Heroku\u306b\u30a2\u30c9\u30aa\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\n\n ```ruby:console\n$heroku addons:add cloudinary:starter\n```\n\n\u307e\u305f\u306f Heroku\u306edashboard\u304b\u3089Add-ons\u304b\u3089Cloudinary\u3092\u8ffd\u52a0\u3057\u3066\u4e0b\u3055\u3044\u3002\n \u203b\u6700\u521d\u306fStarter\u3067\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n###Cloudinary\u3067\u306e\u78ba\u8a8d\n1. Heroku\u306eApp\u304b\u3089\u30a2\u30c9\u30aa\u30f3\u3092\u8ffd\u52a0\u3057\u305f\u30a2\u30d7\u30ea\u3092\u9078\u629e\u3057\u3067Cloudinary\u3092\u30af\u30ea\u30c3\u30af\u3057\u3059\u308b\u3068\u3001Heroku\u3068\u9023\u643a\u3057\u305fCloudinary\u306eWeb\u30b5\u30a4\u30c8\u304c\u958b\u304d\u307e\u3059\u3002\n\n2. \u306f\u3058\u3081\u3066Cloudinary\u306e\u30b5\u30a4\u30c8\u3092\u958b\u304f\u3068\u3001\u3042\u306a\u305f\u306f\u3069\u306e\u8a00\u8a9e\uff0f\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u5229\u7528\u3057\u307e\u3059\u304b\uff1f\u306e\u3088\u3046\u306a\u8cea\u554f\u304c\u3067\u3066\u304d\u307e\u3059\u306e\u3067\u3001\u3053\u3053\u3067\u306fRuby on Rails\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n3. RoR\u306b\u95a2\u3059\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n**Configuration**\u306e\u9805\u306b**download your customized cloudinary.yml configuration file**\u3068\u3044\u3046\u30ea\u30f3\u30af\u304b\u3089\u3001``cloudinary.yml``\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n##Cloudinary\u3068Carrierwave\u306e\u5b9f\u88c5\n###\u3082\u308d\u3082\u308d\u8ffd\u52a0\ngem\u3092\u8ffd\u52a0\u3057\u307e\u3059\n\n```ruby:console\n$gem install carrierwave\n$gem install cloudinary\n```\n\nGemfile\u3078\u8ffd\u52a0\u3002\u3064\u3044\u3067\u306bHeroku\u306e\u74b0\u5883\u3082\u8ffd\u52a0\u3002\n\n```ruby:gemfile\nsource 'https://rubygems.org'\n\ngem 'rails', '3.2.8'\n\ngem 'carrierwave'\ngem 'cloudinary'\n\ngem 'heroku'\n\ngroup :test, :development do\n\tgem 'sqlite3'\nend\n\ngroup :production do\n\tgem 'pg'\n\tgem 'thin'\nend\n\ngroup :assets do\n  gem 'sass-rails',   '~> 3.2.3'\n  gem 'coffee-rails', '~> 3.2.1'\n  gem 'uglifier', '>= 1.0.3'\nend\n\ngem 'jquery-rails'\n```\n\nbundle install\u3092\u5b9f\u884c\n\n```ruby:console\n$bundle install\n```\n\n###\u30c7\u30e2\u30a2\u30d7\u30ea\u4f5c\u6210\n\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u9854\u5199\u771f\u3092\u8868\u793a\u3059\u308b\u30a2\u30d7\u30ea\u3067\u3059\u3002\n\n```ruby:console\n$rails new coudinary_demo\n\n$cd cloudinary_demo\n\n$rm -f public/index.html\n\n$rails g scaffold User name:string avatar:string remove_avatar:boolean avatar_cache:string\n\n$rake db:migrate\n```\n\n``avatar`` \u306f\u4fdd\u5b58\u3059\u308b\u753b\u50cf\u3092\u6587\u5b57\u5217\u306b\u3057\u3066\u4fdd\u5b58\u3002\n``remove_avatar`` \u306f\u753b\u50cf\u306e\u524a\u9664\u306b\u5229\u7528\u3002\n``avatar_cache`` \u306f\u753b\u50cf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u5931\u6557\u6642\u3001\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u3002\n\n\n```ruby:config/routes.rb\nCloudinaryDemo::Application.routes.draw do\n  resources :users\n  \n  root :to => 'users#index'  \nend\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067http://localhost:3000\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u30a2\u30d7\u30ea\u306e\u30c8\u30c3\u30d7\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n####avatar_uploader.rb\u3092\u4f5c\u6210\n\u6b21\u306b\u753b\u50cf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c0\u30fc\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n```ruby:console\nrails g uploader Avatar\n```\n\n####avatar_uploader.rb\u3092\u7de8\u96c6\n\u30b3\u30e1\u30f3\u30c8\u3067\u8272\u3005\u3068\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\n\u3056\u3063\u304f\u308a\u7f6e\u304d\u63db\u3048\u3066\u4e0b\u3055\u3044\u3002\n\n```ruby:app/avatar_uploader.rb\n# encoding: utf-8\nclass AvatarUploader < CarrierWave::Uploader::Base\n\n  include Cloudinary::CarrierWave\n\n  process :convert => 'png'\n  process :tags => ['avatar']\n  \n  version :standard do\n    process :resize_to_fill => [100, 150, :north]\n  end\n  \n  version :thumbnail do\n    process :resize_to_fit => [50, 50]\n  end\n\n  def public_id\n    return model.id \u30fb\u30fb\u30fb\u203b1\n  end\n  \nend\n```\n\n\u203b1 **public_id**\u3067Cloudinary\u304b\u3089\u753b\u50cf\u3092\u53c2\u7167\u3067\u304d\u308b\u306e\u3067\u3001\u90fd\u5408\u306e\u3044\u3044\u5024\u3092\u8a2d\u5b9a\u3059\u308c\u3070\u4fbf\u5229\u3067\u3059\u3002User\u306eAvatar\u306a\u3089User.id\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n####user.rb\u3092\u7de8\u96c6\nuploader\u3068User\u30e2\u30c7\u30eb\u3092\u95a2\u9023\u4ed8\u3051\u307e\u3059\u3002\n\n```ruby:app/models/user.rb\nclass User < ActiveRecord::Base\n  attr_accessible :avatar, :avatar_cache, :name, :remove_avatar\n  \n  mount_uploader :avatar, AvatarUploader\n  \nend\n```\n\n####database.yml\u3092\u8ffd\u52a0\n\u5fd8\u308c\u306a\u3044\u3046\u3061\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u5148\u307b\u3069\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u3001``cloudinary.yml``\u3092``config``\u30d5\u30a9\u30eb\u30c0\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002``database.yml``\u3068\u540c\u3058\u968e\u5c64\u3067\u3059\u3002\n\n####new.html.erb\u3068edit.html.erb\u306e\u7de8\u96c6\nScaffold\u3067\u4f5c\u6210\u3055\u308c\u305fview\u306e``new.html.erb``\u3068``edit.html.erb``\u306f\u3001``_form.html.erb``\u3092\u5171\u6709\u3057\u3066\u3044\u308b\u306e\u3067\u3001``_form.html.erb``\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n```ruby:app/views/_form.html.erb\n<%= form_for(@user) do |f| %>\n  <% if @user.errors.any? %>\n    <div id=\"error_explanation\">\n      <h2><%= pluralize(@user.errors.count, \"error\") %> prohibited this user from being saved:</h2>\n\n      <ul>\n      <% @user.errors.full_messages.each do |msg| %>\n        <li><%= msg %></li>\n      <% end %>\n      </ul>\n    </div>\n  <% end %>\n\n  <div class=\"field\">\n    <%= f.label :name %><br />\n    <%= f.text_field :name %>\n  </div>\n  <div class=\"field\">\n\t\t<%= image_tag(@user.avatar_url(:thumbnail), :width => 80, :height => 80) %>\n\t\t<%= f.file_field :avatar %>\n\t\t<%= f.check_box :remove_avatar %> \u753b\u50cf\u3092\u524a\u9664\u3059\u308b\n\t\t<%= f.hidden_field :avatar_cache %>\n  </div>\n  <div class=\"actions\">\n    <%= f.submit %>\n  </div>\n<% end %>\n```\n####index.html.erb\u3068show.html.erb\u306e\u7de8\u96c6\nindex.html.erb\u306f\u540d\u524d\u3060\u3051\u8868\u793a\u3002\n\n```ruby:app/views/users/index.html.erb\n<h1>Listing users</h1>\n\n<table>\n  <tr>\n    <th>Name</th>\n    <th></th>\n    <th></th>\n    <th></th>\n  </tr>\n\n<% @users.each do |user| %>\n  <tr>\n    <td><%= user.name %></td>\n    <td><%= link_to 'Show', user %></td>\n    <td><%= link_to 'Edit', edit_user_path(user) %></td>\n    <td><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' } %></td>\n  </tr>\n<% end %>\n</table>\n\n<br />\n\n<%= link_to 'New User', new_user_path %>\n\n```\n\nshow.html.erb\u306f\u540d\u524d\u3068\u753b\u50cf\u3060\u3051\u8868\u793a\n\n```ruby:app/views/users/show.html.erb\n<p id=\"notice\"><%= notice %></p>\n\n<p>\n  <b>Name:</b>\n  <%= @user.name %>\n</p>\n\n<p>\n  <b>Avatar:</b>\n  <%= image_tag(@user.avatar_url) %>\n</p>\n\n\n<%= link_to 'Edit', edit_user_path(@user) %> |\n<%= link_to 'Back', users_path %>\n\n```\n\n\u753b\u50cf\u306e\u30ea\u30b5\u30a4\u30ba\u306a\u3069\u306fCloudinary\u3067\u3044\u308d\u3044\u308d\u3068\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002\nhttp://cloudinary.com/documentation/image_transformations\n\n\u3067\u306f\u3001Heroku\u3078push\u3057\u307e\u3059\u3002\n\n```ruby:console\n$git init  \u203bgit\u306e\u521d\u671f\u5316 \u6700\u521d\u3060\u3051\n$git add .\n$git commit -m 'first commit'\n$git push heroku master\n```\n\nHeroku\u3092\u958b\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```ruby:console\n$heroku open\n```\n\n\u3053\u308c\u3067\u3001\u753b\u50cf\u306e\u8868\u793a\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3001\u524a\u9664\u304c\u3067\u304d\u308b\u30a2\u30d7\u30ea\u306e\u5b8c\u6210\u3067\u3059\u3002\n***\n\u753b\u50cf\u30ea\u30b5\u30a4\u30ba\u306f\u3001Rmagik\u3084minimagik\u306a\u3069\u3092\u5229\u7528\u3057\u305f\u308a\uff08\u79c1\u306f\u3053\u308c\u306b\u8d85\u7d76\u30cf\u30de\u308a\u307e\u3057\u305f^^;\uff09\n\u753b\u50cf\u30b9\u30c8\u30ec\u30fc\u30b8\u306f\u3001AWS\u306eS3\u3092\u5229\u7528\u3057\u305f\u308a\u306a\u3069\u3001\u8272\u3005\u3068\u30cf\u30fc\u30c9\u30eb\u304c\u9ad8\u3044\u3067\u3059\u304c\u3001\n\u3053\u306e\u65b9\u6cd5\u306f\u6bd4\u8f03\u7684\u624b\u8efd\u306b\u6d3b\u7528\u3067\u304d\u308b\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305c\u3072\u305c\u3072\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\uff01\u3053\u308c\u304c\u7121\u6599\u3067\u4f7f\u3048\u308b\u3068\u3044\u3046\u306e\u304c\u3059\u3054\u3044\u3067\u3059\u306d\u3002\u3002\n***\nvia http://cloudinary.com/documentation/rails_integration\nvia https://github.com/jnicklas/carrierwave\n", "tags": ["Rails", "Ruby", "cloudinary", "carrierwave", "Heroku"]}