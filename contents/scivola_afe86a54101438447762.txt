{"tags": ["Ruby", "\u6b63\u898f\u8868\u73fe"], "context": "\n\n$1 \u306f\u5206\u304b\u308a\u306b\u304f\u3044\n\u6b63\u898f\u8868\u73fe\u691c\u7d22\u3067\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3057\u305f\u6587\u5b57\u5217\u3092\u53d6\u308a\u51fa\u3059\u306e\u306b\u3053\u3093\u306a\u66f8\u304d\u65b9\u3092\u3057\u3066\u3044\u305f\u3002\ndef parse_isbn(isbn)\n  /(\\d+)-(\\d+)-(\\d+)-(\\d+)-(\\d)/ =~ isbn\n  {prefix: $1, group: $2, publisher: $3, title: $4, check_digit: $5}\nend\n\np parse_isbn(\"978-4-7561-3254-3\")\n  #=> {:prefix=>\"978\", :group=>\"4\", :publisher=>\"7561\", :title=>\"3254\", :check_digit=>\"3\"}\n\n\u306a\u3093\u304b\u99ac\u9e7f\u3089\u3057\u3044\u3002\u540d\u524d\u3068\u756a\u53f7\u306e\u5bfe\u5fdc\u3092\u8003\u3048\u308b\u306e\u304c\u3081\u3069\u3044\u3002\nISBN \u306e\u3088\u3046\u306a\uff0c\u5358\u7d14\u304b\u3064\u4e00\u5ea6\u4f5c\u3063\u305f\u3089\u5909\u66f4\u306e\u7121\u3044\u3088\u3046\u306a\u3082\u306e\u306a\u3089\u3044\u3044\u3051\u3069\uff0c\u958b\u767a\u4e2d\u306b\u6b63\u898f\u8868\u73fe\u306e\u5f62\u304c\u30b3\u30ed\u30b3\u30ed\u5909\u308f\u308b\u3088\u3046\u3060\u3068\uff0c$n \u306e n \u3092\u6b63\u3057\u304f\u5909\u66f4\u3059\u308b\u306e\u304c\u5927\u5909\u3060\u3002\n\u203b\u8a71\u3092\u7c21\u5358\u306b\u3059\u308b\u305f\u3081\uff0c\u4e0e\u3048\u3089\u308c\u308b ISBN \u306f\u5e38\u306b\u6b63\u3057\u3044\u3068\u4eee\u5b9a\u3057\u3066\u3044\u308b\u3002\n\n\u305d\u3046\u3060\u540d\u524d\u4ed8\u304d\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3092\u4f7f\u304a\u3046\nRuby 1.9 \u306b\u306a\u3063\u3066\u6b63\u898f\u8868\u73fe\u30a8\u30f3\u30b8\u30f3\u304c Oniguruma\uff08\u9b3c\u8eca\uff09\u306b\u306a\u308a\uff0c\u540d\u524d\u4ed8\u304d\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u306b\u540d\u524d\u3092\u4ed8\u3051\u3066\u304a\u3044\u3066\uff0c\u5bfe\u5fdc\u3059\u308b\u90e8\u5206\u6587\u5b57\u5217\u3092\u756a\u53f7\u3067\u306a\u304f\u540d\u524d\u3067\u53c2\u7167\u3067\u304d\u308b\u3068\u3044\u3046\u30a2\u30ec\u3060\u3002\u3061\u306a\u307f\u306b Ruby 2.0 \u304b\u3089\u306f Oniguruma \u306e\u30d5\u30a9\u30fc\u30af\u3067\u3042\u308b Onigmo\uff08\u9b3c\u96f2\uff1bu \u306f\u5165\u3089\u306a\u3044\uff09\u306b\u4ee3\u308f\u3063\u3066\u3044\u308b\u3002\n\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u306b\u3064\u3044\u3066\u306e\u8a73\u7d30\u306f\u308b\u308a\u307e\u306e\u300c\u6b63\u898f\u8868\u73fe\u300d\u3092\u3069\u3046\u305e\uff1a\nhttp://docs.ruby-lang.org/ja/2.2.0/doc/spec=2fregexp.html\n\u3053\u308c\u3092\u4f7f\u304a\u3046\u3067\u306f\u306a\u3044\u304b\u3002\n\u305f\u3060\uff0c\u540d\u524d\u4ed8\u304d\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3092\u4f7f\u3046\u3068\u6b63\u898f\u8868\u73fe\u304c\u9577\u304f\u306a\u308a\u3059\u304e\u308b\u304d\u3089\u3044\u304c\u3042\u308b\u306e\u3067\uff0cx \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30d5\u30ea\u30fc\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3057\u3066\u66f8\u304f\u3053\u3068\u306b\u3059\u308b\u3002\ndef parse_isbn(isbn)\n  /(?<prefix> \\d+ ) # \u63a5\u982d\u8a18\u53f7\uff08978 \u304b 979\uff09\n   -\n   (?<group> \\d+ ) # \u30b0\u30eb\u30fc\u30d7\u8a18\u53f7\uff08\u56fd\uff0c\u5730\u57df\uff0c\u8a00\u8a9e\u570f\uff09\n   -\n   (?<publisher> \\d+ )\n   -\n   (?<title> \\d+ )\n   -\n   (?<check_digit> \\d )\n  /x =~ isbn\n  Regexp.last_match\nend\n\np parse_isbn(\"978-4-7561-3254-3\")\n  #=> #<MatchData \"978-4-7561-3254-3\" prefix:\"978\" group:\"4\" publisher:\"7561\" title:\"3254\" check_digit:\"3\">\np parse_isbn(\"978-4-7561-3254-3\")[:publisher] #=> \"7561\"\n\nx \u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3044\u3046\u306e\u306f\uff0c\u6b63\u898f\u8868\u73fe\u30ea\u30c6\u30e9\u30eb\u4e2d\u306e\u7a7a\u767d\u6587\u5b57\u3092\u7121\u8996\u3057\u3066\u304f\u308c\u308b\u3082\u306e\u3002\u3054\u89a7\u306e\u901a\u308a # \u4ee5\u964d\u304c\u30b3\u30e1\u30f3\u30c8\u3068\u307f\u306a\u3055\u308c\u308b\u3002\n\u3067\u3082\u3055\uff0cMatchData \u3058\u3083\u306a\u304f\u3066\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u6587\u5b57\u5217\u306e\u30cf\u30c3\u30b7\u30e5\u304c\u6b32\u3057\u3044\u308f\u3051\u3088\u3002\n\u3042\uff0c\u3061\u306a\u307f\u306b MatchData#[] \u306e\u5f15\u6570\u306b\u540d\u524d\u3092\u4e0e\u3048\u308b\u3068\u304d\uff0c\u540d\u524d\u306f String \u3067\u3082 Symbol \u3067\u3082\u3044\u3044\u3002\nhttp://docs.ruby-lang.org/ja/2.2.0/method/MatchData/i/=5b=5d.html\n\n\u540d\u524d\u4ed8\u304d\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u306e\u30cf\u30c3\u30b7\u30e5\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\u306f\u7121\u3044\n\u7d76\u5bfe\u305d\u3046\u3044\u3046\u76ee\u7684\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308b\u306f\u305a\u3068\u601d\u3063\u3066\u8abf\u3079\u305f\u3051\u3069\uff0c\u3069\u3046\u3084\u3089\u7121\u3044\u3002\nhttp://docs.ruby-lang.org/ja/2.2.0/class/MatchData.html\n\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u6587\u5b57\u5217\u3092\u914d\u5217\u3067\u8fd4\u3059 MatchData#captures \u306a\u3089\u3042\u308b\u3002\n\u540d\u524d\u4ed8\u304d\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u306e\u540d\u524d\u306e\u30ea\u30b9\u30c8\u3092\u8fd4\u3059 MatchData#names \u3082\u3042\u308b\u3002\uff08\u30b7\u30f3\u30dc\u30eb\u306e\u914d\u5217\u3058\u3083\u306a\u304f\u3066\u6587\u5b57\u5217\u306e\u914d\u5217\u3092\u8fd4\u3059\u3053\u3068\u306b\u6ce8\u610f\uff09\n\n\u7121\u3051\u308c\u3070\u4f5c\u308c\n\u3053\u3093\u306a\u3067\u3044\u3044\u304b\u306a\u3002\nclass MatchData\n  def named_captures\n    Hash[ names.map{ |name| [name.to_sym, self[name]] } ]\n  end\nend\n\n\n\uff082016-08-03 \u8ffd\u8a18\uff09Ruby 2.4.0 \u3067\u30ad\u30bf\u30fc\uff01\nRuby 2.4 \u3067 MathData#named_captures \u304c\u5165\u308b\u3088\u3046\u3067\u3059\u3002\nhttp://ruby-doc.org/core-2.4.0_preview1/MatchData.html#method-i-named_captures\n> ruby -v\nruby 2.4.0preview1 (2016-06-20 trunk 55466) [x86_64-linux]\n\n\u3067\u8a66\u3057\u307e\u3057\u305f\u3002\ndef parse_isbn(isbn)\n  /(?<prefix> \\d+ ) # \u63a5\u982d\u8a18\u53f7\uff08978 \u304b 979\uff09\n   -\n   (?<group> \\d+ ) # \u30b0\u30eb\u30fc\u30d7\u8a18\u53f7\uff08\u56fd\uff0c\u5730\u57df\uff0c\u8a00\u8a9e\u570f\uff09\n   -\n   (?<publisher> \\d+ )\n   -\n   (?<title> \\d+ )\n   -\n   (?<check_digit> \\d )\n  /x =~ isbn\n  Regexp.last_match.named_captures\nend\n\nparse_isbn \"978-4-7561-3254-3\"\n#=> {\"prefix\"=>\"978\", \"group\"=>\"4\", \"publisher\"=>\"7561\", \"title\"=>\"3254\", \"check_digit\"=>\"3\"}\n\n\u3084\u305f\u30fc\uff01\n# `$1` \u306f\u5206\u304b\u308a\u306b\u304f\u3044\n\n\u6b63\u898f\u8868\u73fe\u691c\u7d22\u3067\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3057\u305f\u6587\u5b57\u5217\u3092\u53d6\u308a\u51fa\u3059\u306e\u306b\u3053\u3093\u306a\u66f8\u304d\u65b9\u3092\u3057\u3066\u3044\u305f\u3002\n\n```rb\ndef parse_isbn(isbn)\n  /(\\d+)-(\\d+)-(\\d+)-(\\d+)-(\\d)/ =~ isbn\n  {prefix: $1, group: $2, publisher: $3, title: $4, check_digit: $5}\nend\n\np parse_isbn(\"978-4-7561-3254-3\")\n  #=> {:prefix=>\"978\", :group=>\"4\", :publisher=>\"7561\", :title=>\"3254\", :check_digit=>\"3\"}\n```\n\n\u306a\u3093\u304b\u99ac\u9e7f\u3089\u3057\u3044\u3002\u540d\u524d\u3068\u756a\u53f7\u306e\u5bfe\u5fdc\u3092\u8003\u3048\u308b\u306e\u304c\u3081\u3069\u3044\u3002\n\nISBN \u306e\u3088\u3046\u306a\uff0c\u5358\u7d14\u304b\u3064\u4e00\u5ea6\u4f5c\u3063\u305f\u3089\u5909\u66f4\u306e\u7121\u3044\u3088\u3046\u306a\u3082\u306e\u306a\u3089\u3044\u3044\u3051\u3069\uff0c\u958b\u767a\u4e2d\u306b\u6b63\u898f\u8868\u73fe\u306e\u5f62\u304c\u30b3\u30ed\u30b3\u30ed\u5909\u308f\u308b\u3088\u3046\u3060\u3068\uff0c`$n` \u306e `n` \u3092\u6b63\u3057\u304f\u5909\u66f4\u3059\u308b\u306e\u304c\u5927\u5909\u3060\u3002\n\n\u203b\u8a71\u3092\u7c21\u5358\u306b\u3059\u308b\u305f\u3081\uff0c\u4e0e\u3048\u3089\u308c\u308b ISBN \u306f\u5e38\u306b\u6b63\u3057\u3044\u3068\u4eee\u5b9a\u3057\u3066\u3044\u308b\u3002\n\n\n# \u305d\u3046\u3060\u540d\u524d\u4ed8\u304d\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3092\u4f7f\u304a\u3046\n\nRuby 1.9 \u306b\u306a\u3063\u3066\u6b63\u898f\u8868\u73fe\u30a8\u30f3\u30b8\u30f3\u304c Oniguruma\uff08\u9b3c\u8eca\uff09\u306b\u306a\u308a\uff0c\u540d\u524d\u4ed8\u304d\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u306b\u540d\u524d\u3092\u4ed8\u3051\u3066\u304a\u3044\u3066\uff0c\u5bfe\u5fdc\u3059\u308b\u90e8\u5206\u6587\u5b57\u5217\u3092\u756a\u53f7\u3067\u306a\u304f\u540d\u524d\u3067\u53c2\u7167\u3067\u304d\u308b\u3068\u3044\u3046\u30a2\u30ec\u3060\u3002\u3061\u306a\u307f\u306b Ruby 2.0 \u304b\u3089\u306f Oniguruma \u306e\u30d5\u30a9\u30fc\u30af\u3067\u3042\u308b Onigmo\uff08\u9b3c\u96f2\uff1bu \u306f\u5165\u3089\u306a\u3044\uff09\u306b\u4ee3\u308f\u3063\u3066\u3044\u308b\u3002\n\n\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u306b\u3064\u3044\u3066\u306e\u8a73\u7d30\u306f\u308b\u308a\u307e\u306e\u300c\u6b63\u898f\u8868\u73fe\u300d\u3092\u3069\u3046\u305e\uff1a\n\nhttp://docs.ruby-lang.org/ja/2.2.0/doc/spec=2fregexp.html\n\n\u3053\u308c\u3092\u4f7f\u304a\u3046\u3067\u306f\u306a\u3044\u304b\u3002\n\n\u305f\u3060\uff0c\u540d\u524d\u4ed8\u304d\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3092\u4f7f\u3046\u3068\u6b63\u898f\u8868\u73fe\u304c\u9577\u304f\u306a\u308a\u3059\u304e\u308b\u304d\u3089\u3044\u304c\u3042\u308b\u306e\u3067\uff0c`x` \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30d5\u30ea\u30fc\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3057\u3066\u66f8\u304f\u3053\u3068\u306b\u3059\u308b\u3002\n\n```rb\ndef parse_isbn(isbn)\n  /(?<prefix> \\d+ ) # \u63a5\u982d\u8a18\u53f7\uff08978 \u304b 979\uff09\n   -\n   (?<group> \\d+ ) # \u30b0\u30eb\u30fc\u30d7\u8a18\u53f7\uff08\u56fd\uff0c\u5730\u57df\uff0c\u8a00\u8a9e\u570f\uff09\n   -\n   (?<publisher> \\d+ )\n   -\n   (?<title> \\d+ )\n   -\n   (?<check_digit> \\d )\n  /x =~ isbn\n  Regexp.last_match\nend\n\np parse_isbn(\"978-4-7561-3254-3\")\n  #=> #<MatchData \"978-4-7561-3254-3\" prefix:\"978\" group:\"4\" publisher:\"7561\" title:\"3254\" check_digit:\"3\">\np parse_isbn(\"978-4-7561-3254-3\")[:publisher] #=> \"7561\"\n```\n\n`x` \u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3044\u3046\u306e\u306f\uff0c\u6b63\u898f\u8868\u73fe\u30ea\u30c6\u30e9\u30eb\u4e2d\u306e\u7a7a\u767d\u6587\u5b57\u3092\u7121\u8996\u3057\u3066\u304f\u308c\u308b\u3082\u306e\u3002\u3054\u89a7\u306e\u901a\u308a `#` \u4ee5\u964d\u304c\u30b3\u30e1\u30f3\u30c8\u3068\u307f\u306a\u3055\u308c\u308b\u3002\n\n\u3067\u3082\u3055\uff0cMatchData \u3058\u3083\u306a\u304f\u3066\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u6587\u5b57\u5217\u306e\u30cf\u30c3\u30b7\u30e5\u304c\u6b32\u3057\u3044\u308f\u3051\u3088\u3002\n\n\u3042\uff0c\u3061\u306a\u307f\u306b `MatchData#[]` \u306e\u5f15\u6570\u306b\u540d\u524d\u3092\u4e0e\u3048\u308b\u3068\u304d\uff0c\u540d\u524d\u306f String \u3067\u3082 Symbol \u3067\u3082\u3044\u3044\u3002\n\nhttp://docs.ruby-lang.org/ja/2.2.0/method/MatchData/i/=5b=5d.html\n\n# \u540d\u524d\u4ed8\u304d\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u306e\u30cf\u30c3\u30b7\u30e5\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\u306f\u7121\u3044\n\n\u7d76\u5bfe\u305d\u3046\u3044\u3046\u76ee\u7684\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308b\u306f\u305a\u3068\u601d\u3063\u3066\u8abf\u3079\u305f\u3051\u3069\uff0c\u3069\u3046\u3084\u3089\u7121\u3044\u3002\n\nhttp://docs.ruby-lang.org/ja/2.2.0/class/MatchData.html\n\n\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u6587\u5b57\u5217\u3092\u914d\u5217\u3067\u8fd4\u3059 `MatchData#captures` \u306a\u3089\u3042\u308b\u3002\n\n\u540d\u524d\u4ed8\u304d\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u306e\u540d\u524d\u306e\u30ea\u30b9\u30c8\u3092\u8fd4\u3059 `MatchData#names` \u3082\u3042\u308b\u3002\uff08\u30b7\u30f3\u30dc\u30eb\u306e\u914d\u5217\u3058\u3083\u306a\u304f\u3066\u6587\u5b57\u5217\u306e\u914d\u5217\u3092\u8fd4\u3059\u3053\u3068\u306b\u6ce8\u610f\uff09\n\n# \u7121\u3051\u308c\u3070\u4f5c\u308c\n\n\u3053\u3093\u306a\u3067\u3044\u3044\u304b\u306a\u3002\n\n```rb\nclass MatchData\n  def named_captures\n    Hash[ names.map{ |name| [name.to_sym, self[name]] } ]\n  end\nend\n```\n\n# \uff082016-08-03 \u8ffd\u8a18\uff09Ruby 2.4.0 \u3067\u30ad\u30bf\u30fc\uff01\n\nRuby 2.4 \u3067 `MathData#named_captures` \u304c\u5165\u308b\u3088\u3046\u3067\u3059\u3002\n\nhttp://ruby-doc.org/core-2.4.0_preview1/MatchData.html#method-i-named_captures\n\n```bsh\n> ruby -v\nruby 2.4.0preview1 (2016-06-20 trunk 55466) [x86_64-linux]\n```\n\n\u3067\u8a66\u3057\u307e\u3057\u305f\u3002\n\n```rb\ndef parse_isbn(isbn)\n  /(?<prefix> \\d+ ) # \u63a5\u982d\u8a18\u53f7\uff08978 \u304b 979\uff09\n   -\n   (?<group> \\d+ ) # \u30b0\u30eb\u30fc\u30d7\u8a18\u53f7\uff08\u56fd\uff0c\u5730\u57df\uff0c\u8a00\u8a9e\u570f\uff09\n   -\n   (?<publisher> \\d+ )\n   -\n   (?<title> \\d+ )\n   -\n   (?<check_digit> \\d )\n  /x =~ isbn\n  Regexp.last_match.named_captures\nend\n\nparse_isbn \"978-4-7561-3254-3\"\n#=> {\"prefix\"=>\"978\", \"group\"=>\"4\", \"publisher\"=>\"7561\", \"title\"=>\"3254\", \"check_digit\"=>\"3\"}\n``` \n\n\u3084\u305f\u30fc\uff01\n"}