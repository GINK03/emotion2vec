{"context": " More than 1 year has passed since last update.\n\n\u3084\u308a\u305f\u3044\u3053\u3068\n\u3061\u3087\u3063\u3068\u3057\u305f\u5165\u529b\u3092\u30e2\u30fc\u30c0\u30eb\u4e0a\u3067\u3084\u308a\u305f\u3044\u3002\n\u5165\u529b\u5185\u5bb9\u306b\u4e0d\u5099\u304c\u3042\u3063\u3066\u3001\u767b\u9332\u51fa\u6765\u306a\u3044\u5834\u5408\u3001\u753b\u9762\u9077\u79fb\u305b\u305a\u306b\u305d\u306e\u307e\u307e\u30e2\u30fc\u30c0\u30eb\u4e0a\u3067\u30a8\u30e9\u30fc\u3092\u8868\u793a\u3057\u305f\u3044\u3002\n\u5165\u529b\u6210\u529f\u3057\u305f\u3089\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u5171\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u753b\u9762\u3092\u518d\u63cf\u753b\u3057\u305f\u3044\u3002\n\n\u524d\u63d0\n\nsimple_form\ntwitter bootstrap\nhaml\ndevice\n\n\n\u51e6\u7406\u306e\u6d41\u308c\n\nView : form\u304b\u3089ajax\u547c\u3073\u51fa\u3059\nController : ajax\u547c\u3073\u51fa\u3057\u3092\u53d7\u3051\u53d6\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u8fd4\u3057\u65b9\nView : \u30b5\u30fc\u30d0\u30fc\u304b\u3089\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092ajax\u3067\u53d7\u3051\u53d6\u3063\u3066\u3001\u753b\u9762\u3092\u66f4\u65b0\n\n\n\u30b5\u30f3\u30d7\u30eb\u5b9f\u88c5\u3059\u308b\u51e6\u7406\u306e\u6982\u8981\n\u4eee\u60f3\u306e\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u30b5\u30a4\u30c8\u306b\u5165\u672d\u3059\u308b\u51e6\u7406\u3092\u60f3\u5b9a\u3002\n\u4ee5\u4e0b\u306e\u8981\u4ef6\u3092\u6e80\u305f\u3057\u305f\u3044\uff1a\n\n\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u306b\u306f\u6700\u4f4e\u5165\u672d\u4fa1\u683c\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\n\u5165\u672d\u8005\u306f\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u8a73\u7d30\u304b\u3089\u30e2\u30fc\u30c0\u30eb\u4e0a\u3067\u5165\u672d\u91d1\u984d\u3092\u5165\u529b\u3057\u3001\u5165\u672d\u3059\u308b\n\u5165\u672d\u91d1\u984d\u304c\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u306e\u6700\u4f4e\u5165\u672d\u4fa1\u683c\u3092\u4e0b\u56de\u3063\u3066\u3044\u308b\u5834\u5408\u3001\u5165\u672d\u306f\u53d7\u3051\u4ed8\u3051\u3089\u308c\u306a\u3044\n\n\nModel\n\napp/models/auction.rb\nclass Auction < ActiveRecord::Base\n  belongs_to :user\n  has_many :bids\n\n  validate_presence_of :user_id, :name, :min_price\nend\n\n\n\napp/models/bid.rb\nclass Bid < ActiveRecord::Base\n  belongs_to :user\n  belongs_to :auction\n\n  validate_presence_of :user_id, :price, :auction_id\n\n  before_save :acceptable_price?\n\n  def acceptable_price?\n    if self.auction.min_price < self.price\n      true\n    else\n      self.errors.add(:price, '\u5165\u672d\u91d1\u984d\u304c\u4f4e\u3059\u304e\u307e\u3059\u3002')\n      false\n    end\n  end\nend\n\n\n\nPOINT\n\u5165\u672d\u3092\u8868\u3059Bid\u30e2\u30c7\u30eb\u306b\u3001\u4fdd\u5b58\u524d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u3002\n\u89aa\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u306e\u6700\u4f4e\u5165\u672d\u4fa1\u683c\u3088\u308a\u5165\u672d\u4fa1\u683c\u304c\u4e0b\u56de\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u4fdd\u5b58\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002\n\nView : form\u304b\u3089ajax\u547c\u3073\u51fa\u3059\n\napp/views/bids/new.html.haml\n= render 'form'\n\n\n\napp/views/bids/_form.html.haml\n= simple_form_for [ @auction, @bid ], remote: true do\n  = f.input :price, label: '\u5165\u672d\u91d1\u984d'\n  = f.button :submit, class: 'btn btn-primary'\n\n\n\nPOINT\n\nform\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u6642\u306b remote: true \u3092\u52a0\u3048\u308b\u3002\n\n\nController : ajax\u547c\u3073\u51fa\u3057\u3092\u53d7\u3051\u53d6\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u8fd4\u3057\u65b9\nremote: true \u3067\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u98db\u3093\u3067\u304f\u308b\u306e\u3067\u3001\u53d7\u3051\u53d6\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u5074\u3067\u306f format.js \u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u3002\nformat.html \u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306a\u306e\u3067\u4e00\u5fdc\u7528\u610f\u3057\u3066\u307f\u305f\u3002\nhtml\u306e\u6642\u306f\u6210\u529f\u30fb\u5931\u6557\u3068\u3082\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u5171\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u306e\u307f\u3002\n\napp/controllers/bids_controller.rb\nclass BidsController < ApplicationController\n  before_action :authenticate_user!\n  # ...\n\n  def create\n    @bid = current_user.bids.new(bid_params)\n    @bid.auction = @auction\n    respond_to do |format|\n      if @bid.save\n        flash[:notice] = '\u5165\u672d\u3057\u307e\u3057\u305f\u3002'\n        format.html { redirect_to @auction }\n        format.js { render js: \"window.location = '#{auction_path(@auction)}'\" }\n      else\n        @bid.errors.each do |name, msg|\n          flash.now[name] = msg\n        end\n        format.html { redirect_to @auction }\n        format.js { render partial: \"shared/message\", status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # ...\nend\n\n\n\nPOINT\n\n\u6210\u529f\u6642\u306e\u51e6\u7406\n\n\nrender js: \u3067\u7d9a\u304f\u6587\u5b57\u5217\u3092 JavaScript \u3068\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u306b\u8fd4\u3059\n\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u305f\u3044\u30d1\u30b9\u3092 window.location \u306b\u30bb\u30c3\u30c8\u3059\u308b\u3068\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u53d7\u3051\u53d6\u3063\u305f\u6642\u70b9\u3067\u30d6\u30e9\u30a6\u30b6\u304cJavaScript\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\n\n\u53c2\u8003URL : \u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0 | Rails \u30ac\u30a4\u30c9 | Vanilla JavaScript\u3092\u51fa\u529b\u3059\u308b\n\nrender js: \"alert('Hello Rails');\"\n\u4e0a\u306e\u30b3\u30fc\u30c9\u306f\u3001\u5f15\u6570\u3067\u4e0e\u3048\u3089\u308c\u305f\u6587\u5b57\u5217\u3092MIME\u30bf\u30a4\u30d7text/javascript\u3067\u30d6\u30e9\u30a6\u30b6\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\n\n\u53c2\u8003URL : Ajax\u304b\u3089\u6307\u5b9a\u306eURL\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u3010Rails\u3011 | Kntmrkm.new()\n\n\u5931\u6557\u6642\u306e\u51e6\u7406\n\n\u5931\u6557\u3057\u305f\u6642\u306f\u3001\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u305f\u304f\u306a\u3044\n\u753b\u9762\u4e0a\u306b\u8868\u793a\u3055\u305b\u305f\u3044\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u3001\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8a70\u3081\u308b\n\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u306a\u3044\u306e\u3067 flash.now \u3092\u4f7f\u3063\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6e21\u3059\n\nrender partial \u3067\u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092html\u3068\u3057\u3066\u30ec\u30b9\u30dd\u30f3\u30b9\u30dc\u30c7\u30a3\u306b\u5165\u308c\u3066\u8fd4\u3059\n\n\u53c2\u8003URL : Action Controller \u306e\u6982\u8981 | Rails \u30ac\u30a4\u30c9 | flash.now\n\nView : \u30b5\u30fc\u30d0\u30fc\u304b\u3089\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092ajax\u3067\u53d7\u3051\u53d6\u3063\u3066\u3001\u753b\u9762\u3092\u66f4\u65b0\n\napp/assets/bids.coffee\n$ ->\n  $('#auction_modal').on(\"ajax:success\", (e, data, status, xhr) ->\n    # \u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u4ed8\u304d\u3067\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u3060\u3051\u306a\u306e\u3067\u3001success\u6642\u306f\u30b3\u30b3\u3067\u306f\u4f55\u3082\u3057\u306a\u3044\n  ).on \"ajax:error\", (e, xhr, status, error) ->\n    message = xhr.responseText\n    $('#error-message').html(message)\n\n\n\nPOINT\n\n\u6210\u529f\u6642\u306e\u51e6\u7406\n\u30b3\u30e1\u30f3\u30c8\u306e\u901a\u308a\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3092JavaScript\u30b3\u30fc\u30c9\u3068\u3057\u3066\u53d7\u3051\u53d6\u3063\u305f\u3089\u3001\u30d6\u30e9\u30a6\u30b6\u304c\u81ea\u52d5\u3067\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u304f\u308c\u308b\u3060\u3051\u306a\u306e\u3067\u3001\u81ea\u524d\u306e\u30b3\u30fc\u30c9\u4e0a\u3067\u306f\u4f55\u3082\u3057\u306a\u3044\u3002\n\n\u5931\u6557\u6642\u306e\u51e6\u7406\n\u4e0a\u8ff0\u306erender partial \u3067\u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092html\u3068\u3057\u3066\u30ec\u30b9\u30dd\u30f3\u30b9\u30dc\u30c7\u30a3\u304c xhr.responseText \u306b\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u305d\u306e\u307e\u307ehtml\u3068\u3057\u3066\u753b\u9762\u4e0a\u306b\u57cb\u3081\u8fbc\u3080\u3002\n\n\u304a\u307e\u3051\n\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u751f\u6210\u3059\u308b\u30d1\u30fc\u30b7\u30e3\u30eb\n\napp/views/shared/_message.html.haml\n- flash.each do |name, msg|\n  - if msg.is_a?(String)\n    %div{ class: \"alert alert-#{name == \"notice\" ? \"success\" : \"danger\" }\"}\n      %button.close{ area: { hidden: \"true\" }, data: { dismiss: \"alert\" }, type: \"button\" } &times;\n      = content_tag :div, msg, id: \"flash_#{name}\"\n\n\n\n## \u3084\u308a\u305f\u3044\u3053\u3068\n\n\u3061\u3087\u3063\u3068\u3057\u305f\u5165\u529b\u3092\u30e2\u30fc\u30c0\u30eb\u4e0a\u3067\u3084\u308a\u305f\u3044\u3002\n\u5165\u529b\u5185\u5bb9\u306b\u4e0d\u5099\u304c\u3042\u3063\u3066\u3001\u767b\u9332\u51fa\u6765\u306a\u3044\u5834\u5408\u3001\u753b\u9762\u9077\u79fb\u305b\u305a\u306b\u305d\u306e\u307e\u307e\u30e2\u30fc\u30c0\u30eb\u4e0a\u3067\u30a8\u30e9\u30fc\u3092\u8868\u793a\u3057\u305f\u3044\u3002\n\u5165\u529b\u6210\u529f\u3057\u305f\u3089\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u5171\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u753b\u9762\u3092\u518d\u63cf\u753b\u3057\u305f\u3044\u3002\n\n## \u524d\u63d0\n\n- simple_form\n- twitter bootstrap\n- haml\n- device\n\n## \u51e6\u7406\u306e\u6d41\u308c\n\n- View : form\u304b\u3089ajax\u547c\u3073\u51fa\u3059\n- Controller : ajax\u547c\u3073\u51fa\u3057\u3092\u53d7\u3051\u53d6\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u8fd4\u3057\u65b9\n- View : \u30b5\u30fc\u30d0\u30fc\u304b\u3089\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092ajax\u3067\u53d7\u3051\u53d6\u3063\u3066\u3001\u753b\u9762\u3092\u66f4\u65b0\n\n## \u30b5\u30f3\u30d7\u30eb\u5b9f\u88c5\u3059\u308b\u51e6\u7406\u306e\u6982\u8981\n\n\u4eee\u60f3\u306e\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u30b5\u30a4\u30c8\u306b\u5165\u672d\u3059\u308b\u51e6\u7406\u3092\u60f3\u5b9a\u3002\n\u4ee5\u4e0b\u306e\u8981\u4ef6\u3092\u6e80\u305f\u3057\u305f\u3044\uff1a\n\n- \u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u306b\u306f\u6700\u4f4e\u5165\u672d\u4fa1\u683c\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\n- \u5165\u672d\u8005\u306f\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u8a73\u7d30\u304b\u3089\u30e2\u30fc\u30c0\u30eb\u4e0a\u3067\u5165\u672d\u91d1\u984d\u3092\u5165\u529b\u3057\u3001\u5165\u672d\u3059\u308b\n- \u5165\u672d\u91d1\u984d\u304c\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u306e\u6700\u4f4e\u5165\u672d\u4fa1\u683c\u3092\u4e0b\u56de\u3063\u3066\u3044\u308b\u5834\u5408\u3001\u5165\u672d\u306f\u53d7\u3051\u4ed8\u3051\u3089\u308c\u306a\u3044\n\n### Model\n\n``` app/models/auction.rb\nclass Auction < ActiveRecord::Base\n  belongs_to :user\n  has_many :bids\n  \n  validate_presence_of :user_id, :name, :min_price\nend\n```\n\n``` app/models/bid.rb\nclass Bid < ActiveRecord::Base\n  belongs_to :user\n  belongs_to :auction\n  \n  validate_presence_of :user_id, :price, :auction_id\n  \n  before_save :acceptable_price?\n\n  def acceptable_price?\n    if self.auction.min_price < self.price\n      true\n    else\n      self.errors.add(:price, '\u5165\u672d\u91d1\u984d\u304c\u4f4e\u3059\u304e\u307e\u3059\u3002')\n      false\n    end\n  end\nend\n```\n\n#### POINT\n\n\u5165\u672d\u3092\u8868\u3059Bid\u30e2\u30c7\u30eb\u306b\u3001\u4fdd\u5b58\u524d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u3002\n\u89aa\u30aa\u30fc\u30af\u30b7\u30e7\u30f3\u306e\u6700\u4f4e\u5165\u672d\u4fa1\u683c\u3088\u308a\u5165\u672d\u4fa1\u683c\u304c\u4e0b\u56de\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u4fdd\u5b58\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002\n\n### View : form\u304b\u3089ajax\u547c\u3073\u51fa\u3059\n\n``` app/views/bids/new.html.haml\n= render 'form'\n```\n\n\n``` app/views/bids/_form.html.haml\n= simple_form_for [ @auction, @bid ], remote: true do\n  = f.input :price, label: '\u5165\u672d\u91d1\u984d'\n  = f.button :submit, class: 'btn btn-primary'\n```\n\n#### POINT\n\n- form\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u6642\u306b ``` remote: true ``` \u3092\u52a0\u3048\u308b\u3002\n\n\n### Controller : ajax\u547c\u3073\u51fa\u3057\u3092\u53d7\u3051\u53d6\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u8fd4\u3057\u65b9\n\n``` remote: true ``` \u3067\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u98db\u3093\u3067\u304f\u308b\u306e\u3067\u3001\u53d7\u3051\u53d6\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u5074\u3067\u306f ``` format.js ``` \u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u3002\n\n``` format.html ``` \u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306a\u306e\u3067\u4e00\u5fdc\u7528\u610f\u3057\u3066\u307f\u305f\u3002\nhtml\u306e\u6642\u306f\u6210\u529f\u30fb\u5931\u6557\u3068\u3082\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u5171\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u306e\u307f\u3002\n\n``` app/controllers/bids_controller.rb\nclass BidsController < ApplicationController\n  before_action :authenticate_user!\n  # ...\n  \n  def create\n    @bid = current_user.bids.new(bid_params)\n    @bid.auction = @auction\n    respond_to do |format|\n      if @bid.save\n        flash[:notice] = '\u5165\u672d\u3057\u307e\u3057\u305f\u3002'\n        format.html { redirect_to @auction }\n        format.js { render js: \"window.location = '#{auction_path(@auction)}'\" }\n      else\n        @bid.errors.each do |name, msg|\n          flash.now[name] = msg\n        end\n        format.html { redirect_to @auction }\n        format.js { render partial: \"shared/message\", status: :unprocessable_entity }\n      end\n    end\n  end\n  \n  # ...\nend\n```\n#### POINT\n\n##### \u6210\u529f\u6642\u306e\u51e6\u7406\n\n- ``` render js: ``` \u3067\u7d9a\u304f\u6587\u5b57\u5217\u3092 JavaScript \u3068\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u306b\u8fd4\u3059\n- \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u305f\u3044\u30d1\u30b9\u3092 ``` window.location ``` \u306b\u30bb\u30c3\u30c8\u3059\u308b\u3068\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u53d7\u3051\u53d6\u3063\u305f\u6642\u70b9\u3067\u30d6\u30e9\u30a6\u30b6\u304cJavaScript\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\n\n\u53c2\u8003URL : [\u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0 | Rails \u30ac\u30a4\u30c9 | Vanilla JavaScript\u3092\u51fa\u529b\u3059\u308b](http://railsguides.jp/layouts_and_rendering.html#vanilla-javascript%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%99%E3%82%8B)\n\n\n> ``` render js: \"alert('Hello Rails');\" ```\n> \u4e0a\u306e\u30b3\u30fc\u30c9\u306f\u3001\u5f15\u6570\u3067\u4e0e\u3048\u3089\u308c\u305f\u6587\u5b57\u5217\u3092MIME\u30bf\u30a4\u30d7text/javascript\u3067\u30d6\u30e9\u30a6\u30b6\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\n\n\u53c2\u8003URL : [Ajax\u304b\u3089\u6307\u5b9a\u306eURL\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u3010Rails\u3011 | Kntmrkm.new()](http://kntmrkm.ap01.aws.af.cm/ict/rails/ajax%E3%81%8B%E3%82%89%E6%8C%87%E5%AE%9A%E3%81%AEurl%E3%81%B8%E3%83%AA%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88%E3%81%99%E3%82%8B%E3%80%90rails%E3%80%91/)\n\n\n##### \u5931\u6557\u6642\u306e\u51e6\u7406\n\n- \u5931\u6557\u3057\u305f\u6642\u306f\u3001\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u305f\u304f\u306a\u3044\n- \u753b\u9762\u4e0a\u306b\u8868\u793a\u3055\u305b\u305f\u3044\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u3001\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8a70\u3081\u308b\n- \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u306a\u3044\u306e\u3067 ``` flash.now ``` \u3092\u4f7f\u3063\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6e21\u3059\n- ``` render partial ``` \u3067\u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092html\u3068\u3057\u3066\u30ec\u30b9\u30dd\u30f3\u30b9\u30dc\u30c7\u30a3\u306b\u5165\u308c\u3066\u8fd4\u3059\n\n\u53c2\u8003URL : [Action Controller \u306e\u6982\u8981 | Rails \u30ac\u30a4\u30c9 | flash.now](http://railsguides.jp/action_controller_overview.html#flash-now)\n\n\n### View : \u30b5\u30fc\u30d0\u30fc\u304b\u3089\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092ajax\u3067\u53d7\u3051\u53d6\u3063\u3066\u3001\u753b\u9762\u3092\u66f4\u65b0\n\n``` app/assets/bids.coffee\n$ ->\n  $('#auction_modal').on(\"ajax:success\", (e, data, status, xhr) ->\n    # \u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u4ed8\u304d\u3067\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u3060\u3051\u306a\u306e\u3067\u3001success\u6642\u306f\u30b3\u30b3\u3067\u306f\u4f55\u3082\u3057\u306a\u3044\n  ).on \"ajax:error\", (e, xhr, status, error) ->\n    message = xhr.responseText\n    $('#error-message').html(message)\n```\n\n#### POINT\n\n##### \u6210\u529f\u6642\u306e\u51e6\u7406\n\n\u30b3\u30e1\u30f3\u30c8\u306e\u901a\u308a\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3092JavaScript\u30b3\u30fc\u30c9\u3068\u3057\u3066\u53d7\u3051\u53d6\u3063\u305f\u3089\u3001\u30d6\u30e9\u30a6\u30b6\u304c\u81ea\u52d5\u3067\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u304f\u308c\u308b\u3060\u3051\u306a\u306e\u3067\u3001\u81ea\u524d\u306e\u30b3\u30fc\u30c9\u4e0a\u3067\u306f\u4f55\u3082\u3057\u306a\u3044\u3002\n\n##### \u5931\u6557\u6642\u306e\u51e6\u7406\n\n\u4e0a\u8ff0\u306e``` render partial ``` \u3067\u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092html\u3068\u3057\u3066\u30ec\u30b9\u30dd\u30f3\u30b9\u30dc\u30c7\u30a3\u304c ```xhr.responseText ``` \u306b\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u305d\u306e\u307e\u307ehtml\u3068\u3057\u3066\u753b\u9762\u4e0a\u306b\u57cb\u3081\u8fbc\u3080\u3002\n\n### \u304a\u307e\u3051\n\n\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u751f\u6210\u3059\u308b\u30d1\u30fc\u30b7\u30e3\u30eb\n\n``` app/views/shared/_message.html.haml\n- flash.each do |name, msg|\n  - if msg.is_a?(String)\n    %div{ class: \"alert alert-#{name == \"notice\" ? \"success\" : \"danger\" }\"}\n      %button.close{ area: { hidden: \"true\" }, data: { dismiss: \"alert\" }, type: \"button\" } &times;\n      = content_tag :div, msg, id: \"flash_#{name}\"\n```\n\n", "tags": ["Rails", "Ruby", "jQuery", "Ajax"]}