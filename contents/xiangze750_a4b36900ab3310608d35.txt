{"context": " More than 1 year has passed since last update.generate\u6587\u3092\u4f7f\u3063\u305fcase\u6587\u306e\u4ee3\u66ff\u3067\u3059\u3002\u5165\u529bbit\u5e45\u304c\u591a\u3044\u5834\u5408\u306b\u306f\u4f7f\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u9045\u5ef6\u306f\u5927\u304d\u304f\u306a\u308a\u307e\u3059\u3002\u30ec\u30b8\u30b9\u30bf\u30d5\u30a1\u30a4\u30eb\u8a18\u8ff0\u306a\u3069\u306b\u4f7f\u3048\u305d\u3046\u3067\u3059\u3002\nModelsim altera 10.1b\u3067\u306eSimulation\u3068Quartus12.1\u3067\u306e\u5408\u6210\u3001\u52d5\u4f5c(7seg\u306b\u8868\u793a)\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\ngentest.v\n`timescale 1 ns / 10 ps \n\nmodule gentest(/*AUTOARG*/\n   // Outputs\n   value,\n   // Inputs\n   idx\n   );\n   input [3:0] idx;\n   output [7:0] value;   \n\n   wire [7:0]   tmp[15:0];\n   wire [7:0]   tmpx[15:0];\n\n   genvar   i,j;\n\n   generate\n      for(i=0;i<16;i=i+1)begin :rep_tmpx\n     assign tmpx[i]=(idx==i)?(i<<1):0;\n      end\n      for(j=0;j<16;j=j+1)begin :rep_tmp\n         if(j==0)assign tmp[j]=tmpx[j];\n         else assign tmp[j]=tmp[j-1]|tmpx[j];\n      end\n   endgenerate\n\n   assign value=tmp[15];\n\nendmodule // gentest\n\nmodule test();\n   reg   clock ;\n   reg [3:0] idx;\n\n   wire [7:0] value;\n\n   initial forever begin\n      clock   <= 1;   \n      #2 \n      clock   <= 0;\n      #2      ;\n   end\n\n   gentest g1(/*AUTOINST*/\n          // Outputs\n          .value            (value[7:0]),\n          // Inputs\n          .idx          (idx[3:0]));\n\n   integer i;\n   initial begin\n      $display(\"start.\");\n      for(i=0;i<16;i=i+1)begin\n        idx=i;        \n        $display(\"%d\",value);\n        @(posedge clock);\n      end \n      $display(\"end.\");\n      $finish();\n   end\n\nendmodule\n\n\n\n\ngenerate\u6587\u3092\u4f7f\u3063\u305fcase\u6587\u306e\u4ee3\u66ff\u3067\u3059\u3002\u5165\u529bbit\u5e45\u304c\u591a\u3044\u5834\u5408\u306b\u306f\u4f7f\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u9045\u5ef6\u306f\u5927\u304d\u304f\u306a\u308a\u307e\u3059\u3002\u30ec\u30b8\u30b9\u30bf\u30d5\u30a1\u30a4\u30eb\u8a18\u8ff0\u306a\u3069\u306b\u4f7f\u3048\u305d\u3046\u3067\u3059\u3002\n\nModelsim altera 10.1b\u3067\u306eSimulation\u3068Quartus12.1\u3067\u306e\u5408\u6210\u3001\u52d5\u4f5c(7seg\u306b\u8868\u793a)\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\n```v:gentest.v\n`timescale 1 ns / 10 ps \n\nmodule gentest(/*AUTOARG*/\n   // Outputs\n   value,\n   // Inputs\n   idx\n   );\n   input [3:0] idx;\n   output [7:0] value;   \n   \n   wire [7:0]\ttmp[15:0];\n   wire [7:0]\ttmpx[15:0];\n   \n   genvar \ti,j;\n\n   generate\n      for(i=0;i<16;i=i+1)begin :rep_tmpx\n\t assign tmpx[i]=(idx==i)?(i<<1):0;\n      end\n      for(j=0;j<16;j=j+1)begin :rep_tmp\n      \t if(j==0)assign tmp[j]=tmpx[j];\n      \t else assign tmp[j]=tmp[j-1]|tmpx[j];\n      end\n   endgenerate\n   \n   assign value=tmp[15];\n  \nendmodule // gentest\n\nmodule test();\n   reg   clock ;\n   reg [3:0] idx;\n\n   wire [7:0] value;\n   \n   initial forever begin\n      clock   <= 1;   \n      #2 \n      clock   <= 0;\n      #2      ;\n   end\n   \n   gentest g1(/*AUTOINST*/\n\t      // Outputs\n\t      .value\t\t\t(value[7:0]),\n\t      // Inputs\n\t      .idx\t\t\t(idx[3:0]));\n   \n   integer i;\n   initial begin\n      $display(\"start.\");\n      for(i=0;i<16;i=i+1)begin\n        idx=i;        \n        $display(\"%d\",value);\n        @(posedge clock);\n      end \n      $display(\"end.\");\n      $finish();\n   end\n   \nendmodule\n\n```", "tags": ["Verilog"]}