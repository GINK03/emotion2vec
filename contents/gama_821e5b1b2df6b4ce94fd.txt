{"context": "\n\nVagrant\u3067\u30cf\u30de\u3063\u305f\u30e1\u30e2\n\u53c2\u8003\u306b\u3057\u3066\u3044\u308b\u672c\n\n\u3061\u306a\u307f\u306b\u3001virsion\u304c\u53e4\u3044\u306e\u3067\u4e0b\u306e\u516c\u5f0f\u30b5\u30a4\u30c8\u3068\u4f75\u7528\u3059\u308b\u3053\u3068\u304c\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nvagrant \u69d8\n\n\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n$.tree\n\u3000|-dev\n\u3000|-vagrant\n\u3000\u3000|-Vagarantfile\n\u3000\u3000|-provision.sh\n\n\u4e2d\u8eab\n\nVagrantfile[$/vagrant/Vagrantfile]\nconfig.vm.box = \"hashicorp/precise64\nconfig.vm.define 'web' do |web|\n    web.vm.synced_folder \"../dev\" , \"/vagrant_dev\"\n    web.vm.network \"forwarded_port\", guest:80, host:8080\n    web.vm.provision :shell, path: \"provision.sh\"\n    web.vm.network \"private_network\" , ip:\"192.168.33.10\"\n  end\n\n  config.vm.define \"db\" do |db|\n    db.vm.network \"private_network\" , ip:\"192.168.33.11\"\n  end\n\n\nprovision.sh\n#!/usr/bin/env bash\n\necho \"Installing Apache and setting it up...\"\napt-get update >dev/null 2>&1\napt-get install -y apache2 >/dev/null 2>&1\nrm -rf /var/www\nIn -fs /vagrant_dev /var/www\n\n\n\nvagrant up\u6642\u306b\u5410\u304b\u308c\u305f\u5fcc\u307e\u308f\u3057\u304d\u30a8\u30e9\u30fc\n\nerror log on terminal\nFailed to mount folders in Linux guest. This is usually because\nthe \"vboxsf\" file system is not available. Please verify that\nthe guest additions are properly installed in the guest and\ncan work properly. The command attempted was:\n\nmount -t vboxsf -o uid=`id -u vagrant`,gid=`getent group vagrant | cut -d: -f3` vagrant /vagrant\nmount -t vboxsf -o uid=`id -u vagrant`,gid=`id -g vagrant` vagrant /vagrant\n\nThe error output from the last command was:\n\nstdin: is not a tty\n/sbin/mount.vboxsf: mounting failed with the error: No such device\n\n\n\u306f\u3044\u3001\u82f1\u8a9e\u308f\u304b\u3089\u306a\u3044\u304b\u3089\u9069\u5f53\u306b\u610f\u8a33\nLinux guest \u306e\u30d5\u30a1\u30eb\u30c0\u30fc\u306b\u30de\u30a6\u30f3\u30c8\u3067\u304d\u307e\u305b\u3093\u3002\n\" vboxsf \"\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304c\u306a\u3044\u3053\u3088\u306b\u3088\u3046\u539f\u56e0\u304c\u307b\u307c\u307b\u307c\u306e\u539f\u56e0\u3002\nguest-addition\u306b\u95a2\u3059\u308b\u3082\u306e\u3044\u308c\u3066\u52d5\u304f\u72b6\u6cc1\u306b\u306a\u3063\u305f\u3089\u3053\u3044\uff01\uff01\nmount -t vboxsf -o uid=id -u vagrant,gid=getent group vagrant | cut -d: -f3 vagrant /vagrant\nmount -t vboxsf -o uid=id -u vagrant,gid=id -g vagrant vagrant /vagrant\n\u4e0a\u304c\u5410\u304b\u308c\u305f\u6642\u306e\u30b3\u30de\u30f3\u30c9\u306f\nstdin: is not a tty\n/sbin/mount.vboxsf: mounting failed with the error: No such device\n\u30b2\u30b9\u30c8\u30a2\u30c7\u30a3\u30b7\u30e7\u30f3\u304c\u539f\u56e0\u306a\u306e\u304b\u3044\uff1f\uff1f\n\u3063\u3066\u3053\u3068\u3067jQuery\u3044\u3058\u3089\u3055\u308c\u3066\u304b\u3089\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u6050\u6016\u75c7\u306b\u306a\u3063\u305f\u81ea\u5206\u304c\nVirtual box\u3000\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3044\u308c\u308b\u3002\n\nvagrant-vbguest\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u3044\u308c\u308b\n\u3068\u308a\u3042\u3048\u305a\u89e3\u6d88\u3067\u304d\u305f\u306e\u3067\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306a\u3057\u306e\u5909\u66f4\u624b\u6bb5\u3092\u6574\u3048\u305f\u3044\u306e\u3067\u3059\u304c\u3044\u3064\u304b\u3002\n\u30bf\u30fc\u30df\u30ca\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u958b\u3044\u3066\u3044\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\n$ vagrant plugin install vagrant-vbguest\n\n\u304a\u308f\u3063\u305f\u3089\n$  vagrant up\n\n\u52d5\u3044\u305f!!\n\u6700\u5f8c\u306bping\u9001\u3063\u3066\u78ba\u8a8d\u3002(\u4e00\u5fdc\u3084\u308c\u3068\u3044\u3063\u3066\u3044\u305f\u306e\u3067\u3002)\n$ vagrant ssh web\n$ ping 192.188.33.11\n\n\u3046\u3054\u3044\u305f\uff01\uff01\n\u3063\u3066\u611f\u3058\u3067\u3068\u308a\u3042\u3048\u305a\u52d5\u304d\u307e\u3057\u305f\uff01\uff01\n#Vagrant\u3067\u30cf\u30de\u3063\u305f\u30e1\u30e2\n\u53c2\u8003\u306b\u3057\u3066\u3044\u308b\u672c\n<a  href=\"https://www.amazon.co.jp/gp/product/4873116651/ref=as_li_tf_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4873116651&linkCode=as2&tag=gamahama-22\"><img border=\"0\" src=\"http://ws-fe.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=4873116651&Format=_SL110_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=gamahama-22\" ></a><img src=\"http://ir-jp.amazon-adsystem.com/e/ir?t=gamahama-22&l=as2&o=9&a=4873116651\" width=\"1\" height=\"1\" border=\"0\" alt=\"\" style=\"border:none !important; margin:0px !important;\" />\n\n\u3061\u306a\u307f\u306b\u3001virsion\u304c\u53e4\u3044\u306e\u3067\u4e0b\u306e\u516c\u5f0f\u30b5\u30a4\u30c8\u3068\u4f75\u7528\u3059\u308b\u3053\u3068\u304c\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nvagrant \u69d8\n<a href=\"https://www.vagrantup.com/\">\n![Vagrant by HashiCorp.png](https://qiita-image-store.s3.amazonaws.com/0/124054/98de2258-5d0b-04e1-cd92-5bcda8ee1f69.png)\n</a>\n\n#\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n$.tree\n\u3000|-dev\n\u3000|-vagrant\n\u3000\u3000|-Vagarantfile\n\u3000\u3000|-provision.sh\n\n#\u4e2d\u8eab\n##Vagrantfile[$/vagrant/Vagrantfile]\n\n```vagrant/Vagrantfile\nconfig.vm.box = \"hashicorp/precise64\nconfig.vm.define 'web' do |web|\n    web.vm.synced_folder \"../dev\" , \"/vagrant_dev\"\n    web.vm.network \"forwarded_port\", guest:80, host:8080\n    web.vm.provision :shell, path: \"provision.sh\"\n    web.vm.network \"private_network\" , ip:\"192.168.33.10\"\n  end\n\n  config.vm.define \"db\" do |db|\n    db.vm.network \"private_network\" , ip:\"192.168.33.11\"\n  end\n```\n\n```provision.sh\n#!/usr/bin/env bash\n\necho \"Installing Apache and setting it up...\"\napt-get update >dev/null 2>&1\napt-get install -y apache2 >/dev/null 2>&1\nrm -rf /var/www\nIn -fs /vagrant_dev /var/www\n```\n\n#vagrant up\u6642\u306b\u5410\u304b\u308c\u305f\u5fcc\u307e\u308f\u3057\u304d\u30a8\u30e9\u30fc\n##error log on terminal\n\n```terminal-log\nFailed to mount folders in Linux guest. This is usually because\nthe \"vboxsf\" file system is not available. Please verify that\nthe guest additions are properly installed in the guest and\ncan work properly. The command attempted was:\n\nmount -t vboxsf -o uid=`id -u vagrant`,gid=`getent group vagrant | cut -d: -f3` vagrant /vagrant\nmount -t vboxsf -o uid=`id -u vagrant`,gid=`id -g vagrant` vagrant /vagrant\n\nThe error output from the last command was:\n\nstdin: is not a tty\n/sbin/mount.vboxsf: mounting failed with the error: No such device\n\n```\n\n\u306f\u3044\u3001\u82f1\u8a9e\u308f\u304b\u3089\u306a\u3044\u304b\u3089\u9069\u5f53\u306b\u610f\u8a33\n\nLinux guest \u306e\u30d5\u30a1\u30eb\u30c0\u30fc\u306b\u30de\u30a6\u30f3\u30c8\u3067\u304d\u307e\u305b\u3093\u3002\n\" vboxsf \"\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304c\u306a\u3044\u3053\u3088\u306b\u3088\u3046\u539f\u56e0\u304c\u307b\u307c\u307b\u307c\u306e\u539f\u56e0\u3002\nguest-addition\u306b\u95a2\u3059\u308b\u3082\u306e\u3044\u308c\u3066\u52d5\u304f\u72b6\u6cc1\u306b\u306a\u3063\u305f\u3089\u3053\u3044\uff01\uff01\nmount -t vboxsf -o uid=`id -u vagrant`,gid=`getent group vagrant | cut -d: -f3` vagrant /vagrant\nmount -t vboxsf -o uid=`id -u vagrant`,gid=`id -g vagrant` vagrant /vagrant\n\u4e0a\u304c\u5410\u304b\u308c\u305f\u6642\u306e\u30b3\u30de\u30f3\u30c9\u306f\nstdin: is not a tty\n/sbin/mount.vboxsf: mounting failed with the error: No such device\n\n\u30b2\u30b9\u30c8\u30a2\u30c7\u30a3\u30b7\u30e7\u30f3\u304c\u539f\u56e0\u306a\u306e\u304b\u3044\uff1f\uff1f\n\u3063\u3066\u3053\u3068\u3067jQuery\u3044\u3058\u3089\u3055\u308c\u3066\u304b\u3089\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u6050\u6016\u75c7\u306b\u306a\u3063\u305f\u81ea\u5206\u304c\nVirtual box\u3000\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3044\u308c\u308b\u3002\n\n#vagrant-vbguest\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u3044\u308c\u308b\n\u3068\u308a\u3042\u3048\u305a\u89e3\u6d88\u3067\u304d\u305f\u306e\u3067\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306a\u3057\u306e\u5909\u66f4\u624b\u6bb5\u3092\u6574\u3048\u305f\u3044\u306e\u3067\u3059\u304c\u3044\u3064\u304b\u3002\n\u30bf\u30fc\u30df\u30ca\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u958b\u3044\u3066\u3044\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\n\n```\n$ vagrant plugin install vagrant-vbguest\n```\n\n\u304a\u308f\u3063\u305f\u3089\n\n```terminal\n$  vagrant up\n```\n\n*\u52d5\u3044\u305f!!*\n\n\u6700\u5f8c\u306bping\u9001\u3063\u3066\u78ba\u8a8d\u3002(\u4e00\u5fdc\u3084\u308c\u3068\u3044\u3063\u3066\u3044\u305f\u306e\u3067\u3002)\n\n```terminal\n$ vagrant ssh web\n$ ping 192.188.33.11\n```\n\n*\u3046\u3054\u3044\u305f\uff01\uff01*\n\n\u3063\u3066\u611f\u3058\u3067\u3068\u308a\u3042\u3048\u305a\u52d5\u304d\u307e\u3057\u305f\uff01\uff01\n\n", "tags": ["vagrant", "VirtualBox", "Ubuntu14.04"]}