{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u81ea\u5df1\u8a8d\u8a3c\u5c40\u3067\u8a8d\u8a3c\u3055\u308c\u305fSSL\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u306e\u3067\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002\n\n\u74b0\u5883\n\nOS: CentOS7\nopenssl: OpenSSL 1.0.1e-fips 11 Feb 2013\n\n\n\u53c2\u8003\n\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u3057\u305f\u3002\n\u6709\u308a\u96e3\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\nhttps://supportforums.cisco.com/ja/document/137596\nhttps://kanasys.com/tech/47\n\n\n\u624b\u9806\n\n\u8a8d\u8a3c\u5c40\u5074\u624b\u9806\n\n\u79d8\u5bc6\u30ad\u30fc\u3092\u4f5c\u6210\n\n\u4ee5\u4e0b\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u6709\u308a\u306e\u4f5c\u6210\u65b9\u6cd5\n\n$ openssl genrsa -des3 -out ca-privatekey_pass.pem 2048\nGenerating RSA private key, 2048 bit long modulus\n...................................................+++\n..................................+++\ne is 65537 (0x10001)\nEnter pass phrase for ca-privatekey_pass.key:\nVerifying - Enter pass phrase for ca-privatekey_pass.key:\n$\n\n\n\u4ee5\u4e0b\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u7121\u3057\u306e\u4f5c\u6210\u65b9\u6cd5\n\n$ openssl genrsa -out ca-privatekey.pem 2048\n\n\nCSR\u4f5c\u6210\n$ openssl req -new -key ca-privatekey.pem -out ca-csr.pem\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:JP\nState or Province Name (full name) []:Tokyo\nLocality Name (eg, city) [Default City]:Shinjyuku-ku\nOrganization Name (eg, company) [Default Company Ltd]:IDCF\nOrganizational Unit Name (eg, section) []:Dev\nCommon Name (eg, your name or your server's hostname) []:ca-server\nEmail Address []:\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:\nAn optional company name []:\n$\n\n\n\u8a3c\u660e\u66f8\u4f5c\u6210\n$ openssl req -x509 -key ca-privatekey.pem -in ca-csr.pem -out ca-crt.pem -days 3560\n$\n\n\n\u30b5\u30fc\u30d0\u30fc\u5074\u624b\u9806\n\u8a8d\u8a3c\u5c40\u306e\u624b\u9806\u3068\u540c\u69d8\u306b\u79d8\u5bc6\u30ad\u30fc\u3068CSR\u3092\u307e\u305a\u306f\u4f5c\u6210\u3059\u308b\u3002\n\n\u79d8\u5bc6\u30ad\u30fc\u4f5c\u6210\n$ openssl genrsa -out server-privatekey.pem\n\n\nCSR\u4f5c\u6210\n$ openssl req -new -key server-privatekey.pem -out server-csr.pem\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:JP\nState or Province Name (full name) []:Tokyo\nLocality Name (eg, city) [Default City]:Shinjyuku-ku\nOrganization Name (eg, company) [Default Company Ltd]:IDCF\nOrganizational Unit Name (eg, section) []:Dev\nCommon Name (eg, your name or your server's hostname) []:haproxy01\nEmail Address []:\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:\nAn optional company name []:\n$\n\n\n\u8a3c\u660e\u66f8\u4f5c\u6210\n\u4ee5\u4e0b\u8a8d\u8a3c\u5c40\u306e\u8a3c\u660e\u66f8\u3067\u7f72\u540d\u3057\u305f\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3002\n\u6709\u52b9\u671f\u9650\u304c3650\u65e5\u306eserver-crt.pem\u3068\u3044\u3046\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n$ openssl x509 -req -CA ca-crt.pem -CAkey ca-privatekey.pem -CAcreateserial -in server-csr.pem -out server-crt.pem -days 3650\n$\n\n\u3042\u3068\u306f\u30b5\u30fc\u30d0\u30fc\u5074\u306b\u306f\u3001\n\nserver-crt.pem\nserver-privatekey.pem\n\n\u3092\u914d\u7f6e\u3057\u3066\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306b\u306f\u3001\n\nca-crt.pem\n\n\u8a8d\u8a3c\u5c40\u306e\u8a3c\u660e\u66f8\u3092\u914d\u7f6e\u3059\u308c\u3070\u6b63\u5e38\u306b\u63a5\u7d9a\u3067\u304d\u308b\u306f\u305a\u3002\n\n# \u306f\u3058\u3081\u306b\n\n\u81ea\u5df1\u8a8d\u8a3c\u5c40\u3067\u8a8d\u8a3c\u3055\u308c\u305fSSL\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u306e\u3067\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002\n\n# \u74b0\u5883\n\n- OS: CentOS7\n- openssl: OpenSSL 1.0.1e-fips 11 Feb 2013\n\n# \u53c2\u8003\n\n\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u3057\u305f\u3002\n\u6709\u308a\u96e3\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\n- https://supportforums.cisco.com/ja/document/137596\n- https://kanasys.com/tech/47\n\n# \u624b\u9806\n\n## \u8a8d\u8a3c\u5c40\u5074\u624b\u9806\n### \u79d8\u5bc6\u30ad\u30fc\u3092\u4f5c\u6210\n\n- \u4ee5\u4e0b\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u6709\u308a\u306e\u4f5c\u6210\u65b9\u6cd5\n\n```\n$ openssl genrsa -des3 -out ca-privatekey_pass.pem 2048\nGenerating RSA private key, 2048 bit long modulus\n...................................................+++\n..................................+++\ne is 65537 (0x10001)\nEnter pass phrase for ca-privatekey_pass.key:\nVerifying - Enter pass phrase for ca-privatekey_pass.key:\n$\n```\n\n- \u4ee5\u4e0b\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u7121\u3057\u306e\u4f5c\u6210\u65b9\u6cd5\n\n```\n$ openssl genrsa -out ca-privatekey.pem 2048\n```\n\n\n### CSR\u4f5c\u6210\n\n```\n$ openssl req -new -key ca-privatekey.pem -out ca-csr.pem\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:JP\nState or Province Name (full name) []:Tokyo\nLocality Name (eg, city) [Default City]:Shinjyuku-ku\nOrganization Name (eg, company) [Default Company Ltd]:IDCF\nOrganizational Unit Name (eg, section) []:Dev\nCommon Name (eg, your name or your server's hostname) []:ca-server\nEmail Address []:\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:\nAn optional company name []:\n$\n```\n\n### \u8a3c\u660e\u66f8\u4f5c\u6210\n\n```\n$ openssl req -x509 -key ca-privatekey.pem -in ca-csr.pem -out ca-crt.pem -days 3560\n$\n```\n\n## \u30b5\u30fc\u30d0\u30fc\u5074\u624b\u9806\n\u8a8d\u8a3c\u5c40\u306e\u624b\u9806\u3068\u540c\u69d8\u306b\u79d8\u5bc6\u30ad\u30fc\u3068CSR\u3092\u307e\u305a\u306f\u4f5c\u6210\u3059\u308b\u3002\n\n### \u79d8\u5bc6\u30ad\u30fc\u4f5c\u6210\n\n```\n$ openssl genrsa -out server-privatekey.pem\n```\n\n### CSR\u4f5c\u6210\n\n```\n$ openssl req -new -key server-privatekey.pem -out server-csr.pem\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:JP\nState or Province Name (full name) []:Tokyo\nLocality Name (eg, city) [Default City]:Shinjyuku-ku\nOrganization Name (eg, company) [Default Company Ltd]:IDCF\nOrganizational Unit Name (eg, section) []:Dev\nCommon Name (eg, your name or your server's hostname) []:haproxy01\nEmail Address []:\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:\nAn optional company name []:\n$\n```\n\n### \u8a3c\u660e\u66f8\u4f5c\u6210\n\n\u4ee5\u4e0b\u8a8d\u8a3c\u5c40\u306e\u8a3c\u660e\u66f8\u3067\u7f72\u540d\u3057\u305f\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3002\n\u6709\u52b9\u671f\u9650\u304c3650\u65e5\u306eserver-crt.pem\u3068\u3044\u3046\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\n```\n$ openssl x509 -req -CA ca-crt.pem -CAkey ca-privatekey.pem -CAcreateserial -in server-csr.pem -out server-crt.pem -days 3650\n$\n```\n\n\u3042\u3068\u306f\u30b5\u30fc\u30d0\u30fc\u5074\u306b\u306f\u3001\n\n- server-crt.pem\n- server-privatekey.pem\n\n\u3092\u914d\u7f6e\u3057\u3066\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306b\u306f\u3001\n\n- ca-crt.pem\n\n\u8a8d\u8a3c\u5c40\u306e\u8a3c\u660e\u66f8\u3092\u914d\u7f6e\u3059\u308c\u3070\u6b63\u5e38\u306b\u63a5\u7d9a\u3067\u304d\u308b\u306f\u305a\u3002\n\n", "tags": ["SSL", "openssl", "Certification"]}