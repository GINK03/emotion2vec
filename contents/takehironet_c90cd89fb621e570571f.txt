{"context": " More than 1 year has passed since last update.\n\n\u3057\u304a\u308a\nCentOS6.5\u3067DRBD8.4\u3092\u4f7f\u3063\u3066\u307f\u308b - vol.0 \u6e96\u5099\u7de8\nCentOS6.5\u3067DRBD8.4\u3092\u4f7f\u3063\u3066\u307f\u308b - vol.1 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7de8\nCentOS6.5\u3067DRBD8.4\u3092\u4f7f\u3063\u3066\u307f\u308b - vol.2 Corosync\u8a2d\u5b9a\u7de8\nCentOS6.5\u3067DRBD8.4\u3092\u4f7f\u3063\u3066\u307f\u308b - vol.3 DRBD\u521d\u671f\u8a2d\u5b9a\u7de8\nCentOS6.5\u3067DRBD8.4\u3092\u4f7f\u3063\u3066\u307f\u308b - vol.4 CRM\u8a2d\u5b9a\u7de8\n\n\u6ce8\u610f\u4e8b\u9805\n\u3053\u3053\u3067\u4f7f\u7528\u3057\u3066\u3044\u308bLinux-HA Japan\u914d\u5e03\u306ePacemaker\u306f\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3059\u3002\nPacemaker 1.1.12\u304c2015\u5e743\u6708\u73fe\u5728\u306e\u6700\u65b0\u3067\u3001corosync.conf\u306e\u8a2d\u5b9a\u9805\u76ee\u304c\u5909\u66f4\u3055\u308c\u3066\u3044\u305f\u308aSysVinit\u3067\u306f\u306a\u304fUpstart\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u305f\u308a\u3057\u307e\u3059\u3002\nhttp://linux-ha.sourceforge.jp/wp/ \u3092\u3054\u78ba\u8a8d\u306e\u4e0a\u3001\u9069\u5b9c\u8a2d\u5b9a\u3092\u304a\u9858\u3044\u81f4\u3057\u307e\u3059\u3002\n\nDRBD\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nCentOS 6.4 64bit\u7248\u306bDRBD\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nELRepo\u306e\u5c0e\u5165\nDRBD\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u914d\u5e03\u3057\u3066\u3044\u308bELRepo\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nrpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org\nrpm -Uvh http://www.elrepo.org/elrepo-release-6-6.el6.elrepo.noarch.rpm\n\n\nDRBD 8.4\u306e\u5c0e\u5165\nDRBD 8.4\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nyum install -y drbd84-utils kmod-drbd84\n\ndrbd84-utils \u306f\u30e6\u30fc\u30b6\u30fc\u30b9\u30da\u30fc\u30b9\u3067\u52d5\u4f5c\u3059\u308b\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u7fa4\u3001 kmod-drbd84 \u306f\u30ab\u30fc\u30cd\u30eb\u30b9\u30da\u30fc\u30b9\u3067\u52d5\u4f5c\u3059\u308bDRBD\u306e\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002\n\n\u81ea\u52d5\u8d77\u52d5\u306e\u505c\u6b62\nDRBD\u306e\u5236\u5fa1\u306fPacemaker\u306b\u4efb\u305b\u308b\u306e\u3067\u3001\u81ea\u52d5\u8d77\u52d5\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3059\u3002\nchkconfig drbd off\n\n\nPacemaker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nLinux-HA Japan\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5c0e\u5165\nLinux-HA Japan\u914d\u5e03\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n2014\u5e748\u670831\u65e5\u6642\u70b9\u3067\u306e\u6700\u65b0\u7248\u306f1.0.13-2.1\u3067\u3059\u3002\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066 /tmp \u306b\u5c55\u958b\u3057\u307e\u3059\u3002\u4eca\u56de\u306fJAIST\u3055\u3093\u306e\u30df\u30e9\u30fc\u3092\u5229\u7528\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3059\u3002\ncurl \"http://jaist.dl.sourceforge.jp/linux-ha/61791/pacemaker-1.0.13-2.1.el6.x86_64.repo.tar.gz\" | tar -zx -C /tmp\ncp /tmp/pacemaker-1.0.13-2.1.el6.x86_64.repo/pacemaker.repo /etc/yum.repos.d/\n\n\nCentOS\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4fee\u6b63\nCentOS\u306eBase\u3084Updates\u306b\u542b\u307e\u308c\u308bPacemaker\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3001Linux-HA Japan\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u542b\u307e\u308c\u308bPacemaker\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u885d\u7a81\u3057\u307e\u3059\u306e\u3067\u3001\nCentOS Base\u3068Updates\u304b\u3089\u9664\u5916\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n/etc/yum.repos.d/CentOS-Base.repo \u306e [base] \u30bb\u30af\u30b7\u30e7\u30f3\u3068 [updates] \u30bb\u30af\u30b7\u30e7\u30f3\u306b\u305d\u308c\u305e\u308c\u4ee5\u4e0b\u306e\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\nexclude=pacemaker pacemaker-libs corosync cluster-glue heartbeat resource-agents\n\n\nPacemaker\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u57f7\u7b46\u6642\u306eLinux-HA Japan\u63a8\u5968\u306fPacemaker+Heartbeat\u3067\u3059\u304c\u3001\u3053\u3053\u3067\u306fCorosync\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\nyum install -y pacemaker corosync pm_extras\n\nCorosync\u306f\u81ea\u52d5\u7684\u306b\u8d77\u52d5\u3057\u3066\u3057\u307e\u3046\u3068\u90fd\u5408\u304c\u60aa\u3044\u306e\u3067\u3001\u81ea\u52d5\u8d77\u52d5\u3092\u3057\u306a\u3044\u3088\u3046\u8a2d\u5b9a\u3057\u307e\u3059\u3002\nchkconfig corosync off\n\n\u307e\u305f\u3001pm_extras\u304cheartbeat\u306b\u4f9d\u5b58\u95a2\u4fc2\u3092\u6301\u3063\u3066\u3044\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u304c\u3001heartbeat\u3092\u4f7f\u7528\u3057\u306a\u3044\u306e\u3067\u81ea\u52d5\u8d77\u52d5\u3092\u30aa\u30d5\u306b\u3057\u307e\u3059\u3002\nchkconfig heartbeat off\n\n# \u3057\u304a\u308a\n\n[CentOS6.5\u3067DRBD8.4\u3092\u4f7f\u3063\u3066\u307f\u308b - vol.0 \u6e96\u5099\u7de8](http://qiita.com/takehironet/items/4d26198798fb4b7454f8)\n[CentOS6.5\u3067DRBD8.4\u3092\u4f7f\u3063\u3066\u307f\u308b - vol.1 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7de8](http://qiita.com/takehironet/items/c90cd89fb621e570571f)\n[CentOS6.5\u3067DRBD8.4\u3092\u4f7f\u3063\u3066\u307f\u308b - vol.2 Corosync\u8a2d\u5b9a\u7de8](http://qiita.com/takehironet/items/61a3da51af3b32957872)\n[CentOS6.5\u3067DRBD8.4\u3092\u4f7f\u3063\u3066\u307f\u308b - vol.3 DRBD\u521d\u671f\u8a2d\u5b9a\u7de8](http://qiita.com/takehironet/items/13518725ee7c694efe90)\n[CentOS6.5\u3067DRBD8.4\u3092\u4f7f\u3063\u3066\u307f\u308b - vol.4 CRM\u8a2d\u5b9a\u7de8](http://qiita.com/takehironet/items/486bcdfe5609c67d5148)\n\n# \u6ce8\u610f\u4e8b\u9805\n\n\u3053\u3053\u3067\u4f7f\u7528\u3057\u3066\u3044\u308bLinux-HA Japan\u914d\u5e03\u306ePacemaker\u306f\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3059\u3002\nPacemaker 1.1.12\u304c2015\u5e743\u6708\u73fe\u5728\u306e\u6700\u65b0\u3067\u3001`corosync.conf`\u306e\u8a2d\u5b9a\u9805\u76ee\u304c\u5909\u66f4\u3055\u308c\u3066\u3044\u305f\u308aSysVinit\u3067\u306f\u306a\u304fUpstart\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u305f\u308a\u3057\u307e\u3059\u3002\nhttp://linux-ha.sourceforge.jp/wp/ \u3092\u3054\u78ba\u8a8d\u306e\u4e0a\u3001\u9069\u5b9c\u8a2d\u5b9a\u3092\u304a\u9858\u3044\u81f4\u3057\u307e\u3059\u3002\n\n# DRBD\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nCentOS 6.4 64bit\u7248\u306bDRBD\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n## ELRepo\u306e\u5c0e\u5165\n\nDRBD\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u914d\u5e03\u3057\u3066\u3044\u308bELRepo\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n```\nrpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org\nrpm -Uvh http://www.elrepo.org/elrepo-release-6-6.el6.elrepo.noarch.rpm\n```\n\n## DRBD 8.4\u306e\u5c0e\u5165\n\nDRBD 8.4\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\nyum install -y drbd84-utils kmod-drbd84\n```\n\n`drbd84-utils` \u306f\u30e6\u30fc\u30b6\u30fc\u30b9\u30da\u30fc\u30b9\u3067\u52d5\u4f5c\u3059\u308b\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u7fa4\u3001 `kmod-drbd84` \u306f\u30ab\u30fc\u30cd\u30eb\u30b9\u30da\u30fc\u30b9\u3067\u52d5\u4f5c\u3059\u308bDRBD\u306e\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002\n\n\n## \u81ea\u52d5\u8d77\u52d5\u306e\u505c\u6b62\n\nDRBD\u306e\u5236\u5fa1\u306fPacemaker\u306b\u4efb\u305b\u308b\u306e\u3067\u3001\u81ea\u52d5\u8d77\u52d5\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```plain\nchkconfig drbd off\n```\n\n# Pacemaker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n## Linux-HA Japan\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5c0e\u5165\n\n[Linux-HA Japan](http://linux-ha.sourceforge.jp/wp/)\u914d\u5e03\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n2014\u5e748\u670831\u65e5\u6642\u70b9\u3067\u306e\u6700\u65b0\u7248\u306f1.0.13-2.1\u3067\u3059\u3002\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066 `/tmp` \u306b\u5c55\u958b\u3057\u307e\u3059\u3002\u4eca\u56de\u306fJAIST\u3055\u3093\u306e\u30df\u30e9\u30fc\u3092\u5229\u7528\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3059\u3002\n\n```\ncurl \"http://jaist.dl.sourceforge.jp/linux-ha/61791/pacemaker-1.0.13-2.1.el6.x86_64.repo.tar.gz\" | tar -zx -C /tmp\ncp /tmp/pacemaker-1.0.13-2.1.el6.x86_64.repo/pacemaker.repo /etc/yum.repos.d/\n```\n\n## CentOS\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4fee\u6b63\n\nCentOS\u306eBase\u3084Updates\u306b\u542b\u307e\u308c\u308bPacemaker\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3001Linux-HA Japan\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u542b\u307e\u308c\u308bPacemaker\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u885d\u7a81\u3057\u307e\u3059\u306e\u3067\u3001\nCentOS Base\u3068Updates\u304b\u3089\u9664\u5916\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n\n`/etc/yum.repos.d/CentOS-Base.repo` \u306e `[base]` \u30bb\u30af\u30b7\u30e7\u30f3\u3068 `[updates]` \u30bb\u30af\u30b7\u30e7\u30f3\u306b\u305d\u308c\u305e\u308c\u4ee5\u4e0b\u306e\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```\nexclude=pacemaker pacemaker-libs corosync cluster-glue heartbeat resource-agents\n```\n\n## Pacemaker\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u57f7\u7b46\u6642\u306eLinux-HA Japan\u63a8\u5968\u306fPacemaker+Heartbeat\u3067\u3059\u304c\u3001\u3053\u3053\u3067\u306fCorosync\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n```\nyum install -y pacemaker corosync pm_extras\n```\n\nCorosync\u306f\u81ea\u52d5\u7684\u306b\u8d77\u52d5\u3057\u3066\u3057\u307e\u3046\u3068\u90fd\u5408\u304c\u60aa\u3044\u306e\u3067\u3001\u81ea\u52d5\u8d77\u52d5\u3092\u3057\u306a\u3044\u3088\u3046\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```\nchkconfig corosync off\n```\n\n\u307e\u305f\u3001pm_extras\u304cheartbeat\u306b\u4f9d\u5b58\u95a2\u4fc2\u3092\u6301\u3063\u3066\u3044\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u304c\u3001heartbeat\u3092\u4f7f\u7528\u3057\u306a\u3044\u306e\u3067\u81ea\u52d5\u8d77\u52d5\u3092\u30aa\u30d5\u306b\u3057\u307e\u3059\u3002\n\n```\nchkconfig heartbeat off\n```\n", "tags": ["CentOS6.5", "drbd8.4", "pacemaker1.0.13", "corosync1.4"]}