{"context": "\n\ngo-ldapc \u306fLDAP\u306b\u3088\u308b\u30e6\u30fc\u30b6\u8a8d\u8a3c\u3092\u5b9f\u73fe\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002\n\ngo-ldapc \u305f\u30601\u3064\u306eAPI\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u5b9f\u88c5\u4f8b\nLDAP\u306b\u3088\u308b\u30e6\u30fc\u30b6\u30ed\u30b0\u30a4\u30f3\u3092\u304b\u3093\u305f\u3093\u306b\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nCode:\n\nimport (\n    \"github.com/sona-tar/ldapc\"\n)\n\nfunc main() {\n    ldapclient := &ldapc.Client{\n        Protocol:  ldapc.LDAP,\n        Host:      \"localhost\",\n        Port:      389,\n        TLSConfig: nil,\n        Bind: &ldapc.AuthBind{\n            BindDN:       \"uid=user1,ou=People,dc=test,dc=com\",\n            BindPassword: \"admin\",\n            BaseDN:       \"dc=test,dc=com\",\n            Filter:       \"(&(objectClass=posixAccount)(uid=%s))\",\n        },\n    }\n\n    username := \"user2\"\n    password := \"user2\"\n\n    entry, err := ldapclient.Authenticate(username, password)\n    if err != nil {\n        fmt.Printf(\"LDAP Authenticate failed: %v\\n\", err)\n    }\n\n    // Print all entry\n    fmt.Printf(\"%+v\\n\", entry)\n\n    // username and mail\n    fmt.Printf(\"username: %v\\n\", entry.GetAttributeValue(\"uid\"))\n    fmt.Printf(\"mail: %v\\n\", entry.GetAttributeValue(\"mail\"))\n}\n\n\nOutput:\n\nusername: user2\nmail: user2@test.com\n\n\u533f\u540dBind\u3001DirectBind\u3001\u30b5\u30fc\u30d0\u304cActiveDirectory\u306e\u5834\u5408\u306a\u3069\u306e\u305d\u306e\u4ed6\u306e\u5b9f\u88c5\u4f8b\u306f\u3053\u3061\u3089 ldapc_test.go.\n\n\u30c7\u30e2\n\n\nOpenLDAP Server\u3092\u7acb\u3066\u308b\n\n docker-ldapc\n\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u74b0\u5883\u3092\u5b9f\u884c\n\n$ go get -v github.com/sona-tar/go-ldapc\n$ cd ${GOPATH}/src/github.com/sona-tar/go-ldapc/example\n$ go run main.go\nusername: user2\nmail: user2@test.com\n\n\n\u4f5c\u3063\u305f\u7d4c\u7def\nLDAP\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u691c\u7d22\u30b5\u30fc\u30d3\u30b9\u3067\u3042\u308a\u30e6\u30fc\u30b6\u8a8d\u8a3c\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081LDAP\u306eBind,Search\u306a\u3069\u306e\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u30e6\u30fc\u30b6\u8a8d\u8a3c\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nGo\u8a00\u8a9e\u5411\u3051\u306eLDAP\u30e9\u30a4\u30d6\u30e9\u30ea\u306ego-ldap\u3082Bind\u3084Search\u3092\u5b9f\u884c\u3059\u308bAPI\u3067\u3042\u308a\u3001Web\u30b5\u30fc\u30d3\u30b9\u306bLDAP\u30e6\u30fc\u30b6\u8a8d\u8a3c\u3092\u63d0\u4f9b\u3057\u3088\u3046\u3068\u601d\u3046\u3068\u3001\u304b\u3093\u305f\u3093\u306b\u5229\u7528\u3067\u304d\u308b\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u305d\u3053\u3067LDAP\u306e\u52c9\u5f37\u3092\u517c\u306d\u3066\u8ab0\u3067\u3082\u5bb9\u6613\u306bLDAP\u30e6\u30fc\u30b6\u8a8d\u8a3c\u3092\u5b9f\u73fe\u3067\u304d\u308bGo\u8a00\u8a9e\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n\u307e\u305f\u79c1\u306f\u3001\u793e\u5185\u3067\u306f\u81ea\u7531\u306bPublic\u306aWeb\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3048\u308b\u74b0\u5883\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u985e\u4f3c\u306eOSS Web\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3046\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u6642\u306bLDAP\u8a8d\u8a3c\u304c\u306a\u3044\u3068\u30e6\u30fc\u30b6\u7ba1\u7406\u304c\u8f9b\u3044\u306e\u3067\u3001\u662f\u975e\u7686\u3055\u3093Go\u8a00\u8a9e\u3067Web\u30b5\u30fc\u30d3\u30b9\u3092\u4f5c\u308b\u969b\u306b\u306fLDAP\u8a8d\u8a3c\u306e\u63d0\u4f9b\u3092\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059!  \n\n\u53c2\u8003\n\n\n(gogs/gogs - /gogs/modules/auth/ldap) \u306e\u5b9f\u88c5\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 gogs\u958b\u767a\u8005\u306e\u7686\u3055\u3093\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\n[go-ldapc](https://github.com/sona-tar/go-ldapc) \u306fLDAP\u306b\u3088\u308b\u30e6\u30fc\u30b6\u8a8d\u8a3c\u3092\u5b9f\u73fe\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002\n===============================\n\n\n\n[![GoDoc](https://godoc.org/github.com/sona-tar/go-ldapc?status.svg)](https://godoc.org/github.com/sona-tar/go-ldapc)\n\n`go-ldapc` \u305f\u30601\u3064\u306eAPI\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\n## \u5b9f\u88c5\u4f8b\n\nLDAP\u306b\u3088\u308b\u30e6\u30fc\u30b6\u30ed\u30b0\u30a4\u30f3\u3092\u304b\u3093\u305f\u3093\u306b\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n- Code:\n\n```go\nimport (\n    \"github.com/sona-tar/ldapc\"\n)\n\nfunc main() {\n\tldapclient := &ldapc.Client{\n\t\tProtocol:  ldapc.LDAP,\n\t\tHost:      \"localhost\",\n\t\tPort:      389,\n\t\tTLSConfig: nil,\n\t\tBind: &ldapc.AuthBind{\n\t\t\tBindDN:       \"uid=user1,ou=People,dc=test,dc=com\",\n\t\t\tBindPassword: \"admin\",\n\t\t\tBaseDN:       \"dc=test,dc=com\",\n\t\t\tFilter:       \"(&(objectClass=posixAccount)(uid=%s))\",\n\t\t},\n\t}\n\n\tusername := \"user2\"\n\tpassword := \"user2\"\n\n\tentry, err := ldapclient.Authenticate(username, password)\n\tif err != nil {\n\t\tfmt.Printf(\"LDAP Authenticate failed: %v\\n\", err)\n\t}\n\n\t// Print all entry\n\tfmt.Printf(\"%+v\\n\", entry)\n\n\t// username and mail\n\tfmt.Printf(\"username: %v\\n\", entry.GetAttributeValue(\"uid\"))\n\tfmt.Printf(\"mail: %v\\n\", entry.GetAttributeValue(\"mail\"))\n}\n```\n\n- Output:\n\n```text\nusername: user2\nmail: user2@test.com\n```\n\n\u533f\u540dBind\u3001DirectBind\u3001\u30b5\u30fc\u30d0\u304cActiveDirectory\u306e\u5834\u5408\u306a\u3069\u306e\u305d\u306e\u4ed6\u306e\u5b9f\u88c5\u4f8b\u306f\u3053\u3061\u3089 [ldapc_test.go](./ldapc_test.go).\n\n\n## \u30c7\u30e2\n\n- OpenLDAP Server\u3092\u7acb\u3066\u308b\n -  [docker-ldapc](https://github.com/sona-tar/docker-ldapc)\n\n- \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u74b0\u5883\u3092\u5b9f\u884c\n\n```shell\n$ go get -v github.com/sona-tar/go-ldapc\n$ cd ${GOPATH}/src/github.com/sona-tar/go-ldapc/example\n$ go run main.go\nusername: user2\nmail: user2@test.com\n```\n\n## \u4f5c\u3063\u305f\u7d4c\u7def\nLDAP\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u691c\u7d22\u30b5\u30fc\u30d3\u30b9\u3067\u3042\u308a\u30e6\u30fc\u30b6\u8a8d\u8a3c\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081LDAP\u306e`Bind`,`Search`\u306a\u3069\u306e\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u30e6\u30fc\u30b6\u8a8d\u8a3c\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nGo\u8a00\u8a9e\u5411\u3051\u306eLDAP\u30e9\u30a4\u30d6\u30e9\u30ea\u306e[go-ldap](https://github.com/go-ldap/ldap)\u3082`Bind`\u3084`Search`\u3092\u5b9f\u884c\u3059\u308bAPI\u3067\u3042\u308a\u3001Web\u30b5\u30fc\u30d3\u30b9\u306bLDAP\u30e6\u30fc\u30b6\u8a8d\u8a3c\u3092\u63d0\u4f9b\u3057\u3088\u3046\u3068\u601d\u3046\u3068\u3001\u304b\u3093\u305f\u3093\u306b\u5229\u7528\u3067\u304d\u308b\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\u305d\u3053\u3067LDAP\u306e\u52c9\u5f37\u3092\u517c\u306d\u3066\u8ab0\u3067\u3082\u5bb9\u6613\u306bLDAP\u30e6\u30fc\u30b6\u8a8d\u8a3c\u3092\u5b9f\u73fe\u3067\u304d\u308bGo\u8a00\u8a9e\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n\n\u307e\u305f\u79c1\u306f\u3001\u793e\u5185\u3067\u306f\u81ea\u7531\u306bPublic\u306aWeb\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3048\u308b\u74b0\u5883\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u985e\u4f3c\u306eOSS Web\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3046\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u6642\u306bLDAP\u8a8d\u8a3c\u304c\u306a\u3044\u3068\u30e6\u30fc\u30b6\u7ba1\u7406\u304c\u8f9b\u3044\u306e\u3067\u3001\u662f\u975e\u7686\u3055\u3093Go\u8a00\u8a9e\u3067Web\u30b5\u30fc\u30d3\u30b9\u3092\u4f5c\u308b\u969b\u306b\u306fLDAP\u8a8d\u8a3c\u306e\u63d0\u4f9b\u3092\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059! :smiley: \n\n## \u53c2\u8003\n- [(gogs/gogs - /gogs/modules/auth/ldap)](https://github.com/gogits/gogs/tree/master/modules/auth/ldap) \u306e\u5b9f\u88c5\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 gogs\u958b\u767a\u8005\u306e\u7686\u3055\u3093\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n", "tags": ["Go", "golang", "Web", "LDAP", "Linux"]}