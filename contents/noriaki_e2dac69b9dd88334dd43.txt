{"context": "\n\n\u306f\u3058\u3081\u306b\nRails\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308bJavaScript\u306e\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u7528\u30e9\u30a4\u30d6\u30e9\u30eaairbnb/hypernova\u304c\u3001airbnb\u304b\u3089\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u3002\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u30b7\u30f3\u30d7\u30eb\u306aRails\u30a2\u30d7\u30ea\u3092\u69cb\u7bc9\u3057\u3001\u3053\u308c\u307e\u305f\u30b7\u30f3\u30d7\u30eb\u306aReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u8868\u793a\u3059\u308b\u307e\u3067\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002\nReact\u306b\u3088\u308bSPA\uff08\u30b7\u30f3\u30b0\u30eb\u30da\u30fc\u30b8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\uff09\u3082\u5897\u3048\u3001Google\u7b49\u306e\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3067\u3082\u3042\u308b\u7a0b\u5ea6\u306f\u30da\u30fc\u30b8\u5185\u5bb9\u3092\u89e3\u91c8\u3057\u3066\u304f\u308c\u308b\u3089\u3057\u3044\u3067\u3059\u304c\u3001\u30b5\u30fc\u30d0\u5074\u3067HTML\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u3066\u51fa\u529b\u3059\u308b\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3059\u308b\u3068\u3001\u3088\u308a\u6b63\u3057\u304f\u30da\u30fc\u30b8\u5185\u5bb9\u3092\u89e3\u91c8\u3057\u3066\u3082\u3089\u3048\u307e\u3059\u3002\n\nHypernova\u3068\u306f\n\nA service for server-side rendering your JavaScript views\n\nHypernova\u306f\u3001JavaScript\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u3067\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306e\u30b5\u30fc\u30d3\u30b9\uff08\u30e9\u30a4\u30d6\u30e9\u30ea\u7fa4\uff09\u3067\u3059\u3002\n\nHypernova\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\n\u516c\u5f0f\u306e\u56f3\u304c\u5206\u304b\u308a\u3065\u3089\u3044\u306e\u3067\u3001\u30b7\u30fc\u30b1\u30f3\u30b9\u56f3\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u56f3\u4e2d\u306eHypernova\u95a2\u9023\u306e\u767b\u5834\u4eba\u7269\u3068\u3001\u4ee3\u8868\u7684\u306a\u5f79\u5272\u306f\u4ee5\u4e0b\u306e3\u3064\u3067\u3059\u3002\n\n\n\n\u767b\u5834\u4eba\u7269\n\u30e9\u30a4\u30d6\u30e9\u30ea\n\u5f79\u5272\n\n\n\n\nHypernova/ruby\nairbnb/hypernova-ruby\nHypernova\u306eRuby\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067Rails\u7528\u306eFilter\u3084Helper method\u3092\u63d0\u4f9b\u3057\u307e\u3059\n\n\nHypernova/server\nairbnb/hypernova\nHypernova\u306e\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u62c5\u3046\u30a8\u30f3\u30b8\u30f3\u3067\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8aad\u307f\u8fbc\u3093\u3067HTML\u5316\u3057\u307e\u3059\n\n\nHypernova/react\nairbnb/hypernova-react\nReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u7528\u306e\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3067\u3001Hypernova/server\u7528\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u3068\u3068\u3082\u306b\u76f4\u63a5\u30d6\u30e9\u30a6\u30b6\u3067\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3082\u5927\u4e08\u592b\u306a\u6a5f\u69cb(fall-back)\u3092\u5099\u3048\u307e\u3059\n\n\n\nHypernova\u306e\u30b3\u30a2\u306fHypernova/server\u3068Hypernova/react\u306e2\u3064\u3067\u3001\u524d\u8005\u304c\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u62c5\u3044\u3001\u5f8c\u8005\u304cReactDOM.render\u306e\u30e9\u30c3\u30d1\u30fc\u3067React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092Universal\u5316\uff08\u30b5\u30fc\u30d0\u5074\u3067\u3082\u30d6\u30e9\u30a6\u30b6\u5074\u3067\u3082\u5b9f\u884c\u53ef\u80fd\u306b\u3059\u308b\u3053\u3068\uff09\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3057\u3066\u8868\u793a\u3057\u305f\u30da\u30fc\u30b8\u3067\u3082\u3001\u30e6\u30fc\u30b6\u306e\u64cd\u4f5c\u306b\u3088\u308bReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5909\u5316\u304c\u6b63\u3057\u304f\u52d5\u4f5c\u3059\u308b\u3088\u3046\u8a2d\u8a08\u30fb\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nHypernova\u3092\u4f7f\u3063\u305f\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\n\u305d\u308c\u3067\u306f\u3001\u5b9f\u969b\u306bHypernova\u306b\u3088\u308bReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308bRails\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u74b0\u5883\u30fb\u30d0\u30fc\u30b8\u30e7\u30f3\n# mac\nMacBook Air (13-inch, Mid 2012) - OS X El Capitan (10.11.5)\n\n# ruby/rails\n% ruby -v\nruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-darwin15]\n% gem -v\n2.5.1\n% rails -v\nRails 4.2.6\n\n# node/npm\n% node -v\nv5.5.0\n% npm -v\n3.7.1\n\n\n1. Rails\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n\u7279\u5225\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u306a\u3069\u306f\u4e0d\u8981\u3067\u3059\u3002\n% rails new hypernova-getting-started-with-rails\n\n\n2. Controller\u306e\u4f5c\u6210\n/welcome/index\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3068\u304d\u306b\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n% bin/rails generate controller welcome index\n\n\n3. browserify-rails\u306e\u5c0e\u5165\nRails\u30a2\u30d7\u30ea\u4e0a\u3067CommonJS\u3092\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306bbrowserify-rails\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\nbrowserify-rails\u306b\u9650\u3089\u305a\u3001React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u30d6\u30e9\u30a6\u30b6\u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u3067\u304d\u308c\u3070\u4f55\u3067\u3082\u826f\u3044\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u3082\u3063\u3068\u3082\u7c21\u5358\u306abrowserify-rails\u3092\u9078\u3073\u307e\u3057\u305f\u3002\nGemfile\u306b\u4ee5\u4e0b1\u884c\u3092\u8ffd\u52a0\u3057\u3001bundle install\u3092\u5b9f\u884c\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nGemfile\ngem \"browserify-rails\"\n\n\n% bundle install\nInstalling browserify-rails 3.1.0\n\n\n4. JavaScript\u306e\u74b0\u5883\u8a2d\u5b9a (package.json)\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067package.json\u3092\u4f5c\u6210\u3057\u3001\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u60c5\u5831\u306a\u3069\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n% npm init -y\n\n\npackage.json\n{\n  \"name\": \"hypernova-getting-started-with-rails\",\n  \"version\": \"1.0.0\",\n  \"description\": \"A sample Rails application that uses Hypernova to server render.\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\"\"\n  },\n  \"author\": \"Noriaki Uchiyama\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"hypernova\": \"^1.0.0\",\n    \"hypernova-react\": \"^1.0.0\",\n    \"react\": \"^15.1.0\",\n    \"react-dom\": \"^15.1.0\"\n  },\n  \"devDependencies\": {\n    \"browserify\": \"^13.0.1\",\n    \"browserify-incremental\": \"^3.1.1\"\n  }\n}\n\n\npackage.json\u304c\u7528\u610f\u3067\u304d\u305f\u3089\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057JavaScript\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n% npm install\n\n\n5. Hypernova/server\u306e\u8a2d\u5b9a\nRails.root\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bhypernova.js\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001Hypernova/server\u306b\u3042\u305f\u308b\u3082\u306e\u3067\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u3092\u53d7\u3051\u53d6\u308a\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u305fHTML\u3092\u8fd4\u3059\u30b5\u30fc\u30d0\u3067\u3059\u3002\u5185\u90e8\u3067\u306fexpress\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n\nhypernova.js\nconst hypernova = require('hypernova/server');\n\nhypernova({\n  devMode: true,\n\n  getComponent(name) {\n    if (name === 'MyComponent.js') {\n      return require('./app/assets/javascripts/MyComponent.js');\n    }\n    return null;\n  },\n\n  port: 3030,\n});\n\n\n\n6. Hypernova/ruby\u306e\u8a2d\u5b9a\nRuby(Rails)\u7528\u306eHypernova\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\nGemfile\u306b\u4ee5\u4e0b1\u884c\u3092\u8ffd\u52a0\u3057\u3001bundle install\u3092\u5b9f\u884c\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nGemfile\ngem \"hypernova\"\n\n\n\u7d9a\u3044\u3066\u3001Rails\u30a2\u30d7\u30ea\u304b\u3089\u5148\u307b\u3069\u306eHypernova/server\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n#{Rails.root}/config/initializers/hypernova.rb\u3068\u3057\u3066\u4ee5\u4e0b\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nconfig/initializers/hypernova.rb\nrequire 'hypernova'\n\nHypernova.configure do |config|\n  config.host = 'localhost'\n  config.port = 3030\nend\n\n\nconfig.port\u306b\u306f\u5148\u307b\u3069hypernova.js\u306b\u8a18\u8f09\u3057\u305f\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u305d\u306e\u4ed6\u3001\u3053\u308c\u306f\u5fc5\u9808\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30a8\u30e9\u30fc\u767a\u751f\u6642\u306b\u30d6\u30e9\u30a6\u30b6\u4e0a\u3067\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\u8a2d\u5b9a\u3082\u884c\u3044\u307e\u3059\u3002\u4e0b\u8a18\u3092Rails\u30a2\u30d7\u30ea\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\u4eca\u56de\u306f\u958b\u767a\u74b0\u5883\u7528\u306econfig/environments/development.rb\u306e\u672b\u5c3e\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\nconfig/environments/development.rb\nrequire 'hypernova'\nrequire 'hypernova/plugins/development_mode_plugin'\n\nHypernova.add_plugin!(DevelopmentModePlugin.new)\n\n\n\u3053\u308c\u306f\u3001Hypernova/ruby\u306b\u540c\u68b1\u3055\u308c\u3066\u3044\u308bDevelopment mode plugin\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n7. Hypernova/react\u3092\u4f7f\u7528\u3057\u305fReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\nprops.name\u3092\u53d7\u3051\u53d6\u3063\u3066\u8868\u793a\u3057\u3001\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30c8\u3092\u8868\u793a\u3059\u308b\u3060\u3051\u306e\u30b7\u30f3\u30d7\u30eb\u306aReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30d5\u30a1\u30a4\u30eb\u306f#{Rails.root}/app/assets/javascripts/\u306bMyComponent.js\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3068\u3057\u3066\u3044\u307e\u3059\u3002\nCommonJS\u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u95a2\u6570\u578b\u306eReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c\u3001React.createClass\u3067\u3082\u3001\uff08\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30e9\u3092\u5229\u7528\u3059\u308c\u3070\uff09ES2015\u306e\u30af\u30e9\u30b9\u69cb\u6587\u3092\u5229\u7528\u3057\u305fclass MyComponent exntends React.Component {\u306e\u66f8\u304d\u65b9\u3067\u3082Hypernova\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\napp/assets/javascripts/MyComponent.js\nvar React = require('react');\nvar renderReact = require('hypernova-react').renderReact;\n\nfunction MyComponent(props) {\n  return React.createElement('div', {\n    onClick: function () {\n      alert('Click handlers work.');\n    },\n  }, 'Hello, ' + props.name + '!');\n}\n\nmodule.exports = renderReact('MyComponent.js', MyComponent);\n\n\n\u3053\u3053\u3067\u91cd\u8981\u306a\u306e\u306frenderReact\u95a2\u6570\u3067\u3001\u3053\u308c\u304cHypernova/react\u306e\u63d0\u4f9b\u3059\u308b\u95a2\u6570\u3067\u3059\u3002\u7b2c\u4e00\u5f15\u6570\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\uff08\u30e6\u30cb\u30fc\u30af\u306a\u6587\u5b57\u5217\u306a\u3089\u306a\u3093\u3067\u3082OK\uff09\u3068\u3001\u7b2c\u4e8c\u5f15\u6570\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u53d7\u3051\u53d6\u308a\u3001Hypernova\u7528\u306e\u30e9\u30c3\u30d1\u30fc\u95a2\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u7b2c\u4e00\u5f15\u6570\u306b\u6307\u5b9a\u3057\u3066\u3044\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u304c\u3001\u5148\u307b\u3069\u306eHypernova/server\u304c\u53d7\u3051\u53d6\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u3068\u4e00\u81f4\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u5f8c\u307b\u3069\u51fa\u3066\u304f\u308bRails\u306eView\u3067\u547c\u3073\u51fa\u3055\u308c\u308b\u969b\u306b\u3082\u6307\u5b9a\u3055\u308c\u307e\u3059\u3002\n\n8. Rails\u30a2\u30d7\u30ea\u304b\u3089Hypernova\u547c\u3073\u51fa\u3057\nHypernova/ruby\u306f2\u3064\u306emethod\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002Hypernova\u306b\u3088\u308b\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308baround_filter\u306ehypernova_render_support\u3068\u3001React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092props\u3092\u6307\u5b9a\u3057\u3066View\u306b\u8aad\u307f\u8fbc\u3080render_react_component\u3067\u3059\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u4f7f\u7528\u3059\u308bController\u3068View\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\napp/controllers/welcome_controller.rb\nclass WelcomeController < ApplicationController\n  around_filter :hypernova_render_support\n  def index\n  end\nend\n\n\n\napp/views/welcome/index.html.erb\n<%= render_react_component('MyComponent.js', name: 'Hypernova') %>\n\n\nrender_react_component\u306e\u7b2c\u4e00\u5f15\u6570\u306f\u3001Hypernova/react\u306erenderReact\u95a2\u6570\u306e\u7b2c\u4e00\u5f15\u6570\u306b\u6307\u5b9a\u3057\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u7b2c\u4e8c\u5f15\u6570\u306fprops\u306a\u306e\u3067\u3001Rails\u304b\u3089JS\uff08React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\uff09\u3078\u306e\u5024\u306e\u5f15\u304d\u6e21\u3057\u306f\u3053\u3053\u3067\u884c\u3044\u307e\u3059\u3002\n\u3055\u3089\u306b\u3001View\u3067\u8aad\u307f\u8fbc\u3080JavaScript\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u3001app/views/layouts/application.html.erb\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002javascript_include_tag\u306e\u4f4d\u7f6e\u3092<head>\u5185\u304b\u3089</body>\u306e\u76f4\u524d\u3078\u79fb\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\n\napp/views/layouts/application.html.erb\n <!DOCTYPE html>\n <html>\n   <head>\n     <title>HypernovaGettingStartedWithRails</title>\n     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>\n-    <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>\n     <%= csrf_meta_tags %>\n   </head>\n   <body>\n\n   <%= yield %>\n\n+  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>\n   </body>\n </html>\n\n\n\n9. \u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\nRails\u30a2\u30d7\u30ea\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n% bin/rails server\n\n\u8d77\u52d5\u3057\u305f\u3089\u3001\u30d6\u30e9\u30a6\u30b6\u3067 http://localhost:3000/welcome/index \u3078\u30a2\u30af\u30bb\u30b9\u3057\u3001Hello, Hypernova!\u3068\u8868\u793a\u3055\u308c\u3001\u6587\u5b57\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30d6\u30e9\u30a6\u30b6\u30a2\u30e9\u30fc\u30c8\u30dc\u30c3\u30af\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002\n\u30da\u30fc\u30b8\u306e\u30bd\u30fc\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3068\u3001\u8a72\u5f53\u90e8\u5206\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n<div data-hypernova-key=\"MyComponentjs\"></div>\n<script type=\"application/json\" data-hypernova-key=\"MyComponentjs\"><!--{\"name\":\"Hypernova\"}--></script>\n\n\u3053\u308c\u306f\u3001 \u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3057\u3066\u3044\u306a\u3044 \u306e\u3067\u3059\u304c\u3001\u6b63\u3057\u304f\u30a2\u30d7\u30ea\u306f\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002\n\u901a\u5e38\u3001React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092DOM\u306b\u63cf\u753b\u3059\u308b\u5834\u5408\u306f\u3001ReactDOM.render\u95a2\u6570\u306a\u3069\u3092\u5229\u7528\u3057\u307e\u3059\u304c\u3001(7)\u306eHypernova/react\u306erenderReact\u95a2\u6570\u3082\u540c\u69d8\u306e\u6a5f\u80fd\u3092\u5099\u3048\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3059\u308b\nHypernova/server\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\u4ed6\u306e\u30b3\u30fc\u30c9\u306f\u5909\u66f4\u3057\u306a\u304f\u3066\u3082\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\u30b5\u30fc\u30d3\u30b9\u306e\u8d77\u52d5\u306fnode hypernova.js\u3092\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u5b9f\u884c\u3057\u307e\u3059\u3002\n% node hypernova.js\n2016-07-02T12:18:23.437Z - info: Connected\n{ port: 3030 }\n\n\u6b63\u5e38\u306b\u30b5\u30fc\u30d3\u30b9\u304c\u8d77\u52d5\u3059\u308b\u3068\u4e0a\u8a18\u306e\u3088\u3046\u306bConnected\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u3053\u306e\u72b6\u614b\u3067\u518d\u5ea6Rails\u30a2\u30d7\u30ea http://localhost:3000/welcome/index \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u8868\u793a\u5185\u5bb9\u3084\u30af\u30ea\u30c3\u30af\u6642\u306e\u52d5\u4f5c\u306f\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3057\u306a\u3044\u3068\u304d\u3068\u540c\u3058\u3067\u3059\u304c\u3001\u30da\u30fc\u30b8\u306e\u30bd\u30fc\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u76f4\u63a5HTML\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u51fa\u529b\u3055\u308c \u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3057\u3066\u3044\u308b \u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n<div data-hypernova-key=\"MyComponentjs\"><div data-reactroot=\"\" data-reactid=\"1\" data-react-checksum=\"-1229122185\">Hello, Hypernova!</div></div>\n<script type=\"application/json\" data-hypernova-key=\"MyComponentjs\"><!--{\"name\":\"Hypernova\"}--></script>\n\n\u3068\u3044\u3046\u611f\u3058\u3067\u3001\u7c21\u5358\u306b\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u3055\u3044\u3054\u306b\n\u672c\u8a18\u4e8b\u3067\u306f\u3001airbnb/hypernova\u3092\u4f7f\u3063\u3066Rails\u30a2\u30d7\u30ea\u3067React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5b9f\u73fe\u3059\u308b\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u8aac\u660e\u3057\u307e\u3057\u305f\u3002\nHypernova\u3092\u4f7f\u3046\u3068\u3001\u901a\u5e38\u3058\u3076\u3093\u3067\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u306e\u3042\u308b\u300c\u30b5\u30fc\u30d0\u5074\u3067\u547c\u3073\u51fa\u3055\u308c\u305f\u3068\u304d\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u51e6\u7406\u300d\u3068\u300c\u30d6\u30e9\u30a6\u30b6\u5074\u3067\u547c\u3073\u51fa\u3055\u308c\u305f\u3068\u304d\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u51e6\u7406\u300d\u3068\u300c\u305d\u306e\u5206\u5c90\u300d\u3092\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u80a9\u4ee3\u308f\u308a\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001\u610f\u8b58\u305b\u305a\u3068\u3082\u30e6\u30cb\u30d0\u30fc\u30b5\u30eb\u306aReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u5927\u5909\u697d\u3061\u3093\u3067\u3059\u3002\n\u305c\u3072\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u3082\u3057\u304a\u5f79\u306b\u7acb\u3061\u305d\u3046\u306a\u3089\u300c\u30b9\u30c8\u30c3\u30af\u300d\u3057\u3066\u3082\u3089\u3048\u308b\u3068\u5b09\u3057\u3044\u3067\u3059\u3002\n\u6b21\u56de\u306f\u3001Hypernova\u306b\u3088\u308b\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092Redux\u30b3\u30f3\u30c6\u30ca\u306b\u9069\u7528\u3059\u308b\u65b9\u6cd5\u3092\u66f8\u304f\u4e88\u5b9a\u3067\u3059\u3002\u304a\u697d\u3057\u307f\u306b\u3002\n\u66f8\u304d\u307e\u3057\u305f\uff1aRails\u3067Redux\u30b3\u30f3\u30c6\u30ca\u3092\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0 (use Hypernova by airbnb) - Qiita\n\n\n\u53c2\u8003\n\nhypernova/examples/simple at master \u00b7 airbnb/hypernova\n\n\n## \u306f\u3058\u3081\u306b\n\nRails\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308bJavaScript\u306e\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u7528\u30e9\u30a4\u30d6\u30e9\u30ea[airbnb/hypernova](https://github.com/airbnb/hypernova)\u304c\u3001airbnb\u304b\u3089\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u30b7\u30f3\u30d7\u30eb\u306aRails\u30a2\u30d7\u30ea\u3092\u69cb\u7bc9\u3057\u3001\u3053\u308c\u307e\u305f\u30b7\u30f3\u30d7\u30eb\u306aReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u8868\u793a\u3059\u308b\u307e\u3067\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002\n\nReact\u306b\u3088\u308bSPA\uff08\u30b7\u30f3\u30b0\u30eb\u30da\u30fc\u30b8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\uff09\u3082\u5897\u3048\u3001Google\u7b49\u306e\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3067\u3082\u3042\u308b\u7a0b\u5ea6\u306f\u30da\u30fc\u30b8\u5185\u5bb9\u3092\u89e3\u91c8\u3057\u3066\u304f\u308c\u308b\u3089\u3057\u3044\u3067\u3059\u304c\u3001\u30b5\u30fc\u30d0\u5074\u3067HTML\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u3066\u51fa\u529b\u3059\u308b\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3059\u308b\u3068\u3001\u3088\u308a\u6b63\u3057\u304f\u30da\u30fc\u30b8\u5185\u5bb9\u3092\u89e3\u91c8\u3057\u3066\u3082\u3089\u3048\u307e\u3059\u3002\n\n## Hypernova\u3068\u306f\n\n> A service for server-side rendering your JavaScript views\n\nHypernova\u306f\u3001JavaScript\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u3067\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306e\u30b5\u30fc\u30d3\u30b9\uff08\u30e9\u30a4\u30d6\u30e9\u30ea\u7fa4\uff09\u3067\u3059\u3002\n\n### Hypernova\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\n\n[\u516c\u5f0f\u306e\u56f3](https://github.com/airbnb/hypernova/blob/master/docs/hypernova-how-it-works.png)\u304c\u5206\u304b\u308a\u3065\u3089\u3044\u306e\u3067\u3001\u30b7\u30fc\u30b1\u30f3\u30b9\u56f3\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n![](https://qiita-image-store.s3.amazonaws.com/0/6368/ab05a8cf-9e86-881e-fa90-fbbb1c7ee704.png)\n\n\u56f3\u4e2d\u306eHypernova\u95a2\u9023\u306e\u767b\u5834\u4eba\u7269\u3068\u3001\u4ee3\u8868\u7684\u306a\u5f79\u5272\u306f\u4ee5\u4e0b\u306e3\u3064\u3067\u3059\u3002\n\n| \u767b\u5834\u4eba\u7269 | \u30e9\u30a4\u30d6\u30e9\u30ea | \u5f79\u5272 |\n|:--------|:---------|:----|\n| Hypernova/ruby | [airbnb/hypernova-ruby](https://github.com/airbnb/hypernova-ruby) | Hypernova\u306eRuby\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067Rails\u7528\u306eFilter\u3084Helper method\u3092\u63d0\u4f9b\u3057\u307e\u3059 |\n| Hypernova/server | [airbnb/hypernova](https://github.com/airbnb/hypernova) | Hypernova\u306e\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u62c5\u3046\u30a8\u30f3\u30b8\u30f3\u3067\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8aad\u307f\u8fbc\u3093\u3067HTML\u5316\u3057\u307e\u3059 |\n| Hypernova/react | [airbnb/hypernova-react](https://github.com/airbnb/hypernova-react) | React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u7528\u306e\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u3067\u3001Hypernova/server\u7528\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u3068\u3068\u3082\u306b\u76f4\u63a5\u30d6\u30e9\u30a6\u30b6\u3067\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3082\u5927\u4e08\u592b\u306a\u6a5f\u69cb(fall-back)\u3092\u5099\u3048\u307e\u3059 |\n\nHypernova\u306e\u30b3\u30a2\u306f`Hypernova/server`\u3068`Hypernova/react`\u306e2\u3064\u3067\u3001\u524d\u8005\u304c\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u62c5\u3044\u3001\u5f8c\u8005\u304c`ReactDOM.render`\u306e\u30e9\u30c3\u30d1\u30fc\u3067React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092Universal\u5316\uff08\u30b5\u30fc\u30d0\u5074\u3067\u3082\u30d6\u30e9\u30a6\u30b6\u5074\u3067\u3082\u5b9f\u884c\u53ef\u80fd\u306b\u3059\u308b\u3053\u3068\uff09\u3057\u307e\u3059\u3002\n\n\u307e\u305f\u3001\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3057\u3066\u8868\u793a\u3057\u305f\u30da\u30fc\u30b8\u3067\u3082\u3001\u30e6\u30fc\u30b6\u306e\u64cd\u4f5c\u306b\u3088\u308bReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5909\u5316\u304c\u6b63\u3057\u304f\u52d5\u4f5c\u3059\u308b\u3088\u3046\u8a2d\u8a08\u30fb\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n## Hypernova\u3092\u4f7f\u3063\u305f\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\n\n\u305d\u308c\u3067\u306f\u3001\u5b9f\u969b\u306bHypernova\u306b\u3088\u308bReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308bRails\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n### \u74b0\u5883\u30fb\u30d0\u30fc\u30b8\u30e7\u30f3\n\n```sh\n# mac\nMacBook Air (13-inch, Mid 2012) - OS X El Capitan (10.11.5)\n\n# ruby/rails\n% ruby -v\nruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-darwin15]\n% gem -v\n2.5.1\n% rails -v\nRails 4.2.6\n\n# node/npm\n% node -v\nv5.5.0\n% npm -v\n3.7.1\n```\n\n### 1. Rails\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n\u7279\u5225\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u306a\u3069\u306f\u4e0d\u8981\u3067\u3059\u3002\n\n```sh\n% rails new hypernova-getting-started-with-rails\n```\n\n### 2. Controller\u306e\u4f5c\u6210\n`/welcome/index`\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3068\u304d\u306b\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```sh\n% bin/rails generate controller welcome index\n```\n\n### 3. browserify-rails\u306e\u5c0e\u5165\nRails\u30a2\u30d7\u30ea\u4e0a\u3067CommonJS\u3092\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306b`browserify-rails`\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n`browserify-rails`\u306b\u9650\u3089\u305a\u3001React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u30d6\u30e9\u30a6\u30b6\u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u3067\u304d\u308c\u3070\u4f55\u3067\u3082\u826f\u3044\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u3082\u3063\u3068\u3082\u7c21\u5358\u306a`browserify-rails`\u3092\u9078\u3073\u307e\u3057\u305f\u3002\n\n`Gemfile`\u306b\u4ee5\u4e0b1\u884c\u3092\u8ffd\u52a0\u3057\u3001`bundle install`\u3092\u5b9f\u884c\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```rb:Gemfile\ngem \"browserify-rails\"\n```\n\n```sh\n% bundle install\nInstalling browserify-rails 3.1.0\n```\n\n### 4. JavaScript\u306e\u74b0\u5883\u8a2d\u5b9a (package.json)\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067`package.json`\u3092\u4f5c\u6210\u3057\u3001\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u60c5\u5831\u306a\u3069\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```sh\n% npm init -y\n```\n\n```json:package.json\n{\n  \"name\": \"hypernova-getting-started-with-rails\",\n  \"version\": \"1.0.0\",\n  \"description\": \"A sample Rails application that uses Hypernova to server render.\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\"\"\n  },\n  \"author\": \"Noriaki Uchiyama\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"hypernova\": \"^1.0.0\",\n    \"hypernova-react\": \"^1.0.0\",\n    \"react\": \"^15.1.0\",\n    \"react-dom\": \"^15.1.0\"\n  },\n  \"devDependencies\": {\n    \"browserify\": \"^13.0.1\",\n    \"browserify-incremental\": \"^3.1.1\"\n  }\n}\n```\n\n`package.json`\u304c\u7528\u610f\u3067\u304d\u305f\u3089\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057JavaScript\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```sh\n% npm install\n```\n\n### 5. Hypernova/server\u306e\u8a2d\u5b9a\n`Rails.root`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b`hypernova.js`\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001`Hypernova/server`\u306b\u3042\u305f\u308b\u3082\u306e\u3067\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u3092\u53d7\u3051\u53d6\u308a\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u305fHTML\u3092\u8fd4\u3059\u30b5\u30fc\u30d0\u3067\u3059\u3002\u5185\u90e8\u3067\u306f`express`\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n\n```js:hypernova.js\nconst hypernova = require('hypernova/server');\n\nhypernova({\n  devMode: true,\n\n  getComponent(name) {\n    if (name === 'MyComponent.js') {\n      return require('./app/assets/javascripts/MyComponent.js');\n    }\n    return null;\n  },\n\n  port: 3030,\n});\n```\n\n### 6. Hypernova/ruby\u306e\u8a2d\u5b9a\nRuby(Rails)\u7528\u306eHypernova\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n`Gemfile`\u306b\u4ee5\u4e0b1\u884c\u3092\u8ffd\u52a0\u3057\u3001`bundle install`\u3092\u5b9f\u884c\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```rb:Gemfile\ngem \"hypernova\"\n```\n\n\u7d9a\u3044\u3066\u3001Rails\u30a2\u30d7\u30ea\u304b\u3089\u5148\u307b\u3069\u306e`Hypernova/server`\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n`#{Rails.root}/config/initializers/hypernova.rb`\u3068\u3057\u3066\u4ee5\u4e0b\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```rb:config/initializers/hypernova.rb\nrequire 'hypernova'\n\nHypernova.configure do |config|\n  config.host = 'localhost'\n  config.port = 3030\nend\n```\n\n`config.port`\u306b\u306f\u5148\u307b\u3069`hypernova.js`\u306b\u8a18\u8f09\u3057\u305f\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\u305d\u306e\u4ed6\u3001\u3053\u308c\u306f\u5fc5\u9808\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30a8\u30e9\u30fc\u767a\u751f\u6642\u306b\u30d6\u30e9\u30a6\u30b6\u4e0a\u3067\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\u8a2d\u5b9a\u3082\u884c\u3044\u307e\u3059\u3002\u4e0b\u8a18\u3092Rails\u30a2\u30d7\u30ea\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\u4eca\u56de\u306f\u958b\u767a\u74b0\u5883\u7528\u306e`config/environments/development.rb`\u306e\u672b\u5c3e\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```rb:config/environments/development.rb\nrequire 'hypernova'\nrequire 'hypernova/plugins/development_mode_plugin'\n\nHypernova.add_plugin!(DevelopmentModePlugin.new)\n```\n\n\u3053\u308c\u306f\u3001`Hypernova/ruby`\u306b\u540c\u68b1\u3055\u308c\u3066\u3044\u308bDevelopment mode plugin\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n### 7. Hypernova/react\u3092\u4f7f\u7528\u3057\u305fReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n`props.name`\u3092\u53d7\u3051\u53d6\u3063\u3066\u8868\u793a\u3057\u3001\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30c8\u3092\u8868\u793a\u3059\u308b\u3060\u3051\u306e\u30b7\u30f3\u30d7\u30eb\u306aReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30d5\u30a1\u30a4\u30eb\u306f`#{Rails.root}/app/assets/javascripts/`\u306b`MyComponent.js`\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\nCommonJS\u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u95a2\u6570\u578b\u306eReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c\u3001`React.createClass`\u3067\u3082\u3001\uff08\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30e9\u3092\u5229\u7528\u3059\u308c\u3070\uff09ES2015\u306e\u30af\u30e9\u30b9\u69cb\u6587\u3092\u5229\u7528\u3057\u305f`class MyComponent exntends React.Component {`\u306e\u66f8\u304d\u65b9\u3067\u3082`Hypernova`\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\n```js:app/assets/javascripts/MyComponent.js\nvar React = require('react');\nvar renderReact = require('hypernova-react').renderReact;\n\nfunction MyComponent(props) {\n  return React.createElement('div', {\n    onClick: function () {\n      alert('Click handlers work.');\n    },\n  }, 'Hello, ' + props.name + '!');\n}\n\nmodule.exports = renderReact('MyComponent.js', MyComponent);\n```\n\n\u3053\u3053\u3067\u91cd\u8981\u306a\u306e\u306f`renderReact`\u95a2\u6570\u3067\u3001\u3053\u308c\u304c`Hypernova/react`\u306e\u63d0\u4f9b\u3059\u308b\u95a2\u6570\u3067\u3059\u3002\u7b2c\u4e00\u5f15\u6570\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\uff08\u30e6\u30cb\u30fc\u30af\u306a\u6587\u5b57\u5217\u306a\u3089\u306a\u3093\u3067\u3082OK\uff09\u3068\u3001\u7b2c\u4e8c\u5f15\u6570\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u53d7\u3051\u53d6\u308a\u3001`Hypernova`\u7528\u306e\u30e9\u30c3\u30d1\u30fc\u95a2\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\u3053\u3053\u3067\u7b2c\u4e00\u5f15\u6570\u306b\u6307\u5b9a\u3057\u3066\u3044\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u304c\u3001\u5148\u307b\u3069\u306e`Hypernova/server`\u304c\u53d7\u3051\u53d6\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u3068\u4e00\u81f4\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u5f8c\u307b\u3069\u51fa\u3066\u304f\u308bRails\u306eView\u3067\u547c\u3073\u51fa\u3055\u308c\u308b\u969b\u306b\u3082\u6307\u5b9a\u3055\u308c\u307e\u3059\u3002\n\n### 8. Rails\u30a2\u30d7\u30ea\u304b\u3089Hypernova\u547c\u3073\u51fa\u3057\n`Hypernova/ruby`\u306f2\u3064\u306emethod\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002Hypernova\u306b\u3088\u308b\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b`around_filter`\u306e`hypernova_render_support`\u3068\u3001React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092`props`\u3092\u6307\u5b9a\u3057\u3066View\u306b\u8aad\u307f\u8fbc\u3080`render_react_component`\u3067\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u4f7f\u7528\u3059\u308bController\u3068View\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\n```rb:app/controllers/welcome_controller.rb\nclass WelcomeController < ApplicationController\n  around_filter :hypernova_render_support\n  def index\n  end\nend\n```\n\n```html+erb:app/views/welcome/index.html.erb\n<%= render_react_component('MyComponent.js', name: 'Hypernova') %>\n```\n\n`render_react_component`\u306e\u7b2c\u4e00\u5f15\u6570\u306f\u3001`Hypernova/react`\u306e`renderReact`\u95a2\u6570\u306e\u7b2c\u4e00\u5f15\u6570\u306b\u6307\u5b9a\u3057\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u7b2c\u4e8c\u5f15\u6570\u306f`props`\u306a\u306e\u3067\u3001Rails\u304b\u3089JS\uff08React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\uff09\u3078\u306e\u5024\u306e\u5f15\u304d\u6e21\u3057\u306f\u3053\u3053\u3067\u884c\u3044\u307e\u3059\u3002\n\n\u3055\u3089\u306b\u3001View\u3067\u8aad\u307f\u8fbc\u3080JavaScript\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u3001`app/views/layouts/application.html.erb`\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002`javascript_include_tag`\u306e\u4f4d\u7f6e\u3092`<head>`\u5185\u304b\u3089`</body>`\u306e\u76f4\u524d\u3078\u79fb\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\n\n```udiff:app/views/layouts/application.html.erb\n <!DOCTYPE html>\n <html>\n   <head>\n     <title>HypernovaGettingStartedWithRails</title>\n     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>\n-    <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>\n     <%= csrf_meta_tags %>\n   </head>\n   <body>\n \n   <%= yield %>\n \n+  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>\n   </body>\n </html>\n```\n\n### 9. \u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\nRails\u30a2\u30d7\u30ea\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```sh\n% bin/rails server\n```\n\n\u8d77\u52d5\u3057\u305f\u3089\u3001\u30d6\u30e9\u30a6\u30b6\u3067 http://localhost:3000/welcome/index \u3078\u30a2\u30af\u30bb\u30b9\u3057\u3001`Hello, Hypernova!`\u3068\u8868\u793a\u3055\u308c\u3001\u6587\u5b57\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30d6\u30e9\u30a6\u30b6\u30a2\u30e9\u30fc\u30c8\u30dc\u30c3\u30af\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002\n\n\u30da\u30fc\u30b8\u306e\u30bd\u30fc\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3068\u3001\u8a72\u5f53\u90e8\u5206\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```js+erb\n<div data-hypernova-key=\"MyComponentjs\"></div>\n<script type=\"application/json\" data-hypernova-key=\"MyComponentjs\"><!--{\"name\":\"Hypernova\"}--></script>\n```\n\n\u3053\u308c\u306f\u3001 **\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3057\u3066\u3044\u306a\u3044** \u306e\u3067\u3059\u304c\u3001\u6b63\u3057\u304f\u30a2\u30d7\u30ea\u306f\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u901a\u5e38\u3001React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092DOM\u306b\u63cf\u753b\u3059\u308b\u5834\u5408\u306f\u3001`ReactDOM.render`\u95a2\u6570\u306a\u3069\u3092\u5229\u7528\u3057\u307e\u3059\u304c\u3001(7)\u306e`Hypernova/react`\u306e`renderReact`\u95a2\u6570\u3082\u540c\u69d8\u306e\u6a5f\u80fd\u3092\u5099\u3048\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n#### \u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3059\u308b\n`Hypernova/server`\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\u4ed6\u306e\u30b3\u30fc\u30c9\u306f\u5909\u66f4\u3057\u306a\u304f\u3066\u3082\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\u30b5\u30fc\u30d3\u30b9\u306e\u8d77\u52d5\u306f`node hypernova.js`\u3092\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```sh\n% node hypernova.js\n2016-07-02T12:18:23.437Z - info: Connected\n{ port: 3030 }\n```\n\n\u6b63\u5e38\u306b\u30b5\u30fc\u30d3\u30b9\u304c\u8d77\u52d5\u3059\u308b\u3068\u4e0a\u8a18\u306e\u3088\u3046\u306b`Connected`\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\u3053\u306e\u72b6\u614b\u3067\u518d\u5ea6Rails\u30a2\u30d7\u30ea http://localhost:3000/welcome/index \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u8868\u793a\u5185\u5bb9\u3084\u30af\u30ea\u30c3\u30af\u6642\u306e\u52d5\u4f5c\u306f\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3057\u306a\u3044\u3068\u304d\u3068\u540c\u3058\u3067\u3059\u304c\u3001\u30da\u30fc\u30b8\u306e\u30bd\u30fc\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u76f4\u63a5HTML\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u51fa\u529b\u3055\u308c **\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3057\u3066\u3044\u308b** \u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n```js+erb\n<div data-hypernova-key=\"MyComponentjs\"><div data-reactroot=\"\" data-reactid=\"1\" data-react-checksum=\"-1229122185\">Hello, Hypernova!</div></div>\n<script type=\"application/json\" data-hypernova-key=\"MyComponentjs\"><!--{\"name\":\"Hypernova\"}--></script>\n```\n\n\u3068\u3044\u3046\u611f\u3058\u3067\u3001\u7c21\u5358\u306b\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n## \u3055\u3044\u3054\u306b\n\u672c\u8a18\u4e8b\u3067\u306f\u3001[airbnb/hypernova](https://github.com/airbnb/hypernova)\u3092\u4f7f\u3063\u3066Rails\u30a2\u30d7\u30ea\u3067React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u5b9f\u73fe\u3059\u308b\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u8aac\u660e\u3057\u307e\u3057\u305f\u3002\n\n`Hypernova`\u3092\u4f7f\u3046\u3068\u3001\u901a\u5e38\u3058\u3076\u3093\u3067\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u306e\u3042\u308b\u300c\u30b5\u30fc\u30d0\u5074\u3067\u547c\u3073\u51fa\u3055\u308c\u305f\u3068\u304d\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u51e6\u7406\u300d\u3068\u300c\u30d6\u30e9\u30a6\u30b6\u5074\u3067\u547c\u3073\u51fa\u3055\u308c\u305f\u3068\u304d\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u51e6\u7406\u300d\u3068\u300c\u305d\u306e\u5206\u5c90\u300d\u3092\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u80a9\u4ee3\u308f\u308a\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001\u610f\u8b58\u305b\u305a\u3068\u3082\u30e6\u30cb\u30d0\u30fc\u30b5\u30eb\u306aReact\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u5927\u5909\u697d\u3061\u3093\u3067\u3059\u3002\n\n\u305c\u3072\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u3082\u3057\u304a\u5f79\u306b\u7acb\u3061\u305d\u3046\u306a\u3089\u300c\u30b9\u30c8\u30c3\u30af\u300d\u3057\u3066\u3082\u3089\u3048\u308b\u3068\u5b09\u3057\u3044\u3067\u3059\u3002\n\n\u6b21\u56de\u306f\u3001`Hypernova`\u306b\u3088\u308b\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092`Redux`\u30b3\u30f3\u30c6\u30ca\u306b\u9069\u7528\u3059\u308b\u65b9\u6cd5\u3092\u66f8\u304f\u4e88\u5b9a\u3067\u3059\u3002\u304a\u697d\u3057\u307f\u306b\u3002\n\n\u66f8\u304d\u307e\u3057\u305f\uff1a[Rails\u3067Redux\u30b3\u30f3\u30c6\u30ca\u3092\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0 (use Hypernova by airbnb) - Qiita](http://qiita.com/noriaki/items/38fd9e9619c41ad74301)\n\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\"><a href=\"https://twitter.com/hashtag/airbnb?src=hash\">#airbnb</a> \u88fd\u306eRails\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308bJS\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u306eHypernova\u306b\u306f <a href=\"https://twitter.com/hashtag/React?src=hash\">#React</a> \u7528\u306e\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u306f\u3042\u308b\u3093\u3060\u3051\u3069 <a href=\"https://twitter.com/hashtag/Redux?src=hash\">#Redux</a> (react-redux)\u7528\u306e\u3082\u306e\u304c\u7121\u304b\u3063\u305f\u306e\u3067\u66f8\u3044\u305f <a href=\"https://t.co/55eKymLGD4\">https://t.co/55eKymLGD4</a></p>&mdash; \u5185\u5c71\u7d00\u660e(N.UCHIYAMA) (@noriaki) <a href=\"https://twitter.com/noriaki/status/748484384991248384\">June 30, 2016</a></blockquote>\n\n\n## \u53c2\u8003\n\n- [hypernova/examples/simple at master \u00b7 airbnb/hypernova](https://github.com/airbnb/hypernova/tree/master/examples/simple)\n", "tags": ["hypernova", "React", "Rails", "reactjs", "react.js"]}