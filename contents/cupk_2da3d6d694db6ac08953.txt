{"context": " More than 1 year has passed since last update.tmlib.js \u3067Checkbox\u3092Splite\u3067\u5b9f\u88c5\u3059\u308b\u3002\n\u30a4\u30e1\u30fc\u30b8\u3068\u30b5\u30a4\u30ba\u306f\u4efb\u610f\u3002\n\u7701\u7565\u3059\u308b\u3068\u3000\u753b\u50cf->\u56fa\u5b9a\u540d\u3067\u753b\u50cf\u3092\u6307\u5b9a\u3000\u30b5\u30a4\u30ba->\u30c1\u30a7\u30c3\u30afON\u306e\u753b\u50cf\u30b5\u30a4\u30ba\u3000\u3092\u8aad\u3080\u3002\njsdo.it\u306b\u30b5\u30f3\u30d7\u30eb\u7f6e\u304d\u307e\u3057\u305f\u3002\n/**\n * \u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u30af\u30e9\u30b9\n */\nvar Checkbox = tm.createClass({\n    superClass: tm.app.Sprite,\n\n    trueImage: null,\n    falseImage: null,\n    disabledImage: null,\n\n    disabled: false,\n    checked: false,\n\n    init: function(x, y, trueImg, falseImg, disabledImg, width, height) {\n        // \u753b\u50cf\u6307\u5b9a\u7121\u3057\u306a\u3089\u6a19\u6e96\u306e\u3092\u6307\u5b9a\n        this.trueImage = (trueImg == null) ? \"checked\" : trueImg;\n        this.falseImage = (falseImg == null) ? \"nochecked\" : falseImg;\n        this.disabledImage = (falseImg == null) ? \"disablechecked\" : disabledImg;\n\n        // \u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u30b5\u30a4\u30ba\u6307\u5b9a\u7121\u3057\u306a\u3089\u30c1\u30a7\u30c3\u30afON\u753b\u50cf\u306e\u30b5\u30a4\u30ba\u3092\u4f7f\u7528\n        var img = tm.graphics.TextureManager.get(this.trueImage);\n        if (width == null) { width = img.width; }\n        if (height == null) { height = img.height; }\n        this.superInit(width, height);\n        this.setPosition(x, y);\n\n        // \u30de\u30a6\u30b9\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u5316\n        this.interaction.enabled = true;\n        this.interaction.boundingType = \"rect\";\n    },\n\n    update: function() {\n        this.setCheckImage();\n    },\n\n    // \u30c1\u30a7\u30c3\u30af\u5207\u308a\u66ff\u3048\n    onpointingend: function() {\n        if (this.disabled) return;\n        this.checked = !this.checked;\n    },\n\n    // \u30a4\u30e1\u30fc\u30b8\u306e\u5207\u308a\u66ff\u3048\n    setCheckImage: function() {\n        if (this.disabled) {\n            this.image = this.disabledImage;\n            return;\n        }\n        this.image = this.checked ? this.trueImage : this.falseImage;\n    },\n\n    setDisabled: function(stat) {\n        this.disabled = stat;\n    },\n\n    setChecked: function(stat) {\n        this.checked = stat;\n    },\n});\n\n\u4f7f\u7528\u4f8b\uff08Checkbox\u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\u306f\u7701\u7565\uff09\n/*\n * constant\n */\nvar SCREEN_WIDTH    = 640;\nvar SCREEN_HEIGHT   = 920;\nvar SCREEN_CENTER_X = SCREEN_WIDTH / 2;\nvar SCREEN_CENTER_Y = SCREEN_HEIGHT / 2;\n\n// \u753b\u50cf\u306e\u30d7\u30ea\u30ed\u30fc\u30c9\ntm.preload(function(){\n    tm.graphics.TextureManager.add(\"checked\", \"checked.png\");\n    tm.graphics.TextureManager.add(\"nochecked\", \"nochecked.png\");\n    tm.graphics.TextureManager.add(\"disablechecked\", \"disablechecked.png\");\n});\n\n/*\n * \u30e1\u30a4\u30f3\u51e6\u7406(\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u308b)\n */\ntm.main(function() {\n\n    // \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210\n    var app = tm.app.CanvasApp(\"#world\");\n    app.resize(SCREEN_WIDTH, SCREEN_HEIGHT); // \u30ea\u30b5\u30a4\u30ba\n    app.fitWindow();    // \u81ea\u52d5\u30d5\u30a3\u30c3\u30c8\n    app.background = \"white\";\n\n    // \u30b7\u30fc\u30f3\u3092\u5207\u308a\u66ff\u3048\u308b\n    app.replaceScene(MainScene());\n\n    // \u5b9f\u884c\n    app.run();\n});\n\n\ntm.define(\"MainScene\", {\n    superClass: \"tm.app.Scene\",\n\n    init: function() {\n        // \u89aa\u306e\u521d\u671f\u5316\n        this.superInit();\n\n        // \u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u8868\u793a\n        Checkbox(300, 40).addChildTo(this);                      // nocheck\n        Checkbox(300, 110).addChildTo(this).setChecked(true);    // checked\n        Checkbox(300, 180).addChildTo(this).setDisabled(true);   // disable\n    },\n});\n\n\u3053\u3046\u306a\u308b\u3002\n\ntmlib.js \u3067Checkbox\u3092Splite\u3067\u5b9f\u88c5\u3059\u308b\u3002\n\u30a4\u30e1\u30fc\u30b8\u3068\u30b5\u30a4\u30ba\u306f\u4efb\u610f\u3002\n\u7701\u7565\u3059\u308b\u3068\u3000\u753b\u50cf->\u56fa\u5b9a\u540d\u3067\u753b\u50cf\u3092\u6307\u5b9a\u3000\u30b5\u30a4\u30ba->\u30c1\u30a7\u30c3\u30afON\u306e\u753b\u50cf\u30b5\u30a4\u30ba\u3000\u3092\u8aad\u3080\u3002\n\n[jsdo.it\u306b\u30b5\u30f3\u30d7\u30eb\u7f6e\u304d\u307e\u3057\u305f\u3002](http://jsdo.it/cupk/8AFDr)\n\n```js:\n/**\n * \u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u30af\u30e9\u30b9\n */\nvar Checkbox = tm.createClass({\n\tsuperClass: tm.app.Sprite,\n\t\n\ttrueImage: null,\n\tfalseImage: null,\n\tdisabledImage: null,\n\t\n\tdisabled: false,\n\tchecked: false,\n\t\n\tinit: function(x, y, trueImg, falseImg, disabledImg, width, height) {\n\t\t// \u753b\u50cf\u6307\u5b9a\u7121\u3057\u306a\u3089\u6a19\u6e96\u306e\u3092\u6307\u5b9a\n\t\tthis.trueImage = (trueImg == null) ? \"checked\" : trueImg;\n\t\tthis.falseImage = (falseImg == null) ? \"nochecked\" : falseImg;\n\t\tthis.disabledImage = (falseImg == null) ? \"disablechecked\" : disabledImg;\n\t\t\n\t\t// \u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u30b5\u30a4\u30ba\u6307\u5b9a\u7121\u3057\u306a\u3089\u30c1\u30a7\u30c3\u30afON\u753b\u50cf\u306e\u30b5\u30a4\u30ba\u3092\u4f7f\u7528\n\t\tvar img = tm.graphics.TextureManager.get(this.trueImage);\n\t\tif (width == null) { width = img.width; }\n\t\tif (height == null) { height = img.height; }\n\t\tthis.superInit(width, height);\n\t\tthis.setPosition(x, y);\n\t\t\n\t\t// \u30de\u30a6\u30b9\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u5316\n\t\tthis.interaction.enabled = true;\n\t\tthis.interaction.boundingType = \"rect\";\n\t},\n\t\n\tupdate: function() {\n\t\tthis.setCheckImage();\n\t},\n\t\n\t// \u30c1\u30a7\u30c3\u30af\u5207\u308a\u66ff\u3048\n\tonpointingend: function() {\n\t\tif (this.disabled) return;\n\t\tthis.checked = !this.checked;\n\t},\n\t\n\t// \u30a4\u30e1\u30fc\u30b8\u306e\u5207\u308a\u66ff\u3048\n\tsetCheckImage: function() {\n\t\tif (this.disabled) {\n\t\t\tthis.image = this.disabledImage;\n\t\t\treturn;\n\t\t}\n\t\tthis.image = this.checked ? this.trueImage : this.falseImage;\n\t},\n\t\n\tsetDisabled: function(stat) {\n\t\tthis.disabled = stat;\n\t},\n\t\n\tsetChecked: function(stat) {\n\t\tthis.checked = stat;\n\t},\n});\n```\n\n\n\u4f7f\u7528\u4f8b\uff08Checkbox\u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\u306f\u7701\u7565\uff09\n\n```js:\n/*\n * constant\n */\nvar SCREEN_WIDTH    = 640;\nvar SCREEN_HEIGHT   = 920;\nvar SCREEN_CENTER_X = SCREEN_WIDTH / 2;\nvar SCREEN_CENTER_Y = SCREEN_HEIGHT / 2;\n\n// \u753b\u50cf\u306e\u30d7\u30ea\u30ed\u30fc\u30c9\ntm.preload(function(){\n\ttm.graphics.TextureManager.add(\"checked\", \"checked.png\");\n\ttm.graphics.TextureManager.add(\"nochecked\", \"nochecked.png\");\n\ttm.graphics.TextureManager.add(\"disablechecked\", \"disablechecked.png\");\n});\n\n/*\n * \u30e1\u30a4\u30f3\u51e6\u7406(\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u308b)\n */\ntm.main(function() {\n\t\n\t// \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210\n\tvar app = tm.app.CanvasApp(\"#world\");\n\tapp.resize(SCREEN_WIDTH, SCREEN_HEIGHT); // \u30ea\u30b5\u30a4\u30ba\n\tapp.fitWindow();    // \u81ea\u52d5\u30d5\u30a3\u30c3\u30c8\n\tapp.background = \"white\";\n\t\n\t// \u30b7\u30fc\u30f3\u3092\u5207\u308a\u66ff\u3048\u308b\n\tapp.replaceScene(MainScene());\n\t\n\t// \u5b9f\u884c\n\tapp.run();\n});\n\n\ntm.define(\"MainScene\", {\n\tsuperClass: \"tm.app.Scene\",\n\t\n\tinit: function() {\n\t\t// \u89aa\u306e\u521d\u671f\u5316\n\t\tthis.superInit();\n\t\t\n\t\t// \u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u8868\u793a\n\t\tCheckbox(300, 40).addChildTo(this);                      // nocheck\n\t\tCheckbox(300, 110).addChildTo(this).setChecked(true);    // checked\n\t\tCheckbox(300, 180).addChildTo(this).setDisabled(true);   // disable\n\t},\n});\n```\n\n\u3053\u3046\u306a\u308b\u3002\n\n![cbsample.png](https://qiita-image-store.s3.amazonaws.com/0/25969/7ccaff71-4210-e0e7-5cc2-ea0231800ceb.png)", "tags": ["JavaScript", "tmlib.js"]}