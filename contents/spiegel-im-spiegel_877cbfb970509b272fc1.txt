{"context": " More than 1 year has passed since last update.\u524d\u56de\u306f MSYS2 \u3067 MinGW-w64 \u306e\u74b0\u5883\u3092\u5165\u308c\u308b\u3068\u3053\u308d\u3067\u7d42\u308f\u3063\u3066\u3057\u307e\u3044\uff0c\uff08\u305d\u306e\u5f8c\u4ed5\u4e8b\u304c\u5fd9\u3057\u304f\u306a\u3063\u305f\u3053\u3068\u3082\u3042\u308a\uff09\u305d\u306e\u307e\u307e\u6295\u3052\u3063\u3071\u306a\u3057\u306e\u72b6\u614b\u3060\u3063\u305f\u304c\uff0c\u3068\u308a\u3042\u3048\u305a gcc \u306e\u52d5\u4f5c\u78ba\u8a8d\u307e\u3067\u7d42\u308f\u3089\u305b\u3066\u304a\u304f\u3002\u305d\u3046\u305d\u3046\uff0c pacman -Syu \u3067\u6700\u65b0\u7248\u306b\u66f4\u65b0\u3059\u308b\u306e\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3002\n\u4eca\u56de\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u306f pgpdump\u3002\npgpdump \u306f OpenPGP \u30d1\u30b1\u30c3\u30c8\u3092\u53ef\u8996\u5316\u3057\u3066\u304f\u308c\u308b\uff08\u305f\u3060\u3057\u5fa9\u53f7\u306f\u884c\u308f\u306a\u3044\uff09\u4fbf\u5229\u30c4\u30fc\u30eb\u3060\u3002\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u307f\u306e\u63d0\u4f9b\u3067\u30d0\u30a4\u30ca\u30ea\u306f\u63d0\u4f9b\u3055\u308c\u3066\u306a\u3044\uff08\u305f\u3060\u3057 Linux \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30bf\u306b\u3088\u3063\u3066\u306f\u30d0\u30a4\u30ca\u30ea\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u5834\u5408\u304c\u3042\u308b\uff09\u3002\u30d3\u30eb\u30c9\u3059\u308c\u3070 Windows \u74b0\u5883\u3067\u3082\u52d5\u4f5c\u53ef\u80fd\u3002\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f GitHub \u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\uff0c\u3042\u3089\u304b\u3058\u3081 git clone \u3067\u53d6\u5f97\u3057\u3066\u304a\u304f\u3002\n\nkazu-yamamoto/pgpdump\n\n\nWin32 \u7248\u306e\u30d3\u30eb\u30c9\n\u307e\u305a\u306f mingw32_shell.bat \u3092\u8d77\u52d5\u3057\u3066 Win32 \u306e\u74b0\u5883\u3092\u7acb\u3061\u4e0a\u3052\u308b\uff08mingw32_shell.bat \u3063\u3066\u4f55\uff1f \u3063\u3066\u304b\u305f\u306f\u524d\u56de\u306e\u8a18\u4e8b\u3092\u53c2\u7167\u3042\u308c\uff09\u3002\n\u307e\u305a\u306f configure \u3092\u8d70\u3089\u305b\u3066\u74b0\u5883\u3092\u78ba\u8a8d\u3059\u308b\u3002\n$ ./configure\nchecking for gcc... gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.exe\nchecking for suffix of executables... .exe\nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ISO C89... none needed\nchecking for inflate in -lz... yes\nchecking for BZ2_bzBuffToBuffDecompress in -lbz2... yes\nchecking how to run the C preprocessor... gcc -E\nchecking for grep that handles long lines and -e... /usr/bin/grep\nchecking for egrep... /usr/bin/grep -E\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for unistd.h... yes\nchecking for unistd.h... (cached) yes\nchecking sys/time.h usability... yes\nchecking sys/time.h presence... yes\nchecking for sys/time.h... yes\nchecking unixlib/local.h usability... no\nchecking unixlib/local.h presence... no\nchecking for unixlib/local.h... no\nchecking whether time.h and sys/time.h may both be included... yes\nchecking whether struct tm is in sys/time.h or time.h... time.h\nchecking for struct tm.tm_zone... no\nchecking whether tzname is declared... yes\nchecking for tzname... yes\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: WARNING:  'Makefile.in' seems to ignore the --datarootdir setting\nconfig.status: creating config.h\n\n\u7279\u306b\u30a8\u30e9\u30fc\u3082\u306a\u304f\u7d42\u4e86\u3002\npgpdump \u3067\u306f\uff0c\u30d1\u30b1\u30c3\u30c8\u5185\u306e\u5727\u7e2e\u30c7\u30fc\u30bf\u3092\u6271\u3046\u305f\u3081\uff0c libz \u304a\u3088\u3073 libbz2 \u304c\u5fc5\u8981\u3068\u306a\u308b\u3002\u6614\u306e MinGW32 \u3067\u306f\u3053\u308c\u3089\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u500b\u5225\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u304c\uff0c\u6700\u8fd1\u306e\u306f\u3042\u3089\u304b\u3058\u3081\u958b\u767a\u74b0\u5883\u306b\u5165\u3063\u3066\u308b\u306e\u3067\u52a9\u304b\u308b\u3002\n\u3053\u308c\u3067\u751f\u6210\u3055\u308c\u308b Makefile \u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n\nMakefile\nprefix = /usr/local\nexec_prefix = ${prefix}\nbindir = ${exec_prefix}/bin\nmandir = ${prefix}/share/man\nLIBS = -lbz2 -lz\nCFLAGS  = -g -O2 -O -Wall\nLDFLAGS =\nVERSION = `git tag | tail -1 | sed -e 's/v//'`\n\nRM = rm -f\nINSTALL  = install\n\nINCS = pgpdump.h\nSRCS = pgpdump.c types.c tagfuncs.c packet.c subfunc.c signature.c keys.c \\\n       buffer.c uatfunc.c\nOBJS = pgpdump.o types.o tagfuncs.o packet.o subfunc.o signature.o keys.o \\\n       buffer.o uatfunc.o\nPROG = pgpdump\n\nMAN  = pgpdump.1\n\nCNF = config.h config.status config.cache config.log\nMKF = Makefile\n\n.c.o:\n    $(CC) -c $(CFLAGS) $<\n\nall: $(PROG)\n\n$(PROG): $(OBJS)\n    $(CC) $(CFLAGS) -o $(PROG) $(OBJS) $(LIBS) $(LDFLAGS)\n\nclean:\n    $(RM) $(OBJS) $(PROG)\n\ndistclean:\n    $(RM) $(OBJS) $(PROG) $(CNF) $(MKF)\n\ninstall: all\n    $(INSTALL) -d $(DESTDIR)$(bindir)\n    $(INSTALL) -cp -pm755 $(PROG) $(DESTDIR)$(bindir)\n    $(INSTALL) -d $(DESTDIR)$(mandir)/man1\n    $(INSTALL) -cp -pm644 $(MAN) $(DESTDIR)$(mandir)/man1\n\narchive:\n    git archive master -o ~/pgpdump-$(VERSION).tar --prefix=pgpdump-$(VERSION)/\n    gzip ~/pgpdump-$(VERSION).tar\n\n\n\u3053\u306e\u6642\u70b9\u3067\u306e\u554f\u984c\u306f3\u3064\u3002\n\n\nprefix \u304c /usr/local \u306b\u306a\u3063\u3066\u3044\u308b\u3002\u3053\u306e\u307e\u307e\u3067\u3082\u30a8\u30e9\u30fc\u306b\u306f\u306a\u3089\u306a\u3044\u304c\uff0c\u4eca\u56de\u306f Win32 \u7248\u3068 Win64 \u7248\u3092\u5206\u3051\u305f\u3044\u306e\u3067 /mingw32 \u3068\u3057\u305f\u3044\n\nCC \u304c\u660e\u793a\u3055\u308c\u306a\u3044\u306e\u3067\u3053\u306e\u307e\u307e mingw32-make \u3092\u8d70\u3089\u305b\u308b\u3068 cc \u30b3\u30de\u30f3\u30c9\u3092\u547c\u3073\u3060\u305d\u3046\u3068\u3059\u308b\n\u30ea\u30f3\u30af\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\uff08LDFLAGS\uff09\u306b -static \u304c\u306a\u3044\u305f\u3081\uff0c\u3053\u306e\u307e\u307e\u30d3\u30eb\u30c9\u3059\u308b\u3068 DLL \u306b\u4f9d\u5b58\u3059\u308b\u69cb\u6210\u306b\u306a\u3063\u3066\u3057\u307e\u3046\n\n\u3053\u306e\u3046\u30612\u756a\u76ee\u306e\u554f\u984c\u306f\u5c11\u3057\u5384\u4ecb\u3060\u304c\n\nMalefile.in \u306b CC = @CC@ \u306e\u8a18\u8ff0\u3092\u8ffd\u52a0\u3057\u3066 configure \u3057\u306a\u304a\u3059\n\nmingw32-make \u8d77\u52d5\u6642\u306e\u5f15\u6570\u306b CC=gcc \u3092\u8ffd\u52a0\u3059\u308b\n\u74b0\u5883\u5909\u6570\u306b CC=gcc \u3092\u8ffd\u52a0\u3059\u308b\n\n\u306e\u3044\u305a\u308c\u304b\u3067\u5bfe\u51e6\u3067\u304d\u308b\u3002\n1\u756a\u76ee\u30683\u756a\u76ee\u306f configure \u30b3\u30de\u30f3\u30c9\u306b\u60c5\u5831\u3092\u6e21\u305b\u3070\u3088\u3044\u3002\n$ ./configure --prefix=/mingw32 LDFLAGS=-static\n\n\u3067\u306f\uff0c\u4f5c\u308a\u306a\u304a\u3057\u305f Makefile \u3067\u30d3\u30eb\u30c9\u3059\u308b\u3002\n$ mingw32-make\ngcc -c -g -O2 -O -Wall pgpdump.c\ngcc -c -g -O2 -O -Wall types.c\ngcc -c -g -O2 -O -Wall tagfuncs.c\ngcc -c -g -O2 -O -Wall packet.c\ngcc -c -g -O2 -O -Wall subfunc.c\ngcc -c -g -O2 -O -Wall signature.c\ngcc -c -g -O2 -O -Wall keys.c\ngcc -c -g -O2 -O -Wall buffer.c\ngcc -c -g -O2 -O -Wall uatfunc.c\ngcc -g -O2 -O -Wall -o pgpdump pgpdump.o types.o tagfuncs.o packet.o subfunc.o signature.o keys.o buffer.o uatfunc.o -lbz2 -lz  -static\n\n$ strip pgpdump.exe\n\n\nWin64 \u7248\u306e\u30d3\u30eb\u30c9\n\u6b21\u306f Win64 \u7248\u3002 mingw64_shell.bat \u3092\u8d77\u52d5\u3057\u3066 Win64 \u306e\u74b0\u5883\u3092\u7acb\u3061\u4e0a\u3052\u308b\u3002 Win32 \u7248\u3067\u8981\u9818\u306f\u5206\u304b\u3063\u305f\u306e\u3067\u4e00\u6c17\u306b\u7d42\u308f\u3089\u305b\u3066\u3057\u307e\u304a\u3046\u3002\n$ ./configure --prefix=/mingw64 LDFLAGS=-static\nchecking for gcc... gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.exe\nchecking for suffix of executables... .exe\nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ISO C89... none needed\nchecking for inflate in -lz... yes\nchecking for BZ2_bzBuffToBuffDecompress in -lbz2... yes\nchecking how to run the C preprocessor... gcc -E\nchecking for grep that handles long lines and -e... /usr/bin/grep\nchecking for egrep... /usr/bin/grep -E\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for unistd.h... yes\nchecking for unistd.h... (cached) yes\nchecking sys/time.h usability... yes\nchecking sys/time.h presence... yes\nchecking for sys/time.h... yes\nchecking unixlib/local.h usability... no\nchecking unixlib/local.h presence... no\nchecking for unixlib/local.h... no\nchecking whether time.h and sys/time.h may both be included... yes\nchecking whether struct tm is in sys/time.h or time.h... time.h\nchecking for struct tm.tm_zone... no\nchecking whether tzname is declared... yes\nchecking for tzname... yes\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: WARNING:  'Makefile.in' seems to ignore the --datarootdir setting\nconfig.status: creating config.h\n\n$ mingw32-make.exe\ngcc -c -g -O2 -O -Wall pgpdump.c\ngcc -c -g -O2 -O -Wall types.c\ngcc -c -g -O2 -O -Wall tagfuncs.c\ngcc -c -g -O2 -O -Wall packet.c\ngcc -c -g -O2 -O -Wall subfunc.c\ngcc -c -g -O2 -O -Wall signature.c\ngcc -c -g -O2 -O -Wall keys.c\ngcc -c -g -O2 -O -Wall buffer.c\ngcc -c -g -O2 -O -Wall uatfunc.c\ngcc -g -O2 -O -Wall -o pgpdump pgpdump.o types.o tagfuncs.o packet.o subfunc.o signature.o keys.o buffer.o uatfunc.o -lbz2 -lz  -static\n\n$ strip pgpdump.exe\n\n\n\u52d5\u4f5c\u78ba\u8a8d\npgpdump \u306e\u52d5\u4f5c\u78ba\u8a8d\u306e\u305f\u3081\u306b JPCERT/CC \u306e\u516c\u958b\u9375\u3092\u30c0\u30f3\u30d7\u3057\u3066\u307f\u308b\u3002 Windows \u74b0\u5883\u3067\u554f\u984c\u306a\u304f\u52d5\u304f\u3053\u3068\u3092\u78ba\u304b\u3081\u308b\u305f\u3081\u306b\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u304b\u3089\u8d77\u52d5\u3059\u308b\u3002\nC:>pgpdump info-0x69ECE048.asc\nOld: Public Key Packet(tag 6)(269 bytes)\n        Ver 4 - new\n        Public key creation time - Tue Jun 02 14:43:57 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        RSA n(2048 bits) - ...\n        RSA e(17 bits) - ...\nOld: User ID Packet(tag 13)(29 bytes)\n        User ID - JPCERT/CC <info@jpcert.or.jp>\nOld: Signature Packet(tag 2)(316 bytes)\n        Ver 4 - new\n        Sig type - Generic certification of a User ID and Public Key packet(0x10).\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        Hash alg - SHA1(hash 2)\n        Hashed Sub: preferred symmetric algorithms(sub 11)(3 bytes)\n                Sym alg - AES with 256-bit key(sym 9)\n                Sym alg - CAST5(sym 3)\n                Sym alg - Triple-DES(sym 2)\n        Hashed Sub: key server preferences(sub 23)(4 bytes)\n                Flag - No-modify\n        Hashed Sub: key flags(sub 27)(4 bytes)\n                Flag - This key may be used to certify other keys\n                Flag - This key may be used to sign data\n                Flag - This key may be used to encrypt communications\n                Flag - This key may be used to encrypt storage\n                Flag - The private component of this key may be in the possession of more than one person\n        Hashed Sub: preferred compression algorithms(sub 22)(2 bytes)\n                Comp alg - ZLIB <RFC1950>(comp 2)\n                Comp alg - ZIP <RFC1951>(comp 1)\n        Hashed Sub: features(sub 30)(4 bytes)\n                Flag - Modification detection (packets 18 and 19)\n        Hashed Sub: preferred hash algorithms(sub 21)(3 bytes)\n                Hash alg - SHA256(hash 8)\n                Hash alg - SHA384(hash 9)\n                Hash alg - SHA512(hash 10)\n        Hashed Sub: signature creation time(sub 2)(4 bytes)\n                Time - Tue Jun 16 12:51:22 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Sub: issuer key ID(sub 16)(8 bytes)\n                Key ID - 0x317D97A469ECE048\n        Hash left 2 bytes - cd 79\n        RSA m^d mod n(2047 bits) - ...\n                -> PKCS-1\nOld: Signature Packet(tag 2)(277 bytes)\n        Ver 3 - old\n        Hash material(5 bytes):\n                Sig type - Generic certification of a User ID and Public Key packet(0x10).\n                Creation time - Tue Jun 02 14:43:57 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Key ID - 0xE7734FA60C7BDE12\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        Hash alg - SHA1(hash 2)\n        Hash left 2 bytes - e9 53\n        RSA m^d mod n(2047 bits) - ...\n                -> PKCS-1\nOld: Signature Packet(tag 2)(156 bytes)\n        Ver 4 - new\n        Sig type - Generic certification of a User ID and Public Key packet(0x10).\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        Hash alg - SHA1(hash 2)\n        Hashed Sub: signature creation time(sub 2)(4 bytes)\n                Time - Mon Jun 15 14:51:27 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Sub: issuer key ID(sub 16)(8 bytes)\n                Key ID - 0x8C756B2E2C94D4ED\n        Hash left 2 bytes - 35 fd\n        RSA m^d mod n(1022 bits) - ...\n                -> PKCS-1\nOld: Public Subkey Packet(tag 14)(269 bytes)\n        Ver 4 - new\n        Public key creation time - Tue Jun 02 14:43:57 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        RSA n(2048 bits) - ...\n        RSA e(17 bits) - ...\nOld: Signature Packet(tag 2)(577 bytes)\n        Ver 4 - new\n        Sig type - Subkey Binding Signature(0x18).\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        Hash alg - SHA1(hash 2)\n        Hashed Sub: signature creation time(sub 2)(4 bytes)\n                Time - Tue Jun 02 14:43:58 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Hashed Sub: key flags(sub 27)(4 bytes)\n                Flag - This key may be used to encrypt communications\n                Flag - This key may be used to encrypt storage\n        Hashed Sub: embedded signature(sub 32)(284 bytes)\n        Ver 4 - new\n        Sig type - Primary Key Binding Signature(0x19).\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        Hash alg - SHA256(hash 8)\n        Hashed Sub: signature creation time(sub 2)(4 bytes)\n                Time - Tue Jun 02 14:43:57 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Sub: issuer key ID(sub 16)(8 bytes)\n                Key ID - 0x09D704B753BA1622\n        Hash left 2 bytes - 71 2d\n        RSA m^d mod n(2048 bits) - ...\n                -> PKCS-1\n        Sub: issuer key ID(sub 16)(8 bytes)\n                Key ID - 0x317D97A469ECE048\n        Hash left 2 bytes - 1d e2\n        RSA m^d mod n(2046 bits) - ...\n                -> PKCS-1\n\n\u3046\u3080\uff0c\u554f\u984c\u306a\u3044\u3088\u3046\u3060\u306a\u3002\u3061\u306a\u307f\u306b Windows \u30d0\u30a4\u30ca\u30ea\u306f\u3046\u3061\u306e\u30b5\u30a4\u30c8\u3067\u3082\u516c\u958b\u3057\u3066\u3044\u308b\u306e\u3067\u3054\u81ea\u7531\u306b\u3069\u3046\u305e\u3002\n[\u524d\u56de](http://qiita.com/spiegel-im-spiegel/items/ba4e8d2418bdfe0c8049)\u306f [MSYS2] \u3067 [MinGW-w64] \u306e\u74b0\u5883\u3092\u5165\u308c\u308b\u3068\u3053\u308d\u3067\u7d42\u308f\u3063\u3066\u3057\u307e\u3044\uff0c\uff08\u305d\u306e\u5f8c\u4ed5\u4e8b\u304c\u5fd9\u3057\u304f\u306a\u3063\u305f\u3053\u3068\u3082\u3042\u308a\uff09\u305d\u306e\u307e\u307e\u6295\u3052\u3063\u3071\u306a\u3057\u306e\u72b6\u614b\u3060\u3063\u305f\u304c\uff0c\u3068\u308a\u3042\u3048\u305a gcc \u306e\u52d5\u4f5c\u78ba\u8a8d\u307e\u3067\u7d42\u308f\u3089\u305b\u3066\u304a\u304f\u3002\u305d\u3046\u305d\u3046\uff0c `pacman -Syu` \u3067\u6700\u65b0\u7248\u306b\u66f4\u65b0\u3059\u308b\u306e\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3002\n\n\u4eca\u56de\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u306f [pgpdump]\u3002\n\n[pgpdump] \u306f OpenPGP \u30d1\u30b1\u30c3\u30c8\u3092\u53ef\u8996\u5316\u3057\u3066\u304f\u308c\u308b\uff08\u305f\u3060\u3057\u5fa9\u53f7\u306f\u884c\u308f\u306a\u3044\uff09\u4fbf\u5229\u30c4\u30fc\u30eb\u3060\u3002\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u307f\u306e\u63d0\u4f9b\u3067\u30d0\u30a4\u30ca\u30ea\u306f\u63d0\u4f9b\u3055\u308c\u3066\u306a\u3044\uff08\u305f\u3060\u3057 Linux \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30bf\u306b\u3088\u3063\u3066\u306f\u30d0\u30a4\u30ca\u30ea\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u5834\u5408\u304c\u3042\u308b\uff09\u3002\u30d3\u30eb\u30c9\u3059\u308c\u3070 Windows \u74b0\u5883\u3067\u3082\u52d5\u4f5c\u53ef\u80fd\u3002\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f GitHub \u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\uff0c\u3042\u3089\u304b\u3058\u3081 `git clone` \u3067\u53d6\u5f97\u3057\u3066\u304a\u304f\u3002\n\n- [kazu-yamamoto/pgpdump](https://github.com/kazu-yamamoto/pgpdump)\n\n## Win32 \u7248\u306e\u30d3\u30eb\u30c9\n\n\u307e\u305a\u306f `mingw32_shell.bat` \u3092\u8d77\u52d5\u3057\u3066 Win32 \u306e\u74b0\u5883\u3092\u7acb\u3061\u4e0a\u3052\u308b\uff08`mingw32_shell.bat` \u3063\u3066\u4f55\uff1f \u3063\u3066\u304b\u305f\u306f[\u524d\u56de\u306e\u8a18\u4e8b](http://qiita.com/spiegel-im-spiegel/items/ba4e8d2418bdfe0c8049)\u3092\u53c2\u7167\u3042\u308c\uff09\u3002\n\n\u307e\u305a\u306f `configure` \u3092\u8d70\u3089\u305b\u3066\u74b0\u5883\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n```shell\n$ ./configure\nchecking for gcc... gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.exe\nchecking for suffix of executables... .exe\nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ISO C89... none needed\nchecking for inflate in -lz... yes\nchecking for BZ2_bzBuffToBuffDecompress in -lbz2... yes\nchecking how to run the C preprocessor... gcc -E\nchecking for grep that handles long lines and -e... /usr/bin/grep\nchecking for egrep... /usr/bin/grep -E\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for unistd.h... yes\nchecking for unistd.h... (cached) yes\nchecking sys/time.h usability... yes\nchecking sys/time.h presence... yes\nchecking for sys/time.h... yes\nchecking unixlib/local.h usability... no\nchecking unixlib/local.h presence... no\nchecking for unixlib/local.h... no\nchecking whether time.h and sys/time.h may both be included... yes\nchecking whether struct tm is in sys/time.h or time.h... time.h\nchecking for struct tm.tm_zone... no\nchecking whether tzname is declared... yes\nchecking for tzname... yes\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: WARNING:  'Makefile.in' seems to ignore the --datarootdir setting\nconfig.status: creating config.h\n```\n\n\u7279\u306b\u30a8\u30e9\u30fc\u3082\u306a\u304f\u7d42\u4e86\u3002\n\n[pgpdump] \u3067\u306f\uff0c\u30d1\u30b1\u30c3\u30c8\u5185\u306e\u5727\u7e2e\u30c7\u30fc\u30bf\u3092\u6271\u3046\u305f\u3081\uff0c `libz` \u304a\u3088\u3073 `libbz2` \u304c\u5fc5\u8981\u3068\u306a\u308b\u3002\u6614\u306e MinGW32 \u3067\u306f\u3053\u308c\u3089\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u500b\u5225\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u304c\uff0c\u6700\u8fd1\u306e\u306f\u3042\u3089\u304b\u3058\u3081\u958b\u767a\u74b0\u5883\u306b\u5165\u3063\u3066\u308b\u306e\u3067\u52a9\u304b\u308b\u3002\n\n\u3053\u308c\u3067\u751f\u6210\u3055\u308c\u308b `Makefile` \u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n\n```makefile:Makefile\nprefix = /usr/local\nexec_prefix = ${prefix}\nbindir = ${exec_prefix}/bin\nmandir = ${prefix}/share/man\nLIBS = -lbz2 -lz\nCFLAGS  = -g -O2 -O -Wall\nLDFLAGS =\nVERSION = `git tag | tail -1 | sed -e 's/v//'`\n\nRM = rm -f\nINSTALL  = install\n\nINCS = pgpdump.h\nSRCS = pgpdump.c types.c tagfuncs.c packet.c subfunc.c signature.c keys.c \\\n       buffer.c uatfunc.c\nOBJS = pgpdump.o types.o tagfuncs.o packet.o subfunc.o signature.o keys.o \\\n       buffer.o uatfunc.o\nPROG = pgpdump\n\nMAN  = pgpdump.1\n\nCNF = config.h config.status config.cache config.log\nMKF = Makefile\n\n.c.o:\n\t$(CC) -c $(CFLAGS) $<\n\nall: $(PROG)\n\n$(PROG): $(OBJS)\n\t$(CC) $(CFLAGS) -o $(PROG) $(OBJS) $(LIBS) $(LDFLAGS)\n\nclean:\n\t$(RM) $(OBJS) $(PROG)\n\ndistclean:\n\t$(RM) $(OBJS) $(PROG) $(CNF) $(MKF)\n\ninstall: all\n\t$(INSTALL) -d $(DESTDIR)$(bindir)\n\t$(INSTALL) -cp -pm755 $(PROG) $(DESTDIR)$(bindir)\n\t$(INSTALL) -d $(DESTDIR)$(mandir)/man1\n\t$(INSTALL) -cp -pm644 $(MAN) $(DESTDIR)$(mandir)/man1\n\narchive:\n\tgit archive master -o ~/pgpdump-$(VERSION).tar --prefix=pgpdump-$(VERSION)/\n\tgzip ~/pgpdump-$(VERSION).tar\n```\n\n\u3053\u306e\u6642\u70b9\u3067\u306e\u554f\u984c\u306f3\u3064\u3002\n\n1. `prefix` \u304c `/usr/local` \u306b\u306a\u3063\u3066\u3044\u308b\u3002\u3053\u306e\u307e\u307e\u3067\u3082\u30a8\u30e9\u30fc\u306b\u306f\u306a\u3089\u306a\u3044\u304c\uff0c\u4eca\u56de\u306f Win32 \u7248\u3068 Win64 \u7248\u3092\u5206\u3051\u305f\u3044\u306e\u3067 `/mingw32` \u3068\u3057\u305f\u3044\n1. `CC` \u304c\u660e\u793a\u3055\u308c\u306a\u3044\u306e\u3067\u3053\u306e\u307e\u307e `mingw32-make` \u3092\u8d70\u3089\u305b\u308b\u3068 `cc` \u30b3\u30de\u30f3\u30c9\u3092\u547c\u3073\u3060\u305d\u3046\u3068\u3059\u308b\n1. \u30ea\u30f3\u30af\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\uff08`LDFLAGS`\uff09\u306b `-static` \u304c\u306a\u3044\u305f\u3081\uff0c\u3053\u306e\u307e\u307e\u30d3\u30eb\u30c9\u3059\u308b\u3068 DLL \u306b\u4f9d\u5b58\u3059\u308b\u69cb\u6210\u306b\u306a\u3063\u3066\u3057\u307e\u3046\n\n\u3053\u306e\u3046\u30612\u756a\u76ee\u306e\u554f\u984c\u306f\u5c11\u3057\u5384\u4ecb\u3060\u304c\n\n1. Malefile.in \u306b `CC = @CC@` \u306e\u8a18\u8ff0\u3092\u8ffd\u52a0\u3057\u3066 `configure` \u3057\u306a\u304a\u3059\n1. `mingw32-make` \u8d77\u52d5\u6642\u306e\u5f15\u6570\u306b `CC=gcc` \u3092\u8ffd\u52a0\u3059\u308b\n1. \u74b0\u5883\u5909\u6570\u306b `CC=gcc` \u3092\u8ffd\u52a0\u3059\u308b\n\n\u306e\u3044\u305a\u308c\u304b\u3067\u5bfe\u51e6\u3067\u304d\u308b\u3002\n\n1\u756a\u76ee\u30683\u756a\u76ee\u306f `configure` \u30b3\u30de\u30f3\u30c9\u306b\u60c5\u5831\u3092\u6e21\u305b\u3070\u3088\u3044\u3002\n\n```shell\n$ ./configure --prefix=/mingw32 LDFLAGS=-static\n```\n\n\u3067\u306f\uff0c\u4f5c\u308a\u306a\u304a\u3057\u305f `Makefile` \u3067\u30d3\u30eb\u30c9\u3059\u308b\u3002\n\n```shell\n$ mingw32-make\ngcc -c -g -O2 -O -Wall pgpdump.c\ngcc -c -g -O2 -O -Wall types.c\ngcc -c -g -O2 -O -Wall tagfuncs.c\ngcc -c -g -O2 -O -Wall packet.c\ngcc -c -g -O2 -O -Wall subfunc.c\ngcc -c -g -O2 -O -Wall signature.c\ngcc -c -g -O2 -O -Wall keys.c\ngcc -c -g -O2 -O -Wall buffer.c\ngcc -c -g -O2 -O -Wall uatfunc.c\ngcc -g -O2 -O -Wall -o pgpdump pgpdump.o types.o tagfuncs.o packet.o subfunc.o signature.o keys.o buffer.o uatfunc.o -lbz2 -lz  -static\n\n$ strip pgpdump.exe\n```\n\n## Win64 \u7248\u306e\u30d3\u30eb\u30c9\n\n\u6b21\u306f Win64 \u7248\u3002 `mingw64_shell.bat` \u3092\u8d77\u52d5\u3057\u3066 Win64 \u306e\u74b0\u5883\u3092\u7acb\u3061\u4e0a\u3052\u308b\u3002 Win32 \u7248\u3067\u8981\u9818\u306f\u5206\u304b\u3063\u305f\u306e\u3067\u4e00\u6c17\u306b\u7d42\u308f\u3089\u305b\u3066\u3057\u307e\u304a\u3046\u3002\n\n```shell\n$ ./configure --prefix=/mingw64 LDFLAGS=-static\nchecking for gcc... gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.exe\nchecking for suffix of executables... .exe\nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ISO C89... none needed\nchecking for inflate in -lz... yes\nchecking for BZ2_bzBuffToBuffDecompress in -lbz2... yes\nchecking how to run the C preprocessor... gcc -E\nchecking for grep that handles long lines and -e... /usr/bin/grep\nchecking for egrep... /usr/bin/grep -E\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for unistd.h... yes\nchecking for unistd.h... (cached) yes\nchecking sys/time.h usability... yes\nchecking sys/time.h presence... yes\nchecking for sys/time.h... yes\nchecking unixlib/local.h usability... no\nchecking unixlib/local.h presence... no\nchecking for unixlib/local.h... no\nchecking whether time.h and sys/time.h may both be included... yes\nchecking whether struct tm is in sys/time.h or time.h... time.h\nchecking for struct tm.tm_zone... no\nchecking whether tzname is declared... yes\nchecking for tzname... yes\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: WARNING:  'Makefile.in' seems to ignore the --datarootdir setting\nconfig.status: creating config.h\n\n$ mingw32-make.exe\ngcc -c -g -O2 -O -Wall pgpdump.c\ngcc -c -g -O2 -O -Wall types.c\ngcc -c -g -O2 -O -Wall tagfuncs.c\ngcc -c -g -O2 -O -Wall packet.c\ngcc -c -g -O2 -O -Wall subfunc.c\ngcc -c -g -O2 -O -Wall signature.c\ngcc -c -g -O2 -O -Wall keys.c\ngcc -c -g -O2 -O -Wall buffer.c\ngcc -c -g -O2 -O -Wall uatfunc.c\ngcc -g -O2 -O -Wall -o pgpdump pgpdump.o types.o tagfuncs.o packet.o subfunc.o signature.o keys.o buffer.o uatfunc.o -lbz2 -lz  -static\n\n$ strip pgpdump.exe\n```\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\n[pgpdump] \u306e\u52d5\u4f5c\u78ba\u8a8d\u306e\u305f\u3081\u306b [JPCERT/CC \u306e\u516c\u958b\u9375](https://www.jpcert.or.jp/jpcert-pgp.html)\u3092\u30c0\u30f3\u30d7\u3057\u3066\u307f\u308b\u3002 Windows \u74b0\u5883\u3067\u554f\u984c\u306a\u304f\u52d5\u304f\u3053\u3068\u3092\u78ba\u304b\u3081\u308b\u305f\u3081\u306b\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u304b\u3089\u8d77\u52d5\u3059\u308b\u3002\n\n```shell\nC:>pgpdump info-0x69ECE048.asc\nOld: Public Key Packet(tag 6)(269 bytes)\n        Ver 4 - new\n        Public key creation time - Tue Jun 02 14:43:57 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        RSA n(2048 bits) - ...\n        RSA e(17 bits) - ...\nOld: User ID Packet(tag 13)(29 bytes)\n        User ID - JPCERT/CC <info@jpcert.or.jp>\nOld: Signature Packet(tag 2)(316 bytes)\n        Ver 4 - new\n        Sig type - Generic certification of a User ID and Public Key packet(0x10).\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        Hash alg - SHA1(hash 2)\n        Hashed Sub: preferred symmetric algorithms(sub 11)(3 bytes)\n                Sym alg - AES with 256-bit key(sym 9)\n                Sym alg - CAST5(sym 3)\n                Sym alg - Triple-DES(sym 2)\n        Hashed Sub: key server preferences(sub 23)(4 bytes)\n                Flag - No-modify\n        Hashed Sub: key flags(sub 27)(4 bytes)\n                Flag - This key may be used to certify other keys\n                Flag - This key may be used to sign data\n                Flag - This key may be used to encrypt communications\n                Flag - This key may be used to encrypt storage\n                Flag - The private component of this key may be in the possession of more than one person\n        Hashed Sub: preferred compression algorithms(sub 22)(2 bytes)\n                Comp alg - ZLIB <RFC1950>(comp 2)\n                Comp alg - ZIP <RFC1951>(comp 1)\n        Hashed Sub: features(sub 30)(4 bytes)\n                Flag - Modification detection (packets 18 and 19)\n        Hashed Sub: preferred hash algorithms(sub 21)(3 bytes)\n                Hash alg - SHA256(hash 8)\n                Hash alg - SHA384(hash 9)\n                Hash alg - SHA512(hash 10)\n        Hashed Sub: signature creation time(sub 2)(4 bytes)\n                Time - Tue Jun 16 12:51:22 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Sub: issuer key ID(sub 16)(8 bytes)\n                Key ID - 0x317D97A469ECE048\n        Hash left 2 bytes - cd 79\n        RSA m^d mod n(2047 bits) - ...\n                -> PKCS-1\nOld: Signature Packet(tag 2)(277 bytes)\n        Ver 3 - old\n        Hash material(5 bytes):\n                Sig type - Generic certification of a User ID and Public Key packet(0x10).\n                Creation time - Tue Jun 02 14:43:57 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Key ID - 0xE7734FA60C7BDE12\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        Hash alg - SHA1(hash 2)\n        Hash left 2 bytes - e9 53\n        RSA m^d mod n(2047 bits) - ...\n                -> PKCS-1\nOld: Signature Packet(tag 2)(156 bytes)\n        Ver 4 - new\n        Sig type - Generic certification of a User ID and Public Key packet(0x10).\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        Hash alg - SHA1(hash 2)\n        Hashed Sub: signature creation time(sub 2)(4 bytes)\n                Time - Mon Jun 15 14:51:27 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Sub: issuer key ID(sub 16)(8 bytes)\n                Key ID - 0x8C756B2E2C94D4ED\n        Hash left 2 bytes - 35 fd\n        RSA m^d mod n(1022 bits) - ...\n                -> PKCS-1\nOld: Public Subkey Packet(tag 14)(269 bytes)\n        Ver 4 - new\n        Public key creation time - Tue Jun 02 14:43:57 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        RSA n(2048 bits) - ...\n        RSA e(17 bits) - ...\nOld: Signature Packet(tag 2)(577 bytes)\n        Ver 4 - new\n        Sig type - Subkey Binding Signature(0x18).\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        Hash alg - SHA1(hash 2)\n        Hashed Sub: signature creation time(sub 2)(4 bytes)\n                Time - Tue Jun 02 14:43:58 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Hashed Sub: key flags(sub 27)(4 bytes)\n                Flag - This key may be used to encrypt communications\n                Flag - This key may be used to encrypt storage\n        Hashed Sub: embedded signature(sub 32)(284 bytes)\n        Ver 4 - new\n        Sig type - Primary Key Binding Signature(0x19).\n        Pub alg - RSA Encrypt or Sign(pub 1)\n        Hash alg - SHA256(hash 8)\n        Hashed Sub: signature creation time(sub 2)(4 bytes)\n                Time - Tue Jun 02 14:43:57 \u6771\u4eac (\u6a19\u6e96\u6642) 2009\n        Sub: issuer key ID(sub 16)(8 bytes)\n                Key ID - 0x09D704B753BA1622\n        Hash left 2 bytes - 71 2d\n        RSA m^d mod n(2048 bits) - ...\n                -> PKCS-1\n        Sub: issuer key ID(sub 16)(8 bytes)\n                Key ID - 0x317D97A469ECE048\n        Hash left 2 bytes - 1d e2\n        RSA m^d mod n(2046 bits) - ...\n                -> PKCS-1\n```\n\n\u3046\u3080\uff0c\u554f\u984c\u306a\u3044\u3088\u3046\u3060\u306a\u3002\u3061\u306a\u307f\u306b Windows \u30d0\u30a4\u30ca\u30ea\u306f[\u3046\u3061\u306e\u30b5\u30a4\u30c8\u3067\u3082\u516c\u958b](http://www.baldanders.info/spiegel/archive/pgpdump/)\u3057\u3066\u3044\u308b\u306e\u3067\u3054\u81ea\u7531\u306b\u3069\u3046\u305e\u3002\n\n[MSYS2]: https://github.com/msys2 \"msys2\"\n[MinGW-w64]: http://mingw-w64.org/ \"Mingw-w64 - GCC for Windows 64 & 32 bits [mingw-w64]\"\n[pgpdump]: http://www.mew.org/~kazu/proj/pgpdump/en/ \"pgpdump\"\n", "tags": ["msys2", "GCC"]}