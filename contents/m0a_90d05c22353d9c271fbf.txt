{"context": " More than 1 year has passed since last update.\n\nMeteor\u3063\u3066\u306a\u306b\nNodeJS\u306e\u30d5\u30eb\u30b9\u30bf\u30c3\u30af\u306a\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30fb\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002\n\u88cf\u3067WebSocket\u3092\u4f7f\u3063\u3066\u304a\u308a\u3001\u69cb\u7bc9\u4e2d\u306bWeb\u753b\u9762\u304c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u5909\u308f\u3063\u3066\u3044\u304f\u69d8\u5b50\u306f\u304b\u306a\u308a\u65b0\u9bae\u3067\u3059\u3002\n\u3059\u3054\u3044\u3068\u3053\u308d\u306f\u3001\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u5185\u306bMongoDB\u304c\u5185\u8535\u3055\u308c\u3066\u304a\u308a\u3001\u305d\u306edb\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002(MiniMongo\u3068\u3044\u3046client\u30b5\u30a4\u30c9\u306eDB\u6a5f\u80fd\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u3046\u3044\u3046\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\u307f\u305f\u3044\u3067\u3059\u3002)\nBaas\u306efirebase\u3082\u611f\u52d5\u3057\u307e\u3057\u305f\u304c\u3001\u3042\u308c\u306f\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306eCollection\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306eCollection\u306e\u540c\u671f\u306f\u624b\u52d5\u3067\u7d10\u4ed8\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\nMeteor\u306f\u30b5\u30fc\u30d0\u304b\u3089\u306eCollection\u306e\u5909\u66f4\u3082\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u5909\u66f4\u3082\u77ac\u6642\u306b\u304a\u4e92\u3044\u306b\u30df\u30e9\u30fc\u3055\u308c\u3001\n\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u3082\u542b\u3081\u3066\u306e\u4e00\u3064\u306e\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066\u3044\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u304c\u53ef\u80fd\u306a\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3082\u3042\u308a\u3001\n\u4f8b\u3048\u3070Session\u306e\u7279\u5b9a\u306e\u5024\u3092\u76e3\u8996\u3057\u3066\u3001\u5909\u66f4\u3055\u308c\u305f\u6642\u3060\u3051\u30ed\u30b0\u51fa\u529b\u3059\u308b\u3068\u3044\u3063\u305f\u3053\u3068\u3082\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\n\u6700\u8fd11.0\u306b\u306a\u3063\u305f\u3088\u3063\u3066\u30a2\u30ca\u30a6\u30f3\u30b9\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u307e\u3060\u66f8\u304d\u304b\u3051\u3067\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3084\u308a\u306a\u304c\u3089\u30e1\u30e2\u3057\u3064\u3064\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\n\nDiscoverMeteor\u3092\u3084\u3063\u3066\u307f\u308b\nDiscoverMeteor\u3092\u3084\u308a\u306a\u304c\u3089\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3057\u3066\u307f\u307e\u3059\n\u5c1a\u3001DiscoverMeteor\u65e5\u672c\u8a9e\u8a33\u7248\u304c\u51fa\u6765\u3064\u3064\u3042\u308a\u307e\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3059\u3054\u304f\u7c21\u5358\u3067\u3059\u304cNodeJs\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u304c\u524d\u63d0\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b3\u30de\u30f3\u30c9\ncurl https://install.meteor.com | sh\n\n\n\u307e\u305a\u306f\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306b\u5f93\u3044\u300cmicroscope\u300d\u3068\u304b\u3044\u3046\u300c\u30bd\u30fc\u30b7\u30e3\u30eb\u30cb\u30e5\u30fc\u30b9\u300d\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u74b0\u5883\u4f5c\u308a\n$ meteor create microscope\n\n\nmeteor create <<\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d>>\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308a\u307e\u3059\u3002\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u3089\u308c\u307e\u3059\u3002\n\n\u30a2\u30d7\u30ea\u8d77\u52d5\u306e\u4ed5\u65b9\n\n\u8d77\u52d5\n$ cd microscope\n$ meteor\n\n\n\n\u7c21\u5358\u306a\u30a2\u30d7\u30ea\u304c\u52d5\u304d\u51fa\u3057\u307e\u3057\u305f\u306d\u3002\nlocalhost:3000\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\nCtrl+C\u3067\u30a2\u30d7\u30ea\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f7f\u3044\u65b9\u3092\u5b66\u3076\nmeteor\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u8ffd\u52a0\nmeteor add mizzao:bootstrap-3\nmeteor add underscore\n\n\nmizzao:botstrap-3\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\nunderscore package\u306e\u65b9\u306fofficial\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u3002\nmeteor\u306b\u306f\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\uff15\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\n\nplatform package\uff1aMeteor core\u304b\u3089\u5206\u5272\u3055\u308c\u305f\nFirst-party package\uff1aMeteor\u30c1\u30fc\u30e0\u304c\u30e1\u30f3\u30c6\u3057\u3066\u308b\nThird-party package:\u3053\u3053\u3067\u63a2\u3059\u30d1\u30c3\u30b1\u30fc\u30b8\nLocal package:\u81ea\u4f5c\u306e/packages\u306b\u7f6e\u3044\u305f\u30ab\u30b9\u30bf\u30e0\u30d1\u30c3\u30b1\u30fc\u30b8\nNPM package:NodeJs\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\n\n\n\u30d5\u30a1\u30a4\u30eb\u69cb\u9020\n\u4f5c\u3063\u305f\u3070\u304b\u308a\u306e\u69cb\u6210\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n\u4f5c\u6210\u6642\u306e\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\n.meteor\nmicroscope.css  \nmicroscope.html \nmicroscope.js\n\n\n\u4e0a\u8a18\u306e\u3046\u3061.meteor\u4ee5\u5916\u306f\u524a\u9664\u3057\u307e\u3059\u3002\n\u4ee3\u308f\u308a\u306b\u4ee5\u4e0b\u306e\u30c7\u30a4\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n\n\u4f5c\u6210\u30c7\u30a4\u30ec\u30af\u30c8\u30ea\n\u5f79\u5272\n\n\n\n\n/server\n\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u3067\u52d5\u304f\u30b3\u30fc\u30c9\u3092\u7f6e\u304d\u307e\u3059\n\n\n/client\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3067\u52d5\u304f\u30b3\u30fc\u30c9\u3092\u7f6e\u304d\u307e\u3059\n\n\n/public\n\u753b\u50cf\u3068\u304b\u9759\u7684\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304d\u307e\u3059\n\n\n/lib\n\u5f8c\u8ff0\u3057\u307e\u3059\n\n\n\nMeteor\u306b\u304a\u3044\u3066\u3001\u3042\u308b\u30eb\u30fc\u30eb\u3067\u81ea\u52d5\u3067\u30d5\u30a1\u30a4\u30eb\u304c\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\u306a\u306e\u3067\u305d\u306e\u30eb\u30fc\u30eb\u306b\u5f93\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u304a\u3051\u3070\u52dd\u624b\u306b\u8aad\u307f\u8fbc\u307e\u308c\u3066\u7d44\u307f\u8fbc\u307e\u308c\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b/server\u3068/client\u3067js\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u3068\u3001\n\u305d\u308c\u305e\u308c\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3067\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u304c\u3001\n\u305d\u308c\u4ee5\u5916\u306e\u30c7\u30a4\u30ec\u30af\u30c8\u30ea\u306b\u7f6e\u3044\u305f\u5834\u5408\u306f \u4e21\u65b9\u3067\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\u30ed\u30fc\u30c9\u3055\u308c\u308b\u30eb\u30fc\u30eb\u306f\u4ee5\u4e0b\u3068\u306a\u308a\u307e\u3059\u3002\n\n/lib\u306b\u7f6e\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u6700\u512a\u5148\u3067\u30ed\u30fc\u30c9\nmain.*\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u305d\u306e\u6b21\u306b\u30ed\u30fc\u30c9\n\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u9806\u306b\u30ed\u30fc\u30c9\n\n\u3042\u3068.meteor \u306e\u4e2d\u306b\u3064\u3044\u3066\u3067\u3059\u304c\u3001\n.meteor/packages .meteor/release\u304c\u305d\u308c\u305e\u308c\u3001\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u60c5\u5831\u3001meteor\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u305d\u308c\u4ee5\u5916\u306f\u3055\u308f\u3089\u306a\u3044\u307b\u3046\u304c\u3044\u3044\u3068\u306e\u3053\u3068\u3002\n\u4ee5\u4e0b\u306eCSS\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nclient/stylesheets/style.css\n\n.grid-block, .main, .post, .comments li, .comment-form {\n  background: #fff;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  -ms-border-radius: 3px;\n  -o-border-radius: 3px;\n  border-radius: 3px;\n  padding: 10px;\n  margin-bottom: 10px;\n  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.15);\n  -moz-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.15);\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.15); }\n\nbody {\n  background: #eee;\n  color: #666666; }\n\n.navbar {\n  margin-bottom: 10px; }\n  /* line 32, ../sass/style.scss */\n  .navbar .navbar-inner {\n    -webkit-border-radius: 0px 0px 3px 3px;\n    -moz-border-radius: 0px 0px 3px 3px;\n    -ms-border-radius: 0px 0px 3px 3px;\n    -o-border-radius: 0px 0px 3px 3px;\n    border-radius: 0px 0px 3px 3px; }\n\n#spinner {\n  height: 300px; }\n\n.post {\n  /* For modern browsers */\n  /* For IE 6/7 (trigger hasLayout) */\n  *zoom: 1;\n  position: relative;\n  opacity: 1; }\n  .post:before, .post:after {\n    content: \"\";\n    display: table; }\n  .post:after {\n    clear: both; }\n  .post.invisible {\n    opacity: 0; }\n  .post.instant {\n    -webkit-transition: none;\n    -moz-transition: none;\n    -o-transition: none;\n    transition: none; }\n  .post.animate{\n    -webkit-transition: all 300ms 0ms;\n    -webkit-transition-delay: ease-in;\n    -moz-transition: all 300ms 0ms ease-in;\n    -o-transition: all 300ms 0ms ease-in;\n    transition: all 300ms 0ms ease-in; }\n  .post .upvote {\n    display: block;\n    margin: 7px 12px 0 0;\n    float: left; }\n  .post .post-content {\n    float: left; }\n    .post .post-content h3 {\n      margin: 0;\n      line-height: 1.4;\n      font-size: 18px; }\n      .post .post-content h3 a {\n        display: inline-block;\n        margin-right: 5px; }\n      .post .post-content h3 span {\n        font-weight: normal;\n        font-size: 14px;\n        display: inline-block;\n        color: #aaaaaa; }\n    .post .post-content p {\n      margin: 0; }\n  .post .discuss {\n    display: block;\n    float: right;\n    margin-top: 7px; }\n\n.comments {\n  list-style-type: none;\n  margin: 0; }\n  .comments li h4 {\n    font-size: 16px;\n    margin: 0; }\n    .comments li h4 .date {\n      font-size: 12px;\n      font-weight: normal; }\n    .comments li h4 a {\n      font-size: 12px; }\n  .comments li p:last-child {\n    margin-bottom: 0; }\n\n.dropdown-menu span {\n  display: block;\n  padding: 3px 20px;\n  clear: both;\n  line-height: 20px;\n  color: #bbb;\n  white-space: nowrap; }\n\n.load-more {\n  display: block;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  -ms-border-radius: 3px;\n  -o-border-radius: 3px;\n  border-radius: 3px;\n  background: rgba(0, 0, 0, 0.05);\n  text-align: center;\n  height: 60px;\n  line-height: 60px;\n  margin-bottom: 10px; }\n  .load-more:hover {\n    text-decoration: none;\n    background: rgba(0, 0, 0, 0.1); }\n\n.posts .spinner-container{\n  position: relative;\n  height: 100px;\n}\n\n.jumbotron{\n  text-align: center;\n}\n.jumbotron h2{\n  font-size: 60px;\n  font-weight: 100;\n}\n\n@-webkit-keyframes fadeOut {\n  0% {opacity: 0;}\n  10% {opacity: 1;}\n  90% {opacity: 1;}\n  100% {opacity: 0;}\n}\n\n@keyframes fadeOut {\n  0% {opacity: 0;}\n  10% {opacity: 1;}\n  90% {opacity: 1;}\n  100% {opacity: 0;}\n}\n\n.errors{\n  position: fixed;\n  z-index: 10000;\n  padding: 10px;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  pointer-events: none;\n}\n.alert {\n          animation: fadeOut 2700ms ease-in 0s 1 forwards;\n  -webkit-animation: fadeOut 2700ms ease-in 0s 1 forwards;\n     -moz-animation: fadeOut 2700ms ease-in 0s 1 forwards;\n  width: 250px;\n  float: right;\n  clear: both;\n  margin-bottom: 5px;\n  pointer-events: auto;\n}\n\n\n\nTemplate\u306e\u4f7f\u3044\u65b9\u3092\u5b66\u3076\nMeteor\u306e\u958b\u767a\u624b\u6cd5\u3068\u3057\u3066\u30ac\u30ef\u304b\u3089\u4f5c\u3063\u3066\u3044\u3063\u3066\u6700\u5f8c\u306b\u5185\u90e8\u3092\u4f5c\u308a\u8fbc\u3080\u3068\u3044\u3046\u624b\u6cd5\u304c\u30aa\u30b9\u30b9\u30e1\u3060\u305d\u3046\u3067\u3059\u3002\n\u307e\u305a\u306f/client\u306e\u4e2d\u3067\u4f5c\u696d\u3057\u307e\u3059\n\u4ee5\u4e0b\u306eHTML\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\nclient/main.html\n<head>\n  <title>Microscope</title>\n</head>\n<body>\n  <div class=\"container\">\n    <header class=\"navbar navbar-default\" role=\"navigation\"> \n      <div class=\"navbar-header\">\n        <a class=\"navbar-brand\" href=\"/\">Microscope</a>\n      </div>\n    </header>\n    <div id=\"main\" class=\"row-fluid\">\n      {{> postsList}}\n    </div>\n  </div>\n</body>\n\n\n\u30dd\u30a4\u30f3\u30c8\u306f{{> postsList}} \u3067\u3059\u3002\n\u3053\u3053\u306b\u306f postsList\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u5165\u308a\u307e\u3059\u3002\n\u3053\u306e\u5f8c\u306bpostsList\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u307e\u305a\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u7f6e\u304f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u306d\u3002\nclient/templates\n\u3055\u3089\u306bclient/templates/posts\u3082\u4f5c\u3063\u3066\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\nclient/templates/posts/posts_list.html\n\n<template name=\"postsList\">\n  <div class=\"posts\">\n    {{#each posts}}\n      {{> postItem}}\n    {{/each}}\n  </div>\n</template>\n\n\n\nclient/templates/posts/post_item.html\n<template name=\"postItem\">\n  <div class=\"post\">\n    <div class=\"post-content\">\n      <h3><a href=\"{{url}}\">{{title}}</a><span>{{domain}}</span></h3>\n    </div>\n  </div>\n</template>\n\n\n\u6ce8\u610f\u70b9\u3068\u3057\u3066template\u30a8\u30ec\u30e1\u30f3\u30c8\u306ename\u3067\u3042\u308bpostsList\u306f\u3069\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4e0a\u3067\u3082\u4f7f\u3048\u307e\u3059\n\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u306fSpacebars\u3068\u8a00\u3044\u307e\u3059\u3002\u8a73\u7d30\u306f\u3053\u3061\u3089\u3067\n\u307e\u3042\u4ed6\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u306b\u4f3c\u3066\u3044\u308b\u306e\u3067\u3001\u306a\u3093\u3068\u306a\u304f\u898b\u3066\u308c\u3070\u52d5\u304d\u306f\u308f\u304b\u308a\u307e\u3059\u3002\n\u3053\u308c\u3092\u5b9f\u969b\u306b\u52d5\u304b\u3059\u306b\u306f\u3001posts\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3069\u3053\u304b\u3067\u7528\u610f\u3057\u306a\u3044\u3068\u30fb\u30fb\u30fb\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nclient/templates/posts/posts_list.js\n\nvar postsData = [\n  {\n    title: 'Introducing Telescope',\n    url: 'http://sachagreif.com/introducing-telescope/'\n  }, \n  {\n    title: 'Meteor',\n    url: 'http://meteor.com'\n  }, \n  {\n    title: 'The Meteor Book',\n    url: 'http://themeteorbook.com'\n  }\n];\nTemplate.postsList.helpers({\n  posts: postsData\n});\n\n\n\u30dd\u30a4\u30f3\u30c8\u306fTemplate.postsList.helpers\u3067\u3059\u3002\ntemplate\u306epostsList\u3068\u7d10\u3065\u3044\u3066\u3044\u307e\u3059\u3002\n\u3061\u306a\u307f\u306bpost_item.html\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\n{{domain}}\u304c\u8db3\u308a\u307e\u305b\u3093\u3002domain helper\u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\n\nclient/templates/posts/post_item.js\nTemplate.postItem.helpers({\n  domain: function() {\n    var a = document.createElement('a');\n    a.href = this.url;\n    return a.hostname;\n  }\n});\n\n\n\u3061\u306a\u307f\u306b\n\njs\u6280\n    var a = document.createElement('a');\n    a.href = this.url;\n    return a.hostname;\n\n\n\u4e0a\u8a18\u90e8\u5206\u306fDomain\u90e8\u5206\u3060\u3051\u3092\u53d6\u308a\u51fa\u305b\u308b\u3068\u3044\u3046js\u6280\u3060\u305d\u3046\u3067\u3059\u3002\n\u305d\u308c\u3068\u4e0a\u8a18\u30b3\u30fc\u30c9\u306e this\u306b\u3064\u3044\u3066\u8a00\u53ca\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001posts_list.html\u5185\u306e{{#each posts}}\u306b\u3066\u53d6\u308a\u51fa\u3055\u308c\u308b\u5404\u8981\u7d20\u304cthis\u306b\u4ee3\u5165\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nMeteor Collection\u306b\u3064\u3044\u3066\u5b66\u3076\n\u3055\u3063\u304d\u307e\u3067\u306f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3060\u3063\u305f\u306e\u3067\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u3063\u3066\u3053\u3068\u3067\u3059\u306d\u3002\n\u3061\u3087\u3063\u3068\u3053\u3053\u3067\u611f\u52d5\u30dd\u30a4\u30f3\u30c8\u304d\u307e\u3057\u305f\u3002\u3044\u3063\u305f\u3044\u306a\u3093\u306a\u3093\u3060\u3053\u308c\u306f\u30c3\u30c3\uff01\uff01\n\u307e\u305a\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nlib/collections/posts.js\nPosts = new Mongo.Collection('posts');\n\n\n\u3053\u3053\u3067\u3042\u308c\uff1f\u3063\u3068\u306a\u308a\u307e\u3057\u305f\u3002/server\u306b\u7f6e\u3044\u3066\u306a\u3044\u30fb\u30fb\u30fb\u3002\n\u307e\u305a\u306f\u30a2\u30d7\u30ea\u304c\u8d77\u52d5\u4e2d\u3060\u3068\u601d\u3046\u3093\u3067\u5225\u30bf\u30d6\u3092\u958b\u3044\u3066\u65b0\u898fTerminal\u304b\u3089\u8a72\u5f53\u30c7\u30a4\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\n$ cd microscope\n$ meteor mongo\n\n\u3053\u308c\u3067meteor\u5c02\u7528\u306emongo\u74b0\u5883\u306b\u5165\u308a\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\ndb.posts.insert({title: \"A new post\"});,\ndb.posts.find();\u3068\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3063\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\nmongodbShell\n> db.posts.insert({title: \"A new post\"});\n\n> db.posts.find();\n{title: \"A new post\", _id: ObjectId(\"..\")};\n\n\n\u6b21\u306b\u304a\u3082\u3080\u308d\u306b\u30d6\u30e9\u30a6\u30b6\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u958b\u3044\u3066\u304f\u3060\u3055\u3044\u3002\nPosts.findOne(); \u3068\u6253\u3061\u8fbc\u307f\u307e\u3059\u3002\n\n\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\nPosts.findOne();\n{title: \"A new post\", _id: LocalCollection._ObjectID};\n\n\n\u3059\u3054\u304f\u306a\u3044\u3067\u3059\u304b\u30fb\u30fb\u30fb\u3069\u3046\u3044\u3046\u4ed5\u7d44\u307f\u304b\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u304c\u3001\n\u4e00\u6c17\u306b\u30d6\u30e9\u30a6\u30b6\u307e\u3067\u53cd\u6620\u3055\u308c\u3066\u307e\u3059\u3002\n\u3082\u3057\u304b\u3057\u3066\u30fb\u30fb\u30fb\u30fb\u3068\u601d\u3044\u304a\u3082\u3080\u308d\u306b\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u4ee5\u4e0b\u3092\u53e9\u304d\u307e\u3059\u3002\nPosts.insert({title:\"Second post\"});\n\n\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\nPosts.insert({title:\"Second post\"});\n\"tsCY2Wk4L2p7GvGnn\"\n\n\n\u306a\u3093\u304bID\u3063\u307d\u3044\u306e\u304c\u8fd4\u3063\u3066\u304d\u305f\u30fb\u30fb\u30fb\u3002\nTerminal\u306b\u623b\u3063\u3066\u30b3\u30de\u30f3\u30c9db.posts.find()\u3092\u6253\u3061\u307e\u3059\u3002\n\nmongodbShell\nmeteor:PRIMARY> db.posts.find();\n{ \"_id\" : ObjectId(\"545439d965f913c98bf37b97\"), \"title\" : \"A new post\" }\n{ \"title\" : \"Second post\", \"_id\" : \"tsCY2Wk4L2p7GvGnn\" }\n\n\n\u30b5\u30fc\u30d0\u306b\u3082\u53cd\u6620\u3055\u308c\u305f\u30fb\u30fb\u30fb\u30fb\u3059\u3054\u3059\u304e\u3002\n\u3053\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3067\u52d5\u3044\u3066\u3044\u308bmongoDB\u306fminiMongo\u3068\u3044\u3046\u3089\u3057\u3044\u3067\u3059\u3002\n\u5f15\u304d\u7d9a\u304d\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u7d9a\u3051\u308b\u305f\u3081\u3001\u4f5c\u3063\u305fDB\u306e\u60c5\u5831\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\u30a2\u30d7\u30ea\u304c\u8d77\u52d5\u4e2d\u306eTerminal\u3067ctrl+C\u3067\u629c\u3051\u3066\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\nreset\n$ meteor reset\n$ meteor #\u518d\u8d77\u52d5\n\n\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\nserver/fixtures.js\nif (Posts.find().count() === 0) {\n  Posts.insert({\n    title: 'Introducing Telescope',\n    url: 'http://sachagreif.com/introducing-telescope/'\n  });\n\n  Posts.insert({\n    title: 'Meteor',\n    url: 'http://meteor.com'\n  });\n\n  Posts.insert({\n    title: 'The Meteor Book',\n    url: 'http://themeteorbook.com'\n  });\n}\n\n\nclient/templates/posts/posts_list.js\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\nclient/templates/posts/posts_list.js\nTemplate.postsList.helpers({\n  posts: function() {\n    return Posts.find();\n  }\n});\n\n\n\u66f8\u304d\u63db\u3048\u305f\u77ac\u9593\u306b\u5909\u308f\u308b\u306e\u306f\u3059\u3054\u3044\u30fb\u30fb\u30fb\u3002\n\u3068\u3053\u308d\u3067\u3001\u3061\u3087\u3063\u3068\u5fa9\u7fd2\u306a\u3093\u3067\u3059\u304c\n\nlib/collections/posts.js\nPosts = new Mongo.Collection('posts');\n\n\n\u5909\u6570\u5ba3\u8a00\u306bvar\u304c\u4ed8\u3044\u3066\u306a\u3044\u306e\u308f\u304b\u308a\u307e\u3059\u3067\u3057\u3087\u3046\u304b\uff1f\nvar\u3092\u3064\u3051\u308b\u3068 \u305d\u306e\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u30b9\u30b3\u30fc\u30d7\u304c\u9589\u3058\u3089\u308c\u308b\u305d\u3046\u3067\u3059\u3002\u3053\u306ePosts\u306f\u30a2\u30d7\u30ea\u5168\u4f53\u3067\u4f7f\u3044\u305f\u3044\u306e\u3067\u3001\nvar\u306f\u4ed8\u3051\u305a\u306b\u5909\u6570\u5ba3\u8a00\u3092\u884c\u3044\u307e\u3059\u3002\n\u3082\u3046\u4e00\u70b9\u3002\n\nclient/templates/posts/posts_list.js\nTemplate.postsList.helpers({\n  posts: function() {\n    return Posts.find();\n  }\n});\n\n\n\u4e0a\u8a18\u306ePosts.find()\u3067\u306f\u5b9f\u306fArray\u3067\u306f\u306a\u304fcursor\u304c\u8fd4\u308a\u307e\u3059\u3002\u4eca\u6d41\u884c\u308a\u306e\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3068\u3044\u3046\u3082\u306e\u3089\u3057\u3044\u3067\u3059\u3002cursor\u306f\u307e\u3060\u3053\u306e\u6bb5\u968e\u3067\u306fDB\u304b\u3089\u5024\u3092\u53d6\u5f97\u3057\u3066\u304a\u3089\u305a\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u3067\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u76f4\u524d\u306b\u53d6\u5f97\u3059\u308b\u3088\u3046\u3067\u3059\u3002\n\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u900f\u904e\u7684\u306b\u30b5\u30fc\u30d0\u304b\u3089\u306e\u5909\u66f4\u5185\u5bb9\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u901a\u77e5\u3059\u308b\u308f\u3051\u3067\u3059\u306d\u3002\n\u306a\u306e\u3067\u3001\u30ed\u30b0\u51fa\u529b\u3059\u308b\u5834\u5408\u306fPosts.find().fetch()\u3067Array\u306b\u5909\u63db\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u8a73\u7d30\u306f\u3053\u3061\u3089\n\nCollection\u304cClient\u3068\u5168\u5171\u6709\u3055\u308c\u3066\u3044\u308b\u554f\u984c\u306e\u89e3\u6c7a\n\u6a19\u6e96\u3067\u306f\u3001autopublish\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nautopublish\u306fclient\u306eCollection\u3068Server\u306eCollection\u304c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002\nmeteor remove autopublish\n\n\u524a\u9664\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3053\u306e\u6a5f\u80fd\u3092Off\u306b\u3057\u307e\u3059\u3002\n\u4ee3\u308f\u308a\u306b\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u306b\u3088\u3063\u3066Collection\u5358\u4f4d\u3067\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\n\u3053\u306e\u8fba\u306e\u8a73\u3057\u3044\u4ed5\u7d44\u307f\u306fdiscovermeteor:Publications and Subscriptions\u3092\u8aad\u3080\u3068\u826f\u3055\u305d\u3046\u3067\u3059\u3002\uff08\u305d\u306e\u3046\u3061\u7ffb\u8a33\u3057\u305f\u3044\uff09\n\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306e\u516c\u958b\u51e6\u7406\n\nserver/publications.js\nMeteor.publish('posts', function() {\n  return Posts.find();\n});\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306e\u53d7\u3051\u5165\u308c\u51e6\u7406\n\nclient/main.js\nMeteor.subscribe('posts');\n\n\n\n\u30eb\u30fc\u30c6\u30a4\u30f3\u30b0\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30eb\u30fc\u30c6\u30a4\u30f3\u30b0\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\nterminal\nmeteor add iron:router\n\n\n\u30eb\u30fc\u30c6\u30a4\u30f3\u30b0\u3092\u884c\u3046\u306b\u3042\u305f\u308a\u30d8\u30c3\u30c0\u3084\u30dd\u30b9\u30c8\u4e00\u89a7\u306e\u8868\u793a\u306a\u3069\u306f\nurl\u304c\u5909\u308f\u3063\u3066\u3082\u57fa\u672c\u7684\u306b\u540c\u3058\u69cb\u6210\u306b\u3057\u305f\u3044\u3067\u3059\u3002\n\n\u307e\u305a\u306fmain.html\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u4eca\u56de\u4f7f\u3046iron-router\u306fbody\u30bf\u30b0\u306e\u4e2d\u3092\u4f5c\u308a\u3053\u3093\u3067\u3044\u304d\u307e\u3059\u306e\u3067\u3001\u305d\u308c\u4ee5\u5916\u3092main.html\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nclient/main.html\n<head>\n<title>Microsope</title>\n</head>\n\n\n\u6b21\u306f\"layout\" Template\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nclient/templates/application/layout.html\n<template name=\"layout\">\n  <div class=\"container\">\n    <header class=\"navbar navbar-default\" role=\"navigation\"> \n      <div class=\"navbar-header\">\n         <a class=\"navbar-brand\" href=\"{{pathFor 'postsList'}}\">Microscope</a>\n      </div>\n    </header>\n    <div id=\"main\" class=\"row-fluid\">\n      {{> yield}}\n    </div>\n  </div>\n</template>\n\n\n\n\u30eb\u30fc\u30c6\u30a4\u30f3\u30b0\u306e\u8a2d\u5b9a\u3067\u5e38\u306b\u4e0a\u8a18Template\u304c\u547c\u3070\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u305d\u3057\u3066url\u306b\u3088\u3063\u3066{{> yield}}\u306e\u7b87\u6240\u304c\u5909\u308f\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\n\nlib/router.js\nRouter.configure({\n  layoutTemplate: 'layout'\n});\n\nRouter.route('/', {name: 'postsList'});\n\n\nname\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u8a2d\u5b9a\u3057\u305fTemplate\u304c{{> yield}}\u306b\u5165\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u305d\u308c\u306b\u3057\u3066\u3082router.js\u306flib\u306b\u5165\u308c\u308b\u3093\u3067\u3059\u306d\u3002/server\u304b/client\u306e\u3069\u3061\u3089\u304b\u306b\u5165\u308c\u308b\u3068\u601d\u3063\u3066\u307e\u3057\u305f\u3002\n/lib\u306b\u5165\u308c\u308b\u306e\u306f\u30a2\u30d7\u30ea\u304c\u4f55\u304b\u3059\u308b\u524d\u306b\u547c\u3070\u308c\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u305f\u3081\u3060\u305d\u3046\u3067\u3059\u3002\u3067\u3082\u5171\u7528\u30b3\u30fc\u30c9\u306b\u542b\u307e\u308c\u308b\u3053\u3068\u306b\u306a\u308b\u306e\u306f\u6c17\u6301\u3061\u304c\u60aa\u3044\u3088\u3046\u306a\u30fb\u30fb\u30fb\u30fb\u3002\n\n\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8868\u793a\n\u30da\u30fc\u30b8\u3092\u6700\u521d\u306b\u958b\u3044\u305f\u3068\u304d\u3001Meteor.subscribe('posts')\u304c\u5b9f\u884c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u6642\u9593\u304c\u304b\u304b\u308b\u305f\u3081\uff08\u30b5\u30fc\u30d0\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u307e\u3067\u5b8c\u4e86\u3057\u306a\u3044\u305f\u3081\uff09\u7a7a\u6b04\u8868\u793a\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u305d\u308c\u3092\u9632\u3050\u305f\u3081\u306e\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nIron Router\u306e\u6a5f\u80fd\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\u307e\u305a\u306fmain.js\u5185\u306eMeteor.subscribe('posts');\u3092\u3053\u3061\u3089\u306b \u79fb\u52d5\u3055\u305b\u307e\u3059\u3002\n\nlib/router.js\n  Router.configure({\n    layoutTemplate: 'layout',\n+   waitOn: function() { return Meteor.subscribe('posts'); }\n  });\n\n  Router.route('/', {name: 'postsList'});\n\n\n\u3053\u306e\u5909\u66f4\u306b\u3088\u3063\u3066\u3001Iron Router\u306f\u305d\u306e\u30eb\u30fc\u30c8\u3078\u306e\u8868\u793a\u6e96\u5099\u304c\u5b8c\u4e86\u3057\u305f\u3053\u3068\u304c\n\u308f\u304b\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u308f\u3051\u3067\u3059\u3002\n\u3055\u3066\u6e96\u5099\u4e2d\u306f\u7d44\u307f\u8fbc\u307f\u306e\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u4e2d\u8868\u793a\u304c\u51fa\u308b\u308f\u3051\u3067\u3059\u304c\u3001\u3053\u3061\u3089\u3082\u81ea\u5206\u597d\u307f\u306b\u5f53\u7136\u4fee\u6b63\u53ef\u80fd\u3067\u3059\u3002\n\u307e\u305f\u3001lib/router.js\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\nlib/router.js\n  Router.configure({\n    layoutTemplate: 'layout',\n+   loadingTemplate: 'loading',\n    waitOn: function() { return Meteor.subscribe('posts'); }\n  });\n\n  Router.route('/', {name: 'postsList'});\n\n\n\u3061\u306a\u307f\u306b\u306b\u3053\u306e\u8a2d\u5b9a\u306f\u5168\u30eb\u30fc\u30c8\u5171\u901a\u306bwaitOn\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u305f\u3081\u3001\n\u672c\u30a2\u30d7\u30ea\u306b\u4e00\u756a\u6700\u521d\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u77ac\u9593\u306b\u3060\u3051\u5b9f\u884c\u3055\u308c\u308b\u70b9\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30d6\u30e9\u30a6\u30b6\u306b\u8a18\u61b6\u3055\u308c\u305f\u3089\u3001\u4ee5\u5f8c\u5b9f\u884c\u3055\u308c\u307e\u305b\u3093\u3002\nloading Template\u3092\u8a2d\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\n\u30b9\u30d4\u30ca\u30fc\u8868\u793a\u306e\u305f\u3081\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\nTerminal\n$ meteor add sacha:spin\n\n\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u4f5c\u6210\n\nclient/templates/includes/loading.html\n<template name=\"loading\">\n  {{>spinner}}\n</template>\n\n\n\n\u3067\u3059\u304c\u30b9\u30d4\u30ca\u30fc\u306e\u5909\u5316\u308f\u304b\u3089\u306a\u3044\u30fb\u30fb\u30fb\n\npost\u8a73\u7d30\u753b\u9762\u306e\u8ffd\u52a0\npost\u306e\u8a73\u7d30\u753b\u9762\u3092\u8ffd\u52a0\u3057\u3066\u307f\u307e\u3059\u3002\n\u307e\u305aRoute\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nlib/router.js\n    Router.configure({\n      layoutTemplate: 'layout',\n      loadingTemplate: 'loading',\n      waitOn: function() { return Meteor.subscribe('posts'); }\n    });\n\n   Router.route('/', {name: 'postsList'});\n+  Router.route('/posts/:_id', {\n+     name: 'postPage',\n+     data: function(){return Posts.findOne(this.params._id);}\n+   });\n\n\n\nlib/router.js\u306edata\u95a2\u6570\u3067\u53d6\u5f97\u3057\u305f\u7d50\u679c\u304c\npostPage Template\u306ethis\u3068\u7d10\u4ed8\u304d\u307e\u3059\u3002\n/posts/:_id\u306e\u8a18\u8ff0\u306f\u3088\u304f\u3042\u308b\u3084\u3064\u3067\u3059\u306d\u3002\nurl\u306e:_id\u306b\u5bfe\u5fdc\u3059\u308b\u6587\u5b57\u5217\u304cthis.params._id\u3067\u53d6\u5f97\u3067\u304d\u308b\u3068\u3002\n\u5bfe\u5fdc\u3059\u308bTemplate\u3092\u8ffd\u52a0\n\nclient/templates/posts/post_page.html\n<template name=\"postPage\">\n  {{> postItem}}\n</template>\n\n\n\u5168\u7136\u8a73\u7d30\u753b\u9762\u3058\u3083\u306a\u3044\u3002postItem Template\u6d41\u7528\u3067\u3059\u306d\u3002\n\u3068\u3053\u308d\u3067this\u3068template\u306e\u5bfe\u5fdc\u306b\u3064\u3044\u3066\u88dc\u8db3\u304c\u3042\u308a\u307e\u3059\u3002\n{{#each widgets}}\n  {{> widgetItem}}\n{{/each}}\n\n\u4e0a\u8a18\u306e\u5834\u5408widgets\u304cCollection\u3067\u5404\u8981\u7d20\u304cwidgetItem Template\u306ethis\u306b\u5165\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3044\u3064\u3082\u306e\u3084\u3064\u3067\u3059\u306d\u3002\n\u4ed6\u306b\u3082\u3042\u308a\u307e\u3057\u3066\u3001\n{{#with myWidget}}\n  {{> widgetPage}}\n{{/with}}\n\n\u3068\n{{> widgetPage myWidget}}\n\n\u306f\u5168\u304f\u540c\u3058\u610f\u5473\u3067\u3001\u3000myWidget\u304cwidgetPageTemplate\u306ethis\u306b\u5165\u308a\u307e\u3059\n\u3053\u308c\u3067\u3068\u308a\u3042\u3048\u305a\u8a73\u7d30\u753b\u9762\u306f\u3067\u304d\u307e\u3057\u305f\u304c\u3001\u305d\u3053\u306b\u9077\u79fb\u3059\u308b\u305f\u3081\u306e\u30ea\u30f3\u30af\u304c\u306a\u3044\u3067\u3059\u3002\n\u305d\u308c\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u307e\u305a\u306fpostsList\u753b\u9762\u306bDiscuss\u30dc\u30bf\u30f3\u3092\u4f5c\u308a\u305d\u3053\u304b\u3089\u30ea\u30f3\u30af\u3057\u307e\u3059\u3002\n\nclient/templates/posts/post_item.html\n    <template name=\"postItem\">\n      <div class=\"post\">\n        <div class=\"post-content\">\n          <h3><a href=\"{{url}}\">{{title}}</a><span>{{domain}}</span></h3>\n        </div>\n+       <a href=\"{{pathFor 'postPage'}}\" class=\"discuss btn btn-default\">Discuss</a>\n      </div>\n    </template>\n\n\n\u3053\u308c\u3067\u52d5\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30fb\u30fb\u30fb\n\u3067\u3082\u5b9f\u306f\u3061\u3087\u3063\u3068\u5909\u306a\u3068\u3053\u308d\u304c\u3042\u308a\u307e\u3059\u3002\na href=\"{{pathFor 'postPage'}}\"\u3063\u3066\u5909\u63db\u3055\u308c\u308b\u3068a href=\"/posts\"\u3067\u3059\u3088\u306d\u30fb\u30fb\u30fb\u3002\n\u3053\u308c\u3067\u52d5\u304f\u3063\u3066\u5909\u3058\u3083\u306a\u3044\u3067\u3059\u304b\u30fb\u30fb\u3002\n\u3053\u308c\u306fIron Router \u304c\u982d\u304c\u3044\u3044\u3053\u3068\u306brouter\u8a2d\u5b9a\u3092\u5143\u306bid\u304c\u5fc5\u8981\u3060\u3068\u3044\u3046\u3053\u3068\u3092\u8aad\u307f\u53d6\u3063\u3066\u5bfe\u5fdc\u3057\u3066\u304f\u308c\u305f\u3089\u3057\u3044\u3067\u3059\u3002\n\nNotFound\u30da\u30fc\u30b8\u3078\u306e\u9077\u79fb\u3092\u8ffd\u52a0\nTemplate\u304b\u3089\u4f5c\u6210\n\nclient/templates/application/not_found.html\n<template name=\"notFound\">\n  <div class=\"not-found jumbotron\">\n    <h2>404</h2>\n    <p>Sorry, we couldn't find a page at this address.</p>\n  </div>\n</template>\n\n\n\u30eb\u30fc\u30c6\u30a4\u30f3\u30b0\u5909\u66f4\n Router.configure({\n   layoutTemplate: 'layout',\n   loadingTemplate: 'loading',\n+  notFoundTemplate: 'notFound',\n   waitOn: function() { return Meteor.subscribe('posts'); }\n });\n\n//...\n\n\n\u9069\u5f53\u306b\u9077\u79fb\u3057\u3066\u307f\u3066\u3061\u3083\u3093\u3068\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3067\u3082\u3053\u308c\u3060\u3068localhost:3000/posts/xyz\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3082NotFound\u306b\u306a\u3089\u306a\u3044\u3067\u3059\u3002\n\u30c7\u30fc\u30bf\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306b\u3082NotFound\u306b\u884c\u304d\u305f\u3044\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nlib/router.js\n//\u4e00\u756a\u4e0b\u306b\u8ffd\u8a18\nRouter.onBeforeAction('dataNotFound', {only: 'postPage'});\n\n\n\u3053\u308c\u306fdata\u95a2\u6570\u304cnull, false, undefined,empty\u306e\u3044\u305a\u308c\u304b\u3092\u8fd4\u3057\u305f\u5834\u5408\u306b\nnotFound \u6271\u3044\u306b\u3057\u307e\u3059\u3002\n\nsession\u306e\u8a71\nsession\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u307f\u305f\u3044\u3067\u5acc\u3046\u3053\u3068\u3082\u591a\u3044\u3067\u3059\u304c\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u56fa\u6709\u306e\u60c5\u5831\u3001\n\u4f8b\u3048\u3070\u4e00\u6642\u7684\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e0a\u975e\u8868\u793a\u306b\u3057\u3066\u3044\u308b\u306a\u3069\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u56fa\u6709\u306e\u60c5\u5831\u4fdd\u5b58\u306b\u306f\u5fc5\u8981\u3067\u3059\u3002\n\u4f7f\u3044\u65b9\u306f\u7c21\u5358\u3067\u3059\u3002\n\u30d6\u30e9\u30a6\u30b6\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\nSession.set('pageTitle', 'A different title'); //\u5024\u306e\u8a2d\u5b9a\nSession.get('pageTitle'); //\u5024\u306e\u53d6\u5f97\n\n\n\u3053\u3053\u3067\u3059\u3054\u3044Session.set\u306e\u8a71\u3002\n\u30bb\u30c3\u30c8\u3059\u308b\u5024\u304c\u8a2d\u5b9a\u6e08\u307f\u306e\u5024\u3068\u540c\u3058\u5834\u5408\u306f\u95a2\u6570\u547c\u3073\u51fa\u3057\u3092\u907f\u3051\u308b\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u308b\u305d\u3046\u3067\u3059\u3002\uff08\u4ed5\u7d44\u307f\u304c\u60f3\u50cf\u3067\u304d\u306a\u3044\uff09\n\u3082\u3046\u4e00\u3064\u3001\u5185\u90e8\u7684\u306a\u4ed5\u7d44\u307f\u304c\u60f3\u50cf\u3067\u304d\u306a\u3044\u3051\u3069\u3059\u3054\u3044\u6a5f\u80fd\u3067\u3059\u3002\nAutorun\u3067\u3059\u3002\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u5b9f\u884c\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\nTracker.autorun( function() { console.log('Value is: ' + Session.get('pageTitle')); } );\nSession.set('pageTitle', 'Yet another value');\nValue is: Yet another value\n\n\n\u8a2d\u5b9a\u3057\u305f\u77ac\u9593\u306b\u51fa\u529b\u3055\u308c\u3068\u308b\u30fb\u30fb\u30fb\u3002\nautorun\u30d6\u30ed\u30c3\u30af\u5185\u306e\u30b3\u30fc\u30c9\u304c\u5185\u90e8\u306eSession.get('pagetitle')\u306e\u5909\u66f4\u72b6\u614b\u3092\u76e3\u8996\u3057\u3066\u3001\u5909\u66f4\u3055\u308c\u308b\u3068\u81ea\u52d5\u5b9f\u884c\u3055\u308c\u308b\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u66f0\u304fsession\u306freactive data sources\u3060\u304b\u3089\u53ef\u80fd\u3068\u306e\u3053\u3068\u3002\u8a73\u7d30\u306f\u3053\u3061\u3089\u3067\n\u3042\u3068\u6700\u5f8c\u306b\u88dc\u8db3\u3067\u3059\u3002 \u958b\u767a\u4e2d\u306f\u30ea\u30ed\u30fc\u30c9\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30bb\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u6d88\u3048\u307e\u3059\u3002\n\n\u30e6\u30fc\u30b6\u7ba1\u7406\n\u30e6\u30fc\u30b6\u7ba1\u7406\u306e\u4f7f\u3044\u65b9\u3067\u3059\u3002\nbootstrap\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u4ee5\u4e0b\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\nTerminal\nmeteor add ian:accounts-ui-bootstrap-3 #accounts-ui\u306ebootstrap\u7248\nmeteor add accounts-password\n\n\nheader\u3092\u62e1\u5f35\u3057\u3066\u30a2\u30ab\u30a6\u30f3\u30c8\u30ed\u30b0\u30a4\u30f3\u30dc\u30bf\u30f3\u3092\u7d44\u307f\u8fbc\u307f\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5909\u66f4\n\nclient/templates/application/layout.html\n <template name=\"layout\">\n   <div class=\"container\">\n-    <header class=\"navbar navbar-default\" role=\"navigation\">\n-      <div class=\"navbar-header\">\n-         <a class=\"navbar-brand\" href=\"{{pathFor 'postsList'}}\">Microscope</a>\n-      </div>\n-    </header>\n+   {{> header}}\n     <div id=\"main\" class=\"row-fluid\">\n       {{> yield}}\n     </div>\n   </div>\n\n\nheader Template\u3092\u8ffd\u52a0\n\nclient/templates/includes/header.html\n<template name=\"header\">\n  <nav class=\"navbar navbar-default\" role=\"navigation\">\n    <div class=\"container-fluid\">\n      <div class=\"navbar-header\">\n        <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navigation\">\n          <span class=\"sr-only\">Toggle navigation</span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n        </button>\n        <a class=\"navbar-brand\" href=\"{{pathFor 'postsList'}}\">Microscope</a>\n      </div>\n      <div class=\"collapse navbar-collapse\" id=\"navigation\">\n        <ul class=\"nav navbar-nav navbar-right\">\n          {{> loginButtons}}\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n\n\u30dd\u30a4\u30f3\u30c8\u306f{{> loginButtons}}\u306e\u7b87\u6240\u3067\u3059\u306d\u3002\u8a73\u7d30\u306f\u3053\u3061\u3089\u3067\n\u3053\u308c\u3067\u7d44\u307f\u8fbc\u307f\u306eaccount-ui\u753b\u9762\u304c\u51fa\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u5b9f\u969b\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u3063\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u307e\u3057\u3087\u3046\n\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u4f5c\u6210\u3067\u304d\u307e\u3057\u305f\u304b\uff1f\n\u5b9f\u306faccounts\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u308b\u3053\u3068\u3067\u3001\u81ea\u52d5\u3067Collection\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002Meteor.users\u3067\u3059\u3002\n\u5b9f\u969b\u306b\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\nMeteor.users.findOne();\nObject {_id: \"foRHJjMWe8L9H4Bdi\", profile: Object, username: \"abe\"}\n\n\n\u5e30\u3063\u3066\u304d\u305f\u7d50\u679c\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n_is\u3068username,profile\u304f\u3089\u3044\u3057\u304b\u306a\u3044\u306e\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3061\u306a\u307f\u306bMeteor.user()\u3067\u3082\u540c\u3058\u7d50\u679c\u304c\u8fd4\u308a\u307e\u3059\u3002\n\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u3066\u3082\u3046\u4e00\u3064\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\u305d\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u518d\u30ed\u30f3\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4eca\u5ea6\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\nMeteor.users.find().count();\n1\n\n\n2\u3058\u3083\u306a\u304f\u30661\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\n\u4eca\u5ea6\u306fMongoshell(Terminal\u304b\u3089meteor mongo)\u304b\u3089\u898b\u3066\u307f\u307e\u3057\u3087\u3046\n\nmongoShell\nmeteor:PRIMARY>db.users.count()\n2\n\n\n\u3053\u3063\u3061\u306f\u3061\u3083\u3093\u30682\u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\u3053\u308c\u306f\u306a\u3093\u3067\u304b\uff1f\n\u5b9f\u306fautopublish\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u524a\u9664\u3057\u305f\u3053\u3068\u3092\u899a\u3048\u3066\u3044\u307e\u3059\u304b\uff1f\n\u3053\u308c\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u30b5\u30fc\u30d0\u5074\u306eCollection\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306eCollection\u306e\u30df\u30e9\u30fc\u3092\u505c\u6b62\u3055\u305b\u305f\u306f\u305a\u3067\u3059\u3002\n\u305d\u3057\u3066publication\u3068subscription\u306e\u8a2d\u5b9a\u3092\u884c\u3063\u305f\u3053\u3068\u3082\u3002\n\u306a\u306e\u306bMeteor.usersCollection\u306f\u898b\u3048\u307e\u3057\u305f\u306d\u3002\n\u5b9f\u306faccount\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u3084\u3063\u3066\u304f\u308c\u305f\u3093\u3067\u3059\u3002\u4fbf\u5229\u3067\u3059\u306d\u3002\naccount\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u60c5\u5831\u3060\u3051\u3092publish\u306b\u3057\u3066\u304f\u308c\u305f\u308f\u3051\u3067\u3059\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306f\u81ea\u5206\u4ee5\u5916\u306e\u60c5\u5831\u304c\u898b\u3048\u3066\u306f\u3044\u3051\u306a\u3044\u3067\u3059\u304b\u3089\u306d\u3002\n\u305d\u308c\u3060\u3051\u3067\u306f\u306a\u304f\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30d5\u30a3\u30eb\u30bf\u3082\u884c\u3063\u3066\u304f\u308c\u3066\u307e\u3059\u3002\n\u898b\u3066\u307f\u307e\u3057\u3087\u3046\n\nmongoShell\nmeteor:PRIMARY> db.users.findOne()\n{\n    \"_id\" : \"55vyZRn3Na2uietY8\",\n    \"createdAt\" : ISODate(\"2014-11-01T13:49:52.625Z\"),\n\n//\u306a\u3093\u304b\u305f\u304f\u3055\u3093\u3067\u308b\u30fb\u30fb\n    }\n}\n\n\n\u3053\u308c\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306f\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u30d5\u30a3\u30eb\u30bf\u3055\u308c\u3066\u308b\u3063\u3066\u3053\u3068\u304c\u308f\u304b\u3063\u305f\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u8a73\u7d30\u306f\u3053\u3061\u3089\u3067\n\n\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3076\n\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u3064\u3044\u3066\u8abf\u3079\u308b\u3068\u3001\n\u5927\u62b5\u4f8b\u3068\u3057\u3066Excel\u306e\u8a71\u304c\u51fa\u307e\u3059\u3002Excel\u306e\u5404Cell\u306b\u306f\u5024\u3060\u3051\u3067\u306a\u304f\u95a2\u6570\u3092\u8a18\u8ff0\u3059\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u4f9d\u5b58\u3057\u3066\u3044\u308bCell\u306e\u5024\u3092\u66f8\u304d\u63db\u3048\u308b\u3068\u77ac\u6642\u306b\u95a2\u9023\u3059\u308bCell\u306e\u5024\u304c\u518d\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u3092\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3068\u3057\u3066\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u4e16\u754c\u3067\u3082\u9069\u7528\u3057\u3088\u3046\u3068\u3044\u3046\u306e\u304cMetelor\u306e\u601d\u60f3\u306b\u306a\u308a\u307e\u3059\u3002\njavascript\u3067\u5024\u76e3\u8996\u3092\u3059\u308b\u5834\u5408\u306f.observe()\u95a2\u6570\u3092\u4f7f\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u3053\u3093\u306a\u98a8\u306b\u66f8\u304f\u3068\u304b\n\n\u4f8b\nPosts.find().observe({\n  added: function(post) {\n    // when 'added' callback fires, add HTML element\n    $('ul').append('<li id=\"' + post._id + '\">' + post.title + '</li>');\n  },\n  changed: function(post) {\n    // when 'changed' callback fires, modify HTML element's text\n    $('ul li#' + post._id).text(post.title);\n  },\n  removed: function(post) {\n    // when 'removed' callback fires, remove HTML element\n    $('ul li#' + post._id).remove();\n  }\n});\n\n\n\u3082\u3046\u898b\u305f\u3060\u3051\u3067\u5c06\u6765\u7834\u7dbb\u3059\u308b\u3053\u3068\u304c\u76ee\u306b\u898b\u3048\u3066\u3044\u307e\u3059\u3002\nMeteor\u3067\u306f\u5ba3\u8a00\u7684\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u884c\u3044\u307e\u3059\u3002\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u9593\u306e\u95a2\u4fc2\u6027\u3092\u8a18\u8ff0\u3057\u3001\u81ea\u52d5\u3067\u5024\u76e3\u8996\u3092\u884c\u3046\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n<template name=\"postsList\">\n  <ul>\n    {{#each posts}}\n      <li>{{title}}</li>\n    {{/each}}\n  </ul>\n</template>\n\nTemplate.postsList.helpers({\n  posts: function() {\n    return Posts.find();\n  }\n});\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u3066\u304a\u304f\u3053\u3068\u306b\u3088\u3063\u3066Meteor\u304c.observe()\u95a2\u6570\u3092\u3064\u304b\u3063\u3066\u5024\u306e\u5909\u5316\u3068HTML\u306e\u8981\u7d20\u306e\u5bfe\u5fdc\u3092\u899a\u3048\u3066\u304f\u308c\u307e\u3059\u3002\n\u8a08\u7b97\u51e6\u7406\u306b\u3064\u3044\u3066\u3082meteor\u306f\u76e3\u8996\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u8a08\u7b97\u51e6\u7406\u306e\u4e2d\u306breactive data source\u304c\u542b\u307e\u308c\u3066\u3044\u308c\u3070\u305d\u306e\u8a08\u7b97\u306f\u8a72\u5f53\u3059\u308breactive data source\u306e\u5909\u5316\u306b\u5f71\u97ff\u3092\u53d7\u3051\u308b\u3053\u3068\u306f\u660e\u3089\u304b\u306a\u306e\u3067\u4f9d\u5b58\u5bfe\u8c61\u306b\u81ea\u52d5\u3067\u542b\u3081\u3066\u304f\u308c\u307e\u3059\u3002\n\u4f8b\u3092\u6319\u3052\u3066\u307f\u307e\u3059\u3002\nMeteor.startup(function() {\n  Tracker.autorun(function() {\n    console.log('There are ' + Posts.find().count() + ' posts');\n  });\n});\n\n\u4e0a\u8a18\u306eMeteor.startup()\u30d6\u30ed\u30c3\u30af\u5185\u306e\u30b3\u30fc\u30c9\u306fPost Collection\u304c\u30ed\u30fc\u30c9\u5b8c\u4e86\u3057\u305f\u969b\u306b\u4e00\u5ea6\u3060\u3051\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\u898b\u308b\u3079\u304d\u30dd\u30a4\u30f3\u30c8\u306fautorun\u30d6\u30ed\u30c3\u30af\u3067\u3059\u3002\nPosts.find()\u306freactive data source\u3067\u3042\u308bcursor\u3092\u8fd4\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u30d6\u30ed\u30c3\u30af\u5185\u306e\u8a08\u7b97\u306fPosts.find()\u306e\u5909\u5316\u306b\u5f71\u97ff\u3059\u308b\u305f\u3081\u3001\u4f9d\u5b58\u5bfe\u8c61\u306b\u542b\u307e\u308c\u307e\u3059\u3002\n\u7d50\u679c\u3001posts\u306e\u5185\u5bb9\u304c\u5909\u5316\u3059\u308b\u305f\u3073\u306b\u81ea\u52d5\u3067\u5b9f\u884c\u3055\u308c\u308b\u308f\u3051\u3067\u3059\u3002\n\u4ee5\u4e0b\u5b9f\u884c\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n> Posts.insert({title: 'New Post'});\nThere are 4 posts.\n\n\u9577\u304f\u306a\u3063\u305f\u306e\u3067\u7d9a\u304d\u306f\u3053\u3063\u3061\u3067\n\n##Meteor\u3063\u3066\u306a\u306b\n\nNodeJS\u306e\u30d5\u30eb\u30b9\u30bf\u30c3\u30af\u306a\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30fb\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002\n\u88cf\u3067WebSocket\u3092\u4f7f\u3063\u3066\u304a\u308a\u3001\u69cb\u7bc9\u4e2d\u306bWeb\u753b\u9762\u304c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u5909\u308f\u3063\u3066\u3044\u304f\u69d8\u5b50\u306f\u304b\u306a\u308a\u65b0\u9bae\u3067\u3059\u3002\n\n\u3059\u3054\u3044\u3068\u3053\u308d\u306f\u3001\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u5185\u306bMongoDB\u304c\u5185\u8535\u3055\u308c\u3066\u304a\u308a\u3001\u305d\u306edb\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002(MiniMongo\u3068\u3044\u3046client\u30b5\u30a4\u30c9\u306eDB\u6a5f\u80fd\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u3046\u3044\u3046\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\u307f\u305f\u3044\u3067\u3059\u3002)\n\nBaas\u306efirebase\u3082\u611f\u52d5\u3057\u307e\u3057\u305f\u304c\u3001\u3042\u308c\u306f\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306eCollection\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306eCollection\u306e\u540c\u671f\u306f\u624b\u52d5\u3067\u7d10\u4ed8\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\nMeteor\u306f\u30b5\u30fc\u30d0\u304b\u3089\u306eCollection\u306e\u5909\u66f4\u3082\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u5909\u66f4\u3082\u77ac\u6642\u306b\u304a\u4e92\u3044\u306b\u30df\u30e9\u30fc\u3055\u308c\u3001\n **\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u3082\u542b\u3081\u3066\u306e\u4e00\u3064\u306e\u30a2\u30d7\u30ea**\u3092\u4f5c\u3063\u3066\u3044\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\n\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u304c\u53ef\u80fd\u306a\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3082\u3042\u308a\u3001\n\u4f8b\u3048\u3070Session\u306e\u7279\u5b9a\u306e\u5024\u3092\u76e3\u8996\u3057\u3066\u3001\u5909\u66f4\u3055\u308c\u305f\u6642\u3060\u3051\u30ed\u30b0\u51fa\u529b\u3059\u308b\u3068\u3044\u3063\u305f\u3053\u3068\u3082\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\n\n\n\u6700\u8fd11.0\u306b\u306a\u3063\u305f\u3088\u3063\u3066\u30a2\u30ca\u30a6\u30f3\u30b9\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u307e\u3060\u66f8\u304d\u304b\u3051\u3067\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3084\u308a\u306a\u304c\u3089\u30e1\u30e2\u3057\u3064\u3064\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\n\n\n\n##DiscoverMeteor\u3092\u3084\u3063\u3066\u307f\u308b\n\n[DiscoverMeteor](https://book.discovermeteor.com/chapter/introduction)\u3092\u3084\u308a\u306a\u304c\u3089\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3057\u3066\u307f\u307e\u3059\n**\u5c1a\u3001[DiscoverMeteor\u65e5\u672c\u8a9e\u8a33\u7248](http://ja.discovermeteor.com/)\u304c\u51fa\u6765\u3064\u3064\u3042\u308a\u307e\u3059\u3002**\n\n\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3059\u3054\u304f\u7c21\u5358\u3067\u3059\u304cNodeJs\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u304c\u524d\u63d0\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n```sh:\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b3\u30de\u30f3\u30c9\ncurl https://install.meteor.com | sh\n```\n\n\n\u307e\u305a\u306f\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306b\u5f93\u3044\u300cmicroscope\u300d\u3068\u304b\u3044\u3046\u300c\u30bd\u30fc\u30b7\u30e3\u30eb\u30cb\u30e5\u30fc\u30b9\u300d\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n```sh:\u74b0\u5883\u4f5c\u308a\n$ meteor create microscope\n```\n\n\n``meteor create <<\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d>>``\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308a\u307e\u3059\u3002\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u3089\u308c\u307e\u3059\u3002\n\n\n### \u30a2\u30d7\u30ea\u8d77\u52d5\u306e\u4ed5\u65b9\n\n```sh:\u8d77\u52d5\n$ cd microscope\n$ meteor\n\n```\n\n\u7c21\u5358\u306a\u30a2\u30d7\u30ea\u304c\u52d5\u304d\u51fa\u3057\u307e\u3057\u305f\u306d\u3002\n[localhost:3000](http://localhost:3000)\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n``Ctrl+C``\u3067\u30a2\u30d7\u30ea\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n### \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f7f\u3044\u65b9\u3092\u5b66\u3076\n\nmeteor\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\n```sh:\u30d1\u30c3\u30b1\u30fc\u30b8\u8ffd\u52a0\nmeteor add mizzao:bootstrap-3\nmeteor add underscore\n```\nmizzao:botstrap-3\u306f\u3053\u3061\u3089\u3092[\u53c2\u7167](https://github.com/mizzao/meteor-bootstrap-3)\nunderscore package\u306e\u65b9\u306fofficial\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u3002\n\nmeteor\u306b\u306f\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\uff15\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\n\n1. platform package\uff1aMeteor core\u304b\u3089\u5206\u5272\u3055\u308c\u305f\n2. First-party package\uff1aMeteor\u30c1\u30fc\u30e0\u304c\u30e1\u30f3\u30c6\u3057\u3066\u308b\n3. Third-party package:[\u3053\u3053](https://atmospherejs.com/)\u3067\u63a2\u3059\u30d1\u30c3\u30b1\u30fc\u30b8\n4. Local package:\u81ea\u4f5c\u306e``/packages``\u306b\u7f6e\u3044\u305f\u30ab\u30b9\u30bf\u30e0\u30d1\u30c3\u30b1\u30fc\u30b8\n5. NPM package:NodeJs\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\n\n\n### \u30d5\u30a1\u30a4\u30eb\u69cb\u9020\n\n\u4f5c\u3063\u305f\u3070\u304b\u308a\u306e\u69cb\u6210\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n```sh:\u4f5c\u6210\u6642\u306e\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\n.meteor\nmicroscope.css  \nmicroscope.html \nmicroscope.js\n```\n\n\u4e0a\u8a18\u306e\u3046\u3061``.meteor``\u4ee5\u5916\u306f\u524a\u9664\u3057\u307e\u3059\u3002\n\n\u4ee3\u308f\u308a\u306b\u4ee5\u4e0b\u306e\u30c7\u30a4\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n| \u4f5c\u6210\u30c7\u30a4\u30ec\u30af\u30c8\u30ea | \u5f79\u5272 |\n|:-----------|------------:|\n| /server    | \u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u3067\u52d5\u304f\u30b3\u30fc\u30c9\u3092\u7f6e\u304d\u307e\u3059 |\n| /client    | \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3067\u52d5\u304f\u30b3\u30fc\u30c9\u3092\u7f6e\u304d\u307e\u3059 |\n| /public    | \u753b\u50cf\u3068\u304b\u9759\u7684\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304d\u307e\u3059 |\n| /lib    | \u5f8c\u8ff0\u3057\u307e\u3059 |\n\n\nMeteor\u306b\u304a\u3044\u3066\u3001\u3042\u308b\u30eb\u30fc\u30eb\u3067\u81ea\u52d5\u3067\u30d5\u30a1\u30a4\u30eb\u304c\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\u306a\u306e\u3067\u305d\u306e\u30eb\u30fc\u30eb\u306b\u5f93\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u304a\u3051\u3070\u52dd\u624b\u306b\u8aad\u307f\u8fbc\u307e\u308c\u3066\u7d44\u307f\u8fbc\u307e\u308c\u307e\u3059\u3002\n\n\u3061\u306a\u307f\u306b``/server``\u3068``/client``\u3067js\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u3068\u3001\n\u305d\u308c\u305e\u308c\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3067\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u304c\u3001\n\u305d\u308c\u4ee5\u5916\u306e\u30c7\u30a4\u30ec\u30af\u30c8\u30ea\u306b\u7f6e\u3044\u305f\u5834\u5408\u306f **\u4e21\u65b9\u3067**\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\n\u30ed\u30fc\u30c9\u3055\u308c\u308b\u30eb\u30fc\u30eb\u306f\u4ee5\u4e0b\u3068\u306a\u308a\u307e\u3059\u3002\n\n1. /lib\u306b\u7f6e\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u6700\u512a\u5148\u3067\u30ed\u30fc\u30c9\n2. main.*\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u305d\u306e\u6b21\u306b\u30ed\u30fc\u30c9\n3. \u30d5\u30a1\u30a4\u30eb\u540d\u306e\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u9806\u306b\u30ed\u30fc\u30c9\n\n\n\u3042\u3068``.meteor`` \u306e\u4e2d\u306b\u3064\u3044\u3066\u3067\u3059\u304c\u3001\n``.meteor/packages`` ``.meteor/release``\u304c\u305d\u308c\u305e\u308c\u3001\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u60c5\u5831\u3001meteor\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u305d\u308c\u4ee5\u5916\u306f\u3055\u308f\u3089\u306a\u3044\u307b\u3046\u304c\u3044\u3044\u3068\u306e\u3053\u3068\u3002\n \n\n\u4ee5\u4e0b\u306eCSS\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```css:client/stylesheets/style.css\n\n.grid-block, .main, .post, .comments li, .comment-form {\n  background: #fff;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  -ms-border-radius: 3px;\n  -o-border-radius: 3px;\n  border-radius: 3px;\n  padding: 10px;\n  margin-bottom: 10px;\n  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.15);\n  -moz-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.15);\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.15); }\n\nbody {\n  background: #eee;\n  color: #666666; }\n\n.navbar {\n  margin-bottom: 10px; }\n  /* line 32, ../sass/style.scss */\n  .navbar .navbar-inner {\n    -webkit-border-radius: 0px 0px 3px 3px;\n    -moz-border-radius: 0px 0px 3px 3px;\n    -ms-border-radius: 0px 0px 3px 3px;\n    -o-border-radius: 0px 0px 3px 3px;\n    border-radius: 0px 0px 3px 3px; }\n\n#spinner {\n  height: 300px; }\n\n.post {\n  /* For modern browsers */\n  /* For IE 6/7 (trigger hasLayout) */\n  *zoom: 1;\n  position: relative;\n  opacity: 1; }\n  .post:before, .post:after {\n    content: \"\";\n    display: table; }\n  .post:after {\n    clear: both; }\n  .post.invisible {\n    opacity: 0; }\n  .post.instant {\n    -webkit-transition: none;\n    -moz-transition: none;\n    -o-transition: none;\n    transition: none; }\n  .post.animate{\n    -webkit-transition: all 300ms 0ms;\n    -webkit-transition-delay: ease-in;\n    -moz-transition: all 300ms 0ms ease-in;\n    -o-transition: all 300ms 0ms ease-in;\n    transition: all 300ms 0ms ease-in; }\n  .post .upvote {\n    display: block;\n    margin: 7px 12px 0 0;\n    float: left; }\n  .post .post-content {\n    float: left; }\n    .post .post-content h3 {\n      margin: 0;\n      line-height: 1.4;\n      font-size: 18px; }\n      .post .post-content h3 a {\n        display: inline-block;\n        margin-right: 5px; }\n      .post .post-content h3 span {\n        font-weight: normal;\n        font-size: 14px;\n        display: inline-block;\n        color: #aaaaaa; }\n    .post .post-content p {\n      margin: 0; }\n  .post .discuss {\n    display: block;\n    float: right;\n    margin-top: 7px; }\n\n.comments {\n  list-style-type: none;\n  margin: 0; }\n  .comments li h4 {\n    font-size: 16px;\n    margin: 0; }\n    .comments li h4 .date {\n      font-size: 12px;\n      font-weight: normal; }\n    .comments li h4 a {\n      font-size: 12px; }\n  .comments li p:last-child {\n    margin-bottom: 0; }\n\n.dropdown-menu span {\n  display: block;\n  padding: 3px 20px;\n  clear: both;\n  line-height: 20px;\n  color: #bbb;\n  white-space: nowrap; }\n\n.load-more {\n  display: block;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  -ms-border-radius: 3px;\n  -o-border-radius: 3px;\n  border-radius: 3px;\n  background: rgba(0, 0, 0, 0.05);\n  text-align: center;\n  height: 60px;\n  line-height: 60px;\n  margin-bottom: 10px; }\n  .load-more:hover {\n    text-decoration: none;\n    background: rgba(0, 0, 0, 0.1); }\n\n.posts .spinner-container{\n  position: relative;\n  height: 100px;\n}\n\n.jumbotron{\n  text-align: center;\n}\n.jumbotron h2{\n  font-size: 60px;\n  font-weight: 100;\n}\n\n@-webkit-keyframes fadeOut {\n  0% {opacity: 0;}\n  10% {opacity: 1;}\n  90% {opacity: 1;}\n  100% {opacity: 0;}\n}\n\n@keyframes fadeOut {\n  0% {opacity: 0;}\n  10% {opacity: 1;}\n  90% {opacity: 1;}\n  100% {opacity: 0;}\n}\n\n.errors{\n  position: fixed;\n  z-index: 10000;\n  padding: 10px;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  pointer-events: none;\n}\n.alert {\n          animation: fadeOut 2700ms ease-in 0s 1 forwards;\n  -webkit-animation: fadeOut 2700ms ease-in 0s 1 forwards;\n     -moz-animation: fadeOut 2700ms ease-in 0s 1 forwards;\n  width: 250px;\n  float: right;\n  clear: both;\n  margin-bottom: 5px;\n  pointer-events: auto;\n}\n```\n\n\n### Template\u306e\u4f7f\u3044\u65b9\u3092\u5b66\u3076\n\n\nMeteor\u306e\u958b\u767a\u624b\u6cd5\u3068\u3057\u3066\u30ac\u30ef\u304b\u3089\u4f5c\u3063\u3066\u3044\u3063\u3066\u6700\u5f8c\u306b\u5185\u90e8\u3092\u4f5c\u308a\u8fbc\u3080\u3068\u3044\u3046\u624b\u6cd5\u304c\u30aa\u30b9\u30b9\u30e1\u3060\u305d\u3046\u3067\u3059\u3002\n\n\n\u307e\u305a\u306f``/client``\u306e\u4e2d\u3067\u4f5c\u696d\u3057\u307e\u3059\n\n\u4ee5\u4e0b\u306eHTML\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\n```html:client/main.html\n<head>\n  <title>Microscope</title>\n</head>\n<body>\n  <div class=\"container\">\n    <header class=\"navbar navbar-default\" role=\"navigation\"> \n      <div class=\"navbar-header\">\n        <a class=\"navbar-brand\" href=\"/\">Microscope</a>\n      </div>\n    </header>\n    <div id=\"main\" class=\"row-fluid\">\n      {{> postsList}}\n    </div>\n  </div>\n</body>\n```\n\n\u30dd\u30a4\u30f3\u30c8\u306f``{{> postsList}}`` \u3067\u3059\u3002\n\n\u3053\u3053\u306b\u306f postsList\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u5165\u308a\u307e\u3059\u3002\n\u3053\u306e\u5f8c\u306bpostsList\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n\u307e\u305a\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u7f6e\u304f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u306d\u3002\n\n``client/templates``\n\u3055\u3089\u306b``client/templates/posts``\u3082\u4f5c\u3063\u3066\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\n\n```html:client/templates/posts/posts_list.html\n\n<template name=\"postsList\">\n  <div class=\"posts\">\n    {{#each posts}}\n      {{> postItem}}\n    {{/each}}\n  </div>\n</template>\n```\n\n```html:client/templates/posts/post_item.html\n<template name=\"postItem\">\n  <div class=\"post\">\n    <div class=\"post-content\">\n      <h3><a href=\"{{url}}\">{{title}}</a><span>{{domain}}</span></h3>\n    </div>\n  </div>\n</template>\n```\n\n\u6ce8\u610f\u70b9\u3068\u3057\u3066template\u30a8\u30ec\u30e1\u30f3\u30c8\u306ename\u3067\u3042\u308b``postsList``\u306f\u3069\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4e0a\u3067\u3082\u4f7f\u3048\u307e\u3059\n\n\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u306f``Spacebars``\u3068\u8a00\u3044\u307e\u3059\u3002\u8a73\u7d30\u306f[\u3053\u3061\u3089\u3067](https://github.com/meteor/meteor/blob/devel/packages/spacebars/README.md)\n\n\n\u307e\u3042\u4ed6\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u306b\u4f3c\u3066\u3044\u308b\u306e\u3067\u3001\u306a\u3093\u3068\u306a\u304f\u898b\u3066\u308c\u3070\u52d5\u304d\u306f\u308f\u304b\u308a\u307e\u3059\u3002\n\n\n\u3053\u308c\u3092\u5b9f\u969b\u306b\u52d5\u304b\u3059\u306b\u306f\u3001``posts``\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3069\u3053\u304b\u3067\u7528\u610f\u3057\u306a\u3044\u3068\u30fb\u30fb\u30fb\n\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```js:client/templates/posts/posts_list.js\n\nvar postsData = [\n  {\n    title: 'Introducing Telescope',\n    url: 'http://sachagreif.com/introducing-telescope/'\n  }, \n  {\n    title: 'Meteor',\n    url: 'http://meteor.com'\n  }, \n  {\n    title: 'The Meteor Book',\n    url: 'http://themeteorbook.com'\n  }\n];\nTemplate.postsList.helpers({\n  posts: postsData\n});\n```\n\n\u30dd\u30a4\u30f3\u30c8\u306f```Template.postsList.helpers```\u3067\u3059\u3002\ntemplate\u306e```postsList```\u3068\u7d10\u3065\u3044\u3066\u3044\u307e\u3059\u3002\n\n\u3061\u306a\u307f\u306b``post_item.html``\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\n``{{domain}}``\u304c\u8db3\u308a\u307e\u305b\u3093\u3002``domain helper``\u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\n\n```js:client/templates/posts/post_item.js\nTemplate.postItem.helpers({\n  domain: function() {\n    var a = document.createElement('a');\n    a.href = this.url;\n    return a.hostname;\n  }\n});\n```\n\n\u3061\u306a\u307f\u306b\n\n```js:js\u6280\n    var a = document.createElement('a');\n    a.href = this.url;\n    return a.hostname;\n```\n\n\b\u4e0a\u8a18\u90e8\u5206\u306fDomain\u90e8\u5206\u3060\u3051\u3092\u53d6\u308a\u51fa\u305b\u308b\u3068\u3044\u3046js\u6280\u3060\u305d\u3046\u3067\u3059\u3002\n\n\u305d\u308c\u3068\u4e0a\u8a18\u30b3\u30fc\u30c9\u306e **``this``**\u306b\u3064\u3044\u3066\u8a00\u53ca\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001``posts_list.html``\u5185\u306e``{{#each posts}}``\u306b\u3066\u53d6\u308a\u51fa\u3055\u308c\u308b\u5404\u8981\u7d20\u304c``this``\u306b\u4ee3\u5165\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n### Meteor Collection\u306b\u3064\u3044\u3066\u5b66\u3076\n\n\u3055\u3063\u304d\u307e\u3067\u306f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3060\u3063\u305f\u306e\u3067\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u3063\u3066\u3053\u3068\u3067\u3059\u306d\u3002\n\n\u3061\u3087\u3063\u3068\u3053\u3053\u3067\u611f\u52d5\u30dd\u30a4\u30f3\u30c8\u304d\u307e\u3057\u305f\u3002\u3044\u3063\u305f\u3044\u306a\u3093\u306a\u3093\u3060\u3053\u308c\u306f\u30c3\u30c3\uff01\uff01\n\n\n\u307e\u305a\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```js:lib/collections/posts.js\nPosts = new Mongo.Collection('posts');\n```\n\n\u3053\u3053\u3067\u3042\u308c\uff1f\u3063\u3068\u306a\u308a\u307e\u3057\u305f\u3002/server\u306b\u7f6e\u3044\u3066\u306a\u3044\u30fb\u30fb\u30fb\u3002\n\n\u307e\u305a\u306f\u30a2\u30d7\u30ea\u304c\u8d77\u52d5\u4e2d\u3060\u3068\u601d\u3046\u3093\u3067\u5225\u30bf\u30d6\u3092\u958b\u3044\u3066\u65b0\u898fTerminal\u304b\u3089\u8a72\u5f53\u30c7\u30a4\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\n\n```sh\n$ cd microscope\n$ meteor mongo\n```\n\n\u3053\u308c\u3067meteor\u5c02\u7528\u306emongo\u74b0\u5883\u306b\u5165\u308a\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\n``db.posts.insert({title: \"A new post\"});``,\n``db.posts.find();``\u3068\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3063\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n```sh:mongodbShell\n> db.posts.insert({title: \"A new post\"});\n\n> db.posts.find();\n{title: \"A new post\", _id: ObjectId(\"..\")};\n```\n\n\u6b21\u306b\u304a\u3082\u3080\u308d\u306b\u30d6\u30e9\u30a6\u30b6\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u958b\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n``Posts.findOne();`` \u3068\u6253\u3061\u8fbc\u307f\u307e\u3059\u3002\n\n```js:\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\nPosts.findOne();\n{title: \"A new post\", _id: LocalCollection._ObjectID};\n```\n\n\u3059\u3054\u304f\u306a\u3044\u3067\u3059\u304b\u30fb\u30fb\u30fb\u3069\u3046\u3044\u3046\u4ed5\u7d44\u307f\u304b\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u304c\u3001\n\u4e00\u6c17\u306b\u30d6\u30e9\u30a6\u30b6\u307e\u3067\u53cd\u6620\u3055\u308c\u3066\u307e\u3059\u3002\n\n\u3082\u3057\u304b\u3057\u3066\u30fb\u30fb\u30fb\u30fb\u3068\u601d\u3044\u304a\u3082\u3080\u308d\u306b\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u4ee5\u4e0b\u3092\u53e9\u304d\u307e\u3059\u3002\n\n\n`` Posts.insert({title:\"Second post\"});``\n\n```js:\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\nPosts.insert({title:\"Second post\"});\n\"tsCY2Wk4L2p7GvGnn\"\n```\n\u306a\u3093\u304bID\u3063\u307d\u3044\u306e\u304c\u8fd4\u3063\u3066\u304d\u305f\u30fb\u30fb\u30fb\u3002\n\n\nTerminal\u306b\u623b\u3063\u3066\u30b3\u30de\u30f3\u30c9``db.posts.find()``\u3092\u6253\u3061\u307e\u3059\u3002\n\n```sh:mongodbShell\nmeteor:PRIMARY> db.posts.find();\n{ \"_id\" : ObjectId(\"545439d965f913c98bf37b97\"), \"title\" : \"A new post\" }\n{ \"title\" : \"Second post\", \"_id\" : \"tsCY2Wk4L2p7GvGnn\" }\n```\n\n\u30b5\u30fc\u30d0\u306b\u3082\u53cd\u6620\u3055\u308c\u305f\u30fb\u30fb\u30fb\u30fb\u3059\u3054\u3059\u304e\u3002\n\u3053\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3067\u52d5\u3044\u3066\u3044\u308bmongoDB\u306fminiMongo\u3068\u3044\u3046\u3089\u3057\u3044\u3067\u3059\u3002\n\n\n\u5f15\u304d\u7d9a\u304d\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u7d9a\u3051\u308b\u305f\u3081\u3001\u4f5c\u3063\u305fDB\u306e\u60c5\u5831\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\u30a2\u30d7\u30ea\u304c\u8d77\u52d5\u4e2d\u306eTerminal\u3067``ctrl+C``\u3067\u629c\u3051\u3066\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```sh:reset\n$ meteor reset\n$ meteor #\u518d\u8d77\u52d5\n```\n\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\n\n```js:server/fixtures.js\nif (Posts.find().count() === 0) {\n  Posts.insert({\n    title: 'Introducing Telescope',\n    url: 'http://sachagreif.com/introducing-telescope/'\n  });\n\n  Posts.insert({\n    title: 'Meteor',\n    url: 'http://meteor.com'\n  });\n\n  Posts.insert({\n    title: 'The Meteor Book',\n    url: 'http://themeteorbook.com'\n  });\n}\n```\n\n``client/templates/posts/posts_list.js``\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n\n\n```js:client/templates/posts/posts_list.js\nTemplate.postsList.helpers({\n  posts: function() {\n    return Posts.find();\n  }\n});\n```\n\n\u66f8\u304d\u63db\u3048\u305f\u77ac\u9593\u306b\u5909\u308f\u308b\u306e\u306f\u3059\u3054\u3044\u30fb\u30fb\u30fb\u3002\n\n\n\u3068\u3053\u308d\u3067\u3001\u3061\u3087\u3063\u3068\u5fa9\u7fd2\u306a\u3093\u3067\u3059\u304c\n\n```js:lib/collections/posts.js\nPosts = new Mongo.Collection('posts');\n```\n\n\u5909\u6570\u5ba3\u8a00\u306b``var``\u304c\u4ed8\u3044\u3066\u306a\u3044\u306e\u308f\u304b\u308a\u307e\u3059\u3067\u3057\u3087\u3046\u304b\uff1f\n``var``\u3092\u3064\u3051\u308b\u3068 **\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u30b9\u30b3\u30fc\u30d7\u304c\u9589\u3058\u3089\u308c\u308b**\u305d\u3046\u3067\u3059\u3002\u3053\u306e``Posts``\u306f\u30a2\u30d7\u30ea\u5168\u4f53\u3067\u4f7f\u3044\u305f\u3044\u306e\u3067\u3001\n``var``\u306f\u4ed8\u3051\u305a\u306b\u5909\u6570\u5ba3\u8a00\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u3082\u3046\u4e00\u70b9\u3002\n\n```js:client/templates/posts/posts_list.js\nTemplate.postsList.helpers({\n  posts: function() {\n    return Posts.find();\n  }\n});\n```\n\n\u4e0a\u8a18\u306e``Posts.find()``\u3067\u306f\u5b9f\u306fArray\u3067\u306f\u306a\u304fcursor\u304c\u8fd4\u308a\u307e\u3059\u3002\u4eca\u6d41\u884c\u308a\u306e\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3068\u3044\u3046\u3082\u306e\u3089\u3057\u3044\u3067\u3059\u3002cursor\u306f\u307e\u3060\u3053\u306e\u6bb5\u968e\u3067\u306fDB\u304b\u3089\u5024\u3092\u53d6\u5f97\u3057\u3066\u304a\u3089\u305a\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u3067\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u76f4\u524d\u306b\u53d6\u5f97\u3059\u308b\u3088\u3046\u3067\u3059\u3002\n\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u900f\u904e\u7684\u306b\u30b5\u30fc\u30d0\u304b\u3089\u306e\u5909\u66f4\u5185\u5bb9\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u901a\u77e5\u3059\u308b\u308f\u3051\u3067\u3059\u306d\u3002\n\n\n\u306a\u306e\u3067\u3001\u30ed\u30b0\u51fa\u529b\u3059\u308b\u5834\u5408\u306f``Posts.find().fetch()``\u3067Array\u306b\u5909\u63db\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u8a73\u7d30\u306f[\u3053\u3061\u3089](https://docs.meteor.com/#/full/find)\n\n\n\n### Collection\u304cClient\u3068\u5168\u5171\u6709\u3055\u308c\u3066\u3044\u308b\u554f\u984c\u306e\u89e3\u6c7a\n\n\u6a19\u6e96\u3067\u306f\u3001``autopublish``\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nautopublish\u306fclient\u306eCollection\u3068Server\u306eCollection\u304c\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002\n\n```sh:\nmeteor remove autopublish\n```\n\n\u524a\u9664\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3053\u306e\u6a5f\u80fd\u3092Off\u306b\u3057\u307e\u3059\u3002\n\n\u4ee3\u308f\u308a\u306b\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u306b\u3088\u3063\u3066Collection\u5358\u4f4d\u3067\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u8fba\u306e\u8a73\u3057\u3044\u4ed5\u7d44\u307f\u306f[discovermeteor:Publications and Subscriptions](https://book.discovermeteor.com/chapter/publications-and-subscriptions)\u3092\u8aad\u3080\u3068\u826f\u3055\u305d\u3046\u3067\u3059\u3002\uff08\u305d\u306e\u3046\u3061\u7ffb\u8a33\u3057\u305f\u3044\uff09\n\n\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306e\u516c\u958b\u51e6\u7406\n\n```js:server/publications.js\nMeteor.publish('posts', function() {\n  return Posts.find();\n});\n```\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306e\u53d7\u3051\u5165\u308c\u51e6\u7406\n\n```js:client/main.js\nMeteor.subscribe('posts');\n```\n\n### \u30eb\u30fc\u30c6\u30a4\u30f3\u30b0\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30eb\u30fc\u30c6\u30a4\u30f3\u30b0\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\n```sh:terminal\nmeteor add iron:router\n```\n\n\u30eb\u30fc\u30c6\u30a4\u30f3\u30b0\u3092\u884c\u3046\u306b\u3042\u305f\u308a\u30d8\u30c3\u30c0\u3084\u30dd\u30b9\u30c8\u4e00\u89a7\u306e\u8868\u793a\u306a\u3069\u306f\nurl\u304c\u5909\u308f\u3063\u3066\u3082\u57fa\u672c\u7684\u306b\u540c\u3058\u69cb\u6210\u306b\u3057\u305f\u3044\u3067\u3059\u3002\n\n![\u69cb\u6210\u30a4\u30e1\u30fc\u30b8](https://book.discovermeteor.com/images/diagrams/router-diagram@2x.png)\n\n\n\u307e\u305a\u306fmain.html\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u4eca\u56de\u4f7f\u3046iron-router\u306fbody\u30bf\u30b0\u306e\u4e2d\u3092\u4f5c\u308a\u3053\u3093\u3067\u3044\u304d\u307e\u3059\u306e\u3067\u3001\u305d\u308c\u4ee5\u5916\u3092main.html\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n```client/main.html\n<head>\n<title>Microsope</title>\n</head>\n```\n\n\u6b21\u306f\"layout\" Template\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```js:client/templates/application/layout.html\n<template name=\"layout\">\n  <div class=\"container\">\n    <header class=\"navbar navbar-default\" role=\"navigation\"> \n      <div class=\"navbar-header\">\n         <a class=\"navbar-brand\" href=\"{{pathFor 'postsList'}}\">Microscope</a>\n      </div>\n    </header>\n    <div id=\"main\" class=\"row-fluid\">\n      {{> yield}}\n    </div>\n  </div>\n</template>\n\n```\n\n\u30eb\u30fc\u30c6\u30a4\u30f3\u30b0\u306e\u8a2d\u5b9a\u3067\u5e38\u306b\u4e0a\u8a18Template\u304c\u547c\u3070\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u305d\u3057\u3066url\u306b\u3088\u3063\u3066``{{> yield}}``\u306e\u7b87\u6240\u304c\u5909\u308f\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\n\n```js:lib/router.js\nRouter.configure({\n  layoutTemplate: 'layout'\n});\n\nRouter.route('/', {name: 'postsList'});\n```\n\n``name``\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u8a2d\u5b9a\u3057\u305fTemplate\u304c``{{> yield}}``\u306b\u5165\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\u305d\u308c\u306b\u3057\u3066\u3082``router.js``\u306f``lib``\u306b\u5165\u308c\u308b\u3093\u3067\u3059\u306d\u3002``/server``\u304b``/client``\u306e\u3069\u3061\u3089\u304b\u306b\u5165\u308c\u308b\u3068\u601d\u3063\u3066\u307e\u3057\u305f\u3002\n\n``/lib``\u306b\u5165\u308c\u308b\u306e\u306f\u30a2\u30d7\u30ea\u304c\u4f55\u304b\u3059\u308b\u524d\u306b\u547c\u3070\u308c\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u305f\u3081\u3060\u305d\u3046\u3067\u3059\u3002\u3067\u3082\u5171\u7528\u30b3\u30fc\u30c9\u306b\u542b\u307e\u308c\u308b\u3053\u3068\u306b\u306a\u308b\u306e\u306f\u6c17\u6301\u3061\u304c\u60aa\u3044\u3088\u3046\u306a\u30fb\u30fb\u30fb\u30fb\u3002\n\n\n### \u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8868\u793a\n\n\u30da\u30fc\u30b8\u3092\u6700\u521d\u306b\u958b\u3044\u305f\u3068\u304d\u3001``Meteor.subscribe('posts')``\u304c\u5b9f\u884c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u6642\u9593\u304c\u304b\u304b\u308b\u305f\u3081\uff08\u30b5\u30fc\u30d0\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u307e\u3067\u5b8c\u4e86\u3057\u306a\u3044\u305f\u3081\uff09\u7a7a\u6b04\u8868\u793a\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\u305d\u308c\u3092\u9632\u3050\u305f\u3081\u306e\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n``Iron Router``\u306e\u6a5f\u80fd\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u306fmain.js\u5185\u306e``Meteor.subscribe('posts');``\u3092\u3053\u3061\u3089\u306b **\u79fb\u52d5\u3055\u305b\u307e\u3059**\u3002\n\n```diff:lib/router.js\n  Router.configure({\n    layoutTemplate: 'layout',\n+   waitOn: function() { return Meteor.subscribe('posts'); }\n  });\n\n  Router.route('/', {name: 'postsList'});\n```\n\u3053\u306e\u5909\u66f4\u306b\u3088\u3063\u3066\u3001``Iron Router``\u306f\u305d\u306e\u30eb\u30fc\u30c8\u3078\u306e\u8868\u793a\u6e96\u5099\u304c\u5b8c\u4e86\u3057\u305f\u3053\u3068\u304c\n\u308f\u304b\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u308f\u3051\u3067\u3059\u3002\n\n\u3055\u3066\u6e96\u5099\u4e2d\u306f\u7d44\u307f\u8fbc\u307f\u306e\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u4e2d\u8868\u793a\u304c\u51fa\u308b\u308f\u3051\u3067\u3059\u304c\u3001\u3053\u3061\u3089\u3082\u81ea\u5206\u597d\u307f\u306b\u5f53\u7136\u4fee\u6b63\u53ef\u80fd\u3067\u3059\u3002\n\n\u307e\u305f\u3001``lib/router.js``\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```diff:lib/router.js\n  Router.configure({\n    layoutTemplate: 'layout',\n+   loadingTemplate: 'loading',\n    waitOn: function() { return Meteor.subscribe('posts'); }\n  });\n\n  Router.route('/', {name: 'postsList'});\n```\n\n\u3061\u306a\u307f\u306b\u306b\u3053\u306e\u8a2d\u5b9a\u306f\u5168\u30eb\u30fc\u30c8\u5171\u901a\u306bwaitOn\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u305f\u3081\u3001\n\u672c\u30a2\u30d7\u30ea\u306b\u4e00\u756a\u6700\u521d\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u77ac\u9593\u306b\u3060\u3051\u5b9f\u884c\u3055\u308c\u308b\u70b9\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30d6\u30e9\u30a6\u30b6\u306b\u8a18\u61b6\u3055\u308c\u305f\u3089\u3001\u4ee5\u5f8c\u5b9f\u884c\u3055\u308c\u307e\u305b\u3093\u3002\n\n``loading Template``\u3092\u8a2d\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u30b9\u30d4\u30ca\u30fc\u8868\u793a\u306e\u305f\u3081\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\n```sh:Terminal\n$ meteor add sacha:spin\n```\n\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u4f5c\u6210\n\n```js:client/templates/includes/loading.html\n<template name=\"loading\">\n  {{>spinner}}\n</template>\n\n```\n\n\u3067\u3059\u304c\u30b9\u30d4\u30ca\u30fc\u306e\u5909\u5316\u308f\u304b\u3089\u306a\u3044\u30fb\u30fb\u30fb\n\n### post\u8a73\u7d30\u753b\u9762\b\u306e\u8ffd\u52a0\n\npost\u306e\u8a73\u7d30\u753b\u9762\u3092\u8ffd\u52a0\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u307e\u305aRoute\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```diff:lib/router.js\n\tRouter.configure({\n\t  layoutTemplate: 'layout',\n\t  loadingTemplate: 'loading',\n\t  waitOn: function() { return Meteor.subscribe('posts'); }\n\t});\n\n   Router.route('/', {name: 'postsList'});\n+  Router.route('/posts/:_id', {\n+\t  name: 'postPage',\n+     data: function(){return Posts.findOne(this.params._id);}\n+\t});\n\n```\n``lib/router.js``\u306e``data``\u95a2\u6570\u3067\u53d6\u5f97\u3057\u305f\u7d50\u679c\u304c\n``postPage`` Template\u306e``this``\u3068\u7d10\u4ed8\u304d\u307e\u3059\u3002\n\n``/posts/:_id``\u306e\u8a18\u8ff0\u306f\u3088\u304f\u3042\u308b\u3084\u3064\u3067\u3059\u306d\u3002\nurl\u306e``:_id``\u306b\u5bfe\u5fdc\u3059\u308b\u6587\u5b57\u5217\u304c``this.params._id``\u3067\u53d6\u5f97\u3067\u304d\u308b\u3068\u3002\n\n\n\n\n\u5bfe\u5fdc\u3059\u308bTemplate\u3092\u8ffd\u52a0\n\n\n```js:client/templates/posts/post_page.html\n<template name=\"postPage\">\n  {{> postItem}}\n</template>\n```\n\n\u5168\u7136\u8a73\u7d30\u753b\u9762\u3058\u3083\u306a\u3044\u3002postItem Template\u6d41\u7528\u3067\u3059\u306d\u3002\n\n\n\u3068\u3053\u308d\u3067``this``\u3068template\u306e\u5bfe\u5fdc\u306b\u3064\u3044\u3066\u88dc\u8db3\u304c\u3042\u308a\u307e\u3059\u3002\n\n```js\n{{#each widgets}}\n  {{> widgetItem}}\n{{/each}}\n```\n \u4e0a\u8a18\u306e\u5834\u5408widgets\u304cCollection\u3067\u5404\u8981\u7d20\u304cwidgetItem Template\u306e``this``\u306b\u5165\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3044\u3064\u3082\u306e\u3084\u3064\u3067\u3059\u306d\u3002\n\n\u4ed6\u306b\u3082\u3042\u308a\u307e\u3057\u3066\u3001\n\n\n```js\n{{#with myWidget}}\n  {{> widgetPage}}\n{{/with}}\n```\n\u3068\n\n```js\n{{> widgetPage myWidget}}\n```\n\u306f\u5168\u304f\u540c\u3058\u610f\u5473\u3067\u3001\u3000``myWidget``\u304c``widgetPage``Template\u306e``this``\u306b\u5165\u308a\u307e\u3059\n\n\n\u3053\u308c\u3067\u3068\u308a\u3042\u3048\u305a\u8a73\u7d30\u753b\u9762\u306f\u3067\u304d\u307e\u3057\u305f\u304c\u3001\u305d\u3053\u306b\u9077\u79fb\u3059\u308b\u305f\u3081\u306e\u30ea\u30f3\u30af\u304c\u306a\u3044\u3067\u3059\u3002\n\u305d\u308c\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n\n\u307e\u305a\u306fpostsList\u753b\u9762\u306bDiscuss\u30dc\u30bf\u30f3\u3092\u4f5c\u308a\u305d\u3053\u304b\u3089\u30ea\u30f3\u30af\u3057\u307e\u3059\u3002\n\n```diff:client/templates/posts/post_item.html\n\t<template name=\"postItem\">\n\t  <div class=\"post\">\n\t    <div class=\"post-content\">\n\t      <h3><a href=\"{{url}}\">{{title}}</a><span>{{domain}}</span></h3>\n\t    </div>\n+\t    <a href=\"{{pathFor 'postPage'}}\" class=\"discuss btn btn-default\">Discuss</a>\n\t  </div>\n\t</template>\n```\n\n\u3053\u308c\u3067\u52d5\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30fb\u30fb\u30fb\n\u3067\u3082\u5b9f\u306f\u3061\u3087\u3063\u3068\u5909\u306a\u3068\u3053\u308d\u304c\u3042\u308a\u307e\u3059\u3002\n``a href=\"{{pathFor 'postPage'}}\"``\u3063\u3066\u5909\u63db\u3055\u308c\u308b\u3068``a href=\"/posts\"``\u3067\u3059\u3088\u306d\u30fb\u30fb\u30fb\u3002\n\u3053\u308c\u3067\u52d5\u304f\u3063\u3066\u5909\u3058\u3083\u306a\u3044\u3067\u3059\u304b\u30fb\u30fb\u3002\n\u3053\u308c\u306f``Iron Router`` \u304c\u982d\u304c\u3044\u3044\u3053\u3068\u306brouter\u8a2d\u5b9a\u3092\u5143\u306bid\u304c\u5fc5\u8981\u3060\u3068\u3044\u3046\u3053\u3068\u3092\u8aad\u307f\u53d6\u3063\u3066\u5bfe\u5fdc\u3057\u3066\u304f\u308c\u305f\u3089\u3057\u3044\u3067\u3059\u3002\n\n### NotFound\u30da\u30fc\u30b8\u3078\u306e\u9077\u79fb\u3092\u8ffd\u52a0\nTemplate\u304b\u3089\u4f5c\u6210\n\n```js:client/templates/application/not_found.html\n<template name=\"notFound\">\n  <div class=\"not-found jumbotron\">\n    <h2>404</h2>\n    <p>Sorry, we couldn't find a page at this address.</p>\n  </div>\n</template>\n```\n\n\u30eb\u30fc\u30c6\u30a4\u30f3\u30b0\u5909\u66f4\n\n```diff:\n Router.configure({\n   layoutTemplate: 'layout',\n   loadingTemplate: 'loading',\n+  notFoundTemplate: 'notFound',\n   waitOn: function() { return Meteor.subscribe('posts'); }\n });\n\n//...\n\n```\n\n[\u9069\u5f53](http://localhost:3000/nothing-here)\u306b\u9077\u79fb\u3057\u3066\u307f\u3066\u3061\u3083\u3093\u3068\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u3067\u3082\u3053\u308c\u3060\u3068[localhost:3000/posts/xyz](http://localhost:3000/posts/xyz)\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3082NotFound\u306b\u306a\u3089\u306a\u3044\u3067\u3059\u3002\n\n\u30c7\u30fc\u30bf\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306b\u3082NotFound\u306b\u884c\u304d\u305f\u3044\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```js:lib/router.js\n//\u4e00\u756a\u4e0b\u306b\u8ffd\u8a18\nRouter.onBeforeAction('dataNotFound', {only: 'postPage'});\n```\n\u3053\u308c\u306f``data``\u95a2\u6570\u304cnull, false, undefined,empty\u306e\u3044\u305a\u308c\u304b\u3092\u8fd4\u3057\u305f\u5834\u5408\u306b\nnotFound \u6271\u3044\u306b\u3057\u307e\u3059\u3002\n\n### session\u306e\u8a71\n\nsession\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u307f\u305f\u3044\u3067\u5acc\u3046\u3053\u3068\u3082\u591a\u3044\u3067\u3059\u304c\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u56fa\u6709\u306e\u60c5\u5831\u3001\n\u4f8b\u3048\u3070\u4e00\u6642\u7684\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e0a\u975e\u8868\u793a\u306b\u3057\u3066\u3044\u308b\u306a\u3069\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u56fa\u6709\u306e\u60c5\u5831\u4fdd\u5b58\u306b\u306f\u5fc5\u8981\u3067\u3059\u3002\n\n\u4f7f\u3044\u65b9\u306f\u7c21\u5358\u3067\u3059\u3002\n\u30d6\u30e9\u30a6\u30b6\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```js:\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\nSession.set('pageTitle', 'A different title'); //\u5024\u306e\u8a2d\u5b9a\nSession.get('pageTitle'); //\u5024\u306e\u53d6\u5f97\n```\n\n\u3053\u3053\u3067\u3059\u3054\u3044``Session.set``\u306e\u8a71\u3002\n\u30bb\u30c3\u30c8\u3059\u308b\u5024\u304c\u8a2d\u5b9a\u6e08\u307f\u306e\u5024\u3068\u540c\u3058\u5834\u5408\u306f\u95a2\u6570\u547c\u3073\u51fa\u3057\u3092\u907f\u3051\u308b\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u308b\u305d\u3046\u3067\u3059\u3002\uff08\u4ed5\u7d44\u307f\u304c\u60f3\u50cf\u3067\u304d\u306a\u3044\uff09\n\n\u3082\u3046\u4e00\u3064\u3001\u5185\u90e8\u7684\u306a\u4ed5\u7d44\u307f\u304c\u60f3\u50cf\u3067\u304d\u306a\u3044\u3051\u3069\u3059\u3054\u3044\u6a5f\u80fd\u3067\u3059\u3002\n``Autorun``\u3067\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u5b9f\u884c\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n```js:\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\nTracker.autorun( function() { console.log('Value is: ' + Session.get('pageTitle')); } );\nSession.set('pageTitle', 'Yet another value');\nValue is: Yet another value\n```\n\u8a2d\u5b9a\u3057\u305f\u77ac\u9593\u306b\u51fa\u529b\u3055\u308c\u3068\u308b\u30fb\u30fb\u30fb\u3002\n\n\n``autorun``\u30d6\u30ed\u30c3\u30af\u5185\u306e\u30b3\u30fc\u30c9\u304c\u5185\u90e8\u306e``Session.get('pagetitle')``\u306e\u5909\u66f4\u72b6\u614b\u3092\u76e3\u8996\u3057\u3066\u3001\u5909\u66f4\u3055\u308c\u308b\u3068\u81ea\u52d5\u5b9f\u884c\u3055\u308c\u308b\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u66f0\u304fsession\u306f``reactive data sources``\u3060\u304b\u3089\u53ef\u80fd\u3068\u306e\u3053\u3068\u3002[\u8a73\u7d30\u306f\u3053\u3061\u3089\u3067](https://docs.meteor.com/#/basic/Tracker-autorun)\n\n\u3042\u3068\u6700\u5f8c\u306b\u88dc\u8db3\u3067\u3059\u3002 **\u958b\u767a\u4e2d\u306f\u30ea\u30ed\u30fc\u30c9\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30bb\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u6d88\u3048\u307e\u3059\u3002**\n### \u30e6\u30fc\u30b6\u7ba1\u7406\n\n\u30e6\u30fc\u30b6\u7ba1\u7406\u306e\u4f7f\u3044\u65b9\u3067\u3059\u3002\nbootstrap\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u4ee5\u4e0b\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\n```sh:Terminal\nmeteor add ian:accounts-ui-bootstrap-3 #accounts-ui\u306ebootstrap\u7248\nmeteor add accounts-password\n```\nheader\u3092\u62e1\u5f35\u3057\u3066\u30a2\u30ab\u30a6\u30f3\u30c8\u30ed\u30b0\u30a4\u30f3\u30dc\u30bf\u30f3\u3092\u7d44\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5909\u66f4\n\n```diff:client/templates/application/layout.html\n <template name=\"layout\">\n   <div class=\"container\">\n-    <header class=\"navbar navbar-default\" role=\"navigation\">\n-      <div class=\"navbar-header\">\n-         <a class=\"navbar-brand\" href=\"{{pathFor 'postsList'}}\">Microscope</a>\n-      </div>\n-    </header>\n+   {{> header}}\n     <div id=\"main\" class=\"row-fluid\">\n       {{> yield}}\n     </div>\n   </div>\n```\n\n``header Template``\u3092\u8ffd\u52a0\n\n\n```js:client/templates/includes/header.html\n<template name=\"header\">\n  <nav class=\"navbar navbar-default\" role=\"navigation\">\n    <div class=\"container-fluid\">\n      <div class=\"navbar-header\">\n        <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navigation\">\n          <span class=\"sr-only\">Toggle navigation</span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n        </button>\n        <a class=\"navbar-brand\" href=\"{{pathFor 'postsList'}}\">Microscope</a>\n      </div>\n      <div class=\"collapse navbar-collapse\" id=\"navigation\">\n        <ul class=\"nav navbar-nav navbar-right\">\n          {{> loginButtons}}\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n```\n\u30dd\u30a4\u30f3\u30c8\u306f``{{> loginButtons}}``\u306e\u7b87\u6240\u3067\u3059\u306d\u3002[\u8a73\u7d30\u306f\u3053\u3061\u3089\u3067](https://github.com/ianmartorell/meteor-accounts-ui-bootstrap-3/)\n\n\u3053\u308c\u3067\u7d44\u307f\u8fbc\u307f\u306eaccount-ui\u753b\u9762\u304c\u51fa\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u5b9f\u969b\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u3063\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u307e\u3057\u3087\u3046\n\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u4f5c\u6210\u3067\u304d\u307e\u3057\u305f\u304b\uff1f\n\n\u5b9f\u306f``accounts``\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u308b\u3053\u3068\u3067\u3001\u81ea\u52d5\u3067Collection\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002``Meteor.users``\u3067\u3059\u3002\n\n\u5b9f\u969b\u306b\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```js:\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\nMeteor.users.findOne();\nObject {_id: \"foRHJjMWe8L9H4Bdi\", profile: Object, username: \"abe\"}\n```\n\u5e30\u3063\u3066\u304d\u305f\u7d50\u679c\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n_is\u3068username,profile\u304f\u3089\u3044\u3057\u304b\u306a\u3044\u306e\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b``Meteor.user()``\u3067\u3082\u540c\u3058\u7d50\u679c\u304c\u8fd4\u308a\u307e\u3059\u3002\n\n\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u3066\u3082\u3046\u4e00\u3064\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\u305d\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u518d\u30ed\u30f3\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u4eca\u5ea6\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```js:\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30bd\u30fc\u30eb\nMeteor.users.find().count();\n1\n```\n2\u3058\u3083\u306a\u304f\u30661\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\n\n\u4eca\u5ea6\u306fMongoshell(Terminal\u304b\u3089``meteor mongo``)\u304b\u3089\u898b\u3066\u307f\u307e\u3057\u3087\u3046\n\n```sh:mongoShell\nmeteor:PRIMARY>db.users.count()\n2\n```\n \u3053\u3063\u3061\u306f\u3061\u3083\u3093\u30682\u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\u3053\u308c\u306f\u306a\u3093\u3067\u304b\uff1f\n\n\u5b9f\u306f``autopublish``\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u524a\u9664\u3057\u305f\u3053\u3068\u3092\u899a\u3048\u3066\u3044\u307e\u3059\u304b\uff1f\n\u3053\u308c\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u30b5\u30fc\u30d0\u5074\u306eCollection\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306eCollection\u306e\u30df\u30e9\u30fc\u3092\u505c\u6b62\u3055\u305b\u305f\u306f\u305a\u3067\u3059\u3002\n\n\u305d\u3057\u3066``publication``\u3068``subscription``\u306e\u8a2d\u5b9a\u3092\u884c\u3063\u305f\u3053\u3068\u3082\u3002\n\u306a\u306e\u306b``Meteor.users``Collection\u306f\u898b\u3048\u307e\u3057\u305f\u306d\u3002\n\n\u5b9f\u306f``account``\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u3084\u3063\u3066\u304f\u308c\u305f\u3093\u3067\u3059\u3002\u4fbf\u5229\u3067\u3059\u306d\u3002\n``account``\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u60c5\u5831\u3060\u3051\u3092``publish``\u306b\u3057\u3066\u304f\u308c\u305f\u308f\u3051\u3067\u3059\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306f\u81ea\u5206\u4ee5\u5916\u306e\u60c5\u5831\u304c\u898b\u3048\u3066\u306f\u3044\u3051\u306a\u3044\u3067\u3059\u304b\u3089\u306d\u3002\n\u305d\u308c\u3060\u3051\u3067\u306f\u306a\u304f\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30d5\u30a3\u30eb\u30bf\u3082\u884c\u3063\u3066\u304f\u308c\u3066\u307e\u3059\u3002\n\u898b\u3066\u307f\u307e\u3057\u3087\u3046\n\n```sh:mongoShell\nmeteor:PRIMARY> db.users.findOne()\n{\n\t\"_id\" : \"55vyZRn3Na2uietY8\",\n\t\"createdAt\" : ISODate(\"2014-11-01T13:49:52.625Z\"),\n\t\n//\u306a\u3093\u304b\u305f\u304f\u3055\u3093\u3067\u308b\u30fb\u30fb\n\t}\n}\n```\n\u3053\u308c\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306f\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u30d5\u30a3\u30eb\u30bf\u3055\u308c\u3066\u308b\u3063\u3066\u3053\u3068\u304c\u308f\u304b\u3063\u305f\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n[\u8a73\u7d30\u306f\u3053\u3061\u3089\u3067](https://docs.meteor.com/#/full/meteor_users)\n\n### \u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3076\n\n\n\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u3064\u3044\u3066\u8abf\u3079\u308b\u3068\u3001\n\u5927\u62b5\u4f8b\u3068\u3057\u3066Excel\u306e\u8a71\u304c\u51fa\u307e\u3059\u3002Excel\u306e\u5404Cell\u306b\u306f\u5024\u3060\u3051\u3067\u306a\u304f\u95a2\u6570\u3092\u8a18\u8ff0\u3059\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u4f9d\u5b58\u3057\u3066\u3044\u308bCell\u306e\u5024\u3092\u66f8\u304d\u63db\u3048\u308b\u3068\u77ac\u6642\u306b\u95a2\u9023\u3059\u308bCell\u306e\u5024\u304c\u518d\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u3092\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3068\u3057\u3066\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u4e16\u754c\u3067\u3082\u9069\u7528\u3057\u3088\u3046\u3068\u3044\u3046\u306e\u304cMetelor\u306e\u601d\u60f3\u306b\u306a\u308a\u307e\u3059\u3002\n\njavascript\u3067\u5024\u76e3\u8996\u3092\u3059\u308b\u5834\u5408\u306f``.observe()``\u95a2\u6570\u3092\u4f7f\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4f8b\u3048\u3070\u3053\u3093\u306a\u98a8\u306b\u66f8\u304f\u3068\u304b\n\n```js:\u4f8b\nPosts.find().observe({\n  added: function(post) {\n    // when 'added' callback fires, add HTML element\n    $('ul').append('<li id=\"' + post._id + '\">' + post.title + '</li>');\n  },\n  changed: function(post) {\n    // when 'changed' callback fires, modify HTML element's text\n    $('ul li#' + post._id).text(post.title);\n  },\n  removed: function(post) {\n    // when 'removed' callback fires, remove HTML element\n    $('ul li#' + post._id).remove();\n  }\n});\n```\n\n\u3082\u3046\u898b\u305f\u3060\u3051\u3067\u5c06\u6765\u7834\u7dbb\u3059\u308b\u3053\u3068\u304c\u76ee\u306b\u898b\u3048\u3066\u3044\u307e\u3059\u3002\n\nMeteor\u3067\u306f\u5ba3\u8a00\u7684\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u884c\u3044\u307e\u3059\u3002\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u9593\u306e\u95a2\u4fc2\u6027\u3092\u8a18\u8ff0\u3057\u3001\u81ea\u52d5\u3067\u5024\u76e3\u8996\u3092\u884c\u3046\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n\n```html:\n<template name=\"postsList\">\n  <ul>\n    {{#each posts}}\n      <li>{{title}}</li>\n    {{/each}}\n  </ul>\n</template>\n```\n\n```js:\nTemplate.postsList.helpers({\n  posts: function() {\n    return Posts.find();\n  }\n});\n```\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u3066\u304a\u304f\u3053\u3068\u306b\u3088\u3063\u3066Meteor\u304c``.observe()``\u95a2\u6570\u3092\u3064\u304b\u3063\u3066\u5024\u306e\u5909\u5316\u3068HTML\u306e\u8981\u7d20\u306e\u5bfe\u5fdc\u3092\u899a\u3048\u3066\u304f\u308c\u307e\u3059\u3002\n\n\u8a08\u7b97\u51e6\u7406\u306b\u3064\u3044\u3066\u3082meteor\u306f\u76e3\u8996\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u8a08\u7b97\u51e6\u7406\u306e\u4e2d\u306b``reactive data source``\u304c\u542b\u307e\u308c\u3066\u3044\u308c\u3070\u305d\u306e\u8a08\u7b97\u306f\u8a72\u5f53\u3059\u308b``reactive data source``\u306e\u5909\u5316\u306b\u5f71\u97ff\u3092\u53d7\u3051\u308b\u3053\u3068\u306f\u660e\u3089\u304b\u306a\u306e\u3067\u4f9d\u5b58\u5bfe\u8c61\u306b\u81ea\u52d5\u3067\u542b\u3081\u3066\u304f\u308c\u307e\u3059\u3002\n\n\n\u4f8b\u3092\u6319\u3052\u3066\u307f\u307e\u3059\u3002\n\n```js:\nMeteor.startup(function() {\n  Tracker.autorun(function() {\n    console.log('There are ' + Posts.find().count() + ' posts');\n  });\n});\n```\n\n\u4e0a\u8a18\u306e``Meteor.startup()``\u30d6\u30ed\u30c3\u30af\u5185\u306e\u30b3\u30fc\u30c9\u306fPost Collection\u304c\u30ed\u30fc\u30c9\u5b8c\u4e86\u3057\u305f\u969b\u306b\u4e00\u5ea6\u3060\u3051\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\n\u898b\u308b\u3079\u304d\u30dd\u30a4\u30f3\u30c8\u306f``autorun``\u30d6\u30ed\u30c3\u30af\u3067\u3059\u3002\n``Posts.find()``\u306f``reactive data source``\u3067\u3042\u308b``cursor``\u3092\u8fd4\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u30d6\u30ed\u30c3\u30af\u5185\u306e\u8a08\u7b97\u306f``Posts.find()``\u306e\u5909\u5316\u306b\u5f71\u97ff\u3059\u308b\u305f\u3081\u3001\u4f9d\u5b58\u5bfe\u8c61\u306b\u542b\u307e\u308c\u307e\u3059\u3002\n\n\u7d50\u679c\u3001``posts``\u306e\u5185\u5bb9\u304c\u5909\u5316\u3059\u308b\u305f\u3073\u306b\u81ea\u52d5\u3067\u5b9f\u884c\u3055\u308c\u308b\u308f\u3051\u3067\u3059\u3002\n\n\u4ee5\u4e0b\u5b9f\u884c\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n\n```\n> Posts.insert({title: 'New Post'});\nThere are 4 posts.\n```\n\n\n\u9577\u304f\u306a\u3063\u305f\u306e\u3067\u7d9a\u304d\u306f[\u3053\u3063\u3061\u3067](http://qiita.com/abe00makoto/items/d67fc9b732f0d3737470)\n\n\n\n\n \n\n\n\n\n\n\n\n\n", "tags": ["Meteor1.0", "JavaScript"]}