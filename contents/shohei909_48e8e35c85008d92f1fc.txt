{"tags": ["ActionScript"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u304b\u3092\u81ea\u4f5c\u3059\u308b\u3068\u304d\u306b\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u304c1\u3064\u5909\u66f4\u3055\u308c\u308b\u3054\u3068\u306bgraphics\u3092\u6d88\u3057\u3066\u66f8\u304d\u63db\u3048\u307f\u305f\u3044\u306a\u3053\u3068\u3092\u3084\u3063\u3066\u308b\u3068\u91cd\u304f\u306a\u308b\u306e\u30671\u30d5\u30ec\u30fc\u30e0\u5206\u306e\u5909\u66f4\u3092\u307e\u3068\u3081\u3066\u51e6\u7406\u3002\n\nCustomComponent.as\npackage {\n    import flash.display.Graphics;\n    import flash.display.Sprite;\n    import flash.events.Event;\n\n    public class CustomComponent extends Sprite {\n        private var changed:Boolean = false;\n        private var eventType:String;\n\n        public function setSize( width:Number, height:Number ):void {\n            /* \u30b5\u30a4\u30ba\u5909\u66f4! */\n            update();\n        }\n        public function setBackground( color:uint ):void {\n            /* \u80cc\u666f\u8272\u5909\u66f4! */\n            update();\n        }\n\n        /* \u66f4\u65b0\u3092\u4e88\u7d04 */\n        private function update():void {\n            if (! changed ) {\n                changed = true;\n                if ( stage ) {\n                    addEventListener( eventType = Event.EXIT_FRAME, _update, false, int.MIN_VALUE );\n                }else {\n                    addEventListener( eventType = Event.ADDED_TO_STAGE, _update );\n                }\n            }\n        }\n        private function _update( e:Event ):void {\n            removeEventListener( eventType, _update );\n            changed = false;\n\n            /* \u3053\u3053\u304b\u3089\u4e0b\u3067\u3001\u753b\u9762\u66f4\u65b0\u51e6\u7406 */\n            var g:Graphics = graphics;\n        }\n\n    }\n}\n\n\nEvent.ENTER_FRAME\u3058\u3083\u306a\u304f\u3066\u3001Event.EXIT_FRAME\u3092\u4f7f\u3046\u306e\u304c\u30df\u30bd\u3002\n\u753b\u9762\u304c\u63cf\u753b\u3055\u308c\u308b\u5bf8\u524d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u306e\u3067\u3001\u753b\u9762\u304c\u5909\u66f4\u3055\u308c\u308b\u307e\u3067\u306e\u30e9\u30b0\u304c\u751f\u3058\u306b\u304f\u3044\u3002\nupdate\u95a2\u6570\u81ea\u4f53\u306fENTER_FRAME\u306e\u6bb5\u968e\u3067\u547c\u3073\u51fa\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u3055\u3089\u306bGood!\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u304b\u3092\u81ea\u4f5c\u3059\u308b\u3068\u304d\u306b\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u304c1\u3064\u5909\u66f4\u3055\u308c\u308b\u3054\u3068\u306bgraphics\u3092\u6d88\u3057\u3066\u66f8\u304d\u63db\u3048\u307f\u305f\u3044\u306a\u3053\u3068\u3092\u3084\u3063\u3066\u308b\u3068\u91cd\u304f\u306a\u308b\u306e\u30671\u30d5\u30ec\u30fc\u30e0\u5206\u306e\u5909\u66f4\u3092\u307e\u3068\u3081\u3066\u51e6\u7406\u3002\n\n```as3:CustomComponent.as\npackage {\n\timport flash.display.Graphics;\n\timport flash.display.Sprite;\n\timport flash.events.Event;\n\t\n\tpublic class CustomComponent extends Sprite {\n\t\tprivate var changed:Boolean = false;\n\t\tprivate var eventType:String;\n\t\t\n\t\tpublic function setSize( width:Number, height:Number ):void {\n\t\t\t/* \u30b5\u30a4\u30ba\u5909\u66f4! */\n\t\t\tupdate();\n\t\t}\n\t\tpublic function setBackground( color:uint ):void {\n\t\t\t/* \u80cc\u666f\u8272\u5909\u66f4! */\n\t\t\tupdate();\n\t\t}\n\t\t\n\t\t/* \u66f4\u65b0\u3092\u4e88\u7d04 */\n\t\tprivate function update():void {\n\t\t\tif (! changed ) {\n\t\t\t\tchanged = true;\n\t\t\t\tif ( stage ) {\n\t\t\t\t\taddEventListener( eventType = Event.EXIT_FRAME, _update, false, int.MIN_VALUE );\n\t\t\t\t}else {\n\t\t\t\t\taddEventListener( eventType = Event.ADDED_TO_STAGE, _update );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprivate function _update( e:Event ):void {\n\t\t\tremoveEventListener( eventType, _update );\n\t\t\tchanged = false;\n\t\t\t\n\t\t\t/* \u3053\u3053\u304b\u3089\u4e0b\u3067\u3001\u753b\u9762\u66f4\u65b0\u51e6\u7406 */\n\t\t\tvar g:Graphics = graphics;\n\t\t}\n\t\t\n\t}\n}\n```\n\nEvent.ENTER_FRAME\u3058\u3083\u306a\u304f\u3066\u3001Event.EXIT_FRAME\u3092\u4f7f\u3046\u306e\u304c\u30df\u30bd\u3002\n\u753b\u9762\u304c\u63cf\u753b\u3055\u308c\u308b\u5bf8\u524d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u306e\u3067\u3001\u753b\u9762\u304c\u5909\u66f4\u3055\u308c\u308b\u307e\u3067\u306e\u30e9\u30b0\u304c\u751f\u3058\u306b\u304f\u3044\u3002\n\nupdate\u95a2\u6570\u81ea\u4f53\u306fENTER_FRAME\u306e\u6bb5\u968e\u3067\u547c\u3073\u51fa\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u3055\u3089\u306bGood!\n"}