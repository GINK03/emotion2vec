{"context": "\n\u540c\u3058Admin\u30b5\u30a4\u30c8\u3067\u306f\u30e2\u30c7\u30eb\u306b\u8907\u6570\u306eAdmin\u3092\u5b9a\u7fa9\u3067\u304d\u306a\u3044\n\nfrom django.contrib.auth.models import User\n\nclass UserAdmin(admin.ModelAdmin):\n    list_display = ['id', 'username']\n\nadmin.site.register(User, UserAdmin)\n\ndjango.contrib.admin.sites.AlreadyRegistered: The model User is already registered\n\n\nProxy\u30e2\u30c7\u30eb\n\nproxy = True \u3067\u65e2\u5b58\u30e2\u30c7\u30eb\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u7528\u610f\u3057\u3001\u305d\u308c\u306bAdmin\u3092\u5b9a\u7fa9\n\nclass Superuser(User):\n    class Meta:\n        proxy = True\n\n\nclass SuperuserAdmin(admin.ModelAdmin):\n    list_display = ['id', 'username']\n\nadmin.site.register(Superuser, SuperuserAdmin)\n\n\nget_queryset\n\n\u6761\u4ef6\u3092\u7d5e\u308b\u306a\u3069\n\nclass SuperuserAdmin(admin.ModelAdmin):\n    list_display = ['id', 'username']\n\n    def get_queryset(self, request):\n        return super(SuperuserAdmin, self).get_queryset(request).filter(\n            is_superuser=True)\n\n\n- \u540c\u3058Admin\u30b5\u30a4\u30c8\u3067\u306f\u30e2\u30c7\u30eb\u306b\u8907\u6570\u306eAdmin\u3092\u5b9a\u7fa9\u3067\u304d\u306a\u3044\n\n~~~py\nfrom django.contrib.auth.models import User\n\nclass UserAdmin(admin.ModelAdmin):\n    list_display = ['id', 'username']\n\nadmin.site.register(User, UserAdmin)\n~~~\n\n~~~\ndjango.contrib.admin.sites.AlreadyRegistered: The model User is already registered\n~~~\n\n# Proxy\u30e2\u30c7\u30eb\n\n- proxy = True \u3067\u65e2\u5b58\u30e2\u30c7\u30eb\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u7528\u610f\u3057\u3001\u305d\u308c\u306bAdmin\u3092\u5b9a\u7fa9\n\n~~~py\nclass Superuser(User):\n    class Meta:\n        proxy = True\n\n\nclass SuperuserAdmin(admin.ModelAdmin):\n    list_display = ['id', 'username']\n\nadmin.site.register(Superuser, SuperuserAdmin)\n~~~\n\n# get_queryset\n\n- \u6761\u4ef6\u3092\u7d5e\u308b\u306a\u3069\n\n~~~py\nclass SuperuserAdmin(admin.ModelAdmin):\n    list_display = ['id', 'username']\n\n    def get_queryset(self, request):\n        return super(SuperuserAdmin, self).get_queryset(request).filter(\n            is_superuser=True)\n~~~            \n", "tags": ["Django"]}