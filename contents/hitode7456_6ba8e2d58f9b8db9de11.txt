{"tags": ["Linux", "command"], "context": " More than 1 year has passed since last update.\nTable of Contents\n\n\n\n1. \u6e96\u5099\n\n1.1. \u5b9f\u9a13\u74b0\u5883\n1.2. \u5b9f\u9a13\u7528\u30b9\u30af\u30ea\u30d7\u30c8\n1.3. seq\n\n\n2. \u901a\u5e38\u306e\u5b9f\u884c\n3. -L \u30aa\u30d7\u30b7\u30e7\u30f3\n4. -P \u30aa\u30d7\u30b7\u30e7\u30f3\n5. -I \u30aa\u30d7\u30b7\u30e7\u30f3\n6. -n \u30aa\u30d7\u30b7\u30e7\u30f3\n\n7. \u305d\u306e\u4ed6\n\n7.1. \u6a19\u6e96\u5165\u529b\u3067\u6e21\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u30b5\u30a4\u30ba\n7.2. -P \u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\u6642\u306e\u5b9f\u884c\u6642\u9593\n\n\n\n\n\n\nxargs \u306f\u4fbf\u5229\u306a\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\nxargs \u3092\u4f7f\u3046\u3053\u3068\u306b\u3088\u308a\u3001\u8907\u96d1\u306a\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u3057\u306a\u3044\u3067\u3082\u3001\u624b\u8efd\u306b\u4e26\u5217\u51e6\u7406\u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\n\n\u6e96\u5099\n\n\n\u5b9f\u9a13\u74b0\u5883\n\n\u4eca\u56de\u5b9f\u9a13\u306b\u5229\u7528\u3059\u308b\u74b0\u5883\u306f CentOS 6.4 \u3067\u3059\u3002\nxargs \u306f Linux \u7cfb\u3068 BSD \u7cfb\u3067\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u7570\u306a\u308a\u307e\u3059\u306e\u3067\u3001\u3054\u6ce8\u610f\u4e0b\u3055\u3044\u3002\n\n\u5b9f\u9a13\u7528\u30b9\u30af\u30ea\u30d7\u30c8\n\n\u4eca\u56de\u306e\u5b9f\u9a13\u306b\u5229\u7528\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092 xargs \u306e\u5f15\u6570\u306b\u6e21\u3057\u307e\u3059\u3002\n\u4ee5\u964d\u3001\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u69d8\u306b xargs \u306b\u6e21\u3059\u30b3\u30de\u30f3\u30c9\u3092\u3001 xargs \u5f15\u6570\u30b3\u30de\u30f3\u30c9 \u3068\u547c\u3076\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n#!/bin/sh\n\n# \u5b9f\u884c\u6642\u9593\u3092\u64ec\u614b\nsleep 1\n\n# \u30b3\u30de\u30f3\u30c9\u5f15\u6570\u8868\u793a\u6642\u306e\u6700\u5927\u6587\u5b57\u6570\nmax_len=50\n\n# \u6700\u5927\u6587\u5b57\u6570\u3092\u8d85\u3048\u305f\u5834\u5408\u306e\u30c8\u30ea\u30df\u30f3\u30b0\na=$@\nif [ $max_len -lt ${#a} ]\nthen\n    a=\"${a:0:$max_len}...\"\nfi\n\n# \u30d7\u30ed\u30bb\u30b9\u756a\u53f7, \u30b3\u30de\u30f3\u30c9\u5f15\u6570\u306e\u6570\u3001\u30b3\u30de\u30f3\u30c9\u5f15\u6570\u306e\u30ea\u30b9\u30c8\u3092\u51fa\u529b\necho pid[$$] numArgs[$#] args[$a]\n\n\n\u5b9f\u9a13\u6642\u306b time \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u6642\u9593\u3092\u6e2c\u5b9a\u3057\u307e\u3059\u306e\u3067\u3001 sleep \u3067\u5b9f\u884c\u6642\u9593\u3092\u507d\u88c5\u3057\u3066\u3044\u307e\u3059\nxargs \u306b\u6e21\u3055\u308c\u308b\u5f15\u6570\u3092\u89b3\u6e2c\u3059\u308b\u305f\u3081\u306e\u60c5\u5831\u3092\u6a19\u6e96\u51fa\u529b\u306b\u51fa\u529b\u3057\u3066\u3044\u307e\u3059\n\n\nseq\n\nseq \u306f\u6570\u5217\u3092\u51fa\u529b\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n$ seq 10\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n$ seq -s ' ' 10\n1 2 3 4 5 6 7 8 9 10\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u3001 xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9 \u306b\u3001\u3069\u306e\u3088\u3046\u306b\u5f15\u6570\u304c\u6e21\u3055\u308c\u308b\u304b\u89b3\u6e2c\u3057\u307e\u3059\u3002\n\n\u901a\u5e38\u306e\u5b9f\u884c\n\n$ time seq 10 | xargs ./echo.sh T\npid[13795] numArgs[11] args[T 1 2 3 4 5 6 7 8 9 10]\n\nreal    0m1.007s\nuser    0m0.000s\nsys     0m0.002s\n\nxargs \u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u3067\u3059\u3002\n\u6a19\u6e96\u5165\u529b\u304b\u3089\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\u304c\u3001\u5168\u3066 xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9 (echo.sh)\u306e\u5f15\u6570\u306b\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\n\u6a19\u6e96\u5165\u529b\u304b\u3089\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306e\u4ed6\u306b\u3001 echo.sh \u306b T \u3068\u3044\u3046\u5f15\u6570\u3092\u76f4\u63a5\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\u51fa\u529b\u7d50\u679c\u306e args[T 1 2 3 4 5 6 7 8 9 10] \u306e\u90e8\u5206\u304b\u3089\u308f\u304b\u308b\u3088\u3046\u306b\u3001\u6a19\u6e96\u5165\u529b\u304b\u3089\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306f\u6700\u5f8c\u5c3e\u306b\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\necho.sh \u306f1\u56de\u306e\u8d77\u52d5\u3067\u3001\u51e6\u7406\u6642\u9593\u306f\u7d041\u79d2\u3067\u3059\u3002\n\n-L \u30aa\u30d7\u30b7\u30e7\u30f3\n\n$ time seq 10 | xargs -L 5 ./echo.sh T\npid[15157] numArgs[6] args[T 1 2 3 4 5]\npid[15172] numArgs[6] args[T 6 7 8 9 10]\n\nreal    0m2.022s\nuser    0m0.002s\nsys     0m0.003s\n\n-L \u306f\u3001 xarg\u5f15\u6570\u30b3\u30de\u30f3\u30c9 \u306b\u4e00\u5ea6\u306b\u5c55\u958b\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u6700\u5927\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u6a19\u6e96\u51fa\u529b\u304b\u3089\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\u6570\u304c\u3001 -L \u3067\u6307\u5b9a\u3055\u308c\u305f\u6570\u3088\u308a\u304a\u5927\u304d\u3044\u5834\u5408\u3001\u5168\u3066\u306e\u30c7\u30fc\u30bf\u304c\u5c55\u958b\u3057\u7d42\u308f\u308b\u307e\u3067 xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9 \u304c\u7e70\u308a\u8fd4\u3057\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\u4eca\u56de\u306e\u5834\u5408\u306f\u3001\u30c7\u30fc\u30bf\u6570\u304c 10 \u3067\u3059\u306e\u3067\u3001 10/5=2 \u3067\u3001 echo.sh \u304c2\u56de\u5b9f\u884c\u3055\u308c\u307e\u3057\u305f\u3002\n\u51e6\u7406\u6642\u9593\u304c\u7d042\u79d2\u306a\u306e\u3067\u3001\u9010\u6b21\u306b\u5b9f\u884c\u3055\u308c\u305f\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n-P \u30aa\u30d7\u30b7\u30e7\u30f3\n\n$ time seq 10 | xargs -L 5  -P 2  ./echo.sh T\npid[15256] numArgs[6] args[T 1 2 3 4 5]\npid[15257] numArgs[6] args[T 6 7 8 9 10]\n\nreal    0m1.011s\nuser    0m0.003s\nsys     0m0.003s\n\n-L \u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u52a0\u3048\u3001 -P \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u52a0\u3048\u3066\u5b9f\u884c\u3057\u307e\u3057\u305f\u3002\n-P \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001 xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9 \u306e\u540c\u6642\u5b9f\u884c\u6570\u306e\u6700\u5927\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n-L \u30aa\u30d7\u30b7\u30e7\u30f3\u30675\u3092\u6307\u5b9a\u3057\u305f\u3060\u3051\u306e\u5834\u5408\u3001 echo.sh \u304c2\u56de\u3001\u9010\u6b21\u306b\u5b9f\u884c\u3055\u308c\u307e\u3057\u305f\u306e\u3067\u3001\u7d042\u79d2\u304b\u304b\u308a\u307e\u3057\u305f\u3002\n-P \u30aa\u30d7\u30b7\u30e7\u30f3\u30672\u3092\u8ffd\u52a0\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001 echo.sh \u304c\u540c\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u306e\u3067\u3001\u7d041\u79d2\u3067\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\n\n-I \u30aa\u30d7\u30b7\u30e7\u30f3\n\n$ time seq 10 | xargs -IXXX ./echo.sh XXX T\npid[15382] numArgs[2] args[1 T]\npid[15387] numArgs[2] args[2 T]\npid[15391] numArgs[2] args[3 T]\npid[15395] numArgs[2] args[4 T]\npid[15400] numArgs[2] args[5 T]\npid[15404] numArgs[2] args[6 T]\npid[15408] numArgs[2] args[7 T]\npid[15413] numArgs[2] args[8 T]\npid[15417] numArgs[2] args[9 T]\npid[15421] numArgs[2] args[10 T]\n\nreal    0m10.057s\nuser    0m0.005s\nsys     0m0.016s\n\n-I \u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3088\u308a\u3001\u6a19\u6e96\u5165\u529b\u3088\u308a\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u3001 xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9 \u306e\u3001\u4efb\u610f\u306e\u4f4d\u7f6e\u306e\u5f15\u6570\u306b\u5c55\u958b\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\nargs[1 T] \u306e\u69d8\u306b\u3001 echo.sh \u306b\u76f4\u63a5\u6e21\u3055\u308c\u305f\u5f15\u6570 T \u3088\u308a\u3082\u524d\u306b( XXX \u304c\u7f6e\u304b\u308c\u305f\u4f4d\u7f6e)\u5c55\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n-I \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001 -L \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u7121\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\n$ time seq 10 | xargs -L 5 -IXXX  ./echo.sh XXX T\npid[15536] numArgs[2] args[1 T]\npid[15541] numArgs[2] args[2 T]\npid[15545] numArgs[2] args[3 T]\npid[15549] numArgs[2] args[4 T]\npid[15554] numArgs[2] args[5 T]\npid[15558] numArgs[2] args[6 T]\npid[15562] numArgs[2] args[7 T]\npid[15567] numArgs[2] args[8 T]\npid[15571] numArgs[2] args[9 T]\npid[15574] numArgs[2] args[10 T]\n\nreal    0m10.086s\nuser    0m0.004s\nsys     0m0.012s\n\n-I \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3067\u3082\u3001 -P \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u6709\u52b9\u3067\u3059\u3002\n$ time seq 10 | xargs  -P 2 -IXXX ./echo.sh XXX T\npid[15645] numArgs[2] args[1 T]\npid[15646] numArgs[2] args[2 T]\npid[15652] numArgs[2] args[3 T]\npid[15654] numArgs[2] args[4 T]\npid[15658] numArgs[2] args[5 T]\npid[15660] numArgs[2] args[6 T]\npid[15664] numArgs[2] args[7 T]\npid[15666] numArgs[2] args[8 T]\npid[15674] numArgs[2] args[9 T]\npid[15677] numArgs[2] args[10 T]\n\nreal    0m5.033s\nuser    0m0.006s\nsys     0m0.009s\n\n-P \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u540c\u6642\u5b9f\u884c\u6570\u30922\u306b\u6307\u5b9a\u3057\u307e\u3057\u305f\u3002\u305d\u306e\u52b9\u679c\u306b\u3088\u308a\u3001 echo.sh \u304c10\u56de\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u306e\u306b\u3001\u51e6\u7406\u6642\u9593\u306f\u7d045\u79d2\u3067\u3059\u3002\n\n-n \u30aa\u30d7\u30b7\u30e7\u30f3\n\n-n \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001 xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9 \u306b\u6e21\u3059\u5f15\u6570\u306e\u6700\u5927\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n-L \u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u4f3c\u3066\u3044\u307e\u3059\u3002\u9055\u3044\u306f\u4ee5\u4e0b\u306e\u4f8b\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n$ time seq -s ' ' 10 | xargs  -L  2  ./echo.sh  T\npid[23843] numArgs[11] args[T 1 2 3 4 5 6 7 8 9 10]\n\nreal    0m1.007s\nuser    0m0.001s\nsys     0m0.002s\n\n$ time seq -s ' ' 10 | xargs  -n 2 ./echo.sh  T\npid[23897] numArgs[3] args[T 1 2]\npid[23902] numArgs[3] args[T 3 4]\npid[23906] numArgs[3] args[T 5 6]\npid[23910] numArgs[3] args[T 7 8]\npid[23915] numArgs[3] args[T 9 10]\n\nreal    0m5.020s\nuser    0m0.002s\nsys     0m0.002s\n\nseq \u306b -seq \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u6539\u884c\u3092\u5165\u308c\u306a\u3044\u30c7\u30fc\u30bf\u3092 xargs \u306e\u6a19\u6e96\u5165\u529b\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n-L \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u306f\u3001\u6539\u884c\u7121\u3057\u306e\u30c7\u30fc\u30bf\u306f1\u3064\u306e\u30c7\u30fc\u30bf\u3068\u307f\u306a\u3055\u308c\u3001 xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9 \u306b\u5c55\u958b\u3055\u308c\u308b\u307e\u3059\u3002\n\u5bfe\u3057\u3066\u3001 -n \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u306f\u3001 xargs \u304c xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9 \u306b\u6e21\u3059\u5f15\u6570\u306e\u6570\u306e\u6700\u5927\u5024\u3092\u5236\u9650\u3057\u307e\u3059\u3002\n\n\u305d\u306e\u4ed6\n\n\n\u6a19\u6e96\u5165\u529b\u3067\u6e21\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u30b5\u30a4\u30ba\n\nxargs \u306b\u3088\u3063\u3066\u5c55\u958b\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u30b5\u30a4\u30ba\u3084\u500b\u6570\u306b\u3064\u3044\u3066\u306f\u9650\u754c\u304c\u3042\u308a\u307e\u3059\u3002\n\u9650\u754c\u3092\u8d85\u3048\u305f\u30c7\u30fc\u30bf\u304c\u6e21\u3055\u308c\u305f\u5834\u5408\u3001\u5c55\u958b\u53ef\u80fd\u306a\u5206\u6bce\u306b xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9 \u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n$ time seq  100000  | xargs  ./echo.sh  T\npid[29078] numArgs[23695] args[T 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 ...]\npid[29087] numArgs[21844] args[T 23695 23696 23697 23698 23699 23700 23701 23702 ...]\npid[29096] numArgs[21844] args[T 45538 45539 45540 45541 45542 45543 45544 45545 ...]\npid[29103] numArgs[21844] args[T 67381 67382 67383 67384 67385 67386 67387 67388 ...]\npid[29112] numArgs[10778] args[T 89224 89225 89226 89227 89228 89229 89230 89231 ...]\n\nreal    0m12.134s\nuser    0m5.704s\nsys     0m0.052s\n\n\u9650\u754c\u306f\u3001 xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9 \u306b\u6e21\u3055\u308c\u308b\u5f15\u6570\u306e\u6570\u3084\u3001\u5c55\u958b\u5f8c\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5168\u4f53\u306e\u9577\u3055\u7b49\u3001\u8907\u6570\u6761\u4ef6\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u308c\u3089\u306f -show-limts \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u8abf\u3079\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n$ xargs --show-limits\nYour environment variables take up 2560 bytes\nPOSIX upper limit on argument length (this system): 2616832\nPOSIX smallest allowable upper limit on argument length (all systems): 4096\nMaximum length of command we could actually use: 2614272\nSize of command buffer we are actually using: 131072\n\nExecution of xargs will continue now, and it will try to read its input and run commands; if this is not what you wanted to happen, please type the end-of-file keystroke.\nWarning: /bin/echo will be run at least once.  If you do not want that to happen, then press the interrupt keystroke.\n\n\u307e\u305f\u3001\u4eca\u56de\u306f\u30c7\u30fc\u30bf\u306e\u6570\u304c\u591a\u304b\u3063\u305f\u3081\u3001\u5b9f\u884c\u6642\u9593\u304c12\u79d2\u3068\u3001\u7406\u8ad6\u5024\u3067\u3042\u308b5\u79d2\u3088\u308a\u3082\u591a\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u307e\u3059\u3002\n\n-P \u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\u6642\u306e\u5b9f\u884c\u6642\u9593\n\n\u4eca\u56de\u306e\u4f8b\u3067\u306f -P \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u7406\u8ad6\u5024\u306b\u8fd1\u3044\u4e26\u5217\u52b9\u679c\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u3057\u304b\u3057\u3001\u5b9f\u884c\u4e2d\u306b CPU \u3092\u30d5\u30eb\u306b\u4f7f\u3044\u7d9a\u3051\u308b\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3092 xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9 \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u3001\u5229\u7528\u74b0\u5883\u306eCPU\u6570(\u30b3\u30a2\u6570)\u306b\u4f9d\u5b58\u3057\u305f\u4e26\u5217\u52b9\u679c\u306b\u306a\u308a\u307e\u3059\u3002\n<div id=\"table-of-contents\">\n<h2>Table of Contents</h2>\n<div id=\"text-table-of-contents\">\n<ul>\n<li><a href=\"#orgheadline4\">1. \u6e96\u5099</a>\n<ul>\n<li><a href=\"#orgheadline1\">1.1. \u5b9f\u9a13\u74b0\u5883</a></li>\n<li><a href=\"#orgheadline2\">1.2. \u5b9f\u9a13\u7528\u30b9\u30af\u30ea\u30d7\u30c8</a></li>\n<li><a href=\"#orgheadline3\">1.3. seq</a></li>\n</ul>\n</li>\n<li><a href=\"#orgheadline5\">2. \u901a\u5e38\u306e\u5b9f\u884c</a></li>\n<li><a href=\"#orgheadline6\">3. -L \u30aa\u30d7\u30b7\u30e7\u30f3</a></li>\n<li><a href=\"#orgheadline7\">4. -P \u30aa\u30d7\u30b7\u30e7\u30f3</a></li>\n<li><a href=\"#orgheadline8\">5. -I \u30aa\u30d7\u30b7\u30e7\u30f3</a></li>\n<li><a href=\"#orgheadline9\">6. -n \u30aa\u30d7\u30b7\u30e7\u30f3</a></li>\n<li><a href=\"#orgheadline12\">7. \u305d\u306e\u4ed6</a>\n<ul>\n<li><a href=\"#orgheadline10\">7.1. \u6a19\u6e96\u5165\u529b\u3067\u6e21\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u30b5\u30a4\u30ba</a></li>\n<li><a href=\"#orgheadline11\">7.2. -P \u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\u6642\u306e\u5b9f\u884c\u6642\u9593</a></li>\n</ul>\n</li>\n</ul>\n</div>\n</div>\n\n`xargs` \u306f\u4fbf\u5229\u306a\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\n`xargs` \u3092\u4f7f\u3046\u3053\u3068\u306b\u3088\u308a\u3001\u8907\u96d1\u306a\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u3057\u306a\u3044\u3067\u3082\u3001\u624b\u8efd\u306b\u4e26\u5217\u51e6\u7406\u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\n\n# \u6e96\u5099<a id=\"orgheadline4\"></a>\n\n## \u5b9f\u9a13\u74b0\u5883<a id=\"orgheadline1\"></a>\n\n\u4eca\u56de\u5b9f\u9a13\u306b\u5229\u7528\u3059\u308b\u74b0\u5883\u306f CentOS 6.4 \u3067\u3059\u3002\n\n`xargs` \u306f Linux \u7cfb\u3068 BSD \u7cfb\u3067\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u7570\u306a\u308a\u307e\u3059\u306e\u3067\u3001\u3054\u6ce8\u610f\u4e0b\u3055\u3044\u3002\n\n## \u5b9f\u9a13\u7528\u30b9\u30af\u30ea\u30d7\u30c8<a id=\"orgheadline2\"></a>\n\n\u4eca\u56de\u306e\u5b9f\u9a13\u306b\u5229\u7528\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092 `xargs` \u306e\u5f15\u6570\u306b\u6e21\u3057\u307e\u3059\u3002\n\n\u4ee5\u964d\u3001\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u69d8\u306b `xargs` \u306b\u6e21\u3059\u30b3\u30de\u30f3\u30c9\u3092\u3001 `xargs \u5f15\u6570\u30b3\u30de\u30f3\u30c9` \u3068\u547c\u3076\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\n    #!/bin/sh\n    \n    # \u5b9f\u884c\u6642\u9593\u3092\u64ec\u614b\n    sleep 1\n    \n    # \u30b3\u30de\u30f3\u30c9\u5f15\u6570\u8868\u793a\u6642\u306e\u6700\u5927\u6587\u5b57\u6570\n    max_len=50\n    \n    # \u6700\u5927\u6587\u5b57\u6570\u3092\u8d85\u3048\u305f\u5834\u5408\u306e\u30c8\u30ea\u30df\u30f3\u30b0\n    a=$@\n    if [ $max_len -lt ${#a} ]\n    then\n        a=\"${a:0:$max_len}...\"\n    fi\n    \n    # \u30d7\u30ed\u30bb\u30b9\u756a\u53f7, \u30b3\u30de\u30f3\u30c9\u5f15\u6570\u306e\u6570\u3001\u30b3\u30de\u30f3\u30c9\u5f15\u6570\u306e\u30ea\u30b9\u30c8\u3092\u51fa\u529b\n    echo pid[$$] numArgs[$#] args[$a]\n\n-   \u5b9f\u9a13\u6642\u306b `time` \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u6642\u9593\u3092\u6e2c\u5b9a\u3057\u307e\u3059\u306e\u3067\u3001 `sleep` \u3067\u5b9f\u884c\u6642\u9593\u3092\u507d\u88c5\u3057\u3066\u3044\u307e\u3059\n\n-   `xargs` \u306b\u6e21\u3055\u308c\u308b\u5f15\u6570\u3092\u89b3\u6e2c\u3059\u308b\u305f\u3081\u306e\u60c5\u5831\u3092\u6a19\u6e96\u51fa\u529b\u306b\u51fa\u529b\u3057\u3066\u3044\u307e\u3059\n\n## seq<a id=\"orgheadline3\"></a>\n\n`seq` \u306f\u6570\u5217\u3092\u51fa\u529b\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\n    $ seq 10\n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n\n    $ seq -s ' ' 10\n    1 2 3 4 5 6 7 8 9 10\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u3001 `xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9` \u306b\u3001\u3069\u306e\u3088\u3046\u306b\u5f15\u6570\u304c\u6e21\u3055\u308c\u308b\u304b\u89b3\u6e2c\u3057\u307e\u3059\u3002\n\n# \u901a\u5e38\u306e\u5b9f\u884c<a id=\"orgheadline5\"></a>\n\n    $ time seq 10 | xargs ./echo.sh T\n    pid[13795] numArgs[11] args[T 1 2 3 4 5 6 7 8 9 10]\n    \n    real    0m1.007s\n    user    0m0.000s\n    sys     0m0.002s\n\n`xargs` \u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u3067\u3059\u3002\n\n\u6a19\u6e96\u5165\u529b\u304b\u3089\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\u304c\u3001\u5168\u3066 `xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9` (`echo.sh`)\u306e\u5f15\u6570\u306b\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\n\n\u6a19\u6e96\u5165\u529b\u304b\u3089\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306e\u4ed6\u306b\u3001 `echo.sh` \u306b `T` \u3068\u3044\u3046\u5f15\u6570\u3092\u76f4\u63a5\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u51fa\u529b\u7d50\u679c\u306e `args[T 1 2 3 4 5 6 7 8 9 10]` \u306e\u90e8\u5206\u304b\u3089\u308f\u304b\u308b\u3088\u3046\u306b\u3001\u6a19\u6e96\u5165\u529b\u304b\u3089\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306f\u6700\u5f8c\u5c3e\u306b\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\n\n`echo.sh` \u306f1\u56de\u306e\u8d77\u52d5\u3067\u3001\u51e6\u7406\u6642\u9593\u306f\u7d041\u79d2\u3067\u3059\u3002\n\n# -L \u30aa\u30d7\u30b7\u30e7\u30f3<a id=\"orgheadline6\"></a>\n\n    $ time seq 10 | xargs -L 5 ./echo.sh T\n    pid[15157] numArgs[6] args[T 1 2 3 4 5]\n    pid[15172] numArgs[6] args[T 6 7 8 9 10]\n    \n    real    0m2.022s\n    user    0m0.002s\n    sys     0m0.003s\n\n`-L` \u306f\u3001 `xarg\u5f15\u6570\u30b3\u30de\u30f3\u30c9` \u306b\u4e00\u5ea6\u306b\u5c55\u958b\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u6700\u5927\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\u6a19\u6e96\u51fa\u529b\u304b\u3089\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\u6570\u304c\u3001 `-L` \u3067\u6307\u5b9a\u3055\u308c\u305f\u6570\u3088\u308a\u304a\u5927\u304d\u3044\u5834\u5408\u3001\u5168\u3066\u306e\u30c7\u30fc\u30bf\u304c\u5c55\u958b\u3057\u7d42\u308f\u308b\u307e\u3067 `xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9` \u304c\u7e70\u308a\u8fd4\u3057\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\n\u4eca\u56de\u306e\u5834\u5408\u306f\u3001\u30c7\u30fc\u30bf\u6570\u304c `10` \u3067\u3059\u306e\u3067\u3001 `10/5=2` \u3067\u3001 `echo.sh` \u304c2\u56de\u5b9f\u884c\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u51e6\u7406\u6642\u9593\u304c\u7d042\u79d2\u306a\u306e\u3067\u3001\u9010\u6b21\u306b\u5b9f\u884c\u3055\u308c\u305f\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n# -P \u30aa\u30d7\u30b7\u30e7\u30f3<a id=\"orgheadline7\"></a>\n\n    $ time seq 10 | xargs -L 5  -P 2  ./echo.sh T\n    pid[15256] numArgs[6] args[T 1 2 3 4 5]\n    pid[15257] numArgs[6] args[T 6 7 8 9 10]\n    \n    real    0m1.011s\n    user    0m0.003s\n    sys     0m0.003s\n\n`-L` \u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u52a0\u3048\u3001 `-P` \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u52a0\u3048\u3066\u5b9f\u884c\u3057\u307e\u3057\u305f\u3002\n\n`-P` \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001 `xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9` \u306e\u540c\u6642\u5b9f\u884c\u6570\u306e\u6700\u5927\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n`-L` \u30aa\u30d7\u30b7\u30e7\u30f3\u30675\u3092\u6307\u5b9a\u3057\u305f\u3060\u3051\u306e\u5834\u5408\u3001 `echo.sh` \u304c2\u56de\u3001\u9010\u6b21\u306b\u5b9f\u884c\u3055\u308c\u307e\u3057\u305f\u306e\u3067\u3001\u7d042\u79d2\u304b\u304b\u308a\u307e\u3057\u305f\u3002\n\n`-P` \u30aa\u30d7\u30b7\u30e7\u30f3\u30672\u3092\u8ffd\u52a0\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001 `echo.sh` \u304c\u540c\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u306e\u3067\u3001\u7d041\u79d2\u3067\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\n\n# -I \u30aa\u30d7\u30b7\u30e7\u30f3<a id=\"orgheadline8\"></a>\n\n    $ time seq 10 | xargs -IXXX ./echo.sh XXX T\n    pid[15382] numArgs[2] args[1 T]\n    pid[15387] numArgs[2] args[2 T]\n    pid[15391] numArgs[2] args[3 T]\n    pid[15395] numArgs[2] args[4 T]\n    pid[15400] numArgs[2] args[5 T]\n    pid[15404] numArgs[2] args[6 T]\n    pid[15408] numArgs[2] args[7 T]\n    pid[15413] numArgs[2] args[8 T]\n    pid[15417] numArgs[2] args[9 T]\n    pid[15421] numArgs[2] args[10 T]\n    \n    real    0m10.057s\n    user    0m0.005s\n    sys     0m0.016s\n\n`-I` \u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3088\u308a\u3001\u6a19\u6e96\u5165\u529b\u3088\u308a\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u3001 `xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9` \u306e\u3001\u4efb\u610f\u306e\u4f4d\u7f6e\u306e\u5f15\u6570\u306b\u5c55\u958b\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n`args[1 T]` \u306e\u69d8\u306b\u3001 `echo.sh` \u306b\u76f4\u63a5\u6e21\u3055\u308c\u305f\u5f15\u6570 `T` \u3088\u308a\u3082\u524d\u306b( `XXX` \u304c\u7f6e\u304b\u308c\u305f\u4f4d\u7f6e)\u5c55\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n`-I` \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001 `-L` \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u7121\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\n\n    $ time seq 10 | xargs -L 5 -IXXX  ./echo.sh XXX T\n    pid[15536] numArgs[2] args[1 T]\n    pid[15541] numArgs[2] args[2 T]\n    pid[15545] numArgs[2] args[3 T]\n    pid[15549] numArgs[2] args[4 T]\n    pid[15554] numArgs[2] args[5 T]\n    pid[15558] numArgs[2] args[6 T]\n    pid[15562] numArgs[2] args[7 T]\n    pid[15567] numArgs[2] args[8 T]\n    pid[15571] numArgs[2] args[9 T]\n    pid[15574] numArgs[2] args[10 T]\n    \n    real    0m10.086s\n    user    0m0.004s\n    sys     0m0.012s\n\n`-I` \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3067\u3082\u3001 `-P` \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u6709\u52b9\u3067\u3059\u3002\n\n    $ time seq 10 | xargs  -P 2 -IXXX ./echo.sh XXX T\n    pid[15645] numArgs[2] args[1 T]\n    pid[15646] numArgs[2] args[2 T]\n    pid[15652] numArgs[2] args[3 T]\n    pid[15654] numArgs[2] args[4 T]\n    pid[15658] numArgs[2] args[5 T]\n    pid[15660] numArgs[2] args[6 T]\n    pid[15664] numArgs[2] args[7 T]\n    pid[15666] numArgs[2] args[8 T]\n    pid[15674] numArgs[2] args[9 T]\n    pid[15677] numArgs[2] args[10 T]\n    \n    real    0m5.033s\n    user    0m0.006s\n    sys     0m0.009s\n\n`-P` \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u540c\u6642\u5b9f\u884c\u6570\u30922\u306b\u6307\u5b9a\u3057\u307e\u3057\u305f\u3002\u305d\u306e\u52b9\u679c\u306b\u3088\u308a\u3001 `echo.sh` \u304c10\u56de\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u306e\u306b\u3001\u51e6\u7406\u6642\u9593\u306f\u7d045\u79d2\u3067\u3059\u3002\n\n# -n \u30aa\u30d7\u30b7\u30e7\u30f3<a id=\"orgheadline9\"></a>\n\n`-n` \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001 `xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9` \u306b\u6e21\u3059\u5f15\u6570\u306e\u6700\u5927\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n`-L` \u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u4f3c\u3066\u3044\u307e\u3059\u3002\u9055\u3044\u306f\u4ee5\u4e0b\u306e\u4f8b\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n    $ time seq -s ' ' 10 | xargs  -L  2  ./echo.sh  T\n    pid[23843] numArgs[11] args[T 1 2 3 4 5 6 7 8 9 10]\n    \n    real    0m1.007s\n    user    0m0.001s\n    sys     0m0.002s\n\n    $ time seq -s ' ' 10 | xargs  -n 2 ./echo.sh  T\n    pid[23897] numArgs[3] args[T 1 2]\n    pid[23902] numArgs[3] args[T 3 4]\n    pid[23906] numArgs[3] args[T 5 6]\n    pid[23910] numArgs[3] args[T 7 8]\n    pid[23915] numArgs[3] args[T 9 10]\n    \n    real    0m5.020s\n    user    0m0.002s\n    sys     0m0.002s\n\n`seq` \u306b `-seq` \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u6539\u884c\u3092\u5165\u308c\u306a\u3044\u30c7\u30fc\u30bf\u3092 `xargs` \u306e\u6a19\u6e96\u5165\u529b\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\n`-L` \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u306f\u3001\u6539\u884c\u7121\u3057\u306e\u30c7\u30fc\u30bf\u306f1\u3064\u306e\u30c7\u30fc\u30bf\u3068\u307f\u306a\u3055\u308c\u3001 `xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9` \u306b\u5c55\u958b\u3055\u308c\u308b\u307e\u3059\u3002\n\n\u5bfe\u3057\u3066\u3001 `-n` \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u306f\u3001 `xargs` \u304c `xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9` \u306b\u6e21\u3059\u5f15\u6570\u306e\u6570\u306e\u6700\u5927\u5024\u3092\u5236\u9650\u3057\u307e\u3059\u3002\n\n# \u305d\u306e\u4ed6<a id=\"orgheadline12\"></a>\n\n## \u6a19\u6e96\u5165\u529b\u3067\u6e21\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u30b5\u30a4\u30ba<a id=\"orgheadline10\"></a>\n\n`xargs` \u306b\u3088\u3063\u3066\u5c55\u958b\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u30b5\u30a4\u30ba\u3084\u500b\u6570\u306b\u3064\u3044\u3066\u306f\u9650\u754c\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u9650\u754c\u3092\u8d85\u3048\u305f\u30c7\u30fc\u30bf\u304c\u6e21\u3055\u308c\u305f\u5834\u5408\u3001\u5c55\u958b\u53ef\u80fd\u306a\u5206\u6bce\u306b `xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9` \u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\n    $ time seq  100000  | xargs  ./echo.sh  T\n    pid[29078] numArgs[23695] args[T 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 ...]\n    pid[29087] numArgs[21844] args[T 23695 23696 23697 23698 23699 23700 23701 23702 ...]\n    pid[29096] numArgs[21844] args[T 45538 45539 45540 45541 45542 45543 45544 45545 ...]\n    pid[29103] numArgs[21844] args[T 67381 67382 67383 67384 67385 67386 67387 67388 ...]\n    pid[29112] numArgs[10778] args[T 89224 89225 89226 89227 89228 89229 89230 89231 ...]\n    \n    real    0m12.134s\n    user    0m5.704s\n    sys     0m0.052s\n\n\u9650\u754c\u306f\u3001 `xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9` \u306b\u6e21\u3055\u308c\u308b\u5f15\u6570\u306e\u6570\u3084\u3001\u5c55\u958b\u5f8c\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5168\u4f53\u306e\u9577\u3055\u7b49\u3001\u8907\u6570\u6761\u4ef6\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u305d\u308c\u3089\u306f `-show-limts` \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u8abf\u3079\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n    $ xargs --show-limits\n    Your environment variables take up 2560 bytes\n    POSIX upper limit on argument length (this system): 2616832\n    POSIX smallest allowable upper limit on argument length (all systems): 4096\n    Maximum length of command we could actually use: 2614272\n    Size of command buffer we are actually using: 131072\n    \n    Execution of xargs will continue now, and it will try to read its input and run commands; if this is not what you wanted to happen, please type the end-of-file keystroke.\n    Warning: /bin/echo will be run at least once.  If you do not want that to happen, then press the interrupt keystroke.\n\n\u307e\u305f\u3001\u4eca\u56de\u306f\u30c7\u30fc\u30bf\u306e\u6570\u304c\u591a\u304b\u3063\u305f\u3081\u3001\u5b9f\u884c\u6642\u9593\u304c12\u79d2\u3068\u3001\u7406\u8ad6\u5024\u3067\u3042\u308b5\u79d2\u3088\u308a\u3082\u591a\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u307e\u3059\u3002\n\n## -P \u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\u6642\u306e\u5b9f\u884c\u6642\u9593<a id=\"orgheadline11\"></a>\n\n\u4eca\u56de\u306e\u4f8b\u3067\u306f `-P` \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u7406\u8ad6\u5024\u306b\u8fd1\u3044\u4e26\u5217\u52b9\u679c\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u3057\u304b\u3057\u3001\u5b9f\u884c\u4e2d\u306b CPU \u3092\u30d5\u30eb\u306b\u4f7f\u3044\u7d9a\u3051\u308b\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3092 `xargs\u5f15\u6570\u30b3\u30de\u30f3\u30c9` \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u3001\u5229\u7528\u74b0\u5883\u306eCPU\u6570(\u30b3\u30a2\u6570)\u306b\u4f9d\u5b58\u3057\u305f\u4e26\u5217\u52b9\u679c\u306b\u306a\u308a\u307e\u3059\u3002\n"}