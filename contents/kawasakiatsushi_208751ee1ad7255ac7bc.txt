{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306e\u5927\u304d\u3044\u753b\u50cf\u306a\u3069\u3092\u30af\u30e9\u30a6\u30c9\u306b\u914d\u7f6e\u3059\u308b\u3053\u3068\u3067\u30a6\u30a7\u30d6\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6e1b\u3089\u3057\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ea\u30bd\u30fc\u30b9\u306e\u7bc0\u7d04\u3068\u6d77\u5916\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3082\u3042\u308b\u305f\u3081\u3001CloudFront\u3067\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u304b\u3089\u3082\u3063\u3068\u30a8\u30c3\u30b8\u30b5\u30fc\u30d0\u30fc\u3078\u8a98\u5c0e\u3055\u305b\u308b\u8a2d\u5b9a\u3092\u884c\u3046\n\nS3\u306e\u30d0\u30b1\u30c3\u30c8\u4f5c\u6210\nCloudFront\u306eDistributions\u4f5c\u6210\nIAM\u306e\u4f5c\u6210\nGem\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a (asset_sync/asset_host)\n\u30c7\u30d7\u30ed\u30a4\n\n\n\u624b\u9806\n\nS3\u30d0\u30b1\u30c3\u30c8\u4f5c\u6210\n\n\u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210\n\n\u30db\u30b9\u30c6\u30a3\u30f3\u30b0\u306e\u6709\u52b9\u5316 (\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f\u5f8c\u307b\u3069\u3001CloudFront\u306e\u30aa\u30ea\u30b8\u30f3\u30b5\u30fc\u30d0\u30fc\u306b\u5229\u7528)\n\n\n\nCloudFront\u306eDistributions\u4f5c\u6210\n\n\n\nDistribution\u306e\u8a2d\u5b9a\n\n\n\n\n\n\n\nOrigin Domain Name\n\u30aa\u30ea\u30b8\u30f3\u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a(\u4eca\u56de\u306fS3\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8)\n\n\nOrigin Path\n    CloudFront\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30aa\u30ea\u30b8\u30f3\u30b5\u30fc\u30d0\u306e\u7279\u5b9a\u306e\u30d1\u30b9\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3057\u305f\u3044\u5834\u5408\u306f\u8a2d\u5b9a\n\n\nOrigin ID\n\u306a\u3093\u3067\u3082OK\n\n\nRestrict Bucket Access\n\u4eca\u56de\u306fNo\u3067\u8a2d\u5b9a\n\n\n\u305d\u306e\u4ed6\u3001\u8af8\u3005\u306f\u4e0b\u8a18\u3092\u53c2\u7167\nhttp://aws.amazon.com/jp/cloudfront/details/\n\n\nIAM\u306e\u4f5c\u6210\nRailsApp\u304b\u3089\u30d0\u30b1\u30c3\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3092\u6e21\u3057\u307e\u3059\u3002\n\n\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\n\n\n\n\n\n\ns3\u3078\u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\n\n\n\n\nGem\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a (asset_sync/asset_host)\n\nassets\u3068s3\u306e\u9023\u643a\u306basset_sync\u3092\u5229\u7528\n\n    gem 'asset_sync'\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\n\naws_access_key_id\u3068aws_secret_access_key\u306b\u4f5c\u6210\u3057\u305fIAM\u306eID\u3068\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\u3092\u8a2d\u5b9a\nfog_directory\u306b\u4f5c\u6210\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u540d\u3092\u6307\u5b9a\n\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u4efb\u610f\u3067\u8a2d\u5b9a\u3057\u305f\u5834\u5408\u306ffog_region\u3092\u8a2d\u5b9a\n\n\n\n\nconfig/asset_sync.yml\ndefaults: &defaults\n  fog_provider: 'AWS'\n  aws_access_key_id: 'hogehoge'\n  aws_secret_access_key: 'hogehoge'\n  # To use AWS reduced redundancy storage.\n  # aws_reduced_redundancy: true\n  fog_directory: \"develop-hogehoge\" # \u30d0\u30b1\u30c3\u30c8\u540d\u3092\u6307\u5b9a\n  # You may need to specify what region your storage bucket is in\n  # fog_region: \"eu-west-1\"\n  existing_remote_files: keep\n  # To delete existing remote files.\n  # existing_remote_files: delete\n  # Automatically replace files with their equivalent gzip compressed version\n  # gzip_compression: true\n  # Fail silently.  Useful for environments such as Heroku\n  # fail_silently: true\n\ndevelopment:\n  <<: *defaults\n  enabled: false\n\ntest:\n  <<: *defaults\n  enabled: false\n\nstaging:\n  <<: *defaults\n  fog_directory: \"staging-hogehoge\"\n\nproduction:\n  <<: *defaults\n  fog_directory: \"production-hogehoge\"\n\n\n\n\nasset_host\u306e\u8a2d\u5b9a\n\n\u4f5c\u6210\u3057\u305f\u3001Distribution\u306e\u30c9\u30e1\u30a4\u30f3Name\u3092asset_host\u306b\u8a2d\u5b9a\n\nconfig/environments/production.rb\nRails.application.configure do\n  config.action_controller.asset_host = '//hogehoge.cloudfront.net'\nend\n\n\n\n\u30c7\u30d7\u30ed\u30a4\n\u30c7\u30d7\u30ed\u30a4\u6642\u306e\u8a2d\u5b9a\u306f\u7279\u306b\u306a\u3057\u3001rake assets:precomiple\u6642\u306bs3\u3078\u30b3\u30d4\u30fc\u3055\u308c\u307e\u3059\u3002\n\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u3082cloudfront\u304c\u547c\u3070\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\n\n\n\u7c21\u5358\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u306d\uff01\n\n\u53c2\u8003\nCloudFront\u3068\u306e\u9023\u643a \nhttp://tiro105.hateblo.jp/entry/2015/06/21/200542\nheroku+CloudFront\u3067\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u4fe1\u3059\u308b\uff08Web\u30d5\u30a9\u30f3\u30c8\u5bfe\u5fdc\uff09\nhttp://qiita.com/Oakbow/items/9ceb93d47d918aeafe3a\nAWS S3 + Cloudfront\u3067web\u30b5\u30a4\u30c8\u3092\u516c\u958b\u3059\u308b\u624b\u9806\nhttp://blog.ybbo.net/2014/05/14/aws-s3-cloudfront%E3%81%A7web%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B%E6%89%8B%E9%A0%86/\nRails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u516c\u958b\u3059\u308b\u306a\u3089Assets on Cloud\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u304a\u3046\nhttp://d.hatena.ne.jp/lettas0726/20130320/1363773153\n\n##\u306f\u3058\u3081\u306b\n\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306e\u5927\u304d\u3044\u753b\u50cf\u306a\u3069\u3092\u30af\u30e9\u30a6\u30c9\u306b\u914d\u7f6e\u3059\u308b\u3053\u3068\u3067\u30a6\u30a7\u30d6\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6e1b\u3089\u3057\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ea\u30bd\u30fc\u30b9\u306e\u7bc0\u7d04\u3068\u6d77\u5916\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3082\u3042\u308b\u305f\u3081\u3001CloudFront\u3067\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u304b\u3089\u3082\u3063\u3068\u30a8\u30c3\u30b8\u30b5\u30fc\u30d0\u30fc\u3078\u8a98\u5c0e\u3055\u305b\u308b\u8a2d\u5b9a\u3092\u884c\u3046\n\n* S3\u306e\u30d0\u30b1\u30c3\u30c8\u4f5c\u6210\n* CloudFront\u306eDistributions\u4f5c\u6210\n* IAM\u306e\u4f5c\u6210\n* Gem\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a (asset_sync/asset_host)\n* \u30c7\u30d7\u30ed\u30a4\n\n\n## \u624b\u9806\n\n### S3\u30d0\u30b1\u30c3\u30c8\u4f5c\u6210\n\n* \u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210\n![S3_Management_Console.png](https://qiita-image-store.s3.amazonaws.com/0/70031/a19d62d7-d665-a244-5bd4-838771accd1a.png \"S3_Management_Console.png\")\n\n\n* \u30db\u30b9\u30c6\u30a3\u30f3\u30b0\u306e\u6709\u52b9\u5316 (\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f\u5f8c\u307b\u3069\u3001CloudFront\u306e\u30aa\u30ea\u30b8\u30f3\u30b5\u30fc\u30d0\u30fc\u306b\u5229\u7528)\n![S3_Management_Console.png](https://qiita-image-store.s3.amazonaws.com/0/70031/f3064544-11d5-b136-6839-9aff3a5dcdc9.png \"S3_Management_Console.png\")\n\n\n### CloudFront\u306eDistributions\u4f5c\u6210\n![AWS_CloudFront_Management_Console.png](https://qiita-image-store.s3.amazonaws.com/0/70031/3660661d-daec-c9c9-660e-20fc9a1f5427.png \"AWS_CloudFront_Management_Console.png\")\n\n\n![AWS_CloudFront_Management_Console.png](https://qiita-image-store.s3.amazonaws.com/0/70031/bec7769e-61dd-f19d-ca01-d19f3d4e4372.png \"AWS_CloudFront_Management_Console.png\")\n\n* Distribution\u306e\u8a2d\u5b9a\n\n<table>\n<tr><th></th><th></th></tr>\n<tr><td>Origin Domain Name</td><td>\u30aa\u30ea\u30b8\u30f3\u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a(\u4eca\u56de\u306fS3\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8)</td></tr>\n\n<tr><td>Origin Path</td><td> \tCloudFront\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30aa\u30ea\u30b8\u30f3\u30b5\u30fc\u30d0\u306e\u7279\u5b9a\u306e\u30d1\u30b9\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3057\u305f\u3044\u5834\u5408\u306f\u8a2d\u5b9a</td></tr>\n<tr><td>Origin ID</td><td>\u306a\u3093\u3067\u3082OK</td></tr>\n<tr><td>Restrict Bucket Access</td><td>\u4eca\u56de\u306fNo\u3067\u8a2d\u5b9a</td></tr>\n</table>\n\u305d\u306e\u4ed6\u3001\u8af8\u3005\u306f\u4e0b\u8a18\u3092\u53c2\u7167\nhttp://aws.amazon.com/jp/cloudfront/details/\n\n![AWS_CloudFront_Management_Console.png](https://qiita-image-store.s3.amazonaws.com/0/70031/9fbf3998-caaf-b056-776c-caa4e0cc000e.png \"AWS_CloudFront_Management_Console.png\")\n\n### IAM\u306e\u4f5c\u6210\nRailsApp\u304b\u3089\u30d0\u30b1\u30c3\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3092\u6e21\u3057\u307e\u3059\u3002\n\n* \u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\n![IAM_Management_Console.png](https://qiita-image-store.s3.amazonaws.com/0/70031/bbf05802-4ef9-f16e-902d-f1dc274ec902.png \"IAM_Management_Console.png\")\n\n![IAM_Management_Console.png](https://qiita-image-store.s3.amazonaws.com/0/70031/c273b5ef-56af-d1b1-4e75-7a6cab12f90b.png \"IAM_Management_Console.png\")\n\n![IAM_Management_Console.png](https://qiita-image-store.s3.amazonaws.com/0/70031/004f5ff5-4b72-01ce-e143-3ae3f997f3e9.png \"IAM_Management_Console.png\")\n\n\n* s3\u3078\u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\n\n![IAM_Management_Console.png](https://qiita-image-store.s3.amazonaws.com/0/70031/0f42bcb0-9a2d-bc69-3aec-67dbe4be63f1.png \"IAM_Management_Console.png\")\n\n\n![IAM_Management_Console.png](https://qiita-image-store.s3.amazonaws.com/0/70031/7056a3e3-02a9-f0fc-5e69-f2661fb6fefb.png \"IAM_Management_Console.png\")\n\n\n### Gem\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a (asset_sync/asset_host)\n\n* assets\u3068s3\u306e\u9023\u643a\u306basset_sync\u3092\u5229\u7528\n\n```\n    gem 'asset_sync'\n```\n\n\n* \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n  * aws_access_key_id\u3068aws_secret_access_key\u306b\u4f5c\u6210\u3057\u305fIAM\u306eID\u3068\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\u3092\u8a2d\u5b9a\n  * fog_directory\u306b\u4f5c\u6210\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u540d\u3092\u6307\u5b9a\n  * \u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u4efb\u610f\u3067\u8a2d\u5b9a\u3057\u305f\u5834\u5408\u306ffog_region\u3092\u8a2d\u5b9a\n\n\n```config/asset_sync.yml\ndefaults: &defaults\n  fog_provider: 'AWS'\n  aws_access_key_id: 'hogehoge'\n  aws_secret_access_key: 'hogehoge'\n  # To use AWS reduced redundancy storage.\n  # aws_reduced_redundancy: true\n  fog_directory: \"develop-hogehoge\" # \u30d0\u30b1\u30c3\u30c8\u540d\u3092\u6307\u5b9a\n  # You may need to specify what region your storage bucket is in\n  # fog_region: \"eu-west-1\"\n  existing_remote_files: keep\n  # To delete existing remote files.\n  # existing_remote_files: delete\n  # Automatically replace files with their equivalent gzip compressed version\n  # gzip_compression: true\n  # Fail silently.  Useful for environments such as Heroku\n  # fail_silently: true\n\ndevelopment:\n  <<: *defaults\n  enabled: false\n\ntest:\n  <<: *defaults\n  enabled: false\n\nstaging:\n  <<: *defaults\n  fog_directory: \"staging-hogehoge\"\n\nproduction:\n  <<: *defaults\n  fog_directory: \"production-hogehoge\"\n\n```\n\n* asset_host\u306e\u8a2d\u5b9a\n\n\u4f5c\u6210\u3057\u305f\u3001Distribution\u306e\u30c9\u30e1\u30a4\u30f3Name\u3092asset_host\u306b\u8a2d\u5b9a\n\n```config/environments/production.rb\nRails.application.configure do\n  config.action_controller.asset_host = '//hogehoge.cloudfront.net'\nend\n```\n\n### \u30c7\u30d7\u30ed\u30a4\n\u30c7\u30d7\u30ed\u30a4\u6642\u306e\u8a2d\u5b9a\u306f\u7279\u306b\u306a\u3057\u3001rake assets:precomiple\u6642\u306bs3\u3078\u30b3\u30d4\u30fc\u3055\u308c\u307e\u3059\u3002\n\n![S3_Management_Console.png](https://qiita-image-store.s3.amazonaws.com/0/70031/cdbd1995-08f5-7600-e1ce-6e3a73c0e974.png \"S3_Management_Console.png\")\n\n* \u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u3082cloudfront\u304c\u547c\u3070\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n![XVOLVE___main.png](https://qiita-image-store.s3.amazonaws.com/0/70031/01f00083-7613-e42c-373a-fc75ec23adc9.png \"XVOLVE___main.png\")\n\n\n\u7c21\u5358\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u306d\uff01\n\n\n## \u53c2\u8003\n\nCloudFront\u3068\u306e\u9023\u643a \nhttp://tiro105.hateblo.jp/entry/2015/06/21/200542\n\nheroku+CloudFront\u3067\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u4fe1\u3059\u308b\uff08Web\u30d5\u30a9\u30f3\u30c8\u5bfe\u5fdc\uff09\nhttp://qiita.com/Oakbow/items/9ceb93d47d918aeafe3a\n\n\nAWS S3 + Cloudfront\u3067web\u30b5\u30a4\u30c8\u3092\u516c\u958b\u3059\u308b\u624b\u9806\nhttp://blog.ybbo.net/2014/05/14/aws-s3-cloudfront%E3%81%A7web%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B%E6%89%8B%E9%A0%86/\n\nRails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u516c\u958b\u3059\u308b\u306a\u3089Assets on Cloud\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u304a\u3046\nhttp://d.hatena.ne.jp/lettas0726/20130320/1363773153\n\n", "tags": ["CloudFront", "RubyonRails4.0", "S3"]}