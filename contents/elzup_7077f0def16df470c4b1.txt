{"context": " More than 1 year has passed since last update.\u8133\u3092\u505c\u6b62\u3057\u3066\u3082\u51fa\u6765\u308b\u65b9\u6cd5\n\u4f7f\u3046\u3082\u306e\n+ PHP\n+ Goutte\n+ composer\n\u307e\u305a\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\nkeys.php\n<?php\n// TODO: write this\ndefine('TDU_USER_ID', '*******');\ndefine('TDU_USER_PW', '************');\n\n\nkeys.php \u306b\u4fdd\u5b58\n\u3082\u3061\u308d\u3093\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u7d76\u5bfe\u306b\u516c\u958b\u3057\u3066\u306f\u3044\u3051\u306a\u3044\ncomposer.json\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n\ncomposer.json\n    \"require\": {\n        \"fabpot/goutte\": \"~2.0\"\n    }\n\n\ncomposer install\n\n\u5b9f\u884c\u30b9\u30af\u30ea\u30d7\u30c8\n\nmarco.php\n\nrequire_once('./vendor/autoload.php');\nrequire_once('./keys.php');\nuse Goutte\\Client;\n\n$client = new Client();\n$url = 'https://portal.sa.dendai.ac.jp/up/faces/login/Com00504A.jsp';\n\n$crawler = $client->request('GET', $url);\nif ($logout_btn = $crawler->selectButton('form1:logout')) {\n    // \u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u30da\u30fc\u30b8\u306e\u5834\u5408\n    $crawler = $client->submit($logout_btn->form(), array());\n}\n\n// submit\u3059\u308bform\n$form = $crawler->selectButton('form1:login')->form();\n// POST\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\n$params = array(\n    'form1:htmlUserId' => TDU_USER_ID,\n    'form1:htmlPassword' => TDU_USER_PW\n);\n$crawler = $client->submit($form, $params);\n$username = $crawler->filter('span')->text();\necho $username . \"\\n\";\n\n\n\u51fa\u529b\n\u25ef\u25ef\u3000\u25ef\u25ef\u00a0\u3055\u3093\u00a0\uff1a\u00a0\u524d\u56de\u30ed\u30b0\u30a4\u30f3\u00a02015/01/17 00:47\n\n\n\u8133\u3092\u505c\u6b62\u3057\u3066\u3082\u51fa\u6765\u308b\u65b9\u6cd5\n\n\u4f7f\u3046\u3082\u306e\n+ PHP\n+ Goutte\n+ composer\n\n\u307e\u305a\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n```php:keys.php\n<?php\n// TODO: write this\ndefine('TDU_USER_ID', '*******');\ndefine('TDU_USER_PW', '************');\n```\nkeys.php \u306b\u4fdd\u5b58\n\u3082\u3061\u308d\u3093\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u7d76\u5bfe\u306b\u516c\u958b\u3057\u3066\u306f\u3044\u3051\u306a\u3044\n\ncomposer.json\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n\n```json:composer.json\n    \"require\": {\n        \"fabpot/goutte\": \"~2.0\"\n    }\n```\n\n```shell-session\ncomposer install\n```\n\n\u5b9f\u884c\u30b9\u30af\u30ea\u30d7\u30c8\n\n```php:marco.php<?php\n\nrequire_once('./vendor/autoload.php');\nrequire_once('./keys.php');\nuse Goutte\\Client;\n\n$client = new Client();\n$url = 'https://portal.sa.dendai.ac.jp/up/faces/login/Com00504A.jsp';\n\n$crawler = $client->request('GET', $url);\nif ($logout_btn = $crawler->selectButton('form1:logout')) {\n    // \u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u30da\u30fc\u30b8\u306e\u5834\u5408\n    $crawler = $client->submit($logout_btn->form(), array());\n}\n\n// submit\u3059\u308bform\n$form = $crawler->selectButton('form1:login')->form();\n// POST\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\n$params = array(\n    'form1:htmlUserId' => TDU_USER_ID,\n    'form1:htmlPassword' => TDU_USER_PW\n);\n$crawler = $client->submit($form, $params);\n$username = $crawler->filter('span')->text();\necho $username . \"\\n\";\n```\n\n\u51fa\u529b\n\n```shell-session\n\u25ef\u25ef\u3000\u25ef\u25ef\u00a0\u3055\u3093\u00a0\uff1a\u00a0\u524d\u56de\u30ed\u30b0\u30a4\u30f3\u00a02015/01/17 00:47\n\n```\n", "tags": ["PHP", "scraping"]}