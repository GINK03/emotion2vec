{"context": "\n\n\u306f\u3058\u3081\u306b\n\u3053\u306e\u8a18\u4e8b\u306fleJOS\u306e\u958b\u767a\u74b0\u5883\u304c\u6574\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u524d\u63d0\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u8a73\u3057\u304f\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\u3010leJOS\u3011mindstorm-EV3\u3092Java\u3067\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3057\u3088\u3046\u3010\u74b0\u5883\u69cb\u7bc9\u524d\u7de8\u3011\n\n\u3010leJOS\u3011mindstorm-EV3\u3092Java\u3067\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3057\u3088\u3046\u3010\u74b0\u5883\u69cb\u7bc9\u5f8c\u7de8\u3011\n\n\n\u6982\u8981\n\u30e2\u30fc\u30bf\u30fc\u304c\u56de\u8ee2\u958b\u59cb\u3057\u305f\u6642\u3084\u3001\u505c\u6b62\u3057\u305f\u6642\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u3092\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u8aac\u660e\u3057\u307e\u3059\u3002\naddEventListener\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n\u30e2\u30fc\u30bf\u30fc\u306e\u56de\u8ee2\u958b\u59cb\u3001\u505c\u6b62\u30a4\u30d9\u30f3\u30c8\n\nEv3Motor.java\nimport lejos.hardware.Button;\nimport lejos.hardware.motor.EV3LargeRegulatedMotor;\nimport lejos.hardware.port.MotorPort;\nimport lejos.robotics.RegulatedMotor;\nimport lejos.robotics.RegulatedMotorListener;\n\npublic class Ev3Motor {\n\n    private static RegulatedMotor m;\n\n    public static void main(String[] args) {\n        m = new EV3LargeRegulatedMotor(MotorPort.A);\n        m.addListener(new RotateStateEvent());\n        m.rotate(360);\n        Button.waitForAnyPress();\n    }\n}\n\nclass RotateStateEvent implements RegulatedMotorListener{\n    @Override\n    public void rotationStarted(RegulatedMotor motor, int tachoCount, boolean stalled, long timeStamp) {\n        System.out.println(\"ROTATE\");       \n    }\n\n    @Override\n    public void rotationStopped(RegulatedMotor motor, int tachoCount, boolean stalled, long timeStamp) {\n        System.out.println(\"STOP\");\n    }\n\n}\n\n\n\n\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306fRegulatedMotorListener\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u3057\u305fRotateStateEvent\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092addEventListener\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u306b\u4e0e\u3048\u3066\u3044\u307e\u3059\u3002\nRegulatedMotorListener\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u306f\u30e2\u30fc\u30bf\u30fc\u304c\u56de\u8ee2\u958b\u59cb\u3057\u305f\u6642\u306b\u767a\u706b\u3059\u308brotationStarted\u30e1\u30bd\u30c3\u30c9\u3068\u3001\u30e2\u30fc\u30bf\u30fc\u304c\u56de\u8ee2\u505c\u6b62\u3057\u305f\u6642\u306b\u767a\u706b\u3059\u308brotationStopped\u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u305d\u308c\u305e\u308c\u306e\u30e1\u30bd\u30c3\u30c9\u5185\u306b\u5b9f\u73fe\u3057\u305f\u3044\u51e6\u7406\u3092\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\u3002\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306fLCD\u306b\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u706b\u3059\u308b\u3068\"ROTATE\"\u3082\u3057\u304f\u306f\"STOP\"\u3092\u51fa\u529b\u3059\u308b\u3088\u3046\u306b\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n\u30dc\u30bf\u30f3\u62bc\u4e0b\u30a4\u30d9\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\n\u540c\u3058\u8981\u9818\u3067EV3\u672c\u4f53\u306e\u30dc\u30bf\u30f3\u306e\u62bc\u4e0b\u30a4\u30d9\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4f8b\u3048\u3070EV3\u672c\u4f53\u306e\u4e2d\u5fc3\u30dc\u30bf\u30f3\u306e\u62bc\u4e0b\u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332\u3059\u308b\u306b\u306faddKeyListener\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\nButton.ENTER.addKeyListener(new ButtonEvent(m));\n\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u3001\u5f15\u6570\u306blejos.hardware.KeyListener\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u3057\u305fButtonEvent\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002ButtonEvent\u30af\u30e9\u30b9\u5185\u306b\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u767a\u706b\u3059\u308bkeyPressed\u30e1\u30bd\u30c3\u30c9\u3068\u3001\u30dc\u30bf\u30f3\u304c\u96e2\u3055\u308c\u305f\u6642\u306b\u767a\u706b\u3059\u308bkeyReleased\u30a4\u30d9\u30f3\u30c8\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\u30dc\u30bf\u30f3\u306e\u62bc\u4e0b\u72b6\u614b\u306b\u3088\u3063\u3066\u30e2\u30fc\u30bf\u30fc\u306e\u56de\u8ee2\u65b9\u5411\u3092\u5207\u308a\u66ff\u3048\u308b\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002\n\n\nEv3Motor.java\nimport lejos.hardware.Button;\nimport lejos.hardware.Key;\nimport lejos.hardware.motor.EV3LargeRegulatedMotor;\nimport lejos.hardware.port.MotorPort;\nimport lejos.robotics.RegulatedMotor;\nimport lejos.robotics.RegulatedMotorListener;\nimport lejos.hardware.KeyListener;\n\npublic class Ev3Motor {\n\n    private static RegulatedMotor m;\n\n    public static void main(String[] args) {\n        m = new EV3LargeRegulatedMotor(MotorPort.A);\n        m.addListener(new RotateStateEvent()); //\u30e2\u30fc\u30bf\u30fc\u56de\u8ee2\u72b6\u614b\u30a4\u30d9\u30f3\u30c8\u306e\u767b\u9332\n        Button.UP.addKeyListener(new ButtonEvent(m)); //\u30dc\u30bf\u30f3\u62bc\u4e0b\u72b6\u614b\u30a4\u30d9\u30f3\u30c8\u306e\u767b\u9332\n        Button.DOWN.addKeyListener(new ButtonEvent(m));\n        Button.ESCAPE.addKeyListener(new ButtonEvent(m));\n        while(true){}\n    }\n}\n\nclass RotateStateEvent implements RegulatedMotorListener{ //\u30e2\u30fc\u30bf\u30fc\u56de\u8ee2\u72b6\u614b\u5909\u5316\u30a4\u30d9\u30f3\u30c8\n    @Override\n    public void rotationStarted(RegulatedMotor motor, int tachoCount, boolean stalled, long timeStamp) { //\u56de\u8ee2\u958b\u59cb\u6642\u306e\u30a4\u30d9\u30f3\u30c8\n        System.out.println(\"ROTATE\");       \n    }\n\n    @Override\n    public void rotationStopped(RegulatedMotor motor, int tachoCount, boolean stalled, long timeStamp) { //\u56de\u8ee2\u505c\u6b62\u6642\u306e\u30a4\u30d9\u30f3\u30c8\n        System.out.println(\"STOP\");\n    }\n\n}\n\nclass ButtonEvent implements KeyListener{ //\u30dc\u30bf\u30f3\u62bc\u4e0b\u72b6\u614b\u30a4\u30d9\u30f3\u30c8\n    private RegulatedMotor _Motor;\n\n    public ButtonEvent(RegulatedMotor Motor) {\n        _Motor = Motor;\n    }\n\n    @Override\n    public void keyPressed(Key k) { //\u30e2\u30fc\u30bf\u30fc\u3092\u62bc\u3057\u305f\u6642\u306e\u30a4\u30d9\u30f3\u30c8\n        switch (k.getId()){\n        case Button.ID_UP:\n             System.out.println(\"UP\");\n             _Motor.forward();\n             break;\n        case Button.ID_DOWN:\n             System.out.println(\"DOWN\");\n             _Motor.backward();\n             break;\n        }\n    }\n\n    @Override\n    public void keyReleased(Key k) { //\u30dc\u30bf\u30f3\u3092\u96e2\u3057\u305f\u6642\u306e\u30a4\u30d9\u30f3\u30c8\n        switch (k.getId()){\n        case Button.ID_UP:\n             _Motor.stop();\n             break;\n        case Button.ID_DOWN:\n             _Motor.stop();\n             break;\n        case Button.ID_ESCAPE:\n            System.out.println(\"ESCAPE\");\n            _Motor.stop();\n            System.exit(0);\n            break;\n        }\n    }\n\n}\n\n\n\n\u53c2\u8003\n\u3010leJOS\u3011Java\u3067EV3\u306e\u30e2\u30fc\u30bf\u30fc\u3092\u5236\u5fa1\u3057\u3088\u3046\n## \u306f\u3058\u3081\u306b\n\u3053\u306e\u8a18\u4e8b\u306fleJOS\u306e\u958b\u767a\u74b0\u5883\u304c\u6574\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u524d\u63d0\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u8a73\u3057\u304f\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n>\n[\u3010leJOS\u3011mindstorm-EV3\u3092Java\u3067\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3057\u3088\u3046\u3010\u74b0\u5883\u69cb\u7bc9\u524d\u7de8\u3011\n](http://qiita.com/murotani/items/2790f1ef5afed3a5d13c)\n\n>\n[\u3010leJOS\u3011mindstorm-EV3\u3092Java\u3067\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3057\u3088\u3046\u3010\u74b0\u5883\u69cb\u7bc9\u5f8c\u7de8\u3011](http://qiita.com/murotani/items/0972e6f36676c61e3f57)\n\n## \u6982\u8981\n\u30e2\u30fc\u30bf\u30fc\u304c\u56de\u8ee2\u958b\u59cb\u3057\u305f\u6642\u3084\u3001\u505c\u6b62\u3057\u305f\u6642\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u3092\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u8aac\u660e\u3057\u307e\u3059\u3002\naddEventListener\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n##\u30e2\u30fc\u30bf\u30fc\u306e\u56de\u8ee2\u958b\u59cb\u3001\u505c\u6b62\u30a4\u30d9\u30f3\u30c8\n\n```java:Ev3Motor.java\nimport lejos.hardware.Button;\nimport lejos.hardware.motor.EV3LargeRegulatedMotor;\nimport lejos.hardware.port.MotorPort;\nimport lejos.robotics.RegulatedMotor;\nimport lejos.robotics.RegulatedMotorListener;\n\npublic class Ev3Motor {\n\n\tprivate static RegulatedMotor m;\n\n\tpublic static void main(String[] args) {\n\t\tm = new EV3LargeRegulatedMotor(MotorPort.A);\n\t\tm.addListener(new RotateStateEvent());\n        m.rotate(360);\n\t\tButton.waitForAnyPress();\n\t}\n}\n\nclass RotateStateEvent implements RegulatedMotorListener{\n\t@Override\n\tpublic void rotationStarted(RegulatedMotor motor, int tachoCount, boolean stalled, long timeStamp) {\n\t\tSystem.out.println(\"ROTATE\");\t\t\n\t}\n\n\t@Override\n\tpublic void rotationStopped(RegulatedMotor motor, int tachoCount, boolean stalled, long timeStamp) {\n\t\tSystem.out.println(\"STOP\");\n\t}\n\t\n}\n\n\n```\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306fRegulatedMotorListener\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u3057\u305fRotateStateEvent\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092addEventListener\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u306b\u4e0e\u3048\u3066\u3044\u307e\u3059\u3002\nRegulatedMotorListener\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u306f\u30e2\u30fc\u30bf\u30fc\u304c\u56de\u8ee2\u958b\u59cb\u3057\u305f\u6642\u306b\u767a\u706b\u3059\u308brotationStarted\u30e1\u30bd\u30c3\u30c9\u3068\u3001\u30e2\u30fc\u30bf\u30fc\u304c\u56de\u8ee2\u505c\u6b62\u3057\u305f\u6642\u306b\u767a\u706b\u3059\u308brotationStopped\u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u305d\u308c\u305e\u308c\u306e\u30e1\u30bd\u30c3\u30c9\u5185\u306b\u5b9f\u73fe\u3057\u305f\u3044\u51e6\u7406\u3092\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\u3002\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306fLCD\u306b\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u706b\u3059\u308b\u3068\"ROTATE\"\u3082\u3057\u304f\u306f\"STOP\"\u3092\u51fa\u529b\u3059\u308b\u3088\u3046\u306b\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n\n\n\n## \u30dc\u30bf\u30f3\u62bc\u4e0b\u30a4\u30d9\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\n\u540c\u3058\u8981\u9818\u3067EV3\u672c\u4f53\u306e\u30dc\u30bf\u30f3\u306e\u62bc\u4e0b\u30a4\u30d9\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4f8b\u3048\u3070EV3\u672c\u4f53\u306e\u4e2d\u5fc3\u30dc\u30bf\u30f3\u306e\u62bc\u4e0b\u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332\u3059\u308b\u306b\u306faddKeyListener\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n\n```java\nButton.ENTER.addKeyListener(new ButtonEvent(m));\n```\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u3001\u5f15\u6570\u306blejos.hardware.KeyListener\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u3057\u305fButtonEvent\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002ButtonEvent\u30af\u30e9\u30b9\u5185\u306b\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u767a\u706b\u3059\u308bkeyPressed\u30e1\u30bd\u30c3\u30c9\u3068\u3001\u30dc\u30bf\u30f3\u304c\u96e2\u3055\u308c\u305f\u6642\u306b\u767a\u706b\u3059\u308bkeyReleased\u30a4\u30d9\u30f3\u30c8\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n\u30dc\u30bf\u30f3\u306e\u62bc\u4e0b\u72b6\u614b\u306b\u3088\u3063\u3066\u30e2\u30fc\u30bf\u30fc\u306e\u56de\u8ee2\u65b9\u5411\u3092\u5207\u308a\u66ff\u3048\u308b\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-02-09 20.59.39.png](https://qiita-image-store.s3.amazonaws.com/0/149019/63e81db9-2cd7-1209-1af4-5255e6121702.png)\n\n\n```java:Ev3Motor.java\nimport lejos.hardware.Button;\nimport lejos.hardware.Key;\nimport lejos.hardware.motor.EV3LargeRegulatedMotor;\nimport lejos.hardware.port.MotorPort;\nimport lejos.robotics.RegulatedMotor;\nimport lejos.robotics.RegulatedMotorListener;\nimport lejos.hardware.KeyListener;\n\npublic class Ev3Motor {\n\n\tprivate static RegulatedMotor m;\n\n\tpublic static void main(String[] args) {\n\t\tm = new EV3LargeRegulatedMotor(MotorPort.A);\n\t\tm.addListener(new RotateStateEvent()); //\u30e2\u30fc\u30bf\u30fc\u56de\u8ee2\u72b6\u614b\u30a4\u30d9\u30f3\u30c8\u306e\u767b\u9332\n\t\tButton.UP.addKeyListener(new ButtonEvent(m)); //\u30dc\u30bf\u30f3\u62bc\u4e0b\u72b6\u614b\u30a4\u30d9\u30f3\u30c8\u306e\u767b\u9332\n\t\tButton.DOWN.addKeyListener(new ButtonEvent(m));\n\t\tButton.ESCAPE.addKeyListener(new ButtonEvent(m));\n\t\twhile(true){}\n\t}\n}\n\nclass RotateStateEvent implements RegulatedMotorListener{ //\u30e2\u30fc\u30bf\u30fc\u56de\u8ee2\u72b6\u614b\u5909\u5316\u30a4\u30d9\u30f3\u30c8\n\t@Override\n\tpublic void rotationStarted(RegulatedMotor motor, int tachoCount, boolean stalled, long timeStamp) { //\u56de\u8ee2\u958b\u59cb\u6642\u306e\u30a4\u30d9\u30f3\u30c8\n\t\tSystem.out.println(\"ROTATE\");\t\t\n\t}\n\n\t@Override\n\tpublic void rotationStopped(RegulatedMotor motor, int tachoCount, boolean stalled, long timeStamp) { //\u56de\u8ee2\u505c\u6b62\u6642\u306e\u30a4\u30d9\u30f3\u30c8\n\t\tSystem.out.println(\"STOP\");\n\t}\n\t\n}\n\nclass ButtonEvent implements KeyListener{ //\u30dc\u30bf\u30f3\u62bc\u4e0b\u72b6\u614b\u30a4\u30d9\u30f3\u30c8\n\tprivate RegulatedMotor _Motor;\n\t\n\tpublic ButtonEvent(RegulatedMotor Motor) {\n\t\t_Motor = Motor;\n\t}\n\n\t@Override\n\tpublic void keyPressed(Key k) { //\u30e2\u30fc\u30bf\u30fc\u3092\u62bc\u3057\u305f\u6642\u306e\u30a4\u30d9\u30f3\u30c8\n\t\tswitch (k.getId()){\n\t\tcase Button.ID_UP:\n\t\t\t System.out.println(\"UP\");\n\t\t\t _Motor.forward();\n\t\t\t break;\n\t\tcase Button.ID_DOWN:\n\t\t\t System.out.println(\"DOWN\");\n\t\t\t _Motor.backward();\n\t\t\t break;\n\t\t}\n\t}\n\n\t@Override\n\tpublic void keyReleased(Key k) { //\u30dc\u30bf\u30f3\u3092\u96e2\u3057\u305f\u6642\u306e\u30a4\u30d9\u30f3\u30c8\n\t\tswitch (k.getId()){\n\t\tcase Button.ID_UP:\n\t\t\t _Motor.stop();\n\t\t\t break;\n\t\tcase Button.ID_DOWN:\n\t\t\t _Motor.stop();\n\t\t\t break;\n\t\tcase Button.ID_ESCAPE:\n\t\t\tSystem.out.println(\"ESCAPE\");\n\t\t\t_Motor.stop();\n\t\t\tSystem.exit(0);\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n}\n```\n\n## \u53c2\u8003\n[\u3010leJOS\u3011Java\u3067EV3\u306e\u30e2\u30fc\u30bf\u30fc\u3092\u5236\u5fa1\u3057\u3088\u3046](http://qiita.com/murotani/private/2a98164f9b3819f8ee64)\n", "tags": ["leJOS", "Java", "EV3"]}