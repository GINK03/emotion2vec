{"context": "\n\u52d5\u4f5c\u78ba\u8a8d\nC++ Builder XE4\n\n\n\u95a2\u9023 http://qiita.com/7of9/items/6e88b5c8549fadd3b5f1\nhttp://www.kyoto-su.ac.jp/ccinfo/use_web/mine_contenttype/\n\u306b\u3042\u308bMIME\u306econtenttype\u3092\u30d5\u30a1\u30a4\u30eb\u540d\u304b\u3089\u53d6\u5f97\u3057\u305f\u3044\u3002\n\u4ee5\u4e0b\u306b\u3042\u308bDelphi\u30b3\u30fc\u30c9\u306e\u3046\u3061\u3001Indy\u4f7f\u7528\u306e\u5b9f\u88c5\u304c\u7c21\u5358\u3060\u3002\nhttp://mrxray.on.coocan.jp/Delphi/plSamples/728_File_MimeType.htm\n\n\u5b9f\u88c5\nC++ Builder\u3067\u5b9f\u88c5\u3057\u305f\u3002\n#include <IdGlobalProtocols.hpp>\u3092\u8ffd\u52a0\u3057\u3066GetFileMIMEType()\u3092\u4f7f\u3046\u3002\n\nUnit1.cpp\n//---------------------------------------------------------------------------\n\n#include <vcl.h>\n#pragma hdrstop\n\n#include <IdGlobalProtocols.hpp>\n\n#include \"Unit1.h\"\n//---------------------------------------------------------------------------\n#pragma package(smart_init)\n#pragma resource \"*.dfm\"\nTForm1 *Form1;\n//---------------------------------------------------------------------------\n__fastcall TForm1::TForm1(TComponent* Owner)\n    : TForm(Owner)\n{\n}\n//---------------------------------------------------------------------------\nvoid __fastcall TForm1::Button1Click(TObject *Sender)\n{\n    String filepath = L\"tmp.jpg\";\n    String res;\n\n    TIdMimeTable *mimInst = new TIdMimeTable(/* AutoFill=*/false);\n    res = mimInst->GetFileMIMEType(filepath);\n\n    delete mimInst;\n    mimInst = NULL;\n\n    ShowMessage(res);\n}\n//---------------------------------------------------------------------------\n\n\n\u30af\u30e9\u30b9\u306e\u9759\u7684\u95a2\u6570\u3067\u306f\u306a\u304f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u3066\u305d\u306e\u30e1\u30f3\u30d0\u95a2\u6570\u3092\u4f7f\u3046\u3088\u3046\u3060\u3002\n\u4e0a\u8a18\u306e\u5834\u5408res\u306b\u306f\"image/pjpeg\"\u3068\u306a\u3063\u305f\u3002\n```txt:\u52d5\u4f5c\u78ba\u8a8d\nC++ Builder XE4\n```\n\n\u95a2\u9023 http://qiita.com/7of9/items/6e88b5c8549fadd3b5f1\n\nhttp://www.kyoto-su.ac.jp/ccinfo/use_web/mine_contenttype/\n\u306b\u3042\u308bMIME\u306econtenttype\u3092\u30d5\u30a1\u30a4\u30eb\u540d\u304b\u3089\u53d6\u5f97\u3057\u305f\u3044\u3002\n\n\u4ee5\u4e0b\u306b\u3042\u308bDelphi\u30b3\u30fc\u30c9\u306e\u3046\u3061\u3001Indy\u4f7f\u7528\u306e\u5b9f\u88c5\u304c\u7c21\u5358\u3060\u3002\nhttp://mrxray.on.coocan.jp/Delphi/plSamples/728_File_MimeType.htm\n\n## \u5b9f\u88c5\n\nC++ Builder\u3067\u5b9f\u88c5\u3057\u305f\u3002\n\n`#include <IdGlobalProtocols.hpp>`\u3092\u8ffd\u52a0\u3057\u3066GetFileMIMEType()\u3092\u4f7f\u3046\u3002\n\n\n```Unit1.cpp\n//---------------------------------------------------------------------------\n\n#include <vcl.h>\n#pragma hdrstop\n\n#include <IdGlobalProtocols.hpp>\n\n#include \"Unit1.h\"\n//---------------------------------------------------------------------------\n#pragma package(smart_init)\n#pragma resource \"*.dfm\"\nTForm1 *Form1;\n//---------------------------------------------------------------------------\n__fastcall TForm1::TForm1(TComponent* Owner)\n\t: TForm(Owner)\n{\n}\n//---------------------------------------------------------------------------\nvoid __fastcall TForm1::Button1Click(TObject *Sender)\n{\n\tString filepath = L\"tmp.jpg\";\n\tString res;\n\n\tTIdMimeTable *mimInst = new TIdMimeTable(/* AutoFill=*/false);\n\tres = mimInst->GetFileMIMEType(filepath);\n\n\tdelete mimInst;\n\tmimInst = NULL;\n\n\tShowMessage(res);\n}\n//---------------------------------------------------------------------------\n```\n\n\u30af\u30e9\u30b9\u306e\u9759\u7684\u95a2\u6570\u3067\u306f\u306a\u304f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u3066\u305d\u306e\u30e1\u30f3\u30d0\u95a2\u6570\u3092\u4f7f\u3046\u3088\u3046\u3060\u3002\n\n\u4e0a\u8a18\u306e\u5834\u5408res\u306b\u306f\"image/pjpeg\"\u3068\u306a\u3063\u305f\u3002\n\n\n", "tags": ["cppBuilder", "mime", "indy"]}