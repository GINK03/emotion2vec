{"context": "\nDocker 1.13.0\nFTP\n\n\nhttps://github.com/stilliard/docker-pure-ftpd\n\n\nSFTP\n\n\nhttps://github.com/atmoz/sftp\n\n\n\n\n\u524d\u63d0\n\u958b\u767a\u74b0\u5883\u3068\u3057\u3066FTP\u3084SFTP\u304c\u624b\u5143\u306b\u6b32\u3057\u3044\u3002\u904b\u7528\u3059\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3002\n\nFTP\nhttps://github.com/stilliard/docker-pure-ftpd\npure-ftpd\u3092\u4f7f\u3046\u3089\u3057\u3044\u3002\nREADME\u306b\u66f8\u3044\u3066\u3042\u308b\u901a\u308a\u3002\n\n\u8d77\u52d5\ndocker run -d --name ftpd_server -p 21:21 -p 30000-30009:30000-30009 -e \"PUBLICHOST=localhost\" stilliard/pure-ftpd:hardened\n\n\n\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\n\n\ndocker exec\u3067\u52d5\u3044\u3066\u308b\u30b5\u30fc\u30d0\u30fc\u306b\u5165\u3063\u3066\n\npure-pw\u3067\u30e6\u30fc\u30b6\u30fc\u8ffd\u52a0\n\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u5bfe\u8a71\u30e2\u30fc\u30c9\u3067\u805e\u304b\u308c\u308b\u306e\u3067\u5165\u308c\u308b\n\n\u3053\u3093\u306a\u611f\u3058\u3002\n% docker exec -it ftpd_server /bin/bash\nroot@df9198f8f9be:/# pure-pw useradd bob -f /etc/pure-ftpd/passwd/pureftpd.passwd -m -u ftpuser -d /home/ftpusers/bob\nPassword: \nEnter it again: \nroot@df9198f8f9be:/# \n\nbob\u3067\u63a5\u7d9a\u3059\u308b\u3068FTP\u306e / \u306f\u30b3\u30f3\u30c6\u30ca\u5185\u306e /home/ftpusers/bob \u306b\u306a\u308b\u3002\n\n\u63a5\u7d9a\n\u30d1\u30c3\u30b7\u30d6\u30e2\u30fc\u30c9\u3067\u3002\u30a2\u30af\u30c6\u30a3\u30d6\u30e2\u30fc\u30c9\u3067\u306f\u63a5\u7d9a\u3067\u304d\u306a\u3044\u3002\nftp\u3067\u306a\u3089\u4ee5\u4e0b\u306e\u901a\u308a\u3002\nftp -p localhost\n\n\nSFTP\nhttps://github.com/atmoz/sftp\nREADME\u306b\u66f8\u3044\u3066\u3042\u308b\u901a\u308a\u3002\n\n\u8d77\u52d5\u304a\u3088\u3073\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\ndocker run -p 22:22 -d atmoz/sftp foo:pass:::upload\n\n\u30e6\u30fc\u30b6\u30fc\u304c foo \u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u304c pass \u3067\u4f5c\u6210\u3055\u308c\u308b\u3002\nfoo\u3067\u63a5\u7d9a\u3059\u308b\u3068SFTP\u306e / \u306f\u30b3\u30f3\u30c6\u30ca\u5185\u306e /home/foo \u306b\u306a\u308b\u3002\n\u66f8\u304d\u8fbc\u3081\u308b\u306e\u306f /home/foo/upload \u3060\u3051\u3002\nSSH\u30ad\u30fc\u4f7f\u3046\u306e\u3068\u304b\u306fREADME\u53c2\u7167\u3002\n\n\u63a5\u7d9a\nsftp\u3067\u306a\u3089\u4ee5\u4e0b\u306e\u901a\u308a\u3002\nsftp foo@localhost\n\nssh\u306f\u62d2\u5426\u3055\u308c\u308b\u3002\n% ssh foo@localhost\nfoo@localhost's password: \nCould not chdir to home directory /home/foo: No such file or directory\nThis service allows sftp connections only.\nConnection to localhost closed.\n\n* Docker 1.13.0\n* FTP\n    * https://github.com/stilliard/docker-pure-ftpd\n* SFTP\n    * https://github.com/atmoz/sftp\n\n# \u524d\u63d0\n\n\u958b\u767a\u74b0\u5883\u3068\u3057\u3066FTP\u3084SFTP\u304c\u624b\u5143\u306b\u6b32\u3057\u3044\u3002\u904b\u7528\u3059\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3002\n\n# FTP\n\nhttps://github.com/stilliard/docker-pure-ftpd\n\npure-ftpd\u3092\u4f7f\u3046\u3089\u3057\u3044\u3002\nREADME\u306b\u66f8\u3044\u3066\u3042\u308b\u901a\u308a\u3002\n\n## \u8d77\u52d5\n\n```\ndocker run -d --name ftpd_server -p 21:21 -p 30000-30009:30000-30009 -e \"PUBLICHOST=localhost\" stilliard/pure-ftpd:hardened\n```\n\n## \u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\n\n1. `docker exec`\u3067\u52d5\u3044\u3066\u308b\u30b5\u30fc\u30d0\u30fc\u306b\u5165\u3063\u3066\n2. `pure-pw`\u3067\u30e6\u30fc\u30b6\u30fc\u8ffd\u52a0\n3. \u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u5bfe\u8a71\u30e2\u30fc\u30c9\u3067\u805e\u304b\u308c\u308b\u306e\u3067\u5165\u308c\u308b\n\n\u3053\u3093\u306a\u611f\u3058\u3002\n\n```\n% docker exec -it ftpd_server /bin/bash\nroot@df9198f8f9be:/# pure-pw useradd bob -f /etc/pure-ftpd/passwd/pureftpd.passwd -m -u ftpuser -d /home/ftpusers/bob\nPassword: \nEnter it again: \nroot@df9198f8f9be:/# \n```\n\nbob\u3067\u63a5\u7d9a\u3059\u308b\u3068FTP\u306e `/` \u306f\u30b3\u30f3\u30c6\u30ca\u5185\u306e `/home/ftpusers/bob` \u306b\u306a\u308b\u3002\n\n## \u63a5\u7d9a\n\n\u30d1\u30c3\u30b7\u30d6\u30e2\u30fc\u30c9\u3067\u3002\u30a2\u30af\u30c6\u30a3\u30d6\u30e2\u30fc\u30c9\u3067\u306f\u63a5\u7d9a\u3067\u304d\u306a\u3044\u3002\n`ftp`\u3067\u306a\u3089\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\n```\nftp -p localhost\n```\n\n# SFTP\n\nhttps://github.com/atmoz/sftp\n\nREADME\u306b\u66f8\u3044\u3066\u3042\u308b\u901a\u308a\u3002\n\n## \u8d77\u52d5\u304a\u3088\u3073\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\n\n```\ndocker run -p 22:22 -d atmoz/sftp foo:pass:::upload\n```\n\n\u30e6\u30fc\u30b6\u30fc\u304c `foo` \u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u304c `pass` \u3067\u4f5c\u6210\u3055\u308c\u308b\u3002\nfoo\u3067\u63a5\u7d9a\u3059\u308b\u3068SFTP\u306e `/` \u306f\u30b3\u30f3\u30c6\u30ca\u5185\u306e `/home/foo` \u306b\u306a\u308b\u3002\n\u66f8\u304d\u8fbc\u3081\u308b\u306e\u306f `/home/foo/upload` \u3060\u3051\u3002\n\nSSH\u30ad\u30fc\u4f7f\u3046\u306e\u3068\u304b\u306fREADME\u53c2\u7167\u3002\n\n## \u63a5\u7d9a\n\n`sftp`\u3067\u306a\u3089\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\n```\nsftp foo@localhost\n```\n\nssh\u306f\u62d2\u5426\u3055\u308c\u308b\u3002\n\n```\n% ssh foo@localhost\nfoo@localhost's password: \nCould not chdir to home directory /home/foo: No such file or directory\nThis service allows sftp connections only.\nConnection to localhost closed.\n```\n", "tags": ["docker", "ftp", "sftp"]}