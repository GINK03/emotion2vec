{"context": " More than 1 year has passed since last update.Ruby on Rails Tutorial\u306e\u30a8\u30c3\u30bb\u30f3\u30b9\u3092\u81ea\u5206\u306a\u308a\u306b\u6574\u7406\u3057\u3066\u307f\u308b10\n[Rails4.0] \u30d5\u30a9\u30fc\u30e0\u306e\u57fa\u672c\u3068StrongParameters\u3092\u7406\u89e3\u3059\u308b\nhttp://qiita.com/kidachi_/items/7c1a9b61dd1853d5a7dc\n\u306e\u7d9a\u304d\u3002\nRuby on Rails Tutorial\uff08chapter7\uff09\nhttp://railstutorial.jp/chapters/sign-up?version=4.0#code-after_save_tests\n\n\u6982\u8981\n\u30e6\u30fc\u30b6\u767b\u9332\u7b49\u3001\u3088\u304f\u3042\u308b\u30d5\u30a9\u30fc\u30e0\u5165\u529b\u3092\u5b9f\u88c5\u3057\u305f\u6642\u3001\n\u3044\u3061\u3044\u3061\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u69d8\u3005\u306a\u30d1\u30bf\u30fc\u30f3\u306e\u5024\u3092\u5165\u529b\u3057\u3066\u30c6\u30b9\u30c8\u3059\u308b\u306e\u306f\u5927\u5909\u3002\nCapybara\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u89e3\u6c7a\u3059\u308b\u3002\n\n\u4eca\u56de\u7528\u3044\u308bCapybara\u306e\u30e1\u30bd\u30c3\u30c9\n\u4ee5\u4e0b\u306e2\u3064\u3002\n\nfill_in\nchange\n\n\nfill_in\n\u30d5\u30a9\u30fc\u30e0\u3078\u306e\u5165\u529b\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3059\u308b\u3002\n\u4f8b\u3048\u3070\u3001\nfill_in \"Name\", with: \"Example User\"\n\n\u3053\u308c\u3067\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\"Name\"\u306einput\u5c5e\u6027\u306b\"Example User\"\u306e\u5165\u529b\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3057\u305f\u3053\u3068\u306b\u306a\u308b\u3002\n\u3088\u308a\u5177\u4f53\u7684\u306b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30e6\u30fc\u30b6\u60c5\u5831\u5165\u529b\u30d5\u30a9\u30fc\u30e0\u304c\u3042\u308b\u3068\u3059\u308b\u3002\n\nerb\n    <%= form_for(@user) do |f| %>\n      <%= render 'shared/error_messages' %>\n\n      <%= f.label :name %>\n      <%= f.text_field :name %>\n\n      <%= f.label :email %>\n      <%= f.text_field :email %>\n\n      <%= f.label :password %>\n      <%= f.password_field :password %>\n\n      <%= f.label :password_confirmation, \"Confirmation\" %>\n      <%= f.password_field :password_confirmation %>\n      <%= f.submit \"Create my account\" , class: \"btn btn-large btn-primary\" %>\n\n    <% end %>\n\n\n\u3053\u306e\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3067\u5404\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5bfe\u3059\u308b\u5024\u306e\u5165\u529b\u304c\u5b9f\u73fe\u3067\u304d\u308b\u3002\nvisit signup_path\nfill_in \"Name\",         with: \"Example User\"\nfill_in \"Email\",        with: \"user@example.com\"\nfill_in \"Password\",     with: \"foobar\"\nfill_in \"Confirmation\", with: \"foobar\"\n\n\nchange\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u305d\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u6301\u3064\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a\u3057\u3001\n\u305d\u306e\u5b9f\u884c\u306b\u3088\u3063\u3066\u8d77\u304d\u308b\u5909\u5316\u3092\u89b3\u6e2c\u3059\u308b\u3002\nclick_button\u306e\u5f8c\u3001User.count\u304c1\u3060\u3051\u5909\u5316\u3059\u308b\u4e8b\u3092\u671f\u5f85\u3059\u308b\u4f8b\nexpect do\n  click_button \"Create my account\"\nend.to change(User, :count).by(1)\n\n\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff08User\uff09\u3068\u30b7\u30f3\u30dc\u30eb\uff08:count\uff09\u3092\u5f15\u6570\u306b\u53d6\u308a\u3001\u30b7\u30f3\u30dc\u30eb\u306b\u8a72\u5f53\u3059\u308b\u540d\u524d\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u3002\n\nexpect do~end.to\u306e\u5f8c\u308d\u306b\u3064\u3044\u3066\u3001\u30d6\u30ed\u30c3\u30af\u5185\u304c\u5b9f\u884c\u3055\u308c\u308b\u524d\u5f8c\u3067\u306e\u5909\u5316\u3092\u6bd4\u8f03\u3059\u308b\u3002\n\n\n\u5b9f\u969b\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\n\u4e0a\u8a182\u3064\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u7528\u3044\u3066\u3001\n\n\u30e6\u30fc\u30b6\u767b\u9332\u30da\u30fc\u30b8\uff08signup\uff09\u306b\u8a2a\u308c\n\u30d5\u30a9\u30fc\u30e0\u306b\u4f55\u3089\u304b\u306e\u5024\u3092\u5165\u529b\u3057\uff08\u3082\u3057\u304f\u306f\u5165\u529b\u3057\u306a\u3044\u3067\uff09\u3001\n\"Create my account\"\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\n\n\u3057\u305f\u30b1\u30fc\u30b9\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3059\u308b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\nrequire 'spec_helper'\n\ndescribe \"User pages\" do\n\n  subject { page }\n\n  describe \"signup\" do\n\n    before { visit signup_path }\n\n    let(:submit) { \"Create my account\" }\n\n    # \u4e0d\u6b63\u306a\u5024\u304c\u5165\u529b\u3055\u308c\u305f\uff08\u6b63\u78ba\u306b\u306f\u3001\u4f55\u3082\u5165\u529b\u3055\u308c\u3066\u3044\u306a\u3044\uff09\u30b1\u30fc\u30b9\n    describe \"with invalid information\" do\n      it \"should not create a user\" do\n        #click_button\u306e\u5f8c\u3001User.count\u304c\u5909\u5316\u3057\u306a\u3044\u4e8b\u3092\u671f\u5f85\n        expect { click_button submit }.not_to change(User, :count)\n      end\n    end\n\n    # \u6b63\u3057\u3044\u5024\u304c\u5165\u529b\u3055\u308c\u305f\u30b1\u30fc\u30b9\n    describe \"with valid information\" do\n      before do\n        fill_in \"Name\",         with: \"Example User\"\n        fill_in \"Email\",        with: \"user@example.com\"\n        fill_in \"Password\",     with: \"foobar\"\n        fill_in \"Confirmation\", with: \"foobar\"\n      end\n      it \"should create a user\" do\n        #click_button\u306e\u5f8c\u3001User.count\u304c1\u3060\u3051\u5909\u5316\u3059\u308b\u4e8b\u3092\u671f\u5f85\n        expect { click_button submit }.to change(User, :count).by(1)\n      end\n    end\n  end\nend\n\n\u4fbf\u5229\uff01\n\n\u95a2\u9023\nRSpec\u306e\u57fa\u672c\u7b49\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u3082\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n[Rails] RSpec\u306b\u3088\u308bBDD\uff08\u632f\u821e\u99c6\u52d5\u958b\u767a\uff09\u306e\u57fa\u672c [Spork\u3068Guard\u3082]\nhttp://qiita.com/kidachi_/items/cb8910eb74e924456df9\n[Rails] RSpec\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\nhttp://qiita.com/kidachi_/items/ec184deb106e4e5c90c3\n\n\n\nRuby on Rails Tutorial\u306e\u30a8\u30c3\u30bb\u30f3\u30b9\u3092\u81ea\u5206\u306a\u308a\u306b\u6574\u7406\u3057\u3066\u307f\u308b10\n\n[Rails4.0] \u30d5\u30a9\u30fc\u30e0\u306e\u57fa\u672c\u3068StrongParameters\u3092\u7406\u89e3\u3059\u308b\nhttp://qiita.com/kidachi_/items/7c1a9b61dd1853d5a7dc\n\u306e\u7d9a\u304d\u3002\n\nRuby on Rails Tutorial\uff08chapter7\uff09\nhttp://railstutorial.jp/chapters/sign-up?version=4.0#code-after_save_tests\n\n\n## \u6982\u8981\n\n\u30e6\u30fc\u30b6\u767b\u9332\u7b49\u3001\u3088\u304f\u3042\u308b\u30d5\u30a9\u30fc\u30e0\u5165\u529b\u3092\u5b9f\u88c5\u3057\u305f\u6642\u3001\n\u3044\u3061\u3044\u3061\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u69d8\u3005\u306a\u30d1\u30bf\u30fc\u30f3\u306e\u5024\u3092\u5165\u529b\u3057\u3066\u30c6\u30b9\u30c8\u3059\u308b\u306e\u306f\u5927\u5909\u3002\nCapybara\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u89e3\u6c7a\u3059\u308b\u3002\n\n## \u4eca\u56de\u7528\u3044\u308bCapybara\u306e\u30e1\u30bd\u30c3\u30c9\n\n\u4ee5\u4e0b\u306e2\u3064\u3002\n\n- fill_in\n- change\n\n\n## fill_in\n\n\u30d5\u30a9\u30fc\u30e0\u3078\u306e\u5165\u529b\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3059\u308b\u3002\n\n\u4f8b\u3048\u3070\u3001\n\n```rb\nfill_in \"Name\", with: \"Example User\"\n```\n\n\u3053\u308c\u3067\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\"Name\"\u306einput\u5c5e\u6027\u306b\"Example User\"\u306e\u5165\u529b\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3057\u305f\u3053\u3068\u306b\u306a\u308b\u3002\n\n\u3088\u308a\u5177\u4f53\u7684\u306b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30e6\u30fc\u30b6\u60c5\u5831\u5165\u529b\u30d5\u30a9\u30fc\u30e0\u304c\u3042\u308b\u3068\u3059\u308b\u3002\n\n```rb:erb\n    <%= form_for(@user) do |f| %>\n      <%= render 'shared/error_messages' %>\n\n      <%= f.label :name %>\n      <%= f.text_field :name %>\n\n      <%= f.label :email %>\n      <%= f.text_field :email %>\n\n      <%= f.label :password %>\n      <%= f.password_field :password %>\n\n      <%= f.label :password_confirmation, \"Confirmation\" %>\n      <%= f.password_field :password_confirmation %>\n      <%= f.submit \"Create my account\" , class: \"btn btn-large btn-primary\" %>\n\n    <% end %>\n```\n\n\u3053\u306e\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3067\u5404\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5bfe\u3059\u308b\u5024\u306e\u5165\u529b\u304c\u5b9f\u73fe\u3067\u304d\u308b\u3002\n\n```rb\nvisit signup_path\nfill_in \"Name\",         with: \"Example User\"\nfill_in \"Email\",        with: \"user@example.com\"\nfill_in \"Password\",     with: \"foobar\"\nfill_in \"Confirmation\", with: \"foobar\"\n```\n\n\n\n## change\n\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u305d\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u6301\u3064\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a\u3057\u3001\n\u305d\u306e\u5b9f\u884c\u306b\u3088\u3063\u3066\u8d77\u304d\u308b\u5909\u5316\u3092\u89b3\u6e2c\u3059\u308b\u3002\n\nclick_button\u306e\u5f8c\u3001User.count\u304c1\u3060\u3051\u5909\u5316\u3059\u308b\u4e8b\u3092\u671f\u5f85\u3059\u308b\u4f8b\n\n```rb\nexpect do\n  click_button \"Create my account\"\nend.to change(User, :count).by(1)\n```\n\n- \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff08User\uff09\u3068\u30b7\u30f3\u30dc\u30eb\uff08:count\uff09\u3092\u5f15\u6570\u306b\u53d6\u308a\u3001\u30b7\u30f3\u30dc\u30eb\u306b\u8a72\u5f53\u3059\u308b\u540d\u524d\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u3002\n- `expect do~end.to`\u306e\u5f8c\u308d\u306b\u3064\u3044\u3066\u3001\u30d6\u30ed\u30c3\u30af\u5185\u304c\u5b9f\u884c\u3055\u308c\u308b\u524d\u5f8c\u3067\u306e\u5909\u5316\u3092\u6bd4\u8f03\u3059\u308b\u3002\n\n## \u5b9f\u969b\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\n\n\u4e0a\u8a182\u3064\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u7528\u3044\u3066\u3001\n\n- \u30e6\u30fc\u30b6\u767b\u9332\u30da\u30fc\u30b8\uff08signup\uff09\u306b\u8a2a\u308c\n- \u30d5\u30a9\u30fc\u30e0\u306b\u4f55\u3089\u304b\u306e\u5024\u3092\u5165\u529b\u3057\uff08\u3082\u3057\u304f\u306f\u5165\u529b\u3057\u306a\u3044\u3067\uff09\u3001\n- \"Create my account\"\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\n\n\u3057\u305f\u30b1\u30fc\u30b9\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3059\u308b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\n\n```rb\nrequire 'spec_helper'\n\ndescribe \"User pages\" do\n\n  subject { page }\n\n  describe \"signup\" do\n\n    before { visit signup_path }\n\n    let(:submit) { \"Create my account\" }\n\n    # \u4e0d\u6b63\u306a\u5024\u304c\u5165\u529b\u3055\u308c\u305f\uff08\u6b63\u78ba\u306b\u306f\u3001\u4f55\u3082\u5165\u529b\u3055\u308c\u3066\u3044\u306a\u3044\uff09\u30b1\u30fc\u30b9\n    describe \"with invalid information\" do\n      it \"should not create a user\" do\n        #click_button\u306e\u5f8c\u3001User.count\u304c\u5909\u5316\u3057\u306a\u3044\u4e8b\u3092\u671f\u5f85\n        expect { click_button submit }.not_to change(User, :count)\n      end\n    end\n\n    # \u6b63\u3057\u3044\u5024\u304c\u5165\u529b\u3055\u308c\u305f\u30b1\u30fc\u30b9\n    describe \"with valid information\" do\n      before do\n        fill_in \"Name\",         with: \"Example User\"\n        fill_in \"Email\",        with: \"user@example.com\"\n        fill_in \"Password\",     with: \"foobar\"\n        fill_in \"Confirmation\", with: \"foobar\"\n      end\n      it \"should create a user\" do\n        #click_button\u306e\u5f8c\u3001User.count\u304c1\u3060\u3051\u5909\u5316\u3059\u308b\u4e8b\u3092\u671f\u5f85\n        expect { click_button submit }.to change(User, :count).by(1)\n      end\n    end\n  end\nend\n```\n\n\u4fbf\u5229\uff01\n\n## \u95a2\u9023\nRSpec\u306e\u57fa\u672c\u7b49\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u3082\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\n[Rails] RSpec\u306b\u3088\u308bBDD\uff08\u632f\u821e\u99c6\u52d5\u958b\u767a\uff09\u306e\u57fa\u672c [Spork\u3068Guard\u3082]\nhttp://qiita.com/kidachi_/items/cb8910eb74e924456df9\n\n[Rails] RSpec\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\nhttp://qiita.com/kidachi_/items/ec184deb106e4e5c90c3\n", "tags": ["RSpec", "Rails", "Capybara"]}