{"context": "\n\n\u6700\u4e0a\u4f4d\u968e\u5c64\u306b\u3064\u3044\u3066\nVHDL\u3084Verilog\u30b3\u30fc\u30c9\u3092\u8ad6\u7406\u5408\u6210\u3059\u308b\u969b\u3001\u591a\u304f\u306e\u5834\u5408\u306f\u30b3\u30fc\u30c9\u306b\u968e\u5c64\u304c\u3042\u308a\u307e\u3059\u3002\n\u6700\u4e0a\u4f4d\u968e\u5c64\u306f\uff10\u3068\uff11\u306e\u8ad6\u7406\u7684\u306a\u4e16\u754c\u3068\u30ea\u30a2\u30eb\u306a\u4e16\u754c\u306e\u5883\u754c\u306b\u306a\u308b\u305f\u3081\u3001\u4e0b\u4f4d\u968e\u5c64\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u306f\u3061\u3087\u3063\u3068\u9055\u3063\u305f\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u79c1\u304c\u8003\u3048\u308b\u6700\u4e0a\u4f4d\u968e\u5c64\u3067\u6c17\u3092\u3064\u3051\u308b\u70b9\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30ea\u30a2\u30eb\u4e16\u754c\u3068\u306e\u63a5\u7d9a\n\u975e\u540c\u671f\u5bfe\u7b56\n\u30c7\u30d0\u30a4\u30b9\u4f9d\u5b58\u306e\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306e\u5bfe\u5fdc\n\n\n1.\u30ea\u30a2\u30eb\u4e16\u754c\u3068\u306e\u63a5\u7d9a\n\u56de\u8def\u56f3\u3068\u306e\u5bfe\u5fdc\u3084\u30d4\u30f3\u30a2\u30b5\u30a4\u30f3\u304c\u5206\u304b\u308a\u3084\u3059\u3044\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u4fbf\u5229\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\u30d4\u30f3\u30a2\u30b5\u30a4\u30f3\u3084ILA\u306a\u3069\u306e\u30c7\u30d0\u30c3\u30b0\u6642\u306b\u5c11\u3057\u5206\u304b\u308a\u3084\u3059\u304f\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n2.\u975e\u540c\u671f\u5bfe\u7b56\nFF\u306e\u52d5\u4f5c\u30af\u30ed\u30c3\u30af\u3068\u9055\u3046\u30af\u30ed\u30c3\u30af\u304c\u5165\u529b\u3055\u308c\u308b\u3068\u30e1\u30bf\u30b9\u30c6\u30fc\u30d6\u30eb\u3068\u3044\u3046\u72b6\u614b\u304c\u751f\u3058\u3066\u72d9\u3044\u901a\u308a\u52d5\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u30e1\u30bf\u30b9\u30c6\u30fc\u30d6\u30eb\u304c\u8d77\u304d\u308b\u3068\u4fe1\u53f7\u306e\u53d6\u308a\u3053\u307c\u3057\u3084\u4f59\u5206\u306b\u6570\u30af\u30ed\u30c3\u30af\u591a\u304f\u4fe1\u53f7\u3092\u62fe\u3063\u3066\u3057\u307e\u3046\u306a\u3069\u306e\u73fe\u8c61\u304c\u751f\u3058\u307e\u3059\u3002\n\u524d\u56de\u8a18\u4e8b\u306e\u30b3\u30e1\u30f3\u30c8\u3067\u6559\u3048\u3066\u3044\u305f\u3060\u3044\u305f\u30ea\u30f3\u30af\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\n\u540c\u671f\u306a\u30af\u30ed\u30c3\u30af\u3068\u975e\u540c\u671f\u306a\u30af\u30ed\u30c3\u30af\n\u30c0\u30d6\u30ebFF\u30b7\u30f3\u30af\u30ed\u30ca\u30a4\u30b6\n\u30b3\u30e9\u30e0\uff1a\u975e\u540c\u671f\u30af\u30ed\u30c3\u30af \u3068 \u691c\u8a3c\u624b\u6cd5\uff0d1\n\n\n\n3.\u30c7\u30d0\u30a4\u30b9\u4f9d\u5b58\u306e\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306e\u5bfe\u5fdc\n\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u3068\u306f\u30c7\u30d0\u30a4\u30b9\u306e\u69cb\u6210\u90e8\u54c1\u306e\u3053\u3068\u3068\u601d\u3063\u3066\u3082\u3089\u3063\u3066\u3088\u3044\u3067\u3059\u3002\n\u305f\u3068\u3048\u3070\u3001Xilinx\u3067\u3044\u3046\u3068\u3053\u308d\u306eI/O\u30d0\u30c3\u30d5\u30a1\uff08IOBUF\u3001BUFG\u306a\u3069\uff09\u3084PLL\u306a\u3069\u3001\u30c7\u30d0\u30a4\u30b9\u3084\u30e1\u30fc\u30ab\u30fc\u3054\u3068\u306b\u7279\u6b8a\u306a\u8a18\u8ff0\u304c\u5fc5\u8981\u306a\u3082\u306e\u3067\u3059\u3002\n\u3053\u306e\u8fba\u306e\u8a18\u8ff0\u3092\u6700\u4e0a\u4f4d\u968e\u5c64\u3067\u307e\u3068\u3081\u3066\u304a\u3051\u3070\u3001\u4e0b\u4f4d\u968e\u5c64\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u30c7\u30d0\u30a4\u30b9\u3084\u30e1\u30fc\u30ab\u30fc\u306b\u4f9d\u5b58\u3059\u308b\u3053\u3068\u304c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\u203bLUT\u3084FF\u306a\u3069\u3082\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u3067\u3059\u304c\u8ad6\u7406\u5408\u6210\u3067\u89e3\u91c8\u3055\u308c\u308b\u3088\u3046\u306a\u3082\u306e\u306f\u3053\u306e\u4ef6\u3067\u306f\u4f8b\u5916\u3067\u3059\u3002\n\u3068\u306f\u3044\u3048\u3001\u3042\u304f\u307e\u3067\u7406\u60f3\u3067\u3042\u3063\u3066\u5b9f\u969b\u306b\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u3067\u5272\u308a\u7b97\u5668\u3084\u30e1\u30fc\u30ab\u30fcIP\u306eFIFO\u306a\u3069\u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u697d\u306a\u5834\u9762\u3082\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3044\u3063\u305f\u969b\u3001\u79c1\u306e\u5834\u5408\u306f\u30c7\u30d0\u30a4\u30b9\u3084\u30e1\u30fc\u30ab\u30fc\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3088\u3046\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u540d\u306a\u3069\u3092\u5de5\u592b\u3057\u3066\u6ce8\u610f\u559a\u8d77\u3092\u884c\u3046\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u5b9f\u969b\u306e\u4f8b\n\u524d\u9805\u3092\u8e0f\u307e\u3048\u3066\u5b9f\u969b\u306b\u8a18\u8ff0\u3057\u305f\u30b3\u30fc\u30c9\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u3053\u308c\u3067\u3059\u3002\nhttps://github.com/x7700jp/x7700jp_codes/blob/master/rc_robot/TE0726_TOP.vhd\n\n\u25a0 \u30ea\u30a2\u30eb\u4e16\u754c\u3068\u306e\u63a5\u7d9a\u306b\u3064\u3044\u3066\nZynqberry\uff08TE0726\uff09\u3068\u3044\u3046\u65e2\u5b58\u306eSoC\u30dc\u30fc\u30c9\u3092\u5229\u7528\u3057\u3066\u3044\u3066entity\u6587\u306f\u306a\u308b\u3079\u304f\u56de\u8def\u56f3\u3069\u304a\u308a\u306e\u540d\u79f0\u3068\u3057\u3066\u307e\u3059\u3002iBUTTON,iRCIN\u306fGPIO\u3092\u632f\u308a\u66ff\u3048\u3066\u307e\u3059\u3002\u3053\u306e\u8fba\u306f\u30b3\u30e1\u30f3\u30c8\u304c\u3042\u3063\u305f\u307b\u3046\u304c\u826f\u304b\u3063\u305f\u304b\u306a\u3002\n\nTE0726_TOP.vhd\n\nentity TE0726_TOP is\nport (\n    -- bank34\n    iBUTTON    : in    std_logic;\n    iRCIN      : in    std_logic_vector( 1 downto 0);\n    GPIO       : inout std_logic_vector(25 downto 3);\n    PUDC       : inout std_logic;\n    CSI_C_P    : out   std_logic;\n    CSI_C_N    : out   std_logic;\n    CSI_D_P    : out   std_logic_vector( 1 downto 0);\n    CSI_D_N    : out   std_logic_vector( 1 downto 0);\n    CSI_D0_R_P : out   std_logic;\n    CSI_D0_R_N : out   std_logic;\n    PWM_L      : inout std_logic;\n    PWM_R      : inout std_logic;\n    CEC_B      : inout std_logic;\n    HDMI_TXC_P : out   std_logic;\n    HDMI_TXC_N : out   std_logic;\n    HDMI_TX_P  : out   std_logic_vector( 2 downto 0);\n    HDMI_TX_N  : out   std_logic_vector( 2 downto 0);\n    --bank35\n    DSI_C_R_P  : out   std_logic;\n    DSI_C_R_N  : out   std_logic;\n    DSI_D_R_P  : out   std_logic_vector( 1 downto 0);\n    DSI_D_R_N  : out   std_logic_vector( 1 downto 0);\n    DSI_XA     : out   std_logic;\n    DSI_XB     : out   std_logic;\n    --PS\n    MIO        : inout std_logic_vector(53 downto  0);\n    PS_CLK     : inout std_logic;\n    PS_SRSTB   : inout std_logic;\n    PS_PORB    : inout std_logic;\n\n    -- PS_DDR\n    DDR_VRP      : inout std_logic;\n    DDR_VRN      : inout std_logic;\n    DDR_WEB      : inout std_logic;\n    DDR_RAS_n    : inout std_logic;\n    DDR_ODT      : inout std_logic;\n    DDR_DRSTB    : inout std_logic;\n    DDR_DQS      : inout std_logic_vector( 1 downto 0);\n    DDR_DQS_n    : inout std_logic_vector( 1 downto 0);\n    DDR_DQ       : inout std_logic_vector(15 downto 0);\n    DDR_DM       : inout std_logic_vector( 1 downto 0);\n    DDR_CS_n     : inout std_logic;\n    DDR_CKE      : inout std_logic;\n    DDR_Clk      : inout std_logic;\n    DDR_Clk_n    : inout std_logic;\n    DDR_CAS_n    : inout std_logic;\n    DDR_BankAddr : inout std_logic_vector(2 downto 0);\n    DDR_Addr     : inout std_logic_vector(14 downto 0)\n);\nend TE0726_TOP;\n...\n\n\n\n\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30b9\u30bf\u30a4\u30eb\u3068\u3044\u3046\u304b\u30af\u30bb\u3067\u5185\u90e8\u306e\u4fe1\u53f7\u3068I/O\u306e\u63a5\u7d9a\u306f\u306a\u308b\u3079\u304f\u6587\u672b\u306b\u307e\u3068\u3081\u3066\u66f8\u304f\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u305d\u306e\u629c\u7c8b\u3067\u3059\u3002\n\nTE0726_TOP.vhd\n\n...\n    -- I/O\n    -- bank34\n    sLED(0) <= sGPIO20M( 4);\n    sLED(1) <= sGPIO20M( 5);\n    sLED(2) <= sGPIO20M( 6);\n    sLED(3) <= sGPIO20M( 7);\n    sLED(4) <= sGPIO20M( 8);\n    sLED(5) <= sGPIO20M( 9);\n    sLED(6) <= sGPIO20M(10);\n    sLED(7) <= sGPI(0);\n\n--  GPIO( 2) <= sLED(0);\n    GPIO( 3) <= sLED(1);\n    GPIO( 4) <= sLED(2);\n    GPIO( 5) <= rSERVO( 6); --\n    GPIO( 6) <= rSERVO( 7); --\n    GPIO( 7) <= rSERVO( 5); --\n    GPIO( 8) <= rSERVO( 4); --\n    GPIO( 9) <= rSERVO( 1); --\n    GPIO(10) <= rSERVO( 0); --\n    GPIO(11) <= rSERVO( 3); sGPI(1) <= '0';--\n    GPIO(12) <= rSERVO( 8); --\n    GPIO(13) <= rSERVO( 9); --\n    GPIO(14) <= sLED(3);\n    GPIO(15) <= sLED(4);\n    GPIO(16) <= rSERVO(11); sGPI(2) <= '0';--\n    GPIO(17) <= sLED(5);\n    GPIO(18) <= rSERVO(14);\n    GPIO(19) <= rSERVO(10); --\n    GPIO(20) <= rSERVO(13); --\n    GPIO(21) <= rSERVO(15); --\n    GPIO(22) <= sLED(7);\n    GPIO(23) <= rSERVO( 2); --\n    GPIO(24) <= rSERVO(12); --\n    GPIO(25) <= sLED(6);\n\n    sGPI(0) <= rBUTTON(1);\n\n    PUDC       <= 'Z';\n\n    PR_CSI_C   : OBUFTDS port map(O => CSI_C_P    , OB => CSI_C_N    , I => '0' , T => '1');\n    PR_CSI_D0  : OBUFTDS port map(O => CSI_D_P(0) , OB => CSI_D_N(0) , I => '0' , T => '1');\n    PR_CSI_D1  : OBUFTDS port map(O => CSI_D_P(1) , OB => CSI_D_N(1) , I => '0' , T => '1');\n    CSI_D0_R_P <= 'Z'; CSI_D0_R_N <= 'Z';\n    PWM_L      <= 'Z';\n    PWM_R      <= 'Z';\n    CEC_B      <= 'Z';\n\n    PR_HDMI_TX1 : OBUFTDS port map(O => HDMI_TX_P(1) , OB => HDMI_TX_N(1) , I => '0' , T => '1');\n    PR_HDMI_TX2 : OBUFTDS port map(O => HDMI_TX_P(2) , OB => HDMI_TX_N(2) , I => '0' , T => '1');\n    HDMI_TXC_P   <= 'Z'; HDMI_TXC_N   <= 'Z';\n    HDMI_TX_P(0) <= 'Z'; HDMI_TX_N(0) <= 'Z';\n\n    --bank35\n    DSI_C_R_P    <= 'Z'; DSI_C_R_N    <= 'Z';\n    DSI_D_R_P(0) <= 'Z'; DSI_D_R_N(0) <= 'Z';\n    DSI_D_R_P(1) <= 'Z'; DSI_D_R_N(1) <= 'Z';\n\n    DSI_XA     <= 'Z';\n    DSI_XB     <= 'Z';\n...\n\n\n\n\u30fb\u30fb\u30fb\u3042\u3089\u305f\u3081\u3066\u81ea\u5206\u306e\u30b3\u30fc\u30c9\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b\u3068\u5927\u5909\u304a\u7c97\u672b\u3002\nGPIO(x)\u3067\u306f\u30dc\u30fc\u30c9\u306e\u30d4\u30f3\u30d8\u30c3\u30c0\u306e\u5165\u51fa\u529b\u30d4\u30f3\u3092\u5272\u308a\u5f53\u3066\u3066\u307e\u3059\u3002\u672a\u4f7f\u7528\u30dd\u30fc\u30c8\u3092\u30cf\u30a4\u30a4\u30f3\u30d4\u30fc\u30c0\u30f3\u30b9\u306b\u3057\u3066\u307e\u3059\u3002\n\u3061\u306a\u307f\u306bOBUFTDS\u306fZynq-7000\u306e\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u3067\u30c8\u30e9\u30a4\u30b9\u30c6\u30fc\u30c8\u306e\u5dee\u52d5\u51fa\u529b\u30d0\u30c3\u30d5\u30a1\u3067\u3059\u3002\n\n\u25a0 \u975e\u540c\u671f\u5bfe\u7b56\uff08\u30e1\u30bf\u30b9\u30c6\u30fc\u30d6\u30eb\uff09\n\u30e1\u30bf\u30b9\u30c6\u30fc\u30d6\u30eb\u5bfe\u7b56\u304c\u5fc5\u8981\u306a\u4fe1\u53f7\u306fiRCIN\uff08\u53d7\u4fe1RC\u4fe1\u53f7\uff09\u3067\u3059\u3002\niRCIN\u306e\u4fe1\u53f7\u3092\u524d\u56de\u306eTKRCV\u3067\u4f7f\u3044\u307e\u3059\u3002TKRCV\u306fsCLK20M\u3067\u52d5\u304f\u306e\u3067sCLK20M\u3067\u52d5\u4f5c\u3059\u308bFF2\u6bb5\u3067\u5bfe\u7b56\u3057\u305f\u4fe1\u53f7\u3092\u524d\u56de\u306eTKRCV\u306b\u5165\u529b\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001\u30d0\u30b9\u4fe1\u53f7\u306e\u975e\u540c\u671f\u306e\u554f\u984c\u306f\u7279\u5b9a\u306ebit\u3060\u3051\u9045\u308c\u308b\u306a\u3069\u306e\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002\u30d0\u30b9\u4fe1\u53f7\u304c\u58ca\u308c\u308b\u3068RC\u30b5\u30fc\u30dc\u304c\u8aa4\u52d5\u4f5c\u3057\u304b\u306d\u306a\u3044\u306e\u3067\u5bfe\u7b56\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u5bfe\u7b56\u3068\u3057\u3066\u306f\u975e\u540c\u671fFIFO\u3067\u30d0\u30c3\u30d5\u30a1\u3059\u308b\u3053\u3068\u3002CLK_CHG\u306e\u4e2d\u8eab\u306fVivado\u306eFIFO Generator\u3067\u4f5c\u3063\u305f\u975e\u540c\u671fFIFO\u3067\u3059\u3002sPS_CLK\u306e\u307b\u3046\u304csCLK20M\u3088\u308a\u30ec\u30fc\u30c8\u304c\u65e9\u3044\u306e\u3067\u30d0\u30c3\u30d5\u30a1\u30aa\u30fc\u30d0\u30fc\u3057\u307e\u3059\u304c\u3001\u53d6\u308a\u3053\u307c\u3057\u306f\u554f\u984c\u306b\u306a\u3089\u306a\u3044\u306e\u3067\u8a31\u5bb9\u3067\u304d\u307e\u3059\u3002\n\nTE0726_TOP.vhd\n    -- signal\u5ba3\u8a00\u90e8\n    type tRCIN_ARRY is array (0 to 1) of std_logic_vector(1 downto 0);\n    constant cRCIN    : tRCIN_ARRY  := (others =>(others => '0'));\n    signal   rRCIN    : tRCIN_ARRY  := cRCIN;\n    ...\n    P_LT : process(sCLK20M) begin\n        if (sCLK20M'event and sCLK20M = '1') then\n            if (gRST = '1') then\n                ...\n                rRCIN <= cRCIN;\n            else\n                ...\n                rRCIN <= rRCIN(0) & iRCIN;   -- \u975e\u540c\u671f\u5bfe\u7b56\n            end if;\n        end if;\n    end process;\n    ...\n    -- \u30af\u30ed\u30c3\u30af\u4e57\u308a\u63db\u3048\n    U_IP1 : CLK_CHG\n    port map(\n        rst    => gRST     ,\n        wr_clk => sCLK_PS  ,\n        rd_clk => sCLK20M  ,\n        din    => sGPIO    ,\n        wr_en  => '1'      ,\n        rd_en  => '1'      ,\n        dout   => sGPIO20M ,\n        full   => open     ,\n        empty  => open\n    );\n    ...\n\n\n\n\u25a0 \u30c7\u30d0\u30a4\u30b9\u4f9d\u5b58\u306e\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306e\u5bfe\u5fdc\n\u4eca\u56de\u306e\u4f8b\u3067\u30c7\u30d0\u30a4\u30b9\u4f9d\u5b58\u304c\u3042\u308b\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306f\u30af\u30ed\u30c3\u30af\u751f\u6210\u3001\u524d\u8ff0\u3057\u3066\u3044\u308b\u5dee\u52d5\u51fa\u529b\u30d0\u30c3\u30d5\u30a1\u304f\u3089\u3044\u3067\u3059\u3002\nCLK_GEN20M\u306fXilinx\u306eClocking Wizard\u3067\u3059\u3002\n\nTE0726_TOP.vhd\n    ...\n    -- \u30af\u30ed\u30c3\u30af\u751f\u6210\n    U_IP2 :  CLK_GEN20M\n    port map(\n        clk_in1  => sCLK_PS , -- Clock in ports\n        clk_out1 => sCLK20M , -- Clock out ports\n        reset    => gRST    , -- Status and control signals\n        locked   => sLOCKED\n    );\n    ...\n\n\n\u30af\u30ed\u30c3\u30af\u95a2\u4fc2\u306f\u30c7\u30d0\u30a4\u30b9\u56fa\u6709\u3067\u3042\u308b\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u5206\u96e2\u3057\u3066\u304a\u3044\u305f\u307b\u3046\u826f\u3044\u3067\u3057\u3087\u3046\u3002\n\u3061\u306a\u307f\u306b\u4eca\u56de\u4f7f\u3063\u3066\u3044\u308bTKSERVO\u3001TKRCV\u306fLattice\u30c7\u30d0\u30a4\u30b9\u3067\u4f7f\u3046\u305f\u3081\u306b\u4f5c\u3063\u305f\u3082\u306e\u3092\u6d41\u7528\u3057\u305f\u3082\u306e\u3067\u3001\u5909\u66f4\u7121\u304f\u4f7f\u3044\u307e\u308f\u305b\u3066\u3044\u307e\u3059\u3002\n\n\u25a0 IP Integrator\u30e9\u30c3\u30d1\u30fc\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b7\u30a7\u30fc\u30c8\nVivado IP Integrator\u3067\u6e08\u3081\u3070\u30e9\u30c3\u30d1\u30fc\u3092\u6700\u4e0a\u4f4d\u3068\u3057\u3066\u4f7f\u3048\u307e\u3059\u304c\uff08Xilinx\u306f\u305d\u308c\u3092\u63a8\u5968\u3057\u3066\u3044\u308b\uff1f\uff09\u81ea\u4f5c\u3057\u305f\u30b3\u30fc\u30c9\u304cAXI\u306a\u3089\u3068\u3082\u304b\u304f\u3001\u305d\u3046\u3067\u306a\u3044\u3068\u304b\u3048\u3063\u3066\u9762\u5012\u3067\u3059\u3002\u306a\u306e\u3067\u30e9\u30c3\u30d1\u30fc\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b7\u30a7\u30fc\u30c8\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\nMIO(x)\u304c\u6b6f\u629c\u3051\u306a\u306e\u306fEntity\u3092\u56de\u8def\u56f3\u306b\u3042\u308f\u305b\u305f\u7d50\u679c\u3067\u3059\u3002\n\nTE0726_TOP.vhd\n    ...\n    -- DUT\n    U_DUT : zsys_wrapper\n    port map(\n        DDR_addr          => DDR_Addr      ,\n        DDR_ba            => DDR_BankAddr  ,\n        DDR_cas_n         => DDR_CAS_n     ,\n        DDR_ck_n          => DDR_Clk_n     ,\n        DDR_ck_p          => DDR_Clk       ,\n        DDR_cke           => DDR_CKE       ,\n        DDR_cs_n          => DDR_CS_n      ,\n        DDR_dm            => DDR_DM        ,\n        DDR_dq            => DDR_DQ        ,\n        DDR_dqs_n         => DDR_DQS_n     ,\n        DDR_dqs_p         => DDR_DQS       ,\n        DDR_odt           => DDR_ODT       ,\n        DDR_ras_n         => DDR_RAS_n     ,\n        DDR_reset_n       => DDR_DRSTB     ,\n        DDR_we_n          => DDR_WEB       ,\n        FIXED_IO_ddr_vrn  => DDR_VRN       ,\n        FIXED_IO_ddr_vrp  => DDR_VRP       ,\n\n        FIXED_IO_mio(15 downto  0) => MIO(15 downto  0) ,\n        FIXED_IO_mio(27 downto 16) => MIO(39 downto 28) ,\n        FIXED_IO_mio(29 downto 28) => MIO(49 downto 48) ,\n        FIXED_IO_mio(31 downto 30) => MIO(53 downto 52) ,\n        FIXED_IO_ps_clk   => PS_CLK      ,\n        FIXED_IO_ps_porb  => PS_PORB     ,\n        FIXED_IO_ps_srstb => PS_SRSTB    ,\n        oAXI_GPIO0_TRI_O  => sGPIO       ,\n        iAXI_GPIO1_TRI_I  => sGPI        ,\n        iAXI_GPIO2_TRI_I  => sRCV4       ,\n        oCLK              => sCLK_PS     ,\n        oxRST(0)          => sxRST_PS\n    );\n    ...\n\n\n\u30e9\u30c3\u30d1\u30fc\u3092\u6539\u9020\u3059\u308b\u3068\u3044\u3046\u65b9\u6cd5\u3082\u3042\u308a\u307e\u3059\u304c\u3084\u3081\u305f\u307b\u3046\u304c\u3044\u3044\u3067\u3057\u3087\u3046\u3002IP Integrator\u3092\u66f4\u65b0\u3059\u308b\u90fd\u5ea6\u3001\u6539\u9020\u90e8\u3092\u624b\u4f5c\u696d\u3067\u76f4\u3059\u5fc5\u8981\u304c\u3067\u3066\u304f\u308b\u306e\u3067\u3002\n\n\u96d1\u8a18\n\uff13\u56de\u306b\u5206\u3051\u3066ZYNQ\u3067\u30ed\u30dc\u30c3\u30c8\u3092\u52d5\u304b\u3057\u305f\u969b\u306b\u7528\u3044\u305fVHDL\u95a2\u4fc2\u306e\u7d39\u4ecb\u3092\u3057\u307e\u3057\u305f\u3002\n\u516c\u958b\u7528\u306b\u30b3\u30fc\u30c9\u3092\u304d\u308c\u3044\u306b\u3057\u305f\u308a\u3068\u304b\u305d\u3046\u3044\u3046\u306e\u4e00\u5207\u306a\u3057\u306e\u7d20\u306e\u30b3\u30fc\u30c9\u3067\u3059\u3002\n\u3076\u3063\u3061\u3083\u3051\u6307\u6458\u3055\u308c\u308b\u307e\u3067\u975e\u540c\u671f\u5bfe\u7b56\u3082\u65bd\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u306a\u4ee3\u7269\u3067\u3057\u305f\u3002\n\uff08\u5b9f\u52d5\u4f5c\u7684\u306b\u306fPS\u304b\u3089\u306e\u30dd\u30fc\u30ea\u30f3\u30b0\u306f\u983b\u5ea6\u304c\u4f4e\u3044\u306e\u3067\u975e\u540c\u671f\u306e\u60aa\u5f71\u97ff\u306f\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u304b\u3063\u3053\u60aa\u3044\u306e\u3067\u76f4\u3057\u307e\u3057\u305f\uff09\nWeb\u3092\u60c5\u5831\u6e90\u3068\u3057\u3066\u3044\u308b\u3068VHDL\u306e\u60c5\u5831\u306b\u3064\u3044\u3066\u306f\u7406\u8ad6\u7684\u306a\u3082\u306e\u306f\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u5b9f\u969b\u4f8b\u3068\u3044\u3046\u306e\u304c\u3042\u307e\u308a\u898b\u5f53\u305f\u3089\u306a\u3044\u3068\u601d\u3044\u7a1a\u62d9\u3067\u3042\u308b\u3053\u3068\u3092\u81ea\u899a\u3057\u3064\u3064\u3082\u50ed\u8d8a\u306a\u304c\u3089\u516c\u958b\u3059\u308b\u3053\u3068\u3068\u3057\u307e\u3057\u305f\u3002\n\u65e9\u901f\u30b3\u30e1\u30f3\u30c8\u3092\u3044\u305f\u3060\u3051\u516c\u958b\u3057\u3066\u3088\u304b\u3063\u305f\u3068\u601d\u3044\u307e\u3059\u3002\n\u4eca\u5f8c\u306fXilinx\u4ee5\u4e0a\u306b\u60c5\u5831\u306e\u5c11\u306a\u3044Lattice\u306eMachXO2\u3092\u4f7f\u3063\u3066\u4f5c\u3063\u305fRC\u30a2\u30f3\u30d7\u306b\u3064\u3044\u3066\u5927\u80c6\u516c\u958b\u3057\u3088\u3046\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\u79cb\u6708\u3067\u3082MachXO2-256\u306e\u8ca9\u58f2\u59cb\u307e\u3063\u305f\u3057\u3001\u30a2\u30de\u30c1\u30e5\u30a2\u5411\u3051\u306b\u3082\u826f\u3044\u3068\u601d\u3046\u306e\u3067\u3059\u304c\u3044\u307e\u3044\u3061\u76db\u308a\u4e0a\u304c\u3063\u3066\u306a\u3044\u306e\u304c\u6c17\u304c\u304b\u308a\u3067\u3059\u304b\u3089\u3002\n\u3067\u306f\u3002\n# \u6700\u4e0a\u4f4d\u968e\u5c64\u306b\u3064\u3044\u3066\nVHDL\u3084Verilog\u30b3\u30fc\u30c9\u3092\u8ad6\u7406\u5408\u6210\u3059\u308b\u969b\u3001\u591a\u304f\u306e\u5834\u5408\u306f\u30b3\u30fc\u30c9\u306b\u968e\u5c64\u304c\u3042\u308a\u307e\u3059\u3002\n\u6700\u4e0a\u4f4d\u968e\u5c64\u306f\uff10\u3068\uff11\u306e\u8ad6\u7406\u7684\u306a\u4e16\u754c\u3068\u30ea\u30a2\u30eb\u306a\u4e16\u754c\u306e\u5883\u754c\u306b\u306a\u308b\u305f\u3081\u3001\u4e0b\u4f4d\u968e\u5c64\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u306f\u3061\u3087\u3063\u3068\u9055\u3063\u305f\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u79c1\u304c\u8003\u3048\u308b\u6700\u4e0a\u4f4d\u968e\u5c64\u3067\u6c17\u3092\u3064\u3051\u308b\u70b9\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n\n1. \u30ea\u30a2\u30eb\u4e16\u754c\u3068\u306e\u63a5\u7d9a\n2. \u975e\u540c\u671f\u5bfe\u7b56\n3. \u30c7\u30d0\u30a4\u30b9\u4f9d\u5b58\u306e\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306e\u5bfe\u5fdc\n\n#####1.\u30ea\u30a2\u30eb\u4e16\u754c\u3068\u306e\u63a5\u7d9a\n\u56de\u8def\u56f3\u3068\u306e\u5bfe\u5fdc\u3084\u30d4\u30f3\u30a2\u30b5\u30a4\u30f3\u304c\u5206\u304b\u308a\u3084\u3059\u3044\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u4fbf\u5229\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\u30d4\u30f3\u30a2\u30b5\u30a4\u30f3\u3084ILA\u306a\u3069\u306e\u30c7\u30d0\u30c3\u30b0\u6642\u306b\u5c11\u3057\u5206\u304b\u308a\u3084\u3059\u304f\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n#####2.\u975e\u540c\u671f\u5bfe\u7b56\nFF\u306e\u52d5\u4f5c\u30af\u30ed\u30c3\u30af\u3068\u9055\u3046\u30af\u30ed\u30c3\u30af\u304c\u5165\u529b\u3055\u308c\u308b\u3068[\u30e1\u30bf\u30b9\u30c6\u30fc\u30d6\u30eb](http://fpga-net.jp/fpga/word/metastable.html)\u3068\u3044\u3046\u72b6\u614b\u304c\u751f\u3058\u3066\u72d9\u3044\u901a\u308a\u52d5\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u30e1\u30bf\u30b9\u30c6\u30fc\u30d6\u30eb\u304c\u8d77\u304d\u308b\u3068\u4fe1\u53f7\u306e\u53d6\u308a\u3053\u307c\u3057\u3084\u4f59\u5206\u306b\u6570\u30af\u30ed\u30c3\u30af\u591a\u304f\u4fe1\u53f7\u3092\u62fe\u3063\u3066\u3057\u307e\u3046\u306a\u3069\u306e\u73fe\u8c61\u304c\u751f\u3058\u307e\u3059\u3002\n\n\u524d\u56de\u8a18\u4e8b\u306e\u30b3\u30e1\u30f3\u30c8\u3067\u6559\u3048\u3066\u3044\u305f\u3060\u3044\u305f\u30ea\u30f3\u30af\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n> \n- [\u540c\u671f\u306a\u30af\u30ed\u30c3\u30af\u3068\u975e\u540c\u671f\u306a\u30af\u30ed\u30c3\u30af](http://zakii.la.coocan.jp/digital/12_async_clock.htm)\n- [\u30c0\u30d6\u30ebFF\u30b7\u30f3\u30af\u30ed\u30ca\u30a4\u30b6](http://zakii.la.coocan.jp/digital/13_2ff_sync.htm)\n- [\u30b3\u30e9\u30e0\uff1a\u975e\u540c\u671f\u30af\u30ed\u30c3\u30af \u3068 \u691c\u8a3c\u624b\u6cd5\uff0d1](http://www.altima.jp/products/software/mentor/fv/column/cdc-1.html)\n\n#####3.\u30c7\u30d0\u30a4\u30b9\u4f9d\u5b58\u306e\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306e\u5bfe\u5fdc\n\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u3068\u306f\u30c7\u30d0\u30a4\u30b9\u306e\u69cb\u6210\u90e8\u54c1\u306e\u3053\u3068\u3068\u601d\u3063\u3066\u3082\u3089\u3063\u3066\u3088\u3044\u3067\u3059\u3002\n\u305f\u3068\u3048\u3070\u3001Xilinx\u3067\u3044\u3046\u3068\u3053\u308d\u306eI/O\u30d0\u30c3\u30d5\u30a1\uff08IOBUF\u3001BUFG\u306a\u3069\uff09\u3084PLL\u306a\u3069\u3001\u30c7\u30d0\u30a4\u30b9\u3084\u30e1\u30fc\u30ab\u30fc\u3054\u3068\u306b\u7279\u6b8a\u306a\u8a18\u8ff0\u304c\u5fc5\u8981\u306a\u3082\u306e\u3067\u3059\u3002\n\u3053\u306e\u8fba\u306e\u8a18\u8ff0\u3092\u6700\u4e0a\u4f4d\u968e\u5c64\u3067\u307e\u3068\u3081\u3066\u304a\u3051\u3070\u3001\u4e0b\u4f4d\u968e\u5c64\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u30c7\u30d0\u30a4\u30b9\u3084\u30e1\u30fc\u30ab\u30fc\u306b\u4f9d\u5b58\u3059\u308b\u3053\u3068\u304c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\u203bLUT\u3084FF\u306a\u3069\u3082\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u3067\u3059\u304c\u8ad6\u7406\u5408\u6210\u3067\u89e3\u91c8\u3055\u308c\u308b\u3088\u3046\u306a\u3082\u306e\u306f\u3053\u306e\u4ef6\u3067\u306f\u4f8b\u5916\u3067\u3059\u3002\n\n\u3068\u306f\u3044\u3048\u3001\u3042\u304f\u307e\u3067\u7406\u60f3\u3067\u3042\u3063\u3066\u5b9f\u969b\u306b\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u3067\u5272\u308a\u7b97\u5668\u3084\u30e1\u30fc\u30ab\u30fcIP\u306eFIFO\u306a\u3069\u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u697d\u306a\u5834\u9762\u3082\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3044\u3063\u305f\u969b\u3001\u79c1\u306e\u5834\u5408\u306f\u30c7\u30d0\u30a4\u30b9\u3084\u30e1\u30fc\u30ab\u30fc\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3088\u3046\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u540d\u306a\u3069\u3092\u5de5\u592b\u3057\u3066\u6ce8\u610f\u559a\u8d77\u3092\u884c\u3046\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n# \u5b9f\u969b\u306e\u4f8b\n\u524d\u9805\u3092\u8e0f\u307e\u3048\u3066\u5b9f\u969b\u306b\u8a18\u8ff0\u3057\u305f\u30b3\u30fc\u30c9\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u3053\u308c\u3067\u3059\u3002\nhttps://github.com/x7700jp/x7700jp_codes/blob/master/rc_robot/TE0726_TOP.vhd\n\n###\u25a0 \u30ea\u30a2\u30eb\u4e16\u754c\u3068\u306e\u63a5\u7d9a\u306b\u3064\u3044\u3066\n\nZynqberry\uff08TE0726\uff09\u3068\u3044\u3046\u65e2\u5b58\u306eSoC\u30dc\u30fc\u30c9\u3092\u5229\u7528\u3057\u3066\u3044\u3066entity\u6587\u306f\u306a\u308b\u3079\u304f\u56de\u8def\u56f3\u3069\u304a\u308a\u306e\u540d\u79f0\u3068\u3057\u3066\u307e\u3059\u3002iBUTTON,iRCIN\u306fGPIO\u3092\u632f\u308a\u66ff\u3048\u3066\u307e\u3059\u3002\u3053\u306e\u8fba\u306f\u30b3\u30e1\u30f3\u30c8\u304c\u3042\u3063\u305f\u307b\u3046\u304c\u826f\u304b\u3063\u305f\u304b\u306a\u3002\n\n```vhdl:TE0726_TOP.vhd\n\nentity TE0726_TOP is\nport (\n\t-- bank34\n\tiBUTTON    : in    std_logic;\n\tiRCIN      : in    std_logic_vector( 1 downto 0);\n\tGPIO       : inout std_logic_vector(25 downto 3);\n\tPUDC       : inout std_logic;\n\tCSI_C_P    : out   std_logic;\n\tCSI_C_N    : out   std_logic;\n\tCSI_D_P    : out   std_logic_vector( 1 downto 0);\n\tCSI_D_N    : out   std_logic_vector( 1 downto 0);\n\tCSI_D0_R_P : out   std_logic;\n\tCSI_D0_R_N : out   std_logic;\n\tPWM_L      : inout std_logic;\n\tPWM_R      : inout std_logic;\n\tCEC_B      : inout std_logic;\n\tHDMI_TXC_P : out   std_logic;\n\tHDMI_TXC_N : out   std_logic;\n\tHDMI_TX_P  : out   std_logic_vector( 2 downto 0);\n\tHDMI_TX_N  : out   std_logic_vector( 2 downto 0);\n\t--bank35\n\tDSI_C_R_P  : out   std_logic;\n\tDSI_C_R_N  : out   std_logic;\n\tDSI_D_R_P  : out   std_logic_vector( 1 downto 0);\n\tDSI_D_R_N  : out   std_logic_vector( 1 downto 0);\n\tDSI_XA     : out   std_logic;\n\tDSI_XB     : out   std_logic;\n\t--PS\n\tMIO        : inout std_logic_vector(53 downto  0);\n\tPS_CLK     : inout std_logic;\n\tPS_SRSTB   : inout std_logic;\n\tPS_PORB    : inout std_logic;\n\n\t-- PS_DDR\n\tDDR_VRP      : inout std_logic;\n\tDDR_VRN      : inout std_logic;\n\tDDR_WEB      : inout std_logic;\n\tDDR_RAS_n    : inout std_logic;\n\tDDR_ODT      : inout std_logic;\n\tDDR_DRSTB    : inout std_logic;\n\tDDR_DQS      : inout std_logic_vector( 1 downto 0);\n\tDDR_DQS_n    : inout std_logic_vector( 1 downto 0);\n\tDDR_DQ       : inout std_logic_vector(15 downto 0);\n\tDDR_DM       : inout std_logic_vector( 1 downto 0);\n\tDDR_CS_n     : inout std_logic;\n\tDDR_CKE      : inout std_logic;\n\tDDR_Clk      : inout std_logic;\n\tDDR_Clk_n    : inout std_logic;\n\tDDR_CAS_n    : inout std_logic;\n\tDDR_BankAddr : inout std_logic_vector(2 downto 0);\n\tDDR_Addr     : inout std_logic_vector(14 downto 0)\n);\nend TE0726_TOP;\n...\n\n```\n\n\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30b9\u30bf\u30a4\u30eb\u3068\u3044\u3046\u304b\u30af\u30bb\u3067\u5185\u90e8\u306e\u4fe1\u53f7\u3068I/O\u306e\u63a5\u7d9a\u306f\u306a\u308b\u3079\u304f\u6587\u672b\u306b\u307e\u3068\u3081\u3066\u66f8\u304f\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u305d\u306e\u629c\u7c8b\u3067\u3059\u3002\n\n```vhdl:TE0726_TOP.vhd\n\n...\n\t-- I/O\n\t-- bank34\n\tsLED(0) <= sGPIO20M( 4);\n\tsLED(1) <= sGPIO20M( 5);\n\tsLED(2) <= sGPIO20M( 6);\n\tsLED(3) <= sGPIO20M( 7);\n\tsLED(4) <= sGPIO20M( 8);\n\tsLED(5) <= sGPIO20M( 9);\n\tsLED(6) <= sGPIO20M(10);\n\tsLED(7) <= sGPI(0);\n\n--\tGPIO( 2) <= sLED(0);\n\tGPIO( 3) <= sLED(1);\n\tGPIO( 4) <= sLED(2);\n\tGPIO( 5) <= rSERVO( 6); --\n\tGPIO( 6) <= rSERVO( 7); --\n\tGPIO( 7) <= rSERVO( 5); --\n\tGPIO( 8) <= rSERVO( 4); --\n\tGPIO( 9) <= rSERVO( 1); --\n\tGPIO(10) <= rSERVO( 0); --\n\tGPIO(11) <= rSERVO( 3); sGPI(1) <= '0';--\n\tGPIO(12) <= rSERVO( 8); --\n\tGPIO(13) <= rSERVO( 9); --\n\tGPIO(14) <= sLED(3);\n\tGPIO(15) <= sLED(4);\n\tGPIO(16) <= rSERVO(11); sGPI(2) <= '0';--\n\tGPIO(17) <= sLED(5);\n\tGPIO(18) <= rSERVO(14);\n\tGPIO(19) <= rSERVO(10); --\n\tGPIO(20) <= rSERVO(13); --\n\tGPIO(21) <= rSERVO(15); --\n\tGPIO(22) <= sLED(7);\n\tGPIO(23) <= rSERVO( 2); --\n\tGPIO(24) <= rSERVO(12); --\n\tGPIO(25) <= sLED(6);\n\n\tsGPI(0) <= rBUTTON(1);\n\n\tPUDC       <= 'Z';\n\t\n\tPR_CSI_C   : OBUFTDS port map(O => CSI_C_P    , OB => CSI_C_N    , I => '0' , T => '1');\n\tPR_CSI_D0  : OBUFTDS port map(O => CSI_D_P(0) , OB => CSI_D_N(0) , I => '0' , T => '1');\n\tPR_CSI_D1  : OBUFTDS port map(O => CSI_D_P(1) , OB => CSI_D_N(1) , I => '0' , T => '1');\n\tCSI_D0_R_P <= 'Z'; CSI_D0_R_N <= 'Z';\n\tPWM_L      <= 'Z';\n\tPWM_R      <= 'Z';\n\tCEC_B      <= 'Z';\n\n\tPR_HDMI_TX1 : OBUFTDS port map(O => HDMI_TX_P(1) , OB => HDMI_TX_N(1) , I => '0' , T => '1');\n\tPR_HDMI_TX2 : OBUFTDS port map(O => HDMI_TX_P(2) , OB => HDMI_TX_N(2) , I => '0' , T => '1');\n\tHDMI_TXC_P   <= 'Z'; HDMI_TXC_N   <= 'Z';\n\tHDMI_TX_P(0) <= 'Z'; HDMI_TX_N(0) <= 'Z';\n\n\t--bank35\n\tDSI_C_R_P    <= 'Z'; DSI_C_R_N    <= 'Z';\n\tDSI_D_R_P(0) <= 'Z'; DSI_D_R_N(0) <= 'Z';\n\tDSI_D_R_P(1) <= 'Z'; DSI_D_R_N(1) <= 'Z';\n\n\tDSI_XA     <= 'Z';\n\tDSI_XB     <= 'Z';\n...\n\n```\n\n\u30fb\u30fb\u30fb\u3042\u3089\u305f\u3081\u3066\u81ea\u5206\u306e\u30b3\u30fc\u30c9\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b\u3068\u5927\u5909\u304a\u7c97\u672b\u3002\nGPIO(x)\u3067\u306f\u30dc\u30fc\u30c9\u306e\u30d4\u30f3\u30d8\u30c3\u30c0\u306e\u5165\u51fa\u529b\u30d4\u30f3\u3092\u5272\u308a\u5f53\u3066\u3066\u307e\u3059\u3002\u672a\u4f7f\u7528\u30dd\u30fc\u30c8\u3092\u30cf\u30a4\u30a4\u30f3\u30d4\u30fc\u30c0\u30f3\u30b9\u306b\u3057\u3066\u307e\u3059\u3002\n\u3061\u306a\u307f\u306bOBUFTDS\u306fZynq-7000\u306e\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u3067\u30c8\u30e9\u30a4\u30b9\u30c6\u30fc\u30c8\u306e\u5dee\u52d5\u51fa\u529b\u30d0\u30c3\u30d5\u30a1\u3067\u3059\u3002\n\n###\u25a0 \u975e\u540c\u671f\u5bfe\u7b56\uff08\u30e1\u30bf\u30b9\u30c6\u30fc\u30d6\u30eb\uff09\n\u30e1\u30bf\u30b9\u30c6\u30fc\u30d6\u30eb\u5bfe\u7b56\u304c\u5fc5\u8981\u306a\u4fe1\u53f7\u306fiRCIN\uff08\u53d7\u4fe1RC\u4fe1\u53f7\uff09\u3067\u3059\u3002\niRCIN\u306e\u4fe1\u53f7\u3092\u524d\u56de\u306eTKRCV\u3067\u4f7f\u3044\u307e\u3059\u3002TKRCV\u306fsCLK20M\u3067\u52d5\u304f\u306e\u3067sCLK20M\u3067\u52d5\u4f5c\u3059\u308bFF2\u6bb5\u3067\u5bfe\u7b56\u3057\u305f\u4fe1\u53f7\u3092\u524d\u56de\u306eTKRCV\u306b\u5165\u529b\u3057\u307e\u3059\u3002\n\n\u307e\u305f\u3001\u30d0\u30b9\u4fe1\u53f7\u306e\u975e\u540c\u671f\u306e\u554f\u984c\u306f\u7279\u5b9a\u306ebit\u3060\u3051\u9045\u308c\u308b\u306a\u3069\u306e\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002\u30d0\u30b9\u4fe1\u53f7\u304c\u58ca\u308c\u308b\u3068RC\u30b5\u30fc\u30dc\u304c\u8aa4\u52d5\u4f5c\u3057\u304b\u306d\u306a\u3044\u306e\u3067\u5bfe\u7b56\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u5bfe\u7b56\u3068\u3057\u3066\u306f\u975e\u540c\u671fFIFO\u3067\u30d0\u30c3\u30d5\u30a1\u3059\u308b\u3053\u3068\u3002CLK_CHG\u306e\u4e2d\u8eab\u306fVivado\u306eFIFO Generator\u3067\u4f5c\u3063\u305f\u975e\u540c\u671fFIFO\u3067\u3059\u3002sPS_CLK\u306e\u307b\u3046\u304csCLK20M\u3088\u308a\u30ec\u30fc\u30c8\u304c\u65e9\u3044\u306e\u3067\u30d0\u30c3\u30d5\u30a1\u30aa\u30fc\u30d0\u30fc\u3057\u307e\u3059\u304c\u3001\u53d6\u308a\u3053\u307c\u3057\u306f\u554f\u984c\u306b\u306a\u3089\u306a\u3044\u306e\u3067\u8a31\u5bb9\u3067\u304d\u307e\u3059\u3002\n\n```vhdl:TE0726_TOP.vhd\n\t-- signal\u5ba3\u8a00\u90e8\n\ttype tRCIN_ARRY is array (0 to 1) of std_logic_vector(1 downto 0);\n\tconstant cRCIN    : tRCIN_ARRY  := (others =>(others => '0'));\n\tsignal   rRCIN    : tRCIN_ARRY  := cRCIN;\n\t...\n\tP_LT : process(sCLK20M) begin\n\t\tif (sCLK20M'event and sCLK20M = '1') then\n\t\t\tif (gRST = '1') then\n\t\t\t\t...\n\t\t\t\trRCIN <= cRCIN;\n\t\t\telse\n\t\t\t\t...\n\t\t\t\trRCIN <= rRCIN(0) & iRCIN;   -- \u975e\u540c\u671f\u5bfe\u7b56\n\t\t\tend if;\n\t\tend if;\n\tend process;\n\t...\n\t-- \u30af\u30ed\u30c3\u30af\u4e57\u308a\u63db\u3048\n\tU_IP1 : CLK_CHG\n\tport map(\n\t\trst    => gRST     ,\n\t\twr_clk => sCLK_PS  ,\n\t\trd_clk => sCLK20M  ,\n\t\tdin    => sGPIO    ,\n\t\twr_en  => '1'      ,\n\t\trd_en  => '1'      ,\n\t\tdout   => sGPIO20M ,\n\t\tfull   => open     ,\n\t\tempty  => open\n\t);\n\t...\n```\n\n###\u25a0 \u30c7\u30d0\u30a4\u30b9\u4f9d\u5b58\u306e\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306e\u5bfe\u5fdc\n\u4eca\u56de\u306e\u4f8b\u3067\u30c7\u30d0\u30a4\u30b9\u4f9d\u5b58\u304c\u3042\u308b\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306f\u30af\u30ed\u30c3\u30af\u751f\u6210\u3001\u524d\u8ff0\u3057\u3066\u3044\u308b\u5dee\u52d5\u51fa\u529b\u30d0\u30c3\u30d5\u30a1\u304f\u3089\u3044\u3067\u3059\u3002\nCLK_GEN20M\u306fXilinx\u306eClocking Wizard\u3067\u3059\u3002\n\n```vhdl:TE0726_TOP.vhd\n\t...\n\t-- \u30af\u30ed\u30c3\u30af\u751f\u6210\n\tU_IP2 :  CLK_GEN20M\n\tport map(\n\t\tclk_in1  => sCLK_PS , -- Clock in ports\n\t\tclk_out1 => sCLK20M , -- Clock out ports\n\t\treset    => gRST    , -- Status and control signals\n\t\tlocked   => sLOCKED\n\t);\n\t...\n```\n\n\u30af\u30ed\u30c3\u30af\u95a2\u4fc2\u306f\u30c7\u30d0\u30a4\u30b9\u56fa\u6709\u3067\u3042\u308b\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u5206\u96e2\u3057\u3066\u304a\u3044\u305f\u307b\u3046\u826f\u3044\u3067\u3057\u3087\u3046\u3002\n\u3061\u306a\u307f\u306b\u4eca\u56de\u4f7f\u3063\u3066\u3044\u308bTKSERVO\u3001TKRCV\u306fLattice\u30c7\u30d0\u30a4\u30b9\u3067\u4f7f\u3046\u305f\u3081\u306b\u4f5c\u3063\u305f\u3082\u306e\u3092\u6d41\u7528\u3057\u305f\u3082\u306e\u3067\u3001\u5909\u66f4\u7121\u304f\u4f7f\u3044\u307e\u308f\u305b\u3066\u3044\u307e\u3059\u3002\n\n###\u25a0 IP Integrator\u30e9\u30c3\u30d1\u30fc\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b7\u30a7\u30fc\u30c8\n\nVivado IP Integrator\u3067\u6e08\u3081\u3070\u30e9\u30c3\u30d1\u30fc\u3092\u6700\u4e0a\u4f4d\u3068\u3057\u3066\u4f7f\u3048\u307e\u3059\u304c\uff08Xilinx\u306f\u305d\u308c\u3092\u63a8\u5968\u3057\u3066\u3044\u308b\uff1f\uff09\u81ea\u4f5c\u3057\u305f\u30b3\u30fc\u30c9\u304cAXI\u306a\u3089\u3068\u3082\u304b\u304f\u3001\u305d\u3046\u3067\u306a\u3044\u3068\u304b\u3048\u3063\u3066\u9762\u5012\u3067\u3059\u3002\u306a\u306e\u3067\u30e9\u30c3\u30d1\u30fc\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b7\u30a7\u30fc\u30c8\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\nMIO(x)\u304c\u6b6f\u629c\u3051\u306a\u306e\u306fEntity\u3092\u56de\u8def\u56f3\u306b\u3042\u308f\u305b\u305f\u7d50\u679c\u3067\u3059\u3002\n\n```vhdl:TE0726_TOP.vhd\n\t...\n\t-- DUT\n\tU_DUT : zsys_wrapper\n\tport map(\n\t\tDDR_addr          => DDR_Addr      ,\n\t\tDDR_ba            => DDR_BankAddr  ,\n\t\tDDR_cas_n         => DDR_CAS_n     ,\n\t\tDDR_ck_n          => DDR_Clk_n     ,\n\t\tDDR_ck_p          => DDR_Clk       ,\n\t\tDDR_cke           => DDR_CKE       ,\n\t\tDDR_cs_n          => DDR_CS_n      ,\n\t\tDDR_dm            => DDR_DM        ,\n\t\tDDR_dq            => DDR_DQ        ,\n\t\tDDR_dqs_n         => DDR_DQS_n     ,\n\t\tDDR_dqs_p         => DDR_DQS       ,\n\t\tDDR_odt           => DDR_ODT       ,\n\t\tDDR_ras_n         => DDR_RAS_n     ,\n\t\tDDR_reset_n       => DDR_DRSTB     ,\n\t\tDDR_we_n          => DDR_WEB       ,\n\t\tFIXED_IO_ddr_vrn  => DDR_VRN       ,\n\t\tFIXED_IO_ddr_vrp  => DDR_VRP       ,\n\n\t\tFIXED_IO_mio(15 downto  0) => MIO(15 downto  0) ,\n\t\tFIXED_IO_mio(27 downto 16) => MIO(39 downto 28) ,\n\t\tFIXED_IO_mio(29 downto 28) => MIO(49 downto 48) ,\n\t\tFIXED_IO_mio(31 downto 30) => MIO(53 downto 52) ,\n\t\tFIXED_IO_ps_clk   => PS_CLK      ,\n\t\tFIXED_IO_ps_porb  => PS_PORB     ,\n\t\tFIXED_IO_ps_srstb => PS_SRSTB    ,\n\t\toAXI_GPIO0_TRI_O  => sGPIO       ,\n\t\tiAXI_GPIO1_TRI_I  => sGPI        ,\n\t\tiAXI_GPIO2_TRI_I  => sRCV4       ,\n\t\toCLK              => sCLK_PS     ,\n\t\toxRST(0)          => sxRST_PS\n\t);\n\t...\n```\n\n\u30e9\u30c3\u30d1\u30fc\u3092\u6539\u9020\u3059\u308b\u3068\u3044\u3046\u65b9\u6cd5\u3082\u3042\u308a\u307e\u3059\u304c\u3084\u3081\u305f\u307b\u3046\u304c\u3044\u3044\u3067\u3057\u3087\u3046\u3002IP Integrator\u3092\u66f4\u65b0\u3059\u308b\u90fd\u5ea6\u3001\u6539\u9020\u90e8\u3092\u624b\u4f5c\u696d\u3067\u76f4\u3059\u5fc5\u8981\u304c\u3067\u3066\u304f\u308b\u306e\u3067\u3002\n\n#\u96d1\u8a18\n\uff13\u56de\u306b\u5206\u3051\u3066ZYNQ\u3067\u30ed\u30dc\u30c3\u30c8\u3092\u52d5\u304b\u3057\u305f\u969b\u306b\u7528\u3044\u305fVHDL\u95a2\u4fc2\u306e\u7d39\u4ecb\u3092\u3057\u307e\u3057\u305f\u3002\n\u516c\u958b\u7528\u306b\u30b3\u30fc\u30c9\u3092\u304d\u308c\u3044\u306b\u3057\u305f\u308a\u3068\u304b\u305d\u3046\u3044\u3046\u306e\u4e00\u5207\u306a\u3057\u306e\u7d20\u306e\u30b3\u30fc\u30c9\u3067\u3059\u3002\n\u3076\u3063\u3061\u3083\u3051\u6307\u6458\u3055\u308c\u308b\u307e\u3067\u975e\u540c\u671f\u5bfe\u7b56\u3082\u65bd\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u306a\u4ee3\u7269\u3067\u3057\u305f\u3002\n\uff08\u5b9f\u52d5\u4f5c\u7684\u306b\u306fPS\u304b\u3089\u306e\u30dd\u30fc\u30ea\u30f3\u30b0\u306f\u983b\u5ea6\u304c\u4f4e\u3044\u306e\u3067\u975e\u540c\u671f\u306e\u60aa\u5f71\u97ff\u306f\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u304b\u3063\u3053\u60aa\u3044\u306e\u3067\u76f4\u3057\u307e\u3057\u305f\uff09\n\nWeb\u3092\u60c5\u5831\u6e90\u3068\u3057\u3066\u3044\u308b\u3068VHDL\u306e\u60c5\u5831\u306b\u3064\u3044\u3066\u306f\u7406\u8ad6\u7684\u306a\u3082\u306e\u306f\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u5b9f\u969b\u4f8b\u3068\u3044\u3046\u306e\u304c\u3042\u307e\u308a\u898b\u5f53\u305f\u3089\u306a\u3044\u3068\u601d\u3044\u7a1a\u62d9\u3067\u3042\u308b\u3053\u3068\u3092\u81ea\u899a\u3057\u3064\u3064\u3082\u50ed\u8d8a\u306a\u304c\u3089\u516c\u958b\u3059\u308b\u3053\u3068\u3068\u3057\u307e\u3057\u305f\u3002\n\u65e9\u901f\u30b3\u30e1\u30f3\u30c8\u3092\u3044\u305f\u3060\u3051\u516c\u958b\u3057\u3066\u3088\u304b\u3063\u305f\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4eca\u5f8c\u306fXilinx\u4ee5\u4e0a\u306b\u60c5\u5831\u306e\u5c11\u306a\u3044Lattice\u306eMachXO2\u3092\u4f7f\u3063\u3066\u4f5c\u3063\u305fRC\u30a2\u30f3\u30d7\u306b\u3064\u3044\u3066\u5927\u80c6\u516c\u958b\u3057\u3088\u3046\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\u79cb\u6708\u3067\u3082[MachXO2-256](http://akizukidenshi.com/catalog/g/gM-11084/)\u306e\u8ca9\u58f2\u59cb\u307e\u3063\u305f\u3057\u3001\u30a2\u30de\u30c1\u30e5\u30a2\u5411\u3051\u306b\u3082\u826f\u3044\u3068\u601d\u3046\u306e\u3067\u3059\u304c\u3044\u307e\u3044\u3061\u76db\u308a\u4e0a\u304c\u3063\u3066\u306a\u3044\u306e\u304c\u6c17\u304c\u304b\u308a\u3067\u3059\u304b\u3089\u3002\n\n\u3067\u306f\u3002\n", "tags": ["FPGA", "VHDL", "zynq"]}