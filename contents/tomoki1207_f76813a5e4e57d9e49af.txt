{"context": "CoffeeScript\u3067\u6311\u6226\u3057\u305f\u52e2\u3044\u3067\u66f8\u304d\u307e\u3057\u305f\u3002\nmodule.exports = (robot) ->\n  zdk = (zun1)->\n    zun2 = yield zun1 is '\u30ba\u30f3'\n    zun3 = yield zun2 is '\u30ba\u30f3'\n    zun4 = yield zun3 is '\u30ba\u30f3'\n    doko1 = yield zun4 is '\u30ba\u30f3'\n    delete robot.zdk\n    if doko1 is '\u30c9\u30b3' then '\u30ad\u30fb\u30e8\u30fb\u30b7!!' else false\n\n  nextZdk = (input)->\n    robot.zdk.next(input).value\n\n  robot.respond /(\u30ba\u30f3|\u30c9\u30b3)$/i, (msg)->\n    unless robot.zdk\n      robot.zdk = zdk(msg.match[1])\n    res = nextZdk msg.match[1]\n    if typeof res is 'string'\n      msg.send res\n    else\n      unless res\n        delete robot.zdk\n\n\u6700\u5f8c\u306b\u3057\u3083\u3079\u3089\u305b\u308b\u90e8\u5206\u304c\u5fae\u5999\u306a\u6c17\u304c\u3057\u307e\u3059\u306d\u3002\n\u305b\u3063\u304b\u304f\u306a\u306e\u3067Slack\u4e0a\u3067\n\n\n\u8ffd\u8a18\nnpm\u306b\u521d\u6311\u6226\u304c\u3066\u3089\u767b\u9332\u3057\u3066\u307f\u307e\u3057\u305f\u3002\nhttps://www.npmjs.com/package/hubot-zundoko\n\u3054\u81ea\u5206\u306ehubot\u3068\u3082\u30ba\u30f3\u30c9\u30b3\u3057\u305f\u3044!\u3068\u3044\u3046\u65b9\u306f\u305c\u3072\u3002\nhubot\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u305f\u3089\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\n$ npm install --save hubot-zundoko\n$ echo '[\"hubot-zundoko\"]' > external-scripts.json\n\n\u53c2\u8003\nhttp://qiita.com/satzz/items/0a5875fae0f5731cc8f8\nhttp://saihoooooooo.hatenablog.com/entry/2013/12/07/052150\nCoffeeScript\u3067\u6311\u6226\u3057\u305f\u52e2\u3044\u3067\u66f8\u304d\u307e\u3057\u305f\u3002\n\n```coffeescript\nmodule.exports = (robot) ->\n  zdk = (zun1)->\n    zun2 = yield zun1 is '\u30ba\u30f3'\n    zun3 = yield zun2 is '\u30ba\u30f3'\n    zun4 = yield zun3 is '\u30ba\u30f3'\n    doko1 = yield zun4 is '\u30ba\u30f3'\n    delete robot.zdk\n    if doko1 is '\u30c9\u30b3' then '\u30ad\u30fb\u30e8\u30fb\u30b7!!' else false\n\n  nextZdk = (input)->\n    robot.zdk.next(input).value\n\n  robot.respond /(\u30ba\u30f3|\u30c9\u30b3)$/i, (msg)->\n    unless robot.zdk\n      robot.zdk = zdk(msg.match[1])\n    res = nextZdk msg.match[1]\n    if typeof res is 'string'\n      msg.send res\n    else\n      unless res\n        delete robot.zdk\n```\n\n\u6700\u5f8c\u306b\u3057\u3083\u3079\u3089\u305b\u308b\u90e8\u5206\u304c\u5fae\u5999\u306a\u6c17\u304c\u3057\u307e\u3059\u306d\u3002\n\n\u305b\u3063\u304b\u304f\u306a\u306e\u3067Slack\u4e0a\u3067\n![\u7121\u984c.png](https://qiita-image-store.s3.amazonaws.com/0/111100/738ea8cf-c2e0-380f-89c1-fee2f3e7db4d.png)\n\n### \u8ffd\u8a18\nnpm\u306b\u521d\u6311\u6226\u304c\u3066\u3089\u767b\u9332\u3057\u3066\u307f\u307e\u3057\u305f\u3002\nhttps://www.npmjs.com/package/hubot-zundoko\n\n\u3054\u81ea\u5206\u306ehubot\u3068\u3082\u30ba\u30f3\u30c9\u30b3\u3057\u305f\u3044!\u3068\u3044\u3046\u65b9\u306f\u305c\u3072\u3002\nhubot\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u305f\u3089\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\n\n```bash\n$ npm install --save hubot-zundoko\n$ echo '[\"hubot-zundoko\"]' > external-scripts.json\n```\n\n\u53c2\u8003\nhttp://qiita.com/satzz/items/0a5875fae0f5731cc8f8\nhttp://saihoooooooo.hatenablog.com/entry/2013/12/07/052150\n", "tags": ["Hubot", "\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7", "npm", "CoffeeScript"]}