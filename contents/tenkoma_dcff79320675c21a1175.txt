{"context": "\n\u51fa\u529b\u3055\u308c\u305fHTML\u3092\u898b\u305f\u3060\u3051\u3067\u3001Cakephp\u306e\u3069\u306eView\u306e\u5185\u5bb9\u306a\u306e\u304b\u3059\u3050\u306b\u5206\u304b\u308b\u3088\u3046\u306b\u3059\u308b - Qiita\n\n\u4fbf\u5229\u305d\u3046\u3002CakePHP3.x\u5411\u3051\u306b\u66f8\u3044\u3066\u307f\u305f\u3002View::render()\u7cfb\u3092\u62e1\u5f35\u3059\u308c\u3070\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u30b3\u30fc\u30c9\u3092\u5897\u3084\u3055\u306a\u304f\u3066\u3082\u826f\u3055\u305d\u3046\u3002\nView::element() \u2192 View::_renderElement() \u2192 View::_render() \u3068\u3044\u3046\u98a8\u306b\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u305f\u306e\u3067View::_render()\u3092\u62e1\u5f35\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\nsrc/View/AppView.php\n<?php\nnamespace App\\View;\n\nuse Cake\\Core\\Configure;\nuse Cake\\View\\View;\n\nclass AppView extends View\n{\n    /**\n     * {@inheritDoc}\n     */\n    public function initialize()\n    {\n    }\n\n    /**\n     * {@inheritDoc}\n     */\n    protected function _render($viewFile, $data = [])\n    {\n        $content = parent::_render($viewFile, $data);\n        if (Configure::read('debug')) {\n            $content = $this->addViewPathComment($content, $viewFile);\n        }\n        return $content;\n    }\n\n    /**\n     * @param string $content\n     * @param string $viewFile\n     * @return string\n     */\n    public function addViewPathComment($content, $viewFile)\n    {\n        $template = \"<!-- START %s -->\\n%s\\n<!-- END %s -->\";\n        $content = sprintf(\n            $template,\n            $viewFile,\n            $content,\n            $viewFile\n        );\n        return $content;\n    }\n}\n\n\n\n\u52b9\u80fd\n<?php // src/Template/Sample/index.ctp ?>\n<p>This file is index.ctp</p>\n<?= $this->element('element1') ?>\n\n<?php // src/Template/Element/element1.ctp ?>\n<p>This file is element1.ctp</p>\n\n\u3068\u66f8\u304f\u3068\u51fa\u529b\u3055\u308c\u305fHTML\u306f\n<!-- START /var/www/app/src/Template/Layout/default.ctp -->\n<!DOCTYPE html>\n<html>\n\n<!-- \u4e2d\u7565 -->\n\n<!-- START /var/www/app/src/Template/Sample/index.ctp -->\n<p>This file is index.ctp</p>\n<!-- START /var/www/app/src/Template/Element/element1.ctp -->\n<p>This file is element1.ctp</p>\n\n<!-- END /var/www/app/src/Template/Element/element1.ctp -->\n<!-- END /var/www/app/src/Template/Sample/index.ctp -->\n\n<!-- \u4e2d\u7565 -->\n\n</html>\n\n<!-- END /var/www/app/src/Template/Layout/default.ctp -->\n\n\u3068\u306a\u308a\u307e\u3059\u3002\n* [\u51fa\u529b\u3055\u308c\u305fHTML\u3092\u898b\u305f\u3060\u3051\u3067\u3001Cakephp\u306e\u3069\u306eView\u306e\u5185\u5bb9\u306a\u306e\u304b\u3059\u3050\u306b\u5206\u304b\u308b\u3088\u3046\u306b\u3059\u308b - Qiita](http://qiita.com/endam/items/c8128efc487d027e01d0)\n\n\u4fbf\u5229\u305d\u3046\u3002CakePHP3.x\u5411\u3051\u306b\u66f8\u3044\u3066\u307f\u305f\u3002View::render()\u7cfb\u3092\u62e1\u5f35\u3059\u308c\u3070\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u30b3\u30fc\u30c9\u3092\u5897\u3084\u3055\u306a\u304f\u3066\u3082\u826f\u3055\u305d\u3046\u3002\n\n`View::element()` \u2192 `View::_renderElement()` \u2192 `View::_render()` \u3068\u3044\u3046\u98a8\u306b\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u305f\u306e\u3067`View::_render()`\u3092\u62e1\u5f35\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\n## src/View/AppView.php\n\n```php\n<?php\nnamespace App\\View;\n\nuse Cake\\Core\\Configure;\nuse Cake\\View\\View;\n\nclass AppView extends View\n{\n    /**\n     * {@inheritDoc}\n     */\n    public function initialize()\n    {\n    }\n\n    /**\n     * {@inheritDoc}\n     */\n    protected function _render($viewFile, $data = [])\n    {\n        $content = parent::_render($viewFile, $data);\n        if (Configure::read('debug')) {\n            $content = $this->addViewPathComment($content, $viewFile);\n        }\n        return $content;\n    }\n\n    /**\n     * @param string $content\n     * @param string $viewFile\n     * @return string\n     */\n    public function addViewPathComment($content, $viewFile)\n    {\n        $template = \"<!-- START %s -->\\n%s\\n<!-- END %s -->\";\n        $content = sprintf(\n            $template,\n            $viewFile,\n            $content,\n            $viewFile\n        );\n        return $content;\n    }\n}\n\n```\n\n## \u52b9\u80fd\n\n```php\n<?php // src/Template/Sample/index.ctp ?>\n<p>This file is index.ctp</p>\n<?= $this->element('element1') ?>\n\n<?php // src/Template/Element/element1.ctp ?>\n<p>This file is element1.ctp</p>\n```\n\n\u3068\u66f8\u304f\u3068\u51fa\u529b\u3055\u308c\u305fHTML\u306f\n\n```html\n<!-- START /var/www/app/src/Template/Layout/default.ctp -->\n<!DOCTYPE html>\n<html>\n\n<!-- \u4e2d\u7565 -->\n\n<!-- START /var/www/app/src/Template/Sample/index.ctp -->\n<p>This file is index.ctp</p>\n<!-- START /var/www/app/src/Template/Element/element1.ctp -->\n<p>This file is element1.ctp</p>\n\n<!-- END /var/www/app/src/Template/Element/element1.ctp -->\n<!-- END /var/www/app/src/Template/Sample/index.ctp -->\n\n<!-- \u4e2d\u7565 -->\n\n</html>\n\n<!-- END /var/www/app/src/Template/Layout/default.ctp -->\n```\n\n\u3068\u306a\u308a\u307e\u3059\u3002\n", "tags": ["CakePHP", "cakephp3"]}