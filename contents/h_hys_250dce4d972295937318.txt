{"context": " More than 1 year has passed since last update.sidekiq \u306e\u30ed\u30b0\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u65b9\u6cd5\u304c github \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3002\n\u5b8c\u5168\u306b\u72ec\u81ea\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u51fa\u529b\u3057\u305f\u3044\u5834\u5408\u306b\u306f\u9069\u5f53\u306b MyFormatter \u3092\u4f5c\u308c\u3070\u3088\u3044\u304c\u3001\u65e5\u4ed8\u306e\u90e8\u5206\u3060\u3051\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u306b\u306f\u6b21\u306e\u3088\u3046\u306b\u3059\u308c\u3070\u826f\u3055\u305d\u3046\u3002\n\nconfig/initializers/sidekiq.rb\nclass MySidekiqFormatter < Sidekiq::Logging::WithoutTimestamp\n  def call(severity, time, program_name, message)\n    \"#{time.localtime.iso8601(3)} #{super}\"\n  end\nend\n\nSidekiq.configure_server do |config|\n  Sidekiq::Logging.logger.formatter = MySidekiqFormatter.new\n  config.redis = { url: 'redis://localhost:6379/0', namespace: \"sidekiq_#{Rails.env}\" }\nend\n\nSidekiq.configure_client do |config|\n  Sidekiq::Logging.logger.formatter = MySidekiqFormatter.new\n  config.redis = { url: 'redis://localhost:6379/0', namespace: \"sidekiq_#{Rails.env}\" }\nend\n\n\nSidekiq::Logging::WithoutTimestamp \u306f sidekiq \u306e lib/sidekiq/logging.rb \u3092\u53c2\u7167\u3002\nsidekiq \u306e\u30ed\u30b0\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u65b9\u6cd5\u304c [github](https://github.com/mperham/sidekiq/wiki/Logging#customize-logger-format) \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3002\n\u5b8c\u5168\u306b\u72ec\u81ea\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u51fa\u529b\u3057\u305f\u3044\u5834\u5408\u306b\u306f\u9069\u5f53\u306b `MyFormatter` \u3092\u4f5c\u308c\u3070\u3088\u3044\u304c\u3001\u65e5\u4ed8\u306e\u90e8\u5206\u3060\u3051\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u306b\u306f\u6b21\u306e\u3088\u3046\u306b\u3059\u308c\u3070\u826f\u3055\u305d\u3046\u3002\n\n```rb:config/initializers/sidekiq.rb\nclass MySidekiqFormatter < Sidekiq::Logging::WithoutTimestamp\n  def call(severity, time, program_name, message)\n    \"#{time.localtime.iso8601(3)} #{super}\"\n  end\nend\n\nSidekiq.configure_server do |config|\n  Sidekiq::Logging.logger.formatter = MySidekiqFormatter.new\n  config.redis = { url: 'redis://localhost:6379/0', namespace: \"sidekiq_#{Rails.env}\" }\nend\n\nSidekiq.configure_client do |config|\n  Sidekiq::Logging.logger.formatter = MySidekiqFormatter.new\n  config.redis = { url: 'redis://localhost:6379/0', namespace: \"sidekiq_#{Rails.env}\" }\nend\n```\n\n`Sidekiq::Logging::WithoutTimestamp` \u306f sidekiq \u306e [lib/sidekiq/logging.rb]( https://github.com/mperham/sidekiq/blob/master/lib/sidekiq/logging.rb) \u3092\u53c2\u7167\u3002\n", "tags": ["Ruby", "Rails", "sidekiq", "logger"]}