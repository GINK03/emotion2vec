{"tags": ["Unity3D", "C#"], "context": " More than 1 year has passed since last update.Leap Motion\u306e\u6700\u4f4e\u9650\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\n\u6307\u304c\u6709\u52b9\u3067\u3042\u308c\u3070InteractionBox\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3063\u3066LeapMotion\u306e\u5ea7\u6a19\u7cfb\u3092\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u5ea7\u6a19\u7cfb\u306b\u5909\u63db\u3057\u3066\u7403\u4f53\u306b\u30de\u30c3\u30c1\u30f3\u30b0\u3055\u305b\u3066\u3044\u307e\u3059\u3002\nusing UnityEngine;\nusing System.Collections;\nusing Leap;\n\npublic class LeapSample : MonoBehaviour {\n    Controller controller = new Controller(); \n    //\u6307\u306e\u6570\u3092\u30ab\u30a6\u30f3\u30c8\n    public int FingerCount;\n    public GameObject[] FingerObjects;\n\n    // Use this for initialization\n    void Start () {\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        Frame frame = controller.Frame();\n        FingerCount = frame.Fingers.Count;\n        //\u6307\u304c\u6709\u52b9\u3067\u3042\u308c\u3070InteractionBox\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3063\u3066LeapMotion\u306e\u5ea7\u6a19\u7cfb\u3092\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u5ea7\u6a19\u7cfb\u306b\u5909\u63db\u3059\u308b\n        InteractionBox interactionBox = frame.InteractionBox;\n\n        Hand hand = frame.Hands.Rightmost;\n        float strength = hand.GrabStrength;\n        Debug.Log (strength);\n\n        for ( int i = 0; i < FingerObjects.Length; i++ ) {\n            var leapFinger = frame.Fingers[i];\n            var unityFinger = FingerObjects[i];\n            SetVisible( unityFinger, leapFinger.IsValid );\n            if ( leapFinger.IsValid ) {\n                Vector normalizedPosition = interactionBox.NormalizePoint(leapFinger.TipPosition );\n                normalizedPosition *= 10;\n                normalizedPosition.z = -normalizedPosition.z;\n                unityFinger.transform.localPosition = ToVector3( normalizedPosition );\n\n            }\n        }\n    }\n\n    //\u691c\u51fa\u3057\u305f\u6307\u306e\u6709\u52b9/\u7121\u52b9\u72b6\u614b\u3044\u3088\u3063\u3066\u3001Sphere\u306e\u8868\u793a\u3068\u975e\u8868\u793a\u3092\u3059\u308b\u3002\n    void SetVisible( GameObject obj, bool visible )\n    {\n        foreach( Renderer component in obj.GetComponents<Renderer>() ) {\n            component.enabled = visible;\n        }\n    }\n\n    Vector3 ToVector3( Vector v )\n    {\n        return new UnityEngine.Vector3( v.x, v.y, v.z );\n    }\n}\n\n\nInspector\u306e\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\n\n\u5b9f\u884c\u3059\u308b\u3068\u7403\u4f53\u304c\u5ea7\u6a19\u3068\u30de\u30c3\u30c1\u3057\u307e\u3059\u3002\n\nLeap Motion\u306e\u6700\u4f4e\u9650\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\n\u6307\u304c\u6709\u52b9\u3067\u3042\u308c\u3070InteractionBox\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3063\u3066LeapMotion\u306e\u5ea7\u6a19\u7cfb\u3092\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u5ea7\u6a19\u7cfb\u306b\u5909\u63db\u3057\u3066\u7403\u4f53\u306b\u30de\u30c3\u30c1\u30f3\u30b0\u3055\u305b\u3066\u3044\u307e\u3059\u3002\n\n```csharp\nusing UnityEngine;\nusing System.Collections;\nusing Leap;\n\npublic class LeapSample : MonoBehaviour {\n\tController controller = new Controller(); \n\t//\u6307\u306e\u6570\u3092\u30ab\u30a6\u30f3\u30c8\n\tpublic int FingerCount;\n\tpublic GameObject[] FingerObjects;\n\n\t// Use this for initialization\n\tvoid Start () {\n\t}\n\t\n\t// Update is called once per frame\n\tvoid Update()\n\t{\n\t\tFrame frame = controller.Frame();\n\t\tFingerCount = frame.Fingers.Count;\n\t\t//\u6307\u304c\u6709\u52b9\u3067\u3042\u308c\u3070InteractionBox\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3063\u3066LeapMotion\u306e\u5ea7\u6a19\u7cfb\u3092\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u5ea7\u6a19\u7cfb\u306b\u5909\u63db\u3059\u308b\n\t\tInteractionBox interactionBox = frame.InteractionBox;\n\n\t\tHand hand = frame.Hands.Rightmost;\n\t\tfloat strength = hand.GrabStrength;\n\t\tDebug.Log (strength);\n\n\t\tfor ( int i = 0; i < FingerObjects.Length; i++ ) {\n\t\t\tvar leapFinger = frame.Fingers[i];\n\t\t\tvar unityFinger = FingerObjects[i];\n\t\t\tSetVisible( unityFinger, leapFinger.IsValid );\n\t\t\tif ( leapFinger.IsValid ) {\n\t\t\t\tVector normalizedPosition = interactionBox.NormalizePoint(leapFinger.TipPosition );\n\t\t\t\tnormalizedPosition *= 10;\n\t\t\t\tnormalizedPosition.z = -normalizedPosition.z;\n\t\t\t\tunityFinger.transform.localPosition = ToVector3( normalizedPosition );\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\n\t//\u691c\u51fa\u3057\u305f\u6307\u306e\u6709\u52b9/\u7121\u52b9\u72b6\u614b\u3044\u3088\u3063\u3066\u3001Sphere\u306e\u8868\u793a\u3068\u975e\u8868\u793a\u3092\u3059\u308b\u3002\n\tvoid SetVisible( GameObject obj, bool visible )\n\t{\n\t\tforeach( Renderer component in obj.GetComponents<Renderer>() ) {\n\t\t\tcomponent.enabled = visible;\n\t\t}\n\t}\n\n\tVector3 ToVector3( Vector v )\n\t{\n\t\treturn new UnityEngine.Vector3( v.x, v.y, v.z );\n\t}\n}\n\n```\nInspector\u306e\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-08-20 16.16.33.png](https://qiita-image-store.s3.amazonaws.com/0/38279/02e4653c-249d-7148-9844-1ed706a2de56.png)\n\n\u5b9f\u884c\u3059\u308b\u3068\u7403\u4f53\u304c\u5ea7\u6a19\u3068\u30de\u30c3\u30c1\u3057\u307e\u3059\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-08-20 16.19.38.png](https://qiita-image-store.s3.amazonaws.com/0/38279/77157219-84ea-82c0-4f80-01707954b8f0.png)\n\n\n"}