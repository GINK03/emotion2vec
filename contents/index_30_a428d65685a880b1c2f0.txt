{"context": "\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u308b\u554f\u984c(\u305d\u306e1)\nbuild.sbt\u306b\u3066\n\nbuild.sbt\nlibraryDependencies ++= Seq(\n  \"org.apache.spark\" %% \"spark-core\" % \"1.5.2\",\n  \"org.apache.spark\" % \"spark-streaming_2.11\" % \"1.5.2\",\n  \"org.apache.spark\" %% \"spark-sql\" % \"1.5.0\",\n  \"com.datastax.spark\" %% \"spark-cassandra-connector\" % \"1.5.0-M2\"\n)\n\n\n\u3053\u3093\u306a\u611f\u3058\u3067sparkSQL\u306e\u307f\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u82e5\u5e72\u7570\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u3002\u300c\u307e\u3042\u306a\u3093\u3068\u304b\u3057\u3066\u304f\u308c\u308b\u3067\u3057\u3087\u300d\u3068\u6162\u5fc3\u3057\u3066\u3044\u308b\u3068\n[error] (run-main-0) java.lang.NoClassDefFoundError: org/apache/spark/sql/SQLContext\njava.lang.NoClassDefFoundError: org/apache/spark/sql/SQLContext\n...\n\n\u3063\u3066\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u4e00\u898b\u3059\u308b\u3068\u305d\u3093\u306a\u30af\u30e9\u30b9\u898b\u3064\u304b\u3089\u306a\u3044\u3088!!\u3063\u3066\u8a00\u308f\u308c\u3066\u308b\u3068\u601d\u3046\u306e\u3067\u305f\u3060\u306e\u6253\u3061\u9593\u9055\u3044\u306b\u601d\u3048\u307e\u3059\u304c\u3001\u3053\u306e\u5834\u5408\u306f\u305f\u3060\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u5b9a\u7fa9\u30df\u30b9\u306e\u3088\u3046\u3067\u3059\u3002\u5927\u4eba\u3057\u304f\u5168\u3066\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u7d71\u4e00\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u308b\u554f\u984c(\u305d\u306e2)\n\u4eca\u5ea6\u306f\u3061\u3083\u3093\u3068\u4e0b\u306e\u3088\u3046\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u63c3\u3048\u307e\u3057\u305f\u3002\u4f9d\u5b58\u95a2\u4fc2\u3067\u6012\u3089\u308c\u308b\u4e8b\u3082\u306a\u3044\u3057\u5b8c\u74a7\u3067\u3059\u3002\n\nbuild.sbt\nlibraryDependencies ++= Seq(\n  \"org.apache.spark\" %% \"spark-core\" % \"1.5.2\",\n  \"org.apache.spark\" % \"spark-streaming_2.11\" % \"1.5.2\",\n  \"org.apache.spark\" %% \"spark-sql\" % \"1.5.2\",\n  \"com.datastax.spark\" %% \"spark-cassandra-connector\" % \"1.5.0-M2\"\n\n\n\u3068\u3044\u3046\u4e8b\u3067\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u52d5\u304b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\n\nTest.scala\nimport org.apache.spark.{SparkConf,SparkContext}\nimport org.apache.spark.streaming.{Time, Durations, Seconds, StreamingContext}\nimport org.apache.spark.sql.cassandra.CassandraSQLContext\nimport com.datastax.spark.connector._\n\n...\n\n  def main(args: Array[String]){\n\n    val conf = new SparkConf(true)...\n\n    val sc = new SparkContext(conf)\n\n    val cc = new CassandraSQLContext(sc)\n\n    val rdd = cc.sql(\"SELECT * FROM keyspace.table\")\n\n  }\n}\n\n\nsbt run\u3092\u884c\u3046\u3068build\u3067\u306f\u6587\u53e5\u3092\u8a00\u308f\u308c\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u305d\u308c\u306a\u3089\u4e0a\u624b\u304f\u5b9f\u884c\u3055\u308c\u308b\u3067\u3057\u3087\u3046\n\u3068\u3001\u51fa\u3066\u304d\u305f\u7d50\u679c\u304c\u3053\u3061\u3089\n[error] (run-main-0) com.google.common.util.concurrent.ExecutionError: java.lang.NoSuchMethodError: org.apache.spark.sql.execution.datasources.LogicalRelation.<init>(Lorg/apache/spark/sql/sources/BaseRelation;)V\ncom.google.common.util.concurrent.ExecutionError: java.lang.NoSuchMethodError: org.apache.spark.sql.execution.datasources.LogicalRelation.<init>(Lorg/apache/spark/sql/sources/BaseRelation;)V\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2199)\n...\n\n...\u4f55\u30b3\u30ec\u3002\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u4f55\u3092\u4f1d\u3048\u305f\u3044\u306e\u304b\u304c\u5168\u304f\u308f\u304b\u3089\u306a\u3044...\n\u3053\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8a73\u7d30\u306f\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u306e\u3067\u8ab0\u304b\u6559\u3048\u3066\u6b32\u3057\u3044\u3067\u3059\u304c\u3001\u6050\u3089\u304f\u3053\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3053\u306eSparkSQL\u3092\u7528\u3044\u305f\u30b3\u30fc\u30c9\u3092\u52d5\u304b\u3059\u3068\u5bfe\u5fdc\u51fa\u6765\u306a\u3044\u3088!\u3068\u4f1d\u3048\u3066\u3044\u308b\u306e\u3060\u3068\u601d\u3044\u307e\u3059\n\u5168\u90e8\u3092\u78ba\u304b\u3081\u3066\u306f\u3044\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u5225\u306e\u30d0\u30fc\u30b8\u30e7\u30f3(\u4f8b\u3048\u30701.4.1)\u3067\u5b9f\u884c\u3059\u308b\u3068\u6b63\u3057\u304f\u5b9f\u884c\u3055\u308c\u307e\u3059\n\u305d\u306e1\u306f\u307e\u3060Spark\u306b\u6163\u308c\u3066\u3044\u306a\u3044\u3093\u3060\u306a\u3042()\u3067\u6e08\u307f\u307e\u3059\u304c\u3001\u3053\u3063\u3061\u306f\u306a\u3093\u304b\u3082\u3046\u304a\u624b\u4e0a\u3052\u3063\u3066\u611f\u3058\u3067\u3057\u305f\u3002\u5148\u4eba\u304c\u9811\u5f35\u3063\u3066\u304f\u308c\u306a\u304b\u3063\u305f\u3089\u4eca\u3082\u308f\u304b\u3089\u306a\u3044\u307e\u307e\u60a9\u3093\u3067\u308b\u3068\u3053\u3067\u3057\u305f\u3002\n\n\u4e0d\u660e(\u306a\u3093\u3067\u8d77\u304d\u308b\u304b\u5206\u304b\u308b\u65b9\u304a\u9858\u3044\u3057\u307e\u3059)\nProvisionException: Unable to provision, see the following errors:\n\n1) Error injecting constructor, com.fasterxml.jackson.databind.JsonMappingException: Could not find creator property with name 'id' (in class org.apache.spark.rdd.RDDOperationScope)\n at [Source: {\"id\":\"0\",\"name\":\"mapPartitions\"}; line: 1, column: 1]\n  at controllers.Application.<init>(Application.scala:18)\n  while locating controllers.Application\n    for parameter 1 at router.Routes.<init>(Routes.scala:31)\n  while locating router.Routes\n  while locating play.api.inject.RoutesProvider\n  while locating play.api.routing.Router\n\n\nPlay framework\u3067\u904a\u3093\u3067\u3044\u305f\u3089\u3053\u3093\u306a\u4e8b\u614b\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u4f55\u6545\u3053\u3046\u306a\u3063\u305f\u304b(\u6050\u3089\u304fJSON\u5468\u308a\u3060\u3068\u601d\u3044\u307e\u3059\u304c)\u3001\u3069\u3053\u306e\u305b\u3044\u306a\u306e\u304b\u5168\u304f\u5206\u304b\u3089\u306a\u3044\u3067\u3059\u3002\u305f\u3060\u5148\u4eba\u69d8\u304c\n\nbuild.sbt\ndependencyOverrides ++= Set(\n  \"com.fasterxml.jackson.core\" % \"jackson-databind\" % \"2.4.4\"\n)\n\n\n\u3092\u52a0\u3048\u3066\u3089\u3057\u305f\u306e\u3067\u8a66\u3057\u306b\u52a0\u3048\u3066\u307f\u305f\u3089\u7121\u4e8b\u52d5\u304d\u307e\u3057\u305f...\u306a\u3093\u306a\u3093\u3060\u3053\u308c...\n\u8abf\u3079\u3066\u5206\u304b\u3063\u305f\u3089\u307e\u305f\u6539\u3081\u3066\u66f4\u65b0\u3057\u307e\u3059\u3002\n\u968f\u6642\u30b3\u30e1\u30f3\u30c8\u7b49\u3042\u308a\u307e\u3057\u305f\u3089\u53cd\u5fdc\u3057\u307e\u3059\u306e\u3067\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n#\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u308b\u554f\u984c(\u305d\u306e1)\nbuild.sbt\u306b\u3066\n\n```build.sbt\nlibraryDependencies ++= Seq(\n  \"org.apache.spark\" %% \"spark-core\" % \"1.5.2\",\n  \"org.apache.spark\" % \"spark-streaming_2.11\" % \"1.5.2\",\n  \"org.apache.spark\" %% \"spark-sql\" % \"1.5.0\",\n  \"com.datastax.spark\" %% \"spark-cassandra-connector\" % \"1.5.0-M2\"\n)\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067sparkSQL\u306e\u307f\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u82e5\u5e72\u7570\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u3002\u300c\u307e\u3042\u306a\u3093\u3068\u304b\u3057\u3066\u304f\u308c\u308b\u3067\u3057\u3087\u300d\u3068\u6162\u5fc3\u3057\u3066\u3044\u308b\u3068\n\n```\n[error] (run-main-0) java.lang.NoClassDefFoundError: org/apache/spark/sql/SQLContext\njava.lang.NoClassDefFoundError: org/apache/spark/sql/SQLContext\n...\n```\n\n\u3063\u3066\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u4e00\u898b\u3059\u308b\u3068\u305d\u3093\u306a\u30af\u30e9\u30b9\u898b\u3064\u304b\u3089\u306a\u3044\u3088!!\u3063\u3066\u8a00\u308f\u308c\u3066\u308b\u3068\u601d\u3046\u306e\u3067\u305f\u3060\u306e\u6253\u3061\u9593\u9055\u3044\u306b\u601d\u3048\u307e\u3059\u304c\u3001\u3053\u306e\u5834\u5408\u306f\u305f\u3060\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u5b9a\u7fa9\u30df\u30b9\u306e\u3088\u3046\u3067\u3059\u3002\u5927\u4eba\u3057\u304f\u5168\u3066\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u7d71\u4e00\u3057\u307e\u3057\u3087\u3046\u3002\n\n#\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u308b\u554f\u984c(\u305d\u306e2)\n\u4eca\u5ea6\u306f\u3061\u3083\u3093\u3068\u4e0b\u306e\u3088\u3046\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u63c3\u3048\u307e\u3057\u305f\u3002\u4f9d\u5b58\u95a2\u4fc2\u3067\u6012\u3089\u308c\u308b\u4e8b\u3082\u306a\u3044\u3057\u5b8c\u74a7\u3067\u3059\u3002\n\n```build.sbt\nlibraryDependencies ++= Seq(\n  \"org.apache.spark\" %% \"spark-core\" % \"1.5.2\",\n  \"org.apache.spark\" % \"spark-streaming_2.11\" % \"1.5.2\",\n  \"org.apache.spark\" %% \"spark-sql\" % \"1.5.2\",\n  \"com.datastax.spark\" %% \"spark-cassandra-connector\" % \"1.5.0-M2\"\n```\n\n\u3068\u3044\u3046\u4e8b\u3067\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u52d5\u304b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\n\n```Test.scala\nimport org.apache.spark.{SparkConf,SparkContext}\nimport org.apache.spark.streaming.{Time, Durations, Seconds, StreamingContext}\nimport org.apache.spark.sql.cassandra.CassandraSQLContext\nimport com.datastax.spark.connector._\n\n...\n\n  def main(args: Array[String]){\n\n    val conf = new SparkConf(true)...\n\n    val sc = new SparkContext(conf)\n\n    val cc = new CassandraSQLContext(sc)\n\n    val rdd = cc.sql(\"SELECT * FROM keyspace.table\")\n\n  }\n}\n```\n\nsbt run\u3092\u884c\u3046\u3068build\u3067\u306f\u6587\u53e5\u3092\u8a00\u308f\u308c\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u305d\u308c\u306a\u3089\u4e0a\u624b\u304f\u5b9f\u884c\u3055\u308c\u308b\u3067\u3057\u3087\u3046\n\u3068\u3001\u51fa\u3066\u304d\u305f\u7d50\u679c\u304c\u3053\u3061\u3089\n\n```\n[error] (run-main-0) com.google.common.util.concurrent.ExecutionError: java.lang.NoSuchMethodError: org.apache.spark.sql.execution.datasources.LogicalRelation.<init>(Lorg/apache/spark/sql/sources/BaseRelation;)V\ncom.google.common.util.concurrent.ExecutionError: java.lang.NoSuchMethodError: org.apache.spark.sql.execution.datasources.LogicalRelation.<init>(Lorg/apache/spark/sql/sources/BaseRelation;)V\n\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2199)\n...\n```\n\n...\u4f55\u30b3\u30ec\u3002\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u4f55\u3092\u4f1d\u3048\u305f\u3044\u306e\u304b\u304c\u5168\u304f\u308f\u304b\u3089\u306a\u3044...\n\u3053\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8a73\u7d30\u306f\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u306e\u3067\u8ab0\u304b\u6559\u3048\u3066\u6b32\u3057\u3044\u3067\u3059\u304c\u3001\u6050\u3089\u304f\u3053\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3053\u306eSparkSQL\u3092\u7528\u3044\u305f\u30b3\u30fc\u30c9\u3092\u52d5\u304b\u3059\u3068\u5bfe\u5fdc\u51fa\u6765\u306a\u3044\u3088!\u3068\u4f1d\u3048\u3066\u3044\u308b\u306e\u3060\u3068\u601d\u3044\u307e\u3059\n\u5168\u90e8\u3092\u78ba\u304b\u3081\u3066\u306f\u3044\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u5225\u306e\u30d0\u30fc\u30b8\u30e7\u30f3(\u4f8b\u3048\u30701.4.1)\u3067\u5b9f\u884c\u3059\u308b\u3068\u6b63\u3057\u304f\u5b9f\u884c\u3055\u308c\u307e\u3059\n\u305d\u306e1\u306f\u307e\u3060Spark\u306b\u6163\u308c\u3066\u3044\u306a\u3044\u3093\u3060\u306a\u3042()\u3067\u6e08\u307f\u307e\u3059\u304c\u3001\u3053\u3063\u3061\u306f\u306a\u3093\u304b\u3082\u3046\u304a\u624b\u4e0a\u3052\u3063\u3066\u611f\u3058\u3067\u3057\u305f\u3002\u5148\u4eba\u304c\u9811\u5f35\u3063\u3066\u304f\u308c\u306a\u304b\u3063\u305f\u3089\u4eca\u3082\u308f\u304b\u3089\u306a\u3044\u307e\u307e\u60a9\u3093\u3067\u308b\u3068\u3053\u3067\u3057\u305f\u3002\n\n#\u4e0d\u660e(\u306a\u3093\u3067\u8d77\u304d\u308b\u304b\u5206\u304b\u308b\u65b9\u304a\u9858\u3044\u3057\u307e\u3059)\n```\nProvisionException: Unable to provision, see the following errors:\n\n1) Error injecting constructor, com.fasterxml.jackson.databind.JsonMappingException: Could not find creator property with name 'id' (in class org.apache.spark.rdd.RDDOperationScope)\n at [Source: {\"id\":\"0\",\"name\":\"mapPartitions\"}; line: 1, column: 1]\n  at controllers.Application.<init>(Application.scala:18)\n  while locating controllers.Application\n    for parameter 1 at router.Routes.<init>(Routes.scala:31)\n  while locating router.Routes\n  while locating play.api.inject.RoutesProvider\n  while locating play.api.routing.Router\n\n```\n\nPlay framework\u3067\u904a\u3093\u3067\u3044\u305f\u3089\u3053\u3093\u306a\u4e8b\u614b\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u4f55\u6545\u3053\u3046\u306a\u3063\u305f\u304b(\u6050\u3089\u304fJSON\u5468\u308a\u3060\u3068\u601d\u3044\u307e\u3059\u304c)\u3001\u3069\u3053\u306e\u305b\u3044\u306a\u306e\u304b\u5168\u304f\u5206\u304b\u3089\u306a\u3044\u3067\u3059\u3002\u305f\u3060\u5148\u4eba\u69d8\u304c\n\n```build.sbt\ndependencyOverrides ++= Set(\n  \"com.fasterxml.jackson.core\" % \"jackson-databind\" % \"2.4.4\"\n)\n```\n\n\u3092\u52a0\u3048\u3066\u3089\u3057\u305f\u306e\u3067\u8a66\u3057\u306b\u52a0\u3048\u3066\u307f\u305f\u3089\u7121\u4e8b\u52d5\u304d\u307e\u3057\u305f...\u306a\u3093\u306a\u3093\u3060\u3053\u308c...\n\u8abf\u3079\u3066\u5206\u304b\u3063\u305f\u3089\u307e\u305f\u6539\u3081\u3066\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n\n\u968f\u6642\u30b3\u30e1\u30f3\u30c8\u7b49\u3042\u308a\u307e\u3057\u305f\u3089\u53cd\u5fdc\u3057\u307e\u3059\u306e\u3067\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n", "tags": ["Spark", "Scala", "sparksql", "PlayFramework"]}