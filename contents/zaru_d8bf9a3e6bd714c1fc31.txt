{"context": " More than 1 year has passed since last update.\u6700\u8fd1\u6d41\u884c\u308a\u306eHTTP/2\u3092\u3001\u3053\u308c\u307e\u305f\u6700\u8fd1\u6d41\u884c\u308a\u306eWeb\u30b5\u30fc\u30d0h2o\u3067\u8a66\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\u76ee\u7684\u3068\u3057\u3066\u306f\u3001HTTP/2\u3067\u540c\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u6570\u3092\u3050\u30fc\u3093\u3068\u4e0a\u3052\u3066Web\u30da\u30fc\u30b8\u306e\u8868\u793a\u901f\u5ea6\u9ad8\u901f\u5316\u3067\u3059\u3002HTTP/2\u306b\u3064\u3044\u3066\u306f\u3001\u4e0b\u8a18\u30b9\u30e9\u30a4\u30c9\u304c\u975e\u5e38\u306b\u308f\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002\n\nHTTP/2\u306e\u73fe\u72b6\u3068\u3053\u308c\u304b\u3089\n\n\n\u524d\u63d0\n\nCentOS 6.6\nh2o v1.4.2\nPerl v5.22\n\n\nh2o\u3092\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\n$ sudo yum install -y gcc gcc-c++ curl curl-devel openssl-devel zlib-devel libarchive libarchive-devel expat expat-devel perl-core\n$ wget http://www.cmake.org/files/v3.0/cmake-3.0.2.tar.gz\n$ tar -xvf cmake-3.0.2.tar.gz\n$ cd cmake-3.0.2\n$ ./bootstrap --prefix=/usr --system-libs --mandir=/share/man --docdir=/share/doc/cmake-3.0.2\n$ make\n$ sudo make install\n$ wget http://pyyaml.org/download/libyaml/yaml-0.1.5.tar.gz\n$ tar -xvf yaml-0.1.5.tar.gz\n$ cd yaml-0.1.5\n$ ./configure\n$ make\n$ sudo make install\n\n\nh2o\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ git clone https://github.com/h2o/h2o.git\n$ cd h2o\n$ git submodule update --init --recursive\n$ cmake .\n$ make h2o\n$ sudo make install\n\n\nPerl\u30925.20\u4ee5\u4e0a\u3078\nPerl\u304cv5.20\u4ee5\u4e0a\u3058\u3083\u306a\u3044\u3068IPv6\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u304a\u3001\u3063\u3066\u6012\u3089\u308c\u308b\u306e\u3067\u30bd\u30fc\u30b9\u304b\u3089\u6700\u65b0\u306ePerl\u3092\u5165\u308c\u3066\u307f\u307e\u3059\u3002\n$ wget http://www.cpan.org/src/5.0/perl-5.22.0.tar.gz\n$ tar zxvf perl-5.22.0.tar.gz\n$ cd perl-5.22.0\n$ ./configure.gnu\n$ make\n$ sudo make install\n$ /usr/local/bin/perl -v\n\nThis is perl 5, version 22, subversion 0 (v5.22.0) built for x86_64-linux\n\nCopyright 1987-2015, Larry Wall\n\nPerl may be copied only under the terms of either the Artistic License or the\nGNU General Public License, which may be found in the Perl 5 source kit.\n\nComplete documentation for Perl, including FAQ lists, should be found on\nthis system using \"man perl\" or \"perldoc perl\".  If you have access to the\nInternet, point your browser at http://www.perl.org/, the Perl Home Page.\n\n$ sudo ln -s /usr/local/bin/perl /usr/bin/perl\n\n\nh2o\u306e\u8a2d\u5b9a\n\u3042\u3068\u306f\u3001h2o\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3042\u3052\u307e\u3059\u3002YAML\u5f62\u5f0f\u3067\u975e\u5e38\u306b\u7c21\u5358\u306b\u304b\u3051\u307e\u3059\u3002\u6163\u308c\u308c\u3070nginx\u3088\u308a\u3082\u7c21\u5358\u305d\u3046\u306b\u898b\u3048\u308b\u3002\n\n/usr/local/etc/h2o/h2o.conf\npid-file: /var/run/h2o.pid\nerror-log: /var/log/h2o/error.log\nhttp2-reprioritize-blocking-assets: ON\nmax-connections: 1024\nnum-threads: 1\n\nlisten: 80\nlisten:\n  port: 443\n  ssl:\n    certificate-file: /etc/httpd/conf/ssl/example.com.join.crt\n    key-file: /etc/httpd/conf/ssl/example.com.key\n\nhosts:\n  \"local.example.com:80\":\n    paths:\n      /:\n        file.dir: /vagrant/example.com/htdocs\n    access-log: \n      path: \"|/usr/sbin/rotatelogs /var/log/h2o/access_log-%Y-%m-%d 3600\"\n      format: \"%h %l %u %t \\\"%r\\\" %s %b \\\"%{Referer}i\\\" \\\"%{User-agent}i\\\"\"\n  \"local.example.com:443\":\n    listen:\n      port: 443\n      ssl:\n        certificate-file: /etc/httpd/conf/ssl/example.com.join.crt\n        key-file: /etc/httpd/conf/ssl/example.com.key\n    paths:\n      /:\n        file.dir: /vagrant/example.com/htdocs\n    access-log: \n      path: \"|/usr/sbin/rotatelogs /var/log/h2o/access_log-%Y-%m-%d 3600\"\n      format: \"%h %l %u %t \\\"%r\\\" %s %b \\\"%{Referer}i\\\" \\\"%{User-agent}i\\\"\"\n\n\n\nh2o\u306e\u8d77\u52d5\u3068\u505c\u6b62\n$ sudo /usr/local/bin/h2o -m daemon -c /usr/local/etc/h2o/h2o.conf\n$ sudo kill -TERM `cat /var/run/h2o.pid`\n\n\nHTTP/1.1\u3068HTTP/2\u306e\u6bd4\u8f03\nChrome\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u4e00\u89a7\u3092\u898b\u3066\u307f\u308b\u3002\n\nHTTP/1.1\n\n\nHTTP/2\n\n\u5b9f\u969b\u306b\u3001\u3069\u308c\u304f\u3089\u3044\u306e\u8868\u793a\u901f\u5ea6\u304c\u9ad8\u901f\u5316\u3055\u308c\u305f\u304b\u3068\u3044\u3046\u3068\u3001HTTP/1.1\u3067\u8868\u793a\u5b8c\u4e86\u307e\u3067\u306b3\u79d2\u5f31\u304b\u304b\u3063\u3066\u3044\u305f\u306e\u304c\u30012\u79d2\u307b\u3069\u306b\u307e\u3067\u7e2e\u307e\u308a\u307e\u3057\u305f\u3002\u5b9f\u969b\u306b\u3001\u3069\u308c\u304f\u3089\u3044\u306e\u52b9\u679c\u304c\u3042\u308b\u304b\u306f\u3082\u3063\u3068\u691c\u8a3c\u3057\u305f\u307b\u3046\u304c\u826f\u3055\u305d\u3046\u3002\n\nHTTP/2\u5bfe\u5fdc\u30d6\u30e9\u30a6\u30b6\nWikipedia\u306b\u3088\u308b\u3068\u3001\u4e0b\u8a18\u30d6\u30e9\u30a6\u30b6\u304c\u5bfe\u5fdc\u6e08\u307f\u3002\n\nGoogle Chrome (30\u306f\u8a2d\u5b9a\u304c\u5fc5\u8981\uff09\nMozilla Firefox (34\u304b\u3089\u6a19\u6e96\u3067\u6709\u52b9)\nInternet Explorer 11 on Windows 10\nMicrosoft Edge\nOpera\n\n\n\u6700\u8fd1\u6d41\u884c\u308a\u306eHTTP/2\u3092\u3001\u3053\u308c\u307e\u305f\u6700\u8fd1\u6d41\u884c\u308a\u306eWeb\u30b5\u30fc\u30d0h2o\u3067\u8a66\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\u76ee\u7684\u3068\u3057\u3066\u306f\u3001HTTP/2\u3067\u540c\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u6570\u3092\u3050\u30fc\u3093\u3068\u4e0a\u3052\u3066Web\u30da\u30fc\u30b8\u306e\u8868\u793a\u901f\u5ea6\u9ad8\u901f\u5316\u3067\u3059\u3002HTTP/2\u306b\u3064\u3044\u3066\u306f\u3001\u4e0b\u8a18\u30b9\u30e9\u30a4\u30c9\u304c\u975e\u5e38\u306b\u308f\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002\n\n- [HTTP/2\u306e\u73fe\u72b6\u3068\u3053\u308c\u304b\u3089](http://www.slideshare.net/shigeki_ohtsu/http2-ohtsu-html5conf2015)\n\n## \u524d\u63d0\n\n- CentOS 6.6\n- h2o v1.4.2\n- Perl v5.22\n\n## h2o\u3092\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\n\n```\n$ sudo yum install -y gcc gcc-c++ curl curl-devel openssl-devel zlib-devel libarchive libarchive-devel expat expat-devel perl-core\n$ wget http://www.cmake.org/files/v3.0/cmake-3.0.2.tar.gz\n$ tar -xvf cmake-3.0.2.tar.gz\n$ cd cmake-3.0.2\n$ ./bootstrap --prefix=/usr --system-libs --mandir=/share/man --docdir=/share/doc/cmake-3.0.2\n$ make\n$ sudo make install\n$ wget http://pyyaml.org/download/libyaml/yaml-0.1.5.tar.gz\n$ tar -xvf yaml-0.1.5.tar.gz\n$ cd yaml-0.1.5\n$ ./configure\n$ make\n$ sudo make install\n```\n\n## h2o\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ git clone https://github.com/h2o/h2o.git\n$ cd h2o\n$ git submodule update --init --recursive\n$ cmake .\n$ make h2o\n$ sudo make install\n```\n\n## Perl\u30925.20\u4ee5\u4e0a\u3078\n\nPerl\u304cv5.20\u4ee5\u4e0a\u3058\u3083\u306a\u3044\u3068IPv6\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u304a\u3001\u3063\u3066\u6012\u3089\u308c\u308b\u306e\u3067\u30bd\u30fc\u30b9\u304b\u3089\u6700\u65b0\u306ePerl\u3092\u5165\u308c\u3066\u307f\u307e\u3059\u3002\n\n```\n$ wget http://www.cpan.org/src/5.0/perl-5.22.0.tar.gz\n$ tar zxvf perl-5.22.0.tar.gz\n$ cd perl-5.22.0\n$ ./configure.gnu\n$ make\n$ sudo make install\n$ /usr/local/bin/perl -v\n\nThis is perl 5, version 22, subversion 0 (v5.22.0) built for x86_64-linux\n\nCopyright 1987-2015, Larry Wall\n\nPerl may be copied only under the terms of either the Artistic License or the\nGNU General Public License, which may be found in the Perl 5 source kit.\n\nComplete documentation for Perl, including FAQ lists, should be found on\nthis system using \"man perl\" or \"perldoc perl\".  If you have access to the\nInternet, point your browser at http://www.perl.org/, the Perl Home Page.\n\n$ sudo ln -s /usr/local/bin/perl /usr/bin/perl\n```\n\n## h2o\u306e\u8a2d\u5b9a\n\n\u3042\u3068\u306f\u3001h2o\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3042\u3052\u307e\u3059\u3002YAML\u5f62\u5f0f\u3067\u975e\u5e38\u306b\u7c21\u5358\u306b\u304b\u3051\u307e\u3059\u3002\u6163\u308c\u308c\u3070nginx\u3088\u308a\u3082\u7c21\u5358\u305d\u3046\u306b\u898b\u3048\u308b\u3002\n\n```/usr/local/etc/h2o/h2o.conf\npid-file: /var/run/h2o.pid\nerror-log: /var/log/h2o/error.log\nhttp2-reprioritize-blocking-assets: ON\nmax-connections: 1024\nnum-threads: 1\n\nlisten: 80\nlisten:\n  port: 443\n  ssl:\n    certificate-file: /etc/httpd/conf/ssl/example.com.join.crt\n    key-file: /etc/httpd/conf/ssl/example.com.key\n    \nhosts:\n  \"local.example.com:80\":\n    paths:\n      /:\n        file.dir: /vagrant/example.com/htdocs\n    access-log: \n      path: \"|/usr/sbin/rotatelogs /var/log/h2o/access_log-%Y-%m-%d 3600\"\n      format: \"%h %l %u %t \\\"%r\\\" %s %b \\\"%{Referer}i\\\" \\\"%{User-agent}i\\\"\"\n  \"local.example.com:443\":\n    listen:\n      port: 443\n      ssl:\n        certificate-file: /etc/httpd/conf/ssl/example.com.join.crt\n        key-file: /etc/httpd/conf/ssl/example.com.key\n    paths:\n      /:\n        file.dir: /vagrant/example.com/htdocs\n    access-log: \n      path: \"|/usr/sbin/rotatelogs /var/log/h2o/access_log-%Y-%m-%d 3600\"\n      format: \"%h %l %u %t \\\"%r\\\" %s %b \\\"%{Referer}i\\\" \\\"%{User-agent}i\\\"\"\n```\n\n## h2o\u306e\u8d77\u52d5\u3068\u505c\u6b62\n\n```\n$ sudo /usr/local/bin/h2o -m daemon -c /usr/local/etc/h2o/h2o.conf\n$ sudo kill -TERM `cat /var/run/h2o.pid`\n```\n\n## HTTP/1.1\u3068HTTP/2\u306e\u6bd4\u8f03\n\nChrome\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u4e00\u89a7\u3092\u898b\u3066\u307f\u308b\u3002\n\n### HTTP/1.1\n\n![http:1.1.png](https://qiita-image-store.s3.amazonaws.com/0/2152/8f6891f3-8f35-b467-5884-bd980d1e9736.png \"http:1.1.png\")\n\n### HTTP/2\n\n![http:2.png](https://qiita-image-store.s3.amazonaws.com/0/2152/dc316ba0-e645-2799-73e0-c77b8d90612d.png \"http:2.png\")\n\n\u5b9f\u969b\u306b\u3001\u3069\u308c\u304f\u3089\u3044\u306e\u8868\u793a\u901f\u5ea6\u304c\u9ad8\u901f\u5316\u3055\u308c\u305f\u304b\u3068\u3044\u3046\u3068\u3001HTTP/1.1\u3067\u8868\u793a\u5b8c\u4e86\u307e\u3067\u306b3\u79d2\u5f31\u304b\u304b\u3063\u3066\u3044\u305f\u306e\u304c\u30012\u79d2\u307b\u3069\u306b\u307e\u3067\u7e2e\u307e\u308a\u307e\u3057\u305f\u3002\u5b9f\u969b\u306b\u3001\u3069\u308c\u304f\u3089\u3044\u306e\u52b9\u679c\u304c\u3042\u308b\u304b\u306f\u3082\u3063\u3068\u691c\u8a3c\u3057\u305f\u307b\u3046\u304c\u826f\u3055\u305d\u3046\u3002\n\n## HTTP/2\u5bfe\u5fdc\u30d6\u30e9\u30a6\u30b6\n\nWikipedia\u306b\u3088\u308b\u3068\u3001\u4e0b\u8a18\u30d6\u30e9\u30a6\u30b6\u304c\u5bfe\u5fdc\u6e08\u307f\u3002\n\n- Google Chrome (30\u306f\u8a2d\u5b9a\u304c\u5fc5\u8981\uff09\n- Mozilla Firefox (34\u304b\u3089\u6a19\u6e96\u3067\u6709\u52b9)\n- Internet Explorer 11 on Windows 10\n- Microsoft Edge\n- Opera\n", "tags": ["h2o", "http2"]}