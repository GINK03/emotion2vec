{"context": " More than 1 year has passed since last update.\n\nHubot | \u81ea\u4f5cScript |  Hubot \u3067 \u300c\u4eca\u65e5\u306f\u4f55\u306e\u65e5\u300dAPI \u306e\u7d50\u679c\u3092\u53d6\u5f97\u3059\u308b\n\n\u6982\u8981\nHubot \u3067 \u300c\u4eca\u65e5\u306f\u4f55\u306e\u65e5\u300dAPI \u306e\u7d50\u679c\u3092\u53d6\u5f97\u3057\u307e\u3059\n\n\u6a5f\u80fd\n\nMMDD \u3067\u65e5\u6642\u3092\u6307\u5b9a\u3067\u304d\u308b\ndekigoto / tanjyoubi / imibi / kinenbi \u3092\u6307\u5b9a\u53ef\u80fd\uff08\u30ad\u30fc\u540d\u306f \u300c\u4eca\u65e5\u306f\u4f55\u306e\u65e5\u300dAPI \u306e\u30ad\u30fc\u540d\u306e\u307e\u307e\uff09\n\u7d50\u679c\u306e\u30ea\u30b9\u30c8\u304b\u3089\u30e9\u30f3\u30c0\u30e0\u3067\u4e00\u4ef6\u53d6\u5f97\u3059\u308b\nWikipedia\u306eURL\u3092\u8868\u793a\u3059\u308b\n\n\n\u6b63\u898f\u8868\u73fe\n/daytopic (\\d{4}){1} (.*)$/i\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\ndaytopic.coffee\n# Description\n#   Output daytopic\n#\n# Dependencies:\n#   None\n#\n# Configuration:\n#   None\n#\n# Commands:\n#   hubot daytopic <MMDD> dekigoto... - Output daytopic dekigoto\n#   hubot daytopic <MMDD> tanjyoubi... - Output daytopic tanjyoubi\n#   hubot daytopic <MMDD> imibi... - Output daytopic imibi\n#   hubot daytopic <MMDD> kinenbi... - Output daytopic kinenbi\nxml2js = require('xml2js')\nparseXML = xml2js.parseString\nmodule.exports = (robot) ->\n  robot.respond /daytopic (\\d{4}){1} (.*)$/i, (msg) ->\n    month_day = msg.match[1]\n    category = msg.match[2]\n    if (['dekigoto', 'tanjyoubi', 'imibi', 'kinenbi'].indexOf(category) < 0)\n        category = 'dekigoto'\n\n    robot.http(\"http://www.mizunotomoaki.com/wikipedia_daytopic/api.cgi/#{month_day}\")\n      .get() (err, res, body) ->\n        parseXML body, (err, xml) ->\n          title = xml.feed.title\n          wikipedia = xml.feed.wikipedia\n          items = xml.feed[category][0].item\n          item = msg.random(items)\n          msg.send \"title = #{title}\"\n          msg.send \"#{category} = #{item}\"\n          msg.send wikipedia\n\n\n\n\u51fa\u529b\n\nshell adapter \u3067\u78ba\u8a8d\nHubot> hubot daytopic 0101 dekigoto\ntitle = 1\u67081\u65e5\nHubot> dekigoto = 1806\u5e74 - \u30d0\u30a4\u30a8\u30eb\u30f3\u5927\u516c\u56fd\u304c\u30d0\u30a4\u30a8\u30eb\u30f3\u738b\u56fd\u3001\u30f4\u30e5\u30eb\u30c6\u30f3\u30d9\u30eb\u30af\u516c \u56fd\u304c\u30f4\u30e5\u30eb\u30c6\u30f3\u30d9\u30eb\u30af\u738b\u56fd\u3068\u306a\u308b\u3002\nHubot> http://ja.wikipedia.org/wiki/1%E6%9C%881%E6%97%A5\nHubot> hubot daytopic 0101 dekigoto\ntitle = 1\u67081\u65e5\nHubot> dekigoto = 1700\u5e74 - \u30ed\u30b7\u30a2\u304c\u30e6\u30ea\u30a6\u30b9\u66a6\u3078\u3068\u5207\u308a\u66ff\u308f\u308b\u3002\nHubot> http://ja.wikipedia.org/wiki/1%E6%9C%881%E6%97%A5\nHubot> hubot daytopic 0101 tanjyoubi\ntitle = 1\u67081\u65e5\nHubot> tanjyoubi = 1971\u5e74 - \u8349\u5834\u9053\u8f1d\u3001\u6f2b\u753b\u5bb6\nHubot> http://ja.wikipedia.org/wiki/1%E6%9C%881%E6%97%A5\nHubot> hubot daytopic 0101 imibi\ntitle = 1\u67081\u65e5\nHubot> imibi = 1881\u5e74 - \u30eb\u30a4\u30fb\u30aa\u30fc\u30ae\u30e5\u30b9\u30c8\u30fb\u30d6\u30e9\u30f3\u30ad\u3001\u793e\u4f1a\u4e3b\u7fa9\u9769\u547d\u5bb6\nHubot> http://ja.wikipedia.org/wiki/1%E6%9C%881%E6%97%A5\nHubot> hubot daytopic 0101 kinenbi\ntitle = 1\u67081\u65e5\nHubot> kinenbi = \u56db\u65b9\u62dd\nHubot> http://ja.wikipedia.org/wiki/1%E6%9C%881%E6%97%A5\n\n\nkandan adapter \u3067\u78ba\u8a8d\n\n# Hubot | \u81ea\u4f5cScript |  Hubot \u3067 \u300c\u4eca\u65e5\u306f\u4f55\u306e\u65e5\u300dAPI \u306e\u7d50\u679c\u3092\u53d6\u5f97\u3059\u308b\n\n## \u6982\u8981\nHubot \u3067 \u300c\u4eca\u65e5\u306f\u4f55\u306e\u65e5\u300dAPI \u306e\u7d50\u679c\u3092\u53d6\u5f97\u3057\u307e\u3059\n\n## \u6a5f\u80fd\n* MMDD \u3067\u65e5\u6642\u3092\u6307\u5b9a\u3067\u304d\u308b\n* dekigoto / tanjyoubi / imibi / kinenbi \u3092\u6307\u5b9a\u53ef\u80fd\uff08\u30ad\u30fc\u540d\u306f \u300c\u4eca\u65e5\u306f\u4f55\u306e\u65e5\u300dAPI \u306e\u30ad\u30fc\u540d\u306e\u307e\u307e\uff09\n* \u7d50\u679c\u306e\u30ea\u30b9\u30c8\u304b\u3089\u30e9\u30f3\u30c0\u30e0\u3067\u4e00\u4ef6\u53d6\u5f97\u3059\u308b\n* Wikipedia\u306eURL\u3092\u8868\u793a\u3059\u308b\n\n## \u6b63\u898f\u8868\u73fe\n\n~~~\n/daytopic (\\d{4}){1} (.*)$/i\n~~~\n\n## \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\n~~~coffee:daytopic.coffee\n# Description\n#   Output daytopic\n#\n# Dependencies:\n#   None\n#\n# Configuration:\n#   None\n#\n# Commands:\n#   hubot daytopic <MMDD> dekigoto... - Output daytopic dekigoto\n#   hubot daytopic <MMDD> tanjyoubi... - Output daytopic tanjyoubi\n#   hubot daytopic <MMDD> imibi... - Output daytopic imibi\n#   hubot daytopic <MMDD> kinenbi... - Output daytopic kinenbi\nxml2js = require('xml2js')\nparseXML = xml2js.parseString\nmodule.exports = (robot) ->\n  robot.respond /daytopic (\\d{4}){1} (.*)$/i, (msg) ->\n    month_day = msg.match[1]\n    category = msg.match[2]\n    if (['dekigoto', 'tanjyoubi', 'imibi', 'kinenbi'].indexOf(category) < 0)\n        category = 'dekigoto'\n\n    robot.http(\"http://www.mizunotomoaki.com/wikipedia_daytopic/api.cgi/#{month_day}\")\n      .get() (err, res, body) ->\n        parseXML body, (err, xml) ->\n          title = xml.feed.title\n          wikipedia = xml.feed.wikipedia\n          items = xml.feed[category][0].item\n          item = msg.random(items)\n          msg.send \"title = #{title}\"\n          msg.send \"#{category} = #{item}\"\n          msg.send wikipedia\n~~~\n\n## \u51fa\u529b\n\n### shell adapter \u3067\u78ba\u8a8d\n\n~~~bash\nHubot> hubot daytopic 0101 dekigoto\ntitle = 1\u67081\u65e5\nHubot> dekigoto = 1806\u5e74 - \u30d0\u30a4\u30a8\u30eb\u30f3\u5927\u516c\u56fd\u304c\u30d0\u30a4\u30a8\u30eb\u30f3\u738b\u56fd\u3001\u30f4\u30e5\u30eb\u30c6\u30f3\u30d9\u30eb\u30af\u516c \u56fd\u304c\u30f4\u30e5\u30eb\u30c6\u30f3\u30d9\u30eb\u30af\u738b\u56fd\u3068\u306a\u308b\u3002\nHubot> http://ja.wikipedia.org/wiki/1%E6%9C%881%E6%97%A5\nHubot> hubot daytopic 0101 dekigoto\ntitle = 1\u67081\u65e5\nHubot> dekigoto = 1700\u5e74 - \u30ed\u30b7\u30a2\u304c\u30e6\u30ea\u30a6\u30b9\u66a6\u3078\u3068\u5207\u308a\u66ff\u308f\u308b\u3002\nHubot> http://ja.wikipedia.org/wiki/1%E6%9C%881%E6%97%A5\nHubot> hubot daytopic 0101 tanjyoubi\ntitle = 1\u67081\u65e5\nHubot> tanjyoubi = 1971\u5e74 - \u8349\u5834\u9053\u8f1d\u3001\u6f2b\u753b\u5bb6\nHubot> http://ja.wikipedia.org/wiki/1%E6%9C%881%E6%97%A5\nHubot> hubot daytopic 0101 imibi\ntitle = 1\u67081\u65e5\nHubot> imibi = 1881\u5e74 - \u30eb\u30a4\u30fb\u30aa\u30fc\u30ae\u30e5\u30b9\u30c8\u30fb\u30d6\u30e9\u30f3\u30ad\u3001\u793e\u4f1a\u4e3b\u7fa9\u9769\u547d\u5bb6\nHubot> http://ja.wikipedia.org/wiki/1%E6%9C%881%E6%97%A5\nHubot> hubot daytopic 0101 kinenbi\ntitle = 1\u67081\u65e5\nHubot> kinenbi = \u56db\u65b9\u62dd\nHubot> http://ja.wikipedia.org/wiki/1%E6%9C%881%E6%97%A5\n~~~\n\n### kandan adapter \u3067\u78ba\u8a8d\n\n![daytopic.png](https://qiita-image-store.s3.amazonaws.com/0/43480/3be61b99-8fe4-f7dd-3ce6-de0ddf7eb074.png)\n", "tags": ["Hubot2.4.7"]}