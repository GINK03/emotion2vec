{"context": " More than 1 year has passed since last update.CentOS/ec2/ebs\u306a\u74b0\u5883\u3067\u30c7\u30a3\u30b9\u30af\u3092\u62e1\u5f35\u3059\u308b\u3068\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u304c\u81ea\u52d5\u3067\u62e1\u5f35\u3055\u308c\u306a\u3044\u305f\u3081\u3001\u624b\u52d5\u3067\u62e1\u5f35\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nfdisk\u3060\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u3001OS\u306e\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u305d\u3046\u3060\u3063\u305f\u306e\u3067\u3001parted\u3067\u62e1\u5f35\u3057\u3066\u307f\u307e\u3057\u305f\u3002\nWARNING: Re-reading the partition table failed with error 22: Invalid argument.\nThe kernel still uses the old table.\nThe new table will be used at the next reboot.\nSyncing disks.\n\n\u203b\u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306b\u5bfe\u3057\u3066\u306f\u8a66\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u62e1\u5f35\u306b\u306f\u4ed6\u306b\u8a2d\u5b9a\u304c\u5fc5\u8981\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u73fe\u72b6\u306e\u30c7\u30a3\u30b9\u30af\u306e\u78ba\u8a8d\ndf -h\n--------\n/dev/xvdl1             15G   12G  3.0G  80% /home\n--------\n\nlsblk\n--------\nNAME                     MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\nxvdl                     202:176  0    20G  0 disk\n\u2514\u2500xvdl1                  202:177  0    15G  0 part\n--------\n\n\nEBS\u306e\u6e96\u5099\n\uff11\u3001\u65e2\u5b58\u306eEBS\u3092\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u4f5c\u6210\n\uff12\u3001\u5bb9\u91cf\u3092\u5897\u3084\u3057\u3066\u3001\u30ea\u30b9\u30c8\u30a2\n\uff13\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092OS\u304b\u3089\u30a2\u30f3\u30de\u30a6\u30f3\u30c8\n\uff13\u3001\u65e2\u5b58\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30c7\u30bf\u30c3\u30c1\n\uff14\u3001\u65b0\u30dc\u30ea\u30e5\u30fc\u30e0ec2\u3078\u30a2\u30bf\u30c3\u30c1\n\nparted\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum install parted\n\n\nparted\u3067\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u62e1\u5f35\u3002\n\u6307\u5b9a\u3059\u308b\u306e\u304c\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\uff08/dev/xvdl1\uff09\u3067\u306a\u304f\u3001\u30c7\u30d0\u30a4\u30b9\uff08/dev/xvdl\uff09\u3092\u6307\u5b9a\u3059\u308b\u306e\u306b\u6ce8\u610f\uff01\nparted /dev/xvdl\n\n\u30bb\u30af\u30bf\u30fc\u5358\u4f4d\u3067\u8868\u793a\n(parted) unit s\n\n\u73fe\u72b6\u306e\u72b6\u614b\u3092\u8868\u793a\n(parted) print\n--------\nModel: Xen Virtual Block Device (xvd)\nDisk /dev/xvdl: 41943040s\nSector size (logical/physical): 512B/512B\nPartition Table: msdos\n\nNumber  Start  End        Size       Type     File system  Flags\n 1      63s    31943039s  41942977s  primary  ext4\n\n--------\n\nNumber\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u6570\u5b57\u3092\u6307\u5b9a\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u4e00\u65e6\u524a\u9664\n(parted) rm 1\n\nType\u3068Start\u3092\u6307\u5b9a\u3057\u3066\u3001\u6700\u5927\u307e\u3067\u62e1\u5f35\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u518d\u4f5c\u6210\n(parted) mkpart primary 63s 100%\n\n\u5897\u3048\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n(parted) print\n--------\nModel: Xen Virtual Block Device (xvd)\nDisk /dev/xvdl: 41943040s\nSector size (logical/physical): 512B/512B\nPartition Table: msdos\n\nNumber  Start  End        Size       Type     File system  Flags\n 1      63s    41943039s  41942977s  primary  ext4\n--------\n\nparted\u306e\u7d42\u4e86\n(parted) quit\n\n\nfsck\u3067\u6574\u5408\u6027\u30c1\u30a7\u30c3\u30af\ne2fsck -f /dev/xvdl1\n\n\n\u30de\u30a6\u30f3\u30c8\nmount /dev/xvdl1 /home\n\n\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u62e1\u5f35\nresize2fs /dev/xvdl1\n\n\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u306e\u78ba\u8a8d\ndf -h\n--------\n/dev/xvdl1             20G   12G  7.0G  63% /home\n--------\n\nlsblk\n--------\nNAME                     MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\nxvdl                     202:176  0    20G  0 disk\n\u2514\u2500xvdl1                  202:177  0    20G  0 part /home\n--------\n\n\n\u53c2\u8003\nhttp://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/storage_expand_partition.html\nCentOS/ec2/ebs\u306a\u74b0\u5883\u3067\u30c7\u30a3\u30b9\u30af\u3092\u62e1\u5f35\u3059\u308b\u3068\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u304c\u81ea\u52d5\u3067\u62e1\u5f35\u3055\u308c\u306a\u3044\u305f\u3081\u3001\u624b\u52d5\u3067\u62e1\u5f35\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nfdisk\u3060\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u3001OS\u306e\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u305d\u3046\u3060\u3063\u305f\u306e\u3067\u3001parted\u3067\u62e1\u5f35\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n```\nWARNING: Re-reading the partition table failed with error 22: Invalid argument.\nThe kernel still uses the old table.\nThe new table will be used at the next reboot.\nSyncing disks.\n```\n\n\u203b\u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306b\u5bfe\u3057\u3066\u306f\u8a66\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u62e1\u5f35\u306b\u306f\u4ed6\u306b\u8a2d\u5b9a\u304c\u5fc5\u8981\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n##\u73fe\u72b6\u306e\u30c7\u30a3\u30b9\u30af\u306e\u78ba\u8a8d\n```\ndf -h\n--------\n/dev/xvdl1             15G   12G  3.0G  80% /home\n--------\n\nlsblk\n--------\nNAME                     MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\nxvdl                     202:176  0    20G  0 disk\n\u2514\u2500xvdl1                  202:177  0    15G  0 part\n--------\n```\n\n\n##EBS\u306e\u6e96\u5099\n\uff11\u3001\u65e2\u5b58\u306eEBS\u3092\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u4f5c\u6210\n\uff12\u3001\u5bb9\u91cf\u3092\u5897\u3084\u3057\u3066\u3001\u30ea\u30b9\u30c8\u30a2\n\uff13\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092OS\u304b\u3089\u30a2\u30f3\u30de\u30a6\u30f3\u30c8\n\uff13\u3001\u65e2\u5b58\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30c7\u30bf\u30c3\u30c1\n\uff14\u3001\u65b0\u30dc\u30ea\u30e5\u30fc\u30e0ec2\u3078\u30a2\u30bf\u30c3\u30c1\n\n\n\n##parted\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\nyum install parted\n```\n\n##parted\u3067\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u62e1\u5f35\u3002\n\u6307\u5b9a\u3059\u308b\u306e\u304c\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\uff08/dev/xvdl1\uff09\u3067\u306a\u304f\u3001\u30c7\u30d0\u30a4\u30b9\uff08/dev/xvdl\uff09\u3092\u6307\u5b9a\u3059\u308b\u306e\u306b\u6ce8\u610f\uff01\n\n```\nparted /dev/xvdl\n```\n\n\u30bb\u30af\u30bf\u30fc\u5358\u4f4d\u3067\u8868\u793a\n\n```\n(parted) unit s\n```\n\n\u73fe\u72b6\u306e\u72b6\u614b\u3092\u8868\u793a\n\n```\n(parted) print\n--------\nModel: Xen Virtual Block Device (xvd)\nDisk /dev/xvdl: 41943040s\nSector size (logical/physical): 512B/512B\nPartition Table: msdos\n\nNumber  Start  End        Size       Type     File system  Flags\n 1      63s    31943039s  41942977s  primary  ext4\n \n--------\n```\n\n\nNumber\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u6570\u5b57\u3092\u6307\u5b9a\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u4e00\u65e6\u524a\u9664\n \n```\n(parted) rm 1\n```\n\nType\u3068Start\u3092\u6307\u5b9a\u3057\u3066\u3001\u6700\u5927\u307e\u3067\u62e1\u5f35\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u518d\u4f5c\u6210\n\n```\n(parted) mkpart primary 63s 100%\n```\n\n\n\u5897\u3048\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\n```\n(parted) print\n--------\nModel: Xen Virtual Block Device (xvd)\nDisk /dev/xvdl: 41943040s\nSector size (logical/physical): 512B/512B\nPartition Table: msdos\n\nNumber  Start  End        Size       Type     File system  Flags\n 1      63s    41943039s  41942977s  primary  ext4\n--------\n```\n\n\nparted\u306e\u7d42\u4e86\n\n```\n(parted) quit\n```\n\n###fsck\u3067\u6574\u5408\u6027\u30c1\u30a7\u30c3\u30af\n```\ne2fsck -f /dev/xvdl1\n```\n\n##\u30de\u30a6\u30f3\u30c8\n```\nmount /dev/xvdl1 /home\n```\n\n##\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u62e1\u5f35\n```\nresize2fs /dev/xvdl1\n```\n\n##\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b5\u30a4\u30ba\u306e\u78ba\u8a8d\n```\ndf -h\n--------\n/dev/xvdl1             20G   12G  7.0G  63% /home\n--------\n\nlsblk\n--------\nNAME                     MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\nxvdl                     202:176  0    20G  0 disk\n\u2514\u2500xvdl1                  202:177  0    20G  0 part /home\n--------\n```\n\n\n##\u53c2\u8003\nhttp://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/storage_expand_partition.html\n", "tags": ["EC2", "ebs", "CentOS"]}