{"context": " More than 1 year has passed since last update.\u3059\u3067\u306b\u53d6\u5f97\u6e08\u307f\u306e\u30c7\u30fc\u30bf\u306f\u518d\u5ea6\u53d6\u5f97\u3057\u305f\u304f\u306a\u3044\u6642\u306b\u5f79\u306b\u7acb\u3064\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002\n\u5358\u7d14\u3067\u3059\u304c\u3001\u5b9f\u7528\u7684\u3067\u3059\u3002PHP\u306e\u30de\u30b8\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u3063\u3066\u4fbf\u5229\u3067\u3059\u306d\uff01\n<?php\n\nclass Post {\n    public function __get( $property ) {\n        return $this->$property = $this->$property();\n    }\n\n    private function permalink() {\n        // \u3053\u3053\u3067\u91cd\u3044\u51e6\u7406\u3092\u3044\u308d\u3044\u308d\u3084\u3063\u3066\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\n        return \"My Permalink<br>\";\n    }\n}\n\n$post = new Post();\n\n// `permalink`\u3063\u3066\u3044\u3046\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u306a\u3044\u306e\u3067 `__get` \u306e\u4e2d\u3067\u4f5c\u3063\u3066\u3042\u3052\u308b\necho $post->permalink; // \u5b9f\u969b\u306f ->  $post->permalink = $post->permalink();\n\n// \u3053\u308c\u4ee5\u964d\u306f\u5358\u306a\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u53c2\u7167\necho $post->permalink; // $post->permalink\necho $post->permalink; // $post->permalink\n\n\u30af\u30e9\u30b9\u30ec\u30d9\u30eb\u3067\u3082\u540c\u3058\u3053\u3068\u3092\u3084\u308a\u305f\u3044\u306e\u3067\u3059\u304c\u3001\u6b8b\u5ff5\u306a\u304c\u3089__get\u306f\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u306b\u306f\u9069\u7528\u3055\u308c\u306a\u3044\u306e\u3067\u3059\u3002\n\u30e1\u30bd\u30c3\u30c9\u3092\u76f4\u63a5\u547c\u3076\u5f62\u3067\u306e\u5b9f\u88c5\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u304c\u2026\u3000\u4e00\u5fdc\u3053\u3093\u306a\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\n\nclass BaseModel {\n    protected static $data_pool = [ ];\n\n    public static function all() {\n        $data = static::get_pool_data( 'all' );\n        if ( isset( $data ) ) {\n            return $data;\n        }\n\n        return static::set_pool_data( 'all', 'my data' );\n    }\n\n    /**\n     * Try to get data from data-pool associated with the $key\n     * If there is no data to get then return null\n     *\n     * @param $key\n     * @param $value\n     *\n     * @return mixed\n     */\n    protected static function cache( $key, $value ) {\n        $data = static::get_pool_data( $key );\n\n        return $data ? $data : static::set_pool_data( $key, $value );\n    }\n\n    /**\n     * Try to get the data from data-pool\n     * if there is no data to get then return null\n     *\n     * @param null $key\n     *\n     * @return array|null\n     */\n    protected static function get_pool_data( $key = null ) {\n        // if $key is not supplied return the whole data set\n        if ( $key === null ) {\n            return static::$data_pool;\n        }\n\n        $data_in_pool = null;\n\n        if ( array_key_exists( $key, static::$data_pool ) ) {\n            $data_in_pool = static::$data_pool[ $key ];\n        }\n\n        return $data_in_pool;\n    }\n\n    /**\n     * Store arbitrary data to the data-pool\n     *\n     * @param $key\n     * @param $value\n     *\n     * @return mixed\n     */\n    protected static function set_pool_data( $key, $value ) {\n        static::$data_pool[ $key ] = $value;\n\n        return $value;\n    }\n}\n\nclass Animal extends BaseModel {\n    public static function all() {\n        $all_animals = 'Bird, Horse, Cat, Rabbit';\n\n        return static::cache( 'all', $all_animals );\n    }\n}\n\n?>\n\n<h1><?= Animal::all() ?></h1>\n\n<h2><?= Animal::all() ?></h2>\n<h2><?= Animal::all() ?></h2>\n\n\u3059\u3067\u306b\u53d6\u5f97\u6e08\u307f\u306e\u30c7\u30fc\u30bf\u306f\u518d\u5ea6\u53d6\u5f97\u3057\u305f\u304f\u306a\u3044\u6642\u306b\u5f79\u306b\u7acb\u3064\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002\n\u5358\u7d14\u3067\u3059\u304c\u3001\u5b9f\u7528\u7684\u3067\u3059\u3002PHP\u306e\u30de\u30b8\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u3063\u3066\u4fbf\u5229\u3067\u3059\u306d\uff01\n\n```php\n<?php\n\nclass Post {\n\tpublic function __get( $property ) {\n\t\treturn $this->$property = $this->$property();\n\t}\n\n\tprivate function permalink() {\n\t\t// \u3053\u3053\u3067\u91cd\u3044\u51e6\u7406\u3092\u3044\u308d\u3044\u308d\u3084\u3063\u3066\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\n\t\treturn \"My Permalink<br>\";\n\t}\n}\n\n$post = new Post();\n\n// `permalink`\u3063\u3066\u3044\u3046\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u306a\u3044\u306e\u3067 `__get` \u306e\u4e2d\u3067\u4f5c\u3063\u3066\u3042\u3052\u308b\necho $post->permalink; // \u5b9f\u969b\u306f ->  $post->permalink = $post->permalink();\n\n// \u3053\u308c\u4ee5\u964d\u306f\u5358\u306a\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u53c2\u7167\necho $post->permalink; // $post->permalink\necho $post->permalink; // $post->permalink\n```\n\n\u30af\u30e9\u30b9\u30ec\u30d9\u30eb\u3067\u3082\u540c\u3058\u3053\u3068\u3092\u3084\u308a\u305f\u3044\u306e\u3067\u3059\u304c\u3001\u6b8b\u5ff5\u306a\u304c\u3089`__get`\u306f\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u306b\u306f\u9069\u7528\u3055\u308c\u306a\u3044\u306e\u3067\u3059\u3002\n\u30e1\u30bd\u30c3\u30c9\u3092\u76f4\u63a5\u547c\u3076\u5f62\u3067\u306e\u5b9f\u88c5\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u304c\u2026\u3000\u4e00\u5fdc\u3053\u3093\u306a\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\n\n```php\n\nclass BaseModel {\n\tprotected static $data_pool = [ ];\n\n\tpublic static function all() {\n\t\t$data = static::get_pool_data( 'all' );\n\t\tif ( isset( $data ) ) {\n\t\t\treturn $data;\n\t\t}\n\n\t\treturn static::set_pool_data( 'all', 'my data' );\n\t}\n\n\t/**\n\t * Try to get data from data-pool associated with the $key\n\t * If there is no data to get then return null\n\t *\n\t * @param $key\n\t * @param $value\n\t *\n\t * @return mixed\n\t */\n\tprotected static function cache( $key, $value ) {\n\t\t$data = static::get_pool_data( $key );\n\n\t\treturn $data ? $data : static::set_pool_data( $key, $value );\n\t}\n\n\t/**\n\t * Try to get the data from data-pool\n\t * if there is no data to get then return null\n\t *\n\t * @param null $key\n\t *\n\t * @return array|null\n\t */\n\tprotected static function get_pool_data( $key = null ) {\n\t\t// if $key is not supplied return the whole data set\n\t\tif ( $key === null ) {\n\t\t\treturn static::$data_pool;\n\t\t}\n\n\t\t$data_in_pool = null;\n\n\t\tif ( array_key_exists( $key, static::$data_pool ) ) {\n\t\t\t$data_in_pool = static::$data_pool[ $key ];\n\t\t}\n\n\t\treturn $data_in_pool;\n\t}\n\n\t/**\n\t * Store arbitrary data to the data-pool\n\t *\n\t * @param $key\n\t * @param $value\n\t *\n\t * @return mixed\n\t */\n\tprotected static function set_pool_data( $key, $value ) {\n\t\tstatic::$data_pool[ $key ] = $value;\n\n\t\treturn $value;\n\t}\n}\n\nclass Animal extends BaseModel {\n\tpublic static function all() {\n\t\t$all_animals = 'Bird, Horse, Cat, Rabbit';\n\n\t\treturn static::cache( 'all', $all_animals );\n\t}\n}\n\n?>\n\n<h1><?= Animal::all() ?></h1>\n\n<h2><?= Animal::all() ?></h2>\n<h2><?= Animal::all() ?></h2>\n```\n", "tags": ["PHP", "\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3"]}