{"context": " More than 1 year has passed since last update.Node-RED\u306e\u753b\u9762\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u65b9\u6cd5\u3067\u3059\u3002\n\nNode-RED\u3092\u5225\u306eExpress\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u7d44\u8fbc\u3080\nNode-RED\u306f\u5225\u306eExpress\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u57cb\u3081\u8fbc\u3080\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u3084\u308a\u65b9\u306f\u5225\u306eExpress\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306epackage.json\u306edependencies\u306bnode-red\u3092\u8ffd\u52a0\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306bExpress\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u52d5\u304b\u3057\u307e\u3059\u3002\u3053\u308c\u3092app.js\u3068\u3057\u307e\u3059\u3002\n\napp.js\nvar http = require('http');\nvar express = require(\"express\");\nvar RED = require(\"node-red\");\n\n// Create an Express app\nvar app = express();\n\n// Add a simple route for static content served from 'public'\napp.use(\"/\",express.static(\"public\"));\n\n// Create a server\nvar server = http.createServer(app);\n\n// Create the settings object - see default settings.js file for other options\nvar settings = {\n  httpAdminRoot:\"/red\",\n  httpNodeRoot: \"/api\",\n  functionGlobalContext: { }    // enables global context\n};\n\n// Initialise the runtime with a server and settings\nRED.init(server,settings);\n\n// Serve the editor UI from /red\napp.use(settings.httpAdminRoot,RED.httpAdmin);\n\n// Serve the http nodes UI from /api\napp.use(settings.httpNodeRoot,RED.httpNode);\n\nserver.listen(8000);\n\n// Start the runtime\nRED.start();\n\n\n\u3061\u306a\u307f\u306bsetting.js\u3067\u8a2d\u5b9a\u3057\u3066\u3044\u305f\u5185\u5bb9\u306fRED.init\u3067\u6e21\u3055\u306a\u3051\u308c\u3070\u3044\u3051\u307e\u305b\u3093\u3002\u3057\u305f\u304c\u3063\u3066\u4e0a\u8a18\u306e\u3088\u3046\u306b\u30d9\u30bf\u306b\u66f8\u304f\u304b\u4ee5\u4e0b\u306e\u3088\u3046\u306bsetting.js\u3092module.exports\u3057\u3066require\u3057\u307e\u3059\u3002\n\nsetting.js\nmodule.exports = {\n  httpAdminRoot:\"/red\",\n  httpNodeRoot: \"/api\",\n  functionGlobalContext: { }    // enables global context\n};\n\n\n\napp.js\nvar http = require('http');\nvar express = require(\"express\");\nvar settings = require(\"./settings\"); // <- require\nvar RED = require(\"node-red\");\n\n// Create an Express app\nvar app = express();\n\n// Add a simple route for static content served from 'public'\napp.use(\"/\",express.static(\"public\"));\n\n// Create a server\nvar server = http.createServer(app);\n\n// Initialise the runtime with a server and settings\nRED.init(server,settings);\n\n// Serve the editor UI from /red\napp.use(settings.httpAdminRoot,RED.httpAdmin);\n\n// Serve the http nodes UI from /api\napp.use(settings.httpNodeRoot,RED.httpNode);\n\nserver.listen(8000);\n\n// Start the runtime\nRED.start();\n\n\n\u3042\u3068\u306fapp.use(\"/\",express.static(\"public\"))\u3068\u6307\u5b9a\u3057\u3066\u3044\u308b\u901a\u308aapp.js\u540c\u968e\u5c64\u306epublic\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067/\uff08\u30eb\u30fc\u30c8\uff09\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3067\u8868\u793a\u3059\u308bHTML\u3084CSS\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002\n\nindex.html\n<link rel=\"stylesheet\" href=\"style.css\" />\n<p class=\"test\">Node-RED\u3092\u7d44\u8fbc\u3093\u3060Express\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3</p>\n\n\n\nstyle.css\n.test { color: red; }\n\n\n\u3053\u308c\u3067node app.js\u3092\u3057\u3066Express\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8d77\u52d5\u3059\u308b\u3068/\u306f\u4ee5\u4e0b\u304c\u8868\u793a\u3055\u308c/red\u306fNode-RED\u306eEditor\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\nNode-RED\u306eEditor\u753b\u9762\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\n\u8a66\u3057\u306bapp.use(\"/\",express.static(\"public\"))\u3092app.use(\"/red\",express.static(\"public\"))\u306b\u3057\u3066\u307f\u307e\u3059\u3068/\u306fCannot GET /\u3068\u306a\u3063\u3066/red\u306b\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305fHTML\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u7d9a\u3044\u3066public/index.html\u3092\u524a\u9664\u3057\u3066public/style.css\u3092public/red/style.min.css\u306b\u79fb\u52d5\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306aEditor\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u3053\u308c\u3067Editor\u753b\u9762\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u306e\u3084\u308a\u65b9\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002Express\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u9759\u7684\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u5834\u6240\u3092\u6307\u5b9a\u3059\u308bapp.use(\"/\",express.static(\"public\"))\u3068Node-RED\u3067Editor\u753b\u9762\u3092\u6307\u5b9a\u3059\u308bhttpAdminRoot\u3092\u540c\u3058\u5834\u6240\u306b\u3059\u308b\u3068\u3001\u305d\u3053\u306b\u914d\u7f6e\u3057\u305fHTML\u3084CSS\u3001javascript\u306a\u3069\u3067Editor\u3092\u63cf\u5199\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u306fpublic\u306bnode_modules/node-red/public\u3092\u4e38\u3063\u3068\u30b3\u30d4\u30fc\u3057\u3066public/index.html\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u306eEditor\u306eHTML\u306b\u3057\u3066\u8272\u3005\u3068\u4fee\u6b63\u3057\u3066\u307f\u308b\u3068\u753b\u9762\u304c\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\n\u3053\u306e\u3088\u3046\u306b\u3057\u3066enebular-agent\u306f\u4f5c\u3089\u308c\u3066\u3044\u307e\u3059\u3002\u53c2\u8003\u306b\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\nNode-RED\u306e\u753b\u9762\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u65b9\u6cd5\u3067\u3059\u3002\n\n## Node-RED\u3092\u5225\u306eExpress\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u7d44\u8fbc\u3080\n\nNode-RED\u306f\u5225\u306eExpress\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u57cb\u3081\u8fbc\u3080\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\u3084\u308a\u65b9\u306f\u5225\u306eExpress\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e`package.json`\u306e`dependencies`\u306b`node-red`\u3092\u8ffd\u52a0\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306bExpress\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u52d5\u304b\u3057\u307e\u3059\u3002\u3053\u308c\u3092`app.js`\u3068\u3057\u307e\u3059\u3002\n\n```js:app.js\nvar http = require('http');\nvar express = require(\"express\");\nvar RED = require(\"node-red\");\n\n// Create an Express app\nvar app = express();\n\n// Add a simple route for static content served from 'public'\napp.use(\"/\",express.static(\"public\"));\n\n// Create a server\nvar server = http.createServer(app);\n\n// Create the settings object - see default settings.js file for other options\nvar settings = {\n  httpAdminRoot:\"/red\",\n  httpNodeRoot: \"/api\",\n  functionGlobalContext: { }    // enables global context\n};\n\n// Initialise the runtime with a server and settings\nRED.init(server,settings);\n\n// Serve the editor UI from /red\napp.use(settings.httpAdminRoot,RED.httpAdmin);\n\n// Serve the http nodes UI from /api\napp.use(settings.httpNodeRoot,RED.httpNode);\n\nserver.listen(8000);\n\n// Start the runtime\nRED.start();\n```\n\n\u3061\u306a\u307f\u306b`setting.js`\u3067\u8a2d\u5b9a\u3057\u3066\u3044\u305f\u5185\u5bb9\u306f`RED.init`\u3067\u6e21\u3055\u306a\u3051\u308c\u3070\u3044\u3051\u307e\u305b\u3093\u3002\u3057\u305f\u304c\u3063\u3066\u4e0a\u8a18\u306e\u3088\u3046\u306b\u30d9\u30bf\u306b\u66f8\u304f\u304b\u4ee5\u4e0b\u306e\u3088\u3046\u306b`setting.js`\u3092`module.exports`\u3057\u3066`require`\u3057\u307e\u3059\u3002\n\n```js:setting.js\nmodule.exports = {\n  httpAdminRoot:\"/red\",\n  httpNodeRoot: \"/api\",\n  functionGlobalContext: { }    // enables global context\n};\n```\n\n```js:app.js\nvar http = require('http');\nvar express = require(\"express\");\nvar settings = require(\"./settings\"); // <- require\nvar RED = require(\"node-red\");\n\n// Create an Express app\nvar app = express();\n\n// Add a simple route for static content served from 'public'\napp.use(\"/\",express.static(\"public\"));\n\n// Create a server\nvar server = http.createServer(app);\n\n// Initialise the runtime with a server and settings\nRED.init(server,settings);\n\n// Serve the editor UI from /red\napp.use(settings.httpAdminRoot,RED.httpAdmin);\n\n// Serve the http nodes UI from /api\napp.use(settings.httpNodeRoot,RED.httpNode);\n\nserver.listen(8000);\n\n// Start the runtime\nRED.start();\n```\n\n\u3042\u3068\u306f`app.use(\"/\",express.static(\"public\"))`\u3068\u6307\u5b9a\u3057\u3066\u3044\u308b\u901a\u308a`app.js`\u540c\u968e\u5c64\u306e`public`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067`/`\uff08\u30eb\u30fc\u30c8\uff09\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3067\u8868\u793a\u3059\u308bHTML\u3084CSS\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002\n\n```html:index.html\n<link rel=\"stylesheet\" href=\"style.css\" />\n<p class=\"test\">Node-RED\u3092\u7d44\u8fbc\u3093\u3060Express\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3</p>\n```\n\n```css:style.css\n.test { color: red; }\n```\n\n\u3053\u308c\u3067`node app.js`\u3092\u3057\u3066Express\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8d77\u52d5\u3059\u308b\u3068`/`\u306f\u4ee5\u4e0b\u304c\u8868\u793a\u3055\u308c`/red`\u306fNode-RED\u306eEditor\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n<img width=\"379\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-09 16.34.00.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/21109/9e192456-453a-ec4c-0c25-85b87527518f.png\">\n\n## Node-RED\u306eEditor\u753b\u9762\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\n\n\u8a66\u3057\u306b`app.use(\"/\",express.static(\"public\"))`\u3092`app.use(\"/red\",express.static(\"public\"))`\u306b\u3057\u3066\u307f\u307e\u3059\u3068`/`\u306f`Cannot GET /`\u3068\u306a\u3063\u3066`/red`\u306b\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305fHTML\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\u7d9a\u3044\u3066`public/index.html`\u3092\u524a\u9664\u3057\u3066`public/style.css`\u3092`public/red/style.min.css`\u306b\u79fb\u52d5\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306aEditor\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\n<img width=\"1187\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-09 16.46.52.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/21109/aab19ae1-6217-94aa-756a-d79dabf7ee28.png\">\n\n\u3053\u308c\u3067Editor\u753b\u9762\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u306e\u3084\u308a\u65b9\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002Express\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u9759\u7684\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u5834\u6240\u3092\u6307\u5b9a\u3059\u308b`app.use(\"/\",express.static(\"public\"))`\u3068Node-RED\u3067Editor\u753b\u9762\u3092\u6307\u5b9a\u3059\u308b`httpAdminRoot`\u3092\u540c\u3058\u5834\u6240\u306b\u3059\u308b\u3068\u3001\u305d\u3053\u306b\u914d\u7f6e\u3057\u305fHTML\u3084CSS\u3001javascript\u306a\u3069\u3067Editor\u3092\u63cf\u5199\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n\u3068\u3044\u3046\u3053\u3068\u306f`public`\u306b`node_modules/node-red/public`\u3092\u4e38\u3063\u3068\u30b3\u30d4\u30fc\u3057\u3066`public/index.html`\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u306eEditor\u306eHTML\u306b\u3057\u3066\u8272\u3005\u3068\u4fee\u6b63\u3057\u3066\u307f\u308b\u3068\u753b\u9762\u304c\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u3053\u306e\u3088\u3046\u306b\u3057\u3066[enebular-agent](https://github.com/enebular/enebular-agent)\u306f\u4f5c\u3089\u308c\u3066\u3044\u307e\u3059\u3002\u53c2\u8003\u306b\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n", "tags": ["Node.js", "node-red"]}