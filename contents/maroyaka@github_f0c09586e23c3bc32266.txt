{"context": " More than 1 year has passed since last update.\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u69cb\u6210\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\napplication/\n    configs/\n        application.ini\n    controllers/\n    models/\n        User.php (Model_User)\n        User/\n            Abstract.php (Model_User_Abstract)\n    plugins/\n    services/\n        User.php (Service_User)\n\nBootstrap\u306a\u3069\u3067\n\nBootstrap.php\npublic function _initAutoloader() {\n    $autoloader = new Zend_Loader_Autoloader_Resource(\n        'basePath'  => APPLICATION_PATH,\n        'namespace' => '',\n    ));\n    $autoloader\n        ->addResourceType('Model', 'models/', 'Model')\n        ->addResourceType('Service', 'services/', 'Service');\n}\n\n\n\u306e\u3088\u3046\u306b\u30ea\u30bd\u30fc\u30b9\u30aa\u30fc\u30c8\u30ed\u30fc\u30c0\u3092\u521d\u671f\u5316\u3059\u308c\u3070\u3001models/User.php\u3068models/User/Abstract.php\u3001services/User.php\u3092\u30aa\u30fc\u30c8\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3002\n\u3053\u308c\u3060\u3051\u3067\u3082\u5225\u306bOK\u3060\u3051\u3069\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5834\u6240\u306f\u7c21\u5358\u306b\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u305f\u3044\u3002\n\u306a\u306e\u3067\u30ea\u30bd\u30fc\u30b9\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5229\u7528\u3057\u3066application.ini\u304b\u3089\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u307f\u3001\u30ea\u30bd\u30fc\u30b9\u30aa\u30fc\u30c8\u30ed\u30fc\u30c0\u3092\u521d\u671f\u5316\u3059\u308b\u3002\n\napplication/plugins/Autoloader.php\n<?php\n\nclass Plugin_Autoloader extends Zend_Application_Resource_ResourceAbstract {\n\n    public function init() {\n        $options = $this->getOptions();\n\n        $autoloader = new Zend_Loader_Autoloader_Resource(array(\n            'basePath'  => $options['basePath'],\n            'namespace' => $options['namespace'],\n        ));\n        unset($options['basePath']);\n        unset($options['namespace']);\n\n        foreach ($options as $prefix => $path) {\n            $autoloader->addResourceType($prefix, $path, $prefix);\n        }\n                return $autoloader;\n    }\n\n}\n\n\n\napplication/configs/application.ini\npluginPaths.Plugin = APPLICATION_PATH \"/plugins\"\nresources.autoloader.basePath  = APPLICATION_PATH\nresources.autoloader.namespace = \"\"\nresources.autoloader.Model     = \"models\"\nresources.autoloader.Service   = \"services\"\n\n\n\u3061\u306a\u307f\u306b\uff08Table Data Gateway\u3068\u304bData Mapper\u3068\u304bService\u3068\u304b\u306e\uff09\u4f7f\u3044\u56de\u3057\u53ef\u80fd\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4e00\u3005\u751f\u6210\u3059\u308b\u306e\u306f\u7121\u99c4\u306a\u306e\u3067\u3001\u305f\u3068\u3048\u3070Service_User\u3092\u547c\u3073\u51fa\u3059\u5834\u5408\u3001\n$autoloader = Zend_Controller_Front::getInstance()->getParam(\"bootstrap\")->getResource(\"autoloader\");\n$userService = $autoloader->load('User', 'service');\n\n\u3068\u3059\u308b\uff08Zend_Loader_Autoloader_Resource\u306fRegistry\u304a\u3088\u3073Factory\u3068\u3057\u3066\u52d5\u4f5c\u3059\u308b\uff09\u3002\n\u8a18\u8ff0\u304c\u9577\u3044\u306e\u3067Zend_Registry\u3042\u305f\u308a\u306b$autoloader\u3092\u4fdd\u5b58\u3057\u3068\u304f\u3068\u697d\u304b\u3082\u3002\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u69cb\u6210\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\n\n    application/\n        configs/\n            application.ini\n        controllers/\n        models/\n            User.php (Model_User)\n            User/\n                Abstract.php (Model_User_Abstract)\n        plugins/\n        services/\n            User.php (Service_User)\n\nBootstrap\u306a\u3069\u3067\n\n``` Bootstrap.php\npublic function _initAutoloader() {\n    $autoloader = new Zend_Loader_Autoloader_Resource(\n        'basePath'  => APPLICATION_PATH,\n        'namespace' => '',\n    ));\n    $autoloader\n        ->addResourceType('Model', 'models/', 'Model')\n        ->addResourceType('Service', 'services/', 'Service');\n}\n```\n\n\u306e\u3088\u3046\u306b\u30ea\u30bd\u30fc\u30b9\u30aa\u30fc\u30c8\u30ed\u30fc\u30c0\u3092\u521d\u671f\u5316\u3059\u308c\u3070\u3001__models/User.php__\u3068__models/User/Abstract.php__\u3001__services/User.php__\u3092\u30aa\u30fc\u30c8\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3002\n\n\u3053\u308c\u3060\u3051\u3067\u3082\u5225\u306bOK\u3060\u3051\u3069\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5834\u6240\u306f\u7c21\u5358\u306b\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u305f\u3044\u3002\n\n\u306a\u306e\u3067\u30ea\u30bd\u30fc\u30b9\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5229\u7528\u3057\u3066application.ini\u304b\u3089\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u307f\u3001\u30ea\u30bd\u30fc\u30b9\u30aa\u30fc\u30c8\u30ed\u30fc\u30c0\u3092\u521d\u671f\u5316\u3059\u308b\u3002\n\n``` application/plugins/Autoloader.php\n<?php\n\nclass Plugin_Autoloader extends Zend_Application_Resource_ResourceAbstract {\n\n\tpublic function init() {\n\t\t$options = $this->getOptions();\n\n\t\t$autoloader = new Zend_Loader_Autoloader_Resource(array(\n\t\t\t'basePath'  => $options['basePath'],\n\t\t\t'namespace' => $options['namespace'],\n\t\t));\n\t\tunset($options['basePath']);\n\t\tunset($options['namespace']);\n\n\t\tforeach ($options as $prefix => $path) {\n\t\t\t$autoloader->addResourceType($prefix, $path, $prefix);\n\t\t}\n                return $autoloader;\n\t}\n\n}\n```\n\n``` application/configs/application.ini\npluginPaths.Plugin = APPLICATION_PATH \"/plugins\"\nresources.autoloader.basePath  = APPLICATION_PATH\nresources.autoloader.namespace = \"\"\nresources.autoloader.Model     = \"models\"\nresources.autoloader.Service   = \"services\"\n```\n\n\u3061\u306a\u307f\u306b\uff08Table Data Gateway\u3068\u304bData Mapper\u3068\u304bService\u3068\u304b\u306e\uff09\u4f7f\u3044\u56de\u3057\u53ef\u80fd\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4e00\u3005\u751f\u6210\u3059\u308b\u306e\u306f\u7121\u99c4\u306a\u306e\u3067\u3001\u305f\u3068\u3048\u3070__Service_User__\u3092\u547c\u3073\u51fa\u3059\u5834\u5408\u3001\n\n```\n$autoloader = Zend_Controller_Front::getInstance()->getParam(\"bootstrap\")->getResource(\"autoloader\");\n$userService = $autoloader->load('User', 'service');\n```\n\n\u3068\u3059\u308b\uff08Zend_Loader_Autoloader_Resource\u306fRegistry\u304a\u3088\u3073Factory\u3068\u3057\u3066\u52d5\u4f5c\u3059\u308b\uff09\u3002\n\n\u8a18\u8ff0\u304c\u9577\u3044\u306e\u3067Zend_Registry\u3042\u305f\u308a\u306b$autoloader\u3092\u4fdd\u5b58\u3057\u3068\u304f\u3068\u697d\u304b\u3082\u3002\n\n", "tags": ["ZendFramework", "PHP"]}