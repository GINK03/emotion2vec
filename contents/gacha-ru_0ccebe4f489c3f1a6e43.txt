{"context": " More than 1 year has passed since last update.Grafana2.5\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3001CloudWatch\u304c\u6b63\u5f0f\u306b\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u305f\u306e\u3067\u8a2d\u5b9a\u3092\u884c\u3063\u3066\u307f\u308b\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u8aac\u660e\u306f\u5272\u611b\u3002\nhttp://docs.grafana.org/installation/\n\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u3092\u6301\u305f\u306a\u3044\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u8d77\u52d5\u3067\u304d\u3055\u3048\u3059\u308c\u3070OK\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u30dd\u30fc\u30c8\u306f3000\n\u30e6\u30fc\u30b6\u30fc/\u30d1\u30b9\u30ef\u30fc\u30c9\u306fadmin\n\nCloudWatch\u8a2d\u5b9a\n\u57fa\u672c\u7684\u306b\u306f\u3053\u306e\u8a2d\u5b9a\u901a\u308a\nhttp://docs.grafana.org/datasources/cloudwatch/\nCloudWatch\u90e8\u5206\u306e\u30b3\u30fc\u30c9\u306fcloudwatch.go\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\nAWS SDK for Go\u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u3002\n\u203bPR\u306bProfile\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u305f\u3082\u306e\u304c\u53d6\u308a\u8fbc\u307e\u308c\u305f\u306e\u3067\u3001\u4eca\u5f8c\u306f\u30de\u30eb\u30c1\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u5fdc\u3067\u304d\u305d\u3046\u3002(2015/11/01\u6642\u70b9)\nCloudWatch\u63a5\u7d9a\u306e\u70ba\u306e\u8a8d\u8a3c\u306fGrafana\u306e\u8a2d\u5b9a\u3067\u306f\u306a\u304f\u3001\u30b5\u30fc\u30d0\u5074\u3067\u884c\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u65b9\u6cd5\u306f2\u7a2e\u985e\u3002\n\nIAM Roles\nEC2\u3067\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3053\u306e\u65b9\u6cd5\u304c\u4e00\u756a\u30bb\u30ad\u30e5\u30a2\u3067\u697d\u3002\n\u30c7\u30e1\u30ea\u30c3\u30c8\u3068\u3057\u3066\n* \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u8d77\u52d5\u6642\u306b\u8a2d\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n* \u30de\u30eb\u30c1\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u5fdc\u3055\u308c\u305f\u6642\u3067\u3082\u30011\u30a2\u30ab\u30a6\u30f3\u30c8\u5206\u306e\u8a8d\u8a3c\u8a2d\u5b9a\u3057\u304b\u3067\u304d\u306a\u3044 \n\nAWS credentials file\n\u30b5\u30fc\u30d0\u5185\u306b${HOME}/.aws/credencials\u3092\u7f6e\u304d\u3001\n\u4e0b\u8a18\u306e\u5f62\u5f0f\u3067\u30a2\u30af\u30bb\u30b9\u30ad\u30fc/\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3092\u8a18\u8f09\u3002\n\n${HOME}/.aws/credencials\n[default]\naws_access_key_id = asdsadasdasdasd\naws_secret_access_key = dasdasdsadasdasdasdsa\nregion = us-west-2\n\n\n\u4eca\u56de\u306f\u3053\u306e\u65b9\u6cd5\u3067\u5c11\u3057\u8a70\u307e\u3063\u305f\u306e\u3067\u30e1\u30e2\u3068\u3057\u3066\u6b8b\u3059\u3002\n\nAWS credentials file\u306e\u7f6e\u304d\u5834\u6240\u306b\u3064\u3044\u3066\n\u516c\u5f0f\u306e\u8a2d\u5b9a\u60c5\u5831\u3067\u306f\u4e0b\u8a18\u306e\u69d8\u306b\u66f8\u3044\u3066\u3042\u308b\u3002\n\nCreate a file at ~/.aws/credentials. That is the HOME path for user running grafana-server.\n\ngrafana-server\u3092\u52d5\u304b\u3057\u3066\u3044\u308buser\u306e${HOME}/.aws/credentials\u306b\u7f6e\u3051\u3068\u3002\n\ngrafana-server\u3092\u52d5\u304b\u3057\u3066\u3044\u308buser?\nyum / apt\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u306fgrafana\u30e6\u30fc\u30b6\u30fc\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u306f\u305a\u3002\ninit\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3082\u78ba\u8a8d\u304c\u3067\u304d\u308b\u3002\n\n/etc/init.d/grafana-server\nPATH=/bin:/usr/bin:/sbin:/usr/sbin\nNAME=grafana-server\nDESC=\"Grafana Server\"\n\nGRAFANA_USER=grafana\nGRAFANA_GROUP=grafana\nGRAFANA_HOME=/usr/share/grafana\nCONF_DIR=/etc/grafana\nWORK_DIR=$GRAFANA_HOME\nDATA_DIR=/var/lib/grafana\nLOG_DIR=/var/log/grafana\nCONF_FILE=$CONF_DIR/grafana.ini\nMAX_OPEN_FILES=10000\nPID_FILE=/var/run/$NAME.pid\nDAEMON=/usr/sbin/$NAME\n\n\nps\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\n[root@localhost grafana]# ps aux |grep grafana\ngrafana   7032  0.0  3.3 498112 15560 ?        Sl   12:20   0:02 /usr/sbin/grafana-server --pidfile=/var/run/grafana-server.pid --config=/etc/grafana/grafana.ini cfg:default.paths.data=/var/lib/grafana cfg:default.paths.logs=/var/log/grafana\n\n\u3053\u306e\u5834\u5408\u306fUSER:grafana GROUP:grafana\u3067\u8d77\u52d5\u3055\u305b\u3066\u3044\u308b\n\u305d\u306e\u70ba\u3001\u5f53\u7136\u30d5\u30a1\u30a4\u30eb\u306e\u6a29\u9650\u3082USER:grafana GROUP:grafana\u3068\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\u7d50\u5c40\u3069\u3046\u3059\u308b\uff1f\n/usr/share/grafana/.aws/credentials\u306bgrafana\u30e6\u30fc\u30b6\u30fc/\u30b0\u30eb\u30fc\u30d7\u306e\u6a29\u9650\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\n* \u30d5\u30a1\u30a4\u30eb\u306e\u7f6e\u304d\u5834\u6240 :\n/usr/share/grafana/.aws/credentials\n* \u30d5\u30a1\u30a4\u30eb\u306e\u6a29\u9650 : -rw-------. 1 grafana grafana  140 Oct 29 17:15 credentials\n[root@localhost grafana]# pwd\n/usr/share/grafana\n[root@localhost grafana]# ls -al\ntotal 24\ndrwxr-xr-x.  6 root    root    4096 Oct 29 16:43 .\ndrwxr-xr-x. 67 root    root    4096 Oct 29 16:29 ..\ndrwxr-xr-x.  2 grafana grafana 4096 Oct 29 17:15 .aws\ndrwxr-xr-x.  2 root    root    4096 Oct 29 17:12 conf\ndrwxr-xr-x. 12 root    root    4096 Oct 29 16:28 public\ndrwxr-xr-x.  3 root    root    4096 Oct 29 16:28 vendor\n[root@localhost grafana]# ls -al .aws/\ntotal 16\ndrwxr-xr-x. 2 grafana grafana 4096 Oct 29 17:15 .\ndrwxr-xr-x. 6 root    root    4096 Oct 29 16:43 ..\n-rw-------. 1 grafana grafana   34 Oct 29 16:34 config\n-rw-------. 1 grafana grafana  140 Oct 29 17:15 credentials\n\n\n\u7d50\u679c\nTest Connection\u3092\u62bc\u3057\u3066\u4e0b\u8a18\u753b\u9762\u306e\u3088\u3046\u306b\u306a\u308c\u3070\u63a5\u7d9a\u5b8c\u4e86\n\n\n\nGrafana2.5\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3001CloudWatch\u304c\u6b63\u5f0f\u306b\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u305f\u306e\u3067\u8a2d\u5b9a\u3092\u884c\u3063\u3066\u307f\u308b\u3002\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u8aac\u660e\u306f\u5272\u611b\u3002\nhttp://docs.grafana.org/installation/\n\n\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u3092\u6301\u305f\u306a\u3044\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u8d77\u52d5\u3067\u304d\u3055\u3048\u3059\u308c\u3070OK\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u30dd\u30fc\u30c8\u306f`3000`\n\u30e6\u30fc\u30b6\u30fc/\u30d1\u30b9\u30ef\u30fc\u30c9\u306f`admin`\n\n## CloudWatch\u8a2d\u5b9a\n\u57fa\u672c\u7684\u306b\u306f\u3053\u306e\u8a2d\u5b9a\u901a\u308a\nhttp://docs.grafana.org/datasources/cloudwatch/\n\nCloudWatch\u90e8\u5206\u306e\u30b3\u30fc\u30c9\u306f[cloudwatch.go](https://github.com/grafana/grafana/blob/5d64568f3e2488abd66d1295fa80232a6dfd231e/pkg/api/cloudwatch/cloudwatch.go)\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\nAWS SDK for Go\u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u3002\n\u203bPR\u306bProfile\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u305f\u3082\u306e\u304c\u53d6\u308a\u8fbc\u307e\u308c\u305f\u306e\u3067\u3001\u4eca\u5f8c\u306f\u30de\u30eb\u30c1\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u5fdc\u3067\u304d\u305d\u3046\u3002(2015/11/01\u6642\u70b9)\n\nCloudWatch\u63a5\u7d9a\u306e\u70ba\u306e\u8a8d\u8a3c\u306fGrafana\u306e\u8a2d\u5b9a\u3067\u306f\u306a\u304f\u3001\u30b5\u30fc\u30d0\u5074\u3067\u884c\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u65b9\u6cd5\u306f2\u7a2e\u985e\u3002\n#### IAM Roles\nEC2\u3067\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3053\u306e\u65b9\u6cd5\u304c\u4e00\u756a\u30bb\u30ad\u30e5\u30a2\u3067\u697d\u3002\n\u30c7\u30e1\u30ea\u30c3\u30c8\u3068\u3057\u3066\n* \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u8d77\u52d5\u6642\u306b\u8a2d\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n* \u30de\u30eb\u30c1\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u5fdc\u3055\u308c\u305f\u6642\u3067\u3082\u30011\u30a2\u30ab\u30a6\u30f3\u30c8\u5206\u306e\u8a8d\u8a3c\u8a2d\u5b9a\u3057\u304b\u3067\u304d\u306a\u3044 \n\n#### AWS credentials file\n\u30b5\u30fc\u30d0\u5185\u306b${HOME}/.aws/credencials\u3092\u7f6e\u304d\u3001\n\u4e0b\u8a18\u306e\u5f62\u5f0f\u3067\u30a2\u30af\u30bb\u30b9\u30ad\u30fc/\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3092\u8a18\u8f09\u3002\n\n```${HOME}/.aws/credencials\n[default]\naws_access_key_id = asdsadasdasdasd\naws_secret_access_key = dasdasdsadasdasdasdsa\nregion = us-west-2\n```\n\n\u4eca\u56de\u306f\u3053\u306e\u65b9\u6cd5\u3067\u5c11\u3057\u8a70\u307e\u3063\u305f\u306e\u3067\u30e1\u30e2\u3068\u3057\u3066\u6b8b\u3059\u3002\n\n## AWS credentials file\u306e\u7f6e\u304d\u5834\u6240\u306b\u3064\u3044\u3066\n[\u516c\u5f0f\u306e\u8a2d\u5b9a\u60c5\u5831](http://docs.grafana.org/datasources/cloudwatch/)\u3067\u306f\u4e0b\u8a18\u306e\u69d8\u306b\u66f8\u3044\u3066\u3042\u308b\u3002\n> Create a file at ~/.aws/credentials. That is the HOME path for user running grafana-server.\n\ngrafana-server\u3092\u52d5\u304b\u3057\u3066\u3044\u308buser\u306e${HOME}/.aws/credentials\u306b\u7f6e\u3051\u3068\u3002\n\n#### grafana-server\u3092\u52d5\u304b\u3057\u3066\u3044\u308buser?\nyum / apt\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u306f`grafana`\u30e6\u30fc\u30b6\u30fc\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u306f\u305a\u3002\ninit\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3082\u78ba\u8a8d\u304c\u3067\u304d\u308b\u3002\n\n```/etc/init.d/grafana-server\nPATH=/bin:/usr/bin:/sbin:/usr/sbin\nNAME=grafana-server\nDESC=\"Grafana Server\"\n\nGRAFANA_USER=grafana\nGRAFANA_GROUP=grafana\nGRAFANA_HOME=/usr/share/grafana\nCONF_DIR=/etc/grafana\nWORK_DIR=$GRAFANA_HOME\nDATA_DIR=/var/lib/grafana\nLOG_DIR=/var/log/grafana\nCONF_FILE=$CONF_DIR/grafana.ini\nMAX_OPEN_FILES=10000\nPID_FILE=/var/run/$NAME.pid\nDAEMON=/usr/sbin/$NAME\n```\n\nps\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\n\n```\n[root@localhost grafana]# ps aux |grep grafana\ngrafana   7032  0.0  3.3 498112 15560 ?        Sl   12:20   0:02 /usr/sbin/grafana-server --pidfile=/var/run/grafana-server.pid --config=/etc/grafana/grafana.ini cfg:default.paths.data=/var/lib/grafana cfg:default.paths.logs=/var/log/grafana\n```\n\n\u3053\u306e\u5834\u5408\u306f`USER:grafana GROUP:grafana`\u3067\u8d77\u52d5\u3055\u305b\u3066\u3044\u308b\n\u305d\u306e\u70ba\u3001\u5f53\u7136\u30d5\u30a1\u30a4\u30eb\u306e\u6a29\u9650\u3082`USER:grafana GROUP:grafana`\u3068\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n### \u7d50\u5c40\u3069\u3046\u3059\u308b\uff1f\n/usr/share/grafana/.aws/credentials\u306bgrafana\u30e6\u30fc\u30b6\u30fc/\u30b0\u30eb\u30fc\u30d7\u306e\u6a29\u9650\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\n* \u30d5\u30a1\u30a4\u30eb\u306e\u7f6e\u304d\u5834\u6240 :\n`/usr/share/grafana/.aws/credentials`\n* \u30d5\u30a1\u30a4\u30eb\u306e\u6a29\u9650 : `-rw-------. 1 grafana grafana  140 Oct 29 17:15 credentials`\n\n```bash\n[root@localhost grafana]# pwd\n/usr/share/grafana\n[root@localhost grafana]# ls -al\ntotal 24\ndrwxr-xr-x.  6 root    root    4096 Oct 29 16:43 .\ndrwxr-xr-x. 67 root    root    4096 Oct 29 16:29 ..\ndrwxr-xr-x.  2 grafana grafana 4096 Oct 29 17:15 .aws\ndrwxr-xr-x.  2 root    root    4096 Oct 29 17:12 conf\ndrwxr-xr-x. 12 root    root    4096 Oct 29 16:28 public\ndrwxr-xr-x.  3 root    root    4096 Oct 29 16:28 vendor\n[root@localhost grafana]# ls -al .aws/\ntotal 16\ndrwxr-xr-x. 2 grafana grafana 4096 Oct 29 17:15 .\ndrwxr-xr-x. 6 root    root    4096 Oct 29 16:43 ..\n-rw-------. 1 grafana grafana   34 Oct 29 16:34 config\n-rw-------. 1 grafana grafana  140 Oct 29 17:15 credentials\n```\n\n\n## \u7d50\u679c\n\nTest Connection\u3092\u62bc\u3057\u3066\u4e0b\u8a18\u753b\u9762\u306e\u3088\u3046\u306b\u306a\u308c\u3070\u63a5\u7d9a\u5b8c\u4e86\n### ![grafana2.5_cw_success.png](https://qiita-image-store.s3.amazonaws.com/0/38286/254c9d78-81ab-0943-1f21-0c24413a1fd4.png \"grafana2.5_cw_success.png\")\n", "tags": ["grafana", "CloudWatch"]}