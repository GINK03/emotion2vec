{"context": " More than 1 year has passed since last update.\u3084\u3063\u3068\u3067\u304d\u305f\u306e\u3067\u5171\u6709\u3057\u3066\u304a\u304d\u307e\u3059\u266a\n\u53c2\u8003\u8a18\u4e8b\nCocos2d-x\u3067\u30b7\u30f3\u30b0\u30eb\u30c8\u30f3\u306b\u3088\u308b\u753b\u9762\u9593\u30c7\u30fc\u30bf\u9023\u643a\nhttp://xcode555.sblo.jp/article/62645292.html\n(\u3053\u306e\u6642\u70b9\u3067\u306f.cpp\u304c\u8cbc\u308a\u9593\u9055\u3044\u3067\u3057\u305f\u2026)\nSingleton in cocos2d-x Android\nhttp://stackoverflow.com/questions/9434436/singleton-in-cocos2d-x-android\n\nGameManager.h\n//\n//  GameManager.h\n//  SingletonTEST\n//\n//  Created by prototechno on 2013/02/20.\n//\n//\n\n#ifndef __SingletonTEST__GameManager__\n#define __SingletonTEST__GameManager__\n\ntypedef enum{\n    GameModeMenu ,\n    GameModeNagasa ,\n    GameModeKasa ,\n}GameMode;\n\n#include \"cocos2d.h\"\n\nclass GameManager\n{\nprivate:\n    GameManager();\n    static GameManager* m_mySingleton;\n\npublic:\n    static GameManager* sharedGameManager();\n\n    GameMode gameMode;\n\n    int count;\n\n    float gameTime;\n\n};\n\n#endif /* defined(__SingletonTEST__GameManager__) */\n\n\n\nGameManager.cpp\n//\n//  GameManager.cpp\n//  SingletonTEST\n//\n//  Created by prototechno on 2013/02/20.\n//\n//\n#include \"SimpleAudioEngine.h\"\n#include \"GameManager.h\"\n\nusing namespace cocos2d;\nusing namespace CocosDenshion;\n\n//All static variables need to be defined in the .cpp file\n//I've added this following line to fix the problem\nGameManager* GameManager::m_mySingleton = NULL;\n\nGameManager::GameManager()\n{\n\n}\n\nGameManager* GameManager::sharedGameManager()\n{\n    //If the singleton has no instance yet, create one\n    if(NULL == m_mySingleton)\n    {\n        //Create an instance to the singleton\n        m_mySingleton = new GameManager();\n    }\n\n    //Return the singleton object\n    return m_mySingleton;\n}\n\n\n\u4f7f\u3044\u65b9\u306f\u3053\u3093\u306a\u611f\u3058\u2026 gameTime\u3067\u30bf\u30a4\u30de\u30fc\u3092\u5b9f\u88c5\u3057\u305f\u6642\u306e\u8a18\u9332\u3002\n\nsample.cpp\n\n#include \"GameManager.h\"\n\nvoid Play5::countTimer(float time)\n{\n    GameManager::sharedGameManager()->gameTime += time;\n\n    //\u6642\u9593\u3092\u8868\u793a\u3059\u308b\n    CCString* timeString = CCString::createWithFormat(\"%8.0f\u79d2\", GameManager::sharedGameManager()->gameTime);\n    CCLabelTTF* timerLabel = (CCLabelTTF*)this->getChildByTag(kTagTimerLabel);\n    timerLabel->setString(timeString->getCString());\n}\n\n\n\n\n\u3084\u3063\u3068\u3067\u304d\u305f\u306e\u3067\u5171\u6709\u3057\u3066\u304a\u304d\u307e\u3059\u266a\n\n\u53c2\u8003\u8a18\u4e8b\nCocos2d-x\u3067\u30b7\u30f3\u30b0\u30eb\u30c8\u30f3\u306b\u3088\u308b\u753b\u9762\u9593\u30c7\u30fc\u30bf\u9023\u643a\nhttp://xcode555.sblo.jp/article/62645292.html\n(\u3053\u306e\u6642\u70b9\u3067\u306f.cpp\u304c\u8cbc\u308a\u9593\u9055\u3044\u3067\u3057\u305f\u2026)\n\nSingleton in cocos2d-x Android\nhttp://stackoverflow.com/questions/9434436/singleton-in-cocos2d-x-android\n\n\n\n```cpp:GameManager.h\n//\n//  GameManager.h\n//  SingletonTEST\n//\n//  Created by prototechno on 2013/02/20.\n//\n//\n\n#ifndef __SingletonTEST__GameManager__\n#define __SingletonTEST__GameManager__\n\ntypedef enum{\n    GameModeMenu ,\n    GameModeNagasa ,\n    GameModeKasa ,\n}GameMode;\n\n#include \"cocos2d.h\"\n\nclass GameManager\n{\nprivate:\n    GameManager();\n    static GameManager* m_mySingleton;\n    \npublic:\n    static GameManager* sharedGameManager();\n    \n    GameMode gameMode;\n    \n    int count;\n    \n    float gameTime;\n    \n};\n\n#endif /* defined(__SingletonTEST__GameManager__) */\n```\n\n\n```cpp:GameManager.cpp\n//\n//  GameManager.cpp\n//  SingletonTEST\n//\n//  Created by prototechno on 2013/02/20.\n//\n//\n#include \"SimpleAudioEngine.h\"\n#include \"GameManager.h\"\n\nusing namespace cocos2d;\nusing namespace CocosDenshion;\n\n//All static variables need to be defined in the .cpp file\n//I've added this following line to fix the problem\nGameManager* GameManager::m_mySingleton = NULL;\n\nGameManager::GameManager()\n{\n    \n}\n\nGameManager* GameManager::sharedGameManager()\n{\n    //If the singleton has no instance yet, create one\n    if(NULL == m_mySingleton)\n    {\n        //Create an instance to the singleton\n        m_mySingleton = new GameManager();\n    }\n    \n    //Return the singleton object\n    return m_mySingleton;\n}\n```\n\n\u4f7f\u3044\u65b9\u306f\u3053\u3093\u306a\u611f\u3058\u2026 gameTime\u3067\u30bf\u30a4\u30de\u30fc\u3092\u5b9f\u88c5\u3057\u305f\u6642\u306e\u8a18\u9332\u3002\n\n```cpp:sample.cpp\n\n#include \"GameManager.h\"\n\nvoid Play5::countTimer(float time)\n{\n    GameManager::sharedGameManager()->gameTime += time;\n    \n    //\u6642\u9593\u3092\u8868\u793a\u3059\u308b\n    CCString* timeString = CCString::createWithFormat(\"%8.0f\u79d2\", GameManager::sharedGameManager()->gameTime);\n    CCLabelTTF* timerLabel = (CCLabelTTF*)this->getChildByTag(kTagTimerLabel);\n    timerLabel->setString(timeString->getCString());\n}\n\n", "tags": ["Android", "iPhone", "singleton", "C++", "cocos2d-x"]}