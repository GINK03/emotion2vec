{"context": " More than 1 year has passed since last update.\n\n\u524d\u63d0\n\u3068\u3042\u308bCSV\u30d5\u30a1\u30a4\u30eb\u3092\u51e6\u7406\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5236\u7d04\u306b\u3088\u308a\u3001\u30c7\u30fc\u30bf\u3092100\u4ef6\u305a\u3064\u5206\u5272\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\u5148\u982d3\u884c\u306f\u30d8\u30c3\u30c0\u30fc\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u308b\u305f\u3081\u3001\u5206\u5272\u30d5\u30a1\u30a4\u30eb\u305d\u308c\u305e\u308c\u306b\u540c\u3058\u30d8\u30c3\u30c0\u30fc\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\u30d0\u30c3\u30c1\u306b\u3057\u307e\u3057\u305f\n\u9069\u5f53\u306b\u30b3\u30d4\u30fc\u3057\u3066\u304a\u4f7f\u3044\u304f\u3060\u3055\u3044\u3002\u4e00\u5fdc\u8a2d\u5b9a\u65b9\u6cd5\u3092\u4e0b\u306b\u8f09\u305b\u307e\u3059\u3002\u30a8\u30e9\u30fc\u51e6\u7406\u306f\u9069\u5b9c\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nsplit.bat\n@echo off\nsetLocal EnableDelayedExpansion\ngoto :begin\n\nText File Splitter\n------------------------------\nUSAGE: Check Settings section before running.\n\n:begin\n\nRem ------------------------------\nRem Settings ...\nRem ------------------------------\n\nRem ------------------------------\nRem Original file information\nRem ------------------------------\nset limit=100\nset file=\"\u5143\u306e\u30d5\u30a1\u30a4\u30eb.csv\"\nset numOfHeader=3\nRem Note: output will have (limit + numOfHeader) lines.\n\nRem ------------------------------\nRem Output file information\nRem ------------------------------\nset name=\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d_\nset extension=.csv\nset zeroPadding=2\n\n\n\nRem ------------------------------\nRem Start process ...\nRem ------------------------------\nset lineCounter=1\nset filenameCounter=1\nset header=\nset NLM=^\n\n\nrem Two empty lines are required here\n\nif !numOfHeader! gtr 0 (\n    set headerCounter=1\n    for /f \"tokens=* delims=: eol= usebackq\" %%G in (%file%) do (\n        if !numOfHeader! geq !headerCounter! (\n            if !headerCounter! equ 1 (\n                set header=%%G\n            ) else (\n                set header=!header!!NLM!%%G\n            )\n\n            set /a headerCounter=!headerCounter! + 1\n        ) \n        if !headerCounter! gtr !numOfHeader! ( \n            goto :next\n        )\n    )\n)\n\n:next\n\nfor /f \"tokens=* delims=: eol= usebackq\" %%a in (%file%) do (\n    set fileNum=00000000000!filenameCounter!\n    set fileNum=!fileNum:~-%zeroPadding%!\n    set splitFile=!name!!fileNum!!extension!\n\n    if !lineCounter! equ 1 (\n        echo Creating !splitFile! ...\n    )\n\n    if !numOfHeader! gtr 0 (\n        if !filenameCounter! gtr 1 (\n            if !lineCounter! equ 1 (\n                echo:!header!>> !splitFile!\n            )\n        )\n    )\n    echo %%a>> !splitFile!\n\n    set /a lineCounter=!lineCounter! + 1\n    if !filenameCounter! equ 1 (\n        set /a actualLimit=!limit! + !numOfHeader!\n        if !lineCounter! gtr !actualLimit! (\n            set /a filenameCounter=!filenameCounter! + 1\n            set lineCounter=1\n        )\n    ) else (\n        if !lineCounter! gtr !limit! (\n            set /a filenameCounter=!filenameCounter! + 1\n            set lineCounter=1\n        )\n    )\n)\n\npause\n\n\n\n\u8a2d\u5b9a\n\nset limit=100\n\u4f55\u884c\u3054\u3068\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u308b\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002\nset file=\"\u5143\u306e\u30d5\u30a1\u30a4\u30eb.csv\"\n\u5206\u5272\u3092\u884c\u3046\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u53c2\u7167\u3067\u304d\u308b\u4f4d\u7f6e\u306b\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nset numOfHeader=3\n\u5148\u982d\u4f55\u884c\u3092\u30d8\u30c3\u30c0\u30fc\u3068\u3057\u3066\u6271\u3046\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002\u30d8\u30c3\u30c0\u30fc\u306a\u3057\u306a\u30890\u3067\u3059\u3002\u5b9f\u969b\u306e\u5206\u5272\u30d5\u30a1\u30a4\u30eb\u306e\u884c\u6570\u306f\u3001limit + numOfHeader \u306b\u306a\u308a\u307e\u3059\u3002\nset name=\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d_\n\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u30e2\u30c8\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u306e\u5f8c\u308d\u306b\u9023\u756a\u304c\u3064\u304d\u307e\u3059\u3002\nset extension=.csv\n\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306e\u62e1\u5f35\u5b50\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nset zeroPadding=2\n\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306b\u3064\u3051\u308b\u9023\u756a\u306e\u6841\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u9023\u756a\u306f\u30bc\u30ed\u57cb\u3081\u3057\u307e\u3059\u304c\u3001\u3042\u307e\u308a\u8ce2\u304f\u306a\u3044\u306e\u3067\u6841\u6570\u304c\u3079\u3089\u307c\u3046\u306b\u5927\u304d\u304f\u306a\u308b\u5834\u5408\u306f\u30d0\u30c3\u30c1\u3092\u4fee\u6b63\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u53c2\u8003\u30da\u30fc\u30b8\u4e00\u89a7\n\nBatch file to split .csv file - Stack Overflow\n\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb | \u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092 1 \u884c\u305a\u3064\u8aad\u307f\u8fbc\u3080 (\u5b8c\u5168\u7248\uff1f) - Kerupani129 Project \u306e\u30d6\u30ed\u30b0\n\nExplain how dos-batch newline variable hack works - Stack Overflow\n\n# \u524d\u63d0\n\u3068\u3042\u308bCSV\u30d5\u30a1\u30a4\u30eb\u3092\u51e6\u7406\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5236\u7d04\u306b\u3088\u308a\u3001\u30c7\u30fc\u30bf\u3092100\u4ef6\u305a\u3064\u5206\u5272\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\u5148\u982d3\u884c\u306f\u30d8\u30c3\u30c0\u30fc\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u308b\u305f\u3081\u3001\u5206\u5272\u30d5\u30a1\u30a4\u30eb\u305d\u308c\u305e\u308c\u306b\u540c\u3058\u30d8\u30c3\u30c0\u30fc\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n# \u30d0\u30c3\u30c1\u306b\u3057\u307e\u3057\u305f\n\u9069\u5f53\u306b\u30b3\u30d4\u30fc\u3057\u3066\u304a\u4f7f\u3044\u304f\u3060\u3055\u3044\u3002\u4e00\u5fdc\u8a2d\u5b9a\u65b9\u6cd5\u3092\u4e0b\u306b\u8f09\u305b\u307e\u3059\u3002\u30a8\u30e9\u30fc\u51e6\u7406\u306f\u9069\u5b9c\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```bat:split.bat\n@echo off\nsetLocal EnableDelayedExpansion\ngoto :begin\n\nText File Splitter\n------------------------------\nUSAGE: Check Settings section before running.\n\n:begin\n\nRem ------------------------------\nRem Settings ...\nRem ------------------------------\n\nRem ------------------------------\nRem Original file information\nRem ------------------------------\nset limit=100\nset file=\"\u5143\u306e\u30d5\u30a1\u30a4\u30eb.csv\"\nset numOfHeader=3\nRem Note: output will have (limit + numOfHeader) lines.\n\nRem ------------------------------\nRem Output file information\nRem ------------------------------\nset name=\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d_\nset extension=.csv\nset zeroPadding=2\n\n\n\nRem ------------------------------\nRem Start process ...\nRem ------------------------------\nset lineCounter=1\nset filenameCounter=1\nset header=\nset NLM=^\n\n\nrem Two empty lines are required here\n\nif !numOfHeader! gtr 0 (\n    set headerCounter=1\n    for /f \"tokens=* delims=: eol= usebackq\" %%G in (%file%) do (\n        if !numOfHeader! geq !headerCounter! (\n            if !headerCounter! equ 1 (\n                set header=%%G\n            ) else (\n                set header=!header!!NLM!%%G\n            )\n            \n            set /a headerCounter=!headerCounter! + 1\n        ) \n        if !headerCounter! gtr !numOfHeader! ( \n            goto :next\n        )\n    )\n)\n\n:next\n\nfor /f \"tokens=* delims=: eol= usebackq\" %%a in (%file%) do (\n    set fileNum=00000000000!filenameCounter!\n    set fileNum=!fileNum:~-%zeroPadding%!\n    set splitFile=!name!!fileNum!!extension!\n\n    if !lineCounter! equ 1 (\n        echo Creating !splitFile! ...\n    )\n\n    if !numOfHeader! gtr 0 (\n        if !filenameCounter! gtr 1 (\n            if !lineCounter! equ 1 (\n                echo:!header!>> !splitFile!\n            )\n        )\n    )\n    echo %%a>> !splitFile!\n\n    set /a lineCounter=!lineCounter! + 1\n    if !filenameCounter! equ 1 (\n        set /a actualLimit=!limit! + !numOfHeader!\n        if !lineCounter! gtr !actualLimit! (\n            set /a filenameCounter=!filenameCounter! + 1\n            set lineCounter=1\n        )\n    ) else (\n        if !lineCounter! gtr !limit! (\n            set /a filenameCounter=!filenameCounter! + 1\n            set lineCounter=1\n        )\n    )\n)\n\npause\n```\n\n## \u8a2d\u5b9a\n<dl>\n<dt><code>set limit=100</code></dt>\n<dd>\u4f55\u884c\u3054\u3068\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u308b\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002</dd>\n<dt><code>set file=\"\u5143\u306e\u30d5\u30a1\u30a4\u30eb.csv\"</code></dt>\n<dd>\u5206\u5272\u3092\u884c\u3046\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u53c2\u7167\u3067\u304d\u308b\u4f4d\u7f6e\u306b\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</dd>\n<dt><code>set numOfHeader=3</code></dt>\n<dd>\u5148\u982d\u4f55\u884c\u3092\u30d8\u30c3\u30c0\u30fc\u3068\u3057\u3066\u6271\u3046\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002\u30d8\u30c3\u30c0\u30fc\u306a\u3057\u306a\u30890\u3067\u3059\u3002\u5b9f\u969b\u306e\u5206\u5272\u30d5\u30a1\u30a4\u30eb\u306e\u884c\u6570\u306f\u3001<code>limit + numOfHeader</code> \u306b\u306a\u308a\u307e\u3059\u3002</dd>\n<dt><code>set name=\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d_</code></dt>\n<dd>\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u30e2\u30c8\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u306e\u5f8c\u308d\u306b\u9023\u756a\u304c\u3064\u304d\u307e\u3059\u3002</dd>\n<dt><code>set extension=.csv</code></dt>\n<dd>\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306e\u62e1\u5f35\u5b50\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</dd>\n<dt><code>set zeroPadding=2</code></dt>\n<dd>\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306b\u3064\u3051\u308b\u9023\u756a\u306e\u6841\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u9023\u756a\u306f\u30bc\u30ed\u57cb\u3081\u3057\u307e\u3059\u304c\u3001\u3042\u307e\u308a\u8ce2\u304f\u306a\u3044\u306e\u3067\u6841\u6570\u304c\u3079\u3089\u307c\u3046\u306b\u5927\u304d\u304f\u306a\u308b\u5834\u5408\u306f\u30d0\u30c3\u30c1\u3092\u4fee\u6b63\u3057\u3066\u304f\u3060\u3055\u3044\u3002</dd>\n</dl>\n\n# \u53c2\u8003\u30da\u30fc\u30b8\u4e00\u89a7\n- [Batch file to split .csv file - Stack Overflow](http://stackoverflow.com/questions/20602869/batch-file-to-split-csv-file)\n- [\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb | \u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092 1 \u884c\u305a\u3064\u8aad\u307f\u8fbc\u3080 (\u5b8c\u5168\u7248\uff1f) - Kerupani129 Project \u306e\u30d6\u30ed\u30b0\n](http://blogs.yahoo.co.jp/kerupani/15344574.html)\n- [Explain how dos-batch newline variable hack works - Stack Overflow](http://stackoverflow.com/questions/6379619/explain-how-dos-batch-newline-variable-hack-works)\n", "tags": ["Windows", "bat"]}