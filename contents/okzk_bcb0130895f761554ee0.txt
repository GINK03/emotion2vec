{"context": " More than 1 year has passed since last update.\u6539\u4fee\u3059\u308b\u30b7\u30b9\u30c6\u30e0\u306e\u30d5\u30a1\u30a4\u30eb\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u90e8\u5206\u306b\u30c6\u30b9\u30c8\u304c\u7121\u304b\u3063\u305f\u306e\u3067\u66f8\u3044\u3066\u307f\u305f\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3001\u30d5\u30a9\u30fc\u30e0\u3002\n\u30a8\u30af\u30bb\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3068\u4e00\u89a7\u304c\u66f4\u65b0\u3055\u308c\u308b\u3068\u3044\u3046\u3088\u3046\u306a\u3082\u306e\u3002\n<%= form_tag(:action: :create, multipart: true) do %>\n  \u30d5\u30a1\u30a4\u30eb\u540d: <%= file_field(:upload, 'file') %>\n  <%= submit_tag('\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9') %><br>\n<% end %>\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306bfeature spec\u3092\u66f8\u3044\u3066\u307f\u305f\u3002\nscenario '\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u66f4\u65b0\u3067\u304d\u308b' do\n  file_path = Rails.root.join('spec', 'fixtures', 'hoge.xls')\n  attach_file('upload_file', file_path)\n  click_on '\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9'\n\n  expect(page).to have_content '\u307b\u3052\u307b\u3052'\nend\n\n\u306f\u30fc\u3001\u624b\u52d5\u30c6\u30b9\u30c8\u3068\u304b\u30e1\u30c1\u30e3\u30e1\u30c1\u30e3\u8f9b\u3044\u90e8\u5206\u306a\u306e\u3067\u81ea\u52d5\u3067\u3084\u3063\u3066\u304f\u308c\u308b\u3068\u52a9\u304b\u308b\u308f\u30fc\u3002\ncontroller\u3067\u30c6\u30b9\u30c8\u3059\u308b\u306a\u3089fixture_file_upload\u3068\u304b\u3092\u4f7f\u3046\u3068\u3088\u3044\u304b\u3082\u3002\n\n\u53c2\u8003\n\nhttps://github.com/jnicklas/capybara/blob/master/lib/capybara/spec/session/attach_file_spec.rb\nModule: Capybara::Node::Actions \u2014 Documentation for jnicklas/capybara (master)\n\n\n\u6539\u4fee\u3059\u308b\u30b7\u30b9\u30c6\u30e0\u306e\u30d5\u30a1\u30a4\u30eb\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u90e8\u5206\u306b\u30c6\u30b9\u30c8\u304c\u7121\u304b\u3063\u305f\u306e\u3067\u66f8\u3044\u3066\u307f\u305f\u3002\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3001\u30d5\u30a9\u30fc\u30e0\u3002\n\u30a8\u30af\u30bb\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3068\u4e00\u89a7\u304c\u66f4\u65b0\u3055\u308c\u308b\u3068\u3044\u3046\u3088\u3046\u306a\u3082\u306e\u3002\n\n~~~erb\n<%= form_tag(:action: :create, multipart: true) do %>\n  \u30d5\u30a1\u30a4\u30eb\u540d: <%= file_field(:upload, 'file') %>\n  <%= submit_tag('\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9') %><br>\n<% end %>\n~~~\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b`feature spec`\u3092\u66f8\u3044\u3066\u307f\u305f\u3002\n\n~~~ruby\nscenario '\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u66f4\u65b0\u3067\u304d\u308b' do\n  file_path = Rails.root.join('spec', 'fixtures', 'hoge.xls')\n  attach_file('upload_file', file_path)\n  click_on '\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9'\n\n  expect(page).to have_content '\u307b\u3052\u307b\u3052'\nend\n~~~\n\n\u306f\u30fc\u3001\u624b\u52d5\u30c6\u30b9\u30c8\u3068\u304b\u30e1\u30c1\u30e3\u30e1\u30c1\u30e3\u8f9b\u3044\u90e8\u5206\u306a\u306e\u3067\u81ea\u52d5\u3067\u3084\u3063\u3066\u304f\u308c\u308b\u3068\u52a9\u304b\u308b\u308f\u30fc\u3002\n`controller`\u3067\u30c6\u30b9\u30c8\u3059\u308b\u306a\u3089`fixture_file_upload`\u3068\u304b\u3092\u4f7f\u3046\u3068\u3088\u3044\u304b\u3082\u3002\n\n### \u53c2\u8003\n\n* <https://github.com/jnicklas/capybara/blob/master/lib/capybara/spec/session/attach_file_spec.rb>\n* [Module: Capybara::Node::Actions \u2014 Documentation for jnicklas/capybara (master)](http://www.rubydoc.info/github/jnicklas/capybara/master/Capybara/Node/Actions \"Module: Capybara::Node::Actions \u2014 Documentation for jnicklas/capybara (master)\")\n", "tags": ["Capybara", "RSpec", "upload"]}