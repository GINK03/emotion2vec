{"tags": ["\u30c7\u8f9e\u8535", "WebAPI", "PHP", "JavaScript", "jQuery"], "context": "\n\n\u6982\u8981\n\u300c\u30c7\u8f9e\u8535\u300d\u3068\u3044\u3046\u8f9e\u66f8API\u304c\u3042\u308a\u307e\u3059\u3002\nhttps://dejizo.jp/dev/index.html\n\u7121\u511f\u516c\u958b\u7248\u306eAPI\u306f\u3001\u52d5\u4f5c\u4fdd\u8a3c\u306f\u3057\u306a\u3044\u3051\u308c\u3069\u3001\u5546\u7528\u3082\u542b\u3081\u3066\u3069\u306e\u3088\u3046\u306a\u76ee\u7684\u3067\u5229\u7528\u3057\u3066\u3082OK\u3068\u306e\u3053\u3068\u3002\n\nSOAP\u7248\u3068REST\u7248\u306eAPI\u304c\u3042\u308a\u307e\u3059\u304c\u3001REST\u7248\u306e\u307b\u3046\u3092JavaScript\u304b\u3089\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u30ad\u30fc\u30ef\u30fc\u30c9\u5165\u529b\u3057\u305f\u3089\u5019\u88dc\u4e00\u89a7\u304c\u3067\u3066\u304f\u308b\u3001\u305d\u306e\u5019\u88dc\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u3089\u5185\u5bb9\u304c\u53d6\u5f97\u3055\u308c\u308b\u3001\u3068\u3044\u3046\u6d41\u308c\u3067\u3059\u3002\n\n\n\n\u30b3\u30fc\u30c9\n\u3056\u3063\u304f\u308a\u3068\u30b3\u30fc\u30c9\u3060\u3051\u3067\u3059\u304c\u3001\u898b\u308c\u3070\u308f\u304b\u308b\u3060\u308d\u3046\u3068\u3044\u3046\u89b3\u70b9\u3067\u7279\u306b\u30b3\u30e1\u30f3\u30c8\u3084\u89e3\u8aac\u306a\u3057\u306e\u624b\u629c\u304d\u3067\u3059\u3002\u4e0d\u660e\u70b9\u3042\u308c\u3070\u30b3\u30e1\u30f3\u30c8\u3057\u3066\u3082\u3089\u3048\u308c\u3070\u56de\u7b54\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001\u57fa\u672c\u7684\u306bJavaScript\u3067\u3059\u3079\u3066\u5236\u5fa1\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u30af\u30ed\u30b9\u30c9\u30e1\u30a4\u30f3\u5236\u7d04\u3092\u7a81\u7834\u3059\u308b\u3068\u3053\u308d\u3060\u3051\u3001PHP\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\u53c2\u8003\uff1aajax\u3067\u30af\u30ed\u30b9\u30c9\u30e1\u30a4\u30f3\u901a\u4fe1\u3092\u5b9f\u73fe\u3059\u308bphp\n\najax.php\n<?php\nif(isset($_GET[\"url\"]) && preg_match(\"/^https?:/\",$_GET[\"url\"])){\n    echo file_get_contents($_GET[\"url\"]);\n}else{\n    echo \"error \";\n}\n\n\n\n<!doctype html>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>\u30c7\u8f9e\u8535 REST\u7248API \u3092\u4f7f\u3063\u3066\u307f\u308b</title>\n<script src=\"//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js\"></script>\n<script>\n$(document).ready(function() {\n    $('#container').on('click', '#btn_wikipedia', function() {\n        var txt = $('#input_keyword').val();\n        if (txt != '') {\n            getList('wpedia',txt);\n        }\n    });\n    $('#container').on('click', '#btn_ej', function() {\n        var txt = $('#input_keyword').val();\n        if (txt != '') {\n            getList('EJdict',txt);\n        }\n    });\n    $('#container').on('click', '#btn_je', function() {\n        var txt = $('#input_keyword').val();\n        if (txt != '') {\n            getList('EdictJE',txt);\n        }\n    });\n});\n\nvar nowdic = '';\n\nfunction getList(_dic,_txt){\n    nowdic = _dic;\n    var reqPath = \"http://public.dejizo.jp/NetDicV09.asmx/SearchDicItemLite?Dic=\"+nowdic+\"&Word=\"+encodeURI(_txt)+\"&Scope=HEADWORD&Match=CONTAIN&Merge=AND&Prof=XHTML&PageSize=20&PageIndex=0\";\n    console.log(reqPath);\n    $('#result2').html('');\n    $.ajax({\n        type: \"get\",\n        url: \"ajax.php\",\n        data:{\n            url:reqPath\n        },\n        dataType: 'xml',\n        cache: false,\n        timeout: 5000,\n        success: function(xml) {\n            console.log(xml);\n            var htmlstr = '<ul>';\n            $(xml).find(\"DicItemTitle\").each(function() {\n                var id = $(this).find(\"ItemID\").text();\n                var title = $(this).find(\"Title\").text();\n                htmlstr += '<li><a href=\"javascript:getWord(\\''+id+'\\');\">'+title+'</li>';\n            });\n            htmlstr += '</ul>';\n            $('#result1').html(htmlstr);\n        },\n        error: function(XMLHttpRequest, textStatus, errorThrown){\n            alert('error');\n        }\n    });\n}\n\nfunction getWord(_id){\n    var reqPath = \"http://public.dejizo.jp/NetDicV09.asmx/GetDicItemLite?Dic=\"+nowdic+\"&Item=\"+_id+\"&Loc=&Prof=XHTML\";\n    console.log(reqPath);\n    $.ajax({\n        type: \"get\",\n        url: \"ajax.php\",\n        data:{\n            url:reqPath\n        },\n        dataType: 'xml',\n        cache: false,\n        timeout: 5000,\n        success: function(xml) {\n            console.log(xml);\n            var htmlstr = '';\n            var data = $(xml).find(\"Body\").get(0);\n            var serializer = new XMLSerializer(); \n            htmlstr += serializer.serializeToString(data);\n            $('#result2').html(htmlstr);\n        },\n        error: function(XMLHttpRequest, textStatus, errorThrown){\n            alert('error');\n        }\n    });\n}\n</script>\n</head>\n<body>\n<h1>\u30c7\u8f9e\u8535 REST\u7248API \u3092\u4f7f\u3063\u3066\u307f\u308b</h1>\n<p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\uff1a<a href=\"https://dejizo.jp/dev/rest.html\" target=\"_blank\">https://dejizo.jp/dev/rest.html</a></p>\n<hr>\n<div id=\"container\">\n    <input type=\"text\" id=\"input_keyword\">\n    <button type=\"button\" id=\"btn_wikipedia\">\u30a6\u30a3\u30ad\u30da\u30c7\u30a3\u30a2\u65e5\u672c\u8a9e\u7248</button>\n    <button type=\"button\" id=\"btn_ej\">EJDict\u82f1\u548c\u8f9e\u5178</button>\n    <button type=\"button\" id=\"btn_je\">Edict\u548c\u82f1\u8f9e\u5178</button>\n    <hr>\n    <div id=\"result1\"></div>\n    <hr>\n    <div id=\"result2\"></div>\n</div>\n</body>\n</html>\n\n\n\n\u30c7\u30e2\u30b5\u30a4\u30c8\nhttp://dev.elephancube.jp/qiita/dejizo.html\n\n\u6ce8\u610f\u70b9\nItemID \u3092\u3068\u3063\u3066\u304d\u3066\u3001\u305d\u308c\u3092\u307e\u305f API \u306b\u6e21\u3059\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u30b3\u30fc\u30c9\u306e\u3069\u3053\u304b\u3067\u6570\u5024\u3068\u3057\u3066\u6271\u3063\u3066\u30bc\u30ed\u304c\u8a70\u3081\u3089\u308c\u3066\u3057\u307e\u3046\u3068\u6b63\u3057\u304f\u60c5\u5831\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u306e\u70b9\u3060\u3051\u3001\u3061\u3087\u3063\u3068\u30cf\u30de\u308a\u307e\u3057\u305f...\n\u4f8b\uff1a ItemID \u304c 003276 \u3068\u5165\u3063\u3066\u304d\u305f\u3068\u304d\u3001\u3069\u3053\u304b\u3067\u6570\u5024\u306b\u578b\u5909\u63db\u3055\u308c\u3066 3276 \u3068\u306a\u3063\u3066\u3057\u307e\u3046\u3068\u30c0\u30e1\u3067\u3059\u3002\n#\u6982\u8981\n\u300c\u30c7\u8f9e\u8535\u300d\u3068\u3044\u3046\u8f9e\u66f8API\u304c\u3042\u308a\u307e\u3059\u3002\nhttps://dejizo.jp/dev/index.html\n\n\u7121\u511f\u516c\u958b\u7248\u306eAPI\u306f\u3001\u52d5\u4f5c\u4fdd\u8a3c\u306f\u3057\u306a\u3044\u3051\u308c\u3069\u3001\u5546\u7528\u3082\u542b\u3081\u3066\u3069\u306e\u3088\u3046\u306a\u76ee\u7684\u3067\u5229\u7528\u3057\u3066\u3082OK\u3068\u306e\u3053\u3068\u3002\n\n- SOAP\u7248\u3068REST\u7248\u306eAPI\u304c\u3042\u308a\u307e\u3059\u304c\u3001REST\u7248\u306e\u307b\u3046\u3092JavaScript\u304b\u3089\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n- \u30ad\u30fc\u30ef\u30fc\u30c9\u5165\u529b\u3057\u305f\u3089\u5019\u88dc\u4e00\u89a7\u304c\u3067\u3066\u304f\u308b\u3001\u305d\u306e\u5019\u88dc\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u3089\u5185\u5bb9\u304c\u53d6\u5f97\u3055\u308c\u308b\u3001\u3068\u3044\u3046\u6d41\u308c\u3067\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-04-17 06.40.23.png](https://qiita-image-store.s3.amazonaws.com/0/24420/50afabc2-ee9b-5212-df7a-e5b18cfc2d3c.png)\n\n#\u30b3\u30fc\u30c9\n\u3056\u3063\u304f\u308a\u3068\u30b3\u30fc\u30c9\u3060\u3051\u3067\u3059\u304c\u3001\u898b\u308c\u3070\u308f\u304b\u308b\u3060\u308d\u3046\u3068\u3044\u3046\u89b3\u70b9\u3067\u7279\u306b\u30b3\u30e1\u30f3\u30c8\u3084\u89e3\u8aac\u306a\u3057\u306e\u624b\u629c\u304d\u3067\u3059\u3002\u4e0d\u660e\u70b9\u3042\u308c\u3070\u30b3\u30e1\u30f3\u30c8\u3057\u3066\u3082\u3089\u3048\u308c\u3070\u56de\u7b54\u3057\u307e\u3059\u3002\n\n\u306a\u304a\u3001\u57fa\u672c\u7684\u306bJavaScript\u3067\u3059\u3079\u3066\u5236\u5fa1\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u30af\u30ed\u30b9\u30c9\u30e1\u30a4\u30f3\u5236\u7d04\u3092\u7a81\u7834\u3059\u308b\u3068\u3053\u308d\u3060\u3051\u3001PHP\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\u53c2\u8003\uff1a[ajax\u3067\u30af\u30ed\u30b9\u30c9\u30e1\u30a4\u30f3\u901a\u4fe1\u3092\u5b9f\u73fe\u3059\u308bphp](http://qiita.com/tsunet111/items/c1a4ce1499e53fce449a)\n\n\n```PHP:ajax.php\n<?php\nif(isset($_GET[\"url\"]) && preg_match(\"/^https?:/\",$_GET[\"url\"])){\n\techo file_get_contents($_GET[\"url\"]);\n}else{\n\techo \"error \";\n}\n\n```\n\n```html\n<!doctype html>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>\u30c7\u8f9e\u8535 REST\u7248API \u3092\u4f7f\u3063\u3066\u307f\u308b</title>\n<script src=\"//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js\"></script>\n<script>\n$(document).ready(function() {\n\t$('#container').on('click', '#btn_wikipedia', function() {\n\t\tvar txt = $('#input_keyword').val();\n\t\tif (txt != '') {\n\t\t\tgetList('wpedia',txt);\n\t\t}\n\t});\n\t$('#container').on('click', '#btn_ej', function() {\n\t\tvar txt = $('#input_keyword').val();\n\t\tif (txt != '') {\n\t\t\tgetList('EJdict',txt);\n\t\t}\n\t});\n\t$('#container').on('click', '#btn_je', function() {\n\t\tvar txt = $('#input_keyword').val();\n\t\tif (txt != '') {\n\t\t\tgetList('EdictJE',txt);\n\t\t}\n\t});\n});\n\nvar nowdic = '';\n\nfunction getList(_dic,_txt){\n\tnowdic = _dic;\n\tvar reqPath = \"http://public.dejizo.jp/NetDicV09.asmx/SearchDicItemLite?Dic=\"+nowdic+\"&Word=\"+encodeURI(_txt)+\"&Scope=HEADWORD&Match=CONTAIN&Merge=AND&Prof=XHTML&PageSize=20&PageIndex=0\";\n\tconsole.log(reqPath);\n\t$('#result2').html('');\n\t$.ajax({\n\t\ttype: \"get\",\n\t\turl: \"ajax.php\",\n\t\tdata:{\n\t\t\turl:reqPath\n\t\t},\n\t\tdataType: 'xml',\n\t\tcache: false,\n\t\ttimeout: 5000,\n\t\tsuccess: function(xml) {\n\t\t\tconsole.log(xml);\n\t\t\tvar htmlstr = '<ul>';\n\t\t\t$(xml).find(\"DicItemTitle\").each(function() {\n\t\t\t\tvar id = $(this).find(\"ItemID\").text();\n\t\t\t\tvar title = $(this).find(\"Title\").text();\n\t\t\t\thtmlstr += '<li><a href=\"javascript:getWord(\\''+id+'\\');\">'+title+'</li>';\n\t\t\t});\n\t\t\thtmlstr += '</ul>';\n\t\t\t$('#result1').html(htmlstr);\n\t\t},\n\t\terror: function(XMLHttpRequest, textStatus, errorThrown){\n\t\t\talert('error');\n\t\t}\n\t});\n}\n\nfunction getWord(_id){\n\tvar reqPath = \"http://public.dejizo.jp/NetDicV09.asmx/GetDicItemLite?Dic=\"+nowdic+\"&Item=\"+_id+\"&Loc=&Prof=XHTML\";\n\tconsole.log(reqPath);\n\t$.ajax({\n\t\ttype: \"get\",\n\t\turl: \"ajax.php\",\n\t\tdata:{\n\t\t\turl:reqPath\n\t\t},\n\t\tdataType: 'xml',\n\t\tcache: false,\n\t\ttimeout: 5000,\n\t\tsuccess: function(xml) {\n\t\t\tconsole.log(xml);\n\t\t\tvar htmlstr = '';\n\t\t\tvar data = $(xml).find(\"Body\").get(0);\n\t\t\tvar serializer = new XMLSerializer(); \n\t\t\thtmlstr += serializer.serializeToString(data);\n\t\t\t$('#result2').html(htmlstr);\n\t\t},\n\t\terror: function(XMLHttpRequest, textStatus, errorThrown){\n\t\t\talert('error');\n\t\t}\n\t});\n}\n</script>\n</head>\n<body>\n<h1>\u30c7\u8f9e\u8535 REST\u7248API \u3092\u4f7f\u3063\u3066\u307f\u308b</h1>\n<p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\uff1a<a href=\"https://dejizo.jp/dev/rest.html\" target=\"_blank\">https://dejizo.jp/dev/rest.html</a></p>\n<hr>\n<div id=\"container\">\n\t<input type=\"text\" id=\"input_keyword\">\n\t<button type=\"button\" id=\"btn_wikipedia\">\u30a6\u30a3\u30ad\u30da\u30c7\u30a3\u30a2\u65e5\u672c\u8a9e\u7248</button>\n\t<button type=\"button\" id=\"btn_ej\">EJDict\u82f1\u548c\u8f9e\u5178</button>\n\t<button type=\"button\" id=\"btn_je\">Edict\u548c\u82f1\u8f9e\u5178</button>\n\t<hr>\n\t<div id=\"result1\"></div>\n\t<hr>\n\t<div id=\"result2\"></div>\n</div>\n</body>\n</html>\n\n```\n\n##\u30c7\u30e2\u30b5\u30a4\u30c8\nhttp://dev.elephancube.jp/qiita/dejizo.html\n\n##\u6ce8\u610f\u70b9\nItemID \u3092\u3068\u3063\u3066\u304d\u3066\u3001\u305d\u308c\u3092\u307e\u305f API \u306b\u6e21\u3059\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u30b3\u30fc\u30c9\u306e\u3069\u3053\u304b\u3067\u6570\u5024\u3068\u3057\u3066\u6271\u3063\u3066\u30bc\u30ed\u304c\u8a70\u3081\u3089\u308c\u3066\u3057\u307e\u3046\u3068\u6b63\u3057\u304f\u60c5\u5831\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u306e\u70b9\u3060\u3051\u3001\u3061\u3087\u3063\u3068\u30cf\u30de\u308a\u307e\u3057\u305f...\n\u4f8b\uff1a ItemID \u304c `003276` \u3068\u5165\u3063\u3066\u304d\u305f\u3068\u304d\u3001\u3069\u3053\u304b\u3067\u6570\u5024\u306b\u578b\u5909\u63db\u3055\u308c\u3066 `3276` \u3068\u306a\u3063\u3066\u3057\u307e\u3046\u3068\u30c0\u30e1\u3067\u3059\u3002\n"}