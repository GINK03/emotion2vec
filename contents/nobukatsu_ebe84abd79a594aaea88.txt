{"context": "\n\n\u6982\u8981\n\u9759\u7684\u30b3\u30fc\u30c9\u89e3\u6790\u30c4\u30fc\u30eb\u3067\u3042\u308bSonarQube\u3092Docker\u3092\u4f7f\u3063\u3066\u69cb\u7bc9\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u624b\u9806\n\nMySQL\u8a2d\u5b9a&\u8d77\u52d5\nMySQL\u7528\u306e\u30c7\u30fc\u30bf\u30dc\u30ea\u30e5\u30fc\u30e0\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3002\n$ docker run -d \\\n-v /usr/local/data/mysql-sonarqube:/var/lib/mysql \\\n--name busybox-sonarqube \\\nbusybox true\n\nMySQL\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3002\n\n/usr/local/data/mysql-sonarqube-conf/custom.cnf\n[mysqld]\ncharacter-set-server=utf8\n\n[client]\ndefault-character-set=utf8\n\n\nMySQL\u8d77\u52d5\u3002\n$ docker run -d \\\n--name mysql-sonarqube \\\n--volumes-from busybox-sonarqube \\\n-v /usr/local/data/mysql-sonarqube-conf:/etc/mysql/conf.d \\\n-p 3306:3306 \\\n-e MYSQL_ROOT_PASSWORD=XXX \\\nmysql\n\nMySQL\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u5165\u3063\u3066SonarQube\u7528\u306eDB\u3092\u4f5c\u6210\u3002\nCREATE DATABASE sonar CHARACTER SET utf8;\nCREATE USER 'sonar' IDENTIFIED BY 'sonar';\nGRANT ALL ON sonar.* TO 'sonar'@'%' IDENTIFIED BY 'sonar';\nGRANT ALL ON sonar.* TO 'sonar'@'localhost' IDENTIFIED BY 'sonar';\n\n\nSonarQube\u8d77\u52d5\n$ docker run -d \\\n--name sonarqube \\\n--link mysql-sonarqube:mysql \\\n-p 9000:9000 \\\n-p 9092:9092 \\\n-e SONARQUBE_JDBC_USERNAME=sonar \\\n-e SONARQUBE_JDBC_PASSWORD=sonar \\\n-e \"SONARQUBE_JDBC_URL=jdbc:mysql://mysql:3306/sonar?useUnicode=true&characterEncoding=utf8\" \\\nsonarqube\n\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u78ba\u8a8d\n\u300chttp://[\u30b5\u30fc\u30d0\u306e\u30a2\u30c9\u30ec\u30b9]:9000/\u300d\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066SonarQube\u306eDashboard\u304c\u8868\u793a\u3055\u308c\u305f\u3089\u6210\u529f\u3067\u3059\u3002\n# \u6982\u8981\n\n\u9759\u7684\u30b3\u30fc\u30c9\u89e3\u6790\u30c4\u30fc\u30eb\u3067\u3042\u308b[SonarQube](http://www.sonarqube.org)\u3092Docker\u3092\u4f7f\u3063\u3066\u69cb\u7bc9\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n# \u624b\u9806\n\n## MySQL\u8a2d\u5b9a&\u8d77\u52d5\n\nMySQL\u7528\u306e\u30c7\u30fc\u30bf\u30dc\u30ea\u30e5\u30fc\u30e0\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3002\n\n```bash\n$ docker run -d \\\n-v /usr/local/data/mysql-sonarqube:/var/lib/mysql \\\n--name busybox-sonarqube \\\nbusybox true\n```\n\nMySQL\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3002\n\n```text:/usr/local/data/mysql-sonarqube-conf/custom.cnf\n[mysqld]\ncharacter-set-server=utf8\n\n[client]\ndefault-character-set=utf8\n```\n\nMySQL\u8d77\u52d5\u3002\n\n```bash\n$ docker run -d \\\n--name mysql-sonarqube \\\n--volumes-from busybox-sonarqube \\\n-v /usr/local/data/mysql-sonarqube-conf:/etc/mysql/conf.d \\\n-p 3306:3306 \\\n-e MYSQL_ROOT_PASSWORD=XXX \\\nmysql\n```\n\nMySQL\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u5165\u3063\u3066SonarQube\u7528\u306eDB\u3092\u4f5c\u6210\u3002\n\n```sql\nCREATE DATABASE sonar CHARACTER SET utf8;\nCREATE USER 'sonar' IDENTIFIED BY 'sonar';\nGRANT ALL ON sonar.* TO 'sonar'@'%' IDENTIFIED BY 'sonar';\nGRANT ALL ON sonar.* TO 'sonar'@'localhost' IDENTIFIED BY 'sonar';\n```\n\n## SonarQube\u8d77\u52d5\n\n```bash\n$ docker run -d \\\n--name sonarqube \\\n--link mysql-sonarqube:mysql \\\n-p 9000:9000 \\\n-p 9092:9092 \\\n-e SONARQUBE_JDBC_USERNAME=sonar \\\n-e SONARQUBE_JDBC_PASSWORD=sonar \\\n-e \"SONARQUBE_JDBC_URL=jdbc:mysql://mysql:3306/sonar?useUnicode=true&characterEncoding=utf8\" \\\nsonarqube\n```\n\n## \u30d6\u30e9\u30a6\u30b6\u304b\u3089\u78ba\u8a8d\n\n\u300chttp://[\u30b5\u30fc\u30d0\u306e\u30a2\u30c9\u30ec\u30b9\u0010\u0010\u0010\u0010\u0010\u0010\u0010\u0010]:9000/\u300d\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066SonarQube\u306eDashboard\u304c\u8868\u793a\u3055\u308c\u305f\u3089\u6210\u529f\u3067\u3059\u3002\n", "tags": ["SonarQube", "docker"]}