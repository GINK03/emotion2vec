{"context": "\n\n\u306f\u3058\u3081\u306b\nAWS CloudFormation\u306b\u3088\u308a\u3001AWS\u306bVPC\u3092\u4f5c\u6210\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\nVPC\u5185\u306bpublic\u53ca\u3073private\u30b5\u30d6\u30cd\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u3001\u3064\u3044\u3067\u306bt2.nano\u3067\u30c6\u30b9\u30c8\u7528\u306eEC\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3059\u308bCloudFormation\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\n\u53c2\u8003\u30b5\u30a4\u30c8\n\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\nhttp://qiita.com/takachan/items/92f47356c0a085c49821\nhttp://docs.aws.amazon.com/ja_jp/AmazonVPC/latest/UserGuide/VPC_Subnets.html\nhttp://docs.aws.amazon.com/ja_jp/AmazonVPC/latest/UserGuide/VPC_Scenario2.html\nhttp://docs.aws.amazon.com/ja_jp/AmazonVPC/latest/UserGuide/VPC_Route_Tables.html#RouteTables\n\nCloudFormation\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068CloudFormation\u30b9\u30bf\u30c3\u30af\u4f5c\u6210\u624b\u9806\n\n(1) CloudFormation\u30b9\u30bf\u30c3\u30af\u4f5c\u6210\u753b\u9762\u306e[Select Template]\u753b\u9762\u3067CloudFormation\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3002\nAWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\n[CloudFormation]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n[CloudFormation]\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n[Create Srack]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\nCloudFormation\u30b9\u30bf\u30c3\u30af\u3092\u4f5c\u6210\u51fa\u6765\u308b[Select Template]\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n[Choose a template]\u3067[Upload a template to Amazon S3]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\u5f8c\u8ff0\u306eCloudFormation\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8[create-example-vpc-stack.json]\u3092\u8a18\u8f09\u3057\u305f\u30d5\u30a1\u30a4\u30eb[create-example-vpc-stack.json.txt]\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n[Upload a template to Amazon S3]\u3067\u4f5c\u6210\u3057\u305f[create-example-vpc-stack.json.txt]\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nCloudFormation\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3089\u3001[Next]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\ncreate-example-vpc-stack.json\n{\n  \"AWSTemplateFormatVersion\" : \"2010-09-09\",\n  \"Description\" : \"Create AWS CloudFormation Customize Virtual Private Cloud\",\n  \"Parameters\" : {\n    \"VpcName\": {\n      \"Description\" : \"Please input VPC name.\",\n      \"Type\": \"String\",\n      \"Default\" : \"example-vpc\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n\n    \"VpcCidrBlock\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in VPC.\",\n      \"Default\" : \"10.0.0.0/16\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/16\",\n      \"ConstraintDescription\": \"\"\n    },\n\n    \"VpcSubnetNamePublic1a\": {\n      \"Description\" : \"Please input the subnet name of example-vpc-public-subnet-1a.\",\n      \"Type\": \"String\",\n      \"Default\" : \"example-vpc-public-subnet-1a\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockPublic1a\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in example-vpc-public-subnet-1a.\",\n      \"Default\" : \"10.0.3.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n\n    \"VpcSubnetNamePublic1c\": {\n      \"Description\" : \"Please input the subnet name of example-vpc-public-subnet-1c.\",\n      \"Type\": \"String\",\n      \"Default\" : \"example-vpc-public-subnet-1c\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockPublic1c\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in example-vpc-public-subnet-1c.\",\n      \"Default\" : \"10.0.4.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n\n    \"VpcSubnetNamePrivate1a\": {\n      \"Description\" : \"Please input the subnet name of example-vpc-private-subnet-1a.\",\n      \"Type\": \"String\",\n      \"Default\" : \"example-vpc-private-subnet-1a\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockPrivate1a\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in example-vpc-private-subnet-1a.\",\n      \"Default\" : \"10.0.1.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n\n    \"VpcSubnetNamePrivate1c\": {\n      \"Description\" : \"Please input the subnet name of private-subnet-1c.\",\n      \"Type\": \"String\",\n      \"Default\" : \"example-vpc-private-subnet-1c\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockPrivate1c\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in example-vpc-private-subnet-1c.\",\n      \"Default\" : \"10.0.2.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n\n    \"InternetGatewayName\": {\n      \"Description\" : \"Please input the name of Internet Gateway.\",\n      \"Type\": \"String\",\n      \"Default\" : \"example-vpc-igw\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n\n    \"InstanceType\" : {\n      \"Description\" : \"EC2 instance type\",\n      \"Type\" : \"String\",\n      \"Default\" : \"t2.nano\",\n      \"AllowedValues\" : [ \"t1.micro\",\"t2.nano\",\"t2.micro\",\"m1.small\",\"m1.medium\",\"m1.large\",\"m1.xlarge\",\"m2.xlarge\",\"m2.2xlarge\",\"m2.4xlarge\",\"m3.xlarge\",\"m3.2xlarge\",\"c1.medium\",\"c1.xlarge\",\"cc1.4xlarge\",\"cc2.8xlarge\",\"cg1.4xlarge\"],\n      \"ConstraintDescription\" : \"must be a valid EC2 instance type.\"\n     },\n    \"NameTags\" : {\n      \"Description\" : \"EC2 instance Name Tags\",\n      \"Type\" : \"String\",\n      \"Default\" : \"example-vpc-server\",\n      \"AllowedPattern\" : \"[\\\\x20-\\\\x7E]*\",\n      \"ConstraintDescription\" : \"must be a valid EC2 instance Name Tags.\"\n     },\n    \"KeyName\": {\n      \"Description\" : \"Name of an existing EC2 KeyPair to enable SSH access to the instance\",\n      \"Type\": \"String\",\n      \"MinLength\": \"1\",\n      \"MaxLength\": \"255\",\n      \"Default\": \"example-keypair\",\n      \"AllowedPattern\" : \"[\\\\x20-\\\\x7E]*\",\n      \"ConstraintDescription\" : \"can contain only ASCII characters.\"\n    },\n    \"SSHLocation\" : {\n      \"Description\" : \" The IP address range that can be used to SSH to the EC2 instances\",\n      \"Type\": \"String\",\n      \"MinLength\": \"9\",\n      \"MaxLength\": \"18\",\n      \"Default\": \"10.0.0.0/16\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\",\n      \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\"\n    }\n  },\n\n  \"Mappings\" : {},\n\n  \"Resources\" : {\n    \"VPC\" : {\n      \"Type\" : \"AWS::EC2::VPC\",\n      \"Properties\" : {\n        \"CidrBlock\" : { \"Ref\" : \"VpcCidrBlock\" },\n        \"EnableDnsSupport\" : \"true\",\n        \"EnableDnsHostnames\" : \"true\",\n        \"Tags\" : [\n          { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcName\" } }\n        ]\n      }\n    },\n\n    \"SubnetPublic1a\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1a\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockPublic1a\" },\n          \"MapPublicIpOnLaunch\" : true,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNamePublic1a\" } }\n          ]\n       }\n    },\n    \"SubnetPublic1c\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1c\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockPublic1c\" },\n          \"MapPublicIpOnLaunch\" : true,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNamePublic1c\" } }\n          ]\n       }\n    },\n\n    \"SubnetPrivate1a\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1a\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockPrivate1a\" },\n          \"MapPublicIpOnLaunch\" : false,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNamePrivate1a\" } }\n          ]\n       }\n    },\n    \"SubnetPrivate1c\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1c\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockPrivate1c\" },\n          \"MapPublicIpOnLaunch\" : false,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNamePrivate1c\" } }\n          ]\n       }\n    },\n\n    \"InternetGateway\" : {\n      \"Type\" : \"AWS::EC2::InternetGateway\",\n      \"Properties\" : {\n        \"Tags\" : [\n          { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"InternetGatewayName\" } }\n        ]\n      }\n    },\n    \"GatewayToInternet\" : {\n       \"Type\" : \"AWS::EC2::VPCGatewayAttachment\",\n       \"Properties\" : {\n         \"VpcId\" : { \"Ref\" : \"VPC\" },\n         \"InternetGatewayId\" : { \"Ref\" : \"InternetGateway\" }\n       }\n    },\n    \"PublicRouteTable\" : {\n      \"Type\" : \"AWS::EC2::RouteTable\",\n      \"Properties\" : {\n        \"VpcId\" : { \"Ref\" : \"VPC\" },\n        \"Tags\" : [\n          { \"Key\" : \"Application\", \"Value\" : { \"Ref\" : \"AWS::StackId\" } },\n          { \"Key\" : \"Network\", \"Value\" : \"Public\" }\n        ]\n      }\n    },\n\n    \"PublicRoute\" : {\n      \"Type\" : \"AWS::EC2::Route\",\n      \"DependsOn\" : \"GatewayToInternet\",\n      \"Properties\" : {\n        \"RouteTableId\" : { \"Ref\" : \"PublicRouteTable\" },\n        \"DestinationCidrBlock\" : \"0.0.0.0/0\",\n        \"GatewayId\" : { \"Ref\" : \"InternetGateway\" }\n      }\n    },\n\n    \"PublicSubnetRouteTableAssociatio1a\" : {\n      \"Type\" : \"AWS::EC2::SubnetRouteTableAssociation\",\n      \"Properties\" : {\n        \"SubnetId\" : { \"Ref\" : \"SubnetPublic1a\" },\n        \"RouteTableId\" : { \"Ref\" : \"PublicRouteTable\" }\n      }\n    },\n    \"PublicSubnetRouteTableAssociation1c\" : {\n      \"Type\" : \"AWS::EC2::SubnetRouteTableAssociation\",\n      \"Properties\" : {\n        \"SubnetId\" : { \"Ref\" : \"SubnetPublic1c\" },\n        \"RouteTableId\" : { \"Ref\" : \"PublicRouteTable\" }\n      }\n    },\n\n    \"PublicNetworkAcl\" : {\n      \"Type\" : \"AWS::EC2::NetworkAcl\",\n      \"Properties\" : {\n        \"VpcId\" : { \"Ref\" : \"VPC\" }\n      }\n    },\n\n    \"PublicNetworkAclEntry\" : {\n      \"Type\" : \"AWS::EC2::NetworkAclEntry\",\n      \"Properties\" : {\n        \"CidrBlock\" : { \"Ref\" : \"VpcCidrBlock\" },\n        \"Egress\" : \"true\",\n        \"NetworkAclId\" : { \"Ref\" : \"PublicNetworkAcl\" },\n        \"Protocol\" : \"-1\",\n        \"RuleAction\" : \"allow\",\n        \"RuleNumber\" : \"100\"\n      }\n    },\n\n    \"PublicSubnetNetworkAclAssociatio1a\" : {\n      \"Type\" : \"AWS::EC2::SubnetNetworkAclAssociation\",\n      \"Properties\" : {\n        \"SubnetId\" : { \"Ref\" : \"SubnetPublic1a\" },\n        \"NetworkAclId\" : { \"Ref\" : \"PublicNetworkAcl\" }\n      }\n    },\n    \"PublicSubnetNetworkAclAssociatio1c\" : {\n      \"Type\" : \"AWS::EC2::SubnetNetworkAclAssociation\",\n      \"Properties\" : {\n        \"SubnetId\" : { \"Ref\" : \"SubnetPublic1c\" },\n        \"NetworkAclId\" : { \"Ref\" : \"PublicNetworkAcl\" }\n      }\n    },\n\n    \"InstanceSecurityGroup\" : {\n      \"Type\" : \"AWS::EC2::SecurityGroup\",\n      \"Properties\" : {\n        \"VpcId\" : { \"Ref\" : \"VPC\" },\n        \"GroupDescription\" : \"Enable SSH access via port 22\",\n        \"SecurityGroupIngress\" : [\n          { \"IpProtocol\" : \"tcp\", \"FromPort\" : \"22\", \"ToPort\" : \"22\", \"CidrIp\" : { \"Ref\" : \"SSHLocation\"} }\n        ]\n      }\n    },\n    \"EC2Instance\" : {\n      \"Type\" : \"AWS::EC2::Instance\",\n      \"Properties\" : {\n        \"ImageId\" : \"ami-03cf3903\",\n        \"SecurityGroupIds\" : [\n          { \"Ref\" : \"InstanceSecurityGroup\" }\n        ],\n        \"SubnetId\" : { \"Ref\" : \"SubnetPrivate1a\" },\n        \"InstanceType\" : { \"Ref\" : \"InstanceType\" },\n        \"KeyName\" : { \"Ref\" : \"KeyName\" },\n        \"Tags\" : [\n          { \"Key\" : \"Application\", \"Value\" : \"string\" },\n          { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"NameTags\"} }\n        ]\n      }\n    }\n  },\n\n  \"Outputs\" : {}\n}\n\n\n\n(2) [Specify Details]\u753b\u9762\u3067CloudFormation\u30b9\u30bf\u30c3\u30af\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3059\u308b\u3002\n[Specify Details]\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n[Select Template]\u753b\u9762\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305fCloudFormation\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u3001CloudFormation\u30b9\u30bf\u30c3\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nStack Name\u306b\u9069\u5f53\u306a\u30b9\u30bf\u30c3\u30af\u540d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u4eee\u306b[create-example-vpc-stack]\u3068\u5165\u529b\u3057\u307e\u3059\u3002\nCloudFormation\u30b9\u30bf\u30c3\u30af\u306e[Parameter]\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n[KeyName]\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u306fEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306bssh\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u6642\u306eKeyPair\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u305d\u308c\u4ee5\u5916\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067\u3088\u3051\u308c\u3070\u3001\u305d\u306e\u307e\u307e[Next]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n\n(3) [Option]\u753b\u9762\u3067[Next]\u3092\u30af\u30ea\u30c3\u30af\u3002\n[Option]\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e[Next]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n(4) [Review]\u753b\u9762\u3067[Next]\u3092\u30af\u30ea\u30c3\u30af\u3002\n[Review]\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n[Review]\u753b\u9762\u3067[Create]\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001CloudFormation\u30b9\u30bf\u30c3\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u308c\u306b\u3088\u308a\u3001VPC\u3084\u30b5\u30d6\u30cd\u30c3\u30c8\u3084EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210\u304c\u958b\u59cb\u3055\u308c\u307e\u3059\u3002\n\n\n\n(5) VPC\u3084\u30b5\u30d6\u30cd\u30c3\u30c8\u3084EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u4f5c\u6210\u3055\u308c\u308b\u4e8b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\u4f5c\u6210\u3057\u305fCloudFoamation\u30b9\u30bf\u30c3\u30af\u306eStatus\u304c\u300cCREATE_COMPLETE\u300d\u306b\u306a\u308c\u3070\u3001CloudFormation\u306b\u3088\u308bVPC\u4f5c\u6210\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\nCloudFoamation\u30b9\u30bf\u30c3\u30af\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u4f5c\u6210\u3057\u305f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aVPC\u3084\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\nVPC\u3068\u30b5\u30d6\u30cd\u30c3\u30c8\u3068EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u4e8b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3000\u30fbexample-vpc\n\u3000\u30fbexample-vpc-public-subnet-1a\n\u3000\u30fbexample-vpc-public-subnet-1c\n\u3000\u30fbexample-vpc-private-subnet-1a\n\u3000\u30fbexample-vpc-private-subnet-1c\n\u3000\u30fbexample-vpc-server\n\n\n\u4ee5\u4e0a\u306b\u306a\u308a\u307e\u3059\u3002\n\u306f\u3058\u3081\u306b\n---\n\nAWS CloudFormation\u306b\u3088\u308a\u3001AWS\u306bVPC\u3092\u4f5c\u6210\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\nVPC\u5185\u306bpublic\u53ca\u3073private\u30b5\u30d6\u30cd\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u3001\u3064\u3044\u3067\u306bt2.nano\u3067\u30c6\u30b9\u30c8\u7528\u306eEC\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3059\u308bCloudFormation\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\n\u53c2\u8003\u30b5\u30a4\u30c8\n---\n\n\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\nhttp://qiita.com/takachan/items/92f47356c0a085c49821\nhttp://docs.aws.amazon.com/ja_jp/AmazonVPC/latest/UserGuide/VPC_Subnets.html\nhttp://docs.aws.amazon.com/ja_jp/AmazonVPC/latest/UserGuide/VPC_Scenario2.html\nhttp://docs.aws.amazon.com/ja_jp/AmazonVPC/latest/UserGuide/VPC_Route_Tables.html#RouteTables\n\nCloudFormation\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068CloudFormation\u30b9\u30bf\u30c3\u30af\u4f5c\u6210\u624b\u9806\n---\n\n### (1) CloudFormation\u30b9\u30bf\u30c3\u30af\u4f5c\u6210\u753b\u9762\u306e[Select Template]\u753b\u9762\u3067CloudFormation\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3002\n\nAWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\n[CloudFormation]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n![WS000000.JPG](https://qiita-image-store.s3.amazonaws.com/0/63647/ba7755b8-b6a1-437f-9ad3-48fd0fb0dc16.jpeg)\n\n[CloudFormation]\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n[Create Srack]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n![WS000001.JPG](https://qiita-image-store.s3.amazonaws.com/0/63647/cdd8fe35-625c-3fff-b79a-c82828912746.jpeg)\n\nCloudFormation\u30b9\u30bf\u30c3\u30af\u3092\u4f5c\u6210\u51fa\u6765\u308b[Select Template]\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n[Choose a template]\u3067[Upload a template to Amazon S3]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u5f8c\u8ff0\u306eCloudFormation\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8[create-example-vpc-stack.json]\u3092\u8a18\u8f09\u3057\u305f\u30d5\u30a1\u30a4\u30eb[create-example-vpc-stack.json.txt]\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n[Upload a template to Amazon S3]\u3067\u4f5c\u6210\u3057\u305f[create-example-vpc-stack.json.txt]\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nCloudFormation\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3089\u3001[Next]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n![WS000004.JPG](https://qiita-image-store.s3.amazonaws.com/0/63647/4317299a-0d05-7697-146c-568fc20f78c9.jpeg)\n\n\n```json:create-example-vpc-stack.json\n{\n  \"AWSTemplateFormatVersion\" : \"2010-09-09\",\n  \"Description\" : \"Create AWS CloudFormation Customize Virtual Private Cloud\",\n  \"Parameters\" : {\n    \"VpcName\": {\n      \"Description\" : \"Please input VPC name.\",\n      \"Type\": \"String\",\n      \"Default\" : \"example-vpc\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n\n    \"VpcCidrBlock\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in VPC.\",\n      \"Default\" : \"10.0.0.0/16\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/16\",\n      \"ConstraintDescription\": \"\"\n    },\n\n    \"VpcSubnetNamePublic1a\": {\n      \"Description\" : \"Please input the subnet name of example-vpc-public-subnet-1a.\",\n      \"Type\": \"String\",\n      \"Default\" : \"example-vpc-public-subnet-1a\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockPublic1a\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in example-vpc-public-subnet-1a.\",\n      \"Default\" : \"10.0.3.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n\n    \"VpcSubnetNamePublic1c\": {\n      \"Description\" : \"Please input the subnet name of example-vpc-public-subnet-1c.\",\n      \"Type\": \"String\",\n      \"Default\" : \"example-vpc-public-subnet-1c\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockPublic1c\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in example-vpc-public-subnet-1c.\",\n      \"Default\" : \"10.0.4.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n\n    \"VpcSubnetNamePrivate1a\": {\n      \"Description\" : \"Please input the subnet name of example-vpc-private-subnet-1a.\",\n      \"Type\": \"String\",\n      \"Default\" : \"example-vpc-private-subnet-1a\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockPrivate1a\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in example-vpc-private-subnet-1a.\",\n      \"Default\" : \"10.0.1.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n\n    \"VpcSubnetNamePrivate1c\": {\n      \"Description\" : \"Please input the subnet name of private-subnet-1c.\",\n      \"Type\": \"String\",\n      \"Default\" : \"example-vpc-private-subnet-1c\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockPrivate1c\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in example-vpc-private-subnet-1c.\",\n      \"Default\" : \"10.0.2.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n\n    \"InternetGatewayName\": {\n      \"Description\" : \"Please input the name of Internet Gateway.\",\n      \"Type\": \"String\",\n      \"Default\" : \"example-vpc-igw\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n\n    \"InstanceType\" : {\n      \"Description\" : \"EC2 instance type\",\n      \"Type\" : \"String\",\n      \"Default\" : \"t2.nano\",\n      \"AllowedValues\" : [ \"t1.micro\",\"t2.nano\",\"t2.micro\",\"m1.small\",\"m1.medium\",\"m1.large\",\"m1.xlarge\",\"m2.xlarge\",\"m2.2xlarge\",\"m2.4xlarge\",\"m3.xlarge\",\"m3.2xlarge\",\"c1.medium\",\"c1.xlarge\",\"cc1.4xlarge\",\"cc2.8xlarge\",\"cg1.4xlarge\"],\n      \"ConstraintDescription\" : \"must be a valid EC2 instance type.\"\n     },\n    \"NameTags\" : {\n      \"Description\" : \"EC2 instance Name Tags\",\n      \"Type\" : \"String\",\n      \"Default\" : \"example-vpc-server\",\n      \"AllowedPattern\" : \"[\\\\x20-\\\\x7E]*\",\n      \"ConstraintDescription\" : \"must be a valid EC2 instance Name Tags.\"\n     },\n    \"KeyName\": {\n      \"Description\" : \"Name of an existing EC2 KeyPair to enable SSH access to the instance\",\n      \"Type\": \"String\",\n      \"MinLength\": \"1\",\n      \"MaxLength\": \"255\",\n      \"Default\": \"example-keypair\",\n      \"AllowedPattern\" : \"[\\\\x20-\\\\x7E]*\",\n      \"ConstraintDescription\" : \"can contain only ASCII characters.\"\n    },\n    \"SSHLocation\" : {\n      \"Description\" : \" The IP address range that can be used to SSH to the EC2 instances\",\n      \"Type\": \"String\",\n      \"MinLength\": \"9\",\n      \"MaxLength\": \"18\",\n      \"Default\": \"10.0.0.0/16\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\",\n      \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\"\n    }\n  },\n\n  \"Mappings\" : {},\n\n  \"Resources\" : {\n    \"VPC\" : {\n      \"Type\" : \"AWS::EC2::VPC\",\n      \"Properties\" : {\n        \"CidrBlock\" : { \"Ref\" : \"VpcCidrBlock\" },\n        \"EnableDnsSupport\" : \"true\",\n        \"EnableDnsHostnames\" : \"true\",\n        \"Tags\" : [\n          { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcName\" } }\n        ]\n      }\n    },\n\n    \"SubnetPublic1a\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1a\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockPublic1a\" },\n          \"MapPublicIpOnLaunch\" : true,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNamePublic1a\" } }\n          ]\n       }\n    },\n    \"SubnetPublic1c\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1c\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockPublic1c\" },\n          \"MapPublicIpOnLaunch\" : true,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNamePublic1c\" } }\n          ]\n       }\n    },\n\n    \"SubnetPrivate1a\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1a\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockPrivate1a\" },\n          \"MapPublicIpOnLaunch\" : false,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNamePrivate1a\" } }\n          ]\n       }\n    },\n    \"SubnetPrivate1c\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1c\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockPrivate1c\" },\n          \"MapPublicIpOnLaunch\" : false,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNamePrivate1c\" } }\n          ]\n       }\n    },\n\n    \"InternetGateway\" : {\n      \"Type\" : \"AWS::EC2::InternetGateway\",\n      \"Properties\" : {\n        \"Tags\" : [\n          { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"InternetGatewayName\" } }\n        ]\n      }\n    },\n    \"GatewayToInternet\" : {\n       \"Type\" : \"AWS::EC2::VPCGatewayAttachment\",\n       \"Properties\" : {\n         \"VpcId\" : { \"Ref\" : \"VPC\" },\n         \"InternetGatewayId\" : { \"Ref\" : \"InternetGateway\" }\n       }\n    },\n    \"PublicRouteTable\" : {\n      \"Type\" : \"AWS::EC2::RouteTable\",\n      \"Properties\" : {\n        \"VpcId\" : { \"Ref\" : \"VPC\" },\n        \"Tags\" : [\n          { \"Key\" : \"Application\", \"Value\" : { \"Ref\" : \"AWS::StackId\" } },\n          { \"Key\" : \"Network\", \"Value\" : \"Public\" }\n        ]\n      }\n    },\n\n    \"PublicRoute\" : {\n      \"Type\" : \"AWS::EC2::Route\",\n      \"DependsOn\" : \"GatewayToInternet\",\n      \"Properties\" : {\n        \"RouteTableId\" : { \"Ref\" : \"PublicRouteTable\" },\n        \"DestinationCidrBlock\" : \"0.0.0.0/0\",\n        \"GatewayId\" : { \"Ref\" : \"InternetGateway\" }\n      }\n    },\n\n    \"PublicSubnetRouteTableAssociatio1a\" : {\n      \"Type\" : \"AWS::EC2::SubnetRouteTableAssociation\",\n      \"Properties\" : {\n        \"SubnetId\" : { \"Ref\" : \"SubnetPublic1a\" },\n        \"RouteTableId\" : { \"Ref\" : \"PublicRouteTable\" }\n      }\n    },\n    \"PublicSubnetRouteTableAssociation1c\" : {\n      \"Type\" : \"AWS::EC2::SubnetRouteTableAssociation\",\n      \"Properties\" : {\n        \"SubnetId\" : { \"Ref\" : \"SubnetPublic1c\" },\n        \"RouteTableId\" : { \"Ref\" : \"PublicRouteTable\" }\n      }\n    },\n\n    \"PublicNetworkAcl\" : {\n      \"Type\" : \"AWS::EC2::NetworkAcl\",\n      \"Properties\" : {\n        \"VpcId\" : { \"Ref\" : \"VPC\" }\n      }\n    },\n\n    \"PublicNetworkAclEntry\" : {\n      \"Type\" : \"AWS::EC2::NetworkAclEntry\",\n      \"Properties\" : {\n        \"CidrBlock\" : { \"Ref\" : \"VpcCidrBlock\" },\n        \"Egress\" : \"true\",\n        \"NetworkAclId\" : { \"Ref\" : \"PublicNetworkAcl\" },\n        \"Protocol\" : \"-1\",\n        \"RuleAction\" : \"allow\",\n        \"RuleNumber\" : \"100\"\n      }\n    },\n\n    \"PublicSubnetNetworkAclAssociatio1a\" : {\n      \"Type\" : \"AWS::EC2::SubnetNetworkAclAssociation\",\n      \"Properties\" : {\n        \"SubnetId\" : { \"Ref\" : \"SubnetPublic1a\" },\n        \"NetworkAclId\" : { \"Ref\" : \"PublicNetworkAcl\" }\n      }\n    },\n    \"PublicSubnetNetworkAclAssociatio1c\" : {\n      \"Type\" : \"AWS::EC2::SubnetNetworkAclAssociation\",\n      \"Properties\" : {\n        \"SubnetId\" : { \"Ref\" : \"SubnetPublic1c\" },\n        \"NetworkAclId\" : { \"Ref\" : \"PublicNetworkAcl\" }\n      }\n    },\n\n    \"InstanceSecurityGroup\" : {\n      \"Type\" : \"AWS::EC2::SecurityGroup\",\n      \"Properties\" : {\n        \"VpcId\" : { \"Ref\" : \"VPC\" },\n        \"GroupDescription\" : \"Enable SSH access via port 22\",\n        \"SecurityGroupIngress\" : [\n          { \"IpProtocol\" : \"tcp\", \"FromPort\" : \"22\", \"ToPort\" : \"22\", \"CidrIp\" : { \"Ref\" : \"SSHLocation\"} }\n        ]\n      }\n    },\n    \"EC2Instance\" : {\n      \"Type\" : \"AWS::EC2::Instance\",\n      \"Properties\" : {\n        \"ImageId\" : \"ami-03cf3903\",\n        \"SecurityGroupIds\" : [\n          { \"Ref\" : \"InstanceSecurityGroup\" }\n        ],\n        \"SubnetId\" : { \"Ref\" : \"SubnetPrivate1a\" },\n        \"InstanceType\" : { \"Ref\" : \"InstanceType\" },\n        \"KeyName\" : { \"Ref\" : \"KeyName\" },\n        \"Tags\" : [\n          { \"Key\" : \"Application\", \"Value\" : \"string\" },\n          { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"NameTags\"} }\n        ]\n      }\n    }\n  },\n\n  \"Outputs\" : {}\n}\n```\n\n### (2) [Specify Details]\u753b\u9762\u3067CloudFormation\u30b9\u30bf\u30c3\u30af\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n[Specify Details]\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n[Select Template]\u753b\u9762\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305fCloudFormation\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u3001CloudFormation\u30b9\u30bf\u30c3\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nStack Name\u306b\u9069\u5f53\u306a\u30b9\u30bf\u30c3\u30af\u540d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u4eee\u306b[create-example-vpc-stack]\u3068\u5165\u529b\u3057\u307e\u3059\u3002\n\nCloudFormation\u30b9\u30bf\u30c3\u30af\u306e[Parameter]\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n[KeyName]\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u306fEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306bssh\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u6642\u306eKeyPair\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\u305d\u308c\u4ee5\u5916\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067\u3088\u3051\u308c\u3070\u3001\u305d\u306e\u307e\u307e[Next]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n![WS000005.JPG](https://qiita-image-store.s3.amazonaws.com/0/63647/e31cdc35-f74c-ab97-7255-d42030b210e1.jpeg)\n\n![WS000006.JPG](https://qiita-image-store.s3.amazonaws.com/0/63647/26ba7c6a-3ebd-8b44-e663-98b06f612e8a.jpeg)\n\n### (3) [Option]\u753b\u9762\u3067[Next]\u3092\u30af\u30ea\u30c3\u30af\u3002\n\n[Option]\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e[Next]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n![WS000007.JPG](https://qiita-image-store.s3.amazonaws.com/0/63647/a78cd040-3b34-798d-4332-3403f0b005e7.jpeg)\n\n### (4) [Review]\u753b\u9762\u3067[Next]\u3092\u30af\u30ea\u30c3\u30af\u3002\n\n[Review]\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n[Review]\u753b\u9762\u3067[Create]\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001CloudFormation\u30b9\u30bf\u30c3\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u308c\u306b\u3088\u308a\u3001VPC\u3084\u30b5\u30d6\u30cd\u30c3\u30c8\u3084EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210\u304c\u958b\u59cb\u3055\u308c\u307e\u3059\u3002\n\n![WS000008.JPG](https://qiita-image-store.s3.amazonaws.com/0/63647/020a98fb-b75f-7d65-2de2-543d8da21cc6.jpeg)\n\n![WS000009.JPG](https://qiita-image-store.s3.amazonaws.com/0/63647/0f0b3129-5138-93b5-c8eb-88c68e4604dd.jpeg)\n\n\n### (5) VPC\u3084\u30b5\u30d6\u30cd\u30c3\u30c8\u3084EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u4f5c\u6210\u3055\u308c\u308b\u4e8b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n\u4f5c\u6210\u3057\u305fCloudFoamation\u30b9\u30bf\u30c3\u30af\u306eStatus\u304c\u300cCREATE_COMPLETE\u300d\u306b\u306a\u308c\u3070\u3001CloudFormation\u306b\u3088\u308bVPC\u4f5c\u6210\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n![WS000012.JPG](https://qiita-image-store.s3.amazonaws.com/0/63647/2e1ea93d-8bd1-8479-54d7-804d8c75408c.jpeg)\n\nCloudFoamation\u30b9\u30bf\u30c3\u30af\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u4f5c\u6210\u3057\u305f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aVPC\u3084\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\nVPC\u3068\u30b5\u30d6\u30cd\u30c3\u30c8\u3068EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u4e8b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u3000\u30fbexample-vpc\n\u3000\u30fbexample-vpc-public-subnet-1a\n\u3000\u30fbexample-vpc-public-subnet-1c\n\u3000\u30fbexample-vpc-private-subnet-1a\n\u3000\u30fbexample-vpc-private-subnet-1c\n\u3000\u30fbexample-vpc-server\n\n![WS000011.JPG](https://qiita-image-store.s3.amazonaws.com/0/63647/cc669625-f336-0213-a9e6-a82c2807cfad.jpeg)\n\n***\n\n\u4ee5\u4e0a\u306b\u306a\u308a\u307e\u3059\u3002\n", "tags": ["AWS", "CloudFormation"]}