{"tags": ["RSpec3.0.0", "Ruby2.1.2", "TDD"], "context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u6709\u540d\u306a\u521d\u5fc3\u8005\u5411\u3051\u306eRSpec\u5165\u9580\u8a18\u4e8b\u3068\u3057\u3066\u3001\u548c\u7530\u5353\u4eba\u3055\u3093(@t_wada)\u306e\u300cRSpec \u306e\u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078\u300d\u3068\u3044\u3046\u8a18\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\n\u50d5\u3082RSpec\u3092\u5168\u304f\u77e5\u3089\u306a\u304b\u3063\u305f\u9803\u306b\u53c2\u8003\u306b\u3055\u305b\u3066\u3082\u3089\u3044\u307e\u3057\u305f\u3002\n\u4eca\u8aad\u3093\u3067\u3082\u3068\u3066\u3082\u7d20\u6674\u3089\u3057\u3044\u8cc7\u6599\u306a\u306e\u3067\u3059\u304c\u3001RSpec\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u304f\u3001\u73fe\u72b6\u306e\u66f8\u304d\u65b9\u3068\u30de\u30c3\u30c1\u3057\u306a\u304f\u306a\u3063\u3066\u304d\u3066\u3044\u308b\u306e\u304c\u5c11\u3057\u3082\u3063\u305f\u3044\u306a\u3044\u3068\u3053\u308d\u3067\u3059\u3002\n\u305d\u3053\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\u548c\u7530\u3055\u3093\u306e\u8a18\u4e8b\u3092RSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u66f8\u304d\u76f4\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u5404\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3(RSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3)\u3078\u306e\u30ea\u30f3\u30af\n\n\u7b2c1\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3(\u672c\u8a18\u4e8b)\n\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\n\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306eURL\n\nhttps://github.com/JunichiIto/rspec3-for-beginners/tree/end_of_iter1\n\n\n\u672c\u8a18\u4e8b\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u3064\u3044\u3066\n\u672c\u8a18\u4e8b\u306f \u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6\u30fb\u30b3\u30e2\u30f3\u30ba \u8868\u793a - \u7d99\u627f 4.0 \u56fd\u969b \u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\u5099\u8003\n\n\u672c\u6587\u3084\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f\u6975\u529b\u30aa\u30ea\u30b8\u30ca\u30eb\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8e0f\u8972\u3057\u307e\u3059\u3002\n\u8a18\u8ff0\u304c\u53e4\u304f\u306a\u3063\u3066\u3044\u308b\u7b87\u6240\u306f\u65b0\u3057\u3044\u8a18\u8ff0\u65b9\u6cd5\u306b\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\n\u65b0\u3057\u3044\u8a18\u8ff0\u65b9\u6cd5\u3084\u548c\u7530\u3055\u3093\u306e\u30aa\u30ea\u30b8\u30ca\u30eb\u8a18\u4e8b\u306b\u66f8\u304b\u308c\u3066\u3044\u306a\u3044\u60c5\u5831\u306b\u306f \u3010\u6ce8\u76ee\uff01\u3011 \u306e\u5370\u3092\u4ed8\u3051\u3066\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\u4f7f\u7528\u3059\u308b\u30c4\u30fc\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\n\nRSpec 3.0.0\nRuby 2.1.2\n\n\n\u8aad\u307f\u9032\u3081\u308b\u524d\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3082\u306e\n\ngit\nrbenv\n\n\n\u50d5\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u969b\u306b\u3001\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\n\n\nRuby 2.1.2\n\n\nrbenv\u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nbundler\n\n\n\nbundle\u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306fgem install bundler\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\n1st iteration\nfavotter \u306e  \u307f\u305f\u3044\u306a NG \u30ef\u30fc\u30c9\u306e\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u6a5f\u80fd\u3092 RSpec \u3067\u4f5c\u308a\u307e\u3057\u3087\u3046\u3002\u307e\u305a\u306f NG \u30ef\u30fc\u30c9\u306e\u691c\u51fa\u6a5f\u80fd\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u6700\u521d\u30d9\u30bf\u306a\u5f62\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3068\u5b9f\u88c5\u3092\u66f8\u304d\u3001\u3060\u3093\u3060\u3093\u3068\u305d\u306e\u30b3\u30fc\u30c9\u3092\u6d17\u7df4\u3055\u305b\u3066\u3086\u304d\u307e\u3059\u3002\n\n\u958b\u767a\u74b0\u5883\u306e\u6e96\u5099(RSpec\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb)\n\u958b\u767a\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001bundler\u3092\u4f7f\u3063\u3066RSpec\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u306e\u30b3\u30fc\u30c9\u306f diff \u98a8\u306e\u8a18\u6cd5\u3067\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002 \"+\" \u304c\u8ffd\u52a0\u3055\u308c\u305f\u884c\u3001 \"-\" \u304c\u524a\u9664\u3055\u308c\u305f\u884c\u3067\u3059\u3002\n\u307e\u305f\u3001\u3053\u308c\u304b\u3089\u66f8\u304f\u30b3\u30fc\u30c9\u3092 git \u3067\u7ba1\u7406\u3057\u307e\u3057\u3087\u3046\u3002\u5404\u30b9\u30c6\u30c3\u30d7\u6bce\u306b commit \u3092\u884c\u3044\u3064\u3064\u9032\u3081\u307e\u3057\u3087\u3046\u3002\n$ mkdir rspec3-for-beginners\n$ cd rspec3-for-beginners\n$ rbenv local 2.1.2\n$ ruby -v\nruby 2.1.2p95 (2014-05-08 revision 45877) [x86_64-darwin13.0]\n$ git init\nInitialized empty Git repository in /Users/jit/dev/private/rspec3-for-beginners/.git/\n$ git add .\n$ git commit -am 'Initial commit'\n[master (root-commit) 1c1a33b] Initial commit\n 1 file changed, 1 insertion(+)\n create mode 100644 .ruby-version\n$ touch Gemfile\n\nCommit\nGemfile\u3092\u6b21\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\n\u3010\u6ce8\u76ee\uff01\u3011\n\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u8a18\u4e8b\u3068\u306f\u7570\u306a\u308a\u3001\u672c\u8a18\u4e8b\u3067\u306fbundler\u3092\u4f7f\u3063\u3066RSpec\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nGemfile\u306fbundler\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308bgem\u306e\u5b9a\u7fa9)\u3067\u3059\u3002\n+source 'https://rubygems.org'\n+\n+gem 'rspec', '3.0.0'\n\nbundle install\u3092\u5b9f\u884c\u3057\u3001RSpec\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u5b8c\u4e86\u3057\u305f\u3089git\u306bcommit\u3057\u307e\u3059\u3002\n$ bundle install\nFetching gem metadata from https://rubygems.org/.........\nFetching additional metadata from https://rubygems.org/..\nResolving dependencies...\nUsing diff-lcs 1.2.5\nUsing rspec-support 3.0.2\nUsing rspec-core 3.0.2\nUsing rspec-expectations 3.0.2\nUsing rspec-mocks 3.0.2\nUsing rspec 3.0.0\nUsing bundler 1.6.2\nYour bundle is complete!\nUse `bundle show [gemname]` to see where a bundled gem is installed.\n$ git add .\n$ git commit -m 'Install RSpec'\n[master 2f64804] Install RSpec\n 2 files changed, 25 insertions(+)\n create mode 100644 Gemfile\n create mode 100644 Gemfile.lock\n\nCommit\n\u3053\u308c\u3067RSpec\u3092\u4f7f\u3063\u3066\u958b\u767a\u3059\u308b\u6e96\u5099\u304c\u6574\u3044\u307e\u3057\u305f\u3002\n\nmessage_filter_spec.rb \u3092\u4f5c\u6210\n\u6b21\u306b\u3001\u3053\u308c\u304b\u3089\u80b2\u3066\u3066\u3044\u304f spec \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ touch message_filter_spec.rb\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001\u3044\u3063\u305f\u3093git\u306bcommit\u3057\u307e\u3059\u3002\n\u307e\u305f\u30011st iteration\u7528\u306e\u4f5c\u696d\u30d6\u30e9\u30f3\u30c1\u3082\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ git add .\n$ git commit -m 'Add spec'\n[master cc2b2df] Add spec\n 1 file changed, 0 insertions(+), 0 deletions(-)\n create mode 100644 message_filter_spec.rb\n$ git checkout -b 1st\nSwitched to a new branch '1st'\n\nCommit\n\nmessage_filter.rb\u306e\u4f5c\u6210\n\u7d9a\u3044\u3066message_filter_spec.rb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n+describe MessageFilter do\n+end\n\n\u305d\u308c\u304b\u3089MessageFilter\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ touch message_filter.rb\n\nmessage_filter.rb\n+class MessageFilter\n+end\n\nmessage_filter_spec.rb\n+require_relative 'message_filter'\n+\n describe MessageFilter do\n end\n\n\u306a\u304a\u3001require_relative\u306f\u73fe\u5728\u306e\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u76f8\u5bfe\u30d1\u30b9\u3067require\u3059\u308b\u305f\u3081\u306e\u7d44\u307f\u8fbc\u307f\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\nmodule function Kernel.#require_relative\n\u3067\u306fRSpec\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u6b21\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\u3067\u3059\u3002\n$ bundle exec rspec message_filter_spec.rb\nNo examples found.\n\n\nFinished in 0.00015 seconds (files took 0.16597 seconds to load)\n0 examples, 0 failures\n$ git add .\n$ git commit -m 'Add message_filter.rb'\n[1st 04172c0] Add message_filter.rb\n 2 files changed, 6 insertions(+)\n create mode 100644 message_filter.rb\n\n\u3010\u6ce8\u76ee\uff01\u3011\nRSpec 2\u304b\u3089RSpec\u306e\u5b9f\u884c\u30b3\u30de\u30f3\u30c9\u304cspec\u304b\u3089rspec\u306b\u5909\u66f4\u3055\u308c\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001bundler\u3092\u4f7f\u3063\u3066RSpec\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u306e\u3067\u3001\u3053\u3053\u3067\u306fbundle exec rspec\u3067RSpec\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u3082git\u306bcommit\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nCommit\n\u3053\u308c\u304b\u3089\u3042\u3068\u3082\u30b9\u30c6\u30c3\u30d7\u3054\u3068\u306bcommit\u3057\u3066\u3044\u304f\u306e\u3067\u3001\u305d\u306e\u90fd\u5ea6\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u5185\u5bb9\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u6700\u521d\u306e\u30c6\u30b9\u30c8 (code example) \u3092\u66f8\u304d\u307e\u3057\u3087\u3046\n\u975e\u5e38\u306b\u30d9\u30bf\u306a\u66f8\u304d\u65b9\u3067\u3059\u304c\u3001\u6700\u521d\u306e\u30c6\u30b9\u30c8 (code example) \u3092\u66f8\u304d\u307e\u3059\u3002\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5f8c\u534a\u3067\u3001\u30c6\u30b9\u30c8\u306e\u66f8\u304d\u65b9\u3082\u6d17\u7df4\u3055\u305b\u3066\u3044\u304d\u307e\u3059\u3002\n\u3010\u6ce8\u76ee\uff01\u3011\nRSpec 2.11\u304b\u3089should\u3067\u306f\u306a\u304f\u3001expect(...).to\u3092\u4f7f\u3046\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u305d\u308c\u306b\u3042\u308f\u305b\u3066\u3001it\u306e\u5f15\u6570\u3068\u3057\u3066\u4e0e\u3048\u308b\u8aac\u660e\u6587\u3082'should detect message with NG word'\u304b\u3089'detects message with NG word'\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\nmessage_filter_spec.rb\n require_relative 'message_filter'\n\n describe MessageFilter do\n+  it 'detects message with NG word' do\n+    filter = MessageFilter.new('foo')\n+    expect(filter.detect?('hello from foo')).to eq true\n+  end\n end\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec message_filter_spec.rb\nF\n\nFailures:\n\n  1) MessageFilter detects message with NG word\n     Failure/Error: filter = MessageFilter.new('foo')\n     ArgumentError:\n       wrong number of arguments (1 for 0)\n     # ./message_filter_spec.rb:5:in `initialize'\n     # ./message_filter_spec.rb:5:in `new'\n     # ./message_filter_spec.rb:5:in `block (2 levels) in <top (required)>'\n\nFinished in 0.0004 seconds (files took 0.16648 seconds to load)\n1 example, 1 failure\n\nFailed examples:\n\nrspec ./message_filter_spec.rb:4 # MessageFilter detects message with NG word\n$ git commit -am 'Add first spec'\n[1st 196a261] Add first spec\n 1 file changed, 4 insertions(+)\n\nCommit\n\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u5f15\u6570\u306e\u6570\u304c\u4e0d\u6b63\u3067\u3042\u308b\u3068\u8a00\u308f\u308c\u307e\u3057\u305f\u3002\u305d\u308c\u306f\u305d\u3046\u3067\u3059\u306d\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u4f5c\u6210\nmessage_filter.rb\n class MessageFilter\n+  def initialize(word)\n+    @word = word\n+  end\n end\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec message_filter_spec.rb   \nF\n\nFailures:\n\n  1) MessageFilter detects message with NG word\n     Failure/Error: expect(filter.detect?('hello from foo')).to eq true\n     NoMethodError:\n       undefined method `detect?' for #<MessageFilter:0x007ff7f92767a0 @word=\"foo\">\n     # ./message_filter_spec.rb:6:in `block (2 levels) in <top (required)>'\n\nFinished in 0.00039 seconds (files took 0.16748 seconds to load)\n1 example, 1 failure\n\nFailed examples:\n\nrspec ./message_filter_spec.rb:4 # MessageFilter detects message with NG word\n$ git commit -am 'Define initialize'\n[1st 4ab3494] Define initialize\n 1 file changed, 3 insertions(+)\n\nCommit\n\u30c6\u30b9\u30c8\u306f\u307e\u3060\u843d\u3061\u3066\u3044\u307e\u3059\u3002 detect? \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u7121\u3044\u3088\u3068\u8a00\u308f\u308c\u307e\u3057\u305f\u3002\u7121\u3044\u3067\u3059\u306d\u3002\u4f5c\u308a\u307e\u3057\u3087\u3046\u3002\n\ndetect?\u30e1\u30bd\u30c3\u30c9\u4f5c\u6210\n\u7a7a\u3067\u826f\u3044\u306e\u3067\u3001\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nmessage_filter.rb\n class MessageFilter\n   def initialize(word)\n     @word = word\n   end\n+  def detect?(text)\n+  end\n end\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec message_filter_spec.rb      \nF\n\nFailures:\n\n  1) MessageFilter detects message with NG word\n     Failure/Error: expect(filter.detect?('hello from foo')).to eq true\n\n       expected: true\n            got: nil\n\n       (compared using ==)\n     # ./message_filter_spec.rb:6:in `block (2 levels) in <top (required)>'\n\nFinished in 0.00299 seconds (files took 0.16916 seconds to load)\n1 example, 1 failure\n\nFailed examples:\n\nrspec ./message_filter_spec.rb:4 # MessageFilter detects message with NG word\n$ git commit -am 'Define detect?'\n[1st c631d99] Define detect?\n 1 file changed, 2 insertions(+)\n\nCommit\ntrue \u304c\u8fd4\u3063\u3066\u304d\u3066\u307b\u3057\u3044\u3068\u3053\u308d\u306b nil \u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u3002\u30e1\u30bd\u30c3\u30c9\u306e\u4e2d\u8eab\u304c\u7a7a\u3060\u304b\u3089\u3067\u3059\u306d\u3002\u3067\u306f\u3053\u306e\u30c6\u30b9\u30c8\u3092\u901a\u3059\u3082\u3063\u3068\u3082\u7c21\u5358\u306a\u5b9f\u88c5\u306f\u3069\u3046\u306a\u308b\u3067\u3057\u3087\u3046\u304b\u3002\u3053\u3053\u306b TDD \u306e\u30c8\u30ea\u30c3\u30af\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u308c\u304c\u3001\u300c \u4eee\u5b9f\u88c5 (fake it) \u300d\u3067\u3059\u3002\n\n\u4eee\u5b9f\u88c5 (fake it)\n\u5148\u307b\u3069\u306e\u30c6\u30b9\u30c8\u3092\u901a\u3059\u305f\u3081\u306e\u3082\u3063\u3068\u3082\u5358\u7d14\u306a\u5b9f\u88c5\u306f\u3069\u3046\u306a\u308b\u3067\u3057\u3087\u3046\u304b? \u66f8\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nmessage_filter.rb\n class MessageFilter\n   def initialize(word)\n     @word = word\n   end\n   def detect?(text)\n+    true\n   end\n end\n\n\u3053 \u308c \u306f \u3072 \u3069 \u3044 !! \u3057\u304b\u3057\u3001\u3053\u308c\u304c TDD \u306e\u300c\u4eee\u5b9f\u88c5\u300d\u3067\u3059\u3002\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec message_filter_spec.rb   \n.\n\nFinished in 0.00318 seconds (files took 0.17075 seconds to load)\n1 example, 0 failures\n$ git commit -am 'Implement detect? as fake'\n[1st 3eaa110] Implement detect? as fake\n 1 file changed, 1 insertion(+)\n\nCommit\n\u30e1\u30bd\u30c3\u30c9\u304b\u3089 true \u3092\u8fd4\u3059\u30d9\u30bf\u306a\u5b9f\u88c5\u3092\u884c\u3063\u305f\u306e\u3067\u30c6\u30b9\u30c8\u304c\u901a\u308b\u306e\u306f\u5f53\u305f\u308a\u524d\u3067\u3059\u306d\u3002\u3053\u3093\u306a\u884c\u70ba\u306b\u4f55\u304b\u610f\u5473\u304c\u3042\u308b\u306e\u3067\u3057\u3087\u3046\u304b?\n\u4eee\u5b9f\u88c5\u3068\u306f\u3001\u30c6\u30b9\u30c8\u306e\u30c6\u30b9\u30c8\u3001\u3068\u8003\u3048\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002 \u4f8b\u3048\u3070\u4eca\u56de\u306e\u4f8b\u3067\u3001 true \u3092\u8fd4\u3059\u3068\u3044\u3046\u7d76\u5bfe\u30c6\u30b9\u30c8\u304c\u901a\u308b\u3060\u308d\u3046\u3068\u3044\u3046\u5b9f\u88c5\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u3082\u3001\u30c6\u30b9\u30c8\u304c\u5931\u6557\u3057\u305f\u3089\u3069\u3046\u3067\u3057\u3087\u3046\u304b? \u305d\u308c\u306f\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u65b9\u306b\u3053\u305d\u30d0\u30b0\u304c\u6f5c\u3093\u3067\u3044\u308b\u3053\u3068\u3092\u793a\u5506\u3057\u3066\u3044\u307e\u3059\u3002\u4eee\u5b9f\u88c5\u3067\u6210\u529f\u3057\u306a\u3044\u30c6\u30b9\u30c8\u306f\u3001\u672c\u5b9f\u88c5\u3067\u3082\u6210\u529f\u3057\u306a\u3044\u3067\u3057\u3087\u3046\u3002\u672c\u5b9f\u88c5\u3067\u3082\u30c6\u30b9\u30c8\u304c\u901a\u3089\u306a\u304b\u3063\u305f\u3068\u304d\u306b\u3001\u306a\u305c\u30c6\u30b9\u30c8\u304c\u901a\u3089\u306a\u3044\u306e\u304b\u672c\u5b9f\u88c5\u3092\u9577\u3044\u6642\u9593\u30c7\u30d0\u30c3\u30b0\u3057\u305f\u7d50\u679c\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u9593\u9055\u3063\u3066\u3044\u305f\u306e\u3067\u306f\u76ee\u3082\u5f53\u3066\u3089\u308c\u307e\u305b\u3093\u3002\n\n\u4e09\u89d2\u6e2c\u91cf\n\u3057\u304b\u3057\u3001\u3053\u306e\u307e\u307e\u3067\u306f\u5b9f\u88c5\u306f\u3044\u3064\u307e\u3067\u3082\u5b89\u6613\u904e\u304e\u308b\u3082\u306e\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u5225\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u3063\u305f\u30c6\u30b9\u30c8\u3092\u8db3\u3057\u307e\u3057\u3087\u3046\u3002\u3053\u308c\u3092 TDD \u3067\u306f \u300c\u4e09\u89d2\u6e2c\u91cf(triangulation)\u300d \u3068\u3044\u3044\u307e\u3059\u3002\nmessage_filter_spec.rb\n require_relative 'message_filter'\n\n describe MessageFilter do\n   it 'detects message with NG word' do\n     filter = MessageFilter.new('foo')\n     expect(filter.detect?('hello from foo')).to eq true\n   end\n+  it 'does not detect message without NG word' do\n+    filter = MessageFilter.new('foo')\n+    expect(filter.detect?('hello, world!')).to eq false\n+  end\n end\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec message_filter_spec.rb\n.F\n\nFailures:\n\n  1) MessageFilter does not detect message without NG word\n     Failure/Error: expect(filter.detect?('hello, world!')).to eq false\n\n       expected: false\n            got: true\n\n       (compared using ==)\n     # ./message_filter_spec.rb:10:in `block (2 levels) in <top (required)>'\n\nFinished in 0.001 seconds (files took 0.16826 seconds to load)\n2 examples, 1 failure\n\nFailed examples:\n\nrspec ./message_filter_spec.rb:8 # MessageFilter does not detect message without NG word\n$ git commit -am 'Add triangulation spec'\n[1st c63c8dc] Add triangulation spec\n 1 file changed, 4 insertions(+)\n\nCommit\n\u300c\u4eee\u5b9f\u88c5\u300d\u3067\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u306f\u3042\u3063\u3068\u3044\u3046\u9593\u306b\u7834\u7dbb\u3057\u307e\u3057\u305f\u3002\u305d\u308d\u305d\u308d\u304d\u3061\u3093\u3068\u5b9f\u88c5\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3067\u3059\u306d\u3002\n\n\u660e\u767d\u306a\u5b9f\u88c5\nmessage_filter.rb\n class MessageFilter\n   def initialize(word)\n     @word = word\n   end\n   def detect?(text)\n-    true\n+    text.include?(@word)\n   end\n end\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec message_filter_spec.rb           \n..\n\nFinished in 0.00093 seconds (files took 0.1758 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Finish obvious implementation'\n[1st 17801c4] Finish obvious implementation\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\nCommit\n\u5b9f\u88c5\u304c\u898b\u3048\u3066\u3044\u308b\u3068\u304d\u306f\u3001\u4e09\u89d2\u6e2c\u91cf\u3092\u4ecb\u3055\u305a\u306b\u305d\u306e\u307e\u307e\u4eee\u5b9f\u88c5\u3092\u5909\u66f4\u3057\u3066\u5b9f\u88c5\u3057\u3066\u3082\u304b\u307e\u3044\u307e\u305b\u3093\u3002\u3053\u308c\u3092 \u300c\u660e\u767d\u306a\u5b9f\u88c5 (obvious implementation)\u300d \u3068\u3044\u3044\u307e\u3059\u3002\n\u5927\u4e8b\u306a\u306e\u306f\u81ea\u5206\u306e\u4e0d\u5b89\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u3053\u3068\u3067\u3059\u3002 TDD \u3067\u306f\u3001\u30c6\u30b9\u30c8\u3068\u5b9f\u88c5\u4e21\u65b9\u306b\u81ea\u4fe1\u304c\u3042\u308b\u6642\u306f\u300c\u660e\u767d\u306a\u5b9f\u88c5\u300d\u3001\u4e00\u6b69\u4e00\u6b69\u9032\u3081\u305f\u3044\u3001\u3064\u307e\u308a\u30c6\u30b9\u30c8\u3092\u30c6\u30b9\u30c8\u3057\u3066\u3001\u305d\u306e\u3042\u3068\u3067\u5b9f\u88c5\u3092\u30c6\u30b9\u30c8\u3057\u305f\u3044\u6642\u306f\u300c\u4eee\u5b9f\u88c5\u300d\u3068\u300c\u4e09\u89d2\u6e2c\u91cf\u300d\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n\u30bf\u30b0\u3092\u6253\u3064\n\u304d\u308a\u306e\u3044\u3044\u3068\u3053\u308d\u307e\u3067\u304d\u305f\u306e\u3067\u3001\u4e00\u5ea6\u30bf\u30b0\u3092\u6253\u3061\u307e\u3059\u3002\n$ git tag -a -m '1st iteration spec refactoring point' iter1_spec_refactoring\n$ git tag\niter1_spec_refactoring\n\n\n\u30c6\u30b9\u30c8\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n\u3055\u3066\u3001\u30c6\u30b9\u30c8\u304c\u5168\u90e8\u901a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u5b9f\u88c5\u30af\u30e9\u30b9\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u884c\u3044\u307e\u3057\u3087\u3046\u3002\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3068\u306f\u3001\u30b3\u30fc\u30c9\u306b\u91cd\u8907\u304c\u3042\u3063\u305f\u308a\u3001\u7121\u99c4\u304c\u3042\u308b\u5834\u5408\u306b\u3001\u30c6\u30b9\u30c8\u304c\u901a\u3063\u305f\u307e\u307e\u3067\u5b9f\u88c5\u3092\u7dba\u9e97\u306b\u3057\u3066\u3044\u304f\u3053\u3068\u3067\u3059\u3002\u5b9f\u88c5\u306b\u30b3\u30fc\u30c9\u306e\u91cd\u8907\u3084\u7121\u99c4\u306f\u3042\u308b\u3067\u3057\u3087\u3046\u304b? \u73fe\u6642\u70b9\u3067\u306f\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u306e\u4f59\u5730\u304c\u306a\u3044\u307b\u3069\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u306d\u3002\u3067\u306f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306f\u3069\u3046\u3067\u3057\u3087\u3046\u304b? \u2026\u304b\u306a\u308a\u91cd\u8907\u304c\u898b\u3089\u308c\u307e\u3059\u306d\u3002\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u305f\u3059\u3050\u5f8c\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u91cd\u8907\u3082\u7a4d\u6975\u7684\u306b\u6392\u9664\u3057\u3066\u3044\u3053\u3046\u3001\u3068\u3044\u3046\u306e\u304c\u6700\u8fd1\u306e\u8003\u3048\u65b9\u3067\u3059\u3002\u30c6\u30b9\u30c8\u306e\u300c\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u300d\u3068\u3044\u3046\u3068\u53b3\u5bc6\u306b\u306f\u3082\u3063\u3068\u96e3\u3057\u304f\u3001\u30bf\u30a4\u30df\u30f3\u30b0\u304c\u9045\u308c\u308b\u307b\u3069\u56f0\u96e3\u306a\u3082\u306e\u3067\u3059\u304c\u3001\u30c6\u30b9\u30c8\u5b9f\u88c5\u76f4\u5f8c\u3067\u306f\u81ea\u5206\u306e\u982d\u306b\u3082\u30c6\u30b9\u30c8\u8a2d\u8a08\u304c\u6b8b\u3063\u3066\u3044\u308b\u3067\u3057\u3087\u3046\u3057\u3001\u3053\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u306f\u5927\u80c6\u306b\u884c\u52d5\u3067\u304d\u307e\u3059\u3002\u3067\u306f\u91cd\u8907\u3092\u6392\u9664\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\nbefore\u30e1\u30bd\u30c3\u30c9\u306e\u62bd\u51fa\nbefore \u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u6210\u3057\u3001filter \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u6210\u90e8\u5206\u3092\u305d\u3053\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002 before \u3068\u306f\u3001 xUnit \u3067\u3044\u3046\u3068 setUp \u306b\u76f8\u5f53\u3057\u307e\u3059\u3002before \u30e1\u30bd\u30c3\u30c9\u306f\u5404\u30c6\u30b9\u30c8\u306e\u5b9f\u884c\u524d\u306b\u6bce\u56de\u5b9f\u884c\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u91cd\u8907\u90e8\u3092 before \u306b\u66f8\u304f\u3053\u3068\u3067\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u91cd\u8907\u3092\u6392\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nmessage_filter_spec.rb\n require_relative 'message_filter'\n\n describe MessageFilter do\n+  before(:each) do\n+    @filter = MessageFilter.new('foo')\n+  end\n   it 'detects message with NG word' do\n-    filter = MessageFilter.new('foo')\n-    expect(filter.detect?('hello from foo')).to eq true\n+    expect(@filter.detect?('hello from foo')).to eq true\n   end\n   it 'does not detect message without NG word' do\n-    filter = MessageFilter.new('foo')\n-    expect(filter.detect?('hello, world!')).to eq false\n+    expect(@filter.detect?('hello, world!')).to eq false\n   end\n end\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec message_filter_spec.rb\n..\n\nFinished in 0.00096 seconds (files took 0.17886 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Use before method'\n[1st 8d3cc0e] Use before method\n 1 file changed, 5 insertions(+), 4 deletions(-)\n\nCommit\n\neach\u306f\u4e0d\u8981\n\u3061\u306a\u307f\u306b\u3001 :each \u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u6271\u3044\u306a\u306e\u3067\u3001\u660e\u793a\u7684\u306b\u66f8\u304f\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\nmessage_filter_spec.rb\n require_relative 'message_filter'\n\n describe MessageFilter do\n-  before(:each) do\n+  before do\n     @filter = MessageFilter.new('foo')\n   end\n   it 'detects message with NG word' do\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec message_filter_spec.rb      \n..\n\nFinished in 0.00093 seconds (files took 0.17217 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Omit :each param'\n[1st bda35e5] Omit :each param\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\nCommit\n\nbe_[predicate] \u30de\u30c3\u30c1\u30e3\u30fc\nexpect(XXX?).to eq true \u3084 expect(XXX).to be_truthy \u3068\u3044\u3046\u8a18\u8ff0\u306f\u3001 be_[predicate] \u30de\u30c3\u30c1\u30e3\u30fc\u3068\u3044\u3046\u66f8\u304d\u65b9\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3046\u3044\u3046\u66f8\u304d\u65b9\u3092\u3059\u308b\u3053\u3068\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3068\u3057\u3066\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u610f\u5473\u3092\u9ad8\u3081\u3001\u304b\u3064\u8a18\u8ff0\u81ea\u4f53\u3082\u7c21\u6f54\u306b\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\nexpect(hoge.fuga?).to eq true \u306f expect(hoge).to be_fuga \u3068\u66f8\u304d\u76f4\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 be_fuga \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u306f\u5f53\u7136\u5b58\u5728\u3057\u307e\u305b\u3093\u304c\u3001 RSpec \u304c method_missing \u3092\u4f7f\u3044\u3001\u30c6\u30b9\u30c8\u7528\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u3042\u308b\u3068\u89e3\u91c8\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u3053\u308c\u3082\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u4f8b\u3068\u8a00\u3046\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\u3010\u6ce8\u76ee\uff01\u3011\n\u4e0a\u306e\u8aac\u660e\u306b\u51fa\u3066\u304d\u305fbe_truthy\u306fRSpec 3\u304b\u3089\u767b\u5834\u3057\u305f\u8a18\u6cd5\u3067\u3059\u3002RSpec 2\u307e\u3067\u306fbe_true\u3068\u66f8\u3044\u3066\u3044\u307e\u3057\u305f\u3002\n\u540c\u69d8\u306bbe_false\u3082RSpec 3\u3067\u306fbe_falsey\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nmessage_filter_spec.rb\n     @filter = MessageFilter.new('foo')\n   end\n   it 'detects message with NG word' do\n-    expect(@filter.detect?('hello from foo')).to eq true\n+    expect(@filter).to be_detect('hello from foo')\n   end\n   it 'does not detect message without NG word' do\n-    expect(@filter.detect?('hello, world!')).to eq false\n+    expect(@filter).not_to be_detect('hello, world')\n   end\n end\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec message_filter_spec.rb     \n..\n\nFinished in 0.00369 seconds (files took 0.17262 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Use be_predicate matcher'\n[1st 1d8abc0] Use be_predicate matcher\n 1 file changed, 2 insertions(+), 2 deletions(-)\n\nCommit\n\u3010\u6ce8\u76ee\uff01\u3011\n\u3053\u3053\u3067\u306fexpect(...).not_to ...\u306e\u5f62\u5f0f\u3067\u66f8\u3044\u3066\u3044\u307e\u3059\u304c\u3001expect(...).to_not ...\u3068\u66f8\u3044\u3066\u3082\u540c\u3058\u3088\u3046\u306b\u52d5\u304d\u307e\u3059\u3002\n\u3069\u3061\u3089\u304c\u826f\u3044\u306e\u304b\u3001\u3068\u3044\u3046\u70b9\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u306b\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002(\u7d50\u8ad6\u3068\u3057\u3066\u306f\u300c\u3069\u3063\u3061\u3067\u3082\u826f\u3044\u300d\u306e\u3067\u3059\u304c)\n\nRSpec\u3067\u300c\uff5e\u3067\u306f\u306a\u3044\u3053\u3068\u300d\u3092\u691c\u8a3c\u3059\u308b\u3068\u304d\u306f expect(x).to_not \u3001\u307e\u305f\u306f expect(x).not_to \u306e\u3069\u3061\u3089\u3092\u4f7f\u3046\u3079\u304d\u304b\uff1f\n\n\n-fd\u30aa\u30d7\u30b7\u30e7\u30f3\n\u3055\u3066\u3001\u3053\u3053\u4ee5\u964d\u306f RSpec \u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u51fa\u529b\u6a5f\u80fd\u306b\u3082\u7740\u76ee\u3057\u307e\u3059\u3002\nrspec \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u6642\u306b -fd \u3068\u3044\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3068\u3001\u4ed5\u69d8\u8a18\u8ff0\u3092\u51fa\u529b\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\u73fe\u72b6\u3067\u306f\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u3067\u3057\u3087\u3046\u304b\u3002\n\u3010\u6ce8\u76ee\uff01\u3011\nRSpec 3\u304b\u3089-fs\u30aa\u30d7\u30b7\u30e7\u30f3\u306f-fd\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u5909\u308f\u308a\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001-fd\u306e\u4ee3\u308f\u308a\u306b--format documentation\u3068\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  detects message with NG word\n  does not detect message without NG word\n\nFinished in 0.00182 seconds (files took 0.17071 seconds to load)\n2 examples, 0 failures\n\n\nRSpec\u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u3055\u305b\u308b\n\u307e\u3060\u91cd\u8907\u3057\u3066\u3044\u308b\u306e\u306f\u3001 it \u306e\u5f15\u6570\u3068\u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u8eab\u3067\u3059\u3002\u6587\u5b57\u5217\u3067\u66f8\u304b\u308c\u305f\u5185\u5bb9\u3068\u3001\u30d6\u30ed\u30c3\u30af\u5185\u306e\u30b3\u30fc\u30c9\u81ea\u8eab\u304c\u304b\u306a\u308a\u91cd\u8907\u3057\u3066\u3044\u307e\u3059\u306d\u3002 RSpec \u306f it \u306e\u8aac\u660e\u7528\u306e\u6587\u5b57\u5217\u5f15\u6570\u3092\u7701\u7565\u3057\u305f\u6642\u306b\u81ea\u5206\u3067\u5224\u65ad\u3067\u304d\u308b\u7bc4\u56f2\u3067\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u307e\u3059\u3002 it \u306e\u6587\u5b57\u5217\u5f15\u6570\u3092\u524a\u9664\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u3087\u3046\u3002\nmessage_filter_spec.rb\n   before do\n     @filter = MessageFilter.new('foo')\n   end\n-  it 'detects message with NG word' do\n+  it {\n     expect(@filter).to be_detect('hello from foo')\n-  end\n-  it 'does not detect message without NG word' do\n+  }\n+  it {\n     expect(@filter).not_to be_detect('hello, world')\n-  end\n+  }\n end\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  should be detect \"hello from foo\"\n  should not be detect \"hello, world\"\n\nFinished in 0.00201 seconds (files took 0.16959 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Omit spec descriptions'\n[1st 55c7ee4] Omit spec descriptions\n 1 file changed, 4 insertions(+), 4 deletions(-)\n\nCommit\n\"should be detect\" \u3067\u306f\u82f1\u8a9e\u7684\u306b\u5fae\u5999\u3067\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u76ee\u3092\u3064\u3076\u308a\u307e\u3059\u3002\u3069\u3046\u3067\u3057\u3087\u3046\u3002\u6848\u5916\u8aad\u3081\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b?\n\u9055\u548c\u611f\u304c\u3042\u308b\u5834\u5408\u3001\u305d\u308c\u306f\u8a2d\u8a08\u304c\u307e\u3060\u4e0d\u5b8c\u5168\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u5506\u3057\u3066\u3044\u308b\u3068\u8003\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3057\u3001\u30ab\u30b9\u30bf\u30e0\u30de\u30c3\u30c1\u30e3\u30fc\u3078\u306e\u9053\u3092\u9032\u3080\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\u3053\u3053\u3067\u8ad6\u3058\u3066\u3044\u308b\u3088\u3046\u306a\u30dd\u30a4\u30f3\u30c8\u3082 RSpec \u3068\u306e\u3046\u307e\u3044\u4ed8\u304d\u5408\u3044\u304b\u305f\u3001\u3068\u3044\u3048\u307e\u3059\u3002\n\ndescribe \u306b\u30b3\u30f3\u30c6\u30af\u30b9\u30c8\u60c5\u5831\u3092\u8ffd\u52a0\u3059\u308b\n\u5148\u307b\u3069\u306e\u51fa\u529b\u3067\u3059\u304c\u3001\u3061\u3087\u3063\u3068\u60c5\u5831\u304c\u8db3\u308a\u306a\u3044\u3067\u3059\u306d\nMessageFilter\n  should be detect \"hello from foo\"\n\n\u300cMessageFilter should be detect \"hello from foo\"\u300d\u3068\u8aad\u3081\u307e\u3059\u304c\u3001\u5168\u3066\u306e MessageFilter \u304c\u3053\u3046\u632f\u308b\u821e\u3046\u308f\u3051\u3067\u306f\u306a\u3044\u3067\u3059\u3088\u306d\u3001\u72b6\u6cc1\u306e\u8aac\u660e\u304c\u8db3\u308a\u3066\u3044\u307e\u305b\u3093\u3002\u72b6\u6cc1\u8aac\u660e\u3092\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306b\u52a0\u3048\u307e\u3057\u3087\u3046\u3002\nmessage_filter_spec.rb\n require_relative 'message_filter'\n\n-describe MessageFilter do\n+describe MessageFilter, 'with argument \"foo\"' do\n   before do\n     @filter = MessageFilter.new('foo')\n   end\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb       \n\nMessageFilter with argument \"foo\"\n  should be detect \"hello from foo\"\n  should not be detect \"hello, world\"\n\nFinished in 0.00196 seconds (files took 0.17112 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Add description to describe'\n[1st 8e72fa5] Add description to describe\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\nCommit\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u6587\u5b57\u5217\u3067\u66f8\u304b\u305a\u3068\u3082\u3001\u60c5\u5831\u91cf\u304c\u304b\u306a\u308a\u4fdd\u305f\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u304d\u307e\u3057\u305f\u306d\u3002\u3053\u308c\u3082 RSpec Way \u3067\u3059\u3002\n\n\u307e\u3060\u307e\u3060\u91cd\u8907\u304c\u3042\u308b!\n@filter \u3082\u91cd\u8907\u3057\u3066\u3044\u307e\u305b\u3093\u304b? \u3053\u308c\u3082\u53d6\u308a\u53bb\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002RSpec \u306e subject \u3068\u3044\u3046\u6a5f\u80fd\u3092\u4f7f\u3044\u307e\u3059\u3002subject \u3092\u4f7f\u3046\u3068\u3001 subject \u30d6\u30ed\u30c3\u30af\u306e\u8a55\u4fa1\u7d50\u679c\u304c it \u5185\u306e is_expected \u306e\u30ec\u30b7\u30fc\u30d0\u306b\u306a\u308a\u307e\u3059\u3002\n\u3010\u6ce8\u76ee\uff01\u3011\nRSpec 2\u307e\u3067\u306fit { should ... }\u3068\u66f8\u3044\u3066\u3044\u307e\u3057\u305f\u304c\u3001RSpec 3\u304b\u3089\u306fit { is_expected.to ... }\u3068\u66f8\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nmessage_filter_spec.rb\n   before do\n     @filter = MessageFilter.new('foo')\n   end\n+  subject { @filter }\n   it {\n-    expect(@filter).to be_detect('hello from foo')\n+    is_expected.to be_detect('hello from foo')\n   }\n   it {\n-    expect(@filter).not_to be_detect('hello, world')\n+    is_expected.not_to be_detect('hello, world')\n   }\n end\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb            \n\nMessageFilter with argument \"foo\"\n  should be detect \"hello from foo\"\n  should not be detect \"hello, world\"\n\nFinished in 0.00234 seconds (files took 0.26225 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Use subject'\n[1st 98b1825] Use subject\n 1 file changed, 3 insertions(+), 2 deletions(-)\n\nCommit\n\n\u307e\u3060\u307e\u3060\u307e\u3060\u91cd\u8907\u304c\u3042\u308b!!\n\u4eca\u56de\u306e\u4f8b\u3067\u306f before \u30d6\u30ed\u30c3\u30af\u306f\u307b\u3068\u3093\u3069\u4ed5\u4e8b\u3057\u3066\u3044\u306a\u3044\u3067\u3059\u306d\u3001 subject \u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u306b\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u3087\u3046\u3002\nmessage_filter_spec.rb\n require_relative 'message_filter'\n\n describe MessageFilter, 'with argument \"foo\"' do\n-  before do\n-    @filter = MessageFilter.new('foo')\n-  end\n-  subject { @filter }\n+  subject { MessageFilter.new('foo') }\n   it {\n     is_expected.to be_detect('hello from foo')\n   }\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter with argument \"foo\"\n  should be detect \"hello from foo\"\n  should not be detect \"hello, world\"\n\nFinished in 0.00222 seconds (files took 0.21799 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Remove instance variable'\n[1st c75a0bd] Remove instance variable\n 1 file changed, 1 insertion(+), 4 deletions(-)\n\nCommit\n\n\u7c21\u6f54\u3055\u306f\u529b\n\u304b\u306a\u308a\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u7c21\u6f54\u306b\u306a\u3063\u3066\u307e\u3057\u305f\u3002\u30b3\u30fc\u30c9\u3092\u3059\u3063\u304d\u308a\u3055\u305b\u305f\u3044\u306e\u3067 it \u306e\u6539\u884c\u3092\u5ec3\u3057\u3001\u6700\u7d42\u7684\u306b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306f\u3053\u3046\u3044\u3046\u5f62\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u91cd\u8907\u304c\u5c11\u306a\u304f\u3001\u304b\u3064\u60c5\u5831\u91cf\u81ea\u4f53\u306f\u304b\u306a\u308a\u4fdd\u305f\u308c\u3066\u3044\u307e\u3059\u3002\nmessage_filter_spec.rb\n\n describe MessageFilter, 'with argument \"foo\"' do\n   subject { MessageFilter.new('foo') }\n-  it {\n-    is_expected.to be_detect('hello from foo')\n-  }\n-  it {\n-    is_expected.not_to be_detect('hello, world')\n-  }\n+  it { is_expected.to be_detect('hello from foo') }\n+  it { is_expected.not_to be_detect('hello, world') }\n end\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb         \n\nMessageFilter with argument \"foo\"\n  should be detect \"hello from foo\"\n  should not be detect \"hello, world\"\n\nFinished in 0.00232 seconds (files took 0.22088 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Join lines'\n[1st 6740238] Join lines\n 1 file changed, 2 insertions(+), 6 deletions(-)\n\nCommit\n\n\u7b2c1\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u7d42\u4e86\n\u3055\u3066\u3001\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u6700\u7d42\u7684\u306b\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nmessage_filter.rb\nclass MessageFilter\n  def initialize(word)\n    @word = word\n  end\n  def detect?(text)\n    text.include?(@word)\n  end\nend\n\nmessage_filter_spec.rb\nrequire_relative 'message_filter'\n\ndescribe MessageFilter, 'with argument \"foo\"' do\n  subject { MessageFilter.new('foo') }\n  it { is_expected.to be_detect('hello from foo') }\n  it { is_expected.not_to be_detect('hello, world') }\nend\n\n\u30bf\u30b0\u3092\u6253\u3063\u3066\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u7d42\u4e86\u3068\u3057\u307e\u3057\u3087\u3046\u3002\n$ git tag -a -m 'end of 1st iteration' end_of_iter1\n\nTag\n\n\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3001\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u7d9a\u304d\u307e\u3059\n\u548c\u7530\u3055\u3093\u306e\u8a18\u4e8b\u3068\u540c\u69d8\u306b\u3001\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3001\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u8a18\u4e8b\u306b\u3064\u3044\u3066\u3082RSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u7d9a\u3051\u3066\u5b66\u7fd2\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff01\n\n\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\n\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\n\n\n\u3042\u308f\u305b\u3066\u8aad\u307f\u305f\u3044\n\u65e2\u5b58\u306eRSpec 2\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092RSpec 3\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n\nRSpec\u306e\u6700\u65b0\u306e\u52d5\u5411\u30fbRSpec 3\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u30ac\u30a4\u30c9\n\u65e2\u5b58\u306eRails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092RSpec 3.0\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u969b\u306e\u6ce8\u610f\u70b9 \uff5eRSpec 3\u306f\u6016\u304f\u306a\u3044\u3088\uff01\uff5e\n\nRSpec 3\u306e\u65b0\u6a5f\u80fd\u306b\u3064\u3044\u3066\u6df1\u304f\u6398\u308a\u4e0b\u3052\u305f\u3044\u65b9\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u3069\u3046\u305e\u3002\n\n\u4eca\u65e5\u304b\u3089\u4f7f\u3048\u308b\uff01RSpec 3\u3067\u8ffd\u52a0\u3055\u308c\u305f8\u3064\u306e\u65b0\u6a5f\u80fd\n\n\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3067\u306fRSpec\u306e\u57fa\u672c\u4e8b\u9805\u3092\u5b9f\u8df5\u7684\u306a\u8996\u70b9\u3067\u72ec\u81ea\u306b\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u4f7f\u3048\u308bRSpec\u5165\u9580\u30fb\u305d\u306e1\u300cRSpec\u306e\u57fa\u672c\u7684\u306a\u69cb\u6587\u3084\u4fbf\u5229\u306a\u6a5f\u80fd\u3092\u7406\u89e3\u3059\u308b\u300d\n\n\nPR: RSpec 3.1\u306b\u5bfe\u5fdc\u3057\u305f\u300cEveryday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580\u300d\u304c\u767a\u58f2\u4e2d\u3067\u3059\n\u50d5\u304c\u7ffb\u8a33\u8005\u3068\u3057\u3066\u643a\u308f\u3063\u305f \u300cEveryday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580\u300d \u3068\u3044\u3046\u96fb\u5b50\u66f8\u7c4d\u304c\u767a\u58f2\u4e2d\u3067\u3059\u3002\nRails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3057\u3066\u3044\u308b\u65b9\u3067\u3001\u5b9f\u8df5\u7684\u306a\u30c6\u30b9\u30c8\u306e\u66f8\u304d\u65b9\u3092\u5b66\u3093\u3067\u307f\u305f\u3044\u3068\u3044\u3046\u4eba\u306b\u306f\u6700\u9069\u306a\u4e00\u518a\u3067\u3059\u3002\n\u73fe\u884c\u30d0\u30fc\u30b8\u30e7\u30f3\u306fRSpec 3.1\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\u4e00\u5ea6\u8cfc\u5165\u3059\u308c\u3070\u5c06\u6765\u7121\u6599\u3067\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u308b\u306e\u3082\u672c\u66f8\u306e\u7279\u5fb4\u306e\u4e00\u3064\u3067\u3059\u3002\n\u3088\u304b\u3063\u305f\u3089\u305c\u3072\u8aad\u3093\u3067\u307f\u3066\u304f\u3060\u3055\u3044\uff01\nEveryday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580\n\n\u672c\u66f8\u306e\u5185\u5bb9\u306b\u95a2\u3059\u308b\u8a73\u3057\u3044\u60c5\u5831\u306f\u3053\u3061\u3089\u306e\u30d6\u30ed\u30b0\u3092\u3069\u3046\u305e\u3002\nRSpec 3.1\u306b\u5b8c\u5168\u5bfe\u5fdc\uff01\u300cEveryday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580\u300d\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u307e\u3057\u305f\n# \u306f\u3058\u3081\u306b\n\n\u6709\u540d\u306a\u521d\u5fc3\u8005\u5411\u3051\u306eRSpec\u5165\u9580\u8a18\u4e8b\u3068\u3057\u3066\u3001\u548c\u7530\u5353\u4eba\u3055\u3093(@t_wada)\u306e\u300c[RSpec \u306e\u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078](http://d.hatena.ne.jp/t-wada/20100228/p1)\u300d\u3068\u3044\u3046\u8a18\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\n\u50d5\u3082RSpec\u3092\u5168\u304f\u77e5\u3089\u306a\u304b\u3063\u305f\u9803\u306b\u53c2\u8003\u306b\u3055\u305b\u3066\u3082\u3089\u3044\u307e\u3057\u305f\u3002\n\n\u4eca\u8aad\u3093\u3067\u3082\u3068\u3066\u3082\u7d20\u6674\u3089\u3057\u3044\u8cc7\u6599\u306a\u306e\u3067\u3059\u304c\u3001RSpec\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u304f\u3001\u73fe\u72b6\u306e\u66f8\u304d\u65b9\u3068\u30de\u30c3\u30c1\u3057\u306a\u304f\u306a\u3063\u3066\u304d\u3066\u3044\u308b\u306e\u304c\u5c11\u3057\u3082\u3063\u305f\u3044\u306a\u3044\u3068\u3053\u308d\u3067\u3059\u3002\n\n\u305d\u3053\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\u548c\u7530\u3055\u3093\u306e\u8a18\u4e8b\u3092RSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u66f8\u304d\u76f4\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n## \u5404\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3(RSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3)\u3078\u306e\u30ea\u30f3\u30af\n\n- \u7b2c1\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3(\u672c\u8a18\u4e8b)\n- [\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3](http://qiita.com/jnchito/items/47f539ddca7dbc01acef)\n- [\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3](http://qiita.com/jnchito/items/b1215a5d548cac4c7de6)\n\n## \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306eURL\n\n- https://github.com/JunichiIto/rspec3-for-beginners/tree/end_of_iter1\n\n\n## \u672c\u8a18\u4e8b\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u3064\u3044\u3066\n\n\u672c\u8a18\u4e8b\u306f [\u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6\u30fb\u30b3\u30e2\u30f3\u30ba \u8868\u793a - \u7d99\u627f 4.0 \u56fd\u969b \u30e9\u30a4\u30bb\u30f3\u30b9](http://creativecommons.org/licenses/by-sa/4.0/)\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n![banner](https://i.creativecommons.org/l/by-sa/4.0/88x31.png)\n\n## \u5099\u8003\n\n- \u672c\u6587\u3084\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f\u6975\u529b\u30aa\u30ea\u30b8\u30ca\u30eb\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8e0f\u8972\u3057\u307e\u3059\u3002\n- \u8a18\u8ff0\u304c\u53e4\u304f\u306a\u3063\u3066\u3044\u308b\u7b87\u6240\u306f\u65b0\u3057\u3044\u8a18\u8ff0\u65b9\u6cd5\u306b\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\n- \u65b0\u3057\u3044\u8a18\u8ff0\u65b9\u6cd5\u3084\u548c\u7530\u3055\u3093\u306e\u30aa\u30ea\u30b8\u30ca\u30eb\u8a18\u4e8b\u306b\u66f8\u304b\u308c\u3066\u3044\u306a\u3044\u60c5\u5831\u306b\u306f **\u3010\u6ce8\u76ee\uff01\u3011** \u306e\u5370\u3092\u4ed8\u3051\u3066\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n## \u4f7f\u7528\u3059\u308b\u30c4\u30fc\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\n\n- RSpec 3.0.0\n- Ruby 2.1.2\n\n## \u8aad\u307f\u9032\u3081\u308b\u524d\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3082\u306e\n\n- git\n- rbenv\n  - \u50d5\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u969b\u306b\u3001[\u3053\u3061\u3089\u306e\u8a18\u4e8b](http://qiita.com/sora_h/items/9dd797f42e7bea674705)\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\n- Ruby 2.1.2\n  - rbenv\u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n- bundler\n  - `bundle`\u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306f`gem install bundler`\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n# 1st iteration\n\nfavotter \u306e <censored> \u307f\u305f\u3044\u306a NG \u30ef\u30fc\u30c9\u306e\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u6a5f\u80fd\u3092 RSpec \u3067\u4f5c\u308a\u307e\u3057\u3087\u3046\u3002\u307e\u305a\u306f NG \u30ef\u30fc\u30c9\u306e\u691c\u51fa\u6a5f\u80fd\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u6700\u521d\u30d9\u30bf\u306a\u5f62\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3068\u5b9f\u88c5\u3092\u66f8\u304d\u3001\u3060\u3093\u3060\u3093\u3068\u305d\u306e\u30b3\u30fc\u30c9\u3092\u6d17\u7df4\u3055\u305b\u3066\u3086\u304d\u307e\u3059\u3002\n\n# \u958b\u767a\u74b0\u5883\u306e\u6e96\u5099(RSpec\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb)\n\n\u958b\u767a\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001bundler\u3092\u4f7f\u3063\u3066RSpec\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\u306a\u304a\u3001\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u306e\u30b3\u30fc\u30c9\u306f diff \u98a8\u306e\u8a18\u6cd5\u3067\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002 \"+\" \u304c\u8ffd\u52a0\u3055\u308c\u305f\u884c\u3001 \"-\" \u304c\u524a\u9664\u3055\u308c\u305f\u884c\u3067\u3059\u3002\n\n\u307e\u305f\u3001\u3053\u308c\u304b\u3089\u66f8\u304f\u30b3\u30fc\u30c9\u3092 git \u3067\u7ba1\u7406\u3057\u307e\u3057\u3087\u3046\u3002\u5404\u30b9\u30c6\u30c3\u30d7\u6bce\u306b commit \u3092\u884c\u3044\u3064\u3064\u9032\u3081\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ mkdir rspec3-for-beginners\n$ cd rspec3-for-beginners\n$ rbenv local 2.1.2\n$ ruby -v\nruby 2.1.2p95 (2014-05-08 revision 45877) [x86_64-darwin13.0]\n$ git init\nInitialized empty Git repository in /Users/jit/dev/private/rspec3-for-beginners/.git/\n$ git add .\n$ git commit -am 'Initial commit'\n[master (root-commit) 1c1a33b] Initial commit\n 1 file changed, 1 insertion(+)\n create mode 100644 .ruby-version\n$ touch Gemfile\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/1c1a33bd1d41721852b015fd7f17b7ac31417d21)\n\nGemfile\u3092\u6b21\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n**\u3010\u6ce8\u76ee\uff01\u3011**\n\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u8a18\u4e8b\u3068\u306f\u7570\u306a\u308a\u3001\u672c\u8a18\u4e8b\u3067\u306fbundler\u3092\u4f7f\u3063\u3066RSpec\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nGemfile\u306fbundler\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308bgem\u306e\u5b9a\u7fa9)\u3067\u3059\u3002\n\n````diff\n+source 'https://rubygems.org'\n+\n+gem 'rspec', '3.0.0'\n````\n\nbundle install\u3092\u5b9f\u884c\u3057\u3001RSpec\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u5b8c\u4e86\u3057\u305f\u3089git\u306bcommit\u3057\u307e\u3059\u3002\n\n````bash\n$ bundle install\nFetching gem metadata from https://rubygems.org/.........\nFetching additional metadata from https://rubygems.org/..\nResolving dependencies...\nUsing diff-lcs 1.2.5\nUsing rspec-support 3.0.2\nUsing rspec-core 3.0.2\nUsing rspec-expectations 3.0.2\nUsing rspec-mocks 3.0.2\nUsing rspec 3.0.0\nUsing bundler 1.6.2\nYour bundle is complete!\nUse `bundle show [gemname]` to see where a bundled gem is installed.\n$ git add .\n$ git commit -m 'Install RSpec'\n[master 2f64804] Install RSpec\n 2 files changed, 25 insertions(+)\n create mode 100644 Gemfile\n create mode 100644 Gemfile.lock\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/2f648045c332e5af2934049f1f82fa0c05279185)\n\n\u3053\u308c\u3067RSpec\u3092\u4f7f\u3063\u3066\u958b\u767a\u3059\u308b\u6e96\u5099\u304c\u6574\u3044\u307e\u3057\u305f\u3002\n\n# message_filter_spec.rb \u3092\u4f5c\u6210\n\n\u6b21\u306b\u3001\u3053\u308c\u304b\u3089\u80b2\u3066\u3066\u3044\u304f spec \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n````bash\n$ touch message_filter_spec.rb\n````\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001\u3044\u3063\u305f\u3093git\u306bcommit\u3057\u307e\u3059\u3002\n\u307e\u305f\u30011st iteration\u7528\u306e\u4f5c\u696d\u30d6\u30e9\u30f3\u30c1\u3082\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n````bash\n$ git add .\n$ git commit -m 'Add spec'\n[master cc2b2df] Add spec\n 1 file changed, 0 insertions(+), 0 deletions(-)\n create mode 100644 message_filter_spec.rb\n$ git checkout -b 1st\nSwitched to a new branch '1st'\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/cc2b2df706beda1d667b97fbd7967a305f2cb3ce)\n\n# message_filter.rb\u306e\u4f5c\u6210\n\n\u7d9a\u3044\u3066message_filter_spec.rb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n````diff\n+describe MessageFilter do\n+end\n````\n\n\u305d\u308c\u304b\u3089MessageFilter\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n````bash\n$ touch message_filter.rb\n````\n\nmessage_filter.rb\n\n````diff\n+class MessageFilter\n+end\n````\n\nmessage_filter_spec.rb\n\n````diff\n+require_relative 'message_filter'\n+\n describe MessageFilter do\n end\n````\n\n\u306a\u304a\u3001`require_relative`\u306f\u73fe\u5728\u306e\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u76f8\u5bfe\u30d1\u30b9\u3067require\u3059\u308b\u305f\u3081\u306e\u7d44\u307f\u8fbc\u307f\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\n\n[module function Kernel.#require_relative](http://docs.ruby-lang.org/ja/2.1.0/method/Kernel/m/require_relative.html)\n\n\u3067\u306fRSpec\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u6b21\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\u3067\u3059\u3002\n\n````bash\n$ bundle exec rspec message_filter_spec.rb\nNo examples found.\n\n\nFinished in 0.00015 seconds (files took 0.16597 seconds to load)\n0 examples, 0 failures\n$ git add .\n$ git commit -m 'Add message_filter.rb'\n[1st 04172c0] Add message_filter.rb\n 2 files changed, 6 insertions(+)\n create mode 100644 message_filter.rb\n```\n\n**\u3010\u6ce8\u76ee\uff01\u3011**\nRSpec 2\u304b\u3089RSpec\u306e\u5b9f\u884c\u30b3\u30de\u30f3\u30c9\u304c`spec`\u304b\u3089`rspec`\u306b\u5909\u66f4\u3055\u308c\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001bundler\u3092\u4f7f\u3063\u3066RSpec\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u306e\u3067\u3001\u3053\u3053\u3067\u306f`bundle exec rspec`\u3067RSpec\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\u3053\u3053\u3067\u3082git\u306bcommit\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/04172c0ca9f0b4da0463923706f03dfbd82241b1)\n\n\u3053\u308c\u304b\u3089\u3042\u3068\u3082\u30b9\u30c6\u30c3\u30d7\u3054\u3068\u306bcommit\u3057\u3066\u3044\u304f\u306e\u3067\u3001\u305d\u306e\u90fd\u5ea6\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u5185\u5bb9\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n# \u6700\u521d\u306e\u30c6\u30b9\u30c8 (code example) \u3092\u66f8\u304d\u307e\u3057\u3087\u3046\n\n\u975e\u5e38\u306b\u30d9\u30bf\u306a\u66f8\u304d\u65b9\u3067\u3059\u304c\u3001\u6700\u521d\u306e\u30c6\u30b9\u30c8 (code example) \u3092\u66f8\u304d\u307e\u3059\u3002\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5f8c\u534a\u3067\u3001\u30c6\u30b9\u30c8\u306e\u66f8\u304d\u65b9\u3082\u6d17\u7df4\u3055\u305b\u3066\u3044\u304d\u307e\u3059\u3002\n\n**\u3010\u6ce8\u76ee\uff01\u3011**\nRSpec 2.11\u304b\u3089`should`\u3067\u306f\u306a\u304f\u3001`expect(...).to`\u3092\u4f7f\u3046\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u305d\u308c\u306b\u3042\u308f\u305b\u3066\u3001`it`\u306e\u5f15\u6570\u3068\u3057\u3066\u4e0e\u3048\u308b\u8aac\u660e\u6587\u3082`'should detect message with NG word'`\u304b\u3089`'detects message with NG word'`\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n\nmessage_filter_spec.rb\n\n````diff\n require_relative 'message_filter'\n \n describe MessageFilter do\n+  it 'detects message with NG word' do\n+    filter = MessageFilter.new('foo')\n+    expect(filter.detect?('hello from foo')).to eq true\n+  end\n end\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec message_filter_spec.rb\nF\n\nFailures:\n\n  1) MessageFilter detects message with NG word\n     Failure/Error: filter = MessageFilter.new('foo')\n     ArgumentError:\n       wrong number of arguments (1 for 0)\n     # ./message_filter_spec.rb:5:in `initialize'\n     # ./message_filter_spec.rb:5:in `new'\n     # ./message_filter_spec.rb:5:in `block (2 levels) in <top (required)>'\n\nFinished in 0.0004 seconds (files took 0.16648 seconds to load)\n1 example, 1 failure\n\nFailed examples:\n\nrspec ./message_filter_spec.rb:4 # MessageFilter detects message with NG word\n$ git commit -am 'Add first spec'\n[1st 196a261] Add first spec\n 1 file changed, 4 insertions(+)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/196a261be180f203f949ee569cc7b4a5d4940756)\n\n\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u5f15\u6570\u306e\u6570\u304c\u4e0d\u6b63\u3067\u3042\u308b\u3068\u8a00\u308f\u308c\u307e\u3057\u305f\u3002\u305d\u308c\u306f\u305d\u3046\u3067\u3059\u306d\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n# \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u4f5c\u6210\n\nmessage_filter.rb\n\n````diff\n class MessageFilter\n+  def initialize(word)\n+    @word = word\n+  end\n end\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec message_filter_spec.rb   \nF\n\nFailures:\n\n  1) MessageFilter detects message with NG word\n     Failure/Error: expect(filter.detect?('hello from foo')).to eq true\n     NoMethodError:\n       undefined method `detect?' for #<MessageFilter:0x007ff7f92767a0 @word=\"foo\">\n     # ./message_filter_spec.rb:6:in `block (2 levels) in <top (required)>'\n\nFinished in 0.00039 seconds (files took 0.16748 seconds to load)\n1 example, 1 failure\n\nFailed examples:\n\nrspec ./message_filter_spec.rb:4 # MessageFilter detects message with NG word\n$ git commit -am 'Define initialize'\n[1st 4ab3494] Define initialize\n 1 file changed, 3 insertions(+)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/4ab34949a2d09010f725e579d04ef3553ebb19a3)\n\n\u30c6\u30b9\u30c8\u306f\u307e\u3060\u843d\u3061\u3066\u3044\u307e\u3059\u3002 detect? \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u7121\u3044\u3088\u3068\u8a00\u308f\u308c\u307e\u3057\u305f\u3002\u7121\u3044\u3067\u3059\u306d\u3002\u4f5c\u308a\u307e\u3057\u3087\u3046\u3002\n\n# detect?\u30e1\u30bd\u30c3\u30c9\u4f5c\u6210\n\n\u7a7a\u3067\u826f\u3044\u306e\u3067\u3001\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nmessage_filter.rb\n\n````diff\n class MessageFilter\n   def initialize(word)\n     @word = word\n   end\n+  def detect?(text)\n+  end\n end\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec message_filter_spec.rb      \nF\n\nFailures:\n\n  1) MessageFilter detects message with NG word\n     Failure/Error: expect(filter.detect?('hello from foo')).to eq true\n       \n       expected: true\n            got: nil\n       \n       (compared using ==)\n     # ./message_filter_spec.rb:6:in `block (2 levels) in <top (required)>'\n\nFinished in 0.00299 seconds (files took 0.16916 seconds to load)\n1 example, 1 failure\n\nFailed examples:\n\nrspec ./message_filter_spec.rb:4 # MessageFilter detects message with NG word\n$ git commit -am 'Define detect?'\n[1st c631d99] Define detect?\n 1 file changed, 2 insertions(+)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/c631d99efdb7dec3c6d0480815ea56aed61e41c4)\n\ntrue \u304c\u8fd4\u3063\u3066\u304d\u3066\u307b\u3057\u3044\u3068\u3053\u308d\u306b nil \u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u3002\u30e1\u30bd\u30c3\u30c9\u306e\u4e2d\u8eab\u304c\u7a7a\u3060\u304b\u3089\u3067\u3059\u306d\u3002\u3067\u306f\u3053\u306e\u30c6\u30b9\u30c8\u3092\u901a\u3059\u3082\u3063\u3068\u3082\u7c21\u5358\u306a\u5b9f\u88c5\u306f\u3069\u3046\u306a\u308b\u3067\u3057\u3087\u3046\u304b\u3002\u3053\u3053\u306b TDD \u306e\u30c8\u30ea\u30c3\u30af\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u308c\u304c\u3001\u300c **\u4eee\u5b9f\u88c5 (fake it)** \u300d\u3067\u3059\u3002\n\n# \u4eee\u5b9f\u88c5 (fake it)\n\n\u5148\u307b\u3069\u306e\u30c6\u30b9\u30c8\u3092\u901a\u3059\u305f\u3081\u306e\u3082\u3063\u3068\u3082\u5358\u7d14\u306a\u5b9f\u88c5\u306f\u3069\u3046\u306a\u308b\u3067\u3057\u3087\u3046\u304b? \u66f8\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nmessage_filter.rb\n\n````diff\n class MessageFilter\n   def initialize(word)\n     @word = word\n   end\n   def detect?(text)\n+    true\n   end\n end\n````\n\n\u3053 \u308c \u306f \u3072 \u3069 \u3044 !! \u3057\u304b\u3057\u3001\u3053\u308c\u304c TDD \u306e\u300c\u4eee\u5b9f\u88c5\u300d\u3067\u3059\u3002\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec message_filter_spec.rb   \n.\n\nFinished in 0.00318 seconds (files took 0.17075 seconds to load)\n1 example, 0 failures\n$ git commit -am 'Implement detect? as fake'\n[1st 3eaa110] Implement detect? as fake\n 1 file changed, 1 insertion(+)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/3eaa11014566427a99a0dc462d13cce0cc51c507)\n\n\u30e1\u30bd\u30c3\u30c9\u304b\u3089 true \u3092\u8fd4\u3059\u30d9\u30bf\u306a\u5b9f\u88c5\u3092\u884c\u3063\u305f\u306e\u3067\u30c6\u30b9\u30c8\u304c\u901a\u308b\u306e\u306f\u5f53\u305f\u308a\u524d\u3067\u3059\u306d\u3002\u3053\u3093\u306a\u884c\u70ba\u306b\u4f55\u304b\u610f\u5473\u304c\u3042\u308b\u306e\u3067\u3057\u3087\u3046\u304b?\n\n**\u4eee\u5b9f\u88c5\u3068\u306f\u3001\u30c6\u30b9\u30c8\u306e\u30c6\u30b9\u30c8\u3001\u3068\u8003\u3048\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002** \u4f8b\u3048\u3070\u4eca\u56de\u306e\u4f8b\u3067\u3001 true \u3092\u8fd4\u3059\u3068\u3044\u3046\u7d76\u5bfe\u30c6\u30b9\u30c8\u304c\u901a\u308b\u3060\u308d\u3046\u3068\u3044\u3046\u5b9f\u88c5\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u3082\u3001\u30c6\u30b9\u30c8\u304c\u5931\u6557\u3057\u305f\u3089\u3069\u3046\u3067\u3057\u3087\u3046\u304b? \u305d\u308c\u306f\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u65b9\u306b\u3053\u305d\u30d0\u30b0\u304c\u6f5c\u3093\u3067\u3044\u308b\u3053\u3068\u3092\u793a\u5506\u3057\u3066\u3044\u307e\u3059\u3002\u4eee\u5b9f\u88c5\u3067\u6210\u529f\u3057\u306a\u3044\u30c6\u30b9\u30c8\u306f\u3001\u672c\u5b9f\u88c5\u3067\u3082\u6210\u529f\u3057\u306a\u3044\u3067\u3057\u3087\u3046\u3002\u672c\u5b9f\u88c5\u3067\u3082\u30c6\u30b9\u30c8\u304c\u901a\u3089\u306a\u304b\u3063\u305f\u3068\u304d\u306b\u3001\u306a\u305c\u30c6\u30b9\u30c8\u304c\u901a\u3089\u306a\u3044\u306e\u304b\u672c\u5b9f\u88c5\u3092\u9577\u3044\u6642\u9593\u30c7\u30d0\u30c3\u30b0\u3057\u305f\u7d50\u679c\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u9593\u9055\u3063\u3066\u3044\u305f\u306e\u3067\u306f\u76ee\u3082\u5f53\u3066\u3089\u308c\u307e\u305b\u3093\u3002\n\n# \u4e09\u89d2\u6e2c\u91cf\n\n\u3057\u304b\u3057\u3001\u3053\u306e\u307e\u307e\u3067\u306f\u5b9f\u88c5\u306f\u3044\u3064\u307e\u3067\u3082\u5b89\u6613\u904e\u304e\u308b\u3082\u306e\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u5225\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u3063\u305f\u30c6\u30b9\u30c8\u3092\u8db3\u3057\u307e\u3057\u3087\u3046\u3002\u3053\u308c\u3092 TDD \u3067\u306f **\u300c\u4e09\u89d2\u6e2c\u91cf(triangulation)\u300d** \u3068\u3044\u3044\u307e\u3059\u3002\n\nmessage_filter_spec.rb\n\n````diff\n require_relative 'message_filter'\n \n describe MessageFilter do\n   it 'detects message with NG word' do\n     filter = MessageFilter.new('foo')\n     expect(filter.detect?('hello from foo')).to eq true\n   end\n+  it 'does not detect message without NG word' do\n+    filter = MessageFilter.new('foo')\n+    expect(filter.detect?('hello, world!')).to eq false\n+  end\n end\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec message_filter_spec.rb\n.F\n\nFailures:\n\n  1) MessageFilter does not detect message without NG word\n     Failure/Error: expect(filter.detect?('hello, world!')).to eq false\n       \n       expected: false\n            got: true\n       \n       (compared using ==)\n     # ./message_filter_spec.rb:10:in `block (2 levels) in <top (required)>'\n\nFinished in 0.001 seconds (files took 0.16826 seconds to load)\n2 examples, 1 failure\n\nFailed examples:\n\nrspec ./message_filter_spec.rb:8 # MessageFilter does not detect message without NG word\n$ git commit -am 'Add triangulation spec'\n[1st c63c8dc] Add triangulation spec\n 1 file changed, 4 insertions(+)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/c63c8dc12cd00b06b10dfe80f7330c124e568da1)\n\n\u300c\u4eee\u5b9f\u88c5\u300d\u3067\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u306f\u3042\u3063\u3068\u3044\u3046\u9593\u306b\u7834\u7dbb\u3057\u307e\u3057\u305f\u3002\u305d\u308d\u305d\u308d\u304d\u3061\u3093\u3068\u5b9f\u88c5\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3067\u3059\u306d\u3002\n\n# \u660e\u767d\u306a\u5b9f\u88c5\n\nmessage_filter.rb\n\n````diff\n class MessageFilter\n   def initialize(word)\n     @word = word\n   end\n   def detect?(text)\n-    true\n+    text.include?(@word)\n   end\n end\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec message_filter_spec.rb           \n..\n\nFinished in 0.00093 seconds (files took 0.1758 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Finish obvious implementation'\n[1st 17801c4] Finish obvious implementation\n 1 file changed, 1 insertion(+), 1 deletion(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/17801c40ee2417eb683eeb3e48f707e76fc4d891)\n\n\u5b9f\u88c5\u304c\u898b\u3048\u3066\u3044\u308b\u3068\u304d\u306f\u3001\u4e09\u89d2\u6e2c\u91cf\u3092\u4ecb\u3055\u305a\u306b\u305d\u306e\u307e\u307e\u4eee\u5b9f\u88c5\u3092\u5909\u66f4\u3057\u3066\u5b9f\u88c5\u3057\u3066\u3082\u304b\u307e\u3044\u307e\u305b\u3093\u3002\u3053\u308c\u3092 **\u300c\u660e\u767d\u306a\u5b9f\u88c5 (obvious implementation)\u300d** \u3068\u3044\u3044\u307e\u3059\u3002\n\n\u5927\u4e8b\u306a\u306e\u306f\u81ea\u5206\u306e\u4e0d\u5b89\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u3053\u3068\u3067\u3059\u3002 TDD \u3067\u306f\u3001\u30c6\u30b9\u30c8\u3068\u5b9f\u88c5\u4e21\u65b9\u306b\u81ea\u4fe1\u304c\u3042\u308b\u6642\u306f\u300c\u660e\u767d\u306a\u5b9f\u88c5\u300d\u3001\u4e00\u6b69\u4e00\u6b69\u9032\u3081\u305f\u3044\u3001\u3064\u307e\u308a\u30c6\u30b9\u30c8\u3092\u30c6\u30b9\u30c8\u3057\u3066\u3001\u305d\u306e\u3042\u3068\u3067\u5b9f\u88c5\u3092\u30c6\u30b9\u30c8\u3057\u305f\u3044\u6642\u306f\u300c\u4eee\u5b9f\u88c5\u300d\u3068\u300c\u4e09\u89d2\u6e2c\u91cf\u300d\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n# \u30bf\u30b0\u3092\u6253\u3064\n\n\u304d\u308a\u306e\u3044\u3044\u3068\u3053\u308d\u307e\u3067\u304d\u305f\u306e\u3067\u3001\u4e00\u5ea6\u30bf\u30b0\u3092\u6253\u3061\u307e\u3059\u3002\n\n````bash\n$ git tag -a -m '1st iteration spec refactoring point' iter1_spec_refactoring\n$ git tag\niter1_spec_refactoring\n````\n\n# \u30c6\u30b9\u30c8\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n\n\u3055\u3066\u3001\u30c6\u30b9\u30c8\u304c\u5168\u90e8\u901a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u5b9f\u88c5\u30af\u30e9\u30b9\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u884c\u3044\u307e\u3057\u3087\u3046\u3002\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3068\u306f\u3001\u30b3\u30fc\u30c9\u306b\u91cd\u8907\u304c\u3042\u3063\u305f\u308a\u3001\u7121\u99c4\u304c\u3042\u308b\u5834\u5408\u306b\u3001\u30c6\u30b9\u30c8\u304c\u901a\u3063\u305f\u307e\u307e\u3067\u5b9f\u88c5\u3092\u7dba\u9e97\u306b\u3057\u3066\u3044\u304f\u3053\u3068\u3067\u3059\u3002\u5b9f\u88c5\u306b\u30b3\u30fc\u30c9\u306e\u91cd\u8907\u3084\u7121\u99c4\u306f\u3042\u308b\u3067\u3057\u3087\u3046\u304b? \u73fe\u6642\u70b9\u3067\u306f\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u306e\u4f59\u5730\u304c\u306a\u3044\u307b\u3069\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u306d\u3002\u3067\u306f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306f\u3069\u3046\u3067\u3057\u3087\u3046\u304b? \u2026\u304b\u306a\u308a\u91cd\u8907\u304c\u898b\u3089\u308c\u307e\u3059\u306d\u3002\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u305f\u3059\u3050\u5f8c\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u91cd\u8907\u3082\u7a4d\u6975\u7684\u306b\u6392\u9664\u3057\u3066\u3044\u3053\u3046\u3001\u3068\u3044\u3046\u306e\u304c\u6700\u8fd1\u306e\u8003\u3048\u65b9\u3067\u3059\u3002\u30c6\u30b9\u30c8\u306e\u300c\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u300d\u3068\u3044\u3046\u3068\u53b3\u5bc6\u306b\u306f\u3082\u3063\u3068\u96e3\u3057\u304f\u3001\u30bf\u30a4\u30df\u30f3\u30b0\u304c\u9045\u308c\u308b\u307b\u3069\u56f0\u96e3\u306a\u3082\u306e\u3067\u3059\u304c\u3001\u30c6\u30b9\u30c8\u5b9f\u88c5\u76f4\u5f8c\u3067\u306f\u81ea\u5206\u306e\u982d\u306b\u3082\u30c6\u30b9\u30c8\u8a2d\u8a08\u304c\u6b8b\u3063\u3066\u3044\u308b\u3067\u3057\u3087\u3046\u3057\u3001\u3053\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u306f\u5927\u80c6\u306b\u884c\u52d5\u3067\u304d\u307e\u3059\u3002\u3067\u306f\u91cd\u8907\u3092\u6392\u9664\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\n# before\u30e1\u30bd\u30c3\u30c9\u306e\u62bd\u51fa\n\nbefore \u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u6210\u3057\u3001filter \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u6210\u90e8\u5206\u3092\u305d\u3053\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002 before \u3068\u306f\u3001 xUnit \u3067\u3044\u3046\u3068 setUp \u306b\u76f8\u5f53\u3057\u307e\u3059\u3002before \u30e1\u30bd\u30c3\u30c9\u306f\u5404\u30c6\u30b9\u30c8\u306e\u5b9f\u884c\u524d\u306b\u6bce\u56de\u5b9f\u884c\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u91cd\u8907\u90e8\u3092 before \u306b\u66f8\u304f\u3053\u3068\u3067\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u91cd\u8907\u3092\u6392\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nmessage_filter_spec.rb\n\n````diff\n require_relative 'message_filter'\n \n describe MessageFilter do\n+  before(:each) do\n+    @filter = MessageFilter.new('foo')\n+  end\n   it 'detects message with NG word' do\n-    filter = MessageFilter.new('foo')\n-    expect(filter.detect?('hello from foo')).to eq true\n+    expect(@filter.detect?('hello from foo')).to eq true\n   end\n   it 'does not detect message without NG word' do\n-    filter = MessageFilter.new('foo')\n-    expect(filter.detect?('hello, world!')).to eq false\n+    expect(@filter.detect?('hello, world!')).to eq false\n   end\n end\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec message_filter_spec.rb\n..\n\nFinished in 0.00096 seconds (files took 0.17886 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Use before method'\n[1st 8d3cc0e] Use before method\n 1 file changed, 5 insertions(+), 4 deletions(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/8d3cc0ee8236230a3fe35b9497b2e0e367f9b8a5)\n\n# each\u306f\u4e0d\u8981\n\n\u3061\u306a\u307f\u306b\u3001 :each \u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u6271\u3044\u306a\u306e\u3067\u3001\u660e\u793a\u7684\u306b\u66f8\u304f\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\nmessage_filter_spec.rb\n\n````diff\n require_relative 'message_filter'\n \n describe MessageFilter do\n-  before(:each) do\n+  before do\n     @filter = MessageFilter.new('foo')\n   end\n   it 'detects message with NG word' do\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec message_filter_spec.rb      \n..\n\nFinished in 0.00093 seconds (files took 0.17217 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Omit :each param'\n[1st bda35e5] Omit :each param\n 1 file changed, 1 insertion(+), 1 deletion(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/bda35e5737786332501a5c12a5e26101f394eaf0)\n\n# be_[predicate] \u30de\u30c3\u30c1\u30e3\u30fc\n\n`expect(XXX?).to eq true` \u3084 `expect(XXX).to be_truthy` \u3068\u3044\u3046\u8a18\u8ff0\u306f\u3001 be_[predicate] \u30de\u30c3\u30c1\u30e3\u30fc\u3068\u3044\u3046\u66f8\u304d\u65b9\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3046\u3044\u3046\u66f8\u304d\u65b9\u3092\u3059\u308b\u3053\u3068\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3068\u3057\u3066\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u610f\u5473\u3092\u9ad8\u3081\u3001\u304b\u3064\u8a18\u8ff0\u81ea\u4f53\u3082\u7c21\u6f54\u306b\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n`expect(hoge.fuga?).to eq true` \u306f `expect(hoge).to be_fuga` \u3068\u66f8\u304d\u76f4\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 `be_fuga` \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u306f\u5f53\u7136\u5b58\u5728\u3057\u307e\u305b\u3093\u304c\u3001 RSpec \u304c method_missing \u3092\u4f7f\u3044\u3001\u30c6\u30b9\u30c8\u7528\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u3042\u308b\u3068\u89e3\u91c8\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u3053\u308c\u3082\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u4f8b\u3068\u8a00\u3046\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\n**\u3010\u6ce8\u76ee\uff01\u3011**\n\u4e0a\u306e\u8aac\u660e\u306b\u51fa\u3066\u304d\u305f`be_truthy`\u306fRSpec 3\u304b\u3089\u767b\u5834\u3057\u305f\u8a18\u6cd5\u3067\u3059\u3002RSpec 2\u307e\u3067\u306f`be_true`\u3068\u66f8\u3044\u3066\u3044\u307e\u3057\u305f\u3002\n\u540c\u69d8\u306b`be_false`\u3082RSpec 3\u3067\u306f`be_falsey`\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nmessage_filter_spec.rb\n\n````diff\n     @filter = MessageFilter.new('foo')\n   end\n   it 'detects message with NG word' do\n-    expect(@filter.detect?('hello from foo')).to eq true\n+    expect(@filter).to be_detect('hello from foo')\n   end\n   it 'does not detect message without NG word' do\n-    expect(@filter.detect?('hello, world!')).to eq false\n+    expect(@filter).not_to be_detect('hello, world')\n   end\n end\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec message_filter_spec.rb     \n..\n\nFinished in 0.00369 seconds (files took 0.17262 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Use be_predicate matcher'\n[1st 1d8abc0] Use be_predicate matcher\n 1 file changed, 2 insertions(+), 2 deletions(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/1d8abc0a708b194193dcb575e46cfbd0f95e6ec0)\n\n**\u3010\u6ce8\u76ee\uff01\u3011**\n\u3053\u3053\u3067\u306f`expect(...).not_to ...`\u306e\u5f62\u5f0f\u3067\u66f8\u3044\u3066\u3044\u307e\u3059\u304c\u3001`expect(...).to_not ...`\u3068\u66f8\u3044\u3066\u3082\u540c\u3058\u3088\u3046\u306b\u52d5\u304d\u307e\u3059\u3002\n\u3069\u3061\u3089\u304c\u826f\u3044\u306e\u304b\u3001\u3068\u3044\u3046\u70b9\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u306b\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002(\u7d50\u8ad6\u3068\u3057\u3066\u306f\u300c\u3069\u3063\u3061\u3067\u3082\u826f\u3044\u300d\u306e\u3067\u3059\u304c)\n\n- [RSpec\u3067\u300c\uff5e\u3067\u306f\u306a\u3044\u3053\u3068\u300d\u3092\u691c\u8a3c\u3059\u308b\u3068\u304d\u306f expect(x).to_not \u3001\u307e\u305f\u306f expect(x).not_to \u306e\u3069\u3061\u3089\u3092\u4f7f\u3046\u3079\u304d\u304b\uff1f](http://qiita.com/jnchito/items/1e6f8374e22dbd430e17)\n\n# -fd\u30aa\u30d7\u30b7\u30e7\u30f3\n\n\u3055\u3066\u3001\u3053\u3053\u4ee5\u964d\u306f RSpec \u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u51fa\u529b\u6a5f\u80fd\u306b\u3082\u7740\u76ee\u3057\u307e\u3059\u3002\nrspec \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u6642\u306b -fd \u3068\u3044\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3068\u3001\u4ed5\u69d8\u8a18\u8ff0\u3092\u51fa\u529b\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\u73fe\u72b6\u3067\u306f\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u3067\u3057\u3087\u3046\u304b\u3002\n\n**\u3010\u6ce8\u76ee\uff01\u3011**\nRSpec 3\u304b\u3089`-fs`\u30aa\u30d7\u30b7\u30e7\u30f3\u306f`-fd`\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u5909\u308f\u308a\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001`-fd`\u306e\u4ee3\u308f\u308a\u306b`--format documentation`\u3068\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  detects message with NG word\n  does not detect message without NG word\n\nFinished in 0.00182 seconds (files took 0.17071 seconds to load)\n2 examples, 0 failures\n````\n\n# RSpec\u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u3055\u305b\u308b\n\n\u307e\u3060\u91cd\u8907\u3057\u3066\u3044\u308b\u306e\u306f\u3001 it \u306e\u5f15\u6570\u3068\u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u8eab\u3067\u3059\u3002\u6587\u5b57\u5217\u3067\u66f8\u304b\u308c\u305f\u5185\u5bb9\u3068\u3001\u30d6\u30ed\u30c3\u30af\u5185\u306e\u30b3\u30fc\u30c9\u81ea\u8eab\u304c\u304b\u306a\u308a\u91cd\u8907\u3057\u3066\u3044\u307e\u3059\u306d\u3002 RSpec \u306f it \u306e\u8aac\u660e\u7528\u306e\u6587\u5b57\u5217\u5f15\u6570\u3092\u7701\u7565\u3057\u305f\u6642\u306b\u81ea\u5206\u3067\u5224\u65ad\u3067\u304d\u308b\u7bc4\u56f2\u3067\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u307e\u3059\u3002 it \u306e\u6587\u5b57\u5217\u5f15\u6570\u3092\u524a\u9664\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u3087\u3046\u3002\n\nmessage_filter_spec.rb\n\n````diff\n   before do\n     @filter = MessageFilter.new('foo')\n   end\n-  it 'detects message with NG word' do\n+  it {\n     expect(@filter).to be_detect('hello from foo')\n-  end\n-  it 'does not detect message without NG word' do\n+  }\n+  it {\n     expect(@filter).not_to be_detect('hello, world')\n-  end\n+  }\n end\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  should be detect \"hello from foo\"\n  should not be detect \"hello, world\"\n\nFinished in 0.00201 seconds (files took 0.16959 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Omit spec descriptions'\n[1st 55c7ee4] Omit spec descriptions\n 1 file changed, 4 insertions(+), 4 deletions(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/55c7ee4cecef6be88ee258b45f17e8525a48ac79)\n\n\"should be detect\" \u3067\u306f\u82f1\u8a9e\u7684\u306b\u5fae\u5999\u3067\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u76ee\u3092\u3064\u3076\u308a\u307e\u3059\u3002\u3069\u3046\u3067\u3057\u3087\u3046\u3002\u6848\u5916\u8aad\u3081\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b?\n\n\u9055\u548c\u611f\u304c\u3042\u308b\u5834\u5408\u3001\u305d\u308c\u306f\u8a2d\u8a08\u304c\u307e\u3060\u4e0d\u5b8c\u5168\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u5506\u3057\u3066\u3044\u308b\u3068\u8003\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3057\u3001\u30ab\u30b9\u30bf\u30e0\u30de\u30c3\u30c1\u30e3\u30fc\u3078\u306e\u9053\u3092\u9032\u3080\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n\u3053\u3053\u3067\u8ad6\u3058\u3066\u3044\u308b\u3088\u3046\u306a\u30dd\u30a4\u30f3\u30c8\u3082 RSpec \u3068\u306e\u3046\u307e\u3044\u4ed8\u304d\u5408\u3044\u304b\u305f\u3001\u3068\u3044\u3048\u307e\u3059\u3002\n\n# describe \u306b\u30b3\u30f3\u30c6\u30af\u30b9\u30c8\u60c5\u5831\u3092\u8ffd\u52a0\u3059\u308b\n\n\u5148\u307b\u3069\u306e\u51fa\u529b\u3067\u3059\u304c\u3001\u3061\u3087\u3063\u3068\u60c5\u5831\u304c\u8db3\u308a\u306a\u3044\u3067\u3059\u306d\n\n````bash\nMessageFilter\n  should be detect \"hello from foo\"\n````\n\n\u300cMessageFilter should be detect \"hello from foo\"\u300d\u3068\u8aad\u3081\u307e\u3059\u304c\u3001\u5168\u3066\u306e MessageFilter \u304c\u3053\u3046\u632f\u308b\u821e\u3046\u308f\u3051\u3067\u306f\u306a\u3044\u3067\u3059\u3088\u306d\u3001\u72b6\u6cc1\u306e\u8aac\u660e\u304c\u8db3\u308a\u3066\u3044\u307e\u305b\u3093\u3002\u72b6\u6cc1\u8aac\u660e\u3092\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306b\u52a0\u3048\u307e\u3057\u3087\u3046\u3002\n\nmessage_filter_spec.rb\n\n````diff\n require_relative 'message_filter'\n \n-describe MessageFilter do\n+describe MessageFilter, 'with argument \"foo\"' do\n   before do\n     @filter = MessageFilter.new('foo')\n   end\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb       \n\nMessageFilter with argument \"foo\"\n  should be detect \"hello from foo\"\n  should not be detect \"hello, world\"\n\nFinished in 0.00196 seconds (files took 0.17112 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Add description to describe'\n[1st 8e72fa5] Add description to describe\n 1 file changed, 1 insertion(+), 1 deletion(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/8e72fa532c053b89e8ee103a1a521f94e7d2e914)\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u6587\u5b57\u5217\u3067\u66f8\u304b\u305a\u3068\u3082\u3001\u60c5\u5831\u91cf\u304c\u304b\u306a\u308a\u4fdd\u305f\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u304d\u307e\u3057\u305f\u306d\u3002\u3053\u308c\u3082 RSpec Way \u3067\u3059\u3002\n\n# \u307e\u3060\u307e\u3060\u91cd\u8907\u304c\u3042\u308b!\n\n`@filter` \u3082\u91cd\u8907\u3057\u3066\u3044\u307e\u305b\u3093\u304b? \u3053\u308c\u3082\u53d6\u308a\u53bb\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002RSpec \u306e subject \u3068\u3044\u3046\u6a5f\u80fd\u3092\u4f7f\u3044\u307e\u3059\u3002subject \u3092\u4f7f\u3046\u3068\u3001 subject \u30d6\u30ed\u30c3\u30af\u306e\u8a55\u4fa1\u7d50\u679c\u304c it \u5185\u306e is_expected \u306e\u30ec\u30b7\u30fc\u30d0\u306b\u306a\u308a\u307e\u3059\u3002\n\n**\u3010\u6ce8\u76ee\uff01\u3011**\nRSpec 2\u307e\u3067\u306f`it { should ... }`\u3068\u66f8\u3044\u3066\u3044\u307e\u3057\u305f\u304c\u3001RSpec 3\u304b\u3089\u306f`it { is_expected.to ... }`\u3068\u66f8\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\nmessage_filter_spec.rb\n\n````diff\n   before do\n     @filter = MessageFilter.new('foo')\n   end\n+  subject { @filter }\n   it {\n-    expect(@filter).to be_detect('hello from foo')\n+    is_expected.to be_detect('hello from foo')\n   }\n   it {\n-    expect(@filter).not_to be_detect('hello, world')\n+    is_expected.not_to be_detect('hello, world')\n   }\n end\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb            \n\nMessageFilter with argument \"foo\"\n  should be detect \"hello from foo\"\n  should not be detect \"hello, world\"\n\nFinished in 0.00234 seconds (files took 0.26225 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Use subject'\n[1st 98b1825] Use subject\n 1 file changed, 3 insertions(+), 2 deletions(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/98b1825bc9ba758ffa879d1dfefdea56cf781565)\n\n# \u307e\u3060\u307e\u3060\u307e\u3060\u91cd\u8907\u304c\u3042\u308b!!\n\n\u4eca\u56de\u306e\u4f8b\u3067\u306f before \u30d6\u30ed\u30c3\u30af\u306f\u307b\u3068\u3093\u3069\u4ed5\u4e8b\u3057\u3066\u3044\u306a\u3044\u3067\u3059\u306d\u3001 subject \u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u306b\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u3087\u3046\u3002\n\nmessage_filter_spec.rb\n\n````diff\n require_relative 'message_filter'\n \n describe MessageFilter, 'with argument \"foo\"' do\n-  before do\n-    @filter = MessageFilter.new('foo')\n-  end\n-  subject { @filter }\n+  subject { MessageFilter.new('foo') }\n   it {\n     is_expected.to be_detect('hello from foo')\n   }\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter with argument \"foo\"\n  should be detect \"hello from foo\"\n  should not be detect \"hello, world\"\n\nFinished in 0.00222 seconds (files took 0.21799 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Remove instance variable'\n[1st c75a0bd] Remove instance variable\n 1 file changed, 1 insertion(+), 4 deletions(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/c75a0bd7a143686f55c1b2ceab041dbb59a70b05)\n\n# \u7c21\u6f54\u3055\u306f\u529b\n\n\u304b\u306a\u308a\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u7c21\u6f54\u306b\u306a\u3063\u3066\u307e\u3057\u305f\u3002\u30b3\u30fc\u30c9\u3092\u3059\u3063\u304d\u308a\u3055\u305b\u305f\u3044\u306e\u3067 it \u306e\u6539\u884c\u3092\u5ec3\u3057\u3001\u6700\u7d42\u7684\u306b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306f\u3053\u3046\u3044\u3046\u5f62\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u91cd\u8907\u304c\u5c11\u306a\u304f\u3001\u304b\u3064\u60c5\u5831\u91cf\u81ea\u4f53\u306f\u304b\u306a\u308a\u4fdd\u305f\u308c\u3066\u3044\u307e\u3059\u3002\n\nmessage_filter_spec.rb\n\n````diff\n \n describe MessageFilter, 'with argument \"foo\"' do\n   subject { MessageFilter.new('foo') }\n-  it {\n-    is_expected.to be_detect('hello from foo')\n-  }\n-  it {\n-    is_expected.not_to be_detect('hello, world')\n-  }\n+  it { is_expected.to be_detect('hello from foo') }\n+  it { is_expected.not_to be_detect('hello, world') }\n end\n````\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb         \n\nMessageFilter with argument \"foo\"\n  should be detect \"hello from foo\"\n  should not be detect \"hello, world\"\n\nFinished in 0.00232 seconds (files took 0.22088 seconds to load)\n2 examples, 0 failures\n$ git commit -am 'Join lines'\n[1st 6740238] Join lines\n 1 file changed, 2 insertions(+), 6 deletions(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/674023851dc186c527f8d56c26b350c61910f2d0)\n\n# \u7b2c1\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u7d42\u4e86\n\n\u3055\u3066\u3001\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u6700\u7d42\u7684\u306b\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n[message_filter.rb](https://github.com/JunichiIto/rspec3-for-beginners/blob/end_of_iter1/message_filter.rb)\n\n````ruby\nclass MessageFilter\n  def initialize(word)\n    @word = word\n  end\n  def detect?(text)\n    text.include?(@word)\n  end\nend\n````\n\n[message_filter_spec.rb](https://github.com/JunichiIto/rspec3-for-beginners/blob/end_of_iter1/message_filter_spec.rb)\n\n\n````ruby\nrequire_relative 'message_filter'\n\ndescribe MessageFilter, 'with argument \"foo\"' do\n  subject { MessageFilter.new('foo') }\n  it { is_expected.to be_detect('hello from foo') }\n  it { is_expected.not_to be_detect('hello, world') }\nend\n````\n\n\u30bf\u30b0\u3092\u6253\u3063\u3066\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u7d42\u4e86\u3068\u3057\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ git tag -a -m 'end of 1st iteration' end_of_iter1\n````\n\n[Tag](https://github.com/JunichiIto/rspec3-for-beginners/tree/end_of_iter1)\n\n# \u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3001\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u7d9a\u304d\u307e\u3059\n\n\u548c\u7530\u3055\u3093\u306e\u8a18\u4e8b\u3068\u540c\u69d8\u306b\u3001[\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3](http://d.hatena.ne.jp/t-wada/20100306/p1)\u3001[\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3](http://d.hatena.ne.jp/t-wada/20100801/rspec_3rd_iter)\u306e\u8a18\u4e8b\u306b\u3064\u3044\u3066\u3082RSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u7d9a\u3051\u3066\u5b66\u7fd2\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff01\n\n- [\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3](http://qiita.com/jnchito/items/47f539ddca7dbc01acef)\n- [\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3](http://qiita.com/jnchito/items/b1215a5d548cac4c7de6)\n\n## \u3042\u308f\u305b\u3066\u8aad\u307f\u305f\u3044\n\n\u65e2\u5b58\u306eRSpec 2\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092RSpec 3\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n\n- [RSpec\u306e\u6700\u65b0\u306e\u52d5\u5411\u30fbRSpec 3\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u30ac\u30a4\u30c9](http://qiita.com/yujinakayama/items/a1d31b2caa35642e8e69)\n- [\u65e2\u5b58\u306eRails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092RSpec 3.0\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u969b\u306e\u6ce8\u610f\u70b9 \uff5eRSpec 3\u306f\u6016\u304f\u306a\u3044\u3088\uff01\uff5e](http://qiita.com/jnchito/items/f86b57d27b44e6e7d1e9)\n\nRSpec 3\u306e\u65b0\u6a5f\u80fd\u306b\u3064\u3044\u3066\u6df1\u304f\u6398\u308a\u4e0b\u3052\u305f\u3044\u65b9\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u3069\u3046\u305e\u3002\n\n- [\u4eca\u65e5\u304b\u3089\u4f7f\u3048\u308b\uff01RSpec 3\u3067\u8ffd\u52a0\u3055\u308c\u305f8\u3064\u306e\u65b0\u6a5f\u80fd](http://qiita.com/jnchito/items/a4a51852c2c678b57868)\n\n\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3067\u306fRSpec\u306e\u57fa\u672c\u4e8b\u9805\u3092\u5b9f\u8df5\u7684\u306a\u8996\u70b9\u3067\u72ec\u81ea\u306b\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002\n\n- [\u4f7f\u3048\u308bRSpec\u5165\u9580\u30fb\u305d\u306e1\u300cRSpec\u306e\u57fa\u672c\u7684\u306a\u69cb\u6587\u3084\u4fbf\u5229\u306a\u6a5f\u80fd\u3092\u7406\u89e3\u3059\u308b\u300d](http://qiita.com/jnchito/items/42193d066bd61c740612)\n\n### PR: RSpec 3.1\u306b\u5bfe\u5fdc\u3057\u305f\u300cEveryday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580\u300d\u304c\u767a\u58f2\u4e2d\u3067\u3059\n\n\u50d5\u304c\u7ffb\u8a33\u8005\u3068\u3057\u3066\u643a\u308f\u3063\u305f **\u300cEveryday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580\u300d** \u3068\u3044\u3046\u96fb\u5b50\u66f8\u7c4d\u304c\u767a\u58f2\u4e2d\u3067\u3059\u3002\n\nRails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3057\u3066\u3044\u308b\u65b9\u3067\u3001\u5b9f\u8df5\u7684\u306a\u30c6\u30b9\u30c8\u306e\u66f8\u304d\u65b9\u3092\u5b66\u3093\u3067\u307f\u305f\u3044\u3068\u3044\u3046\u4eba\u306b\u306f\u6700\u9069\u306a\u4e00\u518a\u3067\u3059\u3002\n\u73fe\u884c\u30d0\u30fc\u30b8\u30e7\u30f3\u306fRSpec 3.1\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\u4e00\u5ea6\u8cfc\u5165\u3059\u308c\u3070\u5c06\u6765\u7121\u6599\u3067\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u308b\u306e\u3082\u672c\u66f8\u306e\u7279\u5fb4\u306e\u4e00\u3064\u3067\u3059\u3002\n\u3088\u304b\u3063\u305f\u3089\u305c\u3072\u8aad\u3093\u3067\u307f\u3066\u304f\u3060\u3055\u3044\uff01\n\n[Everyday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580](https://leanpub.com/everydayrailsrspec-jp)\n![Everyday Rails](http://cdn-ak.f.st-hatena.com/images/fotolife/J/JunichiIto/20141024/20141024121511.png)\n\n\u672c\u66f8\u306e\u5185\u5bb9\u306b\u95a2\u3059\u308b\u8a73\u3057\u3044\u60c5\u5831\u306f\u3053\u3061\u3089\u306e\u30d6\u30ed\u30b0\u3092\u3069\u3046\u305e\u3002\n\n[RSpec 3.1\u306b\u5b8c\u5168\u5bfe\u5fdc\uff01\u300cEveryday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580\u300d\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u307e\u3057\u305f](http://blog.jnito.com/entry/2014/10/24/120921)\n"}