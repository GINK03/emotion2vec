{"context": " More than 1 year has passed since last update.Elastic Beanstalk \u306e Configuration \u3092 \n64bit Amazon Linux 2014.03 v1.0.9 running Ruby 2.1 (Puma) \u306b\u3057\u305f\u969b\u306b\n64bit Amazon Linux 2014.02 running Ruby 1.9.3 \u3067\u4f7f\u3063\u3066\u3044\u305f\u65b9\u6cd5\u3067\u306f\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u306e\u3067\u30e1\u30e2\u3002\n(\u3069\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u5909\u66f4\u306b\u306a\u3063\u305f\u306e\u304b\u306f\u308f\u304b\u308a\u307e\u305b\u3093)\n\u5f93\u6765\u901a\u308a Elastic Beansgtalk \u74b0\u5883\u306e /opt/elasticbeanstalk/hooks/appdeploy/post/ \u4ee5\u4e0b\u306b\u3001\n\u30c7\u30d7\u30ed\u30a4\u5f8c\u5b9f\u884c\u3055\u308c\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u914d\u7f6e\u3055\u308c\u308b\u3088\u3046\u306b .ebextensions \u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u306e\u306f\u540c\u3058\u3060\u304c\u3001\n\u4ee5\u4e0b\u306e\u70b9\u3067\u65e2\u5b58\u306e\u8a2d\u5b9a\u306b\u4fee\u6b63\u304c\u5fc5\u8981\u306b\u306a\u3063\u305f\u3002\n\n\u74b0\u5883\u5909\u6570\u306f . /opt/elasticbeanstalk/containerfiles/envvars \u3067\u8aad\u307f\u8fbc\u3080\nsource $EB_ROOT/containerfiles/scripts/use-app-ruby.sh \u3067\u30d5\u30c3\u30af\u5185\u3067\u4f7f\u7528\u3059\u308b ruby \u3092\u8a2d\u5b9a\n\n\nebextensions/99_delayed_job.config\ncommands:\n  create_post_dir:\n    command: \"mkdir /opt/elasticbeanstalk/hooks/appdeploy/post\"\n    ignoreErrors: true\nfiles:\n  \"/opt/elasticbeanstalk/hooks/appdeploy/post/99_restart_delayed_job.sh\":\n    mode: \"000755\"\n    owner: root\n    group: root\n    content: |\n      #!/usr/bin/env bash\n      # \u4ee5\u4e0b2\u884c\u304c\u5fc5\u8981!!!\n      . /opt/elasticbeanstalk/containerfiles/envvars \n      source $EB_ROOT/containerfiles/scripts/use-app-ruby.sh\n      cd $EB_CONFIG_APP_CURRENT\n      su -c \"RAILS_ENV=production bin/delayed_job --pid-dir=$EB_CONFIG_APP_SUPPORT/pids restart\" $EB_CONFIG_APP_USER\n\n\n\u3061\u306a\u307f\u306b 64bit Amazon Linux 2014.02 running Ruby 1.9.3 \u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\nenvvars \u306e\u30d1\u30b9\u304c\u7570\u306a\u308a\u3001use-app-ruby.sh \u3082\u4e0d\u8981\u3067\u3057\u305f\u3002\u3000\n\nebextensions/99_delayed_job_old.config\ncommands:\n  create_post_dir:\n    command: \"mkdir /opt/elasticbeanstalk/hooks/appdeploy/post\"\n    ignoreErrors: true\nfiles:\n  \"/opt/elasticbeanstalk/hooks/appdeploy/post/99_restart_delayed_job.sh\":\n    mode: \"000755\"\n    owner: root\n    group: root\n    content: |\n      #!/usr/bin/env bash\n      # envvars \u306e\u30d1\u30b9\u304c\u9055\u3046\n      . /opt/elasticbeanstalk/support/envvars \n      cd $EB_CONFIG_APP_CURRENT\n      su -c \"RAILS_ENV=production bin/delayed_job --pid-dir=$EB_CONFIG_APP_SUPPORT/pids -n 4 restart\" $EB_CONFIG_APP_USER\n\n\nElastic Beanstalk \u306e Configuration \u3092 \n64bit Amazon Linux 2014.03 v1.0.9 running Ruby 2.1 (Puma) \u306b\u3057\u305f\u969b\u306b\n64bit Amazon Linux 2014.02 running Ruby 1.9.3 \u3067\u4f7f\u3063\u3066\u3044\u305f\u65b9\u6cd5\u3067\u306f\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u306e\u3067\u30e1\u30e2\u3002\n(\u3069\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u5909\u66f4\u306b\u306a\u3063\u305f\u306e\u304b\u306f\u308f\u304b\u308a\u307e\u305b\u3093)\n\n\u5f93\u6765\u901a\u308a Elastic Beansgtalk \u74b0\u5883\u306e /opt/elasticbeanstalk/hooks/appdeploy/post/ \u4ee5\u4e0b\u306b\u3001\n\u30c7\u30d7\u30ed\u30a4\u5f8c\u5b9f\u884c\u3055\u308c\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u914d\u7f6e\u3055\u308c\u308b\u3088\u3046\u306b .ebextensions \u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u306e\u306f\u540c\u3058\u3060\u304c\u3001\n\u4ee5\u4e0b\u306e\u70b9\u3067\u65e2\u5b58\u306e\u8a2d\u5b9a\u306b\u4fee\u6b63\u304c\u5fc5\u8981\u306b\u306a\u3063\u305f\u3002\n\n* \u74b0\u5883\u5909\u6570\u306f . /opt/elasticbeanstalk/containerfiles/envvars \u3067\u8aad\u307f\u8fbc\u3080\n* source $EB_ROOT/containerfiles/scripts/use-app-ruby.sh \u3067\u30d5\u30c3\u30af\u5185\u3067\u4f7f\u7528\u3059\u308b ruby \u3092\u8a2d\u5b9a\n\n\n```.ebextensions/99_delayed_job.config\ncommands:\n  create_post_dir:\n    command: \"mkdir /opt/elasticbeanstalk/hooks/appdeploy/post\"\n    ignoreErrors: true\nfiles:\n  \"/opt/elasticbeanstalk/hooks/appdeploy/post/99_restart_delayed_job.sh\":\n    mode: \"000755\"\n    owner: root\n    group: root\n    content: |\n      #!/usr/bin/env bash\n      # \u4ee5\u4e0b2\u884c\u304c\u5fc5\u8981!!!\n      . /opt/elasticbeanstalk/containerfiles/envvars \n      source $EB_ROOT/containerfiles/scripts/use-app-ruby.sh\n      cd $EB_CONFIG_APP_CURRENT\n      su -c \"RAILS_ENV=production bin/delayed_job --pid-dir=$EB_CONFIG_APP_SUPPORT/pids restart\" $EB_CONFIG_APP_USER\n```\n\n\u3061\u306a\u307f\u306b 64bit Amazon Linux 2014.02 running Ruby 1.9.3 \u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\nenvvars \u306e\u30d1\u30b9\u304c\u7570\u306a\u308a\u3001use-app-ruby.sh \u3082\u4e0d\u8981\u3067\u3057\u305f\u3002\u3000\n\n```.ebextensions/99_delayed_job_old.config\ncommands:\n  create_post_dir:\n    command: \"mkdir /opt/elasticbeanstalk/hooks/appdeploy/post\"\n    ignoreErrors: true\nfiles:\n  \"/opt/elasticbeanstalk/hooks/appdeploy/post/99_restart_delayed_job.sh\":\n    mode: \"000755\"\n    owner: root\n    group: root\n    content: |\n      #!/usr/bin/env bash\n      # envvars \u306e\u30d1\u30b9\u304c\u9055\u3046\n      . /opt/elasticbeanstalk/support/envvars \n      cd $EB_CONFIG_APP_CURRENT\n      su -c \"RAILS_ENV=production bin/delayed_job --pid-dir=$EB_CONFIG_APP_SUPPORT/pids -n 4 restart\" $EB_CONFIG_APP_USER\n```\n", "tags": ["Rails4.1.6", "Ruby2.1", "ElasticBeanstalkRuby 2.1 Puma"]}