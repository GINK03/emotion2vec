{"context": "\n\n1 \u306f\u3058\u3081\u306b\n\nApatch\u306bhttps\u3067\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\u3002\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ec\u30d9\u30eb\u306f\u4e00\u5207\u8003\u616e\u306a\u3057\u3002\n\n\n2 \u8a2d\u5b9a\u624b\u9806\n\u8a2d\u5b9a\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n 1. \u79d8\u5bc6\u9375\u3092\u4f5c\u6210\u3059\u308b\u3002\n 2. \u7f72\u540d\u8981\u6c42\u3092\u4f5c\u6210\u3059\u308b\u3002\n 3. \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3059\u308b\u3002\n 4. Apatch\u306e\u6240\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b1,3\u3092\u8a2d\u7f6e\u3059\u308b\u3002\n 5. Apatch\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u3002\n 6. \u30d6\u30e9\u30a6\u30b6\u3067Apatch\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n\n3 \u691c\u8a3c\u74b0\u5883\n[root@master1 ~]# cat /etc/redhat-release\nCentOS Linux release 7.2.1511 (Core)\n\n\n\n4 \u4e8b\u524d\u6e96\u5099\n[root@master1 tls]# yum -y install openssl\n[root@master1 tls]# yum -y install httpd\n[root@master1 tls]# yum -y install mod_ssl\n\n\n\n5 openssl genrsa\u30b3\u30de\u30f3\u30c9\u3068\u306f?\nRSA\u79d8\u5bc6\u9375\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\u4f5c\u6210\u3057\u305fRSA\u79d8\u5bc6\u9375\u304c\u76d7\u307e\u308c\u3066\u60aa\u7528\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3001des,des3,idea\u3092\u4f7f\u3063\u3066\u6697\u53f7\u5316\u3059\u308b\u3002\nman genrsa\u3088\u308a\u629c\u7c8b\n\nSYNOPSIS\n       openssl genrsa [-out filename] [-passout arg] [-des] [-des3] [-idea] [-f4] [-3] [-rand file(s)] [-engine id] [numbits]\n\nDESCRIPTION\n       The genrsa command generates an RSA private key.\n\nOPTIONS\n-\u4e2d\u7565-\u3000\u3000\u3000\u3000\n       -des|-des3|-idea\n         \u2605These options encrypt the private key with the DES, triple DES, or the IDEA ciphers respectively before outputting it. If none of\n           these options is specified no encryption is used. If encryption is used a pass phrase is prompted for if it is not supplied via the\n           -passout argument.\n\n\n6 RSA\u79d8\u5bc6\u9375\u306e\u4f5c\u6210\u65b9\u6cd5\n\u4f5c\u6210\u3057\u305fRSA\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b\u5834\u5408\u3068\u3001\u6697\u53f7\u5316\u3057\u306a\u3044\u5834\u5408\u306b\u3064\u3044\u3066\u3001\u4ee5\u4e0b\u306b\u8aac\u660e\u3059\u308b\u3002\n\u4f5c\u6210\u3057\u305fRSA\u79d8\u5bc6\u9375\u304c\u76d7\u307e\u308c\u3066\u60aa\u7528\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3001des,des3,idea\u3092\u4f7f\u3063\u3066\u6697\u53f7\u5316\u3059\u308b\u3002\n\n6.1 RSA\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b\n--------------------\n1. des\u3092\u4f7f\u3046\u5834\u5408\n--------------------\nRSA\u79d8\u5bc6\u9375\u3092\u4f5c\u6210\u3059\u308b\u3002\u79d8\u5bc6\u9375\u306e\u6697\u53f7\u5316\u306bdes\u3092\u4f7f\u3046\u3002\n[root@master1 tls]# openssl genrsa -out private.key -des 2048\nGenerating RSA private key, 2048 bit long modulus\n........................................................+++\n...........+++\ne is 65537 (0x10001)\nEnter pass phrase for private.key:  \u2605RSA\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b\u305f\u3081\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3059\u308b\u3002\nVerifying - Enter pass phrase for private.key: \u2605\u3082\u3046\u4e00\u56de\u540c\u3058\u3082\u306e\u3092\u5165\u529b\u3059\u308b\u3002\n\n\u4f5c\u6210\u3057\u305fRSA\u9375\u3092\u78ba\u8a8d\u3059\u308b\u3002\n[root@master1 tls]# ls\nprivate.key\n\n\u6b21\u306e\u8a66\u9a13\u306e\u305f\u3081\u3001\u9375\u3092\u524a\u9664\u3059\u308b\u3002\n[root@master1 tls]# rm -f *\n[root@master1 tls]#\n\n\n--------------------\n2. des3\u3092\u4f7f\u3046\u5834\u5408\n--------------------\nRSA\u79d8\u5bc6\u9375\u3092\u4f5c\u6210\u3059\u308b\u3002\u79d8\u5bc6\u9375\u306e\u6697\u53f7\u5316\u306bdes3\u3092\u4f7f\u3046\u3002\n[root@master1 tls]# openssl genrsa -out private.key -des3 2048\nGenerating RSA private key, 2048 bit long modulus\n....................+++\n..................+++\ne is 65537 (0x10001)\nEnter pass phrase for private.key:  \u2605RSA\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b\u305f\u3081\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3059\u308b\u3002\nVerifying - Enter pass phrase for private.key: \u2605\u3082\u3046\u4e00\u56de\u540c\u3058\u3082\u306e\u3092\u5165\u529b\u3059\u308b\u3002\n\n\u4f5c\u6210\u3057\u305fRSA\u9375\u3092\u78ba\u8a8d\u3059\u308b\u3002\n[root@master1 tls]# ls\nprivate.key\n\n\u6b21\u306e\u8a66\u9a13\u306e\u305f\u3081\u3001\u9375\u3092\u524a\u9664\u3059\u308b\u3002\n[root@master1 tls]# rm -f *\n[root@master1 tls]#\n\n\n--------------------\n3. idea\u3092\u4f7f\u3046\u5834\u5408\n--------------------\nRSA\u79d8\u5bc6\u9375\u3092\u4f5c\u6210\u3059\u308b\u3002\u79d8\u5bc6\u9375\u306e\u6697\u53f7\u5316\u306bidea\u3092\u4f7f\u3046\u3002\n[root@master1 tls]# openssl genrsa -out private.key -idea 2048\nGenerating RSA private key, 2048 bit long modulus\n............................+++\n........+++\ne is 65537 (0x10001)\nEnter pass phrase for private.key:  \u2605RSA\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b\u305f\u3081\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3059\u308b\u3002\nVerifying - Enter pass phrase for private.key: \u2605\u3082\u3046\u4e00\u56de\u540c\u3058\u3082\u306e\u3092\u5165\u529b\u3059\u308b\u3002\n\n\u4f5c\u6210\u3057\u305fRSA\u9375\u3092\u78ba\u8a8d\u3059\u308b\u3002\n[root@master1 tls]# ls\nprivate.key\n\n\u6b21\u306e\u8a66\u9a13\u306e\u305f\u3081\u3001\u9375\u3092\u524a\u9664\u3059\u308b\u3002\n[root@master1 tls]# rm -f *\n[root@master1 tls]#\n\n\n\n6.2 RSA\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3057\u306a\u3044\ndes,des3,idea\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306e\u5165\u529b\u306f\u4fc3\u3055\u308c\u306a\u3044\u3002\n\u3053\u308c\u4ee5\u964d\u306e\u691c\u8a3c\u3067\u306f\u3001\u624b\u9593\u3092\u7701\u304f\u305f\u3081\u3001RSA\u79d8\u5bc6\u9375\u306e\u6697\u53f7\u5316\u306f\u3057\u306a\u3044\u3002\n[root@master1 tls]# openssl genrsa -out private.key 2048\nGenerating RSA private key, 2048 bit long modulus\n.......................+++\n.............................................+++\ne is 65537 (0x10001)\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u79d8\u5bc6\u9375(\u2605\u5370)\u304c\u4f5c\u6210\u3067\u304d\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master1 tls]# ls\n\u2605private.key\n\n\n\n7 \u7f72\u540d\u8981\u6c42\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n-new\u306f\u65b0\u898f\u4f5c\u6210\u3092\u610f\u5473\u3059\u308b\u3002\n-key\u306f\u79d8\u5bc6\u9375\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002\n-out\u306f\u4f5c\u6210\u3059\u308b\u7f72\u540d\u8981\u6c42\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n\n[root@master1 tls]# openssl req -new -key private.key -out server.csr\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:jp\nState or Province Name (full name) []:kanagawa\nLocality Name (eg, city) [Default City]:kawasaki\nOrganization Name (eg, company) [Default Company Ltd]:xx\nOrganizational Unit Name (eg, section) []:linux development\nCommon Name (eg, your name or your server's hostname) []:master1\nEmail Address []:\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:\nAn optional company name []:\n[root@master1 tls]#\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u7f72\u540d\u8981\u6c42(\u2605\u5370)\u304c\u4f5c\u6210\u3067\u304d\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master1 tls]# ls\nprivate.key  \u2605server.csr\n\n\n\n8 \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3059\u308b\u3002\n[root@master1 tls]# openssl x509 -req -in server.csr -signkey private.key -out server.crt\nSignature ok\nsubject=/C=jp/ST=kanagawa/L=kawasaki/O=xx/OU=xx/CN=master1\nGetting Private key\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8(\u2605\u5370)\u304c\u4f5c\u6210\u3067\u304d\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master1 tls]# ls\nprivate.key  \u2605server.crt  server.csr\n\n\n\n9 \u79d8\u5bc6\u9375\u3068\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u683c\u7d0d\n\u79d8\u5bc6\u9375\u3092\u4e0b\u8a18\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u683c\u7d0d\u3059\u308b\u3002\n[root@master1 tls]# mv private.key /etc/pki/tls/private/\n\n\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4e0b\u8a18\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u683c\u7d0d\u3059\u308b\u3002\n[root@master1 tls]# mv server.crt /etc/pki/tls/certs/\n\n\n\n10 Apatch\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(ssl.conf)\u3092\u7de8\u96c6\u3059\u308b\u3002\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u3002\u7de8\u96c6\u306f\u4e0b\u8a182\u884c\n[root@master1 tls]# vi /etc/httpd/conf.d/ssl.conf\nSSLCertificateFile /etc/pki/tls/certs/server.crt\nSSLCertificateKeyFile /etc/pki/tls/private/private.key\n\n\n\n11 Apatch\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(httpd.conf)\u3092\u7de8\u96c6\u3059\u308b\u3002\n[root@master1 tls]# hostname\nmaster1\n\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3055\u308c\u3066\u3044\u305f\u3082\u306e\u3092\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\n[root@master1 tls]# vi /etc/httpd/conf/httpd.conf\nServerName master1:443\n\n\n\n12 Apache\u306e\u518d\u8d77\u52d5\n\nApache\u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n[root@master1 tls]# systemctl start httpd\n\n\u4f7f\u7528\u3057\u3066\u3044\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u78ba\u8a8d\u3059\u308b\u3002\n[root@master1 tls]# lsof -i:443\nCOMMAND   PID   USER   FD   TYPE DEVICE SIZE/OFF NODE NAME\nhttpd   10441   root    6u  IPv6  90644      0t0  TCP *:https (LISTEN)\nhttpd   10442 apache    6u  IPv6  90644      0t0  TCP *:https (LISTEN)\nhttpd   10443 apache    6u  IPv6  90644      0t0  TCP *:https (LISTEN)\nhttpd   10444 apache    6u  IPv6  90644      0t0  TCP *:https (LISTEN)\nhttpd   10445 apache    6u  IPv6  90644      0t0  TCP *:https (LISTEN)\nhttpd   10446 apache    6u  IPv6  90644      0t0  TCP *:https (LISTEN)\n[root@master1 tls]#\n\n\n\n13 \u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\nhttps://192.168.0.10/ \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002https\u3067Apache\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n\n\n14 \u53c2\u8003\u60c5\u5831\nhttps://cspssl.jp/support/apache/config.php\nhttp://linux.kororo.jp/cont/server/openssl_command.php\nhttps://www.qoosky.io/techs/c41cdb3b7f\n#1 \u306f\u3058\u3081\u306b\n- Apatch\u306bhttps\u3067\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\u3002\n- \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ec\u30d9\u30eb\u306f\u4e00\u5207\u8003\u616e\u306a\u3057\u3002\n\n\n#2 \u8a2d\u5b9a\u624b\u9806\n\u8a2d\u5b9a\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n 1. \u79d8\u5bc6\u9375\u3092\u4f5c\u6210\u3059\u308b\u3002\n 2. \u7f72\u540d\u8981\u6c42\u3092\u4f5c\u6210\u3059\u308b\u3002\n 3. \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3059\u308b\u3002\n 4. Apatch\u306e\u6240\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b1,3\u3092\u8a2d\u7f6e\u3059\u308b\u3002\n 5. Apatch\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u3002\n 6. \u30d6\u30e9\u30a6\u30b6\u3067Apatch\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n\n\n\n#3 \u691c\u8a3c\u74b0\u5883\n\n```\n[root@master1 ~]# cat /etc/redhat-release\nCentOS Linux release 7.2.1511 (Core)\n\n```\n\n\n#4 \u4e8b\u524d\u6e96\u5099\n\n```\n[root@master1 tls]# yum -y install openssl\n[root@master1 tls]# yum -y install httpd\n[root@master1 tls]# yum -y install mod_ssl\n\n```\n\n\n#5 openssl genrsa\u30b3\u30de\u30f3\u30c9\u3068\u306f?\n\nRSA\u79d8\u5bc6\u9375\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\u4f5c\u6210\u3057\u305fRSA\u79d8\u5bc6\u9375\u304c\u76d7\u307e\u308c\u3066\u60aa\u7528\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3001des,des3,idea\u3092\u4f7f\u3063\u3066\u6697\u53f7\u5316\u3059\u308b\u3002\n\n```\nman genrsa\u3088\u308a\u629c\u7c8b\n\nSYNOPSIS\n       openssl genrsa [-out filename] [-passout arg] [-des] [-des3] [-idea] [-f4] [-3] [-rand file(s)] [-engine id] [numbits]\n\nDESCRIPTION\n       The genrsa command generates an RSA private key.\n\nOPTIONS\n-\u4e2d\u7565-\u3000\u3000\u3000\u3000\n       -des|-des3|-idea\n         \u2605These options encrypt the private key with the DES, triple DES, or the IDEA ciphers respectively before outputting it. If none of\n           these options is specified no encryption is used. If encryption is used a pass phrase is prompted for if it is not supplied via the\n           -passout argument.\n```\n\n\n#6 RSA\u79d8\u5bc6\u9375\u306e\u4f5c\u6210\u65b9\u6cd5\n\u4f5c\u6210\u3057\u305fRSA\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b\u5834\u5408\u3068\u3001\u6697\u53f7\u5316\u3057\u306a\u3044\u5834\u5408\u306b\u3064\u3044\u3066\u3001\u4ee5\u4e0b\u306b\u8aac\u660e\u3059\u308b\u3002\n\u4f5c\u6210\u3057\u305fRSA\u79d8\u5bc6\u9375\u304c\u76d7\u307e\u308c\u3066\u60aa\u7528\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3001des,des3,idea\u3092\u4f7f\u3063\u3066\u6697\u53f7\u5316\u3059\u308b\u3002\n\n\n##6.1 RSA\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b\n\n```\n--------------------\n1. des\u3092\u4f7f\u3046\u5834\u5408\n--------------------\nRSA\u79d8\u5bc6\u9375\u3092\u4f5c\u6210\u3059\u308b\u3002\u79d8\u5bc6\u9375\u306e\u6697\u53f7\u5316\u306bdes\u3092\u4f7f\u3046\u3002\n[root@master1 tls]# openssl genrsa -out private.key -des 2048\nGenerating RSA private key, 2048 bit long modulus\n........................................................+++\n...........+++\ne is 65537 (0x10001)\nEnter pass phrase for private.key:  \u2605RSA\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b\u305f\u3081\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3059\u308b\u3002\nVerifying - Enter pass phrase for private.key: \u2605\u3082\u3046\u4e00\u56de\u540c\u3058\u3082\u306e\u3092\u5165\u529b\u3059\u308b\u3002\n\n\u4f5c\u6210\u3057\u305fRSA\u9375\u3092\u78ba\u8a8d\u3059\u308b\u3002\n[root@master1 tls]# ls\nprivate.key\n\n\u6b21\u306e\u8a66\u9a13\u306e\u305f\u3081\u3001\u9375\u3092\u524a\u9664\u3059\u308b\u3002\n[root@master1 tls]# rm -f *\n[root@master1 tls]#\n\n\n--------------------\n2. des3\u3092\u4f7f\u3046\u5834\u5408\n--------------------\nRSA\u79d8\u5bc6\u9375\u3092\u4f5c\u6210\u3059\u308b\u3002\u79d8\u5bc6\u9375\u306e\u6697\u53f7\u5316\u306bdes3\u3092\u4f7f\u3046\u3002\n[root@master1 tls]# openssl genrsa -out private.key -des3 2048\nGenerating RSA private key, 2048 bit long modulus\n....................+++\n..................+++\ne is 65537 (0x10001)\nEnter pass phrase for private.key:  \u2605RSA\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b\u305f\u3081\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3059\u308b\u3002\nVerifying - Enter pass phrase for private.key: \u2605\u3082\u3046\u4e00\u56de\u540c\u3058\u3082\u306e\u3092\u5165\u529b\u3059\u308b\u3002\n\n\u4f5c\u6210\u3057\u305fRSA\u9375\u3092\u78ba\u8a8d\u3059\u308b\u3002\n[root@master1 tls]# ls\nprivate.key\n\n\u6b21\u306e\u8a66\u9a13\u306e\u305f\u3081\u3001\u9375\u3092\u524a\u9664\u3059\u308b\u3002\n[root@master1 tls]# rm -f *\n[root@master1 tls]#\n\n\n--------------------\n3. idea\u3092\u4f7f\u3046\u5834\u5408\n--------------------\nRSA\u79d8\u5bc6\u9375\u3092\u4f5c\u6210\u3059\u308b\u3002\u79d8\u5bc6\u9375\u306e\u6697\u53f7\u5316\u306bidea\u3092\u4f7f\u3046\u3002\n[root@master1 tls]# openssl genrsa -out private.key -idea 2048\nGenerating RSA private key, 2048 bit long modulus\n............................+++\n........+++\ne is 65537 (0x10001)\nEnter pass phrase for private.key:  \u2605RSA\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b\u305f\u3081\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3059\u308b\u3002\nVerifying - Enter pass phrase for private.key: \u2605\u3082\u3046\u4e00\u56de\u540c\u3058\u3082\u306e\u3092\u5165\u529b\u3059\u308b\u3002\n\n\u4f5c\u6210\u3057\u305fRSA\u9375\u3092\u78ba\u8a8d\u3059\u308b\u3002\n[root@master1 tls]# ls\nprivate.key\n\n\u6b21\u306e\u8a66\u9a13\u306e\u305f\u3081\u3001\u9375\u3092\u524a\u9664\u3059\u308b\u3002\n[root@master1 tls]# rm -f *\n[root@master1 tls]#\n\n```\n\n\n##6.2 RSA\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3057\u306a\u3044\n\ndes,des3,idea\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306e\u5165\u529b\u306f\u4fc3\u3055\u308c\u306a\u3044\u3002\n\u3053\u308c\u4ee5\u964d\u306e\u691c\u8a3c\u3067\u306f\u3001\u624b\u9593\u3092\u7701\u304f\u305f\u3081\u3001RSA\u79d8\u5bc6\u9375\u306e\u6697\u53f7\u5316\u306f\u3057\u306a\u3044\u3002\n\n\n```\n[root@master1 tls]# openssl genrsa -out private.key 2048\nGenerating RSA private key, 2048 bit long modulus\n.......................+++\n.............................................+++\ne is 65537 (0x10001)\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u79d8\u5bc6\u9375(\u2605\u5370)\u304c\u4f5c\u6210\u3067\u304d\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master1 tls]# ls\n\u2605private.key\n\n```\n\n\n#7 \u7f72\u540d\u8981\u6c42\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n- -new\u306f\u65b0\u898f\u4f5c\u6210\u3092\u610f\u5473\u3059\u308b\u3002\n- -key\u306f\u79d8\u5bc6\u9375\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002\n- -out\u306f\u4f5c\u6210\u3059\u308b\u7f72\u540d\u8981\u6c42\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n```\n\n[root@master1 tls]# openssl req -new -key private.key -out server.csr\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:jp\nState or Province Name (full name) []:kanagawa\nLocality Name (eg, city) [Default City]:kawasaki\nOrganization Name (eg, company) [Default Company Ltd]:xx\nOrganizational Unit Name (eg, section) []:linux development\nCommon Name (eg, your name or your server's hostname) []:master1\nEmail Address []:\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:\nAn optional company name []:\n[root@master1 tls]#\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u7f72\u540d\u8981\u6c42(\u2605\u5370)\u304c\u4f5c\u6210\u3067\u304d\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master1 tls]# ls\nprivate.key  \u2605server.csr\n\n```\n\n\n#8 \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n\n```\n[root@master1 tls]# openssl x509 -req -in server.csr -signkey private.key -out server.crt\nSignature ok\nsubject=/C=jp/ST=kanagawa/L=kawasaki/O=xx/OU=xx/CN=master1\nGetting Private key\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8(\u2605\u5370)\u304c\u4f5c\u6210\u3067\u304d\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master1 tls]# ls\nprivate.key  \u2605server.crt  server.csr\n\n```\n \n#9 \u79d8\u5bc6\u9375\u3068\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u683c\u7d0d\n\n```\n\u79d8\u5bc6\u9375\u3092\u4e0b\u8a18\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u683c\u7d0d\u3059\u308b\u3002\n[root@master1 tls]# mv private.key /etc/pki/tls/private/\n\n\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4e0b\u8a18\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u683c\u7d0d\u3059\u308b\u3002\n[root@master1 tls]# mv server.crt /etc/pki/tls/certs/\n\n```\n\n\n#10 Apatch\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(ssl.conf)\u3092\u7de8\u96c6\u3059\u308b\u3002\n\n```\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u3002\u7de8\u96c6\u306f\u4e0b\u8a182\u884c\n[root@master1 tls]# vi /etc/httpd/conf.d/ssl.conf\nSSLCertificateFile /etc/pki/tls/certs/server.crt\nSSLCertificateKeyFile /etc/pki/tls/private/private.key\n\n```\n\n#11 Apatch\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(httpd.conf)\u3092\u7de8\u96c6\u3059\u308b\u3002\n\n```\n[root@master1 tls]# hostname\nmaster1\n\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3055\u308c\u3066\u3044\u305f\u3082\u306e\u3092\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\n[root@master1 tls]# vi /etc/httpd/conf/httpd.conf\nServerName master1:443\n\n```\n\n\n#12 Apache\u306e\u518d\u8d77\u52d5\n\n```\n\nApache\u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n[root@master1 tls]# systemctl start httpd\n\n\u4f7f\u7528\u3057\u3066\u3044\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u78ba\u8a8d\u3059\u308b\u3002\n[root@master1 tls]# lsof -i:443\nCOMMAND   PID   USER   FD   TYPE DEVICE SIZE/OFF NODE NAME\nhttpd   10441   root    6u  IPv6  90644      0t0  TCP *:https (LISTEN)\nhttpd   10442 apache    6u  IPv6  90644      0t0  TCP *:https (LISTEN)\nhttpd   10443 apache    6u  IPv6  90644      0t0  TCP *:https (LISTEN)\nhttpd   10444 apache    6u  IPv6  90644      0t0  TCP *:https (LISTEN)\nhttpd   10445 apache    6u  IPv6  90644      0t0  TCP *:https (LISTEN)\nhttpd   10446 apache    6u  IPv6  90644      0t0  TCP *:https (LISTEN)\n[root@master1 tls]#\n\n```\n\n\n#13 \u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\n\nhttps://192.168.0.10/ \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002https\u3067Apache\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n![tls1.png](https://qiita-image-store.s3.amazonaws.com/0/146813/cb86da73-a125-9292-f62f-57f0e4da5484.png)\n\n\n#14 \u53c2\u8003\u60c5\u5831\nhttps://cspssl.jp/support/apache/config.php\nhttp://linux.kororo.jp/cont/server/openssl_command.php\nhttps://www.qoosky.io/techs/c41cdb3b7f\n", "tags": ["openssl", "centos7", "HTTPS", "TLS", "\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8"]}