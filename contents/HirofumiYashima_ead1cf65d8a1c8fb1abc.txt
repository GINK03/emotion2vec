{"context": "\n\n\u3010 \u53c2\u8003\u30a6\u30a7\u30d6\u30b5\u30a4\u30c8 \u3011\n\n\nHatena Blog \u306d\u3053\u3086\u304d\u306e\u30e1\u30e2 \uff082016/2/12\uff09\u300c \u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u4e2d\u306e\u8981\u7d20\u306e\u30e6\u30cb\u30fc\u30af\u306a\u3082\u306e\u306e\u500b\u6570\u3092\u52d8\u5b9a\u300d\n\n\n\n1. DataFrame\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u306e \u7528\u610f\n\n\nPython REPL\n>>> import pandas as pd\n>>> import numpy as np\n>>>\n>>> df_sample = pd.read_csv(\"sample_data.csv\")\n>>>\n>>> col_name_list = list(df_sample.columns)\n\n\n\n2. \u4ee5\u4e0b \u3067 \u5217\u540d\u30ea\u30b9\u30c8 \u3092 \u751f\u6210 \u3067\u304d\u308b\n\n\n\u300c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\uff08\u4e00\u610f\u306a\uff09\u5024 \u306e \u7a2e\u985e \u304c \uff11\u4ef6\u306e\u307f \u306e \u5217\u300d\uff08\u203b\u3064\u307e\u308a\u3001\u5b9a\u6570\u5217\uff09 \u306e \u5217\u540d\u30ea\u30b9\u30c8 \u3092 \u751f\u6210 \u3059\u308b\u5834\u5408\n\n\nPython REPL\n>>> only_one_uniq_value_colname_list = []\n>>>\n>>> for col_name in col_name_list:\n...     if df_sample[col_name].value_counts().count() == 1:\n...             only_one_uniq_value_colname_list.append(col_name)\n...\n>>>\n\n\n\nPython REPL\n>>> len(only_one_uniq_value_colname_list)\n>>> 24576\n>>>\n\n>>> df_sample[only_one_uniq_value_colname_list[0]].value_counts().count()\n1\n>>>\n\n\n\n\u4e00\u610f\u306a\u5024 \u306e \u4ef6\u6570 \u304c\u3001N\u4ef6\u4ee5\u4e0b \u306e \u5217 \u306e \u5217\u540d\u30ea\u30b9\u30c8 \u304c \u6b32\u3057\u3044\u3068\u304d\n\n\n\uff08\u4f8b\uff09 N = 10\uff08\u4ef6\uff09\u4ee5\u4e0b\n\n\nPython REPL\n>>> lt_10_uniq_value_colname_list = []\n>>>\n>>> for col_name in col_name_list:\n...     if df_sample[col_name].value_counts().count() <= 10:\n...             lt_10_uniq_value_colname_list.append(col_name)\n...\n>>>\n\n\n\uff08 \u7d50\u679c\u306e\u4f8b \uff09\n\n120\u500b\u306e\u5217 \u304c \u8a72\u5f53\u3057\u305f\n\n\nPython REPL\n>>> len(lt_10_uniq_value_colname_list)\n120\n>>>\n# print(lt_10_uniq_value_colname_list)\n\n>>>\n\n\n\uff08 \u7d50\u679c\u306e\u4f8b \uff09\n\n\u5217\u540d\u30ea\u30b9\u30c8 \u306e \u6700\u521d \u306b \u683c\u7d0d\u3055\u308c\u305f\u5217 \u306f\u30014\u7a2e\u985e\u306e\u5024 \u304c \u683c\u7d0d\u3055\u308c\u305f\u5217 \u3067 \u3042\u3063\u305f\u3002\n\n\nPython REPL\n>>> df_sample[lt_10_uniq_value_colname_list[0]].value_counts().count()\n4\n>>>\n>>> df_sample[lt_10_uniq_value_colname_list[0]].value_counts()\nTokyo         79593\nNagoya        17682\nKobe          14415\nHakata        9000\nName: location, dtype: object\n>>>\n\n\n\n\n\u4e00\u610f\u306a\u5024\u306e\u30ea\u30b9\u30c8 \u306f\u3001\u4ee5\u4e0b \u3067 \u5f97\u3089\u308c\u308b\u3002\n\n\nPython REPL\n>>> df_sample['location'].value_counts().index\nIndex([u'Tokyo', u'Nagoya', u'Kobe', u'Hakata'], dtype='object')\n>>>\n>>> list(df_sample['location'].value_counts().index)\n['Tokyo', 'Nagoya', 'Kobe', 'Hakata']\n>>>\n>>> tmp = list(df_sample['location'].value_counts().index)\n>>> tmp\n['Tokyo', 'Nagoya', 'Kobe', 'Hakata']\n>>>\n\n\n\n\n\u3010 \u53c2\u8003 \u3011\n\nvalue_counts().value_counts() \u3092 \u5b9f\u884c\u3059\u308b \u3068\u3001\u300c\u8a72\u5f53\u884c\u6570 \u306e \u7a2e\u985e\u300d\u306e\u4ef6\u6570 \u3092 \u96c6\u8a08\u3067\u304d\u308b\u3002\n\n1\u884c\u3057\u304b\u8a72\u5f53\u3057\u306a\u3044\u30ab\u30e9\u30e0\u5024 \u306f\u300190,563\u7a2e\u985e\n2\u884c\u3057\u304b\u8a72\u5f53\u3057\u306a\u3044\u30ab\u30e9\u30e0\u5024 \u306f\u300170\u7a2e\u985e\n\n\nPython REPL\n>>> df_sample['XZAE_col'].value_counts().value_counts()\n1     90563\n2        70\n12        1\n6         1\nName: XZAE_col, dtype: int64\n>>>\n\n\n###__\u3010 \u53c2\u8003\u30a6\u30a7\u30d6\u30b5\u30a4\u30c8 \u3011__\n\n* [Hatena Blog \u306d\u3053\u3086\u304d\u306e\u30e1\u30e2 \uff082016/2/12\uff09\u300c<pandas, Python> \u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u4e2d\u306e\u8981\u7d20\u306e\u30e6\u30cb\u30fc\u30af\u306a\u3082\u306e\u306e\u500b\u6570\u3092\u52d8\u5b9a\u300d](http://nekoyukimmm.hatenablog.com/entry/2016/02/12/101049)\n\n___\n\n##__1. DataFrame\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u306e \u7528\u610f__\n\n```{python:Python REPL}\n>>> import pandas as pd\n>>> import numpy as np\n>>>\n>>> df_sample = pd.read_csv(\"sample_data.csv\")\n>>>\n>>> col_name_list = list(df_sample.columns)\n```\n\n##__2. \u4ee5\u4e0b \u3067 \u5217\u540d\u30ea\u30b9\u30c8 \u3092 \u751f\u6210 \u3067\u304d\u308b__\n\n* __\u300c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\uff08\u4e00\u610f\u306a\uff09\u5024 \u306e \u7a2e\u985e \u304c \uff11\u4ef6\u306e\u307f \u306e \u5217\u300d\uff08\u203b\u3064\u307e\u308a\u3001\u5b9a\u6570\u5217\uff09 \u306e \u5217\u540d\u30ea\u30b9\u30c8 \u3092 \u751f\u6210 \u3059\u308b\u5834\u5408__\n\n```{python:Python REPL}\n>>> only_one_uniq_value_colname_list = []\n>>>\n>>> for col_name in col_name_list:\n...     if df_sample[col_name].value_counts().count() == 1:\n...             only_one_uniq_value_colname_list.append(col_name)\n...\n>>>\n```\n\n```{python:Python REPL}\n>>> len(only_one_uniq_value_colname_list)\n>>> 24576\n>>>\n\n>>> df_sample[only_one_uniq_value_colname_list[0]].value_counts().count()\n1\n>>>\n```\n\n##__\u4e00\u610f\u306a\u5024 \u306e \u4ef6\u6570 \u304c\u3001N\u4ef6\u4ee5\u4e0b \u306e \u5217 \u306e \u5217\u540d\u30ea\u30b9\u30c8 \u304c \u6b32\u3057\u3044\u3068\u304d__\n\n\n####__\uff08\u4f8b\uff09 N = 10\uff08\u4ef6\uff09\u4ee5\u4e0b__\n\n\n```{python:Python REPL}\n>>> lt_10_uniq_value_colname_list = []\n>>>\n>>> for col_name in col_name_list:\n...     if df_sample[col_name].value_counts().count() <= 10:\n...             lt_10_uniq_value_colname_list.append(col_name)\n...\n>>>\n```\n\n__\uff08 \u7d50\u679c\u306e\u4f8b \uff09__\n\n* __120\u500b\u306e\u5217 \u304c \u8a72\u5f53\u3057\u305f__\n\n\n```{python:Python REPL}\n>>> len(lt_10_uniq_value_colname_list)\n120\n>>>\n# print(lt_10_uniq_value_colname_list)\n\n>>>\n```\n\n__\uff08 \u7d50\u679c\u306e\u4f8b \uff09__\n\n* __\u5217\u540d\u30ea\u30b9\u30c8 \u306e \u6700\u521d \u306b \u683c\u7d0d\u3055\u308c\u305f\u5217 \u306f\u30014\u7a2e\u985e\u306e\u5024 \u304c \u683c\u7d0d\u3055\u308c\u305f\u5217 \u3067 \u3042\u3063\u305f\u3002__\n\n\n\n```{python:Python REPL}\n>>> df_sample[lt_10_uniq_value_colname_list[0]].value_counts().count()\n4\n>>>\n>>> df_sample[lt_10_uniq_value_colname_list[0]].value_counts()\nTokyo         79593\nNagoya        17682\nKobe          14415\nHakata        9000\nName: location, dtype: object\n>>>\n```\n\n___\n\n####__\u4e00\u610f\u306a\u5024\u306e\u30ea\u30b9\u30c8 \u306f\u3001\u4ee5\u4e0b \u3067 \u5f97\u3089\u308c\u308b\u3002__\n\n```{python:Python REPL}\n>>> df_sample['location'].value_counts().index\nIndex([u'Tokyo', u'Nagoya', u'Kobe', u'Hakata'], dtype='object')\n>>>\n>>> list(df_sample['location'].value_counts().index)\n['Tokyo', 'Nagoya', 'Kobe', 'Hakata']\n>>>\n>>> tmp = list(df_sample['location'].value_counts().index)\n>>> tmp\n['Tokyo', 'Nagoya', 'Kobe', 'Hakata']\n>>>\n```\n\n___\n\n###__\u3010 \u53c2\u8003 \u3011__\n\n__value_counts().value_counts() \u3092 \u5b9f\u884c\u3059\u308b \u3068\u3001\u300c\u8a72\u5f53\u884c\u6570 \u306e \u7a2e\u985e\u300d\u306e\u4ef6\u6570 \u3092 \u96c6\u8a08\u3067\u304d\u308b\u3002__\n\n* 1\u884c\u3057\u304b\u8a72\u5f53\u3057\u306a\u3044\u30ab\u30e9\u30e0\u5024 \u306f\u300190,563\u7a2e\u985e\n* 2\u884c\u3057\u304b\u8a72\u5f53\u3057\u306a\u3044\u30ab\u30e9\u30e0\u5024 \u306f\u300170\u7a2e\u985e\n\n```{python:Python REPL}\n>>> df_sample['XZAE_col'].value_counts().value_counts()\n1     90563\n2        70\n12        1\n6         1\nName: XZAE_col, dtype: int64\n>>>\n```\n", "tags": ["Python", "python2.7", "pandas", "DataFrame", "\u30c7\u30fc\u30bf\u5206\u6790"]}