{"context": "\u3010Twilio-UG \u6771\u4eac\u3011Twilio Client \u30cf\u30f3\u30ba\u30aa\u30f3\u52c9\u5f37\u4f1a \u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u8cc7\u6599\u3067\u3059\u3002\n\u767a\u8868\u8cc7\u6599\u306f\u3053\u3061\u3089\nhttps://speakerdeck.com/honkimi/twilio-client-mian-qiang-hui\n\n\u7b2c1\u90e8: Twilio Client \u3092\u52d5\u304b\u3059\n\u3072\u3068\u307e\u305a\u306f\u672c\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u300c\u52d5\u304f\u300d\u3068\u3044\u3046\u3068\u3053\u308d\u307e\u3067\u6301\u3063\u3066\u3044\u304f\u3053\u3068\u3092\u76ee\u6a19\u306b\u3057\u307e\u3059\u3002\n\u30cf\u30f3\u30ba\u30aa\u30f3\u306e\u9014\u4e2d\u3067\u3001\u4f59\u88d5\u306e\u3042\u308b\u65b9\u5411\u3051\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u89e3\u8aac\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nRuby, Node.js, PHP, Python \u306e\u3044\u305a\u308c\u304b\u306e\u5b9f\u884c\u74b0\u5883\nngrok (\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u5916\u90e8\u306b\u4e00\u6642\u7684\u306b\u516c\u958b\u3067\u304d\u308b\u30c4\u30fc\u30eb)\nhttps://ngrok.com/download\n\n\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u306e\u53d6\u5f97\n\nTWILIO_ACCOUNT_SID\nTWILIO_AUTH_TOKEN\nTWILIO_TWIML_APP_SID\nTWILIO_CALLER_ID:\n\nQuickStart \u3067 Client \u74b0\u5883\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nhttps://jp.twilio.com/docs/quickstart/client/javascript#download-configure-and-run-the-starter-app\n\u305d\u308c\u305e\u308c\u306e Github \u306e README \u3092\u8aad\u307f\u306a\u304c\u3089\u3001\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306b\u6311\u6226\u3057\u307e\u3057\u3087\u3046\uff01\n\u4e0a\u8a18\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5185\u306b\u3042\u308b ngrok \u3092\u4f7f\u3063\u3066\u3001 Twilio Client \u304b\u3089\u643a\u5e2f\u96fb\u8a71\u3078\u306e\u756a\u53f7\u767a\u4fe1\u307e\u3067\u3067\u304d\u305f\u3089\u3001\u5927\u6210\u529f\u3067\u3059\u3002\n\n\u7740\u4fe1\u306e\u8a2d\u5b9a\nQuickStart \u3067\u756a\u53f7\u767a\u4fe1\u304c\u3067\u304d\u305f\u3089\u3001\u7740\u4fe1\u306e\u8a2d\u5b9a\u3082\u30c8\u30e9\u30a4\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u30b3\u30fc\u30c9\u306e\u4fee\u6b63\n\u307e\u305a\u3001\u7740\u4fe1\u306e\u8a2d\u5b9a\u3092\u7c21\u5358\u306b\u3059\u308b\u305f\u3081\u306b\u5404\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u3046\u3061\u3001identity\u3092\u751f\u6210\u3057\u3066\u3044\u308b\u90e8\u5206\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n  identity = Faker::Internet.user_name.gsub(/[^0-9a-z_]/i, '')\n\n\ud83d\udc47\n  identity = \"twilio_user\"\n\n\nTwiML Bins \u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nTwiML Bins \u306f TwiML \u3092\u7c21\u5358\u306b\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u304d\u308b\u958b\u767a\u30c4\u30fc\u30eb\u3067\u3059\u3002\nhttps://jp.twilio.com/console/dev-tools/twiml-bins\nDual Channel Recording \u306e\u9332\u97f3\u30e2\u30fc\u30c9\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002(New)\n<Response>\n  <Dial callerId=\"\uff0b\uff18\uff11..\u8cfc\u5165\u3057\u305f\u756a\u53f7\" record=\"record-from-answer-dual\">\n    <Client>twilio_user</Client>\n  </Dial>\n</Response>\n\n\u305d\u3057\u3066\u3001\u96fb\u8a71\u756a\u53f7\u306e\u8a2d\u5b9a\u3078\u884c\u304d\u3001\u756a\u53f7\u8a73\u7d30\u30da\u30fc\u30b8\u306e A CALL COMES IN \u3092\u3001\u30bb\u30c3\u30c8\u3057\u305f TwiML Bins \u306b\u6307\u5b9a\u3057\u3066\u3042\u3052\u307e\u3059\u3002\nhttps://jp.twilio.com/console/phone-numbers/incoming\n\n\u4e00\u5ea6\u4fee\u6b63\u3092\u52a0\u3048\u305f\u306e\u3067 Node.js \u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n\u3053\u308c\u3060\u3051\u3067 \u8cfc\u5165\u3057\u305f\u756a\u53f7\u306b\u96fb\u8a71\u3092\u304b\u3051\u308b\u3068\u3001Client \u3067\u7740\u4fe1\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059! Twilio \u3067\u96fb\u8a71\u306e\u53d7\u767a\u4fe1\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u672c\u683c\u7684\u306b\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u516c\u958b\u3059\u308b\u306b\u306f\u3001 ngrok \u3067\u306f\u306a\u304f\u3001URL \u304c\u56fa\u5b9a\u306e Web \u30b5\u30fc\u30d0\u30fc\u3092\u7528\u610f\u3057\u3001TwiML \u306e\u6307\u5b9a\u5148\u3092\u5909\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u89e3\u8aac\n\n\u5168\u4f53\u50cf\n\u30b1\u30a4\u30d1\u30d3\u30ea\u30c6\u30a3\u30c8\u30fc\u30af\u30f3\u306e\u751f\u6210\nJavaScript SDK \u306e\u5404\u7a2e\u30a4\u30d9\u30f3\u30c8\n\n\u305d\u308c\u3067\u306f\u3001\u3044\u3088\u3044\u3088 Twilio Client 1.4 \u306e\u6700\u65b0\u6a5f\u80fd\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u7b2c2\u90e8: \u6700\u65b0\u306e Twilio Client \u3092\u8997\u3044\u3066\u307f\u3088\u3046\n\nTwilio \u306e Insgihts \u3092\u30aa\u30f3\u306b\u3059\u308b\nhttps://jp.twilio.com/console/voice/insights/settings\n\u306b\u3066\u3001Twilio \u306e Insights \u3092\u30aa\u30f3\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u96fb\u8a71\u3054\u3068\u306b\u60c5\u5831\u306e\u8a73\u7d30\u3092\u51fa\u529b\u3057\u3066\u304f\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nTwilio Client \u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\npublic/index.html\u306e Twilio Client \u306e\u8aad\u307f\u8fbc\u307f\u5148\u3092\u7de8\u96c6\n<script type=\"text/javascript\" src=\"//media.twiliocdn.com/sdk/js/client/v1.3/twilio.min.js\"></script>\n\ud83d\udc47\n<script type=\"text/javascript\" src=\"//media.twiliocdn.com/sdk/js/client/v1.4/twilio.min.js\"></script>\n\u3072\u3068\u307e\u305a\u3053\u308c\u3067\u901a\u8a71\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u305d\u306e\u5f8c\u3001Twilio \u306e \u96fb\u8a71\u306e\u30ed\u30b0\u3078\u884c\u304d\u3001Twilio <-> Client \u306e\u901a\u8a71\u30ed\u30b0\u3092\u958b\u304d\u307e\u3059\u3002\nhttps://jp.twilio.com/console/voice/logs/calls\n\n\u3053\u306e\u3088\u3046\u306b\u3001Client \u3068\u901a\u8a71\u3057\u305f\u30ed\u30b0\u306b\u306f\u3001\u65b0\u3057\u304f Insights Summary, Events, Metrics \u306e3\u3064\u306e\u30bf\u30d6\u304c\u51fa\u73fe\u3057\u307e\u3059\u3002\n\nInsights Summary\n\u901a\u4fe1\u72b6\u6cc1\u306e\u6982\u8981\u3092\u793a\u3057\u307e\u3059\u3002\u5c02\u9580\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7528\u8a9e\u3092\u3044\u304f\u3064\u304b\u89e3\u8aac\u3057\u307e\u3059\u3002\n\nEvents\n\u30d6\u30e9\u30a6\u30b6\u3068 Twilio \u306e\u63a5\u7d9a\u958b\u59cb\u304b\u3089\u7d42\u4e86\u307e\u3067\u306e\u5404\u7a2e\u30a4\u30d9\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002\nTwilio Client \u3067\u4f7f\u308f\u308c\u3066\u3044\u308b WebRTC \u3068\u3044\u3046\u6280\u8853\u306e\u8a73\u7d30\u3067\u3059\u3002\u5c02\u9580\u7684\u306a\u5185\u5bb9\u3068\u306a\u308b\u305f\u3081\u3001\u4eca\u56de\u306e\u52c9\u5f37\u4f1a\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\nMetrics\n\u901a\u8a71\u72b6\u6cc1\u306e\u8a73\u7d30\u306e\u30b0\u30e9\u30d5\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u901a\u8a71\u306e\u3069\u306e\u6642\u9593\u5e2f\u306b\u3069\u308c\u3060\u3051\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u72b6\u6cc1\u304c\u4f4e\u4e0b\u3057\u305f\u306e\u304b\u3001\u306a\u3069\u3092\u3088\u308a\u5177\u4f53\u7684\u306b\u95b2\u89a7\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u901a\u8a71\u4e2d\u306e\u901a\u8a71\u72b6\u6cc1\u306e\u53d6\u5f97\nTwilio Client 1.4 \u306f\u3053\u308c\u3060\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u901a\u8a71\u4e2d\u306b\u3001\u305d\u306e\u901a\u8a71\u306e\u72b6\u6cc1\u3092\u30a4\u30d9\u30f3\u30c8\u3068\u3057\u3066\u30ad\u30e3\u30c3\u30c1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nquickstart.js \u3092\u7de8\u96c6\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nTwilio.Device.connect(function (conn) {\n  log('Successfully established call!');\n  document.getElementById('button-call').style.display = 'none';\n  document.getElementById('button-hangup').style.display = 'inline';\n\n  // \u4ee5\u4e0b\u3092\u8ffd\u52a0  \n  connection.on('warning', function(name) {\n    log(name + \" is occurred.\");\n  });\n  connection.on('warning-cleared'', function(name) {\n    log(name + \" is cleared.\");\n  });\n});\n\n\u3053\u308c\u3067\u3001\u901a\u8a71\u4e2d\u306b\u4f55\u304b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u554f\u984c\u304c\u8d77\u304d\u305f\u969b\u306b\u3001\u30ed\u30b0\u306b\u60c5\u5831\u3092\u8ffd\u8a18\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u5b9f\u969b\u306b\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u3046\u307e\u304f\u8b66\u544a\u304c\u51fa\u305b\u308c\u3070\u3001\u901a\u8a71\u4e2d\u306b\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u308b\u3067\u3057\u3087\u3046\u3002\u305d\u308c\u305e\u308c\u306e\u8a73\u7d30\u306e\u610f\u5473\u3092\u4ee5\u4e0b\u306b\u307e\u3068\u3081\u307e\u3059\u3002\n\nhigh-jitter: High jitter \u306f\u8ca7\u5f31\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u74b0\u5883\u3068\u5f37\u3044\u76f8\u95a2\u95a2\u4fc2\u306b\u3042\u308b\u3002\u30b8\u30c3\u30bf: \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u901a\u4fe1\u3067\u3001\u30c7\u30fc\u30bf\u4f1d\u9001\u306b\u304b\u304b\u308b\u6642\u9593\u304c\u4e00\u5b9a\u305b\u305a\u306b\u5230\u7740\u3059\u308b\u30c7\u30fc\u30bf\u306e\u9806\u756a\u304c\u4e71\u308c\u308b\u73fe\u8c61\nlow-mos: \u4f4e\u3044MOS \u306f \u901a\u8a71\u54c1\u8cea\u306e\u4f4e\u4e0b\u3092\u793a\u3059\u3002 MOS: \u5727\u7e2e\u306b\u3088\u308b\u97f3\u8cea\u306e\u8a55\u4fa1\u57fa\u6e96\nconstant-audio-input(output)-level: 10\u79d2\u4ee5\u4e0a\u30aa\u30fc\u30c7\u30a3\u30aa\u5165\u51fa\u529b\u30ec\u30d9\u30eb\u304c\u4e00\u5b9a\u306e\u307e\u307e\u901a\u8a71\u3055\u308c\u3066\u3044\u308b\u72b6\u6cc1\u3002\nhigh-packet-loss:  \u6700\u8fd1\u306e5\u30b5\u30f3\u30d7\u30eb\u306e\u3046\u30613\u3064\u3067\u53d7\u3051\u53d6\u3063\u305f\u30d1\u30b1\u30c3\u30c8\u306e1%\u4ee5\u4e0a\u304c\u5931\u308f\u308c\u305f\u3002\u591a\u304f\u306e\u30d1\u30b1\u30c3\u30c8\u640d\u5931\u306f\u8ca7\u5f31\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u74b0\u5883\u3068\u5f37\u3044\u76f8\u95a2\u304c\u3042\u308b\u3002\nhigh-rtt: \u6700\u8fd1\u306e5\u30b5\u30f3\u30d7\u30eb\u306e\u3046\u30613\u3064\u3067\u30d1\u30b1\u30c3\u30c8\u306e\u5468\u56de\u6642\u9593\u304c 400ms \u3092\u8d85\u3048\u305f\n\n\nTwilio Client \u306e\u6700\u65b0\u60c5\u5831\n2016/12/20 \u30ea\u30ea\u30fc\u30b9\u306e\u6700\u65b0 Twilio Client(1.4.9) \u60c5\u5831\n\n\u30c7\u30d0\u30a4\u30b9\u5165\u51fa\u529b\u306e\u5207\u308a\u66ff\u3048\nTwilio Client \u3067\u306f\u3001\u97f3\u58f0\u306e\u5165\u51fa\u529b\u30c7\u30d0\u30a4\u30b9\u3092 JavaScript \u3067\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002(\u73fe\u72b6\u306f Chrome \u306e\u307f\u30b5\u30dd\u30fc\u30c8)\nTwilio.Device.audio.availableInputDevices \u3067\u5229\u7528\u53ef\u80fd\u306a\u5165\u529b\u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u3092\u914d\u5217\u3067\u53d6\u5f97\u3067\u304d\u3001 Twilio.Device.audio.speakerDevices.set(id) \u3067\u901a\u8a71\u4e2d\u306e\u5165\u529b\u30c7\u30d0\u30a4\u30b9\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002(\u8907\u6570\u53ef)\nTwilio.Device.audio.ringtoneDevices.set(id) \u3067\u7740\u4fe1\u97f3\u306e\u5165\u529b\u30c7\u30d0\u30a4\u30b9\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002(\u8907\u6570\u53ef)\n\u4eca\u307e\u3067\u30d1\u30bd\u30b3\u30f3\u306eOS\u306e\u8a2d\u5b9a\u3067\u3057\u304b\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001 JavaScript \u3067\u52d5\u7684\u306b\u5207\u308a\u66ff\u3048\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u7740\u4fe1\u97f3\u3060\u3051PC\u3068\u30d8\u30c3\u30c9\u30bb\u30c3\u30c8\u304b\u3089\u9cf4\u3089\u3057\u3001\u901a\u8a71\u4e2d\u306e\u97f3\u58f0\u306f\u30d8\u30c3\u30c9\u30bb\u30c3\u30c8\u306e\u307f\u6d41\u3059\u3068\u3044\u3046\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30c7\u30d0\u30a4\u30b9\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u53d6\u5f97/\u8a2d\u5b9a\n\u73fe\u5728\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u97f3\u91cf\u306e\u5024\u3092\u53d6\u5f97/\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u4f8b\u3048\u3070\u97f3\u304c\u805e\u3053\u3048\u3065\u3089\u304b\u3063\u305f\u5834\u5408\u306b\u306f\u3001Web\u3000\u30da\u30fc\u30b8\u5185\u3067\u97f3\u91cf\u3092\u4e0a\u3052\u308b\u3088\u3046\u306a\u64cd\u4f5c\u3092\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\nClient \u306e\u767a\u7740\u4fe1\u97f3\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\n\u7740\u4fe1\u97f3\u306a\u3069\u306e Twilio \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u97f3\u58f0\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u7740\u4fe1\u97f3\u3001\u767a\u4fe1\u97f3\u3001DTMF\u9001\u4fe1\u306a\u3069\u306e\u6642\u306e\u97f3\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\nTwilio.Device.setup(token, {\n  sounds: {\n    incoming: 'http://mysite.com/incoming.mp3',\n    outgoing: 'http://mysite.com/outgoing.mp3',\n    dtmf8: 'http://mysite.com/funny_noise.mp3'\n  }\n}\n\n\nTwilio Interconnect for Twilio Client\n\u3053\u308c\u306f\u73fe\u5728 US \u30ea\u30fc\u30b8\u30e7\u30f3\u9650\u5b9a\u3067\u3059\u304c\u3001Twilio Client \u3067\u306e\u901a\u8a71\u3092\u5c02\u7528\u56de\u7dda\u3067\u7e4b\u3052\u3089\u308c\u308b\u3088\u3046\u306a\u8a2d\u5b9a\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u56de\u7dda\u3092\u4f7f\u3046\u3053\u3068\u3067\u3069\u3046\u3057\u3066\u3082\u554f\u984c\u306b\u306a\u3063\u3066\u3044\u305f\u97f3\u8cea\u52a3\u5316\u306e\u6539\u5584\u304c\u898b\u8fbc\u3081\u307e\u3059\u3002\n[\u3010Twilio-UG \u6771\u4eac\u3011Twilio Client \u30cf\u30f3\u30ba\u30aa\u30f3\u52c9\u5f37\u4f1a](https://twiliojp-ug.doorkeeper.jp/events/55307) \u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u8cc7\u6599\u3067\u3059\u3002\n\n\u767a\u8868\u8cc7\u6599\u306f\u3053\u3061\u3089\nhttps://speakerdeck.com/honkimi/twilio-client-mian-qiang-hui\n\n## \u7b2c1\u90e8: Twilio Client \u3092\u52d5\u304b\u3059\n\u3072\u3068\u307e\u305a\u306f\u672c\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u300c\u52d5\u304f\u300d\u3068\u3044\u3046\u3068\u3053\u308d\u307e\u3067\u6301\u3063\u3066\u3044\u304f\u3053\u3068\u3092\u76ee\u6a19\u306b\u3057\u307e\u3059\u3002\n\n\u30cf\u30f3\u30ba\u30aa\u30f3\u306e\u9014\u4e2d\u3067\u3001\u4f59\u88d5\u306e\u3042\u308b\u65b9\u5411\u3051\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u89e3\u8aac\u3092\u884c\u3044\u307e\u3059\u3002\n\n\n### \u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nRuby, Node.js, PHP, Python \u306e\u3044\u305a\u308c\u304b\u306e\u5b9f\u884c\u74b0\u5883\n\nngrok (\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u5916\u90e8\u306b\u4e00\u6642\u7684\u306b\u516c\u958b\u3067\u304d\u308b\u30c4\u30fc\u30eb)\nhttps://ngrok.com/download\n\n\n### \u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u306e\u53d6\u5f97\n\n- TWILIO_ACCOUNT_SID\n- TWILIO_AUTH_TOKEN\n- TWILIO_TWIML_APP_SID\n- TWILIO_CALLER_ID:\n\nQuickStart \u3067 Client \u74b0\u5883\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nhttps://jp.twilio.com/docs/quickstart/client/javascript#download-configure-and-run-the-starter-app\n\n\u305d\u308c\u305e\u308c\u306e Github \u306e README \u3092\u8aad\u307f\u306a\u304c\u3089\u3001\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306b\u6311\u6226\u3057\u307e\u3057\u3087\u3046\uff01\n\n\u4e0a\u8a18\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5185\u306b\u3042\u308b `ngrok` \u3092\u4f7f\u3063\u3066\u3001 Twilio Client \u304b\u3089\u643a\u5e2f\u96fb\u8a71\u3078\u306e\u756a\u53f7\u767a\u4fe1\u307e\u3067\u3067\u304d\u305f\u3089\u3001\u5927\u6210\u529f\u3067\u3059\u3002\n\n## \u7740\u4fe1\u306e\u8a2d\u5b9a\nQuickStart \u3067\u756a\u53f7\u767a\u4fe1\u304c\u3067\u304d\u305f\u3089\u3001\u7740\u4fe1\u306e\u8a2d\u5b9a\u3082\u30c8\u30e9\u30a4\u3057\u307e\u3057\u3087\u3046\u3002\n\n### \u30d7\u30ed\u30b0\u30e9\u30e0\u30b3\u30fc\u30c9\u306e\u4fee\u6b63\n\u307e\u305a\u3001\u7740\u4fe1\u306e\u8a2d\u5b9a\u3092\u7c21\u5358\u306b\u3059\u308b\u305f\u3081\u306b\u5404\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u3046\u3061\u3001`identity`\u3092\u751f\u6210\u3057\u3066\u3044\u308b\u90e8\u5206\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```ruby\n  identity = Faker::Internet.user_name.gsub(/[^0-9a-z_]/i, '')\n```\n\n\ud83d\udc47\n\n```ruby\n  identity = \"twilio_user\"\n```\n\n### TwiML Bins \u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nTwiML Bins \u306f TwiML \u3092\u7c21\u5358\u306b\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u304d\u308b\u958b\u767a\u30c4\u30fc\u30eb\u3067\u3059\u3002\nhttps://jp.twilio.com/console/dev-tools/twiml-bins\n\nDual Channel Recording \u306e\u9332\u97f3\u30e2\u30fc\u30c9\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002(New)\n\n```\n<Response>\n  <Dial callerId=\"\uff0b\uff18\uff11..\u8cfc\u5165\u3057\u305f\u756a\u53f7\" record=\"record-from-answer-dual\">\n    <Client>twilio_user</Client>\n  </Dial>\n</Response>\n```\n\n\u305d\u3057\u3066\u3001\u96fb\u8a71\u756a\u53f7\u306e\u8a2d\u5b9a\u3078\u884c\u304d\u3001\u756a\u53f7\u8a73\u7d30\u30da\u30fc\u30b8\u306e `A CALL COMES IN` \u3092\u3001\u30bb\u30c3\u30c8\u3057\u305f TwiML Bins \u306b\u6307\u5b9a\u3057\u3066\u3042\u3052\u307e\u3059\u3002\nhttps://jp.twilio.com/console/phone-numbers/incoming\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-12-17 21.56.58.png](https://qiita-image-store.s3.amazonaws.com/0/11103/3db09cec-b4fc-9237-c745-12157f551ed0.png)\n\n\u4e00\u5ea6\u4fee\u6b63\u3092\u52a0\u3048\u305f\u306e\u3067 Node.js \u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n\u3053\u308c\u3060\u3051\u3067 \u8cfc\u5165\u3057\u305f\u756a\u53f7\u306b\u96fb\u8a71\u3092\u304b\u3051\u308b\u3068\u3001Client \u3067\u7740\u4fe1\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059! Twilio \u3067\u96fb\u8a71\u306e\u53d7\u767a\u4fe1\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u672c\u683c\u7684\u306b\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u516c\u958b\u3059\u308b\u306b\u306f\u3001 ngrok \u3067\u306f\u306a\u304f\u3001URL \u304c\u56fa\u5b9a\u306e Web \u30b5\u30fc\u30d0\u30fc\u3092\u7528\u610f\u3057\u3001TwiML \u306e\u6307\u5b9a\u5148\u3092\u5909\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n### \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u89e3\u8aac\n\n- \u5168\u4f53\u50cf\n- \u30b1\u30a4\u30d1\u30d3\u30ea\u30c6\u30a3\u30c8\u30fc\u30af\u30f3\u306e\u751f\u6210\n- JavaScript SDK \u306e\u5404\u7a2e\u30a4\u30d9\u30f3\u30c8\n\n\u305d\u308c\u3067\u306f\u3001\u3044\u3088\u3044\u3088 Twilio Client 1.4 \u306e\u6700\u65b0\u6a5f\u80fd\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n## \u7b2c2\u90e8: \u6700\u65b0\u306e Twilio Client \u3092\u8997\u3044\u3066\u307f\u3088\u3046\n### Twilio \u306e Insgihts \u3092\u30aa\u30f3\u306b\u3059\u308b\nhttps://jp.twilio.com/console/voice/insights/settings\n\u306b\u3066\u3001Twilio \u306e Insights \u3092\u30aa\u30f3\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u96fb\u8a71\u3054\u3068\u306b\u60c5\u5831\u306e\u8a73\u7d30\u3092\u51fa\u529b\u3057\u3066\u304f\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n### Twilio Client \u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n`public/index.html`\u306e Twilio Client \u306e\u8aad\u307f\u8fbc\u307f\u5148\u3092\u7de8\u96c6\n\n`<script type=\"text/javascript\" src=\"//media.twiliocdn.com/sdk/js/client/v1.3/twilio.min.js\"></script>`\n\ud83d\udc47\n`<script type=\"text/javascript\" src=\"//media.twiliocdn.com/sdk/js/client/v1.4/twilio.min.js\"></script>`\n\n\u3072\u3068\u307e\u305a\u3053\u308c\u3067\u901a\u8a71\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u305d\u306e\u5f8c\u3001Twilio \u306e \u96fb\u8a71\u306e\u30ed\u30b0\u3078\u884c\u304d\u3001Twilio <-> Client \u306e\u901a\u8a71\u30ed\u30b0\u3092\u958b\u304d\u307e\u3059\u3002\nhttps://jp.twilio.com/console/voice/logs/calls\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-12-17 22.33.04.png](https://qiita-image-store.s3.amazonaws.com/0/11103/d2de2bc0-d898-5bb8-3572-0981d719973b.png)\n\n\u3053\u306e\u3088\u3046\u306b\u3001Client \u3068\u901a\u8a71\u3057\u305f\u30ed\u30b0\u306b\u306f\u3001\u65b0\u3057\u304f Insights Summary, Events, Metrics \u306e3\u3064\u306e\u30bf\u30d6\u304c\u51fa\u73fe\u3057\u307e\u3059\u3002\n\n#### Insights Summary\n\u901a\u4fe1\u72b6\u6cc1\u306e\u6982\u8981\u3092\u793a\u3057\u307e\u3059\u3002\u5c02\u9580\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7528\u8a9e\u3092\u3044\u304f\u3064\u304b\u89e3\u8aac\u3057\u307e\u3059\u3002\n\n#### Events\n\u30d6\u30e9\u30a6\u30b6\u3068 Twilio \u306e\u63a5\u7d9a\u958b\u59cb\u304b\u3089\u7d42\u4e86\u307e\u3067\u306e\u5404\u7a2e\u30a4\u30d9\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\nTwilio Client \u3067\u4f7f\u308f\u308c\u3066\u3044\u308b WebRTC \u3068\u3044\u3046\u6280\u8853\u306e\u8a73\u7d30\u3067\u3059\u3002\u5c02\u9580\u7684\u306a\u5185\u5bb9\u3068\u306a\u308b\u305f\u3081\u3001\u4eca\u56de\u306e\u52c9\u5f37\u4f1a\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n#### Metrics\n\u901a\u8a71\u72b6\u6cc1\u306e\u8a73\u7d30\u306e\u30b0\u30e9\u30d5\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u901a\u8a71\u306e\u3069\u306e\u6642\u9593\u5e2f\u306b\u3069\u308c\u3060\u3051\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u72b6\u6cc1\u304c\u4f4e\u4e0b\u3057\u305f\u306e\u304b\u3001\u306a\u3069\u3092\u3088\u308a\u5177\u4f53\u7684\u306b\u95b2\u89a7\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n### \u901a\u8a71\u4e2d\u306e\u901a\u8a71\u72b6\u6cc1\u306e\u53d6\u5f97\n\nTwilio Client 1.4 \u306f\u3053\u308c\u3060\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u901a\u8a71\u4e2d\u306b\u3001\u305d\u306e\u901a\u8a71\u306e\u72b6\u6cc1\u3092\u30a4\u30d9\u30f3\u30c8\u3068\u3057\u3066\u30ad\u30e3\u30c3\u30c1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nquickstart.js \u3092\u7de8\u96c6\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```\nTwilio.Device.connect(function (conn) {\n  log('Successfully established call!');\n  document.getElementById('button-call').style.display = 'none';\n  document.getElementById('button-hangup').style.display = 'inline';\n\n  // \u4ee5\u4e0b\u3092\u8ffd\u52a0  \n  connection.on('warning', function(name) {\n    log(name + \" is occurred.\");\n  });\n  connection.on('warning-cleared'', function(name) {\n    log(name + \" is cleared.\");\n  });\n});\n```\n\n\u3053\u308c\u3067\u3001\u901a\u8a71\u4e2d\u306b\u4f55\u304b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u554f\u984c\u304c\u8d77\u304d\u305f\u969b\u306b\u3001\u30ed\u30b0\u306b\u60c5\u5831\u3092\u8ffd\u8a18\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u5b9f\u969b\u306b\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u3046\u307e\u304f\u8b66\u544a\u304c\u51fa\u305b\u308c\u3070\u3001\u901a\u8a71\u4e2d\u306b\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u308b\u3067\u3057\u3087\u3046\u3002\u305d\u308c\u305e\u308c\u306e\u8a73\u7d30\u306e\u610f\u5473\u3092\u4ee5\u4e0b\u306b\u307e\u3068\u3081\u307e\u3059\u3002\n\n- high-jitter: High jitter \u306f\u8ca7\u5f31\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u74b0\u5883\u3068\u5f37\u3044\u76f8\u95a2\u95a2\u4fc2\u306b\u3042\u308b\u3002\u30b8\u30c3\u30bf: \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u901a\u4fe1\u3067\u3001\u30c7\u30fc\u30bf\u4f1d\u9001\u306b\u304b\u304b\u308b\u6642\u9593\u304c\u4e00\u5b9a\u305b\u305a\u306b\u5230\u7740\u3059\u308b\u30c7\u30fc\u30bf\u306e\u9806\u756a\u304c\u4e71\u308c\u308b\u73fe\u8c61\n- low-mos: \u4f4e\u3044MOS \u306f \u901a\u8a71\u54c1\u8cea\u306e\u4f4e\u4e0b\u3092\u793a\u3059\u3002 MOS: \u5727\u7e2e\u306b\u3088\u308b\u97f3\u8cea\u306e\u8a55\u4fa1\u57fa\u6e96\n- constant-audio-input(output)-level: 10\u79d2\u4ee5\u4e0a\u30aa\u30fc\u30c7\u30a3\u30aa\u5165\u51fa\u529b\u30ec\u30d9\u30eb\u304c\u4e00\u5b9a\u306e\u307e\u307e\u901a\u8a71\u3055\u308c\u3066\u3044\u308b\u72b6\u6cc1\u3002\n- high-packet-loss:  \u6700\u8fd1\u306e5\u30b5\u30f3\u30d7\u30eb\u306e\u3046\u30613\u3064\u3067\u53d7\u3051\u53d6\u3063\u305f\u30d1\u30b1\u30c3\u30c8\u306e1%\u4ee5\u4e0a\u304c\u5931\u308f\u308c\u305f\u3002\u591a\u304f\u306e\u30d1\u30b1\u30c3\u30c8\u640d\u5931\u306f\u8ca7\u5f31\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u74b0\u5883\u3068\u5f37\u3044\u76f8\u95a2\u304c\u3042\u308b\u3002\n- high-rtt: \u6700\u8fd1\u306e5\u30b5\u30f3\u30d7\u30eb\u306e\u3046\u30613\u3064\u3067\u30d1\u30b1\u30c3\u30c8\u306e\u5468\u56de\u6642\u9593\u304c 400ms \u3092\u8d85\u3048\u305f\n\n### Twilio Client \u306e\u6700\u65b0\u60c5\u5831\n2016/12/20 \u30ea\u30ea\u30fc\u30b9\u306e\u6700\u65b0 Twilio Client(1.4.9) \u60c5\u5831\n\n#### \u30c7\u30d0\u30a4\u30b9\u5165\u51fa\u529b\u306e\u5207\u308a\u66ff\u3048\nTwilio Client \u3067\u306f\u3001\u97f3\u58f0\u306e\u5165\u51fa\u529b\u30c7\u30d0\u30a4\u30b9\u3092 JavaScript \u3067\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002(\u73fe\u72b6\u306f Chrome \u306e\u307f\u30b5\u30dd\u30fc\u30c8)\n\n`Twilio.Device.audio.availableInputDevices` \u3067\u5229\u7528\u53ef\u80fd\u306a\u5165\u529b\u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u3092\u914d\u5217\u3067\u53d6\u5f97\u3067\u304d\u3001 `Twilio.Device.audio.speakerDevices.set(id)` \u3067\u901a\u8a71\u4e2d\u306e\u5165\u529b\u30c7\u30d0\u30a4\u30b9\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002(\u8907\u6570\u53ef)\n`Twilio.Device.audio.ringtoneDevices.set(id)` \u3067\u7740\u4fe1\u97f3\u306e\u5165\u529b\u30c7\u30d0\u30a4\u30b9\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002(\u8907\u6570\u53ef)\n\n\u4eca\u307e\u3067\u30d1\u30bd\u30b3\u30f3\u306eOS\u306e\u8a2d\u5b9a\u3067\u3057\u304b\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001 JavaScript \u3067\u52d5\u7684\u306b\u5207\u308a\u66ff\u3048\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u7740\u4fe1\u97f3\u3060\u3051PC\u3068\u30d8\u30c3\u30c9\u30bb\u30c3\u30c8\u304b\u3089\u9cf4\u3089\u3057\u3001\u901a\u8a71\u4e2d\u306e\u97f3\u58f0\u306f\u30d8\u30c3\u30c9\u30bb\u30c3\u30c8\u306e\u307f\u6d41\u3059\u3068\u3044\u3046\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n#### \u30c7\u30d0\u30a4\u30b9\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u53d6\u5f97/\u8a2d\u5b9a\n\u73fe\u5728\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u97f3\u91cf\u306e\u5024\u3092\u53d6\u5f97/\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u4f8b\u3048\u3070\u97f3\u304c\u805e\u3053\u3048\u3065\u3089\u304b\u3063\u305f\u5834\u5408\u306b\u306f\u3001Web\u3000\u30da\u30fc\u30b8\u5185\u3067\u97f3\u91cf\u3092\u4e0a\u3052\u308b\u3088\u3046\u306a\u64cd\u4f5c\u3092\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n#### Client \u306e\u767a\u7740\u4fe1\u97f3\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\n\u7740\u4fe1\u97f3\u306a\u3069\u306e Twilio \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u97f3\u58f0\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u7740\u4fe1\u97f3\u3001\u767a\u4fe1\u97f3\u3001DTMF\u9001\u4fe1\u306a\u3069\u306e\u6642\u306e\u97f3\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n```javascript\nTwilio.Device.setup(token, {\n  sounds: {\n    incoming: 'http://mysite.com/incoming.mp3',\n    outgoing: 'http://mysite.com/outgoing.mp3',\n    dtmf8: 'http://mysite.com/funny_noise.mp3'\n  }\n}\n```\n\n#### Twilio Interconnect for Twilio Client\n\u3053\u308c\u306f\u73fe\u5728 US \u30ea\u30fc\u30b8\u30e7\u30f3\u9650\u5b9a\u3067\u3059\u304c\u3001Twilio Client \u3067\u306e\u901a\u8a71\u3092\u5c02\u7528\u56de\u7dda\u3067\u7e4b\u3052\u3089\u308c\u308b\u3088\u3046\u306a\u8a2d\u5b9a\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u56de\u7dda\u3092\u4f7f\u3046\u3053\u3068\u3067\u3069\u3046\u3057\u3066\u3082\u554f\u984c\u306b\u306a\u3063\u3066\u3044\u305f\u97f3\u8cea\u52a3\u5316\u306e\u6539\u5584\u304c\u898b\u8fbc\u3081\u307e\u3059\u3002\n", "tags": ["twilio"]}