{"context": "\u4eca\u56de\u306fSolidity\u3092\u7528\u3044\u305f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u4f5c\u308a\u65b9\u306b\u3064\u3044\u3066\u8aac\u660e\u81f4\u3057\u307e\u3059\u3002\n\u958b\u767a\u74b0\u5883\nOS : OSX 10.11.4\n\nEthereum\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nEthereum\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u65b9\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nConsole\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u3051\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\nbash <(curl https://install-geth.ethereum.org -L)\n\n\u305d\u306e\u4ed6\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nEthereum\u7acb\u3061\u4e0a\u3052\n\u7d9a\u3044\u3066Ethereum\u3092\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3057\u3087\u3046\u3002\u4eca\u56de\u306f\u30c6\u30b9\u30c8\u7528\u306b\u4f7f\u3046\u305f\u3081\u3001Private_net\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\ngeth --networkid \"11\"  --datadir \"path_to_directory\" --genesis \"path_to_genesisjson\" console\n\n--networkid\uff1anetworkID\u3092\u6307\u5b9a\u3057\u307e\u3059\u30021,2,3\u4ee5\u5916\u306e\u6570\u5b57\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\n--genesis\u3000\uff1agenesis block\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n--datadir\u3000\uff1adatabase\u306e\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nconsole\u3000\u3000\uff1aconsole\u3092\u958b\u304f\u305f\u3081\u306b\u5fc5\u8981\u3067\u3059\u3002\ngeth command line options\n\n\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u4f5c\u6210\n\u65e9\u901f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3092\u8a18\u8ff0\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u8a00\u8a9e\u306fSolidity\u3092\u4f7f\u3044\u307e\u3059\u3002\n(\u4e8b\u524d\u306bsolidity\u30b3\u30f3\u30d1\u30a4\u30e9(solc)\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3055\u308c\u3066\u306a\u3044\u5834\u5408\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u306b\u6cbf\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002)\n\u30a8\u30c7\u30a3\u30bf\u3067\u6b21\u306e\u3088\u3046\u306a\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3092\u8a18\u8ff0\u3057\u307e\u3057\u3087\u3046\u3002\u3053\u308c\u306fEthereum\u4e0a\u306b\u72ec\u81ea\u306e\u30b3\u30a4\u30f3\u3092\u4f5c\u308b\u305f\u3081\u306e\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3067\u3059\u3002\n\ntoken.sol\ncontract token { \n    mapping (address => uint) public coinBalanceOf;\n    event CoinTransfer(address sender, address receiver, uint amount);\n\n  /* Contract\u521d\u671f\u5316\u306e\u305f\u3081\u306e\u95a2\u6570\u3002contract\u540d\u3068\u540c\u3058\u306b\u3059\u308b */\n  function token(uint supply) {\n        coinBalanceOf[msg.sender] = supply;\n    }\n\n  /* \u30b3\u30a4\u30f3\u3092\u9001\u308b\u305f\u3081\u306e\u95a2\u6570 */\n    function sendCoin(address receiver, uint amount) returns(bool sufficient) {\n        if (coinBalanceOf[msg.sender] < amount) return false;\n        coinBalanceOf[msg.sender] -= amount;\n        coinBalanceOf[receiver] += amount;\n        CoinTransfer(msg.sender, receiver, amount);\n        return true;\n    }\n}\n\n\n\u3053\u306e\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u304b\u3089\u6539\u884c\u3092\u524a\u9664\u3057\u307e\u3059\u3002\u30c6\u30ad\u30b9\u30c8\u304b\u3089\u6539\u884c\u3092\u524a\u9664\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\ntoken_one_line.sol\ncontract token {    mapping (address => uint) public coinBalanceOf;    event CoinTransfer(address sender, address receiver, uint amount);  /* Contract\u521d\u671f\u5316\u306e\u305f\u3081\u306e\u95a2\u6570\u3002contract\u540d\u3068\u540c\u3058\u306b\u3059\u308b */  function token(uint supply) {        coinBalanceOf[msg.sender] = supply;    }  /* \u30b3\u30a4\u30f3\u3092\u9001\u308b\u305f\u3081\u306e\u95a2\u6570 */    function sendCoin(address receiver, uint amount) returns(bool sufficient) {        if (coinBalanceOf[msg.sender] < amount) return false;        coinBalanceOf[msg.sender] -= amount;        coinBalanceOf[receiver] += amount;        CoinTransfer(msg.sender, receiver, amount);        return true;    }}\n\n\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\n\u7d9a\u3044\u3066\u3001solc\u3092\u7528\u3044\u3066\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n> var source = \"contract token {    mapping (address => uint) public coinBalanceOf;    event CoinTransfer(address sender, address receiver, uint amount);  /* Contract\u521d\u671f\u5316\u306e\u305f\u3081\u306e\u95a2\u6570\u3002contract\u540d\u3068\u540c\u3058\u306b\u3059\u308b */  function token(uint supply) {        coinBalanceOf[msg.sender] = supply;    }  /* \u30b3\u30a4\u30f3\u3092\u9001\u308b\u305f\u3081\u306e\u95a2\u6570 */    function sendCoin(address receiver, uint amount) returns(bool sufficient) {        if (coinBalanceOf[msg.sender] < amount) return false;        coinBalanceOf[msg.sender] -= amount;        coinBalanceOf[receiver] += amount;        CoinTransfer(msg.sender, receiver, amount);        return true;    }}\"\n> var compiledSource = eth.compile.solidity(source)\n\n\u3053\u308c\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u7d9a\u3044\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u30b3\u30fc\u30c9\u3092Ethereum\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\n> var abiDefinition = compiledSource.token.info.abiDefinition\n> var compiledContract = eth.contract(abiDefinition)\n> var supply = 10000\n> var contract = compiledContract.new(supply, {from:eth.accounts[0], data: compiledSource.token.code, gas:1000000})\n\n\u3053\u308c\u3067\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u306e\u9001\u4fe1\u306f\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u307e\u3060\u30de\u30a4\u30cb\u30f3\u30b0\u306f\u884c\u308f\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u3053\u306e\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306f\u627f\u8a8d\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081address\u3082\u307e\u3060\u672a\u5b9a\u3067\u3059\u3002\n> contract\n{\n  address: undefined,\n  transactionHash: \"0x09b7b27e8d948b601ef1dd0548c7d33604c2fc7b8ee31d7d8e637f66da302a69\"\n}\n\n\u30de\u30a4\u30cb\u30f3\u30b0\u304c\u5b8c\u4e86\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306baddress\u304c\u4ed8\u4e0e\u3055\u308c\u307e\u3059\u3002\n> contract\n{\n  address: \"0xb4ffc81cb032941a6cfd29f1f1817dc76413fae6\",\n  transactionHash: \"0x09b7b27e8d948b601ef1dd0548c7d33604c2fc7b8ee31d7d8e637f66da302a69\",\n  CoinTransfer: function(),\n  allEvents: function(),\n  coinBalanceOf: function(),\n  sendCoin: function()\n}\n\n\n\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u7528\u3044\u308b\n\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4ee5\u4e0b\u306esendCoin\u30e1\u30bd\u30c3\u30c9\u306f\u5f15\u6570\u30922\u3064\u3068\u308a\u307e\u3059\u30021\u3064\u76ee\u306f\u53d7\u53d6\u4e3b\u30012\u3064\u76ee\u306f\u9001\u91d1\u984d\u3067\u3059\u3002\n> contract.sendCoin.sendTransaction(eth.accounts[1], 1000, {from: eth.accounts[0]})\nI0511 22:09:00.939817    8397 xeth.go:1028] Tx(0xcd1003befe323aa1cdaee4e81e032b07cfe70fffc33400f46d033dc86cf4c4a1) to: 0xb4ffc81cb032941a6cfd29f1f1817dc76413fae6\n\"0xcd1003befe323aa1cdaee4e81e032b07cfe70fffc33400f46d033dc86cf4c4a1\"\n\n\u30e1\u30bd\u30c3\u30c9\u304c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u9001\u4fe1\u3055\u308c\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u307e\u3060\u30de\u30a4\u30cb\u30f3\u30b0\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001eth.accounts[0]\u306e\u6b8b\u9ad8\u306f10,000\u3001eth.accounts[1]\u306e\u6b8b\u9ad8\u306f0\u306e\u307e\u307e\u3067\u3059\u3002\n> contract.coinBalanceOf(eth.accounts[0])\n10000\n> contract.coinBalanceOf(eth.accounts[1])\n0\n\n\u30de\u30a4\u30cb\u30f3\u30b0\u3092\u884c\u3044\u307e\u3059\u3002\u3059\u308b\u3068\u6b8b\u9ad8\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u5316\u3057\u307e\u3059\u3002\n> contract.coinBalanceOf(eth.accounts[0])\n9000\n> contract.coinBalanceOf(eth.accounts[1])\n1000\n\n\u4ee5\u4e0a\u304c\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u5185\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u547c\u3073\u51fa\u3057\u65b9\u3067\u3059\u3002\n\n\u5916\u90e8\u304b\u3089\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\n\u7b2c\u4e09\u8005\u304c\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306fAbiDefinition\u3068address\u304c\u5fc5\u8981\u3067\u3059\u3002\u4eca\u56de\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n> abiDefinition \n[{\n    constant: false,\n    inputs: [{\n        name: \"receiver\",\n        type: \"address\"\n    }, {\n        name: \"amount\",\n        type: \"uint256\"\n    }],\n    name: \"sendCoin\",\n    outputs: [{\n        name: \"sufficient\",\n        type: \"bool\"\n    }],\n    type: \"function\"\n}, {\n    constant: true,\n    inputs: [{\n        name: \"\",\n        type: \"address\"\n    }],\n    name: \"coinBalanceOf\",\n    outputs: [{\n        name: \"\",\n        type: \"uint256\"\n    }],\n    type: \"function\"\n}, {\n    inputs: [{\n        name: \"supply\",\n        type: \"uint256\"\n    }],\n    type: \"constructor\"\n}, {\n    anonymous: false,\n    inputs: [{\n        indexed: false,\n        name: \"sender\",\n        type: \"address\"\n    }, {\n        indexed: false,\n        name: \"receiver\",\n        type: \"address\"\n    }, {\n        indexed: false,\n        name: \"amount\",\n        type: \"uint256\"\n    }],\n    name: \"CoinTransfer\",\n    type: \"event\"\n}]\n\n> contract.address\n\"0xb4ffc81cb032941a6cfd29f1f1817dc76413fae6\"\n\n\u4e0a\u8a18\u306e\u30c7\u30fc\u30bf\u3092\u7528\u3044\u3066\u3001\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5909\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n> var theContract = eth.contract(abiDefinition).at(contract.address)\n> theContract\n{\n  address: \"0xb4ffc81cb032941a6cfd29f1f1817dc76413fae6\",\n  CoinTransfer: function(),\n  allEvents: function(),\n  coinBalanceOf: function(),\n  sendCoin: function()\n}\n\n\u3053\u308c\u3067\u7b2c\u4e09\u8005\u304c\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u307e\u3068\u3081\n\u4ee5\u4e0aSolidity\u3092\u4f7f\u3063\u305f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u4f5c\u6210\u65b9\u6cd5\u3067\u3057\u305f\u3002\u6b21\u56de\u306fSolidity\u3092\u7528\u3044\u305f\u30c7\u30ea\u30d0\u30c6\u30a3\u30d6\u306e\u5b9f\u88c5\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3054\u8aac\u660e\u81f4\u3057\u307e\u3059\u3002\n\n\u53c2\u8003\u8a18\u4e8b\nhttps://ethereum.gitbooks.io/frontier-guide/content/ether_transfer.html\nhttp://book.ethereum-jp.net/first_use/contract.html\nhttps://solidity.readthedocs.io/en/latest/index.html\nhttp://linux.just4fun.biz/%E9%80%86%E5%BC%95%E3%81%8DUNIX%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89/%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E6%94%B9%E8%A1%8C%E3%82%92%E5%89%8A%E9%99%A4%E3%81%99%E3%82%8B.html\n\u4eca\u56de\u306fSolidity\u3092\u7528\u3044\u305f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u4f5c\u308a\u65b9\u306b\u3064\u3044\u3066\u8aac\u660e\u81f4\u3057\u307e\u3059\u3002\n\n\u958b\u767a\u74b0\u5883\nOS : OSX 10.11.4\n\n## Ethereum\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nEthereum\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u65b9\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nConsole\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u3051\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\n````\nbash <(curl https://install-geth.ethereum.org -L)\n```\n\u305d\u306e\u4ed6\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f[\u3053\u3061\u3089](https://github.com/ethereum/go-ethereum/wiki/Building-Ethereum)\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## Ethereum\u7acb\u3061\u4e0a\u3052\n\u7d9a\u3044\u3066Ethereum\u3092\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3057\u3087\u3046\u3002\u4eca\u56de\u306f\u30c6\u30b9\u30c8\u7528\u306b\u4f7f\u3046\u305f\u3081\u3001Private_net\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\n\n```\ngeth --networkid \"11\"  --datadir \"path_to_directory\" --genesis \"path_to_genesisjson\" console\n```\n\n`--networkid`\uff1anetworkID\u3092\u6307\u5b9a\u3057\u307e\u3059\u30021,2,3\u4ee5\u5916\u306e\u6570\u5b57\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\n`--genesis`\u3000\uff1agenesis block\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n`--datadir`\u3000\uff1adatabase\u306e\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n`console`\u3000\u3000\uff1aconsole\u3092\u958b\u304f\u305f\u3081\u306b\u5fc5\u8981\u3067\u3059\u3002\n\n[geth command line options](https://github.com/ethereum/go-ethereum/wiki/Command-Line-Options)\n\n## \u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u4f5c\u6210\n\u65e9\u901f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3092\u8a18\u8ff0\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u8a00\u8a9e\u306fSolidity\u3092\u4f7f\u3044\u307e\u3059\u3002\n(\u4e8b\u524d\u306bsolidity\u30b3\u30f3\u30d1\u30a4\u30e9(solc)\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3055\u308c\u3066\u306a\u3044\u5834\u5408\u306f[\u3053\u3061\u3089\u306e\u8a18\u4e8b](http://book.ethereum-jp.net/first_use/contract.html)\u306b\u6cbf\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002)\n\n\u30a8\u30c7\u30a3\u30bf\u3067\u6b21\u306e\u3088\u3046\u306a\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3092\u8a18\u8ff0\u3057\u307e\u3057\u3087\u3046\u3002\u3053\u308c\u306fEthereum\u4e0a\u306b\u72ec\u81ea\u306e\u30b3\u30a4\u30f3\u3092\u4f5c\u308b\u305f\u3081\u306e\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3067\u3059\u3002\n\n```token.sol\ncontract token { \n    mapping (address => uint) public coinBalanceOf;\n    event CoinTransfer(address sender, address receiver, uint amount);\n\n  /* Contract\u521d\u671f\u5316\u306e\u305f\u3081\u306e\u95a2\u6570\u3002contract\u540d\u3068\u540c\u3058\u306b\u3059\u308b */\n  function token(uint supply) {\n        coinBalanceOf[msg.sender] = supply;\n    }\n\n  /* \u30b3\u30a4\u30f3\u3092\u9001\u308b\u305f\u3081\u306e\u95a2\u6570 */\n    function sendCoin(address receiver, uint amount) returns(bool sufficient) {\n        if (coinBalanceOf[msg.sender] < amount) return false;\n        coinBalanceOf[msg.sender] -= amount;\n        coinBalanceOf[receiver] += amount;\n        CoinTransfer(msg.sender, receiver, amount);\n        return true;\n    }\n}\n```\n\n\u3053\u306e\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u304b\u3089\u6539\u884c\u3092\u524a\u9664\u3057\u307e\u3059\u3002\u30c6\u30ad\u30b9\u30c8\u304b\u3089\u6539\u884c\u3092\u524a\u9664\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f[\u3053\u3061\u3089\u306e\u8a18\u4e8b](http://linux.just4fun.biz/%E9%80%86%E5%BC%95%E3%81%8DUNIX%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89/%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E6%94%B9%E8%A1%8C%E3%82%92%E5%89%8A%E9%99%A4%E3%81%99%E3%82%8B.html)\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```token_one_line.sol\ncontract token {    mapping (address => uint) public coinBalanceOf;    event CoinTransfer(address sender, address receiver, uint amount);  /* Contract\u521d\u671f\u5316\u306e\u305f\u3081\u306e\u95a2\u6570\u3002contract\u540d\u3068\u540c\u3058\u306b\u3059\u308b */  function token(uint supply) {        coinBalanceOf[msg.sender] = supply;    }  /* \u30b3\u30a4\u30f3\u3092\u9001\u308b\u305f\u3081\u306e\u95a2\u6570 */    function sendCoin(address receiver, uint amount) returns(bool sufficient) {        if (coinBalanceOf[msg.sender] < amount) return false;        coinBalanceOf[msg.sender] -= amount;        coinBalanceOf[receiver] += amount;        CoinTransfer(msg.sender, receiver, amount);        return true;    }}\n```\n\n### \u30b3\u30f3\u30d1\u30a4\u30eb\n\u7d9a\u3044\u3066\u3001`solc`\u3092\u7528\u3044\u3066\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n\n```\n> var source = \"contract token {    mapping (address => uint) public coinBalanceOf;    event CoinTransfer(address sender, address receiver, uint amount);  /* Contract\u521d\u671f\u5316\u306e\u305f\u3081\u306e\u95a2\u6570\u3002contract\u540d\u3068\u540c\u3058\u306b\u3059\u308b */  function token(uint supply) {        coinBalanceOf[msg.sender] = supply;    }  /* \u30b3\u30a4\u30f3\u3092\u9001\u308b\u305f\u3081\u306e\u95a2\u6570 */    function sendCoin(address receiver, uint amount) returns(bool sufficient) {        if (coinBalanceOf[msg.sender] < amount) return false;        coinBalanceOf[msg.sender] -= amount;        coinBalanceOf[receiver] += amount;        CoinTransfer(msg.sender, receiver, amount);        return true;    }}\"\n> var compiledSource = eth.compile.solidity(source)\n```\n\n\u3053\u308c\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u7d9a\u3044\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u30b3\u30fc\u30c9\u3092Ethereum\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\n\n```\n> var abiDefinition = compiledSource.token.info.abiDefinition\n> var compiledContract = eth.contract(abiDefinition)\n> var supply = 10000\n> var contract = compiledContract.new(supply, {from:eth.accounts[0], data: compiledSource.token.code, gas:1000000})\n```\n\n\u3053\u308c\u3067\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u306e\u9001\u4fe1\u306f\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u307e\u3060\u30de\u30a4\u30cb\u30f3\u30b0\u306f\u884c\u308f\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u3053\u306e\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306f\u627f\u8a8d\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081address\u3082\u307e\u3060\u672a\u5b9a\u3067\u3059\u3002\n\n```\n> contract\n{\n  address: undefined,\n  transactionHash: \"0x09b7b27e8d948b601ef1dd0548c7d33604c2fc7b8ee31d7d8e637f66da302a69\"\n}\n```\n\n\u30de\u30a4\u30cb\u30f3\u30b0\u304c\u5b8c\u4e86\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306baddress\u304c\u4ed8\u4e0e\u3055\u308c\u307e\u3059\u3002\n\n```\n> contract\n{\n  address: \"0xb4ffc81cb032941a6cfd29f1f1817dc76413fae6\",\n  transactionHash: \"0x09b7b27e8d948b601ef1dd0548c7d33604c2fc7b8ee31d7d8e637f66da302a69\",\n  CoinTransfer: function(),\n  allEvents: function(),\n  coinBalanceOf: function(),\n  sendCoin: function()\n}\n```\n\n### \u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u7528\u3044\u308b\n\n\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4ee5\u4e0b\u306esendCoin\u30e1\u30bd\u30c3\u30c9\u306f\u5f15\u6570\u30922\u3064\u3068\u308a\u307e\u3059\u30021\u3064\u76ee\u306f\u53d7\u53d6\u4e3b\u30012\u3064\u76ee\u306f\u9001\u91d1\u984d\u3067\u3059\u3002\n\n```\n> contract.sendCoin.sendTransaction(eth.accounts[1], 1000, {from: eth.accounts[0]})\nI0511 22:09:00.939817    8397 xeth.go:1028] Tx(0xcd1003befe323aa1cdaee4e81e032b07cfe70fffc33400f46d033dc86cf4c4a1) to: 0xb4ffc81cb032941a6cfd29f1f1817dc76413fae6\n\"0xcd1003befe323aa1cdaee4e81e032b07cfe70fffc33400f46d033dc86cf4c4a1\"\n```\n\n\u30e1\u30bd\u30c3\u30c9\u304c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u9001\u4fe1\u3055\u308c\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u307e\u3060\u30de\u30a4\u30cb\u30f3\u30b0\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001eth.accounts[0]\u306e\u6b8b\u9ad8\u306f10,000\u3001eth.accounts[1]\u306e\u6b8b\u9ad8\u306f0\u306e\u307e\u307e\u3067\u3059\u3002\n\n```\n> contract.coinBalanceOf(eth.accounts[0])\n10000\n> contract.coinBalanceOf(eth.accounts[1])\n0\n```\n\n\u30de\u30a4\u30cb\u30f3\u30b0\u3092\u884c\u3044\u307e\u3059\u3002\u3059\u308b\u3068\u6b8b\u9ad8\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u5316\u3057\u307e\u3059\u3002\n\n```\n> contract.coinBalanceOf(eth.accounts[0])\n9000\n> contract.coinBalanceOf(eth.accounts[1])\n1000\n```\n\n\u4ee5\u4e0a\u304c\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u5185\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u547c\u3073\u51fa\u3057\u65b9\u3067\u3059\u3002\n\n### \u5916\u90e8\u304b\u3089\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\n\n\u7b2c\u4e09\u8005\u304c\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f`AbiDefinition`\u3068`address`\u304c\u5fc5\u8981\u3067\u3059\u3002\u4eca\u56de\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n> abiDefinition \n[{\n    constant: false,\n    inputs: [{\n        name: \"receiver\",\n        type: \"address\"\n    }, {\n        name: \"amount\",\n        type: \"uint256\"\n    }],\n    name: \"sendCoin\",\n    outputs: [{\n        name: \"sufficient\",\n        type: \"bool\"\n    }],\n    type: \"function\"\n}, {\n    constant: true,\n    inputs: [{\n        name: \"\",\n        type: \"address\"\n    }],\n    name: \"coinBalanceOf\",\n    outputs: [{\n        name: \"\",\n        type: \"uint256\"\n    }],\n    type: \"function\"\n}, {\n    inputs: [{\n        name: \"supply\",\n        type: \"uint256\"\n    }],\n    type: \"constructor\"\n}, {\n    anonymous: false,\n    inputs: [{\n        indexed: false,\n        name: \"sender\",\n        type: \"address\"\n    }, {\n        indexed: false,\n        name: \"receiver\",\n        type: \"address\"\n    }, {\n        indexed: false,\n        name: \"amount\",\n        type: \"uint256\"\n    }],\n    name: \"CoinTransfer\",\n    type: \"event\"\n}]\n```\n\n```\n> contract.address\n\"0xb4ffc81cb032941a6cfd29f1f1817dc76413fae6\"\n```\n\n\u4e0a\u8a18\u306e\u30c7\u30fc\u30bf\u3092\u7528\u3044\u3066\u3001\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5909\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n```\n> var theContract = eth.contract(abiDefinition).at(contract.address)\n> theContract\n{\n  address: \"0xb4ffc81cb032941a6cfd29f1f1817dc76413fae6\",\n  CoinTransfer: function(),\n  allEvents: function(),\n  coinBalanceOf: function(),\n  sendCoin: function()\n}\n```\n\n\u3053\u308c\u3067\u7b2c\u4e09\u8005\u304c\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n### \u307e\u3068\u3081\n\u4ee5\u4e0aSolidity\u3092\u4f7f\u3063\u305f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u4f5c\u6210\u65b9\u6cd5\u3067\u3057\u305f\u3002\u6b21\u56de\u306fSolidity\u3092\u7528\u3044\u305f\u30c7\u30ea\u30d0\u30c6\u30a3\u30d6\u306e\u5b9f\u88c5\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3054\u8aac\u660e\u81f4\u3057\u307e\u3059\u3002\n\n\n### \u53c2\u8003\u8a18\u4e8b\nhttps://ethereum.gitbooks.io/frontier-guide/content/ether_transfer.html\nhttp://book.ethereum-jp.net/first_use/contract.html\nhttps://solidity.readthedocs.io/en/latest/index.html\nhttp://linux.just4fun.biz/%E9%80%86%E5%BC%95%E3%81%8DUNIX%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89/%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E6%94%B9%E8%A1%8C%E3%82%92%E5%89%8A%E9%99%A4%E3%81%99%E3%82%8B.html\n", "tags": ["Ethereum", "solidity"]}