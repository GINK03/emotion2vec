{"context": " More than 1 year has passed since last update.Typescript 1.6\u304b\u3089 React\u3000\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3057\u305f\u3002\u3000\u3000\nredux\u304c\u6700\u8fd1\u6ce8\u76ee\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4ee5\u524d\u306f fluxxor\u3092\u4f7f\u7528\u3057\u3066\u3000React.js, Flux, CofeeScript\u3067\u8a66\u4f5c\u3057\u305f\u30e1\u30e2\u306e\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u304c\u3001\u3000\u3000\nDispacher\u306e\u3042\u305f\u308a\u304c\u5197\u9577\u306b\u611f\u3058\u3066\u3044\u307e\u3057\u305f\u3002\nredux\u306f\u3001\u7279\u306b\u3000reducer\u304c\u30c6\u30b9\u30c8\u3057\u6613\u3044\u306e\u3067\u3001\u5927\u5909\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001\u4e0b\u8a18\u306e\u69d8\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u7528\u305b\u305a\u3000\u6a5f\u80fd\u3092\u958b\u767a\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\nredux\u306e Store\u6a5f\u80fd\u306f\u3001React\u306eTop Component\u306estate\u3092\u305d\u306e\u307e\u307e\u4f7f\u7528\u3059\u308b\u3002\nDispacher\u306b\u8907\u6570\u306ereducer\u3092\u767b\u9332\u3059\u308b\u3068\u3001state\u304c\u5909\u308f\u308b\u307e\u3067\u9806\u6b21\u51e6\u7406\u3055\u308c\u308b\u3002\nState\u306e\u53d6\u5f97\u3001Dispach\u306e\u5bb9\u6613\u3055\u3092\u8003\u3048\u3001Top Component\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092Global\u5909\u6570\u306b\u8a2d\u5b9a\u3059\u308b\u3002\u3000\u3000\n\u5177\u4f53\u7684\u306b\u306f\u4eca\u56de\u306e\u4f8b\u3067\u306f\u3001$w.app\u304cTop Component, $w.dispatcher \u304cDispacher\u306a\u3069\u3002\n\nHeroku\u3067\u5b9f\u969b\u306b\u52d5\u304f\u6240\u304c\u898b\u308c\u307e\u3059\u3002http://typeredux.herokuapp.com/\n\u305d\u308c\u3067\u306f\u3000ToDo\u3000\u30a2\u30d7\u30ea\u3092\u898b\u3066\u307f\u307e\u3059\u3002\nState\u306e\u521d\u671f\u5024\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\n\nmain.tsx\n    state: any =\n    {\n        todoList:[],\n        newItem:{\n            description:\"\"\n        }\n    };\n\n\n\u4f8b\u3048\u3070\u3001input\u306e onChange \u30a4\u30d9\u30f3\u30c8\u306e\u51e6\u7406\u306f\u3001name\u5c5e\u6027\u306b\u3001state\u306ePath\u3092 #\u3000\u533a\u5207\u308a\u3067\u4e0b\u8a18\u306e\u69d8\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002\n  <input type=\"text\" placeholder=\"input new item\" \n     name=\"newItem#description\"\n     value={this.state.newItem.description} onChange={$w.onChange} />\n\n$w.onChange\u306f\u3001\u4e0b\u8a18\u306eCode\u3067\u3059\u3002\n\ncommon.ts\n$w.onChange = (e: any) => {\n    var action =cmn_set_value(\n        e.target.name.split(\"#\"),\n         e.target.value)\n    $w.dispatcher.dispatch(action)\n}\n\n\naction \u306e\u3000cmn_set_value\u306f\u3001\n\ncommon.ts\nexport function cmn_set_value(keys:string[],value:any):any{\n    var action = {\n        type: CMN_SET_VALUE,\n        keys: keys,\n        value: value\n    }\n    return action;\n}\n\n\nreducer\u306eSample\n\ncommon.ts\n  export function CMN_Reducer(state: any, action: any) {\n    switch (action.type) {\n        case CMN_SET_VALUE:\n            return Immutable.fromJS(state).updateIn(\n                action.keys, (value) => action.value).toJS()\n                default:\n            return state;\n    }\n  }\n\n\ndispatcher\u306f\n\ncommon.ts\nexport class Dispatcher {\n    reducers: any;\n    constructor(reducers) {\n        this.reducers = reducers;\n    }\n\n    dispatch(action: any) {\n        var state = $w.app.state;\n        for (var no in this.reducers) {\n            var newState = this.reducers[no](state, action);\n            if (state !== newState) {\n                $w.app.setState(newState);\n                return;\n            }\n        }\n        return;\n    }\n}\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u3001https://github.com/mikeshimura/typeredux\u3067\u898b\u3089\u308c\u307e\u3059\u3002\nTypescript 1.6\u304b\u3089 React\u3000\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3057\u305f\u3002\u3000\u3000\n\nredux\u304c\u6700\u8fd1\u6ce8\u76ee\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4ee5\u524d\u306f fluxxor\u3092\u4f7f\u7528\u3057\u3066\u3000[React.js, Flux, CofeeScript\u3067\u8a66\u4f5c\u3057\u305f\u30e1\u30e2](http://qiita.com/mikeshimura/items/ccc225f2fc64f20fe656)\u306e\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u304c\u3001\u3000\u3000\nDispacher\u306e\u3042\u305f\u308a\u304c\u5197\u9577\u306b\u611f\u3058\u3066\u3044\u307e\u3057\u305f\u3002\n\nredux\u306f\u3001\u7279\u306b\u3000reducer\u304c\u30c6\u30b9\u30c8\u3057\u6613\u3044\u306e\u3067\u3001\u5927\u5909\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4eca\u56de\u306f\u3001\u4e0b\u8a18\u306e\u69d8\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u7528\u305b\u305a\u3000\u6a5f\u80fd\u3092\u958b\u767a\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n* redux\u306e Store\u6a5f\u80fd\u306f\u3001React\u306eTop Component\u306estate\u3092\u305d\u306e\u307e\u307e\u4f7f\u7528\u3059\u308b\u3002\n* Dispacher\u306b\u8907\u6570\u306ereducer\u3092\u767b\u9332\u3059\u308b\u3068\u3001state\u304c\u5909\u308f\u308b\u307e\u3067\u9806\u6b21\u51e6\u7406\u3055\u308c\u308b\u3002\n* State\u306e\u53d6\u5f97\u3001Dispach\u306e\u5bb9\u6613\u3055\u3092\u8003\u3048\u3001Top Component\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092Global\u5909\u6570\u306b\u8a2d\u5b9a\u3059\u308b\u3002\u3000\u3000\n* \u5177\u4f53\u7684\u306b\u306f\u4eca\u56de\u306e\u4f8b\u3067\u306f\u3001$w.app\u304cTop Component, $w.dispatcher \u304cDispacher\u306a\u3069\u3002\n\nHeroku\u3067\u5b9f\u969b\u306b\u52d5\u304f\u6240\u304c\u898b\u308c\u307e\u3059\u3002[http://typeredux.herokuapp.com/](http://typeredux.herokuapp.com/)\n\n\u305d\u308c\u3067\u306f\u3000ToDo\u3000\u30a2\u30d7\u30ea\u3092\u898b\u3066\u307f\u307e\u3059\u3002\nState\u306e\u521d\u671f\u5024\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\n\n```js:main.tsx\n    state: any =\n    {\n        todoList:[],\n        newItem:{\n            description:\"\"\n        }\n    };\n```\n\n\u4f8b\u3048\u3070\u3001input\u306e onChange \u30a4\u30d9\u30f3\u30c8\u306e\u51e6\u7406\u306f\u3001name\u5c5e\u6027\u306b\u3001state\u306ePath\u3092 #\u3000\u533a\u5207\u308a\u3067\u4e0b\u8a18\u306e\u69d8\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```html\n  <input type=\"text\" placeholder=\"input new item\" \n     name=\"newItem#description\"\n     value={this.state.newItem.description} onChange={$w.onChange} />\n```\n$w.onChange\u306f\u3001\u4e0b\u8a18\u306eCode\u3067\u3059\u3002\n\n```js:common.ts\n$w.onChange = (e: any) => {\n    var action =cmn_set_value(\n        e.target.name.split(\"#\"),\n         e.target.value)\n    $w.dispatcher.dispatch(action)\n}\n```\naction \u306e\u3000cmn_set_value\u306f\u3001\n\n```js:common.ts\nexport function cmn_set_value(keys:string[],value:any):any{\n    var action = {\n        type: CMN_SET_VALUE,\n        keys: keys,\n        value: value\n    }\n    return action;\n}\n```\n\nreducer\u306eSample\n\n```js:common.ts\n  export function CMN_Reducer(state: any, action: any) {\n    switch (action.type) {\n        case CMN_SET_VALUE:\n            return Immutable.fromJS(state).updateIn(\n                action.keys, (value) => action.value).toJS()\n                default:\n            return state;\n    }\n  }\n```\n\ndispatcher\u306f\n\n```js:common.ts\nexport class Dispatcher {\n    reducers: any;\n    constructor(reducers) {\n        this.reducers = reducers;\n    }\n\n    dispatch(action: any) {\n        var state = $w.app.state;\n        for (var no in this.reducers) {\n            var newState = this.reducers[no](state, action);\n            if (state !== newState) {\n                $w.app.setState(newState);\n                return;\n            }\n        }\n        return;\n    }\n}\n```\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u3001[https://github.com/mikeshimura/typeredux](https://github.com/mikeshimura/typeredux)\u3067\u898b\u3089\u308c\u307e\u3059\u3002\n", "tags": ["TypeScript", "reactjs", "redux", "JavaScript"]}