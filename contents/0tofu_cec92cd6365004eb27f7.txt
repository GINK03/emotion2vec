{"context": " More than 1 year has passed since last update.=======\n\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306f\u4ee5\u4e0b\u306e\u901a\u308a\n+ project_root/\n  + vendor/             // gem\u7ba1\u7406\u7528\n    - bundle/\n  + config/\n    - database.yml      // DB\u60c5\u5831\u7ba1\u7406\n  + db/\n    + migrate/\n      -                     // \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\n    - development.db        // SQLite3\u30c6\u30b9\u30c8DB\n  + views/                  // \u30d3\u30e5\u30fc\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n    - index.erb\n  - Gemfile\n  - Procfile                // foreman\u8a2d\u5b9a\u7528\u30d5\u30a1\u30a4\u30eb\n  - Rakefile                //  rake\u8a2d\u5b9a\u7528\u30d5\u30a1\u30a4\u30eb\n  - config.ru               //  Rack\u8a2d\u5b9a\u7528\u30d5\u30a1\u30a4\u30eb\n  - main.rb             // \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n\n\nBundler\u306b\u3088\u308bgem\u7ba1\u7406\nGemfile\u306e\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u901a\u308a\nsource \"https://rubygems.org\"\nruby \"2.1.3\"\n\ngem \"sinatra\"\ngem \"activerecord\"\ngem \"sinatra-activerecord\", :require => \"sinatra/activerecord\"\ngem \"rake\"\n\ngroup :production do\n  gem \"pg\"\nend\n\ngroup :development, :test do\n  gem \"sqlite3\"\n  gem \"sinatra-reloader\"\n  gem \"foreman\"\nend\n\n\u5404\u7a2egem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb *\u30ed\u30fc\u30ab\u30eb\u306fpg\u306f\u4e0d\u8981\u306a\u306e\u3067\u3001without\u3092\u6307\u5b9a\u3059\u308b\u3002\nbundle install --path vendor/bundle --without production\n\n\nSinatra\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\n\nconfig.ru\nrequire \"rubygems\"\nrequire \"bundler\"\nrequire File.dirname(__FILE__) + \"/main\"\n\nuse ActiveRecord::ConnectionAdapters::ConnectionManagement\n\nrun Sinatra::Application\n\n\nweb: bundle exec rackup config.ru -p $PORT\n\n\nmain.rb\n# encodeing: utf-8\nrequire \"sinatra\"\nrequire \"active_record\"\n\nrequire \"sinatra/reloader\" if development?\n\nActiveRecord::Base.establish_connection(ENV[\"DATABASE_URL\"] || \"sqlite3:db/development.db\")\n\nhelpers do\n  include Rack::Utils\n  alias_method :h, :escape_html\nend\n\nclass Comment < ActiveRecord::Base\n\nend\n\nget \"/\" do\n  @comments = Comment.order(\"id desc\").all\n  erb :index\nend\n\npost \"/new\" do\n  Comment.create({:body => params[:body]})\n  redirect \"/\"\nend\n\npost \"/delete\" do\n  Comment.find(params[:id]).destroy\nend\n\n\n\nDB\u3092\u4f7f\u7528\u3059\u308b\u70ba\u306e\u8a2d\u5b9a\nrequire \"sinatra\"\nrequire \"sinatra/activerecord\"\nrequire \"sinatra/activerecord/rake\"\n\n\nconfig/database.yml\ndevelopment:\n  adapter: sqlite3\n  database: db/development.db\n\n\nrake\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u7528\u53ef\u80fd\u306a\u3053\u3068\u3092\u78ba\u8a8d\nbundle exec rake -T\n\n#\u4f7f\u7528\u53ef\u80fd\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u9805\u76ee\u304c\u8868\u793a\u3055\u308c\u308b\u3002\nrake db:create_migration\nrake db:migrate\n\n\n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u5b9a\u7fa9\nbundle exec rake db:create_migration NAME=create_comments\n\n#db/migrate/20141111121828_create_comments.rb\n#\u4e0a\u8a18\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n\ndb/migrate/20141111121828_create_comments.rb\nclass CreateComments < ActiveRecord::Migration\n  def change\n    create_table :comments do |t|\n      t.text :body\n\n      t.timestamps\n    end\n  end\nend\n\n\n\n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\nbundle exec rake db:migrate\n\n== 20141111121828 CreateComments: migrating ===================================\n-- create_table(:comments)\n   -> 0.0014s\n== 20141111121828 CreateComments: migrated (0.0015s) ==========================\n\n\n\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u304c\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u304f\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\nforeman start\n\nport=5000\u3067\u8d77\u52d5\u3059\u308b\u306e\u3067\u9069\u5f53\u306b\u78ba\u8a8d\n=======\n\n\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306f\u4ee5\u4e0b\u306e\u901a\u308a\n\n```\n+ project_root/\n  + vendor/\t\t\t\t// gem\u7ba1\u7406\u7528\n    - bundle/\n  + config/\n    - database.yml\t\t// DB\u60c5\u5831\u7ba1\u7406\n  + db/\n    + migrate/\n      - \t\t\t\t\t// \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\n    - development.db\t\t// SQLite3\u30c6\u30b9\u30c8DB\n  + views/\t\t\t\t\t// \u30d3\u30e5\u30fc\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n    - index.erb\n  - Gemfile\n  - Procfile\t\t\t\t// foreman\u8a2d\u5b9a\u7528\u30d5\u30a1\u30a4\u30eb\n  - Rakefile\t\t\t\t//\trake\u8a2d\u5b9a\u7528\u30d5\u30a1\u30a4\u30eb\n  - config.ru\t\t\t\t//\tRack\u8a2d\u5b9a\u7528\u30d5\u30a1\u30a4\u30eb\n  - main.rb\t\t\t\t// \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n```\n\n\n##Bundler\u306b\u3088\u308bgem\u7ba1\u7406\n*Gemfile\u306e\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u901a\u308a*\n\n```Gemfile\nsource \"https://rubygems.org\"\nruby \"2.1.3\"\n\ngem \"sinatra\"\ngem \"activerecord\"\ngem \"sinatra-activerecord\", :require => \"sinatra/activerecord\"\ngem \"rake\"\n\ngroup :production do\n  gem \"pg\"\nend\n\ngroup :development, :test do\n  gem \"sqlite3\"\n  gem \"sinatra-reloader\"\n  gem \"foreman\"\nend\n```\n\n\u5404\u7a2egem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb *\u30ed\u30fc\u30ab\u30eb\u306fpg\u306f\u4e0d\u8981\u306a\u306e\u3067\u3001without\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n```\nbundle install --path vendor/bundle --without production\n```\n\n##Sinatra\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\n\n```config.ru\nrequire \"rubygems\"\nrequire \"bundler\"\nrequire File.dirname(__FILE__) + \"/main\"\n\nuse ActiveRecord::ConnectionAdapters::ConnectionManagement\n\nrun Sinatra::Application\n```\n\n```Procfile\nweb: bundle exec rackup config.ru -p $PORT\n```\n\n```main.rb\n# encodeing: utf-8\nrequire \"sinatra\"\nrequire \"active_record\"\n\nrequire \"sinatra/reloader\" if development?\n\nActiveRecord::Base.establish_connection(ENV[\"DATABASE_URL\"] || \"sqlite3:db/development.db\")\n\nhelpers do\n  include Rack::Utils\n  alias_method :h, :escape_html\nend\n\nclass Comment < ActiveRecord::Base\n\nend\n\nget \"/\" do\n  @comments = Comment.order(\"id desc\").all\n  erb :index\nend\n\npost \"/new\" do\n  Comment.create({:body => params[:body]})\n  redirect \"/\"\nend\n\npost \"/delete\" do\n  Comment.find(params[:id]).destroy\nend\n```\n\n##DB\u3092\u4f7f\u7528\u3059\u308b\u70ba\u306e\u8a2d\u5b9a\n\n```Rakefile\nrequire \"sinatra\"\nrequire \"sinatra/activerecord\"\nrequire \"sinatra/activerecord/rake\"\n```\n\n```config/database.yml\ndevelopment:\n  adapter: sqlite3\n  database: db/development.db\n```\n\nrake\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u7528\u53ef\u80fd\u306a\u3053\u3068\u3092\u78ba\u8a8d\n\n```\nbundle exec rake -T\n\n#\u4f7f\u7528\u53ef\u80fd\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u9805\u76ee\u304c\u8868\u793a\u3055\u308c\u308b\u3002\nrake db:create_migration\nrake db:migrate\n```\n\n##\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u5b9a\u7fa9\n\n```\nbundle exec rake db:create_migration NAME=create_comments\n```\n\n```\n#db/migrate/20141111121828_create_comments.rb\n#\u4e0a\u8a18\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n```\n\n```db/migrate/20141111121828_create_comments.rb\nclass CreateComments < ActiveRecord::Migration\n  def change\n    create_table :comments do |t|\n      t.text :body\n\n      t.timestamps\n    end\n  end\nend\n```\n\n###\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\n\n```\nbundle exec rake db:migrate\n```\n\n```\n== 20141111121828 CreateComments: migrating ===================================\n-- create_table(:comments)\n   -> 0.0014s\n== 20141111121828 CreateComments: migrated (0.0015s) ==========================\n```\n\n\n##\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u304c\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u304f\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\n```\nforeman start\n```\n\nport=5000\u3067\u8d77\u52d5\u3059\u308b\u306e\u3067\u9069\u5f53\u306b\u78ba\u8a8d\n", "tags": ["Ruby", "Sinatra"]}