{"context": " More than 1 year has passed since last update.\u51fa\u529b\u30d1\u30cd\u30eb\u3092\u4f7f\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u306e\u66f8\u304d\u51fa\u3057\u3092\u3059\u308b\u3002\n\nFrameScript2AS.jsfl\nfl.outputPanel.clear(); \nvar dom = fl.getDocumentDOM();\nvar dir = dom.pathURI.split(dom.name).join(\"\");\nvar exportDir = 'as/';\nvar count = 0;\n\nparseLibrary();\n\nfl.outputPanel.clear();\nfl.outputPanel.trace('total ' + count + ' files');\n\nfunction parseLibrary()\n{\n    var items = dom.library.items;\n    var len = items.length;\n    for (var i=0;i<len;i++)\n    {\n        var item = items[i];\n        var name = item.name;\n        var fileName = exportDir + name.split(\"/\").join(\"-\");\n\n        if (item.symbolType == \"movie clip\")\n            parseTimeline(fileName, item.timeline);\n    }\n}\n\nfunction parseTimeline(name, timeline)\n{\n    var layers = timeline.layers;\n    var len = layers.length;\n    for (var i=0;i<len;i++)\n        parseLayer(name, i, layers[i]);\n}\n\nfunction parseLayer(name, index, layer)\n{\n    name += \".L\" + index;\n    var frames = layer.frames;\n    var len = frames.length;\n    for (var i=0;i<len;i++)\n        parseFrame(name, i, frames[i]);\n}\n\nfunction parseFrame(name, index, frame)\n{\n    var fileName = name + \".f\" + (index + 1) + \".as\";\n    var script = frame.actionScript;\n    var replaceScript = 'include \"' + fileName + '\";';\n    if (frame.startFrame == index && !!script)\n    {\n        if (script == replaceScript) return; // include \u306b\u5dee\u3057\u66ff\u3048\u6e08\u307f\u306e\u3068\u304d\u306f\u4f55\u3082\u3057\u306a\u3044\u3002\n\n        fl.outputPanel.clear();\n        fl.outputPanel.trace(script);\n        fl.outputPanel.save(dir + fileName, false, false);\n        frame.actionScript = replaceScript;\n        count++;\n    }\n}\n\n\n\n\u51fa\u529b\u30d1\u30cd\u30eb\u3092\u4f7f\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u306e\u66f8\u304d\u51fa\u3057\u3092\u3059\u308b\u3002\n\n```FrameScript2AS.jsfl\nfl.outputPanel.clear(); \nvar dom = fl.getDocumentDOM();\nvar dir = dom.pathURI.split(dom.name).join(\"\");\nvar exportDir = 'as/';\nvar count = 0;\n\nparseLibrary();\n\nfl.outputPanel.clear();\nfl.outputPanel.trace('total ' + count + ' files');\n\nfunction parseLibrary()\n{\n\tvar items = dom.library.items;\n\tvar len = items.length;\n\tfor (var i=0;i<len;i++)\n\t{\n\t\tvar item = items[i];\n\t\tvar name = item.name;\n\t\tvar fileName = exportDir + name.split(\"/\").join(\"-\");\n\n\t\tif (item.symbolType == \"movie clip\")\n\t\t\tparseTimeline(fileName, item.timeline);\n\t}\n}\n\nfunction parseTimeline(name, timeline)\n{\n\tvar layers = timeline.layers;\n\tvar len = layers.length;\n\tfor (var i=0;i<len;i++)\n\t\tparseLayer(name, i, layers[i]);\n}\n\nfunction parseLayer(name, index, layer)\n{\n\tname += \".L\" + index;\n\tvar frames = layer.frames;\n\tvar len = frames.length;\n\tfor (var i=0;i<len;i++)\n\t\tparseFrame(name, i, frames[i]);\n}\n\nfunction parseFrame(name, index, frame)\n{\n\tvar fileName = name + \".f\" + (index + 1) + \".as\";\n\tvar script = frame.actionScript;\n\tvar replaceScript = 'include \"' + fileName + '\";';\n\tif (frame.startFrame == index && !!script)\n\t{\n\t\tif (script == replaceScript) return; // include \u306b\u5dee\u3057\u66ff\u3048\u6e08\u307f\u306e\u3068\u304d\u306f\u4f55\u3082\u3057\u306a\u3044\u3002\n\n\t\tfl.outputPanel.clear();\n\t\tfl.outputPanel.trace(script);\n\t\tfl.outputPanel.save(dir + fileName, false, false);\n\t\tframe.actionScript = replaceScript;\n\t\tcount++;\n\t}\n}\n```", "tags": ["flash"]}