{"context": "\u7d04\uff11\u5e74\u524d\u306b\u8cb7\u3063\u3066\u653e\u7f6e\u3057\u3066\u3044\u305fRaspberryPi\u3067\u904a\u3093\u3060\u306e\u3067\u3001\u4f7f\u3063\u305f\u30bb\u30f3\u30b5/\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u3068\u5236\u5fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u307e\u3068\u3081\u307e\u3059\u3002\n\u4f7f\u7528\u3057\u305f\u30b3\u30fc\u30c9\u306fgithub\u306b\u767b\u9332\u3057\u3066\u3044\u307e\u3059\u3002\nhttps://github.com/aratakokubun/RaspiBot.git\n\u5b9f\u88c5\u306fpython\u3068\u4e00\u90e8shell\u3067\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\nRaspi\u3067\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u6982\u8981\nTwitter\u304b\u3089\u64cd\u4f5c\u3092\u9001\u4fe1\u3057\u3001\u5916\u90e8\u304b\u3089\u30bb\u30f3\u30b5\u60c5\u5831\u3092\u53d6\u5f97\u30fb\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u3092\u99c6\u52d5\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\n\u6a5f\u80fd\u306f\u4ee5\u4e0b\u306e\u901a\u308a\n\n\u30ab\u30e1\u30e9\u30ad\u30e3\u30d7\u30c1\u30e3\n\u30ab\u30e1\u30e9\u306e\u9996\u632f\u308a\n\u30a8\u30a2\u30b3\u30f3\u306eON/OFF\n\u30d1\u30bd\u30b3\u30f3\u306b\u8a2d\u7f6e\u3057\u305f\u8d85\u97f3\u6ce2\u6e2c\u8ddd\u30bb\u30f3\u30b5\u306e\u73fe\u5728\u30fb\u30ed\u30b0\u306e\u30b0\u30e9\u30d5\u53d6\u5f97(\u57fa\u672c\u7684\u306b\u306f\u81ea\u5206\u3068\u30d1\u30bd\u30b3\u30f3\u753b\u9762\u3068\u306e\u8ddd\u96e2)\n\u6e7f\u6e29\u5ea6\u30bb\u30f3\u30b5\u306e\u73fe\u5728\u30fb\u30ed\u30b0\u306e\u30b0\u30e9\u30d5\u53d6\u5f97\n\n\n\u30b5\u30fc\u30dc\u30e2\u30fc\u30bf\n\n\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u6982\u8981\n\nGWS S03T\n\u6307\u5b9a\u3057\u305f\u89d2\u5ea6\u306b\u56de\u8ee2\u3059\u308b\u3001\u3054\u304f\u666e\u901a\u306e\u30b5\u30fc\u30dc\u30e2\u30fc\u30bf\n\u5024\u6bb5 \u00a51200 (\u79cb\u6708\u8cfc\u5165)\n5V, GND, \u5236\u5fa1\u7aef\u5b50\u306e\uff13\u7aef\u5b50\n\n\n\u7528\u9014\nTwitter\u304b\u3089\u89d2\u5ea6\u3092\u6307\u5b9a\u3057\u3066\u6307\u4ee4\u3092\u9001\u308a\u3001\u642d\u8f09\u3057\u305fweb\u30ab\u30e1\u30e9\u306e\u89d2\u5ea6\u3092\u5909\u3048\u308b\n\n\u5b9f\u88c5\nRaspberryPi\u306e\u30d4\u30f3\u5165\u51fa\u529b\u5236\u5fa1\u30e9\u30a4\u30d6\u30e9\u30ea\u306eRPi.GPIO\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\u53c2\u8003\u6587\u732e1\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u51e6\u7406\u306e\u629c\u7c8b\n\n\u521d\u671f\u5316\n\nimport RPi.GPIO as GPIO\nGPIO.setmode(GPIO.BCM)\n# \u30b5\u30fc\u30dc\u306eGPIO\u30d4\u30f3\u756a\u53f7\u309223\u306b\u8a2d\u5b9a\nSERVO_GPIO = 23\nGPIO.setup(SERVO_GPIO, GPIO.OUT)\n# \u52d5\u4f5c\u5468\u6ce2\u6570\u306f50Hz\nHZ = 50\nservo = GPIO.PWM(SERVO_GPIO, HZ)\nservo.start(0.0)\n\n\n\u89d2\u5ea6\u3092\u6307\u5b9a\u3057\u3066\u5236\u5fa1\n\nChangeDutyCycle\u30e1\u30bd\u30c3\u30c9\u3067\u5236\u5fa1\u3059\u308b\u304c\u3001\u52d5\u4f5c\u7bc4\u56f2\u306f2.0 - 12.0\u30670\u00b0 - 180\u00b0\u306b\u5bfe\u5fdc\u3059\u308b\u3002\ndc = 2.0 + 10.0 * float(angle/180)\nservo.ChangeDutyCycle(dc)\n# Wait while finishing servo\ntime.sleep(0.5)\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u7d42\u4e86\n\nGPIO\u3092cleanup\u3057\u3066\u304b\u3089\u7d42\u4e86\u3057\u307e\u3059\u3002\nGPIO.cleanup(SERVO_GPIO)\n\n\n\u8d64\u5916\u7ddaLED(\u9001\u4fe1\u30fb\u53d7\u4fe1)\n\n\u30bb\u30f3\u30b5\u30fb\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u6982\u8981\n\u53d7\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb\n\n\u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3\u53d7\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb\u3000\uff27\uff30\uff11\uff35\uff38\uff23\uff14\uff11\uff31\uff33\n\u5024\u6bb5 ? (\u5143\u304b\u3089\u6301\u3063\u3066\u305f)\n5V, GND, \u5236\u5fa1\u7aef\u5b50\u306e\uff13\u7aef\u5b50\u3067\u56de\u8def\u306f\u5358\u7d14\n\n\u9001\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb\n\n\u8d64\u5916\u7dda\uff2c\uff25\uff24\u3000\uff2f\uff33\uff29\uff15\uff26\uff35\uff15\uff11\uff11\uff11\n\u5024\u6bb5 ? (\u5143\u304b\u3089\u6301\u3063\u3066\u305f)\nGND, \u5236\u5fa1\u7aef\u5b50\u306e2\u7aef\u5b50\n\n\n\u7528\u9014\n\u30ea\u30e2\u30b3\u30f3\u306e\u4fe1\u53f7\u3092\u53d6\u5f97\u3057\u3001\u540c\u3058\u4fe1\u53f7\u3092\u8d64\u5916\u7ddaLED\u3067\u9001\u4fe1\n\n\u5b9f\u88c5\nLinux\u7528\u306e\u8d64\u5916\u7dda\u30e2\u30b8\u30e5\u30fc\u30eb\u5236\u5fa1\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3042\u308blirc\u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002\n\u53c2\u8003\u6587\u732e2\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n\nlirc\u3067\u306e\u30ea\u30e2\u30b3\u30f3\u306e\u4fe1\u53f7\u53d6\u5f97\u3068\u767a\u4fe1\u3059\u308b\u4fe1\u53f7\u306e\u8a2d\u5b9a\nlirc\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306f\u53c2\u8003\u6587\u732e2\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\u7c21\u5358\u306b\u306f\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002(\u5168\u3066root\u6a29\u9650\u304c\u5fc5\u8981)\n\n\n/etc/lirc/hardware.conf\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u3002\n\n/boot/config.txt\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u3001\u8d77\u52d5\u6642\u306bLIRC\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\n\nmode2 -d /dev/lirc0(hardware.conf\u306b\u8a2d\u5b9a\u3057\u305f\u540d\u79f0)\u30b3\u30de\u30f3\u30c9\u3067lirc\u3092\u8d77\u52d5\u3057\u3001\u30ea\u30e2\u30b3\u30f3\u306e\u4fe1\u53f7\u3092\u8d64\u5916\u7dda\u53d7\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u9001\u4fe1\u3057\u305f\u969b\u306b\u30c7\u30fc\u30bf\u304c\u53d6\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n3\u306e\u30b3\u30de\u30f3\u30c9\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u30c7\u30fc\u30bf\u9001\u4fe1\u7528\u306e\u30b3\u30de\u30f3\u30c9\u5b9a\u7fa9\u3068\u5171\u306b/etc/lirc/lircd.conf\u306b\u8ffd\u8a18\u3059\u308b\u3002\n\n/etc/init.d/lirc start\u3067lirc\u3092\u8d77\u52d5\n\nirsend SEND_ONCE <\u30b3\u30de\u30f3\u30c9>\u3067\u30c7\u30fc\u30bf\u304c\u9001\u4fe1\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\n\n\u521d\u671f\u5316\n\u521d\u671f\u5316\u7528\u306eshell\u3092\u7528\u610f\u3057\u3066\u304a\u304d\u3001python\u304b\u3089\u521d\u671f\u5316\u6642\u306b\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\n\ninitLirc.sh\nsudo /etc/init.d/lirc stop\nsudo /etc/init.d/lirc start\n\n\nfrom subprocess import call\nINIT_CMD = \"sudo bash ./src/initLirc.sh\"\ncall(INIT_CMD.strip().split(\" \"))\n\n\n\u30a8\u30a2\u30b3\u30f3\u5236\u5fa1\n\n\nfrom subprocess import call\nON_CMD = \"sudo irsend SEND_ONCE aircon cooler_on\"\nOFF_CMD = \"sudo irsend SEND_ONCE aircon cooler_on\"\n\ncall(ON_CMD.strip().split(\" \"))\ncall(OFF_CMD.strip().split(\" \"))\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u7d42\u4e86\n\n\n\nstopLirc.sh\nsudo /etc/init.d/lirc stop\n\n\nfrom subprocess import call\nSTOP_CMD = \"sudo bash ./src/stopLirc.sh\"\ncall(STOP_CMD.strip().split(\" \"))\n\n\n\u6e2c\u8ddd\u30bb\u30f3\u30b5\n\n\u30bb\u30f3\u30b5\u6982\u8981\n\nHC-SR04\n\u8d85\u97f3\u306e\u53cd\u5c04\u6642\u9593\u3092\u5229\u7528\u3057\u3066\u975e\u63a5\u89e6\u3067\u6e2c\u8ddd\u3059\u308b\u30bb\u30f3\u30b5\u30e2\u30b8\u30e5\u30fc\u30eb\n2-180cm\u307e\u3067\u6e2c\u8ddd\u53ef\u80fd\n\u5024\u6bb5 \u00a5400 (\u79cb\u6708\u8cfc\u5165)\n5V, GND, ECHO, TRIGGER\u306e4\u7aef\u5b50\n\n\n\u7528\u9014\n\u30d1\u30bd\u30b3\u30f3\u306b\u8a2d\u7f6e\u3057\u3001\u81ea\u5206\u304c\u30d1\u30bd\u30b3\u30f3\u306b\u5411\u304d\u5408\u3063\u3066\u308b\u6642\u306e\u8ddd\u96e2\u3092\u6e2c\u5b9a\n\n\u5b9f\u88c5\n\u3053\u3061\u3089\u3082RaspberryPi\u306e\u30d4\u30f3\u5165\u51fa\u529b\u5236\u5fa1\u30e9\u30a4\u30d6\u30e9\u30ea\u306eRPi.GPIO\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u521d\u671f\u5316\n\nimport RPi.GPIO as GPIO\nGPIO.setmode(GPIO.BCM)\n# TRIGGER\u306eGPIO\u309217, ECHO\u306eGPIO\u309227\u306b\u8a2d\u5b9a\nTRIG_GPIO = 17\nECHO_GPIO = 27\n# TRIGGER\u306f\u51fa\u529b\u30d4\u30f3\u3001ECHO\u306f\u5165\u529b\u30d4\u30f3\u306b\u8a2d\u5b9a\nGPIO.setup(TRIG_GPIO, GPIO.OUT)\nGPIO.setup(ECHO_GPIO, GPIO.IN)\n# TRIGGER\u30920V\u306b\u8a2d\u5b9a\nGPIO.output(TRIG_GPIO, GPIO.LOW)\n\n\n\u6e2c\u5b9a\n\nGPIO.output(TRIG_GPIO, True)\ntime.sleep(0.00001)\nGPIO.output(TRIG_GPIO, False)\n\nwhile GPIO.input(ECHO_GPIO) == 0:\n  signaloff = time.time()\nwhile GPIO.input(ECHO_GPIO) == 1:\n  signalon = time.time()\nreturn (signalon - signal off) * 17000\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u7d42\u4e86\n\nGPIO\u3092cleanup\u3057\u3066\u304b\u3089\u7d42\u4e86\u3057\u307e\u3059\u3002\nGPIO.cleanup(TRIG_GPIO)\nGPIO.cleanup(ECHO_GPIO)\n\n\n\u6e7f\u6e29\u5ea6\u30bb\u30f3\u30b5\n\n\u30bb\u30f3\u30b5\u6982\u8981\n\nDHT11\n\u6e29\u5ea6\u30921\u5ea6\u5358\u4f4d\u30fb\u6e7f\u5ea6\u30921%\u5358\u4f4d\u3067\u8a08\u6e2c\u53ef\u80fd\n\u6e29\u5ea6\u7cbe\u5ea6\u00b12\u5ea6\u30fb\u6e7f\u5ea6\u7cbe\u5ea6\u00b15%\u3068\u7cbe\u5ea6\u306f\u5fae\u5999\n\u53d6\u5f97\u306b\u5931\u6557\u3059\u308b\u3053\u3068\u3082\u3042\u308a\u3001\u52d5\u4f5c\u3082\u4e0d\u5b89\u5b9a\n\u5024\u6bb5 \u00a5490 (amazon\u8cfc\u5165)\n5V, GND, \u5165\u51fa\u529b\u306e4\u7aef\u5b50\n\n\n\u7528\u9014\n\u90e8\u5c4b\u306e\u6e7f\u6e29\u5ea6\u306e\u73fe\u5728\u5024\u3068\u30ed\u30b0\u3092\u53d6\u5f97\n\n\u5b9f\u88c5\nRaspberryPi\u304b\u3089DHT11\u306e\u6e29\u5ea6\uff0f\u6e7f\u5ea6\u3092\u53d6\u5f97\u3059\u308b\u70ba\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u304cgithub\u306b\u516c\u958b\u3055\u308c\u3066\u3044\u305f\u306e\u3067\u3001\u3053\u308c\u3092\u5229\u7528\nhttps://github.com/adafruit/Adafruit_Python_DHT\n\n\u521d\u671f\u5316\n\nimport Adafruit_DHT\n# DHT\u306eGPIO\u309218\u756a\u306b\u8a2d\u5b9a\nDHT_GPIO = 18\n# \u30bb\u30f3\u30b5\u3092\u6307\u5b9a\nsensor = Adafruit_DHT.DHT11\n\n\n\u6e2c\u5b9a\n1\u56de\u3060\u3068\u5931\u6557\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u306e\u3067\u30013\u56de\u30ea\u30c8\u30e9\u30a4\u3057\u3066\u3044\u307e\u3059\u3002\n\nMAX_TRIAL = 3\nfor _ in range(self.MAX_TRIAL):\n  humidity, temperature =  Adafruit_DHT.read_retry(sensor, DHT_GPIO)\n  if humidity is None and temperature is None:\n    continue\n  return [humidity, temperature]\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u7d42\u4e86\n\n\u7279\u306b\u7d42\u4e86\u6642\u306b\u51e6\u7406\u3092\u3059\u308b\u5fc5\u8981\u306f\u306a\u3055\u305d\u3046\u3067\u3059\u3002\n\n\u305d\u306e\u4ed6\n\nTwitter\u3067\u306e\u30b3\u30de\u30f3\u30c9\u9001\u53d7\u4fe1\nTwitterStreamingAPI\u3092\u4f7f\u7528\u3057\u3001\u7279\u5b9a\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u76e3\u8996\u3057\u3066\u3044\u307e\u3059\u3002\n\u5404\u30bb\u30f3\u30b5\u306e\u7d42\u4e86\u6642\u306e\u51e6\u7406\natexit\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u7d42\u4e86\u51e6\u7406\u306e\u30cf\u30f3\u30c9\u30e9\u3092\u767b\u9332\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u30af\u30e9\u30b9\u306edel\u30e1\u30bd\u30c3\u30c9\u3067\u3082\u3044\u3044\u6c17\u304c\u3057\u307e\u3059\u30fb\u30fb\u30fb\n\n\n\u53c2\u8003\u6587\u732e\n\nRaspberryPi\u3067\u306e\u30b5\u30fc\u30dc\u5236\u5fa1 http://windvoice.hatenablog.jp/entry/2015/05/04/180110\n\nRaspberry Pi 2 \u3067\u30a8\u30a2\u30b3\u30f3\u64cd\u4f5c\uff08\u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3\u7de8\uff09\nhttp://kaiware007.hatenablog.jp/entry/2015/08/28/020356\n\nRaspberry Pi\u306b\u8d85\u97f3\u6ce2\u8ddd\u96e2\u8a08\u201dHC-SR04\u201d\u3064\u3051\u3066\u307f\u305f\nhttp://arkouji.cocolog-nifty.com/blog/2014/05/raspberry-pihc-.html\n\n\u6e29\u6e7f\u5ea6\u30bb\u30f3\u30b5DHT11\u3092RaspberryPi\u306b\u63a5\u7d9a\u3057\u30b0\u30e9\u30d5\u8868\u793a\nhttp://blog.bnikka.com/raspberrypi/dht11-raspberrypi.html\n\n\n\u7d04\uff11\u5e74\u524d\u306b\u8cb7\u3063\u3066\u653e\u7f6e\u3057\u3066\u3044\u305fRaspberryPi\u3067\u904a\u3093\u3060\u306e\u3067\u3001\u4f7f\u3063\u305f\u30bb\u30f3\u30b5/\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u3068\u5236\u5fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u307e\u3068\u3081\u307e\u3059\u3002\n\n\u4f7f\u7528\u3057\u305f\u30b3\u30fc\u30c9\u306fgithub\u306b\u767b\u9332\u3057\u3066\u3044\u307e\u3059\u3002\nhttps://github.com/aratakokubun/RaspiBot.git\n\u5b9f\u88c5\u306fpython\u3068\u4e00\u90e8shell\u3067\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\n## Raspi\u3067\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u6982\u8981\n\nTwitter\u304b\u3089\u64cd\u4f5c\u3092\u9001\u4fe1\u3057\u3001\u5916\u90e8\u304b\u3089\u30bb\u30f3\u30b5\u60c5\u5831\u3092\u53d6\u5f97\u30fb\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u3092\u99c6\u52d5\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\n\u6a5f\u80fd\u306f\u4ee5\u4e0b\u306e\u901a\u308a\n\n- \u30ab\u30e1\u30e9\u30ad\u30e3\u30d7\u30c1\u30e3\n- \u30ab\u30e1\u30e9\u306e\u9996\u632f\u308a\n- \u30a8\u30a2\u30b3\u30f3\u306eON/OFF\n- \u30d1\u30bd\u30b3\u30f3\u306b\u8a2d\u7f6e\u3057\u305f\u8d85\u97f3\u6ce2\u6e2c\u8ddd\u30bb\u30f3\u30b5\u306e\u73fe\u5728\u30fb\u30ed\u30b0\u306e\u30b0\u30e9\u30d5\u53d6\u5f97(\u57fa\u672c\u7684\u306b\u306f\u81ea\u5206\u3068\u30d1\u30bd\u30b3\u30f3\u753b\u9762\u3068\u306e\u8ddd\u96e2)\n- \u6e7f\u6e29\u5ea6\u30bb\u30f3\u30b5\u306e\u73fe\u5728\u30fb\u30ed\u30b0\u306e\u30b0\u30e9\u30d5\u53d6\u5f97\n\n## \u30b5\u30fc\u30dc\u30e2\u30fc\u30bf\n\n### \u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u6982\u8981\n- GWS S03T\n- \u6307\u5b9a\u3057\u305f\u89d2\u5ea6\u306b\u56de\u8ee2\u3059\u308b\u3001\u3054\u304f\u666e\u901a\u306e\u30b5\u30fc\u30dc\u30e2\u30fc\u30bf\n- \u5024\u6bb5 \u00a51200 (\u79cb\u6708\u8cfc\u5165)\n- 5V, GND, \u5236\u5fa1\u7aef\u5b50\u306e\uff13\u7aef\u5b50\n\n### \u7528\u9014\nTwitter\u304b\u3089\u89d2\u5ea6\u3092\u6307\u5b9a\u3057\u3066\u6307\u4ee4\u3092\u9001\u308a\u3001\u642d\u8f09\u3057\u305fweb\u30ab\u30e1\u30e9\u306e\u89d2\u5ea6\u3092\u5909\u3048\u308b\n\n### \u5b9f\u88c5\nRaspberryPi\u306e\u30d4\u30f3\u5165\u51fa\u529b\u5236\u5fa1\u30e9\u30a4\u30d6\u30e9\u30ea\u306eRPi.GPIO\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\u53c2\u8003\u6587\u732e1\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u51e6\u7406\u306e\u629c\u7c8b\n\n- \u521d\u671f\u5316\n\n```py3\nimport RPi.GPIO as GPIO\nGPIO.setmode(GPIO.BCM)\n# \u30b5\u30fc\u30dc\u306eGPIO\u30d4\u30f3\u756a\u53f7\u309223\u306b\u8a2d\u5b9a\nSERVO_GPIO = 23\nGPIO.setup(SERVO_GPIO, GPIO.OUT)\n# \u52d5\u4f5c\u5468\u6ce2\u6570\u306f50Hz\nHZ = 50\nservo = GPIO.PWM(SERVO_GPIO, HZ)\nservo.start(0.0)\n```\n\n\n- \u89d2\u5ea6\u3092\u6307\u5b9a\u3057\u3066\u5236\u5fa1\n\n`ChangeDutyCycle`\u30e1\u30bd\u30c3\u30c9\u3067\u5236\u5fa1\u3059\u308b\u304c\u3001\u52d5\u4f5c\u7bc4\u56f2\u306f`2.0 - 12.0`\u3067`0\u00b0 - 180\u00b0`\u306b\u5bfe\u5fdc\u3059\u308b\u3002\n\n```py3\ndc = 2.0 + 10.0 * float(angle/180)\nservo.ChangeDutyCycle(dc)\n# Wait while finishing servo\ntime.sleep(0.5)\n```\n\n\n- \u30d7\u30ed\u30b0\u30e9\u30e0\u7d42\u4e86\n\nGPIO\u3092cleanup\u3057\u3066\u304b\u3089\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n```py3\nGPIO.cleanup(SERVO_GPIO)\n```\n\n## \u8d64\u5916\u7ddaLED(\u9001\u4fe1\u30fb\u53d7\u4fe1)\n\n### \u30bb\u30f3\u30b5\u30fb\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u6982\u8981\n\n\u53d7\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb\n\n- \u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3\u53d7\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb\u3000\uff27\uff30\uff11\uff35\uff38\uff23\uff14\uff11\uff31\uff33\n- \u5024\u6bb5 ? (\u5143\u304b\u3089\u6301\u3063\u3066\u305f)\n- 5V, GND, \u5236\u5fa1\u7aef\u5b50\u306e\uff13\u7aef\u5b50\u3067\u56de\u8def\u306f\u5358\u7d14\n\n\u9001\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb\n\n- \u8d64\u5916\u7dda\uff2c\uff25\uff24\u3000\uff2f\uff33\uff29\uff15\uff26\uff35\uff15\uff11\uff11\uff11\n- \u5024\u6bb5 ? (\u5143\u304b\u3089\u6301\u3063\u3066\u305f)\n- GND, \u5236\u5fa1\u7aef\u5b50\u306e2\u7aef\u5b50\n\n### \u7528\u9014\n\u30ea\u30e2\u30b3\u30f3\u306e\u4fe1\u53f7\u3092\u53d6\u5f97\u3057\u3001\u540c\u3058\u4fe1\u53f7\u3092\u8d64\u5916\u7ddaLED\u3067\u9001\u4fe1\n\n### \u5b9f\u88c5\nLinux\u7528\u306e\u8d64\u5916\u7dda\u30e2\u30b8\u30e5\u30fc\u30eb\u5236\u5fa1\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3042\u308blirc\u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002\n\u53c2\u8003\u6587\u732e2\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n- lirc\u3067\u306e\u30ea\u30e2\u30b3\u30f3\u306e\u4fe1\u53f7\u53d6\u5f97\u3068\u767a\u4fe1\u3059\u308b\u4fe1\u53f7\u306e\u8a2d\u5b9a\nlirc\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306f\u53c2\u8003\u6587\u732e2\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\u7c21\u5358\u306b\u306f\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002(\u5168\u3066root\u6a29\u9650\u304c\u5fc5\u8981)\n    1. `/etc/lirc/hardware.conf`\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u3002\n    2. `/boot/config.txt`\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u3001\u8d77\u52d5\u6642\u306bLIRC\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\n    3. `mode2 -d /dev/lirc0(hardware.conf\u306b\u8a2d\u5b9a\u3057\u305f\u540d\u79f0)`\u30b3\u30de\u30f3\u30c9\u3067lirc\u3092\u8d77\u52d5\u3057\u3001\u30ea\u30e2\u30b3\u30f3\u306e\u4fe1\u53f7\u3092\u8d64\u5916\u7dda\u53d7\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u9001\u4fe1\u3057\u305f\u969b\u306b\u30c7\u30fc\u30bf\u304c\u53d6\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n    4. 3\u306e\u30b3\u30de\u30f3\u30c9\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u30c7\u30fc\u30bf\u9001\u4fe1\u7528\u306e\u30b3\u30de\u30f3\u30c9\u5b9a\u7fa9\u3068\u5171\u306b`/etc/lirc/lircd.conf`\u306b\u8ffd\u8a18\u3059\u308b\u3002\n    5. `/etc/init.d/lirc start`\u3067lirc\u3092\u8d77\u52d5\n    6. `irsend SEND_ONCE <\u30b3\u30de\u30f3\u30c9>`\u3067\u30c7\u30fc\u30bf\u304c\u9001\u4fe1\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\n- \u521d\u671f\u5316\n\u521d\u671f\u5316\u7528\u306eshell\u3092\u7528\u610f\u3057\u3066\u304a\u304d\u3001python\u304b\u3089\u521d\u671f\u5316\u6642\u306b\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\n```shell-session:initLirc.sh\nsudo /etc/init.d/lirc stop\nsudo /etc/init.d/lirc start\n```\n```py3\nfrom subprocess import call\nINIT_CMD = \"sudo bash ./src/initLirc.sh\"\ncall(INIT_CMD.strip().split(\" \"))\n```\n\n\n- \u30a8\u30a2\u30b3\u30f3\u5236\u5fa1<br>\n\n```py3\nfrom subprocess import call\nON_CMD = \"sudo irsend SEND_ONCE aircon cooler_on\"\nOFF_CMD = \"sudo irsend SEND_ONCE aircon cooler_on\"\n\ncall(ON_CMD.strip().split(\" \"))\ncall(OFF_CMD.strip().split(\" \"))\n```\n\n- \u30d7\u30ed\u30b0\u30e9\u30e0\u7d42\u4e86<br>\n\n```shell-session:stopLirc.sh\nsudo /etc/init.d/lirc stop\n```\n```py3\nfrom subprocess import call\nSTOP_CMD = \"sudo bash ./src/stopLirc.sh\"\ncall(STOP_CMD.strip().split(\" \"))\n```\n\n\n## \u6e2c\u8ddd\u30bb\u30f3\u30b5\n\n### \u30bb\u30f3\u30b5\u6982\u8981\n- HC-SR04\n- \u8d85\u97f3\u306e\u53cd\u5c04\u6642\u9593\u3092\u5229\u7528\u3057\u3066\u975e\u63a5\u89e6\u3067\u6e2c\u8ddd\u3059\u308b\u30bb\u30f3\u30b5\u30e2\u30b8\u30e5\u30fc\u30eb\n- 2-180cm\u307e\u3067\u6e2c\u8ddd\u53ef\u80fd\n- \u5024\u6bb5 \u00a5400 (\u79cb\u6708\u8cfc\u5165)\n- 5V, GND, ECHO, TRIGGER\u306e4\u7aef\u5b50\n\n### \u7528\u9014\n\u30d1\u30bd\u30b3\u30f3\u306b\u8a2d\u7f6e\u3057\u3001\u81ea\u5206\u304c\u30d1\u30bd\u30b3\u30f3\u306b\u5411\u304d\u5408\u3063\u3066\u308b\u6642\u306e\u8ddd\u96e2\u3092\u6e2c\u5b9a\n\n### \u5b9f\u88c5\n\u3053\u3061\u3089\u3082RaspberryPi\u306e\u30d4\u30f3\u5165\u51fa\u529b\u5236\u5fa1\u30e9\u30a4\u30d6\u30e9\u30ea\u306eRPi.GPIO\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n- \u521d\u671f\u5316\n\n```py3\nimport RPi.GPIO as GPIO\nGPIO.setmode(GPIO.BCM)\n# TRIGGER\u306eGPIO\u309217, ECHO\u306eGPIO\u309227\u306b\u8a2d\u5b9a\nTRIG_GPIO = 17\nECHO_GPIO = 27\n# TRIGGER\u306f\u51fa\u529b\u30d4\u30f3\u3001ECHO\u306f\u5165\u529b\u30d4\u30f3\u306b\u8a2d\u5b9a\nGPIO.setup(TRIG_GPIO, GPIO.OUT)\nGPIO.setup(ECHO_GPIO, GPIO.IN)\n# TRIGGER\u30920V\u306b\u8a2d\u5b9a\nGPIO.output(TRIG_GPIO, GPIO.LOW)\n```\n\n\n- \u6e2c\u5b9a\n\n```py3\nGPIO.output(TRIG_GPIO, True)\ntime.sleep(0.00001)\nGPIO.output(TRIG_GPIO, False)\n\nwhile GPIO.input(ECHO_GPIO) == 0:\n  signaloff = time.time()\nwhile GPIO.input(ECHO_GPIO) == 1:\n  signalon = time.time()\nreturn (signalon - signal off) * 17000\n```\n\n\n- \u30d7\u30ed\u30b0\u30e9\u30e0\u7d42\u4e86\n\nGPIO\u3092cleanup\u3057\u3066\u304b\u3089\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n```py3\nGPIO.cleanup(TRIG_GPIO)\nGPIO.cleanup(ECHO_GPIO)\n```\n\n\n## \u6e7f\u6e29\u5ea6\u30bb\u30f3\u30b5\n\n### \u30bb\u30f3\u30b5\u6982\u8981\n\n- DHT11\n- \u6e29\u5ea6\u30921\u5ea6\u5358\u4f4d\u30fb\u6e7f\u5ea6\u30921%\u5358\u4f4d\u3067\u8a08\u6e2c\u53ef\u80fd\n- \u6e29\u5ea6\u7cbe\u5ea6\u00b12\u5ea6\u30fb\u6e7f\u5ea6\u7cbe\u5ea6\u00b15%\u3068\u7cbe\u5ea6\u306f\u5fae\u5999\n- \u53d6\u5f97\u306b\u5931\u6557\u3059\u308b\u3053\u3068\u3082\u3042\u308a\u3001\u52d5\u4f5c\u3082\u4e0d\u5b89\u5b9a\n- \u5024\u6bb5 \u00a5490 (amazon\u8cfc\u5165)\n- 5V, GND, \u5165\u51fa\u529b\u306e4\u7aef\u5b50\n\n### \u7528\u9014\n\u90e8\u5c4b\u306e\u6e7f\u6e29\u5ea6\u306e\u73fe\u5728\u5024\u3068\u30ed\u30b0\u3092\u53d6\u5f97\n\n### \u5b9f\u88c5\nRaspberryPi\u304b\u3089DHT11\u306e\u6e29\u5ea6\uff0f\u6e7f\u5ea6\u3092\u53d6\u5f97\u3059\u308b\u70ba\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u304cgithub\u306b\u516c\u958b\u3055\u308c\u3066\u3044\u305f\u306e\u3067\u3001\u3053\u308c\u3092\u5229\u7528\nhttps://github.com/adafruit/Adafruit_Python_DHT\n\n- \u521d\u671f\u5316\n\n```py3\nimport Adafruit_DHT\n# DHT\u306eGPIO\u309218\u756a\u306b\u8a2d\u5b9a\nDHT_GPIO = 18\n# \u30bb\u30f3\u30b5\u3092\u6307\u5b9a\nsensor = Adafruit_DHT.DHT11\n```\n\n\n- \u6e2c\u5b9a\n1\u56de\u3060\u3068\u5931\u6557\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u306e\u3067\u30013\u56de\u30ea\u30c8\u30e9\u30a4\u3057\u3066\u3044\u307e\u3059\u3002\n\n```py3\nMAX_TRIAL = 3\nfor _ in range(self.MAX_TRIAL):\n  humidity, temperature =  Adafruit_DHT.read_retry(sensor, DHT_GPIO)\n  if humidity is None and temperature is None:\n    continue\n  return [humidity, temperature]\n```\n\n\n- \u30d7\u30ed\u30b0\u30e9\u30e0\u7d42\u4e86\n\n\u7279\u306b\u7d42\u4e86\u6642\u306b\u51e6\u7406\u3092\u3059\u308b\u5fc5\u8981\u306f\u306a\u3055\u305d\u3046\u3067\u3059\u3002\n\n\n## \u305d\u306e\u4ed6\n\n- Twitter\u3067\u306e\u30b3\u30de\u30f3\u30c9\u9001\u53d7\u4fe1\nTwitterStreamingAPI\u3092\u4f7f\u7528\u3057\u3001\u7279\u5b9a\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u76e3\u8996\u3057\u3066\u3044\u307e\u3059\u3002\n\n- \u5404\u30bb\u30f3\u30b5\u306e\u7d42\u4e86\u6642\u306e\u51e6\u7406\natexit\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u7d42\u4e86\u51e6\u7406\u306e\u30cf\u30f3\u30c9\u30e9\u3092\u767b\u9332\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u30af\u30e9\u30b9\u306e__del__\u30e1\u30bd\u30c3\u30c9\u3067\u3082\u3044\u3044\u6c17\u304c\u3057\u307e\u3059\u30fb\u30fb\u30fb\n\n\n## \u53c2\u8003\u6587\u732e\n1. RaspberryPi\u3067\u306e\u30b5\u30fc\u30dc\u5236\u5fa1<br> http://windvoice.hatenablog.jp/entry/2015/05/04/180110\n2. Raspberry Pi 2 \u3067\u30a8\u30a2\u30b3\u30f3\u64cd\u4f5c\uff08\u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3\u7de8\uff09<br>\nhttp://kaiware007.hatenablog.jp/entry/2015/08/28/020356\n3. Raspberry Pi\u306b\u8d85\u97f3\u6ce2\u8ddd\u96e2\u8a08\u201dHC-SR04\u201d\u3064\u3051\u3066\u307f\u305f<br>\nhttp://arkouji.cocolog-nifty.com/blog/2014/05/raspberry-pihc-.html\n4. \u6e29\u6e7f\u5ea6\u30bb\u30f3\u30b5DHT11\u3092RaspberryPi\u306b\u63a5\u7d9a\u3057\u30b0\u30e9\u30d5\u8868\u793a<br>\nhttp://blog.bnikka.com/raspberrypi/dht11-raspberrypi.html\n", "tags": ["RaspberryPi", "python3", "Twitter", "TwitterAPI", "\u96fb\u5b50\u5de5\u4f5c"]}