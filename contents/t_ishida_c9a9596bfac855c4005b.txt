{"context": " More than 1 year has passed since last update.\u306a\u3093\u304b\u3001\u6c17\u4ed8\u3044\u305f\u3089\u66f8\u3044\u3066\u3044\u305f\u306e\u3060\u3051\u308c\u3069\u3001\u66f8\u304d\u7d42\u3063\u305f\u6642\u306b\u3001\u306a\u305c\u66f8\u3044\u3066\u3044\u305f\u306e\u304b\u601d\u3044\u51fa\u305b\u305a\u3001\u3057\u304b\u3082\u3001\u73fe\u5728\u306e\u4f5c\u696d\u3068\u307e\u308b\u3067\u95a2\u4fc2\u306a\u3044\u30b3\u30fc\u30c9\u3060\u3063\u305f\u305f\u3081\u3001\u304a\u8535\u5165\u308a\u306b\u306a\u308b\u3053\u3068\u304c\u78ba\u5b9a\u3057\u305f\u3002\u4f9b\u990a\u306e\u305f\u3081\u306b\u6295\u7a3f\u3057\u3066\u304a\u304f\u3002\n<?php\n$string = '\u79c1\u306f\u5b87\u5b99\u4eba\u3067\u3059\u304c\u5730\u7403\u4eba\u3067\u3082\u3042\u308a\u307e\u3059\u3002\u79c1\u306f\u5b87\u5b99\u4eba\u3067\u3057\u305f\u3002\u79c1\u306f\u5b87\u5b99\u4eba\u3060\u3063\u305f\u3088\u3046\u306a\u6c17\u3082\u3057\u307e\u3059\u3002';\n\necho \"<< original >>\\n\";\necho $string . \"\\n\";\n\necho \"<< converted >>\\n\";\n\n$result = convertVerticalLayout($string);\nfor ($i = 0; $i < count($result); $i++) {\n    for ($j = 0; $j < count($result[$i]); $j++) {\n        echo $result[$i][$j];\n    }\n    echo \"\\n\";\n}\n\nfunction convertVerticalLayout ($string) {\n    $lines = explode ('\u3002', $string);\n    unset($lines[count($lines) - 1]);\n    $maxLength = 0;\n    $lineCount = count($lines);\n    for ($i = 0; $i < $lineCount; $i++) {\n        $line = $lines[$i];\n        $lines[$i] = array();\n        $j = 0;\n        for (; $j < mb_strlen($line, 'UTF8'); $j++) {\n            $lines[$i][$j] = mb_substr($line, $j, 1, 'UTF8');\n        }\n        $lines[$i][$j] = '\u3002';\n        if ($maxLength < count($lines[$i])) {\n            $maxLength = count($lines[$i]);\n        }\n    }\n\n    $result = array();\n    for ($j = 0; $j < $maxLength; $j++) {\n        for ($i = 0; $i < $lineCount; $i++) {\n            $result[$j][$lineCount - 1 - $i] = isset($lines[$i][$j]) ? $lines[$i][$j] : '\u3000';\n        }\n    }\n    return $result;\n}\n\n\u306a\u3093\u304b\u3001\u6c17\u4ed8\u3044\u305f\u3089\u66f8\u3044\u3066\u3044\u305f\u306e\u3060\u3051\u308c\u3069\u3001\u66f8\u304d\u7d42\u3063\u305f\u6642\u306b\u3001\u306a\u305c\u66f8\u3044\u3066\u3044\u305f\u306e\u304b\u601d\u3044\u51fa\u305b\u305a\u3001\u3057\u304b\u3082\u3001\u73fe\u5728\u306e\u4f5c\u696d\u3068\u307e\u308b\u3067\u95a2\u4fc2\u306a\u3044\u30b3\u30fc\u30c9\u3060\u3063\u305f\u305f\u3081\u3001\u304a\u8535\u5165\u308a\u306b\u306a\u308b\u3053\u3068\u304c\u78ba\u5b9a\u3057\u305f\u3002\u4f9b\u990a\u306e\u305f\u3081\u306b\u6295\u7a3f\u3057\u3066\u304a\u304f\u3002\n\n\n\n```php\n<?php\n$string = '\u79c1\u306f\u5b87\u5b99\u4eba\u3067\u3059\u304c\u5730\u7403\u4eba\u3067\u3082\u3042\u308a\u307e\u3059\u3002\u79c1\u306f\u5b87\u5b99\u4eba\u3067\u3057\u305f\u3002\u79c1\u306f\u5b87\u5b99\u4eba\u3060\u3063\u305f\u3088\u3046\u306a\u6c17\u3082\u3057\u307e\u3059\u3002';\n\necho \"<< original >>\\n\";\necho $string . \"\\n\";\n\necho \"<< converted >>\\n\";\n\n$result = convertVerticalLayout($string);\nfor ($i = 0; $i < count($result); $i++) {\n    for ($j = 0; $j < count($result[$i]); $j++) {\n        echo $result[$i][$j];\n    }\n    echo \"\\n\";\n}\n\nfunction convertVerticalLayout ($string) {\n    $lines = explode ('\u3002', $string);\n    unset($lines[count($lines) - 1]);\n    $maxLength = 0;\n    $lineCount = count($lines);\n    for ($i = 0; $i < $lineCount; $i++) {\n        $line = $lines[$i];\n        $lines[$i] = array();\n        $j = 0;\n        for (; $j < mb_strlen($line, 'UTF8'); $j++) {\n            $lines[$i][$j] = mb_substr($line, $j, 1, 'UTF8');\n        }\n        $lines[$i][$j] = '\u3002';\n        if ($maxLength < count($lines[$i])) {\n            $maxLength = count($lines[$i]);\n        }\n    }\n\n    $result = array();\n    for ($j = 0; $j < $maxLength; $j++) {\n        for ($i = 0; $i < $lineCount; $i++) {\n            $result[$j][$lineCount - 1 - $i] = isset($lines[$i][$j]) ? $lines[$i][$j] : '\u3000';\n        }\n    }\n    return $result;\n}\n```\n", "tags": ["PHP", "\u30cd\u30bf"]}