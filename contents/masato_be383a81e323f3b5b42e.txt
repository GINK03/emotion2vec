{"context": " More than 1 year has passed since last update.sequenceiq/spark\u306eDocker\u30a4\u30e1\u30fc\u30b8\u306fCentOS 6.5\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u307e\u307e\u3067\u306fIPython\u306e\u30a4\u30f3\u30b9\u30c8-\u30eb\u306b\u5931\u6557\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002SequenceIQ\u306b\u306fUbuntu\u306ebaseimage\u3082\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u304b\u3089\u81ea\u5206\u3067Spark\u306eDockerfile\u3092\u4f5c\u308d\u3046\u3068\u601d\u3044\u307e\u3057\u305f\u304c\u3001\u3061\u3087\u3069\u3088\u3044\u30a4\u30e1\u30fc\u30b8\u304cLogBaseInc/docker-spark-ipython\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n\u3053\u306e\u30b7\u30ea\u30fc\u30ba\n\nSpark on Docker\u3067\u5206\u6563\u578b\u6a5f\u68b0\u5b66\u7fd2\u3092\u59cb\u3081\u308b - Part 1: \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nSpark on Docker\u3067\u5206\u6563\u578b\u6a5f\u68b0\u5b66\u7fd2\u3092\u59cb\u3081\u308b - Part 2: Ubuntu\u3067IPython Notebook\u3092\u4f7f\u3046\nSpark on Docker\u3067\u5206\u6563\u578b\u6a5f\u68b0\u5b66\u7fd2\u3092\u59cb\u3081\u308b - Part 3: \u30ed\u30fc\u30ab\u30eb\u30e2\u30fc\u30c9\u3067spark-shell\u3092\u8d77\u52d5\u3059\u308b\nSpark on Docker\u3067\u5206\u6563\u578b\u6a5f\u68b0\u5b66\u7fd2\u3092\u59cb\u3081\u308b - Part 4: Ambari\u3067Hadoop\u3068Spark\u306esingle node\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n\nCentOS 6.5\u306e\u5834\u5408\nsequenceiq/spark\n\u524d\u56de\u4f5c\u6210\u3057\u305fDocker\u30b3\u30f3\u30c6\u30ca\u306fCentOS 6.5\u306ebaseimage\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n$ cat /etc/redhat-release\nCentOS release 6.5 (Final)\n\nPython\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f2.6.6\u3067\u3059\u3002\n$ python -V\nPython 2.6.6\n\nPython 2.7\u4ee5\u4e0a\u3092\u4f7f\u308f\u306a\u3044\u3068iPython\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u305b\u3093\u3002\n$ curl https://bootstrap.pypa.io/get-pip.py -o - | sudo python\n$ sudo pip install ipython\nCollecting ipython\n  Downloading ipython-2.3.1.tar.gz (11.9MB)\n    100% |################################| 11.9MB 1.1MB/s\n    ERROR: IPython requires Python version 2.7 or 3.3 or above.\n    Complete output from command python setup.py egg_info:\n    ERROR: IPython requires Python version 2.7 or 3.3 or above.\n\n    ----------------------------------------\n    Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-bzXfTe/ipython\n\n\nUbuntu 14.04.1\u306e\u5834\u5408\nLogBaseInc/docker-spark-ipython\u3092\u4f7f\u3044Docker\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ docker pull logbase/spark-ipython\n$ docker run -d --name spark-ipython -p 8888:8888 logbase/spark-ipython\n\n\u30b7\u30a7\u30eb\u3092\u8d77\u52d5\u3057\u3066\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ docker exec -it spark-ipython /bin/bash\n$ cat /etc/lsb-release\nDISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=14.04\nDISTRIB_CODENAME=trusty\nDISTRIB_DESCRIPTION=\"Ubuntu 14.04.1 LTS\"\n\nPython\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f2.7.6\u3001IPython\u306f2.3.1\u3067\u3059\u3002\n$ python -V\nPython 2.7.6\n$ ipython -V\n2.3.1\n\n\nIPython Notebook\u3092\u4f7f\u3046\nngrok\u3092\u4f7f\u3044Docker\u30db\u30b9\u30c8\u306e8888\u30dd\u30fc\u30c8\u3092\u30c8\u30f3\u30cd\u30eb\u3057\u307e\u3059\u3002\n$ docker run -it --rm wizardapps/ngrok:latest ngrok $(docker inspect --format=\"{{ .NetworkSettings.IPAddress }}\" spark-ipython):8888\n\n\u30d6\u30e9\u30a6\u30b6\u3067IPython Notebook\u3092\u958b\u3044\u3066\u7c21\u5358\u306a\u30c6\u30b9\u30c8\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3059\u3002\nhttps://6e7e14f6.ngrok.com/\n\n\n[sequenceiq/spark](https://registry.hub.docker.com/u/sequenceiq/spark/)\u306eDocker\u30a4\u30e1\u30fc\u30b8\u306fCentOS 6.5\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u307e\u307e\u3067\u306fIPython\u306e\u30a4\u30f3\u30b9\u30c8-\u30eb\u306b\u5931\u6557\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002SequenceIQ\u306b\u306f[Ubuntu\u306ebaseimage](https://github.com/sequenceiq/docker-pam/blob/master/ubuntu-14.04/Dockerfile)\u3082\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u304b\u3089\u81ea\u5206\u3067Spark\u306eDockerfile\u3092\u4f5c\u308d\u3046\u3068\u601d\u3044\u307e\u3057\u305f\u304c\u3001\u3061\u3087\u3069\u3088\u3044\u30a4\u30e1\u30fc\u30b8\u304c[LogBaseInc/docker-spark-ipython](LogBaseInc/docker-spark-ipython)\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n\n## \u3053\u306e\u30b7\u30ea\u30fc\u30ba\n\n* [Spark on Docker\u3067\u5206\u6563\u578b\u6a5f\u68b0\u5b66\u7fd2\u3092\u59cb\u3081\u308b - Part 1: \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](http://qiita.com/masato/items/fe93157293114999b0d8)\n* [Spark on Docker\u3067\u5206\u6563\u578b\u6a5f\u68b0\u5b66\u7fd2\u3092\u59cb\u3081\u308b - Part 2: Ubuntu\u3067IPython Notebook\u3092\u4f7f\u3046](http://qiita.com/masato/items/be383a81e323f3b5b42e)\n* [Spark on Docker\u3067\u5206\u6563\u578b\u6a5f\u68b0\u5b66\u7fd2\u3092\u59cb\u3081\u308b - Part 3: \u30ed\u30fc\u30ab\u30eb\u30e2\u30fc\u30c9\u3067spark-shell\u3092\u8d77\u52d5\u3059\u308b](http://qiita.com/masato/items/9398cccde46cf62aa609)\n* [Spark on Docker\u3067\u5206\u6563\u578b\u6a5f\u68b0\u5b66\u7fd2\u3092\u59cb\u3081\u308b - Part 4: Ambari\u3067Hadoop\u3068Spark\u306esingle node\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](http://qiita.com/masato/items/34cf33b6a956a2f723f9)\n\n\n## CentOS 6.5\u306e\u5834\u5408\n\n[sequenceiq/spark](https://registry.hub.docker.com/u/sequenceiq/spark/)\n\n\u524d\u56de\u4f5c\u6210\u3057\u305fDocker\u30b3\u30f3\u30c6\u30ca\u306fCentOS 6.5\u306e[baseimage](https://github.com/sequenceiq/docker-pam/blob/master/centos-6.5/Dockerfile)\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\n``` bash\n$ cat /etc/redhat-release\nCentOS release 6.5 (Final)\n```\n\nPython\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f2.6.6\u3067\u3059\u3002\n\n``` bash\n$ python -V\nPython 2.6.6\n```\n\nPython 2.7\u4ee5\u4e0a\u3092\u4f7f\u308f\u306a\u3044\u3068iPython\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u305b\u3093\u3002\n\n``` bash\n$ curl https://bootstrap.pypa.io/get-pip.py -o - | sudo python\n$ sudo pip install ipython\nCollecting ipython\n  Downloading ipython-2.3.1.tar.gz (11.9MB)\n    100% |################################| 11.9MB 1.1MB/s\n    ERROR: IPython requires Python version 2.7 or 3.3 or above.\n    Complete output from command python setup.py egg_info:\n    ERROR: IPython requires Python version 2.7 or 3.3 or above.\n\n    ----------------------------------------\n    Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-bzXfTe/ipython\n```\n\n## Ubuntu 14.04.1\u306e\u5834\u5408\n\n[LogBaseInc/docker-spark-ipython](LogBaseInc/docker-spark-ipython)\u3092\u4f7f\u3044Docker\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n``` bash\n$ docker pull logbase/spark-ipython\n$ docker run -d --name spark-ipython -p 8888:8888 logbase/spark-ipython\n```\n\n\u30b7\u30a7\u30eb\u3092\u8d77\u52d5\u3057\u3066\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n$ docker exec -it spark-ipython /bin/bash\n$ cat /etc/lsb-release\nDISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=14.04\nDISTRIB_CODENAME=trusty\nDISTRIB_DESCRIPTION=\"Ubuntu 14.04.1 LTS\"\n```\n\nPython\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f2.7.6\u3001IPython\u306f2.3.1\u3067\u3059\u3002\n\n``` bash\n$ python -V\nPython 2.7.6\n$ ipython -V\n2.3.1\n```\n\n## IPython Notebook\u3092\u4f7f\u3046\n\nngrok\u3092\u4f7f\u3044Docker\u30db\u30b9\u30c8\u306e8888\u30dd\u30fc\u30c8\u3092\u30c8\u30f3\u30cd\u30eb\u3057\u307e\u3059\u3002\n\n``` bash\n$ docker run -it --rm wizardapps/ngrok:latest ngrok $(docker inspect --format=\"{{ .NetworkSettings.IPAddress }}\" spark-ipython):8888\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067IPython Notebook\u3092\u958b\u3044\u3066\u7c21\u5358\u306a\u30c6\u30b9\u30c8\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\nhttps://6e7e14f6.ngrok.com/\n\n\n![ipython-pyspark.png](https://qiita-image-store.s3.amazonaws.com/0/43745/d2481440-7a15-22a7-4073-b7b56e6e55ad.png)\n", "tags": ["Spark1.2.0", "hadoop2.6.0", "\u6a5f\u68b0\u5b66\u7fd2", "ipython_notebook2.3.1"]}