{"context": "JAX-RS\u306e\u30ea\u30bd\u30fc\u30b9\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u4e2d\u3067\u5b9f\u884c\u74b0\u5883\u306b\u95a2\u3059\u308b\u60c5\u5831(\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8)\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002\u4f55\u304c\u53d6\u5f97\u3067\u304d\u308b\u304b\u3068\u306fJSR-339\u306eSection-9.2\u306b\u8a18\u8ff0\u3057\u3066\u3042\u308b\u3082\u306e(Application\u30fbUriInfo\u30fbHttpHeaders\u30fbRequest\u306a\u3069)\u3068\u30b5\u30fc\u30d6\u30ec\u30c3\u30c8\u306e\u5834\u5408\u306f10.1\u306b\u4e0a\u3052\u3089\u308c\u3066\u3044\u308b\u3082\u306e(ServletConfig\u30fbServletContext\u306a\u3069)\u304c\u53d6\u5f97\u3067\u304d\u308b\u3002\u305f\u3060\u3057JAX-RS\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u304d\u306b\u30b5\u30fc\u30d6\u30ec\u30c3\u30c8\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u983c\u308b\u3088\u3046\u306a\u69cb\u6210\u306f\u3042\u307e\u308a\u3084\u3089\u306a\u3044\u307b\u3046\u304c\u826f\u3044\u3089\u3057\u3044\u3002\n\u5177\u4f53\u7684\u306a\u60c5\u5831\u306f@Context\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u53d6\u5f97\u3059\u308b\u3002\u4ee5\u4e0b\u30b5\u30f3\u30d7\u30eb\u3068\u30c6\u30b9\u30c8\u3002\n\nContextResource.java\npackage example.jaxrs;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.HttpHeaders;\nimport javax.ws.rs.core.UriInfo;\n\n@Path(\"/\")\npublic class ContextResource {\n\n    @GET\n    @Path(\"uriinfo\")\n    public String uriinfo(@Context UriInfo uriInfo) {\n        return uriInfo.getPath() + \";\" + uriInfo.getQueryParameters().getFirst(\"foo\");\n    }\n\n    @GET\n    @Path(\"headers\")\n    public String headers(@Context HttpHeaders headers) {\n        return headers.getHeaderString(\"X-Qiita-Demo\");\n    }\n}\n\n\n\u3053\u306e\u4f8b\u3067\u306fUriInfo\u3092\u901a\u3057\u3066URI\u306e\u30d1\u30b9\u3068GET\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u4f8b\u3068HttpHeaders\u3092\u901a\u3057\u3066HTTP\u306e\u30d8\u30c3\u30c0\u3092\u53d6\u5f97\u3059\u308b\u4f8b\u3092\u4f5c\u6210\u3057\u305f\u3002\u4ee5\u4e0b\u306f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3002\n\nContextResourceTest.groovy\npackage example.jaxrs\n\nimport org.glassfish.jersey.server.ResourceConfig\nimport org.glassfish.jersey.test.JerseyTest\nimport spock.lang.Shared\nimport spock.lang.Specification\n\nimport javax.ws.rs.core.Application\n\nclass ContextResourceTest extends Specification {\n    @Shared\n    def jerseyTest = new JerseyTest() {\n        @Override\n        protected Application configure() {\n            return new ResourceConfig(ContextResource.class)\n        }\n    }\n\n    def setupSpec() {\n        jerseyTest.setUp()\n    }\n\n    def cleanupSpec() {\n        jerseyTest.tearDown()\n    }\n\n\n    def \"test uriinfo\"() {\n        when:\n        def response = jerseyTest.target(\"/uriinfo\").queryParam(\"foo\", \"bar\").request().get()\n\n        then:\n        response.readEntity(String.class) == \"uriinfo;bar\"\n    }\n\n    def \"test headers\"() {\n        when:\n        def response = jerseyTest.target(\"/headers\").request().header(\"X-Qiita-Demo\", \"Foo Bar\").get()\n\n        then:\n        response.readEntity(String.class) == \"Foo Bar\"\n    }\n}\n\n\n\n\u53c2\u8003\n\n\nhttp://download.oracle.com/otndocs/jcp/jaxrs-2_0_rev_A-mrel-eval-spec/index.html - JSR-339(JRX-RS 2.0)\n\nJAX-RS\u306e\u30ea\u30bd\u30fc\u30b9\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u4e2d\u3067\u5b9f\u884c\u74b0\u5883\u306b\u95a2\u3059\u308b\u60c5\u5831(\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8)\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002\u4f55\u304c\u53d6\u5f97\u3067\u304d\u308b\u304b\u3068\u306fJSR-339\u306eSection-9.2\u306b\u8a18\u8ff0\u3057\u3066\u3042\u308b\u3082\u306e(Application\u30fbUriInfo\u30fbHttpHeaders\u30fbRequest\u306a\u3069)\u3068\u30b5\u30fc\u30d6\u30ec\u30c3\u30c8\u306e\u5834\u5408\u306f10.1\u306b\u4e0a\u3052\u3089\u308c\u3066\u3044\u308b\u3082\u306e(ServletConfig\u30fbServletContext\u306a\u3069)\u304c\u53d6\u5f97\u3067\u304d\u308b\u3002\u305f\u3060\u3057JAX-RS\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u304d\u306b\u30b5\u30fc\u30d6\u30ec\u30c3\u30c8\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u983c\u308b\u3088\u3046\u306a\u69cb\u6210\u306f\u3042\u307e\u308a\u3084\u3089\u306a\u3044\u307b\u3046\u304c\u826f\u3044\u3089\u3057\u3044\u3002\n\n\u5177\u4f53\u7684\u306a\u60c5\u5831\u306f`@Context`\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u53d6\u5f97\u3059\u308b\u3002\u4ee5\u4e0b\u30b5\u30f3\u30d7\u30eb\u3068\u30c6\u30b9\u30c8\u3002\n\n```ContextResource.java\npackage example.jaxrs;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.HttpHeaders;\nimport javax.ws.rs.core.UriInfo;\n\n@Path(\"/\")\npublic class ContextResource {\n\n    @GET\n    @Path(\"uriinfo\")\n    public String uriinfo(@Context UriInfo uriInfo) {\n        return uriInfo.getPath() + \";\" + uriInfo.getQueryParameters().getFirst(\"foo\");\n    }\n\n    @GET\n    @Path(\"headers\")\n    public String headers(@Context HttpHeaders headers) {\n        return headers.getHeaderString(\"X-Qiita-Demo\");\n    }\n}\n```\n\n\u3053\u306e\u4f8b\u3067\u306fUriInfo\u3092\u901a\u3057\u3066URI\u306e\u30d1\u30b9\u3068GET\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u4f8b\u3068HttpHeaders\u3092\u901a\u3057\u3066HTTP\u306e\u30d8\u30c3\u30c0\u3092\u53d6\u5f97\u3059\u308b\u4f8b\u3092\u4f5c\u6210\u3057\u305f\u3002\u4ee5\u4e0b\u306f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3002\n\n\n```ContextResourceTest.groovy\npackage example.jaxrs\n\nimport org.glassfish.jersey.server.ResourceConfig\nimport org.glassfish.jersey.test.JerseyTest\nimport spock.lang.Shared\nimport spock.lang.Specification\n\nimport javax.ws.rs.core.Application\n\nclass ContextResourceTest extends Specification {\n    @Shared\n    def jerseyTest = new JerseyTest() {\n        @Override\n        protected Application configure() {\n            return new ResourceConfig(ContextResource.class)\n        }\n    }\n\n    def setupSpec() {\n        jerseyTest.setUp()\n    }\n\n    def cleanupSpec() {\n        jerseyTest.tearDown()\n    }\n\n\n    def \"test uriinfo\"() {\n        when:\n        def response = jerseyTest.target(\"/uriinfo\").queryParam(\"foo\", \"bar\").request().get()\n\n        then:\n        response.readEntity(String.class) == \"uriinfo;bar\"\n    }\n\n    def \"test headers\"() {\n        when:\n        def response = jerseyTest.target(\"/headers\").request().header(\"X-Qiita-Demo\", \"Foo Bar\").get()\n\n        then:\n        response.readEntity(String.class) == \"Foo Bar\"\n    }\n}\n```\n\n# \u53c2\u8003\n* http://download.oracle.com/otndocs/jcp/jaxrs-2_0_rev_A-mrel-eval-spec/index.html - JSR-339(JRX-RS 2.0)\n", "tags": ["Java", "JAX-RS"]}