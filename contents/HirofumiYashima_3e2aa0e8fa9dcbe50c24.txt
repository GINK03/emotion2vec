{"context": "\n\nDataFrame\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u3092 \u7528\u610f\n\n\npython 2.7.12 Anaconda\n>>> import pandas as pd\n>>> \n>>> list_1 = [None, 1, 4, 6, 7, \"\", 'A', None, \"\"]\n>>> list_2 = [\"C\", \"D\", \"\", \"\", \"V\", 6, 7, 8, 9]\n>>> list_3 = [None, None, 3, 4, 5, 6,  7, 8, 9]\n>>> \n>>> len(list_1)\n9\n>>> len(list_2)\n9\n>>> len(list_3)\n9\n>>> \n>>> sample_df = pd.DataFrame({'Column_1' : list_1,\\\n...                           'Column_2' : list_2,\\\n...                           'Column_3' : list_3})\n>>>\n\n\n\uff08 \u7528\u610f \u3057\u305f \u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \uff09\n\n'Column_3' \u5217 \u3067\u306f\u3001None \u306f\u3001NaN \u3068\u3057\u3066\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\n\n\u539f\u56e0 \u306f \u4e0d\u660e\n\npython 2.7.12 Anaconda\n>>> sample_df\n  Column_1 Column_2  Column_3\n0     None        C       NaN\n1        1        D       NaN\n2        4                3.0\n3        6                4.0\n4        7        V       5.0\n5                 6       6.0\n6        A        7       7.0\n7     None        8       8.0\n8                 9       9.0\n>>> \n\n\n\n\n\u6570\u5024\u6761\u4ef6\n\n\n\u5024 \u304c 3 \u306e \u30bb\u30eb \u306e\u307f \u53d6\u308a\u51fa\u3059\n\n\npython 2.7.12 Anaconda\n>>> sample_df[sample_df == 3.0]\n  Column_1 Column_2  Column_3\n0      NaN      NaN       NaN\n1      NaN      NaN       NaN\n2      NaN      NaN       3.0\n3      NaN      NaN       NaN\n4      NaN      NaN       NaN\n5      NaN      NaN       NaN\n6      NaN      NaN       NaN\n7      NaN      NaN       NaN\n8      NaN      NaN       NaN\n>>> \n\n\n\n\u5024 \u304c 9\u4ee5\u4e0b \u306e \u30bb\u30eb \u306e\u307f \u53d6\u308a\u51fa\u3059\n\n\npython 2.7.12 Anaconda\n>>> sample_df[sample_df < 9]\n  Column_1 Column_2  Column_3\n0     None      NaN       NaN\n1        1      NaN       NaN\n2        4      NaN       3.0\n3        6      NaN       4.0\n4        7      NaN       5.0\n5      NaN        6       6.0\n6      NaN        7       7.0\n7     None        8       8.0\n8      NaN      NaN       NaN\n>>> \n\n\n\n\u5bfe\u8c61 \u3092 \u7279\u5b9a\u306e\u5217 \u306b \u7d5e\u3063\u3066 \u5b9f\u884c \u3059\u308b \u5834\u5408\n\n\npython 2.7.12 Anaconda\n>>> sample_df[sample_df['Column_2'] == 8]\n  Column_1 Column_2  Column_3\n7     None        8       8.0\n>>>\n\n\n\npython 2.7.12 Anaconda\n>>> sample_df[sample_df['Column_2'] <= 7]\n  Column_1 Column_2  Column_3\n5                 6       6.0\n6        A        7       7.0\n>>> \n\n\n\n\n\u6587\u5b57\uff08\u5217\uff09 \u4e00\u81f4\u6761\u4ef6 \u306f \uff08\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u5168\u4f53\u306b\u5bfe\u3057\u3066 \u306f\uff09\u3046\u307e\u304f\u3044\u304b\u306a\u3044\n\n\npython 2.7.12 Anaconda\n>>> sample_df[sample_df == 'V']\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/ops.py\", line 1184, in f\n    res = self._combine_const(other, func, raise_on_error=False)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/frame.py\", line 3555, in _combine_const\n    raise_on_error=raise_on_error)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 2911, in eval\n    return self.apply('eval', **kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 2890, in apply\n    applied = getattr(b, f)(**kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 1153, in eval\n    repr(other))\nTypeError: Could not compare ['V'] with block values\n>>> \n\n\n\npython 2.7.12 Anaconda\n>>> sample_df[sample_df == \"V\"]\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/ops.py\", line 1184, in f\n    res = self._combine_const(other, func, raise_on_error=False)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/frame.py\", line 3555, in _combine_const\n    raise_on_error=raise_on_error)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 2911, in eval\n    return self.apply('eval', **kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 2890, in apply\n    applied = getattr(b, f)(**kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 1153, in eval\n    repr(other))\nTypeError: Could not compare ['V'] with block values\n>>> \n\n\n\npython 2.7.12 Anaconda\n>>> sample_df[sample_df == \"C\"]\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/ops.py\", line 1184, in f\n    res = self._combine_const(other, func, raise_on_error=False)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/frame.py\", line 3555, in _combine_const\n    raise_on_error=raise_on_error)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 2911, in eval\n    return self.apply('eval', **kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 2890, in apply\n    applied = getattr(b, f)(**kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 1153, in eval\n    repr(other))\nTypeError: Could not compare ['C'] with block values\n>>> \n\n\n\n\u7279\u5b9a\u306e\u5217 \u3092 \u6307\u5b9a\u3059\u308b \u3068 \u3046\u307e\u304f\u3044\u304f\n\n\npython 2.7.12 Anaconda\n>>> sample_df[sample_df['Column_2'] == 'C']\n  Column_1 Column_2  Column_3\n0     None        C       NaN\n>>> \n\n\n\npython 2.7.12 Anaconda\n>>> sample_df[sample_df['Column_2'] == 'V']\n  Column_1 Column_2  Column_3\n4        7        V       5.0\n>>> \n\n\n\npython 2.7.12 Anaconda\n>>> sample_df[sample_df['Column_2'].isin(['C', 'A', 'D'])]\n  Column_1 Column_2  Column_3\n0     None        C       NaN\n1        1        D       NaN\n>>> \n\n\n\n\u7d50\u679c \u3082 DataFrame\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\n\npython 2.7.12 Anaconda\n>>> type(sample_df[sample_df['Column_2'].isin(['C', 'A', 'D'])])\n<class 'pandas.core.frame.DataFrame'>\n>>> \n\n\n\npython 2.7.12 Anaconda\n>>> filtered_df = sample_df[sample_df['Column_2'].isin(['C', 'A', 'D'])]\n>>> filtered_df\n  Column_1 Column_2  Column_3\n0     None        C       NaN\n1        1        D       NaN\n>>> \n\n\n\npython 2.7.12 Anaconda\n>>> filtered_df_2 = sample_df[sample_df < 9]\n>>> filtered_df_2\n  Column_1 Column_2  Column_3\n0     None      NaN       NaN\n1        1      NaN       NaN\n2        4      NaN       3.0\n3        6      NaN       4.0\n4        7      NaN       5.0\n5      NaN        6       6.0\n6      NaN        7       7.0\n7     None        8       8.0\n8      NaN      NaN       NaN\n>>> \n>>> filtered_df_2.shape\n(9, 3)\n>>> \n>>> filtered_df_2.index\nRangeIndex(start=0, stop=9, step=1)\n>>> \n>>> list(filtered_df_2.index)\n[0, 1, 2, 3, 4, 5, 6, 7, 8]\n>>> \n>>> filtered_df_2.columns\nIndex([u'Column_1', u'Column_2', u'Column_3'], dtype='object')\n>>>\n>>> \n>>> list(filtered_df_2.columns)\n['Column_1', 'Column_2', 'Column_3']\n>>> \n>>> filtered_df_2['Column_3'].value_counts()\n8.0    1\n7.0    1\n6.0    1\n5.0    1\n4.0    1\n3.0    1\nName: Column_3, dtype: int64\n>>> \n\n\n\n\nfillna\u30e1\u30bd\u30c3\u30c9 \u3067\u3001NaN \u306b\u306a\u3063\u305f\u90e8\u5206\u3092\u3001\u4efb\u610f\u306e\u6570\u5024\u3084\u6587\u5b57\uff08\u5217\uff09 \u3067 \u57cb\u3081\u76f4\u3059\n\n\npython 2.7.12 Anaconda\n>>> filtered_df\n  Column_1 Column_2  Column_3\n0     None        C       NaN\n1        1        D       NaN\n>>> \n>>> filtered_df.fillna(0)\n   Column_1 Column_2  Column_3\n0         0        C       0.0\n1         1        D       0.0\n>>> \n>>> filtered_df.fillna('NA')\n  Column_1 Column_2 Column_3\n0       NA        C       NA\n1        1        D       NA\n>>> \n\n\n\npython 2.7.12 Anaconda\n>>> filtered_df_2\n  Column_1 Column_2  Column_3\n0     None      NaN       NaN\n1        1      NaN       NaN\n2        4      NaN       3.0\n3        6      NaN       4.0\n4        7      NaN       5.0\n5      NaN        6       6.0\n6      NaN        7       7.0\n7     None        8       8.0\n8      NaN      NaN       NaN\n>>> \n>>> filtered_df_2.fillna(0)\n   Column_1  Column_2  Column_3\n0         0         0       0.0\n1         1         0       0.0\n2         4         0       3.0\n3         6         0       4.0\n4         7         0       5.0\n5         0         6       6.0\n6         0         7       7.0\n7         0         8       8.0\n8         0         0       0.0\n>>> \n>>> filtered_df_2.fillna('NA')\n  Column_1 Column_2 Column_3\n0       NA       NA       NA\n1        1       NA       NA\n2        4       NA        3\n3        6       NA        4\n4        7       NA        5\n5       NA        6        6\n6       NA        7        7\n7       NA        8        8\n8       NA       NA       NA\n>>> \n\n\n\n\u5024\u306e\u5927\u304d\u3055\uff08\u9ad8\u4f4e\uff09\u5206\u5e03 \u3092 \u8996\u899a\u7684 \u306b \u8868\u73fe\u3059\u308b\u3002\n\n\n\uff08 \u53c2\u8003\u30a6\u30a7\u30d6\u30da\u30fc\u30b8 \uff09\n\n\nHatena Blog StatsFragments \uff082015/11/15\uff09 \u300cPython pandas \u30d7\u30ed\u30c3\u30c8\u6a5f\u80fd\u3092\u4f7f\u3044\u3053\u306a\u3059\u300d\n\n\n\n\u5143\u306eDataFrame \u3092 \u5909\u66f4\u3057\u306a\u3044\u3088\u3046 \u306b\u3001copy\u3057\u3066 \u65b0\u3057\u3044DataFrame\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u3067 fillna\u51e6\u7406 \u3092 \u884c\u3046\u3002\n\n\npython 2.7.12 Anaconda\n>>> new_df = filtered_df_2.copy()\n>>> new_df\n  Column_1 Column_2  Column_3\n0     None      NaN       NaN\n1        1      NaN       NaN\n2        4      NaN       3.0\n3        6      NaN       4.0\n4        7      NaN       5.0\n5      NaN        6       6.0\n6      NaN        7       7.0\n7     None        8       8.0\n8      NaN      NaN       NaN\n>>>\n\n\n\npython 2.7.12 Anaconda\n>>> new_df = new_df.fillna(0)\n>>> new_df\n   Column_1  Column_2  Column_3\n0         0         0       0.0\n1         1         0       0.0\n2         4         0       3.0\n3         6         0       4.0\n4         7         0       5.0\n5         0         6       6.0\n6         0         7       7.0\n7         0         8       8.0\n8         0         0       0.0\n>>>\n\n\n\n\u5143\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u306f \u5909\u66f4\u3055\u308c\u3066\u3044\u306a\u3044\n\n\npython 2.7.12 Anaconda\n>>> filtered_df_2\n  Column_1 Column_2  Column_3\n0     None      NaN       NaN\n1        1      NaN       NaN\n2        4      NaN       3.0\n3        6      NaN       4.0\n4        7      NaN       5.0\n5      NaN        6       6.0\n6      NaN        7       7.0\n7     None        8       8.0\n8      NaN      NaN       NaN\n>>>\n\n\n\nDataFrame\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u306f\u3001\u884c\u5217\u3092\u753b\u50cf\u3068\u3057\u3066\u63cf\u753b\u3059\u308b imshow() \u30e1\u30bd\u30c3\u30c9 \u3092 \u6301\u3063\u3066\u3044\u306a\u3044\nDataFrame\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u306e pipe \u30e1\u30bd\u30c3\u30c9 \u3067\u3001matplotlib.pyplot \u306e imshow() \u30e1\u30bd\u30c3\u30c9 \u306b \u5024\uff08\u5f15\u6570\uff09 \u3092 \uff08 UNIX\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30e9\u30a4\u30af \u306b \uff09 \u6e21\u3057\u3066\u3001matplotlib.pyplot \u306e imshow() \u30e1\u30bd\u30c3\u30c9\u3000\u3092 \u5b9f\u884c\u3059\u308b\n\n\npython 2.7.12 Anaconda\n>>> new_df.pipe(plt.imshow, cmap='winter')\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nNameError: name 'plt' is not defined\n>>> \n\n\n\n import matplotlib.pyplot \u304c \u5fc5\u8981\n\n\npython 2.7.12 Anaconda\n>>> import matplotlib.pyplot as plt\n>>>\n\n\n\npython 2.7.12 Anaconda\n>>> new_df.pipe(plt.imshow, cmap='winter')\n<matplotlib.image.AxesImage object at 0x1174b3c50>\n>>>\n\n\n\npython 2.7.12 Anaconda\n>>> plt.show()\n\n\n\n\n\u4e0b\u306e\u6570\u8868 \u3068 \u898b\u6bd4\u3079\u3066 \u307f\u308b\u3068\u3001\u6570\u5b57\u306e\u5024 \u306e \u5927\u304d\u3044\u9818\u57df \u306e \u8272 \u304c\u3001\u660e\u308b\u304f \u306a\u3063\u3066\u3044\u308b\u3002\n\n\n\u7e26\u8ef8\u306e $0\u301c8$ \u306f\u3001Y\u8ef8\u65b9\u5411\u306b \u6a2a \u3067 \u5207\u3063\u3066\u3001\u305d\u306e\u5024 \u304c \u3042\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u5024\u7bc4\u56f2 \u3092 \u793a\u3057\u3066\u3044\u308b\u3001\u3068\u89e3\u91c8\u3059\u3079\u304d\u3060\u308d\u3046\u304b\uff1f\n\u6a2a\u8ef8 \u306e $-0.50\u301c+2.5$ \u306f\u3001\u3069\u3053\u304b\u3089\u6765\u305f\u6570\u5b57\u3060\u308d\u3046\u304b\uff1f\n\n>>> new_df\n   Column_1  Column_2  Column_3\n0         0         0       0.0\n1         1         0       0.0\n2         4         0       3.0\n3         6         0       4.0\n4         7         0       5.0\n5         0         6       6.0\n6         0         7       7.0\n7         0         8       8.0\n8         0         0       0.0\n>>>\n\n\nNone \u3068 NA \u3092 \u542b\u3093\u3060 \u3082\u3068\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u3092 \u53ef\u8996\u5316\u3057\u3088\u3046\u3068\u3059\u308b \u3068\u3001\u5931\u6557\n\n\npython 2.7.12 Anaconda\n>>> filtered_df_2.pipe(plt.imshow, cmap='winter')\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/generic.py\", line 2636, in pipe\n    return func(self, *args, **kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/matplotlib/pyplot.py\", line 3022, in imshow\n    **kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/matplotlib/__init__.py\", line 1812, in inner\n    return func(ax, *args, **kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/matplotlib/axes/_axes.py\", line 4947, in imshow\n    im.set_data(X)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/matplotlib/image.py\", line 449, in set_data\n    raise TypeError(\"Image data can not convert to float\")\nTypeError: Image data can not convert to float\n>>> \n\n\n##__DataFrame\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u3092 \u7528\u610f__\n\n```{python:python 2.7.12 Anaconda}\n>>> import pandas as pd\n>>> \n>>> list_1 = [None, 1, 4, 6, 7, \"\", 'A', None, \"\"]\n>>> list_2 = [\"C\", \"D\", \"\", \"\", \"V\", 6, 7, 8, 9]\n>>> list_3 = [None, None, 3, 4, 5, 6,  7, 8, 9]\n>>> \n>>> len(list_1)\n9\n>>> len(list_2)\n9\n>>> len(list_3)\n9\n>>> \n>>> sample_df = pd.DataFrame({'Column_1' : list_1,\\\n...                           'Column_2' : list_2,\\\n...                           'Column_3' : list_3})\n>>>\n```\n\n__\uff08 \u7528\u610f \u3057\u305f \u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \uff09__\n\n####__'Column_3' \u5217 \u3067\u306f\u3001*None* \u306f\u3001NaN \u3068\u3057\u3066\u51fa\u529b\u3055\u308c\u3066\u3044\u308b__\n\n__\u539f\u56e0 \u306f \u4e0d\u660e__\n\n```{python:python 2.7.12 Anaconda} \n>>> sample_df\n  Column_1 Column_2  Column_3\n0     None        C       NaN\n1        1        D       NaN\n2        4                3.0\n3        6                4.0\n4        7        V       5.0\n5                 6       6.0\n6        A        7       7.0\n7     None        8       8.0\n8                 9       9.0\n>>> \n```\n\n___\n\n###__\u6570\u5024\u6761\u4ef6__\n\n####__\u5024 \u304c 3 \u306e \u30bb\u30eb \u306e\u307f \u53d6\u308a\u51fa\u3059__\n\n```{python:python 2.7.12 Anaconda} \n>>> sample_df[sample_df == 3.0]\n  Column_1 Column_2  Column_3\n0      NaN      NaN       NaN\n1      NaN      NaN       NaN\n2      NaN      NaN       3.0\n3      NaN      NaN       NaN\n4      NaN      NaN       NaN\n5      NaN      NaN       NaN\n6      NaN      NaN       NaN\n7      NaN      NaN       NaN\n8      NaN      NaN       NaN\n>>> \n```\n\n####__\u5024 \u304c 9\u4ee5\u4e0b \u306e \u30bb\u30eb \u306e\u307f \u53d6\u308a\u51fa\u3059__\n\n```{python:python 2.7.12 Anaconda} \n>>> sample_df[sample_df < 9]\n  Column_1 Column_2  Column_3\n0     None      NaN       NaN\n1        1      NaN       NaN\n2        4      NaN       3.0\n3        6      NaN       4.0\n4        7      NaN       5.0\n5      NaN        6       6.0\n6      NaN        7       7.0\n7     None        8       8.0\n8      NaN      NaN       NaN\n>>> \n```\n\n####__\u5bfe\u8c61 \u3092 \u7279\u5b9a\u306e\u5217 \u306b \u7d5e\u3063\u3066 \u5b9f\u884c \u3059\u308b \u5834\u5408__\n\n```{python:python 2.7.12 Anaconda} \n>>> sample_df[sample_df['Column_2'] == 8]\n  Column_1 Column_2  Column_3\n7     None        8       8.0\n>>>\n```\n\n```{python:python 2.7.12 Anaconda} \n>>> sample_df[sample_df['Column_2'] <= 7]\n  Column_1 Column_2  Column_3\n5                 6       6.0\n6        A        7       7.0\n>>> \n```\n___\n\n###__\u6587\u5b57\uff08\u5217\uff09 \u4e00\u81f4\u6761\u4ef6 \u306f \uff08\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u5168\u4f53\u306b\u5bfe\u3057\u3066 \u306f\uff09\u3046\u307e\u304f\u3044\u304b\u306a\u3044__\n\n```{python:python 2.7.12 Anaconda} \n>>> sample_df[sample_df == 'V']\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/ops.py\", line 1184, in f\n    res = self._combine_const(other, func, raise_on_error=False)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/frame.py\", line 3555, in _combine_const\n    raise_on_error=raise_on_error)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 2911, in eval\n    return self.apply('eval', **kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 2890, in apply\n    applied = getattr(b, f)(**kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 1153, in eval\n    repr(other))\nTypeError: Could not compare ['V'] with block values\n>>> \n```\n\n\n```{python:python 2.7.12 Anaconda} \n>>> sample_df[sample_df == \"V\"]\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/ops.py\", line 1184, in f\n    res = self._combine_const(other, func, raise_on_error=False)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/frame.py\", line 3555, in _combine_const\n    raise_on_error=raise_on_error)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 2911, in eval\n    return self.apply('eval', **kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 2890, in apply\n    applied = getattr(b, f)(**kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 1153, in eval\n    repr(other))\nTypeError: Could not compare ['V'] with block values\n>>> \n```\n\n```{python:python 2.7.12 Anaconda} \n>>> sample_df[sample_df == \"C\"]\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/ops.py\", line 1184, in f\n    res = self._combine_const(other, func, raise_on_error=False)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/frame.py\", line 3555, in _combine_const\n    raise_on_error=raise_on_error)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 2911, in eval\n    return self.apply('eval', **kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 2890, in apply\n    applied = getattr(b, f)(**kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/internals.py\", line 1153, in eval\n    repr(other))\nTypeError: Could not compare ['C'] with block values\n>>> \n```\n\n###__\u7279\u5b9a\u306e\u5217 \u3092 \u6307\u5b9a\u3059\u308b \u3068 \u3046\u307e\u304f\u3044\u304f__\n\n\n```{python:python 2.7.12 Anaconda} \n>>> sample_df[sample_df['Column_2'] == 'C']\n  Column_1 Column_2  Column_3\n0     None        C       NaN\n>>> \n```\n\n```{python:python 2.7.12 Anaconda} \n>>> sample_df[sample_df['Column_2'] == 'V']\n  Column_1 Column_2  Column_3\n4        7        V       5.0\n>>> \n```\n\n```{python:python 2.7.12 Anaconda} \n>>> sample_df[sample_df['Column_2'].isin(['C', 'A', 'D'])]\n  Column_1 Column_2  Column_3\n0     None        C       NaN\n1        1        D       NaN\n>>> \n```\n\n####__\u7d50\u679c \u3082 DataFrame\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8__\n\n```{python:python 2.7.12 Anaconda}\n>>> type(sample_df[sample_df['Column_2'].isin(['C', 'A', 'D'])])\n<class 'pandas.core.frame.DataFrame'>\n>>> \n```\n\n```{python:python 2.7.12 Anaconda}\n>>> filtered_df = sample_df[sample_df['Column_2'].isin(['C', 'A', 'D'])]\n>>> filtered_df\n  Column_1 Column_2  Column_3\n0     None        C       NaN\n1        1        D       NaN\n>>> \n```\n\n```{python:python 2.7.12 Anaconda}\n>>> filtered_df_2 = sample_df[sample_df < 9]\n>>> filtered_df_2\n  Column_1 Column_2  Column_3\n0     None      NaN       NaN\n1        1      NaN       NaN\n2        4      NaN       3.0\n3        6      NaN       4.0\n4        7      NaN       5.0\n5      NaN        6       6.0\n6      NaN        7       7.0\n7     None        8       8.0\n8      NaN      NaN       NaN\n>>> \n>>> filtered_df_2.shape\n(9, 3)\n>>> \n>>> filtered_df_2.index\nRangeIndex(start=0, stop=9, step=1)\n>>> \n>>> list(filtered_df_2.index)\n[0, 1, 2, 3, 4, 5, 6, 7, 8]\n>>> \n>>> filtered_df_2.columns\nIndex([u'Column_1', u'Column_2', u'Column_3'], dtype='object')\n>>>\n>>> \n>>> list(filtered_df_2.columns)\n['Column_1', 'Column_2', 'Column_3']\n>>> \n>>> filtered_df_2['Column_3'].value_counts()\n8.0    1\n7.0    1\n6.0    1\n5.0    1\n4.0    1\n3.0    1\nName: Column_3, dtype: int64\n>>> \n```\n\n___\n\n\n###__fillna\u30e1\u30bd\u30c3\u30c9 \u3067\u3001*NaN* \u306b\u306a\u3063\u305f\u90e8\u5206\u3092\u3001\u4efb\u610f\u306e\u6570\u5024\u3084\u6587\u5b57\uff08\u5217\uff09 \u3067 \u57cb\u3081\u76f4\u3059__\n\n```{python:python 2.7.12 Anaconda}\n>>> filtered_df\n  Column_1 Column_2  Column_3\n0     None        C       NaN\n1        1        D       NaN\n>>> \n>>> filtered_df.fillna(0)\n   Column_1 Column_2  Column_3\n0         0        C       0.0\n1         1        D       0.0\n>>> \n>>> filtered_df.fillna('NA')\n  Column_1 Column_2 Column_3\n0       NA        C       NA\n1        1        D       NA\n>>> \n```\n\n\n```{python:python 2.7.12 Anaconda}\n>>> filtered_df_2\n  Column_1 Column_2  Column_3\n0     None      NaN       NaN\n1        1      NaN       NaN\n2        4      NaN       3.0\n3        6      NaN       4.0\n4        7      NaN       5.0\n5      NaN        6       6.0\n6      NaN        7       7.0\n7     None        8       8.0\n8      NaN      NaN       NaN\n>>> \n>>> filtered_df_2.fillna(0)\n   Column_1  Column_2  Column_3\n0         0         0       0.0\n1         1         0       0.0\n2         4         0       3.0\n3         6         0       4.0\n4         7         0       5.0\n5         0         6       6.0\n6         0         7       7.0\n7         0         8       8.0\n8         0         0       0.0\n>>> \n>>> filtered_df_2.fillna('NA')\n  Column_1 Column_2 Column_3\n0       NA       NA       NA\n1        1       NA       NA\n2        4       NA        3\n3        6       NA        4\n4        7       NA        5\n5       NA        6        6\n6       NA        7        7\n7       NA        8        8\n8       NA       NA       NA\n>>> \n```\n\n\n##__\u5024\u306e\u5927\u304d\u3055\uff08\u9ad8\u4f4e\uff09\u5206\u5e03 \u3092 \u8996\u899a\u7684 \u306b \u8868\u73fe\u3059\u308b\u3002__\n\n####__\uff08 \u53c2\u8003\u30a6\u30a7\u30d6\u30da\u30fc\u30b8 \uff09__\n\n* [Hatena Blog StatsFragments \uff082015/11/15\uff09 \u300cPython pandas \u30d7\u30ed\u30c3\u30c8\u6a5f\u80fd\u3092\u4f7f\u3044\u3053\u306a\u3059\u300d](http://sinhrks.hatenablog.com/entry/2015/11/15/222543)\n\n___\n\n* __\u5143\u306eDataFrame \u3092 \u5909\u66f4\u3057\u306a\u3044\u3088\u3046 \u306b\u3001copy\u3057\u3066 \u65b0\u3057\u3044DataFrame\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u3067 fillna\u51e6\u7406 \u3092 \u884c\u3046\u3002__\n\n```{python:python 2.7.12 Anaconda}\n>>> new_df = filtered_df_2.copy()\n>>> new_df\n  Column_1 Column_2  Column_3\n0     None      NaN       NaN\n1        1      NaN       NaN\n2        4      NaN       3.0\n3        6      NaN       4.0\n4        7      NaN       5.0\n5      NaN        6       6.0\n6      NaN        7       7.0\n7     None        8       8.0\n8      NaN      NaN       NaN\n>>>\n```\n\n```{python:python 2.7.12 Anaconda}\n>>> new_df = new_df.fillna(0)\n>>> new_df\n   Column_1  Column_2  Column_3\n0         0         0       0.0\n1         1         0       0.0\n2         4         0       3.0\n3         6         0       4.0\n4         7         0       5.0\n5         0         6       6.0\n6         0         7       7.0\n7         0         8       8.0\n8         0         0       0.0\n>>>\n```\n\n* __\u5143\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u306f \u5909\u66f4\u3055\u308c\u3066\u3044\u306a\u3044__\n\n```{python:python 2.7.12 Anaconda}\n>>> filtered_df_2\n  Column_1 Column_2  Column_3\n0     None      NaN       NaN\n1        1      NaN       NaN\n2        4      NaN       3.0\n3        6      NaN       4.0\n4        7      NaN       5.0\n5      NaN        6       6.0\n6      NaN        7       7.0\n7     None        8       8.0\n8      NaN      NaN       NaN\n>>>\n```\n\n* DataFrame\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u306f\u3001\u884c\u5217\u3092\u753b\u50cf\u3068\u3057\u3066\u63cf\u753b\u3059\u308b *imshow()* \u30e1\u30bd\u30c3\u30c9 \u3092 \u6301\u3063\u3066\u3044\u306a\u3044\n* DataFrame\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u306e *pipe* \u30e1\u30bd\u30c3\u30c9 \u3067\u3001matplotlib.pyplot \u306e *imshow()* \u30e1\u30bd\u30c3\u30c9 \u306b \u5024\uff08\u5f15\u6570\uff09 \u3092 \uff08 UNIX\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30e9\u30a4\u30af \u306b \uff09 \u6e21\u3057\u3066\u3001matplotlib.pyplot \u306e *imshow()* \u30e1\u30bd\u30c3\u30c9\u3000\u3092 \u5b9f\u884c\u3059\u308b\n\n```{python:python 2.7.12 Anaconda} \n>>> new_df.pipe(plt.imshow, cmap='winter')\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nNameError: name 'plt' is not defined\n>>> \n```\n\n*  import matplotlib.pyplot \u304c \u5fc5\u8981\n\n```{python:python 2.7.12 Anaconda}\n>>> import matplotlib.pyplot as plt\n>>>\n```\n\n\n```{python:python 2.7.12 Anaconda}\n>>> new_df.pipe(plt.imshow, cmap='winter')\n<matplotlib.image.AxesImage object at 0x1174b3c50>\n>>>\n```\n\n\n```{python:python 2.7.12 Anaconda}\n>>> plt.show()\n```\n\n\n<img width=\"639\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-02-14 22.19.08.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/43487/53b2ec5d-5fa1-56f9-5294-6a46397a2ef9.png\">\n\n\n####__\u4e0b\u306e\u6570\u8868 \u3068 \u898b\u6bd4\u3079\u3066 \u307f\u308b\u3068\u3001\u6570\u5b57\u306e\u5024 \u306e \u5927\u304d\u3044\u9818\u57df \u306e \u8272 \u304c\u3001\u660e\u308b\u304f \u306a\u3063\u3066\u3044\u308b\u3002__\n\n* __\u7e26\u8ef8\u306e $0\u301c8$ \u306f\u3001Y\u8ef8\u65b9\u5411\u306b \u6a2a \u3067 \u5207\u3063\u3066\u3001\u305d\u306e\u5024 \u304c \u3042\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u5024\u7bc4\u56f2 \u3092 \u793a\u3057\u3066\u3044\u308b\u3001\u3068\u89e3\u91c8\u3059\u3079\u304d\u3060\u308d\u3046\u304b\uff1f__\n* __\u6a2a\u8ef8 \u306e $-0.50\u301c+2.5$ \u306f\u3001\u3069\u3053\u304b\u3089\u6765\u305f\u6570\u5b57\u3060\u308d\u3046\u304b\uff1f__\n\n```\n>>> new_df\n   Column_1  Column_2  Column_3\n0         0         0       0.0\n1         1         0       0.0\n2         4         0       3.0\n3         6         0       4.0\n4         7         0       5.0\n5         0         6       6.0\n6         0         7       7.0\n7         0         8       8.0\n8         0         0       0.0\n>>>\n```\n\n###__*None* \u3068 *NA* \u3092 \u542b\u3093\u3060 \u3082\u3068\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u3092 \u53ef\u8996\u5316\u3057\u3088\u3046\u3068\u3059\u308b \u3068\u3001\u5931\u6557__\n\n```{python:python 2.7.12 Anaconda}\n>>> filtered_df_2.pipe(plt.imshow, cmap='winter')\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/pandas/core/generic.py\", line 2636, in pipe\n    return func(self, *args, **kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/matplotlib/pyplot.py\", line 3022, in imshow\n    **kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/matplotlib/__init__.py\", line 1812, in inner\n    return func(ax, *args, **kwargs)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/matplotlib/axes/_axes.py\", line 4947, in imshow\n    im.set_data(X)\n  File \"/Users/hirofumiyashima/.pyenv/versions/anaconda-4.0.0/lib/python2.7/site-packages/matplotlib/image.py\", line 449, in set_data\n    raise TypeError(\"Image data can not convert to float\")\nTypeError: Image data can not convert to float\n>>> \n```\n", "tags": ["pandas", "DataFrame", "\u30c7\u30fc\u30bf\u5206\u6790"]}