{"context": " More than 1 year has passed since last update.\n\n\u7d9a\u304d\u66f8\u3044\u305f\n\u4e0b\u8a18\u3067\u8a00\u53ca\u3057\u305fFileList\u4f5c\u3063\u3066\u307f\u305f\n\n\u524d\u7f6e\u304d\n\u306a\u3093\u304b\u3001Grunt, Gulp\u754c\u9688\u3001\u300c\u30bf\u30b9\u30af\u30e9\u30f3\u30ca\u30fc\u75b2\u308c\u300d\u307f\u305f\u3044\u306a\u30dd\u30b9\u30c8\u304c\u3061\u3089\u307b\u3089\u3042\u308a\u307e\u3059\u306a\u3002\u305d\u308c\u306b\u4e57\u3058\u3066\uff08\u7b11\uff09rake\u3092\u52e7\u3081\u3066\u3044\u308b\u4eba\u306a\u3093\u304b\u3082\u3044\u3089\u3063\u3057\u3083\u3044\u307e\u3059\u304c\u3001\n\u300cPerl, Ruby, Python \u306f\u3069\u308c\u304b\u3072\u3068\u3064\u899a\u3048\u3068\u304d\u3083\u3044\u3044\u300d\n\u300c\u307b\u307b\u3046\u3002\u3058\u3083\u3001Perl\u5206\u304b\u308b\u304b\u3089\u30b9\u30ad\u30c3\u30d7\u3067\u3044\u3063\u304b\u300d\n\u3068\u4f55\u6c17\u306a\u304fRuby, Python\u3092\u30b9\u30eb\u30fc\u3057\u3066\u3057\u307e\u3063\u305f\u304a\u3058\u3055\u3093\u306b\u306f\u60b2\u3057\u3044\u306e\u3060\u3002\u3068\u8a00\u3046\u308f\u3051\u3067\u3001\u30bf\u30b9\u30af\u30e9\u30f3\u30ca\u30fc\u306a\u3093\u3066\u4f7f\u308f\u305a\u306b\u3001\u3061\u3087\u3063\u3068\u3057\u305f\u4fbf\u5229\u95a2\u6570\u3092require\u3057\u3066\u3001\nforever start -c coffee /path/to/tools/automake.coffee\n\u3067\u3044\u3044\u3093\u3058\u3083\u306d\uff1f\uff08\u3082\u3061\u308d\u3093\u3001automake.coffee\u304c\u30bf\u30b9\u30af\u30e9\u30f3\u30ca\u30fc\u3063\u3061\u3085\u3046\u304b\u3001\u81ea\u88fd\u751f\u66f8\u304d\u76e3\u8996\uff06\u30bf\u30b9\u30af\u7ba1\u7406\u30b9\u30af\u30ea\u30d7\u30c8\u3060\u3088\uff09\n\u3067\u3001\u305d\u3046\u3044\u3046\u3053\u3068\u3092\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u305d\u306e\u300c\u3061\u3087\u3063\u3068\u3057\u305f\u4fbf\u5229\u95a2\u6570\u300d\u306brake\u3063\u307d\u3044FileList\u3068\u304b\u3001run(target, depedencyfiles, {watch: on}, func)\u307f\u305f\u3044\u306a\u306e\u304c\u6b32\u3057\u304f\u306a\u308b\u3002\u307e\u3042\u3001\u3061\u3087\u308d\u3061\u3087\u308d\u3068\u7a7a\u304d\u6642\u9593\u306b\u66f8\u3044\u3066\u30a2\u30c3\u30d7\u3057\u3088\u3046\u3068\u601d\u3046\u304c\u3001\u305d\u308c\u3067\u826f\u304f\u306a\u3044\u304b\u3044\uff1f\n\n\u305d\u306e\u305f\u3081\u306e\u6700\u521d\u306e\u300c\u3061\u3087\u3063\u3068\u3057\u305f\u4fbf\u5229\u95a2\u6570\u300d\n\u3068\u308a\u3042\u3048\u305a\u3001FileList\u4f5c\u308b\u3093\u306a\u3089\u3001\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u6b32\u3057\u3044\u3088\u306d\u3002asterisk, globstar, question, bracket, brace\u304c\u4f7f\u3048\u308c\u3070\u305d\u308c\u3067\u826f\u3044\u3088\u306d\u3002\u5909\u63db\u30eb\u30fc\u30eb\u306f\u4e0b\u8a18\n\n\u6b63\u898f\u8868\u73fe\u3068\u88ab\u308b\u8868\u8a18\u5168\u90e8\n\u30a8\u30b9\u30b1\u30fc\u30d7\u3057\u3068\u3044\u305f\n*\n[^/]* \u30d1\u30b9\u533a\u5207\u308a\u4ee5\u5916\u306e\u5168\u3066\u306e0\u56de\u4ee5\u4e0a\u7e70\u308a\u8fd4\u3057\n**\n.* \u30d1\u30b9\u533a\u5207\u308a\u3092\u542b\u3081\u305f\u5168\u3066\u306e0\u56de\u4ee5\u4e0a\u7e70\u308a\u8fd4\u3057\n?\n[^/] \u30d1\u30b9\u533a\u5207\u308a\u4ee5\u5916\u306e\u5168\u3066\uff081\u6587\u5b57\uff09\n{foo,bar}\n(foo|bar) \u9078\u629e\n[a-z]\n[a-z] \u3064\u30fc\u304b\u3001\u89e6\u3063\u3066\u306a\u3044\uff01\n\u6587\u672b\n$ \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u306e\u610f\u5473\u3063\u3066\u3001\u5f8c\u65b9\u4e00\u81f4\u3060\u3088\u306d\n\n\u3042\u308c\uff1f \u3069\u3053\u305e\u306e\u30b7\u30a7\u30eb\u3068\u304b\u30c4\u30fc\u30eb\u306b\u63a1\u7528\u3055\u308c\u3066\u308b globstar\u300c**\u300d\u3063\u3066\u3001/path/**/hoge \u3068\u66f8\u3044\u305f\u3089 /path/hoge \u306b\u30de\u30c3\u30c1\u3059\u3093\u306e\uff1f\u3000\u3059\u308b\u3068\u3057\u305f\u3089\u3053\u308c\u3058\u3083\u9055\u3046\u306d\u3002\u307e\u3042\u3001\u305d\u3053\u306f\u7a81\u3063\u8fbc\u307f\u304c\u3042\u308c\u3070\u76f4\u3059\u611f\u3058\u3002\u306a\u3093\u304b\u30b7\u30a7\u30eb\u306b\u3088\u3063\u3066\u9055\u3046\u3068\u304b\u3061\u3089\u3063\u3068\u805e\u3044\u305f\u3051\u3069\u3055\u3002\n\u306a\u3093\u3060\u304b\u3093\u3060\u8a00\u3063\u3066\u76f4\u3057\u305f\u65b9\u304c\u3088\u3055\u3052\u306a\u306e\u3067\u3001/path/**/hoge \u3068\u66f8\u3044\u305f\u3089 /path/hoge \u306b\u30de\u30c3\u30c1\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3002\n\u3068\u3086\u30fc\u308f\u3051\u3067\u3001\u3053\u3044\u3064\u3060\u3002\u4e00\u822c\u6027\u304c\u9ad8\u3044\u306e\u3067\u3001Javascript\u7248\u3082\u8f09\u305b\u3068\u304f\u3088\u3002\n\nwildcard.coffee\ny_combi = (func) ->\n  return ((p) ->\n    return () ->\n      return func(p(p)).apply(this,arguments)\n  )((p) ->\n    return () ->\n      return func(p(p)).apply(this,arguments)\n  )\n\n\nbraces2parentheses = y_combi (func) ->\n  return (str) ->\n    dst = str\n    result = str.match(/^([^\\{]*)\\{([^\\}]*)\\}(.*)$/)\n    if result?\n      dst = result[1]+'('+result[2].split(',').join('|')+')'+func(result[3])\n    return dst\n\n\nwildcard2regexstr = (str) ->\n  str = str.replace /\\\\/g,'\\\\\\\\'\n  str = str.replace /\\+/g,'\\\\+'\n  str = str.replace /\\./g,'\\\\.'\n  str = str.replace /\\(/g,'\\\\('\n  str = str.replace /\\)/g,'\\\\)'\n  str = str.replace /\\^/g,'\\\\^'\n  str = str.replace /\\$/g,'\\\\\\$'\n  str = str.replace /\\|/g,'\\\\|'\n  str = braces2parentheses str\n  str = str.replace /\\?/g,'[^/]'\n  str = str.replace /<</g,'<<2'\n  str = str.replace /<<</g,'<<3'\n  str = str.replace /\\/\\*\\*\\//g,'(/.<<</|/)'\n  str = str.replace /\\*/g,'[^/]+'\n  str = str.replace /<<</g,'*'\n  str = str.replace /<<2/g,'<<'\n  str = str.replace /<<3/g,'<<<'\n  str += '$'\n\nwildcard2regex = (str) ->\n  return new RegExp(wildcard2regexstr str)\n\n#test\n\ntesttext = \"src/*.{js,coffee}\"\nconsole.log testtext\nregexstr = wildcard2regexstr testtext\nregex = new RegExp(regexstr)\nconsole.log regexstr\n\n\n\u3053\u3063\u3061\u304cJavascript\u7248\u3002\n\nwildcard.js\n  var y_combi = function(func) {\n    return (function(p) {\n      return function() {\n        return func(p(p)).apply(this, arguments);\n      };\n    })(function(p) {\n      return function() {\n        return func(p(p)).apply(this, arguments);\n      };\n    });\n  };\n\n  var braces2parentheses = y_combi(function(func) {\n    return function(str) {\n      var dst, result;\n      dst = str;\n      result = str.match(/^([^\\{]*)\\{([^\\}]*)\\}(.*)$/);\n      if (result != null) {\n        dst = result[1] + '(' + result[2].split(',').join('|') + ')' + func(result[3]);\n      }\n      return dst;\n    };\n  });\n\n  wildcard2regexstr = function(str) {\n    str = str.replace(/\\\\/g, '\\\\\\\\');\n    str = str.replace(/\\+/g, '\\\\+');\n    str = str.replace(/\\./g, '\\\\.');\n    str = str.replace(/\\(/g, '\\\\(');\n    str = str.replace(/\\)/g, '\\\\)');\n    str = str.replace(/\\^/g, '\\\\^');\n    str = str.replace(/\\$/g, '\\\\\\$');\n    str = str.replace(/\\|/g, '\\\\|');\n    str = braces2parentheses(str);\n    str = str.replace(/\\?/g, '[^/]');\n    str = str.replace(/<</g, '<<2');\n    str = str.replace(/<<</g, '<<3');\n    str = str.replace(/\\/\\*\\*\\//g, '(/.<<</|/)');\n    str = str.replace(/\\*/g, '[^/]+');\n    str = str.replace(/<<</g, '*');\n    str = str.replace(/<<2/g, '<<');\n    str = str.replace(/<<3/g, '<<<');\n    return str += '$';\n  };\n\n  var wildcard2regex = function(str) {\n    return new RegExp(wildcard2regexstr(str));\n  };\n\n//test\n\n  var testtext = \"src/*.{js,coffee}\";\n  console.log(testtext);\n  var regexstr = wildcard2regexstr(testtext);\n  var regex = new RegExp(regexstr);\n  console.log(regexstr);\n\n\n#\u7d9a\u304d\u66f8\u3044\u305f\n\u4e0b\u8a18\u3067\u8a00\u53ca\u3057\u305f[FileList\u4f5c\u3063\u3066\u307f\u305f](http://qiita.com/mrpepper/items/349d8ff786c0a4fa8945)\n\n#\u524d\u7f6e\u304d\n\u306a\u3093\u304b\u3001Grunt, Gulp\u754c\u9688\u3001\u300c\u30bf\u30b9\u30af\u30e9\u30f3\u30ca\u30fc\u75b2\u308c\u300d\u307f\u305f\u3044\u306a\u30dd\u30b9\u30c8\u304c\u3061\u3089\u307b\u3089\u3042\u308a\u307e\u3059\u306a\u3002\u305d\u308c\u306b\u4e57\u3058\u3066\uff08\u7b11\uff09[rake\u3092\u52e7\u3081\u3066\u3044\u308b\u4eba](http://qiita.com/doloopwhile/items/6088ad6c1753806da7c0)\u306a\u3093\u304b\u3082\u3044\u3089\u3063\u3057\u3083\u3044\u307e\u3059\u304c\u3001\n\n\u300cPerl, Ruby, Python \u306f\u3069\u308c\u304b\u3072\u3068\u3064\u899a\u3048\u3068\u304d\u3083\u3044\u3044\u300d\n\u300c\u307b\u307b\u3046\u3002\u3058\u3083\u3001Perl\u5206\u304b\u308b\u304b\u3089\u30b9\u30ad\u30c3\u30d7\u3067\u3044\u3063\u304b\u300d\n\n\u3068\u4f55\u6c17\u306a\u304fRuby, Python\u3092\u30b9\u30eb\u30fc\u3057\u3066\u3057\u307e\u3063\u305f\u304a\u3058\u3055\u3093\u306b\u306f\u60b2\u3057\u3044\u306e\u3060\u3002\u3068\u8a00\u3046\u308f\u3051\u3067\u3001\u30bf\u30b9\u30af\u30e9\u30f3\u30ca\u30fc\u306a\u3093\u3066\u4f7f\u308f\u305a\u306b\u3001\u3061\u3087\u3063\u3068\u3057\u305f\u4fbf\u5229\u95a2\u6570\u3092require\u3057\u3066\u3001\n\nforever start -c coffee /path/to/tools/automake.coffee\n\n\u3067\u3044\u3044\u3093\u3058\u3083\u306d\uff1f\uff08\u3082\u3061\u308d\u3093\u3001automake.coffee\u304c\u30bf\u30b9\u30af\u30e9\u30f3\u30ca\u30fc\u3063\u3061\u3085\u3046\u304b\u3001\u81ea\u88fd\u751f\u66f8\u304d\u76e3\u8996\uff06\u30bf\u30b9\u30af\u7ba1\u7406\u30b9\u30af\u30ea\u30d7\u30c8\u3060\u3088\uff09\n\n\u3067\u3001\u305d\u3046\u3044\u3046\u3053\u3068\u3092\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u305d\u306e\u300c\u3061\u3087\u3063\u3068\u3057\u305f\u4fbf\u5229\u95a2\u6570\u300d\u306brake\u3063\u307d\u3044FileList\u3068\u304b\u3001run(target, depedencyfiles, {watch: on}, func)\u307f\u305f\u3044\u306a\u306e\u304c\u6b32\u3057\u304f\u306a\u308b\u3002\u307e\u3042\u3001\u3061\u3087\u308d\u3061\u3087\u308d\u3068\u7a7a\u304d\u6642\u9593\u306b\u66f8\u3044\u3066\u30a2\u30c3\u30d7\u3057\u3088\u3046\u3068\u601d\u3046\u304c\u3001\u305d\u308c\u3067\u826f\u304f\u306a\u3044\u304b\u3044\uff1f\n\n#\u305d\u306e\u305f\u3081\u306e\u6700\u521d\u306e\u300c\u3061\u3087\u3063\u3068\u3057\u305f\u4fbf\u5229\u95a2\u6570\u300d\n\u3068\u308a\u3042\u3048\u305a\u3001FileList\u4f5c\u308b\u3093\u306a\u3089\u3001\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u6b32\u3057\u3044\u3088\u306d\u3002asterisk, globstar, question, bracket, brace\u304c\u4f7f\u3048\u308c\u3070\u305d\u308c\u3067\u826f\u3044\u3088\u306d\u3002\u5909\u63db\u30eb\u30fc\u30eb\u306f\u4e0b\u8a18\n\n<dl>\n  <dt>\u6b63\u898f\u8868\u73fe\u3068\u88ab\u308b\u8868\u8a18\u5168\u90e8</dt>\n  <dd>\u30a8\u30b9\u30b1\u30fc\u30d7\u3057\u3068\u3044\u305f</dd>\n  <dt>*</dt>\n  <dd>[^/]* \u30d1\u30b9\u533a\u5207\u308a\u4ee5\u5916\u306e\u5168\u3066\u306e0\u56de\u4ee5\u4e0a\u7e70\u308a\u8fd4\u3057</dd>\n  <dt>**</dt>\n  <dd>.* \u30d1\u30b9\u533a\u5207\u308a\u3092\u542b\u3081\u305f\u5168\u3066\u306e0\u56de\u4ee5\u4e0a\u7e70\u308a\u8fd4\u3057</dd>\n  <dt>?</dt>\n  <dd>[^/] \u30d1\u30b9\u533a\u5207\u308a\u4ee5\u5916\u306e\u5168\u3066\uff081\u6587\u5b57\uff09</dd>\n  <dt>{foo,bar}</dt>\n  <dd>(foo|bar) \u9078\u629e</dd>\n  <dt>[a-z]</dt>\n  <dd>[a-z] \u3064\u30fc\u304b\u3001\u89e6\u3063\u3066\u306a\u3044\uff01</dd>\n  <dt>\u6587\u672b</dt>\n  <dd>$ \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u306e\u610f\u5473\u3063\u3066\u3001\u5f8c\u65b9\u4e00\u81f4\u3060\u3088\u306d</dd>\n</dl>\n\n\u3042\u308c\uff1f \u3069\u3053\u305e\u306e\u30b7\u30a7\u30eb\u3068\u304b\u30c4\u30fc\u30eb\u306b\u63a1\u7528\u3055\u308c\u3066\u308b globstar\u300c\\*\\*\u300d\u3063\u3066\u3001/path/\\*\\*/hoge \u3068\u66f8\u3044\u305f\u3089 /path/hoge \u306b\u30de\u30c3\u30c1\u3059\u3093\u306e\uff1f\u3000\u3059\u308b\u3068\u3057\u305f\u3089\u3053\u308c\u3058\u3083\u9055\u3046\u306d\u3002\u307e\u3042\u3001\u305d\u3053\u306f\u7a81\u3063\u8fbc\u307f\u304c\u3042\u308c\u3070\u76f4\u3059\u611f\u3058\u3002\u306a\u3093\u304b\u30b7\u30a7\u30eb\u306b\u3088\u3063\u3066\u9055\u3046\u3068\u304b\u3061\u3089\u3063\u3068\u805e\u3044\u305f\u3051\u3069\u3055\u3002\n\n\u306a\u3093\u3060\u304b\u3093\u3060\u8a00\u3063\u3066\u76f4\u3057\u305f\u65b9\u304c\u3088\u3055\u3052\u306a\u306e\u3067\u3001/path/\\*\\*/hoge \u3068\u66f8\u3044\u305f\u3089 /path/hoge \u306b\u30de\u30c3\u30c1\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3002\n\n\u3068\u3086\u30fc\u308f\u3051\u3067\u3001\u3053\u3044\u3064\u3060\u3002\u4e00\u822c\u6027\u304c\u9ad8\u3044\u306e\u3067\u3001Javascript\u7248\u3082\u8f09\u305b\u3068\u304f\u3088\u3002\n\n```CoffeeScript:wildcard.coffee\ny_combi = (func) ->\n  return ((p) ->\n    return () ->\n      return func(p(p)).apply(this,arguments)\n  )((p) ->\n    return () ->\n      return func(p(p)).apply(this,arguments)\n  )\n\n\nbraces2parentheses = y_combi (func) ->\n  return (str) ->\n    dst = str\n    result = str.match(/^([^\\{]*)\\{([^\\}]*)\\}(.*)$/)\n    if result?\n      dst = result[1]+'('+result[2].split(',').join('|')+')'+func(result[3])\n    return dst\n\n\nwildcard2regexstr = (str) ->\n  str = str.replace /\\\\/g,'\\\\\\\\'\n  str = str.replace /\\+/g,'\\\\+'\n  str = str.replace /\\./g,'\\\\.'\n  str = str.replace /\\(/g,'\\\\('\n  str = str.replace /\\)/g,'\\\\)'\n  str = str.replace /\\^/g,'\\\\^'\n  str = str.replace /\\$/g,'\\\\\\$'\n  str = str.replace /\\|/g,'\\\\|'\n  str = braces2parentheses str\n  str = str.replace /\\?/g,'[^/]'\n  str = str.replace /<</g,'<<2'\n  str = str.replace /<<</g,'<<3'\n  str = str.replace /\\/\\*\\*\\//g,'(/.<<</|/)'\n  str = str.replace /\\*/g,'[^/]+'\n  str = str.replace /<<</g,'*'\n  str = str.replace /<<2/g,'<<'\n  str = str.replace /<<3/g,'<<<'\n  str += '$'\n\nwildcard2regex = (str) ->\n  return new RegExp(wildcard2regexstr str)\n\n#test\n\ntesttext = \"src/*.{js,coffee}\"\nconsole.log testtext\nregexstr = wildcard2regexstr testtext\nregex = new RegExp(regexstr)\nconsole.log regexstr\n```\n\n\u3053\u3063\u3061\u304cJavascript\u7248\u3002\n\n```javascript:wildcard.js\n  var y_combi = function(func) {\n    return (function(p) {\n      return function() {\n        return func(p(p)).apply(this, arguments);\n      };\n    })(function(p) {\n      return function() {\n        return func(p(p)).apply(this, arguments);\n      };\n    });\n  };\n\n  var braces2parentheses = y_combi(function(func) {\n    return function(str) {\n      var dst, result;\n      dst = str;\n      result = str.match(/^([^\\{]*)\\{([^\\}]*)\\}(.*)$/);\n      if (result != null) {\n        dst = result[1] + '(' + result[2].split(',').join('|') + ')' + func(result[3]);\n      }\n      return dst;\n    };\n  });\n\n  wildcard2regexstr = function(str) {\n    str = str.replace(/\\\\/g, '\\\\\\\\');\n    str = str.replace(/\\+/g, '\\\\+');\n    str = str.replace(/\\./g, '\\\\.');\n    str = str.replace(/\\(/g, '\\\\(');\n    str = str.replace(/\\)/g, '\\\\)');\n    str = str.replace(/\\^/g, '\\\\^');\n    str = str.replace(/\\$/g, '\\\\\\$');\n    str = str.replace(/\\|/g, '\\\\|');\n    str = braces2parentheses(str);\n    str = str.replace(/\\?/g, '[^/]');\n    str = str.replace(/<</g, '<<2');\n    str = str.replace(/<<</g, '<<3');\n    str = str.replace(/\\/\\*\\*\\//g, '(/.<<</|/)');\n    str = str.replace(/\\*/g, '[^/]+');\n    str = str.replace(/<<</g, '*');\n    str = str.replace(/<<2/g, '<<');\n    str = str.replace(/<<3/g, '<<<');\n    return str += '$';\n  };\n\n  var wildcard2regex = function(str) {\n    return new RegExp(wildcard2regexstr(str));\n  };\n\n//test\n\n  var testtext = \"src/*.{js,coffee}\";\n  console.log(testtext);\n  var regexstr = wildcard2regexstr(testtext);\n  var regex = new RegExp(regexstr);\n  console.log(regexstr);\n```\n", "tags": ["CoffeeScript", "JavaScript", "\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9", "\u6b63\u898f\u8868\u73fe", "\u30bf\u30b9\u30af\u30e9\u30f3\u30ca\u30fc"]}