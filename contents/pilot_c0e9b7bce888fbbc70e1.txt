{"context": "\u4ee5\u4e0b\u3001digdag\u306ever.\u306f0.8.21\n\n\u56f0\u3063\u305f\u3053\u3068\n\u4ee5\u4e0b\u306e\u3088\u3046\u306btd>\u30922\u56de\u547c\u3073\u51fa\u3059\u3068\u30011\u56de\u3081\u306e\u7d50\u679c\u3092\u4fdd\u5b58\u3057\u3066\u304a\u3044\u305f\u5909\u6570\u304c2\u56de\u3081\u306e\u5b9f\u884c\u5f8c\u306b\u66f8\u304d\u63db\u308f\u3063\u3066\u3057\u307e\u3046\n!include : config.dig\n\n+td1:\n  td>: a.sql\n  store_last_results: true\n+group: # td\u7d50\u679c\u3092\u4fdd\u5b58\u3057\u305f\u3044\u304c\u305f\u3081\u3060\u3051\u306e\u30b0\u30eb\u30fc\u30d7\n  _export:\n    result1: ${td.last_results.result1}\n    result2: ${td.last_results.result2}\n  +show_results1:\n    echo>: result1=${result1}, result2=${result2}\n  +td2:\n    td>: b.sql\n    store_last_results: true\n  +show_results2:\n    echo>: result1=${result1}, result2=${result2}\n    # b.sql\u306e\u7d50\u679c\u306b\u66f8\u304d\u63db\u308f\u3063\u3066\u3057\u307e\u3046\n\n\n\u8abf\u3079\u3066\u308f\u304b\u3063\u305f\u3053\u3068\n\u4ee5\u4e0b\u306b\u7406\u7531\u3068workaround\u304c\u66f8\u304b\u308c\u3066\u3044\u305f\n\nJavaScript\u304c\u53c2\u7167\u306e\u305f\u3073\u306b\u5b9f\u884c\u3055\u308c\u308b https://github.com/treasure-data/digdag/issues/351\n\nJavaScript\u306f\u30bf\u30b9\u30af\u958b\u59cb\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b(_export\u6642\u70b9\u3067\u306f\u5b9f\u884c\u3055\u308c\u306a\u3044)\nfor_each>\u3067\u5148\u306b\u5b9f\u884c\u3057\u3066\u304a\u304fworkaround\u304c\u3042\u308b\n\u9a5a\u304b\u308c\u308b\u6319\u52d5\u3060\u3068\u601d\u3046\u306e\u3067\u5909\u3048\u305f\u3044\u304b\u3082\n\n\n\n\n\u89e3\u6c7a\nworkaround\u3092\u9069\u7528\u3059\u308b\u3068\u4ee5\u4e0b\u306b\u306a\u308b\n!include : config.dig\n\n+td1:\n  td>: a.sql\n  store_last_results: true\n+group: # td\u7d50\u679c\u3092\u4fdd\u5b58\u3057\u305f\u3044\u304c\u305f\u3081\u3060\u3051\u306e\u30b0\u30eb\u30fc\u30d7\n  for_each>:\n    result1: [\"${td.last_results.result1}\"]\n    result2: [\"${td.last_results.result2}\"]\n  _do:\n    +show_results1:\n      echo>: result1=${result1}, result2=${result2}\n    +td2:\n      td>: b.sql\n      store_last_results: true\n    +show_results2:\n      echo>: result1=${result1}, result2=${result2}\n      # a.sql\u306e\u7d50\u679c\u306e\u307e\u307e\n\n\u4ee5\u4e0b\u3001digdag\u306ever.\u306f0.8.21\n\n\u56f0\u3063\u305f\u3053\u3068\n=========\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306btd>\u30922\u56de\u547c\u3073\u51fa\u3059\u3068\u30011\u56de\u3081\u306e\u7d50\u679c\u3092\u4fdd\u5b58\u3057\u3066\u304a\u3044\u305f\u5909\u6570\u304c2\u56de\u3081\u306e\u5b9f\u884c\u5f8c\u306b\u66f8\u304d\u63db\u308f\u3063\u3066\u3057\u307e\u3046\n\n```\n!include : config.dig\n\n+td1:\n  td>: a.sql\n  store_last_results: true\n+group: # td\u7d50\u679c\u3092\u4fdd\u5b58\u3057\u305f\u3044\u304c\u305f\u3081\u3060\u3051\u306e\u30b0\u30eb\u30fc\u30d7\n  _export:\n    result1: ${td.last_results.result1}\n    result2: ${td.last_results.result2}\n  +show_results1:\n    echo>: result1=${result1}, result2=${result2}\n  +td2:\n    td>: b.sql\n    store_last_results: true\n  +show_results2:\n    echo>: result1=${result1}, result2=${result2}\n    # b.sql\u306e\u7d50\u679c\u306b\u66f8\u304d\u63db\u308f\u3063\u3066\u3057\u307e\u3046\n```\n\n\u8abf\u3079\u3066\u308f\u304b\u3063\u305f\u3053\u3068\n================\n\n\u4ee5\u4e0b\u306b\u7406\u7531\u3068workaround\u304c\u66f8\u304b\u308c\u3066\u3044\u305f\n\n* JavaScript\u304c\u53c2\u7167\u306e\u305f\u3073\u306b\u5b9f\u884c\u3055\u308c\u308b https://github.com/treasure-data/digdag/issues/351\n    * JavaScript\u306f\u30bf\u30b9\u30af\u958b\u59cb\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b(_export\u6642\u70b9\u3067\u306f\u5b9f\u884c\u3055\u308c\u306a\u3044)\n    * for_each>\u3067\u5148\u306b\u5b9f\u884c\u3057\u3066\u304a\u304fworkaround\u304c\u3042\u308b\n    * \u9a5a\u304b\u308c\u308b\u6319\u52d5\u3060\u3068\u601d\u3046\u306e\u3067\u5909\u3048\u305f\u3044\u304b\u3082\n\n\u89e3\u6c7a\n====\n\nworkaround\u3092\u9069\u7528\u3059\u308b\u3068\u4ee5\u4e0b\u306b\u306a\u308b\n\n```\n!include : config.dig\n\n+td1:\n  td>: a.sql\n  store_last_results: true\n+group: # td\u7d50\u679c\u3092\u4fdd\u5b58\u3057\u305f\u3044\u304c\u305f\u3081\u3060\u3051\u306e\u30b0\u30eb\u30fc\u30d7\n  for_each>:\n    result1: [\"${td.last_results.result1}\"]\n    result2: [\"${td.last_results.result2}\"]\n  _do:\n    +show_results1:\n      echo>: result1=${result1}, result2=${result2}\n    +td2:\n      td>: b.sql\n      store_last_results: true\n    +show_results2:\n      echo>: result1=${result1}, result2=${result2}\n      # a.sql\u306e\u7d50\u679c\u306e\u307e\u307e\n```\n", "tags": ["digdag"]}