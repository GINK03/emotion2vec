{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\nFog\u3092\u5229\u7528\u3057\u3066S3\u4e0a\u306e\u30b3\u30cd\u30af\u30b7\u30e7\u30f3/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u691c\u7d22/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u524a\u9664\u3092\u884c\u3046\nhttps://github.com/fog/fog\n\n\u57fa\u672c\u74b0\u5883\n\nRuby on Rails 4.2\nFog(latest)\n\n\nS3\u4e0a\u306e\u30d0\u30b1\u30c3\u30c8\u3068\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u306f\u308b\nconnection = Fog::Storage.new(\n    provider:              'AWS',\n    aws_access_key_id:     Your_aws_key,\n    aws_secret_access_key: Your_aws_secret,\n    region:                Your_aws_region\n)\nbucket = connection.directories.get('Your_s3_bucket')\n\n\n\ns3\u5185\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u691c\u7d22\nS3\u5185\u306f\u968e\u5c64\u304c\u306a\u3044\u306e\u3067value\u691c\u7d22\u3092\u3057\u3066\u53d6\u5f97\u3092\u884c\u3046\nhttp://dev.classmethod.jp/cloud/aws/amazon-s3-folders/\n# tmp\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\n# http://www.rubydoc.info/gems/fog/Fog%2FStorage%2FRackspace%2FFiles%3Aprefix\nbucket.files.prefix = \"tmp\"\n\n\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u30673\u65e5\u4ee5\u524d\u306b\u4f5c\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\ndirectories = []\nbucket.files.all.each do |file|\n  unless file.last_modified.to_date > 3.days.ago.to_date\n    obj = file.key.match %r{tmp/[^ ]*/}\n    directories << obj[0]\n  end\nend\n\n\n\u3000\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\n# \u4ed6\u306b\u3082destroy\u65b9\u6cd5\u8272\u3005:http://fog.io/about/getting_started.html\nbucket.files.destroy\n\n\n\u53c2\u8003\nThe Ruby cloud services library\nhttp://fog.io/about/getting_started.html\n\n## \u6982\u8981\n![aaa](https://camo.githubusercontent.com/23dacb14a36e19ef77f608bfc4bd5477083afd4c/687474703a2f2f6765656d75732e73332e616d617a6f6e6177732e636f6d2f666f672e706e67)\n\nFog\u3092\u5229\u7528\u3057\u3066S3\u4e0a\u306e\u30b3\u30cd\u30af\u30b7\u30e7\u30f3/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u691c\u7d22/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u524a\u9664\u3092\u884c\u3046\nhttps://github.com/fog/fog\n\n## \u57fa\u672c\u74b0\u5883\n* Ruby on Rails 4.2\n* Fog(latest)\n\n## S3\u4e0a\u306e\u30d0\u30b1\u30c3\u30c8\u3068\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u306f\u308b\n\n```\nconnection = Fog::Storage.new(\n    provider:              'AWS',\n    aws_access_key_id:     Your_aws_key,\n    aws_secret_access_key: Your_aws_secret,\n    region:                Your_aws_region\n)\nbucket = connection.directories.get('Your_s3_bucket')\n\n```\n\n## s3\u5185\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u691c\u7d22\nS3\u5185\u306f\u968e\u5c64\u304c\u306a\u3044\u306e\u3067value\u691c\u7d22\u3092\u3057\u3066\u53d6\u5f97\u3092\u884c\u3046\nhttp://dev.classmethod.jp/cloud/aws/amazon-s3-folders/\n\n```\n# tmp\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\n# http://www.rubydoc.info/gems/fog/Fog%2FStorage%2FRackspace%2FFiles%3Aprefix\nbucket.files.prefix = \"tmp\"\n\n\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u30673\u65e5\u4ee5\u524d\u306b\u4f5c\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\ndirectories = []\nbucket.files.all.each do |file|\n  unless file.last_modified.to_date > 3.days.ago.to_date\n    obj = file.key.match %r{tmp/[^ ]*/}\n    directories << obj[0]\n  end\nend\n```\n\n##\u3000\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\n```\n# \u4ed6\u306b\u3082destroy\u65b9\u6cd5\u8272\u3005:http://fog.io/about/getting_started.html\nbucket.files.destroy\n```\n\n## \u53c2\u8003\nThe Ruby cloud services library\nhttp://fog.io/about/getting_started.html\n\n\n\n", "tags": ["fog", "RubyOnRails", "Gem"]}