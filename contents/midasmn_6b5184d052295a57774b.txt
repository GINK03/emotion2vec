{"context": " More than 1 year has passed since last update.Orientation \u5236\u5fa1\n1   \u305d\u306e\u307e\u307e\n2   \u4e0a\u4e0b\u53cd\u8ee2(\u4e0a\u4e0b\u93e1\u50cf?)\n3   180\u5ea6\u56de\u8ee2\n4   \u5de6\u53f3\u53cd\u8ee2\n5   \u4e0a\u4e0b\u53cd\u8ee2\u3001\u6642\u8a08\u5468\u308a\u306b270\u5ea6\u56de\u8ee2\n6   \u6642\u8a08\u5468\u308a\u306b90\u5ea6\u56de\u8ee2\n7   \u4e0a\u4e0b\u53cd\u8ee2\u3001\u6642\u8a08\u5468\u308a\u306b90\u5ea6\u56de\u8ee2\n8   \u6642\u8a08\u5468\u308a\u306b270\u5ea6\u56de\u8ee2\n// EXIF\u56de\u8ee2\nfunction f_exif_orientation($filename,$orgin_path,$full_path)\n{\n  $im = new Imagick($full_path.$filename);\n  $orientation = $im->getImageOrientation();\n  switch ($orientation) {\n    case 2: // Mirror horizontal\n        $im->flopImage();\n        break;\n    case 3: // Rotate 180\n        $im->rotateImage('#000000', 180);\n        break;\n    case 4: // Mirror vertical\n        $im->flipImage();\n        break;\n    case 5: // Mirror horizontal and rotate 270\n        $im->flopImage();\n        $im->rotateImage('#000000', 270);\n        break;\n    case 6: // Rotate 90\n        $im->rotateImage('#000000', 90);\n        // $im->flopImage();\n        break;\n    case 7: // Mirror horizontal and rotate 90\n        $im->flopImage();\n        $im->rotateImage('#000000', 90);\n        break;\n    case 8: // Rotate 270\n        $im->rotateImage('#000000', 270);\n        break;\n}\n  // $im->stripImage(); //EXIF\u3092\u6d88\u3059\u5834\u5408\n  $im->setImageOrientation(1);//EXIF\u3092\u6d88\u3055\u306a\u3044\u5834\u5408\n  $im->writeImage($full_path.$filename);\n}\n\nOrientation\t\u5236\u5fa1\n1\t\u305d\u306e\u307e\u307e\n2\t\u4e0a\u4e0b\u53cd\u8ee2(\u4e0a\u4e0b\u93e1\u50cf?)\n3\t180\u5ea6\u56de\u8ee2\n4\t\u5de6\u53f3\u53cd\u8ee2\n5\t\u4e0a\u4e0b\u53cd\u8ee2\u3001\u6642\u8a08\u5468\u308a\u306b270\u5ea6\u56de\u8ee2\n6\t\u6642\u8a08\u5468\u308a\u306b90\u5ea6\u56de\u8ee2\n7\t\u4e0a\u4e0b\u53cd\u8ee2\u3001\u6642\u8a08\u5468\u308a\u306b90\u5ea6\u56de\u8ee2\n8\t\u6642\u8a08\u5468\u308a\u306b270\u5ea6\u56de\u8ee2\n\n```\n// EXIF\u56de\u8ee2\nfunction f_exif_orientation($filename,$orgin_path,$full_path)\n{\n  $im = new Imagick($full_path.$filename);\n  $orientation = $im->getImageOrientation();\n  switch ($orientation) {\n    case 2: // Mirror horizontal\n        $im->flopImage();\n        break;\n    case 3: // Rotate 180\n        $im->rotateImage('#000000', 180);\n        break;\n    case 4: // Mirror vertical\n        $im->flipImage();\n        break;\n    case 5: // Mirror horizontal and rotate 270\n        $im->flopImage();\n        $im->rotateImage('#000000', 270);\n        break;\n    case 6: // Rotate 90\n        $im->rotateImage('#000000', 90);\n        // $im->flopImage();\n        break;\n    case 7: // Mirror horizontal and rotate 90\n        $im->flopImage();\n        $im->rotateImage('#000000', 90);\n        break;\n    case 8: // Rotate 270\n        $im->rotateImage('#000000', 270);\n        break;\n}\n  // $im->stripImage(); //EXIF\u3092\u6d88\u3059\u5834\u5408\n  $im->setImageOrientation(1);//EXIF\u3092\u6d88\u3055\u306a\u3044\u5834\u5408\n  $im->writeImage($full_path.$filename);\n}\n```\n", "tags": ["PHP", "exif", "orientation", "ImageMagick"]}