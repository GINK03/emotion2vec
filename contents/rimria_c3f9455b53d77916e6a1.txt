{"tags": ["Makefile"], "context": "\n\n\u306f\u3058\u3081\u306b\n\u8ee2\u8077\u3057\u3066Linux\u306e\u304a\u4ed5\u4e8b\u306b\u623b\u3063\u3066\u304d\u305f\u306e\u3067\u3001Makefile\u7b49\u3092\u89e6\u308b\u6a5f\u4f1a\u304c\u5897\u3048\u305f\u3002\n\u305f\u3060\u3057\u3001\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u8ffd\u52a0\u306b\u306a\u308b\u305f\u3073\u306b\u30e1\u30f3\u30c6\u3059\u308b\u306e\u304c\u7169\u308f\u3057\u3044\u306e\u3067\u305d\u306e\u5bfe\u7b56\u3068\u3057\u3066\u3001\nMakefile\u306e\u3072\u306a\u578b\u3092\u4f5c\u6210\u3057\u305f\u3002\n(2017/03/05 Makefile\u4e00\u90e8\u8ffd\u52a0\u4fee\u6b63\u5bfe\u5fdc)\n\n\u3084\u308a\u305f\u3044\u3053\u3068\n\u30fbMakefile\u3092\u6975\u529b\u30e1\u30f3\u30c6\u3057\u305f\u304f\u306a\u3044\n\u30fb\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u81ea\u52d5\u7684\u306b\u8ffd\u52a0\u3057\u3066\u30d3\u30eb\u30c9\u3057\u305f\u3044\n\u30fbCppUTest\u3092\u9759\u7684\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u5c0e\u5165\u3059\u308b\n\u30fb\u3082\u3061\u308d\u3093\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3068\u30bf\u30fc\u30b2\u30c3\u30c8\u30b3\u30fc\u30c9\u306f\u5206\u96e2\u3057\u305f\u3044\n\u30fbobj\u3084bin\u3092\u6240\u5b9a\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u51fa\u529b\u3057\u305f\u3044\n\u30fbrelease,debug\u3082\u4e21\u65b9\u30d3\u30eb\u30c9\u3057\u305f\u3044\n\n\u30c4\u30ea\u30fc\u69cb\u6210\n\u3053\u306eMakefile\u304c\u5bfe\u8c61\u3068\u3059\u308b\u30c4\u30ea\u30fc\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u6210\u3092\u60f3\u5b9a\u3057\u3066\u3044\u308b\u3002\n\npre_tree.log\n$ tree -F\n.\n|-- Makefile\n|-- bin/\n|-- header/\n|   `-- subdir/\n|       `-- submodule.hpp\n|-- obj/\n|-- src/\n|   |-- hoge.cpp\n|   `-- subdir/\n|       `-- submodule.cpp\n|-- test_header/\n|   |-- CppUTest/\n|   |   `-- (\u7701\u7565)\n|   |-- CppUTestExt/\n|   |   `-- (\u7701\u7565)\n|   `-- Platforms/\n|       `-- c2000/\n|           `-- (\u7701\u7565)\n|-- test_lib/\n|   |-- CppUTest/\n|   |   `-- libCppUTest.a\n|   `-- CppUTestExt/\n|       `-- libCppUTestExt.a\n|-- test_log/\n|-- test_obj/\n`-- test_src/\n    |-- subdir/\n    |   `-- test_submodule.cpp\n    `-- test_hoge.cpp\n\n\n\nMakefile\n#!/usr/bin/make\n###\n# Makefile\n###\n###\n# \u30b3\u30f3\u30d1\u30a4\u30e9\u8a2d\u5b9a\n###\nCXX        = g++\nCXXFLAGS   = -std=c++0x -Werror -Wall -Wextra -Wfloat-equal -Wmissing-include-dirs\nLDFLAGS    =\nLIBS       =\nINCLUDES   = -I./header\nRCXXFLAGS  = $(CXXFLAGS) -O3\nRLDFLAGS   = $(LDFLAGS)\nRLIBS      = $(LIBS)\nRINCLUDES  = $(INCLUDES)\nDCXXFLAGS  = $(CXXFLAGS) -O0 -g\nDLDFLAGS   = $(LDFLAGS)\nDLIBS      = $(LIBS)\nDINCLUDES  = $(INCLUDES)\nTCXXFLAGS  = $(CXXFLAGS)\nTLDFLAGS   = $(LDFLAGS) -lCppUTest -lCppUTestExt\nTLIBS      = $(LIBS) -L./test_lib/CppUTest -L./test_lib/CppUTestExt\nTINCLUDES  = $(INCLUDES) -I./test_header\n###\n# \u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u540d\n###\nRTARGETS   = hoge\nDTARGETS   = debug_hoge\nTTARGETS   = test_hoge\n###\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6307\u5b9a\n###\nRTARGETDIR = ./bin/release\nDTARGETDIR = ./bin/debug\nTTARGETDIR = ./bin/test\nROBJECTDIR = ./obj/release\nDOBJECTDIR = ./obj/debug\nTOBJECTDIR = ./obj/test\nTLOGDIR    = ./test_log\n###\n# \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6307\u5b9a\n###\nSOURCEDIR     = ./src\nTSOURCEDIR    = ./test_src\n###\n# \u30c6\u30b9\u30c8\u7528\u9664\u5916\u30bd\u30fc\u30b9\u6307\u5b9a\n###\nTARGETMAINSRC = hoge.cpp\n\n###\n# \u51e6\u7406\u90e8\n###\n# 1. \u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u542b\u3080\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30ea\u30b9\u30c8\u306e\u751f\u6210\nSRCDIRLIST  := $(shell find $(SOURCEDIR) -type d)\nTSRCDIRLIST := $(shell find $(TSOURCEDIR) -type d)\n# 2. \u5168\u3066\u306ecpp\u30d5\u30a1\u30a4\u30eb\u306e\u30ea\u30b9\u30c8\u306e\u751f\u6210\nSRCLIST     = $(foreach srcdir, $(SRCDIRLIST), $(wildcard $(srcdir)/*.cpp))\nTSRCLIST    = $(foreach testsrcdir, $(TSRCDIRLIST), $(wildcard $(testsrcdir)/*.cpp))\n# 3. \u30c8\u30ea\u30df\u30f3\u30b0\nCUTSRCLIST  = $(subst $(SOURCEDIR),.,$(SRCLIST))\nCUTTSRCLIST = $(subst $(TSOURCEDIR),.,$(TSRCLIST))\n# 4. \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u6c7a\u5b9a\nROBJLIST    = $(addprefix $(ROBJECTDIR)/, $(CUTSRCLIST:.cpp=.o))\nDOBJLIST    = $(addprefix $(DOBJECTDIR)/, $(CUTSRCLIST:.cpp=.o))\nTOBJLIST    = $(addprefix $(TOBJECTDIR)/, $(CUTTSRCLIST:.cpp=.o))\n# 5. \u30c6\u30b9\u30c8\u7528\u306bmain\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u306e\u9664\u5916\nTEMPSRCLIST = $(filter-out %$(TARGETMAINSRC), $(CUTSRCLIST))\nTMODULELIST = $(addprefix $(DOBJECTDIR)/, $(TEMPSRCLIST:.cpp=.o))\n# 6. \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306e\u30ea\u30b9\u30c8\u5316\nROBJDIRLIST = $(addprefix $(ROBJECTDIR)/, $(SRCDIRLIST))\nDOBJDIRLIST = $(addprefix $(DOBJECTDIR)/, $(SRCDIRLIST))\nTOBJDIRLIST = $(addprefix $(TOBJECTDIR)/, $(TSRCDIRLIST))\n# 7. \u5404\u7a2e\u30d3\u30eb\u30c9\u30bf\u30fc\u30b2\u30c3\u30c8\u8a2d\u5b9a\n.PHONY: all build clean debugbuild debugclean testbuild testclean testrun testlog allbuild allclean\nall: allclean allbuild\n\nbuild: $(RTARGETS)\n\nclean:\n    rm -f $(ROBJLIST) $(RTARGETDIR)/$(RTARGETS)\n\ndebugbuild: $(DTARGETS)\n\ndebugclean:\n    rm -f $(DOBJLIST) $(DTARGETDIR)/$(DTARGETS)\n\ntestbuild: $(DTARGETS) $(TTARGETS)\n\ntestclean:\n    rm -f $(TOBJLIST) $(DOBJLIST) $(TTARGETDIR)/$(TTARGETS)\n\ntestrun: testclean testbuild\n    chmod +x $(TTARGETDIR)/$(TTARGETS)\n    $(TTARGETDIR)/$(TTARGETS) -v\n\ntestlog: testclean testbuild\n    chmod +x $(TTARGETDIR)/$(TTARGETS)\n    $(TTARGETDIR)/$(TTARGETS) -ojunit\n    @if [ ! -e $(TLOGDIR) ]; then mkdir -p $(TLOGDIR); fi\n    mv *.xml $(TLOGDIR)\n\nallbuild: build debugbuild testbuild\n\nallclean: clean debugclean testclean\n\n# 8. \u30bf\u30fc\u30b2\u30c3\u30c8\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u6210\n$(RTARGETS): $(ROBJLIST)\n    @echo \"$^\"\n    @if [ ! -e $(RTARGETDIR) ]; then mkdir -p $(RTARGETDIR); fi\n    $(CXX) -o $(RTARGETDIR)/$@ $^ $(RLDFLAGS) $(RLIBS)\n\n$(DTARGETS): $(DOBJLIST)\n    @echo \"$^\"\n    @if [ ! -e $(DTARGETDIR) ]; then mkdir -p $(DTARGETDIR); fi\n    $(CXX) -o $(DTARGETDIR)/$@ $^ $(DLDFLAGS) $(DLIBS)\n\n$(TTARGETS): $(TOBJLIST)\n    @echo \"$^\"\n    @if [ ! -e $(TTARGETDIR) ]; then mkdir -p $(TTARGETDIR); fi\n    $(CXX) -o $(TTARGETDIR)/$@ $^ $(TMODULELIST) $(TLDFLAGS) $(TLIBS)\n\n# 9. \u4e2d\u9593\u30d0\u30a4\u30ca\u30ea\u306e\u751f\u6210\n$(ROBJECTDIR)/%.o: $(SOURCEDIR)/%.cpp\n    @if [ ! -e `dirname $@` ]; then mkdir -p `dirname $@`; fi\n    $(CXX) $(RCXXFLAGS) $(RINCLUDES) -o $@ -c $<\n\n$(DOBJECTDIR)/%.o: $(SOURCEDIR)/%.cpp\n    @if [ ! -e `dirname $@` ]; then mkdir -p `dirname $@`; fi\n    $(CXX) $(DCXXFLAGS) $(DINCLUDES) -o $@ -c $<\n\n$(TOBJECTDIR)/%.o: $(TSOURCEDIR)/%.cpp\n    @if [ ! -e `dirname $@` ]; then mkdir -p `dirname $@`; fi\n    $(CXX) $(TCXXFLAGS) $(TINCLUDES) -o $@ -c $<\n\n\n\u5b9f\u884c\u7d50\u679c\n\nend_tree.log\n$ make allbuild\n$ tree -f\n.\n|-- Makefile\n|-- bin/\n|   |-- debug/\n|   |   `-- debug_hoge*\n|   |-- release/\n|   |   `-- hoge*\n|   `-- test/\n|       `-- test_hoge*\n|-- header/\n|   `-- subdir/\n|       `-- submodule.hpp\n|-- obj/\n|   |-- debug/\n|   |   |-- hoge.o\n|   |   `-- subdir/\n|   |       `-- submodule.o\n|   |-- release/\n|   |   |-- hoge.o\n|   |   `-- subdir/\n|   |       `-- submodule.o\n|   `-- test/\n|       |-- subdir/\n|       |   `-- test_submodule.o\n|       `-- test_hoge.o\n|-- src/\n|   |-- hoge.cpp\n|   `-- subdir/\n|       `-- submodule.cpp\n|-- test_header/\n|   |-- CppUTest/\n|   |   `-- (\u7701\u7565)\n|   |-- CppUTestExt/\n|   |   `-- (\u7701\u7565)\n|   `-- Platforms/\n|       `-- c2000/\n|           `-- (\u7701\u7565)\n|-- test_lib/\n|   |-- CppUTest/\n|   |   `-- libCppUTest.a\n|   `-- CppUTestExt/\n|       `-- libCppUTestExt.a\n|-- test_log/\n|-- test_obj/\n`-- test_src/\n    |-- subdir/\n    |   `-- test_submodule.cpp\n    `-- test_hoge.cpp\n\n\n\n\n\u89e3\u8aac\n\u8a2d\u5b9a\u5024\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8f09\u3057\u3066\u3044\u308b\u3002\nRXXXX = \u30ea\u30ea\u30fc\u30b9\u30d3\u30eb\u30c9\u95a2\u4fc2\nDXXXX = \u30c7\u30d0\u30c3\u30b0\u30d3\u30eb\u30c9\u95a2\u4fc2\nTXXXX = CppUTest\u30d3\u30eb\u30c9\u95a2\u4fc2\n\u57fa\u672c\u7684\u306b\u89e6\u308b\u306e\u306f\u51e6\u7406\u90e8\u3088\u308a\u4e0a\u306e\u8a2d\u5b9a\u306e\u307f\u3002\n1. \u30c7\u30a3\u30ec\u304f\u30c8\u30ea\u6307\u5b9a\u3092\u5408\u308f\u305b\u308b\n2. \u5fc5\u8981\u306a\u30b3\u30f3\u30d1\u30a4\u30eb/ \u30ea\u30f3\u30ab\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\n3. \u5b9f\u884c\n$ make\nCppUTest\u3092\u5b9f\u65bd\u3059\u308b\u5834\u5408\u306f\u3001\n$make testrun\n\u3092\u53e9\u304f\u3053\u3068\u3067\u30af\u30ea\u30fc\u30f3\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u30c6\u30b9\u30c8\u3092\u884c\u3046\u3002\n\n\u307e\u3068\u3081\n\u30bd\u30fc\u30b9\u30d5\u30a9\u30eb\u30c0\u4e2d\u306e\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u3092\u8ffd\u3044\u304b\u3051\u30d3\u30eb\u30c9\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001\nMakefile\u306e\u30e1\u30f3\u30c6\u3092\u307b\u307c\u6c17\u306b\u3057\u306a\u304f\u3066\u3088\u304f\u3001\u958b\u767a\u306b\u96c6\u4e2d\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n\n\u8ab2\u984c\nInclude\u3068\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u81ea\u52d5\u66f4\u65b0\u306e\u691c\u8a0e\n\u2192\u8ab2\u984c\u306b\u66f8\u3044\u3066\u3044\u305fInclude\u3068\u30ea\u30f3\u30ab\u306e\u81ea\u52d5\u66f4\u65b0\u306f\u4e0d\u5fc5\u8981\u306a\u3082\u306e\u307e\u3067\n\u3000\u53d6\u308a\u8fbc\u3093\u3067\u3057\u307e\u3046\u6050\u308c\u304c\u3042\u308b\u306e\u3067\u3084\u3081\u305f\u307b\u3046\u304c\u7121\u96e3\u305d\u3046\u3002\n# \u306f\u3058\u3081\u306b\n\u8ee2\u8077\u3057\u3066Linux\u306e\u304a\u4ed5\u4e8b\u306b\u623b\u3063\u3066\u304d\u305f\u306e\u3067\u3001Makefile\u7b49\u3092\u89e6\u308b\u6a5f\u4f1a\u304c\u5897\u3048\u305f\u3002\n\u305f\u3060\u3057\u3001\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u8ffd\u52a0\u306b\u306a\u308b\u305f\u3073\u306b\u30e1\u30f3\u30c6\u3059\u308b\u306e\u304c\u7169\u308f\u3057\u3044\u306e\u3067\u305d\u306e\u5bfe\u7b56\u3068\u3057\u3066\u3001\nMakefile\u306e\u3072\u306a\u578b\u3092\u4f5c\u6210\u3057\u305f\u3002\n\n(2017/03/05 Makefile\u4e00\u90e8\u8ffd\u52a0\u4fee\u6b63\u5bfe\u5fdc)\n\n#\u3084\u308a\u305f\u3044\u3053\u3068\n\u30fbMakefile\u3092\u6975\u529b\u30e1\u30f3\u30c6\u3057\u305f\u304f\u306a\u3044\n\u30fb\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u81ea\u52d5\u7684\u306b\u8ffd\u52a0\u3057\u3066\u30d3\u30eb\u30c9\u3057\u305f\u3044\n\u30fbCppUTest\u3092\u9759\u7684\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u5c0e\u5165\u3059\u308b\n\u30fb\u3082\u3061\u308d\u3093\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3068\u30bf\u30fc\u30b2\u30c3\u30c8\u30b3\u30fc\u30c9\u306f\u5206\u96e2\u3057\u305f\u3044\n\u30fbobj\u3084bin\u3092\u6240\u5b9a\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u51fa\u529b\u3057\u305f\u3044\n\u30fbrelease,debug\u3082\u4e21\u65b9\u30d3\u30eb\u30c9\u3057\u305f\u3044\n\n# \u30c4\u30ea\u30fc\u69cb\u6210\n\u3053\u306eMakefile\u304c\u5bfe\u8c61\u3068\u3059\u308b\u30c4\u30ea\u30fc\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u6210\u3092\u60f3\u5b9a\u3057\u3066\u3044\u308b\u3002\n\n```pre_tree.log\n$ tree -F\n.\n|-- Makefile\n|-- bin/\n|-- header/\n|   `-- subdir/\n|       `-- submodule.hpp\n|-- obj/\n|-- src/\n|   |-- hoge.cpp\n|   `-- subdir/\n|       `-- submodule.cpp\n|-- test_header/\n|   |-- CppUTest/\n|   |   `-- (\u7701\u7565)\n|   |-- CppUTestExt/\n|   |   `-- (\u7701\u7565)\n|   `-- Platforms/\n|       `-- c2000/\n|           `-- (\u7701\u7565)\n|-- test_lib/\n|   |-- CppUTest/\n|   |   `-- libCppUTest.a\n|   `-- CppUTestExt/\n|       `-- libCppUTestExt.a\n|-- test_log/\n|-- test_obj/\n`-- test_src/\n    |-- subdir/\n    |   `-- test_submodule.cpp\n    `-- test_hoge.cpp\n```\n\n#Makefile\n\n```Makefile\n#!/usr/bin/make\n###\n# Makefile\n###\n###\n# \u30b3\u30f3\u30d1\u30a4\u30e9\u8a2d\u5b9a\n###\nCXX        = g++\nCXXFLAGS   = -std=c++0x -Werror -Wall -Wextra -Wfloat-equal -Wmissing-include-dirs\nLDFLAGS    =\nLIBS       =\nINCLUDES   = -I./header\nRCXXFLAGS  = $(CXXFLAGS) -O3\nRLDFLAGS   = $(LDFLAGS)\nRLIBS      = $(LIBS)\nRINCLUDES  = $(INCLUDES)\nDCXXFLAGS  = $(CXXFLAGS) -O0 -g\nDLDFLAGS   = $(LDFLAGS)\nDLIBS      = $(LIBS)\nDINCLUDES  = $(INCLUDES)\nTCXXFLAGS  = $(CXXFLAGS)\nTLDFLAGS   = $(LDFLAGS) -lCppUTest -lCppUTestExt\nTLIBS      = $(LIBS) -L./test_lib/CppUTest -L./test_lib/CppUTestExt\nTINCLUDES  = $(INCLUDES) -I./test_header\n###\n# \u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u540d\n###\nRTARGETS   = hoge\nDTARGETS   = debug_hoge\nTTARGETS   = test_hoge\n###\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6307\u5b9a\n###\nRTARGETDIR = ./bin/release\nDTARGETDIR = ./bin/debug\nTTARGETDIR = ./bin/test\nROBJECTDIR = ./obj/release\nDOBJECTDIR = ./obj/debug\nTOBJECTDIR = ./obj/test\nTLOGDIR    = ./test_log\n###\n# \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6307\u5b9a\n###\nSOURCEDIR     = ./src\nTSOURCEDIR    = ./test_src\n###\n# \u30c6\u30b9\u30c8\u7528\u9664\u5916\u30bd\u30fc\u30b9\u6307\u5b9a\n###\nTARGETMAINSRC = hoge.cpp\n\n###\n# \u51e6\u7406\u90e8\n###\n# 1. \u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u542b\u3080\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30ea\u30b9\u30c8\u306e\u751f\u6210\nSRCDIRLIST  := $(shell find $(SOURCEDIR) -type d)\nTSRCDIRLIST := $(shell find $(TSOURCEDIR) -type d)\n# 2. \u5168\u3066\u306ecpp\u30d5\u30a1\u30a4\u30eb\u306e\u30ea\u30b9\u30c8\u306e\u751f\u6210\nSRCLIST     = $(foreach srcdir, $(SRCDIRLIST), $(wildcard $(srcdir)/*.cpp))\nTSRCLIST    = $(foreach testsrcdir, $(TSRCDIRLIST), $(wildcard $(testsrcdir)/*.cpp))\n# 3. \u30c8\u30ea\u30df\u30f3\u30b0\nCUTSRCLIST  = $(subst $(SOURCEDIR),.,$(SRCLIST))\nCUTTSRCLIST = $(subst $(TSOURCEDIR),.,$(TSRCLIST))\n# 4. \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u6c7a\u5b9a\nROBJLIST    = $(addprefix $(ROBJECTDIR)/, $(CUTSRCLIST:.cpp=.o))\nDOBJLIST    = $(addprefix $(DOBJECTDIR)/, $(CUTSRCLIST:.cpp=.o))\nTOBJLIST    = $(addprefix $(TOBJECTDIR)/, $(CUTTSRCLIST:.cpp=.o))\n# 5. \u30c6\u30b9\u30c8\u7528\u306bmain\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u306e\u9664\u5916\nTEMPSRCLIST = $(filter-out %$(TARGETMAINSRC), $(CUTSRCLIST))\nTMODULELIST = $(addprefix $(DOBJECTDIR)/, $(TEMPSRCLIST:.cpp=.o))\n# 6. \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306e\u30ea\u30b9\u30c8\u5316\nROBJDIRLIST = $(addprefix $(ROBJECTDIR)/, $(SRCDIRLIST))\nDOBJDIRLIST = $(addprefix $(DOBJECTDIR)/, $(SRCDIRLIST))\nTOBJDIRLIST = $(addprefix $(TOBJECTDIR)/, $(TSRCDIRLIST))\n# 7. \u5404\u7a2e\u30d3\u30eb\u30c9\u30bf\u30fc\u30b2\u30c3\u30c8\u8a2d\u5b9a\n.PHONY: all build clean debugbuild debugclean testbuild testclean testrun testlog allbuild allclean\nall: allclean allbuild\n\nbuild: $(RTARGETS)\n\nclean:\n\trm -f $(ROBJLIST) $(RTARGETDIR)/$(RTARGETS)\n\ndebugbuild: $(DTARGETS)\n\ndebugclean:\n\trm -f $(DOBJLIST) $(DTARGETDIR)/$(DTARGETS)\n\ntestbuild: $(DTARGETS) $(TTARGETS)\n\ntestclean:\n\trm -f $(TOBJLIST) $(DOBJLIST) $(TTARGETDIR)/$(TTARGETS)\n\ntestrun: testclean testbuild\n\tchmod +x $(TTARGETDIR)/$(TTARGETS)\n\t$(TTARGETDIR)/$(TTARGETS) -v\n\ntestlog: testclean testbuild\n\tchmod +x $(TTARGETDIR)/$(TTARGETS)\n\t$(TTARGETDIR)/$(TTARGETS) -ojunit\n\t@if [ ! -e $(TLOGDIR) ]; then mkdir -p $(TLOGDIR); fi\n\tmv *.xml $(TLOGDIR)\n\nallbuild: build debugbuild testbuild\n\nallclean: clean debugclean testclean\n\n# 8. \u30bf\u30fc\u30b2\u30c3\u30c8\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u6210\n$(RTARGETS): $(ROBJLIST)\n\t@echo \"$^\"\n\t@if [ ! -e $(RTARGETDIR) ]; then mkdir -p $(RTARGETDIR); fi\n\t$(CXX) -o $(RTARGETDIR)/$@ $^ $(RLDFLAGS) $(RLIBS)\n\n$(DTARGETS): $(DOBJLIST)\n\t@echo \"$^\"\n\t@if [ ! -e $(DTARGETDIR) ]; then mkdir -p $(DTARGETDIR); fi\n\t$(CXX) -o $(DTARGETDIR)/$@ $^ $(DLDFLAGS) $(DLIBS)\n\n$(TTARGETS): $(TOBJLIST)\n\t@echo \"$^\"\n\t@if [ ! -e $(TTARGETDIR) ]; then mkdir -p $(TTARGETDIR); fi\n\t$(CXX) -o $(TTARGETDIR)/$@ $^ $(TMODULELIST) $(TLDFLAGS) $(TLIBS)\n\n# 9. \u4e2d\u9593\u30d0\u30a4\u30ca\u30ea\u306e\u751f\u6210\n$(ROBJECTDIR)/%.o: $(SOURCEDIR)/%.cpp\n\t@if [ ! -e `dirname $@` ]; then mkdir -p `dirname $@`; fi\n\t$(CXX) $(RCXXFLAGS) $(RINCLUDES) -o $@ -c $<\n\n$(DOBJECTDIR)/%.o: $(SOURCEDIR)/%.cpp\n\t@if [ ! -e `dirname $@` ]; then mkdir -p `dirname $@`; fi\n\t$(CXX) $(DCXXFLAGS) $(DINCLUDES) -o $@ -c $<\n\n$(TOBJECTDIR)/%.o: $(TSOURCEDIR)/%.cpp\n\t@if [ ! -e `dirname $@` ]; then mkdir -p `dirname $@`; fi\n\t$(CXX) $(TCXXFLAGS) $(TINCLUDES) -o $@ -c $<\n```\n#\u5b9f\u884c\u7d50\u679c\n\n```end_tree.log\n$ make allbuild\n$ tree -f\n.\n|-- Makefile\n|-- bin/\n|   |-- debug/\n|   |   `-- debug_hoge*\n|   |-- release/\n|   |   `-- hoge*\n|   `-- test/\n|       `-- test_hoge*\n|-- header/\n|   `-- subdir/\n|       `-- submodule.hpp\n|-- obj/\n|   |-- debug/\n|   |   |-- hoge.o\n|   |   `-- subdir/\n|   |       `-- submodule.o\n|   |-- release/\n|   |   |-- hoge.o\n|   |   `-- subdir/\n|   |       `-- submodule.o\n|   `-- test/\n|       |-- subdir/\n|       |   `-- test_submodule.o\n|       `-- test_hoge.o\n|-- src/\n|   |-- hoge.cpp\n|   `-- subdir/\n|       `-- submodule.cpp\n|-- test_header/\n|   |-- CppUTest/\n|   |   `-- (\u7701\u7565)\n|   |-- CppUTestExt/\n|   |   `-- (\u7701\u7565)\n|   `-- Platforms/\n|       `-- c2000/\n|           `-- (\u7701\u7565)\n|-- test_lib/\n|   |-- CppUTest/\n|   |   `-- libCppUTest.a\n|   `-- CppUTestExt/\n|       `-- libCppUTestExt.a\n|-- test_log/\n|-- test_obj/\n`-- test_src/\n    |-- subdir/\n    |   `-- test_submodule.cpp\n    `-- test_hoge.cpp\n\n```\n\n#\u89e3\u8aac\n\u8a2d\u5b9a\u5024\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8f09\u3057\u3066\u3044\u308b\u3002\nRXXXX = \u30ea\u30ea\u30fc\u30b9\u30d3\u30eb\u30c9\u95a2\u4fc2\nDXXXX = \u30c7\u30d0\u30c3\u30b0\u30d3\u30eb\u30c9\u95a2\u4fc2\nTXXXX = CppUTest\u30d3\u30eb\u30c9\u95a2\u4fc2\n\u57fa\u672c\u7684\u306b\u89e6\u308b\u306e\u306f\u51e6\u7406\u90e8\u3088\u308a\u4e0a\u306e\u8a2d\u5b9a\u306e\u307f\u3002\n1. \u30c7\u30a3\u30ec\u304f\u30c8\u30ea\u6307\u5b9a\u3092\u5408\u308f\u305b\u308b\n2. \u5fc5\u8981\u306a\u30b3\u30f3\u30d1\u30a4\u30eb/ \u30ea\u30f3\u30ab\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\n3. \u5b9f\u884c\n$ make\n\nCppUTest\u3092\u5b9f\u65bd\u3059\u308b\u5834\u5408\u306f\u3001\n$make testrun\n\u3092\u53e9\u304f\u3053\u3068\u3067\u30af\u30ea\u30fc\u30f3\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u30c6\u30b9\u30c8\u3092\u884c\u3046\u3002\n\n\n#\u307e\u3068\u3081\n\u30bd\u30fc\u30b9\u30d5\u30a9\u30eb\u30c0\u4e2d\u306e\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u3092\u8ffd\u3044\u304b\u3051\u30d3\u30eb\u30c9\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001\nMakefile\u306e\u30e1\u30f3\u30c6\u3092\u307b\u307c\u6c17\u306b\u3057\u306a\u304f\u3066\u3088\u304f\u3001\u958b\u767a\u306b\u96c6\u4e2d\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n\n#\u8ab2\u984c\nInclude\u3068\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u81ea\u52d5\u66f4\u65b0\u306e\u691c\u8a0e\n\u2192\u8ab2\u984c\u306b\u66f8\u3044\u3066\u3044\u305fInclude\u3068\u30ea\u30f3\u30ab\u306e\u81ea\u52d5\u66f4\u65b0\u306f\u4e0d\u5fc5\u8981\u306a\u3082\u306e\u307e\u3067\n\u3000\u53d6\u308a\u8fbc\u3093\u3067\u3057\u307e\u3046\u6050\u308c\u304c\u3042\u308b\u306e\u3067\u3084\u3081\u305f\u307b\u3046\u304c\u7121\u96e3\u305d\u3046\u3002\n"}