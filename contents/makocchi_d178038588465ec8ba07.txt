{"context": " More than 1 year has passed since last update.\n\nblackbird memcached plugin\n\u3053\u306e plugin \u3067\u306f Memcached \u304b\u3089\u69d8\u3005\u306a\u60c5\u5831\u3092\u53d6\u5f97\u3057\u3001backend \u306b\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3057\u307e\u3059\n\u73fe\u5728\u306e\u3068\u3053\u308d\u3001\u4e0b\u8a18\u306e\u60c5\u5831\u3092\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\nstats \u306e\u5404\u9805\u76ee\n\nstats settings \u306e\u5404\u9805\u76ee\nitem \u306e get/set \u306e response time\n\n\nInstall\n\nblackbird \u672c\u4f53\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b install \u3057\u3066\u304f\u3060\u3055\u3044\n\nInstall memcached plugin\nsetup.py \u3067\u5165\u308c\u308b\u65b9\u6cd5\u3068 rpm \u3067\u5165\u308c\u308b\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\n\nsetup.py \u3067 install\ngit clone https://github.com/Vagrants/blackbird-memcached.git\ncd blackbird-memcached\npython setup.py install\n\n\nrpm \u3067 install\nyum install blackbird-memcached--enablerepo=blackbird\n\n\nplugin \u306e\u8a2d\u5b9a\u3092\u3059\u308b\nconfig \u306f /etc/blackbird/conf.d/memcached.cfg \u306b\u3042\u308a\u307e\u3059\n\n/etc/blackbird/conf.d/memcached.cfg\n[memcached]\nmodule = memcached\n\n# The following values are default.\n#\n#host = '127.0.0.1'\n#port = 11211\n#timeout = 10\n\n# memcached.py script get response time(\"set\" and \"get\" command).\n# If you set \"profile_include_conn_establish\" is True, response time includes time that connection establishing.\n# Default : False\n#\n#profile_include_conn_establish = False\n\n# If hostname options is None, it is used result of socket.getbyhostname(= hostname -s).\n#hostname = 'YOUR_HOSTNAME_IN_ZABBIX'\n\n\nhost \u3084 port \u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\nprofile_include_conn_establish \u304c True \u306e\u5834\u5408\u3001response time \u306e\u8a08\u6e2c\u304c Memcached \u306b\u63a5\u7d9a\u3092\u3059\u308b\u3068\u3053\u308d\u304b\u3089\u59cb\u307e\u308a\u307e\u3059\nFalse \u306e\u5834\u5408\u306f\u63a5\u7d9a\u3057\u305f\u5f8c\u306b response time \u306e\u8a08\u6e2c\u304c\u59cb\u307e\u308a\u307e\u3059\n\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u3089 blackbird \u3092\u518d\u8d77\u52d5\u3055\u305b\u307e\u3059\nsudo /etc/init.d/blackbird restart\n\n\nZabbix \u4e0a\u3067\u30c7\u30fc\u30bf\u304c\u5165\u3063\u3066\u304d\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\nZabbix \u306e Template \u306f github \u306e repository\u306b\u3042\u308a\u307e\u3059\nZabbix \u306b import \u3057\u3066\u5bfe\u8c61\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u9069\u7528\u3055\u305b\u3066\u4e0b\u3055\u3044\n\u3057\u304b\u3057\u3053\u306e Template\u3001\u4f8b\u306b\u3088\u3063\u3066 Trigger \u306e\u4f9d\u5b58\u30a8\u30e9\u30fc\u3067 2.4 \u7cfb\u3060\u3068 import \u3067\u304d\u306a\u3044\u554f\u984c\u304c\u3042\u308a\u307e\u3059\nimport \u6642\u306b Trigger \u306e\u90e8\u5206\u306e checkbox \u3092\u5916\u305b\u3070 import \u3067\u304d\u308b\u3093\u3067\u3059\u304c\u30fb\u30fb\nZabbix \u4e0a\u306e host \u540d\u3068 blackbird \u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u30fc\u306e host \u540d\u304c\u9055\u3046\u5834\u5408\u306f /etc/blackbird/conf.d/memcached.cfg \u4e0a\u3067 hostname \u3092\u8a2d\u5b9a\u3057\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\nZabbix \u4e0a\u3068\u5408\u308f\u305b\u3066\u304f\u3060\u3055\u3044\n\n/etc/blackbird/conf.d/memcached.cfg\nhostname = your_static_hostname\n\n\n\u307e\u305f\u3001\u76e3\u8996\u9593\u9694\u3082\u5909\u66f4\u3067\u304d\u307e\u3059 (\u30c7\u30d5\u30a9\u30eb\u30c8 60 \u79d2)\n\n/etc/blackbird/conf.d/memcached.cfg\ninterval = 30\n\n\n\nZabbix Template \u306e\u30a2\u30a4\u30c6\u30e0\u306b\u3064\u3044\u3066\nMemcached \u306f version \u306b\u3088\u3063\u3066 stats \u306e\u53d6\u308c\u308b\u5024\u304c\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u52d5\u304b\u3057\u3066\u3044\u308b version \u306b\u3088\u3063\u3066\u306f\u53d6\u5f97\u3067\u304d\u306a\u3044 item \u304c\u3042\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\ngithub \u306e repository \u306e _Memcached_1.4 \u306e Template \u306f Memcached 1.4.20 \u3067\u53d6\u308c\u308b\u5024\u3092\u5143\u306b\u4f5c\u3089\u308c\u3066\u3044\u307e\u3059\n\u4f8b\u3048\u3070 CentOS 6 \u306e Base \u306b\u5165\u3063\u3066\u3044\u308b Memcached \u306e version \u306f 1.4.3 \u306a\u306e\u3067\u53d6\u5f97\u3067\u304d\u308b item \u306f 1.4.20 \u3088\u308a\u3082\u5c11\u306a\u304f\u306a\u308a\u307e\u3059\n\u307e\u305f\u3001Template \u306b\u306f\u4e00\u90e8 agent \u306e item \u3082\u5165\u3063\u3066\u307e\u3059\n# blackbird memcached plugin\n\n\u3053\u306e plugin \u3067\u306f Memcached \u304b\u3089\u69d8\u3005\u306a\u60c5\u5831\u3092\u53d6\u5f97\u3057\u3001backend \u306b\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3057\u307e\u3059\n\u73fe\u5728\u306e\u3068\u3053\u308d\u3001\u4e0b\u8a18\u306e\u60c5\u5831\u3092\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n* `stats` \u306e\u5404\u9805\u76ee\n* `stats settings` \u306e\u5404\u9805\u76ee\n* item \u306e `get`/`set` \u306e response time\n\n# Install\n\n## blackbird \u672c\u4f53\n\n[\u3053\u3061\u3089](http://qiita.com/makocchi/items/9166016b2ad4cc43e83f)\u3092\u53c2\u8003\u306b install \u3057\u3066\u304f\u3060\u3055\u3044\n\n## Install memcached plugin\n\nsetup.py \u3067\u5165\u308c\u308b\u65b9\u6cd5\u3068 rpm \u3067\u5165\u308c\u308b\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\n\n### setup.py \u3067 install\n\n```bash\ngit clone https://github.com/Vagrants/blackbird-memcached.git\ncd blackbird-memcached\npython setup.py install\n```\n\n### rpm \u3067 install\n\n```bash\nyum install blackbird-memcached--enablerepo=blackbird\n```\n\n# plugin \u306e\u8a2d\u5b9a\u3092\u3059\u308b\n\nconfig \u306f `/etc/blackbird/conf.d/memcached.cfg` \u306b\u3042\u308a\u307e\u3059\n\n```ini:/etc/blackbird/conf.d/memcached.cfg\n[memcached]\nmodule = memcached\n\n# The following values are default.\n#\n#host = '127.0.0.1'\n#port = 11211\n#timeout = 10\n\n# memcached.py script get response time(\"set\" and \"get\" command).\n# If you set \"profile_include_conn_establish\" is True, response time includes time that connection establishing.\n# Default : False\n#\n#profile_include_conn_establish = False\n\n# If hostname options is None, it is used result of socket.getbyhostname(= hostname -s).\n#hostname = 'YOUR_HOSTNAME_IN_ZABBIX'\n```\n\nhost \u3084 port \u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\n\n`profile_include_conn_establish` \u304c `True` \u306e\u5834\u5408\u3001response time \u306e\u8a08\u6e2c\u304c Memcached \u306b\u63a5\u7d9a\u3092\u3059\u308b\u3068\u3053\u308d\u304b\u3089\u59cb\u307e\u308a\u307e\u3059\n`False` \u306e\u5834\u5408\u306f\u63a5\u7d9a\u3057\u305f\u5f8c\u306b response time \u306e\u8a08\u6e2c\u304c\u59cb\u307e\u308a\u307e\u3059\n\n\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u3089 `blackbird` \u3092\u518d\u8d77\u52d5\u3055\u305b\u307e\u3059\n\n```bash\nsudo /etc/init.d/blackbird restart\n```\n\n# Zabbix \u4e0a\u3067\u30c7\u30fc\u30bf\u304c\u5165\u3063\u3066\u304d\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\n\nZabbix \u306e Template \u306f [github \u306e repository](https://github.com/Vagrants/blackbird-memcached/tree/master/templates)\u306b\u3042\u308a\u307e\u3059\nZabbix \u306b import \u3057\u3066\u5bfe\u8c61\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u9069\u7528\u3055\u305b\u3066\u4e0b\u3055\u3044\n\n\u3057\u304b\u3057\u3053\u306e Template\u3001\u4f8b\u306b\u3088\u3063\u3066 **Trigger \u306e\u4f9d\u5b58\u30a8\u30e9\u30fc\u3067 2.4 \u7cfb\u3060\u3068 import \u3067\u304d\u306a\u3044\u554f\u984c\u304c\u3042\u308a\u307e\u3059**\nimport \u6642\u306b Trigger \u306e\u90e8\u5206\u306e checkbox \u3092\u5916\u305b\u3070 import \u3067\u304d\u308b\u3093\u3067\u3059\u304c\u30fb\u30fb\n\n**Zabbix \u4e0a\u306e host \u540d\u3068 blackbird \u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u30fc\u306e host \u540d\u304c\u9055\u3046\u5834\u5408\u306f `/etc/blackbird/conf.d/memcached.cfg` \u4e0a\u3067 hostname \u3092\u8a2d\u5b9a\u3057\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059**\nZabbix \u4e0a\u3068\u5408\u308f\u305b\u3066\u304f\u3060\u3055\u3044\n\n```ini:/etc/blackbird/conf.d/memcached.cfg\nhostname = your_static_hostname\n```\n\n\u307e\u305f\u3001\u76e3\u8996\u9593\u9694\u3082\u5909\u66f4\u3067\u304d\u307e\u3059 (\u30c7\u30d5\u30a9\u30eb\u30c8 60 \u79d2)\n\n```ini:/etc/blackbird/conf.d/memcached.cfg\ninterval = 30\n```\n\n# Zabbix Template \u306e\u30a2\u30a4\u30c6\u30e0\u306b\u3064\u3044\u3066\n\nMemcached \u306f version \u306b\u3088\u3063\u3066 `stats` \u306e\u53d6\u308c\u308b\u5024\u304c\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u52d5\u304b\u3057\u3066\u3044\u308b version \u306b\u3088\u3063\u3066\u306f\u53d6\u5f97\u3067\u304d\u306a\u3044 item \u304c\u3042\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\n[github \u306e repository](https://github.com/Vagrants/blackbird-memcached/tree/master/templates) \u306e `_Memcached_1.4` \u306e Template \u306f Memcached 1.4.20 \u3067\u53d6\u308c\u308b\u5024\u3092\u5143\u306b\u4f5c\u3089\u308c\u3066\u3044\u307e\u3059\n\u4f8b\u3048\u3070 CentOS 6 \u306e Base \u306b\u5165\u3063\u3066\u3044\u308b Memcached \u306e version \u306f 1.4.3 \u306a\u306e\u3067\u53d6\u5f97\u3067\u304d\u308b item \u306f 1.4.20 \u3088\u308a\u3082\u5c11\u306a\u304f\u306a\u308a\u307e\u3059\n\u307e\u305f\u3001Template \u306b\u306f\u4e00\u90e8 agent \u306e item \u3082\u5165\u3063\u3066\u307e\u3059\n", "tags": ["blackbird", "zabbix", "Python", "Memcached"]}