{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\u4e8b\u60c5\u304c\u3042\u3063\u3066Mojolicious\u3067TT\u3092\u4f7f\u3046\u5834\u5408\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3002\n\nMojolicious::Plugin::TtRenderer\nMojolicious\u3067TT\u3092\u4f7f\u3046\u305f\u3081\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3002\ncpanm\u3067\u666e\u901a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n$ cpanm Mojolicious::Plugin::TtRenderer\n\n\nTemplate::Stash::AutoEscape\n\u81ea\u52d5\u30a8\u30b9\u30b1\u30fc\u30d7\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308bTT\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3002\nMakefile.PL\u306b\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\"Template::Toolkit\"\u3068\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u5931\u6557\u3059\u308b\u3002\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u3001Makefile.PL\u3092\u7de8\u96c6\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n$ wget http://cpan.metacpan.org/authors/id/M/MA/MALA/Template-Stash-AutoEscape-0.03.tar.gz\n$ tar xvzf Template-Stash-AutoEscape-0.03.tar.gz\n$ cd Template-Stash-AutoEscape-0.03/\n$ perl -i -ple 's{Template::Toolkit}{Template}' Makefile.PL\n$ perl Makefile.PL\n$ make\n$ make test\n$ make install\n\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u6709\u52b9\u5316\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u3066\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\n\nmyapp.pl\nuse Mojolicious::Lite;\n\nplugin 'TtRenderer', {template_options => {STASH => Template::Stash::AutoEscape->new}};\n\n\n\nTemplate::Toolkit\u306e\u5229\u7528\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u62e1\u5f35\u5b50\u306f\u300chtml.tt\u300d\u3068\u306a\u308b\u3002\nurl_for\u306a\u3069\u306e\u95a2\u6570\u3092\u8aad\u307f\u51fa\u3059\u3068\u304d\u306f\u300cc.url_for\u300d\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3059\u308b\u3002\n\u30d8\u30eb\u30d1\u30fc\u306f\u300ch\u300d\u7d4c\u7531\u3067\u547c\u3073\u51fa\u3059\u3002\nlayout\u6a5f\u80fd\u3092\u4f7f\u3046\u5834\u5408\u3001content\u3092\u305d\u306e\u307e\u307e\u8a18\u8ff0\u3059\u308b\u3068\u3001\ncontent\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308bHTML\u304c\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u3001\nraw\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\ntemplates/layouts/default.html.tt\n<html>\n<head><title>\u30c6\u30b9\u30c8</title></head>\n<body>\n<div>\n[% content.raw %]\n</div>\n</body>\n</html>\n\n\n\u4ee5\u4e0b\u3001Template::Toolkit\u3092\u4f7f\u3063\u305f\u6642\u306e\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u3002\n\nmyapp.pl\nuse Mojolicious::Lite;\n\nuse Template::Stash::AutoEscape;\n\nplugin 'TtRenderer', {template_options => {STASH => Template::Stash::AutoEscape->new}};\n\nmy @users = (\n    {\n        id => 1,\n        name => '\u592a\u90ce',\n        age => 30,\n        note => '<b>\u592a\u90ce</b>',\n    },\n    {\n        id => 2,\n        name => '\u82b1\u5b50',\n        age => 31,\n        note => '<b>\u82b1\u5b50</b>',\n    },\n);\n\nget '/' => sub {\n    my $self = shift;\n\n    $self->stash->{users} = \\@users;\n\n    $self->render();\n} => 'index';\n\nget '/detail/:id' => sub {\n    my $self = shift;\n\n    my $id = $self->param('id');\n    my ($user) = grep { $_->{id} == $id } @users;\n\n    if (!$user) {\n        return $self->render_not_found();\n    }\n\n    $self->stash->{user} = $user;\n\n    $self->render();\n} => 'detail';\n\n\n\napp->start;\n__DATA__\n\n@@ layouts/default.html.tt\n<html>\n<head>\n<meta charset=\"utf8\">\n<title>[% title %]</title>\n</head>\n<body>\n<h1>[% title %]</h1>\n<div>\n[% content.raw %]\n</div>\n</body>\n</html>\n\n\n@@ index.html.tt\n[% WRAPPER \"layouts/default.html.tt\", title=\"\u4e00\u89a7\" %]\n<table>\n<tr>\n  <th>ID</th>\n  <th>\u540d\u524d</th>\n  <th>\u5e74\u9f62</th>\n  <th>\u5099\u8003</th>\n</tr>\n[% FOREACH u=users %]\n<tr>\n  <td>[% u.id %]</td>\n  <td><a href=\"[% c.url_for('detail', id => u.id) %]\">[% u.name %]</a></td>\n  <td>[% u.age %]</td>\n  <td>[% u.note %]</td>\n</tr>\n[% END %]\n</table>\n[% END %]\n\n@@ detail.html.tt\n[% WRAPPER \"layouts/default.html.tt\", title=\"\u8a73\u7d30\" %]\n<a href=\"[% c.url_for('index') %]\">\u623b\u308b</a>\n\n<table>\n<tr>\n  <th>ID</th>\n  <td>[% user.id %]</td>\n</tr>\n<tr>\n  <th>\u540d\u524d</th>\n  <td>[% user.name %]</td>\n</tr>\n<tr>\n  <th>\u5e74\u9f62</th>\n  <td>[% user.age %]</td>\n</tr>\n<tr>\n  <th>\u5099\u8003</th>\n  <td>[% user.note %]</td>\n</tr>\n</table>\n[% END %]\n\n\n\n# \u6982\u8981\n\n\u4e8b\u60c5\u304c\u3042\u3063\u3066Mojolicious\u3067TT\u3092\u4f7f\u3046\u5834\u5408\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3002\n\n\n# Mojolicious::Plugin::TtRenderer\n\nMojolicious\u3067TT\u3092\u4f7f\u3046\u305f\u3081\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3002\ncpanm\u3067\u666e\u901a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```shell\n$ cpanm Mojolicious::Plugin::TtRenderer\n```\n\n# Template::Stash::AutoEscape\n\n\u81ea\u52d5\u30a8\u30b9\u30b1\u30fc\u30d7\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308bTT\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3002\nMakefile.PL\u306b\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\"Template::Toolkit\"\u3068\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u5931\u6557\u3059\u308b\u3002\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u3001Makefile.PL\u3092\u7de8\u96c6\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n```shell\n$ wget http://cpan.metacpan.org/authors/id/M/MA/MALA/Template-Stash-AutoEscape-0.03.tar.gz\n$ tar xvzf Template-Stash-AutoEscape-0.03.tar.gz\n$ cd Template-Stash-AutoEscape-0.03/\n$ perl -i -ple 's{Template::Toolkit}{Template}' Makefile.PL\n$ perl Makefile.PL\n$ make\n$ make test\n$ make install\n```\n\n# \u30d7\u30e9\u30b0\u30a4\u30f3\u6709\u52b9\u5316\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u3066\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\n\n```perl:myapp.pl\nuse Mojolicious::Lite;\n\nplugin 'TtRenderer', {template_options => {STASH => Template::Stash::AutoEscape->new}};\n```\n\n# Template::Toolkit\u306e\u5229\u7528\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u62e1\u5f35\u5b50\u306f\u300chtml.tt\u300d\u3068\u306a\u308b\u3002\n\nurl_for\u306a\u3069\u306e\u95a2\u6570\u3092\u8aad\u307f\u51fa\u3059\u3068\u304d\u306f\u300cc.url_for\u300d\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3059\u308b\u3002\n\u30d8\u30eb\u30d1\u30fc\u306f\u300ch\u300d\u7d4c\u7531\u3067\u547c\u3073\u51fa\u3059\u3002\n\nlayout\u6a5f\u80fd\u3092\u4f7f\u3046\u5834\u5408\u3001content\u3092\u305d\u306e\u307e\u307e\u8a18\u8ff0\u3059\u308b\u3068\u3001\ncontent\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308bHTML\u304c\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u3001\nraw\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n```html:templates/layouts/default.html.tt\n<html>\n<head><title>\u30c6\u30b9\u30c8</title></head>\n<body>\n<div>\n[% content.raw %]\n</div>\n</body>\n</html>\n```\n\n\u4ee5\u4e0b\u3001Template::Toolkit\u3092\u4f7f\u3063\u305f\u6642\u306e\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u3002\n\n```perl:myapp.pl\nuse Mojolicious::Lite;\n\nuse Template::Stash::AutoEscape;\n\nplugin 'TtRenderer', {template_options => {STASH => Template::Stash::AutoEscape->new}};\n\nmy @users = (\n    {\n        id => 1,\n        name => '\u592a\u90ce',\n        age => 30,\n        note => '<b>\u592a\u90ce</b>',\n    },\n    {\n        id => 2,\n        name => '\u82b1\u5b50',\n        age => 31,\n        note => '<b>\u82b1\u5b50</b>',\n    },\n);\n\nget '/' => sub {\n    my $self = shift;\n\n    $self->stash->{users} = \\@users;\n\n    $self->render();\n} => 'index';\n\nget '/detail/:id' => sub {\n    my $self = shift;\n\n    my $id = $self->param('id');\n    my ($user) = grep { $_->{id} == $id } @users;\n\n    if (!$user) {\n        return $self->render_not_found();\n    }\n\n    $self->stash->{user} = $user;\n\n    $self->render();\n} => 'detail';\n\n\n\napp->start;\n__DATA__\n\n@@ layouts/default.html.tt\n<html>\n<head>\n<meta charset=\"utf8\">\n<title>[% title %]</title>\n</head>\n<body>\n<h1>[% title %]</h1>\n<div>\n[% content.raw %]\n</div>\n</body>\n</html>\n\n\n@@ index.html.tt\n[% WRAPPER \"layouts/default.html.tt\", title=\"\u4e00\u89a7\" %]\n<table>\n<tr>\n  <th>ID</th>\n  <th>\u540d\u524d</th>\n  <th>\u5e74\u9f62</th>\n  <th>\u5099\u8003</th>\n</tr>\n[% FOREACH u=users %]\n<tr>\n  <td>[% u.id %]</td>\n  <td><a href=\"[% c.url_for('detail', id => u.id) %]\">[% u.name %]</a></td>\n  <td>[% u.age %]</td>\n  <td>[% u.note %]</td>\n</tr>\n[% END %]\n</table>\n[% END %]\n\n@@ detail.html.tt\n[% WRAPPER \"layouts/default.html.tt\", title=\"\u8a73\u7d30\" %]\n<a href=\"[% c.url_for('index') %]\">\u623b\u308b</a>\n\n<table>\n<tr>\n  <th>ID</th>\n  <td>[% user.id %]</td>\n</tr>\n<tr>\n  <th>\u540d\u524d</th>\n  <td>[% user.name %]</td>\n</tr>\n<tr>\n  <th>\u5e74\u9f62</th>\n  <td>[% user.age %]</td>\n</tr>\n<tr>\n  <th>\u5099\u8003</th>\n  <td>[% user.note %]</td>\n</tr>\n</table>\n[% END %]\n```\n", "tags": ["Mojolicious", "Perl"]}