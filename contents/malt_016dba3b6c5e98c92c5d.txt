{"context": " More than 1 year has passed since last update.\u4eca\u66f4\u3067\u3059\u304c\u3001UIView\u306biOS7\u3067\u8ffd\u52a0\u3055\u308c\u305f\u3001animateWithDuration:delay:usingSpringWithDamping:initialSpringVelocity:options:animations:completion\u306e\u3001initialSpringVelocity\u30d6\u30ed\u30d1\u30c6\u30a3\u304c\u4f55\u3092\u793a\u3057\u3066\u3044\u308b\u306e\u304b\u3001Google\u5148\u751f\u3082\u6559\u3048\u3066\u304f\u308c\u306a\u304b\u3063\u305f\u306e\u3067\u8abf\u3079\u307e\u3057\u305f\u3002\n\u9811\u5f35\u3063\u3066\u7c21\u5358\u306b\u7b54\u3048\u3092\u3044\u3046\u3068\u3001\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u521d\u901f\u304c\u3001\n\u300c\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5168\u4f53\u3092Linear\u306b1\u79d2\u3067\u7d42\u308f\u3089\u305b\u308b\u901f\u5ea6\u306e\u4f55\u500d\u306e\u901f\u5ea6\u304b\u300d\n\u3092\u793a\u3059\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u3088\u3046\u3067\u3059\u3002\u6df7\u4e71\u3057\u307e\u3059\u304c\u3001\n\u300c\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5168\u4f53\u3092Linear\u306b\u4f55\u79d2\u3067\u7d42\u308f\u3089\u305b\u308b\u901f\u5ea6\u304b\u300d\n\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3092\u8aad\u3080\u3068\u3001\n\nA value of 1 corresponds to the total animation distance traversed in one second.\nFor example, if the total animation distance is 200 points and you want the start of the animation to match a view velocity of 100 pt/s, use a value of 0.5.\n\n\u3068\u66f8\u3044\u3066\u3042\u308a\u3001\u5168\u4f53\u304c200pt\u3092\u52d5\u304f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3067\u3001\u521d\u901f\u3092100pt/s\u306b\u3057\u305f\u3044\u5834\u5408\u3001200pt\u30921\u79d2\u3067\u7d42\u308f\u3089\u305b\u308b\u901f\u5ea6(200pt/s)\u306e1/2\u306a\u306e\u3067\u30010.5\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u30e6\u30fc\u30b6\u306e\u30d5\u30ea\u30c3\u30af\u3067\u7269\u4f53\u3092\u52d5\u304b\u3059\u3068\u304d\u306b\u30e6\u30fc\u30b6\u306e\u30d5\u30ea\u30c3\u30af\u901f\u5ea6\u304b\u3089\u30b9\u30e0\u30fc\u30ba\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306b\u7e4b\u3052\u305f\u3044\u3088\u3046\u306a\u5834\u5408\u306b\u4fbf\u5229\u3067\u3059\u3002\n\u4f8b\u3048\u3070\u6307\u306by\u8ef8\u3060\u3051\u3064\u3044\u3066\u304f\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8003\u3048\u308b\u3068\u3001\n\nViewController.swift\nclass ViewController: UIViewController {\n    @IBOutlet weak var topConstraint: NSLayoutConstraint! //\u52d5\u304b\u3059view\u306e\u4e0a\u304b\u3089\u306e\u8ddd\u96e2\u306e\u5236\u7d04\n    private var topConstraintConstantWhenBegan = CGFloat(0) //\u52d5\u304b\u3057\u306f\u3058\u3081\u306e\u4e0a\u304b\u3089\u306e\u8ddd\u96e2\u4fdd\u5b58\u7528\u5909\u6570\n    private let minTopConstraintConstant = CGFloat(0) //\u52d5\u304b\u3059view\u306e\u4e0a\u304b\u3089\u306e\u6700\u5c0f\u306e\u8ddd\u96e2\n    private var maxTopConstraintConstant: CGFloat { //\u52d5\u304b\u3059view\u306e\u4e0a\u304b\u3089\u306e\u6700\u5927\u306e\u8ddd\u96e2\n        get { return view.frame.height - 50 - topLayoutGuide.length }\n    }\n\n    @IBAction func panned(sender: UIPanGestureRecognizer) {\n        switch sender.state {\n        case .Began: //\u4fdd\u5b58\n            topConstraintConstantWhenBegan = topConstraint.constant\n        case .Changed: //\u6307\u306b\u3064\u3044\u3066\u304f\u308b\n            topConstraint.constant = sender.translationInView(view).y + topConstraintConstantWhenBegan\n        case .Ended: //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n            let velocity = sender.velocityInView(view).y //\u96e2\u3057\u305f\u77ac\u9593\u306e\u901f\u5ea6\n            let beforeConstant = topConstraint.constant //\u96e2\u3057\u305f\u77ac\u9593\u306e\u4e0a\u304b\u3089\u306e\u8ddd\u96e2\n            let afterConstant = velocity > 0 ? maxTopConstraintConstant : minTopConstraintConstant //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5f8c\u306e\u4e0a\u304b\u3089\u306e\u8ddd\u96e2\n            let distance = afterConstant - beforeConstant //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u8ddd\u96e2\n\n            topConstraint.constant = afterConstant\n\n            UIView.animateWithDuration(3, delay: 0, usingSpringWithDamping: 0.8, initialSpringVelocity: velocity / distance, options: .CurveLinear, animations: {\n                self.view.layoutIfNeeded()\n            }, completion: nil)\n        default: break\n        }\n    }\n}\n\n\ninitialSprintVelocity\u304c\u3001velocity / distance \u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u5927\u5206\u6df7\u4e71\u3059\u308b\u306e\u3067\u3059\u304c\u30011\u79d2\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u7d42\u308f\u308b\u901f\u5ea6\u306f\u3001distance(pt) / 1(s) = distance(pt/s) \u3067\u3059\u3002\n\u306a\u306e\u3067\u3001velocity(pt/s) / distance(pt/s)\u304c\u3001initialSpringVelocity\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\nhttps://github.com/malt03/Animation\nXcode7\u3067\u4f5c\u3063\u3066\u307e\u3059\u3002\u9069\u5f53\u306bpush\u3057\u305f\u3060\u3051\u306a\u306e\u3067\u3001\u52d5\u304f\u304b\u5206\u304b\u308a\u307e\u305b\u3093\u3002\n\n\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\nhttps://developer.apple.com/library/ios/documentation/UIKit/Reference/UIView_Class/#//apple_ref/occ/clm/UIView/animateWithDuration:delay:usingSpringWithDamping:initialSpringVelocity:options:animations:completion:\n\n\u4eca\u66f4\u3067\u3059\u304c\u3001UIView\u306biOS7\u3067\u8ffd\u52a0\u3055\u308c\u305f\u3001animateWithDuration:delay:usingSpringWithDamping:initialSpringVelocity:options:animations:completion\u306e\u3001initialSpringVelocity\u30d6\u30ed\u30d1\u30c6\u30a3\u304c\u4f55\u3092\u793a\u3057\u3066\u3044\u308b\u306e\u304b\u3001Google\u5148\u751f\u3082\u6559\u3048\u3066\u304f\u308c\u306a\u304b\u3063\u305f\u306e\u3067\u8abf\u3079\u307e\u3057\u305f\u3002\n\n\u9811\u5f35\u3063\u3066\u7c21\u5358\u306b\u7b54\u3048\u3092\u3044\u3046\u3068\u3001\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u521d\u901f\u304c\u3001\n**\u300c\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5168\u4f53\u3092Linear\u306b1\u79d2\u3067\u7d42\u308f\u3089\u305b\u308b\u901f\u5ea6\u306e\u4f55\u500d\u306e\u901f\u5ea6\u304b\u300d**\n\u3092\u793a\u3059\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u3088\u3046\u3067\u3059\u3002\u6df7\u4e71\u3057\u307e\u3059\u304c\u3001\n**\u300c\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5168\u4f53\u3092Linear\u306b\u4f55\u79d2\u3067\u7d42\u308f\u3089\u305b\u308b\u901f\u5ea6\u304b\u300d**\n\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3092\u8aad\u3080\u3068\u3001\n>A value of 1 corresponds to the total animation distance traversed in one second.\nFor example, if the total animation distance is 200 points and you want the start of the animation to match a view velocity of 100 pt/s, use a value of 0.5.\n\n\u3068\u66f8\u3044\u3066\u3042\u308a\u3001\u5168\u4f53\u304c200pt\u3092\u52d5\u304f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3067\u3001\u521d\u901f\u3092100pt/s\u306b\u3057\u305f\u3044\u5834\u5408\u3001200pt\u30921\u79d2\u3067\u7d42\u308f\u3089\u305b\u308b\u901f\u5ea6(200pt/s)\u306e1/2\u306a\u306e\u3067\u30010.5\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u30e6\u30fc\u30b6\u306e\u30d5\u30ea\u30c3\u30af\u3067\u7269\u4f53\u3092\u52d5\u304b\u3059\u3068\u304d\u306b\u30e6\u30fc\u30b6\u306e\u30d5\u30ea\u30c3\u30af\u901f\u5ea6\u304b\u3089\u30b9\u30e0\u30fc\u30ba\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306b\u7e4b\u3052\u305f\u3044\u3088\u3046\u306a\u5834\u5408\u306b\u4fbf\u5229\u3067\u3059\u3002\n\u4f8b\u3048\u3070\u6307\u306by\u8ef8\u3060\u3051\u3064\u3044\u3066\u304f\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8003\u3048\u308b\u3068\u3001\n\n```swift:ViewController.swift\nclass ViewController: UIViewController {\n    @IBOutlet weak var topConstraint: NSLayoutConstraint! //\u52d5\u304b\u3059view\u306e\u4e0a\u304b\u3089\u306e\u8ddd\u96e2\u306e\u5236\u7d04\n    private var topConstraintConstantWhenBegan = CGFloat(0) //\u52d5\u304b\u3057\u306f\u3058\u3081\u306e\u4e0a\u304b\u3089\u306e\u8ddd\u96e2\u4fdd\u5b58\u7528\u5909\u6570\n    private let minTopConstraintConstant = CGFloat(0) //\u52d5\u304b\u3059view\u306e\u4e0a\u304b\u3089\u306e\u6700\u5c0f\u306e\u8ddd\u96e2\n    private var maxTopConstraintConstant: CGFloat { //\u52d5\u304b\u3059view\u306e\u4e0a\u304b\u3089\u306e\u6700\u5927\u306e\u8ddd\u96e2\n        get { return view.frame.height - 50 - topLayoutGuide.length }\n    }\n    \n    @IBAction func panned(sender: UIPanGestureRecognizer) {\n        switch sender.state {\n        case .Began: //\u4fdd\u5b58\n            topConstraintConstantWhenBegan = topConstraint.constant\n        case .Changed: //\u6307\u306b\u3064\u3044\u3066\u304f\u308b\n            topConstraint.constant = sender.translationInView(view).y + topConstraintConstantWhenBegan\n        case .Ended: //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n            let velocity = sender.velocityInView(view).y //\u96e2\u3057\u305f\u77ac\u9593\u306e\u901f\u5ea6\n            let beforeConstant = topConstraint.constant //\u96e2\u3057\u305f\u77ac\u9593\u306e\u4e0a\u304b\u3089\u306e\u8ddd\u96e2\n            let afterConstant = velocity > 0 ? maxTopConstraintConstant : minTopConstraintConstant //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5f8c\u306e\u4e0a\u304b\u3089\u306e\u8ddd\u96e2\n            let distance = afterConstant - beforeConstant //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u8ddd\u96e2\n\n            topConstraint.constant = afterConstant\n\n            UIView.animateWithDuration(3, delay: 0, usingSpringWithDamping: 0.8, initialSpringVelocity: velocity / distance, options: .CurveLinear, animations: {\n                self.view.layoutIfNeeded()\n            }, completion: nil)\n        default: break\n        }\n    }\n}\n```\n\ninitialSprintVelocity\u304c\u3001velocity / distance \u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u5927\u5206\u6df7\u4e71\u3059\u308b\u306e\u3067\u3059\u304c\u30011\u79d2\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u7d42\u308f\u308b\u901f\u5ea6\u306f\u3001`distance(pt) / 1(s) = distance(pt/s)` \u3067\u3059\u3002\n\u306a\u306e\u3067\u3001`velocity(pt/s) / distance(pt/s)`\u304c\u3001initialSpringVelocity\u306b\u306a\u308a\u307e\u3059\u3002\n\n##\u30b3\u30fc\u30c9\nhttps://github.com/malt03/Animation\nXcode7\u3067\u4f5c\u3063\u3066\u307e\u3059\u3002\u9069\u5f53\u306bpush\u3057\u305f\u3060\u3051\u306a\u306e\u3067\u3001\u52d5\u304f\u304b\u5206\u304b\u308a\u307e\u305b\u3093\u3002\n\n##\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\nhttps://developer.apple.com/library/ios/documentation/UIKit/Reference/UIView_Class/#//apple_ref/occ/clm/UIView/animateWithDuration:delay:usingSpringWithDamping:initialSpringVelocity:options:animations:completion:\n", "tags": ["ios7", "iOS", "Swift"]}