{"context": " More than 1 year has passed since last update.-va \u306e\u3088\u3046\u306b -v \u3092\u5225\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u7e4b\u3052\u3066\u6307\u5b9a\u3059\u308b\u3068 $output->getVerbosity() \u304c 1(NORMAL) \u306b\u306a\u308a\u307e\u3059\uff08\u672a\u6307\u5b9a\u3068\u540c\u3058\u5024\uff09\u3002\n<?php\nrequire __DIR__ . '/vendor/autoload.php';\n\nuse Symfony\\Component\\Console\\Application;\nuse Symfony\\Component\\Console\\Command\\Command;\nuse Symfony\\Component\\Console\\Input\\InputInterface;\nuse Symfony\\Component\\Console\\Output\\OutputInterface;\nuse Symfony\\Component\\Console\\Input\\InputOption;\n\n$app = new Application();\n$app->add(new Command('ore'))\n    ->addOption('are', 'a', InputOption::VALUE_NONE)\n    ->setCode(function (InputInterface $input, OutputInterface $output) {\n        $output->writeln(sprintf('<info>getVerbosity() :</info> %d', var_export($output->getVerbosity(), true)));\n        $output->writeln(sprintf('<info>getOption()    :</info> %s', var_export($input->getOption('verbose'), true)));\n    });\n$app->run();\n\n$ php test.php ore\ngetVerbosity() : 1\ngetOption()    : false\n\n$ php test.php ore -v\ngetVerbosity() : 2\ngetOption()    : true\n\n$ php test.php ore -va\ngetVerbosity() : 1\ngetOption()    : true\n\n$input->getOption('verbose') \u3067 -v \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u306f\u5224\u65ad\u3067\u304d\u307e\u3059\u304c -vvv \u306e\u3088\u3046\u306a\u8907\u6570\u6307\u5b9a\u304c\u89e3\u91c8\u3067\u304d\u307e\u305b\u3093\u3002\n$ php test.php ore -vv\ngetVerbosity() : 3\ngetOption()    : true\n\n$ php test.php ore -vva\ngetVerbosity() : 1\ngetOption()    : true\n\n$ php test.php ore -vvv\ngetVerbosity() : 4\ngetOption()    : true\n\n$ php test.php ore -vvva\ngetVerbosity() : 1\ngetOption()    : true\n\nComposer \u3082 Symfony Console Component \u306a\u306e\u3067 -v \u3068\u305d\u306e\u4ed6\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u30d0\u30e9\u30d0\u30e9\u306b\u6307\u5b9a\u3057\u306a\u3044\u3068 verbose \u306b\u306a\u308a\u307e\u305b\u3093\u3002\n$ composer install -vvv -o\nReading ./composer.json\n  :\n\u305f\u304f\u3055\u3093\n  :\nsymfony/console suggests installing psr/log (For using the console logger)\nsymfony/console suggests installing symfony/event-dispatcher ()\nGenerating optimized autoload files\n\n$ composer install -vvvo\nLoading composer repositories with package information\nInstalling dependencies (including require-dev) from lock file\n  - Installing symfony/console (v2.5.2)\n    Loading from cache\n\nsymfony/console suggests installing psr/log (For using the console logger)\nsymfony/console suggests installing symfony/event-dispatcher ()\nGenerating optimized autoload files\n\n\n\u6b21\u306e\u3088\u3046\u306b Symfony\\Component\\Console\\Command\\Command \u3092\u7d99\u627f\u3057\u3066\u30fb\u30fb\u30fb\nclass MyCommand extends \\Symfony\\Component\\Console\\Command\\Command\n{\n    protected function initialize(InputInterface $input, OutputInterface $output)\n    {\n        parent::initialize($input, $output);\n\n        if ($output->getVerbosity() == $output::VERBOSITY_NORMAL && $input->getOption('verbose')) {\n            $output->setVerbosity($output::VERBOSITY_VERBOSE);\n        }\n    }\n}\n\n\u6b21\u306e\u3088\u3046\u306b MyCommand \u3092\u4f7f\u3048\u3070\u610f\u56f3\u305b\u305a VERBOSITY_NORMAL \u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3053\u3068\u3060\u3051\u306f\u907f\u3051\u3089\u308c\u308b\u304b\u306a\u3041\u3002\n$app = new Application();\n$app->add(new MyCommand('ore'))\n    ->addOption('are', 'a', InputOption::VALUE_NONE)\n    ->setCode(function (InputInterface $input, OutputInterface $output) {\n        $output->writeln(sprintf('<info>getVerbosity() :</info> %d', var_export($output->getVerbosity(), true)));\n        $output->writeln(sprintf('<info>getOption()    :</info> %s', var_export($input->getOption('verbose'), true)));\n    });\n$app->run();\n\n`-va` \u306e\u3088\u3046\u306b `-v` \u3092\u5225\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u7e4b\u3052\u3066\u6307\u5b9a\u3059\u308b\u3068 `$output->getVerbosity()` \u304c 1(NORMAL) \u306b\u306a\u308a\u307e\u3059\uff08\u672a\u6307\u5b9a\u3068\u540c\u3058\u5024\uff09\u3002\n\n```php\n<?php\nrequire __DIR__ . '/vendor/autoload.php';\n\nuse Symfony\\Component\\Console\\Application;\nuse Symfony\\Component\\Console\\Command\\Command;\nuse Symfony\\Component\\Console\\Input\\InputInterface;\nuse Symfony\\Component\\Console\\Output\\OutputInterface;\nuse Symfony\\Component\\Console\\Input\\InputOption;\n\n$app = new Application();\n$app->add(new Command('ore'))\n    ->addOption('are', 'a', InputOption::VALUE_NONE)\n    ->setCode(function (InputInterface $input, OutputInterface $output) {\n        $output->writeln(sprintf('<info>getVerbosity() :</info> %d', var_export($output->getVerbosity(), true)));\n        $output->writeln(sprintf('<info>getOption()    :</info> %s', var_export($input->getOption('verbose'), true)));\n    });\n$app->run();\n```\n\n```console\n$ php test.php ore\ngetVerbosity() : 1\ngetOption()    : false\n\n$ php test.php ore -v\ngetVerbosity() : 2\ngetOption()    : true\n\n$ php test.php ore -va\ngetVerbosity() : 1\ngetOption()    : true\n```\n\n`$input->getOption('verbose')` \u3067 `-v` \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u306f\u5224\u65ad\u3067\u304d\u307e\u3059\u304c `-vvv` \u306e\u3088\u3046\u306a\u8907\u6570\u6307\u5b9a\u304c\u89e3\u91c8\u3067\u304d\u307e\u305b\u3093\u3002\n\n```console\n$ php test.php ore -vv\ngetVerbosity() : 3\ngetOption()    : true\n\n$ php test.php ore -vva\ngetVerbosity() : 1\ngetOption()    : true\n\n$ php test.php ore -vvv\ngetVerbosity() : 4\ngetOption()    : true\n\n$ php test.php ore -vvva\ngetVerbosity() : 1\ngetOption()    : true\n```\n\nComposer \u3082 Symfony Console Component \u306a\u306e\u3067 `-v` \u3068\u305d\u306e\u4ed6\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u30d0\u30e9\u30d0\u30e9\u306b\u6307\u5b9a\u3057\u306a\u3044\u3068 verbose \u306b\u306a\u308a\u307e\u305b\u3093\u3002\n\n```console\n$ composer install -vvv -o\nReading ./composer.json\n  :\n\u305f\u304f\u3055\u3093\n  :\nsymfony/console suggests installing psr/log (For using the console logger)\nsymfony/console suggests installing symfony/event-dispatcher ()\nGenerating optimized autoload files\n```\n\n```console\n$ composer install -vvvo\nLoading composer repositories with package information\nInstalling dependencies (including require-dev) from lock file\n  - Installing symfony/console (v2.5.2)\n    Loading from cache\n\nsymfony/console suggests installing psr/log (For using the console logger)\nsymfony/console suggests installing symfony/event-dispatcher ()\nGenerating optimized autoload files\n```\n\n---\n\n\u6b21\u306e\u3088\u3046\u306b `Symfony\\Component\\Console\\Command\\Command` \u3092\u7d99\u627f\u3057\u3066\u30fb\u30fb\u30fb\n\n```php\nclass MyCommand extends \\Symfony\\Component\\Console\\Command\\Command\n{\n    protected function initialize(InputInterface $input, OutputInterface $output)\n    {\n        parent::initialize($input, $output);\n\n        if ($output->getVerbosity() == $output::VERBOSITY_NORMAL && $input->getOption('verbose')) {\n            $output->setVerbosity($output::VERBOSITY_VERBOSE);\n        }\n    }\n}\n```\n\n\u6b21\u306e\u3088\u3046\u306b `MyCommand` \u3092\u4f7f\u3048\u3070\u610f\u56f3\u305b\u305a `VERBOSITY_NORMAL` \u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3053\u3068\u3060\u3051\u306f\u907f\u3051\u3089\u308c\u308b\u304b\u306a\u3041\u3002\n\n```php\n$app = new Application();\n$app->add(new MyCommand('ore'))\n    ->addOption('are', 'a', InputOption::VALUE_NONE)\n    ->setCode(function (InputInterface $input, OutputInterface $output) {\n        $output->writeln(sprintf('<info>getVerbosity() :</info> %d', var_export($output->getVerbosity(), true)));\n        $output->writeln(sprintf('<info>getOption()    :</info> %s', var_export($input->getOption('verbose'), true)));\n    });\n$app->run();\n```\n", "tags": ["PHP", "Symfony2"]}