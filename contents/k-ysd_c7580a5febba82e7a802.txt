{"context": " More than 1 year has passed since last update.Heroku\u306bHubot\u7acb\u3066\u3066\u307f\u305f\u306e\u7d9a\u304d\u306b\u306a\u308a\u307e\u3059\u3002\n\u5bb6\u65cf\u3068\u306eSlack\u30c1\u30e3\u30c3\u30c8\u7528\u306bHubot\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u3044\u304f\u3064\u304b\u66f8\u304d\u307e\u3057\u305f\u3002\n\n\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\nWeb\u30b5\u30a4\u30c8\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u3001cheerio-httpcli\u304c\u30e9\u30af\u30c1\u30f3\u3067\u3059\u3002jQuery\u98a8\u306b\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\nclient = require 'cheerio-httpcli'\n\nclient.fetch 'http://xxxxxx.com/', {q:'node.js'}, (err, $, res) ->\n    console.log $('title').text()\n\n\n\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\n\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u53d6\u5f97\u3067\u304d\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u304c\u3001\u4eca\u56de\u306fphantomjs-prebuilt\u3092\u4f7f\u3044\u307e\u3059\u3002\nchildProcess = require 'child_process'\npath = require 'path'\nphantomjs = require 'phantomjs-prebuilt'\n\nchildArgs = [\n    path.join(__dirname, './screenshot.js')\n    [target-url]\n    [picture-save-path]\n ]\n\n#\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u53d6\u5f97\nchildProcess.execFile phantomjs.path, childArgs, (err, stdout, stderr) ->\n\n\nscreenshot.js\nvar system = require('system');\nvar args = system.args;\nvar url = args[1];\nvar savePath = args[2]\n\nvar page = require('webpage').create();\npage.open(url, function() {\n    page.render(savePath);\n    phantom.exit();\n});\n\n\n\ngmail\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3001gmail\u306b\u5c4a\u3044\u305famazon\u767a\u9001\u30e1\u30fc\u30eb\u3092Slack\u306b\u6d41\u3059\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\nNode.js\u3067\u793e\u5185\u65e5\u5831\u30e1\u30fc\u30eb\u3092\u53d6\u5f97\u3057\u3066Facebook\u30da\u30fc\u30b8\u306b\u81ea\u52d5\u6295\u7a3f\u3059\u308b\u4ed5\u7d44\u307f\u3092\u5b9f\u88c5\u3057\u305f\u306e\u3067\u89e3\u8aac\u3057\u307e\u3059\u3002\niconv\u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u3001node-gyp\u306eRebuild\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002Windows\u3060\u3068C++\u30b3\u30f3\u30d1\u30a4\u30eb\u306e\u305f\u3081\u306bVisual Studio\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3059\u304c\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u9762\u5012\u3060\u3063\u305f\u306e\u3067\u4eca\u56de\u306f\u4f7f\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\ncron\n\u5b9a\u671f\u5b9f\u884c\u306fnode-cron\u3092\u4f7f\u3046\u3068\u308f\u308a\u3068\u304b\u3093\u305f\u3093\u3067\u3059\u3002\nbotRoom = \"#general\"\ncronJob = require('cron').CronJob\n\nmodule.exports = (robot) ->\n  new cronJob(\n    cronTime: \"0 0 16 * * 3\"  # \u6c34\u66dc\u306e16:00\n    start: true\n    onTick: ->\n      robot.send {room: \"#{botRoom}\"}, \"your-message\"\n    )\n\n[Heroku\u306bHubot\u7acb\u3066\u3066\u307f\u305f](http://qiita.com/k-ysd/items/422fbc21118ebe42df9f)\u306e\u7d9a\u304d\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u5bb6\u65cf\u3068\u306eSlack\u30c1\u30e3\u30c3\u30c8\u7528\u306bHubot\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u3044\u304f\u3064\u304b\u66f8\u304d\u307e\u3057\u305f\u3002\n\n# \u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\n\nWeb\u30b5\u30a4\u30c8\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u3001[cheerio-httpcli](https://www.npmjs.com/package/cheerio-httpcli)\u304c\u30e9\u30af\u30c1\u30f3\u3067\u3059\u3002jQuery\u98a8\u306b\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\n```coffeescript\nclient = require 'cheerio-httpcli'\n\nclient.fetch 'http://xxxxxx.com/', {q:'node.js'}, (err, $, res) ->\n    console.log $('title').text()\n```\n\n# \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\n\n\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u53d6\u5f97\u3067\u304d\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u304c\u3001\u4eca\u56de\u306f[phantomjs-prebuilt](https://www.npmjs.com/package/phantomjs-prebuilt)\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```coffeescript\nchildProcess = require 'child_process'\npath = require 'path'\nphantomjs = require 'phantomjs-prebuilt'\n\nchildArgs = [\n    path.join(__dirname, './screenshot.js')\n    [target-url]\n    [picture-save-path]\n ]\n\n#\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u53d6\u5f97\nchildProcess.execFile phantomjs.path, childArgs, (err, stdout, stderr) ->\n```\n\n```js:screenshot.js\nvar system = require('system');\nvar args = system.args;\nvar url = args[1];\nvar savePath = args[2]\n\nvar page = require('webpage').create();\npage.open(url, function() {\n    page.render(savePath);\n    phantom.exit();\n});\n```\n\n# gmail\n\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3001gmail\u306b\u5c4a\u3044\u305famazon\u767a\u9001\u30e1\u30fc\u30eb\u3092Slack\u306b\u6d41\u3059\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n[Node.js\u3067\u793e\u5185\u65e5\u5831\u30e1\u30fc\u30eb\u3092\u53d6\u5f97\u3057\u3066Facebook\u30da\u30fc\u30b8\u306b\u81ea\u52d5\u6295\u7a3f\u3059\u308b\u4ed5\u7d44\u307f\u3092\u5b9f\u88c5\u3057\u305f\u306e\u3067\u89e3\u8aac\u3057\u307e\u3059\u3002](http://liginc.co.jp/web/service/facebook/153850)\n\niconv\u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u3001node-gyp\u306eRebuild\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002Windows\u3060\u3068C++\u30b3\u30f3\u30d1\u30a4\u30eb\u306e\u305f\u3081\u306bVisual Studio\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3059\u304c\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u9762\u5012\u3060\u3063\u305f\u306e\u3067\u4eca\u56de\u306f\u4f7f\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n# cron\n\u5b9a\u671f\u5b9f\u884c\u306f[node-cron](https://github.com/ncb000gt/node-cron)\u3092\u4f7f\u3046\u3068\u308f\u308a\u3068\u304b\u3093\u305f\u3093\u3067\u3059\u3002\n\n```coffeescript\nbotRoom = \"#general\"\ncronJob = require('cron').CronJob\n\nmodule.exports = (robot) ->\n  new cronJob(\n    cronTime: \"0 0 16 * * 3\"  # \u6c34\u66dc\u306e16:00\n    start: true\n    onTick: ->\n      robot.send {room: \"#{botRoom}\"}, \"your-message\"\n    )\n```\n\n\n\n\n", "tags": ["Hubot"]}