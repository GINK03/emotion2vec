{"context": " More than 1 year has passed since last update.API\u306a\u3069\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306b\u3044\u304f\u3064\u304bHeader\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3002\n\u304b\u3064\u3001JS\u3067\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3082\u5c11\u3057Header\u3092\u3044\u3058\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\n\nApache\nHeader append Access-Control-Allow-Origin *\nHeader append Access-Control-Allow-Headers Content-Type\n\n\nnginx\n\nsetting.conf\nlocation / {\n        root   /usr/share/nginx/html;\n        index  index.html index.htm;\n        add_header 'Access-Control-Allow-Origin' '*';\n        add_header 'Access-Control-Allow-Credentials' 'true';\n        add_header 'Access-Control-Allow-Headers' 'Content-Type,Accept';\n        add_header 'Access-Control-Allow-Method' 'GET, POST, OPTIONS, PUT, DELETE';\n}\n\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\n\nJavaScript\n\u30e2\u30c0\u30f3\u30d6\u30e9\u30a6\u30b6\u3067\u3042\u308c\u3070\u3001\u7279\u306b\u610f\u8b58\u3059\u308b\u3053\u3068\u306a\u304f\u901a\u4fe1\u3067\u304d\u308b\u3002\n\nXHR.js\nvar xhr = new XMLHttpRequest();\n\nxhr.open('POST', 'http://hoge.com/', true);\nxhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\nxhr.send('hoge=fuga');\n\n\n\nfor IE8\nIE8\u306f\u30af\u30ed\u30b9\u30c9\u30e1\u30a4\u30f3\u901a\u4fe1\u7528\u306bXMLHttpRequest\u306e\u4ee3\u308f\u308a\u306bXDomainRequest\u3068\u3044\u3046\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u7528\u610f\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u305f\u3060\u3001jQuery\u306a\u3069\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u82e5\u5e72\u5206\u5c90\u304c\u3081\u3093\u3069\u304f\u3055\u3044\u306e\u3067\u3001\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u30e9\u30c3\u30d1\u30fc\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308a\u3001\u3055\u3089\u306bjQuery.ajax\u3067\u4f7f\u308f\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3084\u308b\u3068\u3044\u3044\u3002\n\u53c2\u8003: IE8+jQuery\u306b\u3088\u308b\u30af\u30ed\u30b9\u30c9\u30e1\u30a4\u30f3\u901a\u4fe1\u3068XDomainRequest\u30e9\u30c3\u30d1\u30fc\u306e\u4f5c\u6210\n\nXHR.js\nif( window.XDomainRequest ){\n    var xdr = new XDomainRequest();\n    xdr.onerror = function(){\n        alert( \"error\" );\n    }\n    xdr.onload = function(){\n        alert( xdr.contentType + \"\\n\" + xdr.responseText );\n    }\n    xdr.open( \"get\", \"http://remote.example.com/data.txt\" );\n    xdr.send( null );\n}\n\n\n\nAPI\u306a\u3069\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306b\u3044\u304f\u3064\u304bHeader\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3002\n\u304b\u3064\u3001JS\u3067\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3082\u5c11\u3057Header\u3092\u3044\u3058\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n##\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\n\n###Apache\n\n```.htaccess\nHeader append Access-Control-Allow-Origin *\nHeader append Access-Control-Allow-Headers Content-Type\n```\n\n###nginx\n```setting.conf\nlocation / {\n        root   /usr/share/nginx/html;\n        index  index.html index.htm;\n        add_header 'Access-Control-Allow-Origin' '*';\n        add_header 'Access-Control-Allow-Credentials' 'true';\n        add_header 'Access-Control-Allow-Headers' 'Content-Type,Accept';\n        add_header 'Access-Control-Allow-Method' 'GET, POST, OPTIONS, PUT, DELETE';\n}\n```\n\n##\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\n\n###JavaScript\n\n\u30e2\u30c0\u30f3\u30d6\u30e9\u30a6\u30b6\u3067\u3042\u308c\u3070\u3001\u7279\u306b\u610f\u8b58\u3059\u308b\u3053\u3068\u306a\u304f\u901a\u4fe1\u3067\u304d\u308b\u3002\n\n```XHR.js\nvar xhr = new XMLHttpRequest();\n\nxhr.open('POST', 'http://hoge.com/', true);\nxhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\nxhr.send('hoge=fuga');\n```\n\n####for IE8\n\nIE8\u306f\u30af\u30ed\u30b9\u30c9\u30e1\u30a4\u30f3\u901a\u4fe1\u7528\u306b`XMLHttpRequest`\u306e\u4ee3\u308f\u308a\u306b`XDomainRequest`\u3068\u3044\u3046\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u7528\u610f\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\u305f\u3060\u3001jQuery\u306a\u3069\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u82e5\u5e72\u5206\u5c90\u304c\u3081\u3093\u3069\u304f\u3055\u3044\u306e\u3067\u3001\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u30e9\u30c3\u30d1\u30fc\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308a\u3001\u3055\u3089\u306bjQuery.ajax\u3067\u4f7f\u308f\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3084\u308b\u3068\u3044\u3044\u3002\n\n\u53c2\u8003: [IE8+jQuery\u306b\u3088\u308b\u30af\u30ed\u30b9\u30c9\u30e1\u30a4\u30f3\u901a\u4fe1\u3068XDomainRequest\u30e9\u30c3\u30d1\u30fc\u306e\u4f5c\u6210](http://www.netagent-blog.jp/archives/51509761.html)\n\n```XHR.js\nif( window.XDomainRequest ){\n    var xdr = new XDomainRequest();\n    xdr.onerror = function(){\n        alert( \"error\" );\n    }\n    xdr.onload = function(){\n        alert( xdr.contentType + \"\\n\" + xdr.responseText );\n    }\n    xdr.open( \"get\", \"http://remote.example.com/data.txt\" );\n    xdr.send( null );\n}\n```", "tags": ["CORS", "Ajax", "XHR2"]}