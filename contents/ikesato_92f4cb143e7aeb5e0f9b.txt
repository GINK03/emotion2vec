{"tags": ["ESP8266", "ESP-WROOM-02", "Arduino", "I2C"], "context": " More than 1 year has passed since last update.ESP-WROOM-02 \u306f\u5358\u4f53\u3067 Arduino \u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\nArduino \u306eWire\u30e9\u30a4\u30d6\u30e9\u30eb\u3092\u4f7f\u7528\u3059\u308b\u3068 I2C \u5236\u5fa1\u304c\u7c21\u5358\u306b\u3067\u304d\u308b\u306e\u3067\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\u56de\u8def\u56f3\n\n\n\u5fc5\u8981\u306a\u3082\u306e\n\nESP-WROOM-02\n\u79c1\u306f926\u5186\u3067\u8cb7\u3044\u307e\u3057\u305f\u3002\u5b89\u3044\uff01\nFT232RL USB\u30b7\u30ea\u30a2\u30eb\u5909\u63db\u30e2\u30b8\u30e5\u30fc\u30eb AE-UM232R\nhttp://akizukidenshi.com/catalog/g/gK-01977/\nESP-WROOM-02 \u3068 Arduino \u3092\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3057\u307e\u3059\nI2C\u63a5\u7d9a\u5c0f\u578b\u30ad\u30e3\u30e9\u30af\u30bfLCD\u30e2\u30b8\u30e5\u30fc\u30eb 8x2\u884c AE-AQM0802\nhttp://akizukidenshi.com/catalog/g/gP-06669/\n\u3053\u306e\u30c7\u30d0\u30a4\u30b9\u3092 I2C \u3067\u5236\u5fa1\u3057\u307e\u3059\nI2C\u63a5\u7d9a\u5c0f\u578bLCD\u30e2\u30b8\u30e5\u30fc\u30eb\u7528\u30d4\u30c3\u30c1\u5909\u63db\u57fa\u677f\nhttp://akizukidenshi.com/catalog/g/gP-06794/\n\n3.3V 3\u7aef\u5b50\u30ec\u30ae\u30e5\u30ec\u30fc\u30bf\n\u51fa\u529b\u304c 3.3V \u306a\u3089\u306a\u3093\u3067\u3082\u3044\u3044\u306e\u3067\u3059\u304c uPC2933B \u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\n\u3061\u306a\u307f\u306b AE-UM232R \u306b\u3082 3.3V \u306e\u51fa\u529b\u7aef\u5b50\u3042\u308a\u307e\u3059\u304c\u3001\u6700\u5927\u5b9a\u683c\u304c 50mA \u3057\u304b\u306a\u3044\u306e\u3067\u3053\u308c\u3067 3.3V \u3092\u4f5c\u308a\u307e\u3059\u3002\n\u62b5\u629710k\u03a9 x5\n\u30bb\u30e9\u30df\u30c3\u30af\u30b3\u30f3\u30c7\u30f3\u30b5 0.1uF x2\n\u30a2\u30eb\u30df\u96fb\u89e3\u30b3\u30f3\u30c7\u30f3\u30b5 10uF\nPC\nArduino \u74b0\u5883\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306ePC\u3002\n\u308f\u305f\u3057\u306f Mac \u3092\u4f7f\u3044\u307e\u3057\u305f\u304c\u3001Windows, Linux \u3082\u74b0\u5883\u3042\u308b\u3088\u3046\u3067\u3059\u3002\nArduino \u74b0\u5883\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f https://github.com/esp8266/Arduino \u306e Installing with Boards Manager \u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n\u30d6\u30ec\u30c3\u30c9\u30dc\u30fc\u30c9\n\u9577\u3081\u306a\u30d6\u30ec\u30c3\u30c9\u30dc\u30fc\u30c9\u3067\u306a\u3044\u3068\u5165\u308a\u304d\u308a\u307e\u305b\u3093\n\n\n\u30b9\u30b1\u30c3\u30c1\n\nesp-wroom-02-i2c.ino\n#include <Wire.h>\n#define ADDR 0x3e\n\nvoid setup() {\n  Serial.begin(115200);\n  delay(10);\n  Serial.println(\"\");\n  Serial.println(\"Started\");\n  Wire.begin(4, 14);\n  delay(40);\n\n  uint8_t cmd_init[] = {0x38, 0x39, 0x14, 0x70, 0x56, 0x6c, 0x38, 0x0d, 0x01};\n  command(cmd_init, sizeof(cmd_init));\n  delayMicroseconds(1080);  // 1.08ms\n\n  uint8_t cmd_str1[] = {0x48, 0x65, 0x6c, 0x6c, 0x6f};\n  uint8_t cmd_cr[] = {0xc0};\n  uint8_t cmd_str2[] = {0x57, 0x6f, 0x72, 0x6c, 0x64, 0x21};\n  write(cmd_str1, sizeof(cmd_str1));\n  command(cmd_cr, sizeof(cmd_cr));\n  write(cmd_str2, sizeof(cmd_str2));\n}\n\nvoid loop() {\n}\n\nvoid command(uint8_t *cmd, size_t len) {\n  size_t i;\n  for (i=0; i<len; i++) {\n    Wire.beginTransmission(ADDR);\n    Wire.write(0x00);\n    Wire.write(cmd[i]);\n    Wire.endTransmission();\n    delayMicroseconds(27);    // 26.3us\n  }\n}\n\nvoid write(uint8_t *cmd, size_t len) {\n  size_t i;\n  for (i=0; i<len; i++) {\n    Wire.beginTransmission(ADDR);\n    Wire.write(0x40);\n    Wire.write(cmd[i]);\n    Wire.endTransmission();\n    delayMicroseconds(27);    // 26.3us\n  }\n}\n\n\n\n\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u66f8\u304d\u8fbc\u307f\u65b9\n\nsw1 \u3092\u62bc\u3057\u306a\u304c\u3089 sw2 \u3092\u62bc\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c sw1 \u3092\u96e2\u3057\u307e\u3059\u3002\nsw2 \u3092\u96e2\u3059\u3068\u304d\u306b sw1 \u304c\u62bc\u3055\u308c\u3066\u3044\u308c\u3070OK\u3067\u3059\u3002\nIO1 \u3092 Low \u306b\u3057\u3066\u30ea\u30bb\u30c3\u30c8\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u66f8\u304d\u8fbc\u307f\u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u3002\nArduino \u3067\u30b9\u30b1\u30c3\u30c1\u3092\u958b\u304d\u307e\u3059\n\u30de\u30a4\u30b3\u30f3\u306b\u66f8\u304d\u8fbc\u3080\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u66f8\u304d\u8fbc\u307f\u304c\u59cb\u307e\u308a\u307e\u3059\n\u66f8\u304d\u8fbc\u307f\u304c\u5b8c\u4e86\u3059\u308b\u3068\u901a\u5e38\u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002\nLCD \u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306b\u6587\u5b57\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n\n\u56de\u8def\u56f3\u3067 ESP-WROOM-02 \u306e EAGLE \u30e9\u30a4\u30d6\u30e9\u30ea\u66f8\u3044\u305f\u306e\u3067\u516c\u958b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nhttps://raw.githubusercontent.com/ikesato/eagle-libraries/master/lbr/esp-wroom-02.lbr\n\u3088\u304b\u3063\u305f\u3089\u3069\u3046\u305e\u30fc\u3002\nESP-WROOM-02 \u306f WiFi \u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u4f7f\u3048\u307e\u3059\u304c\u3001\u5358\u4f53\u3067\u3053\u3053\u307e\u3067\u51fa\u6765\u308b\u3068\u306f\u7d20\u6674\u3089\u3057\u3044\uff01\nESP-WROOM-02 \u306f\u5358\u4f53\u3067 Arduino \u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\nArduino \u306eWire\u30e9\u30a4\u30d6\u30e9\u30eb\u3092\u4f7f\u7528\u3059\u308b\u3068 I2C \u5236\u5fa1\u304c\u7c21\u5358\u306b\u3067\u304d\u308b\u306e\u3067\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\n### \u56de\u8def\u56f3\n\n![ESP-WROOM-02-I2C-schematic.png](https://qiita-image-store.s3.amazonaws.com/0/26783/eaba8c76-5dc2-80bc-8a1a-75d751609114.png)\n\n\n### \u5fc5\u8981\u306a\u3082\u306e\n* ESP-WROOM-02  \n \u79c1\u306f926\u5186\u3067\u8cb7\u3044\u307e\u3057\u305f\u3002\u5b89\u3044\uff01\n* FT232RL USB\u30b7\u30ea\u30a2\u30eb\u5909\u63db\u30e2\u30b8\u30e5\u30fc\u30eb AE-UM232R  \n http://akizukidenshi.com/catalog/g/gK-01977/  \n ESP-WROOM-02 \u3068 Arduino \u3092\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3057\u307e\u3059\n* I2C\u63a5\u7d9a\u5c0f\u578b\u30ad\u30e3\u30e9\u30af\u30bfLCD\u30e2\u30b8\u30e5\u30fc\u30eb 8x2\u884c AE-AQM0802  \n http://akizukidenshi.com/catalog/g/gP-06669/  \n \u3053\u306e\u30c7\u30d0\u30a4\u30b9\u3092 I2C \u3067\u5236\u5fa1\u3057\u307e\u3059\n* I2C\u63a5\u7d9a\u5c0f\u578bLCD\u30e2\u30b8\u30e5\u30fc\u30eb\u7528\u30d4\u30c3\u30c1\u5909\u63db\u57fa\u677f  \n http://akizukidenshi.com/catalog/g/gP-06794/  \n* 3.3V 3\u7aef\u5b50\u30ec\u30ae\u30e5\u30ec\u30fc\u30bf  \n \u51fa\u529b\u304c 3.3V \u306a\u3089\u306a\u3093\u3067\u3082\u3044\u3044\u306e\u3067\u3059\u304c uPC2933B \u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\n \u3061\u306a\u307f\u306b AE-UM232R \u306b\u3082 3.3V \u306e\u51fa\u529b\u7aef\u5b50\u3042\u308a\u307e\u3059\u304c\u3001\u6700\u5927\u5b9a\u683c\u304c 50mA \u3057\u304b\u306a\u3044\u306e\u3067\u3053\u308c\u3067 3.3V \u3092\u4f5c\u308a\u307e\u3059\u3002\n* \u62b5\u629710k\u03a9 x5\n* \u30bb\u30e9\u30df\u30c3\u30af\u30b3\u30f3\u30c7\u30f3\u30b5 0.1uF x2\n* \u30a2\u30eb\u30df\u96fb\u89e3\u30b3\u30f3\u30c7\u30f3\u30b5 10uF\n* PC  \n Arduino \u74b0\u5883\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306ePC\u3002\n \u308f\u305f\u3057\u306f Mac \u3092\u4f7f\u3044\u307e\u3057\u305f\u304c\u3001Windows, Linux \u3082\u74b0\u5883\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n Arduino \u74b0\u5883\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f https://github.com/esp8266/Arduino \u306e Installing with Boards Manager \u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n* \u30d6\u30ec\u30c3\u30c9\u30dc\u30fc\u30c9  \n \u9577\u3081\u306a\u30d6\u30ec\u30c3\u30c9\u30dc\u30fc\u30c9\u3067\u306a\u3044\u3068\u5165\u308a\u304d\u308a\u307e\u305b\u3093\n\n### \u30b9\u30b1\u30c3\u30c1\n\n```c++:esp-wroom-02-i2c.ino\n#include <Wire.h>\n#define ADDR 0x3e\n\nvoid setup() {\n  Serial.begin(115200);\n  delay(10);\n  Serial.println(\"\");\n  Serial.println(\"Started\");\n  Wire.begin(4, 14);\n  delay(40);\n\n  uint8_t cmd_init[] = {0x38, 0x39, 0x14, 0x70, 0x56, 0x6c, 0x38, 0x0d, 0x01};\n  command(cmd_init, sizeof(cmd_init));\n  delayMicroseconds(1080);  // 1.08ms\n\n  uint8_t cmd_str1[] = {0x48, 0x65, 0x6c, 0x6c, 0x6f};\n  uint8_t cmd_cr[] = {0xc0};\n  uint8_t cmd_str2[] = {0x57, 0x6f, 0x72, 0x6c, 0x64, 0x21};\n  write(cmd_str1, sizeof(cmd_str1));\n  command(cmd_cr, sizeof(cmd_cr));\n  write(cmd_str2, sizeof(cmd_str2));\n}\n\nvoid loop() {\n}\n\nvoid command(uint8_t *cmd, size_t len) {\n  size_t i;\n  for (i=0; i<len; i++) {\n    Wire.beginTransmission(ADDR);\n    Wire.write(0x00);\n    Wire.write(cmd[i]);\n    Wire.endTransmission();\n    delayMicroseconds(27);    // 26.3us\n  }\n}\n\nvoid write(uint8_t *cmd, size_t len) {\n  size_t i;\n  for (i=0; i<len; i++) {\n    Wire.beginTransmission(ADDR);\n    Wire.write(0x40);\n    Wire.write(cmd[i]);\n    Wire.endTransmission();\n    delayMicroseconds(27);    // 26.3us\n  }\n}\n```\n\n### \u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u66f8\u304d\u8fbc\u307f\u65b9\n\n1. sw1 \u3092\u62bc\u3057\u306a\u304c\u3089 sw2 \u3092\u62bc\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c sw1 \u3092\u96e2\u3057\u307e\u3059\u3002  \n sw2 \u3092\u96e2\u3059\u3068\u304d\u306b sw1 \u304c\u62bc\u3055\u308c\u3066\u3044\u308c\u3070OK\u3067\u3059\u3002  \n IO1 \u3092 Low \u306b\u3057\u3066\u30ea\u30bb\u30c3\u30c8\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u66f8\u304d\u8fbc\u307f\u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u3002\n2. Arduino \u3067\u30b9\u30b1\u30c3\u30c1\u3092\u958b\u304d\u307e\u3059\n3. \u30de\u30a4\u30b3\u30f3\u306b\u66f8\u304d\u8fbc\u3080\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u66f8\u304d\u8fbc\u307f\u304c\u59cb\u307e\u308a\u307e\u3059\n4. \u66f8\u304d\u8fbc\u307f\u304c\u5b8c\u4e86\u3059\u308b\u3068\u901a\u5e38\u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002  \n LCD \u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306b\u6587\u5b57\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n![IMG_0874.JPG](https://qiita-image-store.s3.amazonaws.com/0/26783/0c7d36af-800d-6a31-58bf-1a499f8d63c3.jpeg)\n\n\n\u56de\u8def\u56f3\u3067 ESP-WROOM-02 \u306e EAGLE \u30e9\u30a4\u30d6\u30e9\u30ea\u66f8\u3044\u305f\u306e\u3067\u516c\u958b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nhttps://raw.githubusercontent.com/ikesato/eagle-libraries/master/lbr/esp-wroom-02.lbr\n\u3088\u304b\u3063\u305f\u3089\u3069\u3046\u305e\u30fc\u3002\n\nESP-WROOM-02 \u306f WiFi \u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u4f7f\u3048\u307e\u3059\u304c\u3001\u5358\u4f53\u3067\u3053\u3053\u307e\u3067\u51fa\u6765\u308b\u3068\u306f\u7d20\u6674\u3089\u3057\u3044\uff01\n"}