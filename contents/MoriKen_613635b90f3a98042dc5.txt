{"context": "\n\n\u306f\u3058\u3081\u306b\nROS\u3092\u3044\u3058\u308a\u59cb\u3081\u3066\u534a\u5e74\u3050\u3089\u3044\u306e\u30c9\u7d20\u4eba\u304c\uff0cLearning ROS for Robotics Programming - Second Edition\u3068\u3044\u3046\u672c\u3067\uff0cChapter 10: Manipulation with MoveIt!\u306e\u7ae0\u3092\u52c9\u5f37\u3092\u3057\u3066\u3044\u308b\u3068\u304d\u306b\uff0c\u3053\u306e\u30e1\u30e2\u3092\u6b8b\u305d\u3046\u3068\u601d\u3044\u7acb\u3061\u307e\u3057\u305f\uff0e\n\n\u7406\u7531\u306f\uff0cros_control\u306eController\u3068HardwareInterface\u304c\u7d61\u3080\u3042\u305f\u308a\u3067\u6fc0\u3057\u304f\u6df7\u4e71\u3057\u305f\u304b\u3089\u3067\u3059\u7b11\uff0e\n\u53d6\u308a\u6562\u3048\u305a\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306b\u6cbf\u3063\u3066\u4f5c\u696d\u3092\u3059\u308c\u3070\u52d5\u304b\u305b\u308b\u3051\u3069\uff0c\u3069\u3046\u3044\u3046\u30d5\u30ed\u30fc\u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u3084\u308a\u3068\u308a\u304c\u3055\u308c\u3066\u3044\u306e\u304b\uff0c\u30d1\u30c3\u3068\u30b3\u30fc\u30c9\u3092\u898b\u3066\u3082\u30a4\u30e1\u30fc\u30b8\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\u3059\uff0e\n\u305d\u3053\u3067\uff0c\u3061\u3087\u3046\u3069\u3053\u306e\u66f8\u7c4d\u3067ROS\u3092\u52c9\u5f37\u3057\u3066\u3044\u305f\u306e\u3067\uff0c\u305d\u3053\u3067\u6271\u308f\u308c\u3066\u3044\u308b\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u4f8b\u984c\u306b\uff0cHardwareInterface\u5468\u308a\u306e\u51e6\u7406\u306e\u6d41\u308c\u3092\u8ffd\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\uff0e\n\u3055\u3066\uff0cChapter 10: Manipulation with MoveIt!\u3068\u3044\u3046\u7ae0\u3067\u306f\uff0c\u52c9\u5f37\u7528\u306e6\u8ef8\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u4f7f\u3063\u3066\uff0cGazebo\u4e0a\u306b\u8868\u793a\u3055\u308c\u305f\u30ed\u30dc\u30c3\u30c8\u3092Moveit!\u3067\u5236\u5fa1\u3059\u308b\u3053\u3068\u304c\u984c\u6750\u3068\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u4e0b\u8a18\u306eGithub\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u30b3\u30fc\u30c9\u304c\u30aa\u30fc\u30d7\u30f3\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\n\n\u30ea\u30dd\u30b8\u30c8\u30ea\n\n\ngithub: AaronMR/Learning_ROS_for_Robotics_Programming_2nd_edition\n\n\n\n\u305d\u306e\u30ed\u30dc\u30c3\u30c8\u304c\u52d5\u3044\u3066\u3044\u308b\u69d8\u5b50\u3092\u4e0b\u8a18\u306e\u52d5\u753b\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\n\n\u3042\u307e\u308a\u304b\u3063\u3053\u826f\u304f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\uff08\u7b11\uff09\uff0c\u8d85\u30b7\u30f3\u30d7\u30eb\u306a\u591a\u95a2\u7bc0\u30ed\u30dc\u30c3\u30c8\u306a\u306e\u3067\uff0c\u52c9\u5f37\u306b\u306f\u6301\u3063\u3066\u6765\u3044\u3067\u3059\uff0e\n\n\u76ee\u6b21\n\u4e0b\u8a18\u306e\u56f3\u304c\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u69cb\u6210\u306e\u6982\u8981\u3067\u3059\uff0e\u3053\u306e\u56f3\u306e\u69cb\u6210\u306b\u5bfe\u5fdc\u3055\u305b\u306a\u304c\u3089\uff0c\u7406\u89e3\u3092\u6df1\u3081\u3066\u304f\u3053\u3068\u304c\u76ee\u6a19\u3067\u3059\uff0e\n\n\n\n\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u306e\u5b9a\u7fa9\u3068\u767b\u9332\u3000\u2190\u3000\u30a4\u30de\u30b3\u30b3\n\n\n\nURDF\u3067\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\n\nHardwareInterface\u306e\u5b58\u5728\u610f\u7fa9\n\nURDF\u3067Gazebo\u306e\u8a2d\u5b9a\u3092\u3059\u308b\n\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u30d1\u30e9\u30e1\u30fc\u30bf\u30b5\u30fc\u30d0\u306b\u767b\u9332\u3059\u308b\n\n\n\nRobotHWSim\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3064\u3044\u3066\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u5b9a\u7fa9\n\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u51e6\u7406\u304c\u5b9f\u884c\u3055\u308c\u308b\u5834\u6240\n\nRobotHWSin\u3068RobotHW\u3068\u306e\u5bfe\u6bd4\n\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u3057\u3066\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b \n\nDefaultRobotHWSim\u306b\u3064\u3044\u3066\n\n\n\nController\u306b\u3064\u3044\u3066\n\n\nGazebo\u306b\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092Spawn\u3059\u308b\n\nController\u3092\u8d77\u52d5\u3059\u308b\n\nControllerManager\u3068HardwareInterface\u3068\u306e\u30de\u30c3\u30d4\u30f3\u30b0\n\n\n\n\u3053\u308c\u3089\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u3092\u6574\u7406\u3057\u305f\u3082\u306e\u304c\uff0c\u4e0b\u8a18\u306e\u56f3\u306b\u306a\u308a\u307e\u3059\uff0e\n\n\u4f55\u304b\u8272\u3005\u3084\u3063\u3066\u308b\u3093\u3060\u306a\uff0c\u3068\u3044\u3046\u3053\u3068\u3067\uff0c\u5148\u306b\u9032\u307f\u307e\u3057\u3087\u3046\uff0e\u3053\u306e\u56f3\u306f\u6700\u5f8c\u306b\u3082\u3046\u4e00\u5ea6\u898b\u8fd4\u3057\u307e\u3059\uff0e\n\nURDF\u3067\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\n\u3053\u3053\u3067\u5bfe\u8c61\u3068\u3059\u308b\u30d6\u30ed\u30c3\u30af\u306f\uff0c\u4e0b\u8a18\u306e\u56f3\u306b\u304a\u3044\u3066\u30d4\u30f3\u30af\u306e\u77e2\u5370\u3067\u8a18\u3057\u305f\u90e8\u5206\u3067\u3059\uff0e\n\n\u4eca\u56de\u306f\uff0c\u30ed\u30dc\u30c3\u30c8\u306e\u69cb\u6210\u3092\u5b9a\u7fa9\u3059\u308b\u8981\u7d20\u306e\u3046\u3061\u30a2\u30fc\u30e0\u90e8\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u306e\u307f\u7740\u76ee\u3057\u307e\u3059\uff0e\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u6210\u306f\uff0c\u4e0b\u8a18\u306e\u3068\u304a\u308a\u3067\u3059\uff0e\n\n\u3053\u3053\u3067\u306f\uff0c\u30a2\u30fc\u30e0\u90e8\u306e\u7d14\u7c8b\u306a\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u306e\u5b9a\u7fa9\u3092\u3069\u3046\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u304b\u3092\u77e5\u308a\u305f\u3044\u306e\u3067\uff0c\u4e0a\u8a18\u30d5\u30a1\u30a4\u30eb\u306e\u3046\u3061\u30d4\u30f3\u30af\u3067\u56f2\u3063\u305f\u3082\u306e\u3092\u5bfe\u8c61\u306b\u89e3\u6790\u3092\u3057\u307e\u3059\uff0e\n\u307e\u305a\u306f\uff0c\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u5168\u4f53\u306e\u5b9a\u7fa9\u3092\u53f8\u308brosbook_arm_base.urdf.xacro\u304b\u3089\u898b\u3066\u307f\u307e\u3059\uff0e\n\nrosbook_arm_description/robots/rosbook_arm_base.urdf.xacro\n<?xml version=\"1.0\"?>\n<robot xmlns:xacro=\"http://www.ros.org/wiki/xacro\"\n       name=\"rosbook_arm\">\n  <!--\u7701\u7565-->\n  <xacro:include filename=\"$(find rosbook_arm_description)/urdf/arm/arm.urdf.xacro\"/>\n  <!--\u7701\u7565-->\n  <xacro:arm parent=\"base\"/>\n  <!--\u7701\u7565-->\n</robot>\n\n\narm.urdf.xacro\u3092include\u3057\u3066\uff0carm\u3068\u3044\u3046\u540d\u524d\u306e\u30de\u30af\u30ed\u3092\u547c\u3093\u3067\u3044\u307e\u3059\uff0earm\u306e\u6b63\u4f53\u304carm.urdf.xacro\u306b\u3044\u308b\u306f\u305a\u3067\u3059\u306e\u3067\uff0c\u4e2d\u8eab\u3092\u898b\u3066\u307f\u307e\u3059\uff0e\n\nrosbook_arm_description/urdf/arm/arm.urdf.xacro\n<robot xmlns:xacro=\"http://www.ros.org/wiki/xacro\">\n  <!--\u7701\u7565-->\n  <xacro:include filename=\"$(find rosbook_arm_description)/urdf/arm/arm.transmission.xacro\"/>\n  <!--\u7701\u7565-->\n\n  <xacro:macro name=\"arm\" params=\"parent\">\n  <!--\u7701\u7565-->\n    <joint name=\"shoulder_joint\" type=\"revolute\">\n  <!--\u7701\u7565-->\n    </joint>\n  <!--\u7701\u7565-->\n    <!-- Transmissions -->\n    <arm_simple_transmission name=\"shoulder\"  reduction=\"1.0\"/>\n  <!--\u7701\u7565-->\n  </xacro:macro>\n</robot>\n\n\narm\u3068\u3044\u3046\u30de\u30af\u30ed\u306e\u5b9a\u7fa9\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\uff0e\u3053\u306e\u30de\u30af\u30ed\u3067\u306f\u30a2\u30fc\u30e0\u306e\u30ea\u30f3\u30af\u3092\u542b\u3081\u305f\u5168\u4f53\u306e\u69cb\u6210\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u304c\uff0c\u3053\u3053\u3067\u306fjoint \u306e\u307f\u306b\u6ce8\u76ee\u3057\u307e\u3059\uff0e\u304b\u3064\uff0c\u672c\u30a8\u30f3\u30c8\u30ea\u3067\u306f\u8aac\u660e\u3092\u7c21\u5358\u5316\u3059\u308b\u305f\u3081\u306b\uff0c\u4ee5\u964dshoulder_joint\u306e\u307f\u3092\u6271\u3046\u3053\u3068\u3068\u3057\u307e\u3059\uff0e\n\u3055\u3066\uff0carm\u30de\u30af\u30ed\u306e<joint>\u30bf\u30b0\u306e\u4e2d\u3067\uff0cname=\"shoulder_joint\"\u3068\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\uff0e\u3053\u306ejoint \u540d\u304c\u3053\u306e\u3042\u3068\u7e70\u308a\u8fd4\u3057\u51fa\u3066\u304f\u308b\u306e\u3067\uff0c\u5fc3\u306b\u7559\u3081\u3066\u304a\u304d\u307e\u3059\uff0e\n\u4eca\u5ea6\u306f\uff0carm_simple_transmission\u3068\u3044\u3046\u30de\u30af\u30ed\u304c\u547c\u3070\u308c\u3066\u3044\u307e\u3059\uff0einclude\u3055\u308c\u3066\u3044\u308barm.transmission.xacro\u306b\u5b9a\u7fa9\u304c\u3042\u308b\u306f\u305a\u3067\u3059\u306e\u3067\uff0c\u3053\u308c\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff0e\n\nrosbook_arm_description/urdf/arm/arm.transmission.xacro\n<robot xmlns:xacro=\"http://ros.org/wiki/xacro\">\n  <xacro:macro name=\"arm_simple_transmission\" params=\"name reduction\">\n    <transmission name=\"${name}_transmission\">\n      <type>transmission_interface/SimpleTransmission</type>\n      <actuator name=\"${name}_motor\">\n        <mechanicalReduction>${reduction}</mechanicalReduction>\n        <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>\n      </actuator>\n      <joint name=\"${name}_joint\">\n        <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>\n      </joint>\n    </transmission>\n  </xacro:macro>\n</robot>\n\n\n<joint>\u30bf\u30b0\u306b\u6ce8\u76ee\u3067\u3059\uff0earm.urdf.xacro\u3067arm_simple_transmission\u3092\u547c\u3093\u3060\u6642\u306b\uff0cshoulder\u3092\u5f15\u6570\u306b\u53d6\u3063\u3066\u3044\u305f\u306e\u3067\uff0cshoulder_joint\u3068\u3044\u3046\u540d\u524d\u306ejoint \u3092\u5bfe\u8c61\u306bHardwareInterface\u3092\u5272\u308a\u5f53\u3066\u3066\u3044\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\n\u3053\u3053\u3067\u306f\uff0chardware_interface/PositionJointInterface\u3068\u3044\u3046\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\uff0e\u30e6\u30fc\u30b6\u5074\u304c\u4efb\u610f\u306bHardwareInterface\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u306e\u3067\uff0ccontroller_interface/Controller\u5074\u306b\u5408\u308f\u305b\u305f\u6307\u4ee4\u5024\u3067joint \u3092\u5236\u5fa1\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff08e.g., \u4f4d\u7f6e\u306a\u306e\u304b\uff0c\u901f\u5ea6\u306a\u306e\u304b\uff0c\u529b\u306a\u306e\u304b\uff09\uff0e\n\u307e\u305f\uff0c\u3053\u3053\u3067HardwareInterface\u306e\u7a2e\u985e\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u3051\u3070\uff0c\u5f8c\u307b\u3069\u305d\u306e\u8a2d\u5b9a\u304c\u30d1\u30e9\u30e1\u30fc\u30bf\u30b5\u30fc\u30d0\u306b\u767b\u9332\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3053\u3046\u3059\u308b\u3053\u3068\u3067\uff0cRobotHWSim\u5074\u304b\u3089\uff0c\u30e6\u30fc\u30b6\u304c\u6307\u5b9a\u3057\u305fHardwareInterface\u306e\u60c5\u5831\u3092\u8aad\u307f\u51fa\u305b\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e\u3053\u306e\u8fba\u308a\u306e\u8a71\u306f\uff0c\u8ffd\u3005\u51fa\u3066\u304d\u307e\u3059\uff0e\n\u65e2\u5b58\u306eController\u3092\u4f7f\u3046\u5834\u5408\u306f\uff0c\u305d\u308c\u306e\u4ed5\u69d8\u306b\u5408\u308f\u305b\u305fHardwareInterface\u3092\u8a2d\u5b9a\u3059\u308c\u3070\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e\u9006\u306b\uff0c\u81ea\u5206\u3067Controller\u3092\u8a2d\u8a08\u3057\u305f\u3044\u5834\u5408\u306b\u306f\uff0c\u65e2\u5b58\u306eHardwareInterface\u306e\u4ed5\u69d8\u306b\u5408\u308f\u305b\u3066\u5b9f\u88c5\u3059\u308c\u3070\u3088\u3044\u3067\u3059\uff0e\u3082\u3061\u308d\u3093\uff0c\u4e21\u8005\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3082\u53ef\u80fd\u3067\u3059\uff0e\n\nHardwareInterface\u306e\u5b58\u5728\u610f\u7fa9\n\u3055\u3066\uff0c\u3053\u306eHardware Resource Interface\u30ec\u30a4\u30e4\u30fc\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u3067\uff0c\u4fbf\u5229\u306a\u3053\u3068\u304c\u8d77\u3053\u308a\u307e\u3059\uff0e\u4f8b\u3048\u3070\uff0c\u3084\u3063\u3071\u308aController\u5909\u3048\u305f\u3044\u3063\u3066\u601d\u3063\u305f\u3068\u3057\u307e\u3059\uff0e\u3082\u3057\uff0cHardwareInterface\u304c\u5b58\u5728\u3057\u306a\u3044\u72b6\u614b\u3067Controller\u3092\u5909\u66f4\u3059\u308b\u3068\uff0cRobotHWSim\u3082\u5909\u66f4\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\uff0e\u9006\u3082\u7136\u308a\u3067\u3059\uff0e\n\u305d\u3046\u3044\u3046\u69cb\u6210\u306b\u5408\u308f\u305b\u305f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307e\u305b\u308b\u3053\u3068\u3067\u3053\u306e\u73fe\u8c61\u306f\u56de\u907f\u3067\u304d\u308b\u3067\u306f\u306a\u3044\u304b\uff0c\u3068\u3044\u3046\u53cd\u8ad6\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\uff0c\u305d\u3046\u3044\u3046\u8b70\u8ad6\u306e\u672b\u306b\u6700\u9069\u3068\u5224\u65ad\u3055\u308c\u305f\u306e\u304c\uff0c\u307e\u3055\u306bHardwareInterface\u306e\u5c0e\u5165\u3060\u3063\u305f\u306e\u3067\u3057\u3087\u3046\uff0e\u3053\u306e\u30ec\u30a4\u30e4\u30fc\u306f\uff0cRobotHWSim\u3068\u3082Controller\u3068\u3082\u72ec\u7acb\u3057\u3066\u3044\u308b\u30ec\u30a4\u30e4\u30fc\u306a\u306e\u3067\uff0c\u5404\u3005\u500b\u5225\u306b\u62e1\u5f35\u3059\u308b\u3053\u3068\u304c\u3067\u304d\uff0c\uff08\u76f8\u4e92\u306b\u5bfe\u5fdc\u95a2\u4fc2\u304c\u62c5\u4fdd\u3055\u308c\u3066\u3044\u308c\u3070\uff09\u500b\u3005\u306e\u8981\u7d20\u3092\u5165\u308c\u66ff\u3048\u53ef\u80fd\u3067\u3059\uff0e\u307e\u3055\u306b\uff0cROS\u306e\u63d0\u5531\u3059\u308b\u5206\u6563\u958b\u767a\u306e\u8a2d\u8a08\u601d\u60f3\u304c\u4f53\u73fe\u3055\u308c\u3066\u3044\u308b\u69cb\u6210\u3067\u3059\uff0e\n\nHardwareInterface\u3068Controller\u306b\u3064\u3044\u3066\u3082\u3046\u5c11\u3057\u3060\u3051\u89e6\u308c\u308b\u3068\uff0c\u3053\u308c\u306fcontroller_interface/Controller\u30af\u30e9\u30b9\u3092\u7d99\u627f\u3057\u305f\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9(\u4f8b\u3048\u3070\uff0cposition_controllers/JointTrajectoryController)\u304b\u3089\uff0c\u4f4d\u7f6e\u6307\u4ee4\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u3059\uff0e\nGazebo Tutorial\u306e\u56f3\u3092\u5f15\u7528\u3057\u3066\uff0c\u3053\u306e\u4f8b\u3068\u5bfe\u5fdc\u4ed8\u3051\u308b\u3068\uff0c\u4e0b\u8a18\u306e\u3088\u3046\u306a\u95a2\u4fc2\u3068\u306a\u308a\u307e\u3059\uff0e\n\n\u3053\u306e\u8fba\u308a\u306e\u8a71\u306f\u5f8c\u8ff0\u3057\u307e\u3059\uff0e\u3053\u3053\u3067\u306f\u300c\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u3068\u304d\u306b\u306f\uff0c\u95a2\u7bc0\u306b\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u300d\u3068\u3044\u3046\u7406\u89e3\u3067\u5148\u306b\u9032\u3080\u3053\u3068\u306b\u3057\u307e\u3059\uff0e\n\nURDF\u3067Gazebo\u306e\u8a2d\u5b9a\u3092\u3059\u308b\n\u3053\u308c\u3092\u3061\u3083\u3093\u3068\u6307\u5b9a\u3057\u306a\u3044\u3068\uff0cController\u304c\u305b\u3063\u304b\u304f\u9811\u5f35\u3063\u3066\u6307\u4ee4\u5024\u3092\u9001\u3063\u3066\u304f\u308c\u305f\u3068\u3057\u3066\u3082\uff0cGazebo\u304c\u3046\u3093\u3068\u3082\u3059\u3093\u3068\u3082\u8a00\u3063\u3066\u304f\u308c\u307e\u305b\u3093\uff0e\n\u3053\u3053\u3067\u5bfe\u8c61\u3068\u3059\u308b\u30d6\u30ed\u30c3\u30af\u306f\u3053\u3061\u3089\u3067\u3059\uff0e\u672c\u7bc0\u3067\u306f\u4f7f\u7528\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6307\u5b9a\u3059\u308b\u90e8\u5206\u3060\u3051\u3092\u6271\u3044\u307e\u3059\uff0e\n\n\u7740\u76ee\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3053\u3093\u306a\u4f4d\u7f6e\u3065\u3051\u3067\u3059\uff0e\n\n\u305d\u308c\u3067\u306f\uff0crosbook_arm_base.urdf.xacro\u3092\u898b\u8fd4\u3057\u3066\uff0c\u95a2\u9023\u306e\u3042\u308b\u90e8\u5206\u3092\u62bd\u51fa\u3057\u3066\u307f\u307e\u3059\uff0e\n\nrosbook_arm_description/robots/rosbook_arm_base.urdf.xacro\n<?xml version=\"1.0\"?>\n<robot xmlns:xacro=\"http://www.ros.org/wiki/xacro\"\n       name=\"rosbook_arm\">\n  <!--\u7701\u7565-->\n  <xacro:include filename=\"$(find rosbook_arm_description)/gazebo/gazebo.urdf.xacro\"/>\n  <!--\u7701\u7565-->\n</robot>\n\n\ngazebo.urdf.xacro \u3082\u898b\u3066\u307f\u307e\u3059\uff0e\n\nrosbook_arm_description/gazebo/gazebo.urdf.xacro\n<?xml version=\"1.0\"?>\n<robot>\n  <gazebo>\n    <plugin name=\"gazebo_ros_control\" filename=\"libgazebo_ros_control.so\">\n      <ns></ns>\n      <robotSimType>rosbook_arm_hardware_gazebo/ROSBookArmHardwareGazebo</robotSimType>\n      <controlPeriod>0.001</controlPeriod>\n    </plugin>\n  </gazebo>\n</robot>\n\n\n<robotSimType>\u30bf\u30b0\u3067\u4f7f\u7528\u3057\u305f\u3044\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6307\u5b9a\u3057\u307e\u3059\uff0e\u7279\u306b\u62e1\u5f35\u6027\u3092\u91cd\u8996\u3059\u308b\u5834\u9762\u3067\u306f\u306a\u3051\u308c\u3070gazebo_ros_control/DefaultRobotHWSim\u3092\u4f7f\u3046\u306e\u304c\u4e00\u822c\u7684\u3067\u3059\u304c\uff0c\u672c\u30c6\u30ad\u30b9\u30c8\u3067\u306f\u304a\u52c9\u5f37\u306e\u305f\u3081\u306brosbook_arm_hardware_gazebo/ROSBookArmHardwareGazebo\u3068\u3044\u3046\u30ab\u30b9\u30bf\u30e0\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f5c\u6210\u3057\uff0c\u3053\u308c\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\uff0e\u3053\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u6b63\u4f53\u306f\u5f8c\u8ff0\u3059\u308b\u3053\u3068\u3068\u3057\u3066\uff0c\u3072\u3068\u307e\u305a\u5148\u306b\u9032\u307f\u307e\u3059\uff0e\n\n\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u30d1\u30e9\u30e1\u30fc\u30bf\u30b5\u30fc\u30d0\u306b\u767b\u9332\u3059\u308b\n\u3053\u3053\u307e\u3067\u306e\u8a2d\u5b9a\u3092\u4ed6\u306e\u30ce\u30fc\u30c9\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\uff0c\u30d1\u30e9\u30e1\u30fc\u30bf\u30b5\u30fc\u30d0\u306b\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u306e\u60c5\u5831\u3092\u767b\u9332\u3057\u307e\u3059\uff0e\n\u3053\u308c\u3092\u884c\u3063\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u304crosbook_arm_moveit_config/launch/demo.launch\u3068\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u5bfe\u8c61\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u7ae0\u306e\u4e3b\u984c\u304cMoveit!\u306e\u89e3\u8aac\u3067\u3042\u308a\uff0c\u305d\u306e\u6d41\u308c\u3067\u672claunch\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\uff0e\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u306f\uff0c\u6700\u4f4e\u9650Moveit!\u3067\u904a\u3079\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u8a2d\u5b9a\u3068\u30ce\u30fc\u30c9\u306e\u8d77\u52d5\u3092\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3059\u304c\uff0c\u3053\u3053\u3067\u306f\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u306e\u767b\u9332\u90e8\u306e\u307f\u306b\u7740\u76ee\u3057\u307e\u3059\uff0e\n\nrosbook_arm_moveit_config/launch/demo.launch\n<launch>\n  <!--\u7701\u7565-->\n  <!-- Load the URDF, SRDF and other .yaml configuration files on the param server -->\n  <include file=\"$(find rosbook_arm_moveit_config)/launch/planning_context.launch\">\n    <arg name=\"load_robot_description\" value=\"true\"/>\n  </include>\n  <!--\u7701\u7565-->\n</launch>\n\n\nplanning_context.launch\u306e\u4e2d\u3067\uff0c\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059\uff0e \n\nrosbook_arm_moveit_config/launch/planning_context.launch\n<launch>\n  <!--\u7701\u7565-->\n  <!-- The name of the parameter under which the URDF is loaded -->\n  <arg name=\"robot_description\" default=\"robot_description\"/>\n\n  <!-- Load universal robot description format (URDF) -->\n  <param if=\"$(arg load_robot_description)\" name=\"$(arg robot_description)\" command=\"$(find xacro)/xacro.py '$(find rosbook_arm_description)/robots/rosbook_arm_base.urdf.xacro'\"/>\n  <!--\u7701\u7565-->\n</launch>\n\n\n\u3053\u3053\u3067\uff0c\u5148\u307b\u3069URDF\u5f62\u5f0f\u3067\u5b9a\u7fa9\u3057\u305f\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb(rosbook_arm_base.urdf.xacro)\u3092\uff0crobot_description\u3068\u3044\u3046\u540d\u524d\u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u30b5\u30fc\u30d0\u306b\u767b\u9332\u3057\u3066\u3044\u307e\u3059\uff0e\u3053\u308c\u3067\u4ed6\u306e\u30ce\u30fc\u30c9\u304b\u3089\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e\n\n\u304a\u308f\u308a\u306b\n\u3053\u3053\u307e\u3067\u304c\uff0c\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u306e\u767b\u9332\u307e\u3067\u306e\u30d5\u30ed\u30fc\u3067\u3059\uff0e\n\u6b21\u306f\u300c2. RobotHWSim\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3064\u3044\u3066\u300d\u3067\u3059\uff0e\n# \u306f\u3058\u3081\u306b\nROS\u3092\u3044\u3058\u308a\u59cb\u3081\u3066\u534a\u5e74\u3050\u3089\u3044\u306e\u30c9\u7d20\u4eba\u304c\uff0c[Learning ROS for Robotics Programming - Second Edition](http://www.amazon.co.jp/Learning-ROS-Robotics-Programming-Edition-ebook/dp/B00YSIL6VM)\u3068\u3044\u3046\u672c\u3067\uff0c`Chapter 10: Manipulation with MoveIt!`\u306e\u7ae0\u3092\u52c9\u5f37\u3092\u3057\u3066\u3044\u308b\u3068\u304d\u306b\uff0c\u3053\u306e\u30e1\u30e2\u3092\u6b8b\u305d\u3046\u3068\u601d\u3044\u7acb\u3061\u307e\u3057\u305f\uff0e\n<img src=\"https://qiita-image-store.s3.amazonaws.com/0/110138/92e03e5e-dce8-008b-19a2-00ecafd6fbec.jpeg\" data-canonical-src=\"http://www.amazon.co.jp/Learning-ROS-Robotics-Programming-Edition-ebook/dp/B00YSIL6VM\" width=\"20%\" />\n\n\u7406\u7531\u306f\uff0c[`ros_control`](http://wiki.ros.org/ros_control)\u306e`Controller`\u3068`HardwareInterface`\u304c\u7d61\u3080\u3042\u305f\u308a\u3067\u6fc0\u3057\u304f\u6df7\u4e71\u3057\u305f\u304b\u3089\u3067\u3059\u7b11\uff0e\n\u53d6\u308a\u6562\u3048\u305a\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306b\u6cbf\u3063\u3066\u4f5c\u696d\u3092\u3059\u308c\u3070\u52d5\u304b\u305b\u308b\u3051\u3069\uff0c\u3069\u3046\u3044\u3046\u30d5\u30ed\u30fc\u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u3084\u308a\u3068\u308a\u304c\u3055\u308c\u3066\u3044\u306e\u304b\uff0c\u30d1\u30c3\u3068\u30b3\u30fc\u30c9\u3092\u898b\u3066\u3082\u30a4\u30e1\u30fc\u30b8\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\u3059\uff0e\n\u305d\u3053\u3067\uff0c\u3061\u3087\u3046\u3069\u3053\u306e\u66f8\u7c4d\u3067`ROS`\u3092\u52c9\u5f37\u3057\u3066\u3044\u305f\u306e\u3067\uff0c\u305d\u3053\u3067\u6271\u308f\u308c\u3066\u3044\u308b\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u4f8b\u984c\u306b\uff0c`HardwareInterface`\u5468\u308a\u306e\u51e6\u7406\u306e\u6d41\u308c\u3092\u8ffd\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\uff0e\n\n\u3055\u3066\uff0c`Chapter 10: Manipulation with MoveIt!`\u3068\u3044\u3046\u7ae0\u3067\u306f\uff0c\u52c9\u5f37\u7528\u306e6\u8ef8\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u4f7f\u3063\u3066\uff0c`Gazebo`\u4e0a\u306b\u8868\u793a\u3055\u308c\u305f\u30ed\u30dc\u30c3\u30c8\u3092`Moveit!`\u3067\u5236\u5fa1\u3059\u308b\u3053\u3068\u304c\u984c\u6750\u3068\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u4e0b\u8a18\u306eGithub\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u30b3\u30fc\u30c9\u304c\u30aa\u30fc\u30d7\u30f3\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\n\n- \u30ea\u30dd\u30b8\u30c8\u30ea\n - [github: AaronMR/Learning_ROS_for_Robotics_Programming_2nd_edition](https://github.com/AaronMR/Learning_ROS_for_Robotics_Programming_2nd_edition)\n\n\u305d\u306e\u30ed\u30dc\u30c3\u30c8\u304c\u52d5\u3044\u3066\u3044\u308b\u69d8\u5b50\u3092\u4e0b\u8a18\u306e\u52d5\u753b\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\n[![IMAGE ALT TEXT HERE](https://raw.githubusercontent.com/AaronMR/Learning_ROS_for_Robotics_Programming_2nd_edition/hydro-devel/chapter10_tutorials/images/rosbook_arm_moveit.png)](https://www.youtube.com/watch?v=gZJDvElwqg0&feature=youtu.be)\n\n\u3042\u307e\u308a\u304b\u3063\u3053\u826f\u304f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\uff08\u7b11\uff09\uff0c\u8d85\u30b7\u30f3\u30d7\u30eb\u306a\u591a\u95a2\u7bc0\u30ed\u30dc\u30c3\u30c8\u306a\u306e\u3067\uff0c\u52c9\u5f37\u306b\u306f\u6301\u3063\u3066\u6765\u3044\u3067\u3059\uff0e\n\n# \u76ee\u6b21\n\u4e0b\u8a18\u306e\u56f3\u304c\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u69cb\u6210\u306e\u6982\u8981\u3067\u3059\uff0e\u3053\u306e\u56f3\u306e\u69cb\u6210\u306b\u5bfe\u5fdc\u3055\u305b\u306a\u304c\u3089\uff0c\u7406\u89e3\u3092\u6df1\u3081\u3066\u304f\u3053\u3068\u304c\u76ee\u6a19\u3067\u3059\uff0e\n![00_first.png](https://bitbucket.org/osrf/gazebo_tutorials/raw/default/ros_control/Gazebo_ros_transmission.png)\n\n1. [\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u306e\u5b9a\u7fa9\u3068\u767b\u9332](http://qiita.com/MoriKen/items/613635b90f3a98042dc5)\u3000\u2190\u3000\u30a4\u30de\u30b3\u30b3\n 1. `URDF`\u3067\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\n 1. `HardwareInterface`\u306e\u5b58\u5728\u610f\u7fa9\n 1. `URDF`\u3067`Gazebo`\u306e\u8a2d\u5b9a\u3092\u3059\u308b\n 1. \u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u30d1\u30e9\u30e1\u30fc\u30bf\u30b5\u30fc\u30d0\u306b\u767b\u9332\u3059\u308b\n1. [`RobotHWSim`\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3064\u3044\u3066](http://qiita.com/MoriKen/items/5cab7436c1b36c25e0ce)\n 1. \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u5b9a\u7fa9\n 1. \u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u51e6\u7406\u304c\u5b9f\u884c\u3055\u308c\u308b\u5834\u6240\n 1. `RobotHWSin`\u3068`RobotHW`\u3068\u306e\u5bfe\u6bd4\n 1. \u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u3057\u3066\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b \n 1. `DefaultRobotHWSim`\u306b\u3064\u3044\u3066\n1. [`Controller`\u306b\u3064\u3044\u3066](http://qiita.com/MoriKen/items/c29f653d03baffe5f0e2)\n 1. `Gazebo`\u306b\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092Spawn\u3059\u308b\n 1. `Controller`\u3092\u8d77\u52d5\u3059\u308b\n 1. `ControllerManager`\u3068`HardwareInterface`\u3068\u306e\u30de\u30c3\u30d4\u30f3\u30b0\n\n\u3053\u308c\u3089\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u3092\u6574\u7406\u3057\u305f\u3082\u306e\u304c\uff0c\u4e0b\u8a18\u306e\u56f3\u306b\u306a\u308a\u307e\u3059\uff0e\n![summary.png](https://qiita-image-store.s3.amazonaws.com/0/110138/ff5180a8-fb22-48ea-dc87-a0993b276221.png)\n\n\u4f55\u304b\u8272\u3005\u3084\u3063\u3066\u308b\u3093\u3060\u306a\uff0c\u3068\u3044\u3046\u3053\u3068\u3067\uff0c\u5148\u306b\u9032\u307f\u307e\u3057\u3087\u3046\uff0e\u3053\u306e\u56f3\u306f\u6700\u5f8c\u306b\u3082\u3046\u4e00\u5ea6\u898b\u8fd4\u3057\u307e\u3059\uff0e\n\n# URDF\u3067\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\n\u3053\u3053\u3067\u5bfe\u8c61\u3068\u3059\u308b\u30d6\u30ed\u30c3\u30af\u306f\uff0c\u4e0b\u8a18\u306e\u56f3\u306b\u304a\u3044\u3066\u30d4\u30f3\u30af\u306e\u77e2\u5370\u3067\u8a18\u3057\u305f\u90e8\u5206\u3067\u3059\uff0e\n<img src=\"https://qiita-image-store.s3.amazonaws.com/0/110138/300ecc2b-5a70-52e0-da55-66e568a2c4fb.png\" width=\"50%\" />\n\n\u4eca\u56de\u306f\uff0c\u30ed\u30dc\u30c3\u30c8\u306e\u69cb\u6210\u3092\u5b9a\u7fa9\u3059\u308b\u8981\u7d20\u306e\u3046\u3061\u30a2\u30fc\u30e0\u90e8\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u306e\u307f\u7740\u76ee\u3057\u307e\u3059\uff0e\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u6210\u306f\uff0c\u4e0b\u8a18\u306e\u3068\u304a\u308a\u3067\u3059\uff0e\n![urdf_file_struct_1.png](https://qiita-image-store.s3.amazonaws.com/0/110138/bde52959-4cf9-19fd-22dc-ccd8074b76b1.png)\n\n\u3053\u3053\u3067\u306f\uff0c\u30a2\u30fc\u30e0\u90e8\u306e\u7d14\u7c8b\u306a\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u306e\u5b9a\u7fa9\u3092\u3069\u3046\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u304b\u3092\u77e5\u308a\u305f\u3044\u306e\u3067\uff0c\u4e0a\u8a18\u30d5\u30a1\u30a4\u30eb\u306e\u3046\u3061\u30d4\u30f3\u30af\u3067\u56f2\u3063\u305f\u3082\u306e\u3092\u5bfe\u8c61\u306b\u89e3\u6790\u3092\u3057\u307e\u3059\uff0e\n\n\u307e\u305a\u306f\uff0c\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u5168\u4f53\u306e\u5b9a\u7fa9\u3092\u53f8\u308b`rosbook_arm_base.urdf.xacro`\u304b\u3089\u898b\u3066\u307f\u307e\u3059\uff0e\n\n```xml:rosbook_arm_description/robots/rosbook_arm_base.urdf.xacro\n<?xml version=\"1.0\"?>\n<robot xmlns:xacro=\"http://www.ros.org/wiki/xacro\"\n       name=\"rosbook_arm\">\n  <!--\u7701\u7565-->\n  <xacro:include filename=\"$(find rosbook_arm_description)/urdf/arm/arm.urdf.xacro\"/>\n  <!--\u7701\u7565-->\n  <xacro:arm parent=\"base\"/>\n  <!--\u7701\u7565-->\n</robot>\n```\n\n`arm.urdf.xacro`\u3092`include`\u3057\u3066\uff0c`arm`\u3068\u3044\u3046\u540d\u524d\u306e\u30de\u30af\u30ed\u3092\u547c\u3093\u3067\u3044\u307e\u3059\uff0e`arm`\u306e\u6b63\u4f53\u304c`arm.urdf.xacro`\u306b\u3044\u308b\u306f\u305a\u3067\u3059\u306e\u3067\uff0c\u4e2d\u8eab\u3092\u898b\u3066\u307f\u307e\u3059\uff0e\n\n```xml:rosbook_arm_description/urdf/arm/arm.urdf.xacro\n<robot xmlns:xacro=\"http://www.ros.org/wiki/xacro\">\n  <!--\u7701\u7565-->\n  <xacro:include filename=\"$(find rosbook_arm_description)/urdf/arm/arm.transmission.xacro\"/>\n  <!--\u7701\u7565-->\n  \n  <xacro:macro name=\"arm\" params=\"parent\">\n  <!--\u7701\u7565-->\n    <joint name=\"shoulder_joint\" type=\"revolute\">\n  <!--\u7701\u7565-->\n    </joint>\n  <!--\u7701\u7565-->\n    <!-- Transmissions -->\n    <arm_simple_transmission name=\"shoulder\"  reduction=\"1.0\"/>\n  <!--\u7701\u7565-->\n  </xacro:macro>\n</robot>\n```\n`arm`\u3068\u3044\u3046\u30de\u30af\u30ed\u306e\u5b9a\u7fa9\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\uff0e\u3053\u306e\u30de\u30af\u30ed\u3067\u306f\u30a2\u30fc\u30e0\u306e\u30ea\u30f3\u30af\u3092\u542b\u3081\u305f\u5168\u4f53\u306e\u69cb\u6210\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u304c\uff0c\u3053\u3053\u3067\u306fjoint \u306e\u307f\u306b\u6ce8\u76ee\u3057\u307e\u3059\uff0e\u304b\u3064\uff0c\u672c\u30a8\u30f3\u30c8\u30ea\u3067\u306f\u8aac\u660e\u3092\u7c21\u5358\u5316\u3059\u308b\u305f\u3081\u306b\uff0c\u4ee5\u964d`shoulder_joint`\u306e\u307f\u3092\u6271\u3046\u3053\u3068\u3068\u3057\u307e\u3059\uff0e\n\u3055\u3066\uff0c`arm`\u30de\u30af\u30ed\u306e`<joint>`\u30bf\u30b0\u306e\u4e2d\u3067\uff0c`name=\"shoulder_joint\"`\u3068\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\uff0e\u3053\u306ejoint \u540d\u304c\u3053\u306e\u3042\u3068\u7e70\u308a\u8fd4\u3057\u51fa\u3066\u304f\u308b\u306e\u3067\uff0c\u5fc3\u306b\u7559\u3081\u3066\u304a\u304d\u307e\u3059\uff0e\n\n\u4eca\u5ea6\u306f\uff0c`arm_simple_transmission`\u3068\u3044\u3046\u30de\u30af\u30ed\u304c\u547c\u3070\u308c\u3066\u3044\u307e\u3059\uff0e`include`\u3055\u308c\u3066\u3044\u308b`arm.transmission.xacro`\u306b\u5b9a\u7fa9\u304c\u3042\u308b\u306f\u305a\u3067\u3059\u306e\u3067\uff0c\u3053\u308c\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff0e\n\n```xml:rosbook_arm_description/urdf/arm/arm.transmission.xacro\n<robot xmlns:xacro=\"http://ros.org/wiki/xacro\">\n  <xacro:macro name=\"arm_simple_transmission\" params=\"name reduction\">\n    <transmission name=\"${name}_transmission\">\n      <type>transmission_interface/SimpleTransmission</type>\n      <actuator name=\"${name}_motor\">\n        <mechanicalReduction>${reduction}</mechanicalReduction>\n        <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>\n      </actuator>\n      <joint name=\"${name}_joint\">\n        <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>\n      </joint>\n    </transmission>\n  </xacro:macro>\n</robot>\n```\n\n`<joint>`\u30bf\u30b0\u306b\u6ce8\u76ee\u3067\u3059\uff0e`arm.urdf.xacro`\u3067`arm_simple_transmission`\u3092\u547c\u3093\u3060\u6642\u306b\uff0c`shoulder`\u3092\u5f15\u6570\u306b\u53d6\u3063\u3066\u3044\u305f\u306e\u3067\uff0c`shoulder_joint`\u3068\u3044\u3046\u540d\u524d\u306ejoint \u3092\u5bfe\u8c61\u306b`HardwareInterface`\u3092\u5272\u308a\u5f53\u3066\u3066\u3044\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\n\n\u3053\u3053\u3067\u306f\uff0c`hardware_interface/PositionJointInterface`\u3068\u3044\u3046\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\uff0e\u30e6\u30fc\u30b6\u5074\u304c\u4efb\u610f\u306b`HardwareInterface`\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u306e\u3067\uff0c`controller_interface/Controller`\u5074\u306b\u5408\u308f\u305b\u305f\u6307\u4ee4\u5024\u3067joint \u3092\u5236\u5fa1\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff08e.g., \u4f4d\u7f6e\u306a\u306e\u304b\uff0c\u901f\u5ea6\u306a\u306e\u304b\uff0c\u529b\u306a\u306e\u304b\uff09\uff0e\n\n\u307e\u305f\uff0c\u3053\u3053\u3067`HardwareInterface`\u306e\u7a2e\u985e\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u3051\u3070\uff0c\u5f8c\u307b\u3069\u305d\u306e\u8a2d\u5b9a\u304c\u30d1\u30e9\u30e1\u30fc\u30bf\u30b5\u30fc\u30d0\u306b\u767b\u9332\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3053\u3046\u3059\u308b\u3053\u3068\u3067\uff0c`RobotHWSim`\u5074\u304b\u3089\uff0c\u30e6\u30fc\u30b6\u304c\u6307\u5b9a\u3057\u305f`HardwareInterface`\u306e\u60c5\u5831\u3092\u8aad\u307f\u51fa\u305b\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e\u3053\u306e\u8fba\u308a\u306e\u8a71\u306f\uff0c\u8ffd\u3005\u51fa\u3066\u304d\u307e\u3059\uff0e\n\n\u65e2\u5b58\u306e`Controller`\u3092\u4f7f\u3046\u5834\u5408\u306f\uff0c\u305d\u308c\u306e\u4ed5\u69d8\u306b\u5408\u308f\u305b\u305f`HardwareInterface`\u3092\u8a2d\u5b9a\u3059\u308c\u3070\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e\u9006\u306b\uff0c\u81ea\u5206\u3067`Controller`\u3092\u8a2d\u8a08\u3057\u305f\u3044\u5834\u5408\u306b\u306f\uff0c\u65e2\u5b58\u306e`HardwareInterface`\u306e\u4ed5\u69d8\u306b\u5408\u308f\u305b\u3066\u5b9f\u88c5\u3059\u308c\u3070\u3088\u3044\u3067\u3059\uff0e\u3082\u3061\u308d\u3093\uff0c\u4e21\u8005\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3082\u53ef\u80fd\u3067\u3059\uff0e\n\n# `HardwareInterface`\u306e\u5b58\u5728\u610f\u7fa9\n\u3055\u3066\uff0c\u3053\u306e`Hardware Resource Interface`\u30ec\u30a4\u30e4\u30fc\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u3067\uff0c\u4fbf\u5229\u306a\u3053\u3068\u304c\u8d77\u3053\u308a\u307e\u3059\uff0e\u4f8b\u3048\u3070\uff0c\u3084\u3063\u3071\u308a`Controller`\u5909\u3048\u305f\u3044\u3063\u3066\u601d\u3063\u305f\u3068\u3057\u307e\u3059\uff0e\u3082\u3057\uff0c`HardwareInterface`\u304c\u5b58\u5728\u3057\u306a\u3044\u72b6\u614b\u3067`Controller`\u3092\u5909\u66f4\u3059\u308b\u3068\uff0c`RobotHWSim`\u3082\u5909\u66f4\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\uff0e\u9006\u3082\u7136\u308a\u3067\u3059\uff0e\n\u305d\u3046\u3044\u3046\u69cb\u6210\u306b\u5408\u308f\u305b\u305f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307e\u305b\u308b\u3053\u3068\u3067\u3053\u306e\u73fe\u8c61\u306f\u56de\u907f\u3067\u304d\u308b\u3067\u306f\u306a\u3044\u304b\uff0c\u3068\u3044\u3046\u53cd\u8ad6\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\uff0c\u305d\u3046\u3044\u3046\u8b70\u8ad6\u306e\u672b\u306b\u6700\u9069\u3068\u5224\u65ad\u3055\u308c\u305f\u306e\u304c\uff0c\u307e\u3055\u306b`HardwareInterface`\u306e\u5c0e\u5165\u3060\u3063\u305f\u306e\u3067\u3057\u3087\u3046\uff0e\u3053\u306e\u30ec\u30a4\u30e4\u30fc\u306f\uff0c`RobotHWSim`\u3068\u3082`Controller`\u3068\u3082\u72ec\u7acb\u3057\u3066\u3044\u308b\u30ec\u30a4\u30e4\u30fc\u306a\u306e\u3067\uff0c\u5404\u3005\u500b\u5225\u306b\u62e1\u5f35\u3059\u308b\u3053\u3068\u304c\u3067\u304d\uff0c\uff08\u76f8\u4e92\u306b\u5bfe\u5fdc\u95a2\u4fc2\u304c\u62c5\u4fdd\u3055\u308c\u3066\u3044\u308c\u3070\uff09\u500b\u3005\u306e\u8981\u7d20\u3092\u5165\u308c\u66ff\u3048\u53ef\u80fd\u3067\u3059\uff0e\u307e\u3055\u306b\uff0cROS\u306e\u63d0\u5531\u3059\u308b\u5206\u6563\u958b\u767a\u306e\u8a2d\u8a08\u601d\u60f3\u304c\u4f53\u73fe\u3055\u308c\u3066\u3044\u308b\u69cb\u6210\u3067\u3059\uff0e\n\n![RobotHWSim_HardwareInterface_block.png](https://qiita-image-store.s3.amazonaws.com/0/110138/f1a83c3b-08bd-f719-3204-b9d53c2b334f.png)\n\n`HardwareInterface`\u3068`Controller`\u306b\u3064\u3044\u3066\u3082\u3046\u5c11\u3057\u3060\u3051\u89e6\u308c\u308b\u3068\uff0c\u3053\u308c\u306f`controller_interface/Controller`\u30af\u30e9\u30b9\u3092\u7d99\u627f\u3057\u305f\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9(\u4f8b\u3048\u3070\uff0c`position_controllers/JointTrajectoryController`)\u304b\u3089\uff0c\u4f4d\u7f6e\u6307\u4ee4\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u3059\uff0e\n[Gazebo Tutorial\u306e\u56f3](http://gazebosim.org/tutorials?tut=ros_control)\u3092\u5f15\u7528\u3057\u3066\uff0c\u3053\u306e\u4f8b\u3068\u5bfe\u5fdc\u4ed8\u3051\u308b\u3068\uff0c\u4e0b\u8a18\u306e\u3088\u3046\u306a\u95a2\u4fc2\u3068\u306a\u308a\u307e\u3059\uff0e\n![PositionJointInterface_JointTrajectoryController.png](https://qiita-image-store.s3.amazonaws.com/0/110138/e70cd5f5-f147-308d-e81f-3c97939dce6d.png)\n\n\u3053\u306e\u8fba\u308a\u306e\u8a71\u306f\u5f8c\u8ff0\u3057\u307e\u3059\uff0e\u3053\u3053\u3067\u306f\u300c\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u3068\u304d\u306b\u306f\uff0c\u95a2\u7bc0\u306b\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u300d\u3068\u3044\u3046\u7406\u89e3\u3067\u5148\u306b\u9032\u3080\u3053\u3068\u306b\u3057\u307e\u3059\uff0e\n\n# URDF\u3067`Gazebo`\u306e\u8a2d\u5b9a\u3092\u3059\u308b\n\u3053\u308c\u3092\u3061\u3083\u3093\u3068\u6307\u5b9a\u3057\u306a\u3044\u3068\uff0c`Controller`\u304c\u305b\u3063\u304b\u304f\u9811\u5f35\u3063\u3066\u6307\u4ee4\u5024\u3092\u9001\u3063\u3066\u304f\u308c\u305f\u3068\u3057\u3066\u3082\uff0c`Gazebo`\u304c\u3046\u3093\u3068\u3082\u3059\u3093\u3068\u3082\u8a00\u3063\u3066\u304f\u308c\u307e\u305b\u3093\uff0e\n\n\u3053\u3053\u3067\u5bfe\u8c61\u3068\u3059\u308b\u30d6\u30ed\u30c3\u30af\u306f\u3053\u3061\u3089\u3067\u3059\uff0e\u672c\u7bc0\u3067\u306f\u4f7f\u7528\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6307\u5b9a\u3059\u308b\u90e8\u5206\u3060\u3051\u3092\u6271\u3044\u307e\u3059\uff0e\n![gazebo_plugin.png](https://qiita-image-store.s3.amazonaws.com/0/110138/59cb1a64-54cd-410a-7e20-0cfe5ed62f63.png)\n\n\u7740\u76ee\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3053\u3093\u306a\u4f4d\u7f6e\u3065\u3051\u3067\u3059\uff0e\n![urdf_file_struct_2.png](https://qiita-image-store.s3.amazonaws.com/0/110138/f300609b-587f-573d-3d97-ffceed9334bc.png)\n\n\u305d\u308c\u3067\u306f\uff0c`rosbook_arm_base.urdf.xacro`\u3092\u898b\u8fd4\u3057\u3066\uff0c\u95a2\u9023\u306e\u3042\u308b\u90e8\u5206\u3092\u62bd\u51fa\u3057\u3066\u307f\u307e\u3059\uff0e\n\n```xml:rosbook_arm_description/robots/rosbook_arm_base.urdf.xacro\n<?xml version=\"1.0\"?>\n<robot xmlns:xacro=\"http://www.ros.org/wiki/xacro\"\n       name=\"rosbook_arm\">\n  <!--\u7701\u7565-->\n  <xacro:include filename=\"$(find rosbook_arm_description)/gazebo/gazebo.urdf.xacro\"/>\n  <!--\u7701\u7565-->\n</robot>\n```\n\n`gazebo.urdf.xacro` \u3082\u898b\u3066\u307f\u307e\u3059\uff0e\n\n```xml:rosbook_arm_description/gazebo/gazebo.urdf.xacro\n<?xml version=\"1.0\"?>\n<robot>\n  <gazebo>\n    <plugin name=\"gazebo_ros_control\" filename=\"libgazebo_ros_control.so\">\n      <ns></ns>\n      <robotSimType>rosbook_arm_hardware_gazebo/ROSBookArmHardwareGazebo</robotSimType>\n      <controlPeriod>0.001</controlPeriod>\n    </plugin>\n  </gazebo>\n</robot>\n```\n `<robotSimType>`\u30bf\u30b0\u3067\u4f7f\u7528\u3057\u305f\u3044\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6307\u5b9a\u3057\u307e\u3059\uff0e\u7279\u306b\u62e1\u5f35\u6027\u3092\u91cd\u8996\u3059\u308b\u5834\u9762\u3067\u306f\u306a\u3051\u308c\u3070`gazebo_ros_control/DefaultRobotHWSim`\u3092\u4f7f\u3046\u306e\u304c\u4e00\u822c\u7684\u3067\u3059\u304c\uff0c\u672c\u30c6\u30ad\u30b9\u30c8\u3067\u306f\u304a\u52c9\u5f37\u306e\u305f\u3081\u306b`rosbook_arm_hardware_gazebo/ROSBookArmHardwareGazebo`\u3068\u3044\u3046\u30ab\u30b9\u30bf\u30e0\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f5c\u6210\u3057\uff0c\u3053\u308c\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\uff0e\u3053\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u6b63\u4f53\u306f\u5f8c\u8ff0\u3059\u308b\u3053\u3068\u3068\u3057\u3066\uff0c\u3072\u3068\u307e\u305a\u5148\u306b\u9032\u307f\u307e\u3059\uff0e\n\n# \u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u30d1\u30e9\u30e1\u30fc\u30bf\u30b5\u30fc\u30d0\u306b\u767b\u9332\u3059\u308b\n\u3053\u3053\u307e\u3067\u306e\u8a2d\u5b9a\u3092\u4ed6\u306e\u30ce\u30fc\u30c9\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\uff0c\u30d1\u30e9\u30e1\u30fc\u30bf\u30b5\u30fc\u30d0\u306b\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u306e\u60c5\u5831\u3092\u767b\u9332\u3057\u307e\u3059\uff0e\n\u3053\u308c\u3092\u884c\u3063\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u304c`rosbook_arm_moveit_config/launch/demo.launch`\u3068\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u5bfe\u8c61\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u7ae0\u306e\u4e3b\u984c\u304c`Moveit!`\u306e\u89e3\u8aac\u3067\u3042\u308a\uff0c\u305d\u306e\u6d41\u308c\u3067\u672claunch\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\uff0e\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u306f\uff0c\u6700\u4f4e\u9650`Moveit!`\u3067\u904a\u3079\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u8a2d\u5b9a\u3068\u30ce\u30fc\u30c9\u306e\u8d77\u52d5\u3092\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3059\u304c\uff0c\u3053\u3053\u3067\u306f\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u306e\u767b\u9332\u90e8\u306e\u307f\u306b\u7740\u76ee\u3057\u307e\u3059\uff0e\n\n```xml:rosbook_arm_moveit_config/launch/demo.launch\n<launch>\n  <!--\u7701\u7565-->\n  <!-- Load the URDF, SRDF and other .yaml configuration files on the param server -->\n  <include file=\"$(find rosbook_arm_moveit_config)/launch/planning_context.launch\">\n    <arg name=\"load_robot_description\" value=\"true\"/>\n  </include>\n  <!--\u7701\u7565-->\n</launch>\n```\n\n`planning_context.launch`\u306e\u4e2d\u3067\uff0c\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059\uff0e \n\n```xml:rosbook_arm_moveit_config/launch/planning_context.launch\n<launch>\n  <!--\u7701\u7565-->\n  <!-- The name of the parameter under which the URDF is loaded -->\n  <arg name=\"robot_description\" default=\"robot_description\"/>\n\n  <!-- Load universal robot description format (URDF) -->\n  <param if=\"$(arg load_robot_description)\" name=\"$(arg robot_description)\" command=\"$(find xacro)/xacro.py '$(find rosbook_arm_description)/robots/rosbook_arm_base.urdf.xacro'\"/>\n  <!--\u7701\u7565-->\n</launch>\n```\n\n\u3053\u3053\u3067\uff0c\u5148\u307b\u3069URDF\u5f62\u5f0f\u3067\u5b9a\u7fa9\u3057\u305f\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb(`rosbook_arm_base.urdf.xacro`)\u3092\uff0c`robot_description`\u3068\u3044\u3046\u540d\u524d\u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u30b5\u30fc\u30d0\u306b\u767b\u9332\u3057\u3066\u3044\u307e\u3059\uff0e\u3053\u308c\u3067\u4ed6\u306e\u30ce\u30fc\u30c9\u304b\u3089\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u3092\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e\n\n# \u304a\u308f\u308a\u306b\n\u3053\u3053\u307e\u3067\u304c\uff0c\u30ed\u30dc\u30c3\u30c8\u30e2\u30c7\u30eb\u306e\u767b\u9332\u307e\u3067\u306e\u30d5\u30ed\u30fc\u3067\u3059\uff0e\n\u6b21\u306f\u300c[2. `RobotHWSim`\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3064\u3044\u3066](http://qiita.com/MoriKen/items/5cab7436c1b36c25e0ce)\u300d\u3067\u3059\uff0e\n", "tags": ["ROS"]}