{"context": " More than 1 year has passed since last update.\n\n\u4f8b\u3048\u3070\n10\u500b\u306e\u30aa\u30fc\u30c7\u30a3\u30aa\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u9806\u756a\u306b1\u500b\u305a\u3064\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u3001\u6f14\u594f\u3092\u3059\u308b\u3088\u3046\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8003\u3048\u308b\u3002\u30a8\u30f3\u30b3\u30fc\u30c9\u3068\u6f14\u594f\u306f\u305d\u308c\u305e\u308c\u975e\u540c\u671f\u3067\u51e6\u7406\u3055\u308c\u308b\u3002\n1\u500b\u76ee\u306e\u30a8\u30f3\u30b3\u30fc\u30c9->\u6f14\u594f->2\u500b\u76ee\u306e\u30a8\u30f3\u30b3\u30fc\u30c9->\u6f14\u594f...10\u500b\u76ee\u306e\u30a8\u30f3\u30b3\u30fc\u30c9->\u6f14\u594f\u3000\n\n\u30b3\u30fc\u30c9\u3067\u66f8\u304f\u3068\u4ee5\u4e0b\u3068\u306a\u308b\u3002\n\n// \u30aa\u30fc\u30c7\u30a3\u30aa\u30d5\u30a1\u30a4\u30eb10\u500b\nvar audioFiles = \n['audiofile00','audiofile01','audiofile02','audiofile03','audiofile04',\n 'audiofile05','audiofile06','audiofile07','audiofile08','audioFile09'];\n\n// \u30a8\u30f3\u30b3\u30fc\u30c9\nfunction encode(file) {\n    console.log(file + ' \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.')\n    return new Promise( (resolve,reject)=> {\n        // \u7591\u4f3c\u7684\u306a\u51e6\u7406 \u5b9f\u969b\u306f\u3053\u3053\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u51e6\u7406\u304c\u5165\u308b\n        setTimeout(()=>{console.log(file + ' \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.'); resolve(file);},500);\n    });\n}\n\n// \u6f14\u594f\nfunction play(file){\n    console.log(file + ' \u6f14\u594f\u958b\u59cb.')\n    return new Promise((resolve,reject)=>{\n        // \u7591\u4f3c\u7684\u306a\u51e6\u7406 \u5b9f\u969b\u306f\u3053\u3053\u306b\u518d\u751f\u30b3\u30fc\u30c9\u304c\u5165\u308b\n        setTimeout(()=>{console.log(file + ' \u6f14\u594f\u7d42\u4e86.');resolve();},2000);\n    });\n}\n\n//\u3000\u30a8\u30f3\u30b3\u30fc\u30c9 => \u6f14\u594f\u5b9f\u884c\nvar promiseChain = Promise.resolve(0);\naudioFiles.forEach((file)=>{\n    // \u30a8\u30f3\u30b3\u30fc\u30c9\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u6f14\u594f\u3092\u958b\u59cb\u3059\u308b\n    promiseChain = promiseChain.then(encode.bind(null,file)).then(play);\n});\n\n\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3042\u308b\u3002\u671f\u5f85\u901a\u308a\u306e\u9010\u6b21\u51e6\u7406\u3067\u3042\u308b\u3002\naudiofile00 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile00 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile00 \u6f14\u594f\u958b\u59cb.\naudiofile00 \u6f14\u594f\u7d42\u4e86.\naudiofile01 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile01 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile01 \u6f14\u594f\u958b\u59cb.\naudiofile01 \u6f14\u594f\u7d42\u4e86.\naudiofile02 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile02 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile02 \u6f14\u594f\u958b\u59cb.\naudiofile02 \u6f14\u594f\u7d42\u4e86.\naudiofile03 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile03 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile03 \u6f14\u594f\u958b\u59cb.\naudiofile03 \u6f14\u594f\u7d42\u4e86.\naudiofile04 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile04 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile04 \u6f14\u594f\u958b\u59cb.\naudiofile04 \u6f14\u594f\u7d42\u4e86.\naudiofile05 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile05 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile05 \u6f14\u594f\u958b\u59cb.\naudiofile05 \u6f14\u594f\u7d42\u4e86.\naudiofile06 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile06 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile06 \u6f14\u594f\u958b\u59cb.\naudiofile06 \u6f14\u594f\u7d42\u4e86.\naudiofile07 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile07 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile07 \u6f14\u594f\u958b\u59cb.\naudiofile07 \u6f14\u594f\u7d42\u4e86.\naudiofile08 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile08 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile08 \u6f14\u594f\u958b\u59cb.\naudiofile08 \u6f14\u594f\u7d42\u4e86.\naudioFile09 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudioFile09 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudioFile09 \u6f14\u594f\u958b\u59cb.\naudioFile09 \u6f14\u594f\u7d42\u4e86.\n\n\n\u8ab2\u984c\u3068\u89e3\u6c7a\u65b9\u6cd5\n\u9010\u6b21\u51e6\u7406\u3067\u884c\u3046\u3068\u30011\u66f2\u3042\u305f\u308a\u306e\u6f14\u594f\u6642\u9593\u304c2\u79d2\u3067\u30a8\u30f3\u30b3\u30fc\u30c9\u6642\u9593\u306f\u6f14\u594f\u6642\u9593\u3088\u308a\u77ed\u3044\u3082\u306e\u306e1\u500b\u3042\u305f\u308a500msec\u304b\u304b\u308b\u3068\u3059\u308c\u3070\u6f14\u594f\u306e\u9593\u306b500msec\u306e\u7121\u97f3\u6642\u9593\u304c\u542b\u307e\u308c\u308b\u3002\u3053\u306e\u7121\u97f3\u6642\u9593\u3092\u3067\u304d\u308b\u9650\u308a\u306a\u304f\u3057\u305f\u3044\u3002\n\u7121\u97f3\u6642\u9593\u306f\u3053\u306e\u30b3\u30fc\u30c9\u3067\u306f500ms\u3060\u304b\u3089\u5927\u3057\u305f\u3053\u3068\u306a\u3044\u3051\u3069\u3001\u5b9f\u969b\u306f\u6570\u5206\u306e\u66f2\u3092\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u306e\u306b\u6570\u79d2\u4ee5\u4e0a\u304b\u304b\u308b\u306e\u3067\u3068\u3066\u3082\u6c17\u306b\u306a\u308b\u3002\n\u9078\u3070\u308c\u305f10\u500b\u3092\u5148\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u3066\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u304a\u304d\u3001\u5168\u90e8\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u7d42\u308f\u3063\u305f\u6bb5\u968e\u3067\u6f14\u594f\u3059\u308c\u3070\u66f2\u9593\u306e\u7121\u97f3\u6642\u9593\u306f\u3059\u3079\u3066\u306a\u304f\u306a\u308b\u304c\u3001\u305d\u306e\u304b\u308f\u308a\u958b\u59cb\u6642\u306b\u6700\u59275\u79d2\u5f85\u305f\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308b\u3002\n\u6700\u521d\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u306b\u304b\u304b\u308b\u6642\u9593\u306f\u3057\u3087\u3046\u304c\u306a\u3044\u306b\u3057\u3066\u3082\u3001\u6700\u521d\u306e\u66f2\u3092\u6f14\u594f\u3057\u3066\u3044\u308b\u9593\u306b2\u66f2\u76ee\u4ee5\u964d\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u3092\u7d42\u308f\u3089\u305b\u3066\u304a\u3051\u30702\u66f2\u76ee\u4ee5\u964d\u306f\u66f2\u9593\u306e\u7121\u97f3\u6642\u9593\u306a\u3057\u6f14\u594f\u3067\u304d\u308b\u3088\u3046\u306a\u308b\u3002\u975e\u540c\u671f\u51e6\u7406\u3092\u3046\u307e\u304f\u4f7f\u3046\u3053\u3068\u306b\u306a\u308b\u3068\u601d\u3046\u3057\u306d\u3002\u3053\u306e\u65b9\u6cd5\u3067\u3044\u3053\u3046\u304b\u306a\u3068\u601d\u3046\u3002\n\n\u5b9f\u88c5\n\u3055\u3066\u3001\u65b9\u6cd5\u306f\u308f\u304b\u3063\u305f\u306e\u3067\u5b9f\u88c5\u3059\u308b\u306b\u306f\u3069\u3046\u3057\u305f\u3089\u3088\u3044\u304b\u8003\u3048\u305f\u3002\u7d50\u8ad6\u306f\u300cPromise\u30c1\u30a7\u30a4\u30f3\u3092\u30a8\u30f3\u30b3\u30fc\u30c9\u7528\u30fb\u6f14\u594f\u7528\u306e2\u3064\u4f5c\u308a\u3001\u30a8\u30f3\u30b3\u30fc\u30c9\u7528\u306e\u30c1\u30a7\u30a4\u30f3\u304b\u3089\u6f14\u594f\u7528\u306e\u30c1\u30a7\u30a4\u30f3\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u300d\u3067\u3042\u308b\u3002\n\u307e\u305a\u5b9f\u969b\u306e\u30b3\u30fc\u30c9\u3092\u6b21\u306b\u793a\u3059\u3002\n\n\n// \u30aa\u30fc\u30c7\u30a3\u30aa\u30d5\u30a1\u30a4\u30eb10\u500b\nvar audioFiles = \n['audiofile00','audiofile01','audiofile02','audiofile03','audiofile04',\n 'audiofile05','audiofile06','audiofile07','audiofile08','audioFile09'];\n\n// \u30a8\u30f3\u30b3\u30fc\u30c9\nfunction encode(file) {\n    console.log(file + ' \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.');\n    return new Promise( (resolve,reject)=> {\n        // \u7591\u4f3c\u7684\u306a\u51e6\u7406 \u5b9f\u969b\u306f\u3053\u3053\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u51e6\u7406\u304c\u5165\u308b\n        setTimeout(()=>{console.log(file + ' \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.'); resolve(file);},500);\n    });\n}\n\n// \u6f14\u594f\nfunction play(file){\n    console.log(file + ' \u6f14\u594f\u958b\u59cb.');\n    return new Promise((resolve,reject)=>{\n        // \u7591\u4f3c\u7684\u306a\u51e6\u7406 \u5b9f\u969b\u306f\u3053\u3053\u306b\u518d\u751f\u30b3\u30fc\u30c9\u304c\u5165\u308b\n        setTimeout(()=>{console.log(file + ' \u6f14\u594f\u7d42\u4e86.');resolve();},2000);\n    });\n}\n\n//\u3000\u30a8\u30f3\u30b3\u30fc\u30c9\u30fb\u6f14\u594f\u5b9f\u884c\nvar playChain = Promise.resolve();\nvar encodeChain = Promise.resolve();\n\naudioFiles\n.forEach((file)=>{\n    //\u3000\u30a8\u30f3\u30b3\u30fc\u30c9\u30c1\u30a7\u30a4\u30f3\n    encodeChain = encodeChain\n    .then((f)=>{\n        if(f){\n            // \u6f14\u594f\u30c1\u30a7\u30a4\u30f3\n            // \u30a8\u30f3\u30b3\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3089\u6f14\u594f\u30c1\u30a7\u30a4\u30f3\u306b\u8ffd\u52a0\n            playChain = playChain.then(play.bind(null,f));\n        }\n        return encode(file);\n    });\n});\n\n// \u6700\u5f8c\u306e\u6f14\u594f\u51e6\u7406\nencodeChain\n.then((f)=>{\n    if(f){\n        // \u518d\u751f\u30c1\u30a7\u30a4\u30f3\n        playChain = playChain.then(play.bind(null,f));\n    }\n});\n\n\n\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u3053\u3046\u306a\u308b\u3002\naudiofile00 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile00 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile01 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile00 \u6f14\u594f\u958b\u59cb.\naudiofile01 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile02 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile02 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile03 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile03 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile04 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile00 \u6f14\u594f\u7d42\u4e86.\naudiofile01 \u6f14\u594f\u958b\u59cb.\naudiofile04 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile05 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile05 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile06 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile06 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile07 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile07 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile08 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile01 \u6f14\u594f\u7d42\u4e86.\naudiofile02 \u6f14\u594f\u958b\u59cb.\naudiofile08 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudioFile09 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudioFile09 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile02 \u6f14\u594f\u7d42\u4e86.\naudiofile03 \u6f14\u594f\u958b\u59cb.\naudiofile03 \u6f14\u594f\u7d42\u4e86.\naudiofile04 \u6f14\u594f\u958b\u59cb.\naudiofile04 \u6f14\u594f\u7d42\u4e86.\naudiofile05 \u6f14\u594f\u958b\u59cb.\naudiofile05 \u6f14\u594f\u7d42\u4e86.\naudiofile06 \u6f14\u594f\u958b\u59cb.\naudiofile06 \u6f14\u594f\u7d42\u4e86.\naudiofile07 \u6f14\u594f\u958b\u59cb.\naudiofile07 \u6f14\u594f\u7d42\u4e86.\naudiofile08 \u6f14\u594f\u958b\u59cb.\naudiofile08 \u6f14\u594f\u7d42\u4e86.\naudioFile09 \u6f14\u594f\u958b\u59cb.\naudioFile09 \u6f14\u594f\u7d42\u4e86.\n\n\u6f14\u594f\u3057\u306a\u304c\u3089\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u3053\u3068\u3067\u3001\u76ee\u6a19\u304c\u9054\u6210\u3067\u304d\u3066\u3044\u308b\u3068\u601d\u3046\u3002\u6f14\u594f\u9806\u5e8f\u3068\u30a8\u30f3\u30b3\u30fc\u30c9\u306e\u9806\u5e8f\u306f\u4fdd\u305f\u308c\u3066\u3044\u308b\u3057\u3001\u30a8\u30f3\u30b3\u30fc\u30c9\u3092\u884c\u3063\u305f\u5f8c\u306b\u518d\u751f\u3092\u884c\u3046\u8981\u4ef6\u3082\u6e80\u305f\u3057\u3066\u3044\u308b\u3002\u51e6\u7406\u306e\u30ad\u30e2\u306f\u30a8\u30f3\u30b3\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u518d\u751f\u30c1\u30a7\u30a4\u30f3\u306b\u8ffd\u52a0\u3059\u308b\u3068\u3053\u308d\u3060\u308d\u3046\u304b\u3002\n\u4eee\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u51e6\u7406\u304c\u9577\u304f\u304b\u304b\u308a\u3001\u6f14\u594f\u958b\u59cb\u6642\u9593\u307e\u3067\u306b\u9593\u306b\u5408\u308f\u306a\u304b\u3063\u305f\u3068\u3057\u3066\u3082Promise.then()\u3067\u3046\u307e\u304f\u5438\u53ce\u3057\u3001\u6f14\u594f\u958b\u59cb\u3092\u9045\u3089\u305b\u3066\u304f\u308c\u308b\u3002\u3053\u308c\u306fPromise.then()\u304cPromise\u306e\u72b6\u614b\u306b\u5408\u308f\u305b\u3066\u6319\u52d5\u3092\u5909\u3048\u3066\u304f\u308c\u308b\u304b\u3089\u3067\u3042\u308b\u3002\n## \u4f8b\u3048\u3070\n\n10\u500b\u306e\u30aa\u30fc\u30c7\u30a3\u30aa\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u9806\u756a\u306b1\u500b\u305a\u3064\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u3001\u6f14\u594f\u3092\u3059\u308b\u3088\u3046\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8003\u3048\u308b\u3002\u30a8\u30f3\u30b3\u30fc\u30c9\u3068\u6f14\u594f\u306f\u305d\u308c\u305e\u308c\u975e\u540c\u671f\u3067\u51e6\u7406\u3055\u308c\u308b\u3002\n\n```\n1\u500b\u76ee\u306e\u30a8\u30f3\u30b3\u30fc\u30c9->\u6f14\u594f->2\u500b\u76ee\u306e\u30a8\u30f3\u30b3\u30fc\u30c9->\u6f14\u594f...10\u500b\u76ee\u306e\u30a8\u30f3\u30b3\u30fc\u30c9->\u6f14\u594f\u3000\n```\n\n\u30b3\u30fc\u30c9\u3067\u66f8\u304f\u3068\u4ee5\u4e0b\u3068\u306a\u308b\u3002\n\n```js\n\n// \u30aa\u30fc\u30c7\u30a3\u30aa\u30d5\u30a1\u30a4\u30eb10\u500b\nvar audioFiles = \n['audiofile00','audiofile01','audiofile02','audiofile03','audiofile04',\n 'audiofile05','audiofile06','audiofile07','audiofile08','audioFile09'];\n\n// \u30a8\u30f3\u30b3\u30fc\u30c9\nfunction encode(file) {\n    console.log(file + ' \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.')\n    return new Promise( (resolve,reject)=> {\n        // \u7591\u4f3c\u7684\u306a\u51e6\u7406 \u5b9f\u969b\u306f\u3053\u3053\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u51e6\u7406\u304c\u5165\u308b\n        setTimeout(()=>{console.log(file + ' \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.'); resolve(file);},500);\n    });\n}\n\n// \u6f14\u594f\nfunction play(file){\n    console.log(file + ' \u6f14\u594f\u958b\u59cb.')\n    return new Promise((resolve,reject)=>{\n        // \u7591\u4f3c\u7684\u306a\u51e6\u7406 \u5b9f\u969b\u306f\u3053\u3053\u306b\u518d\u751f\u30b3\u30fc\u30c9\u304c\u5165\u308b\n        setTimeout(()=>{console.log(file + ' \u6f14\u594f\u7d42\u4e86.');resolve();},2000);\n    });\n}\n\n//\u3000\u30a8\u30f3\u30b3\u30fc\u30c9 => \u6f14\u594f\u5b9f\u884c\nvar promiseChain = Promise.resolve(0);\naudioFiles.forEach((file)=>{\n    // \u30a8\u30f3\u30b3\u30fc\u30c9\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u6f14\u594f\u3092\u958b\u59cb\u3059\u308b\n    promiseChain = promiseChain.then(encode.bind(null,file)).then(play);\n});\n```\n\n\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3042\u308b\u3002\u671f\u5f85\u901a\u308a\u306e\u9010\u6b21\u51e6\u7406\u3067\u3042\u308b\u3002\n\n```\naudiofile00 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile00 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile00 \u6f14\u594f\u958b\u59cb.\naudiofile00 \u6f14\u594f\u7d42\u4e86.\naudiofile01 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile01 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile01 \u6f14\u594f\u958b\u59cb.\naudiofile01 \u6f14\u594f\u7d42\u4e86.\naudiofile02 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile02 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile02 \u6f14\u594f\u958b\u59cb.\naudiofile02 \u6f14\u594f\u7d42\u4e86.\naudiofile03 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile03 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile03 \u6f14\u594f\u958b\u59cb.\naudiofile03 \u6f14\u594f\u7d42\u4e86.\naudiofile04 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile04 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile04 \u6f14\u594f\u958b\u59cb.\naudiofile04 \u6f14\u594f\u7d42\u4e86.\naudiofile05 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile05 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile05 \u6f14\u594f\u958b\u59cb.\naudiofile05 \u6f14\u594f\u7d42\u4e86.\naudiofile06 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile06 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile06 \u6f14\u594f\u958b\u59cb.\naudiofile06 \u6f14\u594f\u7d42\u4e86.\naudiofile07 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile07 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile07 \u6f14\u594f\u958b\u59cb.\naudiofile07 \u6f14\u594f\u7d42\u4e86.\naudiofile08 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile08 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile08 \u6f14\u594f\u958b\u59cb.\naudiofile08 \u6f14\u594f\u7d42\u4e86.\naudioFile09 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudioFile09 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudioFile09 \u6f14\u594f\u958b\u59cb.\naudioFile09 \u6f14\u594f\u7d42\u4e86.\n```\n\n## \u8ab2\u984c\u3068\u89e3\u6c7a\u65b9\u6cd5\n\n\u9010\u6b21\u51e6\u7406\u3067\u884c\u3046\u3068\u30011\u66f2\u3042\u305f\u308a\u306e\u6f14\u594f\u6642\u9593\u304c2\u79d2\u3067\u30a8\u30f3\u30b3\u30fc\u30c9\u6642\u9593\u306f\u6f14\u594f\u6642\u9593\u3088\u308a\u77ed\u3044\u3082\u306e\u306e1\u500b\u3042\u305f\u308a500msec\u304b\u304b\u308b\u3068\u3059\u308c\u3070\u6f14\u594f\u306e\u9593\u306b500msec\u306e\u7121\u97f3\u6642\u9593\u304c\u542b\u307e\u308c\u308b\u3002\u3053\u306e\u7121\u97f3\u6642\u9593\u3092\u3067\u304d\u308b\u9650\u308a\u306a\u304f\u3057\u305f\u3044\u3002\n\n\u7121\u97f3\u6642\u9593\u306f\u3053\u306e\u30b3\u30fc\u30c9\u3067\u306f500ms\u3060\u304b\u3089\u5927\u3057\u305f\u3053\u3068\u306a\u3044\u3051\u3069\u3001\u5b9f\u969b\u306f\u6570\u5206\u306e\u66f2\u3092\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u306e\u306b\u6570\u79d2\u4ee5\u4e0a\u304b\u304b\u308b\u306e\u3067\u3068\u3066\u3082\u6c17\u306b\u306a\u308b\u3002\n\n\u9078\u3070\u308c\u305f10\u500b\u3092\u5148\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u3066\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u304a\u304d\u3001\u5168\u90e8\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u7d42\u308f\u3063\u305f\u6bb5\u968e\u3067\u6f14\u594f\u3059\u308c\u3070\u66f2\u9593\u306e\u7121\u97f3\u6642\u9593\u306f\u3059\u3079\u3066\u306a\u304f\u306a\u308b\u304c\u3001\u305d\u306e\u304b\u308f\u308a\u958b\u59cb\u6642\u306b\u6700\u59275\u79d2\u5f85\u305f\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308b\u3002\n\n\u6700\u521d\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u306b\u304b\u304b\u308b\u6642\u9593\u306f\u3057\u3087\u3046\u304c\u306a\u3044\u306b\u3057\u3066\u3082\u3001\u6700\u521d\u306e\u66f2\u3092\u6f14\u594f\u3057\u3066\u3044\u308b\u9593\u306b2\u66f2\u76ee\u4ee5\u964d\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u3092\u7d42\u308f\u3089\u305b\u3066\u304a\u3051\u30702\u66f2\u76ee\u4ee5\u964d\u306f\u66f2\u9593\u306e\u7121\u97f3\u6642\u9593\u306a\u3057\u6f14\u594f\u3067\u304d\u308b\u3088\u3046\u306a\u308b\u3002\u975e\u540c\u671f\u51e6\u7406\u3092\u3046\u307e\u304f\u4f7f\u3046\u3053\u3068\u306b\u306a\u308b\u3068\u601d\u3046\u3057\u306d\u3002\u3053\u306e\u65b9\u6cd5\u3067\u3044\u3053\u3046\u304b\u306a\u3068\u601d\u3046\u3002\n\n## \u5b9f\u88c5\n\n\u3055\u3066\u3001\u65b9\u6cd5\u306f\u308f\u304b\u3063\u305f\u306e\u3067\u5b9f\u88c5\u3059\u308b\u306b\u306f\u3069\u3046\u3057\u305f\u3089\u3088\u3044\u304b\u8003\u3048\u305f\u3002\u7d50\u8ad6\u306f\u300c`Promise`\u30c1\u30a7\u30a4\u30f3\u3092\u30a8\u30f3\u30b3\u30fc\u30c9\u7528\u30fb\u6f14\u594f\u7528\u306e2\u3064\u4f5c\u308a\u3001\u30a8\u30f3\u30b3\u30fc\u30c9\u7528\u306e\u30c1\u30a7\u30a4\u30f3\u304b\u3089\u6f14\u594f\u7528\u306e\u30c1\u30a7\u30a4\u30f3\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u300d\u3067\u3042\u308b\u3002\n\n\u307e\u305a\u5b9f\u969b\u306e\u30b3\u30fc\u30c9\u3092\u6b21\u306b\u793a\u3059\u3002\n\n```js\n\n\n// \u30aa\u30fc\u30c7\u30a3\u30aa\u30d5\u30a1\u30a4\u30eb10\u500b\nvar audioFiles = \n['audiofile00','audiofile01','audiofile02','audiofile03','audiofile04',\n 'audiofile05','audiofile06','audiofile07','audiofile08','audioFile09'];\n\n// \u30a8\u30f3\u30b3\u30fc\u30c9\nfunction encode(file) {\n    console.log(file + ' \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.');\n    return new Promise( (resolve,reject)=> {\n        // \u7591\u4f3c\u7684\u306a\u51e6\u7406 \u5b9f\u969b\u306f\u3053\u3053\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u51e6\u7406\u304c\u5165\u308b\n        setTimeout(()=>{console.log(file + ' \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.'); resolve(file);},500);\n    });\n}\n\n// \u6f14\u594f\nfunction play(file){\n    console.log(file + ' \u6f14\u594f\u958b\u59cb.');\n    return new Promise((resolve,reject)=>{\n        // \u7591\u4f3c\u7684\u306a\u51e6\u7406 \u5b9f\u969b\u306f\u3053\u3053\u306b\u518d\u751f\u30b3\u30fc\u30c9\u304c\u5165\u308b\n        setTimeout(()=>{console.log(file + ' \u6f14\u594f\u7d42\u4e86.');resolve();},2000);\n    });\n}\n\n//\u3000\u30a8\u30f3\u30b3\u30fc\u30c9\u30fb\u6f14\u594f\u5b9f\u884c\nvar playChain = Promise.resolve();\nvar encodeChain = Promise.resolve();\n\naudioFiles\n.forEach((file)=>{\n    //\u3000\u30a8\u30f3\u30b3\u30fc\u30c9\u30c1\u30a7\u30a4\u30f3\n    encodeChain = encodeChain\n    .then((f)=>{\n        if(f){\n            // \u6f14\u594f\u30c1\u30a7\u30a4\u30f3\n            // \u30a8\u30f3\u30b3\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3089\u6f14\u594f\u30c1\u30a7\u30a4\u30f3\u306b\u8ffd\u52a0\n            playChain = playChain.then(play.bind(null,f));\n        }\n        return encode(file);\n    });\n});\n\n// \u6700\u5f8c\u306e\u6f14\u594f\u51e6\u7406\nencodeChain\n.then((f)=>{\n    if(f){\n        // \u518d\u751f\u30c1\u30a7\u30a4\u30f3\n        playChain = playChain.then(play.bind(null,f));\n    }\n});\n\n```\n\n\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u3053\u3046\u306a\u308b\u3002\n\n```\naudiofile00 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile00 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile01 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile00 \u6f14\u594f\u958b\u59cb.\naudiofile01 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile02 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile02 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile03 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile03 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile04 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile00 \u6f14\u594f\u7d42\u4e86.\naudiofile01 \u6f14\u594f\u958b\u59cb.\naudiofile04 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile05 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile05 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile06 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile06 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile07 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile07 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile08 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudiofile01 \u6f14\u594f\u7d42\u4e86.\naudiofile02 \u6f14\u594f\u958b\u59cb.\naudiofile08 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudioFile09 \u30a8\u30f3\u30b3\u30fc\u30c9\u958b\u59cb.\naudioFile09 \u30a8\u30f3\u30b3\u30fc\u30c9\u5b8c\u4e86.\naudiofile02 \u6f14\u594f\u7d42\u4e86.\naudiofile03 \u6f14\u594f\u958b\u59cb.\naudiofile03 \u6f14\u594f\u7d42\u4e86.\naudiofile04 \u6f14\u594f\u958b\u59cb.\naudiofile04 \u6f14\u594f\u7d42\u4e86.\naudiofile05 \u6f14\u594f\u958b\u59cb.\naudiofile05 \u6f14\u594f\u7d42\u4e86.\naudiofile06 \u6f14\u594f\u958b\u59cb.\naudiofile06 \u6f14\u594f\u7d42\u4e86.\naudiofile07 \u6f14\u594f\u958b\u59cb.\naudiofile07 \u6f14\u594f\u7d42\u4e86.\naudiofile08 \u6f14\u594f\u958b\u59cb.\naudiofile08 \u6f14\u594f\u7d42\u4e86.\naudioFile09 \u6f14\u594f\u958b\u59cb.\naudioFile09 \u6f14\u594f\u7d42\u4e86.\n```\n\n\u6f14\u594f\u3057\u306a\u304c\u3089\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u3053\u3068\u3067\u3001\u76ee\u6a19\u304c\u9054\u6210\u3067\u304d\u3066\u3044\u308b\u3068\u601d\u3046\u3002\u6f14\u594f\u9806\u5e8f\u3068\u30a8\u30f3\u30b3\u30fc\u30c9\u306e\u9806\u5e8f\u306f\u4fdd\u305f\u308c\u3066\u3044\u308b\u3057\u3001\u30a8\u30f3\u30b3\u30fc\u30c9\u3092\u884c\u3063\u305f\u5f8c\u306b\u518d\u751f\u3092\u884c\u3046\u8981\u4ef6\u3082\u6e80\u305f\u3057\u3066\u3044\u308b\u3002\u51e6\u7406\u306e\u30ad\u30e2\u306f\u30a8\u30f3\u30b3\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u518d\u751f\u30c1\u30a7\u30a4\u30f3\u306b\u8ffd\u52a0\u3059\u308b\u3068\u3053\u308d\u3060\u308d\u3046\u304b\u3002\n\n\u4eee\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u51e6\u7406\u304c\u9577\u304f\u304b\u304b\u308a\u3001\u6f14\u594f\u958b\u59cb\u6642\u9593\u307e\u3067\u306b\u9593\u306b\u5408\u308f\u306a\u304b\u3063\u305f\u3068\u3057\u3066\u3082`Promise.then()`\u3067\u3046\u307e\u304f\u5438\u53ce\u3057\u3001\u6f14\u594f\u958b\u59cb\u3092\u9045\u3089\u305b\u3066\u304f\u308c\u308b\u3002\u3053\u308c\u306f`Promise.then()`\u304c`Promise`\u306e\u72b6\u614b\u306b\u5408\u308f\u305b\u3066\u6319\u52d5\u3092\u5909\u3048\u3066\u304f\u308c\u308b\u304b\u3089\u3067\u3042\u308b\u3002\n", "tags": ["JavaScript", "es6"]}