{"context": " More than 1 year has passed since last update.\n\n\u4e0b\u6e96\u5099 (OS X\u3060\u3051\u3067\u3059\u307f\u307e\u305b\u3093...)\nHomebrew\u3067\u3082FFmpeg\u3092\u5c0e\u5165\u3067\u304d\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306fMacPorts\u3067\u306e\u624b\u9806\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002Homebrew\u306e\u5834\u5408\u3001FFmpeg\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u52a0\u3048\u3066\u5225\u9014\u5404\u7a2e\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u306e\u3067\u3054\u6ce8\u610f\u4e0b\u3055\u3044\u3002([\u53c2\u8003])\n\nMacPorts\nMacPorts\u306e\u30b5\u30a4\u30c8\u3088\u308a\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\nFFmpeg\n\u30bf\u30fc\u30df\u30ca\u30eb\u3067MacPorts\u3092\u4f7f\u3063\u3066\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002(\u3088\u3063\u3066\u3001\u305d\u308c\u306a\u308a\u306e\u6642\u9593\u304c\u5fc5\u8981\u3067\u3059\u3002)\n$ sudo port install ffmpeg +nonfree\n\n+nonfree\u306fAAC\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u306b\u5fc5\u8981(libfaac)\u3002\n\u3061\u306a\u307f\u306b\u3001(HTML5\u3067\u306f\u4f7f\u308f\u306a\u3044\u304cAndroid\u7aef\u672b\u7b49\u3067)AMR\u7b49\u306e\u4e00\u90e8\u306e\u30b3\u30fc\u30c7\u30c3\u30af\u306b\u5bfe\u5fdc\u3059\u308b\u306b\u306f\u3001\n$ sudo port install ffmpeg +gpl3+nonfree\n\n\u3068\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nFFmpeg\u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u524d\u306b\u3001\u95a2\u9023\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea(libvpx, libvorbis, x264, \u7b49)\u3082\u30d3\u30eb\u30c9\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\u306a\u304a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fX11(X.Org)\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u3053\u308c\u3092\u907f\u3051\u305f\u3044\u5834\u5408\u306f\u3001-x11\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u4e0e\u3059\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n$ sudo port install ffmpeg +gpl3+nonfree-x11\n\n\nMP4\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\n\n\u753b\u9762\u30b5\u30a4\u30ba\u3082\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u3082\u5909\u3048\u306a\u3044\u5834\u5408\n$ ffmpeg -i [\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d] -vcodec libx264 -vb [\u52d5\u753b\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] -acodec libfaac -ac 2 -ab [\u97f3\u58f0\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] [\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d.mp4]\n\n\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8\u306f\u30d3\u30c3\u30c8/\u79d2\u3067\u6307\u5b9a\u3057\u307e\u3059\u304c\u3001k(\u30ad\u30ed)\u3084M(\u30e1\u30ac)\u3092\u5358\u4f4d\u3068\u3057\u3066\u6307\u5b9a\u3067\u304d\u307e\u3059(\u4f8b: 4M, 128k)\u3002\u307e\u305f\u3001\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u30ec\u30fc\u30c8\u3092\u6307\u5b9a\u3057\u305f\u3044\u5834\u5408\u306f-ar [\u30ec\u30fc\u30c8]\u3092\u8ffd\u52a0\u3057\u307e\u3059(\u3053\u3053\u3067\u3082k(\u30ad\u30ed)\u304c\u4f7f\u3048\u307e\u3059)\u3002\n-ac\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u306f\u97f3\u58f0\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u30021\u306a\u3089\u30e2\u30ce\u30e9\u30eb\u30012\u306a\u3089\u30b9\u30c6\u30ec\u30aa\u3002\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u304c5.1ch\u30b5\u30e9\u30a6\u30f3\u30c9\u7b49\u3067\u53ce\u9332\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u660e\u793a\u7684\u306b-ac 2\u3068\u3057\u3066\u30b9\u30c6\u30ec\u30aa\u30df\u30c3\u30af\u30b9\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\u753b\u9762\u30b5\u30a4\u30ba\u3084\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\n$ ffmpeg -i [\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d] -vcodec libx264 -vb [\u52d5\u753b\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] -r [\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8] -s [\u753b\u9762\u30b5\u30a4\u30ba] -acodec libfaac -ac 2 -ab [\u97f3\u58f0\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] [\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d.mp4]\n\n\u753b\u9762\u30b5\u30a4\u30ba\u306f[\u6a2a\u753b\u7d20\u6570]x[\u7e26\u753b\u7d20\u6570]\u3067\u6307\u5b9a\u3057\u307e\u3059(\u4f8b: 1280x720)\u3002\n\nWebM\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\n$ ffmpeg -i [\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d] -vcodec libvpx -vb [\u52d5\u753b\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] -acodec libvorbis -ac 2 -ab [\u97f3\u58f0\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] [\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d.webm]\n\n\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u3001\u753b\u9762\u30b5\u30a4\u30ba\u7b49\u3001\u5404\u7a2e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u57fa\u672c\u7684\u306bMP4\u3068\u540c\u3058\u306a\u306e\u3067\u7701\u7565\u3002\n\nHTTP\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u5bfe\u5fdc\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u63db\nMedia Source Extensions\u3084MPEG-DASH\u3092\u5229\u7528\u3057\u305f\u3001\u30bb\u30b0\u30e1\u30f3\u30c8\u5358\u4f4d\u306eHTTP\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u5bfe\u5fdc\u3057\u305f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u306a\u308b\u3088\u3046\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3057\u307e\u3059\u3002\n\nWebM\u306e\u5834\u5408\n\u5143\u3005\u3001Cluster\u306b\u533a\u5207\u3063\u3066\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u65b9\u5f0f\u306e\u305f\u3081\u3001\u7279\u5225\u306a\u914d\u616e\u306f\u4e0d\u8981\u3067\u3059\u304c\u3001\u30bb\u30b0\u30e1\u30f3\u30c8\u533a\u5207\u308a(Cluster)\u306e\u9577\u3055\u3092\u8abf\u6574\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3057\u307e\u3059\u3002\n$ ffmpeg -i [\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d] -vcodec libvpx -vb [\u52d5\u753b\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] -r [\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8] -keyint_min [\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694] -g [\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694] -acodec libvorbis -ac 2 -ab [\u97f3\u58f0\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] [\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d.webm]\n\n\u4e0a\u8a18\u306b\u304a\u3044\u3066\u3001[\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694] = [\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8] \u00d7 Cluster\u306e\u6642\u9593\u9577(\u79d2) \u3068\u306a\u308b\u3088\u3046\u306b\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694\u3092\u8abf\u6574\u3057\u307e\u3059(\u4f8b\u3048\u3070\u3001\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u304c30fps\u3067Cluster\u306e\u6642\u9593\u9577\u30925\u79d2\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694\u306f150)\u3002\n\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001Mozilla\u306eDASH Adaptive Streaming for HTML 5 Video\u306e\u8a18\u4e8b\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\nMedia Source Extensions\u3067\u518d\u751f\u3059\u308b\u969b\u306b\u30e1\u30c7\u30a3\u30a2\u30bb\u30b0\u30e1\u30f3\u30c8\u5206\u5272\u3092\u884c\u3046\u7b49\u3001\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u89e3\u6790\u304c\u5fc5\u8981\u3068\u306a\u308b\u5834\u5408\u306f\u3001Media Source Extensions\u3092\u4f7f\u3063\u3066\u307f\u305f (WebM\u7de8)\u3092\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\nMP4\u306e\u5834\u5408\nMP4\u306e\u5834\u5408\u306f\u3001FFmpeg\u306b\u52a0\u3048\u3066\u3001MP4Box\u3068\u3044\u3046\u30c4\u30fc\u30eb\u304c\u8ffd\u52a0\u3067\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n$ svn co svn://svn.code.sf.net/p/gpac/code/trunk/gpac gpac\n$ cd gpac\n$ ./configure\n$ make\n$ sudo make install\n\nFFmpeg\u3067\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u306f\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n$ ffmpeg -i [\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d] -vcodec libx264 -vb [\u52d5\u753b\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] -r [\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8] -x264opts no-scenecut -g [\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694] -acodec libfaac -ac 2 -ab [\u97f3\u58f0\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] -frag_duration [\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u306e\u6642\u9593\u9577] -movflags frag_keyframe+empty_moov [\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d.mp4]\n\n\u30bb\u30b0\u30e1\u30f3\u30c8\u533a\u5207\u308a(\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8)\u306e\u6642\u9593\u9577\u3092\u6307\u5b9a\u3059\u308b-frag_duration\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001\u30de\u30a4\u30af\u30ed\u79d2\u3067\u6307\u5b9a\u3059\u308b\u70b9\u306b\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059(\u4f8b\u3048\u3070\u30015\u79d2\u306a\u30895000000)\u3002\n\u52d5\u753b(H.264)\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f(\u30a8\u30f3\u30b3\u30fc\u30c0\u3067\u3042\u308bx264\u304c)\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u306e\u4f4d\u7f6e\u3092\u30b7\u30fc\u30f3\u5207\u308a\u66ff\u3048\u306a\u3069\u306e\u7279\u5fb4\u5206\u6790\u3092\u7528\u3044\u3066\u52d5\u7684\u306b\u8abf\u6574\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001-x264opts no-scenecut\u3092\u6307\u5b9a\u3057\u3066\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694\u3092\u56fa\u5b9a\u306b\u3057\u307e\u3059\u3002\n\u305d\u306e\u4e0a\u3067\u3001[\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u306e\u6642\u9593\u9577] \u00d7 [\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8] \u00f7 [\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694]\u304c\u6574\u6570\u306b\u306a\u308b\u3088\u3046\u306b\u3001frag_duration\u3068-g\u3092\u8abf\u6574\u3057\u307e\u3059\u3002(\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694\u3092\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u3068\u540c\u3058\u304b\u3001\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u306e\u534a\u5206\u304f\u3089\u3044\u306b\u3057\u3066\u304a\u304f\u3068\u3088\u3044\u3067\u3057\u3087\u3046(\u4f8b: -r 30 -g 15 -frag_duration 5000000))\u3002\n\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u51fa\u529b\u3055\u308c\u305fMP4\u30d5\u30a1\u30a4\u30eb\u3092\u3001MP4Box\u3067MPEG-DASH\u5bfe\u5fdc\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n$ MP4Box -dash [\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u306e\u6642\u9593\u9577] -frag-rap -profile ondemand [MP4\u30d5\u30a1\u30a4\u30eb\u540d]\n\nMP4Box\u306e\u5834\u5408\u306f\u3001\u5909\u63db\u5f8c\u306e\u30d5\u30a1\u30a4\u30eb\u304c[\u5143\u306e\u30d5\u30a1\u30a4\u30eb\u540d(\u62e1\u5f35\u5b50\u9664\u304f)]_dashinit.mp4\u3068\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001DASH\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u7528\u306e\u8a18\u8ff0\u30d5\u30a1\u30a4\u30eb(MPD)\u304c[\u5143\u306e\u30d5\u30a1\u30a4\u30eb\u540d(\u62e1\u5f35\u5b50\u9664\u304f)]_dash.mpd\u3068\u3044\u3046\u540d\u524d\u306eXML\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u3001\u4f75\u305b\u3066\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u306e\u6642\u9593\u9577\u306f\u30df\u30ea\u79d2\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001Media Source Extensions\u7b49\u3067\u4f7f\u3046\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3001\u521d\u671f\u5316\u30bb\u30b0\u30e1\u30f3\u30c8\u3068\u5404\u30e1\u30c7\u30a3\u30a2\u30bb\u30b0\u30e1\u30f3\u30c8\u3092\u5225\u30d5\u30a1\u30a4\u30eb\u306b\u5206\u5272\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n$ MP4Box -dash [\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u306e\u6642\u9593\u9577] -frag-rap -segment-name [\u30e1\u30c7\u30a3\u30a2\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u63a5\u982d\u8f9e] -profile ondemand [MP4\u30d5\u30a1\u30a4\u30eb\u540d]\n\n\u3053\u306e\u6642\u3001\u5206\u5272\u3055\u308c\u305f\u30e1\u30c7\u30a3\u30a2\u30bb\u30b0\u30e1\u30f3\u30c8\u304c[-segment-name\u3067\u6307\u5b9a\u3057\u305f\u63a5\u982d\u8f9e]_[\u9023\u756a].m4s\u3001\u521d\u671f\u5316\u30bb\u30b0\u30e1\u30f3\u30c8\u304c[-segment-name\u3067\u6307\u5b9a\u3057\u305f\u63a5\u982d\u8f9e]_init.mp4\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\u306a\u304a\u3001MPD\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u306f\u4e0a\u8a18\u3068\u540c\u69d8\u3067\u3059(\u3059\u306a\u308f\u3061\u3001-segment-name\u3067MPD\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u304c\u5909\u308f\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093)\u3002\n# \u4e0b\u6e96\u5099 (OS X\u3060\u3051\u3067\u3059\u307f\u307e\u305b\u3093...)\n\nHomebrew\u3067\u3082FFmpeg\u3092\u5c0e\u5165\u3067\u304d\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306fMacPorts\u3067\u306e\u624b\u9806\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002Homebrew\u306e\u5834\u5408\u3001FFmpeg\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u52a0\u3048\u3066\u5225\u9014\u5404\u7a2e\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u306e\u3067\u3054\u6ce8\u610f\u4e0b\u3055\u3044\u3002([[\u53c2\u8003]](http://kujirahand.com/blog/index.php?Mac+OS+X\u3067FFmpeg\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068WebM\u52d5\u753b\u306e\u4f5c\u308a\u65b9))\n\n## MacPorts\n\n[MacPorts\u306e\u30b5\u30a4\u30c8](http://www.macports.org)\u3088\u308a\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n## FFmpeg\n\n\u30bf\u30fc\u30df\u30ca\u30eb\u3067MacPorts\u3092\u4f7f\u3063\u3066\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002(\u3088\u3063\u3066\u3001\u305d\u308c\u306a\u308a\u306e\u6642\u9593\u304c\u5fc5\u8981\u3067\u3059\u3002)\n\n```bash\n$ sudo port install ffmpeg +nonfree\n```\n\n`+nonfree`\u306fAAC\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u306b\u5fc5\u8981(libfaac)\u3002\n\n\u3061\u306a\u307f\u306b\u3001(HTML5\u3067\u306f\u4f7f\u308f\u306a\u3044\u304cAndroid\u7aef\u672b\u7b49\u3067)AMR\u7b49\u306e\u4e00\u90e8\u306e\u30b3\u30fc\u30c7\u30c3\u30af\u306b\u5bfe\u5fdc\u3059\u308b\u306b\u306f\u3001\n\n```bash\n$ sudo port install ffmpeg +gpl3+nonfree\n```\n\n\u3068\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nFFmpeg\u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u524d\u306b\u3001\u95a2\u9023\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea(libvpx, libvorbis, x264, \u7b49)\u3082\u30d3\u30eb\u30c9\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\u306a\u304a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fX11(X.Org)\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u3053\u308c\u3092\u907f\u3051\u305f\u3044\u5834\u5408\u306f\u3001`-x11`\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u4e0e\u3059\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\n```bash\n$ sudo port install ffmpeg +gpl3+nonfree-x11\n```\n\n# MP4\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\n\n## \u753b\u9762\u30b5\u30a4\u30ba\u3082\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u3082\u5909\u3048\u306a\u3044\u5834\u5408\n\n```bash\n$ ffmpeg -i [\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d] -vcodec libx264 -vb [\u52d5\u753b\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] -acodec libfaac -ac 2 -ab [\u97f3\u58f0\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] [\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d.mp4]\n```\n\n\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8\u306f\u30d3\u30c3\u30c8/\u79d2\u3067\u6307\u5b9a\u3057\u307e\u3059\u304c\u3001`k`(\u30ad\u30ed)\u3084`M`(\u30e1\u30ac)\u3092\u5358\u4f4d\u3068\u3057\u3066\u6307\u5b9a\u3067\u304d\u307e\u3059(\u4f8b: `4M`, `128k`)\u3002\u307e\u305f\u3001\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u30ec\u30fc\u30c8\u3092\u6307\u5b9a\u3057\u305f\u3044\u5834\u5408\u306f`-ar [\u30ec\u30fc\u30c8]`\u3092\u8ffd\u52a0\u3057\u307e\u3059(\u3053\u3053\u3067\u3082`k`(\u30ad\u30ed)\u304c\u4f7f\u3048\u307e\u3059)\u3002\n\n`-ac`\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u306f\u97f3\u58f0\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u30021\u306a\u3089\u30e2\u30ce\u30e9\u30eb\u30012\u306a\u3089\u30b9\u30c6\u30ec\u30aa\u3002\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u304c5.1ch\u30b5\u30e9\u30a6\u30f3\u30c9\u7b49\u3067\u53ce\u9332\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u660e\u793a\u7684\u306b`-ac 2`\u3068\u3057\u3066\u30b9\u30c6\u30ec\u30aa\u30df\u30c3\u30af\u30b9\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n## \u753b\u9762\u30b5\u30a4\u30ba\u3084\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\n\n```bash\n$ ffmpeg -i [\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d] -vcodec libx264 -vb [\u52d5\u753b\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] -r [\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8] -s [\u753b\u9762\u30b5\u30a4\u30ba] -acodec libfaac -ac 2 -ab [\u97f3\u58f0\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] [\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d.mp4]\n```\n\n\u753b\u9762\u30b5\u30a4\u30ba\u306f`[\u6a2a\u753b\u7d20\u6570]x[\u7e26\u753b\u7d20\u6570]`\u3067\u6307\u5b9a\u3057\u307e\u3059(\u4f8b: `1280x720`)\u3002\n\n# WebM\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\n\n```bash\n$ ffmpeg -i [\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d] -vcodec libvpx -vb [\u52d5\u753b\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] -acodec libvorbis -ac 2 -ab [\u97f3\u58f0\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] [\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d.webm]\n```\n\n\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u3001\u753b\u9762\u30b5\u30a4\u30ba\u7b49\u3001\u5404\u7a2e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u57fa\u672c\u7684\u306bMP4\u3068\u540c\u3058\u306a\u306e\u3067\u7701\u7565\u3002\n\n# HTTP\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u5bfe\u5fdc\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u63db\n\nMedia Source Extensions\u3084MPEG-DASH\u3092\u5229\u7528\u3057\u305f\u3001\u30bb\u30b0\u30e1\u30f3\u30c8\u5358\u4f4d\u306eHTTP\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u5bfe\u5fdc\u3057\u305f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u306a\u308b\u3088\u3046\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3057\u307e\u3059\u3002\n\n## WebM\u306e\u5834\u5408\n\n\u5143\u3005\u3001Cluster\u306b\u533a\u5207\u3063\u3066\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u65b9\u5f0f\u306e\u305f\u3081\u3001\u7279\u5225\u306a\u914d\u616e\u306f\u4e0d\u8981\u3067\u3059\u304c\u3001\u30bb\u30b0\u30e1\u30f3\u30c8\u533a\u5207\u308a(Cluster)\u306e\u9577\u3055\u3092\u8abf\u6574\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3057\u307e\u3059\u3002\n\n```bash\n$ ffmpeg -i [\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d] -vcodec libvpx -vb [\u52d5\u753b\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] -r [\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8] -keyint_min [\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694] -g [\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694] -acodec libvorbis -ac 2 -ab [\u97f3\u58f0\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] [\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d.webm]\n```\n\n\u4e0a\u8a18\u306b\u304a\u3044\u3066\u3001[\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694] = [\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8] \u00d7 Cluster\u306e\u6642\u9593\u9577(\u79d2) \u3068\u306a\u308b\u3088\u3046\u306b\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694\u3092\u8abf\u6574\u3057\u307e\u3059(\u4f8b\u3048\u3070\u3001\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u304c30fps\u3067Cluster\u306e\u6642\u9593\u9577\u30925\u79d2\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694\u306f150)\u3002\n\n\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001Mozilla\u306e[DASH Adaptive Streaming for HTML 5 Video](https://developer.mozilla.org/en-US/docs/Web/HTML/DASH_Adaptive_Streaming_for_HTML_5_Video)\u306e\u8a18\u4e8b\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n\nMedia Source Extensions\u3067\u518d\u751f\u3059\u308b\u969b\u306b\u30e1\u30c7\u30a3\u30a2\u30bb\u30b0\u30e1\u30f3\u30c8\u5206\u5272\u3092\u884c\u3046\u7b49\u3001\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u89e3\u6790\u304c\u5fc5\u8981\u3068\u306a\u308b\u5834\u5408\u306f\u3001[Media Source Extensions\u3092\u4f7f\u3063\u3066\u307f\u305f (WebM\u7de8)](http://qiita.com/tomoyukilabs/items/57ba8a982ab372611669)\u3092\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n## MP4\u306e\u5834\u5408\n\nMP4\u306e\u5834\u5408\u306f\u3001FFmpeg\u306b\u52a0\u3048\u3066\u3001[MP4Box](http://gpac.wp.mines-telecom.fr/mp4box/)\u3068\u3044\u3046\u30c4\u30fc\u30eb\u304c\u8ffd\u52a0\u3067\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n```bash\n$ svn co svn://svn.code.sf.net/p/gpac/code/trunk/gpac gpac\n$ cd gpac\n$ ./configure\n$ make\n$ sudo make install\n```\n\nFFmpeg\u3067\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u306f\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```bash\n$ ffmpeg -i [\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d] -vcodec libx264 -vb [\u52d5\u753b\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] -r [\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8] -x264opts no-scenecut -g [\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694] -acodec libfaac -ac 2 -ab [\u97f3\u58f0\u306e\u30d3\u30c3\u30c8\u30ec\u30fc\u30c8] -frag_duration [\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u306e\u6642\u9593\u9577] -movflags frag_keyframe+empty_moov [\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d.mp4]\n```\n\n\u30bb\u30b0\u30e1\u30f3\u30c8\u533a\u5207\u308a(\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8)\u306e\u6642\u9593\u9577\u3092\u6307\u5b9a\u3059\u308b`-frag_duration`\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001**\u30de\u30a4\u30af\u30ed\u79d2**\u3067\u6307\u5b9a\u3059\u308b\u70b9\u306b\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059(\u4f8b\u3048\u3070\u30015\u79d2\u306a\u30895000000)\u3002\n\n\u52d5\u753b(H.264)\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f(\u30a8\u30f3\u30b3\u30fc\u30c0\u3067\u3042\u308bx264\u304c)\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u306e\u4f4d\u7f6e\u3092\u30b7\u30fc\u30f3\u5207\u308a\u66ff\u3048\u306a\u3069\u306e\u7279\u5fb4\u5206\u6790\u3092\u7528\u3044\u3066\u52d5\u7684\u306b\u8abf\u6574\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001`-x264opts no-scenecut`\u3092\u6307\u5b9a\u3057\u3066\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694\u3092\u56fa\u5b9a\u306b\u3057\u307e\u3059\u3002\n\n\u305d\u306e\u4e0a\u3067\u3001[\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u306e\u6642\u9593\u9577] \u00d7 [\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8] \u00f7 [\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694]\u304c\u6574\u6570\u306b\u306a\u308b\u3088\u3046\u306b\u3001`frag_duration`\u3068`-g`\u3092\u8abf\u6574\u3057\u307e\u3059\u3002(\u30ad\u30fc\u30d5\u30ec\u30fc\u30e0\u9593\u9694\u3092\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u3068\u540c\u3058\u304b\u3001\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u306e\u534a\u5206\u304f\u3089\u3044\u306b\u3057\u3066\u304a\u304f\u3068\u3088\u3044\u3067\u3057\u3087\u3046(\u4f8b: `-r 30 -g 15 -frag_duration 5000000`))\u3002\n\n\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u51fa\u529b\u3055\u308c\u305fMP4\u30d5\u30a1\u30a4\u30eb\u3092\u3001MP4Box\u3067MPEG-DASH\u5bfe\u5fdc\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n\n```bash\n$ MP4Box -dash [\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u306e\u6642\u9593\u9577] -frag-rap -profile ondemand [MP4\u30d5\u30a1\u30a4\u30eb\u540d]\n```\n\nMP4Box\u306e\u5834\u5408\u306f\u3001\u5909\u63db\u5f8c\u306e\u30d5\u30a1\u30a4\u30eb\u304c**[\u5143\u306e\u30d5\u30a1\u30a4\u30eb\u540d(\u62e1\u5f35\u5b50\u9664\u304f)]_dashinit.mp4**\u3068\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001DASH\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u7528\u306e\u8a18\u8ff0\u30d5\u30a1\u30a4\u30eb(MPD)\u304c**[\u5143\u306e\u30d5\u30a1\u30a4\u30eb\u540d(\u62e1\u5f35\u5b50\u9664\u304f)]_dash.mpd**\u3068\u3044\u3046\u540d\u524d\u306eXML\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u3001\u4f75\u305b\u3066\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u306e\u6642\u9593\u9577\u306f**\u30df\u30ea\u79d2**\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\u306a\u304a\u3001Media Source Extensions\u7b49\u3067\u4f7f\u3046\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3001\u521d\u671f\u5316\u30bb\u30b0\u30e1\u30f3\u30c8\u3068\u5404\u30e1\u30c7\u30a3\u30a2\u30bb\u30b0\u30e1\u30f3\u30c8\u3092\u5225\u30d5\u30a1\u30a4\u30eb\u306b\u5206\u5272\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```bash\n$ MP4Box -dash [\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u306e\u6642\u9593\u9577] -frag-rap -segment-name [\u30e1\u30c7\u30a3\u30a2\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u63a5\u982d\u8f9e] -profile ondemand [MP4\u30d5\u30a1\u30a4\u30eb\u540d]\n```\n\n\u3053\u306e\u6642\u3001\u5206\u5272\u3055\u308c\u305f\u30e1\u30c7\u30a3\u30a2\u30bb\u30b0\u30e1\u30f3\u30c8\u304c**[-segment-name\u3067\u6307\u5b9a\u3057\u305f\u63a5\u982d\u8f9e]_[\u9023\u756a].m4s**\u3001\u521d\u671f\u5316\u30bb\u30b0\u30e1\u30f3\u30c8\u304c**[-segment-name\u3067\u6307\u5b9a\u3057\u305f\u63a5\u982d\u8f9e]_init.mp4**\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\u306a\u304a\u3001MPD\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u306f\u4e0a\u8a18\u3068\u540c\u69d8\u3067\u3059(\u3059\u306a\u308f\u3061\u3001`-segment-name`\u3067MPD\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u304c\u5909\u308f\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093)\u3002\n", "tags": ["ffmpeg", "HTML5", "HTML"]}