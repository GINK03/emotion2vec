{"context": " More than 1 year has passed since last update.\u30a8\u30e9\u30fc\u30ed\u30b0\u3068\u304b\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u529b\u3055\u308c\u305f\u6642\u306b\nIRC\u3068\u304b\u3067\u305d\u306e\u66f4\u65b0\u3055\u308c\u305f\u5185\u5bb9\u3092\u901a\u77e5\u3059\u308b\u30c8\u30ea\u30ac\u30fc\u306b\u306a\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30ab\u30b8\u30e5\u30a2\u30eb\u306b\u66f8\u304d\u307e\u3057\u305f\u3002\ncron\u3067\u52d5\u304b\u3059\u524d\u63d0\u3067\u3001\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\u3092\n/tmp/app-error-check.log \u306b\u7a81\u3063\u8fbc\u3093\u3067\n\u73fe\u5728\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\u5024\u3068\u6bd4\u8f03\u3057\u3066\n\u5dee\u304c\u3042\u308c\u3070IRC\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u901a\u77e5\u3059\u308b\u3082\u306e\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\u901a\u77e5\u81ea\u4f53\u306f\u793e\u5185\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u306e\u3067\n\u3053\u3053\u3067\u306f\u5074\u3060\u3051\u3092\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\nfluent-log-check.sh\n#!/bin/sh\n\nDATE=`date +%Y%m%d-%H`\nFILE=\"FILE PATH\"\n\n##### \u53e4\u3044checksum\u60c5\u5831\u306e\u53d6\u5f97\nif [ ! -f /tmp/app-error-check.log ] ; then\n     ### \u53e4\u3044checksum\u3092\u683c\u7d0d\u3057\u3066\u308b\u30d5\u30a1\u30a4\u30eb\u304c\u306a\u3044\u3088\u306e\u901a\u77e5\u51e6\u7406 ###\n    echo ${CHECK_SUM} > /tmp/app-error-check.log\n    exit\nfi\n\nOLD_SUM=`cat /tmp/app-error-check.log`\n\n\n##### \u65e2\u5b58\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306echecksum\u3092\u53d6\u5f97\nCHECK_SUM=`md5sum ${FILE}| cut -d \" \" -f 1`\n\n\n##### \u30c7\u30d0\u30c3\u30b0\u7528\n# echo \"${CHECK_SUM}\"\n# echo \"${OLD_SUM}\"\n\n\n##### checksum\u306e\u5dee\u5206\u3092\u78ba\u8a8d ###\nif [ \"$OLD_SUM\" != \"$CHECK_SUM\" ] ; then\n    # \u30ed\u30b0\u304c\u66f4\u65b0\u3055\u308c\u3066\u308b\u3088\u3068\u3044\u3046\u901a\u77e5\u51e6\u7406 #\n    echo ${CHECK_SUM} > /tmp/app-error-check.log\nfi\n\n\n\u30a8\u30e9\u30fc\u30ed\u30b0\u3068\u304b\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u529b\u3055\u308c\u305f\u6642\u306b\nIRC\u3068\u304b\u3067\u305d\u306e\u66f4\u65b0\u3055\u308c\u305f\u5185\u5bb9\u3092\u901a\u77e5\u3059\u308b\u30c8\u30ea\u30ac\u30fc\u306b\u306a\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30ab\u30b8\u30e5\u30a2\u30eb\u306b\u66f8\u304d\u307e\u3057\u305f\u3002\n\ncron\u3067\u52d5\u304b\u3059\u524d\u63d0\u3067\u3001\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\u3092\n ***/tmp/app-error-check.log*** \u306b\u7a81\u3063\u8fbc\u3093\u3067\n\u73fe\u5728\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\u5024\u3068\u6bd4\u8f03\u3057\u3066\n\u5dee\u304c\u3042\u308c\u3070IRC\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u901a\u77e5\u3059\u308b\u3082\u306e\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\n\u901a\u77e5\u81ea\u4f53\u306f\u793e\u5185\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u306e\u3067\n\u3053\u3053\u3067\u306f\u5074\u3060\u3051\u3092\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\n````fluent-log-check.sh\n#!/bin/sh\n\nDATE=`date +%Y%m%d-%H`\nFILE=\"FILE PATH\"\n\n##### \u53e4\u3044checksum\u60c5\u5831\u306e\u53d6\u5f97\nif [ ! -f /tmp/app-error-check.log ] ; then\n     ### \u53e4\u3044checksum\u3092\u683c\u7d0d\u3057\u3066\u308b\u30d5\u30a1\u30a4\u30eb\u304c\u306a\u3044\u3088\u306e\u901a\u77e5\u51e6\u7406 ###\n    echo ${CHECK_SUM} > /tmp/app-error-check.log\n    exit\nfi\n\nOLD_SUM=`cat /tmp/app-error-check.log`\n\n\n##### \u65e2\u5b58\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306echecksum\u3092\u53d6\u5f97\nCHECK_SUM=`md5sum ${FILE}| cut -d \" \" -f 1`\n\n\n##### \u30c7\u30d0\u30c3\u30b0\u7528\n# echo \"${CHECK_SUM}\"\n# echo \"${OLD_SUM}\"\n\n\n##### checksum\u306e\u5dee\u5206\u3092\u78ba\u8a8d ###\nif [ \"$OLD_SUM\" != \"$CHECK_SUM\" ] ; then\n    # \u30ed\u30b0\u304c\u66f4\u65b0\u3055\u308c\u3066\u308b\u3088\u3068\u3044\u3046\u901a\u77e5\u51e6\u7406 #\n    echo ${CHECK_SUM} > /tmp/app-error-check.log\nfi\n````", "tags": ["ShellScript", "fluentd"]}