{"context": " More than 1 year has passed since last update.EventStore\u306fappend-only database\u306e\u4e00\u7a2e\u3067\u3001\u30c9\u30e1\u30a4\u30f3\u30a4\u30d9\u30f3\u30c8\u3092\u84c4\u7a4d\u3059\u308b\u305f\u3081\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u3042\u308b\u3002\u30a4\u30d9\u30f3\u30c8\u306f\u8ffd\u52a0(append)\u3060\u3051\u3067\u304d\u3001\u4e00\u65e6\u8ffd\u52a0\u3057\u305f\u30a4\u30d9\u30f3\u30c8\u306f\u5909\u66f4\u30fb\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u306b\u84c4\u7a4d\u3055\u308c\u305f\u60c5\u5831\u3092\u3082\u3068\u306b\u3001\u8aad\u307f\u53d6\u308a\u5c02\u7528\u306e\u305f\u3081\u306e\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb\u3067\u3042\u308b\u30ea\u30fc\u30c9\u30e2\u30c7\u30eb(read model)\u3084\u30af\u30a8\u30ea\u30fc\u30e2\u30c7\u30eb(query model)\u3092\u4f5c\u308b\u3053\u3068\u3092\u3001\u30a4\u30d9\u30f3\u30c8\u30bd\u30fc\u30b7\u30f3\u30b0(event sourcing)\u3068\u8a00\u3046\u3002\n\n\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306fEventStore\u3092Microservices\u3068\u3057\u3066\u63d0\u4f9b\u3059\u308b\u3053\u3068\u3092\u5ff5\u982d\u306b\u3001\u305d\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u5b9f\u88c5\u3059\u308b\u3067\u3042\u308d\u3046RESTful API\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u691c\u8a0e\u3059\u308b\u3082\u306e\u3060\u3002\u307e\u3060\u672a\u78ba\u5b9a\u306e\u90e8\u5206\u304c\u3042\u308b\u3002\u3054\u6307\u6458\u306a\u3069\u304c\u3042\u308c\u3070\u6b53\u8fce\u3002\n\u5404URL\u306e/stores/:store_name\u306f\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u306eEventStore\u3092\u5b9f\u88c5\u3059\u308b\u5834\u5408\u306b\u5fc5\u8981\u306b\u306a\u308b\u3067\u3042\u308d\u3046\u540d\u524d\u7a7a\u9593\u3060\u3002\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u3092\u5b9f\u88c5\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u3053\u306e\u968e\u5c64\u306f\u4e0d\u8981\u306b\u306a\u308b\u3002\n\n\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\nPUT /stores/:store_name/streams/:stream_name\n\n\nInput\nJSON\u5f62\u5f0f\n\n\n\nName\nType\nDescription\n\n\n\n\nevent_type\nstring\n\nRequired. \u30a4\u30d9\u30f3\u30c8\u306e\u578b\u3002\n\n\nstream_version\nint\n\nRequired. \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3002\u697d\u89b3\u30ed\u30c3\u30af\u306e\u30c1\u30a7\u30c3\u30af\u306b\u4f7f\u3046\u3002\n\n\nbody\nstring\n\nRequired. \u30a4\u30d9\u30f3\u30c8\u306e\u4e2d\u8eab\u3002\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3042\u308c\u3070\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u305f\u3082\u306e\u3002\n\n\nsha1\nstring\n\nRequired. body\u306e\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\u3002\n\n\n\n\nResponse\nHTTP/1.1 204 No Content\n\n\nErrors\n\n\n\nStatus\nCode\nDescription\n\n\n\n\n400 Bad Request\nmissing_field\n\u5fc5\u9808\u306e\u5165\u529b\u304c\u306a\u3044\u3068\u304d\u3002\n\n\n400 Bad Request\nstream_version.must_be_numeric\n\nstream_version\u304c\u6b63\u306e\u6574\u6570\u3067\u306a\u3044\u3068\u304d\u3002\n\n\n400 Bad Request\nchecksum.did_not_match\n\nchecksum\u306e\u5024\u304c\u4e00\u81f4\u3057\u306a\u304b\u3063\u305f\u3068\u304d\u3002\n\n\n409 Conflict\nstream_version.conflict\n\u4e0e\u3048\u3089\u308c\u305fstream_version\u304c\u540c\u4e00\u306e\u30a4\u30d9\u30f3\u30c8\u304c\u65e2\u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3068\u304d\u3002\u307e\u305f\u306f\u3001\u4e0e\u3048\u3089\u308c\u305fstream_version\u304c\u9023\u756a\u3067\u306a\u3044\u3068\u304d\u3002\u3064\u307e\u308a\u3001\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u6700\u65b0\u306e\u30a4\u30d9\u30f3\u30c8\u306estream_version+1\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u306estream_version\u3068\u540c\u4e00\u3067\u306a\u3044\u3068\u304d\u3002\n\n\n\n\n\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u53d6\u5f97\u3059\u308b\nGET /stores/:store_name/streams/:stream_name\n\n\nInput\n\u30af\u30a8\u30ea\u30fc\u30b9\u30c8\u30ea\u30f3\u30b0\n\n\n\nName\nType\nDescription\n\n\n\n\nsince\nint\n\u30a4\u30d9\u30f3\u30c8ID\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u305d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u4ee5\u964d\u306e\u30a4\u30d9\u30f3\u30c8\u306e\u307f\u304c\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u306a\u308b\u3002\n\n\n\n\nResponse\n\u30b9\u30c8\u30ea\u30fc\u30e0\u5168\u4f53\u3092JSON\u3068\u3057\u3066\u8fd4\u3059\u3068\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f\u5168\u3066\u53d7\u3051\u53d6\u3063\u3066\u304b\u3089\u51e6\u7406\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002Server-sent events(SSE)\u3084 Multipart\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u3059\u308b\u3088\u3046\u306b\u5b9f\u88c5\u3059\u308b\u3068\u3001\u9010\u6b21\u51e6\u7406\u304c\u3067\u304d\u308b\u306e\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u512a\u3057\u3044\u3002\nSSE\u3068Multipart\u306e\u4e21\u65b9\u3092\u5b9f\u88c5\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001Accept\u30d8\u30c3\u30c0\u30fc\u3092\u898b\u3066\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u5185\u5bb9\u3092\u5909\u3048\u308b\u65b9\u6cd5\u304c\u3042\u308b\u3002\n\nSSE\u3067\u307b\u3057\u3044\u3068\u304d\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u30d8\u30c3\u30c0\nAccept: text/event-stream\n\n\n\nHeaders\n\n\n\nName\nType\nDescription\n\n\n\n\nStream-Name\nstring\n\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u540d\u3002\n\n\nStream-Version\nint\n\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u30d0\u30fc\u30b8\u30e7\u30f3\u3002\n\n\n\n\nBody\n\n\n\nName(SSE)\nName(Multipart)\nType\nDescription\n\n\n\n\nid\n\u5404\u30d1\u30fc\u30c8\u306eEvent-Id\u30d8\u30c3\u30c0\nint\n\u30a4\u30d9\u30f3\u30c8ID\u3002\n\n\nevent\n\u5404\u30d1\u30fc\u30c8\u306eEvent-Type\u30d8\u30c3\u30c0\nstring\n\u30a4\u30d9\u30f3\u30c8\u306e\u578b\u3002\n\n\ndata\n\u5404\u30d1\u30fc\u30c8\u306eBody\u90e8\u5206\nstring\n\u30a4\u30d9\u30f3\u30c8\u306e\u4e2d\u8eab\u3002\n\n\n\n\nServer-sent events\u306e\u4f8b\nHTTP/1.1 200 OK\nCache-Control: no-cache\nContent-Type: text/event-stream\nTransfer-Encoding: chunked\nStream-Name: 9dced0a4-2727-4e9a-ae65-378135c06565\nStream-Version: 2\n\nid: 60\nevent: PostCreated\ndata: {\ndata:   \"post_id\": \"9dced0a4-2727-4e9a-ae65-378135c06565\",\ndata:   \"title\": \"\u30c6\u30b9\u30c8\",\ndata:   \"created_by\": 72,\ndata:   \"occurred_on\": \"2014-11-18T12:07:15Z\"\ndata: }\n\nid: 87\nevent: TitleChanged\ndata: {\ndata:   \"post_id\": \"9dced0a4-2727-4e9a-ae65-378135c06565\",\ndata:   \"title\": \"\u30bf\u30a4\u30c8\u30eb\u5909\u66f4\",\ndata:   \"occurred_on\": \"2014-11-18T15:22:44Z\"\ndata: }\n\n\n\nMultipart\u306e\u4f8b\nHTTP/1.1 200 OK\nContent-Length: 26814\nContent-Type: multipart/mixed; boundary=t9bhpX6qJvUDzk7X6Acsf4TX\nStream-Name: 9dced0a4-2727-4e9a-ae65-378135c06565\nStream-Version: 2\n\n--t9bhpX6qJvUDzk7X6Acsf4TX\n\nEvent-ID: 60\nEvent-Type: PostCreated\nContent-Type: application/json; charset=UTF-8\n\n{\n  \"post_id\": \"9dced0a4-2727-4e9a-ae65-378135c06565\",\n  \"title\": \"\u30c6\u30b9\u30c8\",\n  \"created_by\": 72,\n  \"occurred_on\": \"2014-11-18T12:07:15Z\"\n}\n\n--t9bhpX6qJvUDzk7X6Acsf4TX\n\nEvent-ID: 60\nEvent-Type: TitleChanged\nContent-Type: application/json; charset=UTF-8\n\n{\n  \"post_id\": \"9dced0a4-2727-4e9a-ae65-378135c06565\",\n  \"title\": \"\u30bf\u30a4\u30c8\u30eb\u5909\u66f4\",\n  \"occurred_on\": \"2014-11-18T15:22:44Z\"\n}\n\n--t9bhpX6qJvUDzk7X6Acsf4TX--\n\n\n\nErrors\n\n\n\nStatus\nCode\nDescription\n\n\n\n\n404 Not Found\nmissing\n\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3002\u3064\u307e\u308a\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u3072\u3068\u3064\u3082\u306a\u3044\u30b9\u30c8\u30ea\u30fc\u30e0\u306b\u3064\u3044\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u305f\u3068\u304d\u3002\n\n\n\n\n\u30a4\u30d9\u30f3\u30c8\u5168\u4f53\u3092\u53d6\u5f97\u3059\u308b\nGET /stores/:store_name/events\n\n\nInput\n\u30af\u30a8\u30ea\u30fc\u30b9\u30c8\u30ea\u30f3\u30b0\n\n\n\nName\nType\nDescription\n\n\n\n\nsince\nint\n\u30a4\u30d9\u30f3\u30c8ID\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u305d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u4ee5\u964d\u306e\u30a4\u30d9\u30f3\u30c8\u306e\u307f\u304c\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u306a\u308b\u3002\n\n\n\n\nResponse\n\u307e\u3060\u30a4\u30d9\u30f3\u30c8\u304c\u3072\u3068\u3064\u3082\u306a\u3044\u3068\u304d\u3067\u3082\u3001404\u306b\u306f\u306a\u3089\u306a\u3044\u3002\n\nBody\n\n\n\nName(SSE)\nName(Multipart)\nType\nDescription\n\n\n\n\nid\n\u5404\u30d1\u30fc\u30c8\u306eEvent-Id\u30d8\u30c3\u30c0\nint\n\u30a4\u30d9\u30f3\u30c8ID\u3002\n\n\nevent\n\u5404\u30d1\u30fc\u30c8\u306eEvent-Type\u30d8\u30c3\u30c0\nstring\n\u30a4\u30d9\u30f3\u30c8\u306e\u578b\u3002\n\n\ndata\n\u5404\u30d1\u30fc\u30c8\u306eBody\u90e8\u5206\nstring\n\u30a4\u30d9\u30f3\u30c8\u306e\u4e2d\u8eab\u3002\n\n\n\n\nServer-sent events\u306e\u4f8b\nHTTP/1.1 200 OK\nCache-Control: no-cache\nContent-Type: text/event-stream\nTransfer-Encoding: chunked\n\nid: 60\nevent: PostCreated\ndata: {\ndata:   \"post_id\": \"9dced0a4-2727-4e9a-ae65-378135c06565\",\ndata:   \"title\": \"\u30c6\u30b9\u30c8\",\ndata:   \"created_by\": 72,\ndata:   \"occurred_on\": \"2014-11-18T12:07:15Z\"\ndata: }\n\nid: 61\nevent: PostCreated\ndata: {\ndata:   \"post_id\": \"c85848e8-3223-444f-9305-b07ea10000f7\",\ndata:   \"title\": \"\u30c6\u30b9\u30c8\",\ndata:   \"created_by\": 43,\ndata:   \"occurred_on\": \"2014-11-18T12:11:23Z\"\ndata: }\n\nid: 62\nevent: PostDeleted\ndata: {\ndata:   \"post_id\": \"c679ca51-3a70-4a37-8a62-42b88e5f9c02\",\ndata:   \"occurred_on\": \"2014-11-18T13:40:16Z\"\ndata: }\n\n\n\nMultipart\u306e\u4f8b\nHTTP/1.1 200 OK\nContent-Length: 26814\nContent-Type: multipart/mixed; boundary=t9bhpX6qJvUDzk7X6Acsf4TX\n\n--t9bhpX6qJvUDzk7X6Acsf4TX\n\nEvent-ID: 60\nEvent-Type: PostCreated\nContent-Type: application/json; charset=UTF-8\n\n{\n  \"post_id\": \"9dced0a4-2727-4e9a-ae65-378135c06565\",\n  \"title\": \"\u30c6\u30b9\u30c8\",\n  \"created_by\": 72,\n  \"occurred_on\": \"2014-11-18T12:07:15Z\"\n}\n\n--t9bhpX6qJvUDzk7X6Acsf4TX\n\nEvent-ID: 61\nEvent-Type: PostCreated\nContent-Type: application/json; charset=UTF-8\n\n{\n  \"post_id\": \"c85848e8-3223-444f-9305-b07ea10000f7\",\n  \"title\": \"\u30c6\u30b9\u30c8\",\n  \"created_by\": 43,\n  \"occurred_on\": \"2014-11-18T12:11:23Z\"\n}\n\n--t9bhpX6qJvUDzk7X6Acsf4TX\n\nEvent-ID: 62\nEvent-Type: PostDeleted\nContent-Type: application/json; charset=UTF-8\n{\n  \"post_id\": \"c679ca51-3a70-4a37-8a62-42b88e5f9c02\",\n  \"occurred_on\": \"2014-11-18T13:40:16Z\"\n}\n\n--pX6qJvUDzk7X6Acsf4TX--\n\n\n\n\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u3092\u7a7a\u3063\u307d\u306b\u3059\u308b (\u7ba1\u7406\u7528)\nPOST /stores/:store_name/purge\n\n\nResponse\nHTTP/1.1 204 No Content\n\n\n\u30b9\u30c8\u30ea\u30fc\u30e0\u304c\u5b58\u5728\u3059\u308b\u304b\uff1f\nHEAD /stores/:store_name/streams/:stream_name\n\n\nResponse\ntodo\n\n\u30b9\u30c8\u30ea\u30fc\u30e0\u4e00\u89a7 (\u7ba1\u7406\u7528)\nGET /stores/:store_name/streams\n\n\nResponse\ntodo\n\n\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u3092\u4f5c\u308b (\u7ba1\u7406\u7528)\nPOST /stores\n\n\nInput\nJSON\u5f62\u5f0f\n\n\n\nName\nType\nDescription\n\n\n\n\nstore_name\nstring\n\nRequired. \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u540d\u3002\n\n\n\n\nResponse\ntodo\n\n\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u4e00\u89a7 (\u7ba1\u7406\u7528)\nGET /stores\n\n\nResponse\ntodo\n\n??? (\u7ba1\u7406\u7528)\nGET /stores/:store_name\n\n\nResponse\ntodo\n\n\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u540d\u3092\u5909\u66f4\u3059\u308b (\u7ba1\u7406\u7528)\ntodo\n\n\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u3092\u524a\u9664\u3059\u308b (\u7ba1\u7406\u7528)\nDELETE /stores/:store_name\n\n\nEventStore\u306fappend-only database\u306e\u4e00\u7a2e\u3067\u3001\u30c9\u30e1\u30a4\u30f3\u30a4\u30d9\u30f3\u30c8\u3092\u84c4\u7a4d\u3059\u308b\u305f\u3081\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u3042\u308b\u3002\u30a4\u30d9\u30f3\u30c8\u306f\u8ffd\u52a0(append)\u3060\u3051\u3067\u304d\u3001\u4e00\u65e6\u8ffd\u52a0\u3057\u305f\u30a4\u30d9\u30f3\u30c8\u306f\u5909\u66f4\u30fb\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u306b\u84c4\u7a4d\u3055\u308c\u305f\u60c5\u5831\u3092\u3082\u3068\u306b\u3001\u8aad\u307f\u53d6\u308a\u5c02\u7528\u306e\u305f\u3081\u306e\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb\u3067\u3042\u308b\u30ea\u30fc\u30c9\u30e2\u30c7\u30eb(read model)\u3084\u30af\u30a8\u30ea\u30fc\u30e2\u30c7\u30eb(query model)\u3092\u4f5c\u308b\u3053\u3068\u3092\u3001\u30a4\u30d9\u30f3\u30c8\u30bd\u30fc\u30b7\u30f3\u30b0(event sourcing)\u3068\u8a00\u3046\u3002\n\n![](https://qiita-image-store.s3.amazonaws.com/0/889/ad4960df-6b18-f0ba-5c47-783f69bba562.png)\n\n\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306fEventStore\u3092Microservices\u3068\u3057\u3066\u63d0\u4f9b\u3059\u308b\u3053\u3068\u3092\u5ff5\u982d\u306b\u3001\u305d\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u5b9f\u88c5\u3059\u308b\u3067\u3042\u308d\u3046RESTful API\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u691c\u8a0e\u3059\u308b\u3082\u306e\u3060\u3002\u307e\u3060\u672a\u78ba\u5b9a\u306e\u90e8\u5206\u304c\u3042\u308b\u3002\u3054\u6307\u6458\u306a\u3069\u304c\u3042\u308c\u3070\u6b53\u8fce\u3002\n\n\u5404URL\u306e`/stores/:store_name `\u306f\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u306eEventStore\u3092\u5b9f\u88c5\u3059\u308b\u5834\u5408\u306b\u5fc5\u8981\u306b\u306a\u308b\u3067\u3042\u308d\u3046\u540d\u524d\u7a7a\u9593\u3060\u3002\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u3092\u5b9f\u88c5\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u3053\u306e\u968e\u5c64\u306f\u4e0d\u8981\u306b\u306a\u308b\u3002\n\n## \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\n\n```\nPUT /stores/:store_name/streams/:stream_name\n```\n\n### Input\n\nJSON\u5f62\u5f0f\n\nName | Type | Description\n-----|------|-------------\n`event_type` | `string` | **Required**. \u30a4\u30d9\u30f3\u30c8\u306e\u578b\u3002\n`stream_version` | `int` | **Required**. \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3002\u697d\u89b3\u30ed\u30c3\u30af\u306e\u30c1\u30a7\u30c3\u30af\u306b\u4f7f\u3046\u3002\n`body` | `string` | **Required**. \u30a4\u30d9\u30f3\u30c8\u306e\u4e2d\u8eab\u3002\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3042\u308c\u3070\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u305f\u3082\u306e\u3002\n`sha1` | `string` | **Required**. `body`\u306e\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\u3002\n\n### Response\n\n```http\nHTTP/1.1 204 No Content\n```\n\n### Errors\n\nStatus | Code | Description\n-------|------|--------------\n`400 Bad Request` | `missing_field` | \u5fc5\u9808\u306e\u5165\u529b\u304c\u306a\u3044\u3068\u304d\u3002\n`400 Bad Request` | `stream_version.must_be_numeric` | `stream_version`\u304c\u6b63\u306e\u6574\u6570\u3067\u306a\u3044\u3068\u304d\u3002\n`400 Bad Request` | `checksum.did_not_match` |  `checksum`\u306e\u5024\u304c\u4e00\u81f4\u3057\u306a\u304b\u3063\u305f\u3068\u304d\u3002\n`409 Conflict` | `stream_version.conflict` | \u4e0e\u3048\u3089\u308c\u305f`stream_version`\u304c\u540c\u4e00\u306e\u30a4\u30d9\u30f3\u30c8\u304c\u65e2\u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3068\u304d\u3002\u307e\u305f\u306f\u3001\u4e0e\u3048\u3089\u308c\u305f`stream_version`\u304c\u9023\u756a\u3067\u306a\u3044\u3068\u304d\u3002\u3064\u307e\u308a\u3001\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u6700\u65b0\u306e\u30a4\u30d9\u30f3\u30c8\u306e`stream_version`+1\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u306e`stream_version`\u3068\u540c\u4e00\u3067\u306a\u3044\u3068\u304d\u3002\n\n## \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u53d6\u5f97\u3059\u308b\n\n```\nGET /stores/:store_name/streams/:stream_name\n```\n\n### Input\n\n\u30af\u30a8\u30ea\u30fc\u30b9\u30c8\u30ea\u30f3\u30b0\n\nName | Type | Description\n-----|------|-------------\n`since` | `int` | \u30a4\u30d9\u30f3\u30c8ID\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u305d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u4ee5\u964d\u306e\u30a4\u30d9\u30f3\u30c8\u306e\u307f\u304c\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u306a\u308b\u3002\n\n### Response\n\n\u30b9\u30c8\u30ea\u30fc\u30e0\u5168\u4f53\u3092JSON\u3068\u3057\u3066\u8fd4\u3059\u3068\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f\u5168\u3066\u53d7\u3051\u53d6\u3063\u3066\u304b\u3089\u51e6\u7406\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002Server-sent events(SSE)\u3084 Multipart\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u3059\u308b\u3088\u3046\u306b\u5b9f\u88c5\u3059\u308b\u3068\u3001\u9010\u6b21\u51e6\u7406\u304c\u3067\u304d\u308b\u306e\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u512a\u3057\u3044\u3002\n\nSSE\u3068Multipart\u306e\u4e21\u65b9\u3092\u5b9f\u88c5\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001`Accept`\u30d8\u30c3\u30c0\u30fc\u3092\u898b\u3066\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u5185\u5bb9\u3092\u5909\u3048\u308b\u65b9\u6cd5\u304c\u3042\u308b\u3002\n\n```http:SSE\u3067\u307b\u3057\u3044\u3068\u304d\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u30d8\u30c3\u30c0\nAccept: text/event-stream\n```\n\n#### Headers\n\nName | Type | Description\n-----|------|-------------\n`Stream-Name` | `string` | \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u540d\u3002\n`Stream-Version` | `int` | \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u30d0\u30fc\u30b8\u30e7\u30f3\u3002\n\n\n#### Body\n\nName(SSE) | Name(Multipart) | Type | Description\n----------|-----------------|------|-------------\n`id` | \u5404\u30d1\u30fc\u30c8\u306e`Event-Id`\u30d8\u30c3\u30c0 | `int` | \u30a4\u30d9\u30f3\u30c8ID\u3002\n`event` | \u5404\u30d1\u30fc\u30c8\u306e`Event-Type`\u30d8\u30c3\u30c0 | `string` | \u30a4\u30d9\u30f3\u30c8\u306e\u578b\u3002\n`data` | \u5404\u30d1\u30fc\u30c8\u306eBody\u90e8\u5206 | `string` | \u30a4\u30d9\u30f3\u30c8\u306e\u4e2d\u8eab\u3002\n\n#### Server-sent events\u306e\u4f8b\n\n```http\nHTTP/1.1 200 OK\nCache-Control: no-cache\nContent-Type: text/event-stream\nTransfer-Encoding: chunked\nStream-Name: 9dced0a4-2727-4e9a-ae65-378135c06565\nStream-Version: 2\n\nid: 60\nevent: PostCreated\ndata: {\ndata:   \"post_id\": \"9dced0a4-2727-4e9a-ae65-378135c06565\",\ndata:   \"title\": \"\u30c6\u30b9\u30c8\",\ndata:   \"created_by\": 72,\ndata:   \"occurred_on\": \"2014-11-18T12:07:15Z\"\ndata: }\n\nid: 87\nevent: TitleChanged\ndata: {\ndata:   \"post_id\": \"9dced0a4-2727-4e9a-ae65-378135c06565\",\ndata:   \"title\": \"\u30bf\u30a4\u30c8\u30eb\u5909\u66f4\",\ndata:   \"occurred_on\": \"2014-11-18T15:22:44Z\"\ndata: }\n\n```\n\n#### Multipart\u306e\u4f8b\n\n```http\nHTTP/1.1 200 OK\nContent-Length: 26814\nContent-Type: multipart/mixed; boundary=t9bhpX6qJvUDzk7X6Acsf4TX\nStream-Name: 9dced0a4-2727-4e9a-ae65-378135c06565\nStream-Version: 2\n\n--t9bhpX6qJvUDzk7X6Acsf4TX\n\nEvent-ID: 60\nEvent-Type: PostCreated\nContent-Type: application/json; charset=UTF-8\n\n{\n  \"post_id\": \"9dced0a4-2727-4e9a-ae65-378135c06565\",\n  \"title\": \"\u30c6\u30b9\u30c8\",\n  \"created_by\": 72,\n  \"occurred_on\": \"2014-11-18T12:07:15Z\"\n}\n\n--t9bhpX6qJvUDzk7X6Acsf4TX\n\nEvent-ID: 60\nEvent-Type: TitleChanged\nContent-Type: application/json; charset=UTF-8\n\n{\n  \"post_id\": \"9dced0a4-2727-4e9a-ae65-378135c06565\",\n  \"title\": \"\u30bf\u30a4\u30c8\u30eb\u5909\u66f4\",\n  \"occurred_on\": \"2014-11-18T15:22:44Z\"\n}\n\n--t9bhpX6qJvUDzk7X6Acsf4TX--\n\n```\n\n### Errors\n\nStatus | Code | Description\n-------|------|--------------\n`404 Not Found` | `missing` | \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3002\u3064\u307e\u308a\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u3072\u3068\u3064\u3082\u306a\u3044\u30b9\u30c8\u30ea\u30fc\u30e0\u306b\u3064\u3044\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u305f\u3068\u304d\u3002\n\n## \u30a4\u30d9\u30f3\u30c8\u5168\u4f53\u3092\u53d6\u5f97\u3059\u308b\n\n```\nGET /stores/:store_name/events\n```\n\n### Input\n\n\u30af\u30a8\u30ea\u30fc\u30b9\u30c8\u30ea\u30f3\u30b0\n\nName | Type | Description\n-----|------|-------------\n`since` | `int` | \u30a4\u30d9\u30f3\u30c8ID\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u305d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u4ee5\u964d\u306e\u30a4\u30d9\u30f3\u30c8\u306e\u307f\u304c\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u306a\u308b\u3002\n\n### Response\n\n\u307e\u3060\u30a4\u30d9\u30f3\u30c8\u304c\u3072\u3068\u3064\u3082\u306a\u3044\u3068\u304d\u3067\u3082\u3001`404`\u306b\u306f\u306a\u3089\u306a\u3044\u3002\n\n#### Body\n\nName(SSE) | Name(Multipart) | Type | Description\n----------|-----------------|------|-------------\n`id` | \u5404\u30d1\u30fc\u30c8\u306e`Event-Id`\u30d8\u30c3\u30c0 | `int` | \u30a4\u30d9\u30f3\u30c8ID\u3002\n`event` | \u5404\u30d1\u30fc\u30c8\u306e`Event-Type`\u30d8\u30c3\u30c0 | `string` | \u30a4\u30d9\u30f3\u30c8\u306e\u578b\u3002\n`data` | \u5404\u30d1\u30fc\u30c8\u306eBody\u90e8\u5206 | `string` | \u30a4\u30d9\u30f3\u30c8\u306e\u4e2d\u8eab\u3002\n\n#### Server-sent events\u306e\u4f8b\n\n```http\nHTTP/1.1 200 OK\nCache-Control: no-cache\nContent-Type: text/event-stream\nTransfer-Encoding: chunked\n\nid: 60\nevent: PostCreated\ndata: {\ndata:   \"post_id\": \"9dced0a4-2727-4e9a-ae65-378135c06565\",\ndata:   \"title\": \"\u30c6\u30b9\u30c8\",\ndata:   \"created_by\": 72,\ndata:   \"occurred_on\": \"2014-11-18T12:07:15Z\"\ndata: }\n\nid: 61\nevent: PostCreated\ndata: {\ndata:   \"post_id\": \"c85848e8-3223-444f-9305-b07ea10000f7\",\ndata:   \"title\": \"\u30c6\u30b9\u30c8\",\ndata:   \"created_by\": 43,\ndata:   \"occurred_on\": \"2014-11-18T12:11:23Z\"\ndata: }\n\nid: 62\nevent: PostDeleted\ndata: {\ndata:   \"post_id\": \"c679ca51-3a70-4a37-8a62-42b88e5f9c02\",\ndata:   \"occurred_on\": \"2014-11-18T13:40:16Z\"\ndata: }\n\n```\n\n#### Multipart\u306e\u4f8b\n\n```http\nHTTP/1.1 200 OK\nContent-Length: 26814\nContent-Type: multipart/mixed; boundary=t9bhpX6qJvUDzk7X6Acsf4TX\n\n--t9bhpX6qJvUDzk7X6Acsf4TX\n\nEvent-ID: 60\nEvent-Type: PostCreated\nContent-Type: application/json; charset=UTF-8\n\n{\n  \"post_id\": \"9dced0a4-2727-4e9a-ae65-378135c06565\",\n  \"title\": \"\u30c6\u30b9\u30c8\",\n  \"created_by\": 72,\n  \"occurred_on\": \"2014-11-18T12:07:15Z\"\n}\n\n--t9bhpX6qJvUDzk7X6Acsf4TX\n\nEvent-ID: 61\nEvent-Type: PostCreated\nContent-Type: application/json; charset=UTF-8\n\n{\n  \"post_id\": \"c85848e8-3223-444f-9305-b07ea10000f7\",\n  \"title\": \"\u30c6\u30b9\u30c8\",\n  \"created_by\": 43,\n  \"occurred_on\": \"2014-11-18T12:11:23Z\"\n}\n\n--t9bhpX6qJvUDzk7X6Acsf4TX\n\nEvent-ID: 62\nEvent-Type: PostDeleted\nContent-Type: application/json; charset=UTF-8\n{\n  \"post_id\": \"c679ca51-3a70-4a37-8a62-42b88e5f9c02\",\n  \"occurred_on\": \"2014-11-18T13:40:16Z\"\n}\n\n--pX6qJvUDzk7X6Acsf4TX--\n\n```\n\n## \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u3092\u7a7a\u3063\u307d\u306b\u3059\u308b (\u7ba1\u7406\u7528)\n\n```\nPOST /stores/:store_name/purge\n```\n\n### Response\n\n```http\nHTTP/1.1 204 No Content\n```\n\n## \u30b9\u30c8\u30ea\u30fc\u30e0\u304c\u5b58\u5728\u3059\u308b\u304b\uff1f\n\n```\nHEAD /stores/:store_name/streams/:stream_name\n```\n\n### Response\n\ntodo\n\n## \u30b9\u30c8\u30ea\u30fc\u30e0\u4e00\u89a7 (\u7ba1\u7406\u7528)\n\n\n```\nGET /stores/:store_name/streams\n```\n\n### Response\n\ntodo\n\n## \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u3092\u4f5c\u308b (\u7ba1\u7406\u7528)\n\n```\nPOST /stores\n```\n\n### Input\n\nJSON\u5f62\u5f0f\n\nName | Type | Description\n-----|------|-------------\n`store_name` | `string` | **Required**. \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u540d\u3002\n\n\n### Response\n\ntodo\n\n## \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u4e00\u89a7 (\u7ba1\u7406\u7528)\n\n```\nGET /stores\n```\n\n### Response\n\ntodo\n\n## ??? (\u7ba1\u7406\u7528)\n\n```\nGET /stores/:store_name\n```\n\n### Response\n\ntodo\n\n## \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u540d\u3092\u5909\u66f4\u3059\u308b (\u7ba1\u7406\u7528)\n\ntodo\n\n## \u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2\u3092\u524a\u9664\u3059\u308b (\u7ba1\u7406\u7528)\n\n```\nDELETE /stores/:store_name\n```\n\n\n", "tags": ["microservices", "EventStore", "EventSourcing", "Server-Sent-Events", "DDD"]}