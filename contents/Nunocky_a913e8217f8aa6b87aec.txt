{"context": " More than 1 year has passed since last update.\n\n\u89e3\u6c7a\u3057\u305f\u3044\u8ab2\u984c\n\u3042\u308bdylib\u3092\u4f7f\u7528\u3059\u308bCocoa\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3059\u308b\u969b\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u305d\u306edylib\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u304b\u5206\u304b\u3089\u306a\u3044\u306e\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306b\u30d0\u30f3\u30c9\u30eb\u3057\u3066\u63d0\u4f9b\u3057\u305f\u3044\n\u3053\u306e\u4f8b\u3067\u306f libusb-1.0.0.dylib\u3092\u30d0\u30f3\u30c9\u30eb\u3057\u305f\u6642\u306e\u65b9\u6cd5\u306b\u3064\u3044\u3066\u89e3\u8aac\u3059\u308b\n\n\u624b\u9806\n\ndylib\u3092\u30b3\u30d4\u30fc\nBuild Phase(Copy Files)\u3092\u8ffd\u52a0\nBuild Phase(Run Script)\u3092\u8ffd\u52a0\nLink Binary with Libraries\u306e\u5909\u66f4\n\n\ndylib\u3092\u30b3\u30d4\u30fc\nxcode\u306b libusb-1.0.0.dylib\u3092\u8ffd\u52a0\u3059\u308b\n\n\nBuild Phase(Copy Files)\u3092\u8ffd\u52a0\nTarget\u306e Build Phase\u3092\u4fee\u6b63\u3059\u308b\u3002 Editor \u2192 Add Build Phase \u2192 Add Copy Files Build Phase\n\u3053\u306ePhase\u306fLink Binary with Libraries\u306e\u4e0a\u306b\u7f6e\u304f\u3002\n* Destination: Shared Support\n* Subpath: \u7a7a\u767d\n* Copy only when installing: \u30c1\u30a7\u30c3\u30af\u306a\u3057\n\u30ea\u30b9\u30c8\u306b libusb-1.0.0.dylib\u3092\u8ffd\u52a0\u3002\n\n\nBuild Phase(Run Script)\u3092\u8ffd\u52a0\nEditor \u2192 Add Build Phase \u2192 Add  Run Script Build Phase\n\u3053\u306ePhase\u306f\u4e0a\u8ff0\u306e Copy Files Build Phase\u306e\u4e0b\u306b\u7f6e\u304f\u3002\n\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\u3053\u308c\u306f\u53c2\u8003\u306b\u3057\u305f\u30b5\u30a4\u30c8\u304b\u3089\u305d\u306e\u307e\u307e\u3002\n#!/bin/bash\n# In Xcode you actually enter the path for the shell\n# you want to use in a text field about the shell source.\n# So, !/bin/bash might not be necessary.\n\n# Space separated list of libraries.\n# Enter any dylibs you have in your Copy File Phase.\nTARGETS=(libusb-1.0.0.dylib)\n\nEXECFILE=${BUILT_PRODUCTS_DIR}/${EXECUTABLE_PATH}\nLIBPATH=${BUILT_PRODUCTS_DIR}/${SHARED_SUPPORT_FOLDER_PATH}\nNEWLIBPATH=@executable_path/../SharedSupport\n\nfor TARGET in ${TARGETS[@]} ; do\nLIBFILE=${LIBPATH}/${TARGET}\nTARGETID=`otool -DX \"${LIBPATH}/$TARGET\"`\nNEWTARGETID=${NEWLIBPATH}/${TARGET}\ninstall_name_tool -id \"${NEWTARGETID}\" \"${LIBFILE}\"\ninstall_name_tool -change ${TARGETID} ${NEWTARGETID} \"${EXECFILE}\"\ndone\n\n\nLink Binary with Libraries\u306e\u5909\u66f4\nlibusb-1.0.0.dylib\u3092\u8ffd\u52a0\u3059\u308b\u3002\u4eca\u56de\u306flibusb\u304c\u4f9d\u5b58\u3057\u3066\u3044\u308b IOKIT\u3082\u8ffd\u52a0\u3057\u3066\u3044\u308b\u3002\n\n\u6700\u7d42\u7684\u306a Build Phase\u306e\u9806\u756a\u306f\u3053\u3093\u306a\u611f\u3058\u306b\u3002\n\n\n\u5b8c\u6210\n\u3053\u308c\u3067\u30d0\u30f3\u30c9\u30eb\u3068\u30ea\u30f3\u30af\u306e\u4f5c\u696d\u306f\u5b8c\u6210\u3002libusb\u306eexample\u3092 AppDelegate\u306b\u5165\u308c\u3066\u52d5\u304b\u3057\u3066\u307f\u305f\u304c\u3061\u3083\u3093\u3068\u52d5\u3044\u3066\u3044\u308b\u3002\n\n\n\u6ce8\u610f\n\u30ea\u30ea\u30fc\u30b9\u6642\u306b\u306f\u30e9\u30a4\u30bb\u30f3\u30b9\u8868\u793a\u3092\u5fd8\u308c\u305a\u306b\u3002\n\n\u53c2\u8003\nhttp://chasingtrons.com/notes-to-self/2012/10/17/embedding-a-dynamic-library-in-a-cocoa-application.html\n# \u89e3\u6c7a\u3057\u305f\u3044\u8ab2\u984c\n\u3042\u308bdylib\u3092\u4f7f\u7528\u3059\u308bCocoa\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3059\u308b\u969b\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u305d\u306edylib\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u304b\u5206\u304b\u3089\u306a\u3044\u306e\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306b\u30d0\u30f3\u30c9\u30eb\u3057\u3066\u63d0\u4f9b\u3057\u305f\u3044\n\n\u3053\u306e\u4f8b\u3067\u306f libusb-1.0.0.dylib\u3092\u30d0\u30f3\u30c9\u30eb\u3057\u305f\u6642\u306e\u65b9\u6cd5\u306b\u3064\u3044\u3066\u89e3\u8aac\u3059\u308b\n\n# \u624b\u9806\n1. dylib\u3092\u30b3\u30d4\u30fc\n1. Build Phase(Copy Files)\u3092\u8ffd\u52a0\n1. Build Phase(Run Script)\u3092\u8ffd\u52a0\n1. Link Binary with Libraries\u306e\u5909\u66f4\n\n## dylib\u3092\u30b3\u30d4\u30fc\nxcode\u306b libusb-1.0.0.dylib\u3092\u8ffd\u52a0\u3059\u308b\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2013-11-13 12.05.20.png](https://qiita-image-store.s3.amazonaws.com/0/3847/9059fb34-76dd-8df7-c461-da2b1d97f3f7.png)\n\n## Build Phase(Copy Files)\u3092\u8ffd\u52a0\nTarget\u306e Build Phase\u3092\u4fee\u6b63\u3059\u308b\u3002 Editor \u2192 Add Build Phase \u2192 Add Copy Files Build Phase\n\u3053\u306ePhase\u306fLink Binary with Libraries\u306e\u4e0a\u306b\u7f6e\u304f\u3002\n* Destination: Shared Support\n* Subpath: \u7a7a\u767d\n* Copy only when installing: \u30c1\u30a7\u30c3\u30af\u306a\u3057\n\u30ea\u30b9\u30c8\u306b libusb-1.0.0.dylib\u3092\u8ffd\u52a0\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2013-11-13 12.05.42.png](https://qiita-image-store.s3.amazonaws.com/0/3847/1af9617c-bcb4-f583-6caa-320939b9540e.png)\n\n## Build Phase(Run Script)\u3092\u8ffd\u52a0\nEditor \u2192 Add Build Phase \u2192 Add  Run Script Build Phase\n\u3053\u306ePhase\u306f\u4e0a\u8ff0\u306e Copy Files Build Phase\u306e\u4e0b\u306b\u7f6e\u304f\u3002\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\u3053\u308c\u306f\u53c2\u8003\u306b\u3057\u305f\u30b5\u30a4\u30c8\u304b\u3089\u305d\u306e\u307e\u307e\u3002\n\n```bash \n#!/bin/bash\n# In Xcode you actually enter the path for the shell\n# you want to use in a text field about the shell source.\n# So, !/bin/bash might not be necessary.\n\n# Space separated list of libraries.\n# Enter any dylibs you have in your Copy File Phase.\nTARGETS=(libusb-1.0.0.dylib)\n\nEXECFILE=${BUILT_PRODUCTS_DIR}/${EXECUTABLE_PATH}\nLIBPATH=${BUILT_PRODUCTS_DIR}/${SHARED_SUPPORT_FOLDER_PATH}\nNEWLIBPATH=@executable_path/../SharedSupport\n\nfor TARGET in ${TARGETS[@]} ; do\nLIBFILE=${LIBPATH}/${TARGET}\nTARGETID=`otool -DX \"${LIBPATH}/$TARGET\"`\nNEWTARGETID=${NEWLIBPATH}/${TARGET}\ninstall_name_tool -id \"${NEWTARGETID}\" \"${LIBFILE}\"\ninstall_name_tool -change ${TARGETID} ${NEWTARGETID} \"${EXECFILE}\"\ndone\n```\n\n## Link Binary with Libraries\u306e\u5909\u66f4\nlibusb-1.0.0.dylib\u3092\u8ffd\u52a0\u3059\u308b\u3002\u4eca\u56de\u306flibusb\u304c\u4f9d\u5b58\u3057\u3066\u3044\u308b IOKIT\u3082\u8ffd\u52a0\u3057\u3066\u3044\u308b\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2013-11-13 12.20.12.png](https://qiita-image-store.s3.amazonaws.com/0/3847/60e6079e-81b4-96cf-7af8-a5e9613af126.png)\n\n\u6700\u7d42\u7684\u306a Build Phase\u306e\u9806\u756a\u306f\u3053\u3093\u306a\u611f\u3058\u306b\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2013-11-13 12.21.08.png](https://qiita-image-store.s3.amazonaws.com/0/3847/97a18364-b553-ea4a-86c1-9aed39322b42.png)\n\n# \u5b8c\u6210\n\u3053\u308c\u3067\u30d0\u30f3\u30c9\u30eb\u3068\u30ea\u30f3\u30af\u306e\u4f5c\u696d\u306f\u5b8c\u6210\u3002libusb\u306eexample\u3092 AppDelegate\u306b\u5165\u308c\u3066\u52d5\u304b\u3057\u3066\u307f\u305f\u304c\u3061\u3083\u3093\u3068\u52d5\u3044\u3066\u3044\u308b\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2013-11-13 12.07.06.png](https://qiita-image-store.s3.amazonaws.com/0/3847/b4b80a3c-74b2-72ea-8d5c-2d3e2e74557a.png)\n\n# \u6ce8\u610f\n\u30ea\u30ea\u30fc\u30b9\u6642\u306b\u306f\u30e9\u30a4\u30bb\u30f3\u30b9\u8868\u793a\u3092\u5fd8\u308c\u305a\u306b\u3002\n\n# \u53c2\u8003\nhttp://chasingtrons.com/notes-to-self/2012/10/17/embedding-a-dynamic-library-in-a-cocoa-application.html", "tags": ["OSX", "Cocoa"]}