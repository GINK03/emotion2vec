{"context": " More than 1 year has passed since last update.\n\nPython \u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n1.0.0 \u30ea\u30ea\u30fc\u30b9\nFix CONNECT packet for MQTT v3.1.1.\n$ pip install paho-mqtt\n\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\nprotocol \u3067 mqtt.MQTTv311 \u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n# coding=utf8\n\nimport paho.mqtt.client as mqtt\n\ndef on_connect(client, userdata, rc):\n    print(\"Connected with result code \"+str(rc))\n\n    client.subscribe(\"a/b\")\n\ndef on_message(client, userdata, msg):\n    print(msg.topic+\" \"+str(msg.payload))\n\n\nif __name__ == '__main__':\n\n    client = mqtt.Client(client_id=\"spam\", clean_session=True, protocol=mqtt.MQTTv311)\n    client.on_connect = on_connect\n    client.on_message = on_message\n\n    client.connect(\"127.0.0.1\", 1883, 60)\n\n    client.loop_forever()\n\n## Python \u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n**1.0.0 \u30ea\u30ea\u30fc\u30b9**\n\n[Fix CONNECT packet for MQTT v3.1.1.](http://git.eclipse.org/c/paho/org.eclipse.paho.mqtt.python.git/commit/?id=06eb000ac6c9269d98466936ee0179ace5315ca3)\n\n```\n$ pip install paho-mqtt\n```\n\n## \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\n- protocol \u3067 mqtt.MQTTv311 \u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```python\n# coding=utf8\n\nimport paho.mqtt.client as mqtt\n\ndef on_connect(client, userdata, rc):\n    print(\"Connected with result code \"+str(rc))\n\n    client.subscribe(\"a/b\")\n\ndef on_message(client, userdata, msg):\n    print(msg.topic+\" \"+str(msg.payload))\n\n\nif __name__ == '__main__':\n\n    client = mqtt.Client(client_id=\"spam\", clean_session=True, protocol=mqtt.MQTTv311)\n    client.on_connect = on_connect\n    client.on_message = on_message\n\n    client.connect(\"127.0.0.1\", 1883, 60)\n\n    client.loop_forever()\n```\n\n", "tags": ["mqtt"]}