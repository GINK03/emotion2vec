{"context": "\n\n\u6982\u8981\nESXi 6.0 update 2\u4ee5\u964d\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\u3084\u6a29\u9650\u306e\u4ed8\u4e0e\u3092\u3059\u308b\u305f\u3081\u306e\u65b9\u6cd5\uff08\u4e3b\u306bPowerCLI\u306b\u3088\u308b\u624b\u9806\uff09\u3002\n\n\u8a73\u7d30\nESXi 6.0 update 2\u4ee5\u964d\u3067\u306f\u3001ESXi\u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3059\u308b\u969b\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3082Web\u30d9\u30fc\u30b9\u306e\u300cvSphere Host Client\u300d\u306b\u306a\u308a\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u304b\u3089\u3067\u306f\u30ed\u30fc\u30ab\u30eb\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\u3084\u6a29\u9650\u306e\u4ed8\u4e0e\u304c\u3067\u304d\u306a\u3055\u305d\u3046\u3067\u3057\u305f\u3002\n\u4f5c\u6210\u3001\u8a2d\u5b9a\u65b9\u6cd5\u306f\u3001\u5927\u304d\u304f\u306f\u4ee5\u4e0b\u306e2\u7a2e\u985e\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\n\u5f93\u6765\u3069\u304a\u308a\u3001vSphere Client\u3092\u4f7f\u7528\u3059\u308b\u3002\nPowerCLI\u3092\u4f7f\u7528\u3059\u308b\u3002\n\nPowerCLI\u3092\u4f7f\u3046\u5834\u5408\u306b\u3064\u3044\u3066\u3001\u4ee5\u4e0b\u306b\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\n\nPowerCLI\u3067\u306e\u4f5c\u6210\u624b\u9806\nPoweCLI\u3067\u306e\u4f5c\u6210\u624b\u9806\u3092\u4ee5\u4e0b\u3067\u8aac\u660e\u3057\u307e\u3059\uff08PowerCLI\u306e\u4f7f\u3044\u65b9\u81ea\u4f53\u306f\u8aac\u660e\u3057\u307e\u305b\u3093\uff09\u3002\nPowerCLI\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002PowerCLI\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\u5bfe\u8c61\u306eESXi\u30db\u30b9\u30c8\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u30db\u30b9\u30c8\u540d\u304cesxi01\u3001root\u30d1\u30b9\u30ef\u30fc\u30c9\u304cR00tP@ss\u306e\u5834\u5408\u306e\u30b3\u30de\u30f3\u30c9\u4f8b\u3067\u3059\u3002\nConnect-VIServer -Protocol \"https\" -Server \"esxi01\" -User \"root\" -Password \"R00tP@ss\"\n\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u65b0\u30ed\u30fc\u30ab\u30eb\u30e6\u30fc\u30b6\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u4f5c\u6210\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u540d\u304cmyadmin\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u304cMy1P@ss\u306e\u5834\u5408\u306e\u30b3\u30de\u30f3\u30c9\u4f8b\u3067\u3059\u3002\nNew-VMHostAccount -Id \"myadmin\" -Password \"My1P@ss\"\n\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u5f79\u5272\uff08Role\uff09\u3092\u65b0\u30e6\u30fc\u30b6\u3078\u4ed8\u4e0e\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u30e6\u30fc\u30b6\u30fc\u540dmyadmin\u306b\u3001Admin\u306e\u5f79\u5272\u3092\u4ed8\u4e0e\u3059\u308b\u5834\u5408\u306e\u30b3\u30de\u30f3\u30c9\u4f8b\u3067\u3059\u3002 \n$vmhost = Get-VMHost \nNew-VIPermission -Entity $vmhost -Principal \"myadmin\" -Role \"Admin\" -Propagate:$true\n\nEntity\u306f\u5f79\u5272\u3092\u4ed8\u4e0e\u3059\u308b\u5bfe\u8c61\u3067\u3001\u3053\u3053\u3067\u306f\u6700\u4e0a\u4f4d\u306b\u306a\u308bESXi\u30db\u30b9\u30c8\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u4e0b\u4f4d\u306b\u4f1d\u9054\u3055\u305b\u308b\u305f\u3081\u306b-Propagate:$true\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u6307\u5b9a\u3067\u304d\u308b\u5f79\u5272\n\u6307\u5b9a\u53ef\u80fd\u306a\u5f79\u5272\uff08Role\uff09\u306fGet-VIRole\u30b3\u30de\u30f3\u30c9\u30ec\u30c3\u30c8\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\nGet-VIRole\n\n\u4ee5\u4e0b\u304cESXi 6.0 update2\u306e\u74b0\u5883\u4e0a\u3067\u306e\u51fa\u529b\u4f8b\u3067\u3059\u3002\nName                      IsSystem\n----                      --------\nNoAccess                  True\nAnonymous                 True\nView                      True\nReadOnly                  True\nAdmin                     True\n\n\u3088\u308a\u8a73\u7d30\u306a\u6a29\u9650\u6307\u5b9a\u3092\u884c\u3044\u305f\u3044\u3068\u304d\u306b\u306f\u3001New-VIRole\u30b3\u30de\u30f3\u30c9\u30ec\u30c3\u30c8\u3067\u65b0\u3057\u3044\u5f79\u5272\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u3057\u304b\u3057\u5b9f\u969b\u306b\u305d\u306e\u5f79\u5272\u306b\u7d30\u304b\u304f\u6a29\u9650\uff08Privilege\uff09\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u304f\u306e\u304c\u3042\u307e\u308a\u73fe\u5b9f\u7684\u3067\u306a\u3044\u305f\u3081\u3001\u304a\u52e7\u3081\u3057\u307e\u305b\u3093\u3002\n\u6307\u5b9a\u53ef\u80fd\u306a\u6a29\u9650\u3092\u898b\u305f\u3044\u3068\u304d\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308c\u3070\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u5185\u90e8\u5024\u3067\u306e\u8868\u8a18\u306b\u306a\u308b\u306e\u3067\u3001vSphere Web Client\u7b49\u3067\u8868\u793a\u3055\u308c\u308b\u65e5\u672c\u8a9e\u8868\u8a18\u3068\u306f\u5bfe\u5fdc\u4ed8\u3051\u3092\u8003\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n(Get-VIRole -Name \"Admin\").PrivilegeList\n\n\n\u53c2\u7167\n\u672c\u30da\u30fc\u30b8\u306e\u5185\u5bb9\u306f\u3001\u4ee5\u4e0b\u306e\u60c5\u5831\u306b\u57fa\u3065\u3044\u3066\u4f5c\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nESXi \u30db\u30b9\u30c8\u4e0a\u3067\u30ed\u30fc\u30ab\u30eb\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u3068\u6a29\u9650\u3092\u4ed8\u4e0e\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066 (2083320) | VMware KB\nCreating a local user and assigning permissions on an ESXi host (2082641) | VMware KB\nNew-VIPermission - vSphere PowerCLI Cmdlets Reference\n\n# \u6982\u8981\n\nESXi 6.0 update 2\u4ee5\u964d\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\u3084\u6a29\u9650\u306e\u4ed8\u4e0e\u3092\u3059\u308b\u305f\u3081\u306e\u65b9\u6cd5\uff08\u4e3b\u306bPowerCLI\u306b\u3088\u308b\u624b\u9806\uff09\u3002\n\n# \u8a73\u7d30\n\nESXi 6.0 update 2\u4ee5\u964d\u3067\u306f\u3001ESXi\u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3059\u308b\u969b\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3082Web\u30d9\u30fc\u30b9\u306e\u300cvSphere Host Client\u300d\u306b\u306a\u308a\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u304b\u3089\u3067\u306f\u30ed\u30fc\u30ab\u30eb\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\u3084\u6a29\u9650\u306e\u4ed8\u4e0e\u304c\u3067\u304d\u306a\u3055\u305d\u3046\u3067\u3057\u305f\u3002\n\n\u4f5c\u6210\u3001\u8a2d\u5b9a\u65b9\u6cd5\u306f\u3001\u5927\u304d\u304f\u306f\u4ee5\u4e0b\u306e2\u7a2e\u985e\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\n* \u5f93\u6765\u3069\u304a\u308a\u3001vSphere Client\u3092\u4f7f\u7528\u3059\u308b\u3002\n* PowerCLI\u3092\u4f7f\u7528\u3059\u308b\u3002\n\nPowerCLI\u3092\u4f7f\u3046\u5834\u5408\u306b\u3064\u3044\u3066\u3001\u4ee5\u4e0b\u306b\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\n\n## PowerCLI\u3067\u306e\u4f5c\u6210\u624b\u9806\n\nPoweCLI\u3067\u306e\u4f5c\u6210\u624b\u9806\u3092\u4ee5\u4e0b\u3067\u8aac\u660e\u3057\u307e\u3059\uff08PowerCLI\u306e\u4f7f\u3044\u65b9\u81ea\u4f53\u306f\u8aac\u660e\u3057\u307e\u305b\u3093\uff09\u3002\n\nPowerCLI\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002PowerCLI\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\u5bfe\u8c61\u306eESXi\u30db\u30b9\u30c8\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u30db\u30b9\u30c8\u540d\u304c`esxi01`\u3001root\u30d1\u30b9\u30ef\u30fc\u30c9\u304c`R00tP@ss`\u306e\u5834\u5408\u306e\u30b3\u30de\u30f3\u30c9\u4f8b\u3067\u3059\u3002\n\n    Connect-VIServer -Protocol \"https\" -Server \"esxi01\" -User \"root\" -Password \"R00tP@ss\"\n\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u65b0\u30ed\u30fc\u30ab\u30eb\u30e6\u30fc\u30b6\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u4f5c\u6210\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u540d\u304c`myadmin`\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u304c`My1P@ss`\u306e\u5834\u5408\u306e\u30b3\u30de\u30f3\u30c9\u4f8b\u3067\u3059\u3002\n\n    New-VMHostAccount -Id \"myadmin\" -Password \"My1P@ss\"\n \n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u5f79\u5272\uff08Role\uff09\u3092\u65b0\u30e6\u30fc\u30b6\u3078\u4ed8\u4e0e\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u30e6\u30fc\u30b6\u30fc\u540d`myadmin`\u306b\u3001`Admin`\u306e\u5f79\u5272\u3092\u4ed8\u4e0e\u3059\u308b\u5834\u5408\u306e\u30b3\u30de\u30f3\u30c9\u4f8b\u3067\u3059\u3002 \n\n    $vmhost = Get-VMHost \n    New-VIPermission -Entity $vmhost -Principal \"myadmin\" -Role \"Admin\" -Propagate:$true\n\n`Entity`\u306f\u5f79\u5272\u3092\u4ed8\u4e0e\u3059\u308b\u5bfe\u8c61\u3067\u3001\u3053\u3053\u3067\u306f\u6700\u4e0a\u4f4d\u306b\u306a\u308bESXi\u30db\u30b9\u30c8\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u4e0b\u4f4d\u306b\u4f1d\u9054\u3055\u305b\u308b\u305f\u3081\u306b`-Propagate:$true`\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n## \u6307\u5b9a\u3067\u304d\u308b\u5f79\u5272\n\n\u6307\u5b9a\u53ef\u80fd\u306a\u5f79\u5272\uff08Role\uff09\u306f`Get-VIRole`\u30b3\u30de\u30f3\u30c9\u30ec\u30c3\u30c8\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n    Get-VIRole\n\n\u4ee5\u4e0b\u304cESXi 6.0 update2\u306e\u74b0\u5883\u4e0a\u3067\u306e\u51fa\u529b\u4f8b\u3067\u3059\u3002\n\n    Name                      IsSystem\n    ----                      --------\n    NoAccess                  True\n    Anonymous                 True\n    View                      True\n    ReadOnly                  True\n    Admin                     True\n\n\u3088\u308a\u8a73\u7d30\u306a\u6a29\u9650\u6307\u5b9a\u3092\u884c\u3044\u305f\u3044\u3068\u304d\u306b\u306f\u3001`New-VIRole`\u30b3\u30de\u30f3\u30c9\u30ec\u30c3\u30c8\u3067\u65b0\u3057\u3044\u5f79\u5272\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u3057\u304b\u3057\u5b9f\u969b\u306b\u305d\u306e\u5f79\u5272\u306b\u7d30\u304b\u304f\u6a29\u9650\uff08Privilege\uff09\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u304f\u306e\u304c\u3042\u307e\u308a\u73fe\u5b9f\u7684\u3067\u306a\u3044\u305f\u3081\u3001\u304a\u52e7\u3081\u3057\u307e\u305b\u3093\u3002\n\n\u6307\u5b9a\u53ef\u80fd\u306a\u6a29\u9650\u3092\u898b\u305f\u3044\u3068\u304d\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308c\u3070\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u5185\u90e8\u5024\u3067\u306e\u8868\u8a18\u306b\u306a\u308b\u306e\u3067\u3001vSphere Web Client\u7b49\u3067\u8868\u793a\u3055\u308c\u308b\u65e5\u672c\u8a9e\u8868\u8a18\u3068\u306f\u5bfe\u5fdc\u4ed8\u3051\u3092\u8003\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n    (Get-VIRole -Name \"Admin\").PrivilegeList\n\n# \u53c2\u7167\n\n\u672c\u30da\u30fc\u30b8\u306e\u5185\u5bb9\u306f\u3001\u4ee5\u4e0b\u306e\u60c5\u5831\u306b\u57fa\u3065\u3044\u3066\u4f5c\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n* [ESXi \u30db\u30b9\u30c8\u4e0a\u3067\u30ed\u30fc\u30ab\u30eb\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u3068\u6a29\u9650\u3092\u4ed8\u4e0e\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066 (2083320) | VMware KB](https://kb.vmware.com/kb/2083320)\n* [Creating a local user and assigning permissions on an ESXi host (2082641) | VMware KB](https://kb.vmware.com/kb/2082641)\n* [New-VIPermission - vSphere PowerCLI Cmdlets Reference](https://www.vmware.com/support/developer/PowerCLI/PowerCLI63R1/html/New-VIPermission.html)\n", "tags": ["vmware", "vSphere"]}