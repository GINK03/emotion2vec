{"context": " More than 1 year has passed since last update.USB over IP\u6280\u8853\u3092\u7528\u3044\u3001\u624b\u5143\u306eRaspberry Pi\u306b\u633f\u3057\u305fUSB\u3092\u30af\u30e9\u30a6\u30c9\u306e\u5148\u306b\u3042\u308b\u30de\u30b7\u30f3\u306b\u8a8d\u8b58\u3055\u305b\u308b\u3002\nVPN\u30c4\u30fc\u30eb\u3068\u3057\u3066SoftEther VPN\u3092\u3001\u3000USB over IP\u30c4\u30fc\u30eb\u3068\u3057\u3066VirtualHere\u3092\u7528\u3044\u308b\u3002\n\n\nVPN\u306e\u69cb\u7bc9\n\nVPN\u30b5\u30fc\u30d0(AWS EC2)\n\n\nSPEC\n\n\n\nRegion\nTokyo (ap-northest-1c)\n\n\nAMI\nAmazon Linux AMI 2014.09.1 (HVM) - ami-4985b048 64bit\n\n\nInstance Type\nm3.medium\n\n\nVPC Subnet\n172.30.2.0/24 (Auto-assign Public IP Enable)\n\n\nStorage\n8GB (General Purpose SSD)\n\n\nSecurity Group\n22/tcp, 443/tcp, 500/udp, 4500/udp\n\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum -y update\n$ sudo yum -y groupinstall \"Development Tools\"\n$ wget http://jp.softether-download.com/files/softether/v4.12-9514-beta-2014.11.17-tree/Linux/SoftEther_VPN_Server/64bit_-_Intel_x64_or_AMD64/softether-vpnserver-v4.12-9514-beta-2014.11.17-linux-x64-64bit.tar.gz\n$ tar xvfz softether-vpnserver-v4.12-9514-beta-2014.11.17-linux-x64-64bit.tar.gz\n$ cd vpnserver/\n$ make\n Do you want to read the License Agreement for this software ? -> 1. Yes\n Did you read and understand the License Agreement ? -> 1. Yes\n Did you agree the License Agreement ? -> 1. Agree\n$ cd ~\n$ vpnserver/vpncmd\n 1. VPN Server \u307e\u305f\u306f VPN Bridge \u306e\u7ba1\u7406\n 2. VPN Client \u306e\u7ba1\u7406\n 3. VPN Tools \u30b3\u30de\u30f3\u30c9\u306e\u4f7f\u7528 (\u8a3c\u660e\u66f8\u4f5c\u6210\u3084\u901a\u4fe1\u901f\u5ea6\u6e2c\u5b9a)\n\n 1 - 3 \u3092\u9078\u629e: 3\n VPN Tools>check\n ...\n \u3059\u3079\u3066\u306e\u30c1\u30a7\u30c3\u30af\u306b\u5408\u683c\u3057\u307e\u3057\u305f\u3002\u3053\u306e\u30b7\u30b9\u30c6\u30e0\u4e0a\u3067 SoftEther VPN Server / Bridge \u304c\u6b63\u3057\u304f\u52d5\u4f5c\u3059\u308b\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n \u30b3\u30de\u30f3\u30c9\u306f\u6b63\u5e38\u306b\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\n VPN Tools>exit\n$ sudo vpnserver/vpnserver start\n\nVPN Tools\u306echeck\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u5168\u3066\u300c\u5408\u683c\u300d\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u305f\u5f8c\u306bVPN Server\u3092\u8d77\u52d5\u3059\u308b\n\n\u8a2d\u5b9a\n$ vpnserver/vpncmd\n 1. VPN Server \u307e\u305f\u306f VPN Bridge \u306e\u7ba1\u7406\n 2. VPN Client \u306e\u7ba1\u7406\n 3. VPN Tools \u30b3\u30de\u30f3\u30c9\u306e\u4f7f\u7528 (\u8a3c\u660e\u66f8\u4f5c\u6210\u3084\u901a\u4fe1\u901f\u5ea6\u6e2c\u5b9a)\n\n 1 - 3 \u3092\u9078\u629e: 1\n\n \u63a5\u7d9a\u5148\u306e\u30db\u30b9\u30c8\u540d\u307e\u305f\u306f IP \u30a2\u30c9\u30ec\u30b9: localhost:443\n \u63a5\u7d9a\u5148\u306e\u4eee\u60f3 HUB \u540d\u3092\u5165\u529b: (\u4f55\u3082\u5165\u529b\u305b\u305a\u306bENTER\uff09\n VPN Server>ServerPasswordSet\n\n# Listener\u306e\u8a2d\u5b9a\n VPN Server>ListenerDisable 992\n VPN Server>ListenerDisable 1194\n VPN Server>ListenerDisable 5555\n VPN Server>ListenerList\n \u30dd\u30fc\u30c8\u756a\u53f7|\u72b6\u614b\n ----------+------\n TCP 443   |\u52d5\u4f5c\u4e2d\n TCP 992   |\u505c\u6b62\u4e2d\n TCP 1194  |\u505c\u6b62\u4e2d\n TCP 5555  |\u505c\u6b62\u4e2d\n\n# DynamicDNS\u306e\u8a2d\u5b9a\n VPN Server>DynamicDnsSetHostname aws-softether-server\n VPN Server>DynamicDnsGetStatus\n \u9805\u76ee                                    |\u5024\n ----------------------------------------+-----------------------------\n \u5272\u5f53\u30c0\u30a4\u30ca\u30df\u30c3\u30af DNS \u30db\u30b9\u30c8\u540d (\u5b8c\u5168)    |aws-softether-server.softether.net\n \u5272\u5f53\u30c0\u30a4\u30ca\u30df\u30c3\u30af DNS \u30db\u30b9\u30c8\u540d (\u30db\u30b9\u30c8\u540d)|aws-softether-server\n DNS \u30b5\u30d5\u30a3\u30c3\u30af\u30b9                        |.softether.net\n \u30b0\u30ed\u30fc\u30d0\u30eb IPv4 \u30a2\u30c9\u30ec\u30b9                |XX.XX.XX.XX\n\n# \u4eee\u60f3HUB\u306e\u4f5c\u6210\n VPN Server>HubCreate SE_VHUB\n VPN Server>Hub SE_VHUB\n\n# \u63a5\u7d9a\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n VPN Server/SE_VHUB>UserCreate mac\n VPN Server/SE_VHUB>UserPasswordSet mac\n VPN Server/SE_VHUB>UserCreate raspi\n VPN Server/SE_VHUB>UserPasswordSet raspi\n VPN Server/SE_VHUB>UserCreate win\n VPN Server/SE_VHUB>UserPasswordSet win\n\n# DHCP\u306e\u8a2d\u5b9a\u8a2d\u5b9a\n VPN Server/SE_VHUB>SecureNatEnable\n VPN Server/SE_VHUB>DhcpEnable\n VPN Server/SE_VHUB>DhcpGet\n \u9805\u76ee                                |\u5024\n ------------------------------------+--------------\n \u4eee\u60f3 DHCP \u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b            |\u306f\u3044\n \u914d\u5e03\u30a2\u30c9\u30ec\u30b9\u5e2f\u306e\u958b\u59cb                |192.168.30.10\n \u914d\u5e03\u30a2\u30c9\u30ec\u30b9\u5e2f\u306e\u7d42\u4e86                |192.168.30.200\n \u30b5\u30d6\u30cd\u30c3\u30c8\u30de\u30b9\u30af                    |255.255.255.0\n \u30ea\u30fc\u30b9\u671f\u9650 (\u79d2)                     |7200\n \u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u30a2\u30c9\u30ec\u30b9      |192.168.30.1\n DNS \u30b5\u30fc\u30d0\u30fc \u30a2\u30c9\u30ec\u30b9 1             |192.168.30.1\n DNS \u30b5\u30fc\u30d0\u30fc \u30a2\u30c9\u30ec\u30b9 2             |\u306a\u3057\n \u30c9\u30e1\u30a4\u30f3\u540d                          |\n NAT \u304a\u3088\u3073 DHCP \u306e\u52d5\u4f5c\u306e\u30ed\u30b0\u4fdd\u5b58    |\u306f\u3044\n \u30d7\u30c3\u30b7\u30e5\u3059\u308b\u9759\u7684\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb|\n\n# L2TP/IPSec\u306e\u6709\u52b9\u5316\n VPN Server>IPsecEnable\n  L2TP over IPsec \u30b5\u30fc\u30d0\u30fc\u6a5f\u80fd\u3092\u6709\u52b9 (yes / no): yes\n  Raw L2TP \u30b5\u30fc\u30d0\u30fc\u6a5f\u80fd\u3092\u6709\u52b9 (yes / no): no\n  EtherIP / L2TPv3 over IPsec \u30b5\u30fc\u30d0\u30fc\u6a5f\u80fd\u3092\u6709\u52b9 (yes / no): no\n  IPsec \u4e8b\u524d\u5171\u6709\u9375\u306e\u6587\u5b57\u5217 (9 \u6587\u5b57\u4ee5\u4e0b\u3092\u63a8\u5968): awssevpn\n  VPN \u63a5\u7d9a\u6642\u306b\u4eee\u60f3 HUB \u540d\u304c\u7701\u7565\u3055\u308c\u305f\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u4eee\u60f3 HUB \u540d: SE_VHUB\n\n VPN Server>IPsecGet\n \u9805\u76ee                                          |\u5024\n ----------------------------------------------+--------\n L2TP over IPsec \u30b5\u30fc\u30d0\u30fc\u6a5f\u80fd\u306f\u6709\u52b9            |\u306f\u3044\n Raw L2TP \u30b5\u30fc\u30d0\u30fc\u6a5f\u80fd\u306f\u6709\u52b9                   |\u3044\u3044\u3048\n EtherIP / L2TPv3 over IPsec \u30b5\u30fc\u30d0\u30fc\u6a5f\u80fd\u306f\u6709\u52b9|\u3044\u3044\u3048\n IPsec \u4e8b\u524d\u5171\u6709\u9375\u306e\u6587\u5b57\u5217                      |awssevpn\n \u30c7\u30d5\u30a9\u30eb\u30c8\u4eee\u60f3 HUB \u540d                         |SE_VHUB\n\n\n\nVPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8(Raspberry Pi)\n\n\nSPEC\n\n\n\nDevice\nRaspberry Pi model B+\n\n\nOS\n7.6 (3.12.28+ #709)\n\n\nhostname\nraspi\n\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ wget http://jp.softether-download.com/files/softether/v4.12-9514-beta-2014.11.17-tree/Linux/SoftEther_VPN_Client/32bit_-_ARM_EABI/softether-vpnclient-v4.12-9514-beta-2014.11.17-linux-arm_eabi-32bit.tar.gz\n$ tar xvfz softether-vpnclient-v4.12-9514-beta-2014.11.17-linux-arm_eabi-32bit.tar.gz \n$ cd vpnclient/\n$ make\n Do you want to read the License Agreement for this software ? -> 1. Yes\n Did you read and understand the License Agreement ? -> 1. Yes\n Did you agree the License Agreement ? -> 1. Agree\n$ cd ~\n$ sudo ./vpnclient/vpnclient start\n\n\n\u8a2d\u5b9a\n$ vpnclient/vpncmd\n 1. Management of VPN Server or VPN Bridge \n 2. Management of VPN Client\n 3. Use of VPN Tools (certificate creation and Network Traffic Speed Test Tool)\n\n Select 1, 2 or 3: 2\n\n Hostname of IP Address of Destination: localhost\n VPN Client>PasswordSet \n\n# \u4eee\u60f3NIC\u306e\u4f5c\u6210\n VPN Client>NicCreate SE_VNIC\n VPN Client>exit\n $ sudo sh -c \"echo 'allow-hotplug vpn_se_vnic' >> /etc/network/interfaces\"\n $ sudo sh -c \"echo 'iface vpn_se_vnic inet dhcp' >> /etc/network/interfaces\"\n\n# VPN\u63a5\u7d9a\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4f5c\u6210\n$ vpnclient/vpncmd\n 1. Management of VPN Server or VPN Bridge \n 2. Management of VPN Client\n 3. Use of VPN Tools (certificate creation and Network Traffic Speed Test Tool)\n\n Select 1, 2 or 3: 2\n\n Password: \n VPN Client>AccountCreate raspi\n  Destination VPN Server Host Name and Port Number: aws-softether-server.softether.net:443\n  Destination Virtual Hub Name: SE_VHUB\n  Connecting User Name: raspi\n  Used Virtual Network Adapter Name: SE_VNIC\n VPN Client>AccountPasswordSet raspi\n  Password: ****************\n  Confirm input: ****************\n  Specify standard or radius: standard\n VPN Client>AccountStartupSet raspi\n VPN Client>KeepEnable raspi\n VPN Client>AccountStatusShow raspi\n VPN Client>exit\n$sudo shutdown -r now\n\n\n\u63a5\u7d9a\n$ sudo ./vpnclient/vpnclient start\n$ ifconfig\nvpn_se_vnic Link encap:Ethernet  HWaddr 00:ac:ce:27:7b:ae  \n          inet addr:192.168.30.10  Bcast:192.168.30.255  Mask:255.255.255.0\n$ vpnclient/vpncmd\n 1. Management of VPN Server or VPN Bridge \n 2. Management of VPN Client\n 3. Use of VPN Tools (certificate creation and Network Traffic Speed Test Tool)\n\n Select 1, 2 or 3: 2\n\n Hostname of IP Address of Destination: localhost\n\n Password:\n\n VPN Client>AccountList\n Item                        |Value\n ----------------------------+------------------------------------------------\n VPN Connection Setting Name |raspi\n Status                      |Connected\n VPN Server Hostname         |aws-softether-server.softether.net:443 (Direct TCP/IP Connection)\n Virtual Hub                 |SE_VHUB\n Virtual Network Adapter Name|SE_VNIC\n\n\nVPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8(Mac)\n\n\nSPEC\n\n\n\nDevice\nMacBook Air 11-inch Mid 2011\n\n\nOS\nMac OS X Lion 10.7.5(11G63)\n\n\nhostname\nAir.local\n\n\n\n\n\u8a2d\u5b9a\nL2TP over IPSec\u3092\u7528\u3044\u3066\u63a5\u7d9a\u8a2d\u5b9a\u3092\u884c\u3046\n\n\u30b5\u30fc\u30d0\u30a2\u30c9\u30ec\u30b9\u306b\u306fDynamicDNS\u3068\u3057\u3066\u6307\u5b9a\u3057\u305f\u30c9\u30e1\u30a4\u30f3\u540d\u3092\u6307\u5b9a\u3057\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u306b\u306f\u4f5c\u6210\u3057\u305f\u63a5\u7d9a\u30e6\u30fc\u30b6\u306e\u3046\u3061\u306e\u4e00\u3064\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n\"\u8a73\u7d30\"\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001\u6307\u5b9a\u3057\u305f\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3068IPSec\u4e8b\u524d\u5171\u6709\u9375\u3092\u5165\u529b\u3059\u308b\u3002\n\n\n\u63a5\u7d9a\nL2TP over IPSec\u3067\u63a5\u7d9a\u3059\u308b\u3002\n$ ifconfig\nppp0: flags=8051<UP,POINTOPOINT,RUNNING,MULTICAST> mtu 1280\n    inet 192.168.30.10 --> 1.0.0.1 netmask 0xffffff00 \n\n\nVPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8(Win)\n\n\nSPEC\n\n\n\nDevice\nSurface Pro 3\n\n\nOS\nWindows 8.1 Pro\n\n\nhostname\nsurface-pro3\n\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u6b21\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u5b9f\u884c\u3059\u308b\u3002\nhttp://jp.softether-download.com/files/softether/v4.12-9514-beta-2014.11.17-tree/Windows/SoftEther_VPN_Client/softether-vpnclient-v4.12-9514-beta-2014.11.17-windows-x86_x64-intel.exe\n\n\n\n\n\n\u300c\u3053\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306ePC\u3001\u30c7\u30d0\u30a4\u30b9\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u63a2\u3057\u3001\u30d7\u30ea\u30f3\u30bf\u30fc\u3084TV\u306a\u3069\u306e\u30c7\u30d0\u30a4\u30b9\u306b\u81ea\u52d5\u7684\u306b\u63a5\u7d9a\u3057\u307e\u3059\u300d\u3068\u3044\u3046\u30c0\u30a4\u30a2\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u305f\u5834\u5408\u3001\u300c\u306f\u3044\u300d\u3092\u9078\u3076\u3002\u305d\u3046\u3059\u308b\u3053\u3068\u3067\u3001Windows FireWall\u3067\u30d6\u30ed\u30c3\u30af\u3055\u308c\u306a\u3044\u300c\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u300d\u3068\u3057\u3066VPN\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002\n\n\u3082\u3057\u300c\u30d1\u30d6\u30ea\u30c3\u30af\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u300d\u3068\u3057\u3066\u4f5c\u6210\u3057\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u3001\u300cPC\u8a2d\u5b9a\uff1e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff1e\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u300d\u304b\u3089\u4f5c\u6210\u3057\u305fVPN\u3092\u9078\u629e\u3057\u3001\u300c\u30c7\u30d0\u30a4\u30b9\u3068\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u691c\u7d22\u300d\u3092\u30aa\u30f3\u306b\u3059\u308b\u3068\u826f\u3044\n\n\n\u63a5\u7d9a\nSoftEther VPN Client\u304b\u3089\u63a5\u7d9a\n\n\nUSB over IP\u306e\u69cb\u7bc9\n\nUSB over IP\u30b5\u30fc\u30d0(Raspberry Pi)\nVirtualHere\u306eUSB\u30b5\u30fc\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0 Raspberry Pi\u7528(armhf hard-float)\u3092\u914d\u7f6e\n\uff08\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306b\u5b9f\u884c\u6a29\u3092\u3064\u3051\u308b\u3060\u3051\uff09\n$ wget --no-check-certificate https://www.virtualhere.com/sites/default/files/usbserver/vhusbdarmhf\n$ chmod 755 vhusbdarmhf\n\n\nUSB over IP\u30af\u30e9\u30a4\u30a2\u30f3\u30c8(Win)\nVirtualHere\u306eUSB\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d7\u30ed\u30b0\u30e9\u30e0 Windows\u7528\u3092\u914d\u7f6e\n\uff08\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u9069\u5f53\u306a\u30d5\u30a9\u30eb\u30c0\u306b\u7f6e\u304f\u3060\u3051\uff09\nhttps://www.virtualhere.com/sites/default/files/usbclient/vhui64.exe\n\nUSB over SoftEtherVPN\u306e\u691c\u8a3c\n\nUSB over IP\u30b5\u30fc\u30d0\u8d77\u52d5\n\u30af\u30e9\u30a6\u30c9\u306e\u5148\u306b\u3042\u308bPC\u3067\u5171\u6709\u3057\u305f\u3044USB\u30c7\u30d0\u30a4\u30b9\u3092Raspberry Pi\u306b\u63a5\u7d9a\u3057\u305f\u5f8c\u3001\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067VirtualHere\u306eUSB over IP\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\n$ sudo ./vhusbdarmhf \nVirtualHere USB Server is running...press ^C to stop\n\n\n\u30af\u30e9\u30a6\u30c9\u306e\u5148\u306b\u3042\u308bPC\u306b\u30ed\u30b0\u30a4\u30f3\nSoftEther VPN\u3067\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u30af\u30e9\u30a6\u30c9\u306e\u5148\u306b\u3042\u308b\u30de\u30b7\u30f3\u306eFirewall\u3084\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u30eb\u30fc\u30bf\u306b\u4f55\u306e\u8a2d\u5b9a\u3082\u305b\u305a\u3068\u3082\u3001\u5b89\u5168\u306bRDP\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n\uff08RDP\u304c\u3064\u306a\u304c\u3089\u306a\u3044\u5834\u5408\u3001\u30af\u30e9\u30a6\u30c9\u306e\u5148\u306b\u3042\u308bPC\u3067\u69cb\u7bc9\u3057\u305fSoftEther VPN\u304c\u300c\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u300d\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\uff09\n\n\u30af\u30e9\u30a6\u30c9\u306e\u5148\u306b\u3042\u308bPC\u306bUSB\u30c7\u30d0\u30a4\u30b9\u3092\u30bb\u30c3\u30c8\nPC\u3067VirtualHere\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3002\n\n\"USB Hubs>Specify Hubs\"\u304b\u3089SoftEther VPN\u4e0a\u3067\u306eRaspberry Pi\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3059\u308b\u3002\n\n\u6b63\u3057\u304f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3055\u308c\u3066\u3044\u308c\u3070\u3001Raspberry Pi\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308bUSB\u30c7\u30d0\u30a4\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n\u671b\u307f\u306eUSB\u30c7\u30d0\u30a4\u30b9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3059\u308c\u3070\u3001SoftEther VPN\u8d8a\u3057\u306bRaspberry Pi\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308bUSB\u30c7\u30d0\u30a4\u30b9\u304cPC\u3067\u8a8d\u8b58\u3055\u308c\u308b\u3002\n\n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u901f\u5ea6\n\n\n\n\n\u5b9f\u884c\u901f\u5ea6\u203b1\nRTT\u203b2\n\n\n\n\nLAN\n9.53MB/s\n<1ms\n\n\nWifi AP\n1.06MB/s\n50ms\n\n\nSoftEther VPN over LTE\n0.071MB/s\n179ms\n\n\n\n\u203b1 : WindowsPC\u304b\u3089Raspberry Pi\u307860000byte\u306eping\u3092\u6253\u3061\u300160000*2/RTT\u5e73\u5747\u5024\u3088\u308a\u6982\u7b97\n\u203b2 : WindowsPC\u304b\u3089Raspberry Pi\u3078\u306e32byte\u306eping\u306eRTT\u5e73\u5747\u5024\n\nUSB2.0\u30c7\u30d0\u30a4\u30b9\u306eI/O\u5b9f\u884c\u901f\u5ea6\n\n\n\n\nSequential Read\nSequential Write\nRandom Read\nRandom Write\n\n\n\n\n\u76f4\u63a5\u63a5\u7d9a\n18.85MB/s\n5.076MB/s\n18.77MB/s\n1.175MB/s\n\n\nLAN\n3.140MB/s\n2.058MB/s\n3.155MB/s\n1.170MB/s\n\n\nWifi AP\n1.301MB/s\n1.114MB/s\n1.328MB/s\n0.711MB/s\n\n\nSoftEther VPN over LTE\n\u8a08\u6e2c\u4e0d\u80fd\n\u8a08\u6e2c\u4e0d\u80fd\n\u8a08\u6e2c\u4e0d\u80fd\n\u8a08\u6e2c\u4e0d\u80fd\n\n\n\n\n\u307e\u3068\u3081\n\nUSB over SoftEther over LTE\u306f\u78ba\u304b\u306b\u52d5\u4f5c\u3059\u308b\u304c\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u73fe\u6642\u70b9\u3067\u306f\u901f\u5ea6\u7684\u306b\u4f7f\u3044\u7269\u306b\u306a\u3089\u306a\u3044\nUSB over LAN\u3084USB over Wifi\u306f\u3001USB\u30ab\u30e1\u30e9\uff08320x240\uff09\u7a0b\u5ea6\u307e\u3067\u306a\u3089\u3070\u5341\u5206\u4f7f\u3044\u7269\u306b\u306a\u308b\n\nUSB over IP\u6280\u8853\u3092\u7528\u3044\u3001\u624b\u5143\u306eRaspberry Pi\u306b\u633f\u3057\u305fUSB\u3092\u30af\u30e9\u30a6\u30c9\u306e\u5148\u306b\u3042\u308b\u30de\u30b7\u30f3\u306b\u8a8d\u8b58\u3055\u305b\u308b\u3002\n\nVPN\u30c4\u30fc\u30eb\u3068\u3057\u3066[SoftEther VPN](https://ja.softether.org/)\u3092\u3001\u3000USB over IP\u30c4\u30fc\u30eb\u3068\u3057\u3066[VirtualHere](https://www.virtualhere.com/)\u3092\u7528\u3044\u308b\u3002\n\n![softether-usb-over-ip.png](https://qiita-image-store.s3.amazonaws.com/0/37648/4484496b-3441-e642-ff57-cfbe8b712b46.png)\n\n## VPN\u306e\u69cb\u7bc9\n\n### VPN\u30b5\u30fc\u30d0(AWS EC2)\n\n<table>\n<thead>\n<tr><th colspan=\"2\">SPEC</th></tr>\n</thead>\n<tbody>\n<tr><td><b>Region</b></td><td>Tokyo (ap-northest-1c)</td></tr>\n<tr><td><b>AMI</b></td><td>Amazon Linux AMI 2014.09.1 (HVM) - ami-4985b048 64bit</td></tr>\n<tr><td><b>Instance Type</b></td><td>m3.medium</td></tr>\n<tr><td><b>VPC Subnet</b></td><td>172.30.2.0/24 (Auto-assign Public IP Enable)</td></tr>\n<tr><td><b>Storage</b></td><td>8GB (General Purpose SSD)</td></tr>\n<tr><td><b>Security Group</b></td><td>22/tcp, 443/tcp, 500/udp, 4500/udp</td></tr>\n</tbody>\n</table>\n\n#### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo yum -y update\n$ sudo yum -y groupinstall \"Development Tools\"\n$ wget http://jp.softether-download.com/files/softether/v4.12-9514-beta-2014.11.17-tree/Linux/SoftEther_VPN_Server/64bit_-_Intel_x64_or_AMD64/softether-vpnserver-v4.12-9514-beta-2014.11.17-linux-x64-64bit.tar.gz\n$ tar xvfz softether-vpnserver-v4.12-9514-beta-2014.11.17-linux-x64-64bit.tar.gz\n$ cd vpnserver/\n$ make\n Do you want to read the License Agreement for this software ? -> 1. Yes\n Did you read and understand the License Agreement ? -> 1. Yes\n Did you agree the License Agreement ? -> 1. Agree\n$ cd ~\n$ vpnserver/vpncmd\n 1. VPN Server \u307e\u305f\u306f VPN Bridge \u306e\u7ba1\u7406\n 2. VPN Client \u306e\u7ba1\u7406\n 3. VPN Tools \u30b3\u30de\u30f3\u30c9\u306e\u4f7f\u7528 (\u8a3c\u660e\u66f8\u4f5c\u6210\u3084\u901a\u4fe1\u901f\u5ea6\u6e2c\u5b9a)\n \n 1 - 3 \u3092\u9078\u629e: 3\n VPN Tools>check\n ...\n \u3059\u3079\u3066\u306e\u30c1\u30a7\u30c3\u30af\u306b\u5408\u683c\u3057\u307e\u3057\u305f\u3002\u3053\u306e\u30b7\u30b9\u30c6\u30e0\u4e0a\u3067 SoftEther VPN Server / Bridge \u304c\u6b63\u3057\u304f\u52d5\u4f5c\u3059\u308b\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n \u30b3\u30de\u30f3\u30c9\u306f\u6b63\u5e38\u306b\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\n VPN Tools>exit\n$ sudo vpnserver/vpnserver start\n```\nVPN Tools\u306echeck\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u5168\u3066\u300c\u5408\u683c\u300d\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u305f\u5f8c\u306bVPN Server\u3092\u8d77\u52d5\u3059\u308b\n\n#### \u8a2d\u5b9a\n\n```\n$ vpnserver/vpncmd\n 1. VPN Server \u307e\u305f\u306f VPN Bridge \u306e\u7ba1\u7406\n 2. VPN Client \u306e\u7ba1\u7406\n 3. VPN Tools \u30b3\u30de\u30f3\u30c9\u306e\u4f7f\u7528 (\u8a3c\u660e\u66f8\u4f5c\u6210\u3084\u901a\u4fe1\u901f\u5ea6\u6e2c\u5b9a)\n \n 1 - 3 \u3092\u9078\u629e: 1\n\n \u63a5\u7d9a\u5148\u306e\u30db\u30b9\u30c8\u540d\u307e\u305f\u306f IP \u30a2\u30c9\u30ec\u30b9: localhost:443\n \u63a5\u7d9a\u5148\u306e\u4eee\u60f3 HUB \u540d\u3092\u5165\u529b: (\u4f55\u3082\u5165\u529b\u305b\u305a\u306bENTER\uff09\n VPN Server>ServerPasswordSet\n\n# Listener\u306e\u8a2d\u5b9a\n VPN Server>ListenerDisable 992\n VPN Server>ListenerDisable 1194\n VPN Server>ListenerDisable 5555\n VPN Server>ListenerList\n \u30dd\u30fc\u30c8\u756a\u53f7|\u72b6\u614b\n ----------+------\n TCP 443   |\u52d5\u4f5c\u4e2d\n TCP 992   |\u505c\u6b62\u4e2d\n TCP 1194  |\u505c\u6b62\u4e2d\n TCP 5555  |\u505c\u6b62\u4e2d\n\n# DynamicDNS\u306e\u8a2d\u5b9a\n VPN Server>DynamicDnsSetHostname aws-softether-server\n VPN Server>DynamicDnsGetStatus\n \u9805\u76ee                                    |\u5024\n ----------------------------------------+-----------------------------\n \u5272\u5f53\u30c0\u30a4\u30ca\u30df\u30c3\u30af DNS \u30db\u30b9\u30c8\u540d (\u5b8c\u5168)    |aws-softether-server.softether.net\n \u5272\u5f53\u30c0\u30a4\u30ca\u30df\u30c3\u30af DNS \u30db\u30b9\u30c8\u540d (\u30db\u30b9\u30c8\u540d)|aws-softether-server\n DNS \u30b5\u30d5\u30a3\u30c3\u30af\u30b9                        |.softether.net\n \u30b0\u30ed\u30fc\u30d0\u30eb IPv4 \u30a2\u30c9\u30ec\u30b9                |XX.XX.XX.XX\n\n# \u4eee\u60f3HUB\u306e\u4f5c\u6210\n VPN Server>HubCreate SE_VHUB\n VPN Server>Hub SE_VHUB\n\n# \u63a5\u7d9a\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n VPN Server/SE_VHUB>UserCreate mac\n VPN Server/SE_VHUB>UserPasswordSet mac\n VPN Server/SE_VHUB>UserCreate raspi\n VPN Server/SE_VHUB>UserPasswordSet raspi\n VPN Server/SE_VHUB>UserCreate win\n VPN Server/SE_VHUB>UserPasswordSet win\n\n# DHCP\u306e\u8a2d\u5b9a\u8a2d\u5b9a\n VPN Server/SE_VHUB>SecureNatEnable\n VPN Server/SE_VHUB>DhcpEnable\n VPN Server/SE_VHUB>DhcpGet\n \u9805\u76ee                                |\u5024\n ------------------------------------+--------------\n \u4eee\u60f3 DHCP \u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b            |\u306f\u3044\n \u914d\u5e03\u30a2\u30c9\u30ec\u30b9\u5e2f\u306e\u958b\u59cb                |192.168.30.10\n \u914d\u5e03\u30a2\u30c9\u30ec\u30b9\u5e2f\u306e\u7d42\u4e86                |192.168.30.200\n \u30b5\u30d6\u30cd\u30c3\u30c8\u30de\u30b9\u30af                    |255.255.255.0\n \u30ea\u30fc\u30b9\u671f\u9650 (\u79d2)                     |7200\n \u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u30a2\u30c9\u30ec\u30b9      |192.168.30.1\n DNS \u30b5\u30fc\u30d0\u30fc \u30a2\u30c9\u30ec\u30b9 1             |192.168.30.1\n DNS \u30b5\u30fc\u30d0\u30fc \u30a2\u30c9\u30ec\u30b9 2             |\u306a\u3057\n \u30c9\u30e1\u30a4\u30f3\u540d                          |\n NAT \u304a\u3088\u3073 DHCP \u306e\u52d5\u4f5c\u306e\u30ed\u30b0\u4fdd\u5b58    |\u306f\u3044\n \u30d7\u30c3\u30b7\u30e5\u3059\u308b\u9759\u7684\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb|\n\n# L2TP/IPSec\u306e\u6709\u52b9\u5316\n VPN Server>IPsecEnable\n  L2TP over IPsec \u30b5\u30fc\u30d0\u30fc\u6a5f\u80fd\u3092\u6709\u52b9 (yes / no): yes\n  Raw L2TP \u30b5\u30fc\u30d0\u30fc\u6a5f\u80fd\u3092\u6709\u52b9 (yes / no): no\n  EtherIP / L2TPv3 over IPsec \u30b5\u30fc\u30d0\u30fc\u6a5f\u80fd\u3092\u6709\u52b9 (yes / no): no\n  IPsec \u4e8b\u524d\u5171\u6709\u9375\u306e\u6587\u5b57\u5217 (9 \u6587\u5b57\u4ee5\u4e0b\u3092\u63a8\u5968): awssevpn\n  VPN \u63a5\u7d9a\u6642\u306b\u4eee\u60f3 HUB \u540d\u304c\u7701\u7565\u3055\u308c\u305f\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u4eee\u60f3 HUB \u540d: SE_VHUB\n\n VPN Server>IPsecGet\n \u9805\u76ee                                          |\u5024\n ----------------------------------------------+--------\n L2TP over IPsec \u30b5\u30fc\u30d0\u30fc\u6a5f\u80fd\u306f\u6709\u52b9            |\u306f\u3044\n Raw L2TP \u30b5\u30fc\u30d0\u30fc\u6a5f\u80fd\u306f\u6709\u52b9                   |\u3044\u3044\u3048\n EtherIP / L2TPv3 over IPsec \u30b5\u30fc\u30d0\u30fc\u6a5f\u80fd\u306f\u6709\u52b9|\u3044\u3044\u3048\n IPsec \u4e8b\u524d\u5171\u6709\u9375\u306e\u6587\u5b57\u5217                      |awssevpn\n \u30c7\u30d5\u30a9\u30eb\u30c8\u4eee\u60f3 HUB \u540d                         |SE_VHUB\n\n```\n\n### VPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8(Raspberry Pi)\n\n<table>\n<thead>\n<tr><th colspan=\"2\">SPEC</th></tr>\n</thead>\n<tbody>\n<tr><td><b>Device</b></td><td>Raspberry Pi model B+</td></tr>\n<tr><td><b>OS</b></td><td>7.6 (3.12.28+ #709)</td></tr>\n<tr><td><b>hostname</b></td><td>raspi</td></tr>\n</tbody>\n</table>\n\n#### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ wget http://jp.softether-download.com/files/softether/v4.12-9514-beta-2014.11.17-tree/Linux/SoftEther_VPN_Client/32bit_-_ARM_EABI/softether-vpnclient-v4.12-9514-beta-2014.11.17-linux-arm_eabi-32bit.tar.gz\n$ tar xvfz softether-vpnclient-v4.12-9514-beta-2014.11.17-linux-arm_eabi-32bit.tar.gz \n$ cd vpnclient/\n$ make\n Do you want to read the License Agreement for this software ? -> 1. Yes\n Did you read and understand the License Agreement ? -> 1. Yes\n Did you agree the License Agreement ? -> 1. Agree\n$ cd ~\n$ sudo ./vpnclient/vpnclient start\n```\n\n#### \u8a2d\u5b9a\n\n```\n$ vpnclient/vpncmd\n 1. Management of VPN Server or VPN Bridge \n 2. Management of VPN Client\n 3. Use of VPN Tools (certificate creation and Network Traffic Speed Test Tool)\n \n Select 1, 2 or 3: 2\n\n Hostname of IP Address of Destination: localhost\n VPN Client>PasswordSet \n\n# \u4eee\u60f3NIC\u306e\u4f5c\u6210\n VPN Client>NicCreate SE_VNIC\n VPN Client>exit\n $ sudo sh -c \"echo 'allow-hotplug vpn_se_vnic' >> /etc/network/interfaces\"\n $ sudo sh -c \"echo 'iface vpn_se_vnic inet dhcp' >> /etc/network/interfaces\"\n```\n\n```\n# VPN\u63a5\u7d9a\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4f5c\u6210\n$ vpnclient/vpncmd\n 1. Management of VPN Server or VPN Bridge \n 2. Management of VPN Client\n 3. Use of VPN Tools (certificate creation and Network Traffic Speed Test Tool)\n \n Select 1, 2 or 3: 2\n\n Password: \n VPN Client>AccountCreate raspi\n  Destination VPN Server Host Name and Port Number: aws-softether-server.softether.net:443\n  Destination Virtual Hub Name: SE_VHUB\n  Connecting User Name: raspi\n  Used Virtual Network Adapter Name: SE_VNIC\n VPN Client>AccountPasswordSet raspi\n  Password: ****************\n  Confirm input: ****************\n  Specify standard or radius: standard\n VPN Client>AccountStartupSet raspi\n VPN Client>KeepEnable raspi\n VPN Client>AccountStatusShow raspi\n VPN Client>exit\n$sudo shutdown -r now\n```\n\n#### \u63a5\u7d9a\n\n```\n$ sudo ./vpnclient/vpnclient start\n$ ifconfig\nvpn_se_vnic Link encap:Ethernet  HWaddr 00:ac:ce:27:7b:ae  \n          inet addr:192.168.30.10  Bcast:192.168.30.255  Mask:255.255.255.0\n$ vpnclient/vpncmd\n 1. Management of VPN Server or VPN Bridge \n 2. Management of VPN Client\n 3. Use of VPN Tools (certificate creation and Network Traffic Speed Test Tool)\n\n Select 1, 2 or 3: 2\n\n Hostname of IP Address of Destination: localhost\n\n Password:\n\n VPN Client>AccountList\n Item                        |Value\n ----------------------------+------------------------------------------------\n VPN Connection Setting Name |raspi\n Status                      |Connected\n VPN Server Hostname         |aws-softether-server.softether.net:443 (Direct TCP/IP Connection)\n Virtual Hub                 |SE_VHUB\n Virtual Network Adapter Name|SE_VNIC\n```\n\n### VPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8(Mac)\n\n<table>\n<thead>\n<tr><th colspan=\"2\">SPEC</th></tr>\n</thead>\n<tbody>\n<tr><td><b>Device</b></td><td>MacBook Air 11-inch Mid 2011</td></tr>\n<tr><td><b>OS</b></td><td>Mac OS X Lion 10.7.5(11G63)</td></tr>\n<tr><td><b>hostname</b></td><td>Air.local</td></tr>\n</tbody>\n</table>\n\n#### \u8a2d\u5b9a\n\nL2TP over IPSec\u3092\u7528\u3044\u3066\u63a5\u7d9a\u8a2d\u5b9a\u3092\u884c\u3046\n\n![mac1.png](https://qiita-image-store.s3.amazonaws.com/0/37648/abe7b79d-b8e8-44f4-9cca-5a8e7bd9c22a.png)\n\n\u30b5\u30fc\u30d0\u30a2\u30c9\u30ec\u30b9\u306b\u306fDynamicDNS\u3068\u3057\u3066\u6307\u5b9a\u3057\u305f\u30c9\u30e1\u30a4\u30f3\u540d\u3092\u6307\u5b9a\u3057\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u306b\u306f\u4f5c\u6210\u3057\u305f\u63a5\u7d9a\u30e6\u30fc\u30b6\u306e\u3046\u3061\u306e\u4e00\u3064\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n![mac2.png](https://qiita-image-store.s3.amazonaws.com/0/37648/5a061437-a744-aa65-3736-6c0d45b0c64b.png)\n\n\"\u8a73\u7d30\"\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001\u6307\u5b9a\u3057\u305f\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3068IPSec\u4e8b\u524d\u5171\u6709\u9375\u3092\u5165\u529b\u3059\u308b\u3002\n\n![mac3.png](https://qiita-image-store.s3.amazonaws.com/0/37648/b0159155-d0b2-6a97-3a27-ac873090aeae.png)\n\n#### \u63a5\u7d9a\n\nL2TP over IPSec\u3067\u63a5\u7d9a\u3059\u308b\u3002\n\n```\n$ ifconfig\nppp0: flags=8051<UP,POINTOPOINT,RUNNING,MULTICAST> mtu 1280\n\tinet 192.168.30.10 --> 1.0.0.1 netmask 0xffffff00 \n```\n\n### VPN\u30af\u30e9\u30a4\u30a2\u30f3\u30c8(Win)\n\n<table>\n<thead>\n<tr><th colspan=\"2\">SPEC</th></tr>\n</thead>\n<tbody>\n<tr><td><b>Device</b></td><td>Surface Pro 3</td></tr>\n<tr><td><b>OS</b></td><td>Windows 8.1 Pro</td></tr>\n<tr><td><b>hostname</b></td><td>surface-pro3</td></tr>\n</tbody>\n</table>\n\n#### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u6b21\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u5b9f\u884c\u3059\u308b\u3002\n\n```\nhttp://jp.softether-download.com/files/softether/v4.12-9514-beta-2014.11.17-tree/Windows/SoftEther_VPN_Client/softether-vpnclient-v4.12-9514-beta-2014.11.17-windows-x86_x64-intel.exe\n```\n\n\n![win1.PNG](https://qiita-image-store.s3.amazonaws.com/0/37648/3549df35-638c-f443-8336-4a330ff9f93d.png)\n\n![win2.PNG](https://qiita-image-store.s3.amazonaws.com/0/37648/367e0ce9-0399-e71e-b0d8-095bf026ff53.png)\n\n![win3.PNG](https://qiita-image-store.s3.amazonaws.com/0/37648/1c6b79a2-5b0d-cfb8-a7f0-dc54cb151dc5.png)\n\n![win4.PNG](https://qiita-image-store.s3.amazonaws.com/0/37648/cd8820a5-7ff7-3761-fd59-2ce52a71a308.png)\n\n\u300c\u3053\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306ePC\u3001\u30c7\u30d0\u30a4\u30b9\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u63a2\u3057\u3001\u30d7\u30ea\u30f3\u30bf\u30fc\u3084TV\u306a\u3069\u306e\u30c7\u30d0\u30a4\u30b9\u306b\u81ea\u52d5\u7684\u306b\u63a5\u7d9a\u3057\u307e\u3059\u300d\u3068\u3044\u3046\u30c0\u30a4\u30a2\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u305f\u5834\u5408\u3001\u300c\u306f\u3044\u300d\u3092\u9078\u3076\u3002\u305d\u3046\u3059\u308b\u3053\u3068\u3067\u3001Windows FireWall\u3067\u30d6\u30ed\u30c3\u30af\u3055\u308c\u306a\u3044\u300c\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u300d\u3068\u3057\u3066VPN\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002\n\n> \u3082\u3057\u300c\u30d1\u30d6\u30ea\u30c3\u30af\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u300d\u3068\u3057\u3066\u4f5c\u6210\u3057\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u3001\u300cPC\u8a2d\u5b9a\uff1e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff1e\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u300d\u304b\u3089\u4f5c\u6210\u3057\u305fVPN\u3092\u9078\u629e\u3057\u3001\u300c\u30c7\u30d0\u30a4\u30b9\u3068\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u691c\u7d22\u300d\u3092\u30aa\u30f3\u306b\u3059\u308b\u3068\u826f\u3044\n\n#### \u63a5\u7d9a\n\nSoftEther VPN Client\u304b\u3089\u63a5\u7d9a\n\n![win5.PNG](https://qiita-image-store.s3.amazonaws.com/0/37648/44d38f15-49ae-84f3-2915-37994015ae54.png)\n\n## USB over IP\u306e\u69cb\u7bc9\n\n### USB over IP\u30b5\u30fc\u30d0(Raspberry Pi)\n\nVirtualHere\u306eUSB\u30b5\u30fc\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0 Raspberry Pi\u7528(armhf hard-float)\u3092\u914d\u7f6e\n\uff08\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306b\u5b9f\u884c\u6a29\u3092\u3064\u3051\u308b\u3060\u3051\uff09\n\n```\n$ wget --no-check-certificate https://www.virtualhere.com/sites/default/files/usbserver/vhusbdarmhf\n$ chmod 755 vhusbdarmhf\n```\n\n### USB over IP\u30af\u30e9\u30a4\u30a2\u30f3\u30c8(Win)\n\nVirtualHere\u306eUSB\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d7\u30ed\u30b0\u30e9\u30e0 Windows\u7528\u3092\u914d\u7f6e\n\uff08\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u9069\u5f53\u306a\u30d5\u30a9\u30eb\u30c0\u306b\u7f6e\u304f\u3060\u3051\uff09\n\nhttps://www.virtualhere.com/sites/default/files/usbclient/vhui64.exe\n\n## USB over SoftEtherVPN\u306e\u691c\u8a3c\n\n#### USB over IP\u30b5\u30fc\u30d0\u8d77\u52d5\n\n\u30af\u30e9\u30a6\u30c9\u306e\u5148\u306b\u3042\u308bPC\u3067\u5171\u6709\u3057\u305f\u3044USB\u30c7\u30d0\u30a4\u30b9\u3092Raspberry Pi\u306b\u63a5\u7d9a\u3057\u305f\u5f8c\u3001\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067VirtualHere\u306eUSB over IP\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\n\n```\n$ sudo ./vhusbdarmhf \nVirtualHere USB Server is running...press ^C to stop\n```\n\n#### \u30af\u30e9\u30a6\u30c9\u306e\u5148\u306b\u3042\u308bPC\u306b\u30ed\u30b0\u30a4\u30f3\n\nSoftEther VPN\u3067\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u30af\u30e9\u30a6\u30c9\u306e\u5148\u306b\u3042\u308b\u30de\u30b7\u30f3\u306eFirewall\u3084\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u30eb\u30fc\u30bf\u306b\u4f55\u306e\u8a2d\u5b9a\u3082\u305b\u305a\u3068\u3082\u3001\u5b89\u5168\u306bRDP\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n\n\uff08RDP\u304c\u3064\u306a\u304c\u3089\u306a\u3044\u5834\u5408\u3001\u30af\u30e9\u30a6\u30c9\u306e\u5148\u306b\u3042\u308bPC\u3067\u69cb\u7bc9\u3057\u305fSoftEther VPN\u304c\u300c\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u300d\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\uff09\n\n#### \u30af\u30e9\u30a6\u30c9\u306e\u5148\u306b\u3042\u308bPC\u306bUSB\u30c7\u30d0\u30a4\u30b9\u3092\u30bb\u30c3\u30c8\n\nPC\u3067VirtualHere\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3002\n\n![win6.PNG](https://qiita-image-store.s3.amazonaws.com/0/37648/eb3734ed-00ed-9659-173d-53f66ce6af4e.png)\n\n\"USB Hubs>Specify Hubs\"\u304b\u3089SoftEther VPN\u4e0a\u3067\u306eRaspberry Pi\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3059\u308b\u3002\n\n![win7.PNG](https://qiita-image-store.s3.amazonaws.com/0/37648/6e523584-5d94-5bed-1310-b54e4b9dd34a.png)\n\n\u6b63\u3057\u304f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3055\u308c\u3066\u3044\u308c\u3070\u3001Raspberry Pi\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308bUSB\u30c7\u30d0\u30a4\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n![win8.PNG](https://qiita-image-store.s3.amazonaws.com/0/37648/8bd02e58-f7eb-1dd1-e991-57aa47e7b203.png)\n\n\u671b\u307f\u306eUSB\u30c7\u30d0\u30a4\u30b9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3059\u308c\u3070\u3001SoftEther VPN\u8d8a\u3057\u306bRaspberry Pi\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308bUSB\u30c7\u30d0\u30a4\u30b9\u304cPC\u3067\u8a8d\u8b58\u3055\u308c\u308b\u3002\n\n![win9.PNG](https://qiita-image-store.s3.amazonaws.com/0/37648/df46f8dd-bde6-561f-6b7c-8dd7ea040118.png)\n\n### \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u901f\u5ea6\n\n| |\u5b9f\u884c\u901f\u5ea6\u203b1|RTT\u203b2|\n|:--|--:|--:|\n|LAN|9.53MB/s|<1ms|\n|Wifi AP|1.06MB/s|50ms|\n|SoftEther VPN over LTE|0.071MB/s|179ms|\n\n\u203b1 : WindowsPC\u304b\u3089Raspberry Pi\u307860000byte\u306eping\u3092\u6253\u3061\u300160000*2/RTT\u5e73\u5747\u5024\u3088\u308a\u6982\u7b97\n\u203b2 : WindowsPC\u304b\u3089Raspberry Pi\u3078\u306e32byte\u306eping\u306eRTT\u5e73\u5747\u5024\n\n### USB2.0\u30c7\u30d0\u30a4\u30b9\u306eI/O\u5b9f\u884c\u901f\u5ea6\n\n| |Sequential Read|Sequential Write|Random Read|Random Write|\n|:--|--:|--:|--:|--:|\n|\u76f4\u63a5\u63a5\u7d9a|18.85MB/s|5.076MB/s|18.77MB/s|1.175MB/s|\n|LAN|3.140MB/s|2.058MB/s|3.155MB/s|1.170MB/s|\n|Wifi AP|1.301MB/s|1.114MB/s|1.328MB/s|0.711MB/s|\n|SoftEther VPN over LTE|\u8a08\u6e2c\u4e0d\u80fd|\u8a08\u6e2c\u4e0d\u80fd|\u8a08\u6e2c\u4e0d\u80fd|\u8a08\u6e2c\u4e0d\u80fd|\n\n## \u307e\u3068\u3081\n\n* USB over SoftEther over LTE\u306f\u78ba\u304b\u306b\u52d5\u4f5c\u3059\u308b\u304c\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u73fe\u6642\u70b9\u3067\u306f\u901f\u5ea6\u7684\u306b\u4f7f\u3044\u7269\u306b\u306a\u3089\u306a\u3044\n* USB over LAN\u3084USB over Wifi\u306f\u3001USB\u30ab\u30e1\u30e9\uff08320x240\uff09\u7a0b\u5ea6\u307e\u3067\u306a\u3089\u3070\u5341\u5206\u4f7f\u3044\u7269\u306b\u306a\u308b\n", "tags": ["RaspberryPi", "SoftEther"]}