{"context": "\u3053\u306e\u8a18\u4e8b\u306fAndroid\u30a2\u30d7\u30ea\u958b\u767a\u8005\uff08Java)\u5411\u3051\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\nChrome Custom Tabs(\u4ee5\u4e0bCCT)\u3068SVG\u6e96\u62e0\u306edrawable\nGoogle I/O 2015\u306e\u6642\u306b\u767a\u8868\u3055\u308c\u305fCCT\u3002\nAndroid\u306e\u30a2\u30d7\u30ea\u3092\u666e\u6bb5\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u304b\u305f\u306f\u4f4e\u901f\u306aWebView\u306e\u4ee3\u66ff\u7b56\u3068\u3057\u3066\u306a\u3069\u3067CCT\u3092\u4f7f\u3063\u3066\u307f\u305f\u65b9\u3082\u5c45\u3089\u308c\u308b\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u6b21\u306b2014\u5e74\u79cb\u3042\u305f\u308a\u304b\u3089\u3001Android5.0\u4ee5\u4e0a\u3067SVG\u6e96\u62e0\u306edrawable\u3092\u4f7f\u3063\u305f\u753b\u50cf\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u30d4\u30af\u30bb\u30eb\u306e\u5bc6\u5ea6\u306b\u5bfe\u5fdc\u3057\u305f\u753b\u50cf\u3092\u4f5c\u3089\u306a\u3044\u3067\u3001\u30ea\u30bd\u30fc\u30b9\u4e00\u3064\u3067\u753b\u50cf\u306e\u4e00\u90e8\u3092\u8868\u73fe\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u305d\u3057\u3066\u3001\u305f\u307e\u305f\u307e\u3061\u3087\u3063\u3068\u524d\u306bCCT\u3092\u4f7f\u3046\u6642\u306b\u3001BottomBar\u306b\u30a2\u30a4\u30b3\u30f3\u304c\u5fc5\u8981\u306a\u306e\u3067\nSVG\u6e96\u62e0\u306edrawable\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u304a\u3046\u3068\u3057\u305f\u3089\u300110\u5206\u307b\u3069\u306f\u307e\u3063\u305f\u306e\u3067\u5171\u6709\u3057\u307e\u3059\u3002\n\n\u5931\u6557\n        Bitmap shareDrawable = BitmapFactory.decodeResource(context.getResources(), R.drawable.ic_share_white_24dp);\n        CustomTabsIntent customTabsIntent =  new CustomTabsIntent.Builder()\n                .setShowTitle(true)\n                .setToolbarColor(ContextCompat.getColor(context, colorId))\n                .addToolbarItem(1, shareDrawable , \"share url.\", sharePendingIntent)\n                .build();\n        customTabsIntent .launchUrl(getActivity(), uri);\n\n\u3053\u308c\u3060\u3068CCT\u306f\u958b\u304d\u307e\u3059\u304cBottom Bar\u304c\u8868\u793a\u3055\u308c\u306a\u3044\u3067\u3059\u3002\n\n\u539f\u56e0\n\u7406\u7531\u306fCCT\u3067\u306fVectorDrawable\u3092\u3064\u304b\u3063\u305fBitmap\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\u3001BitmapFactory.decodeResource\u3092\u3059\u308b\u3060\u3051\u3067\u306f\u3060\u3081\u306a\u3088\u3046\u3067\u3059\u3002\n\u306a\u306e\u3067\u3001\nandroid - Getting Bitmap from vector drawable - Stack Overflow\nVectorDrawable\u3092Bitmap\u306b\u5909\u63db\u3059\u308b\n\u3092\u53c2\u8003\u306b\u3057\u3066\u3001VectorDrawable\u3092canvas\u306b\u6295\u5f71(drawBitmap)\u3059\u308b\u6642\u306b\u3064\u304b\u3063\u305fBitmap\u306e\u53c2\u7167\u3092\u4f7f\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u5bfe\u7b56\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u4e0a\u8a18\u3092\u53c2\u8003\u306b\u4f5c\u308a\u307e\u3057\u305f\u3002\n\nBitmapUtil.java\npublic class BitmapUtil {\n    public static Bitmap convertBitmapFromVector(VectorDrawable vectorDrawable) {\n        Bitmap bitmap = Bitmap.createBitmap(vectorDrawable.getIntrinsicWidth(), vectorDrawable.getIntrinsicHeight(), Bitmap.Config.ARGB_8888);\n        Canvas canvas = new Canvas(bitmap);\n        vectorDrawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight());\n        vectorDrawable.draw(canvas);\n        return bitmap;\n    }\n\n    public static VectorDrawable getVectorDrawable(Context context, @DrawableRes int drawableId) {\n        return (VectorDrawable) ResourcesCompat.getDrawable(context.getResources(), drawableId, null);\n    }\n}\n\n\n\u305d\u308c\u3092\u5931\u6557\u3057\u305f\u30b3\u30fc\u30c9\u306b\u9069\u7528\u3057\u307e\u3059\u3002\n        Drawable shareDrawable = BitmapUtil.getVectorDrawable(context,  R.drawable.ic_share_white_24dp);\n        Bitmap shareBitmap = BitmapUtil.convertBitmapFromVector((VectorDrawable)shareDrawable);\n\n        CustomTabsIntent customTabsIntent =  new CustomTabsIntent.Builder()\n                .setShowTitle(true)\n                .setToolbarColor(ContextCompat.getColor(context, colorId))\n                .addToolbarItem(1, shareBitmap, \"share url.\", sharePendingIntent)\n                .build();\n        customTabsIntent .launchUrl(getActivity(), uri);\n\n\u3053\u308c\u3067\u89e3\u6c7a\u3057\u307e\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u306fAndroid\u30a2\u30d7\u30ea\u958b\u767a\u8005\uff08Java)\u5411\u3051\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n## Chrome Custom Tabs(\u4ee5\u4e0bCCT)\u3068SVG\u6e96\u62e0\u306edrawable\nGoogle I/O 2015\u306e\u6642\u306b\u767a\u8868\u3055\u308c\u305f[CCT](https://developer.chrome.com/multidevice/android/customtabs)\u3002\nAndroid\u306e\u30a2\u30d7\u30ea\u3092\u666e\u6bb5\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u304b\u305f\u306f\u4f4e\u901f\u306aWebView\u306e\u4ee3\u66ff\u7b56\u3068\u3057\u3066\u306a\u3069\u3067CCT\u3092\u4f7f\u3063\u3066\u307f\u305f\u65b9\u3082\u5c45\u3089\u308c\u308b\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u6b21\u306b2014\u5e74\u79cb\u3042\u305f\u308a\u304b\u3089\u3001Android5.0\u4ee5\u4e0a\u3067SVG\u6e96\u62e0\u306edrawable\u3092\u4f7f\u3063\u305f\u753b\u50cf\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u30d4\u30af\u30bb\u30eb\u306e\u5bc6\u5ea6\u306b\u5bfe\u5fdc\u3057\u305f\u753b\u50cf\u3092\u4f5c\u3089\u306a\u3044\u3067\u3001\u30ea\u30bd\u30fc\u30b9\u4e00\u3064\u3067\u753b\u50cf\u306e\u4e00\u90e8\u3092\u8868\u73fe\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n\u305d\u3057\u3066\u3001\u305f\u307e\u305f\u307e\u3061\u3087\u3063\u3068\u524d\u306bCCT\u3092\u4f7f\u3046\u6642\u306b\u3001BottomBar\u306b\u30a2\u30a4\u30b3\u30f3\u304c\u5fc5\u8981\u306a\u306e\u3067\nSVG\u6e96\u62e0\u306edrawable\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u304a\u3046\u3068\u3057\u305f\u3089\u300110\u5206\u307b\u3069\u306f\u307e\u3063\u305f\u306e\u3067\u5171\u6709\u3057\u307e\u3059\u3002\n\n## \u5931\u6557\n```java\n        Bitmap shareDrawable = BitmapFactory.decodeResource(context.getResources(), R.drawable.ic_share_white_24dp);\n        CustomTabsIntent customTabsIntent =  new CustomTabsIntent.Builder()\n                .setShowTitle(true)\n                .setToolbarColor(ContextCompat.getColor(context, colorId))\n                .addToolbarItem(1, shareDrawable , \"share url.\", sharePendingIntent)\n                .build();\n        customTabsIntent .launchUrl(getActivity(), uri);\n```\n\n\u3053\u308c\u3060\u3068CCT\u306f\u958b\u304d\u307e\u3059\u304cBottom Bar\u304c\u8868\u793a\u3055\u308c\u306a\u3044\u3067\u3059\u3002\n\n## \u539f\u56e0\n\n\u7406\u7531\u306f[CCT\u3067\u306fVectorDrawable\u3092\u3064\u304b\u3063\u305fBitmap\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3044\u306a\u3044](http://stackoverflow.com/questions/36183376/does-chrome-custom-tab-support-vectordrawable)\u306e\u304c\u539f\u56e0\u3067\u3001BitmapFactory.decodeResource\u3092\u3059\u308b\u3060\u3051\u3067\u306f\u3060\u3081\u306a\u3088\u3046\u3067\u3059\u3002\n\n\n\u306a\u306e\u3067\u3001\n[android - Getting Bitmap from vector drawable - Stack Overflow](http://stackoverflow.com/questions/33696488/getting-bitmap-from-vector-drawable)\n[VectorDrawable\u3092Bitmap\u306b\u5909\u63db\u3059\u308b](http://qiita.com/konifar/items/aaff934edbf44e39b04a)\n\u3092\u53c2\u8003\u306b\u3057\u3066\u3001VectorDrawable\u3092canvas\u306b\u6295\u5f71(drawBitmap)\u3059\u308b\u6642\u306b\u3064\u304b\u3063\u305fBitmap\u306e\u53c2\u7167\u3092\u4f7f\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n## \u5bfe\u7b56\n\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u4e0a\u8a18\u3092\u53c2\u8003\u306b\u4f5c\u308a\u307e\u3057\u305f\u3002\n\n```java:BitmapUtil.java\npublic class BitmapUtil {\n    public static Bitmap convertBitmapFromVector(VectorDrawable vectorDrawable) {\n        Bitmap bitmap = Bitmap.createBitmap(vectorDrawable.getIntrinsicWidth(), vectorDrawable.getIntrinsicHeight(), Bitmap.Config.ARGB_8888);\n        Canvas canvas = new Canvas(bitmap);\n        vectorDrawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight());\n        vectorDrawable.draw(canvas);\n        return bitmap;\n    }\n\n    public static VectorDrawable getVectorDrawable(Context context, @DrawableRes int drawableId) {\n        return (VectorDrawable) ResourcesCompat.getDrawable(context.getResources(), drawableId, null);\n    }\n}\n```\n\n\u305d\u308c\u3092\u5931\u6557\u3057\u305f\u30b3\u30fc\u30c9\u306b\u9069\u7528\u3057\u307e\u3059\u3002\n\n```java\n        Drawable shareDrawable = BitmapUtil.getVectorDrawable(context,  R.drawable.ic_share_white_24dp);\n        Bitmap shareBitmap = BitmapUtil.convertBitmapFromVector((VectorDrawable)shareDrawable);\n       \n        CustomTabsIntent customTabsIntent =  new CustomTabsIntent.Builder()\n                .setShowTitle(true)\n                .setToolbarColor(ContextCompat.getColor(context, colorId))\n                .addToolbarItem(1, shareBitmap, \"share url.\", sharePendingIntent)\n                .build();\n        customTabsIntent .launchUrl(getActivity(), uri);\n```\n\n\u3053\u308c\u3067\u89e3\u6c7a\u3057\u307e\u3059\u3002\n", "tags": ["android\u958b\u767a", "Android"]}