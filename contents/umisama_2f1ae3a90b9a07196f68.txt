{"context": " More than 1 year has passed since last update.\u30cd\u30c3\u30c8\u3067\u3001pcall\u3092\u4f7f\u3046\u3068\u9045\u304f\u306a\u308b\u3068\u66f8\u3044\u3066\u3044\u308b\u30b5\u30a4\u30c8\u304c\u3042\u3063\u305f\u3002\n\u305d\u306e\u4ed5\u7d44\u307f\u304b\u3089\u3044\u3048\u3070\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306b\u5927\u304d\u306a\u5f71\u97ff\u3092\u4e0e\u3048\u306a\u3044\u3060\u308d\u3046\u3068\u3044\u3046\u4e88\u60f3\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u8abf\u3079\u305f\u3002\u4e88\u60f3\u305d\u306e\u307e\u307e\u306a\u7d50\u679c\u306b\u306a\u3063\u305f\u305f\u3081\u65b0\u898f\u6027\u306f\u7121\u3044\u304c\u3001\u8a18\u9332\u3068\u3057\u3066\u66f8\u304f\u3002\n\n\u7d50\u8ad6\npcall\u306f\u547c\u3073\u51fa\u3057\u30b3\u30b9\u30c8\u306f\u4f7f\u7528\u3057\u306a\u3044\u5834\u5408\u3068\u6bd4\u8f03\u3059\u308c\u3070\u9ad8\u3044\u304c\u3001\u9a5a\u304f\u307b\u3069\u3067\u306f\u306a\u3044\u3002\n\u307e\u305f\u3001\u5185\u5bb9\u306e\u51e6\u7406\u6642\u9593\u81ea\u4f53\u306f\u7279\u306b\u5dee\u304c\u7121\u3044\u3002\n\n\u547c\u3073\u51fa\u3057\u30b3\u30b9\u30c8\u3092\u8abf\u3079\u308b\n\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\npcall\u306e\u547c\u3073\u51fa\u3057\u304c\u901a\u5e38\u306e\u95a2\u6570\u547c\u3073\u51fa\u3057\u3068\u6bd4\u8f03\u3057\u3066\u3069\u308c\u304f\u3089\u3044\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306b\u5f71\u97ff\u3059\u308b\u304b\u3092\u8abf\u3079\u305f\u3002\n\u95a2\u6570\u3092\u7e70\u308a\u8fd4\u3057\u547c\u3076\u30b3\u30fc\u30c9\u306e\u8a08\u7b97\u6642\u9593\u3092\u3001pcall\u547c\u3073\u51fa\u3057\u304b\u5426\u304b\u3067\u6bd4\u8f03\u3057\u305f\u3002\nfunction testfunc()\nend\n\nlocal start = os.clock()\nfor i = 0, 10000000 do\n    -- with pcall\n    pcall(testfunc)\n    -- without pcall\n    --testfunc()\nend\n\nprint( os.clock() - start )\n\n\n\u7d50\u679c\npcall\u3092\u5229\u7528\u3059\u308b\u3068\u3001\u547c\u3073\u51fa\u3057\u30b3\u30b9\u30c8\u306f\u3060\u3044\u305f\u30442\u500d\u5f31\u306b\u306a\u308b\u3053\u3068\u304c\u308f\u304b\u3063\u305f\u3002\n\n\n\n\u56de\npcall\u4f7f\u7528\npcall\u672a\u4f7f\u7528\n\n\n\n\n1\n1.78\n0.97\n\n\n2\n1.8\n0.89\n\n\n3\n1.81\n0.94\n\n\n\n\npcall\u547c\u3073\u51fa\u3057\u5185\u306e\u5b9f\u884c\u52b9\u7387\u3092\u8abf\u3079\u308b\n\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\n\u307e\u305a\u3001pcall\u5185\u3067\u306e\u547c\u3073\u51fa\u3057\u3068\u305d\u308c\u4ee5\u5916\u3067\u306f\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306b\u5f71\u97ff\u3059\u308b\u304b\u3092\u8abf\u3079\u305f\u3002\n\u7d20\u6570\u3092\u30d6\u30eb\u30fc\u30c8\u30d5\u30a9\u30fc\u30b9\u3067\u63a2\u3059\u30b3\u30fc\u30c9\u306e\u8a08\u7b97\u6642\u9593\u3092\u3001pcall\u547c\u3073\u51fa\u3057\u5185\u304b\u5426\u304b\u3067\u6bd4\u8f03\u3057\u305f\u3002\nfunction primechecker()\n     local result = \"\"\n\n     for num=2, 100000 do\n          for i=2, num do\n               if math.mod(num, i) == 0 then\n                    break\n               end\n          end\n          if num == i then\n               result = result .. num .. \",\"\n          end\n     end\n\n     return result\nend\n\nlocal start = os.clock()\nlocal result = \"\"\n\n-- with pcall\nlocal bStat, bErr = pcall(\n          function()\n               result = primechecker()\n          end )\n\n-- without pcall\n--result = primechecker()\n\n\n--print( result )\nprint( \"well done. time:\", os.clock() - start )\n\n\n\u7d50\u679c\n\u6709\u610f\u306a\u5dee\u306f\u7121\u3044\u3002\n\n\n\n\u56de\npcall\u4f7f\u7528\npcall\u672a\u4f7f\u7528\n\n\n\n\n1\n12.63\n13.02\n\n\n2\n12.65\n12.77\n\n\n3\n12.63\n12.62\n\n\n\n\u30cd\u30c3\u30c8\u3067\u3001pcall\u3092\u4f7f\u3046\u3068\u9045\u304f\u306a\u308b\u3068\u66f8\u3044\u3066\u3044\u308b\u30b5\u30a4\u30c8\u304c\u3042\u3063\u305f\u3002\n\u305d\u306e\u4ed5\u7d44\u307f\u304b\u3089\u3044\u3048\u3070\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306b\u5927\u304d\u306a\u5f71\u97ff\u3092\u4e0e\u3048\u306a\u3044\u3060\u308d\u3046\u3068\u3044\u3046\u4e88\u60f3\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u8abf\u3079\u305f\u3002\u4e88\u60f3\u305d\u306e\u307e\u307e\u306a\u7d50\u679c\u306b\u306a\u3063\u305f\u305f\u3081\u65b0\u898f\u6027\u306f\u7121\u3044\u304c\u3001\u8a18\u9332\u3068\u3057\u3066\u66f8\u304f\u3002\n\n# \u7d50\u8ad6\npcall\u306f\u547c\u3073\u51fa\u3057\u30b3\u30b9\u30c8\u306f\u4f7f\u7528\u3057\u306a\u3044\u5834\u5408\u3068\u6bd4\u8f03\u3059\u308c\u3070\u9ad8\u3044\u304c\u3001\u9a5a\u304f\u307b\u3069\u3067\u306f\u306a\u3044\u3002\n\u307e\u305f\u3001\u5185\u5bb9\u306e\u51e6\u7406\u6642\u9593\u81ea\u4f53\u306f\u7279\u306b\u5dee\u304c\u7121\u3044\u3002\n\n# \u547c\u3073\u51fa\u3057\u30b3\u30b9\u30c8\u3092\u8abf\u3079\u308b\n## \u30d9\u30f3\u30c1\u30de\u30fc\u30af\npcall\u306e\u547c\u3073\u51fa\u3057\u304c\u901a\u5e38\u306e\u95a2\u6570\u547c\u3073\u51fa\u3057\u3068\u6bd4\u8f03\u3057\u3066\u3069\u308c\u304f\u3089\u3044\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306b\u5f71\u97ff\u3059\u308b\u304b\u3092\u8abf\u3079\u305f\u3002\n\u95a2\u6570\u3092\u7e70\u308a\u8fd4\u3057\u547c\u3076\u30b3\u30fc\u30c9\u306e\u8a08\u7b97\u6642\u9593\u3092\u3001pcall\u547c\u3073\u51fa\u3057\u304b\u5426\u304b\u3067\u6bd4\u8f03\u3057\u305f\u3002\n\n```lua\nfunction testfunc()\nend\n\nlocal start = os.clock()\nfor i = 0, 10000000 do\n\t-- with pcall\n\tpcall(testfunc)\n\t-- without pcall\n\t--testfunc()\nend\n\nprint( os.clock() - start )\n```\n\n## \u7d50\u679c\npcall\u3092\u5229\u7528\u3059\u308b\u3068\u3001\u547c\u3073\u51fa\u3057\u30b3\u30b9\u30c8\u306f\u3060\u3044\u305f\u30442\u500d\u5f31\u306b\u306a\u308b\u3053\u3068\u304c\u308f\u304b\u3063\u305f\u3002\n\n| \u56de | pcall\u4f7f\u7528 | pcall\u672a\u4f7f\u7528 |\n|----|----|----|\n| 1 | 1.78 | 0.97 |\n| 2 | 1.8 | 0.89 |\n| 3 | 1.81 | 0.94 |\n\n# pcall\u547c\u3073\u51fa\u3057\u5185\u306e\u5b9f\u884c\u52b9\u7387\u3092\u8abf\u3079\u308b\n## \u30d9\u30f3\u30c1\u30de\u30fc\u30af\n\u307e\u305a\u3001pcall\u5185\u3067\u306e\u547c\u3073\u51fa\u3057\u3068\u305d\u308c\u4ee5\u5916\u3067\u306f\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306b\u5f71\u97ff\u3059\u308b\u304b\u3092\u8abf\u3079\u305f\u3002\n\u7d20\u6570\u3092\u30d6\u30eb\u30fc\u30c8\u30d5\u30a9\u30fc\u30b9\u3067\u63a2\u3059\u30b3\u30fc\u30c9\u306e\u8a08\u7b97\u6642\u9593\u3092\u3001pcall\u547c\u3073\u51fa\u3057\u5185\u304b\u5426\u304b\u3067\u6bd4\u8f03\u3057\u305f\u3002\n\n```lua\nfunction primechecker()\n     local result = \"\"\n\n     for num=2, 100000 do\n          for i=2, num do\n               if math.mod(num, i) == 0 then\n                    break\n               end\n          end\n          if num == i then\n               result = result .. num .. \",\"\n          end\n     end\n\n     return result\nend\n\nlocal start = os.clock()\nlocal result = \"\"\n\n-- with pcall\nlocal bStat, bErr = pcall(\n          function()\n               result = primechecker()\n          end )\n\n-- without pcall\n--result = primechecker()\n\n\n--print( result )\nprint( \"well done. time:\", os.clock() - start )\n```\n## \u7d50\u679c\n\u6709\u610f\u306a\u5dee\u306f\u7121\u3044\u3002\n\n| \u56de | pcall\u4f7f\u7528 | pcall\u672a\u4f7f\u7528 |\n|----|----|----|\n| 1 | 12.63 | 13.02 |\n| 2 | 12.65 | 12.77 |\n| 3 | 12.63 | 12.62 |\n", "tags": ["Lua"]}