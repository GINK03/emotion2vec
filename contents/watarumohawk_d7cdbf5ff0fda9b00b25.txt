{"context": " More than 1 year has passed since last update.GitHub\u3084\u3089\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306bpush\u3057\u305f\u6642\u306bbuild\u3057\u3066\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u516c\u958b\u3059\u308b\u3001\u3068\u3044\u3046\u8a2d\u5b9a\u3067\u3059\u3002\n\nSphinx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u306e\u30da\u30fc\u30b8\u306e\u901a\u308a\u306b\u3084\u308b\u3002\n\nSphinx\u3092\u306f\u3058\u3081\u3088\u3046\n\n\nsphinx-quickstart \u306a\u3069\u306e\u5f8c\u306e\u4f5c\u696d\n\nsphinx-intl \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo pip install sphinx-intl\n\n\nconf.py\u7de8\u96c6\n\u4ee5\u4e0b\u3092\u8ffd\u8a18\nlocale_dirs = [\"locale\"]\n\n\npot\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n$ make gettext\n\n_build/locale \u306bpot\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u6765\u308b\n\nlocale/pot \u306b\u30b3\u30d4\u30fc\n$ mkdir locale/pot\u3000 # 2\u5ea6\u76ee\u4ee5\u964d\u4e0d\u8981\n$ cp -R _build/locale/*.pot locale/pot/\n\n\n\u5404\u8a00\u8a9e\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\n$ mkdir -p locale/ja/LC_MESSAGES  # 2\u5ea6\u76ee\u4ee5\u964d\u4e0d\u8981\n$ cp -R locale/pot/* locale/ja/LC_MESSAGES/\n\n\n\u7ffb\u8a33\u7528\u306epo\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n$ sphinx-intl update -p _build/locale -l ja\n\n\npo\u30d5\u30a1\u30a4\u30eb\u306b\u7ffb\u8a33\u6587\u3092\u66f8\u304d\u8fbc\u3080\nlocale/ja/LC_MESSAGES \u306b\u3042\u308bpo\u30d5\u30a1\u30a4\u30eb\u306b\u7ffb\u8a33\u6587\u3092\u66f8\u304d\u8fbc\u3080\u3002\n    msgid \"Sphinx\"\n    msgstr \"\"\n\n\u306e msgstr \"\" \u306b\u7ffb\u8a33\u6587\u3092\u66f8\u3044\u3066\u3044\u304f\u3002\n\n\u4f8b\n    msgstr \"\u30b9\u30d5\u30a3\u30f3\u30af\u30b9\"\n\n\n\npo\u30d5\u30a1\u30a4\u30eb\u304b\u3089mo\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\u4ee5\u4e0b\u306fpush\u3057\u3066Jenkins\u306b\u3084\u3089\u305b\u308b\u3002(\u81ea\u5206\u3067mo\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3082\u826f\u3044\u3051\u3069\u3002)\n$ sphinx-intl build\n\n\nmo\u30d5\u30a1\u30a4\u30eb\u304b\u3089html\u4f5c\u6210\n$ make clean html\n\nclean\u3092\u4ed8\u3051\u3066\u304a\u304b\u306a\u3044\u3068\u3001\u4f5c\u6210\u3055\u308c\u305fhtml\u4e2d\u3067\u3001\u8ffd\u52a0\u3057\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u5bfe\u3059\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5185\u53c2\u7167\uff08:doc:\uff09\u306e\u30ea\u30f3\u30af\u304c\u6709\u52b9\u306b\u306a\u3089\u306a\u3044\u306e\u3067\u3001clean\u3092\u4ed8\u3051\u3066\u307e\u3059\u3002\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u66f4\u65b0\u5f8c\n$ make gettext\n\n\u4ee5\u964d\u3092\u3082\u3046\u4e00\u5ea6\u3084\u308b\u3002\n\nJenkins\u3067\u30b7\u30a7\u30eb\u306e\u5b9f\u884c\n\u4e0a\u8a18\u306e\u901a\u308a\u3067\u3001\u7ffb\u8a33\u6587\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3053\u307e\u3067\u3092\u4eba\u304c\u3084\u308c\u3070\u826f\u3044\u306e\u3067\u3001push\u5f8c\u306b\u3084\u3063\u3066\u6b32\u3057\u3044\u4f5c\u696d\u306f\n$ sphinx-intl build\n$ make clean html\n\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u516c\u958b\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u516c\u958b\u306f\u3001\u30d3\u30eb\u30c9\u3059\u308bJenkins\u306e\u30b8\u30e7\u30d6\u3068\u306f\u5225\u306b\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3057\u3001\u30d3\u30eb\u30c9\u5f8c\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u516c\u958b\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u3002\u8a73\u7d30\u306f\u7701\u7565\u3002\n\n\u4f59\u8ac7\n\u6bce\u56de\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3064\u306e\u304c\u9762\u5012\u306a\u306e\u3067\u3001shell script\u306b\u4ee5\u4e0b\u306e\u69d8\u306b\u66f8\u3044\u3066\u304a\u304f\u3068\u4fbf\u5229\u3002\n\ntranslate.sh\nmake gettext\ncp -R _build/locale/*.pot locale/pot/\ncp -R locale/pot/* locale/ja/LC_MESSAGES/\nsphinx-intl update -p _build/locale -l ja\n\n\n\u2193\n\u7ffb\u8a33\u3092\u3059\u308b\n\u2193\n\nbuild.sh\nsphinx-intl build\nmake clean html\n\n\n\nTips\n\n\u30a4\u30f3\u30c7\u30f3\u30c8\n.. toctree::\n   :maxdepth: 1\n\n   top\n   document1\n   document2\n\ntop\u3068\u304bdocument1\u306e\u90e8\u5206\u306f\u3001\u30b9\u30da\u30fc\u30b93\u3064\u3067\u30a4\u30f3\u30c7\u30f3\u30c8\u3057\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002\n\n\u4f7f\u3044\u59cb\u3081\u305f\u3070\u304b\u308a\u306eSphinx\u3067PDF\u3092\u751f\u6210\u3057\u3066\u307f\u305f\n\n\nlocale\nValueError: unknown locale: UTF-8\n\n\u306e\u30a8\u30e9\u30fc\u306b\u3064\u3044\u3066\u3002\n\"LC_ALL=\" \u304c\u7a7a\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u304c\u539f\u56e0\u3002\n$ locale\n\nLANG=\nLC_COLLATE=\"C\"\nLC_CTYPE=\"UTF-8\"\nLC_MESSAGES=\"C\"\nLC_MONETARY=\"C\"\nLC_NUMERIC=\"C\"\nLC_TIME=\"C\"\nLC_ALL=\n\n$ export LC_ALL='ja_JP.UTF-8'\n$ locale\n\nLANG=\nLC_COLLATE=\"ja_JP.UTF-8\"\nLC_CTYPE=\"ja_JP.UTF-8\"\nLC_MESSAGES=\"ja_JP.UTF-8\"\nLC_MONETARY=\"ja_JP.UTF-8\"\nLC_NUMERIC=\"ja_JP.UTF-8\"\nLC_TIME=\"ja_JP.UTF-8\"\nLC_ALL=\"ja_JP.UTF-8\"\n\n\u3053\u308c\u3067\u3001\u89e3\u6c7a\u3002\nexport LC_ALL='ja_JP.UTF-8'\n\n\u3092bashrc\u306b\u66f8\u304d\u8fbc\u3080\n$ vi ~/.bashrc\n$ source ~/.bashrc\n\n\n\n\u53c2\u8003\n\nSphinx\u306ei18n\u6a5f\u80fd\u3092\u4f7f\u3063\u305f\u7ffb\u8a33\u624b\u9806(with transifex, amazon-s3)\nEasy contributable internationalization process with Sphinx @ pyconsg2015\n\nGitHub\u3084\u3089\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306bpush\u3057\u305f\u6642\u306bbuild\u3057\u3066\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u516c\u958b\u3059\u308b\u3001\u3068\u3044\u3046\u8a2d\u5b9a\u3067\u3059\u3002\n\n# Sphinx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u3053\u306e\u30da\u30fc\u30b8\u306e\u901a\u308a\u306b\u3084\u308b\u3002\n\n* [Sphinx\u3092\u306f\u3058\u3081\u3088\u3046](http://sphinx-users.jp/gettingstarted/)\n\n# sphinx-quickstart \u306a\u3069\u306e\u5f8c\u306e\u4f5c\u696d\n\n### sphinx-intl \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo pip install sphinx-intl\n```\n\n### conf.py\u7de8\u96c6\n\n\u4ee5\u4e0b\u3092\u8ffd\u8a18\n\n```\nlocale_dirs = [\"locale\"]\n```\n\n### pot\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n```\n$ make gettext\n```\n\n_build/locale \u306bpot\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u6765\u308b\n\n### locale/pot \u306b\u30b3\u30d4\u30fc\n\n```\n$ mkdir locale/pot\u3000 # 2\u5ea6\u76ee\u4ee5\u964d\u4e0d\u8981\n$ cp -R _build/locale/*.pot locale/pot/\n```\n\n### \u5404\u8a00\u8a9e\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\n\n```\n$ mkdir -p locale/ja/LC_MESSAGES  # 2\u5ea6\u76ee\u4ee5\u964d\u4e0d\u8981\n$ cp -R locale/pot/* locale/ja/LC_MESSAGES/\n```\n\n\n### \u7ffb\u8a33\u7528\u306epo\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n```\n$ sphinx-intl update -p _build/locale -l ja\n```\n\n### po\u30d5\u30a1\u30a4\u30eb\u306b\u7ffb\u8a33\u6587\u3092\u66f8\u304d\u8fbc\u3080\n\nlocale/ja/LC_MESSAGES \u306b\u3042\u308bpo\u30d5\u30a1\u30a4\u30eb\u306b\u7ffb\u8a33\u6587\u3092\u66f8\u304d\u8fbc\u3080\u3002\n\n```\n    msgid \"Sphinx\"\n    msgstr \"\"\n```\n\n\u306e msgstr \"\" \u306b\u7ffb\u8a33\u6587\u3092\u66f8\u3044\u3066\u3044\u304f\u3002\n\n```txt:\u4f8b\n    msgstr \"\u30b9\u30d5\u30a3\u30f3\u30af\u30b9\"\n```\n\n### po\u30d5\u30a1\u30a4\u30eb\u304b\u3089mo\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\n\u4ee5\u4e0b\u306fpush\u3057\u3066Jenkins\u306b\u3084\u3089\u305b\u308b\u3002(\u81ea\u5206\u3067mo\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3082\u826f\u3044\u3051\u3069\u3002)\n\n```\n$ sphinx-intl build\n```\n\n### mo\u30d5\u30a1\u30a4\u30eb\u304b\u3089html\u4f5c\u6210\n\n```\n$ make clean html\n```\n\nclean\u3092\u4ed8\u3051\u3066\u304a\u304b\u306a\u3044\u3068\u3001\u4f5c\u6210\u3055\u308c\u305fhtml\u4e2d\u3067\u3001\u8ffd\u52a0\u3057\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u5bfe\u3059\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5185\u53c2\u7167\uff08:doc:\uff09\u306e\u30ea\u30f3\u30af\u304c\u6709\u52b9\u306b\u306a\u3089\u306a\u3044\u306e\u3067\u3001clean\u3092\u4ed8\u3051\u3066\u307e\u3059\u3002\n\n# \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u66f4\u65b0\u5f8c\n\n```\n$ make gettext\n```\n\u4ee5\u964d\u3092\u3082\u3046\u4e00\u5ea6\u3084\u308b\u3002\n\n\n# Jenkins\u3067\u30b7\u30a7\u30eb\u306e\u5b9f\u884c\n\n\u4e0a\u8a18\u306e\u901a\u308a\u3067\u3001\u7ffb\u8a33\u6587\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3053\u307e\u3067\u3092\u4eba\u304c\u3084\u308c\u3070\u826f\u3044\u306e\u3067\u3001push\u5f8c\u306b\u3084\u3063\u3066\u6b32\u3057\u3044\u4f5c\u696d\u306f\n\n```\n$ sphinx-intl build\n$ make clean html\n```\n\n# \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u516c\u958b\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u516c\u958b\u306f\u3001\u30d3\u30eb\u30c9\u3059\u308bJenkins\u306e\u30b8\u30e7\u30d6\u3068\u306f\u5225\u306b\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3057\u3001\u30d3\u30eb\u30c9\u5f8c\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u516c\u958b\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u3002\u8a73\u7d30\u306f\u7701\u7565\u3002\n\n# \u4f59\u8ac7\n\n\u6bce\u56de\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3064\u306e\u304c\u9762\u5012\u306a\u306e\u3067\u3001shell script\u306b\u4ee5\u4e0b\u306e\u69d8\u306b\u66f8\u3044\u3066\u304a\u304f\u3068\u4fbf\u5229\u3002\n\n```bash:translate.sh\nmake gettext\ncp -R _build/locale/*.pot locale/pot/\ncp -R locale/pot/* locale/ja/LC_MESSAGES/\nsphinx-intl update -p _build/locale -l ja\n```\n\n\u2193\n\u7ffb\u8a33\u3092\u3059\u308b\n\u2193\n\n```bash:build.sh\nsphinx-intl build\nmake clean html\n```\n\n# Tips\n\n## \u30a4\u30f3\u30c7\u30f3\u30c8\n\n\t.. toctree::\n\t   :maxdepth: 1\n\n\t   top\n\t   document1\n\t   document2\n\t   \n\ntop\u3068\u304bdocument1\u306e\u90e8\u5206\u306f\u3001\u30b9\u30da\u30fc\u30b93\u3064\u3067\u30a4\u30f3\u30c7\u30f3\u30c8\u3057\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002\n\n\n* [\u4f7f\u3044\u59cb\u3081\u305f\u3070\u304b\u308a\u306eSphinx\u3067PDF\u3092\u751f\u6210\u3057\u3066\u307f\u305f](http://kanonji.info/blog/2013/04/12/%E4%BD%BF%E3%81%84%E5%A7%8B%E3%82%81%E3%81%9F%E3%81%B0%E3%81%8B%E3%82%8A%E3%81%AEsphinx%E3%81%A7pdf%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%A6%E3%81%BF%E3%81%9F/)\n\n## locale\n\n\n```\nValueError: unknown locale: UTF-8\n```\n\n\u306e\u30a8\u30e9\u30fc\u306b\u3064\u3044\u3066\u3002\n\n\"LC_ALL=\" \u304c\u7a7a\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u304c\u539f\u56e0\u3002\n\n```\n$ locale\n\nLANG=\nLC_COLLATE=\"C\"\nLC_CTYPE=\"UTF-8\"\nLC_MESSAGES=\"C\"\nLC_MONETARY=\"C\"\nLC_NUMERIC=\"C\"\nLC_TIME=\"C\"\nLC_ALL=\n```\n\n```\n$ export LC_ALL='ja_JP.UTF-8'\n$ locale\n\nLANG=\nLC_COLLATE=\"ja_JP.UTF-8\"\nLC_CTYPE=\"ja_JP.UTF-8\"\nLC_MESSAGES=\"ja_JP.UTF-8\"\nLC_MONETARY=\"ja_JP.UTF-8\"\nLC_NUMERIC=\"ja_JP.UTF-8\"\nLC_TIME=\"ja_JP.UTF-8\"\nLC_ALL=\"ja_JP.UTF-8\"\n```\n\n\u3053\u308c\u3067\u3001\u89e3\u6c7a\u3002\n\n```\nexport LC_ALL='ja_JP.UTF-8'\n```\n\n\u3092bashrc\u306b\u66f8\u304d\u8fbc\u3080\n\n```\n$ vi ~/.bashrc\n$ source ~/.bashrc\n\n```\n\n\n# \u53c2\u8003\n\n* [Sphinx\u306ei18n\u6a5f\u80fd\u3092\u4f7f\u3063\u305f\u7ffb\u8a33\u624b\u9806(with transifex, amazon-s3)](http://www.freia.jp/taka/blog/sphinx-i18n-translation-procedure-with-transifex-amazon-s3/)\n* [Easy contributable internationalization process with Sphinx @ pyconsg2015](http://www.slideshare.net/shimizukawa/easy-contributable-internationalization-process-with-sphinx-pyconsg2015)\n", "tags": ["Sphinx", "I18n", "document"]}