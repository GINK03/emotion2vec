{"context": "\n\n\u6e96\u5099\n\n\u30e1\u30e2\u30ea\u5272\u308a\u5f53\u3066\u3092\u5897\u3084\u3057\u3066\u304a\u304f\u3002\n\u203b\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\uff08512MB\uff1f\uff09\u3060\u3068\u3001json\u7b49\u306e\u5404\u7a2egem\u30d3\u30eb\u30c9\u6642\u306b\u3001\u30e1\u30e2\u30ea\u4e0d\u8db3\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u3002\nruby-debug-ide\u3092\u4f7f\u3063\u3066\u3001Host->Guest\u306e\u30ea\u30e2\u30fc\u30c8\u3067\u30d0\u30c3\u30b0\u3092\u3059\u308b\u5834\u5408\u3001\u304b\u3064\u305d\u306e\u969b\u306b1234\u756a\u30dd\u30fc\u30c8\u3092forward\u3059\u308b\u306a\u3089\u3001\u305d\u306e\u8a2d\u5b9a\u3082\u8ffd\u52a0\u3057\u3066\u304a\u304f\n\n\nVagrantfile\nVagrant.configure('2') do |config|\n  config.vm.box      = 'ubuntu/trusty64'\n  config.vm.hostname = 'rails-dev-box'\n\n  config.vm.network :forwarded_port, guest: 3000, host: 3000\n\n  # for Remote Debug (Host RubyMine -> Guest ruby-debug-ide)\n  config.vm.network :forwarded_port, guest: 1234, host: 1234\n\n  config.vm.provision :shell, path: 'bootstrap.sh', keep_color: true\n\n  # increase memory: https://www.vagrantup.com/docs/virtualbox/configuration.html\n  config.vm.provider \"virtualbox\" do |v|\n    v.memory = 2048\n  end\nend\n\n\n\n\u74b0\u5883\u69cb\u7bc9\n$ sudo timedatectl set-timezone Asia/Tokyo \u203b\u8868\u793a\u3092\u65e5\u672c\u6642\u9593\u306b\n\n$ cd\n\n$ vi .gemrc   \u4ee5\u4e0b2\u884c\u8ffd\u52a0\ninstall: --no-document\nupdate: --no-document\n\n$ git clone https://github.com/sstephenson/rbenv.git ~/.rbenv\n$ git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n$ git clone https://github.com/rbenv/rbenv-gem-rehash.git ~/.rbenv/plugins/rbenv-gem-rehash\n$ git clone git://github.com/ianheggie/rbenv-binstubs.git ~/.rbenv/plugins/rbenv-binstubs\n\n$ vi .bashrc   \u4ee5\u4e0b2\u884c\u8ffd\u52a0\nexport PATH=\"$HOME/.rbenv/bin:$PATH\"\neval \"$(rbenv init -)\"\n\n$ source .bashrc    \u203b\u53cd\u6620\n\n$ rbenv --version   \u203brbenv\u81ea\u4f53\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u8868\u793a\n\n$ rbenv versions    \u203b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bruby\u4e00\u89a7\n\n\u203b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51fa\u6765\u308bruby\u4e00\u89a7\n$ rbenv install --list  \n\n\u203b\u30ea\u30b9\u30c8\u3092\u66f4\u65b0\n$ cd ~/.rbenv/plugins/ruby-build\n$ git pull\n\n\u203bruby\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002rdoc\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u305b\u305a\u306b\u3002\n$ CONFIGURE_OPTS=\"--disable-install-rdoc\" rbenv install 2.2.5\n\nrbenv-binstubs\u306e\u4ee3\u308f\u308a\u306bdirenv\u3092\u4f7f\u3046\u624b\u3082\u3042\u308b\u3068\u306e\u3053\u3068\u3002\n\n\u65b0\u898f\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n$ mkdir gomi_app\n$ cd gomi_app\n$ rbenv local 1.9.3-p551\n$ rbenv exec gem install bundler\n$ rbenv which bundle\n/home/vagrant/.rbenv/versions/1.9.3-p551/bin/bundle\n$ rbenv which bundler\n/vagrant/gomi_app/bundle_bin/bundler\n\n$ rbenv exec bundle init\n\n$ vi Gemfile  \u203b\u4ee5\u4e0b\u306e\u884c\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3059\uff08\u5fc5\u8981\u304c\u3042\u308c\u3070\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u3082\u66f8\u304f\uff09\ngem \"rails\"\n\n$ bundle install --binstubs=bundle_bin --without production\n\n$ bundle exec rails new . --skip-bundle\n\u2605skip-bundle\u306f\u300ebundle install\u3092\u3057\u306a\u3044\u300f\u30aa\u30d7\u30b7\u30e7\u30f3\u3002gem\u3092local\u306b\u5165\u308c\u3066\u306a\u3044\u5834\u5408\u306f\u3001--skip-bundle \u4e0d\u8981\uff1dbundle install\u3057\u3066\u3082\u3089\u3063\u3066\u3044\u3044\u306e\u304b\u306a\u3002\n\n\u203bbinstubs\u3084without\u30aa\u30d7\u30b7\u30e7\u30f3\u306f .bundle/config\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u61b6\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u518d\u5ea6\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u306a\u3057\n$ bundle install\n\n\u203bgem\u304c\u3069\u3053\u306binstall\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\n$ bundle show --paths\n\n\nbundle install \u306b --path=vendor/bundle \u3092\u4ed8\u3051\u308b\u3068\u3001ext\u306e\u30d3\u30eb\u30c9\uff1f\u306b\u5931\u6557\u3059\u308b\u3002Windows\u5074\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092vagrant\uff08ubuntu\uff09\u5074\u3067\u30de\u30a6\u30f3\u30c8\u3057\u3066\u3044\u3066\u3001\u305d\u3053\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308d\u3046\u3068\u3059\u308b\u3068\u30c0\u30e1\u307f\u305f\u3044\u3002\n--path\u3067path\u306e\u901a\u3063\u3066\u3044\u306a\u3044\u3068\u3053\u308d(?)\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001bundle exec\u3092\u7701\u7565\u3059\u308b\u4ed5\u7d44\u307f\uff08rbenv-binstubs\uff09\u304c\u4e0a\u624b\u304f\u50cd\u304b\u306a\u304f\u306a\u308b\u3068\u306e\u3053\u3068\u3002\n\u53c2\u8003: Rails 4.0 \u3068 bundler install --binstubs \u306b\u3064\u3044\u3066\n\n\n\n\u65e2\u5b58\u30a2\u30d7\u30ea\u306e\u79fb\u884c\n$ rbenv local 1.9.3-p551\n$ rbenv exec gem install bundler\n$ bundle install --binstubs=bundle_bin --without production\n$ rails new . --pretend --skip --skip-test-unit --skip-bundle\n$ rails new . --skip --skip-test-unit --skip-bundle\n$ rake db:migrate RAILS_ENV=development\n\n\n\u53c2\u8003\u30ea\u30f3\u30af\nrbenv \u3092\u5229\u7528\u3057\u305f Ruby \u74b0\u5883\u306e\u69cb\u7bc9\nbundle exec \u30b3\u30de\u30f3\u30c9\u3092\u7701\u7565\u3059\u308b\nBundler4\u3064\u306e\u4fbf\u5229\u306a\u4f7f\u3044\u65b9\uff08\u521d\u671f\u5316\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u7701\u7565\u3059\u308b\u8a2d\u5b9a\u306a\u3069\uff09\nDebian 7.0, Ubuntu 13.04 \u306b rbenv \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nVagrant\u74b0\u5883\u3067\u306ebundle install\u3067\u5931\u6557\u3059\u308b\n\u2605\u3053\u308c\u3067\u6b7b\u306c\u307b\u3069\u306f\u307e\u3063\u305f\u3002\u3042\u308a\u304c\u3068\u3046(^^)\nbundle exec\u3092\u4f7f\u308f\u305a\u306b\u6e08\u3080\u65b9\u6cd5\uff08rbenv\u7de8\uff09\nrbenv + bundler \u74b0\u5883\u3067 Ruby on Rails4 \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u65b0\u898f\u4f5c\u6210\u3059\u308b\n.gitignore\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\nCentOS7 on Vagrant\u3067\u306e\u6642\u523b\u8a2d\u5b9a\n### \u6e96\u5099\n - \u30e1\u30e2\u30ea\u5272\u308a\u5f53\u3066\u3092\u5897\u3084\u3057\u3066\u304a\u304f\u3002\n\u203b\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\uff08512MB\uff1f\uff09\u3060\u3068\u3001json\u7b49\u306e\u5404\u7a2egem\u30d3\u30eb\u30c9\u6642\u306b\u3001\u30e1\u30e2\u30ea\u4e0d\u8db3\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u3002\n - ruby-debug-ide\u3092\u4f7f\u3063\u3066\u3001Host->Guest\u306e\u30ea\u30e2\u30fc\u30c8\u3067\u30d0\u30c3\u30b0\u3092\u3059\u308b\u5834\u5408\u3001\u304b\u3064\u305d\u306e\u969b\u306b1234\u756a\u30dd\u30fc\u30c8\u3092forward\u3059\u308b\u306a\u3089\u3001\u305d\u306e\u8a2d\u5b9a\u3082\u8ffd\u52a0\u3057\u3066\u304a\u304f\n\n```rb:Vagrantfile\nVagrant.configure('2') do |config|\n  config.vm.box      = 'ubuntu/trusty64'\n  config.vm.hostname = 'rails-dev-box'\n\n  config.vm.network :forwarded_port, guest: 3000, host: 3000\n\n  # for Remote Debug (Host RubyMine -> Guest ruby-debug-ide)\n  config.vm.network :forwarded_port, guest: 1234, host: 1234\n\n  config.vm.provision :shell, path: 'bootstrap.sh', keep_color: true\n \n  # increase memory: https://www.vagrantup.com/docs/virtualbox/configuration.html\n  config.vm.provider \"virtualbox\" do |v|\n    v.memory = 2048\n  end\nend\n```\n\n### \u74b0\u5883\u69cb\u7bc9 ###\n\n```bash\n$ sudo timedatectl set-timezone Asia/Tokyo \u203b\u8868\u793a\u3092\u65e5\u672c\u6642\u9593\u306b\n\n$ cd\n\n$ vi .gemrc   \u4ee5\u4e0b2\u884c\u8ffd\u52a0\ninstall: --no-document\nupdate: --no-document\n\n$ git clone https://github.com/sstephenson/rbenv.git ~/.rbenv\n$ git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n$ git clone https://github.com/rbenv/rbenv-gem-rehash.git ~/.rbenv/plugins/rbenv-gem-rehash\n$ git clone git://github.com/ianheggie/rbenv-binstubs.git ~/.rbenv/plugins/rbenv-binstubs\n\n$ vi .bashrc   \u4ee5\u4e0b2\u884c\u8ffd\u52a0\nexport PATH=\"$HOME/.rbenv/bin:$PATH\"\neval \"$(rbenv init -)\"\n\n$ source .bashrc    \u203b\u53cd\u6620\n\n$ rbenv --version   \u203brbenv\u81ea\u4f53\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u8868\u793a\n\n$ rbenv versions    \u203b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bruby\u4e00\u89a7\n\n\u203b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51fa\u6765\u308bruby\u4e00\u89a7\n$ rbenv install --list  \n\n\u203b\u30ea\u30b9\u30c8\u3092\u66f4\u65b0\n$ cd ~/.rbenv/plugins/ruby-build\n$ git pull\n\n\u203bruby\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002rdoc\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u305b\u305a\u306b\u3002\n$ CONFIGURE_OPTS=\"--disable-install-rdoc\" rbenv install 2.2.5\n```\n[rbenv-binstubs\u306e\u4ee3\u308f\u308a\u306bdirenv\u3092\u4f7f\u3046\u624b](http://cohakim.com/archives/6031)\u3082\u3042\u308b\u3068\u306e\u3053\u3068\u3002\n\n### \u65b0\u898f\u30a2\u30d7\u30ea\u306e\u4f5c\u6210 ###\n\n```bash\n$ mkdir gomi_app\n$ cd gomi_app\n$ rbenv local 1.9.3-p551\n$ rbenv exec gem install bundler\n$ rbenv which bundle\n/home/vagrant/.rbenv/versions/1.9.3-p551/bin/bundle\n$ rbenv which bundler\n/vagrant/gomi_app/bundle_bin/bundler\n\n$ rbenv exec bundle init\n\n$ vi Gemfile  \u203b\u4ee5\u4e0b\u306e\u884c\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3059\uff08\u5fc5\u8981\u304c\u3042\u308c\u3070\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u3082\u66f8\u304f\uff09\ngem \"rails\"\n\n$ bundle install --binstubs=bundle_bin --without production\n\n$ bundle exec rails new . --skip-bundle\n\u2605skip-bundle\u306f\u300ebundle install\u3092\u3057\u306a\u3044\u300f\u30aa\u30d7\u30b7\u30e7\u30f3\u3002gem\u3092local\u306b\u5165\u308c\u3066\u306a\u3044\u5834\u5408\u306f\u3001--skip-bundle \u4e0d\u8981\uff1dbundle install\u3057\u3066\u3082\u3089\u3063\u3066\u3044\u3044\u306e\u304b\u306a\u3002\n\n\u203bbinstubs\u3084without\u30aa\u30d7\u30b7\u30e7\u30f3\u306f .bundle/config\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u61b6\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u518d\u5ea6\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u306a\u3057\n$ bundle install\n\n\u203bgem\u304c\u3069\u3053\u306binstall\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\n$ bundle show --paths\n```\n- bundle install \u306b `--path=vendor/bundle` \u3092\u4ed8\u3051\u308b\u3068\u3001ext\u306e\u30d3\u30eb\u30c9\uff1f\u306b\u5931\u6557\u3059\u308b\u3002Windows\u5074\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092vagrant\uff08ubuntu\uff09\u5074\u3067\u30de\u30a6\u30f3\u30c8\u3057\u3066\u3044\u3066\u3001\u305d\u3053\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308d\u3046\u3068\u3059\u308b\u3068\u30c0\u30e1\u307f\u305f\u3044\u3002\n- --path\u3067path\u306e\u901a\u3063\u3066\u3044\u306a\u3044\u3068\u3053\u308d(?)\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001[bundle exec\u3092\u7701\u7565\u3059\u308b\u4ed5\u7d44\u307f\uff08rbenv-binstubs\uff09\u304c\u4e0a\u624b\u304f\u50cd\u304b\u306a\u304f\u306a\u308b](http://blog.takapra.com/2013/04/ruby-bundler-basic/)\u3068\u306e\u3053\u3068\u3002\n- \u53c2\u8003: [Rails 4.0 \u3068 bundler install --binstubs \u306b\u3064\u3044\u3066](http://blog.willnet.in/entry/2013/03/30/220603)\n\n\n### \u65e2\u5b58\u30a2\u30d7\u30ea\u306e\u79fb\u884c ###\n\n```bash\n$ rbenv local 1.9.3-p551\n$ rbenv exec gem install bundler\n$ bundle install --binstubs=bundle_bin --without production\n$ rails new . --pretend --skip --skip-test-unit --skip-bundle\n$ rails new . --skip --skip-test-unit --skip-bundle\n$ rake db:migrate RAILS_ENV=development\n```\n\n### \u53c2\u8003\u30ea\u30f3\u30af ###\n[rbenv \u3092\u5229\u7528\u3057\u305f Ruby \u74b0\u5883\u306e\u69cb\u7bc9](http://dev.classmethod.jp/server-side/language/build-ruby-environment-by-rbenv/)\n\nbundle exec \u30b3\u30de\u30f3\u30c9\u3092\u7701\u7565\u3059\u308b\n[Bundler4\u3064\u306e\u4fbf\u5229\u306a\u4f7f\u3044\u65b9\uff08\u521d\u671f\u5316\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u7701\u7565\u3059\u308b\u8a2d\u5b9a\u306a\u3069\uff09](http://blog.takapra.com/2013/04/ruby-bundler-basic/)\n\n[Debian 7.0, Ubuntu 13.04 \u306b rbenv \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b](http://qiita.com/kazoo04/items/7056704efee66f323ddb)\n\n[Vagrant\u74b0\u5883\u3067\u306ebundle install\u3067\u5931\u6557\u3059\u308b](https://tamosblog.wordpress.com/2015/02/22/bundle-install_on_vagrant/)\n\u2605\u3053\u308c\u3067\u6b7b\u306c\u307b\u3069\u306f\u307e\u3063\u305f\u3002\u3042\u308a\u304c\u3068\u3046(^^)\n\n[bundle exec\u3092\u4f7f\u308f\u305a\u306b\u6e08\u3080\u65b9\u6cd5\uff08rbenv\u7de8\uff09](http://qiita.com/naoty_k/items/9000280b3c3a0e74a618)\n\n[rbenv + bundler \u74b0\u5883\u3067 Ruby on Rails4 \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u65b0\u898f\u4f5c\u6210\u3059\u308b](http://blog.tokoyax.com/entry/ruby/rails-setup)\n\n[.gitignore\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9](http://qiita.com/asonas/items/abdbf1208e832b5dd0eb)\n\n[CentOS7 on Vagrant\u3067\u306e\u6642\u523b\u8a2d\u5b9a](http://yymm.bitbucket.org/blog/html/2015/03/06/centos7_time_adjust_on_vagrant.html)\n", "tags": ["Rails4", "rbenv"]}