{"tags": ["CG"], "context": "\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u81ea\u5206\u306e\u7406\u89e3\u306e\u305f\u3081\u306b\u307e\u3068\u3081\u307e\u3057\u305f\u3002\u57fa\u672c\u7684\u306b\u7406\u8ad6\u7684\u306a\u90e8\u5206\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\n\n\u7269\u7406\u30d9\u30fc\u30b9\u30ec\u30f3\u30c0\u30e9edupt\u89e3\u8aac - http://www.slideshare.net/h013/edupt-kaisetsu-22852235\n\u53cc\u65b9\u5411\u30d1\u30b9\u30c8\u30ec\u30fc\u30b7\u30f3\u30b0\u30ec\u30f3\u30c0\u30e9edubpt\u89e3\u8aac - http://www.slideshare.net/h013/edubpt-v100\nMonte Carlo Ray Tracing - http://www.cs.rutgers.edu/~decarlo/readings/mcrt-sg03c.pdf\nBi-directional Reflectance Distribution Function (BRDF) - Ruigang Yang - http://www.vis.uky.edu/~ryang/Teaching/CS684-fall05/lectures/lec10-BRDF.pdf\n\n\u5b9f\u88c5\u306f\u3053\u3061\u3089\u3002rust\u3084\u3063\u3066\u307f\u305f\u304b\u3063\u305f\u306e\u3067\u306a\u3093\u3068\u306a\u304frust\u3067\u66f8\u304d\u307e\u3057\u305f\u3002\u307e\u3060\u304a\u305d\u3044\u3002\nhttps://github.com/pnlybubbles/path-trace\n\n\u653e\u5c04\u675f (Flux)\n\u5b9a\u7fa9: \u5358\u4f4d\u6642\u9593\u3042\u305f\u308a\u3001\u3042\u308b\u9818\u57df\u3092\u901a\u904e\u3059\u308b\u30d5\u30a9\u30c8\u30f3\u6570 (\u30a8\u30cd\u30eb\u30ae\u30fc)\n\\Phi \\left[ \\frac{\\rm J}{\\rm S} \\right] = \\Phi [{\\rm W}]\n\n\n\u653e\u5c04\u7167\u5ea6 (Irradiance)\n\u5b9a\u7fa9: \u653e\u5c04\u675f\u306e\u9762\u7a4d\u5bc6\u5ea6 (\u5358\u4f4d\u9762\u7a4d\u3042\u305f\u308a\u306e\u653e\u5c04\u675f)\nE(x) \\left[ \\frac{\\rm W}{\\rm m^2} \\right] = \\frac{{\\rm d} \\Phi}{{\\rm d} A}\n\n\n\u653e\u5c04\u8f1d\u5ea6 (Radiance)\n\u5b9a\u7fa9: \u653e\u5c04\u7167\u5ea6\u306e\u7acb\u4f53\u89d2\u5bc6\u5ea6 (\u5358\u4f4d\u7acb\u4f53\u89d2\u3042\u305f\u308a\u306e\u7167\u5c04\u7167\u5ea6)\nL(x, \\boldsymbol{\\omega}) = \\frac{{\\rm d} E_\\omega (x)}{{\\rm d} \\omega} \\left[ \\frac{\\rm W}{\\rm m^2 \\cdot sr} \\right]\n\n\n\u30e9\u30f3\u30d0\u30fc\u30c8\u53cd\u5c04 (Lambertian)\n\u9818\u57df$ A $\u3092$ \\Phi [{\\rm W}] $\u306e\u5149\u304c\u901a\u904e\n\u653e\u5c04\u7167\u5ea6$ E $\nE = \\frac{\\Phi}{A}\n\n\u9818\u57df$ A_\\omega$\u3092$ \\Phi [{\\rm W}] $\u306e\u5149\u304c\u901a\u904e\n\u653e\u5c04\u7167\u5ea6$ E_\\omega $\nA_\\omega = A {\\rm cos} \\theta\n\nE_\\omega = \\frac{\\Phi}{A_\\omega} = \\frac{\\Phi}{A {\\rm cos} \\theta}\n\n\u3086\u3048\u306b\nE = E_\\omega {\\rm cos} \\theta\n\n\nBRDF (Bi-directional Reflectance Distribution Function)\n\u53cc\u65b9\u53cd\u5c04\u5206\u5e03\u95a2\u6570\u3002\n\u5165\u5c04\u3059\u308b\u653e\u5c04\u7167\u5ea6(Irradiance)\u306b\u5bfe\u3057\u3066\u51fa\u5c04\u3059\u308b\u653e\u5c04\u8f1d\u5ea6(Radiance)\u306e\u6bd4\u3068\u3057\u3066\u8868\u3055\u308c\u308b\u3002\u653e\u5c04\u8f1d\u5ea6\u306e\u5f0f\u3092\u4f7f\u3063\u3066\u6b21\u306e\u3088\u3046\u306b\u5909\u5f62\u3067\u304d\u308b\u3002\nf_r(\\boldsymbol{x}, \\boldsymbol{\\omega}, \\boldsymbol{\\omega^\\prime}) = \\frac{{\\rm d} L(\\boldsymbol{x}, \\boldsymbol{\\omega})}{{\\rm d} E_\\omega(\\boldsymbol{x}, \\boldsymbol{\\omega^\\prime})} = \\frac{{\\rm d} L(\\boldsymbol{x}, \\boldsymbol{\\omega})}{L_i(\\boldsymbol{x}, \\boldsymbol{\\omega^\\prime}) {\\rm cos} \\theta {\\rm d} \\boldsymbol{\\omega^\\prime}}\n\n\nBRDF\u306f[0, 1]\u306e\u7bc4\u56f2\u306b\u7e1b\u3089\u308c\u306a\u3044\u3002\nBRDF\u306funit-less\u3067\u306f\u306a\u3044\u3002($sr^{-1}$)\n\n\n\u4f8b\n\u534a\u7403\u9762\u3067\u5b8c\u5168\u4e00\u69d8\u6563\u4e71(\u30e9\u30f3\u30d0\u30fc\u30c8\u53cd\u5c04)\u306e\u5834\u5408\u3067\u306eBRDF\u306e\u6b63\u898f\u5316\u3092\u884c\u3046\n\u5b8c\u5168\u4e00\u69d8\u6563\u4e71\u306e\u6642\u3001$f_r$\u306f\u5b9a\u6570\u3067\u3042\u308b\u306e\u3067\u6b21\u306e\u3088\u3046\u306b\u304a\u304f\nf_r = k_d\n\n\n$\\Omega$ - \u5358\u4f4d\u534a\u7403\u9762\n$\\rho$ - \u53cd\u5c04\u7387(albedo) (\u5b9f\u88c5\u3067\u306fRGB)\n\n\\begin{array}{r}\n\\int_\\Omega f_r {\\rm cos} \\theta {\\rm d}\\omega &=& \\rho \\\\\n\\int_0^{2 \\pi} \\int_0^{\\pi / 2} k_d {\\rm cos} \\theta {\\rm sin} \\theta {\\rm d} \\theta {\\rm d} \\phi &=& \\rho \\\\\n\\pi k_d \\int_0^{\\pi / 2} {\\rm sin} (2 \\theta) {\\rm d} \\theta &=& \\rho \\\\\n\\pi k_d &=& \\rho \n\\end{array}\n\n\u3053\u308c\u3088\u308a\nf_r = \\frac{\\rho}{\\pi}\n\n\n\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u65b9\u7a0b\u5f0f\nL_o(x, \\boldsymbol{\\omega}) = L_e(\\boldsymbol{x}, \\boldsymbol{\\omega}) + \\int_{\\Omega_x} f_r(\\boldsymbol{x}, \\boldsymbol{\\omega}, \\boldsymbol{\\omega^\\prime}) L_i(\\boldsymbol{x}, \\boldsymbol{\\omega^\\prime}) {\\rm cos} \\theta {\\rm d} \\sigma(\\boldsymbol{\\omega^\\prime})\n\n\n$ \\boldsymbol{x} $ - \u753b\u50cf\u306e\u5404\u30d4\u30af\u30bb\u30eb\u306b\u3064\u3044\u3066\u30ab\u30e1\u30e9\u304b\u3089\u30ec\u30a4\u3092\u98db\u3070\u3057\u305f\u3068\u304d\u306e\u30b7\u30fc\u30f3\u3068\u306e\u4ea4\u5dee\u70b9\n$ L_o $ - $ x $\u304b\u3089$ \\boldsymbol{\\omega} $\u3078\u306e\u653e\u5c04\u8f1d\u5ea6\n$ L_e $ - $ x $\u304b\u3089$ \\boldsymbol{\\omega} $\u3078\u306e\u81ea\u5df1\u767a\u5149\u306b\u3088\u308b\u653e\u5c04\u8f1d\u5ea6\n$ f_r $ - $ x $\u306b\u304a\u3051\u308bBRDF\n $ L_i $ - $ \\boldsymbol{\\omega^\\prime} $\u65b9\u5411\u304b\u3089$ x $\u3078\u306e\u653e\u5c04\u8f1d\u5ea6\n $ {\\rm cos} \\theta $ - \u5165\u5c04\u89d2\u5ea6\u306b\u3088\u308b\u653e\u5c04\u8f1d\u5ea6\u5024\u306e\u5f71\u97ff\n\n\u3053\u306e\u6642$\\boldsymbol{r}(\\boldsymbol{x}, \\boldsymbol{\\omega})$\u3092$x$\u304b\u3089$\\boldsymbol{\\omega}$\u65b9\u5411\u3078\u306e\u30ec\u30a4\u3068\u30b7\u30fc\u30f3\u306e\u4ea4\u5dee\u70b9\u3068\u3059\u308b\u3068\nL_i(\\boldsymbol{x}, \\boldsymbol{\\omega^\\prime}) = L_o(\\boldsymbol{r}(\\boldsymbol{x}, \\boldsymbol{\\omega^\\prime}), - \\boldsymbol{\\omega^\\prime})\n\n\u3088\u3063\u3066\u6b21\u5f0f\u306e\u69d8\u306b\u518d\u5e30\u7684\u306b\u8868\u305b\u308b\nL_o(x, \\boldsymbol{\\omega}) = L_e(\\boldsymbol{x}, \\boldsymbol{\\omega}) + \\int_{\\Omega_x} f_r(\\boldsymbol{x}, \\boldsymbol{\\omega}, \\boldsymbol{\\omega^\\prime}) L_o(\\boldsymbol{r}(\\boldsymbol{x}, \\boldsymbol{\\omega^\\prime}), - \\boldsymbol{\\omega^\\prime}) {\\rm cos} \\theta {\\rm d} \\sigma(\\boldsymbol{\\omega^\\prime})\n\n\n\u30ed\u30b7\u30a2\u30f3\u30eb\u30fc\u30ec\u30c3\u30c8\n\u8a08\u7b97\u6a5f\u306f\u7121\u9650\u7d1a\u6570\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u518d\u5e30\u306e\u7d42\u4e86\u6761\u4ef6\u3092\u4f5c\u308b\u5fc5\u8981\u6027\u304c\u3042\u308b\u3002\u305d\u306e\u969b\u306b\u3001\u7d71\u8a08\u7684\u306bUnbiased\u306a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3068\u3057\u3066\u30ed\u30b7\u30a2\u30f3\u30eb\u30fc\u30ec\u30c3\u30c8\u304c\u77e5\u3089\u308c\u3066\u3044\u308b\u3002\n\u7d71\u8a08\u7684\u306bUnbiased = \u671f\u5f85\u5024\u304c\u771f\u5024\u3068\u7b49\u4fa1\nC = C_0 + C_1 + C_2 + \\cdots\n\n*$\\hat C$- \u63a8\u5b9a\u5024\nE[{\\hat C}] = C\n\n\u6b21\u306e\u3088\u3046\u306b$D_i$\u3092\u5b9a\u7fa9\u3059\u308b\u3068\nD_i = C_i + C_{i + 1} + C_{i+2} + \\cdots\n\n\\begin{array}{l}\nC &=& D_0 \\\\\n&=& C_0 + D_1 \\\\\n&=& C_0 + C_1 + D_2 \\\\\n&=& \\cdots\n\\end{array}\n\n\u518d\u5e30\u7684\u306a\u8868\u8a18\u306b\u3059\u308b\u3068\nC = D_0 \\\\\nD_i = C_i + D_{i + 1}\n\n\u51e6\u7406\u3092\u4e71\u6570\u306b\u3088\u3063\u3066\u5206\u5c90\u3055\u305b\u308b\n*$r_0$\u306f$(0, 1]$\u306e\u4e71\u6570\n*$p_0$\u306f$(0, 1)$\u306e\u5b9a\u6570\n{\\hat C} =\n\\begin{cases}\n\\frac{D_0}{p_0}  & (r_0 \\lt p_0) \\\\\n0 & (r_0 \\geq p_0)\n\\end{cases}\n\n\u3053\u306e\u6642\u3001\u671f\u5f85\u5024\u306f\nE[{\\hat C}] = D_0 = C\n\n\n\u5b9f\u969b\u306e\u5b9f\u88c5\u3067\u306f$r_0$\u3092\u751f\u6210\u3057\u3001$p_0$\u672a\u6e80\u306a\u3089$D_0$\u306e\u8a55\u4fa1\u3092\u884c\u3044\u3001$p_0$\u4ee5\u4e0a\u306a\u3089\u51e6\u7406\u3092\u6253\u3061\u5207\u308a\u8a55\u4fa1\u5024\u3092$0$\u3068\u3059\u308b\u3002\n*$p_0$\u306f\u57fa\u672c\u7684\u306b\u4efb\u610f\u306e\u5024\u3067\u826f\u3044\u304c\u3001$D_0$\u306e\u5024\u306e\u5927\u5c0f\u306b\u6bd4\u4f8b\u3055\u305b\u305f\u307b\u3046\u304c\u5206\u6563$V[{\\hat C}]$\u306f\u5c0f\u3055\u3044\u3002\n\n\u6b21\u306b\u30ed\u30b7\u30a2\u30f3\u30eb\u30fc\u30ec\u30c3\u30c8\u306b\u3088\u3063\u3066$D_0$\u306e\u8a55\u4fa1\u3092\u884c\u3046\u3053\u3068\u306b\u306a\u3063\u305f\u3068\u3059\u308b\u3068\n{\\hat D_0} = C_0 + \n\\begin{cases}\n\\frac{D_1}{p_1} & (r_1 \\lt p_1) \\\\\n0 & (r_1 \\geq p_1)\n\\end{cases}\n\n\u3053\u308c\u3092\u518d\u5e30\u7684\u306a\u8868\u8a18\u306b\u3059\u308b\u3068\n{\\hat C} =\n\\begin{cases}\n\\frac{D_0}{p_0}  & (r_0 \\lt p_0) \\\\\n0 & (r_0 \\geq p_0)\n\\end{cases}\n\n{\\hat D_i} = {C_i} +\n\\begin{cases}\n\\frac{D_{i + 1}}{p_{i + 1}}  & (r_{i + 1} \\lt p_{i + 1}) \\\\\n0 & (r_{i + 1} \\geq p_{i+ 1})\n\\end{cases}\n\n\u3053\u306e\u3088\u3046\u306b\u78ba\u7387\u7684\u306b\u51e6\u7406\u3092\u6253\u3061\u5207\u308b\u3053\u3068\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u3067\u3001\u30c8\u30fc\u30bf\u30eb\u306e\u8a08\u7b97\u91cf\u3092\u73fe\u5b9f\u7684\u306a\u91cf\u306b\u6291\u3048\u3064\u3064\u3001\u671f\u5f85\u5024$E[{\\hat C}] = C$\u3068\u771f\u5024\u3068\u7b49\u4fa1(Unbiased)\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n* \u6700\u521d\u306e\u6570\u9805\u3067$p_0 = 1$\u3092\u4e0e\u3048\u3001\u30ed\u30b7\u30a2\u30f3\u30eb\u30fc\u30ec\u30c3\u30c8\u3092\u884c\u308f\u306a\u3044\u3053\u3068\u3067\u3001\u305d\u306e\u6570\u9805\u3067\u306e\u30ed\u30b7\u30a2\u30f3\u30eb\u30fc\u30ec\u30c3\u30c8\u306e\u3088\u308b\u5206\u6563\u3092\u6291\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002(\u6700\u521d\u306e\u6570\u9805\u306e\u5bc4\u4e0e\u304c\u5927\u304d\u3044\u3046\u7279\u5fb4\u3092\u77e5\u3063\u3066\u3044\u308b\u305f\u3081)\n* \u5b9f\u88c5\u4e0a\u306e\u6ce8\u610f\u70b9\u3068\u3057\u3066\u3001\u3042\u308b\u4e00\u5b9a\u306e$p_0$\u3092\u5229\u7528\u3059\u308b\u3068\u305f\u307e\u305f\u307e\u518d\u5e30\u304c\u6df1\u304f\u306a\u3063\u305f\u6642\u306b\u30b9\u30bf\u30c3\u30af\u30aa\u30fc\u30d0\u30fc\u30d5\u30ed\u30fc\u3092\u8d77\u3053\u3057\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u3042\u308b\u4e00\u5b9a\u306e\u6df1\u3055\u4ee5\u4e0a\u306b\u304a\u3044\u3066\u306f$p_0$\u3092\u6975\u7aef\u306b\u5c0f\u3055\u304f\u3059\u308b\u3053\u3068\u3067\u6df1\u304f\u306a\u308a\u3059\u304e\u308b\u3053\u3068\u3092\u907f\u3051\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\n\u78ba\u7387\u306b\u3064\u3044\u3066\n\u78ba\u7387\u5206\u5e03(\u78ba\u7387\u6e2c\u5ea6)$P(D)$\u306f$\\Omega$\u4e0a\u306b\u5b9a\u7fa9\u3055\u308c\u308b\u6e2c\u5ea6\u3002\u78ba\u7387\u5909\u6570$X$\u304c\u96c6\u5408$D$\u306b\u542b\u307e\u308c\u308b\u78ba\u7387\u3068\u3059\u308b\u3002\n\u5bfe\u5fdc\u3059\u308b\u78ba\u7387\u5bc6\u5ea6\u95a2\u6570$p$\u306f$\\Omega$\u4e0a\u306e\u6e2c\u5ea6$\\mu$\u3092\u4f7f\u3063\u3066Radon-Nikodym\u5fae\u5206\u3092\u884c\u3046\u3068$p(x) = \\frac{{\\rm d} P}{{\\rm d} \\mu}$\u3068\u306a\u308a\u3053\u308c\u306f$P = \\int_D p(x){\\rm d} \\mu (x)$\u3092\u6e80\u305f\u3059\u3082\u306e\u3067\u3042\u308b\u3002\n\u4e00\u822c\u306b\u3001\u6e2c\u5ea6$\\mu$\u306b\u95a2\u3059\u308b\u78ba\u7387\u5bc6\u5ea6\u95a2\u6570$p(x)$\u3092$P_\\mu (x)$\u3068\u8868\u8a18\u3059\u308b\u3002\n\n\u4f8b\n\n$S^2$ - \u5358\u4f4d\u7403\u9762\u5168\u4f53\n$\\sigma(D)$ - \u7acb\u4f53\u89d2\u6e2c\u5ea6\u3002\u5358\u4f4d\u7403\u9762\u4e0a\u306e\u3042\u308b\u9818\u57df\u3092\u4e0e\u3048\u308b\u3068\u3001\u305d\u306e\u9818\u57df\u306e\u7acb\u4f53\u89d2\u3092\u8fd4\u3059\u95a2\u6570\u3002(\u5358\u4f4d: \u30b9\u30c6\u30e9\u30b8\u30a2\u30f3)\n$P_\\sigma (\\boldsymbol{\\omega})$ - $\\sigma$\u306b\u95a2\u3059\u308b\u78ba\u7387\u5bc6\u5ea6\u95a2\u6570\u3002$S^2$\u4e0a\u306e\u3042\u308b\u4e00\u65b9\u5411\u306b\u3064\u3044\u3066\u306e\u78ba\u7387\u5bc6\u5ea6\u95a2\u6570\u3002\n\n\u5168\u7403\u304b\u3089\u4e00\u65b9\u5411\u3092\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3059\u308b\u3068\u3059\u308b\u3002\n\u4e00\u69d8\u306b\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u78ba\u7387\u5bc6\u5ea6\u304c\u5168\u65b9\u5411\u3067\u5b9a\u6570\u306a\u306e\u3067\nP_\\sigma(\\boldsymbol{\\omega}) = C\n\n\u78ba\u7387\u5206\u5e03\u306e\u5b9a\u7fa9\u3088\u308a$P(S^2) = 1$\u3068\u306a\u308b\u305f\u3081\n\\int_{S^2} P_\\sigma(\\boldsymbol{\\omega}) {\\rm d} \\sigma(\\boldsymbol{\\omega}) = \\int_{S^2} C {\\rm d} \\sigma(\\boldsymbol{\\omega}) = 4 \\pi C = 1\n\nC = \\frac{1}{4 \\pi}\n\nP_\\sigma(\\boldsymbol{\\omega}) = \\frac{1}{4 \\pi}\n\n\n\u30e2\u30f3\u30c6\u30ab\u30eb\u30ed\u7a4d\u5206\n$f(x)$\u304c\u9ad8\u6b21\u5143\u3001\u518d\u5e30\u7684\u3001\u975e\u9023\u7d9a\u306e\u5834\u5408\u3001\u89e3\u6790\u7684\u306b\u89e3\u3092\u6c42\u3081\u308b\u3053\u3068\u306f\u56f0\u96e3\u3002\nI = \\int_D f(x) d \\mu (x)\n\n$f(x)$- \u4efb\u610f\u306e\u95a2\u6570\n\u30e2\u30f3\u30c6\u30ab\u30eb\u30ed\u63a8\u5b9a\u5668\n{\\hat I} = \\frac{1}{N} \\sum_{i=1}^N \\frac{f(X_i)}{PDF(X_i)}\n\n\n$PDF(x)$- \u78ba\u7387\u5bc6\u5ea6\u95a2\u6570\n$N$- \u30b5\u30f3\u30d7\u30eb\u6570\n$X_i$- \u78ba\u7387\u5909\u6570(PDF\u306b\u3088\u3063\u3066\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3055\u308c\u308b$X_i \\in D$)\n\n\u671f\u5f85\u5024$E[{\\hat I}] = I$\u3068\u306a\u308b\u3002N\u3092\u5897\u52a0\u3055\u305b\u3066\u3044\u304f\u3068\u30e2\u30f3\u30c6\u30ab\u30eb\u30ed\u63a8\u5b9a\u5024$\\hat I$\u306f\u771f\u5024$I$\u306b\u5bfe\u3059\u308b\u8aa4\u5dee\u304c$- O(\\frac{1}{\\sqrt{N}})$\u306e\u901f\u5ea6\u3067\u6e1b\u5c11\u3057\u3066\u3044\u304f\u3002$N$\u3092\u221e\u306b\u98db\u3070\u3059\u3068$I$\u306b\u53ce\u675f\u3059\u308b\u3002\n\nConsistent\u306a\u63a8\u5b9a\u5668\n\n\nN\u3092\u221e\u306b\u98db\u3070\u3057\u305f\u6642\u306b$\\hat I$\u304c\u771f\u5024$I$\u306b\u53ce\u675f\u3059\u308b\u3002\n\n\nUnbiased\u306a\u63a8\u5b9a\u5668\n\n\n$\\hat I$\u306e\u671f\u5f85\u5024\u304c\u771f\u5024$I$\u3068\u7b49\u3057\u3044.\n\n\n\n\nqiita\u3067\u306f\u6570\u5f0f\u3092\u3072\u3068\u3064\u306e\u8a18\u4e8b\u306b\u305f\u304f\u3055\u3093\u5165\u308c\u308b\u3068\u91cd\u304f\u3066\u30e0\u30ea\u3060\u3063\u305f\u306e\u3067\u30012\u3064\u306b\u5206\u3051\u307e\u3057\u305f\u3002\n\u5f8c\u534a\u306f\u3053\u3061\u3089\n\u7269\u7406\u30d9\u30fc\u30b9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b02\n\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u81ea\u5206\u306e\u7406\u89e3\u306e\u305f\u3081\u306b\u307e\u3068\u3081\u307e\u3057\u305f\u3002\u57fa\u672c\u7684\u306b\u7406\u8ad6\u7684\u306a\u90e8\u5206\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\n\n* \u7269\u7406\u30d9\u30fc\u30b9\u30ec\u30f3\u30c0\u30e9edupt\u89e3\u8aac - http://www.slideshare.net/h013/edupt-kaisetsu-22852235\n\n* \u53cc\u65b9\u5411\u30d1\u30b9\u30c8\u30ec\u30fc\u30b7\u30f3\u30b0\u30ec\u30f3\u30c0\u30e9edubpt\u89e3\u8aac - http://www.slideshare.net/h013/edubpt-v100\n\n* Monte Carlo Ray Tracing - http://www.cs.rutgers.edu/~decarlo/readings/mcrt-sg03c.pdf\n\n* Bi-directional Reflectance Distribution Function (BRDF) - Ruigang Yang - http://www.vis.uky.edu/~ryang/Teaching/CS684-fall05/lectures/lec10-BRDF.pdf\n\n\u5b9f\u88c5\u306f\u3053\u3061\u3089\u3002rust\u3084\u3063\u3066\u307f\u305f\u304b\u3063\u305f\u306e\u3067\u306a\u3093\u3068\u306a\u304frust\u3067\u66f8\u304d\u307e\u3057\u305f\u3002\u307e\u3060\u304a\u305d\u3044\u3002\n\nhttps://github.com/pnlybubbles/path-trace\n\n## \u653e\u5c04\u675f (Flux)\n\n\u5b9a\u7fa9: \u5358\u4f4d\u6642\u9593\u3042\u305f\u308a\u3001\u3042\u308b\u9818\u57df\u3092\u901a\u904e\u3059\u308b\u30d5\u30a9\u30c8\u30f3\u6570 (\u30a8\u30cd\u30eb\u30ae\u30fc)\n\n```math\n\\Phi \\left[ \\frac{\\rm J}{\\rm S} \\right] = \\Phi [{\\rm W}]\n```\n\n## \u653e\u5c04\u7167\u5ea6 (Irradiance)\n\n\u5b9a\u7fa9: \u653e\u5c04\u675f\u306e\u9762\u7a4d\u5bc6\u5ea6 (\u5358\u4f4d\u9762\u7a4d\u3042\u305f\u308a\u306e\u653e\u5c04\u675f)\n\n```math\nE(x) \\left[ \\frac{\\rm W}{\\rm m^2} \\right] = \\frac{{\\rm d} \\Phi}{{\\rm d} A}\n```\n\n## \u653e\u5c04\u8f1d\u5ea6 (Radiance)\n\n\u5b9a\u7fa9: \u653e\u5c04\u7167\u5ea6\u306e\u7acb\u4f53\u89d2\u5bc6\u5ea6 (\u5358\u4f4d\u7acb\u4f53\u89d2\u3042\u305f\u308a\u306e\u7167\u5c04\u7167\u5ea6)\n\n```math\nL(x, \\boldsymbol{\\omega}) = \\frac{{\\rm d} E_\\omega (x)}{{\\rm d} \\omega} \\left[ \\frac{\\rm W}{\\rm m^2 \\cdot sr} \\right]\n```\n\n## \u30e9\u30f3\u30d0\u30fc\u30c8\u53cd\u5c04 (Lambertian)\n\n\u9818\u57df$ A $\u3092$ \\Phi [{\\rm W}] $\u306e\u5149\u304c\u901a\u904e\n\u653e\u5c04\u7167\u5ea6$ E $\n\n```math\nE = \\frac{\\Phi}{A}\n```\n\n\u9818\u57df$ A_\\omega$\u3092$ \\Phi [{\\rm W}] $\u306e\u5149\u304c\u901a\u904e\n\u653e\u5c04\u7167\u5ea6$ E_\\omega $\n\n```math\nA_\\omega = A {\\rm cos} \\theta\n```\n\n```math\nE_\\omega = \\frac{\\Phi}{A_\\omega} = \\frac{\\Phi}{A {\\rm cos} \\theta}\n```\n\n\u3086\u3048\u306b\n\n```math\nE = E_\\omega {\\rm cos} \\theta\n```\n\n## BRDF (Bi-directional Reflectance Distribution Function)\n\n\u53cc\u65b9\u53cd\u5c04\u5206\u5e03\u95a2\u6570\u3002\n\u5165\u5c04\u3059\u308b\u653e\u5c04\u7167\u5ea6(Irradiance)\u306b\u5bfe\u3057\u3066\u51fa\u5c04\u3059\u308b\u653e\u5c04\u8f1d\u5ea6(Radiance)\u306e\u6bd4\u3068\u3057\u3066\u8868\u3055\u308c\u308b\u3002\u653e\u5c04\u8f1d\u5ea6\u306e\u5f0f\u3092\u4f7f\u3063\u3066\u6b21\u306e\u3088\u3046\u306b\u5909\u5f62\u3067\u304d\u308b\u3002\n\n```math\nf_r(\\boldsymbol{x}, \\boldsymbol{\\omega}, \\boldsymbol{\\omega^\\prime}) = \\frac{{\\rm d} L(\\boldsymbol{x}, \\boldsymbol{\\omega})}{{\\rm d} E_\\omega(\\boldsymbol{x}, \\boldsymbol{\\omega^\\prime})} = \\frac{{\\rm d} L(\\boldsymbol{x}, \\boldsymbol{\\omega})}{L_i(\\boldsymbol{x}, \\boldsymbol{\\omega^\\prime}) {\\rm cos} \\theta {\\rm d} \\boldsymbol{\\omega^\\prime}}\n```\n\n* BRDF\u306f[0, 1]\u306e\u7bc4\u56f2\u306b\u7e1b\u3089\u308c\u306a\u3044\u3002\n* BRDF\u306funit-less\u3067\u306f\u306a\u3044\u3002($sr^{-1}$)\n\n### \u4f8b\n\n\u534a\u7403\u9762\u3067\u5b8c\u5168\u4e00\u69d8\u6563\u4e71(\u30e9\u30f3\u30d0\u30fc\u30c8\u53cd\u5c04)\u306e\u5834\u5408\u3067\u306eBRDF\u306e\u6b63\u898f\u5316\u3092\u884c\u3046\n\n\u5b8c\u5168\u4e00\u69d8\u6563\u4e71\u306e\u6642\u3001$f_r$\u306f\u5b9a\u6570\u3067\u3042\u308b\u306e\u3067\u6b21\u306e\u3088\u3046\u306b\u304a\u304f\n\n```math\nf_r = k_d\n```\n\n* $\\Omega$ - \u5358\u4f4d\u534a\u7403\u9762\n* $\\rho$ - \u53cd\u5c04\u7387(albedo) (\u5b9f\u88c5\u3067\u306fRGB)\n\n```math\n\\begin{array}{r}\n\\int_\\Omega f_r {\\rm cos} \\theta {\\rm d}\\omega &=& \\rho \\\\\n\\int_0^{2 \\pi} \\int_0^{\\pi / 2} k_d {\\rm cos} \\theta {\\rm sin} \\theta {\\rm d} \\theta {\\rm d} \\phi &=& \\rho \\\\\n\\pi k_d \\int_0^{\\pi / 2} {\\rm sin} (2 \\theta) {\\rm d} \\theta &=& \\rho \\\\\n\\pi k_d &=& \\rho \n\\end{array}\n```\n\n\u3053\u308c\u3088\u308a\n\n```math\nf_r = \\frac{\\rho}{\\pi}\n```\n\n## \u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u65b9\u7a0b\u5f0f\n\n```math\nL_o(x, \\boldsymbol{\\omega}) = L_e(\\boldsymbol{x}, \\boldsymbol{\\omega}) + \\int_{\\Omega_x} f_r(\\boldsymbol{x}, \\boldsymbol{\\omega}, \\boldsymbol{\\omega^\\prime}) L_i(\\boldsymbol{x}, \\boldsymbol{\\omega^\\prime}) {\\rm cos} \\theta {\\rm d} \\sigma(\\boldsymbol{\\omega^\\prime})\n```\n\n* $ \\boldsymbol{x} $ - \u753b\u50cf\u306e\u5404\u30d4\u30af\u30bb\u30eb\u306b\u3064\u3044\u3066\u30ab\u30e1\u30e9\u304b\u3089\u30ec\u30a4\u3092\u98db\u3070\u3057\u305f\u3068\u304d\u306e\u30b7\u30fc\u30f3\u3068\u306e\u4ea4\u5dee\u70b9\n* $ L_o $ - $ x $\u304b\u3089$ \\boldsymbol{\\omega} $\u3078\u306e\u653e\u5c04\u8f1d\u5ea6\n* $ L_e $ - $ x $\u304b\u3089$ \\boldsymbol{\\omega} $\u3078\u306e\u81ea\u5df1\u767a\u5149\u306b\u3088\u308b\u653e\u5c04\u8f1d\u5ea6\n* $ f_r $ - $ x $\u306b\u304a\u3051\u308bBRDF\n*  $ L_i $ - $ \\boldsymbol{\\omega^\\prime} $\u65b9\u5411\u304b\u3089$ x $\u3078\u306e\u653e\u5c04\u8f1d\u5ea6\n*  $ {\\rm cos} \\theta $ - \u5165\u5c04\u89d2\u5ea6\u306b\u3088\u308b\u653e\u5c04\u8f1d\u5ea6\u5024\u306e\u5f71\u97ff\n\n\n\u3053\u306e\u6642$\\boldsymbol{r}(\\boldsymbol{x}, \\boldsymbol{\\omega})$\u3092$x$\u304b\u3089$\\boldsymbol{\\omega}$\u65b9\u5411\u3078\u306e\u30ec\u30a4\u3068\u30b7\u30fc\u30f3\u306e\u4ea4\u5dee\u70b9\u3068\u3059\u308b\u3068\n\n```math\nL_i(\\boldsymbol{x}, \\boldsymbol{\\omega^\\prime}) = L_o(\\boldsymbol{r}(\\boldsymbol{x}, \\boldsymbol{\\omega^\\prime}), - \\boldsymbol{\\omega^\\prime})\n```\n\n\u3088\u3063\u3066\u6b21\u5f0f\u306e\u69d8\u306b\u518d\u5e30\u7684\u306b\u8868\u305b\u308b\n\n```math\nL_o(x, \\boldsymbol{\\omega}) = L_e(\\boldsymbol{x}, \\boldsymbol{\\omega}) + \\int_{\\Omega_x} f_r(\\boldsymbol{x}, \\boldsymbol{\\omega}, \\boldsymbol{\\omega^\\prime}) L_o(\\boldsymbol{r}(\\boldsymbol{x}, \\boldsymbol{\\omega^\\prime}), - \\boldsymbol{\\omega^\\prime}) {\\rm cos} \\theta {\\rm d} \\sigma(\\boldsymbol{\\omega^\\prime})\n```\n\n## \u30ed\u30b7\u30a2\u30f3\u30eb\u30fc\u30ec\u30c3\u30c8\n\n\u8a08\u7b97\u6a5f\u306f\u7121\u9650\u7d1a\u6570\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u518d\u5e30\u306e\u7d42\u4e86\u6761\u4ef6\u3092\u4f5c\u308b\u5fc5\u8981\u6027\u304c\u3042\u308b\u3002\u305d\u306e\u969b\u306b\u3001\u7d71\u8a08\u7684\u306bUnbiased\u306a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3068\u3057\u3066\u30ed\u30b7\u30a2\u30f3\u30eb\u30fc\u30ec\u30c3\u30c8\u304c\u77e5\u3089\u308c\u3066\u3044\u308b\u3002\n\n\u7d71\u8a08\u7684\u306bUnbiased = \u671f\u5f85\u5024\u304c\u771f\u5024\u3068\u7b49\u4fa1\n\n```math\nC = C_0 + C_1 + C_2 + \\cdots\n```\n\n*$\\hat C$- \u63a8\u5b9a\u5024\n\n```math\nE[{\\hat C}] = C\n```\n\n\u6b21\u306e\u3088\u3046\u306b$D_i$\u3092\u5b9a\u7fa9\u3059\u308b\u3068\n\n```math\nD_i = C_i + C_{i + 1} + C_{i+2} + \\cdots\n```\n\n```math\n\\begin{array}{l}\nC &=& D_0 \\\\\n&=& C_0 + D_1 \\\\\n&=& C_0 + C_1 + D_2 \\\\\n&=& \\cdots\n\\end{array}\n```\n\n\u518d\u5e30\u7684\u306a\u8868\u8a18\u306b\u3059\u308b\u3068\n\n```math\nC = D_0 \\\\\nD_i = C_i + D_{i + 1}\n```\n\n\u51e6\u7406\u3092\u4e71\u6570\u306b\u3088\u3063\u3066\u5206\u5c90\u3055\u305b\u308b\n\n*$r_0$\u306f$(0, 1]$\u306e\u4e71\u6570\n*$p_0$\u306f$(0, 1)$\u306e\u5b9a\u6570\n\n```math\n{\\hat C} =\n\\begin{cases}\n\\frac{D_0}{p_0}  & (r_0 \\lt p_0) \\\\\n0 & (r_0 \\geq p_0)\n\\end{cases}\n```\n\n\u3053\u306e\u6642\u3001\u671f\u5f85\u5024\u306f\n\n```math\nE[{\\hat C}] = D_0 = C\n```\n\n* \u5b9f\u969b\u306e\u5b9f\u88c5\u3067\u306f$r_0$\u3092\u751f\u6210\u3057\u3001$p_0$\u672a\u6e80\u306a\u3089$D_0$\u306e\u8a55\u4fa1\u3092\u884c\u3044\u3001$p_0$\u4ee5\u4e0a\u306a\u3089\u51e6\u7406\u3092\u6253\u3061\u5207\u308a\u8a55\u4fa1\u5024\u3092$0$\u3068\u3059\u308b\u3002\n*$p_0$\u306f\u57fa\u672c\u7684\u306b\u4efb\u610f\u306e\u5024\u3067\u826f\u3044\u304c\u3001$D_0$\u306e\u5024\u306e\u5927\u5c0f\u306b\u6bd4\u4f8b\u3055\u305b\u305f\u307b\u3046\u304c\u5206\u6563$V[{\\hat C}]$\u306f\u5c0f\u3055\u3044\u3002\n\n\u6b21\u306b\u30ed\u30b7\u30a2\u30f3\u30eb\u30fc\u30ec\u30c3\u30c8\u306b\u3088\u3063\u3066$D_0$\u306e\u8a55\u4fa1\u3092\u884c\u3046\u3053\u3068\u306b\u306a\u3063\u305f\u3068\u3059\u308b\u3068\n\n```math\n{\\hat D_0} = C_0 + \n\\begin{cases}\n\\frac{D_1}{p_1} & (r_1 \\lt p_1) \\\\\n0 & (r_1 \\geq p_1)\n\\end{cases}\n```\n\n\u3053\u308c\u3092\u518d\u5e30\u7684\u306a\u8868\u8a18\u306b\u3059\u308b\u3068\n\n```math\n{\\hat C} =\n\\begin{cases}\n\\frac{D_0}{p_0}  & (r_0 \\lt p_0) \\\\\n0 & (r_0 \\geq p_0)\n\\end{cases}\n```\n\n```math\n{\\hat D_i} = {C_i} +\n\\begin{cases}\n\\frac{D_{i + 1}}{p_{i + 1}}  & (r_{i + 1} \\lt p_{i + 1}) \\\\\n0 & (r_{i + 1} \\geq p_{i+ 1})\n\\end{cases}\n```\n\n\u3053\u306e\u3088\u3046\u306b\u78ba\u7387\u7684\u306b\u51e6\u7406\u3092\u6253\u3061\u5207\u308b\u3053\u3068\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u3067\u3001\u30c8\u30fc\u30bf\u30eb\u306e\u8a08\u7b97\u91cf\u3092\u73fe\u5b9f\u7684\u306a\u91cf\u306b\u6291\u3048\u3064\u3064\u3001\u671f\u5f85\u5024$E[{\\hat C}] = C$\u3068\u771f\u5024\u3068\u7b49\u4fa1(Unbiased)\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n* \u6700\u521d\u306e\u6570\u9805\u3067$p_0 = 1$\u3092\u4e0e\u3048\u3001\u30ed\u30b7\u30a2\u30f3\u30eb\u30fc\u30ec\u30c3\u30c8\u3092\u884c\u308f\u306a\u3044\u3053\u3068\u3067\u3001\u305d\u306e\u6570\u9805\u3067\u306e\u30ed\u30b7\u30a2\u30f3\u30eb\u30fc\u30ec\u30c3\u30c8\u306e\u3088\u308b\u5206\u6563\u3092\u6291\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002(\u6700\u521d\u306e\u6570\u9805\u306e\u5bc4\u4e0e\u304c\u5927\u304d\u3044\u3046\u7279\u5fb4\u3092\u77e5\u3063\u3066\u3044\u308b\u305f\u3081)\n* \u5b9f\u88c5\u4e0a\u306e\u6ce8\u610f\u70b9\u3068\u3057\u3066\u3001\u3042\u308b\u4e00\u5b9a\u306e$p_0$\u3092\u5229\u7528\u3059\u308b\u3068\u305f\u307e\u305f\u307e\u518d\u5e30\u304c\u6df1\u304f\u306a\u3063\u305f\u6642\u306b\u30b9\u30bf\u30c3\u30af\u30aa\u30fc\u30d0\u30fc\u30d5\u30ed\u30fc\u3092\u8d77\u3053\u3057\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u3042\u308b\u4e00\u5b9a\u306e\u6df1\u3055\u4ee5\u4e0a\u306b\u304a\u3044\u3066\u306f$p_0$\u3092\u6975\u7aef\u306b\u5c0f\u3055\u304f\u3059\u308b\u3053\u3068\u3067\u6df1\u304f\u306a\u308a\u3059\u304e\u308b\u3053\u3068\u3092\u907f\u3051\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\n## \u78ba\u7387\u306b\u3064\u3044\u3066\n\n\u78ba\u7387\u5206\u5e03(\u78ba\u7387\u6e2c\u5ea6)$P(D)$\u306f$\\Omega$\u4e0a\u306b\u5b9a\u7fa9\u3055\u308c\u308b\u6e2c\u5ea6\u3002\u78ba\u7387\u5909\u6570$X$\u304c\u96c6\u5408$D$\u306b\u542b\u307e\u308c\u308b\u78ba\u7387\u3068\u3059\u308b\u3002\n\u5bfe\u5fdc\u3059\u308b\u78ba\u7387\u5bc6\u5ea6\u95a2\u6570$p$\u306f$\\Omega$\u4e0a\u306e\u6e2c\u5ea6$\\mu$\u3092\u4f7f\u3063\u3066Radon-Nikodym\u5fae\u5206\u3092\u884c\u3046\u3068$p(x) = \\frac{{\\rm d} P}{{\\rm d} \\mu}$\u3068\u306a\u308a\u3053\u308c\u306f$P = \\int_D p(x){\\rm d} \\mu (x)$\u3092\u6e80\u305f\u3059\u3082\u306e\u3067\u3042\u308b\u3002\n\u4e00\u822c\u306b\u3001\u6e2c\u5ea6$\\mu$\u306b\u95a2\u3059\u308b\u78ba\u7387\u5bc6\u5ea6\u95a2\u6570$p(x)$\u3092$P_\\mu (x)$\u3068\u8868\u8a18\u3059\u308b\u3002\n\n### \u4f8b\n\n* $S^2$ - \u5358\u4f4d\u7403\u9762\u5168\u4f53\n* $\\sigma(D)$ - \u7acb\u4f53\u89d2\u6e2c\u5ea6\u3002\u5358\u4f4d\u7403\u9762\u4e0a\u306e\u3042\u308b\u9818\u57df\u3092\u4e0e\u3048\u308b\u3068\u3001\u305d\u306e\u9818\u57df\u306e\u7acb\u4f53\u89d2\u3092\u8fd4\u3059\u95a2\u6570\u3002(\u5358\u4f4d: \u30b9\u30c6\u30e9\u30b8\u30a2\u30f3)\n* $P_\\sigma (\\boldsymbol{\\omega})$ - $\\sigma$\u306b\u95a2\u3059\u308b\u78ba\u7387\u5bc6\u5ea6\u95a2\u6570\u3002$S^2$\u4e0a\u306e\u3042\u308b\u4e00\u65b9\u5411\u306b\u3064\u3044\u3066\u306e\u78ba\u7387\u5bc6\u5ea6\u95a2\u6570\u3002\n\n\u5168\u7403\u304b\u3089\u4e00\u65b9\u5411\u3092\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3059\u308b\u3068\u3059\u308b\u3002\n\u4e00\u69d8\u306b\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u78ba\u7387\u5bc6\u5ea6\u304c\u5168\u65b9\u5411\u3067\u5b9a\u6570\u306a\u306e\u3067\n\n```math\nP_\\sigma(\\boldsymbol{\\omega}) = C\n```\n\n\u78ba\u7387\u5206\u5e03\u306e\u5b9a\u7fa9\u3088\u308a$P(S^2) = 1$\u3068\u306a\u308b\u305f\u3081\n\n```math\n\\int_{S^2} P_\\sigma(\\boldsymbol{\\omega}) {\\rm d} \\sigma(\\boldsymbol{\\omega}) = \\int_{S^2} C {\\rm d} \\sigma(\\boldsymbol{\\omega}) = 4 \\pi C = 1\n```\n\n```math\nC = \\frac{1}{4 \\pi}\n```\n\n```math\nP_\\sigma(\\boldsymbol{\\omega}) = \\frac{1}{4 \\pi}\n```\n\n## \u30e2\u30f3\u30c6\u30ab\u30eb\u30ed\u7a4d\u5206\n\n$f(x)$\u304c\u9ad8\u6b21\u5143\u3001\u518d\u5e30\u7684\u3001\u975e\u9023\u7d9a\u306e\u5834\u5408\u3001\u89e3\u6790\u7684\u306b\u89e3\u3092\u6c42\u3081\u308b\u3053\u3068\u306f\u56f0\u96e3\u3002\n\n```math\nI = \\int_D f(x) d \\mu (x)\n```\n\n$f(x)$- \u4efb\u610f\u306e\u95a2\u6570\n\n\u30e2\u30f3\u30c6\u30ab\u30eb\u30ed\u63a8\u5b9a\u5668\n\n```math\n{\\hat I} = \\frac{1}{N} \\sum_{i=1}^N \\frac{f(X_i)}{PDF(X_i)}\n```\n\n* $PDF(x)$- \u78ba\u7387\u5bc6\u5ea6\u95a2\u6570\n* $N$- \u30b5\u30f3\u30d7\u30eb\u6570\n* $X_i$- \u78ba\u7387\u5909\u6570(PDF\u306b\u3088\u3063\u3066\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3055\u308c\u308b$X_i \\in D$)\n\n\u671f\u5f85\u5024$E[{\\hat I}] = I$\u3068\u306a\u308b\u3002N\u3092\u5897\u52a0\u3055\u305b\u3066\u3044\u304f\u3068\u30e2\u30f3\u30c6\u30ab\u30eb\u30ed\u63a8\u5b9a\u5024$\\hat I$\u306f\u771f\u5024$I$\u306b\u5bfe\u3059\u308b\u8aa4\u5dee\u304c$- O(\\frac{1}{\\sqrt{N}})$\u306e\u901f\u5ea6\u3067\u6e1b\u5c11\u3057\u3066\u3044\u304f\u3002$N$\u3092\u221e\u306b\u98db\u3070\u3059\u3068$I$\u306b\u53ce\u675f\u3059\u308b\u3002\n\n* Consistent\u306a\u63a8\u5b9a\u5668\n  * N\u3092\u221e\u306b\u98db\u3070\u3057\u305f\u6642\u306b$\\hat I$\u304c\u771f\u5024$I$\u306b\u53ce\u675f\u3059\u308b\u3002\n* Unbiased\u306a\u63a8\u5b9a\u5668\n  * $\\hat I$\u306e\u671f\u5f85\u5024\u304c\u771f\u5024$I$\u3068\u7b49\u3057\u3044.\n\n---\n\nqiita\u3067\u306f\u6570\u5f0f\u3092\u3072\u3068\u3064\u306e\u8a18\u4e8b\u306b\u305f\u304f\u3055\u3093\u5165\u308c\u308b\u3068\u91cd\u304f\u3066\u30e0\u30ea\u3060\u3063\u305f\u306e\u3067\u30012\u3064\u306b\u5206\u3051\u307e\u3057\u305f\u3002\n\n\u5f8c\u534a\u306f\u3053\u3061\u3089\n\n[\u7269\u7406\u30d9\u30fc\u30b9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b02](http://qiita.com/pnlybubbles/items/5cb3cd3522e651cb536e)\n"}