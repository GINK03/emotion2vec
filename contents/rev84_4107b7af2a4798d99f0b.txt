{"context": " More than 1 year has passed since last update.http://arc001.contest.atcoder.jp/tasks/arc001_3\n\n\u6982\u8981\n8\u30af\u30a4\u30fc\u30f3\u554f\u984c\n8*8\u306e\u30c1\u30a7\u30b9\u76e4\u306b\u3001\u7e26\u6a2a\u659c\u3081\u306b\u30af\u30a4\u30fc\u30f3\u304c\u306a\u3044\u3088\u3046\u306b8\u500b\u7f6e\u304f\u3053\u3068\u304c\u76ee\u6a19\n\u3042\u3089\u304b\u3058\u3081\u3044\u304f\u3064\u304b\u7f6e\u3044\u305f\u72b6\u614b\u304c\u4e0e\u3048\u3089\u308c\u308b\u306e\u3067\u3001\u305d\u308c\u306b\u8ffd\u52a0\u3057\u3066\u7f6e\u3044\u3066\u4e0a\u8a18\u76ee\u6a19\u3092\u6e80\u305f\u3059\u30d1\u30bf\u30fc\u30f3\u306e\u3046\u30611\u500b\u3092\u51fa\u529b\n\u3069\u3046\u3084\u3063\u3066\u3082\u6e80\u305f\u305b\u306a\u3044\u5834\u5408\u306f\u305d\u306e\u65e8\u3092\u8868\u793a\n\n\u89e3\u3044\u305f\u65b9\u91dd\n\u5168\u30d1\u30bf\u30fc\u30f3\u8a66\u3059\n\u76e4\u9762\u306e\u30af\u30a4\u30fc\u30f3\u3092\u7f6e\u3051\u308b\u5834\u6240\u3092\u30d3\u30c3\u30c8\u5217\u306b\u3057\u3066\u300c000000000001\u300d\u300c000000000010\u300d\u300c000000000011\u300d\u3068\u9806\u756a\u306b\u5217\u6319\u3001\u76ee\u6a19\u3092\u6e80\u305f\u3057\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\uff08\u518d\u8d77\u547c\u3073\u51fa\u3057\u3067\u3053\u306e\u69cb\u60f3\u3092\u5b9f\u73fe\uff09\n\u305d\u306e\u904e\u7a0b\u3067\u6e80\u305f\u3057\u3066\u308b\u3082\u306e\u3092\u691c\u51fa\u3057\u305f\u3089\u5373\u8868\u793a\n\u6700\u5f8c\u307e\u3067\u6e80\u305f\u3055\u306a\u304b\u3063\u305f\u3089\u3001\u6e80\u305f\u3057\u3048\u306a\u3044\u3068\u8868\u793a\n\n\u81ea\u5206\u306e\u56de\u7b54.php\n\n<?php\n\n//require_once('./debug.php');\n\ndefine('MAP_MAX', 8);\n\n// \u5165\u529b\nfor($i = 0; $i < 8; $i++){\n    fscanf(STDIN, \"%s\", $input);\n    //$input = debug_getInput();\n\n    $input = str_replace(array(\"\\r\\n\",\"\\n\",\"\\r\"), '', $input);\n    $tempArray = str_split($input);\n    $map[$i] = $tempArray;\n}\n// \u3044\u304d\u306a\u308a\u9055\u53cd\u3057\u3066\u305f\u3089\u30a2\u30a6\u30c8\nif(!checkMap($map)) exit(\"No Answer\\n\");\n\n\n\n// \u3068\u308a\u3042\u3048\u305a\u3001\u7f6e\u3051\u308b\u3068\u3053\u306b\u5168\u90e8\u7f6e\u304d\u3083\u3042\u3044\u3044\u3093\u3058\u3083\u306d\u3048\u306e\u304b\uff1f\n$result = putQueen($map);\n\nif($result === false){\n    exit(\"No Answer\\n\");\n}\nelse {\n    printMap($result);\n}\n\nexit();\n\n\nfunction printMap($map){\n    foreach($map as $line){\n        foreach($line as $point){\n            echo $point;\n        }\n        echo \"\\n\";\n    }\n    echo \"\\n\";\n}\n\n/****************************\n *\n * \u6307\u5b9a\u3057\u305f\u5834\u6240\u306b\u7f6e\u3044\u3066\u3044\u304f\n *\n ****************************/\nfunction putQueen($map, $x = 0, $y = 0){\n    // (x, y)...(x, MAP_MAX), (x+1, 0)...\u3068\u3044\u3046\u98a8\u306b\u8abf\u3079\u308b\u305f\u3081\u306e\u5de5\u592b\n    // \u76e4\u9762\u306e\u9014\u4e2d\u304b\u3089\u8abf\u3079\u308b\n    $yIni = $y;\n    for($i = 0; $i < MAP_MAX; $i++){\n        for($j = $yIni; $j < MAP_MAX; $j++){\n            // \u3042\u308b\u884c\u306e\u9014\u4e2d\u304b\u3089\u8abf\u3079\u305f\u3089\u3001\u6b21\u306e\u884c\u306f\u5148\u982d\u304b\u3089\u8abf\u3079\u308b\n            $yIni = 0;\n            // \u7f6e\u3051\u308b\u306a\u3089\n            if(checkPoint($map, $i, $j) == 'C'){\n                // \u4eee\u306e\u30de\u30c3\u30d7\n                $mapTemp = $map;\n\n                // \u7f6e\u304f\n                $mapTemp[$i][$j] = 'Q';\n                // \u6b21\u306b\u3082\u7f6e\u304f\n                $nextXY = xyPlus1($i, $j);\n                if($nextXY !== false){\n                    list($nextX, $nextY) = $nextXY;\n                    $mapTemp = putQueen($mapTemp, $nextX, $nextY);\n\n                    $result = checkAnswer($mapTemp);\n                    if($result === false){\n                        continue;\n                    } else {\n                        return $result;\n                    }\n                }\n            }\n        }\n    }\n\n    return checkAnswer($map);\n}\n\n\n\n\n/****************************\n *\n * \u6b21\u306e\u5ea7\u6a19\u3092\u6c42\u3081\u308b\n *\n ****************************/\nfunction xyPlus1($x, $y){\n    $y++;\n    // y\u5ea7\u6a19\u3092\u52a0\u3048\u3066\u306f\u307f\u51fa\u3057\u305f\u3089\n    if($y >= MAP_MAX){\n        // \u6b21\u306e\u884c\u306e\u6700\u521d\u3078\n        $x++;\n        $y = 0;\n        // \u305d\u308c\u3067x\u5ea7\u6a19\u3082\u306f\u307f\u51fa\u305f\u3089\u3001\u6b21\u306e\u30de\u30b9\u306f\u3082\u3046\u306a\u3044\n        if($x >= MAP_MAX) return false;\n    }\n\n    return array($x, $y);\n}\n\n/****************************\n*\n* \u6b63\u89e3\u304b\u3069\u3046\u304b\u3092\u8abf\u3079\u308b\n*\n****************************/\nfunction checkAnswer($map){\n    if(!is_array($map)) return false;\n\n    if(checkQueenAmount($map) >= MAP_MAX && checkMap($map)) return $map;\n    return false;\n}\n\n/****************************\n*\n* \u30af\u30a4\u30fc\u30f3\u304c\u4f55\u500b\u304b\u8abf\u3079\u308b\n*\n****************************/\nfunction checkQueenAmount($map){\n    if(!is_Array($map)) return 0;\n\n    $count = 0;\n    for($i = 0; $i < MAP_MAX; $i++){\n        for($j = 0; $j < MAP_MAX; $j++){\n            if($map[$i][$j] == 'Q') $count++;\n        }\n    }\n\n    return $count;\n}\n\n\n/***************************\n*\n* \u30b2\u30fc\u30e0\u76e4\u304c8\u30af\u30a4\u30fc\u30f3\u554f\u984c\u306b\u9055\u53cd\u3057\u3066\u3044\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af\n*\n* return true:\u9055\u53cd\u3057\u3066\u3044\u306a\u3044\u3002\n* return false:\u9055\u53cd\u3057\u3066\u3044\u308b\u3002\n*\n***************************/\n\nfunction checkMap($map){\n    for($i = 0; $i < MAP_MAX; $i++){\n        for($j = 0; $j < MAP_MAX; $j++){\n            $checkPointResult = checkPoint($map, $i, $j);\n            if($checkPointResult === 'B'){\n                return false;\n            }\n        }\n    }\n\n    return true;\n}\n\n/***************************\n *\n * \u30b2\u30fc\u30e0\u30dc\u30fc\u30c9\u306e\u7279\u5b9a\u306e\u5ea7\u6a19\u306e\u72b6\u614b\u3092\u8fd4\u3059\n *\n * return C:\u4f55\u3082\u306a\u3044\u3002\u7f6e\u3051\u308b\u3002\n * return E:\u4f55\u3082\u306a\u3044\u3002\u7f6e\u3051\u306a\u3044\u3002\n * return Q:\u30af\u30a4\u30fc\u30f3\u304c\u3042\u308b\u3002\u9055\u53cd\u3057\u3066\u3044\u306a\u3044\u3002\n * return B:\u30af\u30a4\u30fc\u30f3\u304c\u3042\u308b\u3002\u9055\u53cd\u3057\u3066\u3044\u308b\u3002\n *\n ***************************/\nfunction checkPoint($map, $x, $y){\n    $patterns = array(\n        array(1,1),\n        array(1,-1),\n        array(-1,1),\n        array(-1,-1),\n    );\n\n    // \u30af\u30a4\u30fc\u30f3\u304c\u3042\u308b\u30d1\u30bf\u30fc\u30f3\n    if($map[$x][$y] === 'Q'){\n        for($i = 0; $i < MAP_MAX; $i++){\n            // \u6a2a\n            if($i != $y && $map[$x][$i] == 'Q'){\n                return 'B';\n            }\n            // \u7e26\n            if($i != $x && $map[$i][$y] == 'Q'){\n                return 'B';\n            }\n            // \u659c\u3081\n            foreach($patterns as $pattern){\n                $xNew = $x+$i*$pattern[0];\n                $yNew = $y+$i*$pattern[1];\n                if($xNew != $x && $yNew != $y &&\n                    0 <= $xNew && $xNew < MAP_MAX &&\n                    0 <= $yNew && $yNew < MAP_MAX &&\n                    $map[$xNew][$yNew] == 'Q'){\n                    return 'B';\n                }\n            }\n\n        }\n        return 'Q';\n    }\n    // \u306a\u3044\u30d1\u30bf\u30fc\u30f3\n    else{\n        for($i = 0; $i < MAP_MAX; $i++){\n            // \u6a2a\n            if($i != $y && $map[$x][$i] == 'Q'){\n                return 'E';\n            }\n            // \u7e26\n            if($i != $x && $map[$i][$y] == 'Q'){\n                return 'E';\n            }\n            // \u659c\u3081\n            foreach($patterns as $pattern){\n                $xNew = $x+$i*$pattern[0];\n                $yNew = $y+$i*$pattern[1];\n                if($xNew != $x && $yNew != $y &&\n                    0 <= $xNew && $xNew < MAP_MAX &&\n                    0 <= $yNew && $yNew < MAP_MAX &&\n                    $map[$xNew][$yNew] == 'Q'){\n                    return 'E';\n                }\n            }\n        }\n        return 'C';\n    }\n}\n\n?>\n\n\n\nhttp://arc001.contest.atcoder.jp/tasks/arc001_3\n\n#\u6982\u8981\n8\u30af\u30a4\u30fc\u30f3\u554f\u984c\n8*8\u306e\u30c1\u30a7\u30b9\u76e4\u306b\u3001\u7e26\u6a2a\u659c\u3081\u306b\u30af\u30a4\u30fc\u30f3\u304c\u306a\u3044\u3088\u3046\u306b8\u500b\u7f6e\u304f\u3053\u3068\u304c\u76ee\u6a19\n\u3042\u3089\u304b\u3058\u3081\u3044\u304f\u3064\u304b\u7f6e\u3044\u305f\u72b6\u614b\u304c\u4e0e\u3048\u3089\u308c\u308b\u306e\u3067\u3001\u305d\u308c\u306b\u8ffd\u52a0\u3057\u3066\u7f6e\u3044\u3066\u4e0a\u8a18\u76ee\u6a19\u3092\u6e80\u305f\u3059\u30d1\u30bf\u30fc\u30f3\u306e\u3046\u30611\u500b\u3092\u51fa\u529b\n\u3069\u3046\u3084\u3063\u3066\u3082\u6e80\u305f\u305b\u306a\u3044\u5834\u5408\u306f\u305d\u306e\u65e8\u3092\u8868\u793a\n#\u89e3\u3044\u305f\u65b9\u91dd\n\u5168\u30d1\u30bf\u30fc\u30f3\u8a66\u3059\n\u76e4\u9762\u306e\u30af\u30a4\u30fc\u30f3\u3092\u7f6e\u3051\u308b\u5834\u6240\u3092\u30d3\u30c3\u30c8\u5217\u306b\u3057\u3066\u300c000000000001\u300d\u300c000000000010\u300d\u300c000000000011\u300d\u3068\u9806\u756a\u306b\u5217\u6319\u3001\u76ee\u6a19\u3092\u6e80\u305f\u3057\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\uff08\u518d\u8d77\u547c\u3073\u51fa\u3057\u3067\u3053\u306e\u69cb\u60f3\u3092\u5b9f\u73fe\uff09\n\u305d\u306e\u904e\u7a0b\u3067\u6e80\u305f\u3057\u3066\u308b\u3082\u306e\u3092\u691c\u51fa\u3057\u305f\u3089\u5373\u8868\u793a\n\u6700\u5f8c\u307e\u3067\u6e80\u305f\u3055\u306a\u304b\u3063\u305f\u3089\u3001\u6e80\u305f\u3057\u3048\u306a\u3044\u3068\u8868\u793a\n\n```php:\u81ea\u5206\u306e\u56de\u7b54.php\n\n<?php\n \n//require_once('./debug.php');\n \ndefine('MAP_MAX', 8);\n \n// \u5165\u529b\nfor($i = 0; $i < 8; $i++){\n\tfscanf(STDIN, \"%s\", $input);\n\t//$input = debug_getInput();\n \n\t$input = str_replace(array(\"\\r\\n\",\"\\n\",\"\\r\"), '', $input);\n\t$tempArray = str_split($input);\n\t$map[$i] = $tempArray;\n}\n// \u3044\u304d\u306a\u308a\u9055\u53cd\u3057\u3066\u305f\u3089\u30a2\u30a6\u30c8\nif(!checkMap($map)) exit(\"No Answer\\n\");\n \n \n \n// \u3068\u308a\u3042\u3048\u305a\u3001\u7f6e\u3051\u308b\u3068\u3053\u306b\u5168\u90e8\u7f6e\u304d\u3083\u3042\u3044\u3044\u3093\u3058\u3083\u306d\u3048\u306e\u304b\uff1f\n$result = putQueen($map);\n \nif($result === false){\n\texit(\"No Answer\\n\");\n}\nelse {\n\tprintMap($result);\n}\n \nexit();\n \n \nfunction printMap($map){\n\tforeach($map as $line){\n\t\tforeach($line as $point){\n\t\t\techo $point;\n\t\t}\n\t\techo \"\\n\";\n\t}\n\techo \"\\n\";\n}\n \n/****************************\n *\n * \u6307\u5b9a\u3057\u305f\u5834\u6240\u306b\u7f6e\u3044\u3066\u3044\u304f\n *\n ****************************/\nfunction putQueen($map, $x = 0, $y = 0){\n\t// (x, y)...(x, MAP_MAX), (x+1, 0)...\u3068\u3044\u3046\u98a8\u306b\u8abf\u3079\u308b\u305f\u3081\u306e\u5de5\u592b\n\t// \u76e4\u9762\u306e\u9014\u4e2d\u304b\u3089\u8abf\u3079\u308b\n\t$yIni = $y;\n\tfor($i = 0; $i < MAP_MAX; $i++){\n\t\tfor($j = $yIni; $j < MAP_MAX; $j++){\n\t\t\t// \u3042\u308b\u884c\u306e\u9014\u4e2d\u304b\u3089\u8abf\u3079\u305f\u3089\u3001\u6b21\u306e\u884c\u306f\u5148\u982d\u304b\u3089\u8abf\u3079\u308b\n\t\t\t$yIni = 0;\n\t\t\t// \u7f6e\u3051\u308b\u306a\u3089\n\t\t\tif(checkPoint($map, $i, $j) == 'C'){\n\t\t\t\t// \u4eee\u306e\u30de\u30c3\u30d7\n\t\t\t\t$mapTemp = $map;\n \n\t\t\t\t// \u7f6e\u304f\n\t\t\t\t$mapTemp[$i][$j] = 'Q';\n\t\t\t\t// \u6b21\u306b\u3082\u7f6e\u304f\n\t\t\t\t$nextXY = xyPlus1($i, $j);\n\t\t\t\tif($nextXY !== false){\n\t\t\t\t\tlist($nextX, $nextY) = $nextXY;\n\t\t\t\t\t$mapTemp = putQueen($mapTemp, $nextX, $nextY);\n \n\t\t\t\t\t$result = checkAnswer($mapTemp);\n\t\t\t\t\tif($result === false){\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn $result;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n \n\treturn checkAnswer($map);\n}\n \n \n \n \n/****************************\n *\n * \u6b21\u306e\u5ea7\u6a19\u3092\u6c42\u3081\u308b\n *\n ****************************/\nfunction xyPlus1($x, $y){\n\t$y++;\n\t// y\u5ea7\u6a19\u3092\u52a0\u3048\u3066\u306f\u307f\u51fa\u3057\u305f\u3089\n\tif($y >= MAP_MAX){\n\t\t// \u6b21\u306e\u884c\u306e\u6700\u521d\u3078\n\t\t$x++;\n\t\t$y = 0;\n\t\t// \u305d\u308c\u3067x\u5ea7\u6a19\u3082\u306f\u307f\u51fa\u305f\u3089\u3001\u6b21\u306e\u30de\u30b9\u306f\u3082\u3046\u306a\u3044\n\t\tif($x >= MAP_MAX) return false;\n\t}\n \n\treturn array($x, $y);\n}\n \n/****************************\n*\n* \u6b63\u89e3\u304b\u3069\u3046\u304b\u3092\u8abf\u3079\u308b\n*\n****************************/\nfunction checkAnswer($map){\n\tif(!is_array($map)) return false;\n \n\tif(checkQueenAmount($map) >= MAP_MAX && checkMap($map)) return $map;\n\treturn false;\n}\n \n/****************************\n*\n* \u30af\u30a4\u30fc\u30f3\u304c\u4f55\u500b\u304b\u8abf\u3079\u308b\n*\n****************************/\nfunction checkQueenAmount($map){\n\tif(!is_Array($map)) return 0;\n \n\t$count = 0;\n\tfor($i = 0; $i < MAP_MAX; $i++){\n\t\tfor($j = 0; $j < MAP_MAX; $j++){\n\t\t\tif($map[$i][$j] == 'Q') $count++;\n\t\t}\n\t}\n \n\treturn $count;\n}\n \n \n/***************************\n*\n* \u30b2\u30fc\u30e0\u76e4\u304c8\u30af\u30a4\u30fc\u30f3\u554f\u984c\u306b\u9055\u53cd\u3057\u3066\u3044\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af\n*\n* return true:\u9055\u53cd\u3057\u3066\u3044\u306a\u3044\u3002\n* return false:\u9055\u53cd\u3057\u3066\u3044\u308b\u3002\n*\n***************************/\n \nfunction checkMap($map){\n\tfor($i = 0; $i < MAP_MAX; $i++){\n\t\tfor($j = 0; $j < MAP_MAX; $j++){\n\t\t\t$checkPointResult = checkPoint($map, $i, $j);\n\t\t\tif($checkPointResult === 'B'){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n \n\treturn true;\n}\n \n/***************************\n *\n * \u30b2\u30fc\u30e0\u30dc\u30fc\u30c9\u306e\u7279\u5b9a\u306e\u5ea7\u6a19\u306e\u72b6\u614b\u3092\u8fd4\u3059\n *\n * return C:\u4f55\u3082\u306a\u3044\u3002\u7f6e\u3051\u308b\u3002\n * return E:\u4f55\u3082\u306a\u3044\u3002\u7f6e\u3051\u306a\u3044\u3002\n * return Q:\u30af\u30a4\u30fc\u30f3\u304c\u3042\u308b\u3002\u9055\u53cd\u3057\u3066\u3044\u306a\u3044\u3002\n * return B:\u30af\u30a4\u30fc\u30f3\u304c\u3042\u308b\u3002\u9055\u53cd\u3057\u3066\u3044\u308b\u3002\n *\n ***************************/\nfunction checkPoint($map, $x, $y){\n\t$patterns = array(\n\t\tarray(1,1),\n\t\tarray(1,-1),\n\t\tarray(-1,1),\n\t\tarray(-1,-1),\n\t);\n \n\t// \u30af\u30a4\u30fc\u30f3\u304c\u3042\u308b\u30d1\u30bf\u30fc\u30f3\n\tif($map[$x][$y] === 'Q'){\n\t\tfor($i = 0; $i < MAP_MAX; $i++){\n\t\t\t// \u6a2a\n\t\t\tif($i != $y && $map[$x][$i] == 'Q'){\n\t\t\t\treturn 'B';\n\t\t\t}\n\t\t\t// \u7e26\n\t\t\tif($i != $x && $map[$i][$y] == 'Q'){\n\t\t\t\treturn 'B';\n\t\t\t}\n\t\t\t// \u659c\u3081\n\t\t\tforeach($patterns as $pattern){\n\t\t\t\t$xNew = $x+$i*$pattern[0];\n\t\t\t\t$yNew = $y+$i*$pattern[1];\n\t\t\t\tif($xNew != $x && $yNew != $y &&\n\t\t\t\t\t0 <= $xNew && $xNew < MAP_MAX &&\n\t\t\t\t\t0 <= $yNew && $yNew < MAP_MAX &&\n\t\t\t\t\t$map[$xNew][$yNew] == 'Q'){\n\t\t\t\t\treturn 'B';\n\t\t\t\t}\n\t\t\t}\n \n\t\t}\n\t\treturn 'Q';\n\t}\n\t// \u306a\u3044\u30d1\u30bf\u30fc\u30f3\n\telse{\n\t\tfor($i = 0; $i < MAP_MAX; $i++){\n\t\t\t// \u6a2a\n\t\t\tif($i != $y && $map[$x][$i] == 'Q'){\n\t\t\t\treturn 'E';\n\t\t\t}\n\t\t\t// \u7e26\n\t\t\tif($i != $x && $map[$i][$y] == 'Q'){\n\t\t\t\treturn 'E';\n\t\t\t}\n\t\t\t// \u659c\u3081\n\t\t\tforeach($patterns as $pattern){\n\t\t\t\t$xNew = $x+$i*$pattern[0];\n\t\t\t\t$yNew = $y+$i*$pattern[1];\n\t\t\t\tif($xNew != $x && $yNew != $y &&\n\t\t\t\t\t0 <= $xNew && $xNew < MAP_MAX &&\n\t\t\t\t\t0 <= $yNew && $yNew < MAP_MAX &&\n\t\t\t\t\t$map[$xNew][$yNew] == 'Q'){\n\t\t\t\t\treturn 'E';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn 'C';\n\t}\n}\n \n?>\n\n```\n\n", "tags": ["AtCoder", "PHP"]}