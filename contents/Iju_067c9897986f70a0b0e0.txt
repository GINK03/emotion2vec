{"context": "\u3042\u307e\u308a\u6d3b\u8e8d\u3059\u308b\u6a5f\u4f1a\u306f\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001Spring Boot \u3067 Spring Web Service\u3092\u4f7f\u3063\u3066\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3057\u305f\u3068\u304d\u306b\u30cf\u30de\u3063\u305f\u3053\u3068\u3068\u3001\u89e3\u6c7a\u65b9\u6cd5\u306e\u30e1\u30e2\u3092\u6b8b\u3057\u307e\u3059\u3002\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\nSpring Boot\n\n1.4.1.RELEASE\n\nSpring Web Service\n\n2.4.0.RELEASE\n\nJava\n\n1.8\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\u5927\u534a\u306f\u3001Spring Web Service\u306eGetting Started Guide \u3092\u53c2\u8003\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\nApplication.java\npackage sample;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.InjectionPoint;\nimport org.springframework.beans.factory.config.ConfigurableBeanFactory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Scope;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Bean\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n    public Logger logger(InjectionPoint point) {\n        return LoggerFactory.getLogger(point.getMember().getDeclaringClass());\n    }\n}\n\n\n\nWebServiceConfig.java\npackage sample;\n\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.ws.config.annotation.EnableWs;\nimport org.springframework.ws.config.annotation.WsConfigurerAdapter;\nimport org.springframework.ws.transport.http.MessageDispatcherServlet;\nimport org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition;\nimport org.springframework.xml.xsd.SimpleXsdSchema;\nimport org.springframework.xml.xsd.XsdSchema;\n\n@EnableWs\n@Configuration\npublic class WebServiceConfig extends WsConfigurerAdapter {\n    @Bean\n    public ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\n        MessageDispatcherServlet servlet = new MessageDispatcherServlet();\n        servlet.setApplicationContext(applicationContext);\n        servlet.setTransformWsdlLocations(true);\n        return new ServletRegistrationBean(servlet, \"/ws/*\");\n    }\n\n    @Bean(name = \"Hello\")\n    public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema schemas) {\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n        wsdl11Definition.setPortTypeName(\"HelloPort\");\n        wsdl11Definition.setLocationUri(\"/ws\");\n        wsdl11Definition.setTargetNamespace(\"http://ijufumi.jp/sample\");\n        wsdl11Definition.setSchema(schemas);\n        wsdl11Definition.setCreateSoap11Binding(true);\n        wsdl11Definition.setCreateSoap12Binding(true);\n        return wsdl11Definition;\n    }\n\n    @Bean\n    public XsdSchema schemas() {\n        return new SimpleXsdSchema(new ClassPathResource(\"Hello.xsd\"));\n    }\n}\n\n\n\nEndpoint.java\npackage sample;\n\nimport org.slf4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.ws.server.endpoint.annotation.Endpoint;\nimport org.springframework.ws.server.endpoint.annotation.PayloadRoot;\nimport org.springframework.ws.server.endpoint.annotation.RequestPayload;\nimport org.springframework.ws.server.endpoint.annotation.ResponsePayload;\n\nimport javax.annotation.PostConstruct;\n\n@Endpoint\npublic class Endpoint {\n\n    @Autowired\n    Logger logger;\n\n    @PostConstruct\n    public void postConstruct() {\n        logger.info(\"Endpoint#postConstruct() called.\");\n    }\n\n    @PayloadRoot(namespace = \"http://ijufumi.jp/hello\", localPart = \"HelloRequest\")\n    @ResponsePayload\n    public HelloResponseType hello(@RequestPayload HelloRequestType request) {\n        HelloResponseType response = new HelloResponseType();\n        response.setMessage(\"Hello World, \" + request.getName()); \n        return response;\n    }\n}\n\n\n\nHelloRequestType.java\npackage sample;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"HelloRequestType\", namespace = \"http://ijufumi.jp/hello\", propOrder = {\n    \"name\"\n})\npublic class HelloRequestType {\n    @XmlElement(name = \"Name\")\n    protected String name;\n\n    public String getName() {\n      return name;\n    }\n    public void setName(String name) {\n      this.name = name;\n    }\n}\n\n\n\nHelloResponseType.java\npackage sample;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"HelloResponseType\", namespace = \"http://ijufumi.jp/hello\", propOrder = {\n    \"message\"\n})\npublic class HelloRequestType {\n    @XmlElement(name = \"Message\")\n    protected String message;\n\n    public String getMessage() {\n      return message;\n    }\n    public void setMessage(String message) {\n      this.message = message;\n    }\n}\n\n\n\nhello.xsd\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:tns=\"http://ijufumi.jp/hello\"\n           targetNamespace=\"http://ijufumi.jp/hello\" elementFormDefault=\"qualified\">\n    <xs:element name=\"HelloRequest\" type=\"tns:HelloRequestType\" />\n    <xs:element name=\"HelloResponse\" type=\"tns:HelloResponseType\" />\n\n    <xs:complexType name=\"HelloRequestType\">\n            <xs:sequence>\n                <xs:element name=\"Name\" type=\"xs:string\"/>\n            </xs:sequence>\n    </xs:complexType>\n\n    <xs:complexType name=\"HelloResponseType\">\n            <xs:sequence>\n                <xs:element name=\"Message\" type=\"xs:string\"/>\n            </xs:sequence>\n    </xs:complexType>\n</xs:schema>\n\n\n\nrequest.xml\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\n                                  xmlns:h=\"http://ijufumi.jp/hello\">\n   <soapenv:Header/>\n   <soapenv:Body>\n     <h:HelloRequest>\n       <Name>Iju</Name>\n     </h:HelloRequest>\n   </soapenv:Body>\n</soapenv:Envelope>\n\n\n\n\u30cf\u30de\u3063\u305f\u30dd\u30a4\u30f3\u30c8\n\n\u300cNo adapter for endpoint\u300d\n\n\u4e8b\u8c61\nSOAP\u306eXML\u3092POST\u3059\u308b\u3068\u3001\n<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\">\n  <SOAP-ENV:Header/>\n  <SOAP-ENV:Body>\n    <SOAP-ENV:Fault>\n      <faultcode>SOAP-ENV:Server</faultcode>\n      <faultstring xml:lang=\"en\">No adapter for endpoint [public   sample.HelloResponseType sample.Endpoint.hello(sample.HelloRequestType) ]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?\n      </faultstring>\n    </SOAP-ENV:Fault>\n  </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>\n\n\u3068\u3044\u3046\u306e\u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\n\u539f\u56e0\nStackOverFlow\u3067\u3082\u56de\u7b54\u3055\u308c\u3066\u3044\u308b\u901a\u308a\u3001JAXB\u3067\u4f5c\u6210\u3057\u305fPOJO\u306b@XmlRootElement\u304c\u306a\u3044\u306e\u304c\u539f\u56e0\u307f\u305f\u3044\u3067\u3059\u3002\n\n\u5bfe\u5fdc\u5185\u5bb9\n\u30ea\u30af\u30a8\u30b9\u30c8\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u4e21\u65b9\u306ePOJO\u306b@XmlRootElement\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\nHelloRequestType.java\npackage sample;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"HelloRequestType\", namespace = \"http://ijufumi.jp/hello\", propOrder = {\n    \"name\"\n})\npublic class HelloRequestType {\n    @XmlElement(name = \"Name\")\n    protected String name;\n\n    public String getName() {\n      return name;\n    }\n    public void setName(String name) {\n      this.name = name;\n    }\n}\n\n\n\nHelloResponseType.java\npackage sample;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"HelloResponseType\", namespace = \"http://ijufumi.jp/hello\", propOrder = {\n    \"message\"\n})\npublic class HelloRequestType {\n    @XmlElement(name = \"Message\")\n    protected String message;\n\n    public String getMessage() {\n      return message;\n    }\n    public void setMessage(String message) {\n      this.message = message;\n    }\n}\n\n\n\n\u300cunexpected element\u300d\n\n\u4e8b\u8c61\n@XmlRootElement\u3092\u8ffd\u52a0\u5f8c\u306b\u518d\u5ea6POST\u3057\u305f\u3089\u3001\n<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\">\n  <SOAP-ENV:Header/>\n  <SOAP-ENV:Body>\n    <SOAP-ENV:Fault>\n      <faultcode>SOAP-ENV:Server</faultcode>\n      <faultstring xml:lang=\"en\">unexpected element (uri:\"http://ijufumi.jp/hello\", local:\"HelloRequest\"). Expected elements are &lt;\u30fb\u30fb\u30fb</faultstring>\n    </SOAP-ENV:Fault>\n  </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>\n\n\u3068\u3044\u3046\u306e\u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\n\u539f\u56e0\nEndpoint\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u306b\u3001JAXBElement\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\u305f\u3060\u3001\u3053\u306e\u5bfe\u5fdc\u5185\u5bb9\u3092\u898b\u3064\u3051\u305f\u30bd\u30fc\u30b9\u3092\u898b\u5931\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001\u898b\u3064\u3051\u6b21\u7b2c\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n\u5bfe\u5fdc\u5185\u5bb9\nEndpoint\u3092\u4fee\u6b63\u3002\n\nEndpoint.java\npackage sample;\n\nimport org.slf4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.ws.server.endpoint.annotation.Endpoint;\nimport org.springframework.ws.server.endpoint.annotation.PayloadRoot;\nimport org.springframework.ws.server.endpoint.annotation.RequestPayload;\nimport org.springframework.ws.server.endpoint.annotation.ResponsePayload;\n\nimport javax.annotation.PostConstruct;\nimport javax.xml.bind.JAXBElement;\n\n@Endpoint\npublic class Endpoint {\n\n    @Autowired\n    Logger logger;\n\n    @PostConstruct\n    public void postConstruct() {\n        logger.info(\"Endpoint#postConstruct() called.\");\n    }\n\n    @PayloadRoot(namespace = \"http://ijufumi.jp/hello\", localPart = \"HelloRequest\")\n    @ResponsePayload\n    public HelloResponseType hello(@RequestPayload JAXBElement<HelloRequestType> request) {\n        HelloResponseType response = new HelloResponseType();\n        response.setMessage(\"Hello World, \" + request.getName()); \n        return response;\n    }\n}\n\n\n\n\u6700\u5f8c\u306b\n\u30cf\u30de\u3063\u305f\u3068\u304d\u306b\u65e5\u672c\u8a9e\u306e\u60c5\u5831\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u30e1\u30e2\u3092\u6b8b\u3057\u307e\u3057\u305f\u3002\n\u305f\u3060\u3001\u884c\u304d\u5f53\u305f\u308a\u3070\u3063\u305f\u308a\u3067\u8abf\u3079\u305f\u3082\u306e\u306a\u306e\u3067\u591a\u5c11\u306a\u308a\u9593\u9055\u3063\u3066\u3044\u308b\u8a18\u8ff0\u304c\u3042\u308b\u3068\u601d\u3046\u306e\u3067\u3001\n\u9069\u5b9c\u6307\u6458\u3044\u305f\u3060\u3051\u308b\u3068\u52a9\u304b\u308a\u307e\u3059\u3002\n\u3042\u307e\u308a\u6d3b\u8e8d\u3059\u308b\u6a5f\u4f1a\u306f\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001Spring Boot \u3067 Spring Web Service\u3092\u4f7f\u3063\u3066\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3057\u305f\u3068\u304d\u306b\u30cf\u30de\u3063\u305f\u3053\u3068\u3068\u3001\u89e3\u6c7a\u65b9\u6cd5\u306e\u30e1\u30e2\u3092\u6b8b\u3057\u307e\u3059\u3002\n\n## \u30d0\u30fc\u30b8\u30e7\u30f3\n* Spring Boot\n\n1.4.1.RELEASE\n\n\n* Spring Web Service\n\n2.4.0.RELEASE\n\n\n* Java\n\n1.8\n\n## \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\u5927\u534a\u306f\u3001Spring Web Service\u306e[Getting Started Guide](https://spring.io/guides/gs/producing-web-service/) \u3092\u53c2\u8003\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n```Application.java\npackage sample;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.InjectionPoint;\nimport org.springframework.beans.factory.config.ConfigurableBeanFactory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Scope;\n\n@SpringBootApplication\npublic class Application {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(Application.class, args);\n\t}\n\n\t@Bean\n\t@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n\tpublic Logger logger(InjectionPoint point) {\n\t\treturn LoggerFactory.getLogger(point.getMember().getDeclaringClass());\n\t}\n}\n```\n``` WebServiceConfig.java\npackage sample;\n\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.ws.config.annotation.EnableWs;\nimport org.springframework.ws.config.annotation.WsConfigurerAdapter;\nimport org.springframework.ws.transport.http.MessageDispatcherServlet;\nimport org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition;\nimport org.springframework.xml.xsd.SimpleXsdSchema;\nimport org.springframework.xml.xsd.XsdSchema;\n\n@EnableWs\n@Configuration\npublic class WebServiceConfig extends WsConfigurerAdapter {\n    @Bean\n    public ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\n        MessageDispatcherServlet servlet = new MessageDispatcherServlet();\n        servlet.setApplicationContext(applicationContext);\n        servlet.setTransformWsdlLocations(true);\n        return new ServletRegistrationBean(servlet, \"/ws/*\");\n    }\n\n    @Bean(name = \"Hello\")\n    public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema schemas) {\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n        wsdl11Definition.setPortTypeName(\"HelloPort\");\n        wsdl11Definition.setLocationUri(\"/ws\");\n        wsdl11Definition.setTargetNamespace(\"http://ijufumi.jp/sample\");\n        wsdl11Definition.setSchema(schemas);\n        wsdl11Definition.setCreateSoap11Binding(true);\n        wsdl11Definition.setCreateSoap12Binding(true);\n        return wsdl11Definition;\n    }\n\n    @Bean\n    public XsdSchema schemas() {\n        return new SimpleXsdSchema(new ClassPathResource(\"Hello.xsd\"));\n    }\n}\n```\n``` Endpoint.java\npackage sample;\n\nimport org.slf4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.ws.server.endpoint.annotation.Endpoint;\nimport org.springframework.ws.server.endpoint.annotation.PayloadRoot;\nimport org.springframework.ws.server.endpoint.annotation.RequestPayload;\nimport org.springframework.ws.server.endpoint.annotation.ResponsePayload;\n\nimport javax.annotation.PostConstruct;\n\n@Endpoint\npublic class Endpoint {\n\n    @Autowired\n    Logger logger;\n\n    @PostConstruct\n    public void postConstruct() {\n        logger.info(\"Endpoint#postConstruct() called.\");\n    }\n\n    @PayloadRoot(namespace = \"http://ijufumi.jp/hello\", localPart = \"HelloRequest\")\n    @ResponsePayload\n    public HelloResponseType hello(@RequestPayload HelloRequestType request) {\n        HelloResponseType response = new HelloResponseType();\n        response.setMessage(\"Hello World, \" + request.getName()); \n        return response;\n    }\n}\n```\n``` HelloRequestType.java\npackage sample;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"HelloRequestType\", namespace = \"http://ijufumi.jp/hello\", propOrder = {\n    \"name\"\n})\npublic class HelloRequestType {\n    @XmlElement(name = \"Name\")\n    protected String name;\n\n    public String getName() {\n      return name;\n    }\n    public void setName(String name) {\n      this.name = name;\n    }\n}\n```\n``` HelloResponseType.java\npackage sample;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"HelloResponseType\", namespace = \"http://ijufumi.jp/hello\", propOrder = {\n    \"message\"\n})\npublic class HelloRequestType {\n    @XmlElement(name = \"Message\")\n    protected String message;\n\n    public String getMessage() {\n      return message;\n    }\n    public void setMessage(String message) {\n      this.message = message;\n    }\n}\n```\n``` hello.xsd\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:tns=\"http://ijufumi.jp/hello\"\n           targetNamespace=\"http://ijufumi.jp/hello\" elementFormDefault=\"qualified\">\n    <xs:element name=\"HelloRequest\" type=\"tns:HelloRequestType\" />\n    <xs:element name=\"HelloResponse\" type=\"tns:HelloResponseType\" />\n\n    <xs:complexType name=\"HelloRequestType\">\n            <xs:sequence>\n                <xs:element name=\"Name\" type=\"xs:string\"/>\n            </xs:sequence>\n    </xs:complexType>\n\n    <xs:complexType name=\"HelloResponseType\">\n            <xs:sequence>\n                <xs:element name=\"Message\" type=\"xs:string\"/>\n            </xs:sequence>\n    </xs:complexType>\n</xs:schema>\n```\n``` request.xml\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\n                                  xmlns:h=\"http://ijufumi.jp/hello\">\n   <soapenv:Header/>\n   <soapenv:Body>\n     <h:HelloRequest>\n       <Name>Iju</Name>\n     </h:HelloRequest>\n   </soapenv:Body>\n</soapenv:Envelope>\n```\n\n## \u30cf\u30de\u3063\u305f\u30dd\u30a4\u30f3\u30c8\n### \u300cNo adapter for endpoint\u300d\n#### \u4e8b\u8c61\nSOAP\u306eXML\u3092POST\u3059\u308b\u3068\u3001\n\n```xml\n<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\">\n  <SOAP-ENV:Header/>\n  <SOAP-ENV:Body>\n    <SOAP-ENV:Fault>\n      <faultcode>SOAP-ENV:Server</faultcode>\n      <faultstring xml:lang=\"en\">No adapter for endpoint [public   sample.HelloResponseType sample.Endpoint.hello(sample.HelloRequestType) ]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?\n      </faultstring>\n    </SOAP-ENV:Fault>\n  </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>\n```\n\n\u3068\u3044\u3046\u306e\u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\n#### \u539f\u56e0\n[StackOverFlow](http://stackoverflow.com/questions/15282656/no-adapter-for-endpoint-in-spring-web-service-response)\u3067\u3082\u56de\u7b54\u3055\u308c\u3066\u3044\u308b\u901a\u308a\u3001JAXB\u3067\u4f5c\u6210\u3057\u305fPOJO\u306b`@XmlRootElement`\u304c\u306a\u3044\u306e\u304c\u539f\u56e0\u307f\u305f\u3044\u3067\u3059\u3002\n\n#### \u5bfe\u5fdc\u5185\u5bb9\n\u30ea\u30af\u30a8\u30b9\u30c8\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u4e21\u65b9\u306ePOJO\u306b`@XmlRootElement`\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\n``` HelloRequestType.java\npackage sample;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"HelloRequestType\", namespace = \"http://ijufumi.jp/hello\", propOrder = {\n    \"name\"\n})\npublic class HelloRequestType {\n    @XmlElement(name = \"Name\")\n    protected String name;\n\n    public String getName() {\n      return name;\n    }\n    public void setName(String name) {\n      this.name = name;\n    }\n}\n```\n``` HelloResponseType.java\npackage sample;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"HelloResponseType\", namespace = \"http://ijufumi.jp/hello\", propOrder = {\n    \"message\"\n})\npublic class HelloRequestType {\n    @XmlElement(name = \"Message\")\n    protected String message;\n\n    public String getMessage() {\n      return message;\n    }\n    public void setMessage(String message) {\n      this.message = message;\n    }\n}\n```\n\n### \u300cunexpected element\u300d\n#### \u4e8b\u8c61\n`@XmlRootElement`\u3092\u8ffd\u52a0\u5f8c\u306b\u518d\u5ea6POST\u3057\u305f\u3089\u3001\n\n```xml\n<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\">\n  <SOAP-ENV:Header/>\n  <SOAP-ENV:Body>\n    <SOAP-ENV:Fault>\n      <faultcode>SOAP-ENV:Server</faultcode>\n      <faultstring xml:lang=\"en\">unexpected element (uri:\"http://ijufumi.jp/hello\", local:\"HelloRequest\"). Expected elements are &lt;\u30fb\u30fb\u30fb</faultstring>\n    </SOAP-ENV:Fault>\n  </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>\n```\n\n\u3068\u3044\u3046\u306e\u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\n#### \u539f\u56e0\nEndpoint\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u306b\u3001`JAXBElement`\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\u305f\u3060\u3001\u3053\u306e\u5bfe\u5fdc\u5185\u5bb9\u3092\u898b\u3064\u3051\u305f\u30bd\u30fc\u30b9\u3092\u898b\u5931\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001\u898b\u3064\u3051\u6b21\u7b2c\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n#### \u5bfe\u5fdc\u5185\u5bb9\nEndpoint\u3092\u4fee\u6b63\u3002\n\n``` Endpoint.java\npackage sample;\n\nimport org.slf4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.ws.server.endpoint.annotation.Endpoint;\nimport org.springframework.ws.server.endpoint.annotation.PayloadRoot;\nimport org.springframework.ws.server.endpoint.annotation.RequestPayload;\nimport org.springframework.ws.server.endpoint.annotation.ResponsePayload;\n\nimport javax.annotation.PostConstruct;\nimport javax.xml.bind.JAXBElement;\n\n@Endpoint\npublic class Endpoint {\n\n    @Autowired\n    Logger logger;\n\n    @PostConstruct\n    public void postConstruct() {\n        logger.info(\"Endpoint#postConstruct() called.\");\n    }\n\n    @PayloadRoot(namespace = \"http://ijufumi.jp/hello\", localPart = \"HelloRequest\")\n    @ResponsePayload\n    public HelloResponseType hello(@RequestPayload JAXBElement<HelloRequestType> request) {\n        HelloResponseType response = new HelloResponseType();\n        response.setMessage(\"Hello World, \" + request.getName()); \n        return response;\n    }\n}\n```\n\n### \u6700\u5f8c\u306b\n\u30cf\u30de\u3063\u305f\u3068\u304d\u306b\u65e5\u672c\u8a9e\u306e\u60c5\u5831\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u30e1\u30e2\u3092\u6b8b\u3057\u307e\u3057\u305f\u3002\n\u305f\u3060\u3001\u884c\u304d\u5f53\u305f\u308a\u3070\u3063\u305f\u308a\u3067\u8abf\u3079\u305f\u3082\u306e\u306a\u306e\u3067\u591a\u5c11\u306a\u308a\u9593\u9055\u3063\u3066\u3044\u308b\u8a18\u8ff0\u304c\u3042\u308b\u3068\u601d\u3046\u306e\u3067\u3001\n\u9069\u5b9c\u6307\u6458\u3044\u305f\u3060\u3051\u308b\u3068\u52a9\u304b\u308a\u307e\u3059\u3002\n", "tags": ["spring", "SpringWebService", "SpringBoot", "\u30e1\u30e2"]}