{"tags": ["laravel", "PHP", "SQLServer", "MSSQL"], "context": " More than 1 year has passed since last update.\n\n\u80cc\u666f\nLaravel\u3067\u306fDB\u64cd\u4f5c\u306bPDO\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u304c\u3001\nPDO\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30e1\u30bd\u30c3\u30c9\uff08beginTransaction\u7b49\uff09\u304cSQLServer\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\nLaravel\u6a19\u6e96\u306e\nDB::transaction(function()\n{\n    ...\n});\n\n\u3084\u3001\nDB::beginTransaction();\n\u3067\u306fSQLServer\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u7ba1\u7406\u304c\u3067\u304d\u306a\u3044\u3002\n\n\u89e3\u6c7a\u7b56\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u51e6\u7406\u306eSQL\u3092\u76f4\u63a5\u5b9f\u884c\u3059\u308b\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\nuse DB;\nuse Exception;\n\ntry {\n    DB::connection('sqlsrv')->statement('BEGIN TRANSACTION');\n\n    ...\n\n    DB::connection('sqlsrv')->statement('COMMIT TRANSACTION');\n} catch (Exception $e) {\n    DB::connection('sqlsrv')->statement('ROLLBACK TRANSACTION');\n}\n\n\n\u53c2\u8003\nhttp://blog.livedoor.jp/alpha1280/archives/51751515.html\n# \u80cc\u666f\nLaravel\u3067\u306fDB\u64cd\u4f5c\u306bPDO\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u304c\u3001\nPDO\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30e1\u30bd\u30c3\u30c9\uff08beginTransaction\u7b49\uff09\u304cSQLServer\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\nLaravel\u6a19\u6e96\u306e\n\n```php:\nDB::transaction(function()\n{\n    ...\n});\n```\n\n\u3084\u3001\n\n`DB::beginTransaction();`\n\n\u3067\u306fSQLServer\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u7ba1\u7406\u304c\u3067\u304d\u306a\u3044\u3002\n\n# \u89e3\u6c7a\u7b56\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u51e6\u7406\u306eSQL\u3092\u76f4\u63a5\u5b9f\u884c\u3059\u308b\u3002\n\n# \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n```php:\nuse DB;\nuse Exception;\n\ntry {\n    DB::connection('sqlsrv')->statement('BEGIN TRANSACTION');\n\n    ...\n\n    DB::connection('sqlsrv')->statement('COMMIT TRANSACTION');\n} catch (Exception $e) {\n    DB::connection('sqlsrv')->statement('ROLLBACK TRANSACTION');\n}\n```\n\n# \u53c2\u8003\nhttp://blog.livedoor.jp/alpha1280/archives/51751515.html\n"}