{"context": "\n\n\u6982\u8981\nOpenSSL\u3092\u3042\u3048\u3066\u3001\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u65b9\u6cd5\u3092\u30e1\u30e2\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306fnginx\u306a\u3069\u4ed6\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u304b\u3089\u306e\u4e92\u63db\u6027\u3092\u4fdd\u3064\u305f\u3081\u3001\u3042\u3048\u3066\u300copenssl-1.0.2j.tar.gz\u300d\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001OpenSSL1.1.0\u306f\u3001\u300c/usr/local/bin\u300d\u3084\u300c/usr/local/lib64\u300d\u306a\u3069\u306e\u6a19\u6e96\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u914d\u7f6e\u3055\u308c\u307e\u3059\u3002\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\n\u30bd\u30fc\u30b9\u306f\u3001\nhttps://www.openssl.org/source/\n\u304b\u3089\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\u3067\u3059\u3002\n\n\u691c\u8a3c\u74b0\u5883\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\nOpenSSL\n1.0.2j\n\n\nOS\nCentOS 7.2\n\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\ncd /usr/local/src\nwget https://www.openssl.org/source/openssl-1.0.2j.tar.gz\ntar xvzf openssl-1.0.2j.tar.gz\ncd openssl-1.0.2j\n./config -fPIC shared\nmake\nmake install\n\n\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u53c2\u7167\u8ffd\u52a0\u8a2d\u5b9a\n\u65e2\u5b58\u3067rpm\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5165\u3063\u3066\u3044\u308b\u3068\u3001\u65e2\u5b58\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u304b\u3089\u3001ld.so.conf\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n\u53c2\u7167\u5148\u3092\u8ffd\u52a0\nvi /etc/ld.so.conf\n\n\n\n\u4ee5\u4e0b\u306b\u8ffd\u52a0\n/usr/local/ssl/lib  #\u2190\u3053\u308c\u3092\u8ffd\u52a0\ninclude ld.so.conf.d/*.conf\n\n\n\u8ffd\u52a0\u7d42\u4e86\u5f8c\u306f\u3001\u53cd\u6620\n\n\u53cd\u6620\u30b3\u30de\u30f3\u30c9\nldconfig\n\n\n\u203b\u306a\u306b\u3082\u30b7\u30a7\u30eb\u306b\u306f\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u53cd\u6620\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u53cd\u6620\u78ba\u8a8d\n\n\u53cd\u6620\u78ba\u8a8d\nldconfig -p | grep ssl\n---\n# ldconfig -p | grep ssl\nlibssl3.so (libc6,x86-64) => /lib64/libssl3.so\nlibssl.so.10 (libc6,x86-64) => /lib64/libssl.so.10\nlibssl.so.6 (libc6,x86-64) => /lib64/libssl.so.6\nlibssl.so.1.0.0 (libc6,x86-64) => /usr/local/ssl/lib/libssl.so.1.0.0  #<-\u3053\u308c\u304c\u3042\u308c\u3070OK\nlibssl.so (libc6,x86-64) => /usr/local/ssl/lib/libssl.so\nlibssl.so (libc6,x86-64) => /lib64/libssl.so\nlibevent_openssl-2.0.so.5 (libc6,x86-64) => /lib64/libevent_openssl-2.0.so.5\nlibcrypto.so.1.0.0 (libc6,x86-64) => /usr/local/ssl/lib/libcrypto.so.1.0.0\nlibcrypto.so (libc6,x86-64) => /usr/local/ssl/lib/libcrypto.so\n\n\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\u65b9\u6cd5\n/usr/local/ssl/bin/openssl version\n#\u7d50\u679c\nOpenSSL 1.0.2h  3 May 2016\n\n\n##\u6982\u8981\nOpenSSL\u3092\u3042\u3048\u3066\u3001\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u65b9\u6cd5\u3092\u30e1\u30e2\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306fnginx\u306a\u3069\u4ed6\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u304b\u3089\u306e\u4e92\u63db\u6027\u3092\u4fdd\u3064\u305f\u3081\u3001\u3042\u3048\u3066\u300copenssl-1.0.2j.tar.gz\u300d\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001OpenSSL1.1.0\u306f\u3001\u300c/usr/local/bin\u300d\u3084\u300c/usr/local/lib64\u300d\u306a\u3069\u306e\u6a19\u6e96\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u914d\u7f6e\u3055\u308c\u307e\u3059\u3002\n\n##\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\n\u30bd\u30fc\u30b9\u306f\u3001\nhttps://www.openssl.org/source/\n\u304b\u3089\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\u3067\u3059\u3002\n\n## \u691c\u8a3c\u74b0\u5883\u30d0\u30fc\u30b8\u30e7\u30f3\n| \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 | \u30d0\u30fc\u30b8\u30e7\u30f3 |\n|:-:|:-:|\n|  OpenSSL | 1.0.2j  |\n|  OS | CentOS 7.2  |\n\n##\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash:\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\ncd /usr/local/src\nwget https://www.openssl.org/source/openssl-1.0.2j.tar.gz\ntar xvzf openssl-1.0.2j.tar.gz\ncd openssl-1.0.2j\n./config -fPIC shared\nmake\nmake install\n```\n##\u30e9\u30a4\u30d6\u30e9\u30ea\u53c2\u7167\u8ffd\u52a0\u8a2d\u5b9a\n\u65e2\u5b58\u3067rpm\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5165\u3063\u3066\u3044\u308b\u3068\u3001\u65e2\u5b58\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u304b\u3089\u3001ld.so.conf\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```bash:\u53c2\u7167\u5148\u3092\u8ffd\u52a0\nvi /etc/ld.so.conf\n```\n\n```bash:\u4ee5\u4e0b\u306b\u8ffd\u52a0\n/usr/local/ssl/lib  #\u2190\u3053\u308c\u3092\u8ffd\u52a0\ninclude ld.so.conf.d/*.conf\n```\n\n\u8ffd\u52a0\u7d42\u4e86\u5f8c\u306f\u3001\u53cd\u6620\n\n```bash:\u53cd\u6620\u30b3\u30de\u30f3\u30c9\nldconfig\n```\n\u203b\u306a\u306b\u3082\u30b7\u30a7\u30eb\u306b\u306f\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u53cd\u6620\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n##\u53cd\u6620\u78ba\u8a8d\n\n```bash:\u53cd\u6620\u78ba\u8a8d\nldconfig -p | grep ssl\n---\n# ldconfig -p | grep ssl\nlibssl3.so (libc6,x86-64) => /lib64/libssl3.so\nlibssl.so.10 (libc6,x86-64) => /lib64/libssl.so.10\nlibssl.so.6 (libc6,x86-64) => /lib64/libssl.so.6\nlibssl.so.1.0.0 (libc6,x86-64) => /usr/local/ssl/lib/libssl.so.1.0.0  #<-\u3053\u308c\u304c\u3042\u308c\u3070OK\nlibssl.so (libc6,x86-64) => /usr/local/ssl/lib/libssl.so\nlibssl.so (libc6,x86-64) => /lib64/libssl.so\nlibevent_openssl-2.0.so.5 (libc6,x86-64) => /lib64/libevent_openssl-2.0.so.5\nlibcrypto.so.1.0.0 (libc6,x86-64) => /usr/local/ssl/lib/libcrypto.so.1.0.0\nlibcrypto.so (libc6,x86-64) => /usr/local/ssl/lib/libcrypto.so\n```\n\n##\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n\n```bash:\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\u65b9\u6cd5\n/usr/local/ssl/bin/openssl version\n#\u7d50\u679c\nOpenSSL 1.0.2h  3 May 2016\n```\n", "tags": ["openssl", "CentOS"]}