{"context": " More than 1 year has passed since last update.\u307f\u306a\u3055\u3093\u304a\u624b\u6301\u3061\u306e\u79d8\u8535\u753b\u50cf\u3092\u6e9c\u3081\u8fbc\u3093\u3067\u3044\u305f\u308a\u753b\u50cf\u53ce\u96c6\u30b9\u30af\u30ea\u30d7\u30c8\u306a\u3093\u304b\u3092\u3076\u3044\u3076\u3044\u8a00\u308f\u3057\u3061\u3083\u3063\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u753b\u50cf\u7fa4\u3092\u4f7f\u3063\u3066\u304a\u624b\u8efd\u306b\u753b\u50cf\u307e\u3068\u3081\u30d6\u30ed\u30b0\u3067\u3082\u4f5c\u3063\u3061\u3083\u304a\u3046\u3068\u3044\u3046\u3084\u3064\u3067\u3059\u3002\n\u4f7f\u3046\u306e\u306foctopress\u304c\u52d5\u304b\u305b\u308b\u74b0\u5883\u3068\u516c\u958b\u3059\u308b\u5834\u6240\u306fs3\u306a\u3093\u304b\u304c\u3044\u3044\u3067\u3059\u304b\u306d\u3002\u8981\u9818\u7121\u5236\u9650\u3060\u3057\u3002\n\u30c7\u30d7\u30ed\u30a4\u5148\u306f\u304a\u306e\u304a\u306e\u306a\u3093\u304b\u3044\u3044\u611f\u3058\u306b\u9811\u5f35\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30bf\u30b9\u30af\u306e\u8ffd\u52a0\noctopress\u306eRakefile\u306b\u4e0b\u8a18\u3092\u8ffd\u52a0\n\nRakefile\nimages_dir      = \"images\"\n\ndesc \"Begin a new image in #{source_dir}/#{images_dir}\"\ntask :new_image, :title do |t, args|\n  if args.title\n    title = args.title\n  else\n    title = get_stdin(\"Enter a title for your post: \")\n  end\n  raise \"### You haven't set anything up yet. First run `rake install` to set up an Octopress theme.\" unless File.directory?(source_dir)\n  mkdir_p \"#{source_dir}/#{images_dir}\"\n  dirname = \"#{source_dir}/#{images_dir}/#{Time.now.strftime('%Y')}/#{Time.now.strftime('%m')}/#{Time.now.strftime('%d')}/#{title}\"\n  mkdir_p \"#{dirname}\"\nend\n\ndesc \"Begin a new image2post in #{source_dir}/#{posts_dir}\"\ntask :image2post, :title do |t, args|\n  raise \"### You haven't set anything up yet. First run `rake install` to set up an Octopress theme.\" unless File.directory?(source_dir)\n  mkdir_p \"#{source_dir}/#{posts_dir}\"\n  raise \"### You haven't set anything up yet. First run `rake new_image` to set up an Octopress theme.\" unless File.directory?(\"#{source_dir}/#{images_dir}\")\n  Dir.glob(\"#{source_dir}/#{images_dir}/*/*/*/*\").each do |dir|\n    dir_paths = dir.scan(/.+\\/.+\\/(\\d+)\\/(\\d+)\\/(\\d+)\\/(.+)/)\n    year  = dir_paths[0][0]\n    month = dir_paths[0][1]\n    day   = dir_paths[0][2]\n    title = dir_paths[0][3]\n    filename = \"#{source_dir}/#{posts_dir}/#{year}-#{month}-#{day}-#{title}.#{new_post_ext}\"\n    next if File.exist?(filename)\n    puts \"Creating new post: #{filename}\"\n    open(filename, 'w') do |post|\n      post.puts \"---\"\n      post.puts \"layout: post\"\n      post.puts \"title: \\\"#{title.gsub(/&/,'&amp;')}\\\"\"\n      post.puts \"date: #{Time.now.strftime('%Y-%m-%d %H:%M')}\"\n      post.puts \"comments: true\"\n      post.puts \"categories: \"\n      post.puts \"---\"\n      Dir.glob(\"#{dir}/*\").each do |image|\n        post.puts \"\"\n        image_name = image.gsub(/#{dir}\\//, '')\n        image_path = dir.gsub(/#{source_dir}/, '') + '/' + image_name\n        post.puts \"![#{image_name}](#{image_path} '#{image_name}')\"\n      end\n    end\n  end\nend\n\n\nhttps://gist.github.com/soramugi/7007229\n\n\u4f7f\u3044\u65b9\noctopress\u306e\u521d\u671f\u8a2d\u5b9a\u306f\u6e08\u3093\u3067\u3044\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\n\u4f7f\u3044\u65b9\u306f\u81f3\u3063\u3066\u7c21\u5358\u3002\n$ bundle exec rake new_image['\u304b\u3057\u3053\u3044\u304b\u308f\u3044\u3044\u30a8\u30ea\u30fc\u30c1\u30ab']\nmkdir -p source/images\nmkdir -p source/images/2013/10/17/\u304b\u3057\u3053\u3044\u304b\u308f\u3044\u3044\u30a8\u30ea\u30fc\u30c1\u30ab\n$ mv ~/Downloads/img/* source/images/2013/10/17/\u304b\u3057\u3053\u3044\u304b\u308f\u3044\u3044\u30a8\u30ea\u30fc\u30c1\u30ab/\n$ bundle exec rake image2post\nmkdir -p source/_posts\nCreating new post: source/_posts/2013-10-17-\u304b\u3057\u3053\u3044\u304b\u308f\u3044\u3044\u30a8\u30ea\u30fc\u30c1\u30ab.markdown\n$ bundle exec rake gen_deploy\n\n\u30684\u3064\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u7c21\u5358\u306b\u30d6\u30ed\u30b0\u306e\u5b8c\u6210\u3067\u3059\u3002\n\u304b\u3057\u3053\u3044\u304b\u308f\u3044\u3044\u30a8\u30ea\u30fc\u30c1\u30ab - pic.soramugi.net\noctopress\u306e\u30c6\u30fc\u30de\u3082\u8272\u3005\u3042\u308b\u306e\u3067\u81ea\u5206\u597d\u307f\u306e\u3082\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u4e00\u3064\u6b20\u70b9\u304c\u3042\u3063\u3066\u3001octopress\u306fsource\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u3082\u306e\u3092public\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u66f8\u304d\u51fa\u3057\u3066\u304b\u3089\u30c7\u30d7\u30ed\u30a4\u306a\u308a\u306a\u3093\u306a\u308a\u3092\u3059\u308b\u306e\u3067\u3001\u8981\u9818\u304c2\u500d\u306b\u306a\u308a\u307e\u3059\u3002\u3042\u307e\u308a\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u8981\u9818\u304c\u7121\u3044\u5834\u5408\u306b\u306f\u30ea\u30e2\u30fc\u30c8\u74b0\u5883\u306b\u7f6e\u304f\u3068\u304b\u8003\u3048\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u304b\u3082\u3067\u3059\u3002\n\u3044\u3058\u3087\n\n\u307f\u306a\u3055\u3093\u304a\u624b\u6301\u3061\u306e\u79d8\u8535\u753b\u50cf\u3092\u6e9c\u3081\u8fbc\u3093\u3067\u3044\u305f\u308a\u753b\u50cf\u53ce\u96c6\u30b9\u30af\u30ea\u30d7\u30c8\u306a\u3093\u304b\u3092\u3076\u3044\u3076\u3044\u8a00\u308f\u3057\u3061\u3083\u3063\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u753b\u50cf\u7fa4\u3092\u4f7f\u3063\u3066\u304a\u624b\u8efd\u306b\u753b\u50cf\u307e\u3068\u3081\u30d6\u30ed\u30b0\u3067\u3082\u4f5c\u3063\u3061\u3083\u304a\u3046\u3068\u3044\u3046\u3084\u3064\u3067\u3059\u3002\n\n\u4f7f\u3046\u306e\u306foctopress\u304c\u52d5\u304b\u305b\u308b\u74b0\u5883\u3068\u516c\u958b\u3059\u308b\u5834\u6240\u306fs3\u306a\u3093\u304b\u304c\u3044\u3044\u3067\u3059\u304b\u306d\u3002\u8981\u9818\u7121\u5236\u9650\u3060\u3057\u3002\n\u30c7\u30d7\u30ed\u30a4\u5148\u306f\u304a\u306e\u304a\u306e\u306a\u3093\u304b\u3044\u3044\u611f\u3058\u306b\u9811\u5f35\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\n# \u30bf\u30b9\u30af\u306e\u8ffd\u52a0\noctopress\u306eRakefile\u306b\u4e0b\u8a18\u3092\u8ffd\u52a0\n\n```ruby:Rakefile\nimages_dir      = \"images\"\n\ndesc \"Begin a new image in #{source_dir}/#{images_dir}\"\ntask :new_image, :title do |t, args|\n  if args.title\n    title = args.title\n  else\n    title = get_stdin(\"Enter a title for your post: \")\n  end\n  raise \"### You haven't set anything up yet. First run `rake install` to set up an Octopress theme.\" unless File.directory?(source_dir)\n  mkdir_p \"#{source_dir}/#{images_dir}\"\n  dirname = \"#{source_dir}/#{images_dir}/#{Time.now.strftime('%Y')}/#{Time.now.strftime('%m')}/#{Time.now.strftime('%d')}/#{title}\"\n  mkdir_p \"#{dirname}\"\nend\n\ndesc \"Begin a new image2post in #{source_dir}/#{posts_dir}\"\ntask :image2post, :title do |t, args|\n  raise \"### You haven't set anything up yet. First run `rake install` to set up an Octopress theme.\" unless File.directory?(source_dir)\n  mkdir_p \"#{source_dir}/#{posts_dir}\"\n  raise \"### You haven't set anything up yet. First run `rake new_image` to set up an Octopress theme.\" unless File.directory?(\"#{source_dir}/#{images_dir}\")\n  Dir.glob(\"#{source_dir}/#{images_dir}/*/*/*/*\").each do |dir|\n    dir_paths = dir.scan(/.+\\/.+\\/(\\d+)\\/(\\d+)\\/(\\d+)\\/(.+)/)\n    year  = dir_paths[0][0]\n    month = dir_paths[0][1]\n    day   = dir_paths[0][2]\n    title = dir_paths[0][3]\n    filename = \"#{source_dir}/#{posts_dir}/#{year}-#{month}-#{day}-#{title}.#{new_post_ext}\"\n    next if File.exist?(filename)\n    puts \"Creating new post: #{filename}\"\n    open(filename, 'w') do |post|\n      post.puts \"---\"\n      post.puts \"layout: post\"\n      post.puts \"title: \\\"#{title.gsub(/&/,'&amp;')}\\\"\"\n      post.puts \"date: #{Time.now.strftime('%Y-%m-%d %H:%M')}\"\n      post.puts \"comments: true\"\n      post.puts \"categories: \"\n      post.puts \"---\"\n      Dir.glob(\"#{dir}/*\").each do |image|\n        post.puts \"\"\n        image_name = image.gsub(/#{dir}\\//, '')\n        image_path = dir.gsub(/#{source_dir}/, '') + '/' + image_name\n        post.puts \"![#{image_name}](#{image_path} '#{image_name}')\"\n      end\n    end\n  end\nend\n```\n\n<https://gist.github.com/soramugi/7007229>\n\n# \u4f7f\u3044\u65b9\noctopress\u306e\u521d\u671f\u8a2d\u5b9a\u306f\u6e08\u3093\u3067\u3044\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\n\u4f7f\u3044\u65b9\u306f\u81f3\u3063\u3066\u7c21\u5358\u3002\n\n    $ bundle exec rake new_image['\u304b\u3057\u3053\u3044\u304b\u308f\u3044\u3044\u30a8\u30ea\u30fc\u30c1\u30ab']\n    mkdir -p source/images\n    mkdir -p source/images/2013/10/17/\u304b\u3057\u3053\u3044\u304b\u308f\u3044\u3044\u30a8\u30ea\u30fc\u30c1\u30ab\n    $ mv ~/Downloads/img/* source/images/2013/10/17/\u304b\u3057\u3053\u3044\u304b\u308f\u3044\u3044\u30a8\u30ea\u30fc\u30c1\u30ab/\n    $ bundle exec rake image2post\n    mkdir -p source/_posts\n    Creating new post: source/_posts/2013-10-17-\u304b\u3057\u3053\u3044\u304b\u308f\u3044\u3044\u30a8\u30ea\u30fc\u30c1\u30ab.markdown\n    $ bundle exec rake gen_deploy\n\n\u30684\u3064\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u7c21\u5358\u306b\u30d6\u30ed\u30b0\u306e\u5b8c\u6210\u3067\u3059\u3002\n\n[\u304b\u3057\u3053\u3044\u304b\u308f\u3044\u3044\u30a8\u30ea\u30fc\u30c1\u30ab - pic.soramugi.net](http://pic.soramugi.net/blog/2013/10/17/\u304b\u3057\u3053\u3044\u304b\u308f\u3044\u3044\u30a8\u30ea\u30fc\u30c1\u30ab/)\n\noctopress\u306e\u30c6\u30fc\u30de\u3082[\u8272\u3005](https://github.com/imathis/octopress/wiki/3rd-Party-Octopress-Themes)\u3042\u308b\u306e\u3067\u81ea\u5206\u597d\u307f\u306e\u3082\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4e00\u3064\u6b20\u70b9\u304c\u3042\u3063\u3066\u3001octopress\u306fsource\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u3082\u306e\u3092public\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u66f8\u304d\u51fa\u3057\u3066\u304b\u3089\u30c7\u30d7\u30ed\u30a4\u306a\u308a\u306a\u3093\u306a\u308a\u3092\u3059\u308b\u306e\u3067\u3001\u8981\u9818\u304c2\u500d\u306b\u306a\u308a\u307e\u3059\u3002\u3042\u307e\u308a\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u8981\u9818\u304c\u7121\u3044\u5834\u5408\u306b\u306f\u30ea\u30e2\u30fc\u30c8\u74b0\u5883\u306b\u7f6e\u304f\u3068\u304b\u8003\u3048\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u304b\u3082\u3067\u3059\u3002\n\n\u3044\u3058\u3087\n", "tags": ["Octopress"]}