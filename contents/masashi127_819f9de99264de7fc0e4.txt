{"context": " More than 1 year has passed since last update.\u524d\u56de\u8a18\u4e8b\u306e\u5fdc\u7528\u3067\u3001Shadow\u306e\u7279\u5fb4\u306e\u307e\u3068\u3081\u8a18\u4e8b\n\nShadow \u306e\u7279\u5fb4\n\n\u8907\u6570\u306eShadow Root\n\u633f\u5165\u30dd\u30a4\u30f3\u30c8\uff08Insert Points\uff09\u3068\u5206\u6563\u30ce\u30fc\u30c9\uff08Distributed Nodes\uff09\n\u30a4\u30d9\u30f3\u30c8\u306e\u8a2d\u5b9a\n\u53c2\u8003\n\n\n\u8907\u6570\u306eShadow Root\n\n\u540c\u3058\u30db\u30b9\u30c8\u304b\u3089\u306e\u751f\u6210\u3055\u308c\u305f\u8907\u6570\u306eShadow Root\u306b\u3001\u5225\u3005\u306b\u8981\u7d20\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3001\u6700\u5f8c\u306b\u8ffd\u52a0\u3057\u305f\u8981\u7d20\u306e\u307f\u304c\u51fa\u529b\u3055\u308c\u308b\u3002\n\n<script>\nwindow.onload = function() {\n  var container = document.getElementById('container');\n  var rootFirst = container.createShadowRoot();\n  var rootSecond = container.createShadowRoot();\n  rootFirst.innerHTML = '<div>This is first root</div>'; //\u8868\u793a\u3055\u308c\u306a\u3044\n  rootSecond.innerHTML = '<div>This is second root</div>'; //\u8868\u793a\u3055\u308c\u308b\n};\n</script>\n<div id=\"container\"></div>\n\n\n\u540c\u3058\u30db\u30b9\u30c8\u304b\u3089\u751f\u6210\u3055\u308c\u305f\u8907\u6570\u306eShadow Root\u306e\u8981\u7d20\u3092\u51fa\u529b\u3059\u308b\u305f\u3081\u306b\u306f<shadow>\u8981\u7d20\u3092\u4f7f\u7528\u3059\u308b\u3002\n\n<shadow>\u8981\u7d20\u5185\u306b\u306f\u76f4\u524d\u306b\u8ffd\u52a0\u3055\u308c\u305f\u8981\u7d20\u304c\u51fa\u529b\u3055\u308c\u308b\u3002\n\n<script>\nwindow.onload = function() {\n  var container = document.getElementById('container');\n  var rootFirst = container.createShadowRoot();\n  var rootSecond = container.createShadowRoot();\n  rootFirst.innerHTML = '<div>This is first root</div>'; //secondRoot\u306e<shadow>\u30bf\u30b0\u306e\u4e2d\u306b\u8868\u793a\u3055\u308c\u308b\u3002\n  rootSecond.innerHTML = '<shadow></shadow><div>This is second root</div>'; //\u8868\u793a\u3055\u308c\u308b\u3002\n};\n</script>\n<div id=\"container\"></div>\n\n\nShadow Root\u306e\u30db\u30b9\u30c8\u8981\u7d20\uff08<div id=\"container\">\uff09\u306e\u5185\u5bb9\u3092\u51fa\u529b\u3059\u308b\u305f\u3081\u306b\u306f<content>\u30bf\u30b0\u3092\u4f7f\u7528\u3059\u308b\u3002\n\n<script>\nwindow.onload = function() {\n  var container = document.getElementById('container');\n  var rootFirst = container.createShadowRoot();\n  var rootSecond = container.createShadowRoot();\n  rootFirst.innerHTML = '<div>This is first root</div>'; //secondRoot\u306e<shadow>\u30bf\u30b0\u306e\u4e2d\u306b\u8868\u793a\u3055\u308c\u308b\u3002\n  rootSecond.innerHTML = '<shadow></shadow><div>This is second root</div><content></content>'; //\u8868\u793a\u3055\u308c\u308b\u3002\n};\n</script>\n<div id=\"container\">This is container</div> <!-- \"This is container\"\u306frootSecond\u306e<content>\u30bf\u30b0\u306e\u4e2d\u306b\u8868\u793a\u3055\u308c\u308b\u3002 -->\n\n\n\u633f\u5165\u30dd\u30a4\u30f3\u30c8\uff08Insert Points\uff09\u3068\u5206\u6563\u30ce\u30fc\u30c9\uff08Distributed Nodes\uff09\n\n\n<shadow>\u3084<content>\u8981\u7d20\u3092\u633f\u5165\u30dd\u30a4\u30f3\u30c8\uff08Insert Points\uff09\u3068\u3044\u3046\u3002\n\n<shadow>\u3084<content>\u8981\u7d20\u306b\u8868\u793a\u3055\u308c\u308b\u8981\u7d20\u3092\u5206\u6563\u30ce\u30fc\u30c9\uff08Distributed Nodes\uff09\u3068\u3044\u3046\u3002\n\n<shadow>\u3084<content>\u8981\u7d20\u306e\u5b50\u8981\u7d20\u3068\u3057\u3066\u5206\u6563\u30ce\u30fc\u30c9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002\n\n<script>\nwindow.onload = function() {\n  var container = document.getElementById('container');\n  var rootFirst = container.createShadowRoot();\n  var rootSecond = container.createShadowRoot();\n  rootFirst.innerHTML = '<div>This is first root</div>';\n  rootSecond.innerHTML = '<shadow></shadow><div>This is second root</div><content></content>';\n\n  console.log(rootSecond.querySelector('content p')); // null\n};\n</script>\n<div id=\"container\"><p>This is container</p></div>\n\n\n\ngetDistributedNodes() \u3092\u4f7f\u7528\u3057\u3066\u3001\u633f\u5165\u30dd\u30a4\u30f3\u30c8\u306b\u8868\u793a\u3055\u308c\u308b\u5206\u6563\u30ce\u30fc\u30c9\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002\n\ngetDestinationInsertionPoints() \u3092\u4f7f\u7528\u3057\u3066\u3001\u5206\u6563\u30ce\u30fc\u30c9\u304c\u8868\u793a\u3055\u308c\u308b\u633f\u5165\u30dd\u30a4\u30f3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002\n\n<script>\nwindow.onload = function() {\n  var container = document.getElementById('container');\n  var rootFirst = container.createShadowRoot();\n  var rootSecond = container.createShadowRoot();\n  rootFirst.innerHTML = '<div>This is first root</div>';\n  rootSecond.innerHTML = '<shadow></shadow><div>This is second root</div><content></content>';\n\n  console.log(rootSecond.querySelector('content').getDistributedNodes()); //<p>This is container</p>\n  console.log(container.querySelector('p').getDestinationInsertionPoints()); //<content></content>\n};\n</script>\n<div id=\"container\"><p>This is container</p></div>\n\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u8a2d\u5b9a\n\ndocument\u8981\u7d20\u304b\u3089Shadow DOM\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002\nShadow DOM\u306b\u5bfe\u3059\u308b\u30a4\u30d9\u30f3\u30c8\u306f\u3001\u5168\u3066\u30db\u30b9\u30c8\u8981\u7d20\u304b\u3089\u767a\u751f\u3059\u308b\u3088\u3046\u306b\u518d\u8abf\u6574\u3055\u308c\u308b\u3002\n\n<input type=\"text\" placeholder=\"\u30db\u30b9\u30c8\">\n<div id=\"container\"><p>content</p></div>\n<script>\n  window.onload = function() {\n    var host = document.getElementById('container');\n    var root = host.createShadowRoot();\n    root.innerHTML = '<input type=\"text\" placeholder=\"Shadow DOM\">' +\n      '<p id=\"one\">One</p>' +\n      '<p id=\"two\">Two</p>' +\n      '<content></content>' +\n      '<p id=\"three\">Three</p>' +\n      '<p id=\"four\">Four</p>';\n\n    //Shadow DOM\u5185\u306e\u8981\u7d20\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068<div id=\"container\">\u8981\u7d20\u304c\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n    document.addEventListener('click', function(e) { \n      console.log(e.target);\n    });\n\n    //Shadow DOM\u5185\u306einput\u8981\u7d20\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3082\u767a\u751f\u3057\u306a\u3044\u3002\n    //\u30db\u30b9\u30c8\u306einput\u8981\u7d20\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u767a\u751f\u3059\u308b\u3002\n    document.querySelector('input').addEventListener('click', function(e) {\n      console.log(e.target);\n    });\n  }\n</script>\n\n\nShadow DOM\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u5834\u5408\u306f\u3001Shadow Root\u304b\u3089\u5bfe\u8c61\u8981\u7d20\u3092\u53d6\u5f97\u3057\u3066\u8a2d\u5b9a\u3059\u308b\u3002\n\n<input type=\"text\" placeholder=\"\u30db\u30b9\u30c8\">\n<div id=\"container\"><p>content</p></div>\n<script>\n  window.onload = function() {\n    var host = document.getElementById('container');\n    var root = host.createShadowRoot();\n    root.innerHTML = '<input type=\"text\" placeholder=\"Shadow DOM\">' +\n      '<p id=\"one\">One</p>' +\n      '<p id=\"two\">Two</p>' +\n      '<content></content>' +\n      '<p id=\"three\">Three</p>' +\n      '<p id=\"four\">Four</p>';\n\n    //Shadow DOM\u5185\u306einput\u8981\u7d20\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u767a\u751f\u3059\u308b\u3002\n    //\u30db\u30b9\u30c8\u306einput\u8981\u7d20\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3082\u767a\u751f\u3057\u306a\u3044\u3002\n    root.querySelector('input').addEventListener('click', function(e) {\n      console.log(e.target);\n    });\n  }\n</script>\n\n\n\u53c2\u8003\nShadow DOM 201\nShadow DOM 301\nW3C Shadow DOM\n[\u524d\u56de\u8a18\u4e8b](http://qiita.com/masashi0127/items/9d81b0396f4834062ead)\u306e\u5fdc\u7528\u3067\u3001Shadow\u306e\u7279\u5fb4\u306e\u307e\u3068\u3081\u8a18\u4e8b\n\n# Shadow \u306e\u7279\u5fb4\n- \u8907\u6570\u306eShadow Root\n- \u633f\u5165\u30dd\u30a4\u30f3\u30c8\uff08Insert Points\uff09\u3068\u5206\u6563\u30ce\u30fc\u30c9\uff08Distributed Nodes\uff09\n- \u30a4\u30d9\u30f3\u30c8\u306e\u8a2d\u5b9a\n- \u53c2\u8003\n\n## \u8907\u6570\u306eShadow Root\n\n- \u540c\u3058\u30db\u30b9\u30c8\u304b\u3089\u306e\u751f\u6210\u3055\u308c\u305f\u8907\u6570\u306eShadow Root\u306b\u3001\u5225\u3005\u306b\u8981\u7d20\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3001\u6700\u5f8c\u306b\u8ffd\u52a0\u3057\u305f\u8981\u7d20\u306e\u307f\u304c\u51fa\u529b\u3055\u308c\u308b\u3002\n\n```html\n<script>\nwindow.onload = function() {\n  var container = document.getElementById('container');\n  var rootFirst = container.createShadowRoot();\n  var rootSecond = container.createShadowRoot();\n  rootFirst.innerHTML = '<div>This is first root</div>'; //\u8868\u793a\u3055\u308c\u306a\u3044\n  rootSecond.innerHTML = '<div>This is second root</div>'; //\u8868\u793a\u3055\u308c\u308b\n};\n</script>\n<div id=\"container\"></div>\n```\n\n- \u540c\u3058\u30db\u30b9\u30c8\u304b\u3089\u751f\u6210\u3055\u308c\u305f\u8907\u6570\u306eShadow Root\u306e\u8981\u7d20\u3092\u51fa\u529b\u3059\u308b\u305f\u3081\u306b\u306f`<shadow>`\u8981\u7d20\u3092\u4f7f\u7528\u3059\u308b\u3002\n- `<shadow>`\u8981\u7d20\u5185\u306b\u306f\u76f4\u524d\u306b\u8ffd\u52a0\u3055\u308c\u305f\u8981\u7d20\u304c\u51fa\u529b\u3055\u308c\u308b\u3002\n\n```html\n<script>\nwindow.onload = function() {\n  var container = document.getElementById('container');\n  var rootFirst = container.createShadowRoot();\n  var rootSecond = container.createShadowRoot();\n  rootFirst.innerHTML = '<div>This is first root</div>'; //secondRoot\u306e<shadow>\u30bf\u30b0\u306e\u4e2d\u306b\u8868\u793a\u3055\u308c\u308b\u3002\n  rootSecond.innerHTML = '<shadow></shadow><div>This is second root</div>'; //\u8868\u793a\u3055\u308c\u308b\u3002\n};\n</script>\n<div id=\"container\"></div>\n```\n\n- Shadow Root\u306e\u30db\u30b9\u30c8\u8981\u7d20\uff08`<div id=\"container\">`\uff09\u306e\u5185\u5bb9\u3092\u51fa\u529b\u3059\u308b\u305f\u3081\u306b\u306f`<content>`\u30bf\u30b0\u3092\u4f7f\u7528\u3059\u308b\u3002\n\n```html\n<script>\nwindow.onload = function() {\n  var container = document.getElementById('container');\n  var rootFirst = container.createShadowRoot();\n  var rootSecond = container.createShadowRoot();\n  rootFirst.innerHTML = '<div>This is first root</div>'; //secondRoot\u306e<shadow>\u30bf\u30b0\u306e\u4e2d\u306b\u8868\u793a\u3055\u308c\u308b\u3002\n  rootSecond.innerHTML = '<shadow></shadow><div>This is second root</div><content></content>'; //\u8868\u793a\u3055\u308c\u308b\u3002\n};\n</script>\n<div id=\"container\">This is container</div> <!-- \"This is container\"\u306frootSecond\u306e<content>\u30bf\u30b0\u306e\u4e2d\u306b\u8868\u793a\u3055\u308c\u308b\u3002 -->\n```\n\n## \u633f\u5165\u30dd\u30a4\u30f3\u30c8\uff08Insert Points\uff09\u3068\u5206\u6563\u30ce\u30fc\u30c9\uff08Distributed Nodes\uff09\n\n- `<shadow>`\u3084`<content>`\u8981\u7d20\u3092**\u633f\u5165\u30dd\u30a4\u30f3\u30c8\uff08Insert Points\uff09**\u3068\u3044\u3046\u3002\n- `<shadow>`\u3084`<content>`\u8981\u7d20\u306b\u8868\u793a\u3055\u308c\u308b\u8981\u7d20\u3092**\u5206\u6563\u30ce\u30fc\u30c9\uff08Distributed Nodes\uff09**\u3068\u3044\u3046\u3002\n- `<shadow>`\u3084`<content>`\u8981\u7d20\u306e\u5b50\u8981\u7d20\u3068\u3057\u3066\u5206\u6563\u30ce\u30fc\u30c9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002\n\n```html\n<script>\nwindow.onload = function() {\n  var container = document.getElementById('container');\n  var rootFirst = container.createShadowRoot();\n  var rootSecond = container.createShadowRoot();\n  rootFirst.innerHTML = '<div>This is first root</div>';\n  rootSecond.innerHTML = '<shadow></shadow><div>This is second root</div><content></content>';\n  \n  console.log(rootSecond.querySelector('content p')); // null\n};\n</script>\n<div id=\"container\"><p>This is container</p></div>\n```\n\n- **getDistributedNodes()** \u3092\u4f7f\u7528\u3057\u3066\u3001\u633f\u5165\u30dd\u30a4\u30f3\u30c8\u306b\u8868\u793a\u3055\u308c\u308b\u5206\u6563\u30ce\u30fc\u30c9\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002\n- **getDestinationInsertionPoints()** \u3092\u4f7f\u7528\u3057\u3066\u3001\u5206\u6563\u30ce\u30fc\u30c9\u304c\u8868\u793a\u3055\u308c\u308b\u633f\u5165\u30dd\u30a4\u30f3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002\n\n```html\n<script>\nwindow.onload = function() {\n  var container = document.getElementById('container');\n  var rootFirst = container.createShadowRoot();\n  var rootSecond = container.createShadowRoot();\n  rootFirst.innerHTML = '<div>This is first root</div>';\n  rootSecond.innerHTML = '<shadow></shadow><div>This is second root</div><content></content>';\n\n  console.log(rootSecond.querySelector('content').getDistributedNodes()); //<p>This is container</p>\n  console.log(container.querySelector('p').getDestinationInsertionPoints()); //<content></content>\n};\n</script>\n<div id=\"container\"><p>This is container</p></div>\n```\n\n## \u30a4\u30d9\u30f3\u30c8\u306e\u8a2d\u5b9a\n\n- document\u8981\u7d20\u304b\u3089Shadow DOM\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002\n- Shadow DOM\u306b\u5bfe\u3059\u308b\u30a4\u30d9\u30f3\u30c8\u306f\u3001\u5168\u3066\u30db\u30b9\u30c8\u8981\u7d20\u304b\u3089\u767a\u751f\u3059\u308b\u3088\u3046\u306b\u518d\u8abf\u6574\u3055\u308c\u308b\u3002\n\n```html\n<input type=\"text\" placeholder=\"\u30db\u30b9\u30c8\">\n<div id=\"container\"><p>content</p></div>\n<script>\n  window.onload = function() {\n    var host = document.getElementById('container');\n    var root = host.createShadowRoot();\n    root.innerHTML = '<input type=\"text\" placeholder=\"Shadow DOM\">' +\n      '<p id=\"one\">One</p>' +\n      '<p id=\"two\">Two</p>' +\n      '<content></content>' +\n      '<p id=\"three\">Three</p>' +\n      '<p id=\"four\">Four</p>';\n\n    //Shadow DOM\u5185\u306e\u8981\u7d20\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068<div id=\"container\">\u8981\u7d20\u304c\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n    document.addEventListener('click', function(e) { \n      console.log(e.target);\n    });\n\n    //Shadow DOM\u5185\u306einput\u8981\u7d20\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3082\u767a\u751f\u3057\u306a\u3044\u3002\n    //\u30db\u30b9\u30c8\u306einput\u8981\u7d20\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u767a\u751f\u3059\u308b\u3002\n    document.querySelector('input').addEventListener('click', function(e) {\n      console.log(e.target);\n    });\n  }\n</script>\n```\n\n- Shadow DOM\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u5834\u5408\u306f\u3001Shadow Root\u304b\u3089\u5bfe\u8c61\u8981\u7d20\u3092\u53d6\u5f97\u3057\u3066\u8a2d\u5b9a\u3059\u308b\u3002\n\n```html\n<input type=\"text\" placeholder=\"\u30db\u30b9\u30c8\">\n<div id=\"container\"><p>content</p></div>\n<script>\n  window.onload = function() {\n    var host = document.getElementById('container');\n    var root = host.createShadowRoot();\n    root.innerHTML = '<input type=\"text\" placeholder=\"Shadow DOM\">' +\n      '<p id=\"one\">One</p>' +\n      '<p id=\"two\">Two</p>' +\n      '<content></content>' +\n      '<p id=\"three\">Three</p>' +\n      '<p id=\"four\">Four</p>';\n\n    //Shadow DOM\u5185\u306einput\u8981\u7d20\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u767a\u751f\u3059\u308b\u3002\n    //\u30db\u30b9\u30c8\u306einput\u8981\u7d20\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3082\u767a\u751f\u3057\u306a\u3044\u3002\n    root.querySelector('input').addEventListener('click', function(e) {\n      console.log(e.target);\n    });\n  }\n</script>\n```\n\n# \u53c2\u8003\n[Shadow DOM 201](http://www.html5rocks.com/ja/tutorials/webcomponents/shadowdom-201/)\n[Shadow DOM 301](http://www.html5rocks.com/ja/tutorials/webcomponents/shadowdom-301/)\n[W3C Shadow DOM](http://w3c.github.io/webcomponents/spec/shadow/#shadow-trees)\n", "tags": ["WebComponents", "HTML5", "JavaScript"]}