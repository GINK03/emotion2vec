{"context": " More than 1 year has passed since last update.\u52d5\u4f5c\u74b0\u5883\nCentOS 6.5\nbash\n\n\n\u80cc\u666f\n\u30d5\u30a1\u30a4\u30ebA\u306e\u4e00\u90e8\u304c\u30d5\u30a1\u30a4\u30ebB\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u3063\u3066\u3044\u308b\u3068\u3059\u308b\u3002\n\u30d5\u30a1\u30a4\u30ebB\u306e\u3069\u306e\u30a2\u30c9\u30ec\u30b9\u307e\u3067\u304c\u30d5\u30a1\u30a4\u30ebA\u306e\u4e00\u90e8\u3092\u542b\u3093\u3067\u3044\u308b\u304b\u77e5\u308a\u305f\u3044\u3002\n\n\u30b9\u30af\u30ea\u30d7\u30c8\n\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6e96\u5099\u3057\u305f\u3002\n\nfind-inclusion-addr-exec\n#!/bin/env bash\n\n#preparation\n#  $ ln -fs small.bin LN-inclusion\n#  $ ln -fs big.bin LN-matrix\n# where part of small.bin is included in big.bin\n\nif [ $# -lt 2 ]; then\n   echo \"Usage:\"\n   echo \"  [cmd] [incSta] [matSca]\"\n   echo \" where \"\n   echo \"    incSta: start address of inclusion\"\n   echo \"    matSta: start address of matrix\"\n   exit\nfi\n\nincFileName=\"LN-inclusion\"\nmatFileName=\"LN-matrix\"\noutMatFile=\"out.partOfMatrix\"\noutIncFile=\"out.partOfInclusion\"\n\nif [ ! -e $incFileName ]; then\n    echo \"prepare LN-inclusion\"\n    exit\nfi\n\nif [ ! -e $matFileName ]; then\n    echo \"prepare LN-matrix\"\n    exit\nfi\n\nincSta=$1\nmatSta=$2\n\nod -Ax -tx1z $incFileName -j $incSta | awk '{$1=\"\"; print}' > tmp.inclusion \nod -Ax -tx1z $matFileName -j $matSta | awk '{$1=\"\"; print}' > tmp.matrix\n\ndiffpos=$(diff tmp.inclusion tmp.matrix | head -n 1 | tr \",\" \" \" | tr \"c\" \" \" | awk '{print $1}')\n\necho \"differed at ($diffpos)-th line\"\n\nod -Ax -tx1z LN-matrix -j $matSta | head -n $diffpos > $outMatFile\nod -Ax -tx1z LN-inclusion -j $incSta | head -n $diffpos > $outIncFile\n\ntail -n 1 $outMatFile\necho \"[$outMatFile] [$outIncFile] created\"\n\nrm -f tmp.inclusion tmp.matrix\n\n\n\n\u4f7f\u3044\u65b9\n\u307e\u305a\u30d5\u30a1\u30a4\u30ebA\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30ea\u30f3\u30af\u3057\u3066\u304a\u304f\nln -fs small.bin LN-inclusion\n\n\u30d5\u30a1\u30a4\u30ebB\u3082\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30ea\u30f3\u30af\u3057\u3066\u304a\u304f\nln -fs big.bin LN-matrix\n\nsmall.bin\u306e0x8000\u304b\u3089\u306e\u30c7\u30fc\u30bf\u304cbig.bin\u306e0xA80\u304b\u3089\u3069\u3053\u307e\u3067\u542b\u307e\u308c\u308b\u304b\u3092\u77e5\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\n$bash find-inclusion-addr-exec 0x8000 0xA80\ndiffered at (3930)-th line\n015da0 00 00 00 00 00 00 00 00 04 a7 00 00 ff ff ff ff  >................<\n[out.partOfMatrix] [out.partOfInclusion] created\n\n\u4e0a\u8a18\u306e\u4f8b\u3067\u306fbig.bin\u306e0x15da0\u3042\u305f\u308a\u307e\u3067small.bin\u306e\u4e00\u90e8\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n\u305d\u306e\u3042\u305f\u308a\u306eHEX\u30c6\u30ad\u30b9\u30c8\u306fout.partOfMatrix\u3068out.partOfInclusion\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3055\u308c\u308b\u3002\n\n\u88dc\u8db3\n\u5148\u982d\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u304c\u6539\u5584\u3059\u3079\u304d\u70b9\u3002\n\u81ea\u52d5\u3067\u3069\u3053\u304b\u3089\u3069\u3053\u307e\u3067\u542b\u307e\u308c\u308b\u304b\u304c\u308f\u304b\u308b\u306e\u304c\u7406\u60f3\u3067\u306f\u3042\u308b\u3002\n\u52d5\u4f5c\u74b0\u5883\n\n    CentOS 6.5\n    bash\n\n#\u80cc\u666f\n\n\u30d5\u30a1\u30a4\u30ebA\u306e\u4e00\u90e8\u304c\u30d5\u30a1\u30a4\u30ebB\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u3063\u3066\u3044\u308b\u3068\u3059\u308b\u3002\n\n\u30d5\u30a1\u30a4\u30ebB\u306e\u3069\u306e\u30a2\u30c9\u30ec\u30b9\u307e\u3067\u304c\u30d5\u30a1\u30a4\u30ebA\u306e\u4e00\u90e8\u3092\u542b\u3093\u3067\u3044\u308b\u304b\u77e5\u308a\u305f\u3044\u3002\n\n#\u30b9\u30af\u30ea\u30d7\u30c8\n\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6e96\u5099\u3057\u305f\u3002\n\n```bash:find-inclusion-addr-exec\n#!/bin/env bash\n\n#preparation\n#  $ ln -fs small.bin LN-inclusion\n#  $ ln -fs big.bin LN-matrix\n# where part of small.bin is included in big.bin\n\nif [ $# -lt 2 ]; then\n   echo \"Usage:\"\n   echo \"  [cmd] [incSta] [matSca]\"\n   echo \" where \"\n   echo \"    incSta: start address of inclusion\"\n   echo \"    matSta: start address of matrix\"\n   exit\nfi\n\nincFileName=\"LN-inclusion\"\nmatFileName=\"LN-matrix\"\noutMatFile=\"out.partOfMatrix\"\noutIncFile=\"out.partOfInclusion\"\n\nif [ ! -e $incFileName ]; then\n\techo \"prepare LN-inclusion\"\n\texit\nfi\n\nif [ ! -e $matFileName ]; then\n\techo \"prepare LN-matrix\"\n\texit\nfi\n\nincSta=$1\nmatSta=$2\n\nod -Ax -tx1z $incFileName -j $incSta | awk '{$1=\"\"; print}' > tmp.inclusion \nod -Ax -tx1z $matFileName -j $matSta | awk '{$1=\"\"; print}' > tmp.matrix\n\ndiffpos=$(diff tmp.inclusion tmp.matrix | head -n 1 | tr \",\" \" \" | tr \"c\" \" \" | awk '{print $1}')\n\necho \"differed at ($diffpos)-th line\"\n\nod -Ax -tx1z LN-matrix -j $matSta | head -n $diffpos > $outMatFile\nod -Ax -tx1z LN-inclusion -j $incSta | head -n $diffpos > $outIncFile\n\ntail -n 1 $outMatFile\necho \"[$outMatFile] [$outIncFile] created\"\n\nrm -f tmp.inclusion tmp.matrix\n```\n\n#\u4f7f\u3044\u65b9\n\u307e\u305a\u30d5\u30a1\u30a4\u30ebA\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30ea\u30f3\u30af\u3057\u3066\u304a\u304f\n\n    ln -fs small.bin LN-inclusion\n\n\u30d5\u30a1\u30a4\u30ebB\u3082\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30ea\u30f3\u30af\u3057\u3066\u304a\u304f\n\n    ln -fs big.bin LN-matrix\n\nsmall.bin\u306e0x8000\u304b\u3089\u306e\u30c7\u30fc\u30bf\u304cbig.bin\u306e0xA80\u304b\u3089\u3069\u3053\u307e\u3067\u542b\u307e\u308c\u308b\u304b\u3092\u77e5\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\n\n```\n$bash find-inclusion-addr-exec 0x8000 0xA80\ndiffered at (3930)-th line\n015da0 00 00 00 00 00 00 00 00 04 a7 00 00 ff ff ff ff  >................<\n[out.partOfMatrix] [out.partOfInclusion] created\n```\n\n\u4e0a\u8a18\u306e\u4f8b\u3067\u306fbig.bin\u306e0x15da0\u3042\u305f\u308a\u307e\u3067small.bin\u306e\u4e00\u90e8\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n\u305d\u306e\u3042\u305f\u308a\u306eHEX\u30c6\u30ad\u30b9\u30c8\u306fout.partOfMatrix\u3068out.partOfInclusion\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3055\u308c\u308b\u3002\n\n#\u88dc\u8db3\n\u5148\u982d\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u304c\u6539\u5584\u3059\u3079\u304d\u70b9\u3002\n\u81ea\u52d5\u3067\u3069\u3053\u304b\u3089\u3069\u3053\u307e\u3067\u542b\u307e\u308c\u308b\u304b\u304c\u308f\u304b\u308b\u306e\u304c\u7406\u60f3\u3067\u306f\u3042\u308b\u3002\n", "tags": ["Bash", "ShellScript", "Binary"]}