{"context": "\n\nMySQL\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u203b \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u306f\u7701\u304d\u307e\u3059\u3002\nmysql> show variables like \"chara%\";\n\n\u3067\u5168\u90e8utf-8\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\n[mysqld]\n...\ncharacter-set-server=utf8 #mysqld\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u672b\u5c3e\u306b\u8ffd\u52a0\n\n[client]\ndefault-character-set=utf8 #client\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\n\n\u30c0\u30e1\u306a\u5834\u5408\u306f\u4e0a\u8a18\u3092/etc/my.cnf\u306b\u8ffd\u52a0\u3002\n\nxml2sql\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30fc\u30d0\u304c\u306a\u3044\u306e\u3067\u76f4\u63a5make\u3059\u308b\u3002\nhttps://github.com/Tietew/mediawiki-xml2sql\n$ git clone https://github.com/Tietew/mediawiki-xml2sql.git\n$ cd mediawiki-xml2sql\n$ ./configure\n$ make\n$ sudo make install\n\n\nwiki\u306edump\u7528\u30c7\u30fc\u30bf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n$ wget https://dumps.wikimedia.org/jawiki/latest/jawiki-latest-pages-articles.xml.bz2\n$ bzip2 -d jawiki-latest-pages-articles.xml.bz2\n\n\u30c7\u30fc\u30bf\u3092\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u5909\u63db\n$ cat jawiki-latest-pages-articles.xml | sed -e 's/<dbname>.*<\\/dbname>//' -e 's/<ns>.*<\\/ns>//' -e 's/<parentid>.*<\\/parentid>//' -e 's/<sha1>.*<\\/sha1>//' -e 's/<model>.*<\\/model>//' -e 's/<format>.*<\\/format>//' -e 's/<redirect>.*<\\/redirect>//' -e 's/<redirect.*\\/>//' | xml2sql\n\nmysql> select page.page_title from categorylinks left join page on categorylinks.cl_from = page.page_id where categorylinks.cl_to = '\u65e5\u672c\u306e\u30bf\u30ec\u30f3\u30c8';\n\n\n#### MySQL\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u203b \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u306f\u7701\u304d\u307e\u3059\u3002\n\n```\nmysql> show variables like \"chara%\";\n```\n\u3067\u5168\u90e8utf-8\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\n\n```\n[mysqld]\n...\ncharacter-set-server=utf8 #mysqld\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u672b\u5c3e\u306b\u8ffd\u52a0\n\n[client]\ndefault-character-set=utf8 #client\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\n```\n\u30c0\u30e1\u306a\u5834\u5408\u306f\u4e0a\u8a18\u3092/etc/my.cnf\u306b\u8ffd\u52a0\u3002\n\n#### xml2sql\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30fc\u30d0\u304c\u306a\u3044\u306e\u3067\u76f4\u63a5make\u3059\u308b\u3002\nhttps://github.com/Tietew/mediawiki-xml2sql\n\n```\n$ git clone https://github.com/Tietew/mediawiki-xml2sql.git\n$ cd mediawiki-xml2sql\n$ ./configure\n$ make\n$ sudo make install\n```\n\n#### wiki\u306edump\u7528\u30c7\u30fc\u30bf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n```\n$ wget https://dumps.wikimedia.org/jawiki/latest/jawiki-latest-pages-articles.xml.bz2\n$ bzip2 -d jawiki-latest-pages-articles.xml.bz2\n```\n\u30c7\u30fc\u30bf\u3092\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u5909\u63db\n\n```\n$ cat jawiki-latest-pages-articles.xml | sed -e 's/<dbname>.*<\\/dbname>//' -e 's/<ns>.*<\\/ns>//' -e 's/<parentid>.*<\\/parentid>//' -e 's/<sha1>.*<\\/sha1>//' -e 's/<model>.*<\\/model>//' -e 's/<format>.*<\\/format>//' -e 's/<redirect>.*<\\/redirect>//' -e 's/<redirect.*\\/>//' | xml2sql\n```\n\n```\nmysql> select page.page_title from categorylinks left join page on categorylinks.cl_from = page.page_id where categorylinks.cl_to = '\u65e5\u672c\u306e\u30bf\u30ec\u30f3\u30c8';\n```\n", "tags": ["wiki"]}