{"context": " More than 1 year has passed since last update.\u30eb\u30cd\u30b5\u30b9\u30c6\u30af\u30ce\u30ed\u30b8\u306eRX63N\u3092\u7a4d\u3093\u3060Arduino\u4e92\u63db\u30dc\u30fc\u30c9GR-SAKURA\n(http://japan.renesas.com/products/promotion/gr/index.jsp)\n\u3067mruby\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u305f\u306e\u3067\u624b\u9806\u3092\u30e1\u30e2\nmruby\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u624b\u9806\u306f\u307e\u3093\u307e\nhttp://d.hatena.ne.jp/kyab/20130201\n\u306e\u901a\u308a\u3067\u3059kyab\u3055\u3093thx\n\u30b9\u30c6\u30fc\u30bf\u30b9\u3068\u3057\u3066\u306f\u3068\u308a\u3042\u3048\u305a\u52d5\u304b\u3057\u3066\u307f\u305f\u7a0b\u5ea6\u3067\u672c\u683c\u7684\u306b\u4f7f\u3048\u308b\u3068\u3053\u308d\u307e\u3067\u8a66\u3057\u3066\u307e\u305b\u3093\u3002\u306a\u306e\u3067\u30e1\u30e2\u30ea\u4e0d\u8db3\u7b49\u4e0d\u5177\u5408\u304c\u6ca2\u5c71\u3042\u308b\u3068\u601d\u3044\u307e\u3059\n\u3042\u304f\u307e\u3067\u3082asis\u3067\u3069\u3046\u305e\nGR-SAKURA\u306e\u958b\u767a\u74b0\u5883\u306fWeb\u30b3\u30f3\u30d1\u30a4\u30e9\u3067\u306e\u63d0\u4f9b\u3067\u3059\u3002\u3053\u308c\u3067\u306fmruby\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u51fa\u6765\u307e\u305b\u3093\u306e\u3067\u307e\u305a\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u306e\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u306a\u304a\u3001\u5f53\u65b9windows\u74b0\u5883\u304c\u306a\u3044\u306e\u3067\u624b\u9806\u306fLinux(Ubuntu)\u3068Mac\u3067\u306e\u624b\u9806\u3068\u306a\u308a\u307e\u3059\u3002KPIT\u3088\u308awindows\u7248\u306egcc\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3053\u308c\u3092\u5229\u7528\u3059\u308c\u3070\u4f7f\u3048\u308b\u3068\u306f\u304a\u3082\u3044\u307e\u3059\u304c\u3001\u78ba\u8a8d\u3057\u3066\u307e\u305b\u3093\u3002\n\u624b\u9806\u306f\u6b21\u306e\u901a\u308a\n1. \u30ed\u30fc\u30ab\u30eb\u30d3\u30eb\u30c9\u74b0\u5883\u306e\u69cb\u7bc9\n2. web\u30b3\u30f3\u30d1\u30a4\u30e9\u74b0\u5883\u304b\u3089GR-SAKURA\u7528\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53d6\u5f97\n3. mruby\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\n* \u8a2d\u5b9a\u306e\u8a18\u8ff0\n* build_config.rb\n* include/mrbconf.h\n4. \u30ed\u30fc\u30ab\u30eb\u30d3\u30eb\u30c9\u74b0\u5883\u3067mruby\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\n5. \u4f5c\u6210\u3057\u305flibmruby.a\u3068\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u90e1\u3092GR-SAKURA\u7528\u30ed\u30fc\u30ab\u30eb\u30d3\u30eb\u30c9\u74b0\u5883\u3078\u30b3\u30d4\u30fc\n6. GR-SAKURA\u7528\u30ed\u30fc\u30ab\u30eb\u30d3\u30eb\u30c9\u7528makefile\u306e\u4fee\u6b63\n7. rxduino.h\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63 (C99\u5bfe\u5fdc)\n===============================================\n\nBuild GCC Tool Chain for OS X and Ubuntu (RX\u7248)\n===============================================\nLinux\u74b0\u5883(Ubuntu)\u3067\u306fKPIT\u3088\u308aRX\u30b7\u30ea\u30fc\u30ba\u306eGCC toolchain\u306frpm\u5f62\u5f0f\u306e\u30d0\u30a4\u30ca\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067alien\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u3092deb\u5f62\u5f0f\u306b\u5909\u63db\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u307b\u3046\u304c\u3044\u3044\u3067\u3059\u3002\u305d\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30eb\u306e\u69cb\u7bc9\u624b\u9806\u306f\u98db\u3070\u3057\u3066\u4e0b\u3055\u3044\n\n\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6e96\u5099\n=======\n\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\n\nmpfr\ngmp\nlibmpc\nlibelf\ntexifo\n\n\u304c\u5fc5\u8981\u306a\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\nHomebrew\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\n\n\n$ brew install mpfr gmp libmpc libelf texinfo\n\n\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nUbuntu\u306e\u5834\u5408\n\n\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30e9\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u5834\u5408\u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\n\n$ sudo apt-get install curl flex bison libgmp3-dev libmpfr-dev texinfo  libelf-dev autoconf build-essential libncurses5-dev libmpc-dev \n\n\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nMac\u306e\u5834\u5408\u3055\u3089\u306bGCC\u304c\u5fc5\u8981\u306a\u306e\u3067GCC\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nHomebrew\u306e\u5834\u5408\u3001\u6a19\u6e96\u306eformula\u306b\u306fgcc\u304c\u306a\u3044\u306e\u3067dups\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\n\n$ brew install https://raw.github.com/Homebrew/homebrew-dupes/master/gcc.rb --enable-all-languages --use-llvm\n\n\u3053\u308c\u3067gcc\u304cgcc-{Version}\u3067\u5229\u7528\u3067\u304d\u308b\n\u30b3\u30f3\u30d1\u30a4\u30eb\u4f8b: \n$ gcc-4.7 hoge.c\n\n\u4ee5\u964d\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u306fgcc-4.7\u4f7f\u7528\u74b0\u5883\u3067\u306e\u624b\u9806\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\u5b9f\u969b\u306b\u306f\u4f7f\u7528\u3059\u308b\u6700\u65b0\u306eGCC\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\u4f8b\u3048\u3070\u30b3\u30f3\u30d1\u30a4\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3\u306eCC=gcc-4.7\u306fCC=gcc-{\u5b9f\u969b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3}\u306e\u3088\u3046\u306b\n\nrenesas RX\u7528\u30c4\u30fc\u30eb\u30c1\u30a7\u30a4\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n===============================\nrenesas\u306eRX\u30b7\u30ea\u30fc\u30ba\u306e\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u69cb\u7bc9\u306a\u306e\u3067\u3001\n\u5fa1\u672c\u5c0a\u306eGCC\u3067\u306a\u304f\u958b\u767a\u5143\u306eKPIT\u304b\u3089\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002(\u8981\u958b\n\u767a\u8005\u767b\u9332)\n(2012.10\u6642\u70b9\u3060\u3068)\n\nGNU v12.02\nGDB v12.02\n\n\u304c\u6700\u65b0\u306a\u3088\u3046\u3067\u3059\u3002\n\nGDBRX v12.02 Source Code of GDB\nGNURX v12.02 Source Code of GCC\nGNURX v12.02 Source Code of Binutils\nGNURX v12.02 Source Code of Newlib\n\n\u3092\u305d\u308c\u305e\u308c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u30d5\u30a1\u30a4\u30eb\u540d\u306f\u5404\u3005\n\ngdb-7.4.1_rx_v850_sh_h8_v12.02.tar.bz2\ngcc-4.7.0_rx_v850_sh_h8_v12.02.tar.bz2\nbinutils-2.22_rx_v850_sh_h8_v12.02.tar.bz2\nnewlib-1.20.0_rx_v850_sh_h8_v12.02.tar.bz2\n\n\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u69cb\u7bc9\n=======\n\u5f8c\u306f\u5c55\u958b\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308c\u3070\u3088\u3044\u306e\u3067\u3059\u304c...\n\u306f\u307e\u308a\u3069\u3053\u308d\u304c\u3042\u308a\u307e\u3059\n\u307e\u305a\u3001gcc\u306e\u30bd\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u3067\u307e\u3059\u3002\n\n\u6ce8\u610f:\u30b3\u30f3\u30d1\u30a4\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30bd\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u540c\u4e00\u3060\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\n\n\u30bd\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u306f\u5225\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u5c55\u958b\u5f8c\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u307e\u305fgcc\u3068\u4e00\u7dd2\u306bnewlib\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u305f\u3081newlib\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092gcc\u306b\u5f35\u308a\u307e\u3059\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\n$ mkdir kpit\n$ cp gdb-7.4.1_rx_v850_sh_h8_v12.02.tar.bz2 kpit\n$ cp gcc-4.7.0_rx_v850_sh_h8_v12.02.tar.bz2\n$ cp binutils-2.22_rx_v850_sh_h8_v12.02.tar.bz2 kpit\n$ cp newlib-1.20.0_rx_v850_sh_h8_v12.02.tar.bz2 kpit\n\n$ cd kpit\n$ tar -jxvf gdb-7.4.1_rx_v850_sh_h8_v12.02.tar.bz2\n$ tar -jxvf gcc-4.7.0_rx_v850_sh_h8_v12.02.tar.bz2\n$ tar -jxvf binutils-2.22_rx_v850_sh_h8_v12.02.tar.bz2\n$ tar -jxvf newlib-1.20.0_rx_v850_sh_h8_v12.02.tar.bz2\n\n\u3068\u3057\u3066\u30bd\u30fc\u30b9\u3092\u5c55\u958b\u3057\u307e\u3059\n\u79c1\u306f\u8907\u6570\u306eGNU\u30c4\u30fc\u30eb\u30c1\u30a7\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u308aMCU\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6bce\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u3092\u5909\u3048\u3066\u3044\u307e\u3059\u3002\u4eca\u56de\u306fRX\u30b7\u30ea\u30fc\u30ba\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3057\u3066~/rx-tools\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u69d8\u306b\u3057\u307e\u3059\u3002\nconfigure\u306e\u30aa\u30d7\u30b7\u30e7\u30f3 -prefix={\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea}\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u3092\u6307\u5b9a\u3057\u307e\u3059\n\nbinutils\n\n\u307e\u305a\u306fbinutils\n\n$ cd binutils-2.22\n$ ./configure -target=rx-elf -prefix=~/rx-tools -disable-werror CC=gcc-4.7\n$ make\n$ make install\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u524d\u306b\u30d1\u30b9\u3092\u901a\u3059\n$ export PATH=$PATH:~/rx-tools/bin/\n\n\nGCC\n\n\n$ cd ..\n$ cd gcc-4.7.0\n\n\u30d3\u30eb\u30c9\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306e\u4f5c\u6210\n\n$ mkdir build\n$ ln -s ../newlib-1.20.0/newlib .\n$ ln -s ../newlib-1.20.0/libgloss .\n$ cd build\n\n$ ../configure --prefix=~/rx-tools --target=rx-elf --enable-lnguages=c,c++ --disable-libstdcxx-pch --disable-multilib --with-newlib --disable-nls --disable-libgfortran CC=gcc-4.7\n\n$ make\n$ make install\n\n\nnewlib\n\n\n$ cd ../../newlib-1.20.0\n$ ./configure --enable-newlib-hw-fp --target=rx-elf --prefix=~/rx-tools\n\n$ make\n$ make install\n\n$ cd ../gdb-7.4.1 \n$ ./configure --prefix=~/rx-tools --target=rx-elf --disable-werror\n\n$ make\n$ make install\n\n.bashrc\u306a\u3069\u306b\u30d1\u30b9\u3092\u901a\u3057\u3066\u304a\u304f\n\n $ export PATH=$PATH:~/rx-tools/bin/\n\n\n\n\u53c2\u7167\u5143\u60c5\u5831:\nchibiegg\u65e5\u8a8c: http://blog.chibiegg.net/2009/04/09_12_288.htm\ncodingcipher: http://codingcipher.wordpress.com/category/compilers/\n==============================================\n\nweb\u30b3\u30f3\u30d1\u30a4\u30e9\u74b0\u5883\u304b\u3089GR-SAKURA\u7528\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53d6\u5f97\n==============================================\n\u307e\u305a\u306f\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u306bWeb\u30b3\u30f3\u30d1\u30a4\u30e9\u306eProject_Root\u3068\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30c4\u30ea\u30fc\u3092\u69cb\u6210\u3057\u5bfe\u5fdc\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u975e\u5e38\u306b\u9762\u5012\u304f\u3055\u3044\u3067\u3059\u304c\uff11\u3064\u3065\u3064\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30c4\u30ea\u30fc\u518d\u69cb\u6210\u3057\u307e\u3059\u3002\n\u518d\u69cb\u6210\u4f8b: ~/src/sakura\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u518d\u69cb\u6210\u3057\u305f\nsrc/sakura\n |\n +--gr_build\n +--gr_common\n    +--include\n        +--rxduino\n            analogio.h\n            binary.h\n            delay.h\n            digitalio.h\n            interrupt.h\n            progmem.h\n            random.h\n            rtc.h\n            rxduino.h\n            serial.h\n            shiftout.h\n            tone.h\n            wiring.h\n        +--tkdnhal\n            boarddef.h\n            tkdn_dflash.h\n            tkdn_servo.h\n            brd_grsakura.h\n            tkdn_ether.h\n            tkdn_spi.h\n            brd_grume.h\n            tkdn_gpio.h\n            tkdn_timer.h\n            hwsetup.h\n            tkdn_hal.h\n            tkdn_tone.h\n            iodefine_gcc62n.h\n            tkdn_i2c.h\n            tkdn_usb.h\n            iodefine_gcc63n.h\n            tkdn_interrupt.h\n            tkdn_version.h\n            misc.h\n            tkdn_pwm.h\n            tkdnip.h\n            tkdn_adc.h\n            tkdn_rtc.h\n            tkusbhost.h\n            tkdn_dac.h\n            tkdn_sci.h\n +--lib\n            libc.a\n            libgcc.a\n            librxduino.a\n            libstdc++.a\n            libtkdnhal.a\n            libg.a\n            libm.a\n            libsim.a\n            libsupc++.a\n            libtkdnip.a\n    r_sakura.gsi    \n    intvect.h\n    intvect63n.h\n    lowlevel.c\n    gstart.o\n    intvect.c\n    intvect.o\n    lowlevel.o\n makefile\n gr_sketch.cpp\n\n\n===================== \n\nmruby\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\n=====================\nmruby\u3092github\u3088\u308a\u53d6\u5f97\n$ git clone https://github.com/mruby/mruby.git\n\n\nbuild_config.rb\u3092\u7de8\u96c6\nbuild_config.rb\u306b\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\n\u4ee5\u4e0b\u4f8b\u306fmruby\u306f ~/work/mruby\u306b\u7f6e\u304d~/rx-tools\u3078\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30e9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3068\u3057\u3066\u8a18\u8ff0\n\u9055\u3046\u5834\u5408\u306fTOOL_PATH\u3092\u66f8\u304d\u63db\u3048\u3066\u4e0b\u3055\u3044\u3002\n\nMRuby::CrossBuild.new('gr-sakura') do |conf|\n  toolchain :gcc\n\n  TOOL_PATH = \"~/rx-tools/bin\"\n\n  conf.cc do |cc|\n    cc.command=\"#{TOOL_PATH}/rx-elf-gcc\"\n    cc.flags << \"-Wall -g -O2\"\n    cc.compile_options = \"%{flags} -o %{outfile} -c %{infile}\"\n\n    conf.linker do |linker|\n      linker.command=\"#{TOOL_PATH}/rx-elf-ld\"\n    end\n    conf.archiver do |archiver|\n      archiver.command = \"#{TOOL_PATH}/rx-elf-ar\"\n      archiver.archive_options = 'rcs %{outfile} %{objs}'\n    end\n  end\n\n  conf.bins = []\nend\n\n\ninclude/mrbconf.h\u306f\u7279\u306b\u66f8\u304d\u63db\u3048\u306a\u304f\u3066\u3082\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u307e\u3059\u304c\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u306b\u5f71\u97ff\u3057\u307e\u3059\u306e\u3067\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u66f8\u304d\u63db\u3048\u3066\u4e0b\u3055\u3044\u3002\n\u4eca\u56de\u306f\u305d\u306e\u307e\u307e\u3067\u3044\u304d\u307e\u3059\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\n$ cd ~/work/mruby\n$ make clean\n$ make\n\n~/work/mruby/build/gr-sakura\u4ee5\u4e0b\u306bGR-SAKURA\u7528\u306emruby\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u3092gr-sakura\u306e\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u304b\u3089\u30ea\u30f3\u30af\u3059\u308b\u3053\u3068\u3067mruby\u304c\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n===================\n\n\u4f5c\u6210\u3057\u305flibmruby.a\u3068\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u90e1\u3092GR-SAKURA\u7528\u30ed\u30fc\u30ab\u30eb\u30d3\u30eb\u30c9\u74b0\u5883\u3078\u30b3\u30d4\u30fc\n===================\nweb\u30b3\u30f3\u30d1\u30a4\u30e9\u74b0\u5883\u304b\u3089GR-SAKURA\u7528\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53d6\u5f97\u3067\u4f5c\u6210\u3057\u305f\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078mruby\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092~/src/sakura\u3068\u3057\u3066\u8aac\u660e\u3057\u307e\u3059\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bmruby\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092~/work/mruby/build/gr-sakura\u304b\u3089\u30b3\u30d4\u30fc\u3057\u307e\u3059\n$ cd ~/src/sakura\n$ mkdir mruby\n$ cd mruby\n$ cp ~/work/mruby/build/gr-sakura/lib/libmruby.a .\n$ cp -r ~/work/mruby/include .\n\n========\n\nGR-SAKURA\u7528\u30ed\u30fc\u30ab\u30eb\u30d3\u30eb\u30c9\u7528makefile\u306e\u4fee\u6b63\n========\n~/src/sakura/makefile\u3092\u7de8\u96c6\u3057\u307e\u3059\nCCPATH\u306b\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u5b9f\u884c\u30d1\u30b9~/rx-tools/bin/\nLIBFILES\u306b./mruby/libmruby.a\nCCINC\u3068CPPINC\u306b-I./mruby/include\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u5909\u66f4\u5f8c\u306emakefile\nCCPATH = ~/rx-tools/bin/\nOBJFILES = ./gr_sketch.o  ./gr_common/intvect.o ./gr_common/lowlevel.o \nLIBFILES = ./gr_common/lib/libc.a ./gr_common/lib/libg.a ./gr_common/lib/libgcc.a ./gr_common/lib/libm.a ./gr_common/lib/librxduino.a ./gr_common/lib/libsim.a ./gr_common/lib/libstdc++.a ./gr_common/lib/libsupc++.a ./gr_common/lib/libtkdnhal.a ./gr_common/lib/libtkdnip.a ./mruby/libmruby.a\nCCINC = -I./gr_build -I./gr_common -I./gr_common/include -I./gr_common/include/rxduino -I./gr_common/include/tkdnhal -I./gr_common/lib -I./mruby/include\nCPPINC = -I./gr_build -I./gr_common -I./gr_common/include -I./gr_common/include/rxduino -I./gr_common/include/tkdnhal -I./gr_common/lib -I./mruby/include\nTARGET = sketch\nCC  = $(CCPATH)rx-elf-gcc -Wall -g -O2 $(CCINC)\nCPP = $(CCPATH)rx-elf-gcc -Wall -g -O2 $(CPPINC)\nAS  = $(CCPATH)rx-elf-as \nLNK = $(CCPATH)rx-elf-ld\n#CNV = $(CCPATH)rx-elf-objcopy --srec-forceS3 --srec-len 32 -O srec\nCNV = $(CCPATH)rx-elf-objcopy -O binary\nDMP = $(CCPATH)rx-elf-objdump\nOBJS = ./gr_common/gstart.o $(OBJFILES) $(LIBFILES) \nLFLAGS = -L./gr_common/lib/ -lrxduino -lstdc++ -lsupc++ -lc -lsim -lgcc -lm -ltkdnhal -nostartfiles\nMAKEFILE = makefile\nROMSCRIPT=./gr_common/gr_sakura.gsi\n\nmake = make --no-print-directory \n\nall:    rom\n\nrom:    $(OBJS) $(MAKEFILE) $(ROMSCRIPT)\n    $(LNK) -Map ./gr_build/$(TARGET).map $(OBJS) -T $(ROMSCRIPT) $(LFLAGS) -o $(TARGET).elf\n    $(CNV) $(TARGET).elf  $(TARGET).bin\n    rm -f *.o\n    rm -f $(TARGET).elf\n\n#gstart.o:  gstart.s\n#   $(AS) -o gstart.o gstart.s\n\n.c.o:\n    $(CC) $(CFLAGS) -c $< -o $@\n\n.cpp.o:\n    $(CPP) $(CFLAGS) -c $< -o $@\n\n==============\n\nrxduino.h\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63 (C99\u5bfe\u5fdc)\n==============\nrxduino.h\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u578b\u306fc99\u3067\u306fstdint.h\n\u3068\u304b\u3067\u5b9a\u7fa9\u6e08\u307f\u3001mruby\u306fc99\u306e\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u3067\n\u578b\u304c\u4e8c\u91cd\u5b9a\u7fa9\u3068\u306a\u308a\u305d\u306e\u307e\u307e\u3067\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u51fa\u6765\u306a\u3044\n~/src/sakura/gr_common/include/rxduino/rxduino.h\n\u306e\u578b\u5b9a\u7fa9\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\nrxduino.h\u306e\n//\u578b\u306e\u5b9a\u7fa9\n\u306e\u30b3\u30e1\u30f3\u30c8\u884c\u304b\u3089\nint64_t\u306e\u5b9a\u7fa9\u884c\u307e\u3067\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\n===\n\nL\u30c1\u30ab\u3067\u30c6\u30b9\u30c8\n===\n\u304a\u6c7a\u307e\u308a\u306eLED\u306e\u70b9\u6ec5\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u30c6\u30b9\u30c8\u3059\u308b\n\u4e0b\u8a18\u306emruby\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092led.rb\u3068\u3044\u3046\u540d\u524d\u3067\u4fdd\u5b58\u3059\u308b\u3002\nled.rb\nHIGH = 1\nLOW = 0\n\n\nloop do\n    cdigitalWrite(100, HIGH);\n    cdelay(200);\n    cdigitalWrite(100, LOW);\n    cdelay(100);\n    cdigitalWrite(101, HIGH);\n    cdelay(200);\n    cdigitalWrite(101, LOW);\n    cdelay(100);\n    cdigitalWrite(102, HIGH);\n    cdelay(200);\n    cdigitalWrite(102, LOW);\n    cdelay(100);\n    cdigitalWrite(103, HIGH);\n    cdelay(200);\n    cdigitalWrite(103, LOW);\n    cdelay(100);\nend\n\n\u3053\u308c\u3092mrbc\u3067C\u8a00\u8a9e\u306e\u914d\u5217\u3068\u3057\u3066\u30d0\u30a4\u30c8\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\n~/work/mruby/bin/mrbc -Bcode led.rb\n\nled.c\u304c\u4f5c\u6210\u3055\u308c\u308b\u306e\u3067\u30c6\u30b9\u30c8\u7528\u306e\u30b9\u30b1\u30c3\u30c1\u306b\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3059\u308b\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308bL\u30c1\u30ab\u30b9\u30b1\u30c3\u30c1\u306f\ngr_sketch.cpp\n/*GR-SAKURA Sketch Template Version: V1.02*/\n#include <rxduino.h>\n\n\n#define CHANGE_HEAP_SIZE(size) __asm__ volatile (\"\\t.globl _min_heap_size\\n\\t.equ _min_heap_size, \" #size \"\\n\")\n\n\n#include \"mruby.h\"\n#include <mruby/irep.h>\n#include <mruby/string.h>\n\n#include \"led.c\"\n\nCHANGE_HEAP_SIZE(100*1024);  //\u30d2\u30fc\u30d7\u30b5\u30a4\u30ba\u3092100kb\u306b\u3059\u308b\u3002\n\nextern const char code[];\n\n\n\n//digitalWrite function\nmrb_value cdigitalWrite(mrb_state *mrb, mrb_value self){\n  mrb_int pin;\n  mrb_int val;\n\n  mrb_get_args(mrb, \"ii\", &pin, &val);\n  digitalWrite(pin, val);\n  return mrb_nil_value();\n}\n\n//delay function\nmrb_value cdelay(mrb_state *mrb, mrb_value self){\n  mrb_int val;\n  mrb_get_args(mrb,\"i\", &val);\n  delay(val);\n  return mrb_nil_value();\n}\n\n\n\nvoid setup(){\n\n\n  pinMode(PIN_LED0,OUTPUT);\n  pinMode(PIN_LED1,OUTPUT);\n  pinMode(PIN_LED2,OUTPUT);\n  pinMode(PIN_LED3,OUTPUT);\n\n  mrb_state *mrb = mrb_open();\n\n  mrb_define_method(mrb, mrb->object_class, \"cdigitalWrite\", cdigitalWrite, ARGS_REQ(2));\n  mrb_define_method(mrb, mrb->object_class, \"cdelay\", cdelay, ARGS_REQ(1));\n\n\n  mrb_load_irep( mrb, code);\n\n\n }\n\nvoid loop(){\n\n\n}\n\nmake\u3057\u3066\u51fa\u6765\u305fsketch.bin\u3092GR-SAKURA\u3078\u66f8\u304d\u8fbc\u3093\u3067\u30dc\u30fc\u30c9\u4e0a\u306e4\u3064\u306eLED\u304c\u9806\u756a\u306b\u70b9\u706f\u3059\u308c\u3070OK\u3067\u3059\u3002\n\n\u6700\u5f8c\u306b\n\u5b9f\u969bmruby\u304c\u52d5\u304f\u307e\u3067\u304b\u306a\u308a\u306e\u624b\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3082\u30e1\u30e2\u30ea\u3082GR-SAKURA\u3001RAM128K\u3067\u304b\u306a\u308a\u53b3\u3057\u3044\u3067\u3059\u3068\u3066\u3082\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306b\u4f7f\u3046\u306e\u306f\u7121\u7406\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u4e8b\u524d\u306b\u30d0\u30a4\u30c8\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3053\u3068\u3067\u4f55\u3068\u304b\u4f7f\u3046\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\u3067\u3082C\u3067\u4e00\u304b\u3089\u66f8\u304f\u3053\u3068\u3092\u8003\u3048\u308c\u3070\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u63c3\u3048\u308b\u3053\u3068\u3067\u304a\u624b\u8efd\u306b\u306a\u308b\u304b\u306a\u3068\u3046\u3044\u3046\u671f\u5f85\u3067\u52d5\u304b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u3053\u3053\u307e\u3067\u66f8\u3044\u305f\u3068\u3053\u308d\u3067\nmruby\u306e\u30dc\u30fc\u30c9\u304c\u767a\u58f2\u306b\u306a\u308b\u3088\u3046\u3067\u3059\nhttp://enzi.cc/\n\u3053\u308c\u306a\u3089RAM\u3082\uff11M\u3042\u308b\u306e\u3067\u3044\u3044\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\u5b9f\u969b\u306b\u4f7f\u3046\u306b\u306f\u3053\u308c\u304f\u3089\u3044\u306e\u30ea\u30bd\u30fc\u30b9\u3068C\u8a00\u8a9e\u3067\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5fc5\u8981\u3060\u3068\u601d\u3044\u307e\u3059\n\n\u30eb\u30cd\u30b5\u30b9\u30c6\u30af\u30ce\u30ed\u30b8\u306eRX63N\u3092\u7a4d\u3093\u3060Arduino\u4e92\u63db\u30dc\u30fc\u30c9GR-SAKURA\n(http://japan.renesas.com/products/promotion/gr/index.jsp)\n\u3067mruby\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u305f\u306e\u3067\u624b\u9806\u3092\u30e1\u30e2\nmruby\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u624b\u9806\u306f\u307e\u3093\u307e\nhttp://d.hatena.ne.jp/kyab/20130201\n\u306e\u901a\u308a\u3067\u3059kyab\u3055\u3093thx\n\n\n\u30b9\u30c6\u30fc\u30bf\u30b9\u3068\u3057\u3066\u306f\u3068\u308a\u3042\u3048\u305a\u52d5\u304b\u3057\u3066\u307f\u305f\u7a0b\u5ea6\u3067\u672c\u683c\u7684\u306b\u4f7f\u3048\u308b\u3068\u3053\u308d\u307e\u3067\u8a66\u3057\u3066\u307e\u305b\u3093\u3002\u306a\u306e\u3067\u30e1\u30e2\u30ea\u4e0d\u8db3\u7b49\u4e0d\u5177\u5408\u304c\u6ca2\u5c71\u3042\u308b\u3068\u601d\u3044\u307e\u3059\n\u3042\u304f\u307e\u3067\u3082asis\u3067\u3069\u3046\u305e\n\nGR-SAKURA\u306e\u958b\u767a\u74b0\u5883\u306fWeb\u30b3\u30f3\u30d1\u30a4\u30e9\u3067\u306e\u63d0\u4f9b\u3067\u3059\u3002\u3053\u308c\u3067\u306fmruby\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u51fa\u6765\u307e\u305b\u3093\u306e\u3067\u307e\u305a\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u306e\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u306a\u304a\u3001\u5f53\u65b9windows\u74b0\u5883\u304c\u306a\u3044\u306e\u3067\u624b\u9806\u306fLinux(Ubuntu)\u3068Mac\u3067\u306e\u624b\u9806\u3068\u306a\u308a\u307e\u3059\u3002KPIT\u3088\u308awindows\u7248\u306egcc\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3053\u308c\u3092\u5229\u7528\u3059\u308c\u3070\u4f7f\u3048\u308b\u3068\u306f\u304a\u3082\u3044\u307e\u3059\u304c\u3001\u78ba\u8a8d\u3057\u3066\u307e\u305b\u3093\u3002\n\n\u624b\u9806\u306f\u6b21\u306e\u901a\u308a\n1. \u30ed\u30fc\u30ab\u30eb\u30d3\u30eb\u30c9\u74b0\u5883\u306e\u69cb\u7bc9\n2. web\u30b3\u30f3\u30d1\u30a4\u30e9\u74b0\u5883\u304b\u3089GR-SAKURA\u7528\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53d6\u5f97\n3. mruby\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\n* \u8a2d\u5b9a\u306e\u8a18\u8ff0\n* build_config.rb\n* include/mrbconf.h\n4. \u30ed\u30fc\u30ab\u30eb\u30d3\u30eb\u30c9\u74b0\u5883\u3067mruby\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\n5. \u4f5c\u6210\u3057\u305flibmruby.a\u3068\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u90e1\u3092GR-SAKURA\u7528\u30ed\u30fc\u30ab\u30eb\u30d3\u30eb\u30c9\u74b0\u5883\u3078\u30b3\u30d4\u30fc\n6. GR-SAKURA\u7528\u30ed\u30fc\u30ab\u30eb\u30d3\u30eb\u30c9\u7528makefile\u306e\u4fee\u6b63\n7. rxduino.h\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63 (C99\u5bfe\u5fdc)\n\n\n===============================================\n# Build GCC Tool Chain for OS X and Ubuntu (RX\u7248)\n===============================================\n\n\n___Linux\u74b0\u5883(Ubuntu)\u3067\u306fKPIT\u3088\u308aRX\u30b7\u30ea\u30fc\u30ba\u306eGCC toolchain\u306frpm\u5f62\u5f0f\u306e\u30d0\u30a4\u30ca\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067alien\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u3092deb\u5f62\u5f0f\u306b\u5909\u63db\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u307b\u3046\u304c\u3044\u3044\u3067\u3059\u3002\u305d\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30eb\u306e\u69cb\u7bc9\u624b\u9806\u306f\u98db\u3070\u3057\u3066\u4e0b\u3055\u3044___\n\n## \u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6e96\u5099\n=======\n\n\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\n\n* mpfr\n* gmp\n* libmpc\n* libelf\n* texifo\n\n\u304c\u5fc5\u8981\u306a\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n* Homebrew\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\n\n``` sh\n\n$ brew install mpfr gmp libmpc libelf texinfo\n```\n\n\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n* Ubuntu\u306e\u5834\u5408\n\n\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30e9\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u5834\u5408\u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\n\n``` sh\n\n$ sudo apt-get install curl flex bison libgmp3-dev libmpfr-dev texinfo  libelf-dev autoconf build-essential libncurses5-dev libmpc-dev \n```\n\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\nMac\u306e\u5834\u5408\u3055\u3089\u306bGCC\u304c\u5fc5\u8981\u306a\u306e\u3067GCC\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nHomebrew\u306e\u5834\u5408\u3001\u6a19\u6e96\u306eformula\u306b\u306fgcc\u304c\u306a\u3044\u306e\u3067dups\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\n\n``` sh\n\n$ brew install https://raw.github.com/Homebrew/homebrew-dupes/master/gcc.rb --enable-all-languages --use-llvm\n```\n\n\u3053\u308c\u3067gcc\u304cgcc-{Version}\u3067\u5229\u7528\u3067\u304d\u308b\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u4f8b: \n\n``` sh \n$ gcc-4.7 hoge.c\n```\n\n___\u4ee5\u964d\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u306fgcc-4.7\u4f7f\u7528\u74b0\u5883\u3067\u306e\u624b\u9806\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\u5b9f\u969b\u306b\u306f\u4f7f\u7528\u3059\u308b\u6700\u65b0\u306eGCC\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\u4f8b\u3048\u3070\u30b3\u30f3\u30d1\u30a4\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3\u306eCC=gcc-4.7\u306fCC=gcc-{\u5b9f\u969b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3}\u306e\u3088\u3046\u306b___\n\n\n\n## renesas RX\u7528\u30c4\u30fc\u30eb\u30c1\u30a7\u30a4\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n===============================\n\nrenesas\u306eRX\u30b7\u30ea\u30fc\u30ba\u306e\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u69cb\u7bc9\u306a\u306e\u3067\u3001\n\u5fa1\u672c\u5c0a\u306eGCC\u3067\u306a\u304f\u958b\u767a\u5143\u306eKPIT\u304b\u3089\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002(\u8981\u958b\n\u767a\u8005\u767b\u9332)\n(2012.10\u6642\u70b9\u3060\u3068)\n\n* GNU v12.02\n* GDB v12.02\n\n\u304c\u6700\u65b0\u306a\u3088\u3046\u3067\u3059\u3002\n\n* GDBRX v12.02 Source Code of GDB\n* GNURX v12.02 Source Code of GCC\n* GNURX v12.02 Source Code of Binutils\n* GNURX v12.02 Source Code of Newlib\n\n\u3092\u305d\u308c\u305e\u308c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u30d5\u30a1\u30a4\u30eb\u540d\u306f\u5404\u3005\n\n* gdb-7.4.1_rx_v850_sh_h8_v12.02.tar.bz2\n* gcc-4.7.0_rx_v850_sh_h8_v12.02.tar.bz2\n* binutils-2.22_rx_v850_sh_h8_v12.02.tar.bz2\n* newlib-1.20.0_rx_v850_sh_h8_v12.02.tar.bz2\n\n\u3068\u306a\u308a\u307e\u3059\u3002\n\n\n## \u69cb\u7bc9\n=======\n\n\u5f8c\u306f\u5c55\u958b\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308c\u3070\u3088\u3044\u306e\u3067\u3059\u304c...\n\u306f\u307e\u308a\u3069\u3053\u308d\u304c\u3042\u308a\u307e\u3059\n\n\u307e\u305a\u3001gcc\u306e\u30bd\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u3067\u307e\u3059\u3002\n\n### \u6ce8\u610f:___\u30b3\u30f3\u30d1\u30a4\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30bd\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u540c\u4e00\u3060\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059___\n\n\u30bd\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u306f\u5225\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u5c55\u958b\u5f8c\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u307e\u305fgcc\u3068\u4e00\u7dd2\u306bnewlib\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u305f\u3081newlib\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092gcc\u306b\u5f35\u308a\u307e\u3059\u3002\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\n\n``` bash\n$ mkdir kpit\n$ cp gdb-7.4.1_rx_v850_sh_h8_v12.02.tar.bz2 kpit\n$ cp gcc-4.7.0_rx_v850_sh_h8_v12.02.tar.bz2\n$ cp binutils-2.22_rx_v850_sh_h8_v12.02.tar.bz2 kpit\n$ cp newlib-1.20.0_rx_v850_sh_h8_v12.02.tar.bz2 kpit\n\n$ cd kpit\n$ tar -jxvf gdb-7.4.1_rx_v850_sh_h8_v12.02.tar.bz2\n$ tar -jxvf gcc-4.7.0_rx_v850_sh_h8_v12.02.tar.bz2\n$ tar -jxvf binutils-2.22_rx_v850_sh_h8_v12.02.tar.bz2\n$ tar -jxvf newlib-1.20.0_rx_v850_sh_h8_v12.02.tar.bz2\n```\n\n\u3068\u3057\u3066\u30bd\u30fc\u30b9\u3092\u5c55\u958b\u3057\u307e\u3059\n\n\u79c1\u306f\u8907\u6570\u306eGNU\u30c4\u30fc\u30eb\u30c1\u30a7\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u308aMCU\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6bce\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u3092\u5909\u3048\u3066\u3044\u307e\u3059\u3002\u4eca\u56de\u306fRX\u30b7\u30ea\u30fc\u30ba\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3057\u3066~/rx-tools\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u69d8\u306b\u3057\u307e\u3059\u3002\n\nconfigure\u306e\u30aa\u30d7\u30b7\u30e7\u30f3 -prefix={\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea}\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u3092\u6307\u5b9a\u3057\u307e\u3059\n\n\n### binutils\n--------\n\n\u307e\u305a\u306fbinutils\n\n``` sh\n\n$ cd binutils-2.22\n$ ./configure -target=rx-elf -prefix=~/rx-tools -disable-werror CC=gcc-4.7\n$ make\n$ make install\n```\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u524d\u306b\u30d1\u30b9\u3092\u901a\u3059\n\n``` sh\n$ export PATH=$PATH:~/rx-tools/bin/\n```\n\n### GCC\n---\n\n``` sh\n\n$ cd ..\n$ cd gcc-4.7.0\n```\n\n\u30d3\u30eb\u30c9\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306e\u4f5c\u6210\n\n``` sh\n\n$ mkdir build\n$ ln -s ../newlib-1.20.0/newlib .\n$ ln -s ../newlib-1.20.0/libgloss .\n$ cd build\n\n$ ../configure --prefix=~/rx-tools --target=rx-elf --enable-lnguages=c,c++ --disable-libstdcxx-pch --disable-multilib --with-newlib --disable-nls --disable-libgfortran CC=gcc-4.7\n\n$ make\n$ make install\n```\n\n### newlib\n------\n\n``` sh\n\n$ cd ../../newlib-1.20.0\n$ ./configure --enable-newlib-hw-fp --target=rx-elf --prefix=~/rx-tools\n\n$ make\n$ make install\n\n$ cd ../gdb-7.4.1 \n$ ./configure --prefix=~/rx-tools --target=rx-elf --disable-werror\n\n$ make\n$ make install\n```\n\n.bashrc\u306a\u3069\u306b\u30d1\u30b9\u3092\u901a\u3057\u3066\u304a\u304f\n\n``` sh\n\n $ export PATH=$PATH:~/rx-tools/bin/\n\n```\n\n\n\n\u53c2\u7167\u5143\u60c5\u5831:\n-----\n\nchibiegg\u65e5\u8a8c: http://blog.chibiegg.net/2009/04/09_12_288.htm\n\ncodingcipher: http://codingcipher.wordpress.com/category/compilers/\n\n\n==============================================\n# web\u30b3\u30f3\u30d1\u30a4\u30e9\u74b0\u5883\u304b\u3089GR-SAKURA\u7528\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53d6\u5f97\n==============================================\n\n\u307e\u305a\u306f\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u306bWeb\u30b3\u30f3\u30d1\u30a4\u30e9\u306eProject_Root\u3068\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30c4\u30ea\u30fc\u3092\u69cb\u6210\u3057\u5bfe\u5fdc\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u975e\u5e38\u306b\u9762\u5012\u304f\u3055\u3044\u3067\u3059\u304c\uff11\u3064\u3065\u3064\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30c4\u30ea\u30fc\u518d\u69cb\u6210\u3057\u307e\u3059\u3002\n\n\u518d\u69cb\u6210\u4f8b: ~/src/sakura\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u518d\u69cb\u6210\u3057\u305f\n\n``` \nsrc/sakura\n |\n +--gr_build\n +--gr_common\n\t+--include\n\t\t+--rxduino\n\t\t\tanalogio.h\n\t\t\tbinary.h\n\t\t\tdelay.h\n\t\t\tdigitalio.h\n\t\t\tinterrupt.h\n\t\t\tprogmem.h\n\t\t\trandom.h\n\t\t\trtc.h\n\t\t\trxduino.h\n\t\t\tserial.h\n\t\t\tshiftout.h\n\t\t\ttone.h\n\t\t\twiring.h\n\t\t+--tkdnhal\n\t\t\tboarddef.h\n\t\t\ttkdn_dflash.h\n\t\t\ttkdn_servo.h\n\t\t\tbrd_grsakura.h\n\t\t\ttkdn_ether.h\n\t\t\ttkdn_spi.h\n\t\t\tbrd_grume.h\n\t\t\ttkdn_gpio.h\n\t\t\ttkdn_timer.h\n\t\t\thwsetup.h\n\t\t\ttkdn_hal.h\n\t\t\ttkdn_tone.h\n\t\t\tiodefine_gcc62n.h\n\t\t\ttkdn_i2c.h\n\t\t\ttkdn_usb.h\n\t\t\tiodefine_gcc63n.h\n\t\t\ttkdn_interrupt.h\n\t\t\ttkdn_version.h\n\t\t\tmisc.h\n\t\t\ttkdn_pwm.h\n\t\t\ttkdnip.h\n\t\t\ttkdn_adc.h\n\t\t\ttkdn_rtc.h\n\t\t\ttkusbhost.h\n\t\t\ttkdn_dac.h\n\t\t\ttkdn_sci.h\n +--lib\n\t\t\tlibc.a\n\t\t\tlibgcc.a\n\t\t\tlibrxduino.a\n\t\t\tlibstdc++.a\n\t\t\tlibtkdnhal.a\n\t\t\tlibg.a\n\t\t\tlibm.a\n\t\t\tlibsim.a\n\t\t\tlibsupc++.a\n\t\t\tlibtkdnip.a\n\tr_sakura.gsi\t\n\tintvect.h\n\tintvect63n.h\n\tlowlevel.c\n\tgstart.o\n\tintvect.c\n\tintvect.o\n\tlowlevel.o\n makefile\n gr_sketch.cpp\n\n```\n\n===================== \n# mruby\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\n=====================\n\nmruby\u3092github\u3088\u308a\u53d6\u5f97\n\n``` git\n$ git clone https://github.com/mruby/mruby.git\n```\n\n## build_config.rb\u3092\u7de8\u96c6\nbuild_config.rb\u306b\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\n\u4ee5\u4e0b\u4f8b\u306fmruby\u306f ~/work/mruby\u306b\u7f6e\u304d~/rx-tools\u3078\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30e9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3068\u3057\u3066\u8a18\u8ff0\n\u9055\u3046\u5834\u5408\u306fTOOL_PATH\u3092\u66f8\u304d\u63db\u3048\u3066\u4e0b\u3055\u3044\u3002\n\u0010\n\n``` ruby \nMRuby::CrossBuild.new('gr-sakura') do |conf|\n  toolchain :gcc\n\n  TOOL_PATH = \"~/rx-tools/bin\"\n\n  conf.cc do |cc|\n    cc.command=\"#{TOOL_PATH}/rx-elf-gcc\"\n    cc.flags << \"-Wall -g -O2\"\n    cc.compile_options = \"%{flags} -o %{outfile} -c %{infile}\"\n\n    conf.linker do |linker|\n      linker.command=\"#{TOOL_PATH}/rx-elf-ld\"\n    end\n    conf.archiver do |archiver|\n      archiver.command = \"#{TOOL_PATH}/rx-elf-ar\"\n      archiver.archive_options = 'rcs %{outfile} %{objs}'\n    end\n  end\n\n  conf.bins = []\nend\n\n```\n\ninclude/mrbconf.h\u306f\u7279\u306b\u66f8\u304d\u63db\u3048\u306a\u304f\u3066\u3082\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u307e\u3059\u304c\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u306b\u5f71\u97ff\u3057\u307e\u3059\u306e\u3067\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u66f8\u304d\u63db\u3048\u3066\u4e0b\u3055\u3044\u3002\n\u4eca\u56de\u306f\u305d\u306e\u307e\u307e\u3067\u3044\u304d\u307e\u3059\n\n\n## \u30b3\u30f3\u30d1\u30a4\u30eb\n``` sh\n$ cd ~/work/mruby\n$ make clean\n$ make\n```\n\n~/work/mruby/build/gr-sakura\u4ee5\u4e0b\u306bGR-SAKURA\u7528\u306emruby\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u3092gr-sakura\u306e\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u304b\u3089\u30ea\u30f3\u30af\u3059\u308b\u3053\u3068\u3067mruby\u304c\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n\n===================\n# \u4f5c\u6210\u3057\u305flibmruby.a\u3068\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u90e1\u3092GR-SAKURA\u7528\u30ed\u30fc\u30ab\u30eb\u30d3\u30eb\u30c9\u74b0\u5883\u3078\u30b3\u30d4\u30fc\n===================\n\nweb\u30b3\u30f3\u30d1\u30a4\u30e9\u74b0\u5883\u304b\u3089GR-SAKURA\u7528\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53d6\u5f97\u3067\u4f5c\u6210\u3057\u305f\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078mruby\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092~/src/sakura\u3068\u3057\u3066\u8aac\u660e\u3057\u307e\u3059\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bmruby\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092~/work/mruby/build/gr-sakura\u304b\u3089\u30b3\u30d4\u30fc\u3057\u307e\u3059\n\n``` sh\n$ cd ~/src/sakura\n$ mkdir mruby\n$ cd mruby\n$ cp ~/work/mruby/build/gr-sakura/lib/libmruby.a .\n$ cp -r ~/work/mruby/include .\n```\n\n========\n# GR-SAKURA\u7528\u30ed\u30fc\u30ab\u30eb\u30d3\u30eb\u30c9\u7528makefile\u306e\u4fee\u6b63\n========\n~/src/sakura/makefile\u3092\u7de8\u96c6\u3057\u307e\u3059\nCCPATH\u306b\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u5b9f\u884c\u30d1\u30b9~/rx-tools/bin/\nLIBFILES\u306b./mruby/libmruby.a\nCCINC\u3068CPPINC\u306b-I./mruby/include\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n\u5909\u66f4\u5f8c\u306emakefile\n\n``` makefile\nCCPATH = ~/rx-tools/bin/\nOBJFILES = ./gr_sketch.o  ./gr_common/intvect.o ./gr_common/lowlevel.o \nLIBFILES = ./gr_common/lib/libc.a ./gr_common/lib/libg.a ./gr_common/lib/libgcc.a ./gr_common/lib/libm.a ./gr_common/lib/librxduino.a ./gr_common/lib/libsim.a ./gr_common/lib/libstdc++.a ./gr_common/lib/libsupc++.a ./gr_common/lib/libtkdnhal.a ./gr_common/lib/libtkdnip.a ./mruby/libmruby.a\nCCINC = -I./gr_build -I./gr_common -I./gr_common/include -I./gr_common/include/rxduino -I./gr_common/include/tkdnhal -I./gr_common/lib -I./mruby/include\nCPPINC = -I./gr_build -I./gr_common -I./gr_common/include -I./gr_common/include/rxduino -I./gr_common/include/tkdnhal -I./gr_common/lib -I./mruby/include\nTARGET = sketch\nCC  = $(CCPATH)rx-elf-gcc -Wall -g -O2 $(CCINC)\nCPP = $(CCPATH)rx-elf-gcc -Wall -g -O2 $(CPPINC)\nAS  = $(CCPATH)rx-elf-as \nLNK = $(CCPATH)rx-elf-ld\n#CNV = $(CCPATH)rx-elf-objcopy --srec-forceS3 --srec-len 32 -O srec\nCNV = $(CCPATH)rx-elf-objcopy -O binary\nDMP = $(CCPATH)rx-elf-objdump\nOBJS = ./gr_common/gstart.o $(OBJFILES) $(LIBFILES) \nLFLAGS = -L./gr_common/lib/ -lrxduino -lstdc++ -lsupc++ -lc -lsim -lgcc -lm -ltkdnhal -nostartfiles\nMAKEFILE = makefile\nROMSCRIPT=./gr_common/gr_sakura.gsi\n\nmake = make --no-print-directory \n\nall:\trom\n\nrom:\t$(OBJS) $(MAKEFILE) $(ROMSCRIPT)\n\t$(LNK) -Map ./gr_build/$(TARGET).map $(OBJS) -T $(ROMSCRIPT) $(LFLAGS) -o $(TARGET).elf\n\t$(CNV) $(TARGET).elf  $(TARGET).bin\n\trm -f *.o\n\trm -f $(TARGET).elf\n\n#gstart.o:\tgstart.s\n#\t$(AS) -o gstart.o gstart.s\n\n.c.o:\n\t$(CC) $(CFLAGS) -c $< -o $@\n\n.cpp.o:\n\t$(CPP) $(CFLAGS) -c $< -o $@\n```\n==============\n# rxduino.h\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63 (C99\u5bfe\u5fdc)\n==============\n\n\nrxduino.h\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u578b\u306fc99\u3067\u306fstdint.h\n\u3068\u304b\u3067\u5b9a\u7fa9\u6e08\u307f\u3001mruby\u306fc99\u306e\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u3067\n\u578b\u304c\u4e8c\u91cd\u5b9a\u7fa9\u3068\u306a\u308a\u305d\u306e\u307e\u307e\u3067\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u51fa\u6765\u306a\u3044\n~/src/sakura/gr_common/include/rxduino/rxduino.h\n\u306e\u578b\u5b9a\u7fa9\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\n\nrxduino.h\u306e\n//\u578b\u306e\u5b9a\u7fa9\n\u306e\u30b3\u30e1\u30f3\u30c8\u884c\u304b\u3089\nint64_t\u306e\u5b9a\u7fa9\u884c\u307e\u3067\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\n\n===\n# L\u30c1\u30ab\u3067\u30c6\u30b9\u30c8\n===\n\u304a\u6c7a\u307e\u308a\u306eLED\u306e\u70b9\u6ec5\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u30c6\u30b9\u30c8\u3059\u308b\n\n\u4e0b\u8a18\u306emruby\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092led.rb\u3068\u3044\u3046\u540d\u524d\u3067\u4fdd\u5b58\u3059\u308b\u3002\nled.rb\n\n``` ruby\nHIGH = 1\nLOW = 0\n\n\nloop do\n    cdigitalWrite(100, HIGH);\n    cdelay(200);\n    cdigitalWrite(100, LOW);\n    cdelay(100);\n    cdigitalWrite(101, HIGH);\n    cdelay(200);\n    cdigitalWrite(101, LOW);\n    cdelay(100);\n    cdigitalWrite(102, HIGH);\n    cdelay(200);\n    cdigitalWrite(102, LOW);\n    cdelay(100);\n    cdigitalWrite(103, HIGH);\n    cdelay(200);\n    cdigitalWrite(103, LOW);\n    cdelay(100);\nend\n```\n\u3053\u308c\u3092mrbc\u3067C\u8a00\u8a9e\u306e\u914d\u5217\u3068\u3057\u3066\u30d0\u30a4\u30c8\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\n\n```sh\n~/work/mruby/bin/mrbc -Bcode led.rb\n```\nled.c\u304c\u4f5c\u6210\u3055\u308c\u308b\u306e\u3067\u30c6\u30b9\u30c8\u7528\u306e\u30b9\u30b1\u30c3\u30c1\u306b\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3059\u308b\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308bL\u30c1\u30ab\u30b9\u30b1\u30c3\u30c1\u306f\ngr_sketch.cpp\n\n``` cpp\n/*GR-SAKURA Sketch Template Version: V1.02*/\n#include <rxduino.h>\n\n\n#define CHANGE_HEAP_SIZE(size) __asm__ volatile (\"\\t.globl _min_heap_size\\n\\t.equ _min_heap_size, \" #size \"\\n\")\n\n\n#include \"mruby.h\"\n#include <mruby/irep.h>\n#include <mruby/string.h>\n\n#include \"led.c\"\n\nCHANGE_HEAP_SIZE(100*1024);  //\u30d2\u30fc\u30d7\u30b5\u30a4\u30ba\u3092100kb\u306b\u3059\u308b\u3002\n\nextern const char code[];\n\n\n\n//digitalWrite function\nmrb_value cdigitalWrite(mrb_state *mrb, mrb_value self){\n  mrb_int pin;\n  mrb_int val;\n\n  mrb_get_args(mrb, \"ii\", &pin, &val);\n  digitalWrite(pin, val);\n  return mrb_nil_value();\n}\n\n//delay function\nmrb_value cdelay(mrb_state *mrb, mrb_value self){\n  mrb_int val;\n  mrb_get_args(mrb,\"i\", &val);\n  delay(val);\n  return mrb_nil_value();\n}\n\n\n\nvoid setup(){\n\n\n  pinMode(PIN_LED0,OUTPUT);\n  pinMode(PIN_LED1,OUTPUT);\n  pinMode(PIN_LED2,OUTPUT);\n  pinMode(PIN_LED3,OUTPUT);\n\n  mrb_state *mrb = mrb_open();\n\n  mrb_define_method(mrb, mrb->object_class, \"cdigitalWrite\", cdigitalWrite, ARGS_REQ(2));\n  mrb_define_method(mrb, mrb->object_class, \"cdelay\", cdelay, ARGS_REQ(1));\n\n\n  mrb_load_irep( mrb, code);\n\n \n }\n\nvoid loop(){\n\n\n}\n```\nmake\u3057\u3066\u51fa\u6765\u305fsketch.bin\u3092GR-SAKURA\u3078\u66f8\u304d\u8fbc\u3093\u3067\u30dc\u30fc\u30c9\u4e0a\u306e4\u3064\u306eLED\u304c\u9806\u756a\u306b\u70b9\u706f\u3059\u308c\u3070OK\u3067\u3059\u3002\n\n##\u6700\u5f8c\u306b\n\u5b9f\u969bmruby\u304c\u52d5\u304f\u307e\u3067\u304b\u306a\u308a\u306e\u624b\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3082\u30e1\u30e2\u30ea\u3082GR-SAKURA\u3001RAM128K\u3067\u304b\u306a\u308a\u53b3\u3057\u3044\u3067\u3059\u3068\u3066\u3082\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306b\u4f7f\u3046\u306e\u306f\u7121\u7406\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u4e8b\u524d\u306b\u30d0\u30a4\u30c8\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3053\u3068\u3067\u4f55\u3068\u304b\u4f7f\u3046\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\u3067\u3082C\u3067\u4e00\u304b\u3089\u66f8\u304f\u3053\u3068\u3092\u8003\u3048\u308c\u3070\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u63c3\u3048\u308b\u3053\u3068\u3067\u304a\u624b\u8efd\u306b\u306a\u308b\u304b\u306a\u3068\u3046\u3044\u3046\u671f\u5f85\u3067\u52d5\u304b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u3053\u3053\u307e\u3067\u66f8\u3044\u305f\u3068\u3053\u308d\u3067\nmruby\u306e\u30dc\u30fc\u30c9\u304c\u767a\u58f2\u306b\u306a\u308b\u3088\u3046\u3067\u3059\nhttp://enzi.cc/\n\u3053\u308c\u306a\u3089RAM\u3082\uff11M\u3042\u308b\u306e\u3067\u3044\u3044\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\u5b9f\u969b\u306b\u4f7f\u3046\u306b\u306f\u3053\u308c\u304f\u3089\u3044\u306e\u30ea\u30bd\u30fc\u30b9\u3068C\u8a00\u8a9e\u3067\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5fc5\u8981\u3060\u3068\u601d\u3044\u307e\u3059\n\n", "tags": ["mruby"]}