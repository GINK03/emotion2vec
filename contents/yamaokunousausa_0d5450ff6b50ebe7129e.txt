{"context": "\n\n\u3084\u308b\u3053\u3068\nASP.NET Core Web Application\u3067\u3001IServiceProvider(DI\u30b3\u30f3\u30c6\u30ca)\u306b\u767b\u9332\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u60c5\u5831\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u74b0\u5883\n\nVisual Strudio 2015\nASP.NET Core Web Application (.NET Core)\u3092\u300c\u8a8d\u8a3c\u306a\u3057\u300d\u3067\u4f5c\u6210\u3057\u30011.1\u5316\u3057\u305f\u72b6\u614b\n\n\n\u624b\u9806\nStartup\u30af\u30e9\u30b9\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306aShowComponents()\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u3001ConfigureServices()\u306e\u6700\u5f8c\u3067\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\npublic void ConfigureServices(IServiceCollection services)\n{\n    // Add framework services.\n    services.AddMvc();\n\n    ShowComponents(services);\n}\n\nprivate static void ShowComponents(IServiceCollection services)\n{\n    foreach (var service in services)\n    {\n        if (service.ImplementationType != null)\n        {\n            Debug.WriteLine(\n                \"Type\\t{0}\\t{1}\\t{2}\",\n                service.Lifetime,\n                service.ServiceType,\n                service.ServiceType == service.ImplementationType ? \"-\" : service.ImplementationType.ToString());\n        }\n        else if (service.ImplementationFactory != null)\n        {\n            Debug.WriteLine(\n                \"Factory\\t{0}\\t{1}\",\n                service.Lifetime,\n                service.ServiceType);\n        }\n        else\n        {\n            Debug.WriteLine(\n                \"Constant\\t{0}\\t{1}\\t{2}\",\n                service.Lifetime,\n                service.ServiceType,\n                service.ImplementationInstance.GetType());\n        }\n    }\n}\n\n\u4e0a\u8a18\u306b\u3088\u308a\u3001IServiceProvider\u306b\u767b\u9332\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u60c5\u5831\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u767b\u9332\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u89e3\u6c7a\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e3\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\u7a2e\u5225\n\u6982\u8981\n\n\n\n\nType\nImplementationType\u306eType\u3092\u5143\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\n\n\nFactory\nImplementationFactory(Func)\u306b\u3088\u308b\u751f\u6210\n\n\nConstant\nImplementationInstance\u3078\u306e\u53c2\u7167\n\n\n\n\u307e\u305f\u3001\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e\u4e09\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\u7a2e\u5225\n\u6982\u8981\n\n\n\n\nSingleton\n\u5358\u4e00\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u8fd4\u3055\u308c\u308b\n\n\nTransient\n\u8981\u6c42\u6bce\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u751f\u6210\u3055\u308c\u308b\n\n\nScoped\n\u540c\u4e00\u30ea\u30af\u30a8\u30b9\u30c8\u4e2d\u306f\u540c\u3058\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u8fd4\u3055\u308c\u308b\n\n\n\n\n\u51fa\u529b\u7d50\u679c\nAddMvc()\u3057\u305f\u3060\u3051\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306e\u51fa\u529b\u7d50\u679c\u3092\u4ee5\u4e0b\u306b\u8f09\u305b\u3066\u304a\u304d\u307e\u3059\u3002\n\n\n\n\u7a2e\u5225\n\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\n\u30ad\u30fc\u3068\u306a\u308b\u578b\n\u89e3\u6c7a\u3055\u308c\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u578b\n\n\n\n\nConstant\nSingleton\nM.A.Hosting.IApplicationLifetime\nM.A.Hosting.Internal.ApplicationLifetime\n\n\nConstant\nSingleton\nM.A.Hosting.IHostingEnvironment\nM.A.Hosting.Internal.HostingEnvironment\n\n\nConstant\nSingleton\nM.A.Hosting.IStartupFilter\nM.A.Server.IISIntegration.IISSetupFilter\n\n\nConstant\nSingleton\nM.A.Mvc.ApplicationParts.ApplicationPartManager\nM.A.Mvc.ApplicationParts.ApplicationPartManager\n\n\nConstant\nSingleton\nM.E.Logging.ILoggerFactory\nM.E.Logging.LoggerFactory\n\n\nConstant\nSingleton\nM.E.Options.IConfigureOptions`1[M.A.Builder.ForwardedHeadersOptions]\nM.E.Options.ConfigureOptions`1[M.A.Builder.ForwardedHeadersOptions]\n\n\nConstant\nSingleton\nS.Buffers.ArrayPool`1[M.A.Mvc.ViewFeatures.Internal.ViewBufferValue]\nS.Buffers.DefaultArrayPool`1[M.A.Mvc.ViewFeatures.Internal.ViewBufferValue]\n\n\nConstant\nSingleton\nS.Buffers.ArrayPool`1[S.Byte]\nS.Buffers.DefaultArrayPool`1[S.Byte]\n\n\nConstant\nSingleton\nS.Buffers.ArrayPool`1[S.Char]\nS.Buffers.DefaultArrayPool`1[S.Char]\n\n\nConstant\nSingleton\nS.Diagnostics.DiagnosticListener\nS.Diagnostics.DiagnosticListener\n\n\nConstant\nSingleton\nS.Diagnostics.DiagnosticSource\nS.Diagnostics.DiagnosticListener\n\n\nConstant\nSingleton\nS.Text.Encodings.Web.UrlEncoder\nS.Text.Encodings.Web.DefaultUrlEncoder\n\n\nFactory\nSingleton\nM.A.DataProtection.AuthenticatedEncryption.ConfigurationModel.IAuthenticatedEncryptorConfiguration\n\n\n\nFactory\nSingleton\nM.A.DataProtection.IDataProtectionProvider\n\n\n\nFactory\nSingleton\nM.A.DataProtection.KeyManagement.IKeyManager\n\n\n\nFactory\nSingleton\nM.A.DataProtection.KeyManagement.Internal.IDefaultKeyServices\n\n\n\nFactory\nSingleton\nM.A.Hosting.IStartup\n\n\n\nFactory\nSingleton\nM.A.Mvc.Formatters.JsonOutputFormatter\n\n\n\nFactory\nSingleton\nM.A.Mvc.ModelBinding.Validation.IObjectModelValidator\n\n\n\nFactory\nSingleton\nM.A.Mvc.Razor.Directives.IChunkTreeCache\n\n\n\nFactory\nSingleton\nM.A.Razor.Runtime.TagHelpers.ITagHelperDescriptorFactory\n\n\n\nFactory\nSingleton\nM.E.ObjectPool.ObjectPool`1[M.A.Antiforgery.Internal.AntiforgerySerializationContext]\n\n\n\nFactory\nSingleton\nM.E.ObjectPool.ObjectPool`1[M.A.Routing.Internal.UriBuildingContext]\n\n\n\nFactory\nSingleton\nS.Text.Encodings.Web.HtmlEncoder\n\n\n\nFactory\nSingleton\nS.Text.Encodings.Web.JavaScriptEncoder\n\n\n\nFactory\nTransient\nM.A.Mvc.ModelBinding.Metadata.ICompositeMetadataDetailsProvider\n\n\n\nFactory\nTransient\nM.E.Options.IConfigureOptions`1[M.A.DataProtection.DataProtectionOptions]\n\n\n\nType\nScoped\nM.A.Mvc.ViewFeatures.Internal.IViewBufferScope\nM.A.Mvc.ViewFeatures.Internal.MemoryPoolViewBufferScope\n\n\nType\nScoped\nM.E.Options.IOptionsSnapshot`1[TOptions]\nM.E.Options.OptionsSnapshot`1[TOptions]\n\n\nType\nSingleton\nM.A.Antiforgery.IAntiforgery\nM.A.Antiforgery.Internal.DefaultAntiforgery\n\n\nType\nSingleton\nM.A.Antiforgery.IAntiforgeryAdditionalDataProvider\nM.A.Antiforgery.Internal.DefaultAntiforgeryAdditionalDataProvider\n\n\nType\nSingleton\nM.A.Antiforgery.Internal.IAntiforgeryTokenGenerator\nM.A.Antiforgery.Internal.DefaultAntiforgeryTokenGenerator\n\n\nType\nSingleton\nM.A.Antiforgery.Internal.IAntiforgeryTokenSerializer\nM.A.Antiforgery.Internal.DefaultAntiforgeryTokenSerializer\n\n\nType\nSingleton\nM.A.Antiforgery.Internal.IAntiforgeryTokenStore\nM.A.Antiforgery.Internal.DefaultAntiforgeryTokenStore\n\n\nType\nSingleton\nM.A.Antiforgery.Internal.IClaimUidExtractor\nM.A.Antiforgery.Internal.DefaultClaimUidExtractor\n\n\nType\nSingleton\nM.A.DataProtection.Internal.IActivator\nM.A.DataProtection.RC1ForwardingActivator\n\n\nType\nSingleton\nM.A.DataProtection.Internal.IActivator\nM.A.DataProtection.RC1ForwardingActivator\n\n\nType\nSingleton\nM.A.DataProtection.Internal.IActivator\nM.A.DataProtection.RC1ForwardingActivator\n\n\nType\nSingleton\nM.A.DataProtection.Internal.IActivator\nM.A.DataProtection.RC1ForwardingActivator\n\n\nType\nSingleton\nM.A.Hosting.Server.IServer\nM.A.Server.Kestrel.KestrelServer\n\n\nType\nSingleton\nM.A.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider\nM.A.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider\n\n\nType\nSingleton\nM.A.Mvc.Controllers.IControllerFactory\nM.A.Mvc.Controllers.DefaultControllerFactory\n\n\nType\nSingleton\nM.A.Mvc.DataAnnotations.IValidationAttributeAdapterProvider\nM.A.Mvc.DataAnnotations.Internal.ValidationAttributeAdapterProvider\n\n\nType\nSingleton\nM.A.Mvc.Filters.IFilterProvider\nM.A.Mvc.Internal.DefaultFilterProvider\n\n\nType\nSingleton\nM.A.Mvc.Formatters.FormatFilter\n-\n\n\nType\nSingleton\nM.A.Mvc.Formatters.Json.Internal.JsonResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.Infrastructure.IActionDescriptorCollectionProvider\nM.A.Mvc.Internal.ActionDescriptorCollectionProvider\n\n\nType\nSingleton\nM.A.Mvc.Infrastructure.IActionInvokerFactory\nM.A.Mvc.Internal.ActionInvokerFactory\n\n\nType\nSingleton\nM.A.Mvc.Infrastructure.IActionSelector\nM.A.Mvc.Internal.ActionSelector\n\n\nType\nSingleton\nM.A.Mvc.Internal.ActionConstraintCache\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.ClientValidatorCache\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.ContentResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.ControllerActionInvokerCache\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.FileContentResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.FileStreamResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.IActionSelectorDecisionTreeProvider\nM.A.Mvc.Internal.ActionSelectorDecisionTreeProvider\n\n\nType\nSingleton\nM.A.Mvc.Internal.IControllerArgumentBinder\nM.A.Mvc.Internal.DefaultControllerArgumentBinder\n\n\nType\nSingleton\nM.A.Mvc.Internal.IHttpRequestStreamReaderFactory\nM.A.Mvc.Internal.MemoryPoolHttpRequestStreamReaderFactory\n\n\nType\nSingleton\nM.A.Mvc.Internal.IHttpResponseStreamWriterFactory\nM.A.Mvc.Internal.MemoryPoolHttpResponseStreamWriterFactory\n\n\nType\nSingleton\nM.A.Mvc.Internal.ITypeActivatorCache\nM.A.Mvc.Internal.TypeActivatorCache\n\n\nType\nSingleton\nM.A.Mvc.Internal.LocalRedirectResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.MiddlewareFilterBuilder\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.MiddlewareFilterConfigurationProvider\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.MvcMarkerService\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.MvcRouteHandler\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.ObjectResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.PhysicalFileResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.RedirectResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.RedirectToActionResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.RedirectToRouteResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.Internal.VirtualFileResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.ModelBinding.IModelBinderFactory\nM.A.Mvc.ModelBinding.ModelBinderFactory\n\n\nType\nSingleton\nM.A.Mvc.ModelBinding.IModelMetadataProvider\nM.A.Mvc.ModelBinding.Metadata.DefaultModelMetadataProvider\n\n\nType\nSingleton\nM.A.Mvc.Razor.Compilation.ICompilationService\nM.A.Mvc.Razor.Internal.DefaultRoslynCompilationService\n\n\nType\nSingleton\nM.A.Mvc.Razor.Internal.CSharpCompiler\n-\n\n\nType\nSingleton\nM.A.Mvc.Razor.Internal.ICompilerCacheProvider\nM.A.Mvc.Razor.Internal.DefaultCompilerCacheProvider\n\n\nType\nSingleton\nM.A.Mvc.Razor.Internal.IRazorViewEngineFileProviderAccessor\nM.A.Mvc.Razor.Internal.DefaultRazorViewEngineFileProviderAccessor\n\n\nType\nSingleton\nM.A.Mvc.Razor.Internal.RazorReferenceManager\n-\n\n\nType\nSingleton\nM.A.Mvc.Razor.Internal.ViewComponentTagHelperDescriptorResolver\n-\n\n\nType\nSingleton\nM.A.Mvc.Razor.IRazorPageActivator\nM.A.Mvc.Razor.RazorPageActivator\n\n\nType\nSingleton\nM.A.Mvc.Razor.IRazorViewEngine\nM.A.Mvc.Razor.RazorViewEngine\n\n\nType\nSingleton\nM.A.Mvc.Razor.ITagHelperActivator\nM.A.Mvc.Razor.Internal.DefaultTagHelperActivator\n\n\nType\nSingleton\nM.A.Mvc.Razor.ITagHelperFactory\nM.A.Mvc.Razor.Internal.DefaultTagHelperFactory\n\n\nType\nSingleton\nM.A.Mvc.Rendering.IJsonHelper\nM.A.Mvc.ViewFeatures.JsonHelper\n\n\nType\nSingleton\nM.A.Mvc.Routing.IUrlHelperFactory\nM.A.Mvc.Routing.UrlHelperFactory\n\n\nType\nSingleton\nM.A.Mvc.TagHelpers.Cache.IDistributedCacheTagHelperService\nM.A.Mvc.TagHelpers.Cache.DistributedCacheTagHelperService\n\n\nType\nSingleton\nM.A.Mvc.ViewComponents.IViewComponentActivator\nM.A.Mvc.ViewComponents.DefaultViewComponentActivator\n\n\nType\nSingleton\nM.A.Mvc.ViewComponents.IViewComponentDescriptorCollectionProvider\nM.A.Mvc.ViewComponents.DefaultViewComponentDescriptorCollectionProvider\n\n\nType\nSingleton\nM.A.Mvc.ViewComponents.IViewComponentFactory\nM.A.Mvc.ViewComponents.DefaultViewComponentFactory\n\n\nType\nSingleton\nM.A.Mvc.ViewComponents.IViewComponentInvokerFactory\nM.A.Mvc.ViewComponents.DefaultViewComponentInvokerFactory\n\n\nType\nSingleton\nM.A.Mvc.ViewComponents.IViewComponentSelector\nM.A.Mvc.ViewComponents.DefaultViewComponentSelector\n\n\nType\nSingleton\nM.A.Mvc.ViewEngines.ICompositeViewEngine\nM.A.Mvc.ViewEngines.CompositeViewEngine\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.IHtmlGenerator\nM.A.Mvc.ViewFeatures.DefaultHtmlGenerator\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.IModelExpressionProvider\nM.A.Mvc.ViewFeatures.ModelExpressionProvider\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.Internal.AutoValidateAntiforgeryTokenAuthorizationFilter\n-\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.Internal.ExpressionTextCache\n-\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.Internal.PartialViewResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.Internal.SaveTempDataFilter\n-\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter\n-\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.Internal.ViewComponentInvokerCache\n-\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.Internal.ViewComponentResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.Internal.ViewResultExecutor\n-\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.ITempDataDictionaryFactory\nM.A.Mvc.ViewFeatures.TempDataDictionaryFactory\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.ITempDataProvider\nM.A.Mvc.ViewFeatures.SessionStateTempDataProvider\n\n\nType\nSingleton\nM.A.Mvc.ViewFeatures.ValidationHtmlAttributeProvider\nM.A.Mvc.ViewFeatures.DefaultValidationHtmlAttributeProvider\n\n\nType\nSingleton\nM.A.Razor.Compilation.TagHelpers.ITagHelperDescriptorResolver\nM.A.Mvc.Razor.Internal.CompositeTagHelperDescriptorResolver\n\n\nType\nSingleton\nM.A.Razor.Runtime.TagHelpers.ITagHelperTypeResolver\nM.A.Razor.Runtime.TagHelpers.TagHelperTypeResolver\n\n\nType\nSingleton\nM.A.Razor.Runtime.TagHelpers.TagHelperDescriptorResolver\n-\n\n\nType\nSingleton\nM.A.Routing.Internal.RoutingMarkerService\n-\n\n\nType\nSingleton\nM.E.Caching.Distributed.IDistributedCache\nM.E.Caching.Distributed.MemoryDistributedCache\n\n\nType\nSingleton\nM.E.Caching.Memory.IMemoryCache\nM.E.Caching.Memory.MemoryCache\n\n\nType\nSingleton\nM.E.Logging.ILogger`1[TCategoryName]\nM.E.Logging.Logger`1[T]\n\n\nType\nSingleton\nM.E.ObjectPool.ObjectPoolProvider\nM.E.ObjectPool.DefaultObjectPoolProvider\n\n\nType\nSingleton\nM.E.Options.IOptions`1[TOptions]\nM.E.Options.OptionsManager`1[TOptions]\n\n\nType\nSingleton\nM.E.Options.IOptionsMonitor`1[TOptions]\nM.E.Options.OptionsMonitor`1[TOptions]\n\n\nType\nTransient\nM.A.Authorization.IAuthorizationEvaluator\nM.A.Authorization.DefaultAuthorizationEvaluator\n\n\nType\nTransient\nM.A.Authorization.IAuthorizationHandler\nM.A.Authorization.Infrastructure.PassThroughAuthorizationHandler\n\n\nType\nTransient\nM.A.Authorization.IAuthorizationHandlerContextFactory\nM.A.Authorization.DefaultAuthorizationHandlerContextFactory\n\n\nType\nTransient\nM.A.Authorization.IAuthorizationPolicyProvider\nM.A.Authorization.DefaultAuthorizationPolicyProvider\n\n\nType\nTransient\nM.A.Authorization.IAuthorizationService\nM.A.Authorization.DefaultAuthorizationService\n\n\nType\nTransient\nM.A.Cors.Infrastructure.ICorsPolicyProvider\nM.A.Cors.Infrastructure.DefaultCorsPolicyProvider\n\n\nType\nTransient\nM.A.Cors.Infrastructure.ICorsService\nM.A.Cors.Infrastructure.CorsService\n\n\nType\nTransient\nM.A.Hosting.Builder.IApplicationBuilderFactory\nM.A.Hosting.Builder.ApplicationBuilderFactory\n\n\nType\nTransient\nM.A.Hosting.IStartupFilter\nM.A.Hosting.Internal.AutoRequestServicesStartupFilter\n\n\nType\nTransient\nM.A.Http.IHttpContextFactory\nM.A.Http.HttpContextFactory\n\n\nType\nTransient\nM.A.Mvc.Abstractions.IActionDescriptorProvider\nM.A.Mvc.Internal.ControllerActionDescriptorProvider\n\n\nType\nTransient\nM.A.Mvc.Abstractions.IActionInvokerProvider\nM.A.Mvc.Internal.ControllerActionInvokerProvider\n\n\nType\nTransient\nM.A.Mvc.ActionConstraints.IActionConstraintProvider\nM.A.Mvc.Internal.DefaultActionConstraintProvider\n\n\nType\nTransient\nM.A.Mvc.ApiExplorer.IApiDescriptionProvider\nM.A.Mvc.ApiExplorer.DefaultApiDescriptionProvider\n\n\nType\nTransient\nM.A.Mvc.ApplicationModels.IApplicationModelProvider\nM.A.Mvc.Cors.Internal.CorsApplicationModelProvider\n\n\nType\nTransient\nM.A.Mvc.ApplicationModels.IApplicationModelProvider\nM.A.Mvc.Internal.AuthorizationApplicationModelProvider\n\n\nType\nTransient\nM.A.Mvc.ApplicationModels.IApplicationModelProvider\nM.A.Mvc.Internal.DefaultApplicationModelProvider\n\n\nType\nTransient\nM.A.Mvc.Controllers.IControllerActivator\nM.A.Mvc.Controllers.DefaultControllerActivator\n\n\nType\nTransient\nM.A.Mvc.Cors.CorsAuthorizationFilter\n-\n\n\nType\nTransient\nM.A.Mvc.Internal.IControllerPropertyActivator\nM.A.Mvc.Internal.DefaultControllerPropertyActivator\n\n\nType\nTransient\nM.A.Mvc.Internal.IControllerPropertyActivator\nM.A.Mvc.ViewFeatures.ViewDataDictionaryControllerPropertyActivator\n\n\nType\nTransient\nM.A.Mvc.Internal.MvcAttributeRouteHandler\n-\n\n\nType\nTransient\nM.A.Mvc.IViewComponentHelper\nM.A.Mvc.ViewComponents.DefaultViewComponentHelper\n\n\nType\nTransient\nM.A.Mvc.Razor.Compilation.IRazorCompilationService\nM.A.Mvc.Razor.Internal.RazorCompilationService\n\n\nType\nTransient\nM.A.Mvc.Razor.IMvcRazorHost\nM.A.Mvc.Razor.MvcRazorHost\n\n\nType\nTransient\nM.A.Mvc.Razor.IRazorPageFactoryProvider\nM.A.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider\n\n\nType\nTransient\nM.A.Mvc.Rendering.IHtmlHelper\nM.A.Mvc.ViewFeatures.HtmlHelper\n\n\nType\nTransient\nM.A.Mvc.Rendering.IHtmlHelper`1[TModel]\nM.A.Mvc.ViewFeatures.HtmlHelper`1[TModel]\n\n\nType\nTransient\nM.A.Mvc.TagHelpers.Cache.IDistributedCacheTagHelperFormatter\nM.A.Mvc.TagHelpers.Cache.DistributedCacheTagHelperFormatter\n\n\nType\nTransient\nM.A.Mvc.TagHelpers.Cache.IDistributedCacheTagHelperStorage\nM.A.Mvc.TagHelpers.Cache.DistributedCacheTagHelperStorage\n\n\nType\nTransient\nM.A.Mvc.ViewComponents.IViewComponentDescriptorProvider\nM.A.Mvc.ViewComponents.DefaultViewComponentDescriptorProvider\n\n\nType\nTransient\nM.A.Routing.IInlineConstraintResolver\nM.A.Routing.DefaultInlineConstraintResolver\n\n\nType\nTransient\nM.A.Routing.Tree.TreeRouteBuilder\n-\n\n\nType\nTransient\nM.E.DependencyInjection.IServiceProviderFactory`1[M.E.DependencyInjection.IServiceCollection]\nM.E.DependencyInjection.DefaultServiceProviderFactory\n\n\nType\nTransient\nM.E.Options.IConfigureOptions`1[M.A.Antiforgery.AntiforgeryOptions]\nM.A.Antiforgery.Internal.AntiforgeryOptionsSetup\n\n\nType\nTransient\nM.E.Options.IConfigureOptions`1[M.A.Mvc.MvcOptions]\nM.A.Mvc.DataAnnotations.Internal.MvcDataAnnotationsMvcOptionsSetup\n\n\nType\nTransient\nM.E.Options.IConfigureOptions`1[M.A.Mvc.MvcOptions]\nM.A.Mvc.Formatters.Json.Internal.MvcJsonMvcOptionsSetup\n\n\nType\nTransient\nM.E.Options.IConfigureOptions`1[M.A.Mvc.MvcOptions]\nM.A.Mvc.Internal.MvcCoreMvcOptionsSetup\n\n\nType\nTransient\nM.E.Options.IConfigureOptions`1[M.A.Mvc.MvcOptions]\nM.A.Mvc.ViewFeatures.Internal.TempDataMvcOptionsSetup\n\n\nType\nTransient\nM.E.Options.IConfigureOptions`1[M.A.Mvc.MvcViewOptions]\nM.A.Mvc.Razor.Internal.MvcRazorMvcViewOptionsSetup\n\n\nType\nTransient\nM.E.Options.IConfigureOptions`1[M.A.Mvc.MvcViewOptions]\nM.A.Mvc.ViewFeatures.Internal.MvcViewOptionsSetup\n\n\nType\nTransient\nM.E.Options.IConfigureOptions`1[M.A.Mvc.Razor.RazorViewEngineOptions]\nM.A.Mvc.Razor.Internal.DependencyContextRazorViewEngineOptionsSetup\n\n\nType\nTransient\nM.E.Options.IConfigureOptions`1[M.A.Mvc.Razor.RazorViewEngineOptions]\nM.A.Mvc.RazorViewEngineOptionsSetup\n\n\nType\nTransient\nM.E.Options.IConfigureOptions`1[M.A.Routing.RouteOptions]\nM.A.Mvc.Internal.MvcCoreRouteOptionsSetup\n\n\nType\nTransient\nM.E.Options.IConfigureOptions`1[M.A.Server.Kestrel.KestrelServerOptions]\nM.A.Server.Kestrel.Internal.KestrelServerOptionsSetup\n\n\n\n\u9806\u5e8f\u306b\u3064\u3044\u3066\u306f\u30bd\u30fc\u30c8\u6e08\u307f\u3067\u3001\u540d\u524d\u7a7a\u9593\u306f\u4e00\u90e8\u7565\u8a18\u306b\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\u540d\u524d\u7a7a\u9593\u306e\u7565\u8a18\u306f\u3001\u300cM.A\u300d\u304c\u300cMicrosoft.AspNetCore\u300d\u3001\u300cM.E\u300d\u304c\u300cMicrosoft.Extensions\u300d\u3001\u300cS\u300d\u304c\u300cSystem\u300d\u306e\u7565\u306b\u306a\u308a\u307e\u3059\u3002\n\u4e00\u90e8\u3001\u540c\u4e00\u306e\u60c5\u5831\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u308c\u306fAddXxx()\u30e1\u30bd\u30c3\u30c9\u5185\u306a\u3069\u306b\u304a\u3044\u3066\u3001\u305d\u308c\u305e\u308c\u306e\u51e6\u7406\u304c\u5fc5\u8981\u3068\u3059\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u60c5\u5831\u304c\u500b\u5225\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002\nASP.NET Core\u3067\u306f\u540c\u4e00\u306e\u767b\u9332\u60c5\u5831\u304c\u8907\u6570\u4ef6\u3042\u3063\u305f\u5834\u5408\u3001\u305d\u306e\u3046\u3061\u306e1\u4ef6\u306e\u60c5\u5831\u3092\u5143\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u89e3\u6c7a\u304c\u884c\u308f\u308c\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u6a19\u6e96\u306eIServiceProvider(Microsoft.Extensions.DependencyInjection)\u3067\u306f\u6700\u5f8c\u306b\u767b\u9332\u3055\u308c\u305f\u60c5\u5831\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n\n\u3046\u3055\u30b3\u30e1\n\u8272\u3005\u306aAddXxx()\u3092\u3057\u305f\u72b6\u614b\u3067\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3068\u9762\u767d\u3044\u304b\u3082(\u30fb\u03c9\u30fb)\n# \u3084\u308b\u3053\u3068\n\nASP.NET Core Web Application\u3067\u3001IServiceProvider(DI\u30b3\u30f3\u30c6\u30ca)\u306b\u767b\u9332\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u60c5\u5831\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n\n# \u74b0\u5883\n\n* Visual Strudio 2015\n* ASP.NET Core Web Application (.NET Core)\u3092\u300c\u8a8d\u8a3c\u306a\u3057\u300d\u3067\u4f5c\u6210\u3057\u30011.1\u5316\u3057\u305f\u72b6\u614b\n\n# \u624b\u9806\n\nStartup\u30af\u30e9\u30b9\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306aShowComponents()\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u3001ConfigureServices()\u306e\u6700\u5f8c\u3067\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\n```c#\npublic void ConfigureServices(IServiceCollection services)\n{\n    // Add framework services.\n    services.AddMvc();\n\n    ShowComponents(services);\n}\n\nprivate static void ShowComponents(IServiceCollection services)\n{\n    foreach (var service in services)\n    {\n        if (service.ImplementationType != null)\n        {\n            Debug.WriteLine(\n                \"Type\\t{0}\\t{1}\\t{2}\",\n                service.Lifetime,\n                service.ServiceType,\n                service.ServiceType == service.ImplementationType ? \"-\" : service.ImplementationType.ToString());\n        }\n        else if (service.ImplementationFactory != null)\n        {\n            Debug.WriteLine(\n                \"Factory\\t{0}\\t{1}\",\n                service.Lifetime,\n                service.ServiceType);\n        }\n        else\n        {\n            Debug.WriteLine(\n                \"Constant\\t{0}\\t{1}\\t{2}\",\n                service.Lifetime,\n                service.ServiceType,\n                service.ImplementationInstance.GetType());\n        }\n    }\n}\n```\n\n\u4e0a\u8a18\u306b\u3088\u308a\u3001IServiceProvider\u306b\u767b\u9332\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u60c5\u5831\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\u767b\u9332\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u89e3\u6c7a\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e3\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002\n\n| \u7a2e\u5225 | \u6982\u8981 |\n| :-- | :-- |\n| Type         | ImplementationType\u306eType\u3092\u5143\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210 |\n| Factory      | ImplementationFactory(Func<IServiceProvider, object>)\u306b\u3088\u308b\u751f\u6210 |\n| Constant     | ImplementationInstance\u3078\u306e\u53c2\u7167                                  |\n\n\u307e\u305f\u3001\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e\u4e09\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002\n\n| \u7a2e\u5225 | \u6982\u8981 |\n| :-- | :-- |\n| Singleton    | \u5358\u4e00\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u8fd4\u3055\u308c\u308b                 |\n| Transient    | \u8981\u6c42\u6bce\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u751f\u6210\u3055\u308c\u308b             |\n| Scoped       | \u540c\u4e00\u30ea\u30af\u30a8\u30b9\u30c8\u4e2d\u306f\u540c\u3058\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u8fd4\u3055\u308c\u308b |\n\n# \u51fa\u529b\u7d50\u679c\n\nAddMvc()\u3057\u305f\u3060\u3051\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306e\u51fa\u529b\u7d50\u679c\u3092\u4ee5\u4e0b\u306b\u8f09\u305b\u3066\u304a\u304d\u307e\u3059\u3002\n\n| \u7a2e\u5225 | \u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb | \u30ad\u30fc\u3068\u306a\u308b\u578b | \u89e3\u6c7a\u3055\u308c\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u578b |\n| :-- | :-- | :-- | :-- |\n| Constant | Singleton | M.A.Hosting.IApplicationLifetime | M.A.Hosting.Internal.ApplicationLifetime |\n| Constant | Singleton | M.A.Hosting.IHostingEnvironment | M.A.Hosting.Internal.HostingEnvironment |\n| Constant | Singleton | M.A.Hosting.IStartupFilter | M.A.Server.IISIntegration.IISSetupFilter |\n| Constant | Singleton | M.A.Mvc.ApplicationParts.ApplicationPartManager | M.A.Mvc.ApplicationParts.ApplicationPartManager |\n| Constant | Singleton | M.E.Logging.ILoggerFactory | M.E.Logging.LoggerFactory |\n| Constant | Singleton | M.E.Options.IConfigureOptions`1[M.A.Builder.ForwardedHeadersOptions] | M.E.Options.ConfigureOptions`1[M.A.Builder.ForwardedHeadersOptions] |\n| Constant | Singleton | S.Buffers.ArrayPool`1[M.A.Mvc.ViewFeatures.Internal.ViewBufferValue] | S.Buffers.DefaultArrayPool`1[M.A.Mvc.ViewFeatures.Internal.ViewBufferValue] |\n| Constant | Singleton | S.Buffers.ArrayPool`1[S.Byte] | S.Buffers.DefaultArrayPool`1[S.Byte] |\n| Constant | Singleton | S.Buffers.ArrayPool`1[S.Char] | S.Buffers.DefaultArrayPool`1[S.Char] |\n| Constant | Singleton | S.Diagnostics.DiagnosticListener | S.Diagnostics.DiagnosticListener |\n| Constant | Singleton | S.Diagnostics.DiagnosticSource | S.Diagnostics.DiagnosticListener |\n| Constant | Singleton | S.Text.Encodings.Web.UrlEncoder | S.Text.Encodings.Web.DefaultUrlEncoder |\n| Factory | Singleton | M.A.DataProtection.AuthenticatedEncryption.ConfigurationModel.IAuthenticatedEncryptorConfiguration |  |\n| Factory | Singleton | M.A.DataProtection.IDataProtectionProvider |  |\n| Factory | Singleton | M.A.DataProtection.KeyManagement.IKeyManager |  |\n| Factory | Singleton | M.A.DataProtection.KeyManagement.Internal.IDefaultKeyServices |  |\n| Factory | Singleton | M.A.Hosting.IStartup |  |\n| Factory | Singleton | M.A.Mvc.Formatters.JsonOutputFormatter |  |\n| Factory | Singleton | M.A.Mvc.ModelBinding.Validation.IObjectModelValidator |  |\n| Factory | Singleton | M.A.Mvc.Razor.Directives.IChunkTreeCache |  |\n| Factory | Singleton | M.A.Razor.Runtime.TagHelpers.ITagHelperDescriptorFactory |  |\n| Factory | Singleton | M.E.ObjectPool.ObjectPool`1[M.A.Antiforgery.Internal.AntiforgerySerializationContext] |  |\n| Factory | Singleton | M.E.ObjectPool.ObjectPool`1[M.A.Routing.Internal.UriBuildingContext] |  |\n| Factory | Singleton | S.Text.Encodings.Web.HtmlEncoder |  |\n| Factory | Singleton | S.Text.Encodings.Web.JavaScriptEncoder |  |\n| Factory | Transient | M.A.Mvc.ModelBinding.Metadata.ICompositeMetadataDetailsProvider |  |\n| Factory | Transient | M.E.Options.IConfigureOptions`1[M.A.DataProtection.DataProtectionOptions] |  |\n| Type | Scoped | M.A.Mvc.ViewFeatures.Internal.IViewBufferScope | M.A.Mvc.ViewFeatures.Internal.MemoryPoolViewBufferScope |\n| Type | Scoped | M.E.Options.IOptionsSnapshot`1[TOptions] | M.E.Options.OptionsSnapshot`1[TOptions] |\n| Type | Singleton | M.A.Antiforgery.IAntiforgery | M.A.Antiforgery.Internal.DefaultAntiforgery |\n| Type | Singleton | M.A.Antiforgery.IAntiforgeryAdditionalDataProvider | M.A.Antiforgery.Internal.DefaultAntiforgeryAdditionalDataProvider |\n| Type | Singleton | M.A.Antiforgery.Internal.IAntiforgeryTokenGenerator | M.A.Antiforgery.Internal.DefaultAntiforgeryTokenGenerator |\n| Type | Singleton | M.A.Antiforgery.Internal.IAntiforgeryTokenSerializer | M.A.Antiforgery.Internal.DefaultAntiforgeryTokenSerializer |\n| Type | Singleton | M.A.Antiforgery.Internal.IAntiforgeryTokenStore | M.A.Antiforgery.Internal.DefaultAntiforgeryTokenStore |\n| Type | Singleton | M.A.Antiforgery.Internal.IClaimUidExtractor | M.A.Antiforgery.Internal.DefaultClaimUidExtractor |\n| Type | Singleton | M.A.DataProtection.Internal.IActivator | M.A.DataProtection.RC1ForwardingActivator |\n| Type | Singleton | M.A.DataProtection.Internal.IActivator | M.A.DataProtection.RC1ForwardingActivator |\n| Type | Singleton | M.A.DataProtection.Internal.IActivator | M.A.DataProtection.RC1ForwardingActivator |\n| Type | Singleton | M.A.DataProtection.Internal.IActivator | M.A.DataProtection.RC1ForwardingActivator |\n| Type | Singleton | M.A.Hosting.Server.IServer | M.A.Server.Kestrel.KestrelServer |\n| Type | Singleton | M.A.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider | M.A.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider |\n| Type | Singleton | M.A.Mvc.Controllers.IControllerFactory | M.A.Mvc.Controllers.DefaultControllerFactory |\n| Type | Singleton | M.A.Mvc.DataAnnotations.IValidationAttributeAdapterProvider | M.A.Mvc.DataAnnotations.Internal.ValidationAttributeAdapterProvider |\n| Type | Singleton | M.A.Mvc.Filters.IFilterProvider | M.A.Mvc.Internal.DefaultFilterProvider |\n| Type | Singleton | M.A.Mvc.Formatters.FormatFilter | - |\n| Type | Singleton | M.A.Mvc.Formatters.Json.Internal.JsonResultExecutor | - |\n| Type | Singleton | M.A.Mvc.Infrastructure.IActionDescriptorCollectionProvider | M.A.Mvc.Internal.ActionDescriptorCollectionProvider |\n| Type | Singleton | M.A.Mvc.Infrastructure.IActionInvokerFactory | M.A.Mvc.Internal.ActionInvokerFactory |\n| Type | Singleton | M.A.Mvc.Infrastructure.IActionSelector | M.A.Mvc.Internal.ActionSelector |\n| Type | Singleton | M.A.Mvc.Internal.ActionConstraintCache | - |\n| Type | Singleton | M.A.Mvc.Internal.ClientValidatorCache | - |\n| Type | Singleton | M.A.Mvc.Internal.ContentResultExecutor | - |\n| Type | Singleton | M.A.Mvc.Internal.ControllerActionInvokerCache | - |\n| Type | Singleton | M.A.Mvc.Internal.FileContentResultExecutor | - |\n| Type | Singleton | M.A.Mvc.Internal.FileStreamResultExecutor | - |\n| Type | Singleton | M.A.Mvc.Internal.IActionSelectorDecisionTreeProvider | M.A.Mvc.Internal.ActionSelectorDecisionTreeProvider |\n| Type | Singleton | M.A.Mvc.Internal.IControllerArgumentBinder | M.A.Mvc.Internal.DefaultControllerArgumentBinder |\n| Type | Singleton | M.A.Mvc.Internal.IHttpRequestStreamReaderFactory | M.A.Mvc.Internal.MemoryPoolHttpRequestStreamReaderFactory |\n| Type | Singleton | M.A.Mvc.Internal.IHttpResponseStreamWriterFactory | M.A.Mvc.Internal.MemoryPoolHttpResponseStreamWriterFactory |\n| Type | Singleton | M.A.Mvc.Internal.ITypeActivatorCache | M.A.Mvc.Internal.TypeActivatorCache |\n| Type | Singleton | M.A.Mvc.Internal.LocalRedirectResultExecutor | - |\n| Type | Singleton | M.A.Mvc.Internal.MiddlewareFilterBuilder | - |\n| Type | Singleton | M.A.Mvc.Internal.MiddlewareFilterConfigurationProvider | - |\n| Type | Singleton | M.A.Mvc.Internal.MvcMarkerService | - |\n| Type | Singleton | M.A.Mvc.Internal.MvcRouteHandler | - |\n| Type | Singleton | M.A.Mvc.Internal.ObjectResultExecutor | - |\n| Type | Singleton | M.A.Mvc.Internal.PhysicalFileResultExecutor | - |\n| Type | Singleton | M.A.Mvc.Internal.RedirectResultExecutor | - |\n| Type | Singleton | M.A.Mvc.Internal.RedirectToActionResultExecutor | - |\n| Type | Singleton | M.A.Mvc.Internal.RedirectToRouteResultExecutor | - |\n| Type | Singleton | M.A.Mvc.Internal.VirtualFileResultExecutor | - |\n| Type | Singleton | M.A.Mvc.ModelBinding.IModelBinderFactory | M.A.Mvc.ModelBinding.ModelBinderFactory |\n| Type | Singleton | M.A.Mvc.ModelBinding.IModelMetadataProvider | M.A.Mvc.ModelBinding.Metadata.DefaultModelMetadataProvider |\n| Type | Singleton | M.A.Mvc.Razor.Compilation.ICompilationService | M.A.Mvc.Razor.Internal.DefaultRoslynCompilationService |\n| Type | Singleton | M.A.Mvc.Razor.Internal.CSharpCompiler | - |\n| Type | Singleton | M.A.Mvc.Razor.Internal.ICompilerCacheProvider | M.A.Mvc.Razor.Internal.DefaultCompilerCacheProvider |\n| Type | Singleton | M.A.Mvc.Razor.Internal.IRazorViewEngineFileProviderAccessor | M.A.Mvc.Razor.Internal.DefaultRazorViewEngineFileProviderAccessor |\n| Type | Singleton | M.A.Mvc.Razor.Internal.RazorReferenceManager | - |\n| Type | Singleton | M.A.Mvc.Razor.Internal.ViewComponentTagHelperDescriptorResolver | - |\n| Type | Singleton | M.A.Mvc.Razor.IRazorPageActivator | M.A.Mvc.Razor.RazorPageActivator |\n| Type | Singleton | M.A.Mvc.Razor.IRazorViewEngine | M.A.Mvc.Razor.RazorViewEngine |\n| Type | Singleton | M.A.Mvc.Razor.ITagHelperActivator | M.A.Mvc.Razor.Internal.DefaultTagHelperActivator |\n| Type | Singleton | M.A.Mvc.Razor.ITagHelperFactory | M.A.Mvc.Razor.Internal.DefaultTagHelperFactory |\n| Type | Singleton | M.A.Mvc.Rendering.IJsonHelper | M.A.Mvc.ViewFeatures.JsonHelper |\n| Type | Singleton | M.A.Mvc.Routing.IUrlHelperFactory | M.A.Mvc.Routing.UrlHelperFactory |\n| Type | Singleton | M.A.Mvc.TagHelpers.Cache.IDistributedCacheTagHelperService | M.A.Mvc.TagHelpers.Cache.DistributedCacheTagHelperService |\n| Type | Singleton | M.A.Mvc.ViewComponents.IViewComponentActivator | M.A.Mvc.ViewComponents.DefaultViewComponentActivator |\n| Type | Singleton | M.A.Mvc.ViewComponents.IViewComponentDescriptorCollectionProvider | M.A.Mvc.ViewComponents.DefaultViewComponentDescriptorCollectionProvider |\n| Type | Singleton | M.A.Mvc.ViewComponents.IViewComponentFactory | M.A.Mvc.ViewComponents.DefaultViewComponentFactory |\n| Type | Singleton | M.A.Mvc.ViewComponents.IViewComponentInvokerFactory | M.A.Mvc.ViewComponents.DefaultViewComponentInvokerFactory |\n| Type | Singleton | M.A.Mvc.ViewComponents.IViewComponentSelector | M.A.Mvc.ViewComponents.DefaultViewComponentSelector |\n| Type | Singleton | M.A.Mvc.ViewEngines.ICompositeViewEngine | M.A.Mvc.ViewEngines.CompositeViewEngine |\n| Type | Singleton | M.A.Mvc.ViewFeatures.IHtmlGenerator | M.A.Mvc.ViewFeatures.DefaultHtmlGenerator |\n| Type | Singleton | M.A.Mvc.ViewFeatures.IModelExpressionProvider | M.A.Mvc.ViewFeatures.ModelExpressionProvider |\n| Type | Singleton | M.A.Mvc.ViewFeatures.Internal.AutoValidateAntiforgeryTokenAuthorizationFilter | - |\n| Type | Singleton | M.A.Mvc.ViewFeatures.Internal.ExpressionTextCache | - |\n| Type | Singleton | M.A.Mvc.ViewFeatures.Internal.PartialViewResultExecutor | - |\n| Type | Singleton | M.A.Mvc.ViewFeatures.Internal.SaveTempDataFilter | - |\n| Type | Singleton | M.A.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter | - |\n| Type | Singleton | M.A.Mvc.ViewFeatures.Internal.ViewComponentInvokerCache | - |\n| Type | Singleton | M.A.Mvc.ViewFeatures.Internal.ViewComponentResultExecutor | - |\n| Type | Singleton | M.A.Mvc.ViewFeatures.Internal.ViewResultExecutor | - |\n| Type | Singleton | M.A.Mvc.ViewFeatures.ITempDataDictionaryFactory | M.A.Mvc.ViewFeatures.TempDataDictionaryFactory |\n| Type | Singleton | M.A.Mvc.ViewFeatures.ITempDataProvider | M.A.Mvc.ViewFeatures.SessionStateTempDataProvider |\n| Type | Singleton | M.A.Mvc.ViewFeatures.ValidationHtmlAttributeProvider | M.A.Mvc.ViewFeatures.DefaultValidationHtmlAttributeProvider |\n| Type | Singleton | M.A.Razor.Compilation.TagHelpers.ITagHelperDescriptorResolver | M.A.Mvc.Razor.Internal.CompositeTagHelperDescriptorResolver |\n| Type | Singleton | M.A.Razor.Runtime.TagHelpers.ITagHelperTypeResolver | M.A.Razor.Runtime.TagHelpers.TagHelperTypeResolver |\n| Type | Singleton | M.A.Razor.Runtime.TagHelpers.TagHelperDescriptorResolver | - |\n| Type | Singleton | M.A.Routing.Internal.RoutingMarkerService | - |\n| Type | Singleton | M.E.Caching.Distributed.IDistributedCache | M.E.Caching.Distributed.MemoryDistributedCache |\n| Type | Singleton | M.E.Caching.Memory.IMemoryCache | M.E.Caching.Memory.MemoryCache |\n| Type | Singleton | M.E.Logging.ILogger`1[TCategoryName] | M.E.Logging.Logger`1[T] |\n| Type | Singleton | M.E.ObjectPool.ObjectPoolProvider | M.E.ObjectPool.DefaultObjectPoolProvider |\n| Type | Singleton | M.E.Options.IOptions`1[TOptions] | M.E.Options.OptionsManager`1[TOptions] |\n| Type | Singleton | M.E.Options.IOptionsMonitor`1[TOptions] | M.E.Options.OptionsMonitor`1[TOptions] |\n| Type | Transient | M.A.Authorization.IAuthorizationEvaluator | M.A.Authorization.DefaultAuthorizationEvaluator |\n| Type | Transient | M.A.Authorization.IAuthorizationHandler | M.A.Authorization.Infrastructure.PassThroughAuthorizationHandler |\n| Type | Transient | M.A.Authorization.IAuthorizationHandlerContextFactory | M.A.Authorization.DefaultAuthorizationHandlerContextFactory |\n| Type | Transient | M.A.Authorization.IAuthorizationPolicyProvider | M.A.Authorization.DefaultAuthorizationPolicyProvider |\n| Type | Transient | M.A.Authorization.IAuthorizationService | M.A.Authorization.DefaultAuthorizationService |\n| Type | Transient | M.A.Cors.Infrastructure.ICorsPolicyProvider | M.A.Cors.Infrastructure.DefaultCorsPolicyProvider |\n| Type | Transient | M.A.Cors.Infrastructure.ICorsService | M.A.Cors.Infrastructure.CorsService |\n| Type | Transient | M.A.Hosting.Builder.IApplicationBuilderFactory | M.A.Hosting.Builder.ApplicationBuilderFactory |\n| Type | Transient | M.A.Hosting.IStartupFilter | M.A.Hosting.Internal.AutoRequestServicesStartupFilter |\n| Type | Transient | M.A.Http.IHttpContextFactory | M.A.Http.HttpContextFactory |\n| Type | Transient | M.A.Mvc.Abstractions.IActionDescriptorProvider | M.A.Mvc.Internal.ControllerActionDescriptorProvider |\n| Type | Transient | M.A.Mvc.Abstractions.IActionInvokerProvider | M.A.Mvc.Internal.ControllerActionInvokerProvider |\n| Type | Transient | M.A.Mvc.ActionConstraints.IActionConstraintProvider | M.A.Mvc.Internal.DefaultActionConstraintProvider |\n| Type | Transient | M.A.Mvc.ApiExplorer.IApiDescriptionProvider | M.A.Mvc.ApiExplorer.DefaultApiDescriptionProvider |\n| Type | Transient | M.A.Mvc.ApplicationModels.IApplicationModelProvider | M.A.Mvc.Cors.Internal.CorsApplicationModelProvider |\n| Type | Transient | M.A.Mvc.ApplicationModels.IApplicationModelProvider | M.A.Mvc.Internal.AuthorizationApplicationModelProvider |\n| Type | Transient | M.A.Mvc.ApplicationModels.IApplicationModelProvider | M.A.Mvc.Internal.DefaultApplicationModelProvider |\n| Type | Transient | M.A.Mvc.Controllers.IControllerActivator | M.A.Mvc.Controllers.DefaultControllerActivator |\n| Type | Transient | M.A.Mvc.Cors.CorsAuthorizationFilter | - |\n| Type | Transient | M.A.Mvc.Internal.IControllerPropertyActivator | M.A.Mvc.Internal.DefaultControllerPropertyActivator |\n| Type | Transient | M.A.Mvc.Internal.IControllerPropertyActivator | M.A.Mvc.ViewFeatures.ViewDataDictionaryControllerPropertyActivator |\n| Type | Transient | M.A.Mvc.Internal.MvcAttributeRouteHandler | - |\n| Type | Transient | M.A.Mvc.IViewComponentHelper | M.A.Mvc.ViewComponents.DefaultViewComponentHelper |\n| Type | Transient | M.A.Mvc.Razor.Compilation.IRazorCompilationService | M.A.Mvc.Razor.Internal.RazorCompilationService |\n| Type | Transient | M.A.Mvc.Razor.IMvcRazorHost | M.A.Mvc.Razor.MvcRazorHost |\n| Type | Transient | M.A.Mvc.Razor.IRazorPageFactoryProvider | M.A.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider |\n| Type | Transient | M.A.Mvc.Rendering.IHtmlHelper | M.A.Mvc.ViewFeatures.HtmlHelper |\n| Type | Transient | M.A.Mvc.Rendering.IHtmlHelper`1[TModel] | M.A.Mvc.ViewFeatures.HtmlHelper`1[TModel] |\n| Type | Transient | M.A.Mvc.TagHelpers.Cache.IDistributedCacheTagHelperFormatter | M.A.Mvc.TagHelpers.Cache.DistributedCacheTagHelperFormatter |\n| Type | Transient | M.A.Mvc.TagHelpers.Cache.IDistributedCacheTagHelperStorage | M.A.Mvc.TagHelpers.Cache.DistributedCacheTagHelperStorage |\n| Type | Transient | M.A.Mvc.ViewComponents.IViewComponentDescriptorProvider | M.A.Mvc.ViewComponents.DefaultViewComponentDescriptorProvider |\n| Type | Transient | M.A.Routing.IInlineConstraintResolver | M.A.Routing.DefaultInlineConstraintResolver |\n| Type | Transient | M.A.Routing.Tree.TreeRouteBuilder | - |\n| Type | Transient | M.E.DependencyInjection.IServiceProviderFactory`1[M.E.DependencyInjection.IServiceCollection] | M.E.DependencyInjection.DefaultServiceProviderFactory |\n| Type | Transient | M.E.Options.IConfigureOptions`1[M.A.Antiforgery.AntiforgeryOptions] | M.A.Antiforgery.Internal.AntiforgeryOptionsSetup |\n| Type | Transient | M.E.Options.IConfigureOptions`1[M.A.Mvc.MvcOptions] | M.A.Mvc.DataAnnotations.Internal.MvcDataAnnotationsMvcOptionsSetup |\n| Type | Transient | M.E.Options.IConfigureOptions`1[M.A.Mvc.MvcOptions] | M.A.Mvc.Formatters.Json.Internal.MvcJsonMvcOptionsSetup |\n| Type | Transient | M.E.Options.IConfigureOptions`1[M.A.Mvc.MvcOptions] | M.A.Mvc.Internal.MvcCoreMvcOptionsSetup |\n| Type | Transient | M.E.Options.IConfigureOptions`1[M.A.Mvc.MvcOptions] | M.A.Mvc.ViewFeatures.Internal.TempDataMvcOptionsSetup |\n| Type | Transient | M.E.Options.IConfigureOptions`1[M.A.Mvc.MvcViewOptions] | M.A.Mvc.Razor.Internal.MvcRazorMvcViewOptionsSetup |\n| Type | Transient | M.E.Options.IConfigureOptions`1[M.A.Mvc.MvcViewOptions] | M.A.Mvc.ViewFeatures.Internal.MvcViewOptionsSetup |\n| Type | Transient | M.E.Options.IConfigureOptions`1[M.A.Mvc.Razor.RazorViewEngineOptions] | M.A.Mvc.Razor.Internal.DependencyContextRazorViewEngineOptionsSetup |\n| Type | Transient | M.E.Options.IConfigureOptions`1[M.A.Mvc.Razor.RazorViewEngineOptions] | M.A.Mvc.RazorViewEngineOptionsSetup |\n| Type | Transient | M.E.Options.IConfigureOptions`1[M.A.Routing.RouteOptions] | M.A.Mvc.Internal.MvcCoreRouteOptionsSetup |\n| Type | Transient | M.E.Options.IConfigureOptions`1[M.A.Server.Kestrel.KestrelServerOptions] | M.A.Server.Kestrel.Internal.KestrelServerOptionsSetup |\n\n\u9806\u5e8f\u306b\u3064\u3044\u3066\u306f\u30bd\u30fc\u30c8\u6e08\u307f\u3067\u3001\u540d\u524d\u7a7a\u9593\u306f\u4e00\u90e8\u7565\u8a18\u306b\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\n\u540d\u524d\u7a7a\u9593\u306e\u7565\u8a18\u306f\u3001\u300cM.A\u300d\u304c\u300cMicrosoft.AspNetCore\u300d\u3001\u300cM.E\u300d\u304c\u300cMicrosoft.Extensions\u300d\u3001\u300cS\u300d\u304c\u300cSystem\u300d\u306e\u7565\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u4e00\u90e8\u3001\u540c\u4e00\u306e\u60c5\u5831\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u308c\u306fAddXxx()\u30e1\u30bd\u30c3\u30c9\u5185\u306a\u3069\u306b\u304a\u3044\u3066\u3001\u305d\u308c\u305e\u308c\u306e\u51e6\u7406\u304c\u5fc5\u8981\u3068\u3059\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u60c5\u5831\u304c\u500b\u5225\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002\n\nASP.NET Core\u3067\u306f\u540c\u4e00\u306e\u767b\u9332\u60c5\u5831\u304c\u8907\u6570\u4ef6\u3042\u3063\u305f\u5834\u5408\u3001\u305d\u306e\u3046\u3061\u306e1\u4ef6\u306e\u60c5\u5831\u3092\u5143\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u89e3\u6c7a\u304c\u884c\u308f\u308c\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u6a19\u6e96\u306eIServiceProvider(Microsoft.Extensions.DependencyInjection)\u3067\u306f\u6700\u5f8c\u306b\u767b\u9332\u3055\u308c\u305f\u60c5\u5831\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n\n# \u3046\u3055\u30b3\u30e1\n\n\u8272\u3005\u306aAddXxx()\u3092\u3057\u305f\u72b6\u614b\u3067\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3068\u9762\u767d\u3044\u304b\u3082(\u30fb\u03c9\u30fb)\n", "tags": ["C#", ".NET", "DependencyInjection", ".NETCore", "ASP.NET_Core"]}