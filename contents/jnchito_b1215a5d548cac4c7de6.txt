{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u672c\u8a18\u4e8b\u306f\u548c\u7530\u5353\u4eba\u3055\u3093(@t_wada)\u304c\u66f8\u304b\u308c\u305f\u6709\u540d\u306aRSpec\u5165\u9580\u8a18\u4e8b\u3001\u300cRSpec \u306e\u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078\u3001\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u300d\u3092RSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u3057\u3066\u66f8\u304d\u76f4\u3057\u305f\u3082\u306e\u3067\u3059\u3002\n\u8a73\u3057\u304f\u306f\u7b2c1\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u66f8\u3044\u305f\u8aac\u660e\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u5404\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3(RSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3)\u3078\u306e\u30ea\u30f3\u30af\n\n\u7b2c1\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\n\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\n\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3(\u672c\u8a18\u4e8b)\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306eURL\n\nhttps://github.com/JunichiIto/rspec3-for-beginners/tree/3rd\n\n\n\u672c\u8a18\u4e8b\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u3064\u3044\u3066\n\u672c\u8a18\u4e8b\u306f \u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6\u30fb\u30b3\u30e2\u30f3\u30ba \u8868\u793a - \u7d99\u627f 4.0 \u56fd\u969b \u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\u5099\u8003\n\n\u672c\u6587\u3084\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f\u6975\u529b\u30aa\u30ea\u30b8\u30ca\u30eb\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8e0f\u8972\u3057\u307e\u3059\u3002\n\u8a18\u8ff0\u304c\u53e4\u304f\u306a\u3063\u3066\u3044\u308b\u7b87\u6240\u306f\u65b0\u3057\u3044\u8a18\u8ff0\u65b9\u6cd5\u306b\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\n\u65b0\u3057\u3044\u8a18\u8ff0\u65b9\u6cd5\u3084\u548c\u7530\u3055\u3093\u306e\u30aa\u30ea\u30b8\u30ca\u30eb\u8a18\u4e8b\u306b\u66f8\u304b\u308c\u3066\u3044\u306a\u3044\u60c5\u5831\u306b\u306f \u3010\u6ce8\u76ee\uff01\u3011 \u306e\u5370\u3092\u4ed8\u3051\u3066\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u7b2c1\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3001\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3067\u306b\u8aac\u660e\u3057\u305f \u3010\u6ce8\u76ee\uff01\u3011 \u60c5\u5831(should\u304cexpect(...).to\u306b\u5909\u308f\u3063\u305f\u70b9\u7b49)\u306f\u672c\u8a18\u4e8b\u3067\u306f\u8aac\u660e\u3057\u307e\u305b\u3093\u3002\n\n\n\u524d\u56de\u7d42\u4e86\u6642\u70b9\u306e\u30b3\u30fc\u30c9\u3068\u5b9f\u884c\u7d50\u679c\n\u3053\u306e\u300cRSpec \u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078\u300d\u30b7\u30ea\u30fc\u30ba\u3067\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30a3\u30eb\u30bf\u3092 RSpec \u3092\u4f7f\u3063\u3066\u958b\u767a\u3059\u308b\u3053\u3068\u3067\u3001 RSpec \u306e\u6a5f\u80fd\u3068 TDD \u3092\u540c\u6642\u306b\u5b66\u3076\u3053\u3068\u3092\u72d9\u3044\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\u524d\u56de\u7d42\u4e86\u6642\u70b9\u306e\u30b3\u30fc\u30c9\u3068\u5b9f\u884c\u7d50\u679c\u3092\u307e\u305a\u8a18\u3057\u307e\u3059\u3002\nmessage_filter.rb\nclass MessageFilter\n  def initialize(*words)\n    @words = words\n  end\n  def detect?(text)\n    @words.any?{|w| text.include?(w) }\n  end\nend\n\nmessage_filter_spec.rb\nrequire_relative 'message_filter'\n\ndescribe MessageFilter do\n  shared_examples 'MessageFilter with argument \"foo\"' do\n    it { is_expected.to be_detect('hello from foo') }\n    it { is_expected.not_to be_detect('hello, world!') }\n  end\n  context 'with argument \"foo\"' do\n    subject { MessageFilter.new('foo') }\n    it_behaves_like 'MessageFilter with argument \"foo\"'\n  end\n  context 'with argument \"foo\",\"bar\"' do\n    subject { MessageFilter.new('foo', 'bar') }\n    it { is_expected.to be_detect('hello from bar') }\n    it_behaves_like 'MessageFilter with argument \"foo\"'\n  end\nend\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n\nFinished in 0.00466 seconds (files took 0.09372 seconds to load)\n5 examples, 0 failures\n\n\n\u65b0\u4ed5\u69d8\u8ffd\u52a0\n\u3055\u3066\u3001\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u6a5f\u80fd\u3092\u307e\u305f\u65b0\u3057\u304f\u52a0\u3048\u3066\u3086\u304d\u307e\u3057\u3087\u3046\u3002\n\u3068\u3001\u305d\u306e\u524d\u306b\u524d\u56de git \u3092\u4f7f\u3063\u3066\u3044\u305f\u4eba\u306f\u3001\u524d\u56de\u306e\u30d6\u30e9\u30f3\u30c1\u3092\u30de\u30fc\u30b8\u3057\u3066\u65b0\u3057\u3044\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n$ git checkout master\nSwitched to branch 'master'\nYour branch is ahead of 'origin/master' by 15 commits.\n  (use \"git push\" to publish your local commits)\n$ git merge 2nd\nUpdating 6740238..05d2bf1\nFast-forward\n message_filter.rb      |  6 +++---\n message_filter_spec.rb | 18 ++++++++++++++----\n 2 files changed, 17 insertions(+), 7 deletions(-)\n$ git checkout -b 3rd\nSwitched to a new branch '3rd'\n\n\n\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u958b\u59cb\n\u3055\u3066\u3001\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f NG \u30ef\u30fc\u30c9\u306b\u95a2\u3059\u308b\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u5177\u4f53\u7684\u306b\u306f\u3001 MessageFilter \u306b NG \u30ef\u30fc\u30c9\u304c\u3044\u304f\u3064\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u3001\u3069\u3093\u306a NG \u30ef\u30fc\u30c9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u304c\u5206\u304b\u308b\u3088\u3046\u306a\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u3066\u307f\u307e\u3059\u3002\n\u6700\u521d\u306b\u66f8\u304f\u306e\u306f\u2026\u305d\u3046\u3001 spec \u304b\u3089\u3067\u3059\u306d\u3002\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u307e\u3067\u306e spec \u306e context \u3067\u65e2\u306b NG \u30ef\u30fc\u30c9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3067\u3001 NG \u30ef\u30fc\u30c9\u304c\u7a7a\u3067\u306a\u3044\u3001\u3068\u3044\u3046\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nmessage_filter_spec.rb\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n+    it 'ng_words should not be empty' do\n+      expect(subject.ng_words.empty?).to eq false\n+    end\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n\n\nsubject \u3092\u660e\u793a\u7684\u306a\u30ec\u30b7\u30fc\u30d0\u3068\u3057\u3066\u4f7f\u3046\n\u3053\u3053\u3067\nexpect(subject.ng_words.empty?).to eq false\n\n\u3068\u3044\u3046\u66f8\u304d\u65b9\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e subject \u306f\u4f55\u304b\u3068\u3044\u3046\u3068\u3001 subject \u30d6\u30ed\u30c3\u30af\u306e\u8a55\u4fa1\u7d50\u679c\u304c\u8fd4\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\n\u524d\u56de\u307e\u3067\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001 it \u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u3067 should \u306e\u30ec\u30b7\u30fc\u30d0\u304c\u6697\u9ed9\u7684\u306b subject \u30d6\u30ed\u30c3\u30af\u306e\u8a55\u4fa1\u7d50\u679c\u306b\u306a\u308b\u3068\u3044\u3046\u8aac\u660e\u3092\u3057\u3066\u304d\u307e\u3057\u305f\u304c\u3001\u660e\u793a\u7684\u306b subject \u30d6\u30ed\u30c3\u30af\u306e\u8a55\u4fa1\u7d50\u679c\u3092\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u5185\u3067\u4f7f\u3044\u305f\u3044\u5834\u5408\u306b\u306f\u3001 subject \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3053\u3068\u304c\u51fa\u6765\u307e\u3059(\u3061\u3087\u3063\u3068\u7d1b\u3089\u308f\u3057\u3044\u3067\u3059\u306d)\u3002\n\u3067\u306f\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\n$ bundle exec rspec message_filter_spec.rb \nF.....\n\nFailures:\n\n  1) MessageFilter with argument \"foo\" ng_words should not be empty\n     Failure/Error: expect(subject.ng_words.empty?).to eq false\n     NoMethodError:\n       undefined method `ng_words' for #<MessageFilter:0x007f9266950fb0 @words=[\"foo\"]>\n     # ./message_filter_spec.rb:12:in `block (3 levels) in <top (required)>'\n\nFinished in 0.00379 seconds (files took 0.08248 seconds to load)\n6 examples, 1 failure\n\nFailed examples:\n\nrspec ./message_filter_spec.rb:11 # MessageFilter with argument \"foo\" ng_words should not be empty\n$ git commit -am 'Add spec for ng_word'\n[3rd 83085ac] Add spec for ng_word\n 1 file changed, 3 insertions(+)\n\nCommit\nng_words \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u7121\u3044\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3001\u3081\u3067\u305f\u304f(?)\u3001\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u307e\u3060\u5b9f\u88c5\u3057\u3066\u3044\u306a\u3044\u6a5f\u80fd\u306b\u5bfe\u3059\u308b\u30c6\u30b9\u30c8\u3067\u3059\u304b\u3089\u3001\u843d\u3061\u308b\u306e\u304c\u5f53\u7136\u3067\u3059\u306d\u3002 TDD \u3067\u306f\u5927\u4e8b\u306a\u30b9\u30c6\u30c3\u30d7\u3067\u3059\u3002\u3067\u306f\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3057\u3087\u3046\u3002\n\n\u660e\u767d\u306a\u5b9f\u88c5\n\u524d\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u8ffd\u52a0\u3057\u305f spec \u306f\u3001\u30b3\u30fc\u30c9\u306e\u5229\u7528\u8005\u304b\u3089\u898b\u305f\u8996\u70b9\u3067\u66f8\u304d\u307e\u3057\u305f\u3002\u3053\u306e\u30c6\u30b9\u30c8\u3092\u901a\u3059\u305f\u3081\u306b\u307e\u305f\u300c\u4eee\u5b9f\u88c5\u300d\u3092\u3057\u3066\u3082\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u3053\u3053\u306f\u4e00\u6c17\u306b\u5b9f\u88c5\u307e\u3067\u884c\u3046\u300c\u660e\u767d\u306a\u5b9f\u88c5(Obvious Implementation)\u300d\u8def\u7dda\u3067\u884c\u3063\u3066\u307f\u307e\u3059\u3002 attr_reader \u3067\u5b9f\u88c5\u3067\u304d\u305d\u3046\u3067\u3059\u306d\u3002\nmessage_filter.rb\n class MessageFilter\n   def initialize(*words)\n-    @words = words\n+    @ng_words = words\n   end\n+  attr_reader :ng_words\n   def detect?(text)\n-    @words.any?{|w| text.include?(w) }\n+    @ng_words.any?{|w| text.include?(w) }\n   end\n end\n\n@words \u3068\u3044\u3046\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092 @ng_words \u3068\u66f8\u304d\u63db\u3048\u3001\u6b21\u306b attr_reader \u3092\u5b9a\u7fa9\u3057\u3066\u5916\u304b\u3089\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u898b\u3048\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u3053\u3053\u306b\u3082\u3001\u30c6\u30b9\u30c8\u304b\u3089\u5148\u306b\u66f8\u304f\u610f\u5473\u3068\u52b9\u679c\u304c\u73fe\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u3053\u307e\u3067\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u304d\u305f\u5b9f\u88c5\u8005\u306e\u8996\u70b9\u3067\u306f\u3001 MessageFilter \u306e\u5185\u90e8\u5909\u6570\u3068\u3057\u3066 @words \u3068\u3044\u3046\u540d\u524d\u3092\u4f7f\u3046\u3053\u3068\u306f\u7c21\u6f54\u3067\u826f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u30c6\u30b9\u30c8\u3092\u5148\u306b\u66f8\u304f\u3068\u3044\u3046\u8996\u70b9\u3001\u3064\u307e\u308a\u30b3\u30fc\u30c9\u306e\u5229\u7528\u8005\u304b\u3089\u898b\u305f\u8996\u70b9\u3067\u306f\u3069\u3046\u3067\u3057\u3087\u3046\u304b\u3002 message_filter.words \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u3067\u306f\u3001\u300c words \u300d\u304c NG \u30ef\u30fc\u30c9\u3092\u6307\u3059\u306e\u304b\u3001\u305d\u308c\u3068\u3082\u691c\u51fa\u3055\u308c\u305f\u8a00\u8449\u3092\u6307\u3059\u306e\u304b\u304c\u5206\u304b\u308a\u306b\u304f\u304f\u306a\u3066\u3057\u307e\u3063\u3066\u3044\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u6700\u521d\u306e\u5229\u7528\u8005\u306f\u81ea\u5206\nTDD \u3067\u306f\u3001\u5b9f\u88c5\u306e\u524d\u306b\u30c6\u30b9\u30c8\u3092\u66f8\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u534a\u3070\u5f37\u5236\u7684\u306b\u300c\u5229\u7528\u8005\u306e\u8996\u70b9\u300d\u3092\u5f97\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3001\u3068\u3044\u3046\u52b9\u679c\u3092\u6301\u3061\u307e\u3059\u3002\u307e\u3060\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8\u306a\u306e\u3067\u3059\u304b\u3089\u300c\u81ea\u5206\u306f\u3053\u3046\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u308f\u304b\u308a\u3084\u3059\u3044\u300d\u300c\u3053\u3046\u3044\u3046\u540d\u524d\u304c\u826f\u3044\u300d\u3001\u9006\u306b\u300c\u3053\u3046\u3044\u3046\u540d\u524d\u306f\u66d6\u6627\u3067\u4e0d\u5b89\u300d\u300c\u5f15\u6570\u304c\u6587\u5b57\u52175\u3064\u3068\u304b\u3042\u308a\u3048\u306a\u3044\u300d\u306a\u3069\u306e\u30b3\u30fc\u30c9\u3092\u5229\u7528\u3059\u308b\u5074\u3068\u3057\u3066\u306e\u8996\u70b9\u3084\u611f\u60c5\u3092\u5f97\u3089\u308c\u307e\u3059\u3002\nTDD \u3067\u306f\u3001\u305d\u306e\u611f\u60c5\u3084\u5229\u7528\u8005\u3068\u3057\u3066\u306e\u8a2d\u8a08\u5224\u65ad\u3092\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3068\u3044\u3046\u5f62\u3067\u8a18\u3057\u3001\u305d\u306e\u5f8c\u3067\u5b9f\u88c5\u3092\u884c\u3046\u3053\u3068\u3067\u3001\u65e2\u5b58\u306e\u5b9f\u88c5\u306b\u5f15\u304d\u305a\u3089\u308c\u306b\u304f\u3044\u300c\u3053\u3046\u3057\u305f\u3044\u300d\u300c\u3053\u3046\u3042\u308b\u3079\u304d\u300d\u3068\u3044\u3046\u5b9f\u88c5\u3092\u5f15\u304d\u51fa\u3057\u3084\u3059\u304f\u306a\u308b\u3068\u3044\u3046\u52b9\u679c\u304c\u3042\u308a\u307e\u3059\u3002\n\u300c\u81ea\u5206\u304c\u66f8\u304f\u30b3\u30fc\u30c9\u306e\u6700\u521d\u306e\u5229\u7528\u8005\u306f\u81ea\u5206\u300d\u3068\u3044\u3046\u306e\u304c TDD \u306e\u30eb\u30fc\u30eb\u3067\u3059\u3002\u82f1\u8a9e\u3067\u306f\u300c Eat your own dog food (\u81ea\u5206\u306e\u30c9\u30c3\u30b0\u30d5\u30fc\u30c9\u3092\u98df\u3079\u308d)\u300d\u3068\u3044\u3046\u30d5\u30ec\u30fc\u30ba\u3067\u77e5\u3089\u308c\u3066\u3044\u308b\u8003\u3048\u65b9\u3067\u3082\u3042\u308a\u307e\u3059\u3002\n\u3067\u306f\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\n$ bundle exec rspec message_filter_spec.rb\n......\n\nFinished in 0.00675 seconds (files took 0.08174 seconds to load)\n6 examples, 0 failures\n$ git commit -am 'Add ng_word accessor'\n[3rd f9cf563] Add ng_word accessor\n 1 file changed, 3 insertions(+), 2 deletions(-)\n\nCommit\n\npredicate \u30de\u30c3\u30c1\u30e3\u306b\u66f8\u304d\u63db\u3048\u308b\n\u4ee5\u524d\u3082\u66f8\u304d\u307e\u3057\u305f\u304c\u3001 \u771f\u507d\u5024\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\u306f predicate \u30de\u30c3\u30c1\u30e3\u3068\u3044\u3046\u5f62\u5f0f\u306b\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u3067\u53ef\u8aad\u6027\u3092\u4e0a\u3052\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\nexpect(subject.ng_words.empty?).to eq false\n\n\u3068\u3044\u3046\u66f8\u304d\u65b9\u306f\nexpect(subject.ng_words).not_to be_empty\n\n\u3068\u3044\u3046\u66f8\u304d\u65b9\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u65b9\u304c\u8aad\u307f\u3084\u3059\u304f\u3001\u9055\u548c\u611f\u304c\u7121\u3044\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002(expect \u306e\u5f15\u6570\u304c subject \u304b\u3089\u59cb\u307e\u308b\u3068\u3053\u308d\u306b\u9055\u548c\u611f\u304c\u3042\u308a\u307e\u3059\u304c\u2026)\nmessage_filter_spec.rb\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n     it 'ng_words should not be empty' do\n-      expect(subject.ng_words.empty?).to eq false\n+      expect(subject.ng_words).not_to be_empty\n     end\n   end\n   context 'with argument \"foo\",\"bar\"' do\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    ng_words should not be empty\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n\nFinished in 0.0029 seconds (files took 0.08092 seconds to load)\n6 examples, 0 failures\n$ git commit -am 'Use predicate matcher'\n[3rd b4656f4] Use predicate matcher\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\nCommit\n\u554f\u984c\u306a\u3055\u305d\u3046\u3067\u3059\u306d\u3002\n\nRSpec \u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u3055\u305b\u308b\n\u3055\u3066\u3001\u3053\u306e\u300cRSpec \u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078\u300d\u30b7\u30ea\u30fc\u30ba\u3067\u306f\u4e00\u8cab\u3057\u3066\u300c\u306a\u308b\u3079\u304f it \u30e1\u30bd\u30c3\u30c9\u306e\u6587\u5b57\u5217\u5f15\u6570\u3092\u4f7f\u308f\u305a\u306b\u3001 RSpec \u81ea\u8eab\u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u3055\u305b\u308b\u300d\u3068\u3044\u3046\u65b9\u91dd\u3067\u9032\u3081\u3066\u304d\u307e\u3057\u305f\u3002\nit 'ng_words should not be empty' do\n\n\u3068\u3044\u3046\u8a18\u8ff0\u3082\u3044\u304b\u306b\u3082 RSpec \u81ea\u8eab\u306b\u7d44\u307f\u7acb\u3066\u3055\u305b\u308b\u3053\u3068\u304c\u51fa\u6765\u305d\u3046\u3067\u3059\u3002\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nmessage_filter_spec.rb\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n-    it 'ng_words should not be empty' do\n-      expect(subject.ng_words).not_to be_empty\n-    end\n+    it { expect(subject.ng_words).not_to be_empty }\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    should not be empty\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n\nFinished in 0.00306 seconds (files took 0.08187 seconds to load)\n6 examples, 0 failures\n$ git commit -am 'Remove example description'\n[3rd 5b9f8ea] Remove example description\n 1 file changed, 1 insertion(+), 3 deletions(-)\n\nCommit\n\u3080? \u306a\u306b\u304b\u304a\u304b\u3057\u3044\u3067\u3059\u306d\u2026\nRSpec \u81ea\u8eab\u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u3055\u305b\u308b\u3068\nMessageFilter\n  with argument \"foo\"\n    should not be empty\n\n\u300c MessageFilter with argument \"foo\" should not be empty \u300d\u2026\u610f\u5473\u3092\u6b63\u78ba\u306b\u4f1d\u3048\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002 RSpec \u306b\u3082\u3063\u3068\u30d2\u30f3\u30c8\u3092\u4e0e\u3048\u306a\u304f\u3066\u306f\u306a\u3089\u306a\u3044\u3088\u3046\u3067\u3059\u306d\u3002\n\u3010\u6ce8\u76ee\uff01\u3011it \u30e1\u30bd\u30c3\u30c9\u306e\u6587\u5b57\u5217\u5f15\u6570\u3092\u4f7f\u3046\u3053\u3068\u306f\u60aa\u3067\u306f\u3042\u308a\u307e\u305b\u3093\n\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u8a18\u4e8b\u3067\u306f\u300c\u306a\u308b\u3079\u304f it \u30e1\u30bd\u30c3\u30c9\u306e\u6587\u5b57\u5217\u5f15\u6570\u3092\u4f7f\u308f\u305a\u306b\u3001 RSpec \u81ea\u8eab\u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u3055\u305b\u308b\u300d\u3068\u3044\u3046\u65b9\u91dd\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u5fc5\u305a\u3057\u3082\u3053\u308c\u304cRSpec\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3060\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3042\u304f\u307e\u3067\u30a2\u30d7\u30ed\u30fc\u30c1\u306e\u4e00\u3064\u3067\u3059\u3002\n\u305f\u3057\u304b\u306b\u3001\u6587\u5b57\u5217\u5f15\u6570\u3092\u4f7f\u308f\u305a\u306b\u304d\u308c\u3044\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5f62\u5f0f\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u304c\u51fa\u305b\u308b\u306e\u306f\u6c17\u6301\u3061\u304c\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u3057\u304b\u3057\u3001\u305d\u308c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u9577\u6642\u9593\u8a66\u884c\u932f\u8aa4\u3057\u305f\u308a\u3001\u6587\u5b57\u5217\u5f15\u6570\u3092\u4f7f\u308f\u306a\u3044\u3053\u3068\u304c\u76ee\u7684\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u30c8\u30ea\u30c3\u30ad\u30fc\u306b\u306a\u3063\u305f\u308a\u3057\u3066\u3057\u307e\u3046\u306e\u306f\u9006\u52b9\u679c\u3067\u3059\u3002\n\u300c\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u308b\u306a\u300d\u300c\u304b\u3048\u3063\u3066\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u3084\u3084\u3053\u3057\u304f\u306a\u308b\u306a\u300d\u3068\u601d\u3063\u305f\u3068\u304d\u306f\u3001\u8e8a\u8e87\u305b\u305a\u306b\u6587\u5b57\u5217\u5f15\u6570\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\n\u82f1\u8a9e\u304c\u82e6\u624b\u306a\u306e\u3067\u3042\u308c\u3070\u65e5\u672c\u8a9e\u3067\u66f8\u304f\u306e\u3082\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nits\u30e1\u30bd\u30c3\u30c9\nRSpec \u306b\u60c5\u5831\u3092\u4e0e\u3048\u308b\u305f\u3081\u306b\u3001\u3053\u3053\u3067 its \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\u3010\u6ce8\u76ee\uff01\u3011RSpec 3\u3067\u306f rspec-its gem\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059\n\u3053\u306e its \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u306fRSpec 3\u304b\u3089\u306f\u6a19\u6e96\u3067\u63d0\u4f9b\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\nits \u3092\u4f7f\u3046\u5834\u5408\u306f rspec-its \u3068\u3044\u3046gem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u307e\u305a\u3001Gemfile\u3092\u6b21\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\nGemfile\n source 'https://rubygems.org'\n\n gem 'rspec', '3.0.0'\n+gem 'rspec-its', '1.0.1'\n\n\u7d9a\u3044\u3066\u3001bundle install \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ bundle install\nFetching gem metadata from https://rubygems.org/.........\nFetching additional metadata from https://rubygems.org/..\nResolving dependencies...\nUsing diff-lcs 1.2.5\nUsing rspec-support 3.0.2\nUsing rspec-core 3.0.2\nUsing rspec-expectations 3.0.2\nUsing rspec-mocks 3.0.2\nUsing rspec 3.0.0\nInstalling rspec-its 1.0.1\nUsing bundler 1.6.2\nYour bundle is complete!\nUse `bundle show [gemname]` to see where a bundled gem is installed.\n\n\nits \u30e1\u30bd\u30c3\u30c9\u306e\u5c0e\u5165\nits \u30e1\u30bd\u30c3\u30c9\u306f\u5f15\u6570\u306b Symbol \u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002\u305d\u3057\u3066 subject \u306b\u5bfe\u3057\u3066 Symbol \u3067\u6307\u5b9a\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u3001\u305d\u306e\u623b\u308a\u5024\u3092 its \u306e\u30d6\u30ed\u30c3\u30af\u5185\u3067\u306e should \u306e\u6697\u9ed9\u306e\u30ec\u30b7\u30fc\u30d0\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u3061\u3087\u3063\u3068\u8907\u96d1\u306a\u306e\u3067\u3001\u5b9f\u969b\u306b\u4f8b\u3092\u898b\u305f\u65b9\u304c\u826f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u4eca\u56de\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306f\u3001 its \u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u6b21\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\nmessage_filter_spec.rb\n require_relative 'message_filter'\n+require 'rspec/its'\n\n describe MessageFilter do\n   shared_examples 'MessageFilter with argument \"foo\"' do\n\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n-    it { expect(subject.ng_words).not_to be_empty }\n+    its(:ng_words) { is_expected.not_to be_empty }\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\u3002\u3055\u3066\u3001\u3069\u3046\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n    ng_words\n      should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n\nFinished in 0.00403 seconds (files took 0.14538 seconds to load)\n6 examples, 0 failures\n$ git commit -am 'Use rspec-its'\n[3rd 91637bd] Use rspec-its\n 3 files changed, 7 insertions(+), 1 deletion(-)\n\nCommit\n\u51fa\u529b\u304c\u5909\u308f\u308a\u307e\u3057\u305f\u306d\u3002\nMessageFilter\n  with argument \"foo\"\n    (\u4e2d\u7565)\n    ng_words\n      should not be empty\n\n\u300c MessageFilter with argument \"foo\" ng_words should not be empty \u300d\u2026\u304e\u3053\u3061\u306a\u304f\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u88dc\u8db3\u60c5\u5831\u304c\u52a0\u308f\u308a\u307e\u3057\u305f\u3002\n\u305d\u308c\u3088\u308a\u3082\u3001\u5927\u304d\u304f\u53ef\u8aad\u6027\u304c\u4e0a\u304c\u3063\u305f\u306e\u306f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u65b9\u3067\u3059\u3002\nits(:ng_words) { is_expected.not_to be_empty }\n\n\u62ec\u5f27\u3084\u8a18\u53f7\u3092\"\u898b\u3048\u306a\u3044\u3082\u306e\"\u3068\u3059\u308b\u3068\u3001\u300c its ng words is expected not to be empty \u300d\u3068\u306a\u308a\u307e\u3059\u3002\u524d\u3088\u308a\u3082\u81ea\u7136\u306b\u8aad\u3081\u308b\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\u3010\u6ce8\u76ee\uff01\u3011its \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3079\u304d\u304b\u5426\u304b\uff1f\nRSpec 3\u304b\u3089 its \u30e1\u30bd\u30c3\u30c9\u304c\u6a19\u6e96\u3067\u63d0\u4f9b\u3055\u308c\u306a\u304f\u306a\u3063\u305f\u7406\u7531\u306f\u3001RSpec\u306e\u4f5c\u8005\u3067\u3042\u308bMyron Marston\u6c0f\u306e\u30d6\u30ed\u30b0\u306b\u8a73\u3057\u304f\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\nExplanation for why `its` will be removed from rspec-3\n\u3053\u306e\u30d6\u30ed\u30b0\u3067\u306f its \u30e1\u30bd\u30c3\u30c9\u306e\u671b\u307e\u3057\u304f\u306a\u3044\u4f7f\u3044\u65b9\u304c\u8f09\u3063\u3066\u3044\u307e\u3059\u3002\nUser = Struct.new(:name, :email)\n\ndescribe User do\n  subject { User.new(\"bob\") }\n  its(:name) { should == \"bob\" }\nend\n\n$ bin/rspec user_spec.rb --format doc\n\nUser\n  name\n    should == \"bob\"\n\nFinished in 0.00085 seconds\n1 example, 0 failures\n\nRandomized with seed 25153\n\n\u5b9f\u884c\u7d50\u679c\u3092\u8aad\u3080\u3068\u300cUser name should == \"bob\"\u300d\u3068\u306a\u308a\u3001User#name\u304c\u5e38\u306b\"bob\"\u3092\u8fd4\u3059\u3088\u3046\u306b\u898b\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002\nits \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3068\u7c21\u6f54\u306b\u66f8\u3051\u308b\u30e1\u30ea\u30c3\u30c8\u306f\u3042\u308b\u3082\u306e\u306e\u3001\u8aa4\u89e3\u3055\u308c\u304b\u306d\u306a\u3044\u51fa\u529b\u7d50\u679c\u3092\u751f\u307f\u51fa\u3059\u30c7\u30e1\u30ea\u30c3\u30c8\u306e\u65b9\u304c\u5f37\u3044\u306e\u3067\u3001\u6a19\u6e96\u3067\u63d0\u4f9b\u3059\u308b\u306e\u3092\u3084\u3081\u305f\u3088\u3046\u3067\u3059\u3002\n\u672c\u8a18\u4e8b\u3067\u306f its \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u3082\u4e0a\u8a18\u306e\u30c7\u30e1\u30ea\u30c3\u30c8\u304c\u51fa\u306a\u3044\u3088\u3046\u306a\u4f7f\u308f\u308c\u65b9\u3092\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u5f15\u304d\u7d9a\u304d its \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001RSpec 3\u3067\u306f\u660e\u78ba\u306a\u7406\u7531\u3092\u3082\u3063\u3066\u6a19\u6e96\u5b9f\u88c5\u304b\u3089\u5916\u308c\u305f\u4ee5\u4e0a\u3001\u307f\u306a\u3055\u3093\u81ea\u8eab\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u65b0\u3057\u304f its \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u305f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u306e\u306f\u907f\u3051\u305f\u65b9\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nshared_examples \u306b\u79fb\u52d5\u3059\u308b\n\u3068\u3053\u308d\u3067\u3001\u300c its ng words is expected not to be empty \u300d\u3068\u3044\u3046\u4ed5\u69d8\u306f \"foo\" \u306e\u5834\u5408\u3060\u3051\u3067\u306a\u304f \"foo, bar\" \u3067\u3082\u5f53\u3066\u306f\u307e\u308a\u307e\u3059\u306d\u3002\u306a\u306e\u3067\u3001 shared_examples \u306e\u30d6\u30ed\u30c3\u30af\u306b\u79fb\u3057\u307e\u3057\u3087\u3046\u3002\nmessage_filter_spec.rb\n   shared_examples 'MessageFilter with argument \"foo\"' do\n     it { is_expected.to be_detect('hello from foo') }\n     it { is_expected.not_to be_detect('hello, world!') }\n+    its(:ng_words) { is_expected.not_to be_empty }\n   end\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n-    its(:ng_words) { is_expected.not_to be_empty }\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00386 seconds (files took 0.14411 seconds to load)\n7 examples, 0 failures\n$ git commit -am 'Move its-example to shared_examples'\n[3rd 111454e] Move its-example to shared_examples\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\nCommit\n\u5927\u4e08\u592b\u305d\u3046\u3067\u3059\u306d\u3002\n\ndo...end \u304b\u3089 {...} \u3078\u306e\u5909\u66f4\u3068\u305d\u306e\u610f\u56f3\u306b\u3064\u3044\u3066\n\u3053\u306e\u30b7\u30ea\u30fc\u30ba\u3067\u306f\u3001\u3053\u308c\u307e\u3067\u3082\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u4e2d\u3067\u30d6\u30ed\u30c3\u30af\u306e\u66f8\u304d\u65b9\u3092 do...end \u304b\u3089 {...} \u3078\u306e\u5909\u66f4\u3092\u4f55\u5ea6\u304b\u884c\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\u4e8c\u3064\u306e\u66f8\u304d\u65b9\u306e\u3069\u3061\u3089\u3092\u9078\u629e\u3059\u308b\u304b\u306f\u30d7\u30ed\u30b0\u30e9\u30de\u306e\u81ea\u7531\u3067\u3059\u304c\u3001\u6163\u4f8b\u7684\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30eb\u30fc\u30eb\u306b\u5f93\u3046\u3053\u3068\u304c\u591a\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u305f\u3060\u3057\u3001\u30e1\u30bd\u30c3\u30c9\u30c1\u30a7\u30a4\u30f3\u3092\u884c\u3046\u5834\u5408\u306f{ ... }\u3092\u4f7f\u7528\u3059\u308b\nRuby\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u898f\u7d04\n\n\u3000\n\n\u307e\u305a\u57fa\u672c\u7684\u306a\u4f7f\u3044\u308f\u3051\u3068\u3057\u3066\u3001\u8907\u6570\u56de\u547c\u3076\u53ef\u80fd\u6027\u304c\u3042\u308b\u3068\u304d (\u4f8b\u3048\u3070 Enumerable#each) \u306f do....end \u3092\u4f7f\u3046\u3002\u547c\u3076\u306e\u304c\u4e00\u56de\u3060\u3051\u306e\u3068\u304d (\u4f8b\u3048\u3070 File.open) \u306f {....} \u3092\u4f7f\u3046\u3002\u3053\u3053\u3067\u3001\u5f8c\u8005\u306e\u300c\u4e00\u56de\u3060\u3051\u306e\u3068\u304d\u300d\u3068\u306f RubyIteratorPattern \u3067\u8a00\u3046\u300c\u7bc4\u56f2\u578b\u300d\u3042\u308b\u3044\u306f\u300c\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u578b\u300d\u306e\u3053\u3068\u3067\u3042\u308b\u3002\n\u52a0\u3048\u3066\u3001\u4e00\u884c\u306b\u53ce\u3081\u308b\u3068\u304d\u306f {....} \u3092\u4f7f\u3046\u3002\n\u3055\u3089\u306b\u3001\u8fd4\u308a\u5024\u3092\u4f7f\u3046\u3068\u304d\u3082 {....} \u3092\u4f7f\u3046\u3002\nLoveRubyNet Wiki: RubyCodingStyle\n\nRSpec \u306e\u5834\u5408\u306f\u3001it \u306e\u30d6\u30ed\u30c3\u30af\u306e\u623b\u308a\u5024\u3092\u4f7f\u3046\u3053\u3068\u306f(\u591a\u5206)\u3042\u308a\u307e\u305b\u3093\u3002\u3064\u307e\u308a\u30e1\u30bd\u30c3\u30c9\u30c1\u30a7\u30a4\u30f3\u3092\u4f7f\u3044\u305f\u3044\u3068\u3044\u3046\u52d5\u6a5f\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067\u3001 RSpec \u3092\u4f7f\u3063\u305f\u30b3\u30fc\u30c9\u306e\u4e2d\u3067 do...end \u3092\u4f7f\u3046\u304b {...} \u3092\u4f7f\u3046\u304b\u306f\u3001\u7d14\u7c8b\u306b\u53ef\u8aad\u6027\u306e\u305f\u3081\u306e\u9078\u629e\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u4eca\u56de\u306e\u5834\u5408\u306f\u3001\u300c\u4e00\u884c\u306b\u53ce\u307e\u308b\u306e\u3067 {...} \u3092\u9078\u629e\u3059\u308b\u300d\u3068\u3044\u3046\u30eb\u30fc\u30eb\u306b\u5f93\u3063\u305f\u3068\u3082\u8a00\u3048\u307e\u3059\u3002\n\u3057\u304b\u3057\u79c1\u306f\u3001 RSpec \u306e\u30b3\u30fc\u30c9\u306e\u4e2d\u3067 it {...} \u3068\u3044\u3046\u30b9\u30bf\u30a4\u30eb\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u306b\u3001\u3082\u3063\u3068\u7a4d\u6975\u7684\u306a\u610f\u5473\u3092\u6301\u305f\u305b\u3066\u3044\u307e\u3059\u3002\u305d\u308c\u306f\u300c RSpec \u81ea\u8eab\u306b\u72b6\u6cc1\u3092\u7406\u89e3\u3055\u305b\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u53ef\u8aad\u6027\u3068\u4ed5\u69d8\u8a18\u8ff0\u3092\u4e21\u7acb\u3055\u305b\u308b\u300d\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\n\u5148\u307b\u3069\u8aac\u660e\u306e\u4e2d\u3067\u300c\u62ec\u5f27\u3084\u8a18\u53f7\u3092\"\u898b\u3048\u306a\u3044\u3082\u306e\"\u3068\u3059\u308b\u3068\u300d\u3068\u3044\u3046\u30d5\u30ec\u30fc\u30ba\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002 RSpec \u3092\u4f7f\u3063\u305f\u30b3\u30fc\u30c9\u306e\u4e2d\u3067\u306f\u3001\u8996\u899a\u7684\u306b\u5f37\u304f\u306a\u3044 it{...} \u5f62\u5f0f\u306f\u9ed2\u5b50\u306e\u3088\u3046\u306a\u5f79\u5272\u3092\u679c\u305f\u3057\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u81ea\u8eab\u306e\u53ef\u8aad\u6027\u306b\u5bc4\u4e0e\u3059\u308b\u3068\u8003\u3048\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u6587\u5b57\u5217\u306b\u3088\u3063\u3066\u3067\u306f\u306a\u304f\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u81ea\u8eab\u306b\u4ed5\u69d8\u3092\u8a9e\u3089\u305b\u308b\u3068\u304d\u306b it {...} \u3092\u4f7f\u3046\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u3068\u304d\u306f\u3001 RSpec \u3068\u30d7\u30ed\u30b0\u30e9\u30de\u306e\u9593\u3067\u60c5\u5831\u3092\u5171\u6709\u3057\u3064\u3064\u3001\u8a18\u8ff0\u91cf\u3082\u5c11\u306a\u304f\u7c21\u6f54\u3067\u3001\u304b\u3064\u5927\u304d\u3044\u60c5\u5831\u306e\u6b20\u843d\u304c\u7121\u3044\u3001\u305d\u3093\u306a\u30b3\u30fc\u30c9\u3092\u76ee\u6307\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3082\u3046\u4e00\u3064\u6a5f\u80fd\u8ffd\u52a0: NG \u30ef\u30fc\u30c9\u306e\u500b\u6570\u3092\u8abf\u3079\u308b\n\u3055\u3066\u3001\u3082\u3046\u4e00\u3064\u6a5f\u80fd\u8ffd\u52a0\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u300cNG \u30ef\u30fc\u30c9\u306e\u500b\u6570\u3092\u8abf\u3079\u308b\u300d\u3068\u3044\u3046\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8\u3068\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3059\u3002\u6700\u521d\u306b\u66f8\u304f\u306e\u306f\u3082\u3061\u308d\u3093\u30c6\u30b9\u30c8\u3067\u3059\u3002\nmessage_filter_spec.rb\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n+    it 'ng_words size is 1' do\n+      expect(subject.ng_words.size).to eq 1\n+    end\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb        \n\nMessageFilter\n  with argument \"foo\"\n    ng_words size is 1\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00592 seconds (files took 0.1377 seconds to load)\n8 examples, 0 failures\n$ git commit -am 'Add example for ng_words size'\n[3rd fd0cd72] Add example for ng_words size\n 1 file changed, 3 insertions(+)\n\nCommit\n\u304a\u3084\u3001\u5b9f\u88c5\u3057\u3066\u3044\u306a\u3044\u306e\u306b\u4e00\u767a\u3067\u901a\u308a\u307e\u3057\u305f\u306d\u3002\u3064\u307e\u308a attr_reader \u3092\u5c0e\u5165\u3057\u3066\u3044\u305f\u306e\u3067\u5b9f\u88c5\u306f\u5fc5\u8981\u306a\u304b\u3063\u305f\u3001\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\n\nhave \u30de\u30c3\u30c1\u30e3\nexpect(subject.ng_words.size).to eq 1\n\n\u3068\u3044\u3046\u66f8\u304d\u65b9\u306f\u660e\u793a\u7684\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u3084\u3084\u304e\u3053\u3061\u306a\u3044\u3067\u3059\u306d\u3002\u3053\u306e\u3088\u3046\u306a\u5834\u5408\u3001 RSpec \u3067\u306f\u300c have \u30de\u30c3\u30c1\u30e3\u300d\u3068\u3044\u3046\u6a5f\u80fd\u3067\u66f8\u304d\u65b9\u3092\u6539\u5584\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u66f8\u3051\u307e\u3059\u3002\nexpect(subject.ng_words).to have(1).item\n\n\u3010\u6ce8\u76ee\uff01\u3011RSpec 3\u3067\u306f rspec-collection_matchers gem\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059\n\u3053\u306e have \u30de\u30c3\u30c1\u30e3\u306fRSpec 3\u304b\u3089\u306f\u6a19\u6e96\u3067\u63d0\u4f9b\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\nhave \u30de\u30c3\u30c1\u30e3\u3092\u4f7f\u3046\u5834\u5408\u306f rspec-collection_matchers \u3068\u3044\u3046gem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u307e\u305a\u3001Gemfile\u3092\u6b21\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\nGemfile\nsource 'https://rubygems.org'\n\n gem 'rspec', '3.0.0'\n gem 'rspec-its', '1.0.1'\n+gem 'rspec-collection_matchers', '1.0.0'\n\n\u7d9a\u3044\u3066\u3001bundle install \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ bundle install\nFetching gem metadata from https://rubygems.org/.........\nFetching additional metadata from https://rubygems.org/..\nResolving dependencies...\nUsing diff-lcs 1.2.5\nUsing rspec-support 3.0.2\nUsing rspec-core 3.0.2\nUsing rspec-expectations 3.0.2\nUsing rspec-mocks 3.0.2\nUsing rspec 3.0.0\nInstalling rspec-collection_matchers 1.0.0\nUsing rspec-its 1.0.1\nUsing bundler 1.6.2\nYour bundle is complete!\nUse `bundle show [gemname]` to see where a bundled gem is installed.\n\n\nhave \u30de\u30c3\u30c1\u30e3\u306e\u5c0e\u5165\n\u3067\u306f have \u30de\u30c3\u30c1\u30e3\u3092\u5c0e\u5165\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nmessage_filter_spec.rb\n require_relative 'message_filter'\n require 'rspec/its'\n+require 'rspec/collection_matchers'\n\n describe MessageFilter do\n   shared_examples 'MessageFilter with argument \"foo\"' do\n\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n     it 'ng_words size is 1' do\n-      expect(subject.ng_words.size).to eq 1\n+      expect(subject.ng_words).to have(1).item\n     end\n   end\n   context 'with argument \"foo\",\"bar\"' do\n\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    ng_words size is 1\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00409 seconds (files took 0.14577 seconds to load)\n8 examples, 0 failures\n$ git commit -am 'Use rspec-collection_matchers'\n[3rd 7c40c06] Use rspec-collection_matchers\n 3 files changed, 6 insertions(+), 1 deletion(-)\n\nCommit\n\u3010\u6ce8\u76ee\uff01\u3011\u8907\u6570\u5f62(item)\u3068\u5358\u6570\u5f62(items)\u306e\u4f7f\u3044\u5206\u3051\u306b\u3064\u3044\u3066\n\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u8a18\u4e8b\u3067\u306f\nexpect(subject.ng_words).to have(1).items\n\n\u306e\u3088\u3046\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002(\u5b9f\u969b\u306b\u306fexpect\u3067\u306f\u306a\u304fshould\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c)\n\u308f\u304b\u308a\u306b\u304f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u6700\u5f8c\u306e item \u304c items \u306b\u306a\u3063\u3066\u3044\u308b\u70b9\u304c\u7570\u306a\u308a\u307e\u3059\u3002\nhave \u30de\u30c3\u30c1\u30e3\u3092\u4f7f\u3063\u305f\u5834\u5408\u3001 have(n).item \u3068 have(n).items \u306f\u4e92\u3044\u306b\u7f6e\u63db\u53ef\u80fd\u3067\u3059\u3002\n\u305f\u3060\u3057\u3001\u82f1\u8a9e\u3068\u3057\u3066\u307f\u305f\u5834\u5408\u306f have(1).item\u3001have(2).items\u3068\u3044\u3046\u3088\u3046\u306b\u4f7f\u3044\u5206\u3051\u305f\u65b9\u304c\u6b63\u3057\u3044\u82f1\u6587\u6cd5\u306b\u8fd1\u304f\u306a\u308a\u307e\u3059\u3002\n\u500b\u4eba\u7684\u306b\u306f\u6b63\u3057\u3044\u82f1\u6587\u6cd5\u306b\u8fd1\u3044\u65b9\u304c\u9055\u548c\u611f\u304c\u306a\u3044\u306e\u3067\u3001\u672c\u8a18\u4e8b\u3067\u306f\u5358\u6570\u5f62\u3068\u8907\u6570\u5f62\u3092\u4f7f\u3044\u5206\u3051\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\u3010\u6ce8\u76ee\uff01\u3011have \u30de\u30c3\u30c1\u30e3\u3092\u4f7f\u3046\u3079\u304d\u304b\u5426\u304b\uff1f\nRSpec 3\u304b\u3089 have \u30de\u30c3\u30c1\u30e3\u304c\u6a19\u6e96\u3067\u63d0\u4f9b\u3055\u308c\u306a\u304f\u306a\u3063\u305f\u7406\u7531\u306f\u3001RSpec\u306e\u4f5c\u8005\u3067\u3042\u308bMyron Marston\u6c0f\u306e\u30d6\u30ed\u30b0\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\nMyron Marston \u00bb Notable Changes in RSpec 3\n\u3053\u3053\u3067\u306f have \u30de\u30c3\u30c1\u30e3\u306e\u3053\u3068\u3092\u300cone of the more \u201cmagical\u201d and confusing parts of RSpec\u300d\u3068\u547c\u3093\u3067\u3044\u307e\u3059\u3002\n\u3064\u307e\u308a\u3001\u300c\u9ed2\u9b54\u8853\u7684\u3067\u3084\u3084\u3053\u3057\u3044\u304b\u3089\u300d\u3068\u3044\u3046\u306e\u304c\u3001 have \u30de\u30c3\u30c1\u30e3\u3092\u6a19\u6e96\u3067\u63d0\u4f9b\u3057\u306a\u304f\u306a\u3063\u305f\u7406\u7531\u306e\u3088\u3046\u3067\u3059\u3002\n\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u8a18\u4e8b\u3067\u306f\u3053\u306e\u3042\u3068\u3082 have \u30de\u30c3\u30c1\u30e3\u3092\u6d3b\u7528\u3057\u305fspec\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u304c\u7d9a\u304f\u306e\u3067\u3001\u672c\u8a18\u4e8b\u3067\u3082\u5f15\u304d\u7d9a\u304d have \u30de\u30c3\u30c1\u30e3\u3092\u4f7f\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001its \u30e1\u30bd\u30c3\u30c9\u3068\u540c\u69d8\u3001RSpec 3\u3067\u306f\u6a19\u6e96\u5b9f\u88c5\u304b\u3089\u5916\u308c\u305f\u4ee5\u4e0a\u3001\u307f\u306a\u3055\u3093\u81ea\u8eab\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u65b0\u3057\u304f have \u30de\u30c3\u30c1\u30e3\u3092\u4f7f\u3063\u305f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u306e\u306f\u907f\u3051\u305f\u65b9\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u518d\u5ea6 RSpec \u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u3055\u305b\u308b\n\u518d\u5ea6\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u8a18\u8ff0\u306e\u5408\u7406\u5316\u3092\u9032\u3081\u307e\u3057\u3087\u3046\u3002it \u306e\u6587\u5b57\u5217\u5f15\u6570\u3092\u5ec3\u3057\u3001 RSpec \u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u3055\u305b\u307e\u3059\u3002\nmessage_filter_spec.rb\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n-    it 'ng_words size is 1' do\n-      expect(subject.ng_words).to have(1).item\n-    end\n+    it { expect(subject.ng_words).to have(1).item }\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb  \n\nMessageFilter\n  with argument \"foo\"\n    should have 1 item\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00381 seconds (files took 0.09013 seconds to load)\n8 examples, 0 failures              \n$ git commit -am 'Remove example description'\n[3rd eeb560a] Remove example description\n 1 file changed, 1 insertion(+), 3 deletions(-)\n\nCommit\n\u3046\u3080\u3080\u3001\u307e\u305f\u3082\u60c5\u5831\u4e0d\u8db3\u3067\u3059\u306d\u3002\nMessageFilter\n  with argument \"foo\"\n    should have 1 item\n\n\u3068\u3001\u60c5\u5831\u91cf\u304c\u6e1b\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u307e\u3059\u3002\u3055\u3066\u3069\u3046\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u899a\u3048\u305f\u3066\u30db\u30e4\u30db\u30e4\u306e its \u3092\u4f7f\u3063\u3066\u307f\u308b\n\u5148\u7a0b\u305b\u3063\u304b\u304f\u899a\u3048\u305f\u306e\u3067\u3059\u304b\u3089\u3001\u899a\u3048\u305f\u3066\u30db\u30e4\u30db\u30e4\u306e its \u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nmessage_filter_spec.rb\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n     it { expect(subject.ng_words).to have(1).item }\n+    its(:ng_words) { is_expected.to have(1).item }\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n    ng_words\n      should have 1 item\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00378 seconds (files took 0.08807 seconds to load)\n8 examples, 0 failures\n$ git commit -am 'Use rspec-its'\n[3rd 028ace7] Use rspec-its\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\nCommit\n\u60c5\u5831\u304c\u4ed8\u52a0\u3055\u308c\u307e\u3057\u305f\u306d\u3002\u3053\u308c\u3067\u6e80\u8db3\u2026\u3067\u3057\u3087\u3046\u304b?\n\nhave(n).named_collection \u8a18\u6cd5\u3092\u4f7f\u3046\n\u5b9f\u306f\u3082\u3063\u3068\u826f\u3044\u66f8\u304d\u65b9\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u307e\u3067 have \u30de\u30c3\u30c1\u30e3\u306b\u5bfe\u3057\u3066 'items' \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3093\u3067\u3044\u307e\u3057\u305f\u304c\u3001have \u30de\u30c3\u30c1\u30e3\u306f\u30ec\u30b7\u30fc\u30d0(subject)\u304c\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3064\u5834\u5408\u306b\u3001\u305d\u306e\u30e1\u30bd\u30c3\u30c9\u540d\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nexpect(subject).to have(n).named_collection \n\n\u3068\u3044\u3046\u66f8\u304d\u65b9\u3067\u3059\u3002\u3053\u3053\u3067 named_collection \u306b subject \u304c\u6301\u3064\u30e1\u30bd\u30c3\u30c9\u540d\u3092\u4f7f\u3046\u3053\u3068\u304c\u51fa\u6765\u308b\u306e\u3067\u3059\u3002 RSpec \u306f\u6307\u5b9a\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u3092 subject \u306b\u5bfe\u3057\u3066\u547c\u3073\u51fa\u3057\u3001\u7d50\u679c\u306e\u6570\u3092\u5143\u306b\u691c\u8a3c\u3092\u884c\u3044\u307e\u3059\u3002\nRails \u306e ActiveRecord \u306e\u30e2\u30c7\u30eb\u3092\u60f3\u50cf\u3059\u308b\u3068\u308f\u304b\u308a\u3084\u3059\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\nclass Blog < ActiveRecord::Base\n  has_many :comments\nend\n\n\u3068\u3044\u3046\u30e2\u30c7\u30eb\u304c\u3042\u308b\u5834\u5408\u3001\nexpect(some_blog).to have(4).comments \n\n\u3068\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\n\u3067\u306f\u4eca\u56de\u306e\u4f8b\u3067\u306f\u3069\u3046\u306a\u308b\u3067\u3057\u3087\u3046\u304b\u3002\u66f8\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nmessage_filter_spec.rb\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n-    its(:ng_words) { is_expected.to have(1).item }\n+    it { is_expected.to have(1).ng_words }\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    should have 1 ng_words\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00408 seconds (files took 0.10256 seconds to load)\n8 examples, 0 failures\n$ git commit -am 'Use have(n).named_collection syntax'\n[3rd b7ed263] Use have(n).named_collection syntax\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\nCommit\n\u3069\u3046\u3067\u3057\u3087\u3046\u3002\nMessageFilter\n  with argument \"foo\"\n    should have 1 ng_words\n\n\u51fa\u529b\u306f\u524d\u3088\u308a\u3082\u826f\u3044\u5177\u5408\u306b\u306a\u308a\u307e\u3057\u305f\u306d\u3002\n\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u65b9\u3082\nits(:ng_words) { is_expected.to have(1).item }\n\n\u304b\u3089\nit { is_expected.to have(1).ng_words }\n\n\u3078\u3068\u66f8\u304d\u63db\u308f\u308a\u307e\u3057\u305f\u3002\u3069\u3046\u3067\u3057\u3087\u3046\u3002\u8aad\u307f\u3084\u3059\u304f\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\u3010\u6ce8\u76ee\uff01\u3011collection\u304c1\u500b\u3060\u3063\u305f\u3089\u5358\u6570\u5f62\u306b\u3059\u308b\u3093\u3058\u3083\u306a\u304b\u3063\u305f\u306e\uff1f\nhave \u30de\u30c3\u30c1\u30e3\u3092\u7d39\u4ecb\u3059\u308b\u3068\u304d\u306b\u3001\u300c\u672c\u8a18\u4e8b\u3067\u306f\u5358\u6570\u5f62\u3068\u8907\u6570\u5f62\u3092\u4f7f\u3044\u5206\u3051\u308b\u300d\u3068\u66f8\u304d\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u3067\u306f it { is_expected.to have(1).ng_words } \u306e\u3088\u3046\u306b\u8907\u6570\u5f62\u306e ng_words \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\u3067\u304d\u308c\u3070 it { is_expected.to have(1).ng_word } \u3068\u66f8\u304d\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u304c\u3001\u5358\u6570\u5f62\u306b\u3059\u308b\u3068 NoMethodError: undefined method 'ng_word' \u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u306e\u3067\u3001\u5358\u6570\u5f62\u3067\u306f\u66f8\u3051\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\u3088\u3063\u3066\u3001\u8907\u6570\u5f62\u306e ng_words \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u4ed5\u4e0a\u3052\n\u3082\u3046\u4e00\u3064\u306e context \u306e\u65b9\u3082 have(n).named_collection \u8a18\u6cd5\u3067\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u3001\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u7de0\u3081\u3068\u3057\u307e\u3057\u3087\u3046\u3002\nmessage_filter_spec.rb\n     subject { MessageFilter.new('foo', 'bar') }\n     it { is_expected.to be_detect('hello from bar') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n+    it { is_expected.to have(2).ng_words }\n   end\n end\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec -fd message_filter_spec.rb        \n\nMessageFilter\n  with argument \"foo\"\n    should have 1 ng_words\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    should have 2 ng_words\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00428 seconds (files took 0.15165 seconds to load)\n9 examples, 0 failures\n$ git commit -am 'Add example for 2 ng_words'\n[3rd 5210a85] Add example for 2 ng_words\n 1 file changed, 1 insertion(+)\n\nCommit\n\u30c6\u30b9\u30c8\u304c\u5168\u3066\u901a\u308a\u307e\u3057\u305f\u3002\u307e\u305a\u306f\u4e00\u5b89\u5fc3\u3067\u3059\u3002\n\u3010\u6ce8\u76ee\uff01\u3011\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u5b9f\u884c\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\n\u3053\u3053\u307e\u3067\u3001RSpec\u5b9f\u884c\u6642\u306b\u6bce\u56de -fd \u3068\u3044\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u3044\u307e\u3057\u305f\u304c\u3001 .rspec \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u305d\u306e\u4e2d\u306b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u66f8\u304f\u3068\u3001\u305d\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b .rspec \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u4e2d\u8eab\u3092\u7de8\u96c6\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ touch .rspec\n\n+-fd --color\n\n\u3053\u3053\u3067\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5f62\u5f0f\u306e\u51fa\u529b\u3092\u6307\u5b9a\u3059\u308b -fd \u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u52a0\u3048\u3001\u51fa\u529b\u7d50\u679c\u3092\u8272\u3065\u3051\u3059\u308b --color \u30aa\u30d7\u30b7\u30e7\u30f3\u3082\u4ed8\u3051\u3066\u307f\u307e\u3057\u305f\u3002\n\u305d\u308c\u3067\u306f\u4f55\u3082\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u305a\u306bRSpec\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ bundle exec rspec message_filter_spec.rb \n\nMessageFilter\n  with argument \"foo\"\n    should have 1 ng_words\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    should have 2 ng_words\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.01379 seconds (files took 0.15474 seconds to load)\n9 examples, 0 failures\n$ git add .\n$ git commit -m 'Add .rspec file'\n[3rd d005ccc] Add .rspec file\n 1 file changed, 1 insertion(+)\n create mode 100644 .rspec\n\nCommit\n\u3054\u89a7\u306e\u3088\u3046\u306b\u3001 -fd \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u306a\u304f\u3066\u3082\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5f62\u5f0f\u3067\u51fa\u529b\u3055\u308c\u307e\u3057\u305f\u3002\n--color \u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u52b9\u679c\u304c\u308f\u304b\u308a\u3065\u3089\u3044\u306e\u3067\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf\u3092\u8cbc\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\u30d1\u30b9\u3057\u305f\u30c6\u30b9\u30c8\u306f\u30b0\u30ea\u30fc\u30f3\u3067\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\u30c6\u30b9\u30c8\u304c\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3068\u3001\u30b0\u30ea\u30fc\u30f3\u3067\u306f\u306a\u304f\u30ec\u30c3\u30c9\u3067\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\n\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u7d42\u4e86\n\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u30c6\u30b9\u30c8/\u5b9f\u88c5\u30b3\u30fc\u30c9\u306f\u6700\u7d42\u7684\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nmessage_filter_spec.rb\nrequire_relative 'message_filter'\nrequire 'rspec/its'\nrequire 'rspec/collection_matchers'\n\ndescribe MessageFilter do\n  shared_examples 'MessageFilter with argument \"foo\"' do\n    it { is_expected.to be_detect('hello from foo') }\n    it { is_expected.not_to be_detect('hello, world!') }\n    its(:ng_words) { is_expected.not_to be_empty }\n  end\n  context 'with argument \"foo\"' do\n    subject { MessageFilter.new('foo') }\n    it_behaves_like 'MessageFilter with argument \"foo\"'\n    it { is_expected.to have(1).ng_words }\n  end\n  context 'with argument \"foo\",\"bar\"' do\n    subject { MessageFilter.new('foo', 'bar') }\n    it { is_expected.to be_detect('hello from bar') }\n    it_behaves_like 'MessageFilter with argument \"foo\"'\n    it { is_expected.to have(2).ng_words }\n  end\nend\n\nmessage_filter.rb\nclass MessageFilter\n  def initialize(*words)\n    @ng_words = words\n  end\n  attr_reader :ng_words\n  def detect?(text)\n    @ng_words.any?{|w| text.include?(w) }\n  end\nend\n\n\u3055\u3066\u3001\u3053\u3053\u307e\u3067\u3067\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306f\u7d42\u4e86\u3067\u3059\u3002\u30bf\u30b0\u3092\u6253\u3063\u3066\u7d42\u308f\u308a\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n$ git tag -a -m 'end of 3rd iteration' end_of_iter3\n\n\n\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u5b66\u3093\u3060\u3053\u3068\n\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u5b66\u3093\u3060\u3053\u3068\u3092\u307e\u3068\u3081\u3066\u307f\u307e\u3059\u3002\n\nsubject \u3092\u660e\u793a\u7684\u306a\u30ec\u30b7\u30fc\u30d0\u3068\u3057\u3066\u4f7f\u3046\u3053\u3068\u3082\u3067\u304d\u308b\n\u81ea\u5206\u304c\u6700\u521d\u306e\u30e6\u30fc\u30b6\nits \u30e1\u30bd\u30c3\u30c9\nhave \u30de\u30c3\u30c1\u30e3\nhave(n).named_collection \u8a18\u6cd5\nRSpec \u306b\u30d2\u30f3\u30c8\u3092\u4e0e\u3048\u3001 RSpec \u81ea\u8eab\u306b\u4ed5\u69d8\u3092\u8a18\u8ff0\u3055\u305b\u308b\u3053\u3068\u3067\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u81ea\u4f53\u3082\u81ea\u7136\u3068\u77ed\u3044\u8a18\u8ff0\u306b\u8fd1\u3065\u304f\u3068\u3044\u3046\u3001 RSpec \u306e\u30b3\u30c4\n\n\n\u304a\u308f\u308a\u306b: \u300cRSpec \u306e\u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078 \uff5eRSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3\uff5e\u300d\u306e\u3055\u3089\u306b\u5148\u3078\n\u4ee5\u4e0a\u3067\u300cRSpec \u306e\u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078 \uff5eRSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3\uff5e\u300d\u306f\u304a\u3057\u307e\u3044\u3067\u3059\u3002\n\u3053\u3053\u307e\u3067\u8aad\u3093\u3067\u304f\u3060\u3055\u3063\u305f\u307f\u306a\u3055\u3093\u3001\u3069\u3046\u3082\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\nRSpec\u306b\u306f\u4ed6\u306b\u3082\u591a\u304f\u306e\u6a5f\u80fd\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u307e\u3067\u306e\u5185\u5bb9\u3092\u7406\u89e3\u3067\u304d\u308c\u3070\u3001RSpec\u306e\u57fa\u790e\u77e5\u8b58\u306f\u307b\u307c\u8eab\u306b\u3064\u3044\u305f\u306f\u305a\u3067\u3059\u3002\nRSpec\u306b\u3064\u3044\u3066\u3082\u3063\u3068\u6df1\u304f\u5b66\u7fd2\u3057\u305f\u3044\u3001\u3068\u3044\u3046\u65b9\u306f\u50d5\u304c\u7ffb\u8a33\u306b\u643a\u308f\u3063\u305f\u96fb\u5b50\u66f8\u7c4d\u3001\u300cEveryday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580\u300d\u3092\u8aad\u3093\u3067\u3082\u3089\u3046\u3068\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u30c6\u30b9\u30c8\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u300c\u3054\u304f\u666e\u901a\u306eRuby\u30b3\u30fc\u30c9(Plain old Ruby)\u300d\u3067\u306f\u306a\u304f\u3001Rails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u300cRSpec \u306e\u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078\u300d\u3067\u306f\u89e6\u308c\u3089\u308c\u306a\u304b\u3063\u305f\u6a5f\u80fd(let\u3084mock\u7b49)\u306b\u3064\u3044\u3066\u3082\u8aac\u660e\u304c\u8f09\u3063\u3066\u3044\u307e\u3059\u3002\n\u96fb\u5b50\u66f8\u7c4d\u306a\u306e\u3067\u3001RSpec\u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3042\u308f\u305b\u3066\u968f\u6642\u5185\u5bb9\u3082\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nEveryday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580\n\n\u307e\u305f\u3001\u4eca\u5f8c\u3082\u3068\u304d\u3069\u304dQiita\u306bRSpec\u95a2\u9023\u306e\u8a18\u4e8b\u3092\u6295\u7a3f\u3057\u3066\u3044\u3053\u3046\u3068\u601d\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u826f\u304b\u3063\u305f\u3089\u30d5\u30a9\u30ed\u30fc\u3092\u304a\u9858\u3044\u3057\u307e\u3059\u3002(RSpec\u306e\u307f\u306a\u3089\u305a\u3001Ruby\u30cd\u30bf\u3084\u82f1\u8a9e\u30cd\u30bf\u306a\u3069\u3001\u3044\u308d\u3044\u308d\u96d1\u591a\u306b\u6295\u7a3f\u3057\u3066\u3044\u304d\u307e\u3059)\nhttp://qiita.com/jnchito\n\n\u3042\u308f\u305b\u3066\u8aad\u307f\u305f\u3044\n\u65e2\u5b58\u306eRSpec 2\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092RSpec 3\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n\nRSpec\u306e\u6700\u65b0\u306e\u52d5\u5411\u30fbRSpec 3\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u30ac\u30a4\u30c9\n\u65e2\u5b58\u306eRails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092RSpec 3.0\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u969b\u306e\u6ce8\u610f\u70b9 \uff5eRSpec 3\u306f\u6016\u304f\u306a\u3044\u3088\uff01\uff5e\n\nRSpec 3\u306e\u65b0\u6a5f\u80fd\u306b\u3064\u3044\u3066\u6df1\u304f\u6398\u308a\u4e0b\u3052\u305f\u3044\u65b9\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u3069\u3046\u305e\u3002\n\n\u4eca\u65e5\u304b\u3089\u4f7f\u3048\u308b\uff01RSpec 3\u3067\u8ffd\u52a0\u3055\u308c\u305f8\u3064\u306e\u65b0\u6a5f\u80fd\n\n\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3067\u306fRSpec\u306e\u57fa\u672c\u4e8b\u9805\u3092\u5b9f\u8df5\u7684\u306a\u8996\u70b9\u3067\u72ec\u81ea\u306b\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u4f7f\u3048\u308bRSpec\u5165\u9580\u30fb\u305d\u306e1\u300cRSpec\u306e\u57fa\u672c\u7684\u306a\u69cb\u6587\u3084\u4fbf\u5229\u306a\u6a5f\u80fd\u3092\u7406\u89e3\u3059\u308b\u300d\n\n\n\n# \u306f\u3058\u3081\u306b\n\n\u672c\u8a18\u4e8b\u306f\u548c\u7530\u5353\u4eba\u3055\u3093(@t_wada)\u304c\u66f8\u304b\u308c\u305f\u6709\u540d\u306aRSpec\u5165\u9580\u8a18\u4e8b\u3001\u300c[RSpec \u306e\u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078\u3001\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3](http://d.hatena.ne.jp/t-wada/20100801/rspec_3rd_iter)\u300d\u3092RSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u3057\u3066\u66f8\u304d\u76f4\u3057\u305f\u3082\u306e\u3067\u3059\u3002\n\n\u8a73\u3057\u304f\u306f[\u7b2c1\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3](http://qiita.com/jnchito/items/624f6d5023c279046a1c)\u306b\u66f8\u3044\u305f\u8aac\u660e\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \u5404\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3(RSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3)\u3078\u306e\u30ea\u30f3\u30af\n\n- [\u7b2c1\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3](http://qiita.com/jnchito/items/624f6d5023c279046a1c)\n- [\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3](http://qiita.com/jnchito/items/47f539ddca7dbc01acef)\n- \u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3(\u672c\u8a18\u4e8b)\n\n## \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306eURL\n\n- https://github.com/JunichiIto/rspec3-for-beginners/tree/3rd\n\n## \u672c\u8a18\u4e8b\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u3064\u3044\u3066\n\n\u672c\u8a18\u4e8b\u306f [\u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6\u30fb\u30b3\u30e2\u30f3\u30ba \u8868\u793a - \u7d99\u627f 4.0 \u56fd\u969b \u30e9\u30a4\u30bb\u30f3\u30b9](http://creativecommons.org/licenses/by-sa/4.0/)\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n![banner](https://i.creativecommons.org/l/by-sa/4.0/88x31.png)\n\n## \u5099\u8003\n\n- \u672c\u6587\u3084\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f\u6975\u529b\u30aa\u30ea\u30b8\u30ca\u30eb\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8e0f\u8972\u3057\u307e\u3059\u3002\n- \u8a18\u8ff0\u304c\u53e4\u304f\u306a\u3063\u3066\u3044\u308b\u7b87\u6240\u306f\u65b0\u3057\u3044\u8a18\u8ff0\u65b9\u6cd5\u306b\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\n- \u65b0\u3057\u3044\u8a18\u8ff0\u65b9\u6cd5\u3084\u548c\u7530\u3055\u3093\u306e\u30aa\u30ea\u30b8\u30ca\u30eb\u8a18\u4e8b\u306b\u66f8\u304b\u308c\u3066\u3044\u306a\u3044\u60c5\u5831\u306b\u306f **\u3010\u6ce8\u76ee\uff01\u3011** \u306e\u5370\u3092\u4ed8\u3051\u3066\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002\n- [\u7b2c1\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3](http://qiita.com/jnchito/items/624f6d5023c279046a1c)\u3001[\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3](http://qiita.com/jnchito/items/47f539ddca7dbc01acef)\u3067\u3059\u3067\u306b\u8aac\u660e\u3057\u305f **\u3010\u6ce8\u76ee\uff01\u3011** \u60c5\u5831(should\u304cexpect(...).to\u306b\u5909\u308f\u3063\u305f\u70b9\u7b49)\u306f\u672c\u8a18\u4e8b\u3067\u306f\u8aac\u660e\u3057\u307e\u305b\u3093\u3002\n\n# \u524d\u56de\u7d42\u4e86\u6642\u70b9\u306e\u30b3\u30fc\u30c9\u3068\u5b9f\u884c\u7d50\u679c\n\n\u3053\u306e\u300cRSpec \u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078\u300d\u30b7\u30ea\u30fc\u30ba\u3067\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30a3\u30eb\u30bf\u3092 RSpec \u3092\u4f7f\u3063\u3066\u958b\u767a\u3059\u308b\u3053\u3068\u3067\u3001 RSpec \u306e\u6a5f\u80fd\u3068 TDD \u3092\u540c\u6642\u306b\u5b66\u3076\u3053\u3068\u3092\u72d9\u3044\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u524d\u56de\u7d42\u4e86\u6642\u70b9\u306e\u30b3\u30fc\u30c9\u3068\u5b9f\u884c\u7d50\u679c\u3092\u307e\u305a\u8a18\u3057\u307e\u3059\u3002\n\n[message_filter.rb](https://github.com/JunichiIto/rspec3-for-beginners/blob/end_of_iter2/message_filter.rb)\n\n````ruby\nclass MessageFilter\n  def initialize(*words)\n    @words = words\n  end\n  def detect?(text)\n    @words.any?{|w| text.include?(w) }\n  end\nend\n````\n\n[message_filter_spec.rb](https://github.com/JunichiIto/rspec3-for-beginners/blob/end_of_iter2/message_filter_spec.rb)\n\n````ruby\nrequire_relative 'message_filter'\n\ndescribe MessageFilter do\n  shared_examples 'MessageFilter with argument \"foo\"' do\n    it { is_expected.to be_detect('hello from foo') }\n    it { is_expected.not_to be_detect('hello, world!') }\n  end\n  context 'with argument \"foo\"' do\n    subject { MessageFilter.new('foo') }\n    it_behaves_like 'MessageFilter with argument \"foo\"'\n  end\n  context 'with argument \"foo\",\"bar\"' do\n    subject { MessageFilter.new('foo', 'bar') }\n    it { is_expected.to be_detect('hello from bar') }\n    it_behaves_like 'MessageFilter with argument \"foo\"'\n  end\nend\n````\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n\nFinished in 0.00466 seconds (files took 0.09372 seconds to load)\n5 examples, 0 failures\n````\n\n# \u65b0\u4ed5\u69d8\u8ffd\u52a0\n\n\u3055\u3066\u3001\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u6a5f\u80fd\u3092\u307e\u305f\u65b0\u3057\u304f\u52a0\u3048\u3066\u3086\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u3068\u3001\u305d\u306e\u524d\u306b\u524d\u56de git \u3092\u4f7f\u3063\u3066\u3044\u305f\u4eba\u306f\u3001\u524d\u56de\u306e\u30d6\u30e9\u30f3\u30c1\u3092\u30de\u30fc\u30b8\u3057\u3066\u65b0\u3057\u3044\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n````bash\n$ git checkout master\nSwitched to branch 'master'\nYour branch is ahead of 'origin/master' by 15 commits.\n  (use \"git push\" to publish your local commits)\n$ git merge 2nd\nUpdating 6740238..05d2bf1\nFast-forward\n message_filter.rb      |  6 +++---\n message_filter_spec.rb | 18 ++++++++++++++----\n 2 files changed, 17 insertions(+), 7 deletions(-)\n$ git checkout -b 3rd\nSwitched to a new branch '3rd'\n````\n\n# \u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u958b\u59cb\n\n\u3055\u3066\u3001\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f NG \u30ef\u30fc\u30c9\u306b\u95a2\u3059\u308b\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u5177\u4f53\u7684\u306b\u306f\u3001 MessageFilter \u306b NG \u30ef\u30fc\u30c9\u304c\u3044\u304f\u3064\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u3001\u3069\u3093\u306a NG \u30ef\u30fc\u30c9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u304c\u5206\u304b\u308b\u3088\u3046\u306a\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u6700\u521d\u306b\u66f8\u304f\u306e\u306f\u2026\u305d\u3046\u3001 spec \u304b\u3089\u3067\u3059\u306d\u3002\u7b2c2\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u307e\u3067\u306e spec \u306e context \u3067\u65e2\u306b NG \u30ef\u30fc\u30c9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3067\u3001 NG \u30ef\u30fc\u30c9\u304c\u7a7a\u3067\u306a\u3044\u3001\u3068\u3044\u3046\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nmessage_filter_spec.rb\n\n````diff\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n+    it 'ng_words should not be empty' do\n+      expect(subject.ng_words.empty?).to eq false\n+    end\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n````\n\n## subject \u3092\u660e\u793a\u7684\u306a\u30ec\u30b7\u30fc\u30d0\u3068\u3057\u3066\u4f7f\u3046\n\n\u3053\u3053\u3067\n\n````ruby\nexpect(subject.ng_words.empty?).to eq false\n````\n\n\u3068\u3044\u3046\u66f8\u304d\u65b9\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e subject \u306f\u4f55\u304b\u3068\u3044\u3046\u3068\u3001 subject \u30d6\u30ed\u30c3\u30af\u306e\u8a55\u4fa1\u7d50\u679c\u304c\u8fd4\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\n\u524d\u56de\u307e\u3067\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001 it \u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u3067 should \u306e\u30ec\u30b7\u30fc\u30d0\u304c\u6697\u9ed9\u7684\u306b subject \u30d6\u30ed\u30c3\u30af\u306e\u8a55\u4fa1\u7d50\u679c\u306b\u306a\u308b\u3068\u3044\u3046\u8aac\u660e\u3092\u3057\u3066\u304d\u307e\u3057\u305f\u304c\u3001\u660e\u793a\u7684\u306b subject \u30d6\u30ed\u30c3\u30af\u306e\u8a55\u4fa1\u7d50\u679c\u3092\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u5185\u3067\u4f7f\u3044\u305f\u3044\u5834\u5408\u306b\u306f\u3001 subject \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3053\u3068\u304c\u51fa\u6765\u307e\u3059(\u3061\u3087\u3063\u3068\u7d1b\u3089\u308f\u3057\u3044\u3067\u3059\u306d)\u3002\n\n\n\u3067\u306f\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\n\n````bash\n$ bundle exec rspec message_filter_spec.rb \nF.....\n\nFailures:\n\n  1) MessageFilter with argument \"foo\" ng_words should not be empty\n     Failure/Error: expect(subject.ng_words.empty?).to eq false\n     NoMethodError:\n       undefined method `ng_words' for #<MessageFilter:0x007f9266950fb0 @words=[\"foo\"]>\n     # ./message_filter_spec.rb:12:in `block (3 levels) in <top (required)>'\n\nFinished in 0.00379 seconds (files took 0.08248 seconds to load)\n6 examples, 1 failure\n\nFailed examples:\n\nrspec ./message_filter_spec.rb:11 # MessageFilter with argument \"foo\" ng_words should not be empty\n$ git commit -am 'Add spec for ng_word'\n[3rd 83085ac] Add spec for ng_word\n 1 file changed, 3 insertions(+)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/83085acb34ce15c62ec814eae0adfd5ef5aa0e83)\n\nng_words \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u7121\u3044\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3001\u3081\u3067\u305f\u304f(?)\u3001\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u307e\u3060\u5b9f\u88c5\u3057\u3066\u3044\u306a\u3044\u6a5f\u80fd\u306b\u5bfe\u3059\u308b\u30c6\u30b9\u30c8\u3067\u3059\u304b\u3089\u3001\u843d\u3061\u308b\u306e\u304c\u5f53\u7136\u3067\u3059\u306d\u3002 TDD \u3067\u306f\u5927\u4e8b\u306a\u30b9\u30c6\u30c3\u30d7\u3067\u3059\u3002\u3067\u306f\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3057\u3087\u3046\u3002\n\n# \u660e\u767d\u306a\u5b9f\u88c5\n\n\u524d\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u8ffd\u52a0\u3057\u305f spec \u306f\u3001\u30b3\u30fc\u30c9\u306e\u5229\u7528\u8005\u304b\u3089\u898b\u305f\u8996\u70b9\u3067\u66f8\u304d\u307e\u3057\u305f\u3002\u3053\u306e\u30c6\u30b9\u30c8\u3092\u901a\u3059\u305f\u3081\u306b\u307e\u305f\u300c\u4eee\u5b9f\u88c5\u300d\u3092\u3057\u3066\u3082\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u3053\u3053\u306f\u4e00\u6c17\u306b\u5b9f\u88c5\u307e\u3067\u884c\u3046\u300c\u660e\u767d\u306a\u5b9f\u88c5(Obvious Implementation)\u300d\u8def\u7dda\u3067\u884c\u3063\u3066\u307f\u307e\u3059\u3002 attr_reader \u3067\u5b9f\u88c5\u3067\u304d\u305d\u3046\u3067\u3059\u306d\u3002\n\nmessage_filter.rb\n\n````diff\n class MessageFilter\n   def initialize(*words)\n-    @words = words\n+    @ng_words = words\n   end\n+  attr_reader :ng_words\n   def detect?(text)\n-    @words.any?{|w| text.include?(w) }\n+    @ng_words.any?{|w| text.include?(w) }\n   end\n end\n````\n\n`@words` \u3068\u3044\u3046\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092 `@ng_words` \u3068\u66f8\u304d\u63db\u3048\u3001\u6b21\u306b attr_reader \u3092\u5b9a\u7fa9\u3057\u3066\u5916\u304b\u3089\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u898b\u3048\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u3053\u3053\u306b\u3082\u3001\u30c6\u30b9\u30c8\u304b\u3089\u5148\u306b\u66f8\u304f\u610f\u5473\u3068\u52b9\u679c\u304c\u73fe\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u3053\u307e\u3067\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u304d\u305f\u5b9f\u88c5\u8005\u306e\u8996\u70b9\u3067\u306f\u3001 MessageFilter \u306e\u5185\u90e8\u5909\u6570\u3068\u3057\u3066 `@words` \u3068\u3044\u3046\u540d\u524d\u3092\u4f7f\u3046\u3053\u3068\u306f\u7c21\u6f54\u3067\u826f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u30c6\u30b9\u30c8\u3092\u5148\u306b\u66f8\u304f\u3068\u3044\u3046\u8996\u70b9\u3001\u3064\u307e\u308a\u30b3\u30fc\u30c9\u306e\u5229\u7528\u8005\u304b\u3089\u898b\u305f\u8996\u70b9\u3067\u306f\u3069\u3046\u3067\u3057\u3087\u3046\u304b\u3002 message_filter.words \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u3067\u306f\u3001\u300c words \u300d\u304c NG \u30ef\u30fc\u30c9\u3092\u6307\u3059\u306e\u304b\u3001\u305d\u308c\u3068\u3082\u691c\u51fa\u3055\u308c\u305f\u8a00\u8449\u3092\u6307\u3059\u306e\u304b\u304c\u5206\u304b\u308a\u306b\u304f\u304f\u306a\u3066\u3057\u307e\u3063\u3066\u3044\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n## \u6700\u521d\u306e\u5229\u7528\u8005\u306f\u81ea\u5206\n\nTDD \u3067\u306f\u3001\u5b9f\u88c5\u306e\u524d\u306b\u30c6\u30b9\u30c8\u3092\u66f8\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u534a\u3070\u5f37\u5236\u7684\u306b\u300c\u5229\u7528\u8005\u306e\u8996\u70b9\u300d\u3092\u5f97\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3001\u3068\u3044\u3046\u52b9\u679c\u3092\u6301\u3061\u307e\u3059\u3002\u307e\u3060\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8\u306a\u306e\u3067\u3059\u304b\u3089\u300c\u81ea\u5206\u306f\u3053\u3046\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u308f\u304b\u308a\u3084\u3059\u3044\u300d\u300c\u3053\u3046\u3044\u3046\u540d\u524d\u304c\u826f\u3044\u300d\u3001\u9006\u306b\u300c\u3053\u3046\u3044\u3046\u540d\u524d\u306f\u66d6\u6627\u3067\u4e0d\u5b89\u300d\u300c\u5f15\u6570\u304c\u6587\u5b57\u52175\u3064\u3068\u304b\u3042\u308a\u3048\u306a\u3044\u300d\u306a\u3069\u306e\u30b3\u30fc\u30c9\u3092\u5229\u7528\u3059\u308b\u5074\u3068\u3057\u3066\u306e\u8996\u70b9\u3084\u611f\u60c5\u3092\u5f97\u3089\u308c\u307e\u3059\u3002\nTDD \u3067\u306f\u3001\u305d\u306e\u611f\u60c5\u3084\u5229\u7528\u8005\u3068\u3057\u3066\u306e\u8a2d\u8a08\u5224\u65ad\u3092\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3068\u3044\u3046\u5f62\u3067\u8a18\u3057\u3001\u305d\u306e\u5f8c\u3067\u5b9f\u88c5\u3092\u884c\u3046\u3053\u3068\u3067\u3001\u65e2\u5b58\u306e\u5b9f\u88c5\u306b\u5f15\u304d\u305a\u3089\u308c\u306b\u304f\u3044\u300c\u3053\u3046\u3057\u305f\u3044\u300d\u300c\u3053\u3046\u3042\u308b\u3079\u304d\u300d\u3068\u3044\u3046\u5b9f\u88c5\u3092\u5f15\u304d\u51fa\u3057\u3084\u3059\u304f\u306a\u308b\u3068\u3044\u3046\u52b9\u679c\u304c\u3042\u308a\u307e\u3059\u3002\n\u300c\u81ea\u5206\u304c\u66f8\u304f\u30b3\u30fc\u30c9\u306e\u6700\u521d\u306e\u5229\u7528\u8005\u306f\u81ea\u5206\u300d\u3068\u3044\u3046\u306e\u304c TDD \u306e\u30eb\u30fc\u30eb\u3067\u3059\u3002\u82f1\u8a9e\u3067\u306f\u300c Eat your own dog food (\u81ea\u5206\u306e\u30c9\u30c3\u30b0\u30d5\u30fc\u30c9\u3092\u98df\u3079\u308d)\u300d\u3068\u3044\u3046\u30d5\u30ec\u30fc\u30ba\u3067\u77e5\u3089\u308c\u3066\u3044\u308b\u8003\u3048\u65b9\u3067\u3082\u3042\u308a\u307e\u3059\u3002\n\n\n\u3067\u306f\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\n\n````bash\n$ bundle exec rspec message_filter_spec.rb\n......\n\nFinished in 0.00675 seconds (files took 0.08174 seconds to load)\n6 examples, 0 failures\n$ git commit -am 'Add ng_word accessor'\n[3rd f9cf563] Add ng_word accessor\n 1 file changed, 3 insertions(+), 2 deletions(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/f9cf56302ce203b3f55fa84f20b5845b5f43dcfd)\n\n# predicate \u30de\u30c3\u30c1\u30e3\u306b\u66f8\u304d\u63db\u3048\u308b\n\n\u4ee5\u524d\u3082\u66f8\u304d\u307e\u3057\u305f\u304c\u3001 \u771f\u507d\u5024\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\u306f predicate \u30de\u30c3\u30c1\u30e3\u3068\u3044\u3046\u5f62\u5f0f\u306b\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u3067\u53ef\u8aad\u6027\u3092\u4e0a\u3052\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n````ruby\nexpect(subject.ng_words.empty?).to eq false\n````\n\n\u3068\u3044\u3046\u66f8\u304d\u65b9\u306f\n\n````ruby\nexpect(subject.ng_words).not_to be_empty\n````\n\n\u3068\u3044\u3046\u66f8\u304d\u65b9\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u65b9\u304c\u8aad\u307f\u3084\u3059\u304f\u3001\u9055\u548c\u611f\u304c\u7121\u3044\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002(expect \u306e\u5f15\u6570\u304c subject \u304b\u3089\u59cb\u307e\u308b\u3068\u3053\u308d\u306b\u9055\u548c\u611f\u304c\u3042\u308a\u307e\u3059\u304c\u2026)\n\nmessage_filter_spec.rb\n\n````diff\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n     it 'ng_words should not be empty' do\n-      expect(subject.ng_words.empty?).to eq false\n+      expect(subject.ng_words).not_to be_empty\n     end\n   end\n   context 'with argument \"foo\",\"bar\"' do\n````\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    ng_words should not be empty\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n\nFinished in 0.0029 seconds (files took 0.08092 seconds to load)\n6 examples, 0 failures\n$ git commit -am 'Use predicate matcher'\n[3rd b4656f4] Use predicate matcher\n 1 file changed, 1 insertion(+), 1 deletion(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/b4656f49b6989c9473dedd564ab9adefb481a7f9)\n\n\u554f\u984c\u306a\u3055\u305d\u3046\u3067\u3059\u306d\u3002\n\n# RSpec \u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u3055\u305b\u308b\n\n\u3055\u3066\u3001\u3053\u306e\u300cRSpec \u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078\u300d\u30b7\u30ea\u30fc\u30ba\u3067\u306f\u4e00\u8cab\u3057\u3066\u300c\u306a\u308b\u3079\u304f it \u30e1\u30bd\u30c3\u30c9\u306e\u6587\u5b57\u5217\u5f15\u6570\u3092\u4f7f\u308f\u305a\u306b\u3001 RSpec \u81ea\u8eab\u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u3055\u305b\u308b\u300d\u3068\u3044\u3046\u65b9\u91dd\u3067\u9032\u3081\u3066\u304d\u307e\u3057\u305f\u3002\n\n````ruby\nit 'ng_words should not be empty' do\n````\n\n\u3068\u3044\u3046\u8a18\u8ff0\u3082\u3044\u304b\u306b\u3082 RSpec \u81ea\u8eab\u306b\u7d44\u307f\u7acb\u3066\u3055\u305b\u308b\u3053\u3068\u304c\u51fa\u6765\u305d\u3046\u3067\u3059\u3002\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nmessage_filter_spec.rb\n\n````diff\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n-    it 'ng_words should not be empty' do\n-      expect(subject.ng_words).not_to be_empty\n-    end\n+    it { expect(subject.ng_words).not_to be_empty }\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n````\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    should not be empty\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n\nFinished in 0.00306 seconds (files took 0.08187 seconds to load)\n6 examples, 0 failures\n$ git commit -am 'Remove example description'\n[3rd 5b9f8ea] Remove example description\n 1 file changed, 1 insertion(+), 3 deletions(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/5b9f8ea4efd0ce367bd38fe805a72a1e69da67d5)\n\n\u3080? \u306a\u306b\u304b\u304a\u304b\u3057\u3044\u3067\u3059\u306d\u2026\n\nRSpec \u81ea\u8eab\u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u3055\u305b\u308b\u3068\n\n````bash\nMessageFilter\n  with argument \"foo\"\n    should not be empty\n````\n\n\u300c MessageFilter with argument \"foo\" should not be empty \u300d\u2026\u610f\u5473\u3092\u6b63\u78ba\u306b\u4f1d\u3048\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002 RSpec \u306b\u3082\u3063\u3068\u30d2\u30f3\u30c8\u3092\u4e0e\u3048\u306a\u304f\u3066\u306f\u306a\u3089\u306a\u3044\u3088\u3046\u3067\u3059\u306d\u3002\n\n**\u3010\u6ce8\u76ee\uff01\u3011it \u30e1\u30bd\u30c3\u30c9\u306e\u6587\u5b57\u5217\u5f15\u6570\u3092\u4f7f\u3046\u3053\u3068\u306f\u60aa\u3067\u306f\u3042\u308a\u307e\u305b\u3093**\n\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u8a18\u4e8b\u3067\u306f\u300c\u306a\u308b\u3079\u304f it \u30e1\u30bd\u30c3\u30c9\u306e\u6587\u5b57\u5217\u5f15\u6570\u3092\u4f7f\u308f\u305a\u306b\u3001 RSpec \u81ea\u8eab\u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u3055\u305b\u308b\u300d\u3068\u3044\u3046\u65b9\u91dd\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u5fc5\u305a\u3057\u3082\u3053\u308c\u304cRSpec\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3060\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3042\u304f\u307e\u3067\u30a2\u30d7\u30ed\u30fc\u30c1\u306e\u4e00\u3064\u3067\u3059\u3002\n\n\u305f\u3057\u304b\u306b\u3001\u6587\u5b57\u5217\u5f15\u6570\u3092\u4f7f\u308f\u305a\u306b\u304d\u308c\u3044\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5f62\u5f0f\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u304c\u51fa\u305b\u308b\u306e\u306f\u6c17\u6301\u3061\u304c\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u3057\u304b\u3057\u3001\u305d\u308c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u9577\u6642\u9593\u8a66\u884c\u932f\u8aa4\u3057\u305f\u308a\u3001\u6587\u5b57\u5217\u5f15\u6570\u3092\u4f7f\u308f\u306a\u3044\u3053\u3068\u304c\u76ee\u7684\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u30c8\u30ea\u30c3\u30ad\u30fc\u306b\u306a\u3063\u305f\u308a\u3057\u3066\u3057\u307e\u3046\u306e\u306f\u9006\u52b9\u679c\u3067\u3059\u3002\n\n\u300c\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u308b\u306a\u300d\u300c\u304b\u3048\u3063\u3066\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u3084\u3084\u3053\u3057\u304f\u306a\u308b\u306a\u300d\u3068\u601d\u3063\u305f\u3068\u304d\u306f\u3001\u8e8a\u8e87\u305b\u305a\u306b\u6587\u5b57\u5217\u5f15\u6570\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\n\u82f1\u8a9e\u304c\u82e6\u624b\u306a\u306e\u3067\u3042\u308c\u3070\u65e5\u672c\u8a9e\u3067\u66f8\u304f\u306e\u3082\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n# its\u30e1\u30bd\u30c3\u30c9\n\nRSpec \u306b\u60c5\u5831\u3092\u4e0e\u3048\u308b\u305f\u3081\u306b\u3001\u3053\u3053\u3067 its \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\n**\u3010\u6ce8\u76ee\uff01\u3011RSpec 3\u3067\u306f rspec-its gem\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059**\n\u3053\u306e its \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u306fRSpec 3\u304b\u3089\u306f\u6a19\u6e96\u3067\u63d0\u4f9b\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\nits \u3092\u4f7f\u3046\u5834\u5408\u306f rspec-its \u3068\u3044\u3046gem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u307e\u305a\u3001Gemfile\u3092\u6b21\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\n\nGemfile\n\n````diff\n source 'https://rubygems.org'\n \n gem 'rspec', '3.0.0'\n+gem 'rspec-its', '1.0.1'\n````\n\n\u7d9a\u3044\u3066\u3001bundle install \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n````bash\n$ bundle install\nFetching gem metadata from https://rubygems.org/.........\nFetching additional metadata from https://rubygems.org/..\nResolving dependencies...\nUsing diff-lcs 1.2.5\nUsing rspec-support 3.0.2\nUsing rspec-core 3.0.2\nUsing rspec-expectations 3.0.2\nUsing rspec-mocks 3.0.2\nUsing rspec 3.0.0\nInstalling rspec-its 1.0.1\nUsing bundler 1.6.2\nYour bundle is complete!\nUse `bundle show [gemname]` to see where a bundled gem is installed.\n````\n\n## its \u30e1\u30bd\u30c3\u30c9\u306e\u5c0e\u5165\n\nits \u30e1\u30bd\u30c3\u30c9\u306f\u5f15\u6570\u306b Symbol \u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002\u305d\u3057\u3066 subject \u306b\u5bfe\u3057\u3066 Symbol \u3067\u6307\u5b9a\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u3001\u305d\u306e\u623b\u308a\u5024\u3092 its \u306e\u30d6\u30ed\u30c3\u30af\u5185\u3067\u306e should \u306e\u6697\u9ed9\u306e\u30ec\u30b7\u30fc\u30d0\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\u3061\u3087\u3063\u3068\u8907\u96d1\u306a\u306e\u3067\u3001\u5b9f\u969b\u306b\u4f8b\u3092\u898b\u305f\u65b9\u304c\u826f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u4eca\u56de\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306f\u3001 its \u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u6b21\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\nmessage_filter_spec.rb\n\n````diff\n require_relative 'message_filter'\n+require 'rspec/its'\n \n describe MessageFilter do\n   shared_examples 'MessageFilter with argument \"foo\"' do\n````\n\n````diff\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n-    it { expect(subject.ng_words).not_to be_empty }\n+    its(:ng_words) { is_expected.not_to be_empty }\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n\n````\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\u3002\u3055\u3066\u3001\u3069\u3046\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n    ng_words\n      should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n\nFinished in 0.00403 seconds (files took 0.14538 seconds to load)\n6 examples, 0 failures\n$ git commit -am 'Use rspec-its'\n[3rd 91637bd] Use rspec-its\n 3 files changed, 7 insertions(+), 1 deletion(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/91637bd8c58e86fc2e3fa9643162771e5916116e)\n\n\u51fa\u529b\u304c\u5909\u308f\u308a\u307e\u3057\u305f\u306d\u3002\n\n````bash\nMessageFilter\n  with argument \"foo\"\n    (\u4e2d\u7565)\n    ng_words\n      should not be empty\n````\n\n\u300c MessageFilter with argument \"foo\" ng_words should not be empty \u300d\u2026\u304e\u3053\u3061\u306a\u304f\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u88dc\u8db3\u60c5\u5831\u304c\u52a0\u308f\u308a\u307e\u3057\u305f\u3002\n\n\u305d\u308c\u3088\u308a\u3082\u3001\u5927\u304d\u304f\u53ef\u8aad\u6027\u304c\u4e0a\u304c\u3063\u305f\u306e\u306f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u65b9\u3067\u3059\u3002\n\n````ruby\nits(:ng_words) { is_expected.not_to be_empty }\n````\n\n\u62ec\u5f27\u3084\u8a18\u53f7\u3092\"\u898b\u3048\u306a\u3044\u3082\u306e\"\u3068\u3059\u308b\u3068\u3001\u300c its ng words is expected not to be empty \u300d\u3068\u306a\u308a\u307e\u3059\u3002\u524d\u3088\u308a\u3082\u81ea\u7136\u306b\u8aad\u3081\u308b\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n**\u3010\u6ce8\u76ee\uff01\u3011its \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3079\u304d\u304b\u5426\u304b\uff1f**\nRSpec 3\u304b\u3089 its \u30e1\u30bd\u30c3\u30c9\u304c\u6a19\u6e96\u3067\u63d0\u4f9b\u3055\u308c\u306a\u304f\u306a\u3063\u305f\u7406\u7531\u306f\u3001RSpec\u306e\u4f5c\u8005\u3067\u3042\u308bMyron Marston\u6c0f\u306e\u30d6\u30ed\u30b0\u306b\u8a73\u3057\u304f\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\n\n[Explanation for why \\`its\\` will be removed from rspec-3](https://gist.github.com/myronmarston/4503509)\n\n\u3053\u306e\u30d6\u30ed\u30b0\u3067\u306f its \u30e1\u30bd\u30c3\u30c9\u306e\u671b\u307e\u3057\u304f\u306a\u3044\u4f7f\u3044\u65b9\u304c\u8f09\u3063\u3066\u3044\u307e\u3059\u3002\n\n````ruby\nUser = Struct.new(:name, :email)\n\ndescribe User do\n  subject { User.new(\"bob\") }\n  its(:name) { should == \"bob\" }\nend\n````\n\n````bash\n$ bin/rspec user_spec.rb --format doc\n\nUser\n  name\n    should == \"bob\"\n\nFinished in 0.00085 seconds\n1 example, 0 failures\n\nRandomized with seed 25153\n````\n\n\u5b9f\u884c\u7d50\u679c\u3092\u8aad\u3080\u3068\u300cUser name should == \"bob\"\u300d\u3068\u306a\u308a\u3001`User#name`\u304c\u5e38\u306b\"bob\"\u3092\u8fd4\u3059\u3088\u3046\u306b\u898b\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\nits \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3068\u7c21\u6f54\u306b\u66f8\u3051\u308b\u30e1\u30ea\u30c3\u30c8\u306f\u3042\u308b\u3082\u306e\u306e\u3001\u8aa4\u89e3\u3055\u308c\u304b\u306d\u306a\u3044\u51fa\u529b\u7d50\u679c\u3092\u751f\u307f\u51fa\u3059\u30c7\u30e1\u30ea\u30c3\u30c8\u306e\u65b9\u304c\u5f37\u3044\u306e\u3067\u3001\u6a19\u6e96\u3067\u63d0\u4f9b\u3059\u308b\u306e\u3092\u3084\u3081\u305f\u3088\u3046\u3067\u3059\u3002\n\n\u672c\u8a18\u4e8b\u3067\u306f its \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u3082\u4e0a\u8a18\u306e\u30c7\u30e1\u30ea\u30c3\u30c8\u304c\u51fa\u306a\u3044\u3088\u3046\u306a\u4f7f\u308f\u308c\u65b9\u3092\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u5f15\u304d\u7d9a\u304d its \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u3057\u304b\u3057\u3001RSpec 3\u3067\u306f\u660e\u78ba\u306a\u7406\u7531\u3092\u3082\u3063\u3066\u6a19\u6e96\u5b9f\u88c5\u304b\u3089\u5916\u308c\u305f\u4ee5\u4e0a\u3001\u307f\u306a\u3055\u3093\u81ea\u8eab\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u65b0\u3057\u304f its \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u305f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u306e\u306f\u907f\u3051\u305f\u65b9\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n# shared_examples \u306b\u79fb\u52d5\u3059\u308b\n\n\u3068\u3053\u308d\u3067\u3001\u300c its ng words is expected not to be empty \u300d\u3068\u3044\u3046\u4ed5\u69d8\u306f \"foo\" \u306e\u5834\u5408\u3060\u3051\u3067\u306a\u304f \"foo, bar\" \u3067\u3082\u5f53\u3066\u306f\u307e\u308a\u307e\u3059\u306d\u3002\u306a\u306e\u3067\u3001 shared_examples \u306e\u30d6\u30ed\u30c3\u30af\u306b\u79fb\u3057\u307e\u3057\u3087\u3046\u3002\n\nmessage_filter_spec.rb\n\n````diff\n   shared_examples 'MessageFilter with argument \"foo\"' do\n     it { is_expected.to be_detect('hello from foo') }\n     it { is_expected.not_to be_detect('hello, world!') }\n+    its(:ng_words) { is_expected.not_to be_empty }\n   end\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n-    its(:ng_words) { is_expected.not_to be_empty }\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n````\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00386 seconds (files took 0.14411 seconds to load)\n7 examples, 0 failures\n$ git commit -am 'Move its-example to shared_examples'\n[3rd 111454e] Move its-example to shared_examples\n 1 file changed, 1 insertion(+), 1 deletion(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/111454e3b336690812d82ed377454206c3b2e40d)\n\n\u5927\u4e08\u592b\u305d\u3046\u3067\u3059\u306d\u3002\n\n# do...end \u304b\u3089 {...} \u3078\u306e\u5909\u66f4\u3068\u305d\u306e\u610f\u56f3\u306b\u3064\u3044\u3066\n\n\u3053\u306e\u30b7\u30ea\u30fc\u30ba\u3067\u306f\u3001\u3053\u308c\u307e\u3067\u3082\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u4e2d\u3067\u30d6\u30ed\u30c3\u30af\u306e\u66f8\u304d\u65b9\u3092 do...end \u304b\u3089 {...} \u3078\u306e\u5909\u66f4\u3092\u4f55\u5ea6\u304b\u884c\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\u4e8c\u3064\u306e\u66f8\u304d\u65b9\u306e\u3069\u3061\u3089\u3092\u9078\u629e\u3059\u308b\u304b\u306f\u30d7\u30ed\u30b0\u30e9\u30de\u306e\u81ea\u7531\u3067\u3059\u304c\u3001\u6163\u4f8b\u7684\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30eb\u30fc\u30eb\u306b\u5f93\u3046\u3053\u3068\u304c\u591a\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n> \u305f\u3060\u3057\u3001\u30e1\u30bd\u30c3\u30c9\u30c1\u30a7\u30a4\u30f3\u3092\u884c\u3046\u5834\u5408\u306f{ ... }\u3092\u4f7f\u7528\u3059\u308b\n\n> [Ruby\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u898f\u7d04](http://shugo.net/ruby-codeconv/codeconv.html)\n\n\u3000\n\n> \u307e\u305a\u57fa\u672c\u7684\u306a\u4f7f\u3044\u308f\u3051\u3068\u3057\u3066\u3001\u8907\u6570\u56de\u547c\u3076\u53ef\u80fd\u6027\u304c\u3042\u308b\u3068\u304d (\u4f8b\u3048\u3070 Enumerable#each) \u306f do....end \u3092\u4f7f\u3046\u3002\u547c\u3076\u306e\u304c\u4e00\u56de\u3060\u3051\u306e\u3068\u304d (\u4f8b\u3048\u3070 File.open) \u306f {....} \u3092\u4f7f\u3046\u3002\u3053\u3053\u3067\u3001\u5f8c\u8005\u306e\u300c\u4e00\u56de\u3060\u3051\u306e\u3068\u304d\u300d\u3068\u306f RubyIteratorPattern \u3067\u8a00\u3046\u300c\u7bc4\u56f2\u578b\u300d\u3042\u308b\u3044\u306f\u300c\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u578b\u300d\u306e\u3053\u3068\u3067\u3042\u308b\u3002\n> \u52a0\u3048\u3066\u3001\u4e00\u884c\u306b\u53ce\u3081\u308b\u3068\u304d\u306f {....} \u3092\u4f7f\u3046\u3002\n> \u3055\u3089\u306b\u3001\u8fd4\u308a\u5024\u3092\u4f7f\u3046\u3068\u304d\u3082 {....} \u3092\u4f7f\u3046\u3002\n\n> [LoveRubyNet Wiki: RubyCodingStyle](http://i.loveruby.net/w/RubyCodingStyle.html)\n\nRSpec \u306e\u5834\u5408\u306f\u3001it \u306e\u30d6\u30ed\u30c3\u30af\u306e\u623b\u308a\u5024\u3092\u4f7f\u3046\u3053\u3068\u306f(\u591a\u5206)\u3042\u308a\u307e\u305b\u3093\u3002\u3064\u307e\u308a\u30e1\u30bd\u30c3\u30c9\u30c1\u30a7\u30a4\u30f3\u3092\u4f7f\u3044\u305f\u3044\u3068\u3044\u3046\u52d5\u6a5f\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067\u3001 RSpec \u3092\u4f7f\u3063\u305f\u30b3\u30fc\u30c9\u306e\u4e2d\u3067 do...end \u3092\u4f7f\u3046\u304b {...} \u3092\u4f7f\u3046\u304b\u306f\u3001\u7d14\u7c8b\u306b\u53ef\u8aad\u6027\u306e\u305f\u3081\u306e\u9078\u629e\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u4eca\u56de\u306e\u5834\u5408\u306f\u3001\u300c\u4e00\u884c\u306b\u53ce\u307e\u308b\u306e\u3067 {...} \u3092\u9078\u629e\u3059\u308b\u300d\u3068\u3044\u3046\u30eb\u30fc\u30eb\u306b\u5f93\u3063\u305f\u3068\u3082\u8a00\u3048\u307e\u3059\u3002\n\n\u3057\u304b\u3057\u79c1\u306f\u3001 RSpec \u306e\u30b3\u30fc\u30c9\u306e\u4e2d\u3067 it {...} \u3068\u3044\u3046\u30b9\u30bf\u30a4\u30eb\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u306b\u3001\u3082\u3063\u3068\u7a4d\u6975\u7684\u306a\u610f\u5473\u3092\u6301\u305f\u305b\u3066\u3044\u307e\u3059\u3002\u305d\u308c\u306f\u300c RSpec \u81ea\u8eab\u306b\u72b6\u6cc1\u3092\u7406\u89e3\u3055\u305b\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u53ef\u8aad\u6027\u3068\u4ed5\u69d8\u8a18\u8ff0\u3092\u4e21\u7acb\u3055\u305b\u308b\u300d\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\n\n\u5148\u307b\u3069\u8aac\u660e\u306e\u4e2d\u3067\u300c\u62ec\u5f27\u3084\u8a18\u53f7\u3092\"\u898b\u3048\u306a\u3044\u3082\u306e\"\u3068\u3059\u308b\u3068\u300d\u3068\u3044\u3046\u30d5\u30ec\u30fc\u30ba\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002 RSpec \u3092\u4f7f\u3063\u305f\u30b3\u30fc\u30c9\u306e\u4e2d\u3067\u306f\u3001\u8996\u899a\u7684\u306b\u5f37\u304f\u306a\u3044 it{...} \u5f62\u5f0f\u306f\u9ed2\u5b50\u306e\u3088\u3046\u306a\u5f79\u5272\u3092\u679c\u305f\u3057\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u81ea\u8eab\u306e\u53ef\u8aad\u6027\u306b\u5bc4\u4e0e\u3059\u308b\u3068\u8003\u3048\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u6587\u5b57\u5217\u306b\u3088\u3063\u3066\u3067\u306f\u306a\u304f\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u81ea\u8eab\u306b\u4ed5\u69d8\u3092\u8a9e\u3089\u305b\u308b\u3068\u304d\u306b it {...} \u3092\u4f7f\u3046\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u3068\u304d\u306f\u3001 RSpec \u3068\u30d7\u30ed\u30b0\u30e9\u30de\u306e\u9593\u3067\u60c5\u5831\u3092\u5171\u6709\u3057\u3064\u3064\u3001\u8a18\u8ff0\u91cf\u3082\u5c11\u306a\u304f\u7c21\u6f54\u3067\u3001\u304b\u3064\u5927\u304d\u3044\u60c5\u5831\u306e\u6b20\u843d\u304c\u7121\u3044\u3001\u305d\u3093\u306a\u30b3\u30fc\u30c9\u3092\u76ee\u6307\u3057\u3066\u3044\u307e\u3059\u3002\n\n# \u3082\u3046\u4e00\u3064\u6a5f\u80fd\u8ffd\u52a0: NG \u30ef\u30fc\u30c9\u306e\u500b\u6570\u3092\u8abf\u3079\u308b\n\n\u3055\u3066\u3001\u3082\u3046\u4e00\u3064\u6a5f\u80fd\u8ffd\u52a0\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u300cNG \u30ef\u30fc\u30c9\u306e\u500b\u6570\u3092\u8abf\u3079\u308b\u300d\u3068\u3044\u3046\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8\u3068\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3059\u3002\u6700\u521d\u306b\u66f8\u304f\u306e\u306f\u3082\u3061\u308d\u3093\u30c6\u30b9\u30c8\u3067\u3059\u3002\n\nmessage_filter_spec.rb\n\n````diff\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n+    it 'ng_words size is 1' do\n+      expect(subject.ng_words.size).to eq 1\n+    end\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n````\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb        \n\nMessageFilter\n  with argument \"foo\"\n    ng_words size is 1\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00592 seconds (files took 0.1377 seconds to load)\n8 examples, 0 failures\n$ git commit -am 'Add example for ng_words size'\n[3rd fd0cd72] Add example for ng_words size\n 1 file changed, 3 insertions(+)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/fd0cd724a005fe8bea115593406bf01091eadbe5)\n\n\u304a\u3084\u3001\u5b9f\u88c5\u3057\u3066\u3044\u306a\u3044\u306e\u306b\u4e00\u767a\u3067\u901a\u308a\u307e\u3057\u305f\u306d\u3002\u3064\u307e\u308a attr_reader \u3092\u5c0e\u5165\u3057\u3066\u3044\u305f\u306e\u3067\u5b9f\u88c5\u306f\u5fc5\u8981\u306a\u304b\u3063\u305f\u3001\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\n\n# have \u30de\u30c3\u30c1\u30e3\n\n````ruby\nexpect(subject.ng_words.size).to eq 1\n````\n\n\u3068\u3044\u3046\u66f8\u304d\u65b9\u306f\u660e\u793a\u7684\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u3084\u3084\u304e\u3053\u3061\u306a\u3044\u3067\u3059\u306d\u3002\u3053\u306e\u3088\u3046\u306a\u5834\u5408\u3001 RSpec \u3067\u306f\u300c have \u30de\u30c3\u30c1\u30e3\u300d\u3068\u3044\u3046\u6a5f\u80fd\u3067\u66f8\u304d\u65b9\u3092\u6539\u5584\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u66f8\u3051\u307e\u3059\u3002\n\n````ruby\nexpect(subject.ng_words).to have(1).item\n````\n\n**\u3010\u6ce8\u76ee\uff01\u3011RSpec 3\u3067\u306f rspec-collection_matchers gem\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059**\n\u3053\u306e have \u30de\u30c3\u30c1\u30e3\u306fRSpec 3\u304b\u3089\u306f\u6a19\u6e96\u3067\u63d0\u4f9b\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\nhave \u30de\u30c3\u30c1\u30e3\u3092\u4f7f\u3046\u5834\u5408\u306f rspec-collection_matchers \u3068\u3044\u3046gem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u307e\u305a\u3001Gemfile\u3092\u6b21\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\n\nGemfile\n\n````diff\nsource 'https://rubygems.org'\n \n gem 'rspec', '3.0.0'\n gem 'rspec-its', '1.0.1'\n+gem 'rspec-collection_matchers', '1.0.0'\n````\n\n\u7d9a\u3044\u3066\u3001bundle install \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\n````diff\n$ bundle install\nFetching gem metadata from https://rubygems.org/.........\nFetching additional metadata from https://rubygems.org/..\nResolving dependencies...\nUsing diff-lcs 1.2.5\nUsing rspec-support 3.0.2\nUsing rspec-core 3.0.2\nUsing rspec-expectations 3.0.2\nUsing rspec-mocks 3.0.2\nUsing rspec 3.0.0\nInstalling rspec-collection_matchers 1.0.0\nUsing rspec-its 1.0.1\nUsing bundler 1.6.2\nYour bundle is complete!\nUse `bundle show [gemname]` to see where a bundled gem is installed.\n````\n\n## have \u30de\u30c3\u30c1\u30e3\u306e\u5c0e\u5165\n\n\u3067\u306f have \u30de\u30c3\u30c1\u30e3\u3092\u5c0e\u5165\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nmessage_filter_spec.rb\n\n````diff\n require_relative 'message_filter'\n require 'rspec/its'\n+require 'rspec/collection_matchers'\n \n describe MessageFilter do\n   shared_examples 'MessageFilter with argument \"foo\"' do\n````\n\n````diff\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n     it 'ng_words size is 1' do\n-      expect(subject.ng_words.size).to eq 1\n+      expect(subject.ng_words).to have(1).item\n     end\n   end\n   context 'with argument \"foo\",\"bar\"' do\n\n````\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    ng_words size is 1\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00409 seconds (files took 0.14577 seconds to load)\n8 examples, 0 failures\n$ git commit -am 'Use rspec-collection_matchers'\n[3rd 7c40c06] Use rspec-collection_matchers\n 3 files changed, 6 insertions(+), 1 deletion(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/7c40c0668c4f020fff0d5fbcd92af7b5a094ff1c)\n\n**\u3010\u6ce8\u76ee\uff01\u3011\u8907\u6570\u5f62(item)\u3068\u5358\u6570\u5f62(items)\u306e\u4f7f\u3044\u5206\u3051\u306b\u3064\u3044\u3066**\n\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u8a18\u4e8b\u3067\u306f\n\n````ruby\nexpect(subject.ng_words).to have(1).items\n````\n\n\u306e\u3088\u3046\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002(\u5b9f\u969b\u306b\u306fexpect\u3067\u306f\u306a\u304fshould\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c)\n\u308f\u304b\u308a\u306b\u304f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u6700\u5f8c\u306e `item` \u304c `items` \u306b\u306a\u3063\u3066\u3044\u308b\u70b9\u304c\u7570\u306a\u308a\u307e\u3059\u3002\n\nhave \u30de\u30c3\u30c1\u30e3\u3092\u4f7f\u3063\u305f\u5834\u5408\u3001 `have(n).item` \u3068 `have(n).items` \u306f\u4e92\u3044\u306b\u7f6e\u63db\u53ef\u80fd\u3067\u3059\u3002\n\n\u305f\u3060\u3057\u3001\u82f1\u8a9e\u3068\u3057\u3066\u307f\u305f\u5834\u5408\u306f `have(1).item`\u3001`have(2).items`\u3068\u3044\u3046\u3088\u3046\u306b\u4f7f\u3044\u5206\u3051\u305f\u65b9\u304c\u6b63\u3057\u3044\u82f1\u6587\u6cd5\u306b\u8fd1\u304f\u306a\u308a\u307e\u3059\u3002\n\n\u500b\u4eba\u7684\u306b\u306f\u6b63\u3057\u3044\u82f1\u6587\u6cd5\u306b\u8fd1\u3044\u65b9\u304c\u9055\u548c\u611f\u304c\u306a\u3044\u306e\u3067\u3001\u672c\u8a18\u4e8b\u3067\u306f\u5358\u6570\u5f62\u3068\u8907\u6570\u5f62\u3092\u4f7f\u3044\u5206\u3051\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\n**\u3010\u6ce8\u76ee\uff01\u3011have \u30de\u30c3\u30c1\u30e3\u3092\u4f7f\u3046\u3079\u304d\u304b\u5426\u304b\uff1f**\nRSpec 3\u304b\u3089 have \u30de\u30c3\u30c1\u30e3\u304c\u6a19\u6e96\u3067\u63d0\u4f9b\u3055\u308c\u306a\u304f\u306a\u3063\u305f\u7406\u7531\u306f\u3001RSpec\u306e\u4f5c\u8005\u3067\u3042\u308bMyron Marston\u6c0f\u306e\u30d6\u30ed\u30b0\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\n\n[Myron Marston \u00bb Notable Changes in RSpec 3](http://myronmars.to/n/dev-blog/2014/05/notable-changes-in-rspec-3)\n\n\u3053\u3053\u3067\u306f have \u30de\u30c3\u30c1\u30e3\u306e\u3053\u3068\u3092\u300cone of the more \u201cmagical\u201d and confusing parts of RSpec\u300d\u3068\u547c\u3093\u3067\u3044\u307e\u3059\u3002\n\u3064\u307e\u308a\u3001\u300c\u9ed2\u9b54\u8853\u7684\u3067\u3084\u3084\u3053\u3057\u3044\u304b\u3089\u300d\u3068\u3044\u3046\u306e\u304c\u3001 have \u30de\u30c3\u30c1\u30e3\u3092\u6a19\u6e96\u3067\u63d0\u4f9b\u3057\u306a\u304f\u306a\u3063\u305f\u7406\u7531\u306e\u3088\u3046\u3067\u3059\u3002\n\n\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u8a18\u4e8b\u3067\u306f\u3053\u306e\u3042\u3068\u3082 have \u30de\u30c3\u30c1\u30e3\u3092\u6d3b\u7528\u3057\u305fspec\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u304c\u7d9a\u304f\u306e\u3067\u3001\u672c\u8a18\u4e8b\u3067\u3082\u5f15\u304d\u7d9a\u304d have \u30de\u30c3\u30c1\u30e3\u3092\u4f7f\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u3057\u304b\u3057\u3001its \u30e1\u30bd\u30c3\u30c9\u3068\u540c\u69d8\u3001RSpec 3\u3067\u306f\u6a19\u6e96\u5b9f\u88c5\u304b\u3089\u5916\u308c\u305f\u4ee5\u4e0a\u3001\u307f\u306a\u3055\u3093\u81ea\u8eab\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u65b0\u3057\u304f have \u30de\u30c3\u30c1\u30e3\u3092\u4f7f\u3063\u305f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u306e\u306f\u907f\u3051\u305f\u65b9\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u518d\u5ea6 RSpec \u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u3055\u305b\u308b\n\n\u518d\u5ea6\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u8a18\u8ff0\u306e\u5408\u7406\u5316\u3092\u9032\u3081\u307e\u3057\u3087\u3046\u3002it \u306e\u6587\u5b57\u5217\u5f15\u6570\u3092\u5ec3\u3057\u3001 RSpec \u306b\u4ed5\u69d8\u8a18\u8ff0\u3092\u7d44\u307f\u7acb\u3066\u3055\u305b\u307e\u3059\u3002\n\nmessage_filter_spec.rb\n\n````diff\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n-    it 'ng_words size is 1' do\n-      expect(subject.ng_words).to have(1).item\n-    end\n+    it { expect(subject.ng_words).to have(1).item }\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n````\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb  \n\nMessageFilter\n  with argument \"foo\"\n    should have 1 item\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00381 seconds (files took 0.09013 seconds to load)\n8 examples, 0 failures              \n$ git commit -am 'Remove example description'\n[3rd eeb560a] Remove example description\n 1 file changed, 1 insertion(+), 3 deletions(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/eeb560a97ddd065d9eccc8f2c610e929f8789903)\n\n\u3046\u3080\u3080\u3001\u307e\u305f\u3082\u60c5\u5831\u4e0d\u8db3\u3067\u3059\u306d\u3002\n\n````bash\nMessageFilter\n  with argument \"foo\"\n    should have 1 item\n````\n\n\u3068\u3001\u60c5\u5831\u91cf\u304c\u6e1b\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u307e\u3059\u3002\u3055\u3066\u3069\u3046\u3057\u307e\u3057\u3087\u3046\u3002\n\n# \u899a\u3048\u305f\u3066\u30db\u30e4\u30db\u30e4\u306e its \u3092\u4f7f\u3063\u3066\u307f\u308b\n\n\u5148\u7a0b\u305b\u3063\u304b\u304f\u899a\u3048\u305f\u306e\u3067\u3059\u304b\u3089\u3001\u899a\u3048\u305f\u3066\u30db\u30e4\u30db\u30e4\u306e its \u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nmessage_filter_spec.rb\n\n````diff\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n     it { expect(subject.ng_words).to have(1).item }\n+    its(:ng_words) { is_expected.to have(1).item }\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n````\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n    ng_words\n      should have 1 item\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00378 seconds (files took 0.08807 seconds to load)\n8 examples, 0 failures\n$ git commit -am 'Use rspec-its'\n[3rd 028ace7] Use rspec-its\n 1 file changed, 1 insertion(+), 1 deletion(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/028ace7aabde91f821ffa447e566bcec3cccc41f)\n\n\u60c5\u5831\u304c\u4ed8\u52a0\u3055\u308c\u307e\u3057\u305f\u306d\u3002\u3053\u308c\u3067\u6e80\u8db3\u2026\u3067\u3057\u3087\u3046\u304b?\n\n# have(n).named_collection \u8a18\u6cd5\u3092\u4f7f\u3046\n\n\u5b9f\u306f\u3082\u3063\u3068\u826f\u3044\u66f8\u304d\u65b9\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u307e\u3067 have \u30de\u30c3\u30c1\u30e3\u306b\u5bfe\u3057\u3066 'items' \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3093\u3067\u3044\u307e\u3057\u305f\u304c\u3001have \u30de\u30c3\u30c1\u30e3\u306f\u30ec\u30b7\u30fc\u30d0(subject)\u304c\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3064\u5834\u5408\u306b\u3001\u305d\u306e\u30e1\u30bd\u30c3\u30c9\u540d\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n````ruby\nexpect(subject).to have(n).named_collection \n````\n\n\u3068\u3044\u3046\u66f8\u304d\u65b9\u3067\u3059\u3002\u3053\u3053\u3067 named_collection \u306b subject \u304c\u6301\u3064\u30e1\u30bd\u30c3\u30c9\u540d\u3092\u4f7f\u3046\u3053\u3068\u304c\u51fa\u6765\u308b\u306e\u3067\u3059\u3002 RSpec \u306f\u6307\u5b9a\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u3092 subject \u306b\u5bfe\u3057\u3066\u547c\u3073\u51fa\u3057\u3001\u7d50\u679c\u306e\u6570\u3092\u5143\u306b\u691c\u8a3c\u3092\u884c\u3044\u307e\u3059\u3002\n\nRails \u306e ActiveRecord \u306e\u30e2\u30c7\u30eb\u3092\u60f3\u50cf\u3059\u308b\u3068\u308f\u304b\u308a\u3084\u3059\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\n\n````ruby\nclass Blog < ActiveRecord::Base\n  has_many :comments\nend\n````\n\n\u3068\u3044\u3046\u30e2\u30c7\u30eb\u304c\u3042\u308b\u5834\u5408\u3001\n\n````ruby\nexpect(some_blog).to have(4).comments \n````\n\n\u3068\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\n\n\n\u3067\u306f\u4eca\u56de\u306e\u4f8b\u3067\u306f\u3069\u3046\u306a\u308b\u3067\u3057\u3087\u3046\u304b\u3002\u66f8\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nmessage_filter_spec.rb\n\n````diff\n   context 'with argument \"foo\"' do\n     subject { MessageFilter.new('foo') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n-    its(:ng_words) { is_expected.to have(1).item }\n+    it { is_expected.to have(1).ng_words }\n   end\n   context 'with argument \"foo\",\"bar\"' do\n     subject { MessageFilter.new('foo', 'bar') }\n````\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb\n\nMessageFilter\n  with argument \"foo\"\n    should have 1 ng_words\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00408 seconds (files took 0.10256 seconds to load)\n8 examples, 0 failures\n$ git commit -am 'Use have(n).named_collection syntax'\n[3rd b7ed263] Use have(n).named_collection syntax\n 1 file changed, 1 insertion(+), 1 deletion(-)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/b7ed263769d62d037a210d0caa0b4aa884c3b098)\n\n\u3069\u3046\u3067\u3057\u3087\u3046\u3002\n\n````bash\nMessageFilter\n  with argument \"foo\"\n    should have 1 ng_words\n````\n\n\u51fa\u529b\u306f\u524d\u3088\u308a\u3082\u826f\u3044\u5177\u5408\u306b\u306a\u308a\u307e\u3057\u305f\u306d\u3002\n\n\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u65b9\u3082\n\n````ruby\nits(:ng_words) { is_expected.to have(1).item }\n````\n\n\u304b\u3089\n\n````ruby\nit { is_expected.to have(1).ng_words }\n````\n\n\u3078\u3068\u66f8\u304d\u63db\u308f\u308a\u307e\u3057\u305f\u3002\u3069\u3046\u3067\u3057\u3087\u3046\u3002\u8aad\u307f\u3084\u3059\u304f\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n**\u3010\u6ce8\u76ee\uff01\u3011collection\u304c1\u500b\u3060\u3063\u305f\u3089\u5358\u6570\u5f62\u306b\u3059\u308b\u3093\u3058\u3083\u306a\u304b\u3063\u305f\u306e\uff1f**\nhave \u30de\u30c3\u30c1\u30e3\u3092\u7d39\u4ecb\u3059\u308b\u3068\u304d\u306b\u3001\u300c\u672c\u8a18\u4e8b\u3067\u306f\u5358\u6570\u5f62\u3068\u8907\u6570\u5f62\u3092\u4f7f\u3044\u5206\u3051\u308b\u300d\u3068\u66f8\u304d\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u3067\u306f `it { is_expected.to have(1).ng_words }` \u306e\u3088\u3046\u306b\u8907\u6570\u5f62\u306e `ng_words` \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3067\u304d\u308c\u3070 `it { is_expected.to have(1).ng_word }` \u3068\u66f8\u304d\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u304c\u3001\u5358\u6570\u5f62\u306b\u3059\u308b\u3068 `NoMethodError: undefined method 'ng_word'` \u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u306e\u3067\u3001\u5358\u6570\u5f62\u3067\u306f\u66f8\u3051\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\u3088\u3063\u3066\u3001\u8907\u6570\u5f62\u306e `ng_words` \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\n\n# \u4ed5\u4e0a\u3052\n\n\u3082\u3046\u4e00\u3064\u306e context \u306e\u65b9\u3082 have(n).named_collection \u8a18\u6cd5\u3067\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u3001\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u7de0\u3081\u3068\u3057\u307e\u3057\u3087\u3046\u3002\n\nmessage_filter_spec.rb\n\n````diff\n     subject { MessageFilter.new('foo', 'bar') }\n     it { is_expected.to be_detect('hello from bar') }\n     it_behaves_like 'MessageFilter with argument \"foo\"'\n+    it { is_expected.to have(2).ng_words }\n   end\n end\n````\n\n(-fd \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067)\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec -fd message_filter_spec.rb        \n\nMessageFilter\n  with argument \"foo\"\n    should have 1 ng_words\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    should have 2 ng_words\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.00428 seconds (files took 0.15165 seconds to load)\n9 examples, 0 failures\n$ git commit -am 'Add example for 2 ng_words'\n[3rd 5210a85] Add example for 2 ng_words\n 1 file changed, 1 insertion(+)\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/5210a85d2fcc0da376d2323f932584baa4dc72aa)\n\n\u30c6\u30b9\u30c8\u304c\u5168\u3066\u901a\u308a\u307e\u3057\u305f\u3002\u307e\u305a\u306f\u4e00\u5b89\u5fc3\u3067\u3059\u3002\n\n**\u3010\u6ce8\u76ee\uff01\u3011\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u5b9f\u884c\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b**\n\u3053\u3053\u307e\u3067\u3001RSpec\u5b9f\u884c\u6642\u306b\u6bce\u56de `-fd` \u3068\u3044\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u3044\u307e\u3057\u305f\u304c\u3001 `.rspec` \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u305d\u306e\u4e2d\u306b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u66f8\u304f\u3068\u3001\u305d\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b `.rspec` \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u4e2d\u8eab\u3092\u7de8\u96c6\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n````bash\n$ touch .rspec\n````\n\n````diff\n+-fd --color\n````\n\n\u3053\u3053\u3067\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5f62\u5f0f\u306e\u51fa\u529b\u3092\u6307\u5b9a\u3059\u308b `-fd` \u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u52a0\u3048\u3001\u51fa\u529b\u7d50\u679c\u3092\u8272\u3065\u3051\u3059\u308b `--color` \u30aa\u30d7\u30b7\u30e7\u30f3\u3082\u4ed8\u3051\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u305d\u308c\u3067\u306f\u4f55\u3082\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u305a\u306bRSpec\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ bundle exec rspec message_filter_spec.rb \n\nMessageFilter\n  with argument \"foo\"\n    should have 1 ng_words\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n  with argument \"foo\",\"bar\"\n    should be detect \"hello from bar\"\n    should have 2 ng_words\n    behaves like MessageFilter with argument \"foo\"\n      should be detect \"hello from foo\"\n      should not be detect \"hello, world!\"\n      ng_words\n        should not be empty\n\nFinished in 0.01379 seconds (files took 0.15474 seconds to load)\n9 examples, 0 failures\n$ git add .\n$ git commit -m 'Add .rspec file'\n[3rd d005ccc] Add .rspec file\n 1 file changed, 1 insertion(+)\n create mode 100644 .rspec\n````\n\n[Commit](https://github.com/JunichiIto/rspec3-for-beginners/commit/d005ccc9d45b7e2be8488ba05d146849b1b7cea4)\n\n\u3054\u89a7\u306e\u3088\u3046\u306b\u3001 `-fd` \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u306a\u304f\u3066\u3082\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5f62\u5f0f\u3067\u51fa\u529b\u3055\u308c\u307e\u3057\u305f\u3002\n\n`--color` \u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u52b9\u679c\u304c\u308f\u304b\u308a\u3065\u3089\u3044\u306e\u3067\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf\u3092\u8cbc\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\u30d1\u30b9\u3057\u305f\u30c6\u30b9\u30c8\u306f\u30b0\u30ea\u30fc\u30f3\u3067\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n![Screen Shot 2014-07-20 at 5.35.09.png](https://qiita-image-store.s3.amazonaws.com/0/7465/b9999c33-a2b8-af91-ec4b-06460fa2ae7f.png \"Screen Shot 2014-07-20 at 5.35.09.png\")\n\n\u30c6\u30b9\u30c8\u304c\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3068\u3001\u30b0\u30ea\u30fc\u30f3\u3067\u306f\u306a\u304f\u30ec\u30c3\u30c9\u3067\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n![Screen Shot 2014-07-20 at 5.35.59.png](https://qiita-image-store.s3.amazonaws.com/0/7465/fe9da1b6-3c7c-b81c-e8fc-624bd9cbc8fe.png \"Screen Shot 2014-07-20 at 5.35.59.png\")\n\n# \u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u7d42\u4e86\n\n\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u30c6\u30b9\u30c8/\u5b9f\u88c5\u30b3\u30fc\u30c9\u306f\u6700\u7d42\u7684\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n[message_filter_spec.rb](https://github.com/JunichiIto/rspec3-for-beginners/blob/end_of_iter3/message_filter_spec.rb)\n\n````ruby\nrequire_relative 'message_filter'\nrequire 'rspec/its'\nrequire 'rspec/collection_matchers'\n\ndescribe MessageFilter do\n  shared_examples 'MessageFilter with argument \"foo\"' do\n    it { is_expected.to be_detect('hello from foo') }\n    it { is_expected.not_to be_detect('hello, world!') }\n    its(:ng_words) { is_expected.not_to be_empty }\n  end\n  context 'with argument \"foo\"' do\n    subject { MessageFilter.new('foo') }\n    it_behaves_like 'MessageFilter with argument \"foo\"'\n    it { is_expected.to have(1).ng_words }\n  end\n  context 'with argument \"foo\",\"bar\"' do\n    subject { MessageFilter.new('foo', 'bar') }\n    it { is_expected.to be_detect('hello from bar') }\n    it_behaves_like 'MessageFilter with argument \"foo\"'\n    it { is_expected.to have(2).ng_words }\n  end\nend\n````\n\n[message_filter.rb](https://github.com/JunichiIto/rspec3-for-beginners/blob/end_of_iter3/message_filter.rb)\n\n````ruby\nclass MessageFilter\n  def initialize(*words)\n    @ng_words = words\n  end\n  attr_reader :ng_words\n  def detect?(text)\n    @ng_words.any?{|w| text.include?(w) }\n  end\nend\n````\n\n\u3055\u3066\u3001\u3053\u3053\u307e\u3067\u3067\u7b2c3\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306f\u7d42\u4e86\u3067\u3059\u3002\u30bf\u30b0\u3092\u6253\u3063\u3066\u7d42\u308f\u308a\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n````bash\n$ git tag -a -m 'end of 3rd iteration' end_of_iter3\n````\n\n# \u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u5b66\u3093\u3060\u3053\u3068\n\n\u3053\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u5b66\u3093\u3060\u3053\u3068\u3092\u307e\u3068\u3081\u3066\u307f\u307e\u3059\u3002\n\n- subject \u3092\u660e\u793a\u7684\u306a\u30ec\u30b7\u30fc\u30d0\u3068\u3057\u3066\u4f7f\u3046\u3053\u3068\u3082\u3067\u304d\u308b\n- \u81ea\u5206\u304c\u6700\u521d\u306e\u30e6\u30fc\u30b6\n- its \u30e1\u30bd\u30c3\u30c9\n- have \u30de\u30c3\u30c1\u30e3\n- have(n).named_collection \u8a18\u6cd5\n- RSpec \u306b\u30d2\u30f3\u30c8\u3092\u4e0e\u3048\u3001 RSpec \u81ea\u8eab\u306b\u4ed5\u69d8\u3092\u8a18\u8ff0\u3055\u305b\u308b\u3053\u3068\u3067\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u81ea\u4f53\u3082\u81ea\u7136\u3068\u77ed\u3044\u8a18\u8ff0\u306b\u8fd1\u3065\u304f\u3068\u3044\u3046\u3001 RSpec \u306e\u30b3\u30c4\n\n# \u304a\u308f\u308a\u306b: \u300cRSpec \u306e\u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078 \uff5eRSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3\uff5e\u300d\u306e\u3055\u3089\u306b\u5148\u3078\n\n\u4ee5\u4e0a\u3067\u300cRSpec \u306e\u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078 \uff5eRSpec 3\u30d0\u30fc\u30b8\u30e7\u30f3\uff5e\u300d\u306f\u304a\u3057\u307e\u3044\u3067\u3059\u3002\n\u3053\u3053\u307e\u3067\u8aad\u3093\u3067\u304f\u3060\u3055\u3063\u305f\u307f\u306a\u3055\u3093\u3001\u3069\u3046\u3082\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n\nRSpec\u306b\u306f\u4ed6\u306b\u3082\u591a\u304f\u306e\u6a5f\u80fd\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u307e\u3067\u306e\u5185\u5bb9\u3092\u7406\u89e3\u3067\u304d\u308c\u3070\u3001RSpec\u306e\u57fa\u790e\u77e5\u8b58\u306f\u307b\u307c\u8eab\u306b\u3064\u3044\u305f\u306f\u305a\u3067\u3059\u3002\n\nRSpec\u306b\u3064\u3044\u3066\u3082\u3063\u3068\u6df1\u304f\u5b66\u7fd2\u3057\u305f\u3044\u3001\u3068\u3044\u3046\u65b9\u306f\u50d5\u304c\u7ffb\u8a33\u306b\u643a\u308f\u3063\u305f\u96fb\u5b50\u66f8\u7c4d\u3001\u300c[Everyday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580](https://leanpub.com/everydayrailsrspec-jp)\u300d\u3092\u8aad\u3093\u3067\u3082\u3089\u3046\u3068\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u30c6\u30b9\u30c8\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u300c\u3054\u304f\u666e\u901a\u306eRuby\u30b3\u30fc\u30c9(Plain old Ruby)\u300d\u3067\u306f\u306a\u304f\u3001Rails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u300cRSpec \u306e\u5165\u9580\u3068\u305d\u306e\u4e00\u6b69\u5148\u3078\u300d\u3067\u306f\u89e6\u308c\u3089\u308c\u306a\u304b\u3063\u305f\u6a5f\u80fd(let\u3084mock\u7b49)\u306b\u3064\u3044\u3066\u3082\u8aac\u660e\u304c\u8f09\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u96fb\u5b50\u66f8\u7c4d\u306a\u306e\u3067\u3001RSpec\u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3042\u308f\u305b\u3066\u968f\u6642\u5185\u5bb9\u3082\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n[Everyday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580](https://leanpub.com/everydayrailsrspec-jp)\n\n![Everyday Rails - RSpec\u306b\u3088\u308bRails\u30c6\u30b9\u30c8\u5165\u9580](https://s3.amazonaws.com/titlepages.leanpub.com/everydayrailsrspec-jp/large?1393556181)\n\n\u307e\u305f\u3001\u4eca\u5f8c\u3082\u3068\u304d\u3069\u304dQiita\u306bRSpec\u95a2\u9023\u306e\u8a18\u4e8b\u3092\u6295\u7a3f\u3057\u3066\u3044\u3053\u3046\u3068\u601d\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u826f\u304b\u3063\u305f\u3089\u30d5\u30a9\u30ed\u30fc\u3092\u304a\u9858\u3044\u3057\u307e\u3059\u3002(RSpec\u306e\u307f\u306a\u3089\u305a\u3001Ruby\u30cd\u30bf\u3084\u82f1\u8a9e\u30cd\u30bf\u306a\u3069\u3001\u3044\u308d\u3044\u308d\u96d1\u591a\u306b\u6295\u7a3f\u3057\u3066\u3044\u304d\u307e\u3059)\n\nhttp://qiita.com/jnchito\n\n\n## \u3042\u308f\u305b\u3066\u8aad\u307f\u305f\u3044\n\n\u65e2\u5b58\u306eRSpec 2\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092RSpec 3\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n\n- [RSpec\u306e\u6700\u65b0\u306e\u52d5\u5411\u30fbRSpec 3\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u30ac\u30a4\u30c9](http://qiita.com/yujinakayama/items/a1d31b2caa35642e8e69)\n- [\u65e2\u5b58\u306eRails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092RSpec 3.0\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u969b\u306e\u6ce8\u610f\u70b9 \uff5eRSpec 3\u306f\u6016\u304f\u306a\u3044\u3088\uff01\uff5e](http://qiita.com/jnchito/items/f86b57d27b44e6e7d1e9)\n\nRSpec 3\u306e\u65b0\u6a5f\u80fd\u306b\u3064\u3044\u3066\u6df1\u304f\u6398\u308a\u4e0b\u3052\u305f\u3044\u65b9\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u3069\u3046\u305e\u3002\n\n- [\u4eca\u65e5\u304b\u3089\u4f7f\u3048\u308b\uff01RSpec 3\u3067\u8ffd\u52a0\u3055\u308c\u305f8\u3064\u306e\u65b0\u6a5f\u80fd](http://qiita.com/jnchito/items/a4a51852c2c678b57868)\n\n\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3067\u306fRSpec\u306e\u57fa\u672c\u4e8b\u9805\u3092\u5b9f\u8df5\u7684\u306a\u8996\u70b9\u3067\u72ec\u81ea\u306b\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002\n\n- [\u4f7f\u3048\u308bRSpec\u5165\u9580\u30fb\u305d\u306e1\u300cRSpec\u306e\u57fa\u672c\u7684\u306a\u69cb\u6587\u3084\u4fbf\u5229\u306a\u6a5f\u80fd\u3092\u7406\u89e3\u3059\u308b\u300d](http://qiita.com/jnchito/items/42193d066bd61c740612)\n", "tags": ["RSpec", "Ruby", "TDD"]}