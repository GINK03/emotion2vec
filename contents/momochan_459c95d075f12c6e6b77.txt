{"tags": ["Spotify", "linebot", "PHP"], "context": "9\u6708\u672b\u306b\u3068\u3046\u3068\u3046\u65e5\u672c\u3078\u4e0a\u9678\u3057\u305fSpotify\u3002\n\u5f53\u521d\u306fAmazon Prime Music\u304c\u3042\u308b\u304b\u3089\u3044\u3089\u306a\u3044\u3084\u3068\u601d\u3063\u3066\u3044\u305f\u3051\u308c\u3069\u3082\u3001\u97f3\u697d\u7cfb\u306b\u306f\u73cd\u3057\u304fAPI\u304c\u3042\u308b\u3068\u3044\u3046\u306e\u3067\u5f04\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u3001\u65e9\u901f\u7121\u6599\u30d7\u30e9\u30f3\u3067\u7533\u3057\u8fbc\u3093\u3067\u307f\u305f\u3002\nAPI\u306b\u3064\u3044\u3066\u3044\u308d\u3044\u308d\u8abf\u3079\u3066\u898b\u308b\u3082\u306e\u306e\u65e5\u672c\u306b\u5165\u3063\u305f\u3070\u304b\u308a\u304c\u539f\u56e0\u306a\u306e\u304b\u3042\u307e\u308a\u60c5\u5831\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u3053\u3053\u306b\u8a18\u4e8b\u3068\u3057\u3066\u6b8b\u3059\u3002\n\nSpotify API\u767b\u9332\n\u8cc7\u6599\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u308f\u304b\u3089\u306a\u3044\u304c\u3001Free\u30d7\u30e9\u30f3\u3067\u3082\u7279\u306b\u5236\u9650\u306a\u304fAPI\u306f\u4f7f\u3048\u308b\u3088\u3046\u3002\uff08\u9055\u3063\u305f\u3089\u3054\u3081\u3093\u306a\u3055\u3044\uff09\nhttps://developer.spotify.com/ \u306e\u30e1\u30cb\u30e5\u30fc\u304b\u3089My Apps\u3092\u9078\u629e\u3057\u3001CREATE AN APP\u3092\u62bc\u4e0b\u3057\u3066\u3001Name\u3068Description\u3092\u9069\u5f53\u306b\u6c7a\u3081\u3066\u767b\u9332\u3059\u308b\u3002\n\n\u4eca\u56de\u306fLINEBot\u3068\u9023\u643a\u3059\u308b\u306e\u3067Rediret URIs\u306f\u9069\u5f53\u306b\u5165\u308c\u3066\u3044\u305f\u306e\u3060\u304c\u3001\u3042\u3068\u3067\u30c9\u306f\u307e\u308a\u3057\u305f\u306e\u3067\u305d\u3053\u3067\u8aac\u660e\u3059\u308b\u3002\nClient ID\u3068 Client Secret\u3092\u3072\u304b\u3048\u3066\u304a\u3044\u3066\u3001SAVE\u3092\u62bc\u305b\u3070\u767b\u9332\u304c\u5b8c\u4e86\u3060\u3002\n\nSDK\u53d6\u5f97\nSpotify API\u306ePHPSDK\u304cgithub\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u5229\u7528\u3055\u305b\u3066\u3082\u3089\u3046\u3002\nspotify-web-api-php\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306fgithub\u306b\u8a18\u8f09\u306e\u65b9\u6cd5\u3067\u5168\u304f\u554f\u984c\u306a\u304f\u5b8c\u4e86\u3057\u305f\u3002\n\n\u8a8d\u8a3c\n\u3053\u3053\u304c\u4e00\u756a\u82e6\u52b4\u3057\u305f\u3002\u3068\u3044\u3046\u304b\u4eca\u307e\u3067\u4f7f\u3063\u3066\u304d\u305fAPI\u306fID\u3068SECRET\u3055\u3048\u3042\u308c\u3070\u8a8d\u8a3c\u3067\u304d\u3066\u3044\u305f\u306e\u3060\u304c...\n\uff08\u5b9f\u306f\u304d\u3061\u3093\u3068API\u4ed5\u69d8\u66f8\u3092\u8aad\u3081\u3070\u66f8\u3044\u3066\u3042\u308b\u306e\u3060\uff09\n\u3068\u8a00\u3046\u4e8b\u3067\u3001\u50d5\u304c\u8a8d\u8a3c\u307e\u3067\u305f\u3069\u308a\u7740\u3044\u305f\u65b9\u6cd5\u3092\u66f8\u304f\u3002\n\n\u5931\u6557\u4f8b\nspotify-web-api-php \u306edocs\u306f\u898b\u305a\u306b\u3001\u6d77\u5916\u30b5\u30a4\u30c8\u306e\u30b5\u30f3\u30d7\u30eb\u4f8b\u306b\u5f93\u3044\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a8d\u8a3c\u3092\u3057\u3066\u3044\u305f\u3002\n\ncallback.php\nrequire 'vendor/autoload.php';\n\n$session = new SpotifyWebAPI\\Session('CLIENT_ID', 'CLIENT_SECRET', 'REDIRECT_URI');\n$api = new SpotifyWebAPI\\SpotifyWebAPI();\n\n// Request a access token with optional scopes\n$scopes = array(\n    'playlist-read-private',\n    'playlist-modify-private', \n    'user-read-private',\n    'playlist-modify'\n);\n\n$session->requestCredentialsToken($scopes);\n$accessToken = $session->getAccessToken(); // We're good to go!\n\n// Set the code on the API wrapper\n$api->setAccessToken($accessToken);\n\ngetLog($api->me())\n\n\nscopes\u306f\u3000Web API: Using Scopes \u3092\u53c2\u8003\u306b\u81ea\u5206\u3067\u5909\u66f4\u3057\u305f\u3002\n\u3067LINEBot\u3068\u9023\u643a\u3055\u305b\u3066\u8a8d\u8a3c\u3092\u3055\u305b\u3088\u3046\u3068\u3057\u3066\u3082\u3001$api->me()\u3067401:\u8a8d\u8a3c\u30a8\u30e9\u30fc\u3067\u843d\u3061\u308b\u3002\n\u306a\u305c\u306a\u305c\uff1f\u3068\u4f55\u5ea6\u3084\u3063\u3066\u3082\u540c\u3058\u7d50\u679c\u3060\u3063\u305f\u3002\n\u4e00\u6642\u9593\u307b\u3069\u305f\u3063\u305f\u5f8c\u3001spotify-web-api-php\u306e Authorization\u3092\u898b\u306b\u884c\u304f\u3068\u3001\n\nClient Credentials Flow\nThis method doesn\u2019t require any user interaction and no access to user information are therefore granted.\n\n\u3068\u66f8\u3044\u3066\u3042\u308b\u3002no access to user information are therefore granted.\u3000\u3053\u306e\u65b9\u6cd5\u3067\u306f\u30e6\u30fc\u30b6\u60c5\u5831\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u3002Oh My God!\n\u3057\u304b\u3082\u3001\u304d\u3061\u3093\u3068API\u4ed5\u69d8\u66f8\u306e Authorization \u3092\u8aad\u3081\u3068\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u8aad\u3080\u3002\n\u4f55\u3005\u3001\u4e00\u5ea6\u8a8d\u8a3c\u3057\u3066access_token\u3092\u53d6\u5f97\u3057\u3066\u3001\u305d\u308c\u3092\u5229\u7528\u3057\u3066refreshed access_token\u3092\u53d6\u5f97\u3059\u308b\u306e\u304b\uff01\n\n\n\u6210\u529f\u4f8b\n\u3068\u3044\u3046\u3053\u3068\u3067\u307e\u305a\u306f index.php \u3092Web\u30b5\u30fc\u30d0\u306b\u304a\u3044\u3066\u8a8d\u8a3c\u3092\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3002\n\u3053\u306e\u969b\u3001My App\u306eRediret URIs\u306b\u306f\u3053\u306eindex.php\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3002\n\nindex.php\n<?php\n\nrequire 'vendor/autoload.php';\n\n$session = new SpotifyWebAPI\\Session('{YOUR_CLIENT_ID}', '{YOUR_CLIENT_SECRET}', '{YOUR_REDIRECt_URI}');\n$api = new SpotifyWebAPI\\SpotifyWebAPI();\n\nif (isset($_GET['code'])) {\n    $session->requestAccessToken($_GET['code']);\n    $api->setAccessToken($session->getAccessToken());\n\n    print_r($api->me());\n    print_r($session->getAccessToken());\n} else {\n    header('Location: ' . $session->getAuthorizeUrl(array(\n        'scope' => array(\n          'playlist-read-private', // \u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u53d6\u5f97\n          'playlist-modify-private', // \u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u5909\u66f4\n          'user-read-private',\n          'playlist-modify'\n        )\n    )));\n    die();\n}\n?>\n\n\n\u304a\u30fc\u30fc\u898b\u4e8b\u306b\u81ea\u5206\u306e\u60c5\u5831\u304c\u51fa\u305f\u3002\u307e\u305f\u7121\u4e8b\u306baccess_token\u3082\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u3002\n\u3068\u8a00\u3046\u4e8b\u3067\u3053\u3061\u3089\u3092\u5229\u7528\u3057\u3066\u3001\u4eca\u5ea6\u306frefresh access_token \u306e\u767a\u884c\u3068\u30b5\u30fc\u30d0\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\u3002\n\ncallback.php\nuse SpotifyWebAPI\\Session;\nuse SpotifyWebAPI\\SpotifyWebAPI;\n\n// spotify\n$session = new Session('{YOUR_CLIENT_ID}', '{YOUR_CLIENT_SECRET}', '{YOUR_REDIRECt_URI}');\n$api = new SpotifyWebAPI();\n\n$refreshToken = '{YOUR_ACCESS_TOKEN}';\n\n$session->refreshAccessToken($refreshToken);\n\n$accessToken = $session->getAccessToken();\n\nprint_r($accessToken);\n\n\n\u3053\u3061\u3089\u3082\u7121\u4e8baccess_token\u304c\u51fa\u305f\u6a21\u69d8\u3002\u3068\u8a00\u3046\u4e8b\u3067\u3053\u306e\u65b9\u6cd5\u304c\u6b63\u3057\u3044\u304b\u306f\u308f\u304b\u3089\u306a\u3044\u304c\u3001\u73fe\u5728\u3082\u8a8d\u8a3c\u306f\u51fa\u6765\u3066\u3044\u308b\u306e\u3067\u3053\u308c\u3067\u826f\u3057\u3068\u3057\u3088\u3046\u3002\n\nSpotify API\u3092\u4f7f\u3063\u3066\u4f55\u3092\u4f5c\u308b\u304b\u8003\u3048\u308b\nSpotify API\u3092\u5229\u7528\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u304c\u3042\u307e\u308a\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3002\n\u3044\u308d\u3044\u308d\u898b\u3066\u3044\u3066\u3001\u304a\uff01Spotify\u3063\u307d\u3044\u3068\u601d\u3063\u305f\u306e\u304c\u3042\u3063\u305f\u306e\u3067\u305d\u306e\u30a2\u30a4\u30c7\u30a2\u3092\u30d1\u30af\u308b\u3053\u3068\u306b\u30aa\u30de\u30fc\u30b8\u30e5\u3059\u308b\u3053\u3068\u306b\u3002\n\u3061\u306a\u307f\u306b\u5143\u30cd\u30bf\u306f Spotibot \u3068\u3044\u3046\u30da\u30fc\u30b8\u3067\u3001Band\u3084\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u540d\u3092\u5165\u529b\u3059\u308b\u3068\u3001\u305d\u306e\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u306b\u4f3c\u305f\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u306e\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u81ea\u52d5\u3067\u4f5c\u3063\u3066\u304f\u308c\u308b\u3082\u306e\u3060\u3002\n\u307e\u305a\u306f\u3053\u3061\u3089\u306e\u30da\u30fc\u30b8\u3067\u30a4\u30e1\u30fc\u30b8\u3057\u3066\u307b\u3057\u3044\u3002\n\u3042\u307e\u308aLINEBot\u3068\u306f\u89aa\u548c\u6027\u306f\u826f\u304f\u306a\u3055\u305d\u3046\u3067\u306f\u3042\u308b\u304c\uff08\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u4f5c\u6210\u306b\u6642\u9593\u304c\u304b\u304b\u308b\uff09\u3001LINEBot\u3067\u3082\u3084\u3063\u3066\u307f\u305f\u3044\u4e8b\u304c\u3042\u3063\u305f\u306e\u3067\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u3066\u307f\u308b\u3002\n\n\u5168\u81ea\u52d5\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u4f5c\u6210\u624b\u9806\n\n\u30d5\u30ed\u30fc\nSpotibot\u306b\u306f\u5f53\u305f\u308a\u524d\u3060\u304c\u30bd\u30fc\u30b9\u3084\u8a2d\u8a08\u66f8\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u3069\u3046\u3084\u3063\u305f\u3089\u4f5c\u308c\u308b\u304b\u8003\u3048\u3066\u307f\u308b\u3002\n\u8a8d\u8a3c\u306e\u5931\u6557\u3092\u6559\u8a13\u306b\u3001\u307e\u305a\u306fAPI\u4ed5\u69d8\u66f8\u3092\u3058\u3063\u304f\u308a\u773a\u3081\u3066\u307f\u308b\u3002\u773a\u3081\u3066\u307f\u3066\u4ee5\u4e0b\u30d5\u30ed\u30fc\u3067\u51fa\u6765\u305d\u3046\u306a\u4e8b\u3092\u601d\u3044\u3064\u3044\u305f\u3002\n\n\n\u30bd\u30fc\u30b9\n\u3050\u308f\u3063\u3068\u66f8\u3044\u305f\u306e\u3067\u304b\u306a\u308a\u6c5a\u304f\u3001\u30a8\u30e9\u30fc\u51e6\u7406\u306a\u3069\u3082\u7121\u3044\u304c\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\u3053\u308c\u3067\u7121\u4e8b\u601d\u3044\u63cf\u3044\u305f\u5168\u81ea\u52d5\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u306f\u3067\u304d\u305d\u3046\u3060\u3002\n\ncallback.php\n// Artist\nfunction getArtist($text, $session, $api) {\n  // get artist\n  $results = $api->search($text, 'artist', array('limit' => 1));\n\n  if(count($results->artists->items) == 0) return null;\n\n  foreach($results->artists->items as $data) {\n\n      $artist = array(\n                      'id' => $data->id,\n                      'name' => $data->name,\n                      'image' => $data->images[0]->url,\n                    );\n  }\n\n\n  return count($artist) == 0 ? 'Not Found.' : $artist;\n}\n\nfunction makePlayList($id, $session, $api) {\n\n  // get related artist\n  $results = $api->getArtistRelatedArtists($id)->artists;\n\n  // get 15 artist\n  $relatedArtists = array();\n\n  $max = count($results) >= 20 ? 20 : count($results);\n\n  for( $i = 0; $i < $max; $i++ ) {\n    $related = array(\n                   'id' => $results[$i]->id,\n                   'name' => $results[$i]->name\n    );\n    array_push($relatedArtists, $related);\n  }\n\n  // get artist top tracks\n  $top_tracks = array();\n\n  foreach($relatedArtists as $related) {\n    $top = $api->getArtistTopTracks($related['id'], array('country' => 'JP'))->tracks;\n\n    if(count($top) != 0) array_push($top_tracks, $top[0]->id);\n  }\n\n  // create new playlist\n  $user_id = $api->me()->id;\n\n  $response =$api->createUserPlaylist($user_id, array(\n    'name' => 'Your requested Related Artists'\n  ));\n\n  $playlist_id = $response->id;\n\n  // add playlist\n  $api->addUserPlaylistTracks($user_id, $playlist_id, $top_tracks);\n\n  // get playlist\n  $playlist = $api->getUserPlaylist($user_id, $playlist_id);\n\n  $response = array(\n    'url' => $playlist->external_urls->spotify,\n    'image' => $playlist->images[0]->url,\n  );\n\n\n  return $response;\n}\n\nfunction getEtcArtist($name, $session, $api) {\n  // get artist\n  $results = $api->search($name, 'artist', array('offset' => 1, 'limit' => 5));\n\n  //\n  if(count($results->artists->items) == 0) return null;\n\n  $artists = array();\n  foreach($results->artists->items as $data) {\n\n      array_push($artists, array(\n                      'id' => $data->id,\n                      'name' => $data->name,\n                      'image' => count($data->images) != 0 ? $data->images[0]->url : \"https://developer.spotify.com/wp-content/uploads/2016/07/icon3@2x.png\",\n                    )\n      );\n  }\n  return $artists;\n\n}\n\n\n\nLINEBot\n\u4eca\u307e\u3067\u4f5c\u3063\u3066\u304d\u305fLINEBot\u306f\u30c6\u30ad\u30b9\u30c8\u3092\u8fd4\u3059\u3070\u304b\u308a\u3067\u3042\u3063\u305f\u304c\u3001\u305b\u3063\u304b\u304f\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306a\u3082\u306e\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001Template Message\u6a5f\u80fd\u3067\u8fd4\u4fe1\u3057\u3066\u307f\u308b\u3002\n\u6d41\u308c\u7684\u306b\u306f\u3001\u7b2c\u4e00\u306b\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u540d\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u3055\u308c\u305f\u3089\u3001Spotify API\u3092\u5229\u7528\u3057\u3066\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u540d\u3068\u753b\u50cf\u3092\u8868\u793a\u3057\u3066\u30e6\u30fc\u30b6\u306b\u8868\u793a\u3059\u308b\u3002OK\u306a\u3089\u3070\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u4f5c\u308b\u3001NO\u306a\u3089\u3070\u30ab\u30eb\u30fc\u30bb\u30eb\u3067\u540d\u79f0\u304c\u4f3c\u3066\u3044\u308b\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u3092\u30b5\u30b8\u30a7\u30b9\u30c8\u3059\u308b\u3002\n\u8a00\u8449\u3067\u8aac\u660e\u3057\u306b\u304f\u3044\u306e\u3067\u30bd\u30fc\u30b9\u3068\u753b\u50cf\u3092\u6652\u3059\u3002\ngetArtist\n\ncallback.php\n  if($event instanceof TextMessage) {\n      $reply_token = $event->getReplyToken();\n\n      // getArtist\n      $artist = getArtist($event->getText(), $session, $api);\n\n      if(count($artist) == null) $bot->replyText($reply_token, \"Not Found.\");\n\n      $actions = array(\n        new PostbackTemplateActionBuilder(\"YES\", \"*****=1&***=\". $artist['id']),\n        new PostbackTemplateActionBuilder(\"NO\", \"****=-1&***=\". $artist['name'])\n      );\n\n      $img_url = $artist['image'];\n\n      $button = new ButtonTemplateBuilder($artist['name'], \"Is your request \". $artist['name'] . \"?\", $img_url, $actions);\n\n      $msg = new TemplateMessageBuilder(\"Your Request\". $artist['name'], $button);\n\n      $bot->replyMessage($reply_token, $msg);\n    }\n\n\n\nmakePlaylist\n\ncallback.php\n      $query = $event->getPostbackData();\n\n      if ($query) {\n          parse_str($query, $data);\n\n          foreach($data as $key => $value) {\n            if ($key == '****' && isset($data['****'])) {\n                $confirm = $value;\n            }\n            else if($key == '***' && isset($data['***'])) {\n                $id = $value;\n            }\n            else if($key == '****' && isset($data['****'])) {\n                $name = $value;\n            }\n          }\n      }\n\n      $reply_token = $event->getReplyToken();\n\n      // YES\n      if($confirm == 1) {\n        $playlist = makePlayList($id, $session, $api);\n\n        $actions = array(\n          new UriTemplateActionBuilder(\"Open Spotify\", $playlist['url']),\n        );\n\n        $img_url = $playlist['image'];\n\n        $button = new ButtonTemplateBuilder('Playlist', 'Please click \"Open Spotify\".', $img_url, $actions);\n\n        $msg = new TemplateMessageBuilder('Finish generate playlist', $button);\n\n        $bot->replyMessage($reply_token, $msg);\n      }\n\n\n\n\n\n\u306a\u304b\u306a\u304b\u6e80\u8db3\u3067\u304d\u308b\u3082\u306e\u3060\u3063\u305f\u306e\u3067\u3001\u516c\u958b\u3057\u305f\u304b\u3063\u305f\u306e\u3060\u3051\u308c\u3069\u3082\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u5927\u304d\u306a\u8ab2\u984c\u304c\u3042\u3063\u305f\u306e\u3067\u3067\u304d\u305aorz\n\n\u4eca\u5f8c\u306e\u8ab2\u984c\n\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u4f5c\u308b\u901f\u5ea6\u304c\u9045\u3044\u306e\u3067\u4ee5\u4e0b\u3092\u898b\u3066\u6539\u826f\u3057\u3066\u3044\u304f\u3064\u3082\u308a\u3002\n\n\n\n\n\u5927\u91cf\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6765\u3066\u3082\u5b89\u5fc3\u306aLINE BOT\u30b5\u30fc\u30d0\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 - Qiita\n\n\n\n \u5927\u91cf\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6765\u3066\u3082\u5b89\u5fc3\u306aLINE BOT\u30b5\u30fc\u30d0\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 - Qiita... \n\n\n\n\n\n\n\n\n\u8ffd\u8a18\n\u975e\u540c\u671f\u3067\u51e6\u7406\u3059\u308b\u3088\u3046\u306b\u5bfe\u5fdc\u3057\u305f\u3002\n\n\n\n\u3010\u7d9a\u7de8\u3011Spotify API\u3092\u4f7f\u3063\u3066LINEBot\u3067\u3042\u306a\u305f\u306b\u304a\u3059\u3059\u3081\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u5168\u81ea\u52d5\u3067\u4f5c\u3063\u3066\u3082\u3089\u3046 - Qiita\n\n\n\n \u3010\u7d9a\u7de8\u3011Spotify API\u3092\u4f7f\u3063\u3066LINEBot\u3067\u3042\u306a\u305f\u306b\u304a\u3059\u3059\u3081\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u5168\u81ea\u52d5\u3067\u4f5c\u3063\u3066\u3082\u3089\u3046 - Qiita... \n \n\n\n\n\n\n9\u6708\u672b\u306b\u3068\u3046\u3068\u3046\u65e5\u672c\u3078\u4e0a\u9678\u3057\u305fSpotify\u3002\n\u5f53\u521d\u306fAmazon Prime Music\u304c\u3042\u308b\u304b\u3089\u3044\u3089\u306a\u3044\u3084\u3068\u601d\u3063\u3066\u3044\u305f\u3051\u308c\u3069\u3082\u3001\u97f3\u697d\u7cfb\u306b\u306f\u73cd\u3057\u304fAPI\u304c\u3042\u308b\u3068\u3044\u3046\u306e\u3067\u5f04\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u3001\u65e9\u901f\u7121\u6599\u30d7\u30e9\u30f3\u3067\u7533\u3057\u8fbc\u3093\u3067\u307f\u305f\u3002\nAPI\u306b\u3064\u3044\u3066\u3044\u308d\u3044\u308d\u8abf\u3079\u3066\u898b\u308b\u3082\u306e\u306e\u65e5\u672c\u306b\u5165\u3063\u305f\u3070\u304b\u308a\u304c\u539f\u56e0\u306a\u306e\u304b\u3042\u307e\u308a\u60c5\u5831\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u3053\u3053\u306b\u8a18\u4e8b\u3068\u3057\u3066\u6b8b\u3059\u3002\n\n# Spotify API\u767b\u9332\n\u8cc7\u6599\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u308f\u304b\u3089\u306a\u3044\u304c\u3001Free\u30d7\u30e9\u30f3\u3067\u3082\u7279\u306b\u5236\u9650\u306a\u304fAPI\u306f\u4f7f\u3048\u308b\u3088\u3046\u3002\uff08\u9055\u3063\u305f\u3089\u3054\u3081\u3093\u306a\u3055\u3044\uff09\n[https://developer.spotify.com/](https://developer.spotify.com/) \u306e\u30e1\u30cb\u30e5\u30fc\u304b\u3089My Apps\u3092\u9078\u629e\u3057\u3001CREATE AN APP\u3092\u62bc\u4e0b\u3057\u3066\u3001Name\u3068Description\u3092\u9069\u5f53\u306b\u6c7a\u3081\u3066\u767b\u9332\u3059\u308b\u3002\n![1.PNG](https://qiita-image-store.s3.amazonaws.com/0/120983/751f445e-940e-c313-de4a-4ea9e30d231f.png)\n\n\u4eca\u56de\u306fLINEBot\u3068\u9023\u643a\u3059\u308b\u306e\u3067Rediret URIs\u306f\u9069\u5f53\u306b\u5165\u308c\u3066\u3044\u305f\u306e\u3060\u304c\u3001\u3042\u3068\u3067\u30c9\u306f\u307e\u308a\u3057\u305f\u306e\u3067\u305d\u3053\u3067\u8aac\u660e\u3059\u308b\u3002\nClient ID\u3068 Client Secret\u3092\u3072\u304b\u3048\u3066\u304a\u3044\u3066\u3001SAVE\u3092\u62bc\u305b\u3070\u767b\u9332\u304c\u5b8c\u4e86\u3060\u3002\n\n# SDK\u53d6\u5f97\nSpotify API\u306ePHPSDK\u304cgithub\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u5229\u7528\u3055\u305b\u3066\u3082\u3089\u3046\u3002\n[spotify-web-api-php](https://github.com/jwilsson/spotify-web-api-php)\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306fgithub\u306b\u8a18\u8f09\u306e\u65b9\u6cd5\u3067\u5168\u304f\u554f\u984c\u306a\u304f\u5b8c\u4e86\u3057\u305f\u3002\n\n# \u8a8d\u8a3c\n\u3053\u3053\u304c\u4e00\u756a\u82e6\u52b4\u3057\u305f\u3002\u3068\u3044\u3046\u304b\u4eca\u307e\u3067\u4f7f\u3063\u3066\u304d\u305fAPI\u306fID\u3068SECRET\u3055\u3048\u3042\u308c\u3070\u8a8d\u8a3c\u3067\u304d\u3066\u3044\u305f\u306e\u3060\u304c...\n\uff08\u5b9f\u306f\u304d\u3061\u3093\u3068API\u4ed5\u69d8\u66f8\u3092\u8aad\u3081\u3070\u66f8\u3044\u3066\u3042\u308b\u306e\u3060\uff09\n\n\u3068\u8a00\u3046\u4e8b\u3067\u3001\u50d5\u304c\u8a8d\u8a3c\u307e\u3067\u305f\u3069\u308a\u7740\u3044\u305f\u65b9\u6cd5\u3092\u66f8\u304f\u3002\n\n### \u5931\u6557\u4f8b\nspotify-web-api-php \u306edocs\u306f\u898b\u305a\u306b\u3001\u6d77\u5916\u30b5\u30a4\u30c8\u306e\u30b5\u30f3\u30d7\u30eb\u4f8b\u306b\u5f93\u3044\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a8d\u8a3c\u3092\u3057\u3066\u3044\u305f\u3002\n\n```php:callback.php\nrequire 'vendor/autoload.php';\n\n$session = new SpotifyWebAPI\\Session('CLIENT_ID', 'CLIENT_SECRET', 'REDIRECT_URI');\n$api = new SpotifyWebAPI\\SpotifyWebAPI();\n\n// Request a access token with optional scopes\n$scopes = array(\n    'playlist-read-private',\n    'playlist-modify-private', \n    'user-read-private',\n    'playlist-modify'\n);\n\n$session->requestCredentialsToken($scopes);\n$accessToken = $session->getAccessToken(); // We're good to go!\n\n// Set the code on the API wrapper\n$api->setAccessToken($accessToken);\n\ngetLog($api->me())\n```\nscopes\u306f\u3000[Web API: Using Scopes](https://developer.spotify.com/web-api/using-scopes/) \u3092\u53c2\u8003\u306b\u81ea\u5206\u3067\u5909\u66f4\u3057\u305f\u3002\n\u3067LINEBot\u3068\u9023\u643a\u3055\u305b\u3066\u8a8d\u8a3c\u3092\u3055\u305b\u3088\u3046\u3068\u3057\u3066\u3082\u3001$api->me()\u3067401:\u8a8d\u8a3c\u30a8\u30e9\u30fc\u3067\u843d\u3061\u308b\u3002\n\u306a\u305c\u306a\u305c\uff1f\u3068\u4f55\u5ea6\u3084\u3063\u3066\u3082\u540c\u3058\u7d50\u679c\u3060\u3063\u305f\u3002\n\u4e00\u6642\u9593\u307b\u3069\u305f\u3063\u305f\u5f8c\u3001spotify-web-api-php\u306e [Authorization](https://jwilsson.github.io/spotify-web-api-php/authorization.html)\u3092\u898b\u306b\u884c\u304f\u3068\u3001\n\n>Client Credentials Flow\n>This method doesn\u2019t require any user interaction and no access to user information are therefore granted.\n\n\u3068\u66f8\u3044\u3066\u3042\u308b\u3002**no access to user information are therefore granted.**\u3000\u3053\u306e\u65b9\u6cd5\u3067\u306f\u30e6\u30fc\u30b6\u60c5\u5831\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u3002Oh My God!\n\u3057\u304b\u3082\u3001\u304d\u3061\u3093\u3068API\u4ed5\u69d8\u66f8\u306e [Authorization](https://developer.spotify.com/web-api/authorization-guide/) \u3092\u8aad\u3081\u3068\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u8aad\u3080\u3002\n\n\u4f55\u3005\u3001\u4e00\u5ea6\u8a8d\u8a3c\u3057\u3066access_token\u3092\u53d6\u5f97\u3057\u3066\u3001\u305d\u308c\u3092\u5229\u7528\u3057\u3066refreshed access_token\u3092\u53d6\u5f97\u3059\u308b\u306e\u304b\uff01\n![Authorization-Code-Flow-Diagram.png](https://qiita-image-store.s3.amazonaws.com/0/120983/0aaabbdf-e5d9-ed76-e3a4-e14227dbc379.png)\n\n### \u6210\u529f\u4f8b\n\u3068\u3044\u3046\u3053\u3068\u3067\u307e\u305a\u306f index.php \u3092Web\u30b5\u30fc\u30d0\u306b\u304a\u3044\u3066\u8a8d\u8a3c\u3092\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3002\n\u3053\u306e\u969b\u3001My App\u306eRediret URIs\u306b\u306f\u3053\u306eindex.php\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3002\n\n```php:index.php\n<?php\n\nrequire 'vendor/autoload.php';\n\n$session = new SpotifyWebAPI\\Session('{YOUR_CLIENT_ID}', '{YOUR_CLIENT_SECRET}', '{YOUR_REDIRECt_URI}');\n$api = new SpotifyWebAPI\\SpotifyWebAPI();\n\nif (isset($_GET['code'])) {\n    $session->requestAccessToken($_GET['code']);\n    $api->setAccessToken($session->getAccessToken());\n\n    print_r($api->me());\n    print_r($session->getAccessToken());\n} else {\n    header('Location: ' . $session->getAuthorizeUrl(array(\n        'scope' => array(\n          'playlist-read-private', // \u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u53d6\u5f97\n          'playlist-modify-private', // \u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u5909\u66f4\n          'user-read-private',\n          'playlist-modify'\n        )\n    )));\n    die();\n}\n?>\n```\n\u304a\u30fc\u30fc\u898b\u4e8b\u306b\u81ea\u5206\u306e\u60c5\u5831\u304c\u51fa\u305f\u3002\u307e\u305f\u7121\u4e8b\u306baccess_token\u3082\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u3002\n\u3068\u8a00\u3046\u4e8b\u3067\u3053\u3061\u3089\u3092\u5229\u7528\u3057\u3066\u3001\u4eca\u5ea6\u306frefresh access_token \u306e\u767a\u884c\u3068\u30b5\u30fc\u30d0\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\u3002\n\n```php:callback.php\nuse SpotifyWebAPI\\Session;\nuse SpotifyWebAPI\\SpotifyWebAPI;\n\n// spotify\n$session = new Session('{YOUR_CLIENT_ID}', '{YOUR_CLIENT_SECRET}', '{YOUR_REDIRECt_URI}');\n$api = new SpotifyWebAPI();\n\n$refreshToken = '{YOUR_ACCESS_TOKEN}';\n\n$session->refreshAccessToken($refreshToken);\n\n$accessToken = $session->getAccessToken();\n\nprint_r($accessToken);\n```\n\u3053\u3061\u3089\u3082\u7121\u4e8baccess_token\u304c\u51fa\u305f\u6a21\u69d8\u3002\u3068\u8a00\u3046\u4e8b\u3067\u3053\u306e\u65b9\u6cd5\u304c\u6b63\u3057\u3044\u304b\u306f\u308f\u304b\u3089\u306a\u3044\u304c\u3001\u73fe\u5728\u3082\u8a8d\u8a3c\u306f\u51fa\u6765\u3066\u3044\u308b\u306e\u3067\u3053\u308c\u3067\u826f\u3057\u3068\u3057\u3088\u3046\u3002\n\n# Spotify API\u3092\u4f7f\u3063\u3066\u4f55\u3092\u4f5c\u308b\u304b\u8003\u3048\u308b\nSpotify API\u3092\u5229\u7528\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u304c\u3042\u307e\u308a\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3002\n\u3044\u308d\u3044\u308d\u898b\u3066\u3044\u3066\u3001\u304a\uff01Spotify\u3063\u307d\u3044\u3068\u601d\u3063\u305f\u306e\u304c\u3042\u3063\u305f\u306e\u3067\u305d\u306e\u30a2\u30a4\u30c7\u30a2\u3092~~\u30d1\u30af\u308b\u3053\u3068\u306b~~\u30aa\u30de\u30fc\u30b8\u30e5\u3059\u308b\u3053\u3068\u306b\u3002\n\u3061\u306a\u307f\u306b\u5143\u30cd\u30bf\u306f [Spotibot](https://www.spotibot.com/) \u3068\u3044\u3046\u30da\u30fc\u30b8\u3067\u3001Band\u3084\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u540d\u3092\u5165\u529b\u3059\u308b\u3068\u3001\u305d\u306e\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u306b\u4f3c\u305f\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u306e\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u81ea\u52d5\u3067\u4f5c\u3063\u3066\u304f\u308c\u308b\u3082\u306e\u3060\u3002\n\u307e\u305a\u306f\u3053\u3061\u3089\u306e\u30da\u30fc\u30b8\u3067\u30a4\u30e1\u30fc\u30b8\u3057\u3066\u307b\u3057\u3044\u3002\n\n\u3042\u307e\u308aLINEBot\u3068\u306f\u89aa\u548c\u6027\u306f\u826f\u304f\u306a\u3055\u305d\u3046\u3067\u306f\u3042\u308b\u304c\uff08\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u4f5c\u6210\u306b\u6642\u9593\u304c\u304b\u304b\u308b\uff09\u3001LINEBot\u3067\u3082\u3084\u3063\u3066\u307f\u305f\u3044\u4e8b\u304c\u3042\u3063\u305f\u306e\u3067\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u3066\u307f\u308b\u3002\n\n# \u5168\u81ea\u52d5\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u4f5c\u6210\u624b\u9806\n### \u30d5\u30ed\u30fc\nSpotibot\u306b\u306f\u5f53\u305f\u308a\u524d\u3060\u304c\u30bd\u30fc\u30b9\u3084\u8a2d\u8a08\u66f8\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u3069\u3046\u3084\u3063\u305f\u3089\u4f5c\u308c\u308b\u304b\u8003\u3048\u3066\u307f\u308b\u3002\n\u8a8d\u8a3c\u306e\u5931\u6557\u3092\u6559\u8a13\u306b\u3001\u307e\u305a\u306fAPI\u4ed5\u69d8\u66f8\u3092\u3058\u3063\u304f\u308a\u773a\u3081\u3066\u307f\u308b\u3002\u773a\u3081\u3066\u307f\u3066\u4ee5\u4e0b\u30d5\u30ed\u30fc\u3067\u51fa\u6765\u305d\u3046\u306a\u4e8b\u3092\u601d\u3044\u3064\u3044\u305f\u3002\n\n![Untitled.png](https://qiita-image-store.s3.amazonaws.com/0/120983/d5f4bd48-6a81-0fc4-8e72-8df11ae8f3d8.png)\n\n\n### \u30bd\u30fc\u30b9\n\u3050\u308f\u3063\u3068\u66f8\u3044\u305f\u306e\u3067\u304b\u306a\u308a\u6c5a\u304f\u3001\u30a8\u30e9\u30fc\u51e6\u7406\u306a\u3069\u3082\u7121\u3044\u304c\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\u3053\u308c\u3067\u7121\u4e8b\u601d\u3044\u63cf\u3044\u305f\u5168\u81ea\u52d5\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u306f\u3067\u304d\u305d\u3046\u3060\u3002\n\n```php:callback.php\n// Artist\nfunction getArtist($text, $session, $api) {\n  // get artist\n  $results = $api->search($text, 'artist', array('limit' => 1));\n\n  if(count($results->artists->items) == 0) return null;\n\n  foreach($results->artists->items as $data) {\n\n      $artist = array(\n                      'id' => $data->id,\n                      'name' => $data->name,\n                      'image' => $data->images[0]->url,\n                    );\n  }\n\n\n  return count($artist) == 0 ? 'Not Found.' : $artist;\n}\n\nfunction makePlayList($id, $session, $api) {\n\n  // get related artist\n  $results = $api->getArtistRelatedArtists($id)->artists;\n\n  // get 15 artist\n  $relatedArtists = array();\n\n  $max = count($results) >= 20 ? 20 : count($results);\n\n  for( $i = 0; $i < $max; $i++ ) {\n    $related = array(\n                   'id' => $results[$i]->id,\n                   'name' => $results[$i]->name\n    );\n    array_push($relatedArtists, $related);\n  }\n\n  // get artist top tracks\n  $top_tracks = array();\n\n  foreach($relatedArtists as $related) {\n    $top = $api->getArtistTopTracks($related['id'], array('country' => 'JP'))->tracks;\n\n    if(count($top) != 0) array_push($top_tracks, $top[0]->id);\n  }\n\n  // create new playlist\n  $user_id = $api->me()->id;\n\n  $response =$api->createUserPlaylist($user_id, array(\n    'name' => 'Your requested Related Artists'\n  ));\n\n  $playlist_id = $response->id;\n\n  // add playlist\n  $api->addUserPlaylistTracks($user_id, $playlist_id, $top_tracks);\n\n  // get playlist\n  $playlist = $api->getUserPlaylist($user_id, $playlist_id);\n\n  $response = array(\n    'url' => $playlist->external_urls->spotify,\n    'image' => $playlist->images[0]->url,\n  );\n\n\n  return $response;\n}\n\nfunction getEtcArtist($name, $session, $api) {\n  // get artist\n  $results = $api->search($name, 'artist', array('offset' => 1, 'limit' => 5));\n\n  //\n  if(count($results->artists->items) == 0) return null;\n\n  $artists = array();\n  foreach($results->artists->items as $data) {\n\n      array_push($artists, array(\n                      'id' => $data->id,\n                      'name' => $data->name,\n                      'image' => count($data->images) != 0 ? $data->images[0]->url : \"https://developer.spotify.com/wp-content/uploads/2016/07/icon3@2x.png\",\n                    )\n      );\n  }\n  return $artists;\n\n}\n```\n\n# LINEBot\n\u4eca\u307e\u3067\u4f5c\u3063\u3066\u304d\u305fLINEBot\u306f\u30c6\u30ad\u30b9\u30c8\u3092\u8fd4\u3059\u3070\u304b\u308a\u3067\u3042\u3063\u305f\u304c\u3001\u305b\u3063\u304b\u304f\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306a\u3082\u306e\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001Template Message\u6a5f\u80fd\u3067\u8fd4\u4fe1\u3057\u3066\u307f\u308b\u3002\n\n\u6d41\u308c\u7684\u306b\u306f\u3001\u7b2c\u4e00\u306b\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u540d\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u3055\u308c\u305f\u3089\u3001Spotify API\u3092\u5229\u7528\u3057\u3066\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u540d\u3068\u753b\u50cf\u3092\u8868\u793a\u3057\u3066\u30e6\u30fc\u30b6\u306b\u8868\u793a\u3059\u308b\u3002OK\u306a\u3089\u3070\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u4f5c\u308b\u3001NO\u306a\u3089\u3070\u30ab\u30eb\u30fc\u30bb\u30eb\u3067\u540d\u79f0\u304c\u4f3c\u3066\u3044\u308b\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u3092\u30b5\u30b8\u30a7\u30b9\u30c8\u3059\u308b\u3002\n\u8a00\u8449\u3067\u8aac\u660e\u3057\u306b\u304f\u3044\u306e\u3067\u30bd\u30fc\u30b9\u3068\u753b\u50cf\u3092\u6652\u3059\u3002\n\n**getArtist**\n\n```php:callback.php\n  if($event instanceof TextMessage) {\n      $reply_token = $event->getReplyToken();\n\n      // getArtist\n      $artist = getArtist($event->getText(), $session, $api);\n\n      if(count($artist) == null) $bot->replyText($reply_token, \"Not Found.\");\n\n      $actions = array(\n        new PostbackTemplateActionBuilder(\"YES\", \"*****=1&***=\". $artist['id']),\n        new PostbackTemplateActionBuilder(\"NO\", \"****=-1&***=\". $artist['name'])\n      );\n\n      $img_url = $artist['image'];\n\n      $button = new ButtonTemplateBuilder($artist['name'], \"Is your request \". $artist['name'] . \"?\", $img_url, $actions);\n\n      $msg = new TemplateMessageBuilder(\"Your Request\". $artist['name'], $button);\n\n      $bot->replyMessage($reply_token, $msg);\n    }\n```\n![Screenshot_2017-01-11-11-16-46-136_jp.naver.line.android.png](https://qiita-image-store.s3.amazonaws.com/0/120983/c027ce35-6520-6c4c-d75b-b1c4203a098b.png)\n\n**makePlaylist**\n\n```php:callback.php\n      $query = $event->getPostbackData();\n\n      if ($query) {\n          parse_str($query, $data);\n\n          foreach($data as $key => $value) {\n            if ($key == '****' && isset($data['****'])) {\n                $confirm = $value;\n            }\n            else if($key == '***' && isset($data['***'])) {\n                $id = $value;\n            }\n            else if($key == '****' && isset($data['****'])) {\n                $name = $value;\n            }\n          }\n      }\n\n      $reply_token = $event->getReplyToken();\n\n      // YES\n      if($confirm == 1) {\n        $playlist = makePlayList($id, $session, $api);\n\n        $actions = array(\n          new UriTemplateActionBuilder(\"Open Spotify\", $playlist['url']),\n        );\n\n        $img_url = $playlist['image'];\n\n        $button = new ButtonTemplateBuilder('Playlist', 'Please click \"Open Spotify\".', $img_url, $actions);\n\n        $msg = new TemplateMessageBuilder('Finish generate playlist', $button);\n\n        $bot->replyMessage($reply_token, $msg);\n      }\n```\n![Screenshot_2017-01-11-11-14-29-462_jp.naver.line.android.png](https://qiita-image-store.s3.amazonaws.com/0/120983/e161cd38-b7d8-ffc2-43d2-231a9055f163.png)\n\n![Screenshot_2017-01-11-11-30-27-895_jp.naver.line.android.png](https://qiita-image-store.s3.amazonaws.com/0/120983/29be4081-4b3d-3b1c-b898-3ddb34ecc5e4.png)\n\n![Screenshot_2017-01-11-11-30-35-925_jp.naver.line.android.png](https://qiita-image-store.s3.amazonaws.com/0/120983/132f3cc3-0d64-5db3-b016-4718f678ada2.png)\n\n\u306a\u304b\u306a\u304b\u6e80\u8db3\u3067\u304d\u308b\u3082\u306e\u3060\u3063\u305f\u306e\u3067\u3001\u516c\u958b\u3057\u305f\u304b\u3063\u305f\u306e\u3060\u3051\u308c\u3069\u3082\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u5927\u304d\u306a\u8ab2\u984c\u304c\u3042\u3063\u305f\u306e\u3067\u3067\u304d\u305aorz\n\n# \u4eca\u5f8c\u306e\u8ab2\u984c\n\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u4f5c\u308b\u901f\u5ea6\u304c\u9045\u3044\u306e\u3067\u4ee5\u4e0b\u3092\u898b\u3066\u6539\u826f\u3057\u3066\u3044\u304f\u3064\u3082\u308a\u3002\n<TABLE ALIGN=CENTER><TR><TD WIDTH=400px>\n <A HREF=\"http://qiita.com/yoichiro6642/items/6d4c7309210af20a5c8f\" TARGET=\"_blank\"><STRONG>\u5927\u91cf\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6765\u3066\u3082\u5b89\u5fc3\u306aLINE BOT\u30b5\u30fc\u30d0\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 - Qiita</STRONG></A>\n <A HREF=\"http://b.hatena.ne.jp/entry/http://qiita.com/yoichiro6642/items/6d4c7309210af20a5c8f\" TARGET=\"_blank\">\n <IMG BORDER=\"0\" SRC=\"http://b.hatena.ne.jp/entry/image/http://qiita.com/yoichiro6642/items/6d4c7309210af20a5c8f\" BORDER=\"0\" ALT=\"\" /></a>\n <BR>\n \u5927\u91cf\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6765\u3066\u3082\u5b89\u5fc3\u306aLINE BOT\u30b5\u30fc\u30d0\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 - Qiita... \n </TD>\n <TD WIDTH=150px>\n <IMG STYLE=\"float:left;margin-right:.5em;\" SRC=\"http://capture.heartrails.com/120x120/cool?http://qiita.com/yoichiro6642/items/6d4c7309210af20a5c8f\" ALT=\"\" WIDTH=\"120\" HEIGHT=\"120\" />\n </TD></TR>\n</TABLE>\n\n# \u8ffd\u8a18\n\u975e\u540c\u671f\u3067\u51e6\u7406\u3059\u308b\u3088\u3046\u306b\u5bfe\u5fdc\u3057\u305f\u3002\n\n\n<TABLE ALIGN=CENTER><TR><TD WIDTH=400px>\n <A HREF=\"http://qiita.com/momochan/items/331e8db7dfc8a5dcdcb0\" TARGET=\"_blank\"><STRONG>\u3010\u7d9a\u7de8\u3011Spotify API\u3092\u4f7f\u3063\u3066LINEBot\u3067\u3042\u306a\u305f\u306b\u304a\u3059\u3059\u3081\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u5168\u81ea\u52d5\u3067\u4f5c\u3063\u3066\u3082\u3089\u3046 - Qiita</STRONG></A>\n <A HREF=\"http://b.hatena.ne.jp/entry/http://qiita.com/momochan/items/331e8db7dfc8a5dcdcb0\" TARGET=\"_blank\">\n <IMG BORDER=\"0\" SRC=\"http://b.hatena.ne.jp/entry/image/http://qiita.com/momochan/items/331e8db7dfc8a5dcdcb0\" BORDER=\"0\" ALT=\"\" /></a>\n <BR>\n \u3010\u7d9a\u7de8\u3011Spotify API\u3092\u4f7f\u3063\u3066LINEBot\u3067\u3042\u306a\u305f\u306b\u304a\u3059\u3059\u3081\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u5168\u81ea\u52d5\u3067\u4f5c\u3063\u3066\u3082\u3089\u3046 - Qiita... \n </TD>\n <TD WIDTH=150px>\n <IMG STYLE=\"float:left;margin-right:.5em;\" SRC=\"http://capture.heartrails.com/120x120/cool?http://qiita.com/momochan/items/331e8db7dfc8a5dcdcb0\" ALT=\"\" WIDTH=\"120\" HEIGHT=\"120\" />\n </TD></TR>\n</TABLE>\n\n"}