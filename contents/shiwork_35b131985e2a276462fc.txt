{"context": " More than 1 year has passed since last update.Resque\u3092Go\u3067\u5229\u7528\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u8abf\u3079\u305f\u3002\u5e7e\u3064\u304b\u53c2\u8003\u306b\u306a\u308b\u30b5\u30a4\u30c8\u304c\u3042\u3063\u305f\u304c\u88dc\u8db3\u304c\u5fc5\u8981\u3060\u3063\u305f\u306e\u3067\u4f75\u305b\u3066\u8a18\u8ff0\u3059\u308b\n\n\u53c2\u8003\u306b\u3057\u305f\u30b5\u30a4\u30c8\n\ngoworker\ngolang \u3067 redis \u3092\u4f7f\u3063\u305f job worker\ngo-resque\n\n\n\u306f\u3058\u3081\u306b\nGo\u3067Resque\u3092\u6271\u3046\u306e\u306bgoworker\u304c\u3042\u308b\u304c\u3001\u3053\u308c\u306fworker\u306e\u5b9f\u88c5\u306b\u7279\u5316\u3057\u3066\u3044\u3066enqueue\u3059\u308b\u6a5f\u80fd\u304c\u306a\u3044\u3002\u305d\u306e\u305f\u3081\u3001Go\u3067Enqueue\u3059\u308b\u65b9\u6cd5\u3068\u3057\u3066\u3001go-resque package\u3092\u5229\u7528\u3059\u308b\u3002\n\u53c2\u8003\u306b\u3057\u305f\u30b5\u30a4\u30c8\u3067\u8a70\u307e\u3063\u305f\u306e\u306fqueue\u306enamespace\u3067\u3001\u305d\u3053\u3089\u8fba\u306b\u3064\u3044\u3066\u88dc\u8db3\u3059\u308b\u5f62\u3067\u307e\u3068\u3081\u308b\n\n\u8a2d\u5b9a\nredis\n\nhost\u306flocalhost\n\u30dd\u30fc\u30c8\u306f6379\n\nqueue\u306enamespace(\u3053\u3053\u306e\u6307\u5b9a\u304c\u5fae\u5999\u306b\u7570\u306a\u308b)\n\nredis:queue:{namespace}\n\n\nEnqueue\ngo-resque\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\npackage main\n\nimport (\n    \"github.com/kavu/go-resque\" // Import this package\n    _ \"github.com/kavu/go-resque/godis\" // Use godis driver\n    \"github.com/simonz05/godis/redis\" // Import godis package\n)\n\nfunc main() {\n    client := redis.New(\"tcp:127.0.0.1:6379\", 0, \"\") // Godis redis client\n    enqueuer := resque.NewRedisEnqueuer(\"godis\", client)\n\n    enqueuer.Enqueue(\"resque:queue:default\", \"MyClass\", 1, 2, \"woot\")\n}\n\n\nQueue\u306b\u5165\u308c\u308b\ngo run enqueue.go \u3092\u5b9f\u884c\u3059\u308b\u3068 Redis\u306eresque:queue:default \u306b\u8ffd\u52a0\u3055\u308c\u308b\n\nDequeue\npackage main\n\nimport (\n    \"fmt\"\n\n    \"github.com/benmanns/goworker\"\n)\n\nfunc myFunc(queue string, args ...interface{}) error {\n    fmt.Printf(\"From %s, %v\\n\", queue, args)\n    return nil\n}\n\nfunc init() {\n    goworker.Register(\"MyClass\", myFunc)\n}\n\nfunc main() {\n    if err := goworker.Work(); err != nil {\n        fmt.Println(\"Error:\", err)\n    }\n}\n\n\nQueue\u304b\u3089\u53d6\u308a\u51fa\u3059\ngo run dequeue.go -queues=default -concurrency=1\nconcurrency\u306f\u4efb\u610f\u3067\u5909\u66f4\u3057\u305f\u3089\u826f\u3044\u3002queue\u306enamespace\u306fenqueue\u6642\u3068\u7570\u306a\u308a\u5b9f\u884c\u6642\u306e\u5f15\u6570\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067flag\u306b\u3088\u3063\u3066\u51e6\u7406\u3055\u308c\u308b\u3002\n\n\u30cf\u30de\u308a\u30dd\u30a4\u30f3\u30c8\nresque\u306enamespace\u306fresque:queue:\u304c\u5148\u982d\u306b\u3064\u304f\u304c\u3001enqueue\u306epackage\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u8a2d\u5b9a\u3055\u308c\u306a\u3044\u306e\u3067\u3053\u306e\u8fba\u30df\u30b9\u308b\u3068\u30cf\u30de\u308b\u3002\u3068\u3044\u3046\u304b\u30cf\u30de\u3063\u305f\u3002\n\n\u307e\u3068\u3081\nenqueue\u3068dequeue\u3067package\u304c\u7570\u306a\u308b\u306e\u3067namespace\u306b\u6c17\u3092\u3064\u3051\u307e\u3057\u3087\u3046\u3002\nResque\u3092Go\u3067\u5229\u7528\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u8abf\u3079\u305f\u3002\u5e7e\u3064\u304b\u53c2\u8003\u306b\u306a\u308b\u30b5\u30a4\u30c8\u304c\u3042\u3063\u305f\u304c\u88dc\u8db3\u304c\u5fc5\u8981\u3060\u3063\u305f\u306e\u3067\u4f75\u305b\u3066\u8a18\u8ff0\u3059\u308b\n\n# \u53c2\u8003\u306b\u3057\u305f\u30b5\u30a4\u30c8\n* [goworker](https://github.com/benmanns/goworker)\n* [golang \u3067 redis \u3092\u4f7f\u3063\u305f job worker](http://blog.livedoor.jp/sonots/archives/40192348.html)\n* [go-resque](https://github.com/kavu/go-resque)\n\n# \u306f\u3058\u3081\u306b\nGo\u3067Resque\u3092\u6271\u3046\u306e\u306bgoworker\u304c\u3042\u308b\u304c\u3001\u3053\u308c\u306fworker\u306e\u5b9f\u88c5\u306b\u7279\u5316\u3057\u3066\u3044\u3066enqueue\u3059\u308b\u6a5f\u80fd\u304c\u306a\u3044\u3002\u305d\u306e\u305f\u3081\u3001Go\u3067Enqueue\u3059\u308b\u65b9\u6cd5\u3068\u3057\u3066\u3001go-resque package\u3092\u5229\u7528\u3059\u308b\u3002\n\n\u53c2\u8003\u306b\u3057\u305f\u30b5\u30a4\u30c8\u3067\u8a70\u307e\u3063\u305f\u306e\u306fqueue\u306enamespace\u3067\u3001\u305d\u3053\u3089\u8fba\u306b\u3064\u3044\u3066\u88dc\u8db3\u3059\u308b\u5f62\u3067\u307e\u3068\u3081\u308b\n\n# \u8a2d\u5b9a\nredis\n\n* host\u306flocalhost\n* \u30dd\u30fc\u30c8\u306f6379\n\nqueue\u306enamespace(\u3053\u3053\u306e\u6307\u5b9a\u304c\u5fae\u5999\u306b\u7570\u306a\u308b)\n\n* redis:queue:{namespace}\n\n# Enqueue\n[go-resque](https://github.com/kavu/go-resque)\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\n\n```go\npackage main\n\nimport (\n\t\"github.com/kavu/go-resque\" // Import this package\n\t_ \"github.com/kavu/go-resque/godis\" // Use godis driver\n\t\"github.com/simonz05/godis/redis\" // Import godis package\n)\n\nfunc main() {\n\tclient := redis.New(\"tcp:127.0.0.1:6379\", 0, \"\") // Godis redis client\n\tenqueuer := resque.NewRedisEnqueuer(\"godis\", client)\n\n\tenqueuer.Enqueue(\"resque:queue:default\", \"MyClass\", 1, 2, \"woot\")\n}\n```\n\n## Queue\u306b\u5165\u308c\u308b\n`go run enqueue.go` \u3092\u5b9f\u884c\u3059\u308b\u3068 Redis\u306e`resque:queue:default` \u306b\u8ffd\u52a0\u3055\u308c\u308b\n\n\n# Dequeue\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\n\t\"github.com/benmanns/goworker\"\n)\n\nfunc myFunc(queue string, args ...interface{}) error {\n\tfmt.Printf(\"From %s, %v\\n\", queue, args)\n\treturn nil\n}\n\nfunc init() {\n\tgoworker.Register(\"MyClass\", myFunc)\n}\n\nfunc main() {\n\tif err := goworker.Work(); err != nil {\n\t\tfmt.Println(\"Error:\", err)\n\t}\n}\n```\n\n## Queue\u304b\u3089\u53d6\u308a\u51fa\u3059\n`go run dequeue.go -queues=default -concurrency=1`\nconcurrency\u306f\u4efb\u610f\u3067\u5909\u66f4\u3057\u305f\u3089\u826f\u3044\u3002queue\u306enamespace\u306fenqueue\u6642\u3068\u7570\u306a\u308a\u5b9f\u884c\u6642\u306e\u5f15\u6570\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067flag\u306b\u3088\u3063\u3066\u51e6\u7406\u3055\u308c\u308b\u3002\n\n# \u30cf\u30de\u308a\u30dd\u30a4\u30f3\u30c8\nresque\u306enamespace\u306f`resque:queue:`\u304c\u5148\u982d\u306b\u3064\u304f\u304c\u3001enqueue\u306epackage\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u8a2d\u5b9a\u3055\u308c\u306a\u3044\u306e\u3067\u3053\u306e\u8fba\u30df\u30b9\u308b\u3068\u30cf\u30de\u308b\u3002\u3068\u3044\u3046\u304b\u30cf\u30de\u3063\u305f\u3002\n\n#\u307e\u3068\u3081\nenqueue\u3068dequeue\u3067package\u304c\u7570\u306a\u308b\u306e\u3067namespace\u306b\u6c17\u3092\u3064\u3051\u307e\u3057\u3087\u3046\u3002\n", "tags": ["Go", "Redis"]}