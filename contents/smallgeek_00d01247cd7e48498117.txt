{"context": "MasterDetailPage \u3067\u8868\u793a\u3055\u308c\u308b Master \u306e\u5e45\u306f\u30b5\u30a4\u30ba\u304c\u56fa\u5b9a\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u3092 UI \u5074\u304b\u3089\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306a\u4ed5\u7d44\u307f\u304c\u6b32\u3057\u3044\u3068\u601d\u3044\u3001MasterDetailPage \u306e\u62e1\u5f35\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u5b8c\u6210\u30a4\u30e1\u30fc\u30b8\u306f\u3053\u3061\u3089\n\n\n\nMasterDetail \u30af\u30e9\u30b9\u3092\u62e1\u5f35\n\u6a19\u6e96\u3067\u5e45\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001MasterDetailPage \u30af\u30e9\u30b9\u3092\u7d99\u627f\u3057\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\npublic static readonly BindableProperty MasterFractionProperty =\n    BindableProperty.Create(\n        propertyName: nameof(MasterFraction),\n        returnType: typeof(double),\n        declaringType: typeof(VariableMasterDetailPage),\n        defaultValue: 0.0,\n        defaultBindingMode: BindingMode.TwoWay,\n        propertyChanged: OnMasterFractionChanged);\n\npublic double MasterFraction\n{\n    get { return (double)GetValue(MasterFractionProperty); }\n    set { SetValue(MasterFractionProperty, value); }\n}\n\nprotected static void OnMasterFractionChanged(BindableObject bindable, object oldValue, object newValue)\n{\n    var page = (VariableMasterDetailPage)bindable;\n\n    var newFraction = (double)newValue;\n    if (newFraction < page.MinimumFraction || page.MaximumFraction < newFraction)\n        throw new ArgumentOutOfRangeException();\n\n    var oldFraction = (double)oldValue;\n    if (oldFraction.Equals(newFraction) == false)\n    {\n        page.MasterFraction = newFraction;\n        page.OnPropertyChanged(nameof(page.MasterFraction));\n    }\n}\n\n\nCustomRenderer\nTabletMasterDetailRenderer \u3092\u7d99\u627f\u3057\u305f CustomRenderer \u3092 iOS \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002MaximumPrimaryColumnWidth \u3092\u5909\u66f4\u3057\u3066\u304a\u304f\u306e\u304c\u30dd\u30a4\u30f3\u30c8\u3002\nusing System;\nusing Xamarin.Forms;\nusing Xamarin.Forms.Platform.iOS;\nusing UIKit;\nusing VariableMaster;\nusing VariableMaster.Controls;\nusing VariableMaster.iOS;\n\n[assembly: ExportRenderer(typeof(VariableMasterDetailPage), typeof(VarriableMasterDetailPageRenderer))]\n\nnamespace VariableMaster.iOS\n{\n    public class VarriableMasterDetailPageRenderer : TabletMasterDetailRenderer\n    {\n        protected override void OnElementChanged(VisualElementChangedEventArgs e)\n        {\n            var page = e.NewElement as VariableMasterDetailPage;\n            if (page != null)\n            {\n                page.PropertyChanged += (sender, args) =>\n                {\n                    if (args.PropertyName == \"MasterFraction\")\n                    {\n                        MaximumPrimaryColumnWidth = (nfloat)(page.Width * page.MasterFraction / 100);\n                        PreferredPrimaryColumnWidthFraction = (nfloat)page.MasterFraction / 100;\n                    }\n                };\n            }\n\n            base.OnElementChanged(e);\n        }\n    }\n}\n\n\u5168\u4f53\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u3053\u3061\u3089\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u304a\u304b\u3057\u306a\u3068\u3053\u308d\u304c\u3042\u308c\u3070 PR \u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\nhttps://github.com/smallgeek/VariableMaster\nMasterDetailPage \u3067\u8868\u793a\u3055\u308c\u308b Master \u306e\u5e45\u306f\u30b5\u30a4\u30ba\u304c\u56fa\u5b9a\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u3092 UI \u5074\u304b\u3089\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306a\u4ed5\u7d44\u307f\u304c\u6b32\u3057\u3044\u3068\u601d\u3044\u3001MasterDetailPage \u306e\u62e1\u5f35\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n\u5b8c\u6210\u30a4\u30e1\u30fc\u30b8\u306f\u3053\u3061\u3089\n![Simulator Screen Shot 2016.07.16 12.15.48.png](https://qiita-image-store.s3.amazonaws.com/0/4407/cc951428-4102-f9e0-5093-3c92b1edd6af.png)\n\n![Simulator Screen Shot 2016.07.16 12.16.04.png](https://qiita-image-store.s3.amazonaws.com/0/4407/b0920c69-ea25-b589-d5c9-13919315a378.png)\n\n###MasterDetail \u30af\u30e9\u30b9\u3092\u62e1\u5f35\n\u6a19\u6e96\u3067\u5e45\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001MasterDetailPage \u30af\u30e9\u30b9\u3092\u7d99\u627f\u3057\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```csharp\npublic static readonly BindableProperty MasterFractionProperty =\n    BindableProperty.Create(\n        propertyName: nameof(MasterFraction),\n        returnType: typeof(double),\n        declaringType: typeof(VariableMasterDetailPage),\n        defaultValue: 0.0,\n        defaultBindingMode: BindingMode.TwoWay,\n        propertyChanged: OnMasterFractionChanged);\n                                \npublic double MasterFraction\n{\n    get { return (double)GetValue(MasterFractionProperty); }\n    set { SetValue(MasterFractionProperty, value); }\n}\n\nprotected static void OnMasterFractionChanged(BindableObject bindable, object oldValue, object newValue)\n{\n    var page = (VariableMasterDetailPage)bindable;\n\n    var newFraction = (double)newValue;\n    if (newFraction < page.MinimumFraction || page.MaximumFraction < newFraction)\n        throw new ArgumentOutOfRangeException();\n\n    var oldFraction = (double)oldValue;\n    if (oldFraction.Equals(newFraction) == false)\n    {\n        page.MasterFraction = newFraction;\n        page.OnPropertyChanged(nameof(page.MasterFraction));\n    }\n}\n```\n\n###CustomRenderer\nTabletMasterDetailRenderer \u3092\u7d99\u627f\u3057\u305f CustomRenderer \u3092 iOS \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002MaximumPrimaryColumnWidth \u3092\u5909\u66f4\u3057\u3066\u304a\u304f\u306e\u304c\u30dd\u30a4\u30f3\u30c8\u3002\n\n```csharp\nusing System;\nusing Xamarin.Forms;\nusing Xamarin.Forms.Platform.iOS;\nusing UIKit;\nusing VariableMaster;\nusing VariableMaster.Controls;\nusing VariableMaster.iOS;\n\n[assembly: ExportRenderer(typeof(VariableMasterDetailPage), typeof(VarriableMasterDetailPageRenderer))]\n\nnamespace VariableMaster.iOS\n{\n    public class VarriableMasterDetailPageRenderer : TabletMasterDetailRenderer\n    {\n        protected override void OnElementChanged(VisualElementChangedEventArgs e)\n        {\n            var page = e.NewElement as VariableMasterDetailPage;\n            if (page != null)\n            {\n                page.PropertyChanged += (sender, args) =>\n                {\n                    if (args.PropertyName == \"MasterFraction\")\n                    {\n                        MaximumPrimaryColumnWidth = (nfloat)(page.Width * page.MasterFraction / 100);\n                        PreferredPrimaryColumnWidthFraction = (nfloat)page.MasterFraction / 100;\n                    }\n                };\n            }\n\n            base.OnElementChanged(e);\n        }\n    }\n}\n```\n\n\u5168\u4f53\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u3053\u3061\u3089\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u304a\u304b\u3057\u306a\u3068\u3053\u308d\u304c\u3042\u308c\u3070 PR \u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\nhttps://github.com/smallgeek/VariableMaster\n", "tags": ["Xamarin", "Xamarin.Forms", "Xamarin.iOS"]}