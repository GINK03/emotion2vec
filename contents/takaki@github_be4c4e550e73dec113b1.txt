{"context": "Java\u306eORM\u3067\u3042\u308bjOOQ\u3092Gradle\u3067\u8a2d\u5b9a\u3059\u308b\u65b9\u6cd5\u306e\u8aac\u660e\u3002\u53c2\u8003\u306b\u4e0a\u3052\u3066\u3042\u308bQiita\u306e\u8a18\u4e8b\u3082\u3042\u308b\u3057\u5143\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u3082\u4e01\u5be7\u3067\u306f\u3042\u308b\u304cMaven\u30d9\u30fc\u30b9\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u3002Gradle\u3082\u30de\u30cb\u30e5\u30a2\u30eb\u306b\u306f\u3042\u308b\u304c\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u3053\u3068\u306a\u3069\u306f\u3042\u307e\u308a\u8a73\u7d30\u304c\u66f8\u3044\u3066\u306a\u3044\u3002\n\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e\u30b5\u30f3\u30d7\u30eb\n\u4ed8\u5c5e\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u30b5\u30f3\u30d7\u30eb\u3092\u5143\u306b\u4f5c\u6210\u3059\u308b\u3002\u306a\u304a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306b\u3042\u308bMySQL\u3067\u306f\u306a\u304fSQLite\u3092\u4f7f\u3063\u305f\u3002\n\nStep 1 \u6e96\u5099\n\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n\nbuild.gradle\napply plugin: 'java'\n// jooq\u306eGradle\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\napply plugin: 'nu.studer.jooq'\n\nrepositories {\n    mavenCentral()\n}\n\nbuildscript {\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n\n    dependencies {\n        // jooq\u306eGradle\u30d7\u30e9\u30b0\u30a4\u30f3\n        classpath 'nu.studer:gradle-jooq-plugin:1.0.5'\n        // SQLite\u3092\u4f7f\u3046\n        classpath group: 'org.xerial', name: 'sqlite-jdbc', version: '3.8.11.2'\n    }\n}\n\ndependencies {\n    compile group: 'org.jooq', name:'jooq', version: '3.8.3'\n    compile group: 'org.jooq', name:'jooq-meta', version: '3.8.3'\n    runtime group: 'org.xerial', name: 'sqlite-jdbc', version: '3.8.11.2'\n}\n\n\n\n\u30b9\u30c6\u30c3\u30d7 2 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\n$ sqlite library.db\nsqlite> CREATE TABLE `author` (\n  `id` int NOT NULL,\n  `first_name` varchar(255) DEFAULT NULL,\n  `last_name` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n);\nsqlite> INSERT INTO \"author\" VALUES(1,'Hoge','Foo');\nsqlite> INSERT INTO \"author\" VALUES(2,'Bar','Baz');\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u30c7\u30fc\u30bf\u3082\u5165\u308c\u3066\u304a\u304f\u3002\n\n\u30b9\u30c6\u30c3\u30d7 3 \u30b3\u30fc\u30c9\u751f\u6210\n\u6b21\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3002\u3053\u306e\u66f8\u5f0f\u306fGradle\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u304a\u304b\u3052\u3067\u3042\u308b\u3002\u30d7\u30e9\u30b0\u30a4\u30f3\u7121\u3057\u3060\u3068\u3061\u3087\u3063\u3068\u8a2d\u5b9a\u304c\u9762\u5012\u3002\n\nbuild.gradle\n\njooq {\n    library (sourceSets.main) {\n        jdbc {\n            driver = \"org.sqlite.JDBC\"\n            url = 'jdbc:sqlite:./library.db'\n        }\n        generator {\n            target {\n                packageName = 'example.jooq'\n            }\n        }\n    }\n}\n\n\n$ gradle  generateLibraryJooqSchemaSource\n\ngradle\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u540d\u524d\u306f\u8a2d\u5b9a(library)\u306b\u3088\u3063\u3066\u5909\u308f\u3063\u3066\u304f\u308b\u3002\n\n\u30b9\u30c6\u30c3\u30d7 4,5,6\n\u3053\u3053\u306f\u540c\u3058\u306a\u306e\u3067\u307e\u3068\u3081\u305f\u3002\n\nMain.java\nimport org.jooq.DSLContext;\nimport org.jooq.Record;\nimport org.jooq.Result;\nimport org.jooq.SQLDialect;\nimport org.jooq.impl.DSL;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\nimport static example.jooq.Tables.AUTHOR;\n\n\npublic class Main {\n    public static void main(final String[] args) {\n        final String userName = \"\";\n        final String password = \"\";\n        final String url = \"jdbc:sqlite:library.db\";\n\n        try (Connection conn = DriverManager\n                .getConnection(url, userName, password);\n             final DSLContext create = DSL.using(conn, SQLDialect.MYSQL)) {\n            final Result<Record> result = create.select().from(AUTHOR).fetch();\n\n            for (final Record r : result) {\n                final Integer id = r.getValue(AUTHOR.ID);\n                final String firstName = r.getValue(AUTHOR.FIRST_NAME);\n                final String lastName = r.getValue(AUTHOR.LAST_NAME);\n\n                System.out.println(\n                        \"ID: \" + id + \" first name: \" + firstName + \" last name: \" + lastName);\n            }\n        } catch (final Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\nSQLite\u306e\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u304c\u9055\u3046\u3068\u30c6\u30fc\u30d6\u30eb\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3068\u3044\u3046\u4e00\u898b\u5206\u304b\u308a\u306b\u304f\u3044\u30a8\u30e9\u30fc\u3092\u51fa\u3059\u306e\u3067\u6ce8\u610f\u3002\n\n\u53c2\u8003\n\nhttp://qiita.com/rubytomato@github/items/93ed18b30605f4491086\nhttp://www.jooq.org/doc/3.8/manual-single-page/#tutorials\n\nhttps://github.com/etiennestuder/gradle-jooq-plugin - \u3053\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u3063\u305f\n\nJava\u306eORM\u3067\u3042\u308bjOOQ\u3092Gradle\u3067\u8a2d\u5b9a\u3059\u308b\u65b9\u6cd5\u306e\u8aac\u660e\u3002\u53c2\u8003\u306b\u4e0a\u3052\u3066\u3042\u308bQiita\u306e\u8a18\u4e8b\u3082\u3042\u308b\u3057\u5143\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u3082\u4e01\u5be7\u3067\u306f\u3042\u308b\u304cMaven\u30d9\u30fc\u30b9\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u3002Gradle\u3082\u30de\u30cb\u30e5\u30a2\u30eb\u306b\u306f\u3042\u308b\u304c\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u3053\u3068\u306a\u3069\u306f\u3042\u307e\u308a\u8a73\u7d30\u304c\u66f8\u3044\u3066\u306a\u3044\u3002\n\n# \u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e\u30b5\u30f3\u30d7\u30eb\n\n\u4ed8\u5c5e\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u30b5\u30f3\u30d7\u30eb\u3092\u5143\u306b\u4f5c\u6210\u3059\u308b\u3002\u306a\u304a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306b\u3042\u308bMySQL\u3067\u306f\u306a\u304fSQLite\u3092\u4f7f\u3063\u305f\u3002\n\n## Step 1 \u6e96\u5099\n\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n\n```build.gradle\napply plugin: 'java'\n// jooq\u306eGradle\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\napply plugin: 'nu.studer.jooq'\n\nrepositories {\n    mavenCentral()\n}\n\nbuildscript {\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n\n    dependencies {\n        // jooq\u306eGradle\u30d7\u30e9\u30b0\u30a4\u30f3\n        classpath 'nu.studer:gradle-jooq-plugin:1.0.5'\n        // SQLite\u3092\u4f7f\u3046\n        classpath group: 'org.xerial', name: 'sqlite-jdbc', version: '3.8.11.2'\n    }\n}\n\ndependencies {\n    compile group: 'org.jooq', name:'jooq', version: '3.8.3'\n    compile group: 'org.jooq', name:'jooq-meta', version: '3.8.3'\n    runtime group: 'org.xerial', name: 'sqlite-jdbc', version: '3.8.11.2'\n}\n```\n\n## \u30b9\u30c6\u30c3\u30d7 2 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\n\n```\n$ sqlite library.db\nsqlite> CREATE TABLE `author` (\n  `id` int NOT NULL,\n  `first_name` varchar(255) DEFAULT NULL,\n  `last_name` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n);\nsqlite> INSERT INTO \"author\" VALUES(1,'Hoge','Foo');\nsqlite> INSERT INTO \"author\" VALUES(2,'Bar','Baz');\n```\n\u3053\u3093\u306a\u611f\u3058\u3067\u30c7\u30fc\u30bf\u3082\u5165\u308c\u3066\u304a\u304f\u3002\n\n## \u30b9\u30c6\u30c3\u30d7 3 \u30b3\u30fc\u30c9\u751f\u6210\n\u6b21\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3002\u3053\u306e\u66f8\u5f0f\u306fGradle\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u304a\u304b\u3052\u3067\u3042\u308b\u3002\u30d7\u30e9\u30b0\u30a4\u30f3\u7121\u3057\u3060\u3068\u3061\u3087\u3063\u3068\u8a2d\u5b9a\u304c\u9762\u5012\u3002\n\n```build.gradle\n\njooq {\n    library (sourceSets.main) {\n        jdbc {\n            driver = \"org.sqlite.JDBC\"\n            url = 'jdbc:sqlite:./library.db'\n        }\n        generator {\n            target {\n                packageName = 'example.jooq'\n            }\n        }\n    }\n}\n```\n\n```\n$ gradle  generateLibraryJooqSchemaSource\n```\n\ngradle\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u540d\u524d\u306f\u8a2d\u5b9a(library)\u306b\u3088\u3063\u3066\u5909\u308f\u3063\u3066\u304f\u308b\u3002\n\n## \u30b9\u30c6\u30c3\u30d7 4,5,6 \n\u3053\u3053\u306f\u540c\u3058\u306a\u306e\u3067\u307e\u3068\u3081\u305f\u3002\n\n```Main.java\nimport org.jooq.DSLContext;\nimport org.jooq.Record;\nimport org.jooq.Result;\nimport org.jooq.SQLDialect;\nimport org.jooq.impl.DSL;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\nimport static example.jooq.Tables.AUTHOR;\n\n\npublic class Main {\n    public static void main(final String[] args) {\n        final String userName = \"\";\n        final String password = \"\";\n        final String url = \"jdbc:sqlite:library.db\";\n\n        try (Connection conn = DriverManager\n                .getConnection(url, userName, password);\n             final DSLContext create = DSL.using(conn, SQLDialect.MYSQL)) {\n            final Result<Record> result = create.select().from(AUTHOR).fetch();\n\n            for (final Record r : result) {\n                final Integer id = r.getValue(AUTHOR.ID);\n                final String firstName = r.getValue(AUTHOR.FIRST_NAME);\n                final String lastName = r.getValue(AUTHOR.LAST_NAME);\n\n                System.out.println(\n                        \"ID: \" + id + \" first name: \" + firstName + \" last name: \" + lastName);\n            }\n        } catch (final Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n```\n\nSQLite\u306e\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u304c\u9055\u3046\u3068\u30c6\u30fc\u30d6\u30eb\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3068\u3044\u3046\u4e00\u898b\u5206\u304b\u308a\u306b\u304f\u3044\u30a8\u30e9\u30fc\u3092\u51fa\u3059\u306e\u3067\u6ce8\u610f\u3002\n\n\n\n# \u53c2\u8003\n* http://qiita.com/rubytomato@github/items/93ed18b30605f4491086\n* http://www.jooq.org/doc/3.8/manual-single-page/#tutorials\n* https://github.com/etiennestuder/gradle-jooq-plugin - \u3053\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u3063\u305f\n", "tags": ["Java", "gradle", "jOOQ", "ORM"]}