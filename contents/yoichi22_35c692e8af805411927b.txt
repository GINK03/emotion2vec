{"tags": ["Python", "\u95a2\u6570\u578b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0"], "context": "\u95a2\u6570\u306e\u3061\u3087\u3063\u3068\u5049\u3044\u7248\u3067\u3042\u308b\u9ad8\u968e\u95a2\u6570\u3068 Python \u306e\u30c7\u30b3\u30ec\u30fc\u30bf\u8a18\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3059\u308b\u3002\n\n\u95a2\u6570\n\u96c6\u5408A\u3068\u96c6\u5408B\u304c\u3042\u308b\u3068\u304d\u3001\u96c6\u5408A\u306e\u4efb\u610f\u306e\u5143 a \u306b\u5bfe\u3057\u3001\u96c6\u5408B\u306e\u5143 f(a) \u3092\u4e00\u610f\u306b\u6c7a\u3081\u308b\u898f\u5247 f \u3092\u3001 A \u304b\u3089 B \u3078\u306e\u95a2\u6570\u3068\u3044\u3046\u3002\n\u5f15\u6570\u30922\u500d\u3057\u3066\u8fd4\u3059\u95a2\u6570 times2 \u3092\u8003\u3048\u308b\ndef times2(i):\n    return i * 2\n\n\u3053\u306e\u3068\u304d\u3001 i \u3068\u3057\u3066 0, 1, 2 \u3092\u4e0e\u3048\u308b\u3068\n\ntimes2(0) == 0\ntimes2(1) == 2\ntimes2(2) == 4\n\n\u3068 set([0,1,2]) \u304b\u3089\u6574\u6570\u306e\u96c6\u5408\u3078\u306e\u95a2\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3002\n\n\n\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u304a\u3051\u308b\u95a2\u6570\n\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u304a\u3044\u3066\u95a2\u6570\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u52b9\u80fd\u304c\u3042\u308b\n\n\u540c\u3058\u3088\u3046\u306a\u30b3\u30fc\u30c9\u304c\u3042\u3061\u3053\u3061\u306b\u3042\u308b\u2192\u62bd\u51fa\u3057\u30661\u304b\u6240\u306b\u307e\u3068\u3081\u308b\u2192\u77e5\u8b58\u304c\u96c6\u7d04\u3055\u308c\u308b\n\u3072\u3068\u307e\u3068\u3081\u306b\u3067\u304d\u308b\u30b3\u30fc\u30c9\u306e\u65ad\u7247\u304c\u3042\u308b\u2192\u76ee\u7684\u3092\u8868\u3059\u540d\u524d\u3092\u3064\u3051\u308b\u2192\u51e6\u7406\u3092\u4fef\u77b0\u3067\u304d\u308b\n\n\u4ee5\u4e0b\u3067\u8aac\u660e\u3059\u308b\u9ad8\u968e\u95a2\u6570\u3092\u4f7f\u3044\u3053\u306a\u3059\u3053\u3068\u3067\u3001\u3053\u308c\u3089\u306e\u52b9\u80fd\u3092\u5f97\u3089\u308c\u308b\u5834\u9762\u304c\u5897\u3048\u308b\u3002\n\n\u5f15\u6570\u3068\u3057\u3066\u306e\u95a2\u6570\n\u5f15\u6570\u30920\u500d\u3059\u308b\u95a2\u6570\u30011\u500d\u3059\u308b\u95a2\u6570\u30012\u500d\u3059\u308b\u95a2\u6570\u304c\u3042\u3063\u305f\u3068\u304d\u3001\u305d\u308c\u3089\u306b\u540c\u3058\u5024 1 \u3092\u9069\u7528\u3059\u308b\u3068\u3044\u3046\u51e6\u7406\u3092\u8003\u3048\u308b\u3002\n\ntimes0(1) == 0\ntimes1(1) == 1\ntimes2(1) == 2\n\n\u5148\u7a0b\u306e\u95a2\u6570 times2: set([0, 1, 2]) -> Int \u306e\u5b9a\u7fa9\u3068\u898b\u6bd4\u3079\u308b\u3068\u3001\u95a2\u6570\u306e\u96c6\u5408 set([times0, times1, times2]) \u304b\u3089\u6574\u6570\u306e\u96c6\u5408\u3078\u306e\u5bfe\u5fdc\u898f\u5247\u304c\u898b\u3048\u3066\u304f\u308b\u3002\n\napply1(times0) == 0\napply1(times1) == 1\napply1(times2) == 2\n\n\napply1 \u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3067\u304d\u308b\ndef apply1(f):\n    return f(1)\n\n\u3053\u306e\u3088\u3046\u306b\u95a2\u6570\u3092\u5f15\u6570\u3068\u3059\u308b\u95a2\u6570(\u3042\u308b\u3044\u306f\u6b21\u306e\u7bc0\u3067\u898b\u308b\u3088\u3046\u306a\u95a2\u6570\u3092\u8fd4\u3059\u95a2\u6570)\u306e\u3053\u3068\u3092\u9ad8\u968e\u95a2\u6570\u3068\u547c\u3076\u3002\n\n\u623b\u308a\u5024\u3068\u3057\u3066\u306e\u95a2\u6570\n\u6570\u3092\u5f15\u6570\u306b\u53d6\u308a\u3001\u95a2\u6570\u3092\u8fd4\u3059\u9ad8\u968e\u95a2\u6570\ndef times_n(n):\n    def f(i):\n        return n * i\n    return f\n\n\u3092\u4f7f\u3046\u3068\u5148\u7a0b\u51fa\u3066\u304d\u305f times0, times1, times2 \u3092\ntimes0 = times_n(0)\ntimes1 = times_n(1)\ntimes2 = times_n(2)\n\n\u3068\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n>>> apply1(times0)\n0\n>>> apply1(times1)\n1\n>>> apply1(times2)\n2\n\n\n\u95a2\u6570\u306e\u96c6\u5408\u304b\u3089\u95a2\u6570\u306e\u96c6\u5408\u3078\u306e\u95a2\u6570\n\u95a2\u6570\u3092\u5f15\u6570\u306b\u53d6\u308a\u3001\u95a2\u6570\u3092\u8fd4\u3059\u9ad8\u968e\u95a2\u6570\u3092\u4f7f\u3046\u3068\n\n\u95a2\u6570\u306e\u5f15\u6570\u3092\u524d\u51e6\u7406\u3059\u308b\u65b0\u305f\u306a\u95a2\u6570\u3092\u3064\u304f\u308b\n\u95a2\u6570\u306e\u623b\u308a\u5024\u3092\u5f8c\u51e6\u7406\u3059\u308b\u65b0\u305f\u306a\u95a2\u6570\u3092\u3064\u304f\u308b\n\u95a2\u6570\u306e\u524d\u5f8c\u306b\u51e6\u7406\u3092\u5dee\u3057\u8fbc\u3080\n\n\n\u5b9f\u884c\u6642\u9593\u306e\u8a08\u6e2c\n\u547c\u3073\u51fa\u3057\u306e\u8a18\u9332\n\n\n\n\u306a\u3069\u3092\u518d\u5229\u7528\u53ef\u80fd\u306a\u5f62\u3067\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u308b\u3002\ndef dot(g):\n    \"f -> g . f\"\n    def func(f):\n        def composite(i):\n            return g(f(i))\n        return composite\n    return func\n\n>>> (lambda i: i*2)((lambda i: i+5)(1))\n12\n>>> f = dot(lambda i: i*2)(lambda i: i+5)\n>>> f(1)\n12\n\n\n\u30c7\u30b3\u30ec\u30fc\u30bf\u8a18\u6cd5\n\u95a2\u6570\u3092\u5f15\u6570\u306b\u53d6\u308a\u3001\u95a2\u6570\u3092\u8fd4\u3059\u9ad8\u968e\u95a2\u6570 decorator \u304c\u3042\u308b\u3068\u304d\n@decorator\ndef function(argument):\n    # ...\n\n\u3068\u66f8\u304f\u3068 function \u3092 decorator(function) \u3067\u7f6e\u304d\u63db\u3048\u3066\u304f\u308c\u308b\u3002\n\n\nfunction \u3092\u5b9a\u7fa9\u3057\u305f\u5f8c\u306b function = decorator(function) \u3059\u308b\u306e\u3068\u6319\u52d5\u306f\u540c\u3058\n\u95a2\u6570\u5b9a\u7fa9\u3068\u95a2\u6570\u306e\u7f6e\u304d\u63db\u3048\u304c\u540c\u3058\u30d6\u30ed\u30c3\u30af\u306b\u66f8\u3051\u308b\u306e\u3067\u53ef\u8aad\u6027\u304c\u9ad8\u3044\n\n\n\u30c7\u30b3\u30ec\u30fc\u30bf\u306e\u4f8b\n\u95a2\u6570\u547c\u3073\u51fa\u3057\u306e\u30ed\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u66f8\u3044\u3066\u3001\u52b9\u7387\u306e\u60aa\u3044\u518d\u5e30\u95a2\u6570\u306b\u9069\u7528\u3057\u3066\u307f\u308b\u3002\ndef trace(function):\n    \"\u547c\u3073\u51fa\u3057\u30ed\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\u30c7\u30b3\u30ec\u30fc\u30bf\"\n    def inner(*args):\n        \"function \u306e\u524d\u5f8c\u3067\u547c\u3073\u51fa\u3057\u30ed\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\"\n        print(\"{0}{1}\".format(function.__name__, args))\n        ret = function(*args)\n        print(\"{0}{1} ==> {2}\".format(function.__name__, args, ret))\n        return ret\n    return inner\n\n\n@trace\ndef fib(n):\n    \"\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u6570\u3092\u6c42\u3081\u308b\"\n    if n == 0:\n        return 0\n    if n == 1:\n        return 1\n    return fib(n-2) + fib(n-1)\n\n\u540c\u3058\u8a08\u7b97\u3092\u4f55\u5ea6\u3082\u3057\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u306e\u304c\u898b\u308c\u308b\u3002\n% python3 -c 'import fib; fib.fib(4)'\nfib(4,)\nfib(2,)\nfib(0,)\nfib(0,) ==> 0\nfib(1,)\nfib(1,) ==> 1\nfib(2,) ==> 1\nfib(3,)\nfib(1,)\nfib(1,) ==> 1\nfib(2,)\nfib(0,)\nfib(0,) ==> 0\nfib(1,)\nfib(1,) ==> 1\nfib(2,) ==> 1\nfib(3,) ==> 2\nfib(4,) ==> 3\n\n\nTIPS: \u5c5e\u6027\u306e\u5f15\u304d\u7d99\u304e\n\u5148\u7a0b\u306e\u4f8b\u3060\u3068 fib \u306e docstirng, \u95a2\u6570\u540d\u306f inner \u306e\u3082\u306e\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n>>> fib.__doc__\n'function \u306e\u524d\u5f8c\u3067\u547c\u3073\u51fa\u3057\u30ed\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b'\n>>> fib.__name__\n'inner'\n\n\u2192 \u8907\u6570\u306e\u95a2\u6570\u306b\u540c\u3058\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u9069\u7528\u3057\u305f\u3068\u304d\u306b\u8f9b\u3044\nfrom functools import wraps\n\n\ndef trace(function):\n    \"\u547c\u3073\u51fa\u3057\u30ed\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\u30c7\u30b3\u30ec\u30fc\u30bf\"\n    @wraps(function)\n    def inner(*args):\n        \"function \u306e\u524d\u5f8c\u3067\u547c\u3073\u51fa\u3057\u30ed\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\"\n    ...\n\n\u3068\u3057\u3066\u304a\u304f\u3068\n>>> fib.__doc__\n'\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u6570\u3092\u6c42\u3081\u308b'\n>>> fib.__name__\n'fib'\n\n\u3068\u5143\u306e\u95a2\u6570\u306e docstring \u3068\u540d\u524d\u3092\u5f15\u304d\u7d99\u3044\u3067\u304f\u308c\u308b\u3002\n\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u8868\u793a\u3057\u305f\u3068\u304d\u306b\u5f79\u306b\u7acb\u3064\n\nTIPS: *args \u3068 **kwargs\n\n*args \u3084 **kwargs \u3092\u4f7f\u3046\u3068\u3088\u308a\u6c4e\u7528\u7684\u306a\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u66f8\u3051\u308b\u3002\n\nTIPS: \u7f6e\u304d\u63db\u3048\u306a\u3044\n\u30c7\u30b3\u30ec\u30fc\u30bf\u3067\u306f\u5fc5\u305a\u3057\u3082\u95a2\u6570\u3092\u65b0\u305f\u306a\u95a2\u6570\u306b\u7f6e\u304d\u63db\u3048\u308b\u5fc5\u8981\u306f\u306a\u3044\u3002\u4f8b\u3048\u3070\n\n\u6761\u4ef6\u306b\u5408\u81f4\u3057\u305f\u5834\u5408\u306e\u307f\u7f6e\u304d\u63db\u3048\u308b (e.g. unittest.skipIf)\n\nsetattr \u3067\u5c5e\u6027\u3092\u4ed8\u3051\u3066\u3001\u5143\u306e\u95a2\u6570\u3092\u8fd4\u3059\n\n\u306a\u3069\u3082\u53ef\u80fd\u3002\n\n\u307e\u3068\u3081\n\n\u95a2\u6570\u3092\u5f15\u6570\u306b\u53d6\u3063\u305f\u308a\u3001\u623b\u308a\u5024\u304c\u95a2\u6570\u306a\u95a2\u6570\u3092\u9ad8\u968e\u95a2\u6570\u3068\u3044\u3046\n\u5024\u306b\u5bfe\u3059\u308b\u624b\u7d9a\u304d\u3092\u307e\u3068\u3081\u308b \u2192 \u624b\u7d9a\u304d\u306b\u5bfe\u3059\u308b\u624b\u7d9a\u304d\u3092\u307e\u3068\u3081\u308b\n\u30c7\u30b3\u30ec\u30fc\u30bf\u8a18\u6cd5\u3067\u95a2\u6570\u306e\u7f6e\u304d\u63db\u3048\u3092\u7c21\u6f54\u306b\u66f8\u3051\u308b\n\n\u95a2\u6570\u306e\u3061\u3087\u3063\u3068\u5049\u3044\u7248\u3067\u3042\u308b\u9ad8\u968e\u95a2\u6570\u3068 Python \u306e\u30c7\u30b3\u30ec\u30fc\u30bf\u8a18\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3059\u308b\u3002\n\n# \u95a2\u6570\n\n\u96c6\u5408A\u3068\u96c6\u5408B\u304c\u3042\u308b\u3068\u304d\u3001\u96c6\u5408A\u306e\u4efb\u610f\u306e\u5143 `a` \u306b\u5bfe\u3057\u3001\u96c6\u5408B\u306e\u5143 `f(a)` \u3092\u4e00\u610f\u306b\u6c7a\u3081\u308b\u898f\u5247 `f` \u3092\u3001 A \u304b\u3089 B \u3078\u306e\u95a2\u6570\u3068\u3044\u3046\u3002\n\n\u5f15\u6570\u30922\u500d\u3057\u3066\u8fd4\u3059\u95a2\u6570 `times2` \u3092\u8003\u3048\u308b\n\n```py\ndef times2(i):\n    return i * 2\n```\n\n\u3053\u306e\u3068\u304d\u3001 `i` \u3068\u3057\u3066 0, 1, 2 \u3092\u4e0e\u3048\u308b\u3068\n\n* `times2(0) == 0`\n* `times2(1) == 2`\n* `times2(2) == 4`\n\n\u3068 `set([0,1,2])` \u304b\u3089\u6574\u6570\u306e\u96c6\u5408\u3078\u306e\u95a2\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3002\n\n![times2.png](https://qiita-image-store.s3.amazonaws.com/0/64323/3b58fdfe-fb14-3e7c-619e-1e4f9dfa48e8.png)\n\n# \u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u304a\u3051\u308b\u95a2\u6570\n\n\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u304a\u3044\u3066\u95a2\u6570\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u52b9\u80fd\u304c\u3042\u308b\n\n* \u540c\u3058\u3088\u3046\u306a\u30b3\u30fc\u30c9\u304c\u3042\u3061\u3053\u3061\u306b\u3042\u308b\u2192\u62bd\u51fa\u3057\u30661\u304b\u6240\u306b\u307e\u3068\u3081\u308b\u2192\u77e5\u8b58\u304c\u96c6\u7d04\u3055\u308c\u308b\n* \u3072\u3068\u307e\u3068\u3081\u306b\u3067\u304d\u308b\u30b3\u30fc\u30c9\u306e\u65ad\u7247\u304c\u3042\u308b\u2192\u76ee\u7684\u3092\u8868\u3059\u540d\u524d\u3092\u3064\u3051\u308b\u2192\u51e6\u7406\u3092\u4fef\u77b0\u3067\u304d\u308b\n\n\u4ee5\u4e0b\u3067\u8aac\u660e\u3059\u308b\u9ad8\u968e\u95a2\u6570\u3092\u4f7f\u3044\u3053\u306a\u3059\u3053\u3068\u3067\u3001\u3053\u308c\u3089\u306e\u52b9\u80fd\u3092\u5f97\u3089\u308c\u308b\u5834\u9762\u304c\u5897\u3048\u308b\u3002\n\n# \u5f15\u6570\u3068\u3057\u3066\u306e\u95a2\u6570\n\n\u5f15\u6570\u30920\u500d\u3059\u308b\u95a2\u6570\u30011\u500d\u3059\u308b\u95a2\u6570\u30012\u500d\u3059\u308b\u95a2\u6570\u304c\u3042\u3063\u305f\u3068\u304d\u3001\u305d\u308c\u3089\u306b\u540c\u3058\u5024 1 \u3092\u9069\u7528\u3059\u308b\u3068\u3044\u3046\u51e6\u7406\u3092\u8003\u3048\u308b\u3002\n\n* `times0(1) == 0`\n* `times1(1) == 1`\n* `times2(1) == 2`\n\n\u5148\u7a0b\u306e\u95a2\u6570 `times2: set([0, 1, 2]) -> Int` \u306e\u5b9a\u7fa9\u3068\u898b\u6bd4\u3079\u308b\u3068\u3001\u95a2\u6570\u306e\u96c6\u5408 `set([times0, times1, times2])` \u304b\u3089\u6574\u6570\u306e\u96c6\u5408\u3078\u306e\u5bfe\u5fdc\u898f\u5247\u304c\u898b\u3048\u3066\u304f\u308b\u3002\n\n* `apply1(times0) == 0`\n* `apply1(times1) == 1`\n* `apply1(times2) == 2`\n\n![apply1.png](https://qiita-image-store.s3.amazonaws.com/0/64323/47b969cc-c0a5-1c5f-16d1-9df95dea81ec.png)\n\n`apply1` \u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3067\u304d\u308b\n\n```py\ndef apply1(f):\n    return f(1)\n```\n\n\u3053\u306e\u3088\u3046\u306b\u95a2\u6570\u3092\u5f15\u6570\u3068\u3059\u308b\u95a2\u6570(\u3042\u308b\u3044\u306f\u6b21\u306e\u7bc0\u3067\u898b\u308b\u3088\u3046\u306a\u95a2\u6570\u3092\u8fd4\u3059\u95a2\u6570)\u306e\u3053\u3068\u3092\u9ad8\u968e\u95a2\u6570\u3068\u547c\u3076\u3002\n\n# \u623b\u308a\u5024\u3068\u3057\u3066\u306e\u95a2\u6570\n\n\u6570\u3092\u5f15\u6570\u306b\u53d6\u308a\u3001\u95a2\u6570\u3092\u8fd4\u3059\u9ad8\u968e\u95a2\u6570\n\n```py\ndef times_n(n):\n    def f(i):\n        return n * i\n    return f\n```\n\n\u3092\u4f7f\u3046\u3068\u5148\u7a0b\u51fa\u3066\u304d\u305f `times0`, `times1`, `times2` \u3092\n\n```py\ntimes0 = times_n(0)\ntimes1 = times_n(1)\ntimes2 = times_n(2)\n```\n\n\u3068\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n![times_n.png](https://qiita-image-store.s3.amazonaws.com/0/64323/e9f4e7dd-5238-d56b-407c-4c873f9a7f2e.png)\n\n```pycon\n>>> apply1(times0)\n0\n>>> apply1(times1)\n1\n>>> apply1(times2)\n2\n```\n\n# \u95a2\u6570\u306e\u96c6\u5408\u304b\u3089\u95a2\u6570\u306e\u96c6\u5408\u3078\u306e\u95a2\u6570\n\n\u95a2\u6570\u3092\u5f15\u6570\u306b\u53d6\u308a\u3001\u95a2\u6570\u3092\u8fd4\u3059\u9ad8\u968e\u95a2\u6570\u3092\u4f7f\u3046\u3068\n\n* \u95a2\u6570\u306e\u5f15\u6570\u3092\u524d\u51e6\u7406\u3059\u308b\u65b0\u305f\u306a\u95a2\u6570\u3092\u3064\u304f\u308b\n* \u95a2\u6570\u306e\u623b\u308a\u5024\u3092\u5f8c\u51e6\u7406\u3059\u308b\u65b0\u305f\u306a\u95a2\u6570\u3092\u3064\u304f\u308b\n* \u95a2\u6570\u306e\u524d\u5f8c\u306b\u51e6\u7406\u3092\u5dee\u3057\u8fbc\u3080\n * \u5b9f\u884c\u6642\u9593\u306e\u8a08\u6e2c\n * \u547c\u3073\u51fa\u3057\u306e\u8a18\u9332\n\n\u306a\u3069\u3092\u518d\u5229\u7528\u53ef\u80fd\u306a\u5f62\u3067\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n```py\ndef dot(g):\n    \"f -> g . f\"\n    def func(f):\n        def composite(i):\n            return g(f(i))\n        return composite\n    return func\n```\n\n```pycon\n>>> (lambda i: i*2)((lambda i: i+5)(1))\n12\n>>> f = dot(lambda i: i*2)(lambda i: i+5)\n>>> f(1)\n12\n```\n\n# \u30c7\u30b3\u30ec\u30fc\u30bf\u8a18\u6cd5\n\n\u95a2\u6570\u3092\u5f15\u6570\u306b\u53d6\u308a\u3001\u95a2\u6570\u3092\u8fd4\u3059\u9ad8\u968e\u95a2\u6570 `decorator` \u304c\u3042\u308b\u3068\u304d\n\n```py\n@decorator\ndef function(argument):\n    # ...\n```\n\n\u3068\u66f8\u304f\u3068 `function` \u3092 `decorator(function)` \u3067\u7f6e\u304d\u63db\u3048\u3066\u304f\u308c\u308b\u3002\n\n* `function` \u3092\u5b9a\u7fa9\u3057\u305f\u5f8c\u306b `function = decorator(function)` \u3059\u308b\u306e\u3068\u6319\u52d5\u306f\u540c\u3058\n* \u95a2\u6570\u5b9a\u7fa9\u3068\u95a2\u6570\u306e\u7f6e\u304d\u63db\u3048\u304c\u540c\u3058\u30d6\u30ed\u30c3\u30af\u306b\u66f8\u3051\u308b\u306e\u3067\u53ef\u8aad\u6027\u304c\u9ad8\u3044\n\n# \u30c7\u30b3\u30ec\u30fc\u30bf\u306e\u4f8b\n\n\u95a2\u6570\u547c\u3073\u51fa\u3057\u306e\u30ed\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u66f8\u3044\u3066\u3001\u52b9\u7387\u306e\u60aa\u3044\u518d\u5e30\u95a2\u6570\u306b\u9069\u7528\u3057\u3066\u307f\u308b\u3002\n\n```py\ndef trace(function):\n    \"\u547c\u3073\u51fa\u3057\u30ed\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\u30c7\u30b3\u30ec\u30fc\u30bf\"\n    def inner(*args):\n        \"function \u306e\u524d\u5f8c\u3067\u547c\u3073\u51fa\u3057\u30ed\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\"\n        print(\"{0}{1}\".format(function.__name__, args))\n        ret = function(*args)\n        print(\"{0}{1} ==> {2}\".format(function.__name__, args, ret))\n        return ret\n    return inner\n\n\n@trace\ndef fib(n):\n    \"\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u6570\u3092\u6c42\u3081\u308b\"\n    if n == 0:\n        return 0\n    if n == 1:\n        return 1\n    return fib(n-2) + fib(n-1)\n```\n\n\u540c\u3058\u8a08\u7b97\u3092\u4f55\u5ea6\u3082\u3057\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u306e\u304c\u898b\u308c\u308b\u3002\n\n```shell-session\n% python3 -c 'import fib; fib.fib(4)'\nfib(4,)\nfib(2,)\nfib(0,)\nfib(0,) ==> 0\nfib(1,)\nfib(1,) ==> 1\nfib(2,) ==> 1\nfib(3,)\nfib(1,)\nfib(1,) ==> 1\nfib(2,)\nfib(0,)\nfib(0,) ==> 0\nfib(1,)\nfib(1,) ==> 1\nfib(2,) ==> 1\nfib(3,) ==> 2\nfib(4,) ==> 3\n```\n\n# TIPS: \u5c5e\u6027\u306e\u5f15\u304d\u7d99\u304e\n\n\u5148\u7a0b\u306e\u4f8b\u3060\u3068 `fib` \u306e docstirng, \u95a2\u6570\u540d\u306f `inner` \u306e\u3082\u306e\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n\n```pycon\n>>> fib.__doc__\n'function \u306e\u524d\u5f8c\u3067\u547c\u3073\u51fa\u3057\u30ed\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b'\n>>> fib.__name__\n'inner'\n```\n\n\u2192 \u8907\u6570\u306e\u95a2\u6570\u306b\u540c\u3058\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u9069\u7528\u3057\u305f\u3068\u304d\u306b\u8f9b\u3044\n\n```py\nfrom functools import wraps\n\n\ndef trace(function):\n    \"\u547c\u3073\u51fa\u3057\u30ed\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\u30c7\u30b3\u30ec\u30fc\u30bf\"\n    @wraps(function)\n    def inner(*args):\n        \"function \u306e\u524d\u5f8c\u3067\u547c\u3073\u51fa\u3057\u30ed\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\"\n    ...\n```\n\n\u3068\u3057\u3066\u304a\u304f\u3068\n\n```pycon\n>>> fib.__doc__\n'\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u6570\u3092\u6c42\u3081\u308b'\n>>> fib.__name__\n'fib'\n```\n\n\u3068\u5143\u306e\u95a2\u6570\u306e docstring \u3068\u540d\u524d\u3092\u5f15\u304d\u7d99\u3044\u3067\u304f\u308c\u308b\u3002\n\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u8868\u793a\u3057\u305f\u3068\u304d\u306b\u5f79\u306b\u7acb\u3064\n\n# TIPS: `*args` \u3068 `**kwargs`\n\n`*args` \u3084 `**kwargs` \u3092\u4f7f\u3046\u3068\u3088\u308a\u6c4e\u7528\u7684\u306a\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u66f8\u3051\u308b\u3002\n\n# TIPS: \u7f6e\u304d\u63db\u3048\u306a\u3044\n\n\u30c7\u30b3\u30ec\u30fc\u30bf\u3067\u306f\u5fc5\u305a\u3057\u3082\u95a2\u6570\u3092\u65b0\u305f\u306a\u95a2\u6570\u306b\u7f6e\u304d\u63db\u3048\u308b\u5fc5\u8981\u306f\u306a\u3044\u3002\u4f8b\u3048\u3070\n\n* \u6761\u4ef6\u306b\u5408\u81f4\u3057\u305f\u5834\u5408\u306e\u307f\u7f6e\u304d\u63db\u3048\u308b (e.g. `unittest.skipIf`)\n* `setattr` \u3067\u5c5e\u6027\u3092\u4ed8\u3051\u3066\u3001\u5143\u306e\u95a2\u6570\u3092\u8fd4\u3059\n\n\u306a\u3069\u3082\u53ef\u80fd\u3002\n\n# \u307e\u3068\u3081\n\n* \u95a2\u6570\u3092\u5f15\u6570\u306b\u53d6\u3063\u305f\u308a\u3001\u623b\u308a\u5024\u304c\u95a2\u6570\u306a\u95a2\u6570\u3092\u9ad8\u968e\u95a2\u6570\u3068\u3044\u3046\n* \u5024\u306b\u5bfe\u3059\u308b\u624b\u7d9a\u304d\u3092\u307e\u3068\u3081\u308b \u2192 \u624b\u7d9a\u304d\u306b\u5bfe\u3059\u308b\u624b\u7d9a\u304d\u3092\u307e\u3068\u3081\u308b\n* \u30c7\u30b3\u30ec\u30fc\u30bf\u8a18\u6cd5\u3067\u95a2\u6570\u306e\u7f6e\u304d\u63db\u3048\u3092\u7c21\u6f54\u306b\u66f8\u3051\u308b\n"}