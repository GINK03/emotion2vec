{"tags": ["ESP8266", "ESP-WROOM-02", "Arduino"], "context": "http://bbs.espressif.com/viewtopic.php?t=1096\n\u30bd\u30fc\u30b9\u5143\u306f\u3053\u3061\u3089\nESP-WROOM-02\u306b\u306fWPS\u3067WiFi\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u74b0\u5883\u304c\u3064\u304f\u3089\u308c\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u305d\u306e\u89e3\u8aac\u3068\u7d50\u679c\u3092\u5831\u544a\u3057\u307e\u3059\u3002\n\n\u74b0\u5883\nArduino IDE 1.6.7\nArduino core for ESP8266 WiFi chip (https://github.com/esp8266/Arduino) v2.2.0\nArduino core\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u3068\u5b9f\u88c5\u3055\u308c\u3066\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\n\nwps.ino\n#include <ESP8266WiFi.h>\n\nvoid Wifi_wait();\nvoid setup() {\n  Serial.begin(115200);\n  WiFi.mode(WIFI_STA);\n  //WiFi.begin(\"\",\"\")\u3053\u306e\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067WPS\u3067\u4fdd\u5b58\u3057\u305f\u30c7\u30fc\u30bf\u304c\u3042\u308b\u5834\u5408\u305d\u3061\u3089\u306b\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u306a\u308b\n  WiFi.begin(\"\", \"\");\n  Wifi_wait();\n  // Wifi\u306b\u63a5\u7d9a\u3057\u3066\u3044\u306a\u3044\u3068\u304d\u306b\u306fWPS\u3092\u958b\u59cb\u3057\u307e\u3059\n  if (WiFi.status() != WL_CONNECTED) {\n    Serial.println(\"\\nAttempting connection ...\");\n    WiFi.beginWPSConfig();\n    Wifi_wait();\n    if (WiFi.status() == WL_CONNECTED) {\n      Serial.println(\"Connected!\");\n      Serial.println(WiFi.localIP());\n      Serial.println(WiFi.SSID());\n      Serial.println(WiFi.macAddress());\n    } else {\n      Serial.println(\"Connection failed!\");\n    }\n  } else {\n    Serial.println(\"\\nConnection already established.\");\n  }\n}\n\nvoid loop() {\n}\n\nvoid Wifi_wait() {\n  int wait=0;\n  Serial.println(\"WiFi\u3000connecting\");\n  while (wait < 20) {\n    if (WiFi.status() == WL_CONNECTED) {\n      Serial.println(\"WiFi connected\");\n      return;\n    }\n    Serial.print(\".\");\n    wait++;\n    delay(250);\n  }\n  Serial.println(\"Connect timed out\");\n}\n\n\n\n\u4f7f\u3044\u304b\u305f\nWifi\u306b\u63a5\u7d9a\u5931\u6557\u3057\u305f\u3068\u304d\u306bWPS\u3067\u8a2d\u5b9a\u4e2d\u306e\u30eb\u30fc\u30bf\u3092\u3055\u304c\u3057\u306b\u884c\u304d\u307e\u3059\u3002\nWPS\u3067\u8a2d\u5b9a\u4e2d\u306e\u3082\u306e\u304c\u3042\u3063\u305f\u3068\u304d\u3001ESP-WROOM-02\u306f\u305d\u306e\u30eb\u30fc\u30bf\u304b\u3089\u8a2d\u5b9a\u3092\u53d6\u5f97\u3057\u3001\u4eca\u5f8c\u305d\u306e\u30eb\u30fc\u30bf\u306b\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nWifi\u306b\u8a73\u3057\u304f\u306a\u3044\u4eba\u3067\u3082ESP-WROOM-02\u3092\u624b\u8efd\u306b\u6271\u3048\u308b\u3088\u3046\u306b\u306a\u308b\u6280\u8853\u3060\u3068\u601d\u3044\u307e\u3059\u3001\n\n\u7d50\u679c\n\u79c1\u306e\u6240\u6301\u3057\u3066\u3044\u308bWifi\u30eb\u30fc\u30bf\u3067\u306fWPS\u3067\u306e\u63a5\u7d9a\u306f\u6210\u529f\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u2026\n\u305d\u308c\u306f\u3001\u79c1\u306e\u6301\u3063\u3066\u3044\u308bWifi\u30eb\u30fc\u30bf\u304c\u60aa\u3044\u306e\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3067\u3082\u3057\u3088\u3051\u308c\u3070\u3001\u8a66\u3057\u3066\u6210\u529f\u3057\u305f\u304b\u3069\u3046\u304b\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\nhttp://bbs.espressif.com/viewtopic.php?t=1096\n\u30bd\u30fc\u30b9\u5143\u306f\u3053\u3061\u3089\n\nESP-WROOM-02\u306b\u306fWPS\u3067WiFi\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u74b0\u5883\u304c\u3064\u304f\u3089\u308c\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u305d\u306e\u89e3\u8aac\u3068\u7d50\u679c\u3092\u5831\u544a\u3057\u307e\u3059\u3002\n\n#\u74b0\u5883\nArduino IDE 1.6.7\nArduino core for ESP8266 WiFi chip (https://github.com/esp8266/Arduino) v2.2.0\n\nArduino core\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u3068\u5b9f\u88c5\u3055\u308c\u3066\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\n#\u30b3\u30fc\u30c9\n```cpp:wps.ino\n#include <ESP8266WiFi.h>\n\nvoid Wifi_wait();\nvoid setup() {\n  Serial.begin(115200);\n  WiFi.mode(WIFI_STA);\n  //WiFi.begin(\"\",\"\")\u3053\u306e\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067WPS\u3067\u4fdd\u5b58\u3057\u305f\u30c7\u30fc\u30bf\u304c\u3042\u308b\u5834\u5408\u305d\u3061\u3089\u306b\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u306a\u308b\n  WiFi.begin(\"\", \"\");\n  Wifi_wait();\n  // Wifi\u306b\u63a5\u7d9a\u3057\u3066\u3044\u306a\u3044\u3068\u304d\u306b\u306fWPS\u3092\u958b\u59cb\u3057\u307e\u3059\n  if (WiFi.status() != WL_CONNECTED) {\n    Serial.println(\"\\nAttempting connection ...\");\n    WiFi.beginWPSConfig();\n    Wifi_wait();\n    if (WiFi.status() == WL_CONNECTED) {\n      Serial.println(\"Connected!\");\n      Serial.println(WiFi.localIP());\n      Serial.println(WiFi.SSID());\n      Serial.println(WiFi.macAddress());\n    } else {\n      Serial.println(\"Connection failed!\");\n    }\n  } else {\n    Serial.println(\"\\nConnection already established.\");\n  }\n}\n\nvoid loop() {\n}\n\nvoid Wifi_wait() {\n  int wait=0;\n  Serial.println(\"WiFi\u3000connecting\");\n  while (wait < 20) {\n    if (WiFi.status() == WL_CONNECTED) {\n      Serial.println(\"WiFi connected\");\n      return;\n    }\n    Serial.print(\".\");\n    wait++;\n    delay(250);\n  }\n  Serial.println(\"Connect timed out\");\n}\n```\n#\u4f7f\u3044\u304b\u305f\nWifi\u306b\u63a5\u7d9a\u5931\u6557\u3057\u305f\u3068\u304d\u306bWPS\u3067\u8a2d\u5b9a\u4e2d\u306e\u30eb\u30fc\u30bf\u3092\u3055\u304c\u3057\u306b\u884c\u304d\u307e\u3059\u3002\n\nWPS\u3067\u8a2d\u5b9a\u4e2d\u306e\u3082\u306e\u304c\u3042\u3063\u305f\u3068\u304d\u3001ESP-WROOM-02\u306f\u305d\u306e\u30eb\u30fc\u30bf\u304b\u3089\u8a2d\u5b9a\u3092\u53d6\u5f97\u3057\u3001\u4eca\u5f8c\u305d\u306e\u30eb\u30fc\u30bf\u306b\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nWifi\u306b\u8a73\u3057\u304f\u306a\u3044\u4eba\u3067\u3082ESP-WROOM-02\u3092\u624b\u8efd\u306b\u6271\u3048\u308b\u3088\u3046\u306b\u306a\u308b\u6280\u8853\u3060\u3068\u601d\u3044\u307e\u3059\u3001\n\n#\u7d50\u679c\n\u79c1\u306e\u6240\u6301\u3057\u3066\u3044\u308bWifi\u30eb\u30fc\u30bf\u3067\u306fWPS\u3067\u306e\u63a5\u7d9a\u306f\u6210\u529f\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u2026\n\n\u305d\u308c\u306f\u3001\u79c1\u306e\u6301\u3063\u3066\u3044\u308bWifi\u30eb\u30fc\u30bf\u304c\u60aa\u3044\u306e\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3067\u3082\u3057\u3088\u3051\u308c\u3070\u3001\u8a66\u3057\u3066\u6210\u529f\u3057\u305f\u304b\u3069\u3046\u304b\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n"}