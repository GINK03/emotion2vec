{"context": " More than 1 year has passed since last update.NIFTY Cloud mobile backend \u306e Javascript \u7248SDK \u304c 2.0.0 \u3067\u3060\u3044\u3076\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u304c\u3001Node.js \u30d9\u30fc\u30b9\u306b\u306a\u3063\u305f\u3068\u306e\u4e8b\u3002\n\u975e\u30d6\u30e9\u30a6\u30b6\u3067 Node.js \u3067\u66f8\u304d\u59cb\u3081\u308b\u3068\u8272\u3005\u3068\u30cf\u30de\u3063\u305f\u306e\u3067\u4e00\u756a\u6700\u521d\u3092\u66f8\u304d\u307e\u3059\u3002\nvar NCMB = NCMB || require(\"../lib/ncmb\");\nvar ncmb = new NCMB(\"your_apikey\", \"your_clientkey\");\n\npackage.json \u3092\u4f7f\u3063\u3066\u30a2\u30d7\u30ea\u306e\u30d5\u30a9\u30eb\u30c0\u306e node_modules \u914d\u4e0b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u6642\u306b\u3001\u3053\u308c\u3067\u306f\u30d1\u30b9\u306e\u89e3\u6c7a\u3092\u3057\u3066\u304f\u308c\u306a\u304f\u3066\nvar NCMB = NCMB || require(\"ncmb/lib/ncmb\");\n\n\u3068\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u305f\u3089\u3059\u3093\u306a\u308a\u30ed\u30fc\u30c9\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3002\n1.X \u7cfb\u306e\u4f8b\u3092\u898b\u305f\u308a\u3001\u30d6\u30e9\u30a6\u30b6\u7248\u306e\u4f8b\u3092\u898b\u305f\u308a\u3001\u4e00\u983b\u308a\u982d\u3092\u60a9\u307e\u305b\u305f\u5f8c\u306b\u52d5\u3044\u3066\u307f\u305f\u3089 github \u306e README \u306e\u3068\u304a\u308a\u3068\u3044\u3046 orz.\n\n\u301c\u301c\u4ee5\u4e0b\u86c7\u8db3\u301c\u301c\n\u8a66\u3057\u3066\u307f\u305f\u3051\u3069\u30c0\u30e1\u3060\u3063\u305f\u306e\u304c\u3001\u30d7\u30ed\u30ad\u30b7\u8a8d\u8a3c\u3042\u308a\u306e\u30d7\u30ed\u30ad\u30b7\u3092\u901a\u904e\u3067\u304d\u306a\u3044\u3002\n\u30d6\u30e9\u30a6\u30b6\u3058\u3083\u306a\u304f\u3066\u30b5\u30fc\u30d0\u30fc\u3068\u3057\u3066Node.js\u3092\u8d77\u52d5\u3057\u305f\u3068\u304d\u306b\u3001\u30d7\u30ed\u30ad\u30b7\u306e\u8a2d\u5b9a\u3092\u898b\u3066\u304f\u308c\u3066\u3044\u306a\u304b\u3063\u305f\u308a\u3001getaddrinfo \u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u308b\u306e\u3067\u30d7\u30ed\u30ad\u30b7\u524d\u63d0\u3058\u3083\u306a\u3044\u51e6\u7406\u304c\u6df7\u3058\u3063\u3066\u3044\u308b\u306e\u304b\uff1f\n\u30d7\u30ed\u30ad\u30b7\u8a8d\u8a3c\u306a\u3057\u306f\u3069\u3046\u304b\u3068\u3044\u3046\u3068\u3001\u3053\u3061\u3089\u3082\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3002\nnodejs \u306e\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8 (Visual Studio \u304c\u4f5c\u308b\u306e\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 server.js) \u306e\u5148\u982d\u306e\u65b9\u3067\nprocess.env.HTTP_PROXY = process.env.HTTP_PROXY || \"http://proxy.your.domain:8080\";\n\n\u306e\u3088\u3046\u306b\u3001\u74b0\u5883\u5909\u6570\u306b\u30d7\u30ed\u30ad\u30b7\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002(\u5b9f\u969b\u306e\u74b0\u5883\u5909\u6570\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u4eba)\n\u6b21\u306b sdk \u3092\u3044\u3058\u3063\u3066\u3001ncmb/lib/request.js \u306e\u5148\u982d\u306e\u65b9\u306b + \u30de\u30fc\u30af\u306e\u4e00\u884c\u3092\u8ffd\u52a0\n      var request = require(\"superagent\");\n+     require(\"superagent-proxy\")(request);\n\n\u305d\u308c\u304b\u3089 110\u884c\u3042\u305f\u308a\u306b\u3082 + \u30de\u30fc\u30af\u306e\u884c\u3092\u8ffd\u52a0\n   return new Promise(function(resolve, reject){\n     var _callback = function(err, res){\n       if(err) return (callback && callback(err, null)) || reject(err);\n       if(res.statusCode >= 400 || res.status >= 400) return reject(res.error || new Error(res.text));\n       return (callback && callback(null, res.text)) || resolve(res.text, res);\n     };\n     var r = request[method.toLowerCase()](url);\n+    r.proxy(proxy);\n     Object.keys(headers).forEach(function(key){\n       r.set(key, headers[key]);\n     });\n\n\u3067\u3082 403 \u3067\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3061\u3083\u3046\u3093\u3067\u3059\u3088\u306d\u3002\n\nNIFTY Cloud mobile backend \u306e Javascript \u7248SDK \u304c 2.0.0 \u3067\u3060\u3044\u3076\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u304c\u3001Node.js \u30d9\u30fc\u30b9\u306b\u306a\u3063\u305f\u3068\u306e\u4e8b\u3002\n\u975e\u30d6\u30e9\u30a6\u30b6\u3067 Node.js \u3067\u66f8\u304d\u59cb\u3081\u308b\u3068\u8272\u3005\u3068\u30cf\u30de\u3063\u305f\u306e\u3067\u4e00\u756a\u6700\u521d\u3092\u66f8\u304d\u307e\u3059\u3002\n\n    var NCMB = NCMB || require(\"../lib/ncmb\");\n    var ncmb = new NCMB(\"your_apikey\", \"your_clientkey\");\n\npackage.json \u3092\u4f7f\u3063\u3066\u30a2\u30d7\u30ea\u306e\u30d5\u30a9\u30eb\u30c0\u306e node_modules \u914d\u4e0b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u6642\u306b\u3001\u3053\u308c\u3067\u306f\u30d1\u30b9\u306e\u89e3\u6c7a\u3092\u3057\u3066\u304f\u308c\u306a\u304f\u3066\n\n    var NCMB = NCMB || require(\"ncmb/lib/ncmb\");\n\n\u3068\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u305f\u3089\u3059\u3093\u306a\u308a\u30ed\u30fc\u30c9\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3002\n\n1.X \u7cfb\u306e\u4f8b\u3092\u898b\u305f\u308a\u3001\u30d6\u30e9\u30a6\u30b6\u7248\u306e\u4f8b\u3092\u898b\u305f\u308a\u3001\u4e00\u983b\u308a\u982d\u3092\u60a9\u307e\u305b\u305f\u5f8c\u306b\u52d5\u3044\u3066\u307f\u305f\u3089 github \u306e README \u306e\u3068\u304a\u308a\u3068\u3044\u3046 orz.\n\n\n----\n\u301c\u301c\u4ee5\u4e0b\u86c7\u8db3\u301c\u301c\n\n\u8a66\u3057\u3066\u307f\u305f\u3051\u3069\u30c0\u30e1\u3060\u3063\u305f\u306e\u304c\u3001\u30d7\u30ed\u30ad\u30b7\u8a8d\u8a3c\u3042\u308a\u306e\u30d7\u30ed\u30ad\u30b7\u3092\u901a\u904e\u3067\u304d\u306a\u3044\u3002\n\u30d6\u30e9\u30a6\u30b6\u3058\u3083\u306a\u304f\u3066\u30b5\u30fc\u30d0\u30fc\u3068\u3057\u3066Node.js\u3092\u8d77\u52d5\u3057\u305f\u3068\u304d\u306b\u3001\u30d7\u30ed\u30ad\u30b7\u306e\u8a2d\u5b9a\u3092\u898b\u3066\u304f\u308c\u3066\u3044\u306a\u304b\u3063\u305f\u308a\u3001getaddrinfo \u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u308b\u306e\u3067\u30d7\u30ed\u30ad\u30b7\u524d\u63d0\u3058\u3083\u306a\u3044\u51e6\u7406\u304c\u6df7\u3058\u3063\u3066\u3044\u308b\u306e\u304b\uff1f\n\n\n\u30d7\u30ed\u30ad\u30b7\u8a8d\u8a3c\u306a\u3057\u306f\u3069\u3046\u304b\u3068\u3044\u3046\u3068\u3001\u3053\u3061\u3089\u3082\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3002\nnodejs \u306e\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8 (Visual Studio \u304c\u4f5c\u308b\u306e\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 `server.js`) \u306e\u5148\u982d\u306e\u65b9\u3067\n\n    process.env.HTTP_PROXY = process.env.HTTP_PROXY || \"http://proxy.your.domain:8080\";\n\n\n\u306e\u3088\u3046\u306b\u3001\u74b0\u5883\u5909\u6570\u306b\u30d7\u30ed\u30ad\u30b7\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002(\u5b9f\u969b\u306e\u74b0\u5883\u5909\u6570\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u4eba)\n\n\n\u6b21\u306b sdk \u3092\u3044\u3058\u3063\u3066\u3001ncmb/lib/request.js \u306e\u5148\u982d\u306e\u65b9\u306b `+` \u30de\u30fc\u30af\u306e\u4e00\u884c\u3092\u8ffd\u52a0\n\n          var request = require(\"superagent\");\n    +     require(\"superagent-proxy\")(request);\n\n\u305d\u308c\u304b\u3089 110\u884c\u3042\u305f\u308a\u306b\u3082 `+` \u30de\u30fc\u30af\u306e\u884c\u3092\u8ffd\u52a0\n\n       return new Promise(function(resolve, reject){\n         var _callback = function(err, res){\n           if(err) return (callback && callback(err, null)) || reject(err);\n           if(res.statusCode >= 400 || res.status >= 400) return reject(res.error || new Error(res.text));\n           return (callback && callback(null, res.text)) || resolve(res.text, res);\n         };\n         var r = request[method.toLowerCase()](url);\n    +    r.proxy(proxy);\n         Object.keys(headers).forEach(function(key){\n           r.set(key, headers[key]);\n         });\n\n\u3067\u3082 403 \u3067\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3061\u3083\u3046\u3093\u3067\u3059\u3088\u306d\u3002\n", "tags": ["ncmb2", "nodejs", "ncmb_js", "NCMB"]}