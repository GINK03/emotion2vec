{"context": "\n\n\u69cb\u9020\nNSTableRowView \u3068 NSTableCellView \u306f NSView-based NSTableView / NSOutlineView \u3067\u4f7f\u308f\u308c\u308b\u30d3\u30e5\u30fc\u3067\u3059\u3002NSTableRowView \u306f\u884c\u5168\u4f53\u3001NSTableCellView \u306f\u884c\u5217\u3067\u898b\u305f\u3068\u304d\u306e\u30bb\u30eb\u306b\u3042\u305f\u308a\u307e\u3059\u3002\n\n\n\nhttps://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/TableView/TableViewOverview/TableViewOverview.html\n\n\n\u30cf\u30a4\u30e9\u30a4\u30c8\u30ab\u30e9\u30fc\n\u884c\u306e\u30cf\u30a4\u30e9\u30a4\u30c8\u30ab\u30e9\u30fc\u306f\u898f\u5b9a\u3082\u306e\u304c\u9069\u7528\u3055\u308c\u3066\u304a\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u74b0\u5883\u8a2d\u5b9a\u306e\u30a2\u30d4\u30a2\u30e9\u30f3\u30b9\u3067\u6307\u5b9a\u3057\u305f\u5f37\u8abf\u8868\u793a\u8272\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u884c\u306e\u30cf\u30a4\u30e9\u30a4\u30c8\u30ab\u30e9\u30fc\u306f\u30a6\u30a4\u30f3\u30c9\u30a6\u306e\u9078\u629e\u72b6\u614b\u306b\u3082\u4f9d\u5b58\u3057\u307e\u3059\u3002\u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a2\u30af\u30c6\u30a3\u30d6\u3067\u3042\u308b\u6642\u306f\u5f37\u8abf\u8868\u793a\u8272\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u30a4\u30f3\u30a2\u30af\u30c6\u30a3\u30d6\u306e\u6642\u306b\u306f\u30b0\u30ec\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a2\u30af\u30c6\u30a3\u30d6\n\n\u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a4\u30f3\u30a2\u30af\u30c6\u30a3\u30d6\n\u307e\u305f\u3053\u308c\u3089\u306e\u8272\u306f NSColor \u3067\u3082\u5f97\u3089\u308c\u307e\u3059\u3002\n\nNSColor\n// \u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a2\u30af\u30c6\u30a3\u30d6\u3067\u3001\u884c\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u6642\u306e\u8272\nalternateSelectedControlColor()\n// \u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a4\u30f3\u30a2\u30af\u30c6\u30a3\u30d6\u3067\u3001\u884c\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u6642\u306e\u8272\nsecondarySelectedControlColor()\n\n\n\n\u30cf\u30a4\u30e9\u30a4\u30c8\u30ab\u30e9\u30fc\u306e\u5909\u66f4\nCocoa Touch (iOS) \u3067\u306f UITableViewCell \u306e backgroundView \u3060\u3068\u304b\u3092\u4f7f\u3063\u3066\u8272\u3092\u5909\u66f4\u3057\u307e\u3059\u304c\u3001Cocoa \u3067\u306f\u3061\u3087\u3063\u3068\u9762\u5012\u304f\u3055\u3044\u3067\u3059\u3002NSTableRowView \u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3067 drawSelectionInRect(dirtyRect:) \u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u3066\u30d9\u30b8\u30a7\u30d1\u30b9\u3067\u8272\u3092\u5857\u308a\u3064\u3076\u3057\u307e\u3059\u3002\n\nMyTableRowView.swift\nimport Cocoa\n\nclass MyTableRowView: NSTableRowView {\n    override func drawSelectionInRect(dirtyRect: NSRect) {\n        // \u3053\u3053\u3067\u306f\u30cf\u30a4\u30e9\u30a4\u30c8\u30b9\u30bf\u30a4\u30eb\u3092 Regular \u306b\u9650\u5b9a\u3057\u3066\u3044\u308b\n        if selectionHighlightStyle == .Regular {\n            if selected == true {\n                if emphasized == true {\n                    // \u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a2\u30af\u30c6\u30a3\u30d6\u72b6\u614b\n                    NSColor(red: 0.188, green: 0.514, blue: 0.985, alpha: 1.0).set()\n                    var fillRect = bounds\n                    fillRect.size.height -= 1\n                    NSBezierPath.fillRect(fillRect)\n                    return\n                }\n                //else {\n                    // \u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a4\u30f3\u30a2\u30af\u30c6\u30a3\u30d6\u306e\u72b6\u614b\n                //}\n            }\n        }\n\n        super.drawSelectionInRect(dirtyRect)\n    }\n}\n\n\n\nNSOutlineViewDelegate\nextension ViewController: NSOutlineViewDelegate {\nfunc outlineView(outlineView: NSOutlineView, rowViewForItem item: AnyObject) -> NSTableRowView? {\n        let identifier = \"Row\"\n        var rowView = outlineView.makeViewWithIdentifier(identifier, owner: self) as? MyTableRowView\n        if rowView == nil {\n            rowView = MyTableRowView(frame: NSZeroRect)\n            rowView!.identifier = identifier\n        }\n\n        return rowView\n    }\n}\n\n\n\u30cf\u30a4\u30e9\u30a4\u30c8\u30ab\u30e9\u30fc\u3092\u9752\u8272\u306b\u3057\u3066\u307f\u305f\u4f8b\u3002\n\n# \u69cb\u9020\n\nNSTableRowView \u3068 NSTableCellView \u306f NSView-based NSTableView / NSOutlineView \u3067\u4f7f\u308f\u308c\u308b\u30d3\u30e5\u30fc\u3067\u3059\u3002NSTableRowView \u306f\u884c\u5168\u4f53\u3001NSTableCellView \u306f\u884c\u5217\u3067\u898b\u305f\u3068\u304d\u306e\u30bb\u30eb\u306b\u3042\u305f\u308a\u307e\u3059\u3002\n\n> ![](https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/TableView/Art/SplitOut_View.jpg)\n> ![](https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/TableView/Art/NSTableCellView.jpg)\n> https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/TableView/TableViewOverview/TableViewOverview.html\n\n# \u30cf\u30a4\u30e9\u30a4\u30c8\u30ab\u30e9\u30fc\n\n\u884c\u306e\u30cf\u30a4\u30e9\u30a4\u30c8\u30ab\u30e9\u30fc\u306f\u898f\u5b9a\u3082\u306e\u304c\u9069\u7528\u3055\u308c\u3066\u304a\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u74b0\u5883\u8a2d\u5b9a\u306e\u30a2\u30d4\u30a2\u30e9\u30f3\u30b9\u3067\u6307\u5b9a\u3057\u305f\u5f37\u8abf\u8868\u793a\u8272\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\n<img width=\"780\" alt=\"Capture 2016-05-27 22.56.43.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/3603/676e92c4-30b0-d7c2-cc21-c1db6e6fc707.png\">\n\n\u884c\u306e\u30cf\u30a4\u30e9\u30a4\u30c8\u30ab\u30e9\u30fc\u306f\u30a6\u30a4\u30f3\u30c9\u30a6\u306e\u9078\u629e\u72b6\u614b\u306b\u3082\u4f9d\u5b58\u3057\u307e\u3059\u3002\u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a2\u30af\u30c6\u30a3\u30d6\u3067\u3042\u308b\u6642\u306f\u5f37\u8abf\u8868\u793a\u8272\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u30a4\u30f3\u30a2\u30af\u30c6\u30a3\u30d6\u306e\u6642\u306b\u306f\u30b0\u30ec\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n<img width=\"158\" alt=\"Capture 2016-05-27 23.22.40.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/3603/439dbd97-0c12-6b7a-00b3-b6031ba79e50.png\">\n*\u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a2\u30af\u30c6\u30a3\u30d6*\n<img width=\"158\" alt=\"Capture 2016-05-27 23.22.52.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/3603/be8d142e-09b0-ee44-9664-96fffb11703d.png\">\n*\u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a4\u30f3\u30a2\u30af\u30c6\u30a3\u30d6*\n\n\n\u307e\u305f\u3053\u308c\u3089\u306e\u8272\u306f NSColor \u3067\u3082\u5f97\u3089\u308c\u307e\u3059\u3002\n\n```swift:NSColor\n// \u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a2\u30af\u30c6\u30a3\u30d6\u3067\u3001\u884c\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u6642\u306e\u8272\nalternateSelectedControlColor()\n// \u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a4\u30f3\u30a2\u30af\u30c6\u30a3\u30d6\u3067\u3001\u884c\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u6642\u306e\u8272\nsecondarySelectedControlColor()\n```\n\n# \u30cf\u30a4\u30e9\u30a4\u30c8\u30ab\u30e9\u30fc\u306e\u5909\u66f4\n\nCocoa Touch (iOS) \u3067\u306f UITableViewCell \u306e backgroundView \u3060\u3068\u304b\u3092\u4f7f\u3063\u3066\u8272\u3092\u5909\u66f4\u3057\u307e\u3059\u304c\u3001Cocoa \u3067\u306f\u3061\u3087\u3063\u3068\u9762\u5012\u304f\u3055\u3044\u3067\u3059\u3002NSTableRowView \u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3067 `drawSelectionInRect(dirtyRect:)` \u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u3066\u30d9\u30b8\u30a7\u30d1\u30b9\u3067\u8272\u3092\u5857\u308a\u3064\u3076\u3057\u307e\u3059\u3002\n\n```swift:MyTableRowView.swift\nimport Cocoa\n\nclass MyTableRowView: NSTableRowView {\n\toverride func drawSelectionInRect(dirtyRect: NSRect) {\n\t\t// \u3053\u3053\u3067\u306f\u30cf\u30a4\u30e9\u30a4\u30c8\u30b9\u30bf\u30a4\u30eb\u3092 Regular \u306b\u9650\u5b9a\u3057\u3066\u3044\u308b\n\t\tif selectionHighlightStyle == .Regular {\n\t\t\tif selected == true {\n\t\t\t\tif emphasized == true {\n\t\t\t\t\t// \u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a2\u30af\u30c6\u30a3\u30d6\u72b6\u614b\n\t\t\t\t\tNSColor(red: 0.188, green: 0.514, blue: 0.985, alpha: 1.0).set()\n\t\t\t\t\tvar fillRect = bounds\n\t\t\t\t\tfillRect.size.height -= 1\n\t\t\t\t\tNSBezierPath.fillRect(fillRect)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t//else {\n\t\t\t\t\t// \u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u30a4\u30f3\u30a2\u30af\u30c6\u30a3\u30d6\u306e\u72b6\u614b\n\t\t\t\t//}\n\t\t\t}\n\t\t}\n\t\t\n\t\tsuper.drawSelectionInRect(dirtyRect)\n\t}\n}\n```\n```swift:NSOutlineViewDelegate\nextension ViewController: NSOutlineViewDelegate {\nfunc outlineView(outlineView: NSOutlineView, rowViewForItem item: AnyObject) -> NSTableRowView? {\n\t\tlet identifier = \"Row\"\n\t\tvar rowView = outlineView.makeViewWithIdentifier(identifier, owner: self) as? MyTableRowView\n\t\tif rowView == nil {\n\t\t\trowView = MyTableRowView(frame: NSZeroRect)\n\t\t\trowView!.identifier = identifier\n\t\t}\n\t\t\n\t\treturn rowView\n\t}\n}\n```\n\n\u30cf\u30a4\u30e9\u30a4\u30c8\u30ab\u30e9\u30fc\u3092\u9752\u8272\u306b\u3057\u3066\u307f\u305f\u4f8b\u3002\n\n<img width=\"158\" alt=\"Capture 2016-05-27 23.23.23.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/3603/0b9ace0d-1014-e089-ec48-149f815905aa.png\">\n", "tags": ["MacOSX", "Cocoa"]}