{"context": "\n\n\u306f\u3058\u3081\u306b\nWordPress\u306e\u30ab\u30b9\u30bf\u30e0\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u6271\u3046\u65e5\u4ed8\u5f62\u5f0f\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u73fe\u5728\u306f\u5e74\u6708\u65e5\u304c\u4e00\u7d9a\u304d\u306b\u306a\u3063\u3066\u3044\u308b\u3001yyyymmdd\u3068\u3044\u3046\u5f62\u5f0f\u3067\u3057\u305f\u3002\n\u30b7\u30b9\u30c6\u30e0\u306e\u5909\u66f4\u306b\u4f34\u3044\u3001\u30bd\u30fc\u30c8\u3084\u6bd4\u8f03\u306e\u3084\u308a\u3084\u3059\u3044\u3001Y-m-d\u5f62\u5f0f\u306b\u7d71\u4e00\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u3053\u306e\u5909\u66f4\u3092SQL\u3067\u884c\u3044\u307e\u3057\u305f\u3002\n\n\u73fe\u5728\u3068\u76ee\u6a19\nWordPress\u306e\u30ab\u30b9\u30bf\u30e0\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5165\u3063\u3066\u3044\u308b\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nselect *, DATE(meta_value) from wp_postmeta\nwhere meta_key = 'openday'\n      and DATE(meta_value) is not null\n\n\nwhere DATE(meta_value) is not null\u3068\u3059\u308b\u3053\u3068\u3067\u4e0d\u6b63\u306a\u5024\u3092\u30d5\u30a3\u30eb\u30bf\u3067\u304d\u307e\u3059\u3002\n\nUPDATE\n\u3053\u308c\u3092UPDATE\u6587\u306b\u304b\u3051\u307e\u3059\u3002\nupdate tm_postmeta\nset meta_value = DATE(meta_value)\nwhere meta_key = 'openday'\nand DATE(meta_value) is not null;\n\n\u3046\u307e\u304f\u3044\u304d\u307e\u3057\u305f\u3002\n\n\u305d\u306e\u4ed6\n\u4f5c\u696d\u306fIntelliJ (PHPStorm)\u306eDatabase\u30c4\u30fc\u30eb(?)\u306b\u3066\u884c\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001[22001][1292] Data truncation: Incorrect datetime value: '1'\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3063\u3066\u3046\u307e\u304f\u66f4\u65b0\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\nSELECT\u306f\u3046\u307e\u304f\u901a\u308a\u307e\u3059\u304cUPDATE\u304c\u901a\u308a\u307e\u305b\u3093\u3002\n\n\u8abf\u3079\u3066\u307f\u305f\u3068\u3053\u308dsql_mode\u3092\u5909\u66f4\u3059\u308b\u3068\u826f\u3044\u3001\u3068\u3044\u3046\u8a18\u4e8b\u3082\u3042\u308a\u307e\u3057\u305f\u304c\u3046\u307e\u304f\u884c\u304d\u307e\u305b\u3093\u3002\u30b1\u30fc\u30b9\u304c\u9055\u3046\u3088\u3046\u3067\u3059\u3002\n\nhttp://qiita.com/kamesennin/items/72ec28d9194f0d52c15a\n\nSELECT @@GLOBAL.sql_mode;\nset @@global.sql_mode=NO_ENGINE_SUBSTITUTION;\n\n\u81ea\u5206\u306e\u4e2d\u306e\u7d50\u8ad6\u3068\u3057\u3066\u3001\u63a8\u6e2c\u3067\u3059\u304c\u3069\u3046\u3084\u3089Database\u63a5\u7d9a\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4e0d\u5177\u5408\u306e\u3088\u3046\u3067\u3059\u3002Java\u7cfb\u3067\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u3088\u3046\u3067\u3001\u30c4\u30fc\u30eb\u5074\u306e\u554f\u984c\u304b\u3068\u601d\u308f\u308c\u307e\u3057\u305f\u3002\n\u4ed6\u306eSQL\u30c4\u30fc\u30eb\u3067\u5b9f\u884c\u3057\u305f\u3068\u3053\u308d\u3046\u307e\u304f\u3044\u304d\u307e\u3057\u305f\u3002\n# \u306f\u3058\u3081\u306b\nWordPress\u306e\u30ab\u30b9\u30bf\u30e0\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u6271\u3046\u65e5\u4ed8\u5f62\u5f0f\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u73fe\u5728\u306f\u5e74\u6708\u65e5\u304c\u4e00\u7d9a\u304d\u306b\u306a\u3063\u3066\u3044\u308b\u3001`yyyymmdd`\u3068\u3044\u3046\u5f62\u5f0f\u3067\u3057\u305f\u3002\n\u30b7\u30b9\u30c6\u30e0\u306e\u5909\u66f4\u306b\u4f34\u3044\u3001\u30bd\u30fc\u30c8\u3084\u6bd4\u8f03\u306e\u3084\u308a\u3084\u3059\u3044\u3001`Y-m-d`\u5f62\u5f0f\u306b\u7d71\u4e00\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u3053\u306e\u5909\u66f4\u3092SQL\u3067\u884c\u3044\u307e\u3057\u305f\u3002\n\n# \u73fe\u5728\u3068\u76ee\u6a19\n\nWordPress\u306e\u30ab\u30b9\u30bf\u30e0\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5165\u3063\u3066\u3044\u308b\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```sql\nselect *, DATE(meta_value) from wp_postmeta\nwhere meta_key = 'openday'\n      and DATE(meta_value) is not null\n```\n\n<img width=\"505\" alt=\"Screen Shot 2016-05-06 at 5.03.26 PM.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/47327/f446142f-1056-3d43-d625-36d9becc22cd.png\">\n\n\n\n`where DATE(meta_value) is not null`\u3068\u3059\u308b\u3053\u3068\u3067\u4e0d\u6b63\u306a\u5024\u3092\u30d5\u30a3\u30eb\u30bf\u3067\u304d\u307e\u3059\u3002\n\n# UPDATE\n\n\u3053\u308c\u3092UPDATE\u6587\u306b\u304b\u3051\u307e\u3059\u3002\n\n```sql\nupdate tm_postmeta\nset meta_value = DATE(meta_value)\nwhere meta_key = 'openday'\nand DATE(meta_value) is not null;\n```\n\n\u3046\u307e\u304f\u3044\u304d\u307e\u3057\u305f\u3002\n\n\n# \u305d\u306e\u4ed6\n\u4f5c\u696d\u306fIntelliJ (PHPStorm)\u306eDatabase\u30c4\u30fc\u30eb(?)\u306b\u3066\u884c\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001`[22001][1292] Data truncation: Incorrect datetime value: '1'`\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3063\u3066\u3046\u307e\u304f\u66f4\u65b0\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\nSELECT\u306f\u3046\u307e\u304f\u901a\u308a\u307e\u3059\u304cUPDATE\u304c\u901a\u308a\u307e\u305b\u3093\u3002\n\n<img width=\"476\" alt=\"Screen Shot 2016-05-06 at 5.19.45 PM.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/47327/c159eed5-ae90-4cb5-c7cc-4f7b9db7a496.png\">\n\n\n\n\u8abf\u3079\u3066\u307f\u305f\u3068\u3053\u308dsql_mode\u3092\u5909\u66f4\u3059\u308b\u3068\u826f\u3044\u3001\u3068\u3044\u3046\u8a18\u4e8b\u3082\u3042\u308a\u307e\u3057\u305f\u304c\u3046\u307e\u304f\u884c\u304d\u307e\u305b\u3093\u3002\u30b1\u30fc\u30b9\u304c\u9055\u3046\u3088\u3046\u3067\u3059\u3002\n\n> http://qiita.com/kamesennin/items/72ec28d9194f0d52c15a\n\n```sql\nSELECT @@GLOBAL.sql_mode;\nset @@global.sql_mode=NO_ENGINE_SUBSTITUTION;\n```\n\n\u81ea\u5206\u306e\u4e2d\u306e\u7d50\u8ad6\u3068\u3057\u3066\u3001\u63a8\u6e2c\u3067\u3059\u304c\u3069\u3046\u3084\u3089Database\u63a5\u7d9a\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4e0d\u5177\u5408\u306e\u3088\u3046\u3067\u3059\u3002Java\u7cfb\u3067\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u3088\u3046\u3067\u3001\u30c4\u30fc\u30eb\u5074\u306e\u554f\u984c\u304b\u3068\u601d\u308f\u308c\u307e\u3057\u305f\u3002\n\n\u4ed6\u306eSQL\u30c4\u30fc\u30eb\u3067\u5b9f\u884c\u3057\u305f\u3068\u3053\u308d\u3046\u307e\u304f\u3044\u304d\u307e\u3057\u305f\u3002\n", "tags": ["IntelliJ", "WordPress", "MySQL"]}