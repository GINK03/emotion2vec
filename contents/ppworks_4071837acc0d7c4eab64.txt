{"context": " More than 1 year has passed since last update.\u7c21\u5358\u306asinatra\u30a2\u30d7\u30ea\u3092\u4f8b\u3068\u3057\u305f\u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u306e\u7d39\u4ecb\u3092\u3057\u307e\u3059\u3002\u4eca\u56de\u4f5c\u6210\u3059\u308bsinatra\u30a2\u30d7\u30ea\u306e\u5b8c\u6210\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u3067\u3059\u3002\nrequire 'sinatra'\n\nget '/' do\n  'Hello'\nend\n\n\u5b8c\u6210\u5f8c\u306e\u3059\u3079\u3066\u306e\u30b3\u30fc\u30c9\u306f\u3001https://github.com/ppworks/rspec_sample \u306b\u3042\u308a\u307e\u3059\u3002\n\u305d\u308c\u3067\u306f\u3001\u307e\u305a\u306f\u30ec\u30dd\u30b8\u30c8\u30ea\u3092clone\u3057\u307e\u3059\u3002\ngit clone git://github.com/ppworks/rspec_sample.git\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u79fb\u52d5\u3057\u3066\u3001\u5fc5\u8981\u306agem\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\ncd rspec_sample\nbundle install --path .bundle\n\n\u30c6\u30b9\u30c8\u304c\u901a\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nbundle exec rspec\n\nApp\n  \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\n    /\u3078\u306e\u30a2\u30af\u30bb\u30b9\n      \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n      Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\n\nFinished in 0.04865 seconds\n2 examples, 0 failures\n\n\u7121\u4e8b\u306b\u30c6\u30b9\u30c8\u304c\u901a\u308a\u307e\u3057\u305f\u306d\u3002\u3067\u306f\u3053\u3053\u307e\u3067\u306b\u81f3\u308b\u4f5c\u696d\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002\u5404\u30b9\u30c6\u30c3\u30d7\u306ftag\u3092\u4f5c\u6210\u3057\u3066\u3042\u308b\u306e\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067tag\u304c\u5b58\u5728\u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\ngit tag -n\n\ntdd_001         \u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u4f8b\u30c6\u30b9\u30c8\u304b\u3089\u66f8\u304f\ntdd_002         \u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u4f8b\u30c6\u30b9\u30c8\u306b\u6cbf\u3063\u305f\u5b9f\u88c5\u3092\u66f8\u304f\ntdd_003         \u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u4f8b\u30c6\u30b9\u30c8\u304b\u3089\u66f8\u304f\u305d\u306e2\ntdd_004         \u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u4f8b\u30c6\u30b9\u30c8\u306b\u6cbf\u3063\u305f\u5b9f\u88c5\u3092\u66f8\u304f\u305d\u306e2\ntdd_005         spec\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n\n\u5404tag\u306b\u5207\u308a\u66ff\u3048\u305f\u969b\u306b\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u3066\u898b\u308b\u3053\u3068\u304c\u5927\u5207\u3067\u3059\u3002\u5b9f\u969b\u306b\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3088\u3046\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\u30c6\u30b9\u30c8\u304b\u3089\u66f8\u304f\n\u307e\u305a\u306f\u6700\u521d\u306etag\u3092checkout\u3057\u307e\u3059\u3002\ngit checkout tdd_001\n\n\u6b21\u306b\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\nbundle exec rspec\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u30c6\u30b9\u30c8\u304c\u5931\u6557\u3057\u307e\u3059\u30021 example, 1 failure\u306f\u5168\u90e8\u30671\u3064\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u5b58\u5728\u3057\u30011\u3064\u304c\u5931\u6557\u3057\u305f\u3053\u3068\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002\nApp\n  \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\n    /\u3078\u306e\u30a2\u30af\u30bb\u30b9\n      \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068 (FAILED - 1)\n\nFailures:\n\n  1) App \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb /\u3078\u306e\u30a2\u30af\u30bb\u30b9 \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n     Failure/Error: last_response.should be_ok\n       expected ok? to return true, got false\n     # ./spec/app_spec.rb:14:in `block (4 levels) in <top (required)>'\n\nFinished in 0.09747 seconds\n1 example, 1 failure\n\nFailed examples:\n\nrspec ./spec/app_spec.rb:13 # App \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb /\u3078\u306e\u30a2\u30af\u30bb\u30b9 \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n\n\u3053\u306e\u3068\u304d\u3001app.rb\u3092\u898b\u3066\u307f\u308b\u3068\u4f55\u3082\u66f8\u3044\u3066\u6709\u308a\u307e\u305b\u3093\u306d\u3002\u3053\u306e\u3088\u3046\u306b\u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u3067\u306f\u3001\u3053\u306e\u3088\u3046\u306b\u52d5\u3044\u3066\u6b32\u3057\u3044\u3068\u3044\u3046\u671f\u5f85\u3092\u5148\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\u3067\u306f\u3053\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002git diff tdd_001..tdd_002\u306e\u5b9f\u884c\u7d50\u679c\u3067\u3059\u3002\n\nspec/app.rb\n# encoding: utf-8\nrequire File.dirname(__FILE__) + '/spec_helper'\n\ndescribe \"App\" do\n  include Rack::Test::Methods\n  def app\n    @app ||= Sinatra::Application\n  end\n\n  describe \"\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\" do\n    describe \"/\u3078\u306e\u30a2\u30af\u30bb\u30b9\" do\n      before { get '/' }\n      it \"\u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\" do\n        last_response.should be_ok\n      end\n    end\n  end\nend\n\n\n\u6b21\u306f\u3053\u306e\u30c6\u30b9\u30c8\u304c\u671f\u5f85\u3059\u308b\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30c6\u30b9\u30c8\u306b\u6cbf\u3063\u305f\u5b9f\u88c5\u3092\u66f8\u304f\n\u6b21\u306etag\u3092checkout\u3057\u307e\u3057\u3087\u3046\u3002\ngit checkout tdd_002\n\n\u3053\u306e\u72b6\u614b\u3067\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\nbundle exec rspec\n\n\u4eca\u5ea6\u306f\u6210\u529f\u3057\u307e\u3057\u305f\u306d\u3002\nApp\n  \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\n    /\u3078\u306e\u30a2\u30af\u30bb\u30b9\n      \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n\nFinished in 0.10743 seconds\n1 example, 0 failures\n\n\u3069\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u66f8\u3044\u305f\u306e\u304b\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\ndiff --git a/app.rb b/app.rb\nindex e69de29..920ebe6 100644\n--- a/app.rb\n+++ b/app.rb\n@@ -0,0 +1,4 @@\n+require 'sinatra'\n+\n+get '/' do\n+end\n\n\u5b9f\u306b\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u306d\u3002\u3053\u306e\u3088\u3046\u306b\u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u3067\u306f\u3001\u5b9f\u88c5\u304b\u3089\u66f8\u304d\u305f\u304f\u306a\u308a\u304c\u3061\u306a\u3068\u3053\u308d\u3092\u30c6\u30b9\u30c8\u304b\u3089\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30c6\u30b9\u30c8\u304b\u3089\u66f8\u304f\u305d\u306e2\n\u3082\u3046\u5c11\u3057\u30c6\u30b9\u30c8\u3092\u8db3\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\ngit checkout tdd_003\n\n\u4eca\u56de\u8db3\u3057\u305f\u30c6\u30b9\u30c8\u306f\u4ee5\u4e0b\u3067\u3059\u3002git diff tdd_002..tdd_003\u306e\u5b9f\u884c\u7d50\u679c\u3067\u3059\u3002\ndiff --git a/spec/app_spec.rb b/spec/app_spec.rb\nindex d849e1e..076f412 100644\n--- a/spec/app_spec.rb\n+++ b/spec/app_spec.rb\n@@ -13,6 +13,9 @@ describe \"App\" do\n       it \"\u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\" do\n         last_response.should be_ok\n       end\n+      it \"Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\" do\n+        last_response.body.should == \"Hello\"\n+      end\n     end\n   end\n end\n\nbundle exec rspec\n\nApp\n  \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\n    /\u3078\u306e\u30a2\u30af\u30bb\u30b9\n      \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n      Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068 (FAILED - 1)\n\nFailures:\n\n  1) App \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb /\u3078\u306e\u30a2\u30af\u30bb\u30b9 Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\n     Failure/Error: last_response.body.should == \"Hello\"\n       expected: \"Hello\"\n            got: \"\" (using ==)\n     # ./spec/app_spec.rb:17:in `block (4 levels) in <top (required)>'\n\nFinished in 0.11694 seconds\n2 examples, 1 failure\n\nFailed examples:\n\nrspec ./spec/app_spec.rb:16 # App \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb /\u3078\u306e\u30a2\u30af\u30bb\u30b9 Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\n\n\u30c6\u30b9\u30c8\u306f\u901a\u308a\u307e\u305b\u3093\u306d\u3002\u3067\u306f\u6b21\u306f\u3053\u306e\u30c6\u30b9\u30c8\u304c\u901a\u308b\u5b9f\u88c5\u3092\u307f\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u30c6\u30b9\u30c8\u306b\u6cbf\u3063\u305f\u5b9f\u88c5\u3092\u66f8\u304f\u305d\u306e2\ngit checkout tdd_004\n\n\u4eca\u56de\u306e\u5dee\u5206\u306f\u4ee5\u4e0b\u3067\u3059\u3002git diff tdd_003..tdd_004\u306e\u5b9f\u884c\u7d50\u679c\u3067\u3059\u3002\"Hello\"\u3068\u3044\u3046\u6587\u5b57\u5217\u3092\u8fd4\u3057\u3066\u3044\u307e\u3059\u3002\ndiff --git a/app.rb b/app.rb\nindex 920ebe6..0520e2e 100644\n--- a/app.rb\n+++ b/app.rb\n@@ -1,4 +1,5 @@\n require 'sinatra'\n\n get '/' do\n+  'Hello'\n end\n\n\u3067\u306f\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\nbundle exec rpec\n\nApp\n  \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\n    /\u3078\u306e\u30a2\u30af\u30bb\u30b9\n      \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n      Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\n\nFinished in 0.04242 seconds\n2 examples, 0 failures\n\n\u7121\u4e8b\u306b\u901a\u308a\u307e\u3057\u305f\u306d\u3002\u6b21\u306f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u3057\u3066\u307f\u307e\u3059\u3002\n\nspec\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n\u4eca\u56de\u306f\u632f\u308b\u821e\u3044\u306f\u540c\u3058\u307e\u307e\u3001\u30b3\u30fc\u30c9\u306e\u4fee\u6b63\u3092\u884c\u306a\u3063\u3066\u307f\u307e\u3057\u305f\u3002app.rb\u306e\u30b3\u30fc\u30c9\u304c\u5358\u7d14\u306a\u305f\u3081spec/app_spec\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u3044\u307e\u3059\u3002git diff tdd_004..tdd_005\u306e\u5b9f\u884c\u7d50\u679c\u3067\u3059\u3002\ndiff --git a/spec/app_spec.rb b/spec/app_spec.rb\nindex 076f412..1347ef9 100644\n--- a/spec/app_spec.rb\n+++ b/spec/app_spec.rb\n@@ -10,11 +10,12 @@ describe \"App\" do\n   describe \"\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\" do\n     describe \"/\u3078\u306e\u30a2\u30af\u30bb\u30b9\" do\n       before { get '/' }\n+      subject { last_response }\n       it \"\u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\" do\n-        last_response.should be_ok\n+        should be_ok\n       end\n       it \"Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\" do\n-        last_response.body.should == \"Hello\"\n+        subject.body.should == \"Hello\"\n       end\n     end\n   end\n\n\u73fe\u5728\u30c6\u30b9\u30c8\u3057\u3066\u3044\u308b\u4e3b\u984c(subject)\u3092\u660e\u78ba\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u540c\u3058\u304f\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\nbundle exec rpec\n\nApp\n  \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\n    /\u3078\u306e\u30a2\u30af\u30bb\u30b9\n      \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n      Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\n\nFinished in 0.04653 seconds\n2 examples, 0 failures\n\n\u540c\u3058\u7d50\u679c\u304c\u5f97\u3089\u308c\u307e\u3057\u305f\u306d\u3002\u4ee5\u4e0a\u3067\u3001sinatra\u3068rspec\u3092\u4f7f\u3063\u305f\u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u306e\u4f53\u9a13\u304c\u51fa\u6765\u305f\u3068\u601d\u3044\u307e\u3059\u3002\u3069\u3046\u3067\u3057\u305f\u3067\u3057\u3087\u3046\u304b\uff1f\n\u7c21\u5358\u306asinatra\u30a2\u30d7\u30ea\u3092\u4f8b\u3068\u3057\u305f\u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u306e\u7d39\u4ecb\u3092\u3057\u307e\u3059\u3002\u4eca\u56de\u4f5c\u6210\u3059\u308bsinatra\u30a2\u30d7\u30ea\u306e\u5b8c\u6210\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n\n```\nrequire 'sinatra'\n\nget '/' do\n  'Hello'\nend\n```\n\n\u5b8c\u6210\u5f8c\u306e\u3059\u3079\u3066\u306e\u30b3\u30fc\u30c9\u306f\u3001https://github.com/ppworks/rspec_sample \u306b\u3042\u308a\u307e\u3059\u3002\n\n\u305d\u308c\u3067\u306f\u3001\u307e\u305a\u306f\u30ec\u30dd\u30b8\u30c8\u30ea\u3092clone\u3057\u307e\u3059\u3002\n\n```\ngit clone git://github.com/ppworks/rspec_sample.git\n```\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u79fb\u52d5\u3057\u3066\u3001\u5fc5\u8981\u306agem\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\ncd rspec_sample\nbundle install --path .bundle\n```\n\n\u30c6\u30b9\u30c8\u304c\u901a\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\nbundle exec rspec\n```\n\n```\nApp\n  \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\n    /\u3078\u306e\u30a2\u30af\u30bb\u30b9\n      \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n      Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\n\nFinished in 0.04865 seconds\n2 examples, 0 failures\n```\n\n\u7121\u4e8b\u306b\u30c6\u30b9\u30c8\u304c\u901a\u308a\u307e\u3057\u305f\u306d\u3002\u3067\u306f\u3053\u3053\u307e\u3067\u306b\u81f3\u308b\u4f5c\u696d\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002\u5404\u30b9\u30c6\u30c3\u30d7\u306ftag\u3092\u4f5c\u6210\u3057\u3066\u3042\u308b\u306e\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067tag\u304c\u5b58\u5728\u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n```\ngit tag -n\n```\n```\ntdd_001         \u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u4f8b\u30c6\u30b9\u30c8\u304b\u3089\u66f8\u304f\ntdd_002         \u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u4f8b\u30c6\u30b9\u30c8\u306b\u6cbf\u3063\u305f\u5b9f\u88c5\u3092\u66f8\u304f\ntdd_003         \u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u4f8b\u30c6\u30b9\u30c8\u304b\u3089\u66f8\u304f\u305d\u306e2\ntdd_004         \u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u4f8b\u30c6\u30b9\u30c8\u306b\u6cbf\u3063\u305f\u5b9f\u88c5\u3092\u66f8\u304f\u305d\u306e2\ntdd_005         spec\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n```\n\n\u5404tag\u306b\u5207\u308a\u66ff\u3048\u305f\u969b\u306b\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u3066\u898b\u308b\u3053\u3068\u304c\u5927\u5207\u3067\u3059\u3002\u5b9f\u969b\u306b\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3088\u3046\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\n# \u30c6\u30b9\u30c8\u304b\u3089\u66f8\u304f\n\u307e\u305a\u306f\u6700\u521d\u306etag\u3092checkout\u3057\u307e\u3059\u3002\n\n```\ngit checkout tdd_001\n```\n\n\u6b21\u306b\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\nbundle exec rspec\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u30c6\u30b9\u30c8\u304c\u5931\u6557\u3057\u307e\u3059\u3002```1 example, 1 failure```\u306f\u5168\u90e8\u30671\u3064\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u5b58\u5728\u3057\u30011\u3064\u304c\u5931\u6557\u3057\u305f\u3053\u3068\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\nApp\n  \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\n    /\u3078\u306e\u30a2\u30af\u30bb\u30b9\n      \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068 (FAILED - 1)\n\nFailures:\n\n  1) App \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb /\u3078\u306e\u30a2\u30af\u30bb\u30b9 \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n     Failure/Error: last_response.should be_ok\n       expected ok? to return true, got false\n     # ./spec/app_spec.rb:14:in `block (4 levels) in <top (required)>'\n\nFinished in 0.09747 seconds\n1 example, 1 failure\n\nFailed examples:\n\nrspec ./spec/app_spec.rb:13 # App \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb /\u3078\u306e\u30a2\u30af\u30bb\u30b9 \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n```\n\n\u3053\u306e\u3068\u304d\u3001```app.rb```\u3092\u898b\u3066\u307f\u308b\u3068\u4f55\u3082\u66f8\u3044\u3066\u6709\u308a\u307e\u305b\u3093\u306d\u3002\u3053\u306e\u3088\u3046\u306b\u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u3067\u306f\u3001\u3053\u306e\u3088\u3046\u306b\u52d5\u3044\u3066\u6b32\u3057\u3044\u3068\u3044\u3046\u671f\u5f85\u3092\u5148\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\u3067\u306f\u3053\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002```git diff tdd_001..tdd_002```\u306e\u5b9f\u884c\u7d50\u679c\u3067\u3059\u3002\n\n```spec/app.rb\n# encoding: utf-8\nrequire File.dirname(__FILE__) + '/spec_helper'\n\ndescribe \"App\" do\n  include Rack::Test::Methods\n  def app\n    @app ||= Sinatra::Application\n  end\n\n  describe \"\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\" do\n    describe \"/\u3078\u306e\u30a2\u30af\u30bb\u30b9\" do\n      before { get '/' }\n      it \"\u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\" do\n        last_response.should be_ok\n      end\n    end\n  end\nend\n```\n\n\u6b21\u306f\u3053\u306e\u30c6\u30b9\u30c8\u304c\u671f\u5f85\u3059\u308b\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n# \u30c6\u30b9\u30c8\u306b\u6cbf\u3063\u305f\u5b9f\u88c5\u3092\u66f8\u304f\n\u6b21\u306etag\u3092checkout\u3057\u307e\u3057\u3087\u3046\u3002\n\n```\ngit checkout tdd_002\n```\n\n\u3053\u306e\u72b6\u614b\u3067\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\n\n```\nbundle exec rspec\n```\n\n\u4eca\u5ea6\u306f\u6210\u529f\u3057\u307e\u3057\u305f\u306d\u3002\n\n```\nApp\n  \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\n    /\u3078\u306e\u30a2\u30af\u30bb\u30b9\n      \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n\nFinished in 0.10743 seconds\n1 example, 0 failures\n```\n\n\u3069\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u66f8\u3044\u305f\u306e\u304b\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```diff\ndiff --git a/app.rb b/app.rb\nindex e69de29..920ebe6 100644\n--- a/app.rb\n+++ b/app.rb\n@@ -0,0 +1,4 @@\n+require 'sinatra'\n+\n+get '/' do\n+end\n```\n\n\u5b9f\u306b\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u306d\u3002\u3053\u306e\u3088\u3046\u306b\u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u3067\u306f\u3001\u5b9f\u88c5\u304b\u3089\u66f8\u304d\u305f\u304f\u306a\u308a\u304c\u3061\u306a\u3068\u3053\u308d\u3092\u30c6\u30b9\u30c8\u304b\u3089\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\n# \u30c6\u30b9\u30c8\u304b\u3089\u66f8\u304f\u305d\u306e2\n\n\u3082\u3046\u5c11\u3057\u30c6\u30b9\u30c8\u3092\u8db3\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```\ngit checkout tdd_003\n```\n\n\u4eca\u56de\u8db3\u3057\u305f\u30c6\u30b9\u30c8\u306f\u4ee5\u4e0b\u3067\u3059\u3002```git diff tdd_002..tdd_003```\u306e\u5b9f\u884c\u7d50\u679c\u3067\u3059\u3002\n\n```diff\ndiff --git a/spec/app_spec.rb b/spec/app_spec.rb\nindex d849e1e..076f412 100644\n--- a/spec/app_spec.rb\n+++ b/spec/app_spec.rb\n@@ -13,6 +13,9 @@ describe \"App\" do\n       it \"\u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\" do\n         last_response.should be_ok\n       end\n+      it \"Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\" do\n+        last_response.body.should == \"Hello\"\n+      end\n     end\n   end\n end\n```\n\n```\nbundle exec rspec\n```\n\n```\nApp\n  \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\n    /\u3078\u306e\u30a2\u30af\u30bb\u30b9\n      \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n      Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068 (FAILED - 1)\n\nFailures:\n\n  1) App \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb /\u3078\u306e\u30a2\u30af\u30bb\u30b9 Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\n     Failure/Error: last_response.body.should == \"Hello\"\n       expected: \"Hello\"\n            got: \"\" (using ==)\n     # ./spec/app_spec.rb:17:in `block (4 levels) in <top (required)>'\n\nFinished in 0.11694 seconds\n2 examples, 1 failure\n\nFailed examples:\n\nrspec ./spec/app_spec.rb:16 # App \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb /\u3078\u306e\u30a2\u30af\u30bb\u30b9 Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\n```\n\n\u30c6\u30b9\u30c8\u306f\u901a\u308a\u307e\u305b\u3093\u306d\u3002\u3067\u306f\u6b21\u306f\u3053\u306e\u30c6\u30b9\u30c8\u304c\u901a\u308b\u5b9f\u88c5\u3092\u307f\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n# \u30c6\u30b9\u30c8\u306b\u6cbf\u3063\u305f\u5b9f\u88c5\u3092\u66f8\u304f\u305d\u306e2\n\n```\ngit checkout tdd_004\n```\n\n\u4eca\u56de\u306e\u5dee\u5206\u306f\u4ee5\u4e0b\u3067\u3059\u3002```git diff tdd_003..tdd_004```\u306e\u5b9f\u884c\u7d50\u679c\u3067\u3059\u3002\"Hello\"\u3068\u3044\u3046\u6587\u5b57\u5217\u3092\u8fd4\u3057\u3066\u3044\u307e\u3059\u3002\n\n```diff\ndiff --git a/app.rb b/app.rb\nindex 920ebe6..0520e2e 100644\n--- a/app.rb\n+++ b/app.rb\n@@ -1,4 +1,5 @@\n require 'sinatra'\n \n get '/' do\n+  'Hello'\n end\n```\n\n\u3067\u306f\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\nbundle exec rpec\n```\n\n```\nApp\n  \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\n    /\u3078\u306e\u30a2\u30af\u30bb\u30b9\n      \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n      Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\n\nFinished in 0.04242 seconds\n2 examples, 0 failures\n```\n\n\u7121\u4e8b\u306b\u901a\u308a\u307e\u3057\u305f\u306d\u3002\u6b21\u306f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u3057\u3066\u307f\u307e\u3059\u3002\n\n\n# spec\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n\n\u4eca\u56de\u306f\u632f\u308b\u821e\u3044\u306f\u540c\u3058\u307e\u307e\u3001\u30b3\u30fc\u30c9\u306e\u4fee\u6b63\u3092\u884c\u306a\u3063\u3066\u307f\u307e\u3057\u305f\u3002```app.rb```\u306e\u30b3\u30fc\u30c9\u304c\u5358\u7d14\u306a\u305f\u3081```spec/app_spec```\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u3044\u307e\u3059\u3002```git diff tdd_004..tdd_005```\u306e\u5b9f\u884c\u7d50\u679c\u3067\u3059\u3002\n\n```\ndiff --git a/spec/app_spec.rb b/spec/app_spec.rb\nindex 076f412..1347ef9 100644\n--- a/spec/app_spec.rb\n+++ b/spec/app_spec.rb\n@@ -10,11 +10,12 @@ describe \"App\" do\n   describe \"\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\" do\n     describe \"/\u3078\u306e\u30a2\u30af\u30bb\u30b9\" do\n       before { get '/' }\n+      subject { last_response }\n       it \"\u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\" do\n-        last_response.should be_ok\n+        should be_ok\n       end\n       it \"Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\" do\n-        last_response.body.should == \"Hello\"\n+        subject.body.should == \"Hello\"\n       end\n     end\n   end\n```\n\n\u73fe\u5728\u30c6\u30b9\u30c8\u3057\u3066\u3044\u308b\u4e3b\u984c(subject)\u3092\u660e\u78ba\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u540c\u3058\u304f\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\n\n```\nbundle exec rpec\n```\n\n```\nApp\n  \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u7cbe\u67fb\n    /\u3078\u306e\u30a2\u30af\u30bb\u30b9\n      \u6b63\u5e38\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u308b\u3053\u3068\n      Hello\u3068\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\n\nFinished in 0.04653 seconds\n2 examples, 0 failures\n````\n\n\u540c\u3058\u7d50\u679c\u304c\u5f97\u3089\u308c\u307e\u3057\u305f\u306d\u3002\u4ee5\u4e0a\u3067\u3001sinatra\u3068rspec\u3092\u4f7f\u3063\u305f\u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u306e\u4f53\u9a13\u304c\u51fa\u6765\u305f\u3068\u601d\u3044\u307e\u3059\u3002\u3069\u3046\u3067\u3057\u305f\u3067\u3057\u3087\u3046\u304b\uff1f\n\n\n", "tags": ["RSpec", "Sinatra"]}