{"context": " More than 1 year has passed since last update.WordPress\u306eREST API\u3092\u4f7f\u7528\u3059\u308b\u3068\u304d\u306e\u30e1\u30e2\u3067\u3059\u3002\n\u500b\u4eba\u306e\u74b0\u5883\u306b\u3088\u3063\u3066\u5909\u308f\u3063\u3066\u304f\u308b\u6240\u3082\u3042\u308b\u3068\u601d\u3046\u306e\u3067\u3001\u53c2\u8003\u307e\u3067\u306b\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\u4e0b\u8a18\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u7528\u3059\u308b\u60f3\u5b9a\u3067\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\u30fb\u30d7\u30e9\u30b0\u30a4\u30f3\n\u30ab\u30b9\u30bf\u30e0\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u767b\u9332\uff1aAdvanced Custom Field\n\u30ab\u30b9\u30bf\u30e0\u30dd\u30b9\u30c8\u306e\u767b\u9332\uff1aCustom Post Type UI\n\n\u6295\u7a3f\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\nhttp://example.com/wp-json/wp/v2/posts/<ID>\n\n\u500b\u5225\u30da\u30fc\u30b8\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\nhttp://example.com/wp-json/wp/v2/pages/<ID>\n\nAdvanced Custom Fields\u306e\u5185\u5bb9\u3092API\u306b\u8ffd\u52a0\u3059\u308b\u6642\n\nfunctions.php\nfunction wp_rest_api_alter() {\n    $params = array(\n        'get_callback'    => function($data, $field, $request, $type){\n            if (function_exists('get_fields')) {\n                return get_fields($data['id']);\n            }\n            return [];\n            },\n        'update_callback' => null,\n        'schema'          => null,\n    );\n    register_api_field( 'page', 'fields', $params );\n    register_api_field( 'post', 'fields', $params );\n}\nadd_action( 'rest_api_init', 'wp_rest_api_alter');\n\n\n\n\u30ab\u30b9\u30bf\u30e0\u30dd\u30b9\u30c8\u30bf\u30a4\u30d7\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u4f5c\u308b\nhttp://example.com/wp-json/wp/v2/<custom-post-type>\n\nfunctions.php\nfunction sb_add_cpts_to_api() {\n    global $wp_post_types;\n\n    // Add CPT slugs here\n    $arr = ['<post-typeA>','<post-typeB>','<post-typeC>'];\n\n    foreach( $arr as $key ) {\n\n    // If the post type doesn't exist, skip it\n    if( !$wp_post_types[$key] )\n        continue;\n\n        $wp_post_types[$key]->show_in_rest = true;\n        $wp_post_types[$key]->rest_base = $key;\n    }\n}\nadd_action( 'init', 'sb_add_cpts_to_api', 30 );\n\n\nWordPress\u306eREST API\u3092\u4f7f\u7528\u3059\u308b\u3068\u304d\u306e\u30e1\u30e2\u3067\u3059\u3002\n\u500b\u4eba\u306e\u74b0\u5883\u306b\u3088\u3063\u3066\u5909\u308f\u3063\u3066\u304f\u308b\u6240\u3082\u3042\u308b\u3068\u601d\u3046\u306e\u3067\u3001\u53c2\u8003\u307e\u3067\u306b\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n\u4e0b\u8a18\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u7528\u3059\u308b\u60f3\u5b9a\u3067\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\n\u30fb\u30d7\u30e9\u30b0\u30a4\u30f3\n\u30ab\u30b9\u30bf\u30e0\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u767b\u9332\uff1a**Advanced Custom Field**\n\u30ab\u30b9\u30bf\u30e0\u30dd\u30b9\u30c8\u306e\u767b\u9332\uff1a**Custom Post Type UI**\n\n### \u6295\u7a3f\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\nhttp://example.com/wp-json/wp/v2/posts/&lt;ID&gt;\n\n### \u500b\u5225\u30da\u30fc\u30b8\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\nhttp://example.com/wp-json/wp/v2/pages/&lt;ID&gt;\n\n### Advanced Custom Fields\u306e\u5185\u5bb9\u3092API\u306b\u8ffd\u52a0\u3059\u308b\u6642\n\n```php:functions.php\nfunction wp_rest_api_alter() {\n    $params = array(\n        'get_callback'    => function($data, $field, $request, $type){\n            if (function_exists('get_fields')) {\n                return get_fields($data['id']);\n            }\n            return [];\n            },\n        'update_callback' => null,\n        'schema'          => null,\n    );\n    register_api_field( 'page', 'fields', $params );\n    register_api_field( 'post', 'fields', $params );\n}\nadd_action( 'rest_api_init', 'wp_rest_api_alter');\n```\n\n\n### \u30ab\u30b9\u30bf\u30e0\u30dd\u30b9\u30c8\u30bf\u30a4\u30d7\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u4f5c\u308b\n\nhttp://example.com/wp-json/wp/v2/&lt;custom-post-type&gt;\n\n```php:functions.php\nfunction sb_add_cpts_to_api() {\n    global $wp_post_types;\n\n    // Add CPT slugs here\n    $arr = ['<post-typeA>','<post-typeB>','<post-typeC>'];\n\n    foreach( $arr as $key ) {\n\n    // If the post type doesn't exist, skip it\n    if( !$wp_post_types[$key] )\n        continue;\n\n        $wp_post_types[$key]->show_in_rest = true;\n        $wp_post_types[$key]->rest_base = $key;\n    }\n}\nadd_action( 'init', 'sb_add_cpts_to_api', 30 );\n```\n", "tags": ["WordPress", "REST-API"]}