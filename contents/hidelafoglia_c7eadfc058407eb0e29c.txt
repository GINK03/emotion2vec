{"tags": ["Django"], "context": "\nPermission \u4e00\u89a7\u3092 ContentType\u81ea\u4f53\u3068\u3001ContentType.app_label\u3067\u7d5e\u308b\nContentType.app_label\u3092\u6307\u5b9a\u3057\u305f\u3089\u3001\u95a2\u9023\u3059\u308bContentType\u3060\u3051\u9078\u629e\u80a2\u306b\u8868\u793a\u3057\u305f\u3044\n\n\nCorelatedFilter: \u95a2\u9023\u30d5\u30a3\u30eb\u30bf\u30fc\n\nadmin.RelatedFieldListFilter\u30d9\u30fc\u30b9\n\u95a2\u9023\u30d5\u30a3\u30fc\u30eb\u30c9(cofield)\u304c\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3042\u3063\u305f\u3089\u3001 limit_choices_to \u3092\u6307\u5b9a\u3059\u308b\n\nfrom django.contrib import admin    \n\n\nclass CorelatedFilter(admin.RelatedFieldListFilter):                                \n\n    def field_choices(self, field, request, model_admin):                           \n        name = \"{}__{}\".format(field.name, self.cofield)                            \n        covalue = request.GET.get(name, '')                                         \n        if not covalue:                                                             \n            return field.get_choices(include_blank=False)                           \n        return field.get_choices(                                                   \n            include_blank=False,                                                    \n            limit_choices_to={self.cofield: covalue})                               \n\n\nPermissionAdmin\n\n\u30b3\u30f3\u30c6\u30f3\u30c8\u30bf\u30a4\u30d7\u3068\u3001\u305d\u306e app_label \u3067\u7d5e\u308b\n\nclass PermissionAdmin(admin.ModelAdmin):                                         \n    list_filter = [                                                              \n        'content_type__app_label',                                               \n        ('content_type',                                                         \n         type('', (CorelatedFilter,), {'cofield': 'app_label'})),                \n    ]                                                                            \n\n\n- Permission \u4e00\u89a7\u3092 ContentType\u81ea\u4f53\u3068\u3001ContentType.app_label\u3067\u7d5e\u308b\n- ContentType.app_label\u3092\u6307\u5b9a\u3057\u305f\u3089\u3001\u95a2\u9023\u3059\u308bContentType\u3060\u3051\u9078\u629e\u80a2\u306b\u8868\u793a\u3057\u305f\u3044\n\n\n## CorelatedFilter: \u95a2\u9023\u30d5\u30a3\u30eb\u30bf\u30fc\n\n- admin.RelatedFieldListFilter\u30d9\u30fc\u30b9\n- \u95a2\u9023\u30d5\u30a3\u30fc\u30eb\u30c9(cofield)\u304c\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3042\u3063\u305f\u3089\u3001 limit_choices_to \u3092\u6307\u5b9a\u3059\u308b\n\n~~~py\nfrom django.contrib import admin    \n\n\nclass CorelatedFilter(admin.RelatedFieldListFilter):                                \n\n    def field_choices(self, field, request, model_admin):                           \n        name = \"{}__{}\".format(field.name, self.cofield)                            \n        covalue = request.GET.get(name, '')                                         \n        if not covalue:                                                             \n            return field.get_choices(include_blank=False)                           \n        return field.get_choices(                                                   \n            include_blank=False,                                                    \n            limit_choices_to={self.cofield: covalue})                               \n~~~\n\n## PermissionAdmin\n\n- \u30b3\u30f3\u30c6\u30f3\u30c8\u30bf\u30a4\u30d7\u3068\u3001\u305d\u306e app_label \u3067\u7d5e\u308b\n\n~~~py\nclass PermissionAdmin(admin.ModelAdmin):                                         \n    list_filter = [                                                              \n        'content_type__app_label',                                               \n        ('content_type',                                                         \n         type('', (CorelatedFilter,), {'cofield': 'app_label'})),                \n    ]                                                                            \n~~~\n"}