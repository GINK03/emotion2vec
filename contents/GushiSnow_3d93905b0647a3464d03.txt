{"context": "\n\nWHY\n\u4f7f\u3063\u305f\u65b9\u304c\u826f\u3044\u7406\u7531\u306f\u4e0b\u8a18\u3067\nGo \u8a00\u8a9e\u3067 JWT \u3092\u4f7f\u3063\u3066\u8a8d\u8a3c\u3068\u8a8d\u53ef\u3092\u4f4e\u30b3\u30b9\u30c8\u306b\n\nHOW\n\u3053\u3053\u3067\u306f\u5177\u4f53\u7684\u306a\u4f5c\u6210\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8a18\u8ff0\u3057\u307e\u3059\u3002\uff08RS256\u306e\u8a8d\u8a3c\u65b9\u5f0f\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\uff09\n1: Json WEB Tokens\u3092\u4e0b\u8a18\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u4e0b\u8a18\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\nJSON WEB Tokens\nALGORITHMS\u3067\"RS256\"\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n2: \u8a8d\u8a3c\u7528\u306b\u5fc5\u8981\u306a\u9375\u306e\u4f5c\u6210\n\u4e0b\u8a18\u306e\u65b9\u6cd5\u3067RS256\u65b9\u5f0f\u306e\u9375\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nssh-keygen -t rsa -b 4096 -f jwtRS256.key\n# Don't add passphrase\nopenssl rsa -in jwtRS256.key -pubout -outform PEM -out jwtRS256.key.pub\n\nprivate key\njwtRS256.key\n\npublic key\njwtRS256.key.pub\n\n3: \u9375\u306e\u8a2d\u5b9a\u3068\u5fc5\u8981\u306a\u5024\u306e\u8a2d\u5b9a\n\n\u4e0b\u8a18\u306e\u90e8\u5206\u306b\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fpublic key\u3092\u4e0b\u8a18\u306e\u90e8\u5206\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n-----BEGIN PUBLIC KEY-----\n-----END PUBLIC KEY-----\n\n\u4e0b\u8a18\u306e\u90e8\u5206\u306b\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fprivate key\u3092\u4e0b\u8a18\u306e\u90e8\u5206\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n-----BEGIN RSA PRIVATE KEY-----\n-----END RSA PRIVATE KEY-----\n\n4: JWT\u30c8\u30fc\u30af\u30f3\u306b\u8a2d\u5b9a\u3059\u308b\u5024\u3092\u4e0b\u8a18\u3067\u8a2d\u5b9a\n\u3053\u3053\u3067\u306f\u8a8d\u8a3c\u7528\u306e\u30c8\u30fc\u30af\u30f3\u306b\u542b\u3081\u305f\u3044\u60c5\u5831\u3092\u4e0b\u8a18\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n\u3088\u304f\u8a2d\u5b9a\u3059\u308b\u5024\u304c\u4e0b\u8a18\napi\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u8a2d\u5b9a\n\"iss\": \"https://jwt-idp.example.com\"\n\napi\u306e\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u3092\u8a2d\u5b9a\n\"sub\": \"mailto:mike@example.com\"\n\nJWT\u304c\u6709\u52b9\u306b\u306a\u308b\u65e5\u6642\u3092\u793a\u3059\n\"nbf\": 1454503213(UNIX\u30bf\u30a4\u30e0\u3067\u6307\u5b9a)\n\nJWT\u304c\u6709\u52b9\u306b\u306a\u308b\u65e5\u6642\u3092\u793a\u3059\n\"exp\": 1490667232(UNIX\u30bf\u30a4\u30e0\u3067\u6307\u5b9a)\n\nJWT\u3092\u767a\u884c\u3057\u305f\u6642\u523b\u3092\u793a\u3059\n\"iat\": 1454503213(UNIX\u30bf\u30a4\u30e0\u3067\u6307\u5b9a)\n\nUnix\u30bf\u30a4\u30e0\u3092\u767a\u884c\u306f\u4e0b\u8a18\u306e\u30b5\u30a4\u30c8\u304c\u4fbf\u5229\u3067\u3059\u3002\nhttp://url-c.com/tc/\n5: JWT \u30c8\u30fc\u30af\u30f3\u306e\u78ba\u8a8d\n\u5de6\u5074\u306bJWT\u30c8\u30fc\u30af\u30f3\u304c\u3067\u304d\u3066\u3044\u308b\u306e\u3067\n\n\u4e0b\u8a18\u3067\u6b63\u3057\u304f\u3067\u304d\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0a\u3067\u30c8\u30fc\u30af\u30f3\u4f5c\u6210\u624b\u9806\u306f\u7d42\u4e86\u3067\u3059\u3002\n\u3053\u308c\u3067\u30b5\u30af\u30c3\u3068\u8a8d\u8a3c\u3057\u307e\u3057\u3087\u3046\uff01\uff01\n## WHY\n\n\u4f7f\u3063\u305f\u65b9\u304c\u826f\u3044\u7406\u7531\u306f\u4e0b\u8a18\u3067\n\n[Go \u8a00\u8a9e\u3067 JWT \u3092\u4f7f\u3063\u3066\u8a8d\u8a3c\u3068\u8a8d\u53ef\u3092\u4f4e\u30b3\u30b9\u30c8\u306b](http://qiita.com/nirasan/items/1d5a2527a5384c863aa3)\n\n## HOW\n\n\u3053\u3053\u3067\u306f\u5177\u4f53\u7684\u306a\u4f5c\u6210\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8a18\u8ff0\u3057\u307e\u3059\u3002\uff08RS256\u306e\u8a8d\u8a3c\u65b9\u5f0f\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\uff09\n\n1: Json WEB Tokens\u3092\u4e0b\u8a18\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-03-04 12.24.02.png](https://qiita-image-store.s3.amazonaws.com/0/10496/64dafb13-d057-edb1-db3a-f5b7d11a7074.png)\n\n\u4e0b\u8a18\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n[JSON WEB Tokens](https://jwt.io/)\n\nALGORITHMS\u3067\"RS256\"\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n2: \u8a8d\u8a3c\u7528\u306b\u5fc5\u8981\u306a\u9375\u306e\u4f5c\u6210\n\n\u4e0b\u8a18\u306e\u65b9\u6cd5\u3067RS256\u65b9\u5f0f\u306e\u9375\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\nssh-keygen -t rsa -b 4096 -f jwtRS256.key\n# Don't add passphrase\nopenssl rsa -in jwtRS256.key -pubout -outform PEM -out jwtRS256.key.pub\n```\n\nprivate key\n\n```\njwtRS256.key\n```\n\npublic key\n\n```\njwtRS256.key.pub\n```\n\n3: \u9375\u306e\u8a2d\u5b9a\u3068\u5fc5\u8981\u306a\u5024\u306e\u8a2d\u5b9a\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-03-04 12.35.55.png](https://qiita-image-store.s3.amazonaws.com/0/10496/0b624674-69cd-9cb5-6c32-e8d594d99077.png)\n\n\u4e0b\u8a18\u306e\u90e8\u5206\u306b\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f`public key`\u3092\u4e0b\u8a18\u306e\u90e8\u5206\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n```\n-----BEGIN PUBLIC KEY-----\n-----END PUBLIC KEY-----\n```\n\n\u4e0b\u8a18\u306e\u90e8\u5206\u306b\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f`private key`\u3092\u4e0b\u8a18\u306e\u90e8\u5206\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n```\n-----BEGIN RSA PRIVATE KEY-----\n-----END RSA PRIVATE KEY-----\n```\n\n4: JWT\u30c8\u30fc\u30af\u30f3\u306b\u8a2d\u5b9a\u3059\u308b\u5024\u3092\u4e0b\u8a18\u3067\u8a2d\u5b9a\n\n\u3053\u3053\u3067\u306f\u8a8d\u8a3c\u7528\u306e\u30c8\u30fc\u30af\u30f3\u306b\u542b\u3081\u305f\u3044\u60c5\u5831\u3092\u4e0b\u8a18\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-03-04 12.41.01.png](https://qiita-image-store.s3.amazonaws.com/0/10496/d3f2f391-b8ff-15f5-ff51-6198fa500a24.png)\n\n\u3088\u304f\u8a2d\u5b9a\u3059\u308b\u5024\u304c\u4e0b\u8a18\n\napi\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u8a2d\u5b9a\n\n```\n\"iss\": \"https://jwt-idp.example.com\"\n```\n\napi\u306e\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u3092\u8a2d\u5b9a\n\n```\n\"sub\": \"mailto:mike@example.com\"\n```\n\nJWT\u304c\u6709\u52b9\u306b\u306a\u308b\u65e5\u6642\u3092\u793a\u3059\n\n```\n\"nbf\": 1454503213(UNIX\u30bf\u30a4\u30e0\u3067\u6307\u5b9a)\n```\n\nJWT\u304c\u6709\u52b9\u306b\u306a\u308b\u65e5\u6642\u3092\u793a\u3059\n\n```\n\"exp\": 1490667232(UNIX\u30bf\u30a4\u30e0\u3067\u6307\u5b9a)\n```\n\nJWT\u3092\u767a\u884c\u3057\u305f\u6642\u523b\u3092\u793a\u3059\n\n```\n\"iat\": 1454503213(UNIX\u30bf\u30a4\u30e0\u3067\u6307\u5b9a)\n```\n\nUnix\u30bf\u30a4\u30e0\u3092\u767a\u884c\u306f\u4e0b\u8a18\u306e\u30b5\u30a4\u30c8\u304c\u4fbf\u5229\u3067\u3059\u3002\n\nhttp://url-c.com/tc/\n\n5: JWT \u30c8\u30fc\u30af\u30f3\u306e\u78ba\u8a8d\n\n\u5de6\u5074\u306bJWT\u30c8\u30fc\u30af\u30f3\u304c\u3067\u304d\u3066\u3044\u308b\u306e\u3067\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-03-04 12.43.18.png](https://qiita-image-store.s3.amazonaws.com/0/10496/79b1ed12-ae04-feb2-74bc-f344d3962dba.png)\n\n\u4e0b\u8a18\u3067\u6b63\u3057\u304f\u3067\u304d\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-03-04 12.43.32.png](https://qiita-image-store.s3.amazonaws.com/0/10496/c123e824-a7c9-6065-3021-d7cfa25885eb.png)\n\n\u4ee5\u4e0a\u3067\u30c8\u30fc\u30af\u30f3\u4f5c\u6210\u624b\u9806\u306f\u7d42\u4e86\u3067\u3059\u3002\n\u3053\u308c\u3067\u30b5\u30af\u30c3\u3068\u8a8d\u8a3c\u3057\u307e\u3057\u3087\u3046\uff01\uff01\n", "tags": ["JWT"]}