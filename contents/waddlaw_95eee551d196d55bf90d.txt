{"context": "\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8\u3068\u3044\u3046\u306e\u306f\u82f1\u8a9e\u3067\u306f\u300cBreadcrumb\u300d\u3068\u547c\u3070\u308c\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u3053\u3068\u3092\u6307\u3057\u307e\u3059\u3002\n\n\u81ea\u5206\u304c\u4eca\u30b5\u30a4\u30c8\u306e\u3069\u3053\u306b\u5c45\u308b\u306e\u304b\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u4fbf\u5229\u3067\u3059\u3057\u3001SEO\u5bfe\u7b56\u306b\u3082\u610f\u5473\u304c\u3042\u308b\u3068\u8a00\u308f\u308c\u3066\u304a\u308a\u307e\u3059\u3002\nYesod \u3067\u306f\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\u304c\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u307e\u3059\u3002\u4eca\u56de\u306f\u305d\u308c\u3089\u306e\u4f7f\u3044\u65b9\u3092\u7c21\u5358\u306b\u898b\u3066\u3044\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u5b9a\u7fa9\n\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8\u306b\u95a2\u4fc2\u3059\u308b\u90e8\u5206\u306f\u4ee5\u4e0b\u306e2\u3064\u306e\u307f\u3067\u3059\u3002\n\nYesodBreadcrumbs \u578b\u30af\u30e9\u30b9\nclass YesodBreadcrumbs site where\n    breadcrumb :: Route site -> Handler (Text , Maybe (Route site))\n\nbreadcrumb \u30e1\u30bd\u30c3\u30c9\u306f\u73fe\u5728\u306e\u30eb\u30fc\u30c8\u3092\u53d7\u3051\u53d6\u308a\u3001\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8\u306b\u8868\u793a\u3059\u308b\u30c6\u30ad\u30b9\u30c8 (\u73fe\u5728\u306e\u30eb\u30fc\u30c8) \u3068\u89aa\u306e\u30eb\u30fc\u30c8\u3092\u8fd4\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001\u89aa\u306e\u30eb\u30fc\u30c8\u304c\u7121\u3044\u5834\u5408\u306f Nothing \u3092\u8fd4\u3057\u307e\u3059\u3002\n\nbreadcrumbs \u95a2\u6570\nbreadcrumb \u3068\u540d\u524d\u304c\u975e\u5e38\u306b\u4f3c\u3066\u3044\u308b\u3001breadcrumbs \u95a2\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u95a2\u6570\u306f\u3001YesodBreadcrumbs \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308c\u3070\u81ea\u52d5\u7684\u306b\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u89aa\u306e\u30eb\u30fc\u30c8\u306e\u30ea\u30b9\u30c8\u3092\u8fd4\u3057\u307e\u3059\u3002\nbreadcrumbs :: YesodBreadcrumbs site => HandlerT site IO (Text, [(Route site, Text)])\nbreadcrumbs = do\n    x <- getCurrentRoute\n    case x of\n        Nothing -> return (\"Not found\", [])\n        Just y -> do\n            (title, next) <- breadcrumb y\n            z <- go [] next\n            return (title, z)\n  where\n    go back Nothing = return back\n    go back (Just this) = do\n        (title, next) <- breadcrumb this\n        go ((this, title) : back) next\n\n\n\u5177\u4f53\u4f8b\n\u6700\u521d\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u306b\u3042\u308b\u3088\u3046\u306b Advent Calendar / 2016 / Yesod Advent Calendar 2016 \u3068\u3044\u3046\u968e\u5c64\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5b9a\u7fa9\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\nconfig/route\n/advent-calendar            Route1R GET\n/advent-calendar/2016       Route2R GET\n/advent-calendar/2016/yesod Route3R GET\n\n\n\nFoundation.hs\nclass YesodBreadcrumbs App where\n  breadcrumb Route1R = return (\"Advent Calendar\", Nothing)\n  breadcrumb Route2R = return (\"2016\", Route1R)\n  breadcrumb Route3R = return (\"yesod\", Route2R)\n\n\n\u3042\u3068\u306f\u3001\u5b9f\u969b\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u306e\u90e8\u5206\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\ndefault-layout.hamlet\n<nav>\n  <ul>\n    $forall (pLink, pTitle) <- parents\n      <li>\n        <a href=@{pLink}>#{pTitle}\n        \\ / #\n    <li>\n      #{title}\n\n\n\u88dc\u8db3\u3067\u3059\u304c\u3001title \u3068 parents \u306f defaultLayout \u3067\u5ba3\u8a00\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nFoundation.hs\n...\n  (title, parents) <- breadcrumbs\n...\n\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n\n\u53c2\u8003\n\nyesod-core\n\n\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8\u3068\u3044\u3046\u306e\u306f\u82f1\u8a9e\u3067\u306f\u300cBreadcrumb\u300d\u3068\u547c\u3070\u308c\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u3053\u3068\u3092\u6307\u3057\u307e\u3059\u3002\n\n![Screen Shot 2016-12-27 at 12.06.06 AM.png](https://qiita-image-store.s3.amazonaws.com/0/46047/562d9467-0c9b-37fb-a126-b4c9f2cd4ef8.png)\n\n\u81ea\u5206\u304c\u4eca\u30b5\u30a4\u30c8\u306e\u3069\u3053\u306b\u5c45\u308b\u306e\u304b\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u4fbf\u5229\u3067\u3059\u3057\u3001SEO\u5bfe\u7b56\u306b\u3082\u610f\u5473\u304c\u3042\u308b\u3068\u8a00\u308f\u308c\u3066\u304a\u308a\u307e\u3059\u3002\n\nYesod \u3067\u306f\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\u304c\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u307e\u3059\u3002\u4eca\u56de\u306f\u305d\u308c\u3089\u306e\u4f7f\u3044\u65b9\u3092\u7c21\u5358\u306b\u898b\u3066\u3044\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u5b9a\u7fa9\n\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8\u306b\u95a2\u4fc2\u3059\u308b\u90e8\u5206\u306f\u4ee5\u4e0b\u306e2\u3064\u306e\u307f\u3067\u3059\u3002\n\n## YesodBreadcrumbs \u578b\u30af\u30e9\u30b9\n\n```haskell\nclass YesodBreadcrumbs site where\n    breadcrumb :: Route site -> Handler (Text , Maybe (Route site))\n```\n\n`breadcrumb` \u30e1\u30bd\u30c3\u30c9\u306f\u73fe\u5728\u306e\u30eb\u30fc\u30c8\u3092\u53d7\u3051\u53d6\u308a\u3001\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8\u306b\u8868\u793a\u3059\u308b\u30c6\u30ad\u30b9\u30c8 (\u73fe\u5728\u306e\u30eb\u30fc\u30c8) \u3068\u89aa\u306e\u30eb\u30fc\u30c8\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\u307e\u305f\u3001\u89aa\u306e\u30eb\u30fc\u30c8\u304c\u7121\u3044\u5834\u5408\u306f `Nothing` \u3092\u8fd4\u3057\u307e\u3059\u3002\n\n## breadcrumbs \u95a2\u6570\n\n`breadcrumb` \u3068\u540d\u524d\u304c\u975e\u5e38\u306b\u4f3c\u3066\u3044\u308b\u3001`breadcrumbs` \u95a2\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u95a2\u6570\u306f\u3001`YesodBreadcrumbs` \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308c\u3070\u81ea\u52d5\u7684\u306b\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u89aa\u306e\u30eb\u30fc\u30c8\u306e\u30ea\u30b9\u30c8\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n```haskell\nbreadcrumbs :: YesodBreadcrumbs site => HandlerT site IO (Text, [(Route site, Text)])\nbreadcrumbs = do\n    x <- getCurrentRoute\n    case x of\n        Nothing -> return (\"Not found\", [])\n        Just y -> do\n            (title, next) <- breadcrumb y\n            z <- go [] next\n            return (title, z)\n  where\n    go back Nothing = return back\n    go back (Just this) = do\n        (title, next) <- breadcrumb this\n        go ((this, title) : back) next\n```\n\n#\u5177\u4f53\u4f8b\n\n\u6700\u521d\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u306b\u3042\u308b\u3088\u3046\u306b `Advent Calendar / 2016 / Yesod Advent Calendar 2016` \u3068\u3044\u3046\u968e\u5c64\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5b9a\u7fa9\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\n```text:config/route\n/advent-calendar            Route1R GET\n/advent-calendar/2016       Route2R GET\n/advent-calendar/2016/yesod Route3R GET\n```\n\n```haskell:Foundation.hs\nclass YesodBreadcrumbs App where\n  breadcrumb Route1R = return (\"Advent Calendar\", Nothing)\n  breadcrumb Route2R = return (\"2016\", Route1R)\n  breadcrumb Route3R = return (\"yesod\", Route2R)\n```\n\n\u3042\u3068\u306f\u3001\u5b9f\u969b\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u306e\u90e8\u5206\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\n```haskell:default-layout.hamlet\n<nav>\n  <ul>\n    $forall (pLink, pTitle) <- parents\n      <li>\n        <a href=@{pLink}>#{pTitle}\n        \\ / #\n    <li>\n      #{title}\n```\n\n\u88dc\u8db3\u3067\u3059\u304c\u3001`title` \u3068 `parents` \u306f `defaultLayout` \u3067\u5ba3\u8a00\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```haskell:Foundation.hs\n...\n  (title, parents) <- breadcrumbs\n...\n```\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n\n\n#\u53c2\u8003\n * [yesod-core](http://hackage.haskell.org/package/yesod-core-1.4.30)\n", "tags": ["AdventCalendar", "yesod", "Haskell"]}