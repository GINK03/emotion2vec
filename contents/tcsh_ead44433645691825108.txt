{"tags": ["AWS", "AutoScaling", "aws-cli"], "context": "\n\n\u524d\u63d0\u6761\u4ef6\n\nAutoScaling\u3078\u306e\u6a29\u9650\nAutoScaling\u306b\u5bfe\u3057\u3066\u30d5\u30eb\u6a29\u9650\u304c\u3042\u308b\u3053\u3068\u3002\n\nEC2\u3078\u306e\u6a29\u9650\nEC2\u306b\u5bfe\u3057\u3066\u30d5\u30eb\u6a29\u9650\u304c\u3042\u308b\u3053\u3068\u3002\n\nAWS CLI\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\n\u4ee5\u4e0b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u52d5\u4f5c\u78ba\u8a8d\u6e08\n\nAWS CLI 1.10.58\n\n\n\u30b3\u30de\u30f3\u30c9\naws --version\n\n\n\u7d50\u679c(\u4f8b):\n  aws-cli/1.10.58 Python/2.7.11 Darwin/15.6.0 botocore/1.4.48\n\n\n0. \u6e96\u5099\n\n0.1. \u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6c7a\u5b9a\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nAWS_DEFAULT_REGION='ap-northeast-1'\n\n\n\n0.2. \u5909\u6570\u306e\u78ba\u8a8d:\n\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u304c\u60f3\u5b9a\u306e\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u5909\u6570\u306e\u78ba\u8a8d\naws configure list\n\n\n\u7d50\u679c(\u4f8b):\n        Name                    Value             Type    Location\n        ----                    -----             ----    --------\n     profile       ec2as_full-prjZ-mbp13        env    AWS_DEFAULT_PROFILE\n  access_key     ****************XXXX shared-credentials-file\n  secret_key     ****************XXXX shared-credentials-file\n      region        ap-northeast-1        env    AWS_DEFAULT_REGION\n\n\n0.3. AutoScaling\u30b0\u30eb\u30fc\u30d7\u540d\u306e\u6307\u5b9a\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nAS_GROUP_NAME=\"asgroup-handson-$(date +%Y%m%d)\" \\\n          && echo ${AS_GROUP_NAME}\n\n\n\n\u30b3\u30de\u30f3\u30c9\naws autoscaling describe-auto-scaling-groups \\\n        --auto-scaling-group-names ${AS_GROUP_NAME}\n\n\n\u7d50\u679c(\u4f8b):\n  {\n    \"AutoScalingGroups\": [\n      {\n          \"AutoScalingGroupARN\": \"arn:aws:autoscaling:ap-northeast-1:XXXXXXXXXXXX:autoScalingGroup:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx:autoScalingGroupName/asgroup-handson-20160829\",\n          \"HealthCheckGracePeriod\": 0,\n          \"SuspendedProcesses\": [],\n          \"DesiredCapacity\": 11,\n          \"Tags\": [],\n          \"EnabledMetrics\": [],\n          \"LoadBalancerNames\": [],\n          \"AutoScalingGroupName\": \"asgroup-handson-20160829\",\n          \"DefaultCooldown\": 300,\n          \"MinSize\": |AS_GROUP_MIN|,\n          \"Instances\": [\n              {\n                  \"InstanceId\": \"i-xxxxxxxx\",\n                  \"AvailabilityZone\": \"ap-northeast-1\",\n                  \"HealthStatus\": \"Healthy\",\n                  \"LifecycleState\": \"InService\",\n                  \"LaunchConfigurationName\": \"launchcongig-handson-20160829\"\n              }\n          ],\n          \"MaxSize\": 2,\n          \"VPCZoneIdentifier\": \"subnet-xxxxxxxx\",\n          \"TerminationPolicies\": [\n              \"Default\"\n          ],\n          \"LaunchConfigurationName\": \"launchcongig-handson-20160829\",\n          \"CreatedTime\": \"2015-08-01T01:23:45.678Z\",\n          \"AvailabilityZones\": [\n              \"ap-northeast-1a\"\n          ],\n          \"HealthCheckType\": \"EC2\"\n      }\n    ]\n  }\n\n\n1. \u4e8b\u524d\u4f5c\u696d\n\n1.1. \u7a3c\u52d5\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u78ba\u8a8d\n\u540c\u4e00\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nEC2_INSTANCE_STATUS='running'\n\n\n\n\u30b3\u30de\u30f3\u30c9\naws ec2 describe-instances \\\n        --filters Name=instance-state-name,Values=${EC2_INSTANCE_STATUS} \\\n        --query 'Reservations[].Instances[].InstanceId'\n\n\n\u7d50\u679c(\u4f8b):\n  i-xxxxxxxx\n\n\n\u30b3\u30de\u30f3\u30c9\naws autoscaling describe-auto-scaling-instances \n\n\n\u7d50\u679c(\u4f8b):\n  {\n    \"AutoScalingInstances\": [\n      {\n          \"AvailabilityZone\": \"ap-northeast-1a\",\n          \"InstanceId\": \"i-xxxxxxxx\",\n          \"AutoScalingGroupName\": \"asgroup-handson-20160829\",\n          \"HealthStatus\": \"HEALTHY\",\n          \"LifecycleState\": \"InService\",\n          \"LaunchConfigurationName\": \"launchcongig-handson-20160829\"\n      }\n    ]\n  }\n\n\n1.2. AutoScaling\u30b0\u30eb\u30fc\u30d7\u540d\u306e\u6700\u5c0f\u5024\u5909\u66f4\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nAS_GROUP_MIN='0'\n\n\n\n\u5909\u6570\u306e\u78ba\u8a8d\ncat << ETX\n\n        AS_GROUP_NAME: ${AS_GROUP_NAME}\n        AS_GROUP_MIN:  ${AS_GROUP_MIN}\n\nETX\n\n\n\n\u30b3\u30de\u30f3\u30c9\naws autoscaling update-auto-scaling-group \\\n        --auto-scaling-group-name ${AS_GROUP_NAME} \\\n        --min-size ${AS_GROUP_MIN}\n\n\n\u7d50\u679c(\u4f8b):\n  (\u623b\u308a\u5024\u306a\u3057)\n\n\n\u30b3\u30de\u30f3\u30c9\nAS_GROUP_MIN=$( \\\n        aws autoscaling describe-auto-scaling-groups \\\n          --auto-scaling-group-names ${AS_GROUP_NAME} \\\n          --query 'AutoScalingGroups[].MinSize' \\\n          --output text \\\n) && echo ${AS_GROUP_MIN}\n\n\n\u7d50\u679c(\u4f8b):\n  0\n\n\n1.3. AutoScaling\u30b0\u30eb\u30fc\u30d7\u540d\u306e\u7a3c\u52d5\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570\u306e\u5909\u66f4\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nAS_DESIRED_CAPACITY=0\n\n\n\n\u5909\u6570\u306e\u78ba\u8a8d\ncat << ETX\n\n        AS_GROUP_NAME:       ${AS_GROUP_NAME}\n        AS_DESIRED_CAPACITY: ${AS_DESIRED_CAPACITY}\n\nETX\n\n\n\n\u30b3\u30de\u30f3\u30c9\naws autoscaling set-desired-capacity \\\n        --auto-scaling-group-name ${AS_GROUP_NAME} \\\n        --desired-capacity ${AS_DESIRED_CAPACITY}\n\n\n\u7d50\u679c(\u4f8b):\n  (\u623b\u308a\u5024\u306a\u3057)\n\n\n\u30b3\u30de\u30f3\u30c9\nAS_DESIRED_CAPACITY=$( \\\n        aws autoscaling describe-auto-scaling-groups \\\n          --auto-scaling-group-names ${AS_GROUP_NAME} \\\n          --query 'AutoScalingGroups[].DesiredCapacity' \\\n          --output text \\\n) && echo ${AS_DESIRED_CAPACITY}\n\n\n\u7d50\u679c(\u4f8b):\n  0\n\n\n1.4. activity\u306e\u78ba\u8a8d\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nMAX_ITEMS='1'\n\n\n\n\u30b3\u30de\u30f3\u30c9\naws autoscaling describe-scaling-activities \\\n        --auto-scaling-group-name ${AS_GROUP_NAME} \\\n        --max-items ${MAX_ITEMS}\n\n\n\u7d50\u679c(\u4f8b):\n  {\n    \"Activities\": [\n      {\n          \"Description\": \"Terminating EC2 instance: i-xxxxxxxx\",\n          \"AutoScalingGroupName\": \"asgroup-handson-20160829\",\n          \"ActivityId\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\",\n          \"Details\": \"{\"Subnet ID\":\"subnet-xxxxxxxx\",\"Availability Zone\":\"ap-northeast-1b\"}\",\n          \"StartTime\": \"2016-08-29T01:23:45.678Z\",\n          \"Progress\": 100,\n          \"EndTime\": \"2016-08-29T01:23:45Z\",\n          \"Cause\": \"At 2016-08-29T01:23:45Z a user request explicitly set group desired capacity changing the desired capacity from 1 to 0.  At 2016-08-29T01:23:45Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 1 to 0.  At 2016-08-29T01:23:45Z instance i-xxxxxxxx was selected for termination.\",\n          \"StatusCode\": \"Successful\"\n      }\n    ],\n    \"NextToken\": \"eyJOZXh0VG9rZW4iOiBudWxsLCAiYm90b190cnVuY2F0ZV9hbW91bnQiOiAxfQ==\"\n  }\n\n\n1.5. \u7a3c\u52d5\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\nAS_GROUP_INSTANCES=$( \\\n        aws autoscaling describe-auto-scaling-groups \\\n          --auto-scaling-group-names ${AS_GROUP_NAME} \\\n          --query 'AutoScalingGroups[].Instances' \\\n          --output text \\\n) && echo ${AS_GROUP_INSTANCES}\n\n\n\u7d50\u679c(\u4f8b):\n  (\u623b\u308a\u5024\u306a\u3057)\n\n\n\u30b3\u30de\u30f3\u30c9\naws autoscaling describe-auto-scaling-instances \n\n\n\u7d50\u679c(\u4f8b):\n  {\n      \"AutoScalingInstances\": []\n  }\n\n\n2. AutoScaling\u30b0\u30eb\u30fc\u30d7\u306e\u524a\u9664\n\n2.1. AutoScaling\u30b0\u30eb\u30fc\u30d7\u306e\u524a\u9664\n\n\u5909\u6570\u306e\u78ba\u8a8d\ncat << ETX\n\n        AS_GROUP_NAME: ${AS_GROUP_NAME}\n\nETX\n\n\n\n\u30b3\u30de\u30f3\u30c9\naws autoscaling delete-auto-scaling-group \\\n        --auto-scaling-group-name ${AS_GROUP_NAME}\n\n\n\u7d50\u679c:\n  (\u623b\u308a\u5024\u306a\u3057)\n\n\n2.2. AutoScaling\u30b0\u30eb\u30fc\u30d7\u306e\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\naws autoscaling describe-auto-scaling-groups \\\n        --auto-scaling-group-names ${AS_GROUP_NAME} \\\n        --query 'AutoScalingGroups[].Status' \\\n        --output text\n\n\n\u7d50\u679c(\u4f8b):\n  Delete in progress\"\n\n\n2.3. Scaling\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u306e\u78ba\u8a8d\nValidationError\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\naws autoscaling describe-scaling-activities \\\n        --auto-scaling-group-name ${AS_GROUP_NAME}\n\n\n\u7d50\u679c(\u4f8b):\n  A client error (ValidationError) occurred when calling the DescribeScalingActivities operation: AutoScalingGroup name not found - AutoScalingGroup asgroup-handson-20160829not found\n\n\n\u5b8c\u4e86\n\n\n\n\u524d\u63d0\u6761\u4ef6\n========\n\n\nAutoScaling\u3078\u306e\u6a29\u9650\n-------------------\n\nAutoScaling\u306b\u5bfe\u3057\u3066\u30d5\u30eb\u6a29\u9650\u304c\u3042\u308b\u3053\u3068\u3002\n\n\nEC2\u3078\u306e\u6a29\u9650\n-----------\n\nEC2\u306b\u5bfe\u3057\u3066\u30d5\u30eb\u6a29\u9650\u304c\u3042\u308b\u3053\u3068\u3002\n\n\nAWS CLI\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\n-------------------\n\n\u4ee5\u4e0b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u52d5\u4f5c\u78ba\u8a8d\u6e08\n\n* AWS CLI 1.10.58\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws --version\n```\n\n\u7d50\u679c(\u4f8b):\n\n      aws-cli/1.10.58 Python/2.7.11 Darwin/15.6.0 botocore/1.4.48\n\n\n0. \u6e96\u5099\n=======\n\n\n0.1. \u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6c7a\u5b9a\n---------------------\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a:\nAWS_DEFAULT_REGION='ap-northeast-1'\n```\n\n\n0.2. \u5909\u6570\u306e\u78ba\u8a8d:\n----------------\n\n\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u304c\u60f3\u5b9a\u306e\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash:\u5909\u6570\u306e\u78ba\u8a8d:\naws configure list\n```\n\n\u7d50\u679c(\u4f8b):\n\n            Name                    Value             Type    Location\n            ----                    -----             ----    --------\n         profile       ec2as_full-prjZ-mbp13        env    AWS_DEFAULT_PROFILE\n      access_key     ****************XXXX shared-credentials-file\n      secret_key     ****************XXXX shared-credentials-file\n          region        ap-northeast-1        env    AWS_DEFAULT_REGION\n\n\n0.3. AutoScaling\u30b0\u30eb\u30fc\u30d7\u540d\u306e\u6307\u5b9a\n--------------------------------\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a:\nAS_GROUP_NAME=\"asgroup-handson-$(date +%Y%m%d)\" \\\n          && echo ${AS_GROUP_NAME}\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws autoscaling describe-auto-scaling-groups \\\n        --auto-scaling-group-names ${AS_GROUP_NAME}\n```\n\n\u7d50\u679c(\u4f8b):\n\n      {\n        \"AutoScalingGroups\": [\n          {\n              \"AutoScalingGroupARN\": \"arn:aws:autoscaling:ap-northeast-1:XXXXXXXXXXXX:autoScalingGroup:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx:autoScalingGroupName/asgroup-handson-20160829\",\n              \"HealthCheckGracePeriod\": 0,\n              \"SuspendedProcesses\": [],\n              \"DesiredCapacity\": 11,\n              \"Tags\": [],\n              \"EnabledMetrics\": [],\n              \"LoadBalancerNames\": [],\n              \"AutoScalingGroupName\": \"asgroup-handson-20160829\",\n              \"DefaultCooldown\": 300,\n              \"MinSize\": |AS_GROUP_MIN|,\n              \"Instances\": [\n                  {\n                      \"InstanceId\": \"i-xxxxxxxx\",\n                      \"AvailabilityZone\": \"ap-northeast-1\",\n                      \"HealthStatus\": \"Healthy\",\n                      \"LifecycleState\": \"InService\",\n                      \"LaunchConfigurationName\": \"launchcongig-handson-20160829\"\n                  }\n              ],\n              \"MaxSize\": 2,\n              \"VPCZoneIdentifier\": \"subnet-xxxxxxxx\",\n              \"TerminationPolicies\": [\n                  \"Default\"\n              ],\n              \"LaunchConfigurationName\": \"launchcongig-handson-20160829\",\n              \"CreatedTime\": \"2015-08-01T01:23:45.678Z\",\n              \"AvailabilityZones\": [\n                  \"ap-northeast-1a\"\n              ],\n              \"HealthCheckType\": \"EC2\"\n          }\n        ]\n      }\n\n\n1. \u4e8b\u524d\u4f5c\u696d\n===========\n\n\n1.1. \u7a3c\u52d5\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u78ba\u8a8d\n---------------------------\n\n\u540c\u4e00\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a:\nEC2_INSTANCE_STATUS='running'\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws ec2 describe-instances \\\n        --filters Name=instance-state-name,Values=${EC2_INSTANCE_STATUS} \\\n        --query 'Reservations[].Instances[].InstanceId'\n```\n\n\u7d50\u679c(\u4f8b):\n\n      i-xxxxxxxx\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws autoscaling describe-auto-scaling-instances \n```\n\n\u7d50\u679c(\u4f8b):\n\n      {\n        \"AutoScalingInstances\": [\n          {\n              \"AvailabilityZone\": \"ap-northeast-1a\",\n              \"InstanceId\": \"i-xxxxxxxx\",\n              \"AutoScalingGroupName\": \"asgroup-handson-20160829\",\n              \"HealthStatus\": \"HEALTHY\",\n              \"LifecycleState\": \"InService\",\n              \"LaunchConfigurationName\": \"launchcongig-handson-20160829\"\n          }\n        ]\n      }\n\n\n1.2. AutoScaling\u30b0\u30eb\u30fc\u30d7\u540d\u306e\u6700\u5c0f\u5024\u5909\u66f4\n--------------------------------------\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a:\nAS_GROUP_MIN='0'\n```\n\n```bash:\u5909\u6570\u306e\u78ba\u8a8d:\ncat << ETX\n\n        AS_GROUP_NAME: ${AS_GROUP_NAME}\n        AS_GROUP_MIN:  ${AS_GROUP_MIN}\n\nETX\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws autoscaling update-auto-scaling-group \\\n        --auto-scaling-group-name ${AS_GROUP_NAME} \\\n        --min-size ${AS_GROUP_MIN}\n```\n\n\u7d50\u679c(\u4f8b):\n\n      (\u623b\u308a\u5024\u306a\u3057)\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nAS_GROUP_MIN=$( \\\n        aws autoscaling describe-auto-scaling-groups \\\n          --auto-scaling-group-names ${AS_GROUP_NAME} \\\n          --query 'AutoScalingGroups[].MinSize' \\\n          --output text \\\n) && echo ${AS_GROUP_MIN}\n```\n\n\u7d50\u679c(\u4f8b):\n\n      0\n\n\n1.3. AutoScaling\u30b0\u30eb\u30fc\u30d7\u540d\u306e\u7a3c\u52d5\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570\u306e\u5909\u66f4\n----------------------------------------------------\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a:\nAS_DESIRED_CAPACITY=0\n```\n\n```bash:\u5909\u6570\u306e\u78ba\u8a8d:\ncat << ETX\n\n        AS_GROUP_NAME:       ${AS_GROUP_NAME}\n        AS_DESIRED_CAPACITY: ${AS_DESIRED_CAPACITY}\n\nETX\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws autoscaling set-desired-capacity \\\n        --auto-scaling-group-name ${AS_GROUP_NAME} \\\n        --desired-capacity ${AS_DESIRED_CAPACITY}\n```\n\n\u7d50\u679c(\u4f8b):\n\n      (\u623b\u308a\u5024\u306a\u3057)\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nAS_DESIRED_CAPACITY=$( \\\n        aws autoscaling describe-auto-scaling-groups \\\n          --auto-scaling-group-names ${AS_GROUP_NAME} \\\n          --query 'AutoScalingGroups[].DesiredCapacity' \\\n          --output text \\\n) && echo ${AS_DESIRED_CAPACITY}\n```\n\n\u7d50\u679c(\u4f8b):\n\n      0\n\n\n1.4. activity\u306e\u78ba\u8a8d\n-------------------\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a:\nMAX_ITEMS='1'\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws autoscaling describe-scaling-activities \\\n        --auto-scaling-group-name ${AS_GROUP_NAME} \\\n        --max-items ${MAX_ITEMS}\n```\n\n\u7d50\u679c(\u4f8b):\n\n      {\n        \"Activities\": [\n          {\n              \"Description\": \"Terminating EC2 instance: i-xxxxxxxx\",\n              \"AutoScalingGroupName\": \"asgroup-handson-20160829\",\n              \"ActivityId\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\",\n              \"Details\": \"{\"Subnet ID\":\"subnet-xxxxxxxx\",\"Availability Zone\":\"ap-northeast-1b\"}\",\n              \"StartTime\": \"2016-08-29T01:23:45.678Z\",\n              \"Progress\": 100,\n              \"EndTime\": \"2016-08-29T01:23:45Z\",\n              \"Cause\": \"At 2016-08-29T01:23:45Z a user request explicitly set group desired capacity changing the desired capacity from 1 to 0.  At 2016-08-29T01:23:45Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 1 to 0.  At 2016-08-29T01:23:45Z instance i-xxxxxxxx was selected for termination.\",\n              \"StatusCode\": \"Successful\"\n          }\n        ],\n        \"NextToken\": \"eyJOZXh0VG9rZW4iOiBudWxsLCAiYm90b190cnVuY2F0ZV9hbW91bnQiOiAxfQ==\"\n      }\n\n\n1.5. \u7a3c\u52d5\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u78ba\u8a8d\n---------------------------\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nAS_GROUP_INSTANCES=$( \\\n        aws autoscaling describe-auto-scaling-groups \\\n          --auto-scaling-group-names ${AS_GROUP_NAME} \\\n          --query 'AutoScalingGroups[].Instances' \\\n          --output text \\\n) && echo ${AS_GROUP_INSTANCES}\n```\n\n\u7d50\u679c(\u4f8b):\n\n      (\u623b\u308a\u5024\u306a\u3057)\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws autoscaling describe-auto-scaling-instances \n```\n\n\u7d50\u679c(\u4f8b):\n\n      {\n          \"AutoScalingInstances\": []\n      }\n\n\n2. AutoScaling\u30b0\u30eb\u30fc\u30d7\u306e\u524a\u9664\n============================\n\n\n2.1. AutoScaling\u30b0\u30eb\u30fc\u30d7\u306e\u524a\u9664\n------------------------------\n\n```bash:\u5909\u6570\u306e\u78ba\u8a8d:\ncat << ETX\n\n        AS_GROUP_NAME: ${AS_GROUP_NAME}\n\nETX\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws autoscaling delete-auto-scaling-group \\\n        --auto-scaling-group-name ${AS_GROUP_NAME}\n```\n\n\u7d50\u679c:\n\n      (\u623b\u308a\u5024\u306a\u3057)\n\n\n2.2. AutoScaling\u30b0\u30eb\u30fc\u30d7\u306e\u78ba\u8a8d\n------------------------------\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws autoscaling describe-auto-scaling-groups \\\n        --auto-scaling-group-names ${AS_GROUP_NAME} \\\n        --query 'AutoScalingGroups[].Status' \\\n        --output text\n```\n\n\u7d50\u679c(\u4f8b):\n\n      Delete in progress\"\n\n\n2.3. Scaling\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u306e\u78ba\u8a8d\n--------------------------------\n\nValidationError\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws autoscaling describe-scaling-activities \\\n        --auto-scaling-group-name ${AS_GROUP_NAME}\n```\n\n\u7d50\u679c(\u4f8b):\n\n      A client error (ValidationError) occurred when calling the DescribeScalingActivities operation: AutoScalingGroup name not found - AutoScalingGroup asgroup-handson-20160829not found\n\n\n\u5b8c\u4e86\n====\n"}