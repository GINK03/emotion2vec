{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nvagrant\u3067ubuntu13.10\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001\u305d\u306e\u4e0a\u3067\u30c6\u30b9\u30c8\u3057\u307e\u3057\u305f\u3002\n\n\u307e\u305a\u306fPython3.3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get install libsqlite3-dev\nsudo apt-get install sqlite3 # for the command-line client\nsudo apt-get install bzip2 libbz2-dev\n\nwget http://python.org/ftp/python/3.3.3/Python-3.3.3.tar.bz2\ntar jxf Python-3.3.3.tar.bz2\n./configure --prefix=/opt/python3.3\nmake\nsudo make install\n\nsudo ln -s /opt/python3.3/bin/python3.3 /usr/bin/python\n\nwget https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py\nsudo python3.3 ez_setup.py\nsudo easy_install pip\n\n\nLXC\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get -y install lxc\nsudo apt-get -y install lxctl\n\n\nPython\u306e\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\u304b\u3089LXC\u306e\u4eee\u60f3\u30b3\u30f3\u30c6\u30ca\u3092\u64cd\u4f5c\u3057\u3066\u307f\u308b\nsudo python3\n\nimport lxc\nc=lxc.Container(\"C\")\nc.create(\"ubuntu\")\n\n# \u6210\u529f\u3059\u308b\u3068\u6700\u5f8c\u306b\u3053\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u307e\u3059\u3002\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u9014\u4e2d\u3067\u5931\u6557\u3057\u305f\u3089create\u304b\u3089\u3084\u308a\u76f4\u305b\u3070\u6210\u529f\u3057\u307e\u3059\u3002\nProcessing triggers for ureadahead ...\nCan not write log, openpty() failed (/dev/pts not mounted?)\nSetting up libdrm2:i386 (2.4.46-1ubuntu1) ...\nSetting up libprocps0:i386 (1:3.3.3-2ubuntu9) ...\nSetting up libudev1:i386 (204-0ubuntu19) ...\nSetting up udev (204-0ubuntu19) ...\ninvoke-rc.d: policy-rc.d denied execution of restart.\nRemoving 'diversion of /bin/udevadm to /bin/udevadm.upgrade by fake-udev'\nupdate-initramfs: deferring update (trigger activated)\nSetting up initramfs-tools-bin (0.103ubuntu1.1) ...\nSetting up initramfs-tools (0.103ubuntu1.1) ...\nupdate-initramfs: deferring update (trigger activated)\nSetting up procps (1:3.3.3-2ubuntu9) ...\ninvoke-rc.d: policy-rc.d denied execution of start.\nSetting up openssh-client (1:6.2p2-6ubuntu0.1) ...\nSetting up openssh-server (1:6.2p2-6ubuntu0.1) ...\ninvoke-rc.d: policy-rc.d denied execution of restart.\nSetting up ssh (1:6.2p2-6ubuntu0.1) ...\nProcessing triggers for libc-bin ...\nProcessing triggers for initramfs-tools ...\nDownload complete\nCopy /var/cache/lxc/saucy/rootfs-i386 to /usr/lib/i386-linux-gnu/lxc ... \nCopying rootfs to /usr/lib/i386-linux-gnu/lxc ...\nGenerating locales...\n  en_US.UTF-8... up-to-date\nGeneration complete.\nCreating SSH2 RSA key; this may take some time ...\nCreating SSH2 DSA key; this may take some time ...\nCreating SSH2 ECDSA key; this may take some time ...\ninvoke-rc.d: policy-rc.d denied execution of start.\n\n##\n# The default user is 'ubuntu' with password 'ubuntu'!\n# Use the 'sudo' command to run tasks as root in the container.\n##\n\n# \u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3059\u308b\nc.start()\n\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240\nc.config_file_name\n'/var/lib/lxc/C/config'\n\n# \u30b3\u30f3\u30c6\u30ca\u306e\u4e00\u89a7\nlxc.list_containers()\n['C']\n\n# \u8a2d\u5b9a\u306e\u66f8\u304d\u8fbc\u307f\nc.append_config_item(\"lxc.network.ipv4\", \"192.168.1.10/24\")\nc.append_config_item(\"lxc.network.ipv4.gateway\", \"192.168.1.1\")\nc.save_config()\n\n# IP\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d\nc.get_ips()\n\n# \u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30a2\u30bf\u30c3\u30c1\u3059\u308b\u3002\nc.console()\n\n\u3053\u306e\u3088\u3046\u306a\u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\u3002\n  Ubuntu 13.10 C tty1\n\n  C login: \n  Password: \n\n\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u306fubuntu\u3067\u3059\u3002\nCtrl-a q\u3067python\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u306b\u623b\u308a\u307e\u3059\u3002\n\u4ee5\u4e0b\u3001\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u306e\u7d9a\u304d\u3002\n\n# \u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002\nclone = lxc.Container(\"CLONE_NAME\")\nclone.clone(c)\nclone.start()\nclone.stop()\nclone.destroy()\n\n# \u7834\u68c4\u3057\u3066\u7d42\u4e86\nc.destroy()\n\n\u3082\u3046\u5c11\u3057\u8a73\u3057\u3044\u30b5\u30f3\u30d7\u30eb\u306f\u3053\u3061\u3089\u306b\u8f09\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u662f\u975e\u53c2\u8003\u306b\u3002\nhttps://github.com/lxc/lxc/blob/master/src/python-lxc/examples/api_test.py\n##\u6982\u8981\nvagrant\u3067ubuntu13.10\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001\u305d\u306e\u4e0a\u3067\u30c6\u30b9\u30c8\u3057\u307e\u3057\u305f\u3002\n\n##  \u307e\u305a\u306fPython3.3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```Bash\nsudo apt-get install libsqlite3-dev\nsudo apt-get install sqlite3 # for the command-line client\nsudo apt-get install bzip2 libbz2-dev\n\nwget http://python.org/ftp/python/3.3.3/Python-3.3.3.tar.bz2\ntar jxf Python-3.3.3.tar.bz2\n./configure --prefix=/opt/python3.3\nmake\nsudo make install\n\nsudo ln -s /opt/python3.3/bin/python3.3 /usr/bin/python\n\nwget https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py\nsudo python3.3 ez_setup.py\nsudo easy_install pip\n```\n\n## LXC\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```Bash\nsudo apt-get -y install lxc\nsudo apt-get -y install lxctl\n```\n\n## Python\u306e\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\u304b\u3089LXC\u306e\u4eee\u60f3\u30b3\u30f3\u30c6\u30ca\u3092\u64cd\u4f5c\u3057\u3066\u307f\u308b\n```Bash\nsudo python3\n```\n\n```Python\nimport lxc\nc=lxc.Container(\"C\")\nc.create(\"ubuntu\")\n\n# \u6210\u529f\u3059\u308b\u3068\u6700\u5f8c\u306b\u3053\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u307e\u3059\u3002\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u9014\u4e2d\u3067\u5931\u6557\u3057\u305f\u3089create\u304b\u3089\u3084\u308a\u76f4\u305b\u3070\u6210\u529f\u3057\u307e\u3059\u3002\nProcessing triggers for ureadahead ...\nCan not write log, openpty() failed (/dev/pts not mounted?)\nSetting up libdrm2:i386 (2.4.46-1ubuntu1) ...\nSetting up libprocps0:i386 (1:3.3.3-2ubuntu9) ...\nSetting up libudev1:i386 (204-0ubuntu19) ...\nSetting up udev (204-0ubuntu19) ...\ninvoke-rc.d: policy-rc.d denied execution of restart.\nRemoving 'diversion of /bin/udevadm to /bin/udevadm.upgrade by fake-udev'\nupdate-initramfs: deferring update (trigger activated)\nSetting up initramfs-tools-bin (0.103ubuntu1.1) ...\nSetting up initramfs-tools (0.103ubuntu1.1) ...\nupdate-initramfs: deferring update (trigger activated)\nSetting up procps (1:3.3.3-2ubuntu9) ...\ninvoke-rc.d: policy-rc.d denied execution of start.\nSetting up openssh-client (1:6.2p2-6ubuntu0.1) ...\nSetting up openssh-server (1:6.2p2-6ubuntu0.1) ...\ninvoke-rc.d: policy-rc.d denied execution of restart.\nSetting up ssh (1:6.2p2-6ubuntu0.1) ...\nProcessing triggers for libc-bin ...\nProcessing triggers for initramfs-tools ...\nDownload complete\nCopy /var/cache/lxc/saucy/rootfs-i386 to /usr/lib/i386-linux-gnu/lxc ... \nCopying rootfs to /usr/lib/i386-linux-gnu/lxc ...\nGenerating locales...\n  en_US.UTF-8... up-to-date\nGeneration complete.\nCreating SSH2 RSA key; this may take some time ...\nCreating SSH2 DSA key; this may take some time ...\nCreating SSH2 ECDSA key; this may take some time ...\ninvoke-rc.d: policy-rc.d denied execution of start.\n\n##\n# The default user is 'ubuntu' with password 'ubuntu'!\n# Use the 'sudo' command to run tasks as root in the container.\n##\n\n# \u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3059\u308b\nc.start()\n\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240\nc.config_file_name\n'/var/lib/lxc/C/config'\n\n# \u30b3\u30f3\u30c6\u30ca\u306e\u4e00\u89a7\nlxc.list_containers()\n['C']\n\n# \u8a2d\u5b9a\u306e\u66f8\u304d\u8fbc\u307f\nc.append_config_item(\"lxc.network.ipv4\", \"192.168.1.10/24\")\nc.append_config_item(\"lxc.network.ipv4.gateway\", \"192.168.1.1\")\nc.save_config()\n\n# IP\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d\nc.get_ips()\n\n# \u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30a2\u30bf\u30c3\u30c1\u3059\u308b\u3002\nc.console()\n```\n\n\u3053\u306e\u3088\u3046\u306a\u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\u3002\n\n```bash\n  Ubuntu 13.10 C tty1\n\n  C login: \n  Password: \n```\n\n\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u306fubuntu\u3067\u3059\u3002\nCtrl-a q\u3067python\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u306b\u623b\u308a\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u3001\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u306e\u7d9a\u304d\u3002\n\n```Python\n\n# \u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002\nclone = lxc.Container(\"CLONE_NAME\")\nclone.clone(c)\nclone.start()\nclone.stop()\nclone.destroy()\n\n# \u7834\u68c4\u3057\u3066\u7d42\u4e86\nc.destroy()\n```\n\n\n\u3082\u3046\u5c11\u3057\u8a73\u3057\u3044\u30b5\u30f3\u30d7\u30eb\u306f\u3053\u3061\u3089\u306b\u8f09\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u662f\u975e\u53c2\u8003\u306b\u3002\nhttps://github.com/lxc/lxc/blob/master/src/python-lxc/examples/api_test.py\n\n", "tags": ["Python", "lxc"]}