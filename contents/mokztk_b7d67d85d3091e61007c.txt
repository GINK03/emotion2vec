{"context": "\n\n\u52d5\u6a5f\n\u6570\u5e74\u524d\u306b\u4f5c\u6210\u3057\u305fR\u30b9\u30af\u30ea\u30d7\u30c8\u3084Rmarkdown\u30d5\u30a1\u30a4\u30eb\u3092\u6301\u3061\u51fa\u3057\u3066\u304d\u3066\u73fe\u5728\u306e\u74b0\u5883\u3067\u5b9f\u884c\u3059\u308b\u3068\u3001\u5f53\u6642\u554f\u984c\u306a\u304b\u3063\u305f\u306f\u305a\u306e\u30b3\u30fc\u30c9\u304c\u601d\u3046\u3088\u3046\u306b\u52d5\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u518d\u5229\u7528\u3059\u308b\u306a\u3089\u53e4\u3044\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u76f4\u3059\u3053\u3068\u304c\u671b\u307e\u3057\u3044\u3067\u3059\u304c\u3001\u691c\u8a3c\u76ee\u7684\u306e\u5834\u5408\u306a\u3069\u3001\u6539\u5909\u3057\u305f\u304f\u306a\u3044 or \u3067\u304d\u306a\u3044\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\u304b\u3068\u3044\u3063\u3066\u3001\u73fe\u5728\u4f7f\u3063\u3066\u3044\u308b\u89e3\u6790\u74b0\u5883\u3067R\u672c\u4f53\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f9d\u5b58\u95a2\u4fc2\u3092\u542b\u3081\u3066\u5165\u308c\u66ff\u3048\u308b\u306e\u306f\u5927\u5909\u3067\u3059\u3057\u3001\u4ed6\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u89e3\u6790\u306b\u3082\u5f71\u97ff\u304c\u51fa\u3066\u3057\u307e\u3046\u6050\u308c\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u3084\u308a\u305f\u3044\u3053\u3068\n\u300c\u304b\u3089\u3060\u306b\u3044\u3044\u3082\u306e\u300d\u3067\u7d39\u4ecb\u3055\u308c\u3066\u3044\u305f {versions} \u30d1\u30c3\u30b1\u30fc\u30b8\u306eCRAN\u30da\u30fc\u30b8\u3092\u8aad\u3093\u3067\u3001 Microsoft R Open\u306e\u30b5\u30a4\u30c8 Microsoft R Application Network (MRAN) \u306b\u306f\u3001\u6bce\u65e5\u306eCRAN\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u77e5\u308a\u307e\u3057\u305f\u3002\n\u305d\u3053\u304b\u3089R\u672c\u4f53\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308c\u3070\u3001\u4efb\u610f\u306e\u6642\u70b9\uff08\u305f\u3060\u30572014\u5e749\u670817\u65e5\u4ee5\u964d\uff09\u306b\u304a\u3051\u308b\u6700\u65b0\u306eR\u74b0\u5883\u304c\u518d\u73fe\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\n\u305d\u3053\u3067\u3001Vagrant\u3067\u30ed\u30fc\u30ab\u30eb\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u306bRStudioServer\u74b0\u5883\u3092\u4f5c\u308b \u3092\u53c2\u8003\u306b\u4eee\u60f3\u74b0\u5883\u306b\u904e\u53bb\u306eR\u74b0\u5883\u3092\u518d\u73fe\u3059\u308b\u3053\u3068\u3092\u8003\u3048\u307e\u3057\u305f\u3002\n\n\u5b9f\u884c\u74b0\u5883\n\u3053\u306e\u8a18\u4e8b\u306f\u3001\u4ee5\u4e0b\u306e\u74b0\u5883\u3067\u69cb\u7bc9\u3057\u305f\u969b\u306e\u8a18\u9332\u3067\u3059\u3002\n\nWindows 10 Professional 64bit\nOracle VM VirtualBox 5.1.2 r108956\nVagrant 1.9.1\nGit for Windows 2.10.1\n\n\u30d9\u30fc\u30b9\u306b\u306a\u308bVagrant box\u306f\u3001\u4e0a\u8a18\u30da\u30fc\u30b8\u306b\u5023\u3063\u3066 \"ubuntu/trusty64\"\uff08ubuntu \u516c\u5f0f\u306e Ubuntu Server 14.04 LTS \u30a4\u30e1\u30fc\u30b8\uff09\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u624b\u9806\n\u914d\u5e03\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u542b\u307e\u308c\u3066\u3044\u308bWindows\u7248R\u3068\u7570\u306a\u308a\u3001Ubuntu\u3067\u306fCRAN\u306b\u3042\u308b\u73fe\u6642\u70b9\u306e\u6700\u65b0\u7248\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u305f\u3081\u3001R\u3068\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5165\u624b\u5143\u306bMRAN\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u5229\u7528\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f 2016-04-01\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8 \u304b\u3089\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3057\u305f\u3002\n\n1. VirtualBox\u3068Vagrant\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u305d\u308c\u305e\u308c\u306e\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089\u914d\u5e03\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u624b\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff08\u8981\u518d\u8d77\u52d5\uff09\u3002\n\nOracle VM VirtualBox : https://www.virtualbox.org/\n\nVagrant :              https://www.vagrantup.com/\n\n\n\n2. Ubuntu Server\u306e\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\n\n2-1. \u30bf\u30fc\u30df\u30ca\u30eb\u306e\u6e96\u5099\n\u4eca\u56de\u306f\u3001Git for Windows \u306e Git Bash (MINGW32/mintty) \u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002\n\u3053\u308c\u306b\u306f\u3001ssh\u63a5\u7d9a\u306b\u5fc5\u8981\u306a\u30c4\u30fc\u30eb\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u307e\u307e\u64cd\u4f5c\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u3002\nVagrant\u81ea\u4f53\u306fWindows\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\uff08cmd.exe\uff09\u304b\u3089\u64cd\u4f5c\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001Ubuntu\u74b0\u5883\u306e\u8a2d\u5b9a\u306b\u306f\u5225\u9014ssh\u63a5\u7d9a\u306e\u305f\u3081\u306e\u30c4\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059\u3002\u4e00\u6642\u7684\u306a\u8a2d\u5b9a\u3067\u3042\u308c\u3070\u5f8c\u8ff0\u306e\u65b9\u6cd5\u3067\u3057\u306e\u3050\u3053\u3068\u306f\u3067\u304d\u307e\u3059\u3002\n\n2-2. Vagrant box\u306e\u5165\u624b\nGit Bash\uff08\u307e\u305f\u306f\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\uff09\u3092\u958b\u3044\u3066\u3001\n$ vagrant box add \"ubuntu/trusty64\"\n\n\u3068\u5165\u529b\u3059\u308b\u3068\u3001ubuntu \u516c\u5f0f\u306e Ubuntu Server 14.04 LTS \u30a4\u30e1\u30fc\u30b8\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308cVagrant\u306b\u767b\u9332\u3055\u308c\u307e\u3059\u3002\n\u6570\u767eMB\u3042\u308b\u306e\u3067\u6c17\u9577\u306b\u5f85\u3061\u307e\u3059\u3002\u4e00\u5ea6\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u6e08\u3081\u3070\u3001\u6b21\u304b\u3089\u306f\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u6e08\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u4f7f\u7528\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n2-3. \u4eee\u60f3\u74b0\u5883\u306e\u4f5c\u6210\n\u64cd\u4f5c\u3057\u3084\u3059\u3044\u5834\u6240\u306b\u4eee\u60f3\u74b0\u5883\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08\u30d5\u30a9\u30eb\u30c0\uff09\u3092\u6e96\u5099\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306fC:\\Home\\vagrant\\r_2016Apr\u306b\u4eee\u60f3\u74b0\u5883\u3092\u7f6e\u304f\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\nmkdir\u3067\u3082\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u3067\u3082\u826f\u3044\u306e\u3067\u3001\u4e0a\u8a18\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u6539\u3081\u3066Git Bash\uff08\u307e\u305f\u306f\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\uff09\u3092\u958b\u3044\u3066\u3001\n$ cd /c/Home/vagrant/r_2016Apr/\n# \u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u5834\u5408\u306f\n# > cd c:\\Home\\vagrant\\r_2016Apr\n\n$ vagrant init \"ubuntu/trusty64\"\n\n\u3068\u3059\u308b\u3068\u3001\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b Vagrantfile \u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u3053\u306e Vagrantfile \u3092\u7de8\u96c6\u3057\u3066\u69d8\u3005\u306a\u8a2d\u5b9a\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u307e\u305a\u306f\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u9589\u3058\u305a\u306b\u3001\u305d\u306e\u307e\u307eUbuntu Server\u3092\u8d77\u52d5\u3057\u3066\u307f\u307e\u3059\u3002\n$ vagrant up\n\n\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u6ca2\u5c71\u306e\u51fa\u529b\u304c\u8868\u793a\u3055\u308c\u3001\u3057\u3070\u3089\u304f\u3057\u3066\u5f85\u6a5f\u72b6\u614b\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\n\u7279\u306b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u3001\u4eee\u60f3\u74b0\u5883\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\uff08VirtualBox\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3092\u8d77\u52d5\u3057\u3066\u307f\u308b\u3068\u3001r_2016Apr_default_...\u3068\u3044\u3046Ubuntu 64bit\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u5b9f\u884c\u4e2d\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff09\u3002\nVagrantfile \u306e\u8a2d\u5b9a\u3092\u5909\u3048\u305f\u5f8c\u3001\u4eee\u60f3\u74b0\u5883\u3092\u518d\u8d77\u52d5\u3059\u308b\u6642\u306f\u3001\n$ vagrant reload\n\n\u4eee\u60f3\u74b0\u5883\u306e\u7d42\u4e86\u306f\u3001\n$ vagrant halt\n\n\u8a2d\u5b9a\u3092\u5909\u3048\u3059\u304e\u3066\u3001\u4e00\u65e6\u7834\u68c4\u3057\u3066\u6700\u521d\u306e\u72b6\u614b\u306b\u623b\u3057\u305f\u3044\u5834\u5408\u306f\u3001\n$ vagrant destroy\n\n\u3067\u3059\u3002\n\n2-4. \u4eee\u60f3\u74b0\u5883\u306e\u64cd\u4f5c\n\na) ssh\u30ed\u30b0\u30a4\u30f3\n\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u3066\u3044\u306a\u3051\u308c\u3070\u3001\u52d5\u4f5c\u4e2d\u306eVagrant\u4eee\u60f3\u74b0\u5883\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\uff08Git bash\u306a\u3069\u306essh\u63a5\u7d9a\u304c\u4f7f\u3048\u308b\uff09\u30bf\u30fc\u30df\u30ca\u30eb\u74b0\u5883\u304b\u3089\n$ vagrant ssh\n\n\u3068\u3059\u308b\u3060\u3051\u3067\u4eee\u60f3\u74b0\u5883\u3078ssh\u63a5\u7d9a\u3001\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002\nTeraTerm\u306a\u3069\u3067ssh\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306f\u3001IP\u30a2\u30c9\u30ec\u30b9\u3084\u30dd\u30fc\u30c8\u756a\u53f7\u306a\u3069\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3068\u306e\u3053\u3068\u3067\u3059\u3002\n\u53c2\u8003\uff1aWindows\u3067Vagrant\u3092\u5c0e\u5165\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3001\u5fa9\u5143\u306e\u307e\u3068\u3081\n\nb) Git bash\u306a\u3069\u304c\u306a\u3044\u5834\u5408\nWindows\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\uff08cmd.exe\uff09\u304b\u3089\u64cd\u4f5c\u3059\u308b\u5834\u5408\u306f\u3001ssh\u306a\u3069\u304c\u305d\u306e\u307e\u307e\u3067\u306f\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u304b\u308f\u308a\u306bVirtualBox\u306eGUI\u3067\u64cd\u4f5c\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\u53c2\u8003\uff1aVagrant \u3067\u4eee\u60f3\u30a6\u30a3\u30f3\u30c9\u30a6\u3092 GUI \u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3059\u308b\u8a2d\u5b9a\n\u307e\u305a\u3001Vagrantfile\u3092\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u3044\u306647\u884c\u76ee\u524d\u5f8c\u306b\u3042\u308b vb.gui = true \u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\nVagrantfile\n  config.vm.provider \"virtualbox\" do |vb|                   # <- \u30b3\u30e1\u30f3\u30c8\u5916\u3059\n#   # Display the VirtualBox GUI when booting the machine\n    vb.gui = true                                           # <- \u30b3\u30e1\u30f3\u30c8\u5916\u3059\n#\n#   # Customize the amount of memory on the VM:\n#   vb.memory = \"1024\"\n  end                                                       # <- \u30b3\u30e1\u30f3\u30c8\u5916\u3059\n\n\nvagrant reload \u3067\u518d\u8d77\u52d5\uff08\u505c\u6b62\u4e2d\u306e\u5834\u5408\u306fvagrant up\u3067\u8d77\u52d5\uff09\u3059\u308b\u3068\u3001VirtualBox\u306e\u753b\u9762\u3067\u30bf\u30fc\u30df\u30ca\u30eb\u304c\u958b\u304f\u306e\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3082 vagrant\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u8a2d\u5b9a\u304c\u82f1\u8a9e\u30ad\u30fc\u30dc\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30ed\u30b0\u30a4\u30f3\u5f8c\u306b\n$ sudo loadkeys jp\n\n\u3068\u3057\u3066\u4e00\u6642\u7684\u306b\u65e5\u672c\u8a9e\u30ad\u30fc\u30dc\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n\u53c2\u8003\uff1aUbuntu12.04 \u30ad\u30fc\u30dc\u30fc\u30c9\u8a2d\u5b9a\u306e\u5909\u66f4\n\n\n2-5. \u65e5\u672c\u8a9e\u30d5\u30a9\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30b0\u30e9\u30d5\u306e\u6587\u5b57\u5316\u3051\u5bfe\u7b56\u306e\u305f\u3081\u3001\u5148\u306b\u65e5\u672c\u8a9e\u30d5\u30a9\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u4eee\u60f3\u74b0\u5883\u3078\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001\n$ sudo apt-get update\n$ sudo apt-get install fonts-takao\n\n\u53c2\u8003\uff1aRStudio Server\u306e\u7df4\u7fd2 - Part1: \u306f\u3058\u3081\u306b\n\n3. MRAN\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u304b\u3089R\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n3-1. apt\u30ec\u30dd\u30b8\u30c8\u30ea\u3068gpg\u9375\u306e\u8ffd\u52a0\n\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306eURL ( https://mran.revolutionanalytics.com/snapshot/2016-04-01/ )\u3068\u4ee3\u8868\u7684\u306aCRAN\u30df\u30e9\u30fc\u306e https://cran.rstudio.com \u3092\u898b\u6bd4\u3079\u3066\u3001@kazutan \u3055\u3093\u306e \u8a18\u4e8b \u3092\u53c2\u7167\u3057\u3064\u3064apt\u306e source.list \u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n\u8d77\u52d5\u3057\u305f\u4eee\u60f3\u74b0\u5883\u3078\u30ed\u30b0\u30a4\u30f3\u3057\u3001\n$ export MRAN=\"https://mran.revolutionanalytics.com/snapshot/2016-04-01\"\n$ echo \"deb ${MRAN}/bin/linux/ubuntu trusty/\" | \\\n  sudo tee -a /etc/apt/sources.list.d/cran.list\n\n\uff08\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306eURL\u306f\u5f8c\u3067\u3082\u5fc5\u8981\u306a\u306e\u3067\u3001\u3044\u3063\u305f\u3093\u74b0\u5883\u5909\u6570\u306b\u5165\u308c\u3066\u304a\u304d\u307e\u3059\uff09\nMRAN\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3082gpg\u9375\u306f E084DAB9 \u3067\u826f\u3044\u3088\u3046\u3067\u3059\u306e\u3067\u3001\u767b\u9332\u3057\u307e\u3059\u3002\n$ gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E084DAB9\n$ gpg -a --export E084DAB9 | sudo apt-key add -\n\nR\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u3079\u304f\u3001apt\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u66f4\u65b0\u3092\u884c\u3044\u307e\u3059\u3002\n$ sudo apt-get update\n\n\u8a8d\u8a3c\u30a8\u30e9\u30fc\u3067 mran.revolutionanalytics.com \u304b\u3089\u60c5\u5831\u304c\u53d6\u5f97\u3067\u304d\u306a\u304b\u3063\u305f\u3068\u3044\u3046\u8b66\u544a\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\nW: Failed to fetch https://mran.revolutionanalytics.com/snapshot/2016-04-01/bin/linux/ubuntu/trusty/Packages  server certificate verification failed. CAfile: /etc/ssl/certs/ca-certificates.crt CRLfile: none\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5019\u88dc\u306eR\u3082ubuntu\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u306b\u3042\u308b\uff08\u53e4\u3044\uff09\u3082\u306e\u306e\u3088\u3046\u3067\u3001\u3084\u306f\u308aMRAN\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306e\u8ffd\u52a0\u306f\u6a5f\u80fd\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\nvagrant@vagrant-ubuntu-trusty-64:~$ apt-cache policy r-base\nr-base:\n  Installed: (none)\n  Candidate: 3.0.2-1ubuntu1\n  Version table:\n     3.0.2-1ubuntu1 0\n        500 http://archive.ubuntu.com/ubuntu/ trusty/universe amd64 Packages\n\n\n3-2. Microsoft IT SSL SHA2 CA\u8a3c\u660e\u66f8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nmran.revolutionanalytics.com \u3067\u306f\u3001Microsoft IT SSL SHA2\u306b\u3088\u308b\u8a3c\u660e\u66f8\u304c\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u304c \"ubuntu/trusty64\" \u306b\u306f\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u306e\u3088\u3046\u3067\u3059\u306e\u3067\u3001\u8a3c\u660e\u66f8\u3092\u5165\u624b\u3057\u3066\u767b\u9332\u3057\u307e\u3059\u3002\n\u8a3c\u660e\u66f8\u81ea\u4f53\u306f https://www.microsoft.com/pki/mscorp/cps/ \u3067\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u307e\u307e\u3067\u306f\u767b\u9332\u3067\u304d\u306a\u3044\u30d0\u30a4\u30ca\u30ea\uff08DER\uff09\u5f62\u5f0f\u306e\u305f\u3081\u3001PEM (Privacy Enhanced Mail) \u5f62\u5f0f\uff08\u62e1\u5f35\u5b50\u306f.pem\u3067\u306f\u306a\u304f.crt\u306b\u3059\u308b\u5fc5\u8981\u3042\u308a\uff09\u306b\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n$ wget \"http://www.microsoft.com/pki/mscorp/msitwww2(1).crt\" -U \"\"\n$ openssl x509 -in \"msitwww2(1).crt\" -inform DER -out msitwww2.crt -outform PEM\n$ sudo cp msitwww2.crt /usr/share/ca-certificates/\n$ echo \"msitwww2.crt\" | sudo tee -a /etc/ca-certificates.conf\n$ sudo update-ca-certificates\n\n\nRSA\u9375\u3001\u8a3c\u660e\u66f8\u306e\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\nHow do you add a certificate authority (CA) to Ubuntu?\n\n\n3-3. \u6539\u3081\u3066R\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nCA\u8a3c\u660e\u66f8\u306e\u767b\u9332\u304c\u6e08\u3093\u3060\u3089\u3001apt\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u66f4\u65b0\u3092\u884c\u3044\u307e\u3059\u3002\n$ sudo apt-get update\n\n\u4eca\u5ea6\u306f\u8b66\u544a\u306a\u304f\u66f4\u65b0\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002R\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5019\u88dc\u3082\u3001MRAN\u306b\u3042\u308b 2016-04-01\u6642\u70b9\u3067\u6700\u65b0\u306e version 3.2.4-revised \u306b\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\nvagrant@vagrant-ubuntu-trusty-64:~$ apt-cache policy r-base\nr-base:\n  Installed: (none)\n  Candidate: 3.2.4-revised-1trusty0\n  Version table:\n     3.2.4-revised-1trusty0 0\n        500 https://mran.revolutionanalytics.com/snapshot/2016-04-01/bin/linux/ubuntu/ trusty/ Packages\n     3.2.4-1trusty 0\n        500 https://mran.revolutionanalytics.com/snapshot/2016-04-01/bin/linux/ubuntu/ trusty/ Packages\n     # \u4ee5\u4e0b\u7701\u7565\n\nR\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u5927\u91cf\u306e\u30d5\u30a1\u30a4\u30eb\u30fb\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u306e\u3067\u3057\u3070\u3089\u304f\u5f85\u3061\u307e\u3059\u3002\n$ sudo apt-get install -y r-base r-base-dev\n\n\n3-4. \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u306f\u3058\u3081\u306b\u3001install.packages() \u3067\u53c2\u7167\u3055\u308c\u308bCRAN\u30ec\u30dd\u30b8\u30c8\u30ea\u3082MRAN\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306b\u306a\u308b\u3088\u3046\u306b ~/.Rprofile \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n$ echo \"options(repos = '${MRAN}')\" > ~/.Rprofile\n\n# \u78ba\u8a8d\n$ cat ~/.Rprofile\noptions(repos = 'https://mran.revolutionanalytics.com/snapshot/2016-04-01')\n\n\nR\u3092\u8d77\u52d5\u3057\u3066\u3001\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ R\n\nR version 3.2.4 Revised (2016-03-16 r70336) -- \"Very Secure Dishes\"\nCopyright (C) 2016 The R Foundation for Statistical Computing\nPlatform: x86_64-pc-linux-gnu (64-bit)\n\n# R\u306e\u8d77\u52d5\u30e1\u30c3\u30bb\u30fc\u30b8 \u9014\u4e2d\u7701\u7565\n\n> install.packages(c(\"dplyr\", \"tidyr\", \"ggplot2\"))\n\n{rmarkdown}\u306e\u3088\u3046\u306b\u3001\u89e3\u6790\u305d\u306e\u3082\u306e\u306b\u5f71\u97ff\u305b\u305a\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u3044\u305f\u3044\u3082\u306e\u306f repos= \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308c\u3070\u3001\u6700\u65b0\u306e\u3082\u306e\u3092\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nR\n> install.packages(c(\"rmarkdown\", \"revealjs\"), repos = \"https://cran.rstudio.com/\")\n\n\n\n4. RStudio Server\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n4-1. RStudio Server\u672c\u4f53\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRStudio\u516c\u5f0f \u306e\u30ac\u30a4\u30c9\u306b\u5f93\u3044\u3001RStudio Server\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ sudo apt-get install gdebi-core\n$ wget https://download2.rstudio.org/rstudio-server-1.0.136-amd64.deb\n$ sudo gdebi rstudio-server-1.0.136-amd64.deb\n\nRStudio Server\u306eCRAN\u30df\u30e9\u30fc\u8a2d\u5b9a\u306f /etc/rstudio/rsession.conf \u306b r-cran-repos= \u3092\u8a18\u8f09\u3059\u308c\u3070\u826f\u3044\u3088\u3046\u3067\u3059\u3002\n\u53c2\u8003\uff1aRStudio - Configuring the Server\n$ echo \"r-cran-repos=${MRAN}\" | sudo tee -a /etc/rstudio/rsession.conf\n\n\u3057\u304b\u3057\u3001\u3053\u308c\u306f\u79c1\u306e\u624b\u5143\u3067\u306f\u3046\u307e\u304f\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u5bfe\u51e6\u6cd5\u3092\u3054\u5b58\u3058\u306e\u65b9\u304c\u304a\u3089\u308c\u307e\u3057\u305f\u3089\u3054\u6559\u793a\u304f\u3060\u3055\u3044\u3002\n\n4-2. Vagrant\u5074\u306e\u8a2d\u5b9a\n\u4eee\u60f3\u74b0\u5883\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08\u4eca\u56de\u306f C:\\Home\\vagrant\\r_2016Apr\uff09\u306b\u3042\u308bVagrantfile\u3092\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304d\u300125\u884c\u76ee\u524d\u5f8c\u306b\u3042\u308b \"forwarded_port\" \u306e\u8a2d\u5b9a\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\nVagrantfile\n# config.vm.network \"forwarded_port\", guest: 80, host: 8080\n  config.vm.network \"forwarded_port\", guest: 8787, host: 1111\n\n\n\u4e0a\u66f8\u304d\u4fdd\u5b58\u3057\u305f\u3089\u3001\u4eee\u60f3\u74b0\u5883\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ vagrant reload\n\n\n4-3. \u30d6\u30e9\u30a6\u30b6\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\n\u4eee\u60f3\u74b0\u5883\u306e\u518d\u8d77\u52d5\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u4ee5\u4e0b\u306eURL\u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\nhttp://localhost:1111\n\n\u7121\u4e8b\u306b\u7a3c\u50cd\u3057\u3066\u3044\u308b\u3068\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306b\u306a\u308a\u307e\u3059\u306e\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3082 vagrant \u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u3001RStudio Server\u304c\u4f7f\u7528\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\n\u78ba\u8a8d\u3067\u304d\u305f\u3089\u30d6\u30e9\u30a6\u30b6\u3092\u9589\u3058\u3066\u3001\u4eee\u60f3\u74b0\u5883\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n$ vagrant halt\n\nWindows\u3067\u306f\u305d\u306e\u90fd\u5ea6\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u3044\u3066\u30b3\u30de\u30f3\u30c9\u5165\u529b\u3067\u4eee\u60f3\u74b0\u5883\u3092\u8d77\u52d5\u3059\u308b\u306e\u306f\u3084\u3084\u4e0d\u4fbf\u306a\u306e\u3067\u3001\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u3001\u305d\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3092\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306b\u7f6e\u3044\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\u3002\n\nR_2016Apr.bat\nvagrant up\nstart http://localhost:1111/\npause \u4f55\u304b\u30ad\u30fc\u3092\u62bc\u3059\u3068\u3001RStudio/Vagrant/VirtualBox\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\nvagrant halt\n\n\n\n5. \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306e\u81ea\u52d5\u5316\n\u3042\u3089\u304b\u3058\u3081 Vagrantfile \u306b\u8a2d\u5b9a\u3084\u74b0\u5883\u6574\u5099\u7528\u306e\u624b\u9806\uff08\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u30b9\u30af\u30ea\u30d7\u30c8\uff09\u3092\u8a18\u8f09\u3057\u3066\u304a\u3051\u3070\u3001\n$ vagrant up\n\n\u3060\u3051\u3067\u540c\u3058\u74b0\u5883\u3092\u518d\u73fe\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u65b0\u3057\u3044\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8ffd\u52a0\u3057\u3066\u5f8c\u6094\u3057\u305f\u5834\u5408\u306a\u3069\u306f\u3044\u3064\u3067\u3082\n$ vagrant destroy\n$ vagrant up\n\n\u3067\u3082\u3068\u306b\u623b\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n@kazutan \u3055\u3093\u306e\u8a18\u4e8b\u3092\u5143\u306b\u3001\u4e0a\u8a18\u306e\u51e6\u7406\u3092\u81ea\u52d5\u5316\u3059\u308b\u305f\u3081\u306e Vagrantfile \u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u66f8\u304d\u8db3\u3057\u3066\u3001\u3042\u308f\u305b\u3066Git\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\nVagrantfile\nVagrant.configure(2) do |config|\n\n# \u30d9\u30fc\u30b9\u306b\u306a\u308bvagrant box\n  config.vm.box = \"ubuntu/trusty64\"\n\n# \u5171\u6709\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u8a2d\u5b9a\n# c:\\Home\\GitRepos \u3092 ~/GitRepos \u3068\u3059\u308b\n# config.vm.synced_folder \"c:/Home/GitRepos\", \"/home/vagrant/GitRepos\"\n\n# \u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u8a2d\u5b9a\n  config.vm.network \"forwarded_port\", guest: 8787, host: 1111\n\n# \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8a2d\u5b9a\n  config.vm.provider \"virtualbox\" do |vb|\n  # Display the VirtualBox GUI when booting the machine\n  #  vb.gui = true\n  # Customize the amount of memory on the VM:\n    vb.memory = \"2048\"\n  end\n\n# \u4ee5\u4e0b\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u7528\u30b9\u30af\u30ea\u30d7\u30c8\n$script = <<SCRIPT\n\n## Japanese language support\n#sudo apt-get install -y language-pack-ja-base language-pack-ja\nsudo apt-get install -y fonts-takao\n\n## install Microsoft IT SSL SHA2 CA Certificate\nwget \"http://www.microsoft.com/pki/mscorp/msitwww2(1).crt\" -U \"\"\nopenssl x509 -in \"msitwww2(1).crt\" -inform DER -out msitwww2.crt -outform PEM\nsudo cp msitwww2.crt /usr/share/ca-certificates/\necho \"msitwww2.crt\" >> /etc/ca-certificates.conf\nsudo update-ca-certificates\nrm *.crt\n\n## settings to use Microsoft R Application Network (MRAN) snapshot\nexport MRAN=\"https://mran.revolutionanalytics.com/snapshot/2016-04-01\"\necho \"deb ${MRAN}/bin/linux/ubuntu trusty/\" > /etc/apt/sources.list.d/cran.list\nsudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E084DAB9\necho \"options(repos = '${MRAN}')\" > /home/vagrant/.Rprofile\n\n## install latest version of R at 2016-04-01 (ver.3.2.4 revised)\nsudo apt-get update\nsudo apt-get install -y r-base r-base-dev\n\n## for install devtools, rvest(libxml2)\nsudo apt-get install -y libcurl4-openssl-dev libssl-dev libxml2-dev\n\n## r-packages install\nsudo R -e \"install.packages('devtools', dep = TRUE)\"\nsudo R -e \"install.packages('tidyr',    dep = TRUE)\"\nsudo R -e \"install.packages('dplyr',    dep = TRUE)\"\nsudo R -e \"install.packages('ggplot2',  dep = TRUE)\"\n\nsudo R -e \"install.packages('rmarkdown', repos = 'https://cran.rstudio.com/', dep = TRUE)\"\nsudo R -e \"install.packages('revealjs',  repos = 'https://cran.rstudio.com/', dep = TRUE)\"\n\n## rstudio-server install\nsudo apt-get install -y gdebi-core\nwget https://download2.rstudio.org/rstudio-server-1.0.136-amd64.deb\nsudo gdebi -n rstudio-server-1.0.136-amd64.deb\nrm *.deb\necho \"r-cran-repos=${MRAN}\" >> /etc/rstudio/rsession.conf\n\nSCRIPT\n\n# \u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\n  config.vm.provision \"shell\", inline: $script\n\nend\n\n\n\nToDo\n\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306a\u3069\u3001Ubuntu Server\u306e\u8a2d\u5b9a\u3092\u6574\u3048\u308b\n\n\n\u73fe\u72b6\u306flocalhost\u3067\u4e00\u6642\u7684\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u307f\u306e\u305f\u3081\u3001Windows\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30bd\u30d5\u30c8\u304c\u3042\u308b\u3053\u3068\u3092\u983c\u308a\u306b\u3057\u3066Ubuntu\u306e\u65b9\u3067\u306f\u7279\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u72b6\u614b\u3067\u3059\n\n\nTex\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001RStudio/rmarkdown\u3067PDF\u30ec\u30dd\u30fc\u30c8\u304c\u4f5c\u6210\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\nDocker\u3082\u8a66\u3057\u3066\u307f\u305f\u3044\n\n\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u3044\u305f\u5148\u9054\u306e\u7686\u69d8\u306b\u611f\u8b1d\u81f4\u3057\u307e\u3059\u3002\n# \u52d5\u6a5f\n\n\u6570\u5e74\u524d\u306b\u4f5c\u6210\u3057\u305fR\u30b9\u30af\u30ea\u30d7\u30c8\u3084Rmarkdown\u30d5\u30a1\u30a4\u30eb\u3092\u6301\u3061\u51fa\u3057\u3066\u304d\u3066\u73fe\u5728\u306e\u74b0\u5883\u3067\u5b9f\u884c\u3059\u308b\u3068\u3001\u5f53\u6642\u554f\u984c\u306a\u304b\u3063\u305f\u306f\u305a\u306e\u30b3\u30fc\u30c9\u304c\u601d\u3046\u3088\u3046\u306b\u52d5\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u518d\u5229\u7528\u3059\u308b\u306a\u3089\u53e4\u3044\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u76f4\u3059\u3053\u3068\u304c\u671b\u307e\u3057\u3044\u3067\u3059\u304c\u3001\u691c\u8a3c\u76ee\u7684\u306e\u5834\u5408\u306a\u3069\u3001\u6539\u5909\u3057\u305f\u304f\u306a\u3044 or \u3067\u304d\u306a\u3044\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\u304b\u3068\u3044\u3063\u3066\u3001\u73fe\u5728\u4f7f\u3063\u3066\u3044\u308b\u89e3\u6790\u74b0\u5883\u3067R\u672c\u4f53\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f9d\u5b58\u95a2\u4fc2\u3092\u542b\u3081\u3066\u5165\u308c\u66ff\u3048\u308b\u306e\u306f\u5927\u5909\u3067\u3059\u3057\u3001\u4ed6\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u89e3\u6790\u306b\u3082\u5f71\u97ff\u304c\u51fa\u3066\u3057\u307e\u3046\u6050\u308c\u304c\u3042\u308a\u307e\u3059\u3002\n\n## \u3084\u308a\u305f\u3044\u3053\u3068\n\n\u300c\u304b\u3089\u3060\u306b\u3044\u3044\u3082\u306e\u300d\u3067[\u7d39\u4ecb\u3055\u308c\u3066\u3044\u305f](https://www.karada-good.net/analyticsr/r-420) `{versions}` \u30d1\u30c3\u30b1\u30fc\u30b8\u306e[CRAN\u30da\u30fc\u30b8](https://cran.r-project.org/web/packages/versions/index.html)\u3092\u8aad\u3093\u3067\u3001 Microsoft R Open\u306e\u30b5\u30a4\u30c8 [Microsoft R Application Network (MRAN)](https://mran.revolutionanalytics.com/) \u306b\u306f\u3001\u6bce\u65e5\u306eCRAN\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u77e5\u308a\u307e\u3057\u305f\u3002\n\u305d\u3053\u304b\u3089R\u672c\u4f53\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308c\u3070\u3001\u4efb\u610f\u306e\u6642\u70b9\uff08\u305f\u3060\u30572014\u5e749\u670817\u65e5\u4ee5\u964d\uff09\u306b\u304a\u3051\u308b\u6700\u65b0\u306eR\u74b0\u5883\u304c\u518d\u73fe\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u305d\u3053\u3067\u3001[Vagrant\u3067\u30ed\u30fc\u30ab\u30eb\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u306bRStudioServer\u74b0\u5883\u3092\u4f5c\u308b](http://qiita.com/kazutan/items/6048fa8d46683dcad788) \u3092\u53c2\u8003\u306b\u4eee\u60f3\u74b0\u5883\u306b\u904e\u53bb\u306eR\u74b0\u5883\u3092\u518d\u73fe\u3059\u308b\u3053\u3068\u3092\u8003\u3048\u307e\u3057\u305f\u3002\n\n\n## \u5b9f\u884c\u74b0\u5883\n\n\u3053\u306e\u8a18\u4e8b\u306f\u3001\u4ee5\u4e0b\u306e\u74b0\u5883\u3067\u69cb\u7bc9\u3057\u305f\u969b\u306e\u8a18\u9332\u3067\u3059\u3002\n\n* Windows 10 Professional 64bit\n* Oracle VM VirtualBox 5.1.2 r108956\n* Vagrant 1.9.1\n* Git for Windows 2.10.1\n\n\u30d9\u30fc\u30b9\u306b\u306a\u308bVagrant box\u306f\u3001\u4e0a\u8a18\u30da\u30fc\u30b8\u306b\u5023\u3063\u3066 **\"ubuntu/trusty64\"**\uff08ubuntu \u516c\u5f0f\u306e Ubuntu Server 14.04 LTS \u30a4\u30e1\u30fc\u30b8\uff09\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n# \u624b\u9806\n\n\u914d\u5e03\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u542b\u307e\u308c\u3066\u3044\u308bWindows\u7248R\u3068\u7570\u306a\u308a\u3001Ubuntu\u3067\u306fCRAN\u306b\u3042\u308b\u73fe\u6642\u70b9\u306e\u6700\u65b0\u7248\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u305f\u3081\u3001R\u3068\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5165\u624b\u5143\u306bMRAN\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u5229\u7528\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f [2016-04-01\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8](https://mran.revolutionanalytics.com/snapshot/2016-04-01) \u304b\u3089\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3057\u305f\u3002\n\n## 1. VirtualBox\u3068Vagrant\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u305d\u308c\u305e\u308c\u306e\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089\u914d\u5e03\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u624b\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff08\u8981\u518d\u8d77\u52d5\uff09\u3002\n\n* Oracle VM VirtualBox : https://www.virtualbox.org/\n* Vagrant :              https://www.vagrantup.com/\n\n## 2. Ubuntu Server\u306e\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\n\n### 2-1. \u30bf\u30fc\u30df\u30ca\u30eb\u306e\u6e96\u5099\n\n\u4eca\u56de\u306f\u3001Git for Windows \u306e **Git Bash** (MINGW32/mintty) \u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002\n\u3053\u308c\u306b\u306f\u3001ssh\u63a5\u7d9a\u306b\u5fc5\u8981\u306a\u30c4\u30fc\u30eb\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u307e\u307e\u64cd\u4f5c\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\nVagrant\u81ea\u4f53\u306fWindows\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\uff08cmd.exe\uff09\u304b\u3089\u64cd\u4f5c\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001Ubuntu\u74b0\u5883\u306e\u8a2d\u5b9a\u306b\u306f\u5225\u9014ssh\u63a5\u7d9a\u306e\u305f\u3081\u306e\u30c4\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059\u3002\u4e00\u6642\u7684\u306a\u8a2d\u5b9a\u3067\u3042\u308c\u3070\u5f8c\u8ff0\u306e\u65b9\u6cd5\u3067\u3057\u306e\u3050\u3053\u3068\u306f\u3067\u304d\u307e\u3059\u3002\n\n### 2-2. Vagrant box\u306e\u5165\u624b\n\nGit Bash\uff08\u307e\u305f\u306f\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\uff09\u3092\u958b\u3044\u3066\u3001\n\n```bash\n$ vagrant box add \"ubuntu/trusty64\"\n```\n\u3068\u5165\u529b\u3059\u308b\u3068\u3001ubuntu \u516c\u5f0f\u306e Ubuntu Server 14.04 LTS \u30a4\u30e1\u30fc\u30b8\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308cVagrant\u306b\u767b\u9332\u3055\u308c\u307e\u3059\u3002\n\u6570\u767eMB\u3042\u308b\u306e\u3067\u6c17\u9577\u306b\u5f85\u3061\u307e\u3059\u3002\u4e00\u5ea6\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u6e08\u3081\u3070\u3001\u6b21\u304b\u3089\u306f\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u6e08\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u4f7f\u7528\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n### 2-3. \u4eee\u60f3\u74b0\u5883\u306e\u4f5c\u6210\n\n\u64cd\u4f5c\u3057\u3084\u3059\u3044\u5834\u6240\u306b\u4eee\u60f3\u74b0\u5883\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08\u30d5\u30a9\u30eb\u30c0\uff09\u3092\u6e96\u5099\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f`C:\\Home\\vagrant\\r_2016Apr`\u306b\u4eee\u60f3\u74b0\u5883\u3092\u7f6e\u304f\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n`mkdir`\u3067\u3082\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u3067\u3082\u826f\u3044\u306e\u3067\u3001\u4e0a\u8a18\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u6539\u3081\u3066Git Bash\uff08\u307e\u305f\u306f\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\uff09\u3092\u958b\u3044\u3066\u3001\n\n```bash\n$ cd /c/Home/vagrant/r_2016Apr/\n# \u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u5834\u5408\u306f\n# > cd c:\\Home\\vagrant\\r_2016Apr\n\n$ vagrant init \"ubuntu/trusty64\"\n```\n\n\u3068\u3059\u308b\u3068\u3001\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b `Vagrantfile` \u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u3053\u306e `Vagrantfile` \u3092\u7de8\u96c6\u3057\u3066\u69d8\u3005\u306a\u8a2d\u5b9a\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u307e\u305a\u306f\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u9589\u3058\u305a\u306b\u3001\u305d\u306e\u307e\u307eUbuntu Server\u3092\u8d77\u52d5\u3057\u3066\u307f\u307e\u3059\u3002\n\n```bash\n$ vagrant up\n```\n\n\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u6ca2\u5c71\u306e\u51fa\u529b\u304c\u8868\u793a\u3055\u308c\u3001\u3057\u3070\u3089\u304f\u3057\u3066\u5f85\u6a5f\u72b6\u614b\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\n\u7279\u306b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u3001\u4eee\u60f3\u74b0\u5883\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\uff08VirtualBox\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3092\u8d77\u52d5\u3057\u3066\u307f\u308b\u3068\u3001`r_2016Apr_default_...`\u3068\u3044\u3046Ubuntu 64bit\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u5b9f\u884c\u4e2d\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff09\u3002\n\n`Vagrantfile` \u306e\u8a2d\u5b9a\u3092\u5909\u3048\u305f\u5f8c\u3001\u4eee\u60f3\u74b0\u5883\u3092\u518d\u8d77\u52d5\u3059\u308b\u6642\u306f\u3001\n\n```bash\n$ vagrant reload\n```\n\n\u4eee\u60f3\u74b0\u5883\u306e\u7d42\u4e86\u306f\u3001\n\n```bash\n$ vagrant halt\n```\n\n\u8a2d\u5b9a\u3092\u5909\u3048\u3059\u304e\u3066\u3001\u4e00\u65e6\u7834\u68c4\u3057\u3066\u6700\u521d\u306e\u72b6\u614b\u306b\u623b\u3057\u305f\u3044\u5834\u5408\u306f\u3001\n\n```bash\n$ vagrant destroy\n```\n\n\u3067\u3059\u3002\n\n### 2-4. \u4eee\u60f3\u74b0\u5883\u306e\u64cd\u4f5c\n\n#### a) ssh\u30ed\u30b0\u30a4\u30f3\n\n\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u3066\u3044\u306a\u3051\u308c\u3070\u3001\u52d5\u4f5c\u4e2d\u306eVagrant\u4eee\u60f3\u74b0\u5883\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\uff08Git bash\u306a\u3069\u306essh\u63a5\u7d9a\u304c\u4f7f\u3048\u308b\uff09\u30bf\u30fc\u30df\u30ca\u30eb\u74b0\u5883\u304b\u3089\n\n```bash\n$ vagrant ssh\n```\n\n\u3068\u3059\u308b\u3060\u3051\u3067\u4eee\u60f3\u74b0\u5883\u3078ssh\u63a5\u7d9a\u3001\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002\n\nTeraTerm\u306a\u3069\u3067ssh\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306f\u3001IP\u30a2\u30c9\u30ec\u30b9\u3084\u30dd\u30fc\u30c8\u756a\u53f7\u306a\u3069\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3068\u306e\u3053\u3068\u3067\u3059\u3002\n\u53c2\u8003\uff1a[Windows\u3067Vagrant\u3092\u5c0e\u5165\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3001\u5fa9\u5143\u306e\u307e\u3068\u3081](http://qiita.com/ruby_kumagoro/items/bf8d22e2731052fa7f8a)\n\n#### b) Git bash\u306a\u3069\u304c\u306a\u3044\u5834\u5408\n\nWindows\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\uff08cmd.exe\uff09\u304b\u3089\u64cd\u4f5c\u3059\u308b\u5834\u5408\u306f\u3001ssh\u306a\u3069\u304c\u305d\u306e\u307e\u307e\u3067\u306f\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u304b\u308f\u308a\u306bVirtualBox\u306eGUI\u3067\u64cd\u4f5c\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\u53c2\u8003\uff1a[Vagrant \u3067\u4eee\u60f3\u30a6\u30a3\u30f3\u30c9\u30a6\u3092 GUI \u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3059\u308b\u8a2d\u5b9a](http://weblabo.oscasierra.net/vagrant-vb-gui/)\n\n\u307e\u305a\u3001`Vagrantfile`\u3092\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u3044\u306647\u884c\u76ee\u524d\u5f8c\u306b\u3042\u308b `vb.gui = true` \u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\n```bash:Vagrantfile\n  config.vm.provider \"virtualbox\" do |vb|                   # <- \u30b3\u30e1\u30f3\u30c8\u5916\u3059\n#   # Display the VirtualBox GUI when booting the machine\n    vb.gui = true                                           # <- \u30b3\u30e1\u30f3\u30c8\u5916\u3059\n#\n#   # Customize the amount of memory on the VM:\n#   vb.memory = \"1024\"\n  end                                                       # <- \u30b3\u30e1\u30f3\u30c8\u5916\u3059\n```\n\n`vagrant reload` \u3067\u518d\u8d77\u52d5\uff08\u505c\u6b62\u4e2d\u306e\u5834\u5408\u306f`vagrant up`\u3067\u8d77\u52d5\uff09\u3059\u308b\u3068\u3001VirtualBox\u306e\u753b\u9762\u3067\u30bf\u30fc\u30df\u30ca\u30eb\u304c\u958b\u304f\u306e\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3082 `vagrant`\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u8a2d\u5b9a\u304c\u82f1\u8a9e\u30ad\u30fc\u30dc\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30ed\u30b0\u30a4\u30f3\u5f8c\u306b\n\n```bash\n$ sudo loadkeys jp\n```\n\n\u3068\u3057\u3066\u4e00\u6642\u7684\u306b\u65e5\u672c\u8a9e\u30ad\u30fc\u30dc\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n\u53c2\u8003\uff1a[Ubuntu12.04 \u30ad\u30fc\u30dc\u30fc\u30c9\u8a2d\u5b9a\u306e\u5909\u66f4](http://qiita.com/ktyubeshi/items/847b05b7879e2f45da54)\n\n![vb-terminal.png](https://qiita-image-store.s3.amazonaws.com/0/137711/e4fe8c3d-9d4b-3991-1982-07240e08d526.png)\n\n### 2-5. \u65e5\u672c\u8a9e\u30d5\u30a9\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30b0\u30e9\u30d5\u306e\u6587\u5b57\u5316\u3051\u5bfe\u7b56\u306e\u305f\u3081\u3001\u5148\u306b\u65e5\u672c\u8a9e\u30d5\u30a9\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u4eee\u60f3\u74b0\u5883\u3078\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001\n\n```bash\n$ sudo apt-get update\n$ sudo apt-get install fonts-takao\n```\n\n\u53c2\u8003\uff1a[RStudio Server\u306e\u7df4\u7fd2 - Part1: \u306f\u3058\u3081\u306b](http://masato.github.io/2014/08/13/rstudio-exercise-part1/)\n\n## 3. MRAN\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u304b\u3089R\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n### 3-1. apt\u30ec\u30dd\u30b8\u30c8\u30ea\u3068gpg\u9375\u306e\u8ffd\u52a0\n\n\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306eURL ( https://mran.revolutionanalytics.com/snapshot/2016-04-01/ )\u3068\u4ee3\u8868\u7684\u306aCRAN\u30df\u30e9\u30fc\u306e https://cran.rstudio.com \u3092\u898b\u6bd4\u3079\u3066\u3001@kazutan \u3055\u3093\u306e [\u8a18\u4e8b](http://qiita.com/kazutan/items/6048fa8d46683dcad788#r%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB) \u3092\u53c2\u7167\u3057\u3064\u3064apt\u306e `source.list` \u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n\u8d77\u52d5\u3057\u305f\u4eee\u60f3\u74b0\u5883\u3078\u30ed\u30b0\u30a4\u30f3\u3057\u3001\n\n```bash\n$ export MRAN=\"https://mran.revolutionanalytics.com/snapshot/2016-04-01\"\n$ echo \"deb ${MRAN}/bin/linux/ubuntu trusty/\" | \\\n  sudo tee -a /etc/apt/sources.list.d/cran.list\n```\n\n\uff08\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306eURL\u306f\u5f8c\u3067\u3082\u5fc5\u8981\u306a\u306e\u3067\u3001\u3044\u3063\u305f\u3093\u74b0\u5883\u5909\u6570\u306b\u5165\u308c\u3066\u304a\u304d\u307e\u3059\uff09\nMRAN\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3082gpg\u9375\u306f `E084DAB9` \u3067\u826f\u3044\u3088\u3046\u3067\u3059\u306e\u3067\u3001\u767b\u9332\u3057\u307e\u3059\u3002\n\n```bash\n$ gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E084DAB9\n$ gpg -a --export E084DAB9 | sudo apt-key add -\n```\n\nR\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u3079\u304f\u3001apt\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u66f4\u65b0\u3092\u884c\u3044\u307e\u3059\u3002\n\n```bash\n$ sudo apt-get update\n```\n\n\u8a8d\u8a3c\u30a8\u30e9\u30fc\u3067 mran.revolutionanalytics.com \u304b\u3089\u60c5\u5831\u304c\u53d6\u5f97\u3067\u304d\u306a\u304b\u3063\u305f\u3068\u3044\u3046\u8b66\u544a\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\n> W: Failed to fetch https://mran.revolutionanalytics.com/snapshot/2016-04-01/bin/linux/ubuntu/trusty/Packages  server certificate verification failed. CAfile: /etc/ssl/certs/ca-certificates.crt CRLfile: none\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5019\u88dc\u306eR\u3082ubuntu\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u306b\u3042\u308b\uff08\u53e4\u3044\uff09\u3082\u306e\u306e\u3088\u3046\u3067\u3001\u3084\u306f\u308aMRAN\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306e\u8ffd\u52a0\u306f\u6a5f\u80fd\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n```bash\nvagrant@vagrant-ubuntu-trusty-64:~$ apt-cache policy r-base\nr-base:\n  Installed: (none)\n  Candidate: 3.0.2-1ubuntu1\n  Version table:\n     3.0.2-1ubuntu1 0\n        500 http://archive.ubuntu.com/ubuntu/ trusty/universe amd64 Packages\n```\n\n### 3-2. Microsoft IT SSL SHA2 CA\u8a3c\u660e\u66f8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nmran.revolutionanalytics.com \u3067\u306f\u3001Microsoft IT SSL SHA2\u306b\u3088\u308b\u8a3c\u660e\u66f8\u304c\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u304c `\"ubuntu/trusty64\"` \u306b\u306f\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u306e\u3088\u3046\u3067\u3059\u306e\u3067\u3001\u8a3c\u660e\u66f8\u3092\u5165\u624b\u3057\u3066\u767b\u9332\u3057\u307e\u3059\u3002\n\n\u8a3c\u660e\u66f8\u81ea\u4f53\u306f https://www.microsoft.com/pki/mscorp/cps/ \u3067\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u307e\u307e\u3067\u306f\u767b\u9332\u3067\u304d\u306a\u3044\u30d0\u30a4\u30ca\u30ea\uff08DER\uff09\u5f62\u5f0f\u306e\u305f\u3081\u3001PEM (Privacy Enhanced Mail) \u5f62\u5f0f\uff08\u62e1\u5f35\u5b50\u306f.pem\u3067\u306f\u306a\u304f.crt\u306b\u3059\u308b\u5fc5\u8981\u3042\u308a\uff09\u306b\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```bash\n$ wget \"http://www.microsoft.com/pki/mscorp/msitwww2(1).crt\" -U \"\"\n$ openssl x509 -in \"msitwww2(1).crt\" -inform DER -out msitwww2.crt -outform PEM\n$ sudo cp msitwww2.crt /usr/share/ca-certificates/\n$ echo \"msitwww2.crt\" | sudo tee -a /etc/ca-certificates.conf\n$ sudo update-ca-certificates\n```\n\n* [RSA\u9375\u3001\u8a3c\u660e\u66f8\u306e\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066](http://qiita.com/kunichiko/items/12cbccaadcbf41c72735#pem%E5%BD%A2%E5%BC%8F%E3%81%AE%E8%A8%BC%E6%98%8E%E6%9B%B8--der%E5%BD%A2%E5%BC%8F%E3%81%AE%E8%A8%BC%E6%98%8E%E6%9B%B8)\n* [How do you add a certificate authority (CA) to Ubuntu?](http://superuser.com/questions/437330/how-do-you-add-a-certificate-authority-ca-to-ubuntu)\n\n### 3-3. \u6539\u3081\u3066R\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nCA\u8a3c\u660e\u66f8\u306e\u767b\u9332\u304c\u6e08\u3093\u3060\u3089\u3001apt\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u66f4\u65b0\u3092\u884c\u3044\u307e\u3059\u3002\n\n```bash\n$ sudo apt-get update\n```\n\n\u4eca\u5ea6\u306f\u8b66\u544a\u306a\u304f\u66f4\u65b0\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002R\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5019\u88dc\u3082\u3001MRAN\u306b\u3042\u308b 2016-04-01\u6642\u70b9\u3067\u6700\u65b0\u306e version 3.2.4-revised \u306b\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n\n```bash\nvagrant@vagrant-ubuntu-trusty-64:~$ apt-cache policy r-base\nr-base:\n  Installed: (none)\n  Candidate: 3.2.4-revised-1trusty0\n  Version table:\n     3.2.4-revised-1trusty0 0\n        500 https://mran.revolutionanalytics.com/snapshot/2016-04-01/bin/linux/ubuntu/ trusty/ Packages\n     3.2.4-1trusty 0\n        500 https://mran.revolutionanalytics.com/snapshot/2016-04-01/bin/linux/ubuntu/ trusty/ Packages\n     # \u4ee5\u4e0b\u7701\u7565\n```\n\nR\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u5927\u91cf\u306e\u30d5\u30a1\u30a4\u30eb\u30fb\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u306e\u3067\u3057\u3070\u3089\u304f\u5f85\u3061\u307e\u3059\u3002\n\n```bash\n$ sudo apt-get install -y r-base r-base-dev\n```\n\n### 3-4. \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u306f\u3058\u3081\u306b\u3001`install.packages()` \u3067\u53c2\u7167\u3055\u308c\u308bCRAN\u30ec\u30dd\u30b8\u30c8\u30ea\u3082MRAN\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306b\u306a\u308b\u3088\u3046\u306b `~/.Rprofile` \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```bash\n$ echo \"options(repos = '${MRAN}')\" > ~/.Rprofile\n\n# \u78ba\u8a8d\n$ cat ~/.Rprofile\noptions(repos = 'https://mran.revolutionanalytics.com/snapshot/2016-04-01')\n\n```\n\nR\u3092\u8d77\u52d5\u3057\u3066\u3001\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```bash\n$ R\n\nR version 3.2.4 Revised (2016-03-16 r70336) -- \"Very Secure Dishes\"\nCopyright (C) 2016 The R Foundation for Statistical Computing\nPlatform: x86_64-pc-linux-gnu (64-bit)\n\n# R\u306e\u8d77\u52d5\u30e1\u30c3\u30bb\u30fc\u30b8 \u9014\u4e2d\u7701\u7565\n\n> install.packages(c(\"dplyr\", \"tidyr\", \"ggplot2\"))\n```\n\n`{rmarkdown}`\u306e\u3088\u3046\u306b\u3001\u89e3\u6790\u305d\u306e\u3082\u306e\u306b\u5f71\u97ff\u305b\u305a\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u3044\u305f\u3044\u3082\u306e\u306f `repos=` \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308c\u3070\u3001\u6700\u65b0\u306e\u3082\u306e\u3092\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```bash:R\n> install.packages(c(\"rmarkdown\", \"revealjs\"), repos = \"https://cran.rstudio.com/\")\n```\n\n## 4. RStudio Server\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n### 4-1. RStudio Server\u672c\u4f53\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n[RStudio\u516c\u5f0f](https://www.rstudio.com/products/rstudio/download-server/) \u306e\u30ac\u30a4\u30c9\u306b\u5f93\u3044\u3001RStudio Server\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```bash\n$ sudo apt-get install gdebi-core\n$ wget https://download2.rstudio.org/rstudio-server-1.0.136-amd64.deb\n$ sudo gdebi rstudio-server-1.0.136-amd64.deb\n```\n\nRStudio Server\u306eCRAN\u30df\u30e9\u30fc\u8a2d\u5b9a\u306f `/etc/rstudio/rsession.conf` \u306b `r-cran-repos=` \u3092\u8a18\u8f09\u3059\u308c\u3070\u826f\u3044\u3088\u3046\u3067\u3059\u3002\n\u53c2\u8003\uff1a[RStudio - Configuring the Server](https://support.rstudio.com/hc/en-us/articles/200552316-Configuring-the-Server)\n\n```bash\n$ echo \"r-cran-repos=${MRAN}\" | sudo tee -a /etc/rstudio/rsession.conf\n```\n\n\u3057\u304b\u3057\u3001\u3053\u308c\u306f\u79c1\u306e\u624b\u5143\u3067\u306f\u3046\u307e\u304f\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u5bfe\u51e6\u6cd5\u3092\u3054\u5b58\u3058\u306e\u65b9\u304c\u304a\u3089\u308c\u307e\u3057\u305f\u3089\u3054\u6559\u793a\u304f\u3060\u3055\u3044\u3002\n\n### 4-2. Vagrant\u5074\u306e\u8a2d\u5b9a\n\n\u4eee\u60f3\u74b0\u5883\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08\u4eca\u56de\u306f `C:\\Home\\vagrant\\r_2016Apr`\uff09\u306b\u3042\u308b`Vagrantfile`\u3092\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304d\u300125\u884c\u76ee\u524d\u5f8c\u306b\u3042\u308b `\"forwarded_port\"` \u306e\u8a2d\u5b9a\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n```bash:Vagrantfile\n# config.vm.network \"forwarded_port\", guest: 80, host: 8080\n  config.vm.network \"forwarded_port\", guest: 8787, host: 1111\n```\n\n\u4e0a\u66f8\u304d\u4fdd\u5b58\u3057\u305f\u3089\u3001\u4eee\u60f3\u74b0\u5883\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```bash\n$ vagrant reload\n```\n\n### 4-3. \u30d6\u30e9\u30a6\u30b6\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\n\n\u4eee\u60f3\u74b0\u5883\u306e\u518d\u8d77\u52d5\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u4ee5\u4e0b\u306eURL\u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n```\nhttp://localhost:1111\n```\n\n\u7121\u4e8b\u306b\u7a3c\u50cd\u3057\u3066\u3044\u308b\u3068\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306b\u306a\u308a\u307e\u3059\u306e\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3082 `vagrant` \u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u3001RStudio Server\u304c\u4f7f\u7528\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u78ba\u8a8d\u3067\u304d\u305f\u3089\u30d6\u30e9\u30a6\u30b6\u3092\u9589\u3058\u3066\u3001\u4eee\u60f3\u74b0\u5883\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n```bash\n$ vagrant halt\n```\n\nWindows\u3067\u306f\u305d\u306e\u90fd\u5ea6\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u3044\u3066\u30b3\u30de\u30f3\u30c9\u5165\u529b\u3067\u4eee\u60f3\u74b0\u5883\u3092\u8d77\u52d5\u3059\u308b\u306e\u306f\u3084\u3084\u4e0d\u4fbf\u306a\u306e\u3067\u3001\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u3001\u305d\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3092\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306b\u7f6e\u3044\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\u3002\n\n```bat:R_2016Apr.bat\nvagrant up\nstart http://localhost:1111/\npause \u4f55\u304b\u30ad\u30fc\u3092\u62bc\u3059\u3068\u3001RStudio/Vagrant/VirtualBox\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\nvagrant halt\n```\n\n## 5. \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306e\u81ea\u52d5\u5316\n\n\u3042\u3089\u304b\u3058\u3081 `Vagrantfile` \u306b\u8a2d\u5b9a\u3084\u74b0\u5883\u6574\u5099\u7528\u306e\u624b\u9806\uff08\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u30b9\u30af\u30ea\u30d7\u30c8\uff09\u3092\u8a18\u8f09\u3057\u3066\u304a\u3051\u3070\u3001\n\n```bash\n$ vagrant up\n```\n\n\u3060\u3051\u3067\u540c\u3058\u74b0\u5883\u3092\u518d\u73fe\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u65b0\u3057\u3044\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8ffd\u52a0\u3057\u3066\u5f8c\u6094\u3057\u305f\u5834\u5408\u306a\u3069\u306f\u3044\u3064\u3067\u3082\n\n```bash\n$ vagrant destroy\n$ vagrant up\n```\n\n\u3067\u3082\u3068\u306b\u623b\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n@kazutan \u3055\u3093\u306e[\u8a18\u4e8b](http://qiita.com/kazutan/items/6048fa8d46683dcad788#vagrantfile)\u3092\u5143\u306b\u3001\u4e0a\u8a18\u306e\u51e6\u7406\u3092\u81ea\u52d5\u5316\u3059\u308b\u305f\u3081\u306e `Vagrantfile` \u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u66f8\u304d\u8db3\u3057\u3066\u3001\u3042\u308f\u305b\u3066Git\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\n```:Vagrantfile\nVagrant.configure(2) do |config|\n\n# \u30d9\u30fc\u30b9\u306b\u306a\u308bvagrant box\n  config.vm.box = \"ubuntu/trusty64\"\n\n# \u5171\u6709\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u8a2d\u5b9a\n# c:\\Home\\GitRepos \u3092 ~/GitRepos \u3068\u3059\u308b\n# config.vm.synced_folder \"c:/Home/GitRepos\", \"/home/vagrant/GitRepos\"\n\n# \u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u8a2d\u5b9a\n  config.vm.network \"forwarded_port\", guest: 8787, host: 1111\n\n# \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8a2d\u5b9a\n  config.vm.provider \"virtualbox\" do |vb|\n  # Display the VirtualBox GUI when booting the machine\n  #  vb.gui = true\n  # Customize the amount of memory on the VM:\n    vb.memory = \"2048\"\n  end\n\n# \u4ee5\u4e0b\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u7528\u30b9\u30af\u30ea\u30d7\u30c8\n$script = <<SCRIPT\n\n## Japanese language support\n#sudo apt-get install -y language-pack-ja-base language-pack-ja\nsudo apt-get install -y fonts-takao\n\n## install Microsoft IT SSL SHA2 CA Certificate\nwget \"http://www.microsoft.com/pki/mscorp/msitwww2(1).crt\" -U \"\"\nopenssl x509 -in \"msitwww2(1).crt\" -inform DER -out msitwww2.crt -outform PEM\nsudo cp msitwww2.crt /usr/share/ca-certificates/\necho \"msitwww2.crt\" >> /etc/ca-certificates.conf\nsudo update-ca-certificates\nrm *.crt\n\n## settings to use Microsoft R Application Network (MRAN) snapshot\nexport MRAN=\"https://mran.revolutionanalytics.com/snapshot/2016-04-01\"\necho \"deb ${MRAN}/bin/linux/ubuntu trusty/\" > /etc/apt/sources.list.d/cran.list\nsudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E084DAB9\necho \"options(repos = '${MRAN}')\" > /home/vagrant/.Rprofile\n\n## install latest version of R at 2016-04-01 (ver.3.2.4 revised)\nsudo apt-get update\nsudo apt-get install -y r-base r-base-dev\n\n## for install devtools, rvest(libxml2)\nsudo apt-get install -y libcurl4-openssl-dev libssl-dev libxml2-dev\n\n## r-packages install\nsudo R -e \"install.packages('devtools', dep = TRUE)\"\nsudo R -e \"install.packages('tidyr',    dep = TRUE)\"\nsudo R -e \"install.packages('dplyr',    dep = TRUE)\"\nsudo R -e \"install.packages('ggplot2',  dep = TRUE)\"\n\nsudo R -e \"install.packages('rmarkdown', repos = 'https://cran.rstudio.com/', dep = TRUE)\"\nsudo R -e \"install.packages('revealjs',  repos = 'https://cran.rstudio.com/', dep = TRUE)\"\n\n## rstudio-server install\nsudo apt-get install -y gdebi-core\nwget https://download2.rstudio.org/rstudio-server-1.0.136-amd64.deb\nsudo gdebi -n rstudio-server-1.0.136-amd64.deb\nrm *.deb\necho \"r-cran-repos=${MRAN}\" >> /etc/rstudio/rsession.conf\n\nSCRIPT\n\n# \u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\n  config.vm.provision \"shell\", inline: $script\n\nend\n```\n\n## ToDo\n\n* \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306a\u3069\u3001Ubuntu Server\u306e\u8a2d\u5b9a\u3092\u6574\u3048\u308b\n    * \u73fe\u72b6\u306flocalhost\u3067\u4e00\u6642\u7684\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u307f\u306e\u305f\u3081\u3001Windows\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30bd\u30d5\u30c8\u304c\u3042\u308b\u3053\u3068\u3092\u983c\u308a\u306b\u3057\u3066Ubuntu\u306e\u65b9\u3067\u306f\u7279\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u72b6\u614b\u3067\u3059\n* Tex\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001RStudio/rmarkdown\u3067PDF\u30ec\u30dd\u30fc\u30c8\u304c\u4f5c\u6210\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\n* Docker\u3082\u8a66\u3057\u3066\u307f\u305f\u3044\n\n\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u3044\u305f\u5148\u9054\u306e\u7686\u69d8\u306b\u611f\u8b1d\u81f4\u3057\u307e\u3059\u3002\n", "tags": ["R", "RStudio", "vagrant"]}