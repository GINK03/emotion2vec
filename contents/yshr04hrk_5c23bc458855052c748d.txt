{"context": " More than 1 year has passed since last update.\u3000\u4f1a\u793e\u306e\u65b9\u306b\u8272\u3005\u6559\u3048\u3066\u3082\u3089\u3063\u305f\u308a\u30d9\u30fc\u30b9\u306e\u30b3\u30fc\u30c9\u3044\u305f\u3060\u304d\u306a\u304c\u3089\u4f5c\u308a\u307e\u3057\u305fm(_ _)m\nR\u8a00\u8a9e\u3067skype\u306eDB\uff08SQLite\uff09\u3092\u64cd\u4f5c\u3057\u3001\u30b0\u30eb\u30fc\u30d7\u30c1\u30e3\u30c3\u30c8\u3092\u9078\u629e\u3059\u308b\u3068\u305d\u306e\u30c1\u30e3\u30c3\u30c8\u5185\u306e\u767a\u8a00\u6570\u3092\u4eba\u3054\u3068\u306b\u96c6\u8a08\u3057\u3066\u68d2\u30b0\u30e9\u30d5\u306b\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\u671f\u9593\u6307\u5b9a\u306f\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\none_room_skype_graph.r\ndb_path = \"~/Library/Application Support/Skype/(skypeID)/main.db\"\n\nlibrary(RSQLite)\ndriver <- dbDriver(\"SQLite\")\ncon <- dbConnect(driver, db_path)\n\nconvo <- dbGetQuery(con, \"SELECT id, displayname from Conversations where type = 2\")\nid = menu(c(convo$displayname), title=\"0:exit\")\n\nif (id == c(0)) { cat(\"Nothing done\\n\")\n} else {\n  convo_id = convo[id, 'id']\n\n  tbl <- dbGetQuery(con, paste(\"SELECT m.author, m.id, c.displayname from Messages m inner join Conversations c on m.convo_id = c.id where c.type = 2 and c.id = \", convo_id, \" order by m.author\"))\n\n  res <- tapply(tbl[,\"id\"], tbl[,\"author\"], length)\n\n  par(mar=c(15,4,4,4))\n  barplot(sort(res, decreasing=T), las=3, family=\"Osaka\",cex.axis=0.7, cex=0.5)\n}\n\n\n\u306a\u304a\u3001\u4e0a\u8a18\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u3067DB\u64cd\u4f5c\u7cfb\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u3046\u306e\u3067\u3001DBI\u3068RSQLite\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\uff08\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u5f8c\u8ff0\uff09\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u7d39\u4ecb\u3064\u3044\u3067\u306b\u3001\u30e1\u30e2\u4ee3\u308f\u308a\u306b\u81ea\u5206\u306e\u5b9f\u884c\u624b\u9806\uff08\u3042\u3093\u307e\u308a\u3061\u3083\u3093\u3068\u52c9\u5f37\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u30aa\u30ec\u30aa\u30ec\u65b9\u6cd5\u3067\u3059\uff09\u3082\u66f8\u304d\u307e\u3059\u3002\n\u6700\u521d\u306b\u6b21\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u3069\u3053\u304b\u306b\u4fdd\u5b58\u3057\u3066\u304a\u304d\u307e\u3059\u3002\uff08\u30b3\u30d4\u30da\u3067\u3082\u3044\u3044\u3067\u3059\u304c\u4f55\u56de\u3082\u5b9f\u884c\u3059\u308b\u3068\u304d\u306b\u9762\u5012\u306a\u306e\u3067\uff09\u305d\u3057\u3066R\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\u521d\u56de\u306e\u307f\u3001\u307e\u305a\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n options(repos=\"http://cran.md.tsukuba.ac.jp\")\n install.packages(\"DBI\")\n install.packages(\"RSQLite\")\n\n\u6b21\u306b\u3001\u2193\u306e\u3088\u3046\u306b\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\nsource(\"/path/to/one_room_skype_graph.r\")\n\n\u3059\u308b\u3068\u3001\u30b0\u30eb\u30fc\u30d7\u30c1\u30e3\u30c3\u30c8\u540d\u3092\u9078\u629e\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u8868\u793a\u3057\u305f\u3044\u30c1\u30e3\u30c3\u30c8\u306e\u8a72\u5f53\u3059\u308b\u756a\u53f7\u3092\u5165\u529b\u3057\u3066Enter\u3059\u308c\u3070\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\uff08\u5fae\u5999\u306b\u7e26\u8ef8\u306e\u30e1\u30e2\u30ea\u304c\u8db3\u308a\u306a\u3044\u306e\u304c\u305b\u3064\u306a\u3044\u3067\u3059\u304c\u3002\u3002\uff09\n\u3061\u306a\u307f\u306bskype\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u72b6\u614b\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001DB\u304c\u30ed\u30c3\u30af\u3055\u308c\u3066\u3044\u3066\u9014\u4e2d\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\u3001skype\u3092\u5207\u308b\u304bDB\u3092\u30b3\u30d4\u30fc\u3057\u3066\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u53c2\u8003\uff1ahttp://qiita.com/dai___chi/items/ea4ff70fca99edabae29\n\n\u3000\u4f1a\u793e\u306e\u65b9\u306b\u8272\u3005\u6559\u3048\u3066\u3082\u3089\u3063\u305f\u308a\u30d9\u30fc\u30b9\u306e\u30b3\u30fc\u30c9\u3044\u305f\u3060\u304d\u306a\u304c\u3089\u4f5c\u308a\u307e\u3057\u305fm(_ _)m\nR\u8a00\u8a9e\u3067skype\u306eDB\uff08SQLite\uff09\u3092\u64cd\u4f5c\u3057\u3001\u30b0\u30eb\u30fc\u30d7\u30c1\u30e3\u30c3\u30c8\u3092\u9078\u629e\u3059\u308b\u3068\u305d\u306e\u30c1\u30e3\u30c3\u30c8\u5185\u306e\u767a\u8a00\u6570\u3092\u4eba\u3054\u3068\u306b\u96c6\u8a08\u3057\u3066\u68d2\u30b0\u30e9\u30d5\u306b\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\u671f\u9593\u6307\u5b9a\u306f\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\n```R:one_room_skype_graph.r\ndb_path = \"~/Library/Application Support/Skype/(skypeID)/main.db\"\n\nlibrary(RSQLite)\ndriver <- dbDriver(\"SQLite\")\ncon <- dbConnect(driver, db_path)\n\nconvo <- dbGetQuery(con, \"SELECT id, displayname from Conversations where type = 2\")\nid = menu(c(convo$displayname), title=\"0:exit\")\n\nif (id == c(0)) { cat(\"Nothing done\\n\")\n} else {\n  convo_id = convo[id, 'id']\n\n  tbl <- dbGetQuery(con, paste(\"SELECT m.author, m.id, c.displayname from Messages m inner join Conversations c on m.convo_id = c.id where c.type = 2 and c.id = \", convo_id, \" order by m.author\"))\n\n  res <- tapply(tbl[,\"id\"], tbl[,\"author\"], length)\n\n  par(mar=c(15,4,4,4))\n  barplot(sort(res, decreasing=T), las=3, family=\"Osaka\",cex.axis=0.7, cex=0.5)\n}\n```\n\n\u306a\u304a\u3001\u4e0a\u8a18\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u3067DB\u64cd\u4f5c\u7cfb\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u3046\u306e\u3067\u3001DBI\u3068RSQLite\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\uff08\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u5f8c\u8ff0\uff09\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u7d39\u4ecb\u3064\u3044\u3067\u306b\u3001\u30e1\u30e2\u4ee3\u308f\u308a\u306b\u81ea\u5206\u306e\u5b9f\u884c\u624b\u9806\uff08\u3042\u3093\u307e\u308a\u3061\u3083\u3093\u3068\u52c9\u5f37\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u30aa\u30ec\u30aa\u30ec\u65b9\u6cd5\u3067\u3059\uff09\u3082\u66f8\u304d\u307e\u3059\u3002\n\u6700\u521d\u306b\u6b21\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u3069\u3053\u304b\u306b\u4fdd\u5b58\u3057\u3066\u304a\u304d\u307e\u3059\u3002\uff08\u30b3\u30d4\u30da\u3067\u3082\u3044\u3044\u3067\u3059\u304c\u4f55\u56de\u3082\u5b9f\u884c\u3059\u308b\u3068\u304d\u306b\u9762\u5012\u306a\u306e\u3067\uff09\u305d\u3057\u3066R\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\u521d\u56de\u306e\u307f\u3001\u307e\u305a\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```R\n options(repos=\"http://cran.md.tsukuba.ac.jp\")\n install.packages(\"DBI\")\n install.packages(\"RSQLite\")\n```\n\n\u6b21\u306b\u3001\u2193\u306e\u3088\u3046\u306b\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```R \nsource(\"/path/to/one_room_skype_graph.r\")\n```\n\n\u3059\u308b\u3068\u3001\u30b0\u30eb\u30fc\u30d7\u30c1\u30e3\u30c3\u30c8\u540d\u3092\u9078\u629e\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u8868\u793a\u3057\u305f\u3044\u30c1\u30e3\u30c3\u30c8\u306e\u8a72\u5f53\u3059\u308b\u756a\u53f7\u3092\u5165\u529b\u3057\u3066Enter\u3059\u308c\u3070\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\uff08\u5fae\u5999\u306b\u7e26\u8ef8\u306e\u30e1\u30e2\u30ea\u304c\u8db3\u308a\u306a\u3044\u306e\u304c\u305b\u3064\u306a\u3044\u3067\u3059\u304c\u3002\u3002\uff09\n\u3061\u306a\u307f\u306bskype\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u72b6\u614b\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001DB\u304c\u30ed\u30c3\u30af\u3055\u308c\u3066\u3044\u3066\u9014\u4e2d\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\u3001skype\u3092\u5207\u308b\u304bDB\u3092\u30b3\u30d4\u30fc\u3057\u3066\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u53c2\u8003\uff1ahttp://qiita.com/dai___chi/items/ea4ff70fca99edabae29\n", "tags": ["skype", "R"]}