{"tags": ["ShinobiLayer", "SoftLayer"], "context": "\n\n1. \u306f\u3058\u3081\u306b\n\u672c\u8a18\u4e8b\u3067\u306f\u3001SoftLayer + VMware\u74b0\u5883\u4e0b\u306b\u304a\u3044\u3066Firmware\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\u3092\u884c\u3046\u305f\u3081\u306b\u3001StorCLI\u30b3\u30de\u30f3\u30c9\u3092\u5c0e\u5165\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3054\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u5b9f\u306f\u3001Firmware\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\u3059\u308b\u3060\u3051\u306a\u3089\u3001IPMI\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089OS\u8d77\u52d5\u6642\u306b\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u3053\u3061\u3089\u306e\u8a18\u4e8b\u306b\u3082\u7d39\u4ecb\u6e08\u3067\u3059\u304c\u3001\u642d\u8f09OS\u95a2\u4fc2\u306a\u304f\u78ba\u8a8d\u304c\u53ef\u80fd\u306a\u306e\u3067\u3001OS\u518d\u8d77\u52d5\u304c\u53ef\u80fd\u3067\u3042\u308c\u3070\u3001\u3053\u306e\u65b9\u6cd5\u3067\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n\u3082\u30461\u3064\u306f\u3001\u540c\u8a18\u4e8b\u306b\u3082\u8a18\u8f09\u3055\u308c\u3066\u3044\u305fStorCLI\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u305f\u3060\u3057\u3001VMware\u74b0\u5883\u306b\u306f\u5c0e\u5165\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001VMware\u74b0\u5883\u7528\u306eStorCLI\u30b3\u30de\u30f3\u30c9\u3092\u5225\u9014\u5c0e\u5165\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n2. StorCLI\u30b3\u30de\u30f3\u30c9\u306e\u5c0e\u5165\uff08VMware\u7528\uff09\n\nVMwareESXi\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n[root@ibmesx02:~] esxcli system version get\n   Product: VMware ESXi\n   Version: 6.0.0\n   Build: Releasebuild-3620759\n   Update: 2\n   Patch: 34\n\n\n\na). Web Client\u3067ESXi\u30b7\u30a7\u30eb\u304a\u3088\u3073SSH\u30b5\u30fc\u30d3\u30b9\u304c\u7a3c\u50cd\u4e2d\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\u8a72\u5f53\u30db\u30b9\u30c8\u306b\u3066\u3001\u7ba1\u7406 -> \u8a2d\u5b9a -> \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306b\u3066\u3001ESXi\u30b7\u30a7\u30eb\u304a\u3088\u3073SSH\u30b5\u30fc\u30d3\u30b9\u304c\u7a3c\u50cd\u4e2d\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\u3053\u308c\u3089\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u7a3c\u52d5\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001ESXi\u30db\u30b9\u30c8\u306bSSH\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n\nb). \u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u30e2\u30fc\u30c9\u306b\u5909\u66f4\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09\n\u5fc5\u9808\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001\u4f5c\u696d\u3059\u308b\u306e\u3067\u5ff5\u306e\u305f\u3081\u3002\n\n\n\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u30e2\u30fc\u30c9\u3067\u3042\u308b\u3053\u3068\u3092\u30b3\u30de\u30f3\u30c9\u304b\u3089\u3082\u78ba\u8a8d\n[root@ibmesx02:~] esxcli system maintenanceMode get\nEnabled\n\n\n\nc). StorCLI\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092VMWare ESXi\u306b\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\uff08SCP\uff09\nhttp://www.avagotech.com/products/server-storage/raid-controllers/megaraid-sas-9361-8i#downloads\n\u304b\u3089\u3001\u4ee5\u4e0b\u306e\u6700\u65b0\u7248\u306eStorCLI\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u306b\u306f\u3001WinSCP\u306a\u3069\u3092\u5229\u7528\u3059\u308c\u3070\u3088\u3044\u3002\u4eca\u56de\u306f\u3001/tmp\u914d\u4e0b\u306b1.19.04_StorCLI.zip\u3092\u8ee2\u9001\u3002\n\n\nd). \u30d5\u30a1\u30a4\u30eb\u5c55\u958b\u3068StorCLI\u30b3\u30de\u30f3\u30c9\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30d5\u30a1\u30a4\u30eb\u3092\u5c55\u958b\u3059\u308b\u3068\u3001Vmware\u3001Vmware-MN\u3001Vmware-NDS\u3068\uff13\u7a2e\u985e\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u308c\u305e\u308c\u4ee5\u4e0b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\nVMware = VMware ESXi 5.0 \nVmware-MN = VMware ESXi 5.5\nVmware-NDS = VMware ESXi 6.0\n\nreadme\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8f09\u3042\u308a\u3002\n\n1.19.04_StorCLI.txt\u3088\u308a\u5f15\u7528\nInstallation Commands: \n=======================\nAny OS specific instructions are noted in a readme file included in a folder in the zip file.\n\nRefer to the MegaRAID SAS Software User's Guide for any additional StorCLI information.  The User Guide can be found in the MegaRAID Documentation section of www.avagotech.com.\n\nFor the newer UEFI shells(shell version greater than 2.0), you should use the StorCli binary inside the UDK folder.\nFor Vmware binaries:\n _________________________________\n|StorCli folder |   OS Version|\n|_______________|_________________|\n|VMWare     |   VMWare 4.x|\n|VMWare-MN  |   VMWare 5.x|\n|VMWare-NDS |   VMWare OP |\n ---------------------------------\n\n\n\n\u30d5\u30a1\u30a4\u30eb\u5c55\u958b\u3068StorCLI\u30b3\u30de\u30f3\u30c9\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[root@ibmesx02:~] cd /tmp\n\n[root@ibmesx02:/tmp] unzip 1.19.04_StorCLI.zip\n\n[root@ibmesx02:/tmp] ls -l storcli_all_os\ntotal 48\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 EFI\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 FreeBSD\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Linux\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Linux-OEL-Sparc\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Linux-ppc\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Solaris\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Solaris Sparc\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Ubuntu\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Vmware\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Vmware-MN\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Vmware-NDS\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Windows\n\n[root@ibmesx02:/tmp] cd storcli_all_os/Vmware-NDS/\n\n[root@ibmesx02:/tmp/storcli_all_os/Vmware-NDS] ls -l\ntotal 1964\n-rw-r--r--    1 root     root           316 Jul 19 06:07 VMWARE_MN_NDS_Readme.txt\n-rw-r--r--    1 root     root          1809 Jul 19 06:07 license.txt\n-rw-r--r--    1 root     root       1999432 Jul 19 06:07 vmware-esx-storcli-1.19.04.vib\n\n[root@ibmesx02:~] esxcli software vib install -v=/tmp/storcli_all_os/Vmware-NDS/vmware-esx-storcli-1.19.04.vib --no-sig-ch\neck\nInstallation Result\n   Message: Operation finished successfully.\n   Reboot Required: false\n   VIBs Installed: LSI_bootbank_vmware-esx-storcli-1.19.04_1.19.04-01\n   VIBs Removed:\n   VIBs Skipped:\n\n\n\n\u5c0e\u5165\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d\n[root@ibmesx02:~] esxcli software vib list|grep -i stor\nvmware-esx-storcli-1.19.04     1.19.04-01                            LSI     PartnerSupported  2016-07-19\n\n[root@ibmesx02:~] /opt/lsi/storcli/storcli -V\n\n      StorCli SAS Customization Utility Ver 1.19.04 Feb 01, 2016\n\n    (c)Copyright 2015, AVAGO Corporation, All Rights Reserved.\n\nExit Code: 0x00\n\n[root@ibmesx02:~] /opt/lsi/storcli/storcli show\nStatus Code = 0\nStatus = Success\nDescription = None\n\nNumber of Controllers = 1\nHost Name = ibmesx02\nOperating System  = VMkernel6.0.0\n\nSystem Overview :\n===============\n\n------------------------------------------------------------------------------------\nCtl Model                   Ports PDs DGs DNOpt VDs VNOpt BBU sPR DS  EHS ASOs Hlth\n------------------------------------------------------------------------------------\n  0 AVAGOMegaRAIDSAS9361-8i     8   2   1     0   1     0 Opt On  1&2 Y      5 Opt\n------------------------------------------------------------------------------------\n\nCtl=Controller Index|DGs=Drive groups|VDs=Virtual drives|Fld=Failed\nPDs=Physical drives|DNOpt=DG NotOptimal|VNOpt=VD NotOptimal|Opt=Optimal\nMsng=Missing|Dgd=Degraded|NdAtn=Need Attention|Unkwn=Unknown\nsPR=Scheduled Patrol Read|DS=DimmerSwitch|EHS=Emergency Hot Spare\nY=Yes|N=No|ASOs=Advanced Software Options|BBU=Battery backup unit\nHlth=Health|Safe=Safe-mode boot\n\n\n\n\n3. StorCLI\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308bRAID\u30ab\u30fc\u30c9\u306eFirmware\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n\u4ee5\u4e0b\u3088\u308a\u3001FW Version = 4.650.00-6121\u3067\u3042\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3002\n\nFirmware\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n[root@ibmesx02:~] /opt/lsi/storcli/storcli /c0 show\nGenerating detailed summary of the adapter, it may take a while to complete.\n\nController = 0\nStatus = Success\nDescription = None\n\nProduct Name = AVAGO MegaRAID SAS 9361-8i\nSerial Number = SV43523016\nSAS Address =  500605b0093f8480\nPCI Address = 00:81:00:00\nSystem Time = 07/19/2016 06:30:35\nMfg. Date = 11/09/14\nController Time = 07/19/2016 06:30:35\nFW Package Build = 24.15.0-0016\nBIOS Version = 6.31.03.0_4.17.08.00_0x06140200\nFW Version = 4.650.00-6121\nDriver Name = lsi-mr3\nDriver Version = 6.605.08.00\nVendor Id = 0x1000\nDevice Id = 0x5D\nSubVendor Id = 0x1000\nSubDevice Id = 0x936C\nHost Interface = PCI-E\nDevice Interface = SAS-12G\nBus Number = 129\nDevice Number = 0\nFunction Number = 0\nDrive Groups = 1\n\nTOPOLOGY :\n========\n\n-----------------------------------------------------------------------------\nDG Arr Row EID:Slot DID Type  State BT       Size PDC  PI SED DS3  FSpace TR\n-----------------------------------------------------------------------------\n 0 -   -   -        -   RAID1 Optl  N  558.406 GB dflt N  N   dflt N      N\n 0 0   -   -        -   RAID1 Optl  N  558.406 GB dflt N  N   dflt N      N\n 0 0   0   252:0    12  DRIVE Onln  N  558.406 GB dflt N  N   dflt -      N\n 0 0   1   252:1    11  DRIVE Onln  N  558.406 GB dflt N  N   dflt -      N\n-----------------------------------------------------------------------------\n\nDG=Disk Group Index|Arr=Array Index|Row=Row Index|EID=Enclosure Device ID\nDID=Device ID|Type=Drive Type|Onln=Online|Rbld=Rebuild|Dgrd=Degraded\nPdgd=Partially degraded|Offln=Offline|BT=Background Task Active\nPDC=PD Cache|PI=Protection Info|SED=Self Encrypting Drive|Frgn=Foreign\nDS3=Dimmer Switch 3|dflt=Default|Msng=Missing|FSpace=Free Space Present\nTR=Transport Ready\n\nVirtual Drives = 1\n\nVD LIST :\n=======\n\n------------------------------------------------------------------\nDG/VD TYPE  State Access Consist Cache Cac sCC       Size Name\n------------------------------------------------------------------\n0/0   RAID1 Optl  RW     Yes     RWBD  -   ON  558.406 GB RAID1-A\n------------------------------------------------------------------\n\nCac=CacheCade|Rec=Recovery|OfLn=OffLine|Pdgd=Partially Degraded|dgrd=Degraded\nOptl=Optimal|RO=Read Only|RW=Read Write|HD=Hidden|TRANS=TransportReady|B=Blocked|\nConsist=ConsistentR=Read Ahead Always|NR=No Read Ahead|WB=WriteBack|\nAWB=Always WriteBack|WT=WriteThrough|C=Cached IO|D=Direct IO|sCC=Scheduled\nCheck Consistency\n\nPhysical Drives = 2\n\nPD LIST :\n=======\n\n-------------------------------------------------------------------------\nEID:Slt DID State DG       Size Intf Med SED PI SeSz Model            Sp\n-------------------------------------------------------------------------\n252:0    12 Onln   0 558.406 GB SAS  HDD N   N  512B ST3600057SS      U\n252:1    11 Onln   0 558.406 GB SAS  HDD N   N  512B ST3600057SS      U\n-------------------------------------------------------------------------\n\nEID-Enclosure Device ID|Slt-Slot No.|DID-Device ID|DG-DriveGroup\nDHS-Dedicated Hot Spare|UGood-Unconfigured Good|GHS-Global Hotspare\nUBad-Unconfigured Bad|Onln-Online|Offln-Offline|Intf-Interface\nMed-Media Type|SED-Self Encryptive Drive|PI-Protection Info\nSeSz-Sector Size|Sp-Spun|U-Up|D-Down|T-Transition|F-Foreign\nUGUnsp-Unsupported|UGShld-UnConfigured shielded|HSPShld-Hotspare shielded\nCFShld-Configured shielded|Cpybck-CopyBack|CBShld-Copyback Shielded\n\n\nCachevault_Info :\n===============\n\n---------------------------------------------------------\nModel  State   Temp Mode MfgDate    Next Learn\n---------------------------------------------------------\nCVPM02 Optimal 27C  -    2014/05/30 2016/08/09  00:29:00\n---------------------------------------------------------\n\n\n\n#1. \u306f\u3058\u3081\u306b\n\u672c\u8a18\u4e8b\u3067\u306f\u3001SoftLayer + VMware\u74b0\u5883\u4e0b\u306b\u304a\u3044\u3066Firmware\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\u3092\u884c\u3046\u305f\u3081\u306b\u3001StorCLI\u30b3\u30de\u30f3\u30c9\u3092\u5c0e\u5165\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3054\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u5b9f\u306f\u3001Firmware\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\u3059\u308b\u3060\u3051\u306a\u3089\u3001IPMI\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089OS\u8d77\u52d5\u6642\u306b\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002[\u3053\u3061\u3089\u306e\u8a18\u4e8b](http://qiita.com/testnin2/items/5a58de9e070dd146320d)\u306b\u3082\u7d39\u4ecb\u6e08\u3067\u3059\u304c\u3001\u642d\u8f09OS\u95a2\u4fc2\u306a\u304f\u78ba\u8a8d\u304c\u53ef\u80fd\u306a\u306e\u3067\u3001OS\u518d\u8d77\u52d5\u304c\u53ef\u80fd\u3067\u3042\u308c\u3070\u3001\u3053\u306e\u65b9\u6cd5\u3067\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n\u3082\u30461\u3064\u306f\u3001\u540c\u8a18\u4e8b\u306b\u3082\u8a18\u8f09\u3055\u308c\u3066\u3044\u305fStorCLI\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u305f\u3060\u3057\u3001VMware\u74b0\u5883\u306b\u306f\u5c0e\u5165\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001VMware\u74b0\u5883\u7528\u306eStorCLI\u30b3\u30de\u30f3\u30c9\u3092\u5225\u9014\u5c0e\u5165\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n#2. StorCLI\u30b3\u30de\u30f3\u30c9\u306e\u5c0e\u5165\uff08VMware\u7528\uff09\n\n```text:VMwareESXi\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n[root@ibmesx02:~] esxcli system version get\n   Product: VMware ESXi\n   Version: 6.0.0\n   Build: Releasebuild-3620759\n   Update: 2\n   Patch: 34\n```\n\n###a). Web Client\u3067ESXi\u30b7\u30a7\u30eb\u304a\u3088\u3073SSH\u30b5\u30fc\u30d3\u30b9\u304c\u7a3c\u50cd\u4e2d\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\u8a72\u5f53\u30db\u30b9\u30c8\u306b\u3066\u3001\u7ba1\u7406 -> \u8a2d\u5b9a -> \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306b\u3066\u3001ESXi\u30b7\u30a7\u30eb\u304a\u3088\u3073SSH\u30b5\u30fc\u30d3\u30b9\u304c\u7a3c\u50cd\u4e2d\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\u3053\u308c\u3089\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u7a3c\u52d5\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001ESXi\u30db\u30b9\u30c8\u306bSSH\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n![006.jpg](https://qiita-image-store.s3.amazonaws.com/0/62127/ea5ab459-053c-3367-7676-8abea7f86872.jpeg)\n\n\n###b). \u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u30e2\u30fc\u30c9\u306b\u5909\u66f4\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09\n\u5fc5\u9808\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001\u4f5c\u696d\u3059\u308b\u306e\u3067\u5ff5\u306e\u305f\u3081\u3002\n![008_modify.jpg](https://qiita-image-store.s3.amazonaws.com/0/62127/1bd89c14-6813-c8ee-277c-4aa9aa491697.jpeg)\n\n\n```text:\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u30e2\u30fc\u30c9\u3067\u3042\u308b\u3053\u3068\u3092\u30b3\u30de\u30f3\u30c9\u304b\u3089\u3082\u78ba\u8a8d\n[root@ibmesx02:~] esxcli system maintenanceMode get\nEnabled\n```\n\n###c). StorCLI\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092VMWare ESXi\u306b\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\uff08SCP\uff09\nhttp://www.avagotech.com/products/server-storage/raid-controllers/megaraid-sas-9361-8i#downloads\n\u304b\u3089\u3001\u4ee5\u4e0b\u306e\u6700\u65b0\u7248\u306eStorCLI\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u306b\u306f\u3001WinSCP\u306a\u3069\u3092\u5229\u7528\u3059\u308c\u3070\u3088\u3044\u3002\u4eca\u56de\u306f\u3001/tmp\u914d\u4e0b\u306b1.19.04_StorCLI.zip\u3092\u8ee2\u9001\u3002\n![LatestMegaRAIDStorCLI.jpg](https://qiita-image-store.s3.amazonaws.com/0/62127/0489abf2-d734-7aa7-8a32-a3b58a55d43e.jpeg)\n\n###d). \u30d5\u30a1\u30a4\u30eb\u5c55\u958b\u3068StorCLI\u30b3\u30de\u30f3\u30c9\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u5c55\u958b\u3059\u308b\u3068\u3001Vmware\u3001Vmware-MN\u3001Vmware-NDS\u3068\uff13\u7a2e\u985e\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u308c\u305e\u308c\u4ee5\u4e0b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n- VMware = VMware ESXi 5.0 \n- Vmware-MN = VMware ESXi 5.5\n- Vmware-NDS = VMware ESXi 6.0\n\nreadme\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8f09\u3042\u308a\u3002\n\n```text:1.19.04_StorCLI.txt\u3088\u308a\u5f15\u7528\nInstallation Commands: \n=======================\nAny OS specific instructions are noted in a readme file included in a folder in the zip file.\n\nRefer to the MegaRAID SAS Software User's Guide for any additional StorCLI information.  The User Guide can be found in the MegaRAID Documentation section of www.avagotech.com.\n\nFor the newer UEFI shells(shell version greater than 2.0), you should use the StorCli binary inside the UDK folder.\nFor Vmware binaries:\n _________________________________\n|StorCli folder\t|\tOS Version|\n|_______________|_________________|\n|VMWare\t\t|\tVMWare 4.x|\n|VMWare-MN\t|\tVMWare 5.x|\n|VMWare-NDS\t|\tVMWare OP |\n ---------------------------------\n```\n\n\n```text:\u30d5\u30a1\u30a4\u30eb\u5c55\u958b\u3068StorCLI\u30b3\u30de\u30f3\u30c9\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[root@ibmesx02:~] cd /tmp\n\n[root@ibmesx02:/tmp] unzip 1.19.04_StorCLI.zip\n\n[root@ibmesx02:/tmp] ls -l storcli_all_os\ntotal 48\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 EFI\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 FreeBSD\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Linux\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Linux-OEL-Sparc\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Linux-ppc\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Solaris\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Solaris Sparc\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Ubuntu\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Vmware\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Vmware-MN\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Vmware-NDS\ndrwxrwxrwx    1 root     root           512 Jul 19 06:07 Windows\n\n[root@ibmesx02:/tmp] cd storcli_all_os/Vmware-NDS/\n\n[root@ibmesx02:/tmp/storcli_all_os/Vmware-NDS] ls -l\ntotal 1964\n-rw-r--r--    1 root     root           316 Jul 19 06:07 VMWARE_MN_NDS_Readme.txt\n-rw-r--r--    1 root     root          1809 Jul 19 06:07 license.txt\n-rw-r--r--    1 root     root       1999432 Jul 19 06:07 vmware-esx-storcli-1.19.04.vib\n\n[root@ibmesx02:~] esxcli software vib install -v=/tmp/storcli_all_os/Vmware-NDS/vmware-esx-storcli-1.19.04.vib --no-sig-ch\neck\nInstallation Result\n   Message: Operation finished successfully.\n   Reboot Required: false\n   VIBs Installed: LSI_bootbank_vmware-esx-storcli-1.19.04_1.19.04-01\n   VIBs Removed:\n   VIBs Skipped:\n```\n\n```text:\u5c0e\u5165\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d\n[root@ibmesx02:~] esxcli software vib list|grep -i stor\nvmware-esx-storcli-1.19.04     1.19.04-01                            LSI     PartnerSupported  2016-07-19\n\n[root@ibmesx02:~] /opt/lsi/storcli/storcli -V\n\n      StorCli SAS Customization Utility Ver 1.19.04 Feb 01, 2016\n\n    (c)Copyright 2015, AVAGO Corporation, All Rights Reserved.\n\nExit Code: 0x00\n\n[root@ibmesx02:~] /opt/lsi/storcli/storcli show\nStatus Code = 0\nStatus = Success\nDescription = None\n\nNumber of Controllers = 1\nHost Name = ibmesx02\nOperating System  = VMkernel6.0.0\n\nSystem Overview :\n===============\n\n------------------------------------------------------------------------------------\nCtl Model                   Ports PDs DGs DNOpt VDs VNOpt BBU sPR DS  EHS ASOs Hlth\n------------------------------------------------------------------------------------\n  0 AVAGOMegaRAIDSAS9361-8i     8   2   1     0   1     0 Opt On  1&2 Y      5 Opt\n------------------------------------------------------------------------------------\n\nCtl=Controller Index|DGs=Drive groups|VDs=Virtual drives|Fld=Failed\nPDs=Physical drives|DNOpt=DG NotOptimal|VNOpt=VD NotOptimal|Opt=Optimal\nMsng=Missing|Dgd=Degraded|NdAtn=Need Attention|Unkwn=Unknown\nsPR=Scheduled Patrol Read|DS=DimmerSwitch|EHS=Emergency Hot Spare\nY=Yes|N=No|ASOs=Advanced Software Options|BBU=Battery backup unit\nHlth=Health|Safe=Safe-mode boot\n\n```\n\n#3. StorCLI\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308bRAID\u30ab\u30fc\u30c9\u306eFirmware\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d \n\n\u4ee5\u4e0b\u3088\u308a\u3001`FW Version = 4.650.00-6121`\u3067\u3042\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3002\n\n```text:Firmware\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n[root@ibmesx02:~] /opt/lsi/storcli/storcli /c0 show\nGenerating detailed summary of the adapter, it may take a while to complete.\n\nController = 0\nStatus = Success\nDescription = None\n\nProduct Name = AVAGO MegaRAID SAS 9361-8i\nSerial Number = SV43523016\nSAS Address =  500605b0093f8480\nPCI Address = 00:81:00:00\nSystem Time = 07/19/2016 06:30:35\nMfg. Date = 11/09/14\nController Time = 07/19/2016 06:30:35\nFW Package Build = 24.15.0-0016\nBIOS Version = 6.31.03.0_4.17.08.00_0x06140200\nFW Version = 4.650.00-6121\nDriver Name = lsi-mr3\nDriver Version = 6.605.08.00\nVendor Id = 0x1000\nDevice Id = 0x5D\nSubVendor Id = 0x1000\nSubDevice Id = 0x936C\nHost Interface = PCI-E\nDevice Interface = SAS-12G\nBus Number = 129\nDevice Number = 0\nFunction Number = 0\nDrive Groups = 1\n\nTOPOLOGY :\n========\n\n-----------------------------------------------------------------------------\nDG Arr Row EID:Slot DID Type  State BT       Size PDC  PI SED DS3  FSpace TR\n-----------------------------------------------------------------------------\n 0 -   -   -        -   RAID1 Optl  N  558.406 GB dflt N  N   dflt N      N\n 0 0   -   -        -   RAID1 Optl  N  558.406 GB dflt N  N   dflt N      N\n 0 0   0   252:0    12  DRIVE Onln  N  558.406 GB dflt N  N   dflt -      N\n 0 0   1   252:1    11  DRIVE Onln  N  558.406 GB dflt N  N   dflt -      N\n-----------------------------------------------------------------------------\n\nDG=Disk Group Index|Arr=Array Index|Row=Row Index|EID=Enclosure Device ID\nDID=Device ID|Type=Drive Type|Onln=Online|Rbld=Rebuild|Dgrd=Degraded\nPdgd=Partially degraded|Offln=Offline|BT=Background Task Active\nPDC=PD Cache|PI=Protection Info|SED=Self Encrypting Drive|Frgn=Foreign\nDS3=Dimmer Switch 3|dflt=Default|Msng=Missing|FSpace=Free Space Present\nTR=Transport Ready\n\nVirtual Drives = 1\n\nVD LIST :\n=======\n\n------------------------------------------------------------------\nDG/VD TYPE  State Access Consist Cache Cac sCC       Size Name\n------------------------------------------------------------------\n0/0   RAID1 Optl  RW     Yes     RWBD  -   ON  558.406 GB RAID1-A\n------------------------------------------------------------------\n\nCac=CacheCade|Rec=Recovery|OfLn=OffLine|Pdgd=Partially Degraded|dgrd=Degraded\nOptl=Optimal|RO=Read Only|RW=Read Write|HD=Hidden|TRANS=TransportReady|B=Blocked|\nConsist=ConsistentR=Read Ahead Always|NR=No Read Ahead|WB=WriteBack|\nAWB=Always WriteBack|WT=WriteThrough|C=Cached IO|D=Direct IO|sCC=Scheduled\nCheck Consistency\n\nPhysical Drives = 2\n\nPD LIST :\n=======\n\n-------------------------------------------------------------------------\nEID:Slt DID State DG       Size Intf Med SED PI SeSz Model            Sp\n-------------------------------------------------------------------------\n252:0    12 Onln   0 558.406 GB SAS  HDD N   N  512B ST3600057SS      U\n252:1    11 Onln   0 558.406 GB SAS  HDD N   N  512B ST3600057SS      U\n-------------------------------------------------------------------------\n\nEID-Enclosure Device ID|Slt-Slot No.|DID-Device ID|DG-DriveGroup\nDHS-Dedicated Hot Spare|UGood-Unconfigured Good|GHS-Global Hotspare\nUBad-Unconfigured Bad|Onln-Online|Offln-Offline|Intf-Interface\nMed-Media Type|SED-Self Encryptive Drive|PI-Protection Info\nSeSz-Sector Size|Sp-Spun|U-Up|D-Down|T-Transition|F-Foreign\nUGUnsp-Unsupported|UGShld-UnConfigured shielded|HSPShld-Hotspare shielded\nCFShld-Configured shielded|Cpybck-CopyBack|CBShld-Copyback Shielded\n\n\nCachevault_Info :\n===============\n\n---------------------------------------------------------\nModel  State   Temp Mode MfgDate    Next Learn\n---------------------------------------------------------\nCVPM02 Optimal 27C  -    2014/05/30 2016/08/09  00:29:00\n---------------------------------------------------------\n\n```\n\n"}