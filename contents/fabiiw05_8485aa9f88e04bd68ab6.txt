{"tags": ["archLinux", "grub2", "Linux"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u304c\u58ca\u308c\u305f\n\u539f\u56e0\u306f\u65b0\u3057\u3044\u30b7\u30b9\u30c6\u30e0\u3092\u69cb\u7bc9\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u304d\u9593\u9055\u3048\u3066EFI\u30b7\u30b9\u30c6\u30e0\u3092\u58ca\u3057\u3066\u3057\u307e\u3063\u305f\u306e\u3060\n\u3059\u3050\u306b\u3001grub-install \u3092\u4f7f\u3063\u305f\u304c\u3001\u518d\u8d77\u52d5\u3057\u305f\u6642\u306b\u3053\u3093\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\nMinimal BASH-Like line editing is supported. For the first word, TAB lists possible command completion. Anywhere else TAB lists possible device or file completions.\n\ngrub> \n\n\u307b\u304b\u306eArch-linux\u304b\u3089\u30de\u30a6\u30f3\u30c8\u3057\u3066arch-chroot\u3067\u30b7\u30b9\u30c6\u30e0\u306b\u5165\u308b\n# mount /dev/sdb3 /mnt\n# mount /dev/sda1 /mnt/boot\n# arch-chroot /mnt /bin/bash\n\ninitrd\u304c\u306a\u3044\u3088\u3046\u306a\u306e\u3067\n# mkinitcpio -p linux\n\n\n\u3053\u308c\u3067\u3044\u3051\u308b\u601d\u3063\u305f\u304c\u3002vmlinux\u304c\u3044\u306a\u3044\u3088\u3068\u3044\u308f\u308c\u308b\u3002\n\u5168\u4f53\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u305f\u3070\u304b\u308a\u3060\u3063\u305f\u306e\u3067/var/cache/pacman/pkg/\u306b\u6b8b\u3063\u3066\u305f\n# cp /var/cache/pacman/pkg/linux-4.2.2-1-x86_64.pkg.tar.xz ~\n# tar zxf linux-4.2.2-1-x86_64.pkg.tar.xz \n# cp boot/vmlinux-linux /boot\n\n\u3053\u308c\u3067\u76f4\u3063\u305f\n\n\u8ffd\u8a18\n\ngrub.cfg\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u306a\u3044\u5834\u5408\u306f\u3001\u624b\u52d5\u3067\u30d6\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u3042\u308a\u307e\u3059\ngrub> ls\n(hd0) (hd0,gpt1) (hd0,gpt2) (hd0,gpt3) (hd1) (hd1,gpt1)\n\n#root\u306b\u30d6\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\ngrub> set root=(hd0,gpt1) \n\n#\u78ba\u8a8d\ngrub> ls / \nEFI  grub  initramfs-linux-fallback.img  initramfs-linux.img  vmlinuz-linux\n\n#linux\u304c\u3042\u308b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30bb\u30c3\u30c8\ngrub> linux /vmlinuz-linux root=/dev/sda3\ngrub> initrd /initramfs-linux.img\n\n#\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3067\u5206\u5272\u3057\u3066\u306a\u3044\u5834\u5408\ngrub> linux /boot/vmlinuz-linux root=/dev/sda1\ngrub> initrd /boot/initramfs-linux.img\n\n#\u8d77\u52d5\ngrub> boot\n\n\u8d77\u52d5\u5f8c\u3001grub.cfg \u3092\u4f5c\u6210\n# grub-mkconfig -o /boot/grub/grub.cfg\n\n\u53c2\u8003\nGRUB - ArchWiki\n\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u304c\u58ca\u308c\u305f\n\u539f\u56e0\u306f\u65b0\u3057\u3044\u30b7\u30b9\u30c6\u30e0\u3092\u69cb\u7bc9\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u304d\u9593\u9055\u3048\u3066EFI\u30b7\u30b9\u30c6\u30e0\u3092\u58ca\u3057\u3066\u3057\u307e\u3063\u305f\u306e\u3060\n\u3059\u3050\u306b\u3001`grub-install` \u3092\u4f7f\u3063\u305f\u304c\u3001\u518d\u8d77\u52d5\u3057\u305f\u6642\u306b\u3053\u3093\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\n\n```\nMinimal BASH-Like line editing is supported. For the first word, TAB lists possible command completion. Anywhere else TAB lists possible device or file completions.\n\ngrub> \n```\n\n\u307b\u304b\u306eArch-linux\u304b\u3089\u30de\u30a6\u30f3\u30c8\u3057\u3066`arch-chroot`\u3067\u30b7\u30b9\u30c6\u30e0\u306b\u5165\u308b\n\n```\n# mount /dev/sdb3 /mnt\n# mount /dev/sda1 /mnt/boot\n# arch-chroot /mnt /bin/bash\n```\n\ninitrd\u304c\u306a\u3044\u3088\u3046\u306a\u306e\u3067\n\n```\n# mkinitcpio -p linux\n\n```\n\n\u3053\u308c\u3067\u3044\u3051\u308b\u601d\u3063\u305f\u304c\u3002vmlinux\u304c\u3044\u306a\u3044\u3088\u3068\u3044\u308f\u308c\u308b\u3002\n\n\u5168\u4f53\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u305f\u3070\u304b\u308a\u3060\u3063\u305f\u306e\u3067`/var/cache/pacman/pkg/`\u306b\u6b8b\u3063\u3066\u305f\n\n```\n# cp /var/cache/pacman/pkg/linux-4.2.2-1-x86_64.pkg.tar.xz ~\n# tar zxf linux-4.2.2-1-x86_64.pkg.tar.xz \n# cp boot/vmlinux-linux /boot\n```\n\n\u3053\u308c\u3067\u76f4\u3063\u305f\n\n###\u8ffd\u8a18\n***\n\n`grub.cfg`\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u306a\u3044\u5834\u5408\u306f\u3001\u624b\u52d5\u3067\u30d6\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u3042\u308a\u307e\u3059\n\n```\ngrub> ls\n(hd0) (hd0,gpt1) (hd0,gpt2) (hd0,gpt3) (hd1) (hd1,gpt1)\n\n#root\u306b\u30d6\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\ngrub> set root=(hd0,gpt1) \n\n#\u78ba\u8a8d\ngrub> ls / \nEFI  grub  initramfs-linux-fallback.img  initramfs-linux.img  vmlinuz-linux\n\n#linux\u304c\u3042\u308b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30bb\u30c3\u30c8\ngrub> linux /vmlinuz-linux root=/dev/sda3\ngrub> initrd /initramfs-linux.img\n\n#\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3067\u5206\u5272\u3057\u3066\u306a\u3044\u5834\u5408\ngrub> linux /boot/vmlinuz-linux root=/dev/sda1\ngrub> initrd /boot/initramfs-linux.img\n\n#\u8d77\u52d5\ngrub> boot\n```\n\n\u8d77\u52d5\u5f8c\u3001`grub.cfg` \u3092\u4f5c\u6210\n\n```\n# grub-mkconfig -o /boot/grub/grub.cfg\n```\n\n\u53c2\u8003\n[GRUB - ArchWiki](https://wiki.archlinuxjp.org/index.php/GRUB)\n"}