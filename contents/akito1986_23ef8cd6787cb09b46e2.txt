{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u6700\u8fd1\u30ed\u30b0\u3084\u30ea\u30bd\u30fc\u30b9\u72b6\u6cc1\u3092\u628a\u63e1\u3059\u308b\u305f\u3081\u306bInfluxDB\u3092\u5229\u7528\u3057\u3088\u3046\u3068\u8003\u3048\u3066\u3044\u3066\u3001@takaidohigasi\u306e\u7d39\u4ecb\u3082\u3042\u308aInfluxDB\u793e\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u30e1\u30c8\u30ea\u30c3\u30af\u30b9\u53ce\u96c6\u30c4\u30fc\u30eb\u3067\u3042\u308bTelegraf\u3092\u4f7f\u3063\u305f\u306e\u3067\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002\n\u3088\u308a\u8a73\u7d30\u306aTelegraf\u306e\u7d39\u4ecb\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttp://qiita.com/takaidohigasi/items/fdc81db8336aa7601fc9\n\nTelegraf\u3068\u306f\n\u3053\u306e\u8fba\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttp://qiita.com/takaidohigasi/items/fdc81db8336aa7601fc9\nhttp://qiita.com/akito1986/items/3d5b99b0674af8f0050e\n\n\u74b0\u5883\n\nOS: CentOS7.1\nInfluxDB: 0.9.3\nTelegraf: 0.1.7\nRabbitMQ: 3.5.0\n\n\nInstall\n\u3053\u3053\u3082\u4ee5\u4e0b\u3092\u53c2\u7167\u3002\nhttp://qiita.com/akito1986/items/3d5b99b0674af8f0050e\n\nRabbitMQ\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u8a2d\u5b9a\ntelegraf\u306e\u4fbf\u5229\u306a\u6a5f\u80fd\u3068\u3057\u3066\u5404\u7a2e\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3064\u3044\u3066\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u51fa\u6765\u308b\u3002\n$ /opt/telegraf/telegraf -usage rabbitmq\n# Read metrics from one or many RabbitMQ servers via the management API\n[rabbitmq]\n# Specify servers via an array of tables\n    [[rabbitmq.servers]]\n    # url = \"http://localhost:15672\"\n    # username = \"guest\"\n    # password = \"guest\"\n\n    # A list of nodes to pull metrics about. If not specified, metrics for\n    # all nodes are gathered.\n    # nodes = [\"rabbit@node1\", \"rabbit@node2\"][root@influxdb-1 ~]$\n\n^\u3092\u53c2\u8003\u306b\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3002\n\u4e8b\u524d\u306bRabbitmq\u306erabbitmq_management\u3068\u3044\u3046\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f5c\u6210\u3057\u3001\u7ba1\u7406\u8005\u753b\u9762\u306b\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u5fc5\u8981\u3042\u308a\u3002\n\u304a\u305d\u3089\u304fnodes\u306f\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u3068\u304d\u306b\u8a2d\u5b9a\u3059\u308c\u3070\u3044\u3044\u306e\u304b\u306a\u3068\u601d\u3046\u304c\u3001\u4eca\u56de\u306f\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u305f\u307e\u307e\u3068\u3057\u3066\u3044\u308b\u3002\n\ntelegraf.toml\n# Telegraf configuration\n\n# Telegraf is entirely plugin driven. All metrics are gathered from the\n# declared plugins.\n\n# Even if a plugin has no configuration, it must be declared in here\n# to be active. Declaring a plugin means just specifying the name\n# as a section with no variables. To deactivate a plugin, comment\n# out the name and any variables.\n\n# Use 'telegraf -config telegraf.toml -test' to see what metrics a config\n# file would generate.\n\n# One rule that plugins conform to is wherever a connection string\n# can be passed, the values '' and 'localhost' are treated specially.\n# They indicate to the plugin to use their own builtin configuration to\n# connect to the local system.\n\n# NOTE: The configuration has a few required parameters. They are marked\n# with 'required'. Be sure to edit those to make this configuration work.\n\n# Tags can also be specified via a normal map, but only one form at a time:\n[tags]\n    # dc = \"us-east-1\"\n\n# Configuration for telegraf itself\n[agent]\n    interval = \"10s\"\n    # debug = false\n    hostname = \"telegraf01\"\n# Read metrics of haproxy, via socket or csv stats page\n\n\n###############################################################################\n#                                  OUTPUTS                                    #\n###############################################################################\n\n[outputs]\n\n# Configuration for influxdb server to send metrics to\n[outputs.influxdb]\n    # The full HTTP endpoint URL for your InfluxDB instance\n    url = \"http://localhost:8086\" # required.\n\n    # The target database for metrics. This database must already exist\n    database = \"telegraf\" # required.\n\n    # Connection timeout (for the connection with InfluxDB), formatted as a string.\n    # Valid time units are \"ns\", \"us\" (or \"\u00b5s\"), \"ms\", \"s\", \"m\", \"h\".\n    # If not provided, will default to 0 (no timeout)\n    # timeout = \"5s\"\n\n    # username = \"telegraf\"\n    # password = \"metricsmetricsmetricsmetrics\"\n\n    # Set the user agent for the POSTs (can be useful for log differentiation)\n    # user_agent = \"telegraf\"\n\n\n###############################################################################\n#                                  PLUGINS                                    #\n###############################################################################\n\n[rabbitmq]\n# Specify servers via an array of tables\n    [[rabbitmq.servers]]\n    url = \"http://localhost:15672\"\n    username = \"admin\"\n    password = \"admin\"\n\n    # A list of nodes to pull metrics about. If not specified, metrics for\n    # all nodes are gathered.\n    # nodes = [\"rabbit@node1\", \"rabbit@node2\"][root@influxdb-1 ~]\n\n\n\n\u8d77\u52d5\u3057\u3066\u307f\u308b\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067foregroud\u3067\u8d77\u52d5\u3057\u3066\u3084\u308b\u3002\n$ /opt/telegraf/telegraf -config=telegraf.toml\n2015/09/01 13:13:11 Starting Telegraf (version 0.1.7)\n2015/09/01 13:13:11 Loaded outputs: influxdb\n2015/09/01 13:13:11 Loaded plugins: rabbitmq\n2015/09/01 13:13:11 Tags enabled: host=telegraf01\n\n\u3057\u3070\u3089\u304f\u305f\u3063\u3066influxDB\u3067\u78ba\u8a8d\u3059\u308b\u3068telegraf\u3068\u3044\u3046DB\u306b\u5404\u7a2emeasurements\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n\n\nGrafana\u3067\u898b\u3066\u307f\u308b\nDatasource\u306btelegraf\u3068\u3044\u3046DB\u3092\u8ffd\u52a0\u3057\u3066Dashboard\u3067rabbitmq\u306echannel\u6570\u306a\u3069\u3092\u8868\u793a\u3057\u3066\u3084\u308c\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u308b\u3002\n\n\u3053\u308c\u306f\u4f7f\u3048\u305d\u3046\u3067\u3059\u306d\u3002\n\u304a\u3057\u307e\u3044\u3002\n\n# \u306f\u3058\u3081\u306b\n\u6700\u8fd1\u30ed\u30b0\u3084\u30ea\u30bd\u30fc\u30b9\u72b6\u6cc1\u3092\u628a\u63e1\u3059\u308b\u305f\u3081\u306bInfluxDB\u3092\u5229\u7528\u3057\u3088\u3046\u3068\u8003\u3048\u3066\u3044\u3066\u3001@takaidohigasi\u306e\u7d39\u4ecb\u3082\u3042\u308aInfluxDB\u793e\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u30e1\u30c8\u30ea\u30c3\u30af\u30b9\u53ce\u96c6\u30c4\u30fc\u30eb\u3067\u3042\u308bTelegraf\u3092\u4f7f\u3063\u305f\u306e\u3067\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002\n\n\u3088\u308a\u8a73\u7d30\u306aTelegraf\u306e\u7d39\u4ecb\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttp://qiita.com/takaidohigasi/items/fdc81db8336aa7601fc9\n\n# Telegraf\u3068\u306f\n\u3053\u306e\u8fba\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttp://qiita.com/takaidohigasi/items/fdc81db8336aa7601fc9\nhttp://qiita.com/akito1986/items/3d5b99b0674af8f0050e\n\n# \u74b0\u5883\n\n- OS: CentOS7.1\n- InfluxDB: 0.9.3\n- Telegraf: 0.1.7\n- RabbitMQ: 3.5.0\n\n# Install\n\u3053\u3053\u3082\u4ee5\u4e0b\u3092\u53c2\u7167\u3002\nhttp://qiita.com/akito1986/items/3d5b99b0674af8f0050e\n\n# RabbitMQ\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u8a2d\u5b9a\n\ntelegraf\u306e\u4fbf\u5229\u306a\u6a5f\u80fd\u3068\u3057\u3066\u5404\u7a2e\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3064\u3044\u3066\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u51fa\u6765\u308b\u3002\n\n```\n$ /opt/telegraf/telegraf -usage rabbitmq\n# Read metrics from one or many RabbitMQ servers via the management API\n[rabbitmq]\n# Specify servers via an array of tables\n\t[[rabbitmq.servers]]\n\t# url = \"http://localhost:15672\"\n\t# username = \"guest\"\n\t# password = \"guest\"\n\n\t# A list of nodes to pull metrics about. If not specified, metrics for\n\t# all nodes are gathered.\n\t# nodes = [\"rabbit@node1\", \"rabbit@node2\"][root@influxdb-1 ~]$\n```\n\n^\u3092\u53c2\u8003\u306b\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3002\n\u4e8b\u524d\u306bRabbitmq\u306e`rabbitmq_management `\u3068\u3044\u3046\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f5c\u6210\u3057\u3001\u7ba1\u7406\u8005\u753b\u9762\u306b\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u5fc5\u8981\u3042\u308a\u3002\n\u304a\u305d\u3089\u304fnodes\u306f\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u3068\u304d\u306b\u8a2d\u5b9a\u3059\u308c\u3070\u3044\u3044\u306e\u304b\u306a\u3068\u601d\u3046\u304c\u3001\u4eca\u56de\u306f\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u305f\u307e\u307e\u3068\u3057\u3066\u3044\u308b\u3002\n\n```telegraf.toml\n# Telegraf configuration\n\n# Telegraf is entirely plugin driven. All metrics are gathered from the\n# declared plugins.\n\n# Even if a plugin has no configuration, it must be declared in here\n# to be active. Declaring a plugin means just specifying the name\n# as a section with no variables. To deactivate a plugin, comment\n# out the name and any variables.\n\n# Use 'telegraf -config telegraf.toml -test' to see what metrics a config\n# file would generate.\n\n# One rule that plugins conform to is wherever a connection string\n# can be passed, the values '' and 'localhost' are treated specially.\n# They indicate to the plugin to use their own builtin configuration to\n# connect to the local system.\n\n# NOTE: The configuration has a few required parameters. They are marked\n# with 'required'. Be sure to edit those to make this configuration work.\n\n# Tags can also be specified via a normal map, but only one form at a time:\n[tags]\n\t# dc = \"us-east-1\"\n\n# Configuration for telegraf itself\n[agent]\n\tinterval = \"10s\"\n\t# debug = false\n\thostname = \"telegraf01\"\n# Read metrics of haproxy, via socket or csv stats page\n\n\n###############################################################################\n#                                  OUTPUTS                                    #\n###############################################################################\n\n[outputs]\n\n# Configuration for influxdb server to send metrics to\n[outputs.influxdb]\n\t# The full HTTP endpoint URL for your InfluxDB instance\n\turl = \"http://localhost:8086\" # required.\n\n\t# The target database for metrics. This database must already exist\n\tdatabase = \"telegraf\" # required.\n\n\t# Connection timeout (for the connection with InfluxDB), formatted as a string.\n\t# Valid time units are \"ns\", \"us\" (or \"\u00b5s\"), \"ms\", \"s\", \"m\", \"h\".\n\t# If not provided, will default to 0 (no timeout)\n\t# timeout = \"5s\"\n\n\t# username = \"telegraf\"\n\t# password = \"metricsmetricsmetricsmetrics\"\n\n\t# Set the user agent for the POSTs (can be useful for log differentiation)\n\t# user_agent = \"telegraf\"\n\n\n###############################################################################\n#                                  PLUGINS                                    #\n###############################################################################\n\n[rabbitmq]\n# Specify servers via an array of tables\n\t[[rabbitmq.servers]]\n\turl = \"http://localhost:15672\"\n\tusername = \"admin\"\n\tpassword = \"admin\"\n\n\t# A list of nodes to pull metrics about. If not specified, metrics for\n\t# all nodes are gathered.\n\t# nodes = [\"rabbit@node1\", \"rabbit@node2\"][root@influxdb-1 ~]\n```\n\n# \u8d77\u52d5\u3057\u3066\u307f\u308b\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067foregroud\u3067\u8d77\u52d5\u3057\u3066\u3084\u308b\u3002\n\n```\n$ /opt/telegraf/telegraf -config=telegraf.toml\n2015/09/01 13:13:11 Starting Telegraf (version 0.1.7)\n2015/09/01 13:13:11 Loaded outputs: influxdb\n2015/09/01 13:13:11 Loaded plugins: rabbitmq\n2015/09/01 13:13:11 Tags enabled: host=telegraf01\n```\n\n\u3057\u3070\u3089\u304f\u305f\u3063\u3066influxDB\u3067\u78ba\u8a8d\u3059\u308b\u3068telegraf\u3068\u3044\u3046DB\u306b\u5404\u7a2emeasurements\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n\n![influxdb_rabbitmq.png](https://qiita-image-store.s3.amazonaws.com/0/46472/1f4116d3-e830-4ebb-b41c-a2c3faff8c01.png \"influxdb_rabbitmq.png\")\n\n# Grafana\u3067\u898b\u3066\u307f\u308b\n\nDatasource\u306btelegraf\u3068\u3044\u3046DB\u3092\u8ffd\u52a0\u3057\u3066Dashboard\u3067rabbitmq\u306echannel\u6570\u306a\u3069\u3092\u8868\u793a\u3057\u3066\u3084\u308c\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u308b\u3002\n\n![grafana_rabbitmq.png](https://qiita-image-store.s3.amazonaws.com/0/46472/29a25bbf-f726-cf39-e662-592108fa2e92.png \"grafana_rabbitmq.png\")\n\n\n\n\u3053\u308c\u306f\u4f7f\u3048\u305d\u3046\u3067\u3059\u306d\u3002\n\n\u304a\u3057\u307e\u3044\u3002\n\n", "tags": ["Telegraf", "influxdb", "RabbitMQ"]}