{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n2015\u5e7412\u670815\u65e5\u4ed8\u3051\u3067\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u6700\u521d\u306e eZ Platform (eZ Publish 6) \u5b89\u5b9a\u7248\u3067\u3042\u308b eZ Platform 15.12 \u3092 CentOS 7 \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u624b\u9806\u306e\u8a18\u9332\u3002\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\nCentOS 7.2.1511\nApache 2.4.6\nPHP 7.0.1\nMySQL 5.7.10\n\n\u52e2\u3044\u3067 PHP 7 \u3068 MySQL 5.7 \u3067\u8a66\u3057\u305f\u3089\u610f\u5916\u306b\u52d5\u3044\u305f\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\n\nMySQL \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum -y install https://dev.mysql.com/get/mysql57-community-release-el7-7.noarch.rpm;\nyum -y install mysql-community-server;\ncp -a /etc/my.cnf{,.org};\nsed -i 's/\\[mysqld\\]/\\[mysqld\\]\\ncharacter-set-server=utf8\\ncollation-server=utf8_general_ci/' /etc/my.cnf;\nsystemctl enable mysqld;\nsystemctl start mysqld;\ncat /var/log/mysqld.log | grep password;\nmysql_secure_installation;\nopenssl rand -base64 12;\nmysql -u root -p;\n\nMySQL 5.7 \u306e\u5834\u5408\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u521d\u671f\u30d1\u30b9\u30ef\u30fc\u30c9\u306f /var/log/mysqld.log \u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u3002\nMySQL 5.5 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3044\u5834\u5408\u306f https://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u30fc\u3092\u5229\u7528\u3059\u308b\u3002\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\nmysql> CREATE DATABASE `ezplatform` CHARACTER SET 'utf8';\nmysql> GRANT ALL PRIVILEGES ON `ezplatform`.* TO `ezplatform`@`localhost` IDENTIFIED BY 'p@ssw0rd' WITH GRANT OPTION;\nmysql> EXIT\n\n\nApache \u3068 PHP \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum -y install http://rpms.famillecollet.com/enterprise/remi-release-7.rpm;\nyum-config-manager --enable remi remi-php70;\nyum -y install httpd php php-gd php-intl php-mbstring php-mysqlnd php-opcache php-pecl-apcu php-pecl-xdebug php-xml;\ncp -a /etc/php.ini{,.org};\nsed -i 's/;date\\.timezone =/date.timezone = Asia\\/Tokyo/' /etc/php.ini;\nsed -i 's/memory_limit = 128M/memory_limit = 512M/' /etc/php.ini;\nsystemctl enable httpd;\nsystemctl start httpd;\nfirewall-cmd --permanent --add-service=http;\nfirewall-cmd --reload;\n\nPHP 5.6 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u306f yum-config-manager --enable remi remi-php56 \u3068\u6307\u5b9a\u3059\u308b\u3002\n\neZ Platform \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwget http://share.ez.no/content/download/170868/1017327/version/1/file/ezplatform-dist-2015.12.tar.gz\ntar vzxf ezplatform-dist-2015.12.tar.gz -C /var/www/html --strip=1;\nchown apache:apache -R /var/www/html/*;\ncd /var/www/html;\ncurl -sS https://getcomposer.org/installer | php;\ncurl -sS http://nux.net/secret | grep lead;\nphp -d memory_limit=-1 composer.phar run-script post-install-cmd;\n\n\n\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\nsetfacl -R -m u:apache:rwx -m u:`whoami`:rwx app/cache app/logs web;\nsetfacl -dR -m u:apache:rwx -m u:`whoami`:rwx app/cache app/logs web;\nsetenforce 0;\nsed -i \"s/\\(^SELINUX=\\).*/\\1disabled/\" /etc/selinux/config;\n\n\nVirtualHost\u306e\u8a2d\u5b9a\ncp -a /var/www/html/doc/apache2/vhost.template /etc/httpd/conf.d/ezpublish.conf;\nsed -i /etc/httpd/conf.d/ezpublish.conf \\\n-e 's/%IP_ADDRESS%:%PORT%>/*:80>/' \\\n-e 's/ServerName %HOST%/ServerName www.example.com/' \\\n-e 's/ServerAlias %HOST_ALIAS%/ServerAlias localhost/' \\\n-e 's/%BASEDIR%\\/web/\\/var\\/www\\/html\\/web/' \\\n-e 's/=%ENV%/=dev/';\nhttpd -t;\nsystemctl restart httpd;\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nphp -d memory_limit=-1 app/console ezplatform:install --env prod clean;\n\n\n\u7ba1\u7406\u753b\u9762\u3078\u306e\u30ed\u30b0\u30a4\u30f3\n\nhttp://192.168.56.0.101/ez\n\n\u521d\u671f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u306f admin \u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306f publish \u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3002\n\n\u5099\u8003\n\nezpublish \u30d5\u30a9\u30eb\u30c0\u30fc\u306f app \u306b\u30ea\u30cd\u30fc\u30e0\u3055\u308c\u305f\nThe directory that contains the configuration, cache and kernel files had been named ezpublish since release 5.0. After serious consideration, it has been renamed to app, in order to be closer to the standard Symfony distribution.\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089\u30c7\u30e2\u304c\u524a\u9664\u3055\u308c\u305f\nSince the removal of the demo in the 2015.11 release, a clean SQL dump is now used to install the system. This dump has been cleaned up, and should now provide you with a very clean basis to start your projects. It contains a few content types (folder, article, image, user group, user), as well as the minimal folders (Content, Media, and Users).\n# \u6982\u8981\n2015\u5e7412\u670815\u65e5\u4ed8\u3051\u3067\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u6700\u521d\u306e **eZ Platform (eZ Publish 6)** \u5b89\u5b9a\u7248\u3067\u3042\u308b **eZ Platform 15.12** \u3092 **CentOS 7** \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u624b\u9806\u306e\u8a18\u9332\u3002\n\n## \u30d0\u30fc\u30b8\u30e7\u30f3\n* CentOS 7.2.1511\n* Apache 2.4.6\n* PHP 7.0.1\n* MySQL 5.7.10\n\n\u52e2\u3044\u3067 PHP 7 \u3068 MySQL 5.7 \u3067\u8a66\u3057\u305f\u3089\u610f\u5916\u306b\u52d5\u3044\u305f\u3002\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\n### MySQL \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash\nyum -y install https://dev.mysql.com/get/mysql57-community-release-el7-7.noarch.rpm;\nyum -y install mysql-community-server;\ncp -a /etc/my.cnf{,.org};\nsed -i 's/\\[mysqld\\]/\\[mysqld\\]\\ncharacter-set-server=utf8\\ncollation-server=utf8_general_ci/' /etc/my.cnf;\nsystemctl enable mysqld;\nsystemctl start mysqld;\ncat /var/log/mysqld.log | grep password;\nmysql_secure_installation;\nopenssl rand -base64 12;\nmysql -u root -p;\n```\nMySQL 5.7 \u306e\u5834\u5408\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u521d\u671f\u30d1\u30b9\u30ef\u30fc\u30c9\u306f `/var/log/mysqld.log` \u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u3002\nMySQL 5.5 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3044\u5834\u5408\u306f `https://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm` \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u30fc\u3092\u5229\u7528\u3059\u308b\u3002\n\n### \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\n```mysql\nmysql> CREATE DATABASE `ezplatform` CHARACTER SET 'utf8';\nmysql> GRANT ALL PRIVILEGES ON `ezplatform`.* TO `ezplatform`@`localhost` IDENTIFIED BY 'p@ssw0rd' WITH GRANT OPTION;\nmysql> EXIT\n```\n### Apache \u3068 PHP \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash\nyum -y install http://rpms.famillecollet.com/enterprise/remi-release-7.rpm;\nyum-config-manager --enable remi remi-php70;\nyum -y install httpd php php-gd php-intl php-mbstring php-mysqlnd php-opcache php-pecl-apcu php-pecl-xdebug php-xml;\ncp -a /etc/php.ini{,.org};\nsed -i 's/;date\\.timezone =/date.timezone = Asia\\/Tokyo/' /etc/php.ini;\nsed -i 's/memory_limit = 128M/memory_limit = 512M/' /etc/php.ini;\nsystemctl enable httpd;\nsystemctl start httpd;\nfirewall-cmd --permanent --add-service=http;\nfirewall-cmd --reload;\n```\nPHP 5.6 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u306f `yum-config-manager --enable remi remi-php56` \u3068\u6307\u5b9a\u3059\u308b\u3002\n\n### eZ Platform \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash\nwget http://share.ez.no/content/download/170868/1017327/version/1/file/ezplatform-dist-2015.12.tar.gz\ntar vzxf ezplatform-dist-2015.12.tar.gz -C /var/www/html --strip=1;\nchown apache:apache -R /var/www/html/*;\ncd /var/www/html;\ncurl -sS https://getcomposer.org/installer | php;\ncurl -sS http://nux.net/secret | grep lead;\nphp -d memory_limit=-1 composer.phar run-script post-install-cmd;\n```\n### \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\n```\nsetfacl -R -m u:apache:rwx -m u:`whoami`:rwx app/cache app/logs web;\nsetfacl -dR -m u:apache:rwx -m u:`whoami`:rwx app/cache app/logs web;\nsetenforce 0;\nsed -i \"s/\\(^SELINUX=\\).*/\\1disabled/\" /etc/selinux/config;\n```\n### VirtualHost\u306e\u8a2d\u5b9a\n```\ncp -a /var/www/html/doc/apache2/vhost.template /etc/httpd/conf.d/ezpublish.conf;\nsed -i /etc/httpd/conf.d/ezpublish.conf \\\n-e 's/%IP_ADDRESS%:%PORT%>/*:80>/' \\\n-e 's/ServerName %HOST%/ServerName www.example.com/' \\\n-e 's/ServerAlias %HOST_ALIAS%/ServerAlias localhost/' \\\n-e 's/%BASEDIR%\\/web/\\/var\\/www\\/html\\/web/' \\\n-e 's/=%ENV%/=dev/';\nhttpd -t;\nsystemctl restart httpd;\n```\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\nphp -d memory_limit=-1 app/console ezplatform:install --env prod clean;\n```\n### \u7ba1\u7406\u753b\u9762\u3078\u306e\u30ed\u30b0\u30a4\u30f3\n* http://192.168.56.0.101/ez\n\n\u521d\u671f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u306f `admin` \u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306f `publish` \u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3002\n\n## \u5099\u8003\n### ezpublish \u30d5\u30a9\u30eb\u30c0\u30fc\u306f app \u306b\u30ea\u30cd\u30fc\u30e0\u3055\u308c\u305f\nThe directory that contains the configuration, cache and kernel files had been named ezpublish since release 5.0. After serious consideration, it has been renamed to app, in order to be closer to the standard Symfony distribution.\n### \u30c7\u30d5\u30a9\u30eb\u30c8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089\u30c7\u30e2\u304c\u524a\u9664\u3055\u308c\u305f\nSince the removal of the demo in the 2015.11 release, a clean SQL dump is now used to install the system. This dump has been cleaned up, and should now provide you with a very clean basis to start your projects. It contains a few content types (folder, article, image, user group, user), as well as the minimal folders (Content, Media, and Users).\n", "tags": ["eZPublish6", "eZPlatform15.12", "CentOS7.2.1511"]}