{"context": " More than 1 year has passed since last update.\n\n\u524d\u66f8\u304d\n\u4eca\u3001Meteor\u52c9\u5f37\u4e2d\u3067windows\u3067Vagrant+CoreOS+Docker\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u305f\u3089\u3001\n\u30b3\u30f3\u30c6\u30ca\u4e0a\u306b\u3042\u308b\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u4e0a\u3067\u306fMeteor\u304c\u52d5\u4f5c\u3057\u306a\u304b\u3063\u305f\u306e\u3067\n(mongoDB\u304c\u8d77\u52d5\u3057\u306a\u3044)\u3001\u307e\u3068\u3081\u307e\u3057\u305f\u3002\nmongodb - Can't create working meteor.js project on a vagrant box - Stack Overflow\nWindows\u74b0\u5883\u3067\u3001Docker\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u4e0a\u306b\u3066Meteor\u3092\u52d5\u304b\u3059\uff08\u7c21\u5358\u7de8\uff09 - Qiita\u3067\u7c21\u5358\u7de8\u306e\u8a18\u4e8b\u3082\u66f8\u3044\u305f\u306e\u3067\u3059\u304c\u3001Vagrant\u3067\u52d5\u4f5c\u78ba\u8a8d\u3092\u3057\u306a\u304c\u3089\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u624b\u9806\n\n\u3000\u5404\u7a2e\u30bd\u30d5\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVagrant \u3067 Windows \u4e0a\u306e VirtualBox \u306b CoreOS \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u3001 Ubuntu 14.04 LTS \u306e\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3057\u3001 SSH \u3067\u63a5\u7d9a\u53ef\u80fd\u306b\u3059\u308b #vagrant #coreos #docker - Qiita\n\u2191\u3053\u3053\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\n\nVagrant\ncoreos/coreos-vagrant\nMeteor\nGit for Windows\n\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u6210\u3057\u3066coreos-vagrant\u3092clone\nmkdir projects\ngit clone https://github.com/coreos/coreos-vagrant/\ncd coreos-vagrant\n\n\u3055\u3089\u306b\u3001\u30c6\u30b9\u30c8\u7528\u306bMeteor\u30a2\u30d7\u30ea\u3082\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nmeteor create myApp\n\n\n\u5171\u6709\u8a2d\u5b9a\u30fbvagrant-winnfsd\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5c0e\u5165\nWindows\u4e0a\u3067coreos-vagrant\u3068synced_folder | misty-magic.h\n\u2191\u306b\u3042\u308b\u3068\u304a\u308a\u3001vagrant-winnfsd\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\u3053\u308c\u304c\u306a\u3044\u3068\u3001\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u306f\u898b\u3048\u305f\u3082\u306e\u306e\u3001\u66f4\u65b0\u304c\u5168\u304f\u51fa\u6765\u307e\u305b\u3093\u3067\u3057\u305f\u3002\nvagrant plugin install vagrant-winnfsd\n\n\u307e\u305f\u3001coreos-vagrant\u30d5\u30a9\u30eb\u30c0\u306b\u3042\u308bVagrantfile\u3092\u7de8\u96c6\u3057\u3066\u3001\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n\u3068\u308a\u3042\u3048\u305a\u3001Vagrantfile\u304c\u3042\u308b\u30d5\u30a9\u30eb\u30c0\u3092\u5171\u6709\u3057\u3066\u307f\u307e\u3059\u3002\n\nVagrantfile\nip = \"172.17.8.#{i+100}\"\nconfig.vm.network :private_network, ip: ip\n# Uncomment below to enable NFS for sharing the host machine into the coreos-vagrant VM.\nconfig.vm.synced_folder \".\", \"/home/core/share\", id: \"core\", :nfs => true, :mount_options => ['nolock,vers=3,udp']\n\n\n#config.vm.synced_folder...\u306e\u5148\u982d\u306b\u3064\u3044\u3066\u3044\u308b\u30b3\u30e1\u30f3\u30c8\u3092\u524a\u9664\u3057\u3066\u2191\u306e\u3088\u3046\u306b\u3057\u3001\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\nvaglant up\nvaglant box\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nvagrant up\n\n\u4f5c\u6210\u3067\u304d\u305f\u3089\u3001ssh\u63a5\u7d9a\u3057\u3066\u307f\u307e\u3059\u3002\nvagrand ssh\n\n\u3082\u3057\u304f\u306f\u3001\u76f4\u63a5SSH\u3067\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306fC:\\Users\\<\u30e6\u30fc\u30b6\u30fc\u540d>\\.vagrant.d\\insecure_private_key\u306b\nssh\u30ad\u30fc\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u63a5\u7d9a\u306f\u3067\u304d\u307e\u305b\u3093\u3002\nssh core@172.17.8.101 -i %userprofile%\\.vagrant.d\\insecure_private_key\n\n\u3068\u5165\u529b\u3059\u308b\u3068\u3001\nThe authenticity of host '172.17.8.101 (172.17.8.101)' can't be established.\nRSA key fingerprint is 7e:d5:3f:da:b1:96:74:ef:5f:4a:9f:07:c7:8d:40:cc.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added '172.17.8.101' (RSA) to the list of known hosts.\nLast login: Mon Jul 20 19:12:35 2015 from 172.17.8.1\nCoreOS alpha (745.1.0)\ncore@core-01 ~ $\n\n\u3068\u3001\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\n\nDockerfile\u3067\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\n\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u3001Dockerfile\u3092\u4f5c\u6210\u3057\u3088\u3046\u3068vim\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\nE437: terminal capability \"cm\" required\n\u3068\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3001\u753b\u9762\u304c\u5d29\u308c\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\nvi\u8d77\u52d5\u6642\u306b\u300cE437: terminal capability \"cm\" required\u300d\u3068\u8868\u793a\u3055\u308c\u305f\u3089\u3069\u3046\u3059\u308b\uff1f - \u3064\u3070\u308d\u3050\n\u306b\u3042\u308b\u3068\u304a\u308a\u3001export TERM=vt100\u3092\u5b9f\u884c\u3057\u3001\u6539\u3081\u3066.bashrc\u3092\u7de8\u96c6\u3057\u3088\u3046\u3068\n\u3057\u307e\u3057\u305f\u304c\u3001\u30ea\u30f3\u30af\u30d5\u30a1\u30a4\u30eb\u3068\u306a\u3063\u3066\u304a\u308a\u3001\u7c21\u5358\u306b\u306f\u7de8\u96c6\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u305d\u3053\u3067\u3001\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u3067\u4e88\u3081\u7528\u610f\u3055\u308c\u3066\u3044\u308bCoreOS\u3092\u8a66\u3057\u3066\u307f\u305f - Qiita\u306e\u901a\u308a\n$ rm ~/.bashrc\n$ cp /usr/share/skel/.bashrc ~/.bashrc\n\n\u3068\u3001\u3044\u3063\u305f\u3093\u524a\u9664\u5f8c\u3001\u30ea\u30f3\u30af\u5143\u304b\u3089\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002\n\u3053\u308c\u3067\u3088\u3046\u3084\u304fDockerfile\u304c\u7de8\u96c6\u3067\u304d\u307e\u3059\u3002\n\u518d\u5ea6\u3001Vagrant \u3067 Windows \u4e0a\u306e VirtualBox \u306b CoreOS \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u3001 Ubuntu 14.04 LTS \u306e\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3057\u3001 SSH \u3067\u63a5\u7d9a\u53ef\u80fd\u306b\u3059\u308b #vagrant #coreos #docker - Qiita\u3053\u3061\u3089\u3092\u53c2\u8003\u306bDockerfile\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u8d85\u9069\u5f53\u3067\u3059\u3002\u9014\u4e2d\u3001ubuntu\u306a\u3089\u3067\u306f\u306e\u554f\u984c(node\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001nodejs\u3067\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u306a\u3069\uff09\u306e\u5bfe\u7b56\u3084\u3001apt\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092jaist\u306b\u3057\u305f\u308a\uff08\u5b8c\u5168\u3067\u306f\u306a\u3044\u3051\u3069\uff09\nMeteor\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\u3057\u307e\u3057\u305f\u3002\n\nDockerfile\nFROM ubuntu:14.04\nMAINTAINER example <example@mail.com>\nRUN sed -i s/archive.ubuntu.com/ftp.jaist.ac.jp/ /etc/apt/sources.list\nRUN apt-get update && apt-get upgrade -y\nRUN apt-get install git curl -y\nRUN curl https://install.meteor.com/ | sh\nRUN apt-get install nodejs npm -y\nRUN sudo update-alternatives --install /usr/bin/node node /usr/bin/nodejs 10\nRUN apt-get install -y openssh-server\nRUN useradd -m -s /bin/bash core\nRUN mkdir -p /home/core/.ssh; chown core:core /home/core/.ssh; chmod 700 /home/core/.ssh\nADD .ssh/authorized_keys /home/core/.ssh/\nRUN chown core /home/core/.ssh/authorized_keys; chmod 600 /home/core/.ssh/authorized_keys\nRUN chown -R core:core /home/core/.ssh\nRUN echo \"core    ALL=(ALL)       NOPASSWD: ALL\" >> /etc/sudoers.d/core\nRUN /etc/init.d/ssh start\nRUN /etc/init.d/ssh stop\nEXPOSE 22\n\n\n\u4fdd\u5b58\u3057\u305f\u3089\u3001\ndocker build -t myrepo/ubuntu:meteor .\n\n\u3068Dockerfile\u304b\u3089\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3057\u3070\u3089\u304f\u5f85\u3063\u3066\u3044\u308b\u3068\u3001\nStep 17 : EXPOSE 22\n ---> Running in 351be98ae454\n ---> 07aa1aaebcf3\nRemoving intermediate container 351be98ae454\nSuccessfully built 07aa1aaebcf3\n\n\u3068\u3067\u308c\u3070\u3001\u30a4\u30e1\u30fc\u30b8\u69cb\u7bc9\u7d42\u4e86\u3067\u3059\u3002\n\n\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\n$ docker run -d -p 2222:22 -p 3000:3000 -v /home/core/share:/vagrant --privileged myrepo/ubuntu:meteor /usr/sbin/sshd -D\n\n\u3067ssh\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\uff08\u78ba\u8a8d\u3060\u3051\u3067\u3042\u308c\u3070\u76f4\u63a5/bin/bash\u3092-it\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u3066\u8d77\u52d5\u3057\u3066\u3082\u3044\u3044\u3068\u601d\u3044\u307e\u3059\uff09\u3053\u3053\u3067\u3001coreOS\u5074\u3067/home/core/share\u306e\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u3092\u3001\n\u66f4\u306bubuntu\u5074\u3067\u306f/vagrant\u30d5\u30a9\u30eb\u30c0\u306b\u5272\u308a\u5f53\u3066\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001--privileged\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001\u3042\u3068\u3067Permission Denied\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u4ed8\u3051\u3066\u3044\u307e\u3059\u3002\nssh\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3057\u305f\u306e\u3067\u3042\u308c\u3070\u3001\u5225\u306e\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u304b\u3089\nssh core@172.17.8.101 -p 2222 -i %userprofile%\\.vagrant.d\\insecure_private_key\n\n\u3067\u3001ubuntu\u5074\u306b\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\uff08\u30dd\u30fc\u30c8\u306e22\u3060\u3068coreOS\u5074\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3057\u307e\u3044\u307e\u3059\uff09\n\u30b3\u30f3\u30c6\u30ca\u306b\u30ed\u30b0\u30a4\u30f3\u5f8c\u3001Meteor\u304c\u52d5\u4f5c\u3059\u308b\u305f\u3081\u306b\u901a\u5e38\u30d5\u30a9\u30eb\u30c0\u5185\u306b\u9069\u5f53\u306b\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001Meteor\u30a2\u30d7\u30ea\u5185\u306b\u3042\u308b/.meteor/local\u30d5\u30a9\u30eb\u30c0\u3092mount\u3057\u307e\u3059\u3002\n# mkdir local\n# sudo mount --bind local/ /vagrant/myApp/.meteor/local/\n\n\u3053\u308c\u3067\u6e96\u5099\u5b8c\u4e86\u3067\u3059\u3002Meteor\u30a2\u30d7\u30ea\u30d5\u30a9\u30eb\u30c0\u306b\u5165\u3063\u3066\u8d77\u52d5\u3057\u307e\u3059\u3002\n# cd /vagrant/myApp/\n# meteor\n[[[[[ /vagrant/myApp ]]]]]\n\n=> Started proxy.\n=> Started MongoDB.\n=> Started your app.\n\n=> App running at: http://localhost:3000/\n\n\u7121\u4e8b\u8d77\u52d5\u3057\u307e\u3057\u305f\u3002\n\u30d6\u30e9\u30a6\u30b6\u3067 http://172.17.8.101:3000/ \u3092\u958b\u304f\u3068\n\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\n\u5f53\u7136\u3001\u30db\u30b9\u30c8OS\u5074\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3059\u308b\u3068\u3001\u30b3\u30f3\u30c6\u30ca\u5074\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u66f4\u65b0\u3055\u308c\u3001hot reload\u3067\n\u30d6\u30e9\u30a6\u30b6\u306e\u753b\u9762\u3082\u81ea\u52d5\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002(\u7d50\u69cb\u6642\u9593\u304b\u304b\u308b\u3068\u304d\u304c\u3042\u308a\u307e\u3059\u304c\uff09\n\n\u7d42\u308f\u308a\u306b\nVagrant\u3067\u4f5c\u696d\u3057\u307e\u3057\u305f\u306e\u3067\u3001\u9762\u5012\u3067\u306f\u3042\u308a\u307e\u3059\u304c\uff08\u9014\u4e2d\u3044\u308d\u3044\u308d\u8131\u7dda\u3057\u307e\u3057\u305f\u304c\uff09\u3001\u305d\u306e\u5206\u81ea\u7531\u5ea6\u3082\u9ad8\u304f\u3069\u306e\u3088\u3046\u306b\u3082\u8a2d\u5b9a\u3067\u304d\u308b\u67d4\u8edf\u3055\u306f\u3042\u308a\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n# \u524d\u66f8\u304d\n\u4eca\u3001Meteor\u52c9\u5f37\u4e2d\u3067windows\u3067Vagrant+CoreOS+Docker\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u305f\u3089\u3001\n\u30b3\u30f3\u30c6\u30ca\u4e0a\u306b\u3042\u308b\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u4e0a\u3067\u306fMeteor\u304c\u52d5\u4f5c\u3057\u306a\u304b\u3063\u305f\u306e\u3067\n(mongoDB\u304c\u8d77\u52d5\u3057\u306a\u3044)\u3001\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n[mongodb - Can't create working meteor.js project on a vagrant box - Stack Overflow](http://stackoverflow.com/questions/25712468/cant-create-working-meteor-js-project-on-a-vagrant-box)\n\n[Windows\u74b0\u5883\u3067\u3001Docker\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u4e0a\u306b\u3066Meteor\u3092\u52d5\u304b\u3059\uff08\u7c21\u5358\u7de8\uff09 - Qiita](http://qiita.com/insight3110/items/30ec76a63ad4b79b1ba7)\u3067\u7c21\u5358\u7de8\u306e\u8a18\u4e8b\u3082\u66f8\u3044\u305f\u306e\u3067\u3059\u304c\u3001Vagrant\u3067\u52d5\u4f5c\u78ba\u8a8d\u3092\u3057\u306a\u304c\u3089\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n# \u624b\u9806\n##\u3000\u5404\u7a2e\u30bd\u30d5\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[Vagrant \u3067 Windows \u4e0a\u306e VirtualBox \u306b CoreOS \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u3001 Ubuntu 14.04 LTS \u306e\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3057\u3001 SSH \u3067\u63a5\u7d9a\u53ef\u80fd\u306b\u3059\u308b #vagrant #coreos #docker - Qiita](http://qiita.com/tbpgr/items/800ad117e234b38f0a80)\n\u2191\u3053\u3053\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\n\n* [Vagrant](https://www.vagrantup.com/)\n* [coreos/coreos-vagrant](https://github.com/coreos/coreos-vagrant)\n* [Meteor](https://www.meteor.com/)\n* [Git for Windows](https://msysgit.github.io/)\n\n## \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u6210\u3057\u3066coreos-vagrant\u3092clone\n```\nmkdir projects\ngit clone https://github.com/coreos/coreos-vagrant/\ncd coreos-vagrant\n```\n\n\u3055\u3089\u306b\u3001\u30c6\u30b9\u30c8\u7528\u306bMeteor\u30a2\u30d7\u30ea\u3082\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\nmeteor create myApp\n```\n\n\n## \u5171\u6709\u8a2d\u5b9a\u30fbvagrant-winnfsd\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5c0e\u5165\n[Windows\u4e0a\u3067coreos-vagrant\u3068synced_folder | misty-magic.h](https://mistymagich.wordpress.com/2015/03/04/windows%E4%B8%8A%E3%81%A7coreos-vagrant%E3%81%A8synced_folder/)\n\u2191\u306b\u3042\u308b\u3068\u304a\u308a\u3001vagrant-winnfsd\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\u3053\u308c\u304c\u306a\u3044\u3068\u3001\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u306f\u898b\u3048\u305f\u3082\u306e\u306e\u3001\u66f4\u65b0\u304c\u5168\u304f\u51fa\u6765\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n```\nvagrant plugin install vagrant-winnfsd\n```\n\n\u307e\u305f\u3001coreos-vagrant\u30d5\u30a9\u30eb\u30c0\u306b\u3042\u308bVagrantfile\u3092\u7de8\u96c6\u3057\u3066\u3001\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n\u3068\u308a\u3042\u3048\u305a\u3001Vagrantfile\u304c\u3042\u308b\u30d5\u30a9\u30eb\u30c0\u3092\u5171\u6709\u3057\u3066\u307f\u307e\u3059\u3002\n\n```ruby:Vagrantfile\nip = \"172.17.8.#{i+100}\"\nconfig.vm.network :private_network, ip: ip\n# Uncomment below to enable NFS for sharing the host machine into the coreos-vagrant VM.\nconfig.vm.synced_folder \".\", \"/home/core/share\", id: \"core\", :nfs => true, :mount_options => ['nolock,vers=3,udp']\n```\n\n`#config.vm.synced_folder...`\u306e\u5148\u982d\u306b\u3064\u3044\u3066\u3044\u308b\u30b3\u30e1\u30f3\u30c8\u3092\u524a\u9664\u3057\u3066\u2191\u306e\u3088\u3046\u306b\u3057\u3001\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\n## vaglant up\nvaglant box\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\nvagrant up\n```\n\n\u4f5c\u6210\u3067\u304d\u305f\u3089\u3001ssh\u63a5\u7d9a\u3057\u3066\u307f\u307e\u3059\u3002\n\n```\nvagrand ssh\n```\n\n\u3082\u3057\u304f\u306f\u3001\u76f4\u63a5SSH\u3067\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306f`C:\\Users\\<\u30e6\u30fc\u30b6\u30fc\u540d>\\.vagrant.d\\insecure_private_key`\u306b\nssh\u30ad\u30fc\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u63a5\u7d9a\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\n```\nssh core@172.17.8.101 -i %userprofile%\\.vagrant.d\\insecure_private_key\n```\n\n\u3068\u5165\u529b\u3059\u308b\u3068\u3001\n\n```\nThe authenticity of host '172.17.8.101 (172.17.8.101)' can't be established.\nRSA key fingerprint is 7e:d5:3f:da:b1:96:74:ef:5f:4a:9f:07:c7:8d:40:cc.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added '172.17.8.101' (RSA) to the list of known hosts.\nLast login: Mon Jul 20 19:12:35 2015 from 172.17.8.1\nCoreOS alpha (745.1.0)\ncore@core-01 ~ $\n```\n\n\u3068\u3001\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\n\n## Dockerfile\u3067\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\n\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u3001Dockerfile\u3092\u4f5c\u6210\u3057\u3088\u3046\u3068vim\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\n`E437: terminal capability \"cm\" required`\n\u3068\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3001\u753b\u9762\u304c\u5d29\u308c\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\n[vi\u8d77\u52d5\u6642\u306b\u300cE437: terminal capability \"cm\" required\u300d\u3068\u8868\u793a\u3055\u308c\u305f\u3089\u3069\u3046\u3059\u308b\uff1f - \u3064\u3070\u308d\u3050](http://tsubalog.hatenablog.com/entry/how-to-solve-terminal-capability)\n\u306b\u3042\u308b\u3068\u304a\u308a\u3001`export TERM=vt100`\u3092\u5b9f\u884c\u3057\u3001\u6539\u3081\u3066.bashrc\u3092\u7de8\u96c6\u3057\u3088\u3046\u3068\n\u3057\u307e\u3057\u305f\u304c\u3001\u30ea\u30f3\u30af\u30d5\u30a1\u30a4\u30eb\u3068\u306a\u3063\u3066\u304a\u308a\u3001\u7c21\u5358\u306b\u306f\u7de8\u96c6\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\u305d\u3053\u3067\u3001[\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u3067\u4e88\u3081\u7528\u610f\u3055\u308c\u3066\u3044\u308bCoreOS\u3092\u8a66\u3057\u3066\u307f\u305f - Qiita](http://qiita.com/hnakamur/items/dc22457eb8fa679b1dfd)\u306e\u901a\u308a\n\n```\n$ rm ~/.bashrc\n$ cp /usr/share/skel/.bashrc ~/.bashrc\n```\n\u3068\u3001\u3044\u3063\u305f\u3093\u524a\u9664\u5f8c\u3001\u30ea\u30f3\u30af\u5143\u304b\u3089\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002\n\n\u3053\u308c\u3067\u3088\u3046\u3084\u304fDockerfile\u304c\u7de8\u96c6\u3067\u304d\u307e\u3059\u3002\n\n\u518d\u5ea6\u3001[Vagrant \u3067 Windows \u4e0a\u306e VirtualBox \u306b CoreOS \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u3001 Ubuntu 14.04 LTS \u306e\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3057\u3001 SSH \u3067\u63a5\u7d9a\u53ef\u80fd\u306b\u3059\u308b #vagrant #coreos #docker - Qiita](http://qiita.com/tbpgr/items/800ad117e234b38f0a80)\u3053\u3061\u3089\u3092\u53c2\u8003\u306bDockerfile\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u8d85\u9069\u5f53\u3067\u3059\u3002\u9014\u4e2d\u3001ubuntu\u306a\u3089\u3067\u306f\u306e\u554f\u984c(node\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001nodejs\u3067\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u306a\u3069\uff09\u306e\u5bfe\u7b56\u3084\u3001apt\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092jaist\u306b\u3057\u305f\u308a\uff08\u5b8c\u5168\u3067\u306f\u306a\u3044\u3051\u3069\uff09\nMeteor\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\u3057\u307e\u3057\u305f\u3002\n\n```txt:Dockerfile\nFROM ubuntu:14.04\nMAINTAINER example <example@mail.com>\nRUN sed -i s/archive.ubuntu.com/ftp.jaist.ac.jp/ /etc/apt/sources.list\nRUN apt-get update && apt-get upgrade -y\nRUN apt-get install git curl -y\nRUN curl https://install.meteor.com/ | sh\nRUN apt-get install nodejs npm -y\nRUN sudo update-alternatives --install /usr/bin/node node /usr/bin/nodejs 10\nRUN apt-get install -y openssh-server\nRUN useradd -m -s /bin/bash core\nRUN mkdir -p /home/core/.ssh; chown core:core /home/core/.ssh; chmod 700 /home/core/.ssh\nADD .ssh/authorized_keys /home/core/.ssh/\nRUN chown core /home/core/.ssh/authorized_keys; chmod 600 /home/core/.ssh/authorized_keys\nRUN chown -R core:core /home/core/.ssh\nRUN echo \"core    ALL=(ALL)       NOPASSWD: ALL\" >> /etc/sudoers.d/core\nRUN /etc/init.d/ssh start\nRUN /etc/init.d/ssh stop\nEXPOSE 22\n```\n\n\u4fdd\u5b58\u3057\u305f\u3089\u3001\n\n```\ndocker build -t myrepo/ubuntu:meteor .\n```\n\n\u3068Dockerfile\u304b\u3089\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3057\u3070\u3089\u304f\u5f85\u3063\u3066\u3044\u308b\u3068\u3001\n\n```\nStep 17 : EXPOSE 22\n ---> Running in 351be98ae454\n ---> 07aa1aaebcf3\nRemoving intermediate container 351be98ae454\nSuccessfully built 07aa1aaebcf3\n```\n\n\u3068\u3067\u308c\u3070\u3001\u30a4\u30e1\u30fc\u30b8\u69cb\u7bc9\u7d42\u4e86\u3067\u3059\u3002\n\n# \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\n```\n$ docker run -d -p 2222:22 -p 3000:3000 -v /home/core/share:/vagrant --privileged myrepo/ubuntu:meteor /usr/sbin/sshd -D\n```\n\n\u3067ssh\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\uff08\u78ba\u8a8d\u3060\u3051\u3067\u3042\u308c\u3070\u76f4\u63a5/bin/bash\u3092-it\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u3066\u8d77\u52d5\u3057\u3066\u3082\u3044\u3044\u3068\u601d\u3044\u307e\u3059\uff09\u3053\u3053\u3067\u3001coreOS\u5074\u3067`/home/core/share`\u306e\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u3092\u3001\n\u66f4\u306bubuntu\u5074\u3067\u306f/vagrant\u30d5\u30a9\u30eb\u30c0\u306b\u5272\u308a\u5f53\u3066\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001--privileged\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001\u3042\u3068\u3067Permission Denied\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u4ed8\u3051\u3066\u3044\u307e\u3059\u3002\n\nssh\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3057\u305f\u306e\u3067\u3042\u308c\u3070\u3001\u5225\u306e\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u304b\u3089\n\n```\nssh core@172.17.8.101 -p 2222 -i %userprofile%\\.vagrant.d\\insecure_private_key\n```\n\n\u3067\u3001ubuntu\u5074\u306b\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\uff08\u30dd\u30fc\u30c8\u306e22\u3060\u3068coreOS\u5074\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3057\u307e\u3044\u307e\u3059\uff09\n\n\u30b3\u30f3\u30c6\u30ca\u306b\u30ed\u30b0\u30a4\u30f3\u5f8c\u3001Meteor\u304c\u52d5\u4f5c\u3059\u308b\u305f\u3081\u306b\u901a\u5e38\u30d5\u30a9\u30eb\u30c0\u5185\u306b\u9069\u5f53\u306b\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001Meteor\u30a2\u30d7\u30ea\u5185\u306b\u3042\u308b/.meteor/local\u30d5\u30a9\u30eb\u30c0\u3092mount\u3057\u307e\u3059\u3002\n\n```\n# mkdir local\n# sudo mount --bind local/ /vagrant/myApp/.meteor/local/\n```\n\n\u3053\u308c\u3067\u6e96\u5099\u5b8c\u4e86\u3067\u3059\u3002Meteor\u30a2\u30d7\u30ea\u30d5\u30a9\u30eb\u30c0\u306b\u5165\u3063\u3066\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\n# cd /vagrant/myApp/\n# meteor\n[[[[[ /vagrant/myApp ]]]]]\n\n=> Started proxy.\n=> Started MongoDB.\n=> Started your app.\n\n=> App running at: http://localhost:3000/\n```\n\n\u7121\u4e8b\u8d77\u52d5\u3057\u307e\u3057\u305f\u3002\n\u30d6\u30e9\u30a6\u30b6\u3067 [http://172.17.8.101:3000/](http://172.17.8.101:3000/) \u3092\u958b\u304f\u3068\n\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u5f53\u7136\u3001\u30db\u30b9\u30c8OS\u5074\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3059\u308b\u3068\u3001\u30b3\u30f3\u30c6\u30ca\u5074\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u66f4\u65b0\u3055\u308c\u3001hot reload\u3067\n\u30d6\u30e9\u30a6\u30b6\u306e\u753b\u9762\u3082\u81ea\u52d5\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002(\u7d50\u69cb\u6642\u9593\u304b\u304b\u308b\u3068\u304d\u304c\u3042\u308a\u307e\u3059\u304c\uff09\n\n# \u7d42\u308f\u308a\u306b\nVagrant\u3067\u4f5c\u696d\u3057\u307e\u3057\u305f\u306e\u3067\u3001\u9762\u5012\u3067\u306f\u3042\u308a\u307e\u3059\u304c\uff08\u9014\u4e2d\u3044\u308d\u3044\u308d\u8131\u7dda\u3057\u307e\u3057\u305f\u304c\uff09\u3001\u305d\u306e\u5206\u81ea\u7531\u5ea6\u3082\u9ad8\u304f\u3069\u306e\u3088\u3046\u306b\u3082\u8a2d\u5b9a\u3067\u304d\u308b\u67d4\u8edf\u3055\u306f\u3042\u308a\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["Meteor", "vagrant", "docker"]}