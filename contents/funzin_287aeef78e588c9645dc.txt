{"context": "\n\n\u958b\u767a\u74b0\u5883\nElCaption 10.11.4\nSwift2.2\nXcode7.3\n\n\u4e8b\u524d\u6e96\u5099\nAPI\u30ad\u30fc\u3092\u53d6\u5f97\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u304cPHP\u3067\u77ed\u7e2eURL\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u307e\u3068\u3081(\u51687\u30b5\u30a4\u30c8)\u306b\u53d6\u5f97\u65b9\u6cd5\u304c\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\nSwift\u3067HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u30b3\u30fc\u30c9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u3053\u3053\u3067\u306f\u3001\u7def\u5ea6\u7d4c\u5ea6\u3092\u6307\u5b9a\u3057\u305fGoogleMap\u306eURL\u3092\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n(\u53d6\u5f97\u3057\u305fAPI\u30ad\u30fc\u3092\u66f8\u304d\u63db\u3048\u308b\u306e\u3092\u5fd8\u308c\u305a\u306b!)\n\nViewController\nclass ViewController: UIViewController {\n\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        postAsync()\n\n    }\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n\n\n    // HTTP-POST\n    func postAsync() {\n\n        let apiKey = \"API\u30ad\u30fc\u3092\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\"\n        // create the url-request\n\n        //\u30a2\u30d7\u30ea\u3054\u3068\u306b\u30ad\u30fc\u306f\u751f\u6210\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n        let urlString = \"https://www.googleapis.com/urlshortener/v1/url?key=\" + apiKey\n        let request = NSMutableURLRequest(URL: NSURL(string: urlString)!)\n\n        // set the method(HTTP-POST)\n        request.HTTPMethod = \"POST\"\n        // set the header(s)\n        request.addValue(\"application/json\", forHTTPHeaderField: \"Content-Type\")\n\n        // set the request-body(JSON)\n        let params: [String: AnyObject] = [\n            \"longUrl\":\"http://maps.google.com/maps?q=35,139&ll=35,139\"\n        ]\n\n        do {\n            request.HTTPBody = try NSJSONSerialization.dataWithJSONObject(params, options: NSJSONWritingOptions.init(rawValue: 2))\n        } catch {\n            // Error Handling\n            print(\"NSJSONSerialization Error\")\n            return\n        }\n\n\n        // use NSURLSessionDataTask\n        let task = NSURLSession.sharedSession().dataTaskWithRequest(request, completionHandler: {data, response, error in\n            if (error == nil) {\n                let result = NSString(data: data!, encoding: NSUTF8StringEncoding)!\n                print(result)\n            } else {\n                print(error)\n            }\n        })\n        task.resume()\n\n    }\n\n\n}\n\n\n\n\n\u7d50\u679c\nid\u3092\u6307\u5b9a\u3057\u3066\u3042\u3052\u308c\u3070\u3001\u77ed\u7e2eURL\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n{\n \"kind\": \"urlshortener#url\",\n \"id\": \"http://goo.gl/rV3xdk\",\n \"longUrl\": \"http://maps.google.com/maps?q=35,139&ll=35,139\"\n}\n\n#\u958b\u767a\u74b0\u5883\nElCaption 10.11.4\nSwift2.2\nXcode7.3\n\n#\u4e8b\u524d\u6e96\u5099\nAPI\u30ad\u30fc\u3092\u53d6\u5f97\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u304c<a href=\"https://syncer.jp/how-to-make-shoten-url\" target=\"_blank\">PHP\u3067\u77ed\u7e2eURL\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u307e\u3068\u3081(\u51687\u30b5\u30a4\u30c8)</a>\u306b\u53d6\u5f97\u65b9\u6cd5\u304c\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n#\u30b3\u30fc\u30c9\n<a href=\"http://qiita.com/sushichop/items/ac4ae99b905ce523c2fe\" target=\"_blank\">Swift\u3067HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b</a>\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u30b3\u30fc\u30c9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u3053\u3053\u3067\u306f\u3001\u7def\u5ea6\u7d4c\u5ea6\u3092\u6307\u5b9a\u3057\u305fGoogleMap\u306eURL\u3092\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n(\u53d6\u5f97\u3057\u305fAPI\u30ad\u30fc\u3092\u66f8\u304d\u63db\u3048\u308b\u306e\u3092\u5fd8\u308c\u305a\u306b!)\n\n```swift:ViewController\nclass ViewController: UIViewController {\n    \n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        postAsync()\n        \n    }\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n    \n    \n    // HTTP-POST\n    func postAsync() {\n        \n        let apiKey = \"API\u30ad\u30fc\u3092\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\"\n        // create the url-request\n        \n        //\u30a2\u30d7\u30ea\u3054\u3068\u306b\u30ad\u30fc\u306f\u751f\u6210\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n        let urlString = \"https://www.googleapis.com/urlshortener/v1/url?key=\" + apiKey\n        let request = NSMutableURLRequest(URL: NSURL(string: urlString)!)\n        \n        // set the method(HTTP-POST)\n        request.HTTPMethod = \"POST\"\n        // set the header(s)\n        request.addValue(\"application/json\", forHTTPHeaderField: \"Content-Type\")\n        \n        // set the request-body(JSON)\n        let params: [String: AnyObject] = [\n            \"longUrl\":\"http://maps.google.com/maps?q=35,139&ll=35,139\"\n        ]\n        \n        do {\n            request.HTTPBody = try NSJSONSerialization.dataWithJSONObject(params, options: NSJSONWritingOptions.init(rawValue: 2))\n        } catch {\n            // Error Handling\n            print(\"NSJSONSerialization Error\")\n            return\n        }\n        \n        \n        // use NSURLSessionDataTask\n        let task = NSURLSession.sharedSession().dataTaskWithRequest(request, completionHandler: {data, response, error in\n            if (error == nil) {\n                let result = NSString(data: data!, encoding: NSUTF8StringEncoding)!\n                print(result)\n            } else {\n                print(error)\n            }\n        })\n        task.resume()\n        \n    }\n    \n    \n}\n\n```\n#\u7d50\u679c\nid\u3092\u6307\u5b9a\u3057\u3066\u3042\u3052\u308c\u3070\u3001\u77ed\u7e2eURL\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\n```\n{\n \"kind\": \"urlshortener#url\",\n \"id\": \"http://goo.gl/rV3xdk\",\n \"longUrl\": \"http://maps.google.com/maps?q=35,139&ll=35,139\"\n}\n```\n\n\n\n\n", "tags": ["Swift", "Xcode", "JSON", "HTTP"]}