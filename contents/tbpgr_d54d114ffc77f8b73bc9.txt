{"context": " More than 1 year has passed since last update.@r7kamura\u3055\u3093\u4f5c\u306eRack::JsonSchema\u306especup\u3092\u5229\u7528\u3057\u3066\nJSON Schema\u3092\u5143\u306b\u30c0\u30df\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3057\u307e\u3059\n\n \u6e96\u5099\nRack::JsonSchema\u306b\u3064\u3044\u3066\u306f@r7kamura\u3055\u3093\u672c\u4eba\u306b\u3088\u308b\u4e0b\u8a18\u306e\u30a8\u30f3\u30c8\u30ea\u3092\u30c1\u30a7\u30c3\u30af\n \u5168\u3066\u304cJSON\u306b\u306a\u308b\n\n \u30b5\u30f3\u30d7\u30eb\n\n\u3042\u3089\u304b\u3058\u3081 rack-json_schema gem \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\n\n\n JSON Schema\n\nschema.json\n{\n  \"description\": \"\u3053\u306e\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\u3067\u306f\u3001Sample API v1 \u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092JSON Hyper Schema draft v4\u5f62\u5f0f\u3067\u8868\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\",\n  \"links\": [\n    {\n      \"method\": \"GET\",\n      \"title\": \"{:href=>\\\"http://localhost:3000\\\", :rel=>\\\"self\\\"}\"\n    }\n  ],\n  \"properties\": {\n    \"people\": {\n      \"links\": [\n        {\n          \"description\": \"\u5168\u3066\u306e\u4eba\u7269\u306e\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people\",\n          \"method\": \"GET\",\n          \"rel\": \"instances\",\n          \"title\": \"list\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"GET\",\n          \"rel\": \"self\",\n          \"title\": \"get\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u767b\u9332\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"POST\",\n          \"rel\": \"self\",\n          \"schema\": {\n            \"properties\": {\n              \"name\": {\n                \"description\": \"\u4eba\u7269\u306e\u540d\u524d\",\n                \"example\": \"tanaka\",\n                \"type\": \"string\"\n              },\n              \"age\": {\n                \"description\": \"\u4eba\u7269\u306e\u5e74\u9f62\",\n                \"example\": 34,\n                \"type\": \"integer\"\n              }\n            },\n            \"required\": [\n              \"name\",\n              \"age\"\n            ]\n          },\n          \"title\": \"create\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"PATCH\",\n          \"rel\": \"self\",\n          \"schema\": {\n            \"properties\": {\n              \"name\": {\n                \"description\": \"\u4eba\u7269\u306e\u540d\u524d\",\n                \"example\": \"tanaka\",\n                \"type\": \"string\"\n              },\n              \"age\": {\n                \"description\": \"\u4eba\u7269\u306e\u5e74\u9f62\",\n                \"example\": 34,\n                \"type\": \"integer\"\n              }\n            },\n            \"required\": [\n              \"name\",\n              \"age\"\n            ]\n          },\n          \"title\": \"update\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u524a\u9664\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"DELETE\",\n          \"rel\": \"self\",\n          \"title\": \"delete\"\n        }\n      ],\n      \"properties\": {\n        \"id\": {\n          \"description\": \"\u4eba\u7269\u306eid\",\n          \"example\": 1,\n          \"type\": \"integer\"\n        },\n        \"name\": {\n          \"description\": \"\u4eba\u7269\u306e\u540d\u524d\",\n          \"example\": \"tanaka\",\n          \"type\": \"string\"\n        },\n        \"age\": {\n          \"description\": \"\u4eba\u7269\u306e\u5e74\u9f62\",\n          \"example\": 34,\n          \"type\": \"integer\"\n        }\n      },\n      \"required\": [\n        \"id\",\n        \"name\",\n        \"age\"\n      ],\n      \"title\": \"Person\"\n    }\n  },\n  \"required\": [\n    \"people\"\n  ],\n  \"title\": \"Sample API v1 JSON Schema\"\n}\n\n\n\n \u52d5\u4f5c\u78ba\u8a8d\n\n specup\nspecup\u3067\u30c0\u30df\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3057\u307e\u3059\n$ specup schema.json\n[2015-08-05 04:54:09] INFO  WEBrick 1.3.1\n[2015-08-05 04:54:09] INFO  ruby 2.2.0 (2014-12-25) [x86_64-linux]\n[2015-08-05 04:54:09] INFO  WEBrick::HTTPServer#start: pid=2041 port=8080\n\n\n Schema\n$ curl -X GET http://localhost:8080/schema\n# json schema\u304c\u51fa\u529b\u3055\u308c\u308b\n\n\n Docs\n$ curl -X GET http://localhost:8080/docs\n# HTML\u5f62\u5f0f\u306eSchema\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u51fa\u529b\u3055\u308c\u308b\n\n\n \u30ea\u30b9\u30c8\u53c2\u7167\n$ curl -X GET http://localhost:8080/api/v1/people\n[\n  {\n    \"id\": 1,\n    \"name\": \"tanaka\",\n    \"age\": 34\n  }\n]\n\n\n 1\u4ef6\u53c2\u7167\n$ curl -X GET http://localhost:8080/api/v1/people/1\n{\n  \"id\": 1,\n  \"name\": \"tanaka\",\n  \"age\": 34\n}\n\n\n \u767b\u9332\n$ curl -X GET http://localhost:8080/api/v1/people/1\n{\n  \"id\": 1,\n  \"name\": \"tanaka\",\n  \"age\": 34\n}\n\n\n \u66f4\u65b0\n$ curl -X PATCH -H \"Content-Type: application/json\" -d \\\n'{\"name\":\"hoge_update\", \"age\": 12345}' http://localhost:8080/api/v1/people/1\n{\n  \"id\": 1,\n  \"name\": \"tanaka\",\n  \"age\": 34\n}\n\n\n\u308f\u3056\u3068\u4e0d\u6b63\u30c7\u30fc\u30bf\u3092\u9001\u308b: age \u3092\u6587\u5b57\u5217\u306b\u3059\u308b\n\n$ curl -X PATCH -H \"Content-Type: application/json\" -d \\\n'{\"name\":\"hoge_update\", \"age\": \"12345\"}' http://localhost:8080/api/v1/people/1\n{\n  \"id\": \"invalid_parameter\",\n  \"message\": \"Invalid request.\\n#/age: failed schema #/properties/person/links/3/schema/properties/age: \\\"12345\\\" is not a integer.\"\n}\n\n\n\u308f\u3056\u3068\u4e0d\u6b63\u30c7\u30fc\u30bf\u3092\u9001\u308b: age \u306a\u3057\n\n$ curl -X PATCH -H \"Content-Type: application/json\" -d \\\n'{\"name\":\"hoge_update\"}' http://localhost:8080/api/v1/people/1\n{\n  \"id\": \"invalid_parameter\",\n  \"message\": \"Invalid request.\\n#: failed schema #/properties/person/links/3/schema: \\\"age\\\" wasn't supplied.\"\n}\n\n\n \u524a\u9664\n$ curl -X DELETE http://localhost:8080/api/v1/people/7\n{\n  \"id\": 1,\n  \"name\": \"tanaka\",\n  \"age\": 34\n}\n\n\n \u4e0d\u6b63\u30ea\u30f3\u30af\nlinks\u3067\u5b9a\u7fa9\u3057\u3066\u3044\u306a\u3044\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u308b\n$ curl -X GET http://localhost:8080/api/v1/hoge/\n{\n  \"id\": \"link_not_found\",\n  \"message\": \"Could not find the link definition for request path /api/v1/hoge/.\"\n}\n\n\n \u95a2\u9023\u30a8\u30f3\u30c8\u30ea\n\n\n JsonWorld\u3092\u5229\u7528\u3057\u3066JSON Schema\u3068JSON\u3092\u751f\u6210\u3057\u3066\u307f\u308b\n\n\n JsonWorld\u3092\u5229\u7528\u3057\u3066\u751f\u6210\u3057\u305fJSON Schema\u3092\u8aad\u307f\u8fbc\u307f\u3001Jsonism\u3067API\u3092\u547c\u3073\u51fa\u3059\n\n\n\n \u5916\u90e8\u8cc7\u6599\n\n\n Rack::JsonSchema - GitHub\n\n\n \u5168\u3066\u304cJSON\u306b\u306a\u308b\n\n\n@r7kamura\u3055\u3093\u4f5c\u306eRack::JsonSchema\u306especup\u3092\u5229\u7528\u3057\u3066\nJSON Schema\u3092\u5143\u306b\u30c0\u30df\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3057\u307e\u3059\n\n## <i class=\"fa fa-check-circle\" style=\"font-size:1em;\"></i> \u6e96\u5099\nRack::JsonSchema\u306b\u3064\u3044\u3066\u306f@r7kamura\u3055\u3093\u672c\u4eba\u306b\u3088\u308b\u4e0b\u8a18\u306e\u30a8\u30f3\u30c8\u30ea\u3092\u30c1\u30a7\u30c3\u30af\n\n<i class=\"fa fa-external-link\" style=\"font-size:1em;\"></i> [\u5168\u3066\u304cJSON\u306b\u306a\u308b](http://r7kamura.hatenablog.com/entry/2014/06/10/023433)\n\n## <i class=\"fa fa-flask\" style=\"font-size:1em;\"></i> \u30b5\u30f3\u30d7\u30eb\n* \u3042\u3089\u304b\u3058\u3081 rack-json_schema gem \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\n\n### <i class=\"fa fa-file-text\" style=\"font-size:1em;\"></i> JSON Schema\n\n~~~json:schema.json\n{\n  \"description\": \"\u3053\u306e\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\u3067\u306f\u3001Sample API v1 \u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092JSON Hyper Schema draft v4\u5f62\u5f0f\u3067\u8868\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\",\n  \"links\": [\n    {\n      \"method\": \"GET\",\n      \"title\": \"{:href=>\\\"http://localhost:3000\\\", :rel=>\\\"self\\\"}\"\n    }\n  ],\n  \"properties\": {\n    \"people\": {\n      \"links\": [\n        {\n          \"description\": \"\u5168\u3066\u306e\u4eba\u7269\u306e\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people\",\n          \"method\": \"GET\",\n          \"rel\": \"instances\",\n          \"title\": \"list\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"GET\",\n          \"rel\": \"self\",\n          \"title\": \"get\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u767b\u9332\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"POST\",\n          \"rel\": \"self\",\n          \"schema\": {\n            \"properties\": {\n              \"name\": {\n                \"description\": \"\u4eba\u7269\u306e\u540d\u524d\",\n                \"example\": \"tanaka\",\n                \"type\": \"string\"\n              },\n              \"age\": {\n                \"description\": \"\u4eba\u7269\u306e\u5e74\u9f62\",\n                \"example\": 34,\n                \"type\": \"integer\"\n              }\n            },\n            \"required\": [\n              \"name\",\n              \"age\"\n            ]\n          },\n          \"title\": \"create\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"PATCH\",\n          \"rel\": \"self\",\n          \"schema\": {\n            \"properties\": {\n              \"name\": {\n                \"description\": \"\u4eba\u7269\u306e\u540d\u524d\",\n                \"example\": \"tanaka\",\n                \"type\": \"string\"\n              },\n              \"age\": {\n                \"description\": \"\u4eba\u7269\u306e\u5e74\u9f62\",\n                \"example\": 34,\n                \"type\": \"integer\"\n              }\n            },\n            \"required\": [\n              \"name\",\n              \"age\"\n            ]\n          },\n          \"title\": \"update\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u524a\u9664\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"DELETE\",\n          \"rel\": \"self\",\n          \"title\": \"delete\"\n        }\n      ],\n      \"properties\": {\n        \"id\": {\n          \"description\": \"\u4eba\u7269\u306eid\",\n          \"example\": 1,\n          \"type\": \"integer\"\n        },\n        \"name\": {\n          \"description\": \"\u4eba\u7269\u306e\u540d\u524d\",\n          \"example\": \"tanaka\",\n          \"type\": \"string\"\n        },\n        \"age\": {\n          \"description\": \"\u4eba\u7269\u306e\u5e74\u9f62\",\n          \"example\": 34,\n          \"type\": \"integer\"\n        }\n      },\n      \"required\": [\n        \"id\",\n        \"name\",\n        \"age\"\n      ],\n      \"title\": \"Person\"\n    }\n  },\n  \"required\": [\n    \"people\"\n  ],\n  \"title\": \"Sample API v1 JSON Schema\"\n}\n~~~\n\n## <i class=\"fa fa-child\" style=\"font-size:1em;\"></i> \u52d5\u4f5c\u78ba\u8a8d\n### <i class=\"fa fa-server\" style=\"font-size:1em;\"></i> specup\nspecup\u3067\u30c0\u30df\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3057\u307e\u3059\n\n~~~bash\n$ specup schema.json\n[2015-08-05 04:54:09] INFO  WEBrick 1.3.1\n[2015-08-05 04:54:09] INFO  ruby 2.2.0 (2014-12-25) [x86_64-linux]\n[2015-08-05 04:54:09] INFO  WEBrick::HTTPServer#start: pid=2041 port=8080\n~~~\n\n### <i class=\"fa fa-file-text\" style=\"font-size:1em;\"></i> Schema\n~~~bash\n$ curl -X GET http://localhost:8080/schema\n# json schema\u304c\u51fa\u529b\u3055\u308c\u308b\n~~~\n\n### <i class=\"fa fa-book\" style=\"font-size:1em;\"></i> Docs\n~~~bash\n$ curl -X GET http://localhost:8080/docs\n# HTML\u5f62\u5f0f\u306eSchema\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u51fa\u529b\u3055\u308c\u308b\n~~~\n\n### <i class=\"fa fa-users\" style=\"font-size:1em;\"></i> \u30ea\u30b9\u30c8\u53c2\u7167\n~~~bash\n$ curl -X GET http://localhost:8080/api/v1/people\n[\n  {\n    \"id\": 1,\n    \"name\": \"tanaka\",\n    \"age\": 34\n  }\n]\n~~~\n\n### <i class=\"fa fa-user\" style=\"font-size:1em;\"></i> 1\u4ef6\u53c2\u7167\n~~~bash\n$ curl -X GET http://localhost:8080/api/v1/people/1\n{\n  \"id\": 1,\n  \"name\": \"tanaka\",\n  \"age\": 34\n}\n~~~\n\n### <i class=\"fa fa-plus-circle\" style=\"font-size:1em;\"></i> \u767b\u9332\n~~~bash\n$ curl -X GET http://localhost:8080/api/v1/people/1\n{\n  \"id\": 1,\n  \"name\": \"tanaka\",\n  \"age\": 34\n}\n~~~\n\n### <i class=\"fa fa-refresh\" style=\"font-size:1em;\"></i> \u66f4\u65b0\n~~~bash\n$ curl -X PATCH -H \"Content-Type: application/json\" -d \\\n'{\"name\":\"hoge_update\", \"age\": 12345}' http://localhost:8080/api/v1/people/1\n{\n  \"id\": 1,\n  \"name\": \"tanaka\",\n  \"age\": 34\n}\n~~~\n\n* \u308f\u3056\u3068\u4e0d\u6b63\u30c7\u30fc\u30bf\u3092\u9001\u308b: age \u3092\u6587\u5b57\u5217\u306b\u3059\u308b\n\n~~~bash\n$ curl -X PATCH -H \"Content-Type: application/json\" -d \\\n'{\"name\":\"hoge_update\", \"age\": \"12345\"}' http://localhost:8080/api/v1/people/1\n{\n  \"id\": \"invalid_parameter\",\n  \"message\": \"Invalid request.\\n#/age: failed schema #/properties/person/links/3/schema/properties/age: \\\"12345\\\" is not a integer.\"\n}\n~~~\n\n* \u308f\u3056\u3068\u4e0d\u6b63\u30c7\u30fc\u30bf\u3092\u9001\u308b: age \u306a\u3057\n\n~~~bash\n$ curl -X PATCH -H \"Content-Type: application/json\" -d \\\n'{\"name\":\"hoge_update\"}' http://localhost:8080/api/v1/people/1\n{\n  \"id\": \"invalid_parameter\",\n  \"message\": \"Invalid request.\\n#: failed schema #/properties/person/links/3/schema: \\\"age\\\" wasn't supplied.\"\n}\n~~~\n\n### <i class=\"fa fa-trash\" style=\"font-size:1em;\"></i> \u524a\u9664\n~~~bash\n$ curl -X DELETE http://localhost:8080/api/v1/people/7\n{\n  \"id\": 1,\n  \"name\": \"tanaka\",\n  \"age\": 34\n}\n~~~\n\n### <i class=\"fa fa-warning\" style=\"font-size:1em;\"></i> \u4e0d\u6b63\u30ea\u30f3\u30af\nlinks\u3067\u5b9a\u7fa9\u3057\u3066\u3044\u306a\u3044\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u308b\n\n~~~bash\n$ curl -X GET http://localhost:8080/api/v1/hoge/\n{\n  \"id\": \"link_not_found\",\n  \"message\": \"Could not find the link definition for request path /api/v1/hoge/.\"\n}\n~~~\n\n## <i class=\"fa fa-book\" style=\"font-size:1em;\"></i> \u95a2\u9023\u30a8\u30f3\u30c8\u30ea\n* <i class=\"fa fa-external-link-square\" style=\"font-size:1em;\"></i> [JsonWorld\u3092\u5229\u7528\u3057\u3066JSON Schema\u3068JSON\u3092\u751f\u6210\u3057\u3066\u307f\u308b](http://qiita.com/tbpgr/items/664a5038797e0f50d6ef)\n* <i class=\"fa fa-external-link-square\" style=\"font-size:1em;\"></i> [JsonWorld\u3092\u5229\u7528\u3057\u3066\u751f\u6210\u3057\u305fJSON Schema\u3092\u8aad\u307f\u8fbc\u307f\u3001Jsonism\u3067API\u3092\u547c\u3073\u51fa\u3059](http://qiita.com/tbpgr/items/d7b96fe3dc9cb0e44c5c)\n\n## <i class=\"fa fa-book\" style=\"font-size:1em;\"></i> \u5916\u90e8\u8cc7\u6599\n* <i class=\"fa fa-external-link\" style=\"font-size:1em;\"></i> [Rack::JsonSchema - GitHub](https://github.com/r7kamura/rack-json_schema)\n* <i class=\"fa fa-external-link\" style=\"font-size:1em;\"></i> [\u5168\u3066\u304cJSON\u306b\u306a\u308b](http://r7kamura.hatenablog.com/entry/2014/06/10/023433)\n", "tags": ["Ruby", "jsonschema", "JSON", "Rails"]}