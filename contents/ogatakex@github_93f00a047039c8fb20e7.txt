{"context": " More than 1 year has passed since last update.\u306a\u3093\u3060\u3088\u30fc\u3053\u3044\u3064\u3082\u3059\u3052\u30fc\u3089\u304f\u3058\u3083\u30fc\u3093\nhttps://code.google.com/p/libphonenumber/\n<dependency>\n    <groupId>com.googlecode.libphonenumber</groupId>\n    <artifactId>libphonenumber</artifactId>\n    <version>3.6</version>\n</dependency>\n\nString tel = \"0451234567\";\nPhonenumber.PhoneNumber phoneNumber = PHONE_NUMBER_UTIL.parse(tel, \"JP\");\ntel = PHONE_NUMBER_UTIL.format(phoneNumber, PhoneNumberUtil.PhoneNumberFormat.NATIONAL);\nSystem.out.println(tel);\n\n045-123-4567\n\u306b\u306a\u308b\u305c\u3002\nSpring\u306eCustomEditor\u4f7f\u3063\u3066\u3053\u3093\u306a\u98a8\u306b\u3082\u306d\u3047\u3002\npublic class PhoneNumberEditor extends PropertyEditorSupport {\n\n    private static final PhoneNumberUtil PHONE_NUMBER_UTIL = PhoneNumberUtil.getInstance();\n\n    @Override\n    public void setAsText(String text) {\n        if (!StringUtils.hasText(text)) {\n            setValue(null);\n        }\n        else {\n            try {\n                Phonenumber.PhoneNumber phoneNumber = PHONE_NUMBER_UTIL.parse(text, \"JP\");\n                text = PHONE_NUMBER_UTIL.format(phoneNumber, PhoneNumberUtil.PhoneNumberFormat.NATIONAL);\n            }\n            catch (NumberParseException e) {\n                // Do Nothing\n            }\n            setValue(text);\n        }\n    }\n}\n\n@Controller\n@RequestMapping(value=\"/hoge\")\npublic class HogeController {\n\n    @InitBinder(FORM_MODEL_KEY)\n    public void initBinder(WebDataBinder binder, HttpServletRequest request) {\n        binder.registerCustomEditor(String.class, \"tel\", new PostalCodeEditor());\n    }\n    ...\n}\n\n\u306a\u3093\u3060\u3088\u30fc\u3053\u3044\u3064\u3082\u3059\u3052\u30fc\u3089\u304f\u3058\u3083\u30fc\u3093\n\nhttps://code.google.com/p/libphonenumber/\n\n```xml\n<dependency>\n\t<groupId>com.googlecode.libphonenumber</groupId>\n\t<artifactId>libphonenumber</artifactId>\n\t<version>3.6</version>\n</dependency>\n```\n\n```java\nString tel = \"0451234567\";\nPhonenumber.PhoneNumber phoneNumber = PHONE_NUMBER_UTIL.parse(tel, \"JP\");\ntel = PHONE_NUMBER_UTIL.format(phoneNumber, PhoneNumberUtil.PhoneNumberFormat.NATIONAL);\nSystem.out.println(tel);\n```\n\n045-123-4567\n\n\u306b\u306a\u308b\u305c\u3002\n\nSpring\u306eCustomEditor\u4f7f\u3063\u3066\u3053\u3093\u306a\u98a8\u306b\u3082\u306d\u3047\u3002\n\n```java\npublic class PhoneNumberEditor extends PropertyEditorSupport {\n\n\tprivate static final PhoneNumberUtil PHONE_NUMBER_UTIL = PhoneNumberUtil.getInstance();\n\n\t@Override\n\tpublic void setAsText(String text) {\n\t\tif (!StringUtils.hasText(text)) {\n\t\t\tsetValue(null);\n\t\t}\n\t\telse {\n\t\t\ttry {\n\t\t\t\tPhonenumber.PhoneNumber phoneNumber = PHONE_NUMBER_UTIL.parse(text, \"JP\");\n\t\t\t\ttext = PHONE_NUMBER_UTIL.format(phoneNumber, PhoneNumberUtil.PhoneNumberFormat.NATIONAL);\n\t\t\t}\n\t\t\tcatch (NumberParseException e) {\n\t\t\t\t// Do Nothing\n\t\t\t}\n\t\t\tsetValue(text);\n\t\t}\n\t}\n}\n```\n\n```java\n@Controller\n@RequestMapping(value=\"/hoge\")\npublic class HogeController {\n\n\t@InitBinder(FORM_MODEL_KEY)\n\tpublic void initBinder(WebDataBinder binder, HttpServletRequest request) {\n\t\tbinder.registerCustomEditor(String.class, \"tel\", new PostalCodeEditor());\n\t}\n\t...\n}\n```\n", "tags": ["Java", "spring"]}