{"context": " More than 1 year has passed since last update.\u4ee5\u4e0b\u306e\u6295\u7a3f\u3092\u898b\u3066\u3001Ubuntu\u7248\u3092\u8a66\u3057\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3002\nhttp://qiita.com/mozo/items/6ec0151dad350c051399\n\u3053\u306e\u6295\u7a3f\u306f\u81ea\u5206\u7528\u30e1\u30e2 \uff0b \u8a66\u884c\u932f\u8aa4\u4e2d\u3067\u3042\u308b\u3053\u3068\u3092\u5148\u306b\u8ff0\u3079\u3066\u304a\u304f\u3002\n\u306a\u306e\u3067\u3001\u968f\u6642\u4fee\u6b63\u3001\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n\u74b0\u5883\u307e\u3068\u3081\n\n\n\n\u9805\u76ee\n\u5185\u5bb9(\u30d0\u30fc\u30b8\u30e7\u30f3\u306a\u3069)\n\n\n\n\nubuntu\n14.04(64bit)\n\n\nredmine\n3.0.1\n\n\nruby\n1.9.3p484 (2013-11-22 revision 43786) [x86_64-linux]\n\n\ngem\n2.4.6\n\n\nenvironment\nproduction\n\n\nDB\nMySQL 5.5.41-0ubuntu0.14.04.1 (Ubuntu)\n\n\n\u30a2\u30d7\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n/usr/local/app/redmine-3.0.1\n\n\nURL\nhttp://[localhost]:3000\n\n\n\n\ngcc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ sudo apt-get install -y build-essential\n\n\nnginx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ sudo apt-get install -y nginx\n\n\nMySQL\u3068\u304b\n\n$ sudo apt-get install -y mysql-server\n$ sudo apt-get install libmysqld-dev\n$ sudo apt-get install -y libssl-dev\n$ sudo apt-get install -y libreadline6-dev\n$ sudo apt-get install -y zlib1g-dev\n$ sudo apt-get install -y libcurl4-openssl-dev\n$ sudo apt-get install -y curl\n$ sudo apt-get install -y libyaml-dev\n$ sudo apt-get install -y ruby\n\n\ngem\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\n$ sudo gem install rubygems-update\n$ sudo update_rubygems\n\n\nbundler\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ sudo gem install bundler --no-rdoc --no-ri\n$ gem install daemon_controller rack passenger --no-rdoc --no-ri\n\n\nMySQL\u306e\u8a2d\u5b9a\n\n$ mysql -u root -p\nmysql> create database db_redmine default character set utf8;\nmysql> grant all on db_redmine.* to user_redmine@localhost identified by '********';\nmysql> flush privileges;\nmysql> exit\n\n\nRedmine\u30e2\u30b8\u30e5\u30fc\u30eb\n\n$ wget http://www.redmine.org/releases/redmine-3.0.1.tar.gz\n$ tar xzvf redmine-3.0.1.tar.gz\n$ sudo mkdir /usr/local/app/\n$ sudo mv redmine-3.0.1 /usr/local/app/redmine-3.0.1\n$ cd /usr/local/app/redmine-3.0.1/\n\n\nDB\u306e\u8a2d\u5b9a\n\n$ sudo cp config/database.yml.example config/database.yml\n$ sudo vim config/database.yml\n\n\nconfig/database.yml\nproduction:\n  adapter: mysql2\n  database: db_redmine\n  host: localhost\n  username: user_redmine\n  password: \"********\"\n  encoding: utf8\n\n\n\n$ bundle install --without development test rmagick --path vendor/bundle\n$ sudo apt-get install -y ruby-dev\n\n\nnginx\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n$ sudo passenger-install-nginx-module\n\n\n/etc/nginx/sites-available/redmine\nupstream redmine {\n        server unix:/usr/local/app/redmine-3.0.1/tmp/unicorn.sock fail_timeout=0;\n}\nserver {\n        location ~ / {\n                root /usr/local/app/redmine-3.0.1/;\n                if (-f $request_filename) {\n                        break;\n                }\n\n                proxy_read_timeout 300;\n                proxy_connect_timeout 300;\n                proxy_redirect     off;\n\n                proxy_set_header   X-Forwarded-Proto $scheme;\n                proxy_set_header   Host              $http_host;\n                proxy_set_header   X-Real-IP         $remote_addr;\n                proxy_set_header   X-Forwarded-For   $proxy_add_x_forwarded_for;\n                proxy_set_header   Host $host;\n\n                proxy_pass         http://redmine;\n\n                access_log  /var/log/nginx/redmine_access.log;\n                error_log   /var/log/nginx/redmine_error.log;\n        }\n}\n\n\n\n\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u306f\u308b\n\n\n$ sudo ln -s /etc/nginx/sites-available/redmine /etc/nginx/sites-enabled/\n\n\n\u8d77\u52d5\u3059\u308b\n\n$ bundle exec unicorn_rails -l 3000 -E production &\n\n\n\u30a2\u30af\u30bb\u30b9\u3059\u308b\nhttp://localhost:3000/\n\u521d\u56de\u30ed\u30b0\u30a4\u30f3\u6642\u306eID\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u306fadmin\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\u5916\u90e8\u3078\u516c\u958b\u3059\u308b\u5834\u5408\u306f\u5fc5\u305a\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u4ee5\u4e0b\u306e\u6295\u7a3f\u3092\u898b\u3066\u3001Ubuntu\u7248\u3092\u8a66\u3057\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3002\nhttp://qiita.com/mozo/items/6ec0151dad350c051399\n\n\u3053\u306e\u6295\u7a3f\u306f\u81ea\u5206\u7528\u30e1\u30e2 \uff0b \u8a66\u884c\u932f\u8aa4\u4e2d\u3067\u3042\u308b\u3053\u3068\u3092\u5148\u306b\u8ff0\u3079\u3066\u304a\u304f\u3002\n\u306a\u306e\u3067\u3001\u968f\u6642\u4fee\u6b63\u3001\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n## \u74b0\u5883\u307e\u3068\u3081\n|\u9805\u76ee|\u5185\u5bb9(\u30d0\u30fc\u30b8\u30e7\u30f3\u306a\u3069)|\n|:------|:----|\n|ubuntu|14.04(64bit)|\n|redmine|3.0.1|\n|ruby|1.9.3p484 (2013-11-22 revision 43786) [x86_64-linux]|\n|gem|2.4.6|\n|environment|production|\n|DB|MySQL 5.5.41-0ubuntu0.14.04.1 (Ubuntu)|\n|\u30a2\u30d7\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea|/usr/local/app/redmine-3.0.1|\n|URL|http://[localhost]:3000|\n\n## gcc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n>$ sudo apt-get install -y build-essential\n\n## nginx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n>$ sudo apt-get install -y nginx\n\n## MySQL\u3068\u304b\n\n>$ sudo apt-get install -y mysql-server\n\n>$ sudo apt-get install libmysqld-dev\n\n>$ sudo apt-get install -y libssl-dev\n\n>$ sudo apt-get install -y libreadline6-dev\n\n>$ sudo apt-get install -y zlib1g-dev\n\n>$ sudo apt-get install -y libcurl4-openssl-dev\n\n>$ sudo apt-get install -y curl\n\n\n\n>$ sudo apt-get install -y libyaml-dev\n\n>$ sudo apt-get install -y ruby\n\n\n## gem\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\n>$ sudo gem install rubygems-update\n\n>$ sudo update_rubygems\n\n## bundler\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n \n>$ sudo gem install bundler --no-rdoc --no-ri\n\n\n>$ gem install daemon_controller rack passenger --no-rdoc --no-ri\n\n\n## MySQL\u306e\u8a2d\u5b9a\n>$ mysql -u root -p\n\n> mysql> create database db_redmine default character set utf8;\n\n> mysql> grant all on db_redmine.* to user_redmine@localhost identified by '********';\n> mysql> flush privileges;\n> mysql> exit\n\n## Redmine\u30e2\u30b8\u30e5\u30fc\u30eb\n>$ wget http://www.redmine.org/releases/redmine-3.0.1.tar.gz\n>$ tar xzvf redmine-3.0.1.tar.gz\n>$ sudo mkdir /usr/local/app/\n>$ sudo mv redmine-3.0.1 /usr/local/app/redmine-3.0.1\n>$ cd /usr/local/app/redmine-3.0.1/\n\n## DB\u306e\u8a2d\u5b9a\n>$ sudo cp config/database.yml.example config/database.yml\n\n>$ sudo vim config/database.yml\n\n``` config/database.yml\nproduction:\n  adapter: mysql2\n  database: db_redmine\n  host: localhost\n  username: user_redmine\n  password: \"********\"\n  encoding: utf8\n```\n\n>$ bundle install --without development test rmagick --path vendor/bundle\n\n>$ sudo apt-get install -y ruby-dev\n\n## nginx\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n>$ sudo passenger-install-nginx-module\n\n\n``` conf:/etc/nginx/sites-available/redmine\nupstream redmine {\n        server unix:/usr/local/app/redmine-3.0.1/tmp/unicorn.sock fail_timeout=0;\n}\nserver {\n        location ~ / {\n                root /usr/local/app/redmine-3.0.1/;\n                if (-f $request_filename) {\n                        break;\n                }\n\n                proxy_read_timeout 300;\n                proxy_connect_timeout 300;\n                proxy_redirect     off;\n\n                proxy_set_header   X-Forwarded-Proto $scheme;\n                proxy_set_header   Host              $http_host;\n                proxy_set_header   X-Real-IP         $remote_addr;\n                proxy_set_header   X-Forwarded-For   $proxy_add_x_forwarded_for;\n                proxy_set_header   Host $host;\n\n                proxy_pass         http://redmine;\n\n                access_log  /var/log/nginx/redmine_access.log;\n                error_log   /var/log/nginx/redmine_error.log;\n        }\n}\n```\n\n- \u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u306f\u308b\n\n>$ sudo ln -s /etc/nginx/sites-available/redmine /etc/nginx/sites-enabled/\n\n## \u8d77\u52d5\u3059\u308b\n\n>$ bundle exec unicorn_rails -l 3000 -E production &\n\n## \u30a2\u30af\u30bb\u30b9\u3059\u308b\n\nhttp://localhost:3000/\n\n\u521d\u56de\u30ed\u30b0\u30a4\u30f3\u6642\u306eID\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u306fadmin\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\u5916\u90e8\u3078\u516c\u958b\u3059\u308b\u5834\u5408\u306f\u5fc5\u305a\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n", "tags": ["Redmine", "nginx", "Ubuntu", "Ruby", "Rails"]}