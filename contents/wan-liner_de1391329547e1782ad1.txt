{"tags": ["Redis", "KVS", "nosql", "Python", "\u30ab\u30c1\u30e3\u30ab\u30c1\u30e3\u30c3\u30bf\u30fc\u30f3"], "context": " More than 1 year has passed since last update.Python\u3060\u3068\u3082\u3046\u5c11\u3057\u30b5\u30c3\u30d1\u30ea\u3068\u3057\u307e\u3059\u304c\u3001\nURL\u306f\u30b5\u30c3\u30d1\u30ea\u3057\u3066\u307e\u305b\u3093\u3002\u304a\u597d\u304d\u306a\u65b9\u3092\u3002\n\u203b\u30a8\u30e9\u30fc\u306a\u3069\u306f\u77e5\u308a\u307e\u305b\u3093\u304c\u304a\u8a66\u3057\u3067\u3002\n\nsudo yum -y install python pip\npip install redis\nmkdir api; cd api\n\n./cgi-bin/get.py \u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\n(python 2 \u7cfb\u3000cgi-bin\u4ee5\u4e0b\u306b\u3044\u308c\u308b\u306e\u3068\u3001\u5b9f\u884c\u6a29\u9650chmod +x \u304c\u3044\u308a\u307e\u3059)\n\npython -m CGIHTTPServer &\ncurl http://0.0.0.0:8000/cgi-bin/get.py?id=\"key\"\n\n{\"items\": \"value\"}\n\u203b\u3053\u3061\u3089\u3082\u4e0b\u6e96\u5099\u3067redis\u30b5\u30fc\u30d0\u30fc\u3092\u305f\u3061\u3042\u3052\u3066\u5024\u3092\u3044\u308c\u3066\u304f\u3060\u3055\u3044\nredis-cli > SET \"key\" \"value\"\n\nget.py\n#!/usr/bin/python\n# coding: utf-8\n\nimport redis\nimport json\nimport cgi\n\nform = cgi.FieldStorage()\nprint 'Content-Type: text/html\\n\\n'\nif form.has_key(\"id\"):\n    id=form[\"id\"].value\n    r=redis.Redis()\n    value=r.get(id)\n    print json.dumps({'items':value})\n\n\n\nPython\u3060\u3068\u3082\u3046\u5c11\u3057\u30b5\u30c3\u30d1\u30ea\u3068\u3057\u307e\u3059\u304c\u3001\nURL\u306f\u30b5\u30c3\u30d1\u30ea\u3057\u3066\u307e\u305b\u3093\u3002\u304a\u597d\u304d\u306a\u65b9\u3092\u3002\n\u203b\u30a8\u30e9\u30fc\u306a\u3069\u306f\u77e5\u308a\u307e\u305b\u3093\u304c\u304a\u8a66\u3057\u3067\u3002\n\n> sudo yum -y install python pip\n> pip install redis\n\n> mkdir api; cd api\n\n./cgi-bin/get.py \u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\n(python 2 \u7cfb\u3000cgi-bin\u4ee5\u4e0b\u306b\u3044\u308c\u308b\u306e\u3068\u3001\u5b9f\u884c\u6a29\u9650chmod +x \u304c\u3044\u308a\u307e\u3059)\n\n\n> python -m CGIHTTPServer &\n\n> curl http://0.0.0.0:8000/cgi-bin/get.py?id=\"key\"\n\n`{\"items\": \"value\"}`\n\n\u203b\u3053\u3061\u3089\u3082\u4e0b\u6e96\u5099\u3067redis\u30b5\u30fc\u30d0\u30fc\u3092\u305f\u3061\u3042\u3052\u3066\u5024\u3092\u3044\u308c\u3066\u304f\u3060\u3055\u3044\n`redis-cli > SET \"key\" \"value\" `\n\n\n\n\n```py:get.py\n#!/usr/bin/python\n# coding: utf-8\n\nimport redis\nimport json\nimport cgi\n\nform = cgi.FieldStorage()\nprint 'Content-Type: text/html\\n\\n'\nif form.has_key(\"id\"):\n    id=form[\"id\"].value\n    r=redis.Redis()\n    value=r.get(id)\n    print json.dumps({'items':value})\n```\n"}