{"tags": ["Windows10", "PyCUDA", "Anaconda4.2.0"], "context": "windows10, anaconda4.2.0, VisualStudio2015\u3067\n\npip install pycuda\n\n\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u3002\n      File \"C:\\Users\\o-kei\\Anaconda3\\lib\\distutils\\cygwinccompiler.py\", line 157, in __init__\n        self.dll_libraries = get_msvcr()\n      File \"C:\\Users\\o-kei\\Anaconda3\\lib\\distutils\\cygwinccompiler.py\", line 86, in get_msvcr\n        raise ValueError(\"Unknown MS Compiler version %s \" % msc_ver)\n    ValueError: Unknown MS Compiler version 1900\n\n\n\u3053\u3053\u304c\u554f\u984c\u3089\u3057\u3044\u3002\nhttps://groups.google.com/a/continuum.io/forum/#!topic/anaconda/yLH46ilPQeo\n\u306b\u3082\u3042\u308b\u306e\u3092\u53c2\u8003\u306b\u3059\u308b\u304c\u3001C:\\Windows\\System32\u306b\u306fmsvcr140\u304c\u306a\u3044\u306e\u3067msvcr120\u306b\u3078\u3093\u3053\u3046\u3057\u3066\nelif msc_ver == '1900':\n    return ['msvcr140']\n\n\u3092\u8ffd\u8a18\u3057\u3061\u3083\u3046\u3002\n\u3064\u3044\u3067\u306b\nC:\\Windows\\System32\n\u3092\u74b0\u5883\u5909\u6570\u306b\u8ffd\u52a0\u3059\u308b\u3002\u30c0\u30e1\u3002\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u518d\u8d77\u52d5\u3057\u305f\u3089\u306a\u305c\u304b\u901a\u308b\u3002\npip uninstall pycuda\u3057\u3066\u3001pip install pycuda --no-cache-dir\u3059\u308b\u3068\u901a\u3089\u306a\u3044\u3002\n\u3068\u308a\u3042\u3048\u305a\u3053\u306e\u7406\u89e3\u3067\u304d\u306a\u3044\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u72b6\u614b\u3067\nimport pycuda.gpuarray as gpuarray\nimport pycuda.driver as cuda\nimport pycuda.autoinit\nimport numpy\n\na_gpu = gpuarray.to_gpu(numpy.random.randn(4,4).astype(numpy.float32))\na_doubled = (2*a_gpu).get()\nprint (a_doubled)\nprint (a_gpu)\n\n\u306f\u5b9f\u884c\u3067\u304d\u305f\u3002\nwindows10, anaconda4.2.0, VisualStudio2015\u3067\n```\npip install pycuda\n```\n\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u3002\n\n```\n      File \"C:\\Users\\o-kei\\Anaconda3\\lib\\distutils\\cygwinccompiler.py\", line 157, in __init__\n        self.dll_libraries = get_msvcr()\n      File \"C:\\Users\\o-kei\\Anaconda3\\lib\\distutils\\cygwinccompiler.py\", line 86, in get_msvcr\n        raise ValueError(\"Unknown MS Compiler version %s \" % msc_ver)\n    ValueError: Unknown MS Compiler version 1900\n```\n\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/122102/6982f63c-9b1d-36b9-b3c5-0251d8b62c7f.png)\n\n\u3053\u3053\u304c\u554f\u984c\u3089\u3057\u3044\u3002\n\nhttps://groups.google.com/a/continuum.io/forum/#!topic/anaconda/yLH46ilPQeo\n\n\u306b\u3082\u3042\u308b\u306e\u3092\u53c2\u8003\u306b\u3059\u308b\u304c\u3001C:\\Windows\\System32\u306b\u306fmsvcr140\u304c\u306a\u3044\u306e\u3067msvcr120\u306b\u3078\u3093\u3053\u3046\u3057\u3066\n\n```\nelif msc_ver == '1900':\n    return ['msvcr140']\n```\n\u3092\u8ffd\u8a18\u3057\u3061\u3083\u3046\u3002\n\u3064\u3044\u3067\u306b\nC:\\Windows\\System32\n\u3092\u74b0\u5883\u5909\u6570\u306b\u8ffd\u52a0\u3059\u308b\u3002\u30c0\u30e1\u3002\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u518d\u8d77\u52d5\u3057\u305f\u3089\u306a\u305c\u304b\u901a\u308b\u3002\npip uninstall pycuda\u3057\u3066\u3001pip install pycuda --no-cache-dir\u3059\u308b\u3068\u901a\u3089\u306a\u3044\u3002\n\u3068\u308a\u3042\u3048\u305a\u3053\u306e\u7406\u89e3\u3067\u304d\u306a\u3044\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u72b6\u614b\u3067\n\n```\nimport pycuda.gpuarray as gpuarray\nimport pycuda.driver as cuda\nimport pycuda.autoinit\nimport numpy\n\na_gpu = gpuarray.to_gpu(numpy.random.randn(4,4).astype(numpy.float32))\na_doubled = (2*a_gpu).get()\nprint (a_doubled)\nprint (a_gpu)\n```\n\n\u306f\u5b9f\u884c\u3067\u304d\u305f\u3002\n\n\n\n\n"}