{"context": "Realm Advent Calendar 2016 6\u65e5\u76ee\u3067\u3059\u3002\nRealm, RealmSwift\u306e2.1\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3067\u3001\u901a\u77e5\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u66f8\u304d\u8fbc\u307f\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\nRealm\u306e\u901a\u77e5\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3059\u308b\u5909\u66f4\u304c\u8d77\u304d\u305f\u5834\u5408\u306b\u5fc5\u305a\u547c\u3070\u308c\u3001\u57fa\u672c\u7684\u306b\u306fUI\u66f4\u65b0\u306f\u901a\u77e5\u5185\u3067\u884c\u3044\u307e\u3059\u304c\u3001\u3053\u306e\u65b9\u6cd5\u306b\u306f\u3044\u304f\u3064\u304b\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u30b1\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u30bb\u30eb\u306e\u4e26\u3073\u66ff\u3048\u306a\u3069\u30e6\u30fc\u30b6\u4e3b\u5c0e\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306b\u3088\u308a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5909\u66f4\u304c\u52a0\u3048\u3089\u308c\u305f\u5834\u5408\u306b\u3001\u901a\u77e5\u5185\u306eUI\u66f4\u65b0\u304c\u8907\u96d1\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\u901a\u77e5\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u3053\u308c\u3089\u306e\u554f\u984c\u3092\u3088\u308a\u30b7\u30f3\u30d7\u30eb\u306b\u89e3\u6c7a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u30b5\u30f3\u30d7\u30eb\n\u3053\u306e\u8a18\u4e8b\u306e\u8aac\u660e\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n+\u30dc\u30bf\u30f3\u3067\u30bb\u30eb\u3092\u8ffd\u52a0\u3001Edit\u30dc\u30bf\u30f3\u3067\u524a\u9664\u3068\u4e26\u3073\u66ff\u3048\u3092\u884c\u3048\u307e\u3059\u3002\n\n\n\u901a\u77e5\u3067\u5236\u5fa1\u3057\u3065\u3089\u3044\u30b1\u30fc\u30b9\n\u5177\u4f53\u4f8b\u3068\u3057\u3066\u3001UITableView\u3067\u30bb\u30eb\u306e\u79fb\u52d5\u6642\u306b\u8d77\u304d\u308bUI\u66f4\u65b0\u306e\u554f\u984c\u306b\u3064\u3044\u3066\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\n\u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u66f4\u65b0\u3055\u308c\u305f\u6642\u306eUI\u66f4\u65b0\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002\n\u901a\u77e5\u306echanges\u304cdeletions, insertions, modifications\u3092\u6301\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30bb\u30eb\u306e\u633f\u5165\u3001\u524a\u9664\u3001\u66f4\u65b0\u306f\u901a\u77e5\u5185\u3067\u7c21\u5358\u306b\u5bfe\u5fdc\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u5909\u66f4\u901a\u77e5\u304b\u3089\u306eUI\u66f4\u65b0\nnotificationToken = list.objects.addNotificationBlock { [weak self] (changes) in\n    guard let strongSelf = self,\n              strongSelf.isViewLoaded,\n          let tableView = strongSelf.tableView else { return }\n\n    switch changes {\n        case .initial:\n            break\n        case .update(_, let deletions, let insertions, let modifications):\n            tableView.beginUpdates()\n            tableView.insertRows(at: insertions.map({ IndexPath(row: $0, section: 0) }),\n                                 with: .automatic)\n            tableView.deleteRows(at: deletions.map({ IndexPath(row: $0, section: 0)}),\n                                 with: .automatic)\n            tableView.reloadRows(at: modifications.map({ IndexPath(row: $0, section: 0) }),\n                                 with: .automatic)\n            tableView.endUpdates()\n        case .error(let error):\n            fatalError(\"\\(error)\")\n            break\n    }\n}\n\n\n\u30bb\u30eb\u3092\u79fb\u52d5\u3059\u308b\u5834\u5408\u306f\u3069\u3046\u3067\u3057\u3087\u3046\u304b\u3002\n\u30bb\u30eb\u306e\u79fb\u52d5\u306f\u79fb\u52d5\u5143\u3068\u79fb\u52d5\u5148\u306eIndexPath\u304c\u3042\u308a\u3001\u3053\u308c\u3089\u306e\u60c5\u5831\u306fRealm\u306e\u901a\u77e5\u306b\u306f\u542b\u307e\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u9069\u5207\u306aUI\u66f4\u65b0\u3092\u884c\u3046\u305f\u3081\u306b\u306f\u901a\u77e5\u5185\u306eUI\u66f4\u65b0\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u3001\u5225\u9014IndexPath\u3092\u4f7f\u3044UI\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u901a\u77e5\u5185\u3067\u7de8\u96c6\u4e2d\u30d5\u30e9\u30b0\u3092\u78ba\u8a8d\u3057UI\u66f4\u65b0\u3092\u884c\u308f\u306a\u3044\nnotificationToken = list.objects.addNotificationBlock { [weak self] (changes) in\n    guard let strongSelf = self,\n              strongSelf.isViewLoaded,\n          let tableView = strongSelf.tableView else { return }\n\n    if strongSelf.isEditing { return } // \u7de8\u96c6\u4e2d\u306fUI\u306e\u66f4\u65b0\u3092\u884c\u308f\u306a\u3044\u3002\n\n    /* \u901a\u5e38\u306eUI\u66f4\u65b0 */\n}\n\n\n\u4e0a\u8a18\u306e\u4f8b\u306f\u5358\u7d14\u306bisEditing\u306e\u307f\u3092\u78ba\u8a8d\u3057\u3066\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u4ed6\u306b\u3082\u7de8\u96c6\u4e2d\u306e\u8ffd\u52a0\u3084\u524a\u9664\u306b\u3064\u3044\u3066\u3082\u8003\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u554f\u984c\u3068\u306a\u308b\u306e\u306f\u3001Realm\u306e\u901a\u77e5\u306f\u3069\u306e\u3088\u3046\u306a\u5909\u66f4\u3067\u3082\u547c\u3070\u308c\u308b\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306fUI\u66f4\u65b0\u306e\u5236\u5fa1\u304c\u8907\u96d1\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3053\u3068\u3067\u3059\u3002\n\n\u901a\u77e5\u306e\u30b9\u30ad\u30c3\u30d7\nRealm\u306e\u30b3\u30df\u30c3\u30c8\u95a2\u6570\u306b\u65b0\u3057\u304fcommitWrite(withoutNotifying:)\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\n\u5f15\u6570\u306b\u30b9\u30ad\u30c3\u30d7\u3057\u305f\u3044NotificationToken\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u305d\u306e\u901a\u77e5\u3092\u547c\u3070\u306a\u304f\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30bb\u30eb\u306e\u79fb\u52d5\u6642\u306e\u901a\u77e5\u306e\u30b9\u30ad\u30c3\u30d7\u3068UI\u306e\u66f4\u65b0\noverride func tableView(_ tableView: UITableView, moveRowAt sourceIndexPath: IndexPath, to destinationIndexPath: IndexPath) {\n    let realm = try! Realm()\n\n    realm.beginWrite()\n    list.objects.move(from: sourceIndexPath.row, to: destinationIndexPath.row) // \u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u79fb\u52d5\n    try! realm.commitWrite(withoutNotifying: [notificationToken!]) // \u6307\u5b9a\u306e\u901a\u77e5\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u30b3\u30df\u30c3\u30c8\n\n    tableView.moveRow(at: sourceIndexPath, to: destinationIndexPath) // UI\u66f4\u65b0\n}\n\n\n\u901a\u77e5\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001UI\u66f4\u65b0\u3092\u901a\u77e5\u5185\u3067\u884c\u3046\u304b\u3001\u5225\u9014\u884c\u3046\u304b\u3092\u7c21\u5358\u306b\u5236\u5fa1\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u5fdc\u7528\n\u3044\u3044\u8a2d\u8a08\u3060\u306a\u3068\u601d\u3063\u305f\u3068\u3053\u308d\u306f\u3001commitWrite(withoutNotifying:)\u304cNotificationToken\u306e\u914d\u5217\u3092\u53d7\u3051\u53d6\u308b\u3068\u3044\u3046\u3068\u3053\u308d\u3067\u3059\u3002Realm\u306e\u901a\u77e5\u306fRealm, Results, List, LinkingObject\u30af\u30e9\u30b9\u304c\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001\u67d4\u8edf\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5909\u66f4\u901a\u77e5\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002NotificationToken\u306e\u914d\u5217\u3092\u6e21\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u308b\u304a\u304b\u3052\u3067\u3001\u3053\u308c\u3089\u306e\u901a\u77e5\u304c\u8907\u6570\u5b58\u5728\u3059\u308b\u5834\u5408\u306b\u3001\u30b9\u30ad\u30c3\u30d7\u3057\u305f\u3044\u901a\u77e5\u3092\u81ea\u7531\u306b\u9078\u629e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306e\u4f8b\u3067\u306fUI\u66f4\u65b0\u306b\u3064\u3044\u3066\u53d6\u308a\u4e0a\u3052\u307e\u3057\u305f\u304c\u3001\u901a\u77e5\u5185\u306eUI\u66f4\u65b0\u306b\u9650\u3089\u305a\u3088\u308a\u7d30\u304b\u3044\u901a\u77e5\u306e\u5236\u5fa1\u304c\u53ef\u80fd\u306b\u306a\u3063\u305f\u3068\u3053\u308d\u304c\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u307e\u3068\u3081\n\nRealm\u306e\u30b3\u30df\u30c3\u30c8\u95a2\u6570\u306b\u65b0\u3057\u304fRealm.commitWrite(withoutNotifying:)\u304c\u8ffd\u52a0\u3055\u308c\u3001\u6307\u5b9a\u306e\u901a\u77e5\u3092\u30b9\u30ad\u30c3\u30d7\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u901a\u77e5\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u3053\u3068\u306b\u3088\u308aRealmCollectionChange\u3067\u306f\u5bfe\u5fdc\u304c\u96e3\u3057\u3044UI\u306e\u66f4\u65b0\u3092\u3088\u308a\u7c21\u5358\u306b\u5236\u5fa1\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\nRealm.commitWrite(withoutNotifying:)\u306fNotificationToken\u306e\u914d\u5217\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u3001UI\u306e\u66f4\u65b0\u306b\u9650\u3089\u305a\u3088\u308a\u67d4\u8edf\u306a\u901a\u77e5\u306e\u5236\u5fa1\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n[Realm Advent Calendar 2016](http://qiita.com/advent-calendar/2016/realm) 6\u65e5\u76ee\u3067\u3059\u3002\n\nRealm, RealmSwift\u306e2.1\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3067\u3001[\u901a\u77e5\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u66f8\u304d\u8fbc\u307f](https://realm.io/jp/news/realm-objc-swift-2.1/)\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\nRealm\u306e\u901a\u77e5\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3059\u308b\u5909\u66f4\u304c\u8d77\u304d\u305f\u5834\u5408\u306b\u5fc5\u305a\u547c\u3070\u308c\u3001\u57fa\u672c\u7684\u306b\u306fUI\u66f4\u65b0\u306f\u901a\u77e5\u5185\u3067\u884c\u3044\u307e\u3059\u304c\u3001\u3053\u306e\u65b9\u6cd5\u306b\u306f\u3044\u304f\u3064\u304b\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u30b1\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u30bb\u30eb\u306e\u4e26\u3073\u66ff\u3048\u306a\u3069\u30e6\u30fc\u30b6\u4e3b\u5c0e\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306b\u3088\u308a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5909\u66f4\u304c\u52a0\u3048\u3089\u308c\u305f\u5834\u5408\u306b\u3001\u901a\u77e5\u5185\u306eUI\u66f4\u65b0\u304c\u8907\u96d1\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u901a\u77e5\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u3053\u308c\u3089\u306e\u554f\u984c\u3092\u3088\u308a\u30b7\u30f3\u30d7\u30eb\u306b\u89e3\u6c7a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n## \u30b5\u30f3\u30d7\u30eb\n\n\u3053\u306e\u8a18\u4e8b\u306e\u8aac\u660e\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b[\u30b5\u30f3\u30d7\u30eb](https://github.com/yusuga/RealmWithoutNotifying)\u3067\u3059\u3002\n`+\u30dc\u30bf\u30f3`\u3067\u30bb\u30eb\u3092\u8ffd\u52a0\u3001`Edit\u30dc\u30bf\u30f3`\u3067\u524a\u9664\u3068\u4e26\u3073\u66ff\u3048\u3092\u884c\u3048\u307e\u3059\u3002\n\n![without-notifying.png](https://qiita-image-store.s3.amazonaws.com/0/16700/d144c5d7-08e5-63e5-c268-3a25cd65ca80.png \"without-notifying.png\")\n\n## \u901a\u77e5\u3067\u5236\u5fa1\u3057\u3065\u3089\u3044\u30b1\u30fc\u30b9\n\n\u5177\u4f53\u4f8b\u3068\u3057\u3066\u3001UITableView\u3067\u30bb\u30eb\u306e\u79fb\u52d5\u6642\u306b\u8d77\u304d\u308bUI\u66f4\u65b0\u306e\u554f\u984c\u306b\u3064\u3044\u3066\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\n\n\u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u66f4\u65b0\u3055\u308c\u305f\u6642\u306eUI\u66f4\u65b0\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002\n\u901a\u77e5\u306e`changes`\u304c`deletions`, `insertions`, `modifications`\u3092\u6301\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30bb\u30eb\u306e\u633f\u5165\u3001\u524a\u9664\u3001\u66f4\u65b0\u306f\u901a\u77e5\u5185\u3067\u7c21\u5358\u306b\u5bfe\u5fdc\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```swift:\u5909\u66f4\u901a\u77e5\u304b\u3089\u306eUI\u66f4\u65b0\nnotificationToken = list.objects.addNotificationBlock { [weak self] (changes) in\n\tguard let strongSelf = self,\n\t\t      strongSelf.isViewLoaded,\n\t\t  let tableView = strongSelf.tableView else { return }\n   \n\tswitch changes {\n\t\tcase .initial:\n\t\t\tbreak\n\t\tcase .update(_, let deletions, let insertions, let modifications):\n\t\t\ttableView.beginUpdates()\n\t\t\ttableView.insertRows(at: insertions.map({ IndexPath(row: $0, section: 0) }),\n\t\t\t\t\t\t\t\t with: .automatic)\n\t\t\ttableView.deleteRows(at: deletions.map({ IndexPath(row: $0, section: 0)}),\n\t\t\t\t\t\t\t\t with: .automatic)\n\t\t\ttableView.reloadRows(at: modifications.map({ IndexPath(row: $0, section: 0) }),\n\t\t\t\t\t\t\t\t with: .automatic)\n\t\t\ttableView.endUpdates()\n\t\tcase .error(let error):\n\t\t\tfatalError(\"\\(error)\")\n\t\t\tbreak\n\t}\n}\n```\n\n\u30bb\u30eb\u3092\u79fb\u52d5\u3059\u308b\u5834\u5408\u306f\u3069\u3046\u3067\u3057\u3087\u3046\u304b\u3002\n\u30bb\u30eb\u306e\u79fb\u52d5\u306f\u79fb\u52d5\u5143\u3068\u79fb\u52d5\u5148\u306eIndexPath\u304c\u3042\u308a\u3001\u3053\u308c\u3089\u306e\u60c5\u5831\u306fRealm\u306e\u901a\u77e5\u306b\u306f\u542b\u307e\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u9069\u5207\u306aUI\u66f4\u65b0\u3092\u884c\u3046\u305f\u3081\u306b\u306f\u901a\u77e5\u5185\u306eUI\u66f4\u65b0\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u3001\u5225\u9014IndexPath\u3092\u4f7f\u3044UI\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```swift:\u901a\u77e5\u5185\u3067\u7de8\u96c6\u4e2d\u30d5\u30e9\u30b0\u3092\u78ba\u8a8d\u3057UI\u66f4\u65b0\u3092\u884c\u308f\u306a\u3044\nnotificationToken = list.objects.addNotificationBlock { [weak self] (changes) in\n\tguard let strongSelf = self,\n\t\t\t  strongSelf.isViewLoaded,\n\t\t  let tableView = strongSelf.tableView else { return }\n\t\n\tif strongSelf.isEditing { return } // \u7de8\u96c6\u4e2d\u306fUI\u306e\u66f4\u65b0\u3092\u884c\u308f\u306a\u3044\u3002\n\t\n\t/* \u901a\u5e38\u306eUI\u66f4\u65b0 */\n}\n```\n\n\u4e0a\u8a18\u306e\u4f8b\u306f\u5358\u7d14\u306b`isEditing`\u306e\u307f\u3092\u78ba\u8a8d\u3057\u3066\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u4ed6\u306b\u3082\u7de8\u96c6\u4e2d\u306e\u8ffd\u52a0\u3084\u524a\u9664\u306b\u3064\u3044\u3066\u3082\u8003\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u554f\u984c\u3068\u306a\u308b\u306e\u306f\u3001Realm\u306e\u901a\u77e5\u306f\u3069\u306e\u3088\u3046\u306a\u5909\u66f4\u3067\u3082\u547c\u3070\u308c\u308b\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306fUI\u66f4\u65b0\u306e\u5236\u5fa1\u304c\u8907\u96d1\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3053\u3068\u3067\u3059\u3002\n\n## \u901a\u77e5\u306e\u30b9\u30ad\u30c3\u30d7\n\nRealm\u306e\u30b3\u30df\u30c3\u30c8\u95a2\u6570\u306b\u65b0\u3057\u304f`commitWrite(withoutNotifying:)`\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\n\u5f15\u6570\u306b\u30b9\u30ad\u30c3\u30d7\u3057\u305f\u3044`NotificationToken`\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u305d\u306e\u901a\u77e5\u3092\u547c\u3070\u306a\u304f\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```swift:\u30bb\u30eb\u306e\u79fb\u52d5\u6642\u306e\u901a\u77e5\u306e\u30b9\u30ad\u30c3\u30d7\u3068UI\u306e\u66f4\u65b0\noverride func tableView(_ tableView: UITableView, moveRowAt sourceIndexPath: IndexPath, to destinationIndexPath: IndexPath) {\n\tlet realm = try! Realm()\n\t\n\trealm.beginWrite()\n\tlist.objects.move(from: sourceIndexPath.row, to: destinationIndexPath.row) // \u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u79fb\u52d5\n\ttry! realm.commitWrite(withoutNotifying: [notificationToken!]) // \u6307\u5b9a\u306e\u901a\u77e5\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u30b3\u30df\u30c3\u30c8\n        \n\ttableView.moveRow(at: sourceIndexPath, to: destinationIndexPath) // UI\u66f4\u65b0\n}\n```\n\n\u901a\u77e5\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001UI\u66f4\u65b0\u3092\u901a\u77e5\u5185\u3067\u884c\u3046\u304b\u3001\u5225\u9014\u884c\u3046\u304b\u3092\u7c21\u5358\u306b\u5236\u5fa1\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n## \u5fdc\u7528\n\n\u3044\u3044\u8a2d\u8a08\u3060\u306a\u3068\u601d\u3063\u305f\u3068\u3053\u308d\u306f\u3001`commitWrite(withoutNotifying:)`\u304c`NotificationToken`\u306e\u914d\u5217\u3092\u53d7\u3051\u53d6\u308b\u3068\u3044\u3046\u3068\u3053\u308d\u3067\u3059\u3002Realm\u306e\u901a\u77e5\u306f`Realm`, `Results`, `List`, `LinkingObject`\u30af\u30e9\u30b9\u304c\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001\u67d4\u8edf\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5909\u66f4\u901a\u77e5\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002`NotificationToken`\u306e\u914d\u5217\u3092\u6e21\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u308b\u304a\u304b\u3052\u3067\u3001\u3053\u308c\u3089\u306e\u901a\u77e5\u304c\u8907\u6570\u5b58\u5728\u3059\u308b\u5834\u5408\u306b\u3001\u30b9\u30ad\u30c3\u30d7\u3057\u305f\u3044\u901a\u77e5\u3092\u81ea\u7531\u306b\u9078\u629e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u4eca\u56de\u306e\u4f8b\u3067\u306fUI\u66f4\u65b0\u306b\u3064\u3044\u3066\u53d6\u308a\u4e0a\u3052\u307e\u3057\u305f\u304c\u3001\u901a\u77e5\u5185\u306eUI\u66f4\u65b0\u306b\u9650\u3089\u305a\u3088\u308a\u7d30\u304b\u3044\u901a\u77e5\u306e\u5236\u5fa1\u304c\u53ef\u80fd\u306b\u306a\u3063\u305f\u3068\u3053\u308d\u304c\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308a\u307e\u3059\u3002\n\n## \u307e\u3068\u3081\n\n- Realm\u306e\u30b3\u30df\u30c3\u30c8\u95a2\u6570\u306b\u65b0\u3057\u304f`Realm.commitWrite(withoutNotifying:)`\u304c\u8ffd\u52a0\u3055\u308c\u3001\u6307\u5b9a\u306e\u901a\u77e5\u3092\u30b9\u30ad\u30c3\u30d7\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n- \u901a\u77e5\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u3053\u3068\u306b\u3088\u308a`RealmCollectionChange`\u3067\u306f\u5bfe\u5fdc\u304c\u96e3\u3057\u3044UI\u306e\u66f4\u65b0\u3092\u3088\u308a\u7c21\u5358\u306b\u5236\u5fa1\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n- `Realm.commitWrite(withoutNotifying:)`\u306f`NotificationToken`\u306e\u914d\u5217\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u3001UI\u306e\u66f4\u65b0\u306b\u9650\u3089\u305a\u3088\u308a\u67d4\u8edf\u306a\u901a\u77e5\u306e\u5236\u5fa1\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n", "tags": ["Realm", "iOS", "Swift"]}