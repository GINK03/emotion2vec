{"context": "\u305d\u3082\u305d\u3082\u3001 SideCI \u306a\u3069\u3092\u3044\u308c\u308b\u3068\u304b\u3001Editor \u306b\u7d44\u307f\u8fbc\u3080\u306e\u304c\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306f\u3001\u306a\u3093\u3089\u304b\u306e\u7406\u7531\u306b\u3088\u308a\u3042\u3048\u3066 rubocop \u3092\u624b\u5143\u3067\u52d5\u304b\u3057\u3066\u30c1\u30a7\u30c3\u30af\u3059\u308b\u624b\u9806\u3067\u3059\u3002\n\n\u624b\u9806\n\n\u5168\u4f53\u611f\u306e\u628a\u63e1\nrubocop \u6307\u6458\u70b9\u304c\u306a\u3044\u304b\u3069\u3046\u304b\u30c1\u30a7\u30c3\u30af\n% rubocop -D\n\n  :\n566 files inspected, 27 offenses detected\n\n27 \u70b9\u306e\u6307\u6458\u304c\u3042\u308a\u307e\u3059\u3002\n\u5185\u8a33\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n% rubocop -D | egrep '[WC]:' | awk -F: '{print $5}' | sort | uniq -c\n   3  Lint/UnneededSplatExpansion\n   1  Lint/UselessAssignment\n   3  Performance/SortWithBlock\n   5  Style/CommentAnnotation\n   2  Style/ConditionalAssignment\n   2  Style/EmptyLines\n   1  Style/EmptyLinesAroundBlockBody\n   1  Style/EmptyLinesAroundMethodBody\n   8  Style/GuardClause\n   1  Style/SafeNavigation\n\n\nAuto Correct\n\u3068\u308a\u3042\u3048\u305a autocorrect \u3067\u304d\u308b\u3082\u306e\u306f autocorrect \u3057\u3066\u3057\u307e\u3063\u3066\u304b\u3089\u8003\u3048\u307e\u3059\u3002\nfor cop in `rubocop -D | egrep '[WC]:' | awk -F: '{print $5}' | sort -u`; do rubocop -a --only $cop && git commit -a -m \"Fix '$cop'\" ; done\n\n\u3053\u3093\u306a\u611f\u3058\u3067 Auto Correct \u3055\u308c\u307e\u3057\u305f\u3002\ne2b9f82 Fix 'Style/SafeNavigation'\n004623f Fix 'Style/EmptyLinesAroundMethodBody'\n6ad69a8 Fix 'Style/EmptyLinesAroundBlockBody'\n5e0bbb3 Fix 'Style/EmptyLines'\n914c7ff Fix 'Style/ConditionalAssignment'\n0ddddbc Fix 'Style/CommentAnnotation'\n9268067 Fix 'Performance/SortWithBlock'\n57de2e6 Fix 'Lint/UnneededSplatExpansion'\n70fcd3f Fix Lint/UnderscorePrefixedVariableName\n\n\nAuto Correct \u3055\u308c\u305f\u3082\u306e\u3092\u78ba\u8a8d\n\u52d5\u4f5c\u306b\u5f71\u97ff\u306e\u3042\u308b\u4fee\u6b63\u3082\u3042\u308b\u306e\u30671\u3064\u305a\u3064\u5909\u66f4\u70b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n-          password_chars = [*'0'..'9', *'a'..'z', *'A'..'Z', *%w(! @ # $ % & * ?)]\n+          password_chars = [*'0'..'9', *'a'..'z', *'A'..'Z', %w(! @ # $ % & * ?)]\n\n\u3053\u308c\u306f\u52d5\u4f5c\u306b\u5f71\u97ff\u304c\u3042\u308b\u306e\u3067\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u307e\u305a\u3001\u305d\u306e cop \u304c\u3069\u3046\u3044\u3046\u3082\u306e\u306a\u306e\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u3001cop \u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nhttps://github.com/bbatsov/rubocop/blob/master/lib/rubocop/cop/lint/unneeded_splat_expansion.rb\n\u3053\u306e\u30b1\u30fc\u30b9\u306f *[...] \u306e\u3088\u3046\u306a\u66f8\u304d\u65b9\u3092\u3084\u3081\u307e\u3057\u3087\u3046\u3068\u3044\u3046\u3053\u3068\u3067\u3057\u305f\u3002\n\u4e00\u5ea6\u5909\u6570\u306a\u3069\u306b\u683c\u7d0d\u3057\u3066\u304b\u3089\u914d\u5217\u5c55\u958b\u3092\u3059\u308b\u306e\u306f good \u3068\u66f8\u3044\u3066\u3044\u308b\u306e\u3067\u305d\u3046\u3057\u307e\u3059\u3002\n\u3055\u3089\u306b\u3001\u3053\u306e\u969b PasswordGenerator \u3092\u4f5c\u3063\u3066\u305d\u3053\u306b\u79fb\u8b72\u3057\u3066\u3057\u307e\u3046\u3053\u3068\u306b\u3057\u305f\u3002\n\u884c\u3046\u4fee\u6b63\u7b87\u6240\u304c\u3001\u65e2\u5b58\u306e\u30c6\u30b9\u30c8\u3067\u30ab\u30d0\u30fc\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u306a\u3089\u3001\u307e\u305a\u30c6\u30b9\u30c8\u66f8\u3044\u3066\u3057\u307e\u3063\u305f\u307b\u3046\u304c\u697d\u306a\u306e\u3067\u305d\u3046\u3057\u307e\u3059\u3002\n\u8a73\u7d30\u306f\u5272\u611b\u3057\u3066\u6b21\u306b\u3044\u304d\u307e\u3059\u3002\n-      case score.to_f - i\n+      tag_text += case score.to_f - i\n       when 1..Float::INFINITY\n-        tag_text += image_tag asset_path('img/common/star_yellow.svg'), alt: ''\n+        image_tag asset_path('img/common/star_yellow.svg'), alt: ''\n       when 0.5..1\n-        tag_text += image_tag asset_path('img/common/star_half.svg'), alt: ''\n+        image_tag asset_path('img/common/star_half.svg'), alt: ''\n       else\n-        tag_text += image_tag asset_path('img/common/star_gray.svg'), alt: ''\n-      end\n+        image_tag asset_path('img/common/star_gray.svg'), alt: ''\n+                  end\n\n\u3053\u308c\u306f end \u306e indent \u304c\u304a\u304b\u3057\u3044\u3067\u3059\u306d\u3002\n\u3069\u3046\u3084\u3089 end \u306f if \u3084 case \u306e\u4f4d\u7f6e\u306b\u5408\u308f\u305b\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3089\u3057\u3044\u304c else \u3084 when \u306f\u305d\u3046\u306a\u3089\u306a\u3089\u306a\u3044\u306e\u3067\u3061\u3050\u306f\u3050\u306a\u7d50\u679c\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\n\u4fee\u6b63\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3055\u3059\u304c\u306b\u30c6\u30b9\u30c8\u306a\u3057\u3067OK\u3002\n\u3059\u3079\u3066\u306e\u5909\u66f4\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001\u3082\u3046\u3044\u3061\u3069 rubocop \u3092\u304b\u3051\u3066\u307f\u308b\u3002\n% rubocop -D | egrep '[WC]:' | awk -F: '{print $5}' | sort | uniq -c\n   1  Lint/AmbiguousRegexpLiteral\n   2  Lint/EndAlignment\n   1  Lint/UselessAssignment\n   1  Performance/TimesMap\n   2  Style/CaseIndentation\n   1  Style/ElseAlignment\n   8  Style/GuardClause\n   1  Style/IndentationWidth\n   1  Style/TrailingBlankLines\n\n\u3051\u3063\u3053\u3046\u6b8b\u3063\u3066\u308b\u306a\u3041\u3002\u3002\n\n\u624b\u3067\u4fee\u6b63\n\u3042\u3068\u306f\uff11\u3064\uff11\u3064\u624b\u52d5\u3067\u78ba\u8a8d\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n% rubocop -D --only Style/GuardClause\n\nOffenses:\n\nlib/.../product.rb:10:7: C: Style/GuardClause: Use a guard clause instead of wrapping the code inside a conditional expression.\n      if defined_css.text =~ /\u54c1\u756a/\n      ^^\n  :\n568 files inspected, 8 offenses detected\n\n\u307e\u305a\u3001\u4fee\u6b63\u3059\u3079\u304d\u306a\u306e\u304b\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30eb\u3068\u3057\u3066\u8a31\u5bb9\u3057\u305f\u307b\u3046\u304c\u3088\u3055\u305d\u3046\u306a\u306e\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3082\u3057\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30eb\u306b\u8ffd\u52a0\u3059\u3079\u304d\u306a\u3089 .rubocop.yml \u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nrubocop.yml.patch\n+# https://github.com/bbatsov/rubocop/issues/3516\n+Style/VariableNumber:\n+  Enabled: false\n\n\nCOP\u3054\u3068\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30eb\u306b\u3059\u3079\u304d\u3067\u306f\u306a\u3044\u304c\u3001\u500b\u5225\u306b\u7121\u8996\u3057\u305f\u3044\u3082\u306e\u3082\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u3089\u3082 .rubocop.yml \u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nrubocop.yml.patch\n+Lint/ParenthesesAsGroupedExpression:\n+  Exclude:\n+    - 'app/uploaders/abstract_uploader.rb'\n\n\n\u3042\u3068\u306f\u3001\u30b3\u30fc\u30c9\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30bf\u30fc\u30f3\u306e\u7df4\u7fd2\u7528\u306b\u3068\u3066\u3082\u3088\u3044\u984c\u6750\u306a\u306e\u3067\u3001\u3042\u3068\u306f\u30a4\u30f3\u30bf\u30fc\u30f3\u306b\u4efb\u305b\u307e\u3059\u3002\n\u305d\u3082\u305d\u3082\u3001 SideCI \u306a\u3069\u3092\u3044\u308c\u308b\u3068\u304b\u3001Editor \u306b\u7d44\u307f\u8fbc\u3080\u306e\u304c\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306f\u3001\u306a\u3093\u3089\u304b\u306e\u7406\u7531\u306b\u3088\u308a\u3042\u3048\u3066 rubocop \u3092\u624b\u5143\u3067\u52d5\u304b\u3057\u3066\u30c1\u30a7\u30c3\u30af\u3059\u308b\u624b\u9806\u3067\u3059\u3002\n\n# \u624b\u9806\n\n## \u5168\u4f53\u611f\u306e\u628a\u63e1\n\nrubocop \u6307\u6458\u70b9\u304c\u306a\u3044\u304b\u3069\u3046\u304b\u30c1\u30a7\u30c3\u30af\n\n```\n% rubocop -D\n\n  :\n566 files inspected, 27 offenses detected\n```\n\n27 \u70b9\u306e\u6307\u6458\u304c\u3042\u308a\u307e\u3059\u3002\n\u5185\u8a33\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\n```\n% rubocop -D | egrep '[WC]:' | awk -F: '{print $5}' | sort | uniq -c\n   3  Lint/UnneededSplatExpansion\n   1  Lint/UselessAssignment\n   3  Performance/SortWithBlock\n   5  Style/CommentAnnotation\n   2  Style/ConditionalAssignment\n   2  Style/EmptyLines\n   1  Style/EmptyLinesAroundBlockBody\n   1  Style/EmptyLinesAroundMethodBody\n   8  Style/GuardClause\n   1  Style/SafeNavigation\n```\n\n## Auto Correct\n\n\u3068\u308a\u3042\u3048\u305a autocorrect \u3067\u304d\u308b\u3082\u306e\u306f autocorrect \u3057\u3066\u3057\u307e\u3063\u3066\u304b\u3089\u8003\u3048\u307e\u3059\u3002\n\n```\nfor cop in `rubocop -D | egrep '[WC]:' | awk -F: '{print $5}' | sort -u`; do rubocop -a --only $cop && git commit -a -m \"Fix '$cop'\" ; done\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067 Auto Correct \u3055\u308c\u307e\u3057\u305f\u3002\n\n```\ne2b9f82 Fix 'Style/SafeNavigation'\n004623f Fix 'Style/EmptyLinesAroundMethodBody'\n6ad69a8 Fix 'Style/EmptyLinesAroundBlockBody'\n5e0bbb3 Fix 'Style/EmptyLines'\n914c7ff Fix 'Style/ConditionalAssignment'\n0ddddbc Fix 'Style/CommentAnnotation'\n9268067 Fix 'Performance/SortWithBlock'\n57de2e6 Fix 'Lint/UnneededSplatExpansion'\n70fcd3f Fix Lint/UnderscorePrefixedVariableName\n```\n\n## Auto Correct \u3055\u308c\u305f\u3082\u306e\u3092\u78ba\u8a8d\n\n\u52d5\u4f5c\u306b\u5f71\u97ff\u306e\u3042\u308b\u4fee\u6b63\u3082\u3042\u308b\u306e\u30671\u3064\u305a\u3064\u5909\u66f4\u70b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```diff\n-          password_chars = [*'0'..'9', *'a'..'z', *'A'..'Z', *%w(! @ # $ % & * ?)]\n+          password_chars = [*'0'..'9', *'a'..'z', *'A'..'Z', %w(! @ # $ % & * ?)]\n```\n\n\u3053\u308c\u306f\u52d5\u4f5c\u306b\u5f71\u97ff\u304c\u3042\u308b\u306e\u3067\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u3001\u305d\u306e cop \u304c\u3069\u3046\u3044\u3046\u3082\u306e\u306a\u306e\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u3001cop \u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nhttps://github.com/bbatsov/rubocop/blob/master/lib/rubocop/cop/lint/unneeded_splat_expansion.rb\n\n\u3053\u306e\u30b1\u30fc\u30b9\u306f `*[...]` \u306e\u3088\u3046\u306a\u66f8\u304d\u65b9\u3092\u3084\u3081\u307e\u3057\u3087\u3046\u3068\u3044\u3046\u3053\u3068\u3067\u3057\u305f\u3002\n\u4e00\u5ea6\u5909\u6570\u306a\u3069\u306b\u683c\u7d0d\u3057\u3066\u304b\u3089\u914d\u5217\u5c55\u958b\u3092\u3059\u308b\u306e\u306f good \u3068\u66f8\u3044\u3066\u3044\u308b\u306e\u3067\u305d\u3046\u3057\u307e\u3059\u3002\n\u3055\u3089\u306b\u3001\u3053\u306e\u969b PasswordGenerator \u3092\u4f5c\u3063\u3066\u305d\u3053\u306b\u79fb\u8b72\u3057\u3066\u3057\u307e\u3046\u3053\u3068\u306b\u3057\u305f\u3002\n\u884c\u3046\u4fee\u6b63\u7b87\u6240\u304c\u3001\u65e2\u5b58\u306e\u30c6\u30b9\u30c8\u3067\u30ab\u30d0\u30fc\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u306a\u3089\u3001\u307e\u305a\u30c6\u30b9\u30c8\u66f8\u3044\u3066\u3057\u307e\u3063\u305f\u307b\u3046\u304c\u697d\u306a\u306e\u3067\u305d\u3046\u3057\u307e\u3059\u3002\n\n\u8a73\u7d30\u306f\u5272\u611b\u3057\u3066\u6b21\u306b\u3044\u304d\u307e\u3059\u3002\n\n\n```diff\n-      case score.to_f - i\n+      tag_text += case score.to_f - i\n       when 1..Float::INFINITY\n-        tag_text += image_tag asset_path('img/common/star_yellow.svg'), alt: ''\n+        image_tag asset_path('img/common/star_yellow.svg'), alt: ''\n       when 0.5..1\n-        tag_text += image_tag asset_path('img/common/star_half.svg'), alt: ''\n+        image_tag asset_path('img/common/star_half.svg'), alt: ''\n       else\n-        tag_text += image_tag asset_path('img/common/star_gray.svg'), alt: ''\n-      end\n+        image_tag asset_path('img/common/star_gray.svg'), alt: ''\n+                  end\n```\n\n\u3053\u308c\u306f end \u306e indent \u304c\u304a\u304b\u3057\u3044\u3067\u3059\u306d\u3002\n\u3069\u3046\u3084\u3089 `end` \u306f `if` \u3084 `case` \u306e\u4f4d\u7f6e\u306b\u5408\u308f\u305b\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3089\u3057\u3044\u304c `else` \u3084 `when` \u306f\u305d\u3046\u306a\u3089\u306a\u3089\u306a\u3044\u306e\u3067\u3061\u3050\u306f\u3050\u306a\u7d50\u679c\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\n\u4fee\u6b63\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3055\u3059\u304c\u306b\u30c6\u30b9\u30c8\u306a\u3057\u3067OK\u3002\n\n\n\u3059\u3079\u3066\u306e\u5909\u66f4\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001\u3082\u3046\u3044\u3061\u3069 rubocop \u3092\u304b\u3051\u3066\u307f\u308b\u3002\n\n```\n% rubocop -D | egrep '[WC]:' | awk -F: '{print $5}' | sort | uniq -c\n   1  Lint/AmbiguousRegexpLiteral\n   2  Lint/EndAlignment\n   1  Lint/UselessAssignment\n   1  Performance/TimesMap\n   2  Style/CaseIndentation\n   1  Style/ElseAlignment\n   8  Style/GuardClause\n   1  Style/IndentationWidth\n   1  Style/TrailingBlankLines\n```\n\n\u3051\u3063\u3053\u3046\u6b8b\u3063\u3066\u308b\u306a\u3041\u3002\u3002\n\n\n## \u624b\u3067\u4fee\u6b63\n\n\u3042\u3068\u306f\uff11\u3064\uff11\u3064\u624b\u52d5\u3067\u78ba\u8a8d\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```\n% rubocop -D --only Style/GuardClause\n\nOffenses:\n\nlib/.../product.rb:10:7: C: Style/GuardClause: Use a guard clause instead of wrapping the code inside a conditional expression.\n      if defined_css.text =~ /\u54c1\u756a/\n      ^^\n  :\n568 files inspected, 8 offenses detected\n```\n\n\u307e\u305a\u3001\u4fee\u6b63\u3059\u3079\u304d\u306a\u306e\u304b\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30eb\u3068\u3057\u3066\u8a31\u5bb9\u3057\u305f\u307b\u3046\u304c\u3088\u3055\u305d\u3046\u306a\u306e\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3082\u3057\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30eb\u306b\u8ffd\u52a0\u3059\u3079\u304d\u306a\u3089 `.rubocop.yml` \u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```.rubocop.yml.patch\n+# https://github.com/bbatsov/rubocop/issues/3516\n+Style/VariableNumber:\n+  Enabled: false\n```\n\nCOP\u3054\u3068\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30eb\u306b\u3059\u3079\u304d\u3067\u306f\u306a\u3044\u304c\u3001\u500b\u5225\u306b\u7121\u8996\u3057\u305f\u3044\u3082\u306e\u3082\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u3089\u3082 `.rubocop.yml` \u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```.rubocop.yml.patch\n+Lint/ParenthesesAsGroupedExpression:\n+  Exclude:\n+    - 'app/uploaders/abstract_uploader.rb'\n```\n\n\u3042\u3068\u306f\u3001\u30b3\u30fc\u30c9\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30bf\u30fc\u30f3\u306e\u7df4\u7fd2\u7528\u306b\u3068\u3066\u3082\u3088\u3044\u984c\u6750\u306a\u306e\u3067\u3001\u3042\u3068\u306f\u30a4\u30f3\u30bf\u30fc\u30f3\u306b\u4efb\u305b\u307e\u3059\u3002\n\n\n\n\n", "tags": ["RuboCop"]}