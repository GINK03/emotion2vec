{"tags": ["Swift", "Swift3.0", "UI", "iOS", "Design"], "context": "\n\n1. \u306f\u3058\u3081\u306b\n\u65b0\u5e74\u3042\u3051\u307e\u3057\u3066\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\u672c\u5e74\u3082\u4f55\u5352\u5b9c\u3057\u304f\u304a\u9858\u3044\u3044\u305f\u3044\u3057\u307e\u3059\u3002\n\u5e74\u672b\u5e74\u59cb\u306b\u73cd\u3057\u304f\u307e\u3068\u307e\u3063\u305f\u6642\u9593\u304c\u53d6\u308c\u305f\u3068\u3044\u3046\u3053\u3068\u3082\u3042\u308a\u307e\u3057\u3066\u3001\u500b\u4eba\u7684\u306b\u3082\u5fa9\u7fd2\u3057\u3066\u304a\u304d\u305f\u3044\u3068\u611f\u3058\u3066\u3044\u305f\u3001\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3084GestureRecognizer\u3092\u6d3b\u7528\u3057\u305f\u90e8\u5206\u306e\u5b9f\u88c5\u3092\u30011\u3064\u306e\u306a\u308b\u3079\u304f\u30a2\u30d7\u30ea\u306b\u8fd1\u3057\u3044\u5f62\u306e\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u307e\u3068\u3081\u3066\u898b\u305f\u3044\u3068\u601d\u3044\u53d6\u308a\u7d44\u3093\u3067\u3044\u307e\u3057\u305f\u3002\n\u4eca\u56de\u4f5c\u6210\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u306b\u95a2\u3057\u3066\u306f\u3001\u8868\u793a\u753b\u50cf\u306e\u30bf\u30c3\u30d7\u6642\u3084UICollectionView\u306e\u9078\u629e\u6642\u7b49\u306e\u300c\u51e6\u7406\u306e\u30c8\u30ea\u30ac\u30fc\u3068\u306a\u308b\u90e8\u5206\u3067GestureRecognizer\u3092\u6d3b\u7528\u300d\u3084\u300c\u4e00\u89a7\u8868\u793a\u2192\u8a73\u7d30\u9077\u79fb\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u306e\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u300d\u3092\u7e54\u308a\u4ea4\u305c\u3066\u3001\u5165\u529b\u753b\u9762\u3084\u8868\u793a\u30bf\u30a4\u30df\u30f3\u30b0\u306e\u30dd\u30a4\u30f3\u30c8\u306b\u306a\u308b\u90e8\u5206\u306eUI\u306b\u4e00\u5de5\u592b\u3092\u52a0\u3048\u3066\u307f\u305f\u5f62\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3092\u5229\u7528\u3057\u305f\u30d5\u30a9\u30fc\u30e0\u306a\u3069\u306e\u30b5\u30f3\u30d7\u30eb\n\n\u30b5\u30f3\u30d7\u30eb\u306e\u5168\u4f53\u7684\u306a\u52d5\u304d\uff1a\n\n\n2017.02.18: \u8ffd\u8a18\n\n\u3053\u306e\u8a18\u4e8b\u5185\u5bb9\u3067\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\u3092\u30d4\u30c3\u30af\u30a2\u30c3\u30d7\u3057\u305f\u5185\u5bb9\u3092\u3053\u3061\u3089\u306e\u52c9\u5f37\u4f1a\u306b\u3066\u767a\u8868\u3057\u3066\u304d\u307e\u3057\u305f\u306e\u3067\u3001\u4e0b\u8a18\u306e\u8cc7\u6599\u3082\u3054\u53c2\u8003\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\u30b9\u30e9\u30a4\u30c9\uff1a\u6307\u306e\u52d5\u304d\u3084\u9077\u79fb\u6642\u7b49\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u751f\u304b\u3057\u305fUI\u306e\u30b5\u30f3\u30d5\u309a\u30eb\u89e3\u8aac\n\u52c9\u5f37\u4f1a\uff1aSwift\u30d3\u30ae\u30ca\u30fc\u30ba\u52c9\u5f37\u4f1a \u7b2c\uff12\uff11\u56de at \u30d5\u30a1\u30f3\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u30ba\u69d8\uff08\u6e0b\u8c37\uff09\n\n2017.01.09: \u8ffd\u8a18\n\n\u672c\u30b5\u30f3\u30d7\u30eb\u306b\u30af\u30ec\u30b8\u30c3\u30c8\u8868\u8a18\u53ca\u3073\u305d\u306e\u30ed\u30b8\u30c3\u30af\u306e\u8ffd\u52a0\u3068\u65e5\u306b\u3061\u30fb\u30ec\u30b7\u30d4\u9078\u629e\u753b\u9762\u306e\u6587\u8a00\u3092\u5909\u66f4\u3057\u307e\u3057\u305f\u3002\n\uff08\u6587\u8a00\u306e\u8868\u8a18\u304c\u672c\u8a18\u4e8b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u9762\u3068\u306f\u82e5\u5e72\u7570\u306a\u308a\u307e\u3059\u304c\u3001\u51e6\u7406\u30e1\u30a4\u30f3\u90e8\u5206\u306e\u30ed\u30b8\u30c3\u30af\u306f\u307b\u3068\u3093\u3069\u5909\u66f4\u3057\u3066\u3044\u307e\u305b\u3093\uff09\n\u203b\u3053\u3061\u3089\u306e\u30b5\u30f3\u30d7\u30eb\u306fPullRequest\u3084Issue\u7b49\u306f\u304a\u6c17\u8efd\u306b\u3069\u3046\u305e\uff01\n\n2. \u4eca\u56de\u306e\u53c2\u8003\u306b\u3057\u305f\u5b9f\u88c5\u4f8b\u3068\u30b5\u30f3\u30d7\u30eb\u6982\u8981\u306b\u3064\u3044\u3066\n\u4eca\u56de\u306e\u5b9f\u88c5\u306b\u95a2\u3057\u3066\u306f\u3001\u53c2\u8003\u306b\u3057\u305f\u30a2\u30d7\u30ea\u306f\u7279\u306b\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u4e0b\u8a18\u306b\u7d39\u4ecb\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u53ca\u3073\u89e3\u8aac\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u305f\u4e0a\u3067\u3001\u30ec\u30b7\u30d4\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3068\u73fe\u5728\u6708\u306e\u65e5\u306b\u3061\u3092\u9078\u629e\u3057\u3066\u30a2\u30fc\u30ab\u30a4\u30d6\uff06\u30ec\u30b7\u30d4\u306e\u4e00\u89a7\uff06\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u3066\u81ea\u5206\u306a\u308a\u306b\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002\n\u30b5\u30f3\u30d7\u30eb\u306e\u30bf\u30a4\u30c8\u30eb\u304c\u300c\u76f4\u611f\u30ec\u30b7\u30d4\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u306e\u306f\u753b\u50cf\u306e\u5370\u8c61\u3067\u4f5c\u3063\u3066\u898b\u305f\u3044\u30ec\u30b7\u30d4\u3092\u8907\u6570\u9078\u629e\u3057\u3066\u3001\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u305f\u30ec\u30b7\u30d4\u3092\u5f8c\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001\u3053\u306e\u3088\u3046\u306a\u5f62\u306b\u3057\u307e\u3057\u305f\u3002\n\uff08\u3042\u3068\u79c1\u304c\u6599\u7406\u304c\u8da3\u5473\u306a\u306e\u3067\u3001\u306a\u304b\u306a\u304b\u4f55\u3092\u4f5c\u308b\u304b\u6c7a\u3081\u304d\u308c\u306a\u3044\u6642\u306b\u753b\u50cf\u304b\u3089\u76f4\u611f\u3067\u30ec\u30b7\u30d4\u3092\u9078\u629e\u3057\u3066\u307f\u305f\u3089\u9762\u767d\u3044\u304b\u3082\u3068\u3044\u3046\u601d\u3044\u3082\u3042\u308a\u307e\u3057\u305f\u7b11\uff09\n\n\u26052-1. \u30e1\u30a4\u30f3\u6a5f\u80fd\u4f5c\u6210\u306b\u304a\u3044\u3066\u53c2\u8003\u306b\u3057\u305f\u8a18\u4e8b\n\u30ec\u30b7\u30d4\u753b\u50cf\u306e\u4e00\u89a7\u304b\u3089\u753b\u50cf\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3067\u9078\u629e\u3059\u308b\u6a5f\u80fd\u3084\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u305f\u30ec\u30b7\u30d4\u753b\u50cf\u306e\u8868\u793a\u90e8\u5206\u306e\u9077\u79fb\u306b\u95a2\u3059\u308b\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u4e0b\u8a18\u306e\u30b5\u30f3\u30d7\u30eb\u3084\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u203b UICollectionViewDragAndDropSelectedItems\u306b\u95a2\u3057\u3066\u306f\u5143\u306fObjective-C\u306e\u30b5\u30f3\u30d7\u30eb\u306a\u306e\u3067\u65e2\u5b58\u30b3\u30fc\u30c9\u3092\u5143\u306bSwift3\u7cfb\u306b\u66f8\u304d\u76f4\u3057\uff06\u6a5f\u80fd\u8ffd\u52a0\u3092\u3001iOS Animation Tutorial: Custom View Controller Presentation Transitions\u306b\u95a2\u3057\u3066\u306f\u65e2\u5b58\u306e\u30b3\u30fc\u30c9\u304cSwift2\u7cfb\u306e\u3082\u306e\u3060\u3063\u305f\u306e\u3067Swift3\u7cfb\u306b\u66f8\u304d\u76f4\u3057\u305f\u4e0a\u3067\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u90e8\u5206\u306e\u30af\u30e9\u30b9\u306b\u3064\u3044\u3066\u306f\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u3057\u307e\u3057\u305f\u3002\n\nUICollectionViewDragAndDropSelectedItems\niOS Animation Tutorial: Custom View Controller Presentation Transitions\n\n\u307e\u305f\u4e0a\u8a18\u306e\u30b5\u30f3\u30d7\u30eb\u3084\u8a18\u4e8b\u3092\u5143\u306b\u8ffd\u52a0\u3057\u305f\u4e3b\u306a\u6a5f\u80fd\u3068\u3057\u3066\u306f\u3001\n\n\u73fe\u5728\u6708\u306e\u8868\u793a\u3092\u5143\u306b\u795d\u796d\u65e5\u3068\u66dc\u65e5\u4ed8\u304d\u306e\u65e5\u4ed8\u306e\u30dc\u30bf\u30f3\u8868\u793a\u6a5f\u80fd\nSwiftyJSON & Alamofire\u3092\u5229\u7528\u3057\u305fAPI\u901a\u4fe1\u6a5f\u80fd\uff08\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\u4f7f\u7528\uff09\nAPI\u304b\u3089\u53d6\u5f97\u3057\u305f\u753b\u50cf\u8868\u793a\u6642\u30ad\u30e3\u30c3\u30b7\u30e5\u6a5f\u80fd\n\u9078\u629e\u3057\u305f\u30c7\u30fc\u30bf\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u6a5f\u80fd\nContainerView\u3092\u91cd\u306d\u3066\u30b9\u30e9\u30a4\u30c9\u5f0f\u30e1\u30cb\u30e5\u30fc\u3092\u8868\u793a\u3059\u308b\u6a5f\u80fd\n\n\u3068\u306a\u308a\u3001\u30c7\u30fc\u30bf\u53d6\u5f97\u90e8\u5206\u3084\u30c7\u30fc\u30bf\u6c38\u7d9a\u5316\u306b\u95a2\u3059\u308b\u3067\u306f\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u6d3b\u7528\u3057\u305f\u5b9f\u88c5\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\u4e0a\u8a18\u306e\u30b5\u30f3\u30d7\u30eb\u53ca\u3073\u8a18\u4e8b\u306b\u95a2\u3057\u3066\u306f\u3001\u5b9f\u88c5\u306e\u30dd\u30a4\u30f3\u30c8\u304c\u3064\u304b\u307f\u3084\u3059\u3044\u5f62\u3067\u30bd\u30fc\u30b9\u306e\u8a18\u8ff0\u3055\u308c\u3066\u3044\u305f\u308a\u3084\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308b\u90e8\u5206\u304c\u89e3\u8aac\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u975e\u5e38\u306b\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u5834\u3092\u304a\u501f\u308a\u3057\u3066\u611f\u8b1d\u306e\u610f\u3092\u8ff0\u3079\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u26052-2. \u4eca\u56de\u306e\u30b5\u30f3\u30d7\u30eb\u306b\u3064\u3044\u3066\n\u30b5\u30f3\u30d7\u30eb\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf1\uff1a\n\n\u30b5\u30f3\u30d7\u30eb\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf2\uff1a\n\n\u30b5\u30f3\u30d7\u30eb\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf3\uff1a\n\n\u74b0\u5883\u3084\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3064\u3044\u3066\uff1a\n\nXcode8.2\nSwift3.0.2\nMacOS Sierra (Ver10.12.2)\n\n\u4f7f\u7528\u5916\u90e8API\u306b\u3064\u3044\u3066\uff1a\n\u4eca\u56de\u306e\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u306b\u95a2\u3057\u3066\u306f\u3001\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \n\n\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\n\n\n\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u306e\u30ec\u30b7\u30d4\u9078\u629e\u90e8\u5206\u3067\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u306eAPI\u3092\u5229\u7528\u3057\u305f\u969b\u306b\u53d6\u5f97\u3067\u304d\u308b\u30ec\u30b7\u30d4\u30fc\u30c7\u30fc\u30bf\u306f\u6700\u59274\u4ef6\u307e\u3067\u306b\u306a\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306e\u4f7f\u7528\u65b9\u6cd5\u3068\u3057\u3066\u306f\u3001\u3042\u3089\u304b\u3058\u3081\u306b\u30ab\u30c6\u30b4\u30ea\u30fc\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u6587\u5b57\u5217\u306e\u4e00\u89a7\u3092\u5b9a\u7fa9\u3057\u305fStruct\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u3066\u304a\u304d\u3001API\u30a2\u30af\u30bb\u30b9\u306e\u969b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\uff08\u4eca\u56de\u306e\u5834\u5408\u306f\u300c\u30ab\u30c6\u30b4\u30eaID\uff08\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\uff1acategoryId\uff09\u300d\uff09\u306b\u30ab\u30c6\u30b4\u30ea\u3092\u5b9a\u7fa9\u3057\u305f\u90e8\u5206\u304b\u3089\u30e9\u30f3\u30c0\u30e0\u3067\u30ab\u30c6\u30b4\u30eaID\u53d6\u5f97\u3057\u3066\u30bb\u30c3\u30c8\u3059\u308b\u3088\u3046\u306a\u5f62\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001API\u3078\u306e\u30a2\u30af\u30bb\u30b9\u90e8\u5206\u306e\u5b9f\u88c5\u306b\u95a2\u3057\u3066\u306f\u4e0b\u8a18\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u53c2\u7167\u9802\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\nCategoryList.swift (\u30ab\u30c6\u30b4\u30ea\u4e00\u89a7\u5b9a\u7fa9 & \u30e9\u30f3\u30c0\u30e0\u30671\u4ef6\u53d6\u5f97\u3059\u308b\u30e1\u30bd\u30c3\u30c9)\nAPIManager.swift (\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\u3078\u306e\u30c7\u30fc\u30bf\u53d6\u5f97\u7528)\nMakeRecipeController.swift (loadApiData(categoryId: String)\u5185\u306b\u51e6\u7406\u8a18\u8f09)\n\n\u203b \u30b5\u30f3\u30d7\u30eb\u5185\u3067API\u30ad\u30fc\u306e\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u9664\u5916\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u304a\u624b\u5143\u3067\u3054\u78ba\u8a8d\u306e\u5834\u5408\u306b\u306fAPI\u30ad\u30fc\u306e\u53d6\u5f97\u3092\u884c\u3063\u3066\u3044\u305f\u3060\u3051\u307e\u3059\u3068\u5e78\u3044\u3067\u3059\u3002\n\u307e\u305f\u697d\u5929Web\u30b5\u30fc\u30d3\u30b9\u306e\u30da\u30fc\u30b8\u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306bAPI\u306e\u30c6\u30b9\u30c8\u30d5\u30a9\u30fc\u30e0\u3082\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u53d6\u5f97\u3057\u305f\u3044\u30c7\u30fc\u30bf\u306b\u95a2\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30c6\u30b9\u30c8\u3082\u884c\u3044\u3084\u3059\u304f\u3001API\u306e\u7a2e\u985e\u3082\u6ca2\u5c71\u3042\u308b\u306e\u3067\u6d3b\u7528\u3057\u3066\u307f\u308b\u3068\u9762\u767d\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306d\u3002\n\n\u4f7f\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\uff1a\n\u524d\u8ff0\u3057\u305f\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\u304b\u3089\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092UICollectionView\u306e\u30bb\u30eb\u5185\u306b\u8868\u793a\u3059\u308b\u969b\u306e\u51e6\u7406\u306b\u306fAlamofire\u3068SwiftyJSON\u3092\u3001\u753b\u50cf\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u305b\u3066\u8aad\u307f\u8fbc\u307f\u306e\u9ad8\u901f\u5316\u3092\u56f3\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u95a2\u3057\u3066\u306f\u4eca\u56de\u306fSDwebImage\u3067\u306f\u306a\u304fKingFisher(SDWebImage\u306eSwift\u7248)\u3092\u4f7f\u7528\u3057\u3001\u307e\u305f\u30ec\u30b7\u30d4\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u306b\u95a2\u3057\u3066\u306fRealm\u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002\n\u304a\u307e\u3051\u3068\u3057\u3066\u6708\u5225\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u90e8\u5206\u306e\u795d\u796d\u65e5\u8868\u793a\u306b\u95a2\u3057\u3066\u306f\u3001\u81ea\u5206\u304c\u958b\u767a\u30fb\u4fdd\u5b88\u3092\u884c\u3063\u3066\u3044\u308b\u65e5\u672c\u306e\u795d\u796d\u65e5\u5224\u5b9a\u30ed\u30b8\u30c3\u30af\u30e9\u30a4\u30d6\u30e9\u30ea\u306eCalculateCalendarLogic\u3092\u5b9f\u904b\u7528\u3067\u306e\u691c\u8a3c\u3082\u517c\u306d\u3066\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u540d\n\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u6a5f\u80fd\u6982\u8981\n\n\n\n\nRealmSwift\n\u30a2\u30d7\u30ea\u5185\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\n\nSwiftyJSON\nJSON\u30c7\u30fc\u30bf\u306e\u89e3\u6790\u3092\u3057\u3084\u3059\u304f\u3059\u308b\n\n\nAlamofire\nHTTP\u306a\u3044\u3057\u306fHTTPS\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u901a\u4fe1\u7528\n\n\nKingFisher\n\u753b\u50cfURL\u304b\u3089\u306e\u975e\u540c\u671f\u3067\u306e\u753b\u50cf\u8868\u793a\u3068\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30dd\u30fc\u30c8\n\n\nCalculateCalendarLogic\n\u65e5\u672c\u306e\u795d\u796d\u65e5\u306e\u5224\u5b9a\n\n\n\nPodfile\u5185\u306e\u8a2d\u5b9a\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\uff08CalculateCalendarLogic\u306b\u95a2\u3057\u3066\u306f\u3001\u958b\u767a\u6642\u70b9\u3067Pod\u5316\u3057\u3066\u3044\u306a\u304b\u3063\u305f\u306e\u3067\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u624b\u52d5\u3067\u5c0e\u5165\u3057\u3066\u3044\u307e\u3059\u3002\uff09\nplatform :ios, '9.0'\nswift_version = '3.0'\n\ntarget 'DraggableImageForm' do\n  use_frameworks!\n  pod 'RealmSwift'\n  pod 'Alamofire'\n  pod 'SwiftyJSON'\n  pod 'Kingfisher'\n\n  post_install do |installer|\n    installer.pods_project.targets.each do |target|\n      target.build_configurations.each do |config|\n        config.build_settings['SWIFT_VERSION'] = '3.0'\n      end\n    end\n  end\nend\n\n\n3. UILongPressGestureRecogniser\u3068UICollectionView\u3067\u753b\u50cf\u306e\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3092\u884c\u3046\u90e8\u5206\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\n\u672c\u30b5\u30f3\u30d7\u30eb\u306e\u753b\u9762\u306e\u8a2d\u8a08\u306e\u5168\u4f53\u56f3\uff08Storyboard\u306e\u6982\u7565\u56f3\uff09\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u4e00\u756a\u6700\u521d\u306b\u8868\u793a\u3055\u308c\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306b\u95a2\u3057\u3066\u306fViewController.swift\u306e\u753b\u9762\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u3053\u306e\u753b\u9762\u306b\u95a2\u3057\u3066\u306f\u30b5\u30d6\u30e1\u30cb\u30e5\u30fc\u7528\u306eContainerView\u3068\u30e1\u30a4\u30f3\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793a\u7528\u306eContainerView\u306e\u5236\u5fa1\u7528\u306e\u90e8\u5206\u306b\u306a\u308b\u306e\u3067\u3001\u5b9f\u8cea\u7684\u306b\u306f\u30ec\u30b7\u30d4\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u4f5c\u6210\u3059\u308bViewController(MakeRecipeController.swift)\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u672c\u30b5\u30f3\u30d7\u30eb\u306eStoryboard\u6982\u7565\u56f3\uff1a\n\n\u30a2\u30d7\u30ea\u3092\u8d77\u52d5\u3057\u305f\u969b\u306b\u3044\u3061\u3070\u3093\u6700\u521d\u306b\u8868\u793a\u3055\u308c\u308b\u30ec\u30b7\u30d4\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u753b\u9762\u306b\u306a\u308a\u307e\u3059\u304c\u3001UI\u306e\u64cd\u4f5c\u6982\u8981\u3092\u307e\u3068\u3081\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u64cd\u4f5c\u306b\u306a\u308a\u307e\u3059\u3002\n\nUIScrollView\u306b\u914d\u7f6e\u3057\u305f\u30dc\u30bf\u30f3\u304b\u3089\u5bfe\u8c61\u306e\u65e5\u4ed8\u3092\u65e5\u306b\u3061\u306e\u30dc\u30bf\u30f3\u3092\u30bf\u30c3\u30d7\u3057\u3066\u9078\u629e\u3059\u308b\n\u300cAdd\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068UICollectionView\u306bAPI\u304b\u3089\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf4\u4ef6\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u307e\u305f\u7d9a\u3051\u3066\u30bf\u30c3\u30d7\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3055\u3089\u306b\u5225\u30ab\u30c6\u30b4\u30ea\u306e\u30c7\u30fc\u30bf\u304c4\u4ef6\u8868\u793a\u3055\u308c\u307e\u3059\uff08\u91cd\u8907\u3082\u3042\u308a\u3048\u308b\uff09\nUICollectionView\u306e\u4efb\u610f\u306e\u30bb\u30eb\u3092\u9577\u62bc\u3057\u3059\u308b\u3068\u9078\u629e\u3057\u305f\u753b\u50cf\u304c\u6307\u3067\u52d5\u304b\u305b\u308b\u3088\u3046\u306b\u306a\u308b\u306e\u3067\u3001\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\uff08\u5b9f\u4f53\u306fUIButton\uff09\u307e\u3067\u30c9\u30e9\u30c3\u30b0\u3057\u3066\u6307\u3092\u96e2\u3059\u3068\u305d\u306e\u30ec\u30b7\u30d4\u304c\u9078\u629e\u72b6\u614b\u306b\u306a\u308a\u3001\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\u4ee5\u5916\u3067\u6307\u3092\u96e2\u3059\u3068\u9078\u629e\u72b6\u614b\u306b\u306a\u3089\u305a\u306b\u753b\u50cf\u8868\u793a\u304c\u5143\u306b\u623b\u308b\n\u65e5\u306b\u3061\u3068\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\u3092\u62bc\u4e0b\u3059\u308b\u3068\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u304c\u8868\u793a\u3055\u308c\u30ec\u30b7\u30d4\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u767b\u9332\u30d5\u30a9\u30fc\u30e0\u304c\u8868\u793a\u3055\u308c\u308b\n\u9078\u629e\u3057\u305f\u30c7\u30fc\u30bf\u3092\u5168\u3066\u89e3\u9664\u53ca\u3073\u30ec\u30b7\u30d4\u753b\u50cf\u3092\u4e00\u65e6\u30af\u30ea\u30a2\u3059\u308b\u5834\u5408\u306b\u306f\u300cReset\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b\u3068\u9078\u629e\u30c7\u30fc\u30bf\u3068\u8868\u793a\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u524a\u9664\u3059\u308b\n\n\u4e0a\u8a18\u306f\u30b5\u30f3\u30d7\u30eb\u304c\u60f3\u5b9a\u3057\u3066\u3044\u308b\u52d5\u304d\u3092\u307e\u3068\u3081\u305f\u3082\u306e\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u3053\u306e\u8aac\u660e\u306e\u4e2d\u3067\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308b\u90e8\u5206\u3092\u56f3\u89e3\u3067\u793a\u3057\u305f\u3082\u306e\u3092\u4e0b\u8a18\u306b\u63b2\u8f09\u3057\u307e\u3059\u3002\nMakeRecipeController.swift\u3067\u306e\u5404\u30dc\u30bf\u30f3\u306e\u5f79\u5272\uff1a\n\u3053\u306e\u753b\u9762\u306e\u4e00\u756a\u4e0b\u306b\u3042\u308b\u30dc\u30bf\u30f3\u306f\u753b\u50cf\u30c9\u30e9\u30c3\u30b0\u6642\u306e\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\u306e\u5f79\u5272\u3068\u540c\u6642\u306b\u3001\u6b63\u5e38\u30c7\u30fc\u30bf\u6642\u306e\u767b\u9332\u51e6\u7406\u7528\u306e\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u8868\u793a\u3092\u884c\u3046\u3068\u3044\u30462\u3064\u306e\u5f79\u5272\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u30ec\u30b7\u30d4\u8868\u793a\u306eUICollectionView\u306e\u30bb\u30eb\u3092\u9577\u62bc\u3057\u3057\u305f\u5834\u5408\u306e\u52d5\u304d\uff1a\n\u30bb\u30eb\u3092\u9577\u62bc\u3057\u3059\u308b\u3068UILongTapGestureRecognizer\u304c\u767a\u52d5\u3059\u308b\u3088\u3046\u306a\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u4e2d\u3067\u30c9\u30e9\u30c3\u30b0\u5bfe\u8c61\u306e\u753b\u50cf\u3092\u30bb\u30c3\u30c8\u3057\u305fUIImageView\u306e\u5909\u6570\u3092\u7528\u610f\u3057\u3066\u304a\u304d\u3001UIImageView\u306e\u5909\u6570\u3092\u52d5\u304b\u3059\u3088\u3046\u306a\u5f62\u3067\u5b9f\u73fe\u3055\u305b\u3066\u3044\u307e\u3059\u3002\n\n\u4efb\u610f\u306e\u30ec\u30b7\u30d4\u3092\u9078\u629e\u3057\u305f\u5834\u5408\u306e\u8868\u793a\uff1a\n\u4efb\u610f\u306e\u30bb\u30eb\u304b\u3089\u753b\u50cf\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3001\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\u306b\u3076\u3064\u304b\u3063\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u6307\u3092\u96e2\u3059\u3068\u767b\u9332\u304c\u3055\u308c\u308b\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u969b\u306b\u3053\u306e\u30ec\u30b7\u30d4\u304c\u9078\u3070\u308c\u305f\u3068\u3044\u3046\u3053\u3068\u304c\u308f\u304b\u308b\u3088\u3046\u306b\u3001\u8a72\u5f53\u30c7\u30fc\u30bf\u3092\u30bb\u30eb\u8868\u793a\u304b\u3089\u6d88\u3059\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u3061\u3089\u306f\u53c2\u8003\u8cc7\u6599\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u672c\u30b5\u30f3\u30d7\u30eb\u3092\u4f5c\u6210\u3059\u308b\u306b\u3042\u305f\u3063\u3066\u306e\u81ea\u5206\u3067\u8d77\u3053\u3057\u305f\u30e9\u30d5\u30b9\u30b1\u30c3\u30c1\uff08\u5b9f\u88c5\u524d\u306b\u4e3b\u306a\u6a5f\u80fd\u306e\u7d44\u307f\u5408\u308f\u305b\u3084\u5b9f\u88c5\u65b9\u91dd\u3092\u307e\u3068\u3081\u305f\u30ce\u30fc\u30c8\u306e\u4e00\u90e8\uff09\u3082\u8f09\u305b\u3066\u3044\u307e\u3059\u3002\n\u4f59\u8ac7\u306b\u306f\u306a\u308a\u307e\u3059\u304c\u3001\u8907\u6570\u306e\u6a5f\u80fd\u3092\u7d44\u307f\u5408\u308f\u305b\u305fUI\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u3044\u304d\u306a\u308a\u5b9f\u88c5\u3092\u8a66\u307f\u308b\u3068\u8a2d\u8a08\u306e\u843d\u3068\u3057\u6240\u304c\u30d6\u30ec\u3066\u53d6\u3063\u6563\u3089\u304b\u308b\u3053\u3068\u304c\u79c1\u306f\u591a\u304b\u3063\u305f\u306e\u3067\u7fd2\u6163\u3068\u3057\u3066\u5b9f\u88c5\u524d\u306b\u306f\u6982\u8981\u3084\u30d1\u30fc\u30c4\u306e\u91cd\u306a\u308a\u306b\u95a2\u3059\u308b\u90e8\u5206\u3092\u307e\u3068\u3081\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u6a5f\u80fd\u4f5c\u6210\u6642\u306e\u30e9\u30d5\u30b9\u30b1\u30c3\u30c1\uff1a\n\n\u6a5f\u80fd\u3092\u7121\u7406\u3084\u308a\u8a70\u3081\u8fbc\u3093\u3067\u3057\u307e\u3063\u305f\u5f62\u306b\u306f\u306a\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001Web\u306e\u30d5\u30a9\u30fc\u30e0\u3067\u3082\u3088\u304f\u3042\u308b\u3088\u3046\u306a\u3001\u9078\u629e\u30a8\u30ea\u30a2\u306b\u753b\u50cf\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u6a5f\u69cb\u3092\u30a4\u30e1\u30fc\u30b8\u3057\u3066\u307f\u307e\u3057\u305f\u306e\u3067\u3001\u4eca\u56de\u306e\u3088\u3046\u306a\u52d5\u304d\u306b\u3064\u3044\u3066\u306f\u3001\u9805\u76ee\u9078\u629e\u306e\u30e6\u30fc\u30b6\u30fc\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u969b\u306b\u4e00\u5de5\u592b\u3092\u52a0\u3048\u308b\u969b\u306e\u30a2\u30a4\u30c7\u30a2\u3068\u3057\u3066\u3082\u826f\u3044\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u26053-1. API\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d6\u5f97\u90e8\u5206\u3068\u305d\u308c\u305e\u308c\u306e\u30dc\u30bf\u30f3\u306b\u95a2\u3059\u308b\u8aac\u660e\n\u672c\u30b5\u30f3\u30d7\u30eb\u306f\u300c\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\u300d\u3092\u5229\u7528\u3057\u3066\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u3092\u884c\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u306eAPI\u3067\u306f\u3042\u3089\u304b\u3058\u3081\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5927\u30ab\u30c6\u30b4\u30ea\u30fc\u306e\u4e0a\u4f4d4\u4ef6\u306e\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u3088\u3046\u306a\u5f62\u306b\u306a\u308b\u306e\u3067\u3001\u8ffd\u52a0\u30dc\u30bf\u30f3\u62bc\u4e0b\u6642\u306b\u65b0\u305f\u306b\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u8868\u793a\u7528\u30c7\u30fc\u30bf\u306e\u683c\u7d0d\u3057\u3066\u3044\u308b\u914d\u5217\u306b\u8ffd\u52a0\u3057\u3066\u3044\u304f\u3088\u3046\u306a\u5f62\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u3002\nAPI\u7d4c\u7531\u3067\u306e\u30c7\u30fc\u30bf\u53d6\u5f97\u51e6\u7406\u306b\u3064\u3044\u3066\u3082\u3001\u5168\u4f53\u30ed\u30b8\u30c3\u30af\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306e\u4e2d\u306b\u62bc\u3057\u8fbc\u3081\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u4e0b\u8a18\u306e\u56f3\u306e\u3088\u3046\u306b\u305d\u308c\u305e\u308c\u306e\u5f79\u5272\u306b\u5fdc\u3058\u3066Struct\u306b\u5206\u89e3\u3057\u305f\u4e0a\u3067\u5fc5\u8981\u306a\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u4f7f\u7528\u3059\u308b\u3088\u3046\u306a\u5f62\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u3002\n\uff08\u3053\u306e\u5f62\u5f0f\u306b\u3057\u305f\u5834\u5408\u306f\u4f7f\u7528\u3059\u308bAPI\u306e\u5404\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u5408\u308f\u305b\u3066\u306e\u8abf\u6574\u3082\u3057\u3084\u3059\u304f\u306a\u308b\u3068\u601d\u3044\u307e\u3059\uff09\n\nUICollectionView\u306b\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3080\u306a\u3044\u3057\u306f\u3001\u30c7\u30fc\u30bf\u306e\u30ea\u30bb\u30c3\u30c8\u3092\u884c\u3046\u5404\u30dc\u30bf\u30f3\u306eaddTarget\u306e\u5b9a\u7fa9\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u521d\u671f\u5316\u306e\u51e6\u7406\u3092fileprivate\u306e\u30e1\u30bd\u30c3\u30c9\u306b\u5207\u308a\u51fa\u3057\u3066\u3001viewDidLoad\u306e\u5b9f\u884c\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u5b9f\u884c\u3055\u305b\u308b\u3088\u3046\u306a\u69cb\u6210\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nMakeRecipeController.swift\n//UI\u8868\u793a\u306e\u521d\u671f\u5316\u3092\u884c\u3046\uff08ViewDidLoad\u5185\u3067\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\uff09\nfileprivate func initDefaultUiSetting() {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    //\u30dc\u30bf\u30f3\u306b\u95a2\u3059\u308b\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n    reloadDataButton.addTarget(self, action: #selector(MakeRecipeController.reloadButtonTapped(button:)), for: .touchUpInside)\n    reloadDataButton.layer.cornerRadius = CGFloat(reloadDataButton.frame.width / 2)\n\n    resetDataButton.addTarget(self, action: #selector(MakeRecipeController.resetButtonTapped(button:)), for: .touchUpInside)\n    resetDataButton.layer.cornerRadius = CGFloat(resetDataButton.frame.width / 2)\n}\n\n//Add\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u306e\u30a2\u30af\u30b7\u30e7\u30f3\nfunc reloadButtonTapped(button: UIButton) {\n    loadApiData(categoryId: CategoryList.fetchTargetCategory())\n}\n\n//Reset\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u306e\u30a2\u30af\u30b7\u30e7\u30f3\nfunc resetButtonTapped(button: UIButton) {\n    initTargetMessageSetting()\n}\n\n\n\u4e0a\u8a18\u306e\u56f3\u89e3\u3067\u3082\u3042\u308b\u3088\u3046\u306b\u300c\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\u300d\u304b\u3089\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u90e8\u5206\u306e\u5b9f\u969b\u306e\u51e6\u7406\u90e8\u5206\u306f\u3001loadApiData(categoryId: CategoryList.fetchTargetCategory())\u30e1\u30bd\u30c3\u30c9\u306e\u90e8\u5206\u306b\u306a\u308a\u307e\u3059\u3002\n\uff08\u4eca\u56de\u306fAPI\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c1\u3064\u3057\u304b\u306a\u3044\u306e\u3067\u3001\u30e9\u30f3\u30c0\u30e0\u306b1\u4ef6\u9078\u629e\u3057\u305f\u5927\u30ab\u30c6\u30b4\u30ea\u30fc\u3092\u5f15\u6570\u306b\u53d6\u308b\u30e1\u30bd\u30c3\u30c9\u306b\u307e\u3068\u3081\u305f\u5f62\u306b\u3057\u307e\u3057\u305f\u3002\uff09\nAPI\u306e\u4ed5\u69d8\u3084\u901a\u4fe1\u4e2d\u306e\u753b\u9762\u72b6\u614b\u306e\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3082\u8003\u616e\u3057\u305f\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u51e6\u7406\u90e8\u5206\u306e\u30e1\u30bd\u30c3\u30c9\u5185\u306e\u5168\u4f53\u51e6\u7406\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nMakeRecipeController.swift\n//Alamofire\u3067\u306e\u697d\u5929\u30ec\u30b7\u30d4API\u304b\u3089\u30e9\u30f3\u30ad\u30f3\u30b0\u4e0a\u4f4d\u306e\u30ec\u30b7\u30d4\u60c5\u5831\u3092\u9078\u629e\u30ab\u30c6\u30b4\u30ea\u30fc\u3092\u5143\u306b\u53d6\u5f97\u3059\u308b\nfileprivate func loadApiData(categoryId: String) {\n\n    //\u901a\u4fe1\u4e2d\u306fCollectionView\u306e\u64cd\u4f5c\u3092\u30ed\u30c3\u30af\u3059\u308b\n    receiptCollectionView.isUserInteractionEnabled = false\n    receiptCollectionView.alpha = 0.35\n\n    //\u697d\u5929API\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u884c\u3046\n    let parameterList = [\"format\" : \"json\", \"applicationId\" : CommonSetting.apiKey, \"categoryId\" : categoryId]\n    let api = ApiManager(path: \"/Recipe/CategoryRanking/20121121\", method: .get, parameters: parameterList)\n    api.request(success: { (data: Dictionary) in\n\n        //\u53d6\u5f97\u7d50\u679c\u306e\u30c7\u30fc\u30bf\u306bSwiftyJSON\u3092\u9069\u7528\u3059\u308b\n        let jsonList = JSON(data)\n        let results = jsonList[\"result\"]\n\n        //\u53d6\u5f97\u3057\u305f\u7d50\u679c\u3092\u8868\u793a\u7528\u306e\u914d\u5217\u306b\u683c\u7d0d\u3059\u308b\n        for (_, result) in results {\n\n            //\u30ec\u30b7\u30d4\u306e\u516c\u958b\u65e5\u3092yyyy:MM:dd\u306e\u5f62\u5f0f\u306b\u3059\u308b\n            let recipePublishday = String(describing: result[\"recipePublishday\"])\n            let published = recipePublishday.substring(to: recipePublishday.index(recipePublishday.startIndex, offsetBy: 10))\n\n            //CollectionView\u3078\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u3092\u307e\u3068\u3081\u305f\u30bf\u30d7\u30eb\n            let targetData = (\n                String(describing: result[\"recipeId\"]),\n                String(describing: result[\"recipeIndication\"]),\n                published,\n                String(describing: result[\"recipeTitle\"]),\n                String(describing: result[\"foodImageUrl\"]),\n                String(describing: result[\"recipeUrl\"])\n                ) as (id: String, indication: String, published: String, title: String, image: String, url: String)\n\n            //\u8868\u793a\u7528\u306e\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3059\u308b\n            self.apiDataList.append(targetData)\n        }\n\n        //CollectionView\u3092\u30ea\u30ed\u30fc\u30c9\u3059\u308b\n        self.receiptCollectionView.isUserInteractionEnabled = true\n        self.receiptCollectionView.alpha = 1\n        self.receiptCollectionView.reloadData()\n\n    }, fail: { (error: Error?) in\n\n        //\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3092\u884c\u3046\uff08AlertController\u3092\u8868\u793a\uff09\n        let errorAlert = UIAlertController(\n            title: \"\u901a\u4fe1\u72b6\u614b\u30a8\u30e9\u30fc\",\n            message: \"\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u901a\u4fe1\u72b6\u614b\u306e\u826f\u3044\u5834\u6240\u306a\u3044\u3057\u306f\u304a\u6301\u3061\u306eWift\u306b\u63a5\u7d9a\u3057\u305f\u72b6\u614b\u3067\u518d\u5ea6\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304a\u8a66\u3057\u4e0b\u3055\u3044\u3002\",\n            preferredStyle: UIAlertControllerStyle.alert\n        )\n        errorAlert.addAction(\n            UIAlertAction(\n                title: \"OK\",\n                style: UIAlertActionStyle.default,\n                handler: nil\n            )\n        )\n        self.receiptCollectionView.isUserInteractionEnabled = true\n        self.receiptCollectionView.alpha = 1\n        self.present(errorAlert, animated: true, completion: nil)\n    })\n}\n\n\n\u4e0a\u8a18\u306e\u30ed\u30b8\u30c3\u30af\u3092\u3056\u3063\u304f\u308a\u3068\u89e3\u8aac\u3059\u308b\u3068\u3001APIManagaer.swift\u90e8\u5206\u3067\u306f\u901a\u4fe1\u6642\u306e\u6210\u529f\u6642\u30fb\u5931\u6557\u6642\u306e\u57fa\u672c\u7684\u306a\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u51e6\u7406\u3068API\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306b\u95a2\u3059\u308b\u521d\u671f\u8a2d\u5b9a\u3084\u5909\u6570\u306b\u95a2\u3059\u308b\u5b9a\u7fa9\u5168\u822c\u3092\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u8868\u793a\u5bfe\u8c61\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u5185\u3067\u306fAPIManagaer.swift\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u305f\u4e0a\u3067\u3001API\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30fb\u30ea\u30af\u30a8\u30b9\u30c8\u30e1\u30bd\u30c3\u30c9\u30fb\u5404\u7a2e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3057\u305f\u4e0a\u3067\u30a2\u30af\u30bb\u30b9\u3092\u884c\u3044\u3001\n\n\n\u6210\u529f\u6642\uff1a \u2192 \u30ec\u30b9\u30dd\u30f3\u30b9\u30c7\u30fc\u30bf\u3092\u6574\u5f62\u3057\u8868\u793a\u7528\u306e\u914d\u5217\u306b\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3059\u308b\n\n\u5931\u6557\u6642\uff1a \u2192 \u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u901a\u4fe1\u5931\u6557\u306e\u30a2\u30e9\u30fc\u30c8\u3092\u8868\u793a\n\n\u3068\u3044\u3046\u5f62\u306e\u51e6\u7406\u3068\u8868\u793a\u7528\u306eUICollectionView\u306e\u898b\u305f\u76ee\u306b\u95a2\u3059\u308b\u8abf\u6574\u3092\u884c\u3046\u3088\u3046\u306b\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\n\u203b APIManagaer.swift\u90e8\u5206\u306e\u4f5c\u6210\u306b\u3042\u305f\u308a\u307e\u3057\u3066\u306f\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\nAlamofire4+swift3\u306e\u30b5\u30f3\u30d7\u30eb\n\n\n\u26053-2. UICollectionViewCell\u306bUILongPressGestureRecognizer\u3092\u4ed8\u4e0e\u3059\u308b\u90e8\u5206\n\u9078\u629e\u3059\u308b\u30ec\u30b7\u30d4\u3092\u8868\u793a\u3059\u308b\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u3001UICollectionViewCell\u306b\u8868\u793a\u3059\u308b\u30c7\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u969b\u306e\u51e6\u7406\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u30bb\u30eb\u5168\u4f53\u306bUILongPressGestureRecognizer\u3092\u4ed8\u4e0e\u3059\u308b\u3088\u3046\u306a\u5f62\u306b\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001UILongPressGestureRecognizer\u304c\u767a\u52d5\u3057\u305f\u969b\u306b\u5b9f\u884c\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9\u306b\u3066\u3001\u3069\u306e\u30bb\u30eb\u304c\u5bfe\u8c61\u306a\u306e\u304b\u3092\u5224\u5b9a\u3059\u308b\u305f\u3081\u306b\u3001\u30bb\u30eb\u306b\u8b58\u5225\u7528\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\uff08tag\uff09\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u5024\u3092\u6307\u5b9a\u3059\u308b\u5f62\u306b\u3057\u307e\u3059\u3002\n\nMakeRecipeController.swift\n//\u30bb\u30eb\u306b\u8868\u793a\u3059\u308b\u5024\u3092\u8a2d\u5b9a\u3059\u308b\ninternal func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -> UICollectionViewCell {\n\n    //\u30bb\u30eb\u306e\u5b9a\u7fa9\u3092\u884c\u3046\n    let cell = collectionView.dequeueReusableCell(withReuseIdentifier: \"RecipeCell\", for: indexPath) as! RecipeCell\n\n    //\u30bb\u30eb\u3078\u53d7\u3051\u6e21\u3055\u308c\u305f\u5024\u3092\u8a2d\u5b9a\u3059\u308b\n    let targetData = apiDataList[indexPath.row]\n    cell.recipeNameLabel.text = targetData.title\n    cell.recipeDateLabel.text = targetData.published\n    cell.recipeCategoryLabel.text = targetData.indication\n\n    //Kingfisher\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6d3b\u7528\u3057\u305f\u753b\u50cf\u30c7\u30fc\u30bf\u306e\u8a2d\u5b9a\n    let url = URL(string: targetData.image)\n    cell.recipeImageView.image = nil\n    cell.recipeImageView.kf.indicatorType = .activity\n    cell.recipeImageView.kf.setImage(with: url)\n\n    //cell\u306e\u30bf\u30b0\u3092\u6c7a\u5b9a\u3059\u308b(LongPressGestureRecognizer\u304b\u3089\u306e\u9006\u5f15\u304d\u7528\u306b\u8a2d\u5b9a)\n    cell.tag = indexPath.row\n\n    //LongPressGestureRecognizer\u306e\u5b9a\u7fa9\u3092\u884c\u3046\n    let longPressGesture = UILongPressGestureRecognizer(target: self, action: #selector(MakeRecipeController.longPressCell(sender:)))\n\n    //\u30a4\u30d9\u30f3\u30c8\u767a\u751f\u307e\u3067\u306e\u30bf\u30c3\u30d7\u6642\u9593\uff1a0.24\u79d2\n    longPressGesture.minimumPressDuration = 0.24\n\n    //\u6307\u306e\u30ba\u30ec\u3092\u8a31\u5bb9\u3059\u308b\u7bc4\u56f2\uff1a10px\n    longPressGesture.allowableMovement = 10.0\n\n    //\u30bb\u30eb\u306b\u5bfe\u3057\u3066LongPressGestureRecognizer\u3092\u4ed8\u4e0e\u3059\u308b\n    cell.addGestureRecognizer(longPressGesture)\n\n    return cell\n}\n\n\nUILongPressGestureRecognizer\u306b\u95a2\u3059\u308b\u51e6\u7406\u3084\u6d3b\u7528\u53ca\u3073\u3001\u57fa\u672c\u7684\u306a\u4e8b\u9805\u306e\u78ba\u8a8d\u306b\u95a2\u3057\u3066\u306f\u4e0b\u8a18\u306e\u8a18\u4e8b\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u3010iOS Swift\u5165\u9580 #118\u3011UILongPressGesture\u3092\u4f7f\u3046\u3002\u307e\u305f\u3001\u6307\u3092\u96e2\u3057\u305f\u3068\u304d\u306b\u51e6\u7406\u3092\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u3059\u308b\n\u3010Swift\u3011Long Press Gesture Recognizer\u306e\u4f7f\u3044\u65b9\u3002\u90e8\u54c1\u306e\u9577\u62bc\u3057\u3092\u691c\u77e5\u3059\u308b\u3002\n\n\n\u26053-3. UILongPressGestureRecognizer\u3067\u5b9f\u884c\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9\u5185\u90e8\u306e\u51e6\u7406\u306b\u95a2\u3059\u308b\u90e8\u5206\n\u4e0a\u8a18\u306eUICollectionViewCell\u306b\u4ed8\u4e0e\u3057\u305fUILongPressGestureRecognizer\u304c\u767a\u52d5\u3057\u305f\u969b\u306b\u5b9f\u884c\u3055\u308c\u308blongPressCell(sender: UILongPressGestureRecognizer)\u30e1\u30bd\u30c3\u30c9\u306e\u5185\u90e8\u51e6\u7406\u306b\u95a2\u3059\u308b\u89e3\u8aac\u306b\u306a\u308a\u307e\u3059\u3002\n1.\u30bb\u30eb\u306b\u8a2d\u5b9a\u3057\u305f\u30bf\u30b0\u5024\u3092\u5143\u306b\u9078\u629e\u3055\u308c\u305f\u8a72\u5f53\u306e\u30bb\u30eb\u3092\u5224\u5b9a\u3059\u308b\n\u3053\u306e\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u3001longPressCell(sender: UILongPressGestureRecognizer)\u306e\u5f15\u6570sender\u304b\u3089\u8a72\u5f53\u306e\u30bf\u30b0\u5024\uff08Int\u578b\uff09\u3068\u9577\u62bc\u3057\u3055\u308c\u305f\u4f4d\u7f6e\u3092\u53d6\u5f97\u3057\u3001\u30bf\u30b0\u5024\u3092\u5143\u306b\u3057\u3066\u8a72\u5f53\u306e\u30bb\u30eb\u3092\u8abf\u3079\u3066\u8a72\u5f53\u3059\u308b\u30bb\u30eb\u3068\u305d\u306e\u30bb\u30eb\u5185\u306b\u3042\u308b\u753b\u50cf\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u30ed\u30b8\u30c3\u30af\u3068\u306a\u308a\u307e\u3059\u3002\n\u307e\u305f\u4e0a\u8a18\u306e\u30ed\u30b8\u30c3\u30af\u3067\u53d6\u5f97\u3057\u305f\u53d6\u5f97\u3057\u305f\u753b\u50cf\u30c7\u30fc\u30bf\u3068\u9577\u62bc\u3057\u3055\u308c\u305f\u4f4d\u7f6e\u304b\u3089\u5272\u308a\u51fa\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u3001\u5909\u6570var draggableImageView: UIImageView!\uff08\u30c9\u30e9\u30c3\u30b0\u79fb\u52d5\u304c\u53ef\u80fd\u306aUIImageView\uff09\u306b\u8a2d\u5b9a\u3057\u3066\u753b\u9762\u306e\u4e00\u756a\u4e0a\u306b\u8868\u793a\u3055\u305b\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001UICollectionViewCell\u306e\u4e2d\u304b\u3089\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u304c\u629c\u304d\u51fa\u3066\u3001\u304b\u3064\u6307\u306e\u52d5\u304d\u306b\u5408\u308f\u305b\u3066\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u52d5\u304b\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u5f62\u3068\u306a\u308a\u307e\u3059\u3002\n\nMakeRecipeController.swift\n//\u30bb\u30eb\u3092\u9577\u62bc\u3057\u3057\u305f\u969b(UILongPressGestureRecognizer\u3067\u5b9f\u884c\u3055\u308c\u305f\u969b)\u306b\u767a\u52d5\u3059\u308b\u51e6\u7406\nfunc longPressCell(sender: UILongPressGestureRecognizer) {\n\n    //\u9577\u62bc\u3057\u3057\u305f\u30bb\u30eb\u306e\u30bf\u30b0\u540d\u3068\u73fe\u5728\u4f4d\u7f6e\u3092\u8a2d\u5b9a\u3059\u308b\n    let targetTag: Int = (sender.view?.tag)!\n    let pressPoint: CGPoint = sender.location(ofTouch: 0, in: self.view)\n\n    //\u30bf\u30b0\u306e\u5024(=indexPath.row)\u306e\u5024\u3092\u5143\u306b\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\n    let selectedData: (id: String, indication: String, published: String, title: String, image: String, url: String) = apiDataList[targetTag]\n\n    //\u5bfe\u8c61\u306e\u753b\u50cf\u30b5\u30a4\u30ba\u3068\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u7b97\u51fa\u3059\u308b\n    let targetWidth = RecipeCell.cellOfSize().width\n    let targetHeight = RecipeCell.cellOfSize().height\n    let centerX = pressPoint.x - (targetWidth / 2)\n    let centerY = pressPoint.y - (targetHeight / 2)\n\n    //\u9577\u62bc\u3057\u5bfe\u8c61\u306e\u30bb\u30eb\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u305f\u3082\u306e\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306e\u5909\u6570\n    var targetImage: UIImage? = nil\n    var targetCell: RecipeCell? = nil\n\n    //CollectionView\u5185\u306e\u8981\u7d20\u3067\u8a72\u5f53\u306e\u30bb\u30eb\u306e\u3082\u306e\u3092\u62bd\u51fa\u3059\u308b\n    for targetView in receiptCollectionView.subviews {\n        if targetView is RecipeCell {\n            let cc: RecipeCell = targetView as! RecipeCell\n            if cc.tag == targetTag {\n\n                //\u8a72\u5f53\u306e\u30bb\u30eb\u3068\u305d\u306e\u4e2d\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u308bUIImage\u3092\u62bd\u51fa\u3059\u308b\n                targetCell = cc\n                targetImage = targetCell?.recipeImageView.image\n                break\n            }\n        }\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb    \n}\n\n\n2.\u305d\u308c\u305e\u308c\u306e\u72b6\u614b\u3054\u3068\u306e\u51e6\u7406\u5185\u5bb9\u3092\u8a18\u8f09\u3059\u308b \n\u4ee5\u964d\u306fsender\u306estate\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u72b6\u614b\u3092\u5143\u306b\u305d\u308c\u305e\u308c\u306e\u51e6\u7406\u3092\u8a18\u8f09\u3057\u3066\u3044\u304f\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\u305d\u308c\u305e\u308c\u306e\u72b6\u614b\u6642\u306b\u95a2\u3059\u308b\u51e6\u7406\u5185\u5bb9\u306e\u6982\u8981\u306f\u3001\n\n\nUIGestureRecognizerState.began\uff08\u958b\u59cb\u6642\uff09\uff1a\u6307\u306e\u52d5\u304d\u306b\u5408\u308f\u305b\u3066\u52d5\u304fUIImageView\u306e\u5909\u6570\u300cdraggableImageView\u300d\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u8868\u793a\u3084\u521d\u671f\u4f4d\u7f6e\u306e\u6c7a\u5b9a\u30fb\u8a72\u5f53\u306eUICollectionView\u306e\u30bb\u30eb\u306b\u914d\u7f6e\u3057\u305f\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u96a0\u3059\u51e6\u7406\n\nUIGestureRecognizerState.changed\uff08\u6307\u3092\u52d5\u304b\u3057\u3066\u3044\u308b\u6642\uff09\uff1a\u6307\u306e\u52d5\u304d\u306b\u5408\u308f\u305b\u3066\u300cdraggableImageView\u300d\u306e\u4f4d\u7f6e\u3092\u5909\u66f4\u3057\u3001\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\u3068\u306a\u308b\u4e0b\u90e8\u306b\u914d\u7f6e\u3057\u305f\u30dc\u30bf\u30f3\u3068\u91cd\u306a\u3063\u3066\u3044\u308b\u304b\u3092\u5224\u5b9a\u3059\u308b\u51e6\u7406\n\nUIGestureRecognizerState.ended\uff08\u6307\u3092\u96e2\u3057\u305f\u6642\uff09\uff1a\u6307\u306e\u96e2\u3057\u305f\u969b\u306e\u4f4d\u7f6e\u304c\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\u306b\u91cd\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u306b\u306e\u307f\u3001\u305d\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u9078\u629e\u3057\u305f\u72b6\u614b\u306b\u3057\u3066\u3001\u300cdraggableImageView\u300d\u306e\u4e2d\u3092\u6383\u9664\u3059\u308b\u51e6\u7406\n\n\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nMakeRecipeController.swift\n//\u30bb\u30eb\u3092\u9577\u62bc\u3057\u3057\u305f\u969b(UILongPressGestureRecognizer\u3067\u5b9f\u884c\u3055\u308c\u305f\u969b)\u306b\u767a\u52d5\u3059\u308b\u51e6\u7406\nfunc longPressCell(sender: UILongPressGestureRecognizer) {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb \n\n    //UILongPressGestureRecognizer\u304c\u958b\u59cb\u3055\u308c\u305f\u969b\u306e\u51e6\u7406\n    if sender.state == UIGestureRecognizerState.began {\n\n        //\u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306aImageView\u3092\u4f5c\u6210\u3059\u308b\n        draggableImageView = UIImageView()\n        draggableImageView.contentMode = .scaleAspectFill\n        draggableImageView.clipsToBounds = true\n        draggableImageView.frame = CGRect(x: centerX, y: centerY, width: targetWidth, height:targetHeight)\n\n        //\u5bfe\u8c61\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u53d6\u5f97\u3059\u308b\u51e6\u7406\u306b\u7f6e\u304d\u63db\u3048\u308b\n        draggableImageView.image = targetImage\n        self.view.addSubview(draggableImageView)\n\n        //\u30bb\u30eb\u5185\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u8868\u793a\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u3059\u308b\n        targetCell?.recipeImageView.isHidden = true\n\n    //UILongPressGestureRecognizer\u304c\u52d5\u4f5c\u4e2d\u306e\u969b\u306e\u51e6\u7406\n    } else if sender.state == UIGestureRecognizerState.changed {\n\n        //\u52d5\u3044\u305f\u5206\u306e\u8ddd\u96e2\u3092\u52a0\u7b97\u3059\u308b\n        draggableImageView.frame = CGRect(x: centerX, y: centerY, width: targetWidth, height:targetHeight)\n\n        //\u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306aImageView\u3068\u3076\u3064\u304b\u308b\u7bc4\u56f2\u306e\u8a2d\u5b9a\n        let minX = dragAreaButton.frame.origin.x - targetWidth\n        let maxX = dragAreaButton.frame.origin.x + dragAreaButton.frame.size.width\n        let minY = dragAreaButton.frame.origin.y - targetHeight\n        let maxY = dragAreaButton.frame.origin.y + dragAreaButton.frame.size.height\n\n        if ((minX <= centerX && centerX <= maxX) && (minY <= centerY && centerY <= maxY)) {\n\n            //\u3076\u3064\u304b\u308b\u7bc4\u56f2\u5185\u306b\u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306aImageView\u304c\u3042\u308b\u5834\u5408\n            dragAreaButton.backgroundColor = ColorConverter.colorWithHexString(hex: WebColorLists.lightOrangeCode.rawValue)\n\n            isSelectedFlag = true\n\n        } else {\n\n            //\u3076\u3064\u304b\u308b\u7bc4\u56f2\u5185\u306b\u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306aImageView\u304c\u306a\u3044\u5834\u5408\n            dragAreaButton.backgroundColor = UIColor.lightGray\n            isSelectedFlag = false\n        }\n\n    //UILongPressGestureRecognizer\u304c\u7d42\u4e86\u3057\u305f\u969b\u306e\u51e6\u7406\n    } else if sender.state == UIGestureRecognizerState.ended {\n\n        //\u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306aImageView\u3092\u524a\u9664\u3059\u308b\n        targetImage = nil\n        draggableImageView.image = nil\n        draggableImageView.removeFromSuperview()\n\n        //\u5bfe\u8c61\u306ecell\u306b\u3042\u308bImageView\u3092\u8868\u793a\n        targetCell?.recipeImageView.isHidden = false\n\n        //\u3076\u3064\u304b\u308b\u7bc4\u56f2\u306e\u57fa\u6e96\u3068\u306a\u308b\u30dc\u30bf\u30f3\u306e\u8272\u3092\u623b\u3059\n        dragAreaButton.backgroundColor = UIColor.lightGray\n\n        if isSelectedFlag {\n\n            //\u30c7\u30fc\u30bf\u8ffd\u52a0\u306e\u969b\u306b\u306f\u4e00\u6642\u7684\u306bcollectionView\u3092\u9078\u629e\u4e0d\u53ef\u306b\u3057\u3066\u304a\u304f\n            receiptCollectionView.isPrefetchingEnabled = false\n\n            //\u767b\u9332\u3067\u304d\u308b\u6700\u5927\u6570\u4ee5\u4e0b\u306e\u5834\u5408\u306f\u9078\u629e\u6642\u306e\u51e6\u7406\u3092\u884c\u3046\n            if selectedDataList.count < RecipeSetting.recipeMaxCount {\n\n                //\u9078\u629e\u6e08\u307f\u30c7\u30fc\u30bf\u306b\u8ffd\u52a0\u3059\u308b\u51e6\u7406\u3092\u4f5c\u6210\u3059\u308b\n                selectedDataList.append(selectedData)\n\n                //CollectionView\u5185\u306e\u30c7\u30fc\u30bf\u30921\u4ef6\u524a\u9664\u3057\u3066\u66f4\u65b0\u3059\u308b\u51e6\u7406\u3092\u4f5c\u6210\u3059\u308b\n                apiDataList.remove(at: targetTag)\n\n                //\u30ec\u30b7\u30d4\u306e\u73fe\u5728\u9078\u629e\u6570\u3092\u8868\u793a\u3059\u308b\n                selectedRecipeCountLabel.text = MessageSetting.getCountRecipeMessage(count: selectedDataList.count)\n\n                //collectionView\u3092\u30ea\u30ed\u30fc\u30c9\u3059\u308b\n                receiptCollectionView.reloadData()\n            }\n        }\n\n        //\u9078\u629e\u72b6\u614b\u30d5\u30e9\u30b0\u3092\u30ea\u30bb\u30c3\u30c8\u3059\u308b\n        isSelectedFlag = false\n        receiptCollectionView.isPrefetchingEnabled = true\n    }\n}\n\n\n\u4eca\u56de\u306e\u5b9f\u88c5\u306b\u95a2\u3057\u3066\u306f\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u52d5\u4f5c\u3092\u5229\u7528\u3057\u3066\u767b\u9332\u3057\u305f\u3044\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304f\u3088\u3046\u306a\u5f62\u306eUI\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u30e6\u30fc\u30b6\u30fc\u306e\u76f4\u611f\u7684\u306a\u52d5\u4f5c\u3092\u6d3b\u7528\u3057\u305f\u9078\u629e\u3084\u5165\u529b\u3092\u884c\u3046\u3088\u3046\u306a\u8868\u73fe\u3092UI\u306e\u30c7\u30b6\u30a4\u30f3\u3068\u5408\u308f\u305b\u3066\u52a0\u3048\u3066\u307f\u308b\u3068\u3001\u5c11\u3057\u30b2\u30fc\u30e0\u306e\u3088\u3046\u306a\u8981\u7d20\u3084\u611f\u899a\u304c\u52a0\u308f\u308b\u3053\u3068\u3082\u3042\u308b\u306e\u3067\u7d50\u69cb\u9762\u767d\u3044\u8868\u73fe\u304c\u3067\u304d\u305f\u308a\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3068\u611f\u3058\u307e\u3057\u305f\u3002\n\n\u26053-4. \u30ab\u30ec\u30f3\u30c0\u30fc\u90e8\u5206\u306e\u5b9f\u88c5\u306b\u95a2\u3059\u308b\u90e8\u5206\n\u30ab\u30ec\u30f3\u30c0\u30fc\u90e8\u5206\u306e\u8868\u793a\u306b\u95a2\u3057\u3066\u306f\u3001\u4eca\u56de\u306f\u73fe\u5728\u6708\u306e\u3082\u306e\u3060\u3051\u3092\u53d6\u5f97\u3059\u308b\u306e\u3067\u30dc\u30bf\u30f3\u306e\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\u4e0b\u8a18\u306e\u3088\u3046\u306aStruct\u30d5\u30a1\u30a4\u30eb\u3092\u5b9a\u7fa9\u3057\u3001\u795d\u796d\u65e5\u306e\u5224\u5b9a\u3084\u571f\u65e5\u306e\u30dc\u30bf\u30f3\u8272\u3084\u66dc\u65e5\u304c\u6c7a\u5b9a\u3057\u305f\u72b6\u614b\u306eUIButton\u306e\u914d\u5217\u3092\u8fd4\u3059\u3088\u3046\u306a\u51e6\u7406\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\u203b \u795d\u796d\u65e5\u306e\u5224\u5b9a\u30ed\u30b8\u30c3\u30af\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4f7f\u7528\u65b9\u6cd5\u306b\u95a2\u3057\u3066\u306fREADME\u3092\u3054\u53c2\u8003\u306b\u3057\u3066\u5b9f\u88c5\u3057\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002\n\nCalendarView.swift\nimport UIKit\n\n//\u30ab\u30ec\u30f3\u30c0\u30fc\u914d\u7f6e\u7528\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b\u69cb\u9020\u4f53\nstruct CalendarView {\n\n    //\u73fe\u5728\u65e5\u4ed8\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\n    static func getCalendarOfCurrentButtonList() -> [UIButton] {\n\n        //\u5e74\u30fb\u6708\u30fb\u6700\u5f8c\u306e\u65e5\u3092\u53d6\u5f97\n        let values: (year: Int, month: Int, max: Int) = getCalendarOfCurrentValues()\n        let year  = values.year\n        let month = values.month\n        let max   = values.max\n\n        //\u30dc\u30bf\u30f3\u306e\u4e00\u89a7\u3092\u5165\u308c\u308b\u305f\u3081\u306e\u914d\u5217\n        var buttonArray: [UIButton] = []\n\n        //\u795d\u796d\u65e5\u5224\u5b9a\u7528\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n        let holiday = CalculateCalendarLogic()\n\n        for i in 1...max {\n\n            //\u30ab\u30ec\u30f3\u30c0\u30fc\u9078\u629e\u7528\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b\n            let button: UIButton = UIButton()\n\n            //\u795d\u796d\u65e5\u306e\u5224\u5b9a\u3092\u884c\u3046\n            let holidayFlag = holiday.judgeJapaneseHoliday(year: year, month: month, day: i)\n\n            //\u66dc\u65e5\u306e\u6570\u5024\u3092\u53d6\u5f97\u3059\u308b\uff080:\u65e5\u66dc\u65e5 ... 6:\u571f\u66dc\u65e5\uff09\n            let weekday = Weekday.init(year: year, month: month, day: i)\n            let weekdayValue = weekday?.rawValue\n            let weekdayString = weekday?.englishName\n\n            //\u30bf\u30b0\u3068\u65e5\u4ed8\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n            button.setTitle(weekdayString! + \"\\n\" + String(i), for: UIControlState())\n            button.titleLabel!.font = UIFont(name: \"Arial\", size: 12)!\n            button.titleLabel!.numberOfLines = 2\n            button.titleLabel!.textAlignment = .center\n            button.tag = i\n\n            //\u65e5\u66dc\u65e5or\u795d\u796d\u65e5\u306e\u5834\u5408\u306e\u8272\u8a2d\u5b9a\n            if weekdayValue! % 7 == 0 || holidayFlag == true {\n\n                button.backgroundColor = UIColor(red: CGFloat(0.831), green: CGFloat(0.349), blue: CGFloat(0.224), alpha: CGFloat(1.0))\n\n            //\u571f\u66dc\u65e5\u306e\u5834\u5408\u306e\u8272\u8a2d\u5b9a\n            } else if weekdayValue! % 7 == 6 {\n\n                button.backgroundColor = UIColor(red: CGFloat(0.400), green: CGFloat(0.471), blue: CGFloat(0.980), alpha: CGFloat(1.0))\n\n            //\u5e73\u65e5\u306e\u5834\u5408\u306e\u8272\u8a2d\u5b9a\n            } else {\n\n                button.backgroundColor = UIColor.lightGray\n            }\n\n            //\u8a2d\u5b9a\u3057\u305f\u30dc\u30bf\u30f3\u306e\u4e00\u89a7\u3092\u914d\u5217\u306b\u5165\u308c\u308b\n            buttonArray.append(button)\n        }\n\n        return buttonArray\n    }\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n\n\n\u73fe\u5728\u6708\u306b\u5bfe\u5fdc\u3059\u308b\u65e5\u4ed8\u30fb\u66dc\u65e5\u30fb\u795d\u796d\u65e5\u306e\u5b9a\u7fa9\u3057\u305f\u30dc\u30bf\u30f3\u4e00\u89a7\u306e\u914d\u5217\u3092\u4f5c\u6210\u3059\u308b\u30ed\u30b8\u30c3\u30af\u304c\u3067\u304d\u305f\u3089\u3001override func viewDidLayoutSubviews()\u5185\u3067\u5b9a\u7fa9\u3057\u305f\u30ab\u30ec\u30f3\u30c0\u30fc\u8868\u793a\u7528\u306eUIScrollView\u306e\u4e2d\u306e\u30b5\u30a4\u30ba\u3084\u8981\u7d20\u914d\u7f6e\u306e\u30ed\u30b8\u30c3\u30af\u306e\u4e2d\u3067\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\nMakeRecipeController.swift\n//\u30ec\u30a4\u30a2\u30a6\u30c8\u51e6\u7406\u304c\u5b8c\u4e86\u3057\u305f\u969b\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\noverride func viewDidLayoutSubviews() {\n    super.viewDidLayoutSubviews()\n\n    //UIScrollView\u3078\u306e\u30dc\u30bf\u30f3\u914d\u7f6e\u3092\u884c\u3046 \u203bAutoLayout\u306eConstraint\u3092\u7528\u3044\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u969b\u306b\u306f\u52d5\u7684\u306b\u914d\u7f6e\u3059\u308b\u898b\u305f\u76ee\u8981\u7d20\u306f\u4e00\u5ea6\u3060\u3051\u5b9f\u884c\u3059\u308b\n    if layoutOnceFlag == false {\n\n        //\u30b3\u30f3\u30c6\u30f3\u30c4\u7528\u306eScrollView\u3092\u521d\u671f\u5316\n        initScrollViewDefinition()\n\n        //\u30ab\u30ec\u30f3\u30c0\u30fc\u30dc\u30bf\u30f3\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n        let targetButtonList: [UIButton] = CalendarView.getCalendarOfCurrentButtonList()\n\n        //\u30b9\u30af\u30ed\u30fc\u30eb\u30d3\u30e5\u30fc\u5185\u306e\u30b5\u30a4\u30ba\u3092\u6c7a\u5b9a\u3059\u308b\uff08AutoLayout\u3067\u914d\u7f6e\u3092\u884c\u3063\u305f\u5834\u5408\u3067\u3082\u3053\u306e\u90e8\u5206\u306f\u30b3\u30fc\u30c9\u3067\u8a2d\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\uff09\n        calendarScrollView.contentSize = CGSize(width: CGFloat(CalenderSetting.areaRect * targetButtonList.count), height: calendarScrollView.frame.height)\n\n        //\u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u30d3\u30e5\u30fc\u5185\u306b\u30dc\u30bf\u30f3\u3092\u914d\u7f6e\u3059\u308b\n        for i in 0...(targetButtonList.count - 1) {\n\n            //\u30e1\u30cb\u30e5\u30fc\u7528\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u30d3\u30e5\u30fc\u306b\u30dc\u30bf\u30f3\u3092\u914d\u7f6e\n            calendarScrollView.addSubview(targetButtonList[i])\n\n            //\u30b5\u30a4\u30ba\u306e\u6c7a\u5b9a\n            targetButtonList[i].frame.size = CGSize(width: CalenderSetting.buttonRect, height: CalenderSetting.buttonRect)\n\n            //\u4e2d\u5fc3\u4f4d\u7f6e\u306e\u6c7a\u5b9a\n            targetButtonList[i].center = CGPoint(x: CalenderSetting.centerPos + CalenderSetting.areaRect * i, y: CalenderSetting.centerPos)\n\n            //\u88c5\u98fe\u3068\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u6c7a\u5b9a\n            targetButtonList[i].layer.cornerRadius = CGFloat(CalenderSetting.buttonRadius)\n            targetButtonList[i].addTarget(self, action: #selector(MakeRecipeController.calendarButtonTapped(button:)), for: .touchUpInside)\n        }\n\n        //\u4e00\u5ea6\u3060\u3051\u5b9f\u884c\u3059\u308b\u30d5\u30e9\u30b0\u3092\u6709\u52b9\u5316\n        layoutOnceFlag = true\n    }\n}\n\n\n\u4eca\u56de\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u4f7f\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001override func viewDidLayoutSubviews()\u3067\u306e\u4f4d\u7f6e\u5b9a\u7fa9\u3068AutoLayout\u306e\u5236\u7d04\u5024\u3092\u5909\u66f4\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3(layoutIfNeeded()\u3092\u4f7f\u7528\u3059\u308b)\u304c\u6df7\u5728\u3059\u308b\u3088\u3046\u306a\u5834\u5408\u306b\u306f\u3001\u30d1\u30fc\u30c4\u306e\u521d\u671f\u914d\u7f6e\u7b49\u306e1\u5ea6\u3060\u3051\u5b9f\u884c\u3055\u308c\u308c\u3070\u826f\u3044\u51e6\u7406\u306b\u95a2\u3059\u308b\u8003\u616e\u3059\u308b\u3068\u3001AutoLayout\u3067\u306e\u914d\u7f6e\u3068viewDidLayoutSubviews\u5185\u306e\u30b3\u30fc\u30c9\u3092\u4f75\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u6ce8\u610f\u3057\u3066\u304a\u304f\u3068\u826f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u26053-5. \u305d\u306e\u4ed6\u8ab2\u984c\u306b\u95a2\u3057\u3066\n\u672c\u30b5\u30f3\u30d7\u30eb\u306b\u95a2\u3057\u3066\u306fKingFisher\u3067API\u304b\u3089\u53d6\u5f97\u3057\u305f\u753b\u50cfURL\u3092\u4f7f\u3063\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306b\u753b\u50cf\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n\nMakeRecipeController.swift\n//\u30bb\u30eb\u306b\u8868\u793a\u3059\u308b\u5024\u3092\u8a2d\u5b9a\u3059\u308b\ninternal func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -> UICollectionViewCell {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb    \n\n    //Kingfisher\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6d3b\u7528\u3057\u305f\u753b\u50cf\u30c7\u30fc\u30bf\u306e\u8a2d\u5b9a\n    let url = URL(string: targetData.image)\n    cell.recipeImageView.image = nil\n    cell.recipeImageView.kf.indicatorType = .activity\n    cell.recipeImageView.kf.setImage(with: url)\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n\n\nUICollectionView\u306e\u8868\u793a\u306b\u95a2\u3057\u3066\u306f\u6b63\u3057\u304f\u5b9f\u884c\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001UILongPressGestureRecognizer\u304c\u767a\u52d5\u3055\u308c\u305f\u969b\u306e\u30e1\u30bd\u30c3\u30c9\u51e6\u7406\u3067\u3001\u753b\u50cf\u30c9\u30e9\u30c3\u30b0\u51e6\u7406\u304c\u59cb\u307e\u3063\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001\u9078\u3070\u308c\u305f\u30bb\u30eb\u3067\u306f\u306a\u3044\u30c7\u30fc\u30bf\u304c\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u7528\u306eUIImageView\u306b\u8868\u793a\u3055\u308c\u3066\u3057\u307e\u3046\u5834\u5408\u304c\u3054\u304f\u7a00\u306b\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u5ff5\u306e\u305f\u3081\u5171\u6709\u81f4\u3057\u307e\u3059\u3002\n\u3082\u3061\u308d\u3093\u539f\u56e0\u3084\u89e3\u6c7a\u65b9\u6cd5\u304c\u3064\u304b\u3081\u305f\u6bb5\u968e\u3067\u3053\u3061\u3089\u306e\u8a18\u4e8b\u306b\u3082\u8ffd\u8a18\u3092\u884c\u3044\u307e\u3059m(_ _)m\n\n4. \u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u767b\u9332\u6642\u306e\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u8868\u793a\u307e\u308f\u308a\u3068\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u9ad8\u3055\u5206\u306e\u8868\u793a\u306e\u8003\u616e\u90e8\u5206\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\n\u672c\u30b5\u30f3\u30d7\u30eb\u306e\u8a2d\u8a08\u3067\u306f\u3001\u30ec\u30b7\u30d4\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u3092\u767b\u9332\u3059\u308b\u969b\u306b\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u8868\u793a\u3067\u306e\u767b\u9332\u30d5\u30a9\u30fc\u30e0\u3092\u7528\u610f\u3059\u308b\u3088\u3046\u306a\u5f62\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u4e2d\u3067\u3082\u4eca\u56de\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u9ad8\u3055\u3092\u8003\u616e\u3057\u305f\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u4f4d\u7f6e\u306e\u8abf\u6574\u306b\u95a2\u3059\u308b\u51e6\u7406\u90e8\u5206\u3068Realm\u3092\u4f7f\u7528\u3057\u305f\u30c7\u30fc\u30bf\u306e\u767b\u9332\u51e6\u7406\u306b\u95a2\u3059\u308b\u90e8\u5206\u3092\u4e2d\u5fc3\u306b\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n\u26054-1. NotificationCenter\u3092\u5229\u7528\u3057\u3066\u30ad\u30fc\u30dc\u30fc\u30c9\u8868\u793a\u6642\u306b\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u9ad8\u3055\u3060\u3051\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3092\u305a\u3089\u3059\u90e8\u5206\n\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u306e\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u90e8\u5206\u3067\u306f\u30e1\u30e2\u3092\u5165\u529b\u3059\u308bUITextField\u3068\u767b\u9332\u30dc\u30bf\u30f3\u304c\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u4e0b\u306b\u3042\u308b\u305f\u3081\u3001\u9ad8\u3055\u304c\u5c0f\u3055\u306a\u7aef\u672b\u306e\u5834\u5408\u306b\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u3067\u3053\u306e\u90e8\u5206\u304c\u96a0\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u8868\u793a\u3057\u305f\u969b\u306b\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u5834\u6240\u3092\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u9ad8\u3055\u3060\u3051\u4e0a\u306b\u305a\u3089\u3057\u3066\u3042\u3052\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u51e6\u7406\u306b\u95a2\u3057\u3066\u306f\u3001\u4eca\u56de\u306fNotificatonCenter\u3092\u5229\u7528\u3057\u3066\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u8868\u793a\u30fb\u975e\u8868\u793a\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u76e3\u8996\u3057\u3066\u7ba1\u7406\u3059\u308b\u65b9\u6cd5\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nviewWillAppear\u306e\u30bf\u30a4\u30df\u30f3\u30b0\uff1a \u2192 \u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u901a\u77e5\u3092\u767b\u9332\uff08addObserver\u30e1\u30bd\u30c3\u30c9\u3092\u5229\u7528\u3057\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u958b\u9589\u51e6\u7406\u3092\u76e3\u8996\u5bfe\u8c61\u306b\u3059\u308b\uff09\n\nviewWillDisappear\u306e\u30bf\u30a4\u30df\u30f3\u30b0\uff1a \u2192 \u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u901a\u77e5\u3092\u89e3\u9664\uff08removeObserver\u30e1\u30bd\u30c3\u30c9\u3092\u5229\u7528\u3057\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u958b\u9589\u51e6\u7406\u3092\u76e3\u8996\u5bfe\u8c61\u304b\u3089\u5916\u3059\uff09\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u8868\u793a\u306a\u3044\u3057\u306f\u975e\u8868\u793a\u304c\u59cb\u307e\u3063\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u30a4\u30d9\u30f3\u30c8\u306e\u76e3\u8996\u306b\u95a2\u3059\u308b\u51e6\u7406\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\nAddController.swift\n/* (Lifecycle Functions) */\n\noverride func viewWillAppear(_ animated: Bool) {\n    super.viewWillAppear(animated)\n\n    //\u901a\u77e5\uff08\u30ad\u30fc\u30dc\u30fc\u30c9\uff09\u306b\u95a2\u3059\u308b\u51e6\u7406\u3092\u767b\u9332\u3059\u308b\n    registerNotification()\n}\n\noverride func viewWillDisappear(_ animated: Bool) {\n    super.viewWillDisappear(animated)\n\n    //\u901a\u77e5\uff08\u30ad\u30fc\u30dc\u30fc\u30c9\uff09\u306b\u95a2\u3059\u308b\u51e6\u7406\u3092\u89e3\u9664\u3059\u308b\n    unregisterNotification()\n}\n\n/* (Observer Functions) */\n\n//\u901a\u77e5\u767b\u9332\u51e6\u7406\nfunc registerNotification() {\n\n    //\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u958b\u9589\u6642\u306e\u901a\u77e5\u767b\u9332\u3092\u884c\u3046\n    let center: NotificationCenter = NotificationCenter.default\n    center.addObserver(self, selector: #selector(AddController.keyboardWillShow(notification:)), name: Notification.Name.UIKeyboardWillShow, object: nil)\n    center.addObserver(self, selector: #selector(AddController.keyboardWillHide(notification:)), name: Notification.Name.UIKeyboardWillHide, object: nil)\n}\n\n//\u901a\u77e5\u767b\u9332\u89e3\u9664\u51e6\u7406\nfunc unregisterNotification() {\n\n    //\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u958b\u9589\u6642\u306e\u901a\u77e5\u767b\u9332\u3092\u89e3\u9664\u3059\u308b\n    let center: NotificationCenter = NotificationCenter.default\n    center.removeObserver(self, name: Notification.Name.UIKeyboardWillShow, object: nil)\n    center.removeObserver(self, name: Notification.Name.UIKeyboardWillHide, object: nil)\n}\n\n//Keyboard\u8868\u793a\u524d\u51e6\u7406\nfunc keyboardWillShow(notification: Notification) {\n    movePopupPosition(notification: notification, showKeyboard: true)\n}\n\n//Keyboard\u975e\u8868\u793a\u524d\u51e6\u7406\nfunc keyboardWillHide(notification: Notification) {\n    movePopupPosition(notification: notification, showKeyboard: false)\n}\n\n\n\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u958b\u9589\u306e\u901a\u77e5\u3092\u53d7\u3051\u53d6\u3063\u305f\u969b\u306b\u306f\u3001movePopupPosition(notification: Notification, showKeyboard: Bool)\u30e1\u30bd\u30c3\u30c9\u304c\u5b9f\u884c\u3055\u308c\u3066\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u9ad8\u3055\u3092\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u306b\u52a0\u7b97\u3057\u3066\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u5165\u529b\u304c\u5b8c\u4e86\u3057\u3066\u30ad\u30fc\u30dc\u30fc\u30c9\u304c\u96a0\u308c\u305f\u5834\u5408\u306b\u306f\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u5143\u306b\u623b\u3059\uff08\u30ad\u30fc\u30dc\u30fc\u30c9\u8868\u793a\u6642\u3068\u306f\u9006\u306e\u51e6\u7406\uff09\u51e6\u7406\u3092\u3059\u308c\u3070OK\u3067\u3059\u3002\n\nAddController.swift\nclass AddController: UIViewController, UITableViewDelegate, UITableViewDataSource, UITextFieldDelegate, SFSafariViewControllerDelegate {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    //\u521d\u56de\u30ad\u30fc\u30dc\u30fc\u30c9\u8868\u793a\u7528\u306e\u30e1\u30f3\u30d0\u5909\u6570\n    var lastKeyboardFrame: CGRect = CGRect.zero\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    //\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u4f4d\u7f6e\u88dc\u6b63\u3092\u884c\u3046\n    fileprivate func movePopupPosition(notification: Notification, showKeyboard: Bool) -> () {\n\n        if showKeyboard {\n\n            //keyboard\u306e\u30b5\u30a4\u30ba\u3092\u53d6\u5f97\n            var keyboardFrame: CGRect = CGRect.zero\n            if let userInfo = notification.userInfo {\n                if let keyboard = userInfo[UIKeyboardFrameEndUserInfoKey] as? NSValue {\n                    keyboardFrame = keyboard.cgRectValue\n                }\n            }\n\n            //\u524d\u306e\u8868\u793a\u6642\u306e\u30ad\u30fc\u30dc\u30fc\u30c9\u9ad8\u3055\u304c0(\u521d\u3081\u3066\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u8868\u793a\u3057\u305f)\u306e\u5834\u5408\u306b\u306f\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u4f4d\u7f6e\u3092\u305a\u3089\u3059\n            //\u203b \u30ad\u30fc\u30dc\u30fc\u30c9\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067\u6b21\u306e\u5165\u529b\u9805\u76ee\u306b\u79fb\u3063\u305f\u5834\u5408\u306f\u3053\u306e\u51e6\u7406\u3092\u884c\u308f\u306a\u3044\n            if lastKeyboardFrame.height == 0 {\n\n                lastKeyboardFrame = keyboardFrame\n                UIView.animate(withDuration: 0.26, delay: 0, options: UIViewAnimationOptions.curveEaseOut, animations:{\n\n                    //\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u5206\u3060\u3051\u4e0a\u306b\u305a\u3089\u3059\n                    self.popupView.center = CGPoint(x: DeviceSize.screenWidth() / 2, y: DeviceSize.screenHeight() / 2 - keyboardFrame.height)\n\n                }, completion: nil)\n            }\n\n        } else {\n\n            //\u30ad\u30fc\u30dc\u30fc\u30c9\u304c\u96a0\u308c\u305f\u5834\u5408\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n            UIView.animate(withDuration: 0.26, delay: 0, options: UIViewAnimationOptions.curveEaseOut, animations:{\n\n                //\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u5206\u3092\u5143\u306b\u623b\u3059\n                self.popupView.center = CGPoint(x: DeviceSize.screenWidth() / 2, y: DeviceSize.screenHeight() / 2)\n\n            }, completion: { finished in\n                self.lastKeyboardFrame = CGRect.zero\n            })\n        }\n    }\n}\n\n\n\u4eca\u56de\u306e\u3088\u3046\u306b\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u958b\u9589\u306b\u95a2\u3059\u308b\u51e6\u7406\u3060\u3051\u3067\u306f\u306a\u304f\u3001UITextField\u3084UITextView\u306b\u3064\u3044\u3066\u3082\u5165\u529b\u958b\u59cb\u6642\u30fb\u30c6\u30ad\u30b9\u30c8\u5909\u66f4\u6642\u30fb\u7de8\u96c6\u7d42\u4e86\u6642\u306eNotification\u3092\u305d\u308c\u305e\u308c\u6301\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u30c6\u30ad\u30b9\u30c8\u306e\u5165\u529b\u306b\u95a2\u9023\u3059\u308b\u3088\u3046\u306a\u51e6\u7406\u306e\u4e2d\u3067\u3082UITextFieldDelegate / UITextViewDelegate\u3060\u3051\u3067\u306e\u5b9f\u88c5\u304c\u56f0\u96e3\u306a\u5834\u5408\u306b\u6d3b\u7528\u3067\u304d\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u26054-2. \u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf(Archive.swift)\u3068\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf(Recipe.swift)\u3067\u5b9a\u7fa9\u3057\u305f\u30c7\u30fc\u30bf\u30921:n\u306e\u95a2\u4fc2\u3067\u4fdd\u5b58\u3059\u308b\u90e8\u5206\n\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u306bRealm\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u30011\u3064\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u8907\u6570\u306e\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u304c\u7d10\u3065\u304f\u3088\u3046\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u306e\u69cb\u6210\u3092\u53d6\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u307e\u305f\u305d\u308c\u305e\u308c\u306e\u30af\u30e9\u30b9\u306e\u4e2d\u306b\u767b\u9332\u30fb\u524a\u9664\u30fb\u30c7\u30fc\u30bf\u306e\u30d5\u30a7\u30c3\u30c1\u306b\u95a2\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3084\u30d7\u30e9\u30a4\u30de\u30ea\u30ad\u30fc\u7b49\u306e\u5404\u7a2e\u8a2d\u5b9a\u3082\u884c\u306a\u3063\u3066\u304a\u304d\u307e\u3059\u3002\nArchive.swift\uff08\u30ec\u30b7\u30d4\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u306b\u95a2\u3059\u308b\u30af\u30e9\u30b9\uff09\uff1a\n\nArchive.swift\nimport Foundation\nimport RealmSwift\n\nclass Archive: Object {\n\n    //Realm\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n    static let realm = try! Realm()\n\n    //id\n    dynamic var id = 0\n\n    //\u30e1\u30e2\n    dynamic var memo = \"\"\n\n    //\u767b\u9332\u65e5\n    dynamic var created = Date(timeIntervalSince1970: 0)\n\n    //PrimaryKey\u306e\u8a2d\u5b9a\n    override static func primaryKey() -> String? {\n        return \"id\"\n    }\n\n    //\u30d7\u30e9\u30a4\u30de\u30ea\u30ad\u30fc\u306e\u4f5c\u6210\u30e1\u30bd\u30c3\u30c9\n    static func getLastId() -> Int {\n        if let archive = realm.objects(Archive.self).last {\n            return archive.id + 1\n        } else {\n            return 1\n        }\n    }\n\n    //\u65b0\u898f\u8ffd\u52a0\u7528\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u30e1\u30bd\u30c3\u30c9\n    static func create() -> Archive {\n        let archive = Archive()\n        archive.id = self.getLastId()\n        return archive\n    }\n\n    //\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4fdd\u5b58\u7528\u30e1\u30bd\u30c3\u30c9\n    func save() {\n        try! Archive.realm.write {\n            Archive.realm.add(self)\n        }\n    }\n\n    //\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u524a\u9664\u7528\u30e1\u30bd\u30c3\u30c9\n    func delete() {\n        try! Archive.realm.write {\n            Archive.realm.delete(self)\n        }\n    }\n\n    //\u767b\u9332\u65e5\u9806\u306e\u30c7\u30fc\u30bf\u306e\u5168\u4ef6\u53d6\u5f97\u3092\u3059\u308b\n    static func fetchAllCalorieListSortByDate() -> [Archive] {\n        let archives = realm.objects(Archive.self).sorted(byProperty: \"created\", ascending: false)\n        var archiveList: [Archive] = []\n        for archive in archives {\n            archiveList.append(archive)\n        }\n        return archiveList\n    }\n}\n\n\nRecipe.swift\uff08\u30ec\u30b7\u30d4\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u306b\u7d10\u3065\u304f\u9078\u629e\u3057\u305f\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u306b\u95a2\u3059\u308b\u30af\u30e9\u30b9\uff09\uff1a\n\nRecipe.swift\nimport Foundation\nimport RealmSwift\n\nclass Recipe: Object {\n\n    //Realm\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n    static let realm = try! Realm()\n\n    //id\n    dynamic fileprivate var id = 0\n\n    //archive_id\n    dynamic var archive_id = 0\n\n    //\u697d\u5929\u30ec\u30b7\u30d4id\n    dynamic var rakuten_id = \"\"\n\n    //\u697d\u5929\u30ec\u30b7\u30d4\u8abf\u7406\u6642\u9593\u306e\u3081\u3084\u3059\n    dynamic var rakuten_indication = \"\"\n\n    //\u697d\u5929\u30ec\u30b7\u30d4\u516c\u958b\u65e5\n    dynamic var rakuten_published = \"\"\n\n    //\u697d\u5929\u30ec\u30b7\u30d4\u30bf\u30a4\u30c8\u30eb\n    dynamic var rakuten_title = \"\"\n\n    //\u697d\u5929\u30ec\u30b7\u30d4\u753b\u50cfURL\n    dynamic var rakuten_image = \"\"\n\n    //\u697d\u5929\u30ec\u30b7\u30d4URL\n    dynamic var rakuten_url = \"\"\n\n    //PrimaryKey\u306e\u8a2d\u5b9a\n    override static func primaryKey() -> String? {\n        return \"id\"\n    }\n\n    //\u30d7\u30e9\u30a4\u30de\u30ea\u30ad\u30fc\u306e\u4f5c\u6210\u30e1\u30bd\u30c3\u30c9\n    static func getLastId() -> Int {\n        if let recipe = realm.objects(Recipe.self).last {\n            return recipe.id + 1\n        } else {\n            return 1\n        }\n    }\n\n    //\u65b0\u898f\u8ffd\u52a0\u7528\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u30e1\u30bd\u30c3\u30c9\n    static func create() -> Recipe {\n        let recipe = Recipe()\n        recipe.id = self.getLastId()\n        return recipe\n    }\n\n    //\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4fdd\u5b58\u7528\u30e1\u30bd\u30c3\u30c9\n    func save() {\n        try! Recipe.realm.write {\n            Recipe.realm.add(self)\n        }\n    }\n\n    //\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u524a\u9664\u7528\u30e1\u30bd\u30c3\u30c9\n    func delete() {\n        try! Recipe.realm.write {\n            Recipe.realm.delete(self)\n        }\n    }\n\n    //\u30a2\u30fc\u30ab\u30a4\u30d6ID\u306b\u7d10\u3065\u304f\u30c7\u30fc\u30bf\u3092\u5168\u4ef6\u53d6\u5f97\u3092\u3059\u308b\n    static func fetchAllRecipeListByArchiveId(archive_id: Int) -> [Recipe] {\n        let recipes = realm.objects(Recipe.self).filter(\"archive_id = %@\", archive_id).sorted(byProperty: \"id\", ascending: true)\n        var recipeList: [Recipe] = []\n        for recipe in recipes {\n            recipeList.append(recipe)\n        }\n        return recipeList\n    }\n}\n\n\n\u4eca\u56de\u306f1:n(\u591a\u6570)\u306e\u95a2\u9023\u6027\u3092\u6301\u305f\u305b\u308b\u305f\u3081\u306bRecipe.swift\u306e\u30af\u30e9\u30b9\u5185\u306barchive_id\u3068\u3044\u3046\u30ab\u30e9\u30e0\u3092\u5b9a\u7fa9\u3057\u3066\u51e6\u7406\u306e\u4e2d\u3067\u7d10\u4ed8\u3051\u304c\u884c\u3048\u308b\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002\n\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u5185\u306e\u767b\u9332\u30dc\u30bf\u30f3\u62bc\u4e0b\u6642\u306e\u51e6\u7406\u306b\u95a2\u3057\u3066\u306f\u3001\u4e0b\u8a18\u306e\u30b3\u30fc\u30c9\u306e\u3088\u3046\u306b\u307e\u305a\u306f\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u3092\u307e\u305a\u306f1\u4ef6\u767b\u9332\u3092\u884c\u3063\u305f\u5f8c\u306b\u3001\u9078\u629e\u3057\u305f\u8907\u6570\u306e\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u9806\u6b21\u767b\u9332\u3059\u308b\u5f62\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\nAddController.swift\n//\u30ec\u30b7\u30d4\u3092\u767b\u9332\u3059\u308b\u6642\u306e\u30a2\u30af\u30b7\u30e7\u30f3\n@IBAction func saveRecipeAction(_ sender: UIButton) {\n\n    //\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u9589\u3058\u308b\n    view.endEditing(true)\n\n    //\u30dc\u30bf\u30f3\u3092\u975e\u6d3b\u6027\u72b6\u614b\u306b\u3059\u308b\n    closeButton.isEnabled = false\n    saveButton.isEnabled = false\n\n    //Realm\u306b\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3057\u3066\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3092\u9589\u3058\u308b\n    saveArchiveData()\n    removeAnimatePopup()\n}\n\n//Realm\u3078\u306e\u4fdd\u5b58\u51e6\u7406\u3092\u884c\u3046(Archive:1\u4ef6\u30fbRecipe:n\u4ef6)\nfileprivate func saveArchiveData() {\n\n    //Realm\u3078\u306e\u767b\u9332\u51e6\u7406\n    let archiveObject = Archive.create()\n    let archive_id = Archive.getLastId()\n    archiveObject.memo = memoTextField.text!\n    archiveObject.created = DateConverter.convertStringToDate(dateTextField.text)\n    archiveObject.save()\n\n    for targetData in targetSelectedDataList {\n        let recipeObject = Recipe.create()\n        recipeObject.archive_id = archive_id\n        recipeObject.rakuten_id = targetData.id\n        recipeObject.rakuten_indication = targetData.indication\n        recipeObject.rakuten_published = targetData.published\n        recipeObject.rakuten_title = targetData.title\n        recipeObject.rakuten_image = targetData.image\n        recipeObject.rakuten_url = targetData.url\n        recipeObject.save()\n    }\n}\n\n\n\u5c11\u3057\u5f37\u5f15\u306a\u30b3\u30fc\u30c9\u306b\u306f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u304c\u3001\u4eca\u307e\u3067\u306b\u6163\u308c\u89aa\u3057\u3093\u3060Rails\u306eActiveRecord\u3084\u305d\u306e\u4ed6\u306eORM\u306e\u611f\u899a\u306b\u8fd1\u3057\u3044\u611f\u899a\u3067\u51e6\u7406\u3092\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u308b\u70b9\u3084\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3084\u305d\u306e\u4ed6\u30b5\u30dd\u30fc\u30c8\u306e\u5145\u5b9f\u3076\u308a\u306f\u3001\u672c\u5f53\u306bRealm\u3092\u4f7f\u7528\u3057\u3066\u826f\u304b\u3063\u305f\u3068\u611f\u3058\u308b\u90e8\u5206\u306e1\u3064\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\n5. \u30ec\u30b7\u30d4\u30a2\u30fc\u30ab\u30a4\u30d6\u30da\u30fc\u30b8\u304b\u3089\u306e\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u6d3b\u7528\u3057\u305f\u753b\u9762\u30b5\u30a4\u30ba\u306b\u5408\u308f\u305b\u3066\u9077\u79fb\u3092\u3059\u308b\u90e8\u5206\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\n\u30e1\u30cb\u30e5\u30fc\u53f3\u5074\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b\u3068\u3001\u73fe\u5728\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ec\u30b7\u30d4\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u306e\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\uff08\u30bb\u30eb\u5168\u4f53\u306b\u304b\u304b\u308b\u80cc\u666f\u753b\u50cf\u306f\u767b\u9332\u3057\u305f\u30ec\u30b7\u30d4\u306b\u304a\u3044\u3066\u6700\u521d\u306e\u753b\u50cf\u3092\u8868\u793a\uff09\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u30bb\u30eb\u5185\u306b\u306f\u53f3\u4e0b\u306b2\u3064\u306e\u30dc\u30bf\u30f3\u304c\u914d\u7f6e\u3057\u3066\u3042\u308a\u3001\n\n\n\u30ec\u30b7\u30d4\u4e00\u89a7\u3078\uff1a \u2192 \u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u306b\u7d10\u3065\u304f\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u306e\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\n\n\u524a\u9664\u3059\u308b\uff1a \u2192 \u524a\u9664\u78ba\u8a8d\u306e\u30a2\u30e9\u30fc\u30c8\u304c\u8868\u793a\u3055\u308c\u3067OK\u3092\u9078\u3076\u3068\u8a72\u5f53\u30c7\u30fc\u30bf\u306e\u524a\u9664\n\n\u3068\u3044\u3046\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u26055-1. \u30a2\u30fc\u30ab\u30a4\u30d6\u30da\u30fc\u30b8 \u2192 \u767b\u9332\u30ec\u30b7\u30d4\u4e00\u89a7\u8868\u793a \u2192 \u767b\u9332\u30ec\u30b7\u30d4\u8a73\u7d30\u8868\u793a\u306e\u4e00\u9023\u306e\u6d41\u308c\u306e\u8a2d\u8a08\u90e8\u5206\n\u3053\u306e\u90e8\u5206\u3082\u9077\u79fb\u306b\u95a2\u3059\u308b\u8a2d\u8a08\u3084\u9077\u79fb\u6642\u306e\u8868\u73fe\u304c\u306a\u304b\u306a\u304b\u6574\u7406\u3057\u306b\u304f\u304b\u3063\u305f\u306e\u3067\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u3067\u753b\u9762\u306e\u52d5\u304d\u3084\u30a2\u30a4\u30c7\u30a2\u3092\u7c21\u5358\u306a\u30e9\u30d5\u30b9\u30b1\u30c3\u30c1\u3092\u884c\u306a\u3063\u3066\u3001\u5b9f\u969b\u306e\u8868\u73fe\u30a4\u30e1\u30fc\u30b8\u3084\u5b9f\u88c5\u65b9\u91dd\u3092\u56fa\u3081\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n\n\u26055-2. \u30a2\u30fc\u30ab\u30a4\u30d6\u30da\u30fc\u30b8\u306e\u30af\u30ed\u30fc\u30b8\u30e3\u30fc\u3092\u5229\u7528\u3057\u305f\u30bb\u30eb\u5185\u306e\u30dc\u30bf\u30f3\u306b\u95a2\u3059\u308b\u90e8\u5206\n\u3053\u306e\u90e8\u5206\u306fUITableView\u306b\u8868\u793a\u3057\u3066\u3044\u308b\u30bb\u30eb\u306e\u30af\u30e9\u30b9\u3068Xib\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3057\u305f\u5f62\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u4e2d\u3067\u30bb\u30eb\u306e\u30af\u30e9\u30b9\u5185\u3067\u5b9a\u7fa9\u3057\u305f\u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u4ecb\u3057\u3066\u3001UITableView\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u5074\u306e\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u3001\u30bb\u30eb\u306e\u30af\u30e9\u30b9\u5185\u306b\u30af\u30ed\u30fc\u30b8\u30e3\u30fc\u5909\u6570\u3092\u7528\u610f\u3057\u3066\u51e6\u7406\u306e\u6a4b\u6e21\u3057\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u30bb\u30eb\u5074\uff08ArchiveCell.swift\uff09\uff1a\n\nArchiveCell.swift\nclass ArchiveCell: UITableViewCell {\n\n    //ArchiveRecipeController.swift\u3078\u51e6\u7406\u5185\u5bb9\u3092\u5f15\u304d\u6e21\u3059\u305f\u3081\u306e\u30af\u30ed\u30fc\u30b8\u30e3\u30fc\u3092\u8a2d\u5b9a\n    var showGalleryClosure: (() -> ())?\n    var deleteArchiveClosure: (() -> ())?\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    /* (Button Actions) */\n\n    //\u300c\u30ec\u30b7\u30d4\u4e00\u89a7\u3078\u300d\u30dc\u30bf\u30f3\u62bc\u4e0b\u6642\u306e\u30a2\u30af\u30b7\u30e7\u30f3\n    @IBAction func showRecipeGalleryAction(_ sender: UIButton) {\n        showGalleryClosure!()\n    }\n\n    //\u300c\u524a\u9664\u3059\u308b\u300d\u30dc\u30bf\u30f3\u62bc\u4e0b\u6642\u306e\u30a2\u30af\u30b7\u30e7\u30f3\n    @IBAction func deleteRecipeAction(_ sender: UIButton) {\n        deleteArchiveClosure!()\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n\n\n\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u914d\u7f6e\u5074\uff08ArchiveRecipeController.swift\uff09\uff1a\n\nArchiveRecipeController.swift\n//\u8868\u793a\u3059\u308b\u30bb\u30eb\u306e\u4e2d\u8eab\u3092\u8a2d\u5b9a\u3059\u308b\ninternal func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {\n\n    //Xib\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\u3059\u308b\n    let cell = tableView.dequeueReusableCell(withIdentifier: \"ArchiveCell\") as? ArchiveCell\n\n    //\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u304c\u7a7a\u3067\u306a\u3051\u308c\u3070\u30bb\u30eb\u306b\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3059\u308b\n    if !archiveList.isEmpty {\n\n        //\u8a72\u5f53\u306eArchive\u30c7\u30fc\u30bf\u3068\u305d\u308c\u306b\u7d10\u3065\u304fRecipe\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\n        let archiveData = archiveList[indexPath.row]\n        let recipes: [Recipe] = Recipe.fetchAllRecipeListByArchiveId(archive_id: archiveData.id)\n\n        //1\u679a\u76ee\u306e\u753b\u50cf\u3092\u898b\u305b\u3066\u304a\u304f\u3088\u3046\u306b\u3059\u308b\n        let url = URL(string: (recipes.first?.rakuten_image)!)\n        cell?.archiveImageView.kf.indicatorType = .activity\n        cell?.archiveImageView.kf.setImage(with: url)\n\n        //\u30ec\u30b7\u30d4\u30ae\u30e3\u30e9\u30ea\u30fc\u4e00\u89a7\u30da\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\n        cell?.showGalleryClosure = {\n\n            //\u9077\u79fb\u5143\u304b\u3089\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u7528\u306eGalleryController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3059\u308b\n            let galleryVC = UIStoryboard(name: \"Gallery\", bundle: nil).instantiateViewController(withIdentifier: \"GalleryController\") as! GalleryController\n\n            //\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u7528\u306eViewConroller\u3092\u8a2d\u5b9a\u3057\u3001modalPresentationStyle(= .overCurrentContext)\u3068\u80cc\u666f\u8272(= UIColor.clear)\u3092\u8a2d\u5b9a\u3059\u308b\n            galleryVC.modalPresentationStyle = .overCurrentContext\n            galleryVC.view.backgroundColor = UIColor.clear\n\n            //\u5909\u6570\u306e\u53d7\u3051\u6e21\u3057\u3092\u884c\u3046\n            galleryVC.recipeData = recipes\n\n            //\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u7528\u306eViewController\u3078\u9077\u79fb\n            self.present(galleryVC, animated: false, completion: nil)\n        }\n\n        //\u30c7\u30fc\u30bf\u8868\u793a\u7528\u306eUIAlertController\u3092\u8868\u793a\u3059\u308b\n        cell?.deleteArchiveClosure = {\n\n            //\u30c7\u30fc\u30bf\u524a\u9664\u306e\u78ba\u8a8d\u7528\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3092\u8868\u793a\u3059\u308b\n            let deleteAlert = UIAlertController(\n                title: \"\u30c7\u30fc\u30bf\u524a\u9664\",\n                message: \"\u3053\u306e\u30c7\u30fc\u30bf\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f(\u524a\u9664\u3092\u3059\u308b\u5834\u5408\u306b\u306f\u3053\u306e\u30c7\u30fc\u30bf\u306b\u7d10\u3065\u304f\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3082\u4e00\u7dd2\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3002)\",\n                preferredStyle: UIAlertControllerStyle.alert\n            )\n            deleteAlert.addAction(\n                UIAlertAction(\n                    title: \"OK\",\n                    style: UIAlertActionStyle.default,\n                    handler: { (action: UIAlertAction!) in\n\n                        //Realm\u304b\u3089\u8a72\u5f53\u30c7\u30fc\u30bf\u30921\u4ef6\u524a\u9664\u3059\u308b\u51e6\u7406\n                        for recipe in recipes {\n                            recipe.delete()\n                        }\n                        archiveData.delete()\n\n                        //\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u306e\u518d\u30bb\u30c3\u30c8\u3092\u884c\u3046\n                        self.archiveList = Archive.fetchAllCalorieListSortByDate()\n                })\n            )\n            deleteAlert.addAction(\n                UIAlertAction(\n                    title: \"\u30ad\u30e3\u30f3\u30bb\u30eb\",\n                    style: UIAlertActionStyle.cancel,\n                    handler: nil\n                )\n            )                \n            self.present(deleteAlert, animated: true, completion: nil)\n        }\n\n        //\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\n        cell?.archiveDate.text = DateConverter.convertDateToString(archiveData.created)\n        cell?.archiveMemo.text = archiveData.memo\n    }\n\n    cell?.accessoryType = UITableViewCellAccessoryType.none\n    cell?.selectionStyle = UITableViewCellSelectionStyle.none\n    return cell!\n}\n\n\n\u3053\u306e\u65b9\u6cd5\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30bb\u30eb\u5074\u306e\u51e6\u7406\u3068UITableView\u914d\u7f6e\u5074\u306e\u51e6\u7406\u3092\u3042\u308b\u7a0b\u5ea6\u5206\u5272\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3057\u3001\u3082\u3057\u30bb\u30eb\u5074\u306e\u51e6\u7406\u3067\u5f97\u305f\u5024\u3092\u6d3b\u7528\u3059\u308b\u51e6\u7406\u3092UITableView\u914d\u7f6e\u5074\u3067\u884c\u3044\u305f\u3044\u3088\u3046\u306a\u5834\u5408\u3067\u3082\u5bfe\u5fdc\uff08\u30af\u30ed\u30fc\u30b8\u30e3\u30fc\u306b\u5f15\u6570\u306e\u578b\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u5bfe\u5fdc\uff09\u3067\u304d\u308b\u306e\u3067\u3001\u79c1\u304c\u30b5\u30f3\u30d7\u30eb\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u306b\u6700\u8fd1\u3067\u306f\u3053\u306e\u624b\u6cd5\u3092\u7528\u3044\u308b\u3053\u3068\u304c\u591a\u3044\u3067\u3059\u3002\n\n\u26055-3. \u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u6d3b\u7528\u3057\u305f\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u62e1\u5927\u30fb\u7e2e\u5c0f\u306b\u5408\u308f\u305b\u305f\u753b\u9762\u9077\u79fb\u306e\u90e8\u5206\n\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u9069\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30ec\u30b7\u30d4\u306e\u4e00\u89a7\u304b\u3089\u8a73\u7d30\u3078\u306e\u9077\u79fb\u306e\u969b\u306b\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u6bd4\u7387\u3084contentMode\u306e\u5024\u306e\u72b6\u614b\u3092\u4fdd\u3063\u305f\u307e\u307e\u3001\u30bf\u30c3\u30d7\u3057\u305f\u753b\u50cf\u306e\u4f4d\u7f6e\u304b\u3089\u753b\u50cf\u304c\u62e1\u5927\u3092\u3057\u3066\u753b\u9762\u3044\u3063\u3071\u3044\u306b\n\u8868\u793a\u3055\u308c\u308b\u3001\u4e0b\u8a18\u306e\u30a4\u30e1\u30fc\u30b8\u306e\u3088\u3046\u306a\u5f62\u306e\u9077\u79fb\u3092\u8003\u3048\u307e\u3057\u305f\u3002\n\n\u30b5\u30e0\u30cd\u30a4\u30eb\u306e\u6bd4\u7387\u5b9a\u7fa9\u3084UIScrollView\u3078\u306e\u30ec\u30b7\u30d4\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u4e00\u89a7\u3092\u914d\u7f6e\u3059\u308b\u51e6\u7406\u306b\u95a2\u3057\u3066\u306fGalleryController.swift\u5185\u306eoverride func viewDidLayoutSubviews()\u5185\u3092\u53c2\u7167\u3057\u3066\u3044\u305f\u3060\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001\u914d\u7f6e\u3057\u305f\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306eUIImageView\u306b\u306fTapGestureRecognizer\u3092\u4ed8\u4e0e\u3057\u3066\u304a\u304d\u3001\u4e00\u89a7\u304b\u3089\u8a73\u7d30\u3078\u9077\u79fb\u3059\u308b\u305f\u3081\u306e\u30c8\u30ea\u30ac\u30fc\u3068\u306a\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\uff08\u8a73\u7d30\u753b\u9762\u306b\u914d\u7f6e\u3057\u305f\u753b\u9762\u3044\u3063\u3071\u3044\u306eUIImageView\u306b\u95a2\u3057\u3066\u3082\u540c\u69d8\u306e\u5bfe\u5fdc\u3092\u884c\u3044\u307e\u3059\uff09\nGalleryController.swift\u306b\u304a\u3044\u3066TapGestureRecognizer\u304c\u767a\u52d5\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u306e\u306fexpandThumbnail(sender: UITapGestureRecognizer)\u30e1\u30bd\u30c3\u30c9\u306b\u306a\u308a\u3001GalleryDetailController.swift\u3067\u306fbackThumbnail(sender: UITapGestureRecognizer)\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u26055-4. \u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\u30b3\u30fc\u30c9\u90e8\u5206\n\u4e0a\u8a18\u306e\u5185\u5bb9\u3092\u8003\u616e\u3057\u3066\u51e6\u7406\u3084\u72b6\u614b\u7ba1\u7406\u306e\u6982\u8981\u3084\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\u306b\u306a\u308b\u9805\u76ee\u3092\u6574\u7406\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u9077\u79fb\u306e\u65b9\u5411\u3092\u6c7a\u3081\u308b\u305f\u3081\u306e\u30e1\u30f3\u30d0\u5909\u6570var presenting: Bool\u3092\u7528\u610f\u3057\u3066\u304a\u304d\u3001\u3053\u306e\u5024\u3092\u6301\u3063\u3066\u9077\u79fb\u306e\u65b9\u5411\u3092\u6c7a\u3081\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u307e\u305a\u306f\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306b\u95a2\u3059\u308b\u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\u3092\u884c\u3044\u307e\u3059\u3002\n\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8(transitionContext)\u3092\u5143\u306b\u9077\u79fb\u5143\u30fb\u9077\u79fb\u5148\u306eView\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97\u3057\u3001\u30e1\u30f3\u30d0\u5909\u6570originalFrame\u306b\u306f\u30bf\u30c3\u30d7\u3057\u305f\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u4f4d\u7f6e\u3084\u30b5\u30a4\u30ba\u306e\u60c5\u5831\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002\n\u305d\u3057\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u3067\u62e1\u5927\u30fb\u7e2e\u5c0f\u306e\u6bd4\u7387\u3092\u8a08\u7b97\u3067\u6c7a\u5b9a\u3057\u305f\u4e0a\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u4f34\u3063\u3066\u52d5\u304b\u3059\u3088\u3046\u306b\u3001animateTransition(using transitionContext: UIViewControllerContextTransitioning)\u5185\u306e\u51e6\u7406\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n\npresented\uff1a \u2192 \u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u5927\u304d\u3055\u304b\u3089\u753b\u9762\u5168\u4f53\u306e\u5927\u304d\u3055\u306b\u306a\u308b\u3088\u3046\u306b\u3059\u308b\n\ndismissed\uff1a \u2192 \u753b\u9762\u5168\u4f53\u306e\u5927\u304d\u3055\u304b\u3089\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u5927\u304d\u3055\u306b\u306a\u308b\u3088\u3046\u306b\u3059\u308b\n\n\u203b \u53c2\u8003\u306b\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u5185\u3067\u306f\u30d0\u30cd\u306e\u3088\u3046\u306a\u52d5\u304d\u3092\u5165\u308c\u3066\u3044\u307e\u3057\u305f\u304c\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u4eca\u56de\u306e\u753b\u9762\u30c7\u30b6\u30a4\u30f3\u7684\u306b\u3061\u3087\u3063\u3068\u5408\u308f\u306a\u3044\u611f\u3058\u304c\u3057\u305f\u306e\u3067\u3001\u305d\u306e\u90e8\u5206\u306e\u51e6\u7406\u306f\u9664\u5916\u3057\u3066\u3044\u307e\u3059\u3002\n\nCustomTransition.swift\nimport UIKit\n\nclass CustomTransition: NSObject, UIViewControllerAnimatedTransitioning {\n\n    //\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306e\u79d2\u6570\n    let duration      = 0.18\n\n    //\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306e\u65b9\u5411(present: true, dismiss: false)\n    var presenting    = true\n\n    //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5bfe\u8c61\u306a\u308b\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u4f4d\u7f6e\u3084\u30b5\u30a4\u30ba\u60c5\u5831\u3092\u683c\u7d0d\u3059\u308b\u30e1\u30f3\u30d0\u5909\u6570\n    var originalFrame = CGRect.zero\n\n    //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u3092\u5b9a\u7fa9\u3059\u308b\n    internal func transitionDuration(using transitionContext: UIViewControllerContextTransitioning?) -> TimeInterval {\n        return duration\n    }\n\n    /**\n     * \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\u3092\u5b9a\u7fa9\u3059\u308b\n     * \u3053\u306e\u5834\u5408\u306b\u306f\u753b\u9762\u9077\u79fb\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\uff08UIViewControllerContextTransitioning\u3092\u63a1\u7528\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff09\n     * \u2192 \u9077\u79fb\u5143\u3084\u9077\u79fb\u5148\u306eViewController\u3084\u305d\u306e\u307b\u304b\u95a2\u9023\u3059\u308b\u60c5\u5831\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u3082\u306e\n     */\n    internal func animateTransition(using transitionContext: UIViewControllerContextTransitioning) {\n\n        //\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u5143\u306bView\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97\u3059\u308b\uff08\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\u51e6\u7406\u3092\u7d42\u4e86\uff09\n        guard let fromView = transitionContext.view(forKey: UITransitionContextViewKey.from) else {\n            return\n        }\n\n        guard let toView = transitionContext.view(forKey: UITransitionContextViewKey.to) else {\n            return\n        }\n\n        //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u614b\u3068\u306a\u308b\u30b3\u30f3\u30c6\u30ca\u30d3\u30e5\u30fc\u3092\u4f5c\u6210\n        let containerView = transitionContext.containerView\n\n        //\u9077\u79fb\u5148\u306eViewController\u30fb\u59cb\u3081\u3068\u7d42\u308f\u308a\u306eView\u306e\u30b5\u30a4\u30ba\u30fb\u62e1\u5927\u5024\u3068\u7e2e\u5c0f\u5024\u3092\u6c7a\u5b9a\u3059\u308b\n        var targetView: UIView!\n        var initialFrame: CGRect!\n        var finalFrame: CGRect!\n        var xScaleFactor: CGFloat!\n        var yScaleFactor: CGFloat!\n\n        //Case1: \u9032\u3080\u5834\u5408\n        if presenting {\n\n            targetView = toView\n            initialFrame = originalFrame\n            finalFrame = targetView.frame\n            xScaleFactor = initialFrame.width / finalFrame.width\n            yScaleFactor = initialFrame.height / finalFrame.height\n\n        //Case2: \u623b\u308b\u5834\u5408\n        } else {\n\n            targetView = fromView\n            initialFrame = targetView.frame\n            finalFrame = originalFrame\n            xScaleFactor = finalFrame.width / initialFrame.width\n            yScaleFactor = finalFrame.height / initialFrame.height\n        }\n\n        //\u30a2\u30d5\u30a1\u30a4\u30f3\u5909\u63db\u306e\u500d\u7387\u3092\u8a2d\u5b9a\u3059\u308b\n        let scaleTransform = CGAffineTransform(scaleX: xScaleFactor, y: yScaleFactor)\n\n        //\u9032\u3080\u5834\u5408\u306e\u9077\u79fb\u6642\u306b\u306f\u753b\u9762\u3044\u3063\u3071\u3044\u306b\u753b\u50cf\u3092\u8868\u793a\u3055\u305b\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u4f4d\u7f6e\u88dc\u6b63\u3092\u884c\u3046\n        if presenting {\n            targetView.transform = scaleTransform\n            targetView.center = CGPoint(x: initialFrame.midX, y: initialFrame.midY)\n            targetView.clipsToBounds = true\n        }\n\n        //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u4f53\u3068\u306a\u308bContainerView\u306b\u5fc5\u8981\u306a\u3082\u306e\u3092\u8ffd\u52a0\u3059\u308b\n        containerView.addSubview(toView)\n        containerView.bringSubview(toFront: targetView)\n\n        UIView.animate(withDuration: duration, delay: 0.0, options: .curveEaseOut, animations: {\n\n            //\u5909\u6570duration\u3067\u306e\u8a2d\u5b9a\u3057\u305f\u79d2\u6570\u3067\u62e1\u5927\u30fb\u7e2e\u5c0f\u3092\u884c\u3046\n            targetView.transform = self.presenting ? CGAffineTransform.identity : scaleTransform\n            targetView.center = CGPoint(x: finalFrame.midX, y: finalFrame.midY)\n\n        }, completion:{ finished in\n            transitionContext.completeTransition(true)\n        })\n    }\n}\n\n\n\u305d\u3057\u3066\u3053\u306e\u30af\u30e9\u30b9\u3067\u5b9a\u7fa9\u3057\u305f\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u9069\u7528\u3055\u305b\u308b\u305f\u3081\u306b\u9077\u79fb\u5143(GalleryController.swift)\u53ca\u3073\u9077\u79fb\u5148(GalleryDetailController.swift)\u306b\u8a72\u5f53\u306e\u51e6\u7406\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\u9077\u79fb\u5143(GalleryController.swift)\u306b\u306f\u3001UIViewControllerTransitioningDelegate\u306b\u95a2\u3059\u308b\u51e6\u7406\u3092\u8a18\u8f09\u3084\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306b\u95a2\u3059\u308b\u51e6\u7406\u3092\u8a18\u8f09\u3059\u308b\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\u4e00\u89a7\u304b\u3089\u8a73\u7d30\u3078\u9077\u79fb\u3059\u308b\u5834\u5408\u306b\u306f\u3001CustomTransition.swift\u5185\u306e\u30e1\u30f3\u30d0\u5909\u6570\u306bTapGesture\u3067\u9078\u629e\u3057\u305f\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u60c5\u5831\u3092originalFrame\u306b\u5f15\u304d\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\nGalleryController.swift\nimport UIKit\nimport Kingfisher\n\nclass GalleryController: UIViewController, UIScrollViewDelegate, UIViewControllerTransitioningDelegate {\n\n    //\u30bf\u30c3\u30d7\u6642\u306b\u9078\u629e\u3057\u305fimageView\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306e\u5909\u6570\n    var selectedImage: UIImageView?\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    //\u30ec\u30a4\u30a2\u30a6\u30c8\u51e6\u7406\u304c\u5b8c\u4e86\u3057\u305f\u969b\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\n    override func viewDidLayoutSubviews() {\n        super.viewDidLayoutSubviews()\n\n            \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n            //\u30b5\u30e0\u30cd\u30a4\u30eb\u306b\u30bf\u30b0\u540d\u3068TapGesture\u3092\u4ed8\u4e0e\u3059\u308b\n            thumbnailImageView.tag = i\n            thumbnailImageView.isUserInteractionEnabled = true\n            let tapGesture = UITapGestureRecognizer(target: self, action: #selector(GalleryController.expandThumbnail(sender:)))\n            thumbnailImageView.addGestureRecognizer(tapGesture)\n        }\n    }\n\n    //\u30b5\u30e0\u30cd\u30a4\u30eb\u3092\u62e1\u5927\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30a2\u30af\u30b7\u30e7\u30f3\n    func expandThumbnail(sender: UITapGestureRecognizer) {\n\n        //\u9077\u79fb\u5bfe\u8c61\u3092\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3068\u30c7\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\n        selectedImage = sender.view as? UIImageView\n        let tagNumber = sender.view?.tag\n        let selectedRecipeData = recipeData[tagNumber!]\n\n        //\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u9069\u7528\u3057\u305f\u753b\u9762\u9077\u79fb\u3092\u884c\u3046\n        let garellyDetail = storyboard!.instantiateViewController(withIdentifier: \"GalleryDetailController\") as! GalleryDetailController\n        garellyDetail.recipe = selectedRecipeData\n        garellyDetail.transitioningDelegate = self\n        self.present(garellyDetail, animated: true, completion: nil)\n    }\n\n    /* (UIViewControllerTransitioningDelegate) */\n\n    /**\n     * \u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306f\u4e0b\u8a18\u306e\u30b5\u30f3\u30d7\u30eb\u3092Swift3\u306b\u7f6e\u304d\u63db\u3048\u3066\u518d\u5b9f\u88c5\n     * (\u5b9f\u88c5\u306e\u8a73\u7d30\u306fCustomTransition.swift\u3092\u53c2\u8003)\n     * \n     * \u53c2\u8003\uff1aiOS Animation Tutorial: Custom View Controller Presentation Transitions\n     * https://www.raywenderlich.com/113845/ios-animation-tutorial-custom-view-controller-presentation-transitions\n     */\n\n    //\u9032\u3080\u5834\u5408\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n    internal func animationController(forPresented presented: UIViewController, presenting: UIViewController, source: UIViewController) -> UIViewControllerAnimatedTransitioning? {\n\n        transition.originalFrame = selectedImage!.superview!.convert(selectedImage!.frame, to: nil)\n        transition.presenting = true\n        return transition\n    }\n\n    //\u623b\u308b\u5834\u5408\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n    internal func animationController(forDismissed dismissed: UIViewController) -> UIViewControllerAnimatedTransitioning? {\n\n        transition.presenting = false\n        return transition\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n\n\n\u9077\u79fb\u5148(GalleryDetailController.swift)\u306b\u306f\u30b7\u30f3\u30d7\u30eb\u306bUIImageView\u306b\u4ed8\u4e0e\u3057\u305fTapGesture\u304c\u767a\u52d5\u3055\u308c\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u623b\u308b\u9077\u79fb\u3092\u3059\u308b\u51e6\u7406\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3060\u3051\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nGalleryDetailController.swift\nimport UIKit\nimport Kingfisher\nimport SafariServices\n\nclass GalleryDetailController: UIViewController, UIViewControllerTransitioningDelegate, SFSafariViewControllerDelegate {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n        //\u80cc\u666f\u306eimageView\u306b\u30bf\u30b0\u540d\u3068TapGesture\u3092\u4ed8\u4e0e\u3059\u308b\n        let tapGesture = UITapGestureRecognizer(target: self, action: #selector(GalleryDetailController.backThumbnail(sender:)))\n        backgroundImageView.addGestureRecognizer(tapGesture)\n\n        \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n    }\n\n    //\u524d\u306e\u753b\u9762\u306b\u623b\u308b\u30a2\u30af\u30b7\u30e7\u30f3\u3092TapGesture\u3092\u30c8\u30ea\u30ac\u30fc\u306b\u3057\u3066\u5b9f\u884c\u3059\u308b\n    func backThumbnail(sender: UITapGestureRecognizer) {\n        presentingViewController?.dismiss(animated: true, completion: nil)\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n\n\n\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u5229\u7528\u3057\u305f\u9077\u79fb\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u306b\u95a2\u3057\u3066\u306f\u3001\u5de5\u592b\u306e\u4ed5\u65b9\u3084\u30c7\u30b6\u30a4\u30f3\u3068\u306e\u5408\u308f\u305b\u65b9\u306b\u3088\u3063\u3066\u306f\u3001UI\u3092\u4f5c\u6210\u3059\u308b\u4e0a\u3067\u3082\u30e6\u30fc\u30b6\u30fc\u306e\u76ee\u3092\u5f15\u3044\u305f\u308a\u30a4\u30f3\u30d1\u30af\u30c8\u3092\u51fa\u3059\u969b\u306e\u30ef\u30f3\u30dd\u30a4\u30f3\u30c8\u306b\u306a\u308a\u5f97\u308b\u90e8\u5206\u3068\u306a\u308b\u306e\u3067\u3001\u4eca\u5f8c\u3082\u3055\u3089\u306b\u7814\u7a76\u3092\u3057\u3066\u751f\u304b\u3057\u3066\u3044\u304d\u305f\u3044\u3068\u611f\u3058\u3066\u3044\u307e\u3059\u3002\n\n6. \u30e1\u30a4\u30f3\u30b3\u30f3\u30c6\u30f3\u30c4\u90e8\u5206\u3068\u30b5\u30d6\u30e1\u30cb\u30e5\u30fc\u90e8\u5206\u306b\u304a\u3044\u3066ContainerView\u3092\u6d3b\u7528\u3057\u305f\u958b\u9589\u51e6\u7406\u90e8\u5206\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\n\u3053\u306e\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u3001ContainerView\u3092\u91cd\u306d\u3066\u30b5\u30a4\u30c9\u30e1\u30cb\u30e5\u30fc\u3068\u30e1\u30a4\u30f3\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306aUI\u3092\u69cb\u7bc9\u3059\u308b\u969b\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\u306b\u95a2\u3059\u308b\u89e3\u8aac\u3092\u4ee5\u524d\u884c\u3063\u305f\u3053\u3068\u3082\u3042\u308a\u3001\u4eca\u56de\u3082\u4e0b\u8a18\u306e\u8a18\u4e8b\u3067\u7d39\u4ecb\u3057\u3066\u3044\u308b\u30b5\u30f3\u30d7\u30eb\u3068\u4f3c\u305f\u3088\u3046\u306a\u5f62\u306e\u3082\u306e\u3092\u5c0e\u5165\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\nSwift\u3067ContainerView\u3068Storyboard\u3092\u30d5\u30eb\u6d3b\u7528\u3057\u3066\u8907\u96d1\u306aUI\u3092\u5b9f\u73fe\u3059\u308b\u969b\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\u307e\u3068\u3081\n(Swift3.0\u5bfe\u5fdc)ContainerView\u3068Storyboard\u3092\u30d5\u30eb\u6d3b\u7528\u3057\u3066\u8907\u96d1\u306aUI\u3092\u4f5c\u308b\u30b5\u30f3\u30d7\u30eb\u3092Swift3.0\u3078\u66f8\u304d\u76f4\u3057\u5bfe\u5fdc\u3057\u305f\u969b\u306e\u307e\u3068\u3081\n\n\u4ee5\u524d\u306b\u4f5c\u6210\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u3068\u7570\u306a\u308b\u70b9\u306b\u95a2\u3057\u3066\u306f\u3001\u30e1\u30cb\u30e5\u30fc\u306e\u958b\u9589\u306b\u95a2\u3059\u308b\u30dc\u30bf\u30f3\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u90e8\u5206\u306b\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5b9a\u7fa9\u3057\u3001\u5b9f\u969b\u306e\u51e6\u7406\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u305d\u308c\u305e\u308c\u306eContainerView\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u90e8\u5206(ViewController.swift)\u306b\u958b\u9589\u306b\u95a2\u3059\u308b\u51e6\u7406\u3092\u8a18\u8f09\u3059\u308b\u5f62\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u26056-1. ViewController.swift\u306e\u753b\u9762\u306b\u914d\u7f6e\u3055\u308c\u305f\u5404ContainerView\u306b\u95a2\u3059\u308b\u8a2d\u8a08\u90e8\u5206\n\u571f\u53f0\u3068\u306a\u308bViewController\uff08ViewController.swift\uff09\u4e0a\u306eStoryboard\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u308bContainerView\u306e\u91cd\u306a\u308a\u9806\u3084\u5404\u7a2e\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u5b9a\u7fa9\u306b\u95a2\u3057\u3066\u306e\u8a2d\u8a08\u56f3\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\u8a2d\u8a08\u56f3\uff1a\n\n\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u3044\u305f\u969b\u306e\u898b\u3048\u65b9\uff1a\n\n\u305d\u308c\u305e\u308c\u306eContainerView\u3092\u52d5\u304b\u3059\u51e6\u7406\u306b\u95a2\u3057\u3066\u306f\u3001\u305d\u306e\u8981\u7d20\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308bController\u5074\u3067\u51e6\u7406\u3092\u884c\u3046\u65b9\u304c\u3088\u308a\u826f\u3044\u304b\u306a\u3068\u611f\u3058\u305f\u306e\u3067\u3001\u4eca\u56de\u306f\u3053\u306e\u3088\u3046\u306a\u5f62\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u26056-2. \u305d\u308c\u305e\u308c\u306eContainerView\u304b\u3089\u30e1\u30cb\u30e5\u30fc\u958b\u9589\u51e6\u7406\u7528\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5b9a\u7fa9\u3057\u305f\u4e0a\u3067\u305d\u308c\u305e\u308c\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306b\u5bfe\u3059\u308b\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\u90e8\u5206\n\u4e0a\u8a18\u306e\u8a2d\u8a08\u56f3\u3084\u30c7\u30b6\u30a4\u30f3\u3092\u8e0f\u307e\u3048\u305f\u4e0a\u3067\u305d\u308c\u305e\u308c\u306e\u8a72\u5f53\u7b87\u6240\u306b\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u304f\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304f\u51e6\u7406\u5074\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u5b9a\u7fa9\uff1a\n\nMenuController.swift\n//\u30e1\u30cb\u30e5\u30fc\u30dc\u30bf\u30f3\u3092\u9589\u3058\u308b\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\nprotocol MenuCloseDelegate {\n    func closeMenuStatus(status: MenuStatus)\n}\n\nclass MenuController: UIViewController, UICollectionViewDelegate, UICollectionViewDataSource {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    //\u30e1\u30cb\u30e5\u30fc\u90e8\u5206\u958b\u9589\u7528\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u305f\u3081\u306e\u5909\u6570\n    var delegate: MenuCloseDelegate!\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    /* (Button Actions) */\n    @IBAction func closeMenuAction(_ sender: UIButton) {\n\n        //\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u5b9f\u884c\uff08\u51e6\u7406\u306e\u5185\u5bb9\u306fViewController\u306b\u8a18\u8f09\u3059\u308b\uff09\n        self.delegate.closeMenuStatus(status: MenuStatus.closed)\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n\n\n\u30e1\u30cb\u30e5\u30fc\u3092\u9589\u3058\u308b\u51e6\u7406\u5074\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u5b9a\u7fa9\uff1a\n\nMenuController.swift\n//\u30e1\u30cb\u30e5\u30fc\u30dc\u30bf\u30f3\u3092\u9589\u3058\u308b\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\nprotocol MenuCloseDelegate {\n    func closeMenuStatus(status: MenuStatus)\n}\n\nclass MenuController: UIViewController, UICollectionViewDelegate, UICollectionViewDataSource {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    //\u30e1\u30cb\u30e5\u30fc\u90e8\u5206\u958b\u9589\u7528\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u305f\u3081\u306e\u5909\u6570\n    var delegate: MenuCloseDelegate!\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    /* (Button Actions) */\n    @IBAction func closeMenuAction(_ sender: UIButton) {\n\n        //\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u5b9f\u884c\uff08\u51e6\u7406\u306e\u5185\u5bb9\u306fViewController\u306b\u8a18\u8f09\u3059\u308b\uff09\n        self.delegate.closeMenuStatus(status: MenuStatus.closed)\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n\n\n\u4e0a\u8a18\u306e\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304f\u30dc\u30bf\u30f3 or \u30e1\u30cb\u30e5\u30fc\u3092\u9589\u3058\u308b\u30dc\u30bf\u30f3\u306b\u5bfe\u5fdc\u3059\u308b\u5b9f\u4f53\u306e\u51e6\u7406\u3092ContainerView\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc(ViewController.swift)\u306b\u8a18\u8ff0\u3092\u3057\u307e\u3059\u3002\n\nViewController.swift\nimport UIKit\n\n//\u30e1\u30cb\u30e5\u30fc\u90e8\u5206\u306e\u958b\u9589\u72b6\u614b\u7ba1\u7406\u7528\u306eenum\nenum MenuStatus {\n    case opened\n    case closed\n}\n\nclass ViewController: UIViewController, MenuOpenDelegate, MenuCloseDelegate {\n\n    //\u5404\u7a2e\u30d1\u30fc\u30c4\u306eOutlet\u63a5\u7d9a\n    @IBOutlet weak var mainMenuContainer: UIView!\n    @IBOutlet weak var subMenuContainer: UIView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n    }\n\n    override func viewDidLayoutSubviews() {\n        super.viewDidLayoutSubviews()\n\n        //\u77e9\u5f62\u306e\u307e\u307e\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3055\u305b\u308b\u305f\u3081\u306b\u30b3\u30fc\u30c9\u3067\u518d\u914d\u7f6e\u3059\u308b\n        mainMenuContainer.frame = CGRect(x: 0, y: 0, width: mainMenuContainer.frame.width, height: mainMenuContainer.frame.height)\n        subMenuContainer.frame = CGRect(x: 0, y: 0, width: subMenuContainer.frame.width, height: subMenuContainer.frame.height)\n    }\n\n    /**\n     * \u8907\u96d1\u306a\u9077\u79fb\u6642\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u9069\u7528\n     *\n     * (Case1)\n     * UINavigationController \u2192 \u4efb\u610f\u306eViewController\u3068StoryBoard\u3067\u8a2d\u5b9a\u3057\u305f\u969b\u306b\u3001\n     * \u4efb\u610f\u306eViewController\u306b\u5b9a\u7fa9\u3057\u305f\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u9069\u7528\u3055\u305b\u308b\u5834\u5408\n     *\n     * (Case2)\n     * ContainerView\u3067\u63a5\u7d9a\u3055\u308c\u305f\u4efb\u610f\u306eViewController\u306b\u5bfe\u3057\u3066\u3001\n     * \u4efb\u610f\u306eViewController\u306b\u5b9a\u7fa9\u3057\u305f\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u9069\u7528\u3055\u305b\u308b\u5834\u5408\n     *\n     * override\u3057\u305fprepare\u30e1\u30bd\u30c3\u30c9\u3092\u5229\u7528\u3059\u308b\u3002\n     * [Step1] \u305d\u308c\u305e\u308c\u306e\u63a5\u7d9a\u3057\u3066\u3044\u308bSegue\u306b\u5bfe\u3057\u3066Identifier\u540d\u3092\u5b9a\u3081\u308b\n     * [Step2] \u4e0b\u8a18\u306eidentifier\u306b\u95a2\u9023\u3059\u308bViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97\u3057\u3066\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u9069\u7528\u3059\u308b\n     * (UINavigationController\u306e\u5834\u5408\u306f\u3061\u3087\u3063\u3068\u6ce8\u610f)\n     *\n     * (\u53c2\u8003): Container\u3068\u306e\u5024\u3084\u308a\u53d6\u308a\u65b9\u6cd5\n     * http://qiita.com/BOPsemi/items/dd65b2b7cd83ec1e82b9\n     */\n    override func prepare(for segue: UIStoryboardSegue, sender: Any?) {\n\n        if segue.identifier == \"MakeRecipe\" {\n            let navigationController = segue.destination as! UINavigationController\n            let makeRecipeController = navigationController.viewControllers.first as! MakeRecipeController\n            makeRecipeController.delegate = self\n        }\n\n        if segue.identifier == \"Menu\" {\n            let menuController = segue.destination as! MenuController\n            menuController.delegate = self\n        }\n    }\n\n    /* MenuOpenDelegate */\n    func openMenuStatus(status: MenuStatus) {\n        changeMenuStatus(status)\n    }\n\n    /* MenuCloseDelegate */\n    func closeMenuStatus(status: MenuStatus) {\n        changeMenuStatus(status)\n    }\n\n    //enum\u306e\u5024\u306b\u5fdc\u3058\u3066\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u5909\u66f4\u3092\u884c\u3046\n    fileprivate func changeMenuStatus(_ targetStatus: MenuStatus) {\n\n        if targetStatus == MenuStatus.opened {\n\n            //\u30e1\u30cb\u30e5\u30fc\u3092\u8868\u793a\u72b6\u614b\u306b\u3059\u308b\n            UIView.animate(withDuration: 0.16, delay: 0, options: .curveEaseOut, animations: {\n                self.mainMenuContainer.isUserInteractionEnabled = false\n                self.mainMenuContainer.frame = CGRect(x: 0, y: 320, width: self.mainMenuContainer.frame.width, height: self.mainMenuContainer.frame.height)\n            }, completion: nil)\n\n        } else {\n\n            //\u30e1\u30cb\u30e5\u30fc\u3092\u975e\u8868\u793a\u72b6\u614b\u306b\u3059\u308b\n            UIView.animate(withDuration: 0.16, delay: 0, options: .curveEaseOut, animations: {                \n                self.mainMenuContainer.isUserInteractionEnabled = true\n                self.mainMenuContainer.frame = CGRect(x: 0, y: 0, width: self.mainMenuContainer.frame.width, height: self.mainMenuContainer.frame.height)\n            }, completion: nil)\n        }\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n\n\n\u4e0a\u8a18\u306eContainerView\u306b\u300cEmbed Segue\u300d\u3067\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308bViewController\uff08\u4eca\u56de\u306fMenuController.swift\u53ca\u3073MakeRecipeController.swift\u306b\u8a72\u5f53\uff09\u3092Storyboard\u306eIdentifier\u304b\u3089\u53d6\u5f97\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u5f93\u6765\u306eSegue\u306bIdentifier\u3092\u8a2d\u5b9a\u3059\u308b\u6642\u3068\u540c\u69d8\u306b\u300cEmbed Segue\u300d\u306e\u90e8\u5206\u306bIdentifier\u3092InterfaceBuilder\u3092\u8a2d\u5b9a\u3059\u308b\u5f62\u3067\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n7. \u3042\u3068\u304c\u304d\nGestureRecognizer\u3084\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306e\u6271\u3044\u306b\u95a2\u3057\u3066\u306f\u3001iOS\u30a2\u30d7\u30ea\u958b\u767a\u306b\u53d6\u308a\u7d44\u307f\u59cb\u3081\u305f\u9803\u306f\u30cf\u30de\u3063\u3066\u3057\u307e\u3046\u4e8b\u304c\u591a\u304f\u3001\u30c7\u30d0\u30c3\u30b0\u306b\u7d50\u69cb\u624b\u3053\u305a\u3063\u3066\u3057\u307e\u3046\u4e8b\u3082\u3042\u308a\u307e\u3057\u305f\u304c\u3001\u6700\u8fd1\u3067\u306f\u82e6\u624b\u610f\u8b58\u3082\u5c11\u3057\u305a\u3064\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u306a\u304f\u306a\u308a\u3064\u3064\u3042\u308a\u307e\u3059\u3002\n\uff08GestureRecognizer\u3084TouchEvent\u3092\u6d3b\u7528\u3059\u308b\u3088\u3046\u306a\u30b5\u30f3\u30d7\u30eb\u306b\u3064\u3044\u3066\u306f\u5b9a\u671f\u7684\u306b\u6271\u3063\u3066\u3044\u3051\u308c\u3070\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\uff09\n\u30e6\u30fc\u30b6\u30fc\u304c\u5165\u529b\u306a\u3044\u3057\u306f\u9078\u629e\u3092\u884c\u3046\u3088\u3046\u306a\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u6307\u306e\u52d5\u304d\u3092\u5229\u7528\u3057\u305f\u753b\u9762\u64cd\u4f5c\u3092\u52a0\u3048\u308b\u3053\u3068\u3084\u753b\u9762\u9077\u79fb\u6642\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306b\u307b\u3093\u306e\u5c11\u3057\u4e00\u5de5\u592b\u3092\u52a0\u3048\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001UI\u306b\u66f4\u306b\u76ee\u3092\u5f15\u304f\u30ef\u30f3\u30dd\u30a4\u30f3\u30c8\u3092\u4e0e\u3048\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001\u3053\u306e\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\u306e\u969b\u3068\u3082\u540c\u69d8\u306b\u3001\u7d44\u307f\u5408\u308f\u305b\u65b9\u3092\u9593\u9055\u3048\u3066\u3057\u307e\u3063\u305f\u308a\u3001\u305f\u304f\u3055\u3093\u5165\u308c\u3059\u304e\u3066\u3057\u307e\u3046\u3068\u5374\u3063\u3066\u30e6\u30fc\u30b6\u30fc\u306b\u512a\u3057\u304f\u306a\u3044UI\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u30b1\u30fc\u30b9\u3082\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u306e\u3088\u3046\u306a\u30e6\u30fc\u30b6\u30fc\u306e\u52d5\u304d\u3068\u9023\u52d5\u3059\u308b\u3088\u3046\u306a\u5f62\u306eUI\u3092\u5b9f\u73fe\u3059\u308b\u969b\u306b\u306f\u3001\u753b\u9762\u306e\u30c7\u30b6\u30a4\u30f3\u3084\u30e6\u30fc\u30b6\u30fc\u304c\u671f\u5f85\u3059\u308b\u52d5\u304d\u3068\u3082\u3057\u3063\u304b\u308a\u3068\u76f8\u8ac7\u3057\u305f\u4e0a\u3067\u306e\u5b9f\u88c5\u3092\u5fc3\u304c\u3051\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3068\u79c1\u81ea\u8eab\u3082\u5f37\u304f\u611f\u3058\u307e\u3057\u305f\u3002\n\uff08\u4eca\u56de\u306e\u30b5\u30f3\u30d7\u30eb\u3082\u3001\u3082\u3057\u304b\u3057\u305f\u3089\u66f4\u306b\u30de\u30c3\u30c1\u3059\u308b\u3088\u3046\u306a\u753b\u9762\u30c7\u30b6\u30a4\u30f3\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306d\u3002\u3002\u3002\uff09\n\u79c1\u81ea\u8eab\u3082UI\u8868\u73fe\u306b\u95a2\u3059\u308b\u90e8\u5206\u306e\u5b9f\u88c5\u306f\u3001\u3068\u3066\u3082\u697d\u3057\u304f\u304b\u3064\u5de5\u592b\u306e\u3057\u7532\u6590\u304c\u3042\u308b\u90e8\u5206\u3060\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u4eca\u5f8c\u3068\u3082\u66f4\u306b\u826f\u3044UI\u8868\u73fe\u306e\u5b9f\u88c5\u3084\u30b5\u30f3\u30d7\u30eb\u30b7\u30e7\u30fc\u30b1\u30fc\u30b9\u306e\u4f5c\u6210\u3092\u884c\u3063\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u308c\u304b\u3089\u3082\u4f55\u5352\u5b9c\u3057\u304f\u304a\u9858\u3044\u81f4\u3057\u307e\u3059m(_ _)m\n## 1. \u306f\u3058\u3081\u306b\n\n\u65b0\u5e74\u3042\u3051\u307e\u3057\u3066\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\u672c\u5e74\u3082\u4f55\u5352\u5b9c\u3057\u304f\u304a\u9858\u3044\u3044\u305f\u3044\u3057\u307e\u3059\u3002\n\n\u5e74\u672b\u5e74\u59cb\u306b\u73cd\u3057\u304f\u307e\u3068\u307e\u3063\u305f\u6642\u9593\u304c\u53d6\u308c\u305f\u3068\u3044\u3046\u3053\u3068\u3082\u3042\u308a\u307e\u3057\u3066\u3001\u500b\u4eba\u7684\u306b\u3082\u5fa9\u7fd2\u3057\u3066\u304a\u304d\u305f\u3044\u3068\u611f\u3058\u3066\u3044\u305f\u3001\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3084GestureRecognizer\u3092\u6d3b\u7528\u3057\u305f\u90e8\u5206\u306e\u5b9f\u88c5\u3092\u30011\u3064\u306e\u306a\u308b\u3079\u304f\u30a2\u30d7\u30ea\u306b\u8fd1\u3057\u3044\u5f62\u306e\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u307e\u3068\u3081\u3066\u898b\u305f\u3044\u3068\u601d\u3044\u53d6\u308a\u7d44\u3093\u3067\u3044\u307e\u3057\u305f\u3002\n\n\u4eca\u56de\u4f5c\u6210\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u306b\u95a2\u3057\u3066\u306f\u3001\u8868\u793a\u753b\u50cf\u306e\u30bf\u30c3\u30d7\u6642\u3084UICollectionView\u306e\u9078\u629e\u6642\u7b49\u306e__\u300c\u51e6\u7406\u306e\u30c8\u30ea\u30ac\u30fc\u3068\u306a\u308b\u90e8\u5206\u3067GestureRecognizer\u3092\u6d3b\u7528\u300d__\u3084__\u300c\u4e00\u89a7\u8868\u793a\u2192\u8a73\u7d30\u9077\u79fb\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u306e\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u300d__\u3092\u7e54\u308a\u4ea4\u305c\u3066\u3001\u5165\u529b\u753b\u9762\u3084\u8868\u793a\u30bf\u30a4\u30df\u30f3\u30b0\u306e\u30dd\u30a4\u30f3\u30c8\u306b\u306a\u308b\u90e8\u5206\u306eUI\u306b\u4e00\u5de5\u592b\u3092\u52a0\u3048\u3066\u307f\u305f\u5f62\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n+ __[\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3092\u5229\u7528\u3057\u305f\u30d5\u30a9\u30fc\u30e0\u306a\u3069\u306e\u30b5\u30f3\u30d7\u30eb](https://github.com/fumiyasac/DraggableImageForm)__\n\n__\u30b5\u30f3\u30d7\u30eb\u306e\u5168\u4f53\u7684\u306a\u52d5\u304d\uff1a__\n\n![gesture_and_transition.gif](https://qiita-image-store.s3.amazonaws.com/0/17400/7339a6dc-7785-cc43-9dbe-cc4cb14041c2.gif)\n\n+ __2017.02.18: \u8ffd\u8a18__\n\n\u3053\u306e\u8a18\u4e8b\u5185\u5bb9\u3067\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\u3092\u30d4\u30c3\u30af\u30a2\u30c3\u30d7\u3057\u305f\u5185\u5bb9\u3092\u3053\u3061\u3089\u306e\u52c9\u5f37\u4f1a\u306b\u3066\u767a\u8868\u3057\u3066\u304d\u307e\u3057\u305f\u306e\u3067\u3001\u4e0b\u8a18\u306e\u8cc7\u6599\u3082\u3054\u53c2\u8003\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n\u30b9\u30e9\u30a4\u30c9\uff1a[\u6307\u306e\u52d5\u304d\u3084\u9077\u79fb\u6642\u7b49\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u751f\u304b\u3057\u305fUI\u306e\u30b5\u30f3\u30d5\u309a\u30eb\u89e3\u8aac](https://www.slideshare.net/fumiyasakai37/ui-72280995)\n\u52c9\u5f37\u4f1a\uff1a[Swift\u30d3\u30ae\u30ca\u30fc\u30ba\u52c9\u5f37\u4f1a \u7b2c\uff12\uff11\u56de at \u30d5\u30a1\u30f3\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u30ba\u69d8\uff08\u6e0b\u8c37\uff09](https://swift-beginners.doorkeeper.jp/events/56384)\n\n+ __2017.01.09: \u8ffd\u8a18__\n\n\u672c\u30b5\u30f3\u30d7\u30eb\u306b\u30af\u30ec\u30b8\u30c3\u30c8\u8868\u8a18\u53ca\u3073\u305d\u306e\u30ed\u30b8\u30c3\u30af\u306e\u8ffd\u52a0\u3068\u65e5\u306b\u3061\u30fb\u30ec\u30b7\u30d4\u9078\u629e\u753b\u9762\u306e\u6587\u8a00\u3092\u5909\u66f4\u3057\u307e\u3057\u305f\u3002\n\uff08\u6587\u8a00\u306e\u8868\u8a18\u304c\u672c\u8a18\u4e8b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u9762\u3068\u306f\u82e5\u5e72\u7570\u306a\u308a\u307e\u3059\u304c\u3001\u51e6\u7406\u30e1\u30a4\u30f3\u90e8\u5206\u306e\u30ed\u30b8\u30c3\u30af\u306f\u307b\u3068\u3093\u3069\u5909\u66f4\u3057\u3066\u3044\u307e\u305b\u3093\uff09\n\n\u203b\u3053\u3061\u3089\u306e\u30b5\u30f3\u30d7\u30eb\u306fPullRequest\u3084Issue\u7b49\u306f\u304a\u6c17\u8efd\u306b\u3069\u3046\u305e\uff01\n\n## 2. \u4eca\u56de\u306e\u53c2\u8003\u306b\u3057\u305f\u5b9f\u88c5\u4f8b\u3068\u30b5\u30f3\u30d7\u30eb\u6982\u8981\u306b\u3064\u3044\u3066\n\n\u4eca\u56de\u306e\u5b9f\u88c5\u306b\u95a2\u3057\u3066\u306f\u3001\u53c2\u8003\u306b\u3057\u305f\u30a2\u30d7\u30ea\u306f\u7279\u306b\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u4e0b\u8a18\u306b\u7d39\u4ecb\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u53ca\u3073\u89e3\u8aac\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u305f\u4e0a\u3067\u3001\u30ec\u30b7\u30d4\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3068\u73fe\u5728\u6708\u306e\u65e5\u306b\u3061\u3092\u9078\u629e\u3057\u3066\u30a2\u30fc\u30ab\u30a4\u30d6\uff06\u30ec\u30b7\u30d4\u306e\u4e00\u89a7\uff06\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u3066\u81ea\u5206\u306a\u308a\u306b\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u306e\u30bf\u30a4\u30c8\u30eb\u304c\u300c\u76f4\u611f\u30ec\u30b7\u30d4\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u306e\u306f\u753b\u50cf\u306e\u5370\u8c61\u3067\u4f5c\u3063\u3066\u898b\u305f\u3044\u30ec\u30b7\u30d4\u3092\u8907\u6570\u9078\u629e\u3057\u3066\u3001\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u305f\u30ec\u30b7\u30d4\u3092\u5f8c\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001\u3053\u306e\u3088\u3046\u306a\u5f62\u306b\u3057\u307e\u3057\u305f\u3002\n\n\uff08\u3042\u3068\u79c1\u304c\u6599\u7406\u304c\u8da3\u5473\u306a\u306e\u3067\u3001\u306a\u304b\u306a\u304b\u4f55\u3092\u4f5c\u308b\u304b\u6c7a\u3081\u304d\u308c\u306a\u3044\u6642\u306b\u753b\u50cf\u304b\u3089\u76f4\u611f\u3067\u30ec\u30b7\u30d4\u3092\u9078\u629e\u3057\u3066\u307f\u305f\u3089\u9762\u767d\u3044\u304b\u3082\u3068\u3044\u3046\u601d\u3044\u3082\u3042\u308a\u307e\u3057\u305f\u7b11\uff09\n\n###### \u26052-1. \u30e1\u30a4\u30f3\u6a5f\u80fd\u4f5c\u6210\u306b\u304a\u3044\u3066\u53c2\u8003\u306b\u3057\u305f\u8a18\u4e8b\n\n\u30ec\u30b7\u30d4\u753b\u50cf\u306e\u4e00\u89a7\u304b\u3089\u753b\u50cf\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3067\u9078\u629e\u3059\u308b\u6a5f\u80fd\u3084\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u305f\u30ec\u30b7\u30d4\u753b\u50cf\u306e\u8868\u793a\u90e8\u5206\u306e\u9077\u79fb\u306b\u95a2\u3059\u308b\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u4e0b\u8a18\u306e\u30b5\u30f3\u30d7\u30eb\u3084\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n\u203b `UICollectionViewDragAndDropSelectedItems`\u306b\u95a2\u3057\u3066\u306f\u5143\u306fObjective-C\u306e\u30b5\u30f3\u30d7\u30eb\u306a\u306e\u3067\u65e2\u5b58\u30b3\u30fc\u30c9\u3092\u5143\u306bSwift3\u7cfb\u306b\u66f8\u304d\u76f4\u3057\uff06\u6a5f\u80fd\u8ffd\u52a0\u3092\u3001`iOS Animation Tutorial: Custom View Controller Presentation Transitions`\u306b\u95a2\u3057\u3066\u306f\u65e2\u5b58\u306e\u30b3\u30fc\u30c9\u304cSwift2\u7cfb\u306e\u3082\u306e\u3060\u3063\u305f\u306e\u3067Swift3\u7cfb\u306b\u66f8\u304d\u76f4\u3057\u305f\u4e0a\u3067\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u90e8\u5206\u306e\u30af\u30e9\u30b9\u306b\u3064\u3044\u3066\u306f\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u3057\u307e\u3057\u305f\u3002\n\n+ __[UICollectionViewDragAndDropSelectedItems](https://github.com/keygx/UICollectionViewDragAndDropSelectedItems)__\n+ __[iOS Animation Tutorial: Custom View Controller Presentation Transitions](https://www.raywenderlich.com/113845/ios-animation-tutorial-custom-view-controller-presentation-transitions)__\n\n\u307e\u305f\u4e0a\u8a18\u306e\u30b5\u30f3\u30d7\u30eb\u3084\u8a18\u4e8b\u3092\u5143\u306b\u8ffd\u52a0\u3057\u305f\u4e3b\u306a\u6a5f\u80fd\u3068\u3057\u3066\u306f\u3001\n\n+ \u73fe\u5728\u6708\u306e\u8868\u793a\u3092\u5143\u306b\u795d\u796d\u65e5\u3068\u66dc\u65e5\u4ed8\u304d\u306e\u65e5\u4ed8\u306e\u30dc\u30bf\u30f3\u8868\u793a\u6a5f\u80fd\n+ SwiftyJSON & Alamofire\u3092\u5229\u7528\u3057\u305fAPI\u901a\u4fe1\u6a5f\u80fd\uff08\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\u4f7f\u7528\uff09\n+ API\u304b\u3089\u53d6\u5f97\u3057\u305f\u753b\u50cf\u8868\u793a\u6642\u30ad\u30e3\u30c3\u30b7\u30e5\u6a5f\u80fd\n+ \u9078\u629e\u3057\u305f\u30c7\u30fc\u30bf\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u6a5f\u80fd\n+ ContainerView\u3092\u91cd\u306d\u3066\u30b9\u30e9\u30a4\u30c9\u5f0f\u30e1\u30cb\u30e5\u30fc\u3092\u8868\u793a\u3059\u308b\u6a5f\u80fd\n\n\u3068\u306a\u308a\u3001\u30c7\u30fc\u30bf\u53d6\u5f97\u90e8\u5206\u3084\u30c7\u30fc\u30bf\u6c38\u7d9a\u5316\u306b\u95a2\u3059\u308b\u3067\u306f\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u6d3b\u7528\u3057\u305f\u5b9f\u88c5\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u4e0a\u8a18\u306e\u30b5\u30f3\u30d7\u30eb\u53ca\u3073\u8a18\u4e8b\u306b\u95a2\u3057\u3066\u306f\u3001\u5b9f\u88c5\u306e\u30dd\u30a4\u30f3\u30c8\u304c\u3064\u304b\u307f\u3084\u3059\u3044\u5f62\u3067\u30bd\u30fc\u30b9\u306e\u8a18\u8ff0\u3055\u308c\u3066\u3044\u305f\u308a\u3084\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308b\u90e8\u5206\u304c\u89e3\u8aac\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u975e\u5e38\u306b\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u5834\u3092\u304a\u501f\u308a\u3057\u3066\u611f\u8b1d\u306e\u610f\u3092\u8ff0\u3079\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n###### \u26052-2. \u4eca\u56de\u306e\u30b5\u30f3\u30d7\u30eb\u306b\u3064\u3044\u3066\n\n__\u30b5\u30f3\u30d7\u30eb\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf1\uff1a__\n\n![sample_capture1.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/79cdeae5-4d1c-3b72-407a-9e9fbdd26926.jpeg)\n\n__\u30b5\u30f3\u30d7\u30eb\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf2\uff1a__\n\n![sample_capture2.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/deb95e6a-e26f-bb24-a04b-6027d824650f.jpeg)\n\n__\u30b5\u30f3\u30d7\u30eb\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf3\uff1a__\n\n![sample_capture3.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/e6495b31-1788-112e-752f-be200f38191f.jpeg)\n\n__\u74b0\u5883\u3084\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3064\u3044\u3066\uff1a__\n\n+ Xcode8.2\n+ Swift3.0.2\n+ MacOS Sierra (Ver10.12.2)\n\n__\u4f7f\u7528\u5916\u90e8API\u306b\u3064\u3044\u3066\uff1a__\n\n\u4eca\u56de\u306e\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u306b\u95a2\u3057\u3066\u306f\u3001\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \n\n+ [\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API](https://webservice.rakuten.co.jp/api/recipecategoryranking/)\n\n![api_reference.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/0274e85b-85a0-d618-5d31-65a6fa786797.jpeg)\n\n\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u306e\u30ec\u30b7\u30d4\u9078\u629e\u90e8\u5206\u3067\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u306eAPI\u3092\u5229\u7528\u3057\u305f\u969b\u306b\u53d6\u5f97\u3067\u304d\u308b\u30ec\u30b7\u30d4\u30fc\u30c7\u30fc\u30bf\u306f\u6700\u59274\u4ef6\u307e\u3067\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u4eca\u56de\u306e\u4f7f\u7528\u65b9\u6cd5\u3068\u3057\u3066\u306f\u3001\u3042\u3089\u304b\u3058\u3081\u306b\u30ab\u30c6\u30b4\u30ea\u30fc\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u6587\u5b57\u5217\u306e\u4e00\u89a7\u3092\u5b9a\u7fa9\u3057\u305fStruct\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u3066\u304a\u304d\u3001API\u30a2\u30af\u30bb\u30b9\u306e\u969b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\uff08\u4eca\u56de\u306e\u5834\u5408\u306f\u300c\u30ab\u30c6\u30b4\u30eaID\uff08\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\uff1acategoryId\uff09\u300d\uff09\u306b\u30ab\u30c6\u30b4\u30ea\u3092\u5b9a\u7fa9\u3057\u305f\u90e8\u5206\u304b\u3089\u30e9\u30f3\u30c0\u30e0\u3067\u30ab\u30c6\u30b4\u30eaID\u53d6\u5f97\u3057\u3066\u30bb\u30c3\u30c8\u3059\u308b\u3088\u3046\u306a\u5f62\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u307e\u305f\u3001API\u3078\u306e\u30a2\u30af\u30bb\u30b9\u90e8\u5206\u306e\u5b9f\u88c5\u306b\u95a2\u3057\u3066\u306f\u4e0b\u8a18\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u53c2\u7167\u9802\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n+ CategoryList.swift (\u30ab\u30c6\u30b4\u30ea\u4e00\u89a7\u5b9a\u7fa9 & \u30e9\u30f3\u30c0\u30e0\u30671\u4ef6\u53d6\u5f97\u3059\u308b\u30e1\u30bd\u30c3\u30c9)\n+ APIManager.swift (\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\u3078\u306e\u30c7\u30fc\u30bf\u53d6\u5f97\u7528)\n+ MakeRecipeController.swift (`loadApiData(categoryId: String)`\u5185\u306b\u51e6\u7406\u8a18\u8f09)\n\n\u203b \u30b5\u30f3\u30d7\u30eb\u5185\u3067API\u30ad\u30fc\u306e\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u9664\u5916\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u304a\u624b\u5143\u3067\u3054\u78ba\u8a8d\u306e\u5834\u5408\u306b\u306fAPI\u30ad\u30fc\u306e\u53d6\u5f97\u3092\u884c\u3063\u3066\u3044\u305f\u3060\u3051\u307e\u3059\u3068\u5e78\u3044\u3067\u3059\u3002\n\n\u307e\u305f\u697d\u5929Web\u30b5\u30fc\u30d3\u30b9\u306e\u30da\u30fc\u30b8\u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306bAPI\u306e\u30c6\u30b9\u30c8\u30d5\u30a9\u30fc\u30e0\u3082\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u53d6\u5f97\u3057\u305f\u3044\u30c7\u30fc\u30bf\u306b\u95a2\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30c6\u30b9\u30c8\u3082\u884c\u3044\u3084\u3059\u304f\u3001API\u306e\u7a2e\u985e\u3082\u6ca2\u5c71\u3042\u308b\u306e\u3067\u6d3b\u7528\u3057\u3066\u307f\u308b\u3068\u9762\u767d\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306d\u3002\n\n![api_test_form.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/cbb0ebc2-a32a-40af-23c8-4ec4a5b49189.jpeg)\n\n__\u4f7f\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\uff1a__\n\n\u524d\u8ff0\u3057\u305f\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\u304b\u3089\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092UICollectionView\u306e\u30bb\u30eb\u5185\u306b\u8868\u793a\u3059\u308b\u969b\u306e\u51e6\u7406\u306b\u306fAlamofire\u3068SwiftyJSON\u3092\u3001\u753b\u50cf\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u305b\u3066\u8aad\u307f\u8fbc\u307f\u306e\u9ad8\u901f\u5316\u3092\u56f3\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u95a2\u3057\u3066\u306f\u4eca\u56de\u306fSDwebImage\u3067\u306f\u306a\u304fKingFisher(SDWebImage\u306eSwift\u7248)\u3092\u4f7f\u7528\u3057\u3001\u307e\u305f\u30ec\u30b7\u30d4\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u306b\u95a2\u3057\u3066\u306fRealm\u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002\n\n\u304a\u307e\u3051\u3068\u3057\u3066\u6708\u5225\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u90e8\u5206\u306e\u795d\u796d\u65e5\u8868\u793a\u306b\u95a2\u3057\u3066\u306f\u3001\u81ea\u5206\u304c\u958b\u767a\u30fb\u4fdd\u5b88\u3092\u884c\u3063\u3066\u3044\u308b\u65e5\u672c\u306e\u795d\u796d\u65e5\u5224\u5b9a\u30ed\u30b8\u30c3\u30af\u30e9\u30a4\u30d6\u30e9\u30ea\u306eCalculateCalendarLogic\u3092\u5b9f\u904b\u7528\u3067\u306e\u691c\u8a3c\u3082\u517c\u306d\u3066\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n| \u30e9\u30a4\u30d6\u30e9\u30ea\u540d | \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u6a5f\u80fd\u6982\u8981 |\n|:-----------|:------------|:------------|\n|[RealmSwift](https://realm.io/jp/docs/) |\u30a2\u30d7\u30ea\u5185\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 |\n|[SwiftyJSON](https://github.com/SwiftyJSON/SwiftyJSON) |JSON\u30c7\u30fc\u30bf\u306e\u89e3\u6790\u3092\u3057\u3084\u3059\u304f\u3059\u308b |\n|[Alamofire](https://github.com/Alamofire/Alamofire) |HTTP\u306a\u3044\u3057\u306fHTTPS\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u901a\u4fe1\u7528 |\n|[KingFisher](https://github.com/onevcat/Kingfisher) |\u753b\u50cfURL\u304b\u3089\u306e\u975e\u540c\u671f\u3067\u306e\u753b\u50cf\u8868\u793a\u3068\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30dd\u30fc\u30c8 |\n|[CalculateCalendarLogic](https://cocoapods.org/pods/CalculateCalendarLogic) |\u65e5\u672c\u306e\u795d\u796d\u65e5\u306e\u5224\u5b9a |\n\nPodfile\u5185\u306e\u8a2d\u5b9a\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\uff08CalculateCalendarLogic\u306b\u95a2\u3057\u3066\u306f\u3001\u958b\u767a\u6642\u70b9\u3067Pod\u5316\u3057\u3066\u3044\u306a\u304b\u3063\u305f\u306e\u3067\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u624b\u52d5\u3067\u5c0e\u5165\u3057\u3066\u3044\u307e\u3059\u3002\uff09\n\n```\nplatform :ios, '9.0'\nswift_version = '3.0'\n\ntarget 'DraggableImageForm' do\n  use_frameworks!\n  pod 'RealmSwift'\n  pod 'Alamofire'\n  pod 'SwiftyJSON'\n  pod 'Kingfisher'\n\n  post_install do |installer|\n    installer.pods_project.targets.each do |target|\n      target.build_configurations.each do |config|\n        config.build_settings['SWIFT_VERSION'] = '3.0'\n      end\n    end\n  end\nend\n```\n\n## 3. UILongPressGestureRecogniser\u3068UICollectionView\u3067\u753b\u50cf\u306e\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3092\u884c\u3046\u90e8\u5206\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\n\n\u672c\u30b5\u30f3\u30d7\u30eb\u306e\u753b\u9762\u306e\u8a2d\u8a08\u306e\u5168\u4f53\u56f3\uff08Storyboard\u306e\u6982\u7565\u56f3\uff09\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u4e00\u756a\u6700\u521d\u306b\u8868\u793a\u3055\u308c\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306b\u95a2\u3057\u3066\u306f`ViewController.swift`\u306e\u753b\u9762\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u3053\u306e\u753b\u9762\u306b\u95a2\u3057\u3066\u306f`\u30b5\u30d6\u30e1\u30cb\u30e5\u30fc\u7528\u306eContainerView`\u3068`\u30e1\u30a4\u30f3\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793a\u7528\u306eContainerView`\u306e\u5236\u5fa1\u7528\u306e\u90e8\u5206\u306b\u306a\u308b\u306e\u3067\u3001\u5b9f\u8cea\u7684\u306b\u306f\u30ec\u30b7\u30d4\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u4f5c\u6210\u3059\u308bViewController(`MakeRecipeController.swift`)\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n__\u672c\u30b5\u30f3\u30d7\u30eb\u306eStoryboard\u6982\u7565\u56f3\uff1a__\n\n![storyboard.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/d9f6b15a-2b7c-1924-6e0d-b4a7e62a115b.jpeg)\n\n\u30a2\u30d7\u30ea\u3092\u8d77\u52d5\u3057\u305f\u969b\u306b\u3044\u3061\u3070\u3093\u6700\u521d\u306b\u8868\u793a\u3055\u308c\u308b\u30ec\u30b7\u30d4\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u753b\u9762\u306b\u306a\u308a\u307e\u3059\u304c\u3001UI\u306e\u64cd\u4f5c\u6982\u8981\u3092\u307e\u3068\u3081\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u64cd\u4f5c\u306b\u306a\u308a\u307e\u3059\u3002\n\n1. UIScrollView\u306b\u914d\u7f6e\u3057\u305f\u30dc\u30bf\u30f3\u304b\u3089\u5bfe\u8c61\u306e\u65e5\u4ed8\u3092\u65e5\u306b\u3061\u306e\u30dc\u30bf\u30f3\u3092\u30bf\u30c3\u30d7\u3057\u3066\u9078\u629e\u3059\u308b\n2. \u300cAdd\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068UICollectionView\u306bAPI\u304b\u3089\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf4\u4ef6\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u307e\u305f\u7d9a\u3051\u3066\u30bf\u30c3\u30d7\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3055\u3089\u306b\u5225\u30ab\u30c6\u30b4\u30ea\u306e\u30c7\u30fc\u30bf\u304c4\u4ef6\u8868\u793a\u3055\u308c\u307e\u3059\uff08\u91cd\u8907\u3082\u3042\u308a\u3048\u308b\uff09\n3. UICollectionView\u306e\u4efb\u610f\u306e\u30bb\u30eb\u3092\u9577\u62bc\u3057\u3059\u308b\u3068\u9078\u629e\u3057\u305f\u753b\u50cf\u304c\u6307\u3067\u52d5\u304b\u305b\u308b\u3088\u3046\u306b\u306a\u308b\u306e\u3067\u3001\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\uff08\u5b9f\u4f53\u306fUIButton\uff09\u307e\u3067\u30c9\u30e9\u30c3\u30b0\u3057\u3066\u6307\u3092\u96e2\u3059\u3068\u305d\u306e\u30ec\u30b7\u30d4\u304c\u9078\u629e\u72b6\u614b\u306b\u306a\u308a\u3001\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\u4ee5\u5916\u3067\u6307\u3092\u96e2\u3059\u3068\u9078\u629e\u72b6\u614b\u306b\u306a\u3089\u305a\u306b\u753b\u50cf\u8868\u793a\u304c\u5143\u306b\u623b\u308b\n4. \u65e5\u306b\u3061\u3068\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\u3092\u62bc\u4e0b\u3059\u308b\u3068\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u304c\u8868\u793a\u3055\u308c\u30ec\u30b7\u30d4\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u767b\u9332\u30d5\u30a9\u30fc\u30e0\u304c\u8868\u793a\u3055\u308c\u308b\n5. \u9078\u629e\u3057\u305f\u30c7\u30fc\u30bf\u3092\u5168\u3066\u89e3\u9664\u53ca\u3073\u30ec\u30b7\u30d4\u753b\u50cf\u3092\u4e00\u65e6\u30af\u30ea\u30a2\u3059\u308b\u5834\u5408\u306b\u306f\u300cReset\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b\u3068\u9078\u629e\u30c7\u30fc\u30bf\u3068\u8868\u793a\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u524a\u9664\u3059\u308b\n\n\u4e0a\u8a18\u306f\u30b5\u30f3\u30d7\u30eb\u304c\u60f3\u5b9a\u3057\u3066\u3044\u308b\u52d5\u304d\u3092\u307e\u3068\u3081\u305f\u3082\u306e\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u3053\u306e\u8aac\u660e\u306e\u4e2d\u3067\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308b\u90e8\u5206\u3092\u56f3\u89e3\u3067\u793a\u3057\u305f\u3082\u306e\u3092\u4e0b\u8a18\u306b\u63b2\u8f09\u3057\u307e\u3059\u3002\n\n__MakeRecipeController.swift\u3067\u306e\u5404\u30dc\u30bf\u30f3\u306e\u5f79\u5272\uff1a__\n\n\u3053\u306e\u753b\u9762\u306e\u4e00\u756a\u4e0b\u306b\u3042\u308b\u30dc\u30bf\u30f3\u306f\u753b\u50cf\u30c9\u30e9\u30c3\u30b0\u6642\u306e\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\u306e\u5f79\u5272\u3068\u540c\u6642\u306b\u3001\u6b63\u5e38\u30c7\u30fc\u30bf\u6642\u306e\u767b\u9332\u51e6\u7406\u7528\u306e\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u8868\u793a\u3092\u884c\u3046\u3068\u3044\u30462\u3064\u306e\u5f79\u5272\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\n![button_settings_area.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/7417e244-96d2-f471-27c2-714903831f23.jpeg)\n\n__\u30ec\u30b7\u30d4\u8868\u793a\u306eUICollectionView\u306e\u30bb\u30eb\u3092\u9577\u62bc\u3057\u3057\u305f\u5834\u5408\u306e\u52d5\u304d\uff1a__\n\n\u30bb\u30eb\u3092\u9577\u62bc\u3057\u3059\u308b\u3068`UILongTapGestureRecognizer`\u304c\u767a\u52d5\u3059\u308b\u3088\u3046\u306a\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u4e2d\u3067\u30c9\u30e9\u30c3\u30b0\u5bfe\u8c61\u306e\u753b\u50cf\u3092\u30bb\u30c3\u30c8\u3057\u305fUIImageView\u306e\u5909\u6570\u3092\u7528\u610f\u3057\u3066\u304a\u304d\u3001UIImageView\u306e\u5909\u6570\u3092\u52d5\u304b\u3059\u3088\u3046\u306a\u5f62\u3067\u5b9f\u73fe\u3055\u305b\u3066\u3044\u307e\u3059\u3002\n\n![activate_longtap_gesture.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/364cf6f5-673f-1260-8cc9-033c571fb1a6.jpeg)\n\n__\u4efb\u610f\u306e\u30ec\u30b7\u30d4\u3092\u9078\u629e\u3057\u305f\u5834\u5408\u306e\u8868\u793a\uff1a__\n\n\u4efb\u610f\u306e\u30bb\u30eb\u304b\u3089\u753b\u50cf\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3001\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\u306b\u3076\u3064\u304b\u3063\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u6307\u3092\u96e2\u3059\u3068\u767b\u9332\u304c\u3055\u308c\u308b\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u969b\u306b\u3053\u306e\u30ec\u30b7\u30d4\u304c\u9078\u3070\u308c\u305f\u3068\u3044\u3046\u3053\u3068\u304c\u308f\u304b\u308b\u3088\u3046\u306b\u3001\u8a72\u5f53\u30c7\u30fc\u30bf\u3092\u30bb\u30eb\u8868\u793a\u304b\u3089\u6d88\u3059\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n![drag_and_dataadd.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/7628aa34-f81c-e7a9-81a5-a28b5e68d80d.jpeg)\n\n\u3053\u3061\u3089\u306f\u53c2\u8003\u8cc7\u6599\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u672c\u30b5\u30f3\u30d7\u30eb\u3092\u4f5c\u6210\u3059\u308b\u306b\u3042\u305f\u3063\u3066\u306e\u81ea\u5206\u3067\u8d77\u3053\u3057\u305f\u30e9\u30d5\u30b9\u30b1\u30c3\u30c1\uff08\u5b9f\u88c5\u524d\u306b\u4e3b\u306a\u6a5f\u80fd\u306e\u7d44\u307f\u5408\u308f\u305b\u3084\u5b9f\u88c5\u65b9\u91dd\u3092\u307e\u3068\u3081\u305f\u30ce\u30fc\u30c8\u306e\u4e00\u90e8\uff09\u3082\u8f09\u305b\u3066\u3044\u307e\u3059\u3002\n\n\u4f59\u8ac7\u306b\u306f\u306a\u308a\u307e\u3059\u304c\u3001\u8907\u6570\u306e\u6a5f\u80fd\u3092\u7d44\u307f\u5408\u308f\u305b\u305fUI\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u3044\u304d\u306a\u308a\u5b9f\u88c5\u3092\u8a66\u307f\u308b\u3068\u8a2d\u8a08\u306e\u843d\u3068\u3057\u6240\u304c\u30d6\u30ec\u3066\u53d6\u3063\u6563\u3089\u304b\u308b\u3053\u3068\u304c\u79c1\u306f\u591a\u304b\u3063\u305f\u306e\u3067\u7fd2\u6163\u3068\u3057\u3066\u5b9f\u88c5\u524d\u306b\u306f\u6982\u8981\u3084\u30d1\u30fc\u30c4\u306e\u91cd\u306a\u308a\u306b\u95a2\u3059\u308b\u90e8\u5206\u3092\u307e\u3068\u3081\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n__\u6a5f\u80fd\u4f5c\u6210\u6642\u306e\u30e9\u30d5\u30b9\u30b1\u30c3\u30c1\uff1a__\n\n![draggable_rough.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/1e3fe977-52f3-270e-af05-8efc1e470474.jpeg)\n\n\u6a5f\u80fd\u3092\u7121\u7406\u3084\u308a\u8a70\u3081\u8fbc\u3093\u3067\u3057\u307e\u3063\u305f\u5f62\u306b\u306f\u306a\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001Web\u306e\u30d5\u30a9\u30fc\u30e0\u3067\u3082\u3088\u304f\u3042\u308b\u3088\u3046\u306a\u3001\u9078\u629e\u30a8\u30ea\u30a2\u306b\u753b\u50cf\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u6a5f\u69cb\u3092\u30a4\u30e1\u30fc\u30b8\u3057\u3066\u307f\u307e\u3057\u305f\u306e\u3067\u3001\u4eca\u56de\u306e\u3088\u3046\u306a\u52d5\u304d\u306b\u3064\u3044\u3066\u306f\u3001\u9805\u76ee\u9078\u629e\u306e\u30e6\u30fc\u30b6\u30fc\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u969b\u306b\u4e00\u5de5\u592b\u3092\u52a0\u3048\u308b\u969b\u306e\u30a2\u30a4\u30c7\u30a2\u3068\u3057\u3066\u3082\u826f\u3044\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\n###### \u26053-1. API\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d6\u5f97\u90e8\u5206\u3068\u305d\u308c\u305e\u308c\u306e\u30dc\u30bf\u30f3\u306b\u95a2\u3059\u308b\u8aac\u660e\n\n\u672c\u30b5\u30f3\u30d7\u30eb\u306f\u300c\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\u300d\u3092\u5229\u7528\u3057\u3066\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u3092\u884c\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u306eAPI\u3067\u306f\u3042\u3089\u304b\u3058\u3081\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5927\u30ab\u30c6\u30b4\u30ea\u30fc\u306e\u4e0a\u4f4d4\u4ef6\u306e\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u3088\u3046\u306a\u5f62\u306b\u306a\u308b\u306e\u3067\u3001\u8ffd\u52a0\u30dc\u30bf\u30f3\u62bc\u4e0b\u6642\u306b\u65b0\u305f\u306b\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u8868\u793a\u7528\u30c7\u30fc\u30bf\u306e\u683c\u7d0d\u3057\u3066\u3044\u308b\u914d\u5217\u306b\u8ffd\u52a0\u3057\u3066\u3044\u304f\u3088\u3046\u306a\u5f62\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u3002\n\nAPI\u7d4c\u7531\u3067\u306e\u30c7\u30fc\u30bf\u53d6\u5f97\u51e6\u7406\u306b\u3064\u3044\u3066\u3082\u3001\u5168\u4f53\u30ed\u30b8\u30c3\u30af\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306e\u4e2d\u306b\u62bc\u3057\u8fbc\u3081\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u4e0b\u8a18\u306e\u56f3\u306e\u3088\u3046\u306b\u305d\u308c\u305e\u308c\u306e\u5f79\u5272\u306b\u5fdc\u3058\u3066Struct\u306b\u5206\u89e3\u3057\u305f\u4e0a\u3067\u5fc5\u8981\u306a\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u4f7f\u7528\u3059\u308b\u3088\u3046\u306a\u5f62\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u3002\n\n\uff08\u3053\u306e\u5f62\u5f0f\u306b\u3057\u305f\u5834\u5408\u306f\u4f7f\u7528\u3059\u308bAPI\u306e\u5404\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u5408\u308f\u305b\u3066\u306e\u8abf\u6574\u3082\u3057\u3084\u3059\u304f\u306a\u308b\u3068\u601d\u3044\u307e\u3059\uff09\n\n![api_handling.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/6df32919-3f4d-d1af-3866-1d672a8d141b.jpeg)\n\nUICollectionView\u306b\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3080\u306a\u3044\u3057\u306f\u3001\u30c7\u30fc\u30bf\u306e\u30ea\u30bb\u30c3\u30c8\u3092\u884c\u3046\u5404\u30dc\u30bf\u30f3\u306e`addTarget`\u306e\u5b9a\u7fa9\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u521d\u671f\u5316\u306e\u51e6\u7406\u3092fileprivate\u306e\u30e1\u30bd\u30c3\u30c9\u306b\u5207\u308a\u51fa\u3057\u3066\u3001`viewDidLoad`\u306e\u5b9f\u884c\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u5b9f\u884c\u3055\u305b\u308b\u3088\u3046\u306a\u69cb\u6210\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```swift:MakeRecipeController.swift\n//UI\u8868\u793a\u306e\u521d\u671f\u5316\u3092\u884c\u3046\uff08ViewDidLoad\u5185\u3067\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\uff09\nfileprivate func initDefaultUiSetting() {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    //\u30dc\u30bf\u30f3\u306b\u95a2\u3059\u308b\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n    reloadDataButton.addTarget(self, action: #selector(MakeRecipeController.reloadButtonTapped(button:)), for: .touchUpInside)\n    reloadDataButton.layer.cornerRadius = CGFloat(reloadDataButton.frame.width / 2)\n    \n    resetDataButton.addTarget(self, action: #selector(MakeRecipeController.resetButtonTapped(button:)), for: .touchUpInside)\n    resetDataButton.layer.cornerRadius = CGFloat(resetDataButton.frame.width / 2)\n}\n\n//Add\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u306e\u30a2\u30af\u30b7\u30e7\u30f3\nfunc reloadButtonTapped(button: UIButton) {\n    loadApiData(categoryId: CategoryList.fetchTargetCategory())\n}\n\n//Reset\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u306e\u30a2\u30af\u30b7\u30e7\u30f3\nfunc resetButtonTapped(button: UIButton) {\n    initTargetMessageSetting()\n}\n```\n\n\u4e0a\u8a18\u306e\u56f3\u89e3\u3067\u3082\u3042\u308b\u3088\u3046\u306b\u300c\u697d\u5929\u30ec\u30b7\u30d4\u30ab\u30c6\u30b4\u30ea\u5225\u30e9\u30f3\u30ad\u30f3\u30b0API\u300d\u304b\u3089\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u90e8\u5206\u306e\u5b9f\u969b\u306e\u51e6\u7406\u90e8\u5206\u306f\u3001`loadApiData(categoryId: CategoryList.fetchTargetCategory())`\u30e1\u30bd\u30c3\u30c9\u306e\u90e8\u5206\u306b\u306a\u308a\u307e\u3059\u3002\n\n\uff08\u4eca\u56de\u306fAPI\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c1\u3064\u3057\u304b\u306a\u3044\u306e\u3067\u3001\u30e9\u30f3\u30c0\u30e0\u306b1\u4ef6\u9078\u629e\u3057\u305f\u5927\u30ab\u30c6\u30b4\u30ea\u30fc\u3092\u5f15\u6570\u306b\u53d6\u308b\u30e1\u30bd\u30c3\u30c9\u306b\u307e\u3068\u3081\u305f\u5f62\u306b\u3057\u307e\u3057\u305f\u3002\uff09\n\nAPI\u306e\u4ed5\u69d8\u3084\u901a\u4fe1\u4e2d\u306e\u753b\u9762\u72b6\u614b\u306e\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3082\u8003\u616e\u3057\u305f\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u51e6\u7406\u90e8\u5206\u306e\u30e1\u30bd\u30c3\u30c9\u5185\u306e\u5168\u4f53\u51e6\u7406\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```swift:MakeRecipeController.swift\n//Alamofire\u3067\u306e\u697d\u5929\u30ec\u30b7\u30d4API\u304b\u3089\u30e9\u30f3\u30ad\u30f3\u30b0\u4e0a\u4f4d\u306e\u30ec\u30b7\u30d4\u60c5\u5831\u3092\u9078\u629e\u30ab\u30c6\u30b4\u30ea\u30fc\u3092\u5143\u306b\u53d6\u5f97\u3059\u308b\nfileprivate func loadApiData(categoryId: String) {\n\n    //\u901a\u4fe1\u4e2d\u306fCollectionView\u306e\u64cd\u4f5c\u3092\u30ed\u30c3\u30af\u3059\u308b\n    receiptCollectionView.isUserInteractionEnabled = false\n    receiptCollectionView.alpha = 0.35\n\n    //\u697d\u5929API\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u884c\u3046\n    let parameterList = [\"format\" : \"json\", \"applicationId\" : CommonSetting.apiKey, \"categoryId\" : categoryId]\n    let api = ApiManager(path: \"/Recipe/CategoryRanking/20121121\", method: .get, parameters: parameterList)\n    api.request(success: { (data: Dictionary) in\n        \n        //\u53d6\u5f97\u7d50\u679c\u306e\u30c7\u30fc\u30bf\u306bSwiftyJSON\u3092\u9069\u7528\u3059\u308b\n        let jsonList = JSON(data)\n        let results = jsonList[\"result\"]\n\n        //\u53d6\u5f97\u3057\u305f\u7d50\u679c\u3092\u8868\u793a\u7528\u306e\u914d\u5217\u306b\u683c\u7d0d\u3059\u308b\n        for (_, result) in results {\n            \n            //\u30ec\u30b7\u30d4\u306e\u516c\u958b\u65e5\u3092yyyy:MM:dd\u306e\u5f62\u5f0f\u306b\u3059\u308b\n            let recipePublishday = String(describing: result[\"recipePublishday\"])\n            let published = recipePublishday.substring(to: recipePublishday.index(recipePublishday.startIndex, offsetBy: 10))\n            \n            //CollectionView\u3078\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u3092\u307e\u3068\u3081\u305f\u30bf\u30d7\u30eb\n            let targetData = (\n                String(describing: result[\"recipeId\"]),\n                String(describing: result[\"recipeIndication\"]),\n                published,\n                String(describing: result[\"recipeTitle\"]),\n                String(describing: result[\"foodImageUrl\"]),\n                String(describing: result[\"recipeUrl\"])\n                ) as (id: String, indication: String, published: String, title: String, image: String, url: String)\n\n            //\u8868\u793a\u7528\u306e\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3059\u308b\n            self.apiDataList.append(targetData)\n        }\n\n        //CollectionView\u3092\u30ea\u30ed\u30fc\u30c9\u3059\u308b\n        self.receiptCollectionView.isUserInteractionEnabled = true\n        self.receiptCollectionView.alpha = 1\n        self.receiptCollectionView.reloadData()\n\n    }, fail: { (error: Error?) in\n        \n        //\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3092\u884c\u3046\uff08AlertController\u3092\u8868\u793a\uff09\n        let errorAlert = UIAlertController(\n            title: \"\u901a\u4fe1\u72b6\u614b\u30a8\u30e9\u30fc\",\n            message: \"\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u901a\u4fe1\u72b6\u614b\u306e\u826f\u3044\u5834\u6240\u306a\u3044\u3057\u306f\u304a\u6301\u3061\u306eWift\u306b\u63a5\u7d9a\u3057\u305f\u72b6\u614b\u3067\u518d\u5ea6\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304a\u8a66\u3057\u4e0b\u3055\u3044\u3002\",\n            preferredStyle: UIAlertControllerStyle.alert\n        )\n        errorAlert.addAction(\n            UIAlertAction(\n                title: \"OK\",\n                style: UIAlertActionStyle.default,\n                handler: nil\n            )\n        )\n        self.receiptCollectionView.isUserInteractionEnabled = true\n        self.receiptCollectionView.alpha = 1\n        self.present(errorAlert, animated: true, completion: nil)\n    })\n}\n```\n\n\u4e0a\u8a18\u306e\u30ed\u30b8\u30c3\u30af\u3092\u3056\u3063\u304f\u308a\u3068\u89e3\u8aac\u3059\u308b\u3068\u3001`APIManagaer.swift`\u90e8\u5206\u3067\u306f\u901a\u4fe1\u6642\u306e\u6210\u529f\u6642\u30fb\u5931\u6557\u6642\u306e\u57fa\u672c\u7684\u306a\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u51e6\u7406\u3068API\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306b\u95a2\u3059\u308b\u521d\u671f\u8a2d\u5b9a\u3084\u5909\u6570\u306b\u95a2\u3059\u308b\u5b9a\u7fa9\u5168\u822c\u3092\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u305d\u3057\u3066\u8868\u793a\u5bfe\u8c61\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u5185\u3067\u306f`APIManagaer.swift`\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u305f\u4e0a\u3067\u3001API\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30fb\u30ea\u30af\u30a8\u30b9\u30c8\u30e1\u30bd\u30c3\u30c9\u30fb\u5404\u7a2e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3057\u305f\u4e0a\u3067\u30a2\u30af\u30bb\u30b9\u3092\u884c\u3044\u3001\n\n+ __\u6210\u529f\u6642\uff1a__ \u2192 \u30ec\u30b9\u30dd\u30f3\u30b9\u30c7\u30fc\u30bf\u3092\u6574\u5f62\u3057\u8868\u793a\u7528\u306e\u914d\u5217\u306b\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3059\u308b\n+ __\u5931\u6557\u6642\uff1a__ \u2192 \u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u901a\u4fe1\u5931\u6557\u306e\u30a2\u30e9\u30fc\u30c8\u3092\u8868\u793a\n\n\u3068\u3044\u3046\u5f62\u306e\u51e6\u7406\u3068\u8868\u793a\u7528\u306eUICollectionView\u306e\u898b\u305f\u76ee\u306b\u95a2\u3059\u308b\u8abf\u6574\u3092\u884c\u3046\u3088\u3046\u306b\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\n\n\u203b `APIManagaer.swift`\u90e8\u5206\u306e\u4f5c\u6210\u306b\u3042\u305f\u308a\u307e\u3057\u3066\u306f\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n+ [Alamofire4+swift3\u306e\u30b5\u30f3\u30d7\u30eb](http://qiita.com/tmf16/items/d2f13088dd089b6bb3e4)\n\n###### \u26053-2. UICollectionViewCell\u306bUILongPressGestureRecognizer\u3092\u4ed8\u4e0e\u3059\u308b\u90e8\u5206\n\n\u9078\u629e\u3059\u308b\u30ec\u30b7\u30d4\u3092\u8868\u793a\u3059\u308b\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u3001UICollectionViewCell\u306b\u8868\u793a\u3059\u308b\u30c7\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u969b\u306e\u51e6\u7406\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u30bb\u30eb\u5168\u4f53\u306bUILongPressGestureRecognizer\u3092\u4ed8\u4e0e\u3059\u308b\u3088\u3046\u306a\u5f62\u306b\u3057\u307e\u3059\u3002\n\n\u307e\u305f\u3001UILongPressGestureRecognizer\u304c\u767a\u52d5\u3057\u305f\u969b\u306b\u5b9f\u884c\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9\u306b\u3066\u3001\u3069\u306e\u30bb\u30eb\u304c\u5bfe\u8c61\u306a\u306e\u304b\u3092\u5224\u5b9a\u3059\u308b\u305f\u3081\u306b\u3001\u30bb\u30eb\u306b\u8b58\u5225\u7528\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\uff08tag\uff09\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u5024\u3092\u6307\u5b9a\u3059\u308b\u5f62\u306b\u3057\u307e\u3059\u3002\n\n```swift:MakeRecipeController.swift\n//\u30bb\u30eb\u306b\u8868\u793a\u3059\u308b\u5024\u3092\u8a2d\u5b9a\u3059\u308b\ninternal func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -> UICollectionViewCell {\n\n    //\u30bb\u30eb\u306e\u5b9a\u7fa9\u3092\u884c\u3046\n    let cell = collectionView.dequeueReusableCell(withReuseIdentifier: \"RecipeCell\", for: indexPath) as! RecipeCell\n\n    //\u30bb\u30eb\u3078\u53d7\u3051\u6e21\u3055\u308c\u305f\u5024\u3092\u8a2d\u5b9a\u3059\u308b\n    let targetData = apiDataList[indexPath.row]\n    cell.recipeNameLabel.text = targetData.title\n    cell.recipeDateLabel.text = targetData.published\n    cell.recipeCategoryLabel.text = targetData.indication\n    \n    //Kingfisher\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6d3b\u7528\u3057\u305f\u753b\u50cf\u30c7\u30fc\u30bf\u306e\u8a2d\u5b9a\n    let url = URL(string: targetData.image)\n    cell.recipeImageView.image = nil\n    cell.recipeImageView.kf.indicatorType = .activity\n    cell.recipeImageView.kf.setImage(with: url)\n\n    //cell\u306e\u30bf\u30b0\u3092\u6c7a\u5b9a\u3059\u308b(LongPressGestureRecognizer\u304b\u3089\u306e\u9006\u5f15\u304d\u7528\u306b\u8a2d\u5b9a)\n    cell.tag = indexPath.row\n    \n    //LongPressGestureRecognizer\u306e\u5b9a\u7fa9\u3092\u884c\u3046\n    let longPressGesture = UILongPressGestureRecognizer(target: self, action: #selector(MakeRecipeController.longPressCell(sender:)))\n    \n    //\u30a4\u30d9\u30f3\u30c8\u767a\u751f\u307e\u3067\u306e\u30bf\u30c3\u30d7\u6642\u9593\uff1a0.24\u79d2\n    longPressGesture.minimumPressDuration = 0.24\n\n    //\u6307\u306e\u30ba\u30ec\u3092\u8a31\u5bb9\u3059\u308b\u7bc4\u56f2\uff1a10px\n    longPressGesture.allowableMovement = 10.0\n\n    //\u30bb\u30eb\u306b\u5bfe\u3057\u3066LongPressGestureRecognizer\u3092\u4ed8\u4e0e\u3059\u308b\n    cell.addGestureRecognizer(longPressGesture)\n\n    return cell\n}\n```\n\nUILongPressGestureRecognizer\u306b\u95a2\u3059\u308b\u51e6\u7406\u3084\u6d3b\u7528\u53ca\u3073\u3001\u57fa\u672c\u7684\u306a\u4e8b\u9805\u306e\u78ba\u8a8d\u306b\u95a2\u3057\u3066\u306f\u4e0b\u8a18\u306e\u8a18\u4e8b\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n+ [\u3010iOS Swift\u5165\u9580 #118\u3011UILongPressGesture\u3092\u4f7f\u3046\u3002\u307e\u305f\u3001\u6307\u3092\u96e2\u3057\u305f\u3068\u304d\u306b\u51e6\u7406\u3092\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u3059\u308b](http://swift-studying.com/blog/swift/?p=541)\n+ [\u3010Swift\u3011Long Press Gesture Recognizer\u306e\u4f7f\u3044\u65b9\u3002\u90e8\u54c1\u306e\u9577\u62bc\u3057\u3092\u691c\u77e5\u3059\u308b\u3002](http://hajihaji-lemon.com/smartphone/swift/uilongpressgesturerecognizer/)\n\n###### \u26053-3. UILongPressGestureRecognizer\u3067\u5b9f\u884c\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9\u5185\u90e8\u306e\u51e6\u7406\u306b\u95a2\u3059\u308b\u90e8\u5206\n\n\u4e0a\u8a18\u306eUICollectionViewCell\u306b\u4ed8\u4e0e\u3057\u305fUILongPressGestureRecognizer\u304c\u767a\u52d5\u3057\u305f\u969b\u306b\u5b9f\u884c\u3055\u308c\u308b`longPressCell(sender: UILongPressGestureRecognizer)`\u30e1\u30bd\u30c3\u30c9\u306e\u5185\u90e8\u51e6\u7406\u306b\u95a2\u3059\u308b\u89e3\u8aac\u306b\u306a\u308a\u307e\u3059\u3002\n\n__1.\u30bb\u30eb\u306b\u8a2d\u5b9a\u3057\u305f\u30bf\u30b0\u5024\u3092\u5143\u306b\u9078\u629e\u3055\u308c\u305f\u8a72\u5f53\u306e\u30bb\u30eb\u3092\u5224\u5b9a\u3059\u308b__\n\n\u3053\u306e\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u3001`longPressCell(sender: UILongPressGestureRecognizer)`\u306e\u5f15\u6570`sender`\u304b\u3089\u8a72\u5f53\u306e\u30bf\u30b0\u5024\uff08Int\u578b\uff09\u3068\u9577\u62bc\u3057\u3055\u308c\u305f\u4f4d\u7f6e\u3092\u53d6\u5f97\u3057\u3001\u30bf\u30b0\u5024\u3092\u5143\u306b\u3057\u3066\u8a72\u5f53\u306e\u30bb\u30eb\u3092\u8abf\u3079\u3066\u8a72\u5f53\u3059\u308b\u30bb\u30eb\u3068\u305d\u306e\u30bb\u30eb\u5185\u306b\u3042\u308b\u753b\u50cf\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u30ed\u30b8\u30c3\u30af\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u307e\u305f\u4e0a\u8a18\u306e\u30ed\u30b8\u30c3\u30af\u3067\u53d6\u5f97\u3057\u305f\u53d6\u5f97\u3057\u305f\u753b\u50cf\u30c7\u30fc\u30bf\u3068\u9577\u62bc\u3057\u3055\u308c\u305f\u4f4d\u7f6e\u304b\u3089\u5272\u308a\u51fa\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u3001\u5909\u6570`var draggableImageView: UIImageView!`\uff08\u30c9\u30e9\u30c3\u30b0\u79fb\u52d5\u304c\u53ef\u80fd\u306aUIImageView\uff09\u306b\u8a2d\u5b9a\u3057\u3066\u753b\u9762\u306e\u4e00\u756a\u4e0a\u306b\u8868\u793a\u3055\u305b\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001UICollectionViewCell\u306e\u4e2d\u304b\u3089\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u304c\u629c\u304d\u51fa\u3066\u3001\u304b\u3064\u6307\u306e\u52d5\u304d\u306b\u5408\u308f\u305b\u3066\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u52d5\u304b\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u5f62\u3068\u306a\u308a\u307e\u3059\u3002\n\n```swift:MakeRecipeController.swift\n//\u30bb\u30eb\u3092\u9577\u62bc\u3057\u3057\u305f\u969b(UILongPressGestureRecognizer\u3067\u5b9f\u884c\u3055\u308c\u305f\u969b)\u306b\u767a\u52d5\u3059\u308b\u51e6\u7406\nfunc longPressCell(sender: UILongPressGestureRecognizer) {\n\n    //\u9577\u62bc\u3057\u3057\u305f\u30bb\u30eb\u306e\u30bf\u30b0\u540d\u3068\u73fe\u5728\u4f4d\u7f6e\u3092\u8a2d\u5b9a\u3059\u308b\n    let targetTag: Int = (sender.view?.tag)!\n    let pressPoint: CGPoint = sender.location(ofTouch: 0, in: self.view)\n\n    //\u30bf\u30b0\u306e\u5024(=indexPath.row)\u306e\u5024\u3092\u5143\u306b\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\n    let selectedData: (id: String, indication: String, published: String, title: String, image: String, url: String) = apiDataList[targetTag]\n    \n    //\u5bfe\u8c61\u306e\u753b\u50cf\u30b5\u30a4\u30ba\u3068\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u7b97\u51fa\u3059\u308b\n    let targetWidth = RecipeCell.cellOfSize().width\n    let targetHeight = RecipeCell.cellOfSize().height\n    let centerX = pressPoint.x - (targetWidth / 2)\n    let centerY = pressPoint.y - (targetHeight / 2)\n    \n    //\u9577\u62bc\u3057\u5bfe\u8c61\u306e\u30bb\u30eb\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u305f\u3082\u306e\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306e\u5909\u6570\n    var targetImage: UIImage? = nil\n    var targetCell: RecipeCell? = nil\n    \n    //CollectionView\u5185\u306e\u8981\u7d20\u3067\u8a72\u5f53\u306e\u30bb\u30eb\u306e\u3082\u306e\u3092\u62bd\u51fa\u3059\u308b\n    for targetView in receiptCollectionView.subviews {\n        if targetView is RecipeCell {\n            let cc: RecipeCell = targetView as! RecipeCell\n            if cc.tag == targetTag {\n\n                //\u8a72\u5f53\u306e\u30bb\u30eb\u3068\u305d\u306e\u4e2d\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u308bUIImage\u3092\u62bd\u51fa\u3059\u308b\n                targetCell = cc\n                targetImage = targetCell?.recipeImageView.image\n                break\n            }\n        }\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb    \n}\n```\n\n__2.\u305d\u308c\u305e\u308c\u306e\u72b6\u614b\u3054\u3068\u306e\u51e6\u7406\u5185\u5bb9\u3092\u8a18\u8f09\u3059\u308b__ \n\n\u4ee5\u964d\u306fsender\u306estate\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u72b6\u614b\u3092\u5143\u306b\u305d\u308c\u305e\u308c\u306e\u51e6\u7406\u3092\u8a18\u8f09\u3057\u3066\u3044\u304f\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\u305d\u308c\u305e\u308c\u306e\u72b6\u614b\u6642\u306b\u95a2\u3059\u308b\u51e6\u7406\u5185\u5bb9\u306e\u6982\u8981\u306f\u3001\n\n+ __UIGestureRecognizerState.began\uff08\u958b\u59cb\u6642\uff09\uff1a__\u6307\u306e\u52d5\u304d\u306b\u5408\u308f\u305b\u3066\u52d5\u304fUIImageView\u306e\u5909\u6570\u300cdraggableImageView\u300d\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u8868\u793a\u3084\u521d\u671f\u4f4d\u7f6e\u306e\u6c7a\u5b9a\u30fb\u8a72\u5f53\u306eUICollectionView\u306e\u30bb\u30eb\u306b\u914d\u7f6e\u3057\u305f\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u96a0\u3059\u51e6\u7406\n+ __UIGestureRecognizerState.changed\uff08\u6307\u3092\u52d5\u304b\u3057\u3066\u3044\u308b\u6642\uff09\uff1a__\u6307\u306e\u52d5\u304d\u306b\u5408\u308f\u305b\u3066\u300cdraggableImageView\u300d\u306e\u4f4d\u7f6e\u3092\u5909\u66f4\u3057\u3001\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\u3068\u306a\u308b\u4e0b\u90e8\u306b\u914d\u7f6e\u3057\u305f\u30dc\u30bf\u30f3\u3068\u91cd\u306a\u3063\u3066\u3044\u308b\u304b\u3092\u5224\u5b9a\u3059\u308b\u51e6\u7406\n+ __UIGestureRecognizerState.ended\uff08\u6307\u3092\u96e2\u3057\u305f\u6642\uff09\uff1a__\u6307\u306e\u96e2\u3057\u305f\u969b\u306e\u4f4d\u7f6e\u304c\u30d2\u30c3\u30c8\u30a8\u30ea\u30a2\u306b\u91cd\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u306b\u306e\u307f\u3001\u305d\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u9078\u629e\u3057\u305f\u72b6\u614b\u306b\u3057\u3066\u3001\u300cdraggableImageView\u300d\u306e\u4e2d\u3092\u6383\u9664\u3059\u308b\u51e6\u7406\n\n\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```swift:MakeRecipeController.swift\n//\u30bb\u30eb\u3092\u9577\u62bc\u3057\u3057\u305f\u969b(UILongPressGestureRecognizer\u3067\u5b9f\u884c\u3055\u308c\u305f\u969b)\u306b\u767a\u52d5\u3059\u308b\u51e6\u7406\nfunc longPressCell(sender: UILongPressGestureRecognizer) {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb \n    \n    //UILongPressGestureRecognizer\u304c\u958b\u59cb\u3055\u308c\u305f\u969b\u306e\u51e6\u7406\n    if sender.state == UIGestureRecognizerState.began {\n        \n        //\u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306aImageView\u3092\u4f5c\u6210\u3059\u308b\n        draggableImageView = UIImageView()\n        draggableImageView.contentMode = .scaleAspectFill\n        draggableImageView.clipsToBounds = true\n        draggableImageView.frame = CGRect(x: centerX, y: centerY, width: targetWidth, height:targetHeight)\n        \n        //\u5bfe\u8c61\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u53d6\u5f97\u3059\u308b\u51e6\u7406\u306b\u7f6e\u304d\u63db\u3048\u308b\n        draggableImageView.image = targetImage\n        self.view.addSubview(draggableImageView)\n\n        //\u30bb\u30eb\u5185\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u8868\u793a\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u3059\u308b\n        targetCell?.recipeImageView.isHidden = true\n\n    //UILongPressGestureRecognizer\u304c\u52d5\u4f5c\u4e2d\u306e\u969b\u306e\u51e6\u7406\n    } else if sender.state == UIGestureRecognizerState.changed {\n\n        //\u52d5\u3044\u305f\u5206\u306e\u8ddd\u96e2\u3092\u52a0\u7b97\u3059\u308b\n        draggableImageView.frame = CGRect(x: centerX, y: centerY, width: targetWidth, height:targetHeight)\n        \n        //\u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306aImageView\u3068\u3076\u3064\u304b\u308b\u7bc4\u56f2\u306e\u8a2d\u5b9a\n        let minX = dragAreaButton.frame.origin.x - targetWidth\n        let maxX = dragAreaButton.frame.origin.x + dragAreaButton.frame.size.width\n        let minY = dragAreaButton.frame.origin.y - targetHeight\n        let maxY = dragAreaButton.frame.origin.y + dragAreaButton.frame.size.height\n\n        if ((minX <= centerX && centerX <= maxX) && (minY <= centerY && centerY <= maxY)) {\n\n            //\u3076\u3064\u304b\u308b\u7bc4\u56f2\u5185\u306b\u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306aImageView\u304c\u3042\u308b\u5834\u5408\n            dragAreaButton.backgroundColor = ColorConverter.colorWithHexString(hex: WebColorLists.lightOrangeCode.rawValue)\n\n            isSelectedFlag = true\n\n        } else {\n\n            //\u3076\u3064\u304b\u308b\u7bc4\u56f2\u5185\u306b\u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306aImageView\u304c\u306a\u3044\u5834\u5408\n            dragAreaButton.backgroundColor = UIColor.lightGray\n            isSelectedFlag = false\n        }\n\n    //UILongPressGestureRecognizer\u304c\u7d42\u4e86\u3057\u305f\u969b\u306e\u51e6\u7406\n    } else if sender.state == UIGestureRecognizerState.ended {\n        \n        //\u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306aImageView\u3092\u524a\u9664\u3059\u308b\n        targetImage = nil\n        draggableImageView.image = nil\n        draggableImageView.removeFromSuperview()\n\n        //\u5bfe\u8c61\u306ecell\u306b\u3042\u308bImageView\u3092\u8868\u793a\n        targetCell?.recipeImageView.isHidden = false\n\n        //\u3076\u3064\u304b\u308b\u7bc4\u56f2\u306e\u57fa\u6e96\u3068\u306a\u308b\u30dc\u30bf\u30f3\u306e\u8272\u3092\u623b\u3059\n        dragAreaButton.backgroundColor = UIColor.lightGray\n        \n        if isSelectedFlag {\n\n            //\u30c7\u30fc\u30bf\u8ffd\u52a0\u306e\u969b\u306b\u306f\u4e00\u6642\u7684\u306bcollectionView\u3092\u9078\u629e\u4e0d\u53ef\u306b\u3057\u3066\u304a\u304f\n            receiptCollectionView.isPrefetchingEnabled = false\n\n            //\u767b\u9332\u3067\u304d\u308b\u6700\u5927\u6570\u4ee5\u4e0b\u306e\u5834\u5408\u306f\u9078\u629e\u6642\u306e\u51e6\u7406\u3092\u884c\u3046\n            if selectedDataList.count < RecipeSetting.recipeMaxCount {\n\n                //\u9078\u629e\u6e08\u307f\u30c7\u30fc\u30bf\u306b\u8ffd\u52a0\u3059\u308b\u51e6\u7406\u3092\u4f5c\u6210\u3059\u308b\n                selectedDataList.append(selectedData)\n\n                //CollectionView\u5185\u306e\u30c7\u30fc\u30bf\u30921\u4ef6\u524a\u9664\u3057\u3066\u66f4\u65b0\u3059\u308b\u51e6\u7406\u3092\u4f5c\u6210\u3059\u308b\n                apiDataList.remove(at: targetTag)\n\n                //\u30ec\u30b7\u30d4\u306e\u73fe\u5728\u9078\u629e\u6570\u3092\u8868\u793a\u3059\u308b\n                selectedRecipeCountLabel.text = MessageSetting.getCountRecipeMessage(count: selectedDataList.count)\n\n                //collectionView\u3092\u30ea\u30ed\u30fc\u30c9\u3059\u308b\n                receiptCollectionView.reloadData()\n            }\n        }\n\n        //\u9078\u629e\u72b6\u614b\u30d5\u30e9\u30b0\u3092\u30ea\u30bb\u30c3\u30c8\u3059\u308b\n        isSelectedFlag = false\n        receiptCollectionView.isPrefetchingEnabled = true\n    }\n}\n```\n\n\u4eca\u56de\u306e\u5b9f\u88c5\u306b\u95a2\u3057\u3066\u306f\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u52d5\u4f5c\u3092\u5229\u7528\u3057\u3066\u767b\u9332\u3057\u305f\u3044\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304f\u3088\u3046\u306a\u5f62\u306eUI\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u30e6\u30fc\u30b6\u30fc\u306e\u76f4\u611f\u7684\u306a\u52d5\u4f5c\u3092\u6d3b\u7528\u3057\u305f\u9078\u629e\u3084\u5165\u529b\u3092\u884c\u3046\u3088\u3046\u306a\u8868\u73fe\u3092UI\u306e\u30c7\u30b6\u30a4\u30f3\u3068\u5408\u308f\u305b\u3066\u52a0\u3048\u3066\u307f\u308b\u3068\u3001\u5c11\u3057\u30b2\u30fc\u30e0\u306e\u3088\u3046\u306a\u8981\u7d20\u3084\u611f\u899a\u304c\u52a0\u308f\u308b\u3053\u3068\u3082\u3042\u308b\u306e\u3067\u7d50\u69cb\u9762\u767d\u3044\u8868\u73fe\u304c\u3067\u304d\u305f\u308a\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3068\u611f\u3058\u307e\u3057\u305f\u3002\n\n###### \u26053-4. \u30ab\u30ec\u30f3\u30c0\u30fc\u90e8\u5206\u306e\u5b9f\u88c5\u306b\u95a2\u3059\u308b\u90e8\u5206\n\n\u30ab\u30ec\u30f3\u30c0\u30fc\u90e8\u5206\u306e\u8868\u793a\u306b\u95a2\u3057\u3066\u306f\u3001\u4eca\u56de\u306f\u73fe\u5728\u6708\u306e\u3082\u306e\u3060\u3051\u3092\u53d6\u5f97\u3059\u308b\u306e\u3067\u30dc\u30bf\u30f3\u306e\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\u4e0b\u8a18\u306e\u3088\u3046\u306aStruct\u30d5\u30a1\u30a4\u30eb\u3092\u5b9a\u7fa9\u3057\u3001\u795d\u796d\u65e5\u306e\u5224\u5b9a\u3084\u571f\u65e5\u306e\u30dc\u30bf\u30f3\u8272\u3084\u66dc\u65e5\u304c\u6c7a\u5b9a\u3057\u305f\u72b6\u614b\u306eUIButton\u306e\u914d\u5217\u3092\u8fd4\u3059\u3088\u3046\u306a\u51e6\u7406\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\u203b \u795d\u796d\u65e5\u306e\u5224\u5b9a\u30ed\u30b8\u30c3\u30af\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4f7f\u7528\u65b9\u6cd5\u306b\u95a2\u3057\u3066\u306fREADME\u3092\u3054\u53c2\u8003\u306b\u3057\u3066\u5b9f\u88c5\u3057\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002\n\n```CalendarView.swift\nimport UIKit\n\n//\u30ab\u30ec\u30f3\u30c0\u30fc\u914d\u7f6e\u7528\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b\u69cb\u9020\u4f53\nstruct CalendarView {\n    \n    //\u73fe\u5728\u65e5\u4ed8\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\n    static func getCalendarOfCurrentButtonList() -> [UIButton] {\n        \n        //\u5e74\u30fb\u6708\u30fb\u6700\u5f8c\u306e\u65e5\u3092\u53d6\u5f97\n        let values: (year: Int, month: Int, max: Int) = getCalendarOfCurrentValues()\n        let year  = values.year\n        let month = values.month\n        let max   = values.max\n\n        //\u30dc\u30bf\u30f3\u306e\u4e00\u89a7\u3092\u5165\u308c\u308b\u305f\u3081\u306e\u914d\u5217\n        var buttonArray: [UIButton] = []\n        \n        //\u795d\u796d\u65e5\u5224\u5b9a\u7528\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n        let holiday = CalculateCalendarLogic()\n        \n        for i in 1...max {\n\n            //\u30ab\u30ec\u30f3\u30c0\u30fc\u9078\u629e\u7528\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b\n            let button: UIButton = UIButton()\n            \n            //\u795d\u796d\u65e5\u306e\u5224\u5b9a\u3092\u884c\u3046\n            let holidayFlag = holiday.judgeJapaneseHoliday(year: year, month: month, day: i)\n            \n            //\u66dc\u65e5\u306e\u6570\u5024\u3092\u53d6\u5f97\u3059\u308b\uff080:\u65e5\u66dc\u65e5 ... 6:\u571f\u66dc\u65e5\uff09\n            let weekday = Weekday.init(year: year, month: month, day: i)\n            let weekdayValue = weekday?.rawValue\n            let weekdayString = weekday?.englishName\n            \n            //\u30bf\u30b0\u3068\u65e5\u4ed8\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n            button.setTitle(weekdayString! + \"\\n\" + String(i), for: UIControlState())\n            button.titleLabel!.font = UIFont(name: \"Arial\", size: 12)!\n            button.titleLabel!.numberOfLines = 2\n            button.titleLabel!.textAlignment = .center\n            button.tag = i\n            \n            //\u65e5\u66dc\u65e5or\u795d\u796d\u65e5\u306e\u5834\u5408\u306e\u8272\u8a2d\u5b9a\n            if weekdayValue! % 7 == 0 || holidayFlag == true {\n                \n                button.backgroundColor = UIColor(red: CGFloat(0.831), green: CGFloat(0.349), blue: CGFloat(0.224), alpha: CGFloat(1.0))\n\n            //\u571f\u66dc\u65e5\u306e\u5834\u5408\u306e\u8272\u8a2d\u5b9a\n            } else if weekdayValue! % 7 == 6 {\n                \n                button.backgroundColor = UIColor(red: CGFloat(0.400), green: CGFloat(0.471), blue: CGFloat(0.980), alpha: CGFloat(1.0))\n\n            //\u5e73\u65e5\u306e\u5834\u5408\u306e\u8272\u8a2d\u5b9a\n            } else {\n\n                button.backgroundColor = UIColor.lightGray\n            }\n\n            //\u8a2d\u5b9a\u3057\u305f\u30dc\u30bf\u30f3\u306e\u4e00\u89a7\u3092\u914d\u5217\u306b\u5165\u308c\u308b\n            buttonArray.append(button)\n        }\n        \n        return buttonArray\n    }\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n```\n\n\u73fe\u5728\u6708\u306b\u5bfe\u5fdc\u3059\u308b\u65e5\u4ed8\u30fb\u66dc\u65e5\u30fb\u795d\u796d\u65e5\u306e\u5b9a\u7fa9\u3057\u305f\u30dc\u30bf\u30f3\u4e00\u89a7\u306e\u914d\u5217\u3092\u4f5c\u6210\u3059\u308b\u30ed\u30b8\u30c3\u30af\u304c\u3067\u304d\u305f\u3089\u3001`override func viewDidLayoutSubviews()`\u5185\u3067\u5b9a\u7fa9\u3057\u305f\u30ab\u30ec\u30f3\u30c0\u30fc\u8868\u793a\u7528\u306eUIScrollView\u306e\u4e2d\u306e\u30b5\u30a4\u30ba\u3084\u8981\u7d20\u914d\u7f6e\u306e\u30ed\u30b8\u30c3\u30af\u306e\u4e2d\u3067\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```swift:MakeRecipeController.swift\n//\u30ec\u30a4\u30a2\u30a6\u30c8\u51e6\u7406\u304c\u5b8c\u4e86\u3057\u305f\u969b\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\noverride func viewDidLayoutSubviews() {\n    super.viewDidLayoutSubviews()\n    \n    //UIScrollView\u3078\u306e\u30dc\u30bf\u30f3\u914d\u7f6e\u3092\u884c\u3046 \u203bAutoLayout\u306eConstraint\u3092\u7528\u3044\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u969b\u306b\u306f\u52d5\u7684\u306b\u914d\u7f6e\u3059\u308b\u898b\u305f\u76ee\u8981\u7d20\u306f\u4e00\u5ea6\u3060\u3051\u5b9f\u884c\u3059\u308b\n    if layoutOnceFlag == false {\n        \n        //\u30b3\u30f3\u30c6\u30f3\u30c4\u7528\u306eScrollView\u3092\u521d\u671f\u5316\n        initScrollViewDefinition()\n\n        //\u30ab\u30ec\u30f3\u30c0\u30fc\u30dc\u30bf\u30f3\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n        let targetButtonList: [UIButton] = CalendarView.getCalendarOfCurrentButtonList()\n        \n        //\u30b9\u30af\u30ed\u30fc\u30eb\u30d3\u30e5\u30fc\u5185\u306e\u30b5\u30a4\u30ba\u3092\u6c7a\u5b9a\u3059\u308b\uff08AutoLayout\u3067\u914d\u7f6e\u3092\u884c\u3063\u305f\u5834\u5408\u3067\u3082\u3053\u306e\u90e8\u5206\u306f\u30b3\u30fc\u30c9\u3067\u8a2d\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\uff09\n        calendarScrollView.contentSize = CGSize(width: CGFloat(CalenderSetting.areaRect * targetButtonList.count), height: calendarScrollView.frame.height)\n        \n        //\u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u30d3\u30e5\u30fc\u5185\u306b\u30dc\u30bf\u30f3\u3092\u914d\u7f6e\u3059\u308b\n        for i in 0...(targetButtonList.count - 1) {\n            \n            //\u30e1\u30cb\u30e5\u30fc\u7528\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u30d3\u30e5\u30fc\u306b\u30dc\u30bf\u30f3\u3092\u914d\u7f6e\n            calendarScrollView.addSubview(targetButtonList[i])\n\n            //\u30b5\u30a4\u30ba\u306e\u6c7a\u5b9a\n            targetButtonList[i].frame.size = CGSize(width: CalenderSetting.buttonRect, height: CalenderSetting.buttonRect)\n\n            //\u4e2d\u5fc3\u4f4d\u7f6e\u306e\u6c7a\u5b9a\n            targetButtonList[i].center = CGPoint(x: CalenderSetting.centerPos + CalenderSetting.areaRect * i, y: CalenderSetting.centerPos)\n\n            //\u88c5\u98fe\u3068\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u6c7a\u5b9a\n            targetButtonList[i].layer.cornerRadius = CGFloat(CalenderSetting.buttonRadius)\n            targetButtonList[i].addTarget(self, action: #selector(MakeRecipeController.calendarButtonTapped(button:)), for: .touchUpInside)\n        }\n        \n        //\u4e00\u5ea6\u3060\u3051\u5b9f\u884c\u3059\u308b\u30d5\u30e9\u30b0\u3092\u6709\u52b9\u5316\n        layoutOnceFlag = true\n    }\n}\n```\n\n\u4eca\u56de\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u4f7f\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001`override func viewDidLayoutSubviews()`\u3067\u306e\u4f4d\u7f6e\u5b9a\u7fa9\u3068AutoLayout\u306e\u5236\u7d04\u5024\u3092\u5909\u66f4\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3(`layoutIfNeeded()`\u3092\u4f7f\u7528\u3059\u308b)\u304c\u6df7\u5728\u3059\u308b\u3088\u3046\u306a\u5834\u5408\u306b\u306f\u3001\u30d1\u30fc\u30c4\u306e\u521d\u671f\u914d\u7f6e\u7b49\u306e1\u5ea6\u3060\u3051\u5b9f\u884c\u3055\u308c\u308c\u3070\u826f\u3044\u51e6\u7406\u306b\u95a2\u3059\u308b\u8003\u616e\u3059\u308b\u3068\u3001AutoLayout\u3067\u306e\u914d\u7f6e\u3068viewDidLayoutSubviews\u5185\u306e\u30b3\u30fc\u30c9\u3092\u4f75\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u6ce8\u610f\u3057\u3066\u304a\u304f\u3068\u826f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n###### \u26053-5. \u305d\u306e\u4ed6\u8ab2\u984c\u306b\u95a2\u3057\u3066\n\n\u672c\u30b5\u30f3\u30d7\u30eb\u306b\u95a2\u3057\u3066\u306fKingFisher\u3067API\u304b\u3089\u53d6\u5f97\u3057\u305f\u753b\u50cfURL\u3092\u4f7f\u3063\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306b\u753b\u50cf\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n\n```swift:MakeRecipeController.swift\n//\u30bb\u30eb\u306b\u8868\u793a\u3059\u308b\u5024\u3092\u8a2d\u5b9a\u3059\u308b\ninternal func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -> UICollectionViewCell {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb    \n\n    //Kingfisher\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6d3b\u7528\u3057\u305f\u753b\u50cf\u30c7\u30fc\u30bf\u306e\u8a2d\u5b9a\n    let url = URL(string: targetData.image)\n    cell.recipeImageView.image = nil\n    cell.recipeImageView.kf.indicatorType = .activity\n    cell.recipeImageView.kf.setImage(with: url)\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n```\n\nUICollectionView\u306e\u8868\u793a\u306b\u95a2\u3057\u3066\u306f\u6b63\u3057\u304f\u5b9f\u884c\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001UILongPressGestureRecognizer\u304c\u767a\u52d5\u3055\u308c\u305f\u969b\u306e\u30e1\u30bd\u30c3\u30c9\u51e6\u7406\u3067\u3001\u753b\u50cf\u30c9\u30e9\u30c3\u30b0\u51e6\u7406\u304c\u59cb\u307e\u3063\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001\u9078\u3070\u308c\u305f\u30bb\u30eb\u3067\u306f\u306a\u3044\u30c7\u30fc\u30bf\u304c\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u7528\u306eUIImageView\u306b\u8868\u793a\u3055\u308c\u3066\u3057\u307e\u3046\u5834\u5408\u304c\u3054\u304f\u7a00\u306b\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u5ff5\u306e\u305f\u3081\u5171\u6709\u81f4\u3057\u307e\u3059\u3002\n\n\u3082\u3061\u308d\u3093\u539f\u56e0\u3084\u89e3\u6c7a\u65b9\u6cd5\u304c\u3064\u304b\u3081\u305f\u6bb5\u968e\u3067\u3053\u3061\u3089\u306e\u8a18\u4e8b\u306b\u3082\u8ffd\u8a18\u3092\u884c\u3044\u307e\u3059m(_ _)m\n\n## 4. \u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u767b\u9332\u6642\u306e\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u8868\u793a\u307e\u308f\u308a\u3068\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u9ad8\u3055\u5206\u306e\u8868\u793a\u306e\u8003\u616e\u90e8\u5206\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\n\n\u672c\u30b5\u30f3\u30d7\u30eb\u306e\u8a2d\u8a08\u3067\u306f\u3001\u30ec\u30b7\u30d4\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u3092\u767b\u9332\u3059\u308b\u969b\u306b\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u8868\u793a\u3067\u306e\u767b\u9332\u30d5\u30a9\u30fc\u30e0\u3092\u7528\u610f\u3059\u308b\u3088\u3046\u306a\u5f62\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u4e2d\u3067\u3082\u4eca\u56de\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u9ad8\u3055\u3092\u8003\u616e\u3057\u305f\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u4f4d\u7f6e\u306e\u8abf\u6574\u306b\u95a2\u3059\u308b\u51e6\u7406\u90e8\u5206\u3068Realm\u3092\u4f7f\u7528\u3057\u305f\u30c7\u30fc\u30bf\u306e\u767b\u9332\u51e6\u7406\u306b\u95a2\u3059\u308b\u90e8\u5206\u3092\u4e2d\u5fc3\u306b\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n###### \u26054-1. NotificationCenter\u3092\u5229\u7528\u3057\u3066\u30ad\u30fc\u30dc\u30fc\u30c9\u8868\u793a\u6642\u306b\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u9ad8\u3055\u3060\u3051\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3092\u305a\u3089\u3059\u90e8\u5206\n\n\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u306e\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u90e8\u5206\u3067\u306f\u30e1\u30e2\u3092\u5165\u529b\u3059\u308bUITextField\u3068\u767b\u9332\u30dc\u30bf\u30f3\u304c\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u4e0b\u306b\u3042\u308b\u305f\u3081\u3001\u9ad8\u3055\u304c\u5c0f\u3055\u306a\u7aef\u672b\u306e\u5834\u5408\u306b\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u3067\u3053\u306e\u90e8\u5206\u304c\u96a0\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u8868\u793a\u3057\u305f\u969b\u306b\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u5834\u6240\u3092\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u9ad8\u3055\u3060\u3051\u4e0a\u306b\u305a\u3089\u3057\u3066\u3042\u3052\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n![keyboard_observer_height.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/298d3239-2960-4ab7-962a-ac576495aa9d.jpeg)\n\n\u3053\u306e\u51e6\u7406\u306b\u95a2\u3057\u3066\u306f\u3001\u4eca\u56de\u306fNotificatonCenter\u3092\u5229\u7528\u3057\u3066\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u8868\u793a\u30fb\u975e\u8868\u793a\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u76e3\u8996\u3057\u3066\u7ba1\u7406\u3059\u308b\u65b9\u6cd5\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n+ __viewWillAppear\u306e\u30bf\u30a4\u30df\u30f3\u30b0\uff1a__ \u2192 \u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u901a\u77e5\u3092\u767b\u9332\uff08`addObserver`\u30e1\u30bd\u30c3\u30c9\u3092\u5229\u7528\u3057\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u958b\u9589\u51e6\u7406\u3092\u76e3\u8996\u5bfe\u8c61\u306b\u3059\u308b\uff09\n+ __viewWillDisappear\u306e\u30bf\u30a4\u30df\u30f3\u30b0\uff1a__ \u2192 \u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u901a\u77e5\u3092\u89e3\u9664\uff08`removeObserver`\u30e1\u30bd\u30c3\u30c9\u3092\u5229\u7528\u3057\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u958b\u9589\u51e6\u7406\u3092\u76e3\u8996\u5bfe\u8c61\u304b\u3089\u5916\u3059\uff09\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u8868\u793a\u306a\u3044\u3057\u306f\u975e\u8868\u793a\u304c\u59cb\u307e\u3063\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u30a4\u30d9\u30f3\u30c8\u306e\u76e3\u8996\u306b\u95a2\u3059\u308b\u51e6\u7406\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```swift:AddController.swift\n/* (Lifecycle Functions) */\n\noverride func viewWillAppear(_ animated: Bool) {\n    super.viewWillAppear(animated)\n\n    //\u901a\u77e5\uff08\u30ad\u30fc\u30dc\u30fc\u30c9\uff09\u306b\u95a2\u3059\u308b\u51e6\u7406\u3092\u767b\u9332\u3059\u308b\n    registerNotification()\n}\n\noverride func viewWillDisappear(_ animated: Bool) {\n    super.viewWillDisappear(animated)\n    \n    //\u901a\u77e5\uff08\u30ad\u30fc\u30dc\u30fc\u30c9\uff09\u306b\u95a2\u3059\u308b\u51e6\u7406\u3092\u89e3\u9664\u3059\u308b\n    unregisterNotification()\n}\n\n/* (Observer Functions) */\n\n//\u901a\u77e5\u767b\u9332\u51e6\u7406\nfunc registerNotification() {\n\n    //\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u958b\u9589\u6642\u306e\u901a\u77e5\u767b\u9332\u3092\u884c\u3046\n    let center: NotificationCenter = NotificationCenter.default\n    center.addObserver(self, selector: #selector(AddController.keyboardWillShow(notification:)), name: Notification.Name.UIKeyboardWillShow, object: nil)\n    center.addObserver(self, selector: #selector(AddController.keyboardWillHide(notification:)), name: Notification.Name.UIKeyboardWillHide, object: nil)\n}\n\n//\u901a\u77e5\u767b\u9332\u89e3\u9664\u51e6\u7406\nfunc unregisterNotification() {\n\n    //\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u958b\u9589\u6642\u306e\u901a\u77e5\u767b\u9332\u3092\u89e3\u9664\u3059\u308b\n    let center: NotificationCenter = NotificationCenter.default\n    center.removeObserver(self, name: Notification.Name.UIKeyboardWillShow, object: nil)\n    center.removeObserver(self, name: Notification.Name.UIKeyboardWillHide, object: nil)\n}\n\n//Keyboard\u8868\u793a\u524d\u51e6\u7406\nfunc keyboardWillShow(notification: Notification) {\n    movePopupPosition(notification: notification, showKeyboard: true)\n}\n\n//Keyboard\u975e\u8868\u793a\u524d\u51e6\u7406\nfunc keyboardWillHide(notification: Notification) {\n    movePopupPosition(notification: notification, showKeyboard: false)\n}\n```\n\n\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u958b\u9589\u306e\u901a\u77e5\u3092\u53d7\u3051\u53d6\u3063\u305f\u969b\u306b\u306f\u3001`movePopupPosition(notification: Notification, showKeyboard: Bool)`\u30e1\u30bd\u30c3\u30c9\u304c\u5b9f\u884c\u3055\u308c\u3066\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u9ad8\u3055\u3092\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u306b\u52a0\u7b97\u3057\u3066\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u5165\u529b\u304c\u5b8c\u4e86\u3057\u3066\u30ad\u30fc\u30dc\u30fc\u30c9\u304c\u96a0\u308c\u305f\u5834\u5408\u306b\u306f\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u5143\u306b\u623b\u3059\uff08\u30ad\u30fc\u30dc\u30fc\u30c9\u8868\u793a\u6642\u3068\u306f\u9006\u306e\u51e6\u7406\uff09\u51e6\u7406\u3092\u3059\u308c\u3070OK\u3067\u3059\u3002\n\n```swift:AddController.swift\nclass AddController: UIViewController, UITableViewDelegate, UITableViewDataSource, UITextFieldDelegate, SFSafariViewControllerDelegate {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    //\u521d\u56de\u30ad\u30fc\u30dc\u30fc\u30c9\u8868\u793a\u7528\u306e\u30e1\u30f3\u30d0\u5909\u6570\n    var lastKeyboardFrame: CGRect = CGRect.zero\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n    \n    //\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u4f4d\u7f6e\u88dc\u6b63\u3092\u884c\u3046\n    fileprivate func movePopupPosition(notification: Notification, showKeyboard: Bool) -> () {\n        \n        if showKeyboard {\n            \n            //keyboard\u306e\u30b5\u30a4\u30ba\u3092\u53d6\u5f97\n            var keyboardFrame: CGRect = CGRect.zero\n            if let userInfo = notification.userInfo {\n                if let keyboard = userInfo[UIKeyboardFrameEndUserInfoKey] as? NSValue {\n                    keyboardFrame = keyboard.cgRectValue\n                }\n            }\n\n            //\u524d\u306e\u8868\u793a\u6642\u306e\u30ad\u30fc\u30dc\u30fc\u30c9\u9ad8\u3055\u304c0(\u521d\u3081\u3066\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u8868\u793a\u3057\u305f)\u306e\u5834\u5408\u306b\u306f\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u4f4d\u7f6e\u3092\u305a\u3089\u3059\n            //\u203b \u30ad\u30fc\u30dc\u30fc\u30c9\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067\u6b21\u306e\u5165\u529b\u9805\u76ee\u306b\u79fb\u3063\u305f\u5834\u5408\u306f\u3053\u306e\u51e6\u7406\u3092\u884c\u308f\u306a\u3044\n            if lastKeyboardFrame.height == 0 {\n\n                lastKeyboardFrame = keyboardFrame\n                UIView.animate(withDuration: 0.26, delay: 0, options: UIViewAnimationOptions.curveEaseOut, animations:{\n\n                    //\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u5206\u3060\u3051\u4e0a\u306b\u305a\u3089\u3059\n                    self.popupView.center = CGPoint(x: DeviceSize.screenWidth() / 2, y: DeviceSize.screenHeight() / 2 - keyboardFrame.height)\n\n                }, completion: nil)\n            }\n            \n        } else {\n            \n            //\u30ad\u30fc\u30dc\u30fc\u30c9\u304c\u96a0\u308c\u305f\u5834\u5408\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n            UIView.animate(withDuration: 0.26, delay: 0, options: UIViewAnimationOptions.curveEaseOut, animations:{\n\n                //\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u5206\u3092\u5143\u306b\u623b\u3059\n                self.popupView.center = CGPoint(x: DeviceSize.screenWidth() / 2, y: DeviceSize.screenHeight() / 2)\n\n            }, completion: { finished in\n                self.lastKeyboardFrame = CGRect.zero\n            })\n        }\n    }\n}\n```\n\n\u4eca\u56de\u306e\u3088\u3046\u306b\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u958b\u9589\u306b\u95a2\u3059\u308b\u51e6\u7406\u3060\u3051\u3067\u306f\u306a\u304f\u3001UITextField\u3084UITextView\u306b\u3064\u3044\u3066\u3082\u5165\u529b\u958b\u59cb\u6642\u30fb\u30c6\u30ad\u30b9\u30c8\u5909\u66f4\u6642\u30fb\u7de8\u96c6\u7d42\u4e86\u6642\u306eNotification\u3092\u305d\u308c\u305e\u308c\u6301\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u30c6\u30ad\u30b9\u30c8\u306e\u5165\u529b\u306b\u95a2\u9023\u3059\u308b\u3088\u3046\u306a\u51e6\u7406\u306e\u4e2d\u3067\u3082UITextFieldDelegate / UITextViewDelegate\u3060\u3051\u3067\u306e\u5b9f\u88c5\u304c\u56f0\u96e3\u306a\u5834\u5408\u306b\u6d3b\u7528\u3067\u304d\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n###### \u26054-2. \u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf(Archive.swift)\u3068\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf(Recipe.swift)\u3067\u5b9a\u7fa9\u3057\u305f\u30c7\u30fc\u30bf\u30921:n\u306e\u95a2\u4fc2\u3067\u4fdd\u5b58\u3059\u308b\u90e8\u5206\n\n\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u306bRealm\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u30011\u3064\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u8907\u6570\u306e\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u304c\u7d10\u3065\u304f\u3088\u3046\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u306e\u69cb\u6210\u3092\u53d6\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n![realm_definition.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/200ef4a9-0ec7-6dfd-a444-dab7456aa6de.jpeg)\n\n\u307e\u305f\u305d\u308c\u305e\u308c\u306e\u30af\u30e9\u30b9\u306e\u4e2d\u306b\u767b\u9332\u30fb\u524a\u9664\u30fb\u30c7\u30fc\u30bf\u306e\u30d5\u30a7\u30c3\u30c1\u306b\u95a2\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3084\u30d7\u30e9\u30a4\u30de\u30ea\u30ad\u30fc\u7b49\u306e\u5404\u7a2e\u8a2d\u5b9a\u3082\u884c\u306a\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\n__Archive.swift\uff08\u30ec\u30b7\u30d4\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u306b\u95a2\u3059\u308b\u30af\u30e9\u30b9\uff09\uff1a__\n\n```swift:Archive.swift\nimport Foundation\nimport RealmSwift\n\nclass Archive: Object {\n    \n    //Realm\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n    static let realm = try! Realm()\n    \n    //id\n    dynamic var id = 0\n    \n    //\u30e1\u30e2\n    dynamic var memo = \"\"\n\n    //\u767b\u9332\u65e5\n    dynamic var created = Date(timeIntervalSince1970: 0)\n\n    //PrimaryKey\u306e\u8a2d\u5b9a\n    override static func primaryKey() -> String? {\n        return \"id\"\n    }\n    \n    //\u30d7\u30e9\u30a4\u30de\u30ea\u30ad\u30fc\u306e\u4f5c\u6210\u30e1\u30bd\u30c3\u30c9\n    static func getLastId() -> Int {\n        if let archive = realm.objects(Archive.self).last {\n            return archive.id + 1\n        } else {\n            return 1\n        }\n    }\n\n    //\u65b0\u898f\u8ffd\u52a0\u7528\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u30e1\u30bd\u30c3\u30c9\n    static func create() -> Archive {\n        let archive = Archive()\n        archive.id = self.getLastId()\n        return archive\n    }\n\n    //\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4fdd\u5b58\u7528\u30e1\u30bd\u30c3\u30c9\n    func save() {\n        try! Archive.realm.write {\n            Archive.realm.add(self)\n        }\n    }\n\n    //\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u524a\u9664\u7528\u30e1\u30bd\u30c3\u30c9\n    func delete() {\n        try! Archive.realm.write {\n            Archive.realm.delete(self)\n        }\n    }\n\n    //\u767b\u9332\u65e5\u9806\u306e\u30c7\u30fc\u30bf\u306e\u5168\u4ef6\u53d6\u5f97\u3092\u3059\u308b\n    static func fetchAllCalorieListSortByDate() -> [Archive] {\n        let archives = realm.objects(Archive.self).sorted(byProperty: \"created\", ascending: false)\n        var archiveList: [Archive] = []\n        for archive in archives {\n            archiveList.append(archive)\n        }\n        return archiveList\n    }\n}\n```\n\n__Recipe.swift\uff08\u30ec\u30b7\u30d4\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u306b\u7d10\u3065\u304f\u9078\u629e\u3057\u305f\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u306b\u95a2\u3059\u308b\u30af\u30e9\u30b9\uff09\uff1a__\n\n```swift:Recipe.swift\nimport Foundation\nimport RealmSwift\n\nclass Recipe: Object {\n    \n    //Realm\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n    static let realm = try! Realm()\n\n    //id\n    dynamic fileprivate var id = 0\n\n    //archive_id\n    dynamic var archive_id = 0\n\n    //\u697d\u5929\u30ec\u30b7\u30d4id\n    dynamic var rakuten_id = \"\"\n\n    //\u697d\u5929\u30ec\u30b7\u30d4\u8abf\u7406\u6642\u9593\u306e\u3081\u3084\u3059\n    dynamic var rakuten_indication = \"\"\n\n    //\u697d\u5929\u30ec\u30b7\u30d4\u516c\u958b\u65e5\n    dynamic var rakuten_published = \"\"\n\n    //\u697d\u5929\u30ec\u30b7\u30d4\u30bf\u30a4\u30c8\u30eb\n    dynamic var rakuten_title = \"\"\n\n    //\u697d\u5929\u30ec\u30b7\u30d4\u753b\u50cfURL\n    dynamic var rakuten_image = \"\"\n\n    //\u697d\u5929\u30ec\u30b7\u30d4URL\n    dynamic var rakuten_url = \"\"\n\n    //PrimaryKey\u306e\u8a2d\u5b9a\n    override static func primaryKey() -> String? {\n        return \"id\"\n    }\n    \n    //\u30d7\u30e9\u30a4\u30de\u30ea\u30ad\u30fc\u306e\u4f5c\u6210\u30e1\u30bd\u30c3\u30c9\n    static func getLastId() -> Int {\n        if let recipe = realm.objects(Recipe.self).last {\n            return recipe.id + 1\n        } else {\n            return 1\n        }\n    }\n\n    //\u65b0\u898f\u8ffd\u52a0\u7528\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u30e1\u30bd\u30c3\u30c9\n    static func create() -> Recipe {\n        let recipe = Recipe()\n        recipe.id = self.getLastId()\n        return recipe\n    }\n    \n    //\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4fdd\u5b58\u7528\u30e1\u30bd\u30c3\u30c9\n    func save() {\n        try! Recipe.realm.write {\n            Recipe.realm.add(self)\n        }\n    }\n\n    //\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u524a\u9664\u7528\u30e1\u30bd\u30c3\u30c9\n    func delete() {\n        try! Recipe.realm.write {\n            Recipe.realm.delete(self)\n        }\n    }\n\n    //\u30a2\u30fc\u30ab\u30a4\u30d6ID\u306b\u7d10\u3065\u304f\u30c7\u30fc\u30bf\u3092\u5168\u4ef6\u53d6\u5f97\u3092\u3059\u308b\n    static func fetchAllRecipeListByArchiveId(archive_id: Int) -> [Recipe] {\n        let recipes = realm.objects(Recipe.self).filter(\"archive_id = %@\", archive_id).sorted(byProperty: \"id\", ascending: true)\n        var recipeList: [Recipe] = []\n        for recipe in recipes {\n            recipeList.append(recipe)\n        }\n        return recipeList\n    }\n}\n```\n\n\u4eca\u56de\u306f__1:n(\u591a\u6570)__\u306e\u95a2\u9023\u6027\u3092\u6301\u305f\u305b\u308b\u305f\u3081\u306b`Recipe.swift`\u306e\u30af\u30e9\u30b9\u5185\u306b`archive_id`\u3068\u3044\u3046\u30ab\u30e9\u30e0\u3092\u5b9a\u7fa9\u3057\u3066\u51e6\u7406\u306e\u4e2d\u3067\u7d10\u4ed8\u3051\u304c\u884c\u3048\u308b\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002\n\n\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u5185\u306e\u767b\u9332\u30dc\u30bf\u30f3\u62bc\u4e0b\u6642\u306e\u51e6\u7406\u306b\u95a2\u3057\u3066\u306f\u3001\u4e0b\u8a18\u306e\u30b3\u30fc\u30c9\u306e\u3088\u3046\u306b\u307e\u305a\u306f\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u3092\u307e\u305a\u306f1\u4ef6\u767b\u9332\u3092\u884c\u3063\u305f\u5f8c\u306b\u3001\u9078\u629e\u3057\u305f\u8907\u6570\u306e\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u9806\u6b21\u767b\u9332\u3059\u308b\u5f62\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n```swift:AddController.swift\n//\u30ec\u30b7\u30d4\u3092\u767b\u9332\u3059\u308b\u6642\u306e\u30a2\u30af\u30b7\u30e7\u30f3\n@IBAction func saveRecipeAction(_ sender: UIButton) {\n\n    //\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u9589\u3058\u308b\n    view.endEditing(true)\n\n    //\u30dc\u30bf\u30f3\u3092\u975e\u6d3b\u6027\u72b6\u614b\u306b\u3059\u308b\n    closeButton.isEnabled = false\n    saveButton.isEnabled = false\n\n    //Realm\u306b\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3057\u3066\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3092\u9589\u3058\u308b\n    saveArchiveData()\n    removeAnimatePopup()\n}\n\n//Realm\u3078\u306e\u4fdd\u5b58\u51e6\u7406\u3092\u884c\u3046(Archive:1\u4ef6\u30fbRecipe:n\u4ef6)\nfileprivate func saveArchiveData() {\n\n    //Realm\u3078\u306e\u767b\u9332\u51e6\u7406\n    let archiveObject = Archive.create()\n    let archive_id = Archive.getLastId()\n    archiveObject.memo = memoTextField.text!\n    archiveObject.created = DateConverter.convertStringToDate(dateTextField.text)\n    archiveObject.save()\n    \n    for targetData in targetSelectedDataList {\n        let recipeObject = Recipe.create()\n        recipeObject.archive_id = archive_id\n        recipeObject.rakuten_id = targetData.id\n        recipeObject.rakuten_indication = targetData.indication\n        recipeObject.rakuten_published = targetData.published\n        recipeObject.rakuten_title = targetData.title\n        recipeObject.rakuten_image = targetData.image\n        recipeObject.rakuten_url = targetData.url\n        recipeObject.save()\n    }\n}\n```\n\n\u5c11\u3057\u5f37\u5f15\u306a\u30b3\u30fc\u30c9\u306b\u306f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u304c\u3001\u4eca\u307e\u3067\u306b\u6163\u308c\u89aa\u3057\u3093\u3060Rails\u306eActiveRecord\u3084\u305d\u306e\u4ed6\u306eORM\u306e\u611f\u899a\u306b\u8fd1\u3057\u3044\u611f\u899a\u3067\u51e6\u7406\u3092\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u308b\u70b9\u3084\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3084\u305d\u306e\u4ed6\u30b5\u30dd\u30fc\u30c8\u306e\u5145\u5b9f\u3076\u308a\u306f\u3001\u672c\u5f53\u306bRealm\u3092\u4f7f\u7528\u3057\u3066\u826f\u304b\u3063\u305f\u3068\u611f\u3058\u308b\u90e8\u5206\u306e1\u3064\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\n## 5. \u30ec\u30b7\u30d4\u30a2\u30fc\u30ab\u30a4\u30d6\u30da\u30fc\u30b8\u304b\u3089\u306e\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u6d3b\u7528\u3057\u305f\u753b\u9762\u30b5\u30a4\u30ba\u306b\u5408\u308f\u305b\u3066\u9077\u79fb\u3092\u3059\u308b\u90e8\u5206\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\n\n\u30e1\u30cb\u30e5\u30fc\u53f3\u5074\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b\u3068\u3001\u73fe\u5728\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ec\u30b7\u30d4\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u306e\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\uff08\u30bb\u30eb\u5168\u4f53\u306b\u304b\u304b\u308b\u80cc\u666f\u753b\u50cf\u306f\u767b\u9332\u3057\u305f\u30ec\u30b7\u30d4\u306b\u304a\u3044\u3066\u6700\u521d\u306e\u753b\u50cf\u3092\u8868\u793a\uff09\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u30bb\u30eb\u5185\u306b\u306f\u53f3\u4e0b\u306b2\u3064\u306e\u30dc\u30bf\u30f3\u304c\u914d\u7f6e\u3057\u3066\u3042\u308a\u3001\n\n+ __\u30ec\u30b7\u30d4\u4e00\u89a7\u3078\uff1a__ \u2192 \u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u306b\u7d10\u3065\u304f\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u306e\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\n+ __\u524a\u9664\u3059\u308b\uff1a__ \u2192 \u524a\u9664\u78ba\u8a8d\u306e\u30a2\u30e9\u30fc\u30c8\u304c\u8868\u793a\u3055\u308c\u3067OK\u3092\u9078\u3076\u3068\u8a72\u5f53\u30c7\u30fc\u30bf\u306e\u524a\u9664\n\n\u3068\u3044\u3046\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\n###### \u26055-1. \u30a2\u30fc\u30ab\u30a4\u30d6\u30da\u30fc\u30b8 \u2192 \u767b\u9332\u30ec\u30b7\u30d4\u4e00\u89a7\u8868\u793a \u2192 \u767b\u9332\u30ec\u30b7\u30d4\u8a73\u7d30\u8868\u793a\u306e\u4e00\u9023\u306e\u6d41\u308c\u306e\u8a2d\u8a08\u90e8\u5206\n\n\u3053\u306e\u90e8\u5206\u3082\u9077\u79fb\u306b\u95a2\u3059\u308b\u8a2d\u8a08\u3084\u9077\u79fb\u6642\u306e\u8868\u73fe\u304c\u306a\u304b\u306a\u304b\u6574\u7406\u3057\u306b\u304f\u304b\u3063\u305f\u306e\u3067\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u3067\u753b\u9762\u306e\u52d5\u304d\u3084\u30a2\u30a4\u30c7\u30a2\u3092\u7c21\u5358\u306a\u30e9\u30d5\u30b9\u30b1\u30c3\u30c1\u3092\u884c\u306a\u3063\u3066\u3001\u5b9f\u969b\u306e\u8868\u73fe\u30a4\u30e1\u30fc\u30b8\u3084\u5b9f\u88c5\u65b9\u91dd\u3092\u56fa\u3081\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n![gallery_rough.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/7263b1a4-1a76-f638-baee-f44950ba64ce.jpeg)\n\n###### \u26055-2. \u30a2\u30fc\u30ab\u30a4\u30d6\u30da\u30fc\u30b8\u306e\u30af\u30ed\u30fc\u30b8\u30e3\u30fc\u3092\u5229\u7528\u3057\u305f\u30bb\u30eb\u5185\u306e\u30dc\u30bf\u30f3\u306b\u95a2\u3059\u308b\u90e8\u5206\n\n\u3053\u306e\u90e8\u5206\u306f__UITableView\u306b\u8868\u793a\u3057\u3066\u3044\u308b\u30bb\u30eb\u306e\u30af\u30e9\u30b9\u3068Xib\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3057\u305f\u5f62__\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u4e2d\u3067\u30bb\u30eb\u306e\u30af\u30e9\u30b9\u5185\u3067\u5b9a\u7fa9\u3057\u305f\u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u4ecb\u3057\u3066\u3001UITableView\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u5074\u306e\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u3001\u30bb\u30eb\u306e\u30af\u30e9\u30b9\u5185\u306b\u30af\u30ed\u30fc\u30b8\u30e3\u30fc\u5909\u6570\u3092\u7528\u610f\u3057\u3066\u51e6\u7406\u306e\u6a4b\u6e21\u3057\u3092\u884c\u3044\u307e\u3059\u3002\n\n![archive_button_logic.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/66149929-c543-6dc8-9223-71f04209b63a.jpeg)\n\n__\u30bb\u30eb\u5074\uff08ArchiveCell.swift\uff09\uff1a__\n\n```swift:ArchiveCell.swift\nclass ArchiveCell: UITableViewCell {\n\n    //ArchiveRecipeController.swift\u3078\u51e6\u7406\u5185\u5bb9\u3092\u5f15\u304d\u6e21\u3059\u305f\u3081\u306e\u30af\u30ed\u30fc\u30b8\u30e3\u30fc\u3092\u8a2d\u5b9a\n    var showGalleryClosure: (() -> ())?\n    var deleteArchiveClosure: (() -> ())?\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    /* (Button Actions) */\n\n    //\u300c\u30ec\u30b7\u30d4\u4e00\u89a7\u3078\u300d\u30dc\u30bf\u30f3\u62bc\u4e0b\u6642\u306e\u30a2\u30af\u30b7\u30e7\u30f3\n    @IBAction func showRecipeGalleryAction(_ sender: UIButton) {\n        showGalleryClosure!()\n    }\n\n    //\u300c\u524a\u9664\u3059\u308b\u300d\u30dc\u30bf\u30f3\u62bc\u4e0b\u6642\u306e\u30a2\u30af\u30b7\u30e7\u30f3\n    @IBAction func deleteRecipeAction(_ sender: UIButton) {\n        deleteArchiveClosure!()\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n```\n\n__\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u914d\u7f6e\u5074\uff08ArchiveRecipeController.swift\uff09\uff1a__\n\n```swift:ArchiveRecipeController.swift\n//\u8868\u793a\u3059\u308b\u30bb\u30eb\u306e\u4e2d\u8eab\u3092\u8a2d\u5b9a\u3059\u308b\ninternal func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {\n    \n    //Xib\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\u3059\u308b\n    let cell = tableView.dequeueReusableCell(withIdentifier: \"ArchiveCell\") as? ArchiveCell\n\n    //\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u304c\u7a7a\u3067\u306a\u3051\u308c\u3070\u30bb\u30eb\u306b\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3059\u308b\n    if !archiveList.isEmpty {\n\n        //\u8a72\u5f53\u306eArchive\u30c7\u30fc\u30bf\u3068\u305d\u308c\u306b\u7d10\u3065\u304fRecipe\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\n        let archiveData = archiveList[indexPath.row]\n        let recipes: [Recipe] = Recipe.fetchAllRecipeListByArchiveId(archive_id: archiveData.id)\n\n        //1\u679a\u76ee\u306e\u753b\u50cf\u3092\u898b\u305b\u3066\u304a\u304f\u3088\u3046\u306b\u3059\u308b\n        let url = URL(string: (recipes.first?.rakuten_image)!)\n        cell?.archiveImageView.kf.indicatorType = .activity\n        cell?.archiveImageView.kf.setImage(with: url)\n\n        //\u30ec\u30b7\u30d4\u30ae\u30e3\u30e9\u30ea\u30fc\u4e00\u89a7\u30da\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\n        cell?.showGalleryClosure = {\n\n            //\u9077\u79fb\u5143\u304b\u3089\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u7528\u306eGalleryController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3059\u308b\n            let galleryVC = UIStoryboard(name: \"Gallery\", bundle: nil).instantiateViewController(withIdentifier: \"GalleryController\") as! GalleryController\n            \n            //\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u7528\u306eViewConroller\u3092\u8a2d\u5b9a\u3057\u3001modalPresentationStyle(= .overCurrentContext)\u3068\u80cc\u666f\u8272(= UIColor.clear)\u3092\u8a2d\u5b9a\u3059\u308b\n            galleryVC.modalPresentationStyle = .overCurrentContext\n            galleryVC.view.backgroundColor = UIColor.clear\n            \n            //\u5909\u6570\u306e\u53d7\u3051\u6e21\u3057\u3092\u884c\u3046\n            galleryVC.recipeData = recipes\n            \n            //\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u7528\u306eViewController\u3078\u9077\u79fb\n            self.present(galleryVC, animated: false, completion: nil)\n        }\n\n        //\u30c7\u30fc\u30bf\u8868\u793a\u7528\u306eUIAlertController\u3092\u8868\u793a\u3059\u308b\n        cell?.deleteArchiveClosure = {\n\n            //\u30c7\u30fc\u30bf\u524a\u9664\u306e\u78ba\u8a8d\u7528\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3092\u8868\u793a\u3059\u308b\n            let deleteAlert = UIAlertController(\n                title: \"\u30c7\u30fc\u30bf\u524a\u9664\",\n                message: \"\u3053\u306e\u30c7\u30fc\u30bf\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f(\u524a\u9664\u3092\u3059\u308b\u5834\u5408\u306b\u306f\u3053\u306e\u30c7\u30fc\u30bf\u306b\u7d10\u3065\u304f\u30ec\u30b7\u30d4\u30c7\u30fc\u30bf\u3082\u4e00\u7dd2\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3002)\",\n                preferredStyle: UIAlertControllerStyle.alert\n            )\n            deleteAlert.addAction(\n                UIAlertAction(\n                    title: \"OK\",\n                    style: UIAlertActionStyle.default,\n                    handler: { (action: UIAlertAction!) in\n\n                        //Realm\u304b\u3089\u8a72\u5f53\u30c7\u30fc\u30bf\u30921\u4ef6\u524a\u9664\u3059\u308b\u51e6\u7406\n                        for recipe in recipes {\n                            recipe.delete()\n                        }\n                        archiveData.delete()\n\n                        //\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u306e\u518d\u30bb\u30c3\u30c8\u3092\u884c\u3046\n                        self.archiveList = Archive.fetchAllCalorieListSortByDate()\n                })\n            )\n            deleteAlert.addAction(\n                UIAlertAction(\n                    title: \"\u30ad\u30e3\u30f3\u30bb\u30eb\",\n                    style: UIAlertActionStyle.cancel,\n                    handler: nil\n                )\n            )                \n            self.present(deleteAlert, animated: true, completion: nil)\n        }\n        \n        //\u30a2\u30fc\u30ab\u30a4\u30d6\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\n        cell?.archiveDate.text = DateConverter.convertDateToString(archiveData.created)\n        cell?.archiveMemo.text = archiveData.memo\n    }\n\n    cell?.accessoryType = UITableViewCellAccessoryType.none\n    cell?.selectionStyle = UITableViewCellSelectionStyle.none\n    return cell!\n}\n```\n\n\u3053\u306e\u65b9\u6cd5\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30bb\u30eb\u5074\u306e\u51e6\u7406\u3068UITableView\u914d\u7f6e\u5074\u306e\u51e6\u7406\u3092\u3042\u308b\u7a0b\u5ea6\u5206\u5272\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3057\u3001\u3082\u3057\u30bb\u30eb\u5074\u306e\u51e6\u7406\u3067\u5f97\u305f\u5024\u3092\u6d3b\u7528\u3059\u308b\u51e6\u7406\u3092UITableView\u914d\u7f6e\u5074\u3067\u884c\u3044\u305f\u3044\u3088\u3046\u306a\u5834\u5408\u3067\u3082\u5bfe\u5fdc\uff08\u30af\u30ed\u30fc\u30b8\u30e3\u30fc\u306b\u5f15\u6570\u306e\u578b\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u5bfe\u5fdc\uff09\u3067\u304d\u308b\u306e\u3067\u3001\u79c1\u304c\u30b5\u30f3\u30d7\u30eb\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u306b\u6700\u8fd1\u3067\u306f\u3053\u306e\u624b\u6cd5\u3092\u7528\u3044\u308b\u3053\u3068\u304c\u591a\u3044\u3067\u3059\u3002\n\n###### \u26055-3. \u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u6d3b\u7528\u3057\u305f\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u62e1\u5927\u30fb\u7e2e\u5c0f\u306b\u5408\u308f\u305b\u305f\u753b\u9762\u9077\u79fb\u306e\u90e8\u5206\n\n\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u9069\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30ec\u30b7\u30d4\u306e\u4e00\u89a7\u304b\u3089\u8a73\u7d30\u3078\u306e\u9077\u79fb\u306e\u969b\u306b\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u6bd4\u7387\u3084`contentMode`\u306e\u5024\u306e\u72b6\u614b\u3092\u4fdd\u3063\u305f\u307e\u307e\u3001\u30bf\u30c3\u30d7\u3057\u305f\u753b\u50cf\u306e\u4f4d\u7f6e\u304b\u3089\u753b\u50cf\u304c\u62e1\u5927\u3092\u3057\u3066\u753b\u9762\u3044\u3063\u3071\u3044\u306b\n\u8868\u793a\u3055\u308c\u308b\u3001\u4e0b\u8a18\u306e\u30a4\u30e1\u30fc\u30b8\u306e\u3088\u3046\u306a\u5f62\u306e\u9077\u79fb\u3092\u8003\u3048\u307e\u3057\u305f\u3002\n\n![custom_transition_imageview.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/5875f28d-32bb-b95c-037b-33f995419924.jpeg)\n\n\u30b5\u30e0\u30cd\u30a4\u30eb\u306e\u6bd4\u7387\u5b9a\u7fa9\u3084UIScrollView\u3078\u306e\u30ec\u30b7\u30d4\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u4e00\u89a7\u3092\u914d\u7f6e\u3059\u308b\u51e6\u7406\u306b\u95a2\u3057\u3066\u306f`GalleryController.swift`\u5185\u306e`override func viewDidLayoutSubviews()`\u5185\u3092\u53c2\u7167\u3057\u3066\u3044\u305f\u3060\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u307e\u305f\u3001\u914d\u7f6e\u3057\u305f\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306eUIImageView\u306b\u306fTapGestureRecognizer\u3092\u4ed8\u4e0e\u3057\u3066\u304a\u304d\u3001\u4e00\u89a7\u304b\u3089\u8a73\u7d30\u3078\u9077\u79fb\u3059\u308b\u305f\u3081\u306e\u30c8\u30ea\u30ac\u30fc\u3068\u306a\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\uff08\u8a73\u7d30\u753b\u9762\u306b\u914d\u7f6e\u3057\u305f\u753b\u9762\u3044\u3063\u3071\u3044\u306eUIImageView\u306b\u95a2\u3057\u3066\u3082\u540c\u69d8\u306e\u5bfe\u5fdc\u3092\u884c\u3044\u307e\u3059\uff09\n\nGalleryController.swift\u306b\u304a\u3044\u3066TapGestureRecognizer\u304c\u767a\u52d5\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u306e\u306f`expandThumbnail(sender: UITapGestureRecognizer)`\u30e1\u30bd\u30c3\u30c9\u306b\u306a\u308a\u3001GalleryDetailController.swift\u3067\u306f`backThumbnail(sender: UITapGestureRecognizer)`\u3068\u306a\u308a\u307e\u3059\u3002\n\n###### \u26055-4. \u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\u30b3\u30fc\u30c9\u90e8\u5206\n\n\u4e0a\u8a18\u306e\u5185\u5bb9\u3092\u8003\u616e\u3057\u3066\u51e6\u7406\u3084\u72b6\u614b\u7ba1\u7406\u306e\u6982\u8981\u3084\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\u306b\u306a\u308b\u9805\u76ee\u3092\u6574\u7406\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u9077\u79fb\u306e\u65b9\u5411\u3092\u6c7a\u3081\u308b\u305f\u3081\u306e\u30e1\u30f3\u30d0\u5909\u6570`var presenting: Bool`\u3092\u7528\u610f\u3057\u3066\u304a\u304d\u3001\u3053\u306e\u5024\u3092\u6301\u3063\u3066\u9077\u79fb\u306e\u65b9\u5411\u3092\u6c7a\u3081\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n![custom_transition_matome.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/cac6073b-10ef-a898-b8b5-f2b334183f5b.jpeg)\n\n\u307e\u305a\u306f\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306b\u95a2\u3059\u308b\u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8(`transitionContext`)\u3092\u5143\u306b\u9077\u79fb\u5143\u30fb\u9077\u79fb\u5148\u306eView\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97\u3057\u3001\u30e1\u30f3\u30d0\u5909\u6570`originalFrame`\u306b\u306f\u30bf\u30c3\u30d7\u3057\u305f\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u4f4d\u7f6e\u3084\u30b5\u30a4\u30ba\u306e\u60c5\u5831\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002\n\n\u305d\u3057\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u3067\u62e1\u5927\u30fb\u7e2e\u5c0f\u306e\u6bd4\u7387\u3092\u8a08\u7b97\u3067\u6c7a\u5b9a\u3057\u305f\u4e0a\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u4f34\u3063\u3066\u52d5\u304b\u3059\u3088\u3046\u306b\u3001`animateTransition(using transitionContext: UIViewControllerContextTransitioning)`\u5185\u306e\u51e6\u7406\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n+ __presented\uff1a__ \u2192 \u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u5927\u304d\u3055\u304b\u3089\u753b\u9762\u5168\u4f53\u306e\u5927\u304d\u3055\u306b\u306a\u308b\u3088\u3046\u306b\u3059\u308b\n+ __dismissed\uff1a__ \u2192 \u753b\u9762\u5168\u4f53\u306e\u5927\u304d\u3055\u304b\u3089\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u5927\u304d\u3055\u306b\u306a\u308b\u3088\u3046\u306b\u3059\u308b\n\n\u203b \u53c2\u8003\u306b\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u5185\u3067\u306f\u30d0\u30cd\u306e\u3088\u3046\u306a\u52d5\u304d\u3092\u5165\u308c\u3066\u3044\u307e\u3057\u305f\u304c\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u4eca\u56de\u306e\u753b\u9762\u30c7\u30b6\u30a4\u30f3\u7684\u306b\u3061\u3087\u3063\u3068\u5408\u308f\u306a\u3044\u611f\u3058\u304c\u3057\u305f\u306e\u3067\u3001\u305d\u306e\u90e8\u5206\u306e\u51e6\u7406\u306f\u9664\u5916\u3057\u3066\u3044\u307e\u3059\u3002\n\n```swift:CustomTransition.swift\nimport UIKit\n\nclass CustomTransition: NSObject, UIViewControllerAnimatedTransitioning {\n\n    //\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306e\u79d2\u6570\n    let duration      = 0.18\n\n    //\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306e\u65b9\u5411(present: true, dismiss: false)\n    var presenting    = true\n\n    //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5bfe\u8c61\u306a\u308b\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u4f4d\u7f6e\u3084\u30b5\u30a4\u30ba\u60c5\u5831\u3092\u683c\u7d0d\u3059\u308b\u30e1\u30f3\u30d0\u5909\u6570\n    var originalFrame = CGRect.zero\n    \n    //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u3092\u5b9a\u7fa9\u3059\u308b\n    internal func transitionDuration(using transitionContext: UIViewControllerContextTransitioning?) -> TimeInterval {\n        return duration\n    }\n    \n    /**\n     * \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\u3092\u5b9a\u7fa9\u3059\u308b\n     * \u3053\u306e\u5834\u5408\u306b\u306f\u753b\u9762\u9077\u79fb\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\uff08UIViewControllerContextTransitioning\u3092\u63a1\u7528\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff09\n     * \u2192 \u9077\u79fb\u5143\u3084\u9077\u79fb\u5148\u306eViewController\u3084\u305d\u306e\u307b\u304b\u95a2\u9023\u3059\u308b\u60c5\u5831\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u3082\u306e\n     */\n    internal func animateTransition(using transitionContext: UIViewControllerContextTransitioning) {\n\n        //\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u5143\u306bView\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97\u3059\u308b\uff08\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\u51e6\u7406\u3092\u7d42\u4e86\uff09\n        guard let fromView = transitionContext.view(forKey: UITransitionContextViewKey.from) else {\n            return\n        }\n\n        guard let toView = transitionContext.view(forKey: UITransitionContextViewKey.to) else {\n            return\n        }\n\n        //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u614b\u3068\u306a\u308b\u30b3\u30f3\u30c6\u30ca\u30d3\u30e5\u30fc\u3092\u4f5c\u6210\n        let containerView = transitionContext.containerView\n\n        //\u9077\u79fb\u5148\u306eViewController\u30fb\u59cb\u3081\u3068\u7d42\u308f\u308a\u306eView\u306e\u30b5\u30a4\u30ba\u30fb\u62e1\u5927\u5024\u3068\u7e2e\u5c0f\u5024\u3092\u6c7a\u5b9a\u3059\u308b\n        var targetView: UIView!\n        var initialFrame: CGRect!\n        var finalFrame: CGRect!\n        var xScaleFactor: CGFloat!\n        var yScaleFactor: CGFloat!\n        \n        //Case1: \u9032\u3080\u5834\u5408\n        if presenting {\n\n            targetView = toView\n            initialFrame = originalFrame\n            finalFrame = targetView.frame\n            xScaleFactor = initialFrame.width / finalFrame.width\n            yScaleFactor = initialFrame.height / finalFrame.height\n\n        //Case2: \u623b\u308b\u5834\u5408\n        } else {\n\n            targetView = fromView\n            initialFrame = targetView.frame\n            finalFrame = originalFrame\n            xScaleFactor = finalFrame.width / initialFrame.width\n            yScaleFactor = finalFrame.height / initialFrame.height\n        }\n\n        //\u30a2\u30d5\u30a1\u30a4\u30f3\u5909\u63db\u306e\u500d\u7387\u3092\u8a2d\u5b9a\u3059\u308b\n        let scaleTransform = CGAffineTransform(scaleX: xScaleFactor, y: yScaleFactor)\n\n        //\u9032\u3080\u5834\u5408\u306e\u9077\u79fb\u6642\u306b\u306f\u753b\u9762\u3044\u3063\u3071\u3044\u306b\u753b\u50cf\u3092\u8868\u793a\u3055\u305b\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u4f4d\u7f6e\u88dc\u6b63\u3092\u884c\u3046\n        if presenting {\n            targetView.transform = scaleTransform\n            targetView.center = CGPoint(x: initialFrame.midX, y: initialFrame.midY)\n            targetView.clipsToBounds = true\n        }\n\n        //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u4f53\u3068\u306a\u308bContainerView\u306b\u5fc5\u8981\u306a\u3082\u306e\u3092\u8ffd\u52a0\u3059\u308b\n        containerView.addSubview(toView)\n        containerView.bringSubview(toFront: targetView)\n        \n        UIView.animate(withDuration: duration, delay: 0.0, options: .curveEaseOut, animations: {\n\n            //\u5909\u6570duration\u3067\u306e\u8a2d\u5b9a\u3057\u305f\u79d2\u6570\u3067\u62e1\u5927\u30fb\u7e2e\u5c0f\u3092\u884c\u3046\n            targetView.transform = self.presenting ? CGAffineTransform.identity : scaleTransform\n            targetView.center = CGPoint(x: finalFrame.midX, y: finalFrame.midY)\n\n        }, completion:{ finished in\n            transitionContext.completeTransition(true)\n        })\n    }\n}\n```\n\n\u305d\u3057\u3066\u3053\u306e\u30af\u30e9\u30b9\u3067\u5b9a\u7fa9\u3057\u305f\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u9069\u7528\u3055\u305b\u308b\u305f\u3081\u306b\u9077\u79fb\u5143(`GalleryController.swift`)\u53ca\u3073\u9077\u79fb\u5148(`GalleryDetailController.swift`)\u306b\u8a72\u5f53\u306e\u51e6\u7406\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n\u9077\u79fb\u5143(`GalleryController.swift`)\u306b\u306f\u3001UIViewControllerTransitioningDelegate\u306b\u95a2\u3059\u308b\u51e6\u7406\u3092\u8a18\u8f09\u3084\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306b\u95a2\u3059\u308b\u51e6\u7406\u3092\u8a18\u8f09\u3059\u308b\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\u4e00\u89a7\u304b\u3089\u8a73\u7d30\u3078\u9077\u79fb\u3059\u308b\u5834\u5408\u306b\u306f\u3001`CustomTransition.swift`\u5185\u306e\u30e1\u30f3\u30d0\u5909\u6570\u306bTapGesture\u3067\u9078\u629e\u3057\u305f\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u306e\u60c5\u5831\u3092`originalFrame`\u306b\u5f15\u304d\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\n```swift:GalleryController.swift\nimport UIKit\nimport Kingfisher\n\nclass GalleryController: UIViewController, UIScrollViewDelegate, UIViewControllerTransitioningDelegate {\n\n    //\u30bf\u30c3\u30d7\u6642\u306b\u9078\u629e\u3057\u305fimageView\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306e\u5909\u6570\n    var selectedImage: UIImageView?\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    //\u30ec\u30a4\u30a2\u30a6\u30c8\u51e6\u7406\u304c\u5b8c\u4e86\u3057\u305f\u969b\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\n    override func viewDidLayoutSubviews() {\n        super.viewDidLayoutSubviews()\n        \n            \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n            //\u30b5\u30e0\u30cd\u30a4\u30eb\u306b\u30bf\u30b0\u540d\u3068TapGesture\u3092\u4ed8\u4e0e\u3059\u308b\n            thumbnailImageView.tag = i\n            thumbnailImageView.isUserInteractionEnabled = true\n            let tapGesture = UITapGestureRecognizer(target: self, action: #selector(GalleryController.expandThumbnail(sender:)))\n            thumbnailImageView.addGestureRecognizer(tapGesture)\n        }\n    }\n\n    //\u30b5\u30e0\u30cd\u30a4\u30eb\u3092\u62e1\u5927\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30a2\u30af\u30b7\u30e7\u30f3\n    func expandThumbnail(sender: UITapGestureRecognizer) {\n\n        //\u9077\u79fb\u5bfe\u8c61\u3092\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3068\u30c7\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\n        selectedImage = sender.view as? UIImageView\n        let tagNumber = sender.view?.tag\n        let selectedRecipeData = recipeData[tagNumber!]\n\n        //\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u9069\u7528\u3057\u305f\u753b\u9762\u9077\u79fb\u3092\u884c\u3046\n        let garellyDetail = storyboard!.instantiateViewController(withIdentifier: \"GalleryDetailController\") as! GalleryDetailController\n        garellyDetail.recipe = selectedRecipeData\n        garellyDetail.transitioningDelegate = self\n        self.present(garellyDetail, animated: true, completion: nil)\n    }\n    \n    /* (UIViewControllerTransitioningDelegate) */\n\n    /**\n     * \u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306f\u4e0b\u8a18\u306e\u30b5\u30f3\u30d7\u30eb\u3092Swift3\u306b\u7f6e\u304d\u63db\u3048\u3066\u518d\u5b9f\u88c5\n     * (\u5b9f\u88c5\u306e\u8a73\u7d30\u306fCustomTransition.swift\u3092\u53c2\u8003)\n     * \n     * \u53c2\u8003\uff1aiOS Animation Tutorial: Custom View Controller Presentation Transitions\n     * https://www.raywenderlich.com/113845/ios-animation-tutorial-custom-view-controller-presentation-transitions\n     */\n\n    //\u9032\u3080\u5834\u5408\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n    internal func animationController(forPresented presented: UIViewController, presenting: UIViewController, source: UIViewController) -> UIViewControllerAnimatedTransitioning? {\n\n        transition.originalFrame = selectedImage!.superview!.convert(selectedImage!.frame, to: nil)\n        transition.presenting = true\n        return transition\n    }\n    \n    //\u623b\u308b\u5834\u5408\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n    internal func animationController(forDismissed dismissed: UIViewController) -> UIViewControllerAnimatedTransitioning? {\n\n        transition.presenting = false\n        return transition\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n```\n\n\u9077\u79fb\u5148(`GalleryDetailController.swift`)\u306b\u306f\u30b7\u30f3\u30d7\u30eb\u306bUIImageView\u306b\u4ed8\u4e0e\u3057\u305fTapGesture\u304c\u767a\u52d5\u3055\u308c\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u623b\u308b\u9077\u79fb\u3092\u3059\u308b\u51e6\u7406\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3060\u3051\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```swift:GalleryDetailController.swift\nimport UIKit\nimport Kingfisher\nimport SafariServices\n\nclass GalleryDetailController: UIViewController, UIViewControllerTransitioningDelegate, SFSafariViewControllerDelegate {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n \n        \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n        \n        //\u80cc\u666f\u306eimageView\u306b\u30bf\u30b0\u540d\u3068TapGesture\u3092\u4ed8\u4e0e\u3059\u308b\n        let tapGesture = UITapGestureRecognizer(target: self, action: #selector(GalleryDetailController.backThumbnail(sender:)))\n        backgroundImageView.addGestureRecognizer(tapGesture)\n        \n        \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n    }\n\n    //\u524d\u306e\u753b\u9762\u306b\u623b\u308b\u30a2\u30af\u30b7\u30e7\u30f3\u3092TapGesture\u3092\u30c8\u30ea\u30ac\u30fc\u306b\u3057\u3066\u5b9f\u884c\u3059\u308b\n    func backThumbnail(sender: UITapGestureRecognizer) {\n        presentingViewController?.dismiss(animated: true, completion: nil)\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n```\n\n\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u5229\u7528\u3057\u305f\u9077\u79fb\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u306b\u95a2\u3057\u3066\u306f\u3001\u5de5\u592b\u306e\u4ed5\u65b9\u3084\u30c7\u30b6\u30a4\u30f3\u3068\u306e\u5408\u308f\u305b\u65b9\u306b\u3088\u3063\u3066\u306f\u3001UI\u3092\u4f5c\u6210\u3059\u308b\u4e0a\u3067\u3082\u30e6\u30fc\u30b6\u30fc\u306e\u76ee\u3092\u5f15\u3044\u305f\u308a\u30a4\u30f3\u30d1\u30af\u30c8\u3092\u51fa\u3059\u969b\u306e\u30ef\u30f3\u30dd\u30a4\u30f3\u30c8\u306b\u306a\u308a\u5f97\u308b\u90e8\u5206\u3068\u306a\u308b\u306e\u3067\u3001\u4eca\u5f8c\u3082\u3055\u3089\u306b\u7814\u7a76\u3092\u3057\u3066\u751f\u304b\u3057\u3066\u3044\u304d\u305f\u3044\u3068\u611f\u3058\u3066\u3044\u307e\u3059\u3002\n\n## 6. \u30e1\u30a4\u30f3\u30b3\u30f3\u30c6\u30f3\u30c4\u90e8\u5206\u3068\u30b5\u30d6\u30e1\u30cb\u30e5\u30fc\u90e8\u5206\u306b\u304a\u3044\u3066ContainerView\u3092\u6d3b\u7528\u3057\u305f\u958b\u9589\u51e6\u7406\u90e8\u5206\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\n\n\u3053\u306e\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u3001ContainerView\u3092\u91cd\u306d\u3066\u30b5\u30a4\u30c9\u30e1\u30cb\u30e5\u30fc\u3068\u30e1\u30a4\u30f3\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306aUI\u3092\u69cb\u7bc9\u3059\u308b\u969b\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\u306b\u95a2\u3059\u308b\u89e3\u8aac\u3092\u4ee5\u524d\u884c\u3063\u305f\u3053\u3068\u3082\u3042\u308a\u3001\u4eca\u56de\u3082\u4e0b\u8a18\u306e\u8a18\u4e8b\u3067\u7d39\u4ecb\u3057\u3066\u3044\u308b\u30b5\u30f3\u30d7\u30eb\u3068\u4f3c\u305f\u3088\u3046\u306a\u5f62\u306e\u3082\u306e\u3092\u5c0e\u5165\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\n+ [Swift\u3067ContainerView\u3068Storyboard\u3092\u30d5\u30eb\u6d3b\u7528\u3057\u3066\u8907\u96d1\u306aUI\u3092\u5b9f\u73fe\u3059\u308b\u969b\u306e\u5b9f\u88c5\u30dd\u30a4\u30f3\u30c8\u307e\u3068\u3081](http://qiita.com/fumiyasac@github/items/17cbcffd90deee2cff43)\n+ [(Swift3.0\u5bfe\u5fdc)ContainerView\u3068Storyboard\u3092\u30d5\u30eb\u6d3b\u7528\u3057\u3066\u8907\u96d1\u306aUI\u3092\u4f5c\u308b\u30b5\u30f3\u30d7\u30eb\u3092Swift3.0\u3078\u66f8\u304d\u76f4\u3057\u5bfe\u5fdc\u3057\u305f\u969b\u306e\u307e\u3068\u3081](http://qiita.com/fumiyasac@github/items/3218c35de5e59f3bfafa)\n\n\u4ee5\u524d\u306b\u4f5c\u6210\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u3068\u7570\u306a\u308b\u70b9\u306b\u95a2\u3057\u3066\u306f\u3001\u30e1\u30cb\u30e5\u30fc\u306e\u958b\u9589\u306b\u95a2\u3059\u308b\u30dc\u30bf\u30f3\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u90e8\u5206\u306b\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5b9a\u7fa9\u3057\u3001\u5b9f\u969b\u306e\u51e6\u7406\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u305d\u308c\u305e\u308c\u306eContainerView\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u90e8\u5206(`ViewController.swift`)\u306b\u958b\u9589\u306b\u95a2\u3059\u308b\u51e6\u7406\u3092\u8a18\u8f09\u3059\u308b\u5f62\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n###### \u26056-1. ViewController.swift\u306e\u753b\u9762\u306b\u914d\u7f6e\u3055\u308c\u305f\u5404ContainerView\u306b\u95a2\u3059\u308b\u8a2d\u8a08\u90e8\u5206\n\n\u571f\u53f0\u3068\u306a\u308bViewController\uff08`ViewController.swift`\uff09\u4e0a\u306eStoryboard\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u308bContainerView\u306e\u91cd\u306a\u308a\u9806\u3084\u5404\u7a2e\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u5b9a\u7fa9\u306b\u95a2\u3057\u3066\u306e\u8a2d\u8a08\u56f3\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\n__\u8a2d\u8a08\u56f3\uff1a__\n\n![container_view_design.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/25b1ff3c-a22a-078e-a61f-516634cd5af0.jpeg)\n\n__\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u3044\u305f\u969b\u306e\u898b\u3048\u65b9\uff1a__\n\n![container_view_menu.jpg](https://qiita-image-store.s3.amazonaws.com/0/17400/e8c5dd52-2ed3-4ab7-8817-763403a76859.jpeg)\n\n\u305d\u308c\u305e\u308c\u306eContainerView\u3092\u52d5\u304b\u3059\u51e6\u7406\u306b\u95a2\u3057\u3066\u306f\u3001\u305d\u306e\u8981\u7d20\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308bController\u5074\u3067\u51e6\u7406\u3092\u884c\u3046\u65b9\u304c\u3088\u308a\u826f\u3044\u304b\u306a\u3068\u611f\u3058\u305f\u306e\u3067\u3001\u4eca\u56de\u306f\u3053\u306e\u3088\u3046\u306a\u5f62\u306b\u3057\u307e\u3057\u305f\u3002\n\n###### \u26056-2. \u305d\u308c\u305e\u308c\u306eContainerView\u304b\u3089\u30e1\u30cb\u30e5\u30fc\u958b\u9589\u51e6\u7406\u7528\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5b9a\u7fa9\u3057\u305f\u4e0a\u3067\u305d\u308c\u305e\u308c\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306b\u5bfe\u3059\u308b\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\u90e8\u5206\n\n\u4e0a\u8a18\u306e\u8a2d\u8a08\u56f3\u3084\u30c7\u30b6\u30a4\u30f3\u3092\u8e0f\u307e\u3048\u305f\u4e0a\u3067\u305d\u308c\u305e\u308c\u306e\u8a72\u5f53\u7b87\u6240\u306b\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u304f\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\n__\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304f\u51e6\u7406\u5074\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u5b9a\u7fa9\uff1a__\n\n```swift:MenuController.swift\n//\u30e1\u30cb\u30e5\u30fc\u30dc\u30bf\u30f3\u3092\u9589\u3058\u308b\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\nprotocol MenuCloseDelegate {\n    func closeMenuStatus(status: MenuStatus)\n}\n\nclass MenuController: UIViewController, UICollectionViewDelegate, UICollectionViewDataSource {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    //\u30e1\u30cb\u30e5\u30fc\u90e8\u5206\u958b\u9589\u7528\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u305f\u3081\u306e\u5909\u6570\n    var delegate: MenuCloseDelegate!\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n    \n    /* (Button Actions) */\n    @IBAction func closeMenuAction(_ sender: UIButton) {\n\n        //\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u5b9f\u884c\uff08\u51e6\u7406\u306e\u5185\u5bb9\u306fViewController\u306b\u8a18\u8f09\u3059\u308b\uff09\n        self.delegate.closeMenuStatus(status: MenuStatus.closed)\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n```\n\n__\u30e1\u30cb\u30e5\u30fc\u3092\u9589\u3058\u308b\u51e6\u7406\u5074\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u5b9a\u7fa9\uff1a__\n\n```swift:MenuController.swift\n//\u30e1\u30cb\u30e5\u30fc\u30dc\u30bf\u30f3\u3092\u9589\u3058\u308b\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\nprotocol MenuCloseDelegate {\n    func closeMenuStatus(status: MenuStatus)\n}\n\nclass MenuController: UIViewController, UICollectionViewDelegate, UICollectionViewDataSource {\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n    //\u30e1\u30cb\u30e5\u30fc\u90e8\u5206\u958b\u9589\u7528\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u305f\u3081\u306e\u5909\u6570\n    var delegate: MenuCloseDelegate!\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n    \n    /* (Button Actions) */\n    @IBAction func closeMenuAction(_ sender: UIButton) {\n\n        //\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u5b9f\u884c\uff08\u51e6\u7406\u306e\u5185\u5bb9\u306fViewController\u306b\u8a18\u8f09\u3059\u308b\uff09\n        self.delegate.closeMenuStatus(status: MenuStatus.closed)\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n```\n\n\u4e0a\u8a18\u306e\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304f\u30dc\u30bf\u30f3 or \u30e1\u30cb\u30e5\u30fc\u3092\u9589\u3058\u308b\u30dc\u30bf\u30f3\u306b\u5bfe\u5fdc\u3059\u308b\u5b9f\u4f53\u306e\u51e6\u7406\u3092ContainerView\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc(`ViewController.swift`)\u306b\u8a18\u8ff0\u3092\u3057\u307e\u3059\u3002\n\n```swift:ViewController.swift\nimport UIKit\n\n//\u30e1\u30cb\u30e5\u30fc\u90e8\u5206\u306e\u958b\u9589\u72b6\u614b\u7ba1\u7406\u7528\u306eenum\nenum MenuStatus {\n    case opened\n    case closed\n}\n\nclass ViewController: UIViewController, MenuOpenDelegate, MenuCloseDelegate {\n    \n    //\u5404\u7a2e\u30d1\u30fc\u30c4\u306eOutlet\u63a5\u7d9a\n    @IBOutlet weak var mainMenuContainer: UIView!\n    @IBOutlet weak var subMenuContainer: UIView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n    }\n\n    override func viewDidLayoutSubviews() {\n        super.viewDidLayoutSubviews()\n        \n        //\u77e9\u5f62\u306e\u307e\u307e\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3055\u305b\u308b\u305f\u3081\u306b\u30b3\u30fc\u30c9\u3067\u518d\u914d\u7f6e\u3059\u308b\n        mainMenuContainer.frame = CGRect(x: 0, y: 0, width: mainMenuContainer.frame.width, height: mainMenuContainer.frame.height)\n        subMenuContainer.frame = CGRect(x: 0, y: 0, width: subMenuContainer.frame.width, height: subMenuContainer.frame.height)\n    }\n    \n    /**\n     * \u8907\u96d1\u306a\u9077\u79fb\u6642\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u9069\u7528\n     *\n     * (Case1)\n     * UINavigationController \u2192 \u4efb\u610f\u306eViewController\u3068StoryBoard\u3067\u8a2d\u5b9a\u3057\u305f\u969b\u306b\u3001\n     * \u4efb\u610f\u306eViewController\u306b\u5b9a\u7fa9\u3057\u305f\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u9069\u7528\u3055\u305b\u308b\u5834\u5408\n     *\n     * (Case2)\n     * ContainerView\u3067\u63a5\u7d9a\u3055\u308c\u305f\u4efb\u610f\u306eViewController\u306b\u5bfe\u3057\u3066\u3001\n     * \u4efb\u610f\u306eViewController\u306b\u5b9a\u7fa9\u3057\u305f\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u9069\u7528\u3055\u305b\u308b\u5834\u5408\n     *\n     * override\u3057\u305fprepare\u30e1\u30bd\u30c3\u30c9\u3092\u5229\u7528\u3059\u308b\u3002\n     * [Step1] \u305d\u308c\u305e\u308c\u306e\u63a5\u7d9a\u3057\u3066\u3044\u308bSegue\u306b\u5bfe\u3057\u3066Identifier\u540d\u3092\u5b9a\u3081\u308b\n     * [Step2] \u4e0b\u8a18\u306eidentifier\u306b\u95a2\u9023\u3059\u308bViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97\u3057\u3066\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u9069\u7528\u3059\u308b\n     * (UINavigationController\u306e\u5834\u5408\u306f\u3061\u3087\u3063\u3068\u6ce8\u610f)\n     *\n     * (\u53c2\u8003): Container\u3068\u306e\u5024\u3084\u308a\u53d6\u308a\u65b9\u6cd5\n     * http://qiita.com/BOPsemi/items/dd65b2b7cd83ec1e82b9\n     */\n    override func prepare(for segue: UIStoryboardSegue, sender: Any?) {\n        \n        if segue.identifier == \"MakeRecipe\" {\n            let navigationController = segue.destination as! UINavigationController\n            let makeRecipeController = navigationController.viewControllers.first as! MakeRecipeController\n            makeRecipeController.delegate = self\n        }\n        \n        if segue.identifier == \"Menu\" {\n            let menuController = segue.destination as! MenuController\n            menuController.delegate = self\n        }\n    }\n\n    /* MenuOpenDelegate */\n    func openMenuStatus(status: MenuStatus) {\n        changeMenuStatus(status)\n    }\n\n    /* MenuCloseDelegate */\n    func closeMenuStatus(status: MenuStatus) {\n        changeMenuStatus(status)\n    }\n\n    //enum\u306e\u5024\u306b\u5fdc\u3058\u3066\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u5909\u66f4\u3092\u884c\u3046\n    fileprivate func changeMenuStatus(_ targetStatus: MenuStatus) {\n        \n        if targetStatus == MenuStatus.opened {\n            \n            //\u30e1\u30cb\u30e5\u30fc\u3092\u8868\u793a\u72b6\u614b\u306b\u3059\u308b\n            UIView.animate(withDuration: 0.16, delay: 0, options: .curveEaseOut, animations: {\n                self.mainMenuContainer.isUserInteractionEnabled = false\n                self.mainMenuContainer.frame = CGRect(x: 0, y: 320, width: self.mainMenuContainer.frame.width, height: self.mainMenuContainer.frame.height)\n            }, completion: nil)\n            \n        } else {\n            \n            //\u30e1\u30cb\u30e5\u30fc\u3092\u975e\u8868\u793a\u72b6\u614b\u306b\u3059\u308b\n            UIView.animate(withDuration: 0.16, delay: 0, options: .curveEaseOut, animations: {                \n                self.mainMenuContainer.isUserInteractionEnabled = true\n                self.mainMenuContainer.frame = CGRect(x: 0, y: 0, width: self.mainMenuContainer.frame.width, height: self.mainMenuContainer.frame.height)\n            }, completion: nil)\n        }\n    }\n\n    \u30fb\u30fb\u30fb\uff08\u7701\u7565\uff09\u30fb\u30fb\u30fb\n}\n```\n\n\u4e0a\u8a18\u306eContainerView\u306b\u300cEmbed Segue\u300d\u3067\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308bViewController\uff08\u4eca\u56de\u306f`MenuController.swift`\u53ca\u3073`MakeRecipeController.swift`\u306b\u8a72\u5f53\uff09\u3092Storyboard\u306eIdentifier\u304b\u3089\u53d6\u5f97\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u5f93\u6765\u306eSegue\u306bIdentifier\u3092\u8a2d\u5b9a\u3059\u308b\u6642\u3068\u540c\u69d8\u306b\u300cEmbed Segue\u300d\u306e\u90e8\u5206\u306bIdentifier\u3092InterfaceBuilder\u3092\u8a2d\u5b9a\u3059\u308b\u5f62\u3067\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n## 7. \u3042\u3068\u304c\u304d\n\nGestureRecognizer\u3084\u30ab\u30b9\u30bf\u30e0\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u306e\u6271\u3044\u306b\u95a2\u3057\u3066\u306f\u3001iOS\u30a2\u30d7\u30ea\u958b\u767a\u306b\u53d6\u308a\u7d44\u307f\u59cb\u3081\u305f\u9803\u306f\u30cf\u30de\u3063\u3066\u3057\u307e\u3046\u4e8b\u304c\u591a\u304f\u3001\u30c7\u30d0\u30c3\u30b0\u306b\u7d50\u69cb\u624b\u3053\u305a\u3063\u3066\u3057\u307e\u3046\u4e8b\u3082\u3042\u308a\u307e\u3057\u305f\u304c\u3001\u6700\u8fd1\u3067\u306f\u82e6\u624b\u610f\u8b58\u3082\u5c11\u3057\u305a\u3064\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u306a\u304f\u306a\u308a\u3064\u3064\u3042\u308a\u307e\u3059\u3002\n\n\uff08GestureRecognizer\u3084TouchEvent\u3092\u6d3b\u7528\u3059\u308b\u3088\u3046\u306a\u30b5\u30f3\u30d7\u30eb\u306b\u3064\u3044\u3066\u306f\u5b9a\u671f\u7684\u306b\u6271\u3063\u3066\u3044\u3051\u308c\u3070\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\uff09\n\n\u30e6\u30fc\u30b6\u30fc\u304c\u5165\u529b\u306a\u3044\u3057\u306f\u9078\u629e\u3092\u884c\u3046\u3088\u3046\u306a\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u6307\u306e\u52d5\u304d\u3092\u5229\u7528\u3057\u305f\u753b\u9762\u64cd\u4f5c\u3092\u52a0\u3048\u308b\u3053\u3068\u3084\u753b\u9762\u9077\u79fb\u6642\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306b\u307b\u3093\u306e\u5c11\u3057\u4e00\u5de5\u592b\u3092\u52a0\u3048\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001UI\u306b\u66f4\u306b\u76ee\u3092\u5f15\u304f\u30ef\u30f3\u30dd\u30a4\u30f3\u30c8\u3092\u4e0e\u3048\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u305f\u3060\u3057\u3001\u3053\u306e\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\u306e\u969b\u3068\u3082\u540c\u69d8\u306b\u3001\u7d44\u307f\u5408\u308f\u305b\u65b9\u3092\u9593\u9055\u3048\u3066\u3057\u307e\u3063\u305f\u308a\u3001\u305f\u304f\u3055\u3093\u5165\u308c\u3059\u304e\u3066\u3057\u307e\u3046\u3068\u5374\u3063\u3066\u30e6\u30fc\u30b6\u30fc\u306b\u512a\u3057\u304f\u306a\u3044UI\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u30b1\u30fc\u30b9\u3082\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u306e\u3088\u3046\u306a\u30e6\u30fc\u30b6\u30fc\u306e\u52d5\u304d\u3068\u9023\u52d5\u3059\u308b\u3088\u3046\u306a\u5f62\u306eUI\u3092\u5b9f\u73fe\u3059\u308b\u969b\u306b\u306f\u3001\u753b\u9762\u306e\u30c7\u30b6\u30a4\u30f3\u3084\u30e6\u30fc\u30b6\u30fc\u304c\u671f\u5f85\u3059\u308b\u52d5\u304d\u3068\u3082\u3057\u3063\u304b\u308a\u3068\u76f8\u8ac7\u3057\u305f\u4e0a\u3067\u306e\u5b9f\u88c5\u3092\u5fc3\u304c\u3051\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3068\u79c1\u81ea\u8eab\u3082\u5f37\u304f\u611f\u3058\u307e\u3057\u305f\u3002\n\n\uff08\u4eca\u56de\u306e\u30b5\u30f3\u30d7\u30eb\u3082\u3001\u3082\u3057\u304b\u3057\u305f\u3089\u66f4\u306b\u30de\u30c3\u30c1\u3059\u308b\u3088\u3046\u306a\u753b\u9762\u30c7\u30b6\u30a4\u30f3\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306d\u3002\u3002\u3002\uff09\n\n\u79c1\u81ea\u8eab\u3082UI\u8868\u73fe\u306b\u95a2\u3059\u308b\u90e8\u5206\u306e\u5b9f\u88c5\u306f\u3001\u3068\u3066\u3082\u697d\u3057\u304f\u304b\u3064\u5de5\u592b\u306e\u3057\u7532\u6590\u304c\u3042\u308b\u90e8\u5206\u3060\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u4eca\u5f8c\u3068\u3082\u66f4\u306b\u826f\u3044UI\u8868\u73fe\u306e\u5b9f\u88c5\u3084\u30b5\u30f3\u30d7\u30eb\u30b7\u30e7\u30fc\u30b1\u30fc\u30b9\u306e\u4f5c\u6210\u3092\u884c\u3063\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u308c\u304b\u3089\u3082\u4f55\u5352\u5b9c\u3057\u304f\u304a\u9858\u3044\u81f4\u3057\u307e\u3059m(_ _)m\n"}