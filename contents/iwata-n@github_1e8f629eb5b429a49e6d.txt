{"context": " More than 1 year has passed since last update.\u30b5\u30f3\u30d7\u30eb\nhttps://github.com/iwata-n/nodejs_coverage\nnode.js+express\u3067\u4f5c\u3063\u3066\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30b9\u30c8\u3067\u30ab\u30d0\u30ec\u30c3\u30b8\u3092\u53d6\u308a\u305f\u304b\u3063\u305f\u306e\u3067\u8abf\u3079\u3066\u307f\u305f\u7d50\u679c\u3092\u307e\u3068\u3081\u3066\u304a\u304f\u3002\n\ngulp\n\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3068\u3057\u3066gulp\u3092\u4f7f\u3046\u3002grunt\u3082\u6709\u308b\u3063\u307d\u3044\u3051\u3069\u3082gulp\u3092\u4f7f\u3046\u3002\n\n\u30ab\u30d0\u30ec\u30c3\u30b8\u53d6\u5f97\u30c4\u30fc\u30eb\nistanbul\u3092\u4f7f\u3046\u3002istanbul\u3092gulp\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u3057\u3066\u7528\u610f\u3057\u3066\u304f\u308c\u3066\u3044\u308b\u4eba\u304c\u3044\u308b\u306e\u3067\u611f\u8b1d\nhttps://github.com/SBoudrias/gulp-istanbul\n\n\u8a2d\u5b9a\ngulp-istanbul\u306eREADME\u306b\u5f93\u3063\u3066gulpfile.js\u3092\u7528\u610f\u3059\u308b\u3002\nexpress-generator\u304c\u51fa\u3057\u3066\u304d\u305f\u307e\u307e\u306a\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u308b\u3002\nvar gulp = require('gulp');\nvar istanbul = require('gulp-istanbul');\nvar mocha = require('gulp-mocha');\n\ngulp.task('pre-test', function () {\n  return gulp.src(['routes/*.js'])\n    // Covering files\n    .pipe(istanbul())\n    // Force `require` to return covered files\n    .pipe(istanbul.hookRequire());\n});\n\ngulp.task('test', ['pre-test'], function () {\n  return gulp.src(['test/*.js'])\n    .pipe(mocha())\n    // Creating the reports after tests ran\n    .pipe(istanbul.writeReports())\n    // Enforce a coverage of at least 90%\n    .pipe(istanbul.enforceThresholds({ thresholds: { global: 90 } }));\n});\n\n\n\u5b9f\u884c\ngulp test \u3067\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u3053\u3093\u306a\u611f\u3058\u3067\u30ab\u30d0\u30ec\u30c3\u30b8\u306e\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n$ gulp test\n[16:53:47] Using gulpfile ~/hoge/gulpfile.js\n[16:53:47] Starting 'pre-test'...\n[16:53:47] Finished 'pre-test' after 50 ms\n[16:53:47] Starting 'test'...\n\n\n  GET /users\nGET /users 200 7.133 ms - 8\n    \u2713 no param (40ms)\n\n\n  1 passing (45ms)\n\n-----------|----------|----------|----------|----------|----------------|\nFile       |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |\n-----------|----------|----------|----------|----------|----------------|\n routes/   |    76.92 |       50 |       50 |    76.92 |                |\n  index.js |       80 |      100 |        0 |       80 |              6 |\n  users.js |       75 |       50 |      100 |       75 |            7,8 |\n-----------|----------|----------|----------|----------|----------------|\nAll files  |    76.92 |       50 |       50 |    76.92 |                |\n-----------|----------|----------|----------|----------|----------------|\n\n\n=============================== Coverage summary ===============================\nStatements   : 76.92% ( 10/13 )\nBranches     : 50% ( 1/2 )\nFunctions    : 50% ( 1/2 )\nLines        : 76.92% ( 10/13 )\n================================================================================\n[16:53:47] 'test' errored after 336 ms\n[16:53:47] Error in plugin 'gulp-istanbul'\n\n\u30b5\u30f3\u30d7\u30eb\nhttps://github.com/iwata-n/nodejs_coverage\n\nnode.js+express\u3067\u4f5c\u3063\u3066\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30b9\u30c8\u3067\u30ab\u30d0\u30ec\u30c3\u30b8\u3092\u53d6\u308a\u305f\u304b\u3063\u305f\u306e\u3067\u8abf\u3079\u3066\u307f\u305f\u7d50\u679c\u3092\u307e\u3068\u3081\u3066\u304a\u304f\u3002\n\n# gulp\n\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3068\u3057\u3066gulp\u3092\u4f7f\u3046\u3002grunt\u3082\u6709\u308b\u3063\u307d\u3044\u3051\u3069\u3082gulp\u3092\u4f7f\u3046\u3002\n\n# \u30ab\u30d0\u30ec\u30c3\u30b8\u53d6\u5f97\u30c4\u30fc\u30eb\nistanbul\u3092\u4f7f\u3046\u3002istanbul\u3092gulp\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u3057\u3066\u7528\u610f\u3057\u3066\u304f\u308c\u3066\u3044\u308b\u4eba\u304c\u3044\u308b\u306e\u3067\u611f\u8b1d\n\nhttps://github.com/SBoudrias/gulp-istanbul\n\n# \u8a2d\u5b9a\ngulp-istanbul\u306eREADME\u306b\u5f93\u3063\u3066gulpfile.js\u3092\u7528\u610f\u3059\u308b\u3002\nexpress-generator\u304c\u51fa\u3057\u3066\u304d\u305f\u307e\u307e\u306a\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n``` js\nvar gulp = require('gulp');\nvar istanbul = require('gulp-istanbul');\nvar mocha = require('gulp-mocha');\n\ngulp.task('pre-test', function () {\n  return gulp.src(['routes/*.js'])\n    // Covering files\n    .pipe(istanbul())\n    // Force `require` to return covered files\n    .pipe(istanbul.hookRequire());\n});\n\ngulp.task('test', ['pre-test'], function () {\n  return gulp.src(['test/*.js'])\n    .pipe(mocha())\n    // Creating the reports after tests ran\n    .pipe(istanbul.writeReports())\n    // Enforce a coverage of at least 90%\n    .pipe(istanbul.enforceThresholds({ thresholds: { global: 90 } }));\n});\n```\n\n# \u5b9f\u884c\n``` gulp test``` \u3067\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u3053\u3093\u306a\u611f\u3058\u3067\u30ab\u30d0\u30ec\u30c3\u30b8\u306e\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n```\n$ gulp test\n[16:53:47] Using gulpfile ~/hoge/gulpfile.js\n[16:53:47] Starting 'pre-test'...\n[16:53:47] Finished 'pre-test' after 50 ms\n[16:53:47] Starting 'test'...\n\n\n  GET /users\nGET /users 200 7.133 ms - 8\n    \u2713 no param (40ms)\n\n\n  1 passing (45ms)\n\n-----------|----------|----------|----------|----------|----------------|\nFile       |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |\n-----------|----------|----------|----------|----------|----------------|\n routes/   |    76.92 |       50 |       50 |    76.92 |                |\n  index.js |       80 |      100 |        0 |       80 |              6 |\n  users.js |       75 |       50 |      100 |       75 |            7,8 |\n-----------|----------|----------|----------|----------|----------------|\nAll files  |    76.92 |       50 |       50 |    76.92 |                |\n-----------|----------|----------|----------|----------|----------------|\n\n\n=============================== Coverage summary ===============================\nStatements   : 76.92% ( 10/13 )\nBranches     : 50% ( 1/2 )\nFunctions    : 50% ( 1/2 )\nLines        : 76.92% ( 10/13 )\n================================================================================\n[16:53:47] 'test' errored after 336 ms\n[16:53:47] Error in plugin 'gulp-istanbul'\n```\n", "tags": ["Node.js", "istanbul", "test"]}