{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nFacebook\u98a8\u306b\u300c\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u300d\u30dc\u30bf\u30f3\u3067\u306f\u306a\u304f\u3001\u30a8\u30ea\u30a2\u3092\u9078\u629e\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3002\n\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3059\u308b\u3068\u305d\u3053\u306b\u30d7\u30ec\u30d3\u30e5\u30fc\u753b\u50cf\u3092\u51fa\u3057\u307e\u3059\u3002\n\n\u5b9f\u88c5\nHTML\n\ntest.html\n<div class=\"file-div\">\n  <div>\n    <img src=\"\">\n  </div>\n  <input type=\"file\">\n</div>\n\n\nCSS\n\ntest.css\n.file-div div {\n  width: 200px;\n  height: 200px;\n  padding: 0;\n  margin: 0 10px;\n  border: dashed 4px #eee;\n}\n.file-div img {\n  width: 100%;\n  height: 100%;\n}\n.file-div input {\n  display: none;\n}\n\n\njavascript\n\ntest.js\n// div\u3092\u30af\u30ea\u30c3\u30af\u3067input\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3055\u305b\u308b\n$(\".file-div > div\").click(function() {\n  var evt;\n  evt = document.createEvent(\"MouseEvents\");\n  evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n  $(this).siblings(\"input\").get(0).dispatchEvent(evt);\n});\n\n//\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u305f\u3089\u30d7\u30ec\u30d3\u30e5\u30fc\u7528\u306eimg\u306b\u53cd\u6620\u3055\u305b\u308b\n$(\".file-div > input\").change(function() {\n  var file, fr, input;\n  input = this;\n  file = $(this).prop('files')[0];\n  fr = new FileReader();\n  fr.onload = function() {\n    return $(input).siblings(\"div\").find(\"img\").attr('src', fr.result);\n  };\n  return fr.readAsDataURL(file);\n});\n\n\n##\u6982\u8981\nFacebook\u98a8\u306b\u300c\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u300d\u30dc\u30bf\u30f3\u3067\u306f\u306a\u304f\u3001\u30a8\u30ea\u30a2\u3092\u9078\u629e\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3002\n\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3059\u308b\u3068\u305d\u3053\u306b\u30d7\u30ec\u30d3\u30e5\u30fc\u753b\u50cf\u3092\u51fa\u3057\u307e\u3059\u3002\n\n##\u5b9f\u88c5\n\nHTML\n\n```test.html\n<div class=\"file-div\">\n  <div>\n    <img src=\"\">\n  </div>\n  <input type=\"file\">\n</div>\n```\n\nCSS\n\n```test.css\n.file-div div {\n  width: 200px;\n  height: 200px;\n  padding: 0;\n  margin: 0 10px;\n  border: dashed 4px #eee;\n}\n.file-div img {\n  width: 100%;\n  height: 100%;\n}\n.file-div input {\n  display: none;\n}\n```\n\njavascript\n\n```test.js\n// div\u3092\u30af\u30ea\u30c3\u30af\u3067input\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3055\u305b\u308b\n$(\".file-div > div\").click(function() {\n  var evt;\n  evt = document.createEvent(\"MouseEvents\");\n  evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n  $(this).siblings(\"input\").get(0).dispatchEvent(evt);\n});\n\n//\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u305f\u3089\u30d7\u30ec\u30d3\u30e5\u30fc\u7528\u306eimg\u306b\u53cd\u6620\u3055\u305b\u308b\n$(\".file-div > input\").change(function() {\n  var file, fr, input;\n  input = this;\n  file = $(this).prop('files')[0];\n  fr = new FileReader();\n  fr.onload = function() {\n    return $(input).siblings(\"div\").find(\"img\").attr('src', fr.result);\n  };\n  return fr.readAsDataURL(file);\n});\n```\n", "tags": ["Facebook", "HTML", "CSS", "JavaScript"]}