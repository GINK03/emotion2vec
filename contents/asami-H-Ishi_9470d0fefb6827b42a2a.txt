{"context": "\n\n\u6982\u8981\nWeb\u30a2\u30d7\u30ea\u958b\u767a\u306e\u7814\u4fee\u3067RestAPI\u3092\u4f5c\u308b\u3053\u3068\u306b\u306a\u3063\u305f\u306e\u3067\u3001Docker\uff0bLaradock\u3067Laravel\u4f7f\u3063\u305fRestAPI\u958b\u767a\u3092\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u53c2\u8003\uff1aLaravel\u4f7f\u3063\u305f\u958b\u767a\u306bLaradock\u3092\u4f7f\u3046\u3068\u3044\u3046\u306e\u306f\u3069\u3046\u3060\u308d\u3046\n\n\u74b0\u5883\u60c5\u5831\n\nWindows7\nDocker Toolbox\n\n\nDocker\uff08\u30d0\u30fc\u30b8\u30e7\u30f3\uff1a1.12.0)\nVirtualBox\uff08\u30d0\u30fc\u30b8\u30e7\u30f3\uff1a5.0.30\uff09\n\n\ngit version 2.9.0.windows.1\n\n\nLaradock\u3067\u958b\u767a\u74b0\u5883\u3092\u6574\u3048\u308b\n\nLaradock\u306e\u5c0e\u5165\nDocker\u3092\u8d77\u52d5\u3057\u3066\u3001\u4efb\u610f\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078cd\u3067\u79fb\u52d5\u3002\n\u5bb9\u91cf\u306b\u4f59\u88d5\u306e\u3042\u308b(E:)\u3067\u4f5c\u696d\u3057\u3088\u3046\u3068\u3057\u305f\u3089\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f\u305f\u3081\u3001\u79c1\u306fC:\\Users\\{\u30e6\u30fc\u30b6\u30fc\u540d}\\docker\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u305d\u3053\u3067\u4f5c\u696d\u3092\u9032\u3081\u307e\u3057\u305f\u3002\n$ mkdir laraveltest\n\n\u300claraveltest\u300d\u90e8\u5206\u306f\u4efb\u610f\u306e\u540d\u524d\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ cd laraveltest\n$ git clone https://github.com/LaraDock/laradock.git\n\n\u3053\u3053\u307e\u3067\u3067Laradock\u306e\u5c0e\u5165\u306fOK\u3067\u3059\u3002\n\nLaravel\u3067create-project\u3059\u308b\n$ cd laradock\n$ docker-compose up -d workspace\n$ docker-compose ps\n\ndocker-compose ps\u3067\u73fe\u5728\u7acb\u3061\u4e0a\u304c\u3063\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n         Name               Command      State    Ports\n-------------------------------------------------------\nlaradock_application_1   true            Exit 0\nlaradock_workspace_1     /sbin/my_init   Up\n\n\u73fe\u5728\u7acb\u3061\u4e0a\u304c\u3063\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u306flaradock_workspace_1\u3067\u3059\u3002\n\u3053\u306eworkspace\u306b\u5165\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n$ docker exec -it laradock_workspace_1 /bin/bash\n\n\u7d9a\u3044\u3066\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u300ctestapp\u300d\u3068\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\ncomposer create-project laravel/laravel testapp\n\nDo not run Composer as root/super user! See https://getcomposer.org/root for details\u3068\u51fa\u3066\u304d\u307e\u3059\u304c\u3001\u6c17\u306b\u3057\u306a\u3044\uff08\u6c17\u306b\u3057\u305f\u65b9\u304c\u3044\u3044\u306e\u304b\u306a\uff1f\uff09\u3002\n\u6642\u9593\u304c\u304b\u304b\u308b\u306e\u3067\u3001Laravel\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u7d42\u308f\u308b\u307e\u3067\u306f\u4f55\u304b\u4ed6\u306e\u4f5c\u696d\u3084\u52c9\u5f37\u3092\u3057\u3066\u304a\u304f\u3068\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\nset successfully.\u304c\u51fa\u305f\u3089create-project\u6210\u529f\u3067\u3059\u3002\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\u3067\u304d\u308b\u3088\u3046\u306b\u74b0\u5883\u3092\u78ba\u8a8d\u3059\u308b\n ls\nlaradock  testapp\n exit # workspace\u304b\u3089\u51fa\u308b\n$ docker-compose stop # \u4eca\u52d5\u3044\u3066\u3044\u308bworkspace\u3092\u6b62\u3081\u308b\n$ ls ../\nlaradock/  testapp/\n\nls ../\u3067\u30db\u30b9\u30c8PC\u306b\u3082testapp\u304c\u3067\u304d\u3066\u3044\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\u305d\u308c\u3067\u306f\u3001laradock\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u3089\u308c\u3066\u3044\u308bdocker-compose.yml\u3092\u958b\u304d\u307e\u3059\u3002\n### Applications Code Container #############################\n\n    applications:\n        image: tianon/true\n        volumes:\n            - ../:/var/www\n\n\u306e\u3068\u3053\u308d\u3092\n        volumes:\n            - ../testapp:/var/www\n\n\u306b\u7de8\u96c6\u3057\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\u7d9a\u3044\u3066\u3001testapp/.env\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066DB_HOST\u306e\u5024\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5909\u66f4\u3057\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\u203b\u6587\u5b57\u30b3\u30fc\u30c9\u306fUTF-8\u3067\u3059\u3002\nDB_HOST=mysql\n\n\u3053\u308c\u3067\u74b0\u5883\u8a2d\u5b9a\u306fOK\u3067\u3059\u3002\u4e0b\u8a18\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ docker-compose up -d php-fpm nginx mysql\n\n\u8d77\u52d5\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u30d6\u30e9\u30a6\u30b6\u3067192.168.99.100\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u300cLaravel\u300d\u3068\u8868\u793a\u3055\u308c\u305f\u3089OK\u3067\u3059\u3002\n\u3053\u3053\u3067\u5ff5\u306e\u305f\u3081\u3001\u4e0b\u8a18\u3067\u5168\u3066\u306eState\u304cUp\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\uff08\u306a\u305c\u304bMySQL\u3060\u3051\u7acb\u3061\u4e0a\u304c\u3063\u3066\u3044\u306a\u304f\u3066\u306e\u3061\u306e\u3061SQL\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3053\u3068\u304c\u3042\u308b\u305f\u3081\uff09\u3002\n$ docker-compose ps\n\n\nlaradock_workspace_1\nlaradock_php-fpm_1\nlaradock_nginx_1\nlaradock_mysql_1\n\n\u3053\u308c\u304b\u3089\u5168\u3066\u306eState\u304cUp\u306b\u306a\u3063\u3066\u3044\u308c\u3070OK\u3067\u3059\u3002\nUp\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u30b3\u30f3\u30c6\u30ca\u304c\u3042\u308b\u5834\u5408\u306f\u3001\u4e00\u5ea6docker-compose\u3092\u6b62\u3081\u3066\u518d\u8d77\u52d5\u3057\u305f\u3042\u3068\u3001\u3082\u3046\u4e00\u5ea6docker-compose ps\u3067\u78ba\u8a8d\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u4e0a\u8a18\uff14\u3064\u306e\u30b3\u30f3\u30c6\u30ca\u306eState\u304cUp\u3067\u3042\u308c\u3070\u6b21\u306e\u624b\u9806\u306b\u9032\u3081\u307e\u3059\u3002\n\nLaravel\u3067RESTful\u306aAPI\u3092\u958b\u767a\u3057\u3066\u307f\u308b\uff08\u6295\u7a3f\u6a5f\u80fd\uff09\n\u53c2\u8003\uff1aLaravel\u3067Rest API\u3092\u958b\u767a\u3059\u308b\n\u7d9a\u3051\u3066\u3001Docker\u3067workspace\u306b\u5165\u3063\u3066\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n$ docker exec -it laradock_workspace_1 /bin/bash\nphp artisan make:model Post\n\nartisan\u30b3\u30de\u30f3\u30c9\u3067MVC\u30e2\u30c7\u30eb\u306eModel\u3068\u3057\u3066Post.php\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\ntestapp/app/Post.php\u3092\u958b\u3044\u3066protected~\u3092\u4e0b\u8a18\u306e\u901a\u308a\u8ffd\u8a18\u3057\u307e\u3059\u3002\n<?php\n\nnamespace App;\n\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass Post extends Model\n{\n    //\n    protected $table = 'posts';\n}\n\n\u6b21\u306b\u3001testapp/app/Http/Controllers/Controller.php\u3092\u8907\u88fd\u3057\u3066\u4e0b\u8a18\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\ntestapp/app/Http/Controllers/PostController.php\n<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Foundation\\Bus\\DispatchesJobs;\nuse Illuminate\\Routing\\Controller as BaseController;\nuse Illuminate\\Foundation\\Validation\\ValidatesRequests;\nuse Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests;\n\nuse App\\Http\\Controllers\\PostController;\nuse App\\Post;\n\nclass PostController extends BaseController\n{\n    use AuthorizesRequests, DispatchesJobs, ValidatesRequests;\n\n    public function getIndex() {\n        $posts = Post::all();\n        return response()->json(json_encode($posts));\n    }\n}\n\n\u6700\u5f8c\u306b\u3001testapp/routes/web.php\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n<?php\n\nRoute::get('/', 'PostController@getIndex');\n\n\u6b8b\u308a\u306fDocker\u306e\u65b9\u3067migration\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nphp artisan make:migration create_posts_table --create=posts\n\n\u3059\u308b\u3068\u3001testapp/database/migrations/2016_12_21_025507_create_posts_table.php\u304c\u3067\u304d\u3066\u3044\u307e\u3059\u3002\n\u30d5\u30a1\u30a4\u30eb\u540d\u5192\u982d\u306e\u6570\u5b57\u306f\u4f5c\u6210\u65e5\u6642\u3067\u3059\u3002\ntestapp/config/app.php\u306e'timezone'\u3092'Asia/Tokyo'\u306b\u3001'locale'\u3092'ja'\u306b\u3059\u308b\u3068\u3044\u3044\u3067\u3059\u304c\u3001\n\u7279\u306b\u6c17\u306b\u306a\u3089\u306a\u3044\u4eba\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067\u3082\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nup\u30e1\u30bd\u30c3\u30c9\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067id\u3068timestamps\u304c\u4f5c\u3089\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u7528\u9014\u306b\u5408\u308f\u305b\u3066\u30ab\u30e9\u30e0\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306fPost\u306a\u306e\u3067title\u3068content\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n<?php\n\nuse Illuminate\\Support\\Facades\\Schema;\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Database\\Migrations\\Migration;\n\nclass CreatePostsTable extends Migration\n{\n    /**\n     * Run the migrations.\n     *\n     * @return void\n     */\n    public function up()\n    {\n        Schema::create('posts', function (Blueprint $table) {\n            $table->increments('id');\n            $table->timestamps();\n            $table->string('title');\n            $table->string('content');\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\n    public function down()\n    {\n        Schema::dropIfExists('posts');\n    }\n}\n\nDocker\u3067migrate\u3057\u307e\u3059\u3002\nphp artisan migrate\n\n\u3053\u3053\u304b\u3089\u306f\u30c7\u30fc\u30bf\u306e\u633f\u5165\u3067\u3059\u3002\nphp artisan tinker\n>>> $posts = new App\\Post();\n>>> $posts->title = 'title 1';\n>>> $posts->content = 'content1';\n>>> $posts->save();\n>>> exit\n\n\u30d6\u30e9\u30a6\u30b6\u3092\u66f4\u65b0\u3057\u3066\u3001json\u5f62\u5f0f\u3067\u30c7\u30fc\u30bf\u304c\u8fd4\u3063\u3066\u304d\u305f\u3089\u6210\u529f\u3067\u3059\u3002\n# \u6982\u8981\nWeb\u30a2\u30d7\u30ea\u958b\u767a\u306e\u7814\u4fee\u3067RestAPI\u3092\u4f5c\u308b\u3053\u3068\u306b\u306a\u3063\u305f\u306e\u3067\u3001Docker\uff0bLaradock\u3067Laravel\u4f7f\u3063\u305fRestAPI\u958b\u767a\u3092\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n**\u53c2\u8003\uff1a[Laravel\u4f7f\u3063\u305f\u958b\u767a\u306bLaradock\u3092\u4f7f\u3046\u3068\u3044\u3046\u306e\u306f\u3069\u3046\u3060\u308d\u3046](http://qiita.com/niisan-tokyo/items/d4485b8bb4fbfcfcc6be)**\n\n## \u74b0\u5883\u60c5\u5831\n\n- Windows7\n- Docker Toolbox\n  - Docker\uff08\u30d0\u30fc\u30b8\u30e7\u30f3\uff1a1.12.0)\n  - VirtualBox\uff08\u30d0\u30fc\u30b8\u30e7\u30f3\uff1a5.0.30\uff09\n- git version 2.9.0.windows.1\n\n# Laradock\u3067\u958b\u767a\u74b0\u5883\u3092\u6574\u3048\u308b\n\n## Laradock\u306e\u5c0e\u5165\n\nDocker\u3092\u8d77\u52d5\u3057\u3066\u3001\u4efb\u610f\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078cd\u3067\u79fb\u52d5\u3002\n\u5bb9\u91cf\u306b\u4f59\u88d5\u306e\u3042\u308b`(E:)`\u3067\u4f5c\u696d\u3057\u3088\u3046\u3068\u3057\u305f\u3089\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f\u305f\u3081\u3001\u79c1\u306f`C:\\Users\\{\u30e6\u30fc\u30b6\u30fc\u540d}\\docker`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u305d\u3053\u3067\u4f5c\u696d\u3092\u9032\u3081\u307e\u3057\u305f\u3002\n\n```\n$ mkdir laraveltest\n```\n\n\u300claraveltest\u300d\u90e8\u5206\u306f\u4efb\u610f\u306e\u540d\u524d\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n$ cd laraveltest\n$ git clone https://github.com/LaraDock/laradock.git\n```\n\n\u3053\u3053\u307e\u3067\u3067Laradock\u306e\u5c0e\u5165\u306fOK\u3067\u3059\u3002\n\n## Laravel\u3067create-project\u3059\u308b\n\n```\n$ cd laradock\n$ docker-compose up -d workspace\n$ docker-compose ps\n```\n\n`docker-compose ps`\u3067\u73fe\u5728\u7acb\u3061\u4e0a\u304c\u3063\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n         Name               Command      State    Ports\n-------------------------------------------------------\nlaradock_application_1   true            Exit 0\nlaradock_workspace_1     /sbin/my_init   Up\n```\n\n\u73fe\u5728\u7acb\u3061\u4e0a\u304c\u3063\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u306f`laradock_workspace_1`\u3067\u3059\u3002\n\u3053\u306eworkspace\u306b\u5165\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n```\n$ docker exec -it laradock_workspace_1 /bin/bash\n```\n\n\u7d9a\u3044\u3066\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u300ctestapp\u300d\u3068\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\ncomposer create-project laravel/laravel testapp\n```\n\n`Do not run Composer as root/super user! See https://getcomposer.org/root for details`\u3068\u51fa\u3066\u304d\u307e\u3059\u304c\u3001\u6c17\u306b\u3057\u306a\u3044\uff08\u6c17\u306b\u3057\u305f\u65b9\u304c\u3044\u3044\u306e\u304b\u306a\uff1f\uff09\u3002\n\u6642\u9593\u304c\u304b\u304b\u308b\u306e\u3067\u3001Laravel\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u7d42\u308f\u308b\u307e\u3067\u306f\u4f55\u304b\u4ed6\u306e\u4f5c\u696d\u3084\u52c9\u5f37\u3092\u3057\u3066\u304a\u304f\u3068\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n`set successfully.`\u304c\u51fa\u305f\u3089create-project\u6210\u529f\u3067\u3059\u3002\n\n## \u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\u3067\u304d\u308b\u3088\u3046\u306b\u74b0\u5883\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n ls\nlaradock  testapp\n exit # workspace\u304b\u3089\u51fa\u308b\n$ docker-compose stop # \u4eca\u52d5\u3044\u3066\u3044\u308bworkspace\u3092\u6b62\u3081\u308b\n$ ls ../\nlaradock/  testapp/\n```\n\n`ls ../`\u3067\u30db\u30b9\u30c8PC\u306b\u3082testapp\u304c\u3067\u304d\u3066\u3044\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u305d\u308c\u3067\u306f\u3001laradock\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u3089\u308c\u3066\u3044\u308b`docker-compose.yml`\u3092\u958b\u304d\u307e\u3059\u3002\n\n```\n### Applications Code Container #############################\n\n    applications:\n        image: tianon/true\n        volumes:\n            - ../:/var/www\n```\n\n\u306e\u3068\u3053\u308d\u3092\n\n```\n        volumes:\n            - ../testapp:/var/www\n```\n\n\u306b\u7de8\u96c6\u3057\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\u7d9a\u3044\u3066\u3001testapp/.env\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066DB_HOST\u306e\u5024\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5909\u66f4\u3057\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\u203b\u6587\u5b57\u30b3\u30fc\u30c9\u306fUTF-8\u3067\u3059\u3002\n\n```\nDB_HOST=mysql\n```\n\n\u3053\u308c\u3067\u74b0\u5883\u8a2d\u5b9a\u306fOK\u3067\u3059\u3002\u4e0b\u8a18\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\n$ docker-compose up -d php-fpm nginx mysql\n```\n\n\u8d77\u52d5\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u30d6\u30e9\u30a6\u30b6\u3067192.168.99.100\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u300cLaravel\u300d\u3068\u8868\u793a\u3055\u308c\u305f\u3089OK\u3067\u3059\u3002\n\n\u3053\u3053\u3067\u5ff5\u306e\u305f\u3081\u3001\u4e0b\u8a18\u3067\u5168\u3066\u306eState\u304cUp\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\uff08\u306a\u305c\u304bMySQL\u3060\u3051\u7acb\u3061\u4e0a\u304c\u3063\u3066\u3044\u306a\u304f\u3066\u306e\u3061\u306e\u3061SQL\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3053\u3068\u304c\u3042\u308b\u305f\u3081\uff09\u3002\n\n```\n$ docker-compose ps\n```\n\n- laradock_workspace_1\n- laradock_php-fpm_1\n- laradock_nginx_1\n- laradock_mysql_1\n\n\u3053\u308c\u304b\u3089\u5168\u3066\u306eState\u304cUp\u306b\u306a\u3063\u3066\u3044\u308c\u3070OK\u3067\u3059\u3002\nUp\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u30b3\u30f3\u30c6\u30ca\u304c\u3042\u308b\u5834\u5408\u306f\u3001\u4e00\u5ea6docker-compose\u3092\u6b62\u3081\u3066\u518d\u8d77\u52d5\u3057\u305f\u3042\u3068\u3001\u3082\u3046\u4e00\u5ea6`docker-compose ps`\u3067\u78ba\u8a8d\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u4e0a\u8a18\uff14\u3064\u306e\u30b3\u30f3\u30c6\u30ca\u306eState\u304cUp\u3067\u3042\u308c\u3070\u6b21\u306e\u624b\u9806\u306b\u9032\u3081\u307e\u3059\u3002\n\n\n# Laravel\u3067RESTful\u306aAPI\u3092\u958b\u767a\u3057\u3066\u307f\u308b\uff08\u6295\u7a3f\u6a5f\u80fd\uff09\n\n**\u53c2\u8003\uff1a[Laravel\u3067Rest API\u3092\u958b\u767a\u3059\u308b](http://dim5.net/laravel/developing-rest-api.html)**\n\n\u7d9a\u3051\u3066\u3001Docker\u3067workspace\u306b\u5165\u3063\u3066\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```\n$ docker exec -it laradock_workspace_1 /bin/bash\nphp artisan make:model Post\n```\n\nartisan\u30b3\u30de\u30f3\u30c9\u3067MVC\u30e2\u30c7\u30eb\u306eModel\u3068\u3057\u3066Post.php\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n**testapp/app/Post.php**\u3092\u958b\u3044\u3066`protected~`\u3092\u4e0b\u8a18\u306e\u901a\u308a\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```php\n<?php\n\nnamespace App;\n\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass Post extends Model\n{\n    //\n\tprotected $table = 'posts';\n}\n```\n\n\u6b21\u306b\u3001testapp/app/Http/Controllers/Controller.php\u3092\u8907\u88fd\u3057\u3066\u4e0b\u8a18\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n**testapp/app/Http/Controllers/PostController.php**\n\n```php\n<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Foundation\\Bus\\DispatchesJobs;\nuse Illuminate\\Routing\\Controller as BaseController;\nuse Illuminate\\Foundation\\Validation\\ValidatesRequests;\nuse Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests;\n\nuse App\\Http\\Controllers\\PostController;\nuse App\\Post;\n\nclass PostController extends BaseController\n{\n    use AuthorizesRequests, DispatchesJobs, ValidatesRequests;\n\n    public function getIndex() {\n        $posts = Post::all();\n        return response()->json(json_encode($posts));\n    }\n}\n```\n\n\u6700\u5f8c\u306b\u3001**testapp/routes/web.php**\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n```php\n<?php\n\nRoute::get('/', 'PostController@getIndex');\n```\n\n\n\u6b8b\u308a\u306fDocker\u306e\u65b9\u3067migration\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```\nphp artisan make:migration create_posts_table --create=posts\n```\n\n\u3059\u308b\u3068\u3001**testapp/database/migrations/2016_12_21_025507_create_posts_table.php**\u304c\u3067\u304d\u3066\u3044\u307e\u3059\u3002\n\u30d5\u30a1\u30a4\u30eb\u540d\u5192\u982d\u306e\u6570\u5b57\u306f\u4f5c\u6210\u65e5\u6642\u3067\u3059\u3002\n`testapp/config/app.php`\u306e`'timezone' `\u3092`'Asia/Tokyo'`\u306b\u3001`'locale'`\u3092`'ja'`\u306b\u3059\u308b\u3068\u3044\u3044\u3067\u3059\u304c\u3001\n\u7279\u306b\u6c17\u306b\u306a\u3089\u306a\u3044\u4eba\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067\u3082\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nup\u30e1\u30bd\u30c3\u30c9\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067id\u3068timestamps\u304c\u4f5c\u3089\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u7528\u9014\u306b\u5408\u308f\u305b\u3066\u30ab\u30e9\u30e0\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306fPost\u306a\u306e\u3067title\u3068content\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\n```php\n<?php\n\nuse Illuminate\\Support\\Facades\\Schema;\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Database\\Migrations\\Migration;\n\nclass CreatePostsTable extends Migration\n{\n    /**\n     * Run the migrations.\n     *\n     * @return void\n     */\n    public function up()\n    {\n        Schema::create('posts', function (Blueprint $table) {\n            $table->increments('id');\n            $table->timestamps();\n            $table->string('title');\n            $table->string('content');\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\n    public function down()\n    {\n        Schema::dropIfExists('posts');\n    }\n}\n```\n\nDocker\u3067migrate\u3057\u307e\u3059\u3002\n\n```\nphp artisan migrate\n```\n\n\u3053\u3053\u304b\u3089\u306f\u30c7\u30fc\u30bf\u306e\u633f\u5165\u3067\u3059\u3002\n\n```\nphp artisan tinker\n>>> $posts = new App\\Post();\n>>> $posts->title = 'title 1';\n>>> $posts->content = 'content1';\n>>> $posts->save();\n>>> exit\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3092\u66f4\u65b0\u3057\u3066\u3001json\u5f62\u5f0f\u3067\u30c7\u30fc\u30bf\u304c\u8fd4\u3063\u3066\u304d\u305f\u3089\u6210\u529f\u3067\u3059\u3002\n", "tags": ["windows7", "docker", "laravel", "LaraDock"]}