{"context": "\u9700\u8981\u304c\u3042\u308b\u304b\u306f\u4e0d\u660e(\u591a\u5206\u306a\u3044)\n\u3044\u3061\u3044\u3061\u30b3\u30de\u30f3\u30c9\u6253\u3064\u306e\u304c\u5927\u5909\u3060\u3063\u305f\n\nallrestart.sh\n#!/bin/sh\n\necho \"allrestart.sh START\"\n\n#unicorn\nps -ef | grep unicorn | grep -v grep\n\nkill -QUIT `cat tmp/unicorn.pid`\n\necho \"unicorn\u505c\u6b62\u4e2d......\"\nsleep 5;\n\n#unicorn-start\nunicorn -E production -c config/unicorn.rb -D\n\n\n#nginx\nsudo service nginx reload\nsudo service nginx restart\n\n\necho \"--------------------------------------------------\"\n\necho \"NOW STATUS\"\n\nps -ef | grep unicorn | grep -v grep\n\nsudo service nginx status\n\necho \"--------------------------------------------------\"\n\necho \"allrestart.sh FINISH\"\n\n\n\u30a2\u30d7\u30ea\u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u3063\u3068\u3044\u3066\n$ sh allrestart.sh\n\n\u9700\u8981\u304c\u3042\u308b\u304b\u306f\u4e0d\u660e(\u591a\u5206\u306a\u3044)\n\u3044\u3061\u3044\u3061\u30b3\u30de\u30f3\u30c9\u6253\u3064\u306e\u304c\u5927\u5909\u3060\u3063\u305f\n\n```sh:allrestart.sh\n#!/bin/sh\n\necho \"allrestart.sh START\"\n\n#unicorn\nps -ef | grep unicorn | grep -v grep\n\nkill -QUIT `cat tmp/unicorn.pid`\n\necho \"unicorn\u505c\u6b62\u4e2d......\"\nsleep 5;\n\n#unicorn-start\nunicorn -E production -c config/unicorn.rb -D\n\n\n#nginx\nsudo service nginx reload\nsudo service nginx restart\n\n\necho \"--------------------------------------------------\"\n\necho \"NOW STATUS\"\n\nps -ef | grep unicorn | grep -v grep\n\nsudo service nginx status\n\necho \"--------------------------------------------------\"\n\necho \"allrestart.sh FINISH\"\n```\n\n\u30a2\u30d7\u30ea\u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u3063\u3068\u3044\u3066\n\n```sh\n$ sh allrestart.sh\n```\n", "tags": ["unicorn", "nginx", "CentOS", "\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8"]}