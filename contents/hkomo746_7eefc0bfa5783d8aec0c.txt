{"context": " More than 1 year has passed since last update.\u3074\u307d\u3084\u3055\u3093\u304c\u30b9\u30d7\u30e9\u30a4\u30c8\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u7528\u306e\u7d20\u6750\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u8a66\u3057\u306b\u7206\u5f3e\u304c\u7206\u767a\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\u30c6\u30af\u30b9\u30c1\u30e3\u306b\u306f\u3053\u3061\u3089\u306e\u753b\u50cf\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\u30bf\u30c3\u30d7\u3057\u305f\u5834\u6240\u306b\u7206\u5f3e\u3092\u7f6e\u3044\u3066\u3001\u6642\u9593\u7d4c\u904e\u3068\u3068\u3082\u306b\u7206\u767a\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306f\u3053\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002\n\nHelloScene.m\n- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event\n{\n    UITouch *touch = [touches anyObject];\n    CGPoint location = [touch locationInNode:self];\n    int type = rand() % 5;\n    SKTexture *texture = [SKTexture textureWithImageNamed:@\"bomb.png\"];\n    SKSpriteNode *sprite = [SKSpriteNode spriteNodeWithTexture:[self newBomTexture:texture x:0 y:type]];\n    sprite.position = location;\n    [self addChild:sprite];\n    SKAction *action = [self newBomAction:type texture:texture];\n    [sprite runAction:action completion:^{\n        [sprite removeFromParent];\n    }];\n}\n\n- (SKAction *) newBomAction:(int)type texture:(SKTexture *)texture\n{\n    SKAction *action = nil;\n    NSMutableArray *array = [NSMutableArray array];\n    for (int x=0; x < 6; x++) {\n        [array addObject:[self newBomTexture:texture x:x y:9-type]];\n    }\n    for (int x=0; x < 6; x++) {\n        [array addObject:[self newBomTexture:texture x:x y:9-(type+5)]];\n    }\n    action = [SKAction animateWithTextures:[array copy] timePerFrame:0.2];\n    return action;\n}\n\n- (SKTexture *) newBomTexture:(SKTexture *)texture x:(int)x y:(int)y\n{\n    CGFloat pngWidth = 192.0;\n    CGFloat pngHeight = 320.0;\n    CGFloat rectWidth = pngWidth / 6.0;\n    CGFloat rectHeight = pngHeight / 10.0;\n    return [SKTexture textureWithRect:CGRectMake(x*rectWidth/pngWidth, y*rectHeight/pngHeight, rectWidth/pngWidth, rectHeight/pngHeight) inTexture:texture];\n}\n\n\n\u5b9f\u884c\u7d50\u679c\u306f\u3053\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u4eca\u56de\u306f\u3053\u3053\u307e\u3067\u3002\n\n[\u3074\u307d\u3084](http://piposozai.blog76.fc2.com/ \"\u3074\u307d\u3084\")\u3055\u3093\u304c\u30b9\u30d7\u30e9\u30a4\u30c8\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u7528\u306e\u7d20\u6750\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u8a66\u3057\u306b\u7206\u5f3e\u304c\u7206\u767a\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u30c6\u30af\u30b9\u30c1\u30e3\u306b\u306f\u3053\u3061\u3089\u306e\u753b\u50cf\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n![bomb.png](https://qiita-image-store.s3.amazonaws.com/0/30731/2156270c-3853-541a-55b6-5705cc7e95fa.png \"bomb.png\")\n\n\u30bf\u30c3\u30d7\u3057\u305f\u5834\u6240\u306b\u7206\u5f3e\u3092\u7f6e\u3044\u3066\u3001\u6642\u9593\u7d4c\u904e\u3068\u3068\u3082\u306b\u7206\u767a\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306f\u3053\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002\n\n```objectivec:HelloScene.m\n- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event\n{\n\tUITouch *touch = [touches anyObject];\n\tCGPoint location = [touch locationInNode:self];\n\tint type = rand() % 5;\n\tSKTexture *texture = [SKTexture textureWithImageNamed:@\"bomb.png\"];\n\tSKSpriteNode *sprite = [SKSpriteNode spriteNodeWithTexture:[self newBomTexture:texture x:0 y:type]];\n\tsprite.position = location;\n\t[self addChild:sprite];\n\tSKAction *action = [self newBomAction:type texture:texture];\n\t[sprite runAction:action completion:^{\n\t\t[sprite removeFromParent];\n\t}];\n}\n\n- (SKAction *) newBomAction:(int)type texture:(SKTexture *)texture\n{\n\tSKAction *action = nil;\n\tNSMutableArray *array = [NSMutableArray array];\n\tfor (int x=0; x < 6; x++) {\n\t\t[array addObject:[self newBomTexture:texture x:x y:9-type]];\n\t}\n\tfor (int x=0; x < 6; x++) {\n\t\t[array addObject:[self newBomTexture:texture x:x y:9-(type+5)]];\n\t}\n\taction = [SKAction animateWithTextures:[array copy] timePerFrame:0.2];\n\treturn action;\n}\n\n- (SKTexture *) newBomTexture:(SKTexture *)texture x:(int)x y:(int)y\n{\n\tCGFloat pngWidth = 192.0;\n\tCGFloat pngHeight = 320.0;\n\tCGFloat rectWidth = pngWidth / 6.0;\n\tCGFloat rectHeight = pngHeight / 10.0;\n\treturn [SKTexture textureWithRect:CGRectMake(x*rectWidth/pngWidth, y*rectHeight/pngHeight, rectWidth/pngWidth, rectHeight/pngHeight) inTexture:texture];\n}\n```\n\n\u5b9f\u884c\u7d50\u679c\u306f\u3053\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n![spritekit_15_01.png](https://qiita-image-store.s3.amazonaws.com/0/30731/35d753b5-0b11-b9a2-f6d2-385215f0708b.png \"spritekit_15_01.png\")\n\n\u4eca\u56de\u306f\u3053\u3053\u307e\u3067\u3002\n\n\n\n", "tags": ["SpriteKit\u5165\u9580"]}