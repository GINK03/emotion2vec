{"context": " More than 1 year has passed since last update.\n\n\u74b0\u5883\n\nMac OS X Version 10.9.5\nScala 2.10.4\nSpark 1.1.0\nSpark MLlib 1.1.0\nsbt 0.13.1\n\n\n\u6e96\u5099\n/root/to/project/path\n   |-- build.sbt\n   |-- src\n   |    |-- main\n   |    |    |-- scala\n   |    |    |    |-- Stoppable.scala\n   |    |-- test\n   |    |    |-- scala\n   |    |    |    |-- SparkMLlibCorrelationSpec.scala\n\n\nbuild.sbt\nname := \"Spark MLlib examples\"                                                                                                                                                    \n\nversion := \"0.0.1-SNAPSHOT\"\n\nscalaVersion := \"2.10.4\"\n\nscalacOptions ++= Seq(\"-Xlint\", \"-deprecation\", \"-unchecked\", \"-feature\", \"-Xelide-below\", \"ALL\")\n\nlibraryDependencies ++= Seq(\n  \"org.apache.spark\" %% \"spark-core\" % \"1.1.0\",\n  \"org.apache.spark\" %% \"spark-mllib\" % \"1.1.0\",\n  \"org.specs2\" %% \"specs2\" % \"2.4.1\"\n)\n\n\n\n\u5b9f\u88c5\n\nsrc/test/scala/SparkMLlibCorrelationSpec.scala\nimport commons._                                                                                                                                                                  \n\nimport org.apache.spark._\nimport org.apache.spark.mllib.stat._\nimport org.apache.spark.mllib.stat.correlation._\nimport org.apache.spark.SparkContext._\n\nimport org.specs2._\n\nclass SparkMLlibCorrelationSpec extends Specification with Stoppable { def is = s2\"\"\"\n\n  Spark MLlib\n\n  Correlation\n    correlation1                               $correlation1\n  \"\"\"\n\n  // \u6c17\u6e29\u3068\u30d3\u30fc\u30eb\u306e\u51fa\u8377\u6570\n  val xData = Array(12.1, 15.3, 18.6, 21.7, 26.1, 32.1)\n  val yData = Array(45.0, 520.0, 2864.0, 6874.0, 25487.0, 102870.0)\n\n  var retCorrelation1: Double = _ \n  using(new SparkContext(\"local[1]\", \"SparkMLlibCorrelationSpec\", System.getenv(\"SPARK_HOME\"))) { sc =>\n    val x = sc.parallelize(xData)\n    val y = sc.parallelize(yData)\n    retCorrelation1 = Statistics.corr(x, y, \"pearson\")\n  }\n  // \u3053\u306e\u76f8\u95a2\u4fc2\u6570\u3092\u7b97\u51fa\u3057\u3066\u3044\u308b\u30da\u30fc\u30b8:http://dekiru.net/article/4576/\n  def correlation1 = retCorrelation1 must_== 0.8633475827899126\n}\n\n\n\nsrc/main/scala/Stoppable.scala\npackage commons                                                                                                                                                                   \n\nimport scala.language.reflectiveCalls\n\ntrait Stoppable {\n  type T = { def stop(): Unit }\n  def using[A <: T, B](resource: A)(f: A => B) = try {\n    f(resource)\n  } finally {\n    resource.stop()\n  }\n}\n\n\n\n\u5b9f\u884c\n$ sbt '~test-only SparkMLlibCorrelationSpec'\n\n\n\u53c2\u8003\nhttp://spark.apache.org/docs/1.1.0/mllib-statistics.html#correlations\n\n## \u74b0\u5883\n* Mac OS X Version 10.9.5\n* Scala 2.10.4\n* Spark 1.1.0\n* Spark MLlib 1.1.0\n* sbt 0.13.1\n\n## \u6e96\u5099\n\n```tree\n/root/to/project/path\n   |-- build.sbt\n   |-- src\n   |    |-- main\n   |    |    |-- scala\n   |    |    |    |-- Stoppable.scala\n   |    |-- test\n   |    |    |-- scala\n   |    |    |    |-- SparkMLlibCorrelationSpec.scala\n```\n\n```build.sbt\nname := \"Spark MLlib examples\"                                                                                                                                                    \n\nversion := \"0.0.1-SNAPSHOT\"\n\nscalaVersion := \"2.10.4\"\n\nscalacOptions ++= Seq(\"-Xlint\", \"-deprecation\", \"-unchecked\", \"-feature\", \"-Xelide-below\", \"ALL\")\n\nlibraryDependencies ++= Seq(\n  \"org.apache.spark\" %% \"spark-core\" % \"1.1.0\",\n  \"org.apache.spark\" %% \"spark-mllib\" % \"1.1.0\",\n  \"org.specs2\" %% \"specs2\" % \"2.4.1\"\n)\n```\n\n## \u5b9f\u88c5\n```src/test/scala/SparkMLlibCorrelationSpec.scala\nimport commons._                                                                                                                                                                  \n\nimport org.apache.spark._\nimport org.apache.spark.mllib.stat._\nimport org.apache.spark.mllib.stat.correlation._\nimport org.apache.spark.SparkContext._\n\nimport org.specs2._\n\nclass SparkMLlibCorrelationSpec extends Specification with Stoppable { def is = s2\"\"\"\n\n  Spark MLlib\n\n  Correlation\n    correlation1                               $correlation1\n  \"\"\"\n\n  // \u6c17\u6e29\u3068\u30d3\u30fc\u30eb\u306e\u51fa\u8377\u6570\n  val xData = Array(12.1, 15.3, 18.6, 21.7, 26.1, 32.1)\n  val yData = Array(45.0, 520.0, 2864.0, 6874.0, 25487.0, 102870.0)\n\n  var retCorrelation1: Double = _ \n  using(new SparkContext(\"local[1]\", \"SparkMLlibCorrelationSpec\", System.getenv(\"SPARK_HOME\"))) { sc =>\n    val x = sc.parallelize(xData)\n    val y = sc.parallelize(yData)\n    retCorrelation1 = Statistics.corr(x, y, \"pearson\")\n  }\n  // \u3053\u306e\u76f8\u95a2\u4fc2\u6570\u3092\u7b97\u51fa\u3057\u3066\u3044\u308b\u30da\u30fc\u30b8:http://dekiru.net/article/4576/\n  def correlation1 = retCorrelation1 must_== 0.8633475827899126\n}\n```\n\n```src/main/scala/Stoppable.scala\npackage commons                                                                                                                                                                   \n\nimport scala.language.reflectiveCalls\n\ntrait Stoppable {\n  type T = { def stop(): Unit }\n  def using[A <: T, B](resource: A)(f: A => B) = try {\n    f(resource)\n  } finally {\n    resource.stop()\n  }\n}\n```\n\n## \u5b9f\u884c\n\n```shell\n$ sbt '~test-only SparkMLlibCorrelationSpec'\n```\n\n## \u53c2\u8003\n\nhttp://spark.apache.org/docs/1.1.0/mllib-statistics.html#correlations\n", "tags": ["Spark1.1.0", "Scala2.10.4", "sparkmllib1.1.0"]}