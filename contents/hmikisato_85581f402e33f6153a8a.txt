{"context": "\n\n\u6700\u521d\u306e\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3\uff08\u524d\u63d0\uff09\nAWS\u4e0a\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u52d5\u304b\u3057\u3066\u3044\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30ed\u30b0\u3084syslog\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u6b62\u307e\u3063\u305f\u3089\u6d88\u3048\u3066\u3057\u307e\u3046\u306e\u3067S3\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3044\u3001\u3068\u3044\u3046\u4e8b\u306f\u3088\u304f\u3042\u308a\u307e\u3059\u3002\n\u305d\u3093\u306a\u6642\u306b\u66f8\u304f\u8a2d\u5b9a\u306f\u3060\u3044\u305f\u3044\u3053\u3093\u306a\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\n<source>\n  @type tail\n  path /var/log/aaa.log\n  pos_file /var/log/td-agent/pos/aaa.pos\n  tag server.log.aaa\n  format none\n</source>\n<source>\n  @type tail\n  path /var/log/bbb.log\n  pos_file /var/log/td-agent/pos/bbb.pos\n  tag server.log.bbb\n  format none\n</source>\n<source>\n  @type tail\n  path /var/log/ccc.log\n  pos_file /var/log/td-agent/pos/ccc.pos\n  tag server.log.ccc\n  format none\n</source>\n\n<filter server.log.**>\n  @type record_transformer\n  <record>\n    hostname \"#{Socket.gethostname}\"\n  </record>\n</filter>\n\n<match server.log.**>\n  @type forest\n  subtype s3\n  remove_prefix server.log\n  <template>\n    aws_key_id {{aws_key}}\n    aws_sec_key {{aws_secret}}\n    s3_bucket server_log\n    s3_region ap-northeast-1\n    format single_value\n    message_key message\n    store_as gzip\n    path ${tag}/\n    s3_object_key_format %{path}%{time_slice}-%{hostname}_%{index}.%{file_extension}\n    buffer_path /var/log/td-agent/buffer/${tag}\n    time_slice_format %Y%m%d-%H\n    time_slice_wait 5m\n    utc\n  </template>\n</match>\n\nforest\u3092\u4f7f\u3063\u3066\u8a18\u8ff0\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u304c\u3001\u307e\u3042\u30d5\u30c4\u30fc\u3067\u3059\u306d\u3002\n\n\u6b21\u306a\u308b\u8981\u671b\uff08\u672c\u984c\uff09\n\u904b\u7528\u90e8\u9580\u304b\u3089\u3001\u300cbbb.log\u304c\u51fa\u308b\u6642\u306f\u969c\u5bb3\u306a\u306e\u3067\u3001slack\u306b\u30ed\u30b0\u306e\u5185\u5bb9\u3092\u901a\u77e5\u3057\u3066\u6b32\u3057\u3044\u300d\u3068\u8a00\u308f\u308c\u307e\u3057\u305f\u3002\n\nNG\u30d1\u30bf\u30fc\u30f3\u305d\u306e1\n\u307e\u3068\u3082\u306b\u52d5\u304b\u306a\u3044\u30d1\u30bf\u30fc\u30f3\n\uff08\u524d\u7565\uff09\n<match server.log.bbb>\n  @type slack\n  webhook_url {{webhook_url}}\n  channel {{alert_channel}}\n  username Server_Alert\n  icon_emoji :no_entry_sign:\n  flush_interval 1m\n</match>\n\n<match server.log.**>\n  @type forest\n  subtype s3\n  remove_prefix server.log\n  <template>\n    aws_key_id {{aws_key}}\n    aws_sec_key {{aws_secret}}\n    s3_bucket server_log\n    s3_region ap-northeast-1\n    format single_value\n    message_key message\n    store_as gzip\n    path ${tag}/\n    s3_object_key_format %{path}%{time_slice}-%{hostname}_%{index}.%{file_extension}\n    buffer_path /var/log/td-agent/buffer/${tag}\n    time_slice_format %Y%m%d-%H\n    time_slice_wait 5m\n    utc\n  </template>\n</match>\n\n\u3088\u304f\u3042\u308b\u30df\u30b9\uff08\u8a33\uff1a\u3088\u304f\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u306b\u3057\u3066\u3053\u3093\u306a\u6065\u305a\u304b\u3057\u3044\u30df\u30b9\u3092\u3059\u308b\u306e\u306f\u81ea\u5206\u3060\u3051\u3067\u306f\u306a\u3044\u4e8b\u306b\u3057\u305f\u3044\uff09\u3001 server.log.bbb \u304c server.log.** \u306b\u30de\u30c3\u30c1\u3059\u308b\u524d\u306b\u51e6\u7406\u304c\u7d42\u308f\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u3053\u308c\u3067\u306fbbb.log\u304cS3\u306b\u4e0a\u304c\u3089\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\nNG\u30d1\u30bf\u30fc\u30f3\u305d\u306e2\nNG\u3067\u306f\u306a\u3044\uff08\u60f3\u5b9a\u3069\u304a\u308a\u306e\u52d5\u304d\u306f\u3059\u308b\uff09\u3051\u3069\u306a\u3093\u304b\u3057\u3087\u3063\u3071\u3044\u30d1\u30bf\u30fc\u30f3\n\uff08\u524d\u7565\uff09\n<match server.log.bbb>\n  @type copy\n  <store>\n    type slack\n    webhook_url {{webhook_url}}\n    channel {{alert_channel}}\n    username Server_Alert\n    icon_emoji :no_entry_sign:\n    flush_interval 1m\n  </store>\n  <store>\n    type s3\n    aws_key_id {{aws_key}}\n    aws_sec_key {{aws_secret}}\n    s3_bucket server_log\n    s3_region ap-northeast-1\n    format single_value\n    message_key message\n    store_as gzip\n    path bbb/\n    s3_object_key_format %{path}%{time_slice}-%{hostname}_%{index}.%{file_extension}\n    buffer_path /var/log/td-agent/buffer/${tag}\n    time_slice_format %Y%m%d-%H\n    time_slice_wait 5m\n    utc\n  </store>\n</match>\n\n<match server.log.**>\n  @type forest\n  subtype s3\n  remove_prefix server.log\n  <template>\n    aws_key_id {{aws_key}}\n    aws_sec_key {{aws_secret}}\n    s3_bucket server_log\n    s3_region ap-northeast-1\n    format single_value\n    message_key message\n    store_as gzip\n    path ${tag}/\n    s3_object_key_format %{path}%{time_slice}-%{hostname}_%{index}.%{file_extension}\n    buffer_path /var/log/td-agent/buffer/${tag}\n    time_slice_format %Y%m%d-%H\n    time_slice_wait 5m\n    utc\n  </template>\n</match>\n\n\u305b\u3063\u304b\u304fforest\u3067\u8a2d\u5b9a\u3092\u5206\u3051\u305f\u306e\u306b\u3001\u30b3\u30d4\u30da\u304c\u767a\u751f\u3057\u3066\u7f8e\u3057\u304f\u306a\u3044\u3067\u3059\u3002\n\n\u3058\u3083\u3042\u3069\u3046\u3059\u308b\u306e\n\u3053\u3093\u306a\u6642\u3053\u305dlabel\u306e\u51fa\u756a\uff01\nFluentd v0.12 is Released - Fluentd Blog\nFluentd v0.12 \u30e9\u30d9\u30eb\u6a5f\u80fd\u306e\u4f7f\u3044\u65b9\u3068\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u6539\u4fee\u65b9\u6cd5\nFluentd v0.12\u3067\u306eFilter\u3068Label - Go ahead!\n<source>\n  @type tail\n  path /var/log/aaa.log\n  pos_file /var/log/td-agent/pos/aaa.pos\n  tag server.log.aaa\n  format none\n</source>\n<source>\n  @type tail\n  path /var/log/bbb.log\n  pos_file /var/log/td-agent/pos/bbb.pos\n  tag server.log.bbb\n  format none\n  @label @tee_slack  # <- A\n</source>\n<source>\n  @type tail\n  path /var/log/ccc.log\n  pos_file /var/log/td-agent/pos/ccc.pos\n  tag server.log.ccc\n  format none\n</source>\n\n<label @tee_slack>  # <- B\n<match server.log.bbb>\n  @type copy\n  <store>\n    type slack\n    webhook_url {{webhook_url}}\n    channel {{alert_channel}}\n    username Server_Alert\n    icon_emoji :no_entry_sign:\n    flush_interval 1m\n  </store>\n  <store>\n    type relabel\n    @label @to_s3\n  </store>\n</match>\n</label>\n\n<label @to_s3>  # <- D\n<filter server.log.**>\n  @type record_transformer\n  <record>\n    hostname \"#{Socket.gethostname}\"\n  </record>\n</filter>\n\n<match server.log.**>\n  @type forest\n  subtype s3\n  remove_prefix server.log\n  <template>\n    aws_key_id {{aws_key}}\n    aws_sec_key {{aws_secret}}\n    s3_bucket server_log\n    s3_region ap-northeast-1\n    format single_value\n    message_key message\n    store_as gzip\n    path ${tag}/\n    s3_object_key_format %{path}%{time_slice}-%{hostname}_%{index}.%{file_extension}\n    buffer_path /var/log/td-agent/buffer/${tag}\n    time_slice_format %Y%m%d-%H\n    time_slice_wait 5m\n    utc\n  </template>\n</match>\n</label>\n\n<match server.log.**>  # <- C\n  @type relabel\n  @label @to_s3\n</match>\n\n\n\u8a2d\u5b9a\u5185\u5bb9\u306e\u89e3\u8aac\n\nslack\u306b\u6d41\u3057\u305f\u3044\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306esource\u306b @label @tee_slack \u3092\u3064\u3051\u308b \uff08\u4e0a\u8a18A\uff09\n\n@tee_slack \u306e\u30e9\u30d9\u30eb\u304c\u3064\u3044\u305f\u30ed\u30b0\u306f\u307e\u305aB\u306b\u5230\u9054\u3001slack\u306b\u30ed\u30b0\u306e\u5185\u5bb9\u3092\u6295\u3052\u3064\u3051\u3064\u3064\u3001relabel\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u308alabel\u304c @to_s3 \u306b\u5909\u5316\n\u30e9\u30d9\u30eb\u304c\u3064\u3044\u3066\u3044\u306a\u3044\u30ed\u30b0\u306fC\u306b\u5230\u9054\u3001relabel\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u308a @to_s3 \u306e\u30e9\u30d9\u30eb\u304c\u4ed8\u4e0e\u3055\u308c\u308b\n\n@to_s3 \u306e\u30e9\u30d9\u30eb\u304c\u3064\u3044\u305f\u30ed\u30b0\u306fD\u306b\u5230\u9054\u3001\u30bf\u30b0\u306b\u5fdc\u3058\u305fKey\u306b\u3088\u3063\u3066S3\u306b\u6295\u3052\u3089\u308c\u308b\n\n\u9806\u756a\u306b\u8ffd\u3063\u3066\u3044\u3051\u3070\u7c21\u5358\u3067\u3059\u306d\u3002\n\n\u5b09\u3057\u3044\u3053\u3068\n\u3082\u3061\u308d\u3093rewrite-tag-filter\u30d7\u30e9\u30b0\u30a4\u30f3\u7b49\u3092\u4f7f\u3048\u3070\u3001\u30bf\u30b0\u306e\u4ed8\u3051\u66ff\u3048\u3067\u540c\u3058\u3053\u3068\u306f\u3067\u304d\u307e\u3059\u3002\nlabel\u3092\u4f7f\u3046\u65b9\u6cd5\u304c\u5b09\u3057\u3044\u306e\u306f\u3001 \u65e2\u5b58\u306ematch\u30eb\u30fc\u30eb\u306b\u3064\u3044\u3066\u306f <label></label> \u3067\u56f2\u3080\u3060\u3051\u3067\u826f\u304f\u3001\u66f8\u304d\u63db\u3048\u306e\u5fc5\u8981\u306f\u307b\u3068\u3093\u3069\u306a\u3044\u3068\u3044\u3046\u70b9\u3067\u3059\u3002\u7279\u306b\u30bf\u30b0\u306e\u547d\u540d\u898f\u5247\u306b\u5909\u66f4\u304c\u306a\u3044\u306e\u3067\u3001\u30bf\u30b0\u306b\u4f9d\u5b58\u3059\u308b\u8a2d\u5b9a\uff08\u3053\u306e\u4f8b\u3067\u306fforest\uff09\u306b\u5f71\u97ff\u304c\u51fa\u306a\u3044\u3068\u3044\u3046\u306e\u306f\u5927\u304d\u306a\u5229\u70b9\u3060\u3068\u601d\u3044\u307e\u3059\n# \u6700\u521d\u306e\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3\uff08\u524d\u63d0\uff09\nAWS\u4e0a\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u52d5\u304b\u3057\u3066\u3044\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30ed\u30b0\u3084syslog\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u6b62\u307e\u3063\u305f\u3089\u6d88\u3048\u3066\u3057\u307e\u3046\u306e\u3067S3\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3044\u3001\u3068\u3044\u3046\u4e8b\u306f\u3088\u304f\u3042\u308a\u307e\u3059\u3002\n\u305d\u3093\u306a\u6642\u306b\u66f8\u304f\u8a2d\u5b9a\u306f\u3060\u3044\u305f\u3044\u3053\u3093\u306a\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\n\n```aconf\n<source>\n  @type tail\n  path /var/log/aaa.log\n  pos_file /var/log/td-agent/pos/aaa.pos\n  tag server.log.aaa\n  format none\n</source>\n<source>\n  @type tail\n  path /var/log/bbb.log\n  pos_file /var/log/td-agent/pos/bbb.pos\n  tag server.log.bbb\n  format none\n</source>\n<source>\n  @type tail\n  path /var/log/ccc.log\n  pos_file /var/log/td-agent/pos/ccc.pos\n  tag server.log.ccc\n  format none\n</source>\n\n<filter server.log.**>\n  @type record_transformer\n  <record>\n    hostname \"#{Socket.gethostname}\"\n  </record>\n</filter>\n\n<match server.log.**>\n  @type forest\n  subtype s3\n  remove_prefix server.log\n  <template>\n    aws_key_id {{aws_key}}\n    aws_sec_key {{aws_secret}}\n    s3_bucket server_log\n    s3_region ap-northeast-1\n    format single_value\n    message_key message\n    store_as gzip\n    path ${tag}/\n    s3_object_key_format %{path}%{time_slice}-%{hostname}_%{index}.%{file_extension}\n    buffer_path /var/log/td-agent/buffer/${tag}\n    time_slice_format %Y%m%d-%H\n    time_slice_wait 5m\n    utc\n  </template>\n</match>\n```\n\nforest\u3092\u4f7f\u3063\u3066\u8a18\u8ff0\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u304c\u3001\u307e\u3042\u30d5\u30c4\u30fc\u3067\u3059\u306d\u3002\n\n# \u6b21\u306a\u308b\u8981\u671b\uff08\u672c\u984c\uff09\n\u904b\u7528\u90e8\u9580\u304b\u3089\u3001\u300cbbb.log\u304c\u51fa\u308b\u6642\u306f\u969c\u5bb3\u306a\u306e\u3067\u3001slack\u306b\u30ed\u30b0\u306e\u5185\u5bb9\u3092\u901a\u77e5\u3057\u3066\u6b32\u3057\u3044\u300d\u3068\u8a00\u308f\u308c\u307e\u3057\u305f\u3002\n\n## NG\u30d1\u30bf\u30fc\u30f3\u305d\u306e1\n\u307e\u3068\u3082\u306b\u52d5\u304b\u306a\u3044\u30d1\u30bf\u30fc\u30f3\n\n```aconf\n\uff08\u524d\u7565\uff09\n<match server.log.bbb>\n  @type slack\n  webhook_url {{webhook_url}}\n  channel {{alert_channel}}\n  username Server_Alert\n  icon_emoji :no_entry_sign:\n  flush_interval 1m\n</match>\n\n<match server.log.**>\n  @type forest\n  subtype s3\n  remove_prefix server.log\n  <template>\n    aws_key_id {{aws_key}}\n    aws_sec_key {{aws_secret}}\n    s3_bucket server_log\n    s3_region ap-northeast-1\n    format single_value\n    message_key message\n    store_as gzip\n    path ${tag}/\n    s3_object_key_format %{path}%{time_slice}-%{hostname}_%{index}.%{file_extension}\n    buffer_path /var/log/td-agent/buffer/${tag}\n    time_slice_format %Y%m%d-%H\n    time_slice_wait 5m\n    utc\n  </template>\n</match>\n```\n\n\u3088\u304f\u3042\u308b\u30df\u30b9\uff08\u8a33\uff1a\u3088\u304f\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u306b\u3057\u3066\u3053\u3093\u306a\u6065\u305a\u304b\u3057\u3044\u30df\u30b9\u3092\u3059\u308b\u306e\u306f\u81ea\u5206\u3060\u3051\u3067\u306f\u306a\u3044\u4e8b\u306b\u3057\u305f\u3044\uff09\u3001 `server.log.bbb` \u304c `server.log.**` \u306b\u30de\u30c3\u30c1\u3059\u308b\u524d\u306b\u51e6\u7406\u304c\u7d42\u308f\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u3053\u308c\u3067\u306fbbb.log\u304cS3\u306b\u4e0a\u304c\u3089\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n## NG\u30d1\u30bf\u30fc\u30f3\u305d\u306e2\nNG\u3067\u306f\u306a\u3044\uff08\u60f3\u5b9a\u3069\u304a\u308a\u306e\u52d5\u304d\u306f\u3059\u308b\uff09\u3051\u3069\u306a\u3093\u304b\u3057\u3087\u3063\u3071\u3044\u30d1\u30bf\u30fc\u30f3\n\n```aconf\n\uff08\u524d\u7565\uff09\n<match server.log.bbb>\n  @type copy\n  <store>\n    type slack\n    webhook_url {{webhook_url}}\n    channel {{alert_channel}}\n    username Server_Alert\n    icon_emoji :no_entry_sign:\n    flush_interval 1m\n  </store>\n  <store>\n    type s3\n    aws_key_id {{aws_key}}\n    aws_sec_key {{aws_secret}}\n    s3_bucket server_log\n    s3_region ap-northeast-1\n    format single_value\n    message_key message\n    store_as gzip\n    path bbb/\n    s3_object_key_format %{path}%{time_slice}-%{hostname}_%{index}.%{file_extension}\n    buffer_path /var/log/td-agent/buffer/${tag}\n    time_slice_format %Y%m%d-%H\n    time_slice_wait 5m\n    utc\n  </store>\n</match>\n\n<match server.log.**>\n  @type forest\n  subtype s3\n  remove_prefix server.log\n  <template>\n    aws_key_id {{aws_key}}\n    aws_sec_key {{aws_secret}}\n    s3_bucket server_log\n    s3_region ap-northeast-1\n    format single_value\n    message_key message\n    store_as gzip\n    path ${tag}/\n    s3_object_key_format %{path}%{time_slice}-%{hostname}_%{index}.%{file_extension}\n    buffer_path /var/log/td-agent/buffer/${tag}\n    time_slice_format %Y%m%d-%H\n    time_slice_wait 5m\n    utc\n  </template>\n</match>\n```\n\n\u305b\u3063\u304b\u304fforest\u3067\u8a2d\u5b9a\u3092\u5206\u3051\u305f\u306e\u306b\u3001\u30b3\u30d4\u30da\u304c\u767a\u751f\u3057\u3066\u7f8e\u3057\u304f\u306a\u3044\u3067\u3059\u3002\n\n# \u3058\u3083\u3042\u3069\u3046\u3059\u308b\u306e\n**\u3053\u3093\u306a\u6642\u3053\u305dlabel\u306e\u51fa\u756a\uff01**\n[Fluentd v0.12 is Released - Fluentd Blog]\n(http://www.fluentd.org/blog/fluentd-v0.12-is-released)\n[Fluentd v0.12 \u30e9\u30d9\u30eb\u6a5f\u80fd\u306e\u4f7f\u3044\u65b9\u3068\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u6539\u4fee\u65b9\u6cd5](http://qiita.com/sonots/items/a01d2233210b7b059967)\n[Fluentd v0.12\u3067\u306eFilter\u3068Label - Go ahead!]\n(http://repeatedly.github.io/ja/2014/08/fluentd-filter-and-label/)\n\n```aconf\n<source>\n  @type tail\n  path /var/log/aaa.log\n  pos_file /var/log/td-agent/pos/aaa.pos\n  tag server.log.aaa\n  format none\n</source>\n<source>\n  @type tail\n  path /var/log/bbb.log\n  pos_file /var/log/td-agent/pos/bbb.pos\n  tag server.log.bbb\n  format none\n  @label @tee_slack  # <- A\n</source>\n<source>\n  @type tail\n  path /var/log/ccc.log\n  pos_file /var/log/td-agent/pos/ccc.pos\n  tag server.log.ccc\n  format none\n</source>\n\n<label @tee_slack>  # <- B\n<match server.log.bbb>\n  @type copy\n  <store>\n    type slack\n    webhook_url {{webhook_url}}\n    channel {{alert_channel}}\n    username Server_Alert\n    icon_emoji :no_entry_sign:\n    flush_interval 1m\n  </store>\n  <store>\n    type relabel\n    @label @to_s3\n  </store>\n</match>\n</label>\n\n<label @to_s3>  # <- D\n<filter server.log.**>\n  @type record_transformer\n  <record>\n    hostname \"#{Socket.gethostname}\"\n  </record>\n</filter>\n\n<match server.log.**>\n  @type forest\n  subtype s3\n  remove_prefix server.log\n  <template>\n    aws_key_id {{aws_key}}\n    aws_sec_key {{aws_secret}}\n    s3_bucket server_log\n    s3_region ap-northeast-1\n    format single_value\n    message_key message\n    store_as gzip\n    path ${tag}/\n    s3_object_key_format %{path}%{time_slice}-%{hostname}_%{index}.%{file_extension}\n    buffer_path /var/log/td-agent/buffer/${tag}\n    time_slice_format %Y%m%d-%H\n    time_slice_wait 5m\n    utc\n  </template>\n</match>\n</label>\n\n<match server.log.**>  # <- C\n  @type relabel\n  @label @to_s3\n</match>\n```\n\n## \u8a2d\u5b9a\u5185\u5bb9\u306e\u89e3\u8aac\n1. slack\u306b\u6d41\u3057\u305f\u3044\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306esource\u306b `@label @tee_slack` \u3092\u3064\u3051\u308b \uff08\u4e0a\u8a18**A**\uff09\n2. `@tee_slack` \u306e\u30e9\u30d9\u30eb\u304c\u3064\u3044\u305f\u30ed\u30b0\u306f\u307e\u305a**B**\u306b\u5230\u9054\u3001slack\u306b\u30ed\u30b0\u306e\u5185\u5bb9\u3092\u6295\u3052\u3064\u3051\u3064\u3064\u3001relabel\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u308alabel\u304c `@to_s3` \u306b\u5909\u5316\n3. \u30e9\u30d9\u30eb\u304c\u3064\u3044\u3066\u3044\u306a\u3044\u30ed\u30b0\u306f**C**\u306b\u5230\u9054\u3001relabel\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u308a `@to_s3` \u306e\u30e9\u30d9\u30eb\u304c\u4ed8\u4e0e\u3055\u308c\u308b\n4. `@to_s3` \u306e\u30e9\u30d9\u30eb\u304c\u3064\u3044\u305f\u30ed\u30b0\u306f**D**\u306b\u5230\u9054\u3001\u30bf\u30b0\u306b\u5fdc\u3058\u305fKey\u306b\u3088\u3063\u3066S3\u306b\u6295\u3052\u3089\u308c\u308b\n\n\u9806\u756a\u306b\u8ffd\u3063\u3066\u3044\u3051\u3070\u7c21\u5358\u3067\u3059\u306d\u3002\n\n# \u5b09\u3057\u3044\u3053\u3068\n\u3082\u3061\u308d\u3093rewrite-tag-filter\u30d7\u30e9\u30b0\u30a4\u30f3\u7b49\u3092\u4f7f\u3048\u3070\u3001\u30bf\u30b0\u306e\u4ed8\u3051\u66ff\u3048\u3067\u540c\u3058\u3053\u3068\u306f\u3067\u304d\u307e\u3059\u3002\nlabel\u3092\u4f7f\u3046\u65b9\u6cd5\u304c\u5b09\u3057\u3044\u306e\u306f\u3001 \u65e2\u5b58\u306ematch\u30eb\u30fc\u30eb\u306b\u3064\u3044\u3066\u306f `<label></label>` \u3067\u56f2\u3080\u3060\u3051\u3067\u826f\u304f\u3001\u66f8\u304d\u63db\u3048\u306e\u5fc5\u8981\u306f\u307b\u3068\u3093\u3069\u306a\u3044\u3068\u3044\u3046\u70b9\u3067\u3059\u3002\u7279\u306b\u30bf\u30b0\u306e\u547d\u540d\u898f\u5247\u306b\u5909\u66f4\u304c\u306a\u3044\u306e\u3067\u3001\u30bf\u30b0\u306b\u4f9d\u5b58\u3059\u308b\u8a2d\u5b9a\uff08\u3053\u306e\u4f8b\u3067\u306fforest\uff09\u306b\u5f71\u97ff\u304c\u51fa\u306a\u3044\u3068\u3044\u3046\u306e\u306f\u5927\u304d\u306a\u5229\u70b9\u3060\u3068\u601d\u3044\u307e\u3059\n", "tags": ["fluentd", "td-agent2", "td-agent"]}