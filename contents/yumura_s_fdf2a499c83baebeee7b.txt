{"context": "\n\n\u554f\u984c\n\n\u672c\u5bb6\uff1aProblem 1 - Project Euler\n\n\u7ffb\u8a33\uff1aProblem 1 - PukiWiki\n\n\n\n10\u672a\u6e80\u306e\u81ea\u7136\u6570\u306e\u3046\u3061, 3 \u3082\u3057\u304f\u306f 5 \u306e\u500d\u6570\u306b\u306a\u3063\u3066\u3044\u308b\u3082\u306e\u306f 3, 5, 6, 9 \u306e4\u3064\u304c\u3042\u308a, \u3053\u308c\u3089\u306e\u5408\u8a08\u306f 23 \u306b\u306a\u308b.\n\u540c\u3058\u3088\u3046\u306b\u3057\u3066, 1000 \u672a\u6e80\u306e 3 \u304b 5 \u306e\u500d\u6570\u306b\u306a\u3063\u3066\u3044\u308b\u6570\u5b57\u306e\u5408\u8a08\u3092\u6c42\u3081\u3088.\n\n\n\u7d20\u76f4\u306b\n1000 |\n    %{1..($_ - 1)} |\n    ?{$_ % 3 -eq 0 -or $_ % 5 -eq 0} |\n    %{$s = 0} {$s += $_} {$s}\n\n\n\u500d\u6570\u306e\u500b\u6570\u306e\u6c42\u3081\u65b9\u3068\u7dcf\u548c\u306e\u516c\u5f0f\u3092\u4f7f\u3063\u3066\n1000 |\n    %{\n        $n = $_ - 1\n        $s3, $s5, $s15 = 3, 5, 15 | %{[Math]::Floor($n / $_)} | %{$_ * ($_ + 1) / 2}\n        3 * $s3 + 5 * $s5 - 15 * $s15\n    }\n\n\n\u7121\u99c4\u306b\u8907\u96d1\u306b\n1000 |\n    %{\n        $n = [Math]::Floor(($_ - 1) / 15)\n        $m = ($_ - 1) % 15 | %{[Math]::Floor($_ / 3) + [Math]::Floor($_ / 5)}\n        15 * $n * (7 * $n + 1 + 2 * $m) / 2 + @(0, 3, 8, 14, 23, 33, 45)[$m]\n    }\n\n\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u3001\u898b\u305f\u76ee\u304c\u8b0e\u3059\u304e\u306a\u306e\u3067\u88dc\u8db3\u3057\u3066\u304a\u304f\u3002\n\u4efb\u610f\u306e\u6574\u6570nnn\u306f\u6574\u6570k,rk,rk, r\u3092\u4f7f\u3063\u3066\u4e0b\u8a18\u306e\u901a\u308a\u8868\u305b\u308b\u3002\nn=15k+r\u00a0(0\u2264r<15)n=15k+r\u00a0(0\u2264r<15)n = 15 k + r ~ (0 \\le r \\lt 15)\n15k15k15 k \u4ee5\u4e0b\u306e\u81ea\u7136\u6570\u306e\u3046\u3061\u30013 \u3082\u3057\u304f\u306f 5 \u306e\u500d\u6570\u306b\u306a\u3063\u3066\u3044\u308b\u6570\u306e\u5408\u8a08\u306f\u4e0b\u8a18\u3067\u6c42\u307e\u308b\u3002\n\\begin{align}\n&  \\sum_{k = 1}^{\\lfloor 15 k / 3 \\rfloor} 3 k\n+ \\sum_{k = 1}^{\\lfloor 15 k / 5 \\rfloor} 5 k\n- \\sum_{k = 1}^{\\lfloor 15 k / 15 \\rfloor} 15 k \\\\\n&= 3  \\sum_{k = 1}^{5 k} k\n+ 5  \\sum_{k = 1}^{3 k} k\n- 15 \\sum_{k = 1}^{k} k \\\\\n&= 3 \\frac{5 k (5 k + 1)}{2}\n+ 5 \\frac{3 k (3 k + 1)}{2}\n- 15 \\frac{k (k + 1)}{2} \\\\\n&= 15 k \\frac{7 k + 1}{2}\n\\end{align}\n\u230a15k/3\u230b\u2211k=13k+\u230a15k/5\u230b\u2211k=15k\u2212\u230a15k/15\u230b\u2211k=115k=35k\u2211k=1k+53k\u2211k=1k\u221215k\u2211k=1k=35k(5k+1)2+53k(3k+1)2\u221215k(k+1)2=15k7k+12\u2211k=1\u230a15k/3\u230b3k+\u2211k=1\u230a15k/5\u230b5k\u2212\u2211k=1\u230a15k/15\u230b15k=3\u2211k=15kk+5\u2211k=13kk\u221215\u2211k=1kk=35k(5k+1)2+53k(3k+1)2\u221215k(k+1)2=15k7k+12{\\begin{align}\n&  \\sum_{k = 1}^{\\lfloor 15 k / 3 \\rfloor} 3 k\n+ \\sum_{k = 1}^{\\lfloor 15 k / 5 \\rfloor} 5 k\n- \\sum_{k = 1}^{\\lfloor 15 k / 15 \\rfloor} 15 k \\\\\n&= 3  \\sum_{k = 1}^{5 k} k\n+ 5  \\sum_{k = 1}^{3 k} k\n- 15 \\sum_{k = 1}^{k} k \\\\\n&= 3 \\frac{5 k (5 k + 1)}{2}\n+ 5 \\frac{3 k (3 k + 1)}{2}\n- 15 \\frac{k (k + 1)}{2} \\\\\n&= 15 k \\frac{7 k + 1}{2}\n\\end{align}\n}\n\u3042\u3068\u306f\u3001rrr \u306e\u5206\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u5834\u5408\u5206\u3051\u3057\u3066\u88dc\u6b63\u3057\u3066\u3084\u308b\u3068\u89e3\u304c\u6c42\u307e\u308b\u3002\n\n\u4ee5\u4e0a\n\u304a\u308f\u308a\n# \u554f\u984c\n\n* \u672c\u5bb6\uff1a[Problem 1 - Project Euler](https://projecteuler.net/problem=1)\n* \u7ffb\u8a33\uff1a[Problem 1 - PukiWiki](http://odz.sakura.ne.jp/projecteuler/index.php?cmd=read&page=Problem%201)\n\n> 10\u672a\u6e80\u306e\u81ea\u7136\u6570\u306e\u3046\u3061, 3 \u3082\u3057\u304f\u306f 5 \u306e\u500d\u6570\u306b\u306a\u3063\u3066\u3044\u308b\u3082\u306e\u306f 3, 5, 6, 9 \u306e4\u3064\u304c\u3042\u308a, \u3053\u308c\u3089\u306e\u5408\u8a08\u306f 23 \u306b\u306a\u308b.\n> \u540c\u3058\u3088\u3046\u306b\u3057\u3066, 1000 \u672a\u6e80\u306e 3 \u304b 5 \u306e\u500d\u6570\u306b\u306a\u3063\u3066\u3044\u308b\u6570\u5b57\u306e\u5408\u8a08\u3092\u6c42\u3081\u3088.\n\n# \u7d20\u76f4\u306b\n\n```.ps1\n1000 |\n    %{1..($_ - 1)} |\n    ?{$_ % 3 -eq 0 -or $_ % 5 -eq 0} |\n    %{$s = 0} {$s += $_} {$s}\n```\n\n# \u500d\u6570\u306e\u500b\u6570\u306e\u6c42\u3081\u65b9\u3068\u7dcf\u548c\u306e\u516c\u5f0f\u3092\u4f7f\u3063\u3066\n\n```.ps1\n1000 |\n    %{\n        $n = $_ - 1\n        $s3, $s5, $s15 = 3, 5, 15 | %{[Math]::Floor($n / $_)} | %{$_ * ($_ + 1) / 2}\n        3 * $s3 + 5 * $s5 - 15 * $s15\n    }\n```\n\n\n# \u7121\u99c4\u306b\u8907\u96d1\u306b\n\n```.ps1\n1000 |\n    %{\n        $n = [Math]::Floor(($_ - 1) / 15)\n        $m = ($_ - 1) % 15 | %{[Math]::Floor($_ / 3) + [Math]::Floor($_ / 5)}\n        15 * $n * (7 * $n + 1 + 2 * $m) / 2 + @(0, 3, 8, 14, 23, 33, 45)[$m]\n    }\n```\n\n\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u3001\u898b\u305f\u76ee\u304c\u8b0e\u3059\u304e\u306a\u306e\u3067\u88dc\u8db3\u3057\u3066\u304a\u304f\u3002\n\u4efb\u610f\u306e\u6574\u6570$n$\u306f\u6574\u6570$k, r$\u3092\u4f7f\u3063\u3066\u4e0b\u8a18\u306e\u901a\u308a\u8868\u305b\u308b\u3002\n\n$$n = 15 k + r ~ (0 \\le r \\lt 15)$$\n\n$15 k$ \u4ee5\u4e0b\u306e\u81ea\u7136\u6570\u306e\u3046\u3061\u30013 \u3082\u3057\u304f\u306f 5 \u306e\u500d\u6570\u306b\u306a\u3063\u3066\u3044\u308b\u6570\u306e\u5408\u8a08\u306f\u4e0b\u8a18\u3067\u6c42\u307e\u308b\u3002\n\n```math\n\\begin{align}\n&  \\sum_{k = 1}^{\\lfloor 15 k / 3 \\rfloor} 3 k\n+ \\sum_{k = 1}^{\\lfloor 15 k / 5 \\rfloor} 5 k\n- \\sum_{k = 1}^{\\lfloor 15 k / 15 \\rfloor} 15 k \\\\\n&= 3  \\sum_{k = 1}^{5 k} k\n+ 5  \\sum_{k = 1}^{3 k} k\n- 15 \\sum_{k = 1}^{k} k \\\\\n&= 3 \\frac{5 k (5 k + 1)}{2}\n+ 5 \\frac{3 k (3 k + 1)}{2}\n- 15 \\frac{k (k + 1)}{2} \\\\\n&= 15 k \\frac{7 k + 1}{2}\n\\end{align}\n```\n\n\u3042\u3068\u306f\u3001$r$ \u306e\u5206\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u5834\u5408\u5206\u3051\u3057\u3066\u88dc\u6b63\u3057\u3066\u3084\u308b\u3068\u89e3\u304c\u6c42\u307e\u308b\u3002\n\n\n# \u4ee5\u4e0a\n\n\u304a\u308f\u308a\n", "tags": ["PowerShell", "ProjectEuler"]}