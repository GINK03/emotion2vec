{"context": "\n\nC\u8a00\u8a9e\u306einline\u306b\u307e\u3064\u308f\u308b\u672a\u898f\u5b9a\u52d5\u4f5c\u3067\u904a\u3076\n\u74b0\u5883\n\ngcc \u30d0\u30fc\u30b8\u30e7\u30f3 6.2.1 20160830 (GCC) \nclang version 3.9.0 (tags/RELEASE_390/final)\n\n\nn1570\u306e6.7.4\u3092\u7cbe\u8aad\u3059\u308c\u3070\u7d42\u308f\u308b\u8a71\n\u30d1\u30e9\u30b0\u30e9\u30d57\u306b\u3053\u3093\u306a\u3053\u3068\u304c\u66f8\u3044\u3066\u3042\u308b.\n\nAny function with internal linkage can be an inline function. For a function with external linkage, the following restrictions apply: If a function is declared with an inline function specifier, then it shall also be defined in the same translation unit. If all of the file scope declarations for a function in a translation unit include the inline function specifier without extern, then the definition in that translation unit is an inline definition. An inline definition does not provide an external definition for the function, and does not forbid an external definition in another translation unit. An inline definition provides an alternative to an external definition, which a translator may use to implement any call to the function in the same translation unit. It is unspecified whether a call to the function uses the inline definition or the external definition.\n\n\u8d85\u8a33\u3059\u308b\u3068,\n\nstatic\u304c\u3064\u3044\u3066\u308b\u95a2\u6570\u3067inline\u304c\u3064\u3044\u3066\u308b\u3082\u306e\u306f\u30a4\u30f3\u30e9\u30a4\u30f3\u95a2\u6570\nstatic\u304c\u3064\u3044\u3066\u306a\u3044\u95a2\u6570\u3067\u95a2\u6570\u5ba3\u8a00\u306binline\u304c\u3064\u3044\u3066\u305f\u3089,\u540c\u3058\u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u304c\u306a\u3044\u3068\u3044\u3051\u306a\u3044\nstatic\u304c\u3064\u3044\u3066\u306a\u3044\u95a2\u6570\u3067\u95a2\u6570\u5ba3\u8a00\u306binline\u304c\u3064\u3044\u3066\u3066,extern\u304c\u306a\u304b\u3063\u305f\u3089,\u95a2\u6570\u5b9a\u7fa9\u306f\u30a4\u30f3\u30e9\u30a4\u30f3\u5b9a\u7fa9\u2190\u91cd\u8981\n\u30a4\u30f3\u30e9\u30a4\u30f3\u5b9a\u7fa9\u3068\u5916\u90e8\u5b9a\u7fa9\u306f\u5171\u5b58\u3067\u304d\u308b\u2190\u8d85\u91cd\u8981\n\u3069\u3063\u3061\u3092\u547c\u3076\u304b\u306f\u672a\u898f\u5b9a\u2190\u3053\u308c\u3092\u8a66\u3057\u305f\u3044\n\n\u8a00\u3063\u3068\u304d\u307e\u3059\u304c,\u3053\u308c\u306f\u96f0\u56f2\u6c17\u3092\u3064\u304b\u3080\u305f\u3081\u306e\u3082\u306e\u3067,\u3053\u306e\u548c\u8a33\u306f\u6b63\u78ba\u3067\u306f\u3042\u308a\u307e\u305b\u3093.\n\n\u672c\u984c\n\u7686\u3055\u3093,C\u8a00\u8a9e\u3092\u899a\u3048\u305f\u3066\u306e\u9803\u306bWikipedia\u3067C\u8a00\u8a9e\u3092\u8abf\u3079\u3066,\u3053\u3093\u306a\u8a18\u8ff0\u306b\u51fa\u4f1a\u3063\u305f\u3053\u3068\u304c\u3042\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b.\n\n\nC99\n\u4e3b\u306a\u8ffd\u52a0\u6a5f\u80fd\uff1a\n- \u30a4\u30f3\u30e9\u30a4\u30f3\u95a2\u6570\uff08inline \u30ad\u30fc\u30ef\u30fc\u30c9\uff09\n\n\u3067,gcc\u3084clang\u3067\u3053\u3093\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u8a66\u3059\u3093\u3067\u3059\u306d.\n\nmain.c\n#include <stdio.h>\n\ninline int f(void) {return 42;}\n\nint main(void) {printf(\"%d\", f());\n}\n\n\n\u3067,gcc main.c\u306a\u3093\u3066\u66f8\u3044\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3068,\u3053\u3093\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u308f\u3051\u3067\u3059.\n/tmp/cc341wl7.o: \u95a2\u6570 `main' \u5185:\nmain.c:(.text+0x5): `f' \u306b\u5bfe\u3059\u308b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53c2\u7167\u3067\u3059\ncollect2: \u30a8\u30e9\u30fc: ld \u306f\u30b9\u30c6\u30fc\u30bf\u30b9 1 \u3067\u7d42\u4e86\u3057\u307e\u3057\u305f\n\n\u982d\u8133\u306f\u5927\u4eba\u306e\u5c0f\u5b66\u751f\u300c\u3042\u308c\u308c\uff5e\u304a\u304b\u3057\u3044\u305e\uff5e. f\u306fmain.c\u4e2d\u306b\u3061\u3083\u3093\u3068\u5b9a\u7fa9\u3055\u308c\u3066\u308b\u3088\uff5e\u300d\n\u304a\u3063\u3061\u3083\u3093\u300c\u30d5\u30f3,\u3069\u3046\u305b\u6700\u9069\u5316\u304c\u304b\u304b\u3063\u3066\u306a\u3044\u3093\u3060\u308d.\u307b\u3089\u3088\u300d\ngcc -O main.c.\u7121\u4e8b\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u307e\u3057\u305f.\n./a.out\u3068\u3084\u308b\u3068\u7121\u4e8b42\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059.\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u4e2d\u306bf\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u304c\u554f\u984c\u306a\u306e\u3067,\u4f8b\u3048\u3070,\n\nf.c\nint f(void){return 0;}\n\n\n\u3068\u66f8\u3044\u3066,gcc main.c f.c\u3068\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3057\u3087\u3046.\n\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u901a\u3063\u3066a.out\u304c\u51fa\u6765\u307e\u3059\u304c,\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u30680\u304c\u51fa\u529b\u3055\u308c\u307e\u3059.\n\u3053\u308c\u304c,\u3069\u3063\u3061\u3092\u547c\u3076\u304b\u306f\u672a\u898f\u5b9a\u3068\u3044\u3046\u3053\u3068\u306a\u3093\u3067\u3059\u306d.\n\u306a\u306e\u3067,\u3042\u3048\u3066static\u5ba3\u8a00\u3092\u4ed8\u3051\u305a\u306b\u30a4\u30f3\u30e9\u30a4\u30f3\u5b9a\u7fa9\u3068\u3057\u3066\u95a2\u6570\u3092\u5b9a\u7fa9\u3057,\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3068\u304d\u306f\u5916\u90e8\u5b9a\u7fa9\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059,\u306a\u3093\u3066\u3053\u3068\u304c\u3067\u304d\u308b\u308f\u3051\u3067\u3059.\n\u307e\u3042,\u3042\u304f\u307e\u3067\u672a\u898f\u5b9a\u52d5\u4f5c\u306a\u306e\u3067,\u7528\u6cd5,\u5bb9\u91cf\u3092\u5b88\u3063\u3066\u6b63\u3057\u304f\u4f7f\u3044\u307e\u3057\u3087\u3046.\n\u56e0\u307f\u306b,\u3053\u3093\u306a\u52d5\u4f5c\u306b\u60d1\u308f\u3055\u308c\u305f\u304f\u306a\u3044\u4eba\u306f,\u95a2\u6570\u5b9a\u7fa9\u306bextern\u304bstatic\u3092\u660e\u793a\u3057\u307e\u3057\u3087\u3046.\nextern\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b\u5834\u5408\u306f,\u5916\u90e8\u306b\u516c\u958b\u3055\u308c\u308b\u306e\u3092\u5fd8\u308c\u305a\u306b.\n# C\u8a00\u8a9e\u306einline\u306b\u307e\u3064\u308f\u308b\u672a\u898f\u5b9a\u52d5\u4f5c\u3067\u904a\u3076\n\u74b0\u5883\n\n- gcc \u30d0\u30fc\u30b8\u30e7\u30f3 6.2.1 20160830 (GCC) \n- clang version 3.9.0 (tags/RELEASE_390/final)\n\n## n1570\u306e6.7.4\u3092\u7cbe\u8aad\u3059\u308c\u3070\u7d42\u308f\u308b\u8a71\n\u30d1\u30e9\u30b0\u30e9\u30d57\u306b\u3053\u3093\u306a\u3053\u3068\u304c\u66f8\u3044\u3066\u3042\u308b.\n\n> Any function with internal linkage can be an inline function. For a function with external linkage, the following restrictions apply: If a function is declared with an inline function specifier, then it shall also be defined in the same translation unit. If all of the file scope declarations for a function in a translation unit include the inline function specifier without extern, then the definition in that translation unit is an inline definition. An inline definition does not provide an external definition for the function, and does not forbid an external definition in another translation unit. An inline definition provides an alternative to an external definition, which a translator may use to implement any call to the function in the same translation unit. It is unspecified whether a call to the function uses the inline definition or the external definition.\n\n\u8d85\u8a33\u3059\u308b\u3068,\n\n- static\u304c\u3064\u3044\u3066\u308b\u95a2\u6570\u3067inline\u304c\u3064\u3044\u3066\u308b\u3082\u306e\u306f\u30a4\u30f3\u30e9\u30a4\u30f3\u95a2\u6570\n- static\u304c\u3064\u3044\u3066\u306a\u3044\u95a2\u6570\u3067\u95a2\u6570\u5ba3\u8a00\u306binline\u304c\u3064\u3044\u3066\u305f\u3089,\u540c\u3058\u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u304c\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n- static\u304c\u3064\u3044\u3066\u306a\u3044\u95a2\u6570\u3067\u95a2\u6570\u5ba3\u8a00\u306binline\u304c\u3064\u3044\u3066\u3066,extern\u304c\u306a\u304b\u3063\u305f\u3089,\u95a2\u6570\u5b9a\u7fa9\u306f\u30a4\u30f3\u30e9\u30a4\u30f3\u5b9a\u7fa9\u2190\u91cd\u8981\n- \u30a4\u30f3\u30e9\u30a4\u30f3\u5b9a\u7fa9\u3068\u5916\u90e8\u5b9a\u7fa9\u306f\u5171\u5b58\u3067\u304d\u308b\u2190\u8d85\u91cd\u8981\n- \u3069\u3063\u3061\u3092\u547c\u3076\u304b\u306f\u672a\u898f\u5b9a\u2190\u3053\u308c\u3092\u8a66\u3057\u305f\u3044\n\n***\u8a00\u3063\u3068\u304d\u307e\u3059\u304c,\u3053\u308c\u306f\u96f0\u56f2\u6c17\u3092\u3064\u304b\u3080\u305f\u3081\u306e\u3082\u306e\u3067,\u3053\u306e\u548c\u8a33\u306f\u6b63\u78ba\u3067\u306f\u3042\u308a\u307e\u305b\u3093.***\n\n## \u672c\u984c\n\u7686\u3055\u3093,C\u8a00\u8a9e\u3092\u899a\u3048\u305f\u3066\u306e\u9803\u306bWikipedia\u3067C\u8a00\u8a9e\u3092\u8abf\u3079\u3066,\u3053\u3093\u306a\u8a18\u8ff0\u306b\u51fa\u4f1a\u3063\u305f\u3053\u3068\u304c\u3042\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b.\n\n> ### C99\n> \u4e3b\u306a\u8ffd\u52a0\u6a5f\u80fd\uff1a\n> - \u30a4\u30f3\u30e9\u30a4\u30f3\u95a2\u6570\uff08inline \u30ad\u30fc\u30ef\u30fc\u30c9\uff09\n\n\u3067,gcc\u3084clang\u3067\u3053\u3093\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u8a66\u3059\u3093\u3067\u3059\u306d.\n\n```c:main.c\n#include <stdio.h>\n\ninline int f(void) {return 42;}\n\nint main(void) {printf(\"%d\", f());\n}\n```\n\n\u3067,`gcc main.c`\u306a\u3093\u3066\u66f8\u3044\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3068,\u3053\u3093\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u308f\u3051\u3067\u3059.\n\n```\n/tmp/cc341wl7.o: \u95a2\u6570 `main' \u5185:\nmain.c:(.text+0x5): `f' \u306b\u5bfe\u3059\u308b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53c2\u7167\u3067\u3059\ncollect2: \u30a8\u30e9\u30fc: ld \u306f\u30b9\u30c6\u30fc\u30bf\u30b9 1 \u3067\u7d42\u4e86\u3057\u307e\u3057\u305f\n```\n\n\u982d\u8133\u306f\u5927\u4eba\u306e\u5c0f\u5b66\u751f\u300c\u3042\u308c\u308c\uff5e\u304a\u304b\u3057\u3044\u305e\uff5e. f\u306fmain.c\u4e2d\u306b\u3061\u3083\u3093\u3068\u5b9a\u7fa9\u3055\u308c\u3066\u308b\u3088\uff5e\u300d\n\u304a\u3063\u3061\u3083\u3093\u300c\u30d5\u30f3,\u3069\u3046\u305b\u6700\u9069\u5316\u304c\u304b\u304b\u3063\u3066\u306a\u3044\u3093\u3060\u308d.\u307b\u3089\u3088\u300d\n\n`gcc -O main.c`.\u7121\u4e8b\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u307e\u3057\u305f.\n`./a.out`\u3068\u3084\u308b\u3068\u7121\u4e8b42\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059.\n\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u4e2d\u306bf\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u304c\u554f\u984c\u306a\u306e\u3067,\u4f8b\u3048\u3070,\n\n```c:f.c\nint f(void){return 0;}\n```\n\n\u3068\u66f8\u3044\u3066,`gcc main.c f.c`\u3068\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3057\u3087\u3046.\n\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u901a\u3063\u3066a.out\u304c\u51fa\u6765\u307e\u3059\u304c,\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u30680\u304c\u51fa\u529b\u3055\u308c\u307e\u3059.\n\n\u3053\u308c\u304c,**\u3069\u3063\u3061\u3092\u547c\u3076\u304b\u306f\u672a\u898f\u5b9a**\u3068\u3044\u3046\u3053\u3068\u306a\u3093\u3067\u3059\u306d.\n\u306a\u306e\u3067,\u3042\u3048\u3066static\u5ba3\u8a00\u3092\u4ed8\u3051\u305a\u306b\u30a4\u30f3\u30e9\u30a4\u30f3\u5b9a\u7fa9\u3068\u3057\u3066\u95a2\u6570\u3092\u5b9a\u7fa9\u3057,\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3068\u304d\u306f\u5916\u90e8\u5b9a\u7fa9\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059,\u306a\u3093\u3066\u3053\u3068\u304c\u3067\u304d\u308b\u308f\u3051\u3067\u3059.\n\u307e\u3042,\u3042\u304f\u307e\u3067\u672a\u898f\u5b9a\u52d5\u4f5c\u306a\u306e\u3067,\u7528\u6cd5,\u5bb9\u91cf\u3092\u5b88\u3063\u3066\u6b63\u3057\u304f\u4f7f\u3044\u307e\u3057\u3087\u3046.\n\n\u56e0\u307f\u306b,\u3053\u3093\u306a\u52d5\u4f5c\u306b\u60d1\u308f\u3055\u308c\u305f\u304f\u306a\u3044\u4eba\u306f,\u95a2\u6570\u5b9a\u7fa9\u306bextern\u304bstatic\u3092\u660e\u793a\u3057\u307e\u3057\u3087\u3046.\nextern\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b\u5834\u5408\u306f,\u5916\u90e8\u306b\u516c\u958b\u3055\u308c\u308b\u306e\u3092\u5fd8\u308c\u305a\u306b.\n", "tags": ["C\u8a00\u8a9e"]}