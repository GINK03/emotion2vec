{"context": " More than 1 year has passed since last update.\n\ninfluxDB\u306e\u5c0e\u5165\n\n\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u3092\u6271\u3044\u305f\u3044\u3068\u601d\u3044\u3001influxDB\u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\n\n\n\u8aac\u660e\n\u8d77\u52d5\u30b3\u30de\u30f3\u30c9\n\n\n\n\ndocker\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u8d77\u52d5\u3059\u308b\u5834\u5408\ndocker run -d -p 8083:8083 -p 8086:8086 -p 8090:8090 -p 8099:8099 --name influxdb1 soushi/influxdb:1.0\n\n\nCentos:6\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u65b0\u898f\u306b\u4f5c\u6210\u3059\u308b\u5834\u5408\ndocker run -i -t -d -p 8083:8083 -p 8086:8086 -p 8090:8090 -p 8099:8099 -v /etc/localtime:/etc/localtime:ro --name influxdb1 centos:6 /bin/bash\n\n\n\n\ndocker\u30a4\u30e1\u30fc\u30b8\u304c\u7121\u3044\u5834\u5408\u3001Dockerfile\u304b\u3089\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\n\ndocker build [ -t \uff5b\u30a4\u30e1\u30fc\u30b8\u540d\uff5d [ :\uff5b\u30bf\u30b0\u540d\uff5d ] ] <Dockerfile\u306e\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea>\n\n\nDockerfile\u304b\u3089docker\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\u30b3\u30de\u30f3\u30c9\u4f8b\n\ndocker build -t soushi/influxdb:1.0 <Dockerfile\u306e\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea>\n\n\ndocker\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306eDockerfile\u306e\u5834\u6240\n\n~/OneDrive/docker/influxdb/Dockerfile\n\n\n\n\u30dd\u30fc\u30c8\u3092\u5229\u7528\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\n\u76ee\u7684\n\u30dd\u30fc\u30c8\u756a\u53f7\n\n\n\n\ninfluxDB\nWeb UI\n8083\n\n\ninfluxDB\nComm.\n8086\n\n\ninfluxDB\nRaft for clustering\n8090\n\n\ninfluxDB\nProtobuf for clustering\n8099\n\n\n\n\u203b\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u89e3\u8aac\u306finfluxDB installation\u3092\u53c2\u7167\n\n\n\n\u8a2d\u5b9a\u9805\u76ee\n\u8a2d\u5b9a\u5024\n\n\n\n\ninfluxdb\u672c\u4f53\n/usr/bin/influxdb\n\n\ninfluxdb\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n/opt/influxdb/shared/config.toml\n\n\ninfluxdb pid\u30d5\u30a1\u30a4\u30eb\n/opt/influxdb/shared/influxdb.pid\n\n\n\n\n1 influxDB\u306e\u5c0e\u5165\u3092\u884c\u3044\u307e\u3059\n\n1.0 docker\u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5\n\n\n\n\u8aac\u660e\n\u8d77\u52d5\u30b3\u30de\u30f3\u30c9\n\n\n\n\nCentos:6\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u65b0\u898f\u306b\u4f5c\u6210\u3059\u308b\u5834\u5408\ndocker run -i -t -d -p 8083:8083 -p 8086:8086 -p 8090:8090 -p 8099:8099 -v /etc/localtime:/etc/localtime:ro --name influxdb1 centos:6 /bin/bash\n\n\n\n\n1.1 influxDB\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nmkdir /usr/local/download/\ncd /usr/local/download/\nyum -y install wget\nwget http://s3.amazonaws.com/influxdb/influxdb-latest-1.x86_64.rpm\nrpm -ivh influxdb-latest-1.x86_64.rpm\n/etc/init.d/influxdb start\n\n\n2 influxDB\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n2-A CLI\u30d9\u30fc\u30b9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u516c\u5f0f\u30b5\u30a4\u30c8\u53c2\u7167\ncurl -X POST 'http://localhost:8086/db?u=root&p=root' -d '{\"name\": \"grafanadb\"}'\ncurl -X POST 'http://localhost:8086/db?u=root&p=root' -d '{\"name\": \"grafanaconf\"}'\ncurl -X POST 'http://localhost:8086/db/grafanadb/users?u=root&p=root' -d '{\"name\": \"soushi\", \"password\": \"soushi\"}'\ncurl -X POST 'http://localhost:8086/db/grafanaconf/users?u=root&p=root' -d '{\"name\": \"soushi\", \"password\": \"soushi\"}'\ncurl -X POST 'http://localhost:8086/db/grafanadb/users/soushi?u=root&p=root' -d '{\"admin\": true}'\ncurl -X POST 'http://localhost:8086/db/grafanaconf/users/soushi?u=root&p=root' -d '{\"admin\": true}'\n\n\n2-B GUI\u30d9\u30fc\u30b9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n2-B.1 \u30db\u30b9\u30c8VM\u304b\u3089\u3001influxDB\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9(8083\u756a\u30dd\u30fc\u30c8)\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n\n\n\u8a2d\u5b9a\u5024\n\u5024\n\n\n\n\n\u521d\u671f\u30ed\u30b0\u30a4\u30f3ID\nroot\n\n\n\u521d\u671f\u30d1\u30b9\u30ef\u30fc\u30c9\nroot\n\n\n\u30db\u30b9\u30c8\u30cd\u30fc\u30e0\n10.0.0.1\n\n\n\u30db\u30b9\u30c8\u30dd\u30fc\u30c8\u756a\u53f7\n8086\n\n\n\n\n\n2-B.2 Grafanadb\u3067\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30922\u3064\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n\n\u8a2d\u5b9a\u5024\n\u5024\n\n\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\ngrafanadb\n\n\nShard Spaces Space\u540d\ndefault\n\n\nShard Spaces Retention\ninf\n\n\nShard Spaces Duration\n7d\n\n\nShard Spaces RegEx\n/.*/\n\n\nShard Spaces RF\n1\n\n\nShard Spaces Split\n1\n\n\n\n\n\n\n\u8a2d\u5b9a\u5024\n\u5024\n\n\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\ngrafanaconf\n\n\nShard Spaces Space\u540d\ndefault\n\n\nShard Spaces Retention\ninf\n\n\nShard Spaces Duration\n7d\n\n\nShard Spaces RegEx\n/.*/\n\n\nShard Spaces RF\n1\n\n\nShard Spaces Split\n1\n\n\n\n\n\n2-B.3 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u64cd\u4f5c\u7528\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n\n\n\u8a2d\u5b9a\u5024\n\u5024\n\n\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\ngrafanadb\n\n\nUsername\nsoushi\n\n\nPassword\nsoushi\n\n\nAdmin?\ntrue(checked)\n\n\n\n\n\n\n\u8a2d\u5b9a\u5024\n\u5024\n\n\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\ngrafanaconf\n\n\nUsername\nsoushi\n\n\nPassword\nsoushi\n\n\nAdmin?\ntrue(checked)\n\n\n\n\n\n\u5168\u30b3\u30fc\u30c9\nmkdir /usr/local/download/\ncd /usr/local/download/\nyum -y install wget\nwget http://s3.amazonaws.com/influxdb/influxdb-latest-1.x86_64.rpm\nrpm -ivh influxdb-latest-1.x86_64.rpm\n/etc/init.d/influxdb start\ncurl -X POST 'http://localhost:8086/db?u=root&p=root' -d '{\"name\": \"grafanadb\"}'\ncurl -X POST 'http://localhost:8086/db?u=root&p=root' -d '{\"name\": \"grafanaconf\"}'\ncurl -X POST 'http://localhost:8086/db/grafanadb/users?u=root&p=root' -d '{\"name\": \"soushi\", \"password\": \"soushi\"}'\ncurl -X POST 'http://localhost:8086/db/grafanaconf/users?u=root&p=root' -d '{\"name\": \"soushi\", \"password\": \"soushi\"}'\ncurl -X POST 'http://localhost:8086/db/grafanadb/users/soushi?u=root&p=root' -d '{\"admin\": true}'\ncurl -X POST 'http://localhost:8086/db/grafanaconf/users/soushi?u=root&p=root' -d '{\"admin\": true}'\n\n#influxDB\u306e\u5c0e\u5165\n\n- \u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u3092\u6271\u3044\u305f\u3044\u3068\u601d\u3044\u3001influxDB\u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n|**\u8aac\u660e**|**\u8d77\u52d5\u30b3\u30de\u30f3\u30c9**|\n|---|---|\n| **docker\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u8d77\u52d5\u3059\u308b\u5834\u5408** | docker run -d -p 8083:8083 -p 8086:8086 -p 8090:8090 -p 8099:8099 --name influxdb1 soushi/influxdb:1.0 |\n| **Centos:6\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u65b0\u898f\u306b\u4f5c\u6210\u3059\u308b\u5834\u5408** | docker run -i -t -d -p 8083:8083 -p 8086:8086 -p 8090:8090 -p 8099:8099 -v /etc/localtime:/etc/localtime:ro --name influxdb1 centos:6 /bin/bash |\n\n- docker\u30a4\u30e1\u30fc\u30b8\u304c\u7121\u3044\u5834\u5408\u3001Dockerfile\u304b\u3089\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\n\n~~~\ndocker build [ -t \uff5b\u30a4\u30e1\u30fc\u30b8\u540d\uff5d [ :\uff5b\u30bf\u30b0\u540d\uff5d ] ] <Dockerfile\u306e\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea>\n~~~\n\n- Dockerfile\u304b\u3089docker\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\u30b3\u30de\u30f3\u30c9\u4f8b\n\n~~~sh\ndocker build -t soushi/influxdb:1.0 <Dockerfile\u306e\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea>\n~~~\n- docker\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306eDockerfile\u306e\u5834\u6240\n\n[~/OneDrive/docker/influxdb/Dockerfile](/Users/soushi/OneDrive/docker/influxdb/Dockerfile)\n\n|**\u30dd\u30fc\u30c8\u3092\u5229\u7528\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea**|**\u76ee\u7684**|**\u30dd\u30fc\u30c8\u756a\u53f7**|\n|---|---|---|\n| influxDB | Web UI | 8083 |\n| influxDB | Comm. | 8086 |\n| influxDB | Raft for clustering | 8090 |\n| influxDB | Protobuf for clustering | 8099 |\n\u203b\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u89e3\u8aac\u306f[influxDB installation](http://influxdb.com/docs/v0.8/introduction/installation.html)\u3092\u53c2\u7167\n\n\n|**\u8a2d\u5b9a\u9805\u76ee**|**\u8a2d\u5b9a\u5024**|\n|---|---|\n|**influxdb\u672c\u4f53**|/usr/bin/influxdb|\n|**influxdb\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb**|/opt/influxdb/shared/config.toml|\n|**influxdb pid\u30d5\u30a1\u30a4\u30eb**|/opt/influxdb/shared/influxdb.pid|\n\n##1 influxDB\u306e\u5c0e\u5165\u3092\u884c\u3044\u307e\u3059\n\n###1.0 docker\u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5\n|**\u8aac\u660e**|**\u8d77\u52d5\u30b3\u30de\u30f3\u30c9**|\n|---|---|\n| Centos:6\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u65b0\u898f\u306b\u4f5c\u6210\u3059\u308b\u5834\u5408 | docker run -i -t -d -p 8083:8083 -p 8086:8086 -p 8090:8090 -p 8099:8099 -v /etc/localtime:/etc/localtime:ro --name influxdb1 centos:6 /bin/bash |\n\n###1.1 influxDB\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n~~~sh\nmkdir /usr/local/download/\ncd /usr/local/download/\nyum -y install wget\nwget http://s3.amazonaws.com/influxdb/influxdb-latest-1.x86_64.rpm\nrpm -ivh influxdb-latest-1.x86_64.rpm\n/etc/init.d/influxdb start\n~~~\n\n\n##2 influxDB\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n###2-A CLI\u30d9\u30fc\u30b9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n[\u516c\u5f0f\u30b5\u30a4\u30c8](http://influxdb.com/docs/v0.6/api/administration.html)\u53c2\u7167\n\n~~~sh\ncurl -X POST 'http://localhost:8086/db?u=root&p=root' -d '{\"name\": \"grafanadb\"}'\ncurl -X POST 'http://localhost:8086/db?u=root&p=root' -d '{\"name\": \"grafanaconf\"}'\ncurl -X POST 'http://localhost:8086/db/grafanadb/users?u=root&p=root' -d '{\"name\": \"soushi\", \"password\": \"soushi\"}'\ncurl -X POST 'http://localhost:8086/db/grafanaconf/users?u=root&p=root' -d '{\"name\": \"soushi\", \"password\": \"soushi\"}'\ncurl -X POST 'http://localhost:8086/db/grafanadb/users/soushi?u=root&p=root' -d '{\"admin\": true}'\ncurl -X POST 'http://localhost:8086/db/grafanaconf/users/soushi?u=root&p=root' -d '{\"admin\": true}'\n~~~\n\n\n###2-B GUI\u30d9\u30fc\u30b9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n###2-B.1 \u30db\u30b9\u30c8VM\u304b\u3089\u3001influxDB\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9(8083\u756a\u30dd\u30fc\u30c8)\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n|**\u8a2d\u5b9a\u5024**|**\u5024**|\n|---|---|\n| **\u521d\u671f\u30ed\u30b0\u30a4\u30f3ID** | root |\n| **\u521d\u671f\u30d1\u30b9\u30ef\u30fc\u30c9** | root |\n| **\u30db\u30b9\u30c8\u30cd\u30fc\u30e0** | 10.0.0.1 |\n| **\u30db\u30b9\u30c8\u30dd\u30fc\u30c8\u756a\u53f7** | 8086 |\n\n<img width=\"691\" alt=\"Grafana Fig 1.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/9023/e823a2b6-6f37-1fca-d2d5-e44a3a03643f.png\">\n\n\n###2-B.2 Grafanadb\u3067\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30922\u3064\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n|**\u8a2d\u5b9a\u5024**|**\u5024**|\n|---|---|\n| **\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d** | grafanadb |\n| **Shard Spaces Space\u540d** | default |\n| **Shard Spaces Retention** | inf |\n| **Shard Spaces Duration** | 7d |\n| **Shard Spaces RegEx** | /.*/ |\n| **Shard Spaces RF** | 1 |\n| **Shard Spaces Split** | 1 |\n\n|**\u8a2d\u5b9a\u5024**|**\u5024**|\n|---|---|\n| **\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d** | grafanaconf |\n| **Shard Spaces Space\u540d** | default |\n| **Shard Spaces Retention** | inf |\n| **Shard Spaces Duration** | 7d |\n| **Shard Spaces RegEx** | /.*/ |\n| **Shard Spaces RF** | 1 |\n| **Shard Spaces Split** | 1 |\n\n<img width=\"1031\" alt=\"Grafana Fig 2.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/9023/f5bcf7de-f451-cfe8-293e-3b586fe6cd3d.png\">\n\n\n###2-B.3 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u64cd\u4f5c\u7528\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n|**\u8a2d\u5b9a\u5024**|**\u5024**|\n|---|---|\n| **\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d** | grafanadb |\n| **Username** | soushi |\n| **Password** | soushi |\n| **Admin?** | true(checked) |\n\n|**\u8a2d\u5b9a\u5024**|**\u5024**|\n|---|---|\n| **\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d** | grafanaconf |\n| **Username** | soushi |\n| **Password** | soushi |\n| **Admin?** | true(checked) |\n\n<img width=\"1037\" alt=\"Grafana Fig 3.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/9023/86c43bcc-18ac-425f-8bd9-0bcfc257d021.png\">\n\n\n#\u5168\u30b3\u30fc\u30c9\n\n~~~sh\nmkdir /usr/local/download/\ncd /usr/local/download/\nyum -y install wget\nwget http://s3.amazonaws.com/influxdb/influxdb-latest-1.x86_64.rpm\nrpm -ivh influxdb-latest-1.x86_64.rpm\n/etc/init.d/influxdb start\ncurl -X POST 'http://localhost:8086/db?u=root&p=root' -d '{\"name\": \"grafanadb\"}'\ncurl -X POST 'http://localhost:8086/db?u=root&p=root' -d '{\"name\": \"grafanaconf\"}'\ncurl -X POST 'http://localhost:8086/db/grafanadb/users?u=root&p=root' -d '{\"name\": \"soushi\", \"password\": \"soushi\"}'\ncurl -X POST 'http://localhost:8086/db/grafanaconf/users?u=root&p=root' -d '{\"name\": \"soushi\", \"password\": \"soushi\"}'\ncurl -X POST 'http://localhost:8086/db/grafanadb/users/soushi?u=root&p=root' -d '{\"admin\": true}'\ncurl -X POST 'http://localhost:8086/db/grafanaconf/users/soushi?u=root&p=root' -d '{\"admin\": true}'\n~~~\n", "tags": ["influxdb"]}