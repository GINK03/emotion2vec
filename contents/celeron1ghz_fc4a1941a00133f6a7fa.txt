{"context": "\u3053\u3093\u306a\u611f\u3058\u306e\u3092\u5b9a\u7fa9\u3057\u3066\u4e00\u5ea6apply\u5f8c\u3001user_data\u3092\u4fee\u6b63\u3057\u3066\u518d\u5ea6apply\u3059\u308b\u3068\n...snip...\n\nresource \"aws_launch_configuration\" \"config\" {\n    name                    = \"${var.app_id}-as-config\"\n    image_id                = \"ami-374db956\"\n    instance_type           = \"t2.nano\"\n\n    key_name                = \"home\"\n    iam_instance_profile    = \"${aws_iam_instance_profile.profile.name}\"\n    security_groups         = [\"${aws_security_group.security.name}\"]\n\n    user_data               = <<EOT\n#cloud-config\n...snip...\nEOT\n}\n\n...snip...\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30a8\u30e9\u30fc\u3092\u5410\u304f\nError applying plan:\n\n1 error(s) occurred:\n\n* aws_launch_configuration.config: Error creating launch configuration: AlreadyExists: Launch Configuration by this name already exists - A launch configuration already exists with the name acceptessa-as-config\n        status code: 400, request id: 80fd0b22-a8b6-11e6-b7b8-fb76220c4050\n\n\u6563\u3005\u30b0\u30b0\u3063\u3066\u3082\u51fa\u3066\u3053\u306a\u304f\u3066\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306bcreate_before_destroy\u3092\u6307\u5b9a\u3057\u305f\u3089\u89e3\u6c7a\u3059\u308b\u3068\u3044\u3046issue\u3092\u6563\u3005\u898b\u305f\u3082\u306e\u306e\u89e3\u6c7a\u305b\u305a\u3002\nlifecycle {\n  create_before_destroy = true\n}\n\n\u3067\u3001\u3084\u3063\u3068\u898b\u3064\u3051\u305f\u306e\u304c\u4e0b\u8a18\u306e\u30da\u30fc\u30b8\u3067\u3002\nhttps://github.com/hashicorp/terraform/issues/2958\n\nTake the name out of your launch config. If you want to be able to change it, then you need to let it autogenerate a name for you\n\n\u96d1\u306b\u89e3\u91c8\u3059\u308b\u3068 aws_launch_configuration \u304b\u3089 name \u3092\u5916\u305b\u3088\u3002\u540d\u524d\u6307\u5b9a\u3057\u3066\u308b\u304b\u3089\u4e0a\u66f8\u304d\u3057\u3088\u3046\u3068\u3057\u3066\u518d\u4f5c\u6210\u3067\u304d\u306a\u3044\u3093\u3060\u3088\u3002\u540d\u524d\u3092\u6307\u5b9a\u3057\u306a\u304b\u3063\u305f\u3089\u540d\u524d\u3092\u81ea\u52d5\u751f\u6210\u3057\u3066\u304f\u308c\u308b\u3088\u3001\u3068\u3044\u3046\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\n\u3068\u3044\u3046\u3053\u3068\u306a\u306e\u3067\u3001aws_launch_configuration \u306e\u8a2d\u5b9a\u304b\u3089 name \u3092\u5916\u3057\u5148\u307b\u3069\u306elifecycle\u3082\u8ffd\u52a0\u3057\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3002\n...snip...\n\nresource \"aws_launch_configuration\" \"config\" {\n    image_id                = \"ami-374db956\"\n    instance_type           = \"t2.nano\"\n\n    key_name                = \"home\"\n    iam_instance_profile    = \"${aws_iam_instance_profile.profile.name}\"\n    security_groups         = [\"${aws_security_group.security.name}\"]\n\n    user_data               = <<EOT\n#cloud-config\n...snip...\nEOT\n\n    lifecycle {\n      create_before_destroy = true\n    }  \n}\n\n...snip...\n\n\u305d\u3046\u3057\u305f\u3089\u52d5\u3044\u305f\uff01\uff01\uff01\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u3092\u5b9a\u7fa9\u3057\u3066\u4e00\u5ea6`apply`\u5f8c\u3001user_data\u3092\u4fee\u6b63\u3057\u3066\u518d\u5ea6`apply`\u3059\u308b\u3068\n\n```\n...snip...\n\nresource \"aws_launch_configuration\" \"config\" {\n    name                    = \"${var.app_id}-as-config\"\n    image_id                = \"ami-374db956\"\n    instance_type           = \"t2.nano\"\n\n    key_name                = \"home\"\n    iam_instance_profile    = \"${aws_iam_instance_profile.profile.name}\"\n    security_groups         = [\"${aws_security_group.security.name}\"]\n\n    user_data               = <<EOT\n#cloud-config\n...snip...\nEOT\n}\n\n...snip...\n```\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30a8\u30e9\u30fc\u3092\u5410\u304f\n\n```\nError applying plan:\n\n1 error(s) occurred:\n\n* aws_launch_configuration.config: Error creating launch configuration: AlreadyExists: Launch Configuration by this name already exists - A launch configuration already exists with the name acceptessa-as-config\n        status code: 400, request id: 80fd0b22-a8b6-11e6-b7b8-fb76220c4050\n```\n\n\u6563\u3005\u30b0\u30b0\u3063\u3066\u3082\u51fa\u3066\u3053\u306a\u304f\u3066\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b`create_before_destroy`\u3092\u6307\u5b9a\u3057\u305f\u3089\u89e3\u6c7a\u3059\u308b\u3068\u3044\u3046issue\u3092\u6563\u3005\u898b\u305f\u3082\u306e\u306e\u89e3\u6c7a\u305b\u305a\u3002\n\n```\nlifecycle {\n  create_before_destroy = true\n}\n```\n\n\u3067\u3001\u3084\u3063\u3068\u898b\u3064\u3051\u305f\u306e\u304c\u4e0b\u8a18\u306e\u30da\u30fc\u30b8\u3067\u3002\n\nhttps://github.com/hashicorp/terraform/issues/2958\n\n> Take the name out of your launch config. If you want to be able to change it, then you need to let it autogenerate a name for you\n\n\u96d1\u306b\u89e3\u91c8\u3059\u308b\u3068 `aws_launch_configuration` \u304b\u3089 `name` \u3092\u5916\u305b\u3088\u3002\u540d\u524d\u6307\u5b9a\u3057\u3066\u308b\u304b\u3089\u4e0a\u66f8\u304d\u3057\u3088\u3046\u3068\u3057\u3066\u518d\u4f5c\u6210\u3067\u304d\u306a\u3044\u3093\u3060\u3088\u3002\u540d\u524d\u3092\u6307\u5b9a\u3057\u306a\u304b\u3063\u305f\u3089\u540d\u524d\u3092\u81ea\u52d5\u751f\u6210\u3057\u3066\u304f\u308c\u308b\u3088\u3001\u3068\u3044\u3046\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u3068\u3044\u3046\u3053\u3068\u306a\u306e\u3067\u3001`aws_launch_configuration` \u306e\u8a2d\u5b9a\u304b\u3089 `name` \u3092\u5916\u3057\u5148\u307b\u3069\u306e`lifecycle`\u3082\u8ffd\u52a0\u3057\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3002\n\n```\n...snip...\n\nresource \"aws_launch_configuration\" \"config\" {\n    image_id                = \"ami-374db956\"\n    instance_type           = \"t2.nano\"\n\n    key_name                = \"home\"\n    iam_instance_profile    = \"${aws_iam_instance_profile.profile.name}\"\n    security_groups         = [\"${aws_security_group.security.name}\"]\n\n    user_data               = <<EOT\n#cloud-config\n...snip...\nEOT\n\n    lifecycle {\n      create_before_destroy = true\n    }  \n}\n\n...snip...\n```\n\n\u305d\u3046\u3057\u305f\u3089\u52d5\u3044\u305f\uff01\uff01\uff01\n\n", "tags": ["Terraform"]}