{"context": "\n\n\u6982\u8981\n\nhttps://gist.github.com/jay3sh/41d5f10293ba2aaa4019ec93766f4fdf\n[iOS]\u90e8\u5c4b\u306e\u706f\u308a\u304c\u6d88\u3048\u305f\u3089\u81ea\u52d5\u3067Get Wild\u3092\u518d\u751f\u3057\u3066Get Wild\u9000\u52e4\u3059\u308b\n\u4e0a\u8a18\u306e\u30a4\u30f3\u30b9\u30d1\u30a4\u30a2\u3067\u3059\u3002\n\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d77\u52d5\u3057\u3066\u308b\u969b\u306b\u3001MacBook\u3092\u9589\u3058\u308b\u3068GetWild\u304c\u306a\u308a\u307e\u3059\u3002\n\n\n\u2460NoSleep\u30a2\u30d7\u30ea\u306ecli\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttps://github.com/integralpro/nosleep/releases\n\u3053\u3061\u3089\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u2461\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304f\n\nosascript\u3067itunes\u304b\u3089\u518d\u751f\u3057\u3088\u3046\u3068\u3057\u307e\u3057\u305f\u304c\u3001\u505c\u6b62\u30dc\u30bf\u30f3\u3067\u6b62\u3081\u3089\u308c\u305f\u3089\u56f0\u308b\u306e\u3067\u97f3\u697d\u30d5\u30a1\u30a4\u30eb\u3092\u76f4\u63a5\u518d\u751f\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\n\n#!/bin/sh\n\nMUSIC_PATH=\"/tmp/GetWild.m4a\"\n\ncheckNoSleepCtrl()\n{\n  if [ ! -f $(which NoSleepCtrl) ]; then\n    echo \"Please install NoSleepCtrl from \"\n    echo \"  https://github.com/integralpro/nosleep/releases\"\n    echo \" \"\n    echo \"Install it with CLI included in it. It's necessary to prevent\"\n    echo \"your macbook from going to sleep when somebody closes the clamshell.\"\n    echo \"When you launch this script it will automatically turn the 'NoSleep'\"\n    echo \"mode ON and when you exit the script with Ctrl-C, the 'NoSleep' mode\"\n    echo \"will automatically be turned OFF.\"\n    echo \"(You are not required to be running it in the tray)\"\n    echo \" \"\n    exit\n  fi\n}\n\nforceVolume()\n{\n  local volume=$(osascript -e \"(get volume settings)'s output volume\")\n  local muted=$(osascript -e \"(get volume settings)'s output muted\")\n  while :; do\n    NoSleepCtrl -a -s 1\n    NoSleepCtrl -b -s 1\n    osascript -e \"set volume 100\"\n    sleep 0.1\n  done &\n  local pid=$!\n  trap \"\n    NoSleepCtrl -a -s 0\n    NoSleepCtrl -b -s 0\n    kill $pid\n    osascript -e 'set volume output volume $volume'\n    osascript -e 'set volume output muted $muted'\n    exit\n  \" SIGINT\n}\n\nisClamshellOpen()\n{\n  [ $(\n    ioreg -r -k AppleClamshellState -d 4 |\n    grep AppleClamshellState |\n    head -1 |\n    cut -d = -f 2\n  ) = Yes ]\n}\n\ngetWildAndTough()\n{  \n  # Check NoSleepCtrl available\n  checkNoSleepCtrl\n\n  # Init local variables\n  local intrusion_detected=false\n  local counter=0\n\n  # Launch volume forcer\n  forceVolume\n\n  # Execution loop\n  while :; do\n    if $intrusion_detected || $(isClamshellOpen); then\n      let counter=5\n      say -v Otoya \"\u7206\u7834\u30b9\u30a4\u30c3\u30c1\u304c\u8d77\u52d5\u3055\u308c\u307e\u3057\u305f\"\n      say -v Otoya \"5\u79d2\u5f8c\u306b\u7206\u767a\u3057\u307e\u3059\"\n      while [ $counter -gt 0 ]; do\n        say -v Otoya $counter\n        let counter-=1\n        sleep 1\n      done\n      afplay $MUSIC_PATH\n      intrusion_detected=true\n    fi\n    sleep 1\n  done\n}\n\ngetWildAndTough\n\n\n\u2462\u3042\u3068\u306f\u8d77\u52d5\u3057\u3066\u30c8\u30a4\u30ec\u306b\u884c\u304f\u3060\u3051\u3067\u3059\n\nLet's try\uff01\n\n\n\u8ffd\u8a18\n\n\n@mpyw \u3055\u3093\u3088\u308a\u3001\u4e0b\u8a18\u6539\u5584\u9802\u304d\u307e\u3057\u305f\uff01\n\u5143\u306e\u97f3\u91cf\u3068\u30df\u30e5\u30fc\u30c8\u72b6\u614b\u3092\u30ea\u30b9\u30c8\u30a2\u3059\u308b\u3088\u3046\u306b\u6539\u5584\n\u5b9f\u884c\u4e2d\u306b\u97f3\u91cf\u3084\u30df\u30e5\u30fc\u30c8\u72b6\u614b\u3092\u64cd\u4f5c\u3055\u308c\u3066\u3082\u7206\u97f3\u3092\u5f37\u5236\u3059\u308b\u3088\u3046\u306b\u5f37\u5316\n\n# \u6982\u8981\n* https://gist.github.com/jay3sh/41d5f10293ba2aaa4019ec93766f4fdf\n* [[iOS]\u90e8\u5c4b\u306e\u706f\u308a\u304c\u6d88\u3048\u305f\u3089\u81ea\u52d5\u3067Get Wild\u3092\u518d\u751f\u3057\u3066Get Wild\u9000\u52e4\u3059\u308b](http://qiita.com/oubakiou/items/b9b78b00906415d056b2)\n* \u4e0a\u8a18\u306e\u30a4\u30f3\u30b9\u30d1\u30a4\u30a2\u3067\u3059\u3002\n* \u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d77\u52d5\u3057\u3066\u308b\u969b\u306b\u3001MacBook\u3092\u9589\u3058\u308b\u3068GetWild\u304c\u306a\u308a\u307e\u3059\u3002\n\n# \u2460NoSleep\u30a2\u30d7\u30ea\u306ecli\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttps://github.com/integralpro/nosleep/releases\n\u3053\u3061\u3089\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n# \u2461\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304f\n\n* osascript\u3067itunes\u304b\u3089\u518d\u751f\u3057\u3088\u3046\u3068\u3057\u307e\u3057\u305f\u304c\u3001\u505c\u6b62\u30dc\u30bf\u30f3\u3067\u6b62\u3081\u3089\u308c\u305f\u3089\u56f0\u308b\u306e\u3067<br>\u97f3\u697d\u30d5\u30a1\u30a4\u30eb\u3092\u76f4\u63a5\u518d\u751f\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\n\n```bash\n#!/bin/sh\n\nMUSIC_PATH=\"/tmp/GetWild.m4a\"\n\ncheckNoSleepCtrl()\n{\n  if [ ! -f $(which NoSleepCtrl) ]; then\n    echo \"Please install NoSleepCtrl from \"\n    echo \"  https://github.com/integralpro/nosleep/releases\"\n    echo \" \"\n    echo \"Install it with CLI included in it. It's necessary to prevent\"\n    echo \"your macbook from going to sleep when somebody closes the clamshell.\"\n    echo \"When you launch this script it will automatically turn the 'NoSleep'\"\n    echo \"mode ON and when you exit the script with Ctrl-C, the 'NoSleep' mode\"\n    echo \"will automatically be turned OFF.\"\n    echo \"(You are not required to be running it in the tray)\"\n    echo \" \"\n    exit\n  fi\n}\n\nforceVolume()\n{\n  local volume=$(osascript -e \"(get volume settings)'s output volume\")\n  local muted=$(osascript -e \"(get volume settings)'s output muted\")\n  while :; do\n    NoSleepCtrl -a -s 1\n    NoSleepCtrl -b -s 1\n    osascript -e \"set volume 100\"\n    sleep 0.1\n  done &\n  local pid=$!\n  trap \"\n    NoSleepCtrl -a -s 0\n    NoSleepCtrl -b -s 0\n    kill $pid\n    osascript -e 'set volume output volume $volume'\n    osascript -e 'set volume output muted $muted'\n    exit\n  \" SIGINT\n}\n\nisClamshellOpen()\n{\n  [ $(\n    ioreg -r -k AppleClamshellState -d 4 |\n    grep AppleClamshellState |\n    head -1 |\n    cut -d = -f 2\n  ) = Yes ]\n}\n\ngetWildAndTough()\n{  \n  # Check NoSleepCtrl available\n  checkNoSleepCtrl\n\n  # Init local variables\n  local intrusion_detected=false\n  local counter=0\n\n  # Launch volume forcer\n  forceVolume\n\n  # Execution loop\n  while :; do\n    if $intrusion_detected || $(isClamshellOpen); then\n      let counter=5\n      say -v Otoya \"\u7206\u7834\u30b9\u30a4\u30c3\u30c1\u304c\u8d77\u52d5\u3055\u308c\u307e\u3057\u305f\"\n      say -v Otoya \"5\u79d2\u5f8c\u306b\u7206\u767a\u3057\u307e\u3059\"\n      while [ $counter -gt 0 ]; do\n        say -v Otoya $counter\n        let counter-=1\n        sleep 1\n      done\n      afplay $MUSIC_PATH\n      intrusion_detected=true\n    fi\n    sleep 1\n  done\n}\n\ngetWildAndTough\n```\n\n# \u2462\u3042\u3068\u306f\u8d77\u52d5\u3057\u3066\u30c8\u30a4\u30ec\u306b\u884c\u304f\u3060\u3051\u3067\u3059\n\n* Let's try\uff01\n\n\n# \u8ffd\u8a18\n* @mpyw \u3055\u3093\u3088\u308a\u3001\u4e0b\u8a18\u6539\u5584\u9802\u304d\u307e\u3057\u305f\uff01\n* \u5143\u306e\u97f3\u91cf\u3068\u30df\u30e5\u30fc\u30c8\u72b6\u614b\u3092\u30ea\u30b9\u30c8\u30a2\u3059\u308b\u3088\u3046\u306b\u6539\u5584\n* \u5b9f\u884c\u4e2d\u306b\u97f3\u91cf\u3084\u30df\u30e5\u30fc\u30c8\u72b6\u614b\u3092\u64cd\u4f5c\u3055\u308c\u3066\u3082\u7206\u97f3\u3092\u5f37\u5236\u3059\u308b\u3088\u3046\u306b\u5f37\u5316\n", "tags": ["Bash", "GetWild"]}