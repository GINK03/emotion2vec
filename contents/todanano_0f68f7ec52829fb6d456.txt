{"context": " More than 1 year has passed since last update.\u73fe\u72b6\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u6e21\u3057\u3066\u8d77\u52d5\u3057\u3066\u308b\u3002\n[root@localhost ~]# cat /home/todanano/minecraft/scripts/run.sh\n#! /bin/sh\n\ncd /home/todanano/minecraft/server\n\nscreen -AmdS minecraft-server java \\\n-d64 \\\n-server \\\n-Dcom.sun.management.snmp.port=10161 \\\n-Dcom.sun.management.snmp.acl.file=/usr/java/jre1.8.0_45/lib/management/snmp.acl \\\n-Xmx6G -Xms6G -jar \\\n-XX:MetaspaceSize=512M -XX:MaxMetaspaceSize=512M \\\n-XX:+AggressiveOpts -XX:+UseLargePages \\\n./minecraft_server.1.8.7.jar nogui\n\n\n\u52d5\u4f5c\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u30fc\u306e\u30b9\u30da\u30c3\u30af\u306f\u3001\nVMware ESX 5.5\u4e0a\u306e\u4eee\u60f3\u30de\u30b7\u30f3\n\u30fbCPU\u30af\u30ed\u30c3\u30af 2.53GHz 2\u30bd\u30b1\u30c3\u30c82\u30b3\u30a2\u3092\u5272\u308a\u5f53\u3066\n\u30fb\u30e1\u30e2\u30ea 8GB\n\u30fbCentOS 5.11\n\u3064\u3044\u3067\u306b\u3001\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u3082\u66f8\u3044\u3066\u307f\u308b\u3002\n[root@localhost ~]# cat /etc/init.d/minecraft_server\n#!/bin/bash\n\n#\n# minecraft_server start script\n#\n#\n# chkconfig: - 99 11\n# description: minecraft_server start script\n\n### BEGIN INIT INFO\n# Provides: minecraft_server\n# Required-Start: $network $local_fs $remote_fs\n# Required-Stop: $network $local_fs $remote_fs\n# Short-Description: start and stop minecraft_server\n# Description: minecraft_server\n### END INIT INFO\n\n# Source function library.\n. /etc/init.d/functions\n\nprogname='minecraft_server.1.8.7.jar'\n\nstart() {\n        ret=`status`\n        if [ $? -eq 1 ]; then\n                sudo -u todanano /home/todanano/minecraft/scripts/run.sh\n        fi\n        touch /var/lock/subsys/minecraft_server\n        return $?\n}\n\nstop() {\n        ret=`status`\n        if [ $? -eq 0 ]; then\n                pkill -f $progname\n                sleep 1\n                ret=`status`\n                if [ $? -eq 0 ]; then\n                        sleep 10\n                        ret=`status`\n                        if [ $? -eq 0 ]; then\n                                pkill -9 $progname\n                        fi\n                fi\n        fi\n        rm -f /var/lock/subsys/minecraft_server\n        return $?\n}\n\nstatus() {\n        pgrep -f $progname\n        return $?\n}\n\n# See how we were called.\ncase \"$1\" in\n  start)\n        start\n        ;;\n  stop)\n        stop\n        ;;\n  status)\n        status $prog\n        ;;\n  *)\n        echo $\"Usage: $0 {start|stop|status}\"\n        exit 2\nesac\n\nchkconfig minecraft_server on\n\u3068\u3057\u3066\u304a\u3051\u3070\u3001\u518d\u8d77\u52d5\u3057\u3066\u3082\u81ea\u52d5\u5b9f\u884c\u3059\u308b\u306f\u305a\u3002\n2015/07/29 \u8ffd\u8a18\n\u524d\u306b\u66f8\u3044\u305f\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u3060\u3068\u3001\u30b5\u30fc\u30d0\u30fc\u672c\u4f53\u306e\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3084\u30ea\u30d6\u30fc\u30c8\u6642\u306b\u3001\nminecraft\u304c\u6b63\u5e38\u7d42\u4e86\u3057\u3066\u3044\u306a\u304b\u3063\u305f\u306e\u3067\u4fee\u6b63\u3002\n/etc/init.d/minecraft_server\u306estart\u306e\u51e6\u7406\u3067\u3001\n/var/lock/subsys/minecraft_server\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u304a\u304f\u3053\u3068\u3067\u3001\n\u30b5\u30fc\u30d0\u30fc\u672c\u4f53\u306e\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3001\u30ea\u30d6\u30fc\u30c8\u306e\u3068\u304d\u306b\u3001\n/etc/init.d/minecraft_server stop\n\u3092\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u306f\u305a\u3002\n\u73fe\u72b6\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u6e21\u3057\u3066\u8d77\u52d5\u3057\u3066\u308b\u3002\n\n<pre>\n[root@localhost ~]# cat /home/todanano/minecraft/scripts/run.sh\n#! /bin/sh\n\ncd /home/todanano/minecraft/server\n\nscreen -AmdS minecraft-server java \\\n-d64 \\\n-server \\\n-Dcom.sun.management.snmp.port=10161 \\\n-Dcom.sun.management.snmp.acl.file=/usr/java/jre1.8.0_45/lib/management/snmp.acl \\\n-Xmx6G -Xms6G -jar \\\n-XX:MetaspaceSize=512M -XX:MaxMetaspaceSize=512M \\\n-XX:+AggressiveOpts -XX:+UseLargePages \\\n./minecraft_server.1.8.7.jar nogui\n\n</pre>\n\n\u52d5\u4f5c\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u30fc\u306e\u30b9\u30da\u30c3\u30af\u306f\u3001\nVMware ESX 5.5\u4e0a\u306e\u4eee\u60f3\u30de\u30b7\u30f3\n\u30fbCPU\u30af\u30ed\u30c3\u30af 2.53GHz 2\u30bd\u30b1\u30c3\u30c82\u30b3\u30a2\u3092\u5272\u308a\u5f53\u3066\n\u30fb\u30e1\u30e2\u30ea 8GB\n\u30fbCentOS 5.11\n\n\u3064\u3044\u3067\u306b\u3001\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u3082\u66f8\u3044\u3066\u307f\u308b\u3002\n\n<pre>\n[root@localhost ~]# cat /etc/init.d/minecraft_server\n#!/bin/bash\n\n#\n# minecraft_server start script\n#\n#\n# chkconfig: - 99 11\n# description: minecraft_server start script\n\n### BEGIN INIT INFO\n# Provides: minecraft_server\n# Required-Start: $network $local_fs $remote_fs\n# Required-Stop: $network $local_fs $remote_fs\n# Short-Description: start and stop minecraft_server\n# Description: minecraft_server\n### END INIT INFO\n\n# Source function library.\n. /etc/init.d/functions\n\nprogname='minecraft_server.1.8.7.jar'\n\nstart() {\n        ret=`status`\n        if [ $? -eq 1 ]; then\n                sudo -u todanano /home/todanano/minecraft/scripts/run.sh\n        fi\n        touch /var/lock/subsys/minecraft_server\n        return $?\n}\n\nstop() {\n        ret=`status`\n        if [ $? -eq 0 ]; then\n                pkill -f $progname\n                sleep 1\n                ret=`status`\n                if [ $? -eq 0 ]; then\n                        sleep 10\n                        ret=`status`\n                        if [ $? -eq 0 ]; then\n                                pkill -9 $progname\n                        fi\n                fi\n        fi\n        rm -f /var/lock/subsys/minecraft_server\n        return $?\n}\n\nstatus() {\n        pgrep -f $progname\n        return $?\n}\n\n# See how we were called.\ncase \"$1\" in\n  start)\n        start\n        ;;\n  stop)\n        stop\n        ;;\n  status)\n        status $prog\n        ;;\n  *)\n        echo $\"Usage: $0 {start|stop|status}\"\n        exit 2\nesac\n</pre>\n\nchkconfig minecraft_server on\n\n\u3068\u3057\u3066\u304a\u3051\u3070\u3001\u518d\u8d77\u52d5\u3057\u3066\u3082\u81ea\u52d5\u5b9f\u884c\u3059\u308b\u306f\u305a\u3002\n\n2015/07/29 \u8ffd\u8a18\n\u524d\u306b\u66f8\u3044\u305f\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u3060\u3068\u3001\u30b5\u30fc\u30d0\u30fc\u672c\u4f53\u306e\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3084\u30ea\u30d6\u30fc\u30c8\u6642\u306b\u3001\nminecraft\u304c\u6b63\u5e38\u7d42\u4e86\u3057\u3066\u3044\u306a\u304b\u3063\u305f\u306e\u3067\u4fee\u6b63\u3002\n\n/etc/init.d/minecraft_server\u306estart\u306e\u51e6\u7406\u3067\u3001\n/var/lock/subsys/minecraft_server\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u304a\u304f\u3053\u3068\u3067\u3001\n\u30b5\u30fc\u30d0\u30fc\u672c\u4f53\u306e\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3001\u30ea\u30d6\u30fc\u30c8\u306e\u3068\u304d\u306b\u3001\n/etc/init.d/minecraft_server stop\n\u3092\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u306f\u305a\u3002\n\n\n", "tags": ["minecraft", "Linux", "Java"]}