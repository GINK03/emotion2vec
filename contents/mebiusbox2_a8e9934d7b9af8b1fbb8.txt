{"context": "\n\n\u306f\u3058\u3081\u306b\nGitBook \u306f Markdown \u5f62\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u96fb\u5b50\u6587\u66f8\u3092\u4f5c\u6210\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002\n\u6b21\u306e\u3088\u3046\u306a\u6587\u66f8\u4f5c\u6210\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\nGitBook \u306b\u4f7f\u3046\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092 GitLab \u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3057\u307e\u3059\nGitLab \u306e push \u30a4\u30d9\u30f3\u30c8\u3092 Hubot \u3067\u30d5\u30c3\u30af\u3057\u307e\u3059\nGitBook \u3092\u4f7f\u3063\u3066\u96fb\u5b50\u6587\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\n\u4f5c\u6210\u3057\u305f\u96fb\u5b50\u6587\u66f8\u3092 Apache \u3092\u4f7f\u3063\u3066\u516c\u958b\u3057\u30d6\u30e9\u30a6\u30b6\u3067\u95b2\u89a7\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\n\u3053\u308c\u3089\u3092VirtualBox(Windows) \u3067\u4f5c\u6210\u3057\u305f CentOS7 \u4e0a\u306b\u5b9f\u88c5\u3057\u307e\u3059\n\n\u79c1\u306fWindows10 64bit\u74b0\u5883\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\nCentOS7 \u306e\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210\nVirtaulBox \u306e\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210\u3057\u3001CentOS7 \u3092 Minimal \u69cb\u6210\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u4f7f\u3063\u305f\u306e\u306f CentOS7-x86_64-Minimal-1511.iso \u3067\u3059\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001yum upgrade \u3092\u884c\u3044\u307e\u3059\u3002\nGuest Additions \u306f\u5165\u308c\u3066\u307e\u305b\u3093\u3002\nSELinux \u306f\u7121\u52b9\u306b\u3057\u3001firewalld \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nGitLab \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\ncurl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash\nyum -y install gitlab-ce\n\n\u30db\u30b9\u30c8PC\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\u306e\u3067\u3001\u30db\u30b9\u30c8\u30aa\u30f3\u30ea\u30fc\u30a2\u30c0\u30d7\u30bf\u306eIP(192.168.56.101) \u3092 external_url \u306b\u8a2d\u5b9a\u3057\u3066 gitlab-ctl reconfigure \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u30db\u30b9\u30c8PC\u304b\u3089\u30d6\u30e9\u30a6\u30b6\u3067 http://192.168.56.101 \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\u3068...\n\u63a5\u7d9a\u3055\u308c\u307e\u305b\u3093\u306d\u3002\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\u3067 80 \u30dd\u30fc\u30c8\u3092\u958b\u3051\u307e\u3059\u3002\nfirewall-cmd --add-service=http --permanent\nfirewall-cmd --reload\n\n\u518d\u5ea6\u30a2\u30af\u30bb\u30b9\u3057\u3066 GitLab \u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u8a2d\u5b9a\u3057\u3066 root \u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n\nGitBook \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nGitBook \u306f Node.js \u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002\n\u307e\u305a\u306f Node.js \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nyum install epel-release -y\nyum install nodejs npm -y\n\n\u6b21\u306b gitbook-cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u3053\u308c\u306f Gitbook \u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u3067\u3059\u3002gitbook \u81ea\u4f53\u306f\u542b\u307e\u308c\u3066\u3044\u307e\u305b\u3093\u3002\nnpm install gitbook-cli -g\n\n\u3053\u308c\u3067 gitbook \u306e\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\ngitbook \u81ea\u4f53\u306f gitbook \u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u81ea\u52d5\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n(gitbook \u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u4e0a\u624b\u304f\u52d5\u4f5c\u3057\u306a\u3044\u306e\u3067\u30ed\u30fc\u30ab\u30eb\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3092\u30aa\u30b9\u30b9\u30e1\u3057\u307e\u3059)\ngitbook help\n\n\u4e0a\u8a18\u3092\u5b9f\u884c\u3057\u3066\u672c\u4f53\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u9069\u5f53\u306b\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u3063\u3066\u52d5\u4f5c\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\nmkdir book\ncd book\ngitbook init\n\n> warn: no summary file in this book\n> info: create README.md\n> info: create SUMMARY.md\n> info: initialization is finished\n\ngitbook build\n\n> info: 7 plugins are installed\n> info: 6 explicitly listed\n> info: loading plugin \"highlight\"... OK\n> info: loading plugin \"search\"... OK\n> info: loading plugin \"lunr\"... OK\n> info: loading plugin \"sharing\"... OK\n> info: loading plugin \"fontsettings\"... OK\n> info: loading plugin \"theme-default\"... OK\n> info: found 1 pages\n> info: found 0 asset files\n> info: >> generation finished with success in 0.4s !\n\nPDF, epub, mobi \u5f62\u5f0f\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u306f\u305d\u308c\u305e\u308c gitbook pdf, gitbook epub, gitbook mobi \u306b\u306a\u308a\u307e\u3059\u3002\n\u8a66\u3057\u306b PDF \u3067\u4f5c\u6210\u3057\u3066\u307f\u307e\u3059\u3002\ngitbook pdf\n\n> info: 7 plugins are installed\n> info: 6 explicitly listed\n> info: loading plugin \"highlight\"... OK\n> info: loading plugin \"search\"... OK\n> info: loading plugin \"lunr\"... OK\n> info: loading plugin \"sharing\"... OK\n> info: loading plugin \"fontsettings\"... OK\n> info: loading plugin \"theme-default\"... OK\n> info: found 1 pages\n> info: found 0 asset files\n>\n> InstallRequiredError: \"ebook-convert\" is not installed.\n> Install it from Calibre: https://calibre-ebook.com\n\n\"ebook-convert\" \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001Calibre \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u516c\u5f0f\u30b5\u30a4\u30c8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304b\u3089 Unix \u7528\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u305d\u308c\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\nyum install wget -y\nsudo -v && wget -nv -O- https://raw.githubusercontent.com/kovidgoyal/calibre/master/setup/linux-installer.py | sudo python -c \"import sys; main=lambda:sys.stderr.write('Download failed\\n'); exec(sys.stdin.read()); main()\"\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u8b66\u544a\u304c\uff12\u3064\u51fa\u307e\u3059\u3002\uff12\u3064\u3068\u3082 ImportError \u3067\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u3082\u306e libGL.so \u3068 QImage \u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\u8a66\u3057\u306b\u3053\u3053\u3067 gitbook pdf \u3092\u5b9f\u884c\u3059\u308b\u3068\u300c\u5171\u6709\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3051\u307e\u305b\u3093\u300d\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u3089\u306f qt-creator \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3067\u89e3\u6c7a\u3057\u307e\u3059\u3002\nyum install qt-creator -y\n\n\u518d\u5ea6 gitbook pdf \u3092\u5b9f\u884c\u3057\u3066\u554f\u984c\u304c\u51fa\u3066\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\nHubot \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\nnpm install hubot coffee-script generator-hubot yo -g\n\nroot \u3067 Hubot \u306e\u4f5c\u6210\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001Hubot \u7528\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u306e\u30e6\u30fc\u30b6\u30fc\u306f gitbook \u306e\u5909\u63db\u3082\u517c\u306d\u3066\u3044\u308b\u306e\u3067 gitbook \u3068\u3057\u307e\u3057\u305f\u3002\nuseradd gitbook\npasswd gitbook\n\ngitbook \u30e6\u30fc\u30b6\u30fc\u306b\u5207\u308a\u66ff\u3048\u3066 hubot \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nsu gitbook\ncd ~\nmkdir hubot\ncd hubot\nyo hubot\n\nHubot \u4f5c\u6210\u306e\u624b\u7d9a\u304d\u304c\u59cb\u307e\u308a\u307e\u3059\u306e\u3067\u3001\u3059\u3079\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u4f5c\u6210\u3057\u305f\u3089\u3001\u307e\u305a\u4e0d\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3057\u307e\u3059\u3002\nrm scripts/example.coffee\n\nhubot \u306e\u5b9f\u884c\u30b9\u30af\u30ea\u30d7\u30c8 run_hubot.sh \u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\nexport PORT=5000\nbin/hubot\n\n\u4f5c\u6210\u3057\u305f\u3089\u5b9f\u884c\u6a29\u9650\u3092\u4e0e\u3048\u3066\u304a\u304d\u307e\u3059\u3002\nchmod +x run_hubot.sh\n\n\u6b21\u306b Hubot \u30b9\u30af\u30ea\u30d7\u30c8 scripts/gitlab_gitbook.coffee \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u5185\u5bb9\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n# http://<host>:5000/gitlab_hook/?output_pdf=<pdf_name>\n\nurl = require 'url'\nquerystring = require 'querystring'\n\nmodule.exports = (robot) ->\n\n  push_request = (output_pdf, hook) ->\n    git_group = hook.project.namespace\n    git_project = hook.project.name\n    git_url = hook.project.ssh_url\n    console.log(\"hubot: group=#{git_group} name=#{git_project} output=#{output_pdf}\")\n    @exec = require('child_process').exec\n    command = \"sh /home/gitbook/gitbook.sh #{git_url} #{git_project} #{output_pdf}\"\n    @exec command, (error, stdout, stderr) ->\n      robot.logger.error error if error?\n      robot.logger.info stdout if stdout?\n      robot.logger.info stderr if stderr?\n\n  robot.router.post '/gitlab_hook', (req, res) ->\n    hook = req.body\n    q = querystring.parse(url.parse(req.url).query)\n    kind = hook['object_kind'] || 'push'\n    switch kind\n      when 'push'\n        push_request q.output_pdf, hook\n    res.send 200\n\n\u6b63\u5e38\u306b\u5b9f\u884c\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n./run_hubot.sh\n\n\u6b21\u306b hubot \u304b\u3089 gitbook \u3092\u5b9f\u884c\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306f gitbook \u30e6\u30fc\u30b6\u306e\u30db\u30fc\u30e0\u30d5\u30a9\u30eb\u30c0\u306e\u30c8\u30c3\u30d7\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u30ed\u30b0\u304c\u6b32\u3057\u3044\u306e\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\uff12\u3064\u306b\u5206\u3051\u3066\u3001\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3080\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\uff08\u3053\u3053\u306f\u3082\u3063\u3068\u30b9\u30de\u30fc\u30c8\u306b\u3084\u308b\u65b9\u6cd5\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u3053\u306e\u3042\u305f\u308a\u306f\u521d\u5fc3\u8005\u30ec\u30d9\u30eb\u306a\u306e\u3067\u3054\u5bb9\u8d66\u3092\uff09\nvi ~/gitbook.sh\n\n#!/bin/sh\nLOGFILE=/tmp/gitbook-script-log\ncd ~\n./gitbook-exec.sh $1 $2 $3 >>$LOGFILE\n\n\u5b9f\u969b\u306b\u5b9f\u884c\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb gitbook-exec.sh \u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n#!/bin/sh\ncd ~\n\nif [ -e $2 ]; then\n    cd $2\n    git pull $1\n    cd ../\nelse\n    git clone $1\nfi\n\ngitbook install ./$2\ngitbook pdf ./$2 ./$2/$3.pdf\ngitbook build ./$2\n\ncp -rf ./$2/_book -T /var/www/html/$2\n\n\u5fd8\u308c\u305a\u306b\u5b9f\u884c\u6a29\u9650\u3092\u4e0e\u3048\u3066\u304a\u304d\u307e\u3059\u3002\nchmod +x gitbook.sh\nchmod +x gitbook-exec.sh\n\n\nssh\u30ad\u30fc \u306e\u767b\u9332\n\u3053\u306e gitbook \u30e6\u30fc\u30b6\u306f GitLab \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u306e\u3067\u3001ssh \u30ad\u30fc\u3092\u767b\u9332\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nssh-keygen -t rsa\n\n\u751f\u6210\u3057\u305f id_rsa.pub \u306e\u5185\u5bb9\u3092 GitLab \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3001Profile Settings \u306e SSH Keys \u306b\u767b\u9332\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u5b9f\u969b\u306b clone \u51fa\u6765\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nGitLab \u3067\u9069\u5f53\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f \u300croot\u300d \u30e6\u30fc\u30b6\u30fc\u3067 \u300cTest\u300d \u3068\u3044\u3046\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\nURL \u306f\u300cgit@192.168.56.101:root/Test.git\u300d\u306b\u306a\u308a\u307e\u3059\u3002\ngit clone git@192.168.56.101:root/Test.git\n\n> bash: git: \u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\n\n\u304a\u3063\u3068\u3001git \u304c\u5165\u3063\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nsudo yum install git -y\n\n\u518d\u5ea6 clone \u3092\u8a66\u3057\u307e\u3059\u3002\ngit clone git@192.168.56.101:root/Test.git\n\n> Cloning into 'Test'...\n> The authenticity of host '192.168.56.101 (192.168.56.101)' can't > be established.\n> ECDSA key fingerprint is c9:7d:09:34:cc:3a:74:fd:0d:d7:98:bf:31:62:21:2f.\n> Are you sure you want to continue connecting (yes/no)?\n\n\u521d\u56de\u3060\u3068\u4e0a\u8a18\u306e\u3088\u3046\u306a\u78ba\u8a8d\u304c\u51fa\u307e\u3059\u304c\u3001\u305d\u306e\u307e\u307e yes \u3067\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\n\u300cTest\u300d\u30d5\u30a9\u30eb\u30c0\u306b\u79fb\u52d5\u3057\u3066\u3001gitbook init \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001gitbook \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u521d\u671f\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u751f\u6210\u3055\u308c\u305f SUMMARY.md \u3068 README.md \u3092\u30d7\u30c3\u30b7\u30e5\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u307e\u305a\u306f git \u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\ngit config --global user.name \"<username>\"\ngit config --global user.email \"hoge@example.com\"\n\n\u4e0a\u8a18\u306e\u540d\u524d\u3068\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u9069\u5f53\u306a\u306e\u3067\u3001\u9069\u5207\u306a\u540d\u524d\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u30d7\u30c3\u30b7\u30e5\u3057\u307e\u3059\u3002\ngit add README.md SUMMARY.md\ngit commit -m \"add README SUMMARY\"\ngit push -u origin master\n\n\nApache \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngitbook \u3067\u4f5c\u6210\u3057\u305f\u96fb\u5b50\u6587\u66f8\u3092\u95b2\u89a7\u3059\u308b\u305f\u3081\u306b Web \u30b5\u30fc\u30d0\u30fc (apache) \u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\nyum install httpd -y\n\n\u30dd\u30fc\u30c8\u306f 8000 \u3092\u6307\u5b9a\u3057\u307e\u3059\u300280 \u306f GitLab(nginx) \u304c\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f 5000\u3000\u30dd\u30fc\u30c8\u306f hubot \u3067\u4f7f\u3044\u307e\u3059\u3002\ngitbook \u30e6\u30fc\u30b6\u3067\u4f5c\u6210\u3057\u305f\u6587\u66f8\u3092 /var/www/html \u30d5\u30a9\u30eb\u30c0\u5185\u306b\u30b3\u30d4\u30fc\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081 var/www/html \u306e\u6240\u6709\u8005\u3092 gitbook \u306b\u5909\u66f4\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nchown gitbook:gitbook /var/www/html\n\n\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u3089Web\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\nsystemctl start httpd\nsystemctl enable httpd\n\n\u4f8b\u3048\u3070\u5148\u307b\u3069\u306e\u300cTest\u300d\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f /var/www/html/Test \u3068\u306a\u308a\u307e\u3059\u306e\u3067\u3001URL \u306f\u300c http://192.168.56.101:8000/Test/ \u300d\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001PDF \u6587\u66f8\u306f\u300c http://192.168.56.101:8000/Test/{output_pdf}.pdf \u300d\u3067\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\nGitLab \u3067 WebHook \u3092\u8a2d\u5b9a\n\u3053\u308c\u3067\u4e00\u901a\u308a\u306e\u81ea\u52d5\u751f\u6210\u74b0\u5883\u306f\u6574\u3044\u307e\u3057\u305f\u3002\nGitLab \u306e\u30c6\u30b9\u30c8\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3059\u3002\nGitLab \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u8a2d\u5b9a\u3067\u300cWebhooks\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\nWebhooks \u306e URL \u306b http://192.168.56.101:5000/gitlab_hook/?output_pdf=Test \u3068\u5165\u529b\u3057\u307e\u3059\u3002\nSecret Token \u306f\u7a7a\u3067\u3001Trigger \u306f Push events \u306b\u30c1\u30a7\u30c3\u30af\u3092\u3064\u3051\u307e\u3059\u3002\nSSL Verification \u306e\u300cEnable SSL verification\u300d\u306e\u30c1\u30a7\u30c3\u30af\u306f\u306f\u305a\u3057\u307e\u3059\u3002\n\u4ee5\u4e0a\u306e\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u3089\u300cAdd Webhook\u300d\u3067\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u4e0b\u306e\u65b9\u306b\u8ffd\u52a0\u3055\u308c\u305f Webhook \u304c\u3042\u308a\u307e\u3059\u3002\n\u81ea\u52d5\u751f\u6210\u304c\u52d5\u4f5c\u3059\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u307e\u305a\u3001CentOS\u5074\u3067\u306f gitbook \u30e6\u30fc\u30b6\u30fc\u306b\u3057\u3001clone \u3057\u305f Test \u30d5\u30a9\u30eb\u30c0\u3092\u524a\u9664\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u305d\u3057\u3066\u3001hubot \u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\ncd ~\nrm -rf Test\ncd hubot\n./run_hubot.sh\n\n\u6b21\u306b GitLab \u306e\u753b\u9762\u304b\u3089\u8ffd\u52a0\u3057\u305f Webhook \u306e\u53f3\u5074\u306b\u3042\u308b\u300cTest\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\nGitLab \u5074\u3067 Hook executed successfully: HTTP 200 \u3068\u8868\u793a\u3055\u308c\u308c\u3070 GitLab \u304b\u3089\u306e\u30d5\u30c3\u30af\u306f\u4e0a\u624b\u304f\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002\nhubot \u5074\u3082\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3044\u306a\u3044\u304b /tmp/gitbook-script-log \u3092\u78ba\u8a8d\u3057\u307e\u3059\n\u554f\u984c\u306a\u3051\u308c\u3070\u30db\u30b9\u30c8PC\u304b\u3089\u30d6\u30e9\u30a6\u30b6\u3067\u898b\u3066\u307f\u307e\u3059\u3002\nURL \u306f http://192.168.56.101:8000/Test/ \u3067\u3059\u3002\n\u3042\u308c\u3001\u63a5\u7d9a\u304c\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3055\u308c\u305f\u3068\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\nCentOS \u5074\u306e\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u3067 8000 \u756a\u3092\u958b\u3051\u307e\u3059\u3002\nfirewall-cmd --add-port=8000/tcp --permanent\nfirewall-cmd --reload\n\n\u753b\u9762\u306b\u300cIntroduction\u300d\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\u3002\nPDF \u3082\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\nURL \u306f http://192.168.56.101:8000/Test/Test.pdf \u3067\u3059.\n\u554f\u984c\u306a\u3051\u308c\u3070\u3053\u308c\u3067\u57fa\u672c\u7684\u306a\u6a5f\u80fd\u306f\u5b9f\u88c5\u3067\u304d\u307e\u3057\u305f\u3002\n\nhubot \u306e\u6c38\u7d9a\u5316\n\u3053\u308c\u304b\u3089\u7d30\u304b\u3044\u8abf\u6574\u3092\u3057\u3066\u3044\u304d\u307e\u3059.\n\u307e\u305a\u3001hubot \u306e\u6c38\u7d9a\u5316\u3092\u884c\u3044\u307e\u3059\u3002\n\u305d\u308c\u306b\u306f forever \u3092\u4f7f\u3044\u307e\u3059\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nnpm install forever -g\n\n\u6b21\u306b bin/hubot \u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n# exec node_modules/.bin/hubot --name \"hubot\" \"$@\"\nforever start -c coffee node_modules/.bin/hubot\n\n\u8d77\u52d5\u65b9\u6cd5\u306f\u3053\u308c\u307e\u3067\u5909\u308f\u3089\u306a\u3044\u306e\u3067 ./run_hubot.sh \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u52d5\u4f5c\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\u5834\u5408\u306f forever list \u3067\u3059\u3002\n\n\u65e5\u672c\u8a9e\u306e\u5bfe\u5fdc\n\u3053\u3053\u307e\u3067\u306e\u8a2d\u5b9a\u3067\u65e5\u672c\u8a9e\u3092\u542b\u3081\u305f\u6587\u66f8\u3092\u5165\u308c\u308b\u3068 HTML \u306e\u65b9\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u304c\u3001 PDF \u3067\u306f\u65e5\u672c\u8a9e\u306e\u90e8\u5206\u304c\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002\n\nHTML\n\n\nPDF\n\n\n\u30d5\u30a9\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u308c\u306f\u65e5\u672c\u8a9e\u306e\u30d5\u30a9\u30f3\u30c8\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\u3059\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nyum groupinstall fonts -y\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3089\u518d\u5ea6\u3001\u751f\u6210\u3055\u305b\u3066\u307f\u307e\u3059\u3002\n\n\u3069\u3046\u3084\u3089\u554f\u984c\u306a\u3055\u305d\u3046\u3067\u3059\u3002\n\u203b\u3053\u3053\u3067\u306f VL \u30b4\u30b7\u30c3\u30af\u306e\u30d5\u30a9\u30f3\u30c8\u3067\u751f\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u5225\u306e\u30d5\u30a9\u30f3\u30c8\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u79c1\u3082\u5225\u306e\u74b0\u5883\u3067\u8a66\u3057\u305f\u3068\u3053\u308d\u5225\u306e\u30d5\u30a9\u30f3\u30c8\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u3001\u898b\u305f\u76ee\u304c\u3042\u307e\u308a\u3088\u308d\u3057\u304f\u306a\u304b\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002\u305d\u306e\u5834\u5408\u306f\u30d5\u30a9\u30f3\u30c8\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nbook.json \u30d5\u30a1\u30a4\u30eb\u3092 README.md \u3068\u540c\u3058\u30d5\u30a9\u30eb\u30c0\u306b\u4f5c\u6210\u3057\u3001\u5185\u5bb9\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n{\n    \"pdf\":{\n        \"fontFamily\":\"VL Gothic\"\n    }\n}\n\n\u3053\u308c\u3067 PDF \u306b\u4f7f\u308f\u308c\u308b\u30d5\u30a9\u30f3\u30c8\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n\u6570\u5f0f\ngitbook \u306b\u306f\u6570\u5f0f\u3092\u57cb\u3081\u8fbc\u3080\u305f\u3081\u306b mathjax \u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\n\u4f7f\u7528\u3059\u308b\u306b\u306f book.json \u3092\u4f5c\u6210\u3057\u3001\u5185\u5bb9\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n{\n    \"plugins\":[\"mathjax\"]\n}\n\nPDF \u3067\u3082\u4f7f\u3046\u305f\u3081\u306b\u306f svgexport \u304c\u5fc5\u8981\u3067\u3059\u306e\u3067\u3001\u3053\u308c\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nsvgexport \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f bzip2 \u3082\u5fc5\u8981\u306a\u306e\u3067\u5148\u306b\u3053\u3061\u3089\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nyum install bzip2 -y\nnpm install svgexport -g\n\n\n\u6b63\u5e38\u306b\u751f\u6210\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u6700\u5f8c\u306b\nGit, GitHub, GitLab, GitBook \u306f\u6700\u8fd1\u89e6\u308a\u59cb\u3081\u305f\u3070\u304b\u308a\u3067\u3059\u304c\u8272\u3005\u51fa\u6765\u3066\u9762\u767d\u3044\u3067\u3059\u3002\u4eca\u56de\u306f GitHub Pages \u306e\u5f71\u97ff\u304c\u5927\u304d\u304f Git \u3067\u30d7\u30c3\u30b7\u30e5\u3059\u308b\u3068\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u51fa\u6765\u4e0a\u304c\u308b\u3068\u3044\u3046\u306e\u306f\u5927\u5909\u697d\u3067\u3059\u3057\u3001\u30d7\u30ed\u30b0\u30e9\u30de\u306b\u512a\u3057\u3044\u611f\u3058\u304c\u3057\u307e\u3059\u3002\u3068\u306f\u3044\u3063\u3066\u3082\u3001\u3053\u3053\u307e\u3067\u6765\u308b\u306e\u306b\u82e6\u52b4\u3057\u305f\u306e\u3067\u306a\u3093\u3068\u3082\u8a00\u3048\u307e\u305b\u3093\u304c\u3002\nGitbook \u306b\u306f\u307e\u3060\u8a2d\u5b9a\u3067\u304d\u308b\u3068\u3053\u308d\u3082\u3042\u308b\u3088\u3046\u3067\u3059\u3057\u3001\u30b9\u30bf\u30a4\u30eb\u306b\u306f\u3053\u3060\u308f\u308b\u65b9\u306a\u306e\u3067\u3001\u3082\u3046\u5c11\u3057\u624b\u3092\u4ed8\u3051\u52a0\u3048\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u306d\u3002PDF \u306f\u3082\u3063\u3068\u4f53\u88c1\u3092\u6574\u3048\u3066\u793e\u5916\u306b\u3082\u51fa\u305b\u308b\u3050\u3089\u3044\u306e\u5b8c\u6210\u5ea6\u3092\u76ee\u6307\u3057\u305f\u3044\u3067\u3059\u3002HTML \u306e\u65b9\u306f css \u3044\u3058\u308a\u305f\u3044\u3067\u3059\u306d\u3002\n\u4eca\u56de\u306e\u5185\u5bb9\u306b\u3064\u3044\u3066\u306f\u6240\u3005\u30c4\u30c3\u30b3\u30df\u305f\u3044\u3068\u3053\u308d\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u53c2\u8003\u306b\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n## \u306f\u3058\u3081\u306b\n\nGitBook \u306f Markdown \u5f62\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u96fb\u5b50\u6587\u66f8\u3092\u4f5c\u6210\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002\n\u6b21\u306e\u3088\u3046\u306a\u6587\u66f8\u4f5c\u6210\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n* GitBook \u306b\u4f7f\u3046\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092 GitLab \u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3057\u307e\u3059\n* GitLab \u306e push \u30a4\u30d9\u30f3\u30c8\u3092 Hubot \u3067\u30d5\u30c3\u30af\u3057\u307e\u3059\n* GitBook \u3092\u4f7f\u3063\u3066\u96fb\u5b50\u6587\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\n* \u4f5c\u6210\u3057\u305f\u96fb\u5b50\u6587\u66f8\u3092 Apache \u3092\u4f7f\u3063\u3066\u516c\u958b\u3057\u30d6\u30e9\u30a6\u30b6\u3067\u95b2\u89a7\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\n* \u3053\u308c\u3089\u3092VirtualBox(Windows) \u3067\u4f5c\u6210\u3057\u305f CentOS7 \u4e0a\u306b\u5b9f\u88c5\u3057\u307e\u3059\n\n\u79c1\u306fWindows10 64bit\u74b0\u5883\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\n## CentOS7 \u306e\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210\n\nVirtaulBox \u306e\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210\u3057\u3001CentOS7 \u3092 Minimal \u69cb\u6210\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u4f7f\u3063\u305f\u306e\u306f `CentOS7-x86_64-Minimal-1511.iso` \u3067\u3059\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001`yum upgrade` \u3092\u884c\u3044\u307e\u3059\u3002\nGuest Additions \u306f\u5165\u308c\u3066\u307e\u305b\u3093\u3002\nSELinux \u306f\u7121\u52b9\u306b\u3057\u3001`firewalld` \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n## GitLab \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\ncurl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash\nyum -y install gitlab-ce\n```\n\n\u30db\u30b9\u30c8PC\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\u306e\u3067\u3001\u30db\u30b9\u30c8\u30aa\u30f3\u30ea\u30fc\u30a2\u30c0\u30d7\u30bf\u306eIP(192.168.56.101) \u3092 `external_url` \u306b\u8a2d\u5b9a\u3057\u3066 `gitlab-ctl reconfigure` \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\u30db\u30b9\u30c8PC\u304b\u3089\u30d6\u30e9\u30a6\u30b6\u3067 `http://192.168.56.101` \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\u3068...\n\u63a5\u7d9a\u3055\u308c\u307e\u305b\u3093\u306d\u3002\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\u3067 80 \u30dd\u30fc\u30c8\u3092\u958b\u3051\u307e\u3059\u3002\n\n```\nfirewall-cmd --add-service=http --permanent\nfirewall-cmd --reload\n```\n\n\u518d\u5ea6\u30a2\u30af\u30bb\u30b9\u3057\u3066 GitLab \u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u8a2d\u5b9a\u3057\u3066 root \u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n\n## GitBook \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nGitBook \u306f Node.js \u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002\n\u307e\u305a\u306f Node.js \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\nyum install epel-release -y\nyum install nodejs npm -y\n```\n\n\u6b21\u306b `gitbook-cli` \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u3053\u308c\u306f Gitbook \u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u3067\u3059\u3002gitbook \u81ea\u4f53\u306f\u542b\u307e\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n\n```\nnpm install gitbook-cli -g\n```\n\n\u3053\u308c\u3067 gitbook \u306e\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\ngitbook \u81ea\u4f53\u306f gitbook \u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u81ea\u52d5\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\n(gitbook \u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u4e0a\u624b\u304f\u52d5\u4f5c\u3057\u306a\u3044\u306e\u3067\u30ed\u30fc\u30ab\u30eb\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3092\u30aa\u30b9\u30b9\u30e1\u3057\u307e\u3059)\n\n```\ngitbook help\n```\n\n\u4e0a\u8a18\u3092\u5b9f\u884c\u3057\u3066\u672c\u4f53\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u9069\u5f53\u306b\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u3063\u3066\u52d5\u4f5c\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n\n```\nmkdir book\ncd book\ngitbook init\n\n> warn: no summary file in this book\n> info: create README.md\n> info: create SUMMARY.md\n> info: initialization is finished\n\ngitbook build\n\n> info: 7 plugins are installed\n> info: 6 explicitly listed\n> info: loading plugin \"highlight\"... OK\n> info: loading plugin \"search\"... OK\n> info: loading plugin \"lunr\"... OK\n> info: loading plugin \"sharing\"... OK\n> info: loading plugin \"fontsettings\"... OK\n> info: loading plugin \"theme-default\"... OK\n> info: found 1 pages\n> info: found 0 asset files\n> info: >> generation finished with success in 0.4s !\n```\n\nPDF, epub, mobi \u5f62\u5f0f\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u306f\u305d\u308c\u305e\u308c `gitbook pdf`, `gitbook epub`, `gitbook mobi` \u306b\u306a\u308a\u307e\u3059\u3002\n\u8a66\u3057\u306b PDF \u3067\u4f5c\u6210\u3057\u3066\u307f\u307e\u3059\u3002\n\n```\ngitbook pdf\n\n> info: 7 plugins are installed\n> info: 6 explicitly listed\n> info: loading plugin \"highlight\"... OK\n> info: loading plugin \"search\"... OK\n> info: loading plugin \"lunr\"... OK\n> info: loading plugin \"sharing\"... OK\n> info: loading plugin \"fontsettings\"... OK\n> info: loading plugin \"theme-default\"... OK\n> info: found 1 pages\n> info: found 0 asset files\n>\n> InstallRequiredError: \"ebook-convert\" is not installed.\n> Install it from Calibre: https://calibre-ebook.com\n```\n\n\"ebook-convert\" \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001[Calibre](https://calibre-ebook.com/) \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u516c\u5f0f\u30b5\u30a4\u30c8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304b\u3089 Unix \u7528\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u305d\u308c\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\nyum install wget -y\nsudo -v && wget -nv -O- https://raw.githubusercontent.com/kovidgoyal/calibre/master/setup/linux-installer.py | sudo python -c \"import sys; main=lambda:sys.stderr.write('Download failed\\n'); exec(sys.stdin.read()); main()\"\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u8b66\u544a\u304c\uff12\u3064\u51fa\u307e\u3059\u3002\uff12\u3064\u3068\u3082 ImportError \u3067\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u3082\u306e libGL.so \u3068 QImage \u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\u8a66\u3057\u306b\u3053\u3053\u3067 `gitbook pdf` \u3092\u5b9f\u884c\u3059\u308b\u3068\u300c\u5171\u6709\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3051\u307e\u305b\u3093\u300d\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u3089\u306f `qt-creator` \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3067\u89e3\u6c7a\u3057\u307e\u3059\u3002\n\n```\nyum install qt-creator -y\n```\n\n\u518d\u5ea6 `gitbook pdf` \u3092\u5b9f\u884c\u3057\u3066\u554f\u984c\u304c\u51fa\u3066\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n## Hubot \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\n\n```\nnpm install hubot coffee-script generator-hubot yo -g\n```\n\nroot \u3067 Hubot \u306e\u4f5c\u6210\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001Hubot \u7528\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u306e\u30e6\u30fc\u30b6\u30fc\u306f gitbook \u306e\u5909\u63db\u3082\u517c\u306d\u3066\u3044\u308b\u306e\u3067 `gitbook` \u3068\u3057\u307e\u3057\u305f\u3002\n\n```\nuseradd gitbook\npasswd gitbook\n```\n\ngitbook \u30e6\u30fc\u30b6\u30fc\u306b\u5207\u308a\u66ff\u3048\u3066 hubot \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\nsu gitbook\ncd ~\nmkdir hubot\ncd hubot\nyo hubot\n```\n\nHubot \u4f5c\u6210\u306e\u624b\u7d9a\u304d\u304c\u59cb\u307e\u308a\u307e\u3059\u306e\u3067\u3001\u3059\u3079\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u4f5c\u6210\u3057\u305f\u3089\u3001\u307e\u305a\u4e0d\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n\n```\nrm scripts/example.coffee\n```\n\nhubot \u306e\u5b9f\u884c\u30b9\u30af\u30ea\u30d7\u30c8 `run_hubot.sh` \u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```\nexport PORT=5000\nbin/hubot\n```\n\n\u4f5c\u6210\u3057\u305f\u3089\u5b9f\u884c\u6a29\u9650\u3092\u4e0e\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\nchmod +x run_hubot.sh\n```\n\n\u6b21\u306b Hubot \u30b9\u30af\u30ea\u30d7\u30c8 `scripts/gitlab_gitbook.coffee` \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u5185\u5bb9\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n# http://<host>:5000/gitlab_hook/?output_pdf=<pdf_name>\n\nurl = require 'url'\nquerystring = require 'querystring'\n\nmodule.exports = (robot) ->\n\n  push_request = (output_pdf, hook) ->\n    git_group = hook.project.namespace\n    git_project = hook.project.name\n    git_url = hook.project.ssh_url\n    console.log(\"hubot: group=#{git_group} name=#{git_project} output=#{output_pdf}\")\n    @exec = require('child_process').exec\n    command = \"sh /home/gitbook/gitbook.sh #{git_url} #{git_project} #{output_pdf}\"\n    @exec command, (error, stdout, stderr) ->\n      robot.logger.error error if error?\n      robot.logger.info stdout if stdout?\n      robot.logger.info stderr if stderr?\n\n  robot.router.post '/gitlab_hook', (req, res) ->\n    hook = req.body\n    q = querystring.parse(url.parse(req.url).query)\n    kind = hook['object_kind'] || 'push'\n    switch kind\n      when 'push'\n        push_request q.output_pdf, hook\n    res.send 200\n```\n\n\u6b63\u5e38\u306b\u5b9f\u884c\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n./run_hubot.sh\n```\n\n\u6b21\u306b hubot \u304b\u3089 gitbook \u3092\u5b9f\u884c\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306f gitbook \u30e6\u30fc\u30b6\u306e\u30db\u30fc\u30e0\u30d5\u30a9\u30eb\u30c0\u306e\u30c8\u30c3\u30d7\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u30ed\u30b0\u304c\u6b32\u3057\u3044\u306e\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\uff12\u3064\u306b\u5206\u3051\u3066\u3001\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3080\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\uff08\u3053\u3053\u306f\u3082\u3063\u3068\u30b9\u30de\u30fc\u30c8\u306b\u3084\u308b\u65b9\u6cd5\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u3053\u306e\u3042\u305f\u308a\u306f\u521d\u5fc3\u8005\u30ec\u30d9\u30eb\u306a\u306e\u3067\u3054\u5bb9\u8d66\u3092\uff09\n\n```\nvi ~/gitbook.sh\n```\n\n```\n#!/bin/sh\nLOGFILE=/tmp/gitbook-script-log\ncd ~\n./gitbook-exec.sh $1 $2 $3 >>$LOGFILE\n```\n\n\u5b9f\u969b\u306b\u5b9f\u884c\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb `gitbook-exec.sh` \u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n#!/bin/sh\ncd ~\n\nif [ -e $2 ]; then\n\tcd $2\n\tgit pull $1\n\tcd ../\nelse\n\tgit clone $1\nfi\n\ngitbook install ./$2\ngitbook pdf ./$2 ./$2/$3.pdf\ngitbook build ./$2\n\ncp -rf ./$2/_book -T /var/www/html/$2\n```\n\n\u5fd8\u308c\u305a\u306b\u5b9f\u884c\u6a29\u9650\u3092\u4e0e\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\nchmod +x gitbook.sh\nchmod +x gitbook-exec.sh\n```\n\n### ssh\u30ad\u30fc \u306e\u767b\u9332\n\n\u3053\u306e gitbook \u30e6\u30fc\u30b6\u306f GitLab \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u306e\u3067\u3001ssh \u30ad\u30fc\u3092\u767b\u9332\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\nssh-keygen -t rsa\n```\n\n\u751f\u6210\u3057\u305f id_rsa.pub \u306e\u5185\u5bb9\u3092 GitLab \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3001Profile Settings \u306e SSH Keys \u306b\u767b\u9332\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u5b9f\u969b\u306b clone \u51fa\u6765\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nGitLab \u3067\u9069\u5f53\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f \u300croot\u300d \u30e6\u30fc\u30b6\u30fc\u3067 \u300cTest\u300d \u3068\u3044\u3046\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\nURL \u306f\u300cgit@192.168.56.101:root/Test.git\u300d\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\ngit clone git@192.168.56.101:root/Test.git\n\n> bash: git: \u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\n```\n\n\u304a\u3063\u3068\u3001git \u304c\u5165\u3063\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\nsudo yum install git -y\n```\n\n\u518d\u5ea6 clone \u3092\u8a66\u3057\u307e\u3059\u3002\n\n```\ngit clone git@192.168.56.101:root/Test.git\n\n> Cloning into 'Test'...\n> The authenticity of host '192.168.56.101 (192.168.56.101)' can't > be established.\n> ECDSA key fingerprint is c9:7d:09:34:cc:3a:74:fd:0d:d7:98:bf:31:62:21:2f.\n> Are you sure you want to continue connecting (yes/no)?\n```\n\n\u521d\u56de\u3060\u3068\u4e0a\u8a18\u306e\u3088\u3046\u306a\u78ba\u8a8d\u304c\u51fa\u307e\u3059\u304c\u3001\u305d\u306e\u307e\u307e yes \u3067\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\n\u300cTest\u300d\u30d5\u30a9\u30eb\u30c0\u306b\u79fb\u52d5\u3057\u3066\u3001`gitbook init` \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001gitbook \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u521d\u671f\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u751f\u6210\u3055\u308c\u305f `SUMMARY.md` \u3068 `README.md` \u3092\u30d7\u30c3\u30b7\u30e5\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u307e\u305a\u306f git \u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n\n```\ngit config --global user.name \"<username>\"\ngit config --global user.email \"hoge@example.com\"\n```\n\n\u4e0a\u8a18\u306e\u540d\u524d\u3068\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u9069\u5f53\u306a\u306e\u3067\u3001\u9069\u5207\u306a\u540d\u524d\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u30d7\u30c3\u30b7\u30e5\u3057\u307e\u3059\u3002\n\n```\ngit add README.md SUMMARY.md\ngit commit -m \"add README SUMMARY\"\ngit push -u origin master\n```\n\n\n## Apache \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\ngitbook \u3067\u4f5c\u6210\u3057\u305f\u96fb\u5b50\u6587\u66f8\u3092\u95b2\u89a7\u3059\u308b\u305f\u3081\u306b Web \u30b5\u30fc\u30d0\u30fc (apache) \u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\n```\nyum install httpd -y\n```\n\n\u30dd\u30fc\u30c8\u306f 8000 \u3092\u6307\u5b9a\u3057\u307e\u3059\u300280 \u306f GitLab(nginx) \u304c\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f 5000\u3000\u30dd\u30fc\u30c8\u306f hubot \u3067\u4f7f\u3044\u307e\u3059\u3002\n\ngitbook \u30e6\u30fc\u30b6\u3067\u4f5c\u6210\u3057\u305f\u6587\u66f8\u3092 `/var/www/html` \u30d5\u30a9\u30eb\u30c0\u5185\u306b\u30b3\u30d4\u30fc\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081 `var/www/html` \u306e\u6240\u6709\u8005\u3092 gitbook \u306b\u5909\u66f4\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\nchown gitbook:gitbook /var/www/html\n```\n\n\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u3089Web\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\nsystemctl start httpd\nsystemctl enable httpd\n```\n\n\u4f8b\u3048\u3070\u5148\u307b\u3069\u306e\u300cTest\u300d\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f `/var/www/html/Test` \u3068\u306a\u308a\u307e\u3059\u306e\u3067\u3001URL \u306f\u300c http://192.168.56.101:8000/Test/ \u300d\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001PDF \u6587\u66f8\u306f\u300c http://192.168.56.101:8000/Test/{output_pdf}.pdf \u300d\u3067\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n## GitLab \u3067 WebHook \u3092\u8a2d\u5b9a\n\n\u3053\u308c\u3067\u4e00\u901a\u308a\u306e\u81ea\u52d5\u751f\u6210\u74b0\u5883\u306f\u6574\u3044\u307e\u3057\u305f\u3002\nGitLab \u306e\u30c6\u30b9\u30c8\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3059\u3002\nGitLab \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u8a2d\u5b9a\u3067\u300cWebhooks\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\nWebhooks \u306e URL \u306b `http://192.168.56.101:5000/gitlab_hook/?output_pdf=Test` \u3068\u5165\u529b\u3057\u307e\u3059\u3002\nSecret Token \u306f\u7a7a\u3067\u3001Trigger \u306f `Push events` \u306b\u30c1\u30a7\u30c3\u30af\u3092\u3064\u3051\u307e\u3059\u3002\nSSL Verification \u306e\u300cEnable SSL verification\u300d\u306e\u30c1\u30a7\u30c3\u30af\u306f\u306f\u305a\u3057\u307e\u3059\u3002\n\u4ee5\u4e0a\u306e\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u3089\u300cAdd Webhook\u300d\u3067\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n\u4e0b\u306e\u65b9\u306b\u8ffd\u52a0\u3055\u308c\u305f Webhook \u304c\u3042\u308a\u307e\u3059\u3002\n\u81ea\u52d5\u751f\u6210\u304c\u52d5\u4f5c\u3059\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u3001CentOS\u5074\u3067\u306f gitbook \u30e6\u30fc\u30b6\u30fc\u306b\u3057\u3001clone \u3057\u305f Test \u30d5\u30a9\u30eb\u30c0\u3092\u524a\u9664\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u305d\u3057\u3066\u3001hubot \u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\n\n```\ncd ~\nrm -rf Test\ncd hubot\n./run_hubot.sh\n```\n\n\u6b21\u306b GitLab \u306e\u753b\u9762\u304b\u3089\u8ffd\u52a0\u3057\u305f Webhook \u306e\u53f3\u5074\u306b\u3042\u308b\u300cTest\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\nGitLab \u5074\u3067 `Hook executed successfully: HTTP 200` \u3068\u8868\u793a\u3055\u308c\u308c\u3070 GitLab \u304b\u3089\u306e\u30d5\u30c3\u30af\u306f\u4e0a\u624b\u304f\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002\n\nhubot \u5074\u3082\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3044\u306a\u3044\u304b `/tmp/gitbook-script-log` \u3092\u78ba\u8a8d\u3057\u307e\u3059\n\n\u554f\u984c\u306a\u3051\u308c\u3070\u30db\u30b9\u30c8PC\u304b\u3089\u30d6\u30e9\u30a6\u30b6\u3067\u898b\u3066\u307f\u307e\u3059\u3002\nURL \u306f `http://192.168.56.101:8000/Test/` \u3067\u3059\u3002\n\n\u3042\u308c\u3001\u63a5\u7d9a\u304c\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3055\u308c\u305f\u3068\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\nCentOS \u5074\u306e\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u3067 8000 \u756a\u3092\u958b\u3051\u307e\u3059\u3002\n\n```\nfirewall-cmd --add-port=8000/tcp --permanent\nfirewall-cmd --reload\n```\n\n\u753b\u9762\u306b\u300cIntroduction\u300d\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\u3002\nPDF \u3082\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\nURL \u306f `http://192.168.56.101:8000/Test/Test.pdf` \u3067\u3059.\n\n\u554f\u984c\u306a\u3051\u308c\u3070\u3053\u308c\u3067\u57fa\u672c\u7684\u306a\u6a5f\u80fd\u306f\u5b9f\u88c5\u3067\u304d\u307e\u3057\u305f\u3002\n\n## hubot \u306e\u6c38\u7d9a\u5316\n\n\u3053\u308c\u304b\u3089\u7d30\u304b\u3044\u8abf\u6574\u3092\u3057\u3066\u3044\u304d\u307e\u3059.\n\u307e\u305a\u3001hubot \u306e\u6c38\u7d9a\u5316\u3092\u884c\u3044\u307e\u3059\u3002\n\u305d\u308c\u306b\u306f `forever` \u3092\u4f7f\u3044\u307e\u3059\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\nnpm install forever -g\n```\n\n\u6b21\u306b `bin/hubot` \u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n```\n# exec node_modules/.bin/hubot --name \"hubot\" \"$@\"\nforever start -c coffee node_modules/.bin/hubot\n```\n\n\u8d77\u52d5\u65b9\u6cd5\u306f\u3053\u308c\u307e\u3067\u5909\u308f\u3089\u306a\u3044\u306e\u3067 `./run_hubot.sh` \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u52d5\u4f5c\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\u5834\u5408\u306f `forever list` \u3067\u3059\u3002\n\n## \u65e5\u672c\u8a9e\u306e\u5bfe\u5fdc\n\n\u3053\u3053\u307e\u3067\u306e\u8a2d\u5b9a\u3067\u65e5\u672c\u8a9e\u3092\u542b\u3081\u305f\u6587\u66f8\u3092\u5165\u308c\u308b\u3068 HTML \u306e\u65b9\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u304c\u3001 PDF \u3067\u306f\u65e5\u672c\u8a9e\u306e\u90e8\u5206\u304c\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002\n\n### HTML\n![2016-07-15-gitbook-automation-001.png](https://qiita-image-store.s3.amazonaws.com/0/133092/ec4b6de0-faa2-ab99-172f-65cfd1e60054.png)\n\n### PDF\n![2016-07-15-gitbook-automation-002.png](https://qiita-image-store.s3.amazonaws.com/0/133092/f635661a-c181-8ef2-592a-4052cec613b9.png)\n### \u30d5\u30a9\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u308c\u306f\u65e5\u672c\u8a9e\u306e\u30d5\u30a9\u30f3\u30c8\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\u3059\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\nyum groupinstall fonts -y\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3089\u518d\u5ea6\u3001\u751f\u6210\u3055\u305b\u3066\u307f\u307e\u3059\u3002\n\n![2016-07-15-gitbook-automation-003.png](https://qiita-image-store.s3.amazonaws.com/0/133092/06cf0be3-6d5a-f062-af12-7b7d57494de4.png)\n\n\u3069\u3046\u3084\u3089\u554f\u984c\u306a\u3055\u305d\u3046\u3067\u3059\u3002\n\n\u203b\u3053\u3053\u3067\u306f VL \u30b4\u30b7\u30c3\u30af\u306e\u30d5\u30a9\u30f3\u30c8\u3067\u751f\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u5225\u306e\u30d5\u30a9\u30f3\u30c8\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u79c1\u3082\u5225\u306e\u74b0\u5883\u3067\u8a66\u3057\u305f\u3068\u3053\u308d\u5225\u306e\u30d5\u30a9\u30f3\u30c8\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u3001\u898b\u305f\u76ee\u304c\u3042\u307e\u308a\u3088\u308d\u3057\u304f\u306a\u304b\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002\u305d\u306e\u5834\u5408\u306f\u30d5\u30a9\u30f3\u30c8\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n`book.json` \u30d5\u30a1\u30a4\u30eb\u3092 README.md \u3068\u540c\u3058\u30d5\u30a9\u30eb\u30c0\u306b\u4f5c\u6210\u3057\u3001\u5185\u5bb9\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```\n{\n\t\"pdf\":{\n\t\t\"fontFamily\":\"VL Gothic\"\n\t}\n}\n```\n\n\u3053\u308c\u3067 PDF \u306b\u4f7f\u308f\u308c\u308b\u30d5\u30a9\u30f3\u30c8\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n\n## \u6570\u5f0f\n\ngitbook \u306b\u306f\u6570\u5f0f\u3092\u57cb\u3081\u8fbc\u3080\u305f\u3081\u306b mathjax \u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\n\u4f7f\u7528\u3059\u308b\u306b\u306f `book.json` \u3092\u4f5c\u6210\u3057\u3001\u5185\u5bb9\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```\n{\n\t\"plugins\":[\"mathjax\"]\n}\n```\n\nPDF \u3067\u3082\u4f7f\u3046\u305f\u3081\u306b\u306f `svgexport` \u304c\u5fc5\u8981\u3067\u3059\u306e\u3067\u3001\u3053\u308c\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nsvgexport \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f `bzip2` \u3082\u5fc5\u8981\u306a\u306e\u3067\u5148\u306b\u3053\u3061\u3089\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\nyum install bzip2 -y\nnpm install svgexport -g\n```\n\n![2016-07-15-gitbook-automation-004.png](https://qiita-image-store.s3.amazonaws.com/0/133092/1504c367-1449-e46a-e81d-ec792d1e5a7a.png)\n\n\u6b63\u5e38\u306b\u751f\u6210\u3055\u308c\u307e\u3057\u305f\u3002\n\n## \u6700\u5f8c\u306b\n\nGit, GitHub, GitLab, GitBook \u306f\u6700\u8fd1\u89e6\u308a\u59cb\u3081\u305f\u3070\u304b\u308a\u3067\u3059\u304c\u8272\u3005\u51fa\u6765\u3066\u9762\u767d\u3044\u3067\u3059\u3002\u4eca\u56de\u306f GitHub Pages \u306e\u5f71\u97ff\u304c\u5927\u304d\u304f Git \u3067\u30d7\u30c3\u30b7\u30e5\u3059\u308b\u3068\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u51fa\u6765\u4e0a\u304c\u308b\u3068\u3044\u3046\u306e\u306f\u5927\u5909\u697d\u3067\u3059\u3057\u3001\u30d7\u30ed\u30b0\u30e9\u30de\u306b\u512a\u3057\u3044\u611f\u3058\u304c\u3057\u307e\u3059\u3002\u3068\u306f\u3044\u3063\u3066\u3082\u3001\u3053\u3053\u307e\u3067\u6765\u308b\u306e\u306b\u82e6\u52b4\u3057\u305f\u306e\u3067\u306a\u3093\u3068\u3082\u8a00\u3048\u307e\u305b\u3093\u304c\u3002\nGitbook \u306b\u306f\u307e\u3060\u8a2d\u5b9a\u3067\u304d\u308b\u3068\u3053\u308d\u3082\u3042\u308b\u3088\u3046\u3067\u3059\u3057\u3001\u30b9\u30bf\u30a4\u30eb\u306b\u306f\u3053\u3060\u308f\u308b\u65b9\u306a\u306e\u3067\u3001\u3082\u3046\u5c11\u3057\u624b\u3092\u4ed8\u3051\u52a0\u3048\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u306d\u3002PDF \u306f\u3082\u3063\u3068\u4f53\u88c1\u3092\u6574\u3048\u3066\u793e\u5916\u306b\u3082\u51fa\u305b\u308b\u3050\u3089\u3044\u306e\u5b8c\u6210\u5ea6\u3092\u76ee\u6307\u3057\u305f\u3044\u3067\u3059\u3002HTML \u306e\u65b9\u306f css \u3044\u3058\u308a\u305f\u3044\u3067\u3059\u306d\u3002\n\u4eca\u56de\u306e\u5185\u5bb9\u306b\u3064\u3044\u3066\u306f\u6240\u3005\u30c4\u30c3\u30b3\u30df\u305f\u3044\u3068\u3053\u308d\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u53c2\u8003\u306b\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n", "tags": ["centos7", "gitbook", "GitLab", "Hubot"]}