{"context": "\n\n\u30c7\u30fc\u30bf\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u3044\u3002\n\u6614\u306fcurl\u3067\u3084\u3063\u305f\u8a18\u61b6\u304c\u3042\u308b\u304c\u3001\u4eca\u306f\u30a4\u30f3\u30dd\u30fc\u30c8\u30c4\u30fc\u30eb\u304c\u3057\u3063\u304b\u308a\u4f5c\u3089\u308c\u3066\u3044\u308b\u3089\u3057\u3044\u3002\nhttps://cwiki.apache.org/confluence/display/solr/Post+Tool#PostTool-Windows\n\n\u30b3\u30a2\u306e\u4f5c\u6210\nsolr6.0.1\u30d5\u30a9\u30eb\u30c0\u5185\u3067\nbin/solr create -c core1\n\n\u3092\u5b9f\u884c\u3059\u308b\uff0e\n\n\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u30c7\u30fc\u30bf\u306b\u3064\u3044\u3066\njson\u3067\u8a18\u8ff0\u3055\u308c\u305f\u3082\u306e\u3067\u3001\u4e00\u90e8\u306b\u65e5\u672c\u8a9e\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u542b\u3080\u3002\uff08\u554f\u984c\u767a\u751f\u30d5\u30e9\u30b0\uff09\n\n\u30a4\u30f3\u30dd\u30fc\u30c8\nsample.json\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u306b\u306f\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\u306a\u304a\u3001\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u89e3\u51cd\u3057\u3066\u3067\u304d\u308bsolr-6.0.1\u5185\u3067\u3042\u308b\u3002\nbin/post -c \u30b3\u30a2\u540d aaa.json\n\n\n\u554f\u984c\u767a\u751f\nSimplePostTool: WARNING: Solr returned an error #400 (Bad Request) for url: http://localhost:8983/solr/***\nSimplePostTool: WARNING: \nResponse: {\"responseHeader\":{\"status\":400,\"QTime\":252},\"error\":{\"metadata\":\n[\"error-class\",\"org.apache.solr.common.SolrException\",\n\"root-error-class\",\n\"org.apache.lucene.util.BytesRefHash$MaxBytesLengthExceededException\"],\n\"msg\":\"Exception writing document id *** to the index; possible analysis error: Document contains at least one immense term in field=\\\"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\" (whose UTF8 encoding is longer than the max length 32766), all of which were skipped.  Please correct the analyzer to not produce such terms.  The prefix of the first immense term is: '[-26, -106, -67, -26, -108, -65, -26, -106, -71, -23, -121, -99, -29, -126, -110, -25, -108, -77, -29, -127, -105, -28, -72, -118, -29, -127, -110, -29, -126, -117]...', original message: bytes can be at most 32766 in length; got 41474. Perhaps the document has an indexed string field (solr.StrField) which is too large\",\"code\":400}}\n\u30fb\u30fb\u30fb\n\n\u8003\u3048\u305f\u3053\u3068\uff1a\n\u30fb\u767b\u9332\u3057\u305f\u3044\u30c7\u30fc\u30bf\u306b\u69cb\u9020\u306a\u3069\u306e\u30df\u30b9\u304c\u3042\u308b\uff1f\n\u30fbsolr\u5074\u3067\u65e5\u672c\u8a9e\u5bfe\u5fdc\u3067\u304d\u3066\u3044\u306a\u3044\u3002\n\u524d\u8005\u306fpython\u306ejson\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u51fa\u529b\u3057\u305f\u305f\u3081\u7121\u3044\u3060\u308d\u3046\u3001\u3068\u8003\u3048\u3001\u5f8c\u8005\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3002\n\nschema\u3092\u66f4\u65b0\u3059\u308b\u3002\n\u3000\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306a\u3093\u3060\u304b\u3089\u5f53\u7136\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u3068\u304b\u6c7a\u3081\u306a\u3044\u3068\u3044\u3051\u306a\u3044\uff08schema\u306e\u8a2d\u5b9a\uff09\u306e\u3060\u304c\u3001\u4eca\u56de\u306fsolr\u5074\u306b\u4f55\u3082\u8a2d\u5b9a\u305b\u305a\u306b\u884c\u3063\u305f\u3002\n\u3000\u6614\u306fschema\u5909\u66f4\u2192\u30a4\u30f3\u30dd\u30fc\u30c8\u3068\u3044\u3046\u6d41\u308c\u3060\u3063\u305f\u6c17\u304c\u3059\u308b\u304c\u3001\u30a4\u30f3\u30dd\u30fc\u30c8\u30c4\u30fc\u30eb\u306e\u89e3\u8aac\u306b\u305d\u3046\u8a00\u3063\u305f\u8aac\u660e\u306f\u4e00\u5207\u306a\u304b\u3063\u305f\u3002\u3064\u307e\u308a\u3001\u52dd\u624b\u306bschema\u3092\u4f5c\u3063\u3066\u304f\u308c\u308b\u3089\u3057\u3044\u3002\n\u3000\u305d\u306eschema\u306fserver/solr/\u30b3\u30a2\u540d/conf/managed-schema\n\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u3002\n\u3000\u4e2d\u3092\u898b\u308b\u3068\u767b\u9332\u3057\u305f\u30c7\u30fc\u30bf\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u767a\u898b\u3057\u305f\u3002\n<field name=\"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\" type=\"strings\"/>\n\n\u3053\u308c\u3092\u65e5\u672c\u8a9e\u30c6\u30ad\u30b9\u30c8\u7528\u306etype\u306b\u5909\u66f4\u3059\u308b\u3002\n<field name=\"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\" type=\"text_ja\"/>\n\n\u305d\u306e\u5f8c\u3001solr\u3092stop\u30fbstart\u3055\u305b\u3001\u3082\u3046\u4e00\u5ea6bin/post\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3081\u3067\u305f\u304f\u767b\u9332\u3067\u304d\u305f\u3002\n\u6b21\u306f\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u30c7\u30fc\u30bf\u3092\u691c\u7d22\u3057\u3066\u3044\u308d\u3044\u308d\u691c\u8a3c\u3057\u305f\u3044\u3002\n#\u30c7\u30fc\u30bf\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u3044\u3002\n\u6614\u306fcurl\u3067\u3084\u3063\u305f\u8a18\u61b6\u304c\u3042\u308b\u304c\u3001\u4eca\u306f\u30a4\u30f3\u30dd\u30fc\u30c8\u30c4\u30fc\u30eb\u304c\u3057\u3063\u304b\u308a\u4f5c\u3089\u308c\u3066\u3044\u308b\u3089\u3057\u3044\u3002\nhttps://cwiki.apache.org/confluence/display/solr/Post+Tool#PostTool-Windows\n\n#\u30b3\u30a2\u306e\u4f5c\u6210\n\nsolr6.0.1\u30d5\u30a9\u30eb\u30c0\u5185\u3067\n\n```\nbin/solr create -c core1\n```\n\n\u3092\u5b9f\u884c\u3059\u308b\uff0e\n\n#\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u30c7\u30fc\u30bf\u306b\u3064\u3044\u3066\njson\u3067\u8a18\u8ff0\u3055\u308c\u305f\u3082\u306e\u3067\u3001\u4e00\u90e8\u306b\u65e5\u672c\u8a9e\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u542b\u3080\u3002\uff08\u554f\u984c\u767a\u751f\u30d5\u30e9\u30b0\uff09\n\n#\u30a4\u30f3\u30dd\u30fc\u30c8\nsample.json\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u306b\u306f\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\u306a\u304a\u3001\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u89e3\u51cd\u3057\u3066\u3067\u304d\u308bsolr-6.0.1\u5185\u3067\u3042\u308b\u3002\n\n```\nbin/post -c \u30b3\u30a2\u540d aaa.json\n```\n\n#\u554f\u984c\u767a\u751f\n```\nSimplePostTool: WARNING: Solr returned an error #400 (Bad Request) for url: http://localhost:8983/solr/***\nSimplePostTool: WARNING: \nResponse: {\"responseHeader\":{\"status\":400,\"QTime\":252},\"error\":{\"metadata\":\n[\"error-class\",\"org.apache.solr.common.SolrException\",\n\"root-error-class\",\n\"org.apache.lucene.util.BytesRefHash$MaxBytesLengthExceededException\"],\n\"msg\":\"Exception writing document id *** to the index; possible analysis error: Document contains at least one immense term in field=\\\"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\" (whose UTF8 encoding is longer than the max length 32766), all of which were skipped.  Please correct the analyzer to not produce such terms.  The prefix of the first immense term is: '[-26, -106, -67, -26, -108, -65, -26, -106, -71, -23, -121, -99, -29, -126, -110, -25, -108, -77, -29, -127, -105, -28, -72, -118, -29, -127, -110, -29, -126, -117]...', original message: bytes can be at most 32766 in length; got 41474. Perhaps the document has an indexed string field (solr.StrField) which is too large\",\"code\":400}}\n\u30fb\u30fb\u30fb\n```\n\n\u8003\u3048\u305f\u3053\u3068\uff1a\n\u30fb\u767b\u9332\u3057\u305f\u3044\u30c7\u30fc\u30bf\u306b\u69cb\u9020\u306a\u3069\u306e\u30df\u30b9\u304c\u3042\u308b\uff1f\n\u30fbsolr\u5074\u3067\u65e5\u672c\u8a9e\u5bfe\u5fdc\u3067\u304d\u3066\u3044\u306a\u3044\u3002\n\u524d\u8005\u306fpython\u306ejson\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u51fa\u529b\u3057\u305f\u305f\u3081\u7121\u3044\u3060\u308d\u3046\u3001\u3068\u8003\u3048\u3001\u5f8c\u8005\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3002\n\n#schema\u3092\u66f4\u65b0\u3059\u308b\u3002\n\u3000\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306a\u3093\u3060\u304b\u3089\u5f53\u7136\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u3068\u304b\u6c7a\u3081\u306a\u3044\u3068\u3044\u3051\u306a\u3044\uff08schema\u306e\u8a2d\u5b9a\uff09\u306e\u3060\u304c\u3001\u4eca\u56de\u306fsolr\u5074\u306b\u4f55\u3082\u8a2d\u5b9a\u305b\u305a\u306b\u884c\u3063\u305f\u3002\n\n\u3000\u6614\u306fschema\u5909\u66f4\u2192\u30a4\u30f3\u30dd\u30fc\u30c8\u3068\u3044\u3046\u6d41\u308c\u3060\u3063\u305f\u6c17\u304c\u3059\u308b\u304c\u3001\u30a4\u30f3\u30dd\u30fc\u30c8\u30c4\u30fc\u30eb\u306e\u89e3\u8aac\u306b\u305d\u3046\u8a00\u3063\u305f\u8aac\u660e\u306f\u4e00\u5207\u306a\u304b\u3063\u305f\u3002\u3064\u307e\u308a\u3001\u52dd\u624b\u306bschema\u3092\u4f5c\u3063\u3066\u304f\u308c\u308b\u3089\u3057\u3044\u3002\n\n\u3000\u305d\u306eschema\u306fserver/solr/\u30b3\u30a2\u540d/conf/managed-schema\n\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u3002\n\u3000\u4e2d\u3092\u898b\u308b\u3068\u767b\u9332\u3057\u305f\u30c7\u30fc\u30bf\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u767a\u898b\u3057\u305f\u3002\n\n```\n<field name=\"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\" type=\"strings\"/>\n```\n\n \u3053\u308c\u3092\u65e5\u672c\u8a9e\u30c6\u30ad\u30b9\u30c8\u7528\u306etype\u306b\u5909\u66f4\u3059\u308b\u3002\n\n```\n<field name=\"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\" type=\"text_ja\"/>\n```\n\n\u305d\u306e\u5f8c\u3001solr\u3092stop\u30fbstart\u3055\u305b\u3001\u3082\u3046\u4e00\u5ea6bin/post\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3081\u3067\u305f\u304f\u767b\u9332\u3067\u304d\u305f\u3002\n\n\u6b21\u306f\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u30c7\u30fc\u30bf\u3092\u691c\u7d22\u3057\u3066\u3044\u308d\u3044\u308d\u691c\u8a3c\u3057\u305f\u3044\u3002\n", "tags": ["solr"]}