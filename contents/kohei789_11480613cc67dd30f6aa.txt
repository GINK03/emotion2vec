{"tags": ["Gruntfile", "Compass", "js"], "context": " More than 1 year has passed since last update.compass\u3067sass\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u30fb\u30b9\u30d7\u30e9\u30a4\u30c8\u753b\u50cf\u751f\u6210\u306e\u7d9a\u304d\u3067\u3059\u3002\n\n\u76ee\u6b21\n\nGrunt+Compass\u3067\u30d5\u30ed\u30f3\u30c8\u74b0\u5883\u69cb\u7bc9\u3010\u5c0e\u5165\u7de8\u3011\ncompass\u3067sass\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u30fb\u30b9\u30d7\u30e9\u30a4\u30c8\u753b\u50cf\u751f\u6210\n\nGruntfile.js\u4f5c\u6210 \n\n\n\u74b0\u5883\u69cb\u7bc9\n\u524d\u8ff0\u306e1\u3092\u5b9f\u884c\u6642\u70b9\u3067grunt\u30b3\u30de\u30f3\u30c9\u3001package.json\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3002\n\u30fbgrunt\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nnpm install -g grunt-cli\n\u30fbpackage.json\u751f\u6210\u3002\u9078\u629e\u306f\u5168\u3066\u30a8\u30f3\u30bf\u30fc\u3067\u5927\u4e08\u592b\u3067\u3059\u3002\nnpm init\n\u30fb\u30b0\u30e9\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30eb\u30fc\u30c8\u4e0a\u3067\u4e0b\u8a18\u3092\u5b9f\u884c\nnpm install grunt --save-dev\n\u30fb\u4f7f\u7528\u3059\u308bnode-module\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nGruntfile\u3067\u4f7f\u7528\u3059\u308bnode-module\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0a\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4e0b\u8a18module\u3092\u4f7f\u7528\u3057\u3066concat,uglify\u7b49\u3092\u884c\u3046\u3002\n\u524d\u56de\u8a18\u8f09\u3057\u305fcompass\u3082\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u7ba1\u7406\u3059\u308b\u3002\n\nnpm install grunt-contrib-jshint grunt-contrib-sass grunt-contrib-uglify grunt-contrib-watch grunt-contrib-concat grunt-contrib-cssmin grunt-contrib-compass grunt-contrib-handlebars --save-dev\n\n\nGruntfile\u4f5c\u6210\n\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0a\u3067Gruntfile.js\u3092\u4f5c\u6210\nvim Gruntfile.js\n\n\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8a2d\u5b9a\n\u4e0b\u8a18\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8a2d\u5b9a\u4f8b\nGruntfile.js\u306einigConfig\u5185\u3067\u8a2d\u5b9a\n\u5fc5\u8981\u306b\u5fdc\u3058\u3066concat(\u7d50\u5408), uglify(js\u306e\u5727\u7e2e),copy,rename,clean\u306a\u3069\u3092\u8a2d\u5b9a\u8ffd\u52a0\u3059\u308b\u3002\n\nGruntfile.js\nmodule.exports = function(grunt){\n  grunt.initConfig({\n    root_dir: './src/main/webapp',\n    pkg:grunt.file.readJSON(\"package.json\"),\n\n    compass: {\n      dev: {\n        options : {\n          config : 'config.rb',\n          environment : 'development',\n        }\n      },\n      prod: {\n        options : {\n          config : 'config.rb',\n          environment : 'production'\n        }\n      }\n    },\n\u3000  cssmin:{//\u30df\u30cb\u30d5\u30a1\u30a4\n      minify:{\n        src:[\n             '<%= root_dir %>/css/component/*.css',\n             '<%= root_dir %>/css/utility/*.css',\n             '<%= root_dir %>/css/project/*.css'\n             ],\n        dest: '<%= root_dir %>/css/all.min.css'     \n      }\n    },\n    //\u7701\u7565 concat(\u7d50\u5408), uglify(js\u306e\u5727\u7e2e)\u3082\u540c\u69d8\u306b\u4f5c\u6210\u3059\u308b\n\n  });\n}\n\n\n\nwatch\u30bf\u30b9\u30af\u8ffd\u52a0\nwatch\u30bf\u30b9\u30af\u3068\u306f\n\u4e0a\u8a18\u3067\u8a2d\u5b9a\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u52d5\u304d\u3092\u5236\u5fa1\u3059\u308b\u3002\n\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u7b49\u3067\u30d5\u30a1\u30a4\u30eb\u5909\u66f4\u6642(\u4fdd\u5b58\u6642)\u306b\u81ea\u52d5\u3067\u8a2d\u5b9a\u3057\u305f\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u3002\nGruntfile.js\u306einigConfig\u5185\u3067\u8a2d\u5b9a\n\u968e\u5c64\u306f\u4ed6\u306ecssmin\u7b49\u3068\u540c\u69d8\n\nGruntfile.js\nmodule.exports = function(grunt){\n  grunt.initConfig({\n\n    //*************compass,cssmin\u7b49\u30e2\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u7565************\n\n    watch:{\n      js: {\n        files: [\n                '<%= root_dir %>/js/**/*.js',\n                '<%= root_dir %>/js/**/*.setting'\n                ],\n        tasks: ['concat', 'uglify'] // \u5b9f\u884c\u3055\u305b\u308b\u30bf\u30b9\u30af\n      },\n      scss:{\n        files: [\n                '<%= root_dir %>/scss/**/*.scss',\n                ],\n        tasks: [\n                'compass:dev'\n                ]\n      },\n      css : {\n        files: [\n                '<%= root_dir %>/css/**/*.css'\n                ],\n        tasks: [\n                'cssmin'\n                ] // \u5b9f\u884c\u3055\u305b\u308b\u30bf\u30b9\u30af\n      }\n    }\n  });\n\n}\n\n\n\n\u30bf\u30b9\u30af\u8a2d\u5b9a\n\u5404\u74b0\u5883(local,dev,\u672c\u756a\u7b49)\u3067\u5b9f\u884c\u3057\u305f\u3044\u30bf\u30b9\u30af\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n\u4e0b\u8a18\u306fdev\u3067\u306fconcat,uglify\u306a\u3069\u306f\u884c\u308f\u305adev\u3067\u306e\u307f\u5b9f\u884c\u3057\u3066\u3044\u308b\u3002\njenkins\u7b49\u30c7\u30d7\u30ed\u30a4\u6642\u306b\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\nGruntfile.js\u306einigConfig\u5916\u3067\u8a2d\u5b9a\n\nGruntfile.js\nmodule.exports = function(grunt){\n  grunt.initConfig({\n\n   //cssmin,watch\u7b49\u30e2\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u7565\n\n  });\n\n  grunt.registerTask('dev_watch', ['compass:dev', 'watch']);\n\n  grunt.registerTask('prd', ['compass:prd', 'concat', 'cssmin', 'uglify']);\n}\n\n\n[compass\u3067sass\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u30fb\u30b9\u30d7\u30e9\u30a4\u30c8\u753b\u50cf\u751f\u6210](http://qiita.com/kohei789/items/f76b9c57072a060cbfdb)\u306e\u7d9a\u304d\u3067\u3059\u3002\n\n# \u76ee\u6b21\n1. [Grunt+Compass\u3067\u30d5\u30ed\u30f3\u30c8\u74b0\u5883\u69cb\u7bc9\u3010\u5c0e\u5165\u7de8\u3011](http://qiita.com/kohei789/items/4d9d4e94e174b60fe0d4)\n2. [compass\u3067sass\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u30fb\u30b9\u30d7\u30e9\u30a4\u30c8\u753b\u50cf\u751f\u6210](http://qiita.com/kohei789/items/f76b9c57072a060cbfdb)\n3. [Gruntfile.js\u4f5c\u6210](http://qiita.com/kohei789/items/11480613cc67dd30f6aa) \n\n## \u74b0\u5883\u69cb\u7bc9\n\n\u524d\u8ff0\u306e1\u3092\u5b9f\u884c\u6642\u70b9\u3067grunt\u30b3\u30de\u30f3\u30c9\u3001package.json\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3002\n\n\u30fb**grunt\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb**\n``npm install -g grunt-cli``\n\u30fb**package.json\u751f\u6210\u3002\u9078\u629e\u306f\u5168\u3066\u30a8\u30f3\u30bf\u30fc\u3067\u5927\u4e08\u592b\u3067\u3059\u3002**\n``npm init``\n\u30fb**\u30b0\u30e9\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30eb\u30fc\u30c8\u4e0a\u3067\u4e0b\u8a18\u3092\u5b9f\u884c**\n``npm install grunt --save-dev``\n\n\u30fb**\u4f7f\u7528\u3059\u308bnode-module\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb**\n\nGruntfile\u3067\u4f7f\u7528\u3059\u308bnode-module\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0a\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4e0b\u8a18module\u3092\u4f7f\u7528\u3057\u3066concat,uglify\u7b49\u3092\u884c\u3046\u3002\n\u524d\u56de\u8a18\u8f09\u3057\u305fcompass\u3082\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u7ba1\u7406\u3059\u308b\u3002\n```\nnpm install grunt-contrib-jshint grunt-contrib-sass grunt-contrib-uglify grunt-contrib-watch grunt-contrib-concat grunt-contrib-cssmin grunt-contrib-compass grunt-contrib-handlebars --save-dev\n```\n# Gruntfile\u4f5c\u6210\n\n\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0a\u3067Gruntfile.js\u3092\u4f5c\u6210\n`vim Gruntfile.js`\n\n### \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8a2d\u5b9a\n\u4e0b\u8a18\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8a2d\u5b9a\u4f8b\nGruntfile.js\u306einigConfig\u5185\u3067\u8a2d\u5b9a\n\u5fc5\u8981\u306b\u5fdc\u3058\u3066concat(\u7d50\u5408), uglify(js\u306e\u5727\u7e2e),copy,rename,clean\u306a\u3069\u3092\u8a2d\u5b9a\u8ffd\u52a0\u3059\u308b\u3002\n\n```lang:Gruntfile.js\nmodule.exports = function(grunt){\n  grunt.initConfig({\n    root_dir: './src/main/webapp',\n    pkg:grunt.file.readJSON(\"package.json\"),\n    \n    compass: {\n      dev: {\n        options : {\n          config : 'config.rb',\n          environment : 'development',\n        }\n      },\n      prod: {\n        options : {\n          config : 'config.rb',\n          environment : 'production'\n        }\n      }\n    },\n\u3000  cssmin:{//\u30df\u30cb\u30d5\u30a1\u30a4\n      minify:{\n        src:[\n             '<%= root_dir %>/css/component/*.css',\n             '<%= root_dir %>/css/utility/*.css',\n             '<%= root_dir %>/css/project/*.css'\n             ],\n        dest: '<%= root_dir %>/css/all.min.css'     \n      }\n    },\n    //\u7701\u7565 concat(\u7d50\u5408), uglify(js\u306e\u5727\u7e2e)\u3082\u540c\u69d8\u306b\u4f5c\u6210\u3059\u308b\n    \n  });\n}\n```\n\n### watch\u30bf\u30b9\u30af\u8ffd\u52a0\n\n**watch\u30bf\u30b9\u30af\u3068\u306f**\n\u4e0a\u8a18\u3067\u8a2d\u5b9a\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u52d5\u304d\u3092\u5236\u5fa1\u3059\u308b\u3002\n\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u7b49\u3067\u30d5\u30a1\u30a4\u30eb\u5909\u66f4\u6642(\u4fdd\u5b58\u6642)\u306b\u81ea\u52d5\u3067\u8a2d\u5b9a\u3057\u305f\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u3002\nGruntfile.js\u306einigConfig\u5185\u3067\u8a2d\u5b9a\n\u968e\u5c64\u306f\u4ed6\u306ecssmin\u7b49\u3068\u540c\u69d8\n\n```Gruntfile.js\nmodule.exports = function(grunt){\n  grunt.initConfig({\n   \n    //*************compass,cssmin\u7b49\u30e2\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u7565************\n\n    watch:{\n      js: {\n        files: [\n                '<%= root_dir %>/js/**/*.js',\n                '<%= root_dir %>/js/**/*.setting'\n                ],\n        tasks: ['concat', 'uglify'] // \u5b9f\u884c\u3055\u305b\u308b\u30bf\u30b9\u30af\n      },\n      scss:{\n        files: [\n                '<%= root_dir %>/scss/**/*.scss',\n                ],\n        tasks: [\n                'compass:dev'\n                ]\n      },\n      css : {\n        files: [\n                '<%= root_dir %>/css/**/*.css'\n                ],\n        tasks: [\n                'cssmin'\n                ] // \u5b9f\u884c\u3055\u305b\u308b\u30bf\u30b9\u30af\n      }\n    }\n  });\n\n}\n```\n\n## \u30bf\u30b9\u30af\u8a2d\u5b9a\n\n\u5404\u74b0\u5883(local,dev,\u672c\u756a\u7b49)\u3067\u5b9f\u884c\u3057\u305f\u3044\u30bf\u30b9\u30af\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n\u4e0b\u8a18\u306fdev\u3067\u306fconcat,uglify\u306a\u3069\u306f\u884c\u308f\u305adev\u3067\u306e\u307f\u5b9f\u884c\u3057\u3066\u3044\u308b\u3002\n\njenkins\u7b49\u30c7\u30d7\u30ed\u30a4\u6642\u306b\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\nGruntfile.js\u306einigConfig\u5916\u3067\u8a2d\u5b9a\n\n```Gruntfile.js\nmodule.exports = function(grunt){\n  grunt.initConfig({\n\n   //cssmin,watch\u7b49\u30e2\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u7565\n\n  });\n\n  grunt.registerTask('dev_watch', ['compass:dev', 'watch']);\n  \n  grunt.registerTask('prd', ['compass:prd', 'concat', 'cssmin', 'uglify']);\n}\n```\n"}