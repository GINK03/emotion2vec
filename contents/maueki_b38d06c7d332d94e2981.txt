{"tags": ["GCC", "Linux"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\u53c2\u8003\nhttp://wiki.osdev.org/GCC_Cross-Compiler\nhttp://memo.saitodev.com/home/arm/arm_gcc_newlib/\n$HOME/opt/cross\u4ee5\u4e0b\u306bnewlib\u3092\u4f7f\u3063\u305fi386-elf\u7528\u306e\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30eb\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u3002\n\n\u74b0\u5883\u5909\u6570\u7528\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\u74b0\u5883\u5909\u6570\u7528\u30d5\u30a1\u30a4\u30ebcross_env(\u540d\u524d\u306f\u4f55\u3067\u3082\u826f\u3044)\u3092\u4f5c\u6210\u3057\u3066\u8aad\u307f\u8fbc\u3093\u3067\u304a\u304f\u3002\n$ cat cross_env\nexport PREFIX=\"$HOME/opt/cross\"\nexport TARGET=i386-elf\nexport PATH=\"$PREFIX/bin:$PATH\"\n\n$ source cross_env\n\n\nBinutils\n$ cd $HOME/opt/cross/src\n$ wget http://ftp.gnu.org/gnu/binutils/binutils-2.24.tar.bz2\n$ tar xf binutils-2.24.tar.bz2\n$ mkdir build-binutils\n$ cd build-binutils\n$ ../binutils-2.24/configure --target=$TARGET --prefix=\"$PREFIX\" --disable-nls --disable-werror\n$ make\n$ make install\n\n\nGCC\n\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# Ubuntu\u306e\u5834\u5408\n$ sudo aptitude install libmpc-dev libmpfr-dev libgmp-dev\n\n$ cd $HOME/opt/cross/src\n$ wget http://ftp.gnu.org/gnu/gcc/gcc-4.9.1/gcc-4.9.1.tar.bz2\n$ tar xf gcc-4.9.1.tar.bz2\n$ mkdir build-gcc\n$ cd build-gcc\n$ ../gcc-4.9.1/configure --target=$TARGET --prefix=\"$PREFIX\" --disable-nls --enable-languages=c,c++ --without-headers\n$ make all-gcc\n$ make install-gcc\n\n\nnewlib\n$ sudo aptitude install newlib\n$ cd $HOME/opt/cross/src\n$ cp /usr/src/newlib/newlib-2.1.0.tar.xz ./\n$ tar xf newlib-2.1.0.tar.xz\n$ mkdir build-newlib\n$ cd build-newlib\n$ ../newlib-2.1.0/configure --prefix=\"$PREFIX\" --target=$TARGET\n$ make\n$ make install\n\n\nGCC(2\u56de\u76ee)\n$ cd $HOME/opt/cross/src\n$ mkdir build-gcc-with-newlib\n$ cd build-gcc-with-newlib\n$ ../gcc-4.9.1/configure --target=$TARGET --prefix=\"$PREFIX\" --disable-nls --enable-languages=c,c++ --with-newlib --enable-interwork --enable-multilib --disable-shared --disable-thread\n$ make\n$ make install\n\n\n\u53c2\u8003\nhttp://wiki.osdev.org/GCC_Cross-Compiler\nhttp://memo.saitodev.com/home/arm/arm_gcc_newlib/\n\n`$HOME/opt/cross`\u4ee5\u4e0b\u306bnewlib\u3092\u4f7f\u3063\u305fi386-elf\u7528\u306e\u30af\u30ed\u30b9\u30b3\u30f3\u30d1\u30a4\u30eb\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u3002\n\n# \u74b0\u5883\u5909\u6570\u7528\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n\u74b0\u5883\u5909\u6570\u7528\u30d5\u30a1\u30a4\u30eb`cross_env`(\u540d\u524d\u306f\u4f55\u3067\u3082\u826f\u3044)\u3092\u4f5c\u6210\u3057\u3066\u8aad\u307f\u8fbc\u3093\u3067\u304a\u304f\u3002\n\n```bash\n$ cat cross_env\nexport PREFIX=\"$HOME/opt/cross\"\nexport TARGET=i386-elf\nexport PATH=\"$PREFIX/bin:$PATH\"\n\n$ source cross_env\n```\n\n# Binutils\n\n```bash\n$ cd $HOME/opt/cross/src\n$ wget http://ftp.gnu.org/gnu/binutils/binutils-2.24.tar.bz2\n$ tar xf binutils-2.24.tar.bz2\n$ mkdir build-binutils\n$ cd build-binutils\n$ ../binutils-2.24/configure --target=$TARGET --prefix=\"$PREFIX\" --disable-nls --disable-werror\n$ make\n$ make install\n```\n\n# GCC\n\n\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n# Ubuntu\u306e\u5834\u5408\n$ sudo aptitude install libmpc-dev libmpfr-dev libgmp-dev\n```\n\n```bash\n$ cd $HOME/opt/cross/src\n$ wget http://ftp.gnu.org/gnu/gcc/gcc-4.9.1/gcc-4.9.1.tar.bz2\n$ tar xf gcc-4.9.1.tar.bz2\n$ mkdir build-gcc\n$ cd build-gcc\n$ ../gcc-4.9.1/configure --target=$TARGET --prefix=\"$PREFIX\" --disable-nls --enable-languages=c,c++ --without-headers\n$ make all-gcc\n$ make install-gcc\n```\n\n# newlib\n\n```bash\n$ sudo aptitude install newlib\n$ cd $HOME/opt/cross/src\n$ cp /usr/src/newlib/newlib-2.1.0.tar.xz ./\n$ tar xf newlib-2.1.0.tar.xz\n$ mkdir build-newlib\n$ cd build-newlib\n$ ../newlib-2.1.0/configure --prefix=\"$PREFIX\" --target=$TARGET\n$ make\n$ make install\n```\n\n# GCC(2\u56de\u76ee)\n\n```bash\n$ cd $HOME/opt/cross/src\n$ mkdir build-gcc-with-newlib\n$ cd build-gcc-with-newlib\n$ ../gcc-4.9.1/configure --target=$TARGET --prefix=\"$PREFIX\" --disable-nls --enable-languages=c,c++ --with-newlib --enable-interwork --enable-multilib --disable-shared --disable-thread\n$ make\n$ make install\n```\n"}