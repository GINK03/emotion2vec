{"context": "\u3053\u308c\u3067\u30ef\u30a4\u3082\u30d7\u30ec\u30df\u30a2\u30e0\u3084\uff01\u5f61(\uff9f)(\uff9f)\nALTER SESSION SET NLS_DATE_FORMAT = 'YYYY/MM/DD';\n SELECT TRUNC(NEXT_DAY(SYSDATE+LEVEL, 'friday'), 'MM')      AS TUKI\n      , MAX(TRUNC(NEXT_DAY(SYSDATE+LEVEL, 'friday'), 'DD')) AS PREMIUM\n   FROM DUAL\nCONNECT BY LEVEL <= 1000\n  GROUP BY TRUNC(NEXT_DAY(SYSDATE+LEVEL, 'friday'), 'MM')\n  ORDER BY TUKI;\n\nTUKI       PREMIUM\n---------- ----------\n2017/03/01 2017/03/31\n2017/04/01 2017/04/28\n2017/05/01 2017/05/26\n2017/06/01 2017/06/30\n2017/07/01 2017/07/28\n2017/08/01 2017/08/25\n2017/09/01 2017/09/29\n2017/10/01 2017/10/27\n2017/11/01 2017/11/24\n2017/12/01 2017/12/29\n2018/01/01 2018/01/26\n\nTUKI       PREMIUM\n---------- ----------\n2018/02/01 2018/02/23\n2018/03/01 2018/03/30\n2018/04/01 2018/04/27\n2018/05/01 2018/05/25\n2018/06/01 2018/06/29\n2018/07/01 2018/07/27\n2018/08/01 2018/08/31\n2018/09/01 2018/09/28\n2018/10/01 2018/10/26\n2018/11/01 2018/11/30\n2018/12/01 2018/12/28\n\nTUKI       PREMIUM\n---------- ----------\n2019/01/01 2019/01/25\n2019/02/01 2019/02/22\n2019/03/01 2019/03/29\n2019/04/01 2019/04/26\n2019/05/01 2019/05/31\n2019/06/01 2019/06/28\n2019/07/01 2019/07/26\n2019/08/01 2019/08/30\n2019/09/01 2019/09/27\n2019/10/01 2019/10/25\n2019/11/01 2019/11/29\n\n33 rows selected.\n\n\u203b\u518d\u5e30WITH\u53e5\u306e\u66f8\u304d\u65b9\u3082\u8ffd\u8a18\u3057\u305f\u3084\u3067\u5f61(\uff9f)(\uff9f)\nALTER SESSION SET NLS_DATE_FORMAT = 'YYYY/MM/DD';\nWITH rec(lv) AS (\n  SELECT 1 FROM DUAL\n   UNION ALL\n  SELECT lv + 1\n    FROM REC\n   WHERE lv < 1000\n)\nSELECT TRUNC(NEXT_DAY(SYSDATE+lv, 'friday'), 'MM')      AS TUKI\n     , MAX(TRUNC(NEXT_DAY(SYSDATE+lv, 'friday'), 'DD')) AS PREMIUM\n  FROM rec\n GROUP BY TRUNC(NEXT_DAY(SYSDATE+lv, 'friday'), 'MM')\n ORDER BY TUKI;\n\nTUKI       PREMIUM\n---------- ----------\n2017/03/01 2017/03/31\n2017/04/01 2017/04/28\n2017/05/01 2017/05/26\n2017/06/01 2017/06/30\n2017/07/01 2017/07/28\n2017/08/01 2017/08/25\n2017/09/01 2017/09/29\n2017/10/01 2017/10/27\n2017/11/01 2017/11/24\n2017/12/01 2017/12/29\n2018/01/01 2018/01/26\n\nTUKI       PREMIUM\n---------- ----------\n2018/02/01 2018/02/23\n2018/03/01 2018/03/30\n2018/04/01 2018/04/27\n2018/05/01 2018/05/25\n2018/06/01 2018/06/29\n2018/07/01 2018/07/27\n2018/08/01 2018/08/31\n2018/09/01 2018/09/28\n2018/10/01 2018/10/26\n2018/11/01 2018/11/30\n2018/12/01 2018/12/28\n\nTUKI       PREMIUM\n---------- ----------\n2019/01/01 2019/01/25\n2019/02/01 2019/02/22\n2019/03/01 2019/03/29\n2019/04/01 2019/04/26\n2019/05/01 2019/05/31\n2019/06/01 2019/06/28\n2019/07/01 2019/07/26\n2019/08/01 2019/08/30\n2019/09/01 2019/09/27\n2019/10/01 2019/10/25\n2019/11/01 2019/11/29\n\n33 rows selected.\n\n\n\u3053\u308c\u3067\u30ef\u30a4\u3082\u30d7\u30ec\u30df\u30a2\u30e0\u3084\uff01\u5f61(\uff9f)(\uff9f)\n\n```sql\nALTER SESSION SET NLS_DATE_FORMAT = 'YYYY/MM/DD';\n SELECT TRUNC(NEXT_DAY(SYSDATE+LEVEL, 'friday'), 'MM')      AS TUKI\n      , MAX(TRUNC(NEXT_DAY(SYSDATE+LEVEL, 'friday'), 'DD')) AS PREMIUM\n   FROM DUAL\nCONNECT BY LEVEL <= 1000\n  GROUP BY TRUNC(NEXT_DAY(SYSDATE+LEVEL, 'friday'), 'MM')\n  ORDER BY TUKI;\n\nTUKI       PREMIUM\n---------- ----------\n2017/03/01 2017/03/31\n2017/04/01 2017/04/28\n2017/05/01 2017/05/26\n2017/06/01 2017/06/30\n2017/07/01 2017/07/28\n2017/08/01 2017/08/25\n2017/09/01 2017/09/29\n2017/10/01 2017/10/27\n2017/11/01 2017/11/24\n2017/12/01 2017/12/29\n2018/01/01 2018/01/26\n\nTUKI       PREMIUM\n---------- ----------\n2018/02/01 2018/02/23\n2018/03/01 2018/03/30\n2018/04/01 2018/04/27\n2018/05/01 2018/05/25\n2018/06/01 2018/06/29\n2018/07/01 2018/07/27\n2018/08/01 2018/08/31\n2018/09/01 2018/09/28\n2018/10/01 2018/10/26\n2018/11/01 2018/11/30\n2018/12/01 2018/12/28\n\nTUKI       PREMIUM\n---------- ----------\n2019/01/01 2019/01/25\n2019/02/01 2019/02/22\n2019/03/01 2019/03/29\n2019/04/01 2019/04/26\n2019/05/01 2019/05/31\n2019/06/01 2019/06/28\n2019/07/01 2019/07/26\n2019/08/01 2019/08/30\n2019/09/01 2019/09/27\n2019/10/01 2019/10/25\n2019/11/01 2019/11/29\n\n33 rows selected.\n```\n\n\u203b\u518d\u5e30WITH\u53e5\u306e\u66f8\u304d\u65b9\u3082\u8ffd\u8a18\u3057\u305f\u3084\u3067\u5f61(\uff9f)(\uff9f)\n\n```sql\nALTER SESSION SET NLS_DATE_FORMAT = 'YYYY/MM/DD';\nWITH rec(lv) AS (\n  SELECT 1 FROM DUAL\n   UNION ALL\n  SELECT lv + 1\n    FROM REC\n   WHERE lv < 1000\n)\nSELECT TRUNC(NEXT_DAY(SYSDATE+lv, 'friday'), 'MM')      AS TUKI\n     , MAX(TRUNC(NEXT_DAY(SYSDATE+lv, 'friday'), 'DD')) AS PREMIUM\n  FROM rec\n GROUP BY TRUNC(NEXT_DAY(SYSDATE+lv, 'friday'), 'MM')\n ORDER BY TUKI;\n\nTUKI       PREMIUM\n---------- ----------\n2017/03/01 2017/03/31\n2017/04/01 2017/04/28\n2017/05/01 2017/05/26\n2017/06/01 2017/06/30\n2017/07/01 2017/07/28\n2017/08/01 2017/08/25\n2017/09/01 2017/09/29\n2017/10/01 2017/10/27\n2017/11/01 2017/11/24\n2017/12/01 2017/12/29\n2018/01/01 2018/01/26\n\nTUKI       PREMIUM\n---------- ----------\n2018/02/01 2018/02/23\n2018/03/01 2018/03/30\n2018/04/01 2018/04/27\n2018/05/01 2018/05/25\n2018/06/01 2018/06/29\n2018/07/01 2018/07/27\n2018/08/01 2018/08/31\n2018/09/01 2018/09/28\n2018/10/01 2018/10/26\n2018/11/01 2018/11/30\n2018/12/01 2018/12/28\n\nTUKI       PREMIUM\n---------- ----------\n2019/01/01 2019/01/25\n2019/02/01 2019/02/22\n2019/03/01 2019/03/29\n2019/04/01 2019/04/26\n2019/05/01 2019/05/31\n2019/06/01 2019/06/28\n2019/07/01 2019/07/26\n2019/08/01 2019/08/30\n2019/09/01 2019/09/27\n2019/10/01 2019/10/25\n2019/11/01 2019/11/29\n\n33 rows selected.\n\n```\n", "tags": ["oracle", "Database", "SQL"]}