{"context": " More than 1 year has passed since last update.\n\n\u524d\u63d0\nwindows\u3067\u8d77\u52d5\u3057\u305fjenkins\u306e\u300cwindows\u30d0\u30c3\u30c1\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u300d\u306b\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u30d0\u30c3\u30c1\u3092\u66f8\u304d\u305f\u3044\n\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u306b\u306fwinscp\u3092\u4f7f\u3046\nwinscp\u306fC:\\Program Files (x86)\\WinSCP\\WinSCP.com\u306b\u3042\u308b\n\u79d8\u5bc6\u9375\u306fD:\\key_rsa.pri.ppk\u306b\u3042\u308b\n\njenkins\u5074\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a2d\u5b9a\nUSER...\u8ee2\u9001\u5148\u30e6\u30fc\u30b6\u540d\nTARGET_HOST...\u8ee2\u9001\u5148\u306e\u30b5\u30fc\u30d0\nTARGET_HOSTKEY...\u30db\u30b9\u30c8\u30ad\u30fc\uff08\u5f8c\u8ff0\uff09\nTARGET_FILE...\u8ee2\u9001\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u540d\nTARGET_WORKDIR...\u8ee2\u9001\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u304c\u304a\u3044\u3066\u3042\u308b\u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nTARGET_DIR...\u914d\u7f6e\u3057\u305f\u3044\u8ee2\u9001\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nTMP_FILE...\u8ee2\u9001\u30b3\u30de\u30f3\u30c9\u7fa4\u306e\u4e00\u6642\u30d5\u30a1\u30a4\u30eb\u3001\u6700\u5f8c\u6d88\u3055\u308c\u308b\n\n\u5b9f\u88c5\n@echo off\necho option batch on > %TMP_FILE%\necho open %USER%@%TARGET_HOST% -hostkey=\"%TARGET_HOSTKEY%\" >> %TMP_FILE%\necho cd %TARGET_DIR% >> %TMP_FILE%\necho rm %TARGET_FILE% >> %TMP_FILE%\necho put %TARGET_WORKDIR%%TARGET_FILE% >> %TMP_FILE%\necho exit >> %TMP_FILE%\n@echo on\n\n:: type %TMP_FILE%\n\n\"C:\\Program Files (x86)\\WinSCP\\WinSCP.com\" /privatekey=\"D:\\key_rsa.pri.ppk\"  /script=\"%TMP_FILE%\"\n\ndel %TMP_FILE%\n\n\u8aac\u660e\n@echo off\n\u8272\u3005\n@echo on\n\necho off\u3067\u7d50\u679c\u8868\u793a\u3057\u306a\u3044\n\u8272\u3005\u306e\u90e8\u5206\u3067winscp\u306b\u5bfe\u3059\u308b\u30b3\u30de\u30f3\u30c9\u7fa4\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3002\n\u30b5\u30fc\u30d0\u30fc\u63a5\u7d9a\n\u8ee2\u9001\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\n\u53e4\u3044\u8ee2\u9001\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u3059\uff08\u3053\u306e\u6642\u30d5\u30a1\u30a4\u30eb\u304c\u7121\u304f\u3066\u3082OK\uff09\n\u30d5\u30a1\u30a4\u30eb\u7f6e\u304f\n\u7d42\u308f\u308a\necho on\u3067\u7d50\u679c\u8868\u793a\u3059\u308b\n\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u3001\u3067\u5f37\u5236\u7684\u306b\u4e0a\u66f8\u304d\u3059\u308b\u306b\u306f\noption confirm off\n\n\u3067\u3044\u3051\u308b\u304b\u3082\u3002\uff08\u78ba\u8a8dOFF\u3057\u3066\u308b\u3051\u3069\u2026\uff09\n:: type %TMP_FILE%\n\n\u30c7\u30d0\u30c3\u30b0\u7528\u3002::\u3067\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3055\u308c\u3066\u3044\u308b\u3002\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u5916\u3059\u3068TMP_FILE\u306e\u4e2d\u8eab\u3092\u8868\u793a\n\u305d\u3057\u3066winscp\u306b\u30b3\u30de\u30f3\u30c9\u767a\u884c\n\u6700\u5f8c\u306bTMP_FILE\u6d88\u3059\n\n\u30db\u30b9\u30c8\u30ad\u30fc\u306b\u3064\u3044\u3066\n\u5fc5\u8981\u3002\n\u9069\u5f53\u306a\u5024\u3067\u4e00\u5ea6\u52d5\u304b\u3057\u3066\u307f\u308b\u3068\u6559\u3048\u3066\u304f\u308c\u308b\u3002\nD:\\jenkins\\jobs\\test\\workspace>\"C:\\Program Files (x86)\\WinSCP\\WinSCP.com\" /privatekey=\"D:\\key_rsa.pri.ppk\"  /script=\"tmp.txt\" \nbatch           on        \nSearching for host...\nConnecting to host...\nAuthenticating...\nThe server's host key was not found in the cache. You have no guarantee that the server is the computer you think it is.\nThe server's rsa2 key fingerprint is:\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx \u2190\u3053\u306e\u90e8\u5206\nIf you trust this host, press Yes. To connect without adding host key to the cache, press No. To abandon the connection press Cancel.\nContinue connecting and add host key to the cache?\n\n\n\u5fdc\u7528\u7de8\n\u3064\u3044\u3067\u306btomcat\u306e\u518d\u8d77\u52d5\u306a\u3069\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u30b3\u30de\u30f3\u30c9\u3092\u767a\u884c\u3057\u305f\u3044\u5834\u5408\u306f\necho call \u5b9f\u884c\u3057\u305f\u3044\u30b3\u30de\u30f3\u30c9 >> %TMP_FILE%\n\n\u3092\u30b3\u30de\u30f3\u30c9\u7fa4\u306b\u8ffd\u52a0\u3059\u308b\n## \u524d\u63d0\n\nwindows\u3067\u8d77\u52d5\u3057\u305fjenkins\u306e\u300cwindows\u30d0\u30c3\u30c1\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u300d\u306b\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u30d0\u30c3\u30c1\u3092\u66f8\u304d\u305f\u3044\n\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u306b\u306fwinscp\u3092\u4f7f\u3046\nwinscp\u306fC:\\Program Files (x86)\\WinSCP\\WinSCP.com\u306b\u3042\u308b\n\u79d8\u5bc6\u9375\u306fD:\\key_rsa.pri.ppk\u306b\u3042\u308b\n\n### jenkins\u5074\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a2d\u5b9a\nUSER...\u8ee2\u9001\u5148\u30e6\u30fc\u30b6\u540d\nTARGET_HOST...\u8ee2\u9001\u5148\u306e\u30b5\u30fc\u30d0\nTARGET_HOSTKEY...\u30db\u30b9\u30c8\u30ad\u30fc\uff08\u5f8c\u8ff0\uff09\nTARGET_FILE...\u8ee2\u9001\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u540d\nTARGET_WORKDIR...\u8ee2\u9001\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u304c\u304a\u3044\u3066\u3042\u308b\u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nTARGET_DIR...\u914d\u7f6e\u3057\u305f\u3044\u8ee2\u9001\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nTMP_FILE...\u8ee2\u9001\u30b3\u30de\u30f3\u30c9\u7fa4\u306e\u4e00\u6642\u30d5\u30a1\u30a4\u30eb\u3001\u6700\u5f8c\u6d88\u3055\u308c\u308b\n\n## \u5b9f\u88c5\n\n```\n@echo off\necho option batch on > %TMP_FILE%\necho open %USER%@%TARGET_HOST% -hostkey=\"%TARGET_HOSTKEY%\" >> %TMP_FILE%\necho cd %TARGET_DIR% >> %TMP_FILE%\necho rm %TARGET_FILE% >> %TMP_FILE%\necho put %TARGET_WORKDIR%%TARGET_FILE% >> %TMP_FILE%\necho exit >> %TMP_FILE%\n@echo on\n\n:: type %TMP_FILE%\n\n\"C:\\Program Files (x86)\\WinSCP\\WinSCP.com\" /privatekey=\"D:\\key_rsa.pri.ppk\"  /script=\"%TMP_FILE%\"\n\ndel %TMP_FILE%\n```\n\n\u8aac\u660e\n\n```\n@echo off\n\u8272\u3005\n@echo on\n```\n\necho off\u3067\u7d50\u679c\u8868\u793a\u3057\u306a\u3044\n\u8272\u3005\u306e\u90e8\u5206\u3067winscp\u306b\u5bfe\u3059\u308b\u30b3\u30de\u30f3\u30c9\u7fa4\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3002\n\u30b5\u30fc\u30d0\u30fc\u63a5\u7d9a\n\u8ee2\u9001\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\n\u53e4\u3044\u8ee2\u9001\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u3059\uff08\u3053\u306e\u6642\u30d5\u30a1\u30a4\u30eb\u304c\u7121\u304f\u3066\u3082OK\uff09\n\u30d5\u30a1\u30a4\u30eb\u7f6e\u304f\n\u7d42\u308f\u308a\necho on\u3067\u7d50\u679c\u8868\u793a\u3059\u308b\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u3001\u3067\u5f37\u5236\u7684\u306b\u4e0a\u66f8\u304d\u3059\u308b\u306b\u306f\n\n```\noption confirm off\n```\n\u3067\u3044\u3051\u308b\u304b\u3082\u3002\uff08\u78ba\u8a8dOFF\u3057\u3066\u308b\u3051\u3069\u2026\uff09\n\n\n```\n:: type %TMP_FILE%\n```\n\u30c7\u30d0\u30c3\u30b0\u7528\u3002::\u3067\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3055\u308c\u3066\u3044\u308b\u3002\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u5916\u3059\u3068TMP_FILE\u306e\u4e2d\u8eab\u3092\u8868\u793a\n\n\u305d\u3057\u3066winscp\u306b\u30b3\u30de\u30f3\u30c9\u767a\u884c\n\u6700\u5f8c\u306bTMP_FILE\u6d88\u3059\n\n### \u30db\u30b9\u30c8\u30ad\u30fc\u306b\u3064\u3044\u3066\n\n\u5fc5\u8981\u3002\n\u9069\u5f53\u306a\u5024\u3067\u4e00\u5ea6\u52d5\u304b\u3057\u3066\u307f\u308b\u3068\u6559\u3048\u3066\u304f\u308c\u308b\u3002\n\n```\nD:\\jenkins\\jobs\\test\\workspace>\"C:\\Program Files (x86)\\WinSCP\\WinSCP.com\" /privatekey=\"D:\\key_rsa.pri.ppk\"  /script=\"tmp.txt\" \nbatch           on        \nSearching for host...\nConnecting to host...\nAuthenticating...\nThe server's host key was not found in the cache. You have no guarantee that the server is the computer you think it is.\nThe server's rsa2 key fingerprint is:\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx \u2190\u3053\u306e\u90e8\u5206\nIf you trust this host, press Yes. To connect without adding host key to the cache, press No. To abandon the connection press Cancel.\nContinue connecting and add host key to the cache?\n```\n\n### \u5fdc\u7528\u7de8\n\n\u3064\u3044\u3067\u306btomcat\u306e\u518d\u8d77\u52d5\u306a\u3069\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u30b3\u30de\u30f3\u30c9\u3092\u767a\u884c\u3057\u305f\u3044\u5834\u5408\u306f\n\n```\necho call \u5b9f\u884c\u3057\u305f\u3044\u30b3\u30de\u30f3\u30c9 >> %TMP_FILE%\n```\n\n\u3092\u30b3\u30de\u30f3\u30c9\u7fa4\u306b\u8ffd\u52a0\u3059\u308b\n", "tags": ["\u30d0\u30c3\u30c1", "Windows"]}