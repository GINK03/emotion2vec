{"context": " More than 1 year has passed since last update.\u57f7\u7b46\u6642\u70b9(2015/07/29)\u3067\u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f30.12.7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nPython2.7\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\nhttps://nodejs.org/\n% tar xfvz node-v0.12.7.tar.gz\n% cd node-v0.12.7\n% ./configure\n% gmake\n\n\u4e00\u90e8\u30bd\u30fc\u30b9\u3092\u4fee\u6b63\u3057\u306a\u3044\u3068\u9014\u4e2d\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u3002\nhttps://github.com/joyent/node/issues/9175\n\ndeps/v8/src/base/platform/platform-freebsd.cc\n--- deps/v8/src/base/platform/platform-freebsd.cc.bak   2015-07-10 07:41:19.000000000 +0900\n+++ deps/v8/src/base/platform/platform-freebsd.cc       2015-07-29 12:10:41.000000000 +0900\n@@ -122,10 +122,10 @@\n\n\n std::vector<OS::SharedLibraryAddress> OS::GetSharedLibraryAddresses() {\n-  std::vector<SharedLibraryAddress> result;\n+  std::vector<SharedLibraryAddress> address_result;\n   static const int MAP_LENGTH = 1024;\n   int fd = open(\"/proc/self/maps\", O_RDONLY);\n-  if (fd < 0) return result;\n+  if (fd < 0) return address_result;\n   while (true) {\n     char addr_buffer[11];\n     addr_buffer[0] = '0';\n@@ -156,10 +156,10 @@\n     // There may be no filename in this line.  Skip to next.\n     if (start_of_path == NULL) continue;\n     buffer[bytes_read] = 0;\n-    result.push_back(SharedLibraryAddress(start_of_path, start, end));\n+    address_result.push_back(SharedLibraryAddress(start_of_path, start, end));\n   }\n   close(fd);\n-  return result;\n+  return address_result;\n }\n\n\n\ndeps/v8/src/base/platform/platform-posix.cc\n--- deps/v8/src/base/platform/platform-posix.cc.bak     2015-07-10 07:41:19.000000000 +0900\n+++ deps/v8/src/base/platform/platform-posix.cc 2015-07-29 12:12:22.000000000 +0900\n@@ -327,7 +327,7 @@\n #elif V8_OS_ANDROID\n   return static_cast<int>(gettid());\n #else\n-  return static_cast<int>(pthread_self());\n+  return static_cast<int> ((int64_t) (void *) pthread_self());\n #endif\n }\n\n\n\u30bd\u30fc\u30b9\u3092\u4fee\u6b63\u5f8c\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u5b8c\u4e86\n% gmake\n% sudo gmake install\n% node\n> console.log('hoge');\nhoge\nundefined\n> .exit\n\n\u57f7\u7b46\u6642\u70b9(2015/07/29)\u3067\u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f30.12.7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nPython2.7\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\n\nhttps://nodejs.org/\n\n```zsh\n% tar xfvz node-v0.12.7.tar.gz\n% cd node-v0.12.7\n% ./configure\n% gmake\n```\n\n\u4e00\u90e8\u30bd\u30fc\u30b9\u3092\u4fee\u6b63\u3057\u306a\u3044\u3068\u9014\u4e2d\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u3002\nhttps://github.com/joyent/node/issues/9175\n\n```diff:deps/v8/src/base/platform/platform-freebsd.cc\n--- deps/v8/src/base/platform/platform-freebsd.cc.bak   2015-07-10 07:41:19.000000000 +0900\n+++ deps/v8/src/base/platform/platform-freebsd.cc       2015-07-29 12:10:41.000000000 +0900\n@@ -122,10 +122,10 @@\n\n\n std::vector<OS::SharedLibraryAddress> OS::GetSharedLibraryAddresses() {\n-  std::vector<SharedLibraryAddress> result;\n+  std::vector<SharedLibraryAddress> address_result;\n   static const int MAP_LENGTH = 1024;\n   int fd = open(\"/proc/self/maps\", O_RDONLY);\n-  if (fd < 0) return result;\n+  if (fd < 0) return address_result;\n   while (true) {\n     char addr_buffer[11];\n     addr_buffer[0] = '0';\n@@ -156,10 +156,10 @@\n     // There may be no filename in this line.  Skip to next.\n     if (start_of_path == NULL) continue;\n     buffer[bytes_read] = 0;\n-    result.push_back(SharedLibraryAddress(start_of_path, start, end));\n+    address_result.push_back(SharedLibraryAddress(start_of_path, start, end));\n   }\n   close(fd);\n-  return result;\n+  return address_result;\n }\n```\n\n```diff:deps/v8/src/base/platform/platform-posix.cc\n--- deps/v8/src/base/platform/platform-posix.cc.bak     2015-07-10 07:41:19.000000000 +0900\n+++ deps/v8/src/base/platform/platform-posix.cc 2015-07-29 12:12:22.000000000 +0900\n@@ -327,7 +327,7 @@\n #elif V8_OS_ANDROID\n   return static_cast<int>(gettid());\n #else\n-  return static_cast<int>(pthread_self());\n+  return static_cast<int> ((int64_t) (void *) pthread_self());\n #endif\n }\n```\n\n\u30bd\u30fc\u30b9\u3092\u4fee\u6b63\u5f8c\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u5b8c\u4e86\n\n```zsh\n% gmake\n% sudo gmake install\n% node\n> console.log('hoge');\nhoge\nundefined\n> .exit\n```\n", "tags": ["FreeBSD", "Node.js"]}