{"context": "\n\nmasonry\u3068\u306f\uff1f\n\nhttp://masonry.desandro.com/\n\n\n\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002instagram\u3067\u4eba\u6c17\u5199\u771f\u304c\u898b\u308c\u307e\u3059\u3002\n\nhttp://www.wishtag.net\n\n\nhome.html\n{% block container %}\n<div id=\"sec1\" class=\"text-page_home\">\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-12 text-center\">\n        <h1>{% include \"_brandname.html\" %}</h1>\n        <p class=\"lead\"><sapn id=\"font_bold\">\u300c#\u30c8\u30ec\u30f3\u30c9\u30ef\u30fc\u30c9\u300d</sapn>\u3092Instagram\u4eba\u6c17\u6295\u7a3f\u3088\u308a\u697d\u3057\u3081\u307e\u3059\u3002</p>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div id=\"sec3\">\n  <div id=\"container\">\n    <div id=\"works_list\">\n      {% for m in media %}\n        <div class=\"work_item\">\n          <a href=\"{{ m.media_link }}\" target=\"_blank\">\n            <img class=\"lazy\" src=\"{{ m.standard_resolution_url }}\" data-original=\"{{ m.standard_resolution_url }}\" width=\"140\" height=\"183\" alt=\"\u30cb\u30e5\u30fc\u30e8\u30fc\u30af\u306e\u30b0\u30e9\u30d5\u30c6\u30a3\">\n          </a>\n          <p>{{ m.caption|capfirst|striptags }}</p>\n        </div>\n      {% endfor %}\n    </div>\n  </div>\n</div>\n{% include \"_pagination.html\" %}\n{% endblock container %}\n\n\n_pagination.html\n{% load i18n %}\n<div class=\"pagination\">\n    <span class=\"step-links\">\n        {% if page_obj.has_previous %}\n            <a href=\"?page={{ page_obj.previous_page_number }}\"></a>\n        {% endif %}\n    <span class=\"current\">\n    </span>\n    {% if page_obj.has_next %}\n        <div id=\"next\">\n            <a href=\"?page={{ page_obj.next_page_number }}\"></a>\n        </div>\n    {% endif %}\n    </span>\n</div>\n\n\nscript\n<script src=\"http://code.jquery.com/jquery-1.10.1.min.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.0.1/jquery.magnific-popup.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery-infinitescroll/2.1.0/jquery.infinitescroll.min.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js\"></script>\n<script src=\"{% static 'site/js/site.js' %}\"></script>\n<script src=\"{% static 'site/js/masonry.pkgd.min.js' %}\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.0.0/imagesloaded.pkgd.min.js\"></script>\n\njQuery(function($){\n    $(\"img.lazy\").lazyload({\n        effect: 'fadeIn',\n        effectspeed: 1000,\n        threshold: 200\n    });\n    $('img.lazy').load(function() {\n        masonry_update();\n    });\n    function masonry_update() {\n        ww = $(window).width();\n        var cw = 180;\n        if(ww < 460) { cw = 160; }\n        var works_list = $('#works_list');\n        works_list.imagesLoaded(function(){\n            works_list.masonry({\n                itemSelector: '.work_item',\u3000\n                isFitWidth: true,\u3000\n                columnWidth: cw\n            });\n        });\n     }\n    var timer = false;\n    $(window).resize(function(){\n        ww = $(window).width();\n        if (timer !== false) {\n            clearTimeout(timer);\n        }\n        timer = setTimeout(function() {\n            masonry_update();\n        }, 200);\n    });\n});\nvar $container = $(\"#works_list\");\n$(function () {\n    $container.infinitescroll(\n        {\n            navSelector: \"#next\",\n            nextSelector: \"#next a\",\n            itemSelector: \".work_item\",\n            loading: {\n                finishedMsg: \"\",\n                img: \"http://matemedia.com/wp-content/uploads/2014/02/loading-scroll-transparent.png\",\n                msg: null,\n                msgText: \"\"\n            }\n        },\n        function (newProducts) {\n            var $newProds = $(newProducts).css({\"opacity\": 0});\n            $newProds.imagesLoaded(function () {\n                $newProds.animate({\"opacity\": 1});\n                $container.masonry(\"appended\", $newProds, true);\n            });\n        }\n    );\n});\n</script>\n\n\nviews.py\nclass HomePage(generic.TemplateView):\n    template_name = \"home.html\"\n    paginate_by = 10\n\n    def get(self, request, *args, **kwargs):\n\n        paginator = Paginator(InstagramPlayer.get_all(), self.paginate_by)\n        page = self.request.GET.get('page')\n\n        try:\n            page_obj = paginator.page(page)\n        except PageNotAnInteger:\n            page_obj = paginator.page(1)\n        except EmptyPage:\n            page_obj = paginator.page(paginator.num_pages)\n\n        kwargs[\"media\"] = page_obj\n        kwargs[\"page_obj\"] = page_obj\n\n        return super(HomePage, self).get(request, *args, **kwargs)\n\n\u3082\u3063\u3068\u30b7\u30f3\u30d7\u30eb\u306b\u3067\u304d\u308b\u65b9\u6cd5\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u306a\u304b\u306a\u304b\u3084\u308a\u65b9\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3067\u3059\u3002\n## masonry\u3068\u306f\uff1f\n - http://masonry.desandro.com/\n\n## \u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002instagram\u3067\u4eba\u6c17\u5199\u771f\u304c\u898b\u308c\u307e\u3059\u3002\n - http://www.wishtag.net\n\n## home.html\n```\n{% block container %}\n<div id=\"sec1\" class=\"text-page_home\">\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-12 text-center\">\n        <h1>{% include \"_brandname.html\" %}</h1>\n        <p class=\"lead\"><sapn id=\"font_bold\">\u300c#\u30c8\u30ec\u30f3\u30c9\u30ef\u30fc\u30c9\u300d</sapn>\u3092Instagram\u4eba\u6c17\u6295\u7a3f\u3088\u308a\u697d\u3057\u3081\u307e\u3059\u3002</p>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div id=\"sec3\">\n  <div id=\"container\">\n    <div id=\"works_list\">\n      {% for m in media %}\n        <div class=\"work_item\">\n          <a href=\"{{ m.media_link }}\" target=\"_blank\">\n            <img class=\"lazy\" src=\"{{ m.standard_resolution_url }}\" data-original=\"{{ m.standard_resolution_url }}\" width=\"140\" height=\"183\" alt=\"\u30cb\u30e5\u30fc\u30e8\u30fc\u30af\u306e\u30b0\u30e9\u30d5\u30c6\u30a3\">\n          </a>\n          <p>{{ m.caption|capfirst|striptags }}</p>\n        </div>\n      {% endfor %}\n    </div>\n  </div>\n</div>\n{% include \"_pagination.html\" %}\n{% endblock container %}\n```\n\n\n## _pagination.html\n```\n{% load i18n %}\n<div class=\"pagination\">\n    <span class=\"step-links\">\n        {% if page_obj.has_previous %}\n            <a href=\"?page={{ page_obj.previous_page_number }}\"></a>\n        {% endif %}\n    <span class=\"current\">\n    </span>\n    {% if page_obj.has_next %}\n        <div id=\"next\">\n            <a href=\"?page={{ page_obj.next_page_number }}\"></a>\n        </div>\n    {% endif %}\n    </span>\n</div>\n```\n\n\n## script\n```\n<script src=\"http://code.jquery.com/jquery-1.10.1.min.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.0.1/jquery.magnific-popup.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery-infinitescroll/2.1.0/jquery.infinitescroll.min.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js\"></script>\n<script src=\"{% static 'site/js/site.js' %}\"></script>\n<script src=\"{% static 'site/js/masonry.pkgd.min.js' %}\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.0.0/imagesloaded.pkgd.min.js\"></script>\n\njQuery(function($){\n    $(\"img.lazy\").lazyload({\n        effect: 'fadeIn',\n        effectspeed: 1000,\n        threshold: 200\n    });\n    $('img.lazy').load(function() {\n        masonry_update();\n    });\n    function masonry_update() {\n        ww = $(window).width();\n        var cw = 180;\n        if(ww < 460) { cw = 160; }\n        var works_list = $('#works_list');\n        works_list.imagesLoaded(function(){\n            works_list.masonry({\n                itemSelector: '.work_item',\u3000\n                isFitWidth: true,\u3000\n                columnWidth: cw\n            });\n        });\n     }\n    var timer = false;\n    $(window).resize(function(){\n        ww = $(window).width();\n        if (timer !== false) {\n            clearTimeout(timer);\n        }\n        timer = setTimeout(function() {\n            masonry_update();\n        }, 200);\n    });\n});\nvar $container = $(\"#works_list\");\n$(function () {\n    $container.infinitescroll(\n        {\n            navSelector: \"#next\",\n            nextSelector: \"#next a\",\n            itemSelector: \".work_item\",\n            loading: {\n                finishedMsg: \"\",\n                img: \"http://matemedia.com/wp-content/uploads/2014/02/loading-scroll-transparent.png\",\n                msg: null,\n                msgText: \"\"\n            }\n        },\n        function (newProducts) {\n            var $newProds = $(newProducts).css({\"opacity\": 0});\n            $newProds.imagesLoaded(function () {\n                $newProds.animate({\"opacity\": 1});\n                $container.masonry(\"appended\", $newProds, true);\n            });\n        }\n    );\n});\n</script>\n```\n\n\n## views.py\n```\nclass HomePage(generic.TemplateView):\n    template_name = \"home.html\"\n    paginate_by = 10\n\n    def get(self, request, *args, **kwargs):\n    \n        paginator = Paginator(InstagramPlayer.get_all(), self.paginate_by)\n        page = self.request.GET.get('page')\n\n        try:\n            page_obj = paginator.page(page)\n        except PageNotAnInteger:\n            page_obj = paginator.page(1)\n        except EmptyPage:\n            page_obj = paginator.page(paginator.num_pages)\n\n        kwargs[\"media\"] = page_obj\n        kwargs[\"page_obj\"] = page_obj\n\n        return super(HomePage, self).get(request, *args, **kwargs)\n```\n\n\n\n\u3082\u3063\u3068\u30b7\u30f3\u30d7\u30eb\u306b\u3067\u304d\u308b\u65b9\u6cd5\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u306a\u304b\u306a\u304b\u3084\u308a\u65b9\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3067\u3059\u3002\n", "tags": ["Djanog", "Paginator", "jQuery", "masonry", "Instagram"]}