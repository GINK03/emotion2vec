{"tags": ["Android", "SSL"], "context": "openssl\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u524d\u63d0\u3002\n1.\u79d8\u5bc6\u9375\u306e\u4f5c\u6210\u4f5c\u6210\n$openssl genrsa 2048 > server.key\n\n2.\u3000CSR\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n$openssl req -new -key server.key > server.csr\nCountry Name (2 letter code) [AU]:JP\nState or Province Name (full name) [Some-State]:Fukuoka\nLocality Name (eg, city) []:Fukuoka\nOrganization Name (eg, company) [Internet Widgits Pty Ltd]:Company\nOrganizational Unit Name (eg, section) []:\nCommon Name (e.g. server FQDN or YOUR name) []:example.com\nEmail Address []:\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:\nAn optional company name []:\n\n3.\u3000\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\n$openssl x509 -req -in server.csr -signkey server.key -out server.crt -days 3650 -extfile v3.ext\n\n\u203bv3.ext\u306f\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u3042\u3089\u304b\u3058\u3081\u4f5c\u6210\nauthorityKeyIdentifier=keyid,issuer\nbasicConstraints=CA:TRUE\nkeyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment\n\nkeyUsage\u306e\u5185\u5bb9\u306f\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u304c\u308f\u304b\u308a\u3084\u3059\u304b\u3063\u305f\u3067\u3059\u3002\nhttp://oxynotes.com/?p=4516\n4.\u8a3c\u660e\u66f8\u306e\u30c1\u30a7\u30c3\u30af\n$openssl x509 -in server.crt -text -noout  \nCertificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number:\n            8a:\u30fb\u30fb\u30fb\n        Signature Algorithm: sha1WithRSAEncryption\n        Issuer: C=JP, ST=Fukuoka, L=Fukuoka, O=Company, CN=example.com\n        Validity\n            Not Before: Feb 22 02:18:10 2017 GMT\n            Not After : Feb 20 02:18:10 2027 GMT\n        Subject: C=JP, ST=Fukuoka, L=Fukuoka, O=Company, CN=example.com\n        Subject Public Key Info:\n            Public Key Algorithm: rsaEncryption\n            RSA Public Key: (2048 bit)\n                Modulus (2048 bit):\n                    00:\u30fb\u30fb\u30fb\n                Exponent: 65537 (0x10001)\n        X509v3 extensions:\n            X509v3 Authority Key Identifier: \n                DirName:/C=JP/ST=Fukuoka/L=Fukuoka/O=Company/CN=example.com\n                serial:\u30fb\u30fb\u30fb\n\n            X509v3 Basic Constraints: \n                CA:TRUE\n            X509v3 Key Usage: \n                Digital Signature, Non Repudiation, Key Encipherment, Data Encipherment\n    Signature Algorithm: sha1WithRSAEncryption\n        93:\u30fb\u30fb\u30fb\n\n5.DER\u5f62\u5f0f\u306b\u5909\u63db\n$openssl x509 -in server.crt -out server.der.crt -outform der\n\n6.Android\u7aef\u672b\u306bserver.der.crt\u3092\u30b3\u30d4\u30fc\n7.\u8a2d\u5b9a->\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3->SD\u30ab\u30fc\u30c9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089\u3001server.der.crt\u3092\u9078\u629e\n8.\u4fe1\u983c\u3067\u304d\u308b\u8a8d\u8a3c\u60c5\u5831->\u30e6\u30fc\u30b6\u30fc\u306b\u8a3c\u660e\u66f8\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\nopenssl\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u524d\u63d0\u3002\n\n1.\u79d8\u5bc6\u9375\u306e\u4f5c\u6210\u4f5c\u6210\n\n```\n$openssl genrsa 2048 > server.key\n```\n\n2.\u3000CSR\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\n```\n$openssl req -new -key server.key > server.csr\nCountry Name (2 letter code) [AU]:JP\nState or Province Name (full name) [Some-State]:Fukuoka\nLocality Name (eg, city) []:Fukuoka\nOrganization Name (eg, company) [Internet Widgits Pty Ltd]:Company\nOrganizational Unit Name (eg, section) []:\nCommon Name (e.g. server FQDN or YOUR name) []:example.com\nEmail Address []:\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:\nAn optional company name []:\n```\n\n3.\u3000\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\n\n```\n$openssl x509 -req -in server.csr -signkey server.key -out server.crt -days 3650 -extfile v3.ext\n```\n\n**\u203bv3.ext\u306f\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u3042\u3089\u304b\u3058\u3081\u4f5c\u6210**\n\n```\nauthorityKeyIdentifier=keyid,issuer\nbasicConstraints=CA:TRUE\nkeyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment\n```\n\nkeyUsage\u306e\u5185\u5bb9\u306f\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u304c\u308f\u304b\u308a\u3084\u3059\u304b\u3063\u305f\u3067\u3059\u3002\nhttp://oxynotes.com/?p=4516\n\n4.\u8a3c\u660e\u66f8\u306e\u30c1\u30a7\u30c3\u30af\n\n```\n$openssl x509 -in server.crt -text -noout  \nCertificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number:\n            8a:\u30fb\u30fb\u30fb\n        Signature Algorithm: sha1WithRSAEncryption\n        Issuer: C=JP, ST=Fukuoka, L=Fukuoka, O=Company, CN=example.com\n        Validity\n            Not Before: Feb 22 02:18:10 2017 GMT\n            Not After : Feb 20 02:18:10 2027 GMT\n        Subject: C=JP, ST=Fukuoka, L=Fukuoka, O=Company, CN=example.com\n        Subject Public Key Info:\n            Public Key Algorithm: rsaEncryption\n            RSA Public Key: (2048 bit)\n                Modulus (2048 bit):\n                    00:\u30fb\u30fb\u30fb\n                Exponent: 65537 (0x10001)\n        X509v3 extensions:\n            X509v3 Authority Key Identifier: \n                DirName:/C=JP/ST=Fukuoka/L=Fukuoka/O=Company/CN=example.com\n                serial:\u30fb\u30fb\u30fb\n\n            X509v3 Basic Constraints: \n                CA:TRUE\n            X509v3 Key Usage: \n                Digital Signature, Non Repudiation, Key Encipherment, Data Encipherment\n    Signature Algorithm: sha1WithRSAEncryption\n        93:\u30fb\u30fb\u30fb\n```\n\n5.DER\u5f62\u5f0f\u306b\u5909\u63db\n\n```\n$openssl x509 -in server.crt -out server.der.crt -outform der\n```\n\n6.Android\u7aef\u672b\u306bserver.der.crt\u3092\u30b3\u30d4\u30fc\n\n7.\u8a2d\u5b9a->\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3->SD\u30ab\u30fc\u30c9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089\u3001server.der.crt\u3092\u9078\u629e\n\n8.\u4fe1\u983c\u3067\u304d\u308b\u8a8d\u8a3c\u60c5\u5831->\u30e6\u30fc\u30b6\u30fc\u306b\u8a3c\u660e\u66f8\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\n\n"}