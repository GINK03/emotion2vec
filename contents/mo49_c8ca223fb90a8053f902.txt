{"context": " More than 1 year has passed since last update.\u30c7\u30e2\uff1ahttp://mo49.tokyo/threejs/raycaster2.html\n\u3064\u304f\u3063\u305fmesh\u3092rayReceiveObjects\u306b\u96c6\u3081\u308b\u3002\n\njavascript\nvar rayReceiveObjects = []; // \u5149\u7dda\u3092\u53d7\u3051\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u914d\u5217\n\nfor (var i = 0; i < 20; i++) {\n    rayReceiveObjects.push( meshs[i] );\n}\n\n\n\u5149\u7dda\u3068\u4ea4\u308f\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066rayReceiveObjects\u3092\u767b\u9332\u3057\u3001\nmousedown\u30a4\u30d9\u30f3\u30c8\u306e\u4e2d\u3067raycaster\u3092\u5b9f\u884c\u3002\n\njavascript\nvar raycaster = new THREE.Raycaster(); \nvar mouse = new THREE.Vector2();\n\nwindow.addEventListener( 'mousedown', onDocumentMouseDown, false );\nfunction onDocumentMouseDown( event ) {\n\n    // \u30a4\u30d9\u30f3\u30c8\u306e\u4f1d\u64ad\u306e\u7121\u52b9\u5316\n    event.preventDefault();\n\n    // \u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u306e\u4f4d\u7f6e\u5ea7\u6a19\u306e\u53d6\u5f97\n    mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1; \n    mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1; \n\n    // \u5149\u7dda\u3092\u767a\u5c04\n    raycaster.setFromCamera( mouse, camera );\n    // \u5149\u7dda\u3068\u4ea4\u308f\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53ce\u96c6\n    var intersects = raycaster.intersectObjects( rayReceiveObjects );\n\n    // \u9023\u60f3\u914d\u5217\u3092\u3068\u308a\u3060\u3059\n    var bookAry = {\n        '\u706b\u82b1' : 'http://www.amazon.co.jp/dp/4163902309',\n        '\u6d41' : 'http://www.amazon.co.jp/dp/4062194856',\n        '\u671d\u304c\u6765\u308b' : 'http://www.amazon.co.jp/dp/4163902732',\n        '\u738b\u3068\u30b5\u30fc\u30ab\u30b9' : 'http://www.amazon.co.jp/dp/4488027512',\n        '\u541b\u306e\u81b5\u81d3\u3092\u305f\u3079\u305f\u3044' : 'http://www.amazon.co.jp/dp/4575239054'\n    };\n\n    // \u4ea4\u308f\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\uff11\u500b\u4ee5\u4e0a\u306e\u5834\u5408\n    if ( intersects.length > 0 ) {\n        // \u6700\u3082\u8fd1\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u540d\u524d\u3092\u30a2\u30e9\u30fc\u30c8\u8868\u793a\u3059\u308b\n        alert(intersects[0].object.name + \"\u3092\u3054\u8cfc\u5165\u3067\u3059\u306d\uff1f\");\n        console.log(\"\u30ab\u30e1\u30e9\u4f4d\u7f6e\u5ea7\u6a19\u304b\u3089\u306e\u8ddd\u96e2\uff1a\" + intersects[0].distance);\n        console.log(\"\u5149\u7dda\u3068\u306e\u4ea4\u5dee\u5ea7\u6a19(\" + intersects[0].point.x + \", \" + intersects[0].point.y + \", \" + intersects[0].point.z + \")\" );\n        console.log(intersects[0]);\n\n        for(var i in bookAry){\n            if (intersects[0].object.name == i) {\n                window.location.href = bookAry[i];\n            }\n        }\n    }\n}\n\n\n\n\u53c2\u8003\nthree.js\u306b\u3088\u308bHTML5 3D\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30b9\u3008\u4e0a\u3009\u2015\u30d6\u30e9\u30a6\u30b6\u3067\u5b9f\u73fe\u3059\u308bOpenGL(WebGL)\u306e\u4e16\u754c\n\n\n\n\u30c7\u30e2\uff1ahttp://mo49.tokyo/threejs/raycaster2.html\n\n\u3064\u304f\u3063\u305fmesh\u3092rayReceiveObjects\u306b\u96c6\u3081\u308b\u3002\n\n```javascript:javascript\nvar rayReceiveObjects = []; // \u5149\u7dda\u3092\u53d7\u3051\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u914d\u5217\n\nfor (var i = 0; i < 20; i++) {\n\trayReceiveObjects.push( meshs[i] );\n}\n```\n\n\u5149\u7dda\u3068\u4ea4\u308f\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066rayReceiveObjects\u3092\u767b\u9332\u3057\u3001\nmousedown\u30a4\u30d9\u30f3\u30c8\u306e\u4e2d\u3067raycaster\u3092\u5b9f\u884c\u3002\n\n\n```javascript:javascript\nvar raycaster = new THREE.Raycaster(); \nvar mouse = new THREE.Vector2();\n\nwindow.addEventListener( 'mousedown', onDocumentMouseDown, false );\nfunction onDocumentMouseDown( event ) {\n\n\t// \u30a4\u30d9\u30f3\u30c8\u306e\u4f1d\u64ad\u306e\u7121\u52b9\u5316\n\tevent.preventDefault();\n\n\t// \u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u306e\u4f4d\u7f6e\u5ea7\u6a19\u306e\u53d6\u5f97\n\tmouse.x = ( event.clientX / window.innerWidth ) * 2 - 1; \n\tmouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\t\n\n\t// \u5149\u7dda\u3092\u767a\u5c04\n\traycaster.setFromCamera( mouse, camera );\n\t// \u5149\u7dda\u3068\u4ea4\u308f\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53ce\u96c6\n\tvar intersects = raycaster.intersectObjects( rayReceiveObjects );\n\n\t// \u9023\u60f3\u914d\u5217\u3092\u3068\u308a\u3060\u3059\n\tvar bookAry = {\n\t\t'\u706b\u82b1' : 'http://www.amazon.co.jp/dp/4163902309',\n\t\t'\u6d41' : 'http://www.amazon.co.jp/dp/4062194856',\n\t\t'\u671d\u304c\u6765\u308b' : 'http://www.amazon.co.jp/dp/4163902732',\n\t\t'\u738b\u3068\u30b5\u30fc\u30ab\u30b9' : 'http://www.amazon.co.jp/dp/4488027512',\n\t\t'\u541b\u306e\u81b5\u81d3\u3092\u305f\u3079\u305f\u3044' : 'http://www.amazon.co.jp/dp/4575239054'\n\t};\n\t\n\t// \u4ea4\u308f\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\uff11\u500b\u4ee5\u4e0a\u306e\u5834\u5408\n\tif ( intersects.length > 0 ) {\n\t\t// \u6700\u3082\u8fd1\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u540d\u524d\u3092\u30a2\u30e9\u30fc\u30c8\u8868\u793a\u3059\u308b\n\t\talert(intersects[0].object.name + \"\u3092\u3054\u8cfc\u5165\u3067\u3059\u306d\uff1f\");\n\t\tconsole.log(\"\u30ab\u30e1\u30e9\u4f4d\u7f6e\u5ea7\u6a19\u304b\u3089\u306e\u8ddd\u96e2\uff1a\" + intersects[0].distance);\n\t\tconsole.log(\"\u5149\u7dda\u3068\u306e\u4ea4\u5dee\u5ea7\u6a19(\" + intersects[0].point.x + \", \" + intersects[0].point.y + \", \" + intersects[0].point.z + \")\" );\n\t\tconsole.log(intersects[0]);\n\n\t\tfor(var i in bookAry){\n\t\t\tif (intersects[0].object.name == i) {\n\t\t\t\twindow.location.href = bookAry[i];\n\t\t\t}\n\t\t}\n\t}\n}\n```\n\n\n> \u53c2\u8003\n[three.js\u306b\u3088\u308bHTML5 3D\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30b9\u3008\u4e0a\u3009\u2015\u30d6\u30e9\u30a6\u30b6\u3067\u5b9f\u73fe\u3059\u308bOpenGL(WebGL)\u306e\u4e16\u754c](http://www.amazon.co.jp/three-js%E3%81%AB%E3%82%88%E3%82%8BHTML5-3D%E3%82%B0%E3%83%A9%E3%83%95%E3%82%A3%E3%83%83%E3%82%AF%E3%82%B9%E3%80%88%E4%B8%8A%E3%80%89%E2%80%95%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%81%A7%E5%AE%9F%E7%8F%BE%E3%81%99%E3%82%8BOpenGL-WebGL-%E3%81%AE%E4%B8%96%E7%95%8C-%E9%81%A0%E8%97%A4/dp/4877833242/ref=sr_1_1?ie=UTF8&qid=1456909415&sr=8-1&keywords=three+js)\n", "tags": ["three.js"]}