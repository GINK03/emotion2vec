{"tags": ["Scheme"], "context": " More than 1 year has passed since last update.\nnqueen.scm\n#!/usr/local/bin/gosh\n\n(define count 0)\n\n(define (solve? num ls)\n  (let loop ((ls ls)(n 1))\n    (cond\n      ((null? ls)#t)\n      ((= (abs (- num (car ls))) n)\n       #f)\n      (else (loop (cdr ls)(+ n 1))))))\n\n(define (check? lst)\n  (let loop ((lst lst))\n    (cond\n      ((null? (cdr lst))#t)\n      ((solve? (car lst) (cdr lst))\n       (loop (cdr lst)))\n      (else #f))))\n\n(define (queen lst)\n  (let loop ((lst lst)(result '()))\n    (if (null? lst)\n      (and (check? (reverse result))\n           (set! count (+ count 1))\n           (print (reverse result)))\n      (for-each (lambda(x)(loop (delete x lst) (cons x result))) lst)))\n  (display count)\n  (newline))\n\n(define (main args)\n  (display \">> \")(flush)\n  (let ((n (read)))\n    (queen (iota n 0))))\n\n\n\n\u5b9f\u884c\u4f8b\n\n.>> 5\n(0 2 4 1 3)\n(0 3 1 4 2)\n(1 3 0 2 4)\n(1 4 2 0 3)\n(2 0 3 1 4)\n(2 4 1 3 0)\n(3 0 2 4 1)\n(3 1 4 2 0)\n(4 1 3 0 2)\n(4 2 0 3 1)\n10\n\n```scheme:nqueen.scm\n#!/usr/local/bin/gosh\n\n(define count 0)\n\n(define (solve? num ls)\n  (let loop ((ls ls)(n 1))\n\t(cond\n\t  ((null? ls)#t)\n\t  ((= (abs (- num (car ls))) n)\n\t   #f)\n\t  (else (loop (cdr ls)(+ n 1))))))\n\n(define (check? lst)\n  (let loop ((lst lst))\n\t(cond\n\t  ((null? (cdr lst))#t)\n\t  ((solve? (car lst) (cdr lst))\n\t   (loop (cdr lst)))\n\t  (else #f))))\n\n(define (queen lst)\n  (let loop ((lst lst)(result '()))\n\t(if (null? lst)\n\t  (and (check? (reverse result))\n\t\t   (set! count (+ count 1))\n\t\t   (print (reverse result)))\n\t  (for-each (lambda(x)(loop (delete x lst) (cons x result))) lst)))\n  (display count)\n  (newline))\n\n(define (main args)\n  (display \">> \")(flush)\n  (let ((n (read)))\n\t(queen (iota n 0))))\n```\n\n#\u5b9f\u884c\u4f8b#\n>.>> 5\n>(0 2 4 1 3)\n>(0 3 1 4 2)\n>(1 3 0 2 4)\n>(1 4 2 0 3)\n>(2 0 3 1 4)\n>(2 4 1 3 0)\n>(3 0 2 4 1)\n>(3 1 4 2 0)\n>(4 1 3 0 2)\n>(4 2 0 3 1)\n>10"}