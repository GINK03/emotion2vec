{"context": " More than 1 year has passed since last update.\n\nSkype \u306e\u767a\u8a00\u5185\u5bb9\u3092\u8aad\u307f\u53d6\u308a\u305f\u3044\nSkype API \u7b49\u3082\u3042\u308b\u304c\u3082\u3063\u3068\u9ad8\u901f\u306b\u8aad\u307f\u305f\u3044\u3002\nSkype \u304c\u4f7f\u7528\u3057\u3066\u3044\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u9020\u3092\u3001\u624b\u5f53\u305f\u308a\u6b21\u7b2c\u30c7\u30fc\u30bf\u3092\u6f01\u308b\u3053\u3068\u306b\u3088\u308a\u89e3\u6790\u3057\u305f\u3002\n\nmain.db \u3092\u8aad\u3080\nLinux, Mac \u306b Skype \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3042\u308c\u3070\u3001\n/home/{Linux\u30e6\u30fc\u30b6\u540d}/.Skype/{Skype\u30e6\u30fc\u30b6\u540d}/main.db\n\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u3066\u3044\u308b\u306f\u305a\u3002\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f SQLite \u306e\u30d5\u30a1\u30a4\u30eb\u306a\u306e\u3067\u3001SQLite \u306e\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308a\u4e2d\u8eab\u3092\u8aad\u307f\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\nSQLite \u30b3\u30de\u30f3\u30c9\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070 yum \u7b49\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n# yum -y install sqlite\n\nsqlite3 \u30b3\u30de\u30f3\u30c9\u3067 main.db \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n$ sqlite3 /home/Hoge/.Skype/Fuga/main.db\nSQLite version 3.6.20\nEnter \".help\" for instructions\nEnter SQL statements terminated with a \";\"\nsqlite> \n\n\n\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\n.table \u30b3\u30de\u30f3\u30c9\u3067\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\nsqlite> .table\nAccounts          ChatMembers       DbMeta            SMSes\nAlerts            Chats             LegacyMessages    Transfers\nAppSchemaVersion  ContactGroups     MediaDocuments    VideoMessages\nCallMembers       Contacts          Messages          Videos\nCalls             Conversations     Participants      Voicemails\n\n\n\u30b3\u30f3\u30bf\u30af\u30c8\u4e00\u89a7\nsqlite> .schema Contacts\nCREATE TABLE Contacts (id INTEGER NOT NULL PRIMARY KEY, ..., skypename TEXT, ..., fullname TEXT, ...);\n......\n\n\nskypename \u2026 ID\nfullname \u2026 \u8868\u793a\u540d\n\nsqlite> SELECT skypename, fullname FROM Contacts LIMIT 10;\nkobayan-tokyo|k.kobayashi\nkobabot|\u3053\u3070\u307c\u3063\u3068\n......\n\n\n\u30c8\u30d4\u30c3\u30af\u4e00\u89a7\n\n\u3044\u308f\u3086\u308b\u300c\u7a93\u300d\u4e00\u89a7\u306f\u300cConversations\u300d\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\nsqlite> .schema Conversations\nCREATE TABLE Conversations (id INTEGER NOT NULL PRIMARY KEY, ..., identity TEXT, ..., displayname TEXT, ..., last_activity_timestamp INTEGER, ...);\n......\n\n\nidentity    \u2026 \u30c8\u30d4\u30c3\u30af\u8b58\u5225\u5b50\ndisplayname \u2026 \u8868\u793a\u540d\nlast_activity_timestamp \u2026 \u6700\u7d42\u66f4\u65b0\u6642\u523b\n\nsqlite> SELECT id, identity, displayname FROM Conversations ORDER BY last_activity_timestamp DESC LIMIT 10;\n1212|xxxxxx|\u7a931\n1213|yyyyyy|\u7a932\n1200|zzzzzz|\u7a933\n.......\n\n\n\u30c8\u30d4\u30c3\u30af\u5185\u767a\u8a00\u4e00\u89a7\nsqlite> .schema Messages\nCREATE TABLE Messages (id INTEGER NOT NULL PRIMARY KEY, ..., chatname TEXT, ..., from_dispname TEXT, ..., timestamp INTEGER, ..., body_xml TEXT, ...);\n....\n\n\nchatname \u2026 \u30c8\u30d4\u30c3\u30af\u8b58\u5225\u5b50\nfrom_dispname \u2026 \u767a\u8a00\u8005\ntimestamp \u2026 \u767a\u8a00\u6642\u523b\nbody_xml \u2026 \u767a\u8a00\u5185\u5bb9\n\n\u305f\u3068\u3048\u3070\u4e0a\u8ff0\u306e\u300c\u7a931\u300d(identity = 'xxxxxx')\u306e\u767a\u8a00\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u305f\u3051\u308c\u3070\u3001\nsqlite> SELECT timestamp, from_dispname, body_xml FROM Messages WHERE chatname = 'xxxxxx' ORDER BY timestamp LIMIT 5;\n1434871603|kobayashi|hello\n1434871611|kobayashi|test\n1434871640|kobayashi|testtest\n1434871640|kobayashi|\u3053\u3093\u306b\u3061\u306f\n1434871641|kobayashi|g\n\n\u306e\u3088\u3046\u306a\u611f\u3058\u3002\n\n\u5fdc\u7528\n\u4eca\u56de\u306e\u89e3\u6790\u7d50\u679c\u3092\u5143\u306b\u3001Skype \u306e\u767a\u8a00\u5185\u5bb9\u3092\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u95b2\u89a7\u30fb\u691c\u7d22\u3067\u304d\u308b qskype \u3068\u3044\u3046\u3082\u306e\u3092\u4f5c\u3063\u3066\u307f\u305f\u3002\u3053\u308c\u306e\u5b8c\u6210\u9593\u8fd1\u306b Skype for Web \u304c\u767a\u8868\u3055\u308c\u3066\u3057\u307e\u3063\u305f\u304c\u4ed6\u610f\u306f\u7121\u3044\u3002\n\n\nkobake/qskype\n\n## Skype \u306e\u767a\u8a00\u5185\u5bb9\u3092\u8aad\u307f\u53d6\u308a\u305f\u3044\nSkype API \u7b49\u3082\u3042\u308b\u304c\u3082\u3063\u3068\u9ad8\u901f\u306b\u8aad\u307f\u305f\u3044\u3002\nSkype \u304c\u4f7f\u7528\u3057\u3066\u3044\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u9020\u3092\u3001\u624b\u5f53\u305f\u308a\u6b21\u7b2c\u30c7\u30fc\u30bf\u3092\u6f01\u308b\u3053\u3068\u306b\u3088\u308a\u89e3\u6790\u3057\u305f\u3002\n\n## main.db \u3092\u8aad\u3080\nLinux, Mac \u306b Skype \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3042\u308c\u3070\u3001\n```/home/{Linux\u30e6\u30fc\u30b6\u540d}/.Skype/{Skype\u30e6\u30fc\u30b6\u540d}/main.db```\n\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u3066\u3044\u308b\u306f\u305a\u3002\n\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f SQLite \u306e\u30d5\u30a1\u30a4\u30eb\u306a\u306e\u3067\u3001SQLite \u306e\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308a\u4e2d\u8eab\u3092\u8aad\u307f\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n## SQLite \u30b3\u30de\u30f3\u30c9\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070 yum \u7b49\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n```\n# yum -y install sqlite\n```\n\nsqlite3 \u30b3\u30de\u30f3\u30c9\u3067 main.db \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n\n```\n$ sqlite3 /home/Hoge/.Skype/Fuga/main.db\nSQLite version 3.6.20\nEnter \".help\" for instructions\nEnter SQL statements terminated with a \";\"\nsqlite> \n```\n\n## \u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\n.table \u30b3\u30de\u30f3\u30c9\u3067\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n```\nsqlite> .table\nAccounts          ChatMembers       DbMeta            SMSes\nAlerts            Chats             LegacyMessages    Transfers\nAppSchemaVersion  ContactGroups     MediaDocuments    VideoMessages\nCallMembers       Contacts          Messages          Videos\nCalls             Conversations     Participants      Voicemails\n```\n\n## \u30b3\u30f3\u30bf\u30af\u30c8\u4e00\u89a7\n```\nsqlite> .schema Contacts\nCREATE TABLE Contacts (id INTEGER NOT NULL PRIMARY KEY, ..., skypename TEXT, ..., fullname TEXT, ...);\n......\n```\n\n- skypename \u2026 ID\n- fullname \u2026 \u8868\u793a\u540d\n\n```\nsqlite> SELECT skypename, fullname FROM Contacts LIMIT 10;\nkobayan-tokyo|k.kobayashi\nkobabot|\u3053\u3070\u307c\u3063\u3068\n......\n```\n\n## \u30c8\u30d4\u30c3\u30af\u4e00\u89a7\n![Image9.png](https://qiita-image-store.s3.amazonaws.com/0/25555/18973a6e-eb34-80ef-d60c-551641d63bcb.png)\n\n\u3044\u308f\u3086\u308b\u300c\u7a93\u300d\u4e00\u89a7\u306f\u300cConversations\u300d\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n```\nsqlite> .schema Conversations\nCREATE TABLE Conversations (id INTEGER NOT NULL PRIMARY KEY, ..., identity TEXT, ..., displayname TEXT, ..., last_activity_timestamp INTEGER, ...);\n......\n```\n\n- identity    \u2026 \u30c8\u30d4\u30c3\u30af\u8b58\u5225\u5b50\n- displayname \u2026 \u8868\u793a\u540d\n- last_activity_timestamp \u2026 \u6700\u7d42\u66f4\u65b0\u6642\u523b\n\n```\nsqlite> SELECT id, identity, displayname FROM Conversations ORDER BY last_activity_timestamp DESC LIMIT 10;\n1212|xxxxxx|\u7a931\n1213|yyyyyy|\u7a932\n1200|zzzzzz|\u7a933\n.......\n```\n\n\n## \u30c8\u30d4\u30c3\u30af\u5185\u767a\u8a00\u4e00\u89a7\n```\nsqlite> .schema Messages\nCREATE TABLE Messages (id INTEGER NOT NULL PRIMARY KEY, ..., chatname TEXT, ..., from_dispname TEXT, ..., timestamp INTEGER, ..., body_xml TEXT, ...);\n....\n```\n\n- chatname \u2026 \u30c8\u30d4\u30c3\u30af\u8b58\u5225\u5b50\n- from_dispname \u2026 \u767a\u8a00\u8005\n- timestamp \u2026 \u767a\u8a00\u6642\u523b\n- body_xml \u2026 \u767a\u8a00\u5185\u5bb9\n\n\u305f\u3068\u3048\u3070\u4e0a\u8ff0\u306e\u300c\u7a931\u300d(identity = 'xxxxxx')\u306e\u767a\u8a00\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u305f\u3051\u308c\u3070\u3001\n\n```\nsqlite> SELECT timestamp, from_dispname, body_xml FROM Messages WHERE chatname = 'xxxxxx' ORDER BY timestamp LIMIT 5;\n1434871603|kobayashi|hello\n1434871611|kobayashi|test\n1434871640|kobayashi|testtest\n1434871640|kobayashi|\u3053\u3093\u306b\u3061\u306f\n1434871641|kobayashi|g\n```\n\n\u306e\u3088\u3046\u306a\u611f\u3058\u3002\n\n\n## \u5fdc\u7528\n\n\u4eca\u56de\u306e\u89e3\u6790\u7d50\u679c\u3092\u5143\u306b\u3001Skype \u306e\u767a\u8a00\u5185\u5bb9\u3092\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u95b2\u89a7\u30fb\u691c\u7d22\u3067\u304d\u308b [qskype](https://github.com/kobake/qskype) \u3068\u3044\u3046\u3082\u306e\u3092\u4f5c\u3063\u3066\u307f\u305f\u3002\u3053\u308c\u306e\u5b8c\u6210\u9593\u8fd1\u306b [Skype for Web](https://web.skype.com/) \u304c\u767a\u8868\u3055\u308c\u3066\u3057\u307e\u3063\u305f\u304c\u4ed6\u610f\u306f\u7121\u3044\u3002\n\n![qskype.png](https://qiita-image-store.s3.amazonaws.com/0/25555/70412402-30f9-ba70-5449-ed8cfc167764.png)\n\n- [kobake/qskype](https://github.com/kobake/qskype)\n\n", "tags": ["skype", "SQLite3"]}