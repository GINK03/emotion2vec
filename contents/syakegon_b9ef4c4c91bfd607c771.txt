{"context": "2016/6/6\u6539\u8a02\n\n\u95a2\u6570\n\n\u30e1\u30e2\u5316\n\u95a2\u6570\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306a\u306e\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6301\u3066\u307e\u3059\u3002\u305d\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u305d\u306e\u95a2\u6570\u306e\u7d50\u679c\u3092\u683c\u7d0d\u3057\u3066\u304a\u3051\u3070\u3001\u3044\u3061\u3044\u3061\u6bce\u56de\u8a08\u7b97\u3057\u306a\u304f\u3066\u3082\u5024\u3068\u3057\u3066\u683c\u7d0d\u3057\u3066\u3044\u308b\u3082\u306e\u3092\u8aad\u307f\u8fbc\u3080\u3060\u3051\u306a\u306e\u3067\u3001\u901f\u5ea6\u304c\u901f\u304f\u306a\u308a\u307e\u3059\u3088\u306d\u3001\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\u8a08\u7b97\u304c\u96e3\u3057\u304f\u3001\u91cd\u305f\u3044\u3082\u306e\u3067\u3042\u308c\u3070\u3042\u308b\u307b\u3069\u52b9\u529b\u3092\u767a\u63ee\u3057\u307e\u3059\u3002\u4eca\u56de\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3067\u306f\u96e3\u3057\u3044\u8a08\u7b97\u306f\u3055\u305b\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u3069\u3046\u3044\u3046\u3082\u306e\u304b\u30a4\u30e1\u30fc\u30b8\u306f\u3064\u3051\u3089\u308c\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30e1\u30e2\u5316\n//\u95a2\u6570\u5f0f\u5b9a\u7fa9\nvar fsFunc = function(val) {\n\n    // \u5909\u6570\u5ba3\u8a00\u3068\u5f15\u6570\u306e\u5024\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u30ad\u30fc\u3068\u3057\u3066\u4f7f\u3046\n    var cacheKey = val,\n        result;\n\n    //\u3053\u306e\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306ecache\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u30ad\u30fc\u304c\u306a\u3044\u5834\u5408\n    if (!fsFunc.cache[cacheKey]) {\n\n        //\u8a08\u7b97\u7d50\u679c\u3092\u5165\u308c\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u751f\u6210\n        result = {};\n\n        //0-1000\u307e\u3067\u7e70\u308a\u8fd4\u3059\n        for (var i = 0; i <= 1000; i += 1) {\n\n            //\u8b0e\u306e\u8a08\u7b97\u5f0f\uff08\u306a\u3093\u3067\u3082\u826f\u3044\uff09\u3092\u884c\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ad\u30fc:i\u3001\u5024:\u8a08\u7b97\u7d50\u679c\u3068\u3057\u3066\u683c\u7d0d\n            result[i] = i * val * 26 * 234 / 47 + 3; \n\n        }\n\n        //\u3053\u306e\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306ecache\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u8a08\u7b97\u7d50\u679c\u3092\u8ffd\u52a0\n        fsFunc.cache[cacheKey] = result;\n\n        //\u30b3\u30f3\u30bd\u30fc\u30eb\u306bcache\u306b\u65b0\u305f\u306b\u8ffd\u52a0\u3055\u308c\u305f\u3088\u3068\u901a\u77e5\n        console.log(cacheKey + \":\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u8ffd\u52a0\");\n\n    }\n\n    //\u4eca\u304b\u3089\u8fd4\u3059\u3088\u3068\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\n    console.log(cacheKey + \":\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\")\n\n    //\u95a2\u6570\u306e\u623b\u308a\u5024\u306b\u30ad\u30fc:cacheKey\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\n    return fsFunc.cache[cacheKey];\n};\n\nconsole.log(\"\u3053\u3053\u304b\u3089\u306f\u3058\u307e\u308b\");\n//\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u8a18\u61b6\u9818\u57df\nfsFunc.cache = {};\n\n//1\u3092\u30ad\u30fc\u3068\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u751f\u6210\nconsole.log(fsFunc(1)); //{0: 3, 1: 132.4468085106383, 2: 261.8936170212766...\n\n//1\u306e\u8fd4\u3063\u3066\u6765\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4e0e\u3048\u3066\u5024\u3092\u53d6\u5f97\nconsole.log(fsFunc(1)[1]); // 132.4468085106383\nconsole.log(fsFunc(1)[2]); // 261.8936170212766\n\n//5\u3092\u30ad\u30fc\u3068\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u751f\u6210\u3057\u3066\u305d\u306e\u307e\u307e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4e0e\u3048\u3066\u5024\u3092\u53d6\u5f97\nconsole.log(fsFunc(5)[1]); // 650.2340425531914\n\n//1\u3092\u518d\u5ea6\u547c\u3073\u51fa\u3057\u3066\u307f\u308b\nconsole.log(fsFunc(1)[1]); // 132.4468085106383\n\n\n\n\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\n\n\n\u89e3\u8aac\n\n1\u5ea6\u3060\u3051\u751f\u6210\u3001\u6b21\u304b\u3089\u306f\u518d\u5229\u7528\n\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5185\u3067\u306f\u3001\u95a2\u6570\u304c\u547c\u3070\u308c\u305f\u969b\u306b\u305d\u306e\u5f15\u6570\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u30ad\u30fc\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u5f8c\u3001\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306ecache\u306b\u5148\u307b\u3069\u306e\u6587\u5b57\u5217\u3092\u30ad\u30fc\u306b\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u7121\u3044\u304b\u3092\u63a2\u3057\u3001\u7121\u3051\u308c\u3070result\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3057\u3001\u8a08\u7b97\u7d50\u679c\u3092result\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5165\u308c\u3066\u3044\u304d\u3001\u305d\u306e\u7d50\u679c\u3092\u5148\u307b\u3069\u306e\u6587\u5b57\u5217\u3092\u30ad\u30fc\u3068\u3057\u3066cache\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u3053\u306e\u969b\u306b\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u8ffd\u52a0\u3057\u305f\u65e8\u3092\u4f1d\u3048\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u51fa\u529b\u7d50\u679c\u3067\u3069\u3046\u3044\u3046\u52d5\u304d\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u3092\u898b\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002\n\u7d9a\u3051\u3066\u3001cache\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u5148\u307b\u3069\u306e\u6587\u5b57\u5217\u3092\u30ad\u30fc\u306b\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3053\u306e\u95a2\u6570\u306e\u623b\u308a\u5024\u3068\u3057\u3066\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u306b\u3082\u5148\u307b\u3069\u306e\u6587\u5b57\u5217\u306b\u5bfe\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\u65e8\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u305f\u6642\u3001cache\u5185\u306b\u5f15\u6570\u306e\u6587\u5b57\u5217\u3092\u30ad\u30fc\u306b\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5b58\u5728\u3057\u305f\u5834\u5408\u306f\u3001\u305d\u3061\u3089\u3092\u8fd4\u3059\u3060\u3051\u3068\u3044\u3046\u51e6\u7406\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u90e8\u5206\u304c\u3053\u306e\u30e1\u30e2\u5316\u306e\u4e00\u756a\u306e\u5229\u70b9\u3067\u3001\u751f\u6210\u306f1\u5ea6\u3060\u3051\u3001\u4f7f\u7528\u306f\u5909\u6570\u306b\u683c\u7d0d\u3055\u308c\u305f\u3082\u306e\u3092\u4f7f\u3046\u3060\u3051\u3001\u3068\u3044\u3046\u4ed5\u7d44\u307f\u306e\u918d\u9190\u5473\u3060\u3068\u8a00\u3048\u308b\u3067\u3057\u3087\u3046\u3002\n\n\u6d41\u308c\u3092\u8aad\u3080\n\u95a2\u6570\u5916\u306e\u30b3\u30fc\u30c9\u306e\u90e8\u5206\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u7d50\u679c\u306e\u753b\u50cf\u304c\u793a\u3059\u3088\u3046\u306b\u547c\u3073\u51fa\u3057\u306e\u6d41\u308c\u3068\u3057\u3066\u306f\u3001\n\n\u95a2\u6570\u3092\u521d\u3081\u3066\u547c\u3073\u51fa\u3057\u305f\u3089\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u8ffd\u52a0\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\u4e8b\u304c\u884c\u308f\u308c\u308b\n2\u5ea6\u3081\u306e\u547c\u3073\u51fa\u3057\u3067\u306f\u8ffd\u52a0\u306f\u884c\u308f\u308c\u305a\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u8fd4\u3063\u3066\u304f\u308b\u3060\u3051\u3068\u306a\u3063\u3066\u3044\u308b\n\u65b0\u3057\u3044\u5225\u306e\u5f15\u6570\u540d\u3067\u95a2\u6570\u3092\u547c\u3073\u51fa\u305b\u3070\u3001\u65b0\u305f\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u8ffd\u52a0\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\u3068\u3044\u3046\u4e8b\u304c\u884c\u308f\u308c\u3066\u3044\u308b\n\u307e\u305f\u306f\u3058\u3081\u306e\u5f15\u6570\u3067\u547c\u3073\u51fa\u3057\u305f\u3089\u306f\u3058\u3081\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u8fd4\u3055\u308c\u3066\u3044\u308b\n\n\u3068\u3044\u3063\u305f\u70b9\u304c\u6319\u3052\u3089\u308c\u307e\u3059\u3002\n\u5f15\u6570\u306b\u5024\u3092\u4e0e\u3048\u3066\u305d\u306e\u5024\u306b\u5bfe\u5fdc\u3057\u305f\u8a08\u7b97\u304c\u884c\u308f\u308c\u3066\u7d50\u679c\u3092\u305d\u308c\u305e\u308c\u683c\u7d0d\u3057\u3066\u304a\u304f\u3068\u3044\u3046\u539f\u7406\u306b\u3059\u308c\u3070\u7d20\u6575\u3067\u3057\u3087\u3046\u3002\n\n\u8a2d\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\u95a2\u6570\u306e\u5f15\u6570\u304c\u306f\u3058\u3081\u306f\u5c11\u306a\u3081\u3067\u4f5c\u3063\u3066\u3044\u305f\u3082\u306e\u306e\u3001\u3042\u308c\u3084\u3053\u308c\u3084\u5b9f\u88c5\u3057\u3066\u3044\u304f\u3046\u3061\u306b\u300c\u3053\u306e\u5024\u3082\u4f7f\u3044\u305f\u3044\u3001\u3053\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3082\u6b32\u3057\u3044\u300d\u3068\u3044\u3063\u305f\u3088\u3046\u306a\u4e8b\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u305d\u306e\u969b\u306b\u3001\u8a2d\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u3066\u3001\u305d\u308c\u3092\u5f15\u6570\u306b\u6e21\u3059\u3053\u3068\u3067\u3001\u308f\u3056\u308f\u3056\u5f15\u6570\u306e\u69cb\u6210\u3092\u5909\u3048\u306a\u304f\u3066\u3082\u3044\u3044\u3088\u306d\u3001\u3063\u3066\u8a71\u3067\u3059\u306d\u3002\n\n\u8a2d\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u7528\u3057\u306a\u3044\u95a2\u6570\u306e\u4f8b\nfunction addPerson(name,age,gender,address){\n    // \u2191\u5f15\u6570\u306e\u6570\u304c\u591a\u3044\n}\n\n\n\n\n\u8a2d\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4f7f\u7528\u3057\u305f\u4e00\u4f8b\n//Person\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5b9a\u7fa9\nvar Person = function (conf){\n\n  //new\u3057\u5fd8\u308c\u9632\u6b62\n  if(!(this instanceof Person)){\n    return new Person(conf);\n  };\n\n  //\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u8a2d\u5b9a\n    this.name = conf.name || \"\u540d\u7121\u3057\";\n    this.age = conf.age || 0;\n    this.gender = conf.gender || \"\u672a\u56de\u7b54\";\n    this.address = conf.address || \"\u672a\u56de\u7b54\";\n}\n\n\n//\u65b0\u3057\u304f\u751f\u6210\u3059\u308bPerson\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u521d\u671f\u5024\u3092\u8a2d\u5b9a\nvar conf = {\n    name:\"Taro\",\n    age:20,\n    gender:\"man\"\n}\n\n//\u65b0\u3057\u3044person\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u751f\u6210\nvar taro = Person(conf)\n;\nconsole.dir(taro);\n//Person {name: \"Taro\", age: 20, gender: \"man\", address: \"\u672a\u56de\u7b54\"}\n\n\n\u30dd\u30a4\u30f3\u30c8\u306f\u3001conf\u8a2d\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5185\u3067\u3001address\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u70b9\u3067\u3059\u3002Person\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5185\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u8a2d\u5b9a\u3067\u3001address\u304c\u3042\u308b\u5834\u5408\u3068\u306a\u3044\u5834\u5408\u3067\u51e6\u7406\u3092\u66f8\u3044\u3066\u304a\u3051\u3070\u3001\u5f15\u6570\u306e\u6570\u306f\u6c17\u306b\u305b\u305a\u306b\u5897\u3084\u3057\u305f\u308a\u6d88\u3057\u305f\u308a\u51fa\u6765\u307e\u3059\u3002\n\n\u95a2\u6570\u306e\u9069\u7528\n\u4eca\u307e\u3067\u95a2\u6570\u306f\u300c\u547c\u3073\u51fa\u3059\u3082\u306e\u300d\u3068\u8003\u3048\u3066\u304d\u307e\u3057\u305f\u304c\u3001\u95a2\u6570\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\uff08\u3053\u308c\u304c\u4f55\u306a\u3093\u3060\u308d\u3046\uff09\u306e\u5834\u5408\u306f\u300c\u9069\u7528\u3059\u308b\u3082\u306e\u300d\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002\n\n\u95a2\u6570\u306e\u9069\u7528\n//\u95a2\u6570\u306e\u5b9a\u7fa9\nvar sayHi = function(who,what) {\n    return \"Hello\" + (who ? \",\" + who : \"\") + (what ? \"'s '\" + what : \"\") + \"!\";\n\n};\n\n//\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\nconsole.log(sayHi()); // Hello\nconsole.log(sayHi(\"Taro\")); // Hello,Taro!\nconsole.log(sayHi(\"Taro\",\"pen\"));// Hello,Taro's pen!\n\n//\u95a2\u6570\u3092\u9069\u7528 apply\u306e\u5834\u5408\nconsole.log(sayHi.apply(null, [\"Taro\"])); //Hello,Taro!\nconsole.log(sayHi.apply(null, [\"Taro\",\"pen\"])); //Hello,Taro's pen!\n\n//\u95a2\u6570\u3092\u9069\u7528 call\u306e\u5834\u5408\nconsole.log(sayHi.call(null, \"Taro\")); // Hello,Taro!\nconsole.log(sayHi.call(null, \"Taro\",\"world\")); // Hello,Taro!\n\n\n\napply()\napply()\u306f\u95a2\u6570\u3092\u9069\u7528\u3055\u305b\u308b\u70ba\u306b\u4f7f\u3046\u95a2\u6570\u3067\u3001\u5f15\u6570\u304c2\u3064\u3042\u308a\u307e\u3059\u3002\n1\u3064\u3081\u306f\u95a2\u6570\u5185\u306ethis\u304c\u6307\u3059\u3082\u306e\u3068\u306a\u308a\u307e\u3059\u3002null\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u95a2\u6570\u5185\u306ethis\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6307\u3059\u4e8b\u3068\u306a\u308a\u307e\u3059\u3002\n2\u3064\u76ee\u306f\u95a2\u6570\u5185\u3067\u4f7f\u7528\u3067\u304d\u308b\u5f15\u6570\u306e\u914d\u5217\u3068\u306a\u308a\u307e\u3059\u3002\u5f15\u6570\u306e\u914d\u5217\u306f\u3001\u5f15\u6570\u304c\u6307\u5b9a\u3055\u308c\u305f\u9806\u756a\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\n\ncall()\napply()\u95a2\u6570\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30b7\u30e5\u30ac\u30fc\uff08\u5225\u306e\u66f8\u304d\u65b9\u304c\u3067\u304d\u308b\u3082\u306e\uff09\u3067\u3042\u308a\u30012\u3064\u76ee\u306e\u5f15\u6570\u304c\u914d\u5217\u3067\u306a\u304f\u3001\u5024\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u305d\u306e\u3082\u306e\u3092\u6307\u5b9a\u3059\u308b\u3082\u306e\u3068\u306a\u308a\u307e\u3059\u3002\u5b9f\u8cea\u3001\u3067\u304d\u308b\u3053\u3068\u306f\u3000apply\u3068\u540c\u3058\u3067\u3059\u3002\n\n\u9069\u7528\u3068\u306f\n\u4ed6\u4eba\u306e\u6301\u3063\u3066\u3044\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u3084\u30e1\u30bd\u30c3\u30c9\u3092\u81ea\u5206\u306e\u3082\u306e\u3068\u3057\u5229\u7528\u3067\u304d\u308b\u30e1\u30bd\u30c3\u30c9\u3068\u3044\u3046\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u8aac\u660e\u306f\u307e\u305f\u5f8c\u306e\u7ae0\u306b\u51fa\u3066\u304f\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u3053\u308c\u4ee5\u4e0a\u306e\u6df1\u6398\u308a\u306f\u3057\u306a\u3044\u3053\u3068\u3068\u3057\u307e\u3059\uff08\u7d42\u308f\u3089\u306a\u3044\u306e\u3067(\u00b4\u03b5\uff40\uff1b)\uff09\n\n\u9069\u7528\u3092\u4f7f\u3063\u305f\u4f8b\n//\u540d\u524d\u30d7\u30ed\u30d1\u30c6\u30a3\u3060\u3051\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\nvar charaName = function(name){\n  this.name = name;\n}\n\n//\u5e74\u9f62\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u5e74\u9f62\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\nvar charaAge = function(age){\n  this.age = age;\n\n  this.getAge = function (){\n    return (this.name ? this.name + \" / \" : \"\") + this.age;\n  };\n};\n\n//charaName\u3092\u57fa\u3068\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u751f\u6210\nvar onchan = new charaName(\"onchan\");\n\n//charaAge\u3092\u57fa\u3068\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u751f\u6210\nvar nochan = new charaAge(10);\n\nconsole.dir(onchan); //charaName {name: \"onchan\"}\n\n//charaAge\u3092charaName\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3042\u308bonchan\u306b\u9069\u7528\ncharaAge.call(onchan,10);\n\n//\u9069\u7528\u5f8c\u306fcharaAge\u306e\u6301\u3064\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u30e1\u30bd\u30c3\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u308b\nconsole.dir(onchan); //charaName {name: \"onchan\", age: 10, getAge: function}\n\n//charaAge\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u57fa\u306enochan\u306f\u540d\u524d\u304c\u7121\u3044\u307e\u307e\nconsole.dir(nochan); //charaAge {age: 10, getAge: function}\n\n//onchan\u306b\u306f\u5e74\u9f62\u304c\u51fa\u529b\u3067\u304d\u308b\nconsole.log(onchan.getAge()); //onchan / 10\n\n\n\n\u3068\u3044\u3046\u4e8b\u3067\u3001\u95a2\u6570\u306f\u9069\u7528\u3059\u308b\u3082\u306e\u3001\u3068\u3044\u3046\u8a71\u3067\u3057\u305f\u3002\u3088\u304f\u3088\u304f\u30ab\u30ea\u30fc\u5316\u3068\u8a71\u304c\u4e00\u7dd2\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u304c\u3061\u306a\u306e\u3067\u3001\u5206\u3051\u3066\u8003\u3048\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u30ab\u30ea\u30fc\u5316\n\n\u30ab\u30ea\u30fc\u5316 (currying, \u30ab\u30ea\u30fc\u5316\u3055\u308c\u305f=curried) \u3068\u306f\u3001\u8907\u6570\u306e\u5f15\u6570\u3092\u3068\u308b\u95a2\u6570\u3092\u3001\u5f15\u6570\u304c\u300c\u3082\u3068\u306e\u95a2\u6570\u306e\u6700\u521d\u306e\u5f15\u6570\u300d\u3067\u623b\u308a\u5024\u304c\u300c\u3082\u3068\u306e\u95a2\u6570\u306e\u6b8b\u308a\u306e\u5f15\u6570\u3092\u53d6\u308a\u7d50\u679c\u3092\u8fd4\u3059\u95a2\u6570\u300d\u3067\u3042\u308b\u3088\u3046\u306a\u95a2\u6570\u306b\u3059\u308b\u3053\u3068\uff08\u3042\u308b\u3044\u306f\u305d\u306e\u95a2\u6570\u306e\u3053\u3068\uff09\u3067\u3042\u308b\u3002\n\u51fa\u5178:Wikipedia\n\n\u8a00\u8449\u306e\u610f\u5473\u3084\u3044\u308d\u3093\u306a\u60c5\u5831\u3092\u53c2\u8003\u306b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u30ab\u30ea\u30fc\u5316\u7528HTML\n<!DOCTYPE html>\n<html lang=\"ja\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>js</title>\n    <style>\n        div#container:after {\n            clear: both;\n        }\n\n        div#container div.box {\n            float: left;\n        }\n    </style>\n</head>\n\n<body>\n    <div id=\"container\">\n        <div class=\"box\">\u4eca\u65e5\u306e\u5929\u6c17\u306f\u6674\u308c\u3067\u3057\u3087\u3046\u3002</div>\n        <div class=\"box\">\u660e\u65e5\u306e\u5929\u6c17\u306f\u66c7\u308a\u3067\u3057\u3087\u3046\u3002</div>\n        <div class=\"box\">\u4eca\u65e5\u306e\u904b\u52e2\u306f\u5409\u3067\u3057\u3087\u3046\u3002</div>\n        <div class=\"box\">\u660e\u65e5\u306e\u904b\u52e2\u306f\u660e\u65e5\u767a\u8868\u3055\u308c\u307e\u3059\u3002</div>\n        <div class=\"box\">\u30af\u30e9\u30c3\u30ab\u30fc\u3060\u3051\u3058\u3083\u6d41\u77f3\u306b\u304a\u8179\u304c\u7a7a\u304f</div>\n        <div class=\"box\">\u660e\u65e5\u306f\u30d1\u30f3\u3092\u98df\u3079\u3088\u3046\u3002</div>\n    </div>\n</body>\n<script type=\"text/javascript\" src=\"js-currytest.js\">\n</script>\n\n</html>\n\n\n\u30ab\u30ea\u30fc\u5316\u3057\u305f\u95a2\u6570\u306b\u90e8\u5206\u9069\u7528\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\njs-currytest.js\n// ====\u30ab\u30ea\u30fc\u5316\u3055\u308c\u305f\u95a2\u6570 ====//\n\n/**\n * \u8981\u7d20\u306eHTML\u5185\u306b\u6307\u5b9a\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u308b\u6642\u306b\u8981\u7d20\u304b\u305d\u306ehtml\u81ea\u4f53\u3092\u8fd4\u3059\u95a2\u6570\uff08\u30ab\u30ea\u30fc\u5316\u7528\uff09\n * @param {boolean} elem - \u8fd4\u3063\u3066\u304f\u308b\u914d\u5217\u306e\u4e2d\u8eab\u3092\u6307\u5b9a\u3002 true - \u8981\u7d20\u81ea\u4f53, false - HTML\u81ea\u4f53\n * @param {NodeList} targets - \u691c\u7d22\u5bfe\u8c61\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u914d\u5217\n * @param {string} str - \u691c\u7d22\u6587\u5b57\u5217\n */\nfunction searchTextByElements(elem, targets, str) {\n\n    //searchTextByElements\u306e\u623b\u308a\u5024\u306b\u8a2d\u5b9a\u3055\u308c\u308b\u95a2\u6570\n    return function(targets) {\n\n        //searchTextByElements\u306e\u623b\u308a\u5024\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u95a2\u6570\u3092\u547c\u3093\u3060\u6642\u306e\u623b\u308a\u5024\u306b\u8fd4\u3055\u308c\u308b\u95a2\u6570\n        return function(str) {\n\n            //\u8fd4\u3059\u914d\u5217\u3092\u521d\u671f\u5316\n            var results = [];\n\n            //\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u6570\u3060\u3051\u7e70\u308a\u8fd4\u3059\n            for (var i = 0, max = targets.length; i < max; i += 1) {\n\n                //\u8981\u7d20\u5185\u306e\u6587\u5b57\u5217\u306b\u691c\u7d22\u6587\u5b57\u304c\u3042\u308b\u304b\u3069\u3046\u304b\n                if (targets[i].innerHTML.indexOf(str) > -1) {\n\n                    //elem\u306e\u5024\u3092\u898b\u3066\u6761\u4ef6\u5206\u5c90\n                    if (elem) {\n                        results[results.length] = targets[i]; //\u8981\u7d20\u3092\u8fd4\u3059\n                    } else {\n                        results[results.length] = targets[i].innerHTML; //HTML\u5185\u306e\u6587\u5b57\u3092\u8fd4\u3059\n                    }\n                }\n            }\n            //\u4f5c\u6210\u3057\u305f\u914d\u5217\u3092\u8fd4\u3059\n            return results;\n        }\n    }\n}\n\n//\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u8981\u7d20\u3092\u53d6\u5f97\nvar tgt = document.querySelectorAll(\"div#container div.box\");\n\n//\u5168\u3066\u306e\u5f15\u6570\u3067\u9069\u7528\nconsole.dir(searchTextByElements(true)(tgt)(\"\u660e\u65e5\"));\n\n\n// ==== \u3053\u3053\u304b\u3089\u90e8\u5206\u9069\u7528 ==== //\n\n\n/* elem\u306e\u307f\u3092\u9069\u7528\u3057\u305f\u65b0\u305f\u306a\u95a2\u6570getElementsBySearch\u3092\u751f\u6210\u3002\n   \u5f15\u6570\u304ctrue\u306a\u3089\u8981\u7d20\u305d\u306e\u3082\u306e\u3092\u8fd4\u3059\u3088\u3046\u306b\u3001false\u306a\u3089\u8981\u7d20\u306eHTML\u306e\u6587\u304c\u8fd4\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u308b */\nvar getElementsBySearch = searchTextByElements(true);\n\n\n/* \u5bfe\u8c61\u8981\u7d20\u3092\u6307\u5b9a\u3057\u305f\u65b0\u305f\u306a\u95a2\u6570getElementsByBoxes\u3092\u751f\u6210\n   \u3053\u306e\u5f15\u6570\u3092\u81ea\u7531\u306b\u5909\u3048\u308b\u4e8b\u3067\u691c\u7d22\u5bfe\u8c61\u3092\u5909\u3048\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3000*/\nvar getElementsByBoxes = getElementsBySearch(tgt);\n\n//\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092getElementsByBoxes\u306b\u4e0e\u3048\u3066\u691c\u7d22\u7d50\u679c\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u8868\u793a\nconsole.dir(getElementsByBoxes(\"\u660e\u65e5\"));\nconsole.dir(getElementsByBoxes(\"\u4eca\u65e5\"));\n\n//\u3061\u306a\u307f\u306belem\u3092false\u306b\u3057\u305f\u6642\u306e\u7d50\u679c\nconsole.dir(searchTextByElements(false)(tgt)(\"\u660e\u65e5\"));\n\n\n\n\n\u89e3\u8aac\n\u89e3\u8aac\u306b\u3042\u305f\u308a\u3001\u5148\u7acb\u3063\u3066\u8a00\u3063\u3066\u304a\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u306e\u30ab\u30ea\u30fc\u5316\u3067\u3059\u304c\u3001\u300c\u95a2\u6570\u306e\u4e00\u3064\u76ee\u306e\u5f15\u6570\u3092\u4e0e\u3048\u3066\u3001\u6b8b\u308a\u306e\u5f15\u6570\u3092\u6301\u3063\u305f\u95a2\u6570\u3092\u8fd4\u3059\u300d\u3068\u3044\u3046\u98a8\u306b\u4f5c\u308a\u307e\u3057\u305f\u3002Wikipedia\u306b\u306f\u300c\u3082\u3068\u306e\u95a2\u6570\u306e\u6b8b\u308a\u306e\u5f15\u6570\u3092\u53d6\u308a\u7d50\u679c\u3092\u8fd4\u3059\u95a2\u6570\u300d\u3068\u3042\u308a\u3001\u7d50\u679c\u3092\u8fd4\u3059\u95a2\u6570\u3068\u3057\u3066\u306f\u6700\u5f8c\u306e\u5f15\u6570\u307e\u3067\u547c\u3070\u306a\u3044\u3068\u305d\u3046\u306f\u306a\u3089\u306a\u3044\u306e\u3067\u3001\u30ab\u30ea\u30fc\u5316\u3068\u3057\u3066\u306f\u3069\u3046\u306a\u306e\u304b\u306e\u5224\u65ad\u304c\u3067\u304d\u3066\u3044\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067\u3059\u304c\u3001\u672c\u6765\u306e\u30ab\u30ea\u30fc\u5316\u306e\u610f\u5473\u3068\u5408\u3063\u3066\u3044\u308b\u306e\u304b\u78ba\u8a3c\u304c\u3082\u3066\u307e\u305b\u3093\u304c\u3001\u304d\u3063\u3068\u3053\u3046\u3044\u3046\u30cf\u30ba\uff01\u3068\u601d\u3063\u3066\u89e3\u8aac\u3092\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\n2016/6/6 \u8ffd\u8a18\n\u30b3\u30e1\u30f3\u30c8\u6b04\u306b\u3066\u60c5\u5831\u3092\u9802\u304d\u307e\u3057\u3066\u3001\u3084\u3063\u3068\u7406\u89e3\u3067\u304d\u307e\u3057\u305f\uff01\n\n\u8907\u6570\u306e\u5f15\u6570\u3092\u53d6\u308b\u95a2\u6570\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u63db\u3059\u308b\u307e\u3067\u304c\u30ab\u30ea\u30fc\u5316\u3067\u3059\u3002\n\u3059\u3079\u3066\u306e\u5f15\u6570\u3092\u9069\u7528\u305b\u305a\u306b\u9014\u4e2d\u3067\u6b62\u3081\u308b\u306e\u304c\u90e8\u5206\u9069\u7528\u3067\u3059\u3002\n\n\u30b3\u30e1\u30f3\u30c8\u6b04\u306erryu\u69d8\u304c\u66f8\u3044\u3066\u4e0b\u3055\u3063\u305f\u30bd\u30fc\u30b9\u3092\u53c2\u7167\u3057\u3066\u3044\u305f\u3060\u3051\u308c\u3070\u4e00\u76ee\u77ad\u7136\u3067\u3059\uff01\n\u79c1\u304c\u300c\u308f\u304b\u3089\u306a\u3044\u300d\u3068\u601d\u3063\u3066\u3044\u305f\u4e8b\u306f\u3001\u300c\u90e8\u5206\u9069\u7528\u307e\u3067\u542b\u3081\u305f\u3082\u306e\u304c\u30ab\u30ea\u30fc\u5316\u300d\u3068\u601d\u3063\u3066\u3057\u307e\u3044\u300c\u90e8\u5206\u9069\u7528\u3068\u30ab\u30ea\u30fc\u5316\u306e\u5dee\u306fapply\u3068\u304bcall\u3068\u304b\u304c\u7d61\u3080\u306e\u304c\u9055\u3044\u306a\u306e\u304b\u306a\uff1f\u3048\uff1f\u3069\u3046\u3044\u3046\u3053\u3068\uff1f\u300d\u3068\u52dd\u624b\u306b\u610f\u5473\u306e\u5206\u304b\u3089\u306a\u3044\u6240\u306b\u30cf\u30de\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u30b3\u30e1\u30f3\u30c8\u306b\u3066\u300c\u660e\u78ba\u306b\u5225\u300d\u3068\u3044\u3046\u65e8\u3092\u4ef0\u3063\u3066\u9802\u3051\u305f\u3053\u3068\u3067\u8133\u5185\u304c\u3068\u3066\u3082\u30b9\u30c3\u30ad\u30ea\u3057\u307e\u3057\u305f\uff01\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\uff01\n\n\u95a2\u6570\u306e\u9023\u7d9a\u5b9f\u884c\n\u5927\u5143\u3068\u306a\u308b\u95a2\u6570\u306f3\u3064\u306e\u5f15\u6570\u3092\u3082\u3063\u3066\u3044\u307e\u3059\u3002\u7d30\u304b\u3044\u5185\u5bb9\u306f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u53c2\u7167\u3057\u3066\u9802\u304f\u3068\u3057\u307e\u3059\u3002\n\u4e00\u6c17\u306b\u547c\u3073\u51fa\u3059\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u884c\u3044\u307e\u3059\u3002\n\n\u5168\u3066\u306e\u5f15\u6570\u306b\u9069\u7528\nvar result = searchTextByElements(true)(tgt)(\"\u660e\u65e5\");\n\n\n()\u304c\u7740\u304f\u3068\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\u307e\u305a\u306fsearchTextByElements(true)\u304c\u5b9f\u884c\u3055\u308c\u3001\u305d\u306e\u623b\u308a\u5024\u306b()\u304c\u4ed8\u3044\u3066\u3001\u5f15\u6570tgt\u304c\u30bb\u30c3\u30c8\u3055\u308c\u305f\u300c\u4eca\u307e\u3055\u306b\u8fd4\u3063\u3066\u6765\u305f\u95a2\u6570\u300d\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\u305d\u306e\u623b\u308a\u5024\u306b\u307e\u305f( )\u304c\u4ed8\u304f\u3053\u3068\u3067\u540c\u69d8\u306b\u300c\u4eca\u307e\u3055\u306b\u8fd4\u3063\u3066\u6765\u305f\u95a2\u6570\u300d\u306e\u5b9f\u884c\u304c\u8d77\u304d\u307e\u3059\u3002\u305d\u306e\u969b\u306b\u5f15\u6570\u306b\"\u660e\u65e5\"\u304c\u30bb\u30c3\u30c8\u3055\u308c\u305f\u3082\u306e\u304c\u5b9f\u884c\u3055\u308c\u308b\u3001\u3068\u3044\u3046\u98a8\u306b\u3001\u95a2\u6570\u304c\u6b21\u3005\u306b\u5b9f\u884c\u3055\u308c\u3066\u3044\u304f\u4e8b\u3068\u306a\u308a\u307e\u3059\u3002\n\u300c\u4eca\u307e\u3055\u306b\u8fd4\u3063\u3066\u6765\u305f\u95a2\u6570\u300d\u306f\u30af\u30ed\u30fc\u30b8\u30e3\u3067\u3059\u306e\u3067\u3001\u4e00\u756a\u521d\u3081\u3067\u547c\u3093\u3060\u95a2\u6570function searchTextByElements(elem, target, str)\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3067\u3042\u308belem\u3068target\u3068str\u306f\u53c2\u7167\u3055\u308c\u7d9a\u3051\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u5b50\u30b9\u30b3\u30fc\u30d7\u3067\u3042\u308b\u6b21\u306e\u300c\u4eca\u307e\u3055\u306b\u8fd4\u3063\u3066\u6765\u305f\u95a2\u6570\u300d\u3067\u540c\u3058\u5024\u3092\u53c2\u7167\u3067\u304d\u308b\u3068\u3044\u3046\u4e8b\u3067\u3059\u3002\n\n\u65b0\u305f\u306a\u95a2\u6570\u306e\u4f5c\u6210\uff08\u90e8\u5206\u9069\u7528\uff09\n\u3067\u306e\u305d\u306e\u3088\u3046\u306a\u4fbf\u5229\u306a\u3057\u304f\u307f\u3092\u7528\u3044\u3066\u65b0\u305f\u306a\u95a2\u6570\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u65b0\u305f\u306a\u95a2\u6570\u306e\u4f5c\u6210\u3068\u5b9f\u884c\nvar getElementsBySearch = searchTextByElements(true);\nvar getElementsByBoxes = getElementsBySearch(tgt);\nvar result = getElementsByBoxes(\"\u660e\u65e5\");\nvar resultToday = getElementsByBoxes(\"\u4eca\u65e5\"));\n\n\n\uff11\u884c\u76ee\u3067\u3001\u65b0\u305f\u306bgetElementsBySearch\u3068\u3044\u3046\u95a2\u6570\u540d\u3067elem\u306e\u5024\u3092true\u306b\u3057\u305f\u7d50\u679c\u306e\u95a2\u6570\u3092\u5909\u6570\u306b\u4ee3\u5165\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001elem\u3067\u6307\u5b9a\u3059\u308b\u5024\u3092 \u6c7a\u3081\u6253\u3061\u3057\u305f\u3082\u306e\u3092\u95a2\u6570\u5316\u3057\u305f\u3082\u306e\u3067\u3001\u3053\u306e\u95a2\u6570\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u672c\u6765\u306e\u95a2\u6570searchTextByElements\u306e\u5f15\u6570\u3092\uff11\u3064\u7121\u304f\u3059\u4e8b\u306b\u6210\u529f\u3057\u3066\u3044\u307e\u3059\u3002\n\u4eca\u4f5c\u6210\u3057\u305f\u95a2\u6570\u306f\u3001\u95a2\u6570\u540d\u3067\u793a\u3057\u305f\u901a\u308a\u3001\u300c\u8981\u7d20\u3092\u691c\u7d22\u306b\u3088\u3063\u3066\u53d6\u308a\u51fa\u3059\u300d\u3068\u3044\u3063\u305f\u76ee\u7684\u306b\u4f7f\u3046\u305f\u3081\u306e\u95a2\u6570\u3092\u65b0\u305f\u306b\u4f5c\u3063\u305f\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\u305f\u3060\u3053\u306e\u95a2\u6570\u306f\u3001\u305d\u306e\u307e\u307e\u4f7f\u7528\u3067\u304d\u305a\u3001\u3053\u306e\u95a2\u6570\u81ea\u4f53\u3082\u307e\u305f\u6b21\u306e\u95a2\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n-\n\u7d9a\u3051\u3066\u30012\u884c\u76ee\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u65b0\u305f\u306a\u95a2\u6570getElementsByBoxes\u306f\u3001\u691c\u7d22\u5bfe\u8c61\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u8981\u7d20\u3082\u6c7a\u3081\u3046\u3061\u3057\u3066\u3044\u308b\u95a2\u6570\u3068\u306a\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306e\u691c\u7d22\u5bfe\u8c61\u306fHTML\u304c\u30bf\u30b0\u540d\u304ccontainer\u306ediv\u8981\u7d20\u306e\u4e2d\u306b\u3042\u308b\u30af\u30e9\u30b9\u540d\u304cbox\u306ediv\u8981\u7d20\u306a\u306e\u3067\u3001\u65b0\u305f\u306a\u95a2\u6570\u540d\u3092getElementsByBoxes\u3068\u3057\u307e\u3057\u305f\u3002\n\u3042\u304f\u307e\u3067\u691c\u7d22\u7528\u306b\u4f7f\u3046\u95a2\u6570\u306a\u306e\u3067\u3001\u30dc\u30c3\u30af\u30b9\u3068\u3044\u3046\u540d\u524d\u306e\u8981\u7d20\u3092\u30b2\u30c3\u30c8\u3059\u308b\u95a2\u6570\u3068\u3057\u3066\u6df7\u540c\u3057\u3066\u3057\u307e\u3046\u6016\u308c\u304c\u3042\u308a\u307e\u3059\u3002\u306a\u306e\u3067\u660e\u78ba\u306a\u540d\u524d\u306e\u65b9\u304c\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002(getElementsByBoxesForSeachText\u306a\u3069)\n\u305d\u3057\u3066\uff13\u884c\u76ee\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u3088\u3046\u3084\u304f\u76ee\u7684\u306e\u5024\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u6240\u307e\u3067\u6765\u307e\u3057\u305f\u3002getElementsByBoxes\u306b\u5f15\u6570\"\u660e\u65e5\"\u3092\u6e21\u3057\u3066\u547c\u3073\u51fa\u3059\u3068\u3001\u914d\u5217\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\n4\u884c\u76ee\u306f\u3001\u5f15\u6570\u3092\"\u4eca\u65e5\"\u3068\u3059\u308b\u4e8b\u3067\u3001\u4eca\u65e5\u3068\u3044\u3046\u6587\u5b57\u304c\u5165\u3063\u305f\u3082\u306e\u3092\u8fd4\u3057\u3066\u304f\u308c\u308b\u3001\u3068\u3044\u3046\u4f7f\u3044\u65b9\u304c\u3067\u304d\u308b\u308f\u3051\u3067\u3059\u3002\n\u3053\u3046\u3044\u3046\u98a8\u306b\u3059\u308b\u3068\u3001\u9014\u4e2d\u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e\u5909\u66f4\u3092\u3057\u3066\u6271\u3044\u305f\u304f\u306a\u3063\u305f\u6642\u306b\u3001\u7d44\u307f\u5408\u308f\u305b\u3092\u81ea\u7531\u306b\u5909\u3048\u3089\u308c\u308b\u306e\u3067\u3001\u4fbf\u5229\u3060\u306a\u3068\u3044\u3046\u4e8b\u3067\u3059\u306d\u3002\n\u4eca\u56de\u3001\u9014\u4e2d\u3067\u95a2\u6570\u3068\u3057\u3066\u306f\u4e2d\u9014\u534a\u7aef\u306a\u3082\u306e\u304c\u3067\u304d\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001\u5b9f\u969b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304f\u3068\u3088\u308a\u30b9\u30de\u30fc\u30c8\u304b\u306a\u3068\u8ffd\u308f\u308c\u307e\u3059\u3002\n\n\u5b9f\u969b\u306f\u3053\u3063\u3061\u304c\u826f\u3044\u304b\u3082\nvar getBoxesForSearchText = searchTextByElements(true)(tgt);\nvar result = getElementsByBoxesForSearchText(\"\u4eca\u65e5\");\n\n\n\u4f59\u8a08\u306a\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u4f5c\u6210\u3055\u308c\u305a\u3001\u30b5\u30af\u30c3\u3068\u4f7f\u3044\u305f\u3044\u6642\u306b\u4f7f\u3048\u307e\u3059\u306d\u3002\n\nbind()\n\u30ab\u30ea\u30fc\u5316\u3001\u5b9f\u306b\u5f37\u529b\u3067\u3059\u304c\u3001\u5b9f\u969b\u30ab\u30ea\u30fc\u5316\u7528\u306b\u95a2\u6570\u3092\u66f8\u304f\u306e\u306f\u5927\u5909\u3001\u3063\u3066\u6642\u306f\u7d44\u307f\u8fbc\u307f\u306ebind\u3092\u4f7f\u3046\u3068\u826f\u3044\u3088\u3046\u3067\u3059\u3002\n\nbind\u3092\u7528\u3044\u305f\u65b0\u305f\u306a\u95a2\u6570\u4f5c\u6210\n/**\n * \u8981\u7d20\u306eHTML\u5185\u306b\u6307\u5b9a\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u308b\u6642\u306b\u8981\u7d20\u304b\u305d\u306ehtml\u81ea\u4f53\u3092\u8fd4\u3059\u95a2\u6570\n * @param {boolean} elem - \u8fd4\u3063\u3066\u304f\u308b\u914d\u5217\u306e\u4e2d\u8eab\u3092\u6307\u5b9a\u3002 true - \u8981\u7d20\u81ea\u4f53, false - HTML\u81ea\u4f53\n * @param {NodeList} targets - \u691c\u7d22\u5bfe\u8c61\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u914d\u5217\n * @param {string} str - \u691c\u7d22\u6587\u5b57\u5217\n */\nfunction searchTextByElements(elem, targets, str) {\n\n    //\u8fd4\u3059\u914d\u5217\u3092\u521d\u671f\u5316\n    var results = [];\n\n    //\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u6570\u3060\u3051\u7e70\u308a\u8fd4\u3059\n    for (var i = 0, max = targets.length; i < max; i += 1) {\n\n        //\u8981\u7d20\u5185\u306e\u6587\u5b57\u5217\u306b\u691c\u7d22\u6587\u5b57\u304c\u3042\u308b\u304b\u3069\u3046\u304b\n        if (targets[i].innerHTML.indexOf(str) > -1) {\n\n            //elem\u306e\u5024\u3092\u898b\u3066\u6761\u4ef6\u5206\u5c90\n            if (elem) {\n                results[results.length] = targets[i]; //\u8981\u7d20\u3092\u8fd4\u3059\n            } else {\n                results[results.length] = targets[i].innerHTML; //HTML\u5185\u306e\u6587\u5b57\u3092\u8fd4\u3059\n            }\n        }\n    }\n    //\u4f5c\u6210\u3057\u305f\u914d\u5217\u3092\u8fd4\u3059\n    return results;\n\n}\n\n//\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u8981\u7d20\u3092\u53d6\u5f97\nvar tgt = document.querySelectorAll(\"div#container div.box\");\n\n//\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u4e00\u65e6\u78ba\u8a8d\nconsole.dir(searchTextByElements(true, tgt, \"\u660e\u65e5\"));\n\n//\u65b0\u3057\u3044\u95a2\u6570\u3092bind\u3092\u4f7f\u3063\u3066\u4f5c\u6210\nvar getElementsByBoxesForSearchText = searchTextByElements.bind(null,true,tgt);\n\n//\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\nconsole.dir(getElementsByBoxesForSearchText(\"\u660e\u65e5\"));\nconsole.dir(getElementsByBoxesForSearchText(\"\u4eca\u65e5\"));\n\n\n\nbind\u306f\u65b0\u305f\u306b\u95a2\u6570\u3092\u4f5c\u6210\u3059\u308b\u95a2\u6570\u3067\u3001\u7b2c\u4e00\u5f15\u6570\u306f\u95a2\u6570\u5185\u3067\u4f7f\u7528\u3059\u308bthis\u306e\u675f\u7e1b\u3001\u7b2c\u4e8c\u5f15\u6570\u4ee5\u964d\u306f\u57fa\u3068\u306a\u308b\u95a2\u6570\u306e\u5f15\u6570\u306e\u4e26\u3073\u3068\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u611f\u60f3\n\u3069\u3093\u3069\u3093\u3084\u3084\u3053\u3057\u3044\uff01\u3069\u3093\u3069\u3093\u920d\u8db3\uff01\n\u305d\u3057\u3066\u30ab\u30ea\u30fc\u5316\u3067\u3059\u304c\u3001\u90e8\u5206\u9069\u7528\u3068\u660e\u78ba\u306a\u9055\u3044\u304c\u3042\u307e\u308a\u7406\u89e3\u51fa\u6765\u3066\u3044\u307e\u305b\u3093\u3002\u3072\u3087\u3063\u3068\u3057\u305f\u3089\u81ea\u5206\u304c\u66f8\u3044\u305f\u30bd\u30fc\u30b9\u306f\u90e8\u5206\u9069\u7528\u306a\u306e\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3057\u3001\u307e\u3060\u307e\u3060\u52c9\u5f37\u4e0d\u8db3\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\u30ab\u30ea\u30fc\u5316\u3068\u90e8\u5206\u9069\u7528\u3092\u66f8\u3044\u3066\u3044\u307e\u3057\u305f\u3002\u30b3\u30e1\u30f3\u30c8\u306e\u304a\u304b\u3052\u3067\u30b9\u30c3\u30ad\u30ea\u3057\u307e\u3057\u305f\uff01\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\uff01\n\u3068\u308a\u3042\u3048\u305a\u95a2\u6570\u7de8\u306f\u3053\u3053\u307e\u3067\u3068\u3057\u3066\u3001\u6b21\u306b\u9032\u3093\u3067\u3044\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30ea\u30f3\u30af\n\u524d\u56de\u306f\u3053\u3061\u3089\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411\u521d\u5fc3\u8005\u306e\u79c1\u304cJavaScript\u306b\u3082\u518d\u5165\u9580 \u300c\u95a2\u6570\u30fb\u521d\u671f\u5316\u95a2\u9023\u7de8\u300d \u301cJavaScript\u30d1\u30bf\u30fc\u30f3 \u5b66\u7fd27\u65e5\u76ee\u3010\u9003\u3052\u30e1\u30e2\u3011\u301c\n\u30ab\u30ea\u30fc\u5316\u306b\u3042\u305f\u3063\u3066\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u3044\u305f\u30b5\u30a4\u30c8\njavascript \u3067\u904a\u3076\u30e9\u30e0\u30c0\u5f0f\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u3001\u30ab\u30ea\u30fc\u5316\n*2016/6/6\u6539\u8a02*\n\n# \u95a2\u6570\n\n## \u30e1\u30e2\u5316\n\n\u95a2\u6570\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306a\u306e\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6301\u3066\u307e\u3059\u3002\u305d\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u305d\u306e\u95a2\u6570\u306e\u7d50\u679c\u3092\u683c\u7d0d\u3057\u3066\u304a\u3051\u3070\u3001\u3044\u3061\u3044\u3061\u6bce\u56de\u8a08\u7b97\u3057\u306a\u304f\u3066\u3082\u5024\u3068\u3057\u3066\u683c\u7d0d\u3057\u3066\u3044\u308b\u3082\u306e\u3092\u8aad\u307f\u8fbc\u3080\u3060\u3051\u306a\u306e\u3067\u3001\u901f\u5ea6\u304c\u901f\u304f\u306a\u308a\u307e\u3059\u3088\u306d\u3001\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\n\u8a08\u7b97\u304c\u96e3\u3057\u304f\u3001\u91cd\u305f\u3044\u3082\u306e\u3067\u3042\u308c\u3070\u3042\u308b\u307b\u3069\u52b9\u529b\u3092\u767a\u63ee\u3057\u307e\u3059\u3002\u4eca\u56de\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3067\u306f\u96e3\u3057\u3044\u8a08\u7b97\u306f\u3055\u305b\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u3069\u3046\u3044\u3046\u3082\u306e\u304b\u30a4\u30e1\u30fc\u30b8\u306f\u3064\u3051\u3089\u308c\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```js:\u30e1\u30e2\u5316\n//\u95a2\u6570\u5f0f\u5b9a\u7fa9\nvar fsFunc = function(val) {\n\n    // \u5909\u6570\u5ba3\u8a00\u3068\u5f15\u6570\u306e\u5024\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u30ad\u30fc\u3068\u3057\u3066\u4f7f\u3046\n    var cacheKey = val,\n        result;\n\n    //\u3053\u306e\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306ecache\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u30ad\u30fc\u304c\u306a\u3044\u5834\u5408\n    if (!fsFunc.cache[cacheKey]) {\n\n        //\u8a08\u7b97\u7d50\u679c\u3092\u5165\u308c\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u751f\u6210\n        result = {};\n\n        //0-1000\u307e\u3067\u7e70\u308a\u8fd4\u3059\n        for (var i = 0; i <= 1000; i += 1) {\n        \n            //\u8b0e\u306e\u8a08\u7b97\u5f0f\uff08\u306a\u3093\u3067\u3082\u826f\u3044\uff09\u3092\u884c\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ad\u30fc:i\u3001\u5024:\u8a08\u7b97\u7d50\u679c\u3068\u3057\u3066\u683c\u7d0d\n            result[i] = i * val * 26 * 234 / 47 + 3; \n            \n        }\n        \n        //\u3053\u306e\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306ecache\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u8a08\u7b97\u7d50\u679c\u3092\u8ffd\u52a0\n        fsFunc.cache[cacheKey] = result;\n        \n        //\u30b3\u30f3\u30bd\u30fc\u30eb\u306bcache\u306b\u65b0\u305f\u306b\u8ffd\u52a0\u3055\u308c\u305f\u3088\u3068\u901a\u77e5\n        console.log(cacheKey + \":\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u8ffd\u52a0\");\n\n    }\n    \n    //\u4eca\u304b\u3089\u8fd4\u3059\u3088\u3068\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\n    console.log(cacheKey + \":\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\")\n    \n    //\u95a2\u6570\u306e\u623b\u308a\u5024\u306b\u30ad\u30fc:cacheKey\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\n    return fsFunc.cache[cacheKey];\n};\n\nconsole.log(\"\u3053\u3053\u304b\u3089\u306f\u3058\u307e\u308b\");\n//\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u8a18\u61b6\u9818\u57df\nfsFunc.cache = {};\n\n//1\u3092\u30ad\u30fc\u3068\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u751f\u6210\nconsole.log(fsFunc(1)); //{0: 3, 1: 132.4468085106383, 2: 261.8936170212766...\n\n//1\u306e\u8fd4\u3063\u3066\u6765\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4e0e\u3048\u3066\u5024\u3092\u53d6\u5f97\nconsole.log(fsFunc(1)[1]); // 132.4468085106383\nconsole.log(fsFunc(1)[2]); // 261.8936170212766\n\n//5\u3092\u30ad\u30fc\u3068\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u751f\u6210\u3057\u3066\u305d\u306e\u307e\u307e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4e0e\u3048\u3066\u5024\u3092\u53d6\u5f97\nconsole.log(fsFunc(5)[1]); // 650.2340425531914\n\n//1\u3092\u518d\u5ea6\u547c\u3073\u51fa\u3057\u3066\u307f\u308b\nconsole.log(fsFunc(1)[1]); // 132.4468085106383\n\n```\n\n\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-04 10.30.49.png](https://qiita-image-store.s3.amazonaws.com/0/126965/6e4b1928-3859-6c31-b084-28aeba7580b3.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-04 10.30.49.png\")\n\n### \u89e3\u8aac\n\n#### 1\u5ea6\u3060\u3051\u751f\u6210\u3001\u6b21\u304b\u3089\u306f\u518d\u5229\u7528\n\n\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5185\u3067\u306f\u3001\u95a2\u6570\u304c\u547c\u3070\u308c\u305f\u969b\u306b\u305d\u306e\u5f15\u6570\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u30ad\u30fc\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u305d\u306e\u5f8c\u3001\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e`cache`\u306b\u5148\u307b\u3069\u306e\u6587\u5b57\u5217\u3092\u30ad\u30fc\u306b\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u7121\u3044\u304b\u3092\u63a2\u3057\u3001\u7121\u3051\u308c\u3070`result`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3057\u3001\u8a08\u7b97\u7d50\u679c\u3092`result`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5165\u308c\u3066\u3044\u304d\u3001\u305d\u306e\u7d50\u679c\u3092\u5148\u307b\u3069\u306e\u6587\u5b57\u5217\u3092\u30ad\u30fc\u3068\u3057\u3066`cache`\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u969b\u306b\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u8ffd\u52a0\u3057\u305f\u65e8\u3092\u4f1d\u3048\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u51fa\u529b\u7d50\u679c\u3067\u3069\u3046\u3044\u3046\u52d5\u304d\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u3092\u898b\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002\n\n\u7d9a\u3051\u3066\u3001`cache`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u5148\u307b\u3069\u306e\u6587\u5b57\u5217\u3092\u30ad\u30fc\u306b\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3053\u306e\u95a2\u6570\u306e\u623b\u308a\u5024\u3068\u3057\u3066\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u306b\u3082\u5148\u307b\u3069\u306e\u6587\u5b57\u5217\u306b\u5bfe\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\u65e8\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u305f\u6642\u3001`cache`\u5185\u306b\u5f15\u6570\u306e\u6587\u5b57\u5217\u3092\u30ad\u30fc\u306b\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5b58\u5728\u3057\u305f\u5834\u5408\u306f\u3001\u305d\u3061\u3089\u3092\u8fd4\u3059\u3060\u3051\u3068\u3044\u3046\u51e6\u7406\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u90e8\u5206\u304c\u3053\u306e\u30e1\u30e2\u5316\u306e\u4e00\u756a\u306e\u5229\u70b9\u3067\u3001\u751f\u6210\u306f1\u5ea6\u3060\u3051\u3001\u4f7f\u7528\u306f\u5909\u6570\u306b\u683c\u7d0d\u3055\u308c\u305f\u3082\u306e\u3092\u4f7f\u3046\u3060\u3051\u3001\u3068\u3044\u3046\u4ed5\u7d44\u307f\u306e\u918d\u9190\u5473\u3060\u3068\u8a00\u3048\u308b\u3067\u3057\u3087\u3046\u3002\n\n#### \u6d41\u308c\u3092\u8aad\u3080\n\n\u95a2\u6570\u5916\u306e\u30b3\u30fc\u30c9\u306e\u90e8\u5206\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u7d50\u679c\u306e\u753b\u50cf\u304c\u793a\u3059\u3088\u3046\u306b\u547c\u3073\u51fa\u3057\u306e\u6d41\u308c\u3068\u3057\u3066\u306f\u3001\n\n- \u95a2\u6570\u3092\u521d\u3081\u3066\u547c\u3073\u51fa\u3057\u305f\u3089\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u8ffd\u52a0\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\u4e8b\u304c\u884c\u308f\u308c\u308b\n- 2\u5ea6\u3081\u306e\u547c\u3073\u51fa\u3057\u3067\u306f\u8ffd\u52a0\u306f\u884c\u308f\u308c\u305a\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u8fd4\u3063\u3066\u304f\u308b\u3060\u3051\u3068\u306a\u3063\u3066\u3044\u308b\n- \u65b0\u3057\u3044\u5225\u306e\u5f15\u6570\u540d\u3067\u95a2\u6570\u3092\u547c\u3073\u51fa\u305b\u3070\u3001\u65b0\u305f\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u8ffd\u52a0\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\u3068\u3044\u3046\u4e8b\u304c\u884c\u308f\u308c\u3066\u3044\u308b\n- \u307e\u305f\u306f\u3058\u3081\u306e\u5f15\u6570\u3067\u547c\u3073\u51fa\u3057\u305f\u3089\u306f\u3058\u3081\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u8fd4\u3055\u308c\u3066\u3044\u308b\n\n\u3068\u3044\u3063\u305f\u70b9\u304c\u6319\u3052\u3089\u308c\u307e\u3059\u3002\n\n\u5f15\u6570\u306b\u5024\u3092\u4e0e\u3048\u3066\u305d\u306e\u5024\u306b\u5bfe\u5fdc\u3057\u305f\u8a08\u7b97\u304c\u884c\u308f\u308c\u3066\u7d50\u679c\u3092\u305d\u308c\u305e\u308c\u683c\u7d0d\u3057\u3066\u304a\u304f\u3068\u3044\u3046\u539f\u7406\u306b\u3059\u308c\u3070\u7d20\u6575\u3067\u3057\u3087\u3046\u3002\n\n## \u8a2d\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\n\u95a2\u6570\u306e\u5f15\u6570\u304c\u306f\u3058\u3081\u306f\u5c11\u306a\u3081\u3067\u4f5c\u3063\u3066\u3044\u305f\u3082\u306e\u306e\u3001\u3042\u308c\u3084\u3053\u308c\u3084\u5b9f\u88c5\u3057\u3066\u3044\u304f\u3046\u3061\u306b\u300c\u3053\u306e\u5024\u3082\u4f7f\u3044\u305f\u3044\u3001\u3053\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3082\u6b32\u3057\u3044\u300d\u3068\u3044\u3063\u305f\u3088\u3046\u306a\u4e8b\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u305d\u306e\u969b\u306b\u3001\u8a2d\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u3066\u3001\u305d\u308c\u3092\u5f15\u6570\u306b\u6e21\u3059\u3053\u3068\u3067\u3001\u308f\u3056\u308f\u3056\u5f15\u6570\u306e\u69cb\u6210\u3092\u5909\u3048\u306a\u304f\u3066\u3082\u3044\u3044\u3088\u306d\u3001\u3063\u3066\u8a71\u3067\u3059\u306d\u3002\n\n```js:\u8a2d\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u7528\u3057\u306a\u3044\u95a2\u6570\u306e\u4f8b\nfunction addPerson(name,age,gender,address){\n\t// \u2191\u5f15\u6570\u306e\u6570\u304c\u591a\u3044\n}\n\n```\n\n```js:\u8a2d\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4f7f\u7528\u3057\u305f\u4e00\u4f8b\n//Person\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5b9a\u7fa9\nvar Person = function (conf){\n\n  //new\u3057\u5fd8\u308c\u9632\u6b62\n  if(!(this instanceof Person)){\n    return new Person(conf);\n  };\n\n  //\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u8a2d\u5b9a\n\tthis.name = conf.name || \"\u540d\u7121\u3057\";\n\tthis.age = conf.age || 0;\n\tthis.gender = conf.gender || \"\u672a\u56de\u7b54\";\n\tthis.address = conf.address || \"\u672a\u56de\u7b54\";\n}\n\n\n//\u65b0\u3057\u304f\u751f\u6210\u3059\u308bPerson\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u521d\u671f\u5024\u3092\u8a2d\u5b9a\nvar conf = {\n\tname:\"Taro\",\n\tage:20,\n\tgender:\"man\"\n}\n\n//\u65b0\u3057\u3044person\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u751f\u6210\nvar taro = Person(conf)\n;\nconsole.dir(taro);\n//Person {name: \"Taro\", age: 20, gender: \"man\", address: \"\u672a\u56de\u7b54\"}\n```\n\n\u30dd\u30a4\u30f3\u30c8\u306f\u3001`conf`\u8a2d\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5185\u3067\u3001`address`\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u70b9\u3067\u3059\u3002Person\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5185\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u8a2d\u5b9a\u3067\u3001`address`\u304c\u3042\u308b\u5834\u5408\u3068\u306a\u3044\u5834\u5408\u3067\u51e6\u7406\u3092\u66f8\u3044\u3066\u304a\u3051\u3070\u3001\u5f15\u6570\u306e\u6570\u306f\u6c17\u306b\u305b\u305a\u306b\u5897\u3084\u3057\u305f\u308a\u6d88\u3057\u305f\u308a\u51fa\u6765\u307e\u3059\u3002\n\n## \u95a2\u6570\u306e\u9069\u7528\n\n\u4eca\u307e\u3067\u95a2\u6570\u306f\u300c\u547c\u3073\u51fa\u3059\u3082\u306e\u300d\u3068\u8003\u3048\u3066\u304d\u307e\u3057\u305f\u304c\u3001\u95a2\u6570\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\uff08\u3053\u308c\u304c\u4f55\u306a\u3093\u3060\u308d\u3046\uff09\u306e\u5834\u5408\u306f\u300c\u9069\u7528\u3059\u308b\u3082\u306e\u300d\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002\n\n```js:\u95a2\u6570\u306e\u9069\u7528\n//\u95a2\u6570\u306e\u5b9a\u7fa9\nvar sayHi = function(who,what) {\n    return \"Hello\" + (who ? \",\" + who : \"\") + (what ? \"'s '\" + what : \"\") + \"!\";\n\n};\n\n//\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\nconsole.log(sayHi()); // Hello\nconsole.log(sayHi(\"Taro\")); // Hello,Taro!\nconsole.log(sayHi(\"Taro\",\"pen\"));// Hello,Taro's pen!\n\n//\u95a2\u6570\u3092\u9069\u7528 apply\u306e\u5834\u5408\nconsole.log(sayHi.apply(null, [\"Taro\"])); //Hello,Taro!\nconsole.log(sayHi.apply(null, [\"Taro\",\"pen\"])); //Hello,Taro's pen!\n\n//\u95a2\u6570\u3092\u9069\u7528 call\u306e\u5834\u5408\nconsole.log(sayHi.call(null, \"Taro\")); // Hello,Taro!\nconsole.log(sayHi.call(null, \"Taro\",\"world\")); // Hello,Taro!\n```\n\n#### apply()\n\napply()\u306f\u95a2\u6570\u3092\u9069\u7528\u3055\u305b\u308b\u70ba\u306b\u4f7f\u3046\u95a2\u6570\u3067\u3001\u5f15\u6570\u304c2\u3064\u3042\u308a\u307e\u3059\u3002\n\n1\u3064\u3081\u306f\u95a2\u6570\u5185\u306e`this`\u304c\u6307\u3059\u3082\u306e\u3068\u306a\u308a\u307e\u3059\u3002`null`\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u95a2\u6570\u5185\u306ethis\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6307\u3059\u4e8b\u3068\u306a\u308a\u307e\u3059\u3002\n\n2\u3064\u76ee\u306f\u95a2\u6570\u5185\u3067\u4f7f\u7528\u3067\u304d\u308b\u5f15\u6570\u306e\u914d\u5217\u3068\u306a\u308a\u307e\u3059\u3002\u5f15\u6570\u306e\u914d\u5217\u306f\u3001\u5f15\u6570\u304c\u6307\u5b9a\u3055\u308c\u305f\u9806\u756a\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\n\n#### call()\n\napply()\u95a2\u6570\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30b7\u30e5\u30ac\u30fc\uff08\u5225\u306e\u66f8\u304d\u65b9\u304c\u3067\u304d\u308b\u3082\u306e\uff09\u3067\u3042\u308a\u30012\u3064\u76ee\u306e\u5f15\u6570\u304c\u914d\u5217\u3067\u306a\u304f\u3001\u5024\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u305d\u306e\u3082\u306e\u3092\u6307\u5b9a\u3059\u308b\u3082\u306e\u3068\u306a\u308a\u307e\u3059\u3002\u5b9f\u8cea\u3001\u3067\u304d\u308b\u3053\u3068\u306f\u3000apply\u3068\u540c\u3058\u3067\u3059\u3002\n\n### \u9069\u7528\u3068\u306f\n\n\u4ed6\u4eba\u306e\u6301\u3063\u3066\u3044\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u3084\u30e1\u30bd\u30c3\u30c9\u3092\u81ea\u5206\u306e\u3082\u306e\u3068\u3057\u5229\u7528\u3067\u304d\u308b\u30e1\u30bd\u30c3\u30c9\u3068\u3044\u3046\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u8aac\u660e\u306f\u307e\u305f\u5f8c\u306e\u7ae0\u306b\u51fa\u3066\u304f\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u3053\u308c\u4ee5\u4e0a\u306e\u6df1\u6398\u308a\u306f\u3057\u306a\u3044\u3053\u3068\u3068\u3057\u307e\u3059\uff08\u7d42\u308f\u3089\u306a\u3044\u306e\u3067(\u00b4\u03b5\uff40\uff1b)\uff09\n\n```js:\u9069\u7528\u3092\u4f7f\u3063\u305f\u4f8b\n//\u540d\u524d\u30d7\u30ed\u30d1\u30c6\u30a3\u3060\u3051\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\nvar charaName = function(name){\n  this.name = name;\n}\n\n//\u5e74\u9f62\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u5e74\u9f62\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\nvar charaAge = function(age){\n  this.age = age;\n\n  this.getAge = function (){\n    return (this.name ? this.name + \" / \" : \"\") + this.age;\n  };\n};\n\n//charaName\u3092\u57fa\u3068\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u751f\u6210\nvar onchan = new charaName(\"onchan\");\n\n//charaAge\u3092\u57fa\u3068\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u751f\u6210\nvar nochan = new charaAge(10);\n\nconsole.dir(onchan); //charaName {name: \"onchan\"}\n\n//charaAge\u3092charaName\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3042\u308bonchan\u306b\u9069\u7528\ncharaAge.call(onchan,10);\n\n//\u9069\u7528\u5f8c\u306fcharaAge\u306e\u6301\u3064\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u30e1\u30bd\u30c3\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u308b\nconsole.dir(onchan); //charaName {name: \"onchan\", age: 10, getAge: function}\n\n//charaAge\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u57fa\u306enochan\u306f\u540d\u524d\u304c\u7121\u3044\u307e\u307e\nconsole.dir(nochan); //charaAge {age: 10, getAge: function}\n\n//onchan\u306b\u306f\u5e74\u9f62\u304c\u51fa\u529b\u3067\u304d\u308b\nconsole.log(onchan.getAge()); //onchan / 10\n\n```\n\n\u3068\u3044\u3046\u4e8b\u3067\u3001\u95a2\u6570\u306f\u9069\u7528\u3059\u308b\u3082\u306e\u3001\u3068\u3044\u3046\u8a71\u3067\u3057\u305f\u3002\u3088\u304f\u3088\u304f\u30ab\u30ea\u30fc\u5316\u3068\u8a71\u304c\u4e00\u7dd2\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u304c\u3061\u306a\u306e\u3067\u3001\u5206\u3051\u3066\u8003\u3048\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n## \u30ab\u30ea\u30fc\u5316\n\n>\u30ab\u30ea\u30fc\u5316 (currying, \u30ab\u30ea\u30fc\u5316\u3055\u308c\u305f=curried) \u3068\u306f\u3001\u8907\u6570\u306e\u5f15\u6570\u3092\u3068\u308b\u95a2\u6570\u3092\u3001\u5f15\u6570\u304c\u300c\u3082\u3068\u306e\u95a2\u6570\u306e\u6700\u521d\u306e\u5f15\u6570\u300d\u3067\u623b\u308a\u5024\u304c\u300c\u3082\u3068\u306e\u95a2\u6570\u306e\u6b8b\u308a\u306e\u5f15\u6570\u3092\u53d6\u308a\u7d50\u679c\u3092\u8fd4\u3059\u95a2\u6570\u300d\u3067\u3042\u308b\u3088\u3046\u306a\u95a2\u6570\u306b\u3059\u308b\u3053\u3068\uff08\u3042\u308b\u3044\u306f\u305d\u306e\u95a2\u6570\u306e\u3053\u3068\uff09\u3067\u3042\u308b\u3002\n>\n>\u51fa\u5178:Wikipedia\n\n\u8a00\u8449\u306e\u610f\u5473\u3084\u3044\u308d\u3093\u306a\u60c5\u5831\u3092\u53c2\u8003\u306b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n\n```html:\u30ab\u30ea\u30fc\u5316\u7528HTML\n<!DOCTYPE html>\n<html lang=\"ja\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>js</title>\n    <style>\n        div#container:after {\n            clear: both;\n        }\n\n        div#container div.box {\n            float: left;\n        }\n    </style>\n</head>\n\n<body>\n    <div id=\"container\">\n        <div class=\"box\">\u4eca\u65e5\u306e\u5929\u6c17\u306f\u6674\u308c\u3067\u3057\u3087\u3046\u3002</div>\n        <div class=\"box\">\u660e\u65e5\u306e\u5929\u6c17\u306f\u66c7\u308a\u3067\u3057\u3087\u3046\u3002</div>\n        <div class=\"box\">\u4eca\u65e5\u306e\u904b\u52e2\u306f\u5409\u3067\u3057\u3087\u3046\u3002</div>\n        <div class=\"box\">\u660e\u65e5\u306e\u904b\u52e2\u306f\u660e\u65e5\u767a\u8868\u3055\u308c\u307e\u3059\u3002</div>\n        <div class=\"box\">\u30af\u30e9\u30c3\u30ab\u30fc\u3060\u3051\u3058\u3083\u6d41\u77f3\u306b\u304a\u8179\u304c\u7a7a\u304f</div>\n        <div class=\"box\">\u660e\u65e5\u306f\u30d1\u30f3\u3092\u98df\u3079\u3088\u3046\u3002</div>\n    </div>\n</body>\n<script type=\"text/javascript\" src=\"js-currytest.js\">\n</script>\n\n</html>\n```\n\n\u30ab\u30ea\u30fc\u5316\u3057\u305f\u95a2\u6570\u306b\u90e8\u5206\u9069\u7528\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\n```js:js-currytest.js\n// ====\u30ab\u30ea\u30fc\u5316\u3055\u308c\u305f\u95a2\u6570 ====//\n\n/**\n * \u8981\u7d20\u306eHTML\u5185\u306b\u6307\u5b9a\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u308b\u6642\u306b\u8981\u7d20\u304b\u305d\u306ehtml\u81ea\u4f53\u3092\u8fd4\u3059\u95a2\u6570\uff08\u30ab\u30ea\u30fc\u5316\u7528\uff09\n * @param {boolean} elem - \u8fd4\u3063\u3066\u304f\u308b\u914d\u5217\u306e\u4e2d\u8eab\u3092\u6307\u5b9a\u3002 true - \u8981\u7d20\u81ea\u4f53, false - HTML\u81ea\u4f53\n * @param {NodeList} targets - \u691c\u7d22\u5bfe\u8c61\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u914d\u5217\n * @param {string} str - \u691c\u7d22\u6587\u5b57\u5217\n */\nfunction searchTextByElements(elem, targets, str) {\n\n    //searchTextByElements\u306e\u623b\u308a\u5024\u306b\u8a2d\u5b9a\u3055\u308c\u308b\u95a2\u6570\n    return function(targets) {\n\n        //searchTextByElements\u306e\u623b\u308a\u5024\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u95a2\u6570\u3092\u547c\u3093\u3060\u6642\u306e\u623b\u308a\u5024\u306b\u8fd4\u3055\u308c\u308b\u95a2\u6570\n        return function(str) {\n\n            //\u8fd4\u3059\u914d\u5217\u3092\u521d\u671f\u5316\n            var results = [];\n\n            //\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u6570\u3060\u3051\u7e70\u308a\u8fd4\u3059\n            for (var i = 0, max = targets.length; i < max; i += 1) {\n\n                //\u8981\u7d20\u5185\u306e\u6587\u5b57\u5217\u306b\u691c\u7d22\u6587\u5b57\u304c\u3042\u308b\u304b\u3069\u3046\u304b\n                if (targets[i].innerHTML.indexOf(str) > -1) {\n\n                    //elem\u306e\u5024\u3092\u898b\u3066\u6761\u4ef6\u5206\u5c90\n                    if (elem) {\n                        results[results.length] = targets[i]; //\u8981\u7d20\u3092\u8fd4\u3059\n                    } else {\n                        results[results.length] = targets[i].innerHTML; //HTML\u5185\u306e\u6587\u5b57\u3092\u8fd4\u3059\n                    }\n                }\n            }\n            //\u4f5c\u6210\u3057\u305f\u914d\u5217\u3092\u8fd4\u3059\n            return results;\n        }\n    }\n}\n\n//\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u8981\u7d20\u3092\u53d6\u5f97\nvar tgt = document.querySelectorAll(\"div#container div.box\");\n\n//\u5168\u3066\u306e\u5f15\u6570\u3067\u9069\u7528\nconsole.dir(searchTextByElements(true)(tgt)(\"\u660e\u65e5\"));\n\n\n// ==== \u3053\u3053\u304b\u3089\u90e8\u5206\u9069\u7528 ==== //\n\n\n/* elem\u306e\u307f\u3092\u9069\u7528\u3057\u305f\u65b0\u305f\u306a\u95a2\u6570getElementsBySearch\u3092\u751f\u6210\u3002\n   \u5f15\u6570\u304ctrue\u306a\u3089\u8981\u7d20\u305d\u306e\u3082\u306e\u3092\u8fd4\u3059\u3088\u3046\u306b\u3001false\u306a\u3089\u8981\u7d20\u306eHTML\u306e\u6587\u304c\u8fd4\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u308b */\nvar getElementsBySearch = searchTextByElements(true);\n\n\n/* \u5bfe\u8c61\u8981\u7d20\u3092\u6307\u5b9a\u3057\u305f\u65b0\u305f\u306a\u95a2\u6570getElementsByBoxes\u3092\u751f\u6210\n   \u3053\u306e\u5f15\u6570\u3092\u81ea\u7531\u306b\u5909\u3048\u308b\u4e8b\u3067\u691c\u7d22\u5bfe\u8c61\u3092\u5909\u3048\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3000*/\nvar getElementsByBoxes = getElementsBySearch(tgt);\n\n//\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092getElementsByBoxes\u306b\u4e0e\u3048\u3066\u691c\u7d22\u7d50\u679c\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u8868\u793a\nconsole.dir(getElementsByBoxes(\"\u660e\u65e5\"));\nconsole.dir(getElementsByBoxes(\"\u4eca\u65e5\"));\n\n//\u3061\u306a\u307f\u306belem\u3092false\u306b\u3057\u305f\u6642\u306e\u7d50\u679c\nconsole.dir(searchTextByElements(false)(tgt)(\"\u660e\u65e5\"));\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-05 12.16.41.png](https://qiita-image-store.s3.amazonaws.com/0/126965/cee5d463-5ae2-8088-290b-b94d68d11c9d.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-05 12.16.41.png\")\n\n### \u89e3\u8aac\n\n~~\u89e3\u8aac\u306b\u3042\u305f\u308a\u3001\u5148\u7acb\u3063\u3066\u8a00\u3063\u3066\u304a\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002~~\n\n~~\u3053\u306e\u30ab\u30ea\u30fc\u5316\u3067\u3059\u304c\u3001\u300c\u95a2\u6570\u306e\u4e00\u3064\u76ee\u306e\u5f15\u6570\u3092\u4e0e\u3048\u3066\u3001\u6b8b\u308a\u306e\u5f15\u6570\u3092\u6301\u3063\u305f\u95a2\u6570\u3092\u8fd4\u3059\u300d\u3068\u3044\u3046\u98a8\u306b\u4f5c\u308a\u307e\u3057\u305f\u3002Wikipedia\u306b\u306f\u300c\u3082\u3068\u306e\u95a2\u6570\u306e\u6b8b\u308a\u306e\u5f15\u6570\u3092\u53d6\u308a\u7d50\u679c\u3092\u8fd4\u3059\u95a2\u6570\u300d\u3068\u3042\u308a\u3001\u7d50\u679c\u3092\u8fd4\u3059\u95a2\u6570\u3068\u3057\u3066\u306f\u6700\u5f8c\u306e\u5f15\u6570\u307e\u3067\u547c\u3070\u306a\u3044\u3068\u305d\u3046\u306f\u306a\u3089\u306a\u3044\u306e\u3067\u3001\u30ab\u30ea\u30fc\u5316\u3068\u3057\u3066\u306f\u3069\u3046\u306a\u306e\u304b\u306e\u5224\u65ad\u304c\u3067\u304d\u3066\u3044\u307e\u305b\u3093\u3002~~\n\n~~\u306a\u306e\u3067\u3059\u304c\u3001\u672c\u6765\u306e\u30ab\u30ea\u30fc\u5316\u306e\u610f\u5473\u3068\u5408\u3063\u3066\u3044\u308b\u306e\u304b\u78ba\u8a3c\u304c\u3082\u3066\u307e\u305b\u3093\u304c\u3001\u304d\u3063\u3068\u3053\u3046\u3044\u3046\u30cf\u30ba\uff01\u3068\u601d\u3063\u3066\u89e3\u8aac\u3092\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002~~\n\n*2016/6/6 \u8ffd\u8a18*\n\n\u30b3\u30e1\u30f3\u30c8\u6b04\u306b\u3066\u60c5\u5831\u3092\u9802\u304d\u307e\u3057\u3066\u3001\u3084\u3063\u3068\u7406\u89e3\u3067\u304d\u307e\u3057\u305f\uff01\n\n>\u8907\u6570\u306e\u5f15\u6570\u3092\u53d6\u308b\u95a2\u6570\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u63db\u3059\u308b\u307e\u3067\u304c\u30ab\u30ea\u30fc\u5316\u3067\u3059\u3002\n>\u3059\u3079\u3066\u306e\u5f15\u6570\u3092\u9069\u7528\u305b\u305a\u306b\u9014\u4e2d\u3067\u6b62\u3081\u308b\u306e\u304c\u90e8\u5206\u9069\u7528\u3067\u3059\u3002\n\n\u30b3\u30e1\u30f3\u30c8\u6b04\u306erryu\u69d8\u304c\u66f8\u3044\u3066\u4e0b\u3055\u3063\u305f\u30bd\u30fc\u30b9\u3092\u53c2\u7167\u3057\u3066\u3044\u305f\u3060\u3051\u308c\u3070\u4e00\u76ee\u77ad\u7136\u3067\u3059\uff01\n\n\u79c1\u304c\u300c\u308f\u304b\u3089\u306a\u3044\u300d\u3068\u601d\u3063\u3066\u3044\u305f\u4e8b\u306f\u3001\u300c\u90e8\u5206\u9069\u7528\u307e\u3067\u542b\u3081\u305f\u3082\u306e\u304c\u30ab\u30ea\u30fc\u5316\u300d\u3068\u601d\u3063\u3066\u3057\u307e\u3044\u300c\u90e8\u5206\u9069\u7528\u3068\u30ab\u30ea\u30fc\u5316\u306e\u5dee\u306fapply\u3068\u304bcall\u3068\u304b\u304c\u7d61\u3080\u306e\u304c\u9055\u3044\u306a\u306e\u304b\u306a\uff1f\u3048\uff1f\u3069\u3046\u3044\u3046\u3053\u3068\uff1f\u300d\u3068\u52dd\u624b\u306b\u610f\u5473\u306e\u5206\u304b\u3089\u306a\u3044\u6240\u306b\u30cf\u30de\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\n\u30b3\u30e1\u30f3\u30c8\u306b\u3066\u300c\u660e\u78ba\u306b\u5225\u300d\u3068\u3044\u3046\u65e8\u3092\u4ef0\u3063\u3066\u9802\u3051\u305f\u3053\u3068\u3067\u8133\u5185\u304c\u3068\u3066\u3082\u30b9\u30c3\u30ad\u30ea\u3057\u307e\u3057\u305f\uff01\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\uff01\n\n\n#### \u95a2\u6570\u306e\u9023\u7d9a\u5b9f\u884c\n\n\u5927\u5143\u3068\u306a\u308b\u95a2\u6570\u306f3\u3064\u306e\u5f15\u6570\u3092\u3082\u3063\u3066\u3044\u307e\u3059\u3002\u7d30\u304b\u3044\u5185\u5bb9\u306f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u53c2\u7167\u3057\u3066\u9802\u304f\u3068\u3057\u307e\u3059\u3002\n\n\u4e00\u6c17\u306b\u547c\u3073\u51fa\u3059\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u884c\u3044\u307e\u3059\u3002\n\n```js:\u5168\u3066\u306e\u5f15\u6570\u306b\u9069\u7528\nvar result = searchTextByElements(true)(tgt)(\"\u660e\u65e5\");\n```\n\n` () `\u304c\u7740\u304f\u3068\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\n\u307e\u305a\u306f`searchTextByElements(true)`\u304c\u5b9f\u884c\u3055\u308c\u3001\u305d\u306e\u623b\u308a\u5024\u306b` () `\u304c\u4ed8\u3044\u3066\u3001\u5f15\u6570`tgt`\u304c\u30bb\u30c3\u30c8\u3055\u308c\u305f\u300c\u4eca\u307e\u3055\u306b\u8fd4\u3063\u3066\u6765\u305f\u95a2\u6570\u300d\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\u305d\u306e\u623b\u308a\u5024\u306b\u307e\u305f` ( ) `\u304c\u4ed8\u304f\u3053\u3068\u3067\u540c\u69d8\u306b\u300c\u4eca\u307e\u3055\u306b\u8fd4\u3063\u3066\u6765\u305f\u95a2\u6570\u300d\u306e\u5b9f\u884c\u304c\u8d77\u304d\u307e\u3059\u3002\u305d\u306e\u969b\u306b\u5f15\u6570\u306b`\"\u660e\u65e5\"`\u304c\u30bb\u30c3\u30c8\u3055\u308c\u305f\u3082\u306e\u304c\u5b9f\u884c\u3055\u308c\u308b\u3001\u3068\u3044\u3046\u98a8\u306b\u3001\u95a2\u6570\u304c\u6b21\u3005\u306b\u5b9f\u884c\u3055\u308c\u3066\u3044\u304f\u4e8b\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u300c\u4eca\u307e\u3055\u306b\u8fd4\u3063\u3066\u6765\u305f\u95a2\u6570\u300d\u306f\u30af\u30ed\u30fc\u30b8\u30e3\u3067\u3059\u306e\u3067\u3001\u4e00\u756a\u521d\u3081\u3067\u547c\u3093\u3060\u95a2\u6570`function searchTextByElements(elem, target, str)`\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3067\u3042\u308b`elem`\u3068`target`\u3068`str`\u306f\u53c2\u7167\u3055\u308c\u7d9a\u3051\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u5b50\u30b9\u30b3\u30fc\u30d7\u3067\u3042\u308b\u6b21\u306e\u300c\u4eca\u307e\u3055\u306b\u8fd4\u3063\u3066\u6765\u305f\u95a2\u6570\u300d\u3067\u540c\u3058\u5024\u3092\u53c2\u7167\u3067\u304d\u308b\u3068\u3044\u3046\u4e8b\u3067\u3059\u3002\n\n#### \u65b0\u305f\u306a\u95a2\u6570\u306e\u4f5c\u6210\uff08\u90e8\u5206\u9069\u7528\uff09\n\n\u3067\u306e\u305d\u306e\u3088\u3046\u306a\u4fbf\u5229\u306a\u3057\u304f\u307f\u3092\u7528\u3044\u3066\u65b0\u305f\u306a\u95a2\u6570\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n```js:\u65b0\u305f\u306a\u95a2\u6570\u306e\u4f5c\u6210\u3068\u5b9f\u884c\nvar getElementsBySearch = searchTextByElements(true);\nvar getElementsByBoxes = getElementsBySearch(tgt);\nvar result = getElementsByBoxes(\"\u660e\u65e5\");\nvar resultToday = getElementsByBoxes(\"\u4eca\u65e5\"));\n```\n\n\n\uff11\u884c\u76ee\u3067\u3001\u65b0\u305f\u306b`getElementsBySearch`\u3068\u3044\u3046\u95a2\u6570\u540d\u3067`elem`\u306e\u5024\u3092`true`\u306b\u3057\u305f\u7d50\u679c\u306e\u95a2\u6570\u3092\u5909\u6570\u306b\u4ee3\u5165\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n\n\u3053\u308c\u306f\u3001`elem`\u3067\u6307\u5b9a\u3059\u308b\u5024\u3092 **\u6c7a\u3081\u6253\u3061**\u3057\u305f\u3082\u306e\u3092\u95a2\u6570\u5316\u3057\u305f\u3082\u306e\u3067\u3001\u3053\u306e\u95a2\u6570\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u672c\u6765\u306e\u95a2\u6570`searchTextByElements`\u306e\u5f15\u6570\u3092\uff11\u3064\u7121\u304f\u3059\u4e8b\u306b\u6210\u529f\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u4eca\u4f5c\u6210\u3057\u305f\u95a2\u6570\u306f\u3001\u95a2\u6570\u540d\u3067\u793a\u3057\u305f\u901a\u308a\u3001\u300c\u8981\u7d20\u3092\u691c\u7d22\u306b\u3088\u3063\u3066\u53d6\u308a\u51fa\u3059\u300d\u3068\u3044\u3063\u305f\u76ee\u7684\u306b\u4f7f\u3046\u305f\u3081\u306e\u95a2\u6570\u3092\u65b0\u305f\u306b\u4f5c\u3063\u305f\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u305f\u3060\u3053\u306e\u95a2\u6570\u306f\u3001\u305d\u306e\u307e\u307e\u4f7f\u7528\u3067\u304d\u305a\u3001\u3053\u306e\u95a2\u6570\u81ea\u4f53\u3082\u307e\u305f\u6b21\u306e\u95a2\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n-\n\n\u7d9a\u3051\u3066\u30012\u884c\u76ee\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u65b0\u305f\u306a\u95a2\u6570`getElementsByBoxes`\u306f\u3001\u691c\u7d22\u5bfe\u8c61\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u8981\u7d20\u3082\u6c7a\u3081\u3046\u3061\u3057\u3066\u3044\u308b\u95a2\u6570\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u4eca\u56de\u306e\u691c\u7d22\u5bfe\u8c61\u306fHTML\u304c\u30bf\u30b0\u540d\u304c`container`\u306e`div`\u8981\u7d20\u306e\u4e2d\u306b\u3042\u308b\u30af\u30e9\u30b9\u540d\u304c`box`\u306e`div`\u8981\u7d20\u306a\u306e\u3067\u3001\u65b0\u305f\u306a\u95a2\u6570\u540d\u3092`getElementsByBoxes`\u3068\u3057\u307e\u3057\u305f\u3002\n\n\u3042\u304f\u307e\u3067\u691c\u7d22\u7528\u306b\u4f7f\u3046\u95a2\u6570\u306a\u306e\u3067\u3001\u30dc\u30c3\u30af\u30b9\u3068\u3044\u3046\u540d\u524d\u306e\u8981\u7d20\u3092\u30b2\u30c3\u30c8\u3059\u308b\u95a2\u6570\u3068\u3057\u3066\u6df7\u540c\u3057\u3066\u3057\u307e\u3046\u6016\u308c\u304c\u3042\u308a\u307e\u3059\u3002\u306a\u306e\u3067\u660e\u78ba\u306a\u540d\u524d\u306e\u65b9\u304c\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002(getElementsByBoxesForSeachText\u306a\u3069)\n\n\u305d\u3057\u3066\uff13\u884c\u76ee\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u3088\u3046\u3084\u304f\u76ee\u7684\u306e\u5024\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u6240\u307e\u3067\u6765\u307e\u3057\u305f\u3002`getElementsByBoxes`\u306b\u5f15\u6570`\"\u660e\u65e5\"`\u3092\u6e21\u3057\u3066\u547c\u3073\u51fa\u3059\u3068\u3001\u914d\u5217\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\n\n4\u884c\u76ee\u306f\u3001\u5f15\u6570\u3092`\"\u4eca\u65e5\"`\u3068\u3059\u308b\u4e8b\u3067\u3001\u4eca\u65e5\u3068\u3044\u3046\u6587\u5b57\u304c\u5165\u3063\u305f\u3082\u306e\u3092\u8fd4\u3057\u3066\u304f\u308c\u308b\u3001\u3068\u3044\u3046\u4f7f\u3044\u65b9\u304c\u3067\u304d\u308b\u308f\u3051\u3067\u3059\u3002\n\n\u3053\u3046\u3044\u3046\u98a8\u306b\u3059\u308b\u3068\u3001\u9014\u4e2d\u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e\u5909\u66f4\u3092\u3057\u3066\u6271\u3044\u305f\u304f\u306a\u3063\u305f\u6642\u306b\u3001\u7d44\u307f\u5408\u308f\u305b\u3092\u81ea\u7531\u306b\u5909\u3048\u3089\u308c\u308b\u306e\u3067\u3001\u4fbf\u5229\u3060\u306a\u3068\u3044\u3046\u4e8b\u3067\u3059\u306d\u3002\n\n\u4eca\u56de\u3001\u9014\u4e2d\u3067\u95a2\u6570\u3068\u3057\u3066\u306f\u4e2d\u9014\u534a\u7aef\u306a\u3082\u306e\u304c\u3067\u304d\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001\u5b9f\u969b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304f\u3068\u3088\u308a\u30b9\u30de\u30fc\u30c8\u304b\u306a\u3068\u8ffd\u308f\u308c\u307e\u3059\u3002\n\n```js:\u5b9f\u969b\u306f\u3053\u3063\u3061\u304c\u826f\u3044\u304b\u3082\nvar getBoxesForSearchText = searchTextByElements(true)(tgt);\nvar result = getElementsByBoxesForSearchText(\"\u4eca\u65e5\");\n```\n\n\u4f59\u8a08\u306a\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u4f5c\u6210\u3055\u308c\u305a\u3001\u30b5\u30af\u30c3\u3068\u4f7f\u3044\u305f\u3044\u6642\u306b\u4f7f\u3048\u307e\u3059\u306d\u3002\n\n## bind()\n\n\u30ab\u30ea\u30fc\u5316\u3001\u5b9f\u306b\u5f37\u529b\u3067\u3059\u304c\u3001\u5b9f\u969b\u30ab\u30ea\u30fc\u5316\u7528\u306b\u95a2\u6570\u3092\u66f8\u304f\u306e\u306f\u5927\u5909\u3001\u3063\u3066\u6642\u306f\u7d44\u307f\u8fbc\u307f\u306e`bind`\u3092\u4f7f\u3046\u3068\u826f\u3044\u3088\u3046\u3067\u3059\u3002\n\n```js:bind\u3092\u7528\u3044\u305f\u65b0\u305f\u306a\u95a2\u6570\u4f5c\u6210\n/**\n * \u8981\u7d20\u306eHTML\u5185\u306b\u6307\u5b9a\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u308b\u6642\u306b\u8981\u7d20\u304b\u305d\u306ehtml\u81ea\u4f53\u3092\u8fd4\u3059\u95a2\u6570\n * @param {boolean} elem - \u8fd4\u3063\u3066\u304f\u308b\u914d\u5217\u306e\u4e2d\u8eab\u3092\u6307\u5b9a\u3002 true - \u8981\u7d20\u81ea\u4f53, false - HTML\u81ea\u4f53\n * @param {NodeList} targets - \u691c\u7d22\u5bfe\u8c61\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u914d\u5217\n * @param {string} str - \u691c\u7d22\u6587\u5b57\u5217\n */\nfunction searchTextByElements(elem, targets, str) {\n\n    //\u8fd4\u3059\u914d\u5217\u3092\u521d\u671f\u5316\n    var results = [];\n\n    //\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u6570\u3060\u3051\u7e70\u308a\u8fd4\u3059\n    for (var i = 0, max = targets.length; i < max; i += 1) {\n\n        //\u8981\u7d20\u5185\u306e\u6587\u5b57\u5217\u306b\u691c\u7d22\u6587\u5b57\u304c\u3042\u308b\u304b\u3069\u3046\u304b\n        if (targets[i].innerHTML.indexOf(str) > -1) {\n\n            //elem\u306e\u5024\u3092\u898b\u3066\u6761\u4ef6\u5206\u5c90\n            if (elem) {\n                results[results.length] = targets[i]; //\u8981\u7d20\u3092\u8fd4\u3059\n            } else {\n                results[results.length] = targets[i].innerHTML; //HTML\u5185\u306e\u6587\u5b57\u3092\u8fd4\u3059\n            }\n        }\n    }\n    //\u4f5c\u6210\u3057\u305f\u914d\u5217\u3092\u8fd4\u3059\n    return results;\n\n}\n\n//\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u8981\u7d20\u3092\u53d6\u5f97\nvar tgt = document.querySelectorAll(\"div#container div.box\");\n\n//\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u4e00\u65e6\u78ba\u8a8d\nconsole.dir(searchTextByElements(true, tgt, \"\u660e\u65e5\"));\n\n//\u65b0\u3057\u3044\u95a2\u6570\u3092bind\u3092\u4f7f\u3063\u3066\u4f5c\u6210\nvar getElementsByBoxesForSearchText = searchTextByElements.bind(null,true,tgt);\n\n//\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\nconsole.dir(getElementsByBoxesForSearchText(\"\u660e\u65e5\"));\nconsole.dir(getElementsByBoxesForSearchText(\"\u4eca\u65e5\"));\n```\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-05 13.29.17.png](https://qiita-image-store.s3.amazonaws.com/0/126965/18f40798-6fc4-8e8a-afc0-bdee4ffd1691.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-05 13.29.17.png\")\n\n`bind`\u306f\u65b0\u305f\u306b\u95a2\u6570\u3092\u4f5c\u6210\u3059\u308b\u95a2\u6570\u3067\u3001\u7b2c\u4e00\u5f15\u6570\u306f\u95a2\u6570\u5185\u3067\u4f7f\u7528\u3059\u308bthis\u306e\u675f\u7e1b\u3001\u7b2c\u4e8c\u5f15\u6570\u4ee5\u964d\u306f\u57fa\u3068\u306a\u308b\u95a2\u6570\u306e\u5f15\u6570\u306e\u4e26\u3073\u3068\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\n# \u611f\u60f3\n\n\u3069\u3093\u3069\u3093\u3084\u3084\u3053\u3057\u3044\uff01\u3069\u3093\u3069\u3093\u920d\u8db3\uff01\n\n~~\u305d\u3057\u3066\u30ab\u30ea\u30fc\u5316\u3067\u3059\u304c\u3001\u90e8\u5206\u9069\u7528\u3068\u660e\u78ba\u306a\u9055\u3044\u304c\u3042\u307e\u308a\u7406\u89e3\u51fa\u6765\u3066\u3044\u307e\u305b\u3093\u3002\u3072\u3087\u3063\u3068\u3057\u305f\u3089\u81ea\u5206\u304c\u66f8\u3044\u305f\u30bd\u30fc\u30b9\u306f\u90e8\u5206\u9069\u7528\u306a\u306e\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3057\u3001\u307e\u3060\u307e\u3060\u52c9\u5f37\u4e0d\u8db3\u3060\u3068\u601d\u3044\u307e\u3059\u3002~~\n\n\u30ab\u30ea\u30fc\u5316\u3068\u90e8\u5206\u9069\u7528\u3092\u66f8\u3044\u3066\u3044\u307e\u3057\u305f\u3002\u30b3\u30e1\u30f3\u30c8\u306e\u304a\u304b\u3052\u3067\u30b9\u30c3\u30ad\u30ea\u3057\u307e\u3057\u305f\uff01\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\uff01\n\n\u3068\u308a\u3042\u3048\u305a\u95a2\u6570\u7de8\u306f\u3053\u3053\u307e\u3067\u3068\u3057\u3066\u3001\u6b21\u306b\u9032\u3093\u3067\u3044\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u30ea\u30f3\u30af\n\n\u524d\u56de\u306f\u3053\u3061\u3089\n\n[\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411\u521d\u5fc3\u8005\u306e\u79c1\u304cJavaScript\u306b\u3082\u518d\u5165\u9580 \u300c\u95a2\u6570\u30fb\u521d\u671f\u5316\u95a2\u9023\u7de8\u300d \u301cJavaScript\u30d1\u30bf\u30fc\u30f3 \u5b66\u7fd27\u65e5\u76ee\u3010\u9003\u3052\u30e1\u30e2\u3011\u301c](http://qiita.com/syakegon/items/2cd6354d4df78186cbd4)\n\n\u30ab\u30ea\u30fc\u5316\u306b\u3042\u305f\u3063\u3066\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u3044\u305f\u30b5\u30a4\u30c8\n\n[javascript \u3067\u904a\u3076\u30e9\u30e0\u30c0\u5f0f\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u3001\u30ab\u30ea\u30fc\u5316](https://prezi.com/9brwewgcxtr2/javascript/)\n", "tags": ["JavaScript", "\u521d\u5fc3\u8005", "\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411"]}