{"tags": ["Edison", "Ubuntu"], "context": " More than 1 year has passed since last update.Intel Edison\u306f\u30c1\u30c3\u30d7\u4e0a\u306b\u30c7\u30e5\u30a2\u30eb\u30c1\u30e3\u30cd\u30eb\u306eWi-Fi\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5185\u8535\u3057\u3066\u3044\u308b\u3002\n\u901a\u5e38\u306fWi-Fi\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u3076\u3089\u4e0b\u304c\u308b\"infrastructure\u30e2\u30fc\u30c9\"\u304c\u7528\u3044\u3089\u308c\u308b\u304c\u3001Wi-Fi\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u4ecb\u3055\u305a\u306bWi-Fi\u6a5f\u5668\u3069\u3046\u3057\u304c\u76f4\u63a5\u901a\u4fe1\u3059\u308b\"ad-hoc\u30e2\u30fc\u30c9\"\u3067\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002\n\u3053\u306ead-hoc\u30e2\u30fc\u30c9\u3092\u7528\u3044\u3066\u3001\u8907\u6570\u306eEdison\u304c\u53c2\u52a0\u3059\u308b\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u69cb\u7bc9\u3057\u3001\u9069\u5207\u306a\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u5236\u5fa1\u3092\u884c\u3048\u3070\u3001Wi-Fi\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u7121\u304f\u3068\u3082\u8907\u6570\u306eEdison\u304c\u901a\u4fe1\u3067\u304d\u308b\u9589\u3058\u305f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\u4eca\u56de\u306f\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u5236\u5fa1\u306bbatman-adv\u3092\u7528\u3044\u3066\u3001Edison\u306ead-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u691c\u8a3c\u3092\u884c\u3063\u305f\u3002\n\nbatman-adv\u3092\u5c0e\u5165\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u306e\u30d3\u30eb\u30c9\n\u4ee5\u4e0b\u306e\u624b\u9806\u3092\u53c2\u8003\u306b\u3001batman-adv\u3092\u5c0e\u5165\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3002\nhttps://software.intel.com/en-us/blogs/2015/02/27/intel-edison-adding-kernel-modules-to-yocto-example-batman\n\uff08\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u306eCPU\u3068\u30c7\u30a3\u30b9\u30afI/O\u901f\u5ea6\u3001\u53ca\u3073\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u901f\u5ea6\u306b\u3082\u3088\u308b\u304c\u3001\u4eca\u56de\u7528\u3044\u305f\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u3067\u306f\u30d5\u30eb\u30d3\u30eb\u30c9\u306b6\u6642\u9593\u7a0b\u5ea6\u8981\u3057\u305f\uff09\n\u30d9\u30fc\u30b9\u3068\u306a\u308b\u30ab\u30fc\u30cd\u30eb\u30b3\u30fc\u30c9\u306f\u30012015/05/09\u6642\u70b9\u3067\u6700\u65b0\u306eIntel Edison\u00ae Board Firmware Software Release 2.1\u3092\u7528\u3044\u308b\uff08\u30b3\u30b3\u3092\u53c2\u7167\uff09\u3002\n\n\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u306e\u6e96\u5099\n\n\n\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\nCPU\nIntel(R) Core(TM)2 Duo CPU     E8500  @ 3.16GHz\n\n\nMemory\n7983MiB\n\n\nDistribution\nUbuntu 15.04\n\n\nKernel\n3.19.0-16-generic\n\n\n\n\n\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nnmatsui@develop:~$ sudo apt-get install build-essential git diffstat gawk chrpath texinfo libtool gcc-multilib u-boot-tools -y\n\n\n\nEdison\u7528yoctoPJ\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u53d6\u5f97\nnmatsui@develop:~$ wget http://downloadmirror.intel.com/24910/eng/edison-src-ww18-15.tgz\nnmatsui@develop:~$ tar xvfz edison-src-ww18-15.tgz \nnmatsui@develop:~$ cd edison-src/\n\n\n\n\u30d3\u30eb\u30c9\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n--bb_number_thread\u3068--parallel_make\u306f\u3001\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u306eCPU\u30b3\u30a2\u6570\u00d72\u3050\u3089\u3044\u3092\u6307\u5b9a\u3059\u308b\u3068\u826f\u3044\u3002\n\n./meta-intel-edison/setup.sh\u306e\u5185\u90e8\u3067\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3092git clone\u3057\u3066\u3044\u308b\u305f\u3081\u3001Proxy\u74b0\u5883\u4e0b\u3060\u3068\u52d5\u4f5c\u3057\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002\n\n\n\u30d3\u30eb\u30c9\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nnmatsui@develop:~/edison-src$ mkdir dl\nnmatsui@develop:~/edison-src$ mkdir sst\nnmatsui@develop:~/edison-src$ ./meta-intel-edison/setup.sh --dl_dir=./dl --sstate_dir=./sst --bb_number_thread=4 --parallel_make=4\nnmatsui@develop:~/edison-src$ source poky/oe-init-build-env\n\n\n\n\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u9078\u629e\n\nBATMAN\u306e\u8a2d\u5b9a\nnmatsui@develop:~/edison-src/build$ bitbake -c menuconfig virtual/kernel\n\n\n\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u5225\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u9078\u629e\u30e1\u30cb\u30e5\u30fc\u304c\u958b\u304f\u3002\n\u203b \u5225\u30a6\u30a3\u30f3\u30c9\u30a6\u304c\u958b\u304f\u307e\u3067\u5c11\u3057\u6642\u9593\u304c\u304b\u304b\u308b\nNetworking support ---> Networking options ---> B.A.T.M.A.N. Advanced Meshing Protocol \u3068\u9077\u79fb\u3059\u308b\u3002\n\n\n\nbatman-adv\u3092\u30ed\u30fc\u30c0\u30d6\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u7d44\u307f\u8fbc\u3080\u3002\n\nB.A.T.M.A.N. Advanced Meshing Protocol\u3092<M>\u306b\u3059\u308b\n\n\nBridge Loop Avoidance\u3092[*]\u306b\u3059\u308b\nDistributed ARP Table\u3092[*]\u306b\u3059\u308b\nNetwork Coding\u3092[*]\u306b\u3059\u308b\nB.A.T.M.A.N. debugging\u3092[*]\u306b\u3059\u308b\n\n\n\n\u203b <M>\u306f\u30ed\u30fc\u30c0\u30d6\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u7d44\u307f\u8fbc\u307e\u308c\u308b\u3068\u3044\u3046\u610f\u5473\n\n< SAVE > \u3067.config\u306b\u4e0a\u66f8\u304d\u4fdd\u5b58\u3057\u305f\u5f8c\u30013\u56de < Exit > \u3059\u308b\u3068\u30e1\u30cb\u30e5\u30fc\u304c\u7d42\u4e86\u3059\u308b\u3002\n\n\n./tmp/work/edison-poky-linux/linux-yocto/<your current kernel>/linux-edison-standard-build/\u4ee5\u4e0b\u306e.config.old\u3068.config\u306ediff\u3092\u53d6\u308b\u3068\u3001\u30e1\u30cb\u30e5\u30fc\u753b\u9762\u3067\u8a2d\u5b9a\u3057\u305fbatman-adv\u306e\u8a2d\u5b9a\u9805\u76ee\u304c\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n--- .config.old 2015-05-08 22:35:47.828091117 +0900\n+++ .config 2015-05-08 22:45:47.654645792 +0900\n@@ -925,7 +925,11 @@\n CONFIG_NET_SCH_FIFO=y\n # CONFIG_DCB is not set\n CONFIG_DNS_RESOLVER=y\n-# CONFIG_BATMAN_ADV is not set\n+CONFIG_BATMAN_ADV=m\n+CONFIG_BATMAN_ADV_BLA=y\n+CONFIG_BATMAN_ADV_DAT=y\n+CONFIG_BATMAN_ADV_NC=y\n+CONFIG_BATMAN_ADV_DEBUG=y\n # CONFIG_OPENVSWITCH is not set\n # CONFIG_VSOCKETS is not set\n # CONFIG_NETLINK_MMAP is not set\n\n\n\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d3\u30eb\u30c9\nEdison\u306e\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3002\n\n.config\u3092recipes-kernel\u306edefconfig\u30b3\u30d4\u30fc\nnmatsui@develop:~/edison-src/build$ mv ../meta-intel-edison/meta-intel-edison-bsp/recipes-kernel/linux/files/defconfig ../meta-intel-edison/meta-intel-edison-bsp/recipes-kernel/linux/files/defconfig.old\nnmatsui@develop:~/edison-src/build$ cp tmp/work/edison-poky-linux/linux-yocto/3.10.17+gitAUTOINC+6ad20f049a_c03195ed6e-r0/linux-edison-standard-build/.config ../meta-intel-edison/meta-intel-edison-bsp/recipes-kernel/linux/files/defconfig\n\n\n\n\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d3\u30eb\u30c9\nnmatsui@develop:~/edison-src/build$ bitbake -c compile_kernelmodules virtual/kernel\n\n\n\nbatctl\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d3\u30eb\u30c9\nbatman-adv\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3batctl\u306fopkg\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u30b3\u30b3\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308brecipe\u3092\u5143\u306b\u3001 http://www.open-mesh.org \u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308bbatctl\u306e\u30bd\u30fc\u30b9\u3092\u53d6\u5f97\u3057\u3066Edison\u7528\u306b\u30d3\u30eb\u30c9\u3059\u308brecipe\u3092\u4f5c\u6210\u3059\u308b\u3002\nrecipe\u306e\u540d\u524d\u304b\u3089\u53d6\u5f97\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u6c7a\u307e\u308b\u30022015/05/09\u6642\u70b9\u3067\u6700\u65b0\u306ebatctl\u306fbatctl-2015.0.tar.gz\u306a\u306e\u3067\u3001recipe\u306e\u540d\u524d\u3092batctl_2015.0.bb\u306b\u3059\u308b\u3002\n\nrecipe\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\nnmatsui@develop:~/edison-src/build$ mkdir ../meta-intel-edison/meta-intel-edison-distro/recipes-support/batman/\n\n\n\nbatctl\u306erecipe\u4f5c\u6210\nnmatsui@develop:~/edison-src/build$ vi ../meta-intel-edison/meta-intel-edison-distro/recipes-support/batman/batctl_2015.0.bb\n\n\n\nbatctl_2015.0.bb\nDESCRIPTION = \"Control application for B.A.T.M.A.N. routing protocol kernel module for multi-hop ad-hoc mesh networks.\"\nHOMEPAGE = \"http://www.open-mesh.net/\"\nSECTION = \"console/network\"\nPRIORITY = \"optional\"\n\nLICENSE = \"GPLv2+\"\nLIC_FILES_CHKSUM = \"file://../license-destdir/${PN}/generic_GPLv2;md5=801f80980d171dd6425610833a22dbe6\"\n\nRDEPENDS_${PN} = \"kernel-module-batman-adv\"\nDEPENDS = \"libnl\"\n\nSRC_URI = \"http://downloads.open-mesh.net/batman/stable/sources/batctl/batctl-${PV}.tar.gz\\\n     file://patch.patch\"\nSRC_URI[md5sum] = \"d28ad89d71888ad6b99a1f6b30c9d47c\"\nSRC_URI[sha256sum] = \"634d91189f96bda6d4ce6179dce90ad578566f29d3111b49d6e775d4f3591f04\"\n\nEXTRA_OEMAKE = 'STAGING_INC=\"${STAGING_INC}\"'\n\ndo_compile() {\n  oe_runmake\n}\n\ndo_install() {\n  install -d ${D}${bindir}\n  install -m 0755 batctl ${D}${bindir}\n}\n\n\n\u305f\u3060\u3057open-mesh.org\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u305d\u306e\u307e\u307e\u3067\u306f\u3001Edison\u7528\u306b\u30d3\u30eb\u30c9\u3067\u304d\u306a\u3044\u305f\u3081\u3001Makefile\u306epatch\u3082\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002\n\nrecipe\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\nnmatsui@develop:~/edison-src/build$ mkdir ../meta-intel-edison/meta-intel-edison-distro/recipes-support/batman/files\n\n\n\nbatctl\u306eMakefile\u306epatch\u4f5c\u6210\nnmatsui@develop:~/edison-src/build$ vi ../meta-intel-edison/meta-intel-edison-distro/recipes-support/batman/files/patch.patch\n\n\n\npatch.patch\n--- a/Makefile  2015-05-08 23:26:31.973042073 +0900\n+++ b/Makefile  2015-05-08 23:27:21.456806172 +0900\n@@ -29,7 +29,7 @@\n MANPAGE = man/batctl.8\n\n # batctl flags and options\n-CFLAGS += -Wall -W -std=gnu99 -fno-strict-aliasing -MD -MP\n+CFLAGS += -Wall -W -std=gnu99 -fno-strict-aliasing -MD -MP -I${STAGING_INC}/libnl3\n CPPFLAGS += -D_GNU_SOURCE\n LDLIBS += -lm\n\n\n\n\u203b patch.patch\u306e\u672b\u5c3e\u306b\u7a7a\u767d\u884c\u304c1\u884c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3002\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3068\u3001tmp/deploy/ipk/core2-32/batctl_2015.0-r0_core2-32.ipk\u3068\u3057\u3066batctl\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\nbatctl\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d3\u30eb\u30c9\nnmatsui@develop:~/edison-src/build$ bitbake batctl\n\n\n\nEdison\u306e\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u306e\u30d3\u30eb\u30c9\n\u6b21\u306b\u3001Edison\u306b\u713c\u304d\u3053\u3080\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u5168\u4f53\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3002\n\u203b \u975e\u5e38\u306b\u6642\u9593\u304c\u304b\u304b\u308b\u306e\u3067\u6ce8\u610f\n\nEdison\u306e\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\nnmatsui@develop:~/edison-src/build$ bitbake edison-image\n\n\n\u306a\u304a\u81ea\u52d5\u7684\u306bFetch\u3067\u304d\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3042\u3063\u305f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\nFetch\u5931\u6557\u6642\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\nERROR: Function failed: Fetcher failure for URL: 'http://downloads.sourceforge.net/swig/swig-3.0.5.tar.gz'. Unable to fetch URL from any source.\n\n\n\u3053\u306e\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5f53\u8a72\u30d5\u30a1\u30a4\u30eb\u3092\u4e8b\u524dFetch\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u30a8\u30e9\u30fc\u3092\u56de\u907f\u3067\u304d\u308b\u3002\n\n\u5f53\u8a72\u30d5\u30a1\u30a4\u30eb\u3092\u30de\u30cb\u30e5\u30a2\u30eb\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n\u30d3\u30eb\u30c9\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\uff08./meta-intel-edison/setup.sh\uff09\u6642\u306b--dl_dir\u3067\u6307\u5b9a\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3059\u308b\n\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5b8c\u4e86\u30d5\u30a1\u30a4\u30eb\uff08*.done\uff09\u3092touch\u3059\u308b\n\n\nEdison\u3078\u713c\u304d\u8fbc\u3080\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u306e\u6e96\u5099\n\u6700\u5f8c\u306b\u3001\u30d3\u30eb\u30c9\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u3092toFlash\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u307e\u3068\u3081\u308b\u3002\n\n\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u306e\u6e96\u5099\nnmatsui@develop:~/edison-src/build$ ../meta-intel-edison/utils/flash/postBuild.sh\n\n\ntoFlash/package-list.txt\u3092\u898b\u308c\u3070\u3001\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306bbatman-adv\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\nbatman-adv\u304c\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\nnmatsui@develop:~/edison-src/build$ grep \"batman-adv\" toFlash/package-list.txt \nkernel-module-batman-adv 3.10.17+git0+6ad20f049a_c03195ed6e-r0\n\n\n\nEdison\u306e\u6e96\u5099\nad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u7d44\u3080\u3059\u3079\u3066\u306eEdison\u3067\u3001\u3053\u306e\u7ae0\u306e\u4f5c\u696d\u3092\u884c\u3046\u3002\n\n\u30ab\u30fc\u30cd\u30eb\u306e\u713c\u304d\u8fbc\u307f\nEdison\u306e\u7d66\u96fbUSB\u30dd\u30fc\u30c8\u3092\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3059\u308b\u3068\u3001Edison\u306emass-storage\u304c/media/<user name>/Edison\u306b\u30de\u30a6\u30f3\u30c8\u3055\u308c\u308b\u3002toFlash\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\u3059\u3079\u3066\u3092\u3001\u30de\u30a6\u30f3\u30c8\u3055\u308c\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u30b3\u30d4\u30fc\u3059\u308b\u3002\n\u203b \u904e\u53bb\u306b\u8ee2\u9001\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u304c\u3042\u308b\u5834\u5408\u3001\u4e8b\u524d\u306b\u3059\u3079\u3066\u524a\u9664\u3059\u308b\n\n\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u306e\u8ee2\u9001\nnmatsui@develop:~/edison-src/build$ rm -rf /media/nmatsui/Edison/*\nnmatsui@develop:~/edison-src/build$ cp -r ./toFlash/* /media/nmatsui/Edison/\n\n\n\u30ea\u30e2\u30fc\u30c8\u30b3\u30f3\u30bd\u30fc\u30ebUSB\u30dd\u30fc\u30c8\u7d4c\u7531\u3067Edison\u306b\u30b7\u30ea\u30a2\u30eb\u63a5\u7d9a\u3057\u3001\u8ee2\u9001\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u3092Edison\u3078\u713c\u304d\u8fbc\u3080\u3002\n\n\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u306e\u713c\u304d\u8fbc\u307f\nnmatsui@develop:~$ sudo screen /dev/ttyUSB0 115200\nroot@edison:~# reboot ota\n\n\n\n\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u306eusb0\u30c7\u30d0\u30a4\u30b9\u306e\u6e96\u5099\n\u7d66\u96fbUSB\u30dd\u30fc\u30c8\u7d4c\u7531\u3067SCP\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u306eusb0\u30c7\u30d0\u30a4\u30b9\u306bEdison\u306eusb0\u30c7\u30d0\u30a4\u30b9\u3068\u540c\u3058\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff08192.168.2.0/24\uff09\u306b\u6240\u5c5e\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u4e0e\u3048\u308b\u3002\n\nusb0\u30c7\u30d0\u30a4\u30b9\u306e\u8a2d\u5b9a\nnmatsui@develop:~/edison-src/build$ sudo ip addr add 192.168.2.2/24 dev usb0\nnmatsui@develop:~/edison-src/build$ sudo ip addr show usb0\n14: usb0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UNKNOWN group default qlen 1000\n    link/ether b6:04:bc:f9:d0:e8 brd ff:ff:ff:ff:ff:ff\n    inet 192.168.2.2/24 scope global usb0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::b404:bcff:fef9:d0e8/64 scope link \n       valid_lft forever preferred_lft forever\n\n\n\nEdison\u306e\u521d\u671f\u8a2d\u5b9a\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u30fb\u30db\u30b9\u30c8\u540d\u30fbWi-Fi\u306e\u8a2d\u5b9a\n\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u30db\u30b9\u30c8\u540d\u3001\u53ca\u3073Wi-Fi\u3092\u8a2d\u5b9a\u3059\u308b\u3002\nad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u53c2\u52a0\u3059\u308b\u3059\u3079\u3066\u306eEdison\u3067\u3001\u30db\u30b9\u30c8\u540d\u304c\u91cd\u8907\u3057\u306a\u3044\u3088\u3046\u306b\u6ce8\u610f\u3059\u308b\u3053\u3068\u3002\n\nedison\u306e\u521d\u671f\u8a2d\u5b9a\nroot@edison:~# configure_edison --setup\n\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3067\u304d\u308bWi-Fi\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308b\u3046\u3061\u306b\u3001Edison\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\u3002\n\nbase-feed\u3092\u8a2d\u5b9a\nroot@edison:~# echo 'src/gz all http://repo.opkg.net/edison/repo/all' >> /etc/opkg/base-feeds.conf \nroot@edison:~# echo 'src/gz edison http://repo.opkg.net/edison/repo/edison' >> /etc/opkg/base-feeds.conf \nroot@edison:~# echo 'src/gz core2-32 http://repo.opkg.net/edison/repo/core2-32' >> /etc/opkg/base-feeds.conf\n\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\nroot@edison:~# opkg update\nroot@edison:~# opkg upgrade\n\n\n\nbatctl\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u304b\u3089usb0\u7d4c\u7531\u3067batctl\u30d1\u30c3\u30b1\u30fc\u30b8\u3092SCP\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\nEdison\u306eusb0\u30c7\u30d0\u30a4\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d\nroot@edison:~# ip addr show usb0\n4: usb0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n    link/ether 02:00:86:93:53:62 brd ff:ff:ff:ff:ff:ff\n    inet 192.168.2.15/24 brd 192.168.2.255 scope global usb0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::86ff:fe93:5362/64 scope link \n       valid_lft forever preferred_lft forever\n\n\n\n\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u304b\u3089ipk\u3092SCP\nnmatsui@develop:~/edison-src/build$ scp ./tmp/deploy/ipk/core2-32/batctl_2015.0-r0_core2-32.ipk root@192.168.2.15:/tmp\n\n\n\nbatctl\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nroot@edison:~# opkg install /tmp/batctl_2015.0-r0_core2-32.ipk \n\n\n\nEdison\u306e\u505c\u6b62\nEdison\u3092\u505c\u6b62\u3057\u3001\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u304b\u3089\u7d66\u96fbUSB\u30dd\u30fc\u30c8\u3068\u30ea\u30e2\u30fc\u30c8\u30b3\u30f3\u30bd\u30fc\u30ebUSB\u30dd\u30fc\u30c8\u306e\u63a5\u7d9a\u3092\u5916\u3059\u3002\u4ee5\u964d\u3001\u7d66\u96fbUSB\u30dd\u30fc\u30c8\u306f\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u3078\u63a5\u7d9a\u3059\u308b\u5fc5\u8981\u306f\u306a\u304f\u3001\u96fb\u6c60\u306a\u3069\u304b\u3089\u7d66\u96fb\u3059\u308c\u3070\u826f\u3044\u3002\n\nreboot\nroot@edison:~# shutdown -h now\n\n\n\nad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u69cb\u7bc9\nEdison\u3092\u8d77\u52d5\u3057\u3066\u30b7\u30ea\u30a2\u30eb\u63a5\u7d9a\u3057\u3001ad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u3002\n\u4eca\u56de\u306fArduino Board\u306eEdison\uff08edison01\uff09\u3068Breakout Board\u306eEdison\uff08edison02\uff09\u3068\u3044\u30462\u53f0\u306eEdison\u3067\u5b9f\u9a13\u3057\u305f\u3002\n\u203b Edison\u30c1\u30c3\u30d7\u306b\u5185\u8535\u3055\u308c\u305fWi-Fi\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u3001Board\u306e\u5dee\u7570\u306b\u610f\u5473\u306f\u306a\u3044\n\n\n\n\u30db\u30b9\u30c8\u540d\nbatman-adv\u304c\u4e0e\u3048\u305fIPv6\u30a2\u30c9\u30ec\u30b9\n\u81ea\u5206\u3067\u4e0e\u3048\u305fIPv4\u30a2\u30c9\u30ec\u30b9\n\n\n\n\nedison01\nfe80::7400:b5ff:fed4:7b91/64\n10.0.0.1/24\n\n\nedison02\nfe80::0430:58ff:feeb:3415/64\n10.0.0.2/24\n\n\n\n\nbatman-adv\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30ed\u30fc\u30c9\n\nbatman-adv\u3092\u30ed\u30fc\u30c9\nroot@edison01:~# lsmod | grep batman\nroot@edison01:~# modprobe batman-adv\nroot@edison01:~# lsmod | grep batman\nbatman_adv            145288  0 \nroot@edison01:~# modinfo batman-adv\nfilename:       /lib/modules/3.10.17-yocto-standard/kernel/net/batman-adv/batman-adv.ko\nversion:        2013.2.0\ndescription:    B.A.T.M.A.N. advanced\nauthor:         Marek Lindner <lindner_marek@yahoo.de>, Simon Wunderlich <siwu@hrz.tu-chemnitz.de>\nlicense:        GPL\nsrcversion:     66711903985B5CAAE0DAF30\ndepends:        \nintree:         Y\nvermagic:       3.10.17-yocto-standard SMP preempt mod_unload ATOM \n\n\n\nmodinfo\u3067\u8868\u793a\u3055\u308c\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u3084\u3001lsmod\u3067\u8868\u793a\u3055\u308c\u308b\"batman_adv\"\u3068\u3044\u3046\u30a2\u30f3\u30c0\u30fc\u30d0\u30fc\u306b\u306a\u3063\u3066\u3044\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u540d\u304c\u3069\u3053\u304b\u3089\u6765\u305f\u306e\u304b\u306f\u8b0e\u3002\u3002\u3002\n\n\nWi-Fi\u3092ad-hoc\u30e2\u30fc\u30c9\u306b\u5909\u66f4\nEdison\u306eWi-Fi\u3092ad-hoc\u30e2\u30fc\u30c9\u306b\u5909\u66f4\u3059\u308b\u3002\n\u5468\u6ce2\u6570\u5e2f\u3068ssid\u3092\u4e00\u81f4\u3055\u305b\u3001mode\u3092ad-hoc\u306b\u3057\u3001\u516c\u958bAP\u304b\u3064\u8a8d\u8a3c\u7121\u3057\u3068\u3044\u3046\u8a2d\u5b9a\u306b\u3057\u306a\u3051\u308c\u3070\u3001ad-hoc\u63a5\u7d9a\u3067\u304d\u306a\u3044\u3002\n\uff08Edison\u306eWi-Fi\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8a73\u7d30\u306f\u3001Intel edison Wi-Fi Guide\u3092\u53c2\u7167\uff09\n\n\u518d\u8d77\u52d5\u76f4\u5f8c\u306e\u72b6\u614b\nroot@edison01:~# ip addr show wlan0\n3: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n    link/ether 78:4b:87:a0:18:fd brd ff:ff:ff:ff:ff:ff\n    inet 192.168.0.9/24 scope global wlan0\n       valid_lft forever preferred_lft forever\n\nroot@edison01:~# wpa_cli status\nSelected interface 'wlan0'\nbssid=1c:b1:7f:e2:de:96\nssid=XXXXXXXX\nid=0\nmode=station\npairwise_cipher=CCMP\ngroup_cipher=CCMP\nkey_mgmt=WPA2-PSK\nwpa_state=COMPLETED\nip_address=192.168.0.9\np2p_device_address=7a:4b:87:a0:18:fd\naddress=78:4b:87:a0:18:fd\n\n\n\nWi-Fi(wlan0)\u306e\u8a2d\u5b9a\u5909\u66f4\nroot@edison01:~# wpa_cli -iwlan0 disconnect\nOK\nroot@edison01:~# wpa_cli -iwlan0 remove_network all\nOK\nroot@edison01:~# wpa_cli -iwlan0 add_network\n0\nroot@edison01:~# wpa_cli -iwlan0 set_network 0 frequency 2412\nOK\nroot@edison01:~# wpa_cli -iwlan0 set_network 0 mode 1\nOK\nroot@edison01:~# wpa_cli -iwlan0 set_network 0 ssid \\\"batman\\\"\nOK\nroot@edison01:~# wpa_cli -iwlan0 set_network 0 auth_alg OPEN\nOK\nroot@edison01:~# wpa_cli -iwlan0 set_network 0 key_mgmt NONE\nOK\nroot@edison01:~# wpa_cli -iwlan0 set_network 0 scan_ssid 1\nOK\nroot@edison01:~# wpa_cli -iwlan0 select_network 0\nOK\nroot@edison01:~# wpa_cli -iwlan0 enable_network 0\nOK\n\n\n\nWi-Fi\u3092ad-hoc\u306b\u3057\u305f\u72b6\u614b\nroot@edison01:~# ip addr show wlan0\n3: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n    link/ether 78:4b:87:a0:18:fd brd ff:ff:ff:ff:ff:ff\n\nroot@edison01:~# wpa_cli status\nSelected interface 'wlan0'\nbssid=02:6f:13:7a:9b:d3\nssid=batman\nid=0\nmode=IBSS\npairwise_cipher=NONE\ngroup_cipher=NONE\nkey_mgmt=NONE\nwpa_state=COMPLETED\np2p_device_address=7a:4b:87:a0:18:fd\naddress=78:4b:87:a0:18:fd\n\n\n\n\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u7bc9\nbatctl\u3092\u7528\u3044\u3001wlan0\u306ead-hoc\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306b\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u69cb\u7bc9\u3059\u308b\u3002\n\nbatman-adv\u8d77\u52d5\nroot@edison01:~# batctl if add wlan0\nroot@edison01:~# ip link set dev bat0 up\n\n\n\nbatman-adv\u3092\u8d77\u52d5\u3057\u305f\u72b6\u614b\nroot@edison01:~# ip addr show bat0\n5: bat0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue \n    link/ether 76:00:b5:d4:7b:91 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::7400:b5ff:fed4:7b91/64 scope link \n       valid_lft forever preferred_lft forever\n\n\n\u4e0a\u8a18\u306e\u4f5c\u696d\u30921\u53f0\u76ee\u306eEdison\uff08edison01\uff09\u3067\u5b9f\u884c\u3059\u308b\u3068\u3001batman-adv\u306b\u3088\u308a\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9 bat0 \u304c\u69cb\u6210\u3055\u308c\u3001\u30ea\u30f3\u30af\u30ed\u30fc\u30ab\u30eb\u306eIPv6\u30a2\u30c9\u30ec\u30b9 fe80::7400:b5ff:fed4:7b91/64 \u304c\u81ea\u52d5\u7684\u306b\u4e0e\u3048\u3089\u305f\u3002\n\u305f\u3060\u3057batman-adv\u306fIPv4\u30a2\u30c9\u30ec\u30b9\u3092\u81ea\u52d5\u3067\u4e0e\u3048\u306a\u3044\u305f\u3081\u3001\u4eca\u56de\u306f\u624b\u4f5c\u696d\u306710.0.0.1/24\u306eIPv4\u30a2\u30c9\u30ec\u30b9\u3092\u4e0e\u3048\u305f\u3002\n\nIPv4\u30a2\u30c9\u30ec\u30b9\u306e\u4ed8\u4e0e\nroot@edison01:~# ip addr add 10.0.0.1/24 dev bat0\nroot@edison01:~# ip addr show bat0\n5: bat0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue \n    link/ether 76:00:b5:d4:7b:91 brd ff:ff:ff:ff:ff:ff\n    inet 10.0.0.1/24 scope global bat0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::7400:b5ff:fed4:7b91/64 scope link \n       valid_lft forever preferred_lft forever\n\n\n\u540c\u69d8\u306e\u4f5c\u696d\u30922\u53f0\u76ee\u306eEdison\uff08edison02\uff09\u3067\u3082\u5b9f\u884c\u3057\u3001ad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067fe80::0430:58ff:feeb:3415/64\u306810.0.0.2/24\u306e\u30a2\u30c9\u30ec\u30b9\u304c\u4e0e\u3048\u3089\u308c\u305f\u3002\n\n\u63a5\u7d9a\u691c\u8a3c\n\u3053\u3053\u307e\u3067\u3067\u3001ad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306bedison01\u3068edison02\u304c\u63a5\u7d9a\u3055\u308c\u305f\u306e\u3067\u3001\u63a5\u7d9a\u78ba\u8a8d\u3092\u884c\u3046\u3002\n\nedison01\n\n\u81ea\u8eab\u306ebat0 IPv6\u30a2\u30c9\u30ec\u30b9\u3078ping\nroot@edison01:~# ping -c 3 fe80::7400:b5ff:fed4:7b91\nPING fe80::7400:b5ff:fed4:7b91 (fe80::7400:b5ff:fed4:7b91): 56 data bytes\n64 bytes from fe80::7400:b5ff:fed4:7b91: seq=0 ttl=64 time=0.260 ms\n64 bytes from fe80::7400:b5ff:fed4:7b91: seq=1 ttl=64 time=0.274 ms\n64 bytes from fe80::7400:b5ff:fed4:7b91: seq=2 ttl=64 time=0.271 ms\n\n--- fe80::7400:b5ff:fed4:7b91 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.260/0.268/0.274 ms\n\n\n\u81ea\u8eab\u306ebat0 IPv4\u30a2\u30c9\u30ec\u30b9\u3078ping\nroot@edison01:~# ping -c 3 10.0.0.1\nPING 10.0.0.1 (10.0.0.1): 56 data bytes\n64 bytes from 10.0.0.1: seq=0 ttl=64 time=0.252 ms\n64 bytes from 10.0.0.1: seq=1 ttl=64 time=0.226 ms\n64 bytes from 10.0.0.1: seq=2 ttl=64 time=0.227 ms\n\n--- 10.0.0.1 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.226/0.235/0.252 ms\n\n\n\u81ea\u8eab\u306emulticast DNS\u540d\u306bping\nIntel Edison Board Firmware Software Release 2.1\u306e\u30ab\u30fc\u30cd\u30eb\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067multicst DNS\u304c\u52d5\u4f5c\u3059\u308b\u305f\u3081\u3001<\u30db\u30b9\u30c8\u540d>.local\u3067\u3082\u5404Edison\u306b\u63a5\u7d9a\u3067\u304d\u308b\u306f\u305a\u3002\nroot@edison01:~# ping -c 3 edison01.local\nPING edison01.local (10.0.0.1): 56 data bytes\n64 bytes from 10.0.0.1: seq=0 ttl=64 time=0.211 ms\n64 bytes from 10.0.0.1: seq=1 ttl=64 time=0.227 ms\n64 bytes from 10.0.0.1: seq=2 ttl=64 time=0.230 ms\n\n--- edison01.local ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.211/0.222/0.230 ms\n\n\nedison02\u306ebat0 IPv6\u30a2\u30c9\u30ec\u30b9\u3078ping\nroot@edison01:~# ping -c 3 fe80::0430:58ff:feeb:3415\nPING fe80::0430:58ff:feeb:3415 (fe80::430:58ff:feeb:3415): 56 data bytes\n64 bytes from fe80::430:58ff:feeb:3415: seq=0 ttl=64 time=22.225 ms\n64 bytes from fe80::430:58ff:feeb:3415: seq=1 ttl=64 time=21.356 ms\n64 bytes from fe80::430:58ff:feeb:3415: seq=2 ttl=64 time=30.626 ms\n\n--- fe80::0430:58ff:feeb:3415 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 21.356/24.735/30.626 ms \n\n\nedison02\u306ebat0 IPv4\u30a2\u30c9\u30ec\u30b9\u3078ping\nroot@edison01:~# ping -c 3 10.0.0.2 \nPING 10.0.0.2 (10.0.0.2): 56 data bytes\n64 bytes from 10.0.0.2: seq=0 ttl=64 time=9.282 ms\n64 bytes from 10.0.0.2: seq=1 ttl=64 time=8.884 ms\n64 bytes from 10.0.0.2: seq=2 ttl=64 time=18.188 ms\n\n--- 10.0.0.2 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 8.884/12.118/18.188 ms\n\n\nedison02\u306emulticast DNS\u540d\u306bping\nroot@edison01:~# ping -c 3 edison02.local\nPING edison02.local (10.0.0.2): 56 data bytes\n64 bytes from 10.0.0.2: seq=0 ttl=64 time=42.641 ms\n64 bytes from 10.0.0.2: seq=1 ttl=64 time=37.797 ms\n64 bytes from 10.0.0.2: seq=2 ttl=64 time=41.481 ms\n\n--- edison02.local ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 37.797/40.639/42.641 ms\n\n\nedison02\n\n\u81ea\u8eab\u306ebat0 IPv6\u30a2\u30c9\u30ec\u30b9\u3078ping\nroot@edison02:~# ping -c 3 fe80::0430:58ff:feeb:3415\nPING fe80::0430:58ff:feeb:3415 (fe80::430:58ff:feeb:3415): 56 data bytes\n64 bytes from fe80::430:58ff:feeb:3415: seq=0 ttl=64 time=0.261 ms\n64 bytes from fe80::430:58ff:feeb:3415: seq=1 ttl=64 time=0.273 ms\n64 bytes from fe80::430:58ff:feeb:3415: seq=2 ttl=64 time=0.273 ms\n\n--- fe80::0430:58ff:feeb:3415 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.261/0.269/0.273 ms\n\n\n\u81ea\u8eab\u306ebat0 IPv4\u30a2\u30c9\u30ec\u30b9\u3078ping\nroot@edison02:~# ping -c 3 10.0.0.2\nPING 10.0.0.2 (10.0.0.2): 56 data bytes\n64 bytes from 10.0.0.2: seq=0 ttl=64 time=0.255 ms\n64 bytes from 10.0.0.2: seq=1 ttl=64 time=0.227 ms\n64 bytes from 10.0.0.2: seq=2 ttl=64 time=0.228 ms\n\n--- 10.0.0.2 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.227/0.236/0.255 ms\n\n\n\u81ea\u8eab\u306emulticast DNS\u540d\u306bping\nroot@edison02:~# ping -c 3 edison02.local\nPING edison02.local (10.0.0.2): 56 data bytes\n64 bytes from 10.0.0.2: seq=0 ttl=64 time=0.193 ms\n64 bytes from 10.0.0.2: seq=1 ttl=64 time=0.227 ms\n64 bytes from 10.0.0.2: seq=2 ttl=64 time=0.225 ms\n\n--- edison02.local ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.193/0.215/0.227 ms\n\n\nedison01\u306ebat0 IPv6\u30a2\u30c9\u30ec\u30b9\u3078ping\nroot@edison02:~# ping -c 3 fe80::7400:b5ff:fed4:7b91\nPING fe80::7400:b5ff:fed4:7b91 (fe80::7400:b5ff:fed4:7b91): 56 data bytes\n64 bytes from fe80::7400:b5ff:fed4:7b91: seq=0 ttl=64 time=42.838 ms\n64 bytes from fe80::7400:b5ff:fed4:7b91: seq=1 ttl=64 time=17.808 ms\n64 bytes from fe80::7400:b5ff:fed4:7b91: seq=2 ttl=64 time=50.349 ms\n\n--- fe80::7400:b5ff:fed4:7b91 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 17.808/36.998/50.349 ms\n\n\nedison01\u306ebat0 IPv4\u30a2\u30c9\u30ec\u30b9\u3078ping\nroot@edison02:~# ping -c 3 10.0.0.1\nPING 10.0.0.1 (10.0.0.1): 56 data bytes\n64 bytes from 10.0.0.1: seq=0 ttl=64 time=40.028 ms\n64 bytes from 10.0.0.1: seq=1 ttl=64 time=39.172 ms\n64 bytes from 10.0.0.1: seq=2 ttl=64 time=38.162 ms\n\n--- 10.0.0.1 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 38.162/39.120/40.028 ms\n\n\nedison01\u306emulticast DNS\u540d\u306bping\nroot@edison02:~# ping -c 3 edison01.local\nPING edison01.local (10.0.0.1): 56 data bytes\n64 bytes from 10.0.0.1: seq=0 ttl=64 time=32.154 ms\n64 bytes from 10.0.0.1: seq=1 ttl=64 time=3.124 ms\n64 bytes from 10.0.0.1: seq=2 ttl=64 time=16.178 ms\n\n--- edison01.local ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 3.124/17.152/32.154 ms\n\n\n\u307e\u3068\u3081\nIntel Edison\u306eWi-Fi\u30e2\u30b8\u30e5\u30fc\u30eb\u3092ad-hoc\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3055\u305b\u3001batman-adv\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u3001ad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u3002\n\n\u672c\u6765\u306f4\u53f0\u4ee5\u4e0a\u306eEdison\u3067\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u69cb\u7bc9\u3057\u3001Wi-Fi\u304c\u76f4\u63a5\u5c4a\u304b\u306a\u3044\u4e21\u7aef\u306eEdison\u9593\u3067\u3082\u554f\u984c\u306a\u304f\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3084\u3001\u9014\u4e2d\u306eEdison\u306b\u969c\u5bb3\u304c\u8d77\u304d\u3066\u3082\u9069\u5207\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3055\u308c\u308b\u3053\u3068\u306a\u3069\u3082\u691c\u8a3c\u3057\u305f\u3044\u306e\u3060\u304c\u3001\u305d\u3093\u306a\u306b\u305f\u304f\u3055\u3093\u306eEdison\u304c\u624b\u5143\u306b\u7121\u3044\u30fb\u30fb\u30fb\n\n\u3053\u306e\u6280\u8853\u3092\u3046\u307e\u304f\u6d3b\u7528\u3059\u308c\u3070\u3001Wi-Fi\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u7dad\u6301\u7ba1\u7406\u306b\u7169\u308f\u3055\u305b\u3089\u308c\u308b\u3053\u3068\u306a\u304f\u3001Intel Edison\u3092IP\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5316\u3057\u6d3b\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3068\u601d\u308f\u308c\u308b\u3002\nIntel Edison\u306f\u30c1\u30c3\u30d7\u4e0a\u306b\u30c7\u30e5\u30a2\u30eb\u30c1\u30e3\u30cd\u30eb\u306eWi-Fi\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5185\u8535\u3057\u3066\u3044\u308b\u3002\n\u901a\u5e38\u306fWi-Fi\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u3076\u3089\u4e0b\u304c\u308b\"infrastructure\u30e2\u30fc\u30c9\"\u304c\u7528\u3044\u3089\u308c\u308b\u304c\u3001Wi-Fi\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u4ecb\u3055\u305a\u306bWi-Fi\u6a5f\u5668\u3069\u3046\u3057\u304c\u76f4\u63a5\u901a\u4fe1\u3059\u308b\"ad-hoc\u30e2\u30fc\u30c9\"\u3067\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002\n\n\u3053\u306ead-hoc\u30e2\u30fc\u30c9\u3092\u7528\u3044\u3066\u3001\u8907\u6570\u306eEdison\u304c\u53c2\u52a0\u3059\u308b\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u69cb\u7bc9\u3057\u3001\u9069\u5207\u306a\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u5236\u5fa1\u3092\u884c\u3048\u3070\u3001Wi-Fi\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u7121\u304f\u3068\u3082\u8907\u6570\u306eEdison\u304c\u901a\u4fe1\u3067\u304d\u308b\u9589\u3058\u305f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n\u4eca\u56de\u306f\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u5236\u5fa1\u306b[batman-adv](http://www.open-mesh.org/projects/batman-adv/wiki)\u3092\u7528\u3044\u3066\u3001Edison\u306ead-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u691c\u8a3c\u3092\u884c\u3063\u305f\u3002\n\n# batman-adv\u3092\u5c0e\u5165\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u306e\u30d3\u30eb\u30c9\n\n\u4ee5\u4e0b\u306e\u624b\u9806\u3092\u53c2\u8003\u306b\u3001batman-adv\u3092\u5c0e\u5165\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3002\nhttps://software.intel.com/en-us/blogs/2015/02/27/intel-edison-adding-kernel-modules-to-yocto-example-batman\n\uff08\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u306eCPU\u3068\u30c7\u30a3\u30b9\u30afI/O\u901f\u5ea6\u3001\u53ca\u3073\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u901f\u5ea6\u306b\u3082\u3088\u308b\u304c\u3001\u4eca\u56de\u7528\u3044\u305f\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u3067\u306f\u30d5\u30eb\u30d3\u30eb\u30c9\u306b6\u6642\u9593\u7a0b\u5ea6\u8981\u3057\u305f\uff09\n\n\u30d9\u30fc\u30b9\u3068\u306a\u308b\u30ab\u30fc\u30cd\u30eb\u30b3\u30fc\u30c9\u306f\u30012015/05/09\u6642\u70b9\u3067\u6700\u65b0\u306e**Intel Edison\u00ae Board Firmware Software Release 2.1**\u3092\u7528\u3044\u308b\uff08[\u30b3\u30b3](https://software.intel.com/en-us/iot/hardware/edison/downloads)\u3092\u53c2\u7167\uff09\u3002\n\n## \u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u306e\u6e96\u5099\n\n| |\u30d0\u30fc\u30b8\u30e7\u30f3|\n|:--|:--|\n|CPU|Intel(R) Core(TM)2 Duo CPU     E8500  @ 3.16GHz|\n|Memory|7983MiB|\n|Distribution|Ubuntu 15.04|\n|Kernel|3.19.0-16-generic|\n\n```text:\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nnmatsui@develop:~$ sudo apt-get install build-essential git diffstat gawk chrpath texinfo libtool gcc-multilib u-boot-tools -y\n```\n\n```text:Edison\u7528yoctoPJ\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u53d6\u5f97\nnmatsui@develop:~$ wget http://downloadmirror.intel.com/24910/eng/edison-src-ww18-15.tgz\nnmatsui@develop:~$ tar xvfz edison-src-ww18-15.tgz \nnmatsui@develop:~$ cd edison-src/\n```\n\n## \u30d3\u30eb\u30c9\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n`--bb_number_thread`\u3068`--parallel_make`\u306f\u3001\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u306eCPU\u30b3\u30a2\u6570\u00d72\u3050\u3089\u3044\u3092\u6307\u5b9a\u3059\u308b\u3068\u826f\u3044\u3002\n> `./meta-intel-edison/setup.sh`\u306e\u5185\u90e8\u3067\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3092git clone\u3057\u3066\u3044\u308b\u305f\u3081\u3001Proxy\u74b0\u5883\u4e0b\u3060\u3068\u52d5\u4f5c\u3057\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002\n\n```text:\u30d3\u30eb\u30c9\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nnmatsui@develop:~/edison-src$ mkdir dl\nnmatsui@develop:~/edison-src$ mkdir sst\nnmatsui@develop:~/edison-src$ ./meta-intel-edison/setup.sh --dl_dir=./dl --sstate_dir=./sst --bb_number_thread=4 --parallel_make=4\nnmatsui@develop:~/edison-src$ source poky/oe-init-build-env\n```\n\n## \u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u9078\u629e\n\n```text:BATMAN\u306e\u8a2d\u5b9a\nnmatsui@develop:~/edison-src/build$ bitbake -c menuconfig virtual/kernel\n```\n\n\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u5225\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u9078\u629e\u30e1\u30cb\u30e5\u30fc\u304c\u958b\u304f\u3002\n\u203b \u5225\u30a6\u30a3\u30f3\u30c9\u30a6\u304c\u958b\u304f\u307e\u3067\u5c11\u3057\u6642\u9593\u304c\u304b\u304b\u308b\n\nNetworking support ---> Networking options ---> B.A.T.M.A.N. Advanced Meshing Protocol \u3068\u9077\u79fb\u3059\u308b\u3002\n\n![edison_kernel_build_01.png](https://qiita-image-store.s3.amazonaws.com/0/37648/4ccfc422-7f46-bf3d-9537-cebb8eb6aee4.png)\n![edison_kernel_build_02.png](https://qiita-image-store.s3.amazonaws.com/0/37648/4dde92d4-6916-73be-252f-22a5df906906.png)\n![edison_kernel_build_03.png](https://qiita-image-store.s3.amazonaws.com/0/37648/fe20ecbb-e9a8-5e34-205b-f19994d89cf3.png)\n\nbatman-adv\u3092\u30ed\u30fc\u30c0\u30d6\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u7d44\u307f\u8fbc\u3080\u3002\n\n* B.A.T.M.A.N. Advanced Meshing Protocol\u3092`<M>`\u306b\u3059\u308b\n    * Bridge Loop Avoidance\u3092`[*]`\u306b\u3059\u308b\n    * Distributed ARP Table\u3092`[*]`\u306b\u3059\u308b\n    * Network Coding\u3092`[*]`\u306b\u3059\u308b\n    * B.A.T.M.A.N. debugging\u3092`[*]`\u306b\u3059\u308b\n\n\u203b `<M>`\u306f\u30ed\u30fc\u30c0\u30d6\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u7d44\u307f\u8fbc\u307e\u308c\u308b\u3068\u3044\u3046\u610f\u5473\n\n![edison_kernel_build_04.png](https://qiita-image-store.s3.amazonaws.com/0/37648/a754c5fa-bbad-894a-f7d2-a6bf731cd31a.png)\n\n< SAVE > \u3067.config\u306b\u4e0a\u66f8\u304d\u4fdd\u5b58\u3057\u305f\u5f8c\u30013\u56de < Exit > \u3059\u308b\u3068\u30e1\u30cb\u30e5\u30fc\u304c\u7d42\u4e86\u3059\u308b\u3002\n\n![edison_kernel_build_05.png](https://qiita-image-store.s3.amazonaws.com/0/37648/0ae941d2-35ac-81d1-0da8-8c7f28a1a5d8.png)\n![edison_kernel_build_06.png](https://qiita-image-store.s3.amazonaws.com/0/37648/96876a40-c8fd-f717-6105-17765f2f9eb1.png)\n\n`./tmp/work/edison-poky-linux/linux-yocto/<your current kernel>/linux-edison-standard-build/`\u4ee5\u4e0b\u306e.config.old\u3068.config\u306ediff\u3092\u53d6\u308b\u3068\u3001\u30e1\u30cb\u30e5\u30fc\u753b\u9762\u3067\u8a2d\u5b9a\u3057\u305fbatman-adv\u306e\u8a2d\u5b9a\u9805\u76ee\u304c\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n\n```diff\n--- .config.old\t2015-05-08 22:35:47.828091117 +0900\n+++ .config\t2015-05-08 22:45:47.654645792 +0900\n@@ -925,7 +925,11 @@\n CONFIG_NET_SCH_FIFO=y\n # CONFIG_DCB is not set\n CONFIG_DNS_RESOLVER=y\n-# CONFIG_BATMAN_ADV is not set\n+CONFIG_BATMAN_ADV=m\n+CONFIG_BATMAN_ADV_BLA=y\n+CONFIG_BATMAN_ADV_DAT=y\n+CONFIG_BATMAN_ADV_NC=y\n+CONFIG_BATMAN_ADV_DEBUG=y\n # CONFIG_OPENVSWITCH is not set\n # CONFIG_VSOCKETS is not set\n # CONFIG_NETLINK_MMAP is not set\n```\n\n## \u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d3\u30eb\u30c9\n\nEdison\u306e\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3002\n\n```text:.config\u3092recipes-kernel\u306edefconfig\u30b3\u30d4\u30fc\nnmatsui@develop:~/edison-src/build$ mv ../meta-intel-edison/meta-intel-edison-bsp/recipes-kernel/linux/files/defconfig ../meta-intel-edison/meta-intel-edison-bsp/recipes-kernel/linux/files/defconfig.old\nnmatsui@develop:~/edison-src/build$ cp tmp/work/edison-poky-linux/linux-yocto/3.10.17+gitAUTOINC+6ad20f049a_c03195ed6e-r0/linux-edison-standard-build/.config ../meta-intel-edison/meta-intel-edison-bsp/recipes-kernel/linux/files/defconfig\n```\n\n```text:\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d3\u30eb\u30c9\nnmatsui@develop:~/edison-src/build$ bitbake -c compile_kernelmodules virtual/kernel\n```\n\n## batctl\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d3\u30eb\u30c9\n\nbatman-adv\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3`batctl`\u306fopkg\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u306a\u3044\u305f\u3081\u3001[\u30b3\u30b3](\nhttps://github.com/openembedded/openembedded/blob/master/recipes/batctl/batctl.inc)\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308brecipe\u3092\u5143\u306b\u3001 http://www.open-mesh.org \u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308bbatctl\u306e\u30bd\u30fc\u30b9\u3092\u53d6\u5f97\u3057\u3066Edison\u7528\u306b\u30d3\u30eb\u30c9\u3059\u308brecipe\u3092\u4f5c\u6210\u3059\u308b\u3002\n\nrecipe\u306e\u540d\u524d\u304b\u3089\u53d6\u5f97\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u6c7a\u307e\u308b\u30022015/05/09\u6642\u70b9\u3067\u6700\u65b0\u306ebatctl\u306f`batctl-2015.0.tar.gz`\u306a\u306e\u3067\u3001recipe\u306e\u540d\u524d\u3092`batctl_2015.0.bb`\u306b\u3059\u308b\u3002\n\n```text:recipe\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\nnmatsui@develop:~/edison-src/build$ mkdir ../meta-intel-edison/meta-intel-edison-distro/recipes-support/batman/\n```\n```text:batctl\u306erecipe\u4f5c\u6210\nnmatsui@develop:~/edison-src/build$ vi ../meta-intel-edison/meta-intel-edison-distro/recipes-support/batman/batctl_2015.0.bb\n```\n\n```bash:batctl_2015.0.bb\nDESCRIPTION = \"Control application for B.A.T.M.A.N. routing protocol kernel module for multi-hop ad-hoc mesh networks.\"\nHOMEPAGE = \"http://www.open-mesh.net/\"\nSECTION = \"console/network\"\nPRIORITY = \"optional\"\n\nLICENSE = \"GPLv2+\"\nLIC_FILES_CHKSUM = \"file://../license-destdir/${PN}/generic_GPLv2;md5=801f80980d171dd6425610833a22dbe6\"\n\nRDEPENDS_${PN} = \"kernel-module-batman-adv\"\nDEPENDS = \"libnl\"\n\nSRC_URI = \"http://downloads.open-mesh.net/batman/stable/sources/batctl/batctl-${PV}.tar.gz\\\n     file://patch.patch\"\nSRC_URI[md5sum] = \"d28ad89d71888ad6b99a1f6b30c9d47c\"\nSRC_URI[sha256sum] = \"634d91189f96bda6d4ce6179dce90ad578566f29d3111b49d6e775d4f3591f04\"\n\nEXTRA_OEMAKE = 'STAGING_INC=\"${STAGING_INC}\"'\n\ndo_compile() {\n  oe_runmake\n}\n\ndo_install() {\n  install -d ${D}${bindir}\n  install -m 0755 batctl ${D}${bindir}\n}\n```\n\n\u305f\u3060\u3057open-mesh.org\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u305d\u306e\u307e\u307e\u3067\u306f\u3001Edison\u7528\u306b\u30d3\u30eb\u30c9\u3067\u304d\u306a\u3044\u305f\u3081\u3001Makefile\u306epatch\u3082\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002\n\n```text:recipe\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\nnmatsui@develop:~/edison-src/build$ mkdir ../meta-intel-edison/meta-intel-edison-distro/recipes-support/batman/files\n```\n```text:batctl\u306eMakefile\u306epatch\u4f5c\u6210\nnmatsui@develop:~/edison-src/build$ vi ../meta-intel-edison/meta-intel-edison-distro/recipes-support/batman/files/patch.patch\n```\n\n```diff:patch.patch\n--- a/Makefile\t2015-05-08 23:26:31.973042073 +0900\n+++ b/Makefile\t2015-05-08 23:27:21.456806172 +0900\n@@ -29,7 +29,7 @@\n MANPAGE = man/batctl.8\n \n # batctl flags and options\n-CFLAGS += -Wall -W -std=gnu99 -fno-strict-aliasing -MD -MP\n+CFLAGS += -Wall -W -std=gnu99 -fno-strict-aliasing -MD -MP -I${STAGING_INC}/libnl3\n CPPFLAGS += -D_GNU_SOURCE\n LDLIBS += -lm\n \n```\n\u203b patch.patch\u306e\u672b\u5c3e\u306b\u7a7a\u767d\u884c\u304c1\u884c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3002\n\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3068\u3001`tmp/deploy/ipk/core2-32/batctl_2015.0-r0_core2-32.ipk`\u3068\u3057\u3066batctl\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\n```text:batctl\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d3\u30eb\u30c9\nnmatsui@develop:~/edison-src/build$ bitbake batctl\n```\n\n## Edison\u306e\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u306e\u30d3\u30eb\u30c9\n\n\u6b21\u306b\u3001Edison\u306b\u713c\u304d\u3053\u3080\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u5168\u4f53\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3002\n\u203b \u975e\u5e38\u306b\u6642\u9593\u304c\u304b\u304b\u308b\u306e\u3067\u6ce8\u610f\n\n```text:Edison\u306e\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\nnmatsui@develop:~/edison-src/build$ bitbake edison-image\n```\n\n\u306a\u304a\u81ea\u52d5\u7684\u306bFetch\u3067\u304d\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3042\u3063\u305f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n```text:Fetch\u5931\u6557\u6642\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\nERROR: Function failed: Fetcher failure for URL: 'http://downloads.sourceforge.net/swig/swig-3.0.5.tar.gz'. Unable to fetch URL from any source.\n```\n\n\u3053\u306e\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5f53\u8a72\u30d5\u30a1\u30a4\u30eb\u3092\u4e8b\u524dFetch\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u30a8\u30e9\u30fc\u3092\u56de\u907f\u3067\u304d\u308b\u3002\n\n1. \u5f53\u8a72\u30d5\u30a1\u30a4\u30eb\u3092\u30de\u30cb\u30e5\u30a2\u30eb\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n2. \u30d3\u30eb\u30c9\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\uff08`./meta-intel-edison/setup.sh`\uff09\u6642\u306b`--dl_dir`\u3067\u6307\u5b9a\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3059\u308b\n3. \u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5b8c\u4e86\u30d5\u30a1\u30a4\u30eb\uff08*.done\uff09\u3092touch\u3059\u308b\n\n## Edison\u3078\u713c\u304d\u8fbc\u3080\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u306e\u6e96\u5099\n\n\u6700\u5f8c\u306b\u3001\u30d3\u30eb\u30c9\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u3092toFlash\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u307e\u3068\u3081\u308b\u3002\n\n```text:\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u306e\u6e96\u5099\nnmatsui@develop:~/edison-src/build$ ../meta-intel-edison/utils/flash/postBuild.sh\n```\n\n`toFlash/package-list.txt`\u3092\u898b\u308c\u3070\u3001\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306bbatman-adv\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n```text:batman-adv\u304c\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\nnmatsui@develop:~/edison-src/build$ grep \"batman-adv\" toFlash/package-list.txt \nkernel-module-batman-adv 3.10.17+git0+6ad20f049a_c03195ed6e-r0\n```\n\n# Edison\u306e\u6e96\u5099\n\nad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u7d44\u3080\u3059\u3079\u3066\u306eEdison\u3067\u3001\u3053\u306e\u7ae0\u306e\u4f5c\u696d\u3092\u884c\u3046\u3002\n\n## \u30ab\u30fc\u30cd\u30eb\u306e\u713c\u304d\u8fbc\u307f\n\nEdison\u306e\u7d66\u96fbUSB\u30dd\u30fc\u30c8\u3092\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3059\u308b\u3068\u3001Edison\u306emass-storage\u304c`/media/<user name>/Edison`\u306b\u30de\u30a6\u30f3\u30c8\u3055\u308c\u308b\u3002toFlash\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\u3059\u3079\u3066\u3092\u3001\u30de\u30a6\u30f3\u30c8\u3055\u308c\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u30b3\u30d4\u30fc\u3059\u308b\u3002\n\u203b \u904e\u53bb\u306b\u8ee2\u9001\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u304c\u3042\u308b\u5834\u5408\u3001\u4e8b\u524d\u306b\u3059\u3079\u3066\u524a\u9664\u3059\u308b\n\n```text:\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u306e\u8ee2\u9001\nnmatsui@develop:~/edison-src/build$ rm -rf /media/nmatsui/Edison/*\nnmatsui@develop:~/edison-src/build$ cp -r ./toFlash/* /media/nmatsui/Edison/\n```\n\n\u30ea\u30e2\u30fc\u30c8\u30b3\u30f3\u30bd\u30fc\u30ebUSB\u30dd\u30fc\u30c8\u7d4c\u7531\u3067Edison\u306b\u30b7\u30ea\u30a2\u30eb\u63a5\u7d9a\u3057\u3001\u8ee2\u9001\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u3092Edison\u3078\u713c\u304d\u8fbc\u3080\u3002\n\n```text:\u30ab\u30fc\u30cd\u30eb\u30a4\u30e1\u30fc\u30b8\u306e\u713c\u304d\u8fbc\u307f\nnmatsui@develop:~$ sudo screen /dev/ttyUSB0 115200\nroot@edison:~# reboot ota\n```\n\n## \u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u306eusb0\u30c7\u30d0\u30a4\u30b9\u306e\u6e96\u5099\n\n\u7d66\u96fbUSB\u30dd\u30fc\u30c8\u7d4c\u7531\u3067SCP\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u306eusb0\u30c7\u30d0\u30a4\u30b9\u306bEdison\u306eusb0\u30c7\u30d0\u30a4\u30b9\u3068\u540c\u3058\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff08192.168.2.0/24\uff09\u306b\u6240\u5c5e\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u4e0e\u3048\u308b\u3002\n\n```text:usb0\u30c7\u30d0\u30a4\u30b9\u306e\u8a2d\u5b9a\nnmatsui@develop:~/edison-src/build$ sudo ip addr add 192.168.2.2/24 dev usb0\nnmatsui@develop:~/edison-src/build$ sudo ip addr show usb0\n14: usb0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UNKNOWN group default qlen 1000\n    link/ether b6:04:bc:f9:d0:e8 brd ff:ff:ff:ff:ff:ff\n    inet 192.168.2.2/24 scope global usb0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::b404:bcff:fef9:d0e8/64 scope link \n       valid_lft forever preferred_lft forever\n```\n\n## Edison\u306e\u521d\u671f\u8a2d\u5b9a\n\n### \u30d1\u30b9\u30ef\u30fc\u30c9\u30fb\u30db\u30b9\u30c8\u540d\u30fbWi-Fi\u306e\u8a2d\u5b9a\n\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u30db\u30b9\u30c8\u540d\u3001\u53ca\u3073Wi-Fi\u3092\u8a2d\u5b9a\u3059\u308b\u3002\nad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u53c2\u52a0\u3059\u308b\u3059\u3079\u3066\u306eEdison\u3067\u3001\u30db\u30b9\u30c8\u540d\u304c\u91cd\u8907\u3057\u306a\u3044\u3088\u3046\u306b\u6ce8\u610f\u3059\u308b\u3053\u3068\u3002\n\n```text:edison\u306e\u521d\u671f\u8a2d\u5b9a\nroot@edison:~# configure_edison --setup\n```\n\n### \u30d1\u30c3\u30b1\u30fc\u30b8\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3067\u304d\u308bWi-Fi\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308b\u3046\u3061\u306b\u3001Edison\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\u3002\n\n```text:base-feed\u3092\u8a2d\u5b9a\nroot@edison:~# echo 'src/gz all http://repo.opkg.net/edison/repo/all' >> /etc/opkg/base-feeds.conf \nroot@edison:~# echo 'src/gz edison http://repo.opkg.net/edison/repo/edison' >> /etc/opkg/base-feeds.conf \nroot@edison:~# echo 'src/gz core2-32 http://repo.opkg.net/edison/repo/core2-32' >> /etc/opkg/base-feeds.conf\n```\n\n```text:\u30d1\u30c3\u30b1\u30fc\u30b8\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\nroot@edison:~# opkg update\nroot@edison:~# opkg upgrade\n```\n\n### batctl\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u304b\u3089usb0\u7d4c\u7531\u3067batctl\u30d1\u30c3\u30b1\u30fc\u30b8\u3092SCP\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n```text:Edison\u306eusb0\u30c7\u30d0\u30a4\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d\nroot@edison:~# ip addr show usb0\n4: usb0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n    link/ether 02:00:86:93:53:62 brd ff:ff:ff:ff:ff:ff\n    inet 192.168.2.15/24 brd 192.168.2.255 scope global usb0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::86ff:fe93:5362/64 scope link \n       valid_lft forever preferred_lft forever\n```\n\n```text:\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u304b\u3089ipk\u3092SCP\nnmatsui@develop:~/edison-src/build$ scp ./tmp/deploy/ipk/core2-32/batctl_2015.0-r0_core2-32.ipk root@192.168.2.15:/tmp\n```\n\n```text:batctl\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nroot@edison:~# opkg install /tmp/batctl_2015.0-r0_core2-32.ipk \n```\n\n## Edison\u306e\u505c\u6b62\n\nEdison\u3092\u505c\u6b62\u3057\u3001\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u304b\u3089\u7d66\u96fbUSB\u30dd\u30fc\u30c8\u3068\u30ea\u30e2\u30fc\u30c8\u30b3\u30f3\u30bd\u30fc\u30ebUSB\u30dd\u30fc\u30c8\u306e\u63a5\u7d9a\u3092\u5916\u3059\u3002\u4ee5\u964d\u3001\u7d66\u96fbUSB\u30dd\u30fc\u30c8\u306f\u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u3078\u63a5\u7d9a\u3059\u308b\u5fc5\u8981\u306f\u306a\u304f\u3001\u96fb\u6c60\u306a\u3069\u304b\u3089\u7d66\u96fb\u3059\u308c\u3070\u826f\u3044\u3002\n\n```text:reboot\nroot@edison:~# shutdown -h now\n```\n\n# ad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u69cb\u7bc9\n\nEdison\u3092\u8d77\u52d5\u3057\u3066\u30b7\u30ea\u30a2\u30eb\u63a5\u7d9a\u3057\u3001ad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u3002\n\n\u4eca\u56de\u306fArduino Board\u306eEdison\uff08edison01\uff09\u3068Breakout Board\u306eEdison\uff08edison02\uff09\u3068\u3044\u30462\u53f0\u306eEdison\u3067\u5b9f\u9a13\u3057\u305f\u3002\n\u203b Edison\u30c1\u30c3\u30d7\u306b\u5185\u8535\u3055\u308c\u305fWi-Fi\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u3001Board\u306e\u5dee\u7570\u306b\u610f\u5473\u306f\u306a\u3044\n\n|\u30db\u30b9\u30c8\u540d|batman-adv\u304c\u4e0e\u3048\u305fIPv6\u30a2\u30c9\u30ec\u30b9|\u81ea\u5206\u3067\u4e0e\u3048\u305fIPv4\u30a2\u30c9\u30ec\u30b9|\n|:--|:--|:--|\n|edison01|fe80::7400:b5ff:fed4:7b91/64|10.0.0.1/24|\n|edison02|fe80::0430:58ff:feeb:3415/64|10.0.0.2/24|\n\n## batman-adv\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30ed\u30fc\u30c9\n\n```text:batman-adv\u3092\u30ed\u30fc\u30c9\nroot@edison01:~# lsmod | grep batman\nroot@edison01:~# modprobe batman-adv\nroot@edison01:~# lsmod | grep batman\nbatman_adv            145288  0 \nroot@edison01:~# modinfo batman-adv\nfilename:       /lib/modules/3.10.17-yocto-standard/kernel/net/batman-adv/batman-adv.ko\nversion:        2013.2.0\ndescription:    B.A.T.M.A.N. advanced\nauthor:         Marek Lindner <lindner_marek@yahoo.de>, Simon Wunderlich <siwu@hrz.tu-chemnitz.de>\nlicense:        GPL\nsrcversion:     66711903985B5CAAE0DAF30\ndepends:        \nintree:         Y\nvermagic:       3.10.17-yocto-standard SMP preempt mod_unload ATOM \n```\n\n> modinfo\u3067\u8868\u793a\u3055\u308c\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u3084\u3001lsmod\u3067\u8868\u793a\u3055\u308c\u308b\"batman_adv\"\u3068\u3044\u3046\u30a2\u30f3\u30c0\u30fc\u30d0\u30fc\u306b\u306a\u3063\u3066\u3044\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u540d\u304c\u3069\u3053\u304b\u3089\u6765\u305f\u306e\u304b\u306f\u8b0e\u3002\u3002\u3002\n\n## Wi-Fi\u3092ad-hoc\u30e2\u30fc\u30c9\u306b\u5909\u66f4\n\nEdison\u306eWi-Fi\u3092ad-hoc\u30e2\u30fc\u30c9\u306b\u5909\u66f4\u3059\u308b\u3002\n\u5468\u6ce2\u6570\u5e2f\u3068ssid\u3092\u4e00\u81f4\u3055\u305b\u3001mode\u3092ad-hoc\u306b\u3057\u3001\u516c\u958bAP\u304b\u3064\u8a8d\u8a3c\u7121\u3057\u3068\u3044\u3046\u8a2d\u5b9a\u306b\u3057\u306a\u3051\u308c\u3070\u3001ad-hoc\u63a5\u7d9a\u3067\u304d\u306a\u3044\u3002\n\uff08Edison\u306eWi-Fi\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8a73\u7d30\u306f\u3001[Intel edison Wi-Fi Guide](http://download.intel.com/support/edison/sb/edison_wifi_331438001.pdf)\u3092\u53c2\u7167\uff09\n\n```text:\u518d\u8d77\u52d5\u76f4\u5f8c\u306e\u72b6\u614b\nroot@edison01:~# ip addr show wlan0\n3: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n    link/ether 78:4b:87:a0:18:fd brd ff:ff:ff:ff:ff:ff\n    inet 192.168.0.9/24 scope global wlan0\n       valid_lft forever preferred_lft forever\n\nroot@edison01:~# wpa_cli status\nSelected interface 'wlan0'\nbssid=1c:b1:7f:e2:de:96\nssid=XXXXXXXX\nid=0\nmode=station\npairwise_cipher=CCMP\ngroup_cipher=CCMP\nkey_mgmt=WPA2-PSK\nwpa_state=COMPLETED\nip_address=192.168.0.9\np2p_device_address=7a:4b:87:a0:18:fd\naddress=78:4b:87:a0:18:fd\n```\n\n```text:Wi-Fi(wlan0)\u306e\u8a2d\u5b9a\u5909\u66f4\nroot@edison01:~# wpa_cli -iwlan0 disconnect\nOK\nroot@edison01:~# wpa_cli -iwlan0 remove_network all\nOK\nroot@edison01:~# wpa_cli -iwlan0 add_network\n0\nroot@edison01:~# wpa_cli -iwlan0 set_network 0 frequency 2412\nOK\nroot@edison01:~# wpa_cli -iwlan0 set_network 0 mode 1\nOK\nroot@edison01:~# wpa_cli -iwlan0 set_network 0 ssid \\\"batman\\\"\nOK\nroot@edison01:~# wpa_cli -iwlan0 set_network 0 auth_alg OPEN\nOK\nroot@edison01:~# wpa_cli -iwlan0 set_network 0 key_mgmt NONE\nOK\nroot@edison01:~# wpa_cli -iwlan0 set_network 0 scan_ssid 1\nOK\nroot@edison01:~# wpa_cli -iwlan0 select_network 0\nOK\nroot@edison01:~# wpa_cli -iwlan0 enable_network 0\nOK\n```\n\n```text:Wi-Fi\u3092ad-hoc\u306b\u3057\u305f\u72b6\u614b\nroot@edison01:~# ip addr show wlan0\n3: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n    link/ether 78:4b:87:a0:18:fd brd ff:ff:ff:ff:ff:ff\n\nroot@edison01:~# wpa_cli status\nSelected interface 'wlan0'\nbssid=02:6f:13:7a:9b:d3\nssid=batman\nid=0\nmode=IBSS\npairwise_cipher=NONE\ngroup_cipher=NONE\nkey_mgmt=NONE\nwpa_state=COMPLETED\np2p_device_address=7a:4b:87:a0:18:fd\naddress=78:4b:87:a0:18:fd\n```\n\n## \u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u7bc9\n\nbatctl\u3092\u7528\u3044\u3001wlan0\u306ead-hoc\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306b\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u69cb\u7bc9\u3059\u308b\u3002\n\n```text:batman-adv\u8d77\u52d5\nroot@edison01:~# batctl if add wlan0\nroot@edison01:~# ip link set dev bat0 up\n```\n\n```text:batman-adv\u3092\u8d77\u52d5\u3057\u305f\u72b6\u614b\nroot@edison01:~# ip addr show bat0\n5: bat0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue \n    link/ether 76:00:b5:d4:7b:91 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::7400:b5ff:fed4:7b91/64 scope link \n       valid_lft forever preferred_lft forever\n```\n\n\u4e0a\u8a18\u306e\u4f5c\u696d\u30921\u53f0\u76ee\u306eEdison\uff08edison01\uff09\u3067\u5b9f\u884c\u3059\u308b\u3068\u3001batman-adv\u306b\u3088\u308a\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9 **bat0** \u304c\u69cb\u6210\u3055\u308c\u3001\u30ea\u30f3\u30af\u30ed\u30fc\u30ab\u30eb\u306eIPv6\u30a2\u30c9\u30ec\u30b9 **fe80::7400:b5ff:fed4:7b91/64** \u304c\u81ea\u52d5\u7684\u306b\u4e0e\u3048\u3089\u305f\u3002\n\n\u305f\u3060\u3057batman-adv\u306fIPv4\u30a2\u30c9\u30ec\u30b9\u3092\u81ea\u52d5\u3067\u4e0e\u3048\u306a\u3044\u305f\u3081\u3001\u4eca\u56de\u306f\u624b\u4f5c\u696d\u3067**10.0.0.1/24**\u306eIPv4\u30a2\u30c9\u30ec\u30b9\u3092\u4e0e\u3048\u305f\u3002\n\n```text:IPv4\u30a2\u30c9\u30ec\u30b9\u306e\u4ed8\u4e0e\nroot@edison01:~# ip addr add 10.0.0.1/24 dev bat0\nroot@edison01:~# ip addr show bat0\n5: bat0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue \n    link/ether 76:00:b5:d4:7b:91 brd ff:ff:ff:ff:ff:ff\n    inet 10.0.0.1/24 scope global bat0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::7400:b5ff:fed4:7b91/64 scope link \n       valid_lft forever preferred_lft forever\n```\n\n\u540c\u69d8\u306e\u4f5c\u696d\u30922\u53f0\u76ee\u306eEdison\uff08edison02\uff09\u3067\u3082\u5b9f\u884c\u3057\u3001ad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067**fe80::0430:58ff:feeb:3415/64**\u3068**10.0.0.2/24**\u306e\u30a2\u30c9\u30ec\u30b9\u304c\u4e0e\u3048\u3089\u308c\u305f\u3002\n\n# \u63a5\u7d9a\u691c\u8a3c\n\n\u3053\u3053\u307e\u3067\u3067\u3001ad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306bedison01\u3068edison02\u304c\u63a5\u7d9a\u3055\u308c\u305f\u306e\u3067\u3001\u63a5\u7d9a\u78ba\u8a8d\u3092\u884c\u3046\u3002\n\n## edison01\n### \u81ea\u8eab\u306ebat0 IPv6\u30a2\u30c9\u30ec\u30b9\u3078ping\n\n```text\nroot@edison01:~# ping -c 3 fe80::7400:b5ff:fed4:7b91\nPING fe80::7400:b5ff:fed4:7b91 (fe80::7400:b5ff:fed4:7b91): 56 data bytes\n64 bytes from fe80::7400:b5ff:fed4:7b91: seq=0 ttl=64 time=0.260 ms\n64 bytes from fe80::7400:b5ff:fed4:7b91: seq=1 ttl=64 time=0.274 ms\n64 bytes from fe80::7400:b5ff:fed4:7b91: seq=2 ttl=64 time=0.271 ms\n\n--- fe80::7400:b5ff:fed4:7b91 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.260/0.268/0.274 ms\n```\n\n### \u81ea\u8eab\u306ebat0 IPv4\u30a2\u30c9\u30ec\u30b9\u3078ping\n\n```text\nroot@edison01:~# ping -c 3 10.0.0.1\nPING 10.0.0.1 (10.0.0.1): 56 data bytes\n64 bytes from 10.0.0.1: seq=0 ttl=64 time=0.252 ms\n64 bytes from 10.0.0.1: seq=1 ttl=64 time=0.226 ms\n64 bytes from 10.0.0.1: seq=2 ttl=64 time=0.227 ms\n\n--- 10.0.0.1 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.226/0.235/0.252 ms\n```\n\n### \u81ea\u8eab\u306emulticast DNS\u540d\u306bping\n\nIntel Edison Board Firmware Software Release 2.1\u306e\u30ab\u30fc\u30cd\u30eb\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067multicst DNS\u304c\u52d5\u4f5c\u3059\u308b\u305f\u3081\u3001<\u30db\u30b9\u30c8\u540d>.local\u3067\u3082\u5404Edison\u306b\u63a5\u7d9a\u3067\u304d\u308b\u306f\u305a\u3002\n\n```text\nroot@edison01:~# ping -c 3 edison01.local\nPING edison01.local (10.0.0.1): 56 data bytes\n64 bytes from 10.0.0.1: seq=0 ttl=64 time=0.211 ms\n64 bytes from 10.0.0.1: seq=1 ttl=64 time=0.227 ms\n64 bytes from 10.0.0.1: seq=2 ttl=64 time=0.230 ms\n\n--- edison01.local ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.211/0.222/0.230 ms\n```\n\n### edison02\u306ebat0 IPv6\u30a2\u30c9\u30ec\u30b9\u3078ping\n\n```text\nroot@edison01:~# ping -c 3 fe80::0430:58ff:feeb:3415\nPING fe80::0430:58ff:feeb:3415 (fe80::430:58ff:feeb:3415): 56 data bytes\n64 bytes from fe80::430:58ff:feeb:3415: seq=0 ttl=64 time=22.225 ms\n64 bytes from fe80::430:58ff:feeb:3415: seq=1 ttl=64 time=21.356 ms\n64 bytes from fe80::430:58ff:feeb:3415: seq=2 ttl=64 time=30.626 ms\n\n--- fe80::0430:58ff:feeb:3415 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 21.356/24.735/30.626 ms \n```\n\n### edison02\u306ebat0 IPv4\u30a2\u30c9\u30ec\u30b9\u3078ping\n\n```text\nroot@edison01:~# ping -c 3 10.0.0.2 \nPING 10.0.0.2 (10.0.0.2): 56 data bytes\n64 bytes from 10.0.0.2: seq=0 ttl=64 time=9.282 ms\n64 bytes from 10.0.0.2: seq=1 ttl=64 time=8.884 ms\n64 bytes from 10.0.0.2: seq=2 ttl=64 time=18.188 ms\n\n--- 10.0.0.2 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 8.884/12.118/18.188 ms\n```\n\n### edison02\u306emulticast DNS\u540d\u306bping\n\n```text\nroot@edison01:~# ping -c 3 edison02.local\nPING edison02.local (10.0.0.2): 56 data bytes\n64 bytes from 10.0.0.2: seq=0 ttl=64 time=42.641 ms\n64 bytes from 10.0.0.2: seq=1 ttl=64 time=37.797 ms\n64 bytes from 10.0.0.2: seq=2 ttl=64 time=41.481 ms\n\n--- edison02.local ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 37.797/40.639/42.641 ms\n```\n\n## edison02\n### \u81ea\u8eab\u306ebat0 IPv6\u30a2\u30c9\u30ec\u30b9\u3078ping\n\n```text\nroot@edison02:~# ping -c 3 fe80::0430:58ff:feeb:3415\nPING fe80::0430:58ff:feeb:3415 (fe80::430:58ff:feeb:3415): 56 data bytes\n64 bytes from fe80::430:58ff:feeb:3415: seq=0 ttl=64 time=0.261 ms\n64 bytes from fe80::430:58ff:feeb:3415: seq=1 ttl=64 time=0.273 ms\n64 bytes from fe80::430:58ff:feeb:3415: seq=2 ttl=64 time=0.273 ms\n\n--- fe80::0430:58ff:feeb:3415 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.261/0.269/0.273 ms\n```\n\n### \u81ea\u8eab\u306ebat0 IPv4\u30a2\u30c9\u30ec\u30b9\u3078ping\n\n```text\nroot@edison02:~# ping -c 3 10.0.0.2\nPING 10.0.0.2 (10.0.0.2): 56 data bytes\n64 bytes from 10.0.0.2: seq=0 ttl=64 time=0.255 ms\n64 bytes from 10.0.0.2: seq=1 ttl=64 time=0.227 ms\n64 bytes from 10.0.0.2: seq=2 ttl=64 time=0.228 ms\n\n--- 10.0.0.2 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.227/0.236/0.255 ms\n```\n\n### \u81ea\u8eab\u306emulticast DNS\u540d\u306bping\n\n```text\nroot@edison02:~# ping -c 3 edison02.local\nPING edison02.local (10.0.0.2): 56 data bytes\n64 bytes from 10.0.0.2: seq=0 ttl=64 time=0.193 ms\n64 bytes from 10.0.0.2: seq=1 ttl=64 time=0.227 ms\n64 bytes from 10.0.0.2: seq=2 ttl=64 time=0.225 ms\n\n--- edison02.local ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.193/0.215/0.227 ms\n```\n\n### edison01\u306ebat0 IPv6\u30a2\u30c9\u30ec\u30b9\u3078ping\n\n```text\nroot@edison02:~# ping -c 3 fe80::7400:b5ff:fed4:7b91\nPING fe80::7400:b5ff:fed4:7b91 (fe80::7400:b5ff:fed4:7b91): 56 data bytes\n64 bytes from fe80::7400:b5ff:fed4:7b91: seq=0 ttl=64 time=42.838 ms\n64 bytes from fe80::7400:b5ff:fed4:7b91: seq=1 ttl=64 time=17.808 ms\n64 bytes from fe80::7400:b5ff:fed4:7b91: seq=2 ttl=64 time=50.349 ms\n\n--- fe80::7400:b5ff:fed4:7b91 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 17.808/36.998/50.349 ms\n```\n\n### edison01\u306ebat0 IPv4\u30a2\u30c9\u30ec\u30b9\u3078ping\n\n```text\nroot@edison02:~# ping -c 3 10.0.0.1\nPING 10.0.0.1 (10.0.0.1): 56 data bytes\n64 bytes from 10.0.0.1: seq=0 ttl=64 time=40.028 ms\n64 bytes from 10.0.0.1: seq=1 ttl=64 time=39.172 ms\n64 bytes from 10.0.0.1: seq=2 ttl=64 time=38.162 ms\n\n--- 10.0.0.1 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 38.162/39.120/40.028 ms\n```\n\n### edison01\u306emulticast DNS\u540d\u306bping\n\n```text\nroot@edison02:~# ping -c 3 edison01.local\nPING edison01.local (10.0.0.1): 56 data bytes\n64 bytes from 10.0.0.1: seq=0 ttl=64 time=32.154 ms\n64 bytes from 10.0.0.1: seq=1 ttl=64 time=3.124 ms\n64 bytes from 10.0.0.1: seq=2 ttl=64 time=16.178 ms\n\n--- edison01.local ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 3.124/17.152/32.154 ms\n```\n\n# \u307e\u3068\u3081\n\nIntel Edison\u306eWi-Fi\u30e2\u30b8\u30e5\u30fc\u30eb\u3092ad-hoc\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3055\u305b\u3001batman-adv\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u3001ad-hoc Wi-Fi\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u3002\n\n> \u672c\u6765\u306f4\u53f0\u4ee5\u4e0a\u306eEdison\u3067\u30e1\u30c3\u30b7\u30e5\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u69cb\u7bc9\u3057\u3001Wi-Fi\u304c\u76f4\u63a5\u5c4a\u304b\u306a\u3044\u4e21\u7aef\u306eEdison\u9593\u3067\u3082\u554f\u984c\u306a\u304f\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3084\u3001\u9014\u4e2d\u306eEdison\u306b\u969c\u5bb3\u304c\u8d77\u304d\u3066\u3082\u9069\u5207\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3055\u308c\u308b\u3053\u3068\u306a\u3069\u3082\u691c\u8a3c\u3057\u305f\u3044\u306e\u3060\u304c\u3001\u305d\u3093\u306a\u306b\u305f\u304f\u3055\u3093\u306eEdison\u304c\u624b\u5143\u306b\u7121\u3044\u30fb\u30fb\u30fb\n\n\u3053\u306e\u6280\u8853\u3092\u3046\u307e\u304f\u6d3b\u7528\u3059\u308c\u3070\u3001Wi-Fi\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u7dad\u6301\u7ba1\u7406\u306b\u7169\u308f\u3055\u305b\u3089\u308c\u308b\u3053\u3068\u306a\u304f\u3001Intel Edison\u3092IP\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5316\u3057\u6d3b\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3068\u601d\u308f\u308c\u308b\u3002\n"}