{"tags": ["3D", "\u30ab\u30e1\u30e9", "\u5ea7\u6a19\u5909\u63db"], "context": "3D\u306b\u3064\u3044\u3066\u52c9\u5f37\u3057\u305f\u306e\u3067\u305d\u306e\u5099\u5fd8\u9332\u3067\u3059\u3002\n\u7406\u89e3\u306b\u3064\u306a\u304c\u3063\u305f\u8a18\u4e8b\u306e\u30ea\u30f3\u30af\u96c6\u3068\u3001\u81ea\u5206\u306e\u7406\u89e3\u3057\u305f\u5185\u5bb9\u3092\u30e1\u30e2\u3068\u3057\u3066\u6b8b\u3057\u3066\u3044\u307e\u3059\u3002\n\uff08\u3044\u304f\u3064\u304b\u306e\u753b\u50cf\u306f\u53c2\u8003\u306b\u3057\u305f\u8a18\u4e8b\u304b\u3089\u62dd\u501f\u3057\u3066\u3044\u307e\u3059\uff09\n\u5b9f\u969b\u306bJavaScript\u306eCanvas2D\u3092\u4f7f\u3063\u3066\u7c21\u5358\u306a\u81ea\u4f5c3D\u30a8\u30f3\u30b8\u30f3\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u81ea\u4f5c3D\u30a8\u30f3\u30b8\u30f3\u30b5\u30f3\u30d7\u30eb\n\n\u53c2\u8003\u306b\u3057\u305f\u8a18\u4e8b\u306a\u3069\n\n\u30d5\u30a9\u30b0\u306b\u3064\u3044\u3066\u306ePDF\n\u81ea\u4f5cQuaternion\u30b5\u30f3\u30d7\u30eb\n\u3044\u308f\u305a\u3068\u3057\u308c\u305fTHREE.js(GitHub)\n\u305d\u306e60 \u5909\u63db\u884c\u5217A\u00d7B\u3068B\u00d7A\u306e\u9055\u3044\u3092\u77e5\u308d\u3046\n3D\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u57fa\u790e\u77e5\u8b58(1)\n3D\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u57fa\u790e\u77e5\u8b58(5)\n3D\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u57fa\u790e\u77e5\u8b58(6)\n3D\u5ea7\u6a19\u5909\u63db\n\u81ea\u524d\u3067\u30d3\u30e5\u30fc\u5909\u63db\u884c\u5217\u3092\u4f5c\u6210\n3D\u5ea7\u6a19\u5909\u63db(\u5225\u8a18\u4e8b)\n\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u2192\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u5909\u63db\n1-9 \u5ea7\u6a19\u5909\u63db\u5176\u306e\u56db\n\u305d\u306e39 \u77e5\u3063\u3066\u3044\u308b\u3068\u4fbf\u5229\uff1f\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u304b\u3089\u60c5\u5831\u3092\u629c\u304d\u51fa\u305d\u3046\n\n\n\n4x4\u884c\u5217\n\n\n\n\u884c\u5217\u306e\u304b\u3051\u308b\u9806\u756a\nOpenGL\u3067\u6271\u3046\u884c\u5217\u306f\u5217\u30aa\u30fc\u30c0\u30fc\u3002DirectX\u3067\u6271\u3046\u306e\u306f\u884c\u30aa\u30fc\u30c0\u30fc\u3002\n\u9055\u3044\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001 \u884c\u5217\u3092\u4f5c\u308b\u969b\u306e\u30d9\u30af\u30c8\u30eb\u306e\u65b9\u5411\u304c\u9055\u3046 \u306e\u3067\u6ce8\u610f\u3002\n\nOpenGL\u306f\u3053\u306e\u5f62\n\n\nDirectX\u306f\u3053\u306e\u5f62\n\n\u30b7\u30a7\u30fc\u30c0\u306b\u6e21\u3059\u306e\u306f1\u6b21\u5143\u914d\u5217\u3068\u306a\u308a\u3001\u4e0a\u8a18\u753b\u50cf\u306e\u9806\u756a\u3067\u914d\u5217\u3092\u751f\u6210\u3059\u308b\u3002\n\u82e5\u5e72\u3001\u76f4\u611f\u304b\u3089\u53cd\u3059\u308b\u914d\u7f6e\u3068\u306a\u308b\u305f\u3081\u6ce8\u610f\u304c\u5fc5\u8981\u3002\n\n\u5ea7\u6a19\u5909\u63db\u624b\u9806\n\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u4ee5\u5916\u306f\u57fa\u672c\u7684\u306b3D\u7a7a\u9593\u4e0a\u306e\u5ea7\u6a19\u5909\u63db\u3068\u306a\u308b\u3002\n\u5e73\u884c\u79fb\u52d5\u3001\u56de\u8ee2\u3001\u62e1\u5927\u30fb\u7e2e\u5c0f\u304c\u30e1\u30a4\u30f3\u3068\u306a\u308b\u304c\u3001\u305d\u308c\u305e\u308c\u306e\u884c\u5217\u306b\u95a2\u3057\u3066\u306f\u3053\u306e\u8a18\u4e8b\u306e\u6700\u5f8c\u306b\u307e\u3068\u3081\u3066\u8f09\u305b\u3066\u3042\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092\u53c2\u7167\u3002\n\n\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\n\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u5909\u63db\n\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\n\u30d3\u30e5\u30fc\u5ea7\u6a19\u5909\u63db\n\u30d3\u30e5\u30fc\u5ea7\u6a19\n\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5ea7\u6a19\u5909\u63db\uff08\u5c04\u5f71\u5909\u63db\uff09\n\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5ea7\u6a19\n\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u5909\u63db\n\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\n\u63cf\u753b\uff08\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\uff09\n\n\u3068\u3044\u3046\u624b\u9806\u3067\u5b9f\u73fe\u3059\u308b\u3002\n\n\n01. \u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\n\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\u306f1\u30e2\u30c7\u30eb\u306e\u5ea7\u6a19\u7a7a\u9593\u3002\u307e\u305f\u306e\u540d\u3092\u30e2\u30c7\u30ea\u30f3\u30b0\u7a7a\u9593\u3002\n\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066\u306f3D\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3044\u308b\u3068\u304d\u3092\u8003\u3048\u308b\u3068\u5206\u304b\u308a\u3084\u3059\u3044\u3002\n\u9854\u3084\u8155\u306a\u3069\u3001\u57fa\u672c\u7684\u306b\u3072\u3068\u3064\u306e\u7269\u4f53\uff08\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff09\u3092\u69cb\u6210\u3059\u308b\u8981\u7d20\u304c\u76f8\u5bfe\u7684\u306b\u914d\u7f6e\u3055\u308c\u308b\u7a7a\u9593\u3002\n02. \u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\n\u30e2\u30c7\u30ea\u30f3\u30b0\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30ef\u30fc\u30eb\u30c9\uff08\u4e16\u754c\uff09\u306b\u914d\u7f6e\u3057\u305f\u969b\u306e\u5ea7\u6a19\u3002\n\u30ef\u30fc\u30eb\u30c9\u306e\u3069\u306e\u4f4d\u7f6e\u306b\u3069\u3093\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5b58\u5728\u3059\u308b\u306e\u304b\u3001\u305d\u3057\u3066\u305d\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u5168\u4f53\u306e\u4e2d\u3067\u3069\u306e\u4f4d\u7f6e\u306b\u3042\u308b\u306e\u304b\u3092\u8868\u3059\u5ea7\u6a19\u3002\n3D\u30e2\u30c7\u30eb\u3092\u914d\u7f6e\u3057\u3066\u3044\u304f\u3053\u3068\u3092\u30a4\u30e1\u30fc\u30b8\u3059\u308b\u3068\u5206\u304b\u308a\u3084\u3059\u3044\u3002\n03. \u30d3\u30e5\u30fc\u5ea7\u6a19\n\u30d3\u30e5\u30fc\uff08View\uff09\u3001\u3064\u307e\u308a\u30ab\u30e1\u30e9\u304c\u5b58\u5728\u3059\u308b\u5ea7\u6a19\u3002\n\u30ab\u30e1\u30e9\u3082\u30ef\u30fc\u30eb\u30c9\u7a7a\u9593\u306b\u5b58\u5728\u3059\u308b\u3072\u3068\u3064\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3057\u304b\u306a\u3044\u306e\u3067\u3001\u307e\u305a\u306f\u305d\u306e\u30ab\u30e1\u30e9\u304c\u30ef\u30fc\u30eb\u30c9\u306e\u3069\u3053\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u306e\u304b\u3092\u7279\u5b9a\u3059\u308b\u3002\n\u3055\u3089\u306b\u3001\u57fa\u672c\u7684\u306b\u30b9\u30af\u30ea\u30fc\u30f3\u306b\u753b\u50cf\u304c\u6295\u5f71\u3055\u308c\u308b\u306e\u306f\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\u3068\u5411\u304d\u3001\u305d\u3057\u3066\u4e0a\u65b9\u5411\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u3069\u3046\u3044\u3046\u6620\u50cf\u304c\u6620\u3057\u51fa\u3055\u308c\u308b\u304b\u304c\u6c7a\u307e\u308b\u3002\n\u30ab\u30e1\u30e9\u30de\u30f3\u304c\u8ee2\u5012\u3057\u305f\u969b\u306b\u753b\u50cf\u304c\u4e71\u308c\u308b\u69d8\u3092\u60f3\u50cf\u3059\u308b\u3068\u30a4\u30e1\u30fc\u30b8\u3057\u3084\u3059\u3044\u3002\n04. \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5ea7\u6a19\n3D\u306e\u5ea7\u6a19\u5909\u63db\u306e\u4e2d\u3067\u4e00\u756a\u3080\u305a\u304b\u3057\u3044\u70b9\u304c\u3053\u3053\u3002\n\u7406\u7531\u3068\u3057\u3066\u306f\u300103\u307e\u3067\u306e\u5ea7\u6a19\u5909\u63db\u306f\u3042\u304f\u307e\u30673D\u7a7a\u9593\u4e0a\u306e\u5ea7\u6a19\u5909\u63db\u3092\u884c\u306a\u3063\u3066\u3044\u305f\u306e\u306b\u5bfe\u3057\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5909\u63db\u306f\u30b9\u30af\u30ea\u30fc\u30f3\u3001\u3064\u307e\u308a2D\uff08\u5e73\u9762\uff09\u306b\u305d\u306e3D\u306e\u5ea7\u6a19\u3092\u6295\u5f71\u3059\u308b\u5834\u5408\u306b\u3069\u3046\u3044\u3046\u4f4d\u7f6e\u95a2\u4fc2\u306b\u306a\u308b\u304b\u3092\u8a08\u7b97\u3057\u5909\u63db\u3059\u308b\u4f5c\u696d\u3068\u306a\u308b\u3002\n\u9060\u3044\u307b\u3069\u5c0f\u3055\u304f\u3001\u8fd1\u304f\u306e\u3082\u306e\u307b\u3069\u5927\u304d\u3044\u3002\u307e\u305f\u3001\u9060\u304f\u306b\u884c\u3051\u3070\u884c\u304f\u307b\u3069\u753b\u9762\u4e2d\u592e\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5bc4\u3063\u3066\u3044\u304f\u3088\u3046\u306a\u5909\u63db\u3068\u306a\u308b\u3002\n05. \u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\n04\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5ea7\u6a19\u5909\u63db\u3067\u884c\u308f\u308c\u305f\u5ea7\u6a19\u5909\u63db\u3092\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u306e\u30b5\u30a4\u30ba\u306b\u5fdc\u3058\u3066\u300c\u5b9f\u969b\u306b\u300d\u8868\u793a\u30b5\u30a4\u30ba\u306b\u5909\u63db\u3059\u308b\u4f5c\u696d\u3092\u884c\u3046\u3002\n04\u306e\u5ea7\u6a19\u5909\u63db\u307e\u3067\u306f\u57fa\u672c\u7684\u306b -1 \u304b\u3089 1 \u306e\u9593\u306e\u5909\u63db\u3092\u884c\u306a\u3063\u3066\u3044\u308b\u3002\n\u305d\u306e\u6570\u5024\u306b\u5408\u308f\u305b\u3001\u5b9f\u969b\u306b\u8868\u793a\u3055\u308c\u308b\u30b9\u30af\u30ea\u30fc\u30f3\u30b5\u30a4\u30ba\u306b\u5fdc\u3058\u3066\u305d\u306e\u5024\u3092\u5909\u63db\u3057\u3001\u4eba\u306e\u76ee\u306b\u89e6\u308c\u308b\u6620\u50cf\u3068\u3057\u3066\u6295\u5f71\u3059\u308b\u3002\n\u6700\u5f8c\u306b\u3001\u5909\u63db\u3055\u308c\u305f\u5ea7\u6a19\u3092\u5143\u306b\u70b9\uff08Particle\uff09\u3084\u30c6\u30af\u30b9\u30c1\u30e3\u30de\u30c3\u30d4\u30f3\u30b0\u306a\u3069\u306eTriangle\u306a\u3069\u304c\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u308b\u3002\n\n\n\n\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u5909\u63db\u306e\u30dd\u30a4\u30f3\u30c8\n\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\uff08\u307e\u305f\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5ea7\u6a19\u3001\u30e2\u30c7\u30eb\u5ea7\u6a19\uff09\u304b\u3089\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u306b\u5909\u63db\u3059\u308b\u5834\u5408\u306f\u3001 \u5ea7\u6a19\u7cfb\u3092\u5909\u63db\u3059\u308b \u3053\u3068\u3092\u610f\u8b58\u3059\u308b\u3002\nOpenGL\u3067\u306f\u3001\u884c\u5217\u306b\u5bfe\u3057\u3066 \u5de6\u306b\u59ff\u52e2\u5236\u5fa1\u884c\u5217\u3092\u304b\u3051\u308b\u3068\u5909\u63db\u5148\u3001\u3064\u307e\u308a\u30ef\u30fc\u30eb\u30c9\u7a7a\u9593\u4e0a\u3067\u306e\u5909\u63db \u3068\u306a\u308a\u3001 \u53f3\u5074\u306b\u304b\u3051\u308b\u3068\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\u4e0a\u3067\u306e\u5909\u63db \u3068\u306a\u308b\u3002\uff08\u3061\u306a\u307f\u306bDirectX\u3067\u306f\u639b\u3051\u308b\u9806\u756a\u306e\u610f\u5473\u304c\u5de6\u53f3\u9006\u306b\u306a\u308b\uff09\n\u4f8b\u3048\u3070\u3001\u30ef\u30fc\u30eb\u30c9\u7a7a\u9593\u4e0a\u3067X\u8ef8\u65b9\u5411\u306b30\u52d5\u304b\u3057\u305f\u3044\u5834\u5408\u306f\u5de6\u5074\u306b\u5e73\u884c\u79fb\u52d5\u884c\u5217\u3092\u304b\u3051\u308c\u3070\u3044\u3044\u3053\u3068\u306b\u306a\u308b\u3002\n\u9006\u306b\u3001\u30ed\u30fc\u30ab\u30eb\u7a7a\u9593\u4e0a\u3067\u81ea\u5206\u81ea\u8eab\u306e\u8ef8\u3092\u4e2d\u5fc3\u306bY\u8ef8\u4e2d\u5fc3\u306b30\u00b0\u56de\u8ee2\u3057\u305f\u3044\u3001\u3068\u3044\u3063\u305f\u5834\u5408\u306f\u56de\u8ee2\u884c\u5217\u3092\u53f3\u5074\u306b\u639b\u3051\u308b\u3053\u3068\u3067\u9054\u6210\u3067\u304d\u308b\u3002\n\uff08\u8a73\u3057\u304f\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u7167\uff09\n\n\u30d3\u30e5\u30fc\u5909\u63db\u306e\u30dd\u30a4\u30f3\u30c801\n\u30d3\u30e5\u30fc\u5909\u63db\uff08\u30ab\u30e1\u30e9\u304c\u6620\u3057\u51fa\u3059\u3079\u304d\u9762\u306b\u5ea7\u6a19\u3092\u5909\u63db\u3059\u308b\u51e6\u7406\uff09\u306f\n\n\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\n\u6ce8\u8996\u70b9\n\u4e0a\u65b9\u5411\n\n\u3092\u5143\u306b\u5909\u63db\u3092\u884c\u3046\u3002\n\u4e0a\u65b9\u5411 \u306f\u30ab\u30e1\u30e9\u306e\u4e0a\u65b9\u304c\u3069\u3053\u3092\u5411\u3044\u3066\u3044\u308b\u304b\u3001\u3092\u6c7a\u3081\u308b\u3002\n\uff08\u540c\u3058\u4f4d\u7f6e\u3001\u540c\u3058\u6ce8\u8996\u70b9\u3067\u3042\u3063\u3066\u3082\u3001\u30ab\u30e1\u30e9\u306e\u4e0a\u65b9\u304c\u7570\u306a\u308c\u3070\u6620\u3057\u51fa\u3055\u308c\u308b\u6620\u50cf\u304c\u5909\u308f\u308b\u3068\u3044\u3046\u7406\u5c48\uff09\n\u57fa\u672c\u7684\u306a\u51e6\u7406\u306e\u6d41\u308c\u306f\u3001\u300c\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\u3001\u6ce8\u8996\u70b9\u3001\u4e0a\u90e8\u300d\u3092\u5143\u306b\u3001\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u306eX, Y, Z\u8ef8\u3092\u30ab\u30e1\u30e9\u57fa\u6e96\uff08\u30ab\u30e1\u30e9\u306e\u524d\u304c-z\u65b9\u5411\u3001\u30ab\u30e1\u30e9\u306e\u53f3\u304c+x\u65b9\u5411\u3001\u30ab\u30e1\u30e9\u306e\u4e0a\u304c+y\u65b9\u5411\uff09\u306b\u5909\u63db\u3059\u308b\u51e6\u7406\u3092\u884c\u3046\u3002\n\u3053\u306e\u5909\u63db\u4ee5\u5f8c\u306f\u3001\u65b0\u3057\u304f\u6c42\u3081\u305f\u8ef8\u3092\u5143\u306b\u5ea7\u6a19\u5909\u63db\u3092\u884c\u3046\u3053\u3068\u306b\u306a\u308b\u3002\n\n\u30d3\u30e5\u30fc\u5909\u63db\u306e\u30dd\u30a4\u30f3\u30c802\n\u30d3\u30e5\u30fc\u5909\u63db\u306e\u5ea7\u6a19\u306f\u3001\u8ef8\u3092\u6c42\u3081\u308b\u4f5c\u696d\u304c\u30e1\u30a4\u30f3\u3068\u306a\u308b\u3002\n\u305d\u306e\u305f\u3081\u3001\u4e0a\u8a183\u3064\u306e\u30d9\u30af\u30c8\u30eb\u3092\u7528\u3044\u3066\u8ef8\u3092\u6c42\u3081\u308b\u3002\n\u5177\u4f53\u7684\u306b\u306f\u305d\u308c\u305e\u308c\u306e \u5916\u7a4d\u3092\u4f7f\u3063\u3066\u30d9\u30af\u30c8\u30eb\u3092\u6c42\u3081\u3066\u3044\u304f \u3053\u3068\u306b\u306a\u308b\u3002\n\u30ab\u30e1\u30e9\u306e\u5f8c\u308d\u65b9\u5411\uff08\u3064\u307e\u308a\u3001\u30ab\u30e1\u30e9\u306e\u8996\u70b9\u65b9\u5411\u306e\u9006\uff09\u306f\u3001\u5358\u7d14\u306b\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\u304b\u3089\u30ab\u30e1\u30e9\u306e\u6ce8\u8996\u70b9\u306e\u30d9\u30af\u30c8\u30eb\u306e\u5dee\u5206\u3092\u53d6\u308b\u3053\u3068\u3067\u6c42\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\u4e0a\u8a18\u5dee\u5206\u304b\u3089\u30ab\u30e1\u30e9\u3092\u57fa\u6e96\u3068\u3057\u305fZ\u8ef8\uff08Z'\u8ef8\uff09\u304c\u6c42\u307e\u308b\u3002\n\u305d\u3057\u3066\u30ab\u30e1\u30e9\u4e0a\u90e8\u3092\u5411\u304f\u30d9\u30af\u30c8\u30eb\u306f\u3059\u3067\u306b\u4e0e\u3048\u3089\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u6c42\u3081\u305fZ'\u8ef8\u3068\u306e\u5916\u7a4d\u3092\u53d6\u308b\u3053\u3068\u3067X'\u8ef8\u304c\u6c42\u307e\u308b\u3002\n\u6700\u5f8c\u306b\u3001Z'\u8ef8\u3001X'\u8ef8\u306e\u5916\u7a4d\u3092\u53d6\u308b\u3053\u3068\u3067Y'\u8ef8\u3092\u6c42\u3081\u308b\u3002\n\uff08\u30ab\u30e1\u30e9\u4e0a\u90e8\u306e\u30d9\u30af\u30c8\u30eb\u306fY'\u8ef8\u3067\u306f\u306a\u304f\u3001\u3042\u304f\u307e\u3067\u30ab\u30e1\u30e9\u306e\u4e0a\u65b9\u5411\u306e\u30d9\u30af\u30c8\u30eb\u3092\u793a\u3059\u3060\u3051\u306a\u306e\u3067\u305d\u306e\u307e\u307eY'\u8ef8\u3068\u3057\u3066\u306f\u4f7f\u3048\u306a\u3044\u306e\u3067\u6ce8\u610f\uff09\n\u4e0a\u8a18\u306e\u65b0\u3057\u30443\u8ef8\u306f\u3001\u65b9\u5411\u3092\u793a\u3059\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u3068\u3057\u3066\u4fdd\u6301\u3057\u3066\u3044\u308c\u3070\u3044\u3044\u306e\u3067\u3001\u305d\u308c\u305e\u308c\u3092\u6b63\u898f\u5316\u3057\u3066\u304a\u304f\u3002\n\u3053\u308c\u3089\u3092\u5b9f\u884c\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4ee5\u4e0b\u306b\u306a\u308b\u3002\uff08\u81ea\u4f5c\u3057\u3066\u3044\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u4e00\u90e8\u629c\u7c8b\uff09\n\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\nlookAt: do ->\n    #\u30ab\u30e1\u30e9\u306b\u5bfe\u3057\u3066\u306eX, Y, Z\u8ef8\u3092\u305d\u308c\u305e\u308c\u5b9a\u7fa9\n    x = new Vector3\n    y = new Vector3\n    z = new Vector3\n\n    return (eye, target, up) ->\n\n        te = @elements\n\n        z.subVectors(eye, target).normalize()\n        x.crossVector(up, z).normalize()\n        y.crossVector(z, x).normalize()\n\n        tx = eye.dot x\n        ty = eye.dot y\n        tz = eye.dot z\n\n        te[0] = x.x; te[4] = y.x; te[8]  = z.x;\n        te[1] = x.y; te[5] = y.y; te[9]  = z.y;\n        te[2] = x.z; te[6] = y.z; te[10] = z.z;\n        te[3] =  tx; te[7] =  ty; te[11] =  tz;\n\n        return @\n\n\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5909\u63db\u306e\u30dd\u30a4\u30f3\u30c801\nzoomX\u3068zoomY\u306f\u305d\u308c\u305e\u308c\u5bfe\u8c61\u30b9\u30af\u30ea\u30fc\u30f3\u306b\u5bfe\u3059\u308b\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3092\u5b9f\u884c\u3059\u308b\u3002\n\u3064\u307e\u308a\u3001X\uff08Y\uff09\u5ea7\u6a19\u3092 \u22121\u2266(x|y)\u22661-1 \u2266 (x|y) \u2266 1 \u306b\u306a\u308b\u3088\u3046\u306b\u6b63\u898f\u5316\u3059\u308b\u3002\n\u305d\u306e\u305f\u3081\u306b\u306f\u30b9\u30af\u30ea\u30fc\u30f3\u30b5\u30a4\u30ba\u306e\u534a\u5206\u3067\u5272\u308b\uff08\u3064\u307e\u308a 2 / width \u3068 2 / height \u3092X\u3068Y\u306b\u5bfe\u3057\u3066\u639b\u3051\u308b\uff09\u3002\n\u203b \u3053\u3053\u3067\u5272\u308b\u5024\u3092\u534a\u5206\u306b\u3059\u308b\u306e\u306f\u5358\u7d14\u306b\u4e0e\u3048\u3089\u308c\u308bX\u5ea7\u6a19\u3001Y\u5ea7\u6a19\u306f\u753b\u9762\u4e2d\u5fc3\u3092 (0, 0) \u3068\u3057\u3001\u753b\u9762\u30b5\u30a4\u30ba\u306e\u534a\u5206\u3060\u3051\u6b63\u8ca0\u306e\u5024\u3067\u8868\u73fe\u3055\u308c\u308b\u305f\u3081\u3002\n\u3000\u753b\u9762\u30b5\u30a4\u30ba\u304c\u4eee\u306b 800 \u3060\u3068\u3059\u308b\u3068\u3001\u753b\u9762\u5185\u306b\u5165\u308b\u5ea7\u6a19\u306f -400 ~ 400 \u3068\u3001\u7d76\u5bfe\u5024\u3067\u898b\u308b\u3068\u534a\u5206\u306b\u306a\u308b\u3002\n\u305d\u3057\u3066\u3055\u3089\u306b\u305d\u308c\u3092\u3001near / z\u3092\u639b\u3051\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u4e2d\u592e\u306b\u5bc4\u305b\u308b\uff08\u9060\u3044\u3082\u306e\u307b\u3069\u753b\u9762\u4e2d\u592e\u306b\uff09\u51e6\u7406\u3092\u65bd\u3059\u3002\n\uff08near\u306f\u4efb\u610f\u3067\u8a2d\u5b9a\u3055\u308c\u305f\u518d\u8fd1\u63a5\u9762\u3001far\u304c\u4efb\u610f\u3067\u8a2d\u5b9a\u3055\u308c\u305f\u6700\u9060\u9762\u3002\u305d\u3057\u3066z\u306f\u3001\u4eca\u307e\u3055\u306b\u8a08\u7b97\u5bfe\u8c61\u3068\u3057\u3066\u3044\u308b\u9802\u70b9\u306ez\u5024\u3002\u3064\u307e\u308a\u3001z\u5024\u304cnear\u3068\u540c\u3058\u306a\u3089 near/near = 1 \u3068\u306a\u3063\u3066\u7e2e\u5c0f\u306e\u5909\u63db\u306f\u3055\u308c\u306a\u3044\u3002\u9006\u306bz\u5024\u304cfar\u3068\u540c\u3058\u306a\u3089near / far\u3068\u306a\u308b\u3068\u304d\u304c\u4e00\u756a\u7e2e\u5c0f\u7387\u304c\u5927\u304d\u304f\u306a\u308a\u3001\u4e00\u756a\u5c0f\u3055\u3044\uff08\u5965\u306e\uff09\u9802\u70b9\u3068\u306a\u308b\uff09\n\u3064\u307e\u308a\u3001(2 / width) * (zn / z) \u3068\u306a\u308b\u3002\uff08\u3053\u308c\u3092\u6574\u7406\u3059\u308b\u3068 (2 * zn) / (width * z) \uff09\n\u3057\u304b\u3057\u3001z\u306f\u56fa\u5b9a\u5024\u3067\u306f\u306a\u3044\u305f\u3081\u3001\u3053\u308c\u3092\u5916\u306b\u51fa\u3059\u3002\n\u3064\u307e\u308a\u3001\u6700\u7d42\u7684\u306bw\u6210\u5206\u3067\u5272\u3089\u308c\u308b\u305f\u3081\u3001w\u306bz\u304c\u51fa\u529b\u3055\u308c\u308b\u3088\u3046\u5909\u63db\u3059\u308b\u3002\n\uff08w\u6210\u5206\u306f\u30014\u6b21\u5143\u30d9\u30af\u30c8\u30eb\u306e\u6700\u5f8c\u306e\u6210\u5206\uff08x, y, z, w\uff09\u306e\u3053\u3068\uff09\n\u3055\u3089\u306b\u3053\u306ew\u6210\u5206\u3067\u5272\u3089\u308c\u308b\u5bfe\u8c61\u306f(x, y, z)\u3059\u3079\u3066\u306b\u306a\u308b\u305f\u3081\u3001z\u5024\u3082\u305d\u308c\u3092\u8003\u616e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u3064\u307e\u308a\u3001near\u3068z\u304c\u540c\u3058\u306a\u3089-1\u3001far\u3068z\u304c\u540c\u3058\u306a\u30891\u3068\u306a\u308b\u8a08\u7b97\u5f0f\u3092\u8003\u3048\u308c\u3070\u3088\u3044\u3002\n\uff08X\u8ef8\u3001Y\u8ef8\u540c\u69d8\u3001Z\u8ef8\u3082-1\u304b\u30891\u306b\u6b63\u898f\u5316\u3055\u308c\u308b\u305f\u3081\u3001near\u304c-1\u3001far\u304c1\u3068\u306a\u308b\uff09\n\u203b \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u884c\u5217\u306e\u610f\u5473\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\uff08\u305d\u306e55 \u305d\u3082\u305d\u3082\u300cw\u300d\u3063\u3066\u4f55\u306a\u306e\u304b\uff1f\uff09\u304c\u3068\u3066\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n[2015.04.14 \u8ffd\u8a18]\n\u306a\u304a\u3001\u3053\u308c\u306fOpenGL\u306e\u8003\u3048\u65b9\u3067\u3042\u308a\u3001DirectX\u3067\u306f0\u301c1\u306b\u6b63\u898f\u5316\u3055\u308c\u308b\u3088\u3046\u3067\u3059\u3002\n\u3061\u306a\u307f\u306b\u4e0a\u8a18\u306e\u8a08\u7b97\u3092\u7c21\u5358\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u793a\u3059\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nvar posZ = 100;\n\nvar near = 10;\nvar far  = 100;\n\nfunction z() {\n    return (far + near) / (far - near);\n}\n\nfunction w() {\n    return (2 * near * far) / (near - far);\n}\n\nvar ret = (posZ * z() + w()) / posZ;\n\nconsole.log(ret); // => 1\n\n// \u4eee\u306b posZ \u3092 10\u3001\u3064\u307e\u308a near \u3068\u540c\u3058\u306b\u3059\u308b\u3068 -1 \u3068\u306a\u308b\u3002\n\n\u30dd\u30a4\u30f3\u30c8\u306f\u6700\u5f8c\u306bposZ\u3067\u5272\u3089\u308c\u308b\u70b9\u3067\u3059\u3002\nposZ\u3067\u5272\u3089\u308c\u305f\u6bb5\u968e\u3067\u521d\u3081\u3066\u3001-1\u301c1\u306b\u6b63\u898f\u5316\u3055\u308c\u307e\u3059\u3002\n\uff08\u884c\u5217\u3092\u639b\u3051\u305f\u3060\u3051\u3067\u306fZ\u5024\u306f-1\u301c1\u306b\u6b63\u898f\u5316\u3055\u308c\u3066\u3044\u306a\u3044\uff09\n\u305d\u3057\u3066\u3053\u308c\u3089\u3092\u8e0f\u307e\u3048\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u69d8\u306a\u884c\u5217\u304c\u5b8c\u6210\u3059\u308b\u3002\n[2016.06.13 \u8ffd\u8a18]\n\u4ee5\u4e0b\u306e\u884c\u5217\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u304b\u3089\u305d\u306e\u307e\u307e\u62dd\u501f\u3057\u305f\u3082\u306e\u3067\u3059\u3002\u306a\u306e\u3067\u8a73\u7d30\u306f\u3053\u3061\u3089\u3092\u898b\u305f\u307b\u3046\u304c\u3044\u3044\u304b\u3082\u2192 \u5e8a\u4e95\u7814\u7a76\u5ba4 \u7b2c\uff15\u56de \u5ea7\u6a19\u5909\u63db\n\u3061\u306a\u307f\u306bThree.js\u306e\u884c\u5217\u751f\u6210\u3082\u3053\u308c\u3068\u540c\u3058\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\\begin{vmatrix}\n\\frac{2 near}{right - left} &0 &\\frac{right + left}{right - left} &0 \\\\\n0 &\\frac{2 near}{top - bottom} &\\frac{top + bottom}{top - bottom} &0 \\\\\n0 &0 &-\\frac{far + near}{far - near} &-\\frac{2 far\\,near}{far - near} \\\\\n0 &0 &-1 &0\n\\end{vmatrix}\n\\\\\nwidth = right - left \\\\\nheight = top - bottom \\\\\n|2nearright\u2212left0right+leftright\u2212left002neartop\u2212bottomtop+bottomtop\u2212bottom000\u2212far+nearfar\u2212near\u22122farnearfar\u2212near00\u221210|width=right\u2212leftheight=top\u2212bottom{\\begin{vmatrix}\n\\frac{2 near}{right - left} &0 &\\frac{right + left}{right - left} &0 \\\\\n0 &\\frac{2 near}{top - bottom} &\\frac{top + bottom}{top - bottom} &0 \\\\\n0 &0 &-\\frac{far + near}{far - near} &-\\frac{2 far\\,near}{far - near} \\\\\n0 &0 &-1 &0\n\\end{vmatrix}\n\\\\\nwidth = right - left \\\\\nheight = top - bottom \\\\\n}\n\u3053\u3053\u3067 \u2212far+nearfar\u2212near-\\frac{far + near}{far - near} \u3068\u51fa\u3066\u304d\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u3082X, Y\u3068\u4f3c\u305f\u767a\u60f3\u3067\u3059\u3002\nfar - near \u306e\u610f\u5473\u3059\u308b\u3068\u3053\u308d\u306fZ\u8ef8\u306b\u5bfe\u3059\u308b\u300c\u9577\u3055\u300d\u3092\u7b97\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\n\u9577\u3055\u3067\u5272\u3063\u3066\u3044\u308b\u3001\u3064\u307e\u308aX, Y\u3092width\u3084height\u3067\u5272\u308b\u306e\u3068\u307e\u3063\u305f\u304f\u540c\u3058\u3053\u3068\u3092\u3084\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u306d\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5909\u63db\u306e\u30dd\u30a4\u30f3\u30c802\n\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5909\u63db\u304c\u884c\u306a\u3063\u3066\u3044\u308b\u306e\u306f\u3001\u3042\u304f\u307e\u3067\u300c\u30d3\u30e5\u30fc\uff08\u30ab\u30e1\u30e9\uff09\u300d\u304b\u3089\u898b\u305f\u5834\u5408\u306e\u5404\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306ex,y\u5ea7\u6a19\u306e\u5909\u63db\u306e\u307f\u3092\u884c\u3044\u3063\u3066\u3044\u308b\u3002\u8996\u4f53\u7a4d\u306e\u624b\u524d\u5074\u304c\u5927\u304d\u304f\u3001\u5965\u5074\u304c\u5c0f\u3055\u304f\u3001\u3068\u3044\u3046\u5909\u63db\u306f \u3055\u308c\u306a\u3044 \u3002\n\u30b5\u30f3\u30d7\u30eb\u306etransformPoints\u95a2\u6570\u3067\u884c\u306a\u3063\u3066\u3044\u308b\u51e6\u7406\u306f\u3001\u305d\u306e\u5909\u63db\u6642\u306eZ\u5024\uff08\u5965\u884c\u304d\u60c5\u5831\uff09\u306b\u5408\u308f\u305b\u3066W\u5024\uff08\u30d9\u30af\u30c8\u30eb\u306e\u7b2c4\u6210\u5206\uff09\u306b\u3001\u8996\u4f53\u7a4d\u81a8\u3089\u307f\u60c5\u5831\u3092\u683c\u7d0d\u3057\u3066\u3044\u308b\u3002\uff08\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u66f8\u3044\u3066\u307e\u3059\uff09\n\u300cW\u5024\u300d\u306b\u3088\u308anear / far\u306e\u30af\u30ea\u30c3\u30d7\uff08near\u304b\u3089far\u306e\u9593\u3060\u3051\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u7bc4\u56f2\u3068\u3059\u308b\u51e6\u7406\uff09\u3092\u884c\u3044\u3001\u3053\u306e\u7bc4\u56f2\u306b\u3042\u308b\u3082\u306e\u306e\u307f\nx = x / W\ny = y / W\n\u3092\u5b9f\u884c\u3057\u3001\u624b\u524d\u307b\u3069\u5927\u304d\u304f\u3001\u5965\u307b\u3069\u5c0f\u3055\u3044\u3001\u3068\u3044\u3046\u5909\u63db\u3092\u884c\u306a\u3063\u3066\u3044\u308b\u3002\nnear\u30af\u30ea\u30c3\u30d7\u9762\u3092zn\u3067\u8868\u3059\u3068\u3059\u308b\u3068\u3001zn / z\u3092\u304b\u3051\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u5ea7\u6a19\u3092\u753b\u9762\u4e2d\u592e\u306b\u5bc4\u305b\u308b\u51e6\u7406\u3092\u884c\u3046\u3002\n\u8a08\u7b97\u7406\u7531\u306f\u3001zn\u3001\u3064\u307e\u308a\u624b\u524d\u304b\u3089\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u9060\u3056\u304b\u308b\uff08Z\u5024\u304c\u5927\u304d\u304f\u306a\u308b\uff09\u3068\u6b21\u7b2c\u306b\u5ea7\u6a19\u306f0\u306b\u8fd1\u3065\u3044\u3066\u3044\u304f\u3002\n\uff08hoge * (1 / 10000000...)\u3068\u306a\u308b\u3068hoge\u304c\u9650\u308a\u306a\u304f0\u306b\u8fd1\u4ed8\u304f\u3053\u3068\u3092\u8003\u3048\u308b\u3068\u30a4\u30e1\u30fc\u30b8\u3057\u3084\u3059\u3044\uff09\n\u6ce8\u610f\u70b9\u3068\u3057\u3066\u3001\u901a\u5e38\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u306f(0, 0)\u306f\u5de6\u4e0a\u3060\u304c\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u5909\u63db\u3092\u884c\u3046\u307e\u3067\u306f(0, 0)\u306f\u753b\u9762\u4e2d\u592e\u3092\u610f\u5473\u3059\u308b\u3002\u305d\u306e\u305f\u3081\u3001x, y\u3068\u3082\u306b0\u306b\u8fd1\u4ed8\u304f\u3068\u3044\u3046\u3053\u3068\u306f\u753b\u9762\u4e2d\u592e\u306b\u8fd1\u4ed8\u304f\u3001\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308b\u3002\n\u5b9f\u969b\u306e\u51e6\u7406\u2193\ntransformPoints = (out, pts, mat, viewWidth, viewHeight) ->\n\n    len = pts.length\n    transformed_temp = [0, 0, 0, 0]\n    oi = 0\n\n    for i in [0...len] by 3\n        mat.transVec3(transformed_temp, pts[i + 0], pts[i + 1], pts[i + 2])\n\n        W = transformed_temp[3]\n        transformed_temp[0] /= W\n        transformed_temp[1] /= W\n        transformed_temp[2] /= W\n\n        transformed_temp[0] *=  viewWidth\n        transformed_temp[1] *= -viewHeight\n\n        transformed_temp[0] +=  viewWidth  / 2\n        transformed_temp[1] +=  viewHeight / 2\n\n        out[oi++] = transformed_temp[0]\n        out[oi++] = transformed_temp[1]\n\n\n\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u5909\u63db\u306e\u30dd\u30a4\u30f3\u30c8\n\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u5909\u63db\u524d\u307e\u3067\u306b\u8a08\u7b97\u3055\u308c\u305f\u306e\u306f\uff08\u4e0a\u8a18\u3067\u8aac\u660e\u3057\u305f\u901a\u308a\uff09x,y\u3068\u3082\u306b -1 \u2266 (x|y) \u2266 1\u306e\u9593\u306b\u53ce\u307e\u308b\u3002\n\u305d\u306e\u9593\u3067\u7b97\u51fa\u3055\u308c\u305f\u5024\u3092\u5143\u306b\u901a\u5e38\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u7cfb\u306b\u5909\u63db\u3059\u308b\u8a08\u7b97\u3092\u884c\u3046\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3001\u8868\u793a\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u30b9\u30af\u30ea\u30fc\u30f3\u3078\u306e\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3068Y\u8ef8\u53cd\u8ee2\u3092\u884c\u3046\u3002\uff08\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u7cfb\u306f(0, 0)\u304c\u5de6\u4e0a\u3067\u3001Y\u8ef8\u306f\u4e0b\u5411\u304d\u306b\u6b63\u306e\u6570\u5024\u3092\u53d6\u308b\uff09\n\u305d\u3057\u3066\u305d\u306e\u5f8c\u3001\u539f\u70b9(0, 0)\u3092\u30b9\u30af\u30ea\u30fc\u30f3\u4e2d\u592e\u306b\u79fb\u52d5\u3059\u308b\u5e73\u884c\u3092\u79fb\u52d5\u3092\u884c\u3046\u3002\n\u884c\u5217\u3067\u8868\u3059\u3068\u3001\nw = screen\\_width  / 2 \\\\\nh = screen\\_height / 2 \\\\\n\n\\begin{equation}\nM(screen) =\n\\begin{bmatrix}\nw &0 &0 &0 \\\\\n0 &-h &0 &0 \\\\\n0 &0 &1 &0 \\\\\nw &h &0 &1\n\\end{bmatrix}\n\\end{equation}\nw=screen_width/2h=screen_height/2M(screen)=[w0000\u2212h000010wh01]{w = screen\\_width  / 2 \\\\\nh = screen\\_height / 2 \\\\\n\n\\begin{equation}\nM(screen) =\n\\begin{bmatrix}\nw &0 &0 &0 \\\\\n0 &-h &0 &0 \\\\\n0 &0 &1 &0 \\\\\nw &h &0 &1\n\\end{bmatrix}\n\\end{equation}\n}\n\n\u539f\u70b9\u79fb\u52d5\u306e\u7406\u7531\n\u4e0b\u8a18\u753b\u50cf\u3092\u898b\u3066\u3082\u3089\u3046\u3068\u4e00\u76ee\u77ad\u7136\u3060\u304c\u30013D\u7a7a\u9593\u306e(0, 0)\u5ea7\u6a19\u306f\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u306e\u5de6\u4e0a\u3068\u4e00\u81f4\u3059\u308b\u3002\n\u3053\u306e3D\u7a7a\u9593\u4e0a\u306e(0, 0)\u3068\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u306e(0, 0)\u3092\u4e00\u81f4\u3055\u305b\u308b\u306b\u306f\u3001X\u8ef8\u65b9\u5411\u306b\u30b9\u30af\u30ea\u30fc\u30f3\u30b5\u30a4\u30ba\u306e\u534a\u5206\u3092\u6b63\u65b9\u5411\u306b\u3001Y\u8ef8\u65b9\u5411\u306b\u30b9\u30af\u30ea\u30fc\u30f3\u30b5\u30a4\u30ba\u306e\u534a\u5206\u3092\u8ca0\u65b9\u5411\u306b\u79fb\u52d5\u3059\u308b\u3053\u3068\u3067\u9054\u6210\u3067\u304d\u308b\u3002\n\n\n\u5c04\u5f71\u5909\u63db\u306e\u53c2\u8003\u753b\u50cf\n\n\uff08\u3053\u3053\u306f\u3061\u3087\u3063\u3068\u89e3\u91c8\u304c\u3042\u3063\u3066\u308b\u304b\u81ea\u4fe1\u306a\u3057\u30fb\u30fb\uff09\n\u5c04\u5f71\u5909\u63db\u306e\u89e3\u91c8\u306f\u3001\u4e0a\u8a18\u753b\u50cf\u306ed\u304c zoom 1 \u306e\u72b6\u614b\u3060\u3068\u3059\u308b\u3068\u3001\u3053\u306e\u4f4d\u7f6e\u306b\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u57fa\u6e96\u4f4d\u7f6e\u3068\u306a\u308b\u3002\uff08\u540c\u6b21\u5ea7\u6a19\u7a7a\u9593\u306eW\uff1f\uff09\n\u3053\u306e\u4f4d\u7f6e\u3088\u308a\u624b\u524d\uff08\u8fd1\u304f\uff09\u306e\u3082\u306e\u306f\u5927\u304d\u304f\u3001\u5965\u306e\u3082\u306e\u306f\u5c0f\u3055\u304f\u306a\u308b\u3002\nY\u5ea7\u6a19\u306e\u4f4d\u7f6e\u306f\u3001\u4e0a\u8a18\u753b\u50cf\u3088\u308a d * tan(\u03b8 / 2) \u3067\u5272\u308b\u3053\u3068\u3067\u5f97\u3089\u308c\u308b\u3002\uff08\u4e0a\u8a18\u753b\u50cf\u306e\u5834\u5408\u3001d * tan(\u03b8 / 2) \u3067\u5272\u308c\u30701\u3068\u306a\u308b\uff09\n\uff08\u03b8\u30922\u3067\u5272\u3063\u3066\u3044\u308b\u306e\u306f\u3001\u5358\u7d14\u306b\u4e0a\u534a\u5206\u306e\u76f4\u89d2\u4e09\u89d2\u5f62\u306e\u304c\u03b8/2\u3067\u8868\u3055\u308c\u308b\u304b\u3089\uff09\n\u3064\u307e\u308a\u3001d * tan(\u03b8 / 2) \u3067\u5272\u308b\u3053\u3068\u3067\u3001\u5965\u306b\u884c\u3051\u3070\u5c0f\u3055\u304f\u3001\u9006\u306b\u624b\u524d\u306b\u884c\u3051\u3070\u5927\u304d\u304f\u306a\u308b\u3068\u3044\u3046\u7d50\u679c\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\uff08d = z = 10 \u3068\u3059\u308b\u3068\u3001d * tan(\u03b8 / 2) = 10 * tan(\u03b8 / 2) \u3068\u306a\u308a\u3001\u9006\u306b d = z = 2 \u3068\u3059\u308b\u3068\u3001 2 * tan(\u03b8 / 2) \u3067\u5272\u308b\u3053\u3068\u306b\u306a\u308b\u3002\u7d50\u679c\u3001\u5965\u306b\u884c\u3051\u3070\u884c\u304f\u307b\u3069\u5272\u308b\u6570\u5024\u304c\u5927\u304d\u304f\u306a\u3063\u3066\u3044\u304f\uff09\n\nlookAt\n[\u53c2\u8003\u8a18\u4e8b]\n\n\n\u30e9\u30a4\u30c6\u30a3\u30f3\u30b0\n\n\u30b9\u30da\u30ad\u30e5\u30e9\u30fc\u6210\u5206\u306e\u8a08\u7b97\u5f0f\n\n\u25a0Phone\u306e\u30e2\u30c7\u30eb\nSpecular = K_s * L_{color} * (R \\cdot V)^n\nSpecular=Ks\u2217Lcolor\u2217(R\u22c5V)n{Specular = K_s * L_{color} * (R \\cdot V)^n\n}\n\n\u25a0Blin\u306e\u30e2\u30c7\u30eb\nSpecular = K_s * L_{color} * (N \\cdot H)^n \\\\\n\u305f\u3060\u3057 H = normalize(L + V);\nSpecular=Ks\u2217Lcolor\u2217(N\u22c5H)n\u305f\u3060\u3057H=normalize(L+V);{Specular = K_s * L_{color} * (N \\cdot H)^n \\\\\n\u305f\u3060\u3057 H = normalize(L + V);\n}\n//\u300cn\u300d\u304c\u5927\u304d\u3044\u307b\u3069\u3001\u30cf\u30a4\u30e9\u30a4\u30c8\u304c\u30b7\u30e3\u30fc\u30d7\u306b\u306a\u308b\uff08\u306f\u305a\uff09\n\n//\u3010\u30d7\u30ed\u30b0\u30e9\u30e0\u4f8b\u3011\n//\u25a0phong\u306e\u30e2\u30c7\u30eb\nfloat3 V = normalize(eyePos - P);\nfloat3 R = normalize(2*dot(L,N)*N - L);\nfloat specularLight = pow(max(dot(R,V), 0), shininess);\nif (diffuseLight <= 0) specularLight = 0;\nfloat3 specular = Ks * lightColor * specularLight;\n\n//\u25a0Blin\u306e\u30e2\u30c7\u30eb\nfloat3 V = normalize(eyePos - P);//Blin\u306e\u30e2\u30c7\u30eb\u3067\u8a08\u7b97\nfloat3 H = normalize(L + V);\nfloat specularLight = pow(max(dot(N, H), 0), shininess);\nif (diffuseLight <= 0) specularLight = 0;\nfloat3 specular = Ks * lightColor * specularLight;\n\n\n\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u5909\u63db\u884c\u5217\u304b\u3089\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\u306eXYZ\u8ef8\u306e\u5411\u304d\u3092\u5272\u308a\u51fa\u3059\n\u305d\u306e39 \u77e5\u3063\u3066\u3044\u308b\u3068\u4fbf\u5229\uff1f\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u304b\u3089\u60c5\u5831\u3092\u629c\u304d\u51fa\u305d\u3046\n\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3092\u898b\u3066\u3082\u3089\u3063\u305f\u307b\u3046\u304c\u3044\u3044\u306e\u3067\u3001\u3042\u304f\u307e\u3067\u81ea\u5206\u7406\u89e3\u7528\u30e1\u30e2\u3067\u3059\u3002\n\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u5ea7\u6a19\u884c\u5217\uff08\u5165\u308c\u5b50\u306e\u5834\u5408\u306f\u89aa\u2192\u30ef\u30fc\u30eb\u30c9\u3092\u542b\u3081\u305f\u6700\u7d42\u5909\u63db\u884c\u5217\uff09\u306f\u3001\u30e2\u30c7\u30eb\u3092\u30ef\u30fc\u30eb\u30c9\u7a7a\u9593\u306b\u914d\u7f6e\u3059\u308b\u305f\u3081\u306e\u884c\u5217\u3067\u3059\u3002\n\u30e2\u30c7\u30eb\u5909\u63db\u884c\u5217\u306b\u3055\u3089\u306b\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u3092\u639b\u3051\u308b\u3053\u3068\u3067\u3001\u6700\u7d42\u7684\u306b\u305d\u306e\u30e2\u30c7\u30eb\u304c\u3069\u3046\u3044\u3046\u5411\u304d\u306b\u3069\u3046\u7f6e\u304b\u308c\u308b\u304b\u3001\u304c\u6c7a\u307e\u308a\u307e\u3059\u3002\n\u30e2\u30c7\u30eb\u5909\u63db\u884c\u5217\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u7a7a\u9593\u4e0a\u3067\u306e\u30e2\u30c7\u30eb\u306e\u751f\u6210\u5236\u5fa1\u306a\u306e\u3067\u3053\u3053\u3067\u306f\u3044\u3063\u305f\u3093\u7121\u8996\u3057\u307e\u3059\u3002\n\u554f\u984c\u306b\u3057\u305f\u3044\u306e\u306f\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u3067\u3059\u3002\u8a00\u3044\u63db\u3048\u308c\u3070\u3001\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\u7a7a\u9593\u3092\u3069\u3046\u5909\u63db\u3059\u308b\u884c\u5217\u304b\u3001\u3068\u8a00\u3048\u307e\u3059\u3002\n\u306a\u306e\u3067\u3001\u30e2\u30c7\u30eb\u306e\u59ff\u52e2\u306f\u3069\u3046\u3042\u308c\u3001\u30ed\u30fc\u30ab\u30eb\u306eXYZ\u8ef8\u304c\u3069\u3053\u3092\u5411\u3044\u3066\u3044\u308b\u304b\u3082\u3053\u308c\u3067\u6c7a\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306e\u30e1\u30e2\u306f\u3001\u3053\u306e\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u304b\u3089\u3001\u30ed\u30fc\u30ab\u30eb\u306eXYZ\u8ef8\u306e\u5411\u304d\u3092\u62bd\u51fa\u3059\u308b\u3001\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\u7d50\u8ad6\u304b\u3089\u8a00\u3063\u3066\u3057\u307e\u3048\u3070\u3001\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u3068\u62bd\u51fa\u3057\u305f\u3044\u8ef8\u306e\u30d9\u30af\u30c8\u30eb\u3092\u639b\u3051\u7b97\u3057\u3066\u3084\u308c\u3070\u6c42\u307e\u308a\u307e\u3059\u3002\n\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u3092\u300cW\u300d\u3001\u8ef8\u30d9\u30af\u30c8\u30eb\u3092\u300cVn\u300d\u3068\u3057\u305f\u5834\u5408\u3001\nX\u8ef8\u306e\u5411\u304d\uff1dWVx\nY\u8ef8\u306e\u5411\u304d\uff1dWVy\nZ\u8ef8\u306e\u5411\u304d\uff1dWVz\n\u3067\u3059\u3002\uff08OpenGL\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u304b\u3051\u308b\u9806\u756a\u304c\u4e0a\u8a18\u8a18\u4e8b\u306e\u3082\u306e\u3068\u9006\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff09\n\u3053\u3053\u3067\u3001Vx\u306f4\u6b21\u30d9\u30af\u30c8\u30eb\u3067\u3001[1, 0, 0, 0]\u3067\u3059\u3002\uff08Vy [0, 1, 0, 0], Vz [0, 0, 1, 0]\uff09\n[1, 0, 0, 0]\uff08\u5b9f\u969b\u306f\u5217\u30d9\u30af\u30c8\u30eb\u306a\u306e\u3067\u7e26\uff09\u3092\u884c\u5217\u306b\u639b\u3051\u308b\u3053\u3068\u3067\u30011\u5217\u76ee\u306e\u5024\u304c\u305d\u306e\u307e\u307e\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u3053\u306e1\u5217\u76ee\u306e\u5024\u304c\u30ba\u30d0\u30ea\u3001X\u8ef8\u306e\u5411\u304d\u3001\u3068\u306a\u308a\u307e\u3059\u3002\n\u8a08\u7b97\u5f0f\u306f\u4ee5\u4e0b\u306e\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002\n\nX\u8ef8\u306e\u5411\u304d\n\\begin{equation}\n\\begin{vmatrix}\nm_{11} &m_{12} &m_{13} &m_{14} \\\\\nm_{21} &m_{22} &m_{23} &m_{24} \\\\\nm_{31} &m_{32} &m_{33} &m_{34} \\\\\nm_{41} &m_{42} &m_{43} &m_{44} \\\\\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\n1 \\\\\n0 \\\\\n0 \\\\\n0\n\\end{vmatrix}\n= \n\\begin{vmatrix}\nm_{11} \\\\\nm_{21} \\\\\nm_{31} \\\\\nm_{41}\n\\end{vmatrix}\n\\end{equation}\n|m11m12m13m14m21m22m23m24m31m32m33m34m41m42m43m44|\u00d7|1000|=|m11m21m31m41|{\\begin{equation}\n\\begin{vmatrix}\nm_{11} &m_{12} &m_{13} &m_{14} \\\\\nm_{21} &m_{22} &m_{23} &m_{24} \\\\\nm_{31} &m_{32} &m_{33} &m_{34} \\\\\nm_{41} &m_{42} &m_{43} &m_{44} \\\\\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\n1 \\\\\n0 \\\\\n0 \\\\\n0\n\\end{vmatrix}\n= \n\\begin{vmatrix}\nm_{11} \\\\\nm_{21} \\\\\nm_{31} \\\\\nm_{41}\n\\end{vmatrix}\n\\end{equation}\n}\n\n\nmemo\n\n\u5404\u7a2e\u5ea7\u6a19\u5909\u63db\u306e\u4f8b\n\n\u62e1\u5927\u30fb\u7e2e\u5c0f\n\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\nS_x &0 &0 &0 \\\\\n0 &S_y &0 &0 \\\\\n0 &0 &S_z &0 \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n|X\u2032Y\u2032Z\u2032W\u2032|=|Sx0000Sy0000Sz00001|\u00d7|XYZ1|{\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\nS_x &0 &0 &0 \\\\\n0 &S_y &0 &0 \\\\\n0 &0 &S_z &0 \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n}\n\nX\u8ef8\u3092\u4e2d\u5fc3\u306b\u56de\u8ee2\n\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\n1 &0 &0 &0 \\\\\n0 &\\cos\\theta x &-\\sin\\theta x &0 \\\\\n0 &\\sin\\theta x &\\cos\\theta x &0 \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n|X\u2032Y\u2032Z\u2032W\u2032|=|10000cos\u03b8x\u2212sin\u03b8x00sin\u03b8xcos\u03b8x00001|\u00d7|XYZ1|{\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\n1 &0 &0 &0 \\\\\n0 &\\cos\\theta x &-\\sin\\theta x &0 \\\\\n0 &\\sin\\theta x &\\cos\\theta x &0 \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n}\n\nY\u8ef8\u3092\u4e2d\u5fc3\u306b\u56de\u8ee2\n\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\n\\cos\\theta y &0 &\\sin\\theta y &0 \\\\\n0 &1 &0 &0 \\\\\n-\\sin\\theta y &0 &\\cos\\theta y &0 \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n|X\u2032Y\u2032Z\u2032W\u2032|=|cos\u03b8y0sin\u03b8y00100\u2212sin\u03b8y0cos\u03b8y00001|\u00d7|XYZ1|{\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\n\\cos\\theta y &0 &\\sin\\theta y &0 \\\\\n0 &1 &0 &0 \\\\\n-\\sin\\theta y &0 &\\cos\\theta y &0 \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n}\n\nZ\u8ef8\u3092\u4e2d\u5fc3\u306b\u56de\u8ee2\n\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\n\\cos\\theta z &-\\sin\\theta z &0 &0 \\\\\n\\sin\\theta z &\\cos\\theta z &0 &0 \\\\\n0 &0 &1 &0 \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n|X\u2032Y\u2032Z\u2032W\u2032|=|cos\u03b8z\u2212sin\u03b8z00sin\u03b8zcos\u03b8z0000100001|\u00d7|XYZ1|{\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\n\\cos\\theta z &-\\sin\\theta z &0 &0 \\\\\n\\sin\\theta z &\\cos\\theta z &0 &0 \\\\\n0 &0 &1 &0 \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n}\n\n\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u306b\u5e73\u884c\u79fb\u52d5\n\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\n1 &0 &0 &P_x \\\\\n0 &1 &0 &P_y \\\\\n0 &0 &1 &P_z \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n|X\u2032Y\u2032Z\u2032W\u2032|=|100Px010Py001Pz0001|\u00d7|XYZ1|{\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\n1 &0 &0 &P_x \\\\\n0 &1 &0 &P_y \\\\\n0 &0 &1 &P_z \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n}\n\n3D\u306b\u3064\u3044\u3066\u52c9\u5f37\u3057\u305f\u306e\u3067\u305d\u306e\u5099\u5fd8\u9332\u3067\u3059\u3002\n\u7406\u89e3\u306b\u3064\u306a\u304c\u3063\u305f\u8a18\u4e8b\u306e\u30ea\u30f3\u30af\u96c6\u3068\u3001\u81ea\u5206\u306e\u7406\u89e3\u3057\u305f\u5185\u5bb9\u3092\u30e1\u30e2\u3068\u3057\u3066\u6b8b\u3057\u3066\u3044\u307e\u3059\u3002\n\uff08\u3044\u304f\u3064\u304b\u306e\u753b\u50cf\u306f\u53c2\u8003\u306b\u3057\u305f\u8a18\u4e8b\u304b\u3089\u62dd\u501f\u3057\u3066\u3044\u307e\u3059\uff09\n\n\u5b9f\u969b\u306bJavaScript\u306eCanvas2D\u3092\u4f7f\u3063\u3066\u7c21\u5358\u306a\u81ea\u4f5c3D\u30a8\u30f3\u30b8\u30f3\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n![cap.jpg](https://qiita-image-store.s3.amazonaws.com/0/5616/dddf4a05-d28a-8dfe-c983-f02f174fee4d.jpeg \"cap.jpg\")\n[\u81ea\u4f5c3D\u30a8\u30f3\u30b8\u30f3\u30b5\u30f3\u30d7\u30eb](http://jsdo.it/edo_m18/9Xku)\n\n##\u53c2\u8003\u306b\u3057\u305f\u8a18\u4e8b\u306a\u3069\n\n* [\u30d5\u30a9\u30b0\u306b\u3064\u3044\u3066\u306ePDF](http://gameprogramming.me.land.to/PDF/DX311.pdf)\n* [\u81ea\u4f5cQuaternion\u30b5\u30f3\u30d7\u30eb](http://jsdo.it/edo_m18/f0c7)\n* [\u3044\u308f\u305a\u3068\u3057\u308c\u305fTHREE.js(GitHub)](https://github.com/mrdoob/three.js)\n* [\u305d\u306e60 \u5909\u63db\u884c\u5217A\u00d7B\u3068B\u00d7A\u306e\u9055\u3044\u3092\u77e5\u308d\u3046](http://marupeke296.com/DXG_No60_MultMatrix.html)\n* [3D\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u57fa\u790e\u77e5\u8b58(1)](http://tech-sketch.jp/2011/10/3d1.html)\n* [3D\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u57fa\u790e\u77e5\u8b58(5)](http://tech-sketch.jp/2012/01/3d5.html)\n* [3D\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u57fa\u790e\u77e5\u8b58(6)](http://tech-sketch.jp/2012/02/3d6.html)\n* [3D\u5ea7\u6a19\u5909\u63db](http://www.c3.club.kyutech.ac.jp/gamewiki/index.php?3D%BA%C2%C9%B8%CA%D1%B4%B9)\n* [\u81ea\u524d\u3067\u30d3\u30e5\u30fc\u5909\u63db\u884c\u5217\u3092\u4f5c\u6210](http://puarts.com/?pid=1043)\n* [3D\u5ea7\u6a19\u5909\u63db(\u5225\u8a18\u4e8b)](http://d.hatena.ne.jp/mirichi/20091202/p1)\n* [\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u2192\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u5909\u63db](http://capa.jugem.cc/?eid=144)\n* [1-9 \u5ea7\u6a19\u5909\u63db\u5176\u306e\u56db](http://homepage2.nifty.com/skimp-studio/htm/crawl/1_9_transform4.htm)\n* [\u305d\u306e39 \u77e5\u3063\u3066\u3044\u308b\u3068\u4fbf\u5229\uff1f\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u304b\u3089\u60c5\u5831\u3092\u629c\u304d\u51fa\u305d\u3046](http://marupeke296.com/DXG_No39_WorldMatrixInformation.html)\n\n---\n\n##4x4\u884c\u5217\n![OpenGL\u3067\u6271\u30464x4\u884c\u5217](http://f.cl.ly/items/2f261l1q3o16120E173b/1%E6%AC%A1%E5%85%83%E9%85%8D%E5%88%97%E3%81%A7%E6%8C%87%E5%AE%9A.png)\n\n\n----\n\n##\u884c\u5217\u306e\u304b\u3051\u308b\u9806\u756a\nOpenGL\u3067\u6271\u3046\u884c\u5217\u306f\u5217\u30aa\u30fc\u30c0\u30fc\u3002DirectX\u3067\u6271\u3046\u306e\u306f\u884c\u30aa\u30fc\u30c0\u30fc\u3002\n\u9055\u3044\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001 **\u884c\u5217\u3092\u4f5c\u308b\u969b\u306e\u30d9\u30af\u30c8\u30eb\u306e\u65b9\u5411\u304c\u9055\u3046** \u306e\u3067\u6ce8\u610f\u3002\n\n###OpenGL\u306f\u3053\u306e\u5f62\n![OpenGL\u884c\u5217](http://f.cl.ly/items/3g1K0O0X2i0A1l231P38/matGL.jpeg)\n\n###DirectX\u306f\u3053\u306e\u5f62\n![DirectX\u884c\u5217](http://f.cl.ly/items/44192H15361G0H2z2M1g/matDX.jpeg)\n\n\n*\u30b7\u30a7\u30fc\u30c0\u306b\u6e21\u3059\u306e\u306f1\u6b21\u5143\u914d\u5217\u3068\u306a\u308a\u3001\u4e0a\u8a18\u753b\u50cf\u306e\u9806\u756a\u3067\u914d\u5217\u3092\u751f\u6210\u3059\u308b\u3002\n\u82e5\u5e72\u3001\u76f4\u611f\u304b\u3089\u53cd\u3059\u308b\u914d\u7f6e\u3068\u306a\u308b\u305f\u3081\u6ce8\u610f\u304c\u5fc5\u8981\u3002*\n\n##\u5ea7\u6a19\u5909\u63db\u624b\u9806\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u4ee5\u5916\u306f\u57fa\u672c\u7684\u306b3D\u7a7a\u9593\u4e0a\u306e\u5ea7\u6a19\u5909\u63db\u3068\u306a\u308b\u3002\n\u5e73\u884c\u79fb\u52d5\u3001\u56de\u8ee2\u3001\u62e1\u5927\u30fb\u7e2e\u5c0f\u304c\u30e1\u30a4\u30f3\u3068\u306a\u308b\u304c\u3001\u305d\u308c\u305e\u308c\u306e\u884c\u5217\u306b\u95a2\u3057\u3066\u306f\u3053\u306e\u8a18\u4e8b\u306e\u6700\u5f8c\u306b\u307e\u3068\u3081\u3066\u8f09\u305b\u3066\u3042\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092\u53c2\u7167\u3002\n\n1. \u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\n2. \u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u5909\u63db\n3. \u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\n4. \u30d3\u30e5\u30fc\u5ea7\u6a19\u5909\u63db\n5. \u30d3\u30e5\u30fc\u5ea7\u6a19\n6. \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5ea7\u6a19\u5909\u63db\uff08\u5c04\u5f71\u5909\u63db\uff09\n7. \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5ea7\u6a19\n8. \u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u5909\u63db\n9. \u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\n10. \u63cf\u753b\uff08\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\uff09\n\n\u3068\u3044\u3046\u624b\u9806\u3067\u5b9f\u73fe\u3059\u308b\u3002\n\n----\n\n* **01. \u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19**\n\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\u306f1\u30e2\u30c7\u30eb\u306e\u5ea7\u6a19\u7a7a\u9593\u3002\u307e\u305f\u306e\u540d\u3092\u30e2\u30c7\u30ea\u30f3\u30b0\u7a7a\u9593\u3002\n\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066\u306f3D\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3044\u308b\u3068\u304d\u3092\u8003\u3048\u308b\u3068\u5206\u304b\u308a\u3084\u3059\u3044\u3002\n\u9854\u3084\u8155\u306a\u3069\u3001\u57fa\u672c\u7684\u306b\u3072\u3068\u3064\u306e\u7269\u4f53\uff08\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff09\u3092\u69cb\u6210\u3059\u308b\u8981\u7d20\u304c\u76f8\u5bfe\u7684\u306b\u914d\u7f6e\u3055\u308c\u308b\u7a7a\u9593\u3002\n\n* **02. \u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19**\n\u30e2\u30c7\u30ea\u30f3\u30b0\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30ef\u30fc\u30eb\u30c9\uff08\u4e16\u754c\uff09\u306b\u914d\u7f6e\u3057\u305f\u969b\u306e\u5ea7\u6a19\u3002\n\u30ef\u30fc\u30eb\u30c9\u306e\u3069\u306e\u4f4d\u7f6e\u306b\u3069\u3093\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5b58\u5728\u3059\u308b\u306e\u304b\u3001\u305d\u3057\u3066\u305d\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u5168\u4f53\u306e\u4e2d\u3067\u3069\u306e\u4f4d\u7f6e\u306b\u3042\u308b\u306e\u304b\u3092\u8868\u3059\u5ea7\u6a19\u3002\n3D\u30e2\u30c7\u30eb\u3092\u914d\u7f6e\u3057\u3066\u3044\u304f\u3053\u3068\u3092\u30a4\u30e1\u30fc\u30b8\u3059\u308b\u3068\u5206\u304b\u308a\u3084\u3059\u3044\u3002\n\n\n* **03. \u30d3\u30e5\u30fc\u5ea7\u6a19**\n\u30d3\u30e5\u30fc\uff08View\uff09\u3001\u3064\u307e\u308a\u30ab\u30e1\u30e9\u304c\u5b58\u5728\u3059\u308b\u5ea7\u6a19\u3002\n\u30ab\u30e1\u30e9\u3082\u30ef\u30fc\u30eb\u30c9\u7a7a\u9593\u306b\u5b58\u5728\u3059\u308b\u3072\u3068\u3064\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3057\u304b\u306a\u3044\u306e\u3067\u3001\u307e\u305a\u306f\u305d\u306e\u30ab\u30e1\u30e9\u304c\u30ef\u30fc\u30eb\u30c9\u306e\u3069\u3053\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u306e\u304b\u3092\u7279\u5b9a\u3059\u308b\u3002\n\u3055\u3089\u306b\u3001\u57fa\u672c\u7684\u306b\u30b9\u30af\u30ea\u30fc\u30f3\u306b\u753b\u50cf\u304c\u6295\u5f71\u3055\u308c\u308b\u306e\u306f\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\u3068\u5411\u304d\u3001\u305d\u3057\u3066\u4e0a\u65b9\u5411\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u3069\u3046\u3044\u3046\u6620\u50cf\u304c\u6620\u3057\u51fa\u3055\u308c\u308b\u304b\u304c\u6c7a\u307e\u308b\u3002\n\u30ab\u30e1\u30e9\u30de\u30f3\u304c\u8ee2\u5012\u3057\u305f\u969b\u306b\u753b\u50cf\u304c\u4e71\u308c\u308b\u69d8\u3092\u60f3\u50cf\u3059\u308b\u3068\u30a4\u30e1\u30fc\u30b8\u3057\u3084\u3059\u3044\u3002\n\n* **04. \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5ea7\u6a19**\n3D\u306e\u5ea7\u6a19\u5909\u63db\u306e\u4e2d\u3067\u4e00\u756a\u3080\u305a\u304b\u3057\u3044\u70b9\u304c\u3053\u3053\u3002\n\u7406\u7531\u3068\u3057\u3066\u306f\u300103\u307e\u3067\u306e\u5ea7\u6a19\u5909\u63db\u306f\u3042\u304f\u307e\u30673D\u7a7a\u9593\u4e0a\u306e\u5ea7\u6a19\u5909\u63db\u3092\u884c\u306a\u3063\u3066\u3044\u305f\u306e\u306b\u5bfe\u3057\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5909\u63db\u306f\u30b9\u30af\u30ea\u30fc\u30f3\u3001\u3064\u307e\u308a2D\uff08\u5e73\u9762\uff09\u306b\u305d\u306e3D\u306e\u5ea7\u6a19\u3092\u6295\u5f71\u3059\u308b\u5834\u5408\u306b\u3069\u3046\u3044\u3046\u4f4d\u7f6e\u95a2\u4fc2\u306b\u306a\u308b\u304b\u3092\u8a08\u7b97\u3057\u5909\u63db\u3059\u308b\u4f5c\u696d\u3068\u306a\u308b\u3002\n\u9060\u3044\u307b\u3069\u5c0f\u3055\u304f\u3001\u8fd1\u304f\u306e\u3082\u306e\u307b\u3069\u5927\u304d\u3044\u3002\u307e\u305f\u3001\u9060\u304f\u306b\u884c\u3051\u3070\u884c\u304f\u307b\u3069\u753b\u9762\u4e2d\u592e\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5bc4\u3063\u3066\u3044\u304f\u3088\u3046\u306a\u5909\u63db\u3068\u306a\u308b\u3002\n\n* **05. \u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19**\n04\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5ea7\u6a19\u5909\u63db\u3067\u884c\u308f\u308c\u305f\u5ea7\u6a19\u5909\u63db\u3092\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u306e\u30b5\u30a4\u30ba\u306b\u5fdc\u3058\u3066**\u300c\u5b9f\u969b\u306b\u300d**\u8868\u793a\u30b5\u30a4\u30ba\u306b\u5909\u63db\u3059\u308b\u4f5c\u696d\u3092\u884c\u3046\u3002\n04\u306e\u5ea7\u6a19\u5909\u63db\u307e\u3067\u306f\u57fa\u672c\u7684\u306b -1 \u304b\u3089 1 \u306e\u9593\u306e\u5909\u63db\u3092\u884c\u306a\u3063\u3066\u3044\u308b\u3002\n\u305d\u306e\u6570\u5024\u306b\u5408\u308f\u305b\u3001\u5b9f\u969b\u306b\u8868\u793a\u3055\u308c\u308b\u30b9\u30af\u30ea\u30fc\u30f3\u30b5\u30a4\u30ba\u306b\u5fdc\u3058\u3066\u305d\u306e\u5024\u3092\u5909\u63db\u3057\u3001\u4eba\u306e\u76ee\u306b\u89e6\u308c\u308b\u6620\u50cf\u3068\u3057\u3066\u6295\u5f71\u3059\u308b\u3002\n\n* \u6700\u5f8c\u306b\u3001\u5909\u63db\u3055\u308c\u305f\u5ea7\u6a19\u3092\u5143\u306b\u70b9\uff08Particle\uff09\u3084\u30c6\u30af\u30b9\u30c1\u30e3\u30de\u30c3\u30d4\u30f3\u30b0\u306a\u3069\u306eTriangle\u306a\u3069\u304c\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u308b\u3002\n\n---\n\n###\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u5909\u63db\u306e\u30dd\u30a4\u30f3\u30c8\n\n\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\uff08\u307e\u305f\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5ea7\u6a19\u3001\u30e2\u30c7\u30eb\u5ea7\u6a19\uff09\u304b\u3089\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u306b\u5909\u63db\u3059\u308b\u5834\u5408\u306f\u3001 **\u5ea7\u6a19\u7cfb\u3092\u5909\u63db\u3059\u308b** \u3053\u3068\u3092\u610f\u8b58\u3059\u308b\u3002\n\nOpenGL\u3067\u306f\u3001\u884c\u5217\u306b\u5bfe\u3057\u3066 **\u5de6\u306b\u59ff\u52e2\u5236\u5fa1\u884c\u5217\u3092\u304b\u3051\u308b\u3068\u5909\u63db\u5148\u3001\u3064\u307e\u308a\u30ef\u30fc\u30eb\u30c9\u7a7a\u9593\u4e0a\u3067\u306e\u5909\u63db** \u3068\u306a\u308a\u3001 **\u53f3\u5074\u306b\u304b\u3051\u308b\u3068\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\u4e0a\u3067\u306e\u5909\u63db** \u3068\u306a\u308b\u3002\uff08\u3061\u306a\u307f\u306bDirectX\u3067\u306f\u639b\u3051\u308b\u9806\u756a\u306e\u610f\u5473\u304c\u5de6\u53f3\u9006\u306b\u306a\u308b\uff09\n\n\u4f8b\u3048\u3070\u3001\u30ef\u30fc\u30eb\u30c9\u7a7a\u9593\u4e0a\u3067X\u8ef8\u65b9\u5411\u306b30\u52d5\u304b\u3057\u305f\u3044\u5834\u5408\u306f\u5de6\u5074\u306b\u5e73\u884c\u79fb\u52d5\u884c\u5217\u3092\u304b\u3051\u308c\u3070\u3044\u3044\u3053\u3068\u306b\u306a\u308b\u3002\n\u9006\u306b\u3001\u30ed\u30fc\u30ab\u30eb\u7a7a\u9593\u4e0a\u3067\u81ea\u5206\u81ea\u8eab\u306e\u8ef8\u3092\u4e2d\u5fc3\u306bY\u8ef8\u4e2d\u5fc3\u306b30\u00b0\u56de\u8ee2\u3057\u305f\u3044\u3001\u3068\u3044\u3063\u305f\u5834\u5408\u306f\u56de\u8ee2\u884c\u5217\u3092\u53f3\u5074\u306b\u639b\u3051\u308b\u3053\u3068\u3067\u9054\u6210\u3067\u304d\u308b\u3002\n\n\uff08[\u8a73\u3057\u304f\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u7167](http://marupeke296.com/DXG_No60_MultMatrix.html)\uff09\n\n\n###\u30d3\u30e5\u30fc\u5909\u63db\u306e\u30dd\u30a4\u30f3\u30c801\n\n\u30d3\u30e5\u30fc\u5909\u63db\uff08\u30ab\u30e1\u30e9\u304c\u6620\u3057\u51fa\u3059\u3079\u304d\u9762\u306b\u5ea7\u6a19\u3092\u5909\u63db\u3059\u308b\u51e6\u7406\uff09\u306f\n\n* \u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\n* \u6ce8\u8996\u70b9\n* \u4e0a\u65b9\u5411\n\n\u3092\u5143\u306b\u5909\u63db\u3092\u884c\u3046\u3002\n\n**\u4e0a\u65b9\u5411** \u306f\u30ab\u30e1\u30e9\u306e\u4e0a\u65b9\u304c\u3069\u3053\u3092\u5411\u3044\u3066\u3044\u308b\u304b\u3001\u3092\u6c7a\u3081\u308b\u3002\n*\uff08\u540c\u3058\u4f4d\u7f6e\u3001\u540c\u3058\u6ce8\u8996\u70b9\u3067\u3042\u3063\u3066\u3082\u3001\u30ab\u30e1\u30e9\u306e\u4e0a\u65b9\u304c\u7570\u306a\u308c\u3070\u6620\u3057\u51fa\u3055\u308c\u308b\u6620\u50cf\u304c\u5909\u308f\u308b\u3068\u3044\u3046\u7406\u5c48\uff09*\n\n\u57fa\u672c\u7684\u306a\u51e6\u7406\u306e\u6d41\u308c\u306f\u3001\u300c\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\u3001\u6ce8\u8996\u70b9\u3001\u4e0a\u90e8\u300d\u3092\u5143\u306b\u3001\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u306eX, Y, Z\u8ef8\u3092\u30ab\u30e1\u30e9\u57fa\u6e96\uff08\u30ab\u30e1\u30e9\u306e\u524d\u304c-z\u65b9\u5411\u3001\u30ab\u30e1\u30e9\u306e\u53f3\u304c+x\u65b9\u5411\u3001\u30ab\u30e1\u30e9\u306e\u4e0a\u304c+y\u65b9\u5411\uff09\u306b\u5909\u63db\u3059\u308b\u51e6\u7406\u3092\u884c\u3046\u3002\n\n\u3053\u306e\u5909\u63db\u4ee5\u5f8c\u306f\u3001\u65b0\u3057\u304f\u6c42\u3081\u305f\u8ef8\u3092\u5143\u306b\u5ea7\u6a19\u5909\u63db\u3092\u884c\u3046\u3053\u3068\u306b\u306a\u308b\u3002\n\n###\u30d3\u30e5\u30fc\u5909\u63db\u306e\u30dd\u30a4\u30f3\u30c802\n\n\u30d3\u30e5\u30fc\u5909\u63db\u306e\u5ea7\u6a19\u306f\u3001\u8ef8\u3092\u6c42\u3081\u308b\u4f5c\u696d\u304c\u30e1\u30a4\u30f3\u3068\u306a\u308b\u3002\n\u305d\u306e\u305f\u3081\u3001\u4e0a\u8a183\u3064\u306e\u30d9\u30af\u30c8\u30eb\u3092\u7528\u3044\u3066\u8ef8\u3092\u6c42\u3081\u308b\u3002\n\u5177\u4f53\u7684\u306b\u306f\u305d\u308c\u305e\u308c\u306e **\u5916\u7a4d\u3092\u4f7f\u3063\u3066\u30d9\u30af\u30c8\u30eb\u3092\u6c42\u3081\u3066\u3044\u304f** \u3053\u3068\u306b\u306a\u308b\u3002\n\n\u30ab\u30e1\u30e9\u306e\u5f8c\u308d\u65b9\u5411\uff08\u3064\u307e\u308a\u3001\u30ab\u30e1\u30e9\u306e\u8996\u70b9\u65b9\u5411\u306e\u9006\uff09\u306f\u3001\u5358\u7d14\u306b\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\u304b\u3089\u30ab\u30e1\u30e9\u306e\u6ce8\u8996\u70b9\u306e\u30d9\u30af\u30c8\u30eb\u306e\u5dee\u5206\u3092\u53d6\u308b\u3053\u3068\u3067\u6c42\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n\u4e0a\u8a18\u5dee\u5206\u304b\u3089\u30ab\u30e1\u30e9\u3092\u57fa\u6e96\u3068\u3057\u305fZ\u8ef8\uff08Z'\u8ef8\uff09\u304c\u6c42\u307e\u308b\u3002\n\u305d\u3057\u3066\u30ab\u30e1\u30e9\u4e0a\u90e8\u3092\u5411\u304f\u30d9\u30af\u30c8\u30eb\u306f\u3059\u3067\u306b\u4e0e\u3048\u3089\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u6c42\u3081\u305fZ'\u8ef8\u3068\u306e\u5916\u7a4d\u3092\u53d6\u308b\u3053\u3068\u3067X'\u8ef8\u304c\u6c42\u307e\u308b\u3002\n\n\u6700\u5f8c\u306b\u3001Z'\u8ef8\u3001X'\u8ef8\u306e\u5916\u7a4d\u3092\u53d6\u308b\u3053\u3068\u3067Y'\u8ef8\u3092\u6c42\u3081\u308b\u3002\n\uff08\u30ab\u30e1\u30e9\u4e0a\u90e8\u306e\u30d9\u30af\u30c8\u30eb\u306fY'\u8ef8\u3067\u306f\u306a\u304f\u3001\u3042\u304f\u307e\u3067\u30ab\u30e1\u30e9\u306e\u4e0a\u65b9\u5411\u306e\u30d9\u30af\u30c8\u30eb\u3092\u793a\u3059\u3060\u3051\u306a\u306e\u3067\u305d\u306e\u307e\u307eY'\u8ef8\u3068\u3057\u3066\u306f\u4f7f\u3048\u306a\u3044\u306e\u3067\u6ce8\u610f\uff09\n\n\u4e0a\u8a18\u306e\u65b0\u3057\u30443\u8ef8\u306f\u3001\u65b9\u5411\u3092\u793a\u3059\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u3068\u3057\u3066\u4fdd\u6301\u3057\u3066\u3044\u308c\u3070\u3044\u3044\u306e\u3067\u3001\u305d\u308c\u305e\u308c\u3092\u6b63\u898f\u5316\u3057\u3066\u304a\u304f\u3002\n\u3053\u308c\u3089\u3092\u5b9f\u884c\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4ee5\u4e0b\u306b\u306a\u308b\u3002\uff08\u81ea\u4f5c\u3057\u3066\u3044\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u4e00\u90e8\u629c\u7c8b\uff09\n\n[\u3053\u3061\u3089\u306e\u8a18\u4e8b](http://tech-sketch.jp/2011/11/3d3.html)\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\n\n```coffee\nlookAt: do ->\n    #\u30ab\u30e1\u30e9\u306b\u5bfe\u3057\u3066\u306eX, Y, Z\u8ef8\u3092\u305d\u308c\u305e\u308c\u5b9a\u7fa9\n    x = new Vector3\n    y = new Vector3\n    z = new Vector3\n\n    return (eye, target, up) ->\n\n        te = @elements\n\n        z.subVectors(eye, target).normalize()\n        x.crossVector(up, z).normalize()\n        y.crossVector(z, x).normalize()\n\n        tx = eye.dot x\n        ty = eye.dot y\n        tz = eye.dot z\n\n        te[0] = x.x; te[4] = y.x; te[8]  = z.x;\n        te[1] = x.y; te[5] = y.y; te[9]  = z.y;\n        te[2] = x.z; te[6] = y.z; te[10] = z.z;\n        te[3] =  tx; te[7] =  ty; te[11] =  tz;\n\n        return @\n```\n\n---\n\n####\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5909\u63db\u306e\u30dd\u30a4\u30f3\u30c801\n\nzoomX\u3068zoomY\u306f\u305d\u308c\u305e\u308c\u5bfe\u8c61\u30b9\u30af\u30ea\u30fc\u30f3\u306b\u5bfe\u3059\u308b\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3092\u5b9f\u884c\u3059\u308b\u3002\n\u3064\u307e\u308a\u3001X\uff08Y\uff09\u5ea7\u6a19\u3092 $-1 \u2266 (x|y) \u2266 1$ \u306b\u306a\u308b\u3088\u3046\u306b\u6b63\u898f\u5316\u3059\u308b\u3002\n\u305d\u306e\u305f\u3081\u306b\u306f\u30b9\u30af\u30ea\u30fc\u30f3\u30b5\u30a4\u30ba\u306e\u534a\u5206\u3067\u5272\u308b\uff08\u3064\u307e\u308a `2 / width` \u3068 `2 / height` \u3092X\u3068Y\u306b\u5bfe\u3057\u3066\u639b\u3051\u308b\uff09\u3002\n\u203b \u3053\u3053\u3067\u5272\u308b\u5024\u3092\u534a\u5206\u306b\u3059\u308b\u306e\u306f\u5358\u7d14\u306b\u4e0e\u3048\u3089\u308c\u308bX\u5ea7\u6a19\u3001Y\u5ea7\u6a19\u306f\u753b\u9762\u4e2d\u5fc3\u3092 `(0, 0)` \u3068\u3057\u3001\u753b\u9762\u30b5\u30a4\u30ba\u306e\u534a\u5206\u3060\u3051\u6b63\u8ca0\u306e\u5024\u3067\u8868\u73fe\u3055\u308c\u308b\u305f\u3081\u3002\n\u3000\u753b\u9762\u30b5\u30a4\u30ba\u304c\u4eee\u306b `800` \u3060\u3068\u3059\u308b\u3068\u3001\u753b\u9762\u5185\u306b\u5165\u308b\u5ea7\u6a19\u306f `-400 ~ 400` \u3068\u3001\u7d76\u5bfe\u5024\u3067\u898b\u308b\u3068\u534a\u5206\u306b\u306a\u308b\u3002\n\n\u305d\u3057\u3066\u3055\u3089\u306b\u305d\u308c\u3092\u3001near / z\u3092\u639b\u3051\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u4e2d\u592e\u306b\u5bc4\u305b\u308b\uff08\u9060\u3044\u3082\u306e\u307b\u3069\u753b\u9762\u4e2d\u592e\u306b\uff09\u51e6\u7406\u3092\u65bd\u3059\u3002\n\n\uff08near\u306f\u4efb\u610f\u3067\u8a2d\u5b9a\u3055\u308c\u305f\u518d\u8fd1\u63a5\u9762\u3001far\u304c\u4efb\u610f\u3067\u8a2d\u5b9a\u3055\u308c\u305f\u6700\u9060\u9762\u3002\u305d\u3057\u3066z\u306f\u3001\u4eca\u307e\u3055\u306b\u8a08\u7b97\u5bfe\u8c61\u3068\u3057\u3066\u3044\u308b\u9802\u70b9\u306ez\u5024\u3002\u3064\u307e\u308a\u3001z\u5024\u304cnear\u3068\u540c\u3058\u306a\u3089 `near/near = 1` \u3068\u306a\u3063\u3066\u7e2e\u5c0f\u306e\u5909\u63db\u306f\u3055\u308c\u306a\u3044\u3002\u9006\u306bz\u5024\u304cfar\u3068\u540c\u3058\u306a\u3089`near / far`\u3068\u306a\u308b\u3068\u304d\u304c\u4e00\u756a\u7e2e\u5c0f\u7387\u304c\u5927\u304d\u304f\u306a\u308a\u3001\u4e00\u756a\u5c0f\u3055\u3044\uff08\u5965\u306e\uff09\u9802\u70b9\u3068\u306a\u308b\uff09\n\n\u3064\u307e\u308a\u3001`(2 / width) * (zn / z)` \u3068\u306a\u308b\u3002\uff08\u3053\u308c\u3092\u6574\u7406\u3059\u308b\u3068 `(2 * zn) / (width * z)` \uff09\n\u3057\u304b\u3057\u3001z\u306f\u56fa\u5b9a\u5024\u3067\u306f\u306a\u3044\u305f\u3081\u3001\u3053\u308c\u3092\u5916\u306b\u51fa\u3059\u3002\n\u3064\u307e\u308a\u3001\u6700\u7d42\u7684\u306b`w`\u6210\u5206\u3067\u5272\u3089\u308c\u308b\u305f\u3081\u3001`w`\u306b`z`\u304c\u51fa\u529b\u3055\u308c\u308b\u3088\u3046\u5909\u63db\u3059\u308b\u3002\n*\uff08`w`\u6210\u5206\u306f\u30014\u6b21\u5143\u30d9\u30af\u30c8\u30eb\u306e\u6700\u5f8c\u306e\u6210\u5206\uff08x, y, z, `w`\uff09\u306e\u3053\u3068\uff09*\n\n\u3055\u3089\u306b\u3053\u306e`w`\u6210\u5206\u3067\u5272\u3089\u308c\u308b\u5bfe\u8c61\u306f(x, y, z)\u3059\u3079\u3066\u306b\u306a\u308b\u305f\u3081\u3001z\u5024\u3082\u305d\u308c\u3092\u8003\u616e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\u3064\u307e\u308a\u3001`near`\u3068`z`\u304c\u540c\u3058\u306a\u3089`-1`\u3001`far`\u3068`z`\u304c\u540c\u3058\u306a\u3089`1`\u3068\u306a\u308b\u8a08\u7b97\u5f0f\u3092\u8003\u3048\u308c\u3070\u3088\u3044\u3002\n*\uff08X\u8ef8\u3001Y\u8ef8\u540c\u69d8\u3001Z\u8ef8\u3082`-1`\u304b\u3089`1`\u306b\u6b63\u898f\u5316\u3055\u308c\u308b\u305f\u3081\u3001near\u304c`-1`\u3001far\u304c`1`\u3068\u306a\u308b\uff09*\n\n\u203b \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u884c\u5217\u306e\u610f\u5473\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\uff08[\u305d\u306e55 \u305d\u3082\u305d\u3082\u300cw\u300d\u3063\u3066\u4f55\u306a\u306e\u304b\uff1f](http://marupeke296.com/DXG_No55_WhatIsW.html)\uff09\u304c\u3068\u3066\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n\n[2015.04.14 \u8ffd\u8a18]\n\u306a\u304a\u3001\u3053\u308c\u306fOpenGL\u306e\u8003\u3048\u65b9\u3067\u3042\u308a\u3001DirectX\u3067\u306f`0\u301c1`\u306b\u6b63\u898f\u5316\u3055\u308c\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u4e0a\u8a18\u306e\u8a08\u7b97\u3092\u7c21\u5358\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u793a\u3059\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```js\nvar posZ = 100;\n\nvar near = 10;\nvar far  = 100;\n\nfunction z() {\n    return (far + near) / (far - near);\n}\n\nfunction w() {\n    return (2 * near * far) / (near - far);\n}\n\nvar ret = (posZ * z() + w()) / posZ;\n\nconsole.log(ret); // => 1\n\n// \u4eee\u306b posZ \u3092 10\u3001\u3064\u307e\u308a near \u3068\u540c\u3058\u306b\u3059\u308b\u3068 -1 \u3068\u306a\u308b\u3002\n```\n\n\u30dd\u30a4\u30f3\u30c8\u306f\u6700\u5f8c\u306b`posZ`\u3067\u5272\u3089\u308c\u308b\u70b9\u3067\u3059\u3002\n`posZ`\u3067\u5272\u3089\u308c\u305f\u6bb5\u968e\u3067\u521d\u3081\u3066\u3001`-1\u301c1`\u306b\u6b63\u898f\u5316\u3055\u308c\u307e\u3059\u3002\n\uff08\u884c\u5217\u3092\u639b\u3051\u305f\u3060\u3051\u3067\u306fZ\u5024\u306f`-1\u301c1`\u306b\u6b63\u898f\u5316\u3055\u308c\u3066\u3044\u306a\u3044\uff09\n\n\n\u305d\u3057\u3066\u3053\u308c\u3089\u3092\u8e0f\u307e\u3048\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u69d8\u306a\u884c\u5217\u304c\u5b8c\u6210\u3059\u308b\u3002\n\n[2016.06.13 \u8ffd\u8a18]\n\u4ee5\u4e0b\u306e\u884c\u5217\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u304b\u3089\u305d\u306e\u307e\u307e\u62dd\u501f\u3057\u305f\u3082\u306e\u3067\u3059\u3002\u306a\u306e\u3067\u8a73\u7d30\u306f\u3053\u3061\u3089\u3092\u898b\u305f\u307b\u3046\u304c\u3044\u3044\u304b\u3082\u2192 [\u5e8a\u4e95\u7814\u7a76\u5ba4 \u7b2c\uff15\u56de \u5ea7\u6a19\u5909\u63db](http://marina.sys.wakayama-u.ac.jp/~tokoi/?date=20090829)\n\n\u3061\u306a\u307f\u306bThree.js\u306e\u884c\u5217\u751f\u6210\u3082\u3053\u308c\u3068\u540c\u3058\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```math\n\\begin{vmatrix}\n\\frac{2 near}{right - left} &0 &\\frac{right + left}{right - left} &0 \\\\\n0 &\\frac{2 near}{top - bottom} &\\frac{top + bottom}{top - bottom} &0 \\\\\n0 &0 &-\\frac{far + near}{far - near} &-\\frac{2 far\\,near}{far - near} \\\\\n0 &0 &-1 &0\n\\end{vmatrix}\n\\\\\nwidth = right - left \\\\\nheight = top - bottom \\\\\n```\n\n\u3053\u3053\u3067 $-\\frac{far + near}{far - near}$ \u3068\u51fa\u3066\u304d\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u3082X, Y\u3068\u4f3c\u305f\u767a\u60f3\u3067\u3059\u3002\n`far - near` \u306e\u610f\u5473\u3059\u308b\u3068\u3053\u308d\u306fZ\u8ef8\u306b\u5bfe\u3059\u308b\u300c\u9577\u3055\u300d\u3092\u7b97\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\n\u9577\u3055\u3067\u5272\u3063\u3066\u3044\u308b\u3001\u3064\u307e\u308aX, Y\u3092width\u3084height\u3067\u5272\u308b\u306e\u3068\u307e\u3063\u305f\u304f\u540c\u3058\u3053\u3068\u3092\u3084\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u306d\u3002\n\n#### \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5909\u63db\u306e\u30dd\u30a4\u30f3\u30c802\n\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5909\u63db\u304c\u884c\u306a\u3063\u3066\u3044\u308b\u306e\u306f\u3001\u3042\u304f\u307e\u3067\u300c\u30d3\u30e5\u30fc\uff08\u30ab\u30e1\u30e9\uff09\u300d\u304b\u3089\u898b\u305f\u5834\u5408\u306e\u5404\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306ex,y\u5ea7\u6a19\u306e\u5909\u63db\u306e\u307f\u3092\u884c\u3044\u3063\u3066\u3044\u308b\u3002\u8996\u4f53\u7a4d\u306e\u624b\u524d\u5074\u304c\u5927\u304d\u304f\u3001\u5965\u5074\u304c\u5c0f\u3055\u304f\u3001\u3068\u3044\u3046\u5909\u63db\u306f **\u3055\u308c\u306a\u3044** \u3002\n\n\u30b5\u30f3\u30d7\u30eb\u306e`transformPoints`\u95a2\u6570\u3067\u884c\u306a\u3063\u3066\u3044\u308b\u51e6\u7406\u306f\u3001\u305d\u306e\u5909\u63db\u6642\u306eZ\u5024\uff08\u5965\u884c\u304d\u60c5\u5831\uff09\u306b\u5408\u308f\u305b\u3066W\u5024\uff08\u30d9\u30af\u30c8\u30eb\u306e\u7b2c4\u6210\u5206\uff09\u306b\u3001\u8996\u4f53\u7a4d\u81a8\u3089\u307f\u60c5\u5831\u3092\u683c\u7d0d\u3057\u3066\u3044\u308b\u3002\uff08[\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u66f8\u3044\u3066\u307e\u3059](http://capa.jugem.cc/?eid=144)\uff09\n\n\u300cW\u5024\u300d\u306b\u3088\u308anear / far\u306e\u30af\u30ea\u30c3\u30d7\uff08near\u304b\u3089far\u306e\u9593\u3060\u3051\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u7bc4\u56f2\u3068\u3059\u308b\u51e6\u7406\uff09\u3092\u884c\u3044\u3001\u3053\u306e\u7bc4\u56f2\u306b\u3042\u308b\u3082\u306e\u306e\u307f\nx = x / W\ny = y / W\n\u3092\u5b9f\u884c\u3057\u3001\u624b\u524d\u307b\u3069\u5927\u304d\u304f\u3001\u5965\u307b\u3069\u5c0f\u3055\u3044\u3001\u3068\u3044\u3046\u5909\u63db\u3092\u884c\u306a\u3063\u3066\u3044\u308b\u3002\n\nnear\u30af\u30ea\u30c3\u30d7\u9762\u3092zn\u3067\u8868\u3059\u3068\u3059\u308b\u3068\u3001zn / z\u3092\u304b\u3051\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u5ea7\u6a19\u3092\u753b\u9762\u4e2d\u592e\u306b\u5bc4\u305b\u308b\u51e6\u7406\u3092\u884c\u3046\u3002\n**\u8a08\u7b97\u7406\u7531\u306f\u3001zn\u3001\u3064\u307e\u308a\u624b\u524d\u304b\u3089\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u9060\u3056\u304b\u308b\uff08Z\u5024\u304c\u5927\u304d\u304f\u306a\u308b\uff09\u3068\u6b21\u7b2c\u306b\u5ea7\u6a19\u306f0\u306b\u8fd1\u3065\u3044\u3066\u3044\u304f**\u3002\n*\uff08`hoge * (1 / 10000000...)`\u3068\u306a\u308b\u3068`hoge`\u304c\u9650\u308a\u306a\u304f0\u306b\u8fd1\u4ed8\u304f\u3053\u3068\u3092\u8003\u3048\u308b\u3068\u30a4\u30e1\u30fc\u30b8\u3057\u3084\u3059\u3044\uff09*\n\n\u6ce8\u610f\u70b9\u3068\u3057\u3066\u3001\u901a\u5e38\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u306f(0, 0)\u306f\u5de6\u4e0a\u3060\u304c\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u5909\u63db\u3092\u884c\u3046\u307e\u3067\u306f(0, 0)\u306f\u753b\u9762\u4e2d\u592e\u3092\u610f\u5473\u3059\u308b\u3002\u305d\u306e\u305f\u3081\u3001x, y\u3068\u3082\u306b0\u306b\u8fd1\u4ed8\u304f\u3068\u3044\u3046\u3053\u3068\u306f\u753b\u9762\u4e2d\u592e\u306b\u8fd1\u4ed8\u304f\u3001\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308b\u3002\n\n\u5b9f\u969b\u306e\u51e6\u7406\u2193\n\n```coffee\ntransformPoints = (out, pts, mat, viewWidth, viewHeight) ->\n\n    len = pts.length\n    transformed_temp = [0, 0, 0, 0]\n    oi = 0\n\n    for i in [0...len] by 3\n        mat.transVec3(transformed_temp, pts[i + 0], pts[i + 1], pts[i + 2])\n\n        W = transformed_temp[3]\n        transformed_temp[0] /= W\n        transformed_temp[1] /= W\n        transformed_temp[2] /= W\n\n        transformed_temp[0] *=  viewWidth\n        transformed_temp[1] *= -viewHeight\n\n        transformed_temp[0] +=  viewWidth  / 2\n        transformed_temp[1] +=  viewHeight / 2\n\n        out[oi++] = transformed_temp[0]\n        out[oi++] = transformed_temp[1]\n```\n\n\n###\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u5909\u63db\u306e\u30dd\u30a4\u30f3\u30c8\n\n\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u5909\u63db\u524d\u307e\u3067\u306b\u8a08\u7b97\u3055\u308c\u305f\u306e\u306f\uff08\u4e0a\u8a18\u3067\u8aac\u660e\u3057\u305f\u901a\u308a\uff09x,y\u3068\u3082\u306b -1 \u2266 (x|y) \u2266 1\u306e\u9593\u306b\u53ce\u307e\u308b\u3002\n\u305d\u306e\u9593\u3067\u7b97\u51fa\u3055\u308c\u305f\u5024\u3092\u5143\u306b\u901a\u5e38\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u7cfb\u306b\u5909\u63db\u3059\u308b\u8a08\u7b97\u3092\u884c\u3046\u3002\n\n\u5177\u4f53\u7684\u306b\u306f\u3001\u8868\u793a\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u30b9\u30af\u30ea\u30fc\u30f3\u3078\u306e\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3068Y\u8ef8\u53cd\u8ee2\u3092\u884c\u3046\u3002\uff08\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u7cfb\u306f(0, 0)\u304c\u5de6\u4e0a\u3067\u3001Y\u8ef8\u306f\u4e0b\u5411\u304d\u306b\u6b63\u306e\u6570\u5024\u3092\u53d6\u308b\uff09\n\u305d\u3057\u3066\u305d\u306e\u5f8c\u3001\u539f\u70b9(0, 0)\u3092\u30b9\u30af\u30ea\u30fc\u30f3\u4e2d\u592e\u306b\u79fb\u52d5\u3059\u308b\u5e73\u884c\u3092\u79fb\u52d5\u3092\u884c\u3046\u3002\n\u884c\u5217\u3067\u8868\u3059\u3068\u3001\n\n```math\nw = screen\\_width  / 2 \\\\\nh = screen\\_height / 2 \\\\\n\n\\begin{equation}\nM(screen) =\n\\begin{bmatrix}\nw &0 &0 &0 \\\\\n0 &-h &0 &0 \\\\\n0 &0 &1 &0 \\\\\nw &h &0 &1\n\\end{bmatrix}\n\\end{equation}\n```\n\n####\u539f\u70b9\u79fb\u52d5\u306e\u7406\u7531\n\n\u4e0b\u8a18\u753b\u50cf\u3092\u898b\u3066\u3082\u3089\u3046\u3068\u4e00\u76ee\u77ad\u7136\u3060\u304c\u30013D\u7a7a\u9593\u306e(0, 0)\u5ea7\u6a19\u306f\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u306e\u5de6\u4e0a\u3068\u4e00\u81f4\u3059\u308b\u3002\n\n\u3053\u306e3D\u7a7a\u9593\u4e0a\u306e(0, 0)\u3068\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u306e(0, 0)\u3092\u4e00\u81f4\u3055\u305b\u308b\u306b\u306f\u3001X\u8ef8\u65b9\u5411\u306b\u30b9\u30af\u30ea\u30fc\u30f3\u30b5\u30a4\u30ba\u306e\u534a\u5206\u3092\u6b63\u65b9\u5411\u306b\u3001Y\u8ef8\u65b9\u5411\u306b\u30b9\u30af\u30ea\u30fc\u30f3\u30b5\u30a4\u30ba\u306e\u534a\u5206\u3092\u8ca0\u65b9\u5411\u306b\u79fb\u52d5\u3059\u308b\u3053\u3068\u3067\u9054\u6210\u3067\u304d\u308b\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u5909\u63db](http://f.cl.ly/items/2l3s3J2W200l371W0a3v/Image%202013.03.19%2010:40:53.png)\n\n\n#### \u5c04\u5f71\u5909\u63db\u306e\u53c2\u8003\u753b\u50cf\n![\u5c04\u5f71\u5909\u63db\u306e\u8003\u3048\u65b9](http://f.cl.ly/items/361k3B1r2U30310J0P0Z/Image%202013.03.22%209:04:03.png)\n\n\uff08\u3053\u3053\u306f\u3061\u3087\u3063\u3068\u89e3\u91c8\u304c\u3042\u3063\u3066\u308b\u304b\u81ea\u4fe1\u306a\u3057\u30fb\u30fb\uff09\n\u5c04\u5f71\u5909\u63db\u306e\u89e3\u91c8\u306f\u3001\u4e0a\u8a18\u753b\u50cf\u306e`d`\u304c `zoom 1` \u306e\u72b6\u614b\u3060\u3068\u3059\u308b\u3068\u3001\u3053\u306e\u4f4d\u7f6e\u306b\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u57fa\u6e96\u4f4d\u7f6e\u3068\u306a\u308b\u3002\uff08\u540c\u6b21\u5ea7\u6a19\u7a7a\u9593\u306eW\uff1f\uff09\n\n\u3053\u306e\u4f4d\u7f6e\u3088\u308a\u624b\u524d\uff08\u8fd1\u304f\uff09\u306e\u3082\u306e\u306f\u5927\u304d\u304f\u3001\u5965\u306e\u3082\u306e\u306f\u5c0f\u3055\u304f\u306a\u308b\u3002\nY\u5ea7\u6a19\u306e\u4f4d\u7f6e\u306f\u3001\u4e0a\u8a18\u753b\u50cf\u3088\u308a `d * tan(\u03b8 / 2)` \u3067\u5272\u308b\u3053\u3068\u3067\u5f97\u3089\u308c\u308b\u3002\uff08\u4e0a\u8a18\u753b\u50cf\u306e\u5834\u5408\u3001`d * tan(\u03b8 / 2)` \u3067\u5272\u308c\u30701\u3068\u306a\u308b\uff09\n\uff08\u03b8\u30922\u3067\u5272\u3063\u3066\u3044\u308b\u306e\u306f\u3001\u5358\u7d14\u306b\u4e0a\u534a\u5206\u306e\u76f4\u89d2\u4e09\u89d2\u5f62\u306e\u304c\u03b8/2\u3067\u8868\u3055\u308c\u308b\u304b\u3089\uff09\n\n\u3064\u307e\u308a\u3001`d * tan(\u03b8 / 2)` \u3067\u5272\u308b\u3053\u3068\u3067\u3001\u5965\u306b\u884c\u3051\u3070\u5c0f\u3055\u304f\u3001\u9006\u306b\u624b\u524d\u306b\u884c\u3051\u3070\u5927\u304d\u304f\u306a\u308b\u3068\u3044\u3046\u7d50\u679c\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\uff08`d = z = 10` \u3068\u3059\u308b\u3068\u3001`d * tan(\u03b8 / 2) = 10 * tan(\u03b8 / 2)` \u3068\u306a\u308a\u3001\u9006\u306b `d = z = 2` \u3068\u3059\u308b\u3068\u3001 `2 * tan(\u03b8 / 2)` \u3067\u5272\u308b\u3053\u3068\u306b\u306a\u308b\u3002\u7d50\u679c\u3001\u5965\u306b\u884c\u3051\u3070\u884c\u304f\u307b\u3069\u5272\u308b\u6570\u5024\u304c\u5927\u304d\u304f\u306a\u3063\u3066\u3044\u304f\uff09\n\n### lookAt\n\n[\u53c2\u8003\u8a18\u4e8b]\n\n\n---\n\n##\u30e9\u30a4\u30c6\u30a3\u30f3\u30b0\n\n###\u30b9\u30da\u30ad\u30e5\u30e9\u30fc\u6210\u5206\u306e\u8a08\u7b97\u5f0f\n\n####\u25a0Phone\u306e\u30e2\u30c7\u30eb\n\n```math\nSpecular = K_s * L_{color} * (R \\cdot V)^n\n```\n\n####\u25a0Blin\u306e\u30e2\u30c7\u30eb\n\n```math\nSpecular = K_s * L_{color} * (N \\cdot H)^n \\\\\n\u305f\u3060\u3057 H = normalize(L + V);\n```\n\n```GLSL\n//\u300cn\u300d\u304c\u5927\u304d\u3044\u307b\u3069\u3001\u30cf\u30a4\u30e9\u30a4\u30c8\u304c\u30b7\u30e3\u30fc\u30d7\u306b\u306a\u308b\uff08\u306f\u305a\uff09\n\n//\u3010\u30d7\u30ed\u30b0\u30e9\u30e0\u4f8b\u3011\n//\u25a0phong\u306e\u30e2\u30c7\u30eb\nfloat3 V = normalize(eyePos - P);\nfloat3 R = normalize(2*dot(L,N)*N - L);\nfloat specularLight = pow(max(dot(R,V), 0), shininess);\nif (diffuseLight <= 0) specularLight = 0;\nfloat3 specular = Ks * lightColor * specularLight;\n\n//\u25a0Blin\u306e\u30e2\u30c7\u30eb\nfloat3 V = normalize(eyePos - P);//Blin\u306e\u30e2\u30c7\u30eb\u3067\u8a08\u7b97\nfloat3 H = normalize(L + V);\nfloat specularLight = pow(max(dot(N, H), 0), shininess);\nif (diffuseLight <= 0) specularLight = 0;\nfloat3 specular = Ks * lightColor * specularLight;\n```\n\n##\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u5909\u63db\u884c\u5217\u304b\u3089\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\u306eXYZ\u8ef8\u306e\u5411\u304d\u3092\u5272\u308a\u51fa\u3059\n\n[\u305d\u306e39 \u77e5\u3063\u3066\u3044\u308b\u3068\u4fbf\u5229\uff1f\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u304b\u3089\u60c5\u5831\u3092\u629c\u304d\u51fa\u305d\u3046](http://marupeke296.com/DXG_No39_WorldMatrixInformation.html)\n\n\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3092\u898b\u3066\u3082\u3089\u3063\u305f\u307b\u3046\u304c\u3044\u3044\u306e\u3067\u3001\u3042\u304f\u307e\u3067\u81ea\u5206\u7406\u89e3\u7528\u30e1\u30e2\u3067\u3059\u3002\n\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u5ea7\u6a19\u884c\u5217\uff08\u5165\u308c\u5b50\u306e\u5834\u5408\u306f\u89aa\u2192\u30ef\u30fc\u30eb\u30c9\u3092\u542b\u3081\u305f\u6700\u7d42\u5909\u63db\u884c\u5217\uff09\u306f\u3001\u30e2\u30c7\u30eb\u3092\u30ef\u30fc\u30eb\u30c9\u7a7a\u9593\u306b\u914d\u7f6e\u3059\u308b\u305f\u3081\u306e\u884c\u5217\u3067\u3059\u3002\n\n\u30e2\u30c7\u30eb\u5909\u63db\u884c\u5217\u306b\u3055\u3089\u306b\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u3092\u639b\u3051\u308b\u3053\u3068\u3067\u3001\u6700\u7d42\u7684\u306b\u305d\u306e\u30e2\u30c7\u30eb\u304c\u3069\u3046\u3044\u3046\u5411\u304d\u306b\u3069\u3046\u7f6e\u304b\u308c\u308b\u304b\u3001\u304c\u6c7a\u307e\u308a\u307e\u3059\u3002\n\u30e2\u30c7\u30eb\u5909\u63db\u884c\u5217\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u7a7a\u9593\u4e0a\u3067\u306e\u30e2\u30c7\u30eb\u306e\u751f\u6210\u5236\u5fa1\u306a\u306e\u3067\u3053\u3053\u3067\u306f\u3044\u3063\u305f\u3093\u7121\u8996\u3057\u307e\u3059\u3002\n\n\u554f\u984c\u306b\u3057\u305f\u3044\u306e\u306f\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u3067\u3059\u3002\u8a00\u3044\u63db\u3048\u308c\u3070\u3001\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\u7a7a\u9593\u3092\u3069\u3046\u5909\u63db\u3059\u308b\u884c\u5217\u304b\u3001\u3068\u8a00\u3048\u307e\u3059\u3002\n\u306a\u306e\u3067\u3001\u30e2\u30c7\u30eb\u306e\u59ff\u52e2\u306f\u3069\u3046\u3042\u308c\u3001\u30ed\u30fc\u30ab\u30eb\u306eXYZ\u8ef8\u304c\u3069\u3053\u3092\u5411\u3044\u3066\u3044\u308b\u304b\u3082\u3053\u308c\u3067\u6c7a\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u4eca\u56de\u306e\u30e1\u30e2\u306f\u3001\u3053\u306e\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u304b\u3089\u3001\u30ed\u30fc\u30ab\u30eb\u306eXYZ\u8ef8\u306e\u5411\u304d\u3092\u62bd\u51fa\u3059\u308b\u3001\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\u7d50\u8ad6\u304b\u3089\u8a00\u3063\u3066\u3057\u307e\u3048\u3070\u3001\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u3068\u62bd\u51fa\u3057\u305f\u3044\u8ef8\u306e\u30d9\u30af\u30c8\u30eb\u3092\u639b\u3051\u7b97\u3057\u3066\u3084\u308c\u3070\u6c42\u307e\u308a\u307e\u3059\u3002\n\u30ef\u30fc\u30eb\u30c9\u5909\u63db\u884c\u5217\u3092\u300cW\u300d\u3001\u8ef8\u30d9\u30af\u30c8\u30eb\u3092\u300cVn\u300d\u3068\u3057\u305f\u5834\u5408\u3001\n\nX\u8ef8\u306e\u5411\u304d\uff1dWVx\nY\u8ef8\u306e\u5411\u304d\uff1dWVy\nZ\u8ef8\u306e\u5411\u304d\uff1dWVz\n\n\u3067\u3059\u3002\uff08OpenGL\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u304b\u3051\u308b\u9806\u756a\u304c\u4e0a\u8a18\u8a18\u4e8b\u306e\u3082\u306e\u3068\u9006\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff09\n\u3053\u3053\u3067\u3001Vx\u306f4\u6b21\u30d9\u30af\u30c8\u30eb\u3067\u3001[1, 0, 0, 0]\u3067\u3059\u3002\uff08Vy [0, 1, 0, 0], Vz [0, 0, 1, 0]\uff09\n\n[1, 0, 0, 0]\uff08\u5b9f\u969b\u306f\u5217\u30d9\u30af\u30c8\u30eb\u306a\u306e\u3067\u7e26\uff09\u3092\u884c\u5217\u306b\u639b\u3051\u308b\u3053\u3068\u3067\u30011\u5217\u76ee\u306e\u5024\u304c\u305d\u306e\u307e\u307e\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u3053\u306e1\u5217\u76ee\u306e\u5024\u304c\u30ba\u30d0\u30ea\u3001X\u8ef8\u306e\u5411\u304d\u3001\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u8a08\u7b97\u5f0f\u306f\u4ee5\u4e0b\u306e\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002\n\n###X\u8ef8\u306e\u5411\u304d\n\n```math\n\\begin{equation}\n\\begin{vmatrix}\nm_{11} &m_{12} &m_{13} &m_{14} \\\\\nm_{21} &m_{22} &m_{23} &m_{24} \\\\\nm_{31} &m_{32} &m_{33} &m_{34} \\\\\nm_{41} &m_{42} &m_{43} &m_{44} \\\\\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\n1 \\\\\n0 \\\\\n0 \\\\\n0\n\\end{vmatrix}\n= \n\\begin{vmatrix}\nm_{11} \\\\\nm_{21} \\\\\nm_{31} \\\\\nm_{41}\n\\end{vmatrix}\n\\end{equation}\n```\n\n---\n\n## memo\n\n###\u5404\u7a2e\u5ea7\u6a19\u5909\u63db\u306e\u4f8b\n\n####\u62e1\u5927\u30fb\u7e2e\u5c0f\n\n```math\n\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\nS_x &0 &0 &0 \\\\\n0 &S_y &0 &0 \\\\\n0 &0 &S_z &0 \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n```\n\n####X\u8ef8\u3092\u4e2d\u5fc3\u306b\u56de\u8ee2\n\n```math\n\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\n1 &0 &0 &0 \\\\\n0 &\\cos\\theta x &-\\sin\\theta x &0 \\\\\n0 &\\sin\\theta x &\\cos\\theta x &0 \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n```\n\n####Y\u8ef8\u3092\u4e2d\u5fc3\u306b\u56de\u8ee2\n\n```math\n\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\n\\cos\\theta y &0 &\\sin\\theta y &0 \\\\\n0 &1 &0 &0 \\\\\n-\\sin\\theta y &0 &\\cos\\theta y &0 \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n```\n\n####Z\u8ef8\u3092\u4e2d\u5fc3\u306b\u56de\u8ee2\n\n```math\n\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\n\\cos\\theta z &-\\sin\\theta z &0 &0 \\\\\n\\sin\\theta z &\\cos\\theta z &0 &0 \\\\\n0 &0 &1 &0 \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n```\n\n\n####\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u306b\u5e73\u884c\u79fb\u52d5\n\n```math\n\\begin{equation}\n\\begin{vmatrix}\nX' \\\\\nY' \\\\\nZ' \\\\\nW'\n\\end{vmatrix}\n=\n\\begin{vmatrix}\n1 &0 &0 &P_x \\\\\n0 &1 &0 &P_y \\\\\n0 &0 &1 &P_z \\\\\n0 &0 &0 &1\n\\end{vmatrix}\n\\times\n\\begin{vmatrix}\nX \\\\\nY \\\\\nZ \\\\\n1\n\\end{vmatrix}\n\\end{equation}\n```\n"}