{"context": " More than 1 year has passed since last update.\n\n\u74b0\u5883\u69cb\u7bc9\n\u307e\u305a\u306f\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u3002\ndocker\u306ecentos:centos6\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3002\n\ncentos6\nyum update -y\nyum install -y git gcc wget vim\n# yum\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306b\u3059\u308b\nwget http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm\nwget http://rpms.famillecollet.com/enterprise/remi-release-6.rpm\nrpm -Uvh remi-release-6*.rpm epel-release-6*.rpm\nyum --enablerepo=remi,epel install -y redis\n# \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngit clone https://github.com/redis/hiredis.git\ncd hiredis\nmake\nmake install\n\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8a2d\u5b9a\n\u30c6\u30b9\u30c8\u7528\u306e\u30c7\u30fc\u30bf\u3092\u5165\u308c\u308b\u3002\nservice redis start  # redis\u30b5\u30fc\u30d0\u8d77\u52d5\nredis-cli            # redis\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8d77\u52d5\n# \u30c7\u30fc\u30bf\u6295\u5165\nset 1 aaa\nset 2 bbb\nset 3 ccc\nexit                 # \u7d42\u4e86\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\nredis.c\n#include <stdio.h>\n#include <stdlib.h>\n#include <hiredis.h>\n\nint main(void){\n  redisContext *conn = NULL;\n  redisReply *resp   = NULL;\n  int loop           = 0;\n\n  // \u63a5\u7d9a\n  conn = redisConnect( \"127.0.0.1\" ,  // \u63a5\u7d9a\u5148redis\u30b5\u30fc\u30d0\n                       6379           // \u30dd\u30fc\u30c8\u756a\u53f7\n         );\n  if( ( NULL != conn ) && conn->err ){\n    // error\n    printf(\"error : %s\\n\" , conn->errstr );\n    redisFree( conn );\n    exit(-1);\n  }else if( NULL == conn ){\n    exit(-1);\n  }\n\n  // Value\u306e\u53d6\u5f97\n  for( loop=1 ; loop < 4 ; loop++ ){\n    resp = (redisReply *) redisCommand( conn ,          // \u30b3\u30cd\u30af\u30b7\u30e7\u30f3\n                                        \"GET %d\" , loop // \u30b3\u30de\u30f3\u30c9\n                                      );\n    if( NULL == resp ){\n      // error\n      redisFree( conn );\n      exit(-1);\n    }\n    if( REDIS_REPLY_ERROR == resp->type ){\n      // error\n      redisFree( conn );\n      freeReplyObject( resp );\n      exit(-1);\n    }\n    printf( \"%d : %s\\n\" , loop , resp->str );\n    freeReplyObject( resp );\n  }\n\n  // \u5f8c\u7247\u3065\u3051\n  redisFree( conn );\n  return 0;\n}\n\n\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u5b9f\u884c\ngcc -Wall -o redis redis.c -lhiredis -L/usr/local/lib -I/usr/local/include/hiredis\n\n\u3053\u306e\u307e\u307e\u5b9f\u884c\u3057\u305f\u3044\u6240\u3060\u304c\u79c1\u306e\u74b0\u5883\u3067\u306f\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u4e3b\u65e8\u306e\u30a8\u30e9\u30fc\u304c\n\u51fa\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u5bfe\u51e6\u3059\u308b\u3002\nvi /etc/ld.so.conf.d/redis.conf/redis.conf  # \u65b0\u898f\u4f5c\u6210\n# \u30d5\u30a1\u30a4\u30eb\u5185\u5bb9\n/usr/local/lib  # \u8ffd\u8a18\n\nldconfig        # \u8a2d\u5b9a\u53cd\u6620\n\n\u5b9f\u884c\n./redis\n1 : aaa\n2 : bbb\n3 : ccc\n\n\u901f\u3044\u3063\u3066\u8a00\u3063\u3066\u3082\u30b7\u30f3\u30b0\u30eb\u30b9\u30ec\u30c3\u30c9\u3067\u3057\u3087\u3002\nRedis\u3092\u30e1\u30cb\u30fc\u30b3\u30a2\u3067\u52d5\u304b\u305b\u3070\u7121\u6575\u306b\u306a\u308c\u308b\u3093\u3058\u3083\u306d\uff1f\n###\u74b0\u5883\u69cb\u7bc9\n\u307e\u305a\u306f\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u3002\ndocker\u306ecentos:centos6\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3002\n\n```bash:centos6\nyum update -y\nyum install -y git gcc wget vim\n# yum\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306b\u3059\u308b\nwget http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm\nwget http://rpms.famillecollet.com/enterprise/remi-release-6.rpm\nrpm -Uvh remi-release-6*.rpm epel-release-6*.rpm\nyum --enablerepo=remi,epel install -y redis\n# \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngit clone https://github.com/redis/hiredis.git\ncd hiredis\nmake\nmake install\n```\n\n###\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8a2d\u5b9a\n\u30c6\u30b9\u30c8\u7528\u306e\u30c7\u30fc\u30bf\u3092\u5165\u308c\u308b\u3002\n\n```bash\nservice redis start  # redis\u30b5\u30fc\u30d0\u8d77\u52d5\nredis-cli            # redis\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8d77\u52d5\n# \u30c7\u30fc\u30bf\u6295\u5165\nset 1 aaa\nset 2 bbb\nset 3 ccc\nexit                 # \u7d42\u4e86\n```\n\n###\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n```c:redis.c\n#include <stdio.h>\n#include <stdlib.h>\n#include <hiredis.h>\n\nint main(void){\n  redisContext *conn = NULL;\n  redisReply *resp   = NULL;\n  int loop           = 0;\n  \n  // \u63a5\u7d9a\n  conn = redisConnect( \"127.0.0.1\" ,  // \u63a5\u7d9a\u5148redis\u30b5\u30fc\u30d0\n                       6379           // \u30dd\u30fc\u30c8\u756a\u53f7\n         );\n  if( ( NULL != conn ) && conn->err ){\n    // error\n    printf(\"error : %s\\n\" , conn->errstr );\n    redisFree( conn );\n    exit(-1);\n  }else if( NULL == conn ){\n    exit(-1);\n  }\n  \n  // Value\u306e\u53d6\u5f97\n  for( loop=1 ; loop < 4 ; loop++ ){\n    resp = (redisReply *) redisCommand( conn ,          // \u30b3\u30cd\u30af\u30b7\u30e7\u30f3\n                                        \"GET %d\" , loop // \u30b3\u30de\u30f3\u30c9\n                                      );\n    if( NULL == resp ){\n      // error\n      redisFree( conn );\n      exit(-1);\n    }\n    if( REDIS_REPLY_ERROR == resp->type ){\n      // error\n      redisFree( conn );\n      freeReplyObject( resp );\n      exit(-1);\n    }\n    printf( \"%d : %s\\n\" , loop , resp->str );\n    freeReplyObject( resp );\n  }\n  \n  // \u5f8c\u7247\u3065\u3051\n  redisFree( conn );\n  return 0;\n}\n```\n\n###\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u5b9f\u884c\n\n```bash\ngcc -Wall -o redis redis.c -lhiredis -L/usr/local/lib -I/usr/local/include/hiredis\n```\n\n\u3053\u306e\u307e\u307e\u5b9f\u884c\u3057\u305f\u3044\u6240\u3060\u304c\u79c1\u306e\u74b0\u5883\u3067\u306f\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u4e3b\u65e8\u306e\u30a8\u30e9\u30fc\u304c\n\u51fa\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u5bfe\u51e6\u3059\u308b\u3002\n\n```bash\nvi /etc/ld.so.conf.d/redis.conf/redis.conf  # \u65b0\u898f\u4f5c\u6210\n# \u30d5\u30a1\u30a4\u30eb\u5185\u5bb9\n/usr/local/lib  # \u8ffd\u8a18\n\nldconfig        # \u8a2d\u5b9a\u53cd\u6620\n```\n\n\u5b9f\u884c\n\n```bash\n./redis\n1 : aaa\n2 : bbb\n3 : ccc\n```\n\n\u901f\u3044\u3063\u3066\u8a00\u3063\u3066\u3082\u30b7\u30f3\u30b0\u30eb\u30b9\u30ec\u30c3\u30c9\u3067\u3057\u3087\u3002\nRedis\u3092\u30e1\u30cb\u30fc\u30b3\u30a2\u3067\u52d5\u304b\u305b\u3070\u7121\u6575\u306b\u306a\u308c\u308b\u3093\u3058\u3083\u306d\uff1f\n", "tags": ["C", "Redis"]}