{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\n\u672c\u9805\u3067\u3084\u308b\u3053\u3068\n\ngobgp \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u8d77\u52d5\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u3067\u3059\n\ngobgp \u516c\u5f0f Getting started \u306b\u5f93\u3044\u307e\u3059\n\n\n\u74b0\u5883\u60c5\u5831\n\n\u74b0\u5883\u60c5\u5831\n$ uname -a\nLinux as65000-s1 3.19.0-25-generic #26~14.04.1-Ubuntu SMP Fri Jul 24 21:16:20 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux\n\n$ uname -r\n3.19.0-25-generic\n\n$ cat /etc/lsb-release\nDISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=14.04\nDISTRIB_CODENAME=trusty\nDISTRIB_DESCRIPTION=\"Ubuntu 14.04.3 LTS\"\n\n\n\n\u69cb\u7bc9\u624b\u9806\n\nGo \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\u516c\u5f0f Getting Started \u306b\u5f93\u3044\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n$ wget --no-check-certificate https://storage.googleapis.com/golang/go1.5.1.linux-amd64.tar.gz\n$ ls -al\ntotal 76060\ndrwxrwxr-x 2 kotetsu kotetsu     4096 Nov  7 20:53 .\ndrwxr-xr-x 5 kotetsu kotetsu     4096 Nov  7 20:49 ..\n-rw-rw-r-- 1 kotetsu kotetsu 77875767 Sep  9 13:20 go1.5.1.linux-amd64.tar.gz\n\n$ sudo tar -C /usr/local -xzf go1.5.1.linux-amd64.tar.gz\n$ ls -al /usr/local/go/\ntotal 136\ndrwxr-xr-x 11 root root  4096 Sep  9 10:37 .\ndrwxr-xr-x 11 root root  4096 Nov  7 20:57 ..\ndrwxr-xr-x  2 root root  4096 Sep  9 10:24 api\n-rw-r--r--  1 root root 21146 Sep  9 10:24 AUTHORS\ndrwxr-xr-x  2 root root  4096 Sep  9 10:37 bin\ndrwxr-xr-x  4 root root  4096 Sep  9 10:37 blog\n-rw-r--r--  1 root root  1107 Sep  9 10:24 CONTRIBUTING.md\n-rw-r--r--  1 root root 28953 Sep  9 10:24 CONTRIBUTORS\ndrwxr-xr-x  8 root root  4096 Sep  9 10:24 doc\n-rw-r--r--  1 root root  1150 Sep  9 10:24 favicon.ico\ndrwxr-xr-x  3 root root  4096 Sep  9 10:24 lib\n-rw-r--r--  1 root root  1479 Sep  9 10:24 LICENSE\ndrwxr-xr-x 13 root root  4096 Sep  9 10:37 misc\n-rw-r--r--  1 root root  1303 Sep  9 10:24 PATENTS\ndrwxr-xr-x  7 root root  4096 Sep  9 10:37 pkg\n-rw-r--r--  1 root root  1519 Sep  9 10:24 README.md\n-rw-r--r--  1 root root    26 Sep  9 10:24 robots.txt\ndrwxr-xr-x 43 root root  4096 Sep  9 10:24 src\ndrwxr-xr-x 16 root root 12288 Sep  9 10:36 test\n-rw-r--r--  1 root root     7 Sep  9 10:24 VERSION\n\n$ mkdir $HOME/go\n$ echo 'export GOPATH=$HOME/go'  >> $HOME/.profile\n$ echo 'export PATH=$PATH:/usr/local/go/bin:$GOPATH/bin' >> $HOME/.profile\n$ source $HOME/.profile\n$ env | grep PATH\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/go/bin:/usr/local/go/bin:/usr/local/go/bin:/home/kotetsu/go/bin\nGOPATH=/home/kotetsu/go\n\n$ go version\ngo version go1.5.1 linux/amd64\n\n\n\ngobgp \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u4f7f\u3046 go get \u30b3\u30de\u30f3\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u9069\u5b9c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb GoGetTools\n\n\n\n$ sudo apt-get update\n$ sudo apt-get install git mercurial\n\n\n\n\ngobgp Getting started \u306b\u5f93\u3044\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n$ go get github.com/osrg/gobgp/gobgpd\nwarning: code.google.com is shutting down; import path code.google.com/p/go-uuid/uuid will stop working\n\n$ go get github.com/osrg/gobgp/gobgp\n\n$ ls -al ~/go/bin/\ntotal 29056\ndrwxrwxr-x 2 kotetsu kotetsu     4096 Nov  7 21:43 .\ndrwxrwxr-x 5 kotetsu kotetsu     4096 Nov  7 21:36 ..\n-rwxr-xr-x 1 kotetsu kotetsu 13801080 Nov  7 21:43 gobgp\n-rwxr-xr-x 1 kotetsu kotetsu 15939792 Nov  7 21:36 gobgpd\n\n\n\ngobgpd.conf \u4f5c\u6210\n\n\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b config \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3001\u9069\u5f53\u306a\u8a2d\u5b9a\u3092\u66f8\u304d\u8fbc\u3080\n\u4ee5\u4e0b\u4f8b\u3067\u306f iBGP \u3057\u304b\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u304c\u3001eBGP \u3082\u52d5\u304f\n\n$ mkdir ~/gobgp\n$ touch ~/gobgp/gobgpd.conf\n\n$ cat ~/gobgp/gobgpd.conf\n[Global]\n  [Global.GlobalConfig]\n    As = 65000\n    RouterId = \"192.168.101.170\"\n\n[Neighbors]\n  [[Neighbors.NeighborList]]\n    [Neighbors.NeighborList.NeighborConfig]\n      NeighborAddress = \"10.0.1.2\"\n      PeerAs = 65000\n    [Neighbors.NeighborList.AfiSafis]\n      [[Neighbors.NeighborList.AfiSafis.AfiSafiList]]\n        AfiSafiName = \"l2vpn-evpn\"\n\n  [[Neighbors.NeighborList]]\n    [Neighbors.NeighborList.NeighborConfig]\n      NeighborAddress = \"10.0.2.2\"\n      PeerAs = 65000\n    [Neighbors.NeighborList.AfiSafis]\n      [[Neighbors.NeighborList.AfiSafis.AfiSafiList]]\n        AfiSafiName = \"l2vpn-evpn\"\n\n\ngobgpd \u8d77\u52d5\n\nroot \u6a29\u9650\u3067\u5b9f\u884c\u3057\u306a\u3044\u3068\u3001IP \u30a2\u30c9\u30ec\u30b9 bind \u306b\u5931\u6557\u3059\u308b\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u52d5\u304f\n\n$ gobgpd -f ~/gobgp/gobgpd.conf\n{\"level\":\"info\",\"msg\":\"gobgpd started\",\"time\":\"2015-11-07T22:11:54+09:00\"}\n{\"level\":\"info\",\"msg\":\"finished reading the config file\",\"time\":\"2015-11-07T22:11:54+09:00\"}\n{\"level\":\"info\",\"msg\":\"listen tcp4 :179: bind: permission denied\",\"time\":\"2015-11-07T22:11:54+09:00\"}\n{\"level\":\"info\",\"msg\":\"listen tcp6 :179: bind: permission denied\",\"time\":\"2015-11-07T22:11:54+09:00\"}\n{\"level\":\"fatal\",\"msg\":\"can't listen either v4 and v6\",\"time\":\"2015-11-07T22:11:54+09:00\"}\n\n$ sudo cat /etc/sudoers | grep Defaults\nDefaults        env_reset\nDefaults        mail_badpass\nDefaults        secure_path=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\nDefaults        exempt_group=\"kotetsu\"\n\n$ sudo -E gobgpd -f ~/gobgp/gobgpd.conf &\n[1] 8242\nkotetsu@as65000-1:~$ {\"level\":\"info\",\"msg\":\"gobgpd started\",\"time\":\"2015-11-07T22:28:37+09:00\"}\n{\"level\":\"info\",\"msg\":\"finished reading the config file\",\"time\":\"2015-11-07T22:28:37+09:00\"}\n{\"level\":\"info\",\"msg\":\"Peer 10.0.1.2 is added\",\"time\":\"2015-11-07T22:28:37+09:00\"}\n{\"level\":\"info\",\"msg\":\"Peer 10.0.2.2 is added\",\"time\":\"2015-11-07T22:28:37+09:00\"}\n\n$ ps au | grep [g]o\nroot      8242  0.0  0.8  64956  4052 pts/1    S    Nov07   0:00 sudo -E gobgpd -f /home/kotetsu/gobgp/gobgpd.conf\nroot      8243  0.0  2.1 139396 11004 pts/1    Sl   Nov07   0:01 gobgpd -f /home/kotetsu/gobgp/gobgpd.conf\n\n$ gobgp neighbor --help\nUsage:\n  gobgp neighbor [flags]\n\nFlags:\n  -a, --address-family=\"\": address family\n  -t, --transport=\"\": specifying a transport protocol\n\nGlobal Flags:\n      --bash-cmpl-file=\"gobgp_completion.bash\": bash cmpl filename\n  -d, --debug[=false]: use debug\n  -c, --gen-cmpl[=false]: generate completion file\n  -u, --host=\"127.0.0.1\": host\n  -j, --json[=false]: use json format to output format\n  -p, --port=8080: port\n  -q, --quiet[=false]: use quiet\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u9069\u5f53\u306a neighbor \u3092\u7528\u610f\u3057\u3066\u3001\u52d5\u4f5c\u78ba\u8a8d(\u52ff\u8ad6 gobgp \u540c\u58eb\u3067\u3082\u53ef\u80fd)\n\nneighbor \u306e Peer \u78ba\u7acb\u3001\u5207\u65ad\u6642\u306a\u3069\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u6a19\u6e96\u51fa\u529b\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u51fa\u529b\n\n\nPeer\u5207\u65ad\u3001\u78ba\u7acb\u6642\u306e\u30ed\u30b0\n{\"Key\":\"10.0.1.2\",\"Reason\":\"Peer closed the session\",\"State\":6,\"Topic\":\"Peer\",\"level\":\"info\",\"msg\":\"Peer Down\",\"time\":\"2015-11-08T12:18:41+09:00\"}\n{\"Key\":\"10.0.1.2\",\"Topic\":\"Peer\",\"level\":\"warning\",\"msg\":\"Closed an accepted connection\",\"time\":\"2015-11-08T12:18:41+09:00\"}\n{\"Key\":\"10.0.1.2\",\"State\":5,\"Topic\":\"Peer\",\"level\":\"info\",\"msg\":\"Peer Up\",\"time\":\"2015-11-08T12:18:51+09:00\"}\n\n\n\n\ngobgp \u5404\u7a2e\u30b3\u30de\u30f3\u30c9\u3067\u72b6\u614b\u78ba\u8a8d\u53ef\u80fd\n\u4ee5\u4e0b\u516c\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\n\nCLI command syntax\nCLI Operations\n\n\n\n\ngobgp\u30b3\u30de\u30f3\u30c9\u3067\u72b6\u614b\u78ba\u8a8d\n$ gobgp neighbor\nPeer                AS  Up/Down State       |#Advertised Received Accepted\n10.0.1.2         65000 02:07:33 Establ      |          0        0        0\n10.0.2.2         65000    never Active      |          0        0        0\n\n$ gobgp neighbor 10.0.1.2\nBGP neighbor is 10.0.1.2, remote AS 65000\n  BGP version 4, remote router ID 10.0.1.2\n  BGP state = BGP_FSM_ESTABLISHED, up for 02:07:40\n  BGP OutQ = 0, Flops = 0\n  Hold time is 0, keepalive interval is 30 seconds\n  Configured hold time is 90, keepalive interval is 30 seconds\n  Neighbor capabilities:\n    BGP_CAP_MULTIPROTOCOL:\n        RF_EVPN:        advertised and received\n        RF_IPv4_VPN:    received\n        RF_RTC_UC:      received\n    BGP_CAP_ROUTE_REFRESH:      advertised\n    BGP_CAP_FOUR_OCTET_AS_NUMBER:       advertised and received\n  Message statistics:\n                         Sent       Rcvd\n    Opens:                 20         20\n    Notifications:          0          0\n    Updates:                0          0\n    Keepalives:           392        392\n    Route Refesh:           0          0\n    Discarded:              0          0\n    Total:                412        412\n  Route statistics:\n    Advertised:             0\n    Received:               0\n    Accepted:               0\n\n\n\n\u304a\u307e\u3051 CLI's tab \u88dc\u5b8c(bash \u7528) \u5c0e\u5165\n\n'gobgp' \u5404\u7a2e\u30b3\u30de\u30f3\u30c9\u3092 Tab \u88dc\u5b8c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u306e\u3067\u3001\u5165\u308c\u3066\u304a\u304f\u3068\u4fbf\u5229\n\n$ cd ~/gobgp\n$ wget https://raw.githubusercontent.com/osrg/gobgp/master/tools/completion/gobgp-completion.bash\n\n$ ls -al\ntotal 56\ndrwxrwxr-x 2 kotetsu kotetsu  4096 Nov  7 23:32 .\ndrwxr-xr-x 6 kotetsu kotetsu  4096 Nov  7 22:07 ..\n-rw-rw-r-- 1 kotetsu kotetsu 41832 Nov  7 23:32 gobgp-completion.bash\n-rw-rw-r-- 1 kotetsu kotetsu   354 Nov  7 22:10 gobgpd.conf\n\n$ source ~/gobgp/gobgp-completion.bash\n\n\n\u304a\u308f\u308a\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3060\u3051\u306a\u306e\u3067\u5225\u306b\u2026\n\n\n# \u6982\u8981\n\n## \u672c\u9805\u3067\u3084\u308b\u3053\u3068\n\n- gobgp \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u8d77\u52d5\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u3067\u3059\n- [gobgp \u516c\u5f0f Getting started](https://github.com/osrg/gobgp/blob/master/docs/sources/getting-started.md) \u306b\u5f93\u3044\u307e\u3059\n\n## \u74b0\u5883\u60c5\u5831\n\n```bash:\u74b0\u5883\u60c5\u5831\n$ uname -a\nLinux as65000-s1 3.19.0-25-generic #26~14.04.1-Ubuntu SMP Fri Jul 24 21:16:20 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux\n\n$ uname -r\n3.19.0-25-generic\n\n$ cat /etc/lsb-release\nDISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=14.04\nDISTRIB_CODENAME=trusty\nDISTRIB_DESCRIPTION=\"Ubuntu 14.04.3 LTS\"\n```\n\n# \u69cb\u7bc9\u624b\u9806\n\n## Go \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n- [\u516c\u5f0f Getting Started](https://golang.org/doc/install) \u306b\u5f93\u3044\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n\n$ wget --no-check-certificate https://storage.googleapis.com/golang/go1.5.1.linux-amd64.tar.gz\n$ ls -al\ntotal 76060\ndrwxrwxr-x 2 kotetsu kotetsu     4096 Nov  7 20:53 .\ndrwxr-xr-x 5 kotetsu kotetsu     4096 Nov  7 20:49 ..\n-rw-rw-r-- 1 kotetsu kotetsu 77875767 Sep  9 13:20 go1.5.1.linux-amd64.tar.gz\n\n$ sudo tar -C /usr/local -xzf go1.5.1.linux-amd64.tar.gz\n$ ls -al /usr/local/go/\ntotal 136\ndrwxr-xr-x 11 root root  4096 Sep  9 10:37 .\ndrwxr-xr-x 11 root root  4096 Nov  7 20:57 ..\ndrwxr-xr-x  2 root root  4096 Sep  9 10:24 api\n-rw-r--r--  1 root root 21146 Sep  9 10:24 AUTHORS\ndrwxr-xr-x  2 root root  4096 Sep  9 10:37 bin\ndrwxr-xr-x  4 root root  4096 Sep  9 10:37 blog\n-rw-r--r--  1 root root  1107 Sep  9 10:24 CONTRIBUTING.md\n-rw-r--r--  1 root root 28953 Sep  9 10:24 CONTRIBUTORS\ndrwxr-xr-x  8 root root  4096 Sep  9 10:24 doc\n-rw-r--r--  1 root root  1150 Sep  9 10:24 favicon.ico\ndrwxr-xr-x  3 root root  4096 Sep  9 10:24 lib\n-rw-r--r--  1 root root  1479 Sep  9 10:24 LICENSE\ndrwxr-xr-x 13 root root  4096 Sep  9 10:37 misc\n-rw-r--r--  1 root root  1303 Sep  9 10:24 PATENTS\ndrwxr-xr-x  7 root root  4096 Sep  9 10:37 pkg\n-rw-r--r--  1 root root  1519 Sep  9 10:24 README.md\n-rw-r--r--  1 root root    26 Sep  9 10:24 robots.txt\ndrwxr-xr-x 43 root root  4096 Sep  9 10:24 src\ndrwxr-xr-x 16 root root 12288 Sep  9 10:36 test\n-rw-r--r--  1 root root     7 Sep  9 10:24 VERSION\n\n$ mkdir $HOME/go\n$ echo 'export GOPATH=$HOME/go'  >> $HOME/.profile\n$ echo 'export PATH=$PATH:/usr/local/go/bin:$GOPATH/bin' >> $HOME/.profile\n$ source $HOME/.profile\n$ env | grep PATH\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/go/bin:/usr/local/go/bin:/usr/local/go/bin:/home/kotetsu/go/bin\nGOPATH=/home/kotetsu/go\n\n$ go version\ngo version go1.5.1 linux/amd64\n\n```\n\n\n## gobgp \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n- \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u4f7f\u3046 `go get` \u30b3\u30de\u30f3\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u9069\u5b9c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb [GoGetTools](https://github.com/golang/go/wiki/GoGetTools)\n\n```bash\n\n$ sudo apt-get update\n$ sudo apt-get install git mercurial\n\n```\n\n- [gobgp Getting started](https://github.com/osrg/gobgp/blob/master/docs/sources/getting-started.md) \u306b\u5f93\u3044\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n\n$ go get github.com/osrg/gobgp/gobgpd\nwarning: code.google.com is shutting down; import path code.google.com/p/go-uuid/uuid will stop working\n\n$ go get github.com/osrg/gobgp/gobgp\n\n$ ls -al ~/go/bin/\ntotal 29056\ndrwxrwxr-x 2 kotetsu kotetsu     4096 Nov  7 21:43 .\ndrwxrwxr-x 5 kotetsu kotetsu     4096 Nov  7 21:36 ..\n-rwxr-xr-x 1 kotetsu kotetsu 13801080 Nov  7 21:43 gobgp\n-rwxr-xr-x 1 kotetsu kotetsu 15939792 Nov  7 21:36 gobgpd\n\n```\n\n\n## gobgpd.conf \u4f5c\u6210\n\n- \u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b config \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3001\u9069\u5f53\u306a\u8a2d\u5b9a\u3092\u66f8\u304d\u8fbc\u3080\n- \u4ee5\u4e0b\u4f8b\u3067\u306f iBGP \u3057\u304b\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u304c\u3001eBGP \u3082\u52d5\u304f\n\n```bash\n$ mkdir ~/gobgp\n$ touch ~/gobgp/gobgpd.conf\n\n$ cat ~/gobgp/gobgpd.conf\n[Global]\n  [Global.GlobalConfig]\n    As = 65000\n    RouterId = \"192.168.101.170\"\n\n[Neighbors]\n  [[Neighbors.NeighborList]]\n    [Neighbors.NeighborList.NeighborConfig]\n      NeighborAddress = \"10.0.1.2\"\n      PeerAs = 65000\n    [Neighbors.NeighborList.AfiSafis]\n      [[Neighbors.NeighborList.AfiSafis.AfiSafiList]]\n        AfiSafiName = \"l2vpn-evpn\"\n\n  [[Neighbors.NeighborList]]\n    [Neighbors.NeighborList.NeighborConfig]\n      NeighborAddress = \"10.0.2.2\"\n      PeerAs = 65000\n    [Neighbors.NeighborList.AfiSafis]\n      [[Neighbors.NeighborList.AfiSafis.AfiSafiList]]\n        AfiSafiName = \"l2vpn-evpn\"\n```\n\n## gobgpd \u8d77\u52d5\n\n- root \u6a29\u9650\u3067\u5b9f\u884c\u3057\u306a\u3044\u3068\u3001IP \u30a2\u30c9\u30ec\u30b9 bind \u306b\u5931\u6557\u3059\u308b\n- \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u52d5\u304f\n\n```bash\n$ gobgpd -f ~/gobgp/gobgpd.conf\n{\"level\":\"info\",\"msg\":\"gobgpd started\",\"time\":\"2015-11-07T22:11:54+09:00\"}\n{\"level\":\"info\",\"msg\":\"finished reading the config file\",\"time\":\"2015-11-07T22:11:54+09:00\"}\n{\"level\":\"info\",\"msg\":\"listen tcp4 :179: bind: permission denied\",\"time\":\"2015-11-07T22:11:54+09:00\"}\n{\"level\":\"info\",\"msg\":\"listen tcp6 :179: bind: permission denied\",\"time\":\"2015-11-07T22:11:54+09:00\"}\n{\"level\":\"fatal\",\"msg\":\"can't listen either v4 and v6\",\"time\":\"2015-11-07T22:11:54+09:00\"}\n\n$ sudo cat /etc/sudoers | grep Defaults\nDefaults        env_reset\nDefaults        mail_badpass\nDefaults        secure_path=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\nDefaults        exempt_group=\"kotetsu\"\n\n$ sudo -E gobgpd -f ~/gobgp/gobgpd.conf &\n[1] 8242\nkotetsu@as65000-1:~$ {\"level\":\"info\",\"msg\":\"gobgpd started\",\"time\":\"2015-11-07T22:28:37+09:00\"}\n{\"level\":\"info\",\"msg\":\"finished reading the config file\",\"time\":\"2015-11-07T22:28:37+09:00\"}\n{\"level\":\"info\",\"msg\":\"Peer 10.0.1.2 is added\",\"time\":\"2015-11-07T22:28:37+09:00\"}\n{\"level\":\"info\",\"msg\":\"Peer 10.0.2.2 is added\",\"time\":\"2015-11-07T22:28:37+09:00\"}\n\n$ ps au | grep [g]o\nroot      8242  0.0  0.8  64956  4052 pts/1    S    Nov07   0:00 sudo -E gobgpd -f /home/kotetsu/gobgp/gobgpd.conf\nroot      8243  0.0  2.1 139396 11004 pts/1    Sl   Nov07   0:01 gobgpd -f /home/kotetsu/gobgp/gobgpd.conf\n\n$ gobgp neighbor --help\nUsage:\n  gobgp neighbor [flags]\n\nFlags:\n  -a, --address-family=\"\": address family\n  -t, --transport=\"\": specifying a transport protocol\n\nGlobal Flags:\n      --bash-cmpl-file=\"gobgp_completion.bash\": bash cmpl filename\n  -d, --debug[=false]: use debug\n  -c, --gen-cmpl[=false]: generate completion file\n  -u, --host=\"127.0.0.1\": host\n  -j, --json[=false]: use json format to output format\n  -p, --port=8080: port\n  -q, --quiet[=false]: use quiet\n```\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\n\u9069\u5f53\u306a neighbor \u3092\u7528\u610f\u3057\u3066\u3001\u52d5\u4f5c\u78ba\u8a8d(\u52ff\u8ad6 gobgp \u540c\u58eb\u3067\u3082\u53ef\u80fd)\n\n- neighbor \u306e Peer \u78ba\u7acb\u3001\u5207\u65ad\u6642\u306a\u3069\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u6a19\u6e96\u51fa\u529b\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u51fa\u529b\n\n```json:Peer\u5207\u65ad\u3001\u78ba\u7acb\u6642\u306e\u30ed\u30b0\n{\"Key\":\"10.0.1.2\",\"Reason\":\"Peer closed the session\",\"State\":6,\"Topic\":\"Peer\",\"level\":\"info\",\"msg\":\"Peer Down\",\"time\":\"2015-11-08T12:18:41+09:00\"}\n{\"Key\":\"10.0.1.2\",\"Topic\":\"Peer\",\"level\":\"warning\",\"msg\":\"Closed an accepted connection\",\"time\":\"2015-11-08T12:18:41+09:00\"}\n{\"Key\":\"10.0.1.2\",\"State\":5,\"Topic\":\"Peer\",\"level\":\"info\",\"msg\":\"Peer Up\",\"time\":\"2015-11-08T12:18:51+09:00\"}\n```\n\n- `gobgp` \u5404\u7a2e\u30b3\u30de\u30f3\u30c9\u3067\u72b6\u614b\u78ba\u8a8d\u53ef\u80fd\n- \u4ee5\u4e0b\u516c\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n    - [CLI command syntax](https://github.com/osrg/gobgp/blob/master/docs/sources/cli-command-syntax.md)\n    - [CLI Operations](https://github.com/osrg/gobgp/blob/master/docs/sources/cli-operations.md)\n\n```bash:gobgp\u30b3\u30de\u30f3\u30c9\u3067\u72b6\u614b\u78ba\u8a8d\n$ gobgp neighbor\nPeer                AS  Up/Down State       |#Advertised Received Accepted\n10.0.1.2         65000 02:07:33 Establ      |          0        0        0\n10.0.2.2         65000    never Active      |          0        0        0\n\n$ gobgp neighbor 10.0.1.2\nBGP neighbor is 10.0.1.2, remote AS 65000\n  BGP version 4, remote router ID 10.0.1.2\n  BGP state = BGP_FSM_ESTABLISHED, up for 02:07:40\n  BGP OutQ = 0, Flops = 0\n  Hold time is 0, keepalive interval is 30 seconds\n  Configured hold time is 90, keepalive interval is 30 seconds\n  Neighbor capabilities:\n    BGP_CAP_MULTIPROTOCOL:\n        RF_EVPN:        advertised and received\n        RF_IPv4_VPN:    received\n        RF_RTC_UC:      received\n    BGP_CAP_ROUTE_REFRESH:      advertised\n    BGP_CAP_FOUR_OCTET_AS_NUMBER:       advertised and received\n  Message statistics:\n                         Sent       Rcvd\n    Opens:                 20         20\n    Notifications:          0          0\n    Updates:                0          0\n    Keepalives:           392        392\n    Route Refesh:           0          0\n    Discarded:              0          0\n    Total:                412        412\n  Route statistics:\n    Advertised:             0\n    Received:               0\n    Accepted:               0\n```\n\n\n## \u304a\u307e\u3051 CLI's tab \u88dc\u5b8c(bash \u7528) \u5c0e\u5165\n\n- 'gobgp' \u5404\u7a2e\u30b3\u30de\u30f3\u30c9\u3092 Tab \u88dc\u5b8c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u306e\u3067\u3001\u5165\u308c\u3066\u304a\u304f\u3068\u4fbf\u5229\n\n```bash\n$ cd ~/gobgp\n$ wget https://raw.githubusercontent.com/osrg/gobgp/master/tools/completion/gobgp-completion.bash\n\n$ ls -al\ntotal 56\ndrwxrwxr-x 2 kotetsu kotetsu  4096 Nov  7 23:32 .\ndrwxr-xr-x 6 kotetsu kotetsu  4096 Nov  7 22:07 ..\n-rw-rw-r-- 1 kotetsu kotetsu 41832 Nov  7 23:32 gobgp-completion.bash\n-rw-rw-r-- 1 kotetsu kotetsu   354 Nov  7 22:10 gobgpd.conf\n\n$ source ~/gobgp/gobgp-completion.bash\n```\n\n# \u304a\u308f\u308a\n\n- \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3060\u3051\u306a\u306e\u3067\u5225\u306b\u2026\n", "tags": ["Network", "BGP"]}