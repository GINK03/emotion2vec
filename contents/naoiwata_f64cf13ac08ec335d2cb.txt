{"context": "\n\nProtractor \u3067\u30d6\u30e9\u30a6\u30b6\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u306e\u5236\u5fa1\u3092\u3059\u308b\n\n\u76ee\u7684\nProtractor \u3092\u4f7f\u3063\u3066 UI \u306e\u30c6\u30b9\u30c8\u6642\u306b\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u306e\u5236\u5fa1\u3092\u3057\u305f\u3044\u3002\n\n\u30b1\u30fc\u30b9\u4f8b\n\u3042\u308b\u30ea\u30f3\u30af\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3089\u3001\u5225\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u958b\u304f\u3002\u305d\u306e\u6642\u3001\u305d\u306e\u958b\u304b\u308c\u305f\u30bf\u30d6\u753b\u9762\u306e URL \u3068\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u78ba\u8a8d\u3092\u3059\u308b\u3002\u78ba\u8a8d\u304c\u7d42\u308f\u3063\u305f\u3089\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u9589\u3058\u308b\u3002\n\n\u66f8\u304d\u65b9\ndescribe('\u30c6\u30b9\u30c8', function() {\n  it('\u30ea\u30f3\u30af\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u3089\u5225\u30bf\u30d6\u3092\u958b\u304f\u3088', function() {\n    // given\n    browser.get('http://localhost:5000/#/hoge');\n    browser.waitForAngular();\n\n    // when\n    element(by.id('sample-link')).click();\n\n    // then\n    browser.getAllWindowHandles().then(function (handles) {\n      var newWindowHandle = handles[1];\n      // \u958b\u3044\u305f\u5225\u30a6\u30a4\u30f3\u30c9\u30a6\u306b\u79fb\u52d5\n      browser.switchTo().window(newWindowHandle).then(function () {\n        // \u958b\u3044\u305f\u30a6\u30a4\u30f3\u30c9\u30a6\u306e URL \u30c1\u30a7\u30c3\u30af\n        expect(browser.driver.getCurrentUrl()).toBe('http://testtest.com');\n        // \u958b\u3044\u305f\u30a6\u30a4\u30f3\u30c9\u30a6\u5185\u306e\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u3068\u304b\n        element(by.id('testdayo')).getText().then(function(data) {\n          expect(data).toEqual('\u308f\u3063\u3057\u3087\u3044');\n        });\n        // \u30c6\u30b9\u30c8\u304c\u7d42\u308f\u3063\u305f\u3089\u5225\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u9589\u3058\u3066\u3001\u3082\u3068\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u306b\u623b\u308b\n        browser.driver.close().then(function () {\n          browser.switchTo().window(handles[0]);\n        });\n      });\n    });\n\n\n\u65b0\u898f\u306b\u30bf\u30d6\u3092\u958b\u304f\ndescribe('\u30c6\u30b9\u30c8', function() {\n  it('\u65b0\u898f\u306b\u30bf\u30d6\u3092\u958b\u304f\u3088', function() {\n    // given\n    browser.get('http://localhost:5000/#/hoge');\n    browser.waitForAngular();\n\n    // when\n    browser.actions()\n      .sendKeys(protractor.Key.chord(protractor.Key.CONTROL, protractor.Key.SHIFT ,\"n\"))\n      .perform();\n\n    // then\n    browser.getAllWindowHandles().then(function (handles) {\n      var newWindowHandle = handles[1];\n      // \u958b\u3044\u305f\u5225\u30a6\u30a4\u30f3\u30c9\u30a6\u306b\u79fb\u52d5\n      browser.switchTo().window(newWindowHandle).then(function () {\n        // URL \u3092\u6307\u5b9a\u3057\u3066\u958b\u304f\n        browser.get('http://testtest.com');\n        // \u958b\u3044\u305f\u30a6\u30a4\u30f3\u30c9\u30a6\u306e URL \u30c1\u30a7\u30c3\u30af\n        expect(browser.driver.getCurrentUrl()).toBe('http://testtest.com');\n        // \u958b\u3044\u305f\u30a6\u30a4\u30f3\u30c9\u30a6\u5185\u306e\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u3068\u304b\n        element(by.id('testdayo')).getText().then(function(data) {\n          expect(data).toEqual('\u308f\u3063\u3057\u3087\u3044');\n        });\n        // \u30c6\u30b9\u30c8\u304c\u7d42\u308f\u3063\u305f\u3089\u5225\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u9589\u3058\u3066\u3001\u3082\u3068\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u306b\u623b\u308b\n        browser.driver.close().then(function () {\n          browser.switchTo().window(handles[0]);\n        });\n      });\n    });\n\n# Protractor \u3067\u30d6\u30e9\u30a6\u30b6\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u306e\u5236\u5fa1\u3092\u3059\u308b\n\n## \u76ee\u7684\n\nProtractor \u3092\u4f7f\u3063\u3066 UI \u306e\u30c6\u30b9\u30c8\u6642\u306b\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u306e\u5236\u5fa1\u3092\u3057\u305f\u3044\u3002\n\n## \u30b1\u30fc\u30b9\u4f8b\n\n\u3042\u308b\u30ea\u30f3\u30af\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3089\u3001\u5225\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u958b\u304f\u3002\u305d\u306e\u6642\u3001\u305d\u306e\u958b\u304b\u308c\u305f\u30bf\u30d6\u753b\u9762\u306e URL \u3068\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u78ba\u8a8d\u3092\u3059\u308b\u3002\u78ba\u8a8d\u304c\u7d42\u308f\u3063\u305f\u3089\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u9589\u3058\u308b\u3002\n\n## \u66f8\u304d\u65b9\n\n```\ndescribe('\u30c6\u30b9\u30c8', function() {\n  it('\u30ea\u30f3\u30af\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u3089\u5225\u30bf\u30d6\u3092\u958b\u304f\u3088', function() {\n    // given\n    browser.get('http://localhost:5000/#/hoge');\n    browser.waitForAngular();\n\n    // when\n    element(by.id('sample-link')).click();\n\n    // then\n    browser.getAllWindowHandles().then(function (handles) {\n      var newWindowHandle = handles[1];\n      // \u958b\u3044\u305f\u5225\u30a6\u30a4\u30f3\u30c9\u30a6\u306b\u79fb\u52d5\n      browser.switchTo().window(newWindowHandle).then(function () {\n        // \u958b\u3044\u305f\u30a6\u30a4\u30f3\u30c9\u30a6\u306e URL \u30c1\u30a7\u30c3\u30af\n        expect(browser.driver.getCurrentUrl()).toBe('http://testtest.com');\n        // \u958b\u3044\u305f\u30a6\u30a4\u30f3\u30c9\u30a6\u5185\u306e\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u3068\u304b\n        element(by.id('testdayo')).getText().then(function(data) {\n          expect(data).toEqual('\u308f\u3063\u3057\u3087\u3044');\n        });\n        // \u30c6\u30b9\u30c8\u304c\u7d42\u308f\u3063\u305f\u3089\u5225\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u9589\u3058\u3066\u3001\u3082\u3068\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u306b\u623b\u308b\n        browser.driver.close().then(function () {\n          browser.switchTo().window(handles[0]);\n        });\n      });\n    });\n```\n\n## \u65b0\u898f\u306b\u30bf\u30d6\u3092\u958b\u304f\n\n```\ndescribe('\u30c6\u30b9\u30c8', function() {\n  it('\u65b0\u898f\u306b\u30bf\u30d6\u3092\u958b\u304f\u3088', function() {\n    // given\n    browser.get('http://localhost:5000/#/hoge');\n    browser.waitForAngular();\n\n    // when\n    browser.actions()\n      .sendKeys(protractor.Key.chord(protractor.Key.CONTROL, protractor.Key.SHIFT ,\"n\"))\n      .perform();\n\n    // then\n    browser.getAllWindowHandles().then(function (handles) {\n      var newWindowHandle = handles[1];\n      // \u958b\u3044\u305f\u5225\u30a6\u30a4\u30f3\u30c9\u30a6\u306b\u79fb\u52d5\n      browser.switchTo().window(newWindowHandle).then(function () {\n        // URL \u3092\u6307\u5b9a\u3057\u3066\u958b\u304f\n        browser.get('http://testtest.com');\n        // \u958b\u3044\u305f\u30a6\u30a4\u30f3\u30c9\u30a6\u306e URL \u30c1\u30a7\u30c3\u30af\n        expect(browser.driver.getCurrentUrl()).toBe('http://testtest.com');\n        // \u958b\u3044\u305f\u30a6\u30a4\u30f3\u30c9\u30a6\u5185\u306e\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u3068\u304b\n        element(by.id('testdayo')).getText().then(function(data) {\n          expect(data).toEqual('\u308f\u3063\u3057\u3087\u3044');\n        });\n        // \u30c6\u30b9\u30c8\u304c\u7d42\u308f\u3063\u305f\u3089\u5225\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u9589\u3058\u3066\u3001\u3082\u3068\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u306b\u623b\u308b\n        browser.driver.close().then(function () {\n          browser.switchTo().window(handles[0]);\n        });\n      });\n    });\n```\n", "tags": ["Protractor", "JavaScript"]}