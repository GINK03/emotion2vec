{"context": " More than 1 year has passed since last update.\u3053\u3093\u306b\u3061\u306f\u3001\u307b\u305d\u9053\u3067\u3059\u3002\n\u4eca\u56de\u304b\u3089\u9023\u4f5c\u3067\u30c6\u30b9\u30c8\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306e\u9032\u3081\u65b9\u30fb\u8003\u3048\u65b9\u3092\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30c6\u30b9\u30c8\u306f\u30d6\u30e9\u30a6\u30b6\u30fbDOM\u304c\u7d61\u3093\u3067\u304d\u305f\u308a\u3057\u3066\u3068\u304b\u304f\u8907\u96d1\u3067\u5384\u4ecb\u306a\u3082\u306e\u3067\u3059\u3002\n\u3042\u3068Gulp\u3068\u304b\u306e\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3068\u9023\u643a\u3057\u3088\u3046\u3068\u3057\u305f\u308a\u3001Webpack\u3068\u304b\u3067\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3082ES6\u3067\u63cf\u304d\u305f\u3044\u306a\u30fc\u3068\u304b\u306e\u30c8\u30e9\u30a4\u3082\u3044\u3063\u307a\u3093\u306b\u542b\u3081\u3088\u3046\u3068\u3059\u308b\u3068\u8efd\u304f\u30ab\u30aa\u30b9\u306a\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002\n\u6700\u8fd1\u306fReact\u306eTestUtil\u3060\u3063\u305f\u308aFlux\u30c6\u30b9\u30c8\u3067Jest\u3092\u304a\u52e7\u3081\u3057\u3066\u305f\u308a\u3068\u30e2\u30c0\u30f3\u306a\u5974\u3089\u3082\u30c1\u30e9\u30db\u30e9\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u77e5\u308b\u3053\u3068\u30c6\u30f3\u30b3\u76db\u308a\u306a\u306e\u3067\u4eca\u56de\u306f\u7b2c\u4e00\u6b69\u3068\u3057\u3066\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30afJasmine\u3092\u4f7f\u3063\u3066\u30d6\u30e9\u30a6\u30b6\u30ec\u30b9\u3067\u3057\u3063\u304b\u308a\u3068\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u884c\u3044\u57fa\u76e4\u3092\u56fa\u3081\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u76ee\u6b21\u306f\u3053\u3061\u3089\n\n\u524d\u63d0\uff1a\u30e2\u30b8\u30e5\u30fc\u30eb\u9593\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u3069\u3046\u53d7\u3051\u6b62\u3081\u308b\u304b\n\u4eca\u56de\u306e\u4e3b\u984c\u306f\u300c\u30e2\u30b8\u30e5\u30fc\u30eb\u9593\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u3069\u3046\u53d7\u3051\u6b62\u3081\u308b\u304b\u300d\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002\n\u30c6\u30b9\u30c8\u3057\u3084\u3059\u3044\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u306b\u306f\u3001TDD\u3067\u9032\u3081\u308b\u305f\u3081\u306b\u306f\u3001\u3068\u304b\u3082\u3042\u308b\u3093\u3067\u3059\u304c\n\u4eca\u56de\u306f\u4f9d\u5b58\u95a2\u4fc2\u306b\u5f71\u97ff\u3092\u53d7\u3051\u306a\u3044\u305f\u3081\u306e\u9053\u5177\u306e\u4f7f\u3044\u65b9\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u306a\u3093\u3067\u4f9d\u5b58\u3057\u305f\u304f\u306a\u3044\u306e\u304b\n\u4f8b\u3048\u3070\u3001\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8O\u306e\u30e1\u30bd\u30c3\u30c9m\u306e\u5f15\u6570\u306ba\u3092\u4e0e\u3048\u308b\u3068r\u304c\u5e30\u3063\u3066\u304f\u308b\u3079\u3057\u3002\u307f\u305f\u3044\u306a\u30c6\u30b9\u30c8\u306f\u30b7\u30f3\u30d7\u30eb\u3060\u3057\u60f3\u50cf\u3064\u304d\u3084\u3059\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u3068\u3053\u308d\u304c\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8O\u304c\u5225\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8P\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u305f\u308a\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8P\u3092\u751f\u6210\u3057\u3066\u3044\u305f\u308a\u3059\u308b\u3068\n\u8a71\u306f\u4e00\u6c17\u306b\u3084\u3084\u3053\u3057\u304f\u306a\u3063\u3066\u304d\u307e\u3059\u3002\n\u300c\u3044\u3084\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8P\u3092\u5b9f\u88c5\u30fb\u53c2\u7167\u3059\u308c\u3070\u3044\u3044\u3058\u3083\u306a\u3044\u300d\u3002\u305d\u308c\u3082\u4e00\u7406\u3042\u308a\u307e\u3059\u3002\n\u3067\u306f\u3082\u3057\u3082\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8P\u306f\u5225\u62c5\u5f53\u8005\u306eJ\u3055\u3093\u304c\u4f5c\u3063\u3066\u3044\u305f\u3089\u3001J\u3055\u3093\u30d6\u30e9\u30f3\u30c1\u304c\u30de\u30fc\u30b8\u3055\u308c\u308b\u307e\u3067\u5b9f\u88c5\u30b3\u30fc\u30c9\u306f\u76f4\u63a5\u3082\u3089\u308f\u306a\u3044\u3068\u308f\u304b\u308a\u307e\u305b\u3093\u3002\nJ\u3055\u3093\u306f\u5b9f\u88c5\u30b3\u30fc\u30c9\u306e\u4e2d\u306e\u30ed\u30b8\u30c3\u30af\u3092\u66f8\u304d\u63db\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u307e\u305f\u30b3\u30d4\u30da\u3057\u306a\u304a\u3059\u306e\u304b\u3041\u3002\u3002\u3068\u304b\u3002\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9JS\u3067\u30c6\u30b9\u30c8\u5b9f\u884c\u3059\u308b\u3054\u3068\u306bDB\u306e\u30ec\u30b3\u30fc\u30c9\u304c\u5897\u3048\u305f\u3089\u5acc\u3060\u306a\u3041\u3001\u3068\u304b\u3082\u3042\u308a\u307e\u3059\u3057\u3002\n\u3046\u30fc\u3093\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8P\u306b\u4f9d\u5b58\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8O\u306e\u30c6\u30b9\u30c8\u306f\u5358\u4f53\u3067\u5b9f\u884c\u3067\u304d\u308b\u65b9\u304c\u3044\u3044\u306a\u3042\u3002\n\u30e2\u30b8\u30e5\u30fc\u30ebO\u306e\u30c6\u30b9\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3042\u304f\u307e\u3067\u3082\u5bfe\u8c61\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308bO\u306e\u30c6\u30b9\u30c8\u304c\u3067\u304d\u308c\u3070\u3044\u3044\u306a\u3041\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u305d\u3093\u306a\u60a9\u307f\u3092\u89e3\u6c7a\u3057\u3066\u3044\u304d\u307e\u3059\uff01\n\nJasmine\u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\n\n\u30c6\u30b9\u30c8\u5b9f\u884c\u74b0\u5883\u3092\u6574\u3048\u308b\n\u305d\u308c\u3067\u306f\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308bJasmine\u3092\u5b9f\u884c\u3059\u308b\u3068\u3053\u308d\u304b\u3089\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u306f\u7a7a\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5165\u3063\u3066\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53d6\u308a\u8fbc\u307f\u307e\u3059\u3002\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\nnpm init\nnpm i -D jasmine jasmine-spec-reporter rewire\n\n\n\u6b21\u306b\u5b9f\u884c\u30b3\u30de\u30f3\u30c9\u3092\u6574\u3048\u307e\u3059\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3061\u307e\u3059\u3002\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\njasmine init\n\n\nspec\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3067\u304d\u305f\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f75\u305b\u3066\u751f\u6210\u3055\u308c\u305fspec/support/jasmine.json\u3092\u898b\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nspec/support/jasmine.json\n{\n  \"spec_dir\": \"spec\",\n  \"spec_files\": [\n    \"**/*[sS]pec.js\"\n  ],\n  \"helpers\": [\n    \"helpers/**/*.js\"\n  ]\n}\n\n\nspec\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b*[sS]pec.js\u30d5\u30a1\u30a4\u30eb\u304c\u5b9f\u884c\u3055\u308c\u305d\u3046\u3067\u3059\u306d\u3002\n\u65e9\u901f\u4f5c\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u8db3\u3057\u7b97\n\nspec/testSpec.js\ndescribe('\u30c6\u30b9\u30c8\u3053\u3068\u306f\u3058\u3081', function() {\n  function add(x, y) { return x + y; }\n  it('\u8db3\u3057\u7b97\u30c6\u30b9\u30c8', function() {\n    expect(add(1,2)).toBe(3);\n  });\n});\n\n\nJasmine\u306e\u30e1\u30bd\u30c3\u30c9\u7fa4\u3092\u7c21\u5358\u306b\u89e3\u8aac\u3044\u308c\u307e\u3059\u3068\n- describe: \u7b2c\u4e00\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u3059\u3079\u304d\u5185\u5bb9\u306e\u5927\u67a0\u306e\u8aac\u660e\u6587\u5b57\u5217\u3001\u7b2c\u4e8c\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u5165\u308c\u7269\u306b\u306a\u308a\u307e\u3059\u3002describe\u306f\u5165\u308c\u5b50\u306b\u3067\u304d\u307e\u3059\u3002\n- it: \u7b2c\u4e00\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u3059\u3079\u304d\u5185\u5bb9\u306e\u8a73\u7d30\u8aac\u660e\u3002\u7b2c\u4e8c\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\n- expect: \u671f\u5f85\u5024\u3092\u8868\u3059Expectation\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u30c6\u30b9\u30c8\u3059\u308b\u305f\u3081\u5f15\u6570\u306e\u5185\u5bb9\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002\n- Expectation.toBe: ===\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3044\u307e\u3059\u3002\u4ed6\u306b\u3082toXX\u3067\u69d8\u3005\u306a\u30c1\u30a7\u30c3\u30af\u304c\u3067\u304d\u307e\u3059\u3002\n\u305d\u308c\u3067\u306f\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u3044\u3066\u307f\u307e\u3057\u3087\u3046\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\njasmine\n\n\n\u306a\u3093\u304b\u5473\u6c17\u306a\u3044\u753b\u9762\u3067\u30c6\u30b9\u30c8\u6210\u529f\u304c\u4f1d\u3048\u3089\u308c\u305f\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u5b9f\u884c\u7d50\u679c\n\n\n\n\u3046\u30fc\u3093\u3002\u3002\n\u307b\u305d\u9053\u7684\u306b\u306f\u306a\u3093\u304b\u7269\u8db3\u308a\u306a\u3044\uff01\u30c6\u30b9\u30c8\u901a\u3057\u305f\u30ab\u30bf\u30eb\u30b7\u30b9\u304c\u8db3\u308a\u306a\u3044\u3063\u3059\uff01\uff01\uff01\n\u3068\u3044\u3046\u3053\u3068\u3067\u6b21\u306f\u7d50\u679c\u30ec\u30dd\u30fc\u30c8\u306e\u8868\u793a\u3092\u5909\u3048\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u7d50\u679c\u30ec\u30dd\u30fc\u30c8\u306e\u8868\u793a\u5185\u5bb9\u3092\u5909\u66f4\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306bjasmine-runner.js\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002\u5185\u5bb9\u306f\u516c\u5f0f\u304b\u3089\u5f15\u3063\u5f35\u3063\u3066\u304d\u305f\u4e0b\u8a18\u3068\u306a\u308a\u307e\u3059\u3002\n\njasmine-runner.js\nvar Jasmine = require('jasmine');\nvar SpecReporter = require('jasmine-spec-reporter');\nvar noop = function() {};\n\nvar jrunner = new Jasmine();\njrunner.configureDefaultReporter({print: noop});\njasmine.getEnv().addReporter(new SpecReporter());\njrunner.loadConfigFile();\njrunner.execute();\n\n\n\u3053\u3053\u306f\u672c\u7b4b\u3067\u306f\u306a\u3044\u306e\u3067\u89e3\u8aac\u7701\u304d\u307e\u3059\u3002\u3068\u3044\u3046\u304b\u307b\u305d\u9053\u3082\u5b9f\u88c5\u3084\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u3044\u304b\u3051\u3066\u307e\u305b\u3093\u306e\u3067\u3002\u3002\n\u305d\u308c\u3067\u306f\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\nnode jasmine-runner.js\n\n\n\n\u5b9f\u884c\u7d50\u679c\n\n\n\n\u3046\u3093\u3001\u3053\u3063\u3061\u306e\u65b9\u304c\u597d\u307f\u3067\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u30b3\u30ec\u3067\u3044\u3063\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\nnpm test\n\u6700\u5f8c\u306b\u3072\u3068\u30cd\u30bf\u3002\n\u3088\u308a\u697d\u30c1\u30f3\u30fb\u3088\u308a\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u306b\u30c6\u30b9\u30c8\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\npackage.json\u306e\u4e00\u884c\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\u4e0b\u8a18\u306e\u90e8\u5206\u3092\n\npackage.json\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\npackage.json\n  \"scripts\": {\n    \"test\": \"node jasmine-runner.js\"\n  },\n\n\n\u3053\u308c\u3067\u4ee5\u964d\u306f\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\nnpm test\n\n\n\u3067\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u5b9f\u8df5\u7684\u306a\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\n\n\u975e\u4f9d\u5b58\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u30c6\u30b9\u30c8\n\u305d\u308c\u3067\u306f\u7c21\u5358\u306a\u30b1\u30fc\u30b9\u304b\u3089\u3084\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u3055\u3063\u304d\u4f5c\u3063\u305fspec/testSpec.js\u306f\u524a\u9664\u3057\u3066\u69cb\u3044\u307e\u305b\u3093\u3002\nsrc/Food.js\u3068spec/FoodSpec.js\u306e\uff12\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u72b6\u614b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c4\u30ea\u30fc\n.\n|-- jasmine-runner.js\n|-- node_modules\n|-- package.json\n|-- spec\n|   |-- FoodSpec.js\n|   `-- support\n|       `-- jasmine.json\n`-- src\n    `-- Food.js\n\n\n\u305d\u308c\u3067\u306fFood.js\u304b\u3089\u307f\u3066\u3044\u304d\u307e\u3059\u3002\n\u3053\u308c\u306fweight\u3068\u3044\u3046\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6301\u3063\u305f\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u3001\u98df\u3079\u7269\u306e\u540d\u524d\u306b\u3088\u3063\u3066weight\u304c\u7570\u306a\u308a\u307e\u3059\u3002\n\u4ed6\u306e\u3069\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3082\u53c2\u7167\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\nsrc/Food.js\nvar Food = function(name) {\n  this.weight = 0;\n  switch(name) {\n    case 'chikuwa':\n      this.weight = 1;\n      break;\n    case 'fish':\n      this.weight = 2;\n      break;\n    case 'beef':\n      this.weight = 3;\n  }\n};\nmodule.exports = Food;\n\n\n\u305d\u308c\u3067\u306f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u307e\u3057\u3087\u3046\n\nspec/FoodSpec.js\nvar Food = require('../src/Food');\n\ndescribe('Food constructor', function() {\n  it('\u3061\u304f\u308f\u306eweight\u306f1\u3067\u3042\u308b\u3079\u3057', function() {\n    expect(new Food('chikuwa').weight).toBe(1);\n  });\n  it('\u9b5a\u306eweight\u306f2\u3067\u3042\u308b\u3079\u3057', function() {\n    expect(new Food('fish').weight).toBe(2);\n  });\n  it('\u30d3\u30fc\u30d5\u306eweight\u306f3\u3067\u3042\u308b\u3079\u3057', function() {\n    expect(new Food('beef').weight).toBe(3);\n  });\n  it('\u672a\u8a2d\u5b9a\u306aFood\u306eweight\u306f0\u3067\u3042\u308b\u3079\u3057', function() {\n    expect(new Food('Daikon').weight).toBe(0);\n  });\n});\n\n\n\u5f15\u6570\u3092\u5909\u3048\u306a\u304c\u3089\u671f\u5f85\u5024\u3092\u78ba\u304b\u3081\u3066\u3044\u304d\u307e\u3059\u3002\n\u305d\u308c\u3067\u306f\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u5b9f\u884c\u7d50\u679c\n\n\n\n\u3044\u3044\u611f\u3058\u3067\u3059\u306d\u3002\n\u4e00\u5fdc\u30b3\u30ab\u3057\u3066\u3082\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u30d3\u30fc\u30d5\u3092\u30dd\u30fc\u30af\u306b\u5909\u3048\u3066\u307f\u307e\u3059\u3002\uff13\u3064\u76ee\u306e\u30c6\u30b9\u30c8\u306ebeef\u3092pork\u306b\u5909\u3048\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u5b9f\u884c\u7d50\u679c\n\n\n\n\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u304f\u308c\u307e\u3057\u305f\u3002\n\u3053\u3053\u307e\u3067\u306f\u7c21\u5358\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u8efd\u4f9d\u5b58\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u30c6\u30b9\u30c8\n\u3055\u3066\u3001\u3044\u3088\u3044\u3088\u672c\u984c\u3067\u3059\u3002\n\u4f9d\u5b58\u95a2\u4fc2\u304c\u73fe\u308c\u305f\u6642\u3001\u3069\u306e\u3088\u3046\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u5358\u4f53\u3067\u30c6\u30b9\u30c8\u3057\u3066\u3044\u304f\u306e\u304b\u3092\u307f\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u4eca\u5ea6\u306f\u3055\u3063\u304d\u306e\u98df\u3079\u7269\u3092\u98df\u3079\u308b\u4e3b\u4f53\u8005\u3068\u3057\u3066\u30cd\u30b3\u3092\u767b\u5834\u3055\u305b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nsrc/Cat.js\u3068spec/CatSpec.js\u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u72b6\u614b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c4\u30ea\u30fc\n.\n\u251c\u2500\u2500 jasmine-runner.js\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 spec\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 CatSpec.js\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 FoodSpec.js\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 support\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 jasmine.json\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 Cat.js\n    \u2514\u2500\u2500 Food.js\n\n\n\u305d\u308c\u3067\u306f\u30b3\u30fc\u30c9\u3092\u307f\u3066\u3044\u304d\u307e\u3059\u3002\n\nsrc/Cat.js\nvar Cat = function (name) {\n  this.name = name ? name : 'Tama';\n  this.weight = 5;\n};\nCat.prototype.eat = function (food) {\n  this.weight += food.weight;\n};\nmodule.exports = Cat;\n\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u540d\u524d\u306fTama\u3060\u3088\u3001\u3068\u304b\u5165\u3063\u3066\u307e\u3059\u304c\u6ce8\u76ee\u3059\u3079\u304d\u3068\u3053\u308d\u306feat\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\n\u5f15\u6570\u306bFood\u3092\u3068\u3063\u3066\u3001\u98df\u3063\u305f\u5206\u3060\u3051\u30cd\u30b3\u306e\u4f53\u91cd\u304c\u5897\u52a0\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3055\u3066\u3001\u3069\u306e\u3088\u3046\u306b\u5358\u4f53\u3067\u30c6\u30b9\u30c8\u3067\u304d\u308b\u3088\u3046\u89e3\u6c7a\u3059\u3079\u304d\u304b\u3002\n\u3061\u3068\u8003\u3048\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nHint:\u3053\u3053\u3067Cat\u3092\u8efd\u4f9d\u5b58\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u306e\u306fFood\u30e2\u30b8\u30e5\u30fc\u30eb\u3092require\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u306b\u8d77\u56e0\u3057\u3066\u3044\u307e\u3059\u3002\n\u672c\u5f53\u306eFood\u306f\u5fc5\u8981\u304b\u2026\uff1f\n\u305d\u308c\u3067\u306fspec/CatSpec.js\u3092\u307f\u3066\u3044\u304d\u307e\u3057\u3087\u3046\n\nspec/CatSpec.js\nvar Cat = require('../src/Cat');\n\ndescribe('Cat', function () {\n  describe('.constructor()', function() {\n\n    it('\u30c7\u30d5\u30a9\u30eb\u30c8\u540d\u524d\u306fTama\u306b\u306a\u308b\u3079\u3057', function () {\n      expect(new Cat().name).toBe('Tama');\n    });\n\n    it('\u540d\u524d\u3092\u6307\u5b9a\u3059\u308c\u3070\u305d\u306e\u540d\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u3079\u3057', function () {\n      expect(new Cat('Mike').name).toBe('Mike');\n    });\n\n    it('\u6700\u521d\u306e\u4f53\u91cd\u306f5\u3068\u306a\u308b\u3079\u3057', function () {\n      expect(new Cat().weight).toBe(5);\n    });\n  });\n\n  describe('.eat()', function() {\n    it('\u98df\u3079\u7269\u306eweigh\u3060\u3051\u30cd\u30b3\u306e\u4f53\u91cd\u304c\u5897\u52a0\u3059\u3079\u3057', function () {\n      var c1 = new Cat();\n      var c2 = new Cat();\n      c1.eat({weight: 8});\n      expect(c1.weight - c2.weight).toBe(8);\n    });\n  });\n});\n\n\n\u4e00\u756a\u4e0b\u306eeat\u30e1\u30bd\u30c3\u30c9\u306e\u30c6\u30b9\u30c8\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\n\u8981\u306fweiht\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u6570\u5024\u3092\u6301\u3063\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5f15\u6570\u3068\u3057\u3066\u6e21\u3057\u3066\u3042\u3052\u308c\u3070\u3044\u3044\u308f\u3051\u3067\u3059\u306d\u3002\n\u306a\u3093\u3060\u3001\u5927\u3057\u305f\u3053\u3068\u306a\u3044\u306d\u3047\u3002\u306a\u3093\u3066\u601d\u3044\u306a\u304c\u3089\u4e00\u5fdc\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u3042\u3001\u30dd\u30fc\u30af\u306e\u4ef6\u306f\u5143\u306b\u623b\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\n\n\u5b9f\u884c\u7d50\u679c\n\n\n\n\n\u91cd\u4f9d\u5b58\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u30c6\u30b9\u30c8\n\u305d\u308c\u3067\u306f\u4eca\u56de\u306e\u672c\u4e38\u3067\u3059\u3002\n\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u3067\u4ed6\u30e2\u30b8\u30e5\u30fc\u30eb\u3092require\u3057\u3066\u3001\u30e1\u30bd\u30c3\u30c9\u30b3\u30fc\u30eb\u3057\u3066\u3044\u305f\u5834\u5408\u3067\u3059\u3002\n\u3053\u3053\u3067\u30cd\u30b3\u306e\u3053\u3068\u306a\u3089\u306a\u3093\u3067\u3082\u304a\u4efb\u305b\u3001CatService\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u767b\u5834\u3055\u305b\u307e\u3059\u3002\n\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u5916\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u306e\u30b3\u30fc\u30eb\u3067\u30cd\u30b3\u306b\u95a2\u3059\u308b\u4f9d\u983c\u3092\u3044\u308d\u3044\u308d\u627f\u308a\u307e\u3059\u3002\nsrc/CatService.js\u3068spec/CatServiceSpec.js\u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u72b6\u614b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c4\u30ea\u30fc\n.\n\u251c\u2500\u2500 jasmine-runner.js\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 spec\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 CatServiceSpec.js\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 CatSpec.js\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 FoodSpec.js\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 support\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 jasmine.json\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 CatService.js\n    \u251c\u2500\u2500 Cat.js\n    \u2514\u2500\u2500 Food.js\n\n\n\u305d\u308c\u3067\u306fsrc/CatService.js\u3092\u307f\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\nsrc/CatService.js\nvar Cat = require('./Cat');\nvar Food = require('./Food');\n\nfunction CatService() {\n  this.cats = {};\n}\n\n// \u304a\u6cca\u307e\u308a\u30b5\u30fc\u30d3\u30b9\u3092\u3084\u3063\u3066\u3044\u307e\u3059\nCatService.prototype.checkin = function (cat) {\n  this.cats[cat.name] = cat;\n};\nCatService.prototype.checkout = function (name) {\n  var cat = this.cats[name];\n  delete this.cats[name];\n  return cat;\n};\n\n// \u4f9d\u983c\u3055\u308c\u305f\u732b\u306b\u6307\u5b9a\u306e\u990c\u3092\u3042\u3052\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3059\nCatService.prototype.feed = function (name, foodName) {\n  this.cats[name].eat(new Food(foodName));\n};\n\n// \u732b\u3092\u7523\u3093\u3067\u304a\u5ba2\u69d8\u306b\u5dee\u3057\u4e0a\u3052\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3059\nCatService.prototype.yield = function (name) {\n  return new Cat(name);\n};\n\nmodule.exports = CatService;\n\n\n\u306f\u3044\u3001\u30d0\u30ea\u30d0\u30ea\u4f9d\u5b58(require)\u3057\u3066\u3044\u307e\u3059\u3002\n\u7279\u306bfeed\u30e1\u30bd\u30c3\u30c9\u3001yield\u30e1\u30bd\u30c3\u30c9\u306b\u95a2\u3057\u3066\u306fnew\u307e\u3067\u3057\u3061\u3083\u3063\u3066\u308b\u306e\u3067CatSpec.js\u306e\u6642\u306e\u3088\u3046\u306a\u8aa4\u9b54\u5316\u3057\u306f\u52b9\u304d\u307e\u305b\u3093\u3002\n\u3044\u3084\u3055\u3001\u305d\u306e\u96e3\u984c\u3001\u8aa4\u9b54\u5316\u3057\u304d\u3063\u3066\u307f\u3088\u3046\u3058\u3083\u306a\u3044\u3063\u3059\u304b\uff01\n\u3042\u3068\u88dc\u8db3\u3067\u30e1\u30e2\u5165\u308c\u3066\u304a\u304d\u307e\u3059\u3002\n\u5bfe\u8c61\u30e2\u30b8\u30e5\u30fc\u30eb\u4ee5\u5916\u306e\u30c6\u30b9\u30c8\u306f\u3057\u306a\u304f\u3066\u826f\u3044\u3002\u4f8b\u3048\u3070Cat\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u540d\u304cTama\u3060\u3068\u304beat\u3059\u308b\u3068\u4f53\u91cd\u304c\u5897\u3048\u308b\u3068\u304b\u306f\u3053\u3053\u3067\u30c6\u30b9\u30c8\u305b\u305a\u306bCatSpec\u306b\u4efb\u305b\u308c\u3070\u826f\u3044\u3002\n\nrewire\u3067\u30e2\u30c3\u30af\u6ce8\u5165\n\u306f\u3044\u3001\u3053\u3053\u3067\u6700\u521d\u306bnpm\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u3044\u305frewire\u304c\u767b\u5834\u3057\u307e\u3059\u3002\nrewire\u306f\u306a\u306b\u304c\u5b09\u3057\u3044\u3093\u3067\u3057\u3087\u3046\u3002\n\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u53c2\u7167\u3057\u3066\u3044\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30e2\u30c3\u30af\u3092\u6ce8\u5165\u3067\u304d\u308b\u3002\n\u3059\u306a\u308f\u3061CatService\u304c\u53c2\u7167\u3059\u308bCat\u3084Food\u3092\u5fc5\u8981\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3060\u3051\u6301\u3063\u305f\u7c21\u6613\u306aCat\u30e2\u30c3\u30af\u3001Food\u30e2\u30c3\u30af\u306b\u5dee\u3057\u66ff\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3000\u3046\u3049\u3049\n\u4f7f\u3044\u65b9\u306f\u3044\u305f\u3063\u3066\u7c21\u5358\u3002\u30ec\u30b7\u30d4\u3092\u4e0b\u8a18\u306b\u66f8\u304d\u6dfb\u3048\u307e\u3059\u3002\n\n\n\nrewire\u3092require\u3057\u307e\u3059\n\u30c6\u30b9\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092require\u3067\u306f\u306a\u304frewire(Module)\u3067\u53d6\u308a\u8fbc\u307f\u307e\u3059\n\nModule.__set__('\u5dee\u3057\u66ff\u3048\u305f\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u540d', \u5dee\u3057\u66ff\u3048\u305f\u3044\u30e2\u30b8\u30e5\u30fc\u30eb)\u3092\u5b9f\u884c\u3057\u307e\u3059\n\n\n\u4ee5\u4e0a\u3067\u3059\u3002\u7c21\u5358\u305d\u3046\u3067\u3059\u306d\uff01\n\njasmine + rewire\u3067\u3042\u304f\u307e\u3067\u5358\u4f53\u30e2\u30b8\u30e5\u30fc\u30eb\u30c6\u30b9\u30c8\n\u305d\u308c\u3067\u306fspec/CatServiceSpec.js\u306e\u5b9f\u88c5\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nspec/CatServiceSpec.js\nvar rewire = require('rewire'),\n    CatService = rewire('../src/CatService');\n\ndescribe('CatService', function () {\n  var service = new CatService(),\n      // \u30cd\u30b3\u30e2\u30c3\u30af\n      Cat = function (name) {\n        this.name = name;\n        this.weight = 5;\n        this.eat = function(food){};\n      },\n      // \u98df\u3044\u7269\u30e2\u30c3\u30af\n      Food = function(weight) {\n        this.weight = weight;\n      };\n  // \u30e2\u30c3\u30af\u6ce8\u5165\uff01\n  CatService.__set__('Cat', Cat);\n  CatService.__set__('Food', Food);\n\n  describe('.checkin()', function () {\n    beforeEach(function() {\n      // \u691c\u67fb\u3054\u3068\u306bservice\u3092\u521d\u671f\u5316\n      service = new CatService();\n    });\n\n    it('\u5225\u540d\u306e\u30cd\u30b3\u30922\u5339\u6cca\u3081\u305f\u3089cats\u306b\u306f\uff12\u5339\u3044\u308b\u3079\u3057', function () {\n      service.checkin(new Cat('Tama'));\n      service.checkin(new Cat('Mike'));\n      expect(Object.keys(service.cats).length).toBe(2);\n    });\n\n    it('\u540c\u540d\u306e\u30cd\u30b3\u306e\u304a\u6cca\u307e\u308a\u306f\u6b8b\u5ff5\u306a\u304c\u3089\u53d7\u3051\u4ed8\u3051\u306c\u3079\u3057', function () {\n      service.checkin(new Cat('Mike'));\n      service.checkin(new Cat('Mike'));\n      expect(Object.keys(service.cats).length).toBe(1);\n    });\n  });\n\n  describe('.checkout()', function() {\n    // \u3042\u3048\u3066beforeEach\u305b\u305a\u306b\u76f4\u4e0a\u306e\u72b6\u614b\u3092\u5f15\u304d\u7d99\u3044\u3067\u307f\u308b\n\n    it('\u6307\u5b9a\u3057\u305f\u30cd\u30b3\u3092\u8fd4\u5374\u3059\u3079\u3057', function() {\n      var returnedCat;\n      service.checkin(new Cat('Tama'));\n      returnedCat = service.checkout('Tama');\n      // Mike\u3060\u3051\u304c\u6b8b\u3063\u3066\u308b\u306f\u305a\n      expect(Object.keys(service.cats).length).toBe(1);\n      expect(Object.keys(service.cats)[0]).toBe('Mike');\n      // Tama\u304c\u8fd4\u5374\u3055\u308c\u308b\u306f\u305a\n      expect(returnedCat.name).toBe('Tama');\n    })\n  });\n\n  describe('.feed()', function () {\n    beforeEach(function() {\n      service = new CatService();\n    });\n\n    it('Cat.eat\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u3079\u3057', function () {\n      var mike = new Cat('Mike');\n      spyOn(mike, 'eat');\n      service.checkin(mike);\n      service.feed('Mike', new Food(3));\n      expect(mike.eat).toHaveBeenCalled();\n    });\n  });\n\n  describe('.yield()', function () {\n    it('\u65b0\u3057\u3044\u30cd\u30b3\u3092\u751f\u6210\u3059\u3079\u3057', function () {\n      expect(service.yield('Mike') instanceof Cat).toBeTruthy();\n    });\n  });\n});\n\n\n\u4e0a\u306e\u65b9\u3067Cat\u30e2\u30c3\u30af\u3068Food\u30e2\u30c3\u30af\u3092\u751f\u6210\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066__set__\u30e1\u30bd\u30c3\u30c9\u3067CatService\u306bCat\u30e2\u30c3\u30af\u3068Food\u30e2\u30c3\u30af\u3092\u6ce8\u5165\u3057\u3066\u3044\u307e\u3059\u3002\n\u3042\u3068\u306f\u3055\u3082\u3001\u81ea\u5206\u304c\u66f8\u3044\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5143\u306bCat\u3068Food\u304c\u3042\u308b\u304b\u306e\u3088\u3046\u306bCatService\u3092\u30c6\u30b9\u30c8\u3059\u308b\u30b3\u30fc\u30c9\u3092\u66f8\u3051\u3070\u826f\u3044\u306e\u3067\u3059\u3002\n\u4e00\u5fdc\u3001\u65b0\u3057\u304f\u767b\u5834\u3057\u305fjasmine\u306e\u30e1\u30bd\u30c3\u30c9\u3082\u53d6\u308a\u4e0a\u3052\u3066\u304a\u304d\u307e\u3059\u3002\n\n\nbeforeEach: describe\u5185\u306e\u5404it\u5b9f\u884c\u524d\u306b\u5171\u901a\u306e\u521d\u671f\u5316\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\u547c\u3070\u306a\u304b\u3063\u305f\u5834\u5408\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u72b6\u614b\u306f\u6b21\u306b\u6301\u3061\u8d8a\u3055\u308c\u307e\u3059\u3002\n\nspyOn: \u7b2c\u4e00\u5f15\u6570\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u3001\u7b2c\u4e8c\u5f15\u6570\u306b\u305d\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30e1\u30bd\u30c3\u30c9\u540d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u6307\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u8de1\u3057\u307e\u3059\u3002\n\nExpectation.toHaveBeenCalled: spyOn\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u305f\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\nExpectation.toBeTruthy: true\u3067\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u3055\u3066\u3001\u30c6\u30b9\u30c8\u5b9f\u884c\u3057\u3066\u307f\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u304c\u3053\u306e\u307e\u307e\u3060\u3068Cat\u3084Food\u304c\u666e\u901a\u306b\u4f7f\u308f\u308c\u3061\u3083\u3063\u3066\u308b\u304b\u3082\u308f\u304b\u308a\u307e\u305b\u3093\u3002\nCat\u3068Food\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30b3\u30fc\u30c9\u306f\u5927\u80c6\u306b\u5168\u3066\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3061\u3083\u3044\u307e\u3057\u3087\u3046\uff01\n\u3055\u3066\u3001\u5b9f\u884c\u3002\n\n\u5b9f\u884c\u7d50\u679c\n\n\n\n\u306f\u3044\u3001Cat\u3068Food\u306e\u30c6\u30b9\u30c8\u306f\u30ac\u30c3\u30c4\u30ea\u5931\u6557\u3057\u3066\u307e\u3059\u304cCatService\u306e\u30c6\u30b9\u30c8\u306f\u30aa\u30fc\u30eb\u30b0\u30ea\u30fc\u30f3\u3067\u3059\uff01\n\u3053\u308c\u306fCatService\u306e\u5358\u4f53\u30e2\u30b8\u30e5\u30fc\u30eb\u30c6\u30b9\u30c8\u304c\u3046\u307e\u304f\u3044\u3063\u3066\u308b\u8a3c\u3067\u3059\u3002\n\n\nJasmine\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u304a\u3055\u3089\u3044\n\u6700\u5f8c\u306b\u4eca\u56de\u767b\u5834\u3057\u305fJasmine\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u898b\u3084\u3059\u3044\u3088\u3046\u306b\u6539\u3081\u3066\u5168\u90e8\u307e\u3068\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\n\n\n\u30e1\u30bd\u30c3\u30c9\n\u5185\u5bb9\n\n\n\n\ndescribe\n\u7b2c\u4e00\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u3059\u3079\u304d\u5185\u5bb9\u306e\u5927\u67a0\u306e\u8aac\u660e\u6587\u5b57\u5217\u3001\u7b2c\u4e8c\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u5165\u308c\u7269\u306b\u306a\u308a\u307e\u3059\u3002describe\u306f\u5165\u308c\u5b50\u306b\u3067\u304d\u307e\u3059\u3002\n\n\nit\n\u7b2c\u4e00\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u3059\u3079\u304d\u5185\u5bb9\u306e\u8a73\u7d30\u8aac\u660e\u3002\u7b2c\u4e8c\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\n\n\nbeforeEach\n\ndescribe\u5185\u306e\u5404it\u5b9f\u884c\u524d\u306b\u5171\u901a\u306e\u521d\u671f\u5316\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\u547c\u3070\u306a\u304b\u3063\u305f\u5834\u5408\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u72b6\u614b\u306f\u6b21\u306b\u6301\u3061\u8d8a\u3055\u308c\u307e\u3059\u3002\n\n\nspyOn\n\u7b2c\u4e00\u5f15\u6570\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u3001\u7b2c\u4e8c\u5f15\u6570\u306b\u305d\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30e1\u30bd\u30c3\u30c9\u540d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u6307\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u8de1\u3057\u307e\u3059\u3002\n\n\nexpect\n\u671f\u5f85\u5024\u3092\u8868\u3059Expectation\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u30c6\u30b9\u30c8\u3059\u308b\u305f\u3081\u5f15\u6570\u306e\u5185\u5bb9\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002\n\n\nExpectation.toBe\n\n===\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3044\u307e\u3059\u3002\u4ed6\u306b\u3082toXX\u3067\u69d8\u3005\u306a\u30c1\u30a7\u30c3\u30af\u304c\u3067\u304d\u307e\u3059\u3002\n\n\nExpectation.toBeTruthy\ntrue\u3067\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\nExpectation.toHaveBeenCalled\n\nspyOn\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u305f\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n\n\u4eca\u56de\u306f\u4ee5\u4e0a\u3067\u3059\u3002\n\u6b21\u56de\u306f\u30d6\u30e9\u30a6\u30b6\u3084DOM\u3067\u3069\u3046\u3084\u3063\u3066\u30c6\u30b9\u30c8\u3059\u308b\u3093\u3060\u30fc\u3068\u3044\u3046\u3042\u305f\u308a\u3092\u307e\u3068\u3081\u3066\u3044\u304d\u305f\u3044\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\u3053\u3093\u306b\u3061\u306f\u3001\u307b\u305d\u9053\u3067\u3059\u3002\n\n\u4eca\u56de\u304b\u3089\u9023\u4f5c\u3067\u30c6\u30b9\u30c8\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306e\u9032\u3081\u65b9\u30fb\u8003\u3048\u65b9\u3092\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30c6\u30b9\u30c8\u306f\u30d6\u30e9\u30a6\u30b6\u30fbDOM\u304c\u7d61\u3093\u3067\u304d\u305f\u308a\u3057\u3066\u3068\u304b\u304f\u8907\u96d1\u3067\u5384\u4ecb\u306a\u3082\u306e\u3067\u3059\u3002\n\u3042\u3068Gulp\u3068\u304b\u306e\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3068\u9023\u643a\u3057\u3088\u3046\u3068\u3057\u305f\u308a\u3001Webpack\u3068\u304b\u3067\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3082ES6\u3067\u63cf\u304d\u305f\u3044\u306a\u30fc\u3068\u304b\u306e\u30c8\u30e9\u30a4\u3082\u3044\u3063\u307a\u3093\u306b\u542b\u3081\u3088\u3046\u3068\u3059\u308b\u3068\u8efd\u304f\u30ab\u30aa\u30b9\u306a\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002\n\u6700\u8fd1\u306fReact\u306eTestUtil\u3060\u3063\u305f\u308aFlux\u30c6\u30b9\u30c8\u3067Jest\u3092\u304a\u52e7\u3081\u3057\u3066\u305f\u308a\u3068\u30e2\u30c0\u30f3\u306a\u5974\u3089\u3082\u30c1\u30e9\u30db\u30e9\u3002\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u77e5\u308b\u3053\u3068\u30c6\u30f3\u30b3\u76db\u308a\u306a\u306e\u3067\u4eca\u56de\u306f\u7b2c\u4e00\u6b69\u3068\u3057\u3066\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30afJasmine\u3092\u4f7f\u3063\u3066\u30d6\u30e9\u30a6\u30b6\u30ec\u30b9\u3067\u3057\u3063\u304b\u308a\u3068\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u884c\u3044\u57fa\u76e4\u3092\u56fa\u3081\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n[\u76ee\u6b21\u306f\u3053\u3061\u3089](http://qiita.com/setzz/items/ad9a9c99a4fda041a563)\n\n# \u524d\u63d0\uff1a\u30e2\u30b8\u30e5\u30fc\u30eb\u9593\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u3069\u3046\u53d7\u3051\u6b62\u3081\u308b\u304b\n\u4eca\u56de\u306e\u4e3b\u984c\u306f\u300c\u30e2\u30b8\u30e5\u30fc\u30eb\u9593\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u3069\u3046\u53d7\u3051\u6b62\u3081\u308b\u304b\u300d\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002\n\u30c6\u30b9\u30c8\u3057\u3084\u3059\u3044\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u306b\u306f\u3001TDD\u3067\u9032\u3081\u308b\u305f\u3081\u306b\u306f\u3001\u3068\u304b\u3082\u3042\u308b\u3093\u3067\u3059\u304c\n\u4eca\u56de\u306f\u4f9d\u5b58\u95a2\u4fc2\u306b\u5f71\u97ff\u3092\u53d7\u3051\u306a\u3044\u305f\u3081\u306e\u9053\u5177\u306e\u4f7f\u3044\u65b9\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n## \u306a\u3093\u3067\u4f9d\u5b58\u3057\u305f\u304f\u306a\u3044\u306e\u304b\n\u4f8b\u3048\u3070\u3001\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8O\u306e\u30e1\u30bd\u30c3\u30c9m\u306e\u5f15\u6570\u306ba\u3092\u4e0e\u3048\u308b\u3068r\u304c\u5e30\u3063\u3066\u304f\u308b\u3079\u3057\u3002\u307f\u305f\u3044\u306a\u30c6\u30b9\u30c8\u306f\u30b7\u30f3\u30d7\u30eb\u3060\u3057\u60f3\u50cf\u3064\u304d\u3084\u3059\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u3068\u3053\u308d\u304c\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8O\u304c\u5225\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8P\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u305f\u308a\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8P\u3092\u751f\u6210\u3057\u3066\u3044\u305f\u308a\u3059\u308b\u3068\n\u8a71\u306f\u4e00\u6c17\u306b\u3084\u3084\u3053\u3057\u304f\u306a\u3063\u3066\u304d\u307e\u3059\u3002\n\n\u300c\u3044\u3084\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8P\u3092\u5b9f\u88c5\u30fb\u53c2\u7167\u3059\u308c\u3070\u3044\u3044\u3058\u3083\u306a\u3044\u300d\u3002\u305d\u308c\u3082\u4e00\u7406\u3042\u308a\u307e\u3059\u3002\n\u3067\u306f\u3082\u3057\u3082\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8P\u306f\u5225\u62c5\u5f53\u8005\u306eJ\u3055\u3093\u304c\u4f5c\u3063\u3066\u3044\u305f\u3089\u3001J\u3055\u3093\u30d6\u30e9\u30f3\u30c1\u304c\u30de\u30fc\u30b8\u3055\u308c\u308b\u307e\u3067\u5b9f\u88c5\u30b3\u30fc\u30c9\u306f\u76f4\u63a5\u3082\u3089\u308f\u306a\u3044\u3068\u308f\u304b\u308a\u307e\u305b\u3093\u3002\nJ\u3055\u3093\u306f\u5b9f\u88c5\u30b3\u30fc\u30c9\u306e\u4e2d\u306e\u30ed\u30b8\u30c3\u30af\u3092\u66f8\u304d\u63db\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u307e\u305f\u30b3\u30d4\u30da\u3057\u306a\u304a\u3059\u306e\u304b\u3041\u3002\u3002\u3068\u304b\u3002\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9JS\u3067\u30c6\u30b9\u30c8\u5b9f\u884c\u3059\u308b\u3054\u3068\u306bDB\u306e\u30ec\u30b3\u30fc\u30c9\u304c\u5897\u3048\u305f\u3089\u5acc\u3060\u306a\u3041\u3001\u3068\u304b\u3082\u3042\u308a\u307e\u3059\u3057\u3002\n\n\u3046\u30fc\u3093\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8P\u306b\u4f9d\u5b58\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8O\u306e\u30c6\u30b9\u30c8\u306f\u5358\u4f53\u3067\u5b9f\u884c\u3067\u304d\u308b\u65b9\u304c\u3044\u3044\u306a\u3042\u3002\n\u30e2\u30b8\u30e5\u30fc\u30ebO\u306e\u30c6\u30b9\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3042\u304f\u307e\u3067\u3082\u5bfe\u8c61\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308bO\u306e\u30c6\u30b9\u30c8\u304c\u3067\u304d\u308c\u3070\u3044\u3044\u306a\u3041\u3002\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u305d\u3093\u306a\u60a9\u307f\u3092\u89e3\u6c7a\u3057\u3066\u3044\u304d\u307e\u3059\uff01\n\n# Jasmine\u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\n## \u30c6\u30b9\u30c8\u5b9f\u884c\u74b0\u5883\u3092\u6574\u3048\u308b\n\u305d\u308c\u3067\u306f\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308bJasmine\u3092\u5b9f\u884c\u3059\u308b\u3068\u3053\u308d\u304b\u3089\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u306f\u7a7a\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5165\u3063\u3066\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53d6\u308a\u8fbc\u307f\u307e\u3059\u3002\n\n```bash:\u30b3\u30f3\u30bd\u30fc\u30eb\nnpm init\nnpm i -D jasmine jasmine-spec-reporter rewire\n```\n\n\u6b21\u306b\u5b9f\u884c\u30b3\u30de\u30f3\u30c9\u3092\u6574\u3048\u307e\u3059\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3061\u307e\u3059\u3002\n\n```bash:\u30b3\u30f3\u30bd\u30fc\u30eb\njasmine init\n```\n\n`spec`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3067\u304d\u305f\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f75\u305b\u3066\u751f\u6210\u3055\u308c\u305f`spec/support/jasmine.json`\u3092\u898b\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```json:spec/support/jasmine.json\n{\n  \"spec_dir\": \"spec\",\n  \"spec_files\": [\n    \"**/*[sS]pec.js\"\n  ],\n  \"helpers\": [\n    \"helpers/**/*.js\"\n  ]\n}\n```\n\n`spec`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b`*[sS]pec.js`\u30d5\u30a1\u30a4\u30eb\u304c\u5b9f\u884c\u3055\u308c\u305d\u3046\u3067\u3059\u306d\u3002\n\u65e9\u901f\u4f5c\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u8db3\u3057\u7b97\n\n```js:spec/testSpec.js\ndescribe('\u30c6\u30b9\u30c8\u3053\u3068\u306f\u3058\u3081', function() {\n  function add(x, y) { return x + y; }\n  it('\u8db3\u3057\u7b97\u30c6\u30b9\u30c8', function() {\n    expect(add(1,2)).toBe(3);\n  });\n});\n```\n\nJasmine\u306e\u30e1\u30bd\u30c3\u30c9\u7fa4\u3092\u7c21\u5358\u306b\u89e3\u8aac\u3044\u308c\u307e\u3059\u3068\n- `describe`: \u7b2c\u4e00\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u3059\u3079\u304d\u5185\u5bb9\u306e\u5927\u67a0\u306e\u8aac\u660e\u6587\u5b57\u5217\u3001\u7b2c\u4e8c\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u5165\u308c\u7269\u306b\u306a\u308a\u307e\u3059\u3002`describe`\u306f\u5165\u308c\u5b50\u306b\u3067\u304d\u307e\u3059\u3002\n- `it`: \u7b2c\u4e00\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u3059\u3079\u304d\u5185\u5bb9\u306e\u8a73\u7d30\u8aac\u660e\u3002\u7b2c\u4e8c\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\n- `expect`: \u671f\u5f85\u5024\u3092\u8868\u3059`Expectation`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u30c6\u30b9\u30c8\u3059\u308b\u305f\u3081\u5f15\u6570\u306e\u5185\u5bb9\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002\n- `Expectation.toBe`: `===`\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3044\u307e\u3059\u3002\u4ed6\u306b\u3082toXX\u3067\u69d8\u3005\u306a\u30c1\u30a7\u30c3\u30af\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u305d\u308c\u3067\u306f\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u3044\u3066\u307f\u307e\u3057\u3087\u3046\n\n```bash:\u30b3\u30f3\u30bd\u30fc\u30eb\njasmine\n```\n\n\u306a\u3093\u304b\u5473\u6c17\u306a\u3044\u753b\u9762\u3067\u30c6\u30b9\u30c8\u6210\u529f\u304c\u4f1d\u3048\u3089\u308c\u305f\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n- \u5b9f\u884c\u7d50\u679c  \n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-05-25 2.27.40.png](https://qiita-image-store.s3.amazonaws.com/0/39330/3ed3bbca-2abc-4086-cb3a-b07a77190471.png)\n\n\u3046\u30fc\u3093\u3002\u3002\n\u307b\u305d\u9053\u7684\u306b\u306f\u306a\u3093\u304b\u7269\u8db3\u308a\u306a\u3044\uff01\u30c6\u30b9\u30c8\u901a\u3057\u305f\u30ab\u30bf\u30eb\u30b7\u30b9\u304c\u8db3\u308a\u306a\u3044\u3063\u3059\uff01\uff01\uff01\n\u3068\u3044\u3046\u3053\u3068\u3067\u6b21\u306f\u7d50\u679c\u30ec\u30dd\u30fc\u30c8\u306e\u8868\u793a\u3092\u5909\u3048\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n## \u7d50\u679c\u30ec\u30dd\u30fc\u30c8\u306e\u8868\u793a\u5185\u5bb9\u3092\u5909\u66f4\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306b`jasmine-runner.js`\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002\u5185\u5bb9\u306f\u516c\u5f0f\u304b\u3089\u5f15\u3063\u5f35\u3063\u3066\u304d\u305f\u4e0b\u8a18\u3068\u306a\u308a\u307e\u3059\u3002\n\n```js:jasmine-runner.js\nvar Jasmine = require('jasmine');\nvar SpecReporter = require('jasmine-spec-reporter');\nvar noop = function() {};\n\nvar jrunner = new Jasmine();\njrunner.configureDefaultReporter({print: noop});\njasmine.getEnv().addReporter(new SpecReporter());\njrunner.loadConfigFile();\njrunner.execute();\n```\n\n\u3053\u3053\u306f\u672c\u7b4b\u3067\u306f\u306a\u3044\u306e\u3067\u89e3\u8aac\u7701\u304d\u307e\u3059\u3002\u3068\u3044\u3046\u304b\u307b\u305d\u9053\u3082\u5b9f\u88c5\u3084\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u3044\u304b\u3051\u3066\u307e\u305b\u3093\u306e\u3067\u3002\u3002\n\u305d\u308c\u3067\u306f\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```bash:\u30b3\u30f3\u30bd\u30fc\u30eb\nnode jasmine-runner.js\n```\n\n- \u5b9f\u884c\u7d50\u679c  \n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-05-25 2.27.52.png](https://qiita-image-store.s3.amazonaws.com/0/39330/5384d3cd-7820-cf64-9e6a-92e0f30e6b20.png)\n\n\n\u3046\u3093\u3001\u3053\u3063\u3061\u306e\u65b9\u304c\u597d\u307f\u3067\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u30b3\u30ec\u3067\u3044\u3063\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n## npm test\n\u6700\u5f8c\u306b\u3072\u3068\u30cd\u30bf\u3002\n\u3088\u308a\u697d\u30c1\u30f3\u30fb\u3088\u308a\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u306b\u30c6\u30b9\u30c8\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n`package.json`\u306e\u4e00\u884c\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\u4e0b\u8a18\u306e\u90e8\u5206\u3092\n\n```json:package.json\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```json:package.json\n  \"scripts\": {\n    \"test\": \"node jasmine-runner.js\"\n  },\n```\n\n\u3053\u308c\u3067\u4ee5\u964d\u306f\n\n```bash:\u30b3\u30f3\u30bd\u30fc\u30eb\nnpm test\n```\n\u3067\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n# \u5b9f\u8df5\u7684\u306a\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\n## \u975e\u4f9d\u5b58\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u30c6\u30b9\u30c8\n\u305d\u308c\u3067\u306f\u7c21\u5358\u306a\u30b1\u30fc\u30b9\u304b\u3089\u3084\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u3055\u3063\u304d\u4f5c\u3063\u305f`spec/testSpec.js`\u306f\u524a\u9664\u3057\u3066\u69cb\u3044\u307e\u305b\u3093\u3002\n`src/Food.js`\u3068`spec/FoodSpec.js`\u306e\uff12\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u72b6\u614b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```text:\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c4\u30ea\u30fc\n.\n|-- jasmine-runner.js\n|-- node_modules\n|-- package.json\n|-- spec\n|   |-- FoodSpec.js\n|   `-- support\n|       `-- jasmine.json\n`-- src\n    `-- Food.js\n```\n\n\u305d\u308c\u3067\u306fFood.js\u304b\u3089\u307f\u3066\u3044\u304d\u307e\u3059\u3002\n\u3053\u308c\u306fweight\u3068\u3044\u3046\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6301\u3063\u305f\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u3001\u98df\u3079\u7269\u306e\u540d\u524d\u306b\u3088\u3063\u3066weight\u304c\u7570\u306a\u308a\u307e\u3059\u3002\n\u4ed6\u306e\u3069\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3082\u53c2\u7167\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\n```js:src/Food.js\nvar Food = function(name) {\n  this.weight = 0;\n  switch(name) {\n    case 'chikuwa':\n      this.weight = 1;\n      break;\n    case 'fish':\n      this.weight = 2;\n      break;\n    case 'beef':\n      this.weight = 3;\n  }\n};\nmodule.exports = Food;\n```\n\n\u305d\u308c\u3067\u306f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u307e\u3057\u3087\u3046\n\n```js:spec/FoodSpec.js\nvar Food = require('../src/Food');\n\ndescribe('Food constructor', function() {\n  it('\u3061\u304f\u308f\u306eweight\u306f1\u3067\u3042\u308b\u3079\u3057', function() {\n    expect(new Food('chikuwa').weight).toBe(1);\n  });\n  it('\u9b5a\u306eweight\u306f2\u3067\u3042\u308b\u3079\u3057', function() {\n    expect(new Food('fish').weight).toBe(2);\n  });\n  it('\u30d3\u30fc\u30d5\u306eweight\u306f3\u3067\u3042\u308b\u3079\u3057', function() {\n    expect(new Food('beef').weight).toBe(3);\n  });\n  it('\u672a\u8a2d\u5b9a\u306aFood\u306eweight\u306f0\u3067\u3042\u308b\u3079\u3057', function() {\n    expect(new Food('Daikon').weight).toBe(0);\n  });\n});\n```\n\n\u5f15\u6570\u3092\u5909\u3048\u306a\u304c\u3089\u671f\u5f85\u5024\u3092\u78ba\u304b\u3081\u3066\u3044\u304d\u307e\u3059\u3002\n\u305d\u308c\u3067\u306f\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n- \u5b9f\u884c\u7d50\u679c  \n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-05-25 2.29.22.png](https://qiita-image-store.s3.amazonaws.com/0/39330/4d6885c4-b78c-a24b-839e-e8c5cb5a6e5a.png)\n\n\u3044\u3044\u611f\u3058\u3067\u3059\u306d\u3002\n\u4e00\u5fdc\u30b3\u30ab\u3057\u3066\u3082\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u30d3\u30fc\u30d5\u3092\u30dd\u30fc\u30af\u306b\u5909\u3048\u3066\u307f\u307e\u3059\u3002\uff13\u3064\u76ee\u306e\u30c6\u30b9\u30c8\u306ebeef\u3092pork\u306b\u5909\u3048\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n- \u5b9f\u884c\u7d50\u679c  \n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-05-25 2.29.58.png](https://qiita-image-store.s3.amazonaws.com/0/39330/88003707-45ea-323b-0f6a-3cbcc7dab136.png)\n\n\n\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u304f\u308c\u307e\u3057\u305f\u3002\n\u3053\u3053\u307e\u3067\u306f\u7c21\u5358\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\n## \u8efd\u4f9d\u5b58\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u30c6\u30b9\u30c8\n\u3055\u3066\u3001\u3044\u3088\u3044\u3088\u672c\u984c\u3067\u3059\u3002\n\u4f9d\u5b58\u95a2\u4fc2\u304c\u73fe\u308c\u305f\u6642\u3001\u3069\u306e\u3088\u3046\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u5358\u4f53\u3067\u30c6\u30b9\u30c8\u3057\u3066\u3044\u304f\u306e\u304b\u3092\u307f\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u4eca\u5ea6\u306f\u3055\u3063\u304d\u306e\u98df\u3079\u7269\u3092\u98df\u3079\u308b\u4e3b\u4f53\u8005\u3068\u3057\u3066\u30cd\u30b3\u3092\u767b\u5834\u3055\u305b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n`src/Cat.js`\u3068`spec/CatSpec.js`\u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u72b6\u614b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```text:\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c4\u30ea\u30fc\n.\n\u251c\u2500\u2500 jasmine-runner.js\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 spec\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 CatSpec.js\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 FoodSpec.js\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 support\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 jasmine.json\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 Cat.js\n    \u2514\u2500\u2500 Food.js\n```\n\n\u305d\u308c\u3067\u306f\u30b3\u30fc\u30c9\u3092\u307f\u3066\u3044\u304d\u307e\u3059\u3002\n\n```js:src/Cat.js\nvar Cat = function (name) {\n  this.name = name ? name : 'Tama';\n  this.weight = 5;\n};\nCat.prototype.eat = function (food) {\n  this.weight += food.weight;\n};\nmodule.exports = Cat;\n```\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u540d\u524d\u306fTama\u3060\u3088\u3001\u3068\u304b\u5165\u3063\u3066\u307e\u3059\u304c\u6ce8\u76ee\u3059\u3079\u304d\u3068\u3053\u308d\u306feat\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\n\u5f15\u6570\u306bFood\u3092\u3068\u3063\u3066\u3001\u98df\u3063\u305f\u5206\u3060\u3051\u30cd\u30b3\u306e\u4f53\u91cd\u304c\u5897\u52a0\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3055\u3066\u3001\u3069\u306e\u3088\u3046\u306b\u5358\u4f53\u3067\u30c6\u30b9\u30c8\u3067\u304d\u308b\u3088\u3046\u89e3\u6c7a\u3059\u3079\u304d\u304b\u3002\n\u3061\u3068\u8003\u3048\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n**Hint:\u3053\u3053\u3067Cat\u3092\u8efd\u4f9d\u5b58\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u306e\u306fFood\u30e2\u30b8\u30e5\u30fc\u30eb\u3092require\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u306b\u8d77\u56e0\u3057\u3066\u3044\u307e\u3059\u3002\n\u672c\u5f53\u306eFood\u306f\u5fc5\u8981\u304b\u2026\uff1f**\n\n\u305d\u308c\u3067\u306f`spec/CatSpec.js`\u3092\u307f\u3066\u3044\u304d\u307e\u3057\u3087\u3046\n\n```js:spec/CatSpec.js\nvar Cat = require('../src/Cat');\n\ndescribe('Cat', function () {\n  describe('.constructor()', function() {\n\n    it('\u30c7\u30d5\u30a9\u30eb\u30c8\u540d\u524d\u306fTama\u306b\u306a\u308b\u3079\u3057', function () {\n      expect(new Cat().name).toBe('Tama');\n    });\n\n    it('\u540d\u524d\u3092\u6307\u5b9a\u3059\u308c\u3070\u305d\u306e\u540d\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u3079\u3057', function () {\n      expect(new Cat('Mike').name).toBe('Mike');\n    });\n\n    it('\u6700\u521d\u306e\u4f53\u91cd\u306f5\u3068\u306a\u308b\u3079\u3057', function () {\n      expect(new Cat().weight).toBe(5);\n    });\n  });\n\n  describe('.eat()', function() {\n    it('\u98df\u3079\u7269\u306eweigh\u3060\u3051\u30cd\u30b3\u306e\u4f53\u91cd\u304c\u5897\u52a0\u3059\u3079\u3057', function () {\n      var c1 = new Cat();\n      var c2 = new Cat();\n      c1.eat({weight: 8});\n      expect(c1.weight - c2.weight).toBe(8);\n    });\n  });\n});\n```\n\n\u4e00\u756a\u4e0b\u306eeat\u30e1\u30bd\u30c3\u30c9\u306e\u30c6\u30b9\u30c8\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\n\u8981\u306fweiht\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u6570\u5024\u3092\u6301\u3063\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5f15\u6570\u3068\u3057\u3066\u6e21\u3057\u3066\u3042\u3052\u308c\u3070\u3044\u3044\u308f\u3051\u3067\u3059\u306d\u3002\n\u306a\u3093\u3060\u3001\u5927\u3057\u305f\u3053\u3068\u306a\u3044\u306d\u3047\u3002\u306a\u3093\u3066\u601d\u3044\u306a\u304c\u3089\u4e00\u5fdc\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u3042\u3001\u30dd\u30fc\u30af\u306e\u4ef6\u306f\u5143\u306b\u623b\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\n\n- \u5b9f\u884c\u7d50\u679c  \n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-05-25 2.31.27.png](https://qiita-image-store.s3.amazonaws.com/0/39330/78b65f74-3548-8eb0-0aed-5aa566231dfc.png)\n\n\n## \u91cd\u4f9d\u5b58\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u30c6\u30b9\u30c8\n\u305d\u308c\u3067\u306f\u4eca\u56de\u306e\u672c\u4e38\u3067\u3059\u3002\n**\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u3067\u4ed6\u30e2\u30b8\u30e5\u30fc\u30eb\u3092require\u3057\u3066\u3001\u30e1\u30bd\u30c3\u30c9\u30b3\u30fc\u30eb\u3057\u3066\u3044\u305f\u5834\u5408\u3067\u3059\u3002**\n\u3053\u3053\u3067\u30cd\u30b3\u306e\u3053\u3068\u306a\u3089\u306a\u3093\u3067\u3082\u304a\u4efb\u305b\u3001CatService\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u767b\u5834\u3055\u305b\u307e\u3059\u3002\n\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u5916\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u306e\u30b3\u30fc\u30eb\u3067\u30cd\u30b3\u306b\u95a2\u3059\u308b\u4f9d\u983c\u3092\u3044\u308d\u3044\u308d\u627f\u308a\u307e\u3059\u3002\n`src/CatService.js`\u3068`spec/CatServiceSpec.js`\u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u72b6\u614b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```text:\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c4\u30ea\u30fc\n.\n\u251c\u2500\u2500 jasmine-runner.js\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 spec\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 CatServiceSpec.js\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 CatSpec.js\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 FoodSpec.js\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 support\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 jasmine.json\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 CatService.js\n    \u251c\u2500\u2500 Cat.js\n    \u2514\u2500\u2500 Food.js\n```\n\n\u305d\u308c\u3067\u306f`src/CatService.js`\u3092\u307f\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n```js:src/CatService.js\nvar Cat = require('./Cat');\nvar Food = require('./Food');\n\nfunction CatService() {\n  this.cats = {};\n}\n\n// \u304a\u6cca\u307e\u308a\u30b5\u30fc\u30d3\u30b9\u3092\u3084\u3063\u3066\u3044\u307e\u3059\nCatService.prototype.checkin = function (cat) {\n  this.cats[cat.name] = cat;\n};\nCatService.prototype.checkout = function (name) {\n  var cat = this.cats[name];\n  delete this.cats[name];\n  return cat;\n};\n\n// \u4f9d\u983c\u3055\u308c\u305f\u732b\u306b\u6307\u5b9a\u306e\u990c\u3092\u3042\u3052\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3059\nCatService.prototype.feed = function (name, foodName) {\n  this.cats[name].eat(new Food(foodName));\n};\n\n// \u732b\u3092\u7523\u3093\u3067\u304a\u5ba2\u69d8\u306b\u5dee\u3057\u4e0a\u3052\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3059\nCatService.prototype.yield = function (name) {\n  return new Cat(name);\n};\n\nmodule.exports = CatService;\n```\n\n\u306f\u3044\u3001\u30d0\u30ea\u30d0\u30ea\u4f9d\u5b58(require)\u3057\u3066\u3044\u307e\u3059\u3002\n\u7279\u306bfeed\u30e1\u30bd\u30c3\u30c9\u3001yield\u30e1\u30bd\u30c3\u30c9\u306b\u95a2\u3057\u3066\u306f`new`\u307e\u3067\u3057\u3061\u3083\u3063\u3066\u308b\u306e\u3067CatSpec.js\u306e\u6642\u306e\u3088\u3046\u306a\u8aa4\u9b54\u5316\u3057\u306f\u52b9\u304d\u307e\u305b\u3093\u3002\n\u3044\u3084\u3055\u3001\u305d\u306e\u96e3\u984c\u3001\u8aa4\u9b54\u5316\u3057\u304d\u3063\u3066\u307f\u3088\u3046\u3058\u3083\u306a\u3044\u3063\u3059\u304b\uff01\n\n\u3042\u3068\u88dc\u8db3\u3067\u30e1\u30e2\u5165\u308c\u3066\u304a\u304d\u307e\u3059\u3002\n**\u5bfe\u8c61\u30e2\u30b8\u30e5\u30fc\u30eb\u4ee5\u5916\u306e\u30c6\u30b9\u30c8\u306f\u3057\u306a\u304f\u3066\u826f\u3044\u3002\u4f8b\u3048\u3070Cat\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u540d\u304cTama\u3060\u3068\u304beat\u3059\u308b\u3068\u4f53\u91cd\u304c\u5897\u3048\u308b\u3068\u304b\u306f\u3053\u3053\u3067\u30c6\u30b9\u30c8\u305b\u305a\u306bCatSpec\u306b\u4efb\u305b\u308c\u3070\u826f\u3044\u3002**\n\n### rewire\u3067\u30e2\u30c3\u30af\u6ce8\u5165\n\u306f\u3044\u3001\u3053\u3053\u3067\u6700\u521d\u306bnpm\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u3044\u305f`rewire`\u304c\u767b\u5834\u3057\u307e\u3059\u3002\n`rewire`\u306f\u306a\u306b\u304c\u5b09\u3057\u3044\u3093\u3067\u3057\u3087\u3046\u3002\n**\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u53c2\u7167\u3057\u3066\u3044\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30e2\u30c3\u30af\u3092\u6ce8\u5165\u3067\u304d\u308b\u3002\n\u3059\u306a\u308f\u3061CatService\u304c\u53c2\u7167\u3059\u308bCat\u3084Food\u3092\u5fc5\u8981\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3060\u3051\u6301\u3063\u305f\u7c21\u6613\u306aCat\u30e2\u30c3\u30af\u3001Food\u30e2\u30c3\u30af\u306b\u5dee\u3057\u66ff\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002**\u3000\u3046\u3049\u3049\n\u4f7f\u3044\u65b9\u306f\u3044\u305f\u3063\u3066\u7c21\u5358\u3002\u30ec\u30b7\u30d4\u3092\u4e0b\u8a18\u306b\u66f8\u304d\u6dfb\u3048\u307e\u3059\u3002\n\n> 1. `rewire`\u3092require\u3057\u307e\u3059\n> 2. \u30c6\u30b9\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092`require`\u3067\u306f\u306a\u304f`rewire(Module)`\u3067\u53d6\u308a\u8fbc\u307f\u307e\u3059\n> 3. `Module.__set__('\u5dee\u3057\u66ff\u3048\u305f\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u540d', \u5dee\u3057\u66ff\u3048\u305f\u3044\u30e2\u30b8\u30e5\u30fc\u30eb)`\u3092\u5b9f\u884c\u3057\u307e\u3059\n\n\u4ee5\u4e0a\u3067\u3059\u3002\u7c21\u5358\u305d\u3046\u3067\u3059\u306d\uff01\n\n### jasmine + rewire\u3067\u3042\u304f\u307e\u3067\u5358\u4f53\u30e2\u30b8\u30e5\u30fc\u30eb\u30c6\u30b9\u30c8\n\u305d\u308c\u3067\u306f`spec/CatServiceSpec.js`\u306e\u5b9f\u88c5\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```js:spec/CatServiceSpec.js\nvar rewire = require('rewire'),\n    CatService = rewire('../src/CatService');\n\ndescribe('CatService', function () {\n  var service = new CatService(),\n      // \u30cd\u30b3\u30e2\u30c3\u30af\n      Cat = function (name) {\n        this.name = name;\n        this.weight = 5;\n        this.eat = function(food){};\n      },\n      // \u98df\u3044\u7269\u30e2\u30c3\u30af\n      Food = function(weight) {\n        this.weight = weight;\n      };\n  // \u30e2\u30c3\u30af\u6ce8\u5165\uff01\n  CatService.__set__('Cat', Cat);\n  CatService.__set__('Food', Food);\n\n  describe('.checkin()', function () {\n    beforeEach(function() {\n      // \u691c\u67fb\u3054\u3068\u306bservice\u3092\u521d\u671f\u5316\n      service = new CatService();\n    });\n\n    it('\u5225\u540d\u306e\u30cd\u30b3\u30922\u5339\u6cca\u3081\u305f\u3089cats\u306b\u306f\uff12\u5339\u3044\u308b\u3079\u3057', function () {\n      service.checkin(new Cat('Tama'));\n      service.checkin(new Cat('Mike'));\n      expect(Object.keys(service.cats).length).toBe(2);\n    });\n\n    it('\u540c\u540d\u306e\u30cd\u30b3\u306e\u304a\u6cca\u307e\u308a\u306f\u6b8b\u5ff5\u306a\u304c\u3089\u53d7\u3051\u4ed8\u3051\u306c\u3079\u3057', function () {\n      service.checkin(new Cat('Mike'));\n      service.checkin(new Cat('Mike'));\n      expect(Object.keys(service.cats).length).toBe(1);\n    });\n  });\n\n  describe('.checkout()', function() {\n    // \u3042\u3048\u3066beforeEach\u305b\u305a\u306b\u76f4\u4e0a\u306e\u72b6\u614b\u3092\u5f15\u304d\u7d99\u3044\u3067\u307f\u308b\n\n    it('\u6307\u5b9a\u3057\u305f\u30cd\u30b3\u3092\u8fd4\u5374\u3059\u3079\u3057', function() {\n      var returnedCat;\n      service.checkin(new Cat('Tama'));\n      returnedCat = service.checkout('Tama');\n      // Mike\u3060\u3051\u304c\u6b8b\u3063\u3066\u308b\u306f\u305a\n      expect(Object.keys(service.cats).length).toBe(1);\n      expect(Object.keys(service.cats)[0]).toBe('Mike');\n      // Tama\u304c\u8fd4\u5374\u3055\u308c\u308b\u306f\u305a\n      expect(returnedCat.name).toBe('Tama');\n    })\n  });\n\n  describe('.feed()', function () {\n    beforeEach(function() {\n      service = new CatService();\n    });\n\n    it('Cat.eat\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u3079\u3057', function () {\n      var mike = new Cat('Mike');\n      spyOn(mike, 'eat');\n      service.checkin(mike);\n      service.feed('Mike', new Food(3));\n      expect(mike.eat).toHaveBeenCalled();\n    });\n  });\n\n  describe('.yield()', function () {\n    it('\u65b0\u3057\u3044\u30cd\u30b3\u3092\u751f\u6210\u3059\u3079\u3057', function () {\n      expect(service.yield('Mike') instanceof Cat).toBeTruthy();\n    });\n  });\n});\n```\n\n\u4e0a\u306e\u65b9\u3067Cat\u30e2\u30c3\u30af\u3068Food\u30e2\u30c3\u30af\u3092\u751f\u6210\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066`__set__`\u30e1\u30bd\u30c3\u30c9\u3067CatService\u306bCat\u30e2\u30c3\u30af\u3068Food\u30e2\u30c3\u30af\u3092\u6ce8\u5165\u3057\u3066\u3044\u307e\u3059\u3002\n\u3042\u3068\u306f\u3055\u3082\u3001\u81ea\u5206\u304c\u66f8\u3044\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5143\u306bCat\u3068Food\u304c\u3042\u308b\u304b\u306e\u3088\u3046\u306bCatService\u3092\u30c6\u30b9\u30c8\u3059\u308b\u30b3\u30fc\u30c9\u3092\u66f8\u3051\u3070\u826f\u3044\u306e\u3067\u3059\u3002\n\u4e00\u5fdc\u3001\u65b0\u3057\u304f\u767b\u5834\u3057\u305fjasmine\u306e\u30e1\u30bd\u30c3\u30c9\u3082\u53d6\u308a\u4e0a\u3052\u3066\u304a\u304d\u307e\u3059\u3002\n\n- `beforeEach`: `describe`\u5185\u306e\u5404it\u5b9f\u884c\u524d\u306b\u5171\u901a\u306e\u521d\u671f\u5316\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\u547c\u3070\u306a\u304b\u3063\u305f\u5834\u5408\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u72b6\u614b\u306f\u6b21\u306b\u6301\u3061\u8d8a\u3055\u308c\u307e\u3059\u3002\n- `spyOn`: \u7b2c\u4e00\u5f15\u6570\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u3001\u7b2c\u4e8c\u5f15\u6570\u306b\u305d\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30e1\u30bd\u30c3\u30c9\u540d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u6307\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u8de1\u3057\u307e\u3059\u3002\n- `Expectation.toHaveBeenCalled`: `spyOn`\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u305f\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n- `Expectation.toBeTruthy`: true\u3067\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n\u3055\u3066\u3001\u30c6\u30b9\u30c8\u5b9f\u884c\u3057\u3066\u307f\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u304c\u3053\u306e\u307e\u307e\u3060\u3068Cat\u3084Food\u304c\u666e\u901a\u306b\u4f7f\u308f\u308c\u3061\u3083\u3063\u3066\u308b\u304b\u3082\u308f\u304b\u308a\u307e\u305b\u3093\u3002\n**Cat\u3068Food\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30b3\u30fc\u30c9\u306f\u5927\u80c6\u306b\u5168\u3066\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3061\u3083\u3044\u307e\u3057\u3087\u3046\uff01**\n\u3055\u3066\u3001\u5b9f\u884c\u3002\n\n- \u5b9f\u884c\u7d50\u679c  \n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-05-25 2.26.00.png](https://qiita-image-store.s3.amazonaws.com/0/39330/99728fc5-1002-8006-4610-c3c4e7842eea.png)\n\n\u306f\u3044\u3001Cat\u3068Food\u306e\u30c6\u30b9\u30c8\u306f\u30ac\u30c3\u30c4\u30ea\u5931\u6557\u3057\u3066\u307e\u3059\u304cCatService\u306e\u30c6\u30b9\u30c8\u306f\u30aa\u30fc\u30eb\u30b0\u30ea\u30fc\u30f3\u3067\u3059\uff01\n\u3053\u308c\u306fCatService\u306e\u5358\u4f53\u30e2\u30b8\u30e5\u30fc\u30eb\u30c6\u30b9\u30c8\u304c\u3046\u307e\u304f\u3044\u3063\u3066\u308b\u8a3c\u3067\u3059\u3002\n\n---\n\n# Jasmine\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u304a\u3055\u3089\u3044\n\n\u6700\u5f8c\u306b\u4eca\u56de\u767b\u5834\u3057\u305fJasmine\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u898b\u3084\u3059\u3044\u3088\u3046\u306b\u6539\u3081\u3066\u5168\u90e8\u307e\u3068\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\n|\u30e1\u30bd\u30c3\u30c9|\u5185\u5bb9|\n|---|---|\n| `describe`| \u7b2c\u4e00\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u3059\u3079\u304d\u5185\u5bb9\u306e\u5927\u67a0\u306e\u8aac\u660e\u6587\u5b57\u5217\u3001\u7b2c\u4e8c\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u5165\u308c\u7269\u306b\u306a\u308a\u307e\u3059\u3002`describe`\u306f\u5165\u308c\u5b50\u306b\u3067\u304d\u307e\u3059\u3002|\n| `it`| \u7b2c\u4e00\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u3059\u3079\u304d\u5185\u5bb9\u306e\u8a73\u7d30\u8aac\u660e\u3002\u7b2c\u4e8c\u5f15\u6570\u304c\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002|\n| `beforeEach`| `describe`\u5185\u306e\u5404it\u5b9f\u884c\u524d\u306b\u5171\u901a\u306e\u521d\u671f\u5316\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\u547c\u3070\u306a\u304b\u3063\u305f\u5834\u5408\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u72b6\u614b\u306f\u6b21\u306b\u6301\u3061\u8d8a\u3055\u308c\u307e\u3059\u3002|\n| `spyOn`| \u7b2c\u4e00\u5f15\u6570\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u3001\u7b2c\u4e8c\u5f15\u6570\u306b\u305d\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30e1\u30bd\u30c3\u30c9\u540d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u6307\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u8de1\u3057\u307e\u3059\u3002|\n| `expect`| \u671f\u5f85\u5024\u3092\u8868\u3059`Expectation`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u30c6\u30b9\u30c8\u3059\u308b\u305f\u3081\u5f15\u6570\u306e\u5185\u5bb9\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002|\n| `Expectation.toBe`| `===`\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3044\u307e\u3059\u3002\u4ed6\u306b\u3082toXX\u3067\u69d8\u3005\u306a\u30c1\u30a7\u30c3\u30af\u304c\u3067\u304d\u307e\u3059\u3002|\n| `Expectation.toBeTruthy`| true\u3067\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002|\n| `Expectation.toHaveBeenCalled`| `spyOn`\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u305f\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002|\n\n\n\u4eca\u56de\u306f\u4ee5\u4e0a\u3067\u3059\u3002\n\u6b21\u56de\u306f\u30d6\u30e9\u30a6\u30b6\u3084DOM\u3067\u3069\u3046\u3084\u3063\u3066\u30c6\u30b9\u30c8\u3059\u308b\u3093\u3060\u30fc\u3068\u3044\u3046\u3042\u305f\u308a\u3092\u307e\u3068\u3081\u3066\u3044\u304d\u305f\u3044\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n\n", "tags": ["JavaScript", "jasmine", "rewrite", "Node.js", "npm"]}