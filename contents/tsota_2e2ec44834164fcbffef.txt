{"tags": ["Watson", "bot", "Facebook", "FacebookMessengerBot", "Bluemix"], "context": "\u524d\u56de\u306e\u6295\u7a3f\uff08\u4f1a\u8a71\u30a8\u30f3\u30b8\u30f3\u306bWatson Conversation\u3092\u4f7f\u3063\u305fSlack bot\u3092\u4f5c\u3063\u3066\u307f\u305f\uff09\u306e\u7d9a\u7de8\u3067\u3059\u3002\nbotkit-middleware\u3092\u4f7f\u3063\u3066\u3001\u4f1a\u8a71\u30a8\u30f3\u30b8\u30f3\u306bWatson Conversation\u3092\u4f7f\u7528\u3057\u305fFacebook Messenger Bot\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u3053\u306e\u6295\u7a3f\u3067\u306f\u3001\u305d\u306e\u4f5c\u6210\u624b\u9806\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u306a\u308a\u307e\u3059\u3002\n1. Watson Conversation\u306eWorkspace\u306e\u4f5c\u6210\n2. Facebook\u30da\u30fc\u30b8\u306e\u4f5c\u6210\n3. Facebook\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n4. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Bluemix\u3078\u30c7\u30d7\u30ed\u30a4\n5. Facebook\u30a2\u30d7\u30ea\u306eWebhooks\u306e\u8a2d\u5b9a\n\nFacebook Messenger\u306eBot\u3068\u306f\nFacebook Messenger\u306eBot\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n* 5\u5206\u3067\u308f\u304b\u308bFacebook Messenger Platform\u306eBot\u6982\u8981\n* Messenger\u3067\u7c21\u5358\u306aBot\u3064\u304f\u308b(Facebook Messenger Platform from F8)\n* \u30b8\u30e3\u30b9\u30c830\u5206\uff01FB\u30e1\u30c3\u30bb\u30f3\u30b8\u30e3\u30fcbot\u3092\u3068\u308a\u3042\u3048\u305a\u4f5c\u3063\u3066\u307f\u308b\u624b\u9806\u307e\u3068\u3081\n\n1. Watson Conversation\u306eWorkspace\u306e\u4f5c\u6210\n\u4ee5\u4e0b\u306e\u524d\u56de\u8a18\u4e8b\u306e\"1. Watson Conversation\u306eWorkspace\u306e\u4f5c\u6210\"\u3092\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u524d\u56de\u3068\u540c\u3058\u4f1a\u8a71\u5b9a\u7fa9\u3092\u4f7f\u3044\u307e\u3059\u3002 \nWorkspace\u4f5c\u6210\u5f8c\u3001Watson Conversation\u306eworkspace_id\u3001username\u3001password\u306f\u5f8c\u307b\u3069\u4f7f\u7528\u3057\u307e\u3059\u306e\u3067\u63a7\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n\u524d\u56de\u8a18\u4e8b\uff1a\u4f1a\u8a71\u30a8\u30f3\u30b8\u30f3\u306bWatson Conversation\u3092\u4f7f\u3063\u305fSlack bot\u3092\u4f5c\u3063\u3066\u307f\u305f\n\n2. Facebook\u30da\u30fc\u30b8\u4f5c\u6210\n\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u304b\u3089Facebook\u306e\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u4efb\u610f\u306e\u8a2d\u5b9a\u3067Facebook\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nhttps://www.facebook.com/pages/create.php\n\n3. Facebook\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u304b\u3089Facebook\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u53f3\u4e0a\u306e\u300c\u30de\u30a4\u30a2\u30d7\u30ea\u300d\u3092\u9078\u629e\u3057\u3001\u300c\u65b0\u3057\u3044\u30a2\u30d7\u30ea\u3092\u8ffd\u52a0\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\nhttps://developers.facebook.com/\n\n\u4efb\u610f\u306e\u540d\u524d\u3067Facebook\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30ab\u30c6\u30b4\u30ea\u3082\u4efb\u610f\u3067\u3059\u3002\n\u300c\u30a2\u30d7\u30eaID\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nFacebook\u30a2\u30d7\u30ea\u306e\u300c\u88fd\u54c1\u3092\u8ffd\u52a0\u300d\u306e\u753b\u9762\u3067Messenger\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002Messenger\u306e\u53f3\u5074\u306e\u300c\u30b9\u30bf\u30fc\u30c8\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n\u300c\u30b9\u30bf\u30fc\u30c8\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n\u6b21\u306b\u30c8\u30fc\u30af\u30f3\u751f\u6210\u3092\u884c\u3044\u307e\u3059\u3002Facebook\u30da\u30fc\u30b8\u3092\u9078\u629e\u3057\u3001\u30da\u30fc\u30b8\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u3053\u306e\u30c8\u30fc\u30af\u30f3\u306f\u5f8c\u307b\u3069\u4f7f\u7528\u3057\u307e\u3059\u306e\u3067\u63a7\u3048\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u307e\u305f\u3001Facebook\u30a2\u30d7\u30ea\u306eapp secret\u3082\u5f8c\u307b\u3069\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u300c\u8a2d\u5b9a\u300d\u2192\u300c\u30d9\u30fc\u30b7\u30c3\u30af\u300d\u306e\u753b\u9762\u304b\u3089\u78ba\u8a8d\u3057\u3066\u63a7\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u3053\u3053\u3067\u4e00\u65e6Facebook\u304b\u3089\u96e2\u308c\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Bluemix\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002\n\n4. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Bluemix\u3078\u30c7\u30d7\u30ed\u30a4\nbotkit-middleware\u306e\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u4eca\u56de\u4f7f\u7528\u3059\u308bmulti-bot\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\ngit clone https://github.com/watson-developer-cloud/botkit-middleware.git\ncd botkit-middleware\\examples\\multi-bot\n\n\u3053\u306e\u6295\u7a3f\u4f5c\u6210\u6642\u306b\u306f\u3001multi-bot\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306epackage.json\u306e\"botkit-middleware-watson\"\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u304c\"^0.0.1\"\u306e\u307e\u307e\u3067\u306f\u52d5\u304b\u306a\u304b\u3063\u305f\u305f\u3081\u3001\"^1.0.0\"\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n\npackage.json(\u4fee\u6b63\u5f8c)\n{\n  \"name\": \"botkit-middleware-watson-multi-bot-example\",\n  \"version\": \"0.0.1\",\n  \"description\": \"Multiple social channel bot example using botkit-middleware-watson with Botkit.\",\n  \"main\": \"server.js\",\n  \"scripts\": {\n    \"start\": \"node server.js\"\n  },\n  \"license\": \"Apache-2.0\",\n  \"dependencies\": {\n    \"body-parser\": \"^1.15.2\",\n    \"botkit\": \"^0.2.2\",\n    \"dotenv\": \"^2.0.0\",\n    \"express\": \"^4.13.4\",\n    \"botkit-middleware-watson\": \"^1.0.0\"\n  }\n}\n\n\nmulti-bot\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e.env\u30d5\u30a1\u30a4\u30eb\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\u5909\u66f4\u5185\u5bb9\n\n2,3,4\u884c\u76ee\uff1aWatson Conversation\u306eusername,password,workspace_id\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n10\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3057\u3001Facebook\u30a2\u30d7\u30ea\u306e\u30da\u30fc\u30b8\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n11\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3057\u3001\u4efb\u610f\u306e\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u5f8c\u306e\u30b9\u30c6\u30c3\u30d7\uff08Webhooks\u306e\u8a2d\u5b9a\uff09\u3067\u4f7f\u7528\u3059\u308b\u306e\u3067\u63a7\u3048\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n12\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3057\u3001Facebook\u30a2\u30d7\u30ea\u306eapp secret\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n22\u884c\u76ee\uff1aUSE_SLACK=true\u3092\u30b3\u30e1\u30f3\u30c8\u306b\u3057\u307e\u3059\u3002\n23\u884c\u76ee\uff1aUSE_FACEBOOK=true\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3057\u307e\u3059\u3002\n\n.env\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u30a4\u30e1\u30fc\u30b8\n\npackage.json\u3001.env\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u304c\u7d42\u308f\u3063\u305f\u3089\u3001multi-bot\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066Bluemix\u3078\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002<app_name>\u90e8\u5206\u306fBluemix\u4e0a\u3067\u4ed6\u306e\u30a2\u30d7\u30ea\u3068\u88ab\u3089\u306a\u3044\u4efb\u610f\u306e\u540d\u524d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\ncf push -b sdk-for-nodejs -m 256M <app_name>\n\n\u4ee5\u4e0b\u306f\u3001\u4e0a\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u306e\u7d50\u679c\uff08state\u304crunnig\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u6b63\u5e38\u306b\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\uff09\nrequested state: started\ninstances: 1/1\nusage: 256M x 1 instances\nurls: xxxxxx.mybluemix.net\nlast uploaded: Tue Nov 1 13:58:32 UTC 2016\nstack: unknown\nbuildpack: sdk-for-nodejs\n\n     state     since                    cpu    memory           disk           details\n#0   running   2016-11-01 10:59:40 PM   0.0%   113.5M of 256M   125.5M of 1G\n\n\n\n5. Facebook\u30a2\u30d7\u30ea\u306eWebhooks\u306e\u8a2d\u5b9a\n\u518d\u3073\u3001Facebook\u30a2\u30d7\u30ea\u306b\u623b\u308aWebhooks\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u300cWebhooks\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30afURL\u306b\u306f\u3001\u300cbluemix\u30a2\u30d7\u30ea\u306eURL + /facebook/receive\u300d\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u30c8\u30fc\u30af\u30f3\u3092\u78ba\u8a8d\u306b\u306f\u3001.env\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3057\u305fFB_VERIFY_TOKEN\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u300cmesseges\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3001\u300c\u78ba\u8a8d\u3057\u3066\u4fdd\u5b58\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\nWebhooks\u306e\u8a2d\u5b9a\u306e\u4e2d\u306bpage\u306esubscribe\u8a2d\u5b9a\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308b\u306e\u3067\u3001\u30da\u30fc\u30b8\u3092\u9078\u629e\u3057\u3066\u300c\u30d5\u30a9\u30ed\u30fc\u300d\u30dc\u30bf\u30f3\u3092\u304a\u3057\u307e\u3059\u3002\n\n\u4f5c\u6210\u3057\u305fFacebook\u30da\u30fc\u30b8\u3092\u63a2\u3057\u3066\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u4f1a\u8a71\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u3001\u4f1a\u8a71\u30a8\u30f3\u30b8\u30f3\u306bWatson Conversation\u3092\u4f7f\u3063\u305fFacebook Messenger bot\u304c\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\n\u524d\u56de\u306e\u6295\u7a3f\uff08[\u4f1a\u8a71\u30a8\u30f3\u30b8\u30f3\u306bWatson Conversation\u3092\u4f7f\u3063\u305fSlack bot\u3092\u4f5c\u3063\u3066\u307f\u305f](http://qiita.com/tsota/items/497513585f069386626f \"\u4f1a\u8a71\u30a8\u30f3\u30b8\u30f3\u306bWatson Conversation\u3092\u4f7f\u3063\u305fSlack bot\u3092\u4f5c\u3063\u3066\u307f\u305f\")\uff09\u306e\u7d9a\u7de8\u3067\u3059\u3002\n[botkit-middleware](https://github.com/watson-developer-cloud/botkit-middleware \"botkit-middleware\")\u3092\u4f7f\u3063\u3066\u3001\u4f1a\u8a71\u30a8\u30f3\u30b8\u30f3\u306bWatson Conversation\u3092\u4f7f\u7528\u3057\u305fFacebook Messenger Bot\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u3053\u306e\u6295\u7a3f\u3067\u306f\u3001\u305d\u306e\u4f5c\u6210\u624b\u9806\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u306a\u308a\u307e\u3059\u3002\n1. Watson Conversation\u306eWorkspace\u306e\u4f5c\u6210\n2. Facebook\u30da\u30fc\u30b8\u306e\u4f5c\u6210\n3. Facebook\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n4. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Bluemix\u3078\u30c7\u30d7\u30ed\u30a4\n5. Facebook\u30a2\u30d7\u30ea\u306eWebhooks\u306e\u8a2d\u5b9a\n\n## Facebook Messenger\u306eBot\u3068\u306f\nFacebook Messenger\u306eBot\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n* [5\u5206\u3067\u308f\u304b\u308bFacebook Messenger Platform\u306eBot\u6982\u8981](http://qiita.com/kpkpkp/items/bc9f6fa161d612fe496c \"5\u5206\u3067\u308f\u304b\u308bFacebook Messenger Platform\u306eBot\u6982\u8981\")\n* [Messenger\u3067\u7c21\u5358\u306aBot\u3064\u304f\u308b(Facebook Messenger Platform from F8)](http://qiita.com/pochi-sato/items/f3f5598e36c1fa92d840 \"Messenger\u3067\u7c21\u5358\u306aBot\u3064\u304f\u308b(Facebook Messenger Platform from F8)\")\n* [\u30b8\u30e3\u30b9\u30c830\u5206\uff01FB\u30e1\u30c3\u30bb\u30f3\u30b8\u30e3\u30fcbot\u3092\u3068\u308a\u3042\u3048\u305a\u4f5c\u3063\u3066\u307f\u308b\u624b\u9806\u307e\u3068\u3081](https://bita.jp/dml/facebookbot_exp \"\u30b8\u30e3\u30b9\u30c830\u5206\uff01FB\u30e1\u30c3\u30bb\u30f3\u30b8\u30e3\u30fcbot\u3092\u3068\u308a\u3042\u3048\u305a\u4f5c\u3063\u3066\u307f\u308b\u624b\u9806\u307e\u3068\u3081\")\n\n## 1. Watson Conversation\u306eWorkspace\u306e\u4f5c\u6210\n\u4ee5\u4e0b\u306e\u524d\u56de\u8a18\u4e8b\u306e\"1. Watson Conversation\u306eWorkspace\u306e\u4f5c\u6210\"\u3092\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u524d\u56de\u3068\u540c\u3058\u4f1a\u8a71\u5b9a\u7fa9\u3092\u4f7f\u3044\u307e\u3059\u3002 \nWorkspace\u4f5c\u6210\u5f8c\u3001**Watson Conversation\u306eworkspace_id\u3001username\u3001password\u306f\u5f8c\u307b\u3069\u4f7f\u7528\u3057\u307e\u3059\u306e\u3067\u63a7\u3048\u3066\u304a\u304d\u307e\u3059\u3002**\n\u524d\u56de\u8a18\u4e8b\uff1a[\u4f1a\u8a71\u30a8\u30f3\u30b8\u30f3\u306bWatson Conversation\u3092\u4f7f\u3063\u305fSlack bot\u3092\u4f5c\u3063\u3066\u307f\u305f](http://qiita.com/tsota/items/497513585f069386626f \"\u4f1a\u8a71\u30a8\u30f3\u30b8\u30f3\u306bWatson Conversation\u3092\u4f7f\u3063\u305fSlack bot\u3092\u4f5c\u3063\u3066\u307f\u305f\")\n\n## 2. Facebook\u30da\u30fc\u30b8\u4f5c\u6210\n\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u304b\u3089Facebook\u306e\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u4efb\u610f\u306e\u8a2d\u5b9a\u3067Facebook\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nhttps://www.facebook.com/pages/create.php\n\n## 3. Facebook\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u304b\u3089Facebook\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u53f3\u4e0a\u306e\u300c\u30de\u30a4\u30a2\u30d7\u30ea\u300d\u3092\u9078\u629e\u3057\u3001\u300c\u65b0\u3057\u3044\u30a2\u30d7\u30ea\u3092\u8ffd\u52a0\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\nhttps://developers.facebook.com/\n\n\n![F1.png](https://qiita-image-store.s3.amazonaws.com/0/103795/94b41287-cb87-b61c-c175-e99030d9506d.png)\n\n\u4efb\u610f\u306e\u540d\u524d\u3067Facebook\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30ab\u30c6\u30b4\u30ea\u3082\u4efb\u610f\u3067\u3059\u3002\n\u300c\u30a2\u30d7\u30eaID\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n![F2.PNG](https://qiita-image-store.s3.amazonaws.com/0/103795/2979aabf-441c-7d7c-34af-686e36bc3bfa.png)\n\nFacebook\u30a2\u30d7\u30ea\u306e\u300c\u88fd\u54c1\u3092\u8ffd\u52a0\u300d\u306e\u753b\u9762\u3067Messenger\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002Messenger\u306e\u53f3\u5074\u306e\u300c\u30b9\u30bf\u30fc\u30c8\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n![F3.PNG](https://qiita-image-store.s3.amazonaws.com/0/103795/826587bc-bab4-9146-d13c-c12d2c7a5086.png)\n\n\u300c\u30b9\u30bf\u30fc\u30c8\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n![F4.PNG](https://qiita-image-store.s3.amazonaws.com/0/103795/c688d43f-1a8a-73f8-a7cb-3634d8af5810.png)\n\n\u6b21\u306b\u30c8\u30fc\u30af\u30f3\u751f\u6210\u3092\u884c\u3044\u307e\u3059\u3002Facebook\u30da\u30fc\u30b8\u3092\u9078\u629e\u3057\u3001\u30da\u30fc\u30b8\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u751f\u6210\u3057\u307e\u3059\u3002**\u3053\u306e\u30c8\u30fc\u30af\u30f3\u306f\u5f8c\u307b\u3069\u4f7f\u7528\u3057\u307e\u3059\u306e\u3067\u63a7\u3048\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002**\n![F5.PNG](https://qiita-image-store.s3.amazonaws.com/0/103795/5a4d5c38-b83c-4453-1195-e3330e6643fe.png)\n\n\u307e\u305f\u3001**Facebook\u30a2\u30d7\u30ea\u306eapp secret\u3082\u5f8c\u307b\u3069\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u300c\u8a2d\u5b9a\u300d\u2192\u300c\u30d9\u30fc\u30b7\u30c3\u30af\u300d\u306e\u753b\u9762\u304b\u3089\u78ba\u8a8d\u3057\u3066\u63a7\u3048\u3066\u304a\u304d\u307e\u3059\u3002**\n![F10.PNG](https://qiita-image-store.s3.amazonaws.com/0/103795/0c297cc2-28bf-53a9-47c5-6c84e5f3c51d.png)\n\n\n\n\u3053\u3053\u3067\u4e00\u65e6Facebook\u304b\u3089\u96e2\u308c\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Bluemix\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002\n\n## 4. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Bluemix\u3078\u30c7\u30d7\u30ed\u30a4\n\nbotkit-middleware\u306e\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u4eca\u56de\u4f7f\u7528\u3059\u308bmulti-bot\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\ngit clone https://github.com/watson-developer-cloud/botkit-middleware.git\ncd botkit-middleware\\examples\\multi-bot\n```\n\n\u3053\u306e\u6295\u7a3f\u4f5c\u6210\u6642\u306b\u306f\u3001multi-bot\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306epackage.json\u306e\"botkit-middleware-watson\"\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u304c\"^0.0.1\"\u306e\u307e\u307e\u3067\u306f\u52d5\u304b\u306a\u304b\u3063\u305f\u305f\u3081\u3001\"^1.0.0\"\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n\n```json:package.json(\u4fee\u6b63\u5f8c)\n{\n  \"name\": \"botkit-middleware-watson-multi-bot-example\",\n  \"version\": \"0.0.1\",\n  \"description\": \"Multiple social channel bot example using botkit-middleware-watson with Botkit.\",\n  \"main\": \"server.js\",\n  \"scripts\": {\n    \"start\": \"node server.js\"\n  },\n  \"license\": \"Apache-2.0\",\n  \"dependencies\": {\n    \"body-parser\": \"^1.15.2\",\n    \"botkit\": \"^0.2.2\",\n    \"dotenv\": \"^2.0.0\",\n    \"express\": \"^4.13.4\",\n    \"botkit-middleware-watson\": \"^1.0.0\"\n  }\n}\n```\nmulti-bot\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e.env\u30d5\u30a1\u30a4\u30eb\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\u5909\u66f4\u5185\u5bb9\n>2,3,4\u884c\u76ee\uff1aWatson Conversation\u306eusername,password,workspace_id\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n>10\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3057\u3001Facebook\u30a2\u30d7\u30ea\u306e\u30da\u30fc\u30b8\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n>11\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3057\u3001\u4efb\u610f\u306e\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u5f8c\u306e\u30b9\u30c6\u30c3\u30d7\uff08Webhooks\u306e\u8a2d\u5b9a\uff09\u3067\u4f7f\u7528\u3059\u308b\u306e\u3067\u63a7\u3048\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n>12\u884c\u76ee\uff1a\u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3057\u3001Facebook\u30a2\u30d7\u30ea\u306eapp secret\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n>22\u884c\u76ee\uff1aUSE_SLACK=true\u3092\u30b3\u30e1\u30f3\u30c8\u306b\u3057\u307e\u3059\u3002\n>23\u884c\u76ee\uff1aUSE_FACEBOOK=true\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3057\u307e\u3059\u3002\n\n.env\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u30a4\u30e1\u30fc\u30b8\n![F1.png](https://qiita-image-store.s3.amazonaws.com/0/103795/3525d758-4d3f-ff11-de20-a206b3cba73a.png)\n\n\npackage.json\u3001.env\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u304c\u7d42\u308f\u3063\u305f\u3089\u3001multi-bot\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066Bluemix\u3078\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002\\<app_name\\>\u90e8\u5206\u306fBluemix\u4e0a\u3067\u4ed6\u306e\u30a2\u30d7\u30ea\u3068\u88ab\u3089\u306a\u3044\u4efb\u610f\u306e\u540d\u524d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```\ncf push -b sdk-for-nodejs -m 256M <app_name>\n\n\u4ee5\u4e0b\u306f\u3001\u4e0a\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u306e\u7d50\u679c\uff08state\u304crunnig\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u6b63\u5e38\u306b\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\uff09\nrequested state: started\ninstances: 1/1\nusage: 256M x 1 instances\nurls: xxxxxx.mybluemix.net\nlast uploaded: Tue Nov 1 13:58:32 UTC 2016\nstack: unknown\nbuildpack: sdk-for-nodejs\n\n     state     since                    cpu    memory           disk           details\n#0   running   2016-11-01 10:59:40 PM   0.0%   113.5M of 256M   125.5M of 1G\n\n```\n## 5. Facebook\u30a2\u30d7\u30ea\u306eWebhooks\u306e\u8a2d\u5b9a\n\u518d\u3073\u3001Facebook\u30a2\u30d7\u30ea\u306b\u623b\u308aWebhooks\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u300cWebhooks\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n![F7.PNG](https://qiita-image-store.s3.amazonaws.com/0/103795/082793b3-90d0-e80c-88f4-a924570a661d.png)\n\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30afURL\u306b\u306f\u3001\u300cbluemix\u30a2\u30d7\u30ea\u306eURL + **/facebook/receive**\u300d\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u30c8\u30fc\u30af\u30f3\u3092\u78ba\u8a8d\u306b\u306f\u3001.env\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3057\u305fFB_VERIFY_TOKEN\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u300cmesseges\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3001\u300c\u78ba\u8a8d\u3057\u3066\u4fdd\u5b58\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n![F8.PNG](https://qiita-image-store.s3.amazonaws.com/0/103795/15a046d4-424f-d4b1-1297-9492fa033373.png)\n\n\n\nWebhooks\u306e\u8a2d\u5b9a\u306e\u4e2d\u306bpage\u306esubscribe\u8a2d\u5b9a\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308b\u306e\u3067\u3001\u30da\u30fc\u30b8\u3092\u9078\u629e\u3057\u3066\u300c\u30d5\u30a9\u30ed\u30fc\u300d\u30dc\u30bf\u30f3\u3092\u304a\u3057\u307e\u3059\u3002\n![F9.PNG](https://qiita-image-store.s3.amazonaws.com/0/103795/60cf2ce3-bef9-6a0a-b68a-64204c7b359b.png)\n\n\n\u4f5c\u6210\u3057\u305fFacebook\u30da\u30fc\u30b8\u3092\u63a2\u3057\u3066\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u4f1a\u8a71\u304c\u3067\u304d\u307e\u3059\u3002\n![Screenshot_20161102-014458.png](https://qiita-image-store.s3.amazonaws.com/0/103795/c2b5df36-36fc-5ca6-8c08-736c11b28932.png)\n\n\u3053\u308c\u3067\u3001\u4f1a\u8a71\u30a8\u30f3\u30b8\u30f3\u306bWatson Conversation\u3092\u4f7f\u3063\u305fFacebook Messenger bot\u304c\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\n"}