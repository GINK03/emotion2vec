{"tags": ["oracle"], "context": "\n\n\u5185\u5bb9\nOracle\u306ealert.log\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u65e5\u6642\u304c\u5206\u304b\u308a\u306b\u304f\u3044\u3002\n<\u65e5\u66421>\n<  \u2026\u60c5\u58311\u2026  >\n<  \u2026\u60c5\u58312\u2026  >\n<  \u2026\u60c5\u58313\u2026  >\n<\u65e5\u66422>\n<  \u2026\u60c5\u58314\u2026  >\n<\u65e5\u66423>\n<  \u2026\u60c5\u58315\u2026  >\n<  \u2026\u60c5\u58316\u2026  >\n\n\u5206\u304b\u308a\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u6574\u5f62\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u4f5c\u6210\u3059\u308b\u3002\n<\u65e5\u66421> <  \u2026\u60c5\u58311\u2026  >\n<\u65e5\u66421> <  \u2026\u60c5\u58312\u2026  >\n<\u65e5\u66421> <  \u2026\u60c5\u58313\u2026  >\n<\u65e5\u66422> <  \u2026\u60c5\u58314\u2026  >\n<\u65e5\u66423> <  \u2026\u60c5\u58315\u2026  >\n<\u65e5\u66423> <  \u2026\u60c5\u58316\u2026  >\n\n\n\u30b3\u30de\u30f3\u30c9\nawk 'begin{t=\"--fail--\"}; {if (match($0, /^... ... .. ..:..:.. ....$/)){t=$0} else {printf(\"%s | %s\\n\",t,$0)}}' [\u30a2\u30e9\u30fc\u30c8\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u540d]\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u74b0\u5883\n- OS:Red Hat Enterprise Linux Server release 7.2 (Maipo)\n- Oracle:Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production\n\u52d5\u4f5c\u78ba\u8a8d\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d\u3092TEST\u3068\u3057\u3001\u30a2\u30e9\u30fc\u30c8\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u540d\u3092alert_TEST.log\u3068\u3059\u308b\u3002\n\u25bc \u5909\u63db\u524d\u306ealert_TEST.log\u306e\u5185\u5bb9\nSat Sep 03 15:31:58 2016\nalter pluggable database all open\nSat Sep 03 15:32:27 2016\nDatabase Characterset for PDB1 is AL32UTF8\nSat Sep 03 15:32:27 2016\nDatabase Characterset for PDB2 is AL32UTF8\nOpening pdb PDB2 (4) with no Resource Manager plan active\nPluggable database PDB2 opened read write\nSat Sep 03 15:32:36 2016\nOpening pdb PDB1 (3) with no Resource Manager plan active\nPluggable database PDB1 opened read write\nCompleted: alter pluggable database all open\n\n\u25bc \u5b9f\u884c\nawk 'begin{t=\"\"}; {if (match($0, /^... ... .. ..:..:.. ....$/)){t=$0} else {printf(\"%s | %s\\n\",t,$0)}}' alert_TEST.log\n\n\u25bc \u7d50\u679c\nSat Sep 03 15:31:58 2016 | alter pluggable database all open\nSat Sep 03 15:32:27 2016 | Database Characterset for PDB1 is AL32UTF8\nSat Sep 03 15:32:27 2016 | Database Characterset for PDB2 is AL32UTF8\nSat Sep 03 15:32:27 2016 | Opening pdb PDB2 (4) with no Resource Manager plan active\nSat Sep 03 15:32:27 2016 | Pluggable database PDB2 opened read write\nSat Sep 03 15:32:36 2016 | Opening pdb PDB1 (3) with no Resource Manager plan active\nSat Sep 03 15:32:36 2016 | Pluggable database PDB1 opened read write\nSat Sep 03 15:32:36 2016 | Completed: alter pluggable database all open\n\n\n\u305d\u306e\u4ed6\n\u25bc tail\u3067\u4f7f\u7528\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\ntail -f alert_TEST.log | awk 'begin{t=\"--\"}; {if (match($0, /^... ... .. ..:..:.. ....$/)){t=$0} else {printf(\"%s | %s\\n\",t,$0)}}'\n\n\u25bc grep\u306a\u3069\u3067\u306e\u60c5\u5831\u53d6\u5f97\u6642\u3001\u65e5\u6642\u304c\u51fa\u308b\u306e\u3067\u308f\u304b\u308a\u3084\u3059\u3044\u3002\nawk 'begin{t=\"--\"}; {if (match($0, /^... ... .. ..:..:.. ....$/)){t=$0} else {printf(\"%s | %s\\n\",t,$0)}}' alert_TEST.log | grep  -e 'Starting ORACLE instance' -e 'Instance shutdown complete'\n\n\u4ee5\u4e0a\n\n\n## \u5185\u5bb9\n\nOracle\u306ealert.log\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u65e5\u6642\u304c\u5206\u304b\u308a\u306b\u304f\u3044\u3002\n\n```\n<\u65e5\u66421>\n<  \u2026\u60c5\u58311\u2026  >\n<  \u2026\u60c5\u58312\u2026  >\n<  \u2026\u60c5\u58313\u2026  >\n<\u65e5\u66422>\n<  \u2026\u60c5\u58314\u2026  >\n<\u65e5\u66423>\n<  \u2026\u60c5\u58315\u2026  >\n<  \u2026\u60c5\u58316\u2026  >\n```\n\n\u5206\u304b\u308a\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u6574\u5f62\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<\u65e5\u66421> <  \u2026\u60c5\u58311\u2026  >\n<\u65e5\u66421> <  \u2026\u60c5\u58312\u2026  >\n<\u65e5\u66421> <  \u2026\u60c5\u58313\u2026  >\n<\u65e5\u66422> <  \u2026\u60c5\u58314\u2026  >\n<\u65e5\u66423> <  \u2026\u60c5\u58315\u2026  >\n<\u65e5\u66423> <  \u2026\u60c5\u58316\u2026  >\n```\n\n\n## \u30b3\u30de\u30f3\u30c9\n\n```bash:\nawk 'begin{t=\"--fail--\"}; {if (match($0, /^... ... .. ..:..:.. ....$/)){t=$0} else {printf(\"%s | %s\\n\",t,$0)}}' [\u30a2\u30e9\u30fc\u30c8\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u540d]\n```\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\n\u74b0\u5883\n- OS:Red Hat Enterprise Linux Server release 7.2 (Maipo)\n- Oracle:Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d\u3092TEST\u3068\u3057\u3001\u30a2\u30e9\u30fc\u30c8\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u540d\u3092alert_TEST.log\u3068\u3059\u308b\u3002\n\n\u25bc \u5909\u63db\u524d\u306ealert_TEST.log\u306e\u5185\u5bb9\n\n```\nSat Sep 03 15:31:58 2016\nalter pluggable database all open\nSat Sep 03 15:32:27 2016\nDatabase Characterset for PDB1 is AL32UTF8\nSat Sep 03 15:32:27 2016\nDatabase Characterset for PDB2 is AL32UTF8\nOpening pdb PDB2 (4) with no Resource Manager plan active\nPluggable database PDB2 opened read write\nSat Sep 03 15:32:36 2016\nOpening pdb PDB1 (3) with no Resource Manager plan active\nPluggable database PDB1 opened read write\nCompleted: alter pluggable database all open\n```\n\n\u25bc \u5b9f\u884c\n\n```bash:\nawk 'begin{t=\"\"}; {if (match($0, /^... ... .. ..:..:.. ....$/)){t=$0} else {printf(\"%s | %s\\n\",t,$0)}}' alert_TEST.log\n```\n\n\u25bc \u7d50\u679c\n\n```\nSat Sep 03 15:31:58 2016 | alter pluggable database all open\nSat Sep 03 15:32:27 2016 | Database Characterset for PDB1 is AL32UTF8\nSat Sep 03 15:32:27 2016 | Database Characterset for PDB2 is AL32UTF8\nSat Sep 03 15:32:27 2016 | Opening pdb PDB2 (4) with no Resource Manager plan active\nSat Sep 03 15:32:27 2016 | Pluggable database PDB2 opened read write\nSat Sep 03 15:32:36 2016 | Opening pdb PDB1 (3) with no Resource Manager plan active\nSat Sep 03 15:32:36 2016 | Pluggable database PDB1 opened read write\nSat Sep 03 15:32:36 2016 | Completed: alter pluggable database all open\n```\n\n## \u305d\u306e\u4ed6\n\n\u25bc tail\u3067\u4f7f\u7528\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\n\n```bash:\ntail -f alert_TEST.log | awk 'begin{t=\"--\"}; {if (match($0, /^... ... .. ..:..:.. ....$/)){t=$0} else {printf(\"%s | %s\\n\",t,$0)}}'\n```\n\n\u25bc grep\u306a\u3069\u3067\u306e\u60c5\u5831\u53d6\u5f97\u6642\u3001\u65e5\u6642\u304c\u51fa\u308b\u306e\u3067\u308f\u304b\u308a\u3084\u3059\u3044\u3002\n\n```bash:\nawk 'begin{t=\"--\"}; {if (match($0, /^... ... .. ..:..:.. ....$/)){t=$0} else {printf(\"%s | %s\\n\",t,$0)}}' alert_TEST.log | grep  -e 'Starting ORACLE instance' -e 'Instance shutdown complete'\n```\n\n\n\u4ee5\u4e0a\n\n\n\n\n"}