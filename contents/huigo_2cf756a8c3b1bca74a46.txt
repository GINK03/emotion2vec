{"tags": ["JavaScript", "vue.js"], "context": "\n\n\u306f\u3058\u3081\u306b\nVue.js\u306f\u8efd\u91cf\u3067\u3059\u304c\u3001\u6570\u4e07\u4ef6\u306e\u30ea\u30b9\u30c8\u3092\u4e26\u3079\u308b\u3068\u305d\u308a\u3083\u666e\u901a\u306b\u3064\u3089\u3044\u3002\n\u3060\u304b\u3089\u76ee\u306b\u898b\u3048\u308b\u3068\u3053\u4ee5\u5916\u306fdom\u63cf\u3044\u3066\u3082\u3089\u3046\u306e\u3084\u3081\u308b\u3063\u3066\u30b3\u30fc\u30c9\u3067\u3059\u3002\n\n\u30c7\u30e2\n\u30c7\u30e2(jsfiddle)\n\n\u30b3\u30fc\u30c9\n\nhtml\n<div id=\"app\">\n <div style=\"overflow:auto;height:170px;\"\n      @scroll=\"getScrollParam\">\n  <ul :style=\"listStyle\">\n    <li style=\"height:17px\" \n        v-for=\"num in displayList\">{{num}}</li>\n  </ul>\n </div>\n</div>\n\n\n\njavascript\nnew Vue({\n    el: '#app',\n    data: function(){\n      return {\n        list:list,\n        scroll:0,//\u30b9\u30af\u30ed\u30fc\u30eb\u91cf\n        scrollMax: (list.length - displayRowNum) * listItemHeight //\u6700\u5927\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u91cf\n      }\n    },\n    computed:{\n      displayList:function(){\n        //\u30e6\u30fc\u30b6\u30fc\u306e\u76ee\u306b\u6620\u308b\u3068\u3053\u308d\u3060\u3051\u30ea\u30b9\u30c8\u3092\u63cf\u753b\u3059\u308b\n        var startIndex = parseInt(this.scroll/listItemHeight,10);\n        return this.list.slice(startIndex,startIndex+displayRowNum);\n      },\n      listStyle:function(){\n        //dom\u3092\u4e26\u3079\u308b\u4ee3\u308f\u308a\u306bpadding\u3067\u30c0\u30df\u30fc\u306e\u9ad8\u3055\u3092\u51fa\u3059\n        return {\n         'padding-top':this.scroll + 'px',\n         'padding-bottom':(this.scrollMax - this.scroll) + 'px',\n         'margin':0\n        }\n      }\n    },\n    methods:{\n        getScrollParam:function(e){\n          this.scroll = e.target.scrollTop;\n        }\n    }\n})\n\n\n\n\u304a\u308f\u308a\u306b\n\u308f\u304b\u308a\u3084\u3059\u3055\u306e\u305f\u3081\u306b\u898b\u3048\u3066\u308b\u9577\u3055\u3061\u3087\u3046\u3069\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3057\u307e\u3057\u305f\u304c\u3001\n2,3\u500d\u306e\u9577\u3055\u306b\u3057\u305f\u307b\u3046\u304c\u30b9\u30af\u30ed\u30fc\u30eb\u6642\u306b\u3061\u3089\u3064\u304b\u306a\u304f\u3066\u826f\u3044\u3067\u3059\u3002\n\u3042\u3068\u5b9f\u969b\u4f7f\u3046\u6642\u306f\u30af\u30ed\u30b9\u30d6\u30e9\u30a6\u30b6\u306e\u305f\u3081\u306b\u30b9\u30af\u30ed\u30fc\u30eb\u91cf\u3084\u9ad8\u3055\u306e\u53d6\u5f97\u306b\u8abf\u6574\u304c\u5fc5\u8981\u3067\u3059\u3002\n#\u306f\u3058\u3081\u306b\nVue.js\u306f\u8efd\u91cf\u3067\u3059\u304c\u3001\u6570\u4e07\u4ef6\u306e\u30ea\u30b9\u30c8\u3092\u4e26\u3079\u308b\u3068\u305d\u308a\u3083\u666e\u901a\u306b\u3064\u3089\u3044\u3002\n\u3060\u304b\u3089\u76ee\u306b\u898b\u3048\u308b\u3068\u3053\u4ee5\u5916\u306fdom\u63cf\u3044\u3066\u3082\u3089\u3046\u306e\u3084\u3081\u308b\u3063\u3066\u30b3\u30fc\u30c9\u3067\u3059\u3002\n\n#\u30c7\u30e2\n[\u30c7\u30e2(jsfiddle)](https://jsfiddle.net/tf0aLybk/)\n\n#\u30b3\u30fc\u30c9\n```html:html\n<div id=\"app\">\n <div style=\"overflow:auto;height:170px;\"\n      @scroll=\"getScrollParam\">\n  <ul :style=\"listStyle\">\n    <li style=\"height:17px\" \n        v-for=\"num in displayList\">{{num}}</li>\n  </ul>\n </div>\n</div>\n```\n```javascript:javascript\nnew Vue({\n    el: '#app',\n    data: function(){\n      return {\n      \tlist:list,\n        scroll:0,//\u30b9\u30af\u30ed\u30fc\u30eb\u91cf\n        scrollMax: (list.length - displayRowNum) * listItemHeight //\u6700\u5927\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u91cf\n      }\n    },\n    computed:{\n      displayList:function(){\n        //\u30e6\u30fc\u30b6\u30fc\u306e\u76ee\u306b\u6620\u308b\u3068\u3053\u308d\u3060\u3051\u30ea\u30b9\u30c8\u3092\u63cf\u753b\u3059\u308b\n      \tvar startIndex = parseInt(this.scroll/listItemHeight,10);\n        return this.list.slice(startIndex,startIndex+displayRowNum);\n      },\n      listStyle:function(){\n        //dom\u3092\u4e26\u3079\u308b\u4ee3\u308f\u308a\u306bpadding\u3067\u30c0\u30df\u30fc\u306e\u9ad8\u3055\u3092\u51fa\u3059\n      \treturn {\n         'padding-top':this.scroll + 'px',\n         'padding-bottom':(this.scrollMax - this.scroll) + 'px',\n         'margin':0\n        }\n      }\n    },\n    methods:{\n    \tgetScrollParam:function(e){\n      \t  this.scroll = e.target.scrollTop;\n        }\n    }\n})\n```\n\n#\u304a\u308f\u308a\u306b\n\u308f\u304b\u308a\u3084\u3059\u3055\u306e\u305f\u3081\u306b\u898b\u3048\u3066\u308b\u9577\u3055\u3061\u3087\u3046\u3069\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3057\u307e\u3057\u305f\u304c\u3001\n2,3\u500d\u306e\u9577\u3055\u306b\u3057\u305f\u307b\u3046\u304c\u30b9\u30af\u30ed\u30fc\u30eb\u6642\u306b\u3061\u3089\u3064\u304b\u306a\u304f\u3066\u826f\u3044\u3067\u3059\u3002\n\u3042\u3068\u5b9f\u969b\u4f7f\u3046\u6642\u306f\u30af\u30ed\u30b9\u30d6\u30e9\u30a6\u30b6\u306e\u305f\u3081\u306b\u30b9\u30af\u30ed\u30fc\u30eb\u91cf\u3084\u9ad8\u3055\u306e\u53d6\u5f97\u306b\u8abf\u6574\u304c\u5fc5\u8981\u3067\u3059\u3002\n"}