{"tags": ["awscli", "AWS"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u524d\u63d0\u6761\u4ef6\n\nawscli\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\njq\u30b3\u30de\u30f3\u30c9\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d\u304b\u3089ENI\u3092\u8abf\u3079\u308b\naws ec2 describe-instances --filter \"Name=tag:Name,Values=\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eName\" | jq -r '.Reservations[].Instances[].NetworkInterfaces[].NetworkInterfaceId'\n\n\nENI\u306b\u30bb\u30ab\u30f3\u30c0\u30eaIP\u3092\u4ed8\u4e0e\u3059\u308b\naws ec2 assign-private-ip-addresses --network-interface \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9ID --private-ip-addresses IP\u30a2\u30c9\u30ec\u30b9\n\n\n\u30b3\u30de\u30f3\u30c9\u4e00\u767a\u3067\u30bb\u30ab\u30f3\u30c0\u30eaIP\u3092\u4ed8\u4e0e\u3059\u308b\naws ec2 assign-private-ip-addresses --network-interface $(aws ec2 describe-instances --filter \"Name=tag:Name,Values=\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eName\" | jq -r '.Reservations[].Instances[].NetworkInterfaces[].NetworkInterfaceId') --private-ip-addresses IP\u30a2\u30c9\u30ec\u30b9\n\n\n\u30bb\u30ab\u30f3\u30c0\u30eaIP\u306e\u5272\u308a\u5f53\u3066\u3092\u89e3\u9664\u3059\u308b\naws ec2 unassign-private-ip-addresses --network-interface \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9ID --private-ip-addresses IP\u30a2\u30c9\u30ec\u30b9\n\n\n## \u524d\u63d0\u6761\u4ef6\n\n- awscli\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\n- jq\u30b3\u30de\u30f3\u30c9\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\n\n## \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d\u304b\u3089ENI\u3092\u8abf\u3079\u308b\n\n```bash\naws ec2 describe-instances --filter \"Name=tag:Name,Values=\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eName\" | jq -r '.Reservations[].Instances[].NetworkInterfaces[].NetworkInterfaceId'\n```\n\n## ENI\u306b\u30bb\u30ab\u30f3\u30c0\u30eaIP\u3092\u4ed8\u4e0e\u3059\u308b\n\n```bash\naws ec2 assign-private-ip-addresses --network-interface \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9ID --private-ip-addresses IP\u30a2\u30c9\u30ec\u30b9\n```\n\n## \u30b3\u30de\u30f3\u30c9\u4e00\u767a\u3067\u30bb\u30ab\u30f3\u30c0\u30eaIP\u3092\u4ed8\u4e0e\u3059\u308b\n\n```bash\naws ec2 assign-private-ip-addresses --network-interface $(aws ec2 describe-instances --filter \"Name=tag:Name,Values=\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eName\" | jq -r '.Reservations[].Instances[].NetworkInterfaces[].NetworkInterfaceId') --private-ip-addresses IP\u30a2\u30c9\u30ec\u30b9\n```\n\n## \u30bb\u30ab\u30f3\u30c0\u30eaIP\u306e\u5272\u308a\u5f53\u3066\u3092\u89e3\u9664\u3059\u308b\n\n```bash\naws ec2 unassign-private-ip-addresses --network-interface \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9ID --private-ip-addresses IP\u30a2\u30c9\u30ec\u30b9\n```\n"}