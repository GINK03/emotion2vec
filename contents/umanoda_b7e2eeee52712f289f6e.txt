{"context": " More than 1 year has passed since last update.User.where(created_at: (1.days.ago)..(Time.now))\n# SELECT \"users\".* FROM \"users\"  WHERE \"users\".\"created_at\" BETWEEN '2014-09-16 15:05:05.279232' AND '2014-09-17 15:05:05.279753'\n\n# \u540c\u3058\nUser.where(created_at: [1.days.ago..Time.now])\n\n# Arel\u3092\u4f7f\u3046\nUser.where(User.arel_table[:created_at].in((1.days.ago)..(Time.now)))\n# SELECT \"users\".* FROM \"users\"  WHERE \"users\".\"created_at\" BETWEEN '2014-09-16 15:08:32.972344' AND '2014-09-17 15:08:32.972610'\n\n# Squeel\u3092\u4f7f\u3046\nUser.where{created_at.in (1.days.ago)..(Time.now)}\n# SELECT \"users\".* FROM \"users\"  WHERE \"users\".\"created_at\" BETWEEN '2014-09-16 15:06:01.120660' AND '2014-09-17 15:06:01.120867'\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306aSQL\u3092\u66f8\u304fAPI\u306f\u306a\u3055\u305d\u3046\uff1f\n-- \u4eca\u65e5\u304c\u6709\u52b9\u671f\u9650\u5185\nSELECT \"users\".*\n  FROM \"users\"\n WHERE \"2014-10-10\" BETWEEN stared_at AND ended_at\n\n\u2193\u3053\u3046\u66f8\u3051\u3070\u3044\u3044\u3093\u3058\u3083\u306a\u3044\uff1f\u3000\u3063\u3066\u3044\u3046\u8a18\u4e8b\u306a\u3089\u305f\u304f\u3055\u3093\u3042\u308a\u307e\u3057\u305f\ndate = Date.today\nUser.where{ stared_at.lte(date) & ended_at.gte(date) }\n\n\u4f59\u8ac7\n\u5229\u7528\u3057\u3066\u3044\u308bRDB\u7279\u6709\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u300c\u4eca\u65e5\u300d\u3092\u4f7f\u3046\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\u4f8b\u3048\u3070PostgreSQL\u306a\u3089current_date\u95a2\u6570\u3092\u4f7f\u3046\u3068\u4eca\u65e5\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u4f7f\u3044\u307e\u3059\u3002\nUser.where{ updated_at > `current_date`}                                                                                 \n# SELECT \"users\".* FROM \"users\"  WHERE \"users\".\"updated_at\" > current_date\n\n\n```rb\nUser.where(created_at: (1.days.ago)..(Time.now))\n# SELECT \"users\".* FROM \"users\"  WHERE \"users\".\"created_at\" BETWEEN '2014-09-16 15:05:05.279232' AND '2014-09-17 15:05:05.279753'\n\n# \u540c\u3058\nUser.where(created_at: [1.days.ago..Time.now])\n\n# Arel\u3092\u4f7f\u3046\nUser.where(User.arel_table[:created_at].in((1.days.ago)..(Time.now)))\n# SELECT \"users\".* FROM \"users\"  WHERE \"users\".\"created_at\" BETWEEN '2014-09-16 15:08:32.972344' AND '2014-09-17 15:08:32.972610'\n\n# Squeel\u3092\u4f7f\u3046\nUser.where{created_at.in (1.days.ago)..(Time.now)}\n# SELECT \"users\".* FROM \"users\"  WHERE \"users\".\"created_at\" BETWEEN '2014-09-16 15:06:01.120660' AND '2014-09-17 15:06:01.120867'\n\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306aSQL\u3092\u66f8\u304fAPI\u306f\u306a\u3055\u305d\u3046\uff1f\n\n```sql\n-- \u4eca\u65e5\u304c\u6709\u52b9\u671f\u9650\u5185\nSELECT \"users\".*\n  FROM \"users\"\n WHERE \"2014-10-10\" BETWEEN stared_at AND ended_at\n```\n\n\u2193\u3053\u3046\u66f8\u3051\u3070\u3044\u3044\u3093\u3058\u3083\u306a\u3044\uff1f\u3000\u3063\u3066\u3044\u3046\u8a18\u4e8b\u306a\u3089\u305f\u304f\u3055\u3093\u3042\u308a\u307e\u3057\u305f\n\n```rb\ndate = Date.today\nUser.where{ stared_at.lte(date) & ended_at.gte(date) }\n```\n\n\u4f59\u8ac7\n\n\u5229\u7528\u3057\u3066\u3044\u308bRDB\u7279\u6709\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u300c\u4eca\u65e5\u300d\u3092\u4f7f\u3046\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\u4f8b\u3048\u3070PostgreSQL\u306a\u3089`current_date`\u95a2\u6570\u3092\u4f7f\u3046\u3068\u4eca\u65e5\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u4f7f\u3044\u307e\u3059\u3002\n\n```rb\nUser.where{ updated_at > `current_date`}                                                                                 \n# SELECT \"users\".* FROM \"users\"  WHERE \"users\".\"updated_at\" > current_date\n\n", "tags": ["Rails4.1.4", "ActiveRecord4.1.4"]}