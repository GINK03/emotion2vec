{"tags": ["Tomcat", "Maven"], "context": " More than 1 year has passed since last update.\n\nTomcat\u306emanager\u6a5f\u80fd\u3092\u4f7f\u3063\u3066maven\u3067\u30c7\u30d7\u30ed\u30a4\u3059\u308b\n\u30c7\u30d7\u30ed\u30a4\u4f5c\u696d\u3092\u7c21\u7565\u5316\u3057\u3066\u697d\u306b\u958b\u767a\u3092\u884c\u3046\n\ntomcat-users.xml\u3092\u4fee\u6b63\u3057\u3066role\u3068user\u3092\u4f5c\u6210\u3059\u308b\n${TOMCAT_DIR}/conf/tomcat-users.xml\n\u79c1\u306e\u74b0\u5883\u3060\u3068/usr/share/tomcat/conf/tomcat-users.xml\n\n<tomcat-users>\n  <role rolename=\"manager-script\"/>\n  <user username=\"\u3042\u306a\u305f\u306e\u30e6\u30fc\u30b6\u30cd\u30fc\u30e0\" password=\"\u3042\u306a\u305f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092SHA-1\u3067\u6697\u53f7\u5316\u3057\u305f\u7269\" roles=\"manager-script\"/>\n</tomcat-users>\n\n\n\u30bf\u30b0\u306f\u5143\u3005\u3042\u308b\u306e\u3067\u3001\u4e2d\u3092\u8ffd\u52a0\u3059\u308b\n\npom.xml\u306btomcat7-maven-plugin\u8ffd\u52a0(6\u306a\u30896\u3092\u8ffd\u52a0)\n          <plugin>\n              <groupId>org.apache.tomcat.maven</groupId>\n              <artifactId>tomcat7-maven-plugin</artifactId>\n              <version>2.2</version>\n              <configuration>\n                  <server>\u9069\u5f53\u306a\u30b5\u30fc\u30d0\u540d</server>\n                  <url>http://localhost:8080/manager/text</url>\n              </configuration>\n          </plugin>\n\nserver.xml\u306bdigest='sha-1'\u8ffd\u52a0\n      <Realm className=\"org.apache.catalina.realm.LockOutRealm\">\n        <!-- This Realm uses the UserDatabase configured in the global JNDI\n             resources under the key \"UserDatabase\".  Any edits\n             that are performed against this UserDatabase are immediately\n             available for use by the Realm.  -->\n        <Realm className=\"org.apache.catalina.realm.UserDatabaseRealm\"\n               resourceName=\"UserDatabase\" digest=\"sha-1\"/>\n      </Realm>\n\nCatalina/localhost/manager.xml \n\n<Context path=\"/manager\" docBase=\"${catalina.home}/webapps/manager\"\n  debug=\"0\" privileged=\"true\">\n  <Valve\n    className=\"org.apache.catalina.valves.RemoteHostValve\"\n    allow=\"127.0.0.1|192.168.1.*\" />\n</Context> \n\nCatalina/localhost/host-manager.xml \n<Context path=\"/host-manager\" docBase=\"${catalina.home}/webapps/host-manager\"\n  debug=\"0\" privileged=\"true\">\n  <Valve\n    className=\"org.apache.catalina.valves.RemoteHostValve\"\n    allow=\"127.0.0.1|192.168.1.*\" />\n</Context> \n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u63a5\u7d9a\u306e\u70ba\u306e\u8a2d\u5b9a\u3092\u8a18\u8f09\u3059\u308b\n${.M2_HOME}/settings.xml\n\u306a\u3051\u308c\u3070\u4f5c\u308b\n<settings>\n  <servers>\n    <server>\n      <id>pom.xml\u306b\u66f8\u3044\u305f\u9069\u5f53\u306a\u30b5\u30fc\u30d0\u540d</id>\n      <username>\u3042\u306a\u305f\u306e\u30e6\u30fc\u30b6\u30cd\u30fc\u30e0</username>\n      <password>\u3042\u306a\u305f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9</password>\n    </server>\n  </servers>\n</settings>\n\n\u5f8c\u306f\u3001mvn tomcat7:deploy\u3067OK\n# Tomcat\u306emanager\u6a5f\u80fd\u3092\u4f7f\u3063\u3066maven\u3067\u30c7\u30d7\u30ed\u30a4\u3059\u308b\n\n\u30c7\u30d7\u30ed\u30a4\u4f5c\u696d\u3092\u7c21\u7565\u5316\u3057\u3066\u697d\u306b\u958b\u767a\u3092\u884c\u3046\n\n\n## tomcat-users.xml\u3092\u4fee\u6b63\u3057\u3066role\u3068user\u3092\u4f5c\u6210\u3059\u308b\n\n${TOMCAT_DIR}/conf/tomcat-users.xml\n\n\u79c1\u306e\u74b0\u5883\u3060\u3068/usr/share/tomcat/conf/tomcat-users.xml\n\n```\n\n<tomcat-users>\n  <role rolename=\"manager-script\"/>\n  <user username=\"\u3042\u306a\u305f\u306e\u30e6\u30fc\u30b6\u30cd\u30fc\u30e0\" password=\"\u3042\u306a\u305f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092SHA-1\u3067\u6697\u53f7\u5316\u3057\u305f\u7269\" roles=\"manager-script\"/>\n</tomcat-users>\n\n```\n\n<tomcat-users>\u30bf\u30b0\u306f\u5143\u3005\u3042\u308b\u306e\u3067\u3001\u4e2d\u3092\u8ffd\u52a0\u3059\u308b\n\n\n## pom.xml\u306btomcat7-maven-plugin\u8ffd\u52a0(6\u306a\u30896\u3092\u8ffd\u52a0)\n\n```\n          <plugin>\n              <groupId>org.apache.tomcat.maven</groupId>\n              <artifactId>tomcat7-maven-plugin</artifactId>\n              <version>2.2</version>\n              <configuration>\n                  <server>\u9069\u5f53\u306a\u30b5\u30fc\u30d0\u540d</server>\n                  <url>http://localhost:8080/manager/text</url>\n              </configuration>\n          </plugin>\n```\n\nserver.xml\u306bdigest='sha-1'\u8ffd\u52a0\n\n```\n      <Realm className=\"org.apache.catalina.realm.LockOutRealm\">\n        <!-- This Realm uses the UserDatabase configured in the global JNDI\n             resources under the key \"UserDatabase\".  Any edits\n             that are performed against this UserDatabase are immediately\n             available for use by the Realm.  -->\n        <Realm className=\"org.apache.catalina.realm.UserDatabaseRealm\"\n               resourceName=\"UserDatabase\" digest=\"sha-1\"/>\n      </Realm>\n```\n\nCatalina/localhost/manager.xml \n```\n<Context path=\"/manager\" docBase=\"${catalina.home}/webapps/manager\"\n  debug=\"0\" privileged=\"true\">\n  <Valve\n    className=\"org.apache.catalina.valves.RemoteHostValve\"\n    allow=\"127.0.0.1|192.168.1.*\" />\n</Context> \n```\n\nCatalina/localhost/host-manager.xml \n\n```\n<Context path=\"/host-manager\" docBase=\"${catalina.home}/webapps/host-manager\"\n  debug=\"0\" privileged=\"true\">\n  <Valve\n    className=\"org.apache.catalina.valves.RemoteHostValve\"\n    allow=\"127.0.0.1|192.168.1.*\" />\n</Context> \n```\n\n\n## \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u63a5\u7d9a\u306e\u70ba\u306e\u8a2d\u5b9a\u3092\u8a18\u8f09\u3059\u308b\n\n\n${.M2_HOME}/settings.xml\n\u306a\u3051\u308c\u3070\u4f5c\u308b\n\n```\n<settings>\n  <servers>\n    <server>\n      <id>pom.xml\u306b\u66f8\u3044\u305f\u9069\u5f53\u306a\u30b5\u30fc\u30d0\u540d</id>\n      <username>\u3042\u306a\u305f\u306e\u30e6\u30fc\u30b6\u30cd\u30fc\u30e0</username>\n      <password>\u3042\u306a\u305f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9</password>\n    </server>\n  </servers>\n</settings>\n```\n\n\u5f8c\u306f\u3001mvn tomcat7:deploy\u3067OK\n\n\n\n\n"}