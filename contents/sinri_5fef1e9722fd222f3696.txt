{"context": " More than 1 year has passed since last update.UIView\u306edrawRect\u65b9\u6cd5\u3067\u5f79\u7acb\u3064\u30b3\u30fc\u30c9\n\u307e\u305a\u306f\u305d\u306eUIView\u306e\u672c\u4f53\u306b\u3042\u308bdrawRect:\u306e\u901a\u5e38\u30d1\u30bf\u30fc\u30f3\u3002\n- (void)drawRect:(CGRect)rect {\n    // context\u3092\u53d6\u5f97\n    CGContextRef context = UIGraphicsGetCurrentContext(); \n\n    //\u3000\u6b8b\u3063\u3066\u3044\u305f\u75d5\u8de1\u3092\u30af\u30ea\u30a2\n    CGContextClearRect(context, rect);\n\n    // \u80cc\u666f\u8272\u304c\u5fc5\u8981\u306a\u3089\u3053\u3053\u3067\u8a2d\u5b9a\n    UIColor * _boardColor = [UIColor whiteColor];\n\n    [self changeFillColorTo:(_boardColor) inContext:context];\n    [self changeStrokeColorTo:(_boardColor) inContext:context];\n\n    [self drawRect:rect inContent:context];\n\n    // \u76f4\u7dda\u306e\u7aef\u306e\u30b9\u30bf\u30a4\u30eb\u3002\u3053\u3053\u306f\u56db\u89d2\u3044\u304c\u3001\u5186\u5f62\u306b\u306a\u308b\u3082\u53ef\u80fd\n    CGContextSetLineCap(context, kCGLineCapSquare);\n    // \u76f4\u7dda\u306e\u5e45\u3092\u8a2d\u5b9a\n    CGContextSetLineWidth(context, 1.0);\n\n    // TODO: \u5177\u4f53\u7684\u306a\u63cf\u304f\u30b3\u30fc\u30c9\n}\n\n\u8272\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u306f\u3001\u63cf\u304f\u3053\u3068\u3088\u308a\u524d\u306b\u884c\u3046\u3079\u304d\u3002\n/**\n \u4ee5\u4e0b\u306e\u65b9\u6cd5\u306f\u3001\n[color setStroke];\n\u3068\u540c\u3058\u3067\u3059\u3002\n */\n-(void)changeStrokeColorTo:(UIColor*)color inContext:(CGContextRef)context{\n    const CGFloat* components = CGColorGetComponents(color.CGColor);\n    CGFloat red=components[0];\n    CGFloat green=components[1];\n    CGFloat blue=components[2];\n    CGFloat alpha=CGColorGetAlpha(color.CGColor);\n    CGContextSetRGBStrokeColor(context, red, green, blue, alpha);\n}\n\n/**\n \u4ee5\u4e0b\u306e\u65b9\u6cd5\u306f\u3001\n[color setFill];\n\u3068\u540c\u3058\u3067\u3059\u3002\n */\n-(void)changeFillColorTo:(UIColor*)color inContext:(CGContextRef)context{\n    const CGFloat* components = CGColorGetComponents(color.CGColor);\n    CGFloat red=components[0];\n    CGFloat green=components[1];\n    CGFloat blue=components[2];\n    CGFloat alpha=CGColorGetAlpha(color.CGColor);\n    CGContextSetRGBFillColor(context, red, green, blue, alpha);\n}\n\n\u70b9\u3092\u63cf\u304f\u3053\u3068\u3002\n-(void)drawPoint:(CGPoint)point inContext:(CGContextRef)context{\n    CGFloat pointSize=1;\n    CGContextFillEllipseInRect(context, CGRectMake(point.x, point.y, pointSize, pointSize));\n}\n\n-(void)drawKeyPoint:(CGPoint)point inContext:(CGContextRef)context{\n    // \u30ad\u30fc\u30dd\u30a4\u30f3\u30c8\u3060\u304b\u3089\u3001\u5341\u5b57\u306e\u7167\u6e96\u8a18\u53f7\u3092\u63cf\u304f\n    CGFloat targetCrossSize=5;\n\n    CGContextMoveToPoint(context, point.x-targetCrossSize, point.y);\n    CGContextAddLineToPoint(context, point.x+targetCrossSize, point.y);\n    CGContextStrokePath(context); \n\n    CGContextMoveToPoint(context, point.x, point.y-targetCrossSize);  \n    CGContextAddLineToPoint(context, point.x, point.y+targetCrossSize);  \n    CGContextStrokePath(context); \n}\n\n\u76f4\u7dda\u306f\u3001\u6307\u5b9a\u3059\u308b\u4e8c\u3064\u306e\u70b9\u306e\u9593\u306b\u9023\u63a5\u3059\u308b\u7dda\u3092\u63cf\u304f\u3002\n-(void)drawLineFrom:(CGPoint)startPoint to:(CGPoint)endPoint inContext:(CGContextRef) context {\n    // \u6307\u5b9a\u3059\u308b\u4e8c\u3064\u306e\u70b9\u306e\u9593\u306b\u9023\u63a5\u3059\u308b\u7dda\n    CGContextMoveToPoint(context, startPoint.x, startPoint.y);\n    CGContextAddLineToPoint(context, endPoint.x, endPoint.y); \n    CGContextStrokePath(context); \n}\n\n\u6307\u5b9a\u3059\u308b\u9577\u65b9\u5f62\u3092\u63cf\u304f\u3002\u5857\u3089\u308c\u308b\u306e\u306f\u4e2d\u8eab\u304b\u67a0\u304b\u306b\u3064\u3044\u3066\u3001\u4e8c\u3064\u306e\u65b9\u6cd5\u304c\u3042\u308b\u3002\n-(void)drawFilledRect:(CGRect)rect inContent:(CGContextRef)context{\n    CGContextFillRect(context, rect);\n}\n\n-(void)drawStrokedRect:(CGRect)rect inContent:(CGContextRef)context{\n    CGContextStrokeRect(context, rect);\n}\n\n\u6307\u5b9a\u3059\u308b\u5186\u5f62\u3092\u63cf\u304f\u3002\u5857\u3089\u308c\u308b\u306e\u306f\u4e2d\u8eab\u304b\u67a0\u304b\u306b\u3064\u3044\u3066\u3001\u4e8c\u3064\u306e\u65b9\u6cd5\u304c\u3042\u308b\u3002\n-(void)drawFilledCircleWithin:(CGRect)rect inContext:(CGContextRef)context{\n    CGContextFillEllipseInRect(context, rect); \n}\n\n-(void)drawStrokedCircleWithin:(CGRect)rect inContext:(CGContextRef)context{\n    CGContextStrokeEllipseInRect(context, rect);\n}\n\n\u52a9\u3051\u3066\u304f\u308c\u305ftakabosoft\u3055\u3093\u306b\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\nUIView\u306edrawRect\u65b9\u6cd5\u3067\u5f79\u7acb\u3064\u30b3\u30fc\u30c9\n\n\u307e\u305a\u306f\u305d\u306eUIView\u306e\u672c\u4f53\u306b\u3042\u308b`drawRect:`\u306e\u901a\u5e38\u30d1\u30bf\u30fc\u30f3\u3002\n\n    - (void)drawRect:(CGRect)rect {\n        // context\u3092\u53d6\u5f97\n        CGContextRef context = UIGraphicsGetCurrentContext(); \n        \n        //\u3000\u6b8b\u3063\u3066\u3044\u305f\u75d5\u8de1\u3092\u30af\u30ea\u30a2\n        CGContextClearRect(context, rect);\n        \n        // \u80cc\u666f\u8272\u304c\u5fc5\u8981\u306a\u3089\u3053\u3053\u3067\u8a2d\u5b9a\n        UIColor * _boardColor = [UIColor whiteColor];\n        \n        [self changeFillColorTo:(_boardColor) inContext:context];\n        [self changeStrokeColorTo:(_boardColor) inContext:context];\n        \n        [self drawRect:rect inContent:context];\n        \n        // \u76f4\u7dda\u306e\u7aef\u306e\u30b9\u30bf\u30a4\u30eb\u3002\u3053\u3053\u306f\u56db\u89d2\u3044\u304c\u3001\u5186\u5f62\u306b\u306a\u308b\u3082\u53ef\u80fd\n        CGContextSetLineCap(context, kCGLineCapSquare);\n        // \u76f4\u7dda\u306e\u5e45\u3092\u8a2d\u5b9a\n        CGContextSetLineWidth(context, 1.0);\n\n        // TODO: \u5177\u4f53\u7684\u306a\u63cf\u304f\u30b3\u30fc\u30c9\n    }\n    \n\u8272\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u306f\u3001\u63cf\u304f\u3053\u3068\u3088\u308a\u524d\u306b\u884c\u3046\u3079\u304d\u3002\n\n\t/**\n\t \u4ee5\u4e0b\u306e\u65b9\u6cd5\u306f\u3001\n    [color setStroke];\n    \u3068\u540c\u3058\u3067\u3059\u3002\n     */\n    -(void)changeStrokeColorTo:(UIColor*)color inContext:(CGContextRef)context{\n        const CGFloat* components = CGColorGetComponents(color.CGColor);\n        CGFloat red=components[0];\n        CGFloat green=components[1];\n        CGFloat blue=components[2];\n        CGFloat alpha=CGColorGetAlpha(color.CGColor);\n        CGContextSetRGBStrokeColor(context, red, green, blue, alpha);\n    }\n\n\t/**\n\t \u4ee5\u4e0b\u306e\u65b9\u6cd5\u306f\u3001\n    [color setFill];\n    \u3068\u540c\u3058\u3067\u3059\u3002\n     */\n    -(void)changeFillColorTo:(UIColor*)color inContext:(CGContextRef)context{\n        const CGFloat* components = CGColorGetComponents(color.CGColor);\n        CGFloat red=components[0];\n        CGFloat green=components[1];\n        CGFloat blue=components[2];\n        CGFloat alpha=CGColorGetAlpha(color.CGColor);\n        CGContextSetRGBFillColor(context, red, green, blue, alpha);\n    }\n\n\u70b9\u3092\u63cf\u304f\u3053\u3068\u3002\n\n    -(void)drawPoint:(CGPoint)point inContext:(CGContextRef)context{\n        CGFloat pointSize=1;\n        CGContextFillEllipseInRect(context, CGRectMake(point.x, point.y, pointSize, pointSize));\n    }\n\n    -(void)drawKeyPoint:(CGPoint)point inContext:(CGContextRef)context{\n        // \u30ad\u30fc\u30dd\u30a4\u30f3\u30c8\u3060\u304b\u3089\u3001\u5341\u5b57\u306e\u7167\u6e96\u8a18\u53f7\u3092\u63cf\u304f\n        CGFloat targetCrossSize=5;\n\n        CGContextMoveToPoint(context, point.x-targetCrossSize, point.y);\n        CGContextAddLineToPoint(context, point.x+targetCrossSize, point.y);\n        CGContextStrokePath(context); \n        \n        CGContextMoveToPoint(context, point.x, point.y-targetCrossSize);  \n        CGContextAddLineToPoint(context, point.x, point.y+targetCrossSize);  \n        CGContextStrokePath(context); \n    }\n    \n\u76f4\u7dda\u306f\u3001\u6307\u5b9a\u3059\u308b\u4e8c\u3064\u306e\u70b9\u306e\u9593\u306b\u9023\u63a5\u3059\u308b\u7dda\u3092\u63cf\u304f\u3002\n\n    -(void)drawLineFrom:(CGPoint)startPoint to:(CGPoint)endPoint inContext:(CGContextRef) context {\n        // \u6307\u5b9a\u3059\u308b\u4e8c\u3064\u306e\u70b9\u306e\u9593\u306b\u9023\u63a5\u3059\u308b\u7dda\n        CGContextMoveToPoint(context, startPoint.x, startPoint.y);\n        CGContextAddLineToPoint(context, endPoint.x, endPoint.y); \n        CGContextStrokePath(context); \n    }\n\n\u6307\u5b9a\u3059\u308b\u9577\u65b9\u5f62\u3092\u63cf\u304f\u3002\u5857\u3089\u308c\u308b\u306e\u306f\u4e2d\u8eab\u304b\u67a0\u304b\u306b\u3064\u3044\u3066\u3001\u4e8c\u3064\u306e\u65b9\u6cd5\u304c\u3042\u308b\u3002\n\n    -(void)drawFilledRect:(CGRect)rect inContent:(CGContextRef)context{\n        CGContextFillRect(context, rect);\n    }\n\n    -(void)drawStrokedRect:(CGRect)rect inContent:(CGContextRef)context{\n        CGContextStrokeRect(context, rect);\n    }\n\n\u6307\u5b9a\u3059\u308b\u5186\u5f62\u3092\u63cf\u304f\u3002\u5857\u3089\u308c\u308b\u306e\u306f\u4e2d\u8eab\u304b\u67a0\u304b\u306b\u3064\u3044\u3066\u3001\u4e8c\u3064\u306e\u65b9\u6cd5\u304c\u3042\u308b\u3002\n\n    -(void)drawFilledCircleWithin:(CGRect)rect inContext:(CGContextRef)context{\n        CGContextFillEllipseInRect(context, rect); \n    }\n\n    -(void)drawStrokedCircleWithin:(CGRect)rect inContext:(CGContextRef)context{\n        CGContextStrokeEllipseInRect(context, rect);\n    }\n\n\u52a9\u3051\u3066\u304f\u308c\u305ftakabosoft\u3055\u3093\u306b\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n", "tags": ["iOS", "UIView", "drawRect"]}