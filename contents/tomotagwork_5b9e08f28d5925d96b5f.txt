{"tags": ["bat", "batch", "\u30d0\u30c3\u30c1", "\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb", "Windows"], "context": "\n\n\u306f\u3058\u3081\u306b\nPython? PHP?\u3000\u3044\u3084\u3044\u3084\u3001\u305d\u3093\u306a\u30aa\u30b5\u30ec\u306a\u3082\u306e\u3067\u306f\u306a\u304f\u3001\u3053\u3053\u3067\u53d6\u308a\u4e0a\u3052\u308b\u306e\u306f\u4eca\u305d\u3053\u306b\u3042\u308bWindows\u30d0\u30c3\u30c1\u3067\u3059\u3002\n\u305f\u307e\u305f\u307e\u6700\u8fd1Windows Server\u5468\u308a\u306e\u7ba1\u7406\u3084Windows\u3092\u4f7f\u3063\u305f\u30d0\u30c3\u30c1\u904b\u7528\u306e\u4ed5\u7d44\u307f\u4f5c\u308a\u306b\u643a\u308f\u308b\u3053\u3068\u304c\u3042\u308a\u3001\u4eca\u66f4\u306a\u304c\u3089Windows\u30d0\u30c3\u30c1\u3068\u683c\u95d8\u3059\u308b\u3053\u3068\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u5099\u5fd8\u9332\u3068\u3057\u3066\u307e\u3068\u3081\u307e\u3059\u3002\nUnix\u7cfb\u306e\u30b7\u30a7\u30eb\u30fb\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u6163\u308c\u3066\u3044\u308b\u3068Windows\u30d0\u30c3\u30c1\u306f\u7d50\u69cb\u30af\u30bb\u304c\u3042\u3063\u3066\u4f7f\u3044\u3065\u3089\u3044\u3068\u601d\u3044\u307e\u3059\u3002VBScript\u3082\u4eca\u66f4\u306a\u611f\u3058\u3060\u3057\u672c\u547d\u306fPowerShell\u306a\u306e\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u304c\u3001PowerShell\u306f\u30d1\u30c3\u3068\u898b\u3068\u3063\u3064\u304d\u306b\u304f\u305d\u3046\u3067\u62d2\u7d76\u53cd\u5fdc\u304c\u51fa\u307e\u3057\u305f\u3002\n\u624b\u8efd\u306b\u30b0\u30fc\u30b0\u30eb\u5148\u751f\u306b\u983c\u308c\u306a\u3044\u73fe\u5834\u74b0\u5883\u3067\u3042\u3063\u305f\u3068\u3044\u3046\u3053\u3068\u3082\u3042\u308a\u3001\u624b\u3063\u53d6\u308a\u65e9\u304fWindows\u30d0\u30c3\u30c1\u3092\u4f7f\u3063\u3066\u307f\u305f\u3068\u3044\u3046\u611f\u3058\u3067\u3059(Windows10\u3060\u3068bash\u304c\u4f7f\u3048\u308b\u3089\u3057\u3044\u306e\u3067\u65e9\u304f\u305d\u3046\u3044\u3046\u74b0\u5883\u304c\u5e83\u304c\u3063\u3066\u307b\u3057\u3044\u3093\u3067\u3059\u304c...)\u3002\n\u60c5\u5831\u3068\u3057\u3066\u306f\u76ee\u65b0\u3057\u3044\u3082\u306e\u306f\u7121\u3044\u3067\u3059\u304c\u3001\u7d30\u304b\u3044\u3068\u3053\u308d\u306f\u7d50\u69cb\u3042\u3061\u3053\u3061\u8abf\u3079\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u3053\u306e\u8fba\u62bc\u3055\u3048\u3066\u304a\u3051\u3070\u3042\u308b\u7a0b\u5ea6\u306e\u3053\u3068\u306f\u51fa\u6765\u308b\u3067\u3057\u3087\u3046\u3001\u3068\u3044\u3046\u306e\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n\u57fa\u672c\n\n\u30d5\u30a1\u30a4\u30eb\u540d\n\u62e1\u5f35\u5b50 .bat\nex. test.bat\n\n\u30b3\u30e1\u30f3\u30c8\u884c\n\u884c\u982d\u306brem\u3092\u4ed8\u3051\u308b\n\"rem\"\u81ea\u4f53\u306f\u30b3\u30de\u30f3\u30c9\u306a\u306e\u3067\u30d8\u30eb\u30d7\u3082\u898b\u3089\u308c\u307e\u3059\u3002\n\u884c\u672b\u30b3\u30e1\u30f3\u30c8\u3084\u8907\u6570\u884c\u30b3\u30e1\u30f3\u30c8\u306e\u4ed5\u7d44\u307f\u306f\u7121\u3044\u3088\u3046\u3067\u3059\u3002\n\u64ec\u4f3c\u7684\u306b\u305d\u308c\u3089\u3092\u884c\u3046\u30c6\u30af\u30cb\u30c3\u30af\u306f\u3042\u308b\u3088\u3046\u3067\u3059\u304c\u3001\u6761\u4ef6\u306b\u3088\u3063\u3066\u306f\u6b63\u3057\u304f\u52d5\u4f5c\u3057\u306a\u304b\u3063\u305f\u308a\u6df7\u4e71\u306e\u5143\u306b\u306a\u308a\u305d\u3046\u306a\u306e\u3067\u500b\u4eba\u7684\u306b\u306f\u3042\u307e\u308a\u4f7f\u3046\u3079\u304d\u3067\u306f\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n(rem\u30b3\u30de\u30f3\u30c9\u306e\u4ee3\u308f\u308a\u306b\u300c::\u300d\u3092\u4f7f\u3046\u65b9\u6cd5\u3082\u3001\u30e9\u30d9\u30eb\u306e\u4ed5\u7d44\u307f\u3092\u5229\u7528\u3057\u305f\u64ec\u4f3c\u7684\u306a\u30b3\u30e1\u30f3\u30c8\u8a18\u8f09\u65b9\u6cd5\u306a\u306e\u3067\u540c\u69d8\u3002)\n\n\u5b9a\u8de1\u7684\u306a(?)\u4f7f\u3044\u65b9\n\u5148\u982d\u306b\u4ee5\u4e0b\u306e3\u884c\u3092\u66f8\u3044\u3066\u304a\u304f\u3002\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\n\u30d0\u30c3\u30c1\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u6319\u52d5\u3068\u3057\u3066\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u547d\u4ee4\u6587\u304c\u3059\u3079\u3066\u6a19\u6e96\u51fa\u529b\u306b\u8868\u793a\u3055\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002bash\u3068\u304b\u3067\u30c7\u30d0\u30c3\u30b0\u3059\u308b\u5834\u5408\u306bsh -x xxx.sh \u306e\u3088\u3046\u306b\"-x\"\u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067\u5b9f\u884c\u3057\u305f\u308a\u3057\u307e\u3059\u304c\u3001Windows\u30d0\u30c3\u30c1\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u304c\u305d\u306e\u3088\u3046\u306a\u6319\u52d5\u306b\u306a\u3063\u3061\u3083\u3063\u3066\u307e\u3059(\u3046\u30fc\u3093\u3001\u9b31\u9676\u3057\u3044)\u3002\u5404\u30b3\u30de\u30f3\u30c9\u306e\u5148\u982d\u306b\u300c@\u300d\u3092\u4ed8\u3051\u308b\u3068\u305d\u306e\u30b3\u30de\u30f3\u30c9\u306f\u8868\u793a\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u304c\u3001\u305d\u308c\u305e\u308c\u300c@\u300d\u3064\u3051\u308b\u306e\u306f\u73fe\u5b9f\u7684\u3067\u306f\u306a\u3044\u3067\u3059\u306d\u3002echo off\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u3068\u3053\u306e\u6a5f\u80fd\u304c\u30aa\u30d5\u306b\u306a\u308a\u3001\u305d\u308c\u4ee5\u964d\u30b3\u30de\u30f3\u30c9\u81ea\u4f53\u306e\u51fa\u529b\u304c\u6291\u6b62\u3055\u308c\u307e\u3059\u3002echo off\u81ea\u4f53\u3082\u51fa\u529b\u3055\u305b\u306a\u3044\u305f\u3081\u306b\u3001\u6700\u521d\u3060\u3051\u300c@\u300d\u4ed8\u3051\u3066@echo off\u3068\u3057\u3066\u3044\u308b\u8a33\u3067\u3059\u3002\n\u3064\u307e\u308a\u3001\u6700\u521d\u306b@echo off\u3092\u5ba3\u8a00\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u4e00\u5207\u547d\u4ee4\u6587\u306e\u8868\u793a\u304c\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059(\u2252sh\u306e-x\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u306e\u52d5\u4f5c)\u3002\u307e\u3001\u666e\u901a\u3053\u3046\u3057\u307e\u3059\u308f\u306a\u3002\nsetlocal enabledelayedexpansion\u306f\u9045\u5ef6\u5909\u6570\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u3092\u4f7f\u3046\u5834\u5408\u306e\u6307\u5b9a\u3002\u5909\u6570\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u88dc\u8db3\u3057\u307e\u3059\u3002\ncd %~dp0\u306f\u3001\u5f53\u8a72\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u3092\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3082\u5f8c\u7d9a\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u88dc\u8db3\u3057\u307e\u3059\u3002\n\n\u5b9f\u884c\u65b9\u6cd5\n\n\u30b3\u30de\u30f3\u30c9\u30fb\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066\u30a8\u30f3\u30bf\u30fc\nexplorer\u304b\u3089\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\n\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u30fc\u3067\u6307\u5b9a\n\u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u81ea\u52d5\u5b9f\u884c\n\n\u3053\u306e\u3042\u305f\u308a\u306e\u8d77\u52d5\u65b9\u6cd5\u3092\u60f3\u5b9a\u3057\u3066\u307e\u3059\u3002\n\u30d0\u30c3\u30c1\u304b\u3089\u5225\u306e\u30d0\u30c3\u30c1\u306e\u547c\u3073\u51fa\u3057\u306b\u3064\u3044\u3066\u306f\u5225\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u88dc\u8db3\u3057\u307e\u3059\u3002\n\n\u30d8\u30eb\u30d7\n\u56f0\u3063\u305f\u3089\u30d8\u30eb\u30d7\u53c2\u7167\u3002\n[\u30b3\u30de\u30f3\u30c9] /? \u3067\u30d8\u30eb\u30d7\u53c2\u7167\u53ef\u80fd\u3067\u3059\u3002\nC:\\>echo /?\n\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u305f\u308a\u3001\u30b3\u30de\u30f3\u30c9 \u30a8\u30b3\u30fc\u306e ON \u3068 OFF \u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002\n\n  ECHO [ON | OFF]\n  ECHO [\u30e1\u30c3\u30bb\u30fc\u30b8]\n\n\u73fe\u5728\u306e\u30a8\u30b3\u30fc\u8a2d\u5b9a\u3092\u8868\u793a\u3059\u308b\u306b\u306f\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u6307\u5b9a\u305b\u305a\u306b ECHO \u3068\u5165\u529b\u3057\u3066\n\u304f\u3060\u3055\u3044\u3002\n\n\n\u305d\u306e\u4ed6\n\u30b3\u30de\u30f3\u30c9\u3001\u5909\u6570\u540d\u306b\u3064\u3044\u3066\u5927\u6587\u5b57\u3001\u5c0f\u6587\u5b57\u306f\u57fa\u672c\u533a\u5225\u7121\u3057\u3002\nwhile\u6587, switch\u6587\u306b\u76f8\u5f53\u3059\u308b\u3082\u306e\u306f\u7121\u3055\u305d\u3046\u3002\n(\u305d\u308c\u3063\u307d\u3044\u3082\u306e\u306fif\u6587\u3068\u304bgoto\u6587\u3092\u99c6\u4f7f\u3057\u3066\u5b9f\u88c5\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3088\u3046\u3060\u3002\u30a4\u30b1\u3066\u306a\u3044\u306d\u3002)\n\u95a2\u6570\u307f\u305f\u3044\u306a\u3082\u306e\u3082\u7121\u3055\u305d\u3046\u3002\n\n\u5909\u6570\n\n\u5909\u6570\u306e\u8a2d\u5b9a\u3068\u53c2\u7167\nset var1=\"abcde\"\nset var2=abcde\nset var3=12345\nset var4 = 54321\nset /a \"var5 = var3 + 1\"\nset /a \"var6 = %var3% + %var4 %\"\n\necho var1: %var1%\necho var2: %var2%\necho var3: %var3%\necho var4: %var4%\necho var4 : %var4 %\necho var5: %var5%\necho var6: %var6%\n\n\n\u5b9f\u884c\u7d50\u679c\nvar1: \"abcde\"\nvar2: abcde\nvar3: 12345\nvar4:\nvar4 :  54321\nvar5: 12346\nvar6: 66666\n\n\n\n\u5909\u6570\u3078\u306e\u5024\u306e\u30bb\u30c3\u30c8\u306fset\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u5909\u6570\u306b\u5024\u3092\u30bb\u30c3\u30c8\u3059\u308b\u969b\u3001=\u306e\u524d\u5f8c\u306b\u30d6\u30e9\u30f3\u30af\u3092\u5165\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3059(\u30d6\u30e9\u30f3\u30af\u3092\u5165\u308c\u308b\u3068\u30d6\u30e9\u30f3\u30af\u3092\u542b\u3081\u305f\u5909\u6570\u540d\u3001\u5024\u3068\u8a8d\u8b58\u3055\u308c\u308b: var4\u306e\u4f8b\u53c2\u7167)\u3002\n\u5909\u6570\u3092\u53c2\u7167\u3059\u308b\u969b\u306f%\u3067\u5909\u6570\u540d\u3092\u304f\u304f\u308b(%var1%)\u3002\n\u8a08\u7b97\u5f0f\u306e\u7d50\u679c\u3092\u5909\u6570\u306b\u4ee3\u5165\u3059\u308b\u5834\u5408\u306fset /a\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u8a08\u7b97\u5f0f\u3067\u306f\u5909\u6570\u306e\u53c2\u7167\u306e\u969b\u306f%\u3092\u4ed8\u3051\u3066\u3082\u4ed8\u3051\u306a\u304f\u3066\u3082OK(\u305f\u3060\u3057\u30d6\u30e9\u30f3\u30af\u306f\u6587\u5b57\u533a\u5207\u308a\u3068\u5224\u65ad\u3055\u308c\u308b\u3088\u3046\u3067\u3059)\u3002\n\n\n\u9045\u5ef6\u5909\u6570\n\u30cf\u30de\u30ea\u304c\u3061\u306a\u306e\u304c\u30b3\u30ec\u3002\nset result=***\nset var1=aaa\nif %var1%==aaa (\n    set result=TRUE\n    echo result: %result%\n)\n\n\n\u5b9f\u884c\u7d50\u679c\nresult: ***\n\n\n\u30d1\u30c3\u3068\u898b\u3001\u3053\u306e\u30b3\u30fc\u30c9\u306fresult: TRUE\u3068\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u307e\u3059\u304c\u305d\u3046\u306f\u306a\u308a\u307e\u305b\u3093\u3002\nif\u6587\u306f\u6700\u5f8c\u306e\u62ec\u5f27\u9589\u3058\u307e\u3067(\u4e0a\u306e\u30bd\u30fc\u30b9\u3060\u3068\u6700\u5f8c4\u884c\u5206)\u304c1\u3064\u306e\u547d\u4ee4\u306a\u306e\u3067\u3001\u307e\u305a\u305d\u306e\u547d\u4ee4\u5b9f\u884c\u524d\u306b\u5909\u6570\u89e3\u91c8\u304c\u884c\u308f\u308c\u307e\u3059\u3002\u3059\u306a\u308f\u3061\u3001echo\u6587\u306e%result%\u306f\u3001if\u6587\u304c\u8aad\u307e\u308c\u305f\u6642\u70b9\u306eresult\u306e\u5185\u5bb9\u300c***\u300d\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059(\u5909\u6570\u89e3\u91c8\u304c\u884c\u308f\u308c\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u306fset result=TRUE\u306f\u307e\u3060\u5b9f\u884c\u3055\u308c\u3066\u3044\u306a\u3044)\u3002\n\u3053\u308c\u306f\u3001@echo off \u3092\u6307\u5b9a\u305b\u305a(= @echo on\u3067)\u5b9f\u884c\u3057\u3066\u307f\u308b\u3068\u5206\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002\n\necho_on\u3067\u306e\u5b9f\u884c\u7d50\u679c\nC:\\>set result=***\n\nC:\\>set var1=aaa\n\nC:\\>if aaa == aaa (\nset result=TRUE\n echo result: ***\n)\nresult: ***\n\n\n\u9045\u5ef6\u5909\u6570\u3068\u3044\u3046\u306e\u3092\u4f7f\u3046\u3068\u3001\u5b9f\u884c\u6642\u306b\u5909\u6570\u89e3\u91c8\u304c\u884c\u308f\u308c\u307e\u3059\u3002\n\u5148\u307b\u3069\u306e\u3092\u9045\u5ef6\u5909\u6570\u3092\u4f7f\u3063\u3066\u66f8\u304d\u63db\u3048\u308b\u3068...\nsetlocal enabledelayedexpansion\n\nset result=***\nset var1=aaa\nif %var1%==aaa (\n    set result=TRUE\n    echo result: !result!\n)\n\n\n\u5b9f\u884c\u7d50\u679c\nresult: TRUE\n\n\n\u5148\u982d\u306b\u3001setlocal enabledelayedexpansion\u3092\u8ffd\u52a0\u3057\u3001\u5909\u6570\u306e\u53c2\u7167\u306e\u969b%\u3067\u306f\u306a\u304f!\u3067\u5909\u6570\u540d\u3092\u304f\u304f\u308a\u307e\u3059(!result!)\u3002\nif\u3084for\u6587\u306e\u4e2d\u3067\u5909\u6570\u3092\u53c2\u7167\u3059\u308b\u969b\u306f\u305d\u306e\u5909\u6570\u304c\u3069\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u306b\u6ce8\u610f\u3057\u3066\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u9045\u5ef6\u5909\u6570\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\n(Unix\u7cfb\u306e\u30b7\u30a7\u30eb\u3060\u3068\u3053\u3093\u306a\u3053\u3068\u7121\u3044\u306e\u3067\u3068\u307e\u3069\u3044\u307e\u3059\u306d\u3002\u307e\u3063\u305f\u304f\u3081\u3093\u3069\u304f\u3055\u3044\u6319\u52d5\u3060...)\n\n\u65e5\u4ed8/\u6642\u523b\n\u74b0\u5883\u5909\u6570date\u3001time\u3067\u65e5\u4ed8\u3001\u6642\u523b\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\u5b9f\u884c\u30ed\u30b0\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u51fa\u3059\u969b\u306b\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u4ed8\u3051\u305f\u308a\u3057\u305f\u3044\u6642\u306b\u4f7f\u3048\u307e\u3059\u3002\nsetlocal enabledelayedexpansion\n\necho \u65e5\u4ed8 %date%\necho \u6642\u523b %time%\n\nset var1=aaa\nif %var1%==aaa (\n    echo %date% %time% --- begin ---\n    timeout /t 5 /nobreak\n    echo %date% %time% --- end ---\n)\n\nif %var1%==aaa (\n    echo !date! !time! --- begin ---\n    timeout /t 5 /nobreak\n    echo !date! !time! --- end ---\n)\n\n\n\u5b9f\u884c\u7d50\u679c\n\u65e5\u4ed8 2016/07/31\n\u6642\u523b 14:04:31.82\n2016/07/31 14:04:31.82 --- begin ---\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n2016/07/31 14:04:31.82 --- end ---\n2016/07/31 14:04:36.11 --- begin ---\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n2016/07/31 14:04:41.16 --- end ---\n\n\n%date%, %time% \u3067\u73fe\u5728\u306e\u65e5\u4ed8\u3001\u6642\u523b\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\u6642\u523b\u306f10\u30df\u30ea\u79d2\u5358\u4f4d\u3067\u306e\u5024\u304c\u53d6\u5f97\u3055\u308c\u307e\u3059\u3002\nif\u6587\u3084for\u6587\u306e\u4e2d\u3067\u6642\u9593\u304c\u304b\u304b\u308b\u51e6\u7406\u306e\u524d\u5f8c\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u53d6\u5f97\u3059\u308b\u3088\u3046\u306a\u5834\u5408\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\u4e0a\u306e\u4f8b\u3067\u306f\u3001if\u6587\u4e2d\u306btimeout\u30b3\u30de\u30f3\u30c9\u30675\u79d2\u30b9\u30ea\u30fc\u30d7\u3057\u3066\u304a\u308a\u3001\u305d\u306e\u524d\u5f8c\u3067\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u51fa\u529b\u3057\u3066\u3044\u307e\u3059\u304c\u3001%\u3067\u5909\u6570\u53c2\u7167\u3059\u308b\u3068if\u6587\u8aad\u307f\u53d6\u308a\u6642\u306b\u5909\u6570\u89e3\u91c8\u3055\u308c\u308b\u306e\u3067\u30011\u3064\u3081\u306ebegin, end\u30da\u30a2\u306f\u540c\u3058\u6642\u523b\u304c\u51fa\u529b\u3055\u308c\u3066\u3057\u307e\u3063\u3066\u307e\u3059\u306d\u3002\n2\u3064\u3081\u306e\u4f8b\u306f!\u306b\u3088\u308b\u9045\u5ef6\u5909\u6570\u3068\u3057\u3066\u306e\u53c2\u7167\u306a\u306e\u3067\u3001\u304d\u3061\u3093\u3068timeout\u30b3\u30de\u30f3\u30c9\u524d\u5f8c\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u304c\u53d6\u308c\u3066\u307e\u3059\u3002\n\u3082\u3046\u4e00\u70b9\u3001time\u74b0\u5883\u5909\u6570\u306b\u3064\u3044\u3066\u306e\u6ce8\u610f\u3067\u3059\u3002\u306a\u3093\u3068\u30010\u6642\uff5e9\u6642\u306e\u5834\u5408\u3001\u51fa\u529b\u7d50\u679c\u306e\u6841\u6570\u304c\u5c11\u306a\u304f\u306a\u308a\u307e\u3059\uff01\n\u4f8b: \n\n1\u66425\u5206\u306etime\u74b0\u5883\u5909\u6570\u306e\u5024 =>  1:05:00.00 (01:05:00.00\u3067\u306f\u306a\u304f\u5148\u982d\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u304c\u5165\u308b)\n11\u66425\u5206\u306etime\u74b0\u5883\u5909\u6570\u306e\u5024 => 11:05:00.00\n\n\u6642\u523b\u90e8\u5206\u306b\u3064\u3044\u3066\u3060\u3051\u306f\u3001\u306a\u305c\u304b\u6841\u3042\u308f\u305b\u306e\u305f\u3081\u306b0\u3067\u306f\u306a\u304f\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u3092\u3076\u3061\u8fbc\u3093\u3067\u304f\u308b\u3068\u3044\u3046\u306a\u3093\u3068\u3082\u3072\u3069\u3044\u4ed5\u69d8\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\u6642\u523b\u3092\u6587\u5b57\u5217\u3068\u3057\u3066\u6271\u3044\u305f\u3044\u5834\u5408(\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u4ed8\u3051\u308b\u5834\u5408\u306a\u3069)\u3001\u9806\u5e8f\u6027\u304c\u305a\u308c\u3066\u3057\u307e\u3063\u305f\u308a\u3059\u308b\u306e\u3067\u3001\u3053\u306e\u6319\u52d5\u306f\u8a8d\u8b58\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u75db\u3044\u76ee\u3092\u898b\u307e\u3059\u3002\n\n\u5909\u6570\u89e3\u91c8\u6642\u306e\u6587\u5b57\u5217\u64cd\u4f5c\n\u5909\u6570\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306b\u3064\u3044\u3066\u3001\u4e00\u90e8\u5206\u3092\u62bd\u51fa\u3057\u305f\u308a\u3001\u7f6e\u63db\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u62bd\u51fa\n\u57fa\u672c\u5f62\u306f\u3053\u3061\u3089\u3067\u3059\u3002\n%<\u5909\u6570\u540d>:~<\u958b\u59cb\u4f4d\u7f6e>,<\u6587\u5b57\u6570>%\n\u4e00\u90e8\u7701\u7565\u3084-\u6307\u5b9a\u3067\u610f\u5473\u5408\u3044\u304c\u5909\u308f\u308a\u307e\u3059\u3002\n\u958b\u59cb\u4f4d\u7f6e\u306b\u3064\u3044\u3066\u306f\u3001\u5148\u982d\u6587\u5b57\u306f0\u6587\u5b57\u76ee\u3068\u30ab\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\nrem \u6587\u5b57\u5217\u5168\u4f53\necho ex00: %var1%\n\nrem 3\u6587\u5b57\u76ee\u304b\u3089\u6700\u5f8c\u307e\u3067\necho ex01: %var1:~3%\n\nrem 3\u6587\u5b57\u76ee\u304b\u30895\u6587\u5b57\u5206\necho ex02: %var1:~3,5%\n\nrem 3\u6587\u5b57\u76ee\u304b\u3089\u3001\u672b\u5c3e5\u6587\u5b57\u3092\u9664\u3044\u305f\u3082\u306e\necho ex03: %var1:~3,-5%\n\nrem \u672b\u5c3e\u3088\u308a\u6570\u3048\u30668\u6587\u5b57\u76ee\u304b\u3089\u6700\u5f8c\u307e\u3067\necho ex04: %var1:~-8%\n\nrem \u672b\u5c3e\u3088\u308a\u6570\u3048\u30668\u6587\u5b57\u76ee\u304b\u30895\u6587\u5b57\u5206\necho ex05: %var1:~-8,5%\n\nrem \u672b\u5c3e\u3088\u308a\u6570\u3048\u30668\u6587\u5b57\u76ee\u304b\u3089\u3001\u672b\u5c3e5\u6587\u5b57\u3092\u9664\u3044\u305f\u3082\u306e\necho ex06: %var1:~-8,-5%\n\n\n\u5b9f\u884c\u7d50\u679c\nex00: abcde12345\nex01: de12345\nex02: de123\nex03: de\nex04: cde12345\nex05: cde12\nex06: cde\n\n\n\n\u7f6e\u63db\n\u57fa\u672c\u5f62\u306f\u3053\u3061\u3089\u3067\u3059\u3002\n%<\u5909\u6570\u540d>:<\u7f6e\u63db\u524d\u6587\u5b57\u5217>=<\u7f6e\u63db\u5f8c\u6587\u5b57\u5217>%\nset var1=aaaaabbbbbcccccaaaaa\necho ex01: %var1:aa=AA%\nset var2=abababababababababab\necho ex02: %var2:aba=ABA%\n\n\n\u5b9f\u884c\u7d50\u679c\nex01: AAAAabbbbbcccccAAAAa\nex02: ABAbABAbABAbABAbABAb\n\n\n\u5148\u982d\u304b\u3089\u898b\u3066\u3044\u3063\u3066\u90fd\u5ea6\u5408\u81f4\u3059\u308b\u3082\u306e\u3092\u7f6e\u304d\u63db\u3048\u3066\u3044\u304f\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u5fdc\u7528\u7de8 (\u65e5\u4ed8/\u6642\u523b\u306e\u6587\u5b57\u5217\u64cd\u4f5c)\n\u65e5\u4ed8\u3001\u6642\u523b\u306e\u6587\u5b57\u5217\u3092\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u4ed8\u4e0e\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u3057\u305f\u3044\u3001\u3068\u3044\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u306d(2016\u5e747\u670831\u65e5 13\u664214\u520655\u79d2\u306b\u30a8\u30e9\u30fc\u30fb\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210 => test_20160731_131455.log\u307f\u305f\u3044\u306a)\u3002\n\u4e0a\u306e\u65b9\u6cd5\u3092\u4f7f\u3063\u3066\u3001%date%, %time%\u304b\u3089\u5fc5\u8981\u306a\u6587\u5b57\u5217\u3060\u3051\u629c\u304d\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nrem \u73fe\u5728\u306e\u65e5\u6642\u3092\u53d6\u5f97\nset thisDate=%date%\nset thisTime=%time%\n\nrem \u65e5\u4ed8\u306e\u533a\u5207\u308a\u306e/\u3092\u7701\u7565 (\u7f6e\u63db\u5148\u6587\u5b57\u5217\u7121\u3057)\nset custDate=%thisDate:/=%\n\nrem \u6642\u523b\u306e\u6587\u5b57\u5217\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u304c\u3042\u3063\u305f\u5834\u54080\u306b\u7f6e\u63db\nset custTime_temp=%thisTime: =0%\nrem \u5148\u982d\u304b\u30898\u6587\u5b57\u5206\u3092\u62bd\u51fa(\u30df\u30ea\u79d2\u5358\u4f4d\u306f\u7701\u304f)\nset custTime_temp=%custTime_temp:~0,8%\nrem \u6642\u523b\u306e\u533a\u5207\u308a\u306e:\u3092\u7701\u7565(\u7f6e\u63db\u5148\u6587\u5b57\u5217\u7121\u3057)\nset custTime=%custTime_temp::=%\n\necho original:   %thisDate% %thisTime%\necho customized: %custDate% %custTime%\n\n\n\u5b9f\u884c\u7d50\u679c\noriginal:   2016/07/31  9:32:44.02\ncustomized: 20160731 093244\n\n\n\u6642\u523b\u306e\u65b9\u306f\u3001\u6700\u521d\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u30920\u306b\u7f6e\u304d\u63db\u3048\u308b\u51e6\u7406\u3092\u5165\u308c\u3066\u3044\u308b\u306e\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\u5148\u306b\u793a\u3057\u305f\u901a\u308a\u3001\u6642\u9593\u90e8\u5206\u306f\u4e00\u6841\u306e\u5834\u5408\u306b0\u3067\u306f\u306a\u304f\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u306e\u3067\u3001\u305d\u306e\u305f\u3081\u306b\u4e00\u624b\u9593\u5165\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u5f15\u6570\u53d6\u5f97\u7528\u5909\u6570(\u30d0\u30c3\u30c1\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc)\n\u30b3\u30de\u30f3\u30c9\u30fb\u30d7\u30ed\u30f3\u30d7\u30c8\u304b\u3089\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3066\u30d0\u30c3\u30c1\u3092\u5b9f\u884c\u3059\u308b\u969b\u3001\u5f15\u6570\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5f15\u6570\u306e\u533a\u5207\u308a\u6587\u5b57\u3068\u3057\u3066\u306f\u3001\u30d6\u30e9\u30f3\u30af(\u534a\u89d2\u30b9\u30da\u30fc\u30b9)\u3001\u30ab\u30f3\u30de(,)\u3001\u30bb\u30df\u30b3\u30ed\u30f3(;)\u3001\u30a4\u30b3\u30fc\u30eb(=)\u304c\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\n\u6e21\u3055\u308c\u305f\u5f15\u6570\u306f\u3001\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u4e0a%1\uff5e%9\u307e\u3067\u306e\u5909\u6570(\u30d0\u30c3\u30c1\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3068\u547c\u3076\u3089\u3057\u3044)\u3067\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002%0\u306f\u5b9f\u884c\u3055\u308c\u305f\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u304c\u5165\u308a\u307e\u3059\u3002\n(10\u500b\u4ee5\u4e0a\u306e\u5f15\u6570\u6e21\u3059\u5834\u5408\u306f\u3069\u3046\u3059\u308b\u306e?\u3068\u306a\u308a\u307e\u3059\u304c\u3001shift\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\u307e\u3041\u305d\u3053\u307e\u3067\u4f7f\u3046\u3053\u3068\u306f\u307e\u305a\u306a\u3044\u306e\u3067\u3053\u3053\u3067\u306f\u5272\u611b\u3002)\n\ntest.bat\n@echo off\necho arg0: %0\necho arg1: %1\necho arg2: %2\necho arg2: %~2\necho arg3: %3\necho arg4: %4\n\n\n\n\u5b9f\u884c\u7d50\u679c\nc:\\temp\\batch_test>test.bat aaa \"bbb ccc\",ddd=eee;fff\narg0: test.bat\narg1: aaa\narg2: \"bbb ccc\"\narg2: bbb ccc\narg3: ddd\narg4: eee\n\n\n\u533a\u5207\u308a\u6587\u5b57\u3092\u542b\u3080\u6587\u5b57\u5217\u3092\u5f15\u6570\u3067\u6e21\u3057\u305f\u3044\u5834\u5408\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3(\")\u3067\u62ec\u308a\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u305d\u306e\u5834\u5408\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3082\u542b\u3081\u305f\u6587\u5b57\u5217\u304c\u6e21\u3055\u308c\u307e\u3059\u3002\n%~2\u3068\u3044\u3046\u3088\u3046\u306b\u9593\u306b\u300c~\u300d\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u524a\u9664\u3055\u308c\u305f\u6587\u5b57\u5217\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\u3053\u306e\u3088\u3046\u306b\u3001\u30d0\u30c3\u30c1\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e%\u3068\u6570\u5b57\u306e\u9593\u306b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u53d6\u5f97\u3055\u308c\u308b\u5024\u3092\u52a0\u5de5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3053\u308c\u306fcall\u30b3\u30de\u30f3\u30c9\u306e\u30d8\u30eb\u30d7\u3092\u898b\u308b\u3068\u8a73\u7d30\u304c\u8f09\u3063\u3066\u3044\u307e\u3059\u3002\nc:\\>call /?\n\u30d0\u30c3\u30c1 \u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5225\u306e\u30d0\u30c3\u30c1 \u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\n(\u7565)\n\n    \u30d0\u30c3\u30c1 \u30d1\u30e9\u30e1\u30fc\u30bf\u30fc (%n) \u306e\u7f6e\u63db\u306f\u62e1\u5f35\u3055\u308c\u307e\u3057\u305f\u3002\u6b21\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u69cb\u6587\n    \u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059:\n\n        %~1         - \u3059\u3079\u3066\u306e\u5f15\u7528\u53e5 (\") \u3092\u524a\u9664\u3057\u3066\u3001%1 \u3092\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~f1        - %1 \u3092\u5b8c\u5168\u4fee\u98fe\u30d1\u30b9\u540d\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~d1        - %1 \u3092\u30c9\u30e9\u30a4\u30d6\u6587\u5b57\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~p1        - %1 \u3092\u30d1\u30b9\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~n1        - %1 \u3092\u30d5\u30a1\u30a4\u30eb\u540d\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~x1        - %1 \u3092\u30d5\u30a1\u30a4\u30eb\u62e1\u5f35\u5b50\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~s1        - \u5c55\u958b\u3055\u308c\u305f\u30d1\u30b9\u306f\u3001\u77ed\u3044\u540d\u524d\u3060\u3051\u3092\u542b\u307f\u307e\u3059\u3002\n        %~a1        - %1 \u3092\u30d5\u30a1\u30a4\u30eb\u5c5e\u6027\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~t1        - %1 \u3092\u30d5\u30a1\u30a4\u30eb\u306e\u65e5\u4ed8/\u6642\u523b\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~z1        - %1 \u3092\u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30a4\u30ba\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~$PATH:1   - PATH \u74b0\u5883\u5909\u6570\u306b\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u691c\u7d22\u3057\u3001\n                       \u6700\u521d\u306b\u898b\u3064\u304b\u3063\u305f\u5b8c\u5168\u4fee\u98fe\u540d\u306b %1 \u3092\u5c55\u958b\u3057\u307e\u3059\u3002\n                       \u74b0\u5883\u5909\u6570\u540d\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u307e\u305f\u306f\n                       \u691c\u7d22\u3057\u3066\u3082\u30d5\u30a1\u30a4\u30eb\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001\n                       \u3053\u306e\u4fee\u98fe\u5b50\u3092\u6307\u5b9a\u3059\u308b\u3068\u7a7a\u306e\u6587\u5b57\u5217\u306b\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\n\n    \u4fee\u98fe\u5b50\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u8907\u5408\u7d50\u679c\u3092\u5f97\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059:\n\n        %~dp1       - %1 \u3092\u30c9\u30e9\u30a4\u30d6\u6587\u5b57\u3068\u30d1\u30b9\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~nx1       - %1 \u3092\u30d5\u30a1\u30a4\u30eb\u540d\u3068\u62e1\u5f35\u5b50\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~dp$PATH:1 - PATH \u74b0\u5883\u5909\u6570\u306b\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\n                       \u691c\u7d22\u3057\u3066 %1 \u3092\u63a2\u3057\u3001\u6700\u521d\u306b\u898b\u3064\u304b\u3063\u305f\u30d5\u30a1\u30a4\u30eb\n                       \u306e\u30c9\u30e9\u30a4\u30d6\u6587\u5b57\u3068\u30d1\u30b9\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~ftza1     - %1 \u3092 DIR \u306e\u51fa\u529b\u884c\u306e\u3088\u3046\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n\n    \u4e0a\u306e\u4f8b\u306e %1 \u3068 PATH \u306f\u3001\u4ed6\u306e\u6709\u52b9\u306a\u5024\u3067\u7f6e\u304d\u63db\u3048\u308b\u3053\u3068\u304c\u3067\u304d\n    \u307e\u3059\u3002%~ \u69cb\u6587\u306f\u6709\u52b9\u306a\u5f15\u6570\u306e\u6570\u306b\u3088\u3063\u3066\u533a\u5207\u3089\u308c\u307e\u3059\u3002%~ \u4fee\u98fe\u5b50\n    \u306f %* \u3068\u540c\u6642\u306b\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002\n\n\u3053\u308c\u3092\u53c2\u8003\u306b\u3001%0 (\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb)\u306b\u3064\u3044\u3066\u306e\u5404\u7a2e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u3066\u307f\u308b\u3068...\necho ex01: %~f0\necho ex02: %~d0\necho ex03: %~p0\necho ex04: %~n0\necho ex05: %~x0\necho ex06: %~s0\necho ex07: %~a0\necho ex08: %~t0\necho ex09: %~z0\necho ex10: %~dp0\necho ex11: %~nx0\necho ex12: %~ftza0\n\n\n\u5b9f\u884c\u7d50\u679c\nex01: c:\\temp\\batch_test\\test.bat\nex02: c:\nex03: \\temp\\batch_test\\\nex04: test\nex05: .bat\nex06: c:\\temp\\BATCH_~1\\test.bat\nex07: --a------\nex08: 2016/08/04 15:16\nex09: 1165\nex10: c:\\temp\\batch_test\\\nex11: test.bat\nex12: --a------ 2016/08/04 15:16 1165 c:\\temp\\batch_test\\test.bat\n\n\nex10\u3067\u793a\u3055\u308c\u308b\u901a\u308a%~dp0\u306f\u3001\u5f53\u8a72\u30d0\u30c3\u30c1\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d5\u30eb\u30d1\u30b9\u3092\u793a\u3057\u307e\u3059\u3002\n\u30d0\u30c3\u30c1\u3068\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u547c\u3093\u3060\u308a\u3001\u540c\u3058\u3068\u3053\u308d\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3057\u305f\u308a\u3057\u305f\u3044\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3001\u30d0\u30c3\u30c1\u306e\u5148\u982d\u3067cd %~dp0\u3068\u3057\u3066\u304a\u304f\u3068\u3001\u30d0\u30c3\u30c1\u304c\u3069\u3053\u3067\u5b9f\u884c\u3055\u308c\u3066\u3082OK\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30a8\u30e9\u30fc\u7528\u5909\u6570\nrem \u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\naaaaa\necho err01: %errorlevel%\n\nrem copy\u30b3\u30de\u30f3\u30c9\u3067\u5b58\u5728\u3057\u306a\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\ncopy aaa bbb\necho err02: %errorlevel%\n\nrem copy\u30b3\u30de\u30f3\u30c9\u3067\u6b63\u3057\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\ncopy test.bat test_temp.bat\necho err03: %errorlevel%\n\n\n\u5b9f\u884c\u7d50\u679c\n'aaaaa' \u306f\u3001\u5185\u90e8\u30b3\u30de\u30f3\u30c9\u307e\u305f\u306f\u5916\u90e8\u30b3\u30de\u30f3\u30c9\u3001\n\u64cd\u4f5c\u53ef\u80fd\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u307e\u305f\u306f\u30d0\u30c3\u30c1 \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\nerr01: 9009\n\u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002\nerr02: 1\n        1 \u500b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002\nerr03: 0\n\n\n\u30b3\u30de\u30f3\u30c9\u304c\u7d42\u4e86\u30b3\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u305f\u5834\u5408\u3084\u3001\u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u305f\u5834\u5408\u3001\u74b0\u5883\u5909\u6570errorlevel\u306b\u7d42\u4e86\u30b3\u30fc\u30c9\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002\n\u901a\u5e38\u3001\u6b63\u5e38\u7d42\u4e86\u306e\u5834\u54080\u3001\u306a\u3093\u3089\u304b\u306e\u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\u5834\u5408\u306f1\u4ee5\u4e0a\u306e\u5024\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002\n\u30d0\u30c3\u30c1\u306e\u6700\u5f8c\u306b\u81ea\u5206\u3067\u30a8\u30e9\u30fc\u30b3\u30fc\u30c9\u3092\u30bb\u30c3\u30c8\u3057\u305f\u3044\u5834\u5408\u306f\u7d42\u4e86\u6642\u306bexit 0\u3068\u3044\u3046\u3088\u3046\u306bexit\u30b3\u30de\u30f3\u30c9\u3067\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\nerrorlevel\u306e\u5224\u5b9a\u306b\u3064\u3044\u3066\u306f\u5f8c\u8ff0\u306e\u6761\u4ef6\u5206\u5c90\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u3066\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n\u30d5\u30ed\u30fc\u5236\u5fa1\n\n\u6761\u4ef6\u5206\u5c90 (if\u6587)\n\n\u6587\u5b57\u5217/\u6570\u5024\u6bd4\u8f03\n\u57fa\u672c\u5f62\nIF [NOT] \u6587\u5b57\u52171 \u6bd4\u8f03\u6f14\u7b97\u5b50 \u6587\u5b57\u52172 \u30b3\u30de\u30f3\u30c9\nset str1=aaa\nset num1=123\n\n\nrem \u6587\u5b57\u5217\u6bd4\u8f03\nif \"%str1%\" == \"aaa\" (\n    echo str1: TRUE\n) else (\n    echo str1: FALSE\n)\n\nrem \u6587\u5b57\u5217\u6bd4\u8f03 (\u5426\u5b9a)\nif not \"%str1%\" == \"aaa\" (\n    echo str1: TRUE\n) else (\n    echo str1: FALSE\n)\n\nrem \u6570\u5024\u6bd4\u8f03\nrem \u6bd4\u8f03\u6f14\u7b97\u5b50: equ(==) neq(!=) lss(<) lq(<=) gtr(>) geq(>=)\nif %num1% gtr 10 (\n    echo num1: TRUE\n) else (\n    echo num1: FALSE\n)\n\n\n\u5b9f\u884c\u7d50\u679c\nstr1: TRUE\nstr1: FALSE\nnum1: TRUE\n\n\n\u6761\u4ef6\u5f0f\u306e\u6240\u3067\u6bd4\u8f03\u5bfe\u8c61\u3092\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u62ec\u3063\u3066\u3044\u308b\u306e\u306f\u3001\u5909\u6570\u540d\u306b\u5024\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3067\u3082\u5bfe\u5fdc\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3067\u3059\u3002\n\u6761\u4ef6\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u5909\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u3068...\n\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u62ec\u3089\u306a\u3044\u5834\u5408: if == aaa\u3068\u3044\u3046\u6587\u3092\u51e6\u7406\u3057\u3088\u3046\u3068\u3057\u3066\u69cb\u6587\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u62ec\u3063\u3066\u3044\u308b\u5834\u5408: if \"\" == \"aaa\"\u3068\u3044\u3046\u6587\u3092\u51e6\u7406\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u3001if\u306e\u69cb\u6587\u3068\u3057\u3066\u6b63\u3057\u304f\u306a\u308a\u307e\u3059(\u6761\u4ef6\u5f0f\u3068\u3057\u3066\u306f\u507d\u306b\u306a\u308b\u306e\u3067ELSE\u306e\u51e6\u7406\u306b\u9032\u3080)\u3002\n(\u6570\u5024\u306e\u6bd4\u8f03\u306b\u3064\u3044\u3066\u306f\u3001\u5b9f\u969b\u306b\u306f\u3053\u308c\u3082\u6587\u5b57\u5217\u6bd4\u8f03\u3092\u884c\u3063\u3066\u3044\u308b\u3089\u3057\u3044\u3088\u3046\u306a\u8a18\u8ff0\u3082\u307f\u304b\u3051\u308b\u306e\u3060\u304c\u3001\u3069\u3046\u3082\u6b63\u78ba\u306a\u3068\u3053\u308d\u304c\u4e0d\u660e\u3002\u3053\u3061\u3089\u3082\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u62ec\u308b\u307b\u3046\u304c\u3088\u3044\u3068\u601d\u3063\u305f\u306e\u3060\u304c\u3001\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3042\u308a\u3068\u7121\u3057\u3067\u6319\u52d5\u304c\u7570\u306a\u308b\u30b1\u30fc\u30b9\u304c\u3042\u3063\u305f\u3002)\n\n\u30d5\u30a1\u30a4\u30eb\u5b58\u5728\u6709\u7121\n\u57fa\u672c\u5f62\nIF [NOT] EXIST \u30d5\u30a1\u30a4\u30eb\u540d \u30b3\u30de\u30f3\u30c9\ncd %~dp0\nrem \u30d5\u30a1\u30a4\u30eb or \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5b58\u5728\u6709\u7121\nset target01=test\nif not exist \"%target01%\" (\n    echo %target01% : not found\n) else (\n    echo %target01% : found\n)\n\nrem \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5b58\u5728\u6709\u7121 (\u672b\u5c3e\u306b\\\u3092\u4ed8\u3051\u308b)\nset dir01=c:\\temp\\\nif not exist \"%dir01%\"  (\n    echo %dir01% : not found\n) else (\n    echo %dir01% : found\n)\n\nrem \u30d5\u30a1\u30a4\u30eb/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5224\u5b9a\nset target02=c:\\temp\\test\nif exist \"%target02%\" (\n    if exist \"%target02%\\\" (\n        echo \u30c7\u30a3\u30ec\u30af\u30c8\u30ea %target02%  \u306f\u5b58\u5728\u3057\u307e\u3059\n    ) else (\n        echo \u30d5\u30a1\u30a4\u30eb %target02% \u306f\u5b58\u5728\u3057\u307e\u3059\n    )\n) else (\n    echo %target02% \u306f\u5b58\u5728\u3057\u307e\u305b\u3093\n)\n\n\n\u5b9f\u884c\u7d50\u679c\ntest : not found\nc:\\temp\\ : found\n\u30d5\u30a1\u30a4\u30eb c:\\temp\\test \u306f\u5b58\u5728\u3057\u307e\u3059\n\n\n\u76f8\u5bfe\u30d1\u30b9\u3001\u7d76\u5bfe\u30d1\u30b9\u306e\u6307\u5b9a\u304c\u53ef\u80fd\u3067\u3059\u3002\nexist\u3067\u306e\u5224\u5b9a\u306f\u3001\u5224\u5b9a\u5bfe\u8c61\u306e\u6587\u5b57\u5217\u306e\u672b\u5c3e\u306b\u300c\\\u300d\u3092\u6307\u5b9a\u3059\u308b\u3068\u660e\u793a\u7684\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(\u30d5\u30a9\u30eb\u30c0)\u3068\u3057\u3066\u5224\u65ad\u3055\u308c\u307e\u3059\u304c\u3001\u672b\u5c3e\u306b\u300c\\\u300d\u304c\u7121\u3044\u5834\u5408\u3001\u30d5\u30a1\u30a4\u30eb/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u533a\u5225\u3092\u3057\u307e\u305b\u3093\u3002\n\u3059\u306a\u308f\u3061\u3001\u672b\u5c3e\u306b\u300c\\\u300d\u304c\u7121\u3044\u6587\u5b57\u5217\u306e\u5224\u5b9a\u3092\u884c\u3046\u969b\u3001\u5b58\u5728\u3057\u305f\u3068\u5224\u65ad\u3055\u308c\u305f\u5834\u5408\u306b\u304c\u30d5\u30a1\u30a4\u30eb\u306a\u306e\u304b\u30d5\u30a9\u30eb\u30c0\u306a\u306e\u304b\u305d\u308c\u3060\u3051\u3067\u306f\u5224\u65ad\u3067\u304d\u307e\u305b\u3093(\u3069\u3061\u3089\u304b\u304c\u5b58\u5728\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u304c\u5206\u304b\u308b\u3060\u3051)\u3002\n\u53b3\u5bc6\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\u306b\u306f3\u3064\u76ee\u306e\u4f8b\u306e\u3088\u3046\u306b2\u6bb5\u968e\u3067\u5224\u65ad\u3092\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u307e\u3041test.bat\u306e\u3088\u3046\u306b\u62e1\u5f35\u5b50\u3092\u3064\u3051\u3066\u5b58\u5728\u78ba\u8a8d\u3092\u884c\u3046\u3053\u3068\u304c\u591a\u3044\u3068\u601d\u3046\u306e\u3067\u3042\u307e\u308a\u305d\u3053\u307e\u3067\u3084\u308b\u5fc5\u8981\u306f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001test.bat\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u8aa4\u3063\u3066\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3068\u304a\u304b\u3057\u306a\u3053\u3068\u306b\u306a\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\n\u30a8\u30e9\u30fc\u5224\u5b9a\n\u57fa\u672c\u5f62\nif [NOT] ERRORLEVEL \u756a\u53f7 \u30b3\u30de\u30f3\u30c9\necho ----------------\nrem \u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\naaaaa\necho err01: %errorlevel%\nif not errorlevel 1 (\n    echo ***\u6b63\u5e38\u7d42\u4e86***\n) else if %errorlevel% equ 9009 (\n    echo ***\u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9***\n) else (\n    echo ***\u305d\u306e\u4ed6\u306e\u30a8\u30e9\u30fc***\n)\n\necho ----------------\nrem copy\u30b3\u30de\u30f3\u30c9\u3067\u5b58\u5728\u3057\u306a\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\ncopy aaa bbb\necho err02: %errorlevel%\nif not errorlevel 1 (\n    echo ***\u6b63\u5e38\u7d42\u4e86***\n) else if %errorlevel% equ 9009 (\n    echo ***\u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9***\n) else (\n    echo ***\u305d\u306e\u4ed6\u306e\u30a8\u30e9\u30fc***\n)\n\necho ----------------\nrem copy\u30b3\u30de\u30f3\u30c9\u3067\u6b63\u3057\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\ncopy test.bat test_temp.bat\necho err03: %errorlevel%\nif not errorlevel 1 (\n    echo ***\u6b63\u5e38\u7d42\u4e86***\n) else if %errorlevel% equ 9009 (\n    echo ***\u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9***\n) else (\n    echo ***\u305d\u306e\u4ed6\u306e\u30a8\u30e9\u30fc***\n)\n\n\n\u5b9f\u884c\u7d50\u679c\n----------------\n'aaaaa' \u306f\u3001\u5185\u90e8\u30b3\u30de\u30f3\u30c9\u307e\u305f\u306f\u5916\u90e8\u30b3\u30de\u30f3\u30c9\u3001\n\u64cd\u4f5c\u53ef\u80fd\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u307e\u305f\u306f\u30d0\u30c3\u30c1 \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\nerr01: 9009\n***\u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9***\n----------------\n\u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002\nerr02: 1\n***\u305d\u306e\u4ed6\u306e\u30a8\u30e9\u30fc***\n----------------\n        1 \u500b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002\nerr03: 0\n***\u6b63\u5e38\u7d42\u4e86***\n\n\nif errorlevel \u756a\u53f7\u3068\u3044\u3046\u69cb\u6587\u306f\u3001\u300cerrorlevel\u304c\u6307\u5b9a\u3057\u305f\u756a\u53f7\u4ee5\u4e0a\u3060\u3063\u305f\u3089\u771f\u306b\u306a\u308b\u300d\u3068\u3044\u3046\u975e\u5e38\u306b\u6df7\u4e71\u3092\u62db\u304d\u3084\u3059\u3044\u4ed5\u69d8\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3082\u3072\u3069\u3044\u4ed5\u69d8\u3067\u3059\u306a\u3041\u3002\n\u6700\u521d\u30cf\u30de\u308a\u307e\u3057\u305f\u3002\n\u6545\u306b\u3001\u4e0a\u306e\u4f8b\u3067\u306f\u3001if not errorlevel 1(\u300c1\u4ee5\u4e0a\u3067\u306a\u3051\u308c\u3070\u300d=\u300c0\u3060\u3063\u305f\u3089\u300d)\u3068\u3044\u3046\u6307\u5b9a\u306b\u3057\u3066\u307e\u3059\u3002\n2\u3064\u3081\u306e\u5224\u5b9aelse if %errorlevel% equ 9009\u306e\u90e8\u5206\u306f\u3001\u300cif errorlevel\u300d\u306e\u69cb\u6587\u3067\u306f\u306a\u304f\u3001\u524d\u306e\u6587\u5b57\u5217/\u6570\u5024\u6bd4\u8f03\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u793a\u3057\u305f\u69cb\u6587\u306b\u5f93\u3063\u3066errorlevel\u3068\u3044\u3046\u74b0\u5883\u5909\u6570\u306e\u5024\u3092\u6bd4\u8f03\u3057\u3066\u304a\u308a\u307e\u3059(\u305d\u306e\u305f\u3081\u3001\u3053\u3063\u3061\u306f%\u304c\u4ed8\u3044\u3066\u3044\u308b)\u3002\n\u5206\u304b\u308a\u306b\u304f\u3044\u304b\u3089\u3001\u3053\u306e\u300cif errorlevel \u756a\u53f7\u300d\u3068\u3044\u3046\u69cb\u6587\u306f\u4f7f\u308f\u305a\u306b%errorlevel%\u3092\u53c2\u7167\u3057\u3066\u6bd4\u8f03\u3059\u308b\u3084\u308a\u65b9\u3067\u7d71\u4e00\u3059\u308b\u306e\u304c\u3088\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059\u306d\u3002 \n\n\u7e70\u308a\u8fd4\u3057\u51e6\u7406\n\u30eb\u30fc\u30d7\u51e6\u7406\u3092\u884c\u3046\u5834\u5408\u306f\u3001Java\u3068\u304bC\u3068\u304bbash\u3068\u304b\u3060\u3068while\u3068\u304bfor\u3092\u4f7f\u3046\u3053\u3068\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3067\u3059\u304c\u30d0\u30c3\u30c1\u306b\u306fwhile\u76f8\u5f53\u306e\u3082\u306e\u306f\u7121\u3044\u3088\u3046\u3067\u3059\u3002\n\nfor\u6587\n\u3053\u3053\u3067\u306f\u4e00\u5fdc\u4ed6\u306e\u8a00\u8a9e\u3063\u307d\u3044\u4f7f\u3044\u65b9\u306efor\u3092\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\n(Windows\u30d0\u30c3\u30c1\u306efor\u306f\u4e0a\u306e\u3088\u3046\u306a\u8a00\u8a9e\u3067\u4f7f\u308f\u308c\u308bfor\u3068\u306f\u82e5\u5e72\u4f7f\u3044\u52dd\u624b\u304c\u7570\u306a\u308a\u307e\u3059\u3002\u4e3b\u305f\u308b\u5229\u7528\u76ee\u7684\u306f\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6271\u3046\u3053\u3068\u3068\u6349\u3048\u305f\u307b\u3046\u304c\u3088\u3055\u305d\u3046\u3067\u3059\u304c\u3001\u305d\u306e\u4f7f\u3044\u65b9\u306f\u5225\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u88dc\u8db3\u3057\u307e\u3059\u3002)\n\u57fa\u672c\u5f62:\nfor /l %%<\u5909\u6570> in (<\u958b\u59cb\u5024>,<\u5897\u5206>,<\u7d42\u4e86\u5024>) do \u30b3\u30de\u30f3\u30c9\n\u203b\u5909\u6570\u306f\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u4e00\u6587\u5b57\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nfor /l %%i in (0,1,9) do (\n    set /a \"var1 = %%i * 10\"\n    echo var1: !var1!\n)\n\n\n\u5b9f\u884c\u7d50\u679c\nvar1: 0\nvar1: 10\nvar1: 20\nvar1: 30\nvar1: 40\nvar1: 50\nvar1: 60\nvar1: 70\nvar1: 80\nvar1: 90\n\n\nfor\u6587\u306e\u5909\u6570\u540d\u306f\u306a\u305c\u304b\"%%\"\u3092\u4ed8\u3051\u3066\u5229\u7528\u3057\u307e\u3059\u3002\n\u4e0a\u306e\u4f8b\u3067\u306f0\u304b\u3089\u306f\u3058\u3081\u30661\u305a\u3064\u5897\u3084\u3057\u306610\u307e\u3067\u7e70\u308a\u8fd4\u3059\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\n(\u7e70\u308a\u8fd4\u3057\u5bfe\u8c61\u306e\u547d\u4ee4\u6587\u3067\u306f\u7121\u99c4\u306b10\u500d\u3057\u3066\u7d50\u679c\u3092\u51fa\u529b\u3055\u305b\u3066\u307e\u3059\u304c\u5b9f\u8cea\u7684\u306a\u610f\u5473\u306f\u7121\u3044\u3067\u3059\u3002for\u6587\u4f7f\u3046\u3068\u304d\u306e\u5909\u6570\u306f\u9045\u5ef6\u5909\u6570\u4f7f\u308f\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u3067\u6ce8\u610f\uff01)\n\ngoto\u6587/\u30e9\u30d9\u30eb\n\u300cgoto\u6587\u2252\u60aa\u300d\u307f\u305f\u3044\u306a\u8a8d\u8b58\u306e\u3082\u3068\u306b\u80b2\u3063\u3066\u304d\u305f\u8eab\u3068\u3057\u3066\u306f\u3061\u3068\u53d7\u3051\u5165\u308c\u304c\u305f\u3044\u3067\u3059\u304c\u3001while\u304c\u7121\u3044\u306e\u3067\u4ed5\u65b9\u306a\u3044\u3067\u3059\u306d\u3002Windows\u30d0\u30c3\u30c1\u306e\u4e16\u754c\u3067\u306f\u307e\u3041\u307e\u3041\u3088\u304f\u4f7f\u308f\u308c\u308b\u3088\u3046\u3067\u3059\u3002\nset /a index=1\nset /a loop_count=10\nset /a \"end_condition = %index% + %loop_count% - 1\"\n\n:loop\n\n    rem \u30eb\u30fc\u30d7\u3055\u305b\u305f\u3044\u51e6\u7406\n    echo count: %index% / %loop_count%\n\n\n\nif %index% geq %end_condition% (\n    goto end\n\n) else (\n    set /a index+=1\n    goto loop\n)\n\n:end\nexit /b 0\n\n\n\n\u5b9f\u884c\u7d50\u679c\ncount: 1 / 10\ncount: 2 / 10\ncount: 3 / 10\ncount: 4 / 10\ncount: 5 / 10\ncount: 6 / 10\ncount: 7 / 10\ncount: 8 / 10\ncount: 9 / 10\ncount: 10 / 10\n\n\n\n\u30d0\u30c3\u30c1\u304b\u3089\u5225\u306e\u30d0\u30c3\u30c1\u306e\u547c\u3073\u51fa\u3057\n\u30d0\u30c3\u30c1\u306e\u4e2d\u304b\u3089\u5225\u306a\u30d0\u30c3\u30c1\u3092\u547c\u3073\u51fa\u3059\u65b9\u6cd5\u306f\u3001\u3044\u304f\u3064\u304b\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\u5236\u5fa1\u306e\u623b\u308a\u65b9\u3001\u5909\u6570\u306e\u5f15\u7d99\u304e\u3001\u5f15\u6570\u6e21\u3057\u3001\u30d7\u30ed\u30bb\u30b9\u3068\u3044\u3046\u8fba\u308a\u306e\u5dee\u7570\u3092\u898b\u306a\u304c\u3089\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u76f4\u63a5\u6307\u5b9a\n\ntest_main.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nset var_main=aaa\nset var_sub=\n\necho ---invoke bat file\ntest_sub.bat xxx yyy\necho err: %errorlevel%\necho var_main: %var_main%\necho var_sub:  %var_sub%\necho ---end\n\n\n\ntest_sub.bat\necho ***begin test_sub***\nset var_sub=bbb\n\necho var_main: %var_main%\necho var_sub:  %var_sub%\n\necho arg1: %1\necho arg2: %2\n\ntimeout /t 5 /nobreak\necho ***end test_sub***\n\n\n\ntest_main.bat\u5b9f\u884c\u7d50\u679c\nc:\\temp\\batch_test>test_main.bat\n---invoke bat file\n***begin test_sub***\nvar_main: aaa\nvar_sub:  bbb\narg1: xxx\narg2: yyy\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n***end test_sub***\n\n\n\u89aa\u3082\u5b50\u3082\u540c\u4e00\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u308c\u3001\u5236\u5fa1\u306f\u89aa\u306b\u623b\u3063\u3066\u3053\u306a\u3044\u3002\n\u3053\u308c\u306f\u3042\u3093\u307e\u308a\u4f7f\u3044\u3069\u3053\u308d\u304c\u7121\u3055\u305d\u3046\u3067\u3059\u3002\n\ncall\n\ntest_main.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nset var_main=aaa\nset var_sub=\n\necho ---call\ncall test_sub.bat xxx yyy \necho err: %errorlevel%\necho var_main: %var_main%\necho var_sub:  %var_sub%\necho ---end\n\n\n\ntest_sub.bat\necho ***begin test_sub***\nset var_sub=bbb\n\necho var_main: %var_main%\necho var_sub:  %var_sub%\n\necho arg1: %1\necho arg2: %2\n\ntimeout /t 5 /nobreak\necho ***end test_sub***\n\nexit /b 2\n\n\n\ntest_main.bat\u5b9f\u884c\u7d50\u679c\n---call\n***begin test_sub***\nvar_main: aaa\nvar_sub:  bbb\narg1: xxx\narg2: yyy\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n***end test_sub***\nerr: 2\nvar_main: aaa\nvar_sub:  bbb\n---end\n\n\n\u89aa\u3068\u5b50\u306f\u540c\u4e00\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u5236\u5fa1\u306f\u89aa\u306b\u8fd4\u308a\u3001errorlevel\u3067\u306e\u7d42\u4e86\u30b3\u30fc\u30c9\u5224\u5b9a\u304c\u53ef\u80fd\u3002\n\u5b50(test_sub.bat)\u306e\u6700\u5f8c\u3067\u3001/b\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u3067exit\u3092\u767a\u884c\u3059\u308b\u3068\u3001\u305d\u306e\u6642\u70b9\u3067\u30d7\u30ed\u30bb\u30b9(cmd.exe)\u304c\u7d42\u4e86\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u6ce8\u610f\u3002\n\ncmd\n\ntest_main.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nset var_main=aaa\nset var_sub=\n\necho ---cmd\ncmd /c test_sub.bat xxx yyy\necho err: %errorlevel%\necho var_main: %var_main%\necho var_sub:  %var_sub%\necho ---end\n\n\n\ntest_sub.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\necho ***begin test_sub***\nset var_sub=bbb\n\necho var_main: %var_main%\necho var_sub:  %var_sub%\n\necho arg1: %1\necho arg2: %2\n\ntimeout /t 5 /nobreak\necho ***end test_sub***\n\nexit /b 2\n\n\n\ntest_main.bat\u5b9f\u884c\u7d50\u679c\n---cmd\n***begin test_sub***\nvar_main: aaa\nvar_sub:  bbb\narg1: xxx\narg2: yyy\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n***end test_sub***\nerr: 2\nvar_main: aaa\nvar_sub:\n---end\n\n\n\u89aa\u3068\u5b50\u306f\u5225\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u89aa\u3067\u8a2d\u5b9a\u3057\u305f\u5909\u6570\u306f\u5b50\u306b\u5f15\u304d\u7d99\u304c\u308c\u308b\u304c\u3001\u5b50\u3067\u8a2d\u5b9a\u3057\u305f\u5909\u6570\u306f\u89aa\u306b\u5f15\u304d\u7d99\u304c\u308c\u306a\u3044\u3002\n\u89aa\u3067\u6307\u5b9a\u3057\u305f@echo off\u306f\u5b50\u306b\u5f15\u304d\u7d99\u304c\u308c\u306a\u3044\u306e\u3067\u3001\u5b50\u3067\u3082@echo off\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u5236\u5fa1\u306f\u89aa\u306b\u8fd4\u308a\u3001errorlevel\u3067\u306e\u7d42\u4e86\u30b3\u30fc\u30c9\u5224\u5b9a\u304c\u53ef\u80fd\u3002\n\u5b50\u306e\u6700\u5f8c\u3067\u3001/b\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u3067exit\u3092\u767a\u884c\u3057\u3066\u3082\u6319\u52d5\u306f\u540c\u3058\u3002\n\nstart\n\ntest_main.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nset var_main=aaa\nset var_sub=\n\necho ---start\nstart test_sub.bat xxx yyy\necho err: %errorlevel%\necho var_main: %var_main%\necho var_sub:  %var_sub%\necho ---end\n\n\n\ntest_sub.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\necho ***begin test_sub***\nset var_sub=bbb\n\necho var_main: %var_main%\necho var_sub:  %var_sub%\n\necho arg1: %1\necho arg2: %2\n\ntimeout /t 5 /nobreak\necho ***end test_sub***\n\nexit 2\n\n\n\ntest_main.bat\u5b9f\u884c\u7d50\u679c\n---start\nerr: 0\nvar_main: aaa\nvar_sub:\n---end\n\n\n\ntest_main.bat\u5b9f\u884c\u7d50\u679c(\u5225\u30a6\u30a3\u30f3\u30c9\u30a6)\n***begin test_sub***\nvar_main: aaa\nvar_sub:  bbb\narg1: xxx\narg2: yyy\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n***end test_sub***\n\n\n\u89aa\u3068\u5b50\u306f\u5225\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u89aa\u3067\u8a2d\u5b9a\u3057\u305f\u5909\u6570\u306f\u5b50\u306b\u5f15\u304d\u7d99\u304c\u308c\u308b\u304c\u3001\u5b50\u3067\u8a2d\u5b9a\u3057\u305f\u5909\u6570\u306f\u89aa\u306b\u5f15\u304d\u7d99\u304c\u308c\u306a\u3044\u3002\n\u89aa\u3067\u6307\u5b9a\u3057\u305f@echo off\u306f\u5b50\u306b\u5f15\u304d\u7d99\u304c\u308c\u306a\u3044\u306e\u3067\u3001\u5b50\u3067\u3082@echo off\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\ncall\u3084cmd\u3068\u306f\u7570\u306a\u308a\u3001\u975e\u540c\u671f\u3067\u5b50\u306e\u30d0\u30c3\u30c1\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\u89aa\u306e\u30d0\u30c3\u30c1\u306f\u5b50\u306e\u7d42\u4e86\u3092\u5f85\u305f\u305a\u306b\u5f8c\u7d9a\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u3002\u305d\u306e\u305f\u3081\u5b50\u306e\u7d50\u679c\u306f\u89aa\u306b\u623b\u3089\u306a\u3044\u3002\n\u5b50\u306e\u6700\u5f8c\u3067\u3001/b\u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067exit\u3092\u767a\u884c\u3059\u308b\u3068\u3001\u6d3e\u751f\u3057\u305f\u5225\u30a6\u30a3\u30f3\u30c9\u30a6(cmd.exe\u30d7\u30ed\u30bb\u30b9)\u304c\u6b8b\u308a\u7d9a\u3051\u3066\u3057\u307e\u3046\u3002/b\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u3067exit\u3092\u767a\u884c\u3059\u308b\u3068\u5b50\u30a6\u30a3\u30f3\u30c9\u30a6(\u5b50\u30d7\u30ed\u30bb\u30b9)\u3082\u7d42\u4e86\u3059\u308b\u3002\n\nstart /b\n\ntest_main.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nset var_main=aaa\nset var_sub=\n\necho ---start\nstart /b test_sub.bat xxx yyy\necho err: %errorlevel%\necho var_main: %var_main%\necho var_sub:  %var_sub%\necho ---end\n\n\n\ntest_sub.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\necho ***begin test_sub***\nset var_sub=bbb\n\necho var_main: %var_main%\necho var_sub:  %var_sub%\n\necho arg1: %1\necho arg2: %2\n\ntimeout /t 5 /nobreak\necho ***end test_sub***\n\nexit 2\n\n\n\ntest_main.bat\u5b9f\u884c\u7d50\u679c\nc:\\temp\\batch_test>test_main.bat\n---start /b\nerr: 0\nvar_main: aaa\nvar_sub:\n---end\nc:\\temp\\batch_test>***begin test_sub***\nvar_main: aaa\nvar_sub:  bbb\narg1: xxx\narg2: yyy\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n***end test_sub***\n\n\n\u5225\u30a6\u30a3\u30f3\u30c9\u30a6\u304c\u958b\u304b\u306a\u3044\u3060\u3051\u3067\u3001start(/b\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057)\u3068\u6319\u52d5\u306f\u540c\u3058\u3002\n\u89aa\u3068\u5b50\u306f\u5225\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u89aa\u3067\u8a2d\u5b9a\u3057\u305f\u5909\u6570\u306f\u5b50\u306b\u5f15\u304d\u7d99\u304c\u308c\u308b\u304c\u3001\u5b50\u3067\u8a2d\u5b9a\u3057\u305f\u5909\u6570\u306f\u89aa\u306b\u5f15\u304d\u7d99\u304c\u308c\u306a\u3044\u3002\n\u89aa\u3067\u6307\u5b9a\u3057\u305f@echo off\u306f\u5b50\u306b\u5f15\u304d\u7d99\u304c\u308c\u306a\u3044\u306e\u3067\u3001\u5b50\u3067\u3082@echo off\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\ncall\u3084cmd\u3068\u306f\u7570\u306a\u308a\u3001\u975e\u540c\u671f\u3067\u5b50\u306e\u30d0\u30c3\u30c1\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\u89aa\u306e\u30d0\u30c3\u30c1\u306f\u5b50\u306e\u7d42\u4e86\u3092\u5f85\u305f\u305a\u306b\u5f8c\u7d9a\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u3002\u305d\u306e\u305f\u3081\u5b50\u306e\u7d50\u679c\u306f\u89aa\u306b\u623b\u3089\u306a\u3044\u3002\n\u5b50\u306e\u6700\u5f8c\u3067\u3001/b\u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067exit\u3092\u767a\u884c\u3059\u308b\u3068\u3001\u6d3e\u751f\u3057\u305f\u5225cmd.exe\u30d7\u30ed\u30bb\u30b9\u304c\u6b8b\u308a\u7d9a\u3051\u3066\u3057\u307e\u3046\u3002/b\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u3067exit\u3092\u767a\u884c\u3059\u308b\u3068\u5b50\u30d7\u30ed\u30bb\u30b9\u3082\u7d42\u4e86\u3059\u308b\u3002\n\n\u30d0\u30c3\u30c1\u547c\u3073\u51fa\u3057\u306e\u307e\u3068\u3081\n<\u540c\u671f\u7684\u306a\u547c\u3073\u51fa\u3057>\n\u89aa\u5b50\u3068\u3082\u540c\u4e00\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u305b\u305f\u3044\u5834\u5408: call\n\u89aa\u5b50\u3067\u30d7\u30ed\u30bb\u30b9\u3092\u5206\u3051\u3066\u5b9f\u884c\u3055\u305b\u305f\u3044\u5834\u5408: cmd\n<\u975e\u540c\u671f\u7684\u306a\u547c\u3073\u51fa\u3057>\nstart /b\n(\u30d7\u30ed\u30bb\u30b9\u306f\u89aa\u5b50\u3067\u5206\u304b\u308c\u308b)\n<\u6ce8\u610f>\n\u5b50\u30d0\u30c3\u30c1\u306f\u3001\u547c\u3073\u51fa\u3057\u65b9\u306b\u5fdc\u3058\u3066\u7d42\u4e86\u306e\u3055\u305b\u65b9(exit\u306e/b\u30aa\u30d7\u30b7\u30e7\u30f3\u6709\u7121)\u3092\u610f\u8b58\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u3001\u610f\u56f3\u305b\u305a\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u305f\u308a\u3042\u308b\u3044\u306f\u30b4\u30df\u30d7\u30ed\u30bb\u30b9\u304c\u6b8b\u3063\u3066\u3057\u307e\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\u3069\u3093\u306a\u547c\u3073\u51fa\u3057\u65b9\u6cd5\u3067\u3082OK\u306a\u3088\u3046\u306b\u6c4e\u7528\u7684\u306b\u4f5c\u308c\u308b\u3068\u3044\u3044\u306e\u3060\u304c\u3001\u3069\u3046\u3082\u7121\u7406\u305d\u3046\u306a\u3093\u3060\u3088\u306a\u3041(\u8abf\u3079\u308b\u306e\u75b2\u308c\u305f\u304b\u3089\u3042\u304d\u3089\u3081\u305f)\u3002\n\n\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u30fb\u30b3\u30fc\u30eb\ncall\u6587\u3068\u4f7f\u3046\u3068\u540c\u4e00\u30d0\u30c3\u30c1\u30fb\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30e9\u30d9\u30eb\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\ntest_main.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nset var_main=aaa\nset var_sub=\n\necho ---call label\ncall :label01 xxx yyy\necho err: %errorlevel%\necho var_main: %var_main%\necho var_sub:  %var_sub%\necho ---end\n\ngoto end\n\n\n:label01\n    echo ***begin test_sub***\n    set var_sub=bbb\n\n    echo var_main: %var_main%\n    echo var_sub:  %var_sub%\n\n    echo arg0: %0\n    echo arg1: %1\n    echo arg2: %2\n    echo arg3: %3\n\n    timeout /t 5 /nobreak\n    echo ***end test_sub***\n\n    exit /b 2\n\n:end\n\n\n\n\u5b9f\u884c\u7d50\u679c\nc:\\temp\\batch_test>.\\test_main.bat 111 222 333\n---call label\n***begin test_sub***\nvar_main: aaa\nvar_sub:  bbb\narg0: :label01\narg1: xxx\narg2: yyy\narg3:\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n***end test_sub***\nerr: 2\nvar_main: aaa\nvar_sub:  bbb\n---end\n\n\n\u5f15\u6570\u3082\u6e21\u305b\u308b\u3057\u3001\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u306e\u3088\u3046\u306b\u30e9\u30d9\u30eb\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u89aa\u3092\u5b9f\u884c\u3059\u308b\u6642\u306e\u5f15\u6570\u3068\u3001call\u3067\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u3092\u547c\u3076\u6642\u306e\u5f15\u6570\u3082\u304d\u3061\u3093\u3068\u533a\u5225\u3055\u308c\u3066\u307e\u3059\u3002\n\n\u30d5\u30a1\u30a4\u30eb\u64cd\u4f5c\n\nfor\u6587\n\u7e70\u308a\u8fd4\u3057\u51e6\u7406\u306e\u6240\u3067\u3082\u66f8\u304d\u307e\u3057\u305f\u304c\u3001Windows\u30d0\u30c3\u30c1\u306efor\u6587\u306f\u3069\u3061\u3089\u304b\u3068\u3044\u3046\u3068\u30d5\u30a1\u30a4\u30eb\u64cd\u4f5c\u3067\u6271\u3046\u3053\u3068\u3092\u4e3b\u76ee\u7684\u3068\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u611f\u3058\u304c\u3057\u307e\u3059\u3002for\u6587\u306e\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\u306f\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u4ee5\u4e0b\u306e2\u30b1\u30fc\u30b9\u306b\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n\u7279\u5b9a\u30d5\u30a9\u30eb\u30c0\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u53d6\u5f97\n\u7279\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u5168\u3066\u306b\u5bfe\u3057\u3066\u306a\u3093\u3089\u304b\u306e\u51e6\u7406\u3092\u884c\u3046\u3001\u3068\u3044\u3046\u3088\u3046\u306a\u5834\u5408\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\u57fa\u672c\u5f62:\nfor %%<\u5909\u6570> in (<\u30d5\u30a1\u30a4\u30eb\u30bb\u30c3\u30c8>) do \u30b3\u30de\u30f3\u30c9\n\u203b\u5909\u6570\u306f\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u4e00\u6587\u5b57\n\u203b\u30d5\u30a1\u30a4\u30eb\u30bb\u30c3\u30c8\u306f\u5bfe\u8c61\u3068\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u540d(\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u4f7f\u7528\u53ef)\n\u203b/r\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u7279\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u53ef\u80fd\u3068\u306a\u308a(\u7701\u7565\u6642\u306f\u30ab\u30ec\u30f3\u30c8\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea)\u3001\u30b5\u30d6\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u64cd\u4f5c\u5bfe\u8c61\u3068\u306a\u308b\u3002\u307e\u305f\u3001\u5909\u6570\u306b\u8fd4\u3055\u308c\u308b\u7d50\u679c\u306f\u30d5\u30eb\u30d1\u30b9\u3068\u306a\u308b(\u5148\u306b\u793a\u3057\u305f\u30d0\u30c3\u30c1\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e\u6307\u5b9a(~nx\u307f\u305f\u3044\u306a\u3084\u3064)\u304c\u53ef\u80fd)\u3002\necho --- all files in current dir ---\nfor %%i in (*) do (\n    echo %%i\n)\necho --- bat files in current dir ---\nfor %%i in (*.bat) do (\n    echo %%i\n)\necho --- bat files in current dir and sub dir ---\nfor /r %%i in (*.bat) do (\n    echo %%i\n)\necho --- all files in specific folder ---\nfor /r .\\folder01 %%i in (*) do (\n    echo %%~nxi\n)\n\n\n\u5b9f\u884c\u7d50\u679c\n--- all files in current dir ---\nmemo.txt\ntest.bat\ntest2.bat\ntest3.bat\ntest_main.bat\ntest_sub.bat\n--- bat files in current dir ---\ntest.bat\ntest2.bat\ntest3.bat\ntest_main.bat\ntest_sub.bat\n--- bat files in current dir and sub dir ---\nc:\\temp\\batch_test\\test.bat\nc:\\temp\\batch_test\\test2.bat\nc:\\temp\\batch_test\\test3.bat\nc:\\temp\\batch_test\\test_main.bat\nc:\\temp\\batch_test\\test_sub.bat\nc:\\temp\\batch_test\\folder01\\aaa.bat\n--- all files in specific folder ---\naaa.bat\ntest.txt\n\n\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u3092\u8aad\u307f\u8fbc\u3080\n\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u3092\u8aad\u3093\u3067\u3001\u5404\u884c\u6bce\u306b\u7e70\u308a\u8fd4\u3057\u51e6\u7406\u3092\u884c\u3046\u3088\u3046\u306a\u5834\u5408\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\u57fa\u672c\u5f62:\nfor /f <\u30aa\u30d7\u30b7\u30e7\u30f3> %%<\u5909\u6570> in (<\u30d5\u30a1\u30a4\u30eb\u540d>) do \u30b3\u30de\u30f3\u30c9\n\u203b\u5909\u6570\u306f\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u4e00\u6587\u5b57\n\u203b\u30d5\u30a1\u30a4\u30eb\u30bb\u30c3\u30c8\u306f\u5bfe\u8c61\u3068\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u540d(\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u4f7f\u7528\u53ef)\n\nlist.csv\nName,DeptCode,Birthday,Phone,address\nTanaka Ichro,A001,1980/03/04,1111,Tokyo\nSuzuki Jiro,B002,1990/10/20,2222,Chiba\nSatoh Saburo,C003,1985/05/15,3333,Kanagawa\n\n\nfor /f \"skip=1 delims=, tokens=1,2,3* usebackq\" %%a in (\"list.csv\") do (\n    echo -----\n    echo Name: %%a\n    echo DeptCode: %%b\n    echo Birthday: %%c\n    echo etc: %%d\n)\n\n\n\u5b9f\u884c\u7d50\u679c\n-----\nName: Tanaka Ichro\nDeptCode: A001\nBirthday: 1980/03/04\netc: 1111,Tokyo\n-----\nName: Suzuki Jiro\nDeptCode: B002\nBirthday: 1990/10/20\netc: 2222,Chiba\n-----\nName: Satoh Saburo\nDeptCode: C003\nBirthday: 1985/05/15\netc: 3333,Kanagawa\n\n\n\u30aa\u30d7\u30b7\u30e7\u30f3\u88dc\u8db3\n\nskip: \u30b9\u30ad\u30c3\u30d7\u3059\u308b\u884c\u6570(\u4e0a\u306e\u4f8b\u3067\u306f\u8aad\u307f\u8fbc\u307f\u5bfe\u8c61\u306ecsv\u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d\u884c\u304c\u30d8\u30c3\u30c0\u30fc\u884c\u306a\u306e\u30671\u884c\u8aad\u307f\u98db\u3070\u3057\u3066\u3044\u308b)\ndelims: \u533a\u5207\u308a\u6587\u5b57(\u30c7\u30ea\u30df\u30c3\u30bf)\u3002\u4e0a\u306e\u4f8b\u3067\u306fcsv\u5f62\u5f0f\u3092\u60f3\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u30ab\u30f3\u30de(,)\u3092\u533a\u5207\u308a\u6587\u5b57\u3068\u3057\u3066\u6307\u5b9a\u3002(\u7701\u7565\u6642\u306f\u30d6\u30e9\u30f3\u30aforTab\u304c\u533a\u5207\u308a\u6587\u5b57\u3068\u306a\u308b)\ntokens: \u533a\u5207\u308a\u6587\u5b57\u3067\u533a\u5207\u3089\u308c\u305f\u5217\u306e\u3046\u3061\u3001\u3069\u306e\u5217\u3092\u53d6\u5f97\u3059\u308b\u304b\u3092\u6307\u5b9a\u3002\u4e0a\u306e\u4f8b\u3067\u306f\u30011,2,3\u5217\u76ee(\u5143\u306ecsv\u304c3\u5217\u60f3\u5b9a\u306a\u306e\u3067\u5168\u5217\u76f8\u5f53)\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u5404\u5217\u306f\u5909\u6570\u306b\u6307\u5b9a\u3055\u308c\u305f\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u304b\u3089\u9806\u756a\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059(1\u5217\u76ee=>%%a, 2\u5217\u76ee=>%%b, 3\u5217\u76ee=>%%c)\u3002\u672b\u5c3e\u306b\u30a2\u30b9\u30bf\u30ea\u30b9\u30af\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u305d\u308c\u4ee5\u964d\u306f\u307e\u308b\u3054\u30681\u3064\u306e\u5217\u3068\u3057\u3066\u6b21\u306e\u5909\u6570\u306b\u8fd4\u3055\u308c\u307e\u3059(4\u5217\u76ee\u4ee5\u964d=>%%d)\u3002\nusebackq: \u30d5\u30a1\u30a4\u30eb\u540d\u3092\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u304f\u304f\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d6\u30e9\u30f3\u30af\u3092\u542b\u3080\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u540d/\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u60f3\u5b9a\u3057\u305f\u5834\u5408\u3001\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\u304a\u304f\u3068\u6c4e\u7528\u6027\u304c\u9ad8\u307e\u308a\u307e\u3059\u3002\n\n\n\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n\u3053\u308c\u306f\u4ed6\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3068\u307b\u307c\u540c\u69d8\u3067\u5206\u304b\u308a\u3084\u3059\u3044\u3002\n\u6a19\u6e96\u51fa\u529b\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8/\u65b0\u898f\u4f5c\u6210 \n(\u65e2\u5b58\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070\u5185\u5bb9\u306f\u30af\u30ea\u30a2\u3055\u308c\u3066\u65b0\u305f\u306b\u4f5c\u6210\u3055\u308c\u308b)\n\u30b3\u30de\u30f3\u30c9 > \u30d5\u30a1\u30a4\u30eb\u540d\n\n\u6a19\u6e96\u51fa\u529b\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8/\u8ffd\u8a18\n(\u65e2\u5b58\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070\u8ffd\u8a18\u3002\u306a\u3051\u308c\u3070\u65b0\u898f\u4f5c\u6210)\n\u30b3\u30de\u30f3\u30c9 >> \u30d5\u30a1\u30a4\u30eb\u540d\n\n\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8/\u65b0\u898f\u4f5c\u6210\n\u30b3\u30de\u30f3\u30c9 2> \u30d5\u30a1\u30a4\u30eb\u540d\n\n\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8/\u8ffd\u8a18\n\u30b3\u30de\u30f3\u30c9 2>> \u30d5\u30a1\u30a4\u30eb\u540d\n\n\u6a19\u6e96\u51fa\u529b&\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n\u30b3\u30de\u30f3\u30c9 > \u30d5\u30a1\u30a4\u30eb\u540d1 2> \u30d5\u30a1\u30a4\u30eb\u540d2\n\n\u6a19\u6e96\u51fa\u529b&\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306e\u540c\u4e00\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n\u30b3\u30de\u30f3\u30c9 >> \u30d5\u30a1\u30a4\u30eb\u540d 2>&1\n\n\u4f8b:\nset logfile=test.log\necho %date% %time% --- begin --- > %logfile%\naaa >> %logfile% 2>&1\necho %date% %time% --- end --- >> %logfile%\n\n\n\u5b9f\u884c\u7d50\u679c(test.log)\n2016/08/13 20:59:09.72 --- begin ---\n'aaa' \u306f\u3001\u5185\u90e8\u30b3\u30de\u30f3\u30c9\u307e\u305f\u306f\u5916\u90e8\u30b3\u30de\u30f3\u30c9\u3001\n\u64cd\u4f5c\u53ef\u80fd\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u307e\u305f\u306f\u30d0\u30c3\u30c1 \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n2016/08/13 20:59:09.74 --- end ---\n\n\n\n\u304a\u307e\u3051\nWindows\u30d0\u30c3\u30c1\u307e\u3068\u3081 \u88dc\u8db3: \u30d0\u30c3\u30c1\u3067\u51fa\u6765\u306a\u3044\u3053\u3068\u3092\u4ed6\u306e\u4ed5\u7d44\u307f\u3067\u88dc\u3046\n#\u306f\u3058\u3081\u306b\nPython? PHP?\u3000\u3044\u3084\u3044\u3084\u3001\u305d\u3093\u306a\u30aa\u30b5\u30ec\u306a\u3082\u306e\u3067\u306f\u306a\u304f\u3001\u3053\u3053\u3067\u53d6\u308a\u4e0a\u3052\u308b\u306e\u306f\u4eca\u305d\u3053\u306b\u3042\u308bWindows\u30d0\u30c3\u30c1\u3067\u3059\u3002\n\u305f\u307e\u305f\u307e\u6700\u8fd1Windows Server\u5468\u308a\u306e\u7ba1\u7406\u3084Windows\u3092\u4f7f\u3063\u305f\u30d0\u30c3\u30c1\u904b\u7528\u306e\u4ed5\u7d44\u307f\u4f5c\u308a\u306b\u643a\u308f\u308b\u3053\u3068\u304c\u3042\u308a\u3001\u4eca\u66f4\u306a\u304c\u3089Windows\u30d0\u30c3\u30c1\u3068\u683c\u95d8\u3059\u308b\u3053\u3068\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u5099\u5fd8\u9332\u3068\u3057\u3066\u307e\u3068\u3081\u307e\u3059\u3002\nUnix\u7cfb\u306e\u30b7\u30a7\u30eb\u30fb\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u6163\u308c\u3066\u3044\u308b\u3068Windows\u30d0\u30c3\u30c1\u306f\u7d50\u69cb\u30af\u30bb\u304c\u3042\u3063\u3066\u4f7f\u3044\u3065\u3089\u3044\u3068\u601d\u3044\u307e\u3059\u3002VBScript\u3082\u4eca\u66f4\u306a\u611f\u3058\u3060\u3057\u672c\u547d\u306fPowerShell\u306a\u306e\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u304c\u3001PowerShell\u306f\u30d1\u30c3\u3068\u898b\u3068\u3063\u3064\u304d\u306b\u304f\u305d\u3046\u3067\u62d2\u7d76\u53cd\u5fdc\u304c\u51fa\u307e\u3057\u305f\u3002\n\u624b\u8efd\u306b\u30b0\u30fc\u30b0\u30eb\u5148\u751f\u306b\u983c\u308c\u306a\u3044\u73fe\u5834\u74b0\u5883\u3067\u3042\u3063\u305f\u3068\u3044\u3046\u3053\u3068\u3082\u3042\u308a\u3001\u624b\u3063\u53d6\u308a\u65e9\u304fWindows\u30d0\u30c3\u30c1\u3092\u4f7f\u3063\u3066\u307f\u305f\u3068\u3044\u3046\u611f\u3058\u3067\u3059(Windows10\u3060\u3068bash\u304c\u4f7f\u3048\u308b\u3089\u3057\u3044\u306e\u3067\u65e9\u304f\u305d\u3046\u3044\u3046\u74b0\u5883\u304c\u5e83\u304c\u3063\u3066\u307b\u3057\u3044\u3093\u3067\u3059\u304c...)\u3002\n\u60c5\u5831\u3068\u3057\u3066\u306f\u76ee\u65b0\u3057\u3044\u3082\u306e\u306f\u7121\u3044\u3067\u3059\u304c\u3001\u7d30\u304b\u3044\u3068\u3053\u308d\u306f\u7d50\u69cb\u3042\u3061\u3053\u3061\u8abf\u3079\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u3053\u306e\u8fba\u62bc\u3055\u3048\u3066\u304a\u3051\u3070\u3042\u308b\u7a0b\u5ea6\u306e\u3053\u3068\u306f\u51fa\u6765\u308b\u3067\u3057\u3087\u3046\u3001\u3068\u3044\u3046\u306e\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n#\u57fa\u672c\n##\u30d5\u30a1\u30a4\u30eb\u540d\n\u62e1\u5f35\u5b50 .bat\nex. test.bat\n##\u30b3\u30e1\u30f3\u30c8\u884c\n\u884c\u982d\u306brem\u3092\u4ed8\u3051\u308b\n\"rem\"\u81ea\u4f53\u306f\u30b3\u30de\u30f3\u30c9\u306a\u306e\u3067\u30d8\u30eb\u30d7\u3082\u898b\u3089\u308c\u307e\u3059\u3002\n\u884c\u672b\u30b3\u30e1\u30f3\u30c8\u3084\u8907\u6570\u884c\u30b3\u30e1\u30f3\u30c8\u306e\u4ed5\u7d44\u307f\u306f\u7121\u3044\u3088\u3046\u3067\u3059\u3002\n\u64ec\u4f3c\u7684\u306b\u305d\u308c\u3089\u3092\u884c\u3046\u30c6\u30af\u30cb\u30c3\u30af\u306f\u3042\u308b\u3088\u3046\u3067\u3059\u304c\u3001\u6761\u4ef6\u306b\u3088\u3063\u3066\u306f\u6b63\u3057\u304f\u52d5\u4f5c\u3057\u306a\u304b\u3063\u305f\u308a\u6df7\u4e71\u306e\u5143\u306b\u306a\u308a\u305d\u3046\u306a\u306e\u3067\u500b\u4eba\u7684\u306b\u306f\u3042\u307e\u308a\u4f7f\u3046\u3079\u304d\u3067\u306f\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n(rem\u30b3\u30de\u30f3\u30c9\u306e\u4ee3\u308f\u308a\u306b\u300c::\u300d\u3092\u4f7f\u3046\u65b9\u6cd5\u3082\u3001\u30e9\u30d9\u30eb\u306e\u4ed5\u7d44\u307f\u3092\u5229\u7528\u3057\u305f\u64ec\u4f3c\u7684\u306a\u30b3\u30e1\u30f3\u30c8\u8a18\u8f09\u65b9\u6cd5\u306a\u306e\u3067\u540c\u69d8\u3002)\n\n##\u5b9a\u8de1\u7684\u306a(?)\u4f7f\u3044\u65b9\n\u5148\u982d\u306b\u4ee5\u4e0b\u306e3\u884c\u3092\u66f8\u3044\u3066\u304a\u304f\u3002\n\n```bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n```\n\n\u30d0\u30c3\u30c1\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u6319\u52d5\u3068\u3057\u3066\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u547d\u4ee4\u6587\u304c\u3059\u3079\u3066\u6a19\u6e96\u51fa\u529b\u306b\u8868\u793a\u3055\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002bash\u3068\u304b\u3067\u30c7\u30d0\u30c3\u30b0\u3059\u308b\u5834\u5408\u306b```sh -x xxx.sh``` \u306e\u3088\u3046\u306b\"-x\"\u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067\u5b9f\u884c\u3057\u305f\u308a\u3057\u307e\u3059\u304c\u3001Windows\u30d0\u30c3\u30c1\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u304c\u305d\u306e\u3088\u3046\u306a\u6319\u52d5\u306b\u306a\u3063\u3061\u3083\u3063\u3066\u307e\u3059(\u3046\u30fc\u3093\u3001\u9b31\u9676\u3057\u3044)\u3002\u5404\u30b3\u30de\u30f3\u30c9\u306e\u5148\u982d\u306b\u300c@\u300d\u3092\u4ed8\u3051\u308b\u3068\u305d\u306e\u30b3\u30de\u30f3\u30c9\u306f\u8868\u793a\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u304c\u3001\u305d\u308c\u305e\u308c\u300c@\u300d\u3064\u3051\u308b\u306e\u306f\u73fe\u5b9f\u7684\u3067\u306f\u306a\u3044\u3067\u3059\u306d\u3002```echo off```\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u3068\u3053\u306e\u6a5f\u80fd\u304c\u30aa\u30d5\u306b\u306a\u308a\u3001\u305d\u308c\u4ee5\u964d\u30b3\u30de\u30f3\u30c9\u81ea\u4f53\u306e\u51fa\u529b\u304c\u6291\u6b62\u3055\u308c\u307e\u3059\u3002```echo off```\u81ea\u4f53\u3082\u51fa\u529b\u3055\u305b\u306a\u3044\u305f\u3081\u306b\u3001\u6700\u521d\u3060\u3051\u300c@\u300d\u4ed8\u3051\u3066```@echo off```\u3068\u3057\u3066\u3044\u308b\u8a33\u3067\u3059\u3002\n\u3064\u307e\u308a\u3001\u6700\u521d\u306b```@echo off```\u3092\u5ba3\u8a00\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u4e00\u5207\u547d\u4ee4\u6587\u306e\u8868\u793a\u304c\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059(\u2252sh\u306e-x\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u306e\u52d5\u4f5c)\u3002\u307e\u3001\u666e\u901a\u3053\u3046\u3057\u307e\u3059\u308f\u306a\u3002\n```setlocal enabledelayedexpansion```\u306f\u9045\u5ef6\u5909\u6570\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u3092\u4f7f\u3046\u5834\u5408\u306e\u6307\u5b9a\u3002\u5909\u6570\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u88dc\u8db3\u3057\u307e\u3059\u3002\n```cd %~dp0```\u306f\u3001\u5f53\u8a72\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u3092\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3082\u5f8c\u7d9a\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u88dc\u8db3\u3057\u307e\u3059\u3002\n\n##\u5b9f\u884c\u65b9\u6cd5\n\n* \u30b3\u30de\u30f3\u30c9\u30fb\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066\u30a8\u30f3\u30bf\u30fc\n* explorer\u304b\u3089\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\n* \u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u30fc\u3067\u6307\u5b9a\n* \u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u81ea\u52d5\u5b9f\u884c\n\n\u3053\u306e\u3042\u305f\u308a\u306e\u8d77\u52d5\u65b9\u6cd5\u3092\u60f3\u5b9a\u3057\u3066\u307e\u3059\u3002\n\u30d0\u30c3\u30c1\u304b\u3089\u5225\u306e\u30d0\u30c3\u30c1\u306e\u547c\u3073\u51fa\u3057\u306b\u3064\u3044\u3066\u306f\u5225\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u88dc\u8db3\u3057\u307e\u3059\u3002\n\n##\u30d8\u30eb\u30d7\n\u56f0\u3063\u305f\u3089\u30d8\u30eb\u30d7\u53c2\u7167\u3002\n[\u30b3\u30de\u30f3\u30c9] /? \u3067\u30d8\u30eb\u30d7\u53c2\u7167\u53ef\u80fd\u3067\u3059\u3002\n\n```\nC:\\>echo /?\n\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u305f\u308a\u3001\u30b3\u30de\u30f3\u30c9 \u30a8\u30b3\u30fc\u306e ON \u3068 OFF \u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002\n\n  ECHO [ON | OFF]\n  ECHO [\u30e1\u30c3\u30bb\u30fc\u30b8]\n\n\u73fe\u5728\u306e\u30a8\u30b3\u30fc\u8a2d\u5b9a\u3092\u8868\u793a\u3059\u308b\u306b\u306f\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u6307\u5b9a\u305b\u305a\u306b ECHO \u3068\u5165\u529b\u3057\u3066\n\u304f\u3060\u3055\u3044\u3002\n```\n\n##\u305d\u306e\u4ed6\n\u30b3\u30de\u30f3\u30c9\u3001\u5909\u6570\u540d\u306b\u3064\u3044\u3066\u5927\u6587\u5b57\u3001\u5c0f\u6587\u5b57\u306f\u57fa\u672c\u533a\u5225\u7121\u3057\u3002\nwhile\u6587, switch\u6587\u306b\u76f8\u5f53\u3059\u308b\u3082\u306e\u306f\u7121\u3055\u305d\u3046\u3002\n(\u305d\u308c\u3063\u307d\u3044\u3082\u306e\u306fif\u6587\u3068\u304bgoto\u6587\u3092\u99c6\u4f7f\u3057\u3066\u5b9f\u88c5\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3088\u3046\u3060\u3002\u30a4\u30b1\u3066\u306a\u3044\u306d\u3002)\n\u95a2\u6570\u307f\u305f\u3044\u306a\u3082\u306e\u3082\u7121\u3055\u305d\u3046\u3002\n\n#\u5909\u6570\n## \u5909\u6570\u306e\u8a2d\u5b9a\u3068\u53c2\u7167\n```bat:\nset var1=\"abcde\"\nset var2=abcde\nset var3=12345\nset var4 = 54321\nset /a \"var5 = var3 + 1\"\nset /a \"var6 = %var3% + %var4 %\"\n\necho var1: %var1%\necho var2: %var2%\necho var3: %var3%\necho var4: %var4%\necho var4 : %var4 %\necho var5: %var5%\necho var6: %var6%\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\nvar1: \"abcde\"\nvar2: abcde\nvar3: 12345\nvar4:\nvar4 :  54321\nvar5: 12346\nvar6: 66666\n```\n\n* \u5909\u6570\u3078\u306e\u5024\u306e\u30bb\u30c3\u30c8\u306f```set```\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n* \u5909\u6570\u306b\u5024\u3092\u30bb\u30c3\u30c8\u3059\u308b\u969b\u3001=\u306e\u524d\u5f8c\u306b\u30d6\u30e9\u30f3\u30af\u3092\u5165\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3059(\u30d6\u30e9\u30f3\u30af\u3092\u5165\u308c\u308b\u3068\u30d6\u30e9\u30f3\u30af\u3092\u542b\u3081\u305f\u5909\u6570\u540d\u3001\u5024\u3068\u8a8d\u8b58\u3055\u308c\u308b: var4\u306e\u4f8b\u53c2\u7167)\u3002\n* \u5909\u6570\u3092\u53c2\u7167\u3059\u308b\u969b\u306f%\u3067\u5909\u6570\u540d\u3092\u304f\u304f\u308b(```%var1%```)\u3002\n* \u8a08\u7b97\u5f0f\u306e\u7d50\u679c\u3092\u5909\u6570\u306b\u4ee3\u5165\u3059\u308b\u5834\u5408\u306f```set /a```\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u8a08\u7b97\u5f0f\u3067\u306f\u5909\u6570\u306e\u53c2\u7167\u306e\u969b\u306f%\u3092\u4ed8\u3051\u3066\u3082\u4ed8\u3051\u306a\u304f\u3066\u3082OK(\u305f\u3060\u3057\u30d6\u30e9\u30f3\u30af\u306f\u6587\u5b57\u533a\u5207\u308a\u3068\u5224\u65ad\u3055\u308c\u308b\u3088\u3046\u3067\u3059)\u3002\n\n##\u9045\u5ef6\u5909\u6570\n\u30cf\u30de\u30ea\u304c\u3061\u306a\u306e\u304c\u30b3\u30ec\u3002\n\n```bat:\nset result=***\nset var1=aaa\nif %var1%==aaa (\n\tset result=TRUE\n\techo result: %result%\n)\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\nresult: ***\n```\n\n\u30d1\u30c3\u3068\u898b\u3001\u3053\u306e\u30b3\u30fc\u30c9\u306fresult: TRUE\u3068\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u307e\u3059\u304c\u305d\u3046\u306f\u306a\u308a\u307e\u305b\u3093\u3002\nif\u6587\u306f\u6700\u5f8c\u306e\u62ec\u5f27\u9589\u3058\u307e\u3067(\u4e0a\u306e\u30bd\u30fc\u30b9\u3060\u3068\u6700\u5f8c4\u884c\u5206)\u304c1\u3064\u306e\u547d\u4ee4\u306a\u306e\u3067\u3001\u307e\u305a\u305d\u306e\u547d\u4ee4\u5b9f\u884c\u524d\u306b\u5909\u6570\u89e3\u91c8\u304c\u884c\u308f\u308c\u307e\u3059\u3002\u3059\u306a\u308f\u3061\u3001echo\u6587\u306e%result%\u306f\u3001if\u6587\u304c\u8aad\u307e\u308c\u305f\u6642\u70b9\u306eresult\u306e\u5185\u5bb9\u300c***\u300d\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059(\u5909\u6570\u89e3\u91c8\u304c\u884c\u308f\u308c\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u306f```set result=TRUE```\u306f\u307e\u3060\u5b9f\u884c\u3055\u308c\u3066\u3044\u306a\u3044)\u3002\n\u3053\u308c\u306f\u3001```@echo off``` \u3092\u6307\u5b9a\u305b\u305a(= ```@echo on```\u3067)\u5b9f\u884c\u3057\u3066\u307f\u308b\u3068\u5206\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002\n\n```xxx:echo_on\u3067\u306e\u5b9f\u884c\u7d50\u679c\nC:\\>set result=***\n\nC:\\>set var1=aaa\n\nC:\\>if aaa == aaa (\nset result=TRUE\n echo result: ***\n)\nresult: ***\n```\n\n\u9045\u5ef6\u5909\u6570\u3068\u3044\u3046\u306e\u3092\u4f7f\u3046\u3068\u3001\u5b9f\u884c\u6642\u306b\u5909\u6570\u89e3\u91c8\u304c\u884c\u308f\u308c\u307e\u3059\u3002\n\u5148\u307b\u3069\u306e\u3092\u9045\u5ef6\u5909\u6570\u3092\u4f7f\u3063\u3066\u66f8\u304d\u63db\u3048\u308b\u3068...\n\n```bat:\nsetlocal enabledelayedexpansion\n\nset result=***\nset var1=aaa\nif %var1%==aaa (\n\tset result=TRUE\n\techo result: !result!\n)\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\nresult: TRUE\n```\n\u5148\u982d\u306b\u3001```setlocal enabledelayedexpansion```\u3092\u8ffd\u52a0\u3057\u3001\u5909\u6570\u306e\u53c2\u7167\u306e\u969b%\u3067\u306f\u306a\u304f!\u3067\u5909\u6570\u540d\u3092\u304f\u304f\u308a\u307e\u3059(```!result!```)\u3002\n\nif\u3084for\u6587\u306e\u4e2d\u3067\u5909\u6570\u3092\u53c2\u7167\u3059\u308b\u969b\u306f\u305d\u306e\u5909\u6570\u304c\u3069\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u306b\u6ce8\u610f\u3057\u3066\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u9045\u5ef6\u5909\u6570\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\n(Unix\u7cfb\u306e\u30b7\u30a7\u30eb\u3060\u3068\u3053\u3093\u306a\u3053\u3068\u7121\u3044\u306e\u3067\u3068\u307e\u3069\u3044\u307e\u3059\u306d\u3002\u307e\u3063\u305f\u304f\u3081\u3093\u3069\u304f\u3055\u3044\u6319\u52d5\u3060...)\n\n##\u65e5\u4ed8/\u6642\u523b\n\u74b0\u5883\u5909\u6570```date```\u3001```time```\u3067\u65e5\u4ed8\u3001\u6642\u523b\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\u5b9f\u884c\u30ed\u30b0\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u51fa\u3059\u969b\u306b\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u4ed8\u3051\u305f\u308a\u3057\u305f\u3044\u6642\u306b\u4f7f\u3048\u307e\u3059\u3002\n\n```bat:\nsetlocal enabledelayedexpansion\n\necho \u65e5\u4ed8 %date%\necho \u6642\u523b %time%\n\nset var1=aaa\nif %var1%==aaa (\n\techo %date% %time% --- begin ---\n\ttimeout /t 5 /nobreak\n\techo %date% %time% --- end ---\n)\n\nif %var1%==aaa (\n\techo !date! !time! --- begin ---\n\ttimeout /t 5 /nobreak\n\techo !date! !time! --- end ---\n)\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\n\u65e5\u4ed8 2016/07/31\n\u6642\u523b 14:04:31.82\n2016/07/31 14:04:31.82 --- begin ---\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n2016/07/31 14:04:31.82 --- end ---\n2016/07/31 14:04:36.11 --- begin ---\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n2016/07/31 14:04:41.16 --- end ---\n```\n\n```%date%```, ```%time%``` \u3067\u73fe\u5728\u306e\u65e5\u4ed8\u3001\u6642\u523b\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\u6642\u523b\u306f10\u30df\u30ea\u79d2\u5358\u4f4d\u3067\u306e\u5024\u304c\u53d6\u5f97\u3055\u308c\u307e\u3059\u3002\nif\u6587\u3084for\u6587\u306e\u4e2d\u3067\u6642\u9593\u304c\u304b\u304b\u308b\u51e6\u7406\u306e\u524d\u5f8c\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u53d6\u5f97\u3059\u308b\u3088\u3046\u306a\u5834\u5408\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\u4e0a\u306e\u4f8b\u3067\u306f\u3001if\u6587\u4e2d\u306b```timeout```\u30b3\u30de\u30f3\u30c9\u30675\u79d2\u30b9\u30ea\u30fc\u30d7\u3057\u3066\u304a\u308a\u3001\u305d\u306e\u524d\u5f8c\u3067\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u51fa\u529b\u3057\u3066\u3044\u307e\u3059\u304c\u3001%\u3067\u5909\u6570\u53c2\u7167\u3059\u308b\u3068if\u6587\u8aad\u307f\u53d6\u308a\u6642\u306b\u5909\u6570\u89e3\u91c8\u3055\u308c\u308b\u306e\u3067\u30011\u3064\u3081\u306ebegin, end\u30da\u30a2\u306f\u540c\u3058\u6642\u523b\u304c\u51fa\u529b\u3055\u308c\u3066\u3057\u307e\u3063\u3066\u307e\u3059\u306d\u3002\n2\u3064\u3081\u306e\u4f8b\u306f!\u306b\u3088\u308b\u9045\u5ef6\u5909\u6570\u3068\u3057\u3066\u306e\u53c2\u7167\u306a\u306e\u3067\u3001\u304d\u3061\u3093\u3068```timeout```\u30b3\u30de\u30f3\u30c9\u524d\u5f8c\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u304c\u53d6\u308c\u3066\u307e\u3059\u3002\n\u3082\u3046\u4e00\u70b9\u3001time\u74b0\u5883\u5909\u6570\u306b\u3064\u3044\u3066\u306e\u6ce8\u610f\u3067\u3059\u3002\u306a\u3093\u3068\u30010\u6642\uff5e9\u6642\u306e\u5834\u5408\u3001\u51fa\u529b\u7d50\u679c\u306e\u6841\u6570\u304c\u5c11\u306a\u304f\u306a\u308a\u307e\u3059\uff01\n\u4f8b: \n\n* 1\u66425\u5206\u306etime\u74b0\u5883\u5909\u6570\u306e\u5024 =>  1:05:00.00 (01:05:00.00\u3067\u306f\u306a\u304f\u5148\u982d\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u304c\u5165\u308b)\n* 11\u66425\u5206\u306etime\u74b0\u5883\u5909\u6570\u306e\u5024 => 11:05:00.00\n\n\u6642\u523b\u90e8\u5206\u306b\u3064\u3044\u3066**\u3060\u3051**\u306f\u3001\u306a\u305c\u304b\u6841\u3042\u308f\u305b\u306e\u305f\u3081\u306b0\u3067\u306f\u306a\u304f\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u3092\u3076\u3061\u8fbc\u3093\u3067\u304f\u308b\u3068\u3044\u3046\u306a\u3093\u3068\u3082\u3072\u3069\u3044\u4ed5\u69d8\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\u6642\u523b\u3092\u6587\u5b57\u5217\u3068\u3057\u3066\u6271\u3044\u305f\u3044\u5834\u5408(\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u4ed8\u3051\u308b\u5834\u5408\u306a\u3069)\u3001\u9806\u5e8f\u6027\u304c\u305a\u308c\u3066\u3057\u307e\u3063\u305f\u308a\u3059\u308b\u306e\u3067\u3001\u3053\u306e\u6319\u52d5\u306f\u8a8d\u8b58\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u75db\u3044\u76ee\u3092\u898b\u307e\u3059\u3002\n\n##\u5909\u6570\u89e3\u91c8\u6642\u306e\u6587\u5b57\u5217\u64cd\u4f5c\n\n\u5909\u6570\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306b\u3064\u3044\u3066\u3001\u4e00\u90e8\u5206\u3092\u62bd\u51fa\u3057\u305f\u308a\u3001\u7f6e\u63db\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n###\u62bd\u51fa\n\u57fa\u672c\u5f62\u306f\u3053\u3061\u3089\u3067\u3059\u3002\n%<\u5909\u6570\u540d>:~<\u958b\u59cb\u4f4d\u7f6e>,<\u6587\u5b57\u6570>%\n\u4e00\u90e8\u7701\u7565\u3084-\u6307\u5b9a\u3067\u610f\u5473\u5408\u3044\u304c\u5909\u308f\u308a\u307e\u3059\u3002\n\u958b\u59cb\u4f4d\u7f6e\u306b\u3064\u3044\u3066\u306f\u3001\u5148\u982d\u6587\u5b57\u306f0\u6587\u5b57\u76ee\u3068\u30ab\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\n\n```bat:\nrem \u6587\u5b57\u5217\u5168\u4f53\necho ex00: %var1%\n\nrem 3\u6587\u5b57\u76ee\u304b\u3089\u6700\u5f8c\u307e\u3067\necho ex01: %var1:~3%\n\nrem 3\u6587\u5b57\u76ee\u304b\u30895\u6587\u5b57\u5206\necho ex02: %var1:~3,5%\n\nrem 3\u6587\u5b57\u76ee\u304b\u3089\u3001\u672b\u5c3e5\u6587\u5b57\u3092\u9664\u3044\u305f\u3082\u306e\necho ex03: %var1:~3,-5%\n\nrem \u672b\u5c3e\u3088\u308a\u6570\u3048\u30668\u6587\u5b57\u76ee\u304b\u3089\u6700\u5f8c\u307e\u3067\necho ex04: %var1:~-8%\n\nrem \u672b\u5c3e\u3088\u308a\u6570\u3048\u30668\u6587\u5b57\u76ee\u304b\u30895\u6587\u5b57\u5206\necho ex05: %var1:~-8,5%\n\nrem \u672b\u5c3e\u3088\u308a\u6570\u3048\u30668\u6587\u5b57\u76ee\u304b\u3089\u3001\u672b\u5c3e5\u6587\u5b57\u3092\u9664\u3044\u305f\u3082\u306e\necho ex06: %var1:~-8,-5%\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\nex00: abcde12345\nex01: de12345\nex02: de123\nex03: de\nex04: cde12345\nex05: cde12\nex06: cde\n```\n\n###\u7f6e\u63db\n\u57fa\u672c\u5f62\u306f\u3053\u3061\u3089\u3067\u3059\u3002\n%<\u5909\u6570\u540d>:<\u7f6e\u63db\u524d\u6587\u5b57\u5217>=<\u7f6e\u63db\u5f8c\u6587\u5b57\u5217>%\n\n```bat:\nset var1=aaaaabbbbbcccccaaaaa\necho ex01: %var1:aa=AA%\nset var2=abababababababababab\necho ex02: %var2:aba=ABA%\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\nex01: AAAAabbbbbcccccAAAAa\nex02: ABAbABAbABAbABAbABAb\n```\n\n\u5148\u982d\u304b\u3089\u898b\u3066\u3044\u3063\u3066\u90fd\u5ea6\u5408\u81f4\u3059\u308b\u3082\u306e\u3092\u7f6e\u304d\u63db\u3048\u3066\u3044\u304f\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\n\n###\u5fdc\u7528\u7de8 (\u65e5\u4ed8/\u6642\u523b\u306e\u6587\u5b57\u5217\u64cd\u4f5c)\n\u65e5\u4ed8\u3001\u6642\u523b\u306e\u6587\u5b57\u5217\u3092\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u4ed8\u4e0e\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u3057\u305f\u3044\u3001\u3068\u3044\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u306d(2016\u5e747\u670831\u65e5 13\u664214\u520655\u79d2\u306b\u30a8\u30e9\u30fc\u30fb\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210 => test_20160731_131455.log\u307f\u305f\u3044\u306a)\u3002\n\u4e0a\u306e\u65b9\u6cd5\u3092\u4f7f\u3063\u3066\u3001%date%, %time%\u304b\u3089\u5fc5\u8981\u306a\u6587\u5b57\u5217\u3060\u3051\u629c\u304d\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```bat:\nrem \u73fe\u5728\u306e\u65e5\u6642\u3092\u53d6\u5f97\nset thisDate=%date%\nset thisTime=%time%\n\nrem \u65e5\u4ed8\u306e\u533a\u5207\u308a\u306e/\u3092\u7701\u7565 (\u7f6e\u63db\u5148\u6587\u5b57\u5217\u7121\u3057)\nset custDate=%thisDate:/=%\n\nrem \u6642\u523b\u306e\u6587\u5b57\u5217\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u304c\u3042\u3063\u305f\u5834\u54080\u306b\u7f6e\u63db\nset custTime_temp=%thisTime: =0%\nrem \u5148\u982d\u304b\u30898\u6587\u5b57\u5206\u3092\u62bd\u51fa(\u30df\u30ea\u79d2\u5358\u4f4d\u306f\u7701\u304f)\nset custTime_temp=%custTime_temp:~0,8%\nrem \u6642\u523b\u306e\u533a\u5207\u308a\u306e:\u3092\u7701\u7565(\u7f6e\u63db\u5148\u6587\u5b57\u5217\u7121\u3057)\nset custTime=%custTime_temp::=%\n\necho original:   %thisDate% %thisTime%\necho customized: %custDate% %custTime%\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\noriginal:   2016/07/31  9:32:44.02\ncustomized: 20160731 093244\n```\n\n\u6642\u523b\u306e\u65b9\u306f\u3001\u6700\u521d\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u30920\u306b\u7f6e\u304d\u63db\u3048\u308b\u51e6\u7406\u3092\u5165\u308c\u3066\u3044\u308b\u306e\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\u5148\u306b\u793a\u3057\u305f\u901a\u308a\u3001\u6642\u9593\u90e8\u5206\u306f\u4e00\u6841\u306e\u5834\u5408\u306b0\u3067\u306f\u306a\u304f\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u306e\u3067\u3001\u305d\u306e\u305f\u3081\u306b\u4e00\u624b\u9593\u5165\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n##\u5f15\u6570\u53d6\u5f97\u7528\u5909\u6570(\u30d0\u30c3\u30c1\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc)\n\u30b3\u30de\u30f3\u30c9\u30fb\u30d7\u30ed\u30f3\u30d7\u30c8\u304b\u3089\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3066\u30d0\u30c3\u30c1\u3092\u5b9f\u884c\u3059\u308b\u969b\u3001\u5f15\u6570\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5f15\u6570\u306e\u533a\u5207\u308a\u6587\u5b57\u3068\u3057\u3066\u306f\u3001\u30d6\u30e9\u30f3\u30af(\u534a\u89d2\u30b9\u30da\u30fc\u30b9)\u3001\u30ab\u30f3\u30de(,)\u3001\u30bb\u30df\u30b3\u30ed\u30f3(;)\u3001\u30a4\u30b3\u30fc\u30eb(=)\u304c\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\n\u6e21\u3055\u308c\u305f\u5f15\u6570\u306f\u3001\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u4e0a%1\uff5e%9\u307e\u3067\u306e\u5909\u6570(\u30d0\u30c3\u30c1\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3068\u547c\u3076\u3089\u3057\u3044)\u3067\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002%0\u306f\u5b9f\u884c\u3055\u308c\u305f\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u304c\u5165\u308a\u307e\u3059\u3002\n(10\u500b\u4ee5\u4e0a\u306e\u5f15\u6570\u6e21\u3059\u5834\u5408\u306f\u3069\u3046\u3059\u308b\u306e?\u3068\u306a\u308a\u307e\u3059\u304c\u3001shift\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\u307e\u3041\u305d\u3053\u307e\u3067\u4f7f\u3046\u3053\u3068\u306f\u307e\u305a\u306a\u3044\u306e\u3067\u3053\u3053\u3067\u306f\u5272\u611b\u3002)\n\n```bat:test.bat\n@echo off\necho arg0: %0\necho arg1: %1\necho arg2: %2\necho arg2: %~2\necho arg3: %3\necho arg4: %4\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\nc:\\temp\\batch_test>test.bat aaa \"bbb ccc\",ddd=eee;fff\narg0: test.bat\narg1: aaa\narg2: \"bbb ccc\"\narg2: bbb ccc\narg3: ddd\narg4: eee\n```\n\n\u533a\u5207\u308a\u6587\u5b57\u3092\u542b\u3080\u6587\u5b57\u5217\u3092\u5f15\u6570\u3067\u6e21\u3057\u305f\u3044\u5834\u5408\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3(\")\u3067\u62ec\u308a\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u305d\u306e\u5834\u5408\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3082\u542b\u3081\u305f\u6587\u5b57\u5217\u304c\u6e21\u3055\u308c\u307e\u3059\u3002\n```%~2```\u3068\u3044\u3046\u3088\u3046\u306b\u9593\u306b\u300c~\u300d\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u524a\u9664\u3055\u308c\u305f\u6587\u5b57\u5217\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\u3053\u306e\u3088\u3046\u306b\u3001\u30d0\u30c3\u30c1\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e%\u3068\u6570\u5b57\u306e\u9593\u306b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u53d6\u5f97\u3055\u308c\u308b\u5024\u3092\u52a0\u5de5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3053\u308c\u306fcall\u30b3\u30de\u30f3\u30c9\u306e\u30d8\u30eb\u30d7\u3092\u898b\u308b\u3068\u8a73\u7d30\u304c\u8f09\u3063\u3066\u3044\u307e\u3059\u3002\n\n```\nc:\\>call /?\n\u30d0\u30c3\u30c1 \u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5225\u306e\u30d0\u30c3\u30c1 \u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\n(\u7565)\n\n    \u30d0\u30c3\u30c1 \u30d1\u30e9\u30e1\u30fc\u30bf\u30fc (%n) \u306e\u7f6e\u63db\u306f\u62e1\u5f35\u3055\u308c\u307e\u3057\u305f\u3002\u6b21\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u69cb\u6587\n    \u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059:\n\n        %~1         - \u3059\u3079\u3066\u306e\u5f15\u7528\u53e5 (\") \u3092\u524a\u9664\u3057\u3066\u3001%1 \u3092\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~f1        - %1 \u3092\u5b8c\u5168\u4fee\u98fe\u30d1\u30b9\u540d\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~d1        - %1 \u3092\u30c9\u30e9\u30a4\u30d6\u6587\u5b57\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~p1        - %1 \u3092\u30d1\u30b9\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~n1        - %1 \u3092\u30d5\u30a1\u30a4\u30eb\u540d\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~x1        - %1 \u3092\u30d5\u30a1\u30a4\u30eb\u62e1\u5f35\u5b50\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~s1        - \u5c55\u958b\u3055\u308c\u305f\u30d1\u30b9\u306f\u3001\u77ed\u3044\u540d\u524d\u3060\u3051\u3092\u542b\u307f\u307e\u3059\u3002\n        %~a1        - %1 \u3092\u30d5\u30a1\u30a4\u30eb\u5c5e\u6027\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~t1        - %1 \u3092\u30d5\u30a1\u30a4\u30eb\u306e\u65e5\u4ed8/\u6642\u523b\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~z1        - %1 \u3092\u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30a4\u30ba\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~$PATH:1   - PATH \u74b0\u5883\u5909\u6570\u306b\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u691c\u7d22\u3057\u3001\n                       \u6700\u521d\u306b\u898b\u3064\u304b\u3063\u305f\u5b8c\u5168\u4fee\u98fe\u540d\u306b %1 \u3092\u5c55\u958b\u3057\u307e\u3059\u3002\n                       \u74b0\u5883\u5909\u6570\u540d\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u307e\u305f\u306f\n                       \u691c\u7d22\u3057\u3066\u3082\u30d5\u30a1\u30a4\u30eb\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001\n                       \u3053\u306e\u4fee\u98fe\u5b50\u3092\u6307\u5b9a\u3059\u308b\u3068\u7a7a\u306e\u6587\u5b57\u5217\u306b\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\n\n    \u4fee\u98fe\u5b50\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u8907\u5408\u7d50\u679c\u3092\u5f97\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059:\n\n        %~dp1       - %1 \u3092\u30c9\u30e9\u30a4\u30d6\u6587\u5b57\u3068\u30d1\u30b9\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~nx1       - %1 \u3092\u30d5\u30a1\u30a4\u30eb\u540d\u3068\u62e1\u5f35\u5b50\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~dp$PATH:1 - PATH \u74b0\u5883\u5909\u6570\u306b\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\n                       \u691c\u7d22\u3057\u3066 %1 \u3092\u63a2\u3057\u3001\u6700\u521d\u306b\u898b\u3064\u304b\u3063\u305f\u30d5\u30a1\u30a4\u30eb\n                       \u306e\u30c9\u30e9\u30a4\u30d6\u6587\u5b57\u3068\u30d1\u30b9\u3060\u3051\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n        %~ftza1     - %1 \u3092 DIR \u306e\u51fa\u529b\u884c\u306e\u3088\u3046\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n\n    \u4e0a\u306e\u4f8b\u306e %1 \u3068 PATH \u306f\u3001\u4ed6\u306e\u6709\u52b9\u306a\u5024\u3067\u7f6e\u304d\u63db\u3048\u308b\u3053\u3068\u304c\u3067\u304d\n    \u307e\u3059\u3002%~ \u69cb\u6587\u306f\u6709\u52b9\u306a\u5f15\u6570\u306e\u6570\u306b\u3088\u3063\u3066\u533a\u5207\u3089\u308c\u307e\u3059\u3002%~ \u4fee\u98fe\u5b50\n    \u306f %* \u3068\u540c\u6642\u306b\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002\n```\n\n\u3053\u308c\u3092\u53c2\u8003\u306b\u3001%0 (\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb)\u306b\u3064\u3044\u3066\u306e\u5404\u7a2e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u3066\u307f\u308b\u3068...\n\n```bat:\necho ex01: %~f0\necho ex02: %~d0\necho ex03: %~p0\necho ex04: %~n0\necho ex05: %~x0\necho ex06: %~s0\necho ex07: %~a0\necho ex08: %~t0\necho ex09: %~z0\necho ex10: %~dp0\necho ex11: %~nx0\necho ex12: %~ftza0\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\nex01: c:\\temp\\batch_test\\test.bat\nex02: c:\nex03: \\temp\\batch_test\\\nex04: test\nex05: .bat\nex06: c:\\temp\\BATCH_~1\\test.bat\nex07: --a------\nex08: 2016/08/04 15:16\nex09: 1165\nex10: c:\\temp\\batch_test\\\nex11: test.bat\nex12: --a------ 2016/08/04 15:16 1165 c:\\temp\\batch_test\\test.bat\n```\n\nex10\u3067\u793a\u3055\u308c\u308b\u901a\u308a```%~dp0```\u306f\u3001\u5f53\u8a72\u30d0\u30c3\u30c1\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d5\u30eb\u30d1\u30b9\u3092\u793a\u3057\u307e\u3059\u3002\n\u30d0\u30c3\u30c1\u3068\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u547c\u3093\u3060\u308a\u3001\u540c\u3058\u3068\u3053\u308d\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3057\u305f\u308a\u3057\u305f\u3044\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3001\u30d0\u30c3\u30c1\u306e\u5148\u982d\u3067```cd %~dp0```\u3068\u3057\u3066\u304a\u304f\u3068\u3001\u30d0\u30c3\u30c1\u304c\u3069\u3053\u3067\u5b9f\u884c\u3055\u308c\u3066\u3082OK\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n##\u30a8\u30e9\u30fc\u7528\u5909\u6570\n\n```bat:\nrem \u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\naaaaa\necho err01: %errorlevel%\n\nrem copy\u30b3\u30de\u30f3\u30c9\u3067\u5b58\u5728\u3057\u306a\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\ncopy aaa bbb\necho err02: %errorlevel%\n\nrem copy\u30b3\u30de\u30f3\u30c9\u3067\u6b63\u3057\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\ncopy test.bat test_temp.bat\necho err03: %errorlevel%\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\n'aaaaa' \u306f\u3001\u5185\u90e8\u30b3\u30de\u30f3\u30c9\u307e\u305f\u306f\u5916\u90e8\u30b3\u30de\u30f3\u30c9\u3001\n\u64cd\u4f5c\u53ef\u80fd\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u307e\u305f\u306f\u30d0\u30c3\u30c1 \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\nerr01: 9009\n\u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002\nerr02: 1\n        1 \u500b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002\nerr03: 0\n```\n\n\u30b3\u30de\u30f3\u30c9\u304c\u7d42\u4e86\u30b3\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u305f\u5834\u5408\u3084\u3001\u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u305f\u5834\u5408\u3001\u74b0\u5883\u5909\u6570errorlevel\u306b\u7d42\u4e86\u30b3\u30fc\u30c9\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002\n\u901a\u5e38\u3001\u6b63\u5e38\u7d42\u4e86\u306e\u5834\u54080\u3001\u306a\u3093\u3089\u304b\u306e\u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\u5834\u5408\u306f1\u4ee5\u4e0a\u306e\u5024\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002\n\u30d0\u30c3\u30c1\u306e\u6700\u5f8c\u306b\u81ea\u5206\u3067\u30a8\u30e9\u30fc\u30b3\u30fc\u30c9\u3092\u30bb\u30c3\u30c8\u3057\u305f\u3044\u5834\u5408\u306f\u7d42\u4e86\u6642\u306b```exit 0```\u3068\u3044\u3046\u3088\u3046\u306bexit\u30b3\u30de\u30f3\u30c9\u3067\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\nerrorlevel\u306e\u5224\u5b9a\u306b\u3064\u3044\u3066\u306f\u5f8c\u8ff0\u306e\u6761\u4ef6\u5206\u5c90\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u3066\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n\n#\u30d5\u30ed\u30fc\u5236\u5fa1\n##\u6761\u4ef6\u5206\u5c90 (if\u6587)\n###\u6587\u5b57\u5217/\u6570\u5024\u6bd4\u8f03\n\u57fa\u672c\u5f62\nIF [NOT] \u6587\u5b57\u52171 \u6bd4\u8f03\u6f14\u7b97\u5b50 \u6587\u5b57\u52172 \u30b3\u30de\u30f3\u30c9\n\n```bat:\nset str1=aaa\nset num1=123\n\n\nrem \u6587\u5b57\u5217\u6bd4\u8f03\nif \"%str1%\" == \"aaa\" (\n\techo str1: TRUE\n) else (\n\techo str1: FALSE\n)\n\nrem \u6587\u5b57\u5217\u6bd4\u8f03 (\u5426\u5b9a)\nif not \"%str1%\" == \"aaa\" (\n\techo str1: TRUE\n) else (\n\techo str1: FALSE\n)\n\nrem \u6570\u5024\u6bd4\u8f03\nrem \u6bd4\u8f03\u6f14\u7b97\u5b50: equ(==) neq(!=) lss(<) lq(<=) gtr(>) geq(>=)\nif %num1% gtr 10 (\n\techo num1: TRUE\n) else (\n\techo num1: FALSE\n)\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\nstr1: TRUE\nstr1: FALSE\nnum1: TRUE\n```\n\n\u6761\u4ef6\u5f0f\u306e\u6240\u3067\u6bd4\u8f03\u5bfe\u8c61\u3092\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u62ec\u3063\u3066\u3044\u308b\u306e\u306f\u3001\u5909\u6570\u540d\u306b\u5024\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3067\u3082\u5bfe\u5fdc\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3067\u3059\u3002\n\u6761\u4ef6\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u5909\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u3068...\n\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u62ec\u3089\u306a\u3044\u5834\u5408: ```if == aaa```\u3068\u3044\u3046\u6587\u3092\u51e6\u7406\u3057\u3088\u3046\u3068\u3057\u3066\u69cb\u6587\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u62ec\u3063\u3066\u3044\u308b\u5834\u5408: ```if \"\" == \"aaa\"```\u3068\u3044\u3046\u6587\u3092\u51e6\u7406\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u3001if\u306e\u69cb\u6587\u3068\u3057\u3066\u6b63\u3057\u304f\u306a\u308a\u307e\u3059(\u6761\u4ef6\u5f0f\u3068\u3057\u3066\u306f\u507d\u306b\u306a\u308b\u306e\u3067ELSE\u306e\u51e6\u7406\u306b\u9032\u3080)\u3002\n(\u6570\u5024\u306e\u6bd4\u8f03\u306b\u3064\u3044\u3066\u306f\u3001\u5b9f\u969b\u306b\u306f\u3053\u308c\u3082\u6587\u5b57\u5217\u6bd4\u8f03\u3092\u884c\u3063\u3066\u3044\u308b\u3089\u3057\u3044\u3088\u3046\u306a\u8a18\u8ff0\u3082\u307f\u304b\u3051\u308b\u306e\u3060\u304c\u3001\u3069\u3046\u3082\u6b63\u78ba\u306a\u3068\u3053\u308d\u304c\u4e0d\u660e\u3002\u3053\u3061\u3089\u3082\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u62ec\u308b\u307b\u3046\u304c\u3088\u3044\u3068\u601d\u3063\u305f\u306e\u3060\u304c\u3001\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3042\u308a\u3068\u7121\u3057\u3067\u6319\u52d5\u304c\u7570\u306a\u308b\u30b1\u30fc\u30b9\u304c\u3042\u3063\u305f\u3002)\n\n###\u30d5\u30a1\u30a4\u30eb\u5b58\u5728\u6709\u7121\n\u57fa\u672c\u5f62\nIF [NOT] EXIST \u30d5\u30a1\u30a4\u30eb\u540d \u30b3\u30de\u30f3\u30c9\n\n```bat:\ncd %~dp0\nrem \u30d5\u30a1\u30a4\u30eb or \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5b58\u5728\u6709\u7121\nset target01=test\nif not exist \"%target01%\" (\n\techo %target01% : not found\n) else (\n\techo %target01% : found\n)\n\nrem \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5b58\u5728\u6709\u7121 (\u672b\u5c3e\u306b\\\u3092\u4ed8\u3051\u308b)\nset dir01=c:\\temp\\\nif not exist \"%dir01%\"  (\n\techo %dir01% : not found\n) else (\n\techo %dir01% : found\n)\n\nrem \u30d5\u30a1\u30a4\u30eb/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5224\u5b9a\nset target02=c:\\temp\\test\nif exist \"%target02%\" (\n\tif exist \"%target02%\\\" (\n\t\techo \u30c7\u30a3\u30ec\u30af\u30c8\u30ea %target02%  \u306f\u5b58\u5728\u3057\u307e\u3059\n\t) else (\n\t\techo \u30d5\u30a1\u30a4\u30eb %target02% \u306f\u5b58\u5728\u3057\u307e\u3059\n\t)\n) else (\n\techo %target02% \u306f\u5b58\u5728\u3057\u307e\u305b\u3093\n)\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\ntest : not found\nc:\\temp\\ : found\n\u30d5\u30a1\u30a4\u30eb c:\\temp\\test \u306f\u5b58\u5728\u3057\u307e\u3059\n```\n\n\u76f8\u5bfe\u30d1\u30b9\u3001\u7d76\u5bfe\u30d1\u30b9\u306e\u6307\u5b9a\u304c\u53ef\u80fd\u3067\u3059\u3002\nexist\u3067\u306e\u5224\u5b9a\u306f\u3001\u5224\u5b9a\u5bfe\u8c61\u306e\u6587\u5b57\u5217\u306e\u672b\u5c3e\u306b\u300c\\\u300d\u3092\u6307\u5b9a\u3059\u308b\u3068\u660e\u793a\u7684\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(\u30d5\u30a9\u30eb\u30c0)\u3068\u3057\u3066\u5224\u65ad\u3055\u308c\u307e\u3059\u304c\u3001\u672b\u5c3e\u306b\u300c\\\u300d\u304c\u7121\u3044\u5834\u5408\u3001\u30d5\u30a1\u30a4\u30eb/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u533a\u5225\u3092\u3057\u307e\u305b\u3093\u3002\n\u3059\u306a\u308f\u3061\u3001\u672b\u5c3e\u306b\u300c\\\u300d\u304c\u7121\u3044\u6587\u5b57\u5217\u306e\u5224\u5b9a\u3092\u884c\u3046\u969b\u3001\u5b58\u5728\u3057\u305f\u3068\u5224\u65ad\u3055\u308c\u305f\u5834\u5408\u306b\u304c\u30d5\u30a1\u30a4\u30eb\u306a\u306e\u304b\u30d5\u30a9\u30eb\u30c0\u306a\u306e\u304b\u305d\u308c\u3060\u3051\u3067\u306f\u5224\u65ad\u3067\u304d\u307e\u305b\u3093(\u3069\u3061\u3089\u304b\u304c\u5b58\u5728\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u304c\u5206\u304b\u308b\u3060\u3051)\u3002\n\u53b3\u5bc6\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\u306b\u306f3\u3064\u76ee\u306e\u4f8b\u306e\u3088\u3046\u306b2\u6bb5\u968e\u3067\u5224\u65ad\u3092\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u307e\u3041test.bat\u306e\u3088\u3046\u306b\u62e1\u5f35\u5b50\u3092\u3064\u3051\u3066\u5b58\u5728\u78ba\u8a8d\u3092\u884c\u3046\u3053\u3068\u304c\u591a\u3044\u3068\u601d\u3046\u306e\u3067\u3042\u307e\u308a\u305d\u3053\u307e\u3067\u3084\u308b\u5fc5\u8981\u306f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001test.bat\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u8aa4\u3063\u3066\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3068\u304a\u304b\u3057\u306a\u3053\u3068\u306b\u306a\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\n###\u30a8\u30e9\u30fc\u5224\u5b9a\n\u57fa\u672c\u5f62\nif [NOT] ERRORLEVEL \u756a\u53f7 \u30b3\u30de\u30f3\u30c9\n\n```bat:\necho ----------------\nrem \u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\naaaaa\necho err01: %errorlevel%\nif not errorlevel 1 (\n\techo ***\u6b63\u5e38\u7d42\u4e86***\n) else if %errorlevel% equ 9009 (\n\techo ***\u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9***\n) else (\n\techo ***\u305d\u306e\u4ed6\u306e\u30a8\u30e9\u30fc***\n)\n\necho ----------------\nrem copy\u30b3\u30de\u30f3\u30c9\u3067\u5b58\u5728\u3057\u306a\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\ncopy aaa bbb\necho err02: %errorlevel%\nif not errorlevel 1 (\n\techo ***\u6b63\u5e38\u7d42\u4e86***\n) else if %errorlevel% equ 9009 (\n\techo ***\u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9***\n) else (\n\techo ***\u305d\u306e\u4ed6\u306e\u30a8\u30e9\u30fc***\n)\n\necho ----------------\nrem copy\u30b3\u30de\u30f3\u30c9\u3067\u6b63\u3057\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\ncopy test.bat test_temp.bat\necho err03: %errorlevel%\nif not errorlevel 1 (\n\techo ***\u6b63\u5e38\u7d42\u4e86***\n) else if %errorlevel% equ 9009 (\n\techo ***\u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9***\n) else (\n\techo ***\u305d\u306e\u4ed6\u306e\u30a8\u30e9\u30fc***\n)\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\n----------------\n'aaaaa' \u306f\u3001\u5185\u90e8\u30b3\u30de\u30f3\u30c9\u307e\u305f\u306f\u5916\u90e8\u30b3\u30de\u30f3\u30c9\u3001\n\u64cd\u4f5c\u53ef\u80fd\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u307e\u305f\u306f\u30d0\u30c3\u30c1 \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\nerr01: 9009\n***\u5b58\u5728\u3057\u306a\u3044\u30b3\u30de\u30f3\u30c9***\n----------------\n\u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002\nerr02: 1\n***\u305d\u306e\u4ed6\u306e\u30a8\u30e9\u30fc***\n----------------\n        1 \u500b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002\nerr03: 0\n***\u6b63\u5e38\u7d42\u4e86***\n```\n\n```if errorlevel \u756a\u53f7```\u3068\u3044\u3046\u69cb\u6587\u306f\u3001\u300cerrorlevel\u304c\u6307\u5b9a\u3057\u305f\u756a\u53f7**\u4ee5\u4e0a**\u3060\u3063\u305f\u3089\u771f\u306b\u306a\u308b\u300d\u3068\u3044\u3046\u975e\u5e38\u306b\u6df7\u4e71\u3092\u62db\u304d\u3084\u3059\u3044\u4ed5\u69d8\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3082\u3072\u3069\u3044\u4ed5\u69d8\u3067\u3059\u306a\u3041\u3002\n\u6700\u521d\u30cf\u30de\u308a\u307e\u3057\u305f\u3002\n\u6545\u306b\u3001\u4e0a\u306e\u4f8b\u3067\u306f\u3001```if not errorlevel 1```(\u300c1\u4ee5\u4e0a\u3067\u306a\u3051\u308c\u3070\u300d=\u300c0\u3060\u3063\u305f\u3089\u300d)\u3068\u3044\u3046\u6307\u5b9a\u306b\u3057\u3066\u307e\u3059\u3002\n2\u3064\u3081\u306e\u5224\u5b9a```else if %errorlevel% equ 9009```\u306e\u90e8\u5206\u306f\u3001\u300cif errorlevel\u300d\u306e\u69cb\u6587\u3067\u306f\u306a\u304f\u3001\u524d\u306e\u6587\u5b57\u5217/\u6570\u5024\u6bd4\u8f03\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u793a\u3057\u305f\u69cb\u6587\u306b\u5f93\u3063\u3066errorlevel\u3068\u3044\u3046\u74b0\u5883\u5909\u6570\u306e\u5024\u3092\u6bd4\u8f03\u3057\u3066\u304a\u308a\u307e\u3059(\u305d\u306e\u305f\u3081\u3001\u3053\u3063\u3061\u306f%\u304c\u4ed8\u3044\u3066\u3044\u308b)\u3002\n\u5206\u304b\u308a\u306b\u304f\u3044\u304b\u3089\u3001\u3053\u306e\u300cif errorlevel \u756a\u53f7\u300d\u3068\u3044\u3046\u69cb\u6587\u306f\u4f7f\u308f\u305a\u306b%errorlevel%\u3092\u53c2\u7167\u3057\u3066\u6bd4\u8f03\u3059\u308b\u3084\u308a\u65b9\u3067\u7d71\u4e00\u3059\u308b\u306e\u304c\u3088\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059\u306d\u3002 \n\n##\u7e70\u308a\u8fd4\u3057\u51e6\u7406\n\u30eb\u30fc\u30d7\u51e6\u7406\u3092\u884c\u3046\u5834\u5408\u306f\u3001Java\u3068\u304bC\u3068\u304bbash\u3068\u304b\u3060\u3068while\u3068\u304bfor\u3092\u4f7f\u3046\u3053\u3068\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3067\u3059\u304c\u30d0\u30c3\u30c1\u306b\u306fwhile\u76f8\u5f53\u306e\u3082\u306e\u306f\u7121\u3044\u3088\u3046\u3067\u3059\u3002\n\n###for\u6587\n\u3053\u3053\u3067\u306f\u4e00\u5fdc\u4ed6\u306e\u8a00\u8a9e\u3063\u307d\u3044\u4f7f\u3044\u65b9\u306efor\u3092\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\n(Windows\u30d0\u30c3\u30c1\u306efor\u306f\u4e0a\u306e\u3088\u3046\u306a\u8a00\u8a9e\u3067\u4f7f\u308f\u308c\u308bfor\u3068\u306f\u82e5\u5e72\u4f7f\u3044\u52dd\u624b\u304c\u7570\u306a\u308a\u307e\u3059\u3002\u4e3b\u305f\u308b\u5229\u7528\u76ee\u7684\u306f\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6271\u3046\u3053\u3068\u3068\u6349\u3048\u305f\u307b\u3046\u304c\u3088\u3055\u305d\u3046\u3067\u3059\u304c\u3001\u305d\u306e\u4f7f\u3044\u65b9\u306f\u5225\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u88dc\u8db3\u3057\u307e\u3059\u3002)\n\n\u57fa\u672c\u5f62:\nfor /l %%<\u5909\u6570> in (<\u958b\u59cb\u5024>,<\u5897\u5206>,<\u7d42\u4e86\u5024>) do \u30b3\u30de\u30f3\u30c9\n\u203b\u5909\u6570\u306f\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u4e00\u6587\u5b57\n\n```bat:\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nfor /l %%i in (0,1,9) do (\n\tset /a \"var1 = %%i * 10\"\n\techo var1: !var1!\n)\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\nvar1: 0\nvar1: 10\nvar1: 20\nvar1: 30\nvar1: 40\nvar1: 50\nvar1: 60\nvar1: 70\nvar1: 80\nvar1: 90\n```\n\nfor\u6587\u306e\u5909\u6570\u540d\u306f\u306a\u305c\u304b\"%%\"\u3092\u4ed8\u3051\u3066\u5229\u7528\u3057\u307e\u3059\u3002\n\u4e0a\u306e\u4f8b\u3067\u306f0\u304b\u3089\u306f\u3058\u3081\u30661\u305a\u3064\u5897\u3084\u3057\u306610\u307e\u3067\u7e70\u308a\u8fd4\u3059\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\n(\u7e70\u308a\u8fd4\u3057\u5bfe\u8c61\u306e\u547d\u4ee4\u6587\u3067\u306f\u7121\u99c4\u306b10\u500d\u3057\u3066\u7d50\u679c\u3092\u51fa\u529b\u3055\u305b\u3066\u307e\u3059\u304c\u5b9f\u8cea\u7684\u306a\u610f\u5473\u306f\u7121\u3044\u3067\u3059\u3002for\u6587\u4f7f\u3046\u3068\u304d\u306e\u5909\u6570\u306f\u9045\u5ef6\u5909\u6570\u4f7f\u308f\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u3067\u6ce8\u610f\uff01)\n\n\n###goto\u6587/\u30e9\u30d9\u30eb\n\u300cgoto\u6587\u2252\u60aa\u300d\u307f\u305f\u3044\u306a\u8a8d\u8b58\u306e\u3082\u3068\u306b\u80b2\u3063\u3066\u304d\u305f\u8eab\u3068\u3057\u3066\u306f\u3061\u3068\u53d7\u3051\u5165\u308c\u304c\u305f\u3044\u3067\u3059\u304c\u3001while\u304c\u7121\u3044\u306e\u3067\u4ed5\u65b9\u306a\u3044\u3067\u3059\u306d\u3002Windows\u30d0\u30c3\u30c1\u306e\u4e16\u754c\u3067\u306f\u307e\u3041\u307e\u3041\u3088\u304f\u4f7f\u308f\u308c\u308b\u3088\u3046\u3067\u3059\u3002\n\n\n```bat:\nset /a index=1\nset /a loop_count=10\nset /a \"end_condition = %index% + %loop_count% - 1\"\n\n:loop\n\n\trem \u30eb\u30fc\u30d7\u3055\u305b\u305f\u3044\u51e6\u7406\n\techo count: %index% / %loop_count%\n\n\t\n\nif %index% geq %end_condition% (\n\tgoto end\n\t\n) else (\n\tset /a index+=1\n\tgoto loop\n)\n\n:end\nexit /b 0\n\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\ncount: 1 / 10\ncount: 2 / 10\ncount: 3 / 10\ncount: 4 / 10\ncount: 5 / 10\ncount: 6 / 10\ncount: 7 / 10\ncount: 8 / 10\ncount: 9 / 10\ncount: 10 / 10\n```\n\n##\u30d0\u30c3\u30c1\u304b\u3089\u5225\u306e\u30d0\u30c3\u30c1\u306e\u547c\u3073\u51fa\u3057\n\u30d0\u30c3\u30c1\u306e\u4e2d\u304b\u3089\u5225\u306a\u30d0\u30c3\u30c1\u3092\u547c\u3073\u51fa\u3059\u65b9\u6cd5\u306f\u3001\u3044\u304f\u3064\u304b\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\u5236\u5fa1\u306e\u623b\u308a\u65b9\u3001\u5909\u6570\u306e\u5f15\u7d99\u304e\u3001\u5f15\u6570\u6e21\u3057\u3001\u30d7\u30ed\u30bb\u30b9\u3068\u3044\u3046\u8fba\u308a\u306e\u5dee\u7570\u3092\u898b\u306a\u304c\u3089\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n###\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u76f4\u63a5\u6307\u5b9a\n\n```bat:test_main.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nset var_main=aaa\nset var_sub=\n\necho ---invoke bat file\ntest_sub.bat xxx yyy\necho err: %errorlevel%\necho var_main: %var_main%\necho var_sub:  %var_sub%\necho ---end\n```\n\n```bat:test_sub.bat\necho ***begin test_sub***\nset var_sub=bbb\n\necho var_main: %var_main%\necho var_sub:  %var_sub%\n\necho arg1: %1\necho arg2: %2\n\ntimeout /t 5 /nobreak\necho ***end test_sub***\n```\n\n```xxx:test_main.bat\u5b9f\u884c\u7d50\u679c\nc:\\temp\\batch_test>test_main.bat\n---invoke bat file\n***begin test_sub***\nvar_main: aaa\nvar_sub:  bbb\narg1: xxx\narg2: yyy\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n***end test_sub***\n```\n\n\u89aa\u3082\u5b50\u3082\u540c\u4e00\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u308c\u3001\u5236\u5fa1\u306f\u89aa\u306b\u623b\u3063\u3066\u3053\u306a\u3044\u3002\n\u3053\u308c\u306f\u3042\u3093\u307e\u308a\u4f7f\u3044\u3069\u3053\u308d\u304c\u7121\u3055\u305d\u3046\u3067\u3059\u3002\n\n###call\n\n```bat:test_main.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nset var_main=aaa\nset var_sub=\n\necho ---call\ncall test_sub.bat xxx yyy \necho err: %errorlevel%\necho var_main: %var_main%\necho var_sub:  %var_sub%\necho ---end\n```\n\n```bat:test_sub.bat\necho ***begin test_sub***\nset var_sub=bbb\n\necho var_main: %var_main%\necho var_sub:  %var_sub%\n\necho arg1: %1\necho arg2: %2\n\ntimeout /t 5 /nobreak\necho ***end test_sub***\n\nexit /b 2\n```\n\n```xxx:test_main.bat\u5b9f\u884c\u7d50\u679c\n---call\n***begin test_sub***\nvar_main: aaa\nvar_sub:  bbb\narg1: xxx\narg2: yyy\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n***end test_sub***\nerr: 2\nvar_main: aaa\nvar_sub:  bbb\n---end\n```\n\n\u89aa\u3068\u5b50\u306f\u540c\u4e00\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u5236\u5fa1\u306f\u89aa\u306b\u8fd4\u308a\u3001errorlevel\u3067\u306e\u7d42\u4e86\u30b3\u30fc\u30c9\u5224\u5b9a\u304c\u53ef\u80fd\u3002\n\u5b50(test_sub.bat)\u306e\u6700\u5f8c\u3067\u3001/b\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u3067exit\u3092\u767a\u884c\u3059\u308b\u3068\u3001\u305d\u306e\u6642\u70b9\u3067\u30d7\u30ed\u30bb\u30b9(cmd.exe)\u304c\u7d42\u4e86\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u6ce8\u610f\u3002\n\n###cmd\n\n```bat:test_main.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nset var_main=aaa\nset var_sub=\n\necho ---cmd\ncmd /c test_sub.bat xxx yyy\necho err: %errorlevel%\necho var_main: %var_main%\necho var_sub:  %var_sub%\necho ---end\n```\n\n```bat:test_sub.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\necho ***begin test_sub***\nset var_sub=bbb\n\necho var_main: %var_main%\necho var_sub:  %var_sub%\n\necho arg1: %1\necho arg2: %2\n\ntimeout /t 5 /nobreak\necho ***end test_sub***\n\nexit /b 2\n```\n\n```xxx:test_main.bat\u5b9f\u884c\u7d50\u679c\n---cmd\n***begin test_sub***\nvar_main: aaa\nvar_sub:  bbb\narg1: xxx\narg2: yyy\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n***end test_sub***\nerr: 2\nvar_main: aaa\nvar_sub:\n---end\n```\n\n\u89aa\u3068\u5b50\u306f\u5225\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u89aa\u3067\u8a2d\u5b9a\u3057\u305f\u5909\u6570\u306f\u5b50\u306b\u5f15\u304d\u7d99\u304c\u308c\u308b\u304c\u3001\u5b50\u3067\u8a2d\u5b9a\u3057\u305f\u5909\u6570\u306f\u89aa\u306b\u5f15\u304d\u7d99\u304c\u308c\u306a\u3044\u3002\n\u89aa\u3067\u6307\u5b9a\u3057\u305f@echo off\u306f\u5b50\u306b\u5f15\u304d\u7d99\u304c\u308c\u306a\u3044\u306e\u3067\u3001\u5b50\u3067\u3082@echo off\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u5236\u5fa1\u306f\u89aa\u306b\u8fd4\u308a\u3001errorlevel\u3067\u306e\u7d42\u4e86\u30b3\u30fc\u30c9\u5224\u5b9a\u304c\u53ef\u80fd\u3002\n\u5b50\u306e\u6700\u5f8c\u3067\u3001/b\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u3067exit\u3092\u767a\u884c\u3057\u3066\u3082\u6319\u52d5\u306f\u540c\u3058\u3002\n\n###start\n\n```bat:test_main.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nset var_main=aaa\nset var_sub=\n\necho ---start\nstart test_sub.bat xxx yyy\necho err: %errorlevel%\necho var_main: %var_main%\necho var_sub:  %var_sub%\necho ---end\n```\n\n```bat:test_sub.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\necho ***begin test_sub***\nset var_sub=bbb\n\necho var_main: %var_main%\necho var_sub:  %var_sub%\n\necho arg1: %1\necho arg2: %2\n\ntimeout /t 5 /nobreak\necho ***end test_sub***\n\nexit 2\n```\n\n```xxx:test_main.bat\u5b9f\u884c\u7d50\u679c\n---start\nerr: 0\nvar_main: aaa\nvar_sub:\n---end\n```\n\n```xxx:test_main.bat\u5b9f\u884c\u7d50\u679c(\u5225\u30a6\u30a3\u30f3\u30c9\u30a6)\n***begin test_sub***\nvar_main: aaa\nvar_sub:  bbb\narg1: xxx\narg2: yyy\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n***end test_sub***\n```\n\n\u89aa\u3068\u5b50\u306f\u5225\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u89aa\u3067\u8a2d\u5b9a\u3057\u305f\u5909\u6570\u306f\u5b50\u306b\u5f15\u304d\u7d99\u304c\u308c\u308b\u304c\u3001\u5b50\u3067\u8a2d\u5b9a\u3057\u305f\u5909\u6570\u306f\u89aa\u306b\u5f15\u304d\u7d99\u304c\u308c\u306a\u3044\u3002\n\u89aa\u3067\u6307\u5b9a\u3057\u305f@echo off\u306f\u5b50\u306b\u5f15\u304d\u7d99\u304c\u308c\u306a\u3044\u306e\u3067\u3001\u5b50\u3067\u3082@echo off\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\ncall\u3084cmd\u3068\u306f\u7570\u306a\u308a\u3001\u975e\u540c\u671f\u3067\u5b50\u306e\u30d0\u30c3\u30c1\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\u89aa\u306e\u30d0\u30c3\u30c1\u306f\u5b50\u306e\u7d42\u4e86\u3092\u5f85\u305f\u305a\u306b\u5f8c\u7d9a\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u3002\u305d\u306e\u305f\u3081\u5b50\u306e\u7d50\u679c\u306f\u89aa\u306b\u623b\u3089\u306a\u3044\u3002\n\u5b50\u306e\u6700\u5f8c\u3067\u3001/b\u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067exit\u3092\u767a\u884c\u3059\u308b\u3068\u3001\u6d3e\u751f\u3057\u305f\u5225\u30a6\u30a3\u30f3\u30c9\u30a6(cmd.exe\u30d7\u30ed\u30bb\u30b9)\u304c\u6b8b\u308a\u7d9a\u3051\u3066\u3057\u307e\u3046\u3002/b\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u3067exit\u3092\u767a\u884c\u3059\u308b\u3068\u5b50\u30a6\u30a3\u30f3\u30c9\u30a6(\u5b50\u30d7\u30ed\u30bb\u30b9)\u3082\u7d42\u4e86\u3059\u308b\u3002\n\n###start /b\n\n```bat:test_main.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nset var_main=aaa\nset var_sub=\n\necho ---start\nstart /b test_sub.bat xxx yyy\necho err: %errorlevel%\necho var_main: %var_main%\necho var_sub:  %var_sub%\necho ---end\n```\n\n```bat:test_sub.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\necho ***begin test_sub***\nset var_sub=bbb\n\necho var_main: %var_main%\necho var_sub:  %var_sub%\n\necho arg1: %1\necho arg2: %2\n\ntimeout /t 5 /nobreak\necho ***end test_sub***\n\nexit 2\n```\n\n```xxx:test_main.bat\u5b9f\u884c\u7d50\u679c\nc:\\temp\\batch_test>test_main.bat\n---start /b\nerr: 0\nvar_main: aaa\nvar_sub:\n---end\nc:\\temp\\batch_test>***begin test_sub***\nvar_main: aaa\nvar_sub:  bbb\narg1: xxx\narg2: yyy\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n***end test_sub***\n```\n\n\u5225\u30a6\u30a3\u30f3\u30c9\u30a6\u304c\u958b\u304b\u306a\u3044\u3060\u3051\u3067\u3001start(/b\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057)\u3068\u6319\u52d5\u306f\u540c\u3058\u3002\n\u89aa\u3068\u5b50\u306f\u5225\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u89aa\u3067\u8a2d\u5b9a\u3057\u305f\u5909\u6570\u306f\u5b50\u306b\u5f15\u304d\u7d99\u304c\u308c\u308b\u304c\u3001\u5b50\u3067\u8a2d\u5b9a\u3057\u305f\u5909\u6570\u306f\u89aa\u306b\u5f15\u304d\u7d99\u304c\u308c\u306a\u3044\u3002\n\u89aa\u3067\u6307\u5b9a\u3057\u305f@echo off\u306f\u5b50\u306b\u5f15\u304d\u7d99\u304c\u308c\u306a\u3044\u306e\u3067\u3001\u5b50\u3067\u3082@echo off\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\ncall\u3084cmd\u3068\u306f\u7570\u306a\u308a\u3001\u975e\u540c\u671f\u3067\u5b50\u306e\u30d0\u30c3\u30c1\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\u89aa\u306e\u30d0\u30c3\u30c1\u306f\u5b50\u306e\u7d42\u4e86\u3092\u5f85\u305f\u305a\u306b\u5f8c\u7d9a\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u3002\u305d\u306e\u305f\u3081\u5b50\u306e\u7d50\u679c\u306f\u89aa\u306b\u623b\u3089\u306a\u3044\u3002\n\u5b50\u306e\u6700\u5f8c\u3067\u3001/b\u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067exit\u3092\u767a\u884c\u3059\u308b\u3068\u3001\u6d3e\u751f\u3057\u305f\u5225cmd.exe\u30d7\u30ed\u30bb\u30b9\u304c\u6b8b\u308a\u7d9a\u3051\u3066\u3057\u307e\u3046\u3002/b\u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u3067exit\u3092\u767a\u884c\u3059\u308b\u3068\u5b50\u30d7\u30ed\u30bb\u30b9\u3082\u7d42\u4e86\u3059\u308b\u3002\n\n###\u30d0\u30c3\u30c1\u547c\u3073\u51fa\u3057\u306e\u307e\u3068\u3081\n<\u540c\u671f\u7684\u306a\u547c\u3073\u51fa\u3057>\n\u89aa\u5b50\u3068\u3082\u540c\u4e00\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u305b\u305f\u3044\u5834\u5408: call\n\u89aa\u5b50\u3067\u30d7\u30ed\u30bb\u30b9\u3092\u5206\u3051\u3066\u5b9f\u884c\u3055\u305b\u305f\u3044\u5834\u5408: cmd\n\n<\u975e\u540c\u671f\u7684\u306a\u547c\u3073\u51fa\u3057>\nstart /b\n(\u30d7\u30ed\u30bb\u30b9\u306f\u89aa\u5b50\u3067\u5206\u304b\u308c\u308b)\n\n<\u6ce8\u610f>\n\u5b50\u30d0\u30c3\u30c1\u306f\u3001\u547c\u3073\u51fa\u3057\u65b9\u306b\u5fdc\u3058\u3066\u7d42\u4e86\u306e\u3055\u305b\u65b9(exit\u306e/b\u30aa\u30d7\u30b7\u30e7\u30f3\u6709\u7121)\u3092\u610f\u8b58\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u3001\u610f\u56f3\u305b\u305a\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u305f\u308a\u3042\u308b\u3044\u306f\u30b4\u30df\u30d7\u30ed\u30bb\u30b9\u304c\u6b8b\u3063\u3066\u3057\u307e\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\u3069\u3093\u306a\u547c\u3073\u51fa\u3057\u65b9\u6cd5\u3067\u3082OK\u306a\u3088\u3046\u306b\u6c4e\u7528\u7684\u306b\u4f5c\u308c\u308b\u3068\u3044\u3044\u306e\u3060\u304c\u3001\u3069\u3046\u3082\u7121\u7406\u305d\u3046\u306a\u3093\u3060\u3088\u306a\u3041(\u8abf\u3079\u308b\u306e\u75b2\u308c\u305f\u304b\u3089\u3042\u304d\u3089\u3081\u305f)\u3002\n\n\n##\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u30fb\u30b3\u30fc\u30eb\ncall\u6587\u3068\u4f7f\u3046\u3068\u540c\u4e00\u30d0\u30c3\u30c1\u30fb\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30e9\u30d9\u30eb\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```bat:test_main.bat\n@echo off\nsetlocal enabledelayedexpansion\ncd %~dp0\n\nset var_main=aaa\nset var_sub=\n\necho ---call label\ncall :label01 xxx yyy\necho err: %errorlevel%\necho var_main: %var_main%\necho var_sub:  %var_sub%\necho ---end\n\ngoto end\n\n\n:label01\n\techo ***begin test_sub***\n\tset var_sub=bbb\n\n\techo var_main: %var_main%\n\techo var_sub:  %var_sub%\n\n\techo arg0: %0\n\techo arg1: %1\n\techo arg2: %2\n\techo arg3: %3\n\n\ttimeout /t 5 /nobreak\n\techo ***end test_sub***\n\t\n\texit /b 2\n\n:end\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\nc:\\temp\\batch_test>.\\test_main.bat 111 222 333\n---call label\n***begin test_sub***\nvar_main: aaa\nvar_sub:  bbb\narg0: :label01\narg1: xxx\narg2: yyy\narg3:\n\n0 \u79d2\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f CTRL+C \u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 ...\n***end test_sub***\nerr: 2\nvar_main: aaa\nvar_sub:  bbb\n---end\n```\n\n\u5f15\u6570\u3082\u6e21\u305b\u308b\u3057\u3001\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u306e\u3088\u3046\u306b\u30e9\u30d9\u30eb\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u89aa\u3092\u5b9f\u884c\u3059\u308b\u6642\u306e\u5f15\u6570\u3068\u3001call\u3067\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u3092\u547c\u3076\u6642\u306e\u5f15\u6570\u3082\u304d\u3061\u3093\u3068\u533a\u5225\u3055\u308c\u3066\u307e\u3059\u3002\n\n#\u30d5\u30a1\u30a4\u30eb\u64cd\u4f5c\n##for\u6587\n\u7e70\u308a\u8fd4\u3057\u51e6\u7406\u306e\u6240\u3067\u3082\u66f8\u304d\u307e\u3057\u305f\u304c\u3001Windows\u30d0\u30c3\u30c1\u306efor\u6587\u306f\u3069\u3061\u3089\u304b\u3068\u3044\u3046\u3068\u30d5\u30a1\u30a4\u30eb\u64cd\u4f5c\u3067\u6271\u3046\u3053\u3068\u3092\u4e3b\u76ee\u7684\u3068\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u611f\u3058\u304c\u3057\u307e\u3059\u3002for\u6587\u306e\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\u306f\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u4ee5\u4e0b\u306e2\u30b1\u30fc\u30b9\u306b\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n###\u7279\u5b9a\u30d5\u30a9\u30eb\u30c0\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u53d6\u5f97\n\u7279\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u5168\u3066\u306b\u5bfe\u3057\u3066\u306a\u3093\u3089\u304b\u306e\u51e6\u7406\u3092\u884c\u3046\u3001\u3068\u3044\u3046\u3088\u3046\u306a\u5834\u5408\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\n\u57fa\u672c\u5f62:\nfor %%<\u5909\u6570> in (<\u30d5\u30a1\u30a4\u30eb\u30bb\u30c3\u30c8>) do \u30b3\u30de\u30f3\u30c9\n\u203b\u5909\u6570\u306f\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u4e00\u6587\u5b57\n\u203b\u30d5\u30a1\u30a4\u30eb\u30bb\u30c3\u30c8\u306f\u5bfe\u8c61\u3068\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u540d(\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u4f7f\u7528\u53ef)\n\u203b/r\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u7279\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u53ef\u80fd\u3068\u306a\u308a(\u7701\u7565\u6642\u306f\u30ab\u30ec\u30f3\u30c8\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea)\u3001\u30b5\u30d6\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u64cd\u4f5c\u5bfe\u8c61\u3068\u306a\u308b\u3002\u307e\u305f\u3001\u5909\u6570\u306b\u8fd4\u3055\u308c\u308b\u7d50\u679c\u306f\u30d5\u30eb\u30d1\u30b9\u3068\u306a\u308b(\u5148\u306b\u793a\u3057\u305f\u30d0\u30c3\u30c1\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e\u6307\u5b9a(~nx\u307f\u305f\u3044\u306a\u3084\u3064)\u304c\u53ef\u80fd)\u3002\n\n```bat:\necho --- all files in current dir ---\nfor %%i in (*) do (\n\techo %%i\n)\necho --- bat files in current dir ---\nfor %%i in (*.bat) do (\n\techo %%i\n)\necho --- bat files in current dir and sub dir ---\nfor /r %%i in (*.bat) do (\n\techo %%i\n)\necho --- all files in specific folder ---\nfor /r .\\folder01 %%i in (*) do (\n\techo %%~nxi\n)\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\n--- all files in current dir ---\nmemo.txt\ntest.bat\ntest2.bat\ntest3.bat\ntest_main.bat\ntest_sub.bat\n--- bat files in current dir ---\ntest.bat\ntest2.bat\ntest3.bat\ntest_main.bat\ntest_sub.bat\n--- bat files in current dir and sub dir ---\nc:\\temp\\batch_test\\test.bat\nc:\\temp\\batch_test\\test2.bat\nc:\\temp\\batch_test\\test3.bat\nc:\\temp\\batch_test\\test_main.bat\nc:\\temp\\batch_test\\test_sub.bat\nc:\\temp\\batch_test\\folder01\\aaa.bat\n--- all files in specific folder ---\naaa.bat\ntest.txt\n```\n\n\n###\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u3092\u8aad\u307f\u8fbc\u3080\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u3092\u8aad\u3093\u3067\u3001\u5404\u884c\u6bce\u306b\u7e70\u308a\u8fd4\u3057\u51e6\u7406\u3092\u884c\u3046\u3088\u3046\u306a\u5834\u5408\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\n\u57fa\u672c\u5f62:\nfor /f <\u30aa\u30d7\u30b7\u30e7\u30f3> %%<\u5909\u6570> in (<\u30d5\u30a1\u30a4\u30eb\u540d>) do \u30b3\u30de\u30f3\u30c9\n\u203b\u5909\u6570\u306f\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u4e00\u6587\u5b57\n\u203b\u30d5\u30a1\u30a4\u30eb\u30bb\u30c3\u30c8\u306f\u5bfe\u8c61\u3068\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u540d(\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u4f7f\u7528\u53ef)\n\n\n```csv:list.csv\nName,DeptCode,Birthday,Phone,address\nTanaka Ichro,A001,1980/03/04,1111,Tokyo\nSuzuki Jiro,B002,1990/10/20,2222,Chiba\nSatoh Saburo,C003,1985/05/15,3333,Kanagawa\n```\n\n```bat:\nfor /f \"skip=1 delims=, tokens=1,2,3* usebackq\" %%a in (\"list.csv\") do (\n\techo -----\n\techo Name: %%a\n\techo DeptCode: %%b\n\techo Birthday: %%c\n\techo etc: %%d\n)\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c\n-----\nName: Tanaka Ichro\nDeptCode: A001\nBirthday: 1980/03/04\netc: 1111,Tokyo\n-----\nName: Suzuki Jiro\nDeptCode: B002\nBirthday: 1990/10/20\netc: 2222,Chiba\n-----\nName: Satoh Saburo\nDeptCode: C003\nBirthday: 1985/05/15\netc: 3333,Kanagawa\n```\n\n\u30aa\u30d7\u30b7\u30e7\u30f3\u88dc\u8db3\n\n* skip: \u30b9\u30ad\u30c3\u30d7\u3059\u308b\u884c\u6570(\u4e0a\u306e\u4f8b\u3067\u306f\u8aad\u307f\u8fbc\u307f\u5bfe\u8c61\u306ecsv\u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d\u884c\u304c\u30d8\u30c3\u30c0\u30fc\u884c\u306a\u306e\u30671\u884c\u8aad\u307f\u98db\u3070\u3057\u3066\u3044\u308b)\n* delims: \u533a\u5207\u308a\u6587\u5b57(\u30c7\u30ea\u30df\u30c3\u30bf)\u3002\u4e0a\u306e\u4f8b\u3067\u306fcsv\u5f62\u5f0f\u3092\u60f3\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u30ab\u30f3\u30de(,)\u3092\u533a\u5207\u308a\u6587\u5b57\u3068\u3057\u3066\u6307\u5b9a\u3002(\u7701\u7565\u6642\u306f\u30d6\u30e9\u30f3\u30aforTab\u304c\u533a\u5207\u308a\u6587\u5b57\u3068\u306a\u308b)\n* tokens: \u533a\u5207\u308a\u6587\u5b57\u3067\u533a\u5207\u3089\u308c\u305f\u5217\u306e\u3046\u3061\u3001\u3069\u306e\u5217\u3092\u53d6\u5f97\u3059\u308b\u304b\u3092\u6307\u5b9a\u3002\u4e0a\u306e\u4f8b\u3067\u306f\u30011,2,3\u5217\u76ee(\u5143\u306ecsv\u304c3\u5217\u60f3\u5b9a\u306a\u306e\u3067\u5168\u5217\u76f8\u5f53)\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u5404\u5217\u306f\u5909\u6570\u306b\u6307\u5b9a\u3055\u308c\u305f\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u304b\u3089\u9806\u756a\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059(1\u5217\u76ee=>%%a, 2\u5217\u76ee=>%%b, 3\u5217\u76ee=>%%c)\u3002\u672b\u5c3e\u306b\u30a2\u30b9\u30bf\u30ea\u30b9\u30af\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u305d\u308c\u4ee5\u964d\u306f\u307e\u308b\u3054\u30681\u3064\u306e\u5217\u3068\u3057\u3066\u6b21\u306e\u5909\u6570\u306b\u8fd4\u3055\u308c\u307e\u3059(4\u5217\u76ee\u4ee5\u964d=>%%d)\u3002\n* usebackq: \u30d5\u30a1\u30a4\u30eb\u540d\u3092\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u304f\u304f\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d6\u30e9\u30f3\u30af\u3092\u542b\u3080\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u540d/\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u60f3\u5b9a\u3057\u305f\u5834\u5408\u3001\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\u304a\u304f\u3068\u6c4e\u7528\u6027\u304c\u9ad8\u307e\u308a\u307e\u3059\u3002\n\n##\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n\u3053\u308c\u306f\u4ed6\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3068\u307b\u307c\u540c\u69d8\u3067\u5206\u304b\u308a\u3084\u3059\u3044\u3002\n\n\u6a19\u6e96\u51fa\u529b\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8/\u65b0\u898f\u4f5c\u6210 \n(\u65e2\u5b58\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070\u5185\u5bb9\u306f\u30af\u30ea\u30a2\u3055\u308c\u3066\u65b0\u305f\u306b\u4f5c\u6210\u3055\u308c\u308b)\n\n```\n\u30b3\u30de\u30f3\u30c9 > \u30d5\u30a1\u30a4\u30eb\u540d\n```\n\n\u6a19\u6e96\u51fa\u529b\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8/\u8ffd\u8a18\n(\u65e2\u5b58\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070\u8ffd\u8a18\u3002\u306a\u3051\u308c\u3070\u65b0\u898f\u4f5c\u6210)\n\n```\n\u30b3\u30de\u30f3\u30c9 >> \u30d5\u30a1\u30a4\u30eb\u540d\n```\n\n\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8/\u65b0\u898f\u4f5c\u6210\n\n```\n\u30b3\u30de\u30f3\u30c9 2> \u30d5\u30a1\u30a4\u30eb\u540d\n```\n\n\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8/\u8ffd\u8a18\n\n```\n\u30b3\u30de\u30f3\u30c9 2>> \u30d5\u30a1\u30a4\u30eb\u540d\n```\n\n\u6a19\u6e96\u51fa\u529b&\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n\n```\n\u30b3\u30de\u30f3\u30c9 > \u30d5\u30a1\u30a4\u30eb\u540d1 2> \u30d5\u30a1\u30a4\u30eb\u540d2\n```\n\n\u6a19\u6e96\u51fa\u529b&\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306e\u540c\u4e00\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n\n```\n\u30b3\u30de\u30f3\u30c9 >> \u30d5\u30a1\u30a4\u30eb\u540d 2>&1\n```\n\n\u4f8b:\n\n\n```bat:\nset logfile=test.log\necho %date% %time% --- begin --- > %logfile%\naaa >> %logfile% 2>&1\necho %date% %time% --- end --- >> %logfile%\n```\n\n```xxx:\u5b9f\u884c\u7d50\u679c(test.log)\n2016/08/13 20:59:09.72 --- begin ---\n'aaa' \u306f\u3001\u5185\u90e8\u30b3\u30de\u30f3\u30c9\u307e\u305f\u306f\u5916\u90e8\u30b3\u30de\u30f3\u30c9\u3001\n\u64cd\u4f5c\u53ef\u80fd\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u307e\u305f\u306f\u30d0\u30c3\u30c1 \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n2016/08/13 20:59:09.74 --- end ---\n```\n\n#\u304a\u307e\u3051\n[Windows\u30d0\u30c3\u30c1\u307e\u3068\u3081 \u88dc\u8db3: \u30d0\u30c3\u30c1\u3067\u51fa\u6765\u306a\u3044\u3053\u3068\u3092\u4ed6\u306e\u4ed5\u7d44\u307f\u3067\u88dc\u3046](http://qiita.com/tomotagwork/items/5a0e418ceca9b816df51)\n\n"}