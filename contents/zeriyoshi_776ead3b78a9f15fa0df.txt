{"context": "Linux\u3092\u4f7f\u3063\u3066\u3044\u3066\u3001\u6700\u521d\u306e\u3046\u3061\u306f\u666e\u901a\u306b\u4f7f\u3048\u308b\u306e\u306b\u3001\u3057\u3070\u3089\u304f\u3059\u308b\u3068\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u7e4b\u304c\u3089\u306a\u304f(\u540d\u524d\u89e3\u6c7a\u304c\u3067\u304d\u306a\u304f)\u306a\u308b\u3068\u3044\u3046\u72b6\u614b\u306b\u9665\u3063\u305f\u306e\u3067\u3001\u5bfe\u7b56\u306e\u30e1\u30e2\u3002\n\u74b0\u5883\n\nOS : Arch Linux \nISP : So-net \u5149\u30b3\u30e9\u30dc\u30ec\u30fc\u30b7\u30e7\u30f3(NTT\u6771\u65e5\u672c)\nNIC : Intel Ethernet Connection I218-V\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u30c7\u30fc\u30e2\u30f3 : systemd-networkd, systemd-resolved\n\n\n\n\u540d\u524d\u89e3\u6c7a\u304c\u3067\u304d\u306a\u3044\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u63a5\u7d9a\u3057\u3066\u3057\u3070\u3089\u304f\u3059\u308b\u3068\u3001\u7a81\u7136\u540d\u524d\u89e3\u6c7a\u304c\u3067\u304d\u306a\u304f\u306a\u308b\u3002\n$ ping google.com\nping: google.com: Name or service not known.\n\n\u3067\u3082\u3001\u4ee5\u4e0b\u306e\u30a2\u30c9\u30ec\u30b9\u306bping\u3059\u308b\u3068\u3061\u3083\u3093\u3068\u5e30\u3063\u3066\u304f\u308b\u3002\n$ ping flets-east.jp\n\n\u3082\u3057\u304b\u3057\u3066\u3001\u30d5\u30ec\u30c3\u30c4\u3084\u5149\u30b3\u30e9\u30dc\u30ec\u30fc\u30b7\u30e7\u30f3\u306a\u3069\u306e\u56de\u7dda\u3092\u4f7f\u3063\u3066\u3044\u307e\u305b\u3093\u304b\uff1f\n\nNGN\u306e\"\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u30ed\u30fc\u30ab\u30ebIPv6\"\u306e\u60aa\u5922\n\u3053\u306e\u554f\u984c\u306fNTT\u5c40\u5185\u3060\u3051\u3067\u6709\u52b9\u306aIPv6\u30a2\u30c9\u30ec\u30b9\u53ca\u3073DNS\u30b5\u30fc\u30d0\u30fc\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u305b\u3044\u3067\u8d77\u304d\u308b\u3002\n\u306a\u305c\u3053\u3093\u306a\u5909\u306a\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u304b\u3068\u3044\u3046\u3053\u3068\u306f\u3053\u3053\u306a\u3069\u3092\u53c2\u7167\u3057\u3066\u3044\u305f\u3060\u304f\u3068\u3057\u3066\u3001\u3068\u308a\u3042\u3048\u3048\u305a\u3084\u308b\u3079\u304d\u306f\u4f55\u3068\u304b\u3057\u3066IPv6\u3067\u540d\u524d\u89e3\u6c7a\u3092\u8a66\u307f\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3002\n\nIPv6\u306e\u512a\u5148\u5ea6\u3092\u4e0b\u3052\u308b\n\u7d50\u8ad6\u304b\u3089\u8a00\u3048\u3070\u81ea\u5206\u306e\u74b0\u5883\u3067\u3053\u308c\u306f\u7121\u610f\u5473\u3060\u3063\u305f\u3002\u3082\u3057\u304b\u3059\u308b\u3068systemd-networkd\u4e26\u3073\u306bsystemd-resolved\u3092\u7528\u3044\u3066\u308b\u74b0\u5883\u3067\u306f\u7121\u610f\u5473\u306a\u306e\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u3066\u3001IPv6\u306e\u512a\u5148\u5ea6\u3092\u4e0b\u3052\u308b\u3002\n\n/etc/gai.conf\n~\u7701\u7565~\n#\n#    For sites which prefer IPv4 connections change the last line to\n#\nprecedence ::ffff:0:0/96  100 # \u2190\u3053\u3053\u306e\u5148\u982d\u306e\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u5916\u3059\n~\u7701\u7565~\n\n\n\u3053\u308c\u3067IPv4\u304c\u512a\u5148\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u3001\u3068\u306e\u3053\u3068\u3060\u3063\u305f\u3051\u308c\u3069\u3001\u524d\u8ff0\u306e\u901a\u308a\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u610f\u5473\u3092\u306a\u3055\u306a\u304b\u3063\u305f\u3002\n\nNIC\u306b\u5bfe\u3057\u3066IPv6\u3092\u7121\u52b9\u5316\u3059\u308b\n\u3068\u306f\u8a00\u3048\u30ab\u30fc\u30cd\u30eb\u306eIPv6\u30b9\u30bf\u30c3\u30af\u305d\u306e\u3082\u306e\u3092\u7121\u52b9\u5316\u3057\u3066\u3057\u307e\u3046\u306e\u306f\u3055\u3059\u304c\u306b\u3084\u308a\u3059\u304e\u306a\u306e\u3067\u3001NIC\u306b\u5bfe\u3057\u3066IPv6\u3092\u7121\u52b9\u5316\u3059\u308b\u8a2d\u5b9a\u3092\u3059\u308b\u3002\n\n/etc/sysctl.d/40-ipv6.conf\n# Disable IPv6 for Main Ethernet\nnet.ipv6.conf.<NIC\u306e\u30c7\u30d0\u30a4\u30b9\u30ce\u30fc\u30c9>.disable_ipv6 = 1\n\n\n\u3042\u3068\u306f\u518d\u8d77\u52d5\u3002\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u3053\u308c\u3067\u306a\u3093\u3068\u304b\u306a\u3063\u305f\u3002\n\n\u305d\u308d\u305d\u308dIPoE\u3078\u306e\u5bfe\u5fdc\u3092\u7fa9\u52d9\u4ed8\u3051\u3066\u307b\u3057\u3044\n\u58ca\u308c\u305fIPv6\u306e\u305b\u3044\u3067\u3068\u3066\u3082\u9762\u5012\u304f\u3055\u3044\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001\u305d\u308d\u305d\u308d\u30d5\u30ec\u30c3\u30c4\u56de\u7dda\u7db2\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u30d7\u30ed\u30d0\u30a4\u30c0\u306b\u306f\u3001IPoE IPv6\u3078\u306e\u5bfe\u5fdc\u3092\u7fa9\u52d9\u4ed8\u3051\u3066\u307b\u3057\u3044...\n\n\u53c2\u8003\n\n\u5e30\u3063\u3066\u304d\u305f\u5f92\u7136\u82d4: CentOS7\u3067IPv4\u306e\u512a\u5148\u5ea6\u3092\u3042\u3052\u308b\u65b9\u6cd5\nIPv6 - ArchWiki\n\nLinux\u3092\u4f7f\u3063\u3066\u3044\u3066\u3001**\u6700\u521d\u306e\u3046\u3061\u306f\u666e\u901a\u306b\u4f7f\u3048\u308b\u306e\u306b\u3001\u3057\u3070\u3089\u304f\u3059\u308b\u3068\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u7e4b\u304c\u3089\u306a\u304f(\u540d\u524d\u89e3\u6c7a\u304c\u3067\u304d\u306a\u304f)\u306a\u308b**\u3068\u3044\u3046\u72b6\u614b\u306b\u9665\u3063\u305f\u306e\u3067\u3001\u5bfe\u7b56\u306e\u30e1\u30e2\u3002\n\n\u74b0\u5883\n\n* OS : Arch Linux \n* ISP : So-net \u5149\u30b3\u30e9\u30dc\u30ec\u30fc\u30b7\u30e7\u30f3(NTT\u6771\u65e5\u672c)\n* NIC : Intel Ethernet Connection I218-V\n* \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u30c7\u30fc\u30e2\u30f3 : ``systemd-networkd``, ``systemd-resolved``\n\n# \u540d\u524d\u89e3\u6c7a\u304c\u3067\u304d\u306a\u3044\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u63a5\u7d9a\u3057\u3066\u3057\u3070\u3089\u304f\u3059\u308b\u3068\u3001\u7a81\u7136\u540d\u524d\u89e3\u6c7a\u304c\u3067\u304d\u306a\u304f\u306a\u308b\u3002\n\n```bash\n$ ping google.com\nping: google.com: Name or service not known.\n```\n\n\u3067\u3082\u3001\u4ee5\u4e0b\u306e\u30a2\u30c9\u30ec\u30b9\u306bping\u3059\u308b\u3068\u3061\u3083\u3093\u3068\u5e30\u3063\u3066\u304f\u308b\u3002\n\n```bash\n$ ping flets-east.jp\n```\n\n\u3082\u3057\u304b\u3057\u3066\u3001**\u30d5\u30ec\u30c3\u30c4\u3084\u5149\u30b3\u30e9\u30dc\u30ec\u30fc\u30b7\u30e7\u30f3\u306a\u3069\u306e\u56de\u7dda\u3092\u4f7f\u3063\u3066\u3044\u307e\u305b\u3093\u304b\uff1f**\n\n# NGN\u306e\"\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u30ed\u30fc\u30ab\u30ebIPv6\"\u306e\u60aa\u5922\n\n\u3053\u306e\u554f\u984c\u306f**NTT\u5c40\u5185\u3060\u3051\u3067\u6709\u52b9\u306aIPv6\u30a2\u30c9\u30ec\u30b9\u53ca\u3073DNS\u30b5\u30fc\u30d0\u30fc\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3057\u307e\u3063\u3066\u3044\u308b**\u305b\u3044\u3067\u8d77\u304d\u308b\u3002\n\n\u306a\u305c\u3053\u3093\u306a\u5909\u306a\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u304b\u3068\u3044\u3046\u3053\u3068\u306f[\u3053\u3053](http://internet.watch.impress.co.jp/docs/news/534357.html)\u306a\u3069\u3092\u53c2\u7167\u3057\u3066\u3044\u305f\u3060\u304f\u3068\u3057\u3066\u3001\u3068\u308a\u3042\u3048\u3048\u305a\u3084\u308b\u3079\u304d\u306f**\u4f55\u3068\u304b\u3057\u3066IPv6\u3067\u540d\u524d\u89e3\u6c7a\u3092\u8a66\u307f\u306a\u3044\u3088\u3046\u306b\u3059\u308b**\u3053\u3068\u3002\n\n# IPv6\u306e\u512a\u5148\u5ea6\u3092\u4e0b\u3052\u308b\n\n\u7d50\u8ad6\u304b\u3089\u8a00\u3048\u3070**\u81ea\u5206\u306e\u74b0\u5883\u3067\u3053\u308c\u306f\u7121\u610f\u5473**\u3060\u3063\u305f\u3002\u3082\u3057\u304b\u3059\u308b\u3068``systemd-networkd``\u4e26\u3073\u306b``systemd-resolved``\u3092\u7528\u3044\u3066\u308b\u74b0\u5883\u3067\u306f\u7121\u610f\u5473\u306a\u306e\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u3066\u3001IPv6\u306e\u512a\u5148\u5ea6\u3092\u4e0b\u3052\u308b\u3002\n\n```/etc/gai.conf\n~\u7701\u7565~\n#\n#    For sites which prefer IPv4 connections change the last line to\n#\nprecedence ::ffff:0:0/96  100 # \u2190\u3053\u3053\u306e\u5148\u982d\u306e\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u5916\u3059\n~\u7701\u7565~\n```\n\n\u3053\u308c\u3067IPv4\u304c\u512a\u5148\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u3001\u3068\u306e\u3053\u3068\u3060\u3063\u305f\u3051\u308c\u3069\u3001\u524d\u8ff0\u306e\u901a\u308a\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u610f\u5473\u3092\u306a\u3055\u306a\u304b\u3063\u305f\u3002\n\n# NIC\u306b\u5bfe\u3057\u3066IPv6\u3092\u7121\u52b9\u5316\u3059\u308b\n\n\u3068\u306f\u8a00\u3048\u30ab\u30fc\u30cd\u30eb\u306eIPv6\u30b9\u30bf\u30c3\u30af\u305d\u306e\u3082\u306e\u3092\u7121\u52b9\u5316\u3057\u3066\u3057\u307e\u3046\u306e\u306f\u3055\u3059\u304c\u306b\u3084\u308a\u3059\u304e\u306a\u306e\u3067\u3001NIC\u306b\u5bfe\u3057\u3066IPv6\u3092\u7121\u52b9\u5316\u3059\u308b\u8a2d\u5b9a\u3092\u3059\u308b\u3002\n\n```/etc/sysctl.d/40-ipv6.conf\n# Disable IPv6 for Main Ethernet\nnet.ipv6.conf.<NIC\u306e\u30c7\u30d0\u30a4\u30b9\u30ce\u30fc\u30c9>.disable_ipv6 = 1\n```\n\n\u3042\u3068\u306f\u518d\u8d77\u52d5\u3002\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u3053\u308c\u3067\u306a\u3093\u3068\u304b\u306a\u3063\u305f\u3002\n\n# \u305d\u308d\u305d\u308dIPoE\u3078\u306e\u5bfe\u5fdc\u3092\u7fa9\u52d9\u4ed8\u3051\u3066\u307b\u3057\u3044\n\n\u58ca\u308c\u305fIPv6\u306e\u305b\u3044\u3067\u3068\u3066\u3082\u9762\u5012\u304f\u3055\u3044\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001\u305d\u308d\u305d\u308d\u30d5\u30ec\u30c3\u30c4\u56de\u7dda\u7db2\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u30d7\u30ed\u30d0\u30a4\u30c0\u306b\u306f\u3001IPoE IPv6\u3078\u306e\u5bfe\u5fdc\u3092\u7fa9\u52d9\u4ed8\u3051\u3066\u307b\u3057\u3044...\n\n# \u53c2\u8003\n* [\u5e30\u3063\u3066\u304d\u305f\u5f92\u7136\u82d4: CentOS7\u3067IPv4\u306e\u512a\u5148\u5ea6\u3092\u3042\u3052\u308b\u65b9\u6cd5](http://ttgcameback.blogspot.jp/2016/01/centos7ipv4.html)\n* [IPv6 - ArchWiki](https://wiki.archlinuxjp.org/index.php/IPv6)\n", "tags": ["Linux", "systemd", "systemd-networkd", "IPv6", "archLinux"]}