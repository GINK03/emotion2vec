{"context": "\u4eca\u56de\u306f2015\u5e7411\u6708\u306b\u30d0\u30fc\u30b8\u30e7\u30f31.0.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u30012016\u5e744\u670819\u65e5\u306b1.1\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305fmybatis-spring-boot-starter\u306e\u4f7f\u3044\u65b9\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\nMyBatis\u3092Spring Boot\u4e0a\u3067\u4f7f\u3046\u969b\u306f\u3001mybatis-spring\u304b\u3089\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308bSqlSessionFactoryBean\u3084SqlSessionTemplate\u306eBean\u5b9a\u7fa9\u3092\u958b\u767a\u8005\u304c\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u304c\u3001mybatis-spring-boot-starter\u306e\u767b\u5834\u306b\u3088\u308a\u3053\u308c\u3089\u306eBean\u5b9a\u7fa9\u306f\u81ea\u52d5\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u89e3\u6c7a\u3055\u308c\u307e\u3059 \n\u307e\u305a\u306f\u3001\u5b9f\u969b\u306bmybatis-spring-boot-starter\u3092\u5229\u7528\u3057\u3066\u7c21\u5358\u306aCLI(Command Line Interface)\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059 \u3002\n\nNote:\n2017\u5e741\u67082\u65e5\u306b\u30d0\u30fc\u30b8\u30e7\u30f31.2.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u306e\u3067\u3001\u5185\u5bb9\u30921.2\u30d9\u30fc\u30b9\u306b\u3057\u307e\u3057\u305f\u3002 \u306a\u304a\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001Spring Boot 1.4\u4ee5\u964d(\u6b63\u78ba\u306b\u306fSpring Framework 4.3\u4ee5\u964d)\u4e0a\u3067\u52d5\u304b\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002(2017/1/4)\n\n\u306a\u304a\u3001\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u6642\u306e\u5909\u66f4\u70b9\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u6295\u7a3f\u306b\u307e\u3068\u3081\u3066\u3042\u308a\u307e\u3059\u3002\n\nmybatis-spring-boot-starter 1.1\u306e\u5909\u66f4\u70b9\nmybatis-spring-boot-starter 1.2\u306e\u5909\u66f4\u70b9\n\n\n\u52d5\u4f5c\u691c\u8a3c\u30d0\u30fc\u30b8\u30e7\u30f3\n\nMyBatis Spring Boot Starter 1.2.0\nMyBatis 3.4.2\nMyBatis Spring 1.3.1\nSpring Boot 1.4.3.RELEASE\nSpring Framework 4.3.5.RELEASE\n\n\n\u691c\u8a3c\u30b3\u30fc\u30c9\n\nJava\u7248\n\nhttps://github.com/kazuki43zoo/qiita-materials/tree/master/mybatis-spring-boot/mybatis-demo\n\n\nGroovy\u7248\n2016/7/13\u306b\u3001Mapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092Groovy\u3067\u4f5c\u308b\u65b9\u6cd5\uff08\u300cGroovy\u3067MyBatis\u306eMapper\u3092\u3064\u304f\u308b\uff08\u3068SQL\u306e\u53ef\u8aad\u6027\u304cGood!!\uff09\u300d\uff09\u3092\u6295\u7a3f\u3057\u307e\u3057\u305f\u3002\n\nhttps://github.com/kazuki43zoo/qiita-materials/tree/groovy/mybatis-spring-boot/mybatis-demo\n\n\nKotlin\u7248\n2016/8/3\u306b\u3001Kotlin\u4e0a\u3067MyBatis(mybatis-spring-boot-starter)\u3092\u4f7f\u3046\u65b9\u6cd5\uff08\u300cKotlin\u3067mybatis-spring-boot-starter\u3092\u4f7f\u3046\u300d\uff09\u3092\u6295\u7a3f\u3057\u307e\u3057\u305f\u3002\n\nhttps://github.com/kazuki43zoo/qiita-materials/tree/master/mybatis-spring-boot/mybatis-kotlin-demo\n\n\n\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\nSpring Boot\u306f\u3001Spring-Boot\u5411\u3051\u306e\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306eWeb Service\u300cSPRING INITIALIZR\u300d\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\u4eca\u56de\u306f\u3001\u3053\u306eWeb Service\u3092\u5229\u7528\u3057\u3066\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nSPRING INITIALIZR\u306fMaven\u3068Gradle\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u4eca\u56de\u306e\u8a18\u4e8b\u3067\u306fMavne\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30a6\u30a3\u30b6\u30fc\u30c9\u306b\u4ee5\u4e0b\u306e\u5024\u3092\u5165\u529b\u3057\u3066\u300cGenerate Project\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b\u3068\u3001Maven\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\n\n\n\u5165\u529b\u9805\u76ee\n\u5024\n\u5099\u8003\n\n\n\n\nProject Type\nMaven Project\n\u203b\u30c7\u30d5\u30a9\u30eb\u30c8\n\n\nVersion\n1.4.3\n\u203b\u30c7\u30d5\u30a9\u30eb\u30c8\n\n\nGroup\ncom.example\n\u203b\u30c7\u30d5\u30a9\u30eb\u30c8\n\n\nArtifact\nmybatis-demo\n\u203b\u30c7\u30d5\u30a9\u30eb\u30c8(demo)\u304b\u3089\u5909\u66f4\n\n\nDependencies\nMyBatis, H2\n\n\n\n\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fZip\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u51cd\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u751f\u6210\u3067\u304d\u307e\u3059\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n.\n\u251c\u2500\u2500 mvnw\n\u251c\u2500\u2500 mvnw.cmd\n\u251c\u2500\u2500 pom.xml\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 main\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 java\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 com\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 example\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 MybatisDemoApplication.java\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 resources\n    \u2502\u00a0\u00a0     \u2514\u2500\u2500 application.properties\n    \u2514\u2500\u2500 test\n        \u2514\u2500\u2500 java\n            \u2514\u2500\u2500 com\n                \u2514\u2500\u2500 example\n                    \u2514\u2500\u2500 MybatisDemoApplicationTests.java\n\n\n\nNote:\ncurl\u3068tar\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u308b\u74b0\u5883\u3067\u3042\u308c\u3070\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n$ curl -s https://start.spring.io/starter.tgz\\\n    -d name=mybatis-demo\\\n    -d artifactId=mybatis-demo\\\n    -d dependencies=mybatis,h2\\\n    -d baseDir=mybatis-demo\\\n    | tar -xzvf -\n\n\n\u4f5c\u6210\u3057\u305f\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092Spring Boot\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u8d77\u52d5\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\n$ ./mvnw spring-boot:run\n[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building mybatis-demo 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] >>> spring-boot-maven-plugin:1.4.3.RELEASE:run (default-cli) > test-compile @ mybatis-demo >>>\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mybatis-demo ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mybatis-demo ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /opt/local/apps/mybatis-demo/target/classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mybatis-demo ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /opt/local/apps/mybatis-demo/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ mybatis-demo ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /opt/local/apps/mybatis-demo/target/test-classes\n[INFO] \n[INFO] <<< spring-boot-maven-plugin:1.4.3.RELEASE:run (default-cli) < test-compile @ mybatis-demo <<<\n[INFO] \n[INFO] --- spring-boot-maven-plugin:1.4.3.RELEASE:run (default-cli) @ mybatis-demo ---\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v1.4.3.RELEASE)\n\n2017-01-04 00:25:20.540  INFO 41498 --- [           main] com.example.MybatisDemoApplication       : Starting MybatisDemoApplication on Kazuki-no-MacBook-Pro.local with PID 41498 (/opt/local/apps/mybatis-demo/target/classes started by shimizukazuki in /opt/local/apps/mybatis-demo)\n2017-01-04 00:25:20.543  INFO 41498 --- [           main] com.example.MybatisDemoApplication       : No active profile set, falling back to default profiles: default\n2017-01-04 00:25:20.591  INFO 41498 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@66465358: startup date [Wed Jan 04 00:25:20 JST 2017]; root of context hierarchy\n2017-01-04 00:25:20.957  WARN 41498 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.example]' package. Please check your configuration.\n2017-01-04 00:25:21.555  INFO 41498 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2017-01-04 00:25:21.564  INFO 41498 --- [           main] com.example.MybatisDemoApplication       : Started MybatisDemoApplication in 1.491 seconds (JVM running for 4.894)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 3.690 s\n[INFO] Finished at: 2017-01-04T00:25:21+09:00\n[INFO] Final Memory: 31M/395M\n[INFO] ------------------------------------------------------------------------\n2017-01-04 00:25:21.750  INFO 41498 --- [       Thread-1] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@66465358: startup date [Wed Jan 04 00:25:20 JST 2017]; root of context hierarchy\n2017-01-04 00:25:21.751  INFO 41498 --- [       Thread-1] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\n\n\n\u3068\u308a\u3042\u3048\u305a\u30a8\u30e9\u30fc\u306f\u3067\u306a\u3044\u3053\u3068\u306f\u78ba\u8a8d\u3067\u304d\u305f\u306e\u3067\u3001\u5148\u306b\u9032\u307f\u307e\u3059\u3002\n\nmybatis-spring-boot-starter\u306e\u78ba\u8a8d\n\u30a6\u30a3\u30b6\u30fc\u30c9\u3067\u300cMyBatis\u300d\u3092\u9078\u629e\u3059\u308b\u3068\u3001Spring Boot\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5bfe\u5fdc\u3059\u308bmybatis-spring-boot-starter\u304c\u4f9d\u5b58\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u306b\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\u4eca\u56de\u306fSpring Boot 1.4.3\u3092\u9078\u629e\u3057\u3066\u3044\u308b\u305f\u3081\u3001mybatis-spring-boot-starter 1.2.0\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\uff08\u3061\u306a\u307f\u306b\u30fb\u30fb\u30fbSpring Boot 1.3\u7cfb\u3092\u9078\u3076\u3068mybatis-spring-boot-starter 1.1.1\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\uff09\n\npom.xml\n<dependency>\n    <groupId>org.mybatis.spring.boot</groupId>\n    <artifactId>mybatis-spring-boot-starter</artifactId>\n    <version>1.2.0</version>\n</dependency>\n\n\nmybatis-spring-boot-starter 1.2.0\u306f\u3001\u63a8\u79fb\u7684\u306b\u4ee5\u4e0b\u306e\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u3082\u8ffd\u52a0\u3057\u3066\u304f\u308c\u307e\u3059  \n\n\u30b3\u30f3\u30bd\u30fc\u30eb\n$ ./mvnw dependency:tree\n...\n[INFO] +- org.mybatis.spring.boot:mybatis-spring-boot-starter:jar:1.2.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.4.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.4.3.RELEASE:compile\n[INFO] |  |  |  \\- org.springframework:spring-context:jar:4.3.5.RELEASE:compile\n[INFO] |  |  |     +- org.springframework:spring-aop:jar:4.3.5.RELEASE:compile\n[INFO] |  |  |     \\- org.springframework:spring-expression:jar:4.3.5.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.4.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.4.3.RELEASE:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.1.8:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.1.8:compile\n[INFO] |  |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.22:compile\n[INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.22:compile\n[INFO] |  |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.22:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.17:runtime\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.4.3.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.5.6:compile\n[INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.6:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.3.5.RELEASE:compile\n[INFO] |  |     +- org.springframework:spring-beans:jar:4.3.5.RELEASE:compile\n[INFO] |  |     \\- org.springframework:spring-tx:jar:4.3.5.RELEASE:compile\n[INFO] |  +- org.mybatis.spring.boot:mybatis-spring-boot-autoconfigure:jar:1.2.0:compile\n[INFO] |  +- org.mybatis:mybatis:jar:3.4.2:compile\n[INFO] |  \\- org.mybatis:mybatis-spring:jar:1.3.1:compile\n...\n\n\n\n\u30c9\u30e1\u30a4\u30f3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\u4eca\u56de\u306f\u3001\u30c9\u30e1\u30a4\u30f3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066Todo\u30af\u30e9\u30b9\u3092\u4f5c\u308a\u307e\u3059\u3002\n\nsrc/main/java/com/example/domain/Todo.java\npackage com.example.domain;\n\npublic class Todo {\n    private int id;\n    private String title;\n    private String details;\n    private boolean finished;\n    // ... setter and getter\n}\n\n\n\nNote:\nsetter\u3068getter\u306e\u751f\u6210\u306fIDE\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3082\u3088\u3044\u3067\u3059\u304c\u3001Lombok\u3092\u4f7f\u3046\u65b9\u304c\u958b\u767a\u52b9\u7387\u304c\u3042\u304c\u308a\u307e\u3059\uff01\uff01\n\n\nMapper\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u4f5c\u6210\nTodo\u3078\u306eCRUD\u64cd\u4f5c\u3092\u63d0\u4f9b\u3059\u308bMapper\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u308a\u307e\u3059\u3002\n\nsrc/main/java/com/example/mapper/TodoMapper.java\npackage com.example.mapper;\n\nimport com.example.domain.Todo;\nimport org.apache.ibatis.annotations.Insert;\nimport org.apache.ibatis.annotations.Mapper;\nimport org.apache.ibatis.annotations.Options;\nimport org.apache.ibatis.annotations.Select;\n\n@Mapper\npublic interface TodoMapper {\n\n    @Insert(\"INSERT INTO todo (title, details, finished) VALUES (#{title}, #{details}, #{finished})\")\n    @Options(useGeneratedKeys = true)\n    void insert(Todo todo);\n\n    @Select(\"SELECT id, title, details, finished FROM todo WHERE id = #{id}\")\n    Todo select(int id);\n\n}\n\n\n\nNote:\nSQL\u3092XML\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aMapper\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068XML\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nsrc/main/java/com/example/mapper/TodoMapper.java\n@Mapper\npublic interface TodoMapper {\n    void insert(Todo todo);\n    Todo select(int id);\n}\n\n\n\nsrc/main/resources/com/example/mapper/TodoMapper.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"com.example.mapper.TodoMapper\">\n    <insert id=\"insert\" useGeneratedKeys=\"true\" keyProperty=\"id\">\n        INSERT INTO todo (title, details, finished) VALUES (#{title}, #{details}, #{finished})\n    </insert>\n    <select id=\"select\" resultType=\"com.example.domain.Todo\">\n        SELECT id, title, details, finished FROM todo WHERE id = #{id}\n    </select>\n</mapper>\n\n\n\n\ntodo\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\nH2\u306e\u7d44\u307f\u8fbc\u307f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306btodo\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nSpring Boot\u306e\u81ea\u52d5\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u4f5c\u6210\u3055\u308c\u308bDataSource\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001\u30af\u30e9\u30b9\u30d1\u30b9\u76f4\u4e0b\u306bschema.sql\u3068data.sql\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3057\u3066\u304a\u304f\u3068\u3001Spring Boot\u8d77\u52d5\u6642\u306b\u3053\u308c\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067SQL\u3092\u5b9f\u884c\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\nsrc/main/resources/schema.sql\nCREATE TABLE todo (\n    id IDENTITY\n    ,title TEXT NOT NULL\n    ,details TEXT\n    ,finished BOOLEAN NOT NULL\n);\n\n\n\nMybatisDemoApplication\u306e\u4fee\u6b63\u3068Spring Boot\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8d77\u52d5\nMybatisDemoApplication\u3092\u4fee\u6b63\u3057\u3001Mapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u7d4c\u7531\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n\u4fee\u6b63\u524d\n\n\nsrc/main/java/com/example/MybatisDemoApplication.java\npackage com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class MybatisDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MybatisDemoApplication.class, args);\n    }\n}\n\n\n\n\u4fee\u6b63\u5f8c\n\n\nsrc/main/java/com/example/MybatisDemoApplication.java\npackage com.example;\n\nimport com.example.domain.Todo;\nimport com.example.mapper.TodoMapper;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.transaction.annotation.Transactional;\n\n@SpringBootApplication\npublic class MybatisDemoApplication implements CommandLineRunner { // CommandLineRunner\u3092\u5b9f\u88c5\u3059\u308b\n\n    public static void main(String[] args) {\n        SpringApplication.run(MybatisDemoApplication.class, args);\n    }\n\n    private final TodoMapper todoMapper;\n\n    public MybatisDemoApplication(TodoMapper todoMapper) {\n        this.todoMapper = todoMapper; // Mapper\u3092\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3059\u308b\n    }\n\n    // Spring Boot\u8d77\u52d5\u6642\u306bCommandLineRunner#run\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\n    @Transactional\n    @Override\n    public void run(String... args) throws Exception { \n        Todo newTodo = new Todo();\n        newTodo.setTitle(\"\u98f2\u307f\u4f1a\");\n        newTodo.setDetails(\"\u9280\u5ea7 19:00\");\n\n        todoMapper.insert(newTodo); // \u65b0\u3057\u3044Todo\u3092\u30a4\u30f3\u30b5\u30fc\u30c8\u3059\u308b\n\n        Todo loadedTodo = todoMapper.select(newTodo.getId()); // \u30a4\u30f3\u30b5\u30fc\u30c8\u3057\u305fTodo\u3092\u53d6\u5f97\u3057\u3066\u6a19\u6e96\u51fa\u529b\u3059\u308b\n        System.out.println(\"ID       : \" + loadedTodo.getId());\n        System.out.println(\"TITLE    : \" + loadedTodo.getTitle());\n        System.out.println(\"DETAILS  : \" + loadedTodo.getDetails());\n        System.out.println(\"FINISHED : \" + loadedTodo.isFinished());\n    }\n\n}\n\n\nMybatisDemoApplication\u3092\u4fee\u6b63\u3057\u305f\u3089\u3001Spring Boot\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\n$ ./mvnw spring-boot:run\n...\n2017-01-04 00:30:08.851  INFO 41600 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\nID       : 1\nTITLE    : \u98f2\u307f\u4f1a\nDETAILS  : \u9280\u5ea7 19:00\nFINISHED : false\n2017-01-04 00:30:08.925  INFO 41600 --- [           main] com.example.MybatisDemoApplication       : Started MybatisDemoApplication in 2.395 seconds (JVM running for 6.185)\n...\n\n\n\u6a19\u6e96\u51fa\u529b\u306b\u30a4\u30f3\u30b5\u30fc\u30c8\u3057\u305fTodo\u306e\u72b6\u614b\u304c\u51fa\u529b\u3055\u308c\u307e\u3057\u305f   \n\u3061\u306a\u307f\u306b\u3001\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\n.\n\u251c\u2500\u2500 mvnw\n\u251c\u2500\u2500 mvnw.cmd\n\u251c\u2500\u2500 pom.xml\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 main\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 java\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 com\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 example\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 MybatisDemoApplication.java // \u4fee\u6b63\u3057\u305f\u30d5\u30a1\u30a4\u30eb\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 domain\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 Todo.java // \u8ffd\u52a0\u3057\u305f\u30d5\u30a1\u30a4\u30eb\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 mapper\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0             \u2514\u2500\u2500 TodoMapper.java // \u8ffd\u52a0\u3057\u305f\u30d5\u30a1\u30a4\u30eb\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 resources\n    \u2502\u00a0\u00a0     \u251c\u2500\u2500 application.properties\n    \u2502\u00a0\u00a0     \u251c\u2500\u2500 com\n    \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 example\n    \u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2514\u2500\u2500 mapper\n    \u2502\u00a0\u00a0     \u2502\u00a0\u00a0         \u2514\u2500\u2500 TodoMapper.xml // \u8ffd\u52a0\u3057\u305f\u30d5\u30a1\u30a4\u30eb(SQL\u3092XML\u306b\u8a18\u8ff0\u3059\u308b\u5834\u5408\u306e\u307f)\n    \u2502\u00a0\u00a0     \u2514\u2500\u2500 schema.sql // \u8ffd\u52a0\u3057\u305f\u30d5\u30a1\u30a4\u30eb\n    \u2514\u2500\u2500 test\n        \u2514\u2500\u2500 java\n            \u2514\u2500\u2500 com\n                \u2514\u2500\u2500 example\n                    \u2514\u2500\u2500 MybatisDemoApplicationTests.java\n\n\n\nJUnit\u4e0a\u3067MybatisDemoApplication\u3092\u8d77\u52d5\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u306f\u3001JUnit\u7528\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u30af\u30e9\u30b9(MybatisDemoApplicationTests)\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\n$ ./mvnw test\n...\nID       : 1\nTITLE    : \u98f2\u307f\u4f1a\nDETAILS  : \u9280\u5ea7 19:00\nFINISHED : false\n2017-01-04 00:31:44.824  INFO 41643 --- [           main] com.example.MybatisDemoApplicationTests  : Started MybatisDemoApplicationTests in 1.572 seconds (JVM running for 2.233)\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.695 sec - in com.example.MybatisDemoApplicationTests\n2017-01-04 00:31:44.847  INFO 41643 --- [       Thread-2] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@1ebd319f: startup date [Wed Jan 04 00:31:43 JST 2017]; root of context hierarchy\n\nResults :\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 4.400 s\n[INFO] Finished at: 2017-01-04T00:31:44+09:00\n[INFO] Final Memory: 24M/249M\n[INFO] ------------------------------------------------------------------------\n\n\n\u30c6\u30b9\u30c8\u306f\u6210\u529f\u3057\u305f\u307f\u305f\u3044\u3067\u3059\u304c\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u72b6\u614b\u3060\u3068\u30c6\u30b9\u30c8\u7d50\u679c\u3092assert\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u3001MybatisDemoApplicationTests\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u3066\u30c6\u30b9\u30c8\u7d50\u679c\u3092assert\u3057\u3066\u307f\u307e\u3059\u3002\n\nsrc/test/java/com/example/MybatisDemoApplicationTests.java\npackage com.example;\n\nimport org.junit.ClassRule;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.rule.OutputCapture;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport static org.hamcrest.Matchers.containsString;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class MybatisDemoApplicationTests {\n\n    @ClassRule\n    public static OutputCapture out = new OutputCapture(); // System.out\u306e\u5185\u5bb9\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308b\n\n    @Test\n    public void contextLoads() {\n        // System.out\u3057\u305f\u5185\u5bb9\u3092\u691c\u8a3c\u3059\u308b\n        out.expect(containsString(\"ID       : 1\"));\n        out.expect(containsString(\"TITLE    : \u98f2\u307f\u4f1a\"));\n        out.expect(containsString(\"DETAILS  : \u9280\u5ea7 19:00\"));\n        out.expect(containsString(\"FINISHED : false\"));\n    }\n\n}\n\n\n\u518d\u5ea6\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6a19\u6e96\u51fa\u529b\u3057\u305f\u5185\u5bb9\u304c\u6b63\u3057\u3044\u3053\u3068\u304c\u691c\u8a3c\u3067\u304d\u307e\u3057\u305f   \n\nMapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u30b9\u30ad\u30e3\u30f3\u306e\u4ed5\u7d44\u307f\n\u306a\u306b\u3084\u3089MyBatis\u3092\u4f7f\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u3057\u305f\u304c\u3001\u3069\u3046\u3084\u3063\u3066Mapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u304c\u30b9\u30ad\u30e3\u30f3\u3055\u308c\u305f\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\uff1f\nmybatis-spring\u306e\u6a5f\u80fd\u3060\u3051\u3060\u3068\u3001@MapperScan\u3092\u4f7f\u3063\u3066\u30b9\u30ad\u30e3\u30f3\u5bfe\u8c61\u306e\u30d9\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001mybatis-spring-boot-starter\u3092\u4f7f\u3046\u3068Spring Boot\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3(MybatisDemoApplication)\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30d1\u30c3\u30b1\u30fc\u30b8(com.example)\u914d\u4e0b\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u3046\u3061\u3001@rg.apache.ibatis.annotations.Mapper(mybatis 3.4\u3067\u8ffd\u52a0\u3055\u308c\u305f\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3)\u304c\u4ed8\u4e0e\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u304cMapper\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u3066\u30b9\u30ad\u30e3\u30f3\u3055\u308c\u307e\u3059\u3002\n\nNote:\nmybatis-spring-boot-starter 1.0\u7cfb\u3067\u306f\u3001Spring Boot\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3(MybatisDemoApplication)\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30d1\u30c3\u30b1\u30fc\u30b8(com.example)\u914d\u4e0b\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u304c\u5168\u3066Mapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u3066\u30b9\u30ad\u30e3\u30f3\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\u3053\u306e\u4ed5\u7d44\u307f\u306f\u4fbf\u5229\u306a\u53cd\u9762\u3067\u3001\u610f\u56f3\u3057\u3066\u3044\u306a\u3044\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304cMapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u3066\u30b9\u30ad\u30e3\u30f3\u3055\u308c\u3066DI\u30b3\u30f3\u30c6\u30ca\u306b\u767b\u9332\u3055\u308c\u3066\u3057\u307e\u3046\u3068\u3044\u3046\u554f\u984c\u304c\u3042\u308a\u307e\u3057\u305f\u3002 @Mapper\u306f\u3053\u306e\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u624b\u6bb5\u3068\u3057\u3066\u8ffd\u52a0\u3055\u308c\u305f\u30de\u30fc\u30ab\u30fc\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002\n\nMapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306b@Mapper\u3092\u4ed8\u4e0e\u3057\u306a\u3044\u5834\u5408\u306f\u3001@MapperScan\u3092\u4f7f\u3063\u3066\u30b9\u30ad\u30e3\u30f3\u5bfe\u8c61\u306e\u30d9\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\n\nsrc/main/java/com/example/MybatisDemoApplication.java\n@MapperScan(\"com.example.mapper\") // \u30b9\u30ad\u30e3\u30f3\u3059\u308b\u30d9\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b\n@SpringBootApplication\npublic class MybatisDemoApplication {\n    // ...\n}\n\n\n\n\u30bf\u30a4\u30d7\u30a8\u30a4\u30ea\u30a2\u30b9\u306e\u5229\u7528\nSQL\u3092XML\u306b\u8a18\u8ff0\u3059\u308b\u969b\u306b\u3001parameterType\u3084resultType\u5c5e\u6027\u306b\u30af\u30e9\u30b9\u306eFQCN(Fully Qualified Class Name)\u3067\u306f\u306a\u304f\u3001\u30b7\u30f3\u30d7\u30eb\u306a\u30af\u30e9\u30b9\u540d(\u30a8\u30a4\u30ea\u30a2\u30b9\u540d)\u3092\u6307\u5b9a\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u306f\u3001applicaion.properties\u306b\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\nsrc/main/resources/applicaion.properties\nmybatis.type-aliases-package=com.example.domain\n\n\n\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u8907\u6570\u306e\u30d9\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30bf\u30a4\u30d7\u30cf\u30f3\u30c9\u30e9\u30fc\u306e\u9069\u7528\nMyBatis\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u7528\u610f\u3057\u3066\u3044\u306a\u3044\u578b\u306e\u30bf\u30a4\u30d7\u30cf\u30f3\u30c9\u30e9\u30fc\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408\u3084\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u9069\u7528\u3055\u308c\u308b\u30bf\u30a4\u30d7\u30cf\u30f3\u30c9\u30e9\u30fc\u3092\u4e0a\u66f8\u304d\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u306f\u3001applicaion.properties\u306b\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\nsrc/main/resources/applicaion.properties\nmybatis.type-handlers-package=com.example.typehandler\n\n\n\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u8907\u6570\u306e\u30d9\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nSqlSession\u306e\u5b9f\u884c\u30e2\u30fc\u30c9\u306e\u5909\u66f4\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u5b9f\u884c\u30e2\u30fc\u30c9\u306fMyBatis\u8a2d\u5b9a\u306e\u8a2d\u5b9a\u5024\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306fSIMPLE\u30e2\u30fc\u30c9\uff09\u3067\u3059\u304c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u7a2e\u985e\u3084\u8981\u4ef6\u306b\u3088\u3063\u3066\u306f\u5b9f\u884c\u30e2\u30fc\u30c9\u3092\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u306f\u3001applicaion.properties\u306b\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u3082\u3061\u308d\u3093MyBatis\u8a2d\u5b9a\u306e\u8a2d\u5b9a\u5024\u3092\u5909\u66f4\u3057\u3066\u3082OK\u3067\u3059\u3002\n\nsrc/main/resources/applicaion.properties\nmybatis.executor-type=BATCH\n\n\n\nMapper XML\u30d5\u30a1\u30a4\u30eb\u3092\u660e\u793a\u7684\u306b\u8aad\u307f\u8fbc\u3080\nMapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u7d4c\u7531\u3057\u306a\u3044\u3067\u76f4\u63a5SqlSession(SqlSessionTemplate)\u3092\u4f7f\u3063\u3066SQL\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001SQL\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308bMapper XML\u30d5\u30a1\u30a4\u30eb\u3092\u660e\u793a\u7684\u306b\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u306f\u3001applicaion.properties\u306b\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\nsrc/main/resources/applicaion.properties\nmybatis.mapper-locations=classpath*:/mybatis/sqls/**/*.xml\n\n\n\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u8907\u6570\u306e\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3057\u3001\n\nsrc/main/resources/applicaion.properties\nmybatis.mapper-locations[0]=classpath*:/mybatis/sqls/aaa/**/*.xml\nmybatis.mapper-locations[1]=classpath*:/mybatis/sqls/bbb/**/*.xml\n\n\n\u3068\u3044\u3046\u611f\u3058\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\u307e\u305f\u3001properties\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u306a\u304fyaml\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\n\nsrc/main/resources/applicaion.yml\nmybatis:\n    mapper-locations:\n        - classpath*:/mybatis/sqls/aaa/**/*.xml\n        - classpath*:/mybatis/sqls/bbb/**/*.xml\n\n\n\u3068\u3044\u3046\u8a18\u8ff0\u306b\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\nMyBatis\u306e\u8a2d\u5b9a\n\u30d0\u30fc\u30b8\u30e7\u30f31.0\u7cfb\u3067\u306f\u3001MyBatis\u81ea\u4f53\u306e\u52d5\u4f5c\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u305f\u3044\u5834\u5408\u306f\u3001MyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e<settings>\u30bf\u30b0\u5185\u306b\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u304c\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.1\u7cfb\u304b\u3089applicaion.properties\u306b\u76f4\u63a5\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\nMyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f7f\u7528\u6642\u306e\u8a2d\u5b9a\u4f8b\n\nsrc/main/resources/applicaion.properties\nmybatis.config-location=classpath:/mybatis/mybatis-config.xml\n\n\n\nsrc/main/resources/mybatis/mybatis-config.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE configuration\n    PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<configuration>\n    <settings>\n        <setting name=\"mapUnderscoreToCamelCase\" value=\"true\" />\n        <setting name=\"defaultFetchSize\" value=\"100\" />\n        <setting name=\"defaultStatementTimeout\" value=\"30\" />\n    </settings>\n</configuration>\n\n\n\u3082\u3061\u308d\u3093<settings>\u4ee5\u5916\u306e\u30bf\u30b0\u3082\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u30fb\u30fb\u30fbMyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\u4ed5\u7d44\u307f\u3082\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u4ed5\u7d44\u307f\u3092\u6709\u52b9\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nsrc/main/resources/applicaion.properties\nmybatis.check-config-location=true\n\n\n\napplicaion.properties\u4f7f\u7528\u6642\u306e\u8a2d\u5b9a\u4f8b\nMyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u308f\u305a\u306bapplicaion.properties\u3060\u3051\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\nsrc/main/resources/applicaion.properties\nmybatis.configuration.map-underscore-to-camel-case=true\nmybatis.configuration.default-fetch-size=100\nmybatis.configuration.default-statement-timeout=30\n\n\n\u306a\u304a\u3001mybatis.configuration.xxxx\u3068mybatis.config-location\u3092\u540c\u6642\u306b\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\u6307\u5b9a\u3059\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\nNote:\n\u30d0\u30fc\u30b8\u30e7\u30f31.1.1\u307e\u3067\u306f\u3001IDE\u4e0a\u3067mybatis.configuration\u914d\u4e0b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u88dc\u5b8c\u3055\u308c\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u89e3\u6c7a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\uff08\u305f\u3060\u30fb\u30fb\u30fb\u540c\u3058\u30d7\u30ed\u30d1\u30c6\u30a3\u30ad\u30fc\u304c\u91cd\u8907\u3057\u3066\u308b\u306a\u30fb\u30fb\u30fb\u30fb\uff09\n2017/1/8 \u8ffd\u8a18\n\u5165\u529b\u88dc\u5b8c\u6642\u306b\u30d7\u30ed\u30d1\u30c6\u30a3\u30ad\u30fc\u304c\u91cd\u8907\u3057\u3066\u3044\u308b\u306e\u306f\u30fb\u30fb\u30fbmaven-bundle-plugin 2.5.4\u306e\u30d0\u30b0\uff1f\u304c\u539f\u56e0\u3063\u307d\u304f\u3001maven-bundle-plugin 3.0.0+\u3092\u4f7f\u3063\u3066\u30d3\u30eb\u30c9\u3057\u305f\u3089\u89e3\u6c7a\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001mybatis-spring-boot-starter#gh-127\u3067\u5bfe\u5fdc\u4e88\u5b9a\u3067\u30d0\u30fc\u30b8\u30e7\u30f31.2.1\u3067\u76f4\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n\u5916\u90e8\u5b9a\u7fa9\u3057\u305f\u30d7\u30ed\u30d1\u30c6\u30a3\u5024\u306e\u9069\u7528\nMyBatis\u3067\u306f\u3001\u5916\u90e8\u5b9a\u7fa9\u3057\u305f\u30d7\u30ed\u30d1\u30c6\u30a3\u5024\u3092MyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3084Mapper\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u306b\u57cb\u3081\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u3001\u5916\u90e8\u5b9a\u7fa9\u306fMyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e<properties>\u8981\u7d20\u3092\u4f7f\u3063\u3066\u6307\u5b9a\u3057\u307e\u3059\u3002\uff08\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u76f4\u63a5\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001\u672c\u6295\u7a3f\u3067\u306f\u6271\u3044\u307e\u305b\u3093\uff09\n\nhttp://www.mybatis.org/mybatis-3/ja/configuration.html#properties\n\n\u3055\u3089\u306b\u3001MyBatis-Spring\u3092\u4f7f\u3046\u5834\u5408\u306fMyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e<properties>\u8981\u7d20\u306b\u52a0\u3048\u3066\u3001SqlSessionFactoryBean\u306econfigurationProperties\u30d7\u30ed\u30d1\u30c6\u30a3(java.util.Properties\u578b)\u306b\u5916\u90e8\u5b9a\u7fa9\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3088\u308a\u3001application.properties(or application.yml)\u3092\u4f7f\u3063\u3066\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u4f8b\u3048\u3070\u3001MyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3066\u3044\u305f\u90e8\u5206\u306f\u30fb\u30fb\u30fb\n\nMyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\uff08\u629c\u7c8b\uff09\n<properties>\n  <property name=\"key\" value=\"value\"/>\n</properties>\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001application.properties(or application.yml)\u306e\u4e2d\u3067\u6307\u5b9a\u3059\u308b\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nsrc/main/resources/application.properties\nmybatis.configuration-properties.key=value\n\n\n\nNote:\n\u5b9f\u306f\u30fb\u30fb\u30fb\u30d0\u30fc\u30b8\u30e7\u30f31.1.1\u3067\u3082\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u540c\u3058\u3053\u3068\u304c\u5b9f\u73fe\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u306e\u65b9\u6cd5\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.2\u4ee5\u964d\u3067\u3082\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u3001\u540c\u3058\u30ad\u30fc\u540d\u304c\u3042\u308b\u5834\u5408\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u8ffd\u52a0\u3055\u308c\u305fmybatis.configuration-properties\u3067\u6307\u5b9a\u3057\u305f\u5024\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002\n\nsrc/main/resources/application.properties\nmybatis.configuration.variables.key=value\n\n\n\u305f\u3068\u3048\u3070\u30fb\u30fb\u30fbmybatis.configuration.variables\u306b\u306f\u74b0\u5883\u4f9d\u5b58\u3057\u306a\u3044\u5024\uff08or \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff09\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u304d\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u6bce\uff08\u74b0\u5883\u6bce\uff09\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a1\u30a4\u30eb\u3067mybatis.configuration-properties\u3092\u4f7f\u7528\u3057\u3066\u74b0\u5883\u4f9d\u5b58\u5024\u306b\u4e0a\u66f8\u304d\u3059\u308b\u3068\u3044\u3063\u305f\u4f7f\u3044\u65b9\u3082\u3067\u304d\u307e\u3059\u3002\n\n\nPlugin(Interceptor)\u306e\u9069\u7528\nMyBatis\u306f\u3001MyBatis\u306e\u30b3\u30a2\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u884c\u3046\u51e6\u7406\u306b\u5272\u308a\u8fbc\u3080\u4ed5\u7d44\u307f(Interceptor)\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u4ed5\u7d44\u307f\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u3042\u307e\u308a\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001MyBatis\u306bInterceptor\u3092\u9069\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aBean\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\nsrc/main/java/com/example/MybatisDemoApplication.java\n@SpringBootApplication\npublic class MybatisDemoApplication {\n    @Bean\n    Interceptor myInterceptor(){\n        return new MyInterceptor();\n    }\n    // ...\n}\n\n\n\u8907\u6570\u306eIntereptor\u3092MyBatis\u306b\u9069\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u305d\u308c\u305e\u308cBean\u5b9a\u7fa9\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\nDatabaseIdProvider\u306e\u9069\u7528\nMyBatis\u306f\u3001\u63a5\u7d9a\u4e2d\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f(DatabaseIdProvider)\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u4ed5\u7d44\u307f\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u3042\u307e\u308a\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001MyBatis\u306bDatabaseIdProvider\u3092\u9069\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aBean\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\nsrc/main/java/com/example/MybatisDemoApplication.java\n@SpringBootApplication\npublic class MybatisDemoApplication\u3000{\n    @Bean\n    VendorDatabaseIdProvider vendorDatabaseIdProvider() {\n        VendorDatabaseIdProvider databaseIdProvider = new VendorDatabaseIdProvider();\n        Properties vendorProperties = new Properties();\n        vendorProperties.put(\"PostgreSQL\", \"postgresql\");\n        vendorProperties.put(\"H2\", \"h2\");\n        databaseIdProvider.setProperties(vendorProperties);\n        return databaseIdProvider;\n    }\n    // ...\n}\n\n\n\n\u307e\u3068\u3081\n\u4eca\u56de\u306f\u3001\u4ed5\u4e8b\u3067\u3088\u304f\u4f7f\u3046MyBatis\u3092Spring Boot\u3067\u52d5\u304b\u3059\u6642\u306b\u4f7f\u3046\u3068\u4fbf\u5229\u306amybatis-spring-boot-starter\u3092\u7d39\u4ecb\u3057\u307e\u3057\u305f\u3002MyBatis\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u52d5\u4f5c\u3067\u554f\u984c\u306a\u3051\u308c\u3070\u3001\u7279\u5225\u306a\u8a2d\u5b9a\u306f\u3044\u3063\u3055\u3044\u4e0d\u8981\u3067\u3059\u3002\n\n\u53c2\u8003\u30b5\u30a4\u30c8\n\nhttps://github.com/mybatis/spring-boot-starter\nhttp://www.mybatis.org/mybatis-3/ja/\nhttp://terasolunaorg.github.io/guideline/5.2.0.RELEASE/ja/ArchitectureInDetail/DataAccessDetail/DataAccessMyBatis3.html\n\n\u4eca\u56de\u306f2015\u5e7411\u6708\u306b\u30d0\u30fc\u30b8\u30e7\u30f31.0.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u30012016\u5e744\u670819\u65e5\u306b1.1\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f[mybatis-spring-boot-starter](https://github.com/mybatis/spring-boot-starter)\u306e\u4f7f\u3044\u65b9\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\nMyBatis\u3092Spring Boot\u4e0a\u3067\u4f7f\u3046\u969b\u306f\u3001[mybatis-spring](https://github.com/mybatis/spring)\u304b\u3089\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b`SqlSessionFactoryBean`\u3084`SqlSessionTemplate`\u306eBean\u5b9a\u7fa9\u3092\u958b\u767a\u8005\u304c\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u304c\u3001mybatis-spring-boot-starter\u306e\u767b\u5834\u306b\u3088\u308a\u3053\u308c\u3089\u306eBean\u5b9a\u7fa9\u306f\u81ea\u52d5\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u89e3\u6c7a\u3055\u308c\u307e\u3059 :smile:\n\u307e\u305a\u306f\u3001\u5b9f\u969b\u306bmybatis-spring-boot-starter\u3092\u5229\u7528\u3057\u3066\u7c21\u5358\u306aCLI(Command Line Interface)\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059 \u3002\n\n> **Note:**\n>\n> 2017\u5e741\u67082\u65e5\u306b\u30d0\u30fc\u30b8\u30e7\u30f31.2.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u306e\u3067\u3001\u5185\u5bb9\u30921.2\u30d9\u30fc\u30b9\u306b\u3057\u307e\u3057\u305f\u3002 \u306a\u304a\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001Spring Boot 1.4\u4ee5\u964d(\u6b63\u78ba\u306b\u306fSpring Framework 4.3\u4ee5\u964d)\u4e0a\u3067\u52d5\u304b\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002(2017/1/4)\n\n\u306a\u304a\u3001\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u6642\u306e\u5909\u66f4\u70b9\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u6295\u7a3f\u306b\u307e\u3068\u3081\u3066\u3042\u308a\u307e\u3059\u3002\n\n* [mybatis-spring-boot-starter 1.1\u306e\u5909\u66f4\u70b9](http://qiita.com/kazuki43zoo/items/5c46ac2f539d365aa53b)\n* [mybatis-spring-boot-starter 1.2\u306e\u5909\u66f4\u70b9](http://qiita.com/kazuki43zoo/items/84b4a89846a7d0d65922)\n\n\n# \u52d5\u4f5c\u691c\u8a3c\u30d0\u30fc\u30b8\u30e7\u30f3\n\n* MyBatis Spring Boot Starter 1.2.0\n* MyBatis 3.4.2\n* MyBatis Spring 1.3.1\n* Spring Boot 1.4.3.RELEASE\n* Spring Framework 4.3.5.RELEASE\n\n# \u691c\u8a3c\u30b3\u30fc\u30c9\n\n## Java\u7248\n\n* https://github.com/kazuki43zoo/qiita-materials/tree/master/mybatis-spring-boot/mybatis-demo\n\n## Groovy\u7248\n\n2016/7/13\u306b\u3001Mapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092Groovy\u3067\u4f5c\u308b\u65b9\u6cd5\uff08\u300c[Groovy\u3067MyBatis\u306eMapper\u3092\u3064\u304f\u308b\uff08\u3068SQL\u306e\u53ef\u8aad\u6027\u304cGood!!\uff09](http://qiita.com/kazuki43zoo/items/0c6ac5acaee1201a433e)\u300d\uff09\u3092\u6295\u7a3f\u3057\u307e\u3057\u305f\u3002\n\n* https://github.com/kazuki43zoo/qiita-materials/tree/groovy/mybatis-spring-boot/mybatis-demo\n\n## Kotlin\u7248\n\n2016/8/3\u306b\u3001Kotlin\u4e0a\u3067MyBatis(mybatis-spring-boot-starter)\u3092\u4f7f\u3046\u65b9\u6cd5\uff08\u300c[Kotlin\u3067mybatis-spring-boot-starter\u3092\u4f7f\u3046](http://qiita.com/kazuki43zoo/items/9dfe35c47b08ce5f2ebb)\u300d\uff09\u3092\u6295\u7a3f\u3057\u307e\u3057\u305f\u3002\n\n* https://github.com/kazuki43zoo/qiita-materials/tree/master/mybatis-spring-boot/mybatis-kotlin-demo\n\n\n# \u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\nSpring Boot\u306f\u3001Spring-Boot\u5411\u3051\u306e\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306eWeb Service\u300c[SPRING INITIALIZR](http://start.spring.io/)\u300d\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\u4eca\u56de\u306f\u3001\u3053\u306eWeb Service\u3092\u5229\u7528\u3057\u3066\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nSPRING INITIALIZR\u306fMaven\u3068Gradle\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u4eca\u56de\u306e\u8a18\u4e8b\u3067\u306fMavne\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30a6\u30a3\u30b6\u30fc\u30c9\u306b\u4ee5\u4e0b\u306e\u5024\u3092\u5165\u529b\u3057\u3066\u300cGenerate Project\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b\u3068\u3001Maven\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\n| \u5165\u529b\u9805\u76ee | \u5024 | \u5099\u8003 |\n| --- | --- | --- | \n| Project Type | Maven Project | \u203b\u30c7\u30d5\u30a9\u30eb\u30c8 |\n| Version | 1.4.3 | \u203b\u30c7\u30d5\u30a9\u30eb\u30c8 |\n| Group | com.example | \u203b\u30c7\u30d5\u30a9\u30eb\u30c8 |\n| Artifact | mybatis-demo | \u203b\u30c7\u30d5\u30a9\u30eb\u30c8(demo)\u304b\u3089\u5909\u66f4 |\n| Dependencies | MyBatis, H2 |  |\n\n<img width=\"1002\" alt=\"spring-initializr.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/117313/5a7c8d18-a6ee-fcdd-d7ab-ea1320f41d7b.png\">\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fZip\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u51cd\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u751f\u6210\u3067\u304d\u307e\u3059\u3002\n\n```text:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n.\n\u251c\u2500\u2500 mvnw\n\u251c\u2500\u2500 mvnw.cmd\n\u251c\u2500\u2500 pom.xml\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 main\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 java\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 com\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 example\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 MybatisDemoApplication.java\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 resources\n    \u2502\u00a0\u00a0     \u2514\u2500\u2500 application.properties\n    \u2514\u2500\u2500 test\n        \u2514\u2500\u2500 java\n            \u2514\u2500\u2500 com\n                \u2514\u2500\u2500 example\n                    \u2514\u2500\u2500 MybatisDemoApplicationTests.java\n```\n\n\n> **Note:**\n>\n> curl\u3068tar\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u308b\u74b0\u5883\u3067\u3042\u308c\u3070\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n>\n> ```\n> $ curl -s https://start.spring.io/starter.tgz\\\n    -d name=mybatis-demo\\\n    -d artifactId=mybatis-demo\\\n    -d dependencies=mybatis,h2\\\n    -d baseDir=mybatis-demo\\\n    | tar -xzvf -\n> ```\n\n\u4f5c\u6210\u3057\u305f\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092Spring Boot\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u8d77\u52d5\u3057\u3066\u307f\u307e\u3059\u3002\n\n```text:\u30b3\u30f3\u30bd\u30fc\u30eb\n$ ./mvnw spring-boot:run\n[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building mybatis-demo 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] >>> spring-boot-maven-plugin:1.4.3.RELEASE:run (default-cli) > test-compile @ mybatis-demo >>>\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mybatis-demo ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mybatis-demo ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /opt/local/apps/mybatis-demo/target/classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mybatis-demo ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /opt/local/apps/mybatis-demo/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ mybatis-demo ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /opt/local/apps/mybatis-demo/target/test-classes\n[INFO] \n[INFO] <<< spring-boot-maven-plugin:1.4.3.RELEASE:run (default-cli) < test-compile @ mybatis-demo <<<\n[INFO] \n[INFO] --- spring-boot-maven-plugin:1.4.3.RELEASE:run (default-cli) @ mybatis-demo ---\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v1.4.3.RELEASE)\n\n2017-01-04 00:25:20.540  INFO 41498 --- [           main] com.example.MybatisDemoApplication       : Starting MybatisDemoApplication on Kazuki-no-MacBook-Pro.local with PID 41498 (/opt/local/apps/mybatis-demo/target/classes started by shimizukazuki in /opt/local/apps/mybatis-demo)\n2017-01-04 00:25:20.543  INFO 41498 --- [           main] com.example.MybatisDemoApplication       : No active profile set, falling back to default profiles: default\n2017-01-04 00:25:20.591  INFO 41498 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@66465358: startup date [Wed Jan 04 00:25:20 JST 2017]; root of context hierarchy\n2017-01-04 00:25:20.957  WARN 41498 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.example]' package. Please check your configuration.\n2017-01-04 00:25:21.555  INFO 41498 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2017-01-04 00:25:21.564  INFO 41498 --- [           main] com.example.MybatisDemoApplication       : Started MybatisDemoApplication in 1.491 seconds (JVM running for 4.894)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 3.690 s\n[INFO] Finished at: 2017-01-04T00:25:21+09:00\n[INFO] Final Memory: 31M/395M\n[INFO] ------------------------------------------------------------------------\n2017-01-04 00:25:21.750  INFO 41498 --- [       Thread-1] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@66465358: startup date [Wed Jan 04 00:25:20 JST 2017]; root of context hierarchy\n2017-01-04 00:25:21.751  INFO 41498 --- [       Thread-1] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\n```\n\n\u3068\u308a\u3042\u3048\u305a\u30a8\u30e9\u30fc\u306f\u3067\u306a\u3044\u3053\u3068\u306f\u78ba\u8a8d\u3067\u304d\u305f\u306e\u3067\u3001\u5148\u306b\u9032\u307f\u307e\u3059\u3002\n\n# mybatis-spring-boot-starter\u306e\u78ba\u8a8d\n\n\u30a6\u30a3\u30b6\u30fc\u30c9\u3067\u300cMyBatis\u300d\u3092\u9078\u629e\u3059\u308b\u3068\u3001Spring Boot\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5bfe\u5fdc\u3059\u308bmybatis-spring-boot-starter\u304c\u4f9d\u5b58\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u306b\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\u4eca\u56de\u306fSpring Boot 1.4.3\u3092\u9078\u629e\u3057\u3066\u3044\u308b\u305f\u3081\u3001mybatis-spring-boot-starter 1.2.0\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\uff08\u3061\u306a\u307f\u306b\u30fb\u30fb\u30fbSpring Boot 1.3\u7cfb\u3092\u9078\u3076\u3068mybatis-spring-boot-starter 1.1.1\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\uff09\n\n```xml:pom.xml\n<dependency>\n    <groupId>org.mybatis.spring.boot</groupId>\n    <artifactId>mybatis-spring-boot-starter</artifactId>\n    <version>1.2.0</version>\n</dependency>\n```\n\nmybatis-spring-boot-starter 1.2.0\u306f\u3001\u63a8\u79fb\u7684\u306b\u4ee5\u4e0b\u306e\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u3082\u8ffd\u52a0\u3057\u3066\u304f\u308c\u307e\u3059 :v: \n\n```text:\u30b3\u30f3\u30bd\u30fc\u30eb\n$ ./mvnw dependency:tree\n...\n[INFO] +- org.mybatis.spring.boot:mybatis-spring-boot-starter:jar:1.2.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.4.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.4.3.RELEASE:compile\n[INFO] |  |  |  \\- org.springframework:spring-context:jar:4.3.5.RELEASE:compile\n[INFO] |  |  |     +- org.springframework:spring-aop:jar:4.3.5.RELEASE:compile\n[INFO] |  |  |     \\- org.springframework:spring-expression:jar:4.3.5.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.4.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.4.3.RELEASE:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.1.8:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.1.8:compile\n[INFO] |  |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.22:compile\n[INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.22:compile\n[INFO] |  |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.22:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.17:runtime\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.4.3.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.5.6:compile\n[INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.6:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.3.5.RELEASE:compile\n[INFO] |  |     +- org.springframework:spring-beans:jar:4.3.5.RELEASE:compile\n[INFO] |  |     \\- org.springframework:spring-tx:jar:4.3.5.RELEASE:compile\n[INFO] |  +- org.mybatis.spring.boot:mybatis-spring-boot-autoconfigure:jar:1.2.0:compile\n[INFO] |  +- org.mybatis:mybatis:jar:3.4.2:compile\n[INFO] |  \\- org.mybatis:mybatis-spring:jar:1.3.1:compile\n...\n```\n\n# \u30c9\u30e1\u30a4\u30f3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\n\u4eca\u56de\u306f\u3001\u30c9\u30e1\u30a4\u30f3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066`Todo`\u30af\u30e9\u30b9\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n```java:src/main/java/com/example/domain/Todo.java\npackage com.example.domain;\n\npublic class Todo {\n    private int id;\n    private String title;\n    private String details;\n    private boolean finished;\n    // ... setter and getter\n}\n```\n\n> **Note:**\n> setter\u3068getter\u306e\u751f\u6210\u306fIDE\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3082\u3088\u3044\u3067\u3059\u304c\u3001[Lombok](https://projectlombok.org/)\u3092\u4f7f\u3046\u65b9\u304c\u958b\u767a\u52b9\u7387\u304c\u3042\u304c\u308a\u307e\u3059\uff01\uff01\n\n# Mapper\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u4f5c\u6210\n\n`Todo`\u3078\u306eCRUD\u64cd\u4f5c\u3092\u63d0\u4f9b\u3059\u308bMapper\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n```java:src/main/java/com/example/mapper/TodoMapper.java\npackage com.example.mapper;\n\nimport com.example.domain.Todo;\nimport org.apache.ibatis.annotations.Insert;\nimport org.apache.ibatis.annotations.Mapper;\nimport org.apache.ibatis.annotations.Options;\nimport org.apache.ibatis.annotations.Select;\n\n@Mapper\npublic interface TodoMapper {\n\n    @Insert(\"INSERT INTO todo (title, details, finished) VALUES (#{title}, #{details}, #{finished})\")\n    @Options(useGeneratedKeys = true)\n    void insert(Todo todo);\n\n    @Select(\"SELECT id, title, details, finished FROM todo WHERE id = #{id}\")\n    Todo select(int id);\n\n}\n```\n\n> **Note:**\n> SQL\u3092XML\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aMapper\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068XML\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n>\n> ```java:src/main/java/com/example/mapper/TodoMapper.java\n> @Mapper\n> public interface TodoMapper {\n>     void insert(Todo todo);\n>     Todo select(int id);\n> }\n> ```\n> \n> ```xml:src/main/resources/com/example/mapper/TodoMapper.xml\n> <?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n> <!DOCTYPE mapper\n>         PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n>         \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n> <mapper namespace=\"com.example.mapper.TodoMapper\">\n>     <insert id=\"insert\" useGeneratedKeys=\"true\" keyProperty=\"id\">\n>         INSERT INTO todo (title, details, finished) VALUES (#{title}, #{details}, #{finished})\n>     </insert>\n>     <select id=\"select\" resultType=\"com.example.domain.Todo\">\n>         SELECT id, title, details, finished FROM todo WHERE id = #{id}\n>     </select>\n> </mapper>\n> ```\n\n# todo\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n\nH2\u306e\u7d44\u307f\u8fbc\u307f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306btodo\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nSpring Boot\u306e\u81ea\u52d5\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u4f5c\u6210\u3055\u308c\u308b`DataSource`\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001\u30af\u30e9\u30b9\u30d1\u30b9\u76f4\u4e0b\u306b`schema.sql`\u3068`data.sql`\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3057\u3066\u304a\u304f\u3068\u3001Spring Boot\u8d77\u52d5\u6642\u306b\u3053\u308c\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067SQL\u3092\u5b9f\u884c\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n```sql:src/main/resources/schema.sql\nCREATE TABLE todo (\n    id IDENTITY\n    ,title TEXT NOT NULL\n    ,details TEXT\n    ,finished BOOLEAN NOT NULL\n);\n```\n\n\n# MybatisDemoApplication\u306e\u4fee\u6b63\u3068Spring Boot\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8d77\u52d5\n\n`MybatisDemoApplication`\u3092\u4fee\u6b63\u3057\u3001Mapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u7d4c\u7531\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n* \u4fee\u6b63\u524d\n\n```java:src/main/java/com/example/MybatisDemoApplication.java\npackage com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class MybatisDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MybatisDemoApplication.class, args);\n    }\n}\n```\n\n* \u4fee\u6b63\u5f8c\n\n```java:src/main/java/com/example/MybatisDemoApplication.java\npackage com.example;\n\nimport com.example.domain.Todo;\nimport com.example.mapper.TodoMapper;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.transaction.annotation.Transactional;\n\n@SpringBootApplication\npublic class MybatisDemoApplication implements CommandLineRunner { // CommandLineRunner\u3092\u5b9f\u88c5\u3059\u308b\n\n    public static void main(String[] args) {\n        SpringApplication.run(MybatisDemoApplication.class, args);\n    }\n\n    private final TodoMapper todoMapper;\n\n    public MybatisDemoApplication(TodoMapper todoMapper) {\n        this.todoMapper = todoMapper; // Mapper\u3092\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3059\u308b\n    }\n\n    // Spring Boot\u8d77\u52d5\u6642\u306bCommandLineRunner#run\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\n    @Transactional\n    @Override\n    public void run(String... args) throws Exception { \n        Todo newTodo = new Todo();\n        newTodo.setTitle(\"\u98f2\u307f\u4f1a\");\n        newTodo.setDetails(\"\u9280\u5ea7 19:00\");\n\n        todoMapper.insert(newTodo); // \u65b0\u3057\u3044Todo\u3092\u30a4\u30f3\u30b5\u30fc\u30c8\u3059\u308b\n\n        Todo loadedTodo = todoMapper.select(newTodo.getId()); // \u30a4\u30f3\u30b5\u30fc\u30c8\u3057\u305fTodo\u3092\u53d6\u5f97\u3057\u3066\u6a19\u6e96\u51fa\u529b\u3059\u308b\n        System.out.println(\"ID       : \" + loadedTodo.getId());\n        System.out.println(\"TITLE    : \" + loadedTodo.getTitle());\n        System.out.println(\"DETAILS  : \" + loadedTodo.getDetails());\n        System.out.println(\"FINISHED : \" + loadedTodo.isFinished());\n    }\n\n}\n```\n\n`MybatisDemoApplication`\u3092\u4fee\u6b63\u3057\u305f\u3089\u3001Spring Boot\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```text:\u30b3\u30f3\u30bd\u30fc\u30eb\n$ ./mvnw spring-boot:run\n...\n2017-01-04 00:30:08.851  INFO 41600 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\nID       : 1\nTITLE    : \u98f2\u307f\u4f1a\nDETAILS  : \u9280\u5ea7 19:00\nFINISHED : false\n2017-01-04 00:30:08.925  INFO 41600 --- [           main] com.example.MybatisDemoApplication       : Started MybatisDemoApplication in 2.395 seconds (JVM running for 6.185)\n...\n```\n\n\u6a19\u6e96\u51fa\u529b\u306b\u30a4\u30f3\u30b5\u30fc\u30c8\u3057\u305fTodo\u306e\u72b6\u614b\u304c\u51fa\u529b\u3055\u308c\u307e\u3057\u305f :clap: :clap: :clap:\n\n\u3061\u306a\u307f\u306b\u3001\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002\n\n```text:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\n.\n\u251c\u2500\u2500 mvnw\n\u251c\u2500\u2500 mvnw.cmd\n\u251c\u2500\u2500 pom.xml\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 main\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 java\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 com\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 example\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 MybatisDemoApplication.java // \u4fee\u6b63\u3057\u305f\u30d5\u30a1\u30a4\u30eb\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 domain\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 Todo.java // \u8ffd\u52a0\u3057\u305f\u30d5\u30a1\u30a4\u30eb\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 mapper\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0             \u2514\u2500\u2500 TodoMapper.java // \u8ffd\u52a0\u3057\u305f\u30d5\u30a1\u30a4\u30eb\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 resources\n    \u2502\u00a0\u00a0     \u251c\u2500\u2500 application.properties\n    \u2502\u00a0\u00a0     \u251c\u2500\u2500 com\n    \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 example\n    \u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2514\u2500\u2500 mapper\n    \u2502\u00a0\u00a0     \u2502\u00a0\u00a0         \u2514\u2500\u2500 TodoMapper.xml // \u8ffd\u52a0\u3057\u305f\u30d5\u30a1\u30a4\u30eb(SQL\u3092XML\u306b\u8a18\u8ff0\u3059\u308b\u5834\u5408\u306e\u307f)\n    \u2502\u00a0\u00a0     \u2514\u2500\u2500 schema.sql // \u8ffd\u52a0\u3057\u305f\u30d5\u30a1\u30a4\u30eb\n    \u2514\u2500\u2500 test\n        \u2514\u2500\u2500 java\n            \u2514\u2500\u2500 com\n                \u2514\u2500\u2500 example\n                    \u2514\u2500\u2500 MybatisDemoApplicationTests.java\n```\n\n# JUnit\u4e0a\u3067MybatisDemoApplication\u3092\u8d77\u52d5\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u306f\u3001JUnit\u7528\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u30af\u30e9\u30b9(`MybatisDemoApplicationTests`)\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```text:\u30b3\u30f3\u30bd\u30fc\u30eb\n$ ./mvnw test\n...\nID       : 1\nTITLE    : \u98f2\u307f\u4f1a\nDETAILS  : \u9280\u5ea7 19:00\nFINISHED : false\n2017-01-04 00:31:44.824  INFO 41643 --- [           main] com.example.MybatisDemoApplicationTests  : Started MybatisDemoApplicationTests in 1.572 seconds (JVM running for 2.233)\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.695 sec - in com.example.MybatisDemoApplicationTests\n2017-01-04 00:31:44.847  INFO 41643 --- [       Thread-2] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@1ebd319f: startup date [Wed Jan 04 00:31:43 JST 2017]; root of context hierarchy\n\nResults :\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 4.400 s\n[INFO] Finished at: 2017-01-04T00:31:44+09:00\n[INFO] Final Memory: 24M/249M\n[INFO] ------------------------------------------------------------------------\n```\n\n\u30c6\u30b9\u30c8\u306f\u6210\u529f\u3057\u305f\u307f\u305f\u3044\u3067\u3059\u304c\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u72b6\u614b\u3060\u3068\u30c6\u30b9\u30c8\u7d50\u679c\u3092assert\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u3001`MybatisDemoApplicationTests`\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u3066\u30c6\u30b9\u30c8\u7d50\u679c\u3092assert\u3057\u3066\u307f\u307e\u3059\u3002\n\n```java:src/test/java/com/example/MybatisDemoApplicationTests.java\npackage com.example;\n\nimport org.junit.ClassRule;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.rule.OutputCapture;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport static org.hamcrest.Matchers.containsString;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class MybatisDemoApplicationTests {\n\n    @ClassRule\n    public static OutputCapture out = new OutputCapture(); // System.out\u306e\u5185\u5bb9\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308b\n\n    @Test\n    public void contextLoads() {\n        // System.out\u3057\u305f\u5185\u5bb9\u3092\u691c\u8a3c\u3059\u308b\n        out.expect(containsString(\"ID       : 1\"));\n        out.expect(containsString(\"TITLE    : \u98f2\u307f\u4f1a\"));\n        out.expect(containsString(\"DETAILS  : \u9280\u5ea7 19:00\"));\n        out.expect(containsString(\"FINISHED : false\"));\n    }\n\n}\n```\n\n\u518d\u5ea6\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6a19\u6e96\u51fa\u529b\u3057\u305f\u5185\u5bb9\u304c\u6b63\u3057\u3044\u3053\u3068\u304c\u691c\u8a3c\u3067\u304d\u307e\u3057\u305f :clap: :clap: :clap:\n\n# Mapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u30b9\u30ad\u30e3\u30f3\u306e\u4ed5\u7d44\u307f\n\n\u306a\u306b\u3084\u3089MyBatis\u3092\u4f7f\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u3057\u305f\u304c\u3001\u3069\u3046\u3084\u3063\u3066Mapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u304c\u30b9\u30ad\u30e3\u30f3\u3055\u308c\u305f\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\uff1f\nmybatis-spring\u306e\u6a5f\u80fd\u3060\u3051\u3060\u3068\u3001`@MapperScan`\u3092\u4f7f\u3063\u3066\u30b9\u30ad\u30e3\u30f3\u5bfe\u8c61\u306e\u30d9\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001mybatis-spring-boot-starter\u3092\u4f7f\u3046\u3068Spring Boot\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3(`MybatisDemoApplication`)\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30d1\u30c3\u30b1\u30fc\u30b8(`com.example`)\u914d\u4e0b\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u3046\u3061\u3001`@rg.apache.ibatis.annotations.Mapper`(mybatis 3.4\u3067\u8ffd\u52a0\u3055\u308c\u305f\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3)\u304c\u4ed8\u4e0e\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u304cMapper\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u3066\u30b9\u30ad\u30e3\u30f3\u3055\u308c\u307e\u3059\u3002\n\n> **Note:**\n> mybatis-spring-boot-starter 1.0\u7cfb\u3067\u306f\u3001Spring Boot\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3(`MybatisDemoApplication`)\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30d1\u30c3\u30b1\u30fc\u30b8(`com.example`)\u914d\u4e0b\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u304c\u5168\u3066Mapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u3066\u30b9\u30ad\u30e3\u30f3\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\u3053\u306e\u4ed5\u7d44\u307f\u306f\u4fbf\u5229\u306a\u53cd\u9762\u3067\u3001\u610f\u56f3\u3057\u3066\u3044\u306a\u3044\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304cMapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u3066\u30b9\u30ad\u30e3\u30f3\u3055\u308c\u3066DI\u30b3\u30f3\u30c6\u30ca\u306b\u767b\u9332\u3055\u308c\u3066\u3057\u307e\u3046\u3068\u3044\u3046\u554f\u984c\u304c\u3042\u308a\u307e\u3057\u305f\u3002 `@Mapper`\u306f\u3053\u306e\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u624b\u6bb5\u3068\u3057\u3066\u8ffd\u52a0\u3055\u308c\u305f\u30de\u30fc\u30ab\u30fc\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002\n\nMapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306b`@Mapper`\u3092\u4ed8\u4e0e\u3057\u306a\u3044\u5834\u5408\u306f\u3001`@MapperScan`\u3092\u4f7f\u3063\u3066\u30b9\u30ad\u30e3\u30f3\u5bfe\u8c61\u306e\u30d9\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\n\n```java:src/main/java/com/example/MybatisDemoApplication.java\n@MapperScan(\"com.example.mapper\") // \u30b9\u30ad\u30e3\u30f3\u3059\u308b\u30d9\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b\n@SpringBootApplication\npublic class MybatisDemoApplication {\n    // ...\n}\n```\n\n\n# \u30bf\u30a4\u30d7\u30a8\u30a4\u30ea\u30a2\u30b9\u306e\u5229\u7528\n\nSQL\u3092XML\u306b\u8a18\u8ff0\u3059\u308b\u969b\u306b\u3001`parameterType`\u3084`resultType`\u5c5e\u6027\u306b\u30af\u30e9\u30b9\u306eFQCN(Fully Qualified Class Name)\u3067\u306f\u306a\u304f\u3001\u30b7\u30f3\u30d7\u30eb\u306a\u30af\u30e9\u30b9\u540d(\u30a8\u30a4\u30ea\u30a2\u30b9\u540d)\u3092\u6307\u5b9a\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u306f\u3001`applicaion.properties`\u306b\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\n```properties:src/main/resources/applicaion.properties\nmybatis.type-aliases-package=com.example.domain\n```\n\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u8907\u6570\u306e\u30d9\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n# \u30bf\u30a4\u30d7\u30cf\u30f3\u30c9\u30e9\u30fc\u306e\u9069\u7528\n\nMyBatis\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u7528\u610f\u3057\u3066\u3044\u306a\u3044\u578b\u306e\u30bf\u30a4\u30d7\u30cf\u30f3\u30c9\u30e9\u30fc\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408\u3084\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u9069\u7528\u3055\u308c\u308b\u30bf\u30a4\u30d7\u30cf\u30f3\u30c9\u30e9\u30fc\u3092\u4e0a\u66f8\u304d\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u306f\u3001`applicaion.properties`\u306b\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\n```properties:src/main/resources/applicaion.properties\nmybatis.type-handlers-package=com.example.typehandler\n```\n\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u8907\u6570\u306e\u30d9\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n# SqlSession\u306e\u5b9f\u884c\u30e2\u30fc\u30c9\u306e\u5909\u66f4\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u5b9f\u884c\u30e2\u30fc\u30c9\u306fMyBatis\u8a2d\u5b9a\u306e\u8a2d\u5b9a\u5024\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306fSIMPLE\u30e2\u30fc\u30c9\uff09\u3067\u3059\u304c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u7a2e\u985e\u3084\u8981\u4ef6\u306b\u3088\u3063\u3066\u306f\u5b9f\u884c\u30e2\u30fc\u30c9\u3092\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u306f\u3001`applicaion.properties`\u306b\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u3082\u3061\u308d\u3093MyBatis\u8a2d\u5b9a\u306e\u8a2d\u5b9a\u5024\u3092\u5909\u66f4\u3057\u3066\u3082OK\u3067\u3059\u3002\n\n```properties:src/main/resources/applicaion.properties\nmybatis.executor-type=BATCH\n```\n\n# Mapper XML\u30d5\u30a1\u30a4\u30eb\u3092\u660e\u793a\u7684\u306b\u8aad\u307f\u8fbc\u3080\n\nMapper\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u7d4c\u7531\u3057\u306a\u3044\u3067\u76f4\u63a5`SqlSession`(`SqlSessionTemplate`)\u3092\u4f7f\u3063\u3066SQL\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001SQL\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308bMapper XML\u30d5\u30a1\u30a4\u30eb\u3092\u660e\u793a\u7684\u306b\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u306f\u3001`applicaion.properties`\u306b\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\n```properties:src/main/resources/applicaion.properties\nmybatis.mapper-locations=classpath*:/mybatis/sqls/**/*.xml\n```\n\n\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u8907\u6570\u306e\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3057\u3001\n\n```properties:src/main/resources/applicaion.properties\nmybatis.mapper-locations[0]=classpath*:/mybatis/sqls/aaa/**/*.xml\nmybatis.mapper-locations[1]=classpath*:/mybatis/sqls/bbb/**/*.xml\n```\n\n\u3068\u3044\u3046\u611f\u3058\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n\u307e\u305f\u3001properties\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u306a\u304fyaml\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\n\n```yaml:src/main/resources/applicaion.yml\nmybatis:\n    mapper-locations:\n        - classpath*:/mybatis/sqls/aaa/**/*.xml\n        - classpath*:/mybatis/sqls/bbb/**/*.xml\n```\n\n\u3068\u3044\u3046\u8a18\u8ff0\u306b\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n# MyBatis\u306e\u8a2d\u5b9a\n\n\u30d0\u30fc\u30b8\u30e7\u30f31.0\u7cfb\u3067\u306f\u3001MyBatis\u81ea\u4f53\u306e\u52d5\u4f5c\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u305f\u3044\u5834\u5408\u306f\u3001MyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e`<settings>`\u30bf\u30b0\u5185\u306b\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u304c\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.1\u7cfb\u304b\u3089`applicaion.properties`\u306b\u76f4\u63a5\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n### MyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f7f\u7528\u6642\u306e\u8a2d\u5b9a\u4f8b\n\n```properties:src/main/resources/applicaion.properties\nmybatis.config-location=classpath:/mybatis/mybatis-config.xml\n```\n\n```xml:src/main/resources/mybatis/mybatis-config.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE configuration\n    PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<configuration>\n    <settings>\n        <setting name=\"mapUnderscoreToCamelCase\" value=\"true\" />\n        <setting name=\"defaultFetchSize\" value=\"100\" />\n        <setting name=\"defaultStatementTimeout\" value=\"30\" />\n    </settings>\n</configuration>\n```\n\n\u3082\u3061\u308d\u3093`<settings>`\u4ee5\u5916\u306e\u30bf\u30b0\u3082\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u30fb\u30fb\u30fbMyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\u4ed5\u7d44\u307f\u3082\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u4ed5\u7d44\u307f\u3092\u6709\u52b9\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```properties:src/main/resources/applicaion.properties\nmybatis.check-config-location=true\n```\n\n### applicaion.properties\u4f7f\u7528\u6642\u306e\u8a2d\u5b9a\u4f8b\n\nMyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u308f\u305a\u306b`applicaion.properties`\u3060\u3051\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n```properties:src/main/resources/applicaion.properties\nmybatis.configuration.map-underscore-to-camel-case=true\nmybatis.configuration.default-fetch-size=100\nmybatis.configuration.default-statement-timeout=30\n```\n\u306a\u304a\u3001`mybatis.configuration.xxxx`\u3068`mybatis.config-location`\u3092\u540c\u6642\u306b\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\u6307\u5b9a\u3059\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n> **Note:**\n> \u30d0\u30fc\u30b8\u30e7\u30f31.1.1\u307e\u3067\u306f\u3001IDE\u4e0a\u3067`mybatis.configuration`\u914d\u4e0b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u88dc\u5b8c\u3055\u308c\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u89e3\u6c7a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\uff08\u305f\u3060\u30fb\u30fb\u30fb\u540c\u3058\u30d7\u30ed\u30d1\u30c6\u30a3\u30ad\u30fc\u304c\u91cd\u8907\u3057\u3066\u308b\u306a\u30fb\u30fb\u30fb\u30fb\uff09\n>\n> 2017/1/8 \u8ffd\u8a18\n> \u5165\u529b\u88dc\u5b8c\u6642\u306b\u30d7\u30ed\u30d1\u30c6\u30a3\u30ad\u30fc\u304c\u91cd\u8907\u3057\u3066\u3044\u308b\u306e\u306f\u30fb\u30fb\u30fbmaven-bundle-plugin 2.5.4\u306e\u30d0\u30b0\uff1f\u304c\u539f\u56e0\u3063\u307d\u304f\u3001maven-bundle-plugin 3.0.0+\u3092\u4f7f\u3063\u3066\u30d3\u30eb\u30c9\u3057\u305f\u3089\u89e3\u6c7a\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001[mybatis-spring-boot-starter#gh-127](https://github.com/mybatis/spring-boot-starter/issues/127)\u3067\u5bfe\u5fdc\u4e88\u5b9a\u3067\u30d0\u30fc\u30b8\u30e7\u30f31.2.1\u3067\u76f4\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n# \u5916\u90e8\u5b9a\u7fa9\u3057\u305f\u30d7\u30ed\u30d1\u30c6\u30a3\u5024\u306e\u9069\u7528\n\nMyBatis\u3067\u306f\u3001\u5916\u90e8\u5b9a\u7fa9\u3057\u305f\u30d7\u30ed\u30d1\u30c6\u30a3\u5024\u3092MyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3084Mapper\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u306b\u57cb\u3081\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u3001\u5916\u90e8\u5b9a\u7fa9\u306fMyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e`<properties>`\u8981\u7d20\u3092\u4f7f\u3063\u3066\u6307\u5b9a\u3057\u307e\u3059\u3002\uff08\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u76f4\u63a5\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001\u672c\u6295\u7a3f\u3067\u306f\u6271\u3044\u307e\u305b\u3093\uff09\n\n* http://www.mybatis.org/mybatis-3/ja/configuration.html#properties\n\n\u3055\u3089\u306b\u3001MyBatis-Spring\u3092\u4f7f\u3046\u5834\u5408\u306fMyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e`<properties>`\u8981\u7d20\u306b\u52a0\u3048\u3066\u3001`SqlSessionFactoryBean`\u306e`configurationProperties`\u30d7\u30ed\u30d1\u30c6\u30a3(`java.util.Properties`\u578b)\u306b\u5916\u90e8\u5b9a\u7fa9\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3088\u308a\u3001`application.properties`(or `application.yml`)\u3092\u4f7f\u3063\u3066\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u4f8b\u3048\u3070\u3001MyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3066\u3044\u305f\u90e8\u5206\u306f\u30fb\u30fb\u30fb\n\n```xml:MyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\uff08\u629c\u7c8b\uff09\n<properties>\n  <property name=\"key\" value=\"value\"/>\n</properties>\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001`application.properties`(or `application.yml`)\u306e\u4e2d\u3067\u6307\u5b9a\u3059\u308b\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```properties:src/main/resources/application.properties\nmybatis.configuration-properties.key=value\n```\n\n> **Note:**\n> \u5b9f\u306f\u30fb\u30fb\u30fb\u30d0\u30fc\u30b8\u30e7\u30f31.1.1\u3067\u3082\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u540c\u3058\u3053\u3068\u304c\u5b9f\u73fe\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u306e\u65b9\u6cd5\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.2\u4ee5\u964d\u3067\u3082\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u3001\u540c\u3058\u30ad\u30fc\u540d\u304c\u3042\u308b\u5834\u5408\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u8ffd\u52a0\u3055\u308c\u305f`mybatis.configuration-properties`\u3067\u6307\u5b9a\u3057\u305f\u5024\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002\n>\n> ```properties:src/main/resources/application.properties\n> mybatis.configuration.variables.key=value\n> ```\n>\n> \u305f\u3068\u3048\u3070\u30fb\u30fb\u30fb`mybatis.configuration.variables`\u306b\u306f\u74b0\u5883\u4f9d\u5b58\u3057\u306a\u3044\u5024\uff08or \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff09\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u304d\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u6bce\uff08\u74b0\u5883\u6bce\uff09\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a1\u30a4\u30eb\u3067`mybatis.configuration-properties`\u3092\u4f7f\u7528\u3057\u3066\u74b0\u5883\u4f9d\u5b58\u5024\u306b\u4e0a\u66f8\u304d\u3059\u308b\u3068\u3044\u3063\u305f\u4f7f\u3044\u65b9\u3082\u3067\u304d\u307e\u3059\u3002\n\n\n# Plugin(Interceptor)\u306e\u9069\u7528\n\nMyBatis\u306f\u3001MyBatis\u306e\u30b3\u30a2\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u884c\u3046\u51e6\u7406\u306b\u5272\u308a\u8fbc\u3080\u4ed5\u7d44\u307f(`Interceptor`)\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u4ed5\u7d44\u307f\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u3042\u307e\u308a\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001MyBatis\u306b`Interceptor`\u3092\u9069\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aBean\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\n```java:src/main/java/com/example/MybatisDemoApplication.java\n@SpringBootApplication\npublic class MybatisDemoApplication {\n    @Bean\n    Interceptor myInterceptor(){\n        return new MyInterceptor();\n    }\n    // ...\n}\n```\n\n\u8907\u6570\u306e`Intereptor`\u3092MyBatis\u306b\u9069\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u305d\u308c\u305e\u308cBean\u5b9a\u7fa9\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\n# DatabaseIdProvider\u306e\u9069\u7528\n\nMyBatis\u306f\u3001\u63a5\u7d9a\u4e2d\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f(`DatabaseIdProvider`)\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u4ed5\u7d44\u307f\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u3042\u307e\u308a\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001MyBatis\u306b`DatabaseIdProvider`\u3092\u9069\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aBean\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\n```java:src/main/java/com/example/MybatisDemoApplication.java\n@SpringBootApplication\npublic class MybatisDemoApplication\u3000{\n    @Bean\n    VendorDatabaseIdProvider vendorDatabaseIdProvider() {\n        VendorDatabaseIdProvider databaseIdProvider = new VendorDatabaseIdProvider();\n        Properties vendorProperties = new Properties();\n        vendorProperties.put(\"PostgreSQL\", \"postgresql\");\n        vendorProperties.put(\"H2\", \"h2\");\n        databaseIdProvider.setProperties(vendorProperties);\n        return databaseIdProvider;\n    }\n    // ...\n}\n```\n\n# \u307e\u3068\u3081\n\n\u4eca\u56de\u306f\u3001\u4ed5\u4e8b\u3067\u3088\u304f\u4f7f\u3046MyBatis\u3092Spring Boot\u3067\u52d5\u304b\u3059\u6642\u306b\u4f7f\u3046\u3068\u4fbf\u5229\u306amybatis-spring-boot-starter\u3092\u7d39\u4ecb\u3057\u307e\u3057\u305f\u3002MyBatis\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u52d5\u4f5c\u3067\u554f\u984c\u306a\u3051\u308c\u3070\u3001\u7279\u5225\u306a\u8a2d\u5b9a\u306f\u3044\u3063\u3055\u3044\u4e0d\u8981\u3067\u3059\u3002\n\n# \u53c2\u8003\u30b5\u30a4\u30c8\n* https://github.com/mybatis/spring-boot-starter\n* http://www.mybatis.org/mybatis-3/ja/\n* http://terasolunaorg.github.io/guideline/5.2.0.RELEASE/ja/ArchitectureInDetail/DataAccessDetail/DataAccessMyBatis3.html\n", "tags": ["MyBatis", "spring-boot", "Java", "spring"]}