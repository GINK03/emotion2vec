{"tags": ["PyQt", "Python", "Qt", "GUI"], "context": " More than 1 year has passed since last update.PyQt\u3067widget\u3092\u4f5c\u6210\u3057\u3066\u305d\u308c\u3092Qt designer\u4e0a\u3067\u5229\u7528\u3059\u308b\u65b9\u6cd5\u306e\u30e1\u30e2\u3067\u3059\u3002\u6a5f\u80fd\u3068\u3057\u3066signal,slot\u306e\u5b9f\u88c5\u3082\u542b\u307f\u307e\u3059\u3002\u4f8b\u3067\u306fQt4\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304cQt5\u3067\u3082\u57fa\u672c\u7684\u306b\u306f\u540c\u3058\u3067\u3059(\u3044\u304f\u3064\u304b\u306e\u6539\u5909\u306f\u5fc5\u8981\u3067\u3059\u304c)\u3002\u30cd\u30c3\u30c8\u4e0a\u3067\u691c\u7d22\u3057\u305f\u306e\u3067\u3059\u304c\u306a\u304b\u306a\u304b\u30d2\u30c3\u30c8\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u306e\u3067\u3001\u3044\u304f\u3089\u304b\u306f\u53c2\u8003\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u7528\u8a9e\u306b\u3064\u3044\u3066\u306f\u3001\u79c1\u304c\u52dd\u624b\u306b\u547d\u540d\u3057\u305f\u3082\u306e\u3082\u3042\u308a\u307e\u3059\u306e\u3067\u3001Qt\u306e\u898f\u5247\u304b\u3089\u5916\u308c\u3066\u3044\u308b\u3082\u306e\u306b\u3064\u3044\u3066\u306f\u3054\u6307\u6458\u304c\u3042\u308c\u3070\u6709\u308a\u96e3\u3044\u3067\u3059\u3002\n\n\u6e96\u5099\u3059\u308b\u3082\u306e\n1.PyQt\u3067\u52d5\u4f5c\u3059\u308bwidget.\n2.\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306epython\u30d5\u30a1\u30a4\u30eb\n\u3053\u306e2\u3064\u3060\u3051\u3067\u3059\u3002\n\nwidget\u306e\u4f5c\u88fd\n\u307e\u305aPyQt\u3067\u52d5\u4f5c\u3059\u308b\u30c6\u30b9\u30c8\u7528widget\u3092designer\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u5916\u89b3\u306f\n\n\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nQLavel,QTextInput,QPushbutton\u304cQHBoxLayout\u3067\u30ec\u30a4\u30a2\u30a6\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002object name\u306fTextInp\u3068\u3057\u307e\u3057\u305f\u3002QPushButton\u306eclicked signal\u306fQTextInput\u306eclear\u3068Form\u306egetPressed slot\u306b\u30b3\u30cd\u30af\u30c8\u3057\u307e\u3057\u305f\u3002getPressed slot\u306fdesigner\u4e0a\u3067\u4f5c\u88fd\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3092ui_textinp.ui\u30d5\u30a1\u30a4\u30eb\u306b\u30bb\u30fc\u30d6\u3057\u307e\u3059\u3002\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<ui version=\"4.0\">\n <class>TextInp</class>\n <widget class=\"QWidget\" name=\"TextInp\">\n  <property name=\"geometry\">\n   <rect>\n    <x>0</x>\n    <y>0</y>\n    <width>400</width>\n    <height>62</height>\n   </rect>\n  </property>\n  <property name=\"windowTitle\">\n   <string>Form</string>\n  </property>\n  <widget class=\"QWidget\" name=\"horizontalLayoutWidget\">\n   <property name=\"geometry\">\n    <rect>\n     <x>0</x>\n     <y>0</y>\n     <width>391</width>\n     <height>61</height>\n    </rect>\n   </property>\n   <layout class=\"QHBoxLayout\" name=\"horizontalLayout\">\n    <item>\n     <widget class=\"QLabel\" name=\"label\">\n      <property name=\"text\">\n       <string>TextLabel</string>\n      </property>\n     </widget>\n    </item>\n    <item>\n     <widget class=\"QLineEdit\" name=\"lineEdit\"/>\n    </item>\n    <item>\n     <widget class=\"QPushButton\" name=\"pushButton\">\n      <property name=\"text\">\n       <string>PushButton</string>\n      </property>\n     </widget>\n    </item>\n   </layout>\n  </widget>\n </widget>\n <resources/>\n <connections>\n  <connection>\n   <sender>pushButton</sender>\n   <signal>clicked()</signal>\n   <receiver>lineEdit</receiver>\n   <slot>clear()</slot>\n   <hints>\n    <hint type=\"sourcelabel\">\n     <x>358</x>\n     <y>31</y>\n    </hint>\n    <hint type=\"destinationlabel\">\n     <x>238</x>\n     <y>32</y>\n    </hint>\n   </hints>\n  </connection>\n  <connection>\n   <sender>pushButton</sender>\n   <signal>clicked()</signal>\n   <receiver>TextInp</receiver>\n   <slot>getPressed()</slot>\n   <hints>\n    <hint type=\"sourcelabel\">\n     <x>383</x>\n     <y>31</y>\n    </hint>\n    <hint type=\"destinationlabel\">\n     <x>394</x>\n     <y>51</y>\n    </hint>\n   </hints>\n  </connection>\n </connections>\n <slots>\n  <slot>getPressed()</slot>\n </slots>\n</ui>\n\n\u3053\u306eui\u30d5\u30a1\u30a4\u30eb\u3092pyuic4\u3092\u4f7f\u3063\u3066\n$ pyuic4 ui_textinp.ui > ui_textinp.py\n\n\u306b\u5909\u63db\u3057\u307e\u3059\u3002\u751f\u6210\u3055\u308c\u305fpython\u30d5\u30a1\u30a4\u30eb\u306b\u306f Ui_TextInp\u3068\u3044\u3046\u540d\u524d\u306e\u30af\u30e9\u30b9\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u540d\u524d\u306f\u5148\u7a0b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d\u306eTextInp\u306b\u7531\u6765\u3057\u307e\u3059\u3002\n\u6b21\u306b\u3053\u306ewidget\u304c\u5358\u72ec\u3067\u52d5\u4f5c\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u88fd\u3057\u307e\u3059\u3002 textinp.py\u3068\u3044\u3046\u540d\u524d\u3067\n#!/usr/bin/env python\n\nimport PyQt4\nfrom PyQt4 import QtCore,QtGui\nfrom PyQt4.QtGui import QApplication,QWidget,QVBoxLayout\n\n__version__ = '0.0.1'\n\nfrom ui_textinp import Ui_TextInp\ntry:\n    _fromUtf8 = QtCore.QString.fromUtf8\nexcept AttributeError:\n    _fromUtf8 = lambda s: s\n\nclass TextInp(QWidget, Ui_TextInp):\n    def __init__(self, parent=None):\n        super(TextInp, self).__init__(parent)\n        self.setupUi(self)\n        vBox = QVBoxLayout()\n        vBox.addWidget(self.horizontalLayoutWidget)\n        self.setLayout(vBox)\n    @QtCore.pyqtSlot()\n    def getPressed(self):\n        print \"PRESSED\"\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    textinp = TextInp()\n    textinp.show()\n    sys.exit(app.exec_())\n\n\u89e3\u8aac\u306f\u3042\u307e\u308a\u8981\u3089\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u3002TextInp \u30af\u30e9\u30b9\u3067\u306fUi_TextInp\u3092\u7d99\u627f\u3057\u307e\u3059\u3002vBox\u304c\u7121\u3044\u3068\u30a6\u30a3\u30f3\u30c9\u30a6\u30b5\u30a4\u30ba\u3092\u5909\u3048\u305f\u3068\u304d\u306b\u30b5\u30a4\u30ba\u304c\u8ffd\u5f93\u3057\u307e\u305b\u3093\u3002slot\u306e\u5b9f\u88c5\u3082\u898b\u305f\u3068\u3046\u308a\u3067\u3059\u3002QPushButton\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u308b\u3068getPressed\u95a2\u6570\u304c\u547c\u3070\u308c\u3066\u6a19\u6e96\u51fa\u529b\u306bPRSSED\u306e\u6587\u5b57\u5217\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u5b9f\u884c\u3059\u308b\u3068\n$ python textinp.py\n\n\u3067\u4e0a\u56f3\u306e\u3088\u3046\u306awidget\u304c\u8868\u793a\u3055\u308c\u3001text\u306b\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u5217\u306f\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30af\u30ea\u30a2\u3055\u308c\u3001\u6a19\u6e96\u51fa\u529b\u306bPRESSED\u304c\u8868\u793a\u3055\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\nplugin\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u88fd\n\u3055\u3066\u3001\u3053\u308c\u3067PyQt\u3067\u5b9f\u884c\u3067\u304d\u308bwidget\u306f\u4f5c\u88fd\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u308c\u3092designer\u306e\u90e8\u54c1\u3068\u3057\u3066\u53d6\u308a\u8fbc\u3080\u305f\u3081\u306b\u306f\u3082\u3046\u4e00\u3064\u306epython file\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u308c\u3092textinpplugin.py\u3068\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n#!/usr/bin/env python\n\n\"\"\"\npolygonwidgetplugin.py\n\nA polygon widget custom widget plugin for Qt Designer.\n\nCopyright (C) 2006 David Boddie <david@boddie.org.uk>\nCopyright (C) 2005-2006 Trolltech ASA. All rights reserved.\n\nThis program is free software; you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation; either version 2 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program; if not, write to the Free Software\nFoundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n\"\"\"\n\nfrom PyQt4 import QtGui, QtDesigner\nfrom textinp import TextInp\n\n\nclass TextInpPlugin(QtDesigner.QPyDesignerCustomWidgetPlugin):\n\n    \"\"\"TextInpPlugin(QtDesigner.QPyDesignerCustomWidgetPlugin)\n    Provides a Python custom plugin for Qt Designer by implementing the\n    QDesignerCustomWidgetPlugin via a PyQt-specific custom plugin class.\n    \"\"\"\n\n    # The __init__() method is only used to set up the plugin and define its\n    # initialized variable.\n    def __init__(self, parent=None):\n\n        super(TextInpPlugin, self).__init__(parent)\n\n        self.initialized = False\n\n    # The initialize() and isInitialized() methods allow the plugin to set up\n    # any required resources, ensuring that this can only happen once for each\n    # plugin.\n    def initialize(self, core):\n\n        if self.initialized:\n            return\n\n        self.initialized = True\n\n    def isInitialized(self):\n\n        return self.initialized\n\n    # This factory method creates new instances of our custom widget with the\n    # appropriate parent.\n    def createWidget(self, parent):\n        return TextInp(parent)\n\n    # This method returns the name of the custom widget class that is provided\n    # by this plugin.\n    def name(self):\n        return \"TextInp\"\n\n    # Returns the name of the group in Qt Designer's widget box that this\n    # widget belongs to.\n    def group(self):\n        return \"Example for Qiita\"\n\n    # Returns the icon used to represent the custom widget in Qt Designer's\n    # widget box.\n    def icon(self):\n        return QtGui.QIcon(_logo_pixmap)\n\n    # Returns a short description of the custom widget for use in a tool tip.\n    def toolTip(self):\n        return \"\"\n\n    # Returns a short description of the custom widget for use in a \"What's\n    # This?\" help message for the widget.\n    def whatsThis(self):\n        return \"\"\n\n    # Returns True if the custom widget acts as a container for other widgets;\n    # otherwise returns False. Note that plugins for custom containers also\n    # need to provide an implementation of the QDesignerContainerExtension\n    # interface if they need to add custom editing support to Qt Designer.\n    def isContainer(self):\n        return False\n\n    # Returns an XML description of a custom widget instance that describes\n    # default values for its properties. Each custom widget created by this\n    # plugin will be configured using this description.\n    def domXml(self):\n        return '<widget class=\"TextInp\" name=\"textinp\" />\\n'\n\n    # Returns the module containing the custom widget class. It may include\n    # a module path.\n    def includeFile(self):\n        return \"textinp\"\n\n\n# Define the image used for the icon.\n_logo_16x16_xpm = [\n\"16 16 3 1\",\n\"a c #008000\",\n\"# c #0080ff\",\n\". c #ffffff\",\n\"................\",\n\"................\",\n\"..#############.\",\n\"..#############.\",\n\"..#############.\",\n\"..#############.\",\n\"..#############.\",\n\"..#############.\",\n\"................\",\n\"................\",\n\"..aaaaaaaaaaaaa.\",\n\"..aaaaaaaaaaaaa.\",\n\"..aaaaaaaaaaaaa.\",\n\"..aaaaaaaaaaaaa.\",\n\"..aaaaaaaaaaaaa.\",\n\"................\"]\n\n_logo_pixmap = QtGui.QPixmap(_logo_16x16_xpm)\n\ntextinp\u3084TextInp\u306e\u3068\u3053\u308d\u3092\u66f8\u304d\u63db\u3048\u308c\u3070\u3001\u5fdc\u7528\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002def group\u3067\u8fd4\u3055\u308c\u308b\u6587\u5b57\u5217\u306fdesigner\u306ewidget\u30b0\u30eb\u30fc\u30d7\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u6700\u5f8c\u306e_logo_16x16_xpm\u306fxpm\u5f62\u5f0f\u306e\u30a2\u30a4\u30b3\u30f3\u3067\u3059\u3002\n\u3053\u308c\u307e\u3067\u306b\u3001\n\ntextinp.py\nui_textinp.py\ntextinpplugin.py\n\n\u306e3\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\ndesigner\u306e\u8d77\u52d5\n\u3053\u308c\u3089\u306e\u3046\u3061widget\u95a2\u4fc2\u306e\u30d5\u30a1\u30a4\u30eb\u3092widgets,plugin\u95a2\u4fc2\u306e\u30d5\u30a1\u30a4\u30eb\u3092python\u3068\u3044\u3046\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3001\u74b0\u5883\u5909\u6570 PYQTDESIGNERPATH,PYTHONPATH\u3092\u5b9a\u7fa9\u3057\u3066\u3001designer\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ mv  textinp.py ui_textinp.py widgets\n$ mv  textinpplugin.py python\n$ export PYQTDESIGNERPATH=python\n$ export PYTHONPATH=widgets\n$ designer\n\ndesigner\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u4e0b\u56f3\u306e\u3088\u3046\u306a\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u304c\u898b\u3048\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u3042\u306a\u305f\u304c\u88fd\u4f5c\u3057\u305f\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u306fdesigner\u4e0a\u3067\u4ed6\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u540c\u69d8\u306bdesigner\u4e0a\u3067\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001\u4e0a\u3067\u5b9a\u7fa9\u3057\u305fgetPressed\u30b9\u30ed\u30c3\u30c8\u3082\u305d\u306e\u307e\u307edesigner\u4e0a\u306esignal/slot\u30a8\u30c7\u30a3\u30bf\u3067\u3082\u6709\u52b9\u3067\u3059\u3002\n\n\nsignal, property\n\nsignal\u306e\u5b9f\u88c5\n\u304a\u3063\u3068\u3001slot\u306e\u5b9f\u88c5\u306f\u3057\u307e\u3057\u305f\u304c\u3001signal\u304c\u307e\u3060\u3067\u3057\u305f\u306d\u3002\u5148\u7a0b\u306etextinp.py\u306b\u52a0\u3048\u307e\u3059\u3002getPressed\u304c\u547c\u3070\u308c\u305f\u3068\u304d\u306bsignal\u3092\u751f\u6210(emit)\u3059\u308b\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002 class\u5b9a\u7fa9\u306e\u6700\u521d\u306bQtCore.pyqtSignal\u3092\u66f8\u3044\u3066\u3001\u547c\u3073\u51fa\u3057\u305f\u3044\u3068\u304d\u306boutText.emit(\"TXT\")\u3092\u547c\u3073\u307e\u3059\u3002\nclass TextInp(QWidget, Ui_TextInp):\n    outText=QtCore.pyqtSignal(str)\n    def __init__(self, parent=None):\n        super(TextInp, self).__init__(parent)\n        self.setupUi(self)\n        vBox = QVBoxLayout()\n        vBox.addWidget(self.horizontalLayoutWidget)\n        self.setLayout(vBox)\n        self._label_text=\"Label text\"\n        self.label.setText(self._label_text)\n    @QtCore.pyqtSlot()\n    def getPressed(self):\n        self.outText.emit(self.lineEdit.text())\n        print self.lineEdit.text()\n\ndesigner\u3067signal\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n\nproperty\u306e\u5b9f\u88c5\nproperty\u3092\u5b9f\u88c5\u3057\u305ftextinp.py\u3067\u3059\u3002\nclass TextInp(QWidget, Ui_TextInp):\n    outText=QtCore.pyqtSignal(str)\n    def __init__(self, parent=None):\n        super(TextInp, self).__init__(parent)\n        self.setupUi(self)\n        vBox = QVBoxLayout()\n        vBox.addWidget(self.horizontalLayoutWidget)\n        self.setLayout(vBox)\n        self._label_text=\"Label text\"\n        self.label.setText(self._label_text)\n    @QtCore.pyqtSlot()\n    def getPressed(self):\n        self.outText.emit(self.lineEdit.text())\n        print self.lineEdit.text()\n    def setLabelText(self,inptxt):\n        self._label_text=inptxt\n        self.label.setText(self._label_text)\n    def getLabelText(self):\n        return self._label_text\n    label_text=QtCore.pyqtProperty(str, getLabelText, setLabelText)\n\nsetLabelText\u3068getLabelText\u95a2\u6570\u3092QtCore.pyqtProperty\u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002designer\u4e0a\u3067\u306f\n\n\u306e\u3088\u3046\u306blabel_text\u304c\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nPyQt\u3067widget\u3092\u4f5c\u6210\u3057\u3066\u305d\u308c\u3092Qt designer\u4e0a\u3067\u5229\u7528\u3059\u308b\u65b9\u6cd5\u306e\u30e1\u30e2\u3067\u3059\u3002\u6a5f\u80fd\u3068\u3057\u3066signal,slot\u306e\u5b9f\u88c5\u3082\u542b\u307f\u307e\u3059\u3002\u4f8b\u3067\u306fQt4\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304cQt5\u3067\u3082\u57fa\u672c\u7684\u306b\u306f\u540c\u3058\u3067\u3059(\u3044\u304f\u3064\u304b\u306e\u6539\u5909\u306f\u5fc5\u8981\u3067\u3059\u304c)\u3002\u30cd\u30c3\u30c8\u4e0a\u3067\u691c\u7d22\u3057\u305f\u306e\u3067\u3059\u304c\u306a\u304b\u306a\u304b\u30d2\u30c3\u30c8\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u306e\u3067\u3001\u3044\u304f\u3089\u304b\u306f\u53c2\u8003\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u7528\u8a9e\u306b\u3064\u3044\u3066\u306f\u3001\u79c1\u304c\u52dd\u624b\u306b\u547d\u540d\u3057\u305f\u3082\u306e\u3082\u3042\u308a\u307e\u3059\u306e\u3067\u3001Qt\u306e\u898f\u5247\u304b\u3089\u5916\u308c\u3066\u3044\u308b\u3082\u306e\u306b\u3064\u3044\u3066\u306f\u3054\u6307\u6458\u304c\u3042\u308c\u3070\u6709\u308a\u96e3\u3044\u3067\u3059\u3002\n\n# \u6e96\u5099\u3059\u308b\u3082\u306e\n\n1.PyQt\u3067\u52d5\u4f5c\u3059\u308bwidget.\n2.\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306epython\u30d5\u30a1\u30a4\u30eb\n\u3053\u306e2\u3064\u3060\u3051\u3067\u3059\u3002\n\n## widget\u306e\u4f5c\u88fd\n\u307e\u305aPyQt\u3067\u52d5\u4f5c\u3059\u308b\u30c6\u30b9\u30c8\u7528widget\u3092designer\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u5916\u89b3\u306f\n![preview.png](https://qiita-image-store.s3.amazonaws.com/0/23449/5a7e37c9-583e-548a-afc4-be479eb52d9f.png)\n\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nQLavel,QTextInput,QPushbutton\u304cQHBoxLayout\u3067\u30ec\u30a4\u30a2\u30a6\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002object name\u306fTextInp\u3068\u3057\u307e\u3057\u305f\u3002QPushButton\u306eclicked signal\u306fQTextInput\u306eclear\u3068Form\u306egetPressed slot\u306b\u30b3\u30cd\u30af\u30c8\u3057\u307e\u3057\u305f\u3002getPressed slot\u306fdesigner\u4e0a\u3067\u4f5c\u88fd\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3092ui_textinp.ui\u30d5\u30a1\u30a4\u30eb\u306b\u30bb\u30fc\u30d6\u3057\u307e\u3059\u3002\n\n```xml\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<ui version=\"4.0\">\n <class>TextInp</class>\n <widget class=\"QWidget\" name=\"TextInp\">\n  <property name=\"geometry\">\n   <rect>\n    <x>0</x>\n    <y>0</y>\n    <width>400</width>\n    <height>62</height>\n   </rect>\n  </property>\n  <property name=\"windowTitle\">\n   <string>Form</string>\n  </property>\n  <widget class=\"QWidget\" name=\"horizontalLayoutWidget\">\n   <property name=\"geometry\">\n    <rect>\n     <x>0</x>\n     <y>0</y>\n     <width>391</width>\n     <height>61</height>\n    </rect>\n   </property>\n   <layout class=\"QHBoxLayout\" name=\"horizontalLayout\">\n    <item>\n     <widget class=\"QLabel\" name=\"label\">\n      <property name=\"text\">\n       <string>TextLabel</string>\n      </property>\n     </widget>\n    </item>\n    <item>\n     <widget class=\"QLineEdit\" name=\"lineEdit\"/>\n    </item>\n    <item>\n     <widget class=\"QPushButton\" name=\"pushButton\">\n      <property name=\"text\">\n       <string>PushButton</string>\n      </property>\n     </widget>\n    </item>\n   </layout>\n  </widget>\n </widget>\n <resources/>\n <connections>\n  <connection>\n   <sender>pushButton</sender>\n   <signal>clicked()</signal>\n   <receiver>lineEdit</receiver>\n   <slot>clear()</slot>\n   <hints>\n    <hint type=\"sourcelabel\">\n     <x>358</x>\n     <y>31</y>\n    </hint>\n    <hint type=\"destinationlabel\">\n     <x>238</x>\n     <y>32</y>\n    </hint>\n   </hints>\n  </connection>\n  <connection>\n   <sender>pushButton</sender>\n   <signal>clicked()</signal>\n   <receiver>TextInp</receiver>\n   <slot>getPressed()</slot>\n   <hints>\n    <hint type=\"sourcelabel\">\n     <x>383</x>\n     <y>31</y>\n    </hint>\n    <hint type=\"destinationlabel\">\n     <x>394</x>\n     <y>51</y>\n    </hint>\n   </hints>\n  </connection>\n </connections>\n <slots>\n  <slot>getPressed()</slot>\n </slots>\n</ui>\n```\n\n\u3053\u306eui\u30d5\u30a1\u30a4\u30eb\u3092pyuic4\u3092\u4f7f\u3063\u3066\n\n```bash\n$ pyuic4 ui_textinp.ui > ui_textinp.py\n```\n\u306b\u5909\u63db\u3057\u307e\u3059\u3002\u751f\u6210\u3055\u308c\u305fpython\u30d5\u30a1\u30a4\u30eb\u306b\u306f Ui_TextInp\u3068\u3044\u3046\u540d\u524d\u306e\u30af\u30e9\u30b9\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u540d\u524d\u306f\u5148\u7a0b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d\u306eTextInp\u306b\u7531\u6765\u3057\u307e\u3059\u3002\n\n\u6b21\u306b\u3053\u306ewidget\u304c\u5358\u72ec\u3067\u52d5\u4f5c\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u88fd\u3057\u307e\u3059\u3002 textinp.py\u3068\u3044\u3046\u540d\u524d\u3067\n\n``` python\n#!/usr/bin/env python\n\nimport PyQt4\nfrom PyQt4 import QtCore,QtGui\nfrom PyQt4.QtGui import QApplication,QWidget,QVBoxLayout\n \n__version__ = '0.0.1'\n \nfrom ui_textinp import Ui_TextInp\ntry:\n    _fromUtf8 = QtCore.QString.fromUtf8\nexcept AttributeError:\n    _fromUtf8 = lambda s: s\n    \nclass TextInp(QWidget, Ui_TextInp):\n    def __init__(self, parent=None):\n        super(TextInp, self).__init__(parent)\n        self.setupUi(self)\n        vBox = QVBoxLayout()\n        vBox.addWidget(self.horizontalLayoutWidget)\n        self.setLayout(vBox)\n    @QtCore.pyqtSlot()\n    def getPressed(self):\n        print \"PRESSED\"\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    textinp = TextInp()\n    textinp.show()\n    sys.exit(app.exec_())\n```\n\n\u89e3\u8aac\u306f\u3042\u307e\u308a\u8981\u3089\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u3002TextInp \u30af\u30e9\u30b9\u3067\u306fUi_TextInp\u3092\u7d99\u627f\u3057\u307e\u3059\u3002vBox\u304c\u7121\u3044\u3068\u30a6\u30a3\u30f3\u30c9\u30a6\u30b5\u30a4\u30ba\u3092\u5909\u3048\u305f\u3068\u304d\u306b\u30b5\u30a4\u30ba\u304c\u8ffd\u5f93\u3057\u307e\u305b\u3093\u3002slot\u306e\u5b9f\u88c5\u3082\u898b\u305f\u3068\u3046\u308a\u3067\u3059\u3002QPushButton\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u308b\u3068getPressed\u95a2\u6570\u304c\u547c\u3070\u308c\u3066\u6a19\u6e96\u51fa\u529b\u306bPRSSED\u306e\u6587\u5b57\u5217\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u5b9f\u884c\u3059\u308b\u3068\n\n```bash\n$ python textinp.py\n```\n\u3067\u4e0a\u56f3\u306e\u3088\u3046\u306awidget\u304c\u8868\u793a\u3055\u308c\u3001text\u306b\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u5217\u306f\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30af\u30ea\u30a2\u3055\u308c\u3001\u6a19\u6e96\u51fa\u529b\u306bPRESSED\u304c\u8868\u793a\u3055\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n## plugin\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u88fd\n\n\u3055\u3066\u3001\u3053\u308c\u3067PyQt\u3067\u5b9f\u884c\u3067\u304d\u308bwidget\u306f\u4f5c\u88fd\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u308c\u3092designer\u306e\u90e8\u54c1\u3068\u3057\u3066\u53d6\u308a\u8fbc\u3080\u305f\u3081\u306b\u306f\u3082\u3046\u4e00\u3064\u306epython file\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u308c\u3092textinpplugin.py\u3068\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n\n``` python\n#!/usr/bin/env python\n\n\"\"\"\npolygonwidgetplugin.py\n\nA polygon widget custom widget plugin for Qt Designer.\n\nCopyright (C) 2006 David Boddie <david@boddie.org.uk>\nCopyright (C) 2005-2006 Trolltech ASA. All rights reserved.\n\nThis program is free software; you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation; either version 2 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program; if not, write to the Free Software\nFoundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n\"\"\"\n\nfrom PyQt4 import QtGui, QtDesigner\nfrom textinp import TextInp\n\n\nclass TextInpPlugin(QtDesigner.QPyDesignerCustomWidgetPlugin):\n\n    \"\"\"TextInpPlugin(QtDesigner.QPyDesignerCustomWidgetPlugin)\n    Provides a Python custom plugin for Qt Designer by implementing the\n    QDesignerCustomWidgetPlugin via a PyQt-specific custom plugin class.\n    \"\"\"\n\n    # The __init__() method is only used to set up the plugin and define its\n    # initialized variable.\n    def __init__(self, parent=None):\n    \n        super(TextInpPlugin, self).__init__(parent)\n\n        self.initialized = False\n\n    # The initialize() and isInitialized() methods allow the plugin to set up\n    # any required resources, ensuring that this can only happen once for each\n    # plugin.\n    def initialize(self, core):\n\n        if self.initialized:\n            return\n\n        self.initialized = True\n\n    def isInitialized(self):\n\n        return self.initialized\n\n    # This factory method creates new instances of our custom widget with the\n    # appropriate parent.\n    def createWidget(self, parent):\n        return TextInp(parent)\n\n    # This method returns the name of the custom widget class that is provided\n    # by this plugin.\n    def name(self):\n        return \"TextInp\"\n\n    # Returns the name of the group in Qt Designer's widget box that this\n    # widget belongs to.\n    def group(self):\n        return \"Example for Qiita\"\n\n    # Returns the icon used to represent the custom widget in Qt Designer's\n    # widget box.\n    def icon(self):\n        return QtGui.QIcon(_logo_pixmap)\n\n    # Returns a short description of the custom widget for use in a tool tip.\n    def toolTip(self):\n        return \"\"\n\n    # Returns a short description of the custom widget for use in a \"What's\n    # This?\" help message for the widget.\n    def whatsThis(self):\n        return \"\"\n\n    # Returns True if the custom widget acts as a container for other widgets;\n    # otherwise returns False. Note that plugins for custom containers also\n    # need to provide an implementation of the QDesignerContainerExtension\n    # interface if they need to add custom editing support to Qt Designer.\n    def isContainer(self):\n        return False\n\n    # Returns an XML description of a custom widget instance that describes\n    # default values for its properties. Each custom widget created by this\n    # plugin will be configured using this description.\n    def domXml(self):\n        return '<widget class=\"TextInp\" name=\"textinp\" />\\n'\n\n    # Returns the module containing the custom widget class. It may include\n    # a module path.\n    def includeFile(self):\n        return \"textinp\"\n\n\n# Define the image used for the icon.\n_logo_16x16_xpm = [\n\"16 16 3 1\",\n\"a c #008000\",\n\"# c #0080ff\",\n\". c #ffffff\",\n\"................\",\n\"................\",\n\"..#############.\",\n\"..#############.\",\n\"..#############.\",\n\"..#############.\",\n\"..#############.\",\n\"..#############.\",\n\"................\",\n\"................\",\n\"..aaaaaaaaaaaaa.\",\n\"..aaaaaaaaaaaaa.\",\n\"..aaaaaaaaaaaaa.\",\n\"..aaaaaaaaaaaaa.\",\n\"..aaaaaaaaaaaaa.\",\n\"................\"]\n\n_logo_pixmap = QtGui.QPixmap(_logo_16x16_xpm)\n```\ntextinp\u3084TextInp\u306e\u3068\u3053\u308d\u3092\u66f8\u304d\u63db\u3048\u308c\u3070\u3001\u5fdc\u7528\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002def group\u3067\u8fd4\u3055\u308c\u308b\u6587\u5b57\u5217\u306fdesigner\u306ewidget\u30b0\u30eb\u30fc\u30d7\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u6700\u5f8c\u306e_logo_16x16_xpm\u306fxpm\u5f62\u5f0f\u306e\u30a2\u30a4\u30b3\u30f3\u3067\u3059\u3002\n\n\u3053\u308c\u307e\u3067\u306b\u3001\n```\ntextinp.py\nui_textinp.py\ntextinpplugin.py\n```\n\u306e3\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n# designer\u306e\u8d77\u52d5\n\u3053\u308c\u3089\u306e\u3046\u3061widget\u95a2\u4fc2\u306e\u30d5\u30a1\u30a4\u30eb\u3092widgets,plugin\u95a2\u4fc2\u306e\u30d5\u30a1\u30a4\u30eb\u3092python\u3068\u3044\u3046\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3001\u74b0\u5883\u5909\u6570 PYQTDESIGNERPATH,PYTHONPATH\u3092\u5b9a\u7fa9\u3057\u3066\u3001designer\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n``` bash\n$ mv  textinp.py ui_textinp.py widgets\n$ mv  textinpplugin.py python\n$ export PYQTDESIGNERPATH=python\n$ export PYTHONPATH=widgets\n$ designer\n```\n\ndesigner\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u4e0b\u56f3\u306e\u3088\u3046\u306a\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u304c\u898b\u3048\u308b\u306f\u305a\u3067\u3059\u3002\n![a.png](https://qiita-image-store.s3.amazonaws.com/0/23449/a037f3cf-943c-8b10-6edb-0322686bc201.png)\n\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u3042\u306a\u305f\u304c\u88fd\u4f5c\u3057\u305f\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u306fdesigner\u4e0a\u3067\u4ed6\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u540c\u69d8\u306bdesigner\u4e0a\u3067\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n\u307e\u305f\u3001\u4e0a\u3067\u5b9a\u7fa9\u3057\u305fgetPressed\u30b9\u30ed\u30c3\u30c8\u3082\u305d\u306e\u307e\u307edesigner\u4e0a\u306esignal/slot\u30a8\u30c7\u30a3\u30bf\u3067\u3082\u6709\u52b9\u3067\u3059\u3002\n![sigslot.png](https://qiita-image-store.s3.amazonaws.com/0/23449/948ba92c-76f8-93d8-cc15-d368259581b5.png)\n\n# signal, property\n\n## signal\u306e\u5b9f\u88c5\n\u304a\u3063\u3068\u3001slot\u306e\u5b9f\u88c5\u306f\u3057\u307e\u3057\u305f\u304c\u3001signal\u304c\u307e\u3060\u3067\u3057\u305f\u306d\u3002\u5148\u7a0b\u306etextinp.py\u306b\u52a0\u3048\u307e\u3059\u3002getPressed\u304c\u547c\u3070\u308c\u305f\u3068\u304d\u306bsignal\u3092\u751f\u6210(emit)\u3059\u308b\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002 class\u5b9a\u7fa9\u306e\u6700\u521d\u306bQtCore.pyqtSignal\u3092\u66f8\u3044\u3066\u3001\u547c\u3073\u51fa\u3057\u305f\u3044\u3068\u304d\u306boutText.emit(\"TXT\")\u3092\u547c\u3073\u307e\u3059\u3002\n\n```py\nclass TextInp(QWidget, Ui_TextInp):\n    outText=QtCore.pyqtSignal(str)\n    def __init__(self, parent=None):\n        super(TextInp, self).__init__(parent)\n        self.setupUi(self)\n        vBox = QVBoxLayout()\n        vBox.addWidget(self.horizontalLayoutWidget)\n        self.setLayout(vBox)\n        self._label_text=\"Label text\"\n        self.label.setText(self._label_text)\n    @QtCore.pyqtSlot()\n    def getPressed(self):\n        self.outText.emit(self.lineEdit.text())\n        print self.lineEdit.text()\n```\ndesigner\u3067signal\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n![sig2.png](https://qiita-image-store.s3.amazonaws.com/0/23449/058063db-256d-5153-9b99-e3ff8909a121.png)\n\n## property\u306e\u5b9f\u88c5\nproperty\u3092\u5b9f\u88c5\u3057\u305ftextinp.py\u3067\u3059\u3002\n\n```py\nclass TextInp(QWidget, Ui_TextInp):\n    outText=QtCore.pyqtSignal(str)\n    def __init__(self, parent=None):\n        super(TextInp, self).__init__(parent)\n        self.setupUi(self)\n        vBox = QVBoxLayout()\n        vBox.addWidget(self.horizontalLayoutWidget)\n        self.setLayout(vBox)\n        self._label_text=\"Label text\"\n        self.label.setText(self._label_text)\n    @QtCore.pyqtSlot()\n    def getPressed(self):\n        self.outText.emit(self.lineEdit.text())\n        print self.lineEdit.text()\n    def setLabelText(self,inptxt):\n        self._label_text=inptxt\n        self.label.setText(self._label_text)\n    def getLabelText(self):\n        return self._label_text\n    label_text=QtCore.pyqtProperty(str, getLabelText, setLabelText)\n```\nsetLabelText\u3068getLabelText\u95a2\u6570\u3092QtCore.pyqtProperty\u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002designer\u4e0a\u3067\u306f\n![property_editor.png](https://qiita-image-store.s3.amazonaws.com/0/23449/63218984-aa0f-f195-9849-bb7660d9dae2.png)\n\u306e\u3088\u3046\u306blabel_text\u304c\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\n\n"}