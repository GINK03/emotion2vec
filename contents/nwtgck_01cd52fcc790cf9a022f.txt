{"tags": ["Ruby", "SSL", "\u30b5\u30fc\u30d0\u30fc", "\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"], "context": "\u6587\u5b57\u3092\u5927\u6587\u5b57\u306b\u3059\u308b\u30b5\u30fc\u30d0\u30fc\n\nserver.rb\nrequire 'socket'\nrequire 'openssl'\n\ninclude OpenSSL\n\nctx = SSL::SSLContext.new()\nctx.cert = X509::Certificate.new(File.read('server-cert.pem'))\nctx.key = PKey::RSA.new(File.read('server-key.pem'))\nsvr = TCPServer.new(4443)\nserv = SSL::SSLServer.new(svr, ctx)\n\nsocket = serv.accept\ntext = socket.gets\nsocket.puts(text.upcase)\n\n\n\"hello\"\u3092\u9001\u308b\u3060\u3051\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n\nclient.rb\nrequire 'socket'\nrequire 'openssl'\n\ninclude OpenSSL\n\nsoc = TCPSocket.new('localhost', 4443)\nsocket = SSL::SSLSocket.new(soc)\nsocket.connect\n\nsocket.puts(\"hello\")\nputs socket.gets\n\n\n\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\n$ ruby server.rb\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5b9f\u884c\n$ ruby client.rb\nHELLO # hello\u304c\u5927\u6587\u5b57\u306b\u306a\u3063\u3066\u5e30\u3063\u3066\u6765\u307e\u3059\n\n\n\u304a\u307e\u3051: \u79d8\u5bc6\u9375\u3068\u304b\u3092\u4f5c\u308b\u30b3\u30de\u30f3\u30c9\n$ openssl genrsa -out server-key.pem 1024\n$ openssl req -new -key server-key.pem -out server-csr.pem\n$ openssl x509 -req -in server-csr.pem -signkey server-key.pem -out server-cert.pem\n\n\u6587\u5b57\u3092\u5927\u6587\u5b57\u306b\u3059\u308b\u30b5\u30fc\u30d0\u30fc\n\n```rb:server.rb\nrequire 'socket'\nrequire 'openssl'\n\ninclude OpenSSL\n\nctx = SSL::SSLContext.new()\nctx.cert = X509::Certificate.new(File.read('server-cert.pem'))\nctx.key = PKey::RSA.new(File.read('server-key.pem'))\nsvr = TCPServer.new(4443)\nserv = SSL::SSLServer.new(svr, ctx)\n\nsocket = serv.accept\ntext = socket.gets\nsocket.puts(text.upcase)\n```\n\n\"hello\"\u3092\u9001\u308b\u3060\u3051\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n\n```rb:client.rb\nrequire 'socket'\nrequire 'openssl'\n\ninclude OpenSSL\n\nsoc = TCPSocket.new('localhost', 4443)\nsocket = SSL::SSLSocket.new(soc)\nsocket.connect\n\nsocket.puts(\"hello\")\nputs socket.gets\n```\n\n\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\n\n```sh\n$ ruby server.rb\n```\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5b9f\u884c\n\n```sh\n$ ruby client.rb\nHELLO # hello\u304c\u5927\u6587\u5b57\u306b\u306a\u3063\u3066\u5e30\u3063\u3066\u6765\u307e\u3059\n```\n\n### \u304a\u307e\u3051: \u79d8\u5bc6\u9375\u3068\u304b\u3092\u4f5c\u308b\u30b3\u30de\u30f3\u30c9\n\n```sh\n$ openssl genrsa -out server-key.pem 1024\n$ openssl req -new -key server-key.pem -out server-csr.pem\n$ openssl x509 -req -in server-csr.pem -signkey server-key.pem -out server-cert.pem\n```\n"}