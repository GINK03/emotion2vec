{"tags": ["Swift", "Realm"], "context": " More than 1 year has passed since last update.\u30a2\u30d7\u30ea\u306e\u30ed\u30fc\u30ab\u30eb\u306bRealm\u3092\u4f5c\u3063\u3066\u3001\u305d\u3053\u306b\u30c7\u30fc\u30bf\u3092\u3044\u308c\u3053\u3093\u3067\u691c\u7d22\u7b49\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u3001\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc(iOS8.4)\u3067\u78ba\u8a8d\u3057\u305f\u3060\u3051\u306a\u306e\u3067\u3001\u305d\u3053\u306f\u60aa\u3057\u304b\u3089\u305a..\n\n\u4f7f\u3063\u3066\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\n\nRealm\nObjectMapper ~> 0.16\nAlamofire ~> 2.0\n\nRealm\u306fCocodPods\u3067\u3001\u305d\u308c\u4ee5\u5916\u306fCarthage\u3067\u5165\u308c\u307e\u3057\u305f\u3002\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u898b\u305f\u3089\u3001Realm\u306eSwift2.0\u7528\u306fCarthage\u3067\u5165\u3089\u306a\u3044\u305d\u3046\u306a\u306e\u3067\u3002\n\n\u30e2\u30c7\u30eb\u306e\u5ba3\u8a00\nAlamoFire\u3067\u53d6\u5f97\u3057\u305fJSON\u3092\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3059\u308b\u70ba\u306b\u3001ObjectMapper\u3092\u5dee\u3057\u8fbc\u3093\u3067\u304a\u308a\u307e\u3059\u3002Realm\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3082\u7c21\u5358\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u51fa\u6765\u307e\u3059\u3002\n\nItem.swift\nimport ObjectMapper\nimport RealmSwift\n\nclass Item: Object,Mappable {\n    dynamic var item_id = 0\n    dynamic var itemcode = \"\"\n    dynamic var name = \"\"\n    dynamic var lot = 1\n    dynamic var price = 0\n    dynamic var jancode = \"\"\n\n    required convenience init?(_ map: Map) {\n        self.init()\n    }\n\n    func mapping(map: Map) {\n        item_id <- map[\"item_id\"]\n        name <- map[\"name\"]\n        price <- map[\"price\"]\n        lot <- map[\"lot\"]\n        jancode <- map[\"jancode\"]\n        itemcode <- map[\"itemcode\"]       \n    }\n}\n\n\n\nViewController\n\u3084\u3063\u3066\u308b\u3053\u3068\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\u30c7\u30fc\u30bf\u6570\u306f1\u4e07\u4ef6\u3002\n\nAlamofire\u3067JSON\u3092\u53d6\u5f97\nObjectMapper\u3067Realm\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u914d\u5217\u306b\u30d1\u30fc\u30b9\n\u521d\u671f\u5316\u3057\u305f\u3044\u306e\u3067\u3001Realm\u3092\u5168\u90e8\u524a\u9664\n2\u3067\u53d6\u5f97\u3057\u305f\u914d\u5217\u30921\u4ef6\u305a\u3064begin\u2192add\u2192commit\n\n\nViewController.swift\nimport UIKit\nimport ObjectMapper\nimport Alamofire\nimport RealmSwift\n\nclass LoginViewController: UIViewController {\n\n    @IBOutlet weak var btn: UIButton!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        btn.addTarget(self, action: \"btnPressed:\", forControlEvents: .TouchUpInside)\n\n        let json_url = \"http://fkcorporation.co.jp/files/sample_10k.json\"\n        //1.\n        Alamofire.request(.GET, json_url).responseJSON { _, _, result in\n            //2.\n            if let item_data_arr:[Item] = Mapper<Item>().mapArray(result.value) {\n                do {\n                    let realm = try Realm()\n                    //3.\n                    realm.beginWrite()\n                    realm.deleteAll()\n                    try realm.commitWrite()\n                    //4.\n                    for v in item_data_arr {\n                        realm.beginWrite()\n                        realm.add(v)\n                        try realm.commitWrite()\n                    }\n                } catch {\n                }\n            }\n        }\n    }\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n    }\n    func btnPressed(sender:AnyObject?) {\n        do {\n            let realm = try Realm()\n             let records:Results = realm.objects(Item).filter(\"itemcode BEGINSWITH '0'\").sorted(\"itemcode\")\n            for v in records {\n                print(v) //Item\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304cprint\u3055\u308c\u308b\n            }\n        } catch {\n\n        }\n    }\n}\n\n\n\n\n\u3088\u304f\u308f\u304b\u3063\u3066\u306a\u3044\u3053\u3068\n\nRealm\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u4e26\u3073\u306bcommitWrite\u306bthrows\u304c\u3042\u308b\u306e\u3067\u547c\u3073\u51fa\u3057\u6642\u306btry\u3092\u3064\u3051\u308b\u306e\u3060\u3051\u3069\u3001\u3069\u3093\u306a\u30a8\u30e9\u30fc\u3092catch\u3057\u305f\u3089\u826f\u3044\u306e\u304b\u3002RealmException\u7684\u306a\u3082\u306e\u304c\u5206\u304b\u3089\u306a\u304b\u3063\u305f\u3002\u3053\u306e\u307e\u307e\u3067\u306f\u63e1\u308a\u3064\u3076\u3057\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u3067...\n\u5168\u524a\u9664\u2192\u8907\u6570\u4ef6INSERT\u3092\u3059\u308b\u969b\u306b\u306f\u30012\u56de\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b\u3082\u306e\u306a\u306e\u304b\u3002\nrealm\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u30e1\u30f3\u30d0\u5909\u6570\u3067\u3082..\u3063\u3066\u601d\u3063\u305f\u3051\u3069\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u30b9\u30ec\u30c3\u30c9\u7acb\u3066\u305f\u6642\u306b\u540c\u671f\u3055\u308c\u306a\u305d\u3046\u3060\u304b\u3089\u3001\u4f7f\u3046\u6642\u306b\u90fd\u5ea6\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u3057\u305f\u307b\u3046\u304c\u826f\u3055\u3052\u3002 \u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u30e1\u30bd\u30c3\u30c9\u7684\u306a\u3082\u306e\u306f\u5fc5\u8981\u304b\u306a\u3002do-try-catch\u306e\u6563\u5728\u306f\u3060\u308b\u3044\u3002\n\n\u3068\u308a\u3042\u3048\u305a\u3053\u308c\u3067\u52d5\u3044\u305f\u306e\u3067\u3001\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u51fa\u3057\u3066\u3001\u305d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u4e0a\u8a18\u521d\u671f\u5316\u51e6\u7406\u3092\u884c\u3046\u3088\u3046\u306b\u4f5c\u3063\u3066\u3001\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u306b\u79fb\u884c\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u30a2\u30d7\u30ea\u306e\u30ed\u30fc\u30ab\u30eb\u306bRealm\u3092\u4f5c\u3063\u3066\u3001\u305d\u3053\u306b\u30c7\u30fc\u30bf\u3092\u3044\u308c\u3053\u3093\u3067\u691c\u7d22\u7b49\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u3001\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc(iOS8.4)\u3067\u78ba\u8a8d\u3057\u305f\u3060\u3051\u306a\u306e\u3067\u3001\u305d\u3053\u306f\u60aa\u3057\u304b\u3089\u305a..\n\n##\u4f7f\u3063\u3066\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\n\n- Realm\n- ObjectMapper ~> 0.16\n- Alamofire ~> 2.0\n\nRealm\u306fCocodPods\u3067\u3001\u305d\u308c\u4ee5\u5916\u306fCarthage\u3067\u5165\u308c\u307e\u3057\u305f\u3002\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u898b\u305f\u3089\u3001Realm\u306eSwift2.0\u7528\u306fCarthage\u3067\u5165\u3089\u306a\u3044\u305d\u3046\u306a\u306e\u3067\u3002\n\n##\u30e2\u30c7\u30eb\u306e\u5ba3\u8a00\nAlamoFire\u3067\u53d6\u5f97\u3057\u305fJSON\u3092\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3059\u308b\u70ba\u306b\u3001ObjectMapper\u3092\u5dee\u3057\u8fbc\u3093\u3067\u304a\u308a\u307e\u3059\u3002Realm\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3082\u7c21\u5358\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u51fa\u6765\u307e\u3059\u3002\n\n```swift:Item.swift\nimport ObjectMapper\nimport RealmSwift\n\nclass Item: Object,Mappable {\n    dynamic var item_id = 0\n    dynamic var itemcode = \"\"\n    dynamic var name = \"\"\n    dynamic var lot = 1\n    dynamic var price = 0\n    dynamic var jancode = \"\"\n    \n    required convenience init?(_ map: Map) {\n        self.init()\n    }\n    \n    func mapping(map: Map) {\n        item_id <- map[\"item_id\"]\n        name <- map[\"name\"]\n        price <- map[\"price\"]\n        lot <- map[\"lot\"]\n        jancode <- map[\"jancode\"]\n        itemcode <- map[\"itemcode\"]       \n    }\n}\n```\n##ViewController\n\n\u3084\u3063\u3066\u308b\u3053\u3068\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\u30c7\u30fc\u30bf\u6570\u306f1\u4e07\u4ef6\u3002\n\n1. Alamofire\u3067JSON\u3092\u53d6\u5f97\n2. ObjectMapper\u3067Realm\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u914d\u5217\u306b\u30d1\u30fc\u30b9\n3. \u521d\u671f\u5316\u3057\u305f\u3044\u306e\u3067\u3001Realm\u3092\u5168\u90e8\u524a\u9664\n4. 2\u3067\u53d6\u5f97\u3057\u305f\u914d\u5217\u30921\u4ef6\u305a\u3064begin\u2192add\u2192commit\n\n```swift:ViewController.swift\nimport UIKit\nimport ObjectMapper\nimport Alamofire\nimport RealmSwift\n\nclass LoginViewController: UIViewController {\n\n    @IBOutlet weak var btn: UIButton!\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        btn.addTarget(self, action: \"btnPressed:\", forControlEvents: .TouchUpInside)\n        \n        let json_url = \"http://fkcorporation.co.jp/files/sample_10k.json\"\n        //1.\n        Alamofire.request(.GET, json_url).responseJSON { _, _, result in\n            //2.\n            if let item_data_arr:[Item] = Mapper<Item>().mapArray(result.value) {\n                do {\n                    let realm = try Realm()\n                    //3.\n                    realm.beginWrite()\n                    realm.deleteAll()\n                    try realm.commitWrite()\n                    //4.\n                    for v in item_data_arr {\n                        realm.beginWrite()\n                        realm.add(v)\n                        try realm.commitWrite()\n                    }\n                } catch {\n                }\n            }\n        }\n    }\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n    }\n    func btnPressed(sender:AnyObject?) {\n        do {\n            let realm = try Realm()\n             let records:Results = realm.objects(Item).filter(\"itemcode BEGINSWITH '0'\").sorted(\"itemcode\")\n            for v in records {\n                print(v) //Item\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304cprint\u3055\u308c\u308b\n            }\n        } catch {\n            \n        }\n    }\n}\n\n```\n\n##\u3088\u304f\u308f\u304b\u3063\u3066\u306a\u3044\u3053\u3068\n\n- Realm\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u4e26\u3073\u306bcommitWrite\u306bthrows\u304c\u3042\u308b\u306e\u3067\u547c\u3073\u51fa\u3057\u6642\u306btry\u3092\u3064\u3051\u308b\u306e\u3060\u3051\u3069\u3001\u3069\u3093\u306a\u30a8\u30e9\u30fc\u3092catch\u3057\u305f\u3089\u826f\u3044\u306e\u304b\u3002RealmException\u7684\u306a\u3082\u306e\u304c\u5206\u304b\u3089\u306a\u304b\u3063\u305f\u3002\u3053\u306e\u307e\u307e\u3067\u306f\u63e1\u308a\u3064\u3076\u3057\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u3067...\n- \u5168\u524a\u9664\u2192\u8907\u6570\u4ef6INSERT\u3092\u3059\u308b\u969b\u306b\u306f\u30012\u56de\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b\u3082\u306e\u306a\u306e\u304b\u3002\n- realm\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u30e1\u30f3\u30d0\u5909\u6570\u3067\u3082..\u3063\u3066\u601d\u3063\u305f\u3051\u3069\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u30b9\u30ec\u30c3\u30c9\u7acb\u3066\u305f\u6642\u306b\u540c\u671f\u3055\u308c\u306a\u305d\u3046\u3060\u304b\u3089\u3001\u4f7f\u3046\u6642\u306b\u90fd\u5ea6\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u3057\u305f\u307b\u3046\u304c\u826f\u3055\u3052\u3002 \u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u30e1\u30bd\u30c3\u30c9\u7684\u306a\u3082\u306e\u306f\u5fc5\u8981\u304b\u306a\u3002do-try-catch\u306e\u6563\u5728\u306f\u3060\u308b\u3044\u3002\n \n\u3068\u308a\u3042\u3048\u305a\u3053\u308c\u3067\u52d5\u3044\u305f\u306e\u3067\u3001\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u51fa\u3057\u3066\u3001\u305d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u4e0a\u8a18\u521d\u671f\u5316\u51e6\u7406\u3092\u884c\u3046\u3088\u3046\u306b\u4f5c\u3063\u3066\u3001\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u306b\u79fb\u884c\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n"}