{"tags": ["proxy", "Capybara", "selenium-webdriver"], "context": "\n\n\u80cc\u666f\n\n\u8a8d\u8a3c\u4ed8\u304d\u30d7\u30ed\u30ad\u30b7\u3092\u8d85\u3048\u306a\u3044\u3068\u3044\u3051\u306a\u3044\ncapybara + selenium webdriver\u3067\u3001google.co.jp\u3078\u30a2\u30af\u30bb\u30b9\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u305f\u3044\nubuntu\u4e0a\u306b\u3001\u30d7\u30ed\u30ad\u30b7\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3067\u304d\u305f\n\n\nhttp://qiita.com/alingogo/items/9c216bb7edc2d94d192e\n\n\n\n\n\u30b4\u30fc\u30eb\n\n\u4ee5\u4e0b\u306e\u30c6\u30b9\u30c8\u304c\u901a\u308b\n\ndescribe \"google\" do\n  before do\n    visit '/'\n  end\n\n  context \"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\" do\n    it { expect(page).to have_content('Google') }\n  end\nend\n\n\n\u7d4c\u904e\n\n\u30d7\u30ed\u30ad\u30b7\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\n\n\u53c2\u7167\uff1a http://qiita.com/alingogo/items/9c216bb7edc2d94d192e\n\nlocal_proxy\u74b0\u5883\u5909\u6570\u3092\u8ffd\u52a0\n\n\nvi ~/.bashrc\n\n\n\nexport local_proxy=127.0.0.1:3128\n\n\nsource ~/.bashrc\n\n\ngem\u30d0\u30fc\u30b8\u30e7\u30f3\ngroup :development, :test do\n  gem 'capybara',         '2.7.1'\n  gem 'selenium-webdriver', '2.53.0'\n\n\nselenium-webdriver\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6700\u65b0\u306b\u3057\u3088\u3046\n\n\nhttp://qiita.com/tatsuyard/items/873ce404fecc276ef05c\n\n\n\n\n\u30c6\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\nrails root\n  |---> spec\n         |--->\u305d\u306e\u4ed6\u306e\u5358\u4f53\u30c6\u30b9\u30c8\n         |--->features\n               |--->supprot/feature_helper.rb\n               |--->test_spec.rb\n\n\nspec/features/support/feature_helper.rb\nrequire 'capybara/rspec'\nrequire 'selenium-webdriver'\n\nENV['HTTP_PROXY'] = ENV['http_proxy'] = nil\nCapybara.register_driver :remote_firefox do |app|\n  local_proxy = ENV['local_proxy'] || ENV['LOCAL_PROXY']\n  profile = Selenium::WebDriver::Firefox::Profile.new\n  profile.proxy = Selenium::WebDriver::Proxy.new( :http => local_proxy, :ssl => local_proxy)\n  Capybara::Selenium::Driver.new(app, :profile => profile)\nend\n\nCapybara.default_driver = :remote_firefox\nCapybara.app_host = 'http://www.google.co.jp'\n\nRSpec.configure do |config|\n  config.include Capybara::DSL\nend\n\n\n\u88dc\u8db31\n\n\nENV['HTTP_PROXY'] = ENV['http_proxy'] = nil\nhttp://stackoverflow.com/questions/11151222/unable-to-connect-to-browser-using-ruby-selenium-webdriver\n\n\n\n\nspec/features/test_spec.rb\nrequire File.expand_path(File.join(%w(support feature_helper)), File.dirname(__FILE__))\n\ndescribe \"google\" do\n  before do\n    visit '/'\n  end\n\n  context \"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\" do\n    it { expect(page).to have_content('Google') }\n  end\nend\n\n\n\u78ba\u8a8d\n$ bundle exec rspec spec/features/test_spec.rb \n.\nFinished in 6.31 seconds\n1 example, 0 failures\n\n\n\u53c2\u7167\n\n\u3082\u3046\u4e00\u5ea6\u8aad\u3081\u3088\n\nhttp://qiita.com/oh_rusty_nail/items/b8ba525d31ea7c522856\nhttp://qiita.com/awakia/items/2d9a70af86bc3488b241\nhttp://qiita.com/jnchito/items/607f956263c38a5fec24\n\n\n\u554f\u984c\u89e3\u6c7a\n\nhttp://stackoverflow.com/questions/15148585/undefined-method-visit-when-using-rspec-and-capybara-in-rails\nhttp://stackoverflow.com/questions/16278597/using-poltergeist-with-a-proxy\nhttp://stackoverflow.com/questions/2887978/webdriver-and-proxy-server-for-firefox\nhttp://qiita.com/sanryuu/items/5b1b4794f5fd3b26679c\n\n\nexample\n\nhttps://gist.github.com/kitak/6884047\n\n\nrails3\n\nhttp://techiferous.com/2010/04/using-capybara-in-rails-3/\n\n# \u80cc\u666f\n* \u8a8d\u8a3c\u4ed8\u304d\u30d7\u30ed\u30ad\u30b7\u3092\u8d85\u3048\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n* capybara + selenium webdriver\u3067\u3001google.co.jp\u3078\u30a2\u30af\u30bb\u30b9\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u305f\u3044\n* ubuntu\u4e0a\u306b\u3001\u30d7\u30ed\u30ad\u30b7\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3067\u304d\u305f\n    * http://qiita.com/alingogo/items/9c216bb7edc2d94d192e\n\n# \u30b4\u30fc\u30eb\n* \u4ee5\u4e0b\u306e\u30c6\u30b9\u30c8\u304c\u901a\u308b\n\n```\ndescribe \"google\" do\n  before do\n    visit '/'\n  end\n\n  context \"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\" do\n    it { expect(page).to have_content('Google') }\n  end\nend\n```\n\n# \u7d4c\u904e\n\n### \u30d7\u30ed\u30ad\u30b7\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\n\n* \u53c2\u7167\uff1a http://qiita.com/alingogo/items/9c216bb7edc2d94d192e\n* local_proxy\u74b0\u5883\u5909\u6570\u3092\u8ffd\u52a0\n    * vi ~/.bashrc\n\n```\nexport local_proxy=127.0.0.1:3128\n```\n\n* source ~/.bashrc\n\n### gem\u30d0\u30fc\u30b8\u30e7\u30f3\n\n```\ngroup :development, :test do\n  gem 'capybara',         '2.7.1'\n  gem 'selenium-webdriver', '2.53.0'\n```\n\n* selenium-webdriver\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6700\u65b0\u306b\u3057\u3088\u3046\n    * http://qiita.com/tatsuyard/items/873ce404fecc276ef05c\n\n\n### \u30c6\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\n\n```\nrails root\n  |---> spec\n         |--->\u305d\u306e\u4ed6\u306e\u5358\u4f53\u30c6\u30b9\u30c8\n         |--->features\n               |--->supprot/feature_helper.rb\n               |--->test_spec.rb\n```\n\n### spec/features/support/feature_helper.rb\n\n```\nrequire 'capybara/rspec'\nrequire 'selenium-webdriver'\n\nENV['HTTP_PROXY'] = ENV['http_proxy'] = nil\nCapybara.register_driver :remote_firefox do |app|\n  local_proxy = ENV['local_proxy'] || ENV['LOCAL_PROXY']\n  profile = Selenium::WebDriver::Firefox::Profile.new\n  profile.proxy = Selenium::WebDriver::Proxy.new( :http => local_proxy, :ssl => local_proxy)\n  Capybara::Selenium::Driver.new(app, :profile => profile)\nend\n\nCapybara.default_driver = :remote_firefox\nCapybara.app_host = 'http://www.google.co.jp'\n\nRSpec.configure do |config|\n  config.include Capybara::DSL\nend\n```\n\n* \u88dc\u8db31\n    * ENV['HTTP_PROXY'] = ENV['http_proxy'] = nil\n    * http://stackoverflow.com/questions/11151222/unable-to-connect-to-browser-using-ruby-selenium-webdriver\n\n\n### spec/features/test_spec.rb\n\n```\nrequire File.expand_path(File.join(%w(support feature_helper)), File.dirname(__FILE__))\n\ndescribe \"google\" do\n  before do\n    visit '/'\n  end\n\n  context \"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\" do\n    it { expect(page).to have_content('Google') }\n  end\nend\n```\n\n# \u78ba\u8a8d\n\n```\n$ bundle exec rspec spec/features/test_spec.rb \n.\nFinished in 6.31 seconds\n1 example, 0 failures\n```\n\n# \u53c2\u7167\n### \u3082\u3046\u4e00\u5ea6\u8aad\u3081\u3088\n* http://qiita.com/oh_rusty_nail/items/b8ba525d31ea7c522856\n* http://qiita.com/awakia/items/2d9a70af86bc3488b241\n* http://qiita.com/jnchito/items/607f956263c38a5fec24\n\n### \u554f\u984c\u89e3\u6c7a\n* http://stackoverflow.com/questions/15148585/undefined-method-visit-when-using-rspec-and-capybara-in-rails\n* http://stackoverflow.com/questions/16278597/using-poltergeist-with-a-proxy\n* http://stackoverflow.com/questions/2887978/webdriver-and-proxy-server-for-firefox\n* http://qiita.com/sanryuu/items/5b1b4794f5fd3b26679c\n\n### example\n* https://gist.github.com/kitak/6884047\n\n### rails3\n* http://techiferous.com/2010/04/using-capybara-in-rails-3/\n"}