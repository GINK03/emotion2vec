{"tags": ["Python", "Mac", "OpenCV"], "context": " More than 1 year has passed since last update.\u53c2\u8003: Python\u3067OpenCV\u3092\u4f7f\u3046@Mac - Qiita\n\u4e0a\u8a18\u306b\u5f93\u3063\u3066\u81ea\u5206\u306e virtualenv \u306e site-packages \u914d\u4e0b\u306b cv.py \u3068 cv2.so \u306e\n\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u8cbc\u3063\u305f\u306e\u3060\u304c\u3001import cv \u3057\u305f\u3089 \"Segmentation fault: 11\" \u304c\u51fa\u3066\u843d\u3061\u305f\u3002\u3046\u3046\u2026\u3002\nvirtualenv \u5185\u3067\u3001\nbrew uninstall opencv \u3057\u3066\u304b\u3089\u3001\nbrew install opencv \u3057\u305f\u3068\u3053\u308d\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nAttributeError: 'module' object has no attribute 'getusersitepackages'\n\n\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u3002\n\u6b63\u653b\u6cd5\u3067\u884c\u3051\u308b\u6c17\u304c\u3057\u306a\u304b\u3063\u305f\u306e\u3067\u3001 ~/.bashrc \u306b\u3001\n# python\nexport PYTHONPATH=/usr/local/lib/python2.7/site-packages:~/.virtualenvs/my_venv/lib/python2.7/site-packages:$PYTHONPATH\n\n\u3092\u8db3\u3057\u3066\u3001\u3082\u3046\u4e00\u5ea6 brew install opencv \u3092\u3057\u305f\u3089\u4eca\u5ea6\u306f\u5148\u8ff0\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u306a\u304b\u3063\u305f\u3002\nsource ~/.bashrc \u3057\u3066 python \u3092\u7acb\u3061\u4e0a\u3052\nimport cv\nimport cv2\n\n\u3057\u305f\u3068\u3053\u308d\u3001\u30bb\u30b0\u30d5\u30a9\u3089\u306a\u304f\u306a\u3063\u305f\u3002\u3068\u3044\u3046\u30e1\u30e2\u3067\u3057\u305f\u3002\u3002\u3002\n(\u3042\u3068\u4e00\u5fdc\u3001anyenv \u2192 pyenv \u306e\u74b0\u5883\u4e0b\u3067\u306e\u8a71)\n\n\u305d\u308c\u3067\u3082\u30c0\u30e1\u306a\u5834\u5408\necho 'import site; site.addsitedir(\"/usr/local/lib/python2.7/site-packages\")' >> ~/.pyenv/versions/{virtualenv_name}/lib/python2.7/site-packages/homebrew.pth \u3057\u3066\u307f\u308b (\u3044\u3084\u3001\u6700\u521d\u304b\u3089\u305d\u3046\u3057\u305f\u307b\u3046\u304c\u3044\u3044\u304b\u3082)\u3002\n\u53c2\u8003: [Python\u3067OpenCV\u3092\u4f7f\u3046@Mac - Qiita](http://qiita.com/ru_pe129/items/f065f79b1322a82edb1d)\n\n\u4e0a\u8a18\u306b\u5f93\u3063\u3066\u81ea\u5206\u306e virtualenv \u306e `site-packages` \u914d\u4e0b\u306b cv.py \u3068 cv2.so \u306e\n\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u8cbc\u3063\u305f\u306e\u3060\u304c\u3001`import cv` \u3057\u305f\u3089 **\"Segmentation fault: 11\"** \u304c\u51fa\u3066\u843d\u3061\u305f\u3002\u3046\u3046\u2026\u3002\n\nvirtualenv \u5185\u3067\u3001\n\n`brew uninstall opencv` \u3057\u3066\u304b\u3089\u3001\n`brew install opencv` \u3057\u305f\u3068\u3053\u308d\n\n```console\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nAttributeError: 'module' object has no attribute 'getusersitepackages'\n```\n\n\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u3002\n\n\u6b63\u653b\u6cd5\u3067\u884c\u3051\u308b\u6c17\u304c\u3057\u306a\u304b\u3063\u305f\u306e\u3067\u3001 `~/.bashrc` \u306b\u3001\n\n```bashrc\n# python\nexport PYTHONPATH=/usr/local/lib/python2.7/site-packages:~/.virtualenvs/my_venv/lib/python2.7/site-packages:$PYTHONPATH\n```\n\n\u3092\u8db3\u3057\u3066\u3001\u3082\u3046\u4e00\u5ea6 `brew install opencv` \u3092\u3057\u305f\u3089\u4eca\u5ea6\u306f\u5148\u8ff0\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u306a\u304b\u3063\u305f\u3002\n\n`source ~/.bashrc` \u3057\u3066 python \u3092\u7acb\u3061\u4e0a\u3052\n\n```py\nimport cv\nimport cv2\n```\n\n\u3057\u305f\u3068\u3053\u308d\u3001\u30bb\u30b0\u30d5\u30a9\u3089\u306a\u304f\u306a\u3063\u305f\u3002\u3068\u3044\u3046\u30e1\u30e2\u3067\u3057\u305f\u3002\u3002\u3002\n\n(\u3042\u3068\u4e00\u5fdc\u3001anyenv \u2192 pyenv \u306e\u74b0\u5883\u4e0b\u3067\u306e\u8a71)\n\n## \u305d\u308c\u3067\u3082\u30c0\u30e1\u306a\u5834\u5408\n\n`echo 'import site; site.addsitedir(\"/usr/local/lib/python2.7/site-packages\")' >> ~/.pyenv/versions/{virtualenv_name}/lib/python2.7/site-packages/homebrew.pth` \u3057\u3066\u307f\u308b (\u3044\u3084\u3001\u6700\u521d\u304b\u3089\u305d\u3046\u3057\u305f\u307b\u3046\u304c\u3044\u3044\u304b\u3082)\u3002\n"}