{"tags": ["Delphi", "objectpascal", "Smalltalk", "FireMonkey"], "context": "\n\nObject Pascal \u3068 Smalltalk \u3068\u306e\u95a2\u4fc2\n\u5148\u65e5\u3053\u3093\u306a\u30c4\u30a4\u30fc\u30c8\u3092\u3057\u307e\u3057\u305f\u3002\n\n\u3053\u308c\u306f\u3001Programming Language Influence Network \u3068\u3044\u3046\u300c\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u304c\u3001\u4f55\u306b\u5f71\u97ff\u3092\u53d7\u3051\u3001\u4f55\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u305f\u304b\u300d\u3092\u8996\u899a\u7684\u306b\u8868\u793a\u3059\u308b\u30b5\u30a4\u30c8\u3067 Object Pascal \u3092\u898b\u305f\u3068\u3053\u308d\u3067\u3059\u3002\nPascal \u304b\u3089\u5f71\u97ff\u3092\u53d7\u3051\u305f\u306e\u306f\u5f53\u7136\u3067\u3059\u304c Smalltalk \u304b\u3089\u3082\u5f71\u97ff\u3092\u53d7\u3051\u305f\u3068\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\nTObject.Dispatch / message\nSmalltalk \u3068\u306e\u95a2\u9023\u3001\u3053\u308c\u306f\uff08\u601d\u60f3\u306f\u7f6e\u3044\u3066\u304a\u3044\u3066\u5b9f\u88c5\u7684\u306b\u306f\uff09 TObject.Dispatch / message \u6307\u4ee4\u306e\u3053\u3068\u3067\u306f\u306a\u3044\u304b\u3068\u8003\u3048\u307e\u3057\u305f\u3002\nTObject.Dispatch \u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30e1\u30c3\u30bb\u30fc\u30b8\u30cf\u30f3\u30c9\u30e9\u306b\u6295\u3052\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\n\u5b9a\u7fa9\u306f\n\nTObject\nprocedure TObject.Dispatch(var Message);\n\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u578b\u7121\u3057\u30d1\u30e9\u30e1\u30fc\u30bf\u306a\u306e\u3067\u4f55\u3067\u3082\u6295\u3052\u3089\u308c\u307e\u3059\u3002\n\u307e\u305f\u3001message \u6307\u4ee4\u306f\n\nmessage\u6307\u4ee4\nprocedure TFoo.Handler(var Msg); message XXXXX;\n\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u5b9a\u7fa9\u3059\u308b\u3068 XXXXX \u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u3063\u305f\u6642\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002\n\nWindows API\nDispatch \u3092\u76ee\u306b\u3059\u308b\u6a5f\u4f1a\u306f\u4f59\u308a\u3042\u308a\u307e\u305b\u3093\u304c message \u306f Delphi \u30e6\u30fc\u30b6\u30fc\u306a\u3089\u304a\u99b4\u67d3\u307f\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f8b\u3048\u3070\n\nWin32API\nTFoo = class(TBar)\nprivate\n  procedure WMPaint(var Msg: TWMPaint); message WM_PAINT;\nend;\n\n\n\u3053\u3093\u306a\u611f\u3058\u3067 Win32 API \u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u3063\u3066\u3044\u307e\u3059\u3088\u306d\uff01\n\n\u4f7f\u3063\u3066\u307f\u308b\n\nDispatch\u3068\u30e1\u30c3\u30bb\u30fc\u30b8ID\nDispatch \u306f\u5168\u3066\u306e\u30af\u30e9\u30b9\u306e\u5143\u3067\u3042\u308b TObject \u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3069\u306e\u30af\u30e9\u30b9\u304b\u3089\u3067\u3082\u547c\u3073\u51fa\u305b\u307e\u3059\u3002\n\u305f\u3060\u3001\uff11\u3064\u6ce8\u610f\u304c\u3042\u308a\u307e\u3059\u3002\n\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u306f\u3001\uff12\u30d0\u30a4\u30c8\u306e\u6570\u5024\uff08\u30e1\u30c3\u30bb\u30fc\u30b8ID\uff09\u3067\u3059\u3002\n\u305d\u3057\u3066\u3001\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8ID\u306f\u3001\u4f55\u3067\u3082\u6e21\u305b\u308b Dispatch \u306e\u5f15\u6570\u3001\u5148\u982d\uff12\u30d0\u30a4\u30c8\u306b\u5b58\u5728\u3057\u306a\u304f\u3066\u306f\u306a\u308a\u307e\u305b\u3093\u3002\n\u305d\u308c\u306fDispatch \u306e\u5b9f\u88c5\u304c\n\nDispatch\u306e\u5b9f\u88c5\ntype\n  TDispatchMessage = record\n    MsgID: Word;\n  end;\n\nprocedure TObject.Dispatch(var Message);\nvar\n  MsgID: Word;\nbegin\n  MsgID := TDispatchMessage(Message).MsgID;\n  // \u51e6\u7406\nend;\n\n\n\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002\n\u5b9f\u969b\u3001\u30e1\u30c3\u30bb\u30fc\u30b8ID\u3092\u3069\u3053\u306b\u6307\u5b9a\u3059\u308b\u304b\u3068\u3044\u3063\u305f\u3089\u4f55\u304c\u6e21\u3055\u308c\u308b\u304b\u89e3\u3089\u306a\u3044\u306e\u3067\u5148\u982d\uff12\u30d0\u30a4\u30c8\u3068\u3044\u3046\u306e\u306f\u7406\u306b\u304b\u306a\u3063\u3066\u307e\u3059\u306d\u3002\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5b9a\u7fa9\n\u307e\u305a\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5b9a\u7fa9\u3057\u3066\u3001\u305d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u53d7\u3051\u53d6\u308b\u578b\u3068\u3001\u53d7\u3051\u53d6\u308b\u30af\u30e9\u30b9\u3082\u5b9a\u7fa9\u3057\u307e\u3059\uff08\u4f55\u3067\u3082\u6295\u3052\u3089\u308c\u308b\u306e\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u5b9a\u7fa9\u3057\u305f\u578b\u3082\u5f53\u7136\u6295\u3052\u3089\u308c\u307e\u3059\uff09\u3002\nconst\n  // \u30e1\u30c3\u30bb\u30fc\u30b8\u306f\uff12\u30d0\u30a4\u30c8\u306e\u6570\u5024(\u30e1\u30c3\u30bb\u30fc\u30b8ID)\u3067\u7ba1\u7406\u3055\u308c\u308b\n  SAMPLE_MESSAGE_ID = $0032; // \u5024\u306f\u30b5\u30f3\u30d7\u30eb $32 = 0x32\n\ntype\n  // \u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u3069\u3093\u306a\u578b\u3067\u3082\u6295\u3052\u3089\u308c\u308b\u304c\u6700\u521d\u306e\uff12\u30d0\u30a4\u30c8\u306f\n  // \u30e1\u30c3\u30bb\u30fc\u30b8ID\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n  TMessagePacket = record\n    ID: Word;  // \u6700\u521d\u306e\uff12\u30d0\u30a4\u30c8\n    Msg: String;\n  end;\n\n  // \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\u30af\u30e9\u30b9\n  TFoo = class\n  private\n    // \u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f message \u6307\u4ee4\u3067\u6307\u5b9a\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8ID\u3092\n    // \u53d7\u3051\u53d6\u308b\u3068\u547c\u3073\u51fa\u3055\u308c\u308b\n    procedure Handler(var Packet: TMessagePacket); message SAMPLE_MESSAGE_ID;\n  end;\n\n{ TFoo } // \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\u3068 TMessagePacket \u306e Msg \u3092\u8868\u793a\u3057\u307e\u3059\nprocedure TFoo.Handler(var Packet: TMessagePacket);\nbegin\n  Writeln(Packet.Msg);\nend;\n\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u3052\u308b\n\u3067\u306f\u6b21\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u3052\u308b\u5074\u3067\u3059\u3002\nvar\n  Packet: TMessagePacket;\n  FFoo: TFoo;\nbegin\n  Packet.Id := SAMPLE_MESSAGE_ID; // \u547c\u3073\u51fa\u3059\u30e1\u30c3\u30bb\u30fc\u30b8ID\u3092\u6307\u5b9a\u3059\u308b\n  Packet.Msg := 'Hello, Message!';\n\n  FFoo := TFoo.Create;\n  try\n    // \u3069\u306e\u30e1\u30bd\u30c3\u30c9\u304b\u308f\u304b\u3089\u306a\u3044\u3051\u3069\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3076\n    FFoo.Dispatch(Packet);\n  finally\n    FFoo.DisposeOf;\n  end;\n\n  Readln;\nend.\n\n\u3053\u308c\u3067\u3001SAMPLE_MESSAGE_ID \u30e1\u30c3\u30bb\u30fc\u30b8\u304c TFoo \u306b\u6e21\u3055\u308c\u3066\u3001\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51e6\u7406\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308c\u3070\u3001\u305d\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30bd\u30fc\u30b9\n\u77ed\u3044\u306e\u3067\u3001\u30bd\u30fc\u30ba\u3092\u5168\u90e8\u8f09\u305b\u3066\u304a\u304d\u307e\u3059\u3002\nprogram MessageSample;\n\n{$APPTYPE CONSOLE}\n\nconst\n  // \u30e1\u30c3\u30bb\u30fc\u30b8\u306f\uff12\u30d0\u30a4\u30c8\u306e\u6570\u5024(\u30e1\u30c3\u30bb\u30fc\u30b8ID)\u3067\u7ba1\u7406\u3055\u308c\u308b\n  SAMPLE_MESSAGE_ID = $0032;\n\ntype\n  // \u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u3069\u3093\u306a\u578b\u3067\u3082\u6295\u3052\u3089\u308c\u308b\u304c\u6700\u521d\u306e\uff12\u30d0\u30a4\u30c8\u306f\n  // \u30e1\u30c3\u30bb\u30fc\u30b8ID\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n  TMessagePacket = record\n    ID: Word;  // \u6700\u521d\u306e\uff12\u30d0\u30a4\u30c8\n    Msg: String;\n  end;\n\n  TFoo = class\n  private\n    // \u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f message \u6307\u4ee4\u3067\u6307\u5b9a\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8ID\u3092\n    // \u53d7\u3051\u53d6\u308b\u3068\u547c\u3073\u51fa\u3055\u308c\u308b\n    procedure Handler(var Packet: TMessagePacket); message SAMPLE_MESSAGE_ID;\n  end;\n\n{ TFoo }\n\nprocedure TFoo.Handler(var Packet: TMessagePacket);\nbegin\n  Writeln(Packet.Msg);\nend;\n\nvar\n  Packet: TMessagePacket;\n  FFoo: TFoo;\nbegin\n  Packet.Id := SAMPLE_MESSAGE_ID; // \u547c\u3073\u51fa\u3059\u30e1\u30c3\u30bb\u30fc\u30b8ID\u3092\u6307\u5b9a\u3059\u308b\n  Packet.Msg := 'Hello, Message!';\n\n  FFoo := TFoo.Create;\n  try\n    // \u3069\u306e\u30e1\u30bd\u30c3\u30c9\u304b\u308f\u304b\u3089\u306a\u3044\u3051\u3069\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3076\n    FFoo.Dispatch(Packet);\n  finally\n    FFoo.DisposeOf;\n  end;\n\n  Readln;\nend.\n\n\n\u65b0\u3057\u3044\u30e1\u30c3\u30bb\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\nXE \u4e16\u4ee3\u306b\u306a\u3063\u3066\u30de\u30eb\u30c1\u30ad\u30e3\u30b9\u30c8\u53ef\u80fd\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u304c\u642d\u8f09\u3055\u308c\u307e\u3057\u305f\u3002\n\u3053\u306e\u6a5f\u80fd\u306f RTL \u306b\u65b0\u3057\u304f\u8ffd\u52a0\u3055\u308c\u305f System.Messaging \u3068\u3044\u3046\u30e6\u30cb\u30c3\u30c8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u3061\u3089\u306f\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u8a00\u8a9e\u306e\u6a5f\u80fd\u3068\u306f\u5225\u3067\u3059\u304c\u3001FireMonkey \u306b\u306f\u5fc5\u9808\u306e\u30af\u30e9\u30b9\u3067\u3059\u3002\n\n\u307e\u3068\u3081\nSmalltalk \u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u3068\u306f\u5927\u5206\u9055\u3046\u6c17\u304c\u3057\u307e\u3059\u304c\u3001\u3053\u3093\u306a\u611f\u3058\u3067 Smalltalk \u7531\u6765\u3060\u3063\u305f\u308a\u3059\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\u3069\u3046\u3067\u3057\u3087\u3046\u304b\u2026\u3069\u3046\u306a\u3093\u3060\u308d\u3046\u2026\n#Object Pascal \u3068 Smalltalk \u3068\u306e\u95a2\u4fc2\n\n\u5148\u65e5\u3053\u3093\u306a\u30c4\u30a4\u30fc\u30c8\u3092\u3057\u307e\u3057\u305f\u3002\n\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\">Object Pascal \u306e\u8d77\u6e90\u304c Pascal \u3068 Smalltalk \u3068\u306a\u3002 <a href=\"https://t.co/7sozkBSVuK\">pic.twitter.com/7sozkBSVuK</a></p>&mdash; HOSOKAWA Jun (@pik) <a href=\"https://twitter.com/pik/status/820799985704792064\">2017\u5e741\u670816\u65e5</a></blockquote>\n\n\u3053\u308c\u306f\u3001[Programming Language Influence Network](https://exploringdata.github.io/vis/programming-languages-influence-network/) \u3068\u3044\u3046\u300c\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u304c\u3001\u4f55\u306b\u5f71\u97ff\u3092\u53d7\u3051\u3001\u4f55\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u305f\u304b\u300d\u3092\u8996\u899a\u7684\u306b\u8868\u793a\u3059\u308b\u30b5\u30a4\u30c8\u3067 [Object Pascal \u3092\u898b\u305f\u3068\u3053\u308d](https://exploringdata.github.io/vis/programming-languages-influence-network/#Object Pascal)\u3067\u3059\u3002\n\nPascal \u304b\u3089\u5f71\u97ff\u3092\u53d7\u3051\u305f\u306e\u306f\u5f53\u7136\u3067\u3059\u304c Smalltalk \u304b\u3089\u3082\u5f71\u97ff\u3092\u53d7\u3051\u305f\u3068\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\n#TObject.Dispatch / message\n\nSmalltalk \u3068\u306e\u95a2\u9023\u3001\u3053\u308c\u306f\uff08\u601d\u60f3\u306f\u7f6e\u3044\u3066\u304a\u3044\u3066\u5b9f\u88c5\u7684\u306b\u306f\uff09 TObject.Dispatch / message \u6307\u4ee4\u306e\u3053\u3068\u3067\u306f\u306a\u3044\u304b\u3068\u8003\u3048\u307e\u3057\u305f\u3002\n\nTObject.Dispatch \u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30e1\u30c3\u30bb\u30fc\u30b8\u30cf\u30f3\u30c9\u30e9\u306b\u6295\u3052\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\n\u5b9a\u7fa9\u306f\n\n```pascal:TObject\nprocedure TObject.Dispatch(var Message);\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067[\u578b\u7121\u3057\u30d1\u30e9\u30e1\u30fc\u30bf](http://docwiki.embarcadero.com/RADStudio/Berlin/ja/%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%EF%BC%88Delphi%EF%BC%89#.E5.9E.8B.E3.81.AA.E3.81.97.E3.83.91.E3.83.A9.E3.83.A1.E3.83.BC.E3.82.BF)\u306a\u306e\u3067\u4f55\u3067\u3082\u6295\u3052\u3089\u308c\u307e\u3059\u3002\n\n\u307e\u305f\u3001[message \u6307\u4ee4](http://docwiki.embarcadero.com/RADStudio/Berlin/ja/%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89#.E3.83.A1.E3.83.83.E3.82.BB.E3.83.BC.E3.82.B8_.E3.83.A1.E3.82.BD.E3.83.83.E3.83.89)\u306f\n\n```pascal:message\u6307\u4ee4\nprocedure TFoo.Handler(var Msg); message XXXXX;\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u5b9a\u7fa9\u3059\u308b\u3068 XXXXX \u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u3063\u305f\u6642\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002\n\n##Windows API\n\nDispatch \u3092\u76ee\u306b\u3059\u308b\u6a5f\u4f1a\u306f\u4f59\u308a\u3042\u308a\u307e\u305b\u3093\u304c message \u306f Delphi \u30e6\u30fc\u30b6\u30fc\u306a\u3089\u304a\u99b4\u67d3\u307f\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f8b\u3048\u3070\n\n```pascal:Win32API\nTFoo = class(TBar)\nprivate\n  procedure WMPaint(var Msg: TWMPaint); message WM_PAINT;\nend;\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067 Win32 API \u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u3063\u3066\u3044\u307e\u3059\u3088\u306d\uff01\n\n#\u4f7f\u3063\u3066\u307f\u308b\n##Dispatch\u3068\u30e1\u30c3\u30bb\u30fc\u30b8ID\nDispatch \u306f\u5168\u3066\u306e\u30af\u30e9\u30b9\u306e\u5143\u3067\u3042\u308b [TObject](http://docwiki.embarcadero.com/Libraries/Berlin/ja/System.TObject) \u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3069\u306e\u30af\u30e9\u30b9\u304b\u3089\u3067\u3082\u547c\u3073\u51fa\u305b\u307e\u3059\u3002\n\u305f\u3060\u3001\uff11\u3064\u6ce8\u610f\u304c\u3042\u308a\u307e\u3059\u3002\n\n**\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u306f\u3001\uff12\u30d0\u30a4\u30c8\u306e\u6570\u5024**\uff08\u30e1\u30c3\u30bb\u30fc\u30b8ID\uff09\u3067\u3059\u3002\n\n\u305d\u3057\u3066\u3001\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8ID\u306f\u3001\u4f55\u3067\u3082\u6e21\u305b\u308b Dispatch \u306e\u5f15\u6570\u3001**\u5148\u982d\uff12\u30d0\u30a4\u30c8\u306b\u5b58\u5728**\u3057\u306a\u304f\u3066\u306f\u306a\u308a\u307e\u305b\u3093\u3002\n\u305d\u308c\u306fDispatch \u306e\u5b9f\u88c5\u304c\n\n```pascal:Dispatch\u306e\u5b9f\u88c5\ntype\n  TDispatchMessage = record\n    MsgID: Word;\n  end;\n\nprocedure TObject.Dispatch(var Message);\nvar\n  MsgID: Word;\nbegin\n  MsgID := TDispatchMessage(Message).MsgID;\n  // \u51e6\u7406\nend;\n```\n\n\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002\n\u5b9f\u969b\u3001\u30e1\u30c3\u30bb\u30fc\u30b8ID\u3092\u3069\u3053\u306b\u6307\u5b9a\u3059\u308b\u304b\u3068\u3044\u3063\u305f\u3089\u4f55\u304c\u6e21\u3055\u308c\u308b\u304b\u89e3\u3089\u306a\u3044\u306e\u3067\u5148\u982d\uff12\u30d0\u30a4\u30c8\u3068\u3044\u3046\u306e\u306f\u7406\u306b\u304b\u306a\u3063\u3066\u307e\u3059\u306d\u3002\n\n##\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5b9a\u7fa9\n\n\u307e\u305a\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5b9a\u7fa9\u3057\u3066\u3001\u305d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u53d7\u3051\u53d6\u308b\u578b\u3068\u3001\u53d7\u3051\u53d6\u308b\u30af\u30e9\u30b9\u3082\u5b9a\u7fa9\u3057\u307e\u3059\uff08\u4f55\u3067\u3082\u6295\u3052\u3089\u308c\u308b\u306e\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u5b9a\u7fa9\u3057\u305f\u578b\u3082\u5f53\u7136\u6295\u3052\u3089\u308c\u307e\u3059\uff09\u3002\n\n```pascal\nconst\n  // \u30e1\u30c3\u30bb\u30fc\u30b8\u306f\uff12\u30d0\u30a4\u30c8\u306e\u6570\u5024(\u30e1\u30c3\u30bb\u30fc\u30b8ID)\u3067\u7ba1\u7406\u3055\u308c\u308b\n  SAMPLE_MESSAGE_ID = $0032; // \u5024\u306f\u30b5\u30f3\u30d7\u30eb $32 = 0x32\n\ntype\n  // \u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u3069\u3093\u306a\u578b\u3067\u3082\u6295\u3052\u3089\u308c\u308b\u304c\u6700\u521d\u306e\uff12\u30d0\u30a4\u30c8\u306f\n  // \u30e1\u30c3\u30bb\u30fc\u30b8ID\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n  TMessagePacket = record\n    ID: Word;  // \u6700\u521d\u306e\uff12\u30d0\u30a4\u30c8\n    Msg: String;\n  end;\n\n  // \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\u30af\u30e9\u30b9\n  TFoo = class\n  private\n    // \u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f message \u6307\u4ee4\u3067\u6307\u5b9a\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8ID\u3092\n    // \u53d7\u3051\u53d6\u308b\u3068\u547c\u3073\u51fa\u3055\u308c\u308b\n    procedure Handler(var Packet: TMessagePacket); message SAMPLE_MESSAGE_ID;\n  end;\n\n{ TFoo } // \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\u3068 TMessagePacket \u306e Msg \u3092\u8868\u793a\u3057\u307e\u3059\nprocedure TFoo.Handler(var Packet: TMessagePacket);\nbegin\n  Writeln(Packet.Msg);\nend;\n```\n\n##\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u3052\u308b\n\u3067\u306f\u6b21\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u3052\u308b\u5074\u3067\u3059\u3002\n\n```pascal\nvar\n  Packet: TMessagePacket;\n  FFoo: TFoo;\nbegin\n  Packet.Id := SAMPLE_MESSAGE_ID; // \u547c\u3073\u51fa\u3059\u30e1\u30c3\u30bb\u30fc\u30b8ID\u3092\u6307\u5b9a\u3059\u308b\n  Packet.Msg := 'Hello, Message!';\n\n  FFoo := TFoo.Create;\n  try\n    // \u3069\u306e\u30e1\u30bd\u30c3\u30c9\u304b\u308f\u304b\u3089\u306a\u3044\u3051\u3069\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3076\n    FFoo.Dispatch(Packet);\n  finally\n    FFoo.DisposeOf;\n  end;\n\n  Readln;\nend.\n```\n\n\u3053\u308c\u3067\u3001SAMPLE_MESSAGE_ID \u30e1\u30c3\u30bb\u30fc\u30b8\u304c TFoo \u306b\u6e21\u3055\u308c\u3066\u3001\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51e6\u7406\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308c\u3070\u3001\u305d\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n##\u30bd\u30fc\u30b9\n\u77ed\u3044\u306e\u3067\u3001\u30bd\u30fc\u30ba\u3092\u5168\u90e8\u8f09\u305b\u3066\u304a\u304d\u307e\u3059\u3002\n\n```pascal\nprogram MessageSample;\n\n{$APPTYPE CONSOLE}\n\nconst\n  // \u30e1\u30c3\u30bb\u30fc\u30b8\u306f\uff12\u30d0\u30a4\u30c8\u306e\u6570\u5024(\u30e1\u30c3\u30bb\u30fc\u30b8ID)\u3067\u7ba1\u7406\u3055\u308c\u308b\n  SAMPLE_MESSAGE_ID = $0032;\n\ntype\n  // \u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u3069\u3093\u306a\u578b\u3067\u3082\u6295\u3052\u3089\u308c\u308b\u304c\u6700\u521d\u306e\uff12\u30d0\u30a4\u30c8\u306f\n  // \u30e1\u30c3\u30bb\u30fc\u30b8ID\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n  TMessagePacket = record\n    ID: Word;  // \u6700\u521d\u306e\uff12\u30d0\u30a4\u30c8\n    Msg: String;\n  end;\n\n  TFoo = class\n  private\n    // \u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f message \u6307\u4ee4\u3067\u6307\u5b9a\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8ID\u3092\n    // \u53d7\u3051\u53d6\u308b\u3068\u547c\u3073\u51fa\u3055\u308c\u308b\n    procedure Handler(var Packet: TMessagePacket); message SAMPLE_MESSAGE_ID;\n  end;\n\n{ TFoo }\n\nprocedure TFoo.Handler(var Packet: TMessagePacket);\nbegin\n  Writeln(Packet.Msg);\nend;\n\nvar\n  Packet: TMessagePacket;\n  FFoo: TFoo;\nbegin\n  Packet.Id := SAMPLE_MESSAGE_ID; // \u547c\u3073\u51fa\u3059\u30e1\u30c3\u30bb\u30fc\u30b8ID\u3092\u6307\u5b9a\u3059\u308b\n  Packet.Msg := 'Hello, Message!';\n\n  FFoo := TFoo.Create;\n  try\n    // \u3069\u306e\u30e1\u30bd\u30c3\u30c9\u304b\u308f\u304b\u3089\u306a\u3044\u3051\u3069\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3076\n    FFoo.Dispatch(Packet);\n  finally\n    FFoo.DisposeOf;\n  end;\n\n  Readln;\nend.\n```\n\n#\u65b0\u3057\u3044\u30e1\u30c3\u30bb\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\nXE \u4e16\u4ee3\u306b\u306a\u3063\u3066\u30de\u30eb\u30c1\u30ad\u30e3\u30b9\u30c8\u53ef\u80fd\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u304c\u642d\u8f09\u3055\u308c\u307e\u3057\u305f\u3002\n\u3053\u306e\u6a5f\u80fd\u306f RTL \u306b\u65b0\u3057\u304f\u8ffd\u52a0\u3055\u308c\u305f [System.Messaging](http://docwiki.embarcadero.com/Libraries/Berlin/ja/System.Messaging) \u3068\u3044\u3046\u30e6\u30cb\u30c3\u30c8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u3061\u3089\u306f\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u8a00\u8a9e\u306e\u6a5f\u80fd\u3068\u306f\u5225\u3067\u3059\u304c\u3001[FireMonkey](http://docwiki.embarcadero.com/RADStudio/Berlin/ja/FireMonkey) \u306b\u306f\u5fc5\u9808\u306e\u30af\u30e9\u30b9\u3067\u3059\u3002\n\n#\u307e\u3068\u3081\nSmalltalk \u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u3068\u306f\u5927\u5206\u9055\u3046\u6c17\u304c\u3057\u307e\u3059\u304c\u3001\u3053\u3093\u306a\u611f\u3058\u3067 Smalltalk \u7531\u6765\u3060\u3063\u305f\u308a\u3059\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\u3069\u3046\u3067\u3057\u3087\u3046\u304b\u2026\u3069\u3046\u306a\u3093\u3060\u308d\u3046\u2026\n"}