{"context": "\n\n\u306f\u3058\u3081\u306b\n\n\u79c1\u3068\u91cc\u6d0b\u5e73\n\u79c1\u3068\u91cc\u6d0b\u5e73\u304c\u306f\u3058\u3081\u3066\u51fa\u4f1a\u3063\u3066\u3044\u305f\u306f\u305a\u3067\u3042\u308d\u3046\u30bf\u30a4\u30df\u30f3\u30b0\u306f2008\u5e74\u5ea6\u30e4\u30d5\u30fc\u682a\u5f0f\u4f1a\u793e\u306e\u65b0\u5352\u7814\u4fee\u3067\u3042\u308b\u3002\n\u306a\u305c\u3001\u300c\u306f\u305a\u3067\u3042\u308d\u3046\u300d\u3068\u3044\u3046\u8a00\u3044\u56de\u3057\u306a\u306e\u304b\u3068\u3044\u3046\u3068\u5f53\u6642\u306e\u30e4\u30d5\u30fc\u682a\u5f0f\u4f1a\u793e\u306e\u65b0\u5352\u63a1\u7528\u306f250\u540d\u3092\u8d85\u3048\u3066\u304a\u308a\u3001\n\u7814\u4fee\u3067\u540c\u30c1\u30fc\u30e0\u306b\u306a\u308b\u304b\u3001\u914d\u5c5e\u5148\u306e\u90e8\u7f72\u304c\u540c\u3058\u3067\u306a\u3044\u3068\u9762\u8b58\u3082\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u304c\u30b6\u30e9\u3067\u3042\u3063\u305f\u3002\n\u5165\u793e\u5f53\u6642\u3001\u79c1\u306f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u521d\u5fc3\u8005\u3067\u3042\u308a\u3001\u300c\u30dd\u30a4\u30f3\u30bf\u3063\u3066\u98df\u3048\u308b\u306e?\u300d\u7a0b\u5ea6\u3060\u3063\u305f\u306e\u306b\u5bfe\u3057\u3001\n\u91cc\u306f\u81ea\u3089\u9078\u629c\u30af\u30e9\u30b9\u5165\u308a\u3092\u7533\u3057\u51fa\u3001\u7814\u4fee\u3092\u4e57\u308a\u8d8a\u3048\u305f\u3068\u3044\u3046\u8a71\u3067\u3042\u308b\u3002\n\u305d\u3057\u3066\u914d\u5c5e\u5148\u3082\u7570\u306a\u3063\u3066\u3044\u305f\u305f\u3081\u3001\u307f\u3054\u3068\u3059\u308c\u9055\u3044\u3068\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u308f\u3051\u3067\u3042\u308b\u3002\n\u305d\u306e\u5f8c\u3001\u79c1\u306e\u6240\u5c5e\u3057\u3066\u3044\u305f\u90e8\u7f72\u306b\u5f8c\u8f29\u3068\u3057\u3066\u5165\u3063\u3066\u304d\u305f@doradora09\u6c0f\u304b\u3089\u3001\n\u300c\u91cc\u304c\u4e3b\u50ac\u3068\u306a\u308a\u3001TokyoR\u3068\u3044\u3046\u52c9\u5f37\u4f1a\u3092\u958b\u50ac\u3057\u3066\u3044\u308b\u306e\u3067\u826f\u304b\u3063\u305f\u3089\u53c2\u52a0\u3057\u3066\u307f\u306a\u3044\u304b\u300d\u3068\u8a98\u308f\u308c\n\u305f\u307e\u306b\u3067\u306f\u3042\u308b\u304cTokyoR\u3067\u9854\u3092\u51fa\u3059\u3088\u3046\u306b\u306a\u308a\u3001\u305d\u3053\u3067\u3082\u3059\u308c\u9055\u3044\u3092\u7e70\u308a\u8fd4\u3057\u3066\u3044\u305f\u3002\n2015\u5e74\u3001\u79c1\u306f\u8ee2\u8077\u306a\u3069\u3092\u7d4c\u3066\u3001\u66f4\u306b\u30ea\u30b9\u30c8\u30e9\u3092\u98df\u3089\u3063\u3066\u30cb\u30fc\u30c8\u72b6\u614b\u3067\u3042\u3063\u305f\u3002\n\u6c17\u307e\u3050\u308c\u3067@doradora09\u6c0f\u306b\u9023\u7d61\u3092\u53d6\u3063\u3066\u307f\u305f\u3068\u3053\u308d\u3001\n\u300c\u91cc\u304c\u526f\u793e\u9577\u3092\u3057\u3066\u3044\u308bDatumStudio\u306b\u5165\u3063\u305f\u306e\u3067\u3088\u3051\u308c\u3070\u8a71\u3092\u805e\u304d\u306b\u6765\u306a\u3044\u304b\u300d\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u3063\u305f\u3002\nDatumStudio\u306e\u30bb\u30df\u30ca\u30fc\u306b\u306f\u904e\u53bb\u306b\u53c2\u52a0\u3057\u3066\u304a\u308a\u3001\u9762\u767d\u305d\u3046\u306a\u4f1a\u793e\u3060\u306a\u3068\u601d\u3063\u3066\u3044\u305f\u3002\n\u8a71\u3060\u3051\u306e\u306f\u305a\u304c\u98f2\u307f\u4f1a\u3068\u306a\u308a\u3001\u526f\u793e\u9577\u3067\u3042\u308b\u91cc\u3068\u7e01\u304c\u3067\u304d\u305f\u306e\u3067\u3042\u308b\u3002\n\u305d\u3057\u3066\u4f59\u8ac7\u3067\u306f\u3042\u308b\u304c\u305d\u306e\u5834\u3067\u96fb\u5353\u3092\u53e9\u304b\u308c\u3001\u5165\u793e\u304c\u6c7a\u307e\u308a\u73fe\u5728\u306b\u81f3\u308b\u306e\u3067\u3042\u308b\u3002\n\n\u91cc\u6d0b\u5e73\u3068\u306f\n\u91cc\u6d0b\u5e73\u3068\u306f\u8a00\u308f\u305a\u3068\u77e5\u308c\u305f\u65e5\u672c\u3092\u4ee3\u8868\u3059\u308b\u30c7\u30fc\u30bf\u30b5\u30a4\u30a8\u30f3\u30c6\u30a3\u30b9\u30c8\u306e1\u4eba\u3067\u3042\u308a\u3001\n\u540c\u6642\u306bDatumStudio\u682a\u5f0f\u4f1a\u793e\u306e\u526f\u793e\u9577\u3067\u3082\u3042\u308b\u3002\n\u6211\u3005\u306f\u91cc\u6d0b\u5e73\u3092\u76ee\u6307\u3059\u3079\u304d\u3067\u3042\u308b\u3002\n\n\u91cc\u6d0b\u5e73\u691c\u51fa\u5668\u306e\u4f5c\u6210\n\u305d\u3057\u3066\u30c7\u30fc\u30bf\u30b5\u30a4\u30a8\u30f3\u30c6\u30a3\u30b9\u30c8\u3067\u3042\u308b\u306a\u3089\u3070\u91cc\u6d0b\u5e73\u306e\u7279\u5fb4\u91cf\u3092\u62bd\u51fa\u3057\u628a\u63e1\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u305d\u306e\u7279\u5fb4\u91cf\u306b\u8fd1\u3065\u304f\u3088\u3046\u52aa\u529b\u3092\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u306f\u306a\u3044\u3060\u308d\u3046\u304b\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u4eca\u56de\u306f\u30cd\u30c3\u30c8\u3084DatumStudio\u306e\u5185\u90e8\u3067\u53ce\u96c6\u3057\u305f\u753b\u50cf\u304b\u3089\u91cc\u6d0b\u5e73\u3092\u91cc\u6d0b\u5e73\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3082\u306e\u3092\u62bd\u51fa\u3057\u3001\n\u91cc\u6d0b\u5e73\u691c\u51fa\u5668\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\n\u672c\u984c\n\n\u5229\u7528\u6280\u8853\u3068\u51e6\u7406\u306e\u6d41\u308c\n\u753b\u50cf\u306e\u52a0\u5de5\u306b\u3064\u3044\u3066\u306fOpenCV\u3092\u5229\u7528\u3057\u3001\n\u7279\u5fb4\u91cf\u306e\u62bd\u51fa\u306b\u306f\u6df1\u5c64\u5b66\u7fd2\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3042\u308btensorflow\u3092\u7528\u3044\u307e\u3059\u3002\n\u8a00\u8a9e\u306b\u3064\u3044\u3066\u306f\u3053\u308c\u3089\u3092\u5305\u62ec\u7684\u306b\u6271\u3048\u308bpython3\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002\n\u51e6\u7406\u306e\u6d41\u308c\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002\n\n\u753b\u50cf\u53ce\u96c6(\u4eba\u529b)\n\u753b\u50cf\u52a0\u5de5(OpenCV\u3092\u4f7f\u3063\u3066\u30b0\u30ec\u30fc\u30b9\u30b1\u30fc\u30eb\u5316\u3001\u9854\u8b58\u5225\u3001\u9854\u90e8\u5206\u306e\u5207\u308a\u53d6\u308a\u300164*64\u306e\u753b\u50cf\u306b\u5909\u63db)\n\u753b\u50cf\u3092\u91cc\u6d0b\u5e73\u3068\u305d\u308c\u4ee5\u5916\u306b\u5206\u985e\ntensorflow\u3092\u4f7f\u3063\u305f\u5b66\u7fd2\u5668\u306e\u4f5c\u6210\n\u8a55\u4fa1\n\n\n\u74b0\u5883\nAWS\u3067\u3088\u3057\u306a\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u501f\u308a\u3001OS\u306fAmazon Linux\u3068\u3057\u307e\u3059\u3002\npython3\u3067\u958b\u767a\u3092\u884c\u3046\u306b\u3042\u305f\u3063\u3066anaconda3\u3092\u5229\u7528\u3057\u3066\u4eee\u60f3\u74b0\u5883\u3092\u5c0e\u5165\u3057\u307e\u3057\u305f\u3002\nconda create -n yohei python=3.5 numpy scipy pandas jupyter scikit-learn matplotlib\nsource activate yohei\nconda install tensorflow\nconda install -c menpo opencv3=3.1.0\n\nAmazon Linux\u3092\u3067\u306fOpenCV\u304c\u52d5\u304b\u306a\u3044\u3068\u3044\u3046\u554f\u984c\u306b\u5f53\u305f\u3063\u305f\u305f\u3081\u3001\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\nhttp://amazarashi.me/archives/855\n\n\u753b\u50cf\u53ce\u96c6\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3084DatumStudio\u3067\u6b63\u9762\u304b\u3089\u306e\u91cc\u6d0b\u5e73\u753b\u50cf\u3092\u52df\u96c6\u3057\u307e\u3057\u305f\u3002\n\n\n\u753b\u50cf\u52a0\u5de5\n\u753b\u50cf\u52a0\u5de5\u306b\u3064\u3044\u3066\u306fOpenCV\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u53ef\u80fd\u3067\u3059\u3002\nimport cv2, matplotlib\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom IPython.display import display, Image\nimport os\n\ndef face_detector(img_path, i):\n    # \u753b\u50cf\u8aad\u307f\u8fbc\u307f\n    img = cv2.imread(img_path)\n\n    # \u30b0\u30ec\u30fc\u30b9\u30b1\u30fc\u30eb\u5316\n    img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n\n    # \u9854\u691c\u51fa\n    img_face = faceCascade.detectMultiScale(img_gray, 1.1, 3)\n\n    # \u9854\u691c\u51fa\u3067\u304d\u3066\u3044\u308c\u3070\u4ee5\u4e0b\u306e\u51e6\u7406\u3078\n    if len(img_face) > 0:\n        for rect in img_face:\n            x = rect[0]\n            y = rect[1]\n            width = rect[2]\n            height = rect[3]\n            # \u5207\u308a\u629c\u304d\n            dst = img_gray[y:y+height, x:x+width]\n            # 64*64\u306b\u30ea\u30b5\u30a4\u30ba\n            dst_resized = cv2.resize(dst,(64, 64))\n            new_image_path = '\u51fa\u529b\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea' + str(i) + '.png'\n            cv2.imwrite(new_image_path, dst_resized)\n            i += 1\n\n    return(i)\n\ni = 0\n\nfor img_file in file_list:\n    full_path_name = '\u753b\u50cf\u7f6e\u304d\u5834'+ img_file\n    i = face_detector(full_path_name, i)\n\n\u3053\u306e\u3088\u3046\u306b\u30b0\u30ec\u30fc\u30b9\u30b1\u30fc\u30eb\u5316\u3055\u308c64*64\u306b\u5207\u308a\u53d6\u3089\u308c\u305f\u9854\u753b\u50cf\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u753b\u50cf\u3092\u91cc\u6d0b\u5e73\u3068\u305d\u308c\u4ee5\u5916\u306b\u5206\u985e\n\u4eba\u529b\u3067\u753b\u50cf\u3092\u91cc\u6d0b\u5e73\u3068\u305d\u308c\u4ee5\u5916\u306b\u5206\u985e\u3057\u307e\u3059\u3002\n\u307e\u305f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6b63\u8aa4\u5224\u5b9a\u306e\u30e9\u30d9\u30eb\u3092\u3064\u3051\u305fcsv\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n(1\u3060\u3068\u91cc\u6d0b\u5e73\u30010\u3060\u3068\u305d\u308c\u4ee5\u5916)\nimg_0.png 1\nimg_1.png 0\nimg_9.png 0\n\ufe19\n\n\ntensorflow\u3092\u4f7f\u3063\u305f\u5b66\u7fd2\u5668\u306e\u4f5c\u6210\n\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u3057\u3066\u5b66\u7fd2\u5668\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nTensorFlow\u3067\u30a2\u30cb\u30e1\u3086\u308b\u3086\u308a\u306e\u5236\u4f5c\u4f1a\u793e\u3092\u8b58\u5225\u3059\u308b\nhttp://kivantium.hateblo.jp/entry/2015/11/18/233834\n\u3053\u3053\u304b\u3089\u306f\u5f8c\u65e5\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\u3082\u3046\u5c11\u3057\u304a\u5f85\u3061\u3092\u3002\n# \u306f\u3058\u3081\u306b\n\n## \u79c1\u3068\u91cc\u6d0b\u5e73\n\n\u79c1\u3068\u91cc\u6d0b\u5e73\u304c\u306f\u3058\u3081\u3066\u51fa\u4f1a\u3063\u3066\u3044\u305f\u306f\u305a\u3067\u3042\u308d\u3046\u30bf\u30a4\u30df\u30f3\u30b0\u306f2008\u5e74\u5ea6\u30e4\u30d5\u30fc\u682a\u5f0f\u4f1a\u793e\u306e\u65b0\u5352\u7814\u4fee\u3067\u3042\u308b\u3002\n\u306a\u305c\u3001\u300c\u306f\u305a\u3067\u3042\u308d\u3046\u300d\u3068\u3044\u3046\u8a00\u3044\u56de\u3057\u306a\u306e\u304b\u3068\u3044\u3046\u3068\u5f53\u6642\u306e\u30e4\u30d5\u30fc\u682a\u5f0f\u4f1a\u793e\u306e\u65b0\u5352\u63a1\u7528\u306f250\u540d\u3092\u8d85\u3048\u3066\u304a\u308a\u3001\n\u7814\u4fee\u3067\u540c\u30c1\u30fc\u30e0\u306b\u306a\u308b\u304b\u3001\u914d\u5c5e\u5148\u306e\u90e8\u7f72\u304c\u540c\u3058\u3067\u306a\u3044\u3068\u9762\u8b58\u3082\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u304c\u30b6\u30e9\u3067\u3042\u3063\u305f\u3002\n\n\u5165\u793e\u5f53\u6642\u3001\u79c1\u306f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u521d\u5fc3\u8005\u3067\u3042\u308a\u3001\u300c\u30dd\u30a4\u30f3\u30bf\u3063\u3066\u98df\u3048\u308b\u306e?\u300d\u7a0b\u5ea6\u3060\u3063\u305f\u306e\u306b\u5bfe\u3057\u3001\n\u91cc\u306f\u81ea\u3089\u9078\u629c\u30af\u30e9\u30b9\u5165\u308a\u3092\u7533\u3057\u51fa\u3001\u7814\u4fee\u3092\u4e57\u308a\u8d8a\u3048\u305f\u3068\u3044\u3046\u8a71\u3067\u3042\u308b\u3002\n\u305d\u3057\u3066\u914d\u5c5e\u5148\u3082\u7570\u306a\u3063\u3066\u3044\u305f\u305f\u3081\u3001\u307f\u3054\u3068\u3059\u308c\u9055\u3044\u3068\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u308f\u3051\u3067\u3042\u308b\u3002\n\n\u305d\u306e\u5f8c\u3001\u79c1\u306e\u6240\u5c5e\u3057\u3066\u3044\u305f\u90e8\u7f72\u306b\u5f8c\u8f29\u3068\u3057\u3066\u5165\u3063\u3066\u304d\u305f@doradora09\u6c0f\u304b\u3089\u3001\n\u300c\u91cc\u304c\u4e3b\u50ac\u3068\u306a\u308a\u3001TokyoR\u3068\u3044\u3046\u52c9\u5f37\u4f1a\u3092\u958b\u50ac\u3057\u3066\u3044\u308b\u306e\u3067\u826f\u304b\u3063\u305f\u3089\u53c2\u52a0\u3057\u3066\u307f\u306a\u3044\u304b\u300d\u3068\u8a98\u308f\u308c\n\u305f\u307e\u306b\u3067\u306f\u3042\u308b\u304cTokyoR\u3067\u9854\u3092\u51fa\u3059\u3088\u3046\u306b\u306a\u308a\u3001\u305d\u3053\u3067\u3082\u3059\u308c\u9055\u3044\u3092\u7e70\u308a\u8fd4\u3057\u3066\u3044\u305f\u3002\n\n2015\u5e74\u3001\u79c1\u306f\u8ee2\u8077\u306a\u3069\u3092\u7d4c\u3066\u3001\u66f4\u306b\u30ea\u30b9\u30c8\u30e9\u3092\u98df\u3089\u3063\u3066\u30cb\u30fc\u30c8\u72b6\u614b\u3067\u3042\u3063\u305f\u3002\n\u6c17\u307e\u3050\u308c\u3067@doradora09\u6c0f\u306b\u9023\u7d61\u3092\u53d6\u3063\u3066\u307f\u305f\u3068\u3053\u308d\u3001\n\u300c\u91cc\u304c\u526f\u793e\u9577\u3092\u3057\u3066\u3044\u308bDatumStudio\u306b\u5165\u3063\u305f\u306e\u3067\u3088\u3051\u308c\u3070\u8a71\u3092\u805e\u304d\u306b\u6765\u306a\u3044\u304b\u300d\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u3063\u305f\u3002\nDatumStudio\u306e\u30bb\u30df\u30ca\u30fc\u306b\u306f\u904e\u53bb\u306b\u53c2\u52a0\u3057\u3066\u304a\u308a\u3001\u9762\u767d\u305d\u3046\u306a\u4f1a\u793e\u3060\u306a\u3068\u601d\u3063\u3066\u3044\u305f\u3002\n\n\u8a71\u3060\u3051\u306e\u306f\u305a\u304c\u98f2\u307f\u4f1a\u3068\u306a\u308a\u3001\u526f\u793e\u9577\u3067\u3042\u308b\u91cc\u3068\u7e01\u304c\u3067\u304d\u305f\u306e\u3067\u3042\u308b\u3002\n\u305d\u3057\u3066\u4f59\u8ac7\u3067\u306f\u3042\u308b\u304c\u305d\u306e\u5834\u3067\u96fb\u5353\u3092\u53e9\u304b\u308c\u3001\u5165\u793e\u304c\u6c7a\u307e\u308a\u73fe\u5728\u306b\u81f3\u308b\u306e\u3067\u3042\u308b\u3002\n\n\n## \u91cc\u6d0b\u5e73\u3068\u306f\n\n\u91cc\u6d0b\u5e73\u3068\u306f\u8a00\u308f\u305a\u3068\u77e5\u308c\u305f\u65e5\u672c\u3092\u4ee3\u8868\u3059\u308b\u30c7\u30fc\u30bf\u30b5\u30a4\u30a8\u30f3\u30c6\u30a3\u30b9\u30c8\u306e1\u4eba\u3067\u3042\u308a\u3001\n\u540c\u6642\u306bDatumStudio\u682a\u5f0f\u4f1a\u793e\u306e\u526f\u793e\u9577\u3067\u3082\u3042\u308b\u3002\n\u6211\u3005\u306f\u91cc\u6d0b\u5e73\u3092\u76ee\u6307\u3059\u3079\u304d\u3067\u3042\u308b\u3002\n\n\n## \u91cc\u6d0b\u5e73\u691c\u51fa\u5668\u306e\u4f5c\u6210\n\n\u305d\u3057\u3066\u30c7\u30fc\u30bf\u30b5\u30a4\u30a8\u30f3\u30c6\u30a3\u30b9\u30c8\u3067\u3042\u308b\u306a\u3089\u3070\u91cc\u6d0b\u5e73\u306e\u7279\u5fb4\u91cf\u3092\u62bd\u51fa\u3057\u628a\u63e1\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u305d\u306e\u7279\u5fb4\u91cf\u306b\u8fd1\u3065\u304f\u3088\u3046\u52aa\u529b\u3092\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u306f\u306a\u3044\u3060\u308d\u3046\u304b\u3002\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u4eca\u56de\u306f\u30cd\u30c3\u30c8\u3084DatumStudio\u306e\u5185\u90e8\u3067\u53ce\u96c6\u3057\u305f\u753b\u50cf\u304b\u3089\u91cc\u6d0b\u5e73\u3092\u91cc\u6d0b\u5e73\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3082\u306e\u3092\u62bd\u51fa\u3057\u3001\n\u91cc\u6d0b\u5e73\u691c\u51fa\u5668\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\n# \u672c\u984c\n\n## \u5229\u7528\u6280\u8853\u3068\u51e6\u7406\u306e\u6d41\u308c\n\n\u753b\u50cf\u306e\u52a0\u5de5\u306b\u3064\u3044\u3066\u306fOpenCV\u3092\u5229\u7528\u3057\u3001\n\u7279\u5fb4\u91cf\u306e\u62bd\u51fa\u306b\u306f\u6df1\u5c64\u5b66\u7fd2\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3042\u308btensorflow\u3092\u7528\u3044\u307e\u3059\u3002\n\u8a00\u8a9e\u306b\u3064\u3044\u3066\u306f\u3053\u308c\u3089\u3092\u5305\u62ec\u7684\u306b\u6271\u3048\u308bpython3\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002\n\n\u51e6\u7406\u306e\u6d41\u308c\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002\n\n1. \u753b\u50cf\u53ce\u96c6(\u4eba\u529b)\n2. \u753b\u50cf\u52a0\u5de5(OpenCV\u3092\u4f7f\u3063\u3066\u30b0\u30ec\u30fc\u30b9\u30b1\u30fc\u30eb\u5316\u3001\u9854\u8b58\u5225\u3001\u9854\u90e8\u5206\u306e\u5207\u308a\u53d6\u308a\u300164*64\u306e\u753b\u50cf\u306b\u5909\u63db)\n3. \u753b\u50cf\u3092\u91cc\u6d0b\u5e73\u3068\u305d\u308c\u4ee5\u5916\u306b\u5206\u985e\n4. tensorflow\u3092\u4f7f\u3063\u305f\u5b66\u7fd2\u5668\u306e\u4f5c\u6210\n5. \u8a55\u4fa1\n\n## \u74b0\u5883\n\nAWS\u3067\u3088\u3057\u306a\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u501f\u308a\u3001OS\u306fAmazon Linux\u3068\u3057\u307e\u3059\u3002\n\npython3\u3067\u958b\u767a\u3092\u884c\u3046\u306b\u3042\u305f\u3063\u3066anaconda3\u3092\u5229\u7528\u3057\u3066\u4eee\u60f3\u74b0\u5883\u3092\u5c0e\u5165\u3057\u307e\u3057\u305f\u3002\n\n```\nconda create -n yohei python=3.5 numpy scipy pandas jupyter scikit-learn matplotlib\nsource activate yohei\nconda install tensorflow\nconda install -c menpo opencv3=3.1.0\n```\n\nAmazon Linux\u3092\u3067\u306fOpenCV\u304c\u52d5\u304b\u306a\u3044\u3068\u3044\u3046\u554f\u984c\u306b\u5f53\u305f\u3063\u305f\u305f\u3081\u3001\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\nhttp://amazarashi.me/archives/855\n\n## \u753b\u50cf\u53ce\u96c6\n\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3084DatumStudio\u3067\u6b63\u9762\u304b\u3089\u306e\u91cc\u6d0b\u5e73\u753b\u50cf\u3092\u52df\u96c6\u3057\u307e\u3057\u305f\u3002\n\n<img width=\"490\" alt=\"advent_2016_03.PNG\" src=\"https://qiita-image-store.s3.amazonaws.com/0/90126/1f1dd5ae-e5fb-0987-9a08-84f980a81f91.png\">\n\n\n## \u753b\u50cf\u52a0\u5de5\n\n\u753b\u50cf\u52a0\u5de5\u306b\u3064\u3044\u3066\u306fOpenCV\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u53ef\u80fd\u3067\u3059\u3002\n\n```\nimport cv2, matplotlib\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom IPython.display import display, Image\nimport os\n\ndef face_detector(img_path, i):\n    # \u753b\u50cf\u8aad\u307f\u8fbc\u307f\n    img = cv2.imread(img_path)\n    \n    # \u30b0\u30ec\u30fc\u30b9\u30b1\u30fc\u30eb\u5316\n    img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n\n    # \u9854\u691c\u51fa\n    img_face = faceCascade.detectMultiScale(img_gray, 1.1, 3)\n\n    # \u9854\u691c\u51fa\u3067\u304d\u3066\u3044\u308c\u3070\u4ee5\u4e0b\u306e\u51e6\u7406\u3078\n    if len(img_face) > 0:\n        for rect in img_face:\n            x = rect[0]\n            y = rect[1]\n            width = rect[2]\n            height = rect[3]\n            # \u5207\u308a\u629c\u304d\n            dst = img_gray[y:y+height, x:x+width]\n            # 64*64\u306b\u30ea\u30b5\u30a4\u30ba\n            dst_resized = cv2.resize(dst,(64, 64))\n            new_image_path = '\u51fa\u529b\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea' + str(i) + '.png'\n            cv2.imwrite(new_image_path, dst_resized)\n            i += 1\n        \n    return(i)\n\ni = 0\n\nfor img_file in file_list:\n    full_path_name = '\u753b\u50cf\u7f6e\u304d\u5834'+ img_file\n    i = face_detector(full_path_name, i)\n```\n\n\u3053\u306e\u3088\u3046\u306b\u30b0\u30ec\u30fc\u30b9\u30b1\u30fc\u30eb\u5316\u3055\u308c64*64\u306b\u5207\u308a\u53d6\u3089\u308c\u305f\u9854\u753b\u50cf\u304c\u3067\u304d\u307e\u3059\u3002\n\n<img width=\"484\" alt=\"advent_2016_01.PNG\" src=\"https://qiita-image-store.s3.amazonaws.com/0/90126/487b91c7-3b22-86f6-16c9-4e5c07be2db3.png\">\n\n\n## \u753b\u50cf\u3092\u91cc\u6d0b\u5e73\u3068\u305d\u308c\u4ee5\u5916\u306b\u5206\u985e\n\n\u4eba\u529b\u3067\u753b\u50cf\u3092\u91cc\u6d0b\u5e73\u3068\u305d\u308c\u4ee5\u5916\u306b\u5206\u985e\u3057\u307e\u3059\u3002\n\u307e\u305f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6b63\u8aa4\u5224\u5b9a\u306e\u30e9\u30d9\u30eb\u3092\u3064\u3051\u305fcsv\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n(1\u3060\u3068\u91cc\u6d0b\u5e73\u30010\u3060\u3068\u305d\u308c\u4ee5\u5916)\n\n```\nimg_0.png 1\nimg_1.png 0\nimg_9.png 0\n\ufe19\n```\n\n\n## tensorflow\u3092\u4f7f\u3063\u305f\u5b66\u7fd2\u5668\u306e\u4f5c\u6210\n\n\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u3057\u3066\u5b66\u7fd2\u5668\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nTensorFlow\u3067\u30a2\u30cb\u30e1\u3086\u308b\u3086\u308a\u306e\u5236\u4f5c\u4f1a\u793e\u3092\u8b58\u5225\u3059\u308b\nhttp://kivantium.hateblo.jp/entry/2015/11/18/233834\n\n\u3053\u3053\u304b\u3089\u306f\u5f8c\u65e5\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\u3082\u3046\u5c11\u3057\u304a\u5f85\u3061\u3092\u3002\n", "tags": ["Python", "OpenCV", "TensorFlow"]}