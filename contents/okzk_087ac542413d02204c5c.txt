{"context": " More than 1 year has passed since last update.Capistrano2\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u30d9\u30bf\u66f8\u304d\u3067\u66f8\u3044\u3066\u3044\u305f\u308a\u3057\u305f\u3002\nnamespace :deploy do\n  task :link_html do\n    run <<-CMD\n      cd #{release_path}/public &&\n      ln -nfs /opt/htdocs/hoge &&\n      ln -nfs /opt/htdocs/foo &&\n      ln -nfs /opt/htdocs/bar\n    CMD\n  end\nend\n\nCapistrano3\u3067\u306fSSHKit\u3068\u3044\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3063\u3066\u66f8\u3051\u308b\u3088\u3046\u3060\u3002\n\u3053\u306e\u8fba\u308a\u3092\u53c2\u8003\u306b\u66f8\u3044\u3066\u307f\u308b\u3002\n- capistrano/sshkit\n- sshkit/EXAMPLES.md at master \u00b7 capistrano/sshkit\n\u4f8b\u3092\u307f\u308b\u3068within\u3067\u5bfe\u8c61\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bcd\u3057\u3066execute\u3092\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u3088\u3046\u3060\u3002\n\u3053\u3093\u306a\u611f\u3058\u3067\u884c\u3051\u308b\u3060\u308d\u3046\u3068\u601d\u3063\u3066\u66f8\u3044\u3066\u307f\u308b\u3002\nnamespace :deploy do\n  task :link_html => [:set_rails_env] do\n    on roles(:web) do |host|\n      within \"#{release_path}/public\" do\n        execute \"ln -nfs /opt/htdocs/hoge\"\n        execute \"ln -nfs /opt/htdocs/foo\"\n        execute \"ln -nfs /opt/htdocs/bar\"\n      end\n    end\n  end\nend\n\n\u30ea\u30e2\u30fc\u30c8\u306b\u5165\u3063\u3066\u78ba\u8a8d\u3059\u308b\u3068\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bhoge,foo,bar\u304c\u51fa\u6765\u3066\u304a\u308a\u3001cd\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u306a\u3044\u3002\n\u8abf\u3079\u3066\u307f\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a71\u3002\nIssue executing a command within a directory \u00b7 Issue #719 \u00b7 capistrano/capistrano\n\u3088\u304f\u898b\u308b\u3068\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u3082\u66f8\u3044\u3066\u3042\u3063\u305f\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u306a\u304a\u3057\u3066\u307f\u305f\u3002\nnamespace :deploy do\n  task :link_html => [:set_rails_env] do\n    on roles(:web) do |host|\n      within \"#{release_path}/public\" do\n        execute :ln, '-nfs', '/opt/htdocs/hoge'\n        execute :ln, '-nfs', '/opt/htdocs/foo'\n        execute :ln, '-nfs', '/opt/htdocs/bar'\n      end\n    end\n  end\nend\n\n\u554f\u984c\u306a\u304f\u5b9f\u884c\u3055\u308c\u305f\u3002\n\u3088\u304b\u3063\u305f\u3088\u304b\u3063\u305f\u3002\n\nCapistrano2\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u30d9\u30bf\u66f8\u304d\u3067\u66f8\u3044\u3066\u3044\u305f\u308a\u3057\u305f\u3002\n\n~~~ruby\nnamespace :deploy do\n  task :link_html do\n    run <<-CMD\n      cd #{release_path}/public &&\n      ln -nfs /opt/htdocs/hoge &&\n      ln -nfs /opt/htdocs/foo &&\n      ln -nfs /opt/htdocs/bar\n    CMD\n  end\nend\n~~~\n\nCapistrano3\u3067\u306fSSHKit\u3068\u3044\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3063\u3066\u66f8\u3051\u308b\u3088\u3046\u3060\u3002\n\u3053\u306e\u8fba\u308a\u3092\u53c2\u8003\u306b\u66f8\u3044\u3066\u307f\u308b\u3002\n- [capistrano/sshkit](https://github.com/capistrano/sshkit \"capistrano/sshkit\")\n- [sshkit/EXAMPLES.md at master \u00b7 capistrano/sshkit](https://github.com/capistrano/sshkit/blob/master/EXAMPLES.md \"sshkit/EXAMPLES.md at master \u00b7 capistrano/sshkit\")\n\n\u4f8b\u3092\u307f\u308b\u3068`within`\u3067\u5bfe\u8c61\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b`cd`\u3057\u3066`execute`\u3092\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u3088\u3046\u3060\u3002\n\u3053\u3093\u306a\u611f\u3058\u3067\u884c\u3051\u308b\u3060\u308d\u3046\u3068\u601d\u3063\u3066\u66f8\u3044\u3066\u307f\u308b\u3002\n\n~~~ruby\nnamespace :deploy do\n  task :link_html => [:set_rails_env] do\n    on roles(:web) do |host|\n      within \"#{release_path}/public\" do\n        execute \"ln -nfs /opt/htdocs/hoge\"\n        execute \"ln -nfs /opt/htdocs/foo\"\n        execute \"ln -nfs /opt/htdocs/bar\"\n      end\n    end\n  end\nend\n~~~\n\n\u30ea\u30e2\u30fc\u30c8\u306b\u5165\u3063\u3066\u78ba\u8a8d\u3059\u308b\u3068\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bhoge,foo,bar\u304c\u51fa\u6765\u3066\u304a\u308a\u3001`cd`\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u306a\u3044\u3002\n\n\u8abf\u3079\u3066\u307f\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a71\u3002\n\n[Issue executing a command within a directory \u00b7 Issue #719 \u00b7 capistrano/capistrano](https://github.com/capistrano/capistrano/issues/719 \"Issue executing a command within a directory \u00b7 Issue #719 \u00b7 capistrano/capistrano\")\n\n\u3088\u304f\u898b\u308b\u3068[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](http://capistranorb.com/documentation/getting-started/tasks/\n)\u306b\u3082\u66f8\u3044\u3066\u3042\u3063\u305f\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u306a\u304a\u3057\u3066\u307f\u305f\u3002\n\n~~~ruby\nnamespace :deploy do\n  task :link_html => [:set_rails_env] do\n    on roles(:web) do |host|\n      within \"#{release_path}/public\" do\n        execute :ln, '-nfs', '/opt/htdocs/hoge'\n        execute :ln, '-nfs', '/opt/htdocs/foo'\n        execute :ln, '-nfs', '/opt/htdocs/bar'\n      end\n    end\n  end\nend\n~~~\n\n\u554f\u984c\u306a\u304f\u5b9f\u884c\u3055\u308c\u305f\u3002\n\u3088\u304b\u3063\u305f\u3088\u304b\u3063\u305f\u3002\n", "tags": ["capistrano3"]}