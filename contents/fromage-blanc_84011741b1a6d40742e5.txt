{"context": "\n\nGoogleAnalytics\u306a\u3069\u3067\u3001\u30a2\u30d7\u30ea\u7d4c\u7531\u3067\u306eWeb\u30b5\u30a4\u30c8\u30a2\u30af\u30bb\u30b9\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306b\u30e6\u30fc\u30b6\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u52a0\u5de5\u3059\u308b\n\n\u300c\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e6\u30fc\u30b6\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u300d + \u300c\"AppName/\"{\u30a2\u30d7\u30ea\u30d0\u30fc\u30b8\u30e7\u30f3}\u300d\n\n    // swift 3.0\n\n    func setAppUserAgent() {\n\n        // \u30c0\u30df\u30fc\u306ewebview\u304b\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u53d6\u5f97\n        let webViewDummy = UIWebView(frame:CGRect.zero)\n        let useragent:String = webViewDummy.stringByEvaluatingJavaScript(from: \"navigator.userAgent\")!\n\n        // \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e6\u30fc\u30b6\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306b\u30a2\u30d7\u30ea\u540d\uff0b\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\u3092\u4ed8\u52a0\n        let version = Bundle.main.object(forInfoDictionaryKey: \"CFBundleShortVersionString\") as! String\n        let wkStr = \" AppName/\" + version\n        let addedUserAgent = useragent + wkStr\n        let agentDict = [\"UserAgent\":addedUserAgent]\n\n        UserDefaults.standard.register(defaults: agentDict)\n    }\n\n    // ex.\n    // Mozilla/5.0 (iPhone; CPU iPhone OS 10_0 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) Mobile/14A345 AppName/1.0\n\n\n\u8d77\u52d5\u6642\u306b\u30b3\u30fc\u30eb\n    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {\n        // Override point for customization after application launch.\n\n        setAppUserAgent() \n\n        return true\n    }\n\n#### GoogleAnalytics\u306a\u3069\u3067\u3001\u30a2\u30d7\u30ea\u7d4c\u7531\u3067\u306eWeb\u30b5\u30a4\u30c8\u30a2\u30af\u30bb\u30b9\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306b\u30e6\u30fc\u30b6\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u52a0\u5de5\u3059\u308b\n\n###### \u300c\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e6\u30fc\u30b6\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u300d + \u300c\"AppName/\"{\u30a2\u30d7\u30ea\u30d0\u30fc\u30b8\u30e7\u30f3}\u300d \n\n```swift\n\n    // swift 3.0\n\n    func setAppUserAgent() {\n        \n        // \u30c0\u30df\u30fc\u306ewebview\u304b\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u53d6\u5f97\n        let webViewDummy = UIWebView(frame:CGRect.zero)\n        let useragent:String = webViewDummy.stringByEvaluatingJavaScript(from: \"navigator.userAgent\")!\n        \n        // \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e6\u30fc\u30b6\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306b\u30a2\u30d7\u30ea\u540d\uff0b\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\u3092\u4ed8\u52a0\n        let version = Bundle.main.object(forInfoDictionaryKey: \"CFBundleShortVersionString\") as! String\n        let wkStr = \" AppName/\" + version\n        let addedUserAgent = useragent + wkStr\n        let agentDict = [\"UserAgent\":addedUserAgent]\n\n        UserDefaults.standard.register(defaults: agentDict)\n    }\n\n    // ex.\n    // Mozilla/5.0 (iPhone; CPU iPhone OS 10_0 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) Mobile/14A345 AppName/1.0\n```\n###### \u8d77\u52d5\u6642\u306b\u30b3\u30fc\u30eb\n\n```swift\n    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {\n        // Override point for customization after application launch.\n\n        setAppUserAgent() \n        \n        return true\n    }\n```\n", "tags": ["iOS", "webView", "\u30e6\u30fc\u30b6\u30fc\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8", "Swift3.0"]}