{"context": " More than 1 year has passed since last update.Python 3\u306b\u306a\u3063\u3066\u304b\u3089VideoCapture\u304c\u4f7f\u3048\u306a\u304f\u306a\u3063\u3066\u624b\u8efd\u306bWeb\u30ab\u30e1\u30e9\u304b\u3089\u753b\u50cf\u3092\u53d6\u5f97\u51fa\u6765\u306a\u304f\u306a\u3063\u305f\u3002\nPyGame\u304b\u3089\u306fWeb\u30ab\u30e1\u30e9\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u3060\u3051\u3069\u81ea\u5206\u306f\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u3001\nPython 3\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u305f\u3089\u3057\u3044OpenCV 3.0\u304b\u3089Web\u30ab\u30e1\u30e9\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u81ea\u5206\u306e\u74b0\u5883\uff1a\nWindows 8.1 32bit\nMingw (C++, C)\nOpenCV 3.0 (GitHub\u306b\u7f6e\u3044\u3066\u3042\u308a\u307e\u3057\u305f)\nPython 3.3.3\nnumPy 1.7.2rc1\nCmake 2.8.12\n\u53d6\u308a\u6562\u3048\u305a\u3001GitHub\u304b\u3089OpeCV 3.0\u306e\u30bd\u30fc\u30b9\u3092\u5165\u624b\u3002\nCmake\u3067Configure -> Generate -> mingw32-make\u3068\u3044\u3046\u611f\u3058\u3067\u3072\u305f\u3059\u3089\u30d3\u30eb\u30c9\u304c\u7d42\u308f\u308b\u306e\u3092\u5f85\u3064\u3002\n\u5b8c\u4e86\u3057\u305f\u3089\u3001lib\u5185\u306b\u3042\u308b cv2.pyd libcv2.dll.a \u3092site-packages\u306b\u79fb\u52d5\u3059\u308b\u3002\n\u30d3\u30eb\u30c9\u3057\u305fopencv\u306ebin lib\u306bpath\u3092\u901a\u3057\u3066\u304a\u304f\u3002\n\u53d6\u308a\u6562\u3048\u305a\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8d70\u3089\u305b\u307e\u3057\u305f\u3002\nfrom collections import deque\nimport cv2\nfrom PIL import Image, ImageTk\nimport time\nfrom tkinter import tix\n\n\ndef quit_(root):\n    root.destroy()\n\n\ndef update_image(image_label, cam):\n    (readsuccessful, f) = cam.read()\n    gray_im = cv2.cvtColor(f, cv2.COLOR_BGR2GRAY)\n    a = Image.fromarray(gray_im)\n    b = ImageTk.PhotoImage(image=a)\n    image_label.configure(image=b)\n    image_label._image_cache = b\n    root.update()\n\n\ndef update_fps(fps_label):\n    frame_times = fps_label._frame_times\n    frame_times.rotate()\n    frame_times[0] = time.time()\n    sum_of_deltas = frame_times[0] - frame_times[-1]\n    count_of_deltas = len(frame_times) - 1\n    try:\n        fps = int(float(count_of_deltas) / sum_of_deltas)\n    except ZeroDivisionError:\n        fps = 0\n    fps_label.configure(text='FPS: {}'.format(fps))\n\n\ndef update_all(root, image_label, cam, fps_label):\n    update_image(image_label, cam)\n    update_fps(fps_label)\n    root.after(20, func=lambda: update_all(root, image_label, cam, fps_label))\n\n\nif __name__ == '__main__':\n    root = tix.Tk()\n    image_label = tix.Label(master=root)\n    image_label.pack()\n    cam = cv2.VideoCapture(0)\n    fps_label = tix.Label(master=root)\n    fps_label._frame_times = deque([0] * 5)\n    fps_label.pack()\n    quit_button = tix.Button(master=root, text='Quit',\n                            command=lambda: quit_(root))\n    quit_button.pack()\n    root.after(0, func=lambda: update_all(root, image_label, cam, fps_label))\n    root.mainloop()\n\n\u3046\u307e\u304fWeb\u30ab\u30e1\u30e9\u304b\u3089\u753b\u50cf\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059!\nCapture1.jpg\nPython 3\u306b\u306a\u3063\u3066\u304b\u3089VideoCapture\u304c\u4f7f\u3048\u306a\u304f\u306a\u3063\u3066\u624b\u8efd\u306bWeb\u30ab\u30e1\u30e9\u304b\u3089\u753b\u50cf\u3092\u53d6\u5f97\u51fa\u6765\u306a\u304f\u306a\u3063\u305f\u3002\n\nPyGame\u304b\u3089\u306fWeb\u30ab\u30e1\u30e9\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u3060\u3051\u3069\u81ea\u5206\u306f\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u3001\nPython 3\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u305f\u3089\u3057\u3044OpenCV 3.0\u304b\u3089Web\u30ab\u30e1\u30e9\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u81ea\u5206\u306e\u74b0\u5883\uff1a\nWindows 8.1 32bit\n\nMingw (C++, C)\nOpenCV 3.0 (GitHub\u306b\u7f6e\u3044\u3066\u3042\u308a\u307e\u3057\u305f)\nPython 3.3.3\nnumPy 1.7.2rc1\nCmake 2.8.12\n\n\u53d6\u308a\u6562\u3048\u305a\u3001GitHub\u304b\u3089OpeCV 3.0\u306e\u30bd\u30fc\u30b9\u3092\u5165\u624b\u3002\n\nCmake\u3067Configure -> Generate -> mingw32-make\u3068\u3044\u3046\u611f\u3058\u3067\u3072\u305f\u3059\u3089\u30d3\u30eb\u30c9\u304c\u7d42\u308f\u308b\u306e\u3092\u5f85\u3064\u3002\n\n\u5b8c\u4e86\u3057\u305f\u3089\u3001lib\u5185\u306b\u3042\u308b cv2.pyd libcv2.dll.a \u3092site-packages\u306b\u79fb\u52d5\u3059\u308b\u3002\n\n\u30d3\u30eb\u30c9\u3057\u305fopencv\u306ebin lib\u306bpath\u3092\u901a\u3057\u3066\u304a\u304f\u3002\n\n\u53d6\u308a\u6562\u3048\u305a\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8d70\u3089\u305b\u307e\u3057\u305f\u3002\n\n```py:\nfrom collections import deque\nimport cv2\nfrom PIL import Image, ImageTk\nimport time\nfrom tkinter import tix\n\n\ndef quit_(root):\n    root.destroy()\n\n\ndef update_image(image_label, cam):\n    (readsuccessful, f) = cam.read()\n    gray_im = cv2.cvtColor(f, cv2.COLOR_BGR2GRAY)\n    a = Image.fromarray(gray_im)\n    b = ImageTk.PhotoImage(image=a)\n    image_label.configure(image=b)\n    image_label._image_cache = b\n    root.update()\n\n\ndef update_fps(fps_label):\n    frame_times = fps_label._frame_times\n    frame_times.rotate()\n    frame_times[0] = time.time()\n    sum_of_deltas = frame_times[0] - frame_times[-1]\n    count_of_deltas = len(frame_times) - 1\n    try:\n        fps = int(float(count_of_deltas) / sum_of_deltas)\n    except ZeroDivisionError:\n        fps = 0\n    fps_label.configure(text='FPS: {}'.format(fps))\n\n\ndef update_all(root, image_label, cam, fps_label):\n    update_image(image_label, cam)\n    update_fps(fps_label)\n    root.after(20, func=lambda: update_all(root, image_label, cam, fps_label))\n\n\nif __name__ == '__main__':\n    root = tix.Tk()\n    image_label = tix.Label(master=root)\n    image_label.pack()\n    cam = cv2.VideoCapture(0)\n    fps_label = tix.Label(master=root)\n    fps_label._frame_times = deque([0] * 5)\n    fps_label.pack()\n    quit_button = tix.Button(master=root, text='Quit',\n                            command=lambda: quit_(root))\n    quit_button.pack()\n    root.after(0, func=lambda: update_all(root, image_label, cam, fps_label))\n    root.mainloop()\n```\n\n\u3046\u307e\u304fWeb\u30ab\u30e1\u30e9\u304b\u3089\u753b\u50cf\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059!\n\n[Capture1.jpg](https://qiita-image-store.s3.amazonaws.com/0/34282/c00da454-118e-8d49-21f9-708e2c04aa76.jpeg)", "tags": ["Python3.3.3", "OpenCV3.0"]}