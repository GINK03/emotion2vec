{"context": "\n\n\u89e3\u3053\u3046\u3068\u3057\u3066\u3044\u308b\u554f\u984c\n\u5143\u30cd\u30bf\u306eURL\u306e\u8a18\u4e8b\u304c\u6d88\u3048\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u306e\u3067Stackoverflow\u306e\u8a18\u4e8b\u304b\u3089\u5f15\u7528\u3059\u308b\u304c\u3001\n\nWrite a program that outputs all possibilities to put + or - or nothing between the numbers 1, 2, ..., 9 (in this order) such that the result is always 100. E.g.: 1 + 2 + 34 \u2013 5 + 67 \u2013 8 + 9 = 100.\n\n\u3068\u3044\u3046\u554f\u984c\u304c\u3042\u308b\u305d\u3046\u306a\u3002\u65e5\u672c\u8a9e\u3060\u3068\n\n1\u304b\u30899\u307e\u3067\u306e\u6570\u5b57\u3092\u6607\u9806\u306b\u4e26\u3079\u3001\u305d\u308c\u3089\u306e\u9593\u306b+, -, \u3042\u308b\u3044\u306f\u4f55\u3082\u6f14\u7b97\u5b50\u3092\u5165\u308c\u306a\u3044\uff08=\u6841\u304c\u3064\u306a\u304c\u308b\uff09\u3068\u3044\u3046\u6761\u4ef6\u3067\u306e\u3059\u3079\u3066\u306e\u5834\u5408\u306b\u3064\u3044\u3066\u7d50\u679c\u304c100\u3068\u306a\u308b\u3082\u306e\u3092\u9078\u3079\uff08\u4f8b: 1 + 2 + 34 \u2013 5 + 67 \u2013 8 + 9 = 100\uff09\u3002\n\n\u3068\u3067\u3082\u306a\u308b\u3060\u308d\u3046\u304b\u3002\n\u305d\u3093\u306a\u306b\u9762\u5012\u3067\u3082\u306a\u3055\u305d\u3046\u306a\u306e\u3067\u89e3\u3044\u3066\u307f\u305f\u3002\u5b89\u6613\u306a\u65b9\u6cd5\u3060\u3051\u3069\u3002\n\n\u8003\u3048\u65b9\n\n\n123456789\u3068\u3044\u3046\u6570\u5b57\u306e\u5217\u306e\u9593\u306b1 X1 2 X2 3 X3 4 X4 5 X5 6 X6 7 X7 8 X8 9\u3068\u3044\u3046\u611f\u3058\u3067X1~X8\u306e\u8a18\u53f7\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u4eee\u5b9a\u3059\u308b\u3002\n\nX1~X8\u306f+,-,\u3042\u308b\u3044\u306f\u7a7a\u6587\u5b57\uff08\u4f55\u3082\u5165\u3089\u306a\u3044\uff09\u306e\u3046\u3061\u306e\u3069\u308c\u304b\u3002\n\u4e0a\u8a18\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u30ea\u30b9\u30c8Ops = [X1, X2, X3, X4, X5, X6, X7, X8]\u3092\u4eee\u5b9a\u3057\u3001\u3053\u306eOps\u3092\u5f15\u6570\u3068\u3057\u3066\u5bfe\u5fdc\u3059\u308b\u6570\u5f0f\u3092\u6587\u5b57\u5217\u3068\u3057\u3066\u751f\u6210\u3057\u3001\u3055\u3089\u306b\u305d\u308c\u3092Erlang\u306e\u6570\u5f0f\u3068\u3057\u3066\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u3092\u4ed8\u3051\u52a0\u3048\u308b\u95a2\u6570comp/1\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n\nOps\u3068\u3057\u3066\u60f3\u5b9a\u3057\u5f97\u308b\u30ea\u30b9\u30c8\u7fa4\u3092\u751f\u6210\u3059\u308b\u95a2\u6570genlist/0\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n\ngenlist/0\u306e\u751f\u6210\u3059\u308b\u5404\u30ea\u30b9\u30c8\u306b\u5bfe\u3057comp/1\u3092\u9069\u7528\u3057\u3066\u3001\u305d\u306e\u4e2d\u3067\u8a08\u7b97\u5024\u304c\u6c42\u3081\u308b\u3082\u306e\u3092\u9078\u3076\u95a2\u6570\u3092\u4f7f\u3044lists:filter/2\u306b\u304b\u3051\u3066\u9078\u5225\u3059\u308c\u3070\u7b54\u304c\u6c42\u307e\u308b\u3002\n\n\n\u30b3\u30fc\u30c9\n\u3053\u3093\u306a\u611f\u3058\u3002\n\ngive100.erl\n-module(give100).\n\n-export([genlist/0, comp/1, comp/2, solve/1]).\n\ngenlist() ->\n    X = [$+, $-, 0],\n    [[A, B, C, D, E, F, G, H] ||\n     A <- X, B <- X, C <- X, D <- X,\n     E <- X, F <- X, G <- X, H <- X].\n\ncomp(Ops) ->\n    S = comp(Ops, []),\n    % requires period to make a valid Erlang expression\n    {ok, Scanned, _} = erl_scan:string(S ++ \".\"),\n    {ok, Parsed} = erl_parse:parse_exprs(Scanned),\n    {value, V, []} = erl_eval:exprs(Parsed, []),\n    {V, S}.\n\ncomp([], A) ->\n    lists:reverse([$9|A]);\ncomp(Ops, A) ->\n    [O | OT] = Ops,\n    C = $8 - length(OT),\n    case O of\n        0 ->\n            comp(OT, [C | A]);\n        _X ->\n            comp(OT, [_X | [C | A]])\n    end.\n\nsolve(Val) ->\n    lists:filter(fun(X) -> {V, _} = X, V =:= Val end,\n                  [comp(L) || L <- genlist()]).\n\n\n\n\u30c6\u30b9\u30c8\u7d50\u679c\n\u5834\u5408\u6570\u304c 38=656138=65613^8 = 6561\u901a\u308a\u3042\u308b\u306e\u3067\u3001\u624b\u6301\u3061\u306eCore i5\u306e\u30de\u30b7\u30f3\u3060\u30681\u79d2\u5f31\u304b\u304b\u308b\u3002\u306a\u306b\u3057\u308d\u5f0f\u306e\u89e3\u6790\u304c\u5927\u3052\u3055\u306a\u306e\u3067\u3001\u3082\u3063\u3068\u3084\u308a\u3088\u3046\u306f\u3042\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002Elixir\u306a\u3089Stream\u304c\u4f7f\u3048\u305d\u3046\u3060\u3002\nErlang/OTP 19 [erts-8.1.1] [source] [64-bit] [smp:4:4] [async-threads:10] [kernel-poll:false]\n\nEshell V8.1.1  (abort with ^G)\n1> l(give100).\n{module,give100}\n2> give100:solve(100). % \u2190 Make 100 in several ways \u306e\u7b54\n[{100,\"1+2+3-4+5+6+78+9\"},\n {100,\"1+2+34-5+67-8+9\"},\n {100,\"1+23-4+5+6+78-9\"},\n {100,\"1+23-4+56+7+8+9\"},\n {100,\"12+3+4+5-6-7+89\"},\n {100,\"12+3-4+5+67+8+9\"},\n {100,\"12-3-4+5-6+7+89\"},\n {100,\"123+4-5+67-89\"},\n {100,\"123+45-67+8-9\"},\n {100,\"123-4-5-6-7+8-9\"},\n {100,\"123-45-67+89\"}]\n3> give100:solve(42). % \u2190\u3053\u3093\u306a\u5909\u308f\u3063\u305f\u6280\u3082\u4f7f\u3048\u308b\n[{42,\"1+2+3+4+56-7-8-9\"},\n {42,\"1+2+3-4-56+7+89\"},\n {42,\"1+2+3-45-6+78+9\"},\n {42,\"1+2+34+5+6-7-8+9\"},\n {42,\"1+2+34+5-6+7+8-9\"},\n {42,\"1+2-3-4+56+7-8-9\"},\n {42,\"1+2-34+5+67-8+9\"},\n {42,\"1+23-45-6+78-9\"},\n {42,\"1-2+34+5-6-7+8+9\"},\n {42,\"1-2+34-5+6+7-8+9\"},\n {42,\"1-2-3-4+56-7-8+9\"},\n {42,\"1-23-4+5-6+78-9\"},\n {42,\"12+3+4+5-6+7+8+9\"},\n {42,\"12+3+45+6-7-8-9\"},\n {42,\"12+3-4-56+78+9\"},\n {42,\"12-3+45-6-7-8+9\"},\n {42,\"12-34+56+7-8+9\"},\n {42,\"123+4+5+6-7-89\"}]\n4>\n\n\n\u53c2\u8003\u6587\u732e\n\n\n\u30cd\u30bf\u5143\u306e\u30d6\u30ed\u30b0\u30a8\u30f3\u30c8\u30ea\u3002\u95a2\u6570\u578b\u3067\u306f\u7121\u7406\u3068\u3044\u3046\u8a71\u304c\u3042\u3063\u305f\u3051\u3069\u3001\u53ef\u80fd\u6027\u306e\u3042\u308b\u8981\u7d20\u3092\u751f\u6210\u3057\u3066\u305d\u308c\u306b\u30d5\u30a3\u30eb\u30bf\u3092\u304b\u3051\u3066\u3044\u304f\u3068\u3044\u3046\u306e\u306f\u3001\u95a2\u6570\u578b\u3067\u306f\u5b9a\u756a\u3060\u3057\u3001\u8ad6\u7406\u578b\u3067\u3082\u5341\u5206\u3044\u3051\u308b\u3060\u308d\u3046\u3002\u73fe\u306bProlog\u306e\u30b3\u30fc\u30c9\u3082\u6b21\u306b\u8ff0\u3079\u308bReddit\u306e\u30b9\u30ec\u306b\u306f\u51fa\u3066\u308b\u304f\u3089\u3044\u3060\u304b\u3089\u3002\n\n\u3053\u306eReddit\u306e\u30b9\u30ec\u304c\u52c9\u5f37\u306b\u306a\u308b\u3002\n\nErlang Central\u306eWiki\u306b\u3042\u308b\"String Eval\"\u306e\u30a8\u30f3\u30c8\u30ea\u3092\u3001comp/1\u306e\u4e2d\u306e\u6570\u5f0f\u8a55\u4fa1\u306e\u30b3\u30fc\u30c9\u3068\u3057\u3066\u53c2\u7167\u3057\u305f\u3002\u3082\u3063\u3068\u3082\u6570\u5f0f\u3060\u3051\u3067\u306a\u304f\u3001Erlang\u306e\u5f0f\u3068\u3057\u3066\u8a55\u4fa1\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3044\u3055\u3055\u304b\u30aa\u30fc\u30d0\u30fc\u30b9\u30da\u30c3\u30af\u3067\u3042\u308b\u3053\u3068\u306f\u5426\u3081\u306a\u3044\u3002\n\n\n\u307e\u3068\u3081\u3068\u611f\u60f3\nMake 100 in several ways \u306fErlang\u3067\u3082\u307e\u3042\u666e\u901a\u306b\u89e3\u3051\u308b\u3053\u3068\u3092\u793a\u3057\u305f\u3002\u305f\u3060\u3084\u308a\u65b9\u3068\u3057\u3066\u306f\u96d1\u306a\u306e\u306f\u5426\u3081\u306a\u3044\u3002\u3088\u308a\u9762\u767d\u3044\u30b3\u30fc\u30c9\u304c\u3042\u3063\u305f\u3089\u6559\u3048\u3066\u6b32\u3057\u3044\u3002\n## \u89e3\u3053\u3046\u3068\u3057\u3066\u3044\u308b\u554f\u984c\n\n\u5143\u30cd\u30bf\u306eURL\u306e\u8a18\u4e8b\u304c\u6d88\u3048\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u306e\u3067[Stackoverflow\u306e\u8a18\u4e8b](http://stackoverflow.com/questions/30134535/how-to-solve-this-arithmetic-expression-puzzle-in-prolog)\u304b\u3089\u5f15\u7528\u3059\u308b\u304c\u3001\n\n> Write a program that outputs all possibilities to put + or - or nothing between the numbers 1, 2, ..., 9 (in this order) such that the result is always 100. E.g.: 1 + 2 + 34 \u2013 5 + 67 \u2013 8 + 9 = 100.\n\n\u3068\u3044\u3046\u554f\u984c\u304c\u3042\u308b\u305d\u3046\u306a\u3002\u65e5\u672c\u8a9e\u3060\u3068\n\n> 1\u304b\u30899\u307e\u3067\u306e\u6570\u5b57\u3092\b\u6607\u9806\u306b\u4e26\u3079\u3001\u305d\u308c\u3089\u306e\u9593\u306b+, -, \u3042\u308b\u3044\u306f\u4f55\u3082\u6f14\u7b97\u5b50\u3092\u5165\u308c\u306a\u3044\uff08=\u6841\u304c\u3064\u306a\u304c\u308b\uff09\b\u3068\u3044\u3046\u6761\u4ef6\u3067\u306e\u3059\u3079\u3066\u306e\u5834\u5408\u306b\u3064\u3044\u3066\u7d50\u679c\u304c100\u3068\u306a\u308b\u3082\u306e\u3092\u9078\u3079\uff08\u4f8b: 1 + 2 + 34 \u2013 5 + 67 \u2013 8 + 9 = 100\uff09\u3002\n\n\u3068\u3067\u3082\u306a\u308b\u3060\u308d\u3046\u304b\u3002\n\n\u305d\u3093\u306a\u306b\u9762\u5012\u3067\u3082\u306a\u3055\u305d\u3046\u306a\u306e\u3067\u89e3\u3044\u3066\u307f\u305f\u3002\u5b89\u6613\u306a\u65b9\u6cd5\u3060\u3051\u3069\u3002\n\n## \u8003\u3048\u65b9\n\n* `123456789`\u3068\u3044\u3046\u6570\u5b57\u306e\u5217\u306e\u9593\u306b`1 X1 2 X2 3 X3 4 X4 5 X5 6 X6 7 X7 8 X8 9`\u3068\u3044\u3046\u611f\u3058\u3067`X1~X8`\u306e\u8a18\u53f7\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u4eee\u5b9a\u3059\u308b\u3002\n* `X1~X8`\u306f`+`,`-`,\u3042\u308b\u3044\u306f\u7a7a\u6587\u5b57\uff08\u4f55\u3082\u5165\u3089\u306a\u3044\uff09\u306e\u3046\u3061\u306e\u3069\u308c\u304b\u3002\n* \u4e0a\u8a18\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u30ea\u30b9\u30c8`Ops = [X1, X2, X3, X4, X5, X6, X7, X8]`\u3092\u4eee\u5b9a\u3057\u3001\u3053\u306eOps\u3092\u5f15\u6570\u3068\u3057\u3066\u5bfe\u5fdc\u3059\u308b\u6570\u5f0f\u3092\u6587\u5b57\u5217\u3068\u3057\u3066\u751f\u6210\u3057\u3001\u3055\u3089\u306b\u305d\u308c\u3092Erlang\u306e\u6570\u5f0f\u3068\u3057\u3066\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u3092\u4ed8\u3051\u52a0\u3048\u308b\u95a2\u6570`comp/1`\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n* `Ops`\u3068\u3057\u3066\u60f3\u5b9a\u3057\u5f97\u308b\u30ea\u30b9\u30c8\u7fa4\u3092\u751f\u6210\u3059\u308b\u95a2\u6570`genlist/0`\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n* `genlist/0`\u306e\u751f\u6210\u3059\u308b\u5404\u30ea\u30b9\u30c8\u306b\u5bfe\u3057`comp/1`\u3092\u9069\u7528\u3057\u3066\u3001\u305d\u306e\u4e2d\u3067\u8a08\u7b97\u5024\u304c\u6c42\u3081\u308b\u3082\u306e\u3092\u9078\u3076\u95a2\u6570\u3092\u4f7f\u3044`lists:filter/2`\u306b\u304b\u3051\u3066\u9078\u5225\u3059\u308c\u3070\u7b54\u304c\u6c42\u307e\u308b\u3002\n\n## \u30b3\u30fc\u30c9\n\n\u3053\u3093\u306a\u611f\u3058\u3002\n\n```give100.erl\n-module(give100).\n\n-export([genlist/0, comp/1, comp/2, solve/1]).\n\ngenlist() ->\n    X = [$+, $-, 0],\n    [[A, B, C, D, E, F, G, H] ||\n     A <- X, B <- X, C <- X, D <- X,\n     E <- X, F <- X, G <- X, H <- X].\n\ncomp(Ops) ->\n    S = comp(Ops, []),\n    % requires period to make a valid Erlang expression\n    {ok, Scanned, _} = erl_scan:string(S ++ \".\"),\n    {ok, Parsed} = erl_parse:parse_exprs(Scanned),\n    {value, V, []} = erl_eval:exprs(Parsed, []),\n    {V, S}.\n\ncomp([], A) ->\n    lists:reverse([$9|A]);\ncomp(Ops, A) ->\n    [O | OT] = Ops,\n    C = $8 - length(OT),\n    case O of\n        0 ->\n            comp(OT, [C | A]);\n        _X ->\n            comp(OT, [_X | [C | A]])\n    end.\n\nsolve(Val) ->\n    lists:filter(fun(X) -> {V, _} = X, V =:= Val end,\n                  [comp(L) || L <- genlist()]).\n```\n\n## \u30c6\u30b9\u30c8\u7d50\u679c\n\n\u5834\u5408\u6570\u304c $3^8 = 6561$\u901a\u308a\u3042\u308b\u306e\u3067\u3001\u624b\u6301\u3061\u306eCore i5\u306e\u30de\u30b7\u30f3\u3060\u30681\u79d2\u5f31\u304b\u304b\u308b\u3002\u306a\u306b\u3057\u308d\u5f0f\u306e\u89e3\u6790\u304c\u5927\u3052\u3055\u306a\u306e\u3067\u3001\u3082\u3063\u3068\u3084\u308a\u3088\u3046\u306f\u3042\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002Elixir\u306a\u3089Stream\u304c\u4f7f\u3048\u305d\u3046\u3060\u3002\n\n```erl\nErlang/OTP 19 [erts-8.1.1] [source] [64-bit] [smp:4:4] [async-threads:10] [kernel-poll:false]\n\nEshell V8.1.1  (abort with ^G)\n1> l(give100).\n{module,give100}\n2> give100:solve(100). % \u2190 Make 100 in several ways \u306e\u7b54\n[{100,\"1+2+3-4+5+6+78+9\"},\n {100,\"1+2+34-5+67-8+9\"},\n {100,\"1+23-4+5+6+78-9\"},\n {100,\"1+23-4+56+7+8+9\"},\n {100,\"12+3+4+5-6-7+89\"},\n {100,\"12+3-4+5+67+8+9\"},\n {100,\"12-3-4+5-6+7+89\"},\n {100,\"123+4-5+67-89\"},\n {100,\"123+45-67+8-9\"},\n {100,\"123-4-5-6-7+8-9\"},\n {100,\"123-45-67+89\"}]\n3> give100:solve(42). % \u2190\u3053\u3093\u306a\u5909\u308f\u3063\u305f\u6280\u3082\u4f7f\u3048\u308b\n[{42,\"1+2+3+4+56-7-8-9\"},\n {42,\"1+2+3-4-56+7+89\"},\n {42,\"1+2+3-45-6+78+9\"},\n {42,\"1+2+34+5+6-7-8+9\"},\n {42,\"1+2+34+5-6+7+8-9\"},\n {42,\"1+2-3-4+56+7-8-9\"},\n {42,\"1+2-34+5+67-8+9\"},\n {42,\"1+23-45-6+78-9\"},\n {42,\"1-2+34+5-6-7+8+9\"},\n {42,\"1-2+34-5+6+7-8+9\"},\n {42,\"1-2-3-4+56-7-8+9\"},\n {42,\"1-23-4+5-6+78-9\"},\n {42,\"12+3+4+5-6+7+8+9\"},\n {42,\"12+3+45+6-7-8-9\"},\n {42,\"12+3-4-56+78+9\"},\n {42,\"12-3+45-6-7-8+9\"},\n {42,\"12-34+56+7-8+9\"},\n {42,\"123+4+5+6-7-89\"}]\n4>\n```\n\n## \u53c2\u8003\u6587\u732e\n\n* [\u30cd\u30bf\u5143\u306e\u30d6\u30ed\u30b0\u30a8\u30f3\u30c8\u30ea](http://micpsm.hatenablog.com/entry/2016/12/13/011909)\u3002\u95a2\u6570\u578b\u3067\u306f\u7121\u7406\u3068\u3044\u3046\u8a71\u304c\u3042\u3063\u305f\u3051\u3069\u3001\u53ef\u80fd\u6027\u306e\u3042\u308b\u8981\u7d20\u3092\u751f\u6210\u3057\u3066\u305d\u308c\u306b\u30d5\u30a3\u30eb\u30bf\u3092\u304b\u3051\u3066\u3044\u304f\u3068\u3044\u3046\u306e\u306f\u3001\u95a2\u6570\u578b\u3067\u306f\u5b9a\u756a\u3060\u3057\u3001\u8ad6\u7406\u578b\u3067\u3082\u5341\u5206\u3044\u3051\u308b\u3060\u308d\u3046\u3002\u73fe\u306bProlog\u306e\u30b3\u30fc\u30c9\u3082\u6b21\u306b\u8ff0\u3079\u308bReddit\u306e\u30b9\u30ec\u306b\u306f\u51fa\u3066\u308b\u304f\u3089\u3044\u3060\u304b\u3089\u3002\n* [\u3053\u306eReddit\u306e\u30b9\u30ec](https://www.reddit.com/r/programming/comments/358tnp/five_programming_problems_every_software_engineer/)\u304c\u52c9\u5f37\u306b\u306a\u308b\u3002\n* [Erlang Central\u306eWiki\u306b\u3042\u308b\"String Eval\"\u306e\u30a8\u30f3\u30c8\u30ea](http://www2.erlangcentral.org/wiki/index.php?title=String_Eval)\u3092\u3001`comp/1`\u306e\u4e2d\u306e\u6570\u5f0f\u8a55\u4fa1\u306e\u30b3\u30fc\u30c9\u3068\u3057\u3066\u53c2\u7167\u3057\u305f\u3002\u3082\u3063\u3068\u3082\u6570\u5f0f\u3060\u3051\u3067\u306a\u304f\u3001Erlang\u306e\u5f0f\u3068\u3057\u3066\u8a55\u4fa1\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3044\u3055\u3055\u304b\u30aa\u30fc\u30d0\u30fc\u30b9\u30da\u30c3\u30af\u3067\u3042\u308b\u3053\u3068\u306f\u5426\u3081\u306a\u3044\u3002\n\n## \u307e\u3068\u3081\u3068\u611f\u60f3\n\nMake 100 in several ways \u306fErlang\u3067\u3082\u307e\u3042\u666e\u901a\u306b\b\u89e3\u3051\u308b\u3053\u3068\u3092\u793a\u3057\u305f\u3002\u305f\u3060\u3084\u308a\u65b9\u3068\u3057\u3066\u306f\u96d1\u306a\u306e\u306f\u5426\u3081\u306a\u3044\u3002\u3088\u308a\u9762\u767d\u3044\u30b3\u30fc\u30c9\u304c\u3042\u3063\u305f\u3089\u6559\u3048\u3066\u6b32\u3057\u3044\u3002\n\n\n\n\n", "tags": ["Erlang", "\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0"]}