{"tags": ["RaspberryPi", "volumio1.55", "raspbian", "shairport-sync", "ALSA"], "context": " More than 1 year has passed since last update.Raspberry Pi\u3092AirPlay\u5bfe\u5fdc\u306e\u97f3\u697d\u518d\u751f\u6a5f\u306b\u3059\u308b\u305f\u3081\u306bVolumio\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u304c\u3001\u97f3\u304c\u9cf4\u3063\u305f\u308a\u9cf4\u3089\u306a\u304b\u3063\u305f\u308a\u3067\u52d5\u4f5c\u304c\u5b89\u5b9a\u305b\u305a\u3001\u5c11\u3057\u60a9\u307f\u307e\u3057\u305f\u3002\n\u305d\u306e\u969b\u306b\u8a66\u3057\u305f\u3053\u306e\u306b\u3064\u3044\u3066\u306e\u30e1\u30e2\u3067\u3059\u3002\n\u3042\u307e\u308a\u6574\u7406\u3067\u304d\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u4f55\u304b\u306e\u53c2\u8003\u306b\u306a\u308c\u3070\u3002\n\n1. \u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u7de8\n\n1.1. USB\u96fb\u6e90\n\u52d5\u4f5c\u304c\u4e0d\u5b89\u5b9a\u306a\u6642\u306b\u307e\u305a\u306f\u7591\u3044\u305f\u3044\u306e\u306f\u96fb\u6e90\u30021.5A\u4ee5\u4e0a\u3001\u3067\u304d\u308c\u30702.0A\u4ee5\u4e0a\u3092\u4f9b\u7d66\u3067\u304d\u308bUSB\u96fb\u6e90\u306b\u4ea4\u63db\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nRaspberry Pi 2 Model B\u306e\u3088\u3046\u306a\u65b0\u3057\u3044\u30e2\u30c7\u30eb\u3067\u306f\u554f\u984c\u306b\u306a\u308b\u3053\u3068\u304c\u6e1b\u308a\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u4f7f\u7528\u3057\u305f\u306e\u306fRaspberry Pi Model B Rev.2\u3068\u3044\u3046\u5c11\u3057\u53e4\u3044\u30e2\u30c7\u30eb\u3002\u53e4\u3044\u30e2\u30c7\u30eb\u307b\u3069\u5b89\u5b9a\u3057\u305f\u3001\u4f59\u88d5\u306e\u3042\u308b\u96fb\u6e90\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n1.2. USB\u30cf\u30d6\n\u539f\u56e0\u306f\u306f\u3063\u304d\u308a\u3057\u307e\u305b\u3093\u304c\u3001\u4eca\u56de\u306fUSB\u30cf\u30d6\u3092\u4f7f\u3046\u3053\u3068\u3067\u3088\u308a\u5b89\u5b9a\u3059\u308b\u50be\u5411\u306b\u3042\u308a\u307e\u3057\u305f\u3002\n\u306a\u304a\u3001\u5f8c\u8ff0\u3059\u308bUSB-DAC\u306f\u5916\u90e8\u304b\u3089\u96fb\u6e90\u3092\u4f9b\u7d66\u3059\u308b\u30bf\u30a4\u30d7\u3067\u3042\u308a\u3001\u30d0\u30b9\u30d1\u30ef\u30fc\u30c9\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u5916\u90e8\u96fb\u6e90\u30bf\u30a4\u30d7\u306eUSB\u30cf\u30d6\u3092\u304a\u6301\u3061\u3067\u3042\u308c\u3070\u3001USB\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u3068Raspberry Pi\u306e\u9593\u306b\u631f\u3093\u3067\u307f\u308b\u3068\u3001\u3082\u3057\u304b\u3057\u305f\u3089\u554f\u984c\u304c\u89e3\u6c7a\u3059\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n1.3. USB-DAC / USB\u30b9\u30d4\u30fc\u30ab\u30fc\n\u4eca\u56de\u3001\u5229\u7528\u3057\u305f\u304b\u3063\u305f\u306e\u306fFOSTEX PC200USB-HR\u3068\u3044\u3046\u30cf\u30a4\u30ec\u30be\u5bfe\u5fdc\u306eUSB-DAC\uff08Digital to Analog Converter\uff09\u3067\u3059\u304c\u3001MacBook Pro\u306b\u63a5\u7d9a\u3059\u308b\u3068\u6b63\u5e38\u306b\u9cf4\u308b\u306e\u306b\u3001Raspberry Pi\u306b\u63a5\u7d9a\u3059\u308b\u3068\u9cf4\u3089\u305a\u306b\u60a9\u307f\u307e\u3057\u305f\u3002\uff08\u3053\u308c\u306f\u304a\u305d\u3089\u304f\u3001\u5f8c\u8ff0\u3059\u308bplughw\u304c\u95a2\u9023\u3059\u308b\u304b\u3068\uff09\n\u5f53\u305f\u308a\u524d\u3067\u3059\u304c\u3001\u539f\u56e0\u306e\u5207\u308a\u5206\u3051\u306e\u305f\u3081\u306b\u5225\u306e\u30de\u30b7\u30f3\u3001\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u304c\u3042\u308b\u3068\u4fbf\u5229\u3067\u3059\u3002\n\u4eca\u56de\u306f\u3001USB-DAC\u306e\u4ed6\u306bOlasonic TW-S7\u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u3053\u3061\u3089\u306f\u4f55\u306e\u554f\u984c\u3082\u7121\u304f\u9cf4\u308a\u307e\u3057\u305f\u3002\n\n1.4. \u30b1\u30fc\u30d6\u30eb\u629c\u304d\u5dee\u3057\n\u3053\u308c\u3082\u3042\u308a\u304c\u3061\u306a\u8a71\u3067\u3059\u304c\u3001\u30b1\u30fc\u30d6\u30eb\u3092\u629c\u304d\u5dee\u3057\u3059\u308b\u3060\u3051\u3067\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u3092\u8a8d\u8b58\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u5074\u304b\u3001\u3042\u308b\u3044\u306f\u30c7\u30d0\u30a4\u30b9\u30c9\u30e9\u30a4\u30d0\u5074\u306e\u4f5c\u308a\u304c\u7518\u3044\u306e\u3067\u3057\u3087\u3046\u30fb\u30fb\u30fb\u3002\n\n2. \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u7de8\n\n2.1. lsusb / dmesg\n\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u304cUSB\u63a5\u7d9a\u3067\u3042\u308c\u3070\u3001lsusb\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u8a72\u5f53\u306e\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u304c\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\ndmesg\u3082\u5408\u308f\u305b\u3066\u78ba\u8a8d\u3059\u308b\u306e\u304c\u826f\u3044\u3067\u3057\u3087\u3046\u3002\u4f55\u304b\u3057\u3089\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\nroot@volumio:~# lsusb\nBus 001 Device 002: ID 0424:9512 Standard Microsystems Corp.\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp.\nBus 001 Device 005: ID 1019:0402 Elitegroup Computer Systems (ECS)\nBus 001 Device 004: ID 08bb:2704 Texas Instruments Japan\n\nroot@volumio:~# dmesg\n[  212.617008] usb 1-1.3.4: new full-speed USB device number 6 using dwc_otg\n[  212.780441] usb 1-1.3.4: config 1 has an invalid interface number: 3 but max is 2\n[  212.805776] usb 1-1.3.4: config 1 has an invalid interface number: 3 but max is 2\n[  212.831149] usb 1-1.3.4: config 1 has an invalid interface number: 3 but max is 2\n[  212.856795] usb 1-1.3.4: config 1 has no interface number 2\n[  212.902453] usb 1-1.3.4: New USB device found, idVendor=1019, idProduct=0402\n[  212.927542] usb 1-1.3.4: New USB device strings: Mfr=1, Product=2, SerialNumber=0\n[  212.953259] usb 1-1.3.4: Product: PERSONAL AMPLIFIER\n[  212.976458] usb 1-1.3.4: Manufacturer: FOSTER Elec. CO., LTD\n[  213.039241] input: FOSTER Elec. CO., LTD PERSONAL AMPLIFIER as /devices/platform/bcm2708_usb/usb1/1-1/1-1.3/1-1.3.4/1-1.3.4:1.0/0003:1019:0402.0001/input/input0\n[  213.128294] hid-generic 0003:1019:0402.0001: input,hidraw0: USB HID v1.00 Device [FOSTER Elec. CO., LTD PERSONAL AMPLIFIER] on usb-bcm2708_usb-1.3.4/input0\n[  213.391117] snd_usb_audio: unknown parameter 'nrpacks' ignored\n[  213.457577] usbcore: registered new interface driver snd-usb-audio\n\n\n2.2. proc\nALSA\uff08Advanced Linux Sound Architecture\uff09\u30ec\u30d9\u30eb\u3067\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\uff08ALSA\u30ec\u30a4\u30e4\u30fc\u3067\u306f\u300c\u30b5\u30a6\u30f3\u30c9\u30ab\u30fc\u30c9\u300d\uff09\u304c\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n/proc/asound/cards\u3067\u30b5\u30a6\u30f3\u30c9\u30ab\u30fc\u30c9\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nroot@volumio:~# cat /proc/asound/cards\n 0 [DAC            ]: USB-Audio - USB Audio DAC\n                      Burr-Brown from TI USB Audio DAC at usb-bcm2708_usb-1.3, full speed\n 1 [ALSA           ]: bcm2835 - bcm2835 ALSA\n                      bcm2835 ALSA\n 2 [AMPLIFIER      ]: USB-Audio - PERSONAL AMPLIFIER\n                      FOSTER Elec. CO., LTD PERSONAL AMPLIFIER at usb-bcm2708_usb-1.2, full speed\n\n/proc/asound/card0/stream0\u3067\u30b5\u30a6\u30f3\u30c9\u30ab\u30fc\u30c9\u306e\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u8a73\u7d30\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002card0\u3001stream0\u306e0\u306f\u30c7\u30d0\u30a4\u30b9\u756a\u53f7\u3001\u30b9\u30c8\u30ea\u30fc\u30e0\u756a\u53f7\u3067\u3059\u3002\n\u518d\u751f\u4e2d\u306e\u5834\u5408\u3001Status: Stop\u306e\u7b87\u6240\u304cStatus: Running\u3068\u306a\u308a\u3001\u51fa\u529b\u4e2d\u306e\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u5468\u6ce2\u6570\u306a\u3069\u306e\u60c5\u5831\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\nroot@volumio:~# cat /proc/asound/card0/stream0\nFOSTER Elec. CO., LTD PERSONAL AMPLIFIER at usb-bcm2708_usb-1.3, full speed : USB Audio\n\nPlayback:\n  Status: Stop\n  Interface 3\n    Altset 1\n    Format: S16_LE\n    Channels: 2\n    Endpoint: 3 OUT (ADAPTIVE)\n    Rates: 96000, 88200, 48000, 44100, 32000\n  Interface 3\n    Altset 2\n    Format: S24_3LE\n    Channels: 2\n    Endpoint: 3 OUT (ADAPTIVE)\n    Rates: 96000, 88200, 48000, 44100, 32000\n\n\n2.3. alsamixer\n\u30aa\u30fc\u30c7\u30a3\u30aa\u95a2\u4fc2\u3067\u3042\u308a\u304c\u3061\u306a\u306e\u306f\u300c\u30dc\u30ea\u30e5\u30fc\u30e0\u304c\u7d5e\u3089\u308c\u3066\u3044\u3066\u97f3\u304c\u9cf4\u3089\u306a\u3044\u300d\u3002alsamixer\u30b3\u30de\u30f3\u30c9\u3067\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u78ba\u8a8d\u3001\u8a2d\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\n\u306a\u304a\u3001\u8907\u6570\u306e\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001F6\u30ad\u30fc\u3067\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u3092\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n2.4. aplay\n\u30b7\u30f3\u30d7\u30eb\u306a\u30aa\u30fc\u30c7\u30a3\u30aa\u30d7\u30ec\u30fc\u30e4\u30fc\u3067\u97f3\u304c\u9cf4\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4f8b\u3048\u3070aplay\u30b3\u30de\u30f3\u30c9\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3067\u306f-D\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u3001\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\naplay /usr/share/sounds/alsa/Front_Left.wav\naplay -D hw:1 /usr/share/sounds/alsa/Front_Left.wav\naplay -D hw:2,0 /usr/share/sounds/alsa/Front_Left.wav\naplay -D plughw:2,0 /usr/share/sounds/alsa/Front_Left.wav\n\nFOSTEX PC200USB-HR\u306e\u5834\u5408\u3001hw\u3067\u306f\u9cf4\u3089\u305a\u3001plughw\u3067\u3042\u308c\u3070\u9cf4\u308a\u307e\u3057\u305f\u3002\n\n2.5. shairport-sync\nVolumio 1\u7cfb\u3067\u306f-sync\u306e\u4ed8\u304b\u306a\u3044shairport\u304c\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f\u6642\u9593\u306e\u540c\u671f\u3092\u884c\u308f\u306a\u3044AirPlay\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u306e\u305f\u3081\u3001\u52d5\u753b\u306e\u97f3\u58f0\u3092AirPlay\u7d4c\u7531\u3067\u518d\u751f\u3059\u308b\u3068\u3001\u97f3\u58f0\u304c\u9045\u5ef6\u3057\u3066\u4f7f\u3044\u7269\u306b\u306a\u308a\u307e\u305b\u3093\u3002\n\u958b\u767a\u4e2d\u306eVolumio 2\u7cfb\u3067\u3042\u308c\u3070shairport-sync\u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u304c\u3001Linux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u306f\u307e\u3060\u4f7f\u3044\u7269\u306b\u306a\u308b\u30ec\u30d9\u30eb\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\uff08\u8a55\u4fa1\u3057\u305f\u306e\u306fVolumio 2 Alpha 4\uff09\n\u5225\u9014\u3001shairport-sync\u3092\u30d3\u30eb\u30c9\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3067\u3001\u97f3\u58f0\u3068\u6620\u50cf\u304c\u540c\u671f\u3055\u308c\u305f\u72b6\u614b\u3067\u518d\u751f\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u5225\u9014\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\n\u95a2\u9023\u8a18\u4e8b\n\nRaspberry Pi\u306bshairport-sync\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b - Qiita\nRaspberry Pi\u306e\u5185\u8535\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u3092\u7121\u52b9\u5316\u3059\u308b\u65b9\u6cd5 - Qiita\n\nRaspberry Pi\u3092AirPlay\u5bfe\u5fdc\u306e\u97f3\u697d\u518d\u751f\u6a5f\u306b\u3059\u308b\u305f\u3081\u306b[Volumio](https://volumio.org/)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u304c\u3001\u97f3\u304c\u9cf4\u3063\u305f\u308a\u9cf4\u3089\u306a\u304b\u3063\u305f\u308a\u3067\u52d5\u4f5c\u304c\u5b89\u5b9a\u305b\u305a\u3001\u5c11\u3057\u60a9\u307f\u307e\u3057\u305f\u3002\n\u305d\u306e\u969b\u306b\u8a66\u3057\u305f\u3053\u306e\u306b\u3064\u3044\u3066\u306e\u30e1\u30e2\u3067\u3059\u3002\n\u3042\u307e\u308a\u6574\u7406\u3067\u304d\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u4f55\u304b\u306e\u53c2\u8003\u306b\u306a\u308c\u3070\u3002\n\n## 1. \u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u7de8\n\n### 1.1. USB\u96fb\u6e90\n\n\u52d5\u4f5c\u304c\u4e0d\u5b89\u5b9a\u306a\u6642\u306b\u307e\u305a\u306f\u7591\u3044\u305f\u3044\u306e\u306f\u96fb\u6e90\u30021.5A\u4ee5\u4e0a\u3001\u3067\u304d\u308c\u30702.0A\u4ee5\u4e0a\u3092\u4f9b\u7d66\u3067\u304d\u308bUSB\u96fb\u6e90\u306b\u4ea4\u63db\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n[Raspberry Pi 2 Model B](http://www.amazon.co.jp/exec/obidos/ASIN/B00T356SFO/nayutaya04-22/)\u306e\u3088\u3046\u306a\u65b0\u3057\u3044\u30e2\u30c7\u30eb\u3067\u306f\u554f\u984c\u306b\u306a\u308b\u3053\u3068\u304c\u6e1b\u308a\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u4f7f\u7528\u3057\u305f\u306e\u306f[Raspberry Pi Model B Rev.2](http://www.amazon.co.jp/exec/obidos/ASIN/B00CBWMXVE/nayutaya04-22/)\u3068\u3044\u3046\u5c11\u3057\u53e4\u3044\u30e2\u30c7\u30eb\u3002\u53e4\u3044\u30e2\u30c7\u30eb\u307b\u3069\u5b89\u5b9a\u3057\u305f\u3001\u4f59\u88d5\u306e\u3042\u308b\u96fb\u6e90\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n### 1.2. USB\u30cf\u30d6\n\n\u539f\u56e0\u306f\u306f\u3063\u304d\u308a\u3057\u307e\u305b\u3093\u304c\u3001\u4eca\u56de\u306fUSB\u30cf\u30d6\u3092\u4f7f\u3046\u3053\u3068\u3067\u3088\u308a\u5b89\u5b9a\u3059\u308b\u50be\u5411\u306b\u3042\u308a\u307e\u3057\u305f\u3002\n\u306a\u304a\u3001\u5f8c\u8ff0\u3059\u308bUSB-DAC\u306f\u5916\u90e8\u304b\u3089\u96fb\u6e90\u3092\u4f9b\u7d66\u3059\u308b\u30bf\u30a4\u30d7\u3067\u3042\u308a\u3001\u30d0\u30b9\u30d1\u30ef\u30fc\u30c9\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u5916\u90e8\u96fb\u6e90\u30bf\u30a4\u30d7\u306eUSB\u30cf\u30d6\u3092\u304a\u6301\u3061\u3067\u3042\u308c\u3070\u3001USB\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u3068Raspberry Pi\u306e\u9593\u306b\u631f\u3093\u3067\u307f\u308b\u3068\u3001\u3082\u3057\u304b\u3057\u305f\u3089\u554f\u984c\u304c\u89e3\u6c7a\u3059\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n### 1.3. USB-DAC / USB\u30b9\u30d4\u30fc\u30ab\u30fc\n\n\u4eca\u56de\u3001\u5229\u7528\u3057\u305f\u304b\u3063\u305f\u306e\u306f[FOSTEX PC200USB-HR](http://www.amazon.co.jp/exec/obidos/ASIN/B016MLQ2VG/nayutaya04-22/)\u3068\u3044\u3046\u30cf\u30a4\u30ec\u30be\u5bfe\u5fdc\u306eUSB-DAC\uff08Digital to Analog Converter\uff09\u3067\u3059\u304c\u3001MacBook Pro\u306b\u63a5\u7d9a\u3059\u308b\u3068\u6b63\u5e38\u306b\u9cf4\u308b\u306e\u306b\u3001Raspberry Pi\u306b\u63a5\u7d9a\u3059\u308b\u3068\u9cf4\u3089\u305a\u306b\u60a9\u307f\u307e\u3057\u305f\u3002\uff08\u3053\u308c\u306f\u304a\u305d\u3089\u304f\u3001\u5f8c\u8ff0\u3059\u308b`plughw`\u304c\u95a2\u9023\u3059\u308b\u304b\u3068\uff09\n\n\u5f53\u305f\u308a\u524d\u3067\u3059\u304c\u3001\u539f\u56e0\u306e\u5207\u308a\u5206\u3051\u306e\u305f\u3081\u306b\u5225\u306e\u30de\u30b7\u30f3\u3001\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u304c\u3042\u308b\u3068\u4fbf\u5229\u3067\u3059\u3002\n\u4eca\u56de\u306f\u3001USB-DAC\u306e\u4ed6\u306b[Olasonic TW-S7](http://www.amazon.co.jp/exec/obidos/ASIN/B0039YOHJE/nayutaya04-22/)\u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u3053\u3061\u3089\u306f\u4f55\u306e\u554f\u984c\u3082\u7121\u304f\u9cf4\u308a\u307e\u3057\u305f\u3002\n\n### 1.4. \u30b1\u30fc\u30d6\u30eb\u629c\u304d\u5dee\u3057\n\n\u3053\u308c\u3082\u3042\u308a\u304c\u3061\u306a\u8a71\u3067\u3059\u304c\u3001\u30b1\u30fc\u30d6\u30eb\u3092\u629c\u304d\u5dee\u3057\u3059\u308b\u3060\u3051\u3067\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u3092\u8a8d\u8b58\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u5074\u304b\u3001\u3042\u308b\u3044\u306f\u30c7\u30d0\u30a4\u30b9\u30c9\u30e9\u30a4\u30d0\u5074\u306e\u4f5c\u308a\u304c\u7518\u3044\u306e\u3067\u3057\u3087\u3046\u30fb\u30fb\u30fb\u3002\n\n## 2. \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u7de8\n\n### 2.1. lsusb / dmesg\n\n\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u304cUSB\u63a5\u7d9a\u3067\u3042\u308c\u3070\u3001`lsusb`\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u8a72\u5f53\u306e\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u304c\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n`dmesg`\u3082\u5408\u308f\u305b\u3066\u78ba\u8a8d\u3059\u308b\u306e\u304c\u826f\u3044\u3067\u3057\u3087\u3046\u3002\u4f55\u304b\u3057\u3089\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n```\nroot@volumio:~# lsusb\nBus 001 Device 002: ID 0424:9512 Standard Microsystems Corp.\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp.\nBus 001 Device 005: ID 1019:0402 Elitegroup Computer Systems (ECS)\nBus 001 Device 004: ID 08bb:2704 Texas Instruments Japan\n\nroot@volumio:~# dmesg\n[  212.617008] usb 1-1.3.4: new full-speed USB device number 6 using dwc_otg\n[  212.780441] usb 1-1.3.4: config 1 has an invalid interface number: 3 but max is 2\n[  212.805776] usb 1-1.3.4: config 1 has an invalid interface number: 3 but max is 2\n[  212.831149] usb 1-1.3.4: config 1 has an invalid interface number: 3 but max is 2\n[  212.856795] usb 1-1.3.4: config 1 has no interface number 2\n[  212.902453] usb 1-1.3.4: New USB device found, idVendor=1019, idProduct=0402\n[  212.927542] usb 1-1.3.4: New USB device strings: Mfr=1, Product=2, SerialNumber=0\n[  212.953259] usb 1-1.3.4: Product: PERSONAL AMPLIFIER\n[  212.976458] usb 1-1.3.4: Manufacturer: FOSTER Elec. CO., LTD\n[  213.039241] input: FOSTER Elec. CO., LTD PERSONAL AMPLIFIER as /devices/platform/bcm2708_usb/usb1/1-1/1-1.3/1-1.3.4/1-1.3.4:1.0/0003:1019:0402.0001/input/input0\n[  213.128294] hid-generic 0003:1019:0402.0001: input,hidraw0: USB HID v1.00 Device [FOSTER Elec. CO., LTD PERSONAL AMPLIFIER] on usb-bcm2708_usb-1.3.4/input0\n[  213.391117] snd_usb_audio: unknown parameter 'nrpacks' ignored\n[  213.457577] usbcore: registered new interface driver snd-usb-audio\n```\n\n### 2.2. proc\n\nALSA\uff08Advanced Linux Sound Architecture\uff09\u30ec\u30d9\u30eb\u3067\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\uff08ALSA\u30ec\u30a4\u30e4\u30fc\u3067\u306f\u300c\u30b5\u30a6\u30f3\u30c9\u30ab\u30fc\u30c9\u300d\uff09\u304c\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n`/proc/asound/cards`\u3067\u30b5\u30a6\u30f3\u30c9\u30ab\u30fc\u30c9\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```\nroot@volumio:~# cat /proc/asound/cards\n 0 [DAC            ]: USB-Audio - USB Audio DAC\n                      Burr-Brown from TI USB Audio DAC at usb-bcm2708_usb-1.3, full speed\n 1 [ALSA           ]: bcm2835 - bcm2835 ALSA\n                      bcm2835 ALSA\n 2 [AMPLIFIER      ]: USB-Audio - PERSONAL AMPLIFIER\n                      FOSTER Elec. CO., LTD PERSONAL AMPLIFIER at usb-bcm2708_usb-1.2, full speed\n```\n\n`/proc/asound/card0/stream0`\u3067\u30b5\u30a6\u30f3\u30c9\u30ab\u30fc\u30c9\u306e\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u8a73\u7d30\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002`card0`\u3001`stream0`\u306e`0`\u306f\u30c7\u30d0\u30a4\u30b9\u756a\u53f7\u3001\u30b9\u30c8\u30ea\u30fc\u30e0\u756a\u53f7\u3067\u3059\u3002\n\u518d\u751f\u4e2d\u306e\u5834\u5408\u3001`Status: Stop`\u306e\u7b87\u6240\u304c`Status: Running`\u3068\u306a\u308a\u3001\u51fa\u529b\u4e2d\u306e\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u5468\u6ce2\u6570\u306a\u3069\u306e\u60c5\u5831\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```\nroot@volumio:~# cat /proc/asound/card0/stream0\nFOSTER Elec. CO., LTD PERSONAL AMPLIFIER at usb-bcm2708_usb-1.3, full speed : USB Audio\n\nPlayback:\n  Status: Stop\n  Interface 3\n    Altset 1\n    Format: S16_LE\n    Channels: 2\n    Endpoint: 3 OUT (ADAPTIVE)\n    Rates: 96000, 88200, 48000, 44100, 32000\n  Interface 3\n    Altset 2\n    Format: S24_3LE\n    Channels: 2\n    Endpoint: 3 OUT (ADAPTIVE)\n    Rates: 96000, 88200, 48000, 44100, 32000\n```\n\n### 2.3. alsamixer\n\n\u30aa\u30fc\u30c7\u30a3\u30aa\u95a2\u4fc2\u3067\u3042\u308a\u304c\u3061\u306a\u306e\u306f\u300c\u30dc\u30ea\u30e5\u30fc\u30e0\u304c\u7d5e\u3089\u308c\u3066\u3044\u3066\u97f3\u304c\u9cf4\u3089\u306a\u3044\u300d\u3002`alsamixer`\u30b3\u30de\u30f3\u30c9\u3067\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u78ba\u8a8d\u3001\u8a2d\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\n\u306a\u304a\u3001\u8907\u6570\u306e\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001F6\u30ad\u30fc\u3067\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u3092\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n### 2.4. aplay\n\n\u30b7\u30f3\u30d7\u30eb\u306a\u30aa\u30fc\u30c7\u30a3\u30aa\u30d7\u30ec\u30fc\u30e4\u30fc\u3067\u97f3\u304c\u9cf4\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4f8b\u3048\u3070`aplay`\u30b3\u30de\u30f3\u30c9\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3067\u306f`-D`\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u3001\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n```\naplay /usr/share/sounds/alsa/Front_Left.wav\naplay -D hw:1 /usr/share/sounds/alsa/Front_Left.wav\naplay -D hw:2,0 /usr/share/sounds/alsa/Front_Left.wav\naplay -D plughw:2,0 /usr/share/sounds/alsa/Front_Left.wav\n```\n\nFOSTEX PC200USB-HR\u306e\u5834\u5408\u3001`hw`\u3067\u306f\u9cf4\u3089\u305a\u3001`plughw`\u3067\u3042\u308c\u3070\u9cf4\u308a\u307e\u3057\u305f\u3002\n\n### 2.5. shairport-sync\n\nVolumio 1\u7cfb\u3067\u306f`-sync`\u306e\u4ed8\u304b\u306a\u3044`shairport`\u304c\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f\u6642\u9593\u306e\u540c\u671f\u3092\u884c\u308f\u306a\u3044AirPlay\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u306e\u305f\u3081\u3001\u52d5\u753b\u306e\u97f3\u58f0\u3092AirPlay\u7d4c\u7531\u3067\u518d\u751f\u3059\u308b\u3068\u3001\u97f3\u58f0\u304c\u9045\u5ef6\u3057\u3066\u4f7f\u3044\u7269\u306b\u306a\u308a\u307e\u305b\u3093\u3002\n\u958b\u767a\u4e2d\u306eVolumio 2\u7cfb\u3067\u3042\u308c\u3070`shairport-sync`\u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u304c\u3001Linux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u306f\u307e\u3060\u4f7f\u3044\u7269\u306b\u306a\u308b\u30ec\u30d9\u30eb\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\uff08\u8a55\u4fa1\u3057\u305f\u306e\u306fVolumio 2 Alpha 4\uff09\n\u5225\u9014\u3001`shairport-sync`\u3092\u30d3\u30eb\u30c9\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3067\u3001\u97f3\u58f0\u3068\u6620\u50cf\u304c\u540c\u671f\u3055\u308c\u305f\u72b6\u614b\u3067\u518d\u751f\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u5225\u9014[\u8a18\u4e8b](http://qiita.com/yuyakato/items/600f499cf0610bfc1a16)\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\n## \u95a2\u9023\u8a18\u4e8b\n\n- [Raspberry Pi\u306bshairport-sync\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b - Qiita](http://qiita.com/yuyakato/items/600f499cf0610bfc1a16)\n- [Raspberry Pi\u306e\u5185\u8535\u30aa\u30fc\u30c7\u30a3\u30aa\u30c7\u30d0\u30a4\u30b9\u3092\u7121\u52b9\u5316\u3059\u308b\u65b9\u6cd5 - Qiita](http://qiita.com/yuyakato/items/b617340b0092f30a6873)\n"}