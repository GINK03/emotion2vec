{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nVolley\u3067Cookie\u3092\u8a2d\u5b9a\u3057\u305f\u72b6\u614b\u3067\u8907\u6570\u901a\u4fe1\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3046\u3068\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u901a\u4fe1\u304c\u5931\u6557\u3059\u308b\u5834\u5408\u304c\u3042\u308b\n\n\u8a73\u7d30\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u308b\u3002\n\n10-31 17:37:37.484: E/Volley(2448): java.lang.IllegalStateException: Adapter is detached.\n10-31 17:37:37.484: E/Volley(2448):   at org.apache.http.impl.conn.AbstractPooledConnAdapter.assertAttached(AbstractPooledConnAdapter.java:90)\n10-31 17:37:37.484: E/Volley(2448):   at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:118)\n10-31 17:37:37.484: E/Volley(2448):   at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)\n10-31 17:37:37.484: E/Volley(2448):   at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)\n10-31 17:37:37.484: E/Volley(2448):   at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\n10-31 17:37:37.484: E/Volley(2448):   at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)\n10-31 17:37:37.484: E/Volley(2448):   at com.android.volley.toolbox.HttpClientStack.performRequest(HttpClientStack.java:87)\n10-31 17:37:37.484: E/Volley(2448):   at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:93)\n10-31 17:37:37.484: E/Volley(2448):   at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:110)\n10-31 17:37:37.584: E/Volley(2448): [232] NetworkDispatcher.run: Unhandled exception java.lang.IllegalStateException: No wrapped connection.\n10-31 17:37:37.584: E/Volley(2448): java.lang.IllegalStateException: No wrapped connection.\n10-31 17:37:37.584: E/Volley(2448):   at org.apache.http.impl.conn.AbstractClientConnAdapter.assertValid(AbstractClientConnAdapter.java:163)\n10-31 17:37:37.584: E/Volley(2448):   at org.apache.http.impl.conn.AbstractClientConnAdapter.getRemotePort(AbstractClientConnAdapter.java:314)\n10-31 17:37:37.584: E/Volley(2448):   at org.apache.http.client.protocol.RequestAddCookies.process(RequestAddCookies.java:137)\n10-31 17:37:37.584: E/Volley(2448):   at org.apache.http.protocol.BasicHttpProcessor.process(BasicHttpProcessor.java:290)\n10-31 17:37:37.584: E/Volley(2448):   at org.apache.http.protocol.HttpRequestExecutor.preProcess(HttpRequestExecutor.java:160)\n10-31 17:37:37.584: E/Volley(2448):   at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:408)\n10-31 17:37:37.584: E/Volley(2448):   at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)\n10-31 17:37:37.584: E/Volley(2448):   at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\n10-31 17:37:37.584: E/Volley(2448):   at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)\n10-31 17:37:37.584: E/Volley(2448):   at com.android.volley.toolbox.HttpClientStack.performRequest(HttpClientStack.java:87)\n10-31 17:37:37.584: E/Volley(2448):   at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:93)\n10-31 17:37:37.584: E/Volley(2448):   at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:110)\n\n\n\u89e3\u6c7a\u6cd5\nRequestQueue\u3092\u751f\u6210\u3059\u308b\u6642\u306bthreadPoolSize\u306b1\u3092\u8a2d\u5b9a\u3059\u308b\n\n\u30b5\u30f3\u30d7\u30eb\npublic static RequestQueue newRequestQueue(Context context, HttpStack stack) {\n        File cacheDir = new File(context.getCacheDir(), DEFAULT_CACHE_DIR);\n\n        String userAgent = \"volley/0\";\n        try {\n            String packageName = context.getPackageName();\n            PackageInfo info = context.getPackageManager().getPackageInfo(packageName, 0);\n            userAgent = packageName + \"/\" + info.versionCode;\n        } catch (NameNotFoundException e) {\n        }\n\n        if (stack == null) {\n            if (Build.VERSION.SDK_INT >= 9) {\n                stack = new HurlStack();\n            } else {\n                // Prior to Gingerbread, HttpUrlConnection was unreliable.\n                // See: http://android-developers.blogspot.com/2011/09/androids-http-clients.html\n                stack = new HttpClientStack(AndroidHttpClient.newInstance(userAgent));\n            }\n        }\n\n        Network network = new BasicNetwork(stack);\n\n       RequestQueue queue = new RequestQueue(new DiskBasedCache(cacheDir), network, 1);\n        queue.start();\n\n        return queue;\n}\n\n\nVolley\u30af\u30e9\u30b9\u306enewRequestQueue\u3092\u30b3\u30d4\u30fc\u3057\u3066RequestQueue\u306e\u751f\u6210\u90e8\u5206\u3092\u5909\u3048\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\n\u3069\u3046\u3082Cookie\u8a2d\u5b9a\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u8907\u6570\u306eNetworkDispatchr\u3067\u4f7f\u7528\u3059\u308b\u306e\u306b\u554f\u984c\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u53c2\u7167\n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u901a\u4fe1\u7528\u30e9\u30a4\u30d6\u30e9\u30eaVolley\u3092\u4f7f\u3044\u3053\u306a\u3059\nhttp://techbooster.org/android/hacks/16474/\n\njava.lang.IllegalStateException: Adapter is detached\nhttp://stackoverflow.com/questions/22804643/java-lang-illegalstateexception-adapter-is-detached\n#\u6982\u8981\nVolley\u3067Cookie\u3092\u8a2d\u5b9a\u3057\u305f\u72b6\u614b\u3067\u8907\u6570\u901a\u4fe1\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3046\u3068\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u901a\u4fe1\u304c\u5931\u6557\u3059\u308b\u5834\u5408\u304c\u3042\u308b\n\n#\u8a73\u7d30\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u308b\u3002\n> 10-31 17:37:37.484: E/Volley(2448): java.lang.IllegalStateException: Adapter is detached.\n> 10-31 17:37:37.484: E/Volley(2448): \tat org.apache.http.impl.conn.AbstractPooledConnAdapter.assertAttached(AbstractPooledConnAdapter.java:90)\n> 10-31 17:37:37.484: E/Volley(2448): \tat org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:118)\n> 10-31 17:37:37.484: E/Volley(2448): \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)\n> 10-31 17:37:37.484: E/Volley(2448): \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)\n> 10-31 17:37:37.484: E/Volley(2448): \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\n> 10-31 17:37:37.484: E/Volley(2448): \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)\n> 10-31 17:37:37.484: E/Volley(2448): \tat com.android.volley.toolbox.HttpClientStack.performRequest(HttpClientStack.java:87)\n> 10-31 17:37:37.484: E/Volley(2448): \tat com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:93)\n> 10-31 17:37:37.484: E/Volley(2448): \tat com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:110)\n> 10-31 17:37:37.584: E/Volley(2448): [232] NetworkDispatcher.run: Unhandled exception java.lang.IllegalStateException: No wrapped connection.\n> 10-31 17:37:37.584: E/Volley(2448): java.lang.IllegalStateException: No wrapped connection.\n> 10-31 17:37:37.584: E/Volley(2448): \tat org.apache.http.impl.conn.AbstractClientConnAdapter.assertValid(AbstractClientConnAdapter.java:163)\n> 10-31 17:37:37.584: E/Volley(2448): \tat org.apache.http.impl.conn.AbstractClientConnAdapter.getRemotePort(AbstractClientConnAdapter.java:314)\n> 10-31 17:37:37.584: E/Volley(2448): \tat org.apache.http.client.protocol.RequestAddCookies.process(RequestAddCookies.java:137)\n> 10-31 17:37:37.584: E/Volley(2448): \tat org.apache.http.protocol.BasicHttpProcessor.process(BasicHttpProcessor.java:290)\n> 10-31 17:37:37.584: E/Volley(2448): \tat org.apache.http.protocol.HttpRequestExecutor.preProcess(HttpRequestExecutor.java:160)\n> 10-31 17:37:37.584: E/Volley(2448): \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:408)\n> 10-31 17:37:37.584: E/Volley(2448): \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)\n> 10-31 17:37:37.584: E/Volley(2448): \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\n> 10-31 17:37:37.584: E/Volley(2448): \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)\n> 10-31 17:37:37.584: E/Volley(2448): \tat com.android.volley.toolbox.HttpClientStack.performRequest(HttpClientStack.java:87)\n> 10-31 17:37:37.584: E/Volley(2448): \tat com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:93)\n> 10-31 17:37:37.584: E/Volley(2448): \tat com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:110)\n\n#\u89e3\u6c7a\u6cd5\n*RequestQueue\u3092\u751f\u6210\u3059\u308b\u6642\u306bthreadPoolSize\u306b1\u3092\u8a2d\u5b9a\u3059\u308b*\n\n```lang:\u30b5\u30f3\u30d7\u30eb\npublic static RequestQueue newRequestQueue(Context context, HttpStack stack) {\n        File cacheDir = new File(context.getCacheDir(), DEFAULT_CACHE_DIR);\n\n        String userAgent = \"volley/0\";\n        try {\n            String packageName = context.getPackageName();\n            PackageInfo info = context.getPackageManager().getPackageInfo(packageName, 0);\n            userAgent = packageName + \"/\" + info.versionCode;\n        } catch (NameNotFoundException e) {\n        }\n\n        if (stack == null) {\n            if (Build.VERSION.SDK_INT >= 9) {\n                stack = new HurlStack();\n            } else {\n                // Prior to Gingerbread, HttpUrlConnection was unreliable.\n                // See: http://android-developers.blogspot.com/2011/09/androids-http-clients.html\n                stack = new HttpClientStack(AndroidHttpClient.newInstance(userAgent));\n            }\n        }\n\n        Network network = new BasicNetwork(stack);\n\n       RequestQueue queue = new RequestQueue(new DiskBasedCache(cacheDir), network, 1);\n        queue.start();\n\n        return queue;\n}\n```\nVolley\u30af\u30e9\u30b9\u306enewRequestQueue\u3092\u30b3\u30d4\u30fc\u3057\u3066RequestQueue\u306e\u751f\u6210\u90e8\u5206\u3092\u5909\u3048\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\n\u3069\u3046\u3082Cookie\u8a2d\u5b9a\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u8907\u6570\u306eNetworkDispatchr\u3067\u4f7f\u7528\u3059\u308b\u306e\u306b\u554f\u984c\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\n#\u53c2\u7167\n##\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u901a\u4fe1\u7528\u30e9\u30a4\u30d6\u30e9\u30eaVolley\u3092\u4f7f\u3044\u3053\u306a\u3059\nhttp://techbooster.org/android/hacks/16474/\n##java.lang.IllegalStateException: Adapter is detached\nhttp://stackoverflow.com/questions/22804643/java-lang-illegalstateexception-adapter-is-detached\n", "tags": ["Android", "Volley", "cookie"]}