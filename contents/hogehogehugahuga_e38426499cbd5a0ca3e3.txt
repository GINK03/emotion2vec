{"context": "\u3053\u306e\u8a18\u4e8b\u306fVuls Advent Calendar 2016\u306e\u300113\u65e5\u76ee\u306e\u6295\u7a3f\u3068\u306a\u308a\u307e\u3059\u3002\n7\u65e5\u76ee\u306b\u6a19\u6e96\u5316\u3057\u305f\u3001Vuls/VulsRepo\u306e\u5c0e\u5165\u306e\u8a18\u4e8b\u3092\u6295\u7a3f\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u6982\u8981\n\u666e\u6bb5\u306f\u4f7f\u308f\u306a\u3044\u3051\u308c\u3069\u3082\u3001\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u969b\u306b\u975e\u5e38\u306b\u60a9\u307e\u3057\u3044\u3053\u3068\u306b\u306a\u308b /var/log/vuls \u306e Escape Sequence \u3092\u542b\u3093\u3060\u30ed\u30b0\u3092\u3001\u304d\u308c\u3044\u306b\u3059\u308b\u65b9\u6cd5\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n\u3069\u3046\u3059\u308b\u306e\u304b\nsed\u3067\u5207\u3063\u3066\u3042\u3052\u308c\u3070\u826f\u3044\n\nremove_escape_sequence\n$ cat /var/log/vuls/localhost | sed -r \"s/\\x1B\\[([0-9]{1,2}(;[0-9]{1,2})?)?[m|K]//g\" | more\n\n\n\n\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u305f\u308a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3064\u3044\u3067\u306b\nlogrotate\u767b\u9332\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u3087\u3046\u3002\n\n/etc/roglotate.d/vuls\n/var/log/vuls/* {\n  missingok\n  ifempty\n}\n\n\n\n\u5099\u8003\n\nvuls\u306e\u30ed\u30b0\u306e\u51e6\u7406\u306f\u3001\u7d50\u69cb\u5fd8\u308c\u304c\u3061\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n/etc/logrotate.d/vuls\u8fba\u308a\u3067\u3001\u4ed6\u306e\u30ed\u30b0\u3068\u540c\u3058\u3088\u3046\u306b\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3057\u307e\u3057\u3087\u3046\u3002\n\n\n\u305d\u3082\u305d\u3082\u3001\u30c8\u30e9\u30d6\u30eb\u4ee5\u5916\u3067Vuls\u306e\u904e\u53bb\u306e\u30ed\u30b0\u898b\u308b\u5fc5\u8981\u306f\u7121\u3044\u304b\u3082\u2026\n\n\nREADME.md\u901a\u308a\u4f5c\u308c\u3070\u3001\u30a2\u30af\u30bb\u30b9\u6a29\u306f\u4e00\u5fdc\u30bb\u30ad\u30e5\u30a2\u306b\u3067\u304d\u308b\n\n\n/var/log/vuls\n\n\nvuls:vuls 700\n\n\n/var/log/vuls/report.log\n\n\nvuls:vuls 600\n\n\n/var/log/vuls/* (report.log\u4ee5\u5916)\n\n\nvuls:vuls 664\n\n\n\n\n\n\n\n\u3053\u306e\u8a18\u4e8b\u306f[Vuls Advent Calendar 2016](http://qiita.com/advent-calendar/2016/vuls)\u306e\u300113\u65e5\u76ee\u306e\u6295\u7a3f\u3068\u306a\u308a\u307e\u3059\u3002\n\n7\u65e5\u76ee\u306b[\u6a19\u6e96\u5316\u3057\u305f\u3001Vuls/VulsRepo\u306e\u5c0e\u5165](https://qiita.com/drafts/239c0ad02ac409e34f12)\u306e\u8a18\u4e8b\u3092\u6295\u7a3f\u3057\u3066\u3044\u307e\u3059\u3002\n\n# \u6982\u8981\n\n\u666e\u6bb5\u306f\u4f7f\u308f\u306a\u3044\u3051\u308c\u3069\u3082\u3001\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u969b\u306b\u975e\u5e38\u306b\u60a9\u307e\u3057\u3044\u3053\u3068\u306b\u306a\u308b /var/log/vuls \u306e **Escape Sequence** \u3092\u542b\u3093\u3060\u30ed\u30b0\u3092\u3001\u304d\u308c\u3044\u306b\u3059\u308b\u65b9\u6cd5\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n# \u3069\u3046\u3059\u308b\u306e\u304b\n\nsed\u3067\u5207\u3063\u3066\u3042\u3052\u308c\u3070\u826f\u3044\n\n```bash:remove_escape_sequence\n$ cat /var/log/vuls/localhost | sed -r \"s/\\x1B\\[([0-9]{1,2}(;[0-9]{1,2})?)?[m|K]//g\" | more\n```\n\n![remove-esc.png](https://qiita-image-store.s3.amazonaws.com/0/124868/4a04579e-11fd-63d0-a042-9c87288b7641.png)\n\n\n\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u305f\u308a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \u3064\u3044\u3067\u306b\n\nlogrotate\u767b\u9332\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u3087\u3046\u3002\n\n```text:/etc/roglotate.d/vuls\n/var/log/vuls/* {\n  missingok\n  ifempty\n}\n```\n\n# \u5099\u8003\n\n- vuls\u306e\u30ed\u30b0\u306e\u51e6\u7406\u306f\u3001\u7d50\u69cb\u5fd8\u308c\u304c\u3061\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n    - /etc/logrotate.d/vuls\u8fba\u308a\u3067\u3001\u4ed6\u306e\u30ed\u30b0\u3068\u540c\u3058\u3088\u3046\u306b\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3057\u307e\u3057\u3087\u3046\u3002\n        - \u305d\u3082\u305d\u3082\u3001\u30c8\u30e9\u30d6\u30eb\u4ee5\u5916\u3067Vuls\u306e\u904e\u53bb\u306e\u30ed\u30b0\u898b\u308b\u5fc5\u8981\u306f\u7121\u3044\u304b\u3082\u2026\n    - README.md\u901a\u308a\u4f5c\u308c\u3070\u3001\u30a2\u30af\u30bb\u30b9\u6a29\u306f\u4e00\u5fdc\u30bb\u30ad\u30e5\u30a2\u306b\u3067\u304d\u308b\n        - /var/log/vuls\n            - vuls:vuls 700\n        - /var/log/vuls/report.log\n            - vuls:vuls 600\n        - /var/log/vuls/* (report.log\u4ee5\u5916)\n            - vuls:vuls 664\n", "tags": ["vuls"]}