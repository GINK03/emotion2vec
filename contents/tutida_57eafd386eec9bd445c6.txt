{"context": " More than 1 year has passed since last update.cakephp3\u306b\u306fPhinx\u306emigrations\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5165\u3063\u3066\u307e\u3059\u3002\ncakephp2\u306e\u9803\u3068\u6bd4\u3079\u308b\u3068\u6027\u8cea\u304c\u7570\u306a\u308b\u306e\u3067\u4f7f\u7528\u3067\u304d\u308b\u30b3\u30de\u30f3\u30c9\u307e\u3068\u3081\u5099\u5fd8\u9332\u3002\n\n\u30b3\u30de\u30f3\u30c9\u4e00\u89a7\n\nphp bin/cake.php migrations\u306e\u5834\u5408\n\n\nphp bin/cake.php migrations create HogeHoge\n\u300chogehoge\u300d\u3068\u3044\u3046\u540d\u524d\u306emigration\u30d5\u30a1\u30a4\u30eb\u306e\u96db\u5f62\u3092\u4f5c\u6210\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u3053\u3093\u306a\u306e\u3002\u5f15\u6570\u306f\u30ad\u30e3\u30e1\u30eb\u3058\u3083\u306a\u3044\u3068\u6012\u3089\u308c\u308b\u3088!\n\n<?php\nuse Phinx\\Migration\\AbstractMigration;\nclass HogeHoge extends AbstractMigration\n{\n    /**\n     * Change Method.\n     *\n     * Write your reversible migrations using this method.\n     *\n     * More information on writing migrations is available here:\n     * http://docs.phinx.org/en/latest/migrations.html#the-abstractmigration-class\n     */\n    public function change()\n    {\n    }\n}\n\n\n\nphp bin/cake.php migrations migrate\n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092DB\u306b\u9069\u7528\u3057\u307e\u3059\u3002\n\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\u6700\u65b0\u72b6\u614b\u307e\u3067\u3002\nmigrate -t [Migration ID]\u3067\u6307\u5b9a\u3057\u305f\u6bb5\u968e\u307e\u3067\u9069\u7528\u3057\u307e\u3059\u3002\n\nphp bin/cake.php migrations rollback\n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u9006\u623b\u308a\u3057\u307e\u3059\u3002\n\u57fa\u672c\u306f\u4e00\u6bb5\u968e\u305a\u3064\u4e0b\u304c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u3053\u3061\u3089\u3082rollback -t [Migration ID]\u3067\u6307\u5b9a\u3057\u305f\u6bb5\u968e\u307e\u3067\u9069\u7528\u3057\u307e\u3059\u3002\n\nphp bin/cake.php migrations status\n\u73fe\u5728\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3068DB\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u3053\u3093\u306a\u611f\u3058\u3001\u5206\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u306d\u3002\n\n Status  Migration ID    Migration Name\n-----------------------------------------\n     up  20151102022648  Initial\n     up  20151102083415  AddPriceToDomains\n     up  20151102085014  AddConfigToDomains\n   down  20151102092745  HogeHoge\n\n\n\nphp bin/cake.php migrations mark_migrated\n\u3053\u308c\u304c\u9762\u767d\u3044\u3002\nmark_migrated [Migration ID]\u3067\u6307\u5b9a\u3057\u305f\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u9069\u7528\u3057\u305f\u3053\u3068\u306b\u3057\u307e\u3059\u3002\nCake\u5074\u3067\u306f\u9069\u7528\u3057\u305f\u3064\u3082\u308a\u3067\u3059\u304c\u3001DB\u306b\u306f\u5b9f\u969b\u306b\u306f\u53cd\u6620\u3055\u308c\u3066\u3044\u306a\u3044\u72b6\u6cc1\u306b\u306a\u308a\u307e\u3059\u3002\n\u305f\u3068\u3048\u3070\u3001\u3053\u3093\u306a\u72b6\u6cc1\u3067\u3002\n\n Status  Migration ID    Migration Name\n-----------------------------------------\n   down  20151102022648  Initial\n   down  20151102083415  AddPriceToDomains\n   down  20151102085014  AddConfigToDomains\n   down  20151102092745  HogeHoge\n\nphp bin/cake.php migrations mark_migrated 20151102085014\u3067\n\u3053\u3046\u306a\u308a\u307e\u3059\u3002\n Status  Migration ID    Migration Name\n-----------------------------------------\n   down  20151102022648  Initial\n   down  20151102083415  AddPriceToDomains\n     up  20151102085014  AddConfigToDomains\n   down  20151102092745  HogeHoge\n\n\nDB\u3092\u5148\u306b\u3044\u3058\u3063\u3066\u5f8c\u304b\u3089Migration\u3092\u66f8\u3044\u305f\u3068\u304d\u3068\u304b\u306b\u4f7f\u3048\u305d\u3046\u3002\n\nphp bin/cake.php  bake\u306e\u5834\u5408\nbake\u30b3\u30de\u30f3\u30c9\u306b\u30822\u3064\u307b\u3069\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u95a2\u4fc2\u3059\u308b\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308a\u307e\u3059\u3002\n\n\nphp bin/cake.php  bake migrate\n\u57fa\u672c\u306f\u524d\u8ff0\u306ecreate\u3068\u4e00\u7dd2\u3002\u305f\u3060\u5f15\u6570\u306f\u30ad\u30e3\u30e1\u30eb\u3058\u3083\u306a\u304f\u3067\u3082\u5927\u4e08\u592b\n\u305d\u308c\u3068\u4f8b\u3048\u3070\u3001\nphp bin/cake.php migrations create AddConfigToDomains price:decimal\u3068\u6253\u3064\u3068\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3068\u3053\u308d\u307e\u3067\u3072\u306a\u5f62\u3092\u4f5c\u3063\u3066\u304f\u308c\u307e\u3059\u3002\uff08\u8907\u6570\u306b\u306f\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u3054\u69d8\u5b50\u3002\n\n<?php\nuse Migrations\\AbstractMigration;\nclass AddPriceToDomains extends AbstractMigration\n{\n    /**\n     * Change Method.\n     *\n     * More information on this method is available here:\n     * http://docs.phinx.org/en/latest/migrations.html#the-change-method\n     * @return void\n     */\n    public function change()\n    {\n        $table = $this->table('domains');\n        $table->addColumn('price', 'decimal', [\n            'default' => null,\n            'null' => false,\n        ]);\n        $table->update();\n    }\n}\n\n\n\nphp bin/cake.php  bake migration_snapshot\n\u73fe\u5728\u306eDB\u306e\u72b6\u6cc1\u3092\u305d\u306e\u307e\u307eMigration\u30d5\u30a1\u30a4\u30eb\u306b\u3057\u3066\u304f\u308c\u307e\u3059\u3002\nCakephp2\u306e\u3053\u308d\u306e\u6700\u521d\u306egenerate -f\u3068\u4f3c\u3066\u3044\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001\u672c\u5f53\u306bDB\u306e\u305d\u306e\u307e\u307e\u3092Migration\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u308b\u306e\u3067\u3001\u4f7f\u3048\u3066\u6700\u521d\u3060\u3051\u304b\u306a\u3068\u3002\n\u5dee\u5206\u3092\u53d6\u3063\u3066\u3001Migration\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u304f\u308c\u305f\u308a\u306f\u3057\u307e\u305b\u3093\u3002\n\ncakephp3\u306b\u306fPhinx\u306emigrations\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5165\u3063\u3066\u307e\u3059\u3002\ncakephp2\u306e\u9803\u3068\u6bd4\u3079\u308b\u3068\u6027\u8cea\u304c\u7570\u306a\u308b\u306e\u3067\u4f7f\u7528\u3067\u304d\u308b\u30b3\u30de\u30f3\u30c9\u307e\u3068\u3081\u5099\u5fd8\u9332\u3002\n\n## \u30b3\u30de\u30f3\u30c9\u4e00\u89a7\n\n### `php bin/cake.php migrations `\u306e\u5834\u5408\n\n* `php bin/cake.php migrations create HogeHoge`  \n\u300chogehoge\u300d\u3068\u3044\u3046\u540d\u524d\u306emigration\u30d5\u30a1\u30a4\u30eb\u306e\u96db\u5f62\u3092\u4f5c\u6210\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u3053\u3093\u306a\u306e\u3002\u5f15\u6570\u306f\u30ad\u30e3\u30e1\u30eb\u3058\u3083\u306a\u3044\u3068\u6012\u3089\u308c\u308b\u3088!\n\n```php\n<?php\nuse Phinx\\Migration\\AbstractMigration;\nclass HogeHoge extends AbstractMigration\n{\n    /**\n     * Change Method.\n     *\n     * Write your reversible migrations using this method.\n     *\n     * More information on writing migrations is available here:\n     * http://docs.phinx.org/en/latest/migrations.html#the-abstractmigration-class\n     */\n    public function change()\n    {\n    }\n}\n```\n* `php bin/cake.php migrations migrate`  \n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092DB\u306b\u9069\u7528\u3057\u307e\u3059\u3002\n\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\u6700\u65b0\u72b6\u614b\u307e\u3067\u3002\n`migrate -t [Migration ID]`\u3067\u6307\u5b9a\u3057\u305f\u6bb5\u968e\u307e\u3067\u9069\u7528\u3057\u307e\u3059\u3002\n* `php bin/cake.php migrations rollback`  \n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u9006\u623b\u308a\u3057\u307e\u3059\u3002\n\u57fa\u672c\u306f\u4e00\u6bb5\u968e\u305a\u3064\u4e0b\u304c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u3053\u3061\u3089\u3082`rollback -t [Migration ID]`\u3067\u6307\u5b9a\u3057\u305f\u6bb5\u968e\u307e\u3067\u9069\u7528\u3057\u307e\u3059\u3002\n* `php bin/cake.php migrations status`  \n\u73fe\u5728\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3068DB\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u3053\u3093\u306a\u611f\u3058\u3001\u5206\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u306d\u3002\n\n```\n Status  Migration ID    Migration Name\n-----------------------------------------\n     up  20151102022648  Initial\n     up  20151102083415  AddPriceToDomains\n     up  20151102085014  AddConfigToDomains\n   down  20151102092745  HogeHoge\n```\n\n* `php bin/cake.php migrations mark_migrated`  \n\u3053\u308c\u304c\u9762\u767d\u3044\u3002\n`mark_migrated [Migration ID]`\u3067\u6307\u5b9a\u3057\u305f\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092**\u9069\u7528\u3057\u305f\u3053\u3068**\u306b\u3057\u307e\u3059\u3002\nCake\u5074\u3067\u306f\u9069\u7528\u3057\u305f\u3064\u3082\u308a\u3067\u3059\u304c\u3001**DB\u306b\u306f\u5b9f\u969b\u306b\u306f\u53cd\u6620\u3055\u308c\u3066\u3044\u306a\u3044**\u72b6\u6cc1\u306b\u306a\u308a\u307e\u3059\u3002\n\u305f\u3068\u3048\u3070\u3001\u3053\u3093\u306a\u72b6\u6cc1\u3067\u3002\n\n```\n Status  Migration ID    Migration Name\n-----------------------------------------\n   down  20151102022648  Initial\n   down  20151102083415  AddPriceToDomains\n   down  20151102085014  AddConfigToDomains\n   down  20151102092745  HogeHoge\n```\n\n`php bin/cake.php migrations mark_migrated 20151102085014`\u3067\n\n\u3053\u3046\u306a\u308a\u307e\u3059\u3002\n\n```\n Status  Migration ID    Migration Name\n-----------------------------------------\n   down  20151102022648  Initial\n   down  20151102083415  AddPriceToDomains\n     up  20151102085014  AddConfigToDomains\n   down  20151102092745  HogeHoge\n\n```\nDB\u3092\u5148\u306b\u3044\u3058\u3063\u3066\u5f8c\u304b\u3089Migration\u3092\u66f8\u3044\u305f\u3068\u304d\u3068\u304b\u306b\u4f7f\u3048\u305d\u3046\u3002\n\n### `php bin/cake.php  bake`\u306e\u5834\u5408\nbake\u30b3\u30de\u30f3\u30c9\u306b\u30822\u3064\u307b\u3069\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u95a2\u4fc2\u3059\u308b\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308a\u307e\u3059\u3002\n\n* `php bin/cake.php  bake migrate`  \n\u57fa\u672c\u306f\u524d\u8ff0\u306e`create`\u3068\u4e00\u7dd2\u3002\u305f\u3060\u5f15\u6570\u306f\u30ad\u30e3\u30e1\u30eb\u3058\u3083\u306a\u304f\u3067\u3082\u5927\u4e08\u592b\n\u305d\u308c\u3068\u4f8b\u3048\u3070\u3001\n`php bin/cake.php migrations create AddConfigToDomains price:decimal`\u3068\u6253\u3064\u3068\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3068\u3053\u308d\u307e\u3067\u3072\u306a\u5f62\u3092\u4f5c\u3063\u3066\u304f\u308c\u307e\u3059\u3002\uff08\u8907\u6570\u306b\u306f\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u3054\u69d8\u5b50\u3002\n\n```php\n<?php\nuse Migrations\\AbstractMigration;\nclass AddPriceToDomains extends AbstractMigration\n{\n    /**\n     * Change Method.\n     *\n     * More information on this method is available here:\n     * http://docs.phinx.org/en/latest/migrations.html#the-change-method\n     * @return void\n     */\n    public function change()\n    {\n        $table = $this->table('domains');\n        $table->addColumn('price', 'decimal', [\n            'default' => null,\n            'null' => false,\n        ]);\n        $table->update();\n    }\n}\n```\n\n* `php bin/cake.php  bake migration_snapshot`  \n\u73fe\u5728\u306eDB\u306e\u72b6\u6cc1\u3092\u305d\u306e\u307e\u307eMigration\u30d5\u30a1\u30a4\u30eb\u306b\u3057\u3066\u304f\u308c\u307e\u3059\u3002\nCakephp2\u306e\u3053\u308d\u306e\u6700\u521d\u306e`generate -f`\u3068\u4f3c\u3066\u3044\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001\u672c\u5f53\u306bDB\u306e\u305d\u306e\u307e\u307e\u3092Migration\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u308b\u306e\u3067\u3001\u4f7f\u3048\u3066\u6700\u521d\u3060\u3051\u304b\u306a\u3068\u3002\n\u5dee\u5206\u3092\u53d6\u3063\u3066\u3001Migration\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u304f\u308c\u305f\u308a\u306f\u3057\u307e\u305b\u3093\u3002\n", "tags": ["PHP", "cakephp3"]}