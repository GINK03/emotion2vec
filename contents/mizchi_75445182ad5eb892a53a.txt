{"context": " More than 1 year has passed since last update.http, \u3042\u3093\u307e\u308a\u4f7f\u3063\u305f\u3053\u3068\u306a\u304b\u3063\u305f\nhttp = require 'http'\nfs = require 'fs'\npath = require 'path'\n\ndownload = (url) ->\n  wstream = fs.createWriteStream path.basename url\n  http.get url, (res) ->\n    res.pipe wstream # pipe to write stream\n\n    # progress\n    size = res.headers['content-length']\n    currentLength = 0\n    res.on 'data', (d) ->\n      currentLength += d.length\n      console.log currentLength/size\n    res.on 'end', -> console.log 'done'\n    res.on 'error', -> console.log 'error'\n\ndownload 'http://www.washingtonbeerblog.com/wp-content/uploads/2012/10/crash_test1.jpg'\n\n0.012801818415748166\n0.14808937684950893\n0.16312132778659347\n0.178153278723678\n0.19318522966076254\n0.20821718059784705\n0.2232491315349316\n0.2683449843461852\n0.28337693528326974\n0.34350473903160783\n0.3735686409057769\n0.38860059184286144\n0.403632542779946\n0.4186644937170305\n0.433696444654115\n0.4787922974653686\n0.49382424840245315\n0.5088561993395376\n0.5389201012137067\n0.5689840030878758\n0.5840159540249603\n0.6291118068362139\n0.6441437577732985\n0.6742076596474675\n0.6892396105845521\n0.7193035124587212\n0.7343354633958057\n0.8094952180812283\n0.8395591199553973\n0.8545910708924819\n0.884654972766651\n0.91471887464082\n0.9598147274520736\n1\ndone\n\n\nhttp, \u3042\u3093\u307e\u308a\u4f7f\u3063\u305f\u3053\u3068\u306a\u304b\u3063\u305f\n\n```coffee\nhttp = require 'http'\nfs = require 'fs'\npath = require 'path'\n\ndownload = (url) ->\n  wstream = fs.createWriteStream path.basename url\n  http.get url, (res) ->\n    res.pipe wstream # pipe to write stream\n\n    # progress\n    size = res.headers['content-length']\n    currentLength = 0\n    res.on 'data', (d) ->\n      currentLength += d.length\n      console.log currentLength/size\n    res.on 'end', -> console.log 'done'\n    res.on 'error', -> console.log 'error'\n\ndownload 'http://www.washingtonbeerblog.com/wp-content/uploads/2012/10/crash_test1.jpg'\n```\n\n```js\n0.012801818415748166\n0.14808937684950893\n0.16312132778659347\n0.178153278723678\n0.19318522966076254\n0.20821718059784705\n0.2232491315349316\n0.2683449843461852\n0.28337693528326974\n0.34350473903160783\n0.3735686409057769\n0.38860059184286144\n0.403632542779946\n0.4186644937170305\n0.433696444654115\n0.4787922974653686\n0.49382424840245315\n0.5088561993395376\n0.5389201012137067\n0.5689840030878758\n0.5840159540249603\n0.6291118068362139\n0.6441437577732985\n0.6742076596474675\n0.6892396105845521\n0.7193035124587212\n0.7343354633958057\n0.8094952180812283\n0.8395591199553973\n0.8545910708924819\n0.884654972766651\n0.91471887464082\n0.9598147274520736\n1\ndone\n```\n", "tags": ["Node"]}