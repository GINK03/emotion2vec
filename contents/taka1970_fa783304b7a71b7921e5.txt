{"context": " More than 1 year has passed since last update.\n\nRabbit MQ\u306e\u5c0e\u5165\nRabbitMQ\u3092\u5c0e\u5165\u3057\u3066\u975e\u540c\u671f\u30ad\u30e5\u30fc\u306e\u30c6\u30b9\u30c8\u3067\u3082\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u7acb\u3061\u3001\u5c0e\u5165\u3057\u3066\u307f\u305f\u3002\n\n\u524d\u63d0\u6761\u4ef6\n\u524d\u63d0\u6761\u4ef6\u306bErlang\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001\u305d\u3053\u304b\u3089\u3002\n\nErlang\u306eRPM\u53d6\u5f97\nwget \"http://packages.erlang-solutions.com/site/esl/esl-erlang/FLAVOUR_1_general/esl-erlang_15.b.3-1~fedora~beefymiracle_amd64.rpm\"\nwget \"https://github.com/jasonmcintosh/esl-erlang-compat/blob/master/rpmbuild/RPMS/noarch/esl-erlang-compat-R14B-1.el6.noarch.rpm?raw=true\"\n\n\u3053\u308c\u3092yum \u3067\u5c0e\u5165\u3057\u3001Erlang\u306f\u7d42\u4e86\u3002\n yum install esl-erlang_15.b.3-1~fedora~beefymiracle_amd64.rpm\n yum install esl-erlang-compat-R14B-1.el6.noarch.rpm\n\n\nRabbitMQ \u306e\u5c0e\u5165\nyum install http://www.rabbitmq.com/releases/rabbitmq-server/v3.3.4/rabbitmq-server-3.3.4-1.noarch.rpm\n\n\nRabbitMQ \u306e\u8a2d\u5b9a\n\n\u3072\u306a\u578b\u306e\u30b3\u30d4\u30fc\n\u3088\u304f\u3042\u308b\u30d1\u30bf\u30fc\u30f3\u3068\u3057\u3066\u3001\u3072\u306a\u578b\u304c\u3042\u308b\u306e\u3067\u307e\u305a\u30b3\u30d4\u30fc\u3057\u3066\u8a2d\u5b9a\u3057\u3066\u3044\u304f\u3002\ncp -a /usr/share/doc/rabbitmq-server-3.3.4/rabbitmq.config.example /etc/rabbitmq/rabbitmq.config\n\n\u904b\u7528\u6642\u306b\u306f\u30ec\u30d9\u30eb\u3092\u5909\u3048\u305f\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u30c1\u30a7\u30c3\u30af\u3002\n\n{log_levels, [{connection, info}]},\n\n\u306f\u30ed\u30b0\u3092\u8868\u3057\u3066\u3044\u3066\u3001info\u304c\u30ec\u30d9\u30eb\uff08none/error/warning/info\uff09\u3092\u8868\u3057\u3066\u3044\u308b\u3002\n\u30ed\u30b0\u306f\u3001/var/log/rabbitmq\u306b\u3042\u308b\u3002\n\n\u52d5\u4f5c\u78ba\u8a8d\nJava\u306eClient\u30c4\u30fc\u30eb\u3092\u5c0e\u5165\u3057\u3001\u30c6\u30b9\u30c8\u30c4\u30fc\u30eb\u3067\u52d5\u4f5c\u78ba\u8a8d\u3092\u304a\u3053\u306a\u3046\u3002\nwget \"http://www.rabbitmq.com/releases/rabbitmq-java-client/v3.3.4/rabbitmq-java-client-bin-3.3.4.tar.gz\"\ntar zxf rabbitmq-java-client-bin-3.3.4.tar.gz\n\n\u89e3\u51cd\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u3067\u3001PerfTest\u3092\u5b9f\u884c\u3057\u3066\u78ba\u8a8d\u3002\n./runjava.sh com.rabbitmq.examples.PerfTest\nstarting consumer #0\nstarting producer #0\ntime: 1.001s, sent: 4874 msg/s, received: 3028 msg/s, min/avg/max latency: 3132/81769/204803 microseconds\ntime: 2.001s, sent: 17897 msg/s, received: 6538 msg/s, min/avg/max latency: 216676/503751/640297 microseconds\ntime: 3.001s, sent: 10706 msg/s, received: 10953 msg/s, min/avg/max latency: 494052/926855/1224386 microseconds\n\n\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u3044\u308c\u3070Queue\u306f\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3002\n--help\u3067\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d8\u30eb\u30d7\u304c\u5f97\u3089\u308c\u308b\u3002\n -?,--help                  show usage\n -A,--multiAckEvery <arg>   multi ack every\n -a,--autoack               auto ack\n -b,--heartbeat <arg>       heartbeat interval\n -c,--confirm <arg>         max unconfirmed publishes\n -C,--pmessages <arg>       producer message count\n -D,--cmessages <arg>       consumer message count\n -e,--exchange <arg>        exchange name\n -f,--flag <arg>            message flag\n -h,--uri <arg>             AMQP URI\n -i,--interval <arg>        sampling interval\n -k,--routingKey <arg>      routing key\n -M,--framemax <arg>        frame max\n -m,--ptxsize <arg>         producer tx size\n -n,--ctxsize <arg>         consumer tx size\n -p,--predeclared           allow use of predeclared objects\n -Q,--globalQos <arg>       channel prefetch count\n -q,--qos <arg>             consumer prefetch count\n -r,--rate <arg>            rate limit\n -s,--size <arg>            message size\n -t,--type <arg>            exchange type\n -u,--queue <arg>           queue name\n -x,--producers <arg>       producer count\n -y,--consumers <arg>       consumer count\n -z,--time <arg>            time limit\n\n\nWeb\u3067\u306e\u7ba1\u7406\u30c4\u30fc\u30eb\n/usr/lib/rabbitmq/bin/rabbitmq-plugins enable rabbitmq_shovel\n/usr/lib/rabbitmq/bin/rabbitmq-plugins enable rabbitmq_management\n/usr/lib/rabbitmq/bin/rabbitmq-plugins enable rabbitmq_shovel_management\n/etc/init.d/rabbitmq-server restart\n\n\u7ba1\u7406\u30c4\u30fc\u30eb\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\nrabbitmqctl -n rabbit@localhost add_user admin admin\nrabbitmqctl -n rabbit@localhost set_permissions admin \".*\" \".*\" \".*\"\nrabbitmqctl -n rabbit@localhost set_user_tags admin administrator\n\n\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u30e6\u30fc\u30b6\u3092\u767b\u9332\uff08admin/admin\uff09\u306b\u3057\u3066\u3001\u4ee5\u4e0b\u306eURL\u3067\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\nhttp://hostname:15672/\n\n#Rabbit MQ\u306e\u5c0e\u5165\nRabbitMQ\u3092\u5c0e\u5165\u3057\u3066\u975e\u540c\u671f\u30ad\u30e5\u30fc\u306e\u30c6\u30b9\u30c8\u3067\u3082\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u7acb\u3061\u3001\u5c0e\u5165\u3057\u3066\u307f\u305f\u3002\n\n##\u524d\u63d0\u6761\u4ef6\n\u524d\u63d0\u6761\u4ef6\u306bErlang\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001\u305d\u3053\u304b\u3089\u3002\n\n### Erlang\u306eRPM\u53d6\u5f97\n\n```\nwget \"http://packages.erlang-solutions.com/site/esl/esl-erlang/FLAVOUR_1_general/esl-erlang_15.b.3-1~fedora~beefymiracle_amd64.rpm\"\nwget \"https://github.com/jasonmcintosh/esl-erlang-compat/blob/master/rpmbuild/RPMS/noarch/esl-erlang-compat-R14B-1.el6.noarch.rpm?raw=true\"\n```\n\n\u3053\u308c\u3092yum \u3067\u5c0e\u5165\u3057\u3001Erlang\u306f\u7d42\u4e86\u3002\n\n\n```\n yum install esl-erlang_15.b.3-1~fedora~beefymiracle_amd64.rpm\n yum install esl-erlang-compat-R14B-1.el6.noarch.rpm\n```\n\n### RabbitMQ \u306e\u5c0e\u5165\n\n```\nyum install http://www.rabbitmq.com/releases/rabbitmq-server/v3.3.4/rabbitmq-server-3.3.4-1.noarch.rpm\n```\n\n## RabbitMQ \u306e\u8a2d\u5b9a\n\n### \u3072\u306a\u578b\u306e\u30b3\u30d4\u30fc\n\u3088\u304f\u3042\u308b\u30d1\u30bf\u30fc\u30f3\u3068\u3057\u3066\u3001\u3072\u306a\u578b\u304c\u3042\u308b\u306e\u3067\u307e\u305a\u30b3\u30d4\u30fc\u3057\u3066\u8a2d\u5b9a\u3057\u3066\u3044\u304f\u3002\n\n```\ncp -a /usr/share/doc/rabbitmq-server-3.3.4/rabbitmq.config.example /etc/rabbitmq/rabbitmq.config\n```\n\n\u904b\u7528\u6642\u306b\u306f\u30ec\u30d9\u30eb\u3092\u5909\u3048\u305f\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u30c1\u30a7\u30c3\u30af\u3002\n```\n{log_levels, [{connection, info}]},\n```\n\u306f\u30ed\u30b0\u3092\u8868\u3057\u3066\u3044\u3066\u3001info\u304c\u30ec\u30d9\u30eb\uff08none/error/warning/info\uff09\u3092\u8868\u3057\u3066\u3044\u308b\u3002\n\n\u30ed\u30b0\u306f\u3001/var/log/rabbitmq\u306b\u3042\u308b\u3002\n\n## \u52d5\u4f5c\u78ba\u8a8d\nJava\u306eClient\u30c4\u30fc\u30eb\u3092\u5c0e\u5165\u3057\u3001\u30c6\u30b9\u30c8\u30c4\u30fc\u30eb\u3067\u52d5\u4f5c\u78ba\u8a8d\u3092\u304a\u3053\u306a\u3046\u3002\n\n```\nwget \"http://www.rabbitmq.com/releases/rabbitmq-java-client/v3.3.4/rabbitmq-java-client-bin-3.3.4.tar.gz\"\ntar zxf rabbitmq-java-client-bin-3.3.4.tar.gz\n```\n\n\u89e3\u51cd\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u3067\u3001PerfTest\u3092\u5b9f\u884c\u3057\u3066\u78ba\u8a8d\u3002\n\n```\n./runjava.sh com.rabbitmq.examples.PerfTest\nstarting consumer #0\nstarting producer #0\ntime: 1.001s, sent: 4874 msg/s, received: 3028 msg/s, min/avg/max latency: 3132/81769/204803 microseconds\ntime: 2.001s, sent: 17897 msg/s, received: 6538 msg/s, min/avg/max latency: 216676/503751/640297 microseconds\ntime: 3.001s, sent: 10706 msg/s, received: 10953 msg/s, min/avg/max latency: 494052/926855/1224386 microseconds\n```\n\n\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u3044\u308c\u3070Queue\u306f\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3002\n--help\u3067\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d8\u30eb\u30d7\u304c\u5f97\u3089\u308c\u308b\u3002\n\n```\n -?,--help                  show usage\n -A,--multiAckEvery <arg>   multi ack every\n -a,--autoack               auto ack\n -b,--heartbeat <arg>       heartbeat interval\n -c,--confirm <arg>         max unconfirmed publishes\n -C,--pmessages <arg>       producer message count\n -D,--cmessages <arg>       consumer message count\n -e,--exchange <arg>        exchange name\n -f,--flag <arg>            message flag\n -h,--uri <arg>             AMQP URI\n -i,--interval <arg>        sampling interval\n -k,--routingKey <arg>      routing key\n -M,--framemax <arg>        frame max\n -m,--ptxsize <arg>         producer tx size\n -n,--ctxsize <arg>         consumer tx size\n -p,--predeclared           allow use of predeclared objects\n -Q,--globalQos <arg>       channel prefetch count\n -q,--qos <arg>             consumer prefetch count\n -r,--rate <arg>            rate limit\n -s,--size <arg>            message size\n -t,--type <arg>            exchange type\n -u,--queue <arg>           queue name\n -x,--producers <arg>       producer count\n -y,--consumers <arg>       consumer count\n -z,--time <arg>            time limit\n```\n\n# Web\u3067\u306e\u7ba1\u7406\u30c4\u30fc\u30eb\n\n```\n/usr/lib/rabbitmq/bin/rabbitmq-plugins enable rabbitmq_shovel\n/usr/lib/rabbitmq/bin/rabbitmq-plugins enable rabbitmq_management\n/usr/lib/rabbitmq/bin/rabbitmq-plugins enable rabbitmq_shovel_management\n/etc/init.d/rabbitmq-server restart\n```\n\u7ba1\u7406\u30c4\u30fc\u30eb\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\n```\nrabbitmqctl -n rabbit@localhost add_user admin admin\nrabbitmqctl -n rabbit@localhost set_permissions admin \".*\" \".*\" \".*\"\nrabbitmqctl -n rabbit@localhost set_user_tags admin administrator\n```\n\n\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u30e6\u30fc\u30b6\u3092\u767b\u9332\uff08admin/admin\uff09\u306b\u3057\u3066\u3001\u4ee5\u4e0b\u306eURL\u3067\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\nhttp://hostname:15672/\n\n![WS000058.JPG](https://qiita-image-store.s3.amazonaws.com/0/41582/c36148be-b478-9732-9171-1e70f35b2c46.jpeg)\n\n\n", "tags": ["\u975e\u540c\u671f", "MOM", "RabbitMQ"]}