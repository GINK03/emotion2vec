{"context": " More than 1 year has passed since last update.\u554f\u984c\u306f\u3053\u3061\u3089\nhttp://nabetani.sakura.ne.jp/hena/ord19sanwa/\n\u4ed6\u306e\u65b9\u3005\u306e\u56de\u7b54\u306f\u3053\u3061\u3089\nhttp://qiita.com/Nabetani/items/0a711729fdea28b1c30b\n\u9ad8\u901f\u5316\u7248:\nfrom itertools import chain, combinations_with_replacement as combi_r\n\ndef solve(d):\n    n=map(int, d.split(','))\n    s=set(n)\n    a=[(x,y,z)\n       for x in xrange(1, n[0]+1)\n       for y in xrange(x, n[-1]+1)\n       for z in xrange(max(y, n[-1]/3), n[-1]+1)\n       if s == s&{sum(c) for c in chain(*[combi_r((x,y,z), r) for r in (1,2,3)])}]\n    return not a and 'none' or a[1:] and 'many' or ','.join(map(str, a[0]))\n\n\u6700\u521d\u306e\u5b9f\u88c5:\nfrom itertools import *\n\ndef solve(d):\n    n=map(int, d.split(','))\n    s=set(n)\n    a=[(x,y,z)\n       for x in xrange(1, n[0]+1)\n       for y in xrange(x, n[-1]+1)\n       for z in xrange(y, n[-1]+1)\n       if s == s&{sum(p) for p in chain(*[product((x,y,z), repeat=r) for r in (1,2,3)])}]\n    return not a and 'none' or len(a)>1 and 'many' or ','.join(map(str, a[0]))\n\ndef test(data, correct):\n    answer = solve(data)\n    print 'xo'[answer == correct], data, correct, answer\n\n0, test( \"3,11,12,102,111,120\", \"1,10,100\" );\n1, test( \"10,20,30,35,70\", \"many\" );\n2, test( \"1,5,20,80\", \"none\" );\n3, test( \"1,2,3,4,5,6,7,8,9,10,11,12,13,14\", \"many\" );\n4, test( \"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15\", \"1,4,5\" );\n5, test( \"1,2,3,4,5,6,7,8,9,10,11,12,13,14,17\", \"none\" );\n6, test( \"1,2,3,4,5,6,7,8,9,10,11,12,13,14,18\", \"1,4,6\" );\n7, test( \"5,6,7,8,9,10,11,12,13,14,15,16\", \"2,5,6\" );\n8, test( \"9,10,11,12,13,14,15,16,17,18,19\", \"4,5,7\" );\n9, test( \"11,36,37,45,55,70,71\", \"1,10,35\" );\n10, test( \"92,93,94,95,96,97,98,99\", \"30,32,33\" );\n11, test( \"95,96,97,98,99,100\", \"many\" );\n12, test( \"27,30,34,37,43,44,46,51,57\", \"10,17,23\" );\n13, test( \"6,10,13,17,65,73,76,80\", \"none\" );\n14, test( \"12,19,21,29,85\", \"none\" );\n15, test( \"1,2,8,10,14,23,58,62,64\", \"none\" );\n16, test( \"4,22,25,31,44,50,58,69,71,72,73,77\", \"none\" );\n17, test( \"8,16,26,27,42,53,65,69,81,83,88,99\", \"none\" );\n18, test( \"9,10,23,24,28,33,38,39,58,68,84\", \"none\" );\n19, test( \"11,16,24,26,88\", \"none\" );\n20, test( \"24,33,47,56,63,66,75,78,89,93\", \"none\" );\n21, test( \"7,26,72,77\", \"many\" );\n22, test( \"69,88,95,97\", \"many\" );\n23, test( \"9,14,48,89\", \"many\" );\n24, test( \"69,76,77,83\", \"many\" );\n25, test( \"11,14,24\", \"many\" );\n26, test( \"8,25,75,93\", \"many\" );\n27, test( \"11,55,93,98,99\", \"many\" );\n28, test( \"71,83,87\", \"many\" );\n29, test( \"22,76,77,92\", \"7,15,62\" );\n30, test( \"33,61,66,83,95\", \"17,33,61\" );\n31, test( \"6,16,49,55,72\", \"6,16,33\" );\n32, test( \"62,85,97,98\", \"12,25,73\" );\n33, test( \"54,60,67,70,72\", \"20,25,27\" );\n34, test( \"54,61,68,84,87\", \"27,30,34\" );\n35, test( \"65,67,69,75,79,89,99\", \"21,23,33\" );\n36, test( \"69,72,80,81,89\", \"23,24,33\" );\n37, test( \"1,2,3\", \"many\" );\n\n\u9ad8\u901f\u5316:\nproduct((x,y,z), repeat=r)\n\n\u3092\ncombinations_with_replacement((x,y,z), r)\n\n\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u300122\u79d2\u3060\u3063\u305f\u5b9f\u884c\u6642\u9593\u304c13\u79d2\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nz\u306e\u6700\u5c0f\u5024\u306f\u5165\u529b\u6700\u5927\u5024\u306e1/3\u306a\u306e\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u3059\u308b\u3068\u82e5\u5e72\u901f\u304f\u306a\u308a\u307e\u3057\u305f\u3002\nfor z in xrange(max(y, n[-1]/3), n[-1]+1)\n\n\u554f\u984c\u306f\u3053\u3061\u3089\nhttp://nabetani.sakura.ne.jp/hena/ord19sanwa/\n\n\u4ed6\u306e\u65b9\u3005\u306e\u56de\u7b54\u306f\u3053\u3061\u3089\nhttp://qiita.com/Nabetani/items/0a711729fdea28b1c30b\n\n\u9ad8\u901f\u5316\u7248:\n\n```py\nfrom itertools import chain, combinations_with_replacement as combi_r\n\ndef solve(d):\n    n=map(int, d.split(','))\n    s=set(n)\n    a=[(x,y,z)\n       for x in xrange(1, n[0]+1)\n       for y in xrange(x, n[-1]+1)\n       for z in xrange(max(y, n[-1]/3), n[-1]+1)\n       if s == s&{sum(c) for c in chain(*[combi_r((x,y,z), r) for r in (1,2,3)])}]\n    return not a and 'none' or a[1:] and 'many' or ','.join(map(str, a[0]))\n```\n\n\u6700\u521d\u306e\u5b9f\u88c5:\n\n```py\nfrom itertools import *\n\ndef solve(d):\n    n=map(int, d.split(','))\n    s=set(n)\n    a=[(x,y,z)\n       for x in xrange(1, n[0]+1)\n       for y in xrange(x, n[-1]+1)\n       for z in xrange(y, n[-1]+1)\n       if s == s&{sum(p) for p in chain(*[product((x,y,z), repeat=r) for r in (1,2,3)])}]\n    return not a and 'none' or len(a)>1 and 'many' or ','.join(map(str, a[0]))\n\ndef test(data, correct):\n    answer = solve(data)\n    print 'xo'[answer == correct], data, correct, answer\n\n0, test( \"3,11,12,102,111,120\", \"1,10,100\" );\n1, test( \"10,20,30,35,70\", \"many\" );\n2, test( \"1,5,20,80\", \"none\" );\n3, test( \"1,2,3,4,5,6,7,8,9,10,11,12,13,14\", \"many\" );\n4, test( \"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15\", \"1,4,5\" );\n5, test( \"1,2,3,4,5,6,7,8,9,10,11,12,13,14,17\", \"none\" );\n6, test( \"1,2,3,4,5,6,7,8,9,10,11,12,13,14,18\", \"1,4,6\" );\n7, test( \"5,6,7,8,9,10,11,12,13,14,15,16\", \"2,5,6\" );\n8, test( \"9,10,11,12,13,14,15,16,17,18,19\", \"4,5,7\" );\n9, test( \"11,36,37,45,55,70,71\", \"1,10,35\" );\n10, test( \"92,93,94,95,96,97,98,99\", \"30,32,33\" );\n11, test( \"95,96,97,98,99,100\", \"many\" );\n12, test( \"27,30,34,37,43,44,46,51,57\", \"10,17,23\" );\n13, test( \"6,10,13,17,65,73,76,80\", \"none\" );\n14, test( \"12,19,21,29,85\", \"none\" );\n15, test( \"1,2,8,10,14,23,58,62,64\", \"none\" );\n16, test( \"4,22,25,31,44,50,58,69,71,72,73,77\", \"none\" );\n17, test( \"8,16,26,27,42,53,65,69,81,83,88,99\", \"none\" );\n18, test( \"9,10,23,24,28,33,38,39,58,68,84\", \"none\" );\n19, test( \"11,16,24,26,88\", \"none\" );\n20, test( \"24,33,47,56,63,66,75,78,89,93\", \"none\" );\n21, test( \"7,26,72,77\", \"many\" );\n22, test( \"69,88,95,97\", \"many\" );\n23, test( \"9,14,48,89\", \"many\" );\n24, test( \"69,76,77,83\", \"many\" );\n25, test( \"11,14,24\", \"many\" );\n26, test( \"8,25,75,93\", \"many\" );\n27, test( \"11,55,93,98,99\", \"many\" );\n28, test( \"71,83,87\", \"many\" );\n29, test( \"22,76,77,92\", \"7,15,62\" );\n30, test( \"33,61,66,83,95\", \"17,33,61\" );\n31, test( \"6,16,49,55,72\", \"6,16,33\" );\n32, test( \"62,85,97,98\", \"12,25,73\" );\n33, test( \"54,60,67,70,72\", \"20,25,27\" );\n34, test( \"54,61,68,84,87\", \"27,30,34\" );\n35, test( \"65,67,69,75,79,89,99\", \"21,23,33\" );\n36, test( \"69,72,80,81,89\", \"23,24,33\" );\n37, test( \"1,2,3\", \"many\" );\n```\n\n\u9ad8\u901f\u5316:\n\n```py\nproduct((x,y,z), repeat=r)\n```\n\n\u3092\n\n```py\ncombinations_with_replacement((x,y,z), r)\n```\n\n\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u300122\u79d2\u3060\u3063\u305f\u5b9f\u884c\u6642\u9593\u304c13\u79d2\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nz\u306e\u6700\u5c0f\u5024\u306f\u5165\u529b\u6700\u5927\u5024\u306e1/3\u306a\u306e\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u3059\u308b\u3068\u82e5\u5e72\u901f\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\n```py\nfor z in xrange(max(y, n[-1]/3), n[-1]+1)\n```", "tags": ["Python", "\u3069\u3046\u66f8\u304f", "yhpg"]}