{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u524d\u56deCanvas\u3067\u6f2b\u753b\u306b\u3042\u308b\u3088\u3046\u306a\u96c6\u4e2d\u7dda\u3092\u66f8\u3044\u3066\u307f\u305f\u3068\u3044\u3046\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\u6f2b\u753b\u30b7\u30ea\u30fc\u30ba\u7b2c\u4e8c\u5f3e\u3068\u3057\u3066\u3001\u79c1\u306e\u597d\u304d\u306a\u6f2b\u753b\u3067\u3088\u304f\u51fa\u3066\u304f\u308b\u3088\u3046\u306a\u30aa\u30ce\u30de\u30c8\u30da\u3092Canvas\u3067\u518d\u73fe\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u300c\u3056\u308f\u3056\u308f\u300d\u3055\u305b\u305f\u3044\u6642\u306b\u306f\u5f79\u306b\u7acb\u3064\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n[\u52d5\u4f5c\u30a4\u30e1\u30fc\u30b8]\n\u203bGif\u30a2\u30cb\u30e1\u304c\u91cd\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001\u9759\u6b62\u753b\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u672c\u5f53\u306f\u52d5\u304d\u307e\u3059\u3002\n\n\n\n\u306a\u304a\u5b9f\u969b\u306e\u52d5\u4f5c\u306f\u4ee5\u4e0b\u3067\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\nhttp://nekoneko-wanwan.github.io/demo/canvas/effect/zawazawa/\nhttp://codepen.io/nekoneko-wanwan/pen/XmpxoB\n\n\n\u7279\u9577\n\nCanvas\u30b5\u30a4\u30ba\u306b\u4f9d\u5b58\u3057\u306a\u3044\n\n\u3056\u308f\u30fb\u30fb\u30fb\u306e\u5927\u304d\u3055\u3068\u4f4d\u7f6e\u306f\u4e00\u5b9a\u7bc4\u56f2\u5185\u3067\u30e9\u30f3\u30c0\u30e0\n\n\u3056\u308f\u30fb\u30fb\u30fb\u306e\u5c0f\u3055\u3044\u3082\u306e\u306f\u3086\u3063\u304f\u308a\u3001\u5927\u304d\u3044\u7269\u306f\u65e9\u304f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\uff08\u5965\u884c\u304d\u3092\u8868\u73fe\uff09\n\n\u3056\u308f\u30fb\u30fb\u30fb\u306e\u6570\u304c\u5909\u66f4\u3067\u304d\u308b\n\n\u3056\u308f\u30fb\u30fb\u30fb\u306b\u306f4\u3064\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u7528\u610f\n\n\n\u9ed2\u6587\u5b57\n\u767d\u6587\u5b57\n\u9ed2\u6587\u5b57\u30fb\u767d\u30d5\u30c1\n\u767d\u6587\u5b57\u30fb\u9ed2\u30d5\u30c1\n\n\n\n\u3056\u308f\u30fb\u30fb\u30fb\u306e\u6d41\u308c\u308b\u65b9\u5411\u304c\u5de6\u53f3\u3067\u5909\u66f4\u3067\u304d\u308b \u2190[NEW!]\n\n\n\n\u3056\u308f\u30fb\u30fb\u30fb\u306e\u5927\u304d\u3055\u306f\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u3067\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u5909\u66f4\u3059\u308b\u5834\u5408\u306f\u5c11\u3057\u624b\u3092\u52a0\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\nindex.html\n<canvas id=\"myCanvas\" width=\"500\" height=\"500\"></canvas>\n\n\n\ncanvas.js\n/**\n * \u3056\u308f\u30fb\u30fb\u30fb\u30e1\u30fc\u30ab\u30fc\n * @param {obj} cs: canvas object\n * @param {number} zawaNum: \u751f\u6210\u3059\u308b\u300c\u3056\u308f\u30fb\u30fb\u30fb\u300d\u306e\u6570\n * @param {boolean} isBordering: \u7e01\u53d6\u308a\u3059\u308b\u304b\u3069\u3046\u304b\n *     \u9ed2\u6587\u5b57\u306e\u5834\u5408\u306f\u767d\u30d5\u30c1\u306b\u3001\u767d\u6587\u5b57\u306e\u5834\u5408\u306f\u9ed2\u30d5\u30c1\u306b\n * @param {boolean} isColorBlack: \u9ed2\u6587\u5b57\u306b\u3059\u308b\u304b\u3069\u3046\u304b\uff08false\u3067\u767d\u6587\u5b57\uff09\n * @param {boolean} isRightFlow: \u53f3\u304b\u3089\u6d41\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u304b\n */\nvar zawaMaker = function(cs, zawaNum, isBordering, isColorBlack, isRightFlow ) {\n    var ctx      = cs.getContext('2d');\n    var csWidth  = cs.width;\n    var csHeight = cs.height;\n    var zawas    = [];\n\n    /**\n     * \u30e9\u30f3\u30c0\u30e0\u306a\u6574\u6570\u3092\u8fd4\u3059\n     * @param max \u6700\u5927\u5024\n     * @param min \u6700\u5c0f\u5024\n     * @return min ~ max\n     */\n    var getRandomInt = function(max, min) {\n        return Math.floor(Math.random() * (max - min)) + min;\n    };\n\n    /**\n     * @constructor\n     */\n    var ZawaZawa = function() {\n        this.initialize();\n    };\n\n    ZawaZawa.prototype = {\n        initialize: function() {\n            this.scale     = getRandomInt(10, 5) / 10; // 1 ~ 0.5\u306e\u500d\u7387\n            this.width     = this.scale * 160;  // \u5143\u30b5\u30a4\u30ba\u3092\u5927\u4f53150px\u304f\u3089\u3044\u3068\u898f\u5b9a\n            this.height    = this.scale * 60;   // \u5143\u30b5\u30a4\u30ba\u3092\u5927\u4f5360px\u304f\u3089\u3044\u3068\u898f\u5b9a\n            this.moveX     = getRandomInt(csWidth  - this.width, 0);\n            this.moveY     = getRandomInt(csHeight - this.height, 0);\n            this.addMoveX  = this.scale * 5;  // \u5965\u884c\u304d\u3092\u51fa\u3059\u305f\u3081\u306b\u3001\u5c0f\u3055\u3044\u8981\u7d20\u306f\u79fb\u52d5\u91cf\u3092\u5c11\u306a\u304f\u3059\u308b\n            this.alpha     = 1;\n        },\n        setStatus: function() {\n            /* \u5909\u63db\u30de\u30c8\u30ea\u30af\u30b9\u3092\u521d\u671f\u5316 */\n            ctx.setTransform(1, 0, 0, 1, 0, 0);\n\n            ctx.scale(this.scale, this.scale);\n            ctx.translate(this.moveX, this.moveY);\n            ctx.globalAlpha = this.alpha;\n        },\n        update: function() {\n            /* scale\u3067\u5ea7\u6a19\u8ef8\u304c\u30ba\u30ec\u3066\u3044\u308b\u306e\u3067\u3001scale\u3057\u305f\u5206\u3092\u5272\u3063\u305f\u5024\u3092Canvas\u30b5\u30a4\u30ba\u3068\u3059\u308b */\n            var _csWidth = csWidth / this.scale;\n\n            /* \u6d41\u308c\u308b\u5411\u304d\u306e\u6761\u4ef6\u5206\u5c90 */\n            if (isRightFlow) {\n                if (this.moveX + this.width + 50 < 0 ) {\n                    this.alpha = 0;\n                    this.moveX = _csWidth + this.width;\n\n                    /* scale\u3092\u5909\u3048\u308b\u305f\u3081\u518d\u8a2d\u5b9a */\n                    this.scale    = getRandomInt(10, 5) / 10;\n                    this.width    = this.scale * 160;\n                    this.height   = this.scale * 60;\n                    this.moveY    = getRandomInt(csHeight - this.height, 0);\n                    this.addMoveX = this.scale * 5;\n                } else {\n                    this.moveX -= this.addMoveX;\n                    this.alpha += 0.01;\n                }\n            } else {\n                if (this.moveX >_csWidth) {\n                    this.alpha = 0;\n                    this.moveX = - this.width;\n\n                    /* scale\u3092\u5909\u3048\u308b\u305f\u3081\u518d\u8a2d\u5b9a */\n                    this.scale    = getRandomInt(10, 5) / 10;\n                    this.width    = this.scale * 160;\n                    this.height   = this.scale * 60;\n                    this.moveY    = getRandomInt(csHeight - this.height, 0);\n                    this.addMoveX = this.scale * 5;\n                } else {\n                    this.moveX += this.addMoveX;\n                    this.alpha += 0.01;\n                }\n            }\n\n            /* \u900f\u660e\u5ea6\u304c1\u4ee5\u4e0a\u306e\u5834\u5408\u306f\u900f\u660e\u5ea6\u306e\u5897\u52a0\u3092\u6b62\u3081\u308b */\n            if (this.alpha > 1) {\n                this.alpha = 1;\n            }\n        },\n        draw: function() {\n            /**\n             * @param {number} width: \u7dda\u306e\u592a\u3055\n             * @param {string} color: \u7dda\u306e\u8272\n             */\n            function createZawaPath(width, color) {\n                ctx.lineWidth = width;\n                ctx.strokeStyle = color;\n                ctx.beginPath();\n                ctx.lineCap = \"round\";\n                ctx.lineJoin = \"round\";\n\n                // \u3056\n                ctx.moveTo(10, 45);\n                ctx.lineTo(50, 45);\n\n                ctx.moveTo(25, 35);\n                ctx.lineTo(50, 60);\n                ctx.lineTo(20, 60);\n                ctx.bezierCurveTo(5, 60, 5, 75, 20, 75);\n                ctx.lineTo(50, 75);\n\n                ctx.moveTo(38, 30);\n                ctx.lineTo(38, 36);\n\n                ctx.moveTo(46, 30);\n                ctx.lineTo(46, 36);\n\n                // \u308f\n                ctx.moveTo(70, 35);\n                ctx.lineTo(70, 75);\n\n                ctx.moveTo(60, 45);\n                ctx.lineTo(80, 45);\n                ctx.lineTo(60, 75);\n                ctx.bezierCurveTo(80, 25, 120, 70, 85, 75);\n\n                // \u30fb\u30fb\u30fb\n                ctx.moveTo(110, 60);\n                ctx.lineTo(115, 60);\n\n                ctx.moveTo(125, 60);\n                ctx.lineTo(130, 60);\n\n                ctx.moveTo(140, 60);\n                ctx.lineTo(145, 60);\n\n                ctx.closePath();\n                ctx.stroke();\n            }\n\n            /* \u7e01\u53d6\u3068\u9ed2\u30fb\u767d\u6587\u5b57\u306e\u6761\u4ef6\u5206\u5c90 */\n            if (isBordering && isColorBlack) {\n                createZawaPath(15, 'white');\n                createZawaPath(6, 'black');\n            }\n            if (isBordering && !isColorBlack) {\n                createZawaPath(15, 'black');\n                createZawaPath(6, 'white');\n            }\n            if (!isBordering && isColorBlack) {\n                createZawaPath(6, 'black');\n            }\n            if (!isBordering && !isColorBlack) {\n                createZawaPath(6, 'white');\n            }\n\n        },\n        render: function() {\n            this.setStatus();\n            this.draw();\n            this.update();\n        }\n    };\n\n\n    /**\n     * \u3056\u308f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210\n     * @return zawas[instance, instance...];\n     */\n    function createZawas(num) {\n        var i = 0;\n        for (; i < num; i++) {\n            zawas[zawas.length] = new ZawaZawa();\n        }\n    }\n\n   /**\n     * \u63cf\u753b\n     */\n    function render() {\n        var i = 0;\n        var l = zawas.length;\n        ctx.setTransform(1,0,0,1,0,0);\n        ctx.clearRect(0, 0, csWidth, csHeight);\n        for (; i < l; i++) {\n            zawas[i].render();\n        }\n        requestAnimationFrame(render);\n    }\n\n    /* \u5b9f\u884c */\n    createZawas(zawaNum);\n    render();\n};\n\nvar cs = document.getElementById('myCanvas1');\n\n/* args: canvas\u30aa\u30d6\u30b8\u30a7\u30af\u30c8, \u3056\u308f\u306e\u6570, \u7e01\u53d6\u308a\u304b, \u9ed2\u6587\u5b57\u304b, \u53f3\u304b\u3089\u6d41\u3059\u304b */\nzawaMaker(cs, 10, false, true, false);\n\n\n\n\u4f5c\u308a\u65b9\u30fb\u8003\u3048\u65b9\n\nCanvas\u4e0a\u3067 \u3056\u308f\u30fb\u30fb\u30fb\u306e\u6587\u5b57\u3092\u8868\u73fe\u3059\u308b\n\n\u3056\u308f\u30fb\u30fb\u30fb\u306e\u5927\u304d\u3055\u3068\u4f4d\u7f6e\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u8a2d\u5b9a\u3059\u308b\n\u4e00\u5b9a\u6642\u9593\u3054\u3068\u306b\u5de6\u2192\u53f3\u3078\u30eb\u30fc\u30d7\u3055\u305b\u308b\n\n\nCanvas\u4e0a\u3067 \u3056\u308f\u30fb\u30fb\u30fb\u306e\u6587\u5b57\u3092\u8868\u73fe\u3059\u308b\n\u3053\u306e\u7a0b\u5ea6\u3067\u3042\u308c\u3070stroke()\u3067\u3082\u518d\u73fe\u3067\u304d\u308b\u305f\u3081\u3001\u753b\u50cf\u3084SVG\u306f\u4f7f\u3063\u3066\u3044\u307e\u305b\u3093\u3002moveTo() lineTo()\u3067\u7dda\u3092\u7d30\u304f\u5f15\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u7d50\u679c\u7684\u306b\u753b\u50cf\u3092\u4f7f\u3063\u305f\u65b9\u304c\u52d5\u4f5c\u304c\u8efd\u304f\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u30fb\u30fb\u30fb\n\n\n\u3056\u308f\u30fb\u30fb\u30fb\u306e\u5927\u304d\u3055\u3068\u4f4d\u7f6e\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u8a2d\u5b9a\u3059\u308b\n1.\u306e\u3088\u3046\u306b\u4f5c\u6210\u3057\u305f\u305f\u3081\u3001\u5ea7\u6a19\u4f4d\u7f6e\u3084\u5927\u304d\u3055\u306fscale() translate()\u3067\u8868\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u4e0a\u8a18\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3068\u5ea7\u6a19\u8ef8\u304c\u5909\u66f4\u3055\u308c\u308b\u305f\u3081\u3001\u518d\u63cf\u753b\u306e\u969b\u306b\u306f\u5ea7\u6a19\u8ef8\u306e\u30ea\u30bb\u30c3\u30c8\u3084Canvas\u306e\u5b9f\u30b5\u30a4\u30ba\u306b\u6ce8\u610f\u3057\u307e\u3059\n\n\n\u4e00\u5b9a\u6642\u9593\u3054\u3068\u306b\u5de6or\u53f3\u3078\u30eb\u30fc\u30d7\u3055\u305b\u308b\n\u3069\u3061\u3089\u3078\u6d41\u308c\u308b\u304b\u306f\u5f15\u6570\u3067\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u5ea7\u6a19\u8ef8\u306e\u30ba\u30ec\u306b\u6c17\u3092\u3064\u3051\u3066\u3044\u308c\u3070\u3001\u7279\u306b\u96e3\u3057\u3044\u3053\u3068\u306f\u7121\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u7d42\u308f\u308a\u306b\n\u4f5c\u308a\u65b9\u306f\u81ea\u5206\u3067\u8003\u3048\u3066\u307f\u305f\u306e\u3067\u3001\u7d30\u304b\u3044\u3068\u3053\u308d\u304c\u5fae\u5999\u3060\u3063\u305f\u308a\u975e\u52b9\u7387\u306a\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3082\u3063\u3068\u826f\u3044\u65b9\u6cd5\u304c\u3042\u308c\u3070\u3054\u6559\u6388\u304f\u3060\u3055\u3044\u307e\u305b\u3002\n\n\u5927\u304d\u3055\u306b\u3088\u3063\u3066\u30b9\u30d4\u30fc\u30c9\u3092\u5909\u3048\u308b\u3053\u3068\u3067\u8996\u5dee\u52b9\u679c\u3092\u4ed8\u3051\u305f\u306e\u306f\u826f\u3044\u3082\u306e\u306e\u3001\u7e01\u53d6\u308a\u3057\u305f\u6642\u306e\u6587\u5b57\u306e\u91cd\u306a\u308a\u9806\u304c\u30fb\u30fb\u30fb\u3002x(\n\n[\u304a\u307e\u3051]\n\nCanvas\u3067\u6f2b\u753b\u306b\u3042\u308b\u3088\u3046\u306a\u96c6\u4e2d\u7dda\u3092\u66f8\u3044\u3066\u307f\u305f\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u3059\u3054\u304f\u3046\u308b\u3055\u3044\u753b\u50cf\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u305f\uff08Gif\u30a2\u30cb\u30e1\u304c\u5927\u5909\u91cd\u305f\u3044\u306e\u3067\u9759\u6b62\u753b\u3067\u3059\uff09\n\nhttp://nekoneko-wanwan.github.io/demo/canvas/effect/zawazawa2/\n\n#\u306f\u3058\u3081\u306b\n\u524d\u56de[Canvas\u3067\u6f2b\u753b\u306b\u3042\u308b\u3088\u3046\u306a\u96c6\u4e2d\u7dda\u3092\u66f8\u3044\u3066\u307f\u305f](http://qiita.com/nekoneko-wanwan/items/0911a59bf835d5b9e35a)\u3068\u3044\u3046\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\n\u6f2b\u753b\u30b7\u30ea\u30fc\u30ba\u7b2c\u4e8c\u5f3e\u3068\u3057\u3066\u3001\u79c1\u306e\u597d\u304d\u306a\u6f2b\u753b\u3067\u3088\u304f\u51fa\u3066\u304f\u308b\u3088\u3046\u306a\u30aa\u30ce\u30de\u30c8\u30da\u3092Canvas\u3067\u518d\u73fe\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u300c\u3056\u308f\u3056\u308f\u300d\u3055\u305b\u305f\u3044\u6642\u306b\u306f\u5f79\u306b\u7acb\u3064\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n\n**[\u52d5\u4f5c\u30a4\u30e1\u30fc\u30b8]**\n\u203bGif\u30a2\u30cb\u30e1\u304c\u91cd\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001\u9759\u6b62\u753b\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u672c\u5f53\u306f\u52d5\u304d\u307e\u3059\u3002\n\n![zawazawa1.png](https://qiita-image-store.s3.amazonaws.com/0/58436/966a8ccd-c3f4-6145-8139-314297671c1f.png)\n\n![zawazawa2.png](https://qiita-image-store.s3.amazonaws.com/0/58436/f5e11f7e-9bf9-8544-e559-8a6dc53c1eb1.png)\n\n\n\n\n> \u306a\u304a\u5b9f\u969b\u306e\u52d5\u4f5c\u306f\u4ee5\u4e0b\u3067\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\n> http://nekoneko-wanwan.github.io/demo/canvas/effect/zawazawa/\n> http://codepen.io/nekoneko-wanwan/pen/XmpxoB\n\n\n\n\n\n#\u7279\u9577\n\n- Canvas\u30b5\u30a4\u30ba\u306b\u4f9d\u5b58\u3057\u306a\u3044\n- **`\u3056\u308f\u30fb\u30fb\u30fb`**\u306e\u5927\u304d\u3055\u3068\u4f4d\u7f6e\u306f\u4e00\u5b9a\u7bc4\u56f2\u5185\u3067\u30e9\u30f3\u30c0\u30e0\n- **`\u3056\u308f\u30fb\u30fb\u30fb`**\u306e\u5c0f\u3055\u3044\u3082\u306e\u306f\u3086\u3063\u304f\u308a\u3001\u5927\u304d\u3044\u7269\u306f\u65e9\u304f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\uff08\u5965\u884c\u304d\u3092\u8868\u73fe\uff09\n- **`\u3056\u308f\u30fb\u30fb\u30fb`**\u306e\u6570\u304c\u5909\u66f4\u3067\u304d\u308b\n- **`\u3056\u308f\u30fb\u30fb\u30fb`**\u306b\u306f4\u3064\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u7528\u610f\n\t- \u9ed2\u6587\u5b57\n\t- \u767d\u6587\u5b57\n\t- \u9ed2\u6587\u5b57\u30fb\u767d\u30d5\u30c1\n\t- \u767d\u6587\u5b57\u30fb\u9ed2\u30d5\u30c1\n- **`\u3056\u308f\u30fb\u30fb\u30fb`**\u306e\u6d41\u308c\u308b\u65b9\u5411\u304c\u5de6\u53f3\u3067\u5909\u66f4\u3067\u304d\u308b **\u2190[NEW!]**\n\n\n> **`\u3056\u308f\u30fb\u30fb\u30fb`**\u306e\u5927\u304d\u3055\u306f\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u3067\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u5909\u66f4\u3059\u308b\u5834\u5408\u306f\u5c11\u3057\u624b\u3092\u52a0\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\n\n\n\n\n\n#\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\n```index.html\n<canvas id=\"myCanvas\" width=\"500\" height=\"500\"></canvas>\n```\n\n```canvas.js\n/**\n * \u3056\u308f\u30fb\u30fb\u30fb\u30e1\u30fc\u30ab\u30fc\n * @param {obj} cs: canvas object\n * @param {number} zawaNum: \u751f\u6210\u3059\u308b\u300c\u3056\u308f\u30fb\u30fb\u30fb\u300d\u306e\u6570\n * @param {boolean} isBordering: \u7e01\u53d6\u308a\u3059\u308b\u304b\u3069\u3046\u304b\n *     \u9ed2\u6587\u5b57\u306e\u5834\u5408\u306f\u767d\u30d5\u30c1\u306b\u3001\u767d\u6587\u5b57\u306e\u5834\u5408\u306f\u9ed2\u30d5\u30c1\u306b\n * @param {boolean} isColorBlack: \u9ed2\u6587\u5b57\u306b\u3059\u308b\u304b\u3069\u3046\u304b\uff08false\u3067\u767d\u6587\u5b57\uff09\n * @param {boolean} isRightFlow: \u53f3\u304b\u3089\u6d41\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u304b\n */\nvar zawaMaker = function(cs, zawaNum, isBordering, isColorBlack, isRightFlow ) {\n    var ctx      = cs.getContext('2d');\n    var csWidth  = cs.width;\n    var csHeight = cs.height;\n    var zawas    = [];\n\n    /**\n     * \u30e9\u30f3\u30c0\u30e0\u306a\u6574\u6570\u3092\u8fd4\u3059\n     * @param max \u6700\u5927\u5024\n     * @param min \u6700\u5c0f\u5024\n     * @return min ~ max\n     */\n    var getRandomInt = function(max, min) {\n        return Math.floor(Math.random() * (max - min)) + min;\n    };\n\n    /**\n     * @constructor\n     */\n    var ZawaZawa = function() {\n        this.initialize();\n    };\n\n    ZawaZawa.prototype = {\n        initialize: function() {\n            this.scale     = getRandomInt(10, 5) / 10; // 1 ~ 0.5\u306e\u500d\u7387\n            this.width     = this.scale * 160;  // \u5143\u30b5\u30a4\u30ba\u3092\u5927\u4f53150px\u304f\u3089\u3044\u3068\u898f\u5b9a\n            this.height    = this.scale * 60;   // \u5143\u30b5\u30a4\u30ba\u3092\u5927\u4f5360px\u304f\u3089\u3044\u3068\u898f\u5b9a\n            this.moveX     = getRandomInt(csWidth  - this.width, 0);\n            this.moveY     = getRandomInt(csHeight - this.height, 0);\n            this.addMoveX  = this.scale * 5;  // \u5965\u884c\u304d\u3092\u51fa\u3059\u305f\u3081\u306b\u3001\u5c0f\u3055\u3044\u8981\u7d20\u306f\u79fb\u52d5\u91cf\u3092\u5c11\u306a\u304f\u3059\u308b\n            this.alpha     = 1;\n        },\n        setStatus: function() {\n            /* \u5909\u63db\u30de\u30c8\u30ea\u30af\u30b9\u3092\u521d\u671f\u5316 */\n            ctx.setTransform(1, 0, 0, 1, 0, 0);\n\n            ctx.scale(this.scale, this.scale);\n            ctx.translate(this.moveX, this.moveY);\n            ctx.globalAlpha = this.alpha;\n        },\n        update: function() {\n            /* scale\u3067\u5ea7\u6a19\u8ef8\u304c\u30ba\u30ec\u3066\u3044\u308b\u306e\u3067\u3001scale\u3057\u305f\u5206\u3092\u5272\u3063\u305f\u5024\u3092Canvas\u30b5\u30a4\u30ba\u3068\u3059\u308b */\n            var _csWidth = csWidth / this.scale;\n\n            /* \u6d41\u308c\u308b\u5411\u304d\u306e\u6761\u4ef6\u5206\u5c90 */\n            if (isRightFlow) {\n                if (this.moveX + this.width + 50 < 0 ) {\n                    this.alpha = 0;\n                    this.moveX = _csWidth + this.width;\n\n                    /* scale\u3092\u5909\u3048\u308b\u305f\u3081\u518d\u8a2d\u5b9a */\n                    this.scale    = getRandomInt(10, 5) / 10;\n                    this.width    = this.scale * 160;\n                    this.height   = this.scale * 60;\n                    this.moveY    = getRandomInt(csHeight - this.height, 0);\n                    this.addMoveX = this.scale * 5;\n                } else {\n                    this.moveX -= this.addMoveX;\n                    this.alpha += 0.01;\n                }\n            } else {\n                if (this.moveX >_csWidth) {\n                    this.alpha = 0;\n                    this.moveX = - this.width;\n\n                    /* scale\u3092\u5909\u3048\u308b\u305f\u3081\u518d\u8a2d\u5b9a */\n                    this.scale    = getRandomInt(10, 5) / 10;\n                    this.width    = this.scale * 160;\n                    this.height   = this.scale * 60;\n                    this.moveY    = getRandomInt(csHeight - this.height, 0);\n                    this.addMoveX = this.scale * 5;\n                } else {\n                    this.moveX += this.addMoveX;\n                    this.alpha += 0.01;\n                }\n            }\n\n            /* \u900f\u660e\u5ea6\u304c1\u4ee5\u4e0a\u306e\u5834\u5408\u306f\u900f\u660e\u5ea6\u306e\u5897\u52a0\u3092\u6b62\u3081\u308b */\n            if (this.alpha > 1) {\n                this.alpha = 1;\n            }\n        },\n        draw: function() {\n            /**\n             * @param {number} width: \u7dda\u306e\u592a\u3055\n             * @param {string} color: \u7dda\u306e\u8272\n             */\n            function createZawaPath(width, color) {\n                ctx.lineWidth = width;\n                ctx.strokeStyle = color;\n                ctx.beginPath();\n                ctx.lineCap = \"round\";\n                ctx.lineJoin = \"round\";\n\n                // \u3056\n                ctx.moveTo(10, 45);\n                ctx.lineTo(50, 45);\n\n                ctx.moveTo(25, 35);\n                ctx.lineTo(50, 60);\n                ctx.lineTo(20, 60);\n                ctx.bezierCurveTo(5, 60, 5, 75, 20, 75);\n                ctx.lineTo(50, 75);\n\n                ctx.moveTo(38, 30);\n                ctx.lineTo(38, 36);\n\n                ctx.moveTo(46, 30);\n                ctx.lineTo(46, 36);\n\n                // \u308f\n                ctx.moveTo(70, 35);\n                ctx.lineTo(70, 75);\n\n                ctx.moveTo(60, 45);\n                ctx.lineTo(80, 45);\n                ctx.lineTo(60, 75);\n                ctx.bezierCurveTo(80, 25, 120, 70, 85, 75);\n\n                // \u30fb\u30fb\u30fb\n                ctx.moveTo(110, 60);\n                ctx.lineTo(115, 60);\n\n                ctx.moveTo(125, 60);\n                ctx.lineTo(130, 60);\n\n                ctx.moveTo(140, 60);\n                ctx.lineTo(145, 60);\n\n                ctx.closePath();\n                ctx.stroke();\n            }\n\n            /* \u7e01\u53d6\u3068\u9ed2\u30fb\u767d\u6587\u5b57\u306e\u6761\u4ef6\u5206\u5c90 */\n            if (isBordering && isColorBlack) {\n                createZawaPath(15, 'white');\n                createZawaPath(6, 'black');\n            }\n            if (isBordering && !isColorBlack) {\n                createZawaPath(15, 'black');\n                createZawaPath(6, 'white');\n            }\n            if (!isBordering && isColorBlack) {\n                createZawaPath(6, 'black');\n            }\n            if (!isBordering && !isColorBlack) {\n                createZawaPath(6, 'white');\n            }\n\n        },\n        render: function() {\n            this.setStatus();\n            this.draw();\n            this.update();\n        }\n    };\n\n\n    /**\n     * \u3056\u308f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210\n     * @return zawas[instance, instance...];\n     */\n    function createZawas(num) {\n        var i = 0;\n        for (; i < num; i++) {\n            zawas[zawas.length] = new ZawaZawa();\n        }\n    }\n\n   /**\n     * \u63cf\u753b\n     */\n    function render() {\n        var i = 0;\n        var l = zawas.length;\n        ctx.setTransform(1,0,0,1,0,0);\n        ctx.clearRect(0, 0, csWidth, csHeight);\n        for (; i < l; i++) {\n            zawas[i].render();\n        }\n        requestAnimationFrame(render);\n    }\n\n    /* \u5b9f\u884c */\n    createZawas(zawaNum);\n    render();\n};\n\nvar cs = document.getElementById('myCanvas1');\n\n/* args: canvas\u30aa\u30d6\u30b8\u30a7\u30af\u30c8, \u3056\u308f\u306e\u6570, \u7e01\u53d6\u308a\u304b, \u9ed2\u6587\u5b57\u304b, \u53f3\u304b\u3089\u6d41\u3059\u304b */\nzawaMaker(cs, 10, false, true, false);\n```\n\n\n\n\n\n#\u4f5c\u308a\u65b9\u30fb\u8003\u3048\u65b9\n\n1. Canvas\u4e0a\u3067 **`\u3056\u308f\u30fb\u30fb\u30fb`**\u306e\u6587\u5b57\u3092\u8868\u73fe\u3059\u308b\n2. **`\u3056\u308f\u30fb\u30fb\u30fb`**\u306e\u5927\u304d\u3055\u3068\u4f4d\u7f6e\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u8a2d\u5b9a\u3059\u308b\n3. \u4e00\u5b9a\u6642\u9593\u3054\u3068\u306b\u5de6\u2192\u53f3\u3078\u30eb\u30fc\u30d7\u3055\u305b\u308b\n\n\n##Canvas\u4e0a\u3067 **`\u3056\u308f\u30fb\u30fb\u30fb`**\u306e\u6587\u5b57\u3092\u8868\u73fe\u3059\u308b\n\u3053\u306e\u7a0b\u5ea6\u3067\u3042\u308c\u3070**`stroke()`**\u3067\u3082\u518d\u73fe\u3067\u304d\u308b\u305f\u3081\u3001\u753b\u50cf\u3084SVG\u306f\u4f7f\u3063\u3066\u3044\u307e\u305b\u3093\u3002**`moveTo()`** **`lineTo()`**\u3067\u7dda\u3092\u7d30\u304f\u5f15\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\n> \u7d50\u679c\u7684\u306b\u753b\u50cf\u3092\u4f7f\u3063\u305f\u65b9\u304c\u52d5\u4f5c\u304c\u8efd\u304f\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u30fb\u30fb\u30fb\n\n\n##**`\u3056\u308f\u30fb\u30fb\u30fb`**\u306e\u5927\u304d\u3055\u3068\u4f4d\u7f6e\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u8a2d\u5b9a\u3059\u308b\n1.\u306e\u3088\u3046\u306b\u4f5c\u6210\u3057\u305f\u305f\u3081\u3001\u5ea7\u6a19\u4f4d\u7f6e\u3084\u5927\u304d\u3055\u306f**`scale()`** **`translate()`**\u3067\u8868\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\n\n> \u4e0a\u8a18\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3068**\u5ea7\u6a19\u8ef8\u304c\u5909\u66f4**\u3055\u308c\u308b\u305f\u3081\u3001\u518d\u63cf\u753b\u306e\u969b\u306b\u306f\u5ea7\u6a19\u8ef8\u306e\u30ea\u30bb\u30c3\u30c8\u3084Canvas\u306e\u5b9f\u30b5\u30a4\u30ba\u306b\u6ce8\u610f\u3057\u307e\u3059\n\n\n##\u4e00\u5b9a\u6642\u9593\u3054\u3068\u306b\u5de6or\u53f3\u3078\u30eb\u30fc\u30d7\u3055\u305b\u308b\n\u3069\u3061\u3089\u3078\u6d41\u308c\u308b\u304b\u306f\u5f15\u6570\u3067\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u5ea7\u6a19\u8ef8\u306e\u30ba\u30ec\u306b\u6c17\u3092\u3064\u3051\u3066\u3044\u308c\u3070\u3001\u7279\u306b\u96e3\u3057\u3044\u3053\u3068\u306f\u7121\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n\n\n\n#\u7d42\u308f\u308a\u306b\n\u4f5c\u308a\u65b9\u306f\u81ea\u5206\u3067\u8003\u3048\u3066\u307f\u305f\u306e\u3067\u3001\u7d30\u304b\u3044\u3068\u3053\u308d\u304c\u5fae\u5999\u3060\u3063\u305f\u308a\u975e\u52b9\u7387\u306a\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3082\u3063\u3068\u826f\u3044\u65b9\u6cd5\u304c\u3042\u308c\u3070\u3054\u6559\u6388\u304f\u3060\u3055\u3044\u307e\u305b\u3002\n\n> \u5927\u304d\u3055\u306b\u3088\u3063\u3066\u30b9\u30d4\u30fc\u30c9\u3092\u5909\u3048\u308b\u3053\u3068\u3067\u8996\u5dee\u52b9\u679c\u3092\u4ed8\u3051\u305f\u306e\u306f\u826f\u3044\u3082\u306e\u306e\u3001\u7e01\u53d6\u308a\u3057\u305f\u6642\u306e\u6587\u5b57\u306e\u91cd\u306a\u308a\u9806\u304c\u30fb\u30fb\u30fb\u3002x(\n\n\n**[\u304a\u307e\u3051]**\n![super_zawazawa.png](https://qiita-image-store.s3.amazonaws.com/0/58436/ae0b4eff-d741-7935-2493-7b9cf699edb5.png)\n\n[Canvas\u3067\u6f2b\u753b\u306b\u3042\u308b\u3088\u3046\u306a\u96c6\u4e2d\u7dda\u3092\u66f8\u3044\u3066\u307f\u305f](http://qiita.com/nekoneko-wanwan/items/0911a59bf835d5b9e35a)\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u3059\u3054\u304f\u3046\u308b\u3055\u3044\u753b\u50cf\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u305f\uff08Gif\u30a2\u30cb\u30e1\u304c\u5927\u5909\u91cd\u305f\u3044\u306e\u3067\u9759\u6b62\u753b\u3067\u3059\uff09\n\n> http://nekoneko-wanwan.github.io/demo/canvas/effect/zawazawa2/\n\n\n\n", "tags": ["JavaScript", "HTML", "canvas"]}