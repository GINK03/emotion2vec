{"context": " More than 1 year has passed since last update.hubot.router\u306b\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u5c0e\u5165\u3057\u3066\u307f\u305f\n\nsample\nhttps://github.com/hotakasaito/hubot-authentication-sample\n\nDB\u306e\u8a2d\u5b9a\nconfig/config.json.example\u3092config/config.json\u306b\u30b3\u30d4\u30fc\u3057\u3066DB\u60c5\u5831\u3092\u5165\u308c\u308b\nDB\u3092\u4f5c\u6210\u3059\u308bmysqladmin create xxx\n\n\u9375\u751f\u6210\nssh-keygen -t rsa -f private.key\n\n\n\u8d77\u52d5\nnpm install\n./bin/hubot\n\n\n\u30b5\u30f3\u30d7\u30eb\ncurl -X POST --data \"email=a@b.com\" --data \"password=pass\" localhost:3000/signin\ncurl -X POST --data \"email=a@b.com\" --data \"password=pass\" localhost:3000/authenticate\ncurl -H \"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6OSwiZW1haWwiOiJhQGIuY29tIiwicGFzc3dvcmQiOiJwYXNzIiwidXBkYXRlZF9hdCI6IjIwMTUtMDgtMTBUMTI6NTE6MDAuMDAwWiIsImNyZWF0ZWRfYXQiOiIyMDE1LTA4LTEwVDEyOjUxOjAwLjAwMFoifQ.rFlPIHu1SMLD-13GdVdQ0VjT5uqqKdehiwOJuA7GJqQ\" localhost:3000/me\n\n\n2015/08/13 \u8ffd\u8a18\n\nslack\u306e\u30b9\u30e9\u30c3\u30b7\u30e5\u30b3\u30de\u30f3\u30c9\u306e\u6d3b\u7528\nslack\u306e\u30b9\u30e9\u30c3\u30b7\u30e5\u30b3\u30de\u30f3\u30c9\u306f\u81ea\u5206\u3057\u304b\u898b\u308c\u306a\u3044\u306e\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u542b\u3080\u6587\u5b57\u5217\u3092\u30b5\u30fc\u30d0(hubot)\u306b\u9001\u308a\u305f\u5834\u5408\u306b\u4fbf\u5229\n\n/auth \u3068\u3044\u3046\u30b9\u30e9\u30c3\u30b7\u30e5\u30b3\u30de\u30f3\u30c9\u3092\u767b\u9332\u3059\u308b\n\n\nhubot.router\u3067 /auth \u30b3\u30de\u30f3\u30c9\u3092\u53d7\u3051\u308b\nmodule.exports = (robot) ->\n  robot.router.post '/auth', (req, res) ->\n...\n\nhubot.router\u306b\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u5c0e\u5165\u3057\u3066\u307f\u305f\n\n### sample\nhttps://github.com/hotakasaito/hubot-authentication-sample\n\n#### DB\u306e\u8a2d\u5b9a\n`config/config.json.example`\u3092`config/config.json`\u306b\u30b3\u30d4\u30fc\u3057\u3066DB\u60c5\u5831\u3092\u5165\u308c\u308b\nDB\u3092\u4f5c\u6210\u3059\u308b`mysqladmin create xxx`\n\n#### \u9375\u751f\u6210\n\n```bash\nssh-keygen -t rsa -f private.key\n```\n\n#### \u8d77\u52d5\n\n```bash\nnpm install\n./bin/hubot\n````\n\n#### \u30b5\u30f3\u30d7\u30eb\n\n```bash\ncurl -X POST --data \"email=a@b.com\" --data \"password=pass\" localhost:3000/signin\ncurl -X POST --data \"email=a@b.com\" --data \"password=pass\" localhost:3000/authenticate\ncurl -H \"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6OSwiZW1haWwiOiJhQGIuY29tIiwicGFzc3dvcmQiOiJwYXNzIiwidXBkYXRlZF9hdCI6IjIwMTUtMDgtMTBUMTI6NTE6MDAuMDAwWiIsImNyZWF0ZWRfYXQiOiIyMDE1LTA4LTEwVDEyOjUxOjAwLjAwMFoifQ.rFlPIHu1SMLD-13GdVdQ0VjT5uqqKdehiwOJuA7GJqQ\" localhost:3000/me\n```\n\n---\n2015/08/13 \u8ffd\u8a18\n### slack\u306e\u30b9\u30e9\u30c3\u30b7\u30e5\u30b3\u30de\u30f3\u30c9\u306e\u6d3b\u7528\nslack\u306e\u30b9\u30e9\u30c3\u30b7\u30e5\u30b3\u30de\u30f3\u30c9\u306f\u81ea\u5206\u3057\u304b\u898b\u308c\u306a\u3044\u306e\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u542b\u3080\u6587\u5b57\u5217\u3092\u30b5\u30fc\u30d0(hubot)\u306b\u9001\u308a\u305f\u5834\u5408\u306b\u4fbf\u5229\n\n#### `/auth` \u3068\u3044\u3046\u30b9\u30e9\u30c3\u30b7\u30e5\u30b3\u30de\u30f3\u30c9\u3092\u767b\u9332\u3059\u308b\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-13 14.41.57.png](https://qiita-image-store.s3.amazonaws.com/0/10256/b194ac37-fbb0-c394-f018-9732b516d846.png)\n\n#### hubot.router\u3067 `/auth` \u30b3\u30de\u30f3\u30c9\u3092\u53d7\u3051\u308b\n\n```coffeescript\nmodule.exports = (robot) ->\n  robot.router.post '/auth', (req, res) ->\n...\n```\n", "tags": ["Hubot"]}