{"tags": ["IE\u5bfe\u5fdc", "cakephp2", "download", "\u30d5\u30a1\u30a4\u30eb\u540d", "CakePHP"], "context": "\n\nCakePHP2\u306e $this->response \u3067\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u305b\u308b\u3068\u304d\u306eIE\u30d5\u30a1\u30a4\u30eb\u540d\u6587\u5b57\u5316\u3051\u89e3\u6d88\n\n\u3084\u308a\u305f\u3044\u3053\u3068\uff1aPHP\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u305b\u305f\u3044\nCakePHP2\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u305b\u308b\uff0e\u516c\u5f0f\u304b\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308c\u3070\u826f\u3044\u3053\u3068\u304c\u308f\u304b\u308b\uff0e\n\ndownload.php\npublic function sendFile($id) {\n    $file = $this->Attachment->getFile($id);\n    $this->response->file($file['path']);\n    // \u30ec\u30b9\u30dd\u30f3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u30d3\u30e5\u30fc\u306e\u63cf\u753b\u3092\u4e2d\u6b62\u3057\u307e\u3059\n    return $this->response;\n}\n\n\n\u53c2\u7167\uff1ahttp://book.cakephp.org/2.0/ja/controllers/request-response.html\n\n\u554f\u984c\nIE\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3068\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u6587\u5b57\u5316\u3051\u304c\u8d77\u3053\u308b\uff0e\n\u8272\u3005\u306a\u30b5\u30a4\u30c8\u304b\u3089\uff0c\u901a\u5e38\u306ePHP\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308c\u3070\u826f\u3044\u3053\u3068\u304c\u308f\u304b\u308b\uff0e\n\ndownload.php\nheader(\"Content-Type: application/octet-stream;\");\nheader(\"Content-Disposition: attachment;\u3000filename=\"\u30d5\u30a1\u30a4\u30eb\u540d\";\u3000filename*=UTF-8''URL\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u540d);\necho file_get_contents(\"\u30d5\u30a1\u30a4\u30eb\u540d\");\n\n\n\u53c2\u7167\uff1ahttp://www.negimiso.net/blog/2015/06/19/%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E3%80%81%E6%96%87%E5%AD%97%E5%8C%96%E3%81%91%E3%81%A8%E3%81%AE%E6%A0%BC%E9%97%98/\n\nCakePHP2\u3067\u306f\u3069\u3046\u3059\u308c\u3070\u3088\u3044\u306e\u304b\uff1f\n\ndownload.php\npublic function sendFile($id) {\n    $file = $this->Attachment->getFile($id);\n    $content = 'attachment;';\n    $content .= 'filename='.$filename;\n    $content .= 'filename*=UTF-8\\'\\''.rawurlencode($filename); \n    $this->response->header('Content-Disposition', $content);\n    $this->response->file($file['path']);\n    // \u30ec\u30b9\u30dd\u30f3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u30d3\u30e5\u30fc\u306e\u63cf\u753b\u3092\u4e2d\u6b62\u3057\u307e\u3059\n    return $this->response;\n}\n\n\n\u7121\u4e8bIE\u3067\u3082\u30d5\u30a1\u30a4\u30eb\u540d\u304c\u6587\u5b57\u5316\u3051\u305b\u305a\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u305f\uff0e\n#CakePHP2\u306e $this->response \u3067\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u305b\u308b\u3068\u304d\u306eIE\u30d5\u30a1\u30a4\u30eb\u540d\u6587\u5b57\u5316\u3051\u89e3\u6d88\n##\u3084\u308a\u305f\u3044\u3053\u3068\uff1aPHP\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u305b\u305f\u3044\nCakePHP2\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u305b\u308b\uff0e\u516c\u5f0f\u304b\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308c\u3070\u826f\u3044\u3053\u3068\u304c\u308f\u304b\u308b\uff0e\n\n```php:download.php\npublic function sendFile($id) {\n    $file = $this->Attachment->getFile($id);\n    $this->response->file($file['path']);\n    // \u30ec\u30b9\u30dd\u30f3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u30d3\u30e5\u30fc\u306e\u63cf\u753b\u3092\u4e2d\u6b62\u3057\u307e\u3059\n    return $this->response;\n}\n```\n\n\u53c2\u7167\uff1ahttp://book.cakephp.org/2.0/ja/controllers/request-response.html\n\n##\u554f\u984c\nIE\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3068\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u6587\u5b57\u5316\u3051\u304c\u8d77\u3053\u308b\uff0e\n\u8272\u3005\u306a\u30b5\u30a4\u30c8\u304b\u3089\uff0c\u901a\u5e38\u306ePHP\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308c\u3070\u826f\u3044\u3053\u3068\u304c\u308f\u304b\u308b\uff0e\n\n```php:download.php\nheader(\"Content-Type: application/octet-stream;\");\nheader(\"Content-Disposition: attachment;\u3000filename=\"\u30d5\u30a1\u30a4\u30eb\u540d\";\u3000filename*=UTF-8''URL\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u540d);\necho file_get_contents(\"\u30d5\u30a1\u30a4\u30eb\u540d\");\n```\n\u53c2\u7167\uff1ahttp://www.negimiso.net/blog/2015/06/19/%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E3%80%81%E6%96%87%E5%AD%97%E5%8C%96%E3%81%91%E3%81%A8%E3%81%AE%E6%A0%BC%E9%97%98/\n\n###CakePHP2\u3067\u306f\u3069\u3046\u3059\u308c\u3070\u3088\u3044\u306e\u304b\uff1f\n\n```php:download.php\npublic function sendFile($id) {\n    $file = $this->Attachment->getFile($id);\n    $content = 'attachment;';\n    $content .= 'filename='.$filename;\n    $content .= 'filename*=UTF-8\\'\\''.rawurlencode($filename); \n    $this->response->header('Content-Disposition', $content);\n    $this->response->file($file['path']);\n    // \u30ec\u30b9\u30dd\u30f3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u30d3\u30e5\u30fc\u306e\u63cf\u753b\u3092\u4e2d\u6b62\u3057\u307e\u3059\n    return $this->response;\n}\n```\n\n\u7121\u4e8bIE\u3067\u3082\u30d5\u30a1\u30a4\u30eb\u540d\u304c\u6587\u5b57\u5316\u3051\u305b\u305a\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u305f\uff0e\n"}