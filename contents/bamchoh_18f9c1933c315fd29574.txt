{"context": "\n\n\u30e2\u30c1\u30d9\u30fc\u30b7\u30e7\u30f3\npeco\u3067\u518d\u5e30\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u63a2\u7d22\u3057\u305f\u30d1\u30b9\u306b\u79fb\u52d5\u3057\u305f\u3044\uff01\n\n\nruby script\n\u4ee5\u4e0b\u306fpeco\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e00\u89a7\u3092\u6e21\u3057\u3066\u3001peco\u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5410\u304f\u307e\u3067\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\u3053\u308c\u3092cd\u3068\u304b\u306b\u98df\u308f\u3057\u3066\u3084\u308b\u3068\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u79fb\u52d5\u304c\u3067\u304d\u308b\u304b\u3068\u3002\n\ndirectory-search.rb\ndef search_dir(cur_dir)\n    dirs = Dir.glob(File.join(cur_dir, \"*\")).map { |e|\n        e.force_encoding(\"UTF-8\") if File.directory?(e)\n    }.compact\n\n    unless dirs.empty?\n        $io.puts dirs\n        dirs.each do |sub_dir|\n            search_dir(File.join(sub_dir))\n        end\n    end\nend\n\nbegin\n    $io = IO.popen(\"peco.exe\", \"w\")\n    search_dir(\".\")\nrescue\nensure\n    $io.close\nend\n\n\n\nglob(\"**/*\")\u3067\u518d\u5e30\u63a2\u7d22\u3067\u304d\u308b\u3088\uff1f\n\u8d77\u52d5\u6642\u4e00\u767a\u76ee\u304c\u306a\u3093\u304b\u304a\u305d\u304b\u3063\u305f\u306e\u3067\u3002\u3002\u3067\u304d\u308b\u3060\u3051peco\u3092\u65e9\u304f\u8d77\u52d5\u3057\u3066\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u308b\u6700\u4e2d\u306b\u63a2\u7d22\u3057\u3066\u304f\u308c\u308c\u3070\u3044\u3044\u304b\u306a\u3068\u3044\u3046\u601d\u60f3\u3067\u3059\u3002\n\n\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3067\u3084\u308c\u3088\n@echo off\ndir /b /s | findstr /v /r \\\\\\. | iconv -f CP932 -t UTF-8 | peco\n\n\u3068\u3044\u3046\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u7d44\u3093\u3067\u59cb\u3081\u306f\u3084\u3063\u3066\u305f\u3093\u3067\u3059\u304c\u3001\u5909\u306b\u6587\u5b57\u5316\u3051\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u5927\u91cf\u306b\u3042\u3063\u305f\u308a\u3057\u3066iconv\u304c\u5909\u63db\u3067\u304d\u305a\u306b\u9014\u4e2d\u3067\u6b62\u307e\u3063\u3066\u3057\u307e\u3046\u554f\u984c\u304c\u3042\u308a\u307e\u3057\u3066\u3002\u3002\n\u3042\u3068\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3060\u3051\u53d6\u308b\u65b9\u6cd5\u304c\u30d1\u30c3\u3068\u601d\u3044\u3064\u304b\u305a\u3002ruby\u306a\u3089\u601d\u3044\u3064\u3044\u305f\u3063\u3066\u3044\u3046\u306e\u304cruby\u3067\u66f8\u3044\u305f\u4e00\u756a\u306e\u7406\u7531\u3067\u3059\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u79fb\u52d5\u3059\u308b\u70ba\u306e\u30d0\u30c3\u30c1\u30b9\u30af\u30ea\u30d7\u30c8\ndirectory-search.rb\u306e\u30d1\u30b9\u306f\u304a\u597d\u304d\u306a\u5834\u6240\u306b\u5909\u66f4\u3057\u3066\u9802\u3051\u308c\u3070\u826f\u3044\u304b\u3068\u3002\n@echo off\n\nfor /f \"delims=\" %%i in ('ruby %USERPROFILE%/directory-search.rb ^| iconv -f UTF-8 -t CP932') do (\n        cd ^\"%%i^\"\n        break\n)\n\n\n\u53c2\u8003\u8cc7\u6599\n\nhttps://github.com/peco/peco\nhttps://github.com/mattn/pcd\nhttps://github.com/mattn/cool-peco-windows\n\n# \u30e2\u30c1\u30d9\u30fc\u30b7\u30e7\u30f3\n\npeco\u3067\u518d\u5e30\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u63a2\u7d22\u3057\u305f\u30d1\u30b9\u306b\u79fb\u52d5\u3057\u305f\u3044\uff01\n\n![aaa.gif](https://qiita-image-store.s3.amazonaws.com/0/12550/8d9ae2ee-8467-e05b-76a2-189a3bc11d01.gif)\n\n# ruby script\n\n\u4ee5\u4e0b\u306fpeco\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e00\u89a7\u3092\u6e21\u3057\u3066\u3001peco\u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5410\u304f\u307e\u3067\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\u3053\u308c\u3092`cd`\u3068\u304b\u306b\u98df\u308f\u3057\u3066\u3084\u308b\u3068\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u79fb\u52d5\u304c\u3067\u304d\u308b\u304b\u3068\u3002\n\n```rb:directory-search.rb\ndef search_dir(cur_dir)\n\tdirs = Dir.glob(File.join(cur_dir, \"*\")).map { |e|\n\t\te.force_encoding(\"UTF-8\") if File.directory?(e)\n\t}.compact\n\n\tunless dirs.empty?\n\t\t$io.puts dirs\n\t\tdirs.each do |sub_dir|\n\t\t\tsearch_dir(File.join(sub_dir))\n\t\tend\n\tend\nend\n\nbegin\n\t$io = IO.popen(\"peco.exe\", \"w\")\n\tsearch_dir(\".\")\nrescue\nensure\n\t$io.close\nend\n```\n\n## glob(\"\\*\\*/\\*\")\u3067\u518d\u5e30\u63a2\u7d22\u3067\u304d\u308b\u3088\uff1f\n\n\u8d77\u52d5\u6642\u4e00\u767a\u76ee\u304c\u306a\u3093\u304b\u304a\u305d\u304b\u3063\u305f\u306e\u3067\u3002\u3002\u3067\u304d\u308b\u3060\u3051peco\u3092\u65e9\u304f\u8d77\u52d5\u3057\u3066\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u308b\u6700\u4e2d\u306b\u63a2\u7d22\u3057\u3066\u304f\u308c\u308c\u3070\u3044\u3044\u304b\u306a\u3068\u3044\u3046\u601d\u60f3\u3067\u3059\u3002\n\n## \u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3067\u3084\u308c\u3088\n\n```\n@echo off\ndir /b /s | findstr /v /r \\\\\\. | iconv -f CP932 -t UTF-8 | peco\n```\n\n\u3068\u3044\u3046\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u7d44\u3093\u3067\u59cb\u3081\u306f\u3084\u3063\u3066\u305f\u3093\u3067\u3059\u304c\u3001\u5909\u306b\u6587\u5b57\u5316\u3051\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u5927\u91cf\u306b\u3042\u3063\u305f\u308a\u3057\u3066iconv\u304c\u5909\u63db\u3067\u304d\u305a\u306b\u9014\u4e2d\u3067\u6b62\u307e\u3063\u3066\u3057\u307e\u3046\u554f\u984c\u304c\u3042\u308a\u307e\u3057\u3066\u3002\u3002\n\n\u3042\u3068\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3060\u3051\u53d6\u308b\u65b9\u6cd5\u304c\u30d1\u30c3\u3068\u601d\u3044\u3064\u304b\u305a\u3002ruby\u306a\u3089\u601d\u3044\u3064\u3044\u305f\u3063\u3066\u3044\u3046\u306e\u304cruby\u3067\u66f8\u3044\u305f\u4e00\u756a\u306e\u7406\u7531\u3067\u3059\u3002\n\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u79fb\u52d5\u3059\u308b\u70ba\u306e\u30d0\u30c3\u30c1\u30b9\u30af\u30ea\u30d7\u30c8\n\ndirectory-search.rb\u306e\u30d1\u30b9\u306f\u304a\u597d\u304d\u306a\u5834\u6240\u306b\u5909\u66f4\u3057\u3066\u9802\u3051\u308c\u3070\u826f\u3044\u304b\u3068\u3002\n\n```\n@echo off\n\nfor /f \"delims=\" %%i in ('ruby %USERPROFILE%/directory-search.rb ^| iconv -f UTF-8 -t CP932') do (\n\t\tcd ^\"%%i^\"\n\t\tbreak\n)\n```\n\n# \u53c2\u8003\u8cc7\u6599\n\n* https://github.com/peco/peco\n\n* https://github.com/mattn/pcd\n\n* https://github.com/mattn/cool-peco-windows\n", "tags": ["Ruby", "Peco"]}