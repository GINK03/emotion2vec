{"context": "\n\nHow to install nghttp2, h2load on OracleLinux 6.7\nhttp://qiita.com/tatsuhiro-t/items/6cbe5b095e24d7feb381\n-  install HTTP/2 server nghttp2\n-  install HTTP/2 benchmark tool h2load\n\nBackground\n\nhttps://gist.github.com/sonots/2bdf6cd26c23ef44db71\ncentos6 \u3060\u3068 epel \u306e libev \u304c\u53e4\u304f\u3066\u3081\u3093\u3069\u304f\u3055\u304f\u306a\u3063\u305f\u306e\u3067 centos7 \u3067\u30d3\u30eb\u30c9\u3057\u305f\n\nSo let me try...\n\n\nPrerequisite\n\nOracleLinux 6.7 installed (Red Hat Enterprise Linux Server 6.7)\n\n\n/etc/issue\nOracle Linux Server release 6.7\n\n\n\nRead : How to build from git https://github.com/tatsuhiro-t/nghttp2\n\n\n\nBuilding from git\nBuilding from git is easy, but please be sure that at least autoconf 2.68 is used:\n$ autoreconf -i\n$ automake\n$ autoconf\n$ ./configure\n$ make\nTo compile the source code, gcc >= 4.8.3 or clang >= 3.4 is required.\n\n\nBefore compile ... required libraries\nyum groupinstall \"Development tools\"\ncd\ngit clone https://github.com/tatsuhiro-t/spdylay.git\ngit clone https://github.com/tatsuhiro-t/nghttp2.git\n\nmore spdylay/README.rst\nmore nghttp2/README.rst\n\n gcc -v\ngcc version 4.4.7 20120313 (Red Hat 4.4.7-16) (GCC)\nWe need to install newer gcc as well as Python 2.7 -\nInstalling Software Collection Library Utility from Oracle Public Yum\nhttp://docs.oracle.com/cd/E37670_01/E59096/html/section_e3v_nbl_cr.html\n# wget -O /etc/yum.repos.d/public-yum-ol6.repo http://public-yum.oracle.com/public-yum-ol6.repo\n\n/etc/yum.repos.d/public-yum-ol6.repo\n[ol6_software_collections]\nname=Software Collection Library release 1.2 packages for Oracle Linux 6 (x86_64)\nbaseurl=http://public-yum.oracle.com/repo/OracleLinux/OL6/SoftwareCollections12/x86_64/\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-oracle \ngpgcheck=1\nenabled=1\n\n\nyum install scl-utils\nyum install devtoolset-3 python27\n\nscl enable devtoolset-3 python27 bash\n\nwget ftp://ftp.gnu.org/pub/gnu/autoconf/autoconf-2.64.tar.gz\ntar zxvf autoconf-2.64.tar.gz\ncd autoconf-2.64\n./configure\nmake\nmake install\nautoconf --version\n\ncd\nwget ftp://xmlsoft.org/libxml2/libxml2-2.7.7-1.x86_64.rpm\nwget ftp://xmlsoft.org/libxml2/libxml2-devel-2.7.7-1.x86_64.rpm\nwget ftp://xmlsoft.org/libxml2/libxml2-python-2.7.7-1.x86_64.rpm\nyum -Uvh libxml2-*\n\nwget ftp://ftp.pbone.net/mirror/ftp5.gwdg.de/pub/opensuse/repositories/home:/rudi_m/RedHat_RHEL-6/x86_64/libev4-4.15-7.1.x86_64.rpm\nwget ftp://ftp.pbone.net/mirror/ftp5.gwdg.de/pub/opensuse/repositories/home:/rudi_m/RedHat_RHEL-6/x86_64/libev-devel-4.15-7.1.x86_64.rpm\nyum -Uvh libev*\n\n\nNow make install\ncd\ncd spdylay\n\nautoreconf -i\nautomake\nautoconf\n./configure\nmake\nmake install\n\ncd ../nghttp2\nexport PKG_CONFIG_PATH=/lib/pkgconfig:/usr/lib/pkgconfig:/usr/lib64/pkgconfig:/usr/local/lib/pkgconfig\nautoreconf -i\nautomake\nautoconf\n./configure --with-spdylay\nmake\nmake install\n\nDone   \n\n\nRequirements\nThe following package is required to build the libnghttp2 library:\n\npkg-config >= 0.20\n\nTo build and run the unit test programs, the following package is required:\n\ncunit >= 2.1\n\nTo build the documentation, you need to install:\n\nsphinx (http://sphinx-doc.org/)\n\nTo build and run the application programs (nghttp, nghttpd,nghttpx and h2load) in the src directory, the following packages are required:\n\nOpenSSL >= 1.0.1\nlibev >= 4.15\nzlib >= 1.2.3\n\nALPN support requires OpenSSL >= 1.0.2 (released 22 January 2015).\nLibreSSL >= 2.2.0 can be used instead of OpenSSL, but OpenSSL has more features than LibreSSL at the time of this writing.\nTo enable the SPDY protocol in the application program nghttpx and h2load, the following package is required:\n\nspdylay >= 1.3.2\n\nTo enable -a option (getting linked assets from the downloaded resource) in nghttp, the following package is required:\n\nlibxml2 >= 2.7.7\n\nThe HPACK tools require the following package:\n\njansson >= 2.5\n\nTo build sources under the examples directory, libevent is required:\n\nlibevent-openssl >= 2.0.8\n\nTo mitigate heap fragmentation in long running server programs (nghttpd and nghttpx), jemalloc is recommended:\n\njemalloc\n\nlibnghttp2_asio C++ library requires the following packages:\n\nlibboost-dev >= 1.54.0\nlibboost-thread-dev >= 1.54.0\n\nThe Python bindings require the following packages:\n\ncython >= 0.19\npython >= 2.7\npython-setuptools\n\n\n# How to install nghttp2, h2load on OracleLinux 6.7\n\nhttp://qiita.com/tatsuhiro-t/items/6cbe5b095e24d7feb381\n- :white_check_mark: install HTTP/2 server **nghttp2**\n- :white_check_mark: install HTTP/2 benchmark tool **h2load**\n\n## Background\n>https://gist.github.com/sonots/2bdf6cd26c23ef44db71\n>centos6 \u3060\u3068 epel \u306e libev \u304c\u53e4\u304f\u3066\u3081\u3093\u3069\u304f\u3055\u304f\u306a\u3063\u305f\u306e\u3067 centos7 \u3067\u30d3\u30eb\u30c9\u3057\u305f\n\nSo let me try...\n\n***\n## Prerequisite\n- OracleLinux 6.7 installed (Red Hat Enterprise Linux Server 6.7)\n\n```sh:/etc/issue\nOracle Linux Server release 6.7\n```\n- Read : How to build from git https://github.com/tatsuhiro-t/nghttp2\n\n>Building from git\n>\n>Building from git is easy, but please be sure that at least **autoconf 2.68** is used:\n>`$ autoreconf -i`\n>`$ automake`\n>`$ autoconf`\n>`$ ./configure`\n>`$ make`\n>\n>To compile the source code, **gcc >= 4.8.3** or **clang >= 3.4** is required.\n\n\n\n## Before compile ... required libraries\n```\nyum groupinstall \"Development tools\"\ncd\ngit clone https://github.com/tatsuhiro-t/spdylay.git\ngit clone https://github.com/tatsuhiro-t/nghttp2.git\n\nmore spdylay/README.rst\nmore nghttp2/README.rst\n```\n\n:heavy_exclamation_mark: gcc -v\n `gcc version 4.4.7 20120313 (Red Hat 4.4.7-16) (GCC) `\n\nWe need to install newer gcc as well as Python 2.7 -\nInstalling Software Collection Library Utility from Oracle Public Yum\nhttp://docs.oracle.com/cd/E37670_01/E59096/html/section_e3v_nbl_cr.html\n\n `# wget -O /etc/yum.repos.d/public-yum-ol6.repo http://public-yum.oracle.com/public-yum-ol6.repo`\n\n ```/etc/yum.repos.d/public-yum-ol6.repo\n[ol6_software_collections]\nname=Software Collection Library release 1.2 packages for Oracle Linux 6 (x86_64)\nbaseurl=http://public-yum.oracle.com/repo/OracleLinux/OL6/SoftwareCollections12/x86_64/\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-oracle \ngpgcheck=1\nenabled=1\n```\n\n```\nyum install scl-utils\nyum install devtoolset-3 python27\n\nscl enable devtoolset-3 python27 bash\n\nwget ftp://ftp.gnu.org/pub/gnu/autoconf/autoconf-2.64.tar.gz\ntar zxvf autoconf-2.64.tar.gz\ncd autoconf-2.64\n./configure\nmake\nmake install\nautoconf --version\n```\n\n```\ncd\nwget ftp://xmlsoft.org/libxml2/libxml2-2.7.7-1.x86_64.rpm\nwget ftp://xmlsoft.org/libxml2/libxml2-devel-2.7.7-1.x86_64.rpm\nwget ftp://xmlsoft.org/libxml2/libxml2-python-2.7.7-1.x86_64.rpm\nyum -Uvh libxml2-*\n\nwget ftp://ftp.pbone.net/mirror/ftp5.gwdg.de/pub/opensuse/repositories/home:/rudi_m/RedHat_RHEL-6/x86_64/libev4-4.15-7.1.x86_64.rpm\nwget ftp://ftp.pbone.net/mirror/ftp5.gwdg.de/pub/opensuse/repositories/home:/rudi_m/RedHat_RHEL-6/x86_64/libev-devel-4.15-7.1.x86_64.rpm\nyum -Uvh libev*\n```\n\n\n## Now make install\n\n```\ncd\ncd spdylay\n\nautoreconf -i\nautomake\nautoconf\n./configure\nmake\nmake install\n```\n\n```\ncd ../nghttp2\nexport PKG_CONFIG_PATH=/lib/pkgconfig:/usr/lib/pkgconfig:/usr/lib64/pkgconfig:/usr/local/lib/pkgconfig\nautoreconf -i\nautomake\nautoconf\n./configure --with-spdylay\nmake\nmake install\n```\n\n\nDone :smiley: :tada: \n\n>Requirements\n>------------\n>\n>The following package is required to build the libnghttp2 library:\n>\n>* pkg-config >= 0.20\n>\n>To build and run the unit test programs, the following package is required:\n>\n>* cunit >= 2.1\n>\n>To build the documentation, you need to install:\n>\n>* sphinx (http://sphinx-doc.org/)\n>\n>To build and run the application programs (``nghttp``, ``nghttpd``,``nghttpx`` and ``h2load``) in the ``src`` directory, the following packages are required:\n>\n>* OpenSSL >= 1.0.1\n>* libev >= 4.15\n>* zlib >= 1.2.3\n>\n>ALPN support requires OpenSSL >= 1.0.2 (released 22 January 2015).\n>LibreSSL >= 2.2.0 can be used instead of OpenSSL, but OpenSSL has more features than LibreSSL at the time of this writing.\n>\n>To enable the SPDY protocol in the application program ``nghttpx`` and ``h2load``, the following package is required:\n>\n>* spdylay >= 1.3.2\n>\n>To enable ``-a`` option (getting linked assets from the downloaded resource) in ``nghttp``, the following package is required:\n>\n>* libxml2 >= 2.7.7\n>\n>The HPACK tools require the following package:\n>\n>* jansson >= 2.5\n>\n>To build sources under the examples directory, libevent is required:\n>\n>* libevent-openssl >= 2.0.8\n>\n>To mitigate heap fragmentation in long running server programs (``nghttpd`` and ``nghttpx``), jemalloc is recommended:\n>\n>* jemalloc\n>\n>libnghttp2_asio C++ library requires the following packages:\n>\n>* libboost-dev >= 1.54.0\n>* libboost-thread-dev >= 1.54.0\n>\n>The Python bindings require the following packages:\n>\n>* cython >= 0.19\n>* python >= 2.7\n>* python-setuptools\n\n", "tags": ["http2", "http2.0", "benchmark", "OracleLinux", "nghttp2"]}