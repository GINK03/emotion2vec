{"context": " More than 1 year has passed since last update.Python2.7\u3068python-twitter\u3067\u9069\u5f53\u306btwitter\u3078\u3064\u3076\u3084\u3044\u3066\u307f\u305f\n\u5834\u5408\u306b\u3088\u3063\u3066\u306foauth2\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u304b\u3082\n\u6e96\u5099\u3068\u3057\u3066pip install twitter oauth2\u3068\u304b\u3067\u9069\u5f53\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u7d44\u307f\u8fbc\u3080\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u60c5\u5831\u3092\u958b\u767a\u8005\u30da\u30fc\u30b8\u3067\u53d6\u5f97\u3057\u3066\n\u306a\u304f\u3066\u3082\u5e73\u6c17\u3067\u3059\u304c\u8a2d\u5b9a\u7528\u306exml\u3092\u4f5c\u308a\u307e\u3059\n\u3053\u3093\u306a\u611f\u3058\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\nconfig.xml\n<?xml version=\"1.0\" ?>\n<config>\n    <consumer_key>Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eConsumerKey</consumer_key>\n    <consumer_secret>Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eConsumer_SecretKey</consumer_secret>\n</config>\n\n\n\n\u8a8d\u8a3c\u3059\u308b\u305f\u3081\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304d\u307e\u3059\n\u524d\u6bb5\u968e\u3067xml\u4f5c\u3089\u306a\u3044\u5834\u5408\u306f\u521d\u56de\u8d77\u52d5\u6642\u306b\u805e\u3044\u3066\u304d\u307e\u3059\n\u30a8\u30e9\u30fc\u5410\u3044\u305f\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u8db3\u308a\u306a\u3044\u304bxml\u304c\u304a\u304b\u3057\u304f\u306a\u3063\u3066\u308b\u306e\u3067\u6d88\u3059\u304b\u66f8\u304d\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\n\nOauth\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\n\noauthing.py\nimport oauth2,urlparse\nimport webbrowser\nimport os\nimport xml.etree.ElementTree as XML\nfrom xml.dom import minidom\n\n\n#\u30d1\u30fc\u30b5\u30fc\ndef pretty(elem):\n    rough_string = XML.tostring(elem,'utf-8')\n    reparsed = minidom.parseString(rough_string)\n    return reparsed.toprettyxml(indent='    ')\n\n#\u683c\u7d0d\u5148\nCONSUMER_KEY        = ''\nCONSUMER_SECLET     = ''\n\n#\u3000\u8aad\u307f\u8fbc\u3080\u30b3\u30f3\u30d5\u30a3\u30b0\u30d5\u30a1\u30a4\u30eb\u540d\nCONFIG_FILE = 'config.xml'\n\n#\u5b58\u5728\u30c1\u30a7\u30c3\u30af\nif os.path.isfile(CONFIG_FILE):\n    # read consumerkey as config.xml\n    tree = XML.parse(CONFIG_FILE)\n    root = tree.getroot()\n    CONSUMER_KEY = root.find('.//consumer_key').text\n    CONSUMER_SECLET = root.find('.//consumer_secret').text\n\nelse:\n    # read input as write file\n   top = XML.Element('config')\n   con_key = XML.SubElement(top,'consumer_key')\n   print 'request Consumer Key ? '\n   con_key.text = raw_input()\n   CONSUMER_KEY = con_key.text\n   con_secret = XML.SubElement(top,'consumer_secret')\n   print 'request Consumer Secret Key ? '\n   con_secret.text = raw_input()\n   CONSUMER_SECLET = con_secret.text\n   with open(CONFIG_FILE,'w') as f:\n       f.write(pretty(top))\n\nconsumer = oauth2.Consumer(key='{0}'.format(CONSUMER_KEY),secret='{0}'.format(CONSUMER_SECLET))\nclient = oauth2.Client(consumer)\n\nresp,content = client.request('https://api.twitter.com/oauth/request_token','GET')\n\nd = dict(urlparse.parse_qsl(content) )\n\nurl ='https://api.twitter.com/oauth/authorize?oauth_token={0}'.format(d['oauth_token'])\nwebbrowser.open(url)\n\n#\u3053\u3053\u3067\u30d6\u30e9\u30a6\u30b6\u3067PIN\u8a8d\u8a3c\u3092\u884c\u3046\nprint 'request pin'\npin = raw_input()\n\ntoken =  oauth2.Token(d['oauth_token'],d['oauth_token_secret'] )\nclient = oauth2.Client(consumer,token)\nresp,content = client.request('https://api.twitter.com/oauth/access_token',\n        'POST',\n        body='oauth_verifier={0}'.format(pin)\n        )\n\nd2 = dict(urlparse.parse_qsl(content) )\n\n#\u3046\u307e\u304f\u8a8d\u8a3c\u3067\u304d\u3066\u3044\u308c\u3070\u3053\u3053\u3067\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u306e\u66f8\u304d\u51fa\u3057\nnewroot = XML.Element('config')\ntree = XML.parse(CONFIG_FILE)\nroot = tree.getroot()\nCONSUMER_KEY = root.find('.//consumer_key').text\nCONSUMER_SECLET = root.find('.//consumer_secret').text\ncon_key = XML.SubElement(newroot,'consumer_key');\ncon_key.text = CONSUMER_KEY\ncon_secret = XML.SubElement(newroot,'consumer_secret')\ncon_secret.text = CONSUMER_SECLET\noauth = XML.SubElement(newroot,'oauth_token')\noauth.text = d2['oauth_token']\noauth_secret = XML.SubElement( newroot ,'oauth_token_secret')\noauth_secret.text = d2['oauth_token_secret']\n\nwith open(CONFIG_FILE,'w') as f:\n   f.write(pretty(newroot))\n\n\n\n\u3064\u3076\u3084\u304f\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u4f7f\u3046\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u958b\u767a\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u540c\u3058\u306a\u3089\noauthing.py\u7121\u8996\u3057\u3066XML\u66f8\u3044\u3066\u3057\u307e\u3048\u307e\u3059\n\nconfig.xml\n<?xml version=\"1.0\" ?>\n<config>\n    <consumer_key>Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eConsumerKey</consumer_key>\n    <consumer_secret>Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eConsumer_SecretKey</consumer_secret>\n    <oauth_token>Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eoauth_Token</oauth_token>\n    <oauth_token_secret>Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eOauth_Token_SecretKey</oauth_token_secret>\n</config>\n\n\n\n\u8a8d\u8a3c\u3067\u304d\u308c\u3070\u5f8c\u306f\u3053\u3063\u3061\u3060\u3051\u3067\u5341\u5206\u3067\u3059\n\n\u5b9f\u969b\u306b\u3064\u3076\u3084\u304f\u30d5\u30a1\u30a4\u30eb\n\ntweet.py\nimport twitter\nimport commands\nimport os\nimport platform\nimport urllib\nimport xml.etree.ElementTree as XML\n\ndef check_None(elem,key):\n    res = None\n    res = elem.find(key)\n    if res == None:\n        res = ''\n    else:\n        res = res.text\n    return res\n\n\nCONFIG_FILE = 'config.xml'\n\nCONSUMER_KEY        = ''\nCONSUMER_SECLET     = ''\nACCESS_TOKEN_KEY    = ''\nACCESS_TOKEN_SECLET = ''\n\n#oauthing.py\u3067\u4f5c\u3063\u305fXML\u304b\u3089\u60c5\u5831\u5f15\u3063\u5f35\u308b\nif os.path.isfile(CONFIG_FILE):\n    tree = XML.parse(CONFIG_FILE)\n    root = tree.getroot()\n    CONSUMER_KEY        = check_None(root,'consumer_key')\n    CONSUMER_SECLET     = check_None(root,'consumer_secret')\n    ACCESS_TOKEN_KEY    = check_None(root,'oauth_token')\n    ACCESS_TOKEN_SECLET = check_None(root,'oauth_token_secret')\nelse:\n    exit()\n\napi = twitter.Api(\n        consumer_key = CONSUMER_KEY,\n        consumer_secret = CONSUMER_SECLET,\n        access_token_key = ACCESS_TOKEN_KEY,\n        access_token_secret = ACCESS_TOKEN_SECLET,\n        cache=None\n        )\n\n#\u30b0\u30ed\u30fc\u30d0\u30ebIP\u3092\u3064\u3076\u3084\u3044\u3066\u307f\u308b\nip = None\nif platform.system() == 'Windows':\n    sock = urllib.urlopen('http://ipcheck.ieserver.net')\n    ip = sock.read()\n    sock.close()\nelif platform.system() == 'Linux':\n    ip = commands.getoutput('wget -q -O - ipcheck.ieserver.net')\n\nif ip == None:\n    exit()\n\n#\u5b9f\u969b\u306b\u3064\u3076\u3084\u304f\nstatus = api.PostUpdate('{0}'.format(ip))\n\n\n\u6700\u5f8c\u306e\u3068\u3053\u308d\u306f\u9069\u5f53\u306b\u6539\u9020\u3057\u3066\u304f\u3060\u3055\u3044\noauthing.py\u3092\u4f5c\u3063\u305f\u306e\u306f\u30a2\u30d7\u30ea\u306e\u958b\u767a\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u306f\u5225\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3084\u308a\u305f\u304b\u3063\u305f\u304b\u3089\u3067\u3059\u3002\ncron\u3067\u307e\u308f\u3059\u306e\u306a\u3089CONFIG_FILE\u306e\u90e8\u5206\u306f\u30d5\u30eb\u30d1\u30b9\u306e\u307b\u3046\u304c\u3044\u3044\u304b\u3082\n\nPython2.7\u3068python-twitter\u3067\u9069\u5f53\u306btwitter\u3078\u3064\u3076\u3084\u3044\u3066\u307f\u305f\n\u5834\u5408\u306b\u3088\u3063\u3066\u306foauth2\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u304b\u3082\n\n\u6e96\u5099\u3068\u3057\u3066```pip install twitter oauth2```\u3068\u304b\u3067\u9069\u5f53\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u7d44\u307f\u8fbc\u3080\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u60c5\u5831\u3092\u958b\u767a\u8005\u30da\u30fc\u30b8\u3067\u53d6\u5f97\u3057\u3066\n\n\u306a\u304f\u3066\u3082\u5e73\u6c17\u3067\u3059\u304c\u8a2d\u5b9a\u7528\u306exml\u3092\u4f5c\u308a\u307e\u3059\n\n\u3053\u3093\u306a\u611f\u3058\n\n###\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n```xml:config.xml\n<?xml version=\"1.0\" ?>\n<config>\n    <consumer_key>Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eConsumerKey</consumer_key>\n    <consumer_secret>Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eConsumer_SecretKey</consumer_secret>\n</config>\n\n```\n\n\u8a8d\u8a3c\u3059\u308b\u305f\u3081\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304d\u307e\u3059\n\u524d\u6bb5\u968e\u3067xml\u4f5c\u3089\u306a\u3044\u5834\u5408\u306f\u521d\u56de\u8d77\u52d5\u6642\u306b\u805e\u3044\u3066\u304d\u307e\u3059\n\u30a8\u30e9\u30fc\u5410\u3044\u305f\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u8db3\u308a\u306a\u3044\u304bxml\u304c\u304a\u304b\u3057\u304f\u306a\u3063\u3066\u308b\u306e\u3067\u6d88\u3059\u304b\u66f8\u304d\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\n\n###Oauth\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\n\n```py:oauthing.py\nimport oauth2,urlparse\nimport webbrowser\nimport os\nimport xml.etree.ElementTree as XML\nfrom xml.dom import minidom\n\n\n#\u30d1\u30fc\u30b5\u30fc\ndef pretty(elem):\n    rough_string = XML.tostring(elem,'utf-8')\n    reparsed = minidom.parseString(rough_string)\n    return reparsed.toprettyxml(indent='    ')\n\n#\u683c\u7d0d\u5148\nCONSUMER_KEY        = ''\nCONSUMER_SECLET     = ''\n\n#\u3000\u8aad\u307f\u8fbc\u3080\u30b3\u30f3\u30d5\u30a3\u30b0\u30d5\u30a1\u30a4\u30eb\u540d\nCONFIG_FILE = 'config.xml'\n\n#\u5b58\u5728\u30c1\u30a7\u30c3\u30af\nif os.path.isfile(CONFIG_FILE):\n    # read consumerkey as config.xml\n    tree = XML.parse(CONFIG_FILE)\n    root = tree.getroot()\n    CONSUMER_KEY = root.find('.//consumer_key').text\n    CONSUMER_SECLET = root.find('.//consumer_secret').text\n\nelse:\n    # read input as write file\n   top = XML.Element('config')\n   con_key = XML.SubElement(top,'consumer_key')\n   print 'request Consumer Key ? '\n   con_key.text = raw_input()\n   CONSUMER_KEY = con_key.text\n   con_secret = XML.SubElement(top,'consumer_secret')\n   print 'request Consumer Secret Key ? '\n   con_secret.text = raw_input()\n   CONSUMER_SECLET = con_secret.text\n   with open(CONFIG_FILE,'w') as f:\n       f.write(pretty(top))\n\nconsumer = oauth2.Consumer(key='{0}'.format(CONSUMER_KEY),secret='{0}'.format(CONSUMER_SECLET))\nclient = oauth2.Client(consumer)\n\nresp,content = client.request('https://api.twitter.com/oauth/request_token','GET')\n\nd = dict(urlparse.parse_qsl(content) )\n\nurl ='https://api.twitter.com/oauth/authorize?oauth_token={0}'.format(d['oauth_token'])\nwebbrowser.open(url)\n\n#\u3053\u3053\u3067\u30d6\u30e9\u30a6\u30b6\u3067PIN\u8a8d\u8a3c\u3092\u884c\u3046\nprint 'request pin'\npin = raw_input()\n\ntoken =  oauth2.Token(d['oauth_token'],d['oauth_token_secret'] )\nclient = oauth2.Client(consumer,token)\nresp,content = client.request('https://api.twitter.com/oauth/access_token',\n        'POST',\n        body='oauth_verifier={0}'.format(pin)\n        )\n\nd2 = dict(urlparse.parse_qsl(content) )\n\n#\u3046\u307e\u304f\u8a8d\u8a3c\u3067\u304d\u3066\u3044\u308c\u3070\u3053\u3053\u3067\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u306e\u66f8\u304d\u51fa\u3057\nnewroot = XML.Element('config')\ntree = XML.parse(CONFIG_FILE)\nroot = tree.getroot()\nCONSUMER_KEY = root.find('.//consumer_key').text\nCONSUMER_SECLET = root.find('.//consumer_secret').text\ncon_key = XML.SubElement(newroot,'consumer_key');\ncon_key.text = CONSUMER_KEY\ncon_secret = XML.SubElement(newroot,'consumer_secret')\ncon_secret.text = CONSUMER_SECLET\noauth = XML.SubElement(newroot,'oauth_token')\noauth.text = d2['oauth_token']\noauth_secret = XML.SubElement( newroot ,'oauth_token_secret')\noauth_secret.text = d2['oauth_token_secret']\n\nwith open(CONFIG_FILE,'w') as f:\n   f.write(pretty(newroot))\n\n```\n\n\n\u3064\u3076\u3084\u304f\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u4f7f\u3046\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u958b\u767a\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u540c\u3058\u306a\u3089\noauthing.py\u7121\u8996\u3057\u3066XML\u66f8\u3044\u3066\u3057\u307e\u3048\u307e\u3059\n\n```xml:config.xml\n<?xml version=\"1.0\" ?>\n<config>\n    <consumer_key>Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eConsumerKey</consumer_key>\n    <consumer_secret>Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eConsumer_SecretKey</consumer_secret>\n    <oauth_token>Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eoauth_Token</oauth_token>\n    <oauth_token_secret>Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eOauth_Token_SecretKey</oauth_token_secret>\n</config>\n\n```\n\n\u8a8d\u8a3c\u3067\u304d\u308c\u3070\u5f8c\u306f\u3053\u3063\u3061\u3060\u3051\u3067\u5341\u5206\u3067\u3059\n\n###\u5b9f\u969b\u306b\u3064\u3076\u3084\u304f\u30d5\u30a1\u30a4\u30eb\n\n```py:tweet.py\nimport twitter\nimport commands\nimport os\nimport platform\nimport urllib\nimport xml.etree.ElementTree as XML\n\ndef check_None(elem,key):\n    res = None\n    res = elem.find(key)\n    if res == None:\n        res = ''\n    else:\n        res = res.text\n    return res\n\n\nCONFIG_FILE = 'config.xml'\n\nCONSUMER_KEY        = ''\nCONSUMER_SECLET     = ''\nACCESS_TOKEN_KEY    = ''\nACCESS_TOKEN_SECLET = ''\n\n#oauthing.py\u3067\u4f5c\u3063\u305fXML\u304b\u3089\u60c5\u5831\u5f15\u3063\u5f35\u308b\nif os.path.isfile(CONFIG_FILE):\n    tree = XML.parse(CONFIG_FILE)\n    root = tree.getroot()\n    CONSUMER_KEY        = check_None(root,'consumer_key')\n    CONSUMER_SECLET     = check_None(root,'consumer_secret')\n    ACCESS_TOKEN_KEY    = check_None(root,'oauth_token')\n    ACCESS_TOKEN_SECLET = check_None(root,'oauth_token_secret')\nelse:\n    exit()\n\napi = twitter.Api(\n        consumer_key = CONSUMER_KEY,\n        consumer_secret = CONSUMER_SECLET,\n        access_token_key = ACCESS_TOKEN_KEY,\n        access_token_secret = ACCESS_TOKEN_SECLET,\n        cache=None\n        )\n\n#\u30b0\u30ed\u30fc\u30d0\u30ebIP\u3092\u3064\u3076\u3084\u3044\u3066\u307f\u308b\nip = None\nif platform.system() == 'Windows':\n    sock = urllib.urlopen('http://ipcheck.ieserver.net')\n    ip = sock.read()\n    sock.close()\nelif platform.system() == 'Linux':\n    ip = commands.getoutput('wget -q -O - ipcheck.ieserver.net')\n\nif ip == None:\n    exit()\n\n#\u5b9f\u969b\u306b\u3064\u3076\u3084\u304f\nstatus = api.PostUpdate('{0}'.format(ip))\n```\n\n\u6700\u5f8c\u306e\u3068\u3053\u308d\u306f\u9069\u5f53\u306b\u6539\u9020\u3057\u3066\u304f\u3060\u3055\u3044\n\noauthing.py\u3092\u4f5c\u3063\u305f\u306e\u306f\u30a2\u30d7\u30ea\u306e\u958b\u767a\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u306f\u5225\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3084\u308a\u305f\u304b\u3063\u305f\u304b\u3089\u3067\u3059\u3002\n\ncron\u3067\u307e\u308f\u3059\u306e\u306a\u3089```CONFIG_FILE```\u306e\u90e8\u5206\u306f\u30d5\u30eb\u30d1\u30b9\u306e\u307b\u3046\u304c\u3044\u3044\u304b\u3082\n", "tags": ["python2.7", "Twitter", "Python"]}