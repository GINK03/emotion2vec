{"tags": ["yhpg", "Ruby", "\u3069\u3046\u66f8\u304f"], "context": " More than 1 year has passed since last update.\u554f\u984c\u306f\u3053\u3061\u3089\u3002\nhttp://nabetani.sakura.ne.jp/hena/ord30taxi/\nDIST={AB:1090,AC:180,AD:540,BC:960,BG:1270,CD:400,CF:200,DE:720,DF:510,EG:1050,FG:230}\nFEE={AB:60,AC:60,AD:50,BC:60,BG:60,CD:50,CF:60,DE:50,DF:50,EG:50,FG:50}\ndef solve(q)\n  cur_pos, *pos = q.chars\n  sum, dist = cur_pos < 'D' ? [400,995] : [350,845]\n  pos.each{|p|\n    key = [cur_pos, p].sort.join.to_sym\n    d = DIST[key]\n    if d <= dist\n      dist -= d\n    else\n      d -= dist\n      while true\n        dist = 200\n        sum += FEE[key]\n        if d < dist\n          dist -= d\n          break\n        else\n          d -= dist\n        end\n      end\n    end\n    cur_pos = p\n  }\n  sum\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.strip.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans.to_s\n  puts ans == a.to_i ? ' o' : ' x'\nend\n__END__\n0   ADFC    510\n1   CFDA    500\n2   AB  460\n3   BA  460\n4   CD  400\n5   DC  350\n6   BG  520\n7   GB  530\n8   FDA 450\n9   ADF 450\n10  FDACB   750\n11  BCADF   710\n12  EDACB   800\n13  BCADE   810\n14  EGFCADE 920\n15  EDACFGE 910\n16  ABCDA   960\n17  ADCBA   1000\n18  BADCFGB 1180\n19  BGFCDAB 1180\n20  CDFC    460\n21  CFDC    450\n22  ABGEDA  1420\n23  ADEGBA  1470\n24  CFGB    640\n25  BGFC    630\n26  ABGEDFC 1480\n27  CFDEGBA 1520\n28  CDFGEDABG   1770\n29  GBADEGFDC   1680\n\n\u554f\u984c\u306f\u3053\u3061\u3089\u3002\nhttp://nabetani.sakura.ne.jp/hena/ord30taxi/\n\n```rb\nDIST={AB:1090,AC:180,AD:540,BC:960,BG:1270,CD:400,CF:200,DE:720,DF:510,EG:1050,FG:230}\nFEE={AB:60,AC:60,AD:50,BC:60,BG:60,CD:50,CF:60,DE:50,DF:50,EG:50,FG:50}\ndef solve(q)\n  cur_pos, *pos = q.chars\n  sum, dist = cur_pos < 'D' ? [400,995] : [350,845]\n  pos.each{|p|\n    key = [cur_pos, p].sort.join.to_sym\n    d = DIST[key]\n    if d <= dist\n      dist -= d\n    else\n      d -= dist\n      while true\n        dist = 200\n        sum += FEE[key]\n        if d < dist\n          dist -= d\n          break\n        else\n          d -= dist\n        end\n      end\n    end\n    cur_pos = p\n  }\n  sum\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.strip.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans.to_s\n  puts ans == a.to_i ? ' o' : ' x'\nend\n__END__\n0\tADFC\t510\n1\tCFDA\t500\n2\tAB\t460\n3\tBA\t460\n4\tCD\t400\n5\tDC\t350\n6\tBG\t520\n7\tGB\t530\n8\tFDA\t450\n9\tADF\t450\n10\tFDACB\t750\n11\tBCADF\t710\n12\tEDACB\t800\n13\tBCADE\t810\n14\tEGFCADE\t920\n15\tEDACFGE\t910\n16\tABCDA\t960\n17\tADCBA\t1000\n18\tBADCFGB\t1180\n19\tBGFCDAB\t1180\n20\tCDFC\t460\n21\tCFDC\t450\n22\tABGEDA\t1420\n23\tADEGBA\t1470\n24\tCFGB\t640\n25\tBGFC\t630\n26\tABGEDFC\t1480\n27\tCFDEGBA\t1520\n28\tCDFGEDABG\t1770\n29\tGBADEGFDC\t1680\n```\n"}