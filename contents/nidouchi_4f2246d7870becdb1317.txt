{"context": " More than 1 year has passed since last update.\u554f\u984c\u306f\u3053\u3061\u3089\u3002\nhttp://nabetani.sakura.ne.jp/hena/ord6lintersection/\ndef rect_points(p1, p2)\n  x1,y1 = p1.split('').map(&:to_i)\n  x2,y2 = p2.split('').map(&:to_i)\n  ([x1,x2].min..[x1,x2].max).map{|x| ([y1,y2].min..[y1,y2].max).map{|y| [x,y]}}.flatten(1)\nend\n\ndef solve(q)\n  q.split(\",\").map{|i| i.split('-')}\n              .map{|j| (rect_points(j[0],j[1])|rect_points(j[0],j[2])).uniq}\n              .inject{|a,b| a&b}.size\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\"\n  print ans\n  puts ans == a.to_i ? 'o' : 'x'\nend\n__END__\n#1  23-94-28,89-06-51   11\n#2  11-84-58,02-73-69   40\n#3  18-41-86,77-04-32   26\n\n\u554f\u984c\u306f\u3053\u3061\u3089\u3002\nhttp://nabetani.sakura.ne.jp/hena/ord6lintersection/\n\n```ruby\ndef rect_points(p1, p2)\n  x1,y1 = p1.split('').map(&:to_i)\n  x2,y2 = p2.split('').map(&:to_i)\n  ([x1,x2].min..[x1,x2].max).map{|x| ([y1,y2].min..[y1,y2].max).map{|y| [x,y]}}.flatten(1)\nend\n\ndef solve(q)\n  q.split(\",\").map{|i| i.split('-')}\n              .map{|j| (rect_points(j[0],j[1])|rect_points(j[0],j[2])).uniq}\n              .inject{|a,b| a&b}.size\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\"\n  print ans\n  puts ans == a.to_i ? 'o' : 'x'\nend\n__END__\n#1\t23-94-28,89-06-51\t11\n#2\t11-84-58,02-73-69\t40\n#3\t18-41-86,77-04-32\t26\n```", "tags": ["Ruby", "\u3069\u3046\u66f8\u304f", "\u52c9\u5f37\u4f1a"]}