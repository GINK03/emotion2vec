{"context": "\n\nTL;DR\nruboty\u306egem\u4f5c\u6210\u306b\u3042\u305f\u3063\u3066\u3001\u899a\u3048\u3066\u304a\u3044\u305f\u65b9\u304c\u3044\u3044\u306e\u306f\u4e0b\u8a182\u70b9\n\nRubotyGenerator\u3067\u3072\u306a\u5f62\n\u547c\u3073\u51fa\u3057\u5143\u306eRuboty\u3067\u306f\u3001bundle config\u3067gem\u306epath\u66f8\u304d\u63db\u3048\u308b\u3068\u6357\u308b\n\n\nRubotyGenerator\u3092\u4f7f\u3046\n\u307b\u3068\u3093\u3069\u3001\u4f5c\u8005\u306e\u65b9\u306e\u30d6\u30ed\u30b0\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u304c\u3001\n\u3053\u306e\u8a18\u4e8b\u3060\u3051\u3067\u5b8c\u7d50\u3059\u308b\u3088\u3046\u306b\u3001\u7c21\u5358\u306b\u3057\u305f\u3082\u306e\u3092\u3053\u3061\u3089\u306b\u8a18\u8ff0\u3055\u305b\u3066\u9802\u304d\u307e\u3059\u3002\n\ngem install\u3068\u8a2d\u5b9a\ngem install ruboty-generator\nruboty-generator init\nvim RubotyGenerator\n\n\nRubotyGenerator\u306e\u4e2d\u8eab\nuser_name @github_user_name\n\ngem_class_name \"Sample\" # ruboty\u306etask class\u306e\u540d\u524d\ngem_name \"sample\" # gem\u306e\u540d\u524d\u304cruboty-#{gem_name} \u3068\u306a\u308b\n\n# ruboty\u306b\u3066\u5229\u7528\u3059\u308b\u74b0\u5883\u5909\u6570\u3092\u6307\u5b9a\u3059\u308b\nenv do |e|\n  e.name \"ENV1\"\n  e.description \"ENV1 desc\"\nend\n\n# ruboty\u306e\u30b3\u30de\u30f3\u30c9\u3092\u6307\u5b9a\u3059\u308b\ncommand do |c|\n  c.name \"name\"\n  c.pattern \"pattern\\\\z\"\n  c.description \"description\"\nend\n\n\ngem\u306e\u96db\u5f62\u4f5c\u6210\n% ruboty-generator generate -a\n% tree                                                                       \n.\n\u251c\u2500\u2500 CODE_OF_CONDUCT.md\n\u251c\u2500\u2500 Gemfile\n\u251c\u2500\u2500 LICENSE.txt\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 Rakefile\n\u251c\u2500\u2500 bin\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 console\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 setup\n\u251c\u2500\u2500 lib\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 ruboty\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 handlers\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 sample.rb\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 sample\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 actions\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 name.rb\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 version.rb\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 sample.rb\n\u251c\u2500\u2500 ruboty-sample.gemspec\n\u2514\u2500\u2500 spec\n    \u251c\u2500\u2500 ruboty\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 sample_spec.rb\n    \u2514\u2500\u2500 spec_helper.rb\n\n\nlib/ruboty/handlers/sample.rb\nmodule Ruboty\n  module Handlers\n    class Sample < Base\n      on /pattern\\z/, name: 'name', description: 'description'\n      env :ENV1, \"ENV1 desc\"\n\n      def name(message)\n        Ruboty::Sample::Actions::Name.new(message).call\n      end\n\n    end\n  end\nend\n\n\n\n\nGem\u306e\u958b\u767a\n\n\u30d9\u30fc\u30b9\u3068\u306a\u308bruboty\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u304a\u304f\n\u3053\u3053\u3092\u53c2\u7167.\n\n\u30d9\u30fc\u30b9\u3068\u306a\u308bRuboty\u306eGemfile\u8a2d\u5b9a\n\u65b9\u6cd5\u306f2\u3064\u3042\u308b\u306e\u3067\u3001\u304a\u597d\u304d\u306a\u65b9\u3092\u304a\u8a66\u3057\u4e0b\u3055\u3044\u3002\n\u53c2\u8003URL: http://bundler.io/git.html#local\n\n1.Gemfile\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u63db\u3048\u308b\n\u4e00\u756a\u7c21\u5358\u3067\u306f\u3042\u308b\u3082\u306e\u306e\u3001\u547c\u3073\u51fa\u3057\u5143\u3092\u4fee\u6b63\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u5834\u5408\u306b\u3001\nCommit\u306e\u305f\u3073\u306b\u5143\u306b\u623b\u3059\u306a\u3069\u9762\u5012\u3002\ngem 'ruboty-capistrano', path: '/Users/project/ruboty-capistrano'\n\n\n2. bundler config\u3067gem\u306epath\u3092\u4e0a\u66f8\u304d\u3059\u308b\n\u547c\u3073\u51fa\u3057\u5143\u3092\u4e00\u7dd2\u306b\u66f4\u65b0\u3059\u308b\u306a\u3089\u4e00\u756a\u304a\u3059\u3059\u3081\u3002\n\u4fee\u6b63\u5b8c\u4e86\u5f8c\u3001\u5143\u306b\u623b\u3059\u3053\u3068\u3092\u5fd8\u308c\u305a\u306b\u3002\n\npath\u306e\u4e0a\u66f8\u304d\u65b9\u6cd5\n\n% bundle config local.ruboty-capistrano /Users/shuhei_morioka/project/morioka/ruboty-capistrano\n% bundle show ruboty-capistrano                                              \n/Users/shuhei_morioka/project/morioka/ruboty-capistrano\nbundle config disable_local_branch_check true #local\u3067\u306e\u5909\u66f4\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\n\n\n\u4e0a\u66f8\u304d\u3057\u305f path \u3092\u524a\u9664\u3059\u308b\u65b9\u6cd5\n\n% bundle config --delete local.ruboty-capistrano\n% bundle show ruboty-capistrano                                              \n/Users/shuhei_morioka/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/ruboty-capistrano-2b4b08d944a7\n\n\u3042\u3068\u306f handler \u306a\u308a action \u306a\u308a\u306b\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3059\u308c\u3070OK!\n\n\u6700\u5f8c\u306b\n\u3053\u306e\u65b9\u6cd5\u3067\u4f5c\u6210\u3057\u305f ruboty\u306egem\u304c\u3053\u3061\u3089\u306b\u306a\u308a\u307e\u3059\uff01\nruboty\u5229\u7528\u8005\u306e\u8a8d\u53ef\u8a8d\u8a3c\u3092\u884c\u3046\nhttps://github.com/selmertsx/ruboty-authorization\nruboty\u3092\u4f7f\u3063\u305f deploy \u304c\u3067\u304d\u308b\nhttps://github.com/selmertsx/ruboty-capistrano\n## TL;DR\nruboty\u306egem\u4f5c\u6210\u306b\u3042\u305f\u3063\u3066\u3001\u899a\u3048\u3066\u304a\u3044\u305f\u65b9\u304c\u3044\u3044\u306e\u306f\u4e0b\u8a182\u70b9\n\n- RubotyGenerator\u3067\u3072\u306a\u5f62\n- \u547c\u3073\u51fa\u3057\u5143\u306eRuboty\u3067\u306f\u3001bundle config\u3067gem\u306epath\u66f8\u304d\u63db\u3048\u308b\u3068\u6357\u308b\n\n\n## RubotyGenerator\u3092\u4f7f\u3046\n\n\u307b\u3068\u3093\u3069\u3001\u4f5c\u8005\u306e\u65b9\u306e[\u30d6\u30ed\u30b0](http://tbpgr.hatenablog.com/entry/2015/12/28/000559)\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u304c\u3001\n\u3053\u306e\u8a18\u4e8b\u3060\u3051\u3067\u5b8c\u7d50\u3059\u308b\u3088\u3046\u306b\u3001\u7c21\u5358\u306b\u3057\u305f\u3082\u306e\u3092\u3053\u3061\u3089\u306b\u8a18\u8ff0\u3055\u305b\u3066\u9802\u304d\u307e\u3059\u3002\n\n### gem install\u3068\u8a2d\u5b9a\n\n```bash\ngem install ruboty-generator\nruboty-generator init\nvim RubotyGenerator\n```\n\n### RubotyGenerator\u306e\u4e2d\u8eab\n\n```\nuser_name @github_user_name\n\ngem_class_name \"Sample\" # ruboty\u306etask class\u306e\u540d\u524d\ngem_name \"sample\" # gem\u306e\u540d\u524d\u304cruboty-#{gem_name} \u3068\u306a\u308b\n\n# ruboty\u306b\u3066\u5229\u7528\u3059\u308b\u74b0\u5883\u5909\u6570\u3092\u6307\u5b9a\u3059\u308b\nenv do |e|\n  e.name \"ENV1\"\n  e.description \"ENV1 desc\"\nend\n\n# ruboty\u306e\u30b3\u30de\u30f3\u30c9\u3092\u6307\u5b9a\u3059\u308b\ncommand do |c|\n  c.name \"name\"\n  c.pattern \"pattern\\\\z\"\n  c.description \"description\"\nend\n```\n\n### gem\u306e\u96db\u5f62\u4f5c\u6210\n\n```bash\n% ruboty-generator generate -a\n% tree                                                                       \n.\n\u251c\u2500\u2500 CODE_OF_CONDUCT.md\n\u251c\u2500\u2500 Gemfile\n\u251c\u2500\u2500 LICENSE.txt\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 Rakefile\n\u251c\u2500\u2500 bin\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 console\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 setup\n\u251c\u2500\u2500 lib\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 ruboty\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 handlers\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 sample.rb\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 sample\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 actions\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 name.rb\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 version.rb\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 sample.rb\n\u251c\u2500\u2500 ruboty-sample.gemspec\n\u2514\u2500\u2500 spec\n    \u251c\u2500\u2500 ruboty\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 sample_spec.rb\n    \u2514\u2500\u2500 spec_helper.rb\n```\n\n```ruby:lib/ruboty/handlers/sample.rb\nmodule Ruboty\n  module Handlers\n    class Sample < Base\n      on /pattern\\z/, name: 'name', description: 'description'\n      env :ENV1, \"ENV1 desc\"\n\n      def name(message)\n        Ruboty::Sample::Actions::Name.new(message).call\n      end\n\n    end\n  end\nend\n\n```\n\n## Gem\u306e\u958b\u767a\n### \u30d9\u30fc\u30b9\u3068\u306a\u308bruboty\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u304a\u304f\n[\u3053\u3053](http://qiita.com/selmertsx/items/6c928c7fc06ff75f227e)\u3092\u53c2\u7167.\n\n### \u30d9\u30fc\u30b9\u3068\u306a\u308bRuboty\u306eGemfile\u8a2d\u5b9a\n\u65b9\u6cd5\u306f2\u3064\u3042\u308b\u306e\u3067\u3001\u304a\u597d\u304d\u306a\u65b9\u3092\u304a\u8a66\u3057\u4e0b\u3055\u3044\u3002\n\u53c2\u8003URL: http://bundler.io/git.html#local\n\n#### 1.Gemfile\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u63db\u3048\u308b\n\u4e00\u756a\u7c21\u5358\u3067\u306f\u3042\u308b\u3082\u306e\u306e\u3001\u547c\u3073\u51fa\u3057\u5143\u3092\u4fee\u6b63\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u5834\u5408\u306b\u3001\nCommit\u306e\u305f\u3073\u306b\u5143\u306b\u623b\u3059\u306a\u3069\u9762\u5012\u3002\n\n```\ngem 'ruboty-capistrano', path: '/Users/project/ruboty-capistrano'\n```\n\n\n\n#### 2. bundler config\u3067gem\u306epath\u3092\u4e0a\u66f8\u304d\u3059\u308b\n\u547c\u3073\u51fa\u3057\u5143\u3092\u4e00\u7dd2\u306b\u66f4\u65b0\u3059\u308b\u306a\u3089\u4e00\u756a\u304a\u3059\u3059\u3081\u3002\n\u4fee\u6b63\u5b8c\u4e86\u5f8c\u3001\u5143\u306b\u623b\u3059\u3053\u3068\u3092\u5fd8\u308c\u305a\u306b\u3002\n\n- path\u306e\u4e0a\u66f8\u304d\u65b9\u6cd5\n\n```\n% bundle config local.ruboty-capistrano /Users/shuhei_morioka/project/morioka/ruboty-capistrano\n% bundle show ruboty-capistrano                                              \n/Users/shuhei_morioka/project/morioka/ruboty-capistrano\nbundle config disable_local_branch_check true #local\u3067\u306e\u5909\u66f4\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\n```\n\n- \u4e0a\u66f8\u304d\u3057\u305f path \u3092\u524a\u9664\u3059\u308b\u65b9\u6cd5\n\n```\n% bundle config --delete local.ruboty-capistrano\n% bundle show ruboty-capistrano                                              \n/Users/shuhei_morioka/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/ruboty-capistrano-2b4b08d944a7\n```\n\n\u3042\u3068\u306f handler \u306a\u308a action \u306a\u308a\u306b\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3059\u308c\u3070OK!\n\n## \u6700\u5f8c\u306b\n\n\u3053\u306e\u65b9\u6cd5\u3067\u4f5c\u6210\u3057\u305f ruboty\u306egem\u304c\u3053\u3061\u3089\u306b\u306a\u308a\u307e\u3059\uff01\n\nruboty\u5229\u7528\u8005\u306e\u8a8d\u53ef\u8a8d\u8a3c\u3092\u884c\u3046\nhttps://github.com/selmertsx/ruboty-authorization\n\nruboty\u3092\u4f7f\u3063\u305f deploy \u304c\u3067\u304d\u308b\nhttps://github.com/selmertsx/ruboty-capistrano\n", "tags": ["ChatOps", "Ruboty", "Gem"]}