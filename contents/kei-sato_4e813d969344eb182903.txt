{"context": " More than 1 year has passed since last update.\n\ntl;dr\n\nterminal\n# nmap\u304c\u7121\u304b\u3063\u305f\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ which nmap || brew install nmap\n\n# \u30b9\u30af\u30ea\u30d7\u30c8\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\uff08\u9069\u5b9c\u8aad\u307f\u66ff\u3048\uff09\n$ mkdir -p ~/mybin && cd $_\n\n# \u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n$ wget -O- https://gist.github.com/kei-sato/b5ecda9c6c03a9bf7880/raw/474fa3d9d5a204835c02b9a3a1bc234fd9269af3/rarp > rarp\n$ wget -O- https://gist.github.com/kei-sato/006cc6f069e648c077af/raw/b65a4c7aca5dcecae348dd21d5bacbe099f92bd3/netmask-bit-count > netmask-bit-count\n\n# \u5b9f\u884c\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u4ed8\u4e0e\n$ chmod +x *\n\n# \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u95a2\u9023alias\n$ alias getip='ifconfig en0 | grep \"inet[^6]\" | cut -d\" \" -f2'\n$ alias getmask='ifconfig en0 | awk '\\''/mask/{print $4}'\\'\n$ alias cidr='echo \"`getip`/`getmask | netmask-bit-count`\"'\n\n# LAN\u306eARP\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u66f4\u65b0\n$ nmap -sn `cidr`\n\n# MAC\u30a2\u30c9\u30ec\u30b9\u304b\u3089IP\u30a2\u30c9\u30ec\u30b9\u3092\u9006\u5f15\u304d\n$ rarp 00:0a:95:9d:68:16\n192.168.0.253\n\n\nrarp: https://gist.github.com/kei-sato/b5ecda9c6c03a9bf7880\nnetmask-bit-count: https://gist.github.com/kei-sato/006cc6f069e648c077af\n\n\u74b0\u5883\n\nterminal\n$ sw_vers\nProductName:    Mac OS X\nProductVersion: 10.11.3\nBuildVersion:   15D21\n\n\n\n\u52d5\u6a5f\n\u540c\u3058LAN\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308b\u4ed6\u306e\u6a5f\u5668\u306eIP\u30a2\u30c9\u30ec\u30b9\u304c\u77e5\u308a\u305f\u3044\u3002\n\u3067\u3082\u3001DHCP\u306b\u3088\u3063\u3066IP\u30a2\u30c9\u30ec\u30b9\u304c\u52d5\u7684\u306b\u5909\u308f\u3063\u3066\u3057\u307e\u3046\u3002\nMAC\u30a2\u30c9\u30ec\u30b9\u306f\u5909\u308f\u3089\u306a\u3044\u304b\u3089\u3001MAC\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u9006\u5f15\u304d\u3059\u308c\u3070\u51fa\u6765\u308b\u306f\u305a\u3002\n\n\u6700\u521d\u306e\u60f3\u5b9a\n\n\narp -an\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305fMAC\u30a2\u30c9\u30ec\u30b9\u3068IP\u30a2\u30c9\u30ec\u30b9\u306e\u5bfe\u5fdc\u30c6\u30fc\u30d6\u30eb\u3092\u51fa\u529b\nMAC\u30a2\u30c9\u30ec\u30b9\u3067grep\n\n\u3060\u3051\u3067\u3044\u3044\u306f\u305a\u3060\u3063\u305f\u2026\u3002\n\n\u3064\u307e\u3065\u3044\u305f\u70b9\n\narp\u306e\u51fa\u529b\u3067\u306f00\u30840a\u306e\u5148\u982d\u306e0\u304c\u7701\u7565\u3055\u308c\u308b\n\u4f8b\u3048\u3070\u300100:0a:95:9d:68:16 => 0:a:95:9d:68:16\u3068\u306a\u308b\u306e\u3067\u3001\narp -an | grep 00:0a:95:9d:68:16\u3068\u3057\u3066\u3082\u30d2\u30c3\u30c8\u3057\u307e\u305b\u3093\u3002\n\n\u89e3\u6c7a\u7b56\n\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304d\u307e\u3057\u305f\nhttps://gist.github.com/kei-sato/b5ecda9c6c03a9bf7880\n\n\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\narp -an\u3067\u51fa\u529b\u3055\u308c\u308b\u306e\u306f\u3042\u304f\u307e\u3067\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3067\u3042\u3063\u3066\u3001\n\u30eb\u30fc\u30bf\u30fc\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u8a66\u3057\u306b\u30d1\u30b1\u30c3\u30c8\u3092\u9001\u3063\u3066\u307f\u308b\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u3002\n\n\u89e3\u6c7a\u7b56\nLAN\u306eCIDR\u304c192.168.0.0/24\u3060\u3068\u3059\u308b\u3068\u3001nmap -sn 192.168.0.0./24\u3067LAN\u5185\u306e\u5168\u3066\u306e\u6a5f\u5668\u306b\u30d1\u30b1\u30c3\u30c8\u3092\u9001\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u30021\n\nifconfig en0\u3067CIDR\u306f\u51fa\u529b\u3055\u308c\u306a\u3044\n\u5177\u4f53\u7684\u306b\u306f\u6b21\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\n$ ifconfig en0\nen0: flags=8863<UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST> mtu 1500\n    ether 01:96:32:33:c6:64\n    inet 192.168.0.167 netmask 0xffffff00 broadcast 192.168.0.255\n    media: autoselect\n    status: active\n\n\n\u89e3\u6c7a\u7b56\nnetmask\u3092CIDR\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u9577\uff08\u30b9\u30e9\u30c3\u30b7\u30e5\u306e\u5f8c\u308d\uff09\u306b\u76f4\u3059\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304d\u307e\u3057\u305f\u30022\nhttps://gist.github.com/kei-sato/006cc6f069e648c077af\n\u305d\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306balias\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n.bash_profile\nalias getip='ifconfig en0 | grep \"inet[^6]\" | cut -d\" \" -f2'\nalias getmask='ifconfig en0 | awk '\\''/mask/{print $4}'\\'\nalias cidr='echo \"`getip`/`getmask | netmask-bit-count`\"'\n\n\n\nterminal\n$ cidr\n192.168.0.167/24\n\n\n\u672c\u6765\u306f192.168.0.0/24\u3067\u3042\u3063\u3066\u6b32\u3057\u3044\u3067\u3059\u304c\u3001nmap\u3059\u308b\u4e0a\u3067\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\n\nterminal\n$ nmap -sn `cidr`\n\n\n\n\n\n\nnmap\u306fbrew install nmap\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u00a0\u21a9\n\n\n\u5192\u982d\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u5b9f\u884c\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\u65b9\u6cd5\u3092\u66f8\u304d\u307e\u3057\u305f\u00a0\u21a9\n\n\n\n# tl;dr\n\n```bash:terminal\n# nmap\u304c\u7121\u304b\u3063\u305f\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ which nmap || brew install nmap\n\n# \u30b9\u30af\u30ea\u30d7\u30c8\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\uff08\u9069\u5b9c\u8aad\u307f\u66ff\u3048\uff09\n$ mkdir -p ~/mybin && cd $_\n\n# \u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n$ wget -O- https://gist.github.com/kei-sato/b5ecda9c6c03a9bf7880/raw/474fa3d9d5a204835c02b9a3a1bc234fd9269af3/rarp > rarp\n$ wget -O- https://gist.github.com/kei-sato/006cc6f069e648c077af/raw/b65a4c7aca5dcecae348dd21d5bacbe099f92bd3/netmask-bit-count > netmask-bit-count\n\n# \u5b9f\u884c\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u4ed8\u4e0e\n$ chmod +x *\n\n# \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u95a2\u9023alias\n$ alias getip='ifconfig en0 | grep \"inet[^6]\" | cut -d\" \" -f2'\n$ alias getmask='ifconfig en0 | awk '\\''/mask/{print $4}'\\'\n$ alias cidr='echo \"`getip`/`getmask | netmask-bit-count`\"'\n\n# LAN\u306eARP\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u66f4\u65b0\n$ nmap -sn `cidr`\n\n# MAC\u30a2\u30c9\u30ec\u30b9\u304b\u3089IP\u30a2\u30c9\u30ec\u30b9\u3092\u9006\u5f15\u304d\n$ rarp 00:0a:95:9d:68:16\n192.168.0.253\n```\n\nrarp: https://gist.github.com/kei-sato/b5ecda9c6c03a9bf7880\nnetmask-bit-count: https://gist.github.com/kei-sato/006cc6f069e648c077af\n\n# \u74b0\u5883\n\n```bash:terminal\n$ sw_vers\nProductName:\tMac OS X\nProductVersion:\t10.11.3\nBuildVersion:\t15D21\n```\n\n# \u52d5\u6a5f\n\n\u540c\u3058LAN\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308b\u4ed6\u306e\u6a5f\u5668\u306eIP\u30a2\u30c9\u30ec\u30b9\u304c\u77e5\u308a\u305f\u3044\u3002\n\u3067\u3082\u3001DHCP\u306b\u3088\u3063\u3066**IP\u30a2\u30c9\u30ec\u30b9\u304c\u52d5\u7684\u306b\u5909\u308f\u3063\u3066\u3057\u307e\u3046**\u3002\nMAC\u30a2\u30c9\u30ec\u30b9\u306f\u5909\u308f\u3089\u306a\u3044\u304b\u3089\u3001MAC\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u9006\u5f15\u304d\u3059\u308c\u3070\u51fa\u6765\u308b\u306f\u305a\u3002\n\n# \u6700\u521d\u306e\u60f3\u5b9a\n\n1. `arp -an`\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305fMAC\u30a2\u30c9\u30ec\u30b9\u3068IP\u30a2\u30c9\u30ec\u30b9\u306e\u5bfe\u5fdc\u30c6\u30fc\u30d6\u30eb\u3092\u51fa\u529b\n2. MAC\u30a2\u30c9\u30ec\u30b9\u3067grep\n\n\u3060\u3051\u3067\u3044\u3044\u306f\u305a\u3060\u3063\u305f\u2026\u3002\n\n# \u3064\u307e\u3065\u3044\u305f\u70b9\n\n## `arp`\u306e\u51fa\u529b\u3067\u306f00\u30840a\u306e\u5148\u982d\u306e0\u304c\u7701\u7565\u3055\u308c\u308b\n\n\u4f8b\u3048\u3070\u3001`00:0a:95:9d:68:16 => 0:a:95:9d:68:16`\u3068\u306a\u308b\u306e\u3067\u3001\n`arp -an | grep 00:0a:95:9d:68:16`\u3068\u3057\u3066\u3082\u30d2\u30c3\u30c8\u3057\u307e\u305b\u3093\u3002\n\n### \u89e3\u6c7a\u7b56\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304d\u307e\u3057\u305f\nhttps://gist.github.com/kei-sato/b5ecda9c6c03a9bf7880\n\n## \u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\n\n`arp -an`\u3067\u51fa\u529b\u3055\u308c\u308b\u306e\u306f\u3042\u304f\u307e\u3067\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3067\u3042\u3063\u3066\u3001\n\u30eb\u30fc\u30bf\u30fc\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u8a66\u3057\u306b\u30d1\u30b1\u30c3\u30c8\u3092\u9001\u3063\u3066\u307f\u308b\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u3002\n\n### \u89e3\u6c7a\u7b56\n\nLAN\u306e[CIDR](http://www5e.biglobe.ne.jp/%257eaji/30min/01.html)\u304c192.168.0.0/24\u3060\u3068\u3059\u308b\u3068\u3001`nmap -sn 192.168.0.0./24`\u3067LAN\u5185\u306e\u5168\u3066\u306e\u6a5f\u5668\u306b\u30d1\u30b1\u30c3\u30c8\u3092\u9001\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002[^1]\n[^1]: [nmap](https://nmap.org/man/jp/index.html)\u306f`brew install nmap`\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\n\n## `ifconfig en0`\u3067CIDR\u306f\u51fa\u529b\u3055\u308c\u306a\u3044\n\n\u5177\u4f53\u7684\u306b\u306f\u6b21\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\n\n```\n$ ifconfig en0\nen0: flags=8863<UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST> mtu 1500\n\tether 01:96:32:33:c6:64\n\tinet 192.168.0.167 netmask 0xffffff00 broadcast 192.168.0.255\n\tmedia: autoselect\n\tstatus: active\n```\n\n### \u89e3\u6c7a\u7b56\n\nnetmask\u3092CIDR\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u9577\uff08\u30b9\u30e9\u30c3\u30b7\u30e5\u306e\u5f8c\u308d\uff09\u306b\u76f4\u3059\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304d\u307e\u3057\u305f\u3002[^2]\nhttps://gist.github.com/kei-sato/006cc6f069e648c077af\n[^2]: [\u5192\u982d](#tldr)\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u5b9f\u884c\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\u65b9\u6cd5\u3092\u66f8\u304d\u307e\u3057\u305f\n\n\u305d\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306balias\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```bash:.bash_profile\nalias getip='ifconfig en0 | grep \"inet[^6]\" | cut -d\" \" -f2'\nalias getmask='ifconfig en0 | awk '\\''/mask/{print $4}'\\'\nalias cidr='echo \"`getip`/`getmask | netmask-bit-count`\"'\n```\n\n```bash:terminal\n$ cidr\n192.168.0.167/24\n```\n\n\u672c\u6765\u306f`192.168.0.0/24`\u3067\u3042\u3063\u3066\u6b32\u3057\u3044\u3067\u3059\u304c\u3001nmap\u3059\u308b\u4e0a\u3067\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\n\n```bash:terminal\n$ nmap -sn `cidr`\n```\n", "tags": ["MacOSX", "ARP", "Network", "Bash", "Nmap"]}