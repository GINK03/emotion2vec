{"context": " More than 1 year has passed since last update.nyaos3000\u3067\u306f\u5185\u81d3\u306epushd/popd/dirs\u304c\u3042\u308a\u307e\u3057\u305f\u304c\u3001nyagos\u3067\u306f\u7121\u3044\u306e\u3067\u5185\u8535\u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u305f\u3088\u3046\u3067\u30598b6d643\nlua\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u5b9f\u88c5\u3057\u3066\u307f\u307e\u3059\u3002\n\u6c17\u3092\u4ed8\u3051\u308b\u306e\u306falias cd=pushd\u3068\u30a8\u30a4\u30ea\u30a2\u30b9\u3057\u3066\u3082\u3001\u518d\u5e30\u547c\u3073\u51fa\u3057\u306b\u306a\u3089\u306a\u3044\u3088\u3046\u4e8b\u524d\u306balias _cd=cd\u3057\u3066\u304a\u304f\u4f4d\u3067\u3057\u3087\u3046\u304b\u4ee5\u524d\u306e\u8a18\u4e8b\u3068\u540c\u3058\u3067\u3059\u306d\u3002\n\n.nyagos\ndirectory_stack = {}\n------------------------------------------------\n-- pushd/popd/dirs\u306e\u5b9f\u88c5\n------------------------------------------------\n-- pushd\nfunction nocd5_pushd(args)\n    local old = chomp(nyagos.eval('pwd'))\n    r, err = nyagos.exec(\"_cd \" .. args[1])\n    if (err == nil) then\n        table.insert(directory_stack, 1, old)\n    else\n        return r, err\n    end\nend\n------------------------------------------------\n-- popd\nfunction nocd5_popd(args)\n    if (#directory_stack ~= 0) then\n        local num = 0\n        if #args == 0 then\n            num = 1\n        else\n            num = tonumber(args[1])\n        end\n        nyagos.exec(\"_cd \" .. directory_stack[num])\n        table.remove(directory_stack, num)\n    else\n        print ('popd: dir stack is empty.')\n    end\nend\n------------------------------------------------\n-- dirs\nfunction nocd5_dirs()\n    max_len = string.len(tostring(#directory_stack))\n    for i, e in ipairs(directory_stack) do\n        len = string.len(tostring(i))\n        print(string.rep(' ', max_len - len) .. i .. ' : ' .. e)\n    end\nend\n------------------------------------------------\n\n------------------------------------------------\n-- alias\n------------------------------------------------\nalias{\n    _cd='cd', -- cd\u30b3\u30de\u30f3\u30c9\u306e\u518d\u5e30\u547c\u3073\u51fa\u3057\u3092\u56de\u907f\n    cd=nocd5_pushd,\n    pushd=nocd5_pushd,\n    popd=nocd5_popd,\n    dirs=nocd5_dirs,\n    pu=nocd5_pushd,\n    po=nocd5_popd,\n    di=nocd5_dirs\n}\n------------------------------------------------\n\n\n\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u3055\u3089\u306bmigemo\u3092\u4f7f\u3063\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u79fb\u52d5\u306a\u3069\u3001\n\u3054\u3061\u3083\u3054\u3061\u3083\u3057\u3066\u307e\u3059\u306e\u3067\u8208\u5473\u304c\u3042\u308c\u3070\u3053\u3061\u3089\u3082(nocd5/nyagosfiles)\nnyaos3000\u3067\u306f\u5185\u81d3\u306epushd/popd/dirs\u304c\u3042\u308a\u307e\u3057\u305f\u304c\u3001~~nyagos\u3067\u306f\u7121\u3044\u306e\u3067~~\u5185\u8535\u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u305f\u3088\u3046\u3067\u3059[`8b6d643`](https://github.com/zetamatta/nyagos/commit/8b6d64341d8c8146df4219c5144a82d08b108917)\nlua\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u5b9f\u88c5\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u6c17\u3092\u4ed8\u3051\u308b\u306e\u306f`alias cd=pushd`\u3068\u30a8\u30a4\u30ea\u30a2\u30b9\u3057\u3066\u3082\u3001\u518d\u5e30\u547c\u3073\u51fa\u3057\u306b\u306a\u3089\u306a\u3044\u3088\u3046\u4e8b\u524d\u306b`alias _cd=cd`\u3057\u3066\u304a\u304f\u4f4d\u3067\u3057\u3087\u3046\u304b[\u4ee5\u524d\u306e\u8a18\u4e8b](http://qiita.com/nocd5/items/be69928401489da1c107)\u3068\u540c\u3058\u3067\u3059\u306d\u3002\n\n```lua:.nyagos\ndirectory_stack = {}\n------------------------------------------------\n-- pushd/popd/dirs\u306e\u5b9f\u88c5\n------------------------------------------------\n-- pushd\nfunction nocd5_pushd(args)\n    local old = chomp(nyagos.eval('pwd'))\n    r, err = nyagos.exec(\"_cd \" .. args[1])\n    if (err == nil) then\n        table.insert(directory_stack, 1, old)\n    else\n        return r, err\n    end\nend\n------------------------------------------------\n-- popd\nfunction nocd5_popd(args)\n    if (#directory_stack ~= 0) then\n        local num = 0\n        if #args == 0 then\n            num = 1\n        else\n            num = tonumber(args[1])\n        end\n        nyagos.exec(\"_cd \" .. directory_stack[num])\n        table.remove(directory_stack, num)\n    else\n        print ('popd: dir stack is empty.')\n    end\nend\n------------------------------------------------\n-- dirs\nfunction nocd5_dirs()\n    max_len = string.len(tostring(#directory_stack))\n    for i, e in ipairs(directory_stack) do\n        len = string.len(tostring(i))\n        print(string.rep(' ', max_len - len) .. i .. ' : ' .. e)\n    end\nend\n------------------------------------------------\n\n------------------------------------------------\n-- alias\n------------------------------------------------\nalias{\n    _cd='cd', -- cd\u30b3\u30de\u30f3\u30c9\u306e\u518d\u5e30\u547c\u3073\u51fa\u3057\u3092\u56de\u907f\n    cd=nocd5_pushd,\n    pushd=nocd5_pushd,\n    popd=nocd5_popd,\n    dirs=nocd5_dirs,\n    pu=nocd5_pushd,\n    po=nocd5_popd,\n    di=nocd5_dirs\n}\n------------------------------------------------\n```\n\n\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u3055\u3089\u306bmigemo\u3092\u4f7f\u3063\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u79fb\u52d5\u306a\u3069\u3001\n\u3054\u3061\u3083\u3054\u3061\u3083\u3057\u3066\u307e\u3059\u306e\u3067\u8208\u5473\u304c\u3042\u308c\u3070\u3053\u3061\u3089\u3082([nocd5/nyagosfiles](https://github.com/nocd5/nyagosfiles))\n", "tags": ["nyagos", "Lua"]}