{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\u672c\u8a18\u4e8b\u3067\u306f\u3001CakePHP\u3092\u4f7f\u3063\u3066\u3001\u9867\u5ba2\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u3092\u4f5c\u308b\u3053\u3068\u3092\u76ee\u7684\u3068\u3057\u3066\u3001\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u8a8d\u8a3c\u6a5f\u80fd\u304b\u3089\u9806\u3092\u8ffd\u3063\u3066\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u524d\u63d0\nCakePHP\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3002\n\n\u4e0b\u6e96\u5099\n\u30a2\u30d7\u30ea\u3092\u65b0\u898f\u4f5c\u6210\u3059\u308b\u3002\n$ composer create-project --prefer-dist cakephp/app [\u30a2\u30d7\u30ea\u540d]\n\nTIPS\u3068\u3057\u3066\u3001\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u306f\u3084\u3084\u9577\u3044\u306e\u3067\u3001\u30a8\u30a4\u30ea\u30a2\u30b9\u3092\u8cbc\u308b\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002\n$ alias cakenewapp='composer create-project --prefer-dist cakephp/app'\n$ cakenewapp [\u30a2\u30d7\u30ea\u540d]\n\nMySQL\u306b\u65b0\u898f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3002\nmysql> create database [\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d]\nQuery OK, 1 row affected (0.03 sec)\n\nconfig\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u3002(config/app.php)\n    'Datasources' => [\n        'default' => [\n            'className' => 'Cake\\Database\\Connection',\n            'driver' => 'Cake\\Database\\Driver\\Mysql',\n            'persistent' => false,\n            'host' => 'localhost',\n            /**\n             * CakePHP will use the default DB port based on the driver selected\n             * MySQL on MAMP uses port 8889, MAMP users will want to uncomment\n             * the following line and set the port accordingly\n             */\n            //'port' => 'nonstandard_port_number',\n            'username' => 'my_app', <=\u3053\u308c\n            'password' => 'secret', <=\u3053\u308c\n            'database' => 'my_app', <=\u3053\u308c\n            'encoding' => 'utf8',\n            'timezone' => 'UTC',\n            'cacheMetadata' => true,\n            'log' => false,\n\n\u7d44\u307f\u8fbc\u307f\u306eWEB\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u3066\u3001\u30c6\u30b9\u30c8\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001\u8a2d\u5b9a\u5185\u5bb9\u304c\u554f\u984c\u7121\u3044\u304b\u78ba\u8a8d\u3059\u308b\u3002\n$ bin/cake server -H 0.0.0.0\n\n\n\u8a8d\u8a3c\u6a5f\u80fd\u306e\u5b9f\u88c5\nMVC\u3092\u9806\u306b\u4f5c\u6210\u3057\u3066\u3044\u304f\u3053\u3068\u3067\u3001\u8a8d\u8a3c\u6a5f\u80fd\u304c\u7c21\u5358\u306b\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002\uff08\u4f5c\u6210\u3059\u308b\u9806\u756a\u3068\u3057\u3066\u306f\u3001M->C->V\u3067\u3059\u304c\uff09\n\nModel\nuser\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\nmysql> CREATE TABLE users (\n    ->     id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    ->     username VARCHAR(50),\n    ->     password VARCHAR(255),\n    ->     role VARCHAR(20),\n    ->     created DATETIME DEFAULT NULL,\n    ->     modified DATETIME DEFAULT NULL\n    -> );\nQuery OK, 0 rows affected (0.38 sec)\n\nUsersTable\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Model/Table/UsersTable.php\u3092\u4f5c\u6210\u3059\u308b\u3002\n<?php\n\nnamespace App\\Model\\Table;\n\nuse Cake\\ORM\\Table;\nuse Cake\\Validation\\Validator;\n\nclass UsersTable extends Table\n{\n\n    public function validationDefault(Validator $validator)\n    {\n        return $validator\n            ->notEmpty('username', 'A username is required')\n            ->notEmpty('password', 'A password is required')\n            ->notEmpty('role', 'A role is required')\n            ->add('role', 'inList', [\n                'rule' => ['inList', ['admin', 'user']],\n                'message' => 'Please enter a valid role'\n            ]);\n    }\n\n}\n\nUser\u30af\u30e9\u30b9\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Model/Entity/User.php\u3092\u4f5c\u6210\u3059\u308b\u3002(Users\u3067\u306f\u306a\u304f\u3001User\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\uff01)\n<?php\n\nnamespace App\\Model\\Entity;\n\nuse Cake\\Auth\\DefaultPasswordHasher;\nuse Cake\\ORM\\Entity;\n\nclass User extends Entity\n{\n\n    protected $_accessible = [\n        '*' => true,\n        'id' => false\n    ];\n\n    protected function _setPassword($password)\n    {\n        return (new DefaultPasswordHasher)->hash($password);\n    }\n}\n\n\nController\n\u8a8d\u8a3c\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u3001AppControler(src/Controller/AppController.php)\u3092\u4fee\u6b63\u3059\u308b\u3002\n    public function initialize() /* modify */\n    {\n        $this->loadComponent('Flash');\n        $this->loadComponent('Auth', [\n                'authorize' => ['Controller'],\n                'loginRedirect' => [\n                    'controller' => 'Users',\n                    'action' => 'index'\n                ],\n                'logoutRedirect' => [\n                    'controller' => 'Users',\n                    'action' => 'login'\n                ]\n        ]);\n    }\n\n    public function isAuthorized($user) /* add */\n    {\n        return false;\n    }\n\nUsersController\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Controller/UsersController.php\u3092\u4f5c\u6210\u3059\u308b\u3002\n<?php\n\nnamespace App\\Controller;\n\nuse App\\Controller\\AppController;\nuse Cake\\Event\\Event;\n\nclass UsersController extends AppController\n{\n\n    public function beforeFilter(Event $event)\n    {\n        parent::beforeFilter($event);\n        $this->Auth->allow(['add', 'logout']);\n    }\n\n    public function login()\n    {\n        if ($this->request->is('post')) {\n            $user = $this->Auth->identify();\n            if ($user) {\n                $this->Auth->setUser($user);\n                return $this->redirect($this->Auth->redirectUrl());\n            }\n            $this->Flash->error(__('Invalid username or password, try again'));\n        }\n    }\n\n    public function logout()\n    {\n        return $this->redirect($this->Auth->logout());\n    }\n\n    public function isAuthorized($user) \n    {\n        return true;\n    }   \n\n    public function index()\n    {\n        $this->set('users', $this->Users->find('all'));\n    }\n\n    public function view($id)\n    {\n        $user = $this->Users->get($id);\n        $this->set(compact('user'));\n    }\n\n    public function add()\n    {\n        $user = $this->Users->newEntity();\n        if ($this->request->is('post')) {\n            $user = $this->Users->patchEntity($user, $this->request->data);\n            if ($this->Users->save($user)) {\n                $this->Flash->success(__('The user has been saved.'));\n                return $this->redirect(['action' => 'add']);\n            }\n            $this->Flash->error(__('Unable to add the user.'));\n        }\n        $this->set('user', $user);\n    }\n\n}\n\n\nView\n\u30e6\u30fc\u30b6\u767b\u9332\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Template/Users/add.ctp\u3092\u4f5c\u6210\u3059\u308b\u3002\n<div class=\"users form\">\n<?= $this->Form->create($user) ?>\n    <fieldset>\n        <legend><?= __('Add User') ?></legend>\n        <?= $this->Form->input('username') ?>\n        <?= $this->Form->input('password') ?>\n        <?= $this->Form->input('role', [\n            'options' => ['admin' => 'Admin', 'user' => 'user']\n        ]) ?>\n   </fieldset>\n<?= $this->Form->button(__('Submit')); ?>\n<?= $this->Form->end() ?>\n</div>\n\n\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Template/Users/login.ctp\u3092\u4f5c\u6210\u3059\u308b\u3002\n<div class=\"users form\">\n<?= $this->Flash->render('auth') ?>\n<?= $this->Form->create() ?>\n    <fieldset>\n        <legend><?= __('Please enter your username and password') ?></legend>\n        <?= $this->Form->input('username') ?>\n        <?= $this->Form->input('password') ?>\n    </fieldset>\n<?= $this->Form->button(__('Login')); ?>\n<?= $this->Form->end() ?>\n</div>\n\n\u30e6\u30fc\u30b6\u4e00\u89a7\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Template/Users/index.ctp\u3092\u4f5c\u6210\u3059\u308b\u3002\n<h1>users</h1>\n<table>\n    <tr>\n        <th>Id</th>\n        <th>Username</th>\n    </tr>\n    <?php foreach ($users as $user): ?>\n    <tr>\n        <td><?= $user->id ?></td>\n        <td><?= $this->Html->link($user->username, ['action' => 'view', $user->id]) ?></td>\n    </tr>\n    <?php endforeach; ?>\n</table>\n\n\u30e6\u30fc\u30b6\u8a73\u7d30\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Template/Users/view.ctp\u3092\u4f5c\u6210\u3059\u308b\u3002\n<h1><?= h($user->id) ?></h1>\n<p><?= h($user->username) ?></p>\n\n\u3053\u308c\u3067\u3001\u7c21\u5358\u306b\u8a8d\u8a3c\u306e\u4ed5\u7d44\u307f\u304c\u3067\u304d\u3042\u304c\u308a\u307e\u3059\uff01\n\u53c2\u8003\uff1aCookbook \u30d6\u30ed\u30b0\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\n\n\u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5\n\u8a8d\u8a3c\u6a5f\u80fd\u304c\u5b9f\u88c5\u3067\u304d\u305f\u306e\u3067\u3001\u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nModel\ncustomers\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\nCREATE TABLE customers (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    first_name VARCHAR(20) NOT NULL,\n    last_name VARCHAR(20) NOT NULL,\n    telephone_number VARCHAR(20) NOT NULL,\n    mailaddress VARCHAR(50) NOT NULL,\n    created DATETIME DEFAULT NULL,\n    modified DATETIME DEFAULT NULL\n);\n\nCustomersTable\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Model/Table/CustomersTable.php\u3092\u4f5c\u6210\u3059\u308b\u3002\n<?php\n\nnamespace App\\Model\\Table;\n\nuse Cake\\ORM\\Table;\nuse Cake\\Validation\\Validator;\n\nclass CustomersTable extends Table\n{\n\n    public function validationDefault(Validator $validator)\n    {\n        return $validator\n            ->notEmpty('first_name', 'First name is required')\n            ->notEmpty('last_name', 'Last name is required');\n    }\n\n}\n\nCustomer\u30af\u30e9\u30b9\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Model/Entity/Customer.php\u3092\u4f5c\u6210\u3059\u308b\u3002\n<?php\n\nnamespace App\\Model\\Entity;\n\nuse Cake\\ORM\\Entity;\n\nclass Customer extends Entity\n{\n\n    protected $_accessible = [\n        '*' => true,\n        'id' => false\n    ];\n\n}\n\n\nController\nCustomersController\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Controller/CustomersController.php\u3092\u4f5c\u6210\u3059\u308b\u3002\n<?php\n\nnamespace App\\Controller;\n\nuse App\\Controller\\AppController;\nuse Cake\\Event\\Event;\n\nclass CustomersController extends AppController\n{\n\n    public function beforeFilter(Event $event)\n    {\n        parent::beforeFilter($event);\n    }\n\n    public function isAuthorized($user) \n    {\n        return true;\n    }   \n\n    public function index()\n    {\n        $this->set('customers', $this->Customers->find('all'));\n    }\n\n    public function view($id)\n    {\n        $customer = $this->Customers->get($id);\n        $this->set(compact('customer'));\n    }\n\n    public function add()\n    {\n        $customer = $this->Customers->newEntity();\n        if ($this->request->is('post')) {\n            $customer = $this->Customers->patchEntity($customer, $this->request->data);\n            if ($this->Customers->save($customer)) {\n                $this->Flash->success(__('The customer has been saved.'));\n                return $this->redirect(['action' => 'add']);\n            }\n            $this->Flash->error(__('Unable to add the customer.'));\n        }\n        $this->set('customer', $customer);\n    }\n\n}\n\n\nView\n\u9867\u5ba2\u767b\u9332\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Template/Customers/add.ctp\u3092\u4f5c\u6210\u3059\u308b\u3002\n<div class=\"customers form\">\n<?= $this->Form->create($customer) ?>\n    <fieldset>\n        <legend><?= __('Add Customer') ?></legend>\n        <?= $this->Form->input('first_name') ?>\n        <?= $this->Form->input('last_name') ?>\n        <?= $this->Form->input('telephone_number') ?>\n        <?= $this->Form->input('mailaddress') ?>\n   </fieldset>\n<?= $this->Form->button(__('Submit')); ?>\n<?= $this->Form->end() ?>\n</div>\n\n\u9867\u5ba2\u4e00\u89a7\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Template/Customers/index.ctp\u3092\u4f5c\u6210\u3059\u308b\u3002\n<h1>Customers</h1>\n<table>\n    <tr>\n        <th>Id</th>\n        <th>First name</th>\n        <th>Last name</th>\n    </tr>\n    <?php foreach ($customers as $customer): ?>\n    <tr>\n        <td><?= $this->Html->link($customer->id, ['action' => 'view', $customer->id]) ?></td>\n        <td><?= $customer->first_name ?></td>\n        <td><?= $customer->last_name ?></td>\n    </tr>\n    <?php endforeach; ?>\n</table>\n\n\u9867\u5ba2\u8a73\u7d30\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Template/Customers/view.ctp\u3092\u4f5c\u6210\u3059\u308b\u3002\n<h1><?= h($customer->id) ?></h1>\n<p><?= h($customer->first_name) ?></p>\n<p><?= h($customer->last_name) ?></p>\n<p><?= h($customer->telephone_number) ?></p>\n<p><?= h($customer->mailaddress) ?></p>\n\n\n\u6ce8\u6587\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5\n\u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd\u304c\u5b9f\u88c5\u3067\u304d\u305f\u306e\u3067\u3001\u3055\u3089\u306b\u9867\u5ba2\u304b\u3089\u306e\u6ce8\u6587\u3092\u7ba1\u7406\u3059\u308b\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nModel\nrequests\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n1\u4eba\u306e\u9867\u5ba2\u304c\u8907\u6570\u306e\u6ce8\u6587\u3092\u3067\u304d\u308b\u3068\u3044\u3046\u8981\u4ef6\u3067\u5b9f\u88c5\u3057\u3066\u307f\u308b\u305f\u3081\u3001requests\u30c6\u30fc\u30d6\u30eb\u306bcustomer_id\u3092\u6301\u305f\u305b\u3066\u3001\u5916\u90e8\u30ad\u30fc\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\nCREATE TABLE requests (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    customer_id INT UNSIGNED NOT NULL,\n    created DATETIME,\n    modified DATETIME,\n    FOREIGN KEY customer_key (customer_id) REFERENCES customers(id)\n);\n\nRequestsTable\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Model/Table/RequestsTable.php\u3092\u4f5c\u6210\u3059\u308b\u3002\n<?php\n\nnamespace App\\Model\\Table;\n\nuse Cake\\ORM\\Table;\n\nclass RequestsTable extends Table\n{\n    public function initialize(array $config)\n    {\n        $this->addBehavior('Timestamp');\n    }\n}\n\n\nController\nRequestsController\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Controller/RequestsController.php\u3092\u4f5c\u6210\u3059\u308b\u3002\n?php\n\nnamespace App\\Controller;\n\nclass RequestsController extends AppController\n{\n\n    public function initialize()\n    {\n        parent::initialize();\n\n        $this->loadComponent('Flash'); // Include the FlashComponent\n    }\n\n    public function isAuthorized($user)\n    {\n        return true;\n    }\n\n    public function index()\n    {\n        $requests = $this->Requests->find('all');\n        $this->set(compact('requests'));\n    }\n\n    public function view($id = null)\n    {\n        $request = $this->Requests->get($id);\n        $this->set(compact('request'));\n    }\n\n    public function add()\n    {\n        $request = $this->Requests->newEntity();\n        if ($this->request->is('post')) {\n            $request = $this->Requests->patchEntity($request, $this->request->query);\n            if ($this->Requests->save($request)) {\n                $this->Flash->success(__('Your request has been saved.'));\n                return $this->redirect(['action' => 'index']);\n            }\n            $this->Flash->error(__('Unable to add your request.'));\n        }\n        $this->set('request', $request);\n    }\n}\n\n\n\u9867\u5ba2\u8a73\u7d30\u753b\u9762\u306b\u6ce8\u6587\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u3001CustomersController\u306eview\u30e1\u30bd\u30c3\u30c9\u3092\u4fee\u6b63\u3059\u308b\u3002\nuse Cake\\ORM\\TableRegistry;\n\u30fb\n\u30fb\n\u30fb\n    public function view($id = null)\n    {\n        $customer = $this->Customers->get($id);\n        $this->set(compact('customer'));\n\n        $requests = TableRegistry::get('Requests');\n        $this->set('requests', $requests->find('all'));\n    }\n\n\nView\n\u6ce8\u6587\u767b\u9332\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Template/Requests/add.ctp\u3092\u4f5c\u6210\u3059\u308b\u3002\n<h1>Add Request</h1>\n<?php\n    echo $this->Form->create($request);\n    echo $this->Form->button(__('Save Request'));\n    echo $this->Form->end();\n?>\n\n\u6ce8\u6587\u4e00\u89a7\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Template/Requests/index.ctp\u3092\u4f5c\u6210\u3059\u308b\u3002\n<h1>requests</h1>\n<table>\n    <tr>\n        <th>Id</th>\n        <th>CustomerId</th>\n    </tr>\n\n    <?php foreach ($requests as $request): ?>\n    <tr>\n        <td>\n            <?= $this->Html->link($request->id, ['action' => 'view', $request->id]) ?>\n        </td>\n        <td>\n            <?= $this->Html->link($request->customer_id, ['controller' => 'customers', 'action' => 'view', $request->customer_id]) ?>\n        </td>\n    </tr>\n    <?php endforeach; ?>\n</table>\n\n\u6ce8\u6587\u8a73\u7d30\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001src/Template/Requests/view.ctp\u3092\u4f5c\u6210\u3059\u308b\u3002\n<h1><?= h($request->id) ?></h1>\n<p>CustomerId: <?= h($request->customer_id ?></p>\n\n\u3055\u3089\u306b\u9867\u5ba2\u8a73\u7d30\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u3001\u305d\u306e\u9867\u5ba2\u306b\u5c5e\u3059\u308b\u6ce8\u6587\u30ea\u30b9\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u3002\n<h1><?= h($customer->title) ?></h1>\n<p>FirstName: <?= h($customer->first_name) ?></p>\n<p>LastName: <?= h($customer->last_name) ?></p>\n<p>TelephoneNumber: <?= h($customer->telephone_number) ?></p>\n<p>Mailaddress: <?= h($customer->mailaddress) ?></p>\n\n<p><?= $this->Html->link('Add Request', ['controller' => 'requests', 'action' => 'add', '?' => ['customer_id' => $customer->id]]) ?></p>\n\n<p>requests</p>\n<table>\n    <tr>\n        <th>Id</th>\n    </tr>\n\n    <?php foreach ($requests as $request): ?>\n    <tr>\n        <td> <?= $this->Html->link($request->id, ['action' => 'view', $request->id]) ?> </td>\n    </tr>\n    <?php endforeach; ?>\n</table>\n\n\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3059\u3059\u3081\u3066\u3044\u304f\u3068\u3001\u7c21\u5358\u306b\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5\u304c\u3067\u304d\u3042\u304c\u308a\u307e\u3059\u3002\nBlog Tutorial part2\nBlog Tutorial part3\n\u4eca\u5f8c\u3082\u5f15\u304d\u7d9a\u304d\u8ffd\u52a0\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u3002\u3002\n# \u6982\u8981\n\u672c\u8a18\u4e8b\u3067\u306f\u3001CakePHP\u3092\u4f7f\u3063\u3066\u3001\u9867\u5ba2\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u3092\u4f5c\u308b\u3053\u3068\u3092\u76ee\u7684\u3068\u3057\u3066\u3001\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u8a8d\u8a3c\u6a5f\u80fd\u304b\u3089\u9806\u3092\u8ffd\u3063\u3066\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n# \u524d\u63d0\nCakePHP\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3002\n\n# \u4e0b\u6e96\u5099\n\u30a2\u30d7\u30ea\u3092\u65b0\u898f\u4f5c\u6210\u3059\u308b\u3002\n\n```\n$ composer create-project --prefer-dist cakephp/app [\u30a2\u30d7\u30ea\u540d]\n```\n\nTIPS\u3068\u3057\u3066\u3001\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u306f\u3084\u3084\u9577\u3044\u306e\u3067\u3001\u30a8\u30a4\u30ea\u30a2\u30b9\u3092\u8cbc\u308b\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002\n\n```\n$ alias cakenewapp='composer create-project --prefer-dist cakephp/app'\n$ cakenewapp [\u30a2\u30d7\u30ea\u540d]\n```\n\nMySQL\u306b\u65b0\u898f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\nmysql> create database [\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d]\nQuery OK, 1 row affected (0.03 sec)\n```\n\nconfig\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u3002(config/app.php)\n\n```\n    'Datasources' => [\n        'default' => [\n            'className' => 'Cake\\Database\\Connection',\n            'driver' => 'Cake\\Database\\Driver\\Mysql',\n            'persistent' => false,\n            'host' => 'localhost',\n            /**\n             * CakePHP will use the default DB port based on the driver selected\n             * MySQL on MAMP uses port 8889, MAMP users will want to uncomment\n             * the following line and set the port accordingly\n             */\n            //'port' => 'nonstandard_port_number',\n            'username' => 'my_app', <=\u3053\u308c\n            'password' => 'secret', <=\u3053\u308c\n            'database' => 'my_app', <=\u3053\u308c\n            'encoding' => 'utf8',\n            'timezone' => 'UTC',\n            'cacheMetadata' => true,\n            'log' => false,\n```\n\n\u7d44\u307f\u8fbc\u307f\u306eWEB\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u3066\u3001\u30c6\u30b9\u30c8\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001\u8a2d\u5b9a\u5185\u5bb9\u304c\u554f\u984c\u7121\u3044\u304b\u78ba\u8a8d\u3059\u308b\u3002\n\n```\n$ bin/cake server -H 0.0.0.0\n```\n\n# \u8a8d\u8a3c\u6a5f\u80fd\u306e\u5b9f\u88c5\nMVC\u3092\u9806\u306b\u4f5c\u6210\u3057\u3066\u3044\u304f\u3053\u3068\u3067\u3001\u8a8d\u8a3c\u6a5f\u80fd\u304c\u7c21\u5358\u306b\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002\uff08\u4f5c\u6210\u3059\u308b\u9806\u756a\u3068\u3057\u3066\u306f\u3001M->C->V\u3067\u3059\u304c\uff09\n\n## Model\nuser\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\nmysql> CREATE TABLE users (\n    ->     id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    ->     username VARCHAR(50),\n    ->     password VARCHAR(255),\n    ->     role VARCHAR(20),\n    ->     created DATETIME DEFAULT NULL,\n    ->     modified DATETIME DEFAULT NULL\n    -> );\nQuery OK, 0 rows affected (0.38 sec)\n```\n\nUsersTable\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Model/Table/UsersTable.php```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<?php\n\nnamespace App\\Model\\Table;\n\nuse Cake\\ORM\\Table;\nuse Cake\\Validation\\Validator;\n\nclass UsersTable extends Table\n{\n\n    public function validationDefault(Validator $validator)\n    {\n        return $validator\n            ->notEmpty('username', 'A username is required')\n            ->notEmpty('password', 'A password is required')\n            ->notEmpty('role', 'A role is required')\n            ->add('role', 'inList', [\n                'rule' => ['inList', ['admin', 'user']],\n                'message' => 'Please enter a valid role'\n            ]);\n    }\n\n}\n```\n\nUser\u30af\u30e9\u30b9\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Model/Entity/User.php```\u3092\u4f5c\u6210\u3059\u308b\u3002(Users\u3067\u306f\u306a\u304f\u3001User\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\uff01)\n\n```\n<?php\n\nnamespace App\\Model\\Entity;\n\nuse Cake\\Auth\\DefaultPasswordHasher;\nuse Cake\\ORM\\Entity;\n\nclass User extends Entity\n{\n\n    protected $_accessible = [\n        '*' => true,\n        'id' => false\n    ];\n\n    protected function _setPassword($password)\n    {\n        return (new DefaultPasswordHasher)->hash($password);\n    }\n}\n```\n\n## Controller\n\u8a8d\u8a3c\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u3001AppControler(```src/Controller/AppController.php```)\u3092\u4fee\u6b63\u3059\u308b\u3002\n\n```\n    public function initialize() /* modify */\n    {\n        $this->loadComponent('Flash');\n        $this->loadComponent('Auth', [\n                'authorize' => ['Controller'],\n                'loginRedirect' => [\n                    'controller' => 'Users',\n                    'action' => 'index'\n                ],\n                'logoutRedirect' => [\n                    'controller' => 'Users',\n                    'action' => 'login'\n                ]\n        ]);\n    }\n\n    public function isAuthorized($user) /* add */\n    {\n        return false;\n    }\n```\n\nUsersController\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Controller/UsersController.php```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<?php\n\nnamespace App\\Controller;\n\nuse App\\Controller\\AppController;\nuse Cake\\Event\\Event;\n\nclass UsersController extends AppController\n{\n\n    public function beforeFilter(Event $event)\n    {\n        parent::beforeFilter($event);\n        $this->Auth->allow(['add', 'logout']);\n    }\n\n    public function login()\n    {\n        if ($this->request->is('post')) {\n            $user = $this->Auth->identify();\n            if ($user) {\n                $this->Auth->setUser($user);\n                return $this->redirect($this->Auth->redirectUrl());\n            }\n            $this->Flash->error(__('Invalid username or password, try again'));\n        }\n    }\n\n    public function logout()\n    {\n        return $this->redirect($this->Auth->logout());\n    }\n\n    public function isAuthorized($user) \n    {\n        return true;\n    }   \n    \n    public function index()\n    {\n        $this->set('users', $this->Users->find('all'));\n    }\n\n    public function view($id)\n    {\n        $user = $this->Users->get($id);\n        $this->set(compact('user'));\n    }\n\n    public function add()\n    {\n        $user = $this->Users->newEntity();\n        if ($this->request->is('post')) {\n            $user = $this->Users->patchEntity($user, $this->request->data);\n            if ($this->Users->save($user)) {\n                $this->Flash->success(__('The user has been saved.'));\n                return $this->redirect(['action' => 'add']);\n            }\n            $this->Flash->error(__('Unable to add the user.'));\n        }\n        $this->set('user', $user);\n    }\n\n}\n```\n\n## View\n\u30e6\u30fc\u30b6\u767b\u9332\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Template/Users/add.ctp```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<div class=\"users form\">\n<?= $this->Form->create($user) ?>\n    <fieldset>\n        <legend><?= __('Add User') ?></legend>\n        <?= $this->Form->input('username') ?>\n        <?= $this->Form->input('password') ?>\n        <?= $this->Form->input('role', [\n            'options' => ['admin' => 'Admin', 'user' => 'user']\n        ]) ?>\n   </fieldset>\n<?= $this->Form->button(__('Submit')); ?>\n<?= $this->Form->end() ?>\n</div>\n```\n\n\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Template/Users/login.ctp```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<div class=\"users form\">\n<?= $this->Flash->render('auth') ?>\n<?= $this->Form->create() ?>\n    <fieldset>\n        <legend><?= __('Please enter your username and password') ?></legend>\n        <?= $this->Form->input('username') ?>\n        <?= $this->Form->input('password') ?>\n    </fieldset>\n<?= $this->Form->button(__('Login')); ?>\n<?= $this->Form->end() ?>\n</div>\n```\n\n\u30e6\u30fc\u30b6\u4e00\u89a7\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Template/Users/index.ctp```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<h1>users</h1>\n<table>\n    <tr>\n        <th>Id</th>\n        <th>Username</th>\n    </tr>\n    <?php foreach ($users as $user): ?>\n    <tr>\n        <td><?= $user->id ?></td>\n        <td><?= $this->Html->link($user->username, ['action' => 'view', $user->id]) ?></td>\n    </tr>\n    <?php endforeach; ?>\n</table>\n```\n\n\u30e6\u30fc\u30b6\u8a73\u7d30\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Template/Users/view.ctp```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<h1><?= h($user->id) ?></h1>\n<p><?= h($user->username) ?></p>\n```\n\n\u3053\u308c\u3067\u3001\u7c21\u5358\u306b\u8a8d\u8a3c\u306e\u4ed5\u7d44\u307f\u304c\u3067\u304d\u3042\u304c\u308a\u307e\u3059\uff01\n\n[\u53c2\u8003\uff1aCookbook \u30d6\u30ed\u30b0\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb](http://book.cakephp.org/3.0/en/tutorials-and-examples/blog-auth-example/auth.html)\n\n# \u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5\n\n\u8a8d\u8a3c\u6a5f\u80fd\u304c\u5b9f\u88c5\u3067\u304d\u305f\u306e\u3067\u3001\u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n## Model\ncustomers\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\nCREATE TABLE customers (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    first_name VARCHAR(20) NOT NULL,\n    last_name VARCHAR(20) NOT NULL,\n    telephone_number VARCHAR(20) NOT NULL,\n    mailaddress VARCHAR(50) NOT NULL,\n    created DATETIME DEFAULT NULL,\n    modified DATETIME DEFAULT NULL\n);\n```\n\nCustomersTable\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Model/Table/CustomersTable.php```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<?php\n\nnamespace App\\Model\\Table;\n\nuse Cake\\ORM\\Table;\nuse Cake\\Validation\\Validator;\n\nclass CustomersTable extends Table\n{\n\n    public function validationDefault(Validator $validator)\n    {\n        return $validator\n            ->notEmpty('first_name', 'First name is required')\n            ->notEmpty('last_name', 'Last name is required');\n    }\n\n}\n```\n\nCustomer\u30af\u30e9\u30b9\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Model/Entity/Customer.php```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<?php\n\nnamespace App\\Model\\Entity;\n\nuse Cake\\ORM\\Entity;\n\nclass Customer extends Entity\n{\n\n    protected $_accessible = [\n        '*' => true,\n        'id' => false\n    ];\n\n}\n```\n\n## Controller\nCustomersController\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Controller/CustomersController.php```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<?php\n\nnamespace App\\Controller;\n\nuse App\\Controller\\AppController;\nuse Cake\\Event\\Event;\n\nclass CustomersController extends AppController\n{\n\n    public function beforeFilter(Event $event)\n    {\n        parent::beforeFilter($event);\n    }\n\n    public function isAuthorized($user) \n    {\n        return true;\n    }   \n    \n    public function index()\n    {\n        $this->set('customers', $this->Customers->find('all'));\n    }\n\n    public function view($id)\n    {\n        $customer = $this->Customers->get($id);\n        $this->set(compact('customer'));\n    }\n\n    public function add()\n    {\n        $customer = $this->Customers->newEntity();\n        if ($this->request->is('post')) {\n            $customer = $this->Customers->patchEntity($customer, $this->request->data);\n            if ($this->Customers->save($customer)) {\n                $this->Flash->success(__('The customer has been saved.'));\n                return $this->redirect(['action' => 'add']);\n            }\n            $this->Flash->error(__('Unable to add the customer.'));\n        }\n        $this->set('customer', $customer);\n    }\n\n}\n```\n\n## View\n\u9867\u5ba2\u767b\u9332\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Template/Customers/add.ctp```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<div class=\"customers form\">\n<?= $this->Form->create($customer) ?>\n    <fieldset>\n        <legend><?= __('Add Customer') ?></legend>\n        <?= $this->Form->input('first_name') ?>\n        <?= $this->Form->input('last_name') ?>\n        <?= $this->Form->input('telephone_number') ?>\n        <?= $this->Form->input('mailaddress') ?>\n   </fieldset>\n<?= $this->Form->button(__('Submit')); ?>\n<?= $this->Form->end() ?>\n</div>\n```\n\n\u9867\u5ba2\u4e00\u89a7\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Template/Customers/index.ctp```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<h1>Customers</h1>\n<table>\n    <tr>\n        <th>Id</th>\n        <th>First name</th>\n        <th>Last name</th>\n    </tr>\n    <?php foreach ($customers as $customer): ?>\n    <tr>\n        <td><?= $this->Html->link($customer->id, ['action' => 'view', $customer->id]) ?></td>\n        <td><?= $customer->first_name ?></td>\n        <td><?= $customer->last_name ?></td>\n    </tr>\n    <?php endforeach; ?>\n</table>\n```\n\n\u9867\u5ba2\u8a73\u7d30\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Template/Customers/view.ctp```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<h1><?= h($customer->id) ?></h1>\n<p><?= h($customer->first_name) ?></p>\n<p><?= h($customer->last_name) ?></p>\n<p><?= h($customer->telephone_number) ?></p>\n<p><?= h($customer->mailaddress) ?></p>\n```\n\n# \u6ce8\u6587\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5\n\n\u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd\u304c\u5b9f\u88c5\u3067\u304d\u305f\u306e\u3067\u3001\u3055\u3089\u306b\u9867\u5ba2\u304b\u3089\u306e\u6ce8\u6587\u3092\u7ba1\u7406\u3059\u308b\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n## Model\n\nrequests\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n1\u4eba\u306e\u9867\u5ba2\u304c\u8907\u6570\u306e\u6ce8\u6587\u3092\u3067\u304d\u308b\u3068\u3044\u3046\u8981\u4ef6\u3067\u5b9f\u88c5\u3057\u3066\u307f\u308b\u305f\u3081\u3001requests\u30c6\u30fc\u30d6\u30eb\u306bcustomer_id\u3092\u6301\u305f\u305b\u3066\u3001\u5916\u90e8\u30ad\u30fc\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```\nCREATE TABLE requests (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    customer_id INT UNSIGNED NOT NULL,\n    created DATETIME,\n    modified DATETIME,\n    FOREIGN KEY customer_key (customer_id) REFERENCES customers(id)\n);\n```\n\nRequestsTable\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Model/Table/RequestsTable.php```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<?php\n\nnamespace App\\Model\\Table;\n\nuse Cake\\ORM\\Table;\n\nclass RequestsTable extends Table\n{\n    public function initialize(array $config)\n    {\n        $this->addBehavior('Timestamp');\n    }\n}\n```\n\n## Controller\n\nRequestsController\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Controller/RequestsController.php```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n?php\n\nnamespace App\\Controller;\n\nclass RequestsController extends AppController\n{\n\n    public function initialize()\n    {\n        parent::initialize();\n\n        $this->loadComponent('Flash'); // Include the FlashComponent\n    }\n\n    public function isAuthorized($user)\n    {\n        return true;\n    }\n\n    public function index()\n    {\n        $requests = $this->Requests->find('all');\n        $this->set(compact('requests'));\n    }\n\n    public function view($id = null)\n    {\n        $request = $this->Requests->get($id);\n        $this->set(compact('request'));\n    }\n\n    public function add()\n    {\n        $request = $this->Requests->newEntity();\n        if ($this->request->is('post')) {\n            $request = $this->Requests->patchEntity($request, $this->request->query);\n            if ($this->Requests->save($request)) {\n                $this->Flash->success(__('Your request has been saved.'));\n                return $this->redirect(['action' => 'index']);\n            }\n            $this->Flash->error(__('Unable to add your request.'));\n        }\n        $this->set('request', $request);\n    }\n}\n\n```\n\n\u9867\u5ba2\u8a73\u7d30\u753b\u9762\u306b\u6ce8\u6587\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u3001CustomersController\u306eview\u30e1\u30bd\u30c3\u30c9\u3092\u4fee\u6b63\u3059\u308b\u3002\n\n```\nuse Cake\\ORM\\TableRegistry;\n\u30fb\n\u30fb\n\u30fb\n    public function view($id = null)\n    {\n        $customer = $this->Customers->get($id);\n        $this->set(compact('customer'));\n\n        $requests = TableRegistry::get('Requests');\n        $this->set('requests', $requests->find('all'));\n    }\n```\n\n## View\n\n\u6ce8\u6587\u767b\u9332\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Template/Requests/add.ctp```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<h1>Add Request</h1>\n<?php\n    echo $this->Form->create($request);\n    echo $this->Form->button(__('Save Request'));\n    echo $this->Form->end();\n?>\n```\n\n\u6ce8\u6587\u4e00\u89a7\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Template/Requests/index.ctp```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<h1>requests</h1>\n<table>\n    <tr>\n        <th>Id</th>\n        <th>CustomerId</th>\n    </tr>\n\n    <?php foreach ($requests as $request): ?>\n    <tr>\n        <td>\n            <?= $this->Html->link($request->id, ['action' => 'view', $request->id]) ?>\n        </td>\n        <td>\n            <?= $this->Html->link($request->customer_id, ['controller' => 'customers', 'action' => 'view', $request->customer_id]) ?>\n        </td>\n    </tr>\n    <?php endforeach; ?>\n</table>\n```\n\n\u6ce8\u6587\u8a73\u7d30\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u3001```src/Template/Requests/view.ctp```\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\n<h1><?= h($request->id) ?></h1>\n<p>CustomerId: <?= h($request->customer_id ?></p>\n```\n\n\u3055\u3089\u306b\u9867\u5ba2\u8a73\u7d30\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u3001\u305d\u306e\u9867\u5ba2\u306b\u5c5e\u3059\u308b\u6ce8\u6587\u30ea\u30b9\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\n```\n<h1><?= h($customer->title) ?></h1>\n<p>FirstName: <?= h($customer->first_name) ?></p>\n<p>LastName: <?= h($customer->last_name) ?></p>\n<p>TelephoneNumber: <?= h($customer->telephone_number) ?></p>\n<p>Mailaddress: <?= h($customer->mailaddress) ?></p>\n\n<p><?= $this->Html->link('Add Request', ['controller' => 'requests', 'action' => 'add', '?' => ['customer_id' => $customer->id]]) ?></p>\n\n<p>requests</p>\n<table>\n    <tr>\n        <th>Id</th>\n    </tr>\n\n    <?php foreach ($requests as $request): ?>\n    <tr>\n        <td> <?= $this->Html->link($request->id, ['action' => 'view', $request->id]) ?> </td>\n    </tr>\n    <?php endforeach; ?>\n</table>\n```\n\n\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3059\u3059\u3081\u3066\u3044\u304f\u3068\u3001\u7c21\u5358\u306b\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5\u304c\u3067\u304d\u3042\u304c\u308a\u307e\u3059\u3002\n[Blog Tutorial part2](http://book.cakephp.org/3.0/en/tutorials-and-examples/blog/part-two.html)\n[Blog Tutorial part3](http://book.cakephp.org/3.0/en/tutorials-and-examples/blog/part-three.html)\n\n\u4eca\u5f8c\u3082\u5f15\u304d\u7d9a\u304d\u8ffd\u52a0\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u3002\u3002\n", "tags": ["CakePHP", "cakephp3", "PHP"]}