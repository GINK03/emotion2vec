{"tags": ["Vim", "LaTeX", "TeX"], "context": " More than 1 year has passed since last update.\n\n\u524d\u7f6e\u304d\n\u4ee5\u524d\u306bVim\u3067LaTeX\u7de8\u96c6\uff01vim-quickrun\u3068latexmk\u3067\u81ea\u52d5\u30b3\u30f3\u30d1\u30a4\u30eb\u3068\u90e8\u5206\u30b3\u30f3\u30d1\u30a4\u30eb - Qiita\u3068\u3044\u3046\u30a8\u30f3\u30c8\u30ea\u3092\u66f8\u3044\u3066\u307e\u3057\u305f\u304c\u3001\u4f7f\u3063\u3066\u3044\u308b\u3046\u3061\u306b\u66f4\u306b\u6539\u826f\u3067\u304d\u308b\u70b9\u304c\u898b\u3064\u304b\u3063\u305f\u306e\u3067\u3001\u6539\u3081\u3066\u307e\u3068\u3081\u3066\u304a\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\u81ea\u52d5\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u90e8\u5206\u30b3\u30f3\u30d1\u30a4\u30eb\u306e\u3084\u308a\u65b9\u306f\u3001\u524d\u56de\u306e\u30a8\u30f3\u30c8\u30ea\u3068\u540c\u3058\u7d44\u307f\u5408\u305b(vim-quickrun+latexmk)\u3067\u5b9f\u73fe\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u5927\u67a0\u306f\u305d\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044(\u53c2\u8003\u306b\u306a\u308b\u5916\u90e8\u30ea\u30f3\u30af\u3082\u5f35\u3063\u3066\u3042\u308a\u307e\u3059)\u3002\u4eca\u56de\u306f\u4e3b\u306b~/.latexmkrc\u306e\u8a2d\u5b9a\u306e\u5909\u66f4\u3068\u3001latexmk\u30b3\u30de\u30f3\u30c9\u306e\u81ea\u4f5c\u30e9\u30c3\u30d1\u30fc\u30b9\u30af\u30ea\u30d7\u30c8latexmk_wrapper\u306e\u7d39\u4ecb\u3068\u3044\u3046\u5f62\u306b\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nlatexmkrc\u306e\u8a2d\u5b9a\n~/.latexmkrc\u306b\u306f\u4ee5\u4e0b\u306e\u69d8\u306b\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\ndotfiles/.latexmkrc at master \u00b7 ssh0/dotfiles\n\n#!/usr/bin/perl\n$latex = 'platex -interaction=nonstopmode -kanji=utf-8 %O %S';\n$dvipdf = 'dvipdfmx %O -o %D %S';\n$bibtex = 'pbibtex';\n$pdf_mode = 3; # use dvipdf\n$pdf_update_method = 2;\n$pdf_previewer = \"start mupdf %O %S\";\n# Prevent latexmk from removing PDF after typeset.\n# $pvc_view_file_via_temporary = 0;\n\n\u4ee5\u524d\u3068\u5909\u308f\u3063\u305f\u70b9\u306f\u3001dvipdf\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b-o %D\u3068\u3044\u3046\u306e\u304c\u3064\u3044\u305f\u70b9\u3067\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3059\u308b\u3068\u3001dvi\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bpdf\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304f\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u307e\u305f\u3001platex\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b-interaction=nonstopmode\u3092\u3064\u3051\u3066\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3082\u3001interaction\u30e2\u30fc\u30c9\u304c\u7acb\u3061\u4e0a\u304c\u3063\u3066\u30b9\u30c8\u30c3\u30d7\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\nautomation - Don't make me manually abort a LaTeX compile when there's an error - Stack Overflow\n\n\n\u30e9\u30c3\u30d1\u30fc\u30b9\u30af\u30ea\u30d7\u30c8latexmk_wrapper\n\u307e\u3093\u307e\u30cd\u30fc\u30df\u30f3\u30b0\u3002\u30bd\u30fc\u30b9\u306f\u3053\u3061\u3089\u3002\n\ndotfiles/latexmk_wrapper at master \u00b7 ssh0/dotfiles\n\n#!/bin/sh\n# written by Shotaro Fujimoto (https://github.com/ssh0)\n# first edited: 2015-06-26\n\n# If there is a file named below in the same directory,\n# this script automatically detect that the file is root tex file,\n# and compile this file even if you choose different one.\nrootfile='main.tex'\n\n# If the choosed file is in $sourcedir, default outputdir is setted to one\n# level upper directory.\nsourcedir='source'\n\nmessage() {\n  echo \"There is$1 '$rootfile' in the directory '$2',\"\n  echo \"so this script compiles this file.\"\n  echo \"\"\n}\n\nsearch_rootfile() {\nif [ -f \"$1\"/\"$rootfile\" ]; then\n  texfile=\"$1\"/\"$rootfile\"\n  message \"\" \"$1\"\n  return 0\nelse\n  texfile=\"$1\"/\"$name\"\n  return 1\nfi\n}\n\ndir=\"$(cd \"$(dirname $1)\"; pwd)\"\nname=\"$(basename $1)\"\n\nif [ ! -f \"$dir/$name\" ]; then\n  echo \"$dir/$name doesn't exist.\"\n  exit 1\nfi\n\ncurrentdir=\"$(basename $dir)\"\ndir_up=\"$(dirname $dir)\"\n\nif [ ${currentdir} = $sourcedir ]; then\n  echo \"This file is in '$sourcedir', so search '$rootfile' recursively.\"\n  outdir=\"${dir_up}\"\n  search_rootfile ${dir_up} || search_rootfile $dir || message \" not\" \"$dir\"\nelse\n  outdir=\"$dir\"\n  search_rootfile $dir || message \" not\" \"$dir\"\nfi\n\necho \"Run latexmk...\"\necho \"============\"\necho \"\"\nshift 1\nlatexmk -pdfdvi -output-directory=$outdir \"$@\" $texfile\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u307f\u3066\u3082\u3089\u3048\u3070\u6761\u4ef6\u5206\u5c90\u306e\u610f\u5473\u304c\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u5f15\u6570\u3068\u306a\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u304c$sourcedir\u306b\u3044\u308b\u3068\u304d\u306b\u306f\u3001\u81ea\u5206\u81ea\u8eab\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u305d\u306e\u4e0a\u306e\u968e\u5c64\u307e\u3067\u307f\u308b\u3053\u3068\u306b\u3057\u3066\u3001\u3053\u308c\u3089\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b$rootfile\u3067\u6307\u5b9a\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u3057\u3066latexmk\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u51fa\u529b\u5148\u306f\u3001$sourcedir\u304c\u3042\u308b\u3068\u304d\u306f\u305d\u306e\u4e0a\u306e\u968e\u5c64\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3001\u305d\u3046\u3067\u306a\u3044\u6642\u306f\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u6ce8)\nVim\u30d7\u30e9\u30b0\u30a4\u30f3'lervag/vimtex'\u3092\u5165\u308c\u3066\u3044\u308c\u3070\u3001latexmk\u3092\u4f7f\u3044\u3001\\input{}\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u3067\u3082\u3001\u81ea\u52d5\u7684\u306b\u89aa\u30d5\u30a1\u30a4\u30eb\u3092\u898b\u3064\u3051\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u306a\u304c\u3089\u3001Vim\u306e\u4e2d\u3067\u3057\u304b\u305d\u308c\u304c\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u306e\u3082\u4e0d\u4fbf\u306a\u306e\u3067(\u30b9\u30af\u30ea\u30d7\u30c8\u3068\u3057\u3066\u3082\u5b9f\u884c\u3057\u305f\u3044\u6642\u304c\u3042\u308b\u3060\u308d\u3046\u304b\u3089)\u3001\u671f\u5f85\u3057\u305f\u52d5\u4f5c\u3092\u3059\u308b\u3088\u3046\u306b\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\u5fd8\u308c\u305a\u5b9f\u884c\u6a29\u9650\u3092\u4e0e\u3048\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\nsudo chmod u+x ~/bin/latexmk_wrapper\n\n\u3053\u308c\u3067\u3001\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3068\u3057\u3066\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306etex\u30d5\u30a1\u30a4\u30eb\u3092\u5f15\u6570\u306b\u3057\u3066\u3084\u308c\u3070\u3001\u7c21\u5358\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nVim\u304b\u3089\u4f7f\u3046\u6e96\u5099\n~/.vimrc\u306b\n\" Plugin (managed by NeoBundle)\n\"==============================\n\" for LaTeX\nNeoBundle 'lervag/vimtex'\nlet g:vimtex_fold_envs = 0\nlet g:vimtex_view_general_viewer = 'mupdf'\n\n\" vim-quickrun\nNeoBundle 'thinca/vim-quickrun'\n\n\" autocmd\n\"==============================\naugroup filetype\n  autocmd!\n  \" tex file (I always use latex)\n  autocmd BufRead,BufNewFile *.tex set filetype=tex\naugroup END\n\n\" disable the conceal function\nlet g:tex_conceal=''\n\n\u3068\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\nlet g:vimtex_fold_envs = 0\u306fenvironment\u5358\u4f4d\u3067\u6298\u308a\u305f\u305f\u307f\u3059\u308b\u306e\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002\u3055\u3059\u304c\u306b\u3084\u308a\u904e\u304e\u611f\u3042\u3063\u305f\u306e\u3067\u2026\nautocmd\u3067tex\u306e\u30d5\u30a1\u30a4\u30eb\u30bf\u30a4\u30d7\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u3053\u306b\u3082\u66f8\u3044\u3066\u3042\u308b\u3068\u304a\u308a\u3001plaintex\u3068\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u30bf\u30a4\u30d7\u304c\u8a8d\u8b58\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308b\u306e\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u30bf\u30a4\u30d7\u306ftex\u306b\u7d71\u4e00\u3057\u307e\u3059\u3002\nlet g:tex_conceal=''\u3067\u3059\u304c\u3001\u6700\u8fd1\u306eVim\u306f\u3001\u6570\u5f0f\u306a\u3093\u304b\u3092\u6253\u3064\u3068\u3001\u52dd\u624b\u306b\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u306b\u7f6e\u304d\u63db\u3048\u3066\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u304c\u3001\u3046\u3063\u3068\u304a\u3057\u3044\u306e\u3067\u5207\u308a\u307e\u3059\u3002\n\n\u3010Vim\u3011Conceal\u6a5f\u80fd\u3063\u3066\u3076\u3063\u3061\u3083\u3051\u898b\u306b\u304f\u3044\u3068\u601d\u3046 - Qiita\n\n\nvim-quickrun\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\u7d9a\u3044\u3066vim-quickrun\u304c\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306btex\u306eQuickRun\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092~/.vim/ftplugin/tex_quickrun.vim\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n\" LaTeX Quickrun\nlet g:quickrun_config['tex'] = {\n\\ 'command' : 'latexmk_wrapper',\n\\ 'outputter' : 'error',\n\\ 'outputter/error/success' : 'null',\n\\ 'outputter/error/error' : 'quickfix',\n\\ 'srcfile' : expand(\"%s\"),\n\\ 'exec': '%c %s %a %o',\n\\}\n\n\" \u90e8\u5206\u7684\u306b\u9078\u629e\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\n\" http://auewe.hatenablog.com/entry/2013/12/25/033416 \u3092\u53c2\u8003\u306b\nlet g:quickrun_config.tmptex = {\n\\   'exec': [\n\\           'mv %s %a/tmptex.latex',\n\\           'latexmk -pdfdvi -pv -output-directory=%a %a/tmptex.latex',\n\\           ],\n\\   'args' : expand(\"%:p:h:gs?\\\\\\\\?/?\"),\n\\   'outputter' : 'error',\n\\   'outputter/error/error' : 'quickfix',\n\\\n\\   'hook/eval/enable' : 1,\n\\   'hook/eval/cd' : \"%s:r\",\n\\\n\\   'hook/eval/template' : '\\documentclass{jsarticle}'\n\\                         .'\\usepackage[dvipdfmx]{graphicx, hyperref}'\n\\                         .'\\usepackage{float}'\n\\                         .'\\usepackage{amsmath,amssymb,amsthm,ascmac,mathrsfs}'\n\\                         .'\\allowdisplaybreaks[1]'\n\\                         .'\\theoremstyle{definition}'\n\\                         .'\\newtheorem{theorem}{\u5b9a\u7406}'\n\\                         .'\\newtheorem*{theorem*}{\u5b9a\u7406}'\n\\                         .'\\newtheorem{definition}[theorem]{\u5b9a\u7fa9}'\n\\                         .'\\newtheorem*{definition*}{\u5b9a\u7fa9}'\n\\                         .'\\renewcommand\\vector[1]{\\mbox{\\boldmath{\\(#1\\)}} }'\n\\                         .'\\begin{document}'\n\\                         .'%s'\n\\                         .'\\end{document}',\n\\\n\\   'hook/sweep/files' : [\n\\                        '%a/tmptex.aux',\n\\                        '%a/tmptex.dvi',\n\\                        '%a/tmptex.fdb_latexmk',\n\\                        '%a/tmptex.fls',\n\\                        '%a/tmptex.latex',\n\\                        '%a/tmptex.log',\n\\                        '%a/tmptex.out',\n\\                        ],\n\\}\n\nvnoremap <silent><buffer> <F5> :QuickRun -mode v -type tmptex<CR>\n\n\" QuickRun and view compile result quickly (but don't preview pdf file)\nnnoremap <silent><F5> :QuickRun<CR>\n\nQuickRun\u3067\u4f7f\u7528\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092latexmk_wrapper\u306b\u5909\u66f4\u3057\u3001\u5f15\u6570\u306e\u51e6\u7406\u3092\u7c21\u5358\u306b\u3057\u305f\u4ee5\u5916\u306f\u3042\u307e\u308a\u524d\u56de\u3068\u5909\u308f\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u304a\u3051\u3070\u3001.tex\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u3067F5\u30ad\u30fc\u3092\u62bc\u305b\u3070\u3001\u5148\u307b\u3069\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u6307\u5b9a\u3057\u305f\u3088\u3046\u306b\u3001main.tex\u304c\u3042\u308c\u3070\u305d\u308c\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u307e\u305f\u3001\u30b3\u30de\u30f3\u30c9\u30e2\u30fc\u30c9\u304b\u3089\u5f15\u6570\u3092\u6301\u305f\u305b\u3066\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u4f8b\u3048\u3070\n:QuickRun -args -pv\n\n\u3067~/.latexmkrc\u3067\u6307\u5b9a\u3057\u305f\u958b\u304d\u65b9\u3067pdf\u30d5\u30a1\u30a4\u30eb\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3057\u3001\n:QuickRun -args -c\n\n\u3068\u3059\u308c\u3070\u3001\u4e2d\u9593\u30d5\u30a1\u30a4\u30eb\u3092\u3059\u3079\u3066\u524a\u9664\u3057\u3066dvi\u30d5\u30a1\u30a4\u30eb\u3084pdf\u30d5\u30a1\u30a4\u30eb\u3060\u3051\u304c\u6b8b\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u307e\u305f\u3001\u7bc4\u56f2\u3092\u9078\u629e\u3057\u3066\u30d3\u30b8\u30e5\u30a2\u30eb\u30e2\u30fc\u30c9\u306b\u3044\u308b\u3068\u304d\u306bF5\u30ad\u30fc\u3092\u62bc\u3059\u3053\u3068\u3067\u3001\u305d\u306e\u90e8\u5206\u3060\u3051\u3092hook/eval/template\u3067\u631f\u3093\u3060\u5f62\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066pdf\u306b\u3057\u3001\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u3061\u3087\u3063\u3068\u3057\u305f\u6570\u5f0f\u306e\u78ba\u8a8d\u3084\u3001\u6ce5\u81ed\u3044\u3067\u3059\u304c\u30a8\u30e9\u30fc\u306e\u51fa\u51e6\u3092\u63a2\u3059\u306e\u306b\u3082\u91cd\u5b9d\u3057\u307e\u3059\u3002\n\n\u307e\u3068\u3081\n\u3060\u3044\u3076\u4fbf\u5229\u306bTex\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3068\u601d\u3044\u307e\u3059\u3002\u306a\u3093\u3060\u304b\u3093\u3060\u3067\u5185\u5bb9\u3092\u7de8\u96c6\u3059\u308b\u6642\u9593\u3088\u308a\u3082\u30a8\u30e9\u30fc\u3064\u3076\u3057\u306b\u304b\u3051\u308b\u6642\u9593\u3082\u99ac\u9e7f\u306b\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u3053\u307e\u3081\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3001\u4e0d\u5b89\u306a\u3068\u3053\u308d\u306f\u90e8\u5206\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3001\u3068\u3044\u3046\u98a8\u306b\u3057\u3066\u3044\u3051\u3070\u3001\u697d\u306b\u7de8\u96c6\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u524d\u7f6e\u304d\n======\n\n\u4ee5\u524d\u306b[Vim\u3067LaTeX\u7de8\u96c6\uff01vim-quickrun\u3068latexmk\u3067\u81ea\u52d5\u30b3\u30f3\u30d1\u30a4\u30eb\u3068\u90e8\u5206\u30b3\u30f3\u30d1\u30a4\u30eb - Qiita](http://qiita.com/ssh0/items/4aea2d3849667717b36d)\u3068\u3044\u3046\u30a8\u30f3\u30c8\u30ea\u3092\u66f8\u3044\u3066\u307e\u3057\u305f\u304c\u3001\u4f7f\u3063\u3066\u3044\u308b\u3046\u3061\u306b\u66f4\u306b\u6539\u826f\u3067\u304d\u308b\u70b9\u304c\u898b\u3064\u304b\u3063\u305f\u306e\u3067\u3001\u6539\u3081\u3066\u307e\u3068\u3081\u3066\u304a\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u81ea\u52d5\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u90e8\u5206\u30b3\u30f3\u30d1\u30a4\u30eb\u306e\u3084\u308a\u65b9\u306f\u3001\u524d\u56de\u306e\u30a8\u30f3\u30c8\u30ea\u3068\u540c\u3058\u7d44\u307f\u5408\u305b(vim-quickrun+latexmk)\u3067\u5b9f\u73fe\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u5927\u67a0\u306f\u305d\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044(\u53c2\u8003\u306b\u306a\u308b\u5916\u90e8\u30ea\u30f3\u30af\u3082\u5f35\u3063\u3066\u3042\u308a\u307e\u3059)\u3002\u4eca\u56de\u306f\u4e3b\u306b`~/.latexmkrc`\u306e\u8a2d\u5b9a\u306e\u5909\u66f4\u3068\u3001`latexmk`\u30b3\u30de\u30f3\u30c9\u306e\u81ea\u4f5c\u30e9\u30c3\u30d1\u30fc\u30b9\u30af\u30ea\u30d7\u30c8`latexmk_wrapper`\u306e\u7d39\u4ecb\u3068\u3044\u3046\u5f62\u306b\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\nlatexmkrc\u306e\u8a2d\u5b9a\n===============\n\n`~/.latexmkrc`\u306b\u306f\u4ee5\u4e0b\u306e\u69d8\u306b\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\n* [dotfiles/.latexmkrc at master \u00b7 ssh0/dotfiles](https://github.com/ssh0/dotfiles/blob/master/.latexmkrc)\n\n```perl\n#!/usr/bin/perl\n$latex = 'platex -interaction=nonstopmode -kanji=utf-8 %O %S';\n$dvipdf = 'dvipdfmx %O -o %D %S';\n$bibtex = 'pbibtex';\n$pdf_mode = 3; # use dvipdf\n$pdf_update_method = 2;\n$pdf_previewer = \"start mupdf %O %S\";\n# Prevent latexmk from removing PDF after typeset.\n# $pvc_view_file_via_temporary = 0;\n```\n\n\u4ee5\u524d\u3068\u5909\u308f\u3063\u305f\u70b9\u306f\u3001`dvipdf`\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b`-o %D`\u3068\u3044\u3046\u306e\u304c\u3064\u3044\u305f\u70b9\u3067\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3059\u308b\u3068\u3001dvi\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bpdf\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304f\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u307e\u305f\u3001platex\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b`-interaction=nonstopmode`\u3092\u3064\u3051\u3066\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3082\u3001interaction\u30e2\u30fc\u30c9\u304c\u7acb\u3061\u4e0a\u304c\u3063\u3066\u30b9\u30c8\u30c3\u30d7\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n* [automation - Don't make me manually abort a LaTeX compile when there's an error - Stack Overflow](http://stackoverflow.com/questions/738755/dont-make-me-manually-abort-a-latex-compile-when-theres-an-error)\n\n\n\n\u30e9\u30c3\u30d1\u30fc\u30b9\u30af\u30ea\u30d7\u30c8latexmk_wrapper\n=================================\n\n\u307e\u3093\u307e\u30cd\u30fc\u30df\u30f3\u30b0\u3002\u30bd\u30fc\u30b9\u306f\u3053\u3061\u3089\u3002\n\n* [dotfiles/latexmk_wrapper at master \u00b7 ssh0/dotfiles](https://github.com/ssh0/dotfiles/blob/master/bin/latexmk_wrapper)\n\n```bash\n#!/bin/sh\n# written by Shotaro Fujimoto (https://github.com/ssh0)\n# first edited: 2015-06-26\n\n# If there is a file named below in the same directory,\n# this script automatically detect that the file is root tex file,\n# and compile this file even if you choose different one.\nrootfile='main.tex'\n\n# If the choosed file is in $sourcedir, default outputdir is setted to one\n# level upper directory.\nsourcedir='source'\n\nmessage() {\n  echo \"There is$1 '$rootfile' in the directory '$2',\"\n  echo \"so this script compiles this file.\"\n  echo \"\"\n}\n\nsearch_rootfile() {\nif [ -f \"$1\"/\"$rootfile\" ]; then\n  texfile=\"$1\"/\"$rootfile\"\n  message \"\" \"$1\"\n  return 0\nelse\n  texfile=\"$1\"/\"$name\"\n  return 1\nfi\n}\n\ndir=\"$(cd \"$(dirname $1)\"; pwd)\"\nname=\"$(basename $1)\"\n\nif [ ! -f \"$dir/$name\" ]; then\n  echo \"$dir/$name doesn't exist.\"\n  exit 1\nfi\n\ncurrentdir=\"$(basename $dir)\"\ndir_up=\"$(dirname $dir)\"\n\nif [ ${currentdir} = $sourcedir ]; then\n  echo \"This file is in '$sourcedir', so search '$rootfile' recursively.\"\n  outdir=\"${dir_up}\"\n  search_rootfile ${dir_up} || search_rootfile $dir || message \" not\" \"$dir\"\nelse\n  outdir=\"$dir\"\n  search_rootfile $dir || message \" not\" \"$dir\"\nfi\n\necho \"Run latexmk...\"\necho \"============\"\necho \"\"\nshift 1\nlatexmk -pdfdvi -output-directory=$outdir \"$@\" $texfile\n```\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u307f\u3066\u3082\u3089\u3048\u3070\u6761\u4ef6\u5206\u5c90\u306e\u610f\u5473\u304c\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u5f15\u6570\u3068\u306a\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u304c`$sourcedir`\u306b\u3044\u308b\u3068\u304d\u306b\u306f\u3001\u81ea\u5206\u81ea\u8eab\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u305d\u306e\u4e0a\u306e\u968e\u5c64\u307e\u3067\u307f\u308b\u3053\u3068\u306b\u3057\u3066\u3001\u3053\u308c\u3089\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b`$rootfile`\u3067\u6307\u5b9a\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u3057\u3066latexmk\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u51fa\u529b\u5148\u306f\u3001`$sourcedir`\u304c\u3042\u308b\u3068\u304d\u306f\u305d\u306e\u4e0a\u306e\u968e\u5c64\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3001\u305d\u3046\u3067\u306a\u3044\u6642\u306f\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\u6ce8)\nVim\u30d7\u30e9\u30b0\u30a4\u30f3'lervag/vimtex'\u3092\u5165\u308c\u3066\u3044\u308c\u3070\u3001latexmk\u3092\u4f7f\u3044\u3001`\\input{}`\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u3067\u3082\u3001\u81ea\u52d5\u7684\u306b\u89aa\u30d5\u30a1\u30a4\u30eb\u3092\u898b\u3064\u3051\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u306a\u304c\u3089\u3001Vim\u306e\u4e2d\u3067\u3057\u304b\u305d\u308c\u304c\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u306e\u3082\u4e0d\u4fbf\u306a\u306e\u3067(\u30b9\u30af\u30ea\u30d7\u30c8\u3068\u3057\u3066\u3082\u5b9f\u884c\u3057\u305f\u3044\u6642\u304c\u3042\u308b\u3060\u308d\u3046\u304b\u3089)\u3001\u671f\u5f85\u3057\u305f\u52d5\u4f5c\u3092\u3059\u308b\u3088\u3046\u306b\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\n\u5fd8\u308c\u305a\u5b9f\u884c\u6a29\u9650\u3092\u4e0e\u3048\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n```\nsudo chmod u+x ~/bin/latexmk_wrapper\n```\n\n\u3053\u308c\u3067\u3001\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3068\u3057\u3066\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306etex\u30d5\u30a1\u30a4\u30eb\u3092\u5f15\u6570\u306b\u3057\u3066\u3084\u308c\u3070\u3001\u7c21\u5358\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\nVim\u304b\u3089\u4f7f\u3046\u6e96\u5099\n===============\n\n`~/.vimrc`\u306b\n\n```vim\n\" Plugin (managed by NeoBundle)\n\"==============================\n\" for LaTeX\nNeoBundle 'lervag/vimtex'\nlet g:vimtex_fold_envs = 0\nlet g:vimtex_view_general_viewer = 'mupdf'\n\n\" vim-quickrun\nNeoBundle 'thinca/vim-quickrun'\n\n\" autocmd\n\"==============================\naugroup filetype\n  autocmd!\n  \" tex file (I always use latex)\n  autocmd BufRead,BufNewFile *.tex set filetype=tex\naugroup END\n\n\" disable the conceal function\nlet g:tex_conceal=''\n```\n\n\u3068\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n`let g:vimtex_fold_envs = 0`\u306fenvironment\u5358\u4f4d\u3067\u6298\u308a\u305f\u305f\u307f\u3059\u308b\u306e\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002\u3055\u3059\u304c\u306b\u3084\u308a\u904e\u304e\u611f\u3042\u3063\u305f\u306e\u3067\u2026\nautocmd\u3067tex\u306e\u30d5\u30a1\u30a4\u30eb\u30bf\u30a4\u30d7\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u304c\u3001[\u3053\u3053](https://github.com/lervag/vimtex/blob/master/doc/vimtex.txt#L182)\u306b\u3082\u66f8\u3044\u3066\u3042\u308b\u3068\u304a\u308a\u3001plaintex\u3068\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u30bf\u30a4\u30d7\u304c\u8a8d\u8b58\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308b\u306e\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u30bf\u30a4\u30d7\u306ftex\u306b\u7d71\u4e00\u3057\u307e\u3059\u3002\n`let g:tex_conceal=''`\u3067\u3059\u304c\u3001\u6700\u8fd1\u306eVim\u306f\u3001\u6570\u5f0f\u306a\u3093\u304b\u3092\u6253\u3064\u3068\u3001\u52dd\u624b\u306b\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u306b\u7f6e\u304d\u63db\u3048\u3066\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u304c\u3001\u3046\u3063\u3068\u304a\u3057\u3044\u306e\u3067\u5207\u308a\u307e\u3059\u3002\n\n- [\u3010Vim\u3011Conceal\u6a5f\u80fd\u3063\u3066\u3076\u3063\u3061\u3083\u3051\u898b\u306b\u304f\u3044\u3068\u601d\u3046 - Qiita](http://qiita.com/xeno1991/items/8d1c8f38595337bab7c8)\n\n\n\nvim-quickrun\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n===================\n\n\u7d9a\u3044\u3066vim-quickrun\u304c\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306btex\u306eQuickRun\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092`~/.vim/ftplugin/tex_quickrun.vim`\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n\n```vim\n\" LaTeX Quickrun\nlet g:quickrun_config['tex'] = {\n\\ 'command' : 'latexmk_wrapper',\n\\ 'outputter' : 'error',\n\\ 'outputter/error/success' : 'null',\n\\ 'outputter/error/error' : 'quickfix',\n\\ 'srcfile' : expand(\"%s\"),\n\\ 'exec': '%c %s %a %o',\n\\}\n\n\" \u90e8\u5206\u7684\u306b\u9078\u629e\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\n\" http://auewe.hatenablog.com/entry/2013/12/25/033416 \u3092\u53c2\u8003\u306b\nlet g:quickrun_config.tmptex = {\n\\   'exec': [\n\\           'mv %s %a/tmptex.latex',\n\\           'latexmk -pdfdvi -pv -output-directory=%a %a/tmptex.latex',\n\\           ],\n\\   'args' : expand(\"%:p:h:gs?\\\\\\\\?/?\"),\n\\   'outputter' : 'error',\n\\   'outputter/error/error' : 'quickfix',\n\\\n\\   'hook/eval/enable' : 1,\n\\   'hook/eval/cd' : \"%s:r\",\n\\\n\\   'hook/eval/template' : '\\documentclass{jsarticle}'\n\\                         .'\\usepackage[dvipdfmx]{graphicx, hyperref}'\n\\                         .'\\usepackage{float}'\n\\                         .'\\usepackage{amsmath,amssymb,amsthm,ascmac,mathrsfs}'\n\\                         .'\\allowdisplaybreaks[1]'\n\\                         .'\\theoremstyle{definition}'\n\\                         .'\\newtheorem{theorem}{\u5b9a\u7406}'\n\\                         .'\\newtheorem*{theorem*}{\u5b9a\u7406}'\n\\                         .'\\newtheorem{definition}[theorem]{\u5b9a\u7fa9}'\n\\                         .'\\newtheorem*{definition*}{\u5b9a\u7fa9}'\n\\                         .'\\renewcommand\\vector[1]{\\mbox{\\boldmath{\\(#1\\)}} }'\n\\                         .'\\begin{document}'\n\\                         .'%s'\n\\                         .'\\end{document}',\n\\\n\\   'hook/sweep/files' : [\n\\                        '%a/tmptex.aux',\n\\                        '%a/tmptex.dvi',\n\\                        '%a/tmptex.fdb_latexmk',\n\\                        '%a/tmptex.fls',\n\\                        '%a/tmptex.latex',\n\\                        '%a/tmptex.log',\n\\                        '%a/tmptex.out',\n\\                        ],\n\\}\n\nvnoremap <silent><buffer> <F5> :QuickRun -mode v -type tmptex<CR>\n\n\" QuickRun and view compile result quickly (but don't preview pdf file)\nnnoremap <silent><F5> :QuickRun<CR>\n```\n\nQuickRun\u3067\u4f7f\u7528\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092latexmk_wrapper\u306b\u5909\u66f4\u3057\u3001\u5f15\u6570\u306e\u51e6\u7406\u3092\u7c21\u5358\u306b\u3057\u305f\u4ee5\u5916\u306f\u3042\u307e\u308a\u524d\u56de\u3068\u5909\u308f\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u304a\u3051\u3070\u3001.tex\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u3067F5\u30ad\u30fc\u3092\u62bc\u305b\u3070\u3001\u5148\u307b\u3069\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u6307\u5b9a\u3057\u305f\u3088\u3046\u306b\u3001main.tex\u304c\u3042\u308c\u3070\u305d\u308c\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u307e\u305f\u3001\u30b3\u30de\u30f3\u30c9\u30e2\u30fc\u30c9\u304b\u3089\u5f15\u6570\u3092\u6301\u305f\u305b\u3066\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u4f8b\u3048\u3070\n\n```\n:QuickRun -args -pv\n```\n\n\u3067`~/.latexmkrc`\u3067\u6307\u5b9a\u3057\u305f\u958b\u304d\u65b9\u3067pdf\u30d5\u30a1\u30a4\u30eb\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3057\u3001\n\n```\n:QuickRun -args -c\n```\n\n\u3068\u3059\u308c\u3070\u3001\u4e2d\u9593\u30d5\u30a1\u30a4\u30eb\u3092\u3059\u3079\u3066\u524a\u9664\u3057\u3066dvi\u30d5\u30a1\u30a4\u30eb\u3084pdf\u30d5\u30a1\u30a4\u30eb\u3060\u3051\u304c\u6b8b\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u307e\u305f\u3001\u7bc4\u56f2\u3092\u9078\u629e\u3057\u3066\u30d3\u30b8\u30e5\u30a2\u30eb\u30e2\u30fc\u30c9\u306b\u3044\u308b\u3068\u304d\u306bF5\u30ad\u30fc\u3092\u62bc\u3059\u3053\u3068\u3067\u3001\u305d\u306e\u90e8\u5206\u3060\u3051\u3092`hook/eval/template`\u3067\u631f\u3093\u3060\u5f62\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066pdf\u306b\u3057\u3001\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u3061\u3087\u3063\u3068\u3057\u305f\u6570\u5f0f\u306e\u78ba\u8a8d\u3084\u3001\u6ce5\u81ed\u3044\u3067\u3059\u304c\u30a8\u30e9\u30fc\u306e\u51fa\u51e6\u3092\u63a2\u3059\u306e\u306b\u3082\u91cd\u5b9d\u3057\u307e\u3059\u3002\n\n\n\n\u307e\u3068\u3081\n======\n\n\u3060\u3044\u3076\u4fbf\u5229\u306bTex\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3068\u601d\u3044\u307e\u3059\u3002\u306a\u3093\u3060\u304b\u3093\u3060\u3067\u5185\u5bb9\u3092\u7de8\u96c6\u3059\u308b\u6642\u9593\u3088\u308a\u3082\u30a8\u30e9\u30fc\u3064\u3076\u3057\u306b\u304b\u3051\u308b\u6642\u9593\u3082\u99ac\u9e7f\u306b\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u3053\u307e\u3081\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3001\u4e0d\u5b89\u306a\u3068\u3053\u308d\u306f\u90e8\u5206\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3001\u3068\u3044\u3046\u98a8\u306b\u3057\u3066\u3044\u3051\u3070\u3001\u697d\u306b\u7de8\u96c6\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n\n\n"}