{"context": " More than 1 year has passed since last update.\u4f5c\u3063\u3066\u307f\u305f\u3002\n\u3055\u304f\u3063\u3068\u5165\u308b\u306e\u3067 anyenv \u4fbf\u5229\u3002\n# DOCKER-VERSION 0.11.1\n# VERSION 0.0.1\n\nFROM centos:centos6\n\nMAINTAINER python_spameggs\n\n# sysconfig network\nRUN echo \"NETWORKING=yes\" > /etc/sysconfig/network\n\nRUN rpm -Uvh http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-8.noarch.rpm\n# yum\nRUN yum update -y\nRUN yum install -y passwd\nRUN yum install -y sudo\nRUN yum install -y gcc\nRUN yum install -y gcc-c++\nRUN yum install -y make\nRUN yum install -y vim\nRUN yum install -y git\nRUN yum install --enablerepo=epel -y mosh\nRUN yum install -y openssl-devel\nRUN yum install -y zlib-devel\nRUN yum install -y readline-devel\nRUN yum install -y bzip2-devel\nRUN yum install -y libevent-devel\nRUN yum install -y openssh\nRUN yum install -y openssh-server\nRUN yum install -y openssh-clients\nRUN yum install -y cmake\n\n# ssh\nRUN sed -ri 's/UsePAM yes/#UsePAM yes/g' /etc/ssh/sshd_config\nRUN sed -ri 's/#UsePAM no/UsePAM no/g' /etc/ssh/sshd_config\n\n# user\nRUN useradd python_spameggs\nRUN echo 'foo' | passwd --stdin python_spameggs\n\n# sudo\nRUN echo 'python_spameggs ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers.d/python_spameggs\n\n# timezone\nRUN cp -p /usr/share/zoneinfo/Japan /etc/localtime\n\n# sshd\nRUN /etc/init.d/sshd start\nRUN /etc/init.d/sshd stop\n\nUSER python_spameggs\nWORKDIR /home/python_spameggs\n# anyenv\nRUN git clone https://github.com/riywo/anyenv .anyenv\nENV HOME /home/python_spameggs\nRUN echo 'export PATH=\"${HOME}/.anyenv/bin:${PATH}\"' >> .bash_profile\nRUN echo 'eval \"$(anyenv init -)\"' >> .bash_profile\n\n# anyenv update\nRUN mkdir -p .anyenv/plugins\nRUN git clone https://github.com/znz/anyenv-update.git .anyenv/plugins/anyenv-update\n\nEXPOSE 22\n\nUSER root\nCMD [\"/usr/sbin/sshd\", \"-D\"]\n\n\n\u4f5c\u3063\u3066\u307f\u305f\u3002\n\u3055\u304f\u3063\u3068\u5165\u308b\u306e\u3067 anyenv \u4fbf\u5229\u3002\n\n```\n# DOCKER-VERSION 0.11.1\n# VERSION 0.0.1\n\nFROM centos:centos6\n\nMAINTAINER python_spameggs\n\n# sysconfig network\nRUN echo \"NETWORKING=yes\" > /etc/sysconfig/network\n\nRUN rpm -Uvh http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-8.noarch.rpm\n# yum\nRUN yum update -y\nRUN yum install -y passwd\nRUN yum install -y sudo\nRUN yum install -y gcc\nRUN yum install -y gcc-c++\nRUN yum install -y make\nRUN yum install -y vim\nRUN yum install -y git\nRUN yum install --enablerepo=epel -y mosh\nRUN yum install -y openssl-devel\nRUN yum install -y zlib-devel\nRUN yum install -y readline-devel\nRUN yum install -y bzip2-devel\nRUN yum install -y libevent-devel\nRUN yum install -y openssh\nRUN yum install -y openssh-server\nRUN yum install -y openssh-clients\nRUN yum install -y cmake\n\n# ssh\nRUN sed -ri 's/UsePAM yes/#UsePAM yes/g' /etc/ssh/sshd_config\nRUN sed -ri 's/#UsePAM no/UsePAM no/g' /etc/ssh/sshd_config\n\n# user\nRUN useradd python_spameggs\nRUN echo 'foo' | passwd --stdin python_spameggs\n\n# sudo\nRUN echo 'python_spameggs ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers.d/python_spameggs\n\n# timezone\nRUN cp -p /usr/share/zoneinfo/Japan /etc/localtime\n\n# sshd\nRUN /etc/init.d/sshd start\nRUN /etc/init.d/sshd stop\n\nUSER python_spameggs\nWORKDIR /home/python_spameggs\n# anyenv\nRUN git clone https://github.com/riywo/anyenv .anyenv\nENV HOME /home/python_spameggs\nRUN echo 'export PATH=\"${HOME}/.anyenv/bin:${PATH}\"' >> .bash_profile\nRUN echo 'eval \"$(anyenv init -)\"' >> .bash_profile\n\n# anyenv update\nRUN mkdir -p .anyenv/plugins\nRUN git clone https://github.com/znz/anyenv-update.git .anyenv/plugins/anyenv-update\n\nEXPOSE 22\n\nUSER root\nCMD [\"/usr/sbin/sshd\", \"-D\"]\n```\n", "tags": ["docker", "anyenv"]}