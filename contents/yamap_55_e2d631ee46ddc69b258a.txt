{"context": " More than 1 year has passed since last update.\u30bf\u30a4\u30c8\u30eb\u306e\u4ef6\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u3063\u305f\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u4f5c\u6210\u3002\n\u3082\u3046\u5c11\u3057\u7dba\u9e97\u306a\u66f8\u304d\u65b9\u304c\u3042\u308b\u306f\u305a\u3002\nimport groovy.sql.Sql\n\nprintln \"start\".center(30,\"-\")\n\ndef sql = Sql.newInstance(\"jdbc:mysql://localhost:3309/test\", \"yamap\", \"yamap\", \"com.mysql.jdbc.Driver\")\ndef folder = /C:\\work\\sql/\nnew File(folder).eachFile{\n  // \u62e1\u5f35\u5b50\u3067sql\u30d5\u30a1\u30a4\u30eb\u3092\u5224\u5225\n  if (!it.name.split(\"\\\\.\").last().equals(\"sql\")) {\n    return\n  }\n  try {\n    // \u30d5\u30a1\u30a4\u30eb\u5185\u3092\u898b\u3066select\u304b\u3069\u3046\u304b\u5224\u5225\n    if (it.text.substring(0,10).contains(\"select\")) {\n      sql.rows(it.text)\n    } else {\n      sql.executeUpdate(it.text)\n    }\n  } catch(e) {\n    println \"\u30a8\u30e9\u30fc\u767a\u751f\".center(30,\"-\")\n    println it\n    println e\n    println \"-\"*40\n  }\n}\nprintln \"end\".center(30,\"-\")\n\n\u30bf\u30a4\u30c8\u30eb\u306e\u4ef6\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u3063\u305f\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u4f5c\u6210\u3002\n\u3082\u3046\u5c11\u3057\u7dba\u9e97\u306a\u66f8\u304d\u65b9\u304c\u3042\u308b\u306f\u305a\u3002\n\n```groovy\nimport groovy.sql.Sql\n\nprintln \"start\".center(30,\"-\")\n\ndef sql = Sql.newInstance(\"jdbc:mysql://localhost:3309/test\", \"yamap\", \"yamap\", \"com.mysql.jdbc.Driver\")\ndef folder = /C:\\work\\sql/\nnew File(folder).eachFile{\n  // \u62e1\u5f35\u5b50\u3067sql\u30d5\u30a1\u30a4\u30eb\u3092\u5224\u5225\n  if (!it.name.split(\"\\\\.\").last().equals(\"sql\")) {\n    return\n  }\n  try {\n    // \u30d5\u30a1\u30a4\u30eb\u5185\u3092\u898b\u3066select\u304b\u3069\u3046\u304b\u5224\u5225\n    if (it.text.substring(0,10).contains(\"select\")) {\n      sql.rows(it.text)\n    } else {\n      sql.executeUpdate(it.text)\n    }\n  } catch(e) {\n    println \"\u30a8\u30e9\u30fc\u767a\u751f\".center(30,\"-\")\n    println it\n    println e\n    println \"-\"*40\n  }\n}\nprintln \"end\".center(30,\"-\")\n```", "tags": ["Groovy"]}