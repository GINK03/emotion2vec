{"tags": ["RabbitMQ", "Sensu"], "context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nRabbitMQ\u3092Sensu\u3067\u76e3\u8996\u3059\u308b\u3082\u308d\u3082\u308d\u306b\u3064\u3044\u3066\u8abf\u3079\u307e\u3057\u305f\u3002\n\nrabbitmq\u30d7\u30e9\u30b0\u30a4\u30f3\nRabbitMQ\u3092\u76e3\u8996\u3059\u308b\u305f\u3081\u306bsensu-plugins-rabbitmq\u3068\u3044\u3046\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u306f\u6b21\u306e\u76e3\u8996\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nbin/check-rabbitmq-alive.rb\nbin/check-rabbitmq-amqp-alive.rb\nbin/check-rabbitmq-cluster-health.rb\nbin/check-rabbitmq-consumers.rb\nbin/check-rabbitmq-messages.rb\nbin/check-rabbitmq-network-partitions.rb\nbin/check-rabbitmq-node-health.rb\nbin/check-rabbitmq-queue-drain-time.rb\nbin/check-rabbitmq-queue.rb\nbin/check-rabbitmq-stomp-alive.rb\nbin/metrics-rabbitmq-overview.rb\nbin/metrics-rabbitmq-queue.rb\n\n\nSensu\u304b\u3089\u306e\u76e3\u8996\n\u500b\u5225\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u898b\u308b\u524d\u306bSensu\u304b\u3089\u76e3\u8996\u5bfe\u8c61\u30b5\u30fc\u30d0\u3092\u3069\u3046\u3084\u3063\u3066\u76e3\u8996\u3059\u308b\u304b\u3092\u8aac\u660e\u3057\u307e\u3059\u3002\nSensu\u306e\u76e3\u8996\u306e\u4ed5\u7d44\u307f\u306f\u3056\u3063\u304f\u308a\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n\nSensu\u30b5\u30fc\u30d0\u304c\u76e3\u8996\u5bfe\u8c61\u306eSensu\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u9001\u4fe1\u3059\u308b\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u7d50\u679c\u3092\u30b5\u30fc\u30d0\u306b\u8fd4\u3059\n\u30b5\u30fc\u30d0\u306f\u7d50\u679c\u306b\u5fdc\u3058\u3066\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8d77\u3053\u3059\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u306a\u308b\u30b5\u30fc\u30d0\u3067\u306f\u3001Sensu\u30b5\u30fc\u30d0\u304b\u3089\u6307\u793a\u3055\u308c\u308b\u30b3\u30de\u30f3\u30c9\u3068\u306a\u308b\u30d0\u30a4\u30ca\u30ea\u3084\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u30b5\u30fc\u30d0\u306b\u7f6e\u304f\u76e3\u8996\u3072\u3068\u3064\u306e\u8a2d\u5b9a\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\u8a73\u3057\u304f\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n{\n  \"checks\": {\n    \"check_rabbitmq_alive\": {\n      \"handlers\": [\"notify_slack\"],\n      \"command\": \"ruby /path/to/bin/check-rabbitmq-alive.rb\",\n      \"subscribers\": [\"rabbitmq\"],\n      \"interval\": 60\n    }\n  }\n}\n\nhandlers\u306fSensu\u30b5\u30fc\u30d0\u304c\u76e3\u8996\u306b\u5bfe\u3057\u3066\u884c\u3046\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u3059\u3002\nsubscribers\u306f\u3053\u306e\u76e3\u8996\u9805\u76ee\u306e\u5bfe\u8c61\u30ce\u30fc\u30c9(\u306e\u30b0\u30eb\u30fc\u30d7)\u3067\u3059\u3002\n\nrabbitmq\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f7f\u3044\u65b9\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\n\u3053\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306frubygems\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\u76e3\u8996\u5bfe\u8c61\u306e\u30ce\u30fc\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u3087\u3046\u3002\ngem install sensu-plugins-rabbitmq\n\n\n\u5b9f\u884c\u65b9\u6cd5\ngem\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u306e\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n$ check-rabbitmq-alive.rb -w localhost\n\n\n\u30b9\u30af\u30ea\u30d7\u30c8\n\nbin/check-rabbitmq-alive.rb\nREST API\u3067\u6b7b\u6d3b\u76e3\u8996\u3092\u3057\u307e\u3059\u3002\n    -w, --host HOST                  RabbitMQ host\n    -p, --password PASSWORD          RabbitMQ password\n    -P, --port PORT                  RabbitMQ API port\n        --ssl                        Enable SSL for connection to RabbitMQ\n    -u, --username USERNAME          RabbitMQ username\n    -v, --vhost VHOST                RabbitMQ vhost\n\n\nbin/check-rabbitmq-amqp-alive.rb\nAMQP\u7d4c\u7531\u3067\u6b7b\u6d3b\u76e3\u8996\u3092\u3057\u307e\u3059\u3002\n    -w, --host HOST                  RabbitMQ host\n    -p, --password PASSWORD          RabbitMQ password\n    -P, --port PORT                  RabbitMQ AMQP port\n        --ssl                        Enable SSL for connection to RabbitMQ\n    -u, --username USERNAME          RabbitMQ username\n    -v, --vhost VHOST                RabbitMQ vhost\n\n\nbin/check-rabbitmq-cluster-health.rb\nREST API\u3067\u30af\u30e9\u30b9\u30bf\u306e\u30ce\u30fc\u30c9\u304cRunning\u304b\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n    -w, --host HOST                  RabbitMQ host\n    -n, --nodes NODE1,NODE2          Optional comma separated list of expected nodes in the cluster\n    -p, --password PASSWORD          RabbitMQ password\n    -P, --port PORT                  RabbitMQ API port\n    -u, --username USERNAME          RabbitMQ username\n\nhttp://rabbitmq/api/nodes\u3092\u307f\u3066\u307e\u3059\u3002\n\nbin/check-rabbitmq-consumers.rb\nREST API\u7d4c\u7531\u3067Consumer\u306e\u6570\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n    -c, --critical NUM_CONSUMERS     CRITICAL consumer count threshold\n        --exclude queue_name         Comma separated list of RabbitMQ queues to NOT monitor.  All others will be monitored.\n        --host HOST                  RabbitMQ management API host\n        --password PASSWORD          RabbitMQ management API password\n        --port PORT                  RabbitMQ management API port\n        --queue queue_name           Comma separated list of RabbitMQ queues to monitor.\n        --ssl                        Enable SSL for connection to the API\n        --user USER                  RabbitMQ management API user\n    -w, --warn NUM_CONSUMERS         WARNING consumer count threshold\n\n\nbin/check-rabbitmq-messages.rb\nREST API\u7d4c\u7531\u3067\u30ad\u30e5\u30fc\u306b\u5165\u3063\u3066\u3044\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u7dcf\u6570\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n    -c, --critical NUM_MESSAGES      CRITICAL message count threshold\n    -e, --excludedqueues queue_name  Comma separated list of queues to exclude when using queue level monitoring\n        --host HOST                  RabbitMQ management API host\n        --password PASSWORD          RabbitMQ management API password\n        --port PORT                  RabbitMQ management API port\n    -q, --queuelevel                 Monitors that no individual queue is above the thresholds specified\n        --ssl                        Enable SSL for connection to the API\n        --user USER                  RabbitMQ management API user\n    -w, --warn NUM_MESSAGES          WARNING message count threshold\n\n\nbin/check-rabbitmq-network-partitions.rb\nAMQP\u7d4c\u7531\u3067RabbitMQ\u30af\u30e9\u30b9\u30bf\u306b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5206\u96e2\u304c\u767a\u751f\u3057\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n    -w, --host HOST                  RabbitMQ management API host\n    -p, --password PASSWORD          RabbitMQ management API password\n        --port PORT                  RabbitMQ management API port\n        --ssl                        Enable SSL for connection to the API\n    -u, --username USERNAME          RabbitMQ management API user\n\n\nbin/check-rabbitmq-node-health.rb\nREST API\u7d4c\u7531\u3067\u30ce\u30fc\u30c9\u72b6\u614b\u304c\u30d8\u30eb\u30b7\u30fc\u304b\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n    -w, --host HOST                  RabbitMQ host\n    -p, --password PASSWORD          RabbitMQ password\n    -P, --port PORT                  RabbitMQ API port\n    -c, --mcrit PERCENT              Critical % of socket usage vs high watermark\n    -m, --mwarn PERCENT              Warning % of socket usage vs high watermark\n    -u, --username USERNAME          RabbitMQ username\n    -a, --alarms BOOLEAN             Sound critical if one or more alarms are triggered\n\n\u3071\u3063\u3068\u898b\u3067\u30bd\u30fc\u30b9\u898b\u305f\u3060\u3051\u3067\u3059\u304c\u30d0\u30b0\u3042\u308a\u305d\u3046\u306a\u306e\u3067\u3001\u4f7f\u3046\u306a\u3089PR\u9001\u308b\u304b\u3057\u305f\u65b9\u304c\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\nbin/check-rabbitmq-queue-drain-time.rb\nREST API\u7d4c\u7531\u3002\n\u4eca\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6d88\u8cbb\u901f\u5ea6\u3092\u5143\u306b\u3001\u4ecaQueue\u306b\u3042\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u4f55\u79d2\u5f8c\u306b\u6d88\u8cbb\u3055\u308c\u308b\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u3001\u6b21\u306e\u3088\u3046\u306a\u72b6\u6cc1\u306e\u6642\u3001\n\n\u30ad\u30e5\u30fc\u306b\u306f1000\u30e1\u30c3\u30bb\u30fc\u30b8\u305f\u307e\u3063\u3066\u308b\n\u6d88\u8cbb\u901f\u5ea6\u306f 1 msg/sec\n\n1000\u79d2\u5f8c\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6d88\u8cbb\u3055\u308c\u308b\u3068\u4e88\u6e2c\u3055\u308c\u307e\u3059\u3002\n\u306a\u306e\u3067\u3001\u3082\u3057\u95be\u5024\u304c1000\u4ee5\u4e0b\u3067\u3042\u308c\u3070\u767a\u706b\u3057\u307e\u3059\u3002\n    -c, --critical PROCESS_TIME_SECS CRITICAL time that messages will process at current rate\n        --filter REGEX               Regular expression for filtering queues\n        --host HOST                  RabbitMQ management API host\n        --password PASSWORD          RabbitMQ management API password\n        --port PORT                  RabbitMQ management API port\n        --ssl                        Enable SSL for connection to the API\n        --user USER                  RabbitMQ management API user\n    -w, --warning PROCESS_TIME_SECS  WARNING that messages will process at current rate\n\n\nbin/check-rabbitmq-queue.rb\nREST API\u7d4c\u7531\u3002\n\u5404Queue\u3054\u3068\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6570\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n    -c, --critical NUM_MESSAGES      CRITICAL message count threshold\n        --host HOST                  RabbitMQ management API host\n        --password PASSWORD          RabbitMQ management API password\n        --port PORT                  RabbitMQ management API port\n        --queue queue_names          RabbitMQ queue to monitor (required)\n        --ssl                        Enable SSL for connection to the API\n        --user USER                  RabbitMQ management API user\n    -w, --warn NUM_MESSAGES          WARNING message count threshold\n\n\nbin/check-rabbitmq-stomp-alive.rb\nSTOMP\u7d4c\u7531\u3067\u6b7b\u6d3b\u76e3\u8996\u3057\u307e\u3059\u3002\n    -w, --host HOST                  RabbitMQ host\n    -p, --password PASSWORD          RabbitMQ password\n    -P, --port PORT                  RabbitMQ STOMP port\n    -q, --queue QUEUE                Queue to post a message to and receive from\n        --ssl                        Enable SSL for connection to RabbitMQ\n    -u, --username USERNAME          RabbitMQ username\n\n\nbin/metrics-rabbitmq-overview.rb\nRabbitMQ\u306eManagement UI\u306e\u30e1\u30a4\u30f3\u30da\u30fc\u30b8\u3068\u540c\u3058\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n#   $ rabbitmq-queue-metrics.rb\n#    host.rabbitmq.queue_totals.messages.count 0 1344186404\n#    host.rabbitmq.queue_totals.messages.rate  0.0 1344186404\n#    host.rabbitmq.queue_totals.messages_unacknowledged.count  0 1344186404\n#    host.rabbitmq.queue_totals.messages_unacknowledged.rate 0.0 1344186404\n#    host.rabbitmq.queue_totals.messages_ready.count 0 1344186404\n#    host.rabbitmq.queue_totals.messages_ready.rate  0.0 1344186404\n#    host.rabbitmq.message_stats.publish.count 4605755 1344186404\n#    host.rabbitmq.message_stats.publish.rate  17.4130186829638  1344186404\n#    host.rabbitmq.message_stats.deliver_no_ack.count  6661111 1344186404\n#    host.rabbitmq.message_stats.deliver_no_ack.rate 24.6867565643405  1344186404\n#    host.rabbitmq.message_stats.deliver_get.count 6661111 1344186404\n#    host.rabbitmq.message_stats.deliver_get.rate  24.6867565643405  1344186404#\n\n\nbin/metrics-rabbitmq-queue.rb\nQueue\u3054\u3068\u306b\u6b21\u306e\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u6570\n\u5e73\u5747\u6392\u51fa\u901f\u5ea6\n\u30e1\u30c3\u30bb\u30fc\u30b8\u6d88\u8cbb\u4e88\u6e2c\u6642\u9593\nConsumer\u6570\n\n# \u6982\u8981\nRabbitMQ\u3092Sensu\u3067\u76e3\u8996\u3059\u308b\u3082\u308d\u3082\u308d\u306b\u3064\u3044\u3066\u8abf\u3079\u307e\u3057\u305f\u3002\n\n# rabbitmq\u30d7\u30e9\u30b0\u30a4\u30f3\nRabbitMQ\u3092\u76e3\u8996\u3059\u308b\u305f\u3081\u306b[sensu-plugins-rabbitmq](https://github.com/sensu-plugins/sensu-plugins-rabbitmq)\u3068\u3044\u3046\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u306f\u6b21\u306e\u76e3\u8996\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n* bin/check-rabbitmq-alive.rb\n* bin/check-rabbitmq-amqp-alive.rb\n* bin/check-rabbitmq-cluster-health.rb\n* bin/check-rabbitmq-consumers.rb\n* bin/check-rabbitmq-messages.rb\n* bin/check-rabbitmq-network-partitions.rb\n* bin/check-rabbitmq-node-health.rb\n* bin/check-rabbitmq-queue-drain-time.rb\n* bin/check-rabbitmq-queue.rb\n* bin/check-rabbitmq-stomp-alive.rb\n* bin/metrics-rabbitmq-overview.rb\n* bin/metrics-rabbitmq-queue.rb\n\n# Sensu\u304b\u3089\u306e\u76e3\u8996\n\u500b\u5225\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u898b\u308b\u524d\u306bSensu\u304b\u3089\u76e3\u8996\u5bfe\u8c61\u30b5\u30fc\u30d0\u3092\u3069\u3046\u3084\u3063\u3066\u76e3\u8996\u3059\u308b\u304b\u3092\u8aac\u660e\u3057\u307e\u3059\u3002\n\nSensu\u306e\u76e3\u8996\u306e\u4ed5\u7d44\u307f\u306f\u3056\u3063\u304f\u308a\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n![2ab5bf60-0c18-0ef2-dfd3-a0200b8cf888.png](https://qiita-image-store.s3.amazonaws.com/0/43208/08a0339e-e143-9d40-48e1-a398fe6335ae.png)\n\n1. Sensu\u30b5\u30fc\u30d0\u304c\u76e3\u8996\u5bfe\u8c61\u306eSensu\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u9001\u4fe1\u3059\u308b\n2. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u7d50\u679c\u3092\u30b5\u30fc\u30d0\u306b\u8fd4\u3059\n3. \u30b5\u30fc\u30d0\u306f\u7d50\u679c\u306b\u5fdc\u3058\u3066\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8d77\u3053\u3059\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u306a\u308b\u30b5\u30fc\u30d0\u3067\u306f\u3001Sensu\u30b5\u30fc\u30d0\u304b\u3089\u6307\u793a\u3055\u308c\u308b\u30b3\u30de\u30f3\u30c9\u3068\u306a\u308b\u30d0\u30a4\u30ca\u30ea\u3084\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d0\u306b\u7f6e\u304f\u76e3\u8996\u3072\u3068\u3064\u306e\u8a2d\u5b9a\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\u8a73\u3057\u304f\u306f[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://sensuapp.org/docs/0.20/checks)\u3092\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n```json\n{\n  \"checks\": {\n    \"check_rabbitmq_alive\": {\n      \"handlers\": [\"notify_slack\"],\n      \"command\": \"ruby /path/to/bin/check-rabbitmq-alive.rb\",\n      \"subscribers\": [\"rabbitmq\"],\n      \"interval\": 60\n    }\n  }\n}\n```\n\n`handlers`\u306fSensu\u30b5\u30fc\u30d0\u304c\u76e3\u8996\u306b\u5bfe\u3057\u3066\u884c\u3046\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u3059\u3002\n`subscribers`\u306f\u3053\u306e\u76e3\u8996\u9805\u76ee\u306e\u5bfe\u8c61\u30ce\u30fc\u30c9(\u306e\u30b0\u30eb\u30fc\u30d7)\u3067\u3059\u3002\n\n# rabbitmq\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f7f\u3044\u65b9\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\n\u3053\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306frubygems\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\u76e3\u8996\u5bfe\u8c61\u306e\u30ce\u30fc\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u3087\u3046\u3002\n\n```bash\ngem install sensu-plugins-rabbitmq\n```\n\n## \u5b9f\u884c\u65b9\u6cd5\ngem\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u306e\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n\n```bash\n$ check-rabbitmq-alive.rb -w localhost\n```\n\n## \u30b9\u30af\u30ea\u30d7\u30c8\n### bin/check-rabbitmq-alive.rb\nREST API\u3067\u6b7b\u6d3b\u76e3\u8996\u3092\u3057\u307e\u3059\u3002\n\n```\n    -w, --host HOST                  RabbitMQ host\n    -p, --password PASSWORD          RabbitMQ password\n    -P, --port PORT                  RabbitMQ API port\n        --ssl                        Enable SSL for connection to RabbitMQ\n    -u, --username USERNAME          RabbitMQ username\n    -v, --vhost VHOST                RabbitMQ vhost\n```\n\n### bin/check-rabbitmq-amqp-alive.rb\nAMQP\u7d4c\u7531\u3067\u6b7b\u6d3b\u76e3\u8996\u3092\u3057\u307e\u3059\u3002\n\n```\n    -w, --host HOST                  RabbitMQ host\n    -p, --password PASSWORD          RabbitMQ password\n    -P, --port PORT                  RabbitMQ AMQP port\n        --ssl                        Enable SSL for connection to RabbitMQ\n    -u, --username USERNAME          RabbitMQ username\n    -v, --vhost VHOST                RabbitMQ vhost\n```\n\n### bin/check-rabbitmq-cluster-health.rb\nREST API\u3067\u30af\u30e9\u30b9\u30bf\u306e\u30ce\u30fc\u30c9\u304cRunning\u304b\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\n```\n    -w, --host HOST                  RabbitMQ host\n    -n, --nodes NODE1,NODE2          Optional comma separated list of expected nodes in the cluster\n    -p, --password PASSWORD          RabbitMQ password\n    -P, --port PORT                  RabbitMQ API port\n    -u, --username USERNAME          RabbitMQ username\n```\n\n`http://rabbitmq/api/nodes`\u3092\u307f\u3066\u307e\u3059\u3002\n\n### bin/check-rabbitmq-consumers.rb\nREST API\u7d4c\u7531\u3067Consumer\u306e\u6570\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\n```\n    -c, --critical NUM_CONSUMERS     CRITICAL consumer count threshold\n        --exclude queue_name         Comma separated list of RabbitMQ queues to NOT monitor.  All others will be monitored.\n        --host HOST                  RabbitMQ management API host\n        --password PASSWORD          RabbitMQ management API password\n        --port PORT                  RabbitMQ management API port\n        --queue queue_name           Comma separated list of RabbitMQ queues to monitor.\n        --ssl                        Enable SSL for connection to the API\n        --user USER                  RabbitMQ management API user\n    -w, --warn NUM_CONSUMERS         WARNING consumer count threshold\n```\n\n### bin/check-rabbitmq-messages.rb\nREST API\u7d4c\u7531\u3067\u30ad\u30e5\u30fc\u306b\u5165\u3063\u3066\u3044\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u7dcf\u6570\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\n```\n    -c, --critical NUM_MESSAGES      CRITICAL message count threshold\n    -e, --excludedqueues queue_name  Comma separated list of queues to exclude when using queue level monitoring\n        --host HOST                  RabbitMQ management API host\n        --password PASSWORD          RabbitMQ management API password\n        --port PORT                  RabbitMQ management API port\n    -q, --queuelevel                 Monitors that no individual queue is above the thresholds specified\n        --ssl                        Enable SSL for connection to the API\n        --user USER                  RabbitMQ management API user\n    -w, --warn NUM_MESSAGES          WARNING message count threshold\n```\n\n### bin/check-rabbitmq-network-partitions.rb\nAMQP\u7d4c\u7531\u3067RabbitMQ\u30af\u30e9\u30b9\u30bf\u306b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5206\u96e2\u304c\u767a\u751f\u3057\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\n```\n    -w, --host HOST                  RabbitMQ management API host\n    -p, --password PASSWORD          RabbitMQ management API password\n        --port PORT                  RabbitMQ management API port\n        --ssl                        Enable SSL for connection to the API\n    -u, --username USERNAME          RabbitMQ management API user\n```\n\n### bin/check-rabbitmq-node-health.rb\nREST API\u7d4c\u7531\u3067\u30ce\u30fc\u30c9\u72b6\u614b\u304c\u30d8\u30eb\u30b7\u30fc\u304b\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\n```\n    -w, --host HOST                  RabbitMQ host\n    -p, --password PASSWORD          RabbitMQ password\n    -P, --port PORT                  RabbitMQ API port\n    -c, --mcrit PERCENT              Critical % of socket usage vs high watermark\n    -m, --mwarn PERCENT              Warning % of socket usage vs high watermark\n    -u, --username USERNAME          RabbitMQ username\n    -a, --alarms BOOLEAN             Sound critical if one or more alarms are triggered\n```\n\n\u3071\u3063\u3068\u898b\u3067\u30bd\u30fc\u30b9\u898b\u305f\u3060\u3051\u3067\u3059\u304c\u30d0\u30b0\u3042\u308a\u305d\u3046\u306a\u306e\u3067\u3001\u4f7f\u3046\u306a\u3089PR\u9001\u308b\u304b\u3057\u305f\u65b9\u304c\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\n### bin/check-rabbitmq-queue-drain-time.rb\nREST API\u7d4c\u7531\u3002\n\u4eca\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6d88\u8cbb\u901f\u5ea6\u3092\u5143\u306b\u3001\u4ecaQueue\u306b\u3042\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u4f55\u79d2\u5f8c\u306b\u6d88\u8cbb\u3055\u308c\u308b\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u3001\u6b21\u306e\u3088\u3046\u306a\u72b6\u6cc1\u306e\u6642\u3001\n\n* \u30ad\u30e5\u30fc\u306b\u306f1000\u30e1\u30c3\u30bb\u30fc\u30b8\u305f\u307e\u3063\u3066\u308b\n* \u6d88\u8cbb\u901f\u5ea6\u306f 1 msg/sec\n\n1000\u79d2\u5f8c\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6d88\u8cbb\u3055\u308c\u308b\u3068\u4e88\u6e2c\u3055\u308c\u307e\u3059\u3002\n\u306a\u306e\u3067\u3001\u3082\u3057\u95be\u5024\u304c1000\u4ee5\u4e0b\u3067\u3042\u308c\u3070\u767a\u706b\u3057\u307e\u3059\u3002\n\n```\n    -c, --critical PROCESS_TIME_SECS CRITICAL time that messages will process at current rate\n        --filter REGEX               Regular expression for filtering queues\n        --host HOST                  RabbitMQ management API host\n        --password PASSWORD          RabbitMQ management API password\n        --port PORT                  RabbitMQ management API port\n        --ssl                        Enable SSL for connection to the API\n        --user USER                  RabbitMQ management API user\n    -w, --warning PROCESS_TIME_SECS  WARNING that messages will process at current rate\n```\n\n### bin/check-rabbitmq-queue.rb\nREST API\u7d4c\u7531\u3002\n\u5404Queue\u3054\u3068\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6570\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\n```\n    -c, --critical NUM_MESSAGES      CRITICAL message count threshold\n        --host HOST                  RabbitMQ management API host\n        --password PASSWORD          RabbitMQ management API password\n        --port PORT                  RabbitMQ management API port\n        --queue queue_names          RabbitMQ queue to monitor (required)\n        --ssl                        Enable SSL for connection to the API\n        --user USER                  RabbitMQ management API user\n    -w, --warn NUM_MESSAGES          WARNING message count threshold\n```\n\n### bin/check-rabbitmq-stomp-alive.rb\nSTOMP\u7d4c\u7531\u3067\u6b7b\u6d3b\u76e3\u8996\u3057\u307e\u3059\u3002\n\n```\n    -w, --host HOST                  RabbitMQ host\n    -p, --password PASSWORD          RabbitMQ password\n    -P, --port PORT                  RabbitMQ STOMP port\n    -q, --queue QUEUE                Queue to post a message to and receive from\n        --ssl                        Enable SSL for connection to RabbitMQ\n    -u, --username USERNAME          RabbitMQ username\n```\n\n### bin/metrics-rabbitmq-overview.rb\nRabbitMQ\u306eManagement UI\u306e\u30e1\u30a4\u30f3\u30da\u30fc\u30b8\u3068\u540c\u3058\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n```\n#   $ rabbitmq-queue-metrics.rb\n#    host.rabbitmq.queue_totals.messages.count 0 1344186404\n#    host.rabbitmq.queue_totals.messages.rate  0.0 1344186404\n#    host.rabbitmq.queue_totals.messages_unacknowledged.count  0 1344186404\n#    host.rabbitmq.queue_totals.messages_unacknowledged.rate 0.0 1344186404\n#    host.rabbitmq.queue_totals.messages_ready.count 0 1344186404\n#    host.rabbitmq.queue_totals.messages_ready.rate  0.0 1344186404\n#    host.rabbitmq.message_stats.publish.count 4605755 1344186404\n#    host.rabbitmq.message_stats.publish.rate  17.4130186829638  1344186404\n#    host.rabbitmq.message_stats.deliver_no_ack.count  6661111 1344186404\n#    host.rabbitmq.message_stats.deliver_no_ack.rate 24.6867565643405  1344186404\n#    host.rabbitmq.message_stats.deliver_get.count 6661111 1344186404\n#    host.rabbitmq.message_stats.deliver_get.rate  24.6867565643405  1344186404#\n```\n\n### bin/metrics-rabbitmq-queue.rb\nQueue\u3054\u3068\u306b\u6b21\u306e\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n* \u30e1\u30c3\u30bb\u30fc\u30b8\u6570\n* \u5e73\u5747\u6392\u51fa\u901f\u5ea6\n* \u30e1\u30c3\u30bb\u30fc\u30b8\u6d88\u8cbb\u4e88\u6e2c\u6642\u9593\n* Consumer\u6570\n"}