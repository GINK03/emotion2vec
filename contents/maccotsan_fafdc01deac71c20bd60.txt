{"context": " More than 1 year has passed since last update.\n\n\u74b0\u5883\n\nVMWare Fusion 7.1.1\n\u30db\u30b9\u30c8OS: OSX 10.9\n\u30b2\u30b9\u30c8OS: Ubuntu 14.04.2 LTS\n\n\n\u73fe\u8c61\n\n\u3044\u3064\u3082\u306e\u3088\u3046\u306b\u3001VMWare Fusion\u3067/mnt/hgfs\u304c\u30de\u30a6\u30f3\u30c8\u3067\u304d\u306a\u304f\u306a\u308b\n\u3044\u3064\u3082\u306fVMWare Tools\u306e\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001config-tools\u306e\u5b9f\u884c\u7b49\u3092\u884c\u3046\u3068\u6cbb\u308b\u304c\u3001\u4eca\u56de\u306f\u6539\u5584\u305b\u305a\u3002\nopen-vm-tools\u3092\u5165\u308c\u3066\u307f\u3066\u3082\u30c0\u30e1\u3002\n\n\n\u539f\u56e0\n\nVMWareTools\u306e\u30d0\u30b0\nhttps://communities.vmware.com/thread/499503\n\n\n\u5bfe\u7b56\n\n\u30d1\u30c3\u30c1\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u5f53\u3066\u308b\n  https://github.com/rasa/vmware-tools-patches\n\n\u4ee5\u4e0b\u3092\u5b9f\u884c\u3059\u308b\u3068\u30d1\u30c3\u30c1\u304c\u5f53\u305f\u3063\u305fVMWareTools\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\n\uff08VMWareTools-*.tar.gz\u306f\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u7f6e\u3044\u3066\u304a\u304f\uff09\n\n\n\ngit clone https://github.com/rasa/vmware-tools-patches.git\ncp VMWareTools-*.tar.gz vmware-tools-patches/\ncd vmware-tools-patches\n./untar-and-patch-and-compile.sh\n\n\n\u6ce8\u610f\n\n\u30ab\u30fc\u30cd\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f33.13.x\u306f\u6b63\u5e38\u306b\u30d1\u30c3\u30c1\u304c\u5f53\u305f\u3089\u306a\u3044\u3002\n\n\n\u3046\u3061\u306e\u74b0\u5883\u306f\u307e\u3055\u306b\u3053\u308c\u3067\u3001\u30ab\u30fc\u30cd\u30eb\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u884c\u3063\u305f\u3002\n\n\nLinux Ubuntu \u30ab\u30fc\u30cd\u30eb\u3092\u6700\u65b0\u306e\u3082\u306e\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b(3.16.0)\uff5c\u3082\u3063\u3068Linux\u3092\u4f7f\u304a\u3046^_\u2212\u2606\n\n\n\n\n\n\nError Log\n~/vmware-tools-distrib$ sudo ./vmware-install.pl\n  The installer has detected an existing installation of\n  open-vm-tools on this \n  system and will not attempt to remove and replace these\n  user-space \n  applications. It is recommended to use the open-vm-tools\n  packages provided by \n  the operating system. If you do not want to use the existing\n  installation of \n  open-vm-tools and attempt to install VMware Tools, you must\n  uninstall the \n  open-vm-tools packages and re-run this installer.\n  The installer will next check if there are any missing kernel\n  drivers. Type yes\n  if you want to do this, otherwise type no [yes] \n\n  A previous installation of VMware Tools has been detected.\n\n  The previous installation was made by the tar installer\n  (version 4).\n\n  Keeping the tar4 installer database format.\n\n  You have a version of VMware Tools installed.  Continuing\n  this install will \n  first uninstall the currently installed version.  Do you wish\n  to continue? \n  (yes/no) [yes] \n\n  Uninstalling the tar installation of VMware Tools.\n\n  Stopping services for vmware-tools\n\n  vmware-tools stop/waiting\n  Stopping services for vmware-tools-thinprint\n\n  vmware-tools-thinprint stop/waiting\n  update-initramfs: Generating\n  /boot/initrd.img-3.13.0-46-generic\n  The removal of VMware Tools 9.9.2 build-2496486 for Linux\n  completed \n  successfully.\n\n  Installing VMware Tools.\n\n  In which directory do you want to install the binary files? \n  [/usr/bin] \n\n  What is the directory that contains the init directories\n  (rc0.d/ to rc6.d/)? \n  [/etc] \n\n  What is the directory that contains the init scripts? \n  [/etc/init.d] \n\n  In which directory do you want to install the daemon files? \n  [/usr/sbin] \n\n  In which directory do you want to install the library files? \n  [/usr/lib/vmware-tools] \n\n  The path \"/usr/lib/vmware-tools\" does not exist currently.\n  This program is \n  going to create it, including needed parent directories. Is\n  this what you want?\n  [yes] \n\n  In which directory do you want to install the documentation\n  files? \n  [/usr/share/doc/vmware-tools] \n\n  The path \"/usr/share/doc/vmware-tools\" does not exist\n  currently. This program \n  is going to create it, including needed parent directories.\n  Is this what you \n  want? [yes] \n\n  The installation of VMware Tools 9.9.2 build-2496486 for\n  Linux completed \n  successfully. You can decide to remove this software from\n  your system at any \n  time by invoking the following command:\n  \"/usr/bin/vmware-uninstall-tools.pl\".\n\n  Before running VMware Tools for the first time, you need to\n  configure it by \n  invoking the following command:\n  \"/usr/bin/vmware-config-tools.pl\". Do you want \n  this program to invoke the command for you now? [yes] \n\n  Initializing...\n\n\n  Making sure services for VMware Tools are stopped.\n\n\n\n  The module vmci has already been installed on this system by\n  another installer \n  or package and will not be modified by this installer.\n\n  The module vsock has already been installed on this system by\n  another installer\n  or package and will not be modified by this installer.\n\n  The module vmxnet3 has already been installed on this system\n  by another \n  installer or package and will not be modified by this\n  installer.\n\n  The module pvscsi has already been installed on this system\n  by another \n  installer or package and will not be modified by this\n  installer.\n\n  The module vmmemctl has already been installed on this system\n  by another \n  installer or package and will not be modified by this\n  installer.\n\n  The VMware Host-Guest Filesystem allows for shared folders\n  between the host OS \n  and the guest OS in a Fusion or Workstation virtual\n  environment.  Do you wish \n  to enable this feature? [yes] \n\n\n  Before you can compile modules, you need to have the\n  following installed... \n\n  make\n  gcc\n  kernel headers of the running kernel\n\n\n  Searching for GCC...\n  Detected GCC binary at \"/usr/bin/gcc\".\n  The path \"/usr/bin/gcc\" appears to be a valid path to the gcc\n  binary.\n  Would you like to change it? [no] \n\n  Searching for a valid kernel header path...\n  Detected the kernel headers at\n  \"/lib/modules/3.13.0-46-generic/build/include\".\n  The path \"/lib/modules/3.13.0-46-generic/build/include\"\n  appears to be a valid \n  path to the 3.13.0-46-generic kernel headers.\n  Would you like to change it? [no] \n\n  Using kernel build system.\n  make: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/modconfig-891E4X/vmhgfs-only' \u306b\u5165\u308a\u307e\u3059\n  /usr/bin/make -C\n  /lib/modules/3.13.0-46-generic/build/include/.. SUBDIRS=$PWD\n  SRCROOT=$PWD/. \\\n      MODULEBUILDDIR= modules\n  make[1]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/usr/src/linux-headers-3.13.0-46-generic'\n  \u306b\u5165\u308a\u307e\u3059\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/backdoor.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/backdoorGcc64.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/bdhandler.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/cpName.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/cpNameLinux.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/cpNameLite.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/dentry.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/dir.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/file.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/filesystem.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/fsutil.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/hgfsBd.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/hgfsEscape.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/hgfsUtil.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/inode.o\n  In file included from\n  /usr/src/linux-headers-3.13.0-46-generic/arch/x86/include/asm/\n  percpu.h:44:0,\n                   from\n  /usr/src/linux-headers-3.13.0-46-generic/arch/x86/include/asm/\n  preempt.h:5,\n                   from include/linux/preempt.h:18,\n                   from include/linux/spinlock.h:50,\n                   from include/linux/mmzone.h:7,\n                   from include/linux/gfp.h:4,\n                   from include/linux/mm.h:8,\n                   from include/linux/pagemap.h:7,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:29:\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c: In function\n  \u2018HgfsPermission\u2019:\n  include/linux/kernel.h:793:27: error: \u2018struct dentry\u2019 has no\n  member named \u2018d_alias\u2019\n    const typeof( ((type *)0)->member ) *__mptr = (ptr); \\\n                             ^\n  include/linux/list.h:687:40: note: in expansion of macro\n  \u2018container_of\u2019\n   #define hlist_entry(ptr, type, member)\n  container_of(ptr,type,member)\n                                          ^\n  include/linux/list.h:698:15: note: in expansion of macro\n  \u2018hlist_entry\u2019\n       ____ptr ? hlist_entry(____ptr, type, member) : NULL; \\\n                 ^\n  include/linux/list.h:708:13: note: in expansion of macro\n  \u2018hlist_entry_safe\u2019\n    for (pos = hlist_entry_safe((head)->first, typeof(*(pos)),\n  member);\\\n               ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  include/linux/kernel.h:793:48: warning: initialization from\n  incompatible pointer type [enabled by default]\n    const typeof( ((type *)0)->member ) *__mptr = (ptr); \\\n                                                  ^\n  include/linux/list.h:687:40: note: in expansion of macro\n  \u2018container_of\u2019\n   #define hlist_entry(ptr, type, member)\n  container_of(ptr,type,member)\n                                          ^\n  include/linux/list.h:698:15: note: in expansion of macro\n  \u2018hlist_entry\u2019\n       ____ptr ? hlist_entry(____ptr, type, member) : NULL; \\\n                 ^\n  include/linux/list.h:708:13: note: in expansion of macro\n  \u2018hlist_entry_safe\u2019\n    for (pos = hlist_entry_safe((head)->first, typeof(*(pos)),\n  member);\\\n               ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  In file included from include/linux/compiler-gcc.h:106:0,\n                   from include/linux/compiler.h:54,\n                   from include/uapi/linux/stddef.h:1,\n                   from include/linux/stddef.h:4,\n                   from\n  /usr/src/linux-headers-3.13.0-46-generic/include/uapi/linux/po\n  six_types.h:4,\n                   from include/uapi/linux/types.h:13,\n                   from include/linux/types.h:5,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/./shared/driver-config.h:71,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:26:\n  include/linux/compiler-gcc4.h:14:34: error: \u2018struct dentry\u2019\n  has no member named \u2018d_alias\u2019\n   #define __compiler_offsetof(a,b) __builtin_offsetof(a,b)\n                                    ^\n  include/linux/stddef.h:17:31: note: in expansion of macro\n  \u2018__compiler_offsetof\u2019\n   #define offsetof(TYPE,MEMBER)\n  __compiler_offsetof(TYPE,MEMBER)\n                                 ^\n  include/linux/kernel.h:794:29: note: in expansion of macro\n  \u2018offsetof\u2019\n    (type *)( (char *)__mptr - offsetof(type,member) );})\n                               ^\n  include/linux/list.h:687:40: note: in expansion of macro\n  \u2018container_of\u2019\n   #define hlist_entry(ptr, type, member)\n  container_of(ptr,type,member)\n                                          ^\n  include/linux/list.h:698:15: note: in expansion of macro\n  \u2018hlist_entry\u2019\n       ____ptr ? hlist_entry(____ptr, type, member) : NULL; \\\n                 ^\n  include/linux/list.h:708:13: note: in expansion of macro\n  \u2018hlist_entry_safe\u2019\n    for (pos = hlist_entry_safe((head)->first, typeof(*(pos)),\n  member);\\\n               ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  In file included from include/linux/preempt.h:10:0,\n                   from include/linux/spinlock.h:50,\n                   from include/linux/mmzone.h:7,\n                   from include/linux/gfp.h:4,\n                   from include/linux/mm.h:8,\n                   from include/linux/pagemap.h:7,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:29:\n  include/linux/list.h:710:35: error: \u2018struct dentry\u2019 has no\n  member named \u2018d_alias\u2019\n         pos = hlist_entry_safe((pos)->member.next,\n  typeof(*(pos)), member))\n                                     ^\n  include/linux/list.h:697:12: note: in definition of macro\n  \u2018hlist_entry_safe\u2019\n    ({ typeof(ptr) ____ptr = (ptr); \\\n              ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  include/linux/list.h:710:35: error: \u2018struct dentry\u2019 has no\n  member named \u2018d_alias\u2019\n         pos = hlist_entry_safe((pos)->member.next,\n  typeof(*(pos)), member))\n                                     ^\n  include/linux/list.h:697:28: note: in definition of macro\n  \u2018hlist_entry_safe\u2019\n    ({ typeof(ptr) ____ptr = (ptr); \\\n                              ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  In file included from\n  /usr/src/linux-headers-3.13.0-46-generic/arch/x86/include/asm/\n  percpu.h:44:0,\n                   from\n  /usr/src/linux-headers-3.13.0-46-generic/arch/x86/include/asm/\n  preempt.h:5,\n                   from include/linux/preempt.h:18,\n                   from include/linux/spinlock.h:50,\n                   from include/linux/mmzone.h:7,\n                   from include/linux/gfp.h:4,\n                   from include/linux/mm.h:8,\n                   from include/linux/pagemap.h:7,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:29:\n  include/linux/kernel.h:793:27: error: \u2018struct dentry\u2019 has no\n  member named \u2018d_alias\u2019\n    const typeof( ((type *)0)->member ) *__mptr = (ptr); \\\n                             ^\n  include/linux/list.h:687:40: note: in expansion of macro\n  \u2018container_of\u2019\n   #define hlist_entry(ptr, type, member)\n  container_of(ptr,type,member)\n                                          ^\n  include/linux/list.h:698:15: note: in expansion of macro\n  \u2018hlist_entry\u2019\n       ____ptr ? hlist_entry(____ptr, type, member) : NULL; \\\n                 ^\n  include/linux/list.h:710:13: note: in expansion of macro\n  \u2018hlist_entry_safe\u2019\n         pos = hlist_entry_safe((pos)->member.next,\n  typeof(*(pos)), member))\n               ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  include/linux/kernel.h:793:48: warning: initialization makes\n  pointer from integer without a cast [enabled by default]\n    const typeof( ((type *)0)->member ) *__mptr = (ptr); \\\n                                                  ^\n  include/linux/list.h:687:40: note: in expansion of macro\n  \u2018container_of\u2019\n   #define hlist_entry(ptr, type, member)\n  container_of(ptr,type,member)\n                                          ^\n  include/linux/list.h:698:15: note: in expansion of macro\n  \u2018hlist_entry\u2019\n       ____ptr ? hlist_entry(____ptr, type, member) : NULL; \\\n                 ^\n  include/linux/list.h:710:13: note: in expansion of macro\n  \u2018hlist_entry_safe\u2019\n         pos = hlist_entry_safe((pos)->member.next,\n  typeof(*(pos)), member))\n               ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  In file included from include/linux/compiler-gcc.h:106:0,\n                   from include/linux/compiler.h:54,\n                   from include/uapi/linux/stddef.h:1,\n                   from include/linux/stddef.h:4,\n                   from\n  /usr/src/linux-headers-3.13.0-46-generic/include/uapi/linux/po\n  six_types.h:4,\n                   from include/uapi/linux/types.h:13,\n                   from include/linux/types.h:5,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/./shared/driver-config.h:71,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:26:\n  include/linux/compiler-gcc4.h:14:34: error: \u2018struct dentry\u2019\n  has no member named \u2018d_alias\u2019\n   #define __compiler_offsetof(a,b) __builtin_offsetof(a,b)\n                                    ^\n  include/linux/stddef.h:17:31: note: in expansion of macro\n  \u2018__compiler_offsetof\u2019\n   #define offsetof(TYPE,MEMBER)\n  __compiler_offsetof(TYPE,MEMBER)\n                                 ^\n  include/linux/kernel.h:794:29: note: in expansion of macro\n  \u2018offsetof\u2019\n    (type *)( (char *)__mptr - offsetof(type,member) );})\n                               ^\n  include/linux/list.h:687:40: note: in expansion of macro\n  \u2018container_of\u2019\n   #define hlist_entry(ptr, type, member)\n  container_of(ptr,type,member)\n                                          ^\n  include/linux/list.h:698:15: note: in expansion of macro\n  \u2018hlist_entry\u2019\n       ____ptr ? hlist_entry(____ptr, type, member) : NULL; \\\n                 ^\n  include/linux/list.h:710:13: note: in expansion of macro\n  \u2018hlist_entry_safe\u2019\n         pos = hlist_entry_safe((pos)->member.next,\n  typeof(*(pos)), member))\n               ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  make[2]: *** [/tmp/modconfig-891E4X/vmhgfs-only/inode.o] \u30a8\u30e9\u30fc 1\n  make[1]: *** [_module_/tmp/modconfig-891E4X/vmhgfs-only] \u30a8\u30e9\u30fc 2\n  make[1]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/usr/src/linux-headers-3.13.0-46-generic'\n  \u304b\u3089\u51fa\u307e\u3059\n  make: *** [vmhgfs.ko] \u30a8\u30e9\u30fc 2\n  make: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/modconfig-891E4X/vmhgfs-only' \u304b\u3089\u51fa\u307e\u3059\n\n  The filesystem driver (vmhgfs module) is used only for the\n  shared folder \n  feature. The rest of the software provided by VMware Tools is\n  designed to work \n  independently of this feature.\n\n  If you wish to have the shared folders feature, you can\n  install the driver by \n  running vmware-config-tools.pl again after making sure that\n  gcc, binutils, make\n  and the kernel sources for your running kernel are installed\n  on your machine. \n  These packages are available on your distribution's\n  installation CD.\n  [ Press Enter key to continue ]         \n\n  The vmxnet driver is no longer supported on kernels 3.3 and\n  greater. Please \n  upgrade to a newer virtual NIC. (e.g., vmxnet3 or e1000e)\n\n  VMware automatic kernel modules enables automatic building\n  and installation of\n  VMware kernel modules at boot that are not already present.\n  This feature can be\n\n  enabled/disabled by re-running vmware-config-tools.pl.\n\n  Would you like to enable VMware automatic kernel modules?\n  [yes] \n\n  Thinprint provides driver-free printing. Do you wish to\n  enable this feature? \n  [yes] \n\n  Creating a new initrd boot image for the kernel.\n  update-initramfs: Generating\n  /boot/initrd.img-3.13.0-46-generic\n  vmware-tools-thinprint start/running\n  vmware-tools start/running\n  The configuration of VMware Tools 9.9.2 build-2496486 for\n  Linux for this \n  running kernel completed successfully.\n\n  Enjoy,\n\n  --the VMware team\n\n\n## \u74b0\u5883\n- VMWare Fusion 7.1.1\n- \u30db\u30b9\u30c8OS: OSX 10.9\n- \u30b2\u30b9\u30c8OS: Ubuntu 14.04.2 LTS\n\n## \u73fe\u8c61\n- \u3044\u3064\u3082\u306e\u3088\u3046\u306b\u3001VMWare Fusion\u3067/mnt/hgfs\u304c\u30de\u30a6\u30f3\u30c8\u3067\u304d\u306a\u304f\u306a\u308b\n- \u3044\u3064\u3082\u306fVMWare Tools\u306e\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001config-tools\u306e\u5b9f\u884c\u7b49\u3092\u884c\u3046\u3068\u6cbb\u308b\u304c\u3001\u4eca\u56de\u306f\u6539\u5584\u305b\u305a\u3002\n- open-vm-tools\u3092\u5165\u308c\u3066\u307f\u3066\u3082\u30c0\u30e1\u3002\n\n## \u539f\u56e0\n- VMWareTools\u306e\u30d0\u30b0\n- https://communities.vmware.com/thread/499503\n\n## \u5bfe\u7b56\n- \u30d1\u30c3\u30c1\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u5f53\u3066\u308b\n      https://github.com/rasa/vmware-tools-patches\n    - \u4ee5\u4e0b\u3092\u5b9f\u884c\u3059\u308b\u3068\u30d1\u30c3\u30c1\u304c\u5f53\u305f\u3063\u305fVMWareTools\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\n      \uff08VMWareTools-*.tar.gz\u306f\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u7f6e\u3044\u3066\u304a\u304f\uff09\n\n```Bash\ngit clone https://github.com/rasa/vmware-tools-patches.git\ncp VMWareTools-*.tar.gz vmware-tools-patches/\ncd vmware-tools-patches\n./untar-and-patch-and-compile.sh\n```\n\n## \u6ce8\u610f\n- \u30ab\u30fc\u30cd\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f33.13.x\u306f\u6b63\u5e38\u306b\u30d1\u30c3\u30c1\u304c\u5f53\u305f\u3089\u306a\u3044\u3002\n    - \u3046\u3061\u306e\u74b0\u5883\u306f\u307e\u3055\u306b\u3053\u308c\u3067\u3001\u30ab\u30fc\u30cd\u30eb\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u884c\u3063\u305f\u3002\n    \t- [Linux Ubuntu \u30ab\u30fc\u30cd\u30eb\u3092\u6700\u65b0\u306e\u3082\u306e\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b(3.16.0)\uff5c\u3082\u3063\u3068Linux\u3092\u4f7f\u304a\u3046^_\u2212\u2606](http://ameblo.jp/yoshi1959tanaka/entry-11907430950.html)\n\n## Error Log\n```\n~/vmware-tools-distrib$ sudo ./vmware-install.pl\n  The installer has detected an existing installation of\n  open-vm-tools on this \n  system and will not attempt to remove and replace these\n  user-space \n  applications. It is recommended to use the open-vm-tools\n  packages provided by \n  the operating system. If you do not want to use the existing\n  installation of \n  open-vm-tools and attempt to install VMware Tools, you must\n  uninstall the \n  open-vm-tools packages and re-run this installer.\n  The installer will next check if there are any missing kernel\n  drivers. Type yes\n  if you want to do this, otherwise type no [yes] \n\n  A previous installation of VMware Tools has been detected.\n\n  The previous installation was made by the tar installer\n  (version 4).\n\n  Keeping the tar4 installer database format.\n\n  You have a version of VMware Tools installed.  Continuing\n  this install will \n  first uninstall the currently installed version.  Do you wish\n  to continue? \n  (yes/no) [yes] \n\n  Uninstalling the tar installation of VMware Tools.\n\n  Stopping services for vmware-tools\n\n  vmware-tools stop/waiting\n  Stopping services for vmware-tools-thinprint\n\n  vmware-tools-thinprint stop/waiting\n  update-initramfs: Generating\n  /boot/initrd.img-3.13.0-46-generic\n  The removal of VMware Tools 9.9.2 build-2496486 for Linux\n  completed \n  successfully.\n\n  Installing VMware Tools.\n\n  In which directory do you want to install the binary files? \n  [/usr/bin] \n\n  What is the directory that contains the init directories\n  (rc0.d/ to rc6.d/)? \n  [/etc] \n\n  What is the directory that contains the init scripts? \n  [/etc/init.d] \n\n  In which directory do you want to install the daemon files? \n  [/usr/sbin] \n\n  In which directory do you want to install the library files? \n  [/usr/lib/vmware-tools] \n\n  The path \"/usr/lib/vmware-tools\" does not exist currently.\n  This program is \n  going to create it, including needed parent directories. Is\n  this what you want?\n  [yes] \n\n  In which directory do you want to install the documentation\n  files? \n  [/usr/share/doc/vmware-tools] \n\n  The path \"/usr/share/doc/vmware-tools\" does not exist\n  currently. This program \n  is going to create it, including needed parent directories.\n  Is this what you \n  want? [yes] \n\n  The installation of VMware Tools 9.9.2 build-2496486 for\n  Linux completed \n  successfully. You can decide to remove this software from\n  your system at any \n  time by invoking the following command:\n  \"/usr/bin/vmware-uninstall-tools.pl\".\n\n  Before running VMware Tools for the first time, you need to\n  configure it by \n  invoking the following command:\n  \"/usr/bin/vmware-config-tools.pl\". Do you want \n  this program to invoke the command for you now? [yes] \n\n  Initializing...\n\n\n  Making sure services for VMware Tools are stopped.\n\n\n\n  The module vmci has already been installed on this system by\n  another installer \n  or package and will not be modified by this installer.\n\n  The module vsock has already been installed on this system by\n  another installer\n  or package and will not be modified by this installer.\n\n  The module vmxnet3 has already been installed on this system\n  by another \n  installer or package and will not be modified by this\n  installer.\n\n  The module pvscsi has already been installed on this system\n  by another \n  installer or package and will not be modified by this\n  installer.\n\n  The module vmmemctl has already been installed on this system\n  by another \n  installer or package and will not be modified by this\n  installer.\n\n  The VMware Host-Guest Filesystem allows for shared folders\n  between the host OS \n  and the guest OS in a Fusion or Workstation virtual\n  environment.  Do you wish \n  to enable this feature? [yes] \n\n\n  Before you can compile modules, you need to have the\n  following installed... \n\n  make\n  gcc\n  kernel headers of the running kernel\n\n\n  Searching for GCC...\n  Detected GCC binary at \"/usr/bin/gcc\".\n  The path \"/usr/bin/gcc\" appears to be a valid path to the gcc\n  binary.\n  Would you like to change it? [no] \n\n  Searching for a valid kernel header path...\n  Detected the kernel headers at\n  \"/lib/modules/3.13.0-46-generic/build/include\".\n  The path \"/lib/modules/3.13.0-46-generic/build/include\"\n  appears to be a valid \n  path to the 3.13.0-46-generic kernel headers.\n  Would you like to change it? [no] \n\n  Using kernel build system.\n  make: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/modconfig-891E4X/vmhgfs-only' \u306b\u5165\u308a\u307e\u3059\n  /usr/bin/make -C\n  /lib/modules/3.13.0-46-generic/build/include/.. SUBDIRS=$PWD\n  SRCROOT=$PWD/. \\\n  \t  MODULEBUILDDIR= modules\n  make[1]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/usr/src/linux-headers-3.13.0-46-generic'\n  \u306b\u5165\u308a\u307e\u3059\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/backdoor.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/backdoorGcc64.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/bdhandler.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/cpName.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/cpNameLinux.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/cpNameLite.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/dentry.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/dir.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/file.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/filesystem.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/fsutil.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/hgfsBd.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/hgfsEscape.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/hgfsUtil.o\n    CC [M]  /tmp/modconfig-891E4X/vmhgfs-only/inode.o\n  In file included from\n  /usr/src/linux-headers-3.13.0-46-generic/arch/x86/include/asm/\n  percpu.h:44:0,\n                   from\n  /usr/src/linux-headers-3.13.0-46-generic/arch/x86/include/asm/\n  preempt.h:5,\n                   from include/linux/preempt.h:18,\n                   from include/linux/spinlock.h:50,\n                   from include/linux/mmzone.h:7,\n                   from include/linux/gfp.h:4,\n                   from include/linux/mm.h:8,\n                   from include/linux/pagemap.h:7,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:29:\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c: In function\n  \u2018HgfsPermission\u2019:\n  include/linux/kernel.h:793:27: error: \u2018struct dentry\u2019 has no\n  member named \u2018d_alias\u2019\n    const typeof( ((type *)0)->member ) *__mptr = (ptr); \\\n                             ^\n  include/linux/list.h:687:40: note: in expansion of macro\n  \u2018container_of\u2019\n   #define hlist_entry(ptr, type, member)\n  container_of(ptr,type,member)\n                                          ^\n  include/linux/list.h:698:15: note: in expansion of macro\n  \u2018hlist_entry\u2019\n       ____ptr ? hlist_entry(____ptr, type, member) : NULL; \\\n                 ^\n  include/linux/list.h:708:13: note: in expansion of macro\n  \u2018hlist_entry_safe\u2019\n    for (pos = hlist_entry_safe((head)->first, typeof(*(pos)),\n  member);\\\n               ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  include/linux/kernel.h:793:48: warning: initialization from\n  incompatible pointer type [enabled by default]\n    const typeof( ((type *)0)->member ) *__mptr = (ptr); \\\n                                                  ^\n  include/linux/list.h:687:40: note: in expansion of macro\n  \u2018container_of\u2019\n   #define hlist_entry(ptr, type, member)\n  container_of(ptr,type,member)\n                                          ^\n  include/linux/list.h:698:15: note: in expansion of macro\n  \u2018hlist_entry\u2019\n       ____ptr ? hlist_entry(____ptr, type, member) : NULL; \\\n                 ^\n  include/linux/list.h:708:13: note: in expansion of macro\n  \u2018hlist_entry_safe\u2019\n    for (pos = hlist_entry_safe((head)->first, typeof(*(pos)),\n  member);\\\n               ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  In file included from include/linux/compiler-gcc.h:106:0,\n                   from include/linux/compiler.h:54,\n                   from include/uapi/linux/stddef.h:1,\n                   from include/linux/stddef.h:4,\n                   from\n  /usr/src/linux-headers-3.13.0-46-generic/include/uapi/linux/po\n  six_types.h:4,\n                   from include/uapi/linux/types.h:13,\n                   from include/linux/types.h:5,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/./shared/driver-config.h:71,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:26:\n  include/linux/compiler-gcc4.h:14:34: error: \u2018struct dentry\u2019\n  has no member named \u2018d_alias\u2019\n   #define __compiler_offsetof(a,b) __builtin_offsetof(a,b)\n                                    ^\n  include/linux/stddef.h:17:31: note: in expansion of macro\n  \u2018__compiler_offsetof\u2019\n   #define offsetof(TYPE,MEMBER)\n  __compiler_offsetof(TYPE,MEMBER)\n                                 ^\n  include/linux/kernel.h:794:29: note: in expansion of macro\n  \u2018offsetof\u2019\n    (type *)( (char *)__mptr - offsetof(type,member) );})\n                               ^\n  include/linux/list.h:687:40: note: in expansion of macro\n  \u2018container_of\u2019\n   #define hlist_entry(ptr, type, member)\n  container_of(ptr,type,member)\n                                          ^\n  include/linux/list.h:698:15: note: in expansion of macro\n  \u2018hlist_entry\u2019\n       ____ptr ? hlist_entry(____ptr, type, member) : NULL; \\\n                 ^\n  include/linux/list.h:708:13: note: in expansion of macro\n  \u2018hlist_entry_safe\u2019\n    for (pos = hlist_entry_safe((head)->first, typeof(*(pos)),\n  member);\\\n               ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  In file included from include/linux/preempt.h:10:0,\n                   from include/linux/spinlock.h:50,\n                   from include/linux/mmzone.h:7,\n                   from include/linux/gfp.h:4,\n                   from include/linux/mm.h:8,\n                   from include/linux/pagemap.h:7,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:29:\n  include/linux/list.h:710:35: error: \u2018struct dentry\u2019 has no\n  member named \u2018d_alias\u2019\n         pos = hlist_entry_safe((pos)->member.next,\n  typeof(*(pos)), member))\n                                     ^\n  include/linux/list.h:697:12: note: in definition of macro\n  \u2018hlist_entry_safe\u2019\n    ({ typeof(ptr) ____ptr = (ptr); \\\n              ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  include/linux/list.h:710:35: error: \u2018struct dentry\u2019 has no\n  member named \u2018d_alias\u2019\n         pos = hlist_entry_safe((pos)->member.next,\n  typeof(*(pos)), member))\n                                     ^\n  include/linux/list.h:697:28: note: in definition of macro\n  \u2018hlist_entry_safe\u2019\n    ({ typeof(ptr) ____ptr = (ptr); \\\n                              ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  In file included from\n  /usr/src/linux-headers-3.13.0-46-generic/arch/x86/include/asm/\n  percpu.h:44:0,\n                   from\n  /usr/src/linux-headers-3.13.0-46-generic/arch/x86/include/asm/\n  preempt.h:5,\n                   from include/linux/preempt.h:18,\n                   from include/linux/spinlock.h:50,\n                   from include/linux/mmzone.h:7,\n                   from include/linux/gfp.h:4,\n                   from include/linux/mm.h:8,\n                   from include/linux/pagemap.h:7,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:29:\n  include/linux/kernel.h:793:27: error: \u2018struct dentry\u2019 has no\n  member named \u2018d_alias\u2019\n    const typeof( ((type *)0)->member ) *__mptr = (ptr); \\\n                             ^\n  include/linux/list.h:687:40: note: in expansion of macro\n  \u2018container_of\u2019\n   #define hlist_entry(ptr, type, member)\n  container_of(ptr,type,member)\n                                          ^\n  include/linux/list.h:698:15: note: in expansion of macro\n  \u2018hlist_entry\u2019\n       ____ptr ? hlist_entry(____ptr, type, member) : NULL; \\\n                 ^\n  include/linux/list.h:710:13: note: in expansion of macro\n  \u2018hlist_entry_safe\u2019\n         pos = hlist_entry_safe((pos)->member.next,\n  typeof(*(pos)), member))\n               ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  include/linux/kernel.h:793:48: warning: initialization makes\n  pointer from integer without a cast [enabled by default]\n    const typeof( ((type *)0)->member ) *__mptr = (ptr); \\\n                                                  ^\n  include/linux/list.h:687:40: note: in expansion of macro\n  \u2018container_of\u2019\n   #define hlist_entry(ptr, type, member)\n  container_of(ptr,type,member)\n                                          ^\n  include/linux/list.h:698:15: note: in expansion of macro\n  \u2018hlist_entry\u2019\n       ____ptr ? hlist_entry(____ptr, type, member) : NULL; \\\n                 ^\n  include/linux/list.h:710:13: note: in expansion of macro\n  \u2018hlist_entry_safe\u2019\n         pos = hlist_entry_safe((pos)->member.next,\n  typeof(*(pos)), member))\n               ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  In file included from include/linux/compiler-gcc.h:106:0,\n                   from include/linux/compiler.h:54,\n                   from include/uapi/linux/stddef.h:1,\n                   from include/linux/stddef.h:4,\n                   from\n  /usr/src/linux-headers-3.13.0-46-generic/include/uapi/linux/po\n  six_types.h:4,\n                   from include/uapi/linux/types.h:13,\n                   from include/linux/types.h:5,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/./shared/driver-config.h:71,\n                   from\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:26:\n  include/linux/compiler-gcc4.h:14:34: error: \u2018struct dentry\u2019\n  has no member named \u2018d_alias\u2019\n   #define __compiler_offsetof(a,b) __builtin_offsetof(a,b)\n                                    ^\n  include/linux/stddef.h:17:31: note: in expansion of macro\n  \u2018__compiler_offsetof\u2019\n   #define offsetof(TYPE,MEMBER)\n  __compiler_offsetof(TYPE,MEMBER)\n                                 ^\n  include/linux/kernel.h:794:29: note: in expansion of macro\n  \u2018offsetof\u2019\n    (type *)( (char *)__mptr - offsetof(type,member) );})\n                               ^\n  include/linux/list.h:687:40: note: in expansion of macro\n  \u2018container_of\u2019\n   #define hlist_entry(ptr, type, member)\n  container_of(ptr,type,member)\n                                          ^\n  include/linux/list.h:698:15: note: in expansion of macro\n  \u2018hlist_entry\u2019\n       ____ptr ? hlist_entry(____ptr, type, member) : NULL; \\\n                 ^\n  include/linux/list.h:710:13: note: in expansion of macro\n  \u2018hlist_entry_safe\u2019\n         pos = hlist_entry_safe((pos)->member.next,\n  typeof(*(pos)), member))\n               ^\n  /tmp/modconfig-891E4X/vmhgfs-only/inode.c:1920:7: note: in\n  expansion of macro \u2018hlist_for_each_entry\u2019\n         hlist_for_each_entry(dentry,\n         ^\n  make[2]: *** [/tmp/modconfig-891E4X/vmhgfs-only/inode.o] \u30a8\u30e9\u30fc 1\n  make[1]: *** [_module_/tmp/modconfig-891E4X/vmhgfs-only] \u30a8\u30e9\u30fc 2\n  make[1]: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/usr/src/linux-headers-3.13.0-46-generic'\n  \u304b\u3089\u51fa\u307e\u3059\n  make: *** [vmhgfs.ko] \u30a8\u30e9\u30fc 2\n  make: \u30c7\u30a3\u30ec\u30af\u30c8\u30ea `/tmp/modconfig-891E4X/vmhgfs-only' \u304b\u3089\u51fa\u307e\u3059\n\n  The filesystem driver (vmhgfs module) is used only for the\n  shared folder \n  feature. The rest of the software provided by VMware Tools is\n  designed to work \n  independently of this feature.\n\n  If you wish to have the shared folders feature, you can\n  install the driver by \n  running vmware-config-tools.pl again after making sure that\n  gcc, binutils, make\n  and the kernel sources for your running kernel are installed\n  on your machine. \n  These packages are available on your distribution's\n  installation CD.\n  [ Press Enter key to continue ]         \n\n  The vmxnet driver is no longer supported on kernels 3.3 and\n  greater. Please \n  upgrade to a newer virtual NIC. (e.g., vmxnet3 or e1000e)\n\n  VMware automatic kernel modules enables automatic building\n  and installation of\n  VMware kernel modules at boot that are not already present.\n  This feature can be\n\n  enabled/disabled by re-running vmware-config-tools.pl.\n\n  Would you like to enable VMware automatic kernel modules?\n  [yes] \n\n  Thinprint provides driver-free printing. Do you wish to\n  enable this feature? \n  [yes] \n\n  Creating a new initrd boot image for the kernel.\n  update-initramfs: Generating\n  /boot/initrd.img-3.13.0-46-generic\n  vmware-tools-thinprint start/running\n  vmware-tools start/running\n  The configuration of VMware Tools 9.9.2 build-2496486 for\n  Linux for this \n  running kernel completed successfully.\n\n  Enjoy,\n\n  --the VMware team\n\n```\n", "tags": ["VMwareFusion"]}