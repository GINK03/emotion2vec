{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u57fa\u672c\u7684\u306b\u306fRails\u30b5\u30fc\u30d0\u30fc\u3092Api\u30b5\u30fc\u30d0\u30fc\u3068\u3057\u3066\u6271\u3063\u3066\u3001\u30d5\u30ed\u30f3\u30c8\u306fAngular\u306b\u4efb\u305b\u305f\u3044\u3002\u30cd\u30a4\u30c6\u30a3\u30d6\u30a2\u30d7\u30ea\u306b\u3082\u4f7f\u3044\u305f\u3044\u3057\u3002\u3053\u308c\u3092\u53c2\u8003\u306b\n\u3042\u3068\u304b\u3089\u78ba\u8a8d\u3057\u307e\u3059\u304c\u3001Angular\u3067\u3082SEO\u5bfe\u7b56\u3067\u304d\u308b\u3057\u3088\u3046\u3067\u3059\u3057\u3002\n\u3068\u306f\u3044\u3048\u3001\u7d50\u5c40\u307e\u3041Rails\u3067JSON\u3092\u8fd4\u3059\u306e\u3082HTML\u3092\u8fd4\u3059\u306e\u3082\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3084\u3089\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3084\u3089\u3067\u5207\u308a\u5206\u3051\u3059\u308b\u3060\u3051\u306a\u306e\u3067\u3001\u878d\u901a\u3092\u5229\u304b\u305b\u3089\u308c\u305d\u3046\u3067\u3059\u3002\n\n\u3068\u308a\u3042\u3048\u305aGrape\u3067\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u3092\u4f5c\u308b\n\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002Grape\u3002\n\u3068\u308a\u3042\u3048\u3059\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308a\u307e\u3059\u3002\nrails new hoge --database=hoge --skip-bundle \u3068\u304b\u3057\u307e\u3059\u3002\n\nGemfile\nsource 'https://rubygems.org'\u21b2\n\nruby '2.1.5'\u21b2\n\n# rails\ngem 'rails', '4.1.8'\ngem 'grape'\n\n# db\ngem 'sqlite', group: :development\ngem 'pg', group: :production\ngem 'rails_12factor', group: :production\n\ngem 'uglifier', '>= 1.3.0'\ngem 'jbuilder', '~> 2.0'\ngem 'enumerize'\ngem 'inherited_resources'\ngem 'has_scope'\n\n# login\ngem 'devise'\n\n# Use SCSS for stylesheets\ngem 'sass-rails', '~> 4.0.3'\ngem 'bootstrap-sass'\ngem 'font-awesome-rails'\ngem 'compass-rails'\n\n# javascripts\u21b2\ngem 'bower-rails', '~> 0.9.1'\ngem 'coffee-rails', '~> 4.0.0'\ngem 'jquery-rails'\n\n\ngroup :development do\n  gem 'spring'\n  gem 'quiet_assets'\n  gem 'brakeman', group: :development\n  gem 'rails_best_practices', group: :development\n  # nice show of sql result\n  gem 'hirb'\n  gem 'hirb-unicode'\n  # check unuseful sql\n  gem 'bullet'\n  # good to read error screen\n  gem 'better_errors'\n  gem 'binding_of_caller'\n  # Pry\n  gem 'pry-rails'\n  gem 'pry-coolline'\n  gem 'pry-byebug'\n  gem 'pry-doc'\n  gem 'awesome_print' # remove to get mongo error away\n  # easy print-debug\u21b2\n  gem 'tapp'\nend\n\n# Use unicorn as the app server\ngem 'unicorn'\n\n\n\u3068\u308a\u3042\u3048\u305abundle install\nrake db:create\u306a\u308arake db:migrate\u306a\u308a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nRouting\n\nconfig/routes.rb\nRails.application.routes.draw do\u21b2\n\u21b2\n  mount Api => '/'\u21b2\n  mount LoveloveApi => '/lovelove'\n  mount DamedameApi => '/damedame'\n\u30fb\n\u30fb\n\u30fb\n\nend\n\n\n\u2191\u306e\u540d\u79f0\u306b\u610f\u5473\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u2191\u3067\u6307\u5b9a\u3057\u305fApi\u3068\u304bLoveloveApi\u3068\u304b\u306b\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u3044\u304f\u3064\u3067\u3082mount\u3067\u304d\u3066\u3001prefix\u3068\u3044\u3063\u3066\u3044\u3044\u306e\u304b\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u4e0a\u4f4d\u306e\u90e8\u5206\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\nconfig/application.rb\n\u4ee5\u4e0b\u3092\u8ffd\u8a18\n# api\n    config.paths.add File.join('app', 'api'), glob: File.join('**', '*.rb')\n    config.autoload_paths += Dir[Rails.root.join('app', 'api', '*')]\n\n\nApi\u306e\u4e2d\u8eab\u3092\u66f8\u304f\n\u2191\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306b\u6cbf\u3046\u3068\u4ee5\u4e0b\u306e\u69cb\u6210\u306b\u306a\u308a\u307e\u3059\u3002\n\n~/PROJECT_NAME/app/api/api.rb\n~/PROJECT_NAME/app/api/lovelove_api.rb\n~/PROJECT_NAME/app/api/damedame_api.rb\n\napi\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306fmkdir\u3057\u3066\u4e0b\u3055\u3044\u3002\n\napi.rb\n  class Api < Grape::API\u21b2\n    version 'v1', using: :path # set version\n    format :json # set format\n    prefix :api # set prefix\n\n    helpers do\n      def current_user\n        @current_user ||= User.authorize!(env)\n      end\n\n      def authenticate!\n        error!('401 Unauthorized', 401) unless current_user\n      end\n    end\n\n    # test\n    resource :test do\n      desc 'this is a test'\n      get :say do\n        {dameyo: damedame, a: 1, b: 2}\n      end\n    end\n\n\n    resource :statuses do\u21b2\n      desc \"Return a public timeline.\"\u21b2\n      get :public_timeline do\u21b2\n        Status.limit(20)\u21b2\n      end\u21b2\n\u30fb\n\u30fb\n\u30fb\n\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u306fGithub\u306eReadme.md\u306b\u3042\u308a\u307e\u3059\u3002\n\nApi\u306eURL\n\u4eca\u56de\u306e\u5834\u5408\u3001\n- http://PROJECT_URL/api/v1/test/say\n- http://PROJECT_URL/lovelove/api/v1/test/say\n- http://PROJECT_URL/damedame/api/v1/test/say\n\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3067\u3001\u53e9\u3044\u3066\u307f\u305f\u7d50\u679c\n\u3053\u308c\u3092\u53e9\u3044\u3066\u307f\u307e\u3059\u3002\nhttp://PROJECT_URL/api/v1/test/say\n\u30d6\u30e9\u30a6\u30b6\u3067URL\u3092\u5165\u529b\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u306b\u8868\u793a\u3055\u305b\u3066\u307f\u307e\u3057\u305f\u3002\n{dameyo: damedame, a: 1, b: 2}\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\u60f3\u50cf\u4ee5\u4e0a\u306b\u8d85\u7c21\u5358\u3067\u3057\u305f\u3002\u3002\u3002\n\n\u305d\u3057\u3066Angular...\n\u3064\u3065\u304f...\nhttp://qiita.com/tsumekoara/items/0c1cffd183f4c50f603c\n\nreferences\n\nGithub\u306eReadme.md\n\u826f\u3044\u30b5\u30f3\u30d7\u30eb\u306b\u306a\u308a\u307e\u3059\n\u306a\u3093\u304b\u308f\u304b\u308a\u3084\u3059\u304b\u3063\u305f\u3067\u3059\n\u6700\u7d42\u7684\u306b\u306f\u3053\u3093\u306a\u611f\u3058\u306b\u3082\u3063\u3066\u3044\u304d\u305f\u3044\u3067\u3059\nhttp://qiita.com/anoworl/items/756f01cc3d188ebad139\nhttp://qiita.com/zaru/items/fa64a4e00b76ea6ce36f\nhttp://qiita.com/hkusu/items/2ca0323cc276ab31e926\nhttp://qiita.com/kidachi_/items/5793bcb307fa52026b6a\nhttp://morizyun.github.io/blog/rails-grepe-api-heroku-ruby/\nhttps://prerender.io/\n\n# \u306f\u3058\u3081\u306b\n\n\u57fa\u672c\u7684\u306b\u306fRails\u30b5\u30fc\u30d0\u30fc\u3092Api\u30b5\u30fc\u30d0\u30fc\u3068\u3057\u3066\u6271\u3063\u3066\u3001\u30d5\u30ed\u30f3\u30c8\u306fAngular\u306b\u4efb\u305b\u305f\u3044\u3002\u30cd\u30a4\u30c6\u30a3\u30d6\u30a2\u30d7\u30ea\u306b\u3082\u4f7f\u3044\u305f\u3044\u3057\u3002[\u3053\u308c\u3092\u53c2\u8003\u306b](http://blog.mah-lab.com/2014/11/24/angularjs-rails-code/)\n\u3042\u3068\u304b\u3089\u78ba\u8a8d\u3057\u307e\u3059\u304c\u3001[Angular\u3067\u3082SEO\u5bfe\u7b56\u3067\u304d\u308b\u3057\u3088\u3046\u3067\u3059\u3057\u3002](https://prerender.io/)\n\n\u3068\u306f\u3044\u3048\u3001\u7d50\u5c40\u307e\u3041Rails\u3067JSON\u3092\u8fd4\u3059\u306e\u3082HTML\u3092\u8fd4\u3059\u306e\u3082\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3084\u3089\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3084\u3089\u3067\u5207\u308a\u5206\u3051\u3059\u308b\u3060\u3051\u306a\u306e\u3067\u3001\u878d\u901a\u3092\u5229\u304b\u305b\u3089\u308c\u305d\u3046\u3067\u3059\u3002\n\n# \u3068\u308a\u3042\u3048\u305aGrape\u3067\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u3092\u4f5c\u308b\n\n\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002Grape\u3002\n\n\u3068\u308a\u3042\u3048\u3059\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308a\u307e\u3059\u3002\nrails new hoge --database=hoge --skip-bundle \u3068\u304b\u3057\u307e\u3059\u3002\n\n```rb:Gemfile\nsource 'https://rubygems.org'\u21b2\n\nruby '2.1.5'\u21b2\n\n# rails\ngem 'rails', '4.1.8'\ngem 'grape'\n\n# db\ngem 'sqlite', group: :development\ngem 'pg', group: :production\ngem 'rails_12factor', group: :production\n\ngem 'uglifier', '>= 1.3.0'\ngem 'jbuilder', '~> 2.0'\ngem 'enumerize'\ngem 'inherited_resources'\ngem 'has_scope'\n\n# login\ngem 'devise'\n\n# Use SCSS for stylesheets\ngem 'sass-rails', '~> 4.0.3'\ngem 'bootstrap-sass'\ngem 'font-awesome-rails'\ngem 'compass-rails'\n\n# javascripts\u21b2\ngem 'bower-rails', '~> 0.9.1'\ngem 'coffee-rails', '~> 4.0.0'\ngem 'jquery-rails'\n\n\ngroup :development do\n  gem 'spring'\n  gem 'quiet_assets'\n  gem 'brakeman', group: :development\n  gem 'rails_best_practices', group: :development\n  # nice show of sql result\n  gem 'hirb'\n  gem 'hirb-unicode'\n  # check unuseful sql\n  gem 'bullet'\n  # good to read error screen\n  gem 'better_errors'\n  gem 'binding_of_caller'\n  # Pry\n  gem 'pry-rails'\n  gem 'pry-coolline'\n  gem 'pry-byebug'\n  gem 'pry-doc'\n  gem 'awesome_print' # remove to get mongo error away\n  # easy print-debug\u21b2\n  gem 'tapp'\nend\n\n# Use unicorn as the app server\ngem 'unicorn'\n```\n\n\u3068\u308a\u3042\u3048\u305abundle install\n\nrake db:create\u306a\u308arake db:migrate\u306a\u308a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n# Routing\n\n```rb:config/routes.rb\nRails.application.routes.draw do\u21b2\n\u21b2\n  mount Api => '/'\u21b2\n  mount LoveloveApi => '/lovelove'\n  mount DamedameApi => '/damedame'\n\u30fb\n\u30fb\n\u30fb\n\nend\n```\n\n\u2191\u306e\u540d\u79f0\u306b\u610f\u5473\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\u2191\u3067\u6307\u5b9a\u3057\u305fApi\u3068\u304bLoveloveApi\u3068\u304b\u306b\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u3044\u304f\u3064\u3067\u3082mount\u3067\u304d\u3066\u3001prefix\u3068\u3044\u3063\u3066\u3044\u3044\u306e\u304b\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u4e0a\u4f4d\u306e\u90e8\u5206\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n\n# config/application.rb\n\n\u4ee5\u4e0b\u3092\u8ffd\u8a18\n\n```rb\n# api\n    config.paths.add File.join('app', 'api'), glob: File.join('**', '*.rb')\n    config.autoload_paths += Dir[Rails.root.join('app', 'api', '*')]\n```\n\n# Api\u306e\u4e2d\u8eab\u3092\u66f8\u304f\n\n\u2191\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306b\u6cbf\u3046\u3068\u4ee5\u4e0b\u306e\u69cb\u6210\u306b\u306a\u308a\u307e\u3059\u3002\n\n+ ~/PROJECT_NAME/app/api/api.rb\n+ ~/PROJECT_NAME/app/api/lovelove_api.rb\n+ ~/PROJECT_NAME/app/api/damedame_api.rb\n\napi\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306fmkdir\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n```rb:api.rb\n  class Api < Grape::API\u21b2\n    version 'v1', using: :path # set version\n    format :json # set format\n    prefix :api # set prefix\n\n    helpers do\n      def current_user\n        @current_user ||= User.authorize!(env)\n      end\n\n      def authenticate!\n        error!('401 Unauthorized', 401) unless current_user\n      end\n    end\n\n    # test\n    resource :test do\n      desc 'this is a test'\n      get :say do\n        {dameyo: damedame, a: 1, b: 2}\n      end\n    end\n\n\n    resource :statuses do\u21b2\n      desc \"Return a public timeline.\"\u21b2\n      get :public_timeline do\u21b2\n        Status.limit(20)\u21b2\n      end\u21b2\n\u30fb\n\u30fb\n\u30fb\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u306f[Github\u306eReadme.md](https://github.com/intridea/grape)\u306b\u3042\u308a\u307e\u3059\u3002\n\n# Api\u306eURL\n\n\u4eca\u56de\u306e\u5834\u5408\u3001\n- http://PROJECT_URL/api/v1/test/say\n- http://PROJECT_URL/lovelove/api/v1/test/say\n- http://PROJECT_URL/damedame/api/v1/test/say\n\n\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n# \u3067\u3001\u53e9\u3044\u3066\u307f\u305f\u7d50\u679c\n\n\u3053\u308c\u3092\u53e9\u3044\u3066\u307f\u307e\u3059\u3002\nhttp://PROJECT_URL/api/v1/test/say\n\n\u30d6\u30e9\u30a6\u30b6\u3067URL\u3092\u5165\u529b\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u306b\u8868\u793a\u3055\u305b\u3066\u307f\u307e\u3057\u305f\u3002\n\n```json:\n{dameyo: damedame, a: 1, b: 2}\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n\u60f3\u50cf\u4ee5\u4e0a\u306b\u8d85\u7c21\u5358\u3067\u3057\u305f\u3002\u3002\u3002\n\n# \u305d\u3057\u3066Angular...\n\n[\u3064\u3065\u304f...](http://qiita.com/tsumekoara/items/0c1cffd183f4c50f603c)\nhttp://qiita.com/tsumekoara/items/0c1cffd183f4c50f603c\n\n# references\n\n- [Github\u306eReadme.md](https://github.com/intridea/grape)\n- [\u826f\u3044\u30b5\u30f3\u30d7\u30eb\u306b\u306a\u308a\u307e\u3059](http://dev.classmethod.jp/server-side/ruby-on-rails/ruby-on-rails_create_grape_web-api/)\n- [\u306a\u3093\u304b\u308f\u304b\u308a\u3084\u3059\u304b\u3063\u305f\u3067\u3059](http://monmon.hatenablog.com/entry/2014/11/22/202913)\n- [\u6700\u7d42\u7684\u306b\u306f\u3053\u3093\u306a\u611f\u3058\u306b\u3082\u3063\u3066\u3044\u304d\u305f\u3044\u3067\u3059](http://blog.mah-lab.com/2014/11/24/angularjs-rails-code/)\n- http://qiita.com/anoworl/items/756f01cc3d188ebad139\n- http://qiita.com/zaru/items/fa64a4e00b76ea6ce36f\n- http://qiita.com/hkusu/items/2ca0323cc276ab31e926\n- http://qiita.com/kidachi_/items/5793bcb307fa52026b6a\n- http://morizyun.github.io/blog/rails-grepe-api-heroku-ruby/\n- https://prerender.io/\n\n", "tags": ["Rails4.1", "Ruby2", "grape", "AngularJS"]}