{"context": "\u79c1\u7528\u3067 Laravel\u3092\u89e6\u3063\u3066\u3044\u305f\u6642\u306b\u3075\u3068\u6c17\u306b\u306a\u3063\u3066\u8abf\u67fb\u3057\u3066\u307e\u3057\u305f\uff0e\nLaravel\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f5.2\u306b\u306a\u308a\u307e\u3059\uff0e\n\nLaravel \u3067 Json\u3092\u8fd4\u3059\u65b9\u6cd5\njson\u306e\u51fa\u529b\u306e\u4ed5\u65b9\u306f\u8272\u3005\u306a\u8a18\u4e8b\u3084\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3059\u308b\u3068\u78ba\u8a8d\u3067\u304d\u308b\u306e\u3067\u3059\u304c\uff0c\n\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u884c\u306a\u3063\u305f\u6642\u306e\u8a18\u4e8b\u306f\u306a\u304b\u306a\u304b\u51fa\u3066\u3053\u306a\u3044\u306e\u3067\uff0c\u5fd8\u308c\u305f\u6642\u306e\u3053\u3068\u3092\u8003\u3048\u3066\u30e1\u30e2...\n\nJson\u306e\u51fa\u529b\u65b9\u6cd5\n\u57fa\u672c\u7684\u306b\u306f\uff0c\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u3057\u305f\u5f8c\u306b\npublic function getJson(){\n    return Model::all()->toJson();\n}\n\n\u3067\uff0cjson\u304c\u8fd4\u3055\u308c\u308b\u304b\u3068\u601d\u3044\u307e\u3059\uff0e\n\n\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u7528\u3044\u3066\u3044\u308b\u6642\u306eJson\u51fa\u529b\nclass Test extends Model{\n    public function tests(){\n        return $this->hasMany('App\\Test1');\n    }\n}\n\nclass Test1 extends Model{\n    public function test(){\n        return $this->belongsTo('App\\Test');\n    }\n}\n\n\u3068\u306a\u3063\u3066\u3044\u308b\u5834\u5408\uff0c Test1 \u306b\u7d10\u3065\u304f Test \u306e\u30c7\u30fc\u30bf\u306f,\npublic function getJson(){\n    return Test1::with(['test'])->get()->toJson();\n}\n\n\u307f\u305f\u3044\u306b\u66f8\u304f\u3068\u53d6\u5f97\u3067\u304d\u307e\u3059\uff0e\n(2016/11/19 : \u3088\u308a\u30b7\u30f3\u30d7\u30eb\u306a\u66f8\u304d\u65b9\u3092\u6559\u3048\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u306e\u3067\u8ffd\u8a18\u3057\u307e\u3059\uff0e)\n\u9006\u306e\u5834\u5408\u306b\u306f\uff0c\npublic function getJson(){\n    return Test::with(['tests'])->get()->toJson();\n}\n\n\u3067\u3044\u3051\u307e\u3059\uff0e\n\u5c11\u3057\u624b\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u304c\uff0c\u81ea\u5206\u3067key\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff0e\npublic function getJson(){\n    $test_all = Test::all();\n    foreach($test_all as $test){\n        $test['testA'] = $test->tests()->get();\n    }\n    return $test_all->toJson();\n}\n\n\u307e\u305f\u3082\u3063\u3068\u6df1\u3044\u30cd\u30b9\u30c8\u3067\u5b9f\u73fe\u3057\u305f\u3044\u5834\u5408\u306b\u306f,\npublic function getJson(){\n    $test_all = Test::all();\n    foreach($test_all as $test){\n        $test['testA'] = $test->tests()->get();\n\n        $test['testA']['testB'] = $test->tests()->get();\n\n        $test['testA']['testB']['testC'] = $test->tests()->get();\n    }\n    return $test_all->toJson();\n}\n\n\u307f\u305f\u3044\u306b\u3084\u308b\u3068\u3044\u3051\u308b\u3068\u601d\u3044\u307e\u3059\uff0e\n\n\u8ffd\u8a18\nclass SampleA extends Model{\n    public function c_samples(){\n        return $this->hasMany('App\\SampleB');\n    }\n}\n\nclass SampleB extends Model{\n    public function c_samples(){\n        return $this->hasMany('App\\SampleC');\n    }\n}\n\nclass SampleC extends Model{\n    public function b_sample(){\n        return $this->belongsTo('App\\SampleB');\n    }\n\n    public function a_sample(){\n        return $this->belongsTo('App\\SampleA');\n    }\n}\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30e2\u30c7\u30eb\u306e\u95a2\u4fc2\u3067\uff0cSampleB\u306eJson\u51fa\u529b\u3092\u884c\u3046\u969b,\u300cSampleC\u306b\u7d10\u3065\u304fSampleA\u306e\u30c7\u30fc\u30bf\u3082\u6b32\u3057\u3044!\u300d\u306a\u3093\u3066\u6642\u306b\u306f\uff0c\npublic function getJson(){\n    return SampleB::with(['c_samples.a_sample'])->get()->toJson();\n}\n\n\u3063\u3066\u611f\u3058\u3067\uff0c \u30c9\u30c3\u30c8\u3067\u8ffd\u52a0\u3059\u308c\u3070\u3044\u3051\u307e\u3059\uff0e\n\u8abf\u67fb\u3092\u884c\u3063\u3066\u3044\u304f\u5ea6\u306bLaravel\u306e\u512a\u79c0\u3055\u306b\u9a5a\u304f\u30fb\u30fb\n\u79c1\u7528\u3067 Laravel\u3092\u89e6\u3063\u3066\u3044\u305f\u6642\u306b\u3075\u3068\u6c17\u306b\u306a\u3063\u3066\u8abf\u67fb\u3057\u3066\u307e\u3057\u305f\uff0e\nLaravel\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f[5.2](https://readouble.com/laravel/5.2/ja/)\u306b\u306a\u308a\u307e\u3059\uff0e\n\n## Laravel \u3067 Json\u3092\u8fd4\u3059\u65b9\u6cd5\n\njson\u306e\u51fa\u529b\u306e\u4ed5\u65b9\u306f\u8272\u3005\u306a\u8a18\u4e8b\u3084\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3059\u308b\u3068\u78ba\u8a8d\u3067\u304d\u308b\u306e\u3067\u3059\u304c\uff0c\n\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u884c\u306a\u3063\u305f\u6642\u306e\u8a18\u4e8b\u306f\u306a\u304b\u306a\u304b\u51fa\u3066\u3053\u306a\u3044\u306e\u3067\uff0c\u5fd8\u308c\u305f\u6642\u306e\u3053\u3068\u3092\u8003\u3048\u3066\u30e1\u30e2...\n\n## Json\u306e\u51fa\u529b\u65b9\u6cd5\n\n\u57fa\u672c\u7684\u306b\u306f\uff0c\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u3057\u305f\u5f8c\u306b\n\n```php\npublic function getJson(){\n    return Model::all()->toJson();\n}\n```\n\n\u3067\uff0cjson\u304c\u8fd4\u3055\u308c\u308b\u304b\u3068\u601d\u3044\u307e\u3059\uff0e\n\n## \u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u7528\u3044\u3066\u3044\u308b\u6642\u306eJson\u51fa\u529b\n\n```php\nclass Test extends Model{\n    public function tests(){\n        return $this->hasMany('App\\Test1');\n    }\n}\n\nclass Test1 extends Model{\n    public function test(){\n        return $this->belongsTo('App\\Test');\n    }\n}\n```\n\n\u3068\u306a\u3063\u3066\u3044\u308b\u5834\u5408\uff0c Test1 \u306b\u7d10\u3065\u304f Test \u306e\u30c7\u30fc\u30bf\u306f,\n\n```php\npublic function getJson(){\n    return Test1::with(['test'])->get()->toJson();\n}\n```\n\n\u307f\u305f\u3044\u306b\u66f8\u304f\u3068\u53d6\u5f97\u3067\u304d\u307e\u3059\uff0e\n\n(2016/11/19 : \u3088\u308a\u30b7\u30f3\u30d7\u30eb\u306a\u66f8\u304d\u65b9\u3092\u6559\u3048\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u306e\u3067\u8ffd\u8a18\u3057\u307e\u3059\uff0e)\n\u9006\u306e\u5834\u5408\u306b\u306f\uff0c\n\n```php\npublic function getJson(){\n    return Test::with(['tests'])->get()->toJson();\n}\n```\n\u3067\u3044\u3051\u307e\u3059\uff0e\n\n\u5c11\u3057\u624b\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u304c\uff0c\u81ea\u5206\u3067key\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff0e\n\n```php\npublic function getJson(){\n    $test_all = Test::all();\n    foreach($test_all as $test){\n        $test['testA'] = $test->tests()->get();\n    }\n    return $test_all->toJson();\n}\n```\n\n\u307e\u305f\u3082\u3063\u3068\u6df1\u3044\u30cd\u30b9\u30c8\u3067\u5b9f\u73fe\u3057\u305f\u3044\u5834\u5408\u306b\u306f,\n\n```php\npublic function getJson(){\n    $test_all = Test::all();\n    foreach($test_all as $test){\n        $test['testA'] = $test->tests()->get();\n\n        $test['testA']['testB'] = $test->tests()->get();\n\n        $test['testA']['testB']['testC'] = $test->tests()->get();\n    }\n    return $test_all->toJson();\n}\n```\n\n\u307f\u305f\u3044\u306b\u3084\u308b\u3068\u3044\u3051\u308b\u3068\u601d\u3044\u307e\u3059\uff0e\n\n***\n\u8ffd\u8a18\n\n```php\nclass SampleA extends Model{\n    public function c_samples(){\n        return $this->hasMany('App\\SampleB');\n    }\n}\n\nclass SampleB extends Model{\n    public function c_samples(){\n        return $this->hasMany('App\\SampleC');\n    }\n}\n\nclass SampleC extends Model{\n    public function b_sample(){\n        return $this->belongsTo('App\\SampleB');\n    }\n\n    public function a_sample(){\n        return $this->belongsTo('App\\SampleA');\n    }\n}\n```\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30e2\u30c7\u30eb\u306e\u95a2\u4fc2\u3067\uff0cSampleB\u306eJson\u51fa\u529b\u3092\u884c\u3046\u969b,\u300cSampleC\u306b\u7d10\u3065\u304fSampleA\u306e\u30c7\u30fc\u30bf\u3082\u6b32\u3057\u3044!\u300d\u306a\u3093\u3066\u6642\u306b\u306f\uff0c\n\n```php\npublic function getJson(){\n    return SampleB::with(['c_samples.a_sample'])->get()->toJson();\n}\n```\n\n\u3063\u3066\u611f\u3058\u3067\uff0c \u30c9\u30c3\u30c8\u3067\u8ffd\u52a0\u3059\u308c\u3070\u3044\u3051\u307e\u3059\uff0e\n\u8abf\u67fb\u3092\u884c\u3063\u3066\u3044\u304f\u5ea6\u306bLaravel\u306e\u512a\u79c0\u3055\u306b\u9a5a\u304f\u30fb\u30fb\n", "tags": ["laravel", "laravel5", "JSON"]}