{"context": "\u3053\u308c\n\n\n\u74b0\u5883\n\nOS X El Capitan 10.11.4\nzsh 5.0.8 (x86_64-apple-darwin15.0)\n\n\n\u5168\u4f53\n\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3059\u308b\n\n.zshrc\nfunction notify_precmd {\n    prev_command_status=$?\n\n    if [[ \"$TTYIDLE\" -gt 1 ]]; then\n        notify_title=$([ \"$prev_command_status\" -eq 0 ] && echo \"Command succeeded \\U1F646\" || echo \"Command failed \\U1F645\")\n        osascript -e \"display notification \\\"$prev_command\\\" with title \\\"$notify_title\\\"\"\n    fi\n}\n\nfunction store_command {\n  prev_command=$2\n}\n\nautoload -Uz add-zsh-hook\nadd-zsh-hook preexec store_command\nadd-zsh-hook precmd notify_precmd\n\n\n\n\n\u53c2\u8003\nhttp://qiita.com/izumin5210/items/c683cb6addc58cae59b6\nhttp://qiita.com/zakuroishikuro/items/cfba3e7734036e389768\n\u3053\u308c\n\n![Screen Shot 2016-05-27 at 15.23.38.png](https://qiita-image-store.s3.amazonaws.com/0/10311/0ba056fd-5757-883b-d004-3c7dad70c7a3.png)\n\n## \u74b0\u5883\n\n* OS X El Capitan 10.11.4\n* zsh 5.0.8 (x86_64-apple-darwin15.0)\n\n\n## \u5168\u4f53\n\n\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3059\u308b\n\n```zsh:.zshrc\nfunction notify_precmd {\n    prev_command_status=$?\n\n    if [[ \"$TTYIDLE\" -gt 1 ]]; then\n        notify_title=$([ \"$prev_command_status\" -eq 0 ] && echo \"Command succeeded \\U1F646\" || echo \"Command failed \\U1F645\")\n        osascript -e \"display notification \\\"$prev_command\\\" with title \\\"$notify_title\\\"\"\n    fi\n}\n\nfunction store_command {\n  prev_command=$2\n}\n\nautoload -Uz add-zsh-hook\nadd-zsh-hook preexec store_command\nadd-zsh-hook precmd notify_precmd\n\n```\n\n\n## \u53c2\u8003\n\nhttp://qiita.com/izumin5210/items/c683cb6addc58cae59b6\nhttp://qiita.com/zakuroishikuro/items/cfba3e7734036e389768\n\n\n", "tags": ["Zsh", "AppleScript", "Mac"]}