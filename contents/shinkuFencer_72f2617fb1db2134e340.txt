{"tags": ["PHP7", "phpredis", "Ubuntu", "Redis"], "context": "Ubuntu\u304b\u3064PHP7\u3067phpredis\u3092\u5165\u308c\u305f\u65e5\u672c\u8a9e\u60c5\u5831\u304c\u306a\u3044\u306e\u3067\u30e1\u30e2\u30ec\u30d9\u30eb\n\n\u4eca\u56de\u8a66\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\nUbuntu 14.04.3\nPHP 7.0.8\nRedis 3.0.3\n\nmake\u3067\u304d\u308b\u74b0\u5883\u3092\u6574\u3048\u308b\nphp7.x\u7cfb\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\n$ php -v\n\nphpize\u304cphp5-dev \u3067\u306f\u306a\u304f php7.0-dev \u3092\u5165\u308c\u306a\u3044\u3068\n\u305f\u3060\u3057\u304fmake\u3067\u304d\u306a\u3044\u306e\u30677.0\u306e\u307b\u3046\u3092\u5165\u308c\u308b\n$ sudo apt-get install php7.0-dev\n\n\nmake\u3059\u308b\n\u73fe\u5728\u306fPHP7\u7528\u306ephpredis\u306f\u5225\u30d6\u30e9\u30f3\u30c1\u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u308b\u306e\u3067\n\u5c02\u7528\u306e\u30d6\u30e9\u30f3\u30c1\u304b\u3089make\u3059\u308b\n$ cd /usr/local/src\n$ sudo git clone -b php7 https://github.com/phpredis/phpredis.git\n$ cd phpredis\n$ sudo phpize\n$ sudo ./configure\n$ sudo make && sudo make install\n\n\nmake\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\u8a2d\u7f6e\n\u5404\u7a2e\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3001\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u8cbc\u308b\n$ sudo cp modules/redis.so `php-config --extension-dir`\n$ sudo cp rpm/redis.ini /etc/php/7.0/mods-available/\n$ sudo echo \"extension=redis.so\" > /etc/php/7.0/mods-available/redis.ini\n$ sudo ln -s /etc/php/7.0/mods-available/redis.ini /etc/php/7.0/cli/conf.d/redis.ini\n\n# \u4ee5\u4e0b\u306f\u30b5\u30fc\u30d0\u30fc\u74b0\u5883\u6b21\u7b2c\u3067\u8a2d\u5b9a\n$ sudo ln -s /etc/php/7.0/mods-available/redis.ini /etc/php/7.0/apache2/conf.d/redis.ini\n$ sudo ln -s /etc/php/7.0/mods-available/redis.ini /etc/php/7.0/fpm/conf.d/redis.ini\n\n\n\u6700\u5f8c\u306b\u52d5\u304f\u304b\u78ba\u8a8d\n\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067\u5b9f\u969b\u306b\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u52d5\u3044\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n$ php -r \"if (new Redis() == true){ echo \\\"OK \\r\\n\\\"; }\"\n\nOK\u304c\u51fa\u308c\u3070\u5b8c\u4e86\u3002\n\n\u53c2\u8003\u30ea\u30f3\u30af\n\nHow to install Redis and Redis php client (Updated: Feb 26, 2016) - Anton Logvinenko\nPhpredis as Redis client in Ubuntu 12.04 LTS - LeaseWeb labs\nPHP7.0.3\u304b\u3089Redis\u3092\u4f7f\u3046 - \u5099\u5fd8\u9332\n\nUbuntu\u304b\u3064PHP7\u3067phpredis\u3092\u5165\u308c\u305f\u65e5\u672c\u8a9e\u60c5\u5831\u304c\u306a\u3044\u306e\u3067\u30e1\u30e2\u30ec\u30d9\u30eb\n\n### \u4eca\u56de\u8a66\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\n\nUbuntu 14.04.3\nPHP 7.0.8\nRedis 3.0.3\n\n### make\u3067\u304d\u308b\u74b0\u5883\u3092\u6574\u3048\u308b\nphp7.x\u7cfb\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\n\n```bash\n$ php -v\n```\n\nphpize\u304c`php5-dev` \u3067\u306f\u306a\u304f `php7.0-dev` \u3092\u5165\u308c\u306a\u3044\u3068\n\u305f\u3060\u3057\u304fmake\u3067\u304d\u306a\u3044\u306e\u30677.0\u306e\u307b\u3046\u3092\u5165\u308c\u308b\n\n```bash\n$ sudo apt-get install php7.0-dev\n```\n\n### make\u3059\u308b\n\u73fe\u5728\u306fPHP7\u7528\u306ephpredis\u306f\u5225\u30d6\u30e9\u30f3\u30c1\u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u308b\u306e\u3067\n\u5c02\u7528\u306e\u30d6\u30e9\u30f3\u30c1\u304b\u3089make\u3059\u308b\n\n```bash\n$ cd /usr/local/src\n$ sudo git clone -b php7 https://github.com/phpredis/phpredis.git\n$ cd phpredis\n$ sudo phpize\n$ sudo ./configure\n$ sudo make && sudo make install\n```\n\n### make\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\u8a2d\u7f6e\n\u5404\u7a2e\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3001\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u8cbc\u308b\n\n```bash\n$ sudo cp modules/redis.so `php-config --extension-dir`\n$ sudo cp rpm/redis.ini /etc/php/7.0/mods-available/\n$ sudo echo \"extension=redis.so\" > /etc/php/7.0/mods-available/redis.ini\n$ sudo ln -s /etc/php/7.0/mods-available/redis.ini /etc/php/7.0/cli/conf.d/redis.ini\n\n# \u4ee5\u4e0b\u306f\u30b5\u30fc\u30d0\u30fc\u74b0\u5883\u6b21\u7b2c\u3067\u8a2d\u5b9a\n$ sudo ln -s /etc/php/7.0/mods-available/redis.ini /etc/php/7.0/apache2/conf.d/redis.ini\n$ sudo ln -s /etc/php/7.0/mods-available/redis.ini /etc/php/7.0/fpm/conf.d/redis.ini\n```\n\n### \u6700\u5f8c\u306b\u52d5\u304f\u304b\u78ba\u8a8d\n\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067\u5b9f\u969b\u306b\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u52d5\u3044\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n```bash\n$ php -r \"if (new Redis() == true){ echo \\\"OK \\r\\n\\\"; }\"\n```\n\nOK\u304c\u51fa\u308c\u3070\u5b8c\u4e86\u3002\n\n### \u53c2\u8003\u30ea\u30f3\u30af\n\n* [How to install Redis and Redis php client \\(Updated: Feb 26, 2016\\) \\- Anton Logvinenko](https://anton.logvinenko.name/en/blog/how-to-install-redis-and-redis-php-client.html)\n* [Phpredis as Redis client in Ubuntu 12\\.04 LTS \\- LeaseWeb labs](https://www.leaseweb.com/labs/2013/08/phpredis-as-redis-client-in-ubuntu-12-04-lts/)\n* [PHP7\\.0\\.3\u304b\u3089Redis\u3092\u4f7f\u3046 \\- \u5099\u5fd8\u9332](http://eeggs.hatenablog.com/entry/2016/02/07/151013)\n"}