{"tags": ["docker", "python3", "Flask", "MySQL"], "context": "\n\n\u306f\u3058\u3081\u306b\n\u300c\u512a\u3057\u3044IT\u300d\u3068\u3044\u3046\u7406\u5ff5\u306e\u57fa\u3001IT\u30b3\u30f3\u30b5\u30eb\u30bf\u30f3\u30c8\u3092\u3057\u3066\u3044\u308b\u4e80\u4e95\u4eae\u4ecb\u3068\u7533\u3057\u307e\u3059\uff01\n\u4e3b\u306a\u4ed5\u4e8b\u306f\u8981\u6c42\u5206\u6790\u30fb\u8981\u4ef6\u5b9a\u7fa9\u306e\u4e0a\u6d41\u5de5\u7a0b\u304b\u3089\u3001\u958b\u767a\u306e\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u307e\u3067\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u3067\u30a6\u30a7\u30d6\u30b7\u30b9\u30c6\u30e0\u958b\u767a\u3092\u3057\u3066\u3044\u307e\u3059\uff01\n\n\u76ee\u7684\n\u7d30\u304b\u3044\u8aac\u660e\u306f\u629c\u304d\u306b\u3057\u3066\u3001Git clone\u3057\u3001\"docker-compose up -d\"\u3059\u308b\u3060\u3051\u3067\u3001Python3, Flask, MySQL\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u307e\u3059\uff01\nDocker\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u3001\u524d\u63d0\u3068\u306a\u308a\u307e\u3059\uff01\n\u300c\u3068\u308a\u3042\u3048\u305a\u52d5\u304f\u3068\u3053\u308d\u304c\u898b\u305f\u3044\uff01\u300d\u3068\u3044\u3046\u305b\u3063\u304b\u3061\u306a\uff08\u79c1\u306e\u3088\u3046\u306a\uff09\u65b9\u306f\u3001\u300c1. \u52d5\u4f5c\u3059\u308b\u307e\u3067\u306e\u624b\u9806\u300d\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u306d\uff01\n2\u7ae0\u4ee5\u964d\u306f\u3001\u5404\u9805\u76ee\u306e\u8aac\u660e\u3092\u3057\u3066\u3044\u307e\u3059\uff01\nGithub\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u4e0a\u3052\u3066\u3044\u308b\u306e\u3067\u3001\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\u306d\uff01\n\n\u76ee\u6b21\n\n\u52d5\u4f5c\u3059\u308b\u307e\u3067\u306e\u624b\u9806\nDockerfile\ndocker-compose.yml\nFlask(mysql-connector-python)\nJinja2 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\n\u30ed\u30fc\u30ab\u30eb\u3067\u30d5\u30a1\u30a4\u30eb\u64cd\u4f5c\u3057\u3001\u30b3\u30f3\u30c6\u30ca\u306b\u5373\u6642\u53cd\u6620\n\n\n1. \u52d5\u4f5c\u3059\u308b\u307e\u3067\u306e\u624b\u9806\n\n1-1. Git clone\u3059\u308b\nGit\u304c\u4f7f\u3048\u308b\u3053\u3068\u304c\u524d\u63d0\u3067\u3059\u3002\n\nGit\u30af\u30ed\u30fc\u30f3\n$ git clone git@github.com:RyosukeKamei/python-flask-mysql.git\n\n\n\n\u79fb\u52d5\n$ cd python-flask-mysql\n\n\n\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n1-2. docker-compose up -d\ndocker-compose\u3092\u4f7f\u3044\u3001\u30c7\u30fc\u30bf\u30b3\u30f3\u30c6\u30ca\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u306f\u3001Dockerfile\u3092\u4f7f\u3044\u30d3\u30eb\u30c9\u3057\u3066\u304b\u3089\u3001\u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5\u3092\u3057\u307e\u3059\u3002\n\ndocker-compose\u3067\u30d3\u30eb\u30c9\u3057\u3001\u8d77\u52d5\n$ docker-compose up -d\n\n\n\u203b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u3092\u30d3\u30eb\u30c9\u3059\u308b\u306e\u306b\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\n\n1-3. \u52d5\u4f5c\u78ba\u8a8d\nhttp://{IP\u30a2\u30c9\u30ec\u30b9}:5000/hello\n\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\nIP\u30a2\u30c9\u30ec\u30b9\u306f\u74b0\u5883\u306b\u3088\u3063\u3066\u7570\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u79c1\u306e\u74b0\u5883\u3067\u306f\u3001Docker\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\"192.168.99.100\"\u3067\u3059\u3002\nFlask\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u306f5000\u756a\u3067\u3059\u3002\n\nMySQL\u306b\u767b\u9332\u3057\u305f\u30c7\u30fc\u30bf\u3092\u305d\u306e\u307e\u307e\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u306bJinja2\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\uff01\n\n2. Dockerfile\nDockerfile\u3092\u4f7f\u3044\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\n\n2-1. Dockerfile\u5168\u4f53\n\nDockerfile\n# Python\u306f\u516c\u5f0f\u30a4\u30e1\u30fc\u30b8\nFROM python:3.5.2\n\n# \u30aa\u30ea\u30b8\u30ca\u30eb\u306fJoshua Conner\u6c0f\n# MAINTAINER Joshua Conner <joshua.conner@gmail.com>\nMAINTAINER Ryosuke Kamei <sr2smail@gmail.com>\n\n# \u5404\u30e9\u30a4\u30d6\u30e9\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# Python\u304c\u30d1\u30c3\u30b1\u30fc\u30b8\u4f9d\u5b58\u3059\u308b\u3082\u306e\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# Python\u30d7\u30ed\u30d5\u30a7\u30c3\u30b7\u30e7\u30ca\u30eb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u7b2c2\u7248P9\u3088\u308a\nRUN apt-get update\nRUN apt-get upgrade -y\nRUN apt-get install -y  vim \\\n                        sudo \\\n                        python3-dev \\\n                        zlib1g-dev \\\n                        libsqlite3-dev \\\n                        libreadline6-dev \\\n                        libgdbm-dev \\\n                        libbz2-dev \\\n                        tk-dev\n\n# \u30e6\u30fc\u30b6\u4f5c\u6210\nRUN groupadd web\nRUN useradd -d /home/python -m python\n\n# pip\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# virtualenv Python\u306e\u4eee\u60f3\u74b0\u5883\u69cb\u7bc9\u30b3\u30de\u30f3\u30c9\n# flake8 \u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30b9\u30bf\u30a4\u30eb/\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u306e\u30c1\u30a7\u30c3\u30af\n# ipython Python\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30e2\u30fc\u30c9\u62e1\u5f35\n# Flask Pytrhon\u306e\u8efd\u91cf\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\nRUN pip install virtualenv \\\n                ipython \\\n                flake8 \\\n                Flask\n\n# MySQL\u30c9\u30e9\u30a4\u30d0\"mysql-connector-python\"\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# pip\u306e\u3092\u4f7f\u3046\u3068\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3002\n# git clone\u3057\u3066\u30d3\u30eb\u30c9\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRUN git clone https://github.com/mysql/mysql-connector-python.git\nWORKDIR mysql-connector-python\nRUN python ./setup.py build\nRUN python ./setup.py install\n\n# \u30e6\u30fc\u30b6\u3092\u5909\u66f4\nUSER python\n\n# vim \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\nADD ./vim/.vimrc /home/python/\nWORKDIR /home/python\nRUN mkdir /home/python/.vim\nRUN mkdir /home/python/.vim/ftplugin\nADD ./vim/python.vim /home/python/.vim/ftplugin/\nRUN mkdir /home/python/.vim/bundle\nRUN git clone https://github.com/Shougo/neobundle.vim /home/python/.vim/bundle/neobundle.vim\n\n# Flask\u306e\u5834\u5408\n# \u30dd\u30fc\u30c8\u3092\u89e3\u653e\uff08Flask\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30dd\u30fc\u30c8\u756a\u53f7:5000\uff09\nEXPOSE 5000\n# \u30b5\u30fc\u30d0\u8d77\u52d5\nENTRYPOINT [\"/usr/local/bin/python\", \"/home/python/flask_sample.py\"]\n\n# \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u6307\u5b9a\u3057\u306a\u3044\u6642\u3084\u3001\u30b5\u30fc\u30d0\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304b\u3089\u5b9f\u884c\u3057\u305f\u3044\u5834\u5408\n# ENTRYPOINT [\"/usr/bin/tail\", \"-f\", \"/dev/null\"]\n\n\n\n2-2. \u5143\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u6307\u5b9a FROM\n\u5143\u3068\u306a\u308b\u30a4\u30e1\u30fc\u30b8\u306f\u516c\u5f0f\u30a4\u30e1\u30fc\u30b8\u306epython:3.5.2\u3067\u3059\u3002\n\n\u30a4\u30e1\u30fc\u30b8\nFROM python:3.5.2\n\n\n\n2-3. \u4f5c\u6210\u8005\u60c5\u5831 MAINTAINER\n\u8ab0\u304c\u4f5c\u3063\u305f\u304b\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\u7b46\u8005\u306e\u60c5\u5831\u3067\u3059\u3002\n\n\u4f5c\u6210\u8005\u60c5\u5831\nMAINTAINER Ryosuke Kamei <sr2smail@gmail.com>\n\n\n\n2-4. \u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u524d\u306b\u3001\u65e2\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a2\u30c3\u30c7\u30fc\u30c8\u30fb\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u524d\u306e\u304a\u307e\u3058\u306a\u3044\u3068\u601d\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\u305d\u306e\u5f8c\u3001\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nvim\u3084sudo\u3082\u3088\u304f\u4f7f\u3046\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u30fb\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRUN apt-get update\nRUN apt-get upgrade -y\nRUN apt-get install -y  vim \\\n                        sudo \\\n                        python3-dev \\\n                        zlib1g-dev \\\n                        libsqlite3-dev \\\n                        libreadline6-dev \\\n                        libgdbm-dev \\\n                        libbz2-dev \\\n                        tk-dev\n\n\n\n2-5. \u30b5\u30fc\u30d0\u306e\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\n\u30b5\u30fc\u30d0\u306e\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u30e6\u30fc\u30b6\u540d\u306f\"python\"\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u306f\u304a\u597d\u307f\u3067\u5909\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\u5909\u66f4\u3059\u308b\u5834\u5408\u3001\u5f8c\u8ff0\u306e\u30d5\u30a9\u30eb\u30c0\u540d\u306a\u3069\u3082\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u30e6\u30fc\u30b6\u4f5c\u6210\nRUN groupadd web\nRUN useradd -d /home/python -m python\n\n\n\n2-6. Python\u958b\u767a\u3067\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092pip\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nPython\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3pip\u3067\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nvirtualenv Python\u306e\u4eee\u60f3\u74b0\u5883\u69cb\u7bc9\u30b3\u30de\u30f3\u30c9\nflake8 \u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30b9\u30bf\u30a4\u30eb/\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u306e\u30c1\u30a7\u30c3\u30af\nipython Python\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30e2\u30fc\u30c9\u62e1\u5f35\nFlask Python\u306e\u8efd\u91cf\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\n\n\nvirtualenv,flake8,ipython,Flask\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRUN pip install virtualenv \\\n                ipython \\\n                flake8 \\\n                Flask\n\n\nMySQL\u3068\u63a5\u7d9a\u3059\u308b\u30c9\u30e9\u30a4\u30d0\u306f\"mysql-connector-python\"\u3092\u5229\u7528\u3057\u307e\u3059\u3002\npip\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u306f\u305a\u304c\u3001\u4e0a\u624b\u304f\u3044\u304b\u306a\u3044\uff08\uff12\uff10\uff11\uff16\u5e749\u670823\u65e5\u73fe\u5728\uff09\u306e\u3067\u3001git\u30af\u30ed\u30fc\u30f3\u3057\u3066\u3001\u30d3\u30eb\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nmysql-connector-python\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRUN git clone https://github.com/mysql/mysql-connector-python.git\nWORKDIR mysql-connector-python\nRUN python ./setup.py build\nRUN python ./setup.py install\n\n\n\n2-7. vim\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\nvim\u3092\u4f7f\u3044Python\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u64cd\u4f5c\u3059\u308b\u969b\u306b\u3001\u4fbf\u5229\u306a\u8a2d\u5b9a\u3092\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u6df1\u304f\u306f\u8aac\u660e\u3057\u307e\u305b\u3093\u3002\n\nvim\u306e\u8a2d\u5b9a\nADD ./vim/.vimrc /home/python/\nWORKDIR /home/python\nRUN mkdir /home/python/.vim\nRUN mkdir /home/python/.vim/ftplugin\nADD ./vim/python.vim /home/python/.vim/ftplugin/\nRUN mkdir /home/python/.vim/bundle\nRUN git clone https://github.com/Shougo/neobundle.vim /home/python/.vim/bundle/neobundle.vim\n\n\n\n2-8. Flask\u306e\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\u3092\u8d77\u52d5\nFlask\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30dd\u30fc\u30c8\u306f\"5000\"\u306a\u306e\u3067\u958b\u653e\u3057\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u306e\u30d5\u30a1\u30a4\u30eb\"flask_sample.py\"\u306f3.\u3067\u8aac\u660e\u3059\u308b\"docker-compose.yml\"\u30d5\u30a1\u30a4\u30eb\u3067\u540c\u671f\u3092\u53d6\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30b5\u30fc\u30d0\u304c\u8d77\u52d5\u3059\u308b\u306e\u3067\u3001\"docker-compose up -d\"\u5b9f\u884c\u5f8c\u306b\u3001\u5373\u52d5\u4f5c\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff01\nEXPOSE 5000\nENTRYPOINT [\"/usr/local/bin/python\", \"/home/python/flask_sample.py\"]\n\n\n3. docker-compose.yml\n\n3-1. docker-compose.yml\u5168\u4f53\n\ndocker-compose.yml\u5168\u4f53\ndata:\n  container_name: python-flask-data\n  image: busybox\n  stdin_open: true\n  tty: false\n  volumes:\n    - ./docker/mysql:/etc/mysql/conf.d:ro\n    - ./app:/home/python\n  command: /bin/sh\n\nmysql:\n  container_name: python-flask-db\n  image: mysql\n  volumes:\n   - ./initdb.d:/docker-entrypoint-initdb.d\n  environment:\n    MYSQL_ROOT_PASSWORD: password\n    MYSQL_USER: python\n    MYSQL_PASSWORD: python\n    MYSQL_DATABASE: sample\n  ports:\n    - \"3306:3306\"\n  volumes_from:\n    - data\n\napplication:\n  container_name: python-flask-app\n  build: .\n  # image: pythonbottle_application\n  tty: false\n  volumes_from:\n    - data\n  ports:\n    - \"5000:5000\"\n  links:\n    - mysql:python-flask-db\n\n\n\n3-2. \u30c7\u30fc\u30bf\u30b3\u30f3\u30c6\u30ca\n\u30c7\u30fc\u30bf\u3092\u6c38\u7d9a\u5316\u3059\u308b\u305f\u3081\u306b\u30c7\u30fc\u30bf\u30b3\u30f3\u30c6\u30ca\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u3092\u524a\u9664\u3057\u3066\u3082\u4e2d\u8eab\u306f\u6b8b\u308b\u306e\u3067\u3001\u5206\u3051\u308b\u3068\u4fbf\u5229\u3067\u3059\u3002\ncontainer_name\u3067\u30b3\u30f3\u30c6\u30ca\u540d\u6307\u5b9a\u3057\u307e\u3059\u3002\u4efb\u610f\u3067\u3059\u3002\n\u30a4\u30e1\u30fc\u30b8\u306f\u3001busybox\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\ndata\u30b3\u30f3\u30c6\u30ca\n  container_name: python-flask-data\n  image: busybox\n\n\n\u30dc\u30ea\u30e5\u30fc\u30e0\u3067\u3001mysql\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a\u3057\u307e\u3059\u3002\nconf.d\u306b\u65e5\u672c\u8a9e\u8a2d\u5b9a\u304c\u3042\u308a\u3001\u81ea\u52d5\u7684\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\n\u30b3\u30f3\u30c6\u30ca\u4e0a\u306e\"/home/python\"\u30d5\u30a9\u30eb\u30c0\u3068\u3001\u30ed\u30fc\u30ab\u30eb\u306e\"app\"\u30d5\u30a9\u30eb\u30c0\u3092\u540c\u671f\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u30ed\u30fc\u30ab\u30eb\u3067\u7de8\u96c6\u3057\u305f\u5185\u5bb9\u3092\u30b3\u30f3\u30c6\u30ca\u306b\u53cd\u6620\u3057\u307e\u3059\u3002\n\u3053\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3053\u3068\u3067\u3001\u30b3\u30f3\u30c6\u30ca\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u5358\u7d14\u306b\u4fdd\u5b58\u3092\u3059\u308b\u3060\u3051\u3067\u3001\u30b5\u30fc\u30d0\u306b\u8a2d\u5b9a\u3092\u53cd\u6620\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u4fbf\u5229\u3067\u3059\uff01\n\ndata\u30b3\u30f3\u30c6\u30ca\n  volumes:\n    - ./docker/mysql:/etc/mysql/conf.d:ro\n    - ./app:/home/python\n\n\nMySQL\u306e\u65e5\u672c\u8a9e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u304c\u81ea\u52d5\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\n\n./docker/mysql/my.cnf\n[mysqld]\ninnodb_strict_mode\ninnodb_file_format = Barracuda\ninnodb_file_per_table\ninnodb_large_prefix = 1\ncharacter-set-server=utf8mb4\nskip-character-set-client-handshake\nmax_allowed_packet = 32m\nskip-networking = 0\n\n[client]\ndefault-character-set=utf8mb4\n\n\n\n3-3. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\n\u30b3\u30f3\u30c6\u30ca\u540d\u306f\"python-flask-db\"\n\u30a4\u30e1\u30fc\u30b8\u306f\u516c\u5f0f\u306e\"mysql\"\n\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n\u30b3\u30f3\u30c6\u30ca\u540d\u3068\u30a4\u30e1\u30fc\u30b8\n  container_name: python-flask-db\n  image: mysql\n\n\n\u521d\u671f\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u306eCREATE\u6587\u3068\u3001\u30c7\u30fc\u30bf\u767b\u9332\u3059\u308bINSERT\u6587\u3092\"/docker-entrypoint-initdb.d\"\u306b\u7f6e\u304d\u307e\u3059\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u69cb\u7bc9\u6642\u306b\u3001\u81ea\u52d5\u7684\u306b\u5b9f\u884c\u3055\u308c\u308b\u306e\u3067\u3001\u521d\u671f\u5024\u304c\u5165\u308a\u307e\u3059\u3002\n\n\u521d\u671f\u30c7\u30fc\u30bf\u3092\u8a2d\u5b9a\n  volumes:\n   - ./initdb.d:/docker-entrypoint-initdb.d\n\n\n\n/initdb.d/create_table.sql\nUSE sample;\n\nCREATE TABLE `users` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) DEFAULT NULL,\n  KEY `id` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nINSERT INTO `users` (`id`, `name`) VALUES (1, 'pyhons');\n\n\n\u4e0b\u8a18\u306e\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30eb\u30fc\u30c8\u30d1\u30b9\u30ef\u30fc\u30c9\u3084\u30e6\u30fc\u30b6\u8a2d\u5b9a\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nMYSQL_ROOT_PASSWORD \u30eb\u30fc\u30c8\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\nMYSQL_USER \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30e6\u30fc\u30b6\u540d\nMYSQL_PASSWORD \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\nMYSQL_DATABASE \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\nMySQL\u306e\u74b0\u5883\u5909\u6570\n  environment:\n    MYSQL_ROOT_PASSWORD: password\n    MYSQL_USER: python\n    MYSQL_PASSWORD: python\n    MYSQL_DATABASE: sample\n\n\n\u30dd\u30fc\u30c8\u3092\u958b\u653e\u3057\u307e\u3059\u3002MySQL\u306f\"3306\"\u3067\u3059\u3002\n\n\u30dd\u30fc\u30c8\u3092\u958b\u653e\n  ports:\n    - \"3306:3306\"\n\n\n\u30c7\u30fc\u30bf\u30b3\u30f3\u30c6\u30ca\u304b\u3089\u3001\u5168\u3066\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\n\n\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30de\u30a6\u30f3\u30c8\n  volumes_from:\n    - data\n\n\n\n3-4. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\n\u30b3\u30f3\u30c6\u30ca\u540d\u4efb\u610f\u3067\u3059\u3002\n\u30a4\u30e1\u30fc\u30b8\u306f\u3001dockerfile\u304b\u3089\u30d3\u30eb\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u30b3\u30f3\u30c6\u30ca\u540d\u3068\u5143\u306e\u30a4\u30e1\u30fc\u30b8\ncontainer_name: python-flask-db\nbuild: .\n\n\n\u30c7\u30fc\u30bf\u30b3\u30f3\u30c6\u30ca\u304b\u3089\u3001\u5168\u3066\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\n\n\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30de\u30a6\u30f3\u30c8\n  volumes_from:\n    - data\n\n\n\u30dd\u30fc\u30c8\u3092\u958b\u653e\u3057\u307e\u3059\u3002Flask\u306f\"5000\"\u3067\u3059\u3002\n\n\u30dd\u30fc\u30c8\u3092\u958b\u653e\n  ports:\n    - \"5000:5000\"\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u306b\u30ea\u30f3\u30af\u3092\u5f35\u308a\u307e\u3059\u3002\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u306b\u30ea\u30f3\u30af\u3092\u5f35\u308b\n  links:\n    - mysql:python-flask-db\n\n\n\n4. Flask(mysql-connector-python)\n\n4-1. flask\u306e\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\n\nflask_sample.py\n# \u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\nfrom flask import Flask, render_template, request, redirect, url_for\n\n# MySQL\u30c9\u30e9\u30a4\u30d0\u306fmysql.connector\u3092\u4f7f\u3046\nimport mysql.connector\n# Docker\u3092\u4f7f\u3046\u5834\u5408\u3067\u3001\u521d\u671f\u8a2d\u5b9a\u306e\u5834\u5408host\u306f\"192.168.99.100\"\n# MySQL\u306e\u30e6\u30fc\u30b6\u3084\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306fdocker-compose.yml\u3067\u8a2d\u5b9a\u3057\u305f\u3082\u306e\nconnector = mysql.connector.connect(\n            user='python',\n            password='python',\n            host='192.168.99.100',\n            database='sample')\n\ncursor = connector.cursor()\ncursor.execute(\"select * from users\")\n\ndisp = \"\"\nfor row in cursor.fetchall():\n    disp = \"ID:\" + str(row[0]) + \"  \u540d\u524d:\" + row[1]\n\ncursor.close\nconnector.close\n\n# Flask\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3059\u308b\napp = Flask(__name__)\n# \u30c7\u30d0\u30c3\u30b0\u3092\u53ef\u80fd\u3068\u3059\u308b\napp.config.update({'DEBUG': True })\n\n# \u3053\u3053\u304b\u3089\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u8a18\u8ff0\n# index \u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3068\u304d\u306e\u51e6\u7406\n@app.route('/hello')\ndef hello():\n    # return \"Flask DB\u304b\u3089\u53d6\u5f97 \"+disp\n    # Jinja\u3092\u4f7f\u3046\n    title = \"\u3088\u3046\u3053\u305d\"\n    message = \"DB\u304b\u3089\u53d6\u5f97 \"+disp\n    # index.html \u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\n    return render_template('index.html', message=message, title=title)\nif __name__ == '__main__':\n    app.run(host='0.0.0.0')\n\n\n\n4-2. MySQL\u3068\u306e\u63a5\u7d9a\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3068\u304d\u306b\u3001mysql.connector\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u306e\u3067\u3001import\u3059\u308c\u3070\u4f7f\u3048\u307e\u3059\u3002\n\nMySQL\u30c9\u30e9\u30a4\u30d0\u306fmysql.connector\u3092\u4f7f\u3046\nimport mysql.connector\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u521d\u671f\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\nuser, password, database\u306fdocker-compose\u3067\u8a2d\u5b9a\u3057\u305f\u3082\u306e\u304c\u5165\u308a\u307e\u3059\u3002\nhost\u306f\u3001Docker\u3067\u30a2\u30b5\u30a4\u30f3\u3055\u308c\u305fIP\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\u7b46\u8005\u306e\u74b0\u5883\u306e\u5834\u5408\u306f\u3001\"192.168.99.100\"\u3067\u3057\u305f\u3002\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u5b9a\n# MySQL\u306e\u30e6\u30fc\u30b6\u3084\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306fdocker-compose.yml\u3067\u8a2d\u5b9a\u3057\u305f\u3082\u306e\nconnector = mysql.connector.connect(\n            user='python',\n            password='python',\n            host='192.168.99.100',\n            database='sample')\n\n\n\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u958b\u304d\u307e\u3059\u3002\n\n\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u958b\u304f\ncursor = connector.cursor()\n\n\nSELECT\u6587\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\nSELECT\u6587\u3092\u5b9f\u884c\ncursor.execute(\"select * from users\")\n\n\n\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u6574\u5f62\ndisp = \"\"\nfor row in cursor.fetchall():\n    disp = \"ID:\" + str(row[0]) + \"  \u540d\u524d:\" + row[1]\n\n\n\u5f8c\u51e6\u7406\u3092\u3057\u307e\u3059\u3002\n\n\u5f8c\u51e6\u7406\ncursor.close\nconnector.close\n\n\n\n4-3. Flask\n\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\n\nFlask\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\nfrom flask import Flask\n\n\n\nFlask\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\napp = Flask(__name__)\n\n\n\n\u30c7\u30d0\u30c3\u30b0\u306e\u8a2d\u5b9a\napp.config.update({'DEBUG': True })\n\n\nhttp://{IP\u30a2\u30c9\u30ec\u30b9}:5000/hello\n\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3057\u307e\u3059\u3002\n\nhello\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n@app.route('/hello')\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u53d6\u5f97\u3057\u305f\u5024\u3092\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u30a2\u30b5\u30a4\u30f3\u3057\u307e\u3059\u3002\nrender_template\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3001\u7b2c\uff12\u5f15\u6570\u4ee5\u964d\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u6e21\u3059\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\nhello\u306e\u4e2d\u8eab\ndef hello():\n    # return \"Flask DB\u304b\u3089\u53d6\u5f97 \"+disp\n    # Jinja\u3092\u4f7f\u3046\n    title = \"\u3088\u3046\u3053\u305d\"\n    message = \"DB\u304b\u3089\u53d6\u5f97 \"+disp\n    # index.html \u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\n    return render_template('index.html', message=message, title=title)\n\n\nDocker\u306e\u5834\u5408\u3001host='0.0.0.0'\u3092\u660e\u793a\u7684\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d0\u8d77\u52d5\nif __name__ == '__main__':\n    app.run(host='0.0.0.0')\n\n\n\n5. Jinja2 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\n\n5-1. index.html\n\n/templates/index.html\n{% extends \"layout.html\" %}\n{% block content %}\n    <h3>Jinja2</h3>\n    <p>\n        {% if message %}\n            {{ message }}\n        {% else %}\n            \u7279\u306b\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002\n        {% endif %}\n    </p>\n{% endblock %}\n\n\n\n5-2. extends\nHTML\u306e\u5171\u901a\u90e8\u5206\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\u30d8\u30c3\u30c0\u30fc\u90e8\u5206\u3084\u3001CSS\u30d5\u30a1\u30a4\u30eb\u3001jQuery\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u3001\u5171\u901a\u3067\u5229\u7528\u3059\u308b\u90e8\u5206\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n/templates/index.html\n{% extends \"layout.html\" %}\n\n\n\n5-3. layout.html\nlayout.html\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002\nCSS\u306bbootstrap\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3001bootstrap\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066\u3044\u307e\u3059\u3002\n\n/templates/layout.html\n<!DOCTYPE html>\n<!-- http://getbootstrap.com/getting-started/ \u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba -->\n<!-- \u5168\u753b\u9762\u5171\u901a\u90e8\u5206 -->\n<html lang=\"ja\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <!-- \u30bf\u30a4\u30c8\u30eb\u304c\u5165\u308b\u3002\u30bf\u30a4\u30c8\u30eb\u304c\u306a\u3044\u5834\u5408\u306fBootstrap 101 Template\u3068\u8868\u793a\uff08\u4eee\uff09 -->\n    {% if title %}\n      <title>{{ title }}</title>\n    {% else %}\n      <title>Bootstrap 101 Template</title>\n    {% endif %}\n    <!-- Bootstrap -->\n    <link href=\"/static/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->\n    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->\n    <!--[if lt IE 9]>\n      <script src=\"https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js\"></script>\n      <script src=\"https://oss.maxcdn.com/respond/1.4.2/respond.min.js\"></script>\n    <![endif]-->\n  </head>\n  <body>\n    <!-- \u3053\u3053\u306b\u672c\u4f53\u304c\u5165\u308b -->\n    {% block content %}{% endblock %}\n    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"></script>\n    <!-- Include all compiled plugins (below), or include individual files as needed -->\n    <script src=\"/static/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n\n\n\n5-4. block\nindex.html\u306eblock\u90e8\u5206\u306b\u57cb\u3081\u8fbc\u3080HTML\u3092\n{% block content %}\n\u304b\u3089\n{% endblock %}\n\u306b\u57cb\u3081\u8fbc\u307f\u307e\u3059\u3002\n\nblock\n{% block content %}\n    <h3>Jinja2</h3>\n    <p>\n        {% if message %}\n            {{ message }}\n        {% else %}\n            \u7279\u306b\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002\n        {% endif %}\n    </p>\n{% endblock %}\n\n\n\n5-5. if\u6587\nif\u6587\u306f\u6b21\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\nelse\u3084\u3053\u3053\u306b\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001elseif\u3082\u66f8\u3051\u307e\u3059\u3002\n\njinja\u306eif\u6587\n        {% if message %}\n            {{ message }}\n        {% else %}\n            \u7279\u306b\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002\n        {% endif %}\n\n\n\n6. \u30ed\u30fc\u30ab\u30eb\u3067\u30d5\u30a1\u30a4\u30eb\u64cd\u4f5c\u3057\u3001\u30b3\u30f3\u30c6\u30ca\u306b\u5373\u6642\u53cd\u6620\n\u3053\u306edocker-compose\u3067\u8d77\u52d5\u3059\u308b\u3068\u3001\u30ed\u30fc\u30ab\u30eb\u306e\"app\"\u30d5\u30a9\u30eb\u30c0\u3068\u3001\u30b3\u30f3\u30c6\u30ca\u306e\"/home/python\"\u304c\u540c\u671f\u3055\u308c\u307e\u3059\u3002\n\u3053\u306e\u3053\u3068\u306b\u3088\u308a\u3001\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u30b3\u30f3\u30c6\u30ca\u306b\u30d5\u30a1\u30a4\u30eb\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u4fdd\u5b58\u3059\u308b\u3060\u3051\u3067\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u53cd\u6620\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3066\u3001\u975e\u5e38\u306b\u52b9\u7387\u7684\u3067\u3059\u3002\n\n\u30b5\u30a4\u30c8\u30de\u30c3\u30d7\n\nRaspberry Pi 3 \u306bDocker\u3092\u4e57\u305b\u3066Python+MySQL\u74b0\u5883\u3092\u69cb\u7bc9\uff01\nRaspberryPi3\uff08\u30e9\u30ba\u30d1\u30a4\uff09\u306bDocker\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRaspberryPi3\uff08\u30e9\u30ba\u30d1\u30a4\uff09\u306bDocker\u3067Python+bottle+MySQL\u74b0\u5883\u69cb\u7bc9\u3059\u308b\uff01\u3010\u7c21\u5358\u69cb\u7bc9\u7de8\u3011\nRaspberryPi3\uff08\u30e9\u30ba\u30d1\u30a4\uff09\u306bDocker\u3067Python+bottle+MySQL\u74b0\u5883\u69cb\u7bc9\u3059\u308b\uff01\u3010\u8a66\u884c\u932f\u8aa4\u7de8\u3011\n\n\u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u3092\u91cd\u70b9\u306b\u304a\u3044\u305f\u898f\u5247\n\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u898f\u5247\u300c\u512a\u3057\u3044\u30b3\u30fc\u30c9\u3092\u66f8\u3053\u3046\u300d\uff08FuelPHP\uff09\n\u547d\u540d\u898f\u5247\u300c3\u30f6\u6708\u5f8c\u306e\u81ea\u5206\u81ea\u8eab\u306b\u512a\u3057\u304f\u3001\u30c1\u30fc\u30e0\u306b\u512a\u3057\u304f\u3001\u307e\u3060\u898b\u306c\u30e1\u30f3\u30d0\u30fc\u306b\u512a\u3057\u304f\u300d\n\n\u958b\u767a\u3057\u3084\u3059\u3044\u74b0\u5883\u69cb\u7bc9\uff08Docker+PHP\uff09\nDocker\u3092\u5229\u7528\u3057Apache\u306bPHP\u74b0\u5883 + Eclipse\u3092\u9023\u643a\nDocker\u3092\u5229\u7528\u3057\u305fFuelPHP\u958b\u767a\u74b0\u5883\u69cb\u7bc9\nDocker\u5229\u7528\u3057\u305fFuelPHP\u958b\u767a\u74b0\u5883\u306e\u521d\u671f\u8a2d\u5b9a\u3068scaffold\u3092\u5229\u7528\u3057\u3066CRUD\u30b9\u30b1\u30eb\u30c8\u30f3\u4f5c\u6210\nFuelPHP\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n# \u306f\u3058\u3081\u306b\n\u300c\u512a\u3057\u3044IT\u300d\u3068\u3044\u3046\u7406\u5ff5\u306e\u57fa\u3001IT\u30b3\u30f3\u30b5\u30eb\u30bf\u30f3\u30c8\u3092\u3057\u3066\u3044\u308b\u4e80\u4e95\u4eae\u4ecb\u3068\u7533\u3057\u307e\u3059\uff01\n\u4e3b\u306a\u4ed5\u4e8b\u306f\u8981\u6c42\u5206\u6790\u30fb\u8981\u4ef6\u5b9a\u7fa9\u306e\u4e0a\u6d41\u5de5\u7a0b\u304b\u3089\u3001\u958b\u767a\u306e\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u307e\u3067\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u3067\u30a6\u30a7\u30d6\u30b7\u30b9\u30c6\u30e0\u958b\u767a\u3092\u3057\u3066\u3044\u307e\u3059\uff01\n\n## \u76ee\u7684\n\u7d30\u304b\u3044\u8aac\u660e\u306f\u629c\u304d\u306b\u3057\u3066\u3001Git clone\u3057\u3001\"docker-compose up -d\"\u3059\u308b\u3060\u3051\u3067\u3001Python3, Flask, MySQL\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u307e\u3059\uff01\nDocker\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u3001\u524d\u63d0\u3068\u306a\u308a\u307e\u3059\uff01\n\u300c\u3068\u308a\u3042\u3048\u305a\u52d5\u304f\u3068\u3053\u308d\u304c\u898b\u305f\u3044\uff01\u300d\u3068\u3044\u3046\u305b\u3063\u304b\u3061\u306a\uff08\u79c1\u306e\u3088\u3046\u306a\uff09\u65b9\u306f\u3001\u300c1. \u52d5\u4f5c\u3059\u308b\u307e\u3067\u306e\u624b\u9806\u300d\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u306d\uff01\n2\u7ae0\u4ee5\u964d\u306f\u3001\u5404\u9805\u76ee\u306e\u8aac\u660e\u3092\u3057\u3066\u3044\u307e\u3059\uff01\n\n[Github](https://github.com/RyosukeKamei/python-flask-mysql)\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u4e0a\u3052\u3066\u3044\u308b\u306e\u3067\u3001\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\u306d\uff01\n\n## \u76ee\u6b21\n1. \u52d5\u4f5c\u3059\u308b\u307e\u3067\u306e\u624b\u9806\n2. Dockerfile\n3. docker-compose.yml\n4. Flask(mysql-connector-python)\n5. Jinja2 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\n6. \u30ed\u30fc\u30ab\u30eb\u3067\u30d5\u30a1\u30a4\u30eb\u64cd\u4f5c\u3057\u3001\u30b3\u30f3\u30c6\u30ca\u306b\u5373\u6642\u53cd\u6620\n\n## 1. \u52d5\u4f5c\u3059\u308b\u307e\u3067\u306e\u624b\u9806\n\n### 1-1. Git clone\u3059\u308b\nGit\u304c\u4f7f\u3048\u308b\u3053\u3068\u304c\u524d\u63d0\u3067\u3059\u3002\n\n```bash:Git\u30af\u30ed\u30fc\u30f3\n$ git clone git@github.com:RyosukeKamei/python-flask-mysql.git\n```\n\n```bash:\u79fb\u52d5\n$ cd python-flask-mysql\n```\n\n\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n<img width=\"844\" alt=\"\u30d5\u30a9\u30eb\u30bf\u3099\u69cb\u6210.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/133154/83009109-d7b2-5143-1426-e16f08d5a1c5.png\">\n\n\n## 1-2. docker-compose up -d\ndocker-compose\u3092\u4f7f\u3044\u3001\u30c7\u30fc\u30bf\u30b3\u30f3\u30c6\u30ca\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u306f\u3001Dockerfile\u3092\u4f7f\u3044\u30d3\u30eb\u30c9\u3057\u3066\u304b\u3089\u3001\u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5\u3092\u3057\u307e\u3059\u3002\n\n```bash:docker-compose\u3067\u30d3\u30eb\u30c9\u3057\u3001\u8d77\u52d5\n$ docker-compose up -d\n```\n\u203b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u3092\u30d3\u30eb\u30c9\u3059\u308b\u306e\u306b\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\n\n## 1-3. \u52d5\u4f5c\u78ba\u8a8d\nhttp://{IP\u30a2\u30c9\u30ec\u30b9}:5000/hello\n\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\nIP\u30a2\u30c9\u30ec\u30b9\u306f\u74b0\u5883\u306b\u3088\u3063\u3066\u7570\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u79c1\u306e\u74b0\u5883\u3067\u306f\u3001Docker\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\"192.168.99.100\"\u3067\u3059\u3002\nFlask\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u306f5000\u756a\u3067\u3059\u3002\n\n<img width=\"591\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-23 13.40.23.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/133154/5a484fea-f176-e1dc-dce1-f107c08700b2.png\">\n\nMySQL\u306b\u767b\u9332\u3057\u305f\u30c7\u30fc\u30bf\u3092\u305d\u306e\u307e\u307e\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u306bJinja2\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\uff01\n\n## 2. Dockerfile\nDockerfile\u3092\u4f7f\u3044\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\n\n### 2-1. Dockerfile\u5168\u4f53\n\n```Dockerfile:Dockerfile\n# Python\u306f\u516c\u5f0f\u30a4\u30e1\u30fc\u30b8\nFROM python:3.5.2\n\n# \u30aa\u30ea\u30b8\u30ca\u30eb\u306fJoshua Conner\u6c0f\n# MAINTAINER Joshua Conner <joshua.conner@gmail.com>\nMAINTAINER Ryosuke Kamei <sr2smail@gmail.com>\n\n# \u5404\u30e9\u30a4\u30d6\u30e9\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# Python\u304c\u30d1\u30c3\u30b1\u30fc\u30b8\u4f9d\u5b58\u3059\u308b\u3082\u306e\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# Python\u30d7\u30ed\u30d5\u30a7\u30c3\u30b7\u30e7\u30ca\u30eb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u7b2c2\u7248P9\u3088\u308a\nRUN apt-get update\nRUN apt-get upgrade -y\nRUN apt-get install -y \tvim \\\n\t\t\t\t\t\tsudo \\\n\t\t\t\t\t\tpython3-dev \\\n\t\t\t\t\t\tzlib1g-dev \\\n\t\t\t\t\t\tlibsqlite3-dev \\\n\t\t\t\t\t\tlibreadline6-dev \\\n\t\t\t\t\t\tlibgdbm-dev \\\n\t\t\t\t\t\tlibbz2-dev \\\n\t\t\t\t\t\ttk-dev\n\t\n# \u30e6\u30fc\u30b6\u4f5c\u6210\nRUN groupadd web\nRUN useradd -d /home/python -m python\n\n# pip\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# virtualenv Python\u306e\u4eee\u60f3\u74b0\u5883\u69cb\u7bc9\u30b3\u30de\u30f3\u30c9\n# flake8 \u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30b9\u30bf\u30a4\u30eb/\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u306e\u30c1\u30a7\u30c3\u30af\n# ipython Python\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30e2\u30fc\u30c9\u62e1\u5f35\n# Flask Pytrhon\u306e\u8efd\u91cf\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\nRUN pip install virtualenv \\\n\t\t\t\tipython \\\n\t\t\t\tflake8 \\\n                Flask\n\n# MySQL\u30c9\u30e9\u30a4\u30d0\"mysql-connector-python\"\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# pip\u306e\u3092\u4f7f\u3046\u3068\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3002\n# git clone\u3057\u3066\u30d3\u30eb\u30c9\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRUN git clone https://github.com/mysql/mysql-connector-python.git\nWORKDIR mysql-connector-python\nRUN python ./setup.py build\nRUN python ./setup.py install\n\n# \u30e6\u30fc\u30b6\u3092\u5909\u66f4\nUSER python\n\n# vim \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\nADD ./vim/.vimrc /home/python/\nWORKDIR /home/python\nRUN mkdir /home/python/.vim\nRUN mkdir /home/python/.vim/ftplugin\nADD ./vim/python.vim /home/python/.vim/ftplugin/\nRUN mkdir /home/python/.vim/bundle\nRUN git clone https://github.com/Shougo/neobundle.vim /home/python/.vim/bundle/neobundle.vim\n\n# Flask\u306e\u5834\u5408\n# \u30dd\u30fc\u30c8\u3092\u89e3\u653e\uff08Flask\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30dd\u30fc\u30c8\u756a\u53f7:5000\uff09\nEXPOSE 5000\n# \u30b5\u30fc\u30d0\u8d77\u52d5\nENTRYPOINT [\"/usr/local/bin/python\", \"/home/python/flask_sample.py\"]\n\n# \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u6307\u5b9a\u3057\u306a\u3044\u6642\u3084\u3001\u30b5\u30fc\u30d0\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304b\u3089\u5b9f\u884c\u3057\u305f\u3044\u5834\u5408\n# ENTRYPOINT [\"/usr/bin/tail\", \"-f\", \"/dev/null\"]\n```\n\n### 2-2. \u5143\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u6307\u5b9a FROM\n\n\u5143\u3068\u306a\u308b\u30a4\u30e1\u30fc\u30b8\u306f\u516c\u5f0f\u30a4\u30e1\u30fc\u30b8\u306epython:3.5.2\u3067\u3059\u3002\n\n```Dockerfile:\u30a4\u30e1\u30fc\u30b8\nFROM python:3.5.2\n```\n\n### 2-3. \u4f5c\u6210\u8005\u60c5\u5831 MAINTAINER\n\n\u8ab0\u304c\u4f5c\u3063\u305f\u304b\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\u7b46\u8005\u306e\u60c5\u5831\u3067\u3059\u3002\n\n```Dockerfile:\u4f5c\u6210\u8005\u60c5\u5831\nMAINTAINER Ryosuke Kamei <sr2smail@gmail.com>\n```\n\n### 2-4. \u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u524d\u306b\u3001\u65e2\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a2\u30c3\u30c7\u30fc\u30c8\u30fb\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u524d\u306e\u304a\u307e\u3058\u306a\u3044\u3068\u601d\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\u305d\u306e\u5f8c\u3001\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nvim\u3084sudo\u3082\u3088\u304f\u4f7f\u3046\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```Dockerfile:\u30e9\u30a4\u30d6\u30e9\u30ea\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u30fb\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRUN apt-get update\nRUN apt-get upgrade -y\nRUN apt-get install -y \tvim \\\n\t\t\t\t\t\tsudo \\\n\t\t\t\t\t\tpython3-dev \\\n\t\t\t\t\t\tzlib1g-dev \\\n\t\t\t\t\t\tlibsqlite3-dev \\\n\t\t\t\t\t\tlibreadline6-dev \\\n\t\t\t\t\t\tlibgdbm-dev \\\n\t\t\t\t\t\tlibbz2-dev \\\n\t\t\t\t\t\ttk-dev\n```\n\n### 2-5. \u30b5\u30fc\u30d0\u306e\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\n\n\u30b5\u30fc\u30d0\u306e\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u30e6\u30fc\u30b6\u540d\u306f\"python\"\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u306f\u304a\u597d\u307f\u3067\u5909\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\u5909\u66f4\u3059\u308b\u5834\u5408\u3001\u5f8c\u8ff0\u306e\u30d5\u30a9\u30eb\u30c0\u540d\u306a\u3069\u3082\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```Dockerfile:\u30e6\u30fc\u30b6\u4f5c\u6210\nRUN groupadd web\nRUN useradd -d /home/python -m python\n```\n\n### 2-6. Python\u958b\u767a\u3067\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092pip\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nPython\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3pip\u3067\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n- virtualenv Python\u306e\u4eee\u60f3\u74b0\u5883\u69cb\u7bc9\u30b3\u30de\u30f3\u30c9\n- flake8 \u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30b9\u30bf\u30a4\u30eb/\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u306e\u30c1\u30a7\u30c3\u30af\n- ipython Python\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30e2\u30fc\u30c9\u62e1\u5f35\n- Flask Python\u306e\u8efd\u91cf\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\n\n```Dockerfile:virtualenv,flake8,ipython,Flask\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRUN pip install virtualenv \\\n\t\t\t\tipython \\\n\t\t\t\tflake8 \\\n                Flask\n```\n\nMySQL\u3068\u63a5\u7d9a\u3059\u308b\u30c9\u30e9\u30a4\u30d0\u306f\"mysql-connector-python\"\u3092\u5229\u7528\u3057\u307e\u3059\u3002\npip\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u306f\u305a\u304c\u3001\u4e0a\u624b\u304f\u3044\u304b\u306a\u3044\uff08\uff12\uff10\uff11\uff16\u5e749\u670823\u65e5\u73fe\u5728\uff09\u306e\u3067\u3001git\u30af\u30ed\u30fc\u30f3\u3057\u3066\u3001\u30d3\u30eb\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```Dockerfile:mysql-connector-python\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRUN git clone https://github.com/mysql/mysql-connector-python.git\nWORKDIR mysql-connector-python\nRUN python ./setup.py build\nRUN python ./setup.py install\n```\n\n### 2-7. vim\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\nvim\u3092\u4f7f\u3044Python\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u64cd\u4f5c\u3059\u308b\u969b\u306b\u3001\u4fbf\u5229\u306a\u8a2d\u5b9a\u3092\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u6df1\u304f\u306f\u8aac\u660e\u3057\u307e\u305b\u3093\u3002\n\n```Dockerfile:vim\u306e\u8a2d\u5b9a\nADD ./vim/.vimrc /home/python/\nWORKDIR /home/python\nRUN mkdir /home/python/.vim\nRUN mkdir /home/python/.vim/ftplugin\nADD ./vim/python.vim /home/python/.vim/ftplugin/\nRUN mkdir /home/python/.vim/bundle\nRUN git clone https://github.com/Shougo/neobundle.vim /home/python/.vim/bundle/neobundle.vim\n```\n\n### 2-8. Flask\u306e\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\u3092\u8d77\u52d5\n\nFlask\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30dd\u30fc\u30c8\u306f\"5000\"\u306a\u306e\u3067\u958b\u653e\u3057\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u306e\u30d5\u30a1\u30a4\u30eb\"flask_sample.py\"\u306f3.\u3067\u8aac\u660e\u3059\u308b\"docker-compose.yml\"\u30d5\u30a1\u30a4\u30eb\u3067\u540c\u671f\u3092\u53d6\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30b5\u30fc\u30d0\u304c\u8d77\u52d5\u3059\u308b\u306e\u3067\u3001\"docker-compose up -d\"\u5b9f\u884c\u5f8c\u306b\u3001\u5373\u52d5\u4f5c\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff01\n\n```Dockerfile:\nEXPOSE 5000\nENTRYPOINT [\"/usr/local/bin/python\", \"/home/python/flask_sample.py\"]\n```\n\n## 3. docker-compose.yml\n\n### 3-1. docker-compose.yml\u5168\u4f53\n\n```docker-compose:docker-compose.yml\u5168\u4f53\ndata:\n  container_name: python-flask-data\n  image: busybox\n  stdin_open: true\n  tty: false\n  volumes:\n    - ./docker/mysql:/etc/mysql/conf.d:ro\n    - ./app:/home/python\n  command: /bin/sh\n\nmysql:\n  container_name: python-flask-db\n  image: mysql\n  volumes:\n   - ./initdb.d:/docker-entrypoint-initdb.d\n  environment:\n    MYSQL_ROOT_PASSWORD: password\n    MYSQL_USER: python\n    MYSQL_PASSWORD: python\n    MYSQL_DATABASE: sample\n  ports:\n    - \"3306:3306\"\n  volumes_from:\n    - data\n\napplication:\n  container_name: python-flask-app\n  build: .\n  # image: pythonbottle_application\n  tty: false\n  volumes_from:\n    - data\n  ports:\n    - \"5000:5000\"\n  links:\n    - mysql:python-flask-db\n```\n\n### 3-2. \u30c7\u30fc\u30bf\u30b3\u30f3\u30c6\u30ca\n\n\u30c7\u30fc\u30bf\u3092\u6c38\u7d9a\u5316\u3059\u308b\u305f\u3081\u306b\u30c7\u30fc\u30bf\u30b3\u30f3\u30c6\u30ca\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u3092\u524a\u9664\u3057\u3066\u3082\u4e2d\u8eab\u306f\u6b8b\u308b\u306e\u3067\u3001\u5206\u3051\u308b\u3068\u4fbf\u5229\u3067\u3059\u3002\n\ncontainer_name\u3067\u30b3\u30f3\u30c6\u30ca\u540d\u6307\u5b9a\u3057\u307e\u3059\u3002\u4efb\u610f\u3067\u3059\u3002\n\u30a4\u30e1\u30fc\u30b8\u306f\u3001busybox\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\n```docker-compose:data\u30b3\u30f3\u30c6\u30ca\n  container_name: python-flask-data\n  image: busybox\n```\n\n\u30dc\u30ea\u30e5\u30fc\u30e0\u3067\u3001mysql\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a\u3057\u307e\u3059\u3002\nconf.d\u306b\u65e5\u672c\u8a9e\u8a2d\u5b9a\u304c\u3042\u308a\u3001\u81ea\u52d5\u7684\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\n\n\u30b3\u30f3\u30c6\u30ca\u4e0a\u306e\"/home/python\"\u30d5\u30a9\u30eb\u30c0\u3068\u3001\u30ed\u30fc\u30ab\u30eb\u306e\"app\"\u30d5\u30a9\u30eb\u30c0\u3092\u540c\u671f\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u30ed\u30fc\u30ab\u30eb\u3067\u7de8\u96c6\u3057\u305f\u5185\u5bb9\u3092\u30b3\u30f3\u30c6\u30ca\u306b\u53cd\u6620\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3053\u3068\u3067\u3001\u30b3\u30f3\u30c6\u30ca\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u5358\u7d14\u306b\u4fdd\u5b58\u3092\u3059\u308b\u3060\u3051\u3067\u3001\u30b5\u30fc\u30d0\u306b\u8a2d\u5b9a\u3092\u53cd\u6620\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u4fbf\u5229\u3067\u3059\uff01\n\n```docker-compose:data\u30b3\u30f3\u30c6\u30ca\n  volumes:\n    - ./docker/mysql:/etc/mysql/conf.d:ro\n    - ./app:/home/python\n```\n\nMySQL\u306e\u65e5\u672c\u8a9e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u304c\u81ea\u52d5\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\n\n```bash:./docker/mysql/my.cnf\n[mysqld]\ninnodb_strict_mode\ninnodb_file_format = Barracuda\ninnodb_file_per_table\ninnodb_large_prefix = 1\ncharacter-set-server=utf8mb4\nskip-character-set-client-handshake\nmax_allowed_packet = 32m\nskip-networking = 0\n\n[client]\ndefault-character-set=utf8mb4\n```\n\n### 3-3. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\n\n\u30b3\u30f3\u30c6\u30ca\u540d\u306f\"python-flask-db\"\n\u30a4\u30e1\u30fc\u30b8\u306f\u516c\u5f0f\u306e\"mysql\"\n\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```dokcker-compose:\u30b3\u30f3\u30c6\u30ca\u540d\u3068\u30a4\u30e1\u30fc\u30b8\n  container_name: python-flask-db\n  image: mysql\n```\n\n\u521d\u671f\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u306eCREATE\u6587\u3068\u3001\u30c7\u30fc\u30bf\u767b\u9332\u3059\u308bINSERT\u6587\u3092\"/docker-entrypoint-initdb.d\"\u306b\u7f6e\u304d\u307e\u3059\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u69cb\u7bc9\u6642\u306b\u3001\u81ea\u52d5\u7684\u306b\u5b9f\u884c\u3055\u308c\u308b\u306e\u3067\u3001\u521d\u671f\u5024\u304c\u5165\u308a\u307e\u3059\u3002\n\n```dokcker-compose:\u521d\u671f\u30c7\u30fc\u30bf\u3092\u8a2d\u5b9a\n  volumes:\n   - ./initdb.d:/docker-entrypoint-initdb.d\n```\n\n```mysql:/initdb.d/create_table.sql\nUSE sample;\n\nCREATE TABLE `users` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) DEFAULT NULL,\n  KEY `id` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nINSERT INTO `users` (`id`, `name`) VALUES (1, 'pyhons');\n```\n\n\u4e0b\u8a18\u306e\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30eb\u30fc\u30c8\u30d1\u30b9\u30ef\u30fc\u30c9\u3084\u30e6\u30fc\u30b6\u8a2d\u5b9a\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nMYSQL_ROOT_PASSWORD \u30eb\u30fc\u30c8\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\nMYSQL_USER \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30e6\u30fc\u30b6\u540d\nMYSQL_PASSWORD \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\nMYSQL_DATABASE \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\n```docker-compose:MySQL\u306e\u74b0\u5883\u5909\u6570\n  environment:\n    MYSQL_ROOT_PASSWORD: password\n    MYSQL_USER: python\n    MYSQL_PASSWORD: python\n    MYSQL_DATABASE: sample\n```\n\n\u30dd\u30fc\u30c8\u3092\u958b\u653e\u3057\u307e\u3059\u3002MySQL\u306f\"3306\"\u3067\u3059\u3002\n\n```docker-compose:\u30dd\u30fc\u30c8\u3092\u958b\u653e\n  ports:\n    - \"3306:3306\"\n```\n\n\u30c7\u30fc\u30bf\u30b3\u30f3\u30c6\u30ca\u304b\u3089\u3001\u5168\u3066\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\n\n```docker-compose:\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30de\u30a6\u30f3\u30c8\n  volumes_from:\n    - data\n```\n\n### 3-4. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\n\n\u30b3\u30f3\u30c6\u30ca\u540d\u4efb\u610f\u3067\u3059\u3002\n\u30a4\u30e1\u30fc\u30b8\u306f\u3001dockerfile\u304b\u3089\u30d3\u30eb\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\n```docker-compose:\u30b3\u30f3\u30c6\u30ca\u540d\u3068\u5143\u306e\u30a4\u30e1\u30fc\u30b8\ncontainer_name: python-flask-db\nbuild: .\n```\n\n\u30c7\u30fc\u30bf\u30b3\u30f3\u30c6\u30ca\u304b\u3089\u3001\u5168\u3066\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\n\n```docker-compose:\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30de\u30a6\u30f3\u30c8\n  volumes_from:\n    - data\n```\n\u30dd\u30fc\u30c8\u3092\u958b\u653e\u3057\u307e\u3059\u3002Flask\u306f\"5000\"\u3067\u3059\u3002\n\n```docker-compose:\u30dd\u30fc\u30c8\u3092\u958b\u653e\n  ports:\n    - \"5000:5000\"\n```\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u306b\u30ea\u30f3\u30af\u3092\u5f35\u308a\u307e\u3059\u3002\n\n```docker-compose:\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u306b\u30ea\u30f3\u30af\u3092\u5f35\u308b\n  links:\n    - mysql:python-flask-db\n```\n\n## 4. Flask(mysql-connector-python)\n\n### 4-1. flask\u306e\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\n\n```py3:flask_sample.py\n# \u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\nfrom flask import Flask, render_template, request, redirect, url_for\n\n# MySQL\u30c9\u30e9\u30a4\u30d0\u306fmysql.connector\u3092\u4f7f\u3046\nimport mysql.connector\n# Docker\u3092\u4f7f\u3046\u5834\u5408\u3067\u3001\u521d\u671f\u8a2d\u5b9a\u306e\u5834\u5408host\u306f\"192.168.99.100\"\n# MySQL\u306e\u30e6\u30fc\u30b6\u3084\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306fdocker-compose.yml\u3067\u8a2d\u5b9a\u3057\u305f\u3082\u306e\nconnector = mysql.connector.connect(\n            user='python',\n            password='python',\n            host='192.168.99.100',\n            database='sample')\n\ncursor = connector.cursor()\ncursor.execute(\"select * from users\")\n\ndisp = \"\"\nfor row in cursor.fetchall():\n    disp = \"ID:\" + str(row[0]) + \"  \u540d\u524d:\" + row[1]\n\ncursor.close\nconnector.close\n\n# Flask\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3059\u308b\napp = Flask(__name__)\n# \u30c7\u30d0\u30c3\u30b0\u3092\u53ef\u80fd\u3068\u3059\u308b\napp.config.update({'DEBUG': True })\n\n# \u3053\u3053\u304b\u3089\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u8a18\u8ff0\n# index \u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3068\u304d\u306e\u51e6\u7406\n@app.route('/hello')\ndef hello():\n    # return \"Flask DB\u304b\u3089\u53d6\u5f97 \"+disp\n    # Jinja\u3092\u4f7f\u3046\n    title = \"\u3088\u3046\u3053\u305d\"\n    message = \"DB\u304b\u3089\u53d6\u5f97 \"+disp\n    # index.html \u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\n    return render_template('index.html', message=message, title=title)\nif __name__ == '__main__':\n    app.run(host='0.0.0.0')\n```\n\n### 4-2. MySQL\u3068\u306e\u63a5\u7d9a\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3068\u304d\u306b\u3001mysql.connector\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u306e\u3067\u3001import\u3059\u308c\u3070\u4f7f\u3048\u307e\u3059\u3002\n\n```py3:MySQL\u30c9\u30e9\u30a4\u30d0\u306fmysql.connector\u3092\u4f7f\u3046\nimport mysql.connector\n```\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u521d\u671f\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\nuser, password, database\u306fdocker-compose\u3067\u8a2d\u5b9a\u3057\u305f\u3082\u306e\u304c\u5165\u308a\u307e\u3059\u3002\nhost\u306f\u3001Docker\u3067\u30a2\u30b5\u30a4\u30f3\u3055\u308c\u305fIP\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\u7b46\u8005\u306e\u74b0\u5883\u306e\u5834\u5408\u306f\u3001\"192.168.99.100\"\u3067\u3057\u305f\u3002\n\n```py3:\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u5b9a\n# MySQL\u306e\u30e6\u30fc\u30b6\u3084\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306fdocker-compose.yml\u3067\u8a2d\u5b9a\u3057\u305f\u3082\u306e\nconnector = mysql.connector.connect(\n            user='python',\n            password='python',\n            host='192.168.99.100',\n            database='sample')\n```\n\n\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u958b\u304d\u307e\u3059\u3002\n\n```py3:\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u958b\u304f\ncursor = connector.cursor()\n```\n\nSELECT\u6587\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```py3:SELECT\u6587\u3092\u5b9f\u884c\ncursor.execute(\"select * from users\")\n```\n\n\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n```py3:\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u6574\u5f62\ndisp = \"\"\nfor row in cursor.fetchall():\n    disp = \"ID:\" + str(row[0]) + \"  \u540d\u524d:\" + row[1]\n```\n\n\u5f8c\u51e6\u7406\u3092\u3057\u307e\u3059\u3002\n\n```py3:\u5f8c\u51e6\u7406\ncursor.close\nconnector.close\n```\n\n### 4-3. Flask\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\n\n```py3:Flask\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\nfrom flask import Flask\n```\n\n```py3:Flask\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\napp = Flask(__name__)\n```\n\n```py3:\u30c7\u30d0\u30c3\u30b0\u306e\u8a2d\u5b9a\napp.config.update({'DEBUG': True })\n```\n\nhttp://{IP\u30a2\u30c9\u30ec\u30b9}:5000/hello\n\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3057\u307e\u3059\u3002\n\n```py3:hello\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n@app.route('/hello')\n```\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u53d6\u5f97\u3057\u305f\u5024\u3092\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u30a2\u30b5\u30a4\u30f3\u3057\u307e\u3059\u3002\nrender_template\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3001\u7b2c\uff12\u5f15\u6570\u4ee5\u964d\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u6e21\u3059\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```py3:hello\u306e\u4e2d\u8eab\ndef hello():\n    # return \"Flask DB\u304b\u3089\u53d6\u5f97 \"+disp\n    # Jinja\u3092\u4f7f\u3046\n    title = \"\u3088\u3046\u3053\u305d\"\n    message = \"DB\u304b\u3089\u53d6\u5f97 \"+disp\n    # index.html \u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\n    return render_template('index.html', message=message, title=title)\n```\n\nDocker\u306e\u5834\u5408\u3001host='0.0.0.0'\u3092\u660e\u793a\u7684\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```py3:\u30b5\u30fc\u30d0\u8d77\u52d5\nif __name__ == '__main__':\n    app.run(host='0.0.0.0')\n```\n\n## 5. Jinja2 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\n\n### 5-1. index.html\n\n```jinja:/templates/index.html\n{% extends \"layout.html\" %}\n{% block content %}\n    <h3>Jinja2</h3>\n    <p>\n        {% if message %}\n            {{ message }}\n        {% else %}\n            \u7279\u306b\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002\n        {% endif %}\n    </p>\n{% endblock %}\n```\n\n### 5-2. extends\n\nHTML\u306e\u5171\u901a\u90e8\u5206\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\u30d8\u30c3\u30c0\u30fc\u90e8\u5206\u3084\u3001CSS\u30d5\u30a1\u30a4\u30eb\u3001jQuery\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u3001\u5171\u901a\u3067\u5229\u7528\u3059\u308b\u90e8\u5206\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n```jinja:/templates/index.html\n{% extends \"layout.html\" %}\n```\n\n### 5-3. layout.html\n\nlayout.html\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002\nCSS\u306bbootstrap\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3001bootstrap\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066\u3044\u307e\u3059\u3002\n\n```jinja:/templates/layout.html\n<!DOCTYPE html>\n<!-- http://getbootstrap.com/getting-started/ \u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba -->\n<!-- \u5168\u753b\u9762\u5171\u901a\u90e8\u5206 -->\n<html lang=\"ja\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <!-- \u30bf\u30a4\u30c8\u30eb\u304c\u5165\u308b\u3002\u30bf\u30a4\u30c8\u30eb\u304c\u306a\u3044\u5834\u5408\u306fBootstrap 101 Template\u3068\u8868\u793a\uff08\u4eee\uff09 -->\n    {% if title %}\n      <title>{{ title }}</title>\n    {% else %}\n      <title>Bootstrap 101 Template</title>\n    {% endif %}\n    <!-- Bootstrap -->\n    <link href=\"/static/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->\n    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->\n    <!--[if lt IE 9]>\n      <script src=\"https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js\"></script>\n      <script src=\"https://oss.maxcdn.com/respond/1.4.2/respond.min.js\"></script>\n    <![endif]-->\n  </head>\n  <body>\n    <!-- \u3053\u3053\u306b\u672c\u4f53\u304c\u5165\u308b -->\n    {% block content %}{% endblock %}\n    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"></script>\n    <!-- Include all compiled plugins (below), or include individual files as needed -->\n    <script src=\"/static/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n```\n\n### 5-4. block\n\nindex.html\u306eblock\u90e8\u5206\u306b\u57cb\u3081\u8fbc\u3080HTML\u3092\n{% block content %}\n\u304b\u3089\n{% endblock %}\n\u306b\u57cb\u3081\u8fbc\u307f\u307e\u3059\u3002\n\n```jinja:block\n{% block content %}\n    <h3>Jinja2</h3>\n    <p>\n        {% if message %}\n            {{ message }}\n        {% else %}\n            \u7279\u306b\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002\n        {% endif %}\n    </p>\n{% endblock %}\n```\n\n### 5-5. if\u6587\n\nif\u6587\u306f\u6b21\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\nelse\u3084\u3053\u3053\u306b\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001elseif\u3082\u66f8\u3051\u307e\u3059\u3002\n\n```jinja:jinja\u306eif\u6587\n        {% if message %}\n            {{ message }}\n        {% else %}\n            \u7279\u306b\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002\n        {% endif %}\n```\n\n## 6. \u30ed\u30fc\u30ab\u30eb\u3067\u30d5\u30a1\u30a4\u30eb\u64cd\u4f5c\u3057\u3001\u30b3\u30f3\u30c6\u30ca\u306b\u5373\u6642\u53cd\u6620\n\n\u3053\u306edocker-compose\u3067\u8d77\u52d5\u3059\u308b\u3068\u3001\u30ed\u30fc\u30ab\u30eb\u306e\"app\"\u30d5\u30a9\u30eb\u30c0\u3068\u3001\u30b3\u30f3\u30c6\u30ca\u306e\"/home/python\"\u304c\u540c\u671f\u3055\u308c\u307e\u3059\u3002\n\n\u3053\u306e\u3053\u3068\u306b\u3088\u308a\u3001\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u30b3\u30f3\u30c6\u30ca\u306b\u30d5\u30a1\u30a4\u30eb\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u4fdd\u5b58\u3059\u308b\u3060\u3051\u3067\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u53cd\u6620\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3066\u3001\u975e\u5e38\u306b\u52b9\u7387\u7684\u3067\u3059\u3002\n\n\n\n# \u30b5\u30a4\u30c8\u30de\u30c3\u30d7\n## Raspberry Pi 3 \u306bDocker\u3092\u4e57\u305b\u3066Python+MySQL\u74b0\u5883\u3092\u69cb\u7bc9\uff01\n[RaspberryPi3\uff08\u30e9\u30ba\u30d1\u30a4\uff09\u306bDocker\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](http://qiita.com/RyosukeKamei/items/147948845cd4c2c1d7b4)\n[RaspberryPi3\uff08\u30e9\u30ba\u30d1\u30a4\uff09\u306bDocker\u3067Python+bottle+MySQL\u74b0\u5883\u69cb\u7bc9\u3059\u308b\uff01\u3010\u7c21\u5358\u69cb\u7bc9\u7de8\u3011](http://qiita.com/RyosukeKamei/items/3c79b9f3c489908a529c)\n[RaspberryPi3\uff08\u30e9\u30ba\u30d1\u30a4\uff09\u306bDocker\u3067Python+bottle+MySQL\u74b0\u5883\u69cb\u7bc9\u3059\u308b\uff01\u3010\u8a66\u884c\u932f\u8aa4\u7de8\u3011](http://qiita.com/RyosukeKamei/items/5905240b4807fab00bc6)\n\n## \u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\u3092\u91cd\u70b9\u306b\u304a\u3044\u305f\u898f\u5247\n[\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u898f\u5247\u300c\u512a\u3057\u3044\u30b3\u30fc\u30c9\u3092\u66f8\u3053\u3046\u300d\uff08FuelPHP\uff09](http://qiita.com/RyosukeKamei/items/e6dbe03dd24dd1511f19)\n[\u547d\u540d\u898f\u5247\u300c3\u30f6\u6708\u5f8c\u306e\u81ea\u5206\u81ea\u8eab\u306b\u512a\u3057\u304f\u3001\u30c1\u30fc\u30e0\u306b\u512a\u3057\u304f\u3001\u307e\u3060\u898b\u306c\u30e1\u30f3\u30d0\u30fc\u306b\u512a\u3057\u304f\u300d](http://qiita.com/RyosukeKamei/items/0f697d2e2902b7488223)\n\n## \u958b\u767a\u3057\u3084\u3059\u3044\u74b0\u5883\u69cb\u7bc9\uff08Docker+PHP\uff09\n[Docker\u3092\u5229\u7528\u3057Apache\u306bPHP\u74b0\u5883 + Eclipse\u3092\u9023\u643a](http://qiita.com/RyosukeKamei/items/0db0130374bbc9ced16f)\n[Docker\u3092\u5229\u7528\u3057\u305fFuelPHP\u958b\u767a\u74b0\u5883\u69cb\u7bc9](http://qiita.com/RyosukeKamei/items/d97c53c1a86b27e6ee32)\n[Docker\u5229\u7528\u3057\u305fFuelPHP\u958b\u767a\u74b0\u5883\u306e\u521d\u671f\u8a2d\u5b9a\u3068scaffold\u3092\u5229\u7528\u3057\u3066CRUD\u30b9\u30b1\u30eb\u30c8\u30f3\u4f5c\u6210](http://qiita.com/RyosukeKamei/items/714104b624eb3980b308)\n[FuelPHP\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3](http://qiita.com/RyosukeKamei/items/088a5a3ba022ac6ada3a)\n"}