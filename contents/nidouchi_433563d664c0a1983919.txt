{"context": " More than 1 year has passed since last update.\u554f\u984c\u306f\u3053\u3061\u3089\u306e\u30ea\u30f3\u30af\u304b\u3089\u3002\nhttp://qiita.com/Nabetani/items/6a9f5593d0f3d7e0568c\ndef count_line(bd)\n  ct = [0]*6\n\n  lines = []\n  5.times{|y|\n    w = Array.new(5,false)\n    6.times{|x|\n      w[x] = true  unless bd[y][x] == bd[y+1][x]\n    }\n    lines << w\n  }\n\n  lines.each{|row|\n    c = 0\n    row.each{|cell|\n      if cell\n        c += 1\n      else\n        if c > 0\n          ct[c-1] += 1\n          c = 0\n        end\n      end\n    }\n    ct[c-1] += 1 if c > 0\n  }\n  ct\nend\n\ndef solve(q)\n  bd = q.scan(/../).map{|e| e.to_i(8)}.map{|e| (\"%06b\"%e).split('')}\n\n  h_line_count = count_line(bd)\n  v_line_count = count_line(bd.transpose)\n\n  h_line_count.zip(v_line_count).map{|c1,c2| c1 + c2}.join(',')\nend\n\nDATA.readlines.each do |line|\n  no,q,a,d = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans\n  puts ans == a ? ' o' : ' x'\nend\n__END__\n0   060276724276    6,2,1,1,0,1 \n1   770175454177    2,3,0,3,1,0 \n2   743733377170    9,3,1,0,0,0 \n3   724212121273    5,2,1,1,1,1 \n\n\u554f\u984c\u306f\u3053\u3061\u3089\u306e\u30ea\u30f3\u30af\u304b\u3089\u3002\nhttp://qiita.com/Nabetani/items/6a9f5593d0f3d7e0568c\n\n```rb\ndef count_line(bd)\n  ct = [0]*6\n\n  lines = []\n  5.times{|y|\n    w = Array.new(5,false)\n    6.times{|x|\n      w[x] = true  unless bd[y][x] == bd[y+1][x]\n    }\n    lines << w\n  }\n\n  lines.each{|row|\n    c = 0\n    row.each{|cell|\n      if cell\n        c += 1\n      else\n        if c > 0\n          ct[c-1] += 1\n          c = 0\n        end\n      end\n    }\n    ct[c-1] += 1 if c > 0\n  }\n  ct\nend\n\ndef solve(q)\n  bd = q.scan(/../).map{|e| e.to_i(8)}.map{|e| (\"%06b\"%e).split('')}\n\n  h_line_count = count_line(bd)\n  v_line_count = count_line(bd.transpose)\n\n  h_line_count.zip(v_line_count).map{|c1,c2| c1 + c2}.join(',')\nend\n\nDATA.readlines.each do |line|\n  no,q,a,d = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans\n  puts ans == a ? ' o' : ' x'\nend\n__END__\n0\t060276724276\t6,2,1,1,0,1\t\n1\t770175454177\t2,3,0,3,1,0\t\n2\t743733377170\t9,3,1,0,0,0\t\n3\t724212121273\t5,2,1,1,1,1\t\n```", "tags": ["Ruby", "\u3069\u3046\u66f8\u304f", "yhpg"]}