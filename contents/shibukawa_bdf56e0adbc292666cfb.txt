{"context": "\n\n\u6700\u521d\u306b\n\u6b21\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3067\u8ffd\u8a66\u3057\u307e\u3057\u305f\u3002\u672c\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u5185\u5bb9\u306f\u53e4\u3044\u3067\u3059\u3002\u4e00\u5fdcQiita\u306f\u5c65\u6b74\u3082\u3068\u3063\u3066\u304f\u308c\u308b\u306e\u3067\u3053\u306e\u8a18\u4e8b\u3092\u4e0a\u66f8\u304d\u3057\u3061\u3083\u3063\u3066\u3082\u3044\u3044\u3093\u3067\u3059\u304c\u3001\u305d\u3046\u306a\u308b\u3068\u30b3\u30e1\u30f3\u30c8\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u308f\u304b\u3089\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u5225\u8a18\u4e8b\u306b\u3057\u307e\u3057\u305f\u3002\u672c\u30a8\u30f3\u30c8\u30ea\u30fc\u3082\u8a18\u9332\u306e\u305f\u3081\u306b\u6b8b\u3057\u307e\u3059\u3002\n\nCache-Control\u30d8\u30c3\u30c0\u306f\u4ed5\u69d8\u901a\u308a\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\uff1f(2)\n\n\n\u672c\u7de8\nHTTP\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4ed5\u7d44\u307f\u3092\u3044\u308d\u3044\u308d\u8abf\u3079\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u3088\u304f\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u5b9f\u9a13\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\nHTTP \u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4f5c\u6210\n\n14.9 Cache-Control\n\n\u4e0a\u8a18\u306e\u30b5\u30a4\u30c8\u306e\u8aac\u660e\u306b\u3088\u308c\u3070\u3001no-cache\u3068must-revalidate\u306f\u975e\u5e38\u306b\u8fd1\u3044\u8aac\u660e\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002no-cache\u306fsubsequent request\u3068\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u3001.html\u304b\u3089\u547c\u3070\u308c\u308b.css\u3001.js\u3042\u305f\u308a\u306e\u3053\u3068\u307e\u3067(subsequent request)\u66f8\u3044\u3066\u3044\u308b\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\u3069\u3061\u3089\u3082\u3001\u30aa\u30ea\u30b8\u30f3\u30b5\u30fc\u30d0\u306b\u78ba\u8a8d\u3057\u306a\u3044\u3068\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3063\u3061\u3083\u30c0\u30e1\u3088\u3001\u3068\u3044\u3046\u3053\u3068\u304c\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u3069\u3061\u3089\u3082\u3001\u4e00\u5ea6\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u4f9d\u983c\u304c\u304f\u308b\u3068\u3001\n\n\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u3066\u3044\u308b\uff1f\n\n\n\u30ad\u30e3\u30c3\u30b7\u30e5\u6642\u306b\u30b5\u30fc\u30d0\u304b\u3089\u9001\u3089\u308c\u3066\u304d\u305fEtag\u30d8\u30c3\u30c0\u30fc\u306e\u5185\u5bb9\u3092\u3001If-None-Match\u30d8\u30c3\u30c0\u30fc\u306b\u3044\u308c\u3066\u30ea\u30af\u30a8\u30b9\u30c8\n304\u3060\u3063\u305f\u3089\u3001\u5909\u5316\u304c\u306a\u3044\u306e\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u8aad\u307f\u8fbc\u3093\u3067\u3001\u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u5b8c\u4e86\u3068\u3059\u308b\n304\u4ee5\u5916\u306a\u3089\u3001\u305d\u306e\u307e\u307e\u30dc\u30c7\u30a3\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u3063\u3066\u304f\u308b\u306f\u305a\n\n\n\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u3066\u3044\u306a\u3044\uff1f\n\n\n\u305d\u306e\u307e\u307e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30b5\u30fc\u30d0\u306b\u9001\u308b\n\n\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30d5\u30ed\u30fc\u306b\u306a\u3063\u3066\u3044\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u3001\u7d76\u5bfe\u306b\u540d\u524d\u9078\u629e\u30df\u30b9\u3060\u3068\u601d\u3046\u3093\u3067\u3059\u304c\u3001no-cache\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u306f\u884c\u3044\u307e\u3059\u3002\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u3057\u3066\u306f\u306a\u3089\u306a\u3044\u3001\u3068\u6307\u5b9a\u3059\u308b\u306b\u306f\"no-store\"\u3092Cache-Control\u30d8\u30c3\u30c0\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\nno-cache\nIf the no-cache directive does not specify a field-name, then a cache MUST NOT use the response to satisfy a subsequent request without successful revalidation with the origin server. This allows an origin server to prevent caching even by caches that have been configured to return stale responses to client requests. If the no-cache directive does specify one or more field-names, then a cache MAY use the response to satisfy a subsequent request, subject to any other restrictions on caching. However, the specified field-name(s) MUST NOT be sent in the response to a subsequent request without successful revalidation with the origin server. This allows an origin server to prevent the re-use of certain header fields in a response, while still allowing caching of the rest of the response.\n\nmust-revalidate\nBecause a cache MAY be configured to ignore a server's specified expiration time, and because a client request MAY include a max- stale directive (which has a similar effect), the protocol also includes a mechanism for the origin server to require revalidation of a cache entry on any subsequent use. When the must-revalidate directive is present in a response received by a cache, that cache MUST NOT use the entry after it becomes stale to respond to a subsequent request without first revalidating it with the origin server. (I.e., the cache MUST do an end-to-end revalidation every time, if, based solely on the origin server's Expires or max-age value, the cached response is stale.)\n\n\u5b9f\u9a13\u5185\u5bb9(1)\n\u30b3\u30fc\u30c9\u306f\u3053\u3061\u3089\u3067\u3059\u3002\nindex.html\u3068\u3001\u305d\u308c\u304b\u3089\u30ea\u30f3\u30af\u3055\u308c\u3066\u3044\u308btest.js\u3092\u8fd4\u3059\u30b5\u30fc\u30d0\u3067\u3059\u3002\u8d77\u52d5\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u3001\u4e0b\u8a18\u306e\u9805\u76ee\u306e\u7d44\u307f\u5408\u308f\u305b\u304c\u5909\u5316\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nindex.html\u306eEtag\u306e\u6709\u7121\ntest.js\u306eEtag\u306e\u6709\u7121\nindex.html\u306eCacheControl\u306e\u8a2d\u5b9a\u5024(\u4e0b\u8a18\u306e\u9805\u76ee\u306e\u3069\u308c\u304b)\nindex.html\u306eCacheControl\u306e\u8a2d\u5b9a\u5024(\u4e0b\u8a18\u306e\u9805\u76ee\u306e\u3069\u308c\u304b)\n\n\u7d44\u307f\u5408\u308f\u305b\u306f\u30012 x 2 x 4 x 4\u306764\u901a\u308a\u3042\u308a\u307e\u3059\u3002\n\"no-cache, max-age=5\",\n\"no-cache, max-age=0\",\n\"must-revalidate, max-age=5\",\n\"must-revalidate, max-age=0\",3. \n\n\u305d\u308c\u305e\u308c\u306e\u30b1\u30fc\u30b9\u3067\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u30af\u30ea\u30a2\u5f8c\u3001\u521d\u56de\u30ed\u30fc\u30c9\u3001\uff12\u56de\u3081\u30ed\u30fc\u30c9(\u6570\u79d2\u4ee5\u5185)\u3001\u6642\u9593\u3092\u958b\u3051\u30663\u56de\u76ee\u30ed\u30fc\u30c9\u3068\u3044\u3046\u4e09\u56de\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\u3067\u3001\u3053\u3061\u3089\u304c\u7d50\u679c\u306b\u306a\u308a\u307e\u3059\u3002\u4f7f\u3063\u3066\u3044\u308b\u30d6\u30e9\u30a6\u30b6\u306f\u3001\u4eca\u65e5\u73fe\u5728\u3067\u6700\u65b0\u306eSafari\u3001Chrome\u3001Firefox Developer Edition\u3067\u3059\u3002\u9762\u5012\u306b\u306a\u3063\u3066\u5168\u90e8\u306f\u3084\u3063\u3066\u307e\u305b\u3093\u304c\u30fb\u30fb\u30fb\n\u5b9f\u9a131\u306e\u7d50\u679c\u3068\u3057\u3066\u306f\n\nCache-Control\u304cno-cache, must-revalidate\u306e\u3069\u308c\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u3067\u7d50\u679c\u306f\u5909\u308f\u3089\u306a\u3044\nEtag\u304c\u30b5\u30fc\u30d0\u304b\u3089\u9001\u4ed8\u3055\u308c\u305f\u304b\u3069\u3046\u304b\u3060\u3051\u304c\u7d50\u679c\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u3066\u3044\u308b\nSafari\u306b\u95a2\u3057\u3066\u306f\u3001index.html\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u307e\u3063\u305f\u304f\u52b9\u304b\u306a\u3044\n\nCache-Control\u304c\u307e\u3063\u305f\u304f\u52b9\u3044\u3066\u306a\u3044\u305e\u30fb\u30fb\u30fb\u30fb\n\n\u5b9f\u9a13\u5185\u5bb9(2)\n\u30c6\u30b9\u30c8\u7528\u30b5\u30fc\u30d0\u306f\u307b\u307c\u540c\u3058\u3067\u3001\u6b21\u306f\u3001no-store\u3001max-age=86400\u3092Cache-Control\u306b\u8a2d\u5b9a\u3057\u3066\u307f\u3064\u3064\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u7d50\u8ad6\u3068\u3057\u3066\u306f\u3001\n\nno-store\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308c\u3070\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u306a\u3044(Etag\u304c\u3042\u3063\u3066\u3082\u7121\u8996\u3055\u308c\u308b)\nmax-age\u3067\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001\u66f4\u65b0\u78ba\u8a8d\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3082\u9001\u4fe1\u3055\u308c\u306a\u3044\u3068\u3055\u308c\u3066\u3044\u308b\u3051\u3069\u3001\u307e\u3063\u305f\u304f\u7121\u8996\u3055\u308c\u308b\u3002\n\n\u3068\u3044\u3046\u3082\u306e\u3067\u3057\u305f\u3002\n\n\u7d50\u8ad6\n\nCache-Control\u306f\u3001no-store\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3060\u3051\u304c\u554f\u984c\u3068\u3044\u3046\u30d6\u30e9\u30a6\u30b6\u5b9f\u88c5\u306b\u306a\u3063\u3066\u3044\u308b\u3063\u307d\u3044\u3002\u4ed6\u306e\u8981\u7d20\u306f\u4ed5\u69d8\u306b\u306f\u66f8\u304b\u308c\u3066\u3044\u308b\u3051\u3069\u3001\u307e\u3063\u305f\u304f\u52b9\u679c\u304c\u306a\u3044\u30ce\u30a4\u30ba\u306e\u3088\u3046\u306b\u898b\u3048\u3066\u3044\u308b\u306e\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\nno-store\u4ee5\u5916\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u3066\u4fdd\u5b58\u3057\u305f\u3044\u5834\u5408\u306b\u306f\u3001Etag\u30d8\u30c3\u30c0\u3082\u4e00\u7dd2\u306b\u6307\u5b9a\u3059\u308b\u3053\u3068(\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30d5\u30a1\u30a4\u30eb\u306e\u30cf\u30c3\u30b7\u30e5\u5024\u304c\u8868\u793a\u3082\u3055\u308c\u306a\u3044\u3057\u898b\u3048\u306a\u3044)\u3002\n\n\u306a\u3093\u304b\u304a\u304b\u3057\u3044\u6c17\u3082\u3059\u308b\u306e\u3067\u3001\u898b\u843d\u3068\u3057\u304c\u3042\u3063\u305f\u3089\u6307\u6458\u3057\u3066\u3082\u3089\u3048\u308b\u3068\u52a9\u304b\u308a\u307e\u3059\u3002\n\u6700\u521d\u306b\n============\n\n\u6b21\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3067\u8ffd\u8a66\u3057\u307e\u3057\u305f\u3002\u672c\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u5185\u5bb9\u306f\u53e4\u3044\u3067\u3059\u3002\u4e00\u5fdcQiita\u306f\u5c65\u6b74\u3082\u3068\u3063\u3066\u304f\u308c\u308b\u306e\u3067\u3053\u306e\u8a18\u4e8b\u3092\u4e0a\u66f8\u304d\u3057\u3061\u3083\u3063\u3066\u3082\u3044\u3044\u3093\u3067\u3059\u304c\u3001\u305d\u3046\u306a\u308b\u3068\u30b3\u30e1\u30f3\u30c8\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u308f\u304b\u3089\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u5225\u8a18\u4e8b\u306b\u3057\u307e\u3057\u305f\u3002\u672c\u30a8\u30f3\u30c8\u30ea\u30fc\u3082\u8a18\u9332\u306e\u305f\u3081\u306b\u6b8b\u3057\u307e\u3059\u3002\n\n* [Cache-Control\u30d8\u30c3\u30c0\u306f\u4ed5\u69d8\u901a\u308a\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\uff1f(2)](http://qiita.com/shibukawa/items/85fca33a96704737c075)\n\n\u672c\u7de8\n======\n\nHTTP\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4ed5\u7d44\u307f\u3092\u3044\u308d\u3044\u308d\u8abf\u3079\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u3088\u304f\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u5b9f\u9a13\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n* [HTTP \u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4f5c\u6210\n](https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching?hl=ja)\n* [14.9 Cache-Control](https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html)\n\n\u4e0a\u8a18\u306e\u30b5\u30a4\u30c8\u306e\u8aac\u660e\u306b\u3088\u308c\u3070\u3001no-cache\u3068must-revalidate\u306f\u975e\u5e38\u306b\u8fd1\u3044\u8aac\u660e\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002no-cache\u306fsubsequent request\u3068\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u3001.html\u304b\u3089\u547c\u3070\u308c\u308b.css\u3001.js\u3042\u305f\u308a\u306e\u3053\u3068\u307e\u3067(subsequent request)\u66f8\u3044\u3066\u3044\u308b\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n\u3069\u3061\u3089\u3082\u3001\u30aa\u30ea\u30b8\u30f3\u30b5\u30fc\u30d0\u306b\u78ba\u8a8d\u3057\u306a\u3044\u3068\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3063\u3061\u3083\u30c0\u30e1\u3088\u3001\u3068\u3044\u3046\u3053\u3068\u304c\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u3069\u3061\u3089\u3082\u3001\u4e00\u5ea6\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u4f9d\u983c\u304c\u304f\u308b\u3068\u3001\n\n* \u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u3066\u3044\u308b\uff1f\n    * \u30ad\u30e3\u30c3\u30b7\u30e5\u6642\u306b\u30b5\u30fc\u30d0\u304b\u3089\u9001\u3089\u308c\u3066\u304d\u305fEtag\u30d8\u30c3\u30c0\u30fc\u306e\u5185\u5bb9\u3092\u3001If-None-Match\u30d8\u30c3\u30c0\u30fc\u306b\u3044\u308c\u3066\u30ea\u30af\u30a8\u30b9\u30c8\n    * 304\u3060\u3063\u305f\u3089\u3001\u5909\u5316\u304c\u306a\u3044\u306e\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u8aad\u307f\u8fbc\u3093\u3067\u3001\u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u5b8c\u4e86\u3068\u3059\u308b\n    * 304\u4ee5\u5916\u306a\u3089\u3001\u305d\u306e\u307e\u307e\u30dc\u30c7\u30a3\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u3063\u3066\u304f\u308b\u306f\u305a\n* \u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u3066\u3044\u306a\u3044\uff1f\n    * \u305d\u306e\u307e\u307e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30b5\u30fc\u30d0\u306b\u9001\u308b\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30d5\u30ed\u30fc\u306b\u306a\u3063\u3066\u3044\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u3001\u7d76\u5bfe\u306b\u540d\u524d\u9078\u629e\u30df\u30b9\u3060\u3068\u601d\u3046\u3093\u3067\u3059\u304c\u3001no-cache\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u306f\u884c\u3044\u307e\u3059\u3002\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u3057\u3066\u306f\u306a\u3089\u306a\u3044\u3001\u3068\u6307\u5b9a\u3059\u308b\u306b\u306f\"no-store\"\u3092Cache-Control\u30d8\u30c3\u30c0\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n## no-cache\n\nIf the no-cache directive does not specify a field-name, then a cache MUST NOT use the response to satisfy a subsequent request without successful revalidation with the origin server. This allows an origin server to prevent caching even by caches that have been configured to return stale responses to client requests. If the no-cache directive does specify one or more field-names, then a cache MAY use the response to satisfy a subsequent request, subject to any other restrictions on caching. However, the specified field-name(s) MUST NOT be sent in the response to a subsequent request without successful revalidation with the origin server. This allows an origin server to prevent the re-use of certain header fields in a response, while still allowing caching of the rest of the response.\n\n## must-revalidate\n\nBecause a cache MAY be configured to ignore a server's specified expiration time, and because a client request MAY include a max- stale directive (which has a similar effect), the protocol also includes a mechanism for the origin server to require revalidation of a cache entry on any subsequent use. When the must-revalidate directive is present in a response received by a cache, that cache MUST NOT use the entry after it becomes stale to respond to a subsequent request without first revalidating it with the origin server. (I.e., the cache MUST do an end-to-end revalidation every time, if, based solely on the origin server's Expires or max-age value, the cached response is stale.)\n\n\u5b9f\u9a13\u5185\u5bb9(1)\n------------\n\n\u30b3\u30fc\u30c9\u306f[\u3053\u3061\u3089](https://gist.github.com/shibukawa/f04f70655017d22060153baff37a7c5f)\u3067\u3059\u3002\n\nindex.html\u3068\u3001\u305d\u308c\u304b\u3089\u30ea\u30f3\u30af\u3055\u308c\u3066\u3044\u308btest.js\u3092\u8fd4\u3059\u30b5\u30fc\u30d0\u3067\u3059\u3002\u8d77\u52d5\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u3001\u4e0b\u8a18\u306e\u9805\u76ee\u306e\u7d44\u307f\u5408\u308f\u305b\u304c\u5909\u5316\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n1. index.html\u306eEtag\u306e\u6709\u7121\n2. test.js\u306eEtag\u306e\u6709\u7121\n3. index.html\u306eCacheControl\u306e\u8a2d\u5b9a\u5024(\u4e0b\u8a18\u306e\u9805\u76ee\u306e\u3069\u308c\u304b)\n4. index.html\u306eCacheControl\u306e\u8a2d\u5b9a\u5024(\u4e0b\u8a18\u306e\u9805\u76ee\u306e\u3069\u308c\u304b)\n\n\u7d44\u307f\u5408\u308f\u305b\u306f\u30012 x 2 x 4 x 4\u306764\u901a\u308a\u3042\u308a\u307e\u3059\u3002\n\n\t\"no-cache, max-age=5\",\n\t\"no-cache, max-age=0\",\n\t\"must-revalidate, max-age=5\",\n\t\"must-revalidate, max-age=0\",3. \n\n\u305d\u308c\u305e\u308c\u306e\u30b1\u30fc\u30b9\u3067\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u30af\u30ea\u30a2\u5f8c\u3001\u521d\u56de\u30ed\u30fc\u30c9\u3001\uff12\u56de\u3081\u30ed\u30fc\u30c9(\u6570\u79d2\u4ee5\u5185)\u3001\u6642\u9593\u3092\u958b\u3051\u30663\u56de\u76ee\u30ed\u30fc\u30c9\u3068\u3044\u3046\u4e09\u56de\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3067\u3001[\u3053\u3061\u3089](https://docs.google.com/spreadsheets/d/1OKP96mf-Du3JrlODubhKI83y-ph1seDK-JKZp675O7g/edit#gid=0)\u304c\u7d50\u679c\u306b\u306a\u308a\u307e\u3059\u3002\u4f7f\u3063\u3066\u3044\u308b\u30d6\u30e9\u30a6\u30b6\u306f\u3001\u4eca\u65e5\u73fe\u5728\u3067\u6700\u65b0\u306eSafari\u3001Chrome\u3001Firefox Developer Edition\u3067\u3059\u3002\u9762\u5012\u306b\u306a\u3063\u3066\u5168\u90e8\u306f\u3084\u3063\u3066\u307e\u305b\u3093\u304c\u30fb\u30fb\u30fb\n\n\u5b9f\u9a131\u306e\u7d50\u679c\u3068\u3057\u3066\u306f\n\n* Cache-Control\u304cno-cache, must-revalidate\u306e\u3069\u308c\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u3067\u7d50\u679c\u306f\u5909\u308f\u3089\u306a\u3044\n* Etag\u304c\u30b5\u30fc\u30d0\u304b\u3089\u9001\u4ed8\u3055\u308c\u305f\u304b\u3069\u3046\u304b\u3060\u3051\u304c\u7d50\u679c\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u3066\u3044\u308b\n* Safari\u306b\u95a2\u3057\u3066\u306f\u3001index.html\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u307e\u3063\u305f\u304f\u52b9\u304b\u306a\u3044\n\nCache-Control\u304c\u307e\u3063\u305f\u304f\u52b9\u3044\u3066\u306a\u3044\u305e\u30fb\u30fb\u30fb\u30fb\n\n\u5b9f\u9a13\u5185\u5bb9(2)\n----------------\n\n\u30c6\u30b9\u30c8\u7528\u30b5\u30fc\u30d0\u306f\u307b\u307c\u540c\u3058\u3067\u3001\u6b21\u306f\u3001no-store\u3001max-age=86400\u3092Cache-Control\u306b\u8a2d\u5b9a\u3057\u3066\u307f\u3064\u3064\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u7d50\u8ad6\u3068\u3057\u3066\u306f\u3001\n\n* no-store\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308c\u3070\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u306a\u3044(Etag\u304c\u3042\u3063\u3066\u3082\u7121\u8996\u3055\u308c\u308b)\n* max-age\u3067\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001\u66f4\u65b0\u78ba\u8a8d\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3082\u9001\u4fe1\u3055\u308c\u306a\u3044\u3068\u3055\u308c\u3066\u3044\u308b\u3051\u3069\u3001\u307e\u3063\u305f\u304f\u7121\u8996\u3055\u308c\u308b\u3002\n\n\u3068\u3044\u3046\u3082\u306e\u3067\u3057\u305f\u3002\n\n\u7d50\u8ad6\n----------\n\n* Cache-Control\u306f\u3001no-store\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3060\u3051\u304c\u554f\u984c\u3068\u3044\u3046\u30d6\u30e9\u30a6\u30b6\u5b9f\u88c5\u306b\u306a\u3063\u3066\u3044\u308b\u3063\u307d\u3044\u3002\u4ed6\u306e\u8981\u7d20\u306f\u4ed5\u69d8\u306b\u306f\u66f8\u304b\u308c\u3066\u3044\u308b\u3051\u3069\u3001\u307e\u3063\u305f\u304f\u52b9\u679c\u304c\u306a\u3044\u30ce\u30a4\u30ba\u306e\u3088\u3046\u306b\u898b\u3048\u3066\u3044\u308b\u306e\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n* no-store\u4ee5\u5916\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u3066\u4fdd\u5b58\u3057\u305f\u3044\u5834\u5408\u306b\u306f\u3001Etag\u30d8\u30c3\u30c0\u3082\u4e00\u7dd2\u306b\u6307\u5b9a\u3059\u308b\u3053\u3068(\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30d5\u30a1\u30a4\u30eb\u306e\u30cf\u30c3\u30b7\u30e5\u5024\u304c\u8868\u793a\u3082\u3055\u308c\u306a\u3044\u3057\u898b\u3048\u306a\u3044)\u3002\n\n\u306a\u3093\u304b\u304a\u304b\u3057\u3044\u6c17\u3082\u3059\u308b\u306e\u3067\u3001\u898b\u843d\u3068\u3057\u304c\u3042\u3063\u305f\u3089\u6307\u6458\u3057\u3066\u3082\u3089\u3048\u308b\u3068\u52a9\u304b\u308a\u307e\u3059\u3002\n", "tags": ["HTTP"]}