{"context": " More than 1 year has passed since last update.\n\u74b0\u5883\u4f9d\u5b58\u306e\u8a2d\u5b9a\u3092\u66f8\u304fini\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3059\u308b\u65b9\u6cd5\u3092\u8abf\u3079\u305f\u306e\u3067\u30e1\u30e2\u3002\npython\u306f\u6a19\u6e96\u3067\u5b9a\u6570\u5b9a\u7fa9\u3092\u3059\u308b\u6a5f\u80fd\u304c\u7121\u3044\u306e\u3067\u73fe\u5728ini\u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u6570\u3092\u66f8\u3044\u305f\u308a\u3057\u3066\u307e\u3059\u3002\n\u74b0\u5883\u3054\u3068\u306bini\u30d5\u30a1\u30a4\u30eb\u306f\u4f5c\u308b\u306e\u3067\u540c\u3058\u5185\u5bb9\u3092\u8907\u6570\u306b\u8a18\u8ff0\u3057\u3066\u3057\u307e\u3063\u3066\u3044\u3066\u7ba1\u7406\u304c\u7169\u96d1\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u5171\u901a\u306eini\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u5404\u74b0\u5883ini\u30d5\u30a1\u30a4\u30eb\u306b\u8aad\u307f\u8fbc\u307e\u305b\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\ndevelopment.ini,production.ini\u306e\u4ed6\u306bcommon.ini\u3092\u7528\u610f\u3059\u308b\u3002\n#common.ini\n[common]\nname = \u5c71\u7530\u592a\u90ce\ntel = 03-xxxx-xxxx\n\ndevelopment.ini,production.ini\u306e\u74b0\u5883\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066common.ini\u306e\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u3092\u5b9a\u7fa9\u3002(\u540c\u3058\u968e\u5c64\u306b\u304a\u3044\u3066\u308b\u5834\u5408)\ncommon.path = %(here)s/common.ini\n\n\u30a2\u30d7\u30ea\u306e\u8d77\u52d5\u8a2d\u5b9a\u304c\u66f8\u304b\u308c\u3066\u3044\u308b _ini_.py\u3067common.ini\u3092\u8aad\u307f\u8fbc\u307e\u305b\u308b\u95a2\u6570\u3092\u4f5c\u6210\u3002\ndef common_ini(settings):\n    import os\n    from ConfigParser import SafeConfigParser\n    ini = settings.get(\"common.path\")\n    if ini is None:\n        return\n    if not os.path.exists(ini) and os.path.isfile(ini):\n        raise ConfigurationError(\"ini is not found\")\n\n    conf = SafeConfigParser()\n    conf.read(ini)\n    return dict(conf.items('common'))\n\n\u4e0a\u8a18\u95a2\u6570\u3092main\u95a2\u6570\u3067config.add_settings\u3059\u308b\u3002\ndef main(global_config, **settings):\n    \"\"\" This function returns a WSGI application.\n    from pyramid.config import Configurator\n    config = Configurator(settings=settings)\n    config.add_settings(common_ini(settings))\n\n\u3053\u308c\u3067\u5404\u74b0\u5883ini\u30d5\u30a1\u30a4\u30eb\u306e\u307b\u304b\u306b\u5171\u901aini\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3067\u8aad\u307f\u8fbc\u307e\u305b\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n<img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/s/sjisjis/20140213/20140213233620.png\">\n\n\n\u74b0\u5883\u4f9d\u5b58\u306e\u8a2d\u5b9a\u3092\u66f8\u304fini\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3059\u308b\u65b9\u6cd5\u3092\u8abf\u3079\u305f\u306e\u3067\u30e1\u30e2\u3002\n\npython\u306f\u6a19\u6e96\u3067\u5b9a\u6570\u5b9a\u7fa9\u3092\u3059\u308b\u6a5f\u80fd\u304c\u7121\u3044\u306e\u3067\u73fe\u5728ini\u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u6570\u3092\u66f8\u3044\u305f\u308a\u3057\u3066\u307e\u3059\u3002  \n\u74b0\u5883\u3054\u3068\u306bini\u30d5\u30a1\u30a4\u30eb\u306f\u4f5c\u308b\u306e\u3067\u540c\u3058\u5185\u5bb9\u3092\u8907\u6570\u306b\u8a18\u8ff0\u3057\u3066\u3057\u307e\u3063\u3066\u3044\u3066\u7ba1\u7406\u304c\u7169\u96d1\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u5171\u901a\u306eini\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u5404\u74b0\u5883ini\u30d5\u30a1\u30a4\u30eb\u306b\u8aad\u307f\u8fbc\u307e\u305b\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\ndevelopment.ini,production.ini\u306e\u4ed6\u306bcommon.ini\u3092\u7528\u610f\u3059\u308b\u3002\n\n    #common.ini\n    [common]\n    name = \u5c71\u7530\u592a\u90ce\n    tel = 03-xxxx-xxxx\n\ndevelopment.ini,production.ini\u306e\u74b0\u5883\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066common.ini\u306e\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u3092\u5b9a\u7fa9\u3002(\u540c\u3058\u968e\u5c64\u306b\u304a\u3044\u3066\u308b\u5834\u5408)\n\n    common.path = %(here)s/common.ini\n\n\n\u30a2\u30d7\u30ea\u306e\u8d77\u52d5\u8a2d\u5b9a\u304c\u66f8\u304b\u308c\u3066\u3044\u308b \\__ini__.py\u3067common.ini\u3092\u8aad\u307f\u8fbc\u307e\u305b\u308b\u95a2\u6570\u3092\u4f5c\u6210\u3002\n\n\n    def common_ini(settings):\n        import os\n        from ConfigParser import SafeConfigParser\n        ini = settings.get(\"common.path\")\n        if ini is None:\n            return\n        if not os.path.exists(ini) and os.path.isfile(ini):\n            raise ConfigurationError(\"ini is not found\")\n\n        conf = SafeConfigParser()\n        conf.read(ini)\n        return dict(conf.items('common'))\n\n\n\u4e0a\u8a18\u95a2\u6570\u3092main\u95a2\u6570\u3067config.add_settings\u3059\u308b\u3002\n\n    def main(global_config, **settings):\n        \"\"\" This function returns a WSGI application.\n        from pyramid.config import Configurator\n        config = Configurator(settings=settings)\n        config.add_settings(common_ini(settings))\n\n\u3053\u308c\u3067\u5404\u74b0\u5883ini\u30d5\u30a1\u30a4\u30eb\u306e\u307b\u304b\u306b\u5171\u901aini\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3067\u8aad\u307f\u8fbc\u307e\u305b\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n", "tags": ["Python", "pyramid"]}