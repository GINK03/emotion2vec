{"tags": ["slim"], "context": " More than 1 year has passed since last update.PHP\u306e\u307b\u3046\u306eslim\u306e\u8a71\u3067\u3059\nhttp://www.slimframework.com\nCakePHP\u306e\u3088\u3046\u306b\u3001\u5165\u529b\u9805\u76ee\u306b\u30a8\u30e9\u30fc\u304c\u3042\u3063\u305f\u3089\u305d\u306e\u9805\u76ee\u3092\u8d64\u304f\u5909\u66f4\u3057\u3001\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3059\u3002\n\nslim\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nphp composer.phar require slim/slim\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u66f8\u304f\n\nindex.php\n<?php\nrequire 'vendor/autoload.php';\nsession_start();\n\n$app = new \\Slim\\Slim(array(\n    'debug' => true,\n));\n\n$app->get('/form', function () use ($app) {\n    echo $app->render('form.php', array(\n        'errors' => isset($_SESSION['errors']) ? $_SESSION['errors'] : array(),\n        'params' => isset($_SESSION['params']) ? $_SESSION['params'] : array(),\n    ));\n    unset($_SESSION['params']);\n    unset($_SESSION['errors']);\n});\n\n$app->post('/commit', function () use ($app) {\n    $params = $app->request->post();\n    $errors = array();\n    if ($params['title'] === '') {\n        $errors['title'] = '\u30bf\u30a4\u30c8\u30eb\u304c\u7a7a\u3067\u3059';\n    }\n    if (preg_match(\"/^\\d+$/\", $params['number']) == false) {\n        $errors['number'] = '\u4fa1\u683c\u306b\u306f\u6570\u5024\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044';\n    }\n    if (count($errors) > 0) {\n        $_SESSION['params'] = $params;\n        $_SESSION['errors'] = $errors;\n        $app->flash('error', '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059');\n        $app->response()->redirect('/form');\n        $app->stop();\n    } else {\n        // \u30a8\u30e9\u30fc\u304c\u306a\u304b\u3063\u305f\u6642\u306e\u51e6\u7406\u3092\u3053\u3053\u306b\u66f8\u304f\n    }\n});\n\n$app->run();\n\n\n\ntemplates/form.php\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <link rel=\"stylesheet\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css\">\n    <link rel=\"stylesheet\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css\">\n    <link rel=\"stylesheet\" href=\"//code.jquery.com/ui/1.11.3/themes/smoothness/jquery-ui.css\">\n    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->\n    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->\n    <!--[if lt IE 9]>\n      <script src=\"//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js\"></script>\n      <script src=\"//oss.maxcdn.com/respond/1.4.2/respond.min.js\"></script>\n    <![endif]-->\n    <script src=\"//code.jquery.com/jquery-1.10.2.js\"></script>\n    <script src=\"//code.jquery.com/ui/1.11.3/jquery-ui.js\"></script>\n    <script src=\"//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js\"></script>\n    <title>slim</title>\n  </head>\n  <body>\n    <div class=\"container theme-showcase\" role=\"main\">\n\n<?php if (isset($flash['error'])): ?>\n    <div class=\"alert alert-danger\"><?= $flash['error'] ?></div>\n<?php endif; ?>\n<form method=\"post\" action=\"commit\">\n    <div class=\"form-group <?php if (isset($errors['title'])): ?>has-error<?php endif; ?>\">\n        <label class=\"control-label\" for=\"title\">\u30bf\u30a4\u30c8\u30eb</label>\n        <input type=\"text\" name=\"title\" class=\"form-control\" id=\"title\" value=\"<?php if (isset($params['title'])) { echo $params['title']; } ?>\" />\n        <?php if(isset($errors['title'])): ?>\n            <div class=\"text-danger\"><?= $errors['title'] ?></div>\n        <?php endif; ?>\n    </div>\n\n    <div class=\"form-group <?php if (isset($errors['number'])): ?>has-error<?php endif; ?>\">\n        <label class=\"control-label\" for=\"number\">\u6570\u5024</label>\n        <input type=\"text\" name=\"number\" class=\"form-control\" id=\"number\" value=\"<?php if (isset($params['number'])) { echo $params['number']; } ?>\" />\n        <?php if(isset($errors['number'])): ?>\n            <div class=\"text-danger\"><?= $errors['number'] ?></div>\n        <?php endif; ?>\n    </div>\n\n    <button type=\"submit\" class=\"btn btn-primary btn-lg\">\u767b\u9332</button>\n\n</form>\n\n    </div>\n\n  </body>\n</html>\n\n\n\n\u305d\u308c\u3063\u307d\u304f\u306a\u308a\u307e\u3057\u305f\nPHP\u306e\u307b\u3046\u306eslim\u306e\u8a71\u3067\u3059\nhttp://www.slimframework.com\n\nCakePHP\u306e\u3088\u3046\u306b\u3001\u5165\u529b\u9805\u76ee\u306b\u30a8\u30e9\u30fc\u304c\u3042\u3063\u305f\u3089\u305d\u306e\u9805\u76ee\u3092\u8d64\u304f\u5909\u66f4\u3057\u3001\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3059\u3002\n\n# slim\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\nphp composer.phar require slim/slim\n```\n\n# \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u66f8\u304f\n\n```php:index.php\n<?php\nrequire 'vendor/autoload.php';\nsession_start();\n\n$app = new \\Slim\\Slim(array(\n    'debug' => true,\n));\n\n$app->get('/form', function () use ($app) {\n    echo $app->render('form.php', array(\n        'errors' => isset($_SESSION['errors']) ? $_SESSION['errors'] : array(),\n        'params' => isset($_SESSION['params']) ? $_SESSION['params'] : array(),\n    ));\n    unset($_SESSION['params']);\n    unset($_SESSION['errors']);\n});\n\n$app->post('/commit', function () use ($app) {\n    $params = $app->request->post();\n    $errors = array();\n    if ($params['title'] === '') {\n        $errors['title'] = '\u30bf\u30a4\u30c8\u30eb\u304c\u7a7a\u3067\u3059';\n    }\n    if (preg_match(\"/^\\d+$/\", $params['number']) == false) {\n        $errors['number'] = '\u4fa1\u683c\u306b\u306f\u6570\u5024\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044';\n    }\n    if (count($errors) > 0) {\n        $_SESSION['params'] = $params;\n        $_SESSION['errors'] = $errors;\n        $app->flash('error', '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059');\n        $app->response()->redirect('/form');\n        $app->stop();\n    } else {\n        // \u30a8\u30e9\u30fc\u304c\u306a\u304b\u3063\u305f\u6642\u306e\u51e6\u7406\u3092\u3053\u3053\u306b\u66f8\u304f\n    }\n});\n\n$app->run();\n```\n\n```html+php:templates/form.php\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <link rel=\"stylesheet\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css\">\n    <link rel=\"stylesheet\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css\">\n    <link rel=\"stylesheet\" href=\"//code.jquery.com/ui/1.11.3/themes/smoothness/jquery-ui.css\">\n    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->\n    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->\n    <!--[if lt IE 9]>\n      <script src=\"//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js\"></script>\n      <script src=\"//oss.maxcdn.com/respond/1.4.2/respond.min.js\"></script>\n    <![endif]-->\n    <script src=\"//code.jquery.com/jquery-1.10.2.js\"></script>\n    <script src=\"//code.jquery.com/ui/1.11.3/jquery-ui.js\"></script>\n    <script src=\"//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js\"></script>\n    <title>slim</title>\n  </head>\n  <body>\n    <div class=\"container theme-showcase\" role=\"main\">\n\n<?php if (isset($flash['error'])): ?>\n    <div class=\"alert alert-danger\"><?= $flash['error'] ?></div>\n<?php endif; ?>\n<form method=\"post\" action=\"commit\">\n    <div class=\"form-group <?php if (isset($errors['title'])): ?>has-error<?php endif; ?>\">\n        <label class=\"control-label\" for=\"title\">\u30bf\u30a4\u30c8\u30eb</label>\n        <input type=\"text\" name=\"title\" class=\"form-control\" id=\"title\" value=\"<?php if (isset($params['title'])) { echo $params['title']; } ?>\" />\n        <?php if(isset($errors['title'])): ?>\n            <div class=\"text-danger\"><?= $errors['title'] ?></div>\n        <?php endif; ?>\n    </div>\n\n    <div class=\"form-group <?php if (isset($errors['number'])): ?>has-error<?php endif; ?>\">\n        <label class=\"control-label\" for=\"number\">\u6570\u5024</label>\n        <input type=\"text\" name=\"number\" class=\"form-control\" id=\"number\" value=\"<?php if (isset($params['number'])) { echo $params['number']; } ?>\" />\n        <?php if(isset($errors['number'])): ?>\n            <div class=\"text-danger\"><?= $errors['number'] ?></div>\n        <?php endif; ?>\n    </div>\n\n    <button type=\"submit\" class=\"btn btn-primary btn-lg\">\u767b\u9332</button>\n\n</form>\n\n    </div>\n\n  </body>\n</html>\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-04-17 14.13.33.png](https://qiita-image-store.s3.amazonaws.com/0/75486/dafd3c87-fd0a-5f70-54bb-0bfee66b45e3.png)\n\n\u305d\u308c\u3063\u307d\u304f\u306a\u308a\u307e\u3057\u305f\n"}