{"tags": ["TravisCI", "casperJs"], "context": " More than 1 year has passed since last update.\u30ed\u30fc\u30ab\u30eb\u3067\u306f npm \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ npm install -g casperjs\n$ casperjs --version\n1.1.0-beta3\n\n\u3059\u3067\u306bTravisCI\u904b\u7528\u3057\u3066\u3044\u308b git\u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u3042\u308b\u524d\u63d0\u3067\u7c21\u5358\u306a\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u307f\u308b\n\u4ee5\u4e0b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u5143\u30cd\u30bf\u306f WEB+DB PRESS Vol.80 \u306b\u3042\u3063\u305f CasperJS \u306e\u7d39\u4ecb\u8a18\u4e8b\n\ntests/hoge_test.coffee\ncasper.test.begin \"\u307b\u3052\u3067Google\u691c\u7d22\", 8, (test) ->\n  casper.start 'https://google.com', ->\n    test.comment \"Google\u30c8\u30c3\u30d7\u30da\u30fc\u30b8: \" + @getCurrentUrl()\n\n    test.assertHttpStatus 200\n    test.assertTitleMatch /^Google$/\n    test.assertExists 'form[action=\"/search\"]', '\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u304c\u3042\u308b'\n\n    @fill 'form[action=\"/search\"]', q:'\u307b\u3052', true\n\n  casper.then ->\n    test.comment \"\u691c\u7d22\u7d50\u679c: \" + @getCurrentUrl()\n\n    test.assertHttpStatus 200\n    test.assertSelectorHasText 'title', '\u307b\u3052'\n    test.assertSelectorHasText 'h3.r a', '\u307b\u3052', '\u307b\u3052\u306e\u30ea\u30f3\u30af\u3092\u542b\u3093\u3067\u3044\u308b'\n\n    @click 'h3.r a'\n\n  casper.then ->\n    test.comment \"\u6700\u4e0a\u4f4d\u306e\u691c\u7d22\u7d50\u679c\u3092\u30af\u30ea\u30c3\u30af: \" + @getCurrentUrl()\n\n    test.assertHttpStatus 200\n    test.assertSelectorHasText 'title', '\u307b\u3052'\n\n  casper.run ->\n    test.done()\n\n\nhttp://docs.travis-ci.com/user/installing-dependencies/#Installing-Projects-from-Source\n\u306bcasperjs\u306e\u8a18\u8ff0\u3042\u3063\u305f\u306e\u3067\u30ed\u30fc\u30ab\u30eb\u3067\u5165\u308c\u305fcasperjs\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u5408\u308f\u305b\u305f\u3044\u306e\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u8a18\u8ff0\u3060\u3051\u5909\u3048\u3066 travis.yml \u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\n\ntravis.yml\n\nbefore_script:\n  - wget https://github.com/n1k0/casperjs/archive/1.1-beta3.tar.gz -O /tmp/casper.tar.gz\n  - tar -xvf /tmp/casper.tar.gz\n  - export PATH=$PATH:$PWD/casperjs-1.1-beta3/bin/\nscript\n  - casperjs test tests/hoge_test.coffee\n\n\ngit push \u3057\u3066 TravisCI \u3067\u30b8\u30e7\u30d6\u304c\u5b9f\u884c\u3055\u308c\u308b\u306e\u3092\u5f85\u3064\n\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306a\u611f\u3058\u3067\u5931\u6557\u3057\u3066\u3044\u307e\u3059\u306d\u3002\nTest file: tests/hoge_test.coffee\n# \u307b\u3052\u3067Google\u691c\u7d22\n# Google\u30c8\u30c3\u30d7\u30da\u30fc\u30b8: https://www.google.co.jp/?gfe_rd=cr&ei=O55QVLjkN8_U8gfk8YHwBw\nPASS HTTP status code is: 200\nPASS Subject is strictly true\nPASS \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u304c\u3042\u308b\n# \u691c\u7d22\u7d50\u679c: https://www.google.co.jp/search?hl=ja&source=hp&q=\u307b\u3052&gbv=2&oq=&gs_l=\nPASS HTTP status code is: 200\nPASS Find \"\u307b\u3052\" within the selector \"title\"\nPASS \u307b\u3052\u306e\u30ea\u30f3\u30af\u3092\u542b\u3093\u3067\u3044\u308b\n# \u6700\u4e0a\u4f4d\u306e\u691c\u7d22\u7d50\u679c\u3092\u30af\u30ea\u30c3\u30af: http://ja.wikipedia.org/wiki/\u30e1\u30bf\u69cb\u6587\u5909\u6570\nPASS HTTP status code is: 200\nFAIL Find \"\u307b\u3052\" within the selector \"title\"\n#    type: assertSelectorHasText\n#    file: tests/hoge_test.coffee:23\n#    code: test.assertHttpStatus 200\n#    subject: false\n#    selector: \"title\"\n#    text: \"\u307b\u3052\"\n#    actualContent: \"\u30e1\u30bf\u69cb\u6587\u5909\u6570 - Wikipedia\"\nFAIL 8 tests executed in 4.057s, 7 passed, 1 failed, 0 dubious, 0 skipped.\n\nDetails for the 1 failed test:\n\nIn tests/hoge_test.coffee:23\n  \u307b\u3052\u3067Google\u691c\u7d22\n    assertSelectorHasText: Find \"\u307b\u3052\" within the selector \"title\"\n\n\u30ed\u30fc\u30ab\u30eb\u3067\u306f npm \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ npm install -g casperjs\n$ casperjs --version\n1.1.0-beta3\n```\n\n\u3059\u3067\u306bTravisCI\u904b\u7528\u3057\u3066\u3044\u308b git\u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u3042\u308b\u524d\u63d0\u3067\u7c21\u5358\u306a\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u307f\u308b\n\u4ee5\u4e0b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306e\u5143\u30cd\u30bf\u306f WEB+DB PRESS Vol.80 \u306b\u3042\u3063\u305f CasperJS \u306e\u7d39\u4ecb\u8a18\u4e8b\n\n```tests/hoge_test.coffee\ncasper.test.begin \"\u307b\u3052\u3067Google\u691c\u7d22\", 8, (test) ->\n  casper.start 'https://google.com', ->\n    test.comment \"Google\u30c8\u30c3\u30d7\u30da\u30fc\u30b8: \" + @getCurrentUrl()\n\n    test.assertHttpStatus 200\n    test.assertTitleMatch /^Google$/\n    test.assertExists 'form[action=\"/search\"]', '\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u304c\u3042\u308b'\n\n    @fill 'form[action=\"/search\"]', q:'\u307b\u3052', true\n\n  casper.then ->\n    test.comment \"\u691c\u7d22\u7d50\u679c: \" + @getCurrentUrl()\n\n    test.assertHttpStatus 200\n    test.assertSelectorHasText 'title', '\u307b\u3052'\n    test.assertSelectorHasText 'h3.r a', '\u307b\u3052', '\u307b\u3052\u306e\u30ea\u30f3\u30af\u3092\u542b\u3093\u3067\u3044\u308b'\n\n    @click 'h3.r a'\n\n  casper.then ->\n    test.comment \"\u6700\u4e0a\u4f4d\u306e\u691c\u7d22\u7d50\u679c\u3092\u30af\u30ea\u30c3\u30af: \" + @getCurrentUrl()\n\n    test.assertHttpStatus 200\n    test.assertSelectorHasText 'title', '\u307b\u3052'\n\n  casper.run ->\n    test.done()\n```\n\nhttp://docs.travis-ci.com/user/installing-dependencies/#Installing-Projects-from-Source\n\u306bcasperjs\u306e\u8a18\u8ff0\u3042\u3063\u305f\u306e\u3067\u30ed\u30fc\u30ab\u30eb\u3067\u5165\u308c\u305fcasperjs\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u5408\u308f\u305b\u305f\u3044\u306e\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u8a18\u8ff0\u3060\u3051\u5909\u3048\u3066 travis.yml \u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\n\n```.travis.yml\n\nbefore_script:\n  - wget https://github.com/n1k0/casperjs/archive/1.1-beta3.tar.gz -O /tmp/casper.tar.gz\n  - tar -xvf /tmp/casper.tar.gz\n  - export PATH=$PATH:$PWD/casperjs-1.1-beta3/bin/\nscript\n  - casperjs test tests/hoge_test.coffee\n```\n\ngit push \u3057\u3066 TravisCI \u3067\u30b8\u30e7\u30d6\u304c\u5b9f\u884c\u3055\u308c\u308b\u306e\u3092\u5f85\u3064\n\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306a\u611f\u3058\u3067\u5931\u6557\u3057\u3066\u3044\u307e\u3059\u306d\u3002\n\n```\nTest file: tests/hoge_test.coffee\n# \u307b\u3052\u3067Google\u691c\u7d22\n# Google\u30c8\u30c3\u30d7\u30da\u30fc\u30b8: https://www.google.co.jp/?gfe_rd=cr&ei=O55QVLjkN8_U8gfk8YHwBw\nPASS HTTP status code is: 200\nPASS Subject is strictly true\nPASS \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u304c\u3042\u308b\n# \u691c\u7d22\u7d50\u679c: https://www.google.co.jp/search?hl=ja&source=hp&q=\u307b\u3052&gbv=2&oq=&gs_l=\nPASS HTTP status code is: 200\nPASS Find \"\u307b\u3052\" within the selector \"title\"\nPASS \u307b\u3052\u306e\u30ea\u30f3\u30af\u3092\u542b\u3093\u3067\u3044\u308b\n# \u6700\u4e0a\u4f4d\u306e\u691c\u7d22\u7d50\u679c\u3092\u30af\u30ea\u30c3\u30af: http://ja.wikipedia.org/wiki/\u30e1\u30bf\u69cb\u6587\u5909\u6570\nPASS HTTP status code is: 200\nFAIL Find \"\u307b\u3052\" within the selector \"title\"\n#    type: assertSelectorHasText\n#    file: tests/hoge_test.coffee:23\n#    code: test.assertHttpStatus 200\n#    subject: false\n#    selector: \"title\"\n#    text: \"\u307b\u3052\"\n#    actualContent: \"\u30e1\u30bf\u69cb\u6587\u5909\u6570 - Wikipedia\"\nFAIL 8 tests executed in 4.057s, 7 passed, 1 failed, 0 dubious, 0 skipped.\n\nDetails for the 1 failed test:\n\nIn tests/hoge_test.coffee:23\n  \u307b\u3052\u3067Google\u691c\u7d22\n    assertSelectorHasText: Find \"\u307b\u3052\" within the selector \"title\"\n```\n"}