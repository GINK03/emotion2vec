{"context": " More than 1 year has passed since last update.cap\u30b3\u30de\u30f3\u30c9\u3067\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u529b\u3055\u308c\u305f\n$ cap production deploy\n\u30fb\u30fb\u30fb\ncap aborted!\nSSHKit::Runner::ExecuteError: Exception while executing as ***@***.***.***.***: Authentication failed for user ***@***.***.***.***\n\n\u8a2d\u5b9a\u3092\u898b\u306a\u304a\u3057\u305f\u3068\u3053\u308d\u3001ssh_options\u3092\u4f7f\u3063\u3066\u9375\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u3002\n# \u4f8b\nset :ssh_options, {\n  user: '***',\n  keys: %w(/home/***/.ssh/id_rsa),\n  forward_agent: false,\n  auth_methods: %w(publickey)\n}\n\n\u4ee5\u4e0b\u3001\u4f7f\u3048\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ee2\u8a18\u3002\n\u4e8b\u524d\u306b\u3072\u3068\u901a\u308a\u898b\u3066\u304a\u3044\u305f\u307b\u3046\u304c\u826f\u3055\u305d\u3046\u3002\n\u53c2\u8003 : Net::SSH\n:auth_methods => an array of authentication methods to try\n\n:bind_address => the IP address on the connecting machine to use in establishing connection. (:bind_address is discarded if :proxy is set.)\n\n:compression => the compression algorithm to use, or true to use whatever is supported.\n\n:compression_level => the compression level to use when sending data\n\n:config => set to true to load the default OpenSSH config files (~/.ssh/config, /etc/ssh_config), or to false to not load them, or to a file-name (or array of file-names) to load those specific configuration files. Defaults to true.\n\n:encryption => the encryption cipher (or ciphers) to use\n\n:forward_agent => set to true if you want the SSH agent connection to be forwarded\n\n:global_known_hosts_file => the location of the global known hosts file. Set to an array if you want to specify multiple global known hosts files. Defaults to %w(/etc/ssh/ssh_known_hosts /etc/ssh/ssh_known_hosts2).\n\n:hmac => the hmac algorithm (or algorithms) to use\n\n:host_key => the host key algorithm (or algorithms) to use\n\n:host_key_alias => the host name to use when looking up or adding a host to a known_hosts dictionary file\n\n:host_name => the real host name or IP to log into. This is used instead of the host parameter, and is primarily only useful when specified in an SSH configuration file. It lets you specify an \"alias\", similarly to adding an entry in /etc/hosts but without needing to modify /etc/hosts. :keepalive => set to true to send a keepalive packet to the SSH server when there's no traffic between the SSH server and Net::SSH client for the keepalive_interval seconds. Defaults to false. :keepalive_interval => the interval seconds for keepalive. Defaults to 300 seconds.\n\n:kex => the key exchange algorithm (or algorithms) to use\n\n:keys => an array of file names of private keys to use for publickey and hostbased authentication\n\n:key_data => an array of strings, with each element of the array being a raw private key in PEM format.\n\n:keys_only => set to true to use only private keys from keys and key_data parameters, even if ssh-agent offers more identities. This option is intended for situations where ssh-agent offers many different identites.\n\n:logger => the logger instance to use when logging\n\n:max_pkt_size => maximum size we tell the other side that is supported per packet. Default is 0x8000 (32768 bytes). Increase to 0x10000 (65536 bytes) for better performance if your SSH server supports it (most do).\n\n:max_win_size => maximum size we tell the other side that is supported for the window.\n\n:paranoid => either false, true, :very, or :secure specifying how strict host-key verification should be (in increasing order here)\n\n:passphrase => the passphrase to use when loading a private key (default is nil, for no passphrase)\n\n:password => the password to use to login\n\n:port => the port to use when connecting to the remote host\n\n:properties => a hash of key/value pairs to add to the new connection's properties (see Net::SSH::Connection::Session#properties)\n\n:proxy => a proxy instance (see Proxy) to use when connecting\n\n:rekey_blocks_limit => the max number of blocks to process before rekeying\n\n:rekey_limit => the max number of bytes to process before rekeying\n\n:rekey_packet_limit => the max number of packets to process before rekeying\n\n:send_env => an array of local environment variable names to export to the remote environment. Names may be given as String or Regexp.\n\n:timeout => how long to wait for the initial connection to be made\n\n:user => the user name to log in as; this overrides the user parameter, and is primarily only useful when provided via an SSH configuration file.\n\n:user_known_hosts_file => the location of the user known hosts file. Set to an array to specify multiple user known hosts files. Defaults to %w(~/.ssh/known_hosts ~/.ssh/known_hosts2).\n\n:use_agent => Set false to disable the use of ssh-agent. Defaults to true\n\n:verbose => how verbose to be (Logger verbosity constants, Logger::DEBUG is very verbose, Logger::FATAL is all but silent). Logger::FATAL is the default. The symbols :debug, :info, :warn, :error, and :fatal are also supported and are translated to the corresponding Logger constant.\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u9375\u5468\u308a\u306e\u8a2d\u5b9a\u306f\u610f\u5916\u3068\u5fd8\u308c\u304c\u3061\u306a\u306e\u3067\u3001\u6ce8\u610f\u3002\n\ncap\u30b3\u30de\u30f3\u30c9\u3067\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u529b\u3055\u308c\u305f\n\n```\n$ cap production deploy\n\u30fb\u30fb\u30fb\ncap aborted!\nSSHKit::Runner::ExecuteError: Exception while executing as ***@***.***.***.***: Authentication failed for user ***@***.***.***.***\n```\n\n\u8a2d\u5b9a\u3092\u898b\u306a\u304a\u3057\u305f\u3068\u3053\u308d\u3001ssh_options\u3092\u4f7f\u3063\u3066\u9375\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u3002\n\n```\n# \u4f8b\nset :ssh_options, {\n  user: '***',\n  keys: %w(/home/***/.ssh/id_rsa),\n  forward_agent: false,\n  auth_methods: %w(publickey)\n}\n```\n\n\u4ee5\u4e0b\u3001\u4f7f\u3048\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ee2\u8a18\u3002\n\u4e8b\u524d\u306b\u3072\u3068\u901a\u308a\u898b\u3066\u304a\u3044\u305f\u307b\u3046\u304c\u826f\u3055\u305d\u3046\u3002\n\u53c2\u8003 : [Net::SSH](http://net-ssh.github.io/net-ssh/classes/Net/SSH.html#method-c-start)\n\n```\n:auth_methods => an array of authentication methods to try\n\n:bind_address => the IP address on the connecting machine to use in establishing connection. (:bind_address is discarded if :proxy is set.)\n\n:compression => the compression algorithm to use, or true to use whatever is supported.\n\n:compression_level => the compression level to use when sending data\n\n:config => set to true to load the default OpenSSH config files (~/.ssh/config, /etc/ssh_config), or to false to not load them, or to a file-name (or array of file-names) to load those specific configuration files. Defaults to true.\n\n:encryption => the encryption cipher (or ciphers) to use\n\n:forward_agent => set to true if you want the SSH agent connection to be forwarded\n\n:global_known_hosts_file => the location of the global known hosts file. Set to an array if you want to specify multiple global known hosts files. Defaults to %w(/etc/ssh/ssh_known_hosts /etc/ssh/ssh_known_hosts2).\n\n:hmac => the hmac algorithm (or algorithms) to use\n\n:host_key => the host key algorithm (or algorithms) to use\n\n:host_key_alias => the host name to use when looking up or adding a host to a known_hosts dictionary file\n\n:host_name => the real host name or IP to log into. This is used instead of the host parameter, and is primarily only useful when specified in an SSH configuration file. It lets you specify an \"alias\", similarly to adding an entry in /etc/hosts but without needing to modify /etc/hosts. :keepalive => set to true to send a keepalive packet to the SSH server when there's no traffic between the SSH server and Net::SSH client for the keepalive_interval seconds. Defaults to false. :keepalive_interval => the interval seconds for keepalive. Defaults to 300 seconds.\n\n:kex => the key exchange algorithm (or algorithms) to use\n\n:keys => an array of file names of private keys to use for publickey and hostbased authentication\n\n:key_data => an array of strings, with each element of the array being a raw private key in PEM format.\n\n:keys_only => set to true to use only private keys from keys and key_data parameters, even if ssh-agent offers more identities. This option is intended for situations where ssh-agent offers many different identites.\n\n:logger => the logger instance to use when logging\n\n:max_pkt_size => maximum size we tell the other side that is supported per packet. Default is 0x8000 (32768 bytes). Increase to 0x10000 (65536 bytes) for better performance if your SSH server supports it (most do).\n\n:max_win_size => maximum size we tell the other side that is supported for the window.\n\n:paranoid => either false, true, :very, or :secure specifying how strict host-key verification should be (in increasing order here)\n\n:passphrase => the passphrase to use when loading a private key (default is nil, for no passphrase)\n\n:password => the password to use to login\n\n:port => the port to use when connecting to the remote host\n\n:properties => a hash of key/value pairs to add to the new connection's properties (see Net::SSH::Connection::Session#properties)\n\n:proxy => a proxy instance (see Proxy) to use when connecting\n\n:rekey_blocks_limit => the max number of blocks to process before rekeying\n\n:rekey_limit => the max number of bytes to process before rekeying\n\n:rekey_packet_limit => the max number of packets to process before rekeying\n\n:send_env => an array of local environment variable names to export to the remote environment. Names may be given as String or Regexp.\n\n:timeout => how long to wait for the initial connection to be made\n\n:user => the user name to log in as; this overrides the user parameter, and is primarily only useful when provided via an SSH configuration file.\n\n:user_known_hosts_file => the location of the user known hosts file. Set to an array to specify multiple user known hosts files. Defaults to %w(~/.ssh/known_hosts ~/.ssh/known_hosts2).\n\n:use_agent => Set false to disable the use of ssh-agent. Defaults to true\n\n:verbose => how verbose to be (Logger verbosity constants, Logger::DEBUG is very verbose, Logger::FATAL is all but silent). Logger::FATAL is the default. The symbols :debug, :info, :warn, :error, and :fatal are also supported and are translated to the corresponding Logger constant.\n```\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u9375\u5468\u308a\u306e\u8a2d\u5b9a\u306f\u610f\u5916\u3068\u5fd8\u308c\u304c\u3061\u306a\u306e\u3067\u3001\u6ce8\u610f\u3002\n", "tags": ["capistrano"]}