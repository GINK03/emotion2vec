{"context": " More than 1 year has passed since last update.\u672c\u8a18\u4e8b\u306fphina.js Advent Calendar 2015\u306e16\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\nphina.js\u306b\u3064\u3044\u3066\n\n\u3053\u3093\u306b\u3061\u306f\u3002\n\u4ee5\u524dphina.js\u306e\u524d\u8eabtmlib.js\u3067\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u3068\u3044\u3046\u30b2\u30fc\u30e0\u3092\u4f5c\u3063\u305f\u8005\u3067\u3059\u3002\u305d\u3053\u305d\u3053\u5c0f\u3055\u3044\u8a71\u984c\u306b\u306a\u308a\u3001\u30cb\u30e5\u30fc\u30b9\u30b5\u30a4\u30c8\u306b\u53d6\u308a\u4e0a\u3052\u3089\u308c\u305f\u308a\u3057\u307e\u3057\u305f\n\u4eca\u56de\u306f\u3053\u306e\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u3092phina.js\u306b\u79fb\u690d\u3057\u3064\u3064\u3001\u4e2d\u8eab\u306b\u3064\u3044\u3066\u975e\u5e38\u306b\u5927\u3056\u3063\u3071\u306b\u89e3\u8aac\u3092\u3044\u308c\u3066\u3044\u3053\u3046\u3068\u3044\u3046\u8a18\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\u3064\u3044\u3067\u306b\uff12\u5e74\u524d\u304f\u3089\u3044\u306b\uff12\u65e5\u3050\u3089\u3044\u3067\u66f8\u3044\u305f\u304d\u3063\u305f\u306a\u3044\u30b3\u30fc\u30c9\u306a\u306e\u3067\u8272\u3005\u30c4\u30c3\u30b3\u3093\u3067\u3044\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\u3042\u3093\u307e\u308a\u53c2\u8003\u306b\u306a\u3089\u306a\u304b\u3063\u305f\u3089\u3054\u3081\u3093\u306a\u3055\u3044\u3002\n\u8a73\u3057\u3044\u6a5f\u80fd\u306e\u89e3\u8aac\u306a\u3069\u306f\u3053\u306eAdvent Calendar\u306e\u4ed6\u306e\u30e1\u30f3\u30d0\u30fc\u304c\u3057\u3066\u3044\u3089\u3063\u3057\u3083\u308b\u306e\u3067\u305d\u308c\u3089\u3092\u30ac\u30f3\u30ac\u30f3\u5f15\u7528\u3057\u3064\u3064\u3001\u5b9f\u969b\u306b\u305d\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3069\u3093\u306a\u611f\u3058\u3067\u30b2\u30fc\u30e0\u3092\u4f5c\u3063\u3066\u3044\u304f\u304b\u307f\u305f\u3044\u306a\u30c6\u30fc\u30de\u3067\u66f8\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\u3068\u3044\u3046\u304b\u305d\u308c\u3050\u3089\u3044\u3057\u304b\u66f8\u3051\u306a\u3044\u306e\u3067\u52d8\u5f01\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30de\u30b8\u3067\n\n\u5b8c\u6210\u54c1\u306f\u3053\u3061\u3089\n\u306f\u3044\u3001\u65e9\u901f\u3067\u3059\u304c\u5b8c\u6210\u54c1\u304c\u3053\u3061\u3089\u3067\u3059\u3002\u307e\u305a\u306f\u4e00\u56de\u904a\u3093\u3067\u307f\u307e\u3057\u3087\u3046\u3002\u591a\u5206\u304a\u3082\u3057\u308d\u3044\u306f\u305a\u3067\u3059\u3002\u591a\u5206\u3002\n\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c phina.js\n\n\u904a\u3073\u307e\u3057\u305f\u304b\uff1f\u3069\u3046\u3067\u3057\u305f\u304b\uff1f\u3088\u304b\u3063\u305f\u3089\u611f\u60f3\u304f\u3060\u3055\u3044\u3002\n\u3058\u3083\u3042\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\n\u3061\u306a\u307f\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3082\u5168\u90e8\u898b\u308c\u308b\u306e\u3067\u3001\u3053\u3044\u3064\u3092\u53c2\u7167\u3057\u306a\u304c\u3089\u8aad\u307f\u9032\u3081\u3066\u3084\u3063\u3066\u304f\u3060\u3055\u3044\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\n\u30b2\u30fc\u30e0\u306e\u6982\u8981\n\u7c21\u5358\u306b\u30b2\u30fc\u30e0\u306e\u5185\u5bb9\u306b\u89e6\u308c\u3066\u304a\u304d\u307e\u3059\u3002\n\u305d\u306e\u540d\u306e\u901a\u308a\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u306e\u9006\u306e\u30b2\u30fc\u30e0\u3067\u3001\u30d6\u30ed\u30c3\u30af\u3092\u5d29\u3055\u306a\u3044\u30b2\u30fc\u30e0\u3067\u3059\u3002\n\u30dc\u30fc\u30eb\u304c\u30dd\u30f3\u30dd\u30f3\u964d\u3063\u3066\u304f\u308b\u306e\u3067\u30d1\u30c9\u30eb\u3092\u64cd\u4f5c\u3057\u3066\u30dc\u30fc\u30eb\u3092\u4e0b\u306b\u843d\u3068\u3057\u3066\u3084\u308b\u3068\u3001\u30d6\u30ed\u30c3\u30af\u3092\u5b88\u3063\u3066\u3084\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d6\u30ed\u30c3\u30af\u3092\u5d29\u3057\u307e\u304f\u3063\u3066\u30dc\u30fc\u30eb\u304c\u4e0a\u306b\u3044\u3063\u3061\u3083\u3046\u3068\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u3067\u3059\u3002\u30b2\u30fc\u30e0\u304c\u7d9a\u304f\u3068\u5f3e\u5e55\u307f\u305f\u3044\u306b\u30dc\u30fc\u30eb\u304c\u3075\u3063\u3066\u304d\u305f\u308a\u3001\u30dc\u30fc\u30ca\u30b9\u30bf\u30a4\u30e0\u306a\u3069\u3082\u3042\u308a\u307e\u3059\u3002\n\u8981\u3059\u308b\u306b\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u306e\u30d1\u30af\u30ea\u3067\u672c\u8cea\u7684\u306b\u30b2\u30fc\u30e0\u6027\u3082\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u3068\u307b\u307c\u5909\u308f\u308a\u307e\u305b\u3093\uff08\u591a\u5206\uff09\u3002\u30d1\u30af\u30ea\u30b2\u30fc\u30e0\u306e\u826f\u3044\u3068\u3053\u308d\u306f\u5143\u306b\u306a\u3063\u305f\u30b2\u30fc\u30e0\u3067\u30b2\u30fc\u30e0\u6027\u304c\u4fdd\u8a3c\u3055\u308c\u3066\u3044\u308b\u3068\u3053\u308d\u3067\u3059\u3002\u305d\u306e\u3046\u3048\u3067\u898b\u6804\u3048\u3068\u8003\u3048\u65b9\u3092\u5c11\u3057\u5909\u3048\u3066\u3084\u308b\u3068\u4f4e\u30b3\u30b9\u30c8\u3067\u9055\u3046\u30d7\u30ec\u30a4\u611f\u306e\u30b2\u30fc\u30e0\u304c\u4f5c\u308c\u305f\u308a\u3059\u308b\u306e\u3067\u521d\u5fc3\u8005\u306e\u4eba\u306b\u304a\u3059\u3059\u3081\u3067\u3059\u3002\u8a34\u3048\u3089\u308c\u306a\u3044\u7a0b\u5ea6\u3067\u3002\n\u4e38\u30d1\u30af\u30ea\u306f\u305b\u305a\u306b\u3001\u65e2\u5b58\u306e\u30a2\u30a4\u30c7\u30a2\u306b\u5225\u306e\u30a2\u30a4\u30c7\u30a2\u3092\u4e57\u305b\u3066\u30d1\u30af\u308b\u306e\u304c\u3046\u307e\u3044\u30d1\u30af\u30ea\u304b\u305f\u3067\u3059\u3002\u306a\u3093\u304b\u306e\u672c\u306b\u305d\u3046\u66f8\u3044\u3066\u3042\u308a\u307e\u3057\u305f\u3002\n\ntmlib.js\u304b\u3089\u79fb\u690d\n\u306a\u306b\u306f\u3068\u3082\u3042\u308c\u307e\u305a\u306f\u79fb\u690d\u3057\u3066\u3044\u304d\u307e\u3059\u3002tmlib.js\u3067\u4f5c\u3063\u305f\u30b2\u30fc\u30e0\u306e\u79fb\u690d\u3068\u304b\u3057\u306a\u3044\u4eba\u306f\u3001\u4e00\u6c17\u306b\u8aad\u307f\u98db\u3070\u3057\u3061\u3083\u3063\u3066\u3082\u5927\u4e08\u592b\u3067\u3059\u3002GO!!\ntmlib.js\u7248\u306e\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u306f\u3053\u3061\u3089\u3002\n\u3067\u306f\u3001\u79fb\u690d\u3059\u308b\u306b\u3042\u305f\u3063\u3066\u3084\u3063\u305f\u3053\u3068\u3092\u5927\u3056\u3063\u3071\u306b\u7b87\u6761\u66f8\u304d\u306b\u3057\u3066\u307f\u307e\u3059\u3002\n\nphina.js\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30b3\u30d4\u30da\u3059\u308b\uff01\uff01\uff01\ntmlib.js\u7248\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u304b\u3089\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30b3\u30d4\u30da\u3059\u308b\uff01\uff01\ntmlib.js\u304b\u3089phina.js\u3067\u540d\u524d\u304c\u5909\u308f\u3063\u305f\u3084\u3064\u306e\u540d\u524d\u3068\u304b\u5909\u3048\u308b\uff01\uff01\n\u4ee5\u4e0a\uff01\uff01\uff01\uff01\n\n\u4ee5\u4e0a\u3067\u3059\u3002\u7c21\u5358\u3067\u3059\u3002\n\u3076\u3063\u3061\u3083\u3051\u4f5c\u696d\u91cf\u306f\u30b2\u30fc\u30e0\u306b\u3088\u3063\u3066\u30d4\u30f3\u30ad\u30ea\u3060\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u4ffa\u306e\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3057\u305f\u3002\n\u307e\u305a\u306fphina.js\u306e\u30b5\u30a4\u30c8\u304b\u3089phina.js\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30b3\u30d4\u3063\u3066\u304d\u307e\u3059\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306btmlib.js\u7248\u306e\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u5fc5\u8981\u306a\u3068\u3053\u3092\u30b3\u30d4\u3063\u3066\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002\ntmlib.js\u7248\u306eMainScene\u306e\u4e2d\u8eab\u3092\u30c6\u30f3\u30d7\u30ec\u2015\u30c8\u306eMainScene\u306b\u30b3\u30d4\u3063\u305f\u308a\u5404\u7a2e\u30af\u30e9\u30b9\u306e\u30bd\u30fc\u30b9\u306a\u3093\u304b\u3092\u30b3\u30d4\u3063\u305f\u308a\u3059\u308b\u308f\u3051\u3067\u3059\u3002\n\u6b21\u306btmlib.js\u304b\u3089phina.js\u306b\u306a\u3063\u3066\u540d\u524d\u304c\u5909\u308f\u3063\u305f\u3068\u3053\u3092\u5909\u3048\u3066\u3044\u304d\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u30af\u30e9\u30b9\u3092\u4f5c\u308b\u3068\u304d\u306e\u3084\u3064\u304ctm.define\u304b\u3089phina.define\u306b\u5909\u308f\u308a\u307e\u3057\u305f\u3002\n\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u306e\u4f4d\u7f6e\u3092\u53d6\u5f97\u3059\u308b\u30e4\u30c4\u3068\u304b\u3082pointing\u304b\u3089pointer\u306b\u5909\u308f\u3063\u3066\u307e\u3059\u3002\n\u3053\u3046\u3044\u3046\u306e\u3092\u5168\u90e8\u5909\u63db\u3057\u3066\u3044\u304f\u30ef\u30b1\u3067\u3059\u3002\n\u3068\u308a\u3042\u3048\u305a\u300ctm\u300d\u3063\u3066\u66f8\u3044\u3066\u3042\u308b\u6240\u3092\u300cphina\u300d\u306b\u5909\u3048\u3066\u3001\u3042\u3068\u306f\u5b9f\u884c\u3057\u3066\u307f\u3066\u30a8\u30e9\u30fc\u5410\u3044\u305f\u3089\u8abf\u3079\u3066\u5909\u63db\u3063\u3066\u611f\u3058\u3067\u3084\u308a\u307e\u3057\u305f\u3002\n\u8abf\u3079\u308b\u6642\u306fphina.js\u306eAPI Documentation\u3067\u305d\u308c\u3063\u307d\u3044\u540d\u524d\u306e\u3084\u3064\u3092\u691c\u7d22\u3057\u3066\u3044\u304f\u611f\u3058\u3067\u3059\u3002\n\u3067\u3001\u5730\u9053\u306b\u30b3\u30c4\u30b3\u30c4\u5168\u90e8\u5909\u3048\u305f\u3089\u7d42\u308f\u308a\uff01\uff01\u4ee5\u4e0a\uff01\n\u3064\u3063\u3066\u3082\u305d\u3093\u306a\u306b\u6570\u306a\u3044\u306e\u3067\u6642\u9593\u304b\u304b\u308a\u307e\u305b\u3093\uff01\u305f\u3076\u3093\uff01\uff11\uff10\u5206\u3050\u3089\u3044\uff01\uff01\n\u5177\u4f53\u7684\u306b\u3069\u3053\u306e\u4f55\u304c\u5909\u308f\u3063\u305f\u304b\u5168\u90e8\u66f8\u3044\u3066\u3044\u3063\u305f\u3089\u7d42\u308f\u3089\u306a\u3044\u306e\u3067\u3001\u8abf\u3079\u308b\u304b\u805e\u304f\u304b\u8ab0\u304b\u304c\u307e\u3068\u3081\u3066\u304f\u308c\u308b\u306e\u3092\u5f85\u3061\u307e\u3057\u3087\u3046\uff01\uff01\u30cf\u30a4\u6b21\uff01\uff01\n\n\u30bf\u30a4\u30c8\u30eb\u753b\u9762\n\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30cf\u30a4\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\u753b\u9762\u306b\u898b\u3048\u308b\u3082\u306e\u3092\u7b87\u6761\u66f8\u304d\u3057\u3066\u307f\u307e\u3059\n\n\u30d6\u30ed\u30c3\u30af\n\u30d1\u30c9\u30eb\n\u300c\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u300d\u30e9\u30d9\u30eb\n\u300cphina.js\u300d\u30e9\u30d9\u30eb\n\u300cstart\u300d\u30e9\u30d9\u30eb\n\n\u30d6\u30ed\u30c3\u30af\u3068\u30d1\u30c9\u30eb\u306f\u3042\u3068\u3067\u8aac\u660e\u3057\u307e\u3059\uff01\n\n\u307e\u305a\u306f\u30e9\u30d9\u30eb\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n    this.titlelabel= Label({\n      text: '\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c',\n      fill: 'white',\n      fontSize: 83,\n    }).addChildTo(this);\n    this.titlelabel.setPosition(this.gridX.center(),this.gridY.center(-1));\n\n    this.phinalabel= Label({\n      text: 'phina.js',\n      fill: 'white',\n      fontSize: 53,\n    }).addChildTo(this);\n    this.phinalabel.setPosition(this.gridX.center(5),this.gridY.center(1));\n\n    this.startlabel= Label({\n      text: 'start',\n      fill: 'white',\n      fontSize: 53,\n    }).addChildTo(this);\n    this.startlabel.setPosition(this.gridX.center(),this.gridY.center(3));\n\n\n\u30cf\u30a4\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\u4e0a\u304b\u3089\u300c\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u300d\u300cphina.js\u300d\u300cstart\u300d\u306e\u30e9\u30d9\u30eb\u3067\u3059\u306d\u3002\n\u30b6\u30c3\u3068\u89e3\u8aac\u3057\u307e\u3059\u3002\u307e\u305a\u30e9\u30d9\u30eb\u3092\u4f5c\u308b\u6642\u306e\u30b3\u30fc\u30c9\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\nvar label = Label().addChildTo(\u89aa\u8981\u7d20);\n\u3053\u306eLabel()\u306e\u30ab\u30c3\u30b3\u306e\u4e2d\u306b\u8272\u3093\u306a\u5024\u3092\u6e21\u3057\u3066\u3084\u308b\u3053\u3068\u3067\u624b\u3063\u53d6\u308a\u65e9\u304f\u30e9\u30d9\u30eb\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f5c\u3063\u305f\u30e9\u30d9\u30eb\u306flabel\u306b\u5165\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306f\n\ntext:\u6587\u5b57\u5217\nfill:\u6587\u5b57\u306e\u8272\nfontsize:\u6587\u5b57\u306e\u5927\u304d\u3055\n\n\u3092\u8a2d\u5b9a\u3057\u3066\u308b\u3063\u3066\u611f\u3058\u3067\u3059\u306d\n\u3067\u3001addChiltTo(this)\u3067\u3053\u306ethis\u3063\u3066\u30e4\u30c4\u306b\u30e9\u30d9\u30eb\u3092\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\u4e0a\u306e\u30b3\u30fc\u30c9\u306ethis\u306fMainScene\u306e\u3053\u3068\u306a\u306e\u3067\u3001MainScene\u306b\u30e9\u30d9\u30eb\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3001\u6587\u5b57\u304c\u898b\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30aa\u30c3\u30b1\u30fc\uff1f\n\u6b21\u306b\u3044\u304d\u307e\u3059\u3002\u3053\u3093\u306a\u611f\u3058\u306e\u3053\u3068\u304c\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\nthis.titlelabel.setPosition(this.gridX.center(),this.gridY.center(-1));\nsetPosition\u3068\u3044\u3046\u3084\u3064\u3067\u4f4d\u7f6e\u3092\u30bb\u30c3\u30c8\u3057\u3066\u307e\u3059\u3002\u3053\u3044\u3064\u306bX\u5ea7\u6a19\u3068Y\u5ea7\u6a19\u3092\u5165\u308c\u308b\u3053\u3068\u3067\u4f4d\u7f6e\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nphina.js\u306e\u6a5f\u80fd\u306eGrid\u3092\u4f7f\u3063\u3066X\u3068Y\u306e\u5ea7\u6a19\u3092\u8abf\u6574\u3057\u3066\u307e\u3059\u306d\u3002Grid\u306b\u3064\u3044\u3066\u306f@alkn203\u3055\u3093\u304c\u89e3\u8aac\u3057\u3066\u3044\u307e\u3059\u3002\n\u3010phina.js\u3011Grid\u30af\u30e9\u30b9\u3092\u4f7f\u3044\u3053\u306a\u305d\u3046\n\u8981\u3059\u308b\u306bgridX.center()\u3067\u753b\u9762\u306e\u771f\u3093\u4e2d\u306e\u4f4d\u7f6e\u3092\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30ab\u30c3\u30b3\u306e\u4e2d\u306b\u6570\u5b57\u3092\u5165\u308c\u308b\u3068\u6570\u5b57\u306e\u5206\u3060\u3051\u771f\u3093\u4e2d\u304b\u3089\u3061\u3087\u3063\u3068\u30ba\u30ec\u307e\u3059\u3002\u305d\u3046\u3084\u3063\u3066\u8abf\u6574\u3057\u3066\u307e\u3059\u3002\u30aa\u30c3\u30b1\u30fc\uff1f\n\n\u300cstart\u300d\u306e\u6587\u5b57\u304c\u30c1\u30ab\u30c1\u30ab\u6d88\u3048\u305f\u308a\u51fa\u305f\u308a\u3057\u3066\u307e\u3059\u306d\u3002\n\u3053\u308c\u306fTweener\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3044\u3064\u3092\u4f7f\u3046\u3068\u7c21\u5358\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u3067\u304d\u308b\u308f\u3051\u3067\u3059\u3002\nTweener\u306b\u3064\u3044\u3066\u306e\u8a73\u3057\u3044\u89e3\u8aac\u306f@simiraaaa\u3055\u3093\u304c\u3057\u3066\u3044\u307e\u3059\u3002\n[phina.js] Tweener\u3092\u4f7f\u3044\u3053\u306a\u305d\u3046! [Tweener \u57fa\u672c\u7de8]\n\u30b3\u30fc\u30c9\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n    this.startlabel.tweener\n        .to({alpha:1}, 700,\"easeInSine\")\n        .to({alpha:0}, 700,\"easeInSine\")\n        .setLoop(true);\n\n\u30b6\u3063\u3068\u884c\u304d\u307e\u3059\u3002\nthis.startlabel.tweener\u3067\u4eca\u304b\u3089tweener\u4f7f\u3046\u305c\u3063\u3066\u8a00\u3063\u3066\u307e\u3059\n.to({alpha:1}, 700,\"easeInSine\")\u3000\u3067700\u30df\u30ea\u79d2\u304b\u3051\u3066alpha\u30921\u306b\u3057\u307e\u3059\u3002alpha\u306f\u900f\u660e\u5ea6\u3067\u3059\u3002\n.to({alpha:0}, 700,\"easeInSine\")\u3000\u3067700\u30df\u30ea\u79d2\u304b\u3051\u3066alpha\u30920\u306b\u3057\u307e\u3059\u3002\n.setloop(true)\u3000\u3067\u4e0a\u306e\uff12\u3064\u3092\u7121\u9650\u306b\u7e70\u308a\u8fd4\u3057\u307e\u3059\u3002\u3088\u3063\u3066\u30c1\u30ab\u30c1\u30ab\u3057\u3066\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\neaseInSine\u3068\u3044\u3046\u306e\u306f\u30a4\u30fc\u30b8\u30f3\u30b0\u3068\u3044\u3046\u8a2d\u5b9a\u3059\u308b\u3068\u826f\u3044\u611f\u3058\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u304f\u308c\u308b\u30a8\u30e9\u30a4\u5974\u3067\u3059\u3002\n\u8a73\u3057\u304f\u306f@simiraaaa\u3055\u3093\u306e\u4f5c\u3063\u305f\u30b3\u30ec\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\u3044\u308d\u3093\u306a\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002\n\u30a4\u30fc\u30b8\u30f3\u30b0\u30ea\u30b9\u30c8\n\n\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u3092\u30bf\u30c3\u30c1\u3059\u308b\u3068\u30b2\u30fc\u30e0\u304c\u958b\u59cb\u3057\u307e\u3059\u3002\n    // \u30bf\u30c3\u30c1\u3067\u30b2\u30fc\u30e0\u958b\u59cb\n    this.one('pointend', function() {\n      this.startlabel.remove();\n      this.phinalabel.remove();\n      this.titlelabel.remove();\n      this.startflg = true;\n    });\n\n\nthis.one('pointend', function() {\n\n\u3053\u3044\u3064\u306e\u4e2d\u306b\u5165\u308c\u305f\u30b3\u30fc\u30c9\u304c\u30bf\u30c3\u30c1\u3057\u305f\u6642\u306b\u8d70\u308b\u611f\u3058\u3067\u3059\u3002\nremove()\u3068\u3044\u3046\u30e4\u30c4\u3092\u4f7f\u3063\u3066\u30e9\u30d9\u30eb\u3092\u6d88\u3057\u3066\u3001this.startflg\u3068\u3044\u3046\u5b89\u6613\u306a\u540d\u524d\u306e\u30d5\u30e9\u30b0\u306btrue\u304c\u5165\u308c\u3066\u307e\u3059\u3002\nthis.startflg\u306btrue\u3092\u5165\u308c\u308b\u3053\u3068\u3067\u30b2\u30fc\u30e0\u304c\u59cb\u307e\u308a\u307e\u3059\u3002\n\u306a\u305c\u304b\u3068\u3044\u3046\u3068\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u308b\u304b\u3089\u3067\u3059\u3002\n  update: function(app) {\n\n    if(this.startflg){\n      this.gamemain(app);\n    }\n  },\n\nupdate\u3068\u3044\u3046\u306e\u306f\u6bce\u30d5\u30ec\u30fc\u30e0\u547c\u3070\u308c\u3066\u4e2d\u8eab\u3092\u6bce\u56de\u51e6\u7406\u3057\u307e\u3059\u3002\u30d5\u30ec\u30fc\u30e0\u3068\u3044\u3046\u306e\u306f\u3001\u3048\u30fc\u3063\u3068\u3002\u8d85\u9ad8\u901f\u3067\u7d19\u829d\u5c45\u304c\u52d5\u3044\u3066\u308b\u3068\u30a4\u30e1\u30fc\u30b8\u3057\u3066\u304f\u3060\u3055\u3044\u3001\u305d\u306e\u4e00\u679a\u306e\u7d19\u304c\u30d5\u30ec\u30fc\u30e0\u3067\u3059\u3001\u305d\u3093\u3067\u7d19\u3092\u5909\u3048\u308b\u3054\u3068\u306bupdate\u304c\u52d5\u304f\u611f\u3058\u3067\u3059\u3002\u591a\u5206\u305d\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\u305d\u3093\u3067this.startflg\u306btrue\u304c\u5165\u3063\u3066\u308b\u6642\u306b\u30b2\u30fc\u30e0\u306e\u30e1\u30a4\u30f3\u51e6\u7406\u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u3063\u3066\u307e\u3059\u3002\u5b89\u6613\u3002\n\n\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u306b\u3064\u3044\u3066\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\u3061\u306a\u307f\u306b\u3053\u306e\u30b2\u30fc\u30e0\u306f\u624b\u629c\u304d\u3092\u3059\u308b\u305f\u3081\u306b\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u3068\u30b2\u30fc\u30e0\u753b\u9762\u3068\u30ea\u30b6\u30eb\u30c8\u753b\u9762\u3092\u305c\u3093\u3076MainScene\u306b\u5165\u308c\u3066\u308b\u306e\u3067\u30b7\u30fc\u30f3\u9077\u79fb\u3057\u307e\u305b\u3093\u3002\u30b7\u30fc\u30f3\u9077\u79fb\u306b\u3064\u3044\u3066\u306f@daishi_hmr\u3055\u3093\u304c\u89e3\u8aac\u3057\u3066\u3044\u307e\u3059\nManagerScene\u3067\u30b2\u30fc\u30e0\u306e\u6d41\u308c\u3092\u7ba1\u7406\u3057\u3088\u3046\n\n\u30d1\u30c9\u30eb\u306e\u751f\u6210\n\u30d1\u30c9\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002\u30d1\u30c9\u30eb\u3068\u3044\u3046\u306e\u306f\u3053\u3044\u3064\u3067\u3059\u3002\u3053\u3044\u3064\n\n\u3053\u3044\u3064\u306e\u9593\u306b\u30dc\u30fc\u30eb\u3092\u843d\u3068\u3057\u3066\u3044\u304f\u308f\u3051\u3067\u3059\u3002\n\u30d1\u30c9\u30eb\u30af\u30e9\u30b9\u306e\u30b3\u30fc\u30c9\u5168\u6587\u304c\u30b3\u30c1\u30e9\nphina.define('Paddle', {\n  superClass: 'RectangleShape',\n  init: function() {\n    this.superInit();\n\n    this.y = 750;\n    this.LWD = SCREEN_WIDTH / 2 -  barsize;\n    this.RWD = SCREEN_WIDTH / 2 +  barsize;\n\n  },\n\n  update: function(app) {\n\n      if (app.pointer.x + (barsize / 2)> 0 && app.pointer.x < SCREEN_WIDTH - (barsize / 2)) {\n      this.LWD = app.pointer.x - barsize;\n      this.RWD = app.pointer.x + barsize;\n\n    }\n  },\n\n  draw: function(c) {\n  c.globalCompositeOperation = \"lighter\";\n  c.fillStyle = \"hsla(0, 75%, 100%, 1)\"\n  c.fillRect(0, 0,this.LWD, 15);\n  c.fillRect(SCREEN_WIDTH, 0,-(SCREEN_WIDTH - this.RWD) , 15);\n\n  },\n\n});\n\n\n\u3053\u306e\u30d1\u30c9\u30eb\u30af\u30e9\u30b9\u3092MainScene\u306e\u306a\u304b\u3067\u5b9f\u4f53\u5316\u3059\u308b\u3053\u3068\u3067\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nbar = Paddle().addChildTo(this);\n\n\u3053\u3093\u306a\u611f\u3058\n\u7d50\u69cb\u3057\u3087\u3046\u3082\u306a\u3044\u5b9f\u88c5\u3092\u3057\u3066\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u601d\u3044\u51fa\u3057\u306a\u304c\u3089\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u3069\u3093\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u308b\u304b\u3060\u3044\u305f\u3044\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u89e3\u8aac\u3059\u308b\u3068\n\n\u30bf\u30c3\u30c1\u3057\u305f\u30dd\u30a4\u30f3\u30c8\u306b\u5411\u3051\u3066\u3001\u5de6\u7aef\u3068\u53f3\u7aef\u304b\u3089\u30d1\u30c9\u30eb\u3092\u4f38\u3070\u3059\n\u30d1\u30c9\u30eb\u306e\u9577\u3055\u306f\u30bf\u30c3\u30c1\u3057\u305f\u30dd\u30a4\u30f3\u30c8\u304b\u3089\u30d7\u30e9\u30b9\u30de\u30a4\u30ca\u30b9barsize\u306e\u4f4d\u7f6e\u307e\u3067\nupdate\u3067\u30bf\u30c3\u30c1\u30dd\u30a4\u30f3\u30c8\u3092\u53d6\u5f97\u3057\u3066\u3001\u6bce\u30d5\u30ec\u30fc\u30e0\u5de6\u3068\u53f3\u306e\u30d1\u30c9\u30eb\u306e\u9577\u3055\u3092\u66f4\u65b0\u3059\u308b\n\n\u3063\u3066\u611f\u3058\u3067\u3059\u3002\n\ninit\u306e\u4e2d\u304c\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u307e\u3059\u3002\u3053\u3053\u3067\u521d\u671f\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002\n    this.y = 750;\n    this.LWD = SCREEN_WIDTH / 2 -  barsize;\n    this.RWD = SCREEN_WIDTH / 2 +  barsize;\n\nSCREEN_WIDTH\u3068\u3044\u3046\u306e\u306f\u753b\u9762\u5168\u4f53\u306e\u6a2a\u306e\u9577\u3055\u3067\u3059\nthis.y\u304cY\u65b9\u5411\u306e\u9ad8\u3055\u3002\nthis.LWD\u304c\u5de6\u306e\u30d1\u30c9\u30eb\u306e\u9577\u3055\nthis.RWD\u304c\u53f3\u306e\u30d1\u30c9\u30eb\u306e\u9577\u3055\uff08\u30db\u30f3\u30c8\u306f\u53f3\u306e\u30d1\u30c9\u30eb\u306e\u5de6\u7aef\u306e\u4f4d\u7f6e\uff09\n\u3063\u3066\u611f\u3058\u3067\u3059\u3002\u5909\u306a\u540d\u524d\u306e\u3064\u3051\u65b9\u3092\u3057\u3066\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u3001\u30b9\u30de\u30db\u3067\u64cd\u4f5c\u3059\u308b\u3068\u304d\u306b\u30d1\u30c9\u30eb\u304c\u6307\u3067\u96a0\u308c\u306a\u3044\u3088\u3046\u306bY\u4f4d\u7f6e\u3092\u9ad8\u3081\u306b\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002\n\nupdate\u306e\u4e2d\u304c\u3053\u3093\u306a\u611f\u3058\u3067\u3059\n      if (app.pointer.x + (barsize / 2)> 0 && app.pointer.x < SCREEN_WIDTH - (barsize / 2)) {\n      this.LWD = app.pointer.x - barsize;\n      this.RWD = app.pointer.x + barsize;\n\n\u30d1\u30c9\u30eb\u304c\u753b\u9762\u306e\u5916\u306b\u51fa\u306a\u3044\u3088\u3046\u306b\u306a\u3093\u3068\u306a\u304f\u8abf\u6574\u3057\u3064\u3064\u3001\u5de6\u3068\u53f3\u306e\u30d1\u30c9\u30eb\u306e\u9577\u3055\u3092\u66f4\u65b0\u3057\u3066\u307e\u3059\u3002\napp.pointer.x\u3068\u3044\u3046\u3084\u3064\u3067\u30bf\u30c3\u30c1\u3057\u305f\u4f4d\u7f6e\u306ex\u5ea7\u6a19\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u3002\nbarsize\u3068\u3044\u3046\u3084\u3064\u304c\u771f\u3093\u4e2d\u306e\u7a74\u306e\u9577\u3055\u306e\u534a\u5206\u306e\u5024\u3067\u3059\u3002\u308f\u304b\u308a\u306b\u304f\u3044\u3067\u3059\u306d\u3002\u30bf\u30c3\u30c1\u3057\u305f\u4f4d\u7f6e\u304b\u3089\u53f3\u3068\u5de6\u306bbarsize\u3076\u3093\u3060\u3051\u3044\u3063\u305f\u6240\u307e\u3067\u30d1\u30c9\u30eb\u304c\u4f38\u3073\u3066\u304f\u308b\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\n\n\u6700\u5f8c\u306bdraw\u3068\u3044\u3046\u30e4\u30c4\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3067\u63cf\u753b\u3092\u3084\u3063\u3066\u3044\u307e\u3059\u3002\ndraw: function(c) {\n  c.globalCompositeOperation = \"lighter\";\n  c.fillStyle = \"hsla(0, 75%, 100%, 1)\"\n  c.fillRect(0, 0,this.LWD, 15);\n  c.fillRect(SCREEN_WIDTH, 0,-(SCREEN_WIDTH - this.RWD) , 15);\n},\n\nc.fillStyle \u3067\u8272\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3001c.fillRect\u3067\u56db\u89d2\u5f62\u306e\u63cf\u753b\u3092\u3057\u3066\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u3053\u3093\u306a\u611f\u3058\u3067\u8a2d\u5b9a\u3057\u307e\u3059\n\nfillRect(X\u4f4d\u7f6e, Y\u4f4d\u7f6e, \u6a2a\u306e\u9577\u3055, \u7e26\u306e\u9577\u3055)\n\nc.fillRect\u3092\uff12\u56de\u66f8\u3044\u3066\u306a\u3093\u304b\u602a\u3057\u3052\u306a\u51e6\u7406\u3067\u5de6\u306e\u30d1\u30c9\u30eb\u3068\u53f3\u306e\u30d1\u30c9\u30eb\u3092\u4f5c\u3063\u3066\u307e\u3059\u3002\n\u3068\u308a\u3042\u3048\u305a\u3053\u308c\u3067\u30bf\u30c3\u30c1\u3059\u308b\u3068\u30d1\u30c9\u30eb\u304c\u30b0\u30a4\u30f3\u30b0\u30a4\u30f3\u4f38\u3073\u305f\u308a\u7e2e\u3093\u3060\u308a\u3057\u307e\u3059\u3002\n\n\u30d6\u30ed\u30c3\u30af\u306e\u751f\u6210\n\u30d6\u30ed\u30c3\u30af\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n\u3068\u3044\u3046\u304b\u6628\u65e5@phi\u3055\u3093\u304c\u66f8\u3044\u305f\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u306e\u30a8\u30f3\u30c8\u30ea\u3067\u4f5c\u308a\u65b9\u3092\u89e3\u8aac\u3057\u3066\u307e\u3059\nphina.js \u3067\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u3092\u4f5c\u308d\u3046\n\u5b9f\u969b\u306e\u30d6\u30ed\u30c3\u30af\u3092\u751f\u6210\u3059\u308b\u30b3\u30fc\u30c9\u304c\u3053\u3061\u3089\n    (BLOCK_NUM).times(function(i) {\n      // \u30b0\u30ea\u30c3\u30c9\u4e0a\u3067\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n      var xIndex = i%MAX_PER_LINE;\n      var yIndex = Math.floor(i/MAX_PER_LINE);\n      var angle = (360)/BLOCK_NUM*i;\n      var block = Block(angle).addChildTo(blockGroup).setPosition(100, 100);\n\n      block.x = gridX.span(xIndex) + BOARD_OFFSET_X;\n      block.y = gridY.span(yIndex)+BOARD_OFFSET_Y;\n    }, this);\n\n\n@phi\u3055\u3093\u306e\u30a8\u30f3\u30c8\u30ea\u304b\u3089\u4e38\u3005\u30b3\u30fc\u30c9\u3092\u30d1\u30af\u3063\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308a\u307e\u3059\u306d\uff01\u3053\u306e\u69d8\u306b\u53c2\u8003\u306b\u306a\u308b\u30b3\u30fc\u30c9\u306f\u3069\u3093\u3069\u3093\u53d6\u308a\u5165\u308c\u308b\u306e\u304c\u8fd1\u9053\u3067\u3059\u3002\u6700\u521d\u306e\u3046\u3061\u306f\u307f\u3093\u306a\u8a31\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u305f\u3076\u3093\u3002\n\u8efd\u304f\u89e3\u8aac\u3092\u5165\u308c\u3066\u3044\u304d\u307e\u3059\u3002\u3076\u3063\u3061\u3083\u3051\u4ffa\u3082\u3042\u3093\u307e\u308a\u7406\u89e3\u3057\u3066\u306a\u3044\u3067\u3059\u304c\u3002\n\n(BLOCK_NUM).times(function(i) {\nBLOCK_NUM\u306e\u6570\u3060\u3051\u30ab\u30ae\u30ab\u30c3\u30b3\u3067\u56f2\u3093\u3060\u4e2d\u8eab\u306e\u30b3\u30fc\u30c9\u3092\u8d70\u3089\u305b\u3066\u4e00\u500b\u305a\u3064\u30d6\u30ed\u30c3\u30af\u3092\u4f5c\u3063\u3066\u308b\u5370\u8c61\u3092\u53d7\u3051\u307e\u3059\u3002i\u306f\u8d70\u3089\u305b\u305f\u6570\u3060\u3051\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u308b\u3063\u307d\u3044\u3067\u3059\u306d\n\u3067\u3001\u305d\u306ei\u3092\u4f7f\u3063\u3066\u30b0\u30ea\u30c3\u30c9\u3067\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306e\u5024\u3092\u5165\u308c\u3066\u307e\u3059\u3002MAX_PER_LINE\u306f\u30d6\u30ed\u30c3\u30af\u306e\u5217\u306e\u6570\u304c\u5165\u3063\u3066\u307e\u3059\u3002\n  // \u30b0\u30ea\u30c3\u30c9\u4e0a\u3067\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n  var xIndex = i%MAX_PER_LINE;\n  var yIndex = Math.floor(i/MAX_PER_LINE);\n\n\u3053\u306eangle\u3068\u3044\u3046\u3084\u3064\u306f\u30d6\u30ed\u30c3\u30af\u30af\u30e9\u30b9\u306b\u9001\u3063\u3066\u8272\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u3044\u307e\u3059\u3002\u826f\u3044\u611f\u3058\u306b\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n  var angle = (360)/BLOCK_NUM*i;\n\n\u305d\u3057\u3066\u30d6\u30ed\u30c3\u30af\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u751f\u6210\u3059\u308b\u3068\u304d\u306bangle\u3092\u6e21\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n  var block = Block(angle).addChildTo(blockGroup).setPosition(100, 100);\n\naddChildTo(blockGroup)\u3063\u3066\u306a\u3063\u3066\u307e\u3059\u306d\u3002\u3053\u308c\u306f\u30b0\u30eb\u30fc\u30d7\u3067\u3059\u3002\u4f5c\u3063\u305f\u30d6\u30ed\u30c3\u30af\u3092\u30d6\u30ed\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u306b\u8ffd\u52a0\u3057\u3066\u308b\u308f\u3051\u3067\u3059\u3002\u30b0\u30eb\u30fc\u30d7\u306b\u3064\u3044\u3066\u306f@alkn203\u3055\u3093\u304c\u89e3\u8aac\u3057\u3066\u3044\u307e\u3059\n\u3010phina.js\u3011\u30b0\u30eb\u30fc\u30d7\u7ba1\u7406\u306e\u57fa\u672c\u30c6\u30af\u30cb\u30c3\u30af\n\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u3063\u3066\u305d\u3053\u306b\u5165\u308c\u3066\u304a\u304f\u3068\u3001\u3042\u3068\u3067\u305d\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u5165\u308c\u305f\u30e4\u30c4\u3089\u3092\u307e\u3068\u3081\u3066\u64cd\u4f5c\u3067\u304d\u305f\u308a\u3059\u308b\u306e\u3067\u4fbf\u5229\u3067\u3059\u3002\u3061\u306a\u307f\u306b\u30b0\u30eb\u30fc\u30d7\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u4f5c\u308a\u307e\u3059\nblockGroup = CanvasElement().addChildTo(this);\n\n\u6700\u5f8c\u306b\u30d6\u30ed\u30c3\u30af\u306e\u4f4d\u7f6e\u3092\u8abf\u6574\u3057\u3066\u7d42\u308f\u308a\u3067\u3059\u3002block\u306ex\u3068y\u306b\u5024\u3092\u5165\u308c\u308b\u3053\u3068\u3067\u4f4d\u7f6e\u3092\u8abf\u6574\u3057\u3066\u307e\u3059\u3002\n  block.x = gridX.span(xIndex) + BOARD_OFFSET_X;\n  block.y = gridY.span(yIndex)+BOARD_OFFSET_Y;\n\n\u3060\u3044\u305f\u3044\u305d\u3093\u306a\u611f\u3058\u3067\u3059\uff01\u6b21\uff01\n\n\u30d6\u30ed\u30c3\u30af\u30af\u30e9\u30b9\u306b\u3064\u3044\u3066\u3082\u5c11\u3057\u89e6\u308c\u307e\u3059\u3002\u3064\u3063\u3066\u3082\u307b\u3068\u3093\u3069\u4f55\u3082\u3084\u3063\u3066\u307e\u305b\u3093\u3002\nphina.define('Block', {\n  superClass: 'RectangleShape',\n\n    init: function(angle) {\n        this.superInit({\n        width: BLOCK_SIZE,\n        height: BLOCK_SIZE/2,\n        fill: 'hsl({0}, 80%, 60%)'.format(angle || 0),\n        stroke: null,\n        cornerRadius: 8,\n      });\n        this.vx = 0;\n        this.vy = 0;\n\n        //this.v = tm.geom.Vector2(0, 0);\n    },\n\n    update: function(app) {\n\n        this.x += this.vx;\n        this.y += this.vy;\n\n    },\n\n\n});\n\n\ninit: function(angle) \u3063\u3066\u306a\u3063\u3066\u307e\u3059\u306d\u3002\u751f\u6210\u3059\u308b\u3068\u304d\u306b\u6e21\u3057\u305fangle\u3092\u3053\u308c\u3067\u53d7\u3051\u53d6\u308c\u307e\u3059\u3002\u305d\u3093\u3067this.superInit\u3063\u3066\u3084\u3064\u3067\u8272\u3093\u306a\u5024\u306e\u8a2d\u5b9a\u3092\u3084\u3063\u3066\u307e\u3059\u306d\u3002\nthis.vx,this.vy\u306f\u30d6\u30ed\u30c3\u30af\u3092\u52d5\u304b\u3059\u3068\u304d\u306e\u305f\u3081\u306b\u4f7f\u3044\u307e\u3059\u3002\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u306e\u3068\u304d\u306b\u30d6\u30ed\u30c3\u30af\u304c\u3075\u3063\u3068\u3073\u307e\u3059\u304c\u3001\u305d\u306e\u3068\u304d\u306e\u305f\u3081\u306e\u5e03\u77f3\u3067\u3059\u3002\nupdate: function(app) {\n\n    this.x += this.vx;\n    this.y += this.vy;\n\n},\n\nupdate\u3067\u3053\u3046\u306a\u3063\u3066\u307e\u3059\u306d\u3002this.x\u3068this.y\u306e\u5024\u3092\u5909\u3048\u308b\u3053\u3068\u3067\u30d6\u30ed\u30c3\u30af\u3092\u79fb\u52d5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3063\u3059\u3002\u3053\u306e\u5834\u5408\u3060\u3068\u6bce\u30d5\u30ec\u30fc\u30e0this.vx\u306e\u6570\u3060\u3051this.x\u304c\u52d5\u304d\u307e\u3059\u3002\u521d\u671f\u5024\u306f\uff10\u306b\u306a\u3063\u3066\u308b\u306e\u3067\u52d5\u304d\u307e\u305b\u3093\u3002\u305d\u3093\u306a\u611f\u3058\u3063\u3059\u3002\n\u3053\u306ethis.x,this.y\u306bthis.vx,this.vy\u3092\u8db3\u3057\u3066\u52d5\u304b\u3059\u3068\u3044\u3046\u3084\u308a\u304b\u305f\u306f\u3001\u30dc\u30fc\u30eb\u3092\u52d5\u304b\u3059\u6642\u306b\u3082\u4f7f\u3063\u3066\u307e\u3059\u3002\n\n\u30b2\u30fc\u30e0\u30e2\u30fc\u30c9\u306b\u3064\u3044\u3066\n\u3088\u3046\u3084\u3063\u3068\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u306b\u51fa\u3066\u308b\u8981\u7d20\u306e\u89e3\u8aac\u304c\u7d42\u308f\u308a\u307e\u3057\u305f\u3002\u30b2\u30fc\u30e0\u306e\u30e1\u30a4\u30f3\u51e6\u7406\u306e\u89e3\u8aac\u306b\u5165\u308d\u3046\u3068\u601d\u3044\u307e\u3059\nMainScene\u306eupdate\u306e\u4e2d\u306f\u3053\u3093\u306a\u3093\u306a\u3063\u3066\u307e\u3059\n update: function(app) {\n\n    if(this.startflg){\n      this.gamemain(app);\n    }\n  },\n\n\u3053\u306egamemain\u306e\u4e2d\u304c\u30b2\u30fc\u30e0\u306e\u30e1\u30a4\u30f3\u51e6\u7406\u3067\u3059\u3002\u7d50\u69cb\u9577\u3044\u306e\u3067\u5c0f\u5206\u3051\u306b\u3057\u3066\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u30cf\u30a4\u3001\u307e\u305a\u6700\u521d\u3053\u3093\u306a\u3053\u3068\u304c\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u306d\u3002\n  gamemain: function(app){\n\n            switch(gameflg){\n\n\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u7701\u7565\n\n\ngameflg\u3068\u3044\u3046\u3084\u3064\u304c\u51fa\u3066\u304d\u307e\u3057\u305f\u3002\u3053\u3044\u3064\u3092\u5909\u3048\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u30b2\u30fc\u30e0\u306e\u30e2\u30fc\u30c9\u3092\u5909\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u30021\u306e\u3068\u304d\u306b\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u3001\uff12\u306e\u3068\u304d\u306b\u5f3e\u5e55\u30e2\u30fc\u30c9\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\u308f\u304b\u308a\u305a\u3089\u3044\u3067\u3059\u306d\u3002\u6570\u5b57\u3068\u30e2\u30fc\u30c9\u306e\u5bfe\u5fdc\u8868\u304c\u3053\u3093\u306a\u611f\u3058\u3067\u3059\n1.\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\n2.\u5f3e\u5e55\u30e2\u30fc\u30c9\n3.\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\n9.\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\n0.\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\n\u305d\u308c\u305e\u308c\u306e\u6570\u5b57\u306b\u3057\u305f\u3068\u304d\u305d\u308c\u305e\u308c\u306e\u51e6\u7406\u304c\u52d5\u304d\u307e\u3059\u30021,2,3\u306f\u307e\u3042\u305d\u306e\u307e\u3093\u307e\u3067\u3059\u30029\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306f\u30e2\u30fc\u30c9\u3092\u5207\u308a\u66ff\u3048\u308b\u3068\u304d\u306b\u4f7f\u3063\u305f\u308a\u3057\u307e\u3059\u3002\u5f3e\u5e55\u30e2\u30fc\u30c9\u306e\u7389\u304c\u5168\u90e8\u6d88\u3048\u3066\u304b\u3089\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3059\u308b\u3001\u307f\u305f\u3044\u306a\u6642\u306b\u4e00\u65e6\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u5165\u308c\u3066\u7389\u304c\u6d88\u3048\u308b\u307e\u3067\u5f85\u3063\u3066\u304b\u3089\u79fb\u884c\u3059\u308b\u3001\u307f\u305f\u3044\u306a\u51e6\u7406\u3092\u3057\u3066\u307e\u3059\u30020\u306f\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u3057\u305f\u6642\u306e\u51e6\u7406\u3067\u3059\n\u3068\u308a\u3042\u3048\u305a\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u304b\u3089\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\n\n\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\n\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u306f\u7389\u304c\u4e00\u500b\u305a\u3064\u30e9\u30f3\u30c0\u30e0\u3067\u964d\u3063\u3066\u304f\u308b\u30e2\u30fc\u30c9\u3067\u3059\u3002gameflg\u306b\uff11\u304c\u5165\u3063\u3066\u308b\u3068\u3053\u306e\u30e2\u30fc\u30c9\u304c\u52d5\u304d\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\u304c\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\u30c9\u30f3\n                case 1:\n                    // \u30dc\u30fc\u30eb\u306e\u751f\u6210\n                    if (this.btimer % this.remit === 0) {\n                            this.LR = rand(1);\n                            this.vy = 10;\n                            this.vx = (rand(200) -100) /10;\n                            ball = Ball(this.LR,this.vx * this.speed,this.vy * this.speed,0).addChildTo(ballGroup);\n                            this.btimer = 1;\n\n                    }\n\n                    //\u7389\u306e\u51fa\u308b\u9593\u9694\u3092\u72ed\u3081\u308b :\u72ed\u3081\u308b\u30b9\u30d4\u30fc\u30c9\u3060\u3093\u3060\u3093\u9045\u304f\n                    if(this.rtimer > this.rspeed && this.remit > 5){\n                            this.remit -= 1;\n                            this.rspeed += 3;\n                            if(this.remit < 20){\n                                this.rspeed += 10;\n                            }\n                            this.rtimer = 0;\n                    }\n\n                    //\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\n                    if(this.timer % 500 === 0){\n                        gameflg = 2;\n                        //\u6b21\u304b\u3089\u901a\u5e38\u30e2\u30fc\u30c9\u306e\u7389\u304c\u65e9\u304f\u306a\u308b\n                        this.speed += 0.1\n                        //\u7389\u306e\u51fa\u308b\u9593\u9694\u3000\u30b8\u30e7\u30b8\u30e7\u306b\u4e0a\u304c\u308a\u306b\u304f\u304f\u3059\u308b\n\n\n\n                    }\n                    //\u5165\u308c\u98df\u3044\u30e2\u30fc\u30c9\u306b\u79fb\u884c\n                    if(this.timer % this.ebouns === 0){\n                        //\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u631f\u3093\u3067\u5165\u308c\u98df\u3044\u30e2\u30fc\u30c9\u3078\n                        gameflg = 9;\n                        this.nextmode = 3;\n                        this.ebouns += 500;\n                        this.timer = 1;\n                    }\n\n                    ++this.timer;\n                    ++this.rtimer;\n                    ++this.btimer;\n\n                break;\n\n\u672c\u683c\u7684\u306b\u30b3\u30fc\u30c9\u304c\u6c5a\u304f\u306a\u3063\u3066\u304d\u305f\u611f\u3058\u304c\u3042\u308a\u307e\u3059\u3002\u5168\u4f53\u3068\u3057\u3066\u4f55\u3084\u3063\u3066\u308b\u304b\u30b6\u30c3\u3068\u7b87\u6761\u66f8\u304d\u306b\u3057\u307e\u3057\u3087\u3046\n\n\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\n\u30dc\u30fc\u30eb\u306e\u51fa\u308b\u9593\u9694\u3092\u3060\u3093\u3060\u3093\u65e9\u304f\u3059\u308b\n\u4e00\u5b9a\u6642\u9593\u305f\u3063\u305f\u3089\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3059\u308b\n\u4e00\u5b9a\u6642\u9593\u305f\u3063\u305f\u3089\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3059\u308b\n\u30bf\u30a4\u30de\u30fc\u3092\u52a0\u7b97\u3059\u308b\n\n\u3053\u3093\u306a\u611f\u3058\u3063\u3059\u306d\u3002\n\u3061\u306a\u307f\u306bbtimer\u3068\u304bremit\u3068\u304b\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u521d\u671f\u5024\u306f\u5168\u90e8init\u306esetparam()\u3067\u521d\u671f\u5316\u3057\u3066\u307e\u3059\u3002\nthis.setparam();\n\n\u3068\u308a\u3042\u3048\u305a\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\u3068\u3053\u308d\u304b\u3089\u898b\u3066\u307f\u307e\u3059\n                    if (this.btimer % this.remit === 0) {\n                            this.LR = rand(1);\n                            this.vy = 10;\n                            this.vx = (rand(200) -100) /10;\n                            ball = Ball(this.LR,this.vx * this.speed,this.vy * this.speed,0).addChildTo(ballGroup);\n                            this.btimer = 1;\n\n                    }\n\nthis.btimer\u3068\u3044\u3046\u3084\u3064\u304c\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306e\u30bf\u30a4\u30de\u30fc\u3067\u3059\u306d\u3002\u6bce\u30d5\u30ec\u30fc\u30e0\u52a0\u7b97\u3057\u3066this.remit\u3068\u540c\u3058\u5024\u306b\u306a\u308b\u3068\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\u51e6\u7406\u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u3063\u3066\u307e\u3059\u3002\u308f\u304b\u308a\u306b\u304f\u3044\u540d\u524d\u3067\u3059\u306d\u3002\u305b\u3081\u3066this.balltimer\u3068this.ballremit\u304f\u3089\u3044\u306b\u3057\u305f\u307b\u3046\u304c\u3044\u3044\u3067\u3059\u3002\n\u3067\u3001\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\u6642\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3057\u3066\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3057\u3066\u307e\u3059\u306d\nthis.LR\u306f\u30dc\u30fc\u30eb\u3092\u53f3\u304b\u3089\u51fa\u3059\u304b\u5de6\u304b\u3089\u51fa\u3059\u304b\u3092\u6c7a\u3081\u308b\u3084\u3064\u3067\u3059\u3002\u5206\u304b\u308a\u306b\u304f\u3044\u540d\u524d\u3067\u3059\u3002this.LR\u304c0\u3060\u3068\u5de6\u30011\u3060\u3068\u53f3\u304b\u3089\u30dc\u30fc\u30eb\u304c\u51fa\u307e\u3059\u3002rand\u3068\u304b\u3044\u3046\u81ea\u4f5c\u306e\u95a2\u6570\u3067\u30e9\u30f3\u30c0\u30e0\u3067\u5024\u3092\u5165\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u3002\uff11\u3092\u5165\u308c\u308b\u30680\u304b\uff11\u3092\u8fd4\u3057\u307e\u3059\u3002\nthis.vx,this.vy\u306f\u30dc\u30fc\u30eb\u306e\u901f\u5ea6\u3092\u5165\u308c\u3066\u307e\u3059\u3002\u901f\u5ea6\u3068\u3044\u3046\u304b\u3001\u5411\u304d\u307f\u305f\u3044\u306a\u611f\u3058\u3067\u3059\u3002this.vx\u306b\u30e9\u30f3\u30c0\u30e0\u306e\u5024\u3092\u5165\u308c\u308b\u3053\u3068\u3067\u30dc\u30fc\u30eb\u3092\u30d0\u30e9\u30d0\u30e9\u306b\u767a\u5c04\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u5b9f\u969b\u306e\u901f\u5ea6\u306f\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\u3068\u304d\u306bthis.speed\u3092\u639b\u3051\u308b\u3053\u3068\u3067\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002\n\u3067\u3001\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5165\u308c\u3066\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u751f\u6210\u3057\u305f\u30dc\u30fc\u30eb\u306f\u30dc\u30fc\u30eb\u30b0\u30eb\u30fc\u30d7\u306b\u5165\u308c\u3066\u304a\u304f\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3042\u3068\u3067\u4f7f\u3044\u307e\u3059\u3002\n\n\u30dc\u30fc\u30eb\u306e\u51fa\u308b\u9593\u9694\u3092\u3060\u3093\u3060\u3093\u65e9\u304f\u3059\u308b\u51e6\u7406\u3067\u3059\u3002\u30dc\u30fc\u30eb\u304c\u3069\u3093\u3069\u3093\u51fa\u3066\u6765\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u30b2\u30fc\u30e0\u306e\u96e3\u6613\u5ea6\u3092\u5f90\u3005\u306b\u4e0a\u3052\u3066\u3044\u304f\u305f\u3081\u306e\u51e6\u7406\u3067\u3059\u3002\n                    //\u7389\u306e\u51fa\u308b\u9593\u9694\u3092\u72ed\u3081\u308b :\u72ed\u3081\u308b\u30b9\u30d4\u30fc\u30c9\u3060\u3093\u3060\u3093\u9045\u304f\n                    if(this.rtimer > this.rspeed && this.remit > 5){\n                            this.remit -= 1;\n                            this.rspeed += 3;\n                            if(this.remit < 20){\n                                this.rspeed += 10;\n                            }\n                            this.rtimer = 0;\n                    }\n\n\u57fa\u672c\u7684\u306b\u30dc\u30fc\u30eb\u306e\u751f\u6210\u306e\u6642\u306b\u4f7f\u3063\u305fthis.remit\u306e\u5024\u3092\u5909\u3048\u308b\u305f\u3081\u306e\u51e6\u7406\u3067\u3059\u3002this.rtimer\u3068\u304b\u3044\u3046\u30bf\u30a4\u30de\u30fc\u304cthis.rspeed\u3092\u8d8a\u3048\u308b\u3068this.remit\u306e\u5024\u304c\uff11\u6e1b\u308a\u307e\u3059\u3002this.remit\u304c\u6e1b\u308b\u3068\u3001\u30dc\u30fc\u30eb\u304c\u51fa\u3066\u6765\u308b\u306e\u304c\u65e9\u304f\u306a\u308b\u308f\u3051\u3067\u3059\u3002\nthis.rspeed\u306e\u5024\u304c\uff13\u305a\u3064\u5897\u3048\u3066\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001this.remit\u304c\u5f90\u3005\u306b\u6e1b\u308a\u306b\u304f\u304f\u306a\u308a\u307e\u3059\u3002\u306a\u306b\u304c\u3057\u305f\u3044\u304b\u3068\u3044\u3046\u3068\u3001\u6700\u521d\u306f\u96e3\u6613\u5ea6\u304c\u4e0a\u304c\u308b\u30b9\u30d4\u30fc\u30c9\u304c\u65e9\u3081\u3001\u96e3\u6613\u5ea6\u304c\u4e0a\u304c\u3063\u3066\u304b\u3089\u306f\u96e3\u6613\u5ea6\u304c\u4e0a\u304c\u308b\u30b9\u30d4\u30fc\u30c9\u304c\u5f90\u3005\u306b\u7de9\u3084\u304b\u306b\u306a\u308b\u3002\u307f\u305f\u3044\u306a\u3053\u3068\u3092\u3084\u308a\u305f\u304b\u3063\u305f\u3093\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u591a\u5206\u3002\u3042\u3093\u307e\u308a\u8a18\u61b6\u304c\u78ba\u304b\u3067\u306f\u306a\u3044\u3067\u3059\u3002this.remit\u304c20\u5207\u3063\u3066\u304b\u3089\u306fthis.rspeed\u304c\u3055\u3089\u306b\uff11\uff10\u5897\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u3002\n\u3042\u3068this.remit\u306f5\u4ee5\u4e0b\u306b\u306a\u3063\u305f\u3089\u305d\u308c\u4ee5\u4e0a\u6e1b\u3089\u3055\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u306d\u3002\n\n\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3059\u308b\u3068\u304d\u306e\u51e6\u7406\u3067\u3059\n                    //\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\n                    if(this.timer % 500 === 0){\n                        gameflg = 2;\n                        //\u6b21\u304b\u3089\u901a\u5e38\u30e2\u30fc\u30c9\u306e\u7389\u304c\u65e9\u304f\u306a\u308b\n                        this.speed += 0.1\n                    }\n\nthis.timer\u304c500\u306e\u500d\u6570\u306b\u306a\u3063\u305f\u3068\u304d\u306b\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3057\u307e\u3059\u3002\ngameflg\u306b\uff12\u3092\u5165\u308c\u308b\u3053\u3068\u3067\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3067\u304d\u307e\u3059\u3002\n\u3064\u3044\u3067\u306bthis.speed\u306b0.1\u52a0\u7b97\u3059\u308b\u3053\u3068\u3067\u3001\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3059\u308b\u5ea6\u306b\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u306e\u7389\u306e\u30b9\u30d4\u30fc\u30c9\u304c\u4e0a\u304c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\n\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3059\u308b\u3068\u304d\u306e\u51e6\u7406\u3067\u3059\u306d\u3002\u30bf\u30a4\u30de\u30fc\u304cthis.ebouns\u3068\u304b\u3044\u3046\u5909\u6570\u3067\u5272\u308a\u5207\u308c\u308b\u6570\u306b\u306a\u308b\u3068\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\u3082\u306f\u3084\u65e5\u672c\u8a9e\u3067\u3082\u82f1\u8a9e\u3067\u3082\u306a\u3044\u3063\u3059\n                    //\u5165\u308c\u98df\u3044\u30e2\u30fc\u30c9\u306b\u79fb\u884c\n                    if(this.timer % this.ebouns === 0){\n                        //\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u631f\u3093\u3067\u5165\u308c\u98df\u3044\u30e2\u30fc\u30c9\u3078\n                        gameflg = 9;\n                        this.nextmode = 3;\n                        this.ebouns += 500;\n                        this.timer = 1;\n                    }\n\ngameflg\u306b\u306f9\u3092\u5165\u308c\u307e\u3059\u3002\u3053\u308c\u3067\u4e00\u65e6\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u5165\u3063\u3066\u30dc\u30fc\u30eb\u304c\u6d88\u3048\u308b\u306e\u3092\u5f85\u3061\u307e\u3059\u3002\nthis.nextmode\u306f\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306e\u3042\u3068\u306b\u79fb\u884c\u3059\u308b\u30e2\u30fc\u30c9\u3067\u3059\u3002\uff13\u304c\u5165\u3063\u3066\u308b\u306e\u3067\u3001\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306e\u3042\u3068\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\u306b\u5165\u308b\u3063\u3066\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\u3042\u3093\u307e\u308a\u30b9\u30de\u30fc\u30c8\u306a\u51e6\u7406\u3058\u3083\u306a\u3044\u3067\u3059\nthis.ebouns\u306b500\u52a0\u7b97\u3059\u308b\u3053\u3068\u3067\u5f90\u3005\u306b\u30dc\u30fc\u30ca\u30b9\u30bf\u30a4\u30e0\u304c\u51fa\u306b\u304f\u304f\u306a\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\u6700\u5f8c\u306bthis.timer\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u3066\u307e\u3059\u306d\n\n\u5f3e\u5e55\u30e2\u30fc\u30c9\n\u5f3e\u5e55\u30e2\u30fc\u30c9\u3067\u3059\u3002\u30dc\u30fc\u30eb\u304c\u3081\u3063\u3061\u3083\u964d\u3063\u3066\u304d\u307e\u3059\u3002gameflg\u306b\uff12\u304c\u5165\u3063\u3066\u308b\u3068\u52d5\u304d\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\u306f\u3053\u3093\u306a\u611f\u3058\n\n                //\u5f3e\u5e55\u30e2\u30fc\u30c9\n                case 2:\n\n                    // \u7389\u306e\u751f\u6210(\u96e3\u6613\u5ea6\u3092\u3069\u3093\u3069\u3093\u4e0a\u3052\u308b)\n                    if (this.dantimer % 2 === 0) {\n\n                            this.danvy = 4;\n                            ball = Ball(this.LR,this.danvx,this.danvy,1).addChildTo(ballGroup);\n                    }\n\n                    if(this.danvx_remit > this.danvx){\n                        this.danvx += this.danspeed;\n                    }\n                    //\u6b21\u306e\u5f3e\u5e55\u3002\u7389\u306e\u51fa\u308b\u5834\u6240\u3092\u53cd\u8ee2\n                    else{\n                        if(this.LR == 0){\n                            this.LR = 1;\n                        }\n                        else{\n                            this.LR = 0;\n                        }\n                        this.danvx = 0;\n\n                        this.dancnt++;\n                    }\n\n                    //\u5f3e\u5e55\u306e\u7d42\u308f\u308a\n                    if(this.dancnt >= this.danend){\n                        gameflg = 9;\n                        this.nextmode = 1;\n                        this.dancnt = 0;\n                        this.danend++; //\u5f3e\u5e55\u56de\u6570\u304c\u3060\u3093\u3060\u3093\u4e0a\u304c\u308b\n                        this.danspeed += 0.01;\n                    }\n\n                    this.dantimer++;\n\n                break;\n\n\n\u30b6\u30c3\u3068\u8aac\u660e\u3059\u308b\u3068\u3001\uff12\u30d5\u30ec\u30fc\u30e0\u306b\u4e00\u56de\u5f3e\u3092\u767a\u5c04\u3057\u3066\u3001\u767a\u5c04\u3059\u308b\u5ea6\u306b\u767a\u5c04\u306e\u89d2\u5ea6\u3092\u5909\u3048\u3066\u3044\u304d\u307e\u3059\u3002\u89d2\u5ea6\u306e\u30ea\u30df\u30c3\u30c8\u304c\u304d\u305f\u3089\u53cd\u5bfe\u5074\u304b\u3089\u307e\u305f\u767a\u5c04\u3057\u307e\u3059\u3002\u30ea\u30df\u30c3\u30c8\u3092\u8d85\u3048\u308b\u307e\u3067\u304c\u4e00\u56de\u306e\u5f3e\u5e55\u3068\u3057\u3066\u3001\u5f3e\u5e55\u306e\u7dcf\u56de\u6570\u3092\u8d85\u3048\u308b\u307e\u3067\u3053\u308c\u3092\u7e70\u308a\u8fd4\u3059\u611f\u3058\u3067\u3059\n\n\u5f3e\u306e\u751f\u6210\u304c\u3053\u308c\u3067\u3059\u3002this.danvx,this.danvy\u3068\u3044\u3046\u306e\u304c\u5f3e\u306e\u901f\u5ea6\u3067\u3059\u3002\n                    // \u7389\u306e\u751f\u6210(\u96e3\u6613\u5ea6\u3092\u3069\u3093\u3069\u3093\u4e0a\u3052\u308b)\n                    if (this.dantimer % 2 === 0) {\n\n                            this.danvy = 4;\n                            ball = Ball(this.LR,this.danvx,this.danvy,1).addChildTo(ballGroup);\n                    }\n\n\n\nthis.danvx\u304cthis.danvx_remit\u3092\u8d85\u3048\u308b\u307e\u3067this.danvx\u3092\u52a0\u7b97\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u5f3e\u3092\u767a\u5c04\u3059\u308b\u89d2\u5ea6\u304c\u5909\u308f\u308a\u307e\u3059\u3002\u3067\u3001\u30ea\u30df\u30c3\u30c8\u3092\u8d85\u3048\u305f\u3089this.LR\u3092\u53cd\u8ee2\u3057\u3066\u5f3e\u5e55\u30ab\u30a6\u30f3\u30c8\u3092\u52a0\u7b97\u3057\u307e\u3059\n                    if(this.danvx_remit > this.danvx){\n                        this.danvx += this.danspeed;\n                    }\n                    //\u6b21\u306e\u5f3e\u5e55\u3002\u7389\u306e\u51fa\u308b\u5834\u6240\u3092\u53cd\u8ee2\n                    else{\n                        if(this.LR == 0){\n                            this.LR = 1;\n                        }\n                        else{\n                            this.LR = 0;\n                        }\n                        this.danvx = 0;\n\n                        this.dancnt++;\n                    }\n\n\n\u5f3e\u5e55\u30ab\u30a6\u30f3\u30c8\u304cthis.danend\u3092\u8d85\u3048\u308b\u3068\u5f3e\u5e55\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n\u7d42\u4e86\u3059\u308b\u3064\u3044\u3067\u306bthis.danend\u3068this.danspeed\u3092\u52a0\u7b97\u3057\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3068\u6b21\u306e\u5f3e\u5e55\u30e2\u30fc\u30c9\u306e\u3068\u304d\u306b\u3001\u5f3e\u5e55\u56de\u6570\u304c\u5897\u3048\u3066\u5f3e\u5e55\u30dc\u30fc\u30eb\u306e\u30b9\u30d4\u30fc\u30c9\u304c\u4e0a\u304c\u308a\u307e\u3059\u3002\n                    //\u5f3e\u5e55\u306e\u7d42\u308f\u308a\n                    if(this.dancnt >= this.danend){\n                        gameflg = 9;\n                        this.nextmode = 1;\n                        this.dancnt = 0;\n                        this.danend++; //\u5f3e\u5e55\u56de\u6570\u304c\u3060\u3093\u3060\u3093\u4e0a\u304c\u308b\n                        this.danspeed += 0.01;\n                    }\n\n\n\u30dc\u30fc\u30eb\u30af\u30e9\u30b9\n\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u3068\u5f3e\u5e55\u30e2\u30fc\u30c9\u3067\u4f7f\u3046\u30dc\u30fc\u30eb\u30af\u30e9\u30b9\u306e\u89e3\u8aac\u3092\u3057\u307e\u3059\u3002\u7d50\u69cb\u9577\u3044\u306e\u3067\u3001\u30cf\u30b7\u30e7\u308a\u3064\u3064\u89e3\u8aac\u3057\u307e\u3059\u3002\nphina.define('Ball', {\n  superClass: 'CircleShape',\n\n  init: function(LR,vx,vy,ballflg) {\n    this.superInit({\n      radius: BALL_RADIUS,\n      fill: '#eee',\n      stroke: null,\n      cornerRadius: 8,\n    });\n    this.color = \"hsla(10, 75%, 100%, 1)\";\n    this.flg=0;\n\n    this.ballflg = ballflg;\n\n    if(LR == 0){\n            this.x = 50;\n            this.vx = vx;\n    }\n    else{\n            this.x = 620;\n            this.vx = vx * -1;\n    }\n    this.y =320;\n    this.vy = vy;\n\n  },\n\n  update: function(app) {\n\n      //\u30d0\u30fc\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\n      if(this.y >= bar.y - this.vy && this.y <= bar.y +5){\n          //\u7a74\u306b\u5165\u3063\u305f\n          if(this.x >= app.pointer.x - barsize && this.x <= app.pointer.x + barsize){\n              if(this.flg==0){\n                  point += 100 + combo * 10;\n                  combo++;\n                  this.flg = 1;\n\n              }\n          }\n          else{\n              combo = 0;\n              this.vy *= -1;\n              if(this.ballflg == 0){\n              this.color = \"hsla(18, 100%, 70%, 1)\";\n              }\n              else if(this.ballflg == 1){\n              this.color = \"hsla(360, 75%, 50%, 0.8)\";\n              }\n\n          }\n      }\n\n      //\u30d6\u30ed\u30c3\u30af\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\n      var bc = blockGroup.children;\n      var self = this;\n      bc.each(function(block) {\n        //  if(clash(self,block)){\n          if(self.hitTestElement(block)){\n\n              self.vy *= -1;\n              self.vx *= -1;\n              block.remove();\n              self.ballflg++;\n             }\n\n      });\n\n      //\u58c1\u306b\u3042\u305f\u3063\u305f\u3089\u53cd\u8ee2\n      if(this.x < 5 || this.x > SCREEN_WIDTH){\n          this.vx *= -1;\n      }\n\n      //\u4e0b\u306b\u51fa\u305f\u3089\u6d88\u3048\u308b\n      if(this.y > SCREEN_HEIGHT){\n          this.remove();\n      }\n\n      //\u7389\u304c\u4e0a\u306b\u3067\u305f\n      if(this.y < 0){\n          //point += 100;\n          //\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u30d5\u30e9\u30b0\n          gameflg = 0;\n          this.remove();\n      }\n\n      //\u30d6\u30ed\u30c3\u30af\u306b\uff12\u56de\u3042\u305f\u3063\u305f\u3089\u6d88\u3048\u308b\n      if(this.ballflg >= 2){\n          this.remove();\n\n      }\n\n      this.y += this.vy;\n      this.x += this.vx;\n\n  },\n\n  draw: function(c) {\n  c.globalCompositeOperation = \"lighter\";\n  c.fillStyle = this.color;\n  c.fillCircle(0, 0, BALL_RADIUS);\n  },\n\n});\n\n\u305d\u3053\u305d\u3053\u9577\u3044\u3067\u3059\u3002\u30dd\u30a4\u30f3\u30c8\u3092\u7b87\u6761\u66f8\u304d\u306b\u3057\u307e\u3059\n\n\u30dc\u30fc\u30eb\u306e\u51fa\u73fe\u5834\u6240\u8a2d\u5b9a\n\u30dc\u30fc\u30eb\u30d5\u30e9\u30b0\n\u30d1\u30c9\u30eb\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\n\u30d6\u30ed\u30c3\u30af\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\n\u753b\u9762\u5916\u306b\u3067\u305f\u3068\u304d\n\n\u3060\u3044\u305f\u3044\u3053\u3093\u306a\u3082\u3093\u3067\u3059\u3002\n\n\u30dc\u30fc\u30eb\u306e\u51fa\u73fe\u5834\u6240\u3092\u8a2d\u5b9a\u3059\u308b\u51e6\u7406\u304c\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\u30dc\u30fc\u30eb\u3092\u4f5c\u308b\u3068\u304d\u306b\u300cLR\u300d\u3068\u304b\u3044\u3046\u30e4\u30c4\u3092\u6e21\u3057\u307e\u3057\u305f\u3002\u3042\u308c\u3092\u4f7f\u3044\u307e\u3059\n    if(LR == 0){\n            this.x = 50;\n            this.vx = vx;\n    }\n    else{\n            this.x = 620;\n            this.vx = vx * -1;\n    }\n\nLR\u304c\uff10\u306e\u3068\u304d\u306f\u5de6\u306e\u65b9\u304b\u3089\u30011\u306e\u3068\u304d\u306f\u53f3\u306e\u65b9\u304b\u3089\u5f3e\u304c\u51fa\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\uff11\u306e\u3068\u304d\u3001vx\u306b-1\u3092\u639b\u3051\u308b\u3053\u3068\u3067\u5f3e\u306e\u51fa\u308b\u65b9\u5411\u3092\u53cd\u8ee2\u3057\u307e\u3059\u3002\u8981\u3059\u308b\u306b\u7389\u304c\u53f3\u304b\u3089\u5de6\u306b\u52d5\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3059\n\n\u30dc\u30fc\u30eb\u30d5\u30e9\u30b0\u306f\u30dc\u30fc\u30eb\u304c\u4f55\u56de\u30d6\u30ed\u30c3\u30af\u306b\u5f53\u305f\u3063\u305f\u304b\u3092\u8a18\u61b6\u3057\u307e\u3059\u3002\u30d6\u30ed\u30c3\u30af\u306b\u3042\u305f\u3063\u305f\u6642\u306b\u52a0\u7b97\u3055\u308c\u307e\u3059\u3002\nthis.ballflg = ballflg;\n\u3093\u3067\u3001\u30d6\u30ed\u30c3\u30af\u306b\uff12\u56de\u5f53\u305f\u308b\u3068\u30dc\u30fc\u30eb\u304c\u6d88\u3048\u307e\u3059\u3002\n      if(this.ballflg >= 2){\n          this.remove();\n      }\n\n\u3061\u306a\u307f\u306b\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u306e\u6642ballflg\u306b\uff10\u3002\u5f3e\u5e55\u30e2\u30fc\u30c9\u306e\u6642\u306fballflg\u306f\uff11\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u3046\u3059\u308b\u3068\u3001\u5f3e\u5e55\u30e2\u30fc\u30c9\u306e\u6642\u3060\u3051\u306f\u30d6\u30ed\u30c3\u30af\u306b\u4e00\u56de\u3042\u305f\u3063\u305f\u3060\u3051\u3067\u30dc\u30fc\u30eb\u304c\u6d88\u3048\u307e\u3059\u3002\u5f3e\u5e55\u304c\u30d6\u30ed\u30c3\u30af\u306b\u3042\u305f\u3063\u3066\u66f4\u306b\u8df3\u306d\u8fd4\u3063\u3066\u304d\u305f\u3089\u5730\u7344\u7d75\u56f3\u306b\u306a\u3063\u3061\u3083\u3046\u306e\u3067\u3053\u3046\u3057\u3066\u308b\u308f\u3051\u3067\u3059\u3002\n\n\u30d1\u30c9\u30eb\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\u306e\u89e3\u8aac\u3067\u3059\u3002\u30d1\u30c9\u30eb\u5468\u308a\u306f\u7d50\u69cb\u30e0\u30ea\u30e4\u30ea\u306a\u5b9f\u88c5\u3057\u3066\u308b\u306e\u3067\u30a6\u30b1\u307e\u3059\u3002\n      //\u30d0\u30fc\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\n      if(this.y >= bar.y - this.vy && this.y <= bar.y +5){\n          //\u7a74\u306b\u5165\u3063\u305f\n          if(this.x >= app.pointer.x - barsize && this.x <= app.pointer.x + barsize){\n              if(this.flg==0){\n                  point += 100 + combo * 10;\n                  combo++;\n                  this.flg = 1;\n\n              }\n          }\n          else{\n              combo = 0;\n              this.vy *= -1;\n              if(this.ballflg == 0){\n              this.color = \"hsla(18, 100%, 70%, 1)\";\n              }\n              else if(this.ballflg == 1){\n              this.color = \"hsla(360, 75%, 50%, 0.8)\";\n              }\n\n          }\n      }\n\n\u6c5a\u3044\u30b3\u30fc\u30c9\u3067\u3059\u306d\u3002\u3056\u3063\u3068\u89e3\u8aac\u3057\u307e\u3059\u3002\nbar\u3068\u3044\u3046\u3084\u3064\u306b\u30d1\u30c9\u30eb\u306e\u5b9f\u4f53\u304c\u5165\u3063\u3066\u307e\u3059\u3002\u3053\u3044\u3064\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u3067\u5ba3\u8a00\u3057\u3066\u308b\u306e\u3067\u3069\u3053\u3067\u3082\u4f7f\u3048\u307e\u3059\u3002\u3067\u3001bar\u306eY\u4f4d\u7f6e\u306b\u30dc\u30fc\u30eb\u304c\u5230\u9054\u3057\u305f\u3089\u30d1\u30c9\u30eb\u306e\u9593\u306e\u7a74\u306e\u4f4d\u7f6e\u306b\u30dc\u30fc\u30eb\u304c\u5165\u3063\u3066\u308b\u304b\u3069\u3046\u304b\u8abf\u3079\u307e\u3059\u3002\u3069\u3046\u3084\u3063\u3066\u8abf\u3079\u3066\u308b\u304b\u3068\u3044\u3046\u3068\u3001\u307e\u305f\u30bf\u30c3\u30c1\u306e\u30dd\u30a4\u30f3\u30c8\u304b\u3089barsize\u3092\u8db3\u3057\u305f\u308a\u5f15\u3044\u305f\u308a\u3057\u3066\u307e\u3059\u3002\u305d\u3093\u3067\u305d\u306e\u4e2d\u306bball\u306ex\u4f4d\u7f6e\u304c\u5165\u3063\u3066\u308b\u304b\u898b\u3066\u307e\u3059\u3002barsize\u3082\u30b0\u30ed\u30fc\u30d0\u30eb\u5ba3\u8a00\u3055\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u3002\n\u7a74\u306b\u5165\u3063\u3066\u305f\u3089\u30b9\u30b3\u30a2\u3068\u30b3\u30f3\u30dc\u6570\u3092\u4e0a\u3052\u308b\u51e6\u7406\n          if(this.flg==0){\n              point += 100 + combo * 10;\n              combo++;\n              this.flg = 1;\n\n          }\n\n\u30d1\u30c9\u30eb\u306b\u5f53\u305f\u3063\u3066\u305f\u3089\u30dc\u30fc\u30eb\u3092\u53cd\u8ee2\u3055\u305b\u3066\u30b3\u30f3\u30dc\u6570\u3082\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n      else{\n          combo = 0;\n          this.vy *= -1;\n          if(this.ballflg == 0){\n          this.color = \"hsla(18, 100%, 70%, 1)\";\n          }\n          else if(this.ballflg == 1){\n          this.color = \"hsla(360, 75%, 50%, 0.8)\";\n          }\n\n      }\n\nthis.vy\u306b-1\u3092\u639b\u3051\u308b\u3053\u3068\u3067y\u65b9\u5411\u306e\u79fb\u52d5\u304c\u53cd\u8ee2\u3059\u308b\u308f\u3051\u3067\u3059\u3002\n\u3064\u3044\u3067\u306b\u30dc\u30fc\u30eb\u306e\u8272\u3082\u5909\u3048\u3066\u307e\u3059\u3002\uff11\u56de\u5f53\u305f\u308b\u3068\u30aa\u30ec\u30f3\u30b8\u3001\uff12\u56de\u5f53\u305f\u308b\u3068\u30ec\u30c3\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\u8272\u3092\u5909\u3048\u308b\u3053\u3068\u3067\u3001\u300c\u3053\u3044\u3064\u306f\uff11\u56de\u5f53\u305f\u3063\u305f\u30dc\u30fc\u30eb\u3060\u306a\u300d\u3068\u30d7\u30ec\u30a4\u30e4\u30fc\u306b\u308f\u304b\u308a\u3084\u3059\u304f\u306a\u308a\u307e\u3059\u3002\u3064\u3044\u3067\u306b\u30df\u30b9\u3092\u3057\u305f\u3053\u3068\u304c\u8996\u899a\u7684\u306b\u308f\u304b\u308a\u3059\u304f\u306a\u308b\u306e\u3067\u7126\u308a\u307e\u3059\u3002\n\n\u30d6\u30ed\u30c3\u30af\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002\u3064\u3044\u306b\u30d6\u30ed\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u306e\u51fa\u756a\u3067\u3059\u3002\n      //\u30d6\u30ed\u30c3\u30af\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\n      var bc = blockGroup.children;\n      var self = this;\n      bc.each(function(block) {\n\n          if(self.hitTestElement(block)){\n\n              self.vy *= -1;\n              self.vx *= -1;\n              block.remove();\n              self.ballflg++;\n             }\n\n      });\n\nvar bc = blockGroup.children\u3068\u3084\u308b\u3068\u306bbc\u306b\u4eca\u307e\u3067\u30b0\u30eb\u30fc\u30d7\u306b\u5165\u308c\u305f\u30d6\u30ed\u30c3\u30af\u9054\u304c\u5165\u308a\u307e\u3059\u3002\u305d\u3093\u3067bc.each(function(block) \u3063\u3066\u3084\u3064\u3067\u3001\u30b0\u30eb\u30fc\u30d7\u306b\u5165\u308c\u305f\u5168\u90e8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u4e00\u500b\u305a\u3064\u53d6\u5f97\u3057\u3066\u306a\u3093\u304b\u3057\u305f\u308a\u3067\u304d\u308b\u308f\u3051\u3067\u3059\u3002block\u3063\u3066\u3084\u3064\u306b\u53d6\u5f97\u3057\u305f\u30d6\u30ed\u30c3\u30af\u306e\u5b9f\u4f53\u304c\u5165\u3063\u3066\u307e\u3059\u3002\n\u307b\u3093\u3067hitTestElement\u3068\u3044\u3046\u30e4\u30c4\u3067\u30dc\u30fc\u30eb\u3068\u30d6\u30ed\u30c3\u30af\u304c\u63a5\u89e6\u3057\u3066\u308b\u304b\u3069\u3046\u304b\u3092\u898b\u3066\u307e\u3059\u3002\u63a5\u89e6\u3057\u3066\u305f\u3089\u30dc\u30fc\u30eb\u306e\u79fb\u52d5\u65b9\u5411\u3092\u53cd\u8ee2\u3057\u3066\u3001\u30d6\u30ed\u30c3\u30af\u3092\u6d88\u3057\u3066\u3001\u30dc\u30fc\u30eb\u30d5\u30e9\u30b0\u3092\u52a0\u7b97\u3057\u307e\u3059\u3002\n\n\u753b\u9762\u5916\u306b\u51fa\u305f\u6642\u306e\u51e6\u7406\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\n      //\u58c1\u306b\u3042\u305f\u3063\u305f\u3089\u53cd\u8ee2\n      if(this.x < 5 || this.x > SCREEN_WIDTH){\n          this.vx *= -1;\n      }\n\n      //\u4e0b\u306b\u51fa\u305f\u3089\u6d88\u3048\u308b\n      if(this.y > SCREEN_HEIGHT){\n          this.remove();\n      }\n\n      //\u7389\u304c\u4e0a\u306b\u3067\u305f\n      if(this.y < 0){\n          //\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u30d5\u30e9\u30b0\n          gameflg = 0;\n          this.remove();\n      }\n\n\u58c1\u306b\u3042\u305f\u3063\u305f\u3089\u53cd\u8ee2\u3001\u4e0b\u306b\u3044\u3063\u305f\u3089\u30dc\u30fc\u30eb\u3092\u6d88\u3059\u3002\u4e0a\u306b\u3044\u3063\u305f\u3089\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u30d5\u30e9\u30b0\u3092\u7acb\u3066\u3066\u30dc\u30fc\u30eb\u3092\u6d88\u3059\u3001\u3063\u3066\u611f\u3058\u3067\u3059\u3002\u4ee5\u4e0a\uff01\n\n\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\n\u30b2\u30fc\u30e0\u9032\u3081\u305f\u3089\u7a81\u7136\u51fa\u3066\u304f\u308b\u5165\u308c\u98df\u3044\u30dc\u30fc\u30ca\u30b9\u30dc\u30fc\u30eb\u306b\u3064\u3044\u3066\u306e\u89e3\u8aac\u3067\u3059\u3002\u30dc\u30fc\u30eb\u304c\u30b8\u30e3\u30e9\u30b8\u30e3\u30e9\u843d\u3061\u3066\u304d\u307e\u3059\u3002\n\n\u95a2\u4fc2\u306a\u3044\u3051\u3069\u30dc\u30fc\u30ca\u30b9\u4e2d\u306bBGM\u5165\u308c\u308b\u3068\u3057\u305f\u3089\u8ecd\u8266\u884c\u9032\u66f2\u306b\u3057\u3088\u3046\u3068\u601d\u3063\u3066\u307e\u3057\u305f\u3002\u6614\u306e\u30d1\u30c1\u30f3\u30b3\u5c4b\u3067\u6d41\u308c\u3066\u305f\u3084\u3064\u3067\u3059\u3002\n\u30b3\u30fc\u30c9\u306f\u3053\u3061\u3089\n                //\u5165\u308c\u98df\u3044\u30e2\u30fc\u30c9\n                case 3:\n                    barsize = 120;\n                    this.mode.text = \"\u5165\u308c\u98df\u3044\\n\u30dc\u30fc\u30ca\u30b9\uff01\uff01\uff01\"\n\n                    if (this.etimer % 2 === 0) {\n                            this.LR = rand(1);\n                            this.evy = 0.5;\n                            this.evx = (rand(80)) /10;\n                            eball = eBall(this.LR,this.evx,this.evy).addChildTo(ballGroup);\n                    }\n                    this.etimer++;\n\n                    if(this.etimer > 500){\n\n                        this.etimer = 1;\n                        this.mode.text = \"\";\n                        barsize = 80;\n                        gameflg = 9;\n                        this.nextmode = 1;\n\n\n                    }\n\n\n                break;\n\n\n\u3053\u3053\u307e\u3067\u304f\u308b\u3068\u3042\u3093\u307e\u308a\u89e3\u8aac\u3059\u308b\u3053\u3068\u3082\u306a\u3044\u6c17\u304c\u3057\u307e\u3059\u3002\u4e00\u5fdc\u3044\u3063\u3068\u304d\u307e\u3059\u3002\nbarsize = 120\u3063\u3066\u306a\u3063\u3066\u307e\u3059\u306d\u3002\u5165\u308c\u98df\u3044\u30dc\u30fc\u30ca\u30b9\u4e2d\u306f\u30d1\u30c9\u30eb\u306e\u7a74\u306e\u5927\u304d\u3055\u3092\u3061\u3087\u3063\u3068\u5927\u304d\u304f\u3057\u3066\u300c\u5165\u308c\u98df\u3044\u611f\u300d\u3092\u51fa\u3057\u3066\u307e\u3059\nthis.mode.text\u306f\u753b\u9762\u306b\u201d\u5165\u308c\u98df\u3044\u30dc\u30fc\u30ca\u30b9!!\u201d\u3063\u3066\u8868\u793a\u3055\u305b\u308b\u305f\u3081\u306e\u3084\u3064\u3067\u3059\u3002init\u306e\u6642\u306b\u3053\u3063\u305d\u308a\u4f5c\u3063\u3066\u307e\u3059\n\u5f3e\u5e55\u30e2\u30fc\u30c9\u3068\u540c\u3058\u611f\u3058\u3067\uff12\u30d5\u30ec\u30fc\u30e0\u306b\u4e00\u56de\u5165\u308c\u98df\u3044\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3057\u3066\u307e\u3059\u3002this.evy,this.evx\u306b\u5024\u3092\u5165\u308c\u3066\u901f\u5ea6\u3068\u304b\u65b9\u5411\u3092\u6c7a\u3081\u307e\u3059\u3002\u5165\u308c\u98df\u3044\u30dc\u30fc\u30ca\u30b9\u4e2d\u306f\u5165\u308c\u98df\u3044\u30dc\u30fc\u30eb\u3068\u3044\u3046\u7279\u5225\u306a\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3057\u3066\u307e\u3059\u3002eBall\u3063\u3066\u3084\u3064\u3067\u3059\u3002\nthis.etimer\u304c500\u3092\u8d85\u3048\u308b\u3068\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3059\u308b\u51e6\u7406\u304c\u52d5\u304d\u307e\u3059\u3002\u30c6\u30ad\u30b9\u30c8\u3092\u6d88\u3057\u3066\u30d1\u30c9\u30eb\u306e\u9577\u3055\u3092\u623b\u3057\u3066\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u5165\u3063\u305f\u3042\u3068\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3057\u307e\u3059\u3002\n\n\u5165\u308c\u98df\u3044\u30dc\u30fc\u30eb\u30af\u30e9\u30b9\n\u5165\u308c\u98df\u3044\u30dc\u30fc\u30ca\u30b9\u4e2d\u306f\u5165\u308c\u98df\u3044\u30dc\u30fc\u30eb\u3068\u3044\u3046\u7279\u5225\u306a\u30dc\u30fc\u30eb\u3092\u4f7f\u3044\u307e\u3059\u3002\u4e3b\u306a\u9055\u3044\u306f\u30dc\u30fc\u30eb\u304c\u91cd\u529b\u306b\u3088\u3063\u3066\u81ea\u7531\u843d\u4e0b\u3057\u3066\u308b\u3088\u3046\u306b\u898b\u3048\u308b\u3068\u3053\u3067\u3059\u3002\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u3068\u9055\u3063\u3066\u30dc\u30fc\u30eb\u3092\u4e0a\u306b\u98db\u3070\u3055\u306a\u304d\u3083\u3044\u3051\u306a\u3044\u30ef\u30b1\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u3058\u3083\u3042\u3053\u3046\u3044\u3046\u306e\u3082\u3067\u304d\u308b\u3058\u3083\u3093\u3068\u601d\u3063\u3066\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\nphina.define('eBall', {\n  superClass: 'CircleShape',\n\n      init: function(LR,vx,vy) {\n          this.superInit();\n          this.v = phina.geom.Vector2(0, 0);\n\n          if(LR == 0){\n                  this.x = 30;\n                  this.v.x = vx;\n          }\n          else{\n                  this.x = 620;\n                  this.v.x = vx * -1;\n          }\n          this.y =280;\n          this.vy = vy;\n\n          this.flg = 0;\n\n          this.timer = 1;\n\n          this.color = \"hsla(100, 100%, 100%, 1)\";\n\n      },\n\n      update: function(app) {\n          this.v.y += this.vy;\n\n          //\u58c1\u306b\u3042\u305f\u3063\u305f\u3089\u53cd\u8ee2\n          if(this.x < 5 || this.x > SCREEN_WIDTH){\n              this.x = 5\n              this.v.x *= -1;\n              this.vx *= -1;\n          }\n\n          //\u30d0\u30fc\u306b\u3042\u305f\u3063\u305f\n          if(this.y + 10 >= bar.y && this.y + 10<= bar.y + this.v.y ){\n              //\u7a74\u306b\u5165\u3063\u305f\n              if(this.x >= app.pointer.x - barsize && this.x <= app.pointer.x + barsize){\n                  if(this.flg==0){\n                      point += 50 + combo;\n                      combo++;\n                      this.flg = 1;\n\n                  }\n              }\n              else{\n                  this.v.y *= -0.6;\n\n              }\n          }\n          this.position.add(this.v);\n\n          //\u6642\u9593\u304c\u7acb\u3063\u305f\u3089\u5909\u8272\u3000\uff1e\u3000\u6d88\u3048\u308b\n          if(this.timer > 130){\n              this.color = \"hsla(360, 75%, 50%, 0.8)\";\n              if(this.timer > 160){\n                  this.remove();\n              }\n\n          }\n\n          //\u4e0b\u306b\u51fa\u305f\u3089\u6d88\u3048\u308b\n          if(this.y > SCREEN_HEIGHT){\n              this.remove();\n          }\n\n          this.timer++;\n      },\n\n      draw: function(c) {\n      c.globalCompositeOperation = \"lighter\";\n      c.fillStyle = this.color;\n      c.fillCircle(0, 0, BALL_RADIUS);\n      },\n});\n\n\n\u4e2d\u8eab\u306f\u30dc\u30fc\u30eb\u30af\u30e9\u30b9\u3068\u3060\u3044\u305f\u3044\u540c\u3058\u3067\u3059\u3002this.v\u3068\u3044\u3046\u3084\u3064\u3067\u79fb\u52d5\u3092\u51e6\u7406\u3057\u3066\u308b\u3068\u3053\u308d\u3068\u3001\u6642\u9593\u304c\u305f\u3064\u3068\u30dc\u30fc\u30eb\u304c\u6d88\u3048\u308b\u6240\u304c\u9055\u3044\u307e\u3059\u3002\nthis.v = phina.geom.Vector2(0, 0);\n\u3063\u3066\u611f\u3058\u3067this.v\u3092\u5b9a\u7fa9\u3057\u3066\u307e\u3059\u3002\u3053\u306ethis.v\u3092\u4f7f\u3063\u3066\u30dc\u30fc\u30eb\u306e\u79fb\u52d5\u3092\u3057\u3066\u307e\u3059\u3002\u305d\u308c\u3063\u307d\u304f\u843d\u4e0b\u3057\u305f\u308a\u8df3\u306d\u305f\u308a\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u308f\u3051\u3067\u3059\u3002\u305f\u3057\u304b\u305d\u3046\u3057\u307e\u3057\u305f\u3002\u3042\u3093\u307e\u308a\u899a\u3048\u3066\u306a\u3044\u3067\u3059\u3002\n\u3053\u3093\u306a\u611f\u3058\u3067\u3001this.v.y\u306bthis.vy\u3092\u52a0\u7b97\u3057\u3066\nthis.v.y += this.vy;\n\u3067\u3001\u591a\u5206\u3053\u308c\u3067\u4f4d\u7f6e\u306e\u66f4\u65b0\u3092\u3057\u3066\u307e\u3059\u3002\nthis.position.add(this.v);\n\u8a18\u61b6\u304c\u66d6\u6627\u306a\u306e\u306f\u591a\u5206\u3069\u3063\u304b\u304b\u3089\u30b3\u30d4\u3063\u3066\u304d\u305f\u30b3\u30fc\u30c9\u3060\u304b\u3089\u3067\u3059\u3002\u4eba\u306e\u30b3\u30fc\u30c9\u3092\u30d1\u30af\u3063\u3066\u3070\u304b\u308a\u3044\u308b\u3068\u3053\u3046\u3044\u3046\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u6c17\u3092\u4ed8\u3051\u307e\u3057\u3087\u3046\u3002\n\u8003\u3048\u65b9\u3068\u3057\u3066\u306f\u3001this.vy\u304c\u3044\u308f\u3070\u91cd\u529b\u3067\u3059\u3001\u3053\u306e\u91cd\u529b\u3092\u5e38\u306bthis.v.y\u306b\u52a0\u7b97\u3057\u7d9a\u3051\u307e\u3059\u3002\u4f8b\u3048\u3070this.v.y\u304c\u4e0a\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u9032\u3093\u3067\u3044\u308b\u3068\u3057\u3066\u3082\u3001\u91cd\u529b\u3092\u52a0\u7b97\u3057\u307e\u304f\u3063\u3066\u308b\u306e\u3067\u3044\u305a\u308c\u91cd\u529b\u306e\u5411\u304b\u3046\u65b9\u5411\u306b\u843d\u3061\u3066\u3044\u304d\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001\u30dc\u30fc\u30eb\u304c\u30d1\u30c9\u30eb\u306b\u843d\u3061\u3066\u8df3\u306d\u305f\u3042\u3068\u3001\u307e\u305f\u81ea\u7136\u306b\u843d\u3061\u3066\u304f\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\u305f\u3076\u3093\u305d\u3093\u306a\u611f\u3058\u3067\u3059\uff01\u305f\u3076\u3093\uff01\uff01\uff01\n\u30d1\u30c9\u30eb\u306b\u30dc\u30fc\u30eb\u304c\u843d\u3061\u305f\u6642\u306b\u3053\u3093\u306a\u51e6\u7406\u3092\u3057\u3066\u307e\u3059\u3002\nthis.v.y *= -0.6;\nthis.v.y\u3092\u3061\u3087\u308d\u3063\u3068\u53cd\u8ee2\u3059\u308b\u3053\u3068\u3067\u30dc\u30fc\u30eb\u304c\u8df3\u306d\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u305b\u3066\u308b\u308f\u3051\u3067\u3059\u3002-0.6\u3092-1\u306b\u5909\u3048\u308b\u3068\u305a\uff5e\u3063\u3068\u8df3\u306d\u7d9a\u3051\u307e\u3059\n\u3067\u3001\u6642\u9593\u304c\u305f\u3063\u305f\u3089\u30dc\u30fc\u30eb\u304c\u6d88\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u307e\u3059\n          //\u6642\u9593\u304c\u7acb\u3063\u305f\u3089\u5909\u8272\u3000\uff1e\u3000\u6d88\u3048\u308b\n          if(this.timer > 130){\n              this.color = \"hsla(360, 75%, 50%, 0.8)\";\n              if(this.timer > 160){\n                  this.remove();\n              }\n\n          }\n\n\u6d88\u3048\u308b\u3061\u3087\u3063\u3068\u524d\u306b\u30dc\u30fc\u30eb\u3092\u8d64\u304f\u3057\u3066\u300c\u3082\u3046\u3059\u3050\u6d88\u3048\u308b\u305c\u300d\u3063\u3066\u3044\u3046\u544a\u77e5\u3092\u3055\u305b\u3066\u307e\u3059\u3002\n\n\u30b9\u30b3\u30a2\u3068\u30b3\u30f3\u30dc\u8868\u793a\n\u5de6\u4e0a\u306b\u30b9\u30b3\u30a2\u304c\u8868\u793a\u3055\u308c\u3066\u307e\u3059\u306d\u3002\n\n\u3042\u3068\u30b3\u30f3\u30dc\u6570\u3068\u304b\u3082\u8868\u793a\u3055\u308c\u3066\u307e\u3059\u3002\n\n\u3053\u3044\u3064\u3089\u306fMainScene\u306einit\u3067\u4f5c\u3063\u3066\u307e\u3059\u3002\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u3067\u30b9\u30b3\u30a2\u304c\u898b\u3048\u306a\u3044\u306e\u306ftext\u306b\u4f55\u3082\u5165\u3063\u3066\u306a\u3044\u304b\u3089\u3067\u3059\u3002\n    //\u30e9\u30d9\u30eb\n    this.score = Label({\n      text: '',\n      fill: 'white',\n      fontSize: 32,\n    }).addChildTo(this);\n    this.score.x = 80;\n    this.score.y =20;\n\n    this.Combolabel = Label({\n      text: '',\n      fill: 'hsla(123, 80%, 50%, 8.0)',\n      fontSize: 40,\n    }).addChildTo(this);\n    this.Combolabel.x = 120;\n    this.Combolabel.y =600;\n\n\u305d\u3057\u3066gamemain\u306e\u4e2d\u3067\u3053\u3093\u306a\u611f\u3058\u3067\u66f4\u65b0\u3092\u3057\u3066\u307e\u3059\u3002\n           //\u30e9\u30d9\u30eb\u66f4\u65b0\n            this.score.text = \"SCORE:\" + point;\n            if(combo > 0){\n                this.Combolabel.text = combo + \" Combo!\";\n            }\n            else{\n                this.Combolabel.text = \"\";\n            }\n\nthis.score.text\u306b\u30b9\u30b3\u30a2\u306e\u6587\u5b57\u5217\u3092\u5165\u308c\u308b\u3068\u3001\u30b9\u30b3\u30a2\u304c\u898b\u308c\u307e\u3059\u3002\n\u30b3\u30f3\u30dc\u30c6\u30ad\u30b9\u30c8\u306f\u30b3\u30f3\u30dc\u304c\uff10\u306e\u6642\u306f\u898b\u3048\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u3002point\u3068\u3044\u3046\u306e\u304c\u5b9f\u969b\u306e\u30b9\u30b3\u30a2\u30dd\u30a4\u30f3\u30c8\u304c\u5165\u3063\u3066\u308b\u30e4\u30c4\u3067\u3059\u306d\u3002combo\u306b\u30b3\u30f3\u30dc\u6570\u304c\u5165\u3063\u3066\u307e\u3059\n\n\u30b9\u30b3\u30a2\u3068\u30b3\u30f3\u30dc\u306e\u52a0\u7b97\u306f\u30dc\u30fc\u30eb\u30af\u30e9\u30b9\u3067\u3001\u30dc\u30fc\u30eb\u304c\u7a74\u306b\u5165\u3063\u305f\u6642\u306b\u3084\u3063\u3066\u307e\u3059\n                  point += 100 + combo * 10;\n                  combo++;\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u7a74\u306b\u5165\u308b\u3068\u30b9\u30b3\u30a2\u304c\u4e0a\u304c\u308a\u307e\u3059\u3002\u57fa\u672c\u306e\u30dd\u30a4\u30f3\u30c8\u304c100\u70b9\u3067\u3001\u66f4\u306b\u30b3\u30f3\u30dc\u6570\u00d710\u30dd\u30a4\u30f3\u30c8\u5165\u308a\u307e\u3059\u3002\u30b3\u30f3\u30dc\u6570\u304c\u4e0a\u304c\u308b\u307b\u3069\u3082\u3089\u3048\u308b\u30dd\u30a4\u30f3\u30c8\u304c\u3069\u3093\u3069\u3093\u5897\u3048\u3066\u3044\u304f\u30ef\u30b1\u3067\u3059\u3002\n\n\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\n\u30dc\u30fc\u30eb\u304c\u4e0a\u306b\u884c\u304f\u3068\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u3067\u3059\u3002\n\n\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u6642\u306e\u51e6\u7406\u306f\u3053\u3093\u306a\u611f\u3058\n                //\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u6642\u306e\u51e6\u7406\n                case 0:\n                    this.Combolabel.text = \"\";\n                    combo = 0;\n\n                    this.mba = ballGroup.children;\n                    this.mba.each(function(ball) {\n                        ball.remove();\n                     });\n\n                    if(this.gameovertimer==0){\n                        this.mbc = blockGroup.children;\n                        this.mbc.each(function(block) {\n                                block.vy = rand(40) - 10;\n                                block.vx = rand(20) - 10;\n                                block.rotation = 30;\n                            });\n                    }\n\n                    if (this.gameovertimer > 40) {\n                        this.mbc.each(function(block) {\n                            block.remove();\n                        });\n                    }\n\n                    if (this.gameovertimer > 70) {\n                        //app.replaceScene(EndScene());\n                        this.score.tweener.clear()\n                                     .to({x:SCREEN_WIDTH/2,y:400,scaleX:1.5,scaleY:1.5}, 150,\"easeInSine\")\n\n\n\n                         this.gameoverlabel.tweener.clear()\n                                      .to({y:150,scaleX:2,scaleY:2}, 200,\"easeInSine\")\n\n                    }\n\n                    ++this.gameovertimer;\n                break;\n\n\u307e\u3068\u3081\u308b\u3068\n1. \u30dc\u30fc\u30eb\u3092\u6d88\u3059\n2. \u30d6\u30ed\u30c3\u30af\u3092\u5439\u3063\u98db\u3070\u3059\n3. \u30d6\u30ed\u30c3\u30af\u3092\u6d88\u3059\n4. \u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u30e9\u30d9\u30eb\u3068\u30b9\u30b3\u30a2\u30e9\u30d9\u30eb\u3092\u30ba\u30a4\u30c3\u3068\u51fa\u3059\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059\n\n\u30dc\u30fc\u30eb\u3092\u6d88\u3059\u6642\u306e\u51e6\u7406\u3067\u3059\u3002\u3064\u3044\u3067\u306b\u30b3\u30f3\u30dc\u30e9\u30d9\u30eb\u3082\u6d88\u3057\u3066\u307e\u3059\u3002\n                    this.Combolabel.text = \"\";\n                    combo = 0;\n\n                    this.mba = ballGroup.children;\n                    this.mba.each(function(ball) {\n                        ball.remove();\n                     });\n\nballGroup.children\u304b\u3089\u30dc\u30fc\u30eb\u9054\u3092\u53d6\u5f97\u3057\u3066\u5168\u90e8remove\u3057\u3066\u307e\u3059\u306d\u3002\u305d\u3093\u3060\u3051\u3067\u3059\u3002\n\n\u30d6\u30ed\u30c3\u30af\u3092\u5439\u3063\u98db\u3070\u3059\u51e6\u7406\u3067\u3059\u3002\u306a\u305c\u30d6\u30ed\u30c3\u30af\u3092\u5439\u3063\u98db\u3070\u3059\u304b\u3068\u3044\u3046\u3068\u3001\u306a\u3093\u304b\u305d\u306e\u307b\u3046\u304c\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u3063\u307d\u3044\u304b\u3089\u3067\u3059\n                    if(this.gameovertimer==0){\n                        this.mbc = blockGroup.children;\n                        this.mbc.each(function(block) {\n                                block.vy = rand(40) - 10;\n                                block.vx = rand(20) - 10;\n                                block.rotation = 30;\n                            });\n                    }\n\nthis.gameovertimer\u3068\u3044\u3046\u306e\u306f\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u3057\u3066\u304b\u3089\u306e\u6642\u9593\u3067\u3059\u3002\u6642\u9593\u306e\u7d4c\u904e\u306b\u3088\u3063\u3066\u51e6\u7406\u3092\u5165\u308c\u3066\u3044\u304d\u307e\u3059\u3002\u3084\u3063\u3064\u3051\u306e\u5b9f\u88c5\u3067\u3059\nblockGroup\u304b\u3089\u30d6\u30ed\u30c3\u30af\u3092\u53d6\u5f97\u3057\u3066block.vy,block.vx\u306b\u30e9\u30f3\u30c0\u30e0\u306e\u5024\u3092\u5165\u308c\u3066\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3068\u30d6\u30ed\u30c3\u30af\u304c\u30c6\u30ad\u30c8\u30fc\u306a\u65b9\u5411\u306b\u98db\u3093\u3067\u3044\u304d\u307e\u3059\u3002block.rotation\u306b\u5024\u3092\u5165\u308c\u308b\u3068\u30d6\u30ed\u30c3\u30af\u306e\u89d2\u5ea6\u304c\u5909\u308f\u308a\u307e\u3059\u3002\u3061\u3087\u3063\u3068\u50be\u3051\u3066\u98db\u3070\u3059\u305f\u3081\u306b\uff13\uff10\u5165\u308c\u3066\u307e\u3059\u3002\n\nthis.gameovertimer\u304c40\u3092\u8d85\u3048\u305f\u3089\u30d6\u30ed\u30c3\u30af\u3092\u6d88\u3057\u307e\u3059\u3002\n                    if (this.gameovertimer > 40) {\n                        this.mbc.each(function(block) {\n                            block.remove();\n                        });\n                    }\n\n\nthis.gameovertimer\u304c70\u3092\u8d85\u3048\u305f\u3089\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u30e9\u30d9\u30eb\u3068\u30b9\u30b3\u30a2\u3092Tweener\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3067\u30ba\u30a4\uff5e\u3063\u3068\u30a2\u30c3\u30d7\u3057\u307e\u3059\n\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u30e9\u30d9\u30eb\u306finit\u306e\u6642\u306b\u4f5c\u3063\u3066\u753b\u9762\u5916\u306e\u4e0a\u306e\u65b9\u306b\u96a0\u3057\u3066\u307e\u3059\u3002\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u3053\u3068\u3067\u4e0b\u306b\u964d\u308a\u3066\u304d\u3066\u898b\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u539f\u59cb\u7684\u3067\u3059\u3002\n                    if (this.gameovertimer > 70) {\n                        this.score.tweener.clear()\n                                     .to({x:SCREEN_WIDTH/2,y:400,scaleX:1.5,scaleY:1.5}, 150,\"easeInSine\")\n\n                         this.gameoverlabel.tweener.clear()\n                                      .to({y:150,scaleX:2,scaleY:2}, 200,\"easeInSine\")\n\n                    }\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u89e3\u8aac\u306f\u3053\u308c\u3067\u7d42\u308f\u308a\u3067\u3059\n\n\u304a\u308f\u308a\u306b\n\u306a\u304c\u304b\u3063\u305f\u30fc\u30fc\u30fc\u30fc\u30fc\uff01\uff01\u304a\u4ed8\u304d\u5408\u3044\u3044\u305f\u3060\u304d\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\u307e\u3042\u3053\u3093\u306a\u611f\u3058\u3067\u4ffa\u307f\u305f\u3044\u306a\u30e2\u30f3\u3067\u3082\u7c21\u5358\u306b\u30b2\u30fc\u30e0\u3092\u4f5c\u308c\u308b\u306e\u304cphina.js\u306e\u9b45\u529b\u3067\u3059\u3002\n\u6c17\u306b\u306a\u3063\u305f\u4eba\u306f\u3068\u308a\u3042\u3048\u305a\u30b2\u30fc\u30e0\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u4f5c\u3063\u305f\u3089twitter\u304b\u4f55\u304b\u3067\u516c\u958b\u3057\u3066\u307f\u3093\u306a\u306b\u898b\u3066\u3082\u3089\u3044\u307e\u3057\u3087\u3046\u3002\ntwitter\u306a\u3069\u3067\u516c\u958b\u3059\u308b\u3068\u304d\u306f\u30c4\u30c3\u30b3\u30df\u3069\u3053\u308d\u3092\u7528\u610f\u3057\u3066\u304a\u304f\u3068\u898b\u3066\u3082\u3089\u3044\u3084\u3059\u3044\u304b\u3082\u3067\u3059\u3002\u30c4\u30c3\u30b3\u3080\u305f\u3081\u306b\u30b3\u30e1\u30f3\u30c8\u4ed8\u304d\u3067\u62e1\u6563\u3057\u3066\u304f\u308c\u305f\u308a\u3057\u307e\u3059\u304b\u3089\u3002\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u306e\u30c4\u30c3\u30b3\u30df\u3069\u3053\u308d\u306f\u300c\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u300d\u3068\u3044\u3046\u30bf\u30a4\u30c8\u30eb\u3067\u3059\u3002\u306f\u3044\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u7d42\u4e86\u3067\u3059\u3002\u3055\u3088\u3046\u306a\u3089\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\uff01\uff01\uff01\u7d42\u4e86\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\uff01\uff01\uff01\uff01\u3055\u3088\u3046\u306a\u3089\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\uff01\uff01\uff01\uff01\uff01\n\u3042\u3001\u3088\u304b\u3063\u305f\u3089\u30b5\u30a4\u30c8\u306b\u30b2\u30fc\u30e0\u4e0a\u3052\u3066\u308b\u306e\u3067\u3084\u3063\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u5ba3\u4f1d\u3067\u3059\u3002\n\u304b\u3061\u3083\u30b3\u30e0\n\u3067\u306f\u3055\u3088\u3046\u306a\u3089\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\uff01\uff01\uff01\uff01\uff01\n\u672c\u8a18\u4e8b\u306f[phina.js Advent Calendar 2015](http://qiita.com/advent-calendar/2015/phinajs)\u306e16\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n[phina.js\u306b\u3064\u3044\u3066](http://phinajs.com/)\n\n***\n\n\u3053\u3093\u306b\u3061\u306f\u3002\n\n\u4ee5\u524dphina.js\u306e\u524d\u8eabtmlib.js\u3067[\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c](http://cachacacha.com/GAME/BlockKUZUSAZU/)\u3068\u3044\u3046\u30b2\u30fc\u30e0\u3092\u4f5c\u3063\u305f\u8005\u3067\u3059\u3002\u305d\u3053\u305d\u3053\u5c0f\u3055\u3044\u8a71\u984c\u306b\u306a\u308a\u3001[\u30cb\u30e5\u30fc\u30b9\u30b5\u30a4\u30c8](http://nlab.itmedia.co.jp/nl/articles/1401/20/news094.html)\u306b\u53d6\u308a\u4e0a\u3052\u3089\u308c\u305f\u308a\u3057\u307e\u3057\u305f\n\n\u4eca\u56de\u306f\u3053\u306e\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u3092phina.js\u306b\u79fb\u690d\u3057\u3064\u3064\u3001\u4e2d\u8eab\u306b\u3064\u3044\u3066\u975e\u5e38\u306b\u5927\u3056\u3063\u3071\u306b\u89e3\u8aac\u3092\u3044\u308c\u3066\u3044\u3053\u3046\u3068\u3044\u3046\u8a18\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\u3064\u3044\u3067\u306b\uff12\u5e74\u524d\u304f\u3089\u3044\u306b\uff12\u65e5\u3050\u3089\u3044\u3067\u66f8\u3044\u305f\u304d\u3063\u305f\u306a\u3044\u30b3\u30fc\u30c9\u306a\u306e\u3067\u8272\u3005\u30c4\u30c3\u30b3\u3093\u3067\u3044\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\u3042\u3093\u307e\u308a\u53c2\u8003\u306b\u306a\u3089\u306a\u304b\u3063\u305f\u3089\u3054\u3081\u3093\u306a\u3055\u3044\u3002\n\u8a73\u3057\u3044\u6a5f\u80fd\u306e\u89e3\u8aac\u306a\u3069\u306f\u3053\u306eAdvent Calendar\u306e\u4ed6\u306e\u30e1\u30f3\u30d0\u30fc\u304c\u3057\u3066\u3044\u3089\u3063\u3057\u3083\u308b\u306e\u3067\u305d\u308c\u3089\u3092\u30ac\u30f3\u30ac\u30f3\u5f15\u7528\u3057\u3064\u3064\u3001\u5b9f\u969b\u306b\u305d\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3069\u3093\u306a\u611f\u3058\u3067\u30b2\u30fc\u30e0\u3092\u4f5c\u3063\u3066\u3044\u304f\u304b\u307f\u305f\u3044\u306a\u30c6\u30fc\u30de\u3067\u66f8\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\u3068\u3044\u3046\u304b\u305d\u308c\u3050\u3089\u3044\u3057\u304b\u66f8\u3051\u306a\u3044\u306e\u3067\u52d8\u5f01\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30de\u30b8\u3067\n\n\n#\u5b8c\u6210\u54c1\u306f\u3053\u3061\u3089\n\n\u306f\u3044\u3001\u65e9\u901f\u3067\u3059\u304c\u5b8c\u6210\u54c1\u304c\u3053\u3061\u3089\u3067\u3059\u3002\u307e\u305a\u306f\u4e00\u56de\u904a\u3093\u3067\u307f\u307e\u3057\u3087\u3046\u3002\u591a\u5206\u304a\u3082\u3057\u308d\u3044\u306f\u305a\u3067\u3059\u3002\u591a\u5206\u3002\n\n[\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c phina.js](http://goo.gl/fZKPhP)\n\n![\u30ad\u30e3\u30d7\u30c1\u30e3.PNG](https://qiita-image-store.s3.amazonaws.com/0/62035/f3d7ba09-d18e-e02f-0725-67ddcce6289e.png)\n\n\n\u904a\u3073\u307e\u3057\u305f\u304b\uff1f\u3069\u3046\u3067\u3057\u305f\u304b\uff1f\u3088\u304b\u3063\u305f\u3089\u611f\u60f3\u304f\u3060\u3055\u3044\u3002\n\u3058\u3083\u3042\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\n\n\u3061\u306a\u307f\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3082\u5168\u90e8\u898b\u308c\u308b\u306e\u3067\u3001\u3053\u3044\u3064\u3092\u53c2\u7167\u3057\u306a\u304c\u3089\u8aad\u307f\u9032\u3081\u3066\u3084\u3063\u3066\u304f\u3060\u3055\u3044\n[\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9](http://goo.gl/T6ks7G)\n\n#\u30b2\u30fc\u30e0\u306e\u6982\u8981\n\u7c21\u5358\u306b\u30b2\u30fc\u30e0\u306e\u5185\u5bb9\u306b\u89e6\u308c\u3066\u304a\u304d\u307e\u3059\u3002\n\u305d\u306e\u540d\u306e\u901a\u308a\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u306e\u9006\u306e\u30b2\u30fc\u30e0\u3067\u3001\u30d6\u30ed\u30c3\u30af\u3092\u5d29\u3055\u306a\u3044\u30b2\u30fc\u30e0\u3067\u3059\u3002\n\u30dc\u30fc\u30eb\u304c\u30dd\u30f3\u30dd\u30f3\u964d\u3063\u3066\u304f\u308b\u306e\u3067\u30d1\u30c9\u30eb\u3092\u64cd\u4f5c\u3057\u3066\u30dc\u30fc\u30eb\u3092\u4e0b\u306b\u843d\u3068\u3057\u3066\u3084\u308b\u3068\u3001\u30d6\u30ed\u30c3\u30af\u3092\u5b88\u3063\u3066\u3084\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d6\u30ed\u30c3\u30af\u3092\u5d29\u3057\u307e\u304f\u3063\u3066\u30dc\u30fc\u30eb\u304c\u4e0a\u306b\u3044\u3063\u3061\u3083\u3046\u3068\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u3067\u3059\u3002\u30b2\u30fc\u30e0\u304c\u7d9a\u304f\u3068\u5f3e\u5e55\u307f\u305f\u3044\u306b\u30dc\u30fc\u30eb\u304c\u3075\u3063\u3066\u304d\u305f\u308a\u3001\u30dc\u30fc\u30ca\u30b9\u30bf\u30a4\u30e0\u306a\u3069\u3082\u3042\u308a\u307e\u3059\u3002\n\n\u8981\u3059\u308b\u306b\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u306e\u30d1\u30af\u30ea\u3067\u672c\u8cea\u7684\u306b\u30b2\u30fc\u30e0\u6027\u3082\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u3068\u307b\u307c\u5909\u308f\u308a\u307e\u305b\u3093\uff08\u591a\u5206\uff09\u3002\u30d1\u30af\u30ea\u30b2\u30fc\u30e0\u306e\u826f\u3044\u3068\u3053\u308d\u306f\u5143\u306b\u306a\u3063\u305f\u30b2\u30fc\u30e0\u3067\u30b2\u30fc\u30e0\u6027\u304c\u4fdd\u8a3c\u3055\u308c\u3066\u3044\u308b\u3068\u3053\u308d\u3067\u3059\u3002\u305d\u306e\u3046\u3048\u3067\u898b\u6804\u3048\u3068\u8003\u3048\u65b9\u3092\u5c11\u3057\u5909\u3048\u3066\u3084\u308b\u3068\u4f4e\u30b3\u30b9\u30c8\u3067\u9055\u3046\u30d7\u30ec\u30a4\u611f\u306e\u30b2\u30fc\u30e0\u304c\u4f5c\u308c\u305f\u308a\u3059\u308b\u306e\u3067\u521d\u5fc3\u8005\u306e\u4eba\u306b\u304a\u3059\u3059\u3081\u3067\u3059\u3002\u8a34\u3048\u3089\u308c\u306a\u3044\u7a0b\u5ea6\u3067\u3002\n\n\u4e38\u30d1\u30af\u30ea\u306f\u305b\u305a\u306b\u3001\u65e2\u5b58\u306e\u30a2\u30a4\u30c7\u30a2\u306b\u5225\u306e\u30a2\u30a4\u30c7\u30a2\u3092\u4e57\u305b\u3066\u30d1\u30af\u308b\u306e\u304c\u3046\u307e\u3044\u30d1\u30af\u30ea\u304b\u305f\u3067\u3059\u3002\u306a\u3093\u304b\u306e\u672c\u306b\u305d\u3046\u66f8\u3044\u3066\u3042\u308a\u307e\u3057\u305f\u3002\n\n#tmlib.js\u304b\u3089\u79fb\u690d\n\u306a\u306b\u306f\u3068\u3082\u3042\u308c\u307e\u305a\u306f\u79fb\u690d\u3057\u3066\u3044\u304d\u307e\u3059\u3002tmlib.js\u3067\u4f5c\u3063\u305f\u30b2\u30fc\u30e0\u306e\u79fb\u690d\u3068\u304b\u3057\u306a\u3044\u4eba\u306f\u3001\u4e00\u6c17\u306b\u8aad\u307f\u98db\u3070\u3057\u3061\u3083\u3063\u3066\u3082\u5927\u4e08\u592b\u3067\u3059\u3002GO!!\n\ntmlib.js\u7248\u306e\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u306f[\u3053\u3061\u3089](http://cachacacha.com/GAME/BlockKUZUSAZU/)\u3002\n\n\u3067\u306f\u3001\u79fb\u690d\u3059\u308b\u306b\u3042\u305f\u3063\u3066\u3084\u3063\u305f\u3053\u3068\u3092\u5927\u3056\u3063\u3071\u306b\u7b87\u6761\u66f8\u304d\u306b\u3057\u3066\u307f\u307e\u3059\u3002\n\n1. phina.js\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30b3\u30d4\u30da\u3059\u308b\uff01\uff01\uff01\n2. tmlib.js\u7248\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u304b\u3089\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30b3\u30d4\u30da\u3059\u308b\uff01\uff01\n3. tmlib.js\u304b\u3089phina.js\u3067\u540d\u524d\u304c\u5909\u308f\u3063\u305f\u3084\u3064\u306e\u540d\u524d\u3068\u304b\u5909\u3048\u308b\uff01\uff01\n4. \u4ee5\u4e0a\uff01\uff01\uff01\uff01\n\n\u4ee5\u4e0a\u3067\u3059\u3002\u7c21\u5358\u3067\u3059\u3002\n\u3076\u3063\u3061\u3083\u3051\u4f5c\u696d\u91cf\u306f\u30b2\u30fc\u30e0\u306b\u3088\u3063\u3066\u30d4\u30f3\u30ad\u30ea\u3060\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u4ffa\u306e\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3057\u305f\u3002\n\n\u307e\u305a\u306fphina.js\u306e\u30b5\u30a4\u30c8\u304b\u3089phina.js\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30b3\u30d4\u3063\u3066\u304d\u307e\u3059\u3002\n\n[\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8](http://goo.gl/cTVlvD)\n\n\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306btmlib.js\u7248\u306e\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u5fc5\u8981\u306a\u3068\u3053\u3092\u30b3\u30d4\u3063\u3066\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002\ntmlib.js\u7248\u306eMainScene\u306e\u4e2d\u8eab\u3092\u30c6\u30f3\u30d7\u30ec\u2015\u30c8\u306eMainScene\u306b\u30b3\u30d4\u3063\u305f\u308a\u5404\u7a2e\u30af\u30e9\u30b9\u306e\u30bd\u30fc\u30b9\u306a\u3093\u304b\u3092\u30b3\u30d4\u3063\u305f\u308a\u3059\u308b\u308f\u3051\u3067\u3059\u3002\n\n\u6b21\u306btmlib.js\u304b\u3089phina.js\u306b\u306a\u3063\u3066\u540d\u524d\u304c\u5909\u308f\u3063\u305f\u3068\u3053\u3092\u5909\u3048\u3066\u3044\u304d\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u30af\u30e9\u30b9\u3092\u4f5c\u308b\u3068\u304d\u306e\u3084\u3064\u304ctm.define\u304b\u3089phina.define\u306b\u5909\u308f\u308a\u307e\u3057\u305f\u3002\n\u30de\u30a6\u30b9\u30dd\u30a4\u30f3\u30bf\u306e\u4f4d\u7f6e\u3092\u53d6\u5f97\u3059\u308b\u30e4\u30c4\u3068\u304b\u3082pointing\u304b\u3089pointer\u306b\u5909\u308f\u3063\u3066\u307e\u3059\u3002\n\n\u3053\u3046\u3044\u3046\u306e\u3092\u5168\u90e8\u5909\u63db\u3057\u3066\u3044\u304f\u30ef\u30b1\u3067\u3059\u3002\n\n\u3068\u308a\u3042\u3048\u305a\u300ctm\u300d\u3063\u3066\u66f8\u3044\u3066\u3042\u308b\u6240\u3092\u300cphina\u300d\u306b\u5909\u3048\u3066\u3001\u3042\u3068\u306f\u5b9f\u884c\u3057\u3066\u307f\u3066\u30a8\u30e9\u30fc\u5410\u3044\u305f\u3089\u8abf\u3079\u3066\u5909\u63db\u3063\u3066\u611f\u3058\u3067\u3084\u308a\u307e\u3057\u305f\u3002\n\u8abf\u3079\u308b\u6642\u306fphina.js\u306e[API Documentation](http://phinajs.com/docs/)\u3067\u305d\u308c\u3063\u307d\u3044\u540d\u524d\u306e\u3084\u3064\u3092\u691c\u7d22\u3057\u3066\u3044\u304f\u611f\u3058\u3067\u3059\u3002\n\n\u3067\u3001\u5730\u9053\u306b\u30b3\u30c4\u30b3\u30c4\u5168\u90e8\u5909\u3048\u305f\u3089\u7d42\u308f\u308a\uff01\uff01\u4ee5\u4e0a\uff01\n\u3064\u3063\u3066\u3082\u305d\u3093\u306a\u306b\u6570\u306a\u3044\u306e\u3067\u6642\u9593\u304b\u304b\u308a\u307e\u305b\u3093\uff01\u305f\u3076\u3093\uff01\uff11\uff10\u5206\u3050\u3089\u3044\uff01\uff01\n\n\u5177\u4f53\u7684\u306b\u3069\u3053\u306e\u4f55\u304c\u5909\u308f\u3063\u305f\u304b\u5168\u90e8\u66f8\u3044\u3066\u3044\u3063\u305f\u3089\u7d42\u308f\u3089\u306a\u3044\u306e\u3067\u3001\u8abf\u3079\u308b\u304b\u805e\u304f\u304b\u8ab0\u304b\u304c\u307e\u3068\u3081\u3066\u304f\u308c\u308b\u306e\u3092\u5f85\u3061\u307e\u3057\u3087\u3046\uff01\uff01\u30cf\u30a4\u6b21\uff01\uff01\n\n\n#\u30bf\u30a4\u30c8\u30eb\u753b\u9762\n\n\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n![\u30ad\u30e3\u30d7\u30c1\u30e3.PNG](https://qiita-image-store.s3.amazonaws.com/0/62035/a52d12f1-cb10-9ce9-f0f1-ca9323de39fa.png)\n\n\u30cf\u30a4\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\u753b\u9762\u306b\u898b\u3048\u308b\u3082\u306e\u3092\u7b87\u6761\u66f8\u304d\u3057\u3066\u307f\u307e\u3059\n\n- \u30d6\u30ed\u30c3\u30af\n- \u30d1\u30c9\u30eb\n- \u300c\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u300d\u30e9\u30d9\u30eb\n- \u300cphina.js\u300d\u30e9\u30d9\u30eb\n- \u300cstart\u300d\u30e9\u30d9\u30eb\n\n\u30d6\u30ed\u30c3\u30af\u3068\u30d1\u30c9\u30eb\u306f\u3042\u3068\u3067\u8aac\u660e\u3057\u307e\u3059\uff01\n\n***\n\u307e\u305a\u306f\u30e9\u30d9\u30eb\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n```js\n    this.titlelabel= Label({\n      text: '\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c',\n      fill: 'white',\n      fontSize: 83,\n    }).addChildTo(this);\n    this.titlelabel.setPosition(this.gridX.center(),this.gridY.center(-1));\n\n    this.phinalabel= Label({\n      text: 'phina.js',\n      fill: 'white',\n      fontSize: 53,\n    }).addChildTo(this);\n    this.phinalabel.setPosition(this.gridX.center(5),this.gridY.center(1));\n\n    this.startlabel= Label({\n      text: 'start',\n      fill: 'white',\n      fontSize: 53,\n    }).addChildTo(this);\n    this.startlabel.setPosition(this.gridX.center(),this.gridY.center(3));\n\n```\n\n\u30cf\u30a4\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\u4e0a\u304b\u3089\u300c\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u300d\u300cphina.js\u300d\u300cstart\u300d\u306e\u30e9\u30d9\u30eb\u3067\u3059\u306d\u3002\n\u30b6\u30c3\u3068\u89e3\u8aac\u3057\u307e\u3059\u3002\u307e\u305a\u30e9\u30d9\u30eb\u3092\u4f5c\u308b\u6642\u306e\u30b3\u30fc\u30c9\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n`var label = Label().addChildTo(\u89aa\u8981\u7d20);`\n\u3053\u306eLabel()\u306e\u30ab\u30c3\u30b3\u306e\u4e2d\u306b\u8272\u3093\u306a\u5024\u3092\u6e21\u3057\u3066\u3084\u308b\u3053\u3068\u3067\u624b\u3063\u53d6\u308a\u65e9\u304f\u30e9\u30d9\u30eb\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f5c\u3063\u305f\u30e9\u30d9\u30eb\u306flabel\u306b\u5165\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306f\n\n- text:\u6587\u5b57\u5217\n- fill:\u6587\u5b57\u306e\u8272\n- fontsize:\u6587\u5b57\u306e\u5927\u304d\u3055\n\n\u3092\u8a2d\u5b9a\u3057\u3066\u308b\u3063\u3066\u611f\u3058\u3067\u3059\u306d\n\u3067\u3001addChiltTo(this)\u3067\u3053\u306ethis\u3063\u3066\u30e4\u30c4\u306b\u30e9\u30d9\u30eb\u3092\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\u4e0a\u306e\u30b3\u30fc\u30c9\u306ethis\u306fMainScene\u306e\u3053\u3068\u306a\u306e\u3067\u3001MainScene\u306b\u30e9\u30d9\u30eb\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3001\u6587\u5b57\u304c\u898b\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30aa\u30c3\u30b1\u30fc\uff1f\n\n\n\u6b21\u306b\u3044\u304d\u307e\u3059\u3002\u3053\u3093\u306a\u611f\u3058\u306e\u3053\u3068\u304c\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n`this.titlelabel.setPosition(this.gridX.center(),this.gridY.center(-1));`\nsetPosition\u3068\u3044\u3046\u3084\u3064\u3067\u4f4d\u7f6e\u3092\u30bb\u30c3\u30c8\u3057\u3066\u307e\u3059\u3002\u3053\u3044\u3064\u306bX\u5ea7\u6a19\u3068Y\u5ea7\u6a19\u3092\u5165\u308c\u308b\u3053\u3068\u3067\u4f4d\u7f6e\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nphina.js\u306e\u6a5f\u80fd\u306eGrid\u3092\u4f7f\u3063\u3066X\u3068Y\u306e\u5ea7\u6a19\u3092\u8abf\u6574\u3057\u3066\u307e\u3059\u306d\u3002Grid\u306b\u3064\u3044\u3066\u306f@alkn203\u3055\u3093\u304c\u89e3\u8aac\u3057\u3066\u3044\u307e\u3059\u3002\n[\u3010phina.js\u3011Grid\u30af\u30e9\u30b9\u3092\u4f7f\u3044\u3053\u306a\u305d\u3046](http://qiita.com/alkn203/items/d176a10d4e38d15e4062)\n\n\n\u8981\u3059\u308b\u306bgridX.center()\u3067\u753b\u9762\u306e\u771f\u3093\u4e2d\u306e\u4f4d\u7f6e\u3092\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30ab\u30c3\u30b3\u306e\u4e2d\u306b\u6570\u5b57\u3092\u5165\u308c\u308b\u3068\u6570\u5b57\u306e\u5206\u3060\u3051\u771f\u3093\u4e2d\u304b\u3089\u3061\u3087\u3063\u3068\u30ba\u30ec\u307e\u3059\u3002\u305d\u3046\u3084\u3063\u3066\u8abf\u6574\u3057\u3066\u307e\u3059\u3002\u30aa\u30c3\u30b1\u30fc\uff1f\n\n***\n\u300cstart\u300d\u306e\u6587\u5b57\u304c\u30c1\u30ab\u30c1\u30ab\u6d88\u3048\u305f\u308a\u51fa\u305f\u308a\u3057\u3066\u307e\u3059\u306d\u3002\n\u3053\u308c\u306fTweener\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3044\u3064\u3092\u4f7f\u3046\u3068\u7c21\u5358\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u3067\u304d\u308b\u308f\u3051\u3067\u3059\u3002\nTweener\u306b\u3064\u3044\u3066\u306e\u8a73\u3057\u3044\u89e3\u8aac\u306f@simiraaaa\u3055\u3093\u304c\u3057\u3066\u3044\u307e\u3059\u3002\n[[phina.js] Tweener\u3092\u4f7f\u3044\u3053\u306a\u305d\u3046! [Tweener \u57fa\u672c\u7de8]](http://qiita.com/simiraaaa/items/b80fec588fa2db272f67)\n\n\u30b3\u30fc\u30c9\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\n```js\n    this.startlabel.tweener\n        .to({alpha:1}, 700,\"easeInSine\")\n        .to({alpha:0}, 700,\"easeInSine\")\n        .setLoop(true);\n```\n\n\u30b6\u3063\u3068\u884c\u304d\u307e\u3059\u3002\nthis.startlabel.tweener\u3067\u4eca\u304b\u3089tweener\u4f7f\u3046\u305c\u3063\u3066\u8a00\u3063\u3066\u307e\u3059\n.to({alpha:1}, 700,\"easeInSine\")\u3000\u3067700\u30df\u30ea\u79d2\u304b\u3051\u3066alpha\u30921\u306b\u3057\u307e\u3059\u3002alpha\u306f\u900f\u660e\u5ea6\u3067\u3059\u3002\n.to({alpha:0}, 700,\"easeInSine\")\u3000\u3067700\u30df\u30ea\u79d2\u304b\u3051\u3066alpha\u30920\u306b\u3057\u307e\u3059\u3002\n.setloop(true)\u3000\u3067\u4e0a\u306e\uff12\u3064\u3092\u7121\u9650\u306b\u7e70\u308a\u8fd4\u3057\u307e\u3059\u3002\u3088\u3063\u3066\u30c1\u30ab\u30c1\u30ab\u3057\u3066\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\n\neaseInSine\u3068\u3044\u3046\u306e\u306f\u30a4\u30fc\u30b8\u30f3\u30b0\u3068\u3044\u3046\u8a2d\u5b9a\u3059\u308b\u3068\u826f\u3044\u611f\u3058\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u304f\u308c\u308b\u30a8\u30e9\u30a4\u5974\u3067\u3059\u3002\n\u8a73\u3057\u304f\u306f@simiraaaa\u3055\u3093\u306e\u4f5c\u3063\u305f\u30b3\u30ec\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\u3044\u308d\u3093\u306a\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002\n[\u30a4\u30fc\u30b8\u30f3\u30b0\u30ea\u30b9\u30c8](http://simiraaaa.github.io/phina.js_Tweener_EASING_LIST/)\n\n***\n\n\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u3092\u30bf\u30c3\u30c1\u3059\u308b\u3068\u30b2\u30fc\u30e0\u304c\u958b\u59cb\u3057\u307e\u3059\u3002\n\n```js\n    // \u30bf\u30c3\u30c1\u3067\u30b2\u30fc\u30e0\u958b\u59cb\n    this.one('pointend', function() {\n      this.startlabel.remove();\n      this.phinalabel.remove();\n      this.titlelabel.remove();\n      this.startflg = true;\n    });\n```\n>this.one('pointend', function() {\n\n\u3053\u3044\u3064\u306e\u4e2d\u306b\u5165\u308c\u305f\u30b3\u30fc\u30c9\u304c\u30bf\u30c3\u30c1\u3057\u305f\u6642\u306b\u8d70\u308b\u611f\u3058\u3067\u3059\u3002\nremove()\u3068\u3044\u3046\u30e4\u30c4\u3092\u4f7f\u3063\u3066\u30e9\u30d9\u30eb\u3092\u6d88\u3057\u3066\u3001this.startflg\u3068\u3044\u3046\u5b89\u6613\u306a\u540d\u524d\u306e\u30d5\u30e9\u30b0\u306btrue\u304c\u5165\u308c\u3066\u307e\u3059\u3002\nthis.startflg\u306btrue\u3092\u5165\u308c\u308b\u3053\u3068\u3067\u30b2\u30fc\u30e0\u304c\u59cb\u307e\u308a\u307e\u3059\u3002\n\u306a\u305c\u304b\u3068\u3044\u3046\u3068\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u308b\u304b\u3089\u3067\u3059\u3002\n\n```js\n  update: function(app) {\n\n    if(this.startflg){\n      this.gamemain(app);\n    }\n  },\n```\n\nupdate\u3068\u3044\u3046\u306e\u306f\u6bce\u30d5\u30ec\u30fc\u30e0\u547c\u3070\u308c\u3066\u4e2d\u8eab\u3092\u6bce\u56de\u51e6\u7406\u3057\u307e\u3059\u3002\u30d5\u30ec\u30fc\u30e0\u3068\u3044\u3046\u306e\u306f\u3001\u3048\u30fc\u3063\u3068\u3002\u8d85\u9ad8\u901f\u3067\u7d19\u829d\u5c45\u304c\u52d5\u3044\u3066\u308b\u3068\u30a4\u30e1\u30fc\u30b8\u3057\u3066\u304f\u3060\u3055\u3044\u3001\u305d\u306e\u4e00\u679a\u306e\u7d19\u304c\u30d5\u30ec\u30fc\u30e0\u3067\u3059\u3001\u305d\u3093\u3067\u7d19\u3092\u5909\u3048\u308b\u3054\u3068\u306bupdate\u304c\u52d5\u304f\u611f\u3058\u3067\u3059\u3002\u591a\u5206\u305d\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n\u305d\u3093\u3067this.startflg\u306btrue\u304c\u5165\u3063\u3066\u308b\u6642\u306b\u30b2\u30fc\u30e0\u306e\u30e1\u30a4\u30f3\u51e6\u7406\u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u3063\u3066\u307e\u3059\u3002\u5b89\u6613\u3002\n\n***\n\n\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u306b\u3064\u3044\u3066\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u3053\u306e\u30b2\u30fc\u30e0\u306f\u624b\u629c\u304d\u3092\u3059\u308b\u305f\u3081\u306b\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u3068\u30b2\u30fc\u30e0\u753b\u9762\u3068\u30ea\u30b6\u30eb\u30c8\u753b\u9762\u3092\u305c\u3093\u3076MainScene\u306b\u5165\u308c\u3066\u308b\u306e\u3067\u30b7\u30fc\u30f3\u9077\u79fb\u3057\u307e\u305b\u3093\u3002\u30b7\u30fc\u30f3\u9077\u79fb\u306b\u3064\u3044\u3066\u306f@daishi_hmr\u3055\u3093\u304c\u89e3\u8aac\u3057\u3066\u3044\u307e\u3059\n[ManagerScene\u3067\u30b2\u30fc\u30e0\u306e\u6d41\u308c\u3092\u7ba1\u7406\u3057\u3088\u3046](http://github.dev7.jp/b/2015/12/01/phinaadvcal20151202/)\n\n\n\n\n\n#\u30d1\u30c9\u30eb\u306e\u751f\u6210\n\u30d1\u30c9\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002\u30d1\u30c9\u30eb\u3068\u3044\u3046\u306e\u306f\u3053\u3044\u3064\u3067\u3059\u3002\u3053\u3044\u3064\n\n![\u30ad\u30e3\u30d7\u30c1\u30e3.PNG](https://qiita-image-store.s3.amazonaws.com/0/62035/69e17e6a-c999-c5e3-fda2-2851606c8677.png)\n\n\u3053\u3044\u3064\u306e\u9593\u306b\u30dc\u30fc\u30eb\u3092\u843d\u3068\u3057\u3066\u3044\u304f\u308f\u3051\u3067\u3059\u3002\n\u30d1\u30c9\u30eb\u30af\u30e9\u30b9\u306e\u30b3\u30fc\u30c9\u5168\u6587\u304c\u30b3\u30c1\u30e9\n\n```js\nphina.define('Paddle', {\n  superClass: 'RectangleShape',\n  init: function() {\n    this.superInit();\n\n    this.y = 750;\n    this.LWD = SCREEN_WIDTH / 2 -  barsize;\n    this.RWD = SCREEN_WIDTH / 2 +  barsize;\n\n  },\n\n  update: function(app) {\n\n      if (app.pointer.x + (barsize / 2)> 0 && app.pointer.x < SCREEN_WIDTH - (barsize / 2)) {\n      this.LWD = app.pointer.x - barsize;\n      this.RWD = app.pointer.x + barsize;\n\n    }\n  },\n\n  draw: function(c) {\n  c.globalCompositeOperation = \"lighter\";\n  c.fillStyle = \"hsla(0, 75%, 100%, 1)\"\n  c.fillRect(0, 0,this.LWD, 15);\n  c.fillRect(SCREEN_WIDTH, 0,-(SCREEN_WIDTH - this.RWD) , 15);\n\n  },\n\n});\n\n```\n\u3053\u306e\u30d1\u30c9\u30eb\u30af\u30e9\u30b9\u3092MainScene\u306e\u306a\u304b\u3067\u5b9f\u4f53\u5316\u3059\u308b\u3053\u3068\u3067\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n>bar = Paddle().addChildTo(this);\n\n\u3053\u3093\u306a\u611f\u3058\n\n\u7d50\u69cb\u3057\u3087\u3046\u3082\u306a\u3044\u5b9f\u88c5\u3092\u3057\u3066\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u601d\u3044\u51fa\u3057\u306a\u304c\u3089\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u3069\u3093\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u308b\u304b\u3060\u3044\u305f\u3044\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u89e3\u8aac\u3059\u308b\u3068\n\n- \u30bf\u30c3\u30c1\u3057\u305f\u30dd\u30a4\u30f3\u30c8\u306b\u5411\u3051\u3066\u3001\u5de6\u7aef\u3068\u53f3\u7aef\u304b\u3089\u30d1\u30c9\u30eb\u3092\u4f38\u3070\u3059\n- \u30d1\u30c9\u30eb\u306e\u9577\u3055\u306f\u30bf\u30c3\u30c1\u3057\u305f\u30dd\u30a4\u30f3\u30c8\u304b\u3089\u30d7\u30e9\u30b9\u30de\u30a4\u30ca\u30b9barsize\u306e\u4f4d\u7f6e\u307e\u3067\n- update\u3067\u30bf\u30c3\u30c1\u30dd\u30a4\u30f3\u30c8\u3092\u53d6\u5f97\u3057\u3066\u3001\u6bce\u30d5\u30ec\u30fc\u30e0\u5de6\u3068\u53f3\u306e\u30d1\u30c9\u30eb\u306e\u9577\u3055\u3092\u66f4\u65b0\u3059\u308b\n\n\u3063\u3066\u611f\u3058\u3067\u3059\u3002\n\n***\n\ninit\u306e\u4e2d\u304c\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u307e\u3059\u3002\u3053\u3053\u3067\u521d\u671f\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002\n\n```js\n    this.y = 750;\n    this.LWD = SCREEN_WIDTH / 2 -  barsize;\n    this.RWD = SCREEN_WIDTH / 2 +  barsize;\n```\n\nSCREEN_WIDTH\u3068\u3044\u3046\u306e\u306f\u753b\u9762\u5168\u4f53\u306e\u6a2a\u306e\u9577\u3055\u3067\u3059\nthis.y\u304cY\u65b9\u5411\u306e\u9ad8\u3055\u3002\nthis.LWD\u304c\u5de6\u306e\u30d1\u30c9\u30eb\u306e\u9577\u3055\nthis.RWD\u304c\u53f3\u306e\u30d1\u30c9\u30eb\u306e\u9577\u3055\uff08\u30db\u30f3\u30c8\u306f\u53f3\u306e\u30d1\u30c9\u30eb\u306e\u5de6\u7aef\u306e\u4f4d\u7f6e\uff09\n\u3063\u3066\u611f\u3058\u3067\u3059\u3002\u5909\u306a\u540d\u524d\u306e\u3064\u3051\u65b9\u3092\u3057\u3066\u307e\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u3001\u30b9\u30de\u30db\u3067\u64cd\u4f5c\u3059\u308b\u3068\u304d\u306b\u30d1\u30c9\u30eb\u304c\u6307\u3067\u96a0\u308c\u306a\u3044\u3088\u3046\u306bY\u4f4d\u7f6e\u3092\u9ad8\u3081\u306b\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002\n\n***\n\nupdate\u306e\u4e2d\u304c\u3053\u3093\u306a\u611f\u3058\u3067\u3059\n\n```js\n      if (app.pointer.x + (barsize / 2)> 0 && app.pointer.x < SCREEN_WIDTH - (barsize / 2)) {\n      this.LWD = app.pointer.x - barsize;\n      this.RWD = app.pointer.x + barsize;\n```\n\n\u30d1\u30c9\u30eb\u304c\u753b\u9762\u306e\u5916\u306b\u51fa\u306a\u3044\u3088\u3046\u306b\u306a\u3093\u3068\u306a\u304f\u8abf\u6574\u3057\u3064\u3064\u3001\u5de6\u3068\u53f3\u306e\u30d1\u30c9\u30eb\u306e\u9577\u3055\u3092\u66f4\u65b0\u3057\u3066\u307e\u3059\u3002\napp.pointer.x\u3068\u3044\u3046\u3084\u3064\u3067\u30bf\u30c3\u30c1\u3057\u305f\u4f4d\u7f6e\u306ex\u5ea7\u6a19\u3092\u3068\u3063\u3066\u3044\u307e\u3059\u3002\nbarsize\u3068\u3044\u3046\u3084\u3064\u304c\u771f\u3093\u4e2d\u306e\u7a74\u306e\u9577\u3055\u306e\u534a\u5206\u306e\u5024\u3067\u3059\u3002\u308f\u304b\u308a\u306b\u304f\u3044\u3067\u3059\u306d\u3002\u30bf\u30c3\u30c1\u3057\u305f\u4f4d\u7f6e\u304b\u3089\u53f3\u3068\u5de6\u306bbarsize\u3076\u3093\u3060\u3051\u3044\u3063\u305f\u6240\u307e\u3067\u30d1\u30c9\u30eb\u304c\u4f38\u3073\u3066\u304f\u308b\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\n\n***\n\u6700\u5f8c\u306bdraw\u3068\u3044\u3046\u30e4\u30c4\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3067\u63cf\u753b\u3092\u3084\u3063\u3066\u3044\u307e\u3059\u3002\n\n```js\ndraw: function(c) {\n  c.globalCompositeOperation = \"lighter\";\n  c.fillStyle = \"hsla(0, 75%, 100%, 1)\"\n  c.fillRect(0, 0,this.LWD, 15);\n  c.fillRect(SCREEN_WIDTH, 0,-(SCREEN_WIDTH - this.RWD) , 15);\n},\n```\nc.fillStyle \u3067\u8272\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3001c.fillRect\u3067\u56db\u89d2\u5f62\u306e\u63cf\u753b\u3092\u3057\u3066\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u3053\u3093\u306a\u611f\u3058\u3067\u8a2d\u5b9a\u3057\u307e\u3059\n>fillRect(X\u4f4d\u7f6e, Y\u4f4d\u7f6e, \u6a2a\u306e\u9577\u3055, \u7e26\u306e\u9577\u3055)\n\nc.fillRect\u3092\uff12\u56de\u66f8\u3044\u3066\u306a\u3093\u304b\u602a\u3057\u3052\u306a\u51e6\u7406\u3067\u5de6\u306e\u30d1\u30c9\u30eb\u3068\u53f3\u306e\u30d1\u30c9\u30eb\u3092\u4f5c\u3063\u3066\u307e\u3059\u3002\n\n\n\u3068\u308a\u3042\u3048\u305a\u3053\u308c\u3067\u30bf\u30c3\u30c1\u3059\u308b\u3068\u30d1\u30c9\u30eb\u304c\u30b0\u30a4\u30f3\u30b0\u30a4\u30f3\u4f38\u3073\u305f\u308a\u7e2e\u3093\u3060\u308a\u3057\u307e\u3059\u3002\n\n#\u30d6\u30ed\u30c3\u30af\u306e\u751f\u6210\n\u30d6\u30ed\u30c3\u30af\u3092\u4f5c\u308a\u307e\u3059\u3002\n![\u30ad\u30e3\u30d7\u30c1\u30e3.PNG](https://qiita-image-store.s3.amazonaws.com/0/62035/58003b69-99e1-3060-5f1b-8cb6010abf2b.png)\n\n\u3068\u3044\u3046\u304b\u6628\u65e5@phi\u3055\u3093\u304c\u66f8\u3044\u305f\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u306e\u30a8\u30f3\u30c8\u30ea\u3067\u4f5c\u308a\u65b9\u3092\u89e3\u8aac\u3057\u3066\u307e\u3059\n[phina.js \u3067\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u3092\u4f5c\u308d\u3046](http://phiary.me/phina-js-breakout/)\n\n\u5b9f\u969b\u306e\u30d6\u30ed\u30c3\u30af\u3092\u751f\u6210\u3059\u308b\u30b3\u30fc\u30c9\u304c\u3053\u3061\u3089\n\n```js\n    (BLOCK_NUM).times(function(i) {\n      // \u30b0\u30ea\u30c3\u30c9\u4e0a\u3067\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n      var xIndex = i%MAX_PER_LINE;\n      var yIndex = Math.floor(i/MAX_PER_LINE);\n      var angle = (360)/BLOCK_NUM*i;\n      var block = Block(angle).addChildTo(blockGroup).setPosition(100, 100);\n\n      block.x = gridX.span(xIndex) + BOARD_OFFSET_X;\n      block.y = gridY.span(yIndex)+BOARD_OFFSET_Y;\n    }, this);\n\n```\n@phi\u3055\u3093\u306e\u30a8\u30f3\u30c8\u30ea\u304b\u3089\u4e38\u3005\u30b3\u30fc\u30c9\u3092\u30d1\u30af\u3063\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308a\u307e\u3059\u306d\uff01\u3053\u306e\u69d8\u306b\u53c2\u8003\u306b\u306a\u308b\u30b3\u30fc\u30c9\u306f\u3069\u3093\u3069\u3093\u53d6\u308a\u5165\u308c\u308b\u306e\u304c\u8fd1\u9053\u3067\u3059\u3002\u6700\u521d\u306e\u3046\u3061\u306f\u307f\u3093\u306a\u8a31\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u305f\u3076\u3093\u3002\n\n\u8efd\u304f\u89e3\u8aac\u3092\u5165\u308c\u3066\u3044\u304d\u307e\u3059\u3002\u3076\u3063\u3061\u3083\u3051\u4ffa\u3082\u3042\u3093\u307e\u308a\u7406\u89e3\u3057\u3066\u306a\u3044\u3067\u3059\u304c\u3002\n\n***\n`(BLOCK_NUM).times(function(i) {`\n\nBLOCK_NUM\u306e\u6570\u3060\u3051\u30ab\u30ae\u30ab\u30c3\u30b3\u3067\u56f2\u3093\u3060\u4e2d\u8eab\u306e\u30b3\u30fc\u30c9\u3092\u8d70\u3089\u305b\u3066\u4e00\u500b\u305a\u3064\u30d6\u30ed\u30c3\u30af\u3092\u4f5c\u3063\u3066\u308b\u5370\u8c61\u3092\u53d7\u3051\u307e\u3059\u3002i\u306f\u8d70\u3089\u305b\u305f\u6570\u3060\u3051\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u308b\u3063\u307d\u3044\u3067\u3059\u306d\n\n\n\u3067\u3001\u305d\u306ei\u3092\u4f7f\u3063\u3066\u30b0\u30ea\u30c3\u30c9\u3067\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306e\u5024\u3092\u5165\u308c\u3066\u307e\u3059\u3002MAX_PER_LINE\u306f\u30d6\u30ed\u30c3\u30af\u306e\u5217\u306e\u6570\u304c\u5165\u3063\u3066\u307e\u3059\u3002\n\n      // \u30b0\u30ea\u30c3\u30c9\u4e0a\u3067\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n      var xIndex = i%MAX_PER_LINE;\n      var yIndex = Math.floor(i/MAX_PER_LINE);\n\n\n\n\u3053\u306eangle\u3068\u3044\u3046\u3084\u3064\u306f\u30d6\u30ed\u30c3\u30af\u30af\u30e9\u30b9\u306b\u9001\u3063\u3066\u8272\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u3044\u307e\u3059\u3002\u826f\u3044\u611f\u3058\u306b\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n      var angle = (360)/BLOCK_NUM*i;\n\n\u305d\u3057\u3066\u30d6\u30ed\u30c3\u30af\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u751f\u6210\u3059\u308b\u3068\u304d\u306bangle\u3092\u6e21\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n\n      var block = Block(angle).addChildTo(blockGroup).setPosition(100, 100);\n\naddChildTo(blockGroup)\u3063\u3066\u306a\u3063\u3066\u307e\u3059\u306d\u3002\u3053\u308c\u306f\u30b0\u30eb\u30fc\u30d7\u3067\u3059\u3002\u4f5c\u3063\u305f\u30d6\u30ed\u30c3\u30af\u3092\u30d6\u30ed\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u306b\u8ffd\u52a0\u3057\u3066\u308b\u308f\u3051\u3067\u3059\u3002\u30b0\u30eb\u30fc\u30d7\u306b\u3064\u3044\u3066\u306f@alkn203\u3055\u3093\u304c\u89e3\u8aac\u3057\u3066\u3044\u307e\u3059\n\n[\u3010phina.js\u3011\u30b0\u30eb\u30fc\u30d7\u7ba1\u7406\u306e\u57fa\u672c\u30c6\u30af\u30cb\u30c3\u30af](http://qiita.com/alkn203/items/8ad0b80175d23d03bd49)\n\n\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u3063\u3066\u305d\u3053\u306b\u5165\u308c\u3066\u304a\u304f\u3068\u3001\u3042\u3068\u3067\u305d\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u5165\u308c\u305f\u30e4\u30c4\u3089\u3092\u307e\u3068\u3081\u3066\u64cd\u4f5c\u3067\u304d\u305f\u308a\u3059\u308b\u306e\u3067\u4fbf\u5229\u3067\u3059\u3002\u3061\u306a\u307f\u306b\u30b0\u30eb\u30fc\u30d7\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u4f5c\u308a\u307e\u3059\n\n    blockGroup = CanvasElement().addChildTo(this);\n\n\n\u6700\u5f8c\u306b\u30d6\u30ed\u30c3\u30af\u306e\u4f4d\u7f6e\u3092\u8abf\u6574\u3057\u3066\u7d42\u308f\u308a\u3067\u3059\u3002block\u306ex\u3068y\u306b\u5024\u3092\u5165\u308c\u308b\u3053\u3068\u3067\u4f4d\u7f6e\u3092\u8abf\u6574\u3057\u3066\u307e\u3059\u3002\n\n      block.x = gridX.span(xIndex) + BOARD_OFFSET_X;\n      block.y = gridY.span(yIndex)+BOARD_OFFSET_Y;\n\n\u3060\u3044\u305f\u3044\u305d\u3093\u306a\u611f\u3058\u3067\u3059\uff01\u6b21\uff01\n***\n\n\u30d6\u30ed\u30c3\u30af\u30af\u30e9\u30b9\u306b\u3064\u3044\u3066\u3082\u5c11\u3057\u89e6\u308c\u307e\u3059\u3002\u3064\u3063\u3066\u3082\u307b\u3068\u3093\u3069\u4f55\u3082\u3084\u3063\u3066\u307e\u305b\u3093\u3002\n\n```js\nphina.define('Block', {\n  superClass: 'RectangleShape',\n\n    init: function(angle) {\n        this.superInit({\n        width: BLOCK_SIZE,\n        height: BLOCK_SIZE/2,\n        fill: 'hsl({0}, 80%, 60%)'.format(angle || 0),\n        stroke: null,\n        cornerRadius: 8,\n      });\n        this.vx = 0;\n        this.vy = 0;\n\n        //this.v = tm.geom.Vector2(0, 0);\n    },\n\n    update: function(app) {\n\n        this.x += this.vx;\n        this.y += this.vy;\n\n    },\n\n\n});\n\n```\ninit: function(angle) \u3063\u3066\u306a\u3063\u3066\u307e\u3059\u306d\u3002\u751f\u6210\u3059\u308b\u3068\u304d\u306b\u6e21\u3057\u305fangle\u3092\u3053\u308c\u3067\u53d7\u3051\u53d6\u308c\u307e\u3059\u3002\u305d\u3093\u3067this.superInit\u3063\u3066\u3084\u3064\u3067\u8272\u3093\u306a\u5024\u306e\u8a2d\u5b9a\u3092\u3084\u3063\u3066\u307e\u3059\u306d\u3002\n\nthis.vx,this.vy\u306f\u30d6\u30ed\u30c3\u30af\u3092\u52d5\u304b\u3059\u3068\u304d\u306e\u305f\u3081\u306b\u4f7f\u3044\u307e\u3059\u3002\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u306e\u3068\u304d\u306b\u30d6\u30ed\u30c3\u30af\u304c\u3075\u3063\u3068\u3073\u307e\u3059\u304c\u3001\u305d\u306e\u3068\u304d\u306e\u305f\u3081\u306e\u5e03\u77f3\u3067\u3059\u3002\n\n    update: function(app) {\n\n        this.x += this.vx;\n        this.y += this.vy;\n\n    },\n\nupdate\u3067\u3053\u3046\u306a\u3063\u3066\u307e\u3059\u306d\u3002this.x\u3068this.y\u306e\u5024\u3092\u5909\u3048\u308b\u3053\u3068\u3067\u30d6\u30ed\u30c3\u30af\u3092\u79fb\u52d5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3063\u3059\u3002\u3053\u306e\u5834\u5408\u3060\u3068\u6bce\u30d5\u30ec\u30fc\u30e0this.vx\u306e\u6570\u3060\u3051this.x\u304c\u52d5\u304d\u307e\u3059\u3002\u521d\u671f\u5024\u306f\uff10\u306b\u306a\u3063\u3066\u308b\u306e\u3067\u52d5\u304d\u307e\u305b\u3093\u3002\u305d\u3093\u306a\u611f\u3058\u3063\u3059\u3002\n\n\u3053\u306ethis.x,this.y\u306bthis.vx,this.vy\u3092\u8db3\u3057\u3066\u52d5\u304b\u3059\u3068\u3044\u3046\u3084\u308a\u304b\u305f\u306f\u3001\u30dc\u30fc\u30eb\u3092\u52d5\u304b\u3059\u6642\u306b\u3082\u4f7f\u3063\u3066\u307e\u3059\u3002\n\n\n#\u30b2\u30fc\u30e0\u30e2\u30fc\u30c9\u306b\u3064\u3044\u3066\n\u3088\u3046\u3084\u3063\u3068\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u306b\u51fa\u3066\u308b\u8981\u7d20\u306e\u89e3\u8aac\u304c\u7d42\u308f\u308a\u307e\u3057\u305f\u3002\u30b2\u30fc\u30e0\u306e\u30e1\u30a4\u30f3\u51e6\u7406\u306e\u89e3\u8aac\u306b\u5165\u308d\u3046\u3068\u601d\u3044\u307e\u3059\nMainScene\u306eupdate\u306e\u4e2d\u306f\u3053\u3093\u306a\u3093\u306a\u3063\u3066\u307e\u3059\n\n```js\n update: function(app) {\n\n    if(this.startflg){\n      this.gamemain(app);\n    }\n  },\n```\n\n\u3053\u306egamemain\u306e\u4e2d\u304c\u30b2\u30fc\u30e0\u306e\u30e1\u30a4\u30f3\u51e6\u7406\u3067\u3059\u3002\u7d50\u69cb\u9577\u3044\u306e\u3067\u5c0f\u5206\u3051\u306b\u3057\u3066\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u30cf\u30a4\u3001\u307e\u305a\u6700\u521d\u3053\u3093\u306a\u3053\u3068\u304c\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u306d\u3002\n\n```js\n  gamemain: function(app){\n\n            switch(gameflg){\n\n\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u7701\u7565\n\n```\n\n\ngameflg\u3068\u3044\u3046\u3084\u3064\u304c\u51fa\u3066\u304d\u307e\u3057\u305f\u3002\u3053\u3044\u3064\u3092\u5909\u3048\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u30b2\u30fc\u30e0\u306e\u30e2\u30fc\u30c9\u3092\u5909\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u30021\u306e\u3068\u304d\u306b\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u3001\uff12\u306e\u3068\u304d\u306b\u5f3e\u5e55\u30e2\u30fc\u30c9\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\u308f\u304b\u308a\u305a\u3089\u3044\u3067\u3059\u306d\u3002\u6570\u5b57\u3068\u30e2\u30fc\u30c9\u306e\u5bfe\u5fdc\u8868\u304c\u3053\u3093\u306a\u611f\u3058\u3067\u3059\n\n1.\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\n2.\u5f3e\u5e55\u30e2\u30fc\u30c9\n3.\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\n9.\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\n0.\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\n\n\u305d\u308c\u305e\u308c\u306e\u6570\u5b57\u306b\u3057\u305f\u3068\u304d\u305d\u308c\u305e\u308c\u306e\u51e6\u7406\u304c\u52d5\u304d\u307e\u3059\u30021,2,3\u306f\u307e\u3042\u305d\u306e\u307e\u3093\u307e\u3067\u3059\u30029\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306f\u30e2\u30fc\u30c9\u3092\u5207\u308a\u66ff\u3048\u308b\u3068\u304d\u306b\u4f7f\u3063\u305f\u308a\u3057\u307e\u3059\u3002\u5f3e\u5e55\u30e2\u30fc\u30c9\u306e\u7389\u304c\u5168\u90e8\u6d88\u3048\u3066\u304b\u3089\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3059\u308b\u3001\u307f\u305f\u3044\u306a\u6642\u306b\u4e00\u65e6\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u5165\u308c\u3066\u7389\u304c\u6d88\u3048\u308b\u307e\u3067\u5f85\u3063\u3066\u304b\u3089\u79fb\u884c\u3059\u308b\u3001\u307f\u305f\u3044\u306a\u51e6\u7406\u3092\u3057\u3066\u307e\u3059\u30020\u306f\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u3057\u305f\u6642\u306e\u51e6\u7406\u3067\u3059\n\n\u3068\u308a\u3042\u3048\u305a\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u304b\u3089\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\n\n\n#\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\n\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u306f\u7389\u304c\u4e00\u500b\u305a\u3064\u30e9\u30f3\u30c0\u30e0\u3067\u964d\u3063\u3066\u304f\u308b\u30e2\u30fc\u30c9\u3067\u3059\u3002gameflg\u306b\uff11\u304c\u5165\u3063\u3066\u308b\u3068\u3053\u306e\u30e2\u30fc\u30c9\u304c\u52d5\u304d\u307e\u3059\u3002\n![\u30ad\u30e3\u30d7\u30c1\u30e3.PNG](https://qiita-image-store.s3.amazonaws.com/0/62035/db22b9d9-14ba-7504-6499-dfd0e1a1c759.png)\n\n\u30b3\u30fc\u30c9\u304c\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\u30c9\u30f3\n\n```js\n                case 1:\n                    // \u30dc\u30fc\u30eb\u306e\u751f\u6210\n                    if (this.btimer % this.remit === 0) {\n                            this.LR = rand(1);\n                            this.vy = 10;\n                            this.vx = (rand(200) -100) /10;\n                            ball = Ball(this.LR,this.vx * this.speed,this.vy * this.speed,0).addChildTo(ballGroup);\n                            this.btimer = 1;\n\n                    }\n\n                    //\u7389\u306e\u51fa\u308b\u9593\u9694\u3092\u72ed\u3081\u308b :\u72ed\u3081\u308b\u30b9\u30d4\u30fc\u30c9\u3060\u3093\u3060\u3093\u9045\u304f\n                    if(this.rtimer > this.rspeed && this.remit > 5){\n                            this.remit -= 1;\n                            this.rspeed += 3;\n                            if(this.remit < 20){\n                                this.rspeed += 10;\n                            }\n                            this.rtimer = 0;\n                    }\n\n                    //\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\n                    if(this.timer % 500 === 0){\n                        gameflg = 2;\n                        //\u6b21\u304b\u3089\u901a\u5e38\u30e2\u30fc\u30c9\u306e\u7389\u304c\u65e9\u304f\u306a\u308b\n                        this.speed += 0.1\n                        //\u7389\u306e\u51fa\u308b\u9593\u9694\u3000\u30b8\u30e7\u30b8\u30e7\u306b\u4e0a\u304c\u308a\u306b\u304f\u304f\u3059\u308b\n\n\n\n                    }\n                    //\u5165\u308c\u98df\u3044\u30e2\u30fc\u30c9\u306b\u79fb\u884c\n                    if(this.timer % this.ebouns === 0){\n                        //\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u631f\u3093\u3067\u5165\u308c\u98df\u3044\u30e2\u30fc\u30c9\u3078\n                        gameflg = 9;\n                        this.nextmode = 3;\n                        this.ebouns += 500;\n                        this.timer = 1;\n                    }\n\n                    ++this.timer;\n                    ++this.rtimer;\n                    ++this.btimer;\n\n                break;\n```\n\u672c\u683c\u7684\u306b\u30b3\u30fc\u30c9\u304c\u6c5a\u304f\u306a\u3063\u3066\u304d\u305f\u611f\u3058\u304c\u3042\u308a\u307e\u3059\u3002\u5168\u4f53\u3068\u3057\u3066\u4f55\u3084\u3063\u3066\u308b\u304b\u30b6\u30c3\u3068\u7b87\u6761\u66f8\u304d\u306b\u3057\u307e\u3057\u3087\u3046\n\n- \u30dc\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\n- \u30dc\u30fc\u30eb\u306e\u51fa\u308b\u9593\u9694\u3092\u3060\u3093\u3060\u3093\u65e9\u304f\u3059\u308b\n- \u4e00\u5b9a\u6642\u9593\u305f\u3063\u305f\u3089\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3059\u308b\n- \u4e00\u5b9a\u6642\u9593\u305f\u3063\u305f\u3089\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3059\u308b\n- \u30bf\u30a4\u30de\u30fc\u3092\u52a0\u7b97\u3059\u308b\n\n\u3053\u3093\u306a\u611f\u3058\u3063\u3059\u306d\u3002\n\n\u3061\u306a\u307f\u306bbtimer\u3068\u304bremit\u3068\u304b\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u521d\u671f\u5024\u306f\u5168\u90e8init\u306esetparam()\u3067\u521d\u671f\u5316\u3057\u3066\u307e\u3059\u3002\n    `this.setparam();`\n***\n\u3068\u308a\u3042\u3048\u305a\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\u3068\u3053\u308d\u304b\u3089\u898b\u3066\u307f\u307e\u3059\n\n```js\n                    if (this.btimer % this.remit === 0) {\n                            this.LR = rand(1);\n                            this.vy = 10;\n                            this.vx = (rand(200) -100) /10;\n                            ball = Ball(this.LR,this.vx * this.speed,this.vy * this.speed,0).addChildTo(ballGroup);\n                            this.btimer = 1;\n\n                    }\n```\n\nthis.btimer\u3068\u3044\u3046\u3084\u3064\u304c\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306e\u30bf\u30a4\u30de\u30fc\u3067\u3059\u306d\u3002\u6bce\u30d5\u30ec\u30fc\u30e0\u52a0\u7b97\u3057\u3066this.remit\u3068\u540c\u3058\u5024\u306b\u306a\u308b\u3068\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\u51e6\u7406\u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u3063\u3066\u307e\u3059\u3002\u308f\u304b\u308a\u306b\u304f\u3044\u540d\u524d\u3067\u3059\u306d\u3002\u305b\u3081\u3066this.balltimer\u3068this.ballremit\u304f\u3089\u3044\u306b\u3057\u305f\u307b\u3046\u304c\u3044\u3044\u3067\u3059\u3002\n\n\u3067\u3001\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\u6642\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3057\u3066\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3057\u3066\u307e\u3059\u306d\nthis.LR\u306f\u30dc\u30fc\u30eb\u3092\u53f3\u304b\u3089\u51fa\u3059\u304b\u5de6\u304b\u3089\u51fa\u3059\u304b\u3092\u6c7a\u3081\u308b\u3084\u3064\u3067\u3059\u3002\u5206\u304b\u308a\u306b\u304f\u3044\u540d\u524d\u3067\u3059\u3002this.LR\u304c0\u3060\u3068\u5de6\u30011\u3060\u3068\u53f3\u304b\u3089\u30dc\u30fc\u30eb\u304c\u51fa\u307e\u3059\u3002rand\u3068\u304b\u3044\u3046\u81ea\u4f5c\u306e\u95a2\u6570\u3067\u30e9\u30f3\u30c0\u30e0\u3067\u5024\u3092\u5165\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u3002\uff11\u3092\u5165\u308c\u308b\u30680\u304b\uff11\u3092\u8fd4\u3057\u307e\u3059\u3002\n\nthis.vx,this.vy\u306f\u30dc\u30fc\u30eb\u306e\u901f\u5ea6\u3092\u5165\u308c\u3066\u307e\u3059\u3002\u901f\u5ea6\u3068\u3044\u3046\u304b\u3001\u5411\u304d\u307f\u305f\u3044\u306a\u611f\u3058\u3067\u3059\u3002this.vx\u306b\u30e9\u30f3\u30c0\u30e0\u306e\u5024\u3092\u5165\u308c\u308b\u3053\u3068\u3067\u30dc\u30fc\u30eb\u3092\u30d0\u30e9\u30d0\u30e9\u306b\u767a\u5c04\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u5b9f\u969b\u306e\u901f\u5ea6\u306f\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\u3068\u304d\u306bthis.speed\u3092\u639b\u3051\u308b\u3053\u3068\u3067\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002\n\n\u3067\u3001\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5165\u308c\u3066\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u751f\u6210\u3057\u305f\u30dc\u30fc\u30eb\u306f\u30dc\u30fc\u30eb\u30b0\u30eb\u30fc\u30d7\u306b\u5165\u308c\u3066\u304a\u304f\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3042\u3068\u3067\u4f7f\u3044\u307e\u3059\u3002\n\n\n***\n\n\u30dc\u30fc\u30eb\u306e\u51fa\u308b\u9593\u9694\u3092\u3060\u3093\u3060\u3093\u65e9\u304f\u3059\u308b\u51e6\u7406\u3067\u3059\u3002\u30dc\u30fc\u30eb\u304c\u3069\u3093\u3069\u3093\u51fa\u3066\u6765\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u30b2\u30fc\u30e0\u306e\u96e3\u6613\u5ea6\u3092\u5f90\u3005\u306b\u4e0a\u3052\u3066\u3044\u304f\u305f\u3081\u306e\u51e6\u7406\u3067\u3059\u3002\n\n```js\n                    //\u7389\u306e\u51fa\u308b\u9593\u9694\u3092\u72ed\u3081\u308b :\u72ed\u3081\u308b\u30b9\u30d4\u30fc\u30c9\u3060\u3093\u3060\u3093\u9045\u304f\n                    if(this.rtimer > this.rspeed && this.remit > 5){\n                            this.remit -= 1;\n                            this.rspeed += 3;\n                            if(this.remit < 20){\n                                this.rspeed += 10;\n                            }\n                            this.rtimer = 0;\n                    }\n```\n\n\u57fa\u672c\u7684\u306b\u30dc\u30fc\u30eb\u306e\u751f\u6210\u306e\u6642\u306b\u4f7f\u3063\u305fthis.remit\u306e\u5024\u3092\u5909\u3048\u308b\u305f\u3081\u306e\u51e6\u7406\u3067\u3059\u3002this.rtimer\u3068\u304b\u3044\u3046\u30bf\u30a4\u30de\u30fc\u304cthis.rspeed\u3092\u8d8a\u3048\u308b\u3068this.remit\u306e\u5024\u304c\uff11\u6e1b\u308a\u307e\u3059\u3002this.remit\u304c\u6e1b\u308b\u3068\u3001\u30dc\u30fc\u30eb\u304c\u51fa\u3066\u6765\u308b\u306e\u304c\u65e9\u304f\u306a\u308b\u308f\u3051\u3067\u3059\u3002\n\nthis.rspeed\u306e\u5024\u304c\uff13\u305a\u3064\u5897\u3048\u3066\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001this.remit\u304c\u5f90\u3005\u306b\u6e1b\u308a\u306b\u304f\u304f\u306a\u308a\u307e\u3059\u3002\u306a\u306b\u304c\u3057\u305f\u3044\u304b\u3068\u3044\u3046\u3068\u3001\u6700\u521d\u306f\u96e3\u6613\u5ea6\u304c\u4e0a\u304c\u308b\u30b9\u30d4\u30fc\u30c9\u304c\u65e9\u3081\u3001\u96e3\u6613\u5ea6\u304c\u4e0a\u304c\u3063\u3066\u304b\u3089\u306f\u96e3\u6613\u5ea6\u304c\u4e0a\u304c\u308b\u30b9\u30d4\u30fc\u30c9\u304c\u5f90\u3005\u306b\u7de9\u3084\u304b\u306b\u306a\u308b\u3002\u307f\u305f\u3044\u306a\u3053\u3068\u3092\u3084\u308a\u305f\u304b\u3063\u305f\u3093\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u591a\u5206\u3002\u3042\u3093\u307e\u308a\u8a18\u61b6\u304c\u78ba\u304b\u3067\u306f\u306a\u3044\u3067\u3059\u3002this.remit\u304c20\u5207\u3063\u3066\u304b\u3089\u306fthis.rspeed\u304c\u3055\u3089\u306b\uff11\uff10\u5897\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u3002\n\n\u3042\u3068this.remit\u306f5\u4ee5\u4e0b\u306b\u306a\u3063\u305f\u3089\u305d\u308c\u4ee5\u4e0a\u6e1b\u3089\u3055\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u306d\u3002\n\n***\n\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3059\u308b\u3068\u304d\u306e\u51e6\u7406\u3067\u3059\n\n```js\n                    //\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\n                    if(this.timer % 500 === 0){\n                        gameflg = 2;\n                        //\u6b21\u304b\u3089\u901a\u5e38\u30e2\u30fc\u30c9\u306e\u7389\u304c\u65e9\u304f\u306a\u308b\n                        this.speed += 0.1\n                    }\n```\nthis.timer\u304c500\u306e\u500d\u6570\u306b\u306a\u3063\u305f\u3068\u304d\u306b\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3057\u307e\u3059\u3002\ngameflg\u306b\uff12\u3092\u5165\u308c\u308b\u3053\u3068\u3067\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3067\u304d\u307e\u3059\u3002\n\u3064\u3044\u3067\u306bthis.speed\u306b0.1\u52a0\u7b97\u3059\u308b\u3053\u3068\u3067\u3001\u5f3e\u5e55\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3059\u308b\u5ea6\u306b\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u306e\u7389\u306e\u30b9\u30d4\u30fc\u30c9\u304c\u4e0a\u304c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\n***\n\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3059\u308b\u3068\u304d\u306e\u51e6\u7406\u3067\u3059\u306d\u3002\u30bf\u30a4\u30de\u30fc\u304cthis.ebouns\u3068\u304b\u3044\u3046\u5909\u6570\u3067\u5272\u308a\u5207\u308c\u308b\u6570\u306b\u306a\u308b\u3068\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\u3082\u306f\u3084\u65e5\u672c\u8a9e\u3067\u3082\u82f1\u8a9e\u3067\u3082\u306a\u3044\u3063\u3059\n\n```js\n                    //\u5165\u308c\u98df\u3044\u30e2\u30fc\u30c9\u306b\u79fb\u884c\n                    if(this.timer % this.ebouns === 0){\n                        //\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u631f\u3093\u3067\u5165\u308c\u98df\u3044\u30e2\u30fc\u30c9\u3078\n                        gameflg = 9;\n                        this.nextmode = 3;\n                        this.ebouns += 500;\n                        this.timer = 1;\n                    }\n```\ngameflg\u306b\u306f9\u3092\u5165\u308c\u307e\u3059\u3002\u3053\u308c\u3067\u4e00\u65e6\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u5165\u3063\u3066\u30dc\u30fc\u30eb\u304c\u6d88\u3048\u308b\u306e\u3092\u5f85\u3061\u307e\u3059\u3002\nthis.nextmode\u306f\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306e\u3042\u3068\u306b\u79fb\u884c\u3059\u308b\u30e2\u30fc\u30c9\u3067\u3059\u3002\uff13\u304c\u5165\u3063\u3066\u308b\u306e\u3067\u3001\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306e\u3042\u3068\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\u306b\u5165\u308b\u3063\u3066\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\u3042\u3093\u307e\u308a\u30b9\u30de\u30fc\u30c8\u306a\u51e6\u7406\u3058\u3083\u306a\u3044\u3067\u3059\n\nthis.ebouns\u306b500\u52a0\u7b97\u3059\u308b\u3053\u3068\u3067\u5f90\u3005\u306b\u30dc\u30fc\u30ca\u30b9\u30bf\u30a4\u30e0\u304c\u51fa\u306b\u304f\u304f\u306a\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\u6700\u5f8c\u306bthis.timer\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u3066\u307e\u3059\u306d\n\n\n#\u5f3e\u5e55\u30e2\u30fc\u30c9\n\u5f3e\u5e55\u30e2\u30fc\u30c9\u3067\u3059\u3002\b\u30dc\u30fc\u30eb\u304c\u3081\u3063\u3061\u3083\u964d\u3063\u3066\u304d\u307e\u3059\u3002gameflg\u306b\uff12\u304c\u5165\u3063\u3066\u308b\u3068\u52d5\u304d\u307e\u3059\u3002\n![\u30ad\u30e3\u30d7\u30c1\u30e3.PNG](https://qiita-image-store.s3.amazonaws.com/0/62035/4c1baa4c-9db5-6e22-69a4-ba95e3cfb471.png)\n\n\u30b3\u30fc\u30c9\u306f\u3053\u3093\u306a\u611f\u3058\n\n```js\n\n                //\u5f3e\u5e55\u30e2\u30fc\u30c9\n                case 2:\n\n                    // \u7389\u306e\u751f\u6210(\u96e3\u6613\u5ea6\u3092\u3069\u3093\u3069\u3093\u4e0a\u3052\u308b)\n                    if (this.dantimer % 2 === 0) {\n\n                            this.danvy = 4;\n                            ball = Ball(this.LR,this.danvx,this.danvy,1).addChildTo(ballGroup);\n                    }\n\n                    if(this.danvx_remit > this.danvx){\n                        this.danvx += this.danspeed;\n                    }\n                    //\u6b21\u306e\u5f3e\u5e55\u3002\u7389\u306e\u51fa\u308b\u5834\u6240\u3092\u53cd\u8ee2\n                    else{\n                        if(this.LR == 0){\n                            this.LR = 1;\n                        }\n                        else{\n                            this.LR = 0;\n                        }\n                        this.danvx = 0;\n\n                        this.dancnt++;\n                    }\n\n                    //\u5f3e\u5e55\u306e\u7d42\u308f\u308a\n                    if(this.dancnt >= this.danend){\n                        gameflg = 9;\n                        this.nextmode = 1;\n                        this.dancnt = 0;\n                        this.danend++; //\u5f3e\u5e55\u56de\u6570\u304c\u3060\u3093\u3060\u3093\u4e0a\u304c\u308b\n                        this.danspeed += 0.01;\n                    }\n\n                    this.dantimer++;\n\n                break;\n\n```\n\n\u30b6\u30c3\u3068\u8aac\u660e\u3059\u308b\u3068\u3001\uff12\u30d5\u30ec\u30fc\u30e0\u306b\u4e00\u56de\u5f3e\u3092\u767a\u5c04\u3057\u3066\u3001\u767a\u5c04\u3059\u308b\u5ea6\u306b\u767a\u5c04\u306e\u89d2\u5ea6\u3092\u5909\u3048\u3066\u3044\u304d\u307e\u3059\u3002\u89d2\u5ea6\u306e\u30ea\u30df\u30c3\u30c8\u304c\u304d\u305f\u3089\u53cd\u5bfe\u5074\u304b\u3089\u307e\u305f\u767a\u5c04\u3057\u307e\u3059\u3002\u30ea\u30df\u30c3\u30c8\u3092\u8d85\u3048\u308b\u307e\u3067\u304c\u4e00\u56de\u306e\u5f3e\u5e55\u3068\u3057\u3066\u3001\u5f3e\u5e55\u306e\u7dcf\u56de\u6570\u3092\u8d85\u3048\u308b\u307e\u3067\u3053\u308c\u3092\u7e70\u308a\u8fd4\u3059\u611f\u3058\u3067\u3059\n***\n\u5f3e\u306e\u751f\u6210\u304c\u3053\u308c\u3067\u3059\u3002this.danvx,this.danvy\u3068\u3044\u3046\u306e\u304c\u5f3e\u306e\u901f\u5ea6\u3067\u3059\u3002\n\n```js\n                    // \u7389\u306e\u751f\u6210(\u96e3\u6613\u5ea6\u3092\u3069\u3093\u3069\u3093\u4e0a\u3052\u308b)\n                    if (this.dantimer % 2 === 0) {\n\n                            this.danvy = 4;\n                            ball = Ball(this.LR,this.danvx,this.danvy,1).addChildTo(ballGroup);\n                    }\n\n```\n\n\n***\n\nthis.danvx\u304cthis.danvx_remit\u3092\u8d85\u3048\u308b\u307e\u3067this.danvx\u3092\u52a0\u7b97\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u5f3e\u3092\u767a\u5c04\u3059\u308b\u89d2\u5ea6\u304c\u5909\u308f\u308a\u307e\u3059\u3002\u3067\u3001\u30ea\u30df\u30c3\u30c8\u3092\u8d85\u3048\u305f\u3089this.LR\u3092\u53cd\u8ee2\u3057\u3066\u5f3e\u5e55\u30ab\u30a6\u30f3\u30c8\u3092\u52a0\u7b97\u3057\u307e\u3059\n\n```js\n                    if(this.danvx_remit > this.danvx){\n                        this.danvx += this.danspeed;\n                    }\n                    //\u6b21\u306e\u5f3e\u5e55\u3002\u7389\u306e\u51fa\u308b\u5834\u6240\u3092\u53cd\u8ee2\n                    else{\n                        if(this.LR == 0){\n                            this.LR = 1;\n                        }\n                        else{\n                            this.LR = 0;\n                        }\n                        this.danvx = 0;\n\n                        this.dancnt++;\n                    }\n```\n\n***\n\n\u5f3e\u5e55\u30ab\u30a6\u30f3\u30c8\u304cthis.danend\u3092\u8d85\u3048\u308b\u3068\u5f3e\u5e55\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n\u7d42\u4e86\u3059\u308b\u3064\u3044\u3067\u306bthis.danend\u3068this.danspeed\u3092\u52a0\u7b97\u3057\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3068\u6b21\u306e\u5f3e\u5e55\u30e2\u30fc\u30c9\u306e\u3068\u304d\u306b\u3001\u5f3e\u5e55\u56de\u6570\u304c\u5897\u3048\u3066\u5f3e\u5e55\u30dc\u30fc\u30eb\u306e\u30b9\u30d4\u30fc\u30c9\u304c\u4e0a\u304c\u308a\u307e\u3059\u3002\n\n```js\n                    //\u5f3e\u5e55\u306e\u7d42\u308f\u308a\n                    if(this.dancnt >= this.danend){\n                        gameflg = 9;\n                        this.nextmode = 1;\n                        this.dancnt = 0;\n                        this.danend++; //\u5f3e\u5e55\u56de\u6570\u304c\u3060\u3093\u3060\u3093\u4e0a\u304c\u308b\n                        this.danspeed += 0.01;\n                    }\n```\n\n#\u30dc\u30fc\u30eb\u30af\u30e9\u30b9\n\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u3068\u5f3e\u5e55\u30e2\u30fc\u30c9\u3067\u4f7f\u3046\u30dc\u30fc\u30eb\u30af\u30e9\u30b9\u306e\u89e3\u8aac\u3092\u3057\u307e\u3059\u3002\u7d50\u69cb\u9577\u3044\u306e\u3067\u3001\u30cf\u30b7\u30e7\u308a\u3064\u3064\u89e3\u8aac\u3057\u307e\u3059\u3002\n\n```js\nphina.define('Ball', {\n  superClass: 'CircleShape',\n\n  init: function(LR,vx,vy,ballflg) {\n    this.superInit({\n      radius: BALL_RADIUS,\n      fill: '#eee',\n      stroke: null,\n      cornerRadius: 8,\n    });\n    this.color = \"hsla(10, 75%, 100%, 1)\";\n    this.flg=0;\n\n    this.ballflg = ballflg;\n\n    if(LR == 0){\n            this.x = 50;\n            this.vx = vx;\n    }\n    else{\n            this.x = 620;\n            this.vx = vx * -1;\n    }\n    this.y =320;\n    this.vy = vy;\n\n  },\n\n  update: function(app) {\n    \n      //\u30d0\u30fc\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\n      if(this.y >= bar.y - this.vy && this.y <= bar.y +5){\n          //\u7a74\u306b\u5165\u3063\u305f\n          if(this.x >= app.pointer.x - barsize && this.x <= app.pointer.x + barsize){\n              if(this.flg==0){\n                  point += 100 + combo * 10;\n                  combo++;\n                  this.flg = 1;\n\n              }\n          }\n          else{\n              combo = 0;\n              this.vy *= -1;\n              if(this.ballflg == 0){\n              this.color = \"hsla(18, 100%, 70%, 1)\";\n              }\n              else if(this.ballflg == 1){\n              this.color = \"hsla(360, 75%, 50%, 0.8)\";\n              }\n\n          }\n      }\n\n      //\u30d6\u30ed\u30c3\u30af\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\n      var bc = blockGroup.children;\n      var self = this;\n      bc.each(function(block) {\n        //  if(clash(self,block)){\n          if(self.hitTestElement(block)){\n\n              self.vy *= -1;\n              self.vx *= -1;\n              block.remove();\n              self.ballflg++;\n             }\n\n      });\n\n      //\u58c1\u306b\u3042\u305f\u3063\u305f\u3089\u53cd\u8ee2\n      if(this.x < 5 || this.x > SCREEN_WIDTH){\n          this.vx *= -1;\n      }\n\n      //\u4e0b\u306b\u51fa\u305f\u3089\u6d88\u3048\u308b\n      if(this.y > SCREEN_HEIGHT){\n          this.remove();\n      }\n\n      //\u7389\u304c\u4e0a\u306b\u3067\u305f\n      if(this.y < 0){\n          //point += 100;\n          //\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u30d5\u30e9\u30b0\n          gameflg = 0;\n          this.remove();\n      }\n\n      //\u30d6\u30ed\u30c3\u30af\u306b\uff12\u56de\u3042\u305f\u3063\u305f\u3089\u6d88\u3048\u308b\n      if(this.ballflg >= 2){\n          this.remove();\n\n      }\n\n      this.y += this.vy;\n      this.x += this.vx;\n\n  },\n\n  draw: function(c) {\n  c.globalCompositeOperation = \"lighter\";\n  c.fillStyle = this.color;\n  c.fillCircle(0, 0, BALL_RADIUS);\n  },\n\n});\n```\n\n\u305d\u3053\u305d\u3053\u9577\u3044\u3067\u3059\u3002\u30dd\u30a4\u30f3\u30c8\u3092\u7b87\u6761\u66f8\u304d\u306b\u3057\u307e\u3059\n\n- \u30dc\u30fc\u30eb\u306e\u51fa\u73fe\u5834\u6240\u8a2d\u5b9a\n- \u30dc\u30fc\u30eb\u30d5\u30e9\u30b0\n- \u30d1\u30c9\u30eb\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\n- \u30d6\u30ed\u30c3\u30af\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\n- \u753b\u9762\u5916\u306b\u3067\u305f\u3068\u304d\n\n\u3060\u3044\u305f\u3044\u3053\u3093\u306a\u3082\u3093\u3067\u3059\u3002\n\n***\n\u30dc\u30fc\u30eb\u306e\u51fa\u73fe\u5834\u6240\u3092\u8a2d\u5b9a\u3059\u308b\u51e6\u7406\u304c\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\u30dc\u30fc\u30eb\u3092\u4f5c\u308b\u3068\u304d\u306b\u300cLR\u300d\u3068\u304b\u3044\u3046\u30e4\u30c4\u3092\u6e21\u3057\u307e\u3057\u305f\u3002\u3042\u308c\u3092\u4f7f\u3044\u307e\u3059\n\n```js\n    if(LR == 0){\n            this.x = 50;\n            this.vx = vx;\n    }\n    else{\n            this.x = 620;\n            this.vx = vx * -1;\n    }\n```\nLR\u304c\uff10\u306e\u3068\u304d\u306f\u5de6\u306e\u65b9\u304b\u3089\u30011\u306e\u3068\u304d\u306f\u53f3\u306e\u65b9\u304b\u3089\u5f3e\u304c\u51fa\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\uff11\u306e\u3068\u304d\u3001vx\u306b-1\u3092\u639b\u3051\u308b\u3053\u3068\u3067\u5f3e\u306e\u51fa\u308b\u65b9\u5411\u3092\u53cd\u8ee2\u3057\u307e\u3059\u3002\u8981\u3059\u308b\u306b\u7389\u304c\u53f3\u304b\u3089\u5de6\u306b\u52d5\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3059\n\n***\n\u30dc\u30fc\u30eb\u30d5\u30e9\u30b0\u306f\u30dc\u30fc\u30eb\u304c\u4f55\u56de\u30d6\u30ed\u30c3\u30af\u306b\u5f53\u305f\u3063\u305f\u304b\u3092\u8a18\u61b6\u3057\u307e\u3059\u3002\u30d6\u30ed\u30c3\u30af\u306b\u3042\u305f\u3063\u305f\u6642\u306b\u52a0\u7b97\u3055\u308c\u307e\u3059\u3002\n    `this.ballflg = ballflg;`\n\n\u3093\u3067\u3001\u30d6\u30ed\u30c3\u30af\u306b\uff12\u56de\u5f53\u305f\u308b\u3068\u30dc\u30fc\u30eb\u304c\u6d88\u3048\u307e\u3059\u3002\n\n```js\n      if(this.ballflg >= 2){\n          this.remove();\n      }\n```\n\n\u3061\u306a\u307f\u306b\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u306e\u6642ballflg\u306b\uff10\u3002\u5f3e\u5e55\u30e2\u30fc\u30c9\u306e\u6642\u306fballflg\u306f\uff11\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u3046\u3059\u308b\u3068\u3001\u5f3e\u5e55\u30e2\u30fc\u30c9\u306e\u6642\u3060\u3051\u306f\u30d6\u30ed\u30c3\u30af\u306b\u4e00\u56de\u3042\u305f\u3063\u305f\u3060\u3051\u3067\u30dc\u30fc\u30eb\u304c\u6d88\u3048\u307e\u3059\u3002\u5f3e\u5e55\u304c\u30d6\u30ed\u30c3\u30af\u306b\u3042\u305f\u3063\u3066\u66f4\u306b\u8df3\u306d\u8fd4\u3063\u3066\u304d\u305f\u3089\u5730\u7344\u7d75\u56f3\u306b\u306a\u3063\u3061\u3083\u3046\u306e\u3067\u3053\u3046\u3057\u3066\u308b\u308f\u3051\u3067\u3059\u3002\n\n***\n\u30d1\u30c9\u30eb\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\u306e\u89e3\u8aac\u3067\u3059\u3002\u30d1\u30c9\u30eb\u5468\u308a\u306f\u7d50\u69cb\u30e0\u30ea\u30e4\u30ea\u306a\u5b9f\u88c5\u3057\u3066\u308b\u306e\u3067\u30a6\u30b1\u307e\u3059\u3002\n\n```js\n      //\u30d0\u30fc\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\n      if(this.y >= bar.y - this.vy && this.y <= bar.y +5){\n          //\u7a74\u306b\u5165\u3063\u305f\n          if(this.x >= app.pointer.x - barsize && this.x <= app.pointer.x + barsize){\n              if(this.flg==0){\n                  point += 100 + combo * 10;\n                  combo++;\n                  this.flg = 1;\n\n              }\n          }\n          else{\n              combo = 0;\n              this.vy *= -1;\n              if(this.ballflg == 0){\n              this.color = \"hsla(18, 100%, 70%, 1)\";\n              }\n              else if(this.ballflg == 1){\n              this.color = \"hsla(360, 75%, 50%, 0.8)\";\n              }\n\n          }\n      }\n```\n\n\u6c5a\u3044\u30b3\u30fc\u30c9\u3067\u3059\u306d\u3002\u3056\u3063\u3068\u89e3\u8aac\u3057\u307e\u3059\u3002\n\nbar\u3068\u3044\u3046\u3084\u3064\u306b\u30d1\u30c9\u30eb\u306e\u5b9f\u4f53\u304c\u5165\u3063\u3066\u307e\u3059\u3002\u3053\u3044\u3064\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u3067\u5ba3\u8a00\u3057\u3066\u308b\u306e\u3067\u3069\u3053\u3067\u3082\u4f7f\u3048\u307e\u3059\u3002\u3067\u3001bar\u306eY\u4f4d\u7f6e\u306b\u30dc\u30fc\u30eb\u304c\u5230\u9054\u3057\u305f\u3089\u30d1\u30c9\u30eb\u306e\u9593\u306e\u7a74\u306e\u4f4d\u7f6e\u306b\u30dc\u30fc\u30eb\u304c\u5165\u3063\u3066\u308b\u304b\u3069\u3046\u304b\u8abf\u3079\u307e\u3059\u3002\u3069\u3046\u3084\u3063\u3066\u8abf\u3079\u3066\u308b\u304b\u3068\u3044\u3046\u3068\u3001\u307e\u305f\u30bf\u30c3\u30c1\u306e\u30dd\u30a4\u30f3\u30c8\u304b\u3089barsize\u3092\u8db3\u3057\u305f\u308a\u5f15\u3044\u305f\u308a\u3057\u3066\u307e\u3059\u3002\u305d\u3093\u3067\u305d\u306e\u4e2d\u306bball\u306ex\u4f4d\u7f6e\u304c\u5165\u3063\u3066\u308b\u304b\u898b\u3066\u307e\u3059\u3002barsize\u3082\u30b0\u30ed\u30fc\u30d0\u30eb\u5ba3\u8a00\u3055\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u3002\n\n\u7a74\u306b\u5165\u3063\u3066\u305f\u3089\u30b9\u30b3\u30a2\u3068\u30b3\u30f3\u30dc\u6570\u3092\u4e0a\u3052\u308b\u51e6\u7406\n\n```js\n          if(this.flg==0){\n              point += 100 + combo * 10;\n              combo++;\n              this.flg = 1;\n\n          }\n```\n\n\u30d1\u30c9\u30eb\u306b\u5f53\u305f\u3063\u3066\u305f\u3089\u30dc\u30fc\u30eb\u3092\u53cd\u8ee2\u3055\u305b\u3066\u30b3\u30f3\u30dc\u6570\u3082\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\n```js\n      else{\n          combo = 0;\n          this.vy *= -1;\n          if(this.ballflg == 0){\n          this.color = \"hsla(18, 100%, 70%, 1)\";\n          }\n          else if(this.ballflg == 1){\n          this.color = \"hsla(360, 75%, 50%, 0.8)\";\n          }\n\n      }\n```\n\nthis.vy\u306b-1\u3092\u639b\u3051\u308b\u3053\u3068\u3067y\u65b9\u5411\u306e\u79fb\u52d5\u304c\u53cd\u8ee2\u3059\u308b\u308f\u3051\u3067\u3059\u3002\n\u3064\u3044\u3067\u306b\u30dc\u30fc\u30eb\u306e\u8272\u3082\u5909\u3048\u3066\u307e\u3059\u3002\uff11\u56de\u5f53\u305f\u308b\u3068\u30aa\u30ec\u30f3\u30b8\u3001\uff12\u56de\u5f53\u305f\u308b\u3068\u30ec\u30c3\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\u8272\u3092\u5909\u3048\u308b\u3053\u3068\u3067\u3001\u300c\u3053\u3044\u3064\u306f\uff11\u56de\u5f53\u305f\u3063\u305f\u30dc\u30fc\u30eb\u3060\u306a\u300d\u3068\u30d7\u30ec\u30a4\u30e4\u30fc\u306b\u308f\u304b\u308a\u3084\u3059\u304f\u306a\u308a\u307e\u3059\u3002\u3064\u3044\u3067\u306b\u30df\u30b9\u3092\u3057\u305f\u3053\u3068\u304c\u8996\u899a\u7684\u306b\u308f\u304b\u308a\u3059\u304f\u306a\u308b\u306e\u3067\u7126\u308a\u307e\u3059\u3002\n\n***\n\u30d6\u30ed\u30c3\u30af\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002\u3064\u3044\u306b\u30d6\u30ed\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u306e\u51fa\u756a\u3067\u3059\u3002\n\n```js\n      //\u30d6\u30ed\u30c3\u30af\u3068\u306e\u5f53\u305f\u308a\u5224\u5b9a\n      var bc = blockGroup.children;\n      var self = this;\n      bc.each(function(block) {\n\n          if(self.hitTestElement(block)){\n\n              self.vy *= -1;\n              self.vx *= -1;\n              block.remove();\n              self.ballflg++;\n             }\n\n      });\n```\nvar bc = blockGroup.children\u3068\u3084\u308b\u3068\u306bbc\u306b\u4eca\u307e\u3067\u30b0\u30eb\u30fc\u30d7\u306b\u5165\u308c\u305f\u30d6\u30ed\u30c3\u30af\u9054\u304c\u5165\u308a\u307e\u3059\u3002\u305d\u3093\u3067bc.each(function(block) \u3063\u3066\u3084\u3064\u3067\u3001\u30b0\u30eb\u30fc\u30d7\u306b\u5165\u308c\u305f\u5168\u90e8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u4e00\u500b\u305a\u3064\u53d6\u5f97\u3057\u3066\u306a\u3093\u304b\u3057\u305f\u308a\u3067\u304d\u308b\u308f\u3051\u3067\u3059\u3002block\u3063\u3066\u3084\u3064\u306b\u53d6\u5f97\u3057\u305f\u30d6\u30ed\u30c3\u30af\u306e\u5b9f\u4f53\u304c\u5165\u3063\u3066\u307e\u3059\u3002\n\n\u307b\u3093\u3067hitTestElement\u3068\u3044\u3046\u30e4\u30c4\u3067\u30dc\u30fc\u30eb\u3068\u30d6\u30ed\u30c3\u30af\u304c\u63a5\u89e6\u3057\u3066\u308b\u304b\u3069\u3046\u304b\u3092\u898b\u3066\u307e\u3059\u3002\u63a5\u89e6\u3057\u3066\u305f\u3089\u30dc\u30fc\u30eb\u306e\u79fb\u52d5\u65b9\u5411\u3092\u53cd\u8ee2\u3057\u3066\u3001\u30d6\u30ed\u30c3\u30af\u3092\u6d88\u3057\u3066\u3001\u30dc\u30fc\u30eb\u30d5\u30e9\u30b0\u3092\u52a0\u7b97\u3057\u307e\u3059\u3002\n\n***\n\n\u753b\u9762\u5916\u306b\u51fa\u305f\u6642\u306e\u51e6\u7406\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\n\n```js\n      //\u58c1\u306b\u3042\u305f\u3063\u305f\u3089\u53cd\u8ee2\n      if(this.x < 5 || this.x > SCREEN_WIDTH){\n          this.vx *= -1;\n      }\n\n      //\u4e0b\u306b\u51fa\u305f\u3089\u6d88\u3048\u308b\n      if(this.y > SCREEN_HEIGHT){\n          this.remove();\n      }\n\n      //\u7389\u304c\u4e0a\u306b\u3067\u305f\n      if(this.y < 0){\n          //\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u30d5\u30e9\u30b0\n          gameflg = 0;\n          this.remove();\n      }\n```\n\n\u58c1\u306b\u3042\u305f\u3063\u305f\u3089\u53cd\u8ee2\u3001\u4e0b\u306b\u3044\u3063\u305f\u3089\u30dc\u30fc\u30eb\u3092\u6d88\u3059\u3002\u4e0a\u306b\u3044\u3063\u305f\u3089\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u30d5\u30e9\u30b0\u3092\u7acb\u3066\u3066\u30dc\u30fc\u30eb\u3092\u6d88\u3059\u3001\u3063\u3066\u611f\u3058\u3067\u3059\u3002\u4ee5\u4e0a\uff01\n\n\n\n#\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\n\n\u30b2\u30fc\u30e0\u9032\u3081\u305f\u3089\u7a81\u7136\u51fa\u3066\u304f\u308b\u5165\u308c\u98df\u3044\u30dc\u30fc\u30ca\u30b9\u30dc\u30fc\u30eb\u306b\u3064\u3044\u3066\u306e\u89e3\u8aac\u3067\u3059\u3002\u30dc\u30fc\u30eb\u304c\u30b8\u30e3\u30e9\u30b8\u30e3\u30e9\u843d\u3061\u3066\u304d\u307e\u3059\u3002\n\n![\u30ad\u30e3\u30d7\u30c1\u30e3.PNG](https://qiita-image-store.s3.amazonaws.com/0/62035/b2adc08a-4b1f-c216-7771-fba4e485e32e.png)\n\n\u95a2\u4fc2\u306a\u3044\u3051\u3069\u30dc\u30fc\u30ca\u30b9\u4e2d\u306bBGM\u5165\u308c\u308b\u3068\u3057\u305f\u3089[\u8ecd\u8266\u884c\u9032\u66f2](https://www.youtube.com/watch?v=fUdKEaTLl_c)\u306b\u3057\u3088\u3046\u3068\u601d\u3063\u3066\u307e\u3057\u305f\u3002\u6614\u306e\u30d1\u30c1\u30f3\u30b3\u5c4b\u3067\u6d41\u308c\u3066\u305f\u3084\u3064\u3067\u3059\u3002\n\n\u30b3\u30fc\u30c9\u306f\u3053\u3061\u3089\n\n```js\n                //\u5165\u308c\u98df\u3044\u30e2\u30fc\u30c9\n                case 3:\n                    barsize = 120;\n                    this.mode.text = \"\u5165\u308c\u98df\u3044\\n\u30dc\u30fc\u30ca\u30b9\uff01\uff01\uff01\"\n\n                    if (this.etimer % 2 === 0) {\n                            this.LR = rand(1);\n                            this.evy = 0.5;\n                            this.evx = (rand(80)) /10;\n                            eball = eBall(this.LR,this.evx,this.evy).addChildTo(ballGroup);\n                    }\n                    this.etimer++;\n\n                    if(this.etimer > 500){\n\n                        this.etimer = 1;\n                        this.mode.text = \"\";\n                        barsize = 80;\n                        gameflg = 9;\n                        this.nextmode = 1;\n\n\n                    }\n\n\n                break;\n\n```\n\n\u3053\u3053\u307e\u3067\u304f\u308b\u3068\u3042\u3093\u307e\u308a\u89e3\u8aac\u3059\u308b\u3053\u3068\u3082\u306a\u3044\u6c17\u304c\u3057\u307e\u3059\u3002\u4e00\u5fdc\u3044\u3063\u3068\u304d\u307e\u3059\u3002\nbarsize = 120\u3063\u3066\u306a\u3063\u3066\u307e\u3059\u306d\u3002\u5165\u308c\u98df\u3044\u30dc\u30fc\u30ca\u30b9\u4e2d\u306f\u30d1\u30c9\u30eb\u306e\u7a74\u306e\u5927\u304d\u3055\u3092\u3061\u3087\u3063\u3068\u5927\u304d\u304f\u3057\u3066\u300c\u5165\u308c\u98df\u3044\u611f\u300d\u3092\u51fa\u3057\u3066\u307e\u3059\nthis.mode.text\u306f\u753b\u9762\u306b\u201d\u5165\u308c\u98df\u3044\u30dc\u30fc\u30ca\u30b9!!\u201d\u3063\u3066\u8868\u793a\u3055\u305b\u308b\u305f\u3081\u306e\u3084\u3064\u3067\u3059\u3002init\u306e\u6642\u306b\u3053\u3063\u305d\u308a\u4f5c\u3063\u3066\u307e\u3059\n\n\u5f3e\u5e55\u30e2\u30fc\u30c9\u3068\u540c\u3058\u611f\u3058\u3067\uff12\u30d5\u30ec\u30fc\u30e0\u306b\u4e00\u56de\u5165\u308c\u98df\u3044\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3057\u3066\u307e\u3059\u3002this.evy,this.evx\u306b\u5024\u3092\u5165\u308c\u3066\u901f\u5ea6\u3068\u304b\u65b9\u5411\u3092\u6c7a\u3081\u307e\u3059\u3002\u5165\u308c\u98df\u3044\u30dc\u30fc\u30ca\u30b9\u4e2d\u306f\u5165\u308c\u98df\u3044\u30dc\u30fc\u30eb\u3068\u3044\u3046\u7279\u5225\u306a\u30dc\u30fc\u30eb\u3092\u751f\u6210\u3057\u3066\u307e\u3059\u3002eBall\u3063\u3066\u3084\u3064\u3067\u3059\u3002\n\nthis.etimer\u304c500\u3092\u8d85\u3048\u308b\u3068\u30dc\u30fc\u30ca\u30b9\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3059\u308b\u51e6\u7406\u304c\u52d5\u304d\u307e\u3059\u3002\u30c6\u30ad\u30b9\u30c8\u3092\u6d88\u3057\u3066\u30d1\u30c9\u30eb\u306e\u9577\u3055\u3092\u623b\u3057\u3066\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u5165\u3063\u305f\u3042\u3068\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3057\u307e\u3059\u3002\n\n#\u5165\u308c\u98df\u3044\u30dc\u30fc\u30eb\u30af\u30e9\u30b9\n\n\u5165\u308c\u98df\u3044\u30dc\u30fc\u30ca\u30b9\u4e2d\u306f\u5165\u308c\u98df\u3044\u30dc\u30fc\u30eb\u3068\u3044\u3046\u7279\u5225\u306a\u30dc\u30fc\u30eb\u3092\u4f7f\u3044\u307e\u3059\u3002\u4e3b\u306a\u9055\u3044\u306f\u30dc\u30fc\u30eb\u304c\u91cd\u529b\u306b\u3088\u3063\u3066\u81ea\u7531\u843d\u4e0b\u3057\u3066\u308b\u3088\u3046\u306b\u898b\u3048\u308b\u3068\u3053\u3067\u3059\u3002\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u3068\u9055\u3063\u3066\u30dc\u30fc\u30eb\u3092\u4e0a\u306b\u98db\u3070\u3055\u306a\u304d\u3083\u3044\u3051\u306a\u3044\u30ef\u30b1\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u3058\u3083\u3042\u3053\u3046\u3044\u3046\u306e\u3082\u3067\u304d\u308b\u3058\u3083\u3093\u3068\u601d\u3063\u3066\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n```\n\nphina.define('eBall', {\n  superClass: 'CircleShape',\n\n      init: function(LR,vx,vy) {\n          this.superInit();\n          this.v = phina.geom.Vector2(0, 0);\n\n          if(LR == 0){\n                  this.x = 30;\n                  this.v.x = vx;\n          }\n          else{\n                  this.x = 620;\n                  this.v.x = vx * -1;\n          }\n          this.y =280;\n          this.vy = vy;\n\n          this.flg = 0;\n\n          this.timer = 1;\n\n          this.color = \"hsla(100, 100%, 100%, 1)\";\n\n      },\n\n      update: function(app) {\n          this.v.y += this.vy;\n\n          //\u58c1\u306b\u3042\u305f\u3063\u305f\u3089\u53cd\u8ee2\n          if(this.x < 5 || this.x > SCREEN_WIDTH){\n              this.x = 5\n              this.v.x *= -1;\n              this.vx *= -1;\n          }\n\n          //\u30d0\u30fc\u306b\u3042\u305f\u3063\u305f\n          if(this.y + 10 >= bar.y && this.y + 10<= bar.y + this.v.y ){\n              //\u7a74\u306b\u5165\u3063\u305f\n              if(this.x >= app.pointer.x - barsize && this.x <= app.pointer.x + barsize){\n                  if(this.flg==0){\n                      point += 50 + combo;\n                      combo++;\n                      this.flg = 1;\n\n                  }\n              }\n              else{\n                  this.v.y *= -0.6;\n\n              }\n          }\n          this.position.add(this.v);\n\n          //\u6642\u9593\u304c\u7acb\u3063\u305f\u3089\u5909\u8272\u3000\uff1e\u3000\u6d88\u3048\u308b\n          if(this.timer > 130){\n              this.color = \"hsla(360, 75%, 50%, 0.8)\";\n              if(this.timer > 160){\n                  this.remove();\n              }\n\n          }\n\n          //\u4e0b\u306b\u51fa\u305f\u3089\u6d88\u3048\u308b\n          if(this.y > SCREEN_HEIGHT){\n              this.remove();\n          }\n\n          this.timer++;\n      },\n\n      draw: function(c) {\n      c.globalCompositeOperation = \"lighter\";\n      c.fillStyle = this.color;\n      c.fillCircle(0, 0, BALL_RADIUS);\n      },\n});\n\n```\n\n\u4e2d\u8eab\u306f\u30dc\u30fc\u30eb\u30af\u30e9\u30b9\u3068\u3060\u3044\u305f\u3044\u540c\u3058\u3067\u3059\u3002this.v\u3068\u3044\u3046\u3084\u3064\u3067\u79fb\u52d5\u3092\u51e6\u7406\u3057\u3066\u308b\u3068\u3053\u308d\u3068\u3001\u6642\u9593\u304c\u305f\u3064\u3068\u30dc\u30fc\u30eb\u304c\u6d88\u3048\u308b\u6240\u304c\u9055\u3044\u307e\u3059\u3002\n\n`this.v = phina.geom.Vector2(0, 0);`\n\u3063\u3066\u611f\u3058\u3067this.v\u3092\u5b9a\u7fa9\u3057\u3066\u307e\u3059\u3002\u3053\u306ethis.v\u3092\u4f7f\u3063\u3066\u30dc\u30fc\u30eb\u306e\u79fb\u52d5\u3092\u3057\u3066\u307e\u3059\u3002\u305d\u308c\u3063\u307d\u304f\u843d\u4e0b\u3057\u305f\u308a\u8df3\u306d\u305f\u308a\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u308f\u3051\u3067\u3059\u3002\u305f\u3057\u304b\u305d\u3046\u3057\u307e\u3057\u305f\u3002\u3042\u3093\u307e\u308a\u899a\u3048\u3066\u306a\u3044\u3067\u3059\u3002\n\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3001this.v.y\u306bthis.vy\u3092\u52a0\u7b97\u3057\u3066\n`this.v.y += this.vy;`\n\n\u3067\u3001\u591a\u5206\u3053\u308c\u3067\u4f4d\u7f6e\u306e\u66f4\u65b0\u3092\u3057\u3066\u307e\u3059\u3002\n`this.position.add(this.v);`\n\n\u8a18\u61b6\u304c\u66d6\u6627\u306a\u306e\u306f\u591a\u5206\u3069\u3063\u304b\u304b\u3089\u30b3\u30d4\u3063\u3066\u304d\u305f\u30b3\u30fc\u30c9\u3060\u304b\u3089\u3067\u3059\u3002\u4eba\u306e\u30b3\u30fc\u30c9\u3092\u30d1\u30af\u3063\u3066\u3070\u304b\u308a\u3044\u308b\u3068\u3053\u3046\u3044\u3046\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u6c17\u3092\u4ed8\u3051\u307e\u3057\u3087\u3046\u3002\n\u8003\u3048\u65b9\u3068\u3057\u3066\u306f\u3001this.vy\u304c\u3044\u308f\u3070\u91cd\u529b\u3067\u3059\u3001\u3053\u306e\u91cd\u529b\u3092\u5e38\u306bthis.v.y\u306b\u52a0\u7b97\u3057\u7d9a\u3051\u307e\u3059\u3002\u4f8b\u3048\u3070this.v.y\u304c\u4e0a\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u9032\u3093\u3067\u3044\u308b\u3068\u3057\u3066\u3082\u3001\u91cd\u529b\u3092\u52a0\u7b97\u3057\u307e\u304f\u3063\u3066\u308b\u306e\u3067\u3044\u305a\u308c\u91cd\u529b\u306e\u5411\u304b\u3046\u65b9\u5411\u306b\u843d\u3061\u3066\u3044\u304d\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001\u30dc\u30fc\u30eb\u304c\u30d1\u30c9\u30eb\u306b\u843d\u3061\u3066\u8df3\u306d\u305f\u3042\u3068\u3001\u307e\u305f\u81ea\u7136\u306b\u843d\u3061\u3066\u304f\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\u305f\u3076\u3093\u305d\u3093\u306a\u611f\u3058\u3067\u3059\uff01\u305f\u3076\u3093\uff01\uff01\uff01\n\n\n\u30d1\u30c9\u30eb\u306b\u30dc\u30fc\u30eb\u304c\u843d\u3061\u305f\u6642\u306b\u3053\u3093\u306a\u51e6\u7406\u3092\u3057\u3066\u307e\u3059\u3002\n`this.v.y *= -0.6;`\nthis.v.y\u3092\u3061\u3087\u308d\u3063\u3068\u53cd\u8ee2\u3059\u308b\u3053\u3068\u3067\u30dc\u30fc\u30eb\u304c\u8df3\u306d\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u305b\u3066\u308b\u308f\u3051\u3067\u3059\u3002-0.6\u3092-1\u306b\u5909\u3048\u308b\u3068\u305a\uff5e\u3063\u3068\u8df3\u306d\u7d9a\u3051\u307e\u3059\n\n\n\u3067\u3001\u6642\u9593\u304c\u305f\u3063\u305f\u3089\u30dc\u30fc\u30eb\u304c\u6d88\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u307e\u3059\n\n```js\n          //\u6642\u9593\u304c\u7acb\u3063\u305f\u3089\u5909\u8272\u3000\uff1e\u3000\u6d88\u3048\u308b\n          if(this.timer > 130){\n              this.color = \"hsla(360, 75%, 50%, 0.8)\";\n              if(this.timer > 160){\n                  this.remove();\n              }\n\n          }\n```\n\u6d88\u3048\u308b\u3061\u3087\u3063\u3068\u524d\u306b\u30dc\u30fc\u30eb\u3092\u8d64\u304f\u3057\u3066\u300c\u3082\u3046\u3059\u3050\u6d88\u3048\u308b\u305c\u300d\u3063\u3066\u3044\u3046\u544a\u77e5\u3092\u3055\u305b\u3066\u307e\u3059\u3002\n\n\n#\u30b9\u30b3\u30a2\u3068\u30b3\u30f3\u30dc\u8868\u793a\n\n\u5de6\u4e0a\u306b\u30b9\u30b3\u30a2\u304c\u8868\u793a\u3055\u308c\u3066\u307e\u3059\u306d\u3002\n![\u30ad\u30e3\u30d7\u30c1\u30e3.PNG](https://qiita-image-store.s3.amazonaws.com/0/62035/6fb0779d-f679-286b-ada3-25b0e6f6fcc7.png)\n\n\u3042\u3068\u30b3\u30f3\u30dc\u6570\u3068\u304b\u3082\u8868\u793a\u3055\u308c\u3066\u307e\u3059\u3002\n![\u30ad\u30e3\u30d7\u30c1\u30e3.PNG](https://qiita-image-store.s3.amazonaws.com/0/62035/7c608d7a-3037-c294-408a-92a53e623f13.png)\n\n\u3053\u3044\u3064\u3089\u306fMainScene\u306einit\u3067\u4f5c\u3063\u3066\u307e\u3059\u3002\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u3067\u30b9\u30b3\u30a2\u304c\u898b\u3048\u306a\u3044\u306e\u306ftext\u306b\u4f55\u3082\u5165\u3063\u3066\u306a\u3044\u304b\u3089\u3067\u3059\u3002\n\n```js\n    //\u30e9\u30d9\u30eb\n    this.score = Label({\n      text: '',\n      fill: 'white',\n      fontSize: 32,\n    }).addChildTo(this);\n    this.score.x = 80;\n    this.score.y =20;\n\n    this.Combolabel = Label({\n      text: '',\n      fill: 'hsla(123, 80%, 50%, 8.0)',\n      fontSize: 40,\n    }).addChildTo(this);\n    this.Combolabel.x = 120;\n    this.Combolabel.y =600;\n```\n\n\u305d\u3057\u3066gamemain\u306e\u4e2d\u3067\u3053\u3093\u306a\u611f\u3058\u3067\u66f4\u65b0\u3092\u3057\u3066\u307e\u3059\u3002\n\n```js\n           //\u30e9\u30d9\u30eb\u66f4\u65b0\n            this.score.text = \"SCORE:\" + point;\n            if(combo > 0){\n                this.Combolabel.text = combo + \" Combo!\";\n            }\n            else{\n                this.Combolabel.text = \"\";\n            }\n```\n\nthis.score.text\u306b\u30b9\u30b3\u30a2\u306e\u6587\u5b57\u5217\u3092\u5165\u308c\u308b\u3068\u3001\u30b9\u30b3\u30a2\u304c\u898b\u308c\u307e\u3059\u3002\n\u30b3\u30f3\u30dc\u30c6\u30ad\u30b9\u30c8\u306f\u30b3\u30f3\u30dc\u304c\uff10\u306e\u6642\u306f\u898b\u3048\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u3002point\u3068\u3044\u3046\u306e\u304c\u5b9f\u969b\u306e\u30b9\u30b3\u30a2\u30dd\u30a4\u30f3\u30c8\u304c\u5165\u3063\u3066\u308b\u30e4\u30c4\u3067\u3059\u306d\u3002combo\u306b\u30b3\u30f3\u30dc\u6570\u304c\u5165\u3063\u3066\u307e\u3059\n\n***\n\u30b9\u30b3\u30a2\u3068\u30b3\u30f3\u30dc\u306e\u52a0\u7b97\u306f\u30dc\u30fc\u30eb\u30af\u30e9\u30b9\u3067\u3001\u30dc\u30fc\u30eb\u304c\u7a74\u306b\u5165\u3063\u305f\u6642\u306b\u3084\u3063\u3066\u307e\u3059\n\n```js\n                  point += 100 + combo * 10;\n                  combo++;\n```\n\u3053\u3093\u306a\u611f\u3058\u3067\u7a74\u306b\u5165\u308b\u3068\u30b9\u30b3\u30a2\u304c\u4e0a\u304c\u308a\u307e\u3059\u3002\u57fa\u672c\u306e\u30dd\u30a4\u30f3\u30c8\u304c100\u70b9\u3067\u3001\u66f4\u306b\u30b3\u30f3\u30dc\u6570\u00d710\u30dd\u30a4\u30f3\u30c8\u5165\u308a\u307e\u3059\u3002\u30b3\u30f3\u30dc\u6570\u304c\u4e0a\u304c\u308b\u307b\u3069\u3082\u3089\u3048\u308b\u30dd\u30a4\u30f3\u30c8\u304c\u3069\u3093\u3069\u3093\u5897\u3048\u3066\u3044\u304f\u30ef\u30b1\u3067\u3059\u3002\n\n\n\n#\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\n\n\u30dc\u30fc\u30eb\u304c\u4e0a\u306b\u884c\u304f\u3068\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u3067\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/62035/bb26c601-fd56-acb4-2476-e8c8bedd78b5.png)\n\n\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u6642\u306e\u51e6\u7406\u306f\u3053\u3093\u306a\u611f\u3058\n\n```js\n                //\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u6642\u306e\u51e6\u7406\n                case 0:\n                    this.Combolabel.text = \"\";\n                    combo = 0;\n\n                    this.mba = ballGroup.children;\n                    this.mba.each(function(ball) {\n                        ball.remove();\n                     });\n\n                    if(this.gameovertimer==0){\n                        this.mbc = blockGroup.children;\n                        this.mbc.each(function(block) {\n                                block.vy = rand(40) - 10;\n                                block.vx = rand(20) - 10;\n                                block.rotation = 30;\n                            });\n                    }\n\n                    if (this.gameovertimer > 40) {\n                        this.mbc.each(function(block) {\n                            block.remove();\n                        });\n                    }\n\n                    if (this.gameovertimer > 70) {\n                        //app.replaceScene(EndScene());\n                        this.score.tweener.clear()\n                                     .to({x:SCREEN_WIDTH/2,y:400,scaleX:1.5,scaleY:1.5}, 150,\"easeInSine\")\n\n\n\n                         this.gameoverlabel.tweener.clear()\n                                      .to({y:150,scaleX:2,scaleY:2}, 200,\"easeInSine\")\n\n                    }\n\n                    ++this.gameovertimer;\n                break;\n```\n\n\u307e\u3068\u3081\u308b\u3068\n1. \u30dc\u30fc\u30eb\u3092\u6d88\u3059\n2. \u30d6\u30ed\u30c3\u30af\u3092\u5439\u3063\u98db\u3070\u3059\n3. \u30d6\u30ed\u30c3\u30af\u3092\u6d88\u3059\n4. \u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u30e9\u30d9\u30eb\u3068\u30b9\u30b3\u30a2\u30e9\u30d9\u30eb\u3092\u30ba\u30a4\u30c3\u3068\u51fa\u3059\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059\n\n***\n\n\u30dc\u30fc\u30eb\u3092\u6d88\u3059\u6642\u306e\u51e6\u7406\u3067\u3059\u3002\u3064\u3044\u3067\u306b\u30b3\u30f3\u30dc\u30e9\u30d9\u30eb\u3082\u6d88\u3057\u3066\u307e\u3059\u3002\n\n```js\n                    this.Combolabel.text = \"\";\n                    combo = 0;\n\n                    this.mba = ballGroup.children;\n                    this.mba.each(function(ball) {\n                        ball.remove();\n                     });\n```\n\nballGroup.children\u304b\u3089\u30dc\u30fc\u30eb\u9054\u3092\u53d6\u5f97\u3057\u3066\u5168\u90e8remove\u3057\u3066\u307e\u3059\u306d\u3002\u305d\u3093\u3060\u3051\u3067\u3059\u3002\n\n\n***\n\u30d6\u30ed\u30c3\u30af\u3092\u5439\u3063\u98db\u3070\u3059\u51e6\u7406\u3067\u3059\u3002\u306a\u305c\u30d6\u30ed\u30c3\u30af\u3092\u5439\u3063\u98db\u3070\u3059\u304b\u3068\u3044\u3046\u3068\u3001\u306a\u3093\u304b\u305d\u306e\u307b\u3046\u304c\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u3063\u307d\u3044\u304b\u3089\u3067\u3059\n\n```js\n                    if(this.gameovertimer==0){\n                        this.mbc = blockGroup.children;\n                        this.mbc.each(function(block) {\n                                block.vy = rand(40) - 10;\n                                block.vx = rand(20) - 10;\n                                block.rotation = 30;\n                            });\n                    }\n```\nthis.gameovertimer\u3068\u3044\u3046\u306e\u306f\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u3057\u3066\u304b\u3089\u306e\u6642\u9593\u3067\u3059\u3002\u6642\u9593\u306e\u7d4c\u904e\u306b\u3088\u3063\u3066\u51e6\u7406\u3092\u5165\u308c\u3066\u3044\u304d\u307e\u3059\u3002\u3084\u3063\u3064\u3051\u306e\u5b9f\u88c5\u3067\u3059\n\nblockGroup\u304b\u3089\u30d6\u30ed\u30c3\u30af\u3092\u53d6\u5f97\u3057\u3066block.vy,block.vx\u306b\u30e9\u30f3\u30c0\u30e0\u306e\u5024\u3092\u5165\u308c\u3066\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3068\u30d6\u30ed\u30c3\u30af\u304c\u30c6\u30ad\u30c8\u30fc\u306a\u65b9\u5411\u306b\u98db\u3093\u3067\u3044\u304d\u307e\u3059\u3002block.rotation\u306b\u5024\u3092\u5165\u308c\u308b\u3068\u30d6\u30ed\u30c3\u30af\u306e\u89d2\u5ea6\u304c\u5909\u308f\u308a\u307e\u3059\u3002\u3061\u3087\u3063\u3068\u50be\u3051\u3066\u98db\u3070\u3059\u305f\u3081\u306b\uff13\uff10\u5165\u308c\u3066\u307e\u3059\u3002\n\n***\nthis.gameovertimer\u304c40\u3092\u8d85\u3048\u305f\u3089\u30d6\u30ed\u30c3\u30af\u3092\u6d88\u3057\u307e\u3059\u3002\n\n```js\n                    if (this.gameovertimer > 40) {\n                        this.mbc.each(function(block) {\n                            block.remove();\n                        });\n                    }\n```\n\n***\n\nthis.gameovertimer\u304c70\u3092\u8d85\u3048\u305f\u3089\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u30e9\u30d9\u30eb\u3068\u30b9\u30b3\u30a2\u3092Tweener\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3067\u30ba\u30a4\uff5e\u3063\u3068\u30a2\u30c3\u30d7\u3057\u307e\u3059\n\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u30e9\u30d9\u30eb\u306finit\u306e\u6642\u306b\u4f5c\u3063\u3066\u753b\u9762\u5916\u306e\u4e0a\u306e\u65b9\u306b\u96a0\u3057\u3066\u307e\u3059\u3002\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u3053\u3068\u3067\u4e0b\u306b\u964d\u308a\u3066\u304d\u3066\u898b\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u539f\u59cb\u7684\u3067\u3059\u3002\n\n```js\n                    if (this.gameovertimer > 70) {\n                        this.score.tweener.clear()\n                                     .to({x:SCREEN_WIDTH/2,y:400,scaleX:1.5,scaleY:1.5}, 150,\"easeInSine\")\n\n                         this.gameoverlabel.tweener.clear()\n                                      .to({y:150,scaleX:2,scaleY:2}, 200,\"easeInSine\")\n\n                    }\n```\n\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u89e3\u8aac\u306f\u3053\u308c\u3067\u7d42\u308f\u308a\u3067\u3059\n\n\n#\u304a\u308f\u308a\u306b\n\u306a\u304c\u304b\u3063\u305f\u30fc\u30fc\u30fc\u30fc\u30fc\uff01\uff01\u304a\u4ed8\u304d\u5408\u3044\u3044\u305f\u3060\u304d\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\n\u307e\u3042\u3053\u3093\u306a\u611f\u3058\u3067\u4ffa\u307f\u305f\u3044\u306a\u30e2\u30f3\u3067\u3082\u7c21\u5358\u306b\u30b2\u30fc\u30e0\u3092\u4f5c\u308c\u308b\u306e\u304cphina.js\u306e\u9b45\u529b\u3067\u3059\u3002\n\u6c17\u306b\u306a\u3063\u305f\u4eba\u306f\u3068\u308a\u3042\u3048\u305a\u30b2\u30fc\u30e0\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u4f5c\u3063\u305f\u3089twitter\u304b\u4f55\u304b\u3067\u516c\u958b\u3057\u3066\u307f\u3093\u306a\u306b\u898b\u3066\u3082\u3089\u3044\u307e\u3057\u3087\u3046\u3002\n\ntwitter\u306a\u3069\u3067\u516c\u958b\u3059\u308b\u3068\u304d\u306f\u30c4\u30c3\u30b3\u30df\u3069\u3053\u308d\u3092\u7528\u610f\u3057\u3066\u304a\u304f\u3068\u898b\u3066\u3082\u3089\u3044\u3084\u3059\u3044\u304b\u3082\u3067\u3059\u3002\u30c4\u30c3\u30b3\u3080\u305f\u3081\u306b\u30b3\u30e1\u30f3\u30c8\u4ed8\u304d\u3067\u62e1\u6563\u3057\u3066\u304f\u308c\u305f\u308a\u3057\u307e\u3059\u304b\u3089\u3002\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u306e\u30c4\u30c3\u30b3\u30df\u3069\u3053\u308d\u306f\u300c\u30d6\u30ed\u30c3\u30af\u5d29\u3055\u306c\u300d\u3068\u3044\u3046\u30bf\u30a4\u30c8\u30eb\u3067\u3059\u3002\u306f\u3044\u3002\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u7d42\u4e86\u3067\u3059\u3002\u3055\u3088\u3046\u306a\u3089\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\uff01\uff01\uff01\u7d42\u4e86\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\uff01\uff01\uff01\uff01\u3055\u3088\u3046\u306a\u3089\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\uff01\uff01\uff01\uff01\uff01\n\n\u3042\u3001\u3088\u304b\u3063\u305f\u3089\u30b5\u30a4\u30c8\u306b\u30b2\u30fc\u30e0\u4e0a\u3052\u3066\u308b\u306e\u3067\u3084\u3063\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u5ba3\u4f1d\u3067\u3059\u3002\n[\u304b\u3061\u3083\u30b3\u30e0](http://cachacacha.com/)\n\n\u3067\u306f\u3055\u3088\u3046\u306a\u3089\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\uff01\uff01\uff01\uff01\uff01\n", "tags": ["phina.js", "JavaScript", "HTML5", "\u30b2\u30fc\u30e0\u5236\u4f5c"]}