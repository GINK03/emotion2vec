{"context": "\n\n/home/vagrant/digdag-server/bin/digsv.sh\nnohup /usr/local/bin/digdag server --config ~/.config/digdag/config --log ~/digdag-server/log/server.log --log-level info --task-log ~/digdag-server/task-log >> ~/digdag-server/log/server_stdout.log 2>&1 &\n\n\u30d8\u30eb\u30d7(digdag server help)\u306b-c, --config PATH.properties   Configuration file (default: /home/vagrant/.config/digdag/config)\u3068\u3042\u308b\u304c\u4e0a\u8a18\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\n\u3057\u304b\u3057\u540c\u3058\u30d8\u30eb\u30d7\u306b-c, --config PATH.properties    server configuration property path\u3068\u3044\u3046\u884c\u3082\u3042\u308b(\u300c-c, --config\u300d\u306b\u3064\u3044\u3066\u306e\u884c\u304c2\u884c\u91cd\u8907\u3057\u3066\u3044\u308b)\nhttp://docs.digdag.io/command_reference.html#server-mode-commands \u306e\u300c-c, --config\u300d\u306e\u8aac\u660e\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u304c\u3042\u308b\u3068\u306f\u66f8\u3044\u3066\u3044\u306a\u3044(\u3061\u306a\u307f\u306b\u3053\u306e\u8aac\u660e\u306b\u306f\u300cSee Digdag server for details.\u300d\u3068\u3042\u308b\u304c\u30ea\u30f3\u30af\u5207\u308c)\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3042\u308a\u306b\u6539\u5584\u9802\u3051\u308b\u3068\u5b09\u3057\u3044(\u30d8\u30eb\u30d7\u306e\u91cd\u8907\u884c\u3084\u30ea\u30f3\u30af\u5207\u308c\u3082)\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u3057\u304b\u6307\u5b9a\u3067\u304d\u306a\u3044\u8a2d\u5b9a\u3068config\u30d5\u30a1\u30a4\u30eb\u3067\u3057\u304b\u6307\u5b9a\u3067\u304d\u306a\u3044\u8a2d\u5b9a\u304c\u3042\u308b\n\u5168\u3066config\u30d5\u30a1\u30a4\u30eb\u306b\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u6539\u5584\u9802\u3051\u308b\u3068\u5b09\u3057\u3044\nDigdag\u30b5\u30fc\u30d0\u3092\u8907\u6570\u53f7\u6a5f\u8d77\u52d5\u3059\u308b\u5834\u5408\u3001\u30bf\u30b9\u30af\u30ed\u30b0\u306f\u5168\u53f7\u6a5f\u304c\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u51fa\u529b\u3059\u308b\u306e\u304c\u304a\u52e7\u3081\n\u2192 NFS\u306e\u5fc5\u8981\u6027\n\n/etc/init.d/digdag-server\n#! /bin/bash\n# chkconfig: 2345 90 60\n\n. /etc/init.d/functions\n\nPROG=digdag-server\nCMD=/home/vagrant/digdag-server/bin/digsv.sh\nUSER=vagrant\nPID=`pgrep -f \" /usr/local/bin/digdag server \"`\nEXIST=$?\nRETVAL=0\n\nstart() {\n  echo -n \"Starting $PROG: \"\n  if [ $EXIST -eq 0 ]; then\n    echo_failure\n    echo\n    echo -n \"$PROG is already running.\"\n    RETVAL=1\n  else\n    sudo -u $USER -i $CMD\n    sleep 1\n    PID=`pgrep -f \" /usr/local/bin/digdag server \"`\n    EXIST=$?\n    if [ $EXIST -eq 0 ]; then\n      echo_success\n    else\n      echo_failure\n      RETVAL=1\n    fi\n  fi\n  echo\n  return $RETVAL\n}\n\nstop() {\n  echo -n \"Stopping $PROG: \"\n  if [ $EXIST -eq 0 ]; then\n    kill $PID\n    sleep 1\n    pgrep -f \" /usr/local/bin/digdag server \" >& /dev/null\n    EXIST=$?\n    if [ $EXIST -eq 0 ]; then\n      echo_failure\n      RETVAL=1\n    else\n      echo_success\n      RETVAL=0\n    fi\n  else\n    echo_failure\n    echo\n    echo -n \"$PROG is not running.\"\n    RETVAL=1\n  fi\n  echo\n  return $RETVAL\n}\n\nstatus() {\n  if [ $EXIST -eq 0 ]; then\n    echo \"$PROG (pid $PID) is running...\"\n  else\n    echo \"$PROG is stopped\"\n    RETVAL=3\n  fi\n  return $RETVAL\n}\n\ncase \"$1\" in\n  start)\n    start\n    ;;\n  stop)\n    stop\n    ;;\n  restart)\n    stop\n    start\n    ;;\n  status)\n    status\n    ;;\n  *)\n    echo \"Usage: $0 {start|stop|restart|status}\"\n    exit 1\nesac\n\nexit 0\n\n\u300cpgrep -f \" /usr/local/bin/digdag server \"\u300d\u3063\u3066\u4f55\u56de\u3082\u66f8\u304f\u306e\u3084\u3081\u305f\u3044\u3051\u3069\u3046\u307e\u304f\u3067\u304d\u306a\u3044...\n\u7acb\u3061\u4e0a\u304c\u308b\u307e\u3067/\u7d42\u4e86\u3059\u308b\u307e\u3067sleep 1\u3063\u3066\u306e\u3082\u8352\u3063\u307d\u3044\u304c\u4eca\u306e\u3068\u3053\u308d\u3042\u307e\u308a\u56f0\u3063\u3066\u3044\u306a\u3044\n2016/11/4\n\u3000sudo\u306b-i\u8ffd\u52a0\n\u3000(rb>\u306b\u3066ruby\u30b3\u30de\u30f3\u30c9(/usr/local/rbenv/shims/ruby)\u304c\u307f\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u305f\u3081)\n\nTODO\nstdout/stderr\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u30ed\u30b0\u306e\u30ed\u30fc\u30c6\u30fc\u30c8\n\u3053\u308c\u4f7f\u3048\u308b\u304b\u3082 \u2192 http://blog.hansode.org/archives/52520908.html\n\u901a\u5e38\u306e\u30ed\u30b0\u306f\u30b5\u30a4\u30ba\u30d9\u30fc\u30b9\u3067\u30ed\u30fc\u30c6\u30fc\u30c8\u3055\u308c\u308b \u2192 https://docs.digdag.io/command_reference.html#common-options\n/home/vagrant/digdag-server/bin/digsv.sh\n========================================\n\n```\nnohup /usr/local/bin/digdag server --config ~/.config/digdag/config --log ~/digdag-server/log/server.log --log-level info --task-log ~/digdag-server/task-log >> ~/digdag-server/log/server_stdout.log 2>&1 &\n```\n\n\u30d8\u30eb\u30d7(```digdag server help```)\u306b```-c, --config PATH.properties   Configuration file (default: /home/vagrant/.config/digdag/config)```\u3068\u3042\u308b\u304c\u4e0a\u8a18\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\n\u3057\u304b\u3057\u540c\u3058\u30d8\u30eb\u30d7\u306b```-c, --config PATH.properties    server configuration property path```\u3068\u3044\u3046\u884c\u3082\u3042\u308b(\u300c-c, --config\u300d\u306b\u3064\u3044\u3066\u306e\u884c\u304c2\u884c\u91cd\u8907\u3057\u3066\u3044\u308b)\nhttp://docs.digdag.io/command_reference.html#server-mode-commands \u306e\u300c-c, --config\u300d\u306e\u8aac\u660e\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u304c\u3042\u308b\u3068\u306f\u66f8\u3044\u3066\u3044\u306a\u3044(\u3061\u306a\u307f\u306b\u3053\u306e\u8aac\u660e\u306b\u306f\u300cSee Digdag server for details.\u300d\u3068\u3042\u308b\u304c\u30ea\u30f3\u30af\u5207\u308c)\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3042\u308a\u306b\u6539\u5584\u9802\u3051\u308b\u3068\u5b09\u3057\u3044(\u30d8\u30eb\u30d7\u306e\u91cd\u8907\u884c\u3084\u30ea\u30f3\u30af\u5207\u308c\u3082)\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u3057\u304b\u6307\u5b9a\u3067\u304d\u306a\u3044\u8a2d\u5b9a\u3068config\u30d5\u30a1\u30a4\u30eb\u3067\u3057\u304b\u6307\u5b9a\u3067\u304d\u306a\u3044\u8a2d\u5b9a\u304c\u3042\u308b\n\u5168\u3066config\u30d5\u30a1\u30a4\u30eb\u306b\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u6539\u5584\u9802\u3051\u308b\u3068\u5b09\u3057\u3044\n\nDigdag\u30b5\u30fc\u30d0\u3092\u8907\u6570\u53f7\u6a5f\u8d77\u52d5\u3059\u308b\u5834\u5408\u3001\u30bf\u30b9\u30af\u30ed\u30b0\u306f\u5168\u53f7\u6a5f\u304c\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u51fa\u529b\u3059\u308b\u306e\u304c\u304a\u52e7\u3081\n\u2192 [NFS\u306e\u5fc5\u8981\u6027](http://qiita.com/pilot/items/69cbae56d85a443fb623#nfs%E3%81%AE%E5%BF%85%E8%A6%81%E6%80%A7)\n\n/etc/init.d/digdag-server\n=========================\n\n```\n#! /bin/bash\n# chkconfig: 2345 90 60\n\n. /etc/init.d/functions\n\nPROG=digdag-server\nCMD=/home/vagrant/digdag-server/bin/digsv.sh\nUSER=vagrant\nPID=`pgrep -f \" /usr/local/bin/digdag server \"`\nEXIST=$?\nRETVAL=0\n\nstart() {\n  echo -n \"Starting $PROG: \"\n  if [ $EXIST -eq 0 ]; then\n    echo_failure\n    echo\n    echo -n \"$PROG is already running.\"\n    RETVAL=1\n  else\n    sudo -u $USER -i $CMD\n    sleep 1\n    PID=`pgrep -f \" /usr/local/bin/digdag server \"`\n    EXIST=$?\n    if [ $EXIST -eq 0 ]; then\n      echo_success\n    else\n      echo_failure\n      RETVAL=1\n    fi\n  fi\n  echo\n  return $RETVAL\n}\n\nstop() {\n  echo -n \"Stopping $PROG: \"\n  if [ $EXIST -eq 0 ]; then\n    kill $PID\n    sleep 1\n    pgrep -f \" /usr/local/bin/digdag server \" >& /dev/null\n    EXIST=$?\n    if [ $EXIST -eq 0 ]; then\n      echo_failure\n      RETVAL=1\n    else\n      echo_success\n      RETVAL=0\n    fi\n  else\n    echo_failure\n    echo\n    echo -n \"$PROG is not running.\"\n    RETVAL=1\n  fi\n  echo\n  return $RETVAL\n}\n\nstatus() {\n  if [ $EXIST -eq 0 ]; then\n    echo \"$PROG (pid $PID) is running...\"\n  else\n    echo \"$PROG is stopped\"\n    RETVAL=3\n  fi\n  return $RETVAL\n}\n\ncase \"$1\" in\n  start)\n    start\n    ;;\n  stop)\n    stop\n    ;;\n  restart)\n    stop\n    start\n    ;;\n  status)\n    status\n    ;;\n  *)\n    echo \"Usage: $0 {start|stop|restart|status}\"\n    exit 1\nesac\n\nexit 0\n```\n\n\u300cpgrep -f \" /usr/local/bin/digdag server \"\u300d\u3063\u3066\u4f55\u56de\u3082\u66f8\u304f\u306e\u3084\u3081\u305f\u3044\u3051\u3069\u3046\u307e\u304f\u3067\u304d\u306a\u3044...\n\n\u7acb\u3061\u4e0a\u304c\u308b\u307e\u3067/\u7d42\u4e86\u3059\u308b\u307e\u3067`sleep 1`\u3063\u3066\u306e\u3082\u8352\u3063\u307d\u3044\u304c\u4eca\u306e\u3068\u3053\u308d\u3042\u307e\u308a\u56f0\u3063\u3066\u3044\u306a\u3044\n\n2016/11/4\n\u3000sudo\u306b-i\u8ffd\u52a0\n\u3000(rb>\u306b\u3066ruby\u30b3\u30de\u30f3\u30c9(/usr/local/rbenv/shims/ruby)\u304c\u307f\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u305f\u3081)\n\nTODO\n====\n\nstdout/stderr\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u30ed\u30b0\u306e\u30ed\u30fc\u30c6\u30fc\u30c8\n\u3053\u308c\u4f7f\u3048\u308b\u304b\u3082 \u2192 http://blog.hansode.org/archives/52520908.html\n\u901a\u5e38\u306e\u30ed\u30b0\u306f\u30b5\u30a4\u30ba\u30d9\u30fc\u30b9\u3067\u30ed\u30fc\u30c6\u30fc\u30c8\u3055\u308c\u308b \u2192 https://docs.digdag.io/command_reference.html#common-options\n", "tags": ["digdag", "CentOS6.7"]}