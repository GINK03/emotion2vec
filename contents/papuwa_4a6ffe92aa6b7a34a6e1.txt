{"context": "\n\n\u6982\u8981\nRTC\uff08\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30af\u30ed\u30c3\u30af\uff09\u3092\u4f7f\u3046\u305f\u3081\u306b\u6642\u523b\u3092\u8a2d\u5b9a\u3059\u308b\u3002\u3057\u306a\u304f\u3066\u3082\u3044\u3044\u3051\u3069\u3002\n\n\u30d1\u30bd\u30b3\u30f3\u306e\u6642\u9593\u3068\u540c\u671f\n\u6570\u7a2e\u985e\u3042\u308bDS3231\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3046\u3061\u3072\u3068\u3064\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3002\nhttps://github.com/jarzebski/Arduino-DS3231\n\u30b9\u30b1\u30c3\u30c1\uff1aArduino-DS3231.ino\nvoid setup()\n{\n  Serial.begin(115200);\n\n  // Initialize DS3231\n  Serial.println(\"Initialize DS3231\");\n  clock.begin();\n\n  // Set sketch compiling time\n  clock.setDateTime(__DATE__, __TIME__);\n}\n\nclock.setDateTime(DATE, TIME);\n\u3053\u306e\u30b3\u30fc\u30c9\u3067\u30d1\u30bd\u30b3\u30f3\u306e\u65e5\u6642\u3092ESP8266\u306b\u66f8\u304d\u8fbc\u3080\u3002\u3002\u3002\n\u30b3\u30f3\u30d1\u30a4\u30eb\u66f8\u304d\u8fbc\u307f\u306b\u6642\u9593\u304c\u304b\u304b\u308b\u306e\u3067\u300130\u79d2\u3050\u3089\u3044\u5b9f\u6642\u9593\u3068\u9045\u308c\u308b\u3053\u3068\u304c\u5224\u660e(T_T)\n\nntp\u3092\u4f7f\u3063\u3066\u540c\u671f\n\u4e0b\u306e\u30b5\u30a4\u30c8\u3092\u53c2\u8003\u306bntp\u306e\u30b9\u30b1\u30c3\u30c1\u3092\u66f8\u304d\u8fbc\u307f\u52d5\u4f5c\u78ba\u8a8d\nhttp://qiita.com/exabugs/items/b1b7430d185b268a1abf\n\u52d5\u304f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u305f\u306e\u30672\u3064\u306e\u30b9\u30b1\u30c3\u30c1\u3092\u7d44\u307f\u5408\u308f\u305b\u3066ntp\u3092\u3064\u304b\u3063\u3066\u540c\u671f\u3057\u305f\n#include <ESP8266WiFi.h>\n#include <NTP.h>\n#include <Wire.h>\n#include <DS3231.h>\n\nDS3231 clock;\nRTCDateTime dt;\n\nchar s[20];\nconst char* format = \"%04d-%02d-%02d %02d:%02d:%02d\";\n\nvoid setup() {\n  Serial.begin(115200);\n\n  Serial.println();\n\n  // \u81ea\u5206\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u5408\u308f\u305b\u3066\u304f\u3060\u3055\u3044\n  WiFi.begin(\"SSID\", \"P/W\");\n\n  while (WiFi.status() != WL_CONNECTED) {\n    delay(500);\n    Serial.print(\".\");\n  }\n  Serial.println(\"\");\n\n  Serial.println(\"WiFi connected\");\n  ntp_begin(2390);\n\n//ds3231\n  Serial.println(\"Initialize DS3231\");;\n  clock.begin();\n\n  time_t n = now();\n  time_t t;\n  t = localtime(n, 9);\n  clock.setDateTime(year(t), month(t), day(t), hour(t), minute(t), second(t));\n\n}\n\nvoid display(){\n  time_t n = now();\n  time_t t;\n  t = localtime(n, 9);\n  sprintf(s, format, year(t), month(t), day(t), hour(t), minute(t), second(t));\n  Serial.print(\"NTP   : \");\n  Serial.println(s);\n}\n\nvoid loop() {\n\n    display();\n    dt = clock.getDateTime();\n    sprintf(s, format, dt.year, dt.month, dt.day, dt.hour, dt.minute, dt.second);\n    Serial.print(\"DS3231: \");\n    Serial.println(s);\n\n  delay(1000);\n}\n\n\u3053\u308c\u3067\u5927\u4f53\u30d1\u30bd\u30b3\u30f3\u30681\u79d2\u4ee5\u5185\u306e\u8aa4\u5dee\u3067RTC\u306e\u6642\u523b\u3092\u8a2d\u5b9a\u3067\u304d\u305f\u3002\n\u6b21\u306f\u3001\u5b9a\u671f\u51e6\u7406\u3092\u884c\u3046\u4e88\u5b9a\u3002\n#\u6982\u8981\nRTC\uff08\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30af\u30ed\u30c3\u30af\uff09\u3092\u4f7f\u3046\u305f\u3081\u306b\u6642\u523b\u3092\u8a2d\u5b9a\u3059\u308b\u3002\u3057\u306a\u304f\u3066\u3082\u3044\u3044\u3051\u3069\u3002\n\n#\u30d1\u30bd\u30b3\u30f3\u306e\u6642\u9593\u3068\u540c\u671f\n\u6570\u7a2e\u985e\u3042\u308bDS3231\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3046\u3061\u3072\u3068\u3064\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3002\nhttps://github.com/jarzebski/Arduino-DS3231\n\n\u30b9\u30b1\u30c3\u30c1\uff1aArduino-DS3231.ino\n\n```\nvoid setup()\n{\n  Serial.begin(115200);\n\n  // Initialize DS3231\n  Serial.println(\"Initialize DS3231\");\n  clock.begin();\n\n  // Set sketch compiling time\n  clock.setDateTime(__DATE__, __TIME__);\n}\n```\nclock.setDateTime(__DATE__, __TIME__);\n\u3053\u306e\u30b3\u30fc\u30c9\u3067\u30d1\u30bd\u30b3\u30f3\u306e\u65e5\u6642\u3092ESP8266\u306b\u66f8\u304d\u8fbc\u3080\u3002\u3002\u3002\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u66f8\u304d\u8fbc\u307f\u306b\u6642\u9593\u304c\u304b\u304b\u308b\u306e\u3067\u300130\u79d2\u3050\u3089\u3044\u5b9f\u6642\u9593\u3068\u9045\u308c\u308b\u3053\u3068\u304c\u5224\u660e(T_T)\n\n#ntp\u3092\u4f7f\u3063\u3066\u540c\u671f\n\u4e0b\u306e\u30b5\u30a4\u30c8\u3092\u53c2\u8003\u306bntp\u306e\u30b9\u30b1\u30c3\u30c1\u3092\u66f8\u304d\u8fbc\u307f\u52d5\u4f5c\u78ba\u8a8d\nhttp://qiita.com/exabugs/items/b1b7430d185b268a1abf\n\n\u52d5\u304f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u305f\u306e\u30672\u3064\u306e\u30b9\u30b1\u30c3\u30c1\u3092\u7d44\u307f\u5408\u308f\u305b\u3066ntp\u3092\u3064\u304b\u3063\u3066\u540c\u671f\u3057\u305f\n\n```\n#include <ESP8266WiFi.h>\n#include <NTP.h>\n#include <Wire.h>\n#include <DS3231.h>\n\nDS3231 clock;\nRTCDateTime dt;\n\nchar s[20];\nconst char* format = \"%04d-%02d-%02d %02d:%02d:%02d\";\n\nvoid setup() {\n  Serial.begin(115200);\n  \n  Serial.println();\n\n  // \u81ea\u5206\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u5408\u308f\u305b\u3066\u304f\u3060\u3055\u3044\n  WiFi.begin(\"SSID\", \"P/W\");\n\n  while (WiFi.status() != WL_CONNECTED) {\n    delay(500);\n    Serial.print(\".\");\n  }\n  Serial.println(\"\");\n  \n  Serial.println(\"WiFi connected\");\n  ntp_begin(2390);\n  \n//ds3231\n  Serial.println(\"Initialize DS3231\");;\n  clock.begin();\n  \n  time_t n = now();\n  time_t t;\n  t = localtime(n, 9);\n  clock.setDateTime(year(t), month(t), day(t), hour(t), minute(t), second(t));\n   \n}\n\nvoid display(){\n  time_t n = now();\n  time_t t;\n  t = localtime(n, 9);\n  sprintf(s, format, year(t), month(t), day(t), hour(t), minute(t), second(t));\n  Serial.print(\"NTP   : \");\n  Serial.println(s);\n}\n\nvoid loop() {\n\n    display();\n    dt = clock.getDateTime();\n    sprintf(s, format, dt.year, dt.month, dt.day, dt.hour, dt.minute, dt.second);\n    Serial.print(\"DS3231: \");\n    Serial.println(s);\n\n  delay(1000);\n}\n```\n\n\u3053\u308c\u3067\u5927\u4f53\u30d1\u30bd\u30b3\u30f3\u30681\u79d2\u4ee5\u5185\u306e\u8aa4\u5dee\u3067RTC\u306e\u6642\u523b\u3092\u8a2d\u5b9a\u3067\u304d\u305f\u3002\n\n\u6b21\u306f\u3001\u5b9a\u671f\u51e6\u7406\u3092\u884c\u3046\u4e88\u5b9a\u3002\n", "tags": ["ESP8266", "Arduino", "ds3231", "lolin"]}