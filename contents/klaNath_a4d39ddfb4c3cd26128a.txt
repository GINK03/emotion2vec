{"tags": ["C#", "LINQ", ".NET", "CSV"], "context": " More than 1 year has passed since last update.\u6700\u8fd1\u306e\u696d\u52d9\u3067CSV\u30d5\u30a1\u30a4\u30eb\u3092\u3042\u308c\u3053\u308c\u3044\u3058\u304f\u308b\u3063\u3066\u3044\u3046\u306e\u3092C#\u3067\u66f8\u3044\u3066\u308b\u3002\nC#\u81ea\u4f53\u306f\u306a\u3093\u304bJava\u307f\u305f\u3044\u3067\u7279\u306b\u554f\u984c\u306f\u306a\u304f\u3059\u308b\u3059\u308b\u66f8\u3051\u308b\u306e\u3060\u3051\u3069\nLINQ\u3067\u5217\u6319\u3059\u308b\u3088\u3046\u306a\u5974\u304c\u3059\u3054\u304f\u4fbf\u5229\u3060\u3068\u306f\u6c17\u3065\u3044\u305f\u3051\u3069\u306a\u304b\u306a\u304b\u96e3\u3057\u3044\u3002\nCSV\u30d5\u30a1\u30a4\u30eb\u306fVB.NET\u306b\u3042\u308bTextFieldParser\u3092\u4f7f\u3063\u3066List<string[]>\u306b\u3057\u3066\u3044\u308b\u306e\u3060\u3051\u3069\u3001\n\u6271\u3063\u3066\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3082\u306e\u306b\u3088\u3063\u3066\u3069\u3053\u306b\u4f55\u304c\u3042\u308b\u306e\u304b\u3068\u3044\u3046\u306e\u304c\u9055\u3063\u3066\u304f\u308b\u5834\u5408\u304c\u3042\u3063\u3066\n\u305d\u306e\u63fa\u308c\u3092\u5438\u53ce\u3057\u3066\u306a\u3093\u3068\u304b\u5fc5\u8981\u306a\u7bc4\u56f2\u3060\u3051\u306e\u5024\u3092\u53d6\u308a\u51fa\u3057\u305f\u304f\u3053\u3093\u306a\u3082\u306e\u3092\u66f8\u3044\u305f\u3002\n\nLINQSearchReturnIndex.cs\n var f = new List<string[]>\n{\n new string[] {\"a\",\"b\" }\n new string[] {\"c\",\"d\" },\n new string[] {\"e\",\"f\",\"g\" },\n new string[] {\"1\",\"g\",\"f\" },\n new string[] {\"h\",\"i\",\"j\" },\n new string[] {\"k\",\"l\" }\n};\n\n var d = f\n.Where(l => l[0] == \"e\")\n.FirstOrDefault()?\n.Select((s, i) => new { s, i })\n.Where(t => t.s == \"f\")\n.Select(l => new {\n  CIndex = l.i,\n  RIndex = f\n  .Select((a, i) => new { Line = a, ri = i })\n  .Where(s => s.Line[0] == \"e\")\n  .FirstOrDefault()?\n  .ri\n  }\n);\n\n Console.WriteLine($\"{d?.Single().RIndex}:{d?.Single().CIndex}\");\n Console.ReadKey();\n\n\n\u3042\u308b\u6587\u5b57\u5217\u304b\u3089\u59cb\u307e\u308b\u884c\u306e\u3069\u3053\u306b\u3082\u3046\u4e00\u3064\u306e\u6587\u5b57\u5217\u304c\u3042\u308b\u304b\u3092\u8abf\u3079\u308b\u3082\u306e\u3002\n0\u304b\u3089\u306f\u3058\u307e\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u8fd4\u3057\u3066\u304f\u308c\u308b\u306f\u305a\u3002\nC# 6.0\u304b\u3089\u8ffd\u52a0\u3055\u308c\u305f?.\u6f14\u7b97\u5b50\u3082\u4fbf\u5229\u3002\n\u5197\u9577\u304b\u306a\u3068\u306f\u601d\u3046\u3051\u3069\u3068\u308a\u3042\u3048\u305a\u3053\u308c\u3067\u306a\u3093\u3068\u304b\u306a\u3063\u305f\u306e\u3067\u826f\u3057\u3068\u3057\u305f\u3002\n\u898b\u3064\u304b\u3063\u305f\u5834\u6240\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5217\u6319\u3067\u304d\u305f\u308a\u30e1\u30bd\u30c3\u30c9\u306b\u3057\u3066\u3084\u308c\u3070\u4fbf\u5229\u306a\u3093\u3060\u308d\u3046\u3051\u3069\u3001\n\u305d\u3053\u307e\u3067\u52c9\u5f37\u3067\u304d\u3066\u306a\u3044\u306e\u3067\u3053\u3053\u307e\u3067\u3002\n\u3059\u3054\u3044\u3064\u3088\u3044\u3072\u3068\u306f\u3082\u3063\u3068\u308f\u304b\u308a\u3084\u3059\u304f\u66f8\u3051\u308b\u306e\u3060\u308d\u3046\u3051\u3069\u81ea\u5206\u306b\u306f\u9650\u754c\u3067\u3057\u305f\u3002\n\u6700\u8fd1\u306e\u696d\u52d9\u3067CSV\u30d5\u30a1\u30a4\u30eb\u3092\u3042\u308c\u3053\u308c\u3044\u3058\u304f\u308b\u3063\u3066\u3044\u3046\u306e\u3092C#\u3067\u66f8\u3044\u3066\u308b\u3002\n\nC#\u81ea\u4f53\u306f\u306a\u3093\u304bJava\u307f\u305f\u3044\u3067\u7279\u306b\u554f\u984c\u306f\u306a\u304f\u3059\u308b\u3059\u308b\u66f8\u3051\u308b\u306e\u3060\u3051\u3069\nLINQ\u3067\u5217\u6319\u3059\u308b\u3088\u3046\u306a\u5974\u304c\u3059\u3054\u304f\u4fbf\u5229\u3060\u3068\u306f\u6c17\u3065\u3044\u305f\u3051\u3069\u306a\u304b\u306a\u304b\u96e3\u3057\u3044\u3002\n\nCSV\u30d5\u30a1\u30a4\u30eb\u306fVB.NET\u306b\u3042\u308bTextFieldParser\u3092\u4f7f\u3063\u3066`List<string[]>`\u306b\u3057\u3066\u3044\u308b\u306e\u3060\u3051\u3069\u3001\n\u6271\u3063\u3066\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3082\u306e\u306b\u3088\u3063\u3066\u3069\u3053\u306b\u4f55\u304c\u3042\u308b\u306e\u304b\u3068\u3044\u3046\u306e\u304c\u9055\u3063\u3066\u304f\u308b\u5834\u5408\u304c\u3042\u3063\u3066\n\u305d\u306e\u63fa\u308c\u3092\u5438\u53ce\u3057\u3066\u306a\u3093\u3068\u304b\u5fc5\u8981\u306a\u7bc4\u56f2\u3060\u3051\u306e\u5024\u3092\u53d6\u308a\u51fa\u3057\u305f\u304f\u3053\u3093\u306a\u3082\u306e\u3092\u66f8\u3044\u305f\u3002\n\n```csharp:LINQSearchReturnIndex.cs\n var f = new List<string[]>\n{\n new string[] {\"a\",\"b\" }\n new string[] {\"c\",\"d\" },\n new string[] {\"e\",\"f\",\"g\" },\n new string[] {\"1\",\"g\",\"f\" },\n new string[] {\"h\",\"i\",\"j\" },\n new string[] {\"k\",\"l\" }\n};\n\n var d = f\n.Where(l => l[0] == \"e\")\n.FirstOrDefault()?\n.Select((s, i) => new { s, i })\n.Where(t => t.s == \"f\")\n.Select(l => new {\n  CIndex = l.i,\n  RIndex = f\n  .Select((a, i) => new { Line = a, ri = i })\n  .Where(s => s.Line[0] == \"e\")\n  .FirstOrDefault()?\n  .ri\n  }\n);\n\n Console.WriteLine($\"{d?.Single().RIndex}:{d?.Single().CIndex}\");\n Console.ReadKey();\n```\n\u3042\u308b\u6587\u5b57\u5217\u304b\u3089\u59cb\u307e\u308b\u884c\u306e\u3069\u3053\u306b\u3082\u3046\u4e00\u3064\u306e\u6587\u5b57\u5217\u304c\u3042\u308b\u304b\u3092\u8abf\u3079\u308b\u3082\u306e\u3002\n0\u304b\u3089\u306f\u3058\u307e\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u8fd4\u3057\u3066\u304f\u308c\u308b\u306f\u305a\u3002\nC# 6.0\u304b\u3089\u8ffd\u52a0\u3055\u308c\u305f`?.`\u6f14\u7b97\u5b50\u3082\u4fbf\u5229\u3002\n\n\n\u5197\u9577\u304b\u306a\u3068\u306f\u601d\u3046\u3051\u3069\u3068\u308a\u3042\u3048\u305a\u3053\u308c\u3067\u306a\u3093\u3068\u304b\u306a\u3063\u305f\u306e\u3067\u826f\u3057\u3068\u3057\u305f\u3002\n\u898b\u3064\u304b\u3063\u305f\u5834\u6240\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5217\u6319\u3067\u304d\u305f\u308a\u30e1\u30bd\u30c3\u30c9\u306b\u3057\u3066\u3084\u308c\u3070\u4fbf\u5229\u306a\u3093\u3060\u308d\u3046\u3051\u3069\u3001\n\u305d\u3053\u307e\u3067\u52c9\u5f37\u3067\u304d\u3066\u306a\u3044\u306e\u3067\u3053\u3053\u307e\u3067\u3002\n\n\u3059\u3054\u3044\u3064\u3088\u3044\u3072\u3068\u306f\u3082\u3063\u3068\u308f\u304b\u308a\u3084\u3059\u304f\u66f8\u3051\u308b\u306e\u3060\u308d\u3046\u3051\u3069\u81ea\u5206\u306b\u306f\u9650\u754c\u3067\u3057\u305f\u3002\n"}