{"context": "\\begin{array}{lr}\n\u65b0\u3057\u3044\u69cb\u6587\u5f62\u5f0f\\\\\n\n\\begin{array}{llr}\n\\bbox[lightgray]T ::= & \u2026    & \\hspace{170px} \u578b\uff1a\\\\\n      & \\bbox[lightgray]{Bool} & \u30d6\u30fc\u30eb\u5024\u578b\\\\\n\\end{array}\\\\\n\\\\\n\\begin{array}{cr}\n\u65b0\u3057\u3044\u578b\u4ed8\u3051\u898f\u5247 \\hspace{100px} & \\bbox[3px,border:1px solid black]{t : T}\\\\\n\\bbox[lightgray]{true : Bool}                          & \\text{(T-True)}\\\\\n\n\\bbox[lightgray]{false : Bool}                         & \\text{(T-False)}\\\\\n\n\\bbox[lightgray]{\n\\dfrac{t_1 : Bool \\quad t_2 : T \\quad t_3 : T}\n{if\\;t_1\\;then\\;t_2\\;else\\;t_3 : T}} & \\text{(T-If)}\\\\\n\\end{array}\n\\end{array}\n\n\ntapl08_1.pl\n/*\n\u69cb\u6587\n\nt ::=                \u9805\uff1a\n\u3000true               \u5b9a\u6570\u771f\n\u3000false              \u5b9a\u6570\u507d\n\u3000if(t,t,t)          \u6761\u4ef6\u5f0f\n\nv ::=                \u5024\uff1a\n\u3000true               \u5b9a\u6570\u771f\n\u3000false              \u5b9a\u6570\u507d\n\nTy ::=               \u578b\uff1a\n\u3000bool               \u30d6\u30fc\u30eb\u5024\u578b\n*/\n:- op(900, xfx, [ : ]).\n:- op(910, fx, [ \u22a2 ]).\n:- op(920, xfx, [ ==>, ==>> ]).\n:- op(1200, xfx, [ -- ]).\n:- style_check(-singleton).\nterm_expansion(A -- B, B :- A).\n\nt(true).\nt(false).\nt(if(T1,T2,T3)) :- t(T1),t(T2),t(T3).\nv(true).\nv(false).\n\n% \u8a55\u4fa1 t ==> t\u2019\n\nif(true, T2,T3) ==> T2.         % (E-IfTrue)\nif(false,T2,T3) ==> T3.         % (E-IfFalse)\n\nT1 ==> T1_\n--%------------------------------ (E-If)\nif(T1,T2,T3) ==> if(T1_,T2,T3).\n\n% \u65b0\u3057\u3044\u578b\u4ed8\u3051\u898f\u5247 t : T\n\n\u22a2 true : bool.                    % (T-True)\n\n\u22a2 false : bool.                   % (T-False)\n\n\u22a2 T1 : bool, \u22a2 T2 : Ty, \u22a2 T3 : Ty \n--%-------------------------------- (E-If)\n\u22a2 if(T1,T2,T3) : Ty.\n\nT ==>> T3 :- T ==> T2, T2 ==>> T3.\nT ==>> T.\n\nrun(T) :- \u22a2 T : Ty, T ==>> T2, writeln(T:Ty==>T2).\n\n:- run(true).\n:- run(if(true,false,true)).\n:- run(if(false,false,true)).\n:- run(if(if(true,false,true),if(true,false,true),if(true,false,true))).\n:- halt.\n\n\n```math\n\\begin{array}{lr}\n\u65b0\u3057\u3044\u69cb\u6587\u5f62\u5f0f\\\\\n\n\\begin{array}{llr}\n\\bbox[lightgray]T ::= & \u2026    & \\hspace{170px} \u578b\uff1a\\\\\n      & \\bbox[lightgray]{Bool} & \u30d6\u30fc\u30eb\u5024\u578b\\\\\n\\end{array}\\\\\n\\\\\n\\begin{array}{cr}\n\u65b0\u3057\u3044\u578b\u4ed8\u3051\u898f\u5247 \\hspace{100px} & \\bbox[3px,border:1px solid black]{t : T}\\\\\n\\bbox[lightgray]{true : Bool}                          & \\text{(T-True)}\\\\\n\n\\bbox[lightgray]{false : Bool}                         & \\text{(T-False)}\\\\\n\n\\bbox[lightgray]{\n\\dfrac{t_1 : Bool \\quad t_2 : T \\quad t_3 : T}\n{if\\;t_1\\;then\\;t_2\\;else\\;t_3 : T}} & \\text{(T-If)}\\\\\n\\end{array}\n\\end{array}\n```\n\n```prolog:tapl08_1.pl\n/*\n\u69cb\u6587\n\nt ::=                \u9805\uff1a\n\u3000true               \u5b9a\u6570\u771f\n\u3000false              \u5b9a\u6570\u507d\n\u3000if(t,t,t)          \u6761\u4ef6\u5f0f\n\nv ::=                \u5024\uff1a\n\u3000true               \u5b9a\u6570\u771f\n\u3000false              \u5b9a\u6570\u507d\n\nTy ::=               \u578b\uff1a\n\u3000bool               \u30d6\u30fc\u30eb\u5024\u578b\n*/\n:- op(900, xfx, [ : ]).\n:- op(910, fx, [ \u22a2 ]).\n:- op(920, xfx, [ ==>, ==>> ]).\n:- op(1200, xfx, [ -- ]).\n:- style_check(-singleton).\nterm_expansion(A -- B, B :- A).\n\nt(true).\nt(false).\nt(if(T1,T2,T3)) :- t(T1),t(T2),t(T3).\nv(true).\nv(false).\n\n% \u8a55\u4fa1 t ==> t\u2019\n\nif(true, T2,T3) ==> T2.         % (E-IfTrue)\nif(false,T2,T3) ==> T3.         % (E-IfFalse)\n\nT1 ==> T1_\n--%------------------------------ (E-If)\nif(T1,T2,T3) ==> if(T1_,T2,T3).\n\n% \u65b0\u3057\u3044\u578b\u4ed8\u3051\u898f\u5247 t : T\n\n\u22a2 true : bool.                    % (T-True)\n\n\u22a2 false : bool.                   % (T-False)\n\n\u22a2 T1 : bool, \u22a2 T2 : Ty, \u22a2 T3 : Ty \n--%-------------------------------- (E-If)\n\u22a2 if(T1,T2,T3) : Ty.\n\nT ==>> T3 :- T ==> T2, T2 ==>> T3.\nT ==>> T.\n\nrun(T) :- \u22a2 T : Ty, T ==>> T2, writeln(T:Ty==>T2).\n\n:- run(true).\n:- run(if(true,false,true)).\n:- run(if(false,false,true)).\n:- run(if(if(true,false,true),if(true,false,true),if(true,false,true))).\n:- halt.\n```\n", "tags": ["Prolog", "TaPL"]}