{"context": " More than 1 year has passed since last update.\u300c\u7720\u308c\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u3092\u72e9\u308b\u300d\u3092Erlang\u3067\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\u4ed6\u306e\u5b9f\u88c5\u306f \u7b2c14\u56de\u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f\u306e\u554f\u984c \u304b\u3089\u8fbf\u308c\u307e\u3059\u3002\n\nsleepmonster.erl\n-module(sleepmonster).\n-compile(export_all).\n\n%% \u6b66\u5668\u30fb\u30e2\u30f3\u30b9\u30bf\u30fc\u5bfe\u5fdc\u8868 {\u6b66\u5668, \u5012\u305b\u308b\u30e2\u30f3\u30b9\u30bf\u30fc, \u5f97\u3089\u308c\u308b\u6b66\u5668}\ntable() -> [{$a, $B, $c}, {$c, $D, $e}, {$e, $F, $g},\n            {$g, $H, $i}, {$i, $J, $k}, {$k, $L, $a}].\n\n%% \u89e3\u304f\nsolve(Data) ->\n  Arms = lists:usort([X || X <- Data, X > $Z]), % \u5c0f\u6587\u5b57\u306e\u307f\u96c6\u3081\u308b\n  integer_to_list(hit(Arms, Data)).\n\n%% \u6b66\u5668\u3068\u5168\u4f53\u306e\u30ea\u30b9\u30c8\u304b\u3089\u5012\u3057\u305f\u30e2\u30f3\u30b9\u30bf\u30fc\u306e\u6570\u3092\u8fd4\u3059\nhit([], _) -> 0;\nhit([Arm | RestArms], Data) ->\n  {Monster, NewArm} = lookup(Arm),\n  HitMonster = fun(M) -> M =:= Monster end,\n  {Hits, NoHits} = lists:partition(HitMonster, Data),\n  case Hits of\n    [] -> hit(RestArms, Data); % \u305d\u306e\u6b66\u5668\u3067\u5012\u305b\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u304c\u5c45\u306a\u3044\n    _  -> length(Hits) + hit([NewArm | RestArms], NoHits) % \u5012\u305b\u305f\n  end.\n\n%% \u6b66\u5668\u304b\u3089\u5012\u305b\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u3068\u5f97\u3089\u308c\u308b\u6b66\u5668\u3092\u8fd4\u3059\nlookup(Arm) ->\n  hd([{M, NA} || {A, M, NA} <- table(), A =:= Arm]).\n\n%% \u30c6\u30b9\u30c8\ntest(Data, Expected) ->\n  Result = solve(Data),\n  OkNg = case Result =:= Expected of true -> ok; false -> ng end,\n  io:fwrite(\"~s: ~s -> ~s~n\", [OkNg, Data, Result]).\n\ntests() ->\n  test(\"gLDLBgBgHDaD\", \"6\"), %0\n  test(\"DBcDLaLgDBH\", \"6\"), %1\n  test(\"JJca\", \"0\"), %2\n  test(\"FJDLBH\", \"0\"), %3\n  test(\"HJBLFDg\", \"6\"), %4\n  test(\"HBaDLFJ\", \"6\"), %5\n  test(\"DJaHLB\", \"2\"), %6\n  test(\"gDLHJF\", \"3\"), %7\n  test(\"cJFgLHD\", \"5\"), %8\n  test(\"FFBJaJJ\", \"1\"), %9\n  test(\"FJeJFBJ\", \"2\"), %10\n  test(\"iJFFJJB\", \"3\"), %11\n  test(\"JBJiLFJF\", \"5\"), %12\n  test(\"JDiFLFBJJ\", \"8\"), %13\n  test(\"BDFDFFDFFLLFFJFDBFDFFFFDDFaDBFFB\", \"28\"), %14\n  test(\"DDFBFcBDFFFFFFLBFDFFBFLFDFDJDFDF\", \"24\"), %15\n  test(\"FDLBFDDBFFFeFFFFFDFBLDDFDDFBFFJF\", \"16\"), %16\n  test(\"FDBFFLFDFFDBBDFFBJDLFgDFFFDFFDFF\", \"0\"), %17\n  test(\"FDiFLDFFFFBDDJDDBFBFDFFFBFFDFLFF\", \"31\"), %18\n  test(\"FDFDJBLBLBFFDDFFFDFFFFFDDFBkFDFF\", \"30\"), %19\n  test(\"HBkFFFFHBLH\", \"3\"), %20\n  test(\"FBHHFFFHLaB\", \"2\"), %21\n  test(\"LFHFBBcHFHF\", \"0\"), %22\n  test(\"LFBHFFeFHBH\", \"7\"), %23\n  test(\"LgFHHHBFBFF\", \"3\"), %24\n  test(\"FFiFHBHLBFH\", \"0\"), %25\n  test(\"BFHHFFHBeFLk\", \"10\"), %26\n  test(\"FHFaBBHFHLFg\", \"5\"), %27\n  test(\"FFgacaFg\", \"0\"), %28\n  test(\"JHDaDcBJiiHccBHDBDH\", \"9\"), %29\n  test(\"FHJJLckFckFJHDFF\", \"12\"), %30\n  test(\"DeDHJHDFHJBLHDLLDHJLBDD\", \"22\"), %31\n  test(\"gJLLLJgJgJLJL\", \"0\"), %32\n  test(\"DaaaDDD\", \"0\"), %33\n  test(\"HFeJFHiBiiBJeJBBFFB\", \"9\"), %34\n  test(\"FJFFJDBHBHaLJBHJHDLHkLLLFFFgJgHJLHkJkB\", \"32\"), %35\n  test(\"giFLBiBJLLJgHBFJigJJJBLHFLDLL\", \"23\"), %36\n  test(\"cgkLJcLJJJJgJc\", \"2\"), %37\n  test(\"LDFHJHcFBDBLJBLFLcFJcDFBL\", \"22\"), %38\n  test(\"JJHHHkHJkHLJk\", \"1\"), %39\n  test(\"kHHBBaBgHagHgaHBBB\", \"11\"), %40\n  test(\"HDBFFDHHHDFLDcHHLFDcJD\", \"20\"), %41\n  test(\"HFFFHeFFee\", \"7\"), %42\n  test(\"gLLDHgDLgFL\", \"1\"), %43\n  test(\"JJJBBaBBHBBHaLBHJ\", \"7\"), %44\n  test(\"FBFBgJBDBDgF\", \"0\"), %45\n  test(\"LLLLakakLakLL\", \"7\"), %46\n  test(\"HeJHeJe\", \"0\"), %47\n  test(\"LDFLBLLeBLDBBFFBLFBB\", \"4\"). %48\n\n\n\u7d50\u679c\u306e\u4e00\u90e8:\nok: gLDLBgBgHDaD -> 6\nok: DBcDLaLgDBH -> 6\n...\nok: HeJHeJe -> 0\nok: LDFLBLLeBLDBBFFBLFBB -> 4\n\n\u300c[\u7720\u308c\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u3092\u72e9\u308b](http://nabetani.sakura.ne.jp/hena/ord14linedung/)\u300d\u3092Erlang\u3067\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\u4ed6\u306e\u5b9f\u88c5\u306f [\u7b2c14\u56de\u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f\u306e\u554f\u984c](http://qiita.com/Nabetani/items/0597bd3af481e5834ae1) \u304b\u3089\u8fbf\u308c\u307e\u3059\u3002\n\n```erlang:sleepmonster.erl\n-module(sleepmonster).\n-compile(export_all).\n\n%% \u6b66\u5668\u30fb\u30e2\u30f3\u30b9\u30bf\u30fc\u5bfe\u5fdc\u8868 {\u6b66\u5668, \u5012\u305b\u308b\u30e2\u30f3\u30b9\u30bf\u30fc, \u5f97\u3089\u308c\u308b\u6b66\u5668}\ntable() -> [{$a, $B, $c}, {$c, $D, $e}, {$e, $F, $g},\n            {$g, $H, $i}, {$i, $J, $k}, {$k, $L, $a}].\n\n%% \u89e3\u304f\nsolve(Data) ->\n  Arms = lists:usort([X || X <- Data, X > $Z]), % \u5c0f\u6587\u5b57\u306e\u307f\u96c6\u3081\u308b\n  integer_to_list(hit(Arms, Data)).\n\n%% \u6b66\u5668\u3068\u5168\u4f53\u306e\u30ea\u30b9\u30c8\u304b\u3089\u5012\u3057\u305f\u30e2\u30f3\u30b9\u30bf\u30fc\u306e\u6570\u3092\u8fd4\u3059\nhit([], _) -> 0;\nhit([Arm | RestArms], Data) ->\n  {Monster, NewArm} = lookup(Arm),\n  HitMonster = fun(M) -> M =:= Monster end,\n  {Hits, NoHits} = lists:partition(HitMonster, Data),\n  case Hits of\n    [] -> hit(RestArms, Data); % \u305d\u306e\u6b66\u5668\u3067\u5012\u305b\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u304c\u5c45\u306a\u3044\n    _  -> length(Hits) + hit([NewArm | RestArms], NoHits) % \u5012\u305b\u305f\n  end.\n\n%% \u6b66\u5668\u304b\u3089\u5012\u305b\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u3068\u5f97\u3089\u308c\u308b\u6b66\u5668\u3092\u8fd4\u3059\nlookup(Arm) ->\n  hd([{M, NA} || {A, M, NA} <- table(), A =:= Arm]).\n\n%% \u30c6\u30b9\u30c8\ntest(Data, Expected) ->\n  Result = solve(Data),\n  OkNg = case Result =:= Expected of true -> ok; false -> ng end,\n  io:fwrite(\"~s: ~s -> ~s~n\", [OkNg, Data, Result]).\n\ntests() ->\n  test(\"gLDLBgBgHDaD\", \"6\"), %0\n  test(\"DBcDLaLgDBH\", \"6\"), %1\n  test(\"JJca\", \"0\"), %2\n  test(\"FJDLBH\", \"0\"), %3\n  test(\"HJBLFDg\", \"6\"), %4\n  test(\"HBaDLFJ\", \"6\"), %5\n  test(\"DJaHLB\", \"2\"), %6\n  test(\"gDLHJF\", \"3\"), %7\n  test(\"cJFgLHD\", \"5\"), %8\n  test(\"FFBJaJJ\", \"1\"), %9\n  test(\"FJeJFBJ\", \"2\"), %10\n  test(\"iJFFJJB\", \"3\"), %11\n  test(\"JBJiLFJF\", \"5\"), %12\n  test(\"JDiFLFBJJ\", \"8\"), %13\n  test(\"BDFDFFDFFLLFFJFDBFDFFFFDDFaDBFFB\", \"28\"), %14\n  test(\"DDFBFcBDFFFFFFLBFDFFBFLFDFDJDFDF\", \"24\"), %15\n  test(\"FDLBFDDBFFFeFFFFFDFBLDDFDDFBFFJF\", \"16\"), %16\n  test(\"FDBFFLFDFFDBBDFFBJDLFgDFFFDFFDFF\", \"0\"), %17\n  test(\"FDiFLDFFFFBDDJDDBFBFDFFFBFFDFLFF\", \"31\"), %18\n  test(\"FDFDJBLBLBFFDDFFFDFFFFFDDFBkFDFF\", \"30\"), %19\n  test(\"HBkFFFFHBLH\", \"3\"), %20\n  test(\"FBHHFFFHLaB\", \"2\"), %21\n  test(\"LFHFBBcHFHF\", \"0\"), %22\n  test(\"LFBHFFeFHBH\", \"7\"), %23\n  test(\"LgFHHHBFBFF\", \"3\"), %24\n  test(\"FFiFHBHLBFH\", \"0\"), %25\n  test(\"BFHHFFHBeFLk\", \"10\"), %26\n  test(\"FHFaBBHFHLFg\", \"5\"), %27\n  test(\"FFgacaFg\", \"0\"), %28\n  test(\"JHDaDcBJiiHccBHDBDH\", \"9\"), %29\n  test(\"FHJJLckFckFJHDFF\", \"12\"), %30\n  test(\"DeDHJHDFHJBLHDLLDHJLBDD\", \"22\"), %31\n  test(\"gJLLLJgJgJLJL\", \"0\"), %32\n  test(\"DaaaDDD\", \"0\"), %33\n  test(\"HFeJFHiBiiBJeJBBFFB\", \"9\"), %34\n  test(\"FJFFJDBHBHaLJBHJHDLHkLLLFFFgJgHJLHkJkB\", \"32\"), %35\n  test(\"giFLBiBJLLJgHBFJigJJJBLHFLDLL\", \"23\"), %36\n  test(\"cgkLJcLJJJJgJc\", \"2\"), %37\n  test(\"LDFHJHcFBDBLJBLFLcFJcDFBL\", \"22\"), %38\n  test(\"JJHHHkHJkHLJk\", \"1\"), %39\n  test(\"kHHBBaBgHagHgaHBBB\", \"11\"), %40\n  test(\"HDBFFDHHHDFLDcHHLFDcJD\", \"20\"), %41\n  test(\"HFFFHeFFee\", \"7\"), %42\n  test(\"gLLDHgDLgFL\", \"1\"), %43\n  test(\"JJJBBaBBHBBHaLBHJ\", \"7\"), %44\n  test(\"FBFBgJBDBDgF\", \"0\"), %45\n  test(\"LLLLakakLakLL\", \"7\"), %46\n  test(\"HeJHeJe\", \"0\"), %47\n  test(\"LDFLBLLeBLDBBFFBLFBB\", \"4\"). %48\n```\n\n\u7d50\u679c\u306e\u4e00\u90e8:\n\n<pre>\nok: gLDLBgBgHDaD -> 6\nok: DBcDLaLgDBH -> 6\n...\nok: HeJHeJe -> 0\nok: LDFLBLLeBLDBBFFBLFBB -> 4\n</pre>\n", "tags": ["yhpg", "\u3069\u3046\u66f8\u304f", "Erlang"]}