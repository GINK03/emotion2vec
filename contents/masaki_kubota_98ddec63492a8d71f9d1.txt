{"context": "R bologgers (www.r-bloggers.com) \u3067\u3001\u30ab\u30ca\u30c0\u306e\u5730\u56f3\u4e0a\u306b\u30c7\u30fc\u30bf\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u4f8b\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u305f\u306e\u3067\u3001\u65e5\u672c\u7528\u306b\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\u3053\u308c\u304f\u3089\u3044\u306e\u30c7\u30b6\u30a4\u30f3\u306e\u65b9\u304c\u898b\u3084\u3059\u3044\u6642\u3082\u3042\u308b\u306e\u3067\u3002\n\n\nLibrary\n\nlibrary(tidyverse)\nlibrary(viridis)\nlibrary(ggplot2)\n\n\nMap Info.\n\n# Location Data\nJP_plot <- tribble(\n    ~Prefecture, ~Code, ~x, ~y,\n    \"\u5317\u6d77\u9053\", \"HK\", 16, 14,\n    \"\u9752\u68ee\u770c\",\u3000\"AO\", 15, 11,\n    \"\u5ca9\u624b\u770c\",\u3000\"IT\", 15, 10,\n    \"\u5bae\u57ce\u770c\",\u3000\"MG\", 15, 9,\n    \"\u79cb\u7530\u770c\",\u3000\"AK\", 14, 10,\n    \"\u5c71\u5f62\u770c\",\u3000\"YG\", 14, 9,\n    \"\u798f\u5cf6\u770c\",\u3000\"FS\", 15, 8,\n    \"\u8328\u57ce\u770c\",\u3000\"IB\", 15, 6,\n    \"\u6803\u6728\u770c\",\u3000\"TC\", 15, 7,\n    \"\u7fa4\u99ac\u770c\",\u3000\"GU\", 14, 7,\n    \"\u57fc\u7389\u770c\",\u3000\"ST\", 14, 6,\n    \"\u5343\u8449\u770c\",\u3000\"CB\", 15, 5,\n    \"\u6771\u4eac\u90fd\",\u3000\"TY\", 14, 5,\n    \"\u795e\u5948\u5ddd\u770c\",\u3000\"KN\", 14, 4,\n    \"\u65b0\u6f5f\u770c\",\u3000\"NI\", 14, 8,\n    \"\u5bcc\u5c71\u770c\",\u3000\"TM\", 13, 7,\n    \"\u77f3\u5ddd\u770c\",\u3000\"IS\", 12, 7,\n    \"\u798f\u4e95\u770c\",\u3000\"FI\", 12, 6,\n    \"\u5c71\u68a8\u770c\",\u3000\"YN\", 13, 5,\n    \"\u9577\u91ce\u770c\",\u3000\"NA\", 13, 6,\n    \"\u5c90\u961c\u770c\",\u3000\"GI\", 12, 5,\n    \"\u9759\u5ca1\u770c\",\u3000\"SZ\", 13, 4,\n    \"\u611b\u77e5\u770c\",\u3000\"AI\", 12, 4,\n    \"\u4e09\u91cd\u770c\",\u3000\"ME\", 11, 4,\n    \"\u6ecb\u8cc0\u770c\",\u3000\"SI\", 11, 5,\n    \"\u4eac\u90fd\u5e9c\",\u3000\"KY\", 10, 5,\n    \"\u5927\u962a\u5e9c\",\u3000\"OS\", 9, 5,\n    \"\u5175\u5eab\u770c\",\u3000\"HG\", 8, 5,\n    \"\u5948\u826f\u770c\",\u3000\"NR\", 10, 4,\n    \"\u548c\u6b4c\u5c71\u770c\",\u3000\"WA\", 9, 4,\n    \"\u9ce5\u53d6\u770c\",\u3000\"TT\", 7, 5,\n    \"\u5cf6\u6839\u770c\",\u3000\"SM\", 6, 5,\n    \"\u5ca1\u5c71\u770c\",\u3000\"OY\", 7, 4,\n    \"\u5e83\u5cf6\u770c\",\u3000\"HS\", 6, 4,\n    \"\u5c71\u53e3\u770c\",\u3000\"YA\", 5, 5,\n    \"\u5fb3\u5cf6\u770c\",\u3000\"TK\", 7, 1,\n    \"\u9999\u5ddd\u770c\",\u3000\"KA\", 7, 2,\n    \"\u611b\u5a9b\u770c\",\u3000\"EH\", 6, 2,\n    \"\u9ad8\u77e5\u770c\",\u3000\"KO\", 6, 1,\n    \"\u798f\u5ca1\u770c\",\u3000\"FO\", 4, 3,\n    \"\u4f50\u8cc0\u770c\",\u3000\"SG\", 3, 3,\n    \"\u9577\u5d0e\u770c\",\u3000\"NS\", 2, 3,\n    \"\u718a\u672c\u770c\",\u3000\"KU\", 3, 2,\n    \"\u5927\u5206\u770c\",\u3000\"OI\", 4, 2,\n    \"\u5bae\u5d0e\u770c\",\u3000\"MZ\", 4, 1,\n    \"\u9e7f\u5150\u5cf6\u770c\", \"KG\", 3, 1,\n    \"\u6c96\u7e04\u770c\",\u3000\"OK\", 1, 1)\n\n# Define Map sizes\nJP_plot$Scale <- c(3,rep(1,46)) #\u5317\u6d77\u9053\u3060\u3051\u5c11\u3057\u5927\u304d\u304f\n\n# Abbreviated Prefectues\nJP_plot$Prefec <- JP_plot$Prefecture\nJP_plot$Prefec <- gsub(\"\u770c\", \"\", JP_plot$Prefec)  \nJP_plot$Prefec <- gsub(\"\u5e9c\", \"\", JP_plot$Prefec) \nJP_plot$Prefec <- gsub(\"\u6771\u4eac\u90fd\", \"\u6771\u4eac\", JP_plot$Prefec) \n\n\n\nData Preparation\n\n# Fake Data\nset.seed(27)\nJP_plot$Data <- rnorm(n=47, mean=50, sd=20)\n\n\n\nPlot by ggplot2\n\n# Plot\nJP_plot %>%\n  ggplot(aes(x = x,\n             y = y,\n             width = Scale,\n             height = Scale)) + \n  geom_tile(aes(fill = Data), color = \"white\") + \n  geom_text(aes(label = Prefec), size = 2.7, color = \"white\") +  \n\n  # Code\u3092\u30e9\u30d9\u30eb\u3068\u3057\u3066\u8868\u793a\u3059\u308b\u5834\u5408\n  #geom_text(aes(label = Code), size = 2.7, color = \"white\") + \n\n  coord_fixed(ratio = 1) + \n  theme(\n    panel.background = element_blank(),\n    panel.grid = element_blank(), \n    axis.title = element_blank(), \n    axis.text = element_blank(), \n    axis.ticks = element_blank()) + \n\u3000\u3000scale_fill_viridis(na.value = \"#E1E1E1\", option = \"D\", begin = 0, end = 1)\n\n\u3000# \u30de\u30cb\u30e5\u30a2\u30eb\u3067\u8272\uff083\u8272\uff09\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\n  # scale_fill_gradient2(low=\"#777777\",\n  #                      mid=\"#DDDDDD\",\n  #                      high=\"#2A465C,\n  #                      midpoint = 50)\n\n\n\n\n\n\nhttps://www.r-bloggers.com/the-tile-grid-map-for-canada/\n\nR bologgers (www.r-bloggers.com) \u3067\u3001\u30ab\u30ca\u30c0\u306e\u5730\u56f3\u4e0a\u306b\u30c7\u30fc\u30bf\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u4f8b\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u305f\u306e\u3067\u3001\u65e5\u672c\u7528\u306b\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\u3053\u308c\u304f\u3089\u3044\u306e\u30c7\u30b6\u30a4\u30f3\u306e\u65b9\u304c\u898b\u3084\u3059\u3044\u6642\u3082\u3042\u308b\u306e\u3067\u3002\n***\n### **Library**\n```{r setup, include=FALSE}\nlibrary(tidyverse)\nlibrary(viridis)\nlibrary(ggplot2)\n```\n\n### **Map Info.**\n\n```{r position_size}\n# Location Data\nJP_plot <- tribble(\n    ~Prefecture, ~Code, ~x, ~y,\n    \"\u5317\u6d77\u9053\", \"HK\", 16, 14,\n    \"\u9752\u68ee\u770c\",\u3000\"AO\", 15, 11,\n    \"\u5ca9\u624b\u770c\",\u3000\"IT\", 15, 10,\n    \"\u5bae\u57ce\u770c\",\u3000\"MG\", 15, 9,\n    \"\u79cb\u7530\u770c\",\u3000\"AK\", 14, 10,\n    \"\u5c71\u5f62\u770c\",\u3000\"YG\", 14, 9,\n    \"\u798f\u5cf6\u770c\",\u3000\"FS\", 15, 8,\n    \"\u8328\u57ce\u770c\",\u3000\"IB\", 15, 6,\n    \"\u6803\u6728\u770c\",\u3000\"TC\", 15, 7,\n    \"\u7fa4\u99ac\u770c\",\u3000\"GU\", 14, 7,\n    \"\u57fc\u7389\u770c\",\u3000\"ST\", 14, 6,\n    \"\u5343\u8449\u770c\",\u3000\"CB\", 15, 5,\n    \"\u6771\u4eac\u90fd\",\u3000\"TY\", 14, 5,\n    \"\u795e\u5948\u5ddd\u770c\",\u3000\"KN\", 14, 4,\n    \"\u65b0\u6f5f\u770c\",\u3000\"NI\", 14, 8,\n    \"\u5bcc\u5c71\u770c\",\u3000\"TM\", 13, 7,\n    \"\u77f3\u5ddd\u770c\",\u3000\"IS\", 12, 7,\n    \"\u798f\u4e95\u770c\",\u3000\"FI\", 12, 6,\n    \"\u5c71\u68a8\u770c\",\u3000\"YN\", 13, 5,\n    \"\u9577\u91ce\u770c\",\u3000\"NA\", 13, 6,\n    \"\u5c90\u961c\u770c\",\u3000\"GI\", 12, 5,\n    \"\u9759\u5ca1\u770c\",\u3000\"SZ\", 13, 4,\n    \"\u611b\u77e5\u770c\",\u3000\"AI\", 12, 4,\n    \"\u4e09\u91cd\u770c\",\u3000\"ME\", 11, 4,\n    \"\u6ecb\u8cc0\u770c\",\u3000\"SI\", 11, 5,\n    \"\u4eac\u90fd\u5e9c\",\u3000\"KY\", 10, 5,\n    \"\u5927\u962a\u5e9c\",\u3000\"OS\", 9, 5,\n    \"\u5175\u5eab\u770c\",\u3000\"HG\", 8, 5,\n    \"\u5948\u826f\u770c\",\u3000\"NR\", 10, 4,\n    \"\u548c\u6b4c\u5c71\u770c\",\u3000\"WA\", 9, 4,\n    \"\u9ce5\u53d6\u770c\",\u3000\"TT\", 7, 5,\n    \"\u5cf6\u6839\u770c\",\u3000\"SM\", 6, 5,\n    \"\u5ca1\u5c71\u770c\",\u3000\"OY\", 7, 4,\n    \"\u5e83\u5cf6\u770c\",\u3000\"HS\", 6, 4,\n    \"\u5c71\u53e3\u770c\",\u3000\"YA\", 5, 5,\n    \"\u5fb3\u5cf6\u770c\",\u3000\"TK\", 7, 1,\n    \"\u9999\u5ddd\u770c\",\u3000\"KA\", 7, 2,\n    \"\u611b\u5a9b\u770c\",\u3000\"EH\", 6, 2,\n    \"\u9ad8\u77e5\u770c\",\u3000\"KO\", 6, 1,\n    \"\u798f\u5ca1\u770c\",\u3000\"FO\", 4, 3,\n    \"\u4f50\u8cc0\u770c\",\u3000\"SG\", 3, 3,\n    \"\u9577\u5d0e\u770c\",\u3000\"NS\", 2, 3,\n    \"\u718a\u672c\u770c\",\u3000\"KU\", 3, 2,\n    \"\u5927\u5206\u770c\",\u3000\"OI\", 4, 2,\n    \"\u5bae\u5d0e\u770c\",\u3000\"MZ\", 4, 1,\n    \"\u9e7f\u5150\u5cf6\u770c\",\t\"KG\", 3, 1,\n    \"\u6c96\u7e04\u770c\",\u3000\"OK\", 1, 1)\n\n# Define Map sizes\nJP_plot$Scale <- c(3,rep(1,46)) #\u5317\u6d77\u9053\u3060\u3051\u5c11\u3057\u5927\u304d\u304f\n\n# Abbreviated Prefectues\nJP_plot$Prefec <- JP_plot$Prefecture\nJP_plot$Prefec <- gsub(\"\u770c\", \"\", JP_plot$Prefec)  \nJP_plot$Prefec <- gsub(\"\u5e9c\", \"\", JP_plot$Prefec) \nJP_plot$Prefec <- gsub(\"\u6771\u4eac\u90fd\", \"\u6771\u4eac\", JP_plot$Prefec) \n\n```\n\n### **Data Preparation**\n\n```{r Fake_data}\n# Fake Data\nset.seed(27)\nJP_plot$Data <- rnorm(n=47, mean=50, sd=20)\n\n```\n\n### **Plot by ggplot2**\n\n```{r JP_plot}\n# Plot\nJP_plot %>%\n  ggplot(aes(x = x,\n             y = y,\n             width = Scale,\n             height = Scale)) + \n  geom_tile(aes(fill = Data), color = \"white\") + \n  geom_text(aes(label = Prefec), size = 2.7, color = \"white\") +  \n  \n  # Code\u3092\u30e9\u30d9\u30eb\u3068\u3057\u3066\u8868\u793a\u3059\u308b\u5834\u5408\n  #geom_text(aes(label = Code), size = 2.7, color = \"white\") + \n\n  coord_fixed(ratio = 1) + \n  theme(\n    panel.background = element_blank(),\n    panel.grid = element_blank(), \n    axis.title = element_blank(), \n    axis.text = element_blank(), \n    axis.ticks = element_blank()) + \n\u3000\u3000scale_fill_viridis(na.value = \"#E1E1E1\", option = \"D\", begin = 0, end = 1)\n\n\u3000# \u30de\u30cb\u30e5\u30a2\u30eb\u3067\u8272\uff083\u8272\uff09\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\n  # scale_fill_gradient2(low=\"#777777\",\n  #                      mid=\"#DDDDDD\",\n  #                      high=\"#2A465C,\n  #                      midpoint = 50)\n\n \n```\n\n![01.png](https://qiita-image-store.s3.amazonaws.com/0/166617/4ddf61fa-34a8-f393-ed59-df78c296a383.png)\n![02.png](https://qiita-image-store.s3.amazonaws.com/0/166617/657aee8b-0c79-616c-8ee6-62da924de131.png)\n\n\n> <https://www.r-bloggers.com/the-tile-grid-map-for-canada/>\n\n", "tags": ["R", "ggplot2"]}