{"context": " More than 1 year has passed since last update.Cloudera Manager Advent Calendar 2015\u306e18\u65e5\u76ee\u3067\u3059\u3002\nHadoop\u3084HBase\u3001Spark\u30af\u30e9\u30b9\u30bf\u306f\u5404\u30d7\u30ed\u30bb\u30b9\u5927\u91cf\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30aa\u30fc\u30d7\u30f3\u3059\u308b\u306e\u3067\u3001Linux\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u4e0a\u9650\u306b\u5bb9\u6613\u306b\u9054\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u4e0a\u9650\u306b\u9054\u3059\u308b\u3068\u307e\u3068\u3082\u306b\u30af\u30e9\u30b9\u30bf\u304c\u6a5f\u80fd\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u57fa\u672c\u7684\u306b\u306f\u4e0a\u9650\u3092\u5f15\u304d\u4e0a\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u305f\u3068\u3048\u3070\u3001HBase\u3067\u3042\u308c\u307032768\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u63a8\u5968\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u53c2\u80031: 4. Basic Prerequisites - Limits on Number of Files and Processes (ulimit)\nhttp://hbase.apache.org/book.html#basic.prerequisites\n\u53c2\u80032: Configuration Settings for HBase - Setting User Limits for HBase\nhttp://www.cloudera.com/content/www/en-us/documentation/enterprise/latest/topics/cdh_ig_hbase_config.html\nCloudera Manager\uff08\u4ee5\u4e0bCM\uff09\u304b\u3089\u30d7\u30ed\u30bb\u30b9\u306e\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u4e0a\u9650\u3092\u5f15\u304d\u4e0a\u3052\u308b\u969b\u306f\u3001\u5404\u30b5\u30fc\u30d3\u30b9\u306e\u8a2d\u5b9a\u30da\u30fc\u30b8\u3067\u300c\u30d7\u30ed\u30bb\u30b9\u30d5\u30a1\u30a4\u30eb\u8a18\u8ff0\u5b50\u306e\u6700\u5927\u6570\u300d\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5024\u3092\u5909\u66f4\u3057\u307e\u3059\u3002ulimit\u3067\u691c\u7d22\u3059\u308b\u3068\u7c21\u5358\u306b\u305f\u3069\u308a\u7740\u3051\u308b\u3067\u3057\u3087\u3046\u3002\n\n\u3053\u3053\u3067\u306f\u3059\u3079\u306632768\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\u30d7\u30ed\u30bb\u30b9\u3092\u518d\u8d77\u52d5\u3059\u308b\u3068\u53cd\u6620\u3055\u308c\u307e\u3059\u3002/proc/<PID>/limits\u304b\u3089\u53cd\u6620\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u306d\u3002\n[root@c5 ~]# ps aux | grep -i proc_regionserver\nhbase    57495 10.0  2.3 795664 193012 ?       Sl   22:04   0:17 /usr/java/jdk1.7.0_67-cloudera/bin/java -Dproc_regionserver ...\n[root@c5 ~]# cat /proc/57495/limits | grep \"open files\"\nMax open files            32768                32768                files\n\n\u4ee5\u4e0a\u3001\u5c0f\u30cd\u30bf\u3067\u3057\u305f\u3002\n\u53c2\u8003: Configuring Maximum File Descriptors\nhttp://www.cloudera.com/content/www/en-us/documentation/enterprise/latest/topics/cm_mc_max_fd.html\n[Cloudera Manager Advent Calendar 2015](http://qiita.com/advent-calendar/2015/cm)\u306e18\u65e5\u76ee\u3067\u3059\u3002\n\nHadoop\u3084HBase\u3001Spark\u30af\u30e9\u30b9\u30bf\u306f\u5404\u30d7\u30ed\u30bb\u30b9\u5927\u91cf\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30aa\u30fc\u30d7\u30f3\u3059\u308b\u306e\u3067\u3001Linux\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u4e0a\u9650\u306b\u5bb9\u6613\u306b\u9054\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u4e0a\u9650\u306b\u9054\u3059\u308b\u3068\u307e\u3068\u3082\u306b\u30af\u30e9\u30b9\u30bf\u304c\u6a5f\u80fd\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u57fa\u672c\u7684\u306b\u306f\u4e0a\u9650\u3092\u5f15\u304d\u4e0a\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u305f\u3068\u3048\u3070\u3001HBase\u3067\u3042\u308c\u3070`32768`\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u63a8\u5968\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u53c2\u80031: 4. Basic Prerequisites - Limits on Number of Files and Processes (ulimit)\nhttp://hbase.apache.org/book.html#basic.prerequisites\n\n\u53c2\u80032: Configuration Settings for HBase - Setting User Limits for HBase\nhttp://www.cloudera.com/content/www/en-us/documentation/enterprise/latest/topics/cdh_ig_hbase_config.html\n\nCloudera Manager\uff08\u4ee5\u4e0bCM\uff09\u304b\u3089\u30d7\u30ed\u30bb\u30b9\u306e\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u4e0a\u9650\u3092\u5f15\u304d\u4e0a\u3052\u308b\u969b\u306f\u3001\u5404\u30b5\u30fc\u30d3\u30b9\u306e\u8a2d\u5b9a\u30da\u30fc\u30b8\u3067\u300c\u30d7\u30ed\u30bb\u30b9\u30d5\u30a1\u30a4\u30eb\u8a18\u8ff0\u5b50\u306e\u6700\u5927\u6570\u300d\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5024\u3092\u5909\u66f4\u3057\u307e\u3059\u3002`ulimit`\u3067\u691c\u7d22\u3059\u308b\u3068\u7c21\u5358\u306b\u305f\u3069\u308a\u7740\u3051\u308b\u3067\u3057\u3087\u3046\u3002\n\n![alt](https://lh3.googleusercontent.com/mXyiVxwFsnum0VkNEacz9mjYGvz-thX-RInocROehpZTbccLgDAW0dsdj5dkiy9xvKQMy-2Q0oYnLnsZHPrLIUyLLrWI8CuyyDgGwR_GMjlYTw_9AjIKFJRw69h48NncFiZjKaRkRwEG7xiM9GokJIGvPOaMZTpkAIorQ2z75SDuoDWnBGtZ8ygD56csxGijrKYlNZN1JRstdfXh1DQkhu3zAjtQG_170U3POemTelOdXLZhglbA4aiA2NuhPrb2KWli-LyOOT9icTtjKZVl5bEkyyjCak7psDXzOQg-7hPWyruJ1FGPpHyOi6ymSZ61L_ehH00W22xAAgWQgQWPtcjRCBoid3bX-90sdwK8MtCCp_Tx2eqeUH8dH0yl8lYQqWO6MRC2LlxD-bKu6xEfDy1OKYP51JHhiDATgEQM_4btIbPvhSi7XPN_uJQF6C5d-hzNvupBeSJSg3pRRgvkveEua2U-cb7n2jGZ8kqTrf3BzMf1c8qE_OBM5rJJ-J3-rpbXd8QMTcdbMwqrYtynm68LFcJoxxb-kRDAng1OEH6yPBq3GK-x9BsmunxqAItG=w642-h532-no)\n\n\u3053\u3053\u3067\u306f\u3059\u3079\u3066`32768`\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\u30d7\u30ed\u30bb\u30b9\u3092\u518d\u8d77\u52d5\u3059\u308b\u3068\u53cd\u6620\u3055\u308c\u307e\u3059\u3002`/proc/<PID>/limits`\u304b\u3089\u53cd\u6620\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u306d\u3002\n\n```\n[root@c5 ~]# ps aux | grep -i proc_regionserver\nhbase    57495 10.0  2.3 795664 193012 ?       Sl   22:04   0:17 /usr/java/jdk1.7.0_67-cloudera/bin/java -Dproc_regionserver ...\n[root@c5 ~]# cat /proc/57495/limits | grep \"open files\"\nMax open files            32768                32768                files\n```\n\n\u4ee5\u4e0a\u3001\u5c0f\u30cd\u30bf\u3067\u3057\u305f\u3002\n\n\u53c2\u8003: Configuring Maximum File Descriptors\nhttp://www.cloudera.com/content/www/en-us/documentation/enterprise/latest/topics/cm_mc_max_fd.html\n", "tags": ["hadoop", "ClouderaManager", "Spark"]}