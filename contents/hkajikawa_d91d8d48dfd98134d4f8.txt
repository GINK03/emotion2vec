{"tags": ["hadoop", "HDP", "Ambari"], "context": "\n\nHORTONWORKS DATA PLATFORM\uff08HDP\u2122\uff09\u3092Apache Ambari\u3067\uff01\nHDP\u3092Ambari\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3059\u3002\nAmbari\u306fHadoop\u306e\u7ba1\u7406\u30c4\u30fc\u30eb\u3001HDP\u306fHORTONWORKS\u304c\u30ea\u30ea\u30fc\u30b9\u3059\u308bHadoop\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u4e00\u3064\u3067\u3059\u3002\n\u524d\u56de\u306f\u3001Apache\u304c\u30ea\u30ea\u30fc\u30b9\u3057\u3066\u3044\u308b\u7d20\u306eHadoop\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u306e\u3067\u3059\u304c\u3001\u6bd4\u3079\u308b\u3068100\u500d\u3050\u3089\u3044\u697d\u30c1\u30f3\u3067\u3059\u3002\n\u4eca\u56de\u3082\u3001\u307e\u3041\u3001\u52d5\u3044\u305f\uff01\u3050\u3089\u3044\u307e\u3067\u306a\u306e\u3067\u3001\u30e1\u30e2\u7a0b\u5ea6\u3067\u3059\u3002\n\n\u74b0\u5883\n CentOS : 7.2 + \u6700\u65b0\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n   JAVA : jdk-8u77-linux-x64\n  Cloud : IDCF Cloud\n Ambari : 2.2.1.1\n    HDP : 2.4\nMariaDB : mariadb-5.5.47-1.el7_2\n\n\n\u203b Ambari\u306fPostgreSQL\u3092\u4f7f\u3046\u306e\u3067\u3059\u304c\u3001PostgreSQL\u305d\u3093\u306a\u306b\u77e5\u3089\u306a\u3044\u306e\u3067\u3001\u6163\u308c\u3066\u3044\u308bMySQL\u3067\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u3053\u3061\u3089\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u304b\u306a\u308a\u4e01\u5be7\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u624b\u9806\u306b\u6cbf\u3063\u3066\u3044\u3051\u3070\u554f\u984c\u306a\u304f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u524d\u8ff0\u306eMySQL\u4f7f\u3046\u306a\u3069\u3082\u3001\u3061\u3083\u3093\u3068\u4e01\u5be7\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u306a\u306e\u3067\u3001\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3082\u3042\u307e\u308a\u610f\u5473\u304c\u306a\u304f\u3066\u3001\u30e1\u30e2\u7a0b\u5ea6\u3067\u3059\u3002\n\n\u30db\u30b9\u30c8\u3068\u30c7\u30fc\u30e2\u30f3\n\u4eca\u56de\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u5272\u308a\u632f\u308d\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\nhdp1 : Ambari Server, MySQL Server, ZooKeeper Server, Metrics Collector\nhdp2 : ZooKeeper Server, NameNode, WebHCat Server, Hive Metastore,  HiveServer2\nhdp3 : ZooKeeper Server, SNameNode, ResourceManager, MapReduce Job History Server, App Timeline Server\nhdp4 : DataNode, NodeManager\nhdp5 : DataNode, NodeManager\nhdp6 : DataNode, NodeManager\nhdp7 : Client\n\n\nOS\u306e\u6e96\u5099\n\nCentOS 7.2 + yum update\u3057\u3066\u304a\u304f\u3002\nJAVA8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u7f6e\u304f\u3002\u4eca\u56de\u306fOracle\u306eJDK\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002\nlocale\u3092\u82f1\u8a9e\u306b\u3057\u3066\u304a\u304f\u3002localectl set-locale LANG=en_US.UTF-8\n\nAmbari Server\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30b5\u30fc\u30d0\u304b\u3089\u5404\u30b5\u30fc\u30d0\u3078ssh\u3067Password-less\u3067\u5165\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3002\n\n\u203b \u6700\u521dLocale\u304c\u65e5\u672c\u8a9e\u306e\u307e\u307e\u3067\u306f\u307e\u308a\u307e\u3057\u305f\u3002\u65e5\u672c\u8a9e\u306e\u307e\u307e\u3060\u3068Ambari-Agent\u304c\u8d77\u52d5\u3067\u304d\u307e\u305b\u3093\u3002\n\nAmbari\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u767b\u9332\n# wget -nv http://public-repo-1.hortonworks.com/ambari/centos7/2.x/updates/2.2.2.0/ambari.repo -O /etc/yum.repos.d/ambari.repo\n\n2016/11/21\u306e\u6700\u65b0\u306f2.4.1.0\u3067\u3059\u3002(\u6b8b\u308a\u306e\u624b\u9806\u306f\u304b\u308f\u308a\u3042\u308a\u307e\u305b\u3093\u3002)\n\n2.4.1.0\nwget -nv http://public-repo-1.hortonworks.com/ambari/centos7/2.x/updates/2.4.1.0/ambari.repo -O /etc/yum.repos.d/ambari.repo\n\n\n\nAmbari Server\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum install ambari-server\n\n\u203b PostgreSQL\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u4f7f\u3044\u307e\u305b\u3093\u3002\n\nMariaDB\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n\u521d\u671f\u8a2d\u5b9a\n# systemctl start mariadb\n# mysql_secure_installation\n/usr/bin/mysql_secure_installation: \u884c 379: find_mysql_client: \u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\n\nNOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB\n      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!\n\nIn order to log into MariaDB to secure it, we'll need the current\npassword for the root user.  If you've just installed MariaDB, and\nyou haven't set the root password yet, the password will be blank,\nso you should just press enter here.\n\nEnter current password for root (enter for none):\nOK, successfully used password, moving on...\n\nSetting the root password ensures that nobody can log into the MariaDB\nroot user without the proper authorisation.\n\nSet root password? [Y/n]\nNew password:\nRe-enter new password:\nPassword updated successfully!\nReloading privilege tables..\n ... Success!\n\n\nBy default, a MariaDB installation has an anonymous user, allowing anyone\nto log into MariaDB without having to have a user account created for\nthem.  This is intended only for testing, and to make the installation\ngo a bit smoother.  You should remove them before moving into a\nproduction environment.\n\nRemove anonymous users? [Y/n]\n ... Success!\n\nNormally, root should only be allowed to connect from 'localhost'.  This\nensures that someone cannot guess at the root password from the network.\n\nDisallow root login remotely? [Y/n]\n ... Success!\n\nBy default, MariaDB comes with a database named 'test' that anyone can\naccess.  This is also intended only for testing, and should be removed\nbefore moving into a production environment.\n\nRemove test database and access to it? [Y/n]\n - Dropping test database...\n ... Success!\n - Removing privileges on test database...\n ... Success!\n\nReloading the privilege tables will ensure that all changes made so far\nwill take effect immediately.\n\nReload privilege tables now? [Y/n]\n ... Success!\n\nCleaning up...\n\nAll done!  If you've completed all of the above steps, your MariaDB\ninstallation should now be secure.\n\nThanks for using MariaDB!\n\n\nroot\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u4ee5\u5916\u306f\u5168\u90e8\u30c7\u30d5\u30a9\u30eb\u30c8\u3067OK\n\u300c\u884c 379: find_mysql_client: \u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u300d\u3068\u304b\u51fa\u3066\u308b\u3051\u3069\u3001\u5927\u4e08\u592b\u307f\u305f\u3044\u306a\u306e\u3067\u7121\u8996\u3002\n\n\n\u30e6\u30fc\u30b6\u4f5c\u6210\n# mysql -u root -p\n\nCREATE USER '<AMBARIUSER>'@'%' IDENTIFIED BY '<AMBARIPASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<AMBARIUSER>'@'%';\nCREATE USER '<AMBARIUSER>'@'localhost' IDENTIFIED BY '<AMBARIPASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<AMBARIUSER>'@'localhost';\nCREATE USER '<AMBARIUSER>'@'<AMBARISERVERFQDN>' IDENTIFIED BY '<AMBARIPASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<AMBARIUSER>'@'<AMBARISERVERFQDN>';\nFLUSH PRIVILEGES;\n\n      <AMBARIUSER> : ambari\n  <AMBARIPASSWORD> : \u9069\u5f53\u306b\n<AMBARISERVERFQDN> : Ambari Server\u306eFQDN\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002IDCF Cloud\u3067\u3042\u308c\u3070\u3001hostname -f\u3067\u51fa\u3066\u308bFQDN\u3092\u6307\u5b9a\u3059\u308c\u3070OK\u3067\u3059\u3002ex) hdp1.csdidcfcloud.internal\n\n\n\u30b9\u30ad\u30fc\u30de\u30fc\u306e\u767b\u9332\n# mysql -u root -p\n\nCREATE DATABASE <AMBARIDATABASE>;\nUSE <AMBARIDATABASE>;\nSOURCE /var/lib/ambari-server/resources/Ambari-DDL-MySQL-CREATE.sql;\n\n<AMBARIDATABASE> : ambari\n\n\nHive\u7528\u306e\u30e6\u30fc\u30b6\u3082\u767b\u9332\nHive\u3082\u4e00\u7dd2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3064\u3001Ambari\u7528\u306eMySQL(MariaDB)\u3092\u305d\u306e\u307e\u307e\u4f7f\u304a\u3046\u3068\u601d\u3046\u306e\u3067\u3001Hive\u7528\u306e\u30e6\u30fc\u30b6\u3082\u4f5c\u3063\u3066\u304a\u304f\u3002\nmysql -u root -p\n\nCREATE USER '<HIVEUSER>'@'localhost' IDENTIFIED BY '<HIVEPASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<HIVEUSER>'@'localhost';\nCREATE USER '<HIVEUSER>'@'%' IDENTIFIED BY '<HIVEPASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<HIVEUSER>'@'%';\nCREATE USER '<HIVEUSER>'@'<HIVEMETASTOREFQDN>'IDENTIFIED BY '<HIVEPASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<HIVEUSER>'@'<HIVEMETASTOREFQDN>';\nFLUSH PRIVILEGES;\n\n         <HIVEUSER> : hive\n     <HIVEPASSWORD> : \u9069\u5f53\u306b\u3002\n<HIVEMETASTOREFQDN> : Hive Metastore Server\u306eFQDN\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002IDCF Cloud\u3067\u3042\u308c\u3070\u3001hostname -f\u3067\u51fa\u3066\u308bFQDN\u3092\u6307\u5b9a\u3059\u308c\u3070OK\u3067\u3059\u3002ex) hdp2.csdidcfcloud.internal\n\nAmbari\u3082Hive\u3082\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u901a\u308a\u3067\u3059\u3051\u3069\u3001%\u304b\u3089\u53d7\u3051\u5165\u308c\u3060\u304b\u3089\u3001localhost\u3068\u304bFQDN\u3068\u304b\u610f\u5473\u306a\u3044\u3093\u3058\u3083\u3002\u3002\u3002\n\nMySQL Connector/J\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum install mysql-connector-java\n\n\nAmbari\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n# ambari-server setup\nUsing python  /usr/bin/python\nSetup ambari-server\nChecking SELinux...\nSELinux status is 'disabled'\nCustomize user account for ambari-server daemon [y/n] (n)?\nAdjusting ambari-server permissions and ownership...\nChecking firewall status...\nRedirecting to /bin/systemctl status  iptables.service\n\nChecking JDK...\n[1] Oracle JDK 1.8 + Java Cryptography Extension (JCE) Policy Files 8\n[2] Oracle JDK 1.7 + Java Cryptography Extension (JCE) Policy Files 7\n[3] Custom JDK\n==============================================================================\nEnter choice (1): 1\nTo download the Oracle JDK and the Java Cryptography Extension (JCE) Policy Files you must accept the license terms found at http://www.oracle.com/technetwork/java/javase/terms/license/index.html and not accepting will cancel the Ambari Server setup and you must install the JDK and JCE files manually.\nDo you accept the Oracle Binary Code License Agreement [y/n] (y)?\nDownloading JDK from http://public-repo-1.hortonworks.com/ARTIFACTS/jdk-8u60-linux-x64.tar.gz to /var/lib/ambari-server/resources/jdk-8u60-linux-x64.tar.gz\njdk-8u60-linux-x64.tar.gz... 100% (172.8 MB of 172.8 MB)\nSuccessfully downloaded JDK distribution to /var/lib/ambari-server/resources/jdk-8u60-linux-x64.tar.gz\nInstalling JDK to /usr/jdk64/\nSuccessfully installed JDK to /usr/jdk64/\nDownloading JCE Policy archive from http://public-repo-1.hortonworks.com/ARTIFACTS/jce_policy-8.zip to /var/lib/ambari-server/resources/jce_policy-8.zip\n\nSuccessfully downloaded JCE Policy archive to /var/lib/ambari-server/resources/jce_policy-8.zip\nInstalling JCE policy...\nCompleting setup...\nConfiguring database...\nEnter advanced database configuration [y/n] (n)? y\nConfiguring database...\n==============================================================================\nChoose one of the following options:\n[1] - PostgreSQL (Embedded)\n[2] - Oracle\n[3] - MySQL\n[4] - PostgreSQL\n[5] - Microsoft SQL Server (Tech Preview)\n[6] - SQL Anywhere\n==============================================================================\nEnter choice (1): 3\nHostname (localhost):\nPort (3306):\nDatabase name (ambari):\nUsername (ambari):\nEnter Database Password (bigdata):\nRe-enter password:\nConfiguring ambari database...\nWARNING: Before starting Ambari Server, you must run the following DDL against the database to create the schema: /var/lib/ambari-server/resources/Ambari-DDL-MySQL-CREATE.sql\nProceed with configuring remote database connection properties [y/n] (y)?\nExtracting system views...\nambari-admin-2.2.1.1.70.jar\n......\nAdjusting ambari-server permissions and ownership...\nAmbari Server 'setup' completed successfully.\n\n\u6ce8\u610f\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u306f\u3001Enter advanced database configuration [y/n] (n)?\u3067y\u3068\u3057\u3066\u3001MySQL\u3092\u30c1\u30e7\u30a4\u30b9\u3059\u308b\u3068\u3053\u308d\u3067\u3059\u3002\u5f8c\u306f\u307b\u307c(\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u304bDB\u540d\u3068\u304b\u306f\u4f5c\u3063\u305f\u7269\u306b\u5408\u305b\u308b\u3002)\u30c7\u30d5\u30a9\u30eb\u30c8\u3067OK\u3067\u3059\u3002\n\nAmbari Server\u306e\u8d77\u52d5\n# ambari-server start\n\nUsing python  /usr/bin/python\nStarting ambari-server\nAmbari Server running with administrator privileges.\nOrganizing resource files at /var/lib/ambari-server/resources...\nServer PID at: /var/run/ambari-server/ambari-server.pid\nServer out at: /var/log/ambari-server/ambari-server.out\nServer log at: /var/log/ambari-server/ambari-server.log\nWaiting for server start....................\nAmbari Server 'start' completed successfully.\n\n\nAmbari\u3078\u30ed\u30b0\u30a4\u30f3\nhttp://[your.ambari.server>]:8080\n\u521d\u671fUsername/Password\u306fadmin/admin\u3067\u3059\u3002\n\u203b IDCF Cloud\u306e\u5834\u5408\u3001Public IP\u30a2\u30c9\u30ec\u30b9\u3068Ambari Server\u306ePrivate\u30a2\u30c9\u30ec\u30b9\u3067\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9(\u3082\u3057\u304f\u306f\u30b9\u30bf\u30c6\u30a3\u30c3\u30afNAT)\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u30018080\u306b\u5bfe\u3057\u3066\u30d5\u30a1\u30a4\u30a2\u30fc\u30d5\u30a9\u30fc\u30eb\u306e\u8a31\u53ef\u306e\u8a2d\u5b9a\u3082\u5fc5\u8981\u3067\u3059\u3002\n\nWizard\u3067Cluster\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nCreate a Cluster\u306eLaunch Install Wizard\u3092\u30af\u30ea\u30c3\u30af\u3002\nName your cluster\u3067\u9069\u5f53\u306aCluster\u540d\u3092\u6307\u5b9a\u3002\nSelect Stack\u3067HDP 2.4\u3092\u6307\u5b9a\u3002\nTarget Hosts\u3078hdp1\u304b\u3089hdp7\u307e\u3067\u306eFQDN\u3092\u6539\u884c\u533a\u5207\u308a\u3067\u6307\u5b9a\u3002\nProvide your SSH Private Key to automatically register hosts\u3067Ambari Server\u304b\u3089\u5404\u30b5\u30fc\u30d0\u3078Password-less\u3067ssh\u3059\u308b\u70ba\u306ePrivate Key\u3092\u6307\u5b9a\u3002\n\u6307\u5b9a\u3057\u305f\u30db\u30b9\u30c8\u304c\u5168\u53f0Success\u306b\u306a\u308b\u306f\u305a\u3002Failed\u306b\u306a\u308b\u5834\u5408\u306f\u3001local\u306e\u8a2d\u5b9a\u304bPassword-less\u3067ssh\u3067\u304d\u306a\u3044\u306a\u3069\u304c\u8003\u3048\u3089\u308c\u308b\u3002\u300cSome warnings were encountered while performing checks against the 9 registered hosts above Click here to see the warnings.\u300d\u3067Warning\u304c\u78ba\u8a8d\u3067\u304d\u308b\u306e\u3067\u3001\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\u304a\u305d\u3089\u304fntpd\u304c\u8d77\u52d5\u3057\u3066\u306a\u3044\u3068\u8b66\u544a\u304c\u51fa\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002(CentOS7\u306fntpd\u3067\u306f\u306a\u304fchrony\u306a\u306e\u3067\u3002)\u8b66\u544a\u306f\u89e3\u6d88\u3057\u3066\u7f6e\u3044\u305f\u65b9\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nChoose Services\u3067\u306f\u3001\u4eca\u56de\u306fHDFS, YARN+MapReduce2, Tez, Hive, Pig, ZooKeeper, Ambari Metrics\u3092\u9078\u629e\u3057\u307e\u3059\u3002\nAssign Masters\u3067\u3001\u3069\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u3069\u306e\u30b5\u30fc\u30d0\u3078\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u4eca\u56de\u306f\u3001\u524d\u8ff0\u306e\u901a\u308a\u3067\u5272\u5f53\u307e\u3059\u3002\nAssign Slaves and Clients\u3067Client\u306f\u5168\u53f0\u3001hdp4,hdp5,hdp6\u3078DataNode,NFSGateway,NodeManager\u3092\u5272\u5f53\u307e\u3059\u3002\nCustomize Services\u3067\u306fHive\u304c\u8d64\u304f\u306a\u3063\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u3001Hive->Advanced\u306eHive Database\u3067Existing MySQL Database\u3092\u9078\u629e\u3001\u307e\u305fDatabase Password\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002Test Connection\u3067\u63a5\u7d9a\u30c1\u30a7\u30c3\u30af\u3067\u304d\u307e\u3059\u3002(HDP-2.4.1.0\u306e\u5834\u5408\u3001\u4e88\u3081\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9(hive)\u3092\u4f5c\u3063\u3066\u304a\u304b\u306a\u3044\u3068\u63a5\u7d9a\u30c1\u30a7\u30c3\u30af\u306b\u5931\u6557\u3057\u307e\u3059\u3002\u3042\u3068\u3001\u63a5\u7d9a\u5148\u3082\u8981\u6ce8\u610f\u3002)ambari-server setup --jdbc-db=mysql --jdbc-driver=/usr/share/java/mysql-connector-java.jar\u3092Ambari Server\u4e0a\u3067\u5b9f\u884c\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nReview\u306e\u5f8c\u306bDeploy\u3067\u5404\u30ce\u30fc\u30c9\u3078\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u59cb\u307e\u308a\u307e\u3059\u3002\n\u5168\u30ce\u30fc\u30c9\u304cSuccess\u306b\u306a\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3068\u3063\u3066\u3082\u7c21\u5358\u306bHadoop Cluster\u3092\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002\n\u5f8c\u306fGUI\u304b\u3089\u30c1\u30af\u30c1\u30af\u8272\u3005\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002(\u30ce\u30fc\u30c9\u306e\u8ffd\u52a0\u306a\u3093\u304b\u3082GUI\u304b\u3089\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002)\n\nPresto\u3082Ambari\u3067\nambari-presto-service\u3053\u308c\u3067\u3001Ambari\u3067Presto\u3082Ambari\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\n\nsudo\u306e\u8a2d\u5b9a\u3067root\u306e\n\n# HORTONWORKS DATA PLATFORM\uff08HDP\u2122\uff09\u3092Apache Ambari\u3067\uff01\nHDP\u3092Ambari\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3059\u3002\nAmbari\u306fHadoop\u306e\u7ba1\u7406\u30c4\u30fc\u30eb\u3001HDP\u306fHORTONWORKS\u304c\u30ea\u30ea\u30fc\u30b9\u3059\u308bHadoop\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u4e00\u3064\u3067\u3059\u3002\n[\u524d\u56de](http://qiita.com/hkajikawa/items/a2f281dd6f9c5691024f)\u306f\u3001Apache\u304c\u30ea\u30ea\u30fc\u30b9\u3057\u3066\u3044\u308b\u7d20\u306eHadoop\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u306e\u3067\u3059\u304c\u3001\u6bd4\u3079\u308b\u3068100\u500d\u3050\u3089\u3044\u697d\u30c1\u30f3\u3067\u3059\u3002\n\n\u4eca\u56de\u3082\u3001\u307e\u3041\u3001\u52d5\u3044\u305f\uff01\u3050\u3089\u3044\u307e\u3067\u306a\u306e\u3067\u3001\u30e1\u30e2\u7a0b\u5ea6\u3067\u3059\u3002\n\n```:\u74b0\u5883\n CentOS : 7.2 + \u6700\u65b0\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n   JAVA : jdk-8u77-linux-x64\n  Cloud : IDCF Cloud\n Ambari : 2.2.1.1\n    HDP : 2.4\nMariaDB : mariadb-5.5.47-1.el7_2\n```\n\u203b Ambari\u306fPostgreSQL\u3092\u4f7f\u3046\u306e\u3067\u3059\u304c\u3001PostgreSQL\u305d\u3093\u306a\u306b\u77e5\u3089\u306a\u3044\u306e\u3067\u3001\u6163\u308c\u3066\u3044\u308bMySQL\u3067\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f[\u3053\u3061\u3089](http://docs.hortonworks.com/HDPDocuments/Ambari/Ambari-2.2.1.1/index.html)\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u304b\u306a\u308a\u4e01\u5be7\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u624b\u9806\u306b\u6cbf\u3063\u3066\u3044\u3051\u3070\u554f\u984c\u306a\u304f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u524d\u8ff0\u306eMySQL\u4f7f\u3046\u306a\u3069\u3082\u3001\u3061\u3083\u3093\u3068\u4e01\u5be7\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u306a\u306e\u3067\u3001\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3082\u3042\u307e\u308a\u610f\u5473\u304c\u306a\u304f\u3066\u3001\u30e1\u30e2\u7a0b\u5ea6\u3067\u3059\u3002\n\n# \u30db\u30b9\u30c8\u3068\u30c7\u30fc\u30e2\u30f3\n\u4eca\u56de\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u5272\u308a\u632f\u308d\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n* hdp1 : Ambari Server, MySQL Server, ZooKeeper Server, Metrics Collector\n* hdp2 : ZooKeeper Server, NameNode, WebHCat Server, Hive Metastore,  HiveServer2\n* hdp3 : ZooKeeper Server, SNameNode, ResourceManager, MapReduce Job History Server, App Timeline Server\n* hdp4 : DataNode, NodeManager\n* hdp5 : DataNode, NodeManager\n* hdp6 : DataNode, NodeManager\n* hdp7 : Client\n\n# OS\u306e\u6e96\u5099\n* CentOS 7.2 + yum update\u3057\u3066\u304a\u304f\u3002\n* JAVA8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u7f6e\u304f\u3002\u4eca\u56de\u306fOracle\u306eJDK\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002\n* locale\u3092\u82f1\u8a9e\u306b\u3057\u3066\u304a\u304f\u3002`localectl set-locale LANG=en_US.UTF-8`\n* Ambari Server\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30b5\u30fc\u30d0\u304b\u3089\u5404\u30b5\u30fc\u30d0\u3078ssh\u3067Password-less\u3067\u5165\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3002\n\n\u203b \u6700\u521dLocale\u304c\u65e5\u672c\u8a9e\u306e\u307e\u307e\u3067\u306f\u307e\u308a\u307e\u3057\u305f\u3002\u65e5\u672c\u8a9e\u306e\u307e\u307e\u3060\u3068Ambari-Agent\u304c\u8d77\u52d5\u3067\u304d\u307e\u305b\u3093\u3002\n\n# Ambari\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u767b\u9332\n```\n# wget -nv http://public-repo-1.hortonworks.com/ambari/centos7/2.x/updates/2.2.2.0/ambari.repo -O /etc/yum.repos.d/ambari.repo\n```\n\n2016/11/21\u306e\u6700\u65b0\u306f`2.4.1.0`\u3067\u3059\u3002(\u6b8b\u308a\u306e\u624b\u9806\u306f\u304b\u308f\u308a\u3042\u308a\u307e\u305b\u3093\u3002)\n\n```2.4.1.0\nwget -nv http://public-repo-1.hortonworks.com/ambari/centos7/2.x/updates/2.4.1.0/ambari.repo -O /etc/yum.repos.d/ambari.repo\n```\n\n# Ambari Server\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\n# yum install ambari-server\n```\n\u203b PostgreSQL\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u4f7f\u3044\u307e\u305b\u3093\u3002\n\n# MariaDB\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n## \u521d\u671f\u8a2d\u5b9a\n```\n# systemctl start mariadb\n# mysql_secure_installation\n/usr/bin/mysql_secure_installation: \u884c 379: find_mysql_client: \u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\n\nNOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB\n      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!\n\nIn order to log into MariaDB to secure it, we'll need the current\npassword for the root user.  If you've just installed MariaDB, and\nyou haven't set the root password yet, the password will be blank,\nso you should just press enter here.\n\nEnter current password for root (enter for none):\nOK, successfully used password, moving on...\n\nSetting the root password ensures that nobody can log into the MariaDB\nroot user without the proper authorisation.\n\nSet root password? [Y/n]\nNew password:\nRe-enter new password:\nPassword updated successfully!\nReloading privilege tables..\n ... Success!\n\n\nBy default, a MariaDB installation has an anonymous user, allowing anyone\nto log into MariaDB without having to have a user account created for\nthem.  This is intended only for testing, and to make the installation\ngo a bit smoother.  You should remove them before moving into a\nproduction environment.\n\nRemove anonymous users? [Y/n]\n ... Success!\n\nNormally, root should only be allowed to connect from 'localhost'.  This\nensures that someone cannot guess at the root password from the network.\n\nDisallow root login remotely? [Y/n]\n ... Success!\n\nBy default, MariaDB comes with a database named 'test' that anyone can\naccess.  This is also intended only for testing, and should be removed\nbefore moving into a production environment.\n\nRemove test database and access to it? [Y/n]\n - Dropping test database...\n ... Success!\n - Removing privileges on test database...\n ... Success!\n\nReloading the privilege tables will ensure that all changes made so far\nwill take effect immediately.\n\nReload privilege tables now? [Y/n]\n ... Success!\n\nCleaning up...\n\nAll done!  If you've completed all of the above steps, your MariaDB\ninstallation should now be secure.\n\nThanks for using MariaDB!\n```\n\n* root\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u4ee5\u5916\u306f\u5168\u90e8\u30c7\u30d5\u30a9\u30eb\u30c8\u3067OK\n* \u300c\u884c 379: find_mysql_client: \u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u300d\u3068\u304b\u51fa\u3066\u308b\u3051\u3069\u3001\u5927\u4e08\u592b\u307f\u305f\u3044\u306a\u306e\u3067\u7121\u8996\u3002\n\n## \u30e6\u30fc\u30b6\u4f5c\u6210\n```\n# mysql -u root -p\n\nCREATE USER '<AMBARIUSER>'@'%' IDENTIFIED BY '<AMBARIPASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<AMBARIUSER>'@'%';\nCREATE USER '<AMBARIUSER>'@'localhost' IDENTIFIED BY '<AMBARIPASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<AMBARIUSER>'@'localhost';\nCREATE USER '<AMBARIUSER>'@'<AMBARISERVERFQDN>' IDENTIFIED BY '<AMBARIPASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<AMBARIUSER>'@'<AMBARISERVERFQDN>';\nFLUSH PRIVILEGES;\n```\n\n```\n      <AMBARIUSER> : ambari\n  <AMBARIPASSWORD> : \u9069\u5f53\u306b\n<AMBARISERVERFQDN> : Ambari Server\u306eFQDN\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002IDCF Cloud\u3067\u3042\u308c\u3070\u3001hostname -f\u3067\u51fa\u3066\u308bFQDN\u3092\u6307\u5b9a\u3059\u308c\u3070OK\u3067\u3059\u3002ex) hdp1.csdidcfcloud.internal\n```\n\n## \u30b9\u30ad\u30fc\u30de\u30fc\u306e\u767b\u9332\n```\n# mysql -u root -p\n\nCREATE DATABASE <AMBARIDATABASE>;\nUSE <AMBARIDATABASE>;\nSOURCE /var/lib/ambari-server/resources/Ambari-DDL-MySQL-CREATE.sql;\n```\n\n```\n<AMBARIDATABASE> : ambari\n```\n\n## Hive\u7528\u306e\u30e6\u30fc\u30b6\u3082\u767b\u9332\nHive\u3082\u4e00\u7dd2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3064\u3001Ambari\u7528\u306eMySQL(MariaDB)\u3092\u305d\u306e\u307e\u307e\u4f7f\u304a\u3046\u3068\u601d\u3046\u306e\u3067\u3001Hive\u7528\u306e\u30e6\u30fc\u30b6\u3082\u4f5c\u3063\u3066\u304a\u304f\u3002\n\n```\nmysql -u root -p\n\nCREATE USER '<HIVEUSER>'@'localhost' IDENTIFIED BY '<HIVEPASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<HIVEUSER>'@'localhost';\nCREATE USER '<HIVEUSER>'@'%' IDENTIFIED BY '<HIVEPASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<HIVEUSER>'@'%';\nCREATE USER '<HIVEUSER>'@'<HIVEMETASTOREFQDN>'IDENTIFIED BY '<HIVEPASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<HIVEUSER>'@'<HIVEMETASTOREFQDN>';\nFLUSH PRIVILEGES;\n```\n\n```\n         <HIVEUSER> : hive\n     <HIVEPASSWORD> : \u9069\u5f53\u306b\u3002\n<HIVEMETASTOREFQDN> : Hive Metastore Server\u306eFQDN\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002IDCF Cloud\u3067\u3042\u308c\u3070\u3001hostname -f\u3067\u51fa\u3066\u308bFQDN\u3092\u6307\u5b9a\u3059\u308c\u3070OK\u3067\u3059\u3002ex) hdp2.csdidcfcloud.internal\n```\n\nAmbari\u3082Hive\u3082\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u901a\u308a\u3067\u3059\u3051\u3069\u3001`%`\u304b\u3089\u53d7\u3051\u5165\u308c\u3060\u304b\u3089\u3001localhost\u3068\u304bFQDN\u3068\u304b\u610f\u5473\u306a\u3044\u3093\u3058\u3083\u3002\u3002\u3002\n\n# MySQL Connector/J\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\n# yum install mysql-connector-java\n```\n\n# Ambari\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n```\n# ambari-server setup\nUsing python  /usr/bin/python\nSetup ambari-server\nChecking SELinux...\nSELinux status is 'disabled'\nCustomize user account for ambari-server daemon [y/n] (n)?\nAdjusting ambari-server permissions and ownership...\nChecking firewall status...\nRedirecting to /bin/systemctl status  iptables.service\n\nChecking JDK...\n[1] Oracle JDK 1.8 + Java Cryptography Extension (JCE) Policy Files 8\n[2] Oracle JDK 1.7 + Java Cryptography Extension (JCE) Policy Files 7\n[3] Custom JDK\n==============================================================================\nEnter choice (1): 1\nTo download the Oracle JDK and the Java Cryptography Extension (JCE) Policy Files you must accept the license terms found at http://www.oracle.com/technetwork/java/javase/terms/license/index.html and not accepting will cancel the Ambari Server setup and you must install the JDK and JCE files manually.\nDo you accept the Oracle Binary Code License Agreement [y/n] (y)?\nDownloading JDK from http://public-repo-1.hortonworks.com/ARTIFACTS/jdk-8u60-linux-x64.tar.gz to /var/lib/ambari-server/resources/jdk-8u60-linux-x64.tar.gz\njdk-8u60-linux-x64.tar.gz... 100% (172.8 MB of 172.8 MB)\nSuccessfully downloaded JDK distribution to /var/lib/ambari-server/resources/jdk-8u60-linux-x64.tar.gz\nInstalling JDK to /usr/jdk64/\nSuccessfully installed JDK to /usr/jdk64/\nDownloading JCE Policy archive from http://public-repo-1.hortonworks.com/ARTIFACTS/jce_policy-8.zip to /var/lib/ambari-server/resources/jce_policy-8.zip\n\nSuccessfully downloaded JCE Policy archive to /var/lib/ambari-server/resources/jce_policy-8.zip\nInstalling JCE policy...\nCompleting setup...\nConfiguring database...\nEnter advanced database configuration [y/n] (n)? y\nConfiguring database...\n==============================================================================\nChoose one of the following options:\n[1] - PostgreSQL (Embedded)\n[2] - Oracle\n[3] - MySQL\n[4] - PostgreSQL\n[5] - Microsoft SQL Server (Tech Preview)\n[6] - SQL Anywhere\n==============================================================================\nEnter choice (1): 3\nHostname (localhost):\nPort (3306):\nDatabase name (ambari):\nUsername (ambari):\nEnter Database Password (bigdata):\nRe-enter password:\nConfiguring ambari database...\nWARNING: Before starting Ambari Server, you must run the following DDL against the database to create the schema: /var/lib/ambari-server/resources/Ambari-DDL-MySQL-CREATE.sql\nProceed with configuring remote database connection properties [y/n] (y)?\nExtracting system views...\nambari-admin-2.2.1.1.70.jar\n......\nAdjusting ambari-server permissions and ownership...\nAmbari Server 'setup' completed successfully.\n```\n\n\u6ce8\u610f\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u306f\u3001`Enter advanced database configuration [y/n] (n)?`\u3067`y`\u3068\u3057\u3066\u3001MySQL\u3092\u30c1\u30e7\u30a4\u30b9\u3059\u308b\u3068\u3053\u308d\u3067\u3059\u3002\u5f8c\u306f\u307b\u307c(\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u304bDB\u540d\u3068\u304b\u306f\u4f5c\u3063\u305f\u7269\u306b\u5408\u305b\u308b\u3002)\u30c7\u30d5\u30a9\u30eb\u30c8\u3067OK\u3067\u3059\u3002\n\n# Ambari Server\u306e\u8d77\u52d5\n```\n# ambari-server start\n\nUsing python  /usr/bin/python\nStarting ambari-server\nAmbari Server running with administrator privileges.\nOrganizing resource files at /var/lib/ambari-server/resources...\nServer PID at: /var/run/ambari-server/ambari-server.pid\nServer out at: /var/log/ambari-server/ambari-server.out\nServer log at: /var/log/ambari-server/ambari-server.log\nWaiting for server start....................\nAmbari Server 'start' completed successfully.\n```\n\n# Ambari\u3078\u30ed\u30b0\u30a4\u30f3\n`http://[your.ambari.server>]:8080`\n\u521d\u671fUsername/Password\u306fadmin/admin\u3067\u3059\u3002\n\n\u203b IDCF Cloud\u306e\u5834\u5408\u3001Public IP\u30a2\u30c9\u30ec\u30b9\u3068Ambari Server\u306ePrivate\u30a2\u30c9\u30ec\u30b9\u3067\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9(\u3082\u3057\u304f\u306f\u30b9\u30bf\u30c6\u30a3\u30c3\u30afNAT)\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u30018080\u306b\u5bfe\u3057\u3066\u30d5\u30a1\u30a4\u30a2\u30fc\u30d5\u30a9\u30fc\u30eb\u306e\u8a31\u53ef\u306e\u8a2d\u5b9a\u3082\u5fc5\u8981\u3067\u3059\u3002\n\n# Wizard\u3067Cluster\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n1. Create a Cluster\u306e**Launch Install Wizard**\u3092\u30af\u30ea\u30c3\u30af\u3002\n2. Name your cluster\u3067**\u9069\u5f53\u306aCluster\u540d**\u3092\u6307\u5b9a\u3002\n3. Select Stack\u3067**HDP 2.4**\u3092\u6307\u5b9a\u3002\n4. Target Hosts\u3078hdp1\u304b\u3089hdp7\u307e\u3067\u306e**FQDN\u3092\u6539\u884c\u533a\u5207\u308a**\u3067\u6307\u5b9a\u3002\n5. Provide your SSH Private Key to automatically register hosts\u3067Ambari Server\u304b\u3089\u5404\u30b5\u30fc\u30d0\u3078Password-less\u3067ssh\u3059\u308b\u70ba\u306e**Private Key\u3092\u6307\u5b9a**\u3002\n6. \u6307\u5b9a\u3057\u305f\u30db\u30b9\u30c8\u304c\u5168\u53f0Success\u306b\u306a\u308b\u306f\u305a\u3002Failed\u306b\u306a\u308b\u5834\u5408\u306f\u3001local\u306e\u8a2d\u5b9a\u304bPassword-less\u3067ssh\u3067\u304d\u306a\u3044\u306a\u3069\u304c\u8003\u3048\u3089\u308c\u308b\u3002\u300cSome warnings were encountered while performing checks against the 9 registered hosts above Click here to see the warnings.\u300d\u3067Warning\u304c\u78ba\u8a8d\u3067\u304d\u308b\u306e\u3067\u3001\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\u304a\u305d\u3089\u304fntpd\u304c\u8d77\u52d5\u3057\u3066\u306a\u3044\u3068\u8b66\u544a\u304c\u51fa\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002(CentOS7\u306fntpd\u3067\u306f\u306a\u304fchrony\u306a\u306e\u3067\u3002)\u8b66\u544a\u306f\u89e3\u6d88\u3057\u3066\u7f6e\u3044\u305f\u65b9\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n7. Choose Services\u3067\u306f\u3001\u4eca\u56de\u306f**HDFS, YARN+MapReduce2, Tez, Hive, Pig, ZooKeeper, Ambari Metrics**\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n8. Assign Masters\u3067\u3001\u3069\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u3069\u306e\u30b5\u30fc\u30d0\u3078\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u4eca\u56de\u306f\u3001\u524d\u8ff0\u306e\u901a\u308a\u3067\u5272\u5f53\u307e\u3059\u3002\n9. Assign Slaves and Clients\u3067Client\u306f\u5168\u53f0\u3001hdp4,hdp5,hdp6\u3078**DataNode,NFSGateway,NodeManager**\u3092\u5272\u5f53\u307e\u3059\u3002\n10. Customize Services\u3067\u306fHive\u304c\u8d64\u304f\u306a\u3063\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u3001Hive->Advanced\u306eHive Database\u3067**Existing MySQL Database\u3092\u9078\u629e**\u3001\u307e\u305f**Database Password**\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002`Test Connection`\u3067\u63a5\u7d9a\u30c1\u30a7\u30c3\u30af\u3067\u304d\u307e\u3059\u3002(HDP-2.4.1.0\u306e\u5834\u5408\u3001\u4e88\u3081\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9(hive)\u3092\u4f5c\u3063\u3066\u304a\u304b\u306a\u3044\u3068\u63a5\u7d9a\u30c1\u30a7\u30c3\u30af\u306b\u5931\u6557\u3057\u307e\u3059\u3002\u3042\u3068\u3001\u63a5\u7d9a\u5148\u3082\u8981\u6ce8\u610f\u3002)`ambari-server setup --jdbc-db=mysql --jdbc-driver=/usr/share/java/mysql-connector-java.jar`\u3092Ambari Server\u4e0a\u3067\u5b9f\u884c\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n11. Review\u306e\u5f8c\u306bDeploy\u3067\u5404\u30ce\u30fc\u30c9\u3078\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u59cb\u307e\u308a\u307e\u3059\u3002\n12. \u5168\u30ce\u30fc\u30c9\u304cSuccess\u306b\u306a\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3068\u3063\u3066\u3082\u7c21\u5358\u306bHadoop Cluster\u3092\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002\n\u5f8c\u306fGUI\u304b\u3089\u30c1\u30af\u30c1\u30af\u8272\u3005\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002(\u30ce\u30fc\u30c9\u306e\u8ffd\u52a0\u306a\u3093\u304b\u3082GUI\u304b\u3089\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002)\n\n# Presto\u3082Ambari\u3067\n[ambari-presto-service](https://github.com/prestodb/ambari-presto-service)\u3053\u308c\u3067\u3001Ambari\u3067Presto\u3082Ambari\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\n\n* sudo\u306e\u8a2d\u5b9a\u3067root\u306e\n\n"}