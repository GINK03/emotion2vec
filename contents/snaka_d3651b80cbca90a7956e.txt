{"context": " More than 1 year has passed since last update.\u51fa\u5c55\uff1a \u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0:Ruby\u30a8\u30c7\u30a3\u30b7\u30e7\u30f3 \u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u305f\u30b3\u30fc\u30c9\u3092\u5199\u7d4c\uff08\u51fa\u529b\u3055\u308c\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306a\u3069\u306f\u9069\u5f53\u306b\u5909\u66f4\u3057\u3066\u3044\u308b\uff09\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b Module \u30af\u30e9\u30b9\u306b deprecate \u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n\nmodule_ext.rb\nclass Module\n  def deprecate(method_name)\n    module_eval <<-END\n      alias_method :deprecated_#{method_name}, :#{method_name}\n      def #{method_name}(*args, &block)\n        $stderr.puts \"Warning: #{self}##{method_name} \u30e1\u30bd\u30c3\u30c9\u306f\u5c06\u6765\u7684\u306b\u5ec3\u6b62\u3055\u308c\u308b\u4e88\u5b9a\u306e\u305f\u3081\u975e\u63a8\u5968\u3067\u3059!!!\"\n        deprecated_#{method_name}(*args, &block)\n      end\n    END\n  end\nend\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u975e\u63a8\u5968(deprecate) \u3068\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u540d\u3092\u30b7\u30f3\u30dc\u30eb\u3067\u6e21\u3059\u3002\n\nhoge.rb\nclass Hoge\n  def fuga\n    puts \"\u3084\u307b\u30fc!!!\"\n  end\n\n  deprecate :fuga\nend\n\n\n\u5b9f\u884c\u7d50\u679c\uff1a\nhoge = Hoge.new\nhoge.fuga\n\nWarning: Hoge#fuga \u30e1\u30bd\u30c3\u30c9\u306f\u5c06\u6765\u7684\u306b\u5ec3\u6b62\u3055\u308c\u308b\u4e88\u5b9a\u306e\u305f\u3081\u975e\u63a8\u5968\u3067\u3059!!!\n\u3084\u307b\u30fc!!\n\n\u51fa\u5c55\uff1a [\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0:Ruby\u30a8\u30c7\u30a3\u30b7\u30e7\u30f3](http://www.amazon.co.jp/%E3%83%AA%E3%83%95%E3%82%A1%E3%82%AF%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0-Ruby%E3%82%A8%E3%83%87%E3%82%A3%E3%82%B7%E3%83%A7%E3%83%B3-Jay-Fields/dp/4048678841/ref=sr_1_1?ie=UTF8&qid=1372508059&sr=8-1&keywords=%E3%83%AA%E3%83%95%E3%82%A1%E3%82%AF%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0%3Aruby) \u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u305f\u30b3\u30fc\u30c9\u3092\u5199\u7d4c\uff08\u51fa\u529b\u3055\u308c\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306a\u3069\u306f\u9069\u5f53\u306b\u5909\u66f4\u3057\u3066\u3044\u308b\uff09\u3002\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b Module \u30af\u30e9\u30b9\u306b deprecate \u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n\n```ruby:module_ext.rb\nclass Module\n  def deprecate(method_name)\n    module_eval <<-END\n      alias_method :deprecated_#{method_name}, :#{method_name}\n      def #{method_name}(*args, &block)\n        $stderr.puts \"Warning: #{self}##{method_name} \u30e1\u30bd\u30c3\u30c9\u306f\u5c06\u6765\u7684\u306b\u5ec3\u6b62\u3055\u308c\u308b\u4e88\u5b9a\u306e\u305f\u3081\u975e\u63a8\u5968\u3067\u3059!!!\"\n        deprecated_#{method_name}(*args, &block)\n      end\n    END\n  end\nend\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u975e\u63a8\u5968(deprecate) \u3068\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u540d\u3092\u30b7\u30f3\u30dc\u30eb\u3067\u6e21\u3059\u3002\n\n```ruby:hoge.rb\nclass Hoge\n  def fuga\n    puts \"\u3084\u307b\u30fc!!!\"\n  end\n\n  deprecate :fuga\nend\n```\n\n\u5b9f\u884c\u7d50\u679c\uff1a\n\n<pre>hoge = Hoge.new\nhoge.fuga\n\nWarning: Hoge#fuga \u30e1\u30bd\u30c3\u30c9\u306f\u5c06\u6765\u7684\u306b\u5ec3\u6b62\u3055\u308c\u308b\u4e88\u5b9a\u306e\u305f\u3081\u975e\u63a8\u5968\u3067\u3059!!!\n\u3084\u307b\u30fc!!</pre>\n\n", "tags": ["tips", "Ruby"]}