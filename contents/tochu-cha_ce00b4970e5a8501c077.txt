{"context": "P114\u306e[5.3.6]\u306e\u300c\u30b2\u30fc\u30e0\u6728\u300d\u306e\u89e3\u7b54\u306fP123\u3068P124\u306b\u4e8c\u901a\u308a\u3042\u308b\u3002\n\u524d\u8005\n(define (nim n)\n  (case n\n    ((0) (list 0))\n    ((1) (list 1 (nim 0)))\n    ((2) (list 2 (nim 1) (nim 0)))\n    (else (list n\n        (nim (- n 1))\n        (nim (- n 2))\n        (nim (- n 3))\n        )\n      )\n    )\n)\n\n\uff08\u300cScheme\u5165\u9580\u300dP123\u3088\u308a\u5f15\u7528\uff09\n\u3067\u306f\u305f\u3068\u3048\u3070\n(nim 4)\n\n\u3092\u8a55\u4fa1\u3059\u308b\u3068\ngosh> (4 (3 (2 (1 (0)) (0)) (1 (0)) (0)) (2 (1 (0)) (0)) (1 (0)))\n\uff0a\u66f8\u304d\u76f4\u3059\u3068\n\n(4 (3 (2 (1 (0)) \n     (0))\n      (1 (0))\n      (0))\n   (2 (1 (0))\n      (0))\n   (1 (0)))\n\uff0a\u3053\u3046\u3002\n\n\u8fd4\u3063\u3066\u304f\u308b\u306e\u3060\u304c\nP124\u306e\u3001\u3088\u308a\u52b9\u7387\u7684\u306a\u30b3\u30fc\u30c9\n(define (nim2 n)\n  (case n\n    ((0) (list 0))\n    ((1) (list 1 (nim2 0)))\n    ((2) (list 2 (nim2 1) (nim2 0)))\n    (else (let ((x (nim2 (- n 1))))\n        (list n\n          x\n          (cadr x)\n          (caddr x))\n        )\n      )\n    )\n)\n\n\u306b\u3059\u308b\u3068\uff08\u305f\u3060\u3057nim\u3092nim2\u306b\u66f8\u304d\u63db\u3048\u3066\u5f15\u7528\uff09\ngosh> (4 (3 #0=(2 #1=(1 (0)) #2=(0)) #1# #2#) #0# #1#)\n\u3068\u8fd4\u3063\u3066\u304f\u308b\u3002\n\u524d\u56de\u306e\uff081.5\uff09\u3067\u8a00\u53ca\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u3001Gauche\u3067\u306f\u540c\u4e00\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3044\u307e\u308f\u3059\uff08\u8a00\u8449\u60aa\u3044\u306a\uff09\u5834\u5408\u306f\n#\n\u3092\u4f7f\u3063\u3066\u5197\u9577\u3092\u907f\u3051\u308b\u306e\u3067\u3001\u4e0a\u8ff0\u306e\u30ea\u30b9\u30c8\u306f\ngosh> (4 (3 (2 (1 (0)) (0)) (1 (0)) (0)) (2 (1 (0)) (0)) (1 (0)))\n\u3068\u540c\u4e00\u3067\u3042\u308b\u3002\n\u8a66\u3057\u306b\n(define y\n'(3 (2 (1 (0)) \n     (0))\n      (1 (0))\n      (0))\n)\n\n\u3068\u30ea\u30b9\u30c8\u3092\u4f5c\u3063\u305f\u5f8c\uff08\u30ea\u30b9\u30c8\u3092\u4f5c\u308b\u3068\u3044\u3046\u304b\u30ea\u30b9\u30c8\u3092\u30af\u30aa\u30fc\u30c8\u3057\u305f\u5f8c\uff09\n(list (+ (car y) 1)\n      y\n      (cadr y)\n      (caddr y)\n)\n\n\u3068\u3059\u308b\u3068\u540c\u3058\u304f\ngosh> (4 (3 #0=(2 (1 (0)) (0)) #1=(1 (0)) (0)) #0# #1#)\n\u3068\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\n\u56f3\u3067\u8868\u3059\u3068\n\n\u306a\u306e\u3067\u3001\u7d50\u679c\n\n\u3068\u540c\u3058\u3053\u3068\u306b\u306a\u308b\u308f\u3051\u3067\u3059\u306a\u3002\nPS.\u30dc\u30b1\u3068\u30cd\u30bf\u304c\u8db3\u308a\u306a\u3044\u306e\u3067\u5f8c\u3067\u7de8\u96c6\u3057\u305f\u3044\u3067\u3059\u3002\nP114\u306e[5.3.6]\u306e\u300c\u30b2\u30fc\u30e0\u6728\u300d\u306e\u89e3\u7b54\u306fP123\u3068P124\u306b\u4e8c\u901a\u308a\u3042\u308b\u3002\n\u524d\u8005\n\n```scm\n(define (nim n)\n  (case n\n    ((0) (list 0))\n    ((1) (list 1 (nim 0)))\n    ((2) (list 2 (nim 1) (nim 0)))\n    (else (list n\n\t\t(nim (- n 1))\n\t\t(nim (- n 2))\n\t\t(nim (- n 3))\n\t\t)\n\t  )\n    )\n)\n```\n\uff08\u300cScheme\u5165\u9580\u300dP123\u3088\u308a\u5f15\u7528\uff09\n\u3067\u306f\u305f\u3068\u3048\u3070\n\n```scm\n(nim 4)\n```\n\u3092\u8a55\u4fa1\u3059\u308b\u3068\ngosh> (4 (3 (2 (1 (0)) (0)) (1 (0)) (0)) (2 (1 (0)) (0)) (1 (0)))\n\n\n```scm\n\uff0a\u66f8\u304d\u76f4\u3059\u3068\n\n(4 (3 (2 (1 (0)) \n\t (0))\n      (1 (0))\n      (0))\n   (2 (1 (0))\n      (0))\n   (1 (0)))\n\uff0a\u3053\u3046\u3002\n```\n\u8fd4\u3063\u3066\u304f\u308b\u306e\u3060\u304c\n\nP124\u306e\u3001\u3088\u308a\u52b9\u7387\u7684\u306a\u30b3\u30fc\u30c9\n\n```scm\n(define (nim2 n)\n  (case n\n    ((0) (list 0))\n    ((1) (list 1 (nim2 0)))\n    ((2) (list 2 (nim2 1) (nim2 0)))\n    (else (let ((x (nim2 (- n 1))))\n\t    (list n\n\t\t  x\n\t\t  (cadr x)\n\t\t  (caddr x))\n\t    )\n\t  )\n    )\n)\n```\n\u306b\u3059\u308b\u3068\uff08\u305f\u3060\u3057nim\u3092nim2\u306b\u66f8\u304d\u63db\u3048\u3066\u5f15\u7528\uff09\n\ngosh> (4 (3 #0=(2 #1=(1 (0)) #2=(0)) #1# #2#) #0# #1#)\n\n\u3068\u8fd4\u3063\u3066\u304f\u308b\u3002\n\n[\u524d\u56de\u306e\uff081.5\uff09](http://qiita.com/tochu-cha/items/40ee3eb8f8924ccdbcd9)\u3067\u8a00\u53ca\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u3001Gauche\u3067\u306f\u540c\u4e00\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3044\u307e\u308f\u3059\uff08\u8a00\u8449\u60aa\u3044\u306a\uff09\u5834\u5408\u306f\n\\#\n\u3092\u4f7f\u3063\u3066\u5197\u9577\u3092\u907f\u3051\u308b\u306e\u3067\u3001\u4e0a\u8ff0\u306e\u30ea\u30b9\u30c8\u306f\n\ngosh> (4 (3 (2 (1 (0)) (0)) (1 (0)) (0)) (2 (1 (0)) (0)) (1 (0)))\n\n\u3068\u540c\u4e00\u3067\u3042\u308b\u3002\n\n\u8a66\u3057\u306b\n\n```scm\n(define y\n'(3 (2 (1 (0)) \n\t (0))\n      (1 (0))\n      (0))\n)\n```\n\u3068\u30ea\u30b9\u30c8\u3092\u4f5c\u3063\u305f\u5f8c\uff08\u30ea\u30b9\u30c8\u3092\u4f5c\u308b\u3068\u3044\u3046\u304b\u30ea\u30b9\u30c8\u3092\u30af\u30aa\u30fc\u30c8\u3057\u305f\u5f8c\uff09\n\n```scm\n(list (+ (car y) 1)\n      y\n      (cadr y)\n      (caddr y)\n)\n```\n\n\u3068\u3059\u308b\u3068\u540c\u3058\u304f\ngosh> (4 (3 #0=(2 (1 (0)) (0)) #1=(1 (0)) (0)) #0# #1#)\n\u3068\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\n\n\u56f3\u3067\u8868\u3059\u3068\n\n![nim-3.png](https://qiita-image-store.s3.amazonaws.com/0/113031/eae83155-d24f-cab8-0429-2ee6a81c63b9.png)\n\n\u306a\u306e\u3067\u3001\u7d50\u679c\n\n![nim-1.png](https://qiita-image-store.s3.amazonaws.com/0/113031/2ea4242f-c616-b632-aec9-cf90dc1a7793.png)\n\n\u3068\u540c\u3058\u3053\u3068\u306b\u306a\u308b\u308f\u3051\u3067\u3059\u306a\u3002\n\nPS.\u30dc\u30b1\u3068\u30cd\u30bf\u304c\u8db3\u308a\u306a\u3044\u306e\u3067\u5f8c\u3067\u7de8\u96c6\u3057\u305f\u3044\u3067\u3059\u3002\n", "tags": ["lisp", "Scheme", "Gauche"]}