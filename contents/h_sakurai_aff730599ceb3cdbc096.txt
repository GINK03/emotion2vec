{"tags": ["Stream"], "context": " More than 1 year has passed since last update.stream\u306e\u6587\u6cd5\u3092BNF\u3092\u62e1\u5f35\u3057\u305fEBNF\u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\uff08\u66f8\u304d\u304b\u3051)\n\u5b57\u53e5\u89e3\u6790\u306f lex.l \u3092\u3001\u69cb\u6587\u89e3\u6790\u306f  parser.y \u3092\u53c2\u8003\u306b\u3057\u3066\u3044\u307e\u3059\u3002\nsymbol ::= expression \u306e\u5f62\u5f0f\u3067\u6587\u6cd5\u8981\u7d20\u3092\u8868\u3057\u307e\u3059\u3002( ... ) \u306f\u30b0\u30eb\u30fc\u30d7\u3092 (^ ... ) \u306f\u5426\u5b9a\u3001|\u306f\u9078\u629e\u3001{ ... } \u306f0\u56de\u4ee5\u4e0a\u306e\u7e70\u308a\u8fd4\u3057\u3001{^ ... } \u304c0\u56de\u4ee5\u4e0a\u306e\u7e70\u308a\u8fd4\u3057\u306e\u5426\u5b9a\u3001+ \u306f1\u56de\u4ee5\u4e0a\u306e\u7e70\u308a\u8fd4\u3057\u3092\u8868\u3057\u307e\u3059\u3002\n\n\u5b57\u53e5\u89e3\u6790\nTRAIL ::= {('\\t' | ' ' | '\\n') | '#' {^ '\\n' } '\\n' }\n\nop_plus  ::= \"+\" { TRAIL }\nop_minus ::= \"-\" { TRAIL }\nop_mult  ::= \"*\" { TRAIL }\nop_div   ::= \"/\" { TRAIL }\nop_mod   ::= \"%\" { TRAIL }\nop_eq    ::= \"==\"{ TRAIL }\nop_neq   ::= \"!=\"{ TRAIL }\nop_lt    ::= \"<\" { TRAIL }\nop_le    ::= \"<=\"{ TRAIL }\nop_gt    ::= \">\" { TRAIL }\nop_ge    ::= \">=\"{ TRAIL }\nop_and   ::= \"&&\"{ TRAIL }\nop_or    ::= \"||\"{ TRAIL }\nop_bar   ::= \"|\" { TRAIL }\nop_amper ::= \"&\" { TRAIL }\nop_lasgn ::= \"<-\"{ TRAIL }\nop_rasgn ::= \"->\"{ TRAIL }\n'='      ::= \"=\" { TRAIL }\nop_colon2::= \"::\"{ TRAIL }\n\nkeyword_if     ::= \"if\"     { TRAIL }\nkeyword_else   ::= { TRAIL } \"else\" { TRAIL }\nkeyword_break  ::= \"break\"  { TRAIL }\nkeyword_emit   ::= \"emit\"   { TRAIL }\nkeyword_return ::= \"return\" { TRAIL }\nkeyword_nil    ::= \"nil\"    { TRAIL }\nkeyword_true   ::= \"true\"   { TRAIL }\nkeyword_false  ::= \"false\"  { TRAIL }\n\nidentifier     ::= ('A' ... 'Z' | 'a' ... 'z' | '_') { ('A' ... 'Z' | 'a' ... 'z' | '0' ... '9' | '_' }\n\n'.'            ::= { TRAIL } '.' { TRAIL }\n\n'(' ::= '(' { TRAIL }\n'[' ::= '[' { TRAIL }\n'{' ::= '{' { TRAIL }\n',' ::= ',' { TRAIL }\n';' ::= ';' { TRAIL }\n':' ::= ':' { TRAIL }\n')' ::= ')' { TRAIL }\n']' ::= ']' { TRAIL }\n'}' ::= '}' { TRAIL }\n\n'\\n' ::= '\\n' | '#' {^ '\\n' } '\\n'\n\nlit_number ::= ('1' ... '9' {'0' ... '9'} | '0')[ '.' {'0' ... '9'} ]\n\nlit_string ::= '\"' { (^ '\\\"') | '\\\\' _ } '\"'\n\nwhite_space ::= ' ' | '\\t' \n\n\n\u69cb\u6587\u89e3\u6790\n\n\u30ad\u30fc\u30ef\u30fc\u30c9\nif else do break emit return nil true false\n\n\n\u6f14\u7b97\u5b50\u512a\u5148\u9806\u4f4d\n\n\n\n\u512a\u5148\u9806\u4f4d\n\u7d50\u5408\u6027\n\u6f14\u7b97\u5b50\n\n\n\n\n1\n\u5de6\u7d50\u5408\n\uff12\u9805\u6f14\u7b97\u5b50 '&'\n\n\n2\n\u5de6\u7d50\u5408\n\uff12\u9805\u6f14\u7b97\u5b50 '\\\n\n\n3\n\u5de6\u7d50\u5408\n\uff12\u9805\u6f14\u7b97\u5b50 '\\\n\n\n4\n\u5de6\u7d50\u5408\n\uff12\u9805\u6f14\u7b97\u5b50 '&&'\n\n\n5\n\u306a\u3057\n\uff12\u9805\u6f14\u7b97\u5b50 '==' '!='\n\n\n6\n\u5de6\u7d50\u5408\n\uff12\u9805\u6f14\u7b97\u5b50 '<' '<=' '>' '>='\n\n\n7\n\u5de6\u7d50\u5408\n\uff12\u9805\u6f14\u7b97\u5b50 '+' '-'\n\n\n8\n\u5de6\u7d50\u5408\n\uff12\u9805\u6f14\u7b97\u5b50 '*' '/' '%'\n\n\n9\n\u53f3\u7d50\u5408\n\u5358\u9805\u6f14\u7b97\u5b50 '+' '-' '!' '~'\n\n\n\n\n\u6587\u6cd5\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\nprogram       ::= compstmt\ncompstmt      ::= stmts { ';' | '\\n' }\nstmts         ::= [ stmt { ( ';' | '\\n' )+ stmt } ]\n\n\u30d7\u30ed\u30b0\u30e9\u30e0 program \u306f \u5408\u6210\u6587 compstmt \u3067\u3059\u3002\n\u5408\u6210\u6587 compstmt \u306f\u30b3\u30f3\u30dd\u30b8\u30c3\u30c8\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8(\u5408\u6210\u6587)\u306e\u7565\u3067\u3059\u3002\n\u6587\u306e\u5217 stmts \u306f ';' \u307e\u305f\u306f '\\n' \u306e\u5217\u306b\u3088\u3063\u3066\u533a\u5207\u3089\u308c\u305f0\u500b\u4ee5\u4e0a\u306e \u6587 stmt \u306e\u5217\u3067\u3059\u3002\n\n\u6587\nstmt          ::= var '=' expr\n                | keyword_emit [args]\n                | keyword_return [args]\n                | keyword_break\n                | expr\n\nstmt \u306f\u5909\u6570\u306e\u8a2d\u5b9a\u3001 emit \u6587\u3001 return \u6587\u3001 break \u6587\u3001\u5f0f\u3092\u8a18\u8ff0\u51fa\u6765\u307e\u3059\u3002\nvar           ::= identifier\n\nvar \u306f\u5909\u6570\u3092\u8868\u3059\u8b58\u5225\u5b50 (identifier) \u3067\u3059\u3002\n\n\u5f0f\nexpr          ::= expr op_plus expr\n                | expr op_minus expr\n                | expr op_mult expr\n                | expr op_div expr\n                | expr op_mod expr\n                | expr op_bar expr\n                | expr op_amper expr\n                | expr op_gt expr\n                | expr op_ge expr\n                | expr op_lt expr\n                | expr op_le expr\n                | expr op_eq expr\n                | expr op_neq expr\n                | op_plus expr                 %prec '!'\n                | op_minus expr                %prec '!'\n                | '!' expr\n                | '~' expr\n                | expr op_and expr\n                | expr op_or expr\n                | primary\n\n\u5f0f expr \u306f \uff12\u9805\u6f14\u7b97\u5b50\u306e + - * / % | & > >= < <= == != && || \u3068 \u5358\u9805\u6f14\u7b97\u5b50\u306e + - ! ~ \u3092\u7528\u3044\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002\n\n\u30d7\u30e9\u30a4\u30de\u30ea\u5f0f\nprimary       ::= primary0\n                | block\n                | identifier block\n                | identifier '(' [args] ')' [block]\n                | primary '.' identifier ['(' [args] ')'] [block]\n\nblock         ::= '{' [bparam] compstmt '}'\nbparam        ::= [f_args] op_rasgn\nf_args        ::= [f_args ','] identifier\n\n\u30d7\u30e9\u30a4\u30de\u30ea\u5f0f\u306f\u30d7\u30e9\u30a4\u30de\u30ea0\u5f0f\u4ee5\u5916\u306b\u95a2\u6570\u547c\u3073\u51fa\u3057\u3084\u30e1\u30f3\u30d0\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3001\u30d6\u30ed\u30c3\u30af\u3092\u6e21\u3059\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002\n\n\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u5f0f\ncondition     ::= condition op_plus condition\n                | condition op_minus condition\n                | condition op_mult condition\n                | condition op_div condition\n                | condition op_mod condition\n                | condition op_bar condition\n                | condition op_amper condition\n                | condition op_gt condition\n                | condition op_ge condition\n                | condition op_lt condition\n                | condition op_le condition\n                | condition op_eq condition\n                | condition op_neq condition\n                | op_plus condition            %prec '!'\n                | op_minus condition           %prec '!'\n                | '!' condition\n                | '~' condition\n                | condition op_and condition\n                | condition op_or condition\n                | cond\n\ncond          ::= primary0\n                | identifier '(' [args] ')'\n                | cond '.' identifier [ '(' [args] ')' ]\n\ncondition \u306f if else \u5f0f\u5185\u306e\u6761\u4ef6\u3092\u8868\u3059\u5f0f\u3067\u3059\u3002\n\uff12\u9805\u6f14\u7b97\u5b50\u306e + - * / % | & > >= < <= == != && || \u3068 \u5358\u9805\u6f14\u7b97\u5b50\u306e + - ! ~ \u3092\u7528\u3044\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002\ncond \u306f condition \u5185\u306e primary \u306b\u5bfe\u5fdc\u3059\u308b\u7269\u3067\u3059\u304c\u30d6\u30ed\u30c3\u30af\u3092\u4f7f\u3046\u4e8b\u304c\u51fa\u6765\u307e\u305b\u3093\u3002\n\n\u30d7\u30e9\u30a4\u30de\u30ea0\u5f0f primary0\nprimary0      ::= lit_number\n                | lit_string\n                | identifier\n                | '(' expr ')'\n                | '[' [args] ']'\n                | '[' map_args ']'\n                | '[' ':' ']'\n                | keyword_if condition '{' compstmt '}' opt_else\n                | keyword_nil\n                | keyword_true\n                | keyword_false\n\n\u30d7\u30e9\u30a4\u30de\u30ea0\u5f0f (primary0) \u306f\u6570\u5024\u30ea\u30c6\u30e9\u30eb\u3084\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\u3001\u8b58\u5225\u5b50\u3001\u62ec\u5f27 ( ) \u3067\u62ec\u3089\u308c\u305f\u5f0f\u3001[ ] \u3067\u62ec\u3089\u308c\u305f\u914d\u5217\u3068\u30de\u30c3\u30d7\u3001 if \u5f0f\u3001 nil\u3001 true\u3001 false \u3092\u6307\u5b9a\u51fa\u6765\u307e\u3059\u3002\nargs          ::= [args ','] expr\n\nmap           ::= (lit_string | identifier) ':' expr\nmap_args      ::= [map_args ','] map\n\nargs \u306f\u5f0f\u3092\u30ab\u30f3\u30de , \u3067\u533a\u5207\u3063\u305f\u5f0f\u306e\u9023\u7d9a\u3067\u3059\u3002\nmap \u306f\u30b3\u30ed\u30f3 : \u3067\u533a\u5207\u3063\u305f\u6587\u5b57\u5217\u304b\u8b58\u5225\u5b50\u3068\u5f0f\u306e\u30da\u30a2\u3067\u3001\u9023\u60f3\u914d\u5217\u306e\uff11\u8981\u7d20\u3067\u3059\u3002\nmap_args \u306f\u30ab\u30f3\u30de\u3067\u533a\u5207\u3063\u305f map \u8981\u7d20\u306e\u9023\u7d9a\u3067\u3059\u3002\n[ ] \u306f\u7a7a\u306e\u914d\u5217\u3001[ : ] \u306f\u7a7a\u306e\u9023\u60f3\u914d\u5217\u3092\u8868\u3057\u307e\u3059\u3002\nelsif         ::= [elsif] keyword_else keyword_if condition '{' compstmt '}'\nopt_else      ::= [elsif] [ keyword_else '{' compstmt '}' ]\n\nelseif \u3068 opt_else \u3067 if else \u5f0f\u3092\u8868\u3057\u307e\u3059\u3002\n\n[stream](https://github.com/matz/streem)\u306e\u6587\u6cd5\u3092BNF\u3092\u62e1\u5f35\u3057\u305fEBNF\u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\uff08\u66f8\u304d\u304b\u3051)\n\u5b57\u53e5\u89e3\u6790\u306f [lex.l](https://github.com/matz/streem/blob/master/src/lex.l) \u3092\u3001\u69cb\u6587\u89e3\u6790\u306f  [parser.y](https://github.com/matz/streem/blob/master/src/parse.y) \u3092\u53c2\u8003\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n`symbol ::= expression` \u306e\u5f62\u5f0f\u3067\u6587\u6cd5\u8981\u7d20\u3092\u8868\u3057\u307e\u3059\u3002`( ... )` \u306f\u30b0\u30eb\u30fc\u30d7\u3092 `(^ ... )` \u306f\u5426\u5b9a\u3001`|`\u306f\u9078\u629e\u3001`{ ... }` \u306f0\u56de\u4ee5\u4e0a\u306e\u7e70\u308a\u8fd4\u3057\u3001`{^ ... }` \u304c0\u56de\u4ee5\u4e0a\u306e\u7e70\u308a\u8fd4\u3057\u306e\u5426\u5b9a\u3001`+` \u306f1\u56de\u4ee5\u4e0a\u306e\u7e70\u308a\u8fd4\u3057\u3092\u8868\u3057\u307e\u3059\u3002\n\n\n\n## \u5b57\u53e5\u89e3\u6790\n\n\n```\nTRAIL ::= {('\\t' | ' ' | '\\n') | '#' {^ '\\n' } '\\n' }\n\nop_plus  ::= \"+\" { TRAIL }\nop_minus ::= \"-\" { TRAIL }\nop_mult  ::= \"*\" { TRAIL }\nop_div   ::= \"/\" { TRAIL }\nop_mod   ::= \"%\" { TRAIL }\nop_eq    ::= \"==\"{ TRAIL }\nop_neq   ::= \"!=\"{ TRAIL }\nop_lt    ::= \"<\" { TRAIL }\nop_le    ::= \"<=\"{ TRAIL }\nop_gt    ::= \">\" { TRAIL }\nop_ge    ::= \">=\"{ TRAIL }\nop_and   ::= \"&&\"{ TRAIL }\nop_or    ::= \"||\"{ TRAIL }\nop_bar   ::= \"|\" { TRAIL }\nop_amper ::= \"&\" { TRAIL }\nop_lasgn ::= \"<-\"{ TRAIL }\nop_rasgn ::= \"->\"{ TRAIL }\n'='      ::= \"=\" { TRAIL }\nop_colon2::= \"::\"{ TRAIL }\n\nkeyword_if     ::= \"if\"     { TRAIL }\nkeyword_else   ::= { TRAIL } \"else\" { TRAIL }\nkeyword_break  ::= \"break\"  { TRAIL }\nkeyword_emit   ::= \"emit\"   { TRAIL }\nkeyword_return ::= \"return\" { TRAIL }\nkeyword_nil    ::= \"nil\"    { TRAIL }\nkeyword_true   ::= \"true\"   { TRAIL }\nkeyword_false  ::= \"false\"  { TRAIL }\n\nidentifier     ::= ('A' ... 'Z' | 'a' ... 'z' | '_') { ('A' ... 'Z' | 'a' ... 'z' | '0' ... '9' | '_' }\n\n'.'            ::= { TRAIL } '.' { TRAIL }\n\n'(' ::= '(' { TRAIL }\n'[' ::= '[' { TRAIL }\n'{' ::= '{' { TRAIL }\n',' ::= ',' { TRAIL }\n';' ::= ';' { TRAIL }\n':' ::= ':' { TRAIL }\n')' ::= ')' { TRAIL }\n']' ::= ']' { TRAIL }\n'}' ::= '}' { TRAIL }\n\n'\\n' ::= '\\n' | '#' {^ '\\n' } '\\n'\n\nlit_number ::= ('1' ... '9' {'0' ... '9'} | '0')[ '.' {'0' ... '9'} ]\n\nlit_string ::= '\"' { (^ '\\\"') | '\\\\' _ } '\"'\n\nwhite_space ::= ' ' | '\\t' \n```\n\n## \u69cb\u6587\u89e3\u6790\n\n### \u30ad\u30fc\u30ef\u30fc\u30c9\n\n```\nif else do break emit return nil true false\n```\n\n### \u6f14\u7b97\u5b50\u512a\u5148\u9806\u4f4d\n\n| \u512a\u5148\u9806\u4f4d | \u7d50\u5408\u6027 | \u6f14\u7b97\u5b50 |\n| --- | --- | --- |\n| 1 | \u5de6\u7d50\u5408 | \uff12\u9805\u6f14\u7b97\u5b50 '&' |\n| 2 | \u5de6\u7d50\u5408 | \uff12\u9805\u6f14\u7b97\u5b50 '\\|' |\n| 3 | \u5de6\u7d50\u5408 | \uff12\u9805\u6f14\u7b97\u5b50 '\\|\\|' |\n| 4 | \u5de6\u7d50\u5408 | \uff12\u9805\u6f14\u7b97\u5b50 '&&' |\n| 5 | \u306a\u3057   | \uff12\u9805\u6f14\u7b97\u5b50 '==' '!=' |\n| 6 | \u5de6\u7d50\u5408 | \uff12\u9805\u6f14\u7b97\u5b50 '<' '<=' '>' '>=' |\n| 7 | \u5de6\u7d50\u5408 | \uff12\u9805\u6f14\u7b97\u5b50 '+' '-' |\n| 8 | \u5de6\u7d50\u5408 | \uff12\u9805\u6f14\u7b97\u5b50 '*' '/' '%' |\n| 9 | \u53f3\u7d50\u5408 | \u5358\u9805\u6f14\u7b97\u5b50 '+' '-' '!' '~' |\n\n\n###\u6587\u6cd5\n\n#### \u30d7\u30ed\u30b0\u30e9\u30e0\n\n```\nprogram       ::= compstmt\ncompstmt      ::= stmts { ';' | '\\n' }\nstmts         ::= [ stmt { ( ';' | '\\n' )+ stmt } ]\n```\n\n\u30d7\u30ed\u30b0\u30e9\u30e0 `program` \u306f \u5408\u6210\u6587 `compstmt` \u3067\u3059\u3002\n\u5408\u6210\u6587 `compstmt` \u306f\u30b3\u30f3\u30dd\u30b8\u30c3\u30c8\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8(\u5408\u6210\u6587)\u306e\u7565\u3067\u3059\u3002\n\u6587\u306e\u5217 `stmts` \u306f ';' \u307e\u305f\u306f '\\n' \u306e\u5217\u306b\u3088\u3063\u3066\u533a\u5207\u3089\u308c\u305f0\u500b\u4ee5\u4e0a\u306e \u6587 `stmt` \u306e\u5217\u3067\u3059\u3002\n\n#### \u6587\n\n```\nstmt          ::= var '=' expr\n                | keyword_emit [args]\n                | keyword_return [args]\n                | keyword_break\n                | expr\n```\n\n`stmt` \u306f\u5909\u6570\u306e\u8a2d\u5b9a\u3001 `emit` \u6587\u3001 `return` \u6587\u3001 `break` \u6587\u3001\u5f0f\u3092\u8a18\u8ff0\u51fa\u6765\u307e\u3059\u3002\n\n```\nvar           ::= identifier\n```\n\n`var` \u306f\u5909\u6570\u3092\u8868\u3059\u8b58\u5225\u5b50 (identifier) \u3067\u3059\u3002\n\n#### \u5f0f\n\n```\nexpr          ::= expr op_plus expr\n                | expr op_minus expr\n                | expr op_mult expr\n                | expr op_div expr\n                | expr op_mod expr\n                | expr op_bar expr\n                | expr op_amper expr\n                | expr op_gt expr\n                | expr op_ge expr\n                | expr op_lt expr\n                | expr op_le expr\n                | expr op_eq expr\n                | expr op_neq expr\n                | op_plus expr                 %prec '!'\n                | op_minus expr                %prec '!'\n                | '!' expr\n                | '~' expr\n                | expr op_and expr\n                | expr op_or expr\n                | primary\n```\n\n\u5f0f `expr` \u306f \uff12\u9805\u6f14\u7b97\u5b50\u306e `+` `-` `*` `/` `%` `|` `&` `>` `>=` `<` `<=` `==` `!=` `&&` `||` \u3068 \u5358\u9805\u6f14\u7b97\u5b50\u306e `+` `-` `!` `~` \u3092\u7528\u3044\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002\n\n#### \u30d7\u30e9\u30a4\u30de\u30ea\u5f0f\n\n```\nprimary       ::= primary0\n                | block\n                | identifier block\n                | identifier '(' [args] ')' [block]\n                | primary '.' identifier ['(' [args] ')'] [block]\n\nblock         ::= '{' [bparam] compstmt '}'\nbparam        ::= [f_args] op_rasgn\nf_args        ::= [f_args ','] identifier\n```\n\n\u30d7\u30e9\u30a4\u30de\u30ea\u5f0f\u306f\u30d7\u30e9\u30a4\u30de\u30ea0\u5f0f\u4ee5\u5916\u306b\u95a2\u6570\u547c\u3073\u51fa\u3057\u3084\u30e1\u30f3\u30d0\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3001\u30d6\u30ed\u30c3\u30af\u3092\u6e21\u3059\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002\n\n#### \u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u5f0f\n\n```\ncondition     ::= condition op_plus condition\n                | condition op_minus condition\n                | condition op_mult condition\n                | condition op_div condition\n                | condition op_mod condition\n                | condition op_bar condition\n                | condition op_amper condition\n                | condition op_gt condition\n                | condition op_ge condition\n                | condition op_lt condition\n                | condition op_le condition\n                | condition op_eq condition\n                | condition op_neq condition\n                | op_plus condition            %prec '!'\n                | op_minus condition           %prec '!'\n                | '!' condition\n                | '~' condition\n                | condition op_and condition\n                | condition op_or condition\n                | cond\n\ncond          ::= primary0\n                | identifier '(' [args] ')'\n                | cond '.' identifier [ '(' [args] ')' ]\n```\n\n`condition` \u306f `if else` \u5f0f\u5185\u306e\u6761\u4ef6\u3092\u8868\u3059\u5f0f\u3067\u3059\u3002\n\uff12\u9805\u6f14\u7b97\u5b50\u306e `+` `-` `*` `/` `%` `|` `&` `>` `>=` `<` `<=` `==` `!=` `&&` `||` \u3068 \u5358\u9805\u6f14\u7b97\u5b50\u306e `+` `-` `!` `~` \u3092\u7528\u3044\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002\n\n`cond` \u306f `condition` \u5185\u306e `primary` \u306b\u5bfe\u5fdc\u3059\u308b\u7269\u3067\u3059\u304c\u30d6\u30ed\u30c3\u30af\u3092\u4f7f\u3046\u4e8b\u304c\u51fa\u6765\u307e\u305b\u3093\u3002\n\n#### \u30d7\u30e9\u30a4\u30de\u30ea0\u5f0f primary0\n\n```\nprimary0      ::= lit_number\n                | lit_string\n                | identifier\n                | '(' expr ')'\n                | '[' [args] ']'\n                | '[' map_args ']'\n                | '[' ':' ']'\n                | keyword_if condition '{' compstmt '}' opt_else\n                | keyword_nil\n                | keyword_true\n                | keyword_false\n```\n\n\u30d7\u30e9\u30a4\u30de\u30ea0\u5f0f (primary0) \u306f\u6570\u5024\u30ea\u30c6\u30e9\u30eb\u3084\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\u3001\u8b58\u5225\u5b50\u3001\u62ec\u5f27 `(` `)` \u3067\u62ec\u3089\u308c\u305f\u5f0f\u3001`[` `]` \u3067\u62ec\u3089\u308c\u305f\u914d\u5217\u3068\u30de\u30c3\u30d7\u3001 `if` \u5f0f\u3001 `nil`\u3001 `true`\u3001 `false` \u3092\u6307\u5b9a\u51fa\u6765\u307e\u3059\u3002\n\n```\nargs          ::= [args ','] expr\n\nmap           ::= (lit_string | identifier) ':' expr\nmap_args      ::= [map_args ','] map\n```\n\n`args` \u306f\u5f0f\u3092\u30ab\u30f3\u30de `,` \u3067\u533a\u5207\u3063\u305f\u5f0f\u306e\u9023\u7d9a\u3067\u3059\u3002\n`map` \u306f\u30b3\u30ed\u30f3 `:` \u3067\u533a\u5207\u3063\u305f\u6587\u5b57\u5217\u304b\u8b58\u5225\u5b50\u3068\u5f0f\u306e\u30da\u30a2\u3067\u3001\u9023\u60f3\u914d\u5217\u306e\uff11\u8981\u7d20\u3067\u3059\u3002\n`map_args` \u306f\u30ab\u30f3\u30de\u3067\u533a\u5207\u3063\u305f `map` \u8981\u7d20\u306e\u9023\u7d9a\u3067\u3059\u3002\n`[ ]` \u306f\u7a7a\u306e\u914d\u5217\u3001`[ : ]` \u306f\u7a7a\u306e\u9023\u60f3\u914d\u5217\u3092\u8868\u3057\u307e\u3059\u3002\n\n```\nelsif         ::= [elsif] keyword_else keyword_if condition '{' compstmt '}'\nopt_else      ::= [elsif] [ keyword_else '{' compstmt '}' ]\n```\n\n`elseif` \u3068 `opt_else` \u3067 `if else` \u5f0f\u3092\u8868\u3057\u307e\u3059\u3002\n"}