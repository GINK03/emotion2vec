{"context": " More than 1 year has passed since last update.\n\nCurator (elasticsearch-curator) \u3068\u306f\nElasticsearch\u793e\u304c\u516c\u5f0f\u306b\u958b\u767a\u3057\u3066\u3044\u308b\u3001elasticsearch\u306eIndex\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u30c4\u30fc\u30eb\u3067\u3059\u3002\n\nelasticsearch/curator\n\u53c2\u8003\uff1aelasticsearch/curator\u3092\u4f7f\u3063\u3066\u307f\u308b\n\n\n\n\u30a8\u30e9\u30fc\u3068\u89e3\u6c7a\u7b56\n\nCurator \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ python --version\nPython 2.6.9\n\n$ pip --version\npip 1.5.6 from /usr/lib/python2.6/site-packages (python 2.6)\n\n# 2014/12\u6642\u70b9\u3067\u306e\u6700\u65b0\u7248\u306f v2.0.2\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\u306f\u554f\u984c\u306a\u304f\u5b8c\u4e86\n$ sudo pip install elasticsearch-curator==2.0.2\n\n\nDistributionNotFound\u30a8\u30e9\u30fc\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u308a\u3001\u52d5\u4f5c\u78ba\u8a8d\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u3053\u308d\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3002\n$ curator -v\nTraceback (most recent call last):\n  File \"/usr/bin/curator\", line 5, in <module>\n    from pkg_resources import load_entry_point\n  File \"/usr/lib/python2.6/site-packages/pkg_resources.py\", line 2655, in <module>\n    working_set.require(__requires__)\n  File \"/usr/lib/python2.6/site-packages/pkg_resources.py\", line 648, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"/usr/lib/python2.6/site-packages/pkg_resources.py\", line 546, in resolve\n    raise DistributionNotFound(req)\npkg_resources.DistributionNotFound: elasticsearch>=1.0.0,<2.0.0\n\n\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5185\u5bb9\u7684\u306b\u306fPython\u306e elasticsearch \u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3068\u3044\u3046\u5185\u5bb9\u3060\u304c\u3001elasticsearch-curator \u306e\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u4e00\u7dd2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u3066\u3044\u308b\u3002\n$ pip list | grep elasticsearch\nelasticsearch (1.2.0)\nelasticsearch-curator (2.0.2)\n\nGithub\u3084Google Group\u306b\u540c\u69d8\u306e\u554f\u984c\u304c\u5831\u544a\u3055\u308c\u3066\u3044\u308b\u304c\u3001\u3069\u308c\u3082\u660e\u78ba\u306a\u89e3\u6c7a\u306b\u306f\u81f3\u3063\u3066\u3044\u306a\u3044\u69d8\u5b50...\n\nhttps://github.com/elasticsearch/curator/issues/56\nhttps://github.com/elasticsearch/curator/issues/77\nhttps://groups.google.com/forum/#!msg/elasticsearch/wRR-7FAAvIo/yHCRrKo5gdYJ\n\n\u5b9f\u969b\u3001\u79c1\u3082elasticsearch\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u518dinstall\u306a\u3069\u8a66\u3057\u305f\u304c\u30c0\u30e1\u3060\u3063\u305f\u3002\n\n\u89e3\u6c7a\u7b56\nhttps://github.com/elasticsearch/curator/issues/56#issuecomment-51628636 \u3067\u8a00\u53ca\u3055\u308c\u3066\u3044\u308b\u6700\u5f8c\u306e\u624b\u6bb5\u3068\u3057\u3066\n\nAt worst, you'll have to run it from /Library/Python/2.7/site-packages/curator/curator.py (which is where pip installs it on mine).\n\n\u3092\u8a66\u3059\u3053\u3068\u306b\u3002\n\uff08https://github.com/elasticsearch/curator/issues/56#issuecomment-56980489 \u306b\u3088\u308b\u3068v2\u7cfb\u3067\u306fcurator.py\u3067\u306f\u306a\u304f\u3001curator_script.py\u3092\u4f7f\u3048\u3068\u306e\u3053\u3068\u3002\uff09\n\u307e\u305a\u306f --dry-run \u30e2\u30fc\u30c9\u3067\n$ python /usr/lib/python2.6/site-packages/curator/curator_script.py -v\ncurator_script.py 2.0.2\n\n# DRY RUN\n$ python /usr/lib/python2.6/site-packages/curator/curator_script.py --host localhost --port 9200 --logfile /tmp/curator.log --loglevel DEBUG --dry-run delete --older-than 30\n\n$ less /tmp/curator.log\n2014-12-16 04:00:58,990 INFO      Job starting...\n2014-12-16 04:00:58,990 INFO      DRY RUN MODE.  No changes will be made.\n2014-12-16 04:00:59,187 DEBUG     Detected Elasticsearch version 1.4.1\n2014-12-16 04:00:59,187 DEBUG     Setting default timestring for days to %Y.%m.%d\n2014-12-16 04:00:59,187 DEBUG     Matching indices with pattern: logstash-%Y.%m.%d\n2014-12-16 04:00:59,187 DEBUG     argdict = {'url_prefix': '', 'func': <function delete at 0x262c758>, 'prefix': 'logstash-', 'log_level': 'DEBUG', 'timestring': '%Y.%m.%d', 'dry_run': True, 'exclude_pattern': None, 'logformat': 'Default', 'auth': None, 'ssl': False, 'host': 'localhost', 'command': 'delete', 'time_unit': 'days', 'timeout': 30, 'debug': False, 'disk_space': None, 'log_file': '/tmp/curator.log', 'master_only': False, 'port': 9200, 'older_than': 30, 'suffix': ''}\n2014-12-16 04:00:59,188 INFO      DRY RUN: Deleting indices...\n2014-12-16 04:00:59,394 INFO      logstash-2014.12.11 is within the threshold period (30 days).\n2014-12-16 04:00:59,420 INFO      logstash-2014.12.12 is within the threshold period (30 days).\n2014-12-16 04:00:59,420 INFO      logstash-2014.12.13 is within the threshold period (30 days).\n2014-12-16 04:00:59,420 INFO      logstash-2014.12.14 is within the threshold period (30 days).\n2014-12-16 04:00:59,420 INFO      logstash-2014.12.15 is within the threshold period (30 days).\n2014-12-16 04:00:59,420 INFO      logstash-2014.12.16 is within the threshold period (30 days).\n2014-12-16 04:00:59,421 INFO      DRY RUN: Speficied indices deleted.\n2014-12-16 04:00:59,421 INFO      Done in 0:00:00.516716.\n\n\u3044\u3051\u3066\u308b\u3063\u307d\u3044\u306e\u3067\u5b9f\u969b\u306eelasticsearch\u306eIndex\u3092\u5bfe\u8c61\u306b\u5b9f\u884c...\n\nbloom \u30b3\u30de\u30f3\u30c9\n$ python /usr/lib/python2.6/site-packages/curator/curator_script.py --host localhost --port 9200 --logfile /tmp/curator.log --loglevel DEBUG bloom --older-than 3\n\n$ less /tmp/curator.log\n2014-12-17 01:00:04,630 INFO      Job starting...\n2014-12-17 01:00:04,646 DEBUG     Detected Elasticsearch version 1.4.1\n2014-12-17 01:00:04,646 DEBUG     Setting default timestring for days to %Y.%m.%d\n2014-12-17 01:00:04,646 DEBUG     Matching indices with pattern: logstash-%Y.%m.%d\n2014-12-17 01:00:04,646 DEBUG     argdict = {'url_prefix': '', 'prefix': 'logstash-', 'log_level': 'DEBUG', 'timestring': '%Y.%m.%d', 'dry_run': False, 'exclude_pattern': None, 'logformat': 'Default', 'auth': None, 'ssl': False, 'host': 'localhost', 'command': 'bloom', 'time_unit': 'days', 'timeout': 30, 'debug': False, 'func': <function bloom at 0xc49668>, 'log_file': '/tmp/curator.log', 'master_only': False, 'port': 9200, 'older_than': 3, 'suffix': ''}\n2014-12-17 01:00:04,647 INFO      Disabling the bloom filter cache for indices...\n2014-12-17 01:00:04,895 INFO      disable_bloom_filter operation succeeded on logstash-2014.12.11\n2014-12-17 01:00:05,106 INFO      disable_bloom_filter operation succeeded on logstash-2014.12.12\n2014-12-17 01:00:05,428 INFO      disable_bloom_filter operation succeeded on logstash-2014.12.13\n2014-12-17 01:00:05,888 INFO      disable_bloom_filter operation succeeded on logstash-2014.12.14\n2014-12-17 01:00:05,888 INFO      logstash-2014.12.15 is within the threshold period (3 days).\n2014-12-17 01:00:05,888 INFO      logstash-2014.12.16 is within the threshold period (3 days).\n2014-12-17 01:00:05,888 INFO      logstash-2014.12.17 is within the threshold period (3 days).\n2014-12-17 01:00:05,888 INFO      Disabled bloom filter cache for specified indices.\n2014-12-17 01:00:05,889 INFO      Done in 0:00:01.415160.\n\n\nclose \u30b3\u30de\u30f3\u30c9\n$ python /usr/lib/python2.6/site-packages/curator/curator_script.py --host localhost --port 9200 --logfile /tmp/curator.log --loglevel DEBUG close --older-than 4\n\n$ less /tmp/curator.log\n2014-12-17 01:00:06,946 INFO      Job starting...\n2014-12-17 01:00:07,024 DEBUG     Detected Elasticsearch version 1.4.1\n2014-12-17 01:00:07,024 DEBUG     Setting default timestring for days to %Y.%m.%d\n2014-12-17 01:00:07,024 DEBUG     Matching indices with pattern: logstash-%Y.%m.%d\n2014-12-17 01:00:07,025 DEBUG     argdict = {'url_prefix': '', 'prefix': 'logstash-', 'log_level': 'DEBUG', 'timestring': '%Y.%m.%d', 'dry_run': False, 'exclude_pattern': None, 'logformat': 'Default', 'auth': None, 'ssl': False, 'host': 'localhost', 'command': 'close', 'time_unit': 'days', 'timeout': 30, 'debug': False, 'func': <function close at 0x2b0c6e0>, 'log_file': '/tmp/curator.log', 'master_only': False, 'port': 9200, 'older_than': 4, 'suffix': ''}\n2014-12-17 01:00:07,025 INFO      Closing indices...\n2014-12-17 01:00:08,457 INFO      close_index operation succeeded on logstash-2014.12.11\n2014-12-17 01:00:08,841 INFO      close_index operation succeeded on logstash-2014.12.12\n2014-12-17 01:00:09,225 INFO      close_index operation succeeded on logstash-2014.12.13\n2014-12-17 01:00:09,225 INFO      logstash-2014.12.14 is within the threshold period (4 days).\n2014-12-17 01:00:09,226 INFO      logstash-2014.12.15 is within the threshold period (4 days).\n2014-12-17 01:00:09,226 INFO      logstash-2014.12.16 is within the threshold period (4 days).\n2014-12-17 01:00:09,226 INFO      logstash-2014.12.17 is within the threshold period (4 days).\n2014-12-17 01:00:09,226 INFO      Closed specified indices.\n2014-12-17 01:00:09,226 INFO      Done in 0:00:02.293359.\n\n\ndelete \u30b3\u30de\u30f3\u30c9\n$ python /usr/lib/python2.6/site-packages/curator/curator_script.py --host localhost --port 9200 --logfile /tmp/curator.log --loglevel DEBUG delete --older-than 5\n\n$ less /tmp/curator.log\n2014-12-17 01:00:10,375 INFO      Job starting...\n2014-12-17 01:00:10,382 DEBUG     Detected Elasticsearch version 1.4.1\n2014-12-17 01:00:10,382 DEBUG     Setting default timestring for days to %Y.%m.%d\n2014-12-17 01:00:10,382 DEBUG     Matching indices with pattern: logstash-%Y.%m.%d\n2014-12-17 01:00:10,382 DEBUG     argdict = {'url_prefix': '', 'func': <function delete at 0x2578758>, 'prefix': 'logstash-', 'log_level': 'DEBUG', 'timestring': '%Y.%m.%d', 'dry_run': False, 'exclude_pattern': None, 'logformat': 'Default', 'auth': None, 'ssl': False, 'host': 'localhost', 'command': 'delete', 'time_unit': 'days', 'timeout': 30, 'debug': False, 'disk_space': None, 'log_file': '/tmp/curator.log', 'master_only': False, 'port': 9200, 'older_than': 5, 'suffix': ''}\n2014-12-17 01:00:10,382 INFO      Deleting indices...\n2014-12-17 01:00:11,632 INFO      delete_index operation succeeded on logstash-2014.12.11\n2014-12-17 01:00:11,727 INFO      delete_index operation succeeded on logstash-2014.12.12\n2014-12-17 01:00:11,727 INFO      logstash-2014.12.13 is within the threshold period (5 days).\n2014-12-17 01:00:11,727 INFO      logstash-2014.12.14 is within the threshold period (5 days).\n2014-12-17 01:00:11,727 INFO      logstash-2014.12.15 is within the threshold period (5 days).\n2014-12-17 01:00:11,728 INFO      logstash-2014.12.16 is within the threshold period (5 days).\n2014-12-17 01:00:11,728 INFO      logstash-2014.12.17 is within the threshold period (5 days).\n2014-12-17 01:00:11,728 INFO      Speficied indices deleted.\n2014-12-17 01:00:11,728 INFO      Done in 0:00:01.437909.\n\n\u3067\u304d\u305f\u30fc\uff01\u0669(\u0e51\u00b43\uff40\u0e51)\u06f6\n\n\u304a\u307e\u3051\nalias\u306b\u8a2d\u5b9a\u3057\u3001Python\u306esite-packages\u306e\u5834\u6240\u3082\u52d5\u7684\u306b\u6c7a\u307e\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u304a\u5f8c\u304c\u3088\u308d\u3057\u3044\nalias curator=\"python \"`python -c \"from distutils.sysconfig import get_python_lib; print get_python_lib()\"`/curator/curator_script.py\n\n# Curator (elasticsearch-curator) \u3068\u306f\n\nElasticsearch\u793e\u304c\u516c\u5f0f\u306b\u958b\u767a\u3057\u3066\u3044\u308b\u3001elasticsearch\u306eIndex\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u30c4\u30fc\u30eb\u3067\u3059\u3002\n\n+ [elasticsearch/curator](https://github.com/elasticsearch/curator)\n+ \u53c2\u8003\uff1a[elasticsearch/curator\u3092\u4f7f\u3063\u3066\u307f\u308b](http://qiita.com/ise_daisuke/items/266461ffc91246deb9ad)\n\n# \u30a8\u30e9\u30fc\u3068\u89e3\u6c7a\u7b56\n\n## Curator \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ python --version\nPython 2.6.9\n\n$ pip --version\npip 1.5.6 from /usr/lib/python2.6/site-packages (python 2.6)\n\n# 2014/12\u6642\u70b9\u3067\u306e\u6700\u65b0\u7248\u306f v2.0.2\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\u306f\u554f\u984c\u306a\u304f\u5b8c\u4e86\n$ sudo pip install elasticsearch-curator==2.0.2\n```\n\n## DistributionNotFound\u30a8\u30e9\u30fc\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u308a\u3001\u52d5\u4f5c\u78ba\u8a8d\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u3053\u308d\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3002\n\n```bash\n$ curator -v\nTraceback (most recent call last):\n  File \"/usr/bin/curator\", line 5, in <module>\n    from pkg_resources import load_entry_point\n  File \"/usr/lib/python2.6/site-packages/pkg_resources.py\", line 2655, in <module>\n    working_set.require(__requires__)\n  File \"/usr/lib/python2.6/site-packages/pkg_resources.py\", line 648, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"/usr/lib/python2.6/site-packages/pkg_resources.py\", line 546, in resolve\n    raise DistributionNotFound(req)\npkg_resources.DistributionNotFound: elasticsearch>=1.0.0,<2.0.0\n```\n\n\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5185\u5bb9\u7684\u306b\u306fPython\u306e elasticsearch \u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3068\u3044\u3046\u5185\u5bb9\u3060\u304c\u3001elasticsearch-curator \u306e\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u4e00\u7dd2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u3066\u3044\u308b\u3002\n\n```bash\n$ pip list | grep elasticsearch\nelasticsearch (1.2.0)\nelasticsearch-curator (2.0.2)\n```\n\nGithub\u3084Google Group\u306b\u540c\u69d8\u306e\u554f\u984c\u304c\u5831\u544a\u3055\u308c\u3066\u3044\u308b\u304c\u3001\u3069\u308c\u3082\u660e\u78ba\u306a\u89e3\u6c7a\u306b\u306f\u81f3\u3063\u3066\u3044\u306a\u3044\u69d8\u5b50...\n\n+ https://github.com/elasticsearch/curator/issues/56\n+ https://github.com/elasticsearch/curator/issues/77\n+ https://groups.google.com/forum/#!msg/elasticsearch/wRR-7FAAvIo/yHCRrKo5gdYJ\n\n\u5b9f\u969b\u3001\u79c1\u3082elasticsearch\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u518dinstall\u306a\u3069\u8a66\u3057\u305f\u304c\u30c0\u30e1\u3060\u3063\u305f\u3002\n\n## \u89e3\u6c7a\u7b56\n\nhttps://github.com/elasticsearch/curator/issues/56#issuecomment-51628636 \u3067\u8a00\u53ca\u3055\u308c\u3066\u3044\u308b\u6700\u5f8c\u306e\u624b\u6bb5\u3068\u3057\u3066\n\n> At worst, you'll have to run it from /Library/Python/2.7/site-packages/curator/curator.py (which is where pip installs it on mine).\n\n\u3092\u8a66\u3059\u3053\u3068\u306b\u3002\n\n\uff08https://github.com/elasticsearch/curator/issues/56#issuecomment-56980489 \u306b\u3088\u308b\u3068v2\u7cfb\u3067\u306fcurator.py\u3067\u306f\u306a\u304f\u3001**curator_script.py**\u3092\u4f7f\u3048\u3068\u306e\u3053\u3068\u3002\uff09\n\n\u307e\u305a\u306f **--dry-run** \u30e2\u30fc\u30c9\u3067\n\n```bash\n$ python /usr/lib/python2.6/site-packages/curator/curator_script.py -v\ncurator_script.py 2.0.2\n\n# DRY RUN\n$ python /usr/lib/python2.6/site-packages/curator/curator_script.py --host localhost --port 9200 --logfile /tmp/curator.log --loglevel DEBUG --dry-run delete --older-than 30\n\n$ less /tmp/curator.log\n2014-12-16 04:00:58,990 INFO      Job starting...\n2014-12-16 04:00:58,990 INFO      DRY RUN MODE.  No changes will be made.\n2014-12-16 04:00:59,187 DEBUG     Detected Elasticsearch version 1.4.1\n2014-12-16 04:00:59,187 DEBUG     Setting default timestring for days to %Y.%m.%d\n2014-12-16 04:00:59,187 DEBUG     Matching indices with pattern: logstash-%Y.%m.%d\n2014-12-16 04:00:59,187 DEBUG     argdict = {'url_prefix': '', 'func': <function delete at 0x262c758>, 'prefix': 'logstash-', 'log_level': 'DEBUG', 'timestring': '%Y.%m.%d', 'dry_run': True, 'exclude_pattern': None, 'logformat': 'Default', 'auth': None, 'ssl': False, 'host': 'localhost', 'command': 'delete', 'time_unit': 'days', 'timeout': 30, 'debug': False, 'disk_space': None, 'log_file': '/tmp/curator.log', 'master_only': False, 'port': 9200, 'older_than': 30, 'suffix': ''}\n2014-12-16 04:00:59,188 INFO      DRY RUN: Deleting indices...\n2014-12-16 04:00:59,394 INFO      logstash-2014.12.11 is within the threshold period (30 days).\n2014-12-16 04:00:59,420 INFO      logstash-2014.12.12 is within the threshold period (30 days).\n2014-12-16 04:00:59,420 INFO      logstash-2014.12.13 is within the threshold period (30 days).\n2014-12-16 04:00:59,420 INFO      logstash-2014.12.14 is within the threshold period (30 days).\n2014-12-16 04:00:59,420 INFO      logstash-2014.12.15 is within the threshold period (30 days).\n2014-12-16 04:00:59,420 INFO      logstash-2014.12.16 is within the threshold period (30 days).\n2014-12-16 04:00:59,421 INFO      DRY RUN: Speficied indices deleted.\n2014-12-16 04:00:59,421 INFO      Done in 0:00:00.516716.\n```\n\n\u3044\u3051\u3066\u308b\u3063\u307d\u3044\u306e\u3067\u5b9f\u969b\u306eelasticsearch\u306eIndex\u3092\u5bfe\u8c61\u306b\u5b9f\u884c...\n\n### bloom \u30b3\u30de\u30f3\u30c9\n\n```bash\n$ python /usr/lib/python2.6/site-packages/curator/curator_script.py --host localhost --port 9200 --logfile /tmp/curator.log --loglevel DEBUG bloom --older-than 3\n\n$ less /tmp/curator.log\n2014-12-17 01:00:04,630 INFO      Job starting...\n2014-12-17 01:00:04,646 DEBUG     Detected Elasticsearch version 1.4.1\n2014-12-17 01:00:04,646 DEBUG     Setting default timestring for days to %Y.%m.%d\n2014-12-17 01:00:04,646 DEBUG     Matching indices with pattern: logstash-%Y.%m.%d\n2014-12-17 01:00:04,646 DEBUG     argdict = {'url_prefix': '', 'prefix': 'logstash-', 'log_level': 'DEBUG', 'timestring': '%Y.%m.%d', 'dry_run': False, 'exclude_pattern': None, 'logformat': 'Default', 'auth': None, 'ssl': False, 'host': 'localhost', 'command': 'bloom', 'time_unit': 'days', 'timeout': 30, 'debug': False, 'func': <function bloom at 0xc49668>, 'log_file': '/tmp/curator.log', 'master_only': False, 'port': 9200, 'older_than': 3, 'suffix': ''}\n2014-12-17 01:00:04,647 INFO      Disabling the bloom filter cache for indices...\n2014-12-17 01:00:04,895 INFO      disable_bloom_filter operation succeeded on logstash-2014.12.11\n2014-12-17 01:00:05,106 INFO      disable_bloom_filter operation succeeded on logstash-2014.12.12\n2014-12-17 01:00:05,428 INFO      disable_bloom_filter operation succeeded on logstash-2014.12.13\n2014-12-17 01:00:05,888 INFO      disable_bloom_filter operation succeeded on logstash-2014.12.14\n2014-12-17 01:00:05,888 INFO      logstash-2014.12.15 is within the threshold period (3 days).\n2014-12-17 01:00:05,888 INFO      logstash-2014.12.16 is within the threshold period (3 days).\n2014-12-17 01:00:05,888 INFO      logstash-2014.12.17 is within the threshold period (3 days).\n2014-12-17 01:00:05,888 INFO      Disabled bloom filter cache for specified indices.\n2014-12-17 01:00:05,889 INFO      Done in 0:00:01.415160.\n```\n\n### close \u30b3\u30de\u30f3\u30c9\n\n```bash\n$ python /usr/lib/python2.6/site-packages/curator/curator_script.py --host localhost --port 9200 --logfile /tmp/curator.log --loglevel DEBUG close --older-than 4\n\n$ less /tmp/curator.log\n2014-12-17 01:00:06,946 INFO      Job starting...\n2014-12-17 01:00:07,024 DEBUG     Detected Elasticsearch version 1.4.1\n2014-12-17 01:00:07,024 DEBUG     Setting default timestring for days to %Y.%m.%d\n2014-12-17 01:00:07,024 DEBUG     Matching indices with pattern: logstash-%Y.%m.%d\n2014-12-17 01:00:07,025 DEBUG     argdict = {'url_prefix': '', 'prefix': 'logstash-', 'log_level': 'DEBUG', 'timestring': '%Y.%m.%d', 'dry_run': False, 'exclude_pattern': None, 'logformat': 'Default', 'auth': None, 'ssl': False, 'host': 'localhost', 'command': 'close', 'time_unit': 'days', 'timeout': 30, 'debug': False, 'func': <function close at 0x2b0c6e0>, 'log_file': '/tmp/curator.log', 'master_only': False, 'port': 9200, 'older_than': 4, 'suffix': ''}\n2014-12-17 01:00:07,025 INFO      Closing indices...\n2014-12-17 01:00:08,457 INFO      close_index operation succeeded on logstash-2014.12.11\n2014-12-17 01:00:08,841 INFO      close_index operation succeeded on logstash-2014.12.12\n2014-12-17 01:00:09,225 INFO      close_index operation succeeded on logstash-2014.12.13\n2014-12-17 01:00:09,225 INFO      logstash-2014.12.14 is within the threshold period (4 days).\n2014-12-17 01:00:09,226 INFO      logstash-2014.12.15 is within the threshold period (4 days).\n2014-12-17 01:00:09,226 INFO      logstash-2014.12.16 is within the threshold period (4 days).\n2014-12-17 01:00:09,226 INFO      logstash-2014.12.17 is within the threshold period (4 days).\n2014-12-17 01:00:09,226 INFO      Closed specified indices.\n2014-12-17 01:00:09,226 INFO      Done in 0:00:02.293359.\n```\n\n### delete \u30b3\u30de\u30f3\u30c9\n\n```bash\n$ python /usr/lib/python2.6/site-packages/curator/curator_script.py --host localhost --port 9200 --logfile /tmp/curator.log --loglevel DEBUG delete --older-than 5\n\n$ less /tmp/curator.log\n2014-12-17 01:00:10,375 INFO      Job starting...\n2014-12-17 01:00:10,382 DEBUG     Detected Elasticsearch version 1.4.1\n2014-12-17 01:00:10,382 DEBUG     Setting default timestring for days to %Y.%m.%d\n2014-12-17 01:00:10,382 DEBUG     Matching indices with pattern: logstash-%Y.%m.%d\n2014-12-17 01:00:10,382 DEBUG     argdict = {'url_prefix': '', 'func': <function delete at 0x2578758>, 'prefix': 'logstash-', 'log_level': 'DEBUG', 'timestring': '%Y.%m.%d', 'dry_run': False, 'exclude_pattern': None, 'logformat': 'Default', 'auth': None, 'ssl': False, 'host': 'localhost', 'command': 'delete', 'time_unit': 'days', 'timeout': 30, 'debug': False, 'disk_space': None, 'log_file': '/tmp/curator.log', 'master_only': False, 'port': 9200, 'older_than': 5, 'suffix': ''}\n2014-12-17 01:00:10,382 INFO      Deleting indices...\n2014-12-17 01:00:11,632 INFO      delete_index operation succeeded on logstash-2014.12.11\n2014-12-17 01:00:11,727 INFO      delete_index operation succeeded on logstash-2014.12.12\n2014-12-17 01:00:11,727 INFO      logstash-2014.12.13 is within the threshold period (5 days).\n2014-12-17 01:00:11,727 INFO      logstash-2014.12.14 is within the threshold period (5 days).\n2014-12-17 01:00:11,727 INFO      logstash-2014.12.15 is within the threshold period (5 days).\n2014-12-17 01:00:11,728 INFO      logstash-2014.12.16 is within the threshold period (5 days).\n2014-12-17 01:00:11,728 INFO      logstash-2014.12.17 is within the threshold period (5 days).\n2014-12-17 01:00:11,728 INFO      Speficied indices deleted.\n2014-12-17 01:00:11,728 INFO      Done in 0:00:01.437909.\n```\n\n\u3067\u304d\u305f\u30fc\uff01\u0669(\u0e51\u00b43\uff40\u0e51)\u06f6\n\n## \u304a\u307e\u3051\n\nalias\u306b\u8a2d\u5b9a\u3057\u3001Python\u306esite-packages\u306e\u5834\u6240\u3082\u52d5\u7684\u306b\u6c7a\u307e\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u304a\u5f8c\u304c\u3088\u308d\u3057\u3044\n\n```bash\nalias curator=\"python \"`python -c \"from distutils.sysconfig import get_python_lib; print get_python_lib()\"`/curator/curator_script.py\n```\n", "tags": ["Python2.6", "Elasticsearch", "elasticsearch-curator2.0.2", "AmazonLinux", "EC2"]}