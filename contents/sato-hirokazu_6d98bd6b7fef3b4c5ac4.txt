{"context": "\n\nAnsistrano\nhttps://github.com/ansistrano/deploy\n\nAnsistrano\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ ansible-galaxy install carlosbuenosvinos.ansistrano-deploy carlosbuenosvinos.ansistrano-rollback\n- downloading role 'ansistrano-deploy', owned by carlosbuenosvinos\n- downloading role from https://github.com/ansistrano/deploy/archive/1.10.0.tar.gz\n- extracting carlosbuenosvinos.ansistrano-deploy to /usr/local/etc/ansible/roles/carlosbuenosvinos.ansistrano-deploy\n- carlosbuenosvinos.ansistrano-deploy was installed successfully\n- downloading role 'ansistrano-rollback', owned by carlosbuenosvinos\n- downloading role from https://github.com/ansistrano/rollback/archive/1.4.2.tar.gz\n- extracting carlosbuenosvinos.ansistrano-rollback to /usr/local/etc/ansible/roles/carlosbuenosvinos.ansistrano-rollback\n- carlosbuenosvinos.ansistrano-rollback was installed successfully\n\n\nplaybook \u306e\u6e96\u5099\nexample/my-playbook\n\nplaybook\n.\n\u251c\u2500\u2500 deploy.yml\n\u251c\u2500\u2500 group_vars\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 staging.yml\n\u251c\u2500\u2500 hosts\n\u251c\u2500\u2500 staging\n\u2514\u2500\u2500 rollback.yml\n\n\n\nstaging\n[staging]\nstg.example.com\n\n\n\nplaybook \u306e\u5b9f\u884c\nansible-playbook -i staging deploy.yml\n\n\nrollback\nansible-playbook -i staging rollback.yml\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\n\n/var/www/app\n.\n\u251c\u2500\u2500 current -> ./releases/{$timeStamp}\n\u251c\u2500\u2500 releases\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 {$timeStamp}\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 {\u904e\u53bb\u306e$timeStamp}\n\n\n\n\n## Ansistrano \nhttps://github.com/ansistrano/deploy\n\n##  Ansistrano\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ `ansible-galaxy install carlosbuenosvinos.ansistrano-deploy carlosbuenosvinos.ansistrano-rollback`\n\n\n```\n- downloading role 'ansistrano-deploy', owned by carlosbuenosvinos\n- downloading role from https://github.com/ansistrano/deploy/archive/1.10.0.tar.gz\n- extracting carlosbuenosvinos.ansistrano-deploy to /usr/local/etc/ansible/roles/carlosbuenosvinos.ansistrano-deploy\n- carlosbuenosvinos.ansistrano-deploy was installed successfully\n- downloading role 'ansistrano-rollback', owned by carlosbuenosvinos\n- downloading role from https://github.com/ansistrano/rollback/archive/1.4.2.tar.gz\n- extracting carlosbuenosvinos.ansistrano-rollback to /usr/local/etc/ansible/roles/carlosbuenosvinos.ansistrano-rollback\n- carlosbuenosvinos.ansistrano-rollback was installed successfully\n```\n## playbook \u306e\u6e96\u5099\n`example/my-playbook`\n\n```tree:playbook\n.\n\u251c\u2500\u2500 deploy.yml\n\u251c\u2500\u2500 group_vars\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 staging.yml\n\u251c\u2500\u2500 hosts\n\u251c\u2500\u2500 staging\n\u2514\u2500\u2500 rollback.yml\n```\n\n```file:staging\n[staging]\nstg.example.com\n```\n\n## playbook \u306e\u5b9f\u884c\n```staging\nansible-playbook -i staging deploy.yml\n```\n\n## rollback\n```staging\nansible-playbook -i staging rollback.yml\n```\n\n## \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\n```tree:/var/www/app\n.\n\u251c\u2500\u2500 current -> ./releases/{$timeStamp}\n\u251c\u2500\u2500 releases\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 {$timeStamp}\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 {\u904e\u53bb\u306e$timeStamp}\n\n```\n", "tags": ["Ansible", "ansible-playbook"]}