{"tags": ["PHP5.6", "\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0"], "context": "PHP5.6\u4ee5\u964d\u306e\u66f8\u304d\u65b9\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\uff0e\n<?php\n\nfunction direct_product(array ...$arrays)\n{\n    if (!$tops = array_shift($arrays)) {\n        return [];\n    }\n    if (!$arrays) {\n        foreach ($tops as $top) {\n            $r[] = [$top];\n        }\n        return $r;\n    }\n    if (!$nexts = direct_product(...$arrays)) {\n        return [];\n    }\n    foreach ($tops as $top) {\n        foreach ($nexts as $next) {\n            $r[] = array_merge([$top], $next);\n        }\n    }\n    return $r;\n}\n\nvar_export(direct_product(['A', 'B', 'C'], ['a'], [1, 2]));\n/*\narray (\n  0 => \n  array (\n    0 => 'A',\n    1 => 'a',\n    2 => 1,\n  ),\n  1 => \n  array (\n    0 => 'A',\n    1 => 'a',\n    2 => 2,\n  ),\n  2 => \n  array (\n    0 => 'B',\n    1 => 'a',\n    2 => 1,\n  ),\n  3 => \n  array (\n    0 => 'B',\n    1 => 'a',\n    2 => 2,\n  ),\n  4 => \n  array (\n    0 => 'C',\n    1 => 'a',\n    2 => 1,\n  ),\n  5 => \n  array (\n    0 => 'C',\n    1 => 'a',\n    2 => 2,\n  ),\n)\n*/\n\nvar_export(direct_product(['A', 'B', 'C'], [], [1, 2]));\n/*\narray (\n)\n*/\n\nPHP5.6\u4ee5\u964d\u306e\u66f8\u304d\u65b9\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\uff0e\n\n```php\n<?php\n\nfunction direct_product(array ...$arrays)\n{\n    if (!$tops = array_shift($arrays)) {\n        return [];\n    }\n    if (!$arrays) {\n        foreach ($tops as $top) {\n            $r[] = [$top];\n        }\n        return $r;\n    }\n    if (!$nexts = direct_product(...$arrays)) {\n        return [];\n    }\n    foreach ($tops as $top) {\n        foreach ($nexts as $next) {\n            $r[] = array_merge([$top], $next);\n        }\n    }\n    return $r;\n}\n\nvar_export(direct_product(['A', 'B', 'C'], ['a'], [1, 2]));\n/*\narray (\n  0 => \n  array (\n    0 => 'A',\n    1 => 'a',\n    2 => 1,\n  ),\n  1 => \n  array (\n    0 => 'A',\n    1 => 'a',\n    2 => 2,\n  ),\n  2 => \n  array (\n    0 => 'B',\n    1 => 'a',\n    2 => 1,\n  ),\n  3 => \n  array (\n    0 => 'B',\n    1 => 'a',\n    2 => 2,\n  ),\n  4 => \n  array (\n    0 => 'C',\n    1 => 'a',\n    2 => 1,\n  ),\n  5 => \n  array (\n    0 => 'C',\n    1 => 'a',\n    2 => 2,\n  ),\n)\n*/\n\nvar_export(direct_product(['A', 'B', 'C'], [], [1, 2]));\n/*\narray (\n)\n*/\n```\n"}