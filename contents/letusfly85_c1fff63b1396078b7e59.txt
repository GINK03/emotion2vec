{"tags": ["Julia", "MySQL", "docker"], "context": "\u624b\u5143\u306eUbuntu\u74b0\u5883\u3067Julia\u3092\u3061\u3087\u3053\u3061\u3087\u3053\u3068\u89e6\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u30c7\u30fc\u30bf\u683c\u7d0d\u9818\u57df\u3092\u3069\u3053\u306b\u3057\u3088\u3046\u304b\u306a\u3001\u3068\u3044\u3046\u3053\u3068\u3067\u3001MySQL\u3092\u307e\u305a\u306f\u8a66\u3057\u3066\u307f\u305f\u306e\u3067\u5099\u5fd8\u3092\u6b8b\u3057\u307e\u3059\u3002\n\nrun-mysql.sh\n#!/bin/bash\n\ndocker run --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=test -d mysql:5.7 --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci\n\n\n\u3053\u3093\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u3066\u3001\nbash run-mysql.sh\n\n\u3068\u3057\u307e\u3059\u3002\nsudo apt-get install libmysqlclient-dev\n\n\u3092\u3057\u3066\u3001MySQL\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nJulia\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u5165\u308a\u3001\nPkg.clone(\"https://github.com/JuliaComputing/MySQL.jl\")\n\nusing MySQL\n\n\u3068\u3057\u307e\u3059\u3002\n\n\u5229\u7528\u3057\u3066\u307f\u308b\njulia> con = mysql_connect(\"127.0.0.1\", \"root\", \"test\", \"\")\nMySQL Handle\n------------\nHost: 127.0.0.1\nUser: root\nDB:   \n\n\njulia> command = \"select user, host from mysql.user;\"\n\"select user, host from mysql.user;\"\n\njulia> mysql_execute(con, command)\n2x2 DataFrames.DataFrame\n\u2502 Row \u2502 user   \u2502 host        \u2502\n\u251d\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2525\n\u2502 1   \u2502 \"root\" \u2502 \"%\"         \u2502\n\u2502 2   \u2502 \"root\" \u2502 \"localhost\" \u2502\n\n\nroot\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u6307\u5b9a\u3057\u306a\u304f\u3066\u3082\u63a5\u7d9a\u3067\u304d\u3061\u3083\u3044\u307e\u3059\u306d\u3002\nMySQL.jl\u306econfig.jl\u3092\u307f\u3066\u307f\u308b\u3068\u3001Linux\u306e\u5834\u5408\u306b\u3001libmysql.so\u3092\u5229\u7528\u3057\u3066\u304a\u308a\u305d\u308c\u3088\u308a\u4e0a\u306e\u30ec\u30a4\u30e4\u3067\u5236\u5fa1\u306e\u3088\u3046\u306a\u3082\u306e\u306f\u3068\u304f\u306b\u5165\u308c\u3066\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\nconfig.jl\n  1 # This snippet is  taken from https://github.com/Dynactionize/MariaDB.jl\n  2 # This the configuration  file for finding the shared  object (dll) file\n  3 # for MySQL/MariaDB API.  Make sure to add the location  of the files to\n  4 # path for this to work.             \n  5 #                                    \n  6 # TODO: Need to update lib_choices for Mac OS X and Windows.\n  7                                      \n  8 using Compat                         \n  9                                      \n 10 let                                  \n 11     global mysql_lib                 \n 12     succeeded = false                \n 13     if !isdefined(:mysql_lib)        \n 14         @linux_only lib_choices = [\"libmysql.so\", \"libmysqlclient.so\",\n 15                                    \"libmysqlclient_r.so\", \"libmariadb.so\",                                                                                                                              \n 16                                    \"libmysqlclient_r.so.16\"]\n 17         @osx_only lib_choices = [\"libmysqlclient.dylib\"]\n 18         @windows_only lib_choices = [\"libmysql.dll\", \"libmariadb.dll\"]\n 19         local lib                    \n 20         for lib in lib_choices       \n 21             try                      \n 22                 Libdl.dlopen(lib)    \n 23                 succeeded = true     \n 24                 break                \n 25             end                      \n 26         end                          \n 27         succeeded || error(\"MYSQL library not found\")\n 28         @eval const mysql_lib = $lib \n 29     end                              \n 30 end   \n\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3059\u308b\njulia> command = \"use triplew\"\n\"use triplew\"\n\njulia> mysql_execute(con, command)\n0\n\njulia> command = \"\"\"CREATE TABLE Employee\n                    (\n                        ID INT NOT NULL AUTO_INCREMENT,\n                        Name VARCHAR(255),\n                        Salary FLOAT,\n                        JoinDate DATE,\n                        PRIMARY KEY (ID)\n                    );\"\"\"\n\"CREATE TABLE Employee\\n(\\n    ID INT NOT NULL AUTO_INCREMENT,\\n    Name VARCHAR(255),\\n    Salary FLOAT,\\n    JoinDate DATE,\\n    PRIMARY KEY (ID)\\n);\"\n\njulia> mysql_execute(con, command)\n0\n\njulia> command = \"describe Employee\"\n\"describe Employee\"\n\njulia> mysql_execute(con, command)\n4x6 DataFrames.DataFrame\n\u2502 Row \u2502 Field      \u2502 Type           \u2502 Null  \u2502 Key   \u2502 Default \u2502 Extra            \u2502\n\u251d\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2525\n\u2502 1   \u2502 \"ID\"       \u2502 \"int(11)\"      \u2502 \"NO\"  \u2502 \"PRI\" \u2502 NA      \u2502 \"auto_increment\" \u2502\n\u2502 2   \u2502 \"Name\"     \u2502 \"varchar(255)\" \u2502 \"YES\" \u2502 NA    \u2502 NA      \u2502 NA               \u2502\n\u2502 3   \u2502 \"Salary\"   \u2502 \"float\"        \u2502 \"YES\" \u2502 NA    \u2502 NA      \u2502 NA               \u2502\n\u2502 4   \u2502 \"JoinDate\" \u2502 \"date\"         \u2502 \"YES\" \u2502 NA    \u2502 NA      \u2502 NA               \u2502\n\nconnection\u3055\u3078\u3064\u306a\u3044\u3067\u3044\u308c\u3070\u3001\u3060\u3044\u3076\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306b\u64cd\u4f5c\u3067\u304d\u3061\u3083\u3044\u307e\u3059\u306d\u3002\u3002\n\n\u30c7\u30fc\u30bf\u767b\u9332\u3057\u3066\u307f\u308b\njulia> mysql_execute(con, \"INSERT INTO Employee (Name, Salary) values ('John', 25000.00), ('Sam', 35000.00), ('Tom', 50000.00);\")\n3\n\njulia> command = \"SELECT * FROM Employee;\"\n\"SELECT * FROM Employee;\"\n\njulia> dframe = mysql_execute(con, command)\n3x4 DataFrames.DataFrame\n\u2502 Row \u2502 ID \u2502 Name   \u2502 Salary  \u2502 JoinDate \u2502\n\u251d\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2525\n\u2502 1   \u2502 4  \u2502 \"John\" \u2502 25000.0 \u2502 NA       \u2502\n\u2502 2   \u2502 5  \u2502 \"Sam\"  \u2502 35000.0 \u2502 NA       \u2502\n\u2502 3   \u2502 6  \u2502 \"Tom\"  \u2502 50000.0 \u2502 NA       \u2502\n\nDataFrames\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\u3053\u308c\u306f\u4fbf\u5229\u3067\u3059\u306d\u3002\u3002kaggle\u306e\u7df4\u7fd2\u3068\u304b\u3067\u3082\u4f7f\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u672c\u65e5\u306f\u4ee5\u4e0a\u3068\u306a\u308a\u307e\u3059\u3002\n\u624b\u5143\u306eUbuntu\u74b0\u5883\u3067Julia\u3092\u3061\u3087\u3053\u3061\u3087\u3053\u3068\u89e6\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u30c7\u30fc\u30bf\u683c\u7d0d\u9818\u57df\u3092\u3069\u3053\u306b\u3057\u3088\u3046\u304b\u306a\u3001\u3068\u3044\u3046\u3053\u3068\u3067\u3001MySQL\u3092\u307e\u305a\u306f\u8a66\u3057\u3066\u307f\u305f\u306e\u3067\u5099\u5fd8\u3092\u6b8b\u3057\u307e\u3059\u3002\n\n```run-mysql.sh\n#!/bin/bash\n\ndocker run --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=test -d mysql:5.7 --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci\n```\n\n\u3053\u3093\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u3066\u3001\n\n```bash\nbash run-mysql.sh\n```\n\n\u3068\u3057\u307e\u3059\u3002\n\n```bash\nsudo apt-get install libmysqlclient-dev\n```\n\n\u3092\u3057\u3066\u3001MySQL\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nJulia\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u5165\u308a\u3001\n\n```\nPkg.clone(\"https://github.com/JuliaComputing/MySQL.jl\")\n\nusing MySQL\n```\n\n\u3068\u3057\u307e\u3059\u3002\n\n# \u5229\u7528\u3057\u3066\u307f\u308b\n\n```jl\njulia> con = mysql_connect(\"127.0.0.1\", \"root\", \"test\", \"\")\nMySQL Handle\n------------\nHost: 127.0.0.1\nUser: root\nDB:   \n\n\njulia> command = \"select user, host from mysql.user;\"\n\"select user, host from mysql.user;\"\n\njulia> mysql_execute(con, command)\n2x2 DataFrames.DataFrame\n\u2502 Row \u2502 user   \u2502 host        \u2502\n\u251d\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2525\n\u2502 1   \u2502 \"root\" \u2502 \"%\"         \u2502\n\u2502 2   \u2502 \"root\" \u2502 \"localhost\" \u2502\n\n```\n\nroot\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u6307\u5b9a\u3057\u306a\u304f\u3066\u3082\u63a5\u7d9a\u3067\u304d\u3061\u3083\u3044\u307e\u3059\u306d\u3002\n\nMySQL.jl\u306econfig.jl\u3092\u307f\u3066\u307f\u308b\u3068\u3001Linux\u306e\u5834\u5408\u306b\u3001libmysql.so\u3092\u5229\u7528\u3057\u3066\u304a\u308a\u305d\u308c\u3088\u308a\u4e0a\u306e\u30ec\u30a4\u30e4\u3067\u5236\u5fa1\u306e\u3088\u3046\u306a\u3082\u306e\u306f\u3068\u304f\u306b\u5165\u308c\u3066\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n```config.jl\n  1 # This snippet is  taken from https://github.com/Dynactionize/MariaDB.jl\n  2 # This the configuration  file for finding the shared  object (dll) file\n  3 # for MySQL/MariaDB API.  Make sure to add the location  of the files to\n  4 # path for this to work.             \n  5 #                                    \n  6 # TODO: Need to update lib_choices for Mac OS X and Windows.\n  7                                      \n  8 using Compat                         \n  9                                      \n 10 let                                  \n 11     global mysql_lib                 \n 12     succeeded = false                \n 13     if !isdefined(:mysql_lib)        \n 14         @linux_only lib_choices = [\"libmysql.so\", \"libmysqlclient.so\",\n 15                                    \"libmysqlclient_r.so\", \"libmariadb.so\",                                                                                                                              \n 16                                    \"libmysqlclient_r.so.16\"]\n 17         @osx_only lib_choices = [\"libmysqlclient.dylib\"]\n 18         @windows_only lib_choices = [\"libmysql.dll\", \"libmariadb.dll\"]\n 19         local lib                    \n 20         for lib in lib_choices       \n 21             try                      \n 22                 Libdl.dlopen(lib)    \n 23                 succeeded = true     \n 24                 break                \n 25             end                      \n 26         end                          \n 27         succeeded || error(\"MYSQL library not found\")\n 28         @eval const mysql_lib = $lib \n 29     end                              \n 30 end   \n```\n\n## \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3059\u308b\n\n```jl\njulia> command = \"use triplew\"\n\"use triplew\"\n\njulia> mysql_execute(con, command)\n0\n\njulia> command = \"\"\"CREATE TABLE Employee\n                    (\n                        ID INT NOT NULL AUTO_INCREMENT,\n                        Name VARCHAR(255),\n                        Salary FLOAT,\n                        JoinDate DATE,\n                        PRIMARY KEY (ID)\n                    );\"\"\"\n\"CREATE TABLE Employee\\n(\\n    ID INT NOT NULL AUTO_INCREMENT,\\n    Name VARCHAR(255),\\n    Salary FLOAT,\\n    JoinDate DATE,\\n    PRIMARY KEY (ID)\\n);\"\n\njulia> mysql_execute(con, command)\n0\n\njulia> command = \"describe Employee\"\n\"describe Employee\"\n\njulia> mysql_execute(con, command)\n4x6 DataFrames.DataFrame\n\u2502 Row \u2502 Field      \u2502 Type           \u2502 Null  \u2502 Key   \u2502 Default \u2502 Extra            \u2502\n\u251d\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2525\n\u2502 1   \u2502 \"ID\"       \u2502 \"int(11)\"      \u2502 \"NO\"  \u2502 \"PRI\" \u2502 NA      \u2502 \"auto_increment\" \u2502\n\u2502 2   \u2502 \"Name\"     \u2502 \"varchar(255)\" \u2502 \"YES\" \u2502 NA    \u2502 NA      \u2502 NA               \u2502\n\u2502 3   \u2502 \"Salary\"   \u2502 \"float\"        \u2502 \"YES\" \u2502 NA    \u2502 NA      \u2502 NA               \u2502\n\u2502 4   \u2502 \"JoinDate\" \u2502 \"date\"         \u2502 \"YES\" \u2502 NA    \u2502 NA      \u2502 NA               \u2502\n```\n\nconnection\u3055\u3078\u3064\u306a\u3044\u3067\u3044\u308c\u3070\u3001\u3060\u3044\u3076\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306b\u64cd\u4f5c\u3067\u304d\u3061\u3083\u3044\u307e\u3059\u306d\u3002\u3002\n\n## \u30c7\u30fc\u30bf\u767b\u9332\u3057\u3066\u307f\u308b\n\n```jl\njulia> mysql_execute(con, \"INSERT INTO Employee (Name, Salary) values ('John', 25000.00), ('Sam', 35000.00), ('Tom', 50000.00);\")\n3\n\njulia> command = \"SELECT * FROM Employee;\"\n\"SELECT * FROM Employee;\"\n\njulia> dframe = mysql_execute(con, command)\n3x4 DataFrames.DataFrame\n\u2502 Row \u2502 ID \u2502 Name   \u2502 Salary  \u2502 JoinDate \u2502\n\u251d\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2525\n\u2502 1   \u2502 4  \u2502 \"John\" \u2502 25000.0 \u2502 NA       \u2502\n\u2502 2   \u2502 5  \u2502 \"Sam\"  \u2502 35000.0 \u2502 NA       \u2502\n\u2502 3   \u2502 6  \u2502 \"Tom\"  \u2502 50000.0 \u2502 NA       \u2502\n```\n\nDataFrames\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\u3053\u308c\u306f\u4fbf\u5229\u3067\u3059\u306d\u3002\u3002kaggle\u306e\u7df4\u7fd2\u3068\u304b\u3067\u3082\u4f7f\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n---\n\n\u672c\u65e5\u306f\u4ee5\u4e0a\u3068\u306a\u308a\u307e\u3059\u3002\n"}