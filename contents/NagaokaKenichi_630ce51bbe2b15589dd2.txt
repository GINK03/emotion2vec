{"context": "Spring Boot\u3067\u306fweb.xml\u304c\u306a\u3044\u306e\u3067Filter\u3092\u3069\u3046\u3084\u3063\u3066\u5b9a\u7fa9\u3059\u308b\u306e\u304b\u8272\u3005\u8abf\u3079\u3066\u3044\u305f\u3089\u3001\u3044\u304f\u3064\u304b\u5b9f\u88c5\u65b9\u6cd5\u304c\u3042\u3063\u305f\u3002\u672c\u8a18\u4e8b\u3067\u306f\u300c\u305d\u306e1\u300d\u3068\u3057\u3066\u4e00\u756a\u30b7\u30f3\u30d7\u30eb\u305d\u3046\u306a\u5b9f\u88c5\u3092\u3057\u3066\u307f\u308b\u3002\n\nFilter\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u30af\u30e9\u30b9\u3092\u4f5c\u3063\u3066\u30b3\u30f3\u30c6\u30ca\u767b\u9332\u3059\u308b(\u3060\u3051)\n\nLoggingFilter.java\npackage com.example.filter;\n\nimport java.io.IOException;\n\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class LoggingFilter implements Filter {\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        System.out.println(\"init!!\");\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        System.out.println(\"Before!!\");\n        chain.doFilter(request, response);\n        System.out.println(\"After!!\");\n    }\n\n    @Override\n    public void destroy() {\n        System.out.println(\"destroy!!\");\n    }\n}\n\n\njavax.servlet.Filter\u306e\u5b9f\u88c5\u30af\u30e9\u30b9\u3092\u4f5c\u3063\u3066@Component\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u4e0e\u3059\u308b\u3060\u3051\u3002\n\u3082\u3061\u308d\u3093\u3001\u3053\u306e\u30af\u30e9\u30b9\u306fComponentScan\u306b\u3072\u3063\u304b\u304b\u308b\u968e\u5c64\u306b\u914d\u7f6e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3002\n\uff5e\u7701\u7565\uff5e\n2015-12-16 00:37:20.289  INFO 6164 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.0.28\n2015-12-16 00:37:20.444  INFO 6164 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2015-12-16 00:37:20.449  INFO 6164 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2578 ms\n2015-12-16 00:37:21.136  INFO 6164 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]\n2015-12-16 00:37:21.142  INFO 6164 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'characterEncodingFilter' to: [/*]\n2015-12-16 00:37:21.143  INFO 6164 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2015-12-16 00:37:21.143  INFO 6164 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2015-12-16 00:37:21.144  INFO 6164 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'requestContextFilter' to: [/*]\n2015-12-16 00:37:21.147  INFO 6164 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'loggingFilter' to: [/*]\ninit!!\n2015-12-16 00:37:22.124  INFO 6164 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/C:/Development/sts-bundle/workspace/doma-cooperation/target/classes/schema.sql]\n2015-12-16 00:37:22.135  INFO 6164 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/C:/Development/sts-bundle/workspace/doma-cooperation/target/classes/schema.sql] in 11 ms.\n2015-12-16 00:37:22.137  INFO 6164 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/C:/Development/sts-bundle/workspace/doma-cooperation/target/classes/data.sql]\n2015-12-16 00:37:22.142  INFO 6164 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/C:/Development/sts-bundle/workspace/doma-cooperation/target/classes/data.sql] in 3 ms.\n2015-12-16 00:37:22.633  INFO 6164 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1c72da34: startup date [Wed Dec 16 00:37:17 JST 2015]; root of context hierarchy\n2015-12-16 00:37:22.735  INFO 6164 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/customers],methods=[GET]}\" onto public java.util.List<com.example.model.Customer> com.example.controller.CustomerController.getCustomers()\n2015-12-16 00:37:22.741  INFO 6164 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error]}\" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\n2015-12-16 00:37:22.742  INFO 6164 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error],produces=[text/html]}\" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest)\n2015-12-16 00:37:22.779  INFO 6164 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2015-12-16 00:37:22.779  INFO 6164 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2015-12-16 00:37:22.831  INFO 6164 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2015-12-16 00:37:23.367  INFO 6164 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2015-12-16 00:37:23.478  INFO 6164 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\n2015-12-16 00:37:23.491  INFO 6164 --- [           main] com.example.Application                  : Started Application in 6.137 seconds (JVM running for 6.794)\n2015-12-16 00:37:29.336  INFO 6164 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2015-12-16 00:37:29.336  INFO 6164 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2015-12-16 00:37:29.361  INFO 6164 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms\nBefore!!\n2015-12-16 00:37:29.459  INFO 6164 --- [nio-8080-exec-1] o.s.doma.jdbc.UtilLoggingJdbcLogger      : [DOMA2220] ENTER  : \u7e67\uff6f\u7e5d\uff69\u7e67\uff79=[com.example.repository.CustomerRepositoryImpl], \u7e5d\uff61\u7e67\uff7d\u7e5d?\u7e5d?=[selectAll]\n2015-12-16 00:37:29.571  INFO 6164 --- [nio-8080-exec-1] o.s.doma.jdbc.UtilLoggingJdbcLogger      : [DOMA2076] SQL\u7e5d\uff6d\u7e67\uff70 : SQL\u7e5d\u8f14\u3043\u7e67\uff64\u7e5d\uff6b=[META-INF/com/example/repository/CustomerRepository/selectAll.sql],\nselect id, name from customers order by id\n2015-12-16 00:37:29.644  INFO 6164 --- [nio-8080-exec-1] o.s.doma.jdbc.UtilLoggingJdbcLogger      : [DOMA2221] EXIT   : \u7e67\uff6f\u7e5d\uff69\u7e67\uff79=[com.example.repository.CustomerRepositoryImpl], \u7e5d\uff61\u7e67\uff7d\u7e5d?\u7e5d?=[selectAll]\nAfter!!\nBefore!!\nAfter!!\n2015-12-16 00:38:04.274  INFO 6164 --- [2)-192.168.0.12] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.\n2015-12-16 00:38:04.274  INFO 6164 --- [2)-192.168.0.12] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1c72da34: startup date [Wed Dec 16 00:37:17 JST 2015]; root of context hierarchy\n2015-12-16 00:38:04.277  INFO 6164 --- [2)-192.168.0.12] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\ndestroy!!\n\n\u3061\u3083\u3093\u3068\u51fa\u529b\u3055\u308c\u3066\u308b\u307f\u305f\u3044(\u6587\u5b57\u5316\u3051\u3057\u3066\u308b\u3068\u3053\u308d\u3042\u308a\u307e\u3059\u304c\u305d\u308c\u306f\u3053\u3053\u3067\u306f\u653e\u7f6e)\u3002\n\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u8907\u6570\u5165\u308c\u308b\u5834\u5408\u306f\uff1f\u305d\u306e\u9806\u756a\u306f\uff1f\n\u305d\u306e\u3042\u305f\u308a\u306f\u6b21\u56de\u3002\nSpring Boot\u3067\u306fweb.xml\u304c\u306a\u3044\u306e\u3067Filter\u3092\u3069\u3046\u3084\u3063\u3066\u5b9a\u7fa9\u3059\u308b\u306e\u304b\u8272\u3005\u8abf\u3079\u3066\u3044\u305f\u3089\u3001\u3044\u304f\u3064\u304b\u5b9f\u88c5\u65b9\u6cd5\u304c\u3042\u3063\u305f\u3002\u672c\u8a18\u4e8b\u3067\u306f\u300c\u305d\u306e1\u300d\u3068\u3057\u3066\u4e00\u756a\u30b7\u30f3\u30d7\u30eb\u305d\u3046\u306a\u5b9f\u88c5\u3092\u3057\u3066\u307f\u308b\u3002\n\n# Filter\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u30af\u30e9\u30b9\u3092\u4f5c\u3063\u3066\u30b3\u30f3\u30c6\u30ca\u767b\u9332\u3059\u308b(\u3060\u3051)\n\n```LoggingFilter.java\npackage com.example.filter;\n\nimport java.io.IOException;\n\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class LoggingFilter implements Filter {\n\n\t@Override\n\tpublic void init(FilterConfig filterConfig) throws ServletException {\n\t\tSystem.out.println(\"init!!\");\n\t}\n\n\t@Override\n\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n\t\t\tthrows IOException, ServletException {\n\t\tSystem.out.println(\"Before!!\");\n\t\tchain.doFilter(request, response);\n\t\tSystem.out.println(\"After!!\");\n\t}\n\n\t@Override\n\tpublic void destroy() {\n\t\tSystem.out.println(\"destroy!!\");\n\t}\n}\n```\n\njavax.servlet.Filter\u306e\u5b9f\u88c5\u30af\u30e9\u30b9\u3092\u4f5c\u3063\u3066@Component\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u4e0e\u3059\u308b\u3060\u3051\u3002\n\u3082\u3061\u308d\u3093\u3001\u3053\u306e\u30af\u30e9\u30b9\u306fComponentScan\u306b\u3072\u3063\u304b\u304b\u308b\u968e\u5c64\u306b\u914d\u7f6e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3002\n\n```\n\uff5e\u7701\u7565\uff5e\n2015-12-16 00:37:20.289  INFO 6164 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.0.28\n2015-12-16 00:37:20.444  INFO 6164 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2015-12-16 00:37:20.449  INFO 6164 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2578 ms\n2015-12-16 00:37:21.136  INFO 6164 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]\n2015-12-16 00:37:21.142  INFO 6164 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'characterEncodingFilter' to: [/*]\n2015-12-16 00:37:21.143  INFO 6164 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2015-12-16 00:37:21.143  INFO 6164 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2015-12-16 00:37:21.144  INFO 6164 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'requestContextFilter' to: [/*]\n2015-12-16 00:37:21.147  INFO 6164 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'loggingFilter' to: [/*]\ninit!!\n2015-12-16 00:37:22.124  INFO 6164 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/C:/Development/sts-bundle/workspace/doma-cooperation/target/classes/schema.sql]\n2015-12-16 00:37:22.135  INFO 6164 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/C:/Development/sts-bundle/workspace/doma-cooperation/target/classes/schema.sql] in 11 ms.\n2015-12-16 00:37:22.137  INFO 6164 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/C:/Development/sts-bundle/workspace/doma-cooperation/target/classes/data.sql]\n2015-12-16 00:37:22.142  INFO 6164 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/C:/Development/sts-bundle/workspace/doma-cooperation/target/classes/data.sql] in 3 ms.\n2015-12-16 00:37:22.633  INFO 6164 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1c72da34: startup date [Wed Dec 16 00:37:17 JST 2015]; root of context hierarchy\n2015-12-16 00:37:22.735  INFO 6164 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/customers],methods=[GET]}\" onto public java.util.List<com.example.model.Customer> com.example.controller.CustomerController.getCustomers()\n2015-12-16 00:37:22.741  INFO 6164 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error]}\" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\n2015-12-16 00:37:22.742  INFO 6164 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error],produces=[text/html]}\" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest)\n2015-12-16 00:37:22.779  INFO 6164 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2015-12-16 00:37:22.779  INFO 6164 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2015-12-16 00:37:22.831  INFO 6164 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2015-12-16 00:37:23.367  INFO 6164 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2015-12-16 00:37:23.478  INFO 6164 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\n2015-12-16 00:37:23.491  INFO 6164 --- [           main] com.example.Application                  : Started Application in 6.137 seconds (JVM running for 6.794)\n2015-12-16 00:37:29.336  INFO 6164 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2015-12-16 00:37:29.336  INFO 6164 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2015-12-16 00:37:29.361  INFO 6164 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms\nBefore!!\n2015-12-16 00:37:29.459  INFO 6164 --- [nio-8080-exec-1] o.s.doma.jdbc.UtilLoggingJdbcLogger      : [DOMA2220] ENTER  : \u7e67\uff6f\u7e5d\uff69\u7e67\uff79=[com.example.repository.CustomerRepositoryImpl], \u7e5d\uff61\u7e67\uff7d\u7e5d?\u7e5d?=[selectAll]\n2015-12-16 00:37:29.571  INFO 6164 --- [nio-8080-exec-1] o.s.doma.jdbc.UtilLoggingJdbcLogger      : [DOMA2076] SQL\u7e5d\uff6d\u7e67\uff70 : SQL\u7e5d\u8f14\u3043\u7e67\uff64\u7e5d\uff6b=[META-INF/com/example/repository/CustomerRepository/selectAll.sql],\nselect id, name from customers order by id\n2015-12-16 00:37:29.644  INFO 6164 --- [nio-8080-exec-1] o.s.doma.jdbc.UtilLoggingJdbcLogger      : [DOMA2221] EXIT   : \u7e67\uff6f\u7e5d\uff69\u7e67\uff79=[com.example.repository.CustomerRepositoryImpl], \u7e5d\uff61\u7e67\uff7d\u7e5d?\u7e5d?=[selectAll]\nAfter!!\nBefore!!\nAfter!!\n2015-12-16 00:38:04.274  INFO 6164 --- [2)-192.168.0.12] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.\n2015-12-16 00:38:04.274  INFO 6164 --- [2)-192.168.0.12] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1c72da34: startup date [Wed Dec 16 00:37:17 JST 2015]; root of context hierarchy\n2015-12-16 00:38:04.277  INFO 6164 --- [2)-192.168.0.12] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\ndestroy!!\n```\n\n\u3061\u3083\u3093\u3068\u51fa\u529b\u3055\u308c\u3066\u308b\u307f\u305f\u3044(\u6587\u5b57\u5316\u3051\u3057\u3066\u308b\u3068\u3053\u308d\u3042\u308a\u307e\u3059\u304c\u305d\u308c\u306f\u3053\u3053\u3067\u306f\u653e\u7f6e)\u3002\n\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u8907\u6570\u5165\u308c\u308b\u5834\u5408\u306f\uff1f\u305d\u306e\u9806\u756a\u306f\uff1f\n\u305d\u306e\u3042\u305f\u308a\u306f\u6b21\u56de\u3002\n", "tags": ["SpringBoot", "spring-boot", "spring"]}