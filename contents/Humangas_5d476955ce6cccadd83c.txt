{"context": " More than 1 year has passed since last update.RHEL5.5\u306b\u3001knife solo prepare\u3057\u305f\u3089SSL\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3057\u305f\u3002\n\u5bfe\u51e6\u6cd5\uff1a \u300cRHEL\u306e\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\uff08CRT\u30d5\u30a1\u30a4\u30eb\uff09\u3092\u4e0a\u66f8\u304d\u3059\u308b\u300d\u3067\u3059\u3002\n\n\u4eca\u56de\u306e\u74b0\u5883\n\nWORKSTATION: MacOSX 10.8.4\nNODES: RedHat Enterprise Linux 5.5\uff08\u4ee5\u4e0b\u3001RHEL\u3068\u66f8\u304d\u307e\u3059\uff09\nRuby: 1.9.3p448\nchef: 11.6.0\nknife-solo: 0.3.0\nIaaS: AWS EC2\n\n\n\u4e8b\u8c61\u307e\u3068\u3081\nMac\u304b\u3089RHEL5.5 \u306bknife solo prepare \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001curl\u30b3\u30de\u30f3\u30c9\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u3002\nSSL \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4ee5\u4e0b\u306e\u901a\u308a\u4e0a\u66f8\u304d\u3057\u305f\u5f8c\u306b\u3001\u518d\u5ea6knife solo prepare\u3092\u5b9f\u884c\u3059\u308b\u3068\u4e0a\u624b\u304f\u3044\u3063\u305f\u3002\n\u3061\u306a\u307f\u306b\u3001Amazon Linux \u306e\u5834\u5408\u306f\u3001\u3053\u3093\u306a\u3053\u3068\u3092\u3057\u306a\u304f\u3066\u3082\u3059\u3093\u306a\u308a\u4e0a\u624b\u304f\u3044\u3063\u305f\u3002\n\nknife solo prepare \u30b3\u30de\u30f3\u30c9\u3063\u3066\u4f55\u3067\u3057\u305f\u3063\u3051\uff1f\nknife solo prepare\u30b3\u30de\u30f3\u30c9\u306f\u3001NODES\uff08\u6599\u7406\u3055\u308c\u308b\u30b5\u30fc\u30d0\uff09\u306bChef \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff06\u30ec\u30b7\u30d4\u8d70\u3089\u305b\u308b\u3092\u4e00\u5ea6\u306b\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\u8981\u306f\u3001Chef Solo\u4f7f\u3046\u305f\u3081\u306e\u6e96\u5099\u7528\u306e\u30b3\u30de\u30f3\u30c9\u306a\u306e\u3067\u3001\u4e00\u5ea6\u3060\u3051\u5b9f\u884c\u3059\u308c\u3070\u305d\u308c\u3067OK\u3067\u3059\u3002\n\n\u3084\u308a\u65b9\n\nMac\uff08Chef\u3067\u8a00\u3046WORKSTATION\uff09\u304b\u3089RHEL\u5074\uff08Chef\u3067\u8a00\u3046NODES\uff09\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\nRHEL\u306eSSL\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002\nRHEL\u3092\u629c\u3051\u307e\u3059\u3002\nMac\u3067knife solo prepare\u6253\u3064\u3068\u6b63\u5e38\u306b\u51e6\u7406\u304c\u8d70\u3063\u3066\u3001RHEL\u306bChef\u304c\u30a4\u30f3\u30b9\u30b3\u3055\u308c\u307e\u3059\u3002\n\n$ vagrant ssh\n[root@ip-xxx-xxx-xxx-xxx ~]# sudo curl http://curl.haxx.se/ca/cacert.pem -o /etc/pki/tls/certs/ca-bundle.crt\n[root@ip-xxx-xxx-xxx-xxx ~]# exit \n$ knife solo prepare root@ec2-xxx-xxx-xxx-xxx.ap-northeast-1.compute.amazonaws.com -i ~/aws-key.pam \n\n\u203b \u4e0a\u8a18\u306f\u3001vagrant ssh\u30b3\u30de\u30f3\u30c9\u3067RHEL\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307e\u3059\u304c\u3001\u3053\u306e\u8a18\u4e8b\u306fRHEL5.5\u306e\u8a3c\u660e\u66f8\u306e\u8a71\u306a\u306e\u3067vagrant\u306f\u95a2\u4fc2\u306a\u3044\u3067\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u51fa\u6765\u308c\u3070\u4f55\u3067\u3082OK\u3067\u3059\u3002\n\u3061\u306a\u307f\u306b\u3001Vagrant\u3067EC2\u4e0a\u306bRHEL5.5\u3092\u4f5c\u308b\u8a71\u306f\u30b3\u30c1\u30e9\u3067\u3059\u2192 Vagrant\u3067 AWS EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\uff08RHEL5.5\uff09\u3092\u4f5c\u6210\u3059\u308b\n\u3053\u306e\u8a18\u4e8b\u901a\u308a\u74b0\u5883\u3092\u4f5c\u3063\u3066\u3001\u4eca\u5ea6\u306fChef Solo\u52d5\u304b\u305d\u3046\u3068\u306a\u3063\u305f\u6642\u306b\u3053\u306e\u8a18\u4e8b\u304c\u95a2\u4fc2\u3057\u3066\u304d\u307e\u3059\u3002\n\n\u3010\u53c2\u8003\u3011\u30a8\u30e9\u30fc\u5185\u5bb9\n\u8a3c\u660e\u66f8\u4e0a\u66f8\u304d\u524d\u306bknife solo prepare\u3092\u6253\u3064\u3068\u3053\u3093\u306a\u3093\u51fa\u307e\u3059\u3002\n$ knife solo prepare root@ec2-xxx-xxx-xxx-xxx.ap-northeast-1.compute.amazonaws.com -i ~/aws-key.pem \nBootstrapping Chef...\n\ncurl: (60) SSL certificate problem, verify that the CA cert is OK. Details:\nerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed\nMore details here: http://curl.haxx.se/docs/sslcerts.html\n\ncurl performs SSL certificate verification by default, using a \"bundle\"\n of Certificate Authority (CA) public keys (CA certs). The default\n bundle is named curl-ca-bundle.crt; you can specify an alternate file\n using the --cacert option.\nIf this HTTPS server uses a certificate signed by a CA represented in\n the bundle, the certificate verification probably failed due to a\n problem with the certificate (it might be expired, or the name might\n not match the domain name in the URL).\nIf you'd like to turn off curl's verification of the certificate, use\n the -k (or --insecure) option.\nbash: install.sh: No such file or directory\nGenerating node config 'nodes/ec2-xxx-xxx-xxx-xxx.ap-northeast-1.compute.amazonaws.com.json'...\n\n\nRHEL5.5\u306b\u3001`knife solo prepare`\u3057\u305f\u3089SSL\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3057\u305f\u3002\n\u5bfe\u51e6\u6cd5\uff1a \u300cRHEL\u306e\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\uff08CRT\u30d5\u30a1\u30a4\u30eb\uff09\u3092\u4e0a\u66f8\u304d\u3059\u308b\u300d\u3067\u3059\u3002\n\n\n# \u4eca\u56de\u306e\u74b0\u5883\n* WORKSTATION: MacOSX 10.8.4\n* NODES: RedHat Enterprise Linux 5.5\uff08\u4ee5\u4e0b\u3001RHEL\u3068\u66f8\u304d\u307e\u3059\uff09\n* Ruby: 1.9.3p448\n* chef: 11.6.0\n* knife-solo: 0.3.0\n* IaaS: AWS EC2\n\n\n# \u4e8b\u8c61\u307e\u3068\u3081\nMac\u304b\u3089RHEL5.5 \u306b`knife solo prepare` \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001`curl`\u30b3\u30de\u30f3\u30c9\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u3002\nSSL \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4ee5\u4e0b\u306e\u901a\u308a\u4e0a\u66f8\u304d\u3057\u305f\u5f8c\u306b\u3001\u518d\u5ea6`knife solo prepare`\u3092\u5b9f\u884c\u3059\u308b\u3068\u4e0a\u624b\u304f\u3044\u3063\u305f\u3002\n\u3061\u306a\u307f\u306b\u3001Amazon Linux \u306e\u5834\u5408\u306f\u3001\u3053\u3093\u306a\u3053\u3068\u3092\u3057\u306a\u304f\u3066\u3082\u3059\u3093\u306a\u308a\u4e0a\u624b\u304f\u3044\u3063\u305f\u3002\n\n## knife solo prepare \u30b3\u30de\u30f3\u30c9\u3063\u3066\u4f55\u3067\u3057\u305f\u3063\u3051\uff1f\n`knife solo prepare`\u30b3\u30de\u30f3\u30c9\u306f\u3001NODES\uff08\u6599\u7406\u3055\u308c\u308b\u30b5\u30fc\u30d0\uff09\u306bChef \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff06\u30ec\u30b7\u30d4\u8d70\u3089\u305b\u308b\u3092\u4e00\u5ea6\u306b\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\u8981\u306f\u3001Chef Solo\u4f7f\u3046\u305f\u3081\u306e\u6e96\u5099\u7528\u306e\u30b3\u30de\u30f3\u30c9\u306a\u306e\u3067\u3001\u4e00\u5ea6\u3060\u3051\u5b9f\u884c\u3059\u308c\u3070\u305d\u308c\u3067OK\u3067\u3059\u3002\n\n\n# \u3084\u308a\u65b9\n1. Mac\uff08Chef\u3067\u8a00\u3046WORKSTATION\uff09\u304b\u3089RHEL\u5074\uff08Chef\u3067\u8a00\u3046NODES\uff09\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\n1. RHEL\u306eSSL\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002\n1. RHEL\u3092\u629c\u3051\u307e\u3059\u3002\n1. Mac\u3067`knife solo prepare`\u6253\u3064\u3068\u6b63\u5e38\u306b\u51e6\u7406\u304c\u8d70\u3063\u3066\u3001RHEL\u306bChef\u304c\u30a4\u30f3\u30b9\u30b3\u3055\u308c\u307e\u3059\u3002\n\n```\n$ vagrant ssh\n[root@ip-xxx-xxx-xxx-xxx ~]# sudo curl http://curl.haxx.se/ca/cacert.pem -o /etc/pki/tls/certs/ca-bundle.crt\n[root@ip-xxx-xxx-xxx-xxx ~]# exit \n$ knife solo prepare root@ec2-xxx-xxx-xxx-xxx.ap-northeast-1.compute.amazonaws.com -i ~/aws-key.pam \n```\n\n\u203b \u4e0a\u8a18\u306f\u3001`vagrant ssh`\u30b3\u30de\u30f3\u30c9\u3067RHEL\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307e\u3059\u304c\u3001\u3053\u306e\u8a18\u4e8b\u306fRHEL5.5\u306e\u8a3c\u660e\u66f8\u306e\u8a71\u306a\u306e\u3067vagrant\u306f\u95a2\u4fc2\u306a\u3044\u3067\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u51fa\u6765\u308c\u3070\u4f55\u3067\u3082OK\u3067\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u3001Vagrant\u3067EC2\u4e0a\u306bRHEL5.5\u3092\u4f5c\u308b\u8a71\u306f\u30b3\u30c1\u30e9\u3067\u3059\u2192 [Vagrant\u3067 AWS EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\uff08RHEL5.5\uff09\u3092\u4f5c\u6210\u3059\u308b](http://qiita.com/Humangas/items/2997cc6701aa90687c04)\n\u3053\u306e\u8a18\u4e8b\u901a\u308a\u74b0\u5883\u3092\u4f5c\u3063\u3066\u3001\u4eca\u5ea6\u306fChef Solo\u52d5\u304b\u305d\u3046\u3068\u306a\u3063\u305f\u6642\u306b\u3053\u306e\u8a18\u4e8b\u304c\u95a2\u4fc2\u3057\u3066\u304d\u307e\u3059\u3002\n\n\n# \u3010\u53c2\u8003\u3011\u30a8\u30e9\u30fc\u5185\u5bb9\n\u8a3c\u660e\u66f8\u4e0a\u66f8\u304d\u524d\u306b`knife solo prepare`\u3092\u6253\u3064\u3068\u3053\u3093\u306a\u3093\u51fa\u307e\u3059\u3002\n\n```\n$ knife solo prepare root@ec2-xxx-xxx-xxx-xxx.ap-northeast-1.compute.amazonaws.com -i ~/aws-key.pem \nBootstrapping Chef...\n\ncurl: (60) SSL certificate problem, verify that the CA cert is OK. Details:\nerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed\nMore details here: http://curl.haxx.se/docs/sslcerts.html\n\ncurl performs SSL certificate verification by default, using a \"bundle\"\n of Certificate Authority (CA) public keys (CA certs). The default\n bundle is named curl-ca-bundle.crt; you can specify an alternate file\n using the --cacert option.\nIf this HTTPS server uses a certificate signed by a CA represented in\n the bundle, the certificate verification probably failed due to a\n problem with the certificate (it might be expired, or the name might\n not match the domain name in the URL).\nIf you'd like to turn off curl's verification of the certificate, use\n the -k (or --insecure) option.\nbash: install.sh: No such file or directory\nGenerating node config 'nodes/ec2-xxx-xxx-xxx-xxx.ap-northeast-1.compute.amazonaws.com.json'...\n```\n", "tags": ["Mac", "RHEL", "chef", "redhat", "Linux"]}