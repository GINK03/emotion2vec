{"tags": ["Theta", "Unity", "XML", "Unity\u62e1\u5f35"], "context": " More than 1 year has passed since last update.\n\n\u52d5\u4f5c\n\nTheta\u3067\u64ae\u5f71\u3057\u3001\u5168\u5929\u7403\u306e\u753b\u50cf\u304c\u6709\u308b\u306e\u306b\u4e00\u90e8\u3060\u3051\u3057\u304b\u95b2\u89a7\u3067\u304d\u306a\u3044\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3067\u898b\u308b\u306e\u306f\u3082\u3063\u305f\u3044\u306a\u3044!\n\u3068\u3044\u3046\u3053\u3068\u3067\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u4e0a\u8a18\u307f\u305f\u3044\u306a\u611f\u3058\u3067Ricoh Theta\u3067\u64ae\u5f71\u3055\u308c\u305f\u5199\u771f\u3092\u80cc\u666f\u306bMMD\u306e\u30e2\u30c7\u30eb\u304c\u8e0a\u308a\u3001\n\uff11\u30b7\u30fc\u30f3\u306b\u4ed8\u304d\u3001\u30a8\u30d5\u30a7\u30af\u30c8\uff08\u753b\u9762\u4e0a\u3067\u306f\u30e1\u30c6\u30aa\u3063\u307d\u3044\u306e\uff09\u3092\uff11\u500b\u4ed8\u3051\u3089\u308c\u307e\u3059\u3002\n\u80cc\u666f\u306f\u6b21\u3005\u306b\u5909\u308f\u3063\u3066\u3044\u304d\u3001\u73fe\u5728\u306f\uff11\uff10\u79d2\u305a\u3064\uff18\u500b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u753b\u50cf\u5c02\u7528\u3068\u3057\u3066\u4f5c\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u7d20\u6750\u3055\u3048\u6709\u308c\u3070\u7c21\u5358\u306b\u5225\u306e\u5199\u771f\u3067\u518d\u751f\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\nOculus\u5bfe\u5fdc\u3001\u3068\u8a00\u3046\u304b\u5c02\u7528\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nOculus\u3067\u304a\u697d\u3057\u307f\u304f\u3060\u3055\u3044\u3002\n\u4ee5\u4e0b\u30b3\u30fc\u30c9\u306e\u3053\u3068\u3068\u304b\u3002\n\u4eca\u56de\u306f\u672c\u984c\u3067\u306f\u306a\u3044\u306e\u3067\u9069\u5f53\u306b\u6d41\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30d0\u30a4\u30ca\u30ea\u306e\u30a2\u30c9\u30ec\u30b9\nhttp://bowlroll.net/up/dl28590\nhttp://bowlroll.net/up/dl28592\n\n\u30a8\u30c7\u30a3\u30c3\u30c8\u753b\u9762\n\nState\u3088\u308a\u4e0b\u3067\u5199\u771f\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u4e0a\u304b\u3089\nEndTime:\u305d\u306e\u5199\u771f\u304c\u8868\u793a\u7d42\u4e86\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\nRadius:\u5199\u771f\u3092\u8cbc\u308a\u4ed8\u3051\u308b\u5929\u7403\u3092\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002100m\u3092\u57fa\u6e96\u3068\u3057\u305d\u306e\u500d\u7387\u3067\u6307\u5b9a\nFadeIn:\u5199\u771f\u3078\u30d5\u30a7\u30fc\u30c9\u30a4\u30f3\u3059\u308b\u6642\u9593(sec)\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nFadeOut:\u5199\u771f\u304c\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\u3059\u308b\u6642\u9593(sec)\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nEffect:Effect\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002Effect\u306f\u73fe\u57286\u7a2e\u985e\u6709\u308a\u307e\u3059\u3002(\u305f\u3060\u3057\u30013\u7a2e\u985e\u306f\u96ea\u306a\u3093\u3067\u5b9f\u8cea3\u7a2e\u985e\u306e\u307f)\nRotation(\u4e0a):\u5199\u771f\u3092\u8cbc\u308a\u4ed8\u3051\u308b\u5929\u7403\u3092\u56de\u8ee2\u3055\u305b\u307e\u3059\u3002\nRotation(\u4e0b):Miku\u3055\u3093\u304c\u51fa\u3066\u304f\u308b\u4f4d\u7f6e\u3092\u6570\u5b57\u306b\u3057\u3066\u307e\u3059\u3002Rotation\u306a\u306e\u306b\u5ea7\u6a19\u3067\u3059\u3002\n\u30dc\u30bf\u30f3\nadd:add\u3092\u62bc\u3057\u305f\u5199\u771f\u306e\u4e0b\u306b1\u679a\u65b0\u3057\u3044\u5199\u771f\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\nremove:\u6307\u5b9a\u3057\u305f\u5199\u771f\u3092\u524a\u9664\u3057\u307e\u3059\u3002\nTset:\u6307\u5b9a\u3057\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30a8\u30c7\u30a3\u30bf\u30fc\u4e0a\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u30d7\u30ec\u30d3\u30e5\u30fc\u7528\u4f7f\u3044\u307e\u3059\u3002\nmikuPosGet:\u30a8\u30c7\u30a3\u30bf\u30fc\u4e0a\u3067\u914d\u7f6e\u3057\u305f\u30df\u30af\u3055\u3093\u306e\u4f4d\u7f6e\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u30df\u30af\u3055\u3093\u306e\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f\u5fc5\u305a\u3053\u308c\u3067\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\u4fdd\u5b58\u30dc\u30bf\u30f3\u3068\u304b(\u753b\u50cf\u306e\u4e0b\u306b\u4e0b\u8a18\uff13\u3064\u306e\u30dc\u30bf\u30f3\u304c\u6709\u308a\u307e\u3059\u3002)\ntest add:\u5199\u771f\u3092\u4e00\u500b\u306b\u3057\u307e\u3059\u3002\nSave:\u73fe\u5728\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u30ea\u30b9\u30c8\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002\nLoad:\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\u4ed6\u306f\u5185\u90e8\u7684\u306a\u8868\u793a\u306b\u306a\u3063\u3066\u307e\u3059\u3002\nUndo\u5b9f\u88c5\u306f\u771f\u9762\u76ee\u306b\u5b9f\u88c5\u3057\u3066\u306a\u3044\u305f\u3081\u3001\u57fa\u672c\u7684\u306b\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3002\nFileName:\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u30d5\u30a1\u30a4\u30eb\u306f\u5fc5\u305a\u30eb\u30fc\u30c8\u306b\u914d\u7f6e\u3055\u308c\u305fResource\u30d5\u30a9\u30eb\u30c0\u4e0b\u306b\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n\u5199\u771f\u3082\u5168\u3066\u30eb\u30fc\u30c8\u306b\u914d\u7f6e\u3055\u308c\u305fResource\u30d5\u30a9\u30eb\u30c0\u4e0b\u306b\u5165\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nXML\u4fdd\u5b58\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u3067\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\nXML\u306b\u3088\u308b\u4fdd\u5b58\u3067\u5f8c\u65b9\u4e92\u63db\u3082\u7dad\u6301\u3057\u6613\u3044\u3057\u3001\u30d1\u30fc\u30b5\u3082\u7c21\u5358\u306b\u66f8\u3051\u308b\u3088\u3046\u5de5\u592b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\npictDef.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<root>\n  <PictView>\n    <RotX>-7</RotX>\n    <RotY>-12.46</RotY>\n    <RotZ>5</RotZ>\n    <Texture>pict/R0010019</Texture>\n    <Radius>1</Radius>\n    <EndGTime>10</EndGTime>\n    <FadeIn>1</FadeIn>\n    <FadeOut>1</FadeOut>\n    <Effect>5</Effect>\n    <MikuPX>-0.4455535</MikuPX>\n    <MikuPY>0.7812473</MikuPY>\n    <MikuPZ>5.480559</MikuPZ>\n    <MikuRX>0</MikuRX>\n    <MikuRY>0.9972526</MikuRY>\n    <MikuRZ>0</MikuRZ>\n    <MikuRW>0.07407662</MikuRW>\n  </PictView>\n</root>\n\n\n\n\u4fdd\u5b58\u7528\u306e\u30b3\u30fc\u30c9\nEditor\u3067\u52d5\u304b\u3057\u3066\u308b\u6642\u3057\u304b\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093\u3002\n\uff08AssetDatabase.GetAssetPath(tempView.m_PictDef[i].m_Tex.GetInstanceID());\uff09\u304cEditor\u3058\u3083\u306a\u3044\u3068\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002\n\nsave\n\n    static void Save(ViewPict tempView)\n    {\n        XmlDocument xmlDoc = new XmlDocument();\n\n        XmlDeclaration declaration = xmlDoc.CreateXmlDeclaration(\"1.0\", \"UTF-8\", null);  // XML\u5ba3\u8a00\n        XmlElement elmRoot = xmlDoc.CreateElement(\"root\");  // \u30eb\u30fc\u30c8\u8981\u7d20\n\n        xmlDoc.AppendChild(declaration);\n        xmlDoc.AppendChild(elmRoot);\n\n        for (int i = 0; i < tempView.m_PictDef.Count; i++)\n        {\n            XmlElement pictViewElem = xmlDoc.CreateElement(\"PictView\");\n            XmlElement rotation_X = xmlDoc.CreateElement(\"RotX\");\n            XmlElement rotation_Y = xmlDoc.CreateElement(\"RotY\");\n            XmlElement rotation_Z = xmlDoc.CreateElement(\"RotZ\");\n            XmlElement texture = xmlDoc.CreateElement(\"Texture\");\n            XmlElement radius = xmlDoc.CreateElement(\"Radius\");\n            XmlElement endGTime = xmlDoc.CreateElement(\"EndGTime\");\n\n            XmlElement fadeIn = xmlDoc.CreateElement(\"FadeIn\");\n            XmlElement fadeOut = xmlDoc.CreateElement(\"FadeOut\");\n\n            XmlElement mikuP_X = xmlDoc.CreateElement(\"MikuPX\");\n            XmlElement mikuP_Y = xmlDoc.CreateElement(\"MikuPY\");\n            XmlElement mikuP_Z = xmlDoc.CreateElement(\"MikuPZ\");\n\n            XmlElement mikuR_X = xmlDoc.CreateElement(\"MikuRX\");\n            XmlElement mikuR_Y = xmlDoc.CreateElement(\"MikuRY\");\n            XmlElement mikuR_Z = xmlDoc.CreateElement(\"MikuRZ\");\n            XmlElement mikuR_W = xmlDoc.CreateElement(\"MikuRW\");\n\n\n            XmlElement effect = xmlDoc.CreateElement(\"Effect\");\n\n            rotation_X.InnerText = tempView.m_PictDef[i].m_Rotate.x.ToString();\n            rotation_Y.InnerText = tempView.m_PictDef[i].m_Rotate.y.ToString();\n            rotation_Z.InnerText = tempView.m_PictDef[i].m_Rotate.z.ToString();\n\n            if (tempView.m_PictDef[i].m_Tex != null)\n            {\n                string tempStr = AssetDatabase.GetAssetPath(tempView.m_PictDef[i].m_Tex.GetInstanceID());\n                tempStr = tempStr.Replace( \"Assets/Resources/\" ,\"\");\n                tempStr = tempStr.Remove(tempStr.LastIndexOfAny(\".\".ToCharArray()));\n                texture.InnerText = tempStr;\n\n            }\n            else\n            { \n                texture.InnerText = \"null\";\n            }\n\n            radius.InnerText = tempView.m_PictDef[i].m_Radius.ToString();\n            endGTime.InnerText = tempView.m_PictDef[i].m_EndGTime.ToString();\n\n            fadeIn.InnerText = tempView.m_PictDef[i].m_FadeIn.ToString();\n            fadeOut.InnerText = tempView.m_PictDef[i].m_FadeOut.ToString();\n            effect.InnerText = tempView.m_PictDef[i].m_Effect.ToString();\n\n            mikuP_X.InnerText = tempView.m_PictDef[i].m_MikuPos.x.ToString();\n            mikuP_Y.InnerText = tempView.m_PictDef[i].m_MikuPos.y.ToString();\n            mikuP_Z.InnerText = tempView.m_PictDef[i].m_MikuPos.z.ToString();\n\n            mikuR_X.InnerText = tempView.m_PictDef[i].m_MikuRot.x.ToString();\n            mikuR_Y.InnerText = tempView.m_PictDef[i].m_MikuRot.y.ToString();\n            mikuR_Z.InnerText = tempView.m_PictDef[i].m_MikuRot.z.ToString();\n            mikuR_W.InnerText = tempView.m_PictDef[i].m_MikuRot.w.ToString();\n\n            pictViewElem.AppendChild(rotation_X);\n            pictViewElem.AppendChild(rotation_Y);\n            pictViewElem.AppendChild(rotation_Z);\n            pictViewElem.AppendChild(texture);\n            pictViewElem.AppendChild(radius);\n            pictViewElem.AppendChild(endGTime);\n            pictViewElem.AppendChild(fadeIn);\n            pictViewElem.AppendChild(fadeOut);\n            pictViewElem.AppendChild(effect);\n\n            pictViewElem.AppendChild(mikuP_X);\n            pictViewElem.AppendChild(mikuP_Y);\n            pictViewElem.AppendChild(mikuP_Z);\n\n            pictViewElem.AppendChild(mikuR_X);\n            pictViewElem.AppendChild(mikuR_Y);\n            pictViewElem.AppendChild(mikuR_Z);\n            pictViewElem.AppendChild(mikuR_W);\n\n\n            elmRoot.AppendChild(pictViewElem);\n        }\n\n\n        xmlDoc.Save(\"Assets/Resources/\" + tempView.m_FileName+\".xml\");\n\n    }\n\n\n\n\u8aad\u307f\u51fa\u3057\u7528\u30b3\u30fc\u30c9\nEditor\u5074\u3067\u306a\u304f\u3068\u3082\u52d5\u304d\u307e\u3059\u3002\n\u3053\u308c\u3092Awake()\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u547c\u3073\u51fa\u3057\u3066\u4fdd\u5b58\u3055\u308c\u305f\u60c5\u5831\u3092\u5438\u3044\u51fa\u3057\u307e\u3059\u3002\n\nload\n    public static void LoadXML(ViewPict vPict, bool angleOut)\n    {\n        ReleaseAll( vPict );\n        vPict.m_PictDef = new List<PictDef>();\n        TextAsset xmlFile = (TextAsset)Resources.Load(vPict.m_FileName, typeof(TextAsset));\n        MemoryStream assetStream = new MemoryStream(xmlFile.bytes);\n        XmlDocument xmlDoc = new XmlDocument();\n        xmlDoc.Load(assetStream);\n\n        XmlNode root = xmlDoc.DocumentElement;\n\n        for (int i = 0; i < root.ChildNodes.Count; i++)\n        {\n            if (root.ChildNodes[i].Name == \"PictView\")\n            {\n                AnalyzePictNode(vPict, root.ChildNodes[i], angleOut);\n            }\n        }\n\n        xmlDoc = null;\n    }\n\n    static void AnalyzePictNode( ViewPict vPict , XmlNode node , bool angleOut)\n    {\n\n        PictDef tempDef = new PictDef();\n        for (int i = 0; i < node.ChildNodes.Count; i++)\n        {\n            if (node.ChildNodes[i].Name == \"RotX\")\n            {\n                tempDef.m_Rotate.x = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"RotY\")\n            {\n                tempDef.m_Rotate.y = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"RotZ\")\n            {\n                tempDef.m_Rotate.z = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"Texture\")\n            {\n\n                if (node.ChildNodes[i].InnerText == \"null\")\n                {\n                    tempDef.m_Tex = null;\n                }\n                else\n                {\n                    tempDef.m_Tex = (Texture)Resources.Load(node.ChildNodes[i].InnerText ,typeof(Texture));\n                    if (angleOut)\n                    {\n                        SerchAngle(node.ChildNodes[i].InnerText);\n                    }\n\n                }\n\n            }\n            else if (node.ChildNodes[i].Name == \"Radius\")\n            {\n                tempDef.m_Radius = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"EndGTime\")\n            {\n                tempDef.m_EndGTime = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"FadeIn\")\n            {\n                tempDef.m_FadeIn = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"FadeOut\")\n            {\n                tempDef.m_FadeOut = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"Effect\")\n            {\n                tempDef.m_Effect = int.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"MikuPX\")\n            {\n                tempDef.m_MikuPos.x = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"MikuPY\")\n            {\n                tempDef.m_MikuPos.y = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"MikuPZ\")\n            {\n                tempDef.m_MikuPos.z = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"MikuRX\")\n            {\n                tempDef.m_MikuRot.x = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"MikuRY\")\n            {\n                tempDef.m_MikuRot.y = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"MikuRZ\")\n            {\n                tempDef.m_MikuRot.z = float.Parse(node.ChildNodes[i].InnerText);\n            }\n            else if (node.ChildNodes[i].Name == \"MikuRW\")\n            {\n                tempDef.m_MikuRot.w = float.Parse(node.ChildNodes[i].InnerText);\n            }\n\n        }\n        vPict.m_PictDef.Add(tempDef);\n    }\n\n\n\n\u30a8\u30c7\u30a3\u30bf\u30fc\u62e1\u5f35\n\u30a8\u30c7\u30a3\u30bf\u30fc\u90e8\u5206\u3092\u4f5c\u3063\u3066\u308b\u30b3\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\n\u7279\u5fb4\u3068\u3057\u3066\u306f\u3001\n\u300c\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f5c\u308b\u305f\u3081\u306e\u30b3\u30fc\u30c9\u306e\u90e8\u5206\u300d\u3068\u300c\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u3001\u5909\u66f4\u304c\u3042\u3063\u305f\u6642\u7b49\u306b\u52d5\u304f\u90e8\u5206\u300d\u304c\n\u5206\u96e2\u3057\u3066\u3044\u308b\u3053\u3068\u3067\u3059\u3002\n\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f5c\u308b\u6240\u306f\u30ec\u30a4\u30a2\u30a6\u30c8\u3060\u3051\u3092\u8003\u3048\u3089\u308c\n\u30c7\u30fc\u30bf\u4fee\u6b63\u3082\u30ec\u30a4\u30a2\u30a6\u30c8\u306b\u5f71\u97ff\u3055\u308c\u308b\u3053\u3068\u306a\u304f\u66f8\u304f\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\u4e00\u898bUndo\u51e6\u7406\u3082\u66f8\u3044\u3066\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u304c\u3001\u5b9f\u969b\u306b\u306f\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3002\n\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u5165\u3063\u3066\u305f\u3093\u3067\u3059\u304c\u9014\u4e2d\u3067\u9762\u5012\u304f\u3055\u304f\u306a\u3063\u3066\u3061\u3083\u3093\u3068\u66f8\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\nXML\u3092\u30d0\u30a4\u30ca\u30ea\u5316\u3057\u3066\u30c7\u30fc\u30bf\u5165\u308c\u308c\u3070\u52d5\u304f\u3088\u3046\u306a\u6c17\u304c\u3057\u307e\u3059\u304c\u3084\u3063\u3066\u307e\u305b\u3093\u3002\n\u203b\u4e0b\u8a18\u306e\u884c\u306e\u8fba\u308a\u304c\u540d\u6b8b\u3067\u3059\u3002\n\u30fbUndo.RegisterUndo(target, \"Step size change\");\n\u30fbEditorUtility.SetDirty(target);\n\nsave\n    public override void OnInspectorGUI()\n    {\n        base.OnInspectorGUI();\n\n        ViewPict tempPoint = target as ViewPict;\n\n\n        EditorGUILayout.BeginVertical();\n        for (int i = 0; i < tempPoint.m_PictDef.Count  ;i++ )\n        {\n            EditorGUILayout.BeginHorizontal();\n\n                EditorGUILayout.BeginVertical();\n                    Texture tempTex =(Texture) EditorGUILayout.ObjectField( \"\",tempPoint.m_PictDef[i].m_Tex ,typeof(Texture) ,true);\n                    EditorGUILayout.BeginHorizontal();\n                        bool addButton = GUILayout.Button(\"add\");\n                        bool removeButton = GUILayout.Button(\"remove\");\n                        bool setAngle = GUILayout.Button(\"TSet\");\n                    EditorGUILayout.EndHorizontal();\n                    EditorGUILayout.BeginHorizontal();\n                        bool mikuPos = GUILayout.Button(\"mikuPosGet\");\n                    EditorGUILayout.EndHorizontal();\n                EditorGUILayout.EndVertical();\n\n\n                EditorGUILayout.BeginVertical();\n\n                    float tempEnd = EditorGUILayout.FloatField(\"EndTime\", tempPoint.m_PictDef[i].m_EndGTime);\n                    float radius = EditorGUILayout.FloatField(\"Radius\" , tempPoint.m_PictDef[i].m_Radius );\n\n                    float fadeIn = EditorGUILayout.FloatField(\"FadeIn\", tempPoint.m_PictDef[i].m_FadeIn);\n                    float fadeOut = EditorGUILayout.FloatField(\"FadeOut\", tempPoint.m_PictDef[i].m_FadeOut );\n                    int effect = EditorGUILayout.IntField(\"Effect\", tempPoint.m_PictDef[i].m_Effect );\n\n\n                EditorGUILayout.EndVertical();\n            EditorGUILayout.EndHorizontal();\n            Vector3 tempVec3 = EditorGUILayout.Vector3Field(\"Rotation\", tempPoint.m_PictDef[i].m_Rotate);\n            Vector3 tempMikuPos = EditorGUILayout.Vector3Field(\"Rotation\", tempPoint.m_PictDef[i].m_MikuPos);\n\n            if (tempTex)\n            {\n                Undo.RegisterUndo(target, \"Step size change\");\n                tempPoint.m_PictDef[i].m_Tex = tempTex;\n                EditorUtility.SetDirty(target); \n            }\n\n            if (tempEnd != tempPoint.m_PictDef[i].m_EndGTime ||\n                radius != tempPoint.m_PictDef[i].m_Radius ||\n                tempVec3 != tempPoint.m_PictDef[i].m_Rotate ||\n\n                fadeIn != tempPoint.m_PictDef[i].m_FadeIn ||\n                fadeOut != tempPoint.m_PictDef[i].m_FadeOut ||\n                effect != tempPoint.m_PictDef[i].m_Effect \n                )\n            {\n                Undo.RegisterUndo(target, \"Step size change\");\n                tempPoint.m_PictDef[i].m_EndGTime = tempEnd;\n                tempPoint.m_PictDef[i].m_Radius  = radius;\n                tempPoint.m_PictDef[i].m_Rotate = tempVec3;\n\n                tempPoint.m_PictDef[i].m_FadeIn  = fadeIn;\n                tempPoint.m_PictDef[i].m_FadeOut = fadeOut;\n                tempPoint.m_PictDef[i].m_Effect = effect;\n                tempPoint.m_PictSphere.transform.rotation = Quaternion.Euler(tempPoint.m_PictDef[i].m_Rotate);\n\n                EditorUtility.SetDirty(target);\n\n            }\n\n            if (addButton)\n            {\n                Undo.RegisterUndo(target, \"Step size change\");\n\n                tempPoint.m_PictDef.Insert(i + 1, new ViewPict.PictDef());\n                EditorUtility.SetDirty(target);\n                i++;\n            }\n\n            if (removeButton)\n            {\n                Undo.RegisterUndo(target, \"Step size change\");\n\n                tempPoint.m_PictDef.RemoveAt(i);\n                EditorUtility.SetDirty(target);\n                i--;\n            }\n\n            if (setAngle == true)\n            {\n                tempPoint.m_PictSphere.renderer.sharedMaterial.SetTexture(\"_MainTex\", tempPoint.m_PictDef[i].m_Tex);\n                tempPoint.m_PictSphere.transform.rotation = Quaternion.Euler(tempPoint.m_PictDef[i].m_Rotate);\n\n                tempPoint.m_Miku.transform.position = tempPoint.m_PictDef[i].m_MikuPos;\n                tempPoint.m_Miku.transform.rotation = tempPoint.m_PictDef[i].m_MikuRot;\n            }\n\n            if (mikuPos == true)\n            {\n                tempPoint.m_PictDef[i].m_MikuPos = tempPoint.m_Miku.transform.position;\n                tempPoint.m_PictDef[i].m_MikuRot = tempPoint.m_Miku.transform.rotation;\n            }\n        }\n        EditorGUILayout.EndVertical();\n\n\n        EditorGUILayout.BeginHorizontal();\n            if (GUILayout.Button(\"test add\"))\n            {\n                tempPoint.m_PictDef.Add(new ViewPict.PictDef());\n            }\n\n            if (GUILayout.Button(\"Save\"))\n            {\n                Save(tempPoint);\n            }\n\n            if( GUILayout.Button(\"Load\") )\n            {\n                ViewPict.LoadXML(tempPoint , true);\n            }\n        EditorGUILayout.EndHorizontal();\n\n    }\n\n\n\u52d5\u4f5c\n===\n![game.jpg](https://qiita-image-store.s3.amazonaws.com/0/32364/17d4b62a-de2d-fc69-daca-8d843f053ce6.jpeg)\nTheta\u3067\u64ae\u5f71\u3057\u3001\u5168\u5929\u7403\u306e\u753b\u50cf\u304c\u6709\u308b\u306e\u306b\u4e00\u90e8\u3060\u3051\u3057\u304b\u95b2\u89a7\u3067\u304d\u306a\u3044\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3067\u898b\u308b\u306e\u306f\u3082\u3063\u305f\u3044\u306a\u3044!\n\u3068\u3044\u3046\u3053\u3068\u3067\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u4e0a\u8a18\u307f\u305f\u3044\u306a\u611f\u3058\u3067Ricoh Theta\u3067\u64ae\u5f71\u3055\u308c\u305f\u5199\u771f\u3092\u80cc\u666f\u306bMMD\u306e\u30e2\u30c7\u30eb\u304c\u8e0a\u308a\u3001\n\uff11\u30b7\u30fc\u30f3\u306b\u4ed8\u304d\u3001\u30a8\u30d5\u30a7\u30af\u30c8\uff08\u753b\u9762\u4e0a\u3067\u306f\u30e1\u30c6\u30aa\u3063\u307d\u3044\u306e\uff09\u3092\uff11\u500b\u4ed8\u3051\u3089\u308c\u307e\u3059\u3002\n\u80cc\u666f\u306f\u6b21\u3005\u306b\u5909\u308f\u3063\u3066\u3044\u304d\u3001\u73fe\u5728\u306f\uff11\uff10\u79d2\u305a\u3064\uff18\u500b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u753b\u50cf\u5c02\u7528\u3068\u3057\u3066\u4f5c\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u7d20\u6750\u3055\u3048\u6709\u308c\u3070\u7c21\u5358\u306b\u5225\u306e\u5199\u771f\u3067\u518d\u751f\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\nOculus\u5bfe\u5fdc\u3001\u3068\u8a00\u3046\u304b\u5c02\u7528\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nOculus\u3067\u304a\u697d\u3057\u307f\u304f\u3060\u3055\u3044\u3002\n\n\u4ee5\u4e0b\u30b3\u30fc\u30c9\u306e\u3053\u3068\u3068\u304b\u3002\n\u4eca\u56de\u306f\u672c\u984c\u3067\u306f\u306a\u3044\u306e\u3067\u9069\u5f53\u306b\u6d41\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30d0\u30a4\u30ca\u30ea\u306e\u30a2\u30c9\u30ec\u30b9\n\nhttp://bowlroll.net/up/dl28590\nhttp://bowlroll.net/up/dl28592\n\n\u30a8\u30c7\u30a3\u30c3\u30c8\u753b\u9762\n===\n![slide.jpg](https://qiita-image-store.s3.amazonaws.com/0/32364/36d842b0-3768-69da-69d6-35106dc74b26.jpeg)\nState\u3088\u308a\u4e0b\u3067\u5199\u771f\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u4e0a\u304b\u3089\nEndTime:\u305d\u306e\u5199\u771f\u304c\u8868\u793a\u7d42\u4e86\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\nRadius:\u5199\u771f\u3092\u8cbc\u308a\u4ed8\u3051\u308b\u5929\u7403\u3092\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002100m\u3092\u57fa\u6e96\u3068\u3057\u305d\u306e\u500d\u7387\u3067\u6307\u5b9a\nFadeIn:\u5199\u771f\u3078\u30d5\u30a7\u30fc\u30c9\u30a4\u30f3\u3059\u308b\u6642\u9593(sec)\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nFadeOut:\u5199\u771f\u304c\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\u3059\u308b\u6642\u9593(sec)\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nEffect:Effect\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002Effect\u306f\u73fe\u57286\u7a2e\u985e\u6709\u308a\u307e\u3059\u3002(\u305f\u3060\u3057\u30013\u7a2e\u985e\u306f\u96ea\u306a\u3093\u3067\u5b9f\u8cea3\u7a2e\u985e\u306e\u307f)\nRotation(\u4e0a):\u5199\u771f\u3092\u8cbc\u308a\u4ed8\u3051\u308b\u5929\u7403\u3092\u56de\u8ee2\u3055\u305b\u307e\u3059\u3002\nRotation(\u4e0b):Miku\u3055\u3093\u304c\u51fa\u3066\u304f\u308b\u4f4d\u7f6e\u3092\u6570\u5b57\u306b\u3057\u3066\u307e\u3059\u3002Rotation\u306a\u306e\u306b\u5ea7\u6a19\u3067\u3059\u3002\n\n\u30dc\u30bf\u30f3\nadd:add\u3092\u62bc\u3057\u305f\u5199\u771f\u306e\u4e0b\u306b1\u679a\u65b0\u3057\u3044\u5199\u771f\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\nremove:\u6307\u5b9a\u3057\u305f\u5199\u771f\u3092\u524a\u9664\u3057\u307e\u3059\u3002\nTset:\u6307\u5b9a\u3057\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30a8\u30c7\u30a3\u30bf\u30fc\u4e0a\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u30d7\u30ec\u30d3\u30e5\u30fc\u7528\u4f7f\u3044\u307e\u3059\u3002\nmikuPosGet:\u30a8\u30c7\u30a3\u30bf\u30fc\u4e0a\u3067\u914d\u7f6e\u3057\u305f\u30df\u30af\u3055\u3093\u306e\u4f4d\u7f6e\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u30df\u30af\u3055\u3093\u306e\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f\u5fc5\u305a\u3053\u308c\u3067\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u4fdd\u5b58\u30dc\u30bf\u30f3\u3068\u304b(\u753b\u50cf\u306e\u4e0b\u306b\u4e0b\u8a18\uff13\u3064\u306e\u30dc\u30bf\u30f3\u304c\u6709\u308a\u307e\u3059\u3002)\ntest add:\u5199\u771f\u3092\u4e00\u500b\u306b\u3057\u307e\u3059\u3002\nSave:\u73fe\u5728\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u30ea\u30b9\u30c8\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002\nLoad:\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n\u4ed6\u306f\u5185\u90e8\u7684\u306a\u8868\u793a\u306b\u306a\u3063\u3066\u307e\u3059\u3002\nUndo\u5b9f\u88c5\u306f\u771f\u9762\u76ee\u306b\u5b9f\u88c5\u3057\u3066\u306a\u3044\u305f\u3081\u3001\u57fa\u672c\u7684\u306b\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3002\nFileName:\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u30d5\u30a1\u30a4\u30eb\u306f\u5fc5\u305a\u30eb\u30fc\u30c8\u306b\u914d\u7f6e\u3055\u308c\u305fResource\u30d5\u30a9\u30eb\u30c0\u4e0b\u306b\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n\u5199\u771f\u3082\u5168\u3066\u30eb\u30fc\u30c8\u306b\u914d\u7f6e\u3055\u308c\u305fResource\u30d5\u30a9\u30eb\u30c0\u4e0b\u306b\u5165\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nXML\u4fdd\u5b58\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n===\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u3067\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\nXML\u306b\u3088\u308b\u4fdd\u5b58\u3067\u5f8c\u65b9\u4e92\u63db\u3082\u7dad\u6301\u3057\u6613\u3044\u3057\u3001\u30d1\u30fc\u30b5\u3082\u7c21\u5358\u306b\u66f8\u3051\u308b\u3088\u3046\u5de5\u592b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```XML:pictDef.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<root>\n  <PictView>\n    <RotX>-7</RotX>\n    <RotY>-12.46</RotY>\n    <RotZ>5</RotZ>\n    <Texture>pict/R0010019</Texture>\n    <Radius>1</Radius>\n    <EndGTime>10</EndGTime>\n    <FadeIn>1</FadeIn>\n    <FadeOut>1</FadeOut>\n    <Effect>5</Effect>\n    <MikuPX>-0.4455535</MikuPX>\n    <MikuPY>0.7812473</MikuPY>\n    <MikuPZ>5.480559</MikuPZ>\n    <MikuRX>0</MikuRX>\n    <MikuRY>0.9972526</MikuRY>\n    <MikuRZ>0</MikuRZ>\n    <MikuRW>0.07407662</MikuRW>\n  </PictView>\n</root>\n```\n\n\u4fdd\u5b58\u7528\u306e\u30b3\u30fc\u30c9\n===\n\nEditor\u3067\u52d5\u304b\u3057\u3066\u308b\u6642\u3057\u304b\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093\u3002\n\uff08AssetDatabase.GetAssetPath(tempView.m_PictDef[i].m_Tex.GetInstanceID());\uff09\u304cEditor\u3058\u3083\u306a\u3044\u3068\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002\n\n```csharp:save\n\n\tstatic void Save(ViewPict tempView)\n\t{\n\t\tXmlDocument xmlDoc = new XmlDocument();\n\n\t\tXmlDeclaration declaration = xmlDoc.CreateXmlDeclaration(\"1.0\", \"UTF-8\", null);  // XML\u5ba3\u8a00\n\t\tXmlElement elmRoot = xmlDoc.CreateElement(\"root\");  // \u30eb\u30fc\u30c8\u8981\u7d20\n\n\t\txmlDoc.AppendChild(declaration);\n\t\txmlDoc.AppendChild(elmRoot);\n\n\t\tfor (int i = 0; i < tempView.m_PictDef.Count; i++)\n\t\t{\n\t\t\tXmlElement pictViewElem = xmlDoc.CreateElement(\"PictView\");\n\t\t\tXmlElement rotation_X = xmlDoc.CreateElement(\"RotX\");\n\t\t\tXmlElement rotation_Y = xmlDoc.CreateElement(\"RotY\");\n\t\t\tXmlElement rotation_Z = xmlDoc.CreateElement(\"RotZ\");\n\t\t\tXmlElement texture = xmlDoc.CreateElement(\"Texture\");\n\t\t\tXmlElement radius = xmlDoc.CreateElement(\"Radius\");\n\t\t\tXmlElement endGTime = xmlDoc.CreateElement(\"EndGTime\");\n\n\t\t\tXmlElement fadeIn = xmlDoc.CreateElement(\"FadeIn\");\n\t\t\tXmlElement fadeOut = xmlDoc.CreateElement(\"FadeOut\");\n\n\t\t\tXmlElement mikuP_X = xmlDoc.CreateElement(\"MikuPX\");\n\t\t\tXmlElement mikuP_Y = xmlDoc.CreateElement(\"MikuPY\");\n\t\t\tXmlElement mikuP_Z = xmlDoc.CreateElement(\"MikuPZ\");\n\n\t\t\tXmlElement mikuR_X = xmlDoc.CreateElement(\"MikuRX\");\n\t\t\tXmlElement mikuR_Y = xmlDoc.CreateElement(\"MikuRY\");\n\t\t\tXmlElement mikuR_Z = xmlDoc.CreateElement(\"MikuRZ\");\n\t\t\tXmlElement mikuR_W = xmlDoc.CreateElement(\"MikuRW\");\n\n\n\t\t\tXmlElement effect = xmlDoc.CreateElement(\"Effect\");\n\n\t\t\trotation_X.InnerText = tempView.m_PictDef[i].m_Rotate.x.ToString();\n\t\t\trotation_Y.InnerText = tempView.m_PictDef[i].m_Rotate.y.ToString();\n\t\t\trotation_Z.InnerText = tempView.m_PictDef[i].m_Rotate.z.ToString();\n\n\t\t\tif (tempView.m_PictDef[i].m_Tex != null)\n\t\t\t{\n\t\t\t\tstring tempStr = AssetDatabase.GetAssetPath(tempView.m_PictDef[i].m_Tex.GetInstanceID());\n\t\t\t\ttempStr = tempStr.Replace( \"Assets/Resources/\" ,\"\");\n\t\t\t\ttempStr = tempStr.Remove(tempStr.LastIndexOfAny(\".\".ToCharArray()));\n\t\t\t\ttexture.InnerText = tempStr;\n\n\t\t\t}\n\t\t\telse\n\t\t\t{ \n\t\t\t\ttexture.InnerText = \"null\";\n\t\t\t}\n\n\t\t\tradius.InnerText = tempView.m_PictDef[i].m_Radius.ToString();\n\t\t\tendGTime.InnerText = tempView.m_PictDef[i].m_EndGTime.ToString();\n\n\t\t\tfadeIn.InnerText = tempView.m_PictDef[i].m_FadeIn.ToString();\n\t\t\tfadeOut.InnerText = tempView.m_PictDef[i].m_FadeOut.ToString();\n\t\t\teffect.InnerText = tempView.m_PictDef[i].m_Effect.ToString();\n\n\t\t\tmikuP_X.InnerText = tempView.m_PictDef[i].m_MikuPos.x.ToString();\n\t\t\tmikuP_Y.InnerText = tempView.m_PictDef[i].m_MikuPos.y.ToString();\n\t\t\tmikuP_Z.InnerText = tempView.m_PictDef[i].m_MikuPos.z.ToString();\n\n\t\t\tmikuR_X.InnerText = tempView.m_PictDef[i].m_MikuRot.x.ToString();\n\t\t\tmikuR_Y.InnerText = tempView.m_PictDef[i].m_MikuRot.y.ToString();\n\t\t\tmikuR_Z.InnerText = tempView.m_PictDef[i].m_MikuRot.z.ToString();\n\t\t\tmikuR_W.InnerText = tempView.m_PictDef[i].m_MikuRot.w.ToString();\n\n\t\t\tpictViewElem.AppendChild(rotation_X);\n\t\t\tpictViewElem.AppendChild(rotation_Y);\n\t\t\tpictViewElem.AppendChild(rotation_Z);\n\t\t\tpictViewElem.AppendChild(texture);\n\t\t\tpictViewElem.AppendChild(radius);\n\t\t\tpictViewElem.AppendChild(endGTime);\n\t\t\tpictViewElem.AppendChild(fadeIn);\n\t\t\tpictViewElem.AppendChild(fadeOut);\n\t\t\tpictViewElem.AppendChild(effect);\n\n\t\t\tpictViewElem.AppendChild(mikuP_X);\n\t\t\tpictViewElem.AppendChild(mikuP_Y);\n\t\t\tpictViewElem.AppendChild(mikuP_Z);\n\n\t\t\tpictViewElem.AppendChild(mikuR_X);\n\t\t\tpictViewElem.AppendChild(mikuR_Y);\n\t\t\tpictViewElem.AppendChild(mikuR_Z);\n\t\t\tpictViewElem.AppendChild(mikuR_W);\n\n\n\t\t\telmRoot.AppendChild(pictViewElem);\n\t\t}\n\n\n\t\txmlDoc.Save(\"Assets/Resources/\" + tempView.m_FileName+\".xml\");\n\n\t}\n```\n\n\u8aad\u307f\u51fa\u3057\u7528\u30b3\u30fc\u30c9\n===\n\nEditor\u5074\u3067\u306a\u304f\u3068\u3082\u52d5\u304d\u307e\u3059\u3002\n\u3053\u308c\u3092Awake()\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u547c\u3073\u51fa\u3057\u3066\u4fdd\u5b58\u3055\u308c\u305f\u60c5\u5831\u3092\u5438\u3044\u51fa\u3057\u307e\u3059\u3002\n\n```csharp:load\n\tpublic static void LoadXML(ViewPict vPict, bool angleOut)\n\t{\n\t\tReleaseAll( vPict );\n\t\tvPict.m_PictDef = new List<PictDef>();\n\t\tTextAsset xmlFile = (TextAsset)Resources.Load(vPict.m_FileName, typeof(TextAsset));\n\t\tMemoryStream assetStream = new MemoryStream(xmlFile.bytes);\n\t\tXmlDocument xmlDoc = new XmlDocument();\n\t\txmlDoc.Load(assetStream);\n\n\t\tXmlNode root = xmlDoc.DocumentElement;\n\n\t\tfor (int i = 0; i < root.ChildNodes.Count; i++)\n\t\t{\n\t\t\tif (root.ChildNodes[i].Name == \"PictView\")\n\t\t\t{\n\t\t\t\tAnalyzePictNode(vPict, root.ChildNodes[i], angleOut);\n\t\t\t}\n\t\t}\n\n\t\txmlDoc = null;\n\t}\n\n\tstatic void AnalyzePictNode( ViewPict vPict , XmlNode node , bool angleOut)\n\t{\n\n\t\tPictDef tempDef = new PictDef();\n\t\tfor (int i = 0; i < node.ChildNodes.Count; i++)\n\t\t{\n\t\t\tif (node.ChildNodes[i].Name == \"RotX\")\n\t\t\t{\n\t\t\t\ttempDef.m_Rotate.x = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"RotY\")\n\t\t\t{\n\t\t\t\ttempDef.m_Rotate.y = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"RotZ\")\n\t\t\t{\n\t\t\t\ttempDef.m_Rotate.z = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"Texture\")\n\t\t\t{\n\n\t\t\t\tif (node.ChildNodes[i].InnerText == \"null\")\n\t\t\t\t{\n\t\t\t\t\ttempDef.m_Tex = null;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttempDef.m_Tex = (Texture)Resources.Load(node.ChildNodes[i].InnerText ,typeof(Texture));\n\t\t\t\t\tif (angleOut)\n\t\t\t\t\t{\n\t\t\t\t\t\tSerchAngle(node.ChildNodes[i].InnerText);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"Radius\")\n\t\t\t{\n\t\t\t\ttempDef.m_Radius = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"EndGTime\")\n\t\t\t{\n\t\t\t\ttempDef.m_EndGTime = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"FadeIn\")\n\t\t\t{\n\t\t\t\ttempDef.m_FadeIn = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"FadeOut\")\n\t\t\t{\n\t\t\t\ttempDef.m_FadeOut = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"Effect\")\n\t\t\t{\n\t\t\t\ttempDef.m_Effect = int.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"MikuPX\")\n\t\t\t{\n\t\t\t\ttempDef.m_MikuPos.x = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"MikuPY\")\n\t\t\t{\n\t\t\t\ttempDef.m_MikuPos.y = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"MikuPZ\")\n\t\t\t{\n\t\t\t\ttempDef.m_MikuPos.z = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"MikuRX\")\n\t\t\t{\n\t\t\t\ttempDef.m_MikuRot.x = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"MikuRY\")\n\t\t\t{\n\t\t\t\ttempDef.m_MikuRot.y = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"MikuRZ\")\n\t\t\t{\n\t\t\t\ttempDef.m_MikuRot.z = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\t\t\telse if (node.ChildNodes[i].Name == \"MikuRW\")\n\t\t\t{\n\t\t\t\ttempDef.m_MikuRot.w = float.Parse(node.ChildNodes[i].InnerText);\n\t\t\t}\n\n\t\t}\n\t\tvPict.m_PictDef.Add(tempDef);\n\t}\n```\n\n\u30a8\u30c7\u30a3\u30bf\u30fc\u62e1\u5f35\n===\n\u30a8\u30c7\u30a3\u30bf\u30fc\u90e8\u5206\u3092\u4f5c\u3063\u3066\u308b\u30b3\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\n\u7279\u5fb4\u3068\u3057\u3066\u306f\u3001\n\u300c\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f5c\u308b\u305f\u3081\u306e\u30b3\u30fc\u30c9\u306e\u90e8\u5206\u300d\u3068\u300c\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u3001\u5909\u66f4\u304c\u3042\u3063\u305f\u6642\u7b49\u306b\u52d5\u304f\u90e8\u5206\u300d\u304c\n\u5206\u96e2\u3057\u3066\u3044\u308b\u3053\u3068\u3067\u3059\u3002\n\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f5c\u308b\u6240\u306f\u30ec\u30a4\u30a2\u30a6\u30c8\u3060\u3051\u3092\u8003\u3048\u3089\u308c\n\u30c7\u30fc\u30bf\u4fee\u6b63\u3082\u30ec\u30a4\u30a2\u30a6\u30c8\u306b\u5f71\u97ff\u3055\u308c\u308b\u3053\u3068\u306a\u304f\u66f8\u304f\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n\u4e00\u898bUndo\u51e6\u7406\u3082\u66f8\u3044\u3066\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u304c\u3001\u5b9f\u969b\u306b\u306f\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3002\n\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u5165\u3063\u3066\u305f\u3093\u3067\u3059\u304c\u9014\u4e2d\u3067\u9762\u5012\u304f\u3055\u304f\u306a\u3063\u3066\u3061\u3083\u3093\u3068\u66f8\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\nXML\u3092\u30d0\u30a4\u30ca\u30ea\u5316\u3057\u3066\u30c7\u30fc\u30bf\u5165\u308c\u308c\u3070\u52d5\u304f\u3088\u3046\u306a\u6c17\u304c\u3057\u307e\u3059\u304c\u3084\u3063\u3066\u307e\u305b\u3093\u3002\n\u203b\u4e0b\u8a18\u306e\u884c\u306e\u8fba\u308a\u304c\u540d\u6b8b\u3067\u3059\u3002\n\u30fbUndo.RegisterUndo(target, \"Step size change\");\n\u30fbEditorUtility.SetDirty(target);\n\n\n```csharp:save\n\tpublic override void OnInspectorGUI()\n\t{\n\t\tbase.OnInspectorGUI();\n\n\t\tViewPict tempPoint = target as ViewPict;\n\n\n\t\tEditorGUILayout.BeginVertical();\n\t\tfor (int i = 0; i < tempPoint.m_PictDef.Count  ;i++ )\n\t\t{\n\t\t\tEditorGUILayout.BeginHorizontal();\n\n\t\t\t\tEditorGUILayout.BeginVertical();\n\t\t\t\t\tTexture tempTex =(Texture) EditorGUILayout.ObjectField(\t\"\",tempPoint.m_PictDef[i].m_Tex ,typeof(Texture) ,true);\n\t\t\t\t\tEditorGUILayout.BeginHorizontal();\n\t\t\t\t\t\tbool addButton = GUILayout.Button(\"add\");\n\t\t\t\t\t\tbool removeButton = GUILayout.Button(\"remove\");\n\t\t\t\t\t\tbool setAngle = GUILayout.Button(\"TSet\");\n\t\t\t\t\tEditorGUILayout.EndHorizontal();\n\t\t\t\t\tEditorGUILayout.BeginHorizontal();\n\t\t\t\t\t\tbool mikuPos = GUILayout.Button(\"mikuPosGet\");\n\t\t\t\t\tEditorGUILayout.EndHorizontal();\n\t\t\t\tEditorGUILayout.EndVertical();\n\n\n\t\t\t\tEditorGUILayout.BeginVertical();\n\n\t\t\t\t\tfloat tempEnd = EditorGUILayout.FloatField(\"EndTime\", tempPoint.m_PictDef[i].m_EndGTime);\n\t\t\t\t\tfloat radius = EditorGUILayout.FloatField(\"Radius\" , tempPoint.m_PictDef[i].m_Radius );\n\n\t\t\t\t\tfloat fadeIn = EditorGUILayout.FloatField(\"FadeIn\", tempPoint.m_PictDef[i].m_FadeIn);\n\t\t\t\t\tfloat fadeOut = EditorGUILayout.FloatField(\"FadeOut\", tempPoint.m_PictDef[i].m_FadeOut );\n\t\t\t\t\tint effect = EditorGUILayout.IntField(\"Effect\", tempPoint.m_PictDef[i].m_Effect );\n\n\t\t\t\t\t\n\t\t\t\tEditorGUILayout.EndVertical();\n\t\t\tEditorGUILayout.EndHorizontal();\n\t\t\tVector3 tempVec3 = EditorGUILayout.Vector3Field(\"Rotation\", tempPoint.m_PictDef[i].m_Rotate);\n\t\t\tVector3 tempMikuPos = EditorGUILayout.Vector3Field(\"Rotation\", tempPoint.m_PictDef[i].m_MikuPos);\n\n\t\t\tif (tempTex)\n\t\t\t{\n\t\t\t\tUndo.RegisterUndo(target, \"Step size change\");\n\t\t\t\ttempPoint.m_PictDef[i].m_Tex = tempTex;\n\t\t\t\tEditorUtility.SetDirty(target); \n\t\t\t}\n\n\t\t\tif (tempEnd != tempPoint.m_PictDef[i].m_EndGTime ||\n\t\t\t\tradius != tempPoint.m_PictDef[i].m_Radius ||\n\t\t\t\ttempVec3 != tempPoint.m_PictDef[i].m_Rotate ||\n\n\t\t\t\tfadeIn != tempPoint.m_PictDef[i].m_FadeIn ||\n\t\t\t\tfadeOut != tempPoint.m_PictDef[i].m_FadeOut ||\n\t\t\t\teffect != tempPoint.m_PictDef[i].m_Effect \n\t\t\t\t)\n\t\t\t{\n\t\t\t\tUndo.RegisterUndo(target, \"Step size change\");\n\t\t\t\ttempPoint.m_PictDef[i].m_EndGTime = tempEnd;\n\t\t\t\ttempPoint.m_PictDef[i].m_Radius  = radius;\n\t\t\t\ttempPoint.m_PictDef[i].m_Rotate = tempVec3;\n\n\t\t\t\ttempPoint.m_PictDef[i].m_FadeIn  = fadeIn;\n\t\t\t\ttempPoint.m_PictDef[i].m_FadeOut = fadeOut;\n\t\t\t\ttempPoint.m_PictDef[i].m_Effect = effect;\n\t\t\t\ttempPoint.m_PictSphere.transform.rotation = Quaternion.Euler(tempPoint.m_PictDef[i].m_Rotate);\n\n\t\t\t\tEditorUtility.SetDirty(target);\n\t\t\t\t\n\t\t\t}\n\n\t\t\tif (addButton)\n\t\t\t{\n\t\t\t\tUndo.RegisterUndo(target, \"Step size change\");\n\n\t\t\t\ttempPoint.m_PictDef.Insert(i + 1, new ViewPict.PictDef());\n\t\t\t\tEditorUtility.SetDirty(target);\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\tif (removeButton)\n\t\t\t{\n\t\t\t\tUndo.RegisterUndo(target, \"Step size change\");\n\n\t\t\t\ttempPoint.m_PictDef.RemoveAt(i);\n\t\t\t\tEditorUtility.SetDirty(target);\n\t\t\t\ti--;\n\t\t\t}\n\n\t\t\tif (setAngle == true)\n\t\t\t{\n\t\t\t\ttempPoint.m_PictSphere.renderer.sharedMaterial.SetTexture(\"_MainTex\", tempPoint.m_PictDef[i].m_Tex);\n\t\t\t\ttempPoint.m_PictSphere.transform.rotation = Quaternion.Euler(tempPoint.m_PictDef[i].m_Rotate);\n\n\t\t\t\ttempPoint.m_Miku.transform.position = tempPoint.m_PictDef[i].m_MikuPos;\n\t\t\t\ttempPoint.m_Miku.transform.rotation = tempPoint.m_PictDef[i].m_MikuRot;\n\t\t\t}\n\n\t\t\tif (mikuPos == true)\n\t\t\t{\n\t\t\t\ttempPoint.m_PictDef[i].m_MikuPos = tempPoint.m_Miku.transform.position;\n\t\t\t\ttempPoint.m_PictDef[i].m_MikuRot = tempPoint.m_Miku.transform.rotation;\n\t\t\t}\n\t\t}\n\t\tEditorGUILayout.EndVertical();\n\n\n\t\tEditorGUILayout.BeginHorizontal();\n\t\t\tif (GUILayout.Button(\"test add\"))\n\t\t\t{\n\t\t\t\ttempPoint.m_PictDef.Add(new ViewPict.PictDef());\n\t\t\t}\n\n\t\t\tif (GUILayout.Button(\"Save\"))\n\t\t\t{\n\t\t\t\tSave(tempPoint);\n\t\t\t}\n\t\t\t\n\t\t\tif( GUILayout.Button(\"Load\") )\n\t\t\t{\n\t\t\t\tViewPict.LoadXML(tempPoint , true);\n\t\t\t}\n\t\tEditorGUILayout.EndHorizontal();\n\n\t}\n```\n"}