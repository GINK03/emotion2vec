{"tags": ["newrelic"], "context": " More than 1 year has passed since last update.\n\n1.\u8a18\u4e8b\u306e\u80cc\u666f\nNewRelic\u306eREST API\u3092\u4f7f\u3046\u3068\u3001NewRelic APM(Application Performance Monitoring)\u306e\u753b\u9762\u3067\u898b\u308c\u308b\u5185\u5bb9\u304cJSON\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nSummary data examples (v2)\n\u4eca\u56de\u306e\u53c2\u8003\u8a18\u4e8b\nNewRelic Rest API \u3068 Sensu \u3068\u306e\u9023\u643a\n\u8a73\u89e3 NewRelic \u3067\u6027\u80fd\u6539\u5584\u301c\u305d\u306e\uff13\n\n\u3053\u306eAPI\u3092\u4f7f\u3048\u3070\u3001\u53c2\u8003\u8a18\u4e8b\u306e\u3088\u3046\u306b\u8272\u3005\u306a\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u4eca\u56de\u306fKey Transaction\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3001\u7279\u5b9aURL\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n2.NewRelic API\u3092\u53e9\u304f\u307e\u3067\u306e\u4e0b\u6e96\u5099\n\n2-1.API Key\u306e\u53d6\u5f97\nREST API Key\u306f\u3001NewRelic\u753b\u9762\u4e0a\u306e\u4ee5\u4e0b\u306e\u5834\u6240\u306b\u3042\u308b\u3002\n\nREST API Key\u3092\u305d\u306e\u307e\u307e\u4f7f\u3046\u304b\u3001Admin\u30e6\u30fc\u30b6\u3054\u3068\u306b\u4f5c\u6210\u3067\u304d\u308bAPI Key\u3092\u4f7f\u3046\u304b\u306f\u7528\u9014\u306b\u5fdc\u3058\u3066\u4f7f\u3044\u5206\u3051\u308c\u3070\u3088\u3044\u304b\u3068\u3002\n\n2-2.Key Transactions\u306e\u8a2d\u5b9a\nNewRelic\u306eKey Transactions\u3068\u3044\u3046\u6a5f\u80fd\u3092\u4f7f\u3046\u3068\u3001\u7279\u5b9aURL\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c7\u30fc\u30bf\u307e\u3067\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u306e\u753b\u9762\u3067\u3001\u753b\u50cf\u306eAdd More\u3092\u30af\u30ea\u30c3\u30af\n\nKey Transactions\u306e\u8ffd\u52a0\u306f\u3001\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3084transaction\u306e\u5019\u88dc\u304c\u88dc\u5b8c\u3055\u308c\u308b\u3002\n\n3.NewRelic APM\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c7\u30fc\u30bf\u53d6\u5f97\u65b9\u6cd5\n\u53c2\u8003\u8a18\u4e8b\u306b\u3082\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001API Explore\u3067\u30af\u30a8\u30ea\u306e\u6295\u3052\u65b9\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30af\u30a8\u30ea\u3067curl\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u69d8\u306aJSON\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\n\n3-1.\u8907\u6570\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4e2d\u3067\u3001\u7279\u5b9a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\n\n\u30af\u30a8\u30ea(\u30af\u30a8\u30ea\u5b9f\u884c\u5f8c\u306e\u7d50\u679c\u3092jq\u3067\u6574\u5f62)\ncurl -s -X GET 'https://api.newrelic.com/v2/applications.json' -H 'X-Api-Key:\u3010API Key\u3011' -d 'filter[ids]=\u3010Application ID\u3011' | jq .\n\n\n\u7d50\u679c(\"XXXXXXX\"\u306e\u90e8\u5206\u306f\u4f0f\u305b\u3066\u307e\u3059)\n{\n  \"applications\": [\n    {\n      \"id\": \"XXXXXXX\",\n      \"name\": \"XXXXXXX\",\n      \"language\": \"php\",\n      \"health_status\": \"green\",\n      \"reporting\": true,\n      \"last_reported_at\": \"2015-12-12T05:37:41+00:00\",\n      \"application_summary\": {\n        \"response_time\": 95.6,\n        \"throughput\": 17.7,\n        \"error_rate\": 0,\n        \"apdex_target\": 0.5,\n        \"apdex_score\": 1,\n        \"host_count\": 1,\n        \"instance_count\": 1\n      },\n      \"settings\": {\n        \"app_apdex_threshold\": 0.5,\n        \"end_user_apdex_threshold\": 7,\n        \"enable_real_user_monitoring\": true,\n        \"use_server_side_config\": false\n      },\n      \"links\": {\n        \"application_instances\": [\n          \"XXXXXXX\"\n        ],\n        \"alert_policy\": \"XXXXXXX\",\n        \"servers\": [\n          \"XXXXXXX\"\n        ],\n        \"application_hosts\": [\n          \"XXXXXXX\"\n        ]\n      }\n    }\n  ],\n  \"links\": {\n    \"application.servers\": \"/v2/servers?ids={server_ids}\",\n    \"application.server\": \"/v2/servers/{server_id}\",\n    \"application.application_hosts\": \"/v2/application/{application_id}/hosts?ids={host_ids}\",\n    \"application.application_host\": \"/v2/application/{application_id}/hosts/{host_id}\",\n    \"application.application_instances\": \"/v2/application/{application_id}/instances?ids={instance_ids}\",\n    \"application.application_instance\": \"/v2/application/{application_id}/instances/{instance_id}\",\n    \"application.alert_policy\": \"/v2/alert_policies/{alert_policy_id}\"\n  }\n}\n\n\n3-2.\u7279\u5b9aURL\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\n\n\u30af\u30a8\u30ea(\u30af\u30a8\u30ea\u5b9f\u884c\u5f8c\u306e\u7d50\u679c\u3092jq\u3067\u6574\u5f62)\ncurl -s -X GET 'https://api.newrelic.com/v2/key_transactions.json' -H 'X-Api-Key:\u3010API Key\u3011' -d 'filter[ids]=\u3010Key Transactions ID\u3011' | jq .\n\n\n\u7d50\u679c(\"XXXXXXX\"\u306e\u90e8\u5206\u306f\u4f0f\u305b\u3066\u307e\u3059)\n{\n  \"key_transactions\": [\n    {\n      \"id\": \"XXXXXXX\",\n      \"name\": \"/XXXXXXX/XXXXXXX.php\",\n      \"transaction_name\": \"/XXXXXXX/XXXXXXX.php\",\n      \"health_status\": \"green\",\n      \"reporting\": true,\n      \"last_reported_at\": \"2015-12-13T02:00:41+00:00\",\n      \"application_summary\": {\n        \"response_time\": 175,\n        \"throughput\": 6.33,\n        \"error_rate\": 0,\n        \"apdex_target\": 0.5,\n        \"apdex_score\": 1\n      },\n      \"links\": {\n        \"application\": \"XXXXXXX\"\n      }\n    }\n  ],\n  \"links\": {\n    \"key_transaction.application\": \"/v2/applications/{application_id}\"\n  }\n}\n\n\n4.\u307e\u3068\u3081\nNewRelic\u3092\u904b\u7528\u3057\u3066\u3044\u308b\u3068\u3001APM\u5168\u4f53\u306e\u5024\u306b\u632f\u308a\u56de\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\u3001\nKey Transaction\u6a5f\u80fd\u307e\u3067\u4f7f\u3063\u3066\u3042\u3052\u308b\u3068\u3001\u7279\u5b9aURL\u306e\u6027\u80fd\u76e3\u8996\u307e\u3067\u884c\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u307e\u305f\u3001\u53d6\u5f97\u3057\u305fJSON\u30c7\u30fc\u30bf\u3092ZABBIX\u306a\u3069\u306e\u76e3\u8996\u30c4\u30fc\u30eb\u3078\u9023\u643a\u3055\u305b\u308b\u3053\u3068\u3067\u3001\u30a2\u30e9\u30fc\u30c8\u306e\u901a\u77e5\u5148\u3092\u3044\u3064\u3082\u4f7f\u3063\u3066\u3044\u308b\u76e3\u8996\u30c4\u30fc\u30eb\u306b\u96c6\u7d04\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u306b\u306a\u308b\u306e\u3067\u3001\u3044\u3061\u3069\u4f7f\u3063\u3066\u307f\u3066\u306f\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002\n\n# 1.\u8a18\u4e8b\u306e\u80cc\u666f\nNewRelic\u306eREST API\u3092\u4f7f\u3046\u3068\u3001NewRelic APM(Application Performance Monitoring)\u306e\u753b\u9762\u3067\u898b\u308c\u308b\u5185\u5bb9\u304cJSON\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\n- \u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n[Summary data examples (v2)](https://docs.newrelic.com/docs/apis/rest-api-v2/application-examples-v2/summary-data-examples-v2)\n\n- \u4eca\u56de\u306e\u53c2\u8003\u8a18\u4e8b\n[NewRelic Rest API \u3068 Sensu \u3068\u306e\u9023\u643a](http://qiita.com/essa/items/a97651fba31ffb052ebf)\n[\u8a73\u89e3 NewRelic \u3067\u6027\u80fd\u6539\u5584\u301c\u305d\u306e\uff13](http://qiita.com/wapa5pow/items/8847225416293af09504)\n\t\n\u3053\u306eAPI\u3092\u4f7f\u3048\u3070\u3001\u53c2\u8003\u8a18\u4e8b\u306e\u3088\u3046\u306b\u8272\u3005\u306a\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u4eca\u56de\u306fKey Transaction\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3001\u7279\u5b9aURL\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n#2.NewRelic API\u3092\u53e9\u304f\u307e\u3067\u306e\u4e0b\u6e96\u5099\n##2-1.API Key\u306e\u53d6\u5f97\nREST API Key\u306f\u3001NewRelic\u753b\u9762\u4e0a\u306e\u4ee5\u4e0b\u306e\u5834\u6240\u306b\u3042\u308b\u3002\n![newrelic_apikey.png](https://qiita-image-store.s3.amazonaws.com/0/14190/4abd261e-7be9-66c7-6595-1fb58eddac08.png \"newrelic_apikey.png\")\nREST API Key\u3092\u305d\u306e\u307e\u307e\u4f7f\u3046\u304b\u3001Admin\u30e6\u30fc\u30b6\u3054\u3068\u306b\u4f5c\u6210\u3067\u304d\u308bAPI Key\u3092\u4f7f\u3046\u304b\u306f\u7528\u9014\u306b\u5fdc\u3058\u3066\u4f7f\u3044\u5206\u3051\u308c\u3070\u3088\u3044\u304b\u3068\u3002\n\n\n##2-2.Key Transactions\u306e\u8a2d\u5b9a\nNewRelic\u306eKey Transactions\u3068\u3044\u3046\u6a5f\u80fd\u3092\u4f7f\u3046\u3068\u3001\u7279\u5b9aURL\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c7\u30fc\u30bf\u307e\u3067\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n![key_transactions_add.png](https://qiita-image-store.s3.amazonaws.com/0/14190/acf8e2fe-9f31-89a9-ac98-cccb75f0b630.png \"key_transactions_add.png\")\n\u3053\u306e\u753b\u9762\u3067\u3001\u753b\u50cf\u306eAdd More\u3092\u30af\u30ea\u30c3\u30af\n\n![key_transaction_select.png](https://qiita-image-store.s3.amazonaws.com/0/14190/940d5f1c-ee47-a96f-9a80-559b5d2cef8a.png \"key_transaction_select.png\")\nKey Transactions\u306e\u8ffd\u52a0\u306f\u3001\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3084transaction\u306e\u5019\u88dc\u304c\u88dc\u5b8c\u3055\u308c\u308b\u3002\n\n#3.NewRelic APM\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c7\u30fc\u30bf\u53d6\u5f97\u65b9\u6cd5\n\u53c2\u8003\u8a18\u4e8b\u306b\u3082\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001[API Explore](https://rpm.newrelic.com/api/explore)\u3067\u30af\u30a8\u30ea\u306e\u6295\u3052\u65b9\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30af\u30a8\u30ea\u3067curl\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u69d8\u306aJSON\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\n\n## 3-1.\u8907\u6570\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4e2d\u3067\u3001\u7279\u5b9a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\n### \u30af\u30a8\u30ea(\u30af\u30a8\u30ea\u5b9f\u884c\u5f8c\u306e\u7d50\u679c\u3092jq\u3067\u6574\u5f62)\n```\ncurl -s -X GET 'https://api.newrelic.com/v2/applications.json' -H 'X-Api-Key:\u3010API Key\u3011' -d 'filter[ids]=\u3010Application ID\u3011' | jq .\n```\n### \u7d50\u679c(\"XXXXXXX\"\u306e\u90e8\u5206\u306f\u4f0f\u305b\u3066\u307e\u3059)\n```\n{\n  \"applications\": [\n    {\n      \"id\": \"XXXXXXX\",\n      \"name\": \"XXXXXXX\",\n      \"language\": \"php\",\n      \"health_status\": \"green\",\n      \"reporting\": true,\n      \"last_reported_at\": \"2015-12-12T05:37:41+00:00\",\n      \"application_summary\": {\n        \"response_time\": 95.6,\n        \"throughput\": 17.7,\n        \"error_rate\": 0,\n        \"apdex_target\": 0.5,\n        \"apdex_score\": 1,\n        \"host_count\": 1,\n        \"instance_count\": 1\n      },\n      \"settings\": {\n        \"app_apdex_threshold\": 0.5,\n        \"end_user_apdex_threshold\": 7,\n        \"enable_real_user_monitoring\": true,\n        \"use_server_side_config\": false\n      },\n      \"links\": {\n        \"application_instances\": [\n          \"XXXXXXX\"\n        ],\n        \"alert_policy\": \"XXXXXXX\",\n        \"servers\": [\n          \"XXXXXXX\"\n        ],\n        \"application_hosts\": [\n          \"XXXXXXX\"\n        ]\n      }\n    }\n  ],\n  \"links\": {\n    \"application.servers\": \"/v2/servers?ids={server_ids}\",\n    \"application.server\": \"/v2/servers/{server_id}\",\n    \"application.application_hosts\": \"/v2/application/{application_id}/hosts?ids={host_ids}\",\n    \"application.application_host\": \"/v2/application/{application_id}/hosts/{host_id}\",\n    \"application.application_instances\": \"/v2/application/{application_id}/instances?ids={instance_ids}\",\n    \"application.application_instance\": \"/v2/application/{application_id}/instances/{instance_id}\",\n    \"application.alert_policy\": \"/v2/alert_policies/{alert_policy_id}\"\n  }\n}\n```\n\n## 3-2.\u7279\u5b9aURL\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\n### \u30af\u30a8\u30ea(\u30af\u30a8\u30ea\u5b9f\u884c\u5f8c\u306e\u7d50\u679c\u3092jq\u3067\u6574\u5f62)\n```\ncurl -s -X GET 'https://api.newrelic.com/v2/key_transactions.json' -H 'X-Api-Key:\u3010API Key\u3011' -d 'filter[ids]=\u3010Key Transactions ID\u3011' | jq .\n```\n\n### \u7d50\u679c(\"XXXXXXX\"\u306e\u90e8\u5206\u306f\u4f0f\u305b\u3066\u307e\u3059)\n```\n{\n  \"key_transactions\": [\n    {\n      \"id\": \"XXXXXXX\",\n      \"name\": \"/XXXXXXX/XXXXXXX.php\",\n      \"transaction_name\": \"/XXXXXXX/XXXXXXX.php\",\n      \"health_status\": \"green\",\n      \"reporting\": true,\n      \"last_reported_at\": \"2015-12-13T02:00:41+00:00\",\n      \"application_summary\": {\n        \"response_time\": 175,\n        \"throughput\": 6.33,\n        \"error_rate\": 0,\n        \"apdex_target\": 0.5,\n        \"apdex_score\": 1\n      },\n      \"links\": {\n        \"application\": \"XXXXXXX\"\n      }\n    }\n  ],\n  \"links\": {\n    \"key_transaction.application\": \"/v2/applications/{application_id}\"\n  }\n}\n```\n\n#4.\u307e\u3068\u3081\nNewRelic\u3092\u904b\u7528\u3057\u3066\u3044\u308b\u3068\u3001APM\u5168\u4f53\u306e\u5024\u306b\u632f\u308a\u56de\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\u3001\nKey Transaction\u6a5f\u80fd\u307e\u3067\u4f7f\u3063\u3066\u3042\u3052\u308b\u3068\u3001\u7279\u5b9aURL\u306e\u6027\u80fd\u76e3\u8996\u307e\u3067\u884c\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u307e\u305f\u3001\u53d6\u5f97\u3057\u305fJSON\u30c7\u30fc\u30bf\u3092ZABBIX\u306a\u3069\u306e\u76e3\u8996\u30c4\u30fc\u30eb\u3078\u9023\u643a\u3055\u305b\u308b\u3053\u3068\u3067\u3001\u30a2\u30e9\u30fc\u30c8\u306e\u901a\u77e5\u5148\u3092\u3044\u3064\u3082\u4f7f\u3063\u3066\u3044\u308b\u76e3\u8996\u30c4\u30fc\u30eb\u306b\u96c6\u7d04\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u306b\u306a\u308b\u306e\u3067\u3001\u3044\u3061\u3069\u4f7f\u3063\u3066\u307f\u3066\u306f\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002\n"}