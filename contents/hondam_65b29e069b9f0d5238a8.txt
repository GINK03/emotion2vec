{"context": " More than 1 year has passed since last update.PowerDNS\u3001Atomia DNS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089DNSSEC\u306e\u8a2d\u5b9a(\u4e0a\u4f4d\u30be\u30fc\u30f3\u3078\u306e\u767b\u9332\u306f\u884c\u308f\u306a\u3044)\u307e\u3067\u3092\u884c\u3046\u3002\n\n\n\nAtomia DNS\u3001PowerDNS\u69cb\u6210\n\n\n\n\n\n\n\n\n\n1. PowerDNS\u3068\u306f\nPowerDNS\u306fGPL\u30e9\u30a4\u30bb\u30f3\u30b9\u306eC++\u3067\u5b9f\u88c5\u3055\u308c\u305fDNS\u30b5\u30fc\u30d0\u3067\u3059\u3002\u307b\u3068\u3093\u3069\u306eUNIX\u30e9\u30a4\u30af\u306aOS\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002PowerDNS\u306f\u30b7\u30f3\u30d7\u30eb\u306aBIND\u30b9\u30bf\u30a4\u30eb\u306e\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u304b\u3089RDBMS\u3084\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b7\u30f3\u30b0\uff0f\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u307e\u3067\u591a\u5c90\u306b\u6e21\u308b\u7279\u5fb4\u304c\u3042\u308a\u307e\u3059\u3002\u5225\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u3057\u3066DNS recursor\u3082\u542b\u307f\u307e\u3059\u3002\nPowerDNS\u306f\u30aa\u30e9\u30f3\u30c0\u306e\u4f01\u696dPowerDNS.COM BV\u3068\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30b3\u30df\u30e5\u30cb\u304b\u3089\u306e\u591a\u304f\u306e\u8ca2\u732e\u306b\u3088\u3063\u3066\u751f\u307f\u51fa\u3055\u308c\u307e\u3057\u305f\u3002\u8457\u540d\u306a\u30c7\u30d9\u30ed\u30c3\u30d1\u306fBer Hubert\u6c0f\u3067\u3059\u3002\n\n\u95a2\u9023\u30b5\u30a4\u30c8\n\nPowerDNS\u516c\u5f0f\u30b5\u30a4\u30c8\nPowerDNS\u30de\u30cb\u30e5\u30a2\u30eb\nPowerDNS\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30b5\u30a4\u30c8\nPowerDNS\u30db\u30b9\u30c6\u30a3\u30f3\u30b0\n\n\n\u95a2\u9023\u30c4\u30fc\u30eb\n\nPoweradmin\npdnsops\nPowerDNS on Rails\nJPower Admin\nAtomia DNS\n\n\n2. Atomia DNS\u3068\u306f\nAtomia DNS\u306f\u30b9\u30a6\u30a7\u30fc\u30c7\u30f3\u306e\u4f01\u696dAtomia AB\u304c\u63d0\u4f9b\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306eDNS\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002Atomia DNS\u306f\u305d\u308c\u5358\u4f53\u3067\u306f\u52d5\u4f5c\u305b\u305a\u3001BIND\u3084PowerDNS\u3068\u30be\u30fc\u30f3\u60c5\u5831\u3092\u540c\u671f\u3059\u308b\u3053\u3068\u3067\u4f5c\u7528\u3057\u307e\u3059\u3002\nAtomia DNS\u306f\u4e3b\u306b2\u3064\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3001Atomia DNS Database\u3068Atomia DNS API\u304b\u3089\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u540c\u3058\u30de\u30b7\u30f3\u4e0a\u307e\u306f\u305f\u7570\u306a\u308b\u30de\u30b7\u30f3\u4e0a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\u307e\u305f\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066Atomia DNS API\u3092\u547c\u3073\u51fa\u3059CLI\u30c4\u30fc\u30eb\u306eAtomia DNS Client\u3001GUI\u30c4\u30fc\u30eb\u306eAtomia DNS Web App\u304c\u3042\u308a\u307e\u3059\u3002\n\u3055\u3089\u306bBIND\u3084PowerDNS\u7b49\u306eDNS\u30b5\u30fc\u30d0\u3068\u540c\u671f\u3059\u308b\u306b\u306f\u5225\u9014\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u95a2\u9023\u30b5\u30a4\u30c8\n\nAtomia DNS\u516c\u5f0f\u30b5\u30a4\u30c8\nAtomia DNS\u30de\u30cb\u30e5\u30a2\u30eb\nAtomia DNS API\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\n\n3. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n3.1 Atomia DNS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n3.1.1 Atomia DNS Master\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nAtomia DNS Master\u306fAtomia DNS Database\u3068Atomia DNS API\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u3059\u3002\u540c\u3058\u30de\u30b7\u30f3\u4e0a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u306fAtomia DNS Master\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u3087\u3046\u3002\n# wget -q -O - http://public.apt.atomia.com/setup.sh.shtml | sed s/%distcode/`lsb_release -c | awk '{ print $2 }'`/g | sh\n# apt-get install atomiadns-masterserver\n\nAtomia DNS\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n# vim /etc/atomiadns.conf\n\n\n3.1.2 Atomia DNS Client\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# apt-get install atomiadns-client\n\n\n3.1.3 Atomia DNS Web App\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# apt-get install atomiadns-webapp\n\n\n3.2 PowerDNS\u3068\u306e\u9023\u643a\n\n3.2.1 Atomia DNS PowerDNS database\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\natomiadns-powerdns-database\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001mysql-server\u53ca\u3073mysql-client\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308cpowerdns\u7528\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u307e\u305fpowerdns\u7528\u306econf\u30d5\u30a1\u30a4\u30eb\u3082\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n# apt-get install atomiadns-powerdns-database\n# dpkg -L atomiadns-powerdns-database\n/.\n/usr\n/usr/share\n/usr/share/doc\n/usr/share/doc/atomiadns-powerdns-database\n/usr/share/doc/atomiadns-powerdns-database/copyright\n/usr/share/doc/atomiadns-powerdns-database/changelog.gz\n/usr/share/atomiadns\n/usr/share/atomiadns/powerdns.sql\n/usr/share/atomia\n/usr/share/atomia/conf\n/usr/share/atomia/conf/atomiadns.conf.atomiapowerdns-database\n/usr/share/atomia/conf/pdns.conf\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u4f5c\u6210\u3055\u308c\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3002\npowerdns_schemaversion\u30c6\u30fc\u30d6\u30eb\u4ee5\u5916\u306f\u7a7a\u3067\u3059\u3002\n# mysql -u root -p\nEnter passowrd:\nmysql> use powerdns;\nmysql> show tables;\n+------------------------+\n| Tables_in_powerdns     |\n+------------------------+\n| cryptokeys             |\n| domainmetadata         |\n| domains                |\n| global_cryptokeys      |\n| global_domainmetadata  |\n| outbound_tsig_keys     |\n| powerdns_schemaversion |\n| records                |\n| supermasters           |\n| tsigkeys               |\n+------------------------+\n10 rows in set (0.00 sec)\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u751f\u6210\u3055\u308c\u308bpowerdns\u7528conf\u30d5\u30a1\u30a4\u30eb\u3002\nPowerDNS\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306bMySQL\u3092\u4f7f\u3046\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u306e\u3068\u3001DNSSEC\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n# cat /etc/powerdns/pdns.conf \nlaunch=gmysql\ngmysql-host=localhost\ngmysql-user=powerdns\ngmysql-dbname=powerdns\ngmysql-password=02c98b78a3db6de9d98454f36d286f00d862b51d\ngmysql-dnssec=yes\n\n\n3.2.2 Atomia DNS PowerDNS sync\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4e0a\u8a18\u306eatomiadns-powerdns-database\u30d1\u30c3\u30b1\u30fc\u30b8\u3060\u3051\u3067\u306fPowerDNS\u3068\u9023\u643a\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093\u3002\n\u8ffd\u52a0\u3067atomiadns-powerdnssync\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\natomiadns-powerdnssync\u306fAtomia DNS API\u3092\u5229\u7528\u3057\u5fc5\u8981\u306a\u60c5\u5831\u3092\u53d6\u5f97\u3001\u305d\u306e\u60c5\u5831\u3092\u76f4\u63a5PowerDNS\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9(\u4eca\u56de\u3067\u3042\u308c\u3070\u4e0a\u8a18\u306eMySQL)\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n# apt-get install atomiadns-powerdnssync\n# dpkg -L atomiadns-powerdnssync\n/.\n/usr\n/usr/share\n/usr/share/doc\n/usr/share/doc/atomiadns-powerdnssync\n/usr/share/doc/atomiadns-powerdnssync/copyright\n/usr/share/doc/atomiadns-powerdnssync/changelog.gz\n/usr/share/atomia\n/usr/share/atomia/conf\n/usr/share/atomia/conf/atomiadns.conf.atomiapowerdnssync\n/usr/share/atomia/opendnssec_scripts\n/usr/share/atomia/opendnssec_scripts/add_to_opendnssec.sh\n/usr/share/atomia/opendnssec_scripts/remove_from_opendnssec.sh\n/usr/share/atomia/opendnssec_scripts/export_keys_for_zone.sh\n/usr/share/perl5\n/usr/share/perl5/Atomia\n/usr/share/perl5/Atomia/DNS\n/usr/share/perl5/Atomia/DNS/PowerDNSDatabase.pm\n/usr/share/perl5/Atomia/DNS/PowerDNSSyncer.pm\n/usr/share/man\n/usr/share/man/man1\n/usr/share/man/man1/atomiapowerdnssync.1p.gz\n/usr/bin\n/usr/bin/atomiapowerdnssync\n/etc\n/etc/init\n/etc/init/atomiadns-powerdnssync.conf\n/etc/init.d\n/etc/init.d/atomiadns-powerdnssync\n\n\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30c7\u30fc\u30e2\u30f3\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n# /etc/init.d/atomiadns-powerdnssync start\n\n\u5168\u30be\u30fc\u30f3\u3092\u540c\u671f\u3057\u307e\u3059\u3002\n# atomiapowerdnssync full_reload_online\n\n\u8a73\u7d30\u306fman\u30da\u30fc\u30b8\u3067\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n# man atomiapowerdnssync\n\n\u3053\u3053\u307e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ca\u3073\u8a2d\u5b9a\u3057\u3066\u3001\u3088\u3046\u3084\u304fAtomia DNS\u3068PowerDNS\u306e\u9023\u643a\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u672a\u3060\u809d\u5fc3\u306ePowerDNS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\n3.3 PowerDNS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n3.3.1 PowerDNS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u307e\u305a\u306fPowerDNS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n# wget http://downloads.powerdns.com/releases/deb/pdns-static_3.2-1_amd64.deb\n# dpkg -i pdns-static_3.2-1_amd64.deb\n# dpkg -L pdns-static\n/.\n/etc\n/etc/powerdns\n/etc/powerdns/pdns.conf\n/etc/init.d\n/etc/init.d/pdns\n/usr\n/usr/share\n/usr/share/man\n/usr/share/man/man8\n/usr/share/man/man8/pdns_server.8\n/usr/share/man/man8/zone2sql.8\n/usr/share/man/man8/pdns_control.8\n/usr/share/doc\n/usr/share/doc/pdns\n/usr/share/doc/pdns/copyright\n/usr/share/doc/pdns/changelog.gz\n/usr/share/doc/pdns/changelog.Debian.gz\n/usr/sbin\n/usr/sbin/pdns_server\n/usr/bin\n/usr/bin/pdnssec\n/usr/bin/zone2json\n/usr/bin/dnsreplay\n/usr/bin/pdns_control\n/usr/bin/zone2sql\n\n\n3.3.2 PowerDNS\u7528MySQL\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u6b21\u306bPowerDNS\u7528\u306eMySQL\u30c9\u30e9\u30a4\u30d0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n# wget https://www.monshouwer.eu/download/3rd_party/pdns-server/el6/x86_64/pdns-server-backend-mysql-3.2-1.el6.MIND.x86_64.rpm\n# alien pdns-server-backend-mysql-3.2-1.el6.MIND.x86_64.rpm\n# dpkg -i pdns-server-backend-mysql_3.2-2_amd64.deb\n# dpkg -L pdns-server-backend-mysql\n/.\n/usr\n/usr/share\n/usr/share/doc\n/usr/share/doc/pdns-server-backend-mysql-3.2\n/usr/share/doc/pdns-server-backend-mysql-3.2/no-dnssec.schema.mysql.sql\n/usr/share/doc/pdns-server-backend-mysql-3.2/dnssec.schema.mysql.sql\n/usr/share/doc/pdns-server-backend-mysql\n/usr/share/doc/pdns-server-backend-mysql/changelog.Debian.gz\n/usr/share/doc/pdns-server-backend-mysql/copyright\n/usr/lib64\n/usr/lib64/libgmysqlbackend.so\n\n\u203b alien\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u306a\u3051\u308c\u3070\n# apt-get install alien dpkg-dev debhelper build-essential\n\n\n3.3.3 PowerDNS\u306e\u8a2d\u5b9a\n\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306bMySQL\u3092\u4f7f\u3046\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n# vim /etc/powerdns/pdns.conf\nlaunch=gmysql\ngmysql-host=localhost\ngmysql-user=powerdns\ngmysql-dbname=powerdns\ngmysql-password=02c98b78a3db6de9d98454f36d286f00d862b51d\ngmysql-dnssec\ngmysql-socket=/var/run/mysqld/mysqld.sock\n\n\n3.3.4 \u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3067\u52d5\u4f5c\u306e\u78ba\u8a8d\n\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u767b\u9332\n# mysql -u root -p\nEnter passowrd:\nmysql> use powerdns;\nmysql> INSERT INTO domains (name, type) values ('test.com', 'NATIVE');\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'test.com','localhost ahu@ds9a.nl 1','SOA',86400,NULL);\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'test.com','dns-us1.powerdns.net','NS',86400,NULL);\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'test.com','dns-eu1.powerdns.net','NS',86400,NULL);\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'www.test.com','199.198.197.196','A',120,NULL);\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'mail.test.com','195.194.193.192','A',120,NULL);\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'localhost.test.com','127.0.0.1','A',120,NULL);\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'test.com','mail.test.com','MX',120,25);\n\nPowerDNS\u3092\u8d77\u52d5\n# /etc/init.d/pdns monitor\nMay 07 21:36:42 Reading random entropy from '/dev/urandom'\nMay 07 21:36:42 This is a standalone pdns\nMay 07 21:36:42 UDP server bound to 0.0.0.0:53\nMay 07 21:36:42 TCP server bound to 0.0.0.0:53\nMay 07 21:36:42 PowerDNS 3.2 (C) 2001-2013 PowerDNS.COM BV (Jan 17 2013, 09:33:38, gcc 4.4.5) starting up\nMay 07 21:36:42 PowerDNS comes with ABSOLUTELY NO WARRANTY. This is free software, and you are welcome to redistribute it according to the terms of the GPL version 2.\nMay 07 21:36:42 Creating backend connection for TCP\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 About to create 3 backend threads for UDP\n% May 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 Done launching threads, ready to distribute questions\n\n\"/etc/init.d/pdns monitor\"\u306e\u5b9f\u4f53\n/usr/sbin/pdns_server --daemon=no --guardian=no --control-console --loglevel=9\n\npdns_server\u306b\u95a2\u3057\u3066\u306fman\u30da\u30fc\u30b8\u3092\u53c2\u7167\n# man pdns_server\n\n\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u691c\u8a3c\u3059\u308b\n# host www.test.com 127.0.0.1\nUsing domain server:\nName: 127.0.0.1\nAddress: 127.0.0.1#53\nAliases: \n\nwww.test.com has address 199.198.197.196\n\n# host -v -t mx www.test.com 127.0.0.1\nTrying \"www.test.com\"\nUsing domain server:\nName: 127.0.0.1\nAddress: 127.0.0.1#53\nAliases: \n\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 20874\n;; flags: qr aa rd; QUERY: 1, ANSWER: 0, AUTHORITY: 1, ADDITIONAL: 0\n\n;; QUESTION SECTION:\n;www.test.com.          IN  MX\n\n;; AUTHORITY SECTION:\ntest.com.       3600    IN  SOA localhost. ahu.ds9a.nl. 1 10800 3600 604800 3600\n\nReceived 86 bytes from 127.0.0.1#53 in 0 ms\n\n\u30c6\u30b9\u30c8\u304c\u5b8c\u4e86\u3059\u308c\u3070\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u306f\u524a\u9664\u3057\u3066\u304a\u304f\u3002\n# mysql -u root -p\nEnter passowrd:\nmysql> use powerdns;\nmysql> delete from domains;\nmysql> delete from records;\n\n\n3.3.5 PowerDNS\u306e\u8d77\u52d5\nPowerDNS\u3092\u8d77\u52d5\u3059\u308b\n# /etc/init.d/pdns start\n\n\"/etc/init.d/pdns start\"\u306e\u5b9f\u4f53\n# /usr/sbin/pdns_server --daemon --guardian=yes\n\nOS\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3059\u308b\u304b\u78ba\u8a8d\n# sysv-rc-conf --list | grep pdns\npdns         0:off  1:off   2:on    3:on    4:on    5:on    6:off\n\n\u203b sysv-rc-conf\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u306a\u3051\u308c\u3070\n# apt-get install sysv-rc-conf\n\n\n3.3.6 PowerDNS\u3078\u30be\u30fc\u30f3/\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\n\u203b atomiapowerdnssync\u304c\u8d77\u52d5\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u4e88\u3081\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u306b\u3066\u8d77\u52d5\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n# /etc/init.d/atomiadns-powerdnssync start\n\n\nAtomia DNS Web App\u3067\u30be\u30fc\u30f3/\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\nGUI\u30c4\u30fc\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001[+ Add New Zone]\u30dc\u30bf\u30f3\u304b\u3089\u65b0\u898f\u30be\u30fc\u30f3\u3092\u767b\u9332\u3059\u308b\u3002\u305d\u306e\u5f8c[Edit]\u30dc\u30bf\u30f3\u304b\u3089\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\u3002\nhttp://[your machine]:5380\n\n\nAtomia DNS Client\u3067\u30be\u30fc\u30f3/\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\natomiadnsclient\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30be\u30fc\u30f3\u3092\u767b\u9332\u3059\u308b\u3002\n# atomiadnsclient --uri http://[your machine]/atomiadns --method AddZone --arg \u2026\n\natomiadnsclient\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\u3002\n# atomiadnsclient --uri http://[your machine]/atomiadns --method AddDnsRecords --arg ...\n\n\n3.3.7 PowerDNS\u3078\u767b\u9332\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u3092\u66f4\u65b0\u3059\u308b\n\nAtomia DNS Web App\u3067\u30ec\u30b3\u30fc\u30c9\u3092\u66f4\u65b0\u3059\u308b\nGUI\u30c4\u30fc\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001[Edit]\u30dc\u30bf\u30f3\u304b\u3089\u30ec\u30b3\u30fc\u30c9\u3092\u66f4\u65b0\u3059\u308b\u3002\nhttp://[your machine]:5380\n\n\nAtomia DNS Client\u3067\u30ec\u30b3\u30fc\u30c9\u3092\u66f4\u65b0\u3059\u308b\natomiadnsclient\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30ec\u30b3\u30fc\u30c9\u3092\u66f4\u65b0\u3059\u308b\u3002\n# atomiadnsclient --uri http://[your machine]/atomiadns --method EditDnsRecords --arg ...\n\n\n3.3.8 PowerDNS\u3078\u767b\u9332\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\n\nAtomia DNS Web App\u3067\u30ec\u30b3\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\nGUI\u30c4\u30fc\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001[Edit]\u30dc\u30bf\u30f3\u304b\u3089\u30ec\u30b3\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\u3002\nhttp://[your machine]:5380\n\n\nAtomia DNS Client\u3067\u30ec\u30b3\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\natomiadnsclient\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30ec\u30b3\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\u3002\n# atomiadnsclient --uri http://[your machine]/atomiadns --method DeleteDnsRecords --arg ...\n\n\n3.3.8 PowerDNS\u3078\u767b\u9332\u3057\u305f\u30be\u30fc\u30f3\u3092\u524a\u9664\u3059\u308b\n\nAtomia DNS Web App\u3067\u30be\u30fc\u30f3\u3092\u524a\u9664\u3059\u308b\nGUI\u30c4\u30fc\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001[Delete]\u30dc\u30bf\u30f3\u304b\u3089\u30be\u30fc\u30f3\u3092\u524a\u9664\u3059\u308b\u3002\nhttp://[your machine]:5380\n\n\nAtomia DNS Client\u3067\u30be\u30fc\u30f3\u3092\u524a\u9664\u3059\u308b\natomiadnsclient\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30be\u30fc\u30f3\u3092\u524a\u9664\u3059\u308b\u3002\n# atomiadnsclient --uri http://[your machine]/atomiadns --method DeleteZone --arg ...\n\n\n3.3.10 PowerDNS\u306e\u505c\u6b62\nPowerDNS\u3092\u505c\u6b62\u3059\u308b\n# /etc/init.d/pdns stop\n\n\"/etc/init.d/pdns stop\"\u306e\u5b9f\u4f53\n# /usr/bin/pdns_control quit 2> /dev/null\n\npdns_control\u306b\u95a2\u3057\u3066\u306fman\u30da\u30fc\u30b8\u3092\u53c2\u7167\n# man pdns_control\n\n\n4. DNSSEC\n\n4.1 DNSSEC\u3068\u306f\nDNSSEC\u3068\u306f\u30c7\u30fc\u30bf\u306e\u5fdc\u7b54\u9001\u4fe1\u306e\u969b\u306b\u516c\u958b\u9375\u6697\u53f7\u3092\u5229\u7528\u3057\u305f\u7f72\u540d\u3092\u4ed8\u52a0\u3057\u3001\u53d7\u4fe1\u5074\u3067\u4ed8\u52a0\u3055\u308c\u305f\u7f72\u540d\u3092\u691c\u8a3c\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u30c7\u30fc\u30bf\u306e\u51fa\u81ea\u8a8d\u8a3c\u3068\u5b8c\u5168\u6027\u3092\u78ba\u8a8d\u3067\u304d\u3001DNS\u5fdc\u7b54\u306e\u507d\u9020(\u30ad\u30e3\u30c3\u30b7\u30e5\u30dd\u30a4\u30ba\u30cb\u30f3\u30b0)\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u308bDNS\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u62e1\u5f35\u3067\u3059\u3002\n\u3053\u3053\u3067\u306f\u8a73\u7d30\u306a\u8aac\u660e\u306f\u7701\u304d\u307e\u3059\u3002\n\n\u4fe1\u983c\u306e\u9023\u9396 (chain of trust)\nDNSSEC\u3068\u8a00\u3048\u3070\u4fe1\u983c\u306e\u9023\u9396\u3002\u53d7\u3051\u53d6\u3063\u305fDNS\u5fdc\u7b54\u304c\u300c\u672c\u5f53\u306b\u6b63\u3057\u3044(\u507d\u88c5\u3055\u308c\u3066\u3044\u306a\u3044)\u300d\u3053\u3068\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u53d7\u3051\u53d6\u3063\u305f\u30c7\u30fc\u30bf\u306b\u3064\u3044\u3066\u4ee5\u4e0b\u306e\uff12\u70b9\u306e\u78ba\u8a8d\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u300c\u6b63\u3057\u3044\u76f8\u624b\u304b\u3089\u300d\u2026 \u672c\u5f53\u306b\u305d\u306e\u76f8\u624b\u304c\u767b\u9332\u3057\u305f\u30c7\u30fc\u30bf\u3067\u3042\u308b\u3053\u3068(\u30c7\u30fc\u30bf\u51fa\u81ea\u306e\u8a8d\u8a3c)\n\u300c\u305d\u306e\u307e\u307e\u306e\u5f62\u3067\u300d\u2026 \u901a\u4fe1\u9014\u4e2d\u3067\u7f6e\u304d\u63db\u3048\u3089\u308c\u305f\u308a\u3001\u4e00\u90e8\u304c\u5931\u308f\u308c\u305f\u308a\u3057\u3066\u3044\u306a\u3044\u3053\u3068(\u30c7\u30fc\u30bf\u306e\u5b8c\u5168\u6027)\n\n\n\nexample.jp\u306e\u4f8b\n\u7f72\u540d(\u30b3\u30f3\u30c6\u30f3\u30c4\u30b5\u30fc\u30d0)\n1. example.jp\u30be\u30fc\u30f3\u306e\u30ec\u30b3\u30fc\u30c9\u3092ZSK\u79d8\u5bc6\u9375\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n2. example.jp\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092KSK\u79d8\u5bc6\u9375\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n3. example.jp\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375(\u3068\u540c\u7b49\u306e\u60c5\u5831)\u3092DS\u3068\u3057\u3066\u89aa\u30be\u30fc\u30f3(jp)\u306b\u767b\u9332\u3057\u307e\u3059\u3002\n4. jp\u30be\u30fc\u30f3\u306e\u30ec\u30b3\u30fc\u30c9\u3092ZSK\u79d8\u5bc6\u9375\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n5. jp\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092KSK\u79d8\u5bc6\u9375\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n6. jp\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375(\u3068\u540c\u7b49\u306e\u60c5\u5831)\u3092DS\u3068\u3057\u3066\u89aa\u30be\u30fc\u30f3(\u30eb\u30fc\u30c8)\u306b\u767b\u9332\u3057\u307e\u3059\u3002\n7. \u30eb\u30fc\u30c8\u30be\u30fc\u30f3\u306e\u30ec\u30b3\u30fc\u30c9\u3092ZSK\u79d8\u5bc6\u9375\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n8. \u30eb\u30fc\u30c8\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092KSK\u79d8\u5bc6\u9375\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n\n\u691c\u8a3c(\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0)\n1. \u30eb\u30fc\u30c8\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u304c\u4e88\u3081\u4fdd\u6301\u3057\u307e\u3059\u3002\n2. \u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306f\u30eb\u30fc\u30c8\u30be\u30fc\u30f3KSK\u516c\u958b\u9375\u3092\u7528\u3044\u3066\u691c\u8a3c\u3057\u3001\u30eb\u30fc\u30c8\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092\u5165\u624b\u3057\u307e\u3059\u3002\n3. \u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306f\u30eb\u30fc\u30c8\u30be\u30fc\u30f3ZSK\u516c\u958b\u9375\u3092\u7528\u3044\u3066\u691c\u8a3c\u3057\u3001JP\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375\u3092\u5165\u624b\u3057\u307e\u3059\u3002\n4. \u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306fJP\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375\u3092\u7528\u3044\u3066\u691c\u8a3c\u3057\u3001JP\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092\u5165\u624b\u3057\u307e\u3059\u3002\n5. \u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306fJP\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092\u7528\u3044\u3066\u691c\u8a3c\u3057\u3001example\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375\u3092\u5165\u624b\u3057\u307e\u3059\u3002\n6. \u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306fexample\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375\u3092\u7528\u3044\u3066\u691c\u8a3c\u3057\u3001example\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092\u5165\u624b\u3057\u307e\u3059\u3002\n7. \u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306fexample\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092\u7528\u3044\u3066\u691c\u8a3c\u3057\u3001\u30ec\u30b3\u30fc\u30c9\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n\nKSK (Key Signing Key)\n\u300c\u6b63\u3057\u3044\u76f8\u624b\u304b\u3089\u300d\n\u30be\u30fc\u30f3\u5185\u306e\u516c\u958b\u9375\u60c5\u5831\u306b\u7f72\u540d\u3059\u308b\u305f\u3081\u306e\u6bd4\u8f03\u7684\u6697\u53f7\u5f37\u5ea6\u306e\u9ad8\u3044(RSA\u30672048bit\u307b\u3069)\u9375\u3002\u5229\u7528\u671f\u9593\u3092\u9577\u304f(\u5e74\u6b21)\u3067\u304d\u308b\u305f\u3081\u3001\u9375\u66f4\u65b0\u306e\u983b\u5ea6\u3092\u4f4e\u304f\u3067\u304d\u308b\u3002\u7f72\u540d\u30b3\u30b9\u30c8\u306f\u9ad8\u3044\u304c\u3001\u5c11\u6570\u306e\u9375\u60c5\u5831\u306e\u307f\u3092\u7f72\u540d\u5bfe\u8c61\u3068\u3059\u308b\u305f\u3081\u554f\u984c\u306b\u306f\u306a\u3089\u306a\u3044\u3002KSK\u516c\u958b\u9375\u3068\u6697\u53f7\u8ad6\u7684\u306b\u7b49\u4fa1\u306a\u60c5\u5831(DS)\u3092\u4f5c\u6210\u3057\u3001\u89aa\u30be\u30fc\u30f3\u306b\u767b\u9332\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\u3057\u305f\u5834\u5408\u306f\u3001\u540c\u6642\u306bDS\u3082\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\nZSK (Zone Signing Key)\n\u300c\u305d\u306e\u307e\u307e\u306e\u5f62\u3067\u300d\n\u30be\u30fc\u30f3\u306b\u7f72\u540d\u3059\u308b\u305f\u3081\u306e\u6bd4\u8f03\u7684\u6697\u53f7\u5f37\u5ea6\u306e\u4f4e\u3044(RSA\u30671024bit\u307b\u3069)\u9375\u3002\u7f72\u540d\u30b3\u30b9\u30c8\u304c\u4f4e\u3044\u305f\u3081\u3001\u5927\u898f\u6a21\u30be\u30fc\u30f3\u306e\u7f72\u540d\u306b\u3082\u9069\u5fdc\u3067\u304d\u308b\u3002\u5b89\u5168\u78ba\u4fdd\u306e\u305f\u3081\u3001\u3042\u308b\u7a0b\u5ea6\u983b\u7e41(\u6708\u6b21)\u306b\u9375\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\u306f\u89aa\u30be\u30fc\u30f3\u3068\u306f\u95a2\u4fc2\u306a\u304f\u72ec\u7acb\u3067\u884c\u3048\u308b\u3002\n\nDS (Delegation Singer) \u30ec\u30b3\u30fc\u30c9\nKSK\u516c\u958b\u9375\u306bSHA-1\u3084SHA-256\u7b49\u306e\u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u3092\u9069\u7528\u3057\u3066\u4f5c\u6210\u3057\u305f\u3001KSK\u516c\u958b\u9375\u3068\u7b49\u4fa1\u306a\u60c5\u5831\u3002\u89aa\u30be\u30fc\u30f3\u306b\u767b\u9332\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u307e\u305f\u89aa\u30be\u30fc\u30f3\u306b\u306e\u307f\u5b58\u5728\u3059\u308b\u3002\n\nDNSKEY\u30ec\u30b3\u30fc\u30c9\nKSK\u3068ZSK\u306e\u516c\u958b\u9375\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306e\u30ec\u30b3\u30fc\u30c9\u3002\n\nRRSIG\u30ec\u30b3\u30fc\u30c9\n\u30ec\u30b3\u30fc\u30c9\u306e\u7f72\u540d\u30ec\u30b3\u30fc\u30c9\u3002\n\n4.2 Atomia DNS\u306eDNSSEC\u95a2\u9023API\nAtomia DNS Web App\u304b\u3089\u3067\u306fDNSSEC\u306e\u8a2d\u5b9a\u304c\u884c\u3048\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081DNSSEC\u306e\u8a2d\u5b9a\u306fAtomia DNS Client(atomiadnsclient\u30b3\u30de\u30f3\u30c9)\u3092\u7528\u3044\u307e\u3059\u3002\n\nAPI\u4e00\u89a7\n\n\n\n\u30e1\u30bd\u30c3\u30c9\u540d\n\u6982\u8981\n\n\n\n\nGetDNSSECKeys\n\u30b9\u30c8\u30a2\u3055\u308c\u3066\u3044\u308b\u5168\u3066\u306eDNSSEC\u9375\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n\n\nGetDNSSECKeysDS\n\u30b9\u30c8\u30a2\u3055\u308c\u3066\u3044\u308b\u5168\u3066\u306e\u30a2\u30af\u30c6\u30a3\u30d6\u306aKSK\u9375\u306b\u5bfe\u3057\u3066\u751f\u6210\u3055\u308c\u305fDS\u30ec\u30b3\u30fc\u30c9\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n\n\nGetExternalDNSSECKeys\n\u30b9\u30c8\u30a2\u3055\u308c\u3066\u3044\u308b\u5168\u3066\u306e\u5916\u90e8DNSSEC\u9375\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n\n\nAddDNSSECKey\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078DNSSEC\u9375\u3092\u8ffd\u52a0\u3059\u308b\n\n\nAddExternalDNSSECKey\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u5916\u90e8DNSSEC\u9375\u3092\u8ffd\u52a0\u3059\u308b\n\n\nActivateDNSSECKey\nDNSSEC\u9375\u3092\u6709\u52b9\u306b\u3059\u308b\n\n\nDeactivateDNSSECKey\nDNSSEC\u9375\u3092\u7121\u52b9\u306b\u3059\u308b\n\n\nDeleteDNSSECKey\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089DNSSEC\u9375\u3092\u524a\u9664\u3059\u308b\n\n\nDeleteExternalDNSSECKey\n\u30c7\u30fc\u30bf\u30fc\u30d9\u30b9\u304b\u3089\u5916\u90e8DNSEC\u9375\u3092\u524a\u9664\u3059\u308b\n\n\nGetDNSSECZSKInfo\n\u81ea\u52d5\u5316\u3055\u308c\u305fZSK\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u30b9\u30c8\u30a2\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306eZSK\u9375\u306b\u95a2\u3059\u308b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\n\n\n\n\n4.3 DNSSEC\u9375\u3092\u767b\u9332\u3059\u308b\n\n4.3.1 KSK\u9375\u3092\u767b\u9332\u3059\u308b\n\u9375\u751f\u6210\u306brng-tools\u3092\u4f7f\u3046\u306e\u3067\u4e88\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n# apt-get install rng-tools\n# vim /etc/default/rng-tools\nHRNGDEVICE=/dev/urandom\n\n# /etc/init.d/rng-tools start\n\nKSK\u9375\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n# atomiadnsclient --method AddDNSSECKey --arg RSASHA256 --arg 2048 --arg KSK --arg 1\n\nKSK\u9375\u304c\u767b\u9332\u3055\u308c\u305f\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n# atomiadnsclient --method GetDNSSECKeys\n$VAR1 = [\n          {\n            'algorithm' => 'RSASHA256',\n            'activated' => '1',\n            'keysize' => '2048',\n            'activated_at' => '2013-05-09 20:15:54.240659',\n            'keytype' => 'KSK',\n            'created_at' => '2013-05-09 20:15:54.240659',\n            'deactivated_at' => undef,\n            'keydata' => 'Private-key-format: v1.2\nAlgorithm: 8 (RSASHA256)\nModulus: sE6t8Fw429Nww9wGaP5ygT0CdD8oadcMGCbWg5qg2SzTPhapTFtR7uXXkSSyURBkw2kUK02/gK8Zc5KDmMYSmqKL2ugdvjj2yfLpb8iYdt5qCG6bi0ICGeSGgdQ6lkNFCkiwohcl7LhJVjNigbcxC54JPCUZuMGfq0chPE3uJGmYrkE4ZCLnKacVFIAn92FozmeQ1vOneMJZ1iL1saUZtkqVVTjikbkI9qjr7V5KYQbcth7/zTmphVvs6hKU6LATNA4Ieq0I0E+u3mtmrgcjEsRdNVHALwCnbcE+o/oAC3gywlgimmjfTPthbrXoqAwxN9ipnfebhNLyNet0VuLraQ==\nPublicExponent: AQAB\nPrivateExponent: jLafGKFiOACvlYJ8EzxRg1iAJutpg9/ApV4KA4tcKTkfeAR6JpkT8Ym73Pne39gns9af5FfvKfOWaqlbIomju4tT9+keI/4u6ctYCIGfPfARzJ0Kw8BxEN1VhTUvdVJHPgf6AcRb3mzPC1+DlWfyWwVM9ZXey5itqPPiUNEZ6jCSKDoGz90iN/RGNqTxI+bVUk1hJNAd/AZ9jE5TaHmNbm7UBVfau6xP9arm90axLhICaIH252tZxET+lXoJLS8RQ3N05Rx4deTPMooAeawWMsX/cZZTuFKD0lcR1n5XkGU0RLEruK9Yw+fN22aGOWpPsuoaWQ62WyvNZwHcssDJoQ==\nPrime1: 1t78VT6rylDXWoMDKNDEGqx1CDlMmsC+PjQIIxuzEgVyl3tBHkeOmRBvXqSrkuqf7ScR2kz95SXrYWobYIR0wOFqjZQYcGbbBqPaz5XjBFzghOPpbxZ8J7/W2fkzuESyFC6fAWx+e5oGAt6FSyyc0zRYVPCDZnoAv98bVptRw8U=\nPrime2: 0g4DR4JH1WUbvG71WRV8ESx5+ISCZb64CI0q7RlXnbhSJoglXIiLCEceEoPcnoR95bqCvT791EBvgM73TKG95g8TEWCZDR56nO+bpXSo5Hvm1FYJ4VYxr9g6JkRnrHo7w8nqUykQpVM+RBHMWlU/TMylr//Cu9xOG2uO+YqY71U=\nExponent1: r49z5oaVQHG681Y2P6QLhqu/159RiuPOzO4gc+cO8buHvGNVelMHHOMDy/WJxjlzwAX7HT1o+VB5OJfElKDE8E99iv4k1boEXTGF97REz2y/eXTqZvydJrEk7+YgLv/Z7ImHG1e1JHJdVPzRNfHWlO6g+Y2mHxWyBRNat/Gh5e0=\nExponent2: Uxb/7RV33M21/v/VRXveK9zwEoI4Io8itR9CT6+qnNUAigVo4gWRGaEoICLQ7lNyiaERflKgjYk/kjBMWp/QQmTMIh+X6zyXO+T8KKLQ/DCWyn+OQPibhvd9aQ2+BNgFNBl2+5ZO41beVobD0yfNdk+tasU8/prSur39PHC6tlE=\nCoefficient: pE/z+rrNRHpNqJsvdReFrsgrybUuOYEUYQqtywYQO2gKlqfveQVvP5c+n2Uzjlo2mr63KyOAUQyzV+SoElRNL8+aOZeYqovdxBQXkQEvlEpUhAdAqxWdYhkwuyWN+14W4wjBW7cln86mtxZskmRsWvQtEM9Gl9O6uBBLe2/ZyRc=\n',\n...\n\nPowerDNS\u5074\u3067\u306fcryptokeys\u30c6\u30fc\u30d6\u30eb\u306b\u767b\u9332\u3055\u308c\u307e\u3059\u3002PowerDNS\u3067DNSSEC\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3001cryptokeys\u3001domainmetadata\u3001tsigkeys\u30c6\u30fc\u30d6\u30eb\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n4.3.2 ZSK\u9375\u3092\u767b\u9332\u3059\u308b\n# atomiadnsclient --method AddDNSSECKey --arg RSASHA256 --arg 1024 --arg ZSK --arg 1\n\n\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u306aZSK\u3092\u767b\u9332\u3059\u308b\u5834\u5408\u306f\u6700\u5f8c\u306e\u5f15\u6570\u306e\u5024\u30920\u306b\n# atomiadnsclient --method AddDNSSECKey --arg RSASHA256 --arg 1024 --arg ZSK --arg 0\n\n\n4.4 pdnssec\u30c4\u30fc\u30eb\npdnssec\u30b3\u30de\u30f3\u30c9\u306fPowerDNSSEC\u7528\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u3067\u3059\u3002\n\n\n\n\u30b3\u30de\u30f3\u30c9\u540d\n\u6982\u8981\n\n\n\n\nactivate-zone-key \u30be\u30fc\u30f3 \u9375ID\n\u30be\u30fc\u30f3\u306e\u6307\u5b9a\u3057\u305f\u9375ID\u306e\u9375\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\n\n\nadd-zone-key \u30be\u30fc\u30f3 [zsk\u2502ksk] [bits] [rsasha1\u2502rsasha256\u2502rsasha512\u2502gost\u2502ecdsa256\u2502ecdsa384]\n\u30be\u30fc\u30f3\u7528\u306eKSK\u307e\u305f\u306fZSK\u9375\u3092\u6307\u5b9a\u3055\u308c\u305f\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u4f5c\u308a\u307e\u3059\n\n\ncheck-zone \u30be\u30fc\u30f3\n\u6307\u5b9a\u3057\u305f\u30be\u30fc\u30f3\u304cDNSSEC\u306e\u6b63\u3057\u3055\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\n\n\ncheck-all-zones\n\u5168\u3066\u306e\u30be\u30fc\u30f3\u306b\u5bfe\u3057\u3001DNSSEC\u306e\u6b63\u3057\u3055\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\n\n\ncreate-bind-db FNAME\nBIND\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u7528\u306eDNSSEC\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\n\n\ndeactivate-zone-key \u30be\u30fc\u30f3 \u9375ID\n\u30be\u30fc\u30f3\u306e\u6307\u5b9a\u3057\u305f\u9375ID\u306e\u9375\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\n\n\ndisable-dnssec \u30be\u30fc\u30f3\n\u30be\u30fc\u30f3\u306e\u7f72\u540d\u3068\u5168\u3066\u306e\u9375\u3092\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u304b\u3057\u307e\u3059\n\n\nexport-zone-dnskey \u30be\u30fc\u30f3 \u9375ID\n\u6307\u5b9a\u3057\u305f\u30be\u30fc\u30f3\u306e\u6307\u5b9a\u3057\u305f\u516c\u958b\u9375\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\n\n\nexport-zone-key \u30be\u30fc\u30f3 \u9375ID\n\u6307\u5b9a\u3057\u305f\u30be\u30fc\u30f3\u306e\u6307\u5b9a\u3057\u305f\u79d8\u5bc6\u9375\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\n\n\nhash-zone-record \u30be\u30fc\u30f3 RNAME\n\u30be\u30fc\u30f3\u306e\u30ec\u30b3\u30fc\u30c9\u7528NSEC3\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u8a08\u7b97\u3057\u307e\u3059\n\n\nimport-zone-key \u30be\u30fc\u30f3 \u30d5\u30a1\u30a4\u30eb [ksk\u2502zsk]\n\u30be\u30fc\u30f3\u306b\u5bfe\u3057KSK\u307e\u305f\u306fZSK\u9375\u3092\u4f0a\u30dd\u30fc\u30c8\u3057\u307e\u3059\n\n\nrectify-zone \u30be\u30fc\u30f3 [\u30be\u30fc\u30f3 ..]\n\u6307\u5b9a\u30be\u30fc\u30f3\u306eDNSSEC\u30d5\u30a3\u30fc\u30eb\u30c9\u3092FIX\u3057\u307e\u3059\n\n\nrectify-all-zones\n\u5168\u3066\u306e\u30be\u30fc\u30f3\u3092FIX\u3057\u307e\u3059\n\n\nremove-zone-key \u30be\u30fc\u30f3 \u9375ID\n\u30be\u30fc\u30f3\u304b\u3089\u6307\u5b9a\u3057\u305f\u9375ID\u306e\u9375\u3092\u524a\u9664\u3057\u307e\u3059\n\n\nsecure-zone \u30be\u30fc\u30f3 [\u30be\u30fc\u30f3 ..]\n\u30be\u30fc\u30f3\u306b\u5bfe\u3057\u3001DNSSEC\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\n\n\nset-nsec3 \u30be\u30fc\u30f3 ['params' [narrow]]\n\u30be\u30fc\u30f3\u306bNSEC3\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3057\u307e\u3059\n\n\nset-presigned \u30be\u30fc\u30f3\n\u4e8b\u524d\u7f72\u540d\u30be\u30fc\u30f3\u306b\u5207\u308a\u66ff\u3048\u307e\u3059\n\n\nshow-zone \u30be\u30fc\u30f3\n\u30be\u30fc\u30f3\u306eDNNSEC\u9375\u306e\u8a73\u7d30\u3092\u8868\u793a\u3057\u307e\u3059\n\n\nunset-nsec3 \u30be\u30fc\u30f3\nNSEC3\u304b\u3089NSEC\u3078\u623b\u3057\u307e\u3059\n\n\nunset-presigned \u30be\u30fc\u30f3\n\u30be\u30fc\u30f3\u306e\u4e8b\u524d\u7f72\u540d\u3092\u89e3\u9664\u3057\u307e\u3059\n\n\n\n\n4.5 DS\u306e\u53d6\u5f97\u3068\u4e0a\u4f4d\u30be\u30fc\u30f3\u3078\u306e\u53cd\u6620\nDS\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306b\u3066\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n# pdnssec show-zone \u30be\u30fc\u30f3 | grep DS\nDS = test.com IN DS 55216 8 1 382c270fa3e842a144994f79818d2dca82b50f45\nDS = test.com IN DS 55216 8 2 b7fe7d2bf358a8f92026fd7f065aa5c7856902c5c28a293689bc08d3efacb3f4\nDS = test.com IN DS 55216 8 3 6450eb2a4bff6663c7a4f7632e247ed3fdb3f0c0cb86f6f1a9c2d22894ad105e\n...\n\nDS\u30ec\u30b3\u30fc\u30c9\u3068\u3057\u3066\u53cd\u6620\u3059\u308b\u306e\u306f\u4ee5\u4e0b\u306e\u90e8\u5206\u3068\u306a\u308a\u307e\u3059\u3002\nDS = test.com IN DS 55216 8 1 382c270fa3e842a144994f79818d2dca82b50f45\n\n\u306e\n55216 8 1 382c270fa3e842a144994f79818d2dca82b50f45\n\n\u306e\u90e8\u5206\u3092\u53cd\u6620\u3057\u307e\u3059\u3002\u5148\u982d\u304b\u3089\u9375\u30bf\u30b0(\u5bfe\u5fdc\u3059\u308bDNSKEY\u30ec\u30b3\u30fc\u30c9\u304b\u3089\u751f\u6210\u3057\u305f\u6574\u6570\u5024)\u3001\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0(\u7f72\u540d\u9375\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u8868\u3059\u6574\u6570\u5024)\u3001\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u578b(\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u65b9\u5f0f\u3092\u8868\u3059\u6574\u6570\u5024)\u3001\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30c7\u30fc\u30bf(DNSKEY\u306e\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u309216\u9032\u6570\u3067\u8868\u3057\u305f\u6587\u5b57\u5217)\u3067\u3059\u3002\nAPI\u3067\u53d6\u5f97\u3059\u308b\u5834\u5408\u306fatomiadnsclient\u3092\u4f7f\u3044\u307e\u3059\u3002\n# atomiadnsclient --method GetDNSSECKeysDS --arg test.com\n$VAR1 = [\n          {\n            'digest' => '382C270FA3E842A144994F79818D2DCA82B50F45',\n            'digestType' => '1',\n            'alg' => '8',\n            'keyTag' => '55216'\n          },\n...\n\n\n4.5.1 \u4e0a\u4f4d\u30be\u30fc\u30f3\u3078\u306e\u53cd\u6620\n\u4e0a\u4f4d\u30be\u30fc\u30f3\u3078\u306e\u53cd\u6620\u65b9\u6cd5\u306f\u30ec\u30b8\u30b9\u30c8\u30ea\u3084\u30ec\u30b8\u30b9\u30c8\u30e9\u306b\u3088\u3063\u3066\u9055\u3044\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u81ea\u8eab\u304c\u30ec\u30b8\u30b9\u30c8\u30e9\u306e\u5834\u5408\u3001.JP\u30c9\u30e1\u30a4\u30f3\u3092\u6271\u3046JPRS\u3068\u3084\u308a\u3068\u308a\u3059\u308b\u5834\u5408\u306fGUI\u307e\u305f\u306fAPI\u3092\u901a\u3058\u3066DS\u30ec\u30b3\u30fc\u30c9\u306e\u60c5\u5831\u3092\u53cd\u6620\u3057\u307e\u3059\u3002.COM\u3084.NET\u30c9\u30e1\u30a4\u30f3\u306a\u3069\u306egTLD\u3084\u5927\u534a\u306eccTLD\u306fEPP(Extensible Provisioning Protocol)\u3068\u3044\u3046\u30ec\u30b8\u30b9\u30c8\u30e9\u304b\u3089\u30ec\u30b8\u30b9\u30c8\u30ea\u3078\u306e\u30c7\u30fc\u30bf\u767b\u9332\u7528\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u7528\u3044\u307e\u3059\u3002GUI\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\u81ea\u8eab\u304c\u30ea\u30bb\u30e9\u30fc\u306e\u5834\u5408\u306f\u30ec\u30b8\u30b9\u30c8\u30e9\u304c\u7528\u610f\u3057\u305fGUI\u3084API\u306b\u3066\u3001\u81ea\u8eab\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u5834\u5408\u306f\u30ea\u30bb\u30e9\u30fc\u307e\u305f\u306f\u30ec\u30b8\u30b9\u30c8\u30e9\u304c\u7528\u610f\u3057\u305fGUI\u3084API\u306b\u3066DS\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u56fd\u5185\u3067\u306f\u305d\u3082\u305d\u3082gTLD\u306b\u5bfe\u3059\u308bDS\u30ec\u30b3\u30fc\u30c9\u306e\u53d6\u308a\u6b21\u304e\u3092\u30ec\u30b8\u30b9\u30c8\u30e9\u304c\u884c\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u304c\u591a\u6570\u3067\u3059\u3002(Japan\u3068\u306a\u3063\u3066\u3044\u308b\u306e\u304c\u56fd\u5185\u30ec\u30b8\u30b9\u30c8\u30e9\u3067\u3059)\n\u4f8b\u3048\u3070.ORG\u30c9\u30e1\u30a4\u30f3\u306e\u5834\u5408\u306f\u56fd\u5185\u3067\u306f2\u793e(JPRS\u306f\u9664\u304f)\u304c\u5bfe\u5fdc\u53ef\u80fd\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u516c\u5f0f\u30b5\u30a4\u30c8\u3067\u306f\u53d6\u308a\u6b21\u304e\u306e\u30a2\u30ca\u30a6\u30f3\u30b9\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u6d77\u5916\u3067\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30ec\u30b8\u30b9\u30c8\u30e9\u3084\u30ea\u30bb\u30e9\u30fc\u306f\u5c11\u306a\u3044\u3067\u3059\u304c\u3001\u30c9\u30e1\u30a4\u30f3\u4fdd\u6301\u6570\u304c\u4e16\u754c\u4e00\u4f4d\u3067\u3042\u308bGo Daddy\u306fDNSSEC\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\u3069\u3046\u3057\u3066\u3082gTLD\u3067DNSSEC\u3092\u63a1\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u30ec\u30b8\u30b9\u30c8\u30ea\u3078\u306e\u53d6\u308a\u6b21\u304e\u3092\u884c\u3063\u3066\u3044\u308b\u30ec\u30b8\u30b9\u30c8\u30e9(Go Daddy\u7b49)\u304b\u3001\u305d\u306e\u30ec\u30b8\u30b9\u30c8\u30e9\u3068\u5951\u7d04\u3057\u3066\u3044\u308b\u30ea\u30bb\u30e9\u30fc\u306b\u3066\u30c9\u30e1\u30a4\u30f3\u3092\u53d6\u5f97\u3057\u307e\u3057\u3087\u3046\u3002\n\n4.6 ZSK\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\n\u4e8b\u524d\u516c\u958b\u6cd5\u306b\u3088\u308bZSK\u306e\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\u3092\u884c\u3046\u3002\n\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u5316\u3055\u308c\u3066\u3044\u308bZSK\u9375\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u5316\u3059\u308b\u3002\n# atomiadnsclient --method ActivateDNSSECKey --arg \u6b21\u306eZSK\u9375ID\n\n\u4ee5\u524d\u306eZSK\u9375\u3092\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u5316\u3059\u308b\u3002\n# atomiadnsclient --method DeactivateDNSSECKey --arg \u524d\u306eZSK\u9375ID\n\n\u4ee5\u524d\u306eZSK\u9375\u3092\u524a\u9664\u3059\u308b\u3002\n# atomiadnsclient --method DeleteDNSSECKey --arg \u524d\u306eZSK\u9375ID\n\n\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u306aZSK\u3092\u767b\u9332\u3059\u308b\u3002\n# atomiadnsclient --method AddDNSSECKey --arg RSASHA256 --arg 1024 --arg ZSK --arg 0\n\n\u4ee5\u964d\u3001\u5b9a\u671f\u7684(\u6708\u6b21)\u306b\u7e70\u308a\u8fd4\u3057\u3002\n\u3042\u308b\u7a0b\u5ea6\u81ea\u52d5\u5316\u306f\u53ef\u80fd\u3002\n\n4.7 KSK\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\n\u4e8c\u91cd\u7f72\u540d\u6cd5\u306b\u3088\u308bKSK\u306e\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\u3092\u884c\u3046\u3002\n\u65b0\u3057\u3044KSK\u9375\u3092\u767b\u9332\u3059\u308b\u3002\n# atomiadnsclient --method AddDNSSECKey --arg RSASHA256 --arg 2048 --arg KSK --arg 1\n\nDS\u60c5\u5831\u3092\u53d6\u5f97\u3057\u3001\u89aa\u30be\u30fc\u30f3\u3078\u767b\u9332\u3059\u308b\u3002\n# pdnssec show-zone \u30be\u30fc\u30f3 | grep DS\n\n\u4ee5\u524d\u306eKSK\u9375\u3092\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u5316\u3059\u308b\u3002\n# atomiadnsclient --method DeactivateDNSSECKey --arg \u524d\u306eKSK\u9375ID\n\n\u4ee5\u524d\u306eKSK\u9375\u3092\u524a\u9664\u3059\u308b\u3002\n# atomiadnsclient --method DeleteDNSSECKey --arg \u524d\u306eKSK\u9375ID\n\nKSK\u3092\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\u3057\u305f\u5834\u5408\u3001DS\u3092\u4e0a\u4f4d\u30be\u30fc\u30f3\u3078\u518d\u767b\u9332\u3057\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u3044\u304c\u3001\u73fe\u72b6\u81ea\u52d5\u5316\u3059\u308b\u30c4\u30fc\u30eb\u306f\u5b58\u5728\u3057\u306a\u3044\u3002OpenDNSSEC\u306feppclient\u3068\u3044\u3046\u30ec\u30b8\u30b9\u30c8\u30ea(\u3064\u307e\u308a\u4e0a\u4f4d\u30be\u30fc\u30f3)\u306e\u30c7\u30fc\u30bf\u3092\u66f4\u65b0s\u308b\u3046\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3042\u3063\u305f\u304c\u3001\u4fdd\u5b88\u3055\u308c\u306a\u304b\u3063\u305f\u305f\u3081\u30c7\u30d5\u30a9\u30eb\u30c8\u304b\u3089\u5916\u3055\u308c\u3066\u3044\u308b\u3002\n\n4.8 DNSSEC\u3092\u7121\u52b9\u306b\n# pdnssec disable-dnssec \u30be\u30fc\u30f3\n\n\nPowerDNS\u3001Atomia DNS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089DNSSEC\u306e\u8a2d\u5b9a(\u4e0a\u4f4d\u30be\u30fc\u30f3\u3078\u306e\u767b\u9332\u306f\u884c\u308f\u306a\u3044)\u307e\u3067\u3092\u884c\u3046\u3002\n\n| Atomia DNS\u3001PowerDNS\u69cb\u6210 |\n|:---|\n| ![\u69cb\u6210\u56f3](https://dl.dropboxusercontent.com/u/2435006/powerdns-atomiadns.png)|\n\n# 1. PowerDNS\u3068\u306f\nPowerDNS\u306fGPL\u30e9\u30a4\u30bb\u30f3\u30b9\u306eC++\u3067\u5b9f\u88c5\u3055\u308c\u305fDNS\u30b5\u30fc\u30d0\u3067\u3059\u3002\u307b\u3068\u3093\u3069\u306eUNIX\u30e9\u30a4\u30af\u306aOS\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002PowerDNS\u306f\u30b7\u30f3\u30d7\u30eb\u306aBIND\u30b9\u30bf\u30a4\u30eb\u306e\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u304b\u3089RDBMS\u3084\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b7\u30f3\u30b0\uff0f\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u307e\u3067\u591a\u5c90\u306b\u6e21\u308b\u7279\u5fb4\u304c\u3042\u308a\u307e\u3059\u3002\u5225\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u3057\u3066DNS recursor\u3082\u542b\u307f\u307e\u3059\u3002\n\nPowerDNS\u306f\u30aa\u30e9\u30f3\u30c0\u306e\u4f01\u696dPowerDNS.COM BV\u3068\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30b3\u30df\u30e5\u30cb\u304b\u3089\u306e\u591a\u304f\u306e\u8ca2\u732e\u306b\u3088\u3063\u3066\u751f\u307f\u51fa\u3055\u308c\u307e\u3057\u305f\u3002\u8457\u540d\u306a\u30c7\u30d9\u30ed\u30c3\u30d1\u306fBer Hubert\u6c0f\u3067\u3059\u3002\n\n## \u95a2\u9023\u30b5\u30a4\u30c8\n+ [PowerDNS\u516c\u5f0f\u30b5\u30a4\u30c8](https://www.powerdns.com/)\n+ [PowerDNS\u30de\u30cb\u30e5\u30a2\u30eb](http://doc.powerdns.com/html/index.html)\n+ [PowerDNS\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30b5\u30a4\u30c8](http://wiki.powerdns.com/trac)\n+ [PowerDNS\u30db\u30b9\u30c6\u30a3\u30f3\u30b0](https://www.powerdns.net/en/)\n\n## \u95a2\u9023\u30c4\u30fc\u30eb\n+ [Poweradmin](https://www.poweradmin.org/trac/)\n+ [pdnsops](https://code.google.com/p/pdnsops/)\n+ [PowerDNS on Rails](http://kennethkalmer.github.io/powerdns-on-rails/)\n+ [JPower Admin](http://www.nicmus.com/community.html)\n+ [Atomia DNS](http://atomiadns.com/)\n\n# 2. Atomia DNS\u3068\u306f\nAtomia DNS\u306f\u30b9\u30a6\u30a7\u30fc\u30c7\u30f3\u306e\u4f01\u696dAtomia AB\u304c\u63d0\u4f9b\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306eDNS\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002Atomia DNS\u306f\u305d\u308c\u5358\u4f53\u3067\u306f\u52d5\u4f5c\u305b\u305a\u3001BIND\u3084PowerDNS\u3068\u30be\u30fc\u30f3\u60c5\u5831\u3092\u540c\u671f\u3059\u308b\u3053\u3068\u3067\u4f5c\u7528\u3057\u307e\u3059\u3002\n\nAtomia DNS\u306f\u4e3b\u306b2\u3064\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3001Atomia DNS Database\u3068Atomia DNS API\u304b\u3089\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u540c\u3058\u30de\u30b7\u30f3\u4e0a\u307e\u306f\u305f\u7570\u306a\u308b\u30de\u30b7\u30f3\u4e0a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\u307e\u305f\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066Atomia DNS API\u3092\u547c\u3073\u51fa\u3059CLI\u30c4\u30fc\u30eb\u306eAtomia DNS Client\u3001GUI\u30c4\u30fc\u30eb\u306eAtomia DNS Web App\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u3055\u3089\u306bBIND\u3084PowerDNS\u7b49\u306eDNS\u30b5\u30fc\u30d0\u3068\u540c\u671f\u3059\u308b\u306b\u306f\u5225\u9014\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n## \u95a2\u9023\u30b5\u30a4\u30c8\n+ [Atomia DNS\u516c\u5f0f\u30b5\u30a4\u30c8](http://atomiadns.com/)\n+ [Atomia DNS\u30de\u30cb\u30e5\u30a2\u30eb](http://atomiadns.com/documentation/)\n+ [Atomia DNS API\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](http://atomia.github.io/atomiadns/apidocs.html#apidocs-manual)\n\n# 3. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n## 3.1 Atomia DNS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n### 3.1.1 Atomia DNS Master\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nAtomia DNS Master\u306fAtomia DNS Database\u3068Atomia DNS API\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u3059\u3002\u540c\u3058\u30de\u30b7\u30f3\u4e0a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u306fAtomia DNS Master\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u3087\u3046\u3002\n\n```\n# wget -q -O - http://public.apt.atomia.com/setup.sh.shtml | sed s/%distcode/`lsb_release -c | awk '{ print $2 }'`/g | sh\n# apt-get install atomiadns-masterserver\n```\n\nAtomia DNS\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n\n```\n# vim /etc/atomiadns.conf\n```\n\n### 3.1.2 Atomia DNS Client\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# apt-get install atomiadns-client\n```\n\n### 3.1.3 Atomia DNS Web App\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# apt-get install atomiadns-webapp\n```\n\n## 3.2 PowerDNS\u3068\u306e\u9023\u643a\n\n### 3.2.1 Atomia DNS PowerDNS database\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\natomiadns-powerdns-database\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001mysql-server\u53ca\u3073mysql-client\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308cpowerdns\u7528\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u307e\u305fpowerdns\u7528\u306econf\u30d5\u30a1\u30a4\u30eb\u3082\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n```\n# apt-get install atomiadns-powerdns-database\n# dpkg -L atomiadns-powerdns-database\n/.\n/usr\n/usr/share\n/usr/share/doc\n/usr/share/doc/atomiadns-powerdns-database\n/usr/share/doc/atomiadns-powerdns-database/copyright\n/usr/share/doc/atomiadns-powerdns-database/changelog.gz\n/usr/share/atomiadns\n/usr/share/atomiadns/powerdns.sql\n/usr/share/atomia\n/usr/share/atomia/conf\n/usr/share/atomia/conf/atomiadns.conf.atomiapowerdns-database\n/usr/share/atomia/conf/pdns.conf\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u4f5c\u6210\u3055\u308c\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3002\npowerdns_schemaversion\u30c6\u30fc\u30d6\u30eb\u4ee5\u5916\u306f\u7a7a\u3067\u3059\u3002\n\n```\n# mysql -u root -p\nEnter passowrd:\nmysql> use powerdns;\nmysql> show tables;\n+------------------------+\n| Tables_in_powerdns     |\n+------------------------+\n| cryptokeys             |\n| domainmetadata         |\n| domains                |\n| global_cryptokeys      |\n| global_domainmetadata  |\n| outbound_tsig_keys     |\n| powerdns_schemaversion |\n| records                |\n| supermasters           |\n| tsigkeys               |\n+------------------------+\n10 rows in set (0.00 sec)\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u751f\u6210\u3055\u308c\u308bpowerdns\u7528conf\u30d5\u30a1\u30a4\u30eb\u3002\nPowerDNS\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306bMySQL\u3092\u4f7f\u3046\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u306e\u3068\u3001DNSSEC\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n```\n# cat /etc/powerdns/pdns.conf \nlaunch=gmysql\ngmysql-host=localhost\ngmysql-user=powerdns\ngmysql-dbname=powerdns\ngmysql-password=02c98b78a3db6de9d98454f36d286f00d862b51d\ngmysql-dnssec=yes\n```\n\n### 3.2.2 Atomia DNS PowerDNS sync\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u4e0a\u8a18\u306eatomiadns-powerdns-database\u30d1\u30c3\u30b1\u30fc\u30b8\u3060\u3051\u3067\u306fPowerDNS\u3068\u9023\u643a\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093\u3002\n\u8ffd\u52a0\u3067atomiadns-powerdnssync\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\natomiadns-powerdnssync\u306fAtomia DNS API\u3092\u5229\u7528\u3057\u5fc5\u8981\u306a\u60c5\u5831\u3092\u53d6\u5f97\u3001\u305d\u306e\u60c5\u5831\u3092\u76f4\u63a5PowerDNS\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9(\u4eca\u56de\u3067\u3042\u308c\u3070\u4e0a\u8a18\u306eMySQL)\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n\n```\n# apt-get install atomiadns-powerdnssync\n# dpkg -L atomiadns-powerdnssync\n/.\n/usr\n/usr/share\n/usr/share/doc\n/usr/share/doc/atomiadns-powerdnssync\n/usr/share/doc/atomiadns-powerdnssync/copyright\n/usr/share/doc/atomiadns-powerdnssync/changelog.gz\n/usr/share/atomia\n/usr/share/atomia/conf\n/usr/share/atomia/conf/atomiadns.conf.atomiapowerdnssync\n/usr/share/atomia/opendnssec_scripts\n/usr/share/atomia/opendnssec_scripts/add_to_opendnssec.sh\n/usr/share/atomia/opendnssec_scripts/remove_from_opendnssec.sh\n/usr/share/atomia/opendnssec_scripts/export_keys_for_zone.sh\n/usr/share/perl5\n/usr/share/perl5/Atomia\n/usr/share/perl5/Atomia/DNS\n/usr/share/perl5/Atomia/DNS/PowerDNSDatabase.pm\n/usr/share/perl5/Atomia/DNS/PowerDNSSyncer.pm\n/usr/share/man\n/usr/share/man/man1\n/usr/share/man/man1/atomiapowerdnssync.1p.gz\n/usr/bin\n/usr/bin/atomiapowerdnssync\n/etc\n/etc/init\n/etc/init/atomiadns-powerdnssync.conf\n/etc/init.d\n/etc/init.d/atomiadns-powerdnssync\n```\n\n\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30c7\u30fc\u30e2\u30f3\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\n# /etc/init.d/atomiadns-powerdnssync start\n```\n\n\u5168\u30be\u30fc\u30f3\u3092\u540c\u671f\u3057\u307e\u3059\u3002\n\n```\n# atomiapowerdnssync full_reload_online\n```\n\n\u8a73\u7d30\u306fman\u30da\u30fc\u30b8\u3067\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n# man atomiapowerdnssync\n```\n\n\u3053\u3053\u307e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ca\u3073\u8a2d\u5b9a\u3057\u3066\u3001\u3088\u3046\u3084\u304fAtomia DNS\u3068PowerDNS\u306e\u9023\u643a\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u672a\u3060\u809d\u5fc3\u306ePowerDNS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\n## 3.3 PowerDNS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n### 3.3.1 PowerDNS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u307e\u305a\u306fPowerDNS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n# wget http://downloads.powerdns.com/releases/deb/pdns-static_3.2-1_amd64.deb\n# dpkg -i pdns-static_3.2-1_amd64.deb\n# dpkg -L pdns-static\n/.\n/etc\n/etc/powerdns\n/etc/powerdns/pdns.conf\n/etc/init.d\n/etc/init.d/pdns\n/usr\n/usr/share\n/usr/share/man\n/usr/share/man/man8\n/usr/share/man/man8/pdns_server.8\n/usr/share/man/man8/zone2sql.8\n/usr/share/man/man8/pdns_control.8\n/usr/share/doc\n/usr/share/doc/pdns\n/usr/share/doc/pdns/copyright\n/usr/share/doc/pdns/changelog.gz\n/usr/share/doc/pdns/changelog.Debian.gz\n/usr/sbin\n/usr/sbin/pdns_server\n/usr/bin\n/usr/bin/pdnssec\n/usr/bin/zone2json\n/usr/bin/dnsreplay\n/usr/bin/pdns_control\n/usr/bin/zone2sql\n```\n\n### 3.3.2 PowerDNS\u7528MySQL\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u6b21\u306bPowerDNS\u7528\u306eMySQL\u30c9\u30e9\u30a4\u30d0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n# wget https://www.monshouwer.eu/download/3rd_party/pdns-server/el6/x86_64/pdns-server-backend-mysql-3.2-1.el6.MIND.x86_64.rpm\n# alien pdns-server-backend-mysql-3.2-1.el6.MIND.x86_64.rpm\n# dpkg -i pdns-server-backend-mysql_3.2-2_amd64.deb\n# dpkg -L pdns-server-backend-mysql\n/.\n/usr\n/usr/share\n/usr/share/doc\n/usr/share/doc/pdns-server-backend-mysql-3.2\n/usr/share/doc/pdns-server-backend-mysql-3.2/no-dnssec.schema.mysql.sql\n/usr/share/doc/pdns-server-backend-mysql-3.2/dnssec.schema.mysql.sql\n/usr/share/doc/pdns-server-backend-mysql\n/usr/share/doc/pdns-server-backend-mysql/changelog.Debian.gz\n/usr/share/doc/pdns-server-backend-mysql/copyright\n/usr/lib64\n/usr/lib64/libgmysqlbackend.so\n```\n\n\u203b alien\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u306a\u3051\u308c\u3070\n\n```\n# apt-get install alien dpkg-dev debhelper build-essential\n```\n\n### 3.3.3 PowerDNS\u306e\u8a2d\u5b9a\n\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306bMySQL\u3092\u4f7f\u3046\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```\n# vim /etc/powerdns/pdns.conf\nlaunch=gmysql\ngmysql-host=localhost\ngmysql-user=powerdns\ngmysql-dbname=powerdns\ngmysql-password=02c98b78a3db6de9d98454f36d286f00d862b51d\ngmysql-dnssec\ngmysql-socket=/var/run/mysqld/mysqld.sock\n```\n\n### 3.3.4 \u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3067\u52d5\u4f5c\u306e\u78ba\u8a8d\n\n\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u767b\u9332\n\n```\n# mysql -u root -p\nEnter passowrd:\nmysql> use powerdns;\nmysql> INSERT INTO domains (name, type) values ('test.com', 'NATIVE');\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'test.com','localhost ahu@ds9a.nl 1','SOA',86400,NULL);\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'test.com','dns-us1.powerdns.net','NS',86400,NULL);\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'test.com','dns-eu1.powerdns.net','NS',86400,NULL);\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'www.test.com','199.198.197.196','A',120,NULL);\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'mail.test.com','195.194.193.192','A',120,NULL);\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'localhost.test.com','127.0.0.1','A',120,NULL);\nmysql> INSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'test.com','mail.test.com','MX',120,25);\n```\n\nPowerDNS\u3092\u8d77\u52d5\n\n```\n# /etc/init.d/pdns monitor\nMay 07 21:36:42 Reading random entropy from '/dev/urandom'\nMay 07 21:36:42 This is a standalone pdns\nMay 07 21:36:42 UDP server bound to 0.0.0.0:53\nMay 07 21:36:42 TCP server bound to 0.0.0.0:53\nMay 07 21:36:42 PowerDNS 3.2 (C) 2001-2013 PowerDNS.COM BV (Jan 17 2013, 09:33:38, gcc 4.4.5) starting up\nMay 07 21:36:42 PowerDNS comes with ABSOLUTELY NO WARRANTY. This is free software, and you are welcome to redistribute it according to the terms of the GPL version 2.\nMay 07 21:36:42 Creating backend connection for TCP\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 About to create 3 backend threads for UDP\n% May 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 gmysql Connection successful\nMay 07 21:36:42 Done launching threads, ready to distribute questions\n```\n\n\"/etc/init.d/pdns monitor\"\u306e\u5b9f\u4f53\n\n```\n/usr/sbin/pdns_server --daemon=no --guardian=no --control-console --loglevel=9\n```\n\npdns_server\u306b\u95a2\u3057\u3066\u306fman\u30da\u30fc\u30b8\u3092\u53c2\u7167\n\n```\n# man pdns_server\n```\n\n\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u691c\u8a3c\u3059\u308b\n\n```\n# host www.test.com 127.0.0.1\nUsing domain server:\nName: 127.0.0.1\nAddress: 127.0.0.1#53\nAliases: \n\nwww.test.com has address 199.198.197.196\n```\n\n```\n# host -v -t mx www.test.com 127.0.0.1\nTrying \"www.test.com\"\nUsing domain server:\nName: 127.0.0.1\nAddress: 127.0.0.1#53\nAliases: \n\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 20874\n;; flags: qr aa rd; QUERY: 1, ANSWER: 0, AUTHORITY: 1, ADDITIONAL: 0\n\n;; QUESTION SECTION:\n;www.test.com.\t\t\tIN\tMX\n\n;; AUTHORITY SECTION:\ntest.com.\t\t3600\tIN\tSOA\tlocalhost. ahu.ds9a.nl. 1 10800 3600 604800 3600\n\nReceived 86 bytes from 127.0.0.1#53 in 0 ms\n```\n\n\u30c6\u30b9\u30c8\u304c\u5b8c\u4e86\u3059\u308c\u3070\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u306f\u524a\u9664\u3057\u3066\u304a\u304f\u3002\n\n```\n# mysql -u root -p\nEnter passowrd:\nmysql> use powerdns;\nmysql> delete from domains;\nmysql> delete from records;\n```\n\n### 3.3.5 PowerDNS\u306e\u8d77\u52d5\n\nPowerDNS\u3092\u8d77\u52d5\u3059\u308b\n\n```\n# /etc/init.d/pdns start\n```\n\n\"/etc/init.d/pdns start\"\u306e\u5b9f\u4f53\n\n```\n# /usr/sbin/pdns_server --daemon --guardian=yes\n```\n\nOS\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3059\u308b\u304b\u78ba\u8a8d\n\n```\n# sysv-rc-conf --list | grep pdns\npdns         0:off\t1:off\t2:on\t3:on\t4:on\t5:on\t6:off\n```\n\n\u203b sysv-rc-conf\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u306a\u3051\u308c\u3070\n\n```\n# apt-get install sysv-rc-conf\n```\n\n### 3.3.6 PowerDNS\u3078\u30be\u30fc\u30f3/\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\n\n\u203b atomiapowerdnssync\u304c\u8d77\u52d5\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u4e88\u3081\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u306b\u3066\u8d77\u52d5\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n# /etc/init.d/atomiadns-powerdnssync start\n```\n\n#### Atomia DNS Web App\u3067\u30be\u30fc\u30f3/\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\n\nGUI\u30c4\u30fc\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001[+ Add New Zone]\u30dc\u30bf\u30f3\u304b\u3089\u65b0\u898f\u30be\u30fc\u30f3\u3092\u767b\u9332\u3059\u308b\u3002\u305d\u306e\u5f8c[Edit]\u30dc\u30bf\u30f3\u304b\u3089\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\u3002\n\n```\nhttp://[your machine]:5380\n```\n\n#### Atomia DNS Client\u3067\u30be\u30fc\u30f3/\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\n\natomiadnsclient\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30be\u30fc\u30f3\u3092\u767b\u9332\u3059\u308b\u3002\n\n```\n# atomiadnsclient --uri http://[your machine]/atomiadns --method AddZone --arg \u2026\n```\n\natomiadnsclient\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\u3002\n\n```\n# atomiadnsclient --uri http://[your machine]/atomiadns --method AddDnsRecords --arg ...\n```\n\n### 3.3.7 PowerDNS\u3078\u767b\u9332\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u3092\u66f4\u65b0\u3059\u308b\n\n#### Atomia DNS Web App\u3067\u30ec\u30b3\u30fc\u30c9\u3092\u66f4\u65b0\u3059\u308b\n\nGUI\u30c4\u30fc\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001[Edit]\u30dc\u30bf\u30f3\u304b\u3089\u30ec\u30b3\u30fc\u30c9\u3092\u66f4\u65b0\u3059\u308b\u3002\n\n```\nhttp://[your machine]:5380\n```\n\n#### Atomia DNS Client\u3067\u30ec\u30b3\u30fc\u30c9\u3092\u66f4\u65b0\u3059\u308b\n\natomiadnsclient\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30ec\u30b3\u30fc\u30c9\u3092\u66f4\u65b0\u3059\u308b\u3002\n\n```\n# atomiadnsclient --uri http://[your machine]/atomiadns --method EditDnsRecords --arg ...\n```\n\n### 3.3.8 PowerDNS\u3078\u767b\u9332\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\n\n#### Atomia DNS Web App\u3067\u30ec\u30b3\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\n\nGUI\u30c4\u30fc\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001[Edit]\u30dc\u30bf\u30f3\u304b\u3089\u30ec\u30b3\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\u3002\n\n```\nhttp://[your machine]:5380\n```\n\n#### Atomia DNS Client\u3067\u30ec\u30b3\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\n\natomiadnsclient\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30ec\u30b3\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\u3002\n\n```\n# atomiadnsclient --uri http://[your machine]/atomiadns --method DeleteDnsRecords --arg ...\n```\n\n### 3.3.8 PowerDNS\u3078\u767b\u9332\u3057\u305f\u30be\u30fc\u30f3\u3092\u524a\u9664\u3059\u308b\n\n#### Atomia DNS Web App\u3067\u30be\u30fc\u30f3\u3092\u524a\u9664\u3059\u308b\n\nGUI\u30c4\u30fc\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001[Delete]\u30dc\u30bf\u30f3\u304b\u3089\u30be\u30fc\u30f3\u3092\u524a\u9664\u3059\u308b\u3002\n\n```\nhttp://[your machine]:5380\n```\n\n#### Atomia DNS Client\u3067\u30be\u30fc\u30f3\u3092\u524a\u9664\u3059\u308b\n\natomiadnsclient\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30be\u30fc\u30f3\u3092\u524a\u9664\u3059\u308b\u3002\n\n```\n# atomiadnsclient --uri http://[your machine]/atomiadns --method DeleteZone --arg ...\n```\n\n### 3.3.10 PowerDNS\u306e\u505c\u6b62\n\nPowerDNS\u3092\u505c\u6b62\u3059\u308b\n\n```\n# /etc/init.d/pdns stop\n```\n\n\"/etc/init.d/pdns stop\"\u306e\u5b9f\u4f53\n\n```\n# /usr/bin/pdns_control quit 2> /dev/null\n```\n\npdns_control\u306b\u95a2\u3057\u3066\u306fman\u30da\u30fc\u30b8\u3092\u53c2\u7167\n\n```\n# man pdns_control\n```\n\n# 4. DNSSEC\n## 4.1 DNSSEC\u3068\u306f\nDNSSEC\u3068\u306f\u30c7\u30fc\u30bf\u306e\u5fdc\u7b54\u9001\u4fe1\u306e\u969b\u306b\u516c\u958b\u9375\u6697\u53f7\u3092\u5229\u7528\u3057\u305f\u7f72\u540d\u3092\u4ed8\u52a0\u3057\u3001\u53d7\u4fe1\u5074\u3067\u4ed8\u52a0\u3055\u308c\u305f\u7f72\u540d\u3092\u691c\u8a3c\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u30c7\u30fc\u30bf\u306e\u51fa\u81ea\u8a8d\u8a3c\u3068\u5b8c\u5168\u6027\u3092\u78ba\u8a8d\u3067\u304d\u3001DNS\u5fdc\u7b54\u306e\u507d\u9020(\u30ad\u30e3\u30c3\u30b7\u30e5\u30dd\u30a4\u30ba\u30cb\u30f3\u30b0)\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u308bDNS\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u62e1\u5f35\u3067\u3059\u3002\n\n\u3053\u3053\u3067\u306f\u8a73\u7d30\u306a\u8aac\u660e\u306f\u7701\u304d\u307e\u3059\u3002\n\n### \u4fe1\u983c\u306e\u9023\u9396 (chain of trust)\nDNSSEC\u3068\u8a00\u3048\u3070\u4fe1\u983c\u306e\u9023\u9396\u3002\u53d7\u3051\u53d6\u3063\u305fDNS\u5fdc\u7b54\u304c\u300c\u672c\u5f53\u306b\u6b63\u3057\u3044(\u507d\u88c5\u3055\u308c\u3066\u3044\u306a\u3044)\u300d\u3053\u3068\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u53d7\u3051\u53d6\u3063\u305f\u30c7\u30fc\u30bf\u306b\u3064\u3044\u3066\u4ee5\u4e0b\u306e\uff12\u70b9\u306e\u78ba\u8a8d\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n1. \u300c\u6b63\u3057\u3044\u76f8\u624b\u304b\u3089\u300d\u2026 \u672c\u5f53\u306b\u305d\u306e\u76f8\u624b\u304c\u767b\u9332\u3057\u305f\u30c7\u30fc\u30bf\u3067\u3042\u308b\u3053\u3068(\u30c7\u30fc\u30bf\u51fa\u81ea\u306e\u8a8d\u8a3c)\n2. \u300c\u305d\u306e\u307e\u307e\u306e\u5f62\u3067\u300d\u2026 \u901a\u4fe1\u9014\u4e2d\u3067\u7f6e\u304d\u63db\u3048\u3089\u308c\u305f\u308a\u3001\u4e00\u90e8\u304c\u5931\u308f\u308c\u305f\u308a\u3057\u3066\u3044\u306a\u3044\u3053\u3068(\u30c7\u30fc\u30bf\u306e\u5b8c\u5168\u6027)\n\n![\u4fe1\u983c\u306e\u9023\u9396](http://rs.impressrd.jp/files/images/rs19/sp/04_zu07.jpg)\n\n#### example.jp\u306e\u4f8b\n\u7f72\u540d(\u30b3\u30f3\u30c6\u30f3\u30c4\u30b5\u30fc\u30d0)\n\n```\n1. example.jp\u30be\u30fc\u30f3\u306e\u30ec\u30b3\u30fc\u30c9\u3092ZSK\u79d8\u5bc6\u9375\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n2. example.jp\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092KSK\u79d8\u5bc6\u9375\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n3. example.jp\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375(\u3068\u540c\u7b49\u306e\u60c5\u5831)\u3092DS\u3068\u3057\u3066\u89aa\u30be\u30fc\u30f3(jp)\u306b\u767b\u9332\u3057\u307e\u3059\u3002\n4. jp\u30be\u30fc\u30f3\u306e\u30ec\u30b3\u30fc\u30c9\u3092ZSK\u79d8\u5bc6\u9375\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n5. jp\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092KSK\u79d8\u5bc6\u9375\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n6. jp\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375(\u3068\u540c\u7b49\u306e\u60c5\u5831)\u3092DS\u3068\u3057\u3066\u89aa\u30be\u30fc\u30f3(\u30eb\u30fc\u30c8)\u306b\u767b\u9332\u3057\u307e\u3059\u3002\n7. \u30eb\u30fc\u30c8\u30be\u30fc\u30f3\u306e\u30ec\u30b3\u30fc\u30c9\u3092ZSK\u79d8\u5bc6\u9375\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n8. \u30eb\u30fc\u30c8\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092KSK\u79d8\u5bc6\u9375\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n```\n\n\u691c\u8a3c(\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0)\n\n```\n1. \u30eb\u30fc\u30c8\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u304c\u4e88\u3081\u4fdd\u6301\u3057\u307e\u3059\u3002\n2. \u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306f\u30eb\u30fc\u30c8\u30be\u30fc\u30f3KSK\u516c\u958b\u9375\u3092\u7528\u3044\u3066\u691c\u8a3c\u3057\u3001\u30eb\u30fc\u30c8\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092\u5165\u624b\u3057\u307e\u3059\u3002\n3. \u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306f\u30eb\u30fc\u30c8\u30be\u30fc\u30f3ZSK\u516c\u958b\u9375\u3092\u7528\u3044\u3066\u691c\u8a3c\u3057\u3001JP\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375\u3092\u5165\u624b\u3057\u307e\u3059\u3002\n4. \u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306fJP\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375\u3092\u7528\u3044\u3066\u691c\u8a3c\u3057\u3001JP\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092\u5165\u624b\u3057\u307e\u3059\u3002\n5. \u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306fJP\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092\u7528\u3044\u3066\u691c\u8a3c\u3057\u3001example\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375\u3092\u5165\u624b\u3057\u307e\u3059\u3002\n6. \u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306fexample\u30be\u30fc\u30f3\u306eKSK\u516c\u958b\u9375\u3092\u7528\u3044\u3066\u691c\u8a3c\u3057\u3001example\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092\u5165\u624b\u3057\u307e\u3059\u3002\n7. \u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306fexample\u30be\u30fc\u30f3\u306eZSK\u516c\u958b\u9375\u3092\u7528\u3044\u3066\u691c\u8a3c\u3057\u3001\u30ec\u30b3\u30fc\u30c9\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n```\n\n### KSK (Key Signing Key)\n\n\u300c\u6b63\u3057\u3044\u76f8\u624b\u304b\u3089\u300d\n\n\u30be\u30fc\u30f3\u5185\u306e\u516c\u958b\u9375\u60c5\u5831\u306b\u7f72\u540d\u3059\u308b\u305f\u3081\u306e\u6bd4\u8f03\u7684\u6697\u53f7\u5f37\u5ea6\u306e\u9ad8\u3044(RSA\u30672048bit\u307b\u3069)\u9375\u3002\u5229\u7528\u671f\u9593\u3092\u9577\u304f(\u5e74\u6b21)\u3067\u304d\u308b\u305f\u3081\u3001\u9375\u66f4\u65b0\u306e\u983b\u5ea6\u3092\u4f4e\u304f\u3067\u304d\u308b\u3002\u7f72\u540d\u30b3\u30b9\u30c8\u306f\u9ad8\u3044\u304c\u3001\u5c11\u6570\u306e\u9375\u60c5\u5831\u306e\u307f\u3092\u7f72\u540d\u5bfe\u8c61\u3068\u3059\u308b\u305f\u3081\u554f\u984c\u306b\u306f\u306a\u3089\u306a\u3044\u3002KSK\u516c\u958b\u9375\u3068\u6697\u53f7\u8ad6\u7684\u306b\u7b49\u4fa1\u306a\u60c5\u5831(DS)\u3092\u4f5c\u6210\u3057\u3001\u89aa\u30be\u30fc\u30f3\u306b\u767b\u9332\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\u3057\u305f\u5834\u5408\u306f\u3001\u540c\u6642\u306bDS\u3082\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n### ZSK (Zone Signing Key)\n\n\u300c\u305d\u306e\u307e\u307e\u306e\u5f62\u3067\u300d\n\n\u30be\u30fc\u30f3\u306b\u7f72\u540d\u3059\u308b\u305f\u3081\u306e\u6bd4\u8f03\u7684\u6697\u53f7\u5f37\u5ea6\u306e\u4f4e\u3044(RSA\u30671024bit\u307b\u3069)\u9375\u3002\u7f72\u540d\u30b3\u30b9\u30c8\u304c\u4f4e\u3044\u305f\u3081\u3001\u5927\u898f\u6a21\u30be\u30fc\u30f3\u306e\u7f72\u540d\u306b\u3082\u9069\u5fdc\u3067\u304d\u308b\u3002\u5b89\u5168\u78ba\u4fdd\u306e\u305f\u3081\u3001\u3042\u308b\u7a0b\u5ea6\u983b\u7e41(\u6708\u6b21)\u306b\u9375\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\u306f\u89aa\u30be\u30fc\u30f3\u3068\u306f\u95a2\u4fc2\u306a\u304f\u72ec\u7acb\u3067\u884c\u3048\u308b\u3002\n\n### DS (Delegation Singer) \u30ec\u30b3\u30fc\u30c9\nKSK\u516c\u958b\u9375\u306bSHA-1\u3084SHA-256\u7b49\u306e\u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u3092\u9069\u7528\u3057\u3066\u4f5c\u6210\u3057\u305f\u3001KSK\u516c\u958b\u9375\u3068\u7b49\u4fa1\u306a\u60c5\u5831\u3002\u89aa\u30be\u30fc\u30f3\u306b\u767b\u9332\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u307e\u305f\u89aa\u30be\u30fc\u30f3\u306b\u306e\u307f\u5b58\u5728\u3059\u308b\u3002\n\n### DNSKEY\u30ec\u30b3\u30fc\u30c9\nKSK\u3068ZSK\u306e\u516c\u958b\u9375\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306e\u30ec\u30b3\u30fc\u30c9\u3002\n\n### RRSIG\u30ec\u30b3\u30fc\u30c9\n\u30ec\u30b3\u30fc\u30c9\u306e\u7f72\u540d\u30ec\u30b3\u30fc\u30c9\u3002\n\n## 4.2 Atomia DNS\u306eDNSSEC\u95a2\u9023API\nAtomia DNS Web App\u304b\u3089\u3067\u306fDNSSEC\u306e\u8a2d\u5b9a\u304c\u884c\u3048\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081DNSSEC\u306e\u8a2d\u5b9a\u306fAtomia DNS Client(atomiadnsclient\u30b3\u30de\u30f3\u30c9)\u3092\u7528\u3044\u307e\u3059\u3002\n\n### API\u4e00\u89a7\n\n| \u30e1\u30bd\u30c3\u30c9\u540d | \u6982\u8981 |\n|:---|:---|\n| GetDNSSECKeys | \u30b9\u30c8\u30a2\u3055\u308c\u3066\u3044\u308b\u5168\u3066\u306eDNSSEC\u9375\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b |\n| GetDNSSECKeysDS | \u30b9\u30c8\u30a2\u3055\u308c\u3066\u3044\u308b\u5168\u3066\u306e\u30a2\u30af\u30c6\u30a3\u30d6\u306aKSK\u9375\u306b\u5bfe\u3057\u3066\u751f\u6210\u3055\u308c\u305fDS\u30ec\u30b3\u30fc\u30c9\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b |\n| GetExternalDNSSECKeys | \u30b9\u30c8\u30a2\u3055\u308c\u3066\u3044\u308b\u5168\u3066\u306e\u5916\u90e8DNSSEC\u9375\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b |\n| AddDNSSECKey | \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078DNSSEC\u9375\u3092\u8ffd\u52a0\u3059\u308b |\n| AddExternalDNSSECKey | \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u5916\u90e8DNSSEC\u9375\u3092\u8ffd\u52a0\u3059\u308b |\n| ActivateDNSSECKey | DNSSEC\u9375\u3092\u6709\u52b9\u306b\u3059\u308b |\n| DeactivateDNSSECKey | DNSSEC\u9375\u3092\u7121\u52b9\u306b\u3059\u308b |\n| DeleteDNSSECKey | \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089DNSSEC\u9375\u3092\u524a\u9664\u3059\u308b |\n| DeleteExternalDNSSECKey | \u30c7\u30fc\u30bf\u30fc\u30d9\u30b9\u304b\u3089\u5916\u90e8DNSEC\u9375\u3092\u524a\u9664\u3059\u308b |\n| GetDNSSECZSKInfo | \u81ea\u52d5\u5316\u3055\u308c\u305fZSK\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u30b9\u30c8\u30a2\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306eZSK\u9375\u306b\u95a2\u3059\u308b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b |\n\n## 4.3 DNSSEC\u9375\u3092\u767b\u9332\u3059\u308b\n### 4.3.1 KSK\u9375\u3092\u767b\u9332\u3059\u308b\n\n\u9375\u751f\u6210\u306brng-tools\u3092\u4f7f\u3046\u306e\u3067\u4e88\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n# apt-get install rng-tools\n# vim /etc/default/rng-tools\nHRNGDEVICE=/dev/urandom\n\n# /etc/init.d/rng-tools start\n```\n\nKSK\u9375\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n\n```\n# atomiadnsclient --method AddDNSSECKey --arg RSASHA256 --arg 2048 --arg KSK --arg 1\n```\n\nKSK\u9375\u304c\u767b\u9332\u3055\u308c\u305f\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n# atomiadnsclient --method GetDNSSECKeys\n$VAR1 = [\n          {\n            'algorithm' => 'RSASHA256',\n            'activated' => '1',\n            'keysize' => '2048',\n            'activated_at' => '2013-05-09 20:15:54.240659',\n            'keytype' => 'KSK',\n            'created_at' => '2013-05-09 20:15:54.240659',\n            'deactivated_at' => undef,\n            'keydata' => 'Private-key-format: v1.2\nAlgorithm: 8 (RSASHA256)\nModulus: sE6t8Fw429Nww9wGaP5ygT0CdD8oadcMGCbWg5qg2SzTPhapTFtR7uXXkSSyURBkw2kUK02/gK8Zc5KDmMYSmqKL2ugdvjj2yfLpb8iYdt5qCG6bi0ICGeSGgdQ6lkNFCkiwohcl7LhJVjNigbcxC54JPCUZuMGfq0chPE3uJGmYrkE4ZCLnKacVFIAn92FozmeQ1vOneMJZ1iL1saUZtkqVVTjikbkI9qjr7V5KYQbcth7/zTmphVvs6hKU6LATNA4Ieq0I0E+u3mtmrgcjEsRdNVHALwCnbcE+o/oAC3gywlgimmjfTPthbrXoqAwxN9ipnfebhNLyNet0VuLraQ==\nPublicExponent: AQAB\nPrivateExponent: jLafGKFiOACvlYJ8EzxRg1iAJutpg9/ApV4KA4tcKTkfeAR6JpkT8Ym73Pne39gns9af5FfvKfOWaqlbIomju4tT9+keI/4u6ctYCIGfPfARzJ0Kw8BxEN1VhTUvdVJHPgf6AcRb3mzPC1+DlWfyWwVM9ZXey5itqPPiUNEZ6jCSKDoGz90iN/RGNqTxI+bVUk1hJNAd/AZ9jE5TaHmNbm7UBVfau6xP9arm90axLhICaIH252tZxET+lXoJLS8RQ3N05Rx4deTPMooAeawWMsX/cZZTuFKD0lcR1n5XkGU0RLEruK9Yw+fN22aGOWpPsuoaWQ62WyvNZwHcssDJoQ==\nPrime1: 1t78VT6rylDXWoMDKNDEGqx1CDlMmsC+PjQIIxuzEgVyl3tBHkeOmRBvXqSrkuqf7ScR2kz95SXrYWobYIR0wOFqjZQYcGbbBqPaz5XjBFzghOPpbxZ8J7/W2fkzuESyFC6fAWx+e5oGAt6FSyyc0zRYVPCDZnoAv98bVptRw8U=\nPrime2: 0g4DR4JH1WUbvG71WRV8ESx5+ISCZb64CI0q7RlXnbhSJoglXIiLCEceEoPcnoR95bqCvT791EBvgM73TKG95g8TEWCZDR56nO+bpXSo5Hvm1FYJ4VYxr9g6JkRnrHo7w8nqUykQpVM+RBHMWlU/TMylr//Cu9xOG2uO+YqY71U=\nExponent1: r49z5oaVQHG681Y2P6QLhqu/159RiuPOzO4gc+cO8buHvGNVelMHHOMDy/WJxjlzwAX7HT1o+VB5OJfElKDE8E99iv4k1boEXTGF97REz2y/eXTqZvydJrEk7+YgLv/Z7ImHG1e1JHJdVPzRNfHWlO6g+Y2mHxWyBRNat/Gh5e0=\nExponent2: Uxb/7RV33M21/v/VRXveK9zwEoI4Io8itR9CT6+qnNUAigVo4gWRGaEoICLQ7lNyiaERflKgjYk/kjBMWp/QQmTMIh+X6zyXO+T8KKLQ/DCWyn+OQPibhvd9aQ2+BNgFNBl2+5ZO41beVobD0yfNdk+tasU8/prSur39PHC6tlE=\nCoefficient: pE/z+rrNRHpNqJsvdReFrsgrybUuOYEUYQqtywYQO2gKlqfveQVvP5c+n2Uzjlo2mr63KyOAUQyzV+SoElRNL8+aOZeYqovdxBQXkQEvlEpUhAdAqxWdYhkwuyWN+14W4wjBW7cln86mtxZskmRsWvQtEM9Gl9O6uBBLe2/ZyRc=\n',\n...\n```\n\nPowerDNS\u5074\u3067\u306fcryptokeys\u30c6\u30fc\u30d6\u30eb\u306b\u767b\u9332\u3055\u308c\u307e\u3059\u3002PowerDNS\u3067DNSSEC\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3001cryptokeys\u3001domainmetadata\u3001tsigkeys\u30c6\u30fc\u30d6\u30eb\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n### 4.3.2 ZSK\u9375\u3092\u767b\u9332\u3059\u308b\n\n```\n# atomiadnsclient --method AddDNSSECKey --arg RSASHA256 --arg 1024 --arg ZSK --arg 1\n```\n\n\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u306aZSK\u3092\u767b\u9332\u3059\u308b\u5834\u5408\u306f\u6700\u5f8c\u306e\u5f15\u6570\u306e\u5024\u30920\u306b\n\n```\n# atomiadnsclient --method AddDNSSECKey --arg RSASHA256 --arg 1024 --arg ZSK --arg 0\n```\n\n## 4.4 pdnssec\u30c4\u30fc\u30eb\n\npdnssec\u30b3\u30de\u30f3\u30c9\u306fPowerDNSSEC\u7528\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u3067\u3059\u3002\n\n| \u30b3\u30de\u30f3\u30c9\u540d | \u6982\u8981 |\n|:---|:---|\n| activate-zone-key \u30be\u30fc\u30f3 \u9375ID | \u30be\u30fc\u30f3\u306e\u6307\u5b9a\u3057\u305f\u9375ID\u306e\u9375\u3092\u6709\u52b9\u306b\u3057\u307e\u3059 |\n| add-zone-key \u30be\u30fc\u30f3 [zsk\u2502ksk] [bits] [rsasha1\u2502rsasha256\u2502rsasha512\u2502gost\u2502ecdsa256\u2502ecdsa384] | \u30be\u30fc\u30f3\u7528\u306eKSK\u307e\u305f\u306fZSK\u9375\u3092\u6307\u5b9a\u3055\u308c\u305f\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u4f5c\u308a\u307e\u3059 |\n| check-zone \u30be\u30fc\u30f3 | \u6307\u5b9a\u3057\u305f\u30be\u30fc\u30f3\u304cDNSSEC\u306e\u6b63\u3057\u3055\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059 |\n| check-all-zones | \u5168\u3066\u306e\u30be\u30fc\u30f3\u306b\u5bfe\u3057\u3001DNSSEC\u306e\u6b63\u3057\u3055\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059 |\n| create-bind-db FNAME | BIND\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u7528\u306eDNSSEC\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059 |\n| deactivate-zone-key \u30be\u30fc\u30f3 \u9375ID | \u30be\u30fc\u30f3\u306e\u6307\u5b9a\u3057\u305f\u9375ID\u306e\u9375\u3092\u7121\u52b9\u306b\u3057\u307e\u3059 |\n| disable-dnssec \u30be\u30fc\u30f3 | \u30be\u30fc\u30f3\u306e\u7f72\u540d\u3068\u5168\u3066\u306e\u9375\u3092\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u304b\u3057\u307e\u3059 |\n| export-zone-dnskey \u30be\u30fc\u30f3 \u9375ID | \u6307\u5b9a\u3057\u305f\u30be\u30fc\u30f3\u306e\u6307\u5b9a\u3057\u305f\u516c\u958b\u9375\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059 |\n| export-zone-key \u30be\u30fc\u30f3 \u9375ID | \u6307\u5b9a\u3057\u305f\u30be\u30fc\u30f3\u306e\u6307\u5b9a\u3057\u305f\u79d8\u5bc6\u9375\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059 |\n| hash-zone-record \u30be\u30fc\u30f3 RNAME | \u30be\u30fc\u30f3\u306e\u30ec\u30b3\u30fc\u30c9\u7528NSEC3\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u8a08\u7b97\u3057\u307e\u3059 |\n| import-zone-key \u30be\u30fc\u30f3 \u30d5\u30a1\u30a4\u30eb [ksk\u2502zsk] | \u30be\u30fc\u30f3\u306b\u5bfe\u3057KSK\u307e\u305f\u306fZSK\u9375\u3092\u4f0a\u30dd\u30fc\u30c8\u3057\u307e\u3059 |\n| rectify-zone \u30be\u30fc\u30f3 [\u30be\u30fc\u30f3 ..] | \u6307\u5b9a\u30be\u30fc\u30f3\u306eDNSSEC\u30d5\u30a3\u30fc\u30eb\u30c9\u3092FIX\u3057\u307e\u3059 |\n| rectify-all-zones | \u5168\u3066\u306e\u30be\u30fc\u30f3\u3092FIX\u3057\u307e\u3059 |\n| remove-zone-key \u30be\u30fc\u30f3 \u9375ID | \u30be\u30fc\u30f3\u304b\u3089\u6307\u5b9a\u3057\u305f\u9375ID\u306e\u9375\u3092\u524a\u9664\u3057\u307e\u3059 |\n| secure-zone \u30be\u30fc\u30f3 [\u30be\u30fc\u30f3 ..] | \u30be\u30fc\u30f3\u306b\u5bfe\u3057\u3001DNSSEC\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059 |\n| set-nsec3 \u30be\u30fc\u30f3 ['params' [narrow]] | \u30be\u30fc\u30f3\u306bNSEC3\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3057\u307e\u3059 |\n| set-presigned \u30be\u30fc\u30f3 | \u4e8b\u524d\u7f72\u540d\u30be\u30fc\u30f3\u306b\u5207\u308a\u66ff\u3048\u307e\u3059 |\n| show-zone \u30be\u30fc\u30f3 | \u30be\u30fc\u30f3\u306eDNNSEC\u9375\u306e\u8a73\u7d30\u3092\u8868\u793a\u3057\u307e\u3059 |\n| unset-nsec3 \u30be\u30fc\u30f3 | NSEC3\u304b\u3089NSEC\u3078\u623b\u3057\u307e\u3059 |\n| unset-presigned \u30be\u30fc\u30f3 | \u30be\u30fc\u30f3\u306e\u4e8b\u524d\u7f72\u540d\u3092\u89e3\u9664\u3057\u307e\u3059 |\n\n## 4.5 DS\u306e\u53d6\u5f97\u3068\u4e0a\u4f4d\u30be\u30fc\u30f3\u3078\u306e\u53cd\u6620\n\nDS\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306b\u3066\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\n```\n# pdnssec show-zone \u30be\u30fc\u30f3 | grep DS\nDS = test.com IN DS 55216 8 1 382c270fa3e842a144994f79818d2dca82b50f45\nDS = test.com IN DS 55216 8 2 b7fe7d2bf358a8f92026fd7f065aa5c7856902c5c28a293689bc08d3efacb3f4\nDS = test.com IN DS 55216 8 3 6450eb2a4bff6663c7a4f7632e247ed3fdb3f0c0cb86f6f1a9c2d22894ad105e\n...\n```\n\nDS\u30ec\u30b3\u30fc\u30c9\u3068\u3057\u3066\u53cd\u6620\u3059\u308b\u306e\u306f\u4ee5\u4e0b\u306e\u90e8\u5206\u3068\u306a\u308a\u307e\u3059\u3002\n\n```\nDS = test.com IN DS 55216 8 1 382c270fa3e842a144994f79818d2dca82b50f45\n```\n\n\u306e\n\n```\n55216 8 1 382c270fa3e842a144994f79818d2dca82b50f45\n```\n\n\u306e\u90e8\u5206\u3092\u53cd\u6620\u3057\u307e\u3059\u3002\u5148\u982d\u304b\u3089\u9375\u30bf\u30b0(\u5bfe\u5fdc\u3059\u308bDNSKEY\u30ec\u30b3\u30fc\u30c9\u304b\u3089\u751f\u6210\u3057\u305f\u6574\u6570\u5024)\u3001\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0(\u7f72\u540d\u9375\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u8868\u3059\u6574\u6570\u5024)\u3001\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u578b(\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u65b9\u5f0f\u3092\u8868\u3059\u6574\u6570\u5024)\u3001\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30c7\u30fc\u30bf(DNSKEY\u306e\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u309216\u9032\u6570\u3067\u8868\u3057\u305f\u6587\u5b57\u5217)\u3067\u3059\u3002\n\nAPI\u3067\u53d6\u5f97\u3059\u308b\u5834\u5408\u306fatomiadnsclient\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n\n```\n# atomiadnsclient --method GetDNSSECKeysDS --arg test.com\n$VAR1 = [\n          {\n            'digest' => '382C270FA3E842A144994F79818D2DCA82B50F45',\n            'digestType' => '1',\n            'alg' => '8',\n            'keyTag' => '55216'\n          },\n...\n```\n\n### 4.5.1 \u4e0a\u4f4d\u30be\u30fc\u30f3\u3078\u306e\u53cd\u6620\n\n\u4e0a\u4f4d\u30be\u30fc\u30f3\u3078\u306e\u53cd\u6620\u65b9\u6cd5\u306f\u30ec\u30b8\u30b9\u30c8\u30ea\u3084\u30ec\u30b8\u30b9\u30c8\u30e9\u306b\u3088\u3063\u3066\u9055\u3044\u307e\u3059\u3002\n\n\u4f8b\u3048\u3070\u81ea\u8eab\u304c\u30ec\u30b8\u30b9\u30c8\u30e9\u306e\u5834\u5408\u3001.JP\u30c9\u30e1\u30a4\u30f3\u3092\u6271\u3046JPRS\u3068\u3084\u308a\u3068\u308a\u3059\u308b\u5834\u5408\u306f[GUI\u307e\u305f\u306fAPI](http://jppartners.jp/member/gjp/f_doc/dnssec/jp-dnssec.html)\u3092\u901a\u3058\u3066DS\u30ec\u30b3\u30fc\u30c9\u306e\u60c5\u5831\u3092\u53cd\u6620\u3057\u307e\u3059\u3002.COM\u3084.NET\u30c9\u30e1\u30a4\u30f3\u306a\u3069\u306egTLD\u3084\u5927\u534a\u306eccTLD\u306fEPP(Extensible Provisioning Protocol)\u3068\u3044\u3046\u30ec\u30b8\u30b9\u30c8\u30e9\u304b\u3089\u30ec\u30b8\u30b9\u30c8\u30ea\u3078\u306e\u30c7\u30fc\u30bf\u767b\u9332\u7528\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u7528\u3044\u307e\u3059\u3002GUI\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\n\u81ea\u8eab\u304c\u30ea\u30bb\u30e9\u30fc\u306e\u5834\u5408\u306f\u30ec\u30b8\u30b9\u30c8\u30e9\u304c\u7528\u610f\u3057\u305fGUI\u3084API\u306b\u3066\u3001\u81ea\u8eab\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u5834\u5408\u306f\u30ea\u30bb\u30e9\u30fc\u307e\u305f\u306f\u30ec\u30b8\u30b9\u30c8\u30e9\u304c\u7528\u610f\u3057\u305fGUI\u3084API\u306b\u3066DS\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u56fd\u5185\u3067\u306f\u305d\u3082\u305d\u3082gTLD\u306b\u5bfe\u3059\u308bDS\u30ec\u30b3\u30fc\u30c9\u306e\u53d6\u308a\u6b21\u304e\u3092[\u30ec\u30b8\u30b9\u30c8\u30e9](http://www.icann.org/registrar-reports/accredited-list.html)\u304c\u884c\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u304c\u591a\u6570\u3067\u3059\u3002(Japan\u3068\u306a\u3063\u3066\u3044\u308b\u306e\u304c\u56fd\u5185\u30ec\u30b8\u30b9\u30c8\u30e9\u3067\u3059)\n\n\u4f8b\u3048\u3070.ORG\u30c9\u30e1\u30a4\u30f3\u306e\u5834\u5408\u306f[\u56fd\u5185\u3067\u306f2\u793e(JPRS\u306f\u9664\u304f)](http://www.pir.org/get/registrars?order=field_dnssec_value&sort=desc)\u304c\u5bfe\u5fdc\u53ef\u80fd\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u516c\u5f0f\u30b5\u30a4\u30c8\u3067\u306f\u53d6\u308a\u6b21\u304e\u306e\u30a2\u30ca\u30a6\u30f3\u30b9\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\u6d77\u5916\u3067\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30ec\u30b8\u30b9\u30c8\u30e9\u3084\u30ea\u30bb\u30e9\u30fc\u306f\u5c11\u306a\u3044\u3067\u3059\u304c\u3001\u30c9\u30e1\u30a4\u30f3\u4fdd\u6301\u6570\u304c\u4e16\u754c\u4e00\u4f4d\u3067\u3042\u308bGo Daddy\u306fDNSSEC\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3069\u3046\u3057\u3066\u3082gTLD\u3067DNSSEC\u3092\u63a1\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u30ec\u30b8\u30b9\u30c8\u30ea\u3078\u306e\u53d6\u308a\u6b21\u304e\u3092\u884c\u3063\u3066\u3044\u308b\u30ec\u30b8\u30b9\u30c8\u30e9(Go Daddy\u7b49)\u304b\u3001\u305d\u306e\u30ec\u30b8\u30b9\u30c8\u30e9\u3068\u5951\u7d04\u3057\u3066\u3044\u308b\u30ea\u30bb\u30e9\u30fc\u306b\u3066\u30c9\u30e1\u30a4\u30f3\u3092\u53d6\u5f97\u3057\u307e\u3057\u3087\u3046\u3002\n\n## 4.6 ZSK\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\n\n\u4e8b\u524d\u516c\u958b\u6cd5\u306b\u3088\u308bZSK\u306e\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\u3092\u884c\u3046\u3002\n\n\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u5316\u3055\u308c\u3066\u3044\u308bZSK\u9375\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u5316\u3059\u308b\u3002\n\n```\n# atomiadnsclient --method ActivateDNSSECKey --arg \u6b21\u306eZSK\u9375ID\n```\n\n\u4ee5\u524d\u306eZSK\u9375\u3092\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u5316\u3059\u308b\u3002\n\n```\n# atomiadnsclient --method DeactivateDNSSECKey --arg \u524d\u306eZSK\u9375ID\n```\n\n\u4ee5\u524d\u306eZSK\u9375\u3092\u524a\u9664\u3059\u308b\u3002\n\n```\n# atomiadnsclient --method DeleteDNSSECKey --arg \u524d\u306eZSK\u9375ID\n```\n\n\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u306aZSK\u3092\u767b\u9332\u3059\u308b\u3002\n\n```\n# atomiadnsclient --method AddDNSSECKey --arg RSASHA256 --arg 1024 --arg ZSK --arg 0\n```\n\n\u4ee5\u964d\u3001\u5b9a\u671f\u7684(\u6708\u6b21)\u306b\u7e70\u308a\u8fd4\u3057\u3002\n\u3042\u308b\u7a0b\u5ea6\u81ea\u52d5\u5316\u306f\u53ef\u80fd\u3002\n\n## 4.7 KSK\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\n\n\u4e8c\u91cd\u7f72\u540d\u6cd5\u306b\u3088\u308bKSK\u306e\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\u3092\u884c\u3046\u3002\n\n\u65b0\u3057\u3044KSK\u9375\u3092\u767b\u9332\u3059\u308b\u3002\n\n```\n# atomiadnsclient --method AddDNSSECKey --arg RSASHA256 --arg 2048 --arg KSK --arg 1\n```\n\nDS\u60c5\u5831\u3092\u53d6\u5f97\u3057\u3001\u89aa\u30be\u30fc\u30f3\u3078\u767b\u9332\u3059\u308b\u3002\n\n```\n# pdnssec show-zone \u30be\u30fc\u30f3 | grep DS\n```\n\n\u4ee5\u524d\u306eKSK\u9375\u3092\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u5316\u3059\u308b\u3002\n\n```\n# atomiadnsclient --method DeactivateDNSSECKey --arg \u524d\u306eKSK\u9375ID\n```\n\n\u4ee5\u524d\u306eKSK\u9375\u3092\u524a\u9664\u3059\u308b\u3002\n\n```\n# atomiadnsclient --method DeleteDNSSECKey --arg \u524d\u306eKSK\u9375ID\n```\n\nKSK\u3092\u30ed\u30fc\u30eb\u30aa\u30fc\u30d0\u30fc\u3057\u305f\u5834\u5408\u3001DS\u3092\u4e0a\u4f4d\u30be\u30fc\u30f3\u3078\u518d\u767b\u9332\u3057\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u3044\u304c\u3001\u73fe\u72b6\u81ea\u52d5\u5316\u3059\u308b\u30c4\u30fc\u30eb\u306f\u5b58\u5728\u3057\u306a\u3044\u3002OpenDNSSEC\u306feppclient\u3068\u3044\u3046\u30ec\u30b8\u30b9\u30c8\u30ea(\u3064\u307e\u308a\u4e0a\u4f4d\u30be\u30fc\u30f3)\u306e\u30c7\u30fc\u30bf\u3092\u66f4\u65b0s\u308b\u3046\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3042\u3063\u305f\u304c\u3001\u4fdd\u5b88\u3055\u308c\u306a\u304b\u3063\u305f\u305f\u3081\u30c7\u30d5\u30a9\u30eb\u30c8\u304b\u3089\u5916\u3055\u308c\u3066\u3044\u308b\u3002\n\n## 4.8 DNSSEC\u3092\u7121\u52b9\u306b\n\n```\n# pdnssec disable-dnssec \u30be\u30fc\u30f3\n```\n", "tags": ["AtomiaDNS", "DNSSEC", "dns", "PowerDNS"]}