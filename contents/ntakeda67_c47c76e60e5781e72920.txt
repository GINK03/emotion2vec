{"context": " More than 1 year has passed since last update.\n\n\u74b0\u5883\n\nCentOS 6.4\nSubversion 1.6.11\nApache2 2.2.15 (2.2.3\u4ee5\u4e0b\u3067\u306f\u3001AuthLDAPRemoteUserAttribute \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u672a\u5b9f\u88c5)\nOpenDJ 2.6.0 \nOracle JDK 1.7.25\n\n\n\u6982\u8981\n\nmod_authnz_ldap\u3092\u4f7f\u7528\nLDAP\u306b\u5b58\u5728\u3059\u308b\u30e6\u30fc\u30b6\u3067BASIC\u8a8d\u8a3c\u3092\u5b9f\u65bd\nSVN\u304b\u3089\u9001\u308b\u30b3\u30df\u30c3\u30c8\u30e1\u30fc\u30eb\u306b\u4e57\u305b\u308b\u30b3\u30df\u30c3\u30c8\u30e6\u30fc\u30b6\u540d\u3092\u3044\u3044\u611f\u3058\u306b\u3059\u308b\n\u5177\u4f53\u7684\u306b\u306f\u3001Apache\u306eREMOTE_USER\u74b0\u5883\u5909\u6570\u3092\u4efb\u610f\u306eLDAP\u5c5e\u6027\u306b\u3059\u308b\n\n\n\u95a2\u9023\u6587\u732e\nApache Module mod_authnz_ldap\nhttp://httpd.apache.org/docs/2.2/mod/mod_authnz_ldap.html#authldapremoteuserattribute\n\n\u4e8b\u524d\u6e96\u5099\n\n\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nhttpd\u3068subversion\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nyum -y install httpd subversion mod_dav_svn\n\n\n\njava\u306e\u5c0e\u5165\u306f\u4e0b\u8a18\u306b\u8b72\u3063\u3066\u7701\u7565\u3002\nhttp://java.com/ja/download/help/index_installing.xml\nOpenDJ\u306e\u5c0e\u5165\u3082\u672c\u7a3f\u306e\u672c\u610f\u3067\u306f\u306a\u3044\u306e\u3067\u7701\u7565\u3002\n\u4ee5\u964d\u306e\u8a18\u8ff0\u306b\u95a2\u308f\u308b\u90e8\u5206\u306f\u3001\n* \u30d9\u30fc\u30b9 DN:  dc=nt67,dc=org\n* \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f /opt/opendj/\n\nOpenDJ\u306e\u8a2d\u5b9a\u5185\u5bb9\n/opt/opendj# /opt/opendj/bin/status\n\n\n>>>> OpenDJ LDAP \u63a5\u7d9a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u307e\u3059\n\n\u7ba1\u7406\u8005\u30e6\u30fc\u30b6\u30fc\u306e\u30d0\u30a4\u30f3\u30c9 DN [cn=Directory Manager]: cn=admin\n\n\u30e6\u30fc\u30b6\u30fc 'cn=admin' \u306e\u30d1\u30b9\u30ef\u30fc\u30c9: \n\n          --- \u30b5\u30fc\u30d0\u30fc\u306e\u72b6\u614b ---\n\u30b5\u30fc\u30d0\u30fc\u306e\u7a3c\u52d5\u72b6\u614b:   \u8d77\u52d5\u4e2d\n\u958b\u3044\u3066\u3044\u308b\u63a5\u7d9a\u6570:    1\n\n          --- \u30b5\u30fc\u30d0\u30fc\u306e\u8a73\u7d30 ---\n\u30db\u30b9\u30c8\u540d:        ldap.nt67\n\u7ba1\u7406\u30e6\u30fc\u30b6\u30fc:      cn=admin\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30b9:    /opt/opendj\n\u30d0\u30fc\u30b8\u30e7\u30f3:       OpenDJ 2.6.0\nJava \u306e\u30d0\u30fc\u30b8\u30e7\u30f3: 1.7.0_25\n\u7ba1\u7406\u30b3\u30cd\u30af\u30bf:      \u30dd\u30fc\u30c8 5444 (LDAPS)\n\n          --- \u63a5\u7d9a\u30cf\u30f3\u30c9\u30e9 ---\n\u30a2\u30c9\u30ec\u30b9:\u30dd\u30fc\u30c8     : \u30d7\u30ed\u30c8\u30b3\u30eb : \u72b6\u614b\n-------------:-------:---\n--           : LDIF  : \u7121\u52b9\n0.0.0.0:161  : SNMP  : \u7121\u52b9\n0.0.0.0:636  : LDAPS : \u7121\u52b9\n0.0.0.0:1389 : LDAP  : \u6709\u52b9\n0.0.0.0:1689 : JMX   : \u7121\u52b9\n0.0.0.0:8080 : HTTP  : \u7121\u52b9\n\n          --- \u30c7\u30fc\u30bf\u30bd\u30fc\u30b9 ---\n\u30d9\u30fc\u30b9 DN:    dc=nt67,dc=org\n\u30d0\u30c3\u30af\u30a8\u30f3\u30c9 ID: userRoot\n\u30a8\u30f3\u30c8\u30ea:      1\n\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3:  \n\n\n\n\nLDAP\u306e\u30a8\u30f3\u30c8\u30ea\u60c5\u5831\nLDAP\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u8a2d\u5b9a\u60c5\u5831\n\nentry.ldif\n\ndn: dc=nt67,dc=org\nobjectClass: dcObject\nobjectClass: organization\ndc: nt67\no: nt67.org\n\ndn: ou=User,dc=nt67,dc=org\nobjectClass: organizationalUnit\nou: User\n\ndn: cn=user001,ou=User,dc=nt67,dc=org\nobjectClass: person\nobjectClass: inetOrgPerson\ncn: user001\nsn: user001_sn\nuserPassword: user001\nmail: user001@nt67.org\n\ndn: cn=user002,ou=User,dc=nt67,dc=org\nobjectClass: person\nobjectClass: inetOrgPerson\ncn: user002\nsn: user002_sn\nuserPassword: user002\nmail: user002@nt67.org\n\ndn: cn=user003,ou=User,dc=nt67,dc=org\nobjectClass: person\nobjectClass: inetOrgPerson\ncn: user003\nsn: user003_sn\nuserPassword: user003\nmail: user003@nt67.org\n\n\n\n\nSVN\u8a2d\u5b9a\n\n/etc/httpd/conf.d/subversion.conf\n\n<Location /repos>\n   DAV svn\n   SVNParentPath /var/www/svn\n\n   AuthType Basic\n   AuthBasicProvider ldap \n   AuthzLDAPAuthoritative off\n   # \u8a8d\u8a3c\u6e08\u307f\u30e6\u30fc\u30b6\u540d\u3068\u3057\u3066 mail\u5c5e\u6027\u3092\u8a2d\u5b9a\u3059\u308b\n   AuthLDAPRemoteUserAttribute mail\n   AuthName \"Auth for nt67.org\"\n   # \u8a8d\u8a3c\u7528\u6587\u5b57\u5217\u3068\u3057\u3066 cn \u3092\u3001\u3042\u308f\u305b\u3066mail\u5c5e\u6027\u3092\u5f15\u3063\u5f35\u3063\u3066\u304f\u308b\u3002\n   AuthLDAPUrl ldap://ldap.nt67:1389/ou=User,dc=nt67,dc=org?cn,mail\n   Require valid-user\n</Location>\n\n\n\n\n\u7d50\u679c\n\u30b3\u30df\u30c3\u30c8\u3059\u308b\u3068\u304d\u306e\u8a8d\u8a3c\u3068\u3057\u3066\u3001cn\u5c5e\u6027\u306e\u30e6\u30fc\u30b6\u540d\u3092\u4f7f\u3046\u3002\n\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u306b\u306f mail \u5c5e\u6027\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u3002\n\ncommit\n\nsvn commit -m \"first commit\" --username user001 --password user001\n\nsvn log\n------------------------------------------------------------------------\nr1 | user001@nt67.org | 2013-08-17 23:09:13 -0700 (\u571f, 17  8\u6708 2013) | 1 line\n\nfirst commit\n------------------------------------------------------------------------\n\n\n\n# \u74b0\u5883\n* CentOS 6.4\n* Subversion 1.6.11\n* Apache2 2.2.15 (2.2.3\u4ee5\u4e0b\u3067\u306f\u3001AuthLDAPRemoteUserAttribute \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u672a\u5b9f\u88c5)\n* OpenDJ 2.6.0 \n* Oracle JDK 1.7.25\n\n# \u6982\u8981\n* mod_authnz_ldap\u3092\u4f7f\u7528\n* LDAP\u306b\u5b58\u5728\u3059\u308b\u30e6\u30fc\u30b6\u3067BASIC\u8a8d\u8a3c\u3092\u5b9f\u65bd\n* SVN\u304b\u3089\u9001\u308b\u30b3\u30df\u30c3\u30c8\u30e1\u30fc\u30eb\u306b\u4e57\u305b\u308b\u30b3\u30df\u30c3\u30c8\u30e6\u30fc\u30b6\u540d\u3092\u3044\u3044\u611f\u3058\u306b\u3059\u308b\n  \u5177\u4f53\u7684\u306b\u306f\u3001Apache\u306eREMOTE_USER\u74b0\u5883\u5909\u6570\u3092\u4efb\u610f\u306eLDAP\u5c5e\u6027\u306b\u3059\u308b\n\n# \u95a2\u9023\u6587\u732e\nApache Module mod_authnz_ldap\nhttp://httpd.apache.org/docs/2.2/mod/mod_authnz_ldap.html#authldapremoteuserattribute\n\n# \u4e8b\u524d\u6e96\u5099\n\n## \u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n``` bash:httpd\u3068subversion\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nyum -y install httpd subversion mod_dav_svn\n\n```\n\njava\u306e\u5c0e\u5165\u306f\u4e0b\u8a18\u306b\u8b72\u3063\u3066\u7701\u7565\u3002\nhttp://java.com/ja/download/help/index_installing.xml\n\nOpenDJ\u306e\u5c0e\u5165\u3082\u672c\u7a3f\u306e\u672c\u610f\u3067\u306f\u306a\u3044\u306e\u3067\u7701\u7565\u3002\n\u4ee5\u964d\u306e\u8a18\u8ff0\u306b\u95a2\u308f\u308b\u90e8\u5206\u306f\u3001\n* \u30d9\u30fc\u30b9 DN:  dc=nt67,dc=org\n* \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f /opt/opendj/\n\n```bash:OpenDJ\u306e\u8a2d\u5b9a\u5185\u5bb9\n/opt/opendj# /opt/opendj/bin/status\n\n\n>>>> OpenDJ LDAP \u63a5\u7d9a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u307e\u3059\n\n\u7ba1\u7406\u8005\u30e6\u30fc\u30b6\u30fc\u306e\u30d0\u30a4\u30f3\u30c9 DN [cn=Directory Manager]: cn=admin\n\n\u30e6\u30fc\u30b6\u30fc 'cn=admin' \u306e\u30d1\u30b9\u30ef\u30fc\u30c9: \n\n          --- \u30b5\u30fc\u30d0\u30fc\u306e\u72b6\u614b ---\n\u30b5\u30fc\u30d0\u30fc\u306e\u7a3c\u52d5\u72b6\u614b:   \u8d77\u52d5\u4e2d\n\u958b\u3044\u3066\u3044\u308b\u63a5\u7d9a\u6570:    1\n\n          --- \u30b5\u30fc\u30d0\u30fc\u306e\u8a73\u7d30 ---\n\u30db\u30b9\u30c8\u540d:        ldap.nt67\n\u7ba1\u7406\u30e6\u30fc\u30b6\u30fc:      cn=admin\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30b9:    /opt/opendj\n\u30d0\u30fc\u30b8\u30e7\u30f3:       OpenDJ 2.6.0\nJava \u306e\u30d0\u30fc\u30b8\u30e7\u30f3: 1.7.0_25\n\u7ba1\u7406\u30b3\u30cd\u30af\u30bf:      \u30dd\u30fc\u30c8 5444 (LDAPS)\n\n          --- \u63a5\u7d9a\u30cf\u30f3\u30c9\u30e9 ---\n\u30a2\u30c9\u30ec\u30b9:\u30dd\u30fc\u30c8     : \u30d7\u30ed\u30c8\u30b3\u30eb : \u72b6\u614b\n-------------:-------:---\n--           : LDIF  : \u7121\u52b9\n0.0.0.0:161  : SNMP  : \u7121\u52b9\n0.0.0.0:636  : LDAPS : \u7121\u52b9\n0.0.0.0:1389 : LDAP  : \u6709\u52b9\n0.0.0.0:1689 : JMX   : \u7121\u52b9\n0.0.0.0:8080 : HTTP  : \u7121\u52b9\n\n          --- \u30c7\u30fc\u30bf\u30bd\u30fc\u30b9 ---\n\u30d9\u30fc\u30b9 DN:    dc=nt67,dc=org\n\u30d0\u30c3\u30af\u30a8\u30f3\u30c9 ID: userRoot\n\u30a8\u30f3\u30c8\u30ea:      1\n\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3:  \n\n```\n\n## LDAP\u306e\u30a8\u30f3\u30c8\u30ea\u60c5\u5831\n\nLDAP\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u8a2d\u5b9a\u60c5\u5831\n\n```text:entry.ldif\n\ndn: dc=nt67,dc=org\nobjectClass: dcObject\nobjectClass: organization\ndc: nt67\no: nt67.org\n\ndn: ou=User,dc=nt67,dc=org\nobjectClass: organizationalUnit\nou: User\n\ndn: cn=user001,ou=User,dc=nt67,dc=org\nobjectClass: person\nobjectClass: inetOrgPerson\ncn: user001\nsn: user001_sn\nuserPassword: user001\nmail: user001@nt67.org\n\ndn: cn=user002,ou=User,dc=nt67,dc=org\nobjectClass: person\nobjectClass: inetOrgPerson\ncn: user002\nsn: user002_sn\nuserPassword: user002\nmail: user002@nt67.org\n\ndn: cn=user003,ou=User,dc=nt67,dc=org\nobjectClass: person\nobjectClass: inetOrgPerson\ncn: user003\nsn: user003_sn\nuserPassword: user003\nmail: user003@nt67.org\n\n```\n\n\n## SVN\u8a2d\u5b9a\n\n```apache:/etc/httpd/conf.d/subversion.conf\n\n<Location /repos>\n   DAV svn\n   SVNParentPath /var/www/svn\n\n   AuthType Basic\n   AuthBasicProvider ldap \n   AuthzLDAPAuthoritative off\n   # \u8a8d\u8a3c\u6e08\u307f\u30e6\u30fc\u30b6\u540d\u3068\u3057\u3066 mail\u5c5e\u6027\u3092\u8a2d\u5b9a\u3059\u308b\n   AuthLDAPRemoteUserAttribute mail\n   AuthName \"Auth for nt67.org\"\n   # \u8a8d\u8a3c\u7528\u6587\u5b57\u5217\u3068\u3057\u3066 cn \u3092\u3001\u3042\u308f\u305b\u3066mail\u5c5e\u6027\u3092\u5f15\u3063\u5f35\u3063\u3066\u304f\u308b\u3002\n   AuthLDAPUrl ldap://ldap.nt67:1389/ou=User,dc=nt67,dc=org?cn,mail\n   Require valid-user\n</Location>\n\n```\n\n## \u7d50\u679c\n\n\u30b3\u30df\u30c3\u30c8\u3059\u308b\u3068\u304d\u306e\u8a8d\u8a3c\u3068\u3057\u3066\u3001cn\u5c5e\u6027\u306e\u30e6\u30fc\u30b6\u540d\u3092\u4f7f\u3046\u3002\n\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u306b\u306f mail \u5c5e\u6027\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u3002\n\n```bash:commit\n\nsvn commit -m \"first commit\" --username user001 --password user001\n\nsvn log\n------------------------------------------------------------------------\nr1 | user001@nt67.org | 2013-08-17 23:09:13 -0700 (\u571f, 17  8\u6708 2013) | 1 line\n\nfirst commit\n------------------------------------------------------------------------\n\n```\n", "tags": ["Subversion1.6.11", "LDAP", "httpd2.2.15"]}