{"context": "\n\njQuery ajax\u3067SOAP1.1\u3059\u308b\n\u4ed5\u4e8b\u3067\u5229\u7528\u3059\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\u306e\u3067\u5099\u5fd8\u9332\u7684\u306a\u30e1\u30e2\u3002\nREST\u306e\u6642\u4ee3\u3067\u3042\u308b\u4eca\u3001SOAP\u901a\u4fe1\u3063\u3066\u2026\u3068\u3044\u3046\u6240\u306f\u3042\u308a\u307e\u3059\u304c\u3001\n\u5b9f\u969b\u306b\u9700\u8981\u304c\u3042\u3063\u305f\u306e\u3067\u30e1\u30e2\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n1.\u76ee\u7684\nASP.NET\u30b5\u30fc\u30d0\u3068jQuery ajax\u3067SOAP\u901a\u4fe1\u3059\u308b\u3002\n\n2.\u74b0\u5883\n\nASP.NET Server\uff08Visual Studio 2015\u3067\u4f5c\u6210\uff09\nJavaScript(ECMAScript 5)\njQuery(jquery-2.2.3)\n\n\n3.\u624b\u9806\n\n3.1.ASP.NET\u5074\u306e\u6e96\u5099\nWSDL\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\nSOAP\u30b5\u30fc\u30d0\u3068ajax\u901a\u4fe1\u3092\u901a\u4fe1\u3092\u3059\u308b\u305f\u3081\u306b\u306f\nWeb\u30b5\u30fc\u30d3\u30b9\u5168\u4f53\u306eWSDL\u30d5\u30a1\u30a4\u30eb\u3068\u3001\u5229\u7528\u3059\u308b\u30b5\u30fc\u30d3\u30b9\uff08\u30e1\u30bd\u30c3\u30c9\uff09\u306eWSDL\u30d5\u30a1\u30a4\u30eb\n\u4e0a\u8a18\uff12\u3064\u304c\u5fc5\u9808\u3068\u306a\u308a\u307e\u3059\u3002WSDL\u30d5\u30a1\u30a4\u30eb\u306f\u305d\u308c\u305e\u308c\nhttp://xx.xx.xx.xx/Web\u30b5\u30fc\u30d3\u30b9\u540d.asmx?WSDL\uff08Web\u30b5\u30fc\u30d3\u30b9\u5168\u4f53\uff09\nhttp://xx.xx.xx.xx/Web\u30b5\u30fc\u30d3\u30b9\u540d.asmx?op=\u30e1\u30bd\u30c3\u30c9\u540d(\u5229\u7528\u3059\u308b\u30e1\u30bd\u30c3\u30c9)\n\n\u306bWeb\u30b5\u30fc\u30d3\u30b9\u4f5c\u6210\u6642\u306b\u81ea\u52d5\u751f\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nWSDL\u30d5\u30a1\u30a4\u30eb\u306f\u3001WEB\u30b5\u30fc\u30d3\u30b9\u3092\u5916\u90e8\u304b\u3089\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u5b9a\u7fa9\u3067\u3042\u308a\n\u30fb\u305d\u306eWeb\u30b5\u30fc\u30d3\u30b9\u306f\u3069\u3053\u306b\u3042\u308b\u306e\u304b\n\u30fb\u305d\u306eWeb\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u3069\u3093\u306a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4f7f\u3063\u3066\u5229\u7528\u3059\u308b\u306e\u304b\n\u30fb\u305d\u306eWeb\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u3069\u3093\u306a\u901a\u4fe1\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u4f7f\u3063\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u3084\u308a\u53d6\u308a\u3059\u308b\u306e\u304b\n\u3068\u3044\u3063\u305f\u3053\u3068\u304c\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\nWSDL\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001\n\u751f\u6210\u3055\u308c\u305fWSDL\u30d5\u30a1\u30a4\u30eb\u306b\u5408\u308f\u305b\u305fXmlString\u3092JavaScript\u5074\u3067\u4f5c\u6210\u3057\u307e\u3059\n\n3.2.SOAP\u901a\u4fe1\u7528XML\u30c7\u30fc\u30bf\u306e\u4f5c\u6210\n\u4f5c\u6210\u3059\u308bXML\u306e\u5f62\u5f0f\u306f\u3001SOAP\u30b5\u30fc\u30d0\u5074\u306eWSDL\u3067\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\n\u305d\u308c\u3068\u5168\u304f\u540c\u3058\u6587\u5b57\u5217\u3092javaScript\u5074\u3067\u751f\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nhttp://xx.xx.xx.xx/Web\u30b5\u30fc\u30d3\u30b9\u540d.asmx?op=\u30e1\u30bd\u30c3\u30c9\u540d(\u5229\u7528\u3059\u308b\u30e1\u30bd\u30c3\u30c9)\n\n\u4e0a\u8a18URL\u306b\u5229\u7528\u5f62\u5f0f\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u306b\u5408\u308f\u305b\u3066\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306fSOAP1.1\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\n  <soap:Body>\n    <GetTestData xmlns=\"http://tempuri.org/\">\n      <User>string</User>\n    </GetTestData>\n  </soap:Body>\n</soap:Envelope>\n\n\u3053\u306exml\u306b\u306f\u3001\u300cGetTestData\u300d\u3068\u3044\u3046\u30b5\u30fc\u30d3\u30b9\u306b\u300cUser\u300d\u3068\u3044\u3046\u5f15\u6570\u3092\u6e21\u3057\u3066\u8d77\u52d5\u3059\u308b\n\u3068\u3044\u3046\u6307\u793a\u304c\u66f8\u3044\u3066\u3042\u308a\u3001\u3053\u308c\u3092HTTP\u306e\u30d8\u30c3\u30c0\u306b\u57cb\u3081\u3066\u9001\u4fe1\u3059\u308b\u3053\u3068\u3067\u3001\u6307\u5b9a\u3057\u305f\u30b5\u30fc\u30d3\u30b9\u3092\n\u30b5\u30fc\u30d0\u5074\u3067\u8d77\u52d5\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n/**\n * xml\u6587\u5b57\u5217\u3092\u751f\u6210\u3059\u308b\n */\ncreateXmlString: function (user) {\n    //soap\u901a\u4fe1\u7528\u6587\u5b57\u5217\u3092\u4f5c\u6210\n    var sr = '<?xml version=\"1.0\" encoding=\"utf-8\"?>' +\n        '<soap:Envelope ' +\n        'xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" ' +\n        'xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" ' +\n        'xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">' +\n        '<soap:Body>' +\n        '<GetTestData xmlns=\"http://tempuri.org/\">' +\n        '<User>' + user + '</User>' +\n        '</GetTestData>' +\n        '</soap:Body>' +\n        '</soap:Envelope>';\n    //\u6587\u5b57\u5217\u3092\u8fd4\u5374\n    return sr;\n}\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3055\u3089\u3055\u3089\u3063\u3068js\u5074\u3067\u4f5c\u3063\u3066\u3042\u3052\u308c\u3070OK\u3067\u3057\u3087\u3046\u3002\n\u3042\u3068\u306f\u3053\u308c\u3092\u6750\u6599\u306bajax\u901a\u4fe1\u3057\u3066\u3042\u3052\u307e\u3059\u3002\n\n3.3.ajax\u3092\u5229\u7528\u3057\u3066SOAP\u901a\u4fe1\u3059\u308b\n\u5f8c\u306f\u3001\u4f5c\u6210\u3057\u305fxmlString\u3092\u30d8\u30c3\u30c0\u306b\u57cb\u3081\u8fbc\u3093\u3067ajax\u901a\u4fe1\u3059\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002\n/**\n * ajax\u3067soap\u901a\u4fe1\u3059\u308b\n */\nconnect: function (service, xmlString) {\n    var result = $.ajax({\n        //POST\u901a\u4fe1\n        type: 'POST',\n        //URL\u6307\u5b9a\n        url: 'http://xx.xx.xx.xx/TestWebService.asmx',\n        //header\u4ed8\u4e0e\n        headers: {\n            //SOAP\u901a\u4fe1\u3092\u5b9f\u884c\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a\n            'SOAPAction': 'http://tempuri.org/GetTestData',\n            //\u30bf\u30a4\u30d7\u3092xml\u306b\u6307\u5b9a\u3059\u308b\n            'Content-Type': 'text/xml',\n        },\n        //SOAP\u30ea\u30af\u30a8\u30b9\u30c8\u7528xml\u3092\u6dfb\u4ed8\n        data: xmlString,\n        //\u540c\u671f\u51e6\u7406\u306e\u6709\u7121\n        async: false,\n        //\u30a8\u30e9\u30fc\u6642\u8868\u793a\n        error: function (xhr, status, error) {\n            window.alert(error);\n        },\n        //\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u6642\u9593\n        timeout: 10000\n    }).responseText;\n    //\u7d50\u679c\u3092\u8fd4\u5374\n    return result;\n}\n\nresult\u306b\u306f\u901a\u4fe1\u3057\u305f\u7d50\u679c\u306exml\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u30d1\u30fc\u30b9\u3059\u308b\u306a\u308a\u3001\n\u6587\u5b57\u5217\u3068\u3057\u3066\u5207\u308a\u51fa\u3057\u3059\u308b\u306a\u308a\u3054\u306b\u3087\u3054\u306b\u3087\u3059\u308b\u306a\u308a\u3057\u3066\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4eca\u56de\u306e\u696d\u52d9\u3067\u306fasync:false\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u304c\u3001\n\u975e\u540c\u671f\u901a\u4fe1\u3067\u3084\u308a\u305f\u3044\u4eba\u306ftrue\u306b\u3057\u3066\u3082\u3044\u3044\u3093\u3058\u3083\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u4eca\u56de\u4f5c\u6210\u3057\u305f\u30bd\u30fc\u30b9\n\nxmlTest.js\n/**\n * ajax soap\u901a\u4fe1\u3092\u884c\u3046\n */\nvar connector = {\n    /**\n     * xml\u6587\u5b57\u5217\u3092\u751f\u6210\u3059\u308b\n     */\n    createXmlString: function (user) {\n        //soap\u901a\u4fe1\u7528\u6587\u5b57\u5217\u3092\u4f5c\u6210\n        var sr = '<?xml version=\"1.0\" encoding=\"utf-8\"?>' +\n            '<soap:Envelope ' +\n            'xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" ' +\n            'xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" ' +\n            'xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">' +\n            '<soap:Body>' +\n            '<GetTestData xmlns=\"http://tempuri.org/\">' +\n            '<User>' + user + '</User>' +\n            '</GetTestData>' +\n            '</soap:Body>' +\n            '</soap:Envelope>';\n        //\u6587\u5b57\u5217\u3092\u8fd4\u5374\n        return sr;\n    },\n    /**\n     * ajax\u3067soap\u901a\u4fe1\u3059\u308b\n     */\n    connect: function (service, xmlString) {\n        var result = $.ajax({\n            //POST\u901a\u4fe1\n            type: 'POST',\n            //URL\u6307\u5b9a\n            url: 'http://xx.xx.xx.xx/TestWebService.asmx',\n            //header\u4ed8\u4e0e\n            headers: {\n                //SOAP\u901a\u4fe1\u3092\u5b9f\u884c\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a\n                'SOAPAction': 'http://tempuri.org/GetTestData',\n                //\u30bf\u30a4\u30d7\u3092xml\u306b\u6307\u5b9a\u3059\u308b\n                'Content-Type': 'text/xml',\n            },\n            //SOAP\u30ea\u30af\u30a8\u30b9\u30c8\u7528xml\u3092\u6dfb\u4ed8\n            data: xmlString,\n            //\u540c\u671f\u51e6\u7406\u306e\u6709\u7121\n            async: false,\n            //\u30a8\u30e9\u30fc\u6642\u8868\u793a\n            error: function (xhr, status, error) {\n                window.alert(error);\n            },\n            //\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u6642\u9593\n            timeout: 10000\n        }).responseText;\n        //\u7d50\u679c\u3092\u8fd4\u5374\n        return result;\n    }\n}\n\n\n\n\u611f\u60f3\n\njQuery ajax\u306f\u975e\u540c\u671f\u51e6\u7406\u3060\u3051\u3067\u306f\u306a\u304f\u3001\u30c7\u30fc\u30bf\u53d6\u5f97\u7528\u306e\u540c\u671f\u51e6\u7406\u3068\u3057\u3066\u3082\u5229\u7528\u3067\u304d\u308b\u3002\nSPA(Single Page Application)\u304c\u4e3b\u6d41\u306b\u306a\u3063\u3066\u304d\u3066\u3044\u308b\u6642\u4ee3\u306b\u3001\u30da\u30fc\u30b8\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3092\u305b\u305a\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u30b5\u30fc\u30d0\u3078\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u8981\u6c42\u3092\u9001\u308c\u308b\u306e\u306f\u3084\u306f\u308a\u4fbf\u5229\u3002\n\u8a2d\u8a08\u5f53\u521d\u306fxmlHttpRequest\u3092\u5229\u7528\u3057\u3066\u901a\u4fe1\u3057\u3066\u3044\u305f\u304c\u3001\u3084\u306f\u308ajQuery ajax\u306e\u65b9\u304c\n\u901a\u4fe1\u7b87\u6240\u306e\u5207\u308a\u5206\u3051\u306a\u3069\u69d8\u3005\u306a\u9762\u3067\u512a\u308c\u3066\u304a\u308a\u3001\u5229\u7528\u3057\u3084\u3059\u304b\u3063\u305f\u3002\nVisual Studio Code\u66f8\u304d\u3084\u3059\u304f\u3066\u30b9\u30c6\u30ad\u3002\u304b\u3063\u3053\u3044\u3044\u3002\n\n\n\u53c2\u8003\nWSDL\u306b\u3064\u3044\u3066\nhttp://j-caw.co.jp/blog/?p=1477\nASP.NET\u306eWeb\u30b5\u30fc\u30d3\u30b9\u306b\u3064\u3044\u3066\nhttp://www.sangyo-rock.com/tech/index.php?ASP.NET%A4%C7%A4%CEWeb%A5%B5%A1%BC%A5%D3%A5%B9%B3%AB%C8%AF%A4%CB%B4%D8%A4%B9%A4%EB%A5%E1%A5%E2\n# jQuery ajax\u3067SOAP1.1\u3059\u308b\n\u4ed5\u4e8b\u3067\u5229\u7528\u3059\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\u306e\u3067\u5099\u5fd8\u9332\u7684\u306a\u30e1\u30e2\u3002\nREST\u306e\u6642\u4ee3\u3067\u3042\u308b\u4eca\u3001SOAP\u901a\u4fe1\u3063\u3066\u2026\u3068\u3044\u3046\u6240\u306f\u3042\u308a\u307e\u3059\u304c\u3001\n\u5b9f\u969b\u306b\u9700\u8981\u304c\u3042\u3063\u305f\u306e\u3067\u30e1\u30e2\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n## 1.\u76ee\u7684\nASP.NET\u30b5\u30fc\u30d0\u3068__jQuery ajax__\u3067SOAP\u901a\u4fe1\u3059\u308b\u3002\n\n## 2.\u74b0\u5883\n* ASP.NET Server\uff08Visual Studio 2015\u3067\u4f5c\u6210\uff09\n* JavaScript(ECMAScript 5)\n* jQuery(jquery-2.2.3)\n\n## 3.\u624b\u9806\n\n### 3.1.ASP.NET\u5074\u306e\u6e96\u5099\nWSDL\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\nSOAP\u30b5\u30fc\u30d0\u3068ajax\u901a\u4fe1\u3092\u901a\u4fe1\u3092\u3059\u308b\u305f\u3081\u306b\u306f\n__Web\u30b5\u30fc\u30d3\u30b9\u5168\u4f53\u306eWSDL\u30d5\u30a1\u30a4\u30eb__\u3068\u3001__\u5229\u7528\u3059\u308b\u30b5\u30fc\u30d3\u30b9\uff08\u30e1\u30bd\u30c3\u30c9\uff09\u306eWSDL\u30d5\u30a1\u30a4\u30eb__\n\u4e0a\u8a18\uff12\u3064\u304c\u5fc5\u9808\u3068\u306a\u308a\u307e\u3059\u3002WSDL\u30d5\u30a1\u30a4\u30eb\u306f\u305d\u308c\u305e\u308c\n\n    http://xx.xx.xx.xx/Web\u30b5\u30fc\u30d3\u30b9\u540d.asmx?WSDL\uff08Web\u30b5\u30fc\u30d3\u30b9\u5168\u4f53\uff09\n    http://xx.xx.xx.xx/Web\u30b5\u30fc\u30d3\u30b9\u540d.asmx?op=\u30e1\u30bd\u30c3\u30c9\u540d(\u5229\u7528\u3059\u308b\u30e1\u30bd\u30c3\u30c9)\n\n\u306bWeb\u30b5\u30fc\u30d3\u30b9\u4f5c\u6210\u6642\u306b\u81ea\u52d5\u751f\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nWSDL\u30d5\u30a1\u30a4\u30eb\u306f\u3001WEB\u30b5\u30fc\u30d3\u30b9\u3092\u5916\u90e8\u304b\u3089\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u5b9a\u7fa9\u3067\u3042\u308a\n\u30fb\u305d\u306eWeb\u30b5\u30fc\u30d3\u30b9\u306f\u3069\u3053\u306b\u3042\u308b\u306e\u304b\n\u30fb\u305d\u306eWeb\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u3069\u3093\u306a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4f7f\u3063\u3066\u5229\u7528\u3059\u308b\u306e\u304b\n\u30fb\u305d\u306eWeb\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u3069\u3093\u306a\u901a\u4fe1\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u4f7f\u3063\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u3084\u308a\u53d6\u308a\u3059\u308b\u306e\u304b\n\u3068\u3044\u3063\u305f\u3053\u3068\u304c\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\n\nWSDL\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001\n\u751f\u6210\u3055\u308c\u305fWSDL\u30d5\u30a1\u30a4\u30eb\u306b\u5408\u308f\u305b\u305fXmlString\u3092JavaScript\u5074\u3067\u4f5c\u6210\u3057\u307e\u3059\n\n### 3.2.SOAP\u901a\u4fe1\u7528XML\u30c7\u30fc\u30bf\u306e\u4f5c\u6210\n\u4f5c\u6210\u3059\u308bXML\u306e\u5f62\u5f0f\u306f\u3001SOAP\u30b5\u30fc\u30d0\u5074\u306eWSDL\u3067\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\n\u305d\u308c\u3068\u5168\u304f\u540c\u3058\u6587\u5b57\u5217\u3092javaScript\u5074\u3067\u751f\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n    http://xx.xx.xx.xx/Web\u30b5\u30fc\u30d3\u30b9\u540d.asmx?op=\u30e1\u30bd\u30c3\u30c9\u540d(\u5229\u7528\u3059\u308b\u30e1\u30bd\u30c3\u30c9)\n\n\u4e0a\u8a18URL\u306b\u5229\u7528\u5f62\u5f0f\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u306b\u5408\u308f\u305b\u3066\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306f__SOAP1.1__\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002\n\n~~~xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\n  <soap:Body>\n    <GetTestData xmlns=\"http://tempuri.org/\">\n      <User>string</User>\n    </GetTestData>\n  </soap:Body>\n</soap:Envelope>\n~~~\n\n\u3053\u306exml\u306b\u306f\u3001\u300cGetTestData\u300d\u3068\u3044\u3046\u30b5\u30fc\u30d3\u30b9\u306b\u300cUser\u300d\u3068\u3044\u3046\u5f15\u6570\u3092\u6e21\u3057\u3066\u8d77\u52d5\u3059\u308b\n\u3068\u3044\u3046\u6307\u793a\u304c\u66f8\u3044\u3066\u3042\u308a\u3001\u3053\u308c\u3092HTTP\u306e\u30d8\u30c3\u30c0\u306b\u57cb\u3081\u3066\u9001\u4fe1\u3059\u308b\u3053\u3068\u3067\u3001\u6307\u5b9a\u3057\u305f\u30b5\u30fc\u30d3\u30b9\u3092\n\u30b5\u30fc\u30d0\u5074\u3067\u8d77\u52d5\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n~~~js\n/**\n * xml\u6587\u5b57\u5217\u3092\u751f\u6210\u3059\u308b\n */\ncreateXmlString: function (user) {\n    //soap\u901a\u4fe1\u7528\u6587\u5b57\u5217\u3092\u4f5c\u6210\n    var sr = '<?xml version=\"1.0\" encoding=\"utf-8\"?>' +\n        '<soap:Envelope ' +\n        'xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" ' +\n        'xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" ' +\n        'xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">' +\n        '<soap:Body>' +\n        '<GetTestData xmlns=\"http://tempuri.org/\">' +\n        '<User>' + user + '</User>' +\n        '</GetTestData>' +\n        '</soap:Body>' +\n        '</soap:Envelope>';\n    //\u6587\u5b57\u5217\u3092\u8fd4\u5374\n    return sr;\n}\n~~~\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3055\u3089\u3055\u3089\u3063\u3068js\u5074\u3067\u4f5c\u3063\u3066\u3042\u3052\u308c\u3070OK\u3067\u3057\u3087\u3046\u3002\n\u3042\u3068\u306f\u3053\u308c\u3092\u6750\u6599\u306bajax\u901a\u4fe1\u3057\u3066\u3042\u3052\u307e\u3059\u3002\n\n### 3.3.ajax\u3092\u5229\u7528\u3057\u3066SOAP\u901a\u4fe1\u3059\u308b\n\u5f8c\u306f\u3001\u4f5c\u6210\u3057\u305fxmlString\u3092\u30d8\u30c3\u30c0\u306b\u57cb\u3081\u8fbc\u3093\u3067ajax\u901a\u4fe1\u3059\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002\n\n~~~js\n/**\n * ajax\u3067soap\u901a\u4fe1\u3059\u308b\n */\nconnect: function (service, xmlString) {\n    var result = $.ajax({\n        //POST\u901a\u4fe1\n        type: 'POST',\n        //URL\u6307\u5b9a\n        url: 'http://xx.xx.xx.xx/TestWebService.asmx',\n        //header\u4ed8\u4e0e\n        headers: {\n            //SOAP\u901a\u4fe1\u3092\u5b9f\u884c\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a\n            'SOAPAction': 'http://tempuri.org/GetTestData',\n            //\u30bf\u30a4\u30d7\u3092xml\u306b\u6307\u5b9a\u3059\u308b\n            'Content-Type': 'text/xml',\n        },\n        //SOAP\u30ea\u30af\u30a8\u30b9\u30c8\u7528xml\u3092\u6dfb\u4ed8\n        data: xmlString,\n        //\u540c\u671f\u51e6\u7406\u306e\u6709\u7121\n        async: false,\n        //\u30a8\u30e9\u30fc\u6642\u8868\u793a\n        error: function (xhr, status, error) {\n            window.alert(error);\n        },\n        //\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u6642\u9593\n        timeout: 10000\n    }).responseText;\n    //\u7d50\u679c\u3092\u8fd4\u5374\n    return result;\n}\n~~~\n\nresult\u306b\u306f\u901a\u4fe1\u3057\u305f\u7d50\u679c\u306e__xml__\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u30d1\u30fc\u30b9\u3059\u308b\u306a\u308a\u3001\n\u6587\u5b57\u5217\u3068\u3057\u3066\u5207\u308a\u51fa\u3057\u3059\u308b\u306a\u308a\u3054\u306b\u3087\u3054\u306b\u3087\u3059\u308b\u306a\u308a\u3057\u3066\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u4eca\u56de\u306e\u696d\u52d9\u3067\u306f__async:false__\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u304c\u3001\n\u975e\u540c\u671f\u901a\u4fe1\u3067\u3084\u308a\u305f\u3044\u4eba\u306ftrue\u306b\u3057\u3066\u3082\u3044\u3044\u3093\u3058\u3083\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n## \u4eca\u56de\u4f5c\u6210\u3057\u305f\u30bd\u30fc\u30b9\n\n~~~js:xmlTest.js\n/**\n * ajax soap\u901a\u4fe1\u3092\u884c\u3046\n */\nvar connector = {\n    /**\n     * xml\u6587\u5b57\u5217\u3092\u751f\u6210\u3059\u308b\n     */\n    createXmlString: function (user) {\n        //soap\u901a\u4fe1\u7528\u6587\u5b57\u5217\u3092\u4f5c\u6210\n        var sr = '<?xml version=\"1.0\" encoding=\"utf-8\"?>' +\n            '<soap:Envelope ' +\n            'xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" ' +\n            'xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" ' +\n            'xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">' +\n            '<soap:Body>' +\n            '<GetTestData xmlns=\"http://tempuri.org/\">' +\n            '<User>' + user + '</User>' +\n            '</GetTestData>' +\n            '</soap:Body>' +\n            '</soap:Envelope>';\n        //\u6587\u5b57\u5217\u3092\u8fd4\u5374\n        return sr;\n    },\n    /**\n     * ajax\u3067soap\u901a\u4fe1\u3059\u308b\n     */\n    connect: function (service, xmlString) {\n        var result = $.ajax({\n            //POST\u901a\u4fe1\n            type: 'POST',\n            //URL\u6307\u5b9a\n            url: 'http://xx.xx.xx.xx/TestWebService.asmx',\n            //header\u4ed8\u4e0e\n            headers: {\n                //SOAP\u901a\u4fe1\u3092\u5b9f\u884c\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a\n                'SOAPAction': 'http://tempuri.org/GetTestData',\n                //\u30bf\u30a4\u30d7\u3092xml\u306b\u6307\u5b9a\u3059\u308b\n                'Content-Type': 'text/xml',\n            },\n            //SOAP\u30ea\u30af\u30a8\u30b9\u30c8\u7528xml\u3092\u6dfb\u4ed8\n            data: xmlString,\n            //\u540c\u671f\u51e6\u7406\u306e\u6709\u7121\n            async: false,\n            //\u30a8\u30e9\u30fc\u6642\u8868\u793a\n            error: function (xhr, status, error) {\n                window.alert(error);\n            },\n            //\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u6642\u9593\n            timeout: 10000\n        }).responseText;\n        //\u7d50\u679c\u3092\u8fd4\u5374\n        return result;\n    }\n}\n~~~\n\n## \u611f\u60f3\n* jQuery ajax\u306f\u975e\u540c\u671f\u51e6\u7406\u3060\u3051\u3067\u306f\u306a\u304f\u3001\u30c7\u30fc\u30bf\u53d6\u5f97\u7528\u306e\u540c\u671f\u51e6\u7406\u3068\u3057\u3066\u3082\u5229\u7528\u3067\u304d\u308b\u3002\n  SPA(Single Page Application)\u304c\u4e3b\u6d41\u306b\u306a\u3063\u3066\u304d\u3066\u3044\u308b\u6642\u4ee3\u306b\u3001\u30da\u30fc\u30b8\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3092\u305b\u305a\n  \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u30b5\u30fc\u30d0\u3078\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u8981\u6c42\u3092\u9001\u308c\u308b\u306e\u306f\u3084\u306f\u308a\u4fbf\u5229\u3002\n\n* \u8a2d\u8a08\u5f53\u521d\u306fxmlHttpRequest\u3092\u5229\u7528\u3057\u3066\u901a\u4fe1\u3057\u3066\u3044\u305f\u304c\u3001\u3084\u306f\u308ajQuery ajax\u306e\u65b9\u304c\n  \u901a\u4fe1\u7b87\u6240\u306e\u5207\u308a\u5206\u3051\u306a\u3069\u69d8\u3005\u306a\u9762\u3067\u512a\u308c\u3066\u304a\u308a\u3001\u5229\u7528\u3057\u3084\u3059\u304b\u3063\u305f\u3002\n\n* Visual Studio Code\u66f8\u304d\u3084\u3059\u304f\u3066\u30b9\u30c6\u30ad\u3002\u304b\u3063\u3053\u3044\u3044\u3002\n\n## \u53c2\u8003\nWSDL\u306b\u3064\u3044\u3066\n<http://j-caw.co.jp/blog/?p=1477>\n\nASP.NET\u306eWeb\u30b5\u30fc\u30d3\u30b9\u306b\u3064\u3044\u3066\n<http://www.sangyo-rock.com/tech/index.php?ASP.NET%A4%C7%A4%CEWeb%A5%B5%A1%BC%A5%D3%A5%B9%B3%AB%C8%AF%A4%CB%B4%D8%A4%B9%A4%EB%A5%E1%A5%E2>\n", "tags": ["JavaScript", "Ajax", "jQuery", "SOAP", "ASP.NET"]}