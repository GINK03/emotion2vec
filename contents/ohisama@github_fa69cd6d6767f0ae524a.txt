{"context": " More than 1 year has passed since last update.\u79cb\u6708\u3067\u8cfc\u5165\u3057\u305f24lc64\u3092arduino uno\u306b\u3064\u306a\u3044\u3067\u898b\u307e\u3057\u305f\u3002\n\n\u5199\u771f\n\n\n\u56de\u8def\u56f3\n\n\n\u30cf\u30a4\u30d1\u30fc\u30bf\u30fc\u30df\u30ca\u30eb\n\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n#include <Wire.h>\n#include <stdint.h>\n\n#define chipAddress         0x50\nvoid i2c_eeprom_write_byte(int device, unsigned int addr, byte data)\n{\n    int rdata = data;\n    Wire.beginTransmission(device);\n    Wire.write((int) (addr >> 8));\n    Wire.write((int) (addr & 0xFF));\n    Wire.write(rdata);\n    Wire.endTransmission();\n    delay(10);\n}\nbyte i2c_eeprom_read_byte(int device, unsigned int addr)\n{\n    byte rdata = 0xFF;\n    Wire.beginTransmission(device);\n    Wire.write((int) (addr >> 8));\n    Wire.write((int) (addr & 0xFF));\n    Wire.endTransmission();\n    Wire.requestFrom(device, 1);\n    if (Wire.available()) rdata = Wire.read();\n    return rdata;\n}\nvoid test()\n{\n    byte v;\n    Serial.println(\"Writing test data\");\n    i2c_eeprom_write_byte(chipAddress, 0x0, 0x2a);\n        Serial.println(0x2a, HEX);\n    i2c_eeprom_write_byte(chipAddress, 0x1, 0x3a);\n        Serial.println(0x3a, HEX);\n    i2c_eeprom_write_byte(chipAddress, 0x2, 0x4a);\n        Serial.println(0x4a, HEX);\n    i2c_eeprom_write_byte(chipAddress, 0x3, 0x5a);\n        Serial.println(0x5a, HEX);\n    i2c_eeprom_write_byte(chipAddress, 0x4, 0x6a);\n        Serial.println(0x6a, HEX);\n    i2c_eeprom_write_byte(chipAddress, 0x5, 0x7a);\n        Serial.println(0x7a, HEX);\n    i2c_eeprom_write_byte(chipAddress, 0x6, 0x8a);\n        Serial.println(0x8a, HEX);\n    Serial.println(\"Read data\");\n    v = i2c_eeprom_read_byte(chipAddress, 0x0);\n    Serial.println(v, HEX);\n    v = i2c_eeprom_read_byte(chipAddress, 0x1);\n    Serial.println(v, HEX);\n    v = i2c_eeprom_read_byte(chipAddress, 0x2);\n    Serial.println(v, HEX);\n    v = i2c_eeprom_read_byte(chipAddress, 0x3);\n    Serial.println(v, HEX);\n    v = i2c_eeprom_read_byte(chipAddress, 0x4);\n    Serial.println(v, HEX);\n    v = i2c_eeprom_read_byte(chipAddress, 0x5);\n    Serial.println(v, HEX);\n    v = i2c_eeprom_read_byte(chipAddress, 0x6);\n    Serial.println(v, HEX);\n}\nvoid setup()\n{\n    Serial.begin(9600);\n    Wire.begin();\n    pinMode(13, OUTPUT);\n    digitalWrite(13, HIGH);\n    test();\n}\nvoid loop()\n{\n}\n\n\n\u79cb\u6708\u3067\u8cfc\u5165\u3057\u305f24lc64\u3092arduino uno\u306b\u3064\u306a\u3044\u3067\u898b\u307e\u3057\u305f\u3002\n##\u5199\u771f\n![MVC-001S.JPG](https://qiita-image-store.s3.amazonaws.com/0/18104/9265e071-1ddd-8a70-dc40-f51aacbe3375.jpeg)\n##\u56de\u8def\u56f3\n![24lc64.PNG](https://qiita-image-store.s3.amazonaws.com/0/18104/6f124221-873e-36c7-1c2d-45d3c549416e.png)\n##\u30cf\u30a4\u30d1\u30fc\u30bf\u30fc\u30df\u30ca\u30eb\n![h24lc64.PNG](https://qiita-image-store.s3.amazonaws.com/0/18104/59a319ab-5bae-92c1-ffee-1c044da5db5c.png)\n\n##\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n```\n#include <Wire.h>\n#include <stdint.h>\n\n#define chipAddress \t\t0x50\nvoid i2c_eeprom_write_byte(int device, unsigned int addr, byte data)\n{\n\tint rdata = data;\n\tWire.beginTransmission(device);\n\tWire.write((int) (addr >> 8));\n\tWire.write((int) (addr & 0xFF));\n\tWire.write(rdata);\n\tWire.endTransmission();\n\tdelay(10);\n}\nbyte i2c_eeprom_read_byte(int device, unsigned int addr)\n{\n\tbyte rdata = 0xFF;\n\tWire.beginTransmission(device);\n\tWire.write((int) (addr >> 8));\n\tWire.write((int) (addr & 0xFF));\n\tWire.endTransmission();\n\tWire.requestFrom(device, 1);\n\tif (Wire.available()) rdata = Wire.read();\n\treturn rdata;\n}\nvoid test()\n{\n\tbyte v;\n\tSerial.println(\"Writing test data\");\n\ti2c_eeprom_write_byte(chipAddress, 0x0, 0x2a);\n        Serial.println(0x2a, HEX);\n\ti2c_eeprom_write_byte(chipAddress, 0x1, 0x3a);\n        Serial.println(0x3a, HEX);\n\ti2c_eeprom_write_byte(chipAddress, 0x2, 0x4a);\n        Serial.println(0x4a, HEX);\n\ti2c_eeprom_write_byte(chipAddress, 0x3, 0x5a);\n        Serial.println(0x5a, HEX);\n\ti2c_eeprom_write_byte(chipAddress, 0x4, 0x6a);\n        Serial.println(0x6a, HEX);\n\ti2c_eeprom_write_byte(chipAddress, 0x5, 0x7a);\n        Serial.println(0x7a, HEX);\n\ti2c_eeprom_write_byte(chipAddress, 0x6, 0x8a);\n        Serial.println(0x8a, HEX);\n\tSerial.println(\"Read data\");\n\tv = i2c_eeprom_read_byte(chipAddress, 0x0);\n\tSerial.println(v, HEX);\n\tv = i2c_eeprom_read_byte(chipAddress, 0x1);\n\tSerial.println(v, HEX);\n\tv = i2c_eeprom_read_byte(chipAddress, 0x2);\n\tSerial.println(v, HEX);\n\tv = i2c_eeprom_read_byte(chipAddress, 0x3);\n\tSerial.println(v, HEX);\n\tv = i2c_eeprom_read_byte(chipAddress, 0x4);\n\tSerial.println(v, HEX);\n\tv = i2c_eeprom_read_byte(chipAddress, 0x5);\n\tSerial.println(v, HEX);\n\tv = i2c_eeprom_read_byte(chipAddress, 0x6);\n\tSerial.println(v, HEX);\n}\nvoid setup()\n{\n\tSerial.begin(9600);\n\tWire.begin();\n\tpinMode(13, OUTPUT);\n\tdigitalWrite(13, HIGH);\n\ttest();\n}\nvoid loop()\n{\n}\n\n```\n", "tags": ["Arduino", "I2C"]}