{"context": " More than 1 year has passed since last update.React Native \u306b UISegmentedControl \u304c\u306a\u3044\u3058\u3083\u3093 \u3063\u3066\u3044\u3046\u306e\u3092\u898b\u304b\u3051\u3066\u3002\u3069\u3046\u3084\u3063\u3066\u5b9f\u88c5\u3057\u3066\u3044\u308b\u306e\u304b\u8208\u5473\u3042\u3063\u305f\u306e\u3067\u3084\u308a\u65b9\u3092\u899a\u3048\u305f\u3002\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u76f4\u63a5\u307f\u3066\u308b\u306e\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3061\u3083\u3093\u3068\u8aad\u3093\u3067\u306a\u3044\u306e\u3067\u9593\u9055\u3063\u305f\u3053\u3068\u66f8\u3044\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3053\u3068\u3092\u7559\u610f\u3002\n\u307e\u305a Libraries/Components/SegmentedControlIOS/SegmentedControlIOS.ios.js \u3092\u6398\u3063\u3066JS\u3067React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u308b\nvar SegmentedControlIOS = React.createClass({\n  mixins: [NativeMethodsMixin],\n\n  propTypes: {\n    tintColor: PropTypes.string,\n  },\n\n  getDefaultProps: function(): DefaultProps {\n    return {\n      tintColor: \"#007AFF\",\n    };\n  },\n\n  render: function() {\n    return (\n      <View\n        style={[{height: 29, width: 140}, this.props.style]}>\n        <UISegmentedControl style={[{height: 29, width: 140}]} />\n      </View>\n    );\n  }\n});\n\n\nView\u3067\u30e9\u30c3\u30d7\u3059\u308b\u3002\u8a66\u3057\u305f\u3044\u3060\u3051\u3060\u304b\u3089height,width\u306f\u3068\u308a\u3042\u3048\u305a\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3057\u3061\u3083\u3046\u3002\nvar UISegmentedControl = createReactIOSNativeComponentClass({\n  validAttributes: {},\n  uiViewClassName: 'UISegmentedControl',\n});\n\ncreateReactIOSNativeComponentClass \u3067\u547c\u3073\u51fa\u3057\u305f\u3044\u30af\u30e9\u30b9\u3092\u66f8\u304f\u3002\nLibraries/react-native/react-native.js \u306e\u4e2d\u306b\u8ffd\u52a0\u3059\u308b\n   PickerIOS: require('PickerIOS'),\n   Navigator: require('Navigator'),\n   ScrollView: require('ScrollView'),\n+  SegmentedControlIOS: require('SegmentedControlIOS'),\n   SliderIOS: require('SliderIOS'),\n   SwitchIOS: require('SwitchIOS'),\n   TabBarIOS: require('TabBarIOS'),\n\nReact/Views/RCTUISegmentedControlManager.m \u3067\u547c\u3073\u51fa\u3055\u308c\u308b\u5074\u306eObjective-C\u306e\u30af\u30e9\u30b9\u3092\u66f8\u304f\u3002\n@interface RCTUISegmentedControlManager : RCTViewManager\n\nRCTViewManager\u3092\u7d99\u627f\u3057\u305f\u30af\u30e9\u30b9\u304c\u305d\u306eView\u306e\u7ba1\u7406\u3092\u3059\u308b\u3002\n- (UIView *)view\n{\n  UISegmentedControl *segmentedControl = [[UISegmentedControl alloc] initWithItems:@[@\"WIP1\", @\"WIP2\", @\"WIP3\"]];\n  [segmentedControl addTarget:self action:@selector(onChange:) forControlEvents:UIControlEventValueChanged];\n  return segmentedControl;\n}\n\n-view \u304c\u76ee\u7684\u306eView\u3092\u521d\u671f\u5316\u8fd4\u3059\u3002\u4e0a\u8a18\u306f\u4eee\u306e\u30b3\u30fc\u30c9\u3002\n\u3053\u308c\u306f UISegmentedControl \u3092\u76f4\u63a5\u4f7f\u3063\u3066\u3044\u308b\u3051\u3069\u3001React Native \u7528\u306e\u51e6\u7406\u3092\u52a0\u3048\u305f\u304b\u3063\u305f\u3089\u7d99\u627f\u3057\u3066 RCTSegmentedControl \u306e\u3088\u3046\u306a\u540d\u524d\u306e\u30af\u30e9\u30b9\u3092\u3064\u304f\u308b\u306e\u304c\u4f5c\u6cd5\u306e\u3088\u3046\u3060\u3002\n- (void)onChange:(UISegmentedControl *)sender\n{\n    [self.bridge.eventDispatcher sendInputEventWithName:@\"topChange\" body:@{\n      @\"target\": sender.reactTag,\n      @\"value\": @(sender.selectedSegmentIndex)\n    }];\n}\n\nonChange: \u3067\u306fJavaScript\u5074\u306b\u9001\u4fe1\u3059\u308b\u51e6\u7406\u3092\u66f8\u304f\u3002\u4e0a\u8a18\u306f\u3068\u304f\u306b\u4f55\u3082\u3084\u3063\u3066\u306a\u3044\u4eee\u306e\u30b3\u30fc\u30c9\u3002\nRCT_EXPORT_VIEW_PROPERTY(tintColor, UIColor);\nRCT_EXPORT_VIEW_PROPERTY(momentary, BOOL);\n\n\u30af\u30e9\u30b9\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092RCT_EXPORT_VIEW_PROPERTY\u3067\u516c\u958b\u3057\u3066\u3001JSX\u304b\u3089\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b(\u3053\u3053\u3082\u4eee)\u3002\n\u305d\u3046\u3059\u308b\u3068\nreturn (<SegmentedControlIOS />);\n\n\u3067\u3068\u308a\u3042\u3048\u305a\u63cf\u753b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n\n\n[React Native \u306b UISegmentedControl \u304c\u306a\u3044\u3058\u3083\u3093](https://twitter.com/ushisantoasobu/status/582137990673100800) \u3063\u3066\u3044\u3046\u306e\u3092\u898b\u304b\u3051\u3066\u3002\u3069\u3046\u3084\u3063\u3066\u5b9f\u88c5\u3057\u3066\u3044\u308b\u306e\u304b\u8208\u5473\u3042\u3063\u305f\u306e\u3067\u3084\u308a\u65b9\u3092\u899a\u3048\u305f\u3002\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u76f4\u63a5\u307f\u3066\u308b\u306e\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3061\u3083\u3093\u3068\u8aad\u3093\u3067\u306a\u3044\u306e\u3067\u9593\u9055\u3063\u305f\u3053\u3068\u66f8\u3044\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3053\u3068\u3092\u7559\u610f\u3002\n\n\u307e\u305a [Libraries/Components/SegmentedControlIOS/SegmentedControlIOS.ios.js](https://github.com/laiso/react-native/blob/segmentedcontrol/Libraries/Components/SegmentedControlIOS/SegmentedControlIOS.ios.js) \u3092\u6398\u3063\u3066JS\u3067React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u308b\n\n```js\nvar SegmentedControlIOS = React.createClass({\n  mixins: [NativeMethodsMixin],\n\n  propTypes: {\n    tintColor: PropTypes.string,\n  },\n\n  getDefaultProps: function(): DefaultProps {\n    return {\n      tintColor: \"#007AFF\",\n    };\n  },\n\n  render: function() {\n    return (\n      <View\n        style={[{height: 29, width: 140}, this.props.style]}>\n        <UISegmentedControl style={[{height: 29, width: 140}]} />\n      </View>\n    );\n  }\n});\n\n```\n\nView\u3067\u30e9\u30c3\u30d7\u3059\u308b\u3002\u8a66\u3057\u305f\u3044\u3060\u3051\u3060\u304b\u3089height,width\u306f\u3068\u308a\u3042\u3048\u305a\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3057\u3061\u3083\u3046\u3002\n\n```objc\nvar UISegmentedControl = createReactIOSNativeComponentClass({\n  validAttributes: {},\n  uiViewClassName: 'UISegmentedControl',\n});\n```\n\n`createReactIOSNativeComponentClass` \u3067\u547c\u3073\u51fa\u3057\u305f\u3044\u30af\u30e9\u30b9\u3092\u66f8\u304f\u3002\n\n`Libraries/react-native/react-native.js` \u306e\u4e2d\u306b\u8ffd\u52a0\u3059\u308b\n\n```objc\n   PickerIOS: require('PickerIOS'),\n   Navigator: require('Navigator'),\n   ScrollView: require('ScrollView'),\n+  SegmentedControlIOS: require('SegmentedControlIOS'),\n   SliderIOS: require('SliderIOS'),\n   SwitchIOS: require('SwitchIOS'),\n   TabBarIOS: require('TabBarIOS'),\n```\n\n[React/Views/RCTUISegmentedControlManager.m](https://github.com/laiso/react-native/blob/7c6a95788ffabc1602465585b3782a0a908cfd0d/React/Views/RCTUISegmentedControlManager.m) \u3067\u547c\u3073\u51fa\u3055\u308c\u308b\u5074\u306eObjective-C\u306e\u30af\u30e9\u30b9\u3092\u66f8\u304f\u3002\n\n```objc\n@interface RCTUISegmentedControlManager : RCTViewManager\n```\n\n`RCTViewManager`\u3092\u7d99\u627f\u3057\u305f\u30af\u30e9\u30b9\u304c\u305d\u306eView\u306e\u7ba1\u7406\u3092\u3059\u308b\u3002\n\n\n```objc\n- (UIView *)view\n{\n  UISegmentedControl *segmentedControl = [[UISegmentedControl alloc] initWithItems:@[@\"WIP1\", @\"WIP2\", @\"WIP3\"]];\n  [segmentedControl addTarget:self action:@selector(onChange:) forControlEvents:UIControlEventValueChanged];\n  return segmentedControl;\n}\n```\n\n`-view` \u304c\u76ee\u7684\u306eView\u3092\u521d\u671f\u5316\u8fd4\u3059\u3002\u4e0a\u8a18\u306f\u4eee\u306e\u30b3\u30fc\u30c9\u3002\n\u3053\u308c\u306f UISegmentedControl \u3092\u76f4\u63a5\u4f7f\u3063\u3066\u3044\u308b\u3051\u3069\u3001React Native \u7528\u306e\u51e6\u7406\u3092\u52a0\u3048\u305f\u304b\u3063\u305f\u3089\u7d99\u627f\u3057\u3066 `RCTSegmentedControl` \u306e\u3088\u3046\u306a\u540d\u524d\u306e\u30af\u30e9\u30b9\u3092\u3064\u304f\u308b\u306e\u304c\u4f5c\u6cd5\u306e\u3088\u3046\u3060\u3002\n\n\n```objc\n- (void)onChange:(UISegmentedControl *)sender\n{\n    [self.bridge.eventDispatcher sendInputEventWithName:@\"topChange\" body:@{\n      @\"target\": sender.reactTag,\n      @\"value\": @(sender.selectedSegmentIndex)\n    }];\n}\n```\n\n`onChange:` \u3067\u306fJavaScript\u5074\u306b\u9001\u4fe1\u3059\u308b\u51e6\u7406\u3092\u66f8\u304f\u3002\u4e0a\u8a18\u306f\u3068\u304f\u306b\u4f55\u3082\u3084\u3063\u3066\u306a\u3044\u4eee\u306e\u30b3\u30fc\u30c9\u3002\n\n```objc\nRCT_EXPORT_VIEW_PROPERTY(tintColor, UIColor);\nRCT_EXPORT_VIEW_PROPERTY(momentary, BOOL);\n```\n\n\u30af\u30e9\u30b9\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092`RCT_EXPORT_VIEW_PROPERTY`\u3067\u516c\u958b\u3057\u3066\u3001JSX\u304b\u3089\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b(\u3053\u3053\u3082\u4eee)\u3002\n\n\u305d\u3046\u3059\u308b\u3068\n\n```js\nreturn (<SegmentedControlIOS />);\n```\n\n\u3067\u3068\u308a\u3042\u3048\u305a\u63cf\u753b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-03-30 2.58.12 PM.png](https://qiita-image-store.s3.amazonaws.com/0/229/fa09a7b0-74a8-25d6-a89c-ab842a376100.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-03-30 2.58.12 PM.png\")\n", "tags": ["reactjs", "reactnative0.3.1"]}