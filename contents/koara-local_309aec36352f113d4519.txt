{"context": "built-in kernel module \u3068 loadable Kernel Module \u306e\u78ba\u8a8d\u65b9\u6cd5\n\nbuilt-in kernel modules\n\nbuilt-in kernel modules\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\n\n\u7d44\u307f\u8fbc\u307f\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\n$ cat /lib/modules/$(uname -r)/modules.builtin\n\n\n\nbuilt-in kernel module\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u78ba\u8a8d\n/sys/module/<module_name>/parameters/* \u306b\u3066\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n\u4f8b\u300cbluetooth\u300d\n$ ls /sys/module/bluetooth/parameters\ndisable_ertm  disable_esco  enable_hs\n\n$ cat /sys/module/bluetooth/parameters/*\nN\nN\nN\n\n\n\n\u6709\u52b9\u306a\u30ab\u30fc\u30cd\u30eb\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\n$ grep \"=y\" /boot/config-$(uname -r) | less\n\nTODO:\n/boot/config-$(uname -r) \u306e\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u3089\u308c\u306a\u3044\u5834\u5408\u304c\u3042\u308b\u3002KConfig\u306e\u8a2d\u5b9a\u3067\u6709\u52b9\u306b\u3059\u308b\uff1f\n\n\u53c2\u8003\n\nlinux - Understanding /boot/config file - Stack Overflow\n\n\nloadable Kernel Module\n\u4f9d\u5b58\u95a2\u4fc2\u60c5\u5831\u306f /lib/modules/$(uname -r)/modules.dep \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3002\n\n1. \u6709\u52b9\u306a loadable Kernel Module \u3092\u78ba\u8a8d\n# \u6709\u52b9\u306a\u5168\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u4f9d\u5b58\u95a2\u4fc2\u3092\u8868\u793a\n$ lsmod\n\nor \n\n# \u6307\u5b9a\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u60c5\u5831\u3092\u8868\u793a\n$ modinfo <module_name>\n\n\nmodinfo\u5b9f\u884c\u4f8b\n$ modinfo bluetooth\nfilename:       /lib/modules/3.8.0-44-generic/kernel/net/bluetooth/bluetooth.ko\nalias:          net-pf-31\nlicense:        GPL\nversion:        2.16\ndescription:    Bluetooth Core ver 2.16\nauthor:         Marcel Holtmann <marcel@holtmann.org>\nsrcversion:     69F404CC8C537406DC6169A\ndepends:\nintree:         Y\nvermagic:       3.8.0-44-generic SMP mod_unload modversions\nparm:           disable_esco:Disable eSCO connection creation (bool)\nparm:           disable_ertm:Disable enhanced retransmission mode (bool)\nparm:           enable_hs:Enable High Speed support (bool)\n\n\n\n2. loadable Kernel Module \u306e\u30ed\u30fc\u30c9\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9\uff08\u4f9d\u5b58\u95a2\u4fc2\u3092\u8003\u616e\u3059\u308b\uff09\n# /lib/modules/$(uname -r)/kernel/drivers \u4ee5\u4e0b\u304b\u3089 <module_name> \u3092\u8aad\u307f\u8fbc\u307f\n$ modprobe <module_name>\n\nor\n\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9\uff08\u4f9d\u5b58\u95a2\u4fc2\u306f\u8003\u616e\u3057\u306a\u3044\uff09\n$ insmod <module_name>\n\n\n3. loadable Kernel Module \u306e\u30a2\u30f3\u30ed\u30fc\u30c9\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a2\u30f3\u30ed\u30fc\u30c9\uff08\u4f9d\u5b58\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3082\u30a2\u30f3\u30ed\u30fc\u30c9\u3092\u884c\u3046\uff09\n$ modprobe -r <module_name>\n\nor\n\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a2\u30f3\u30ed\u30fc\u30c9\uff08\u4f9d\u5b58\u95a2\u4fc2\u306f\u8003\u616e\u3057\u306a\u3044\uff09\n$ rmmod <module_name>\n\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a2\u30f3\u30ed\u30fc\u30c9\uff08\u4f9d\u5b58\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3082\u30a2\u30f3\u30ed\u30fc\u30c9\u3092\u884c\u3046\uff09\n$ rmmod -r <module_name>\n\n\n\u95a2\u9023\nDevice Tree \u306b\u3064\u3044\u3066\u306e\u307e\u3068\u3081 - Qiita\n\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u306e\u30ed\u30b0\u51fa\u529b\u6291\u5236(printk\u306e\u30ed\u30b0\u30ec\u30d9\u30eb\u5909\u66f4) - Qiita\n\n\u53c2\u8003\nHow to find information about built-in kernel modules on Linux - Ask Xmodulo\nLinux \u30ed\u30fc\u30c0\u30d6\u30eb\u30fb\u30ab\u30fc\u30cd\u30eb\u30fb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5fb9\u5e95\u8abf\u67fb\nLinux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u7ba1\u7406\u306b\u3064\u3044\u3066 | OpenGroove\n\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb - ArchWiki\n1.\u30ab\u30fc\u30cd\u30eb\u3068\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb(\u7b2c1\u7ae0\u30ab\u30fc\u30cd\u30eb:\u57fa\u672c\u7ba1\u7406\u30b3\u30fc\u30b9II)\nkernel - What's the difference between insmod and modprobe? - Ask Ubuntu\nLinux\u30c9\u30e9\u30a4\u30d0\u306e\u306f\u306a\u3057\uff5cWireless\u30fb\u306e\u304a\u3068\uff5c\u30b5\u30a4\u30ec\u30c3\u30af\u30b9\u30fb\u30c6\u30af\u30ce\u30ed\u30b8\u30fc\u682a\u5f0f\u4f1a\u793e\n`built-in kernel module` \u3068 `loadable Kernel Module` \u306e\u78ba\u8a8d\u65b9\u6cd5\n\n# built-in kernel modules\n## built-in kernel modules\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\n\n```bash:\u7d44\u307f\u8fbc\u307f\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\n$ cat /lib/modules/$(uname -r)/modules.builtin\n```\n\n## built-in kernel module\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u78ba\u8a8d\n`/sys/module/<module_name>/parameters/*` \u306b\u3066\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n```bash:\u4f8b\u300cbluetooth\u300d\n$ ls /sys/module/bluetooth/parameters\ndisable_ertm  disable_esco  enable_hs\n\n$ cat /sys/module/bluetooth/parameters/*\nN\nN\nN\n```\n\n## \u6709\u52b9\u306a\u30ab\u30fc\u30cd\u30eb\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\n\n```bash\n$ grep \"=y\" /boot/config-$(uname -r) | less\n```\n\nTODO:\n`/boot/config-$(uname -r)` \u306e\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u3089\u308c\u306a\u3044\u5834\u5408\u304c\u3042\u308b\u3002KConfig\u306e\u8a2d\u5b9a\u3067\u6709\u52b9\u306b\u3059\u308b\uff1f\n\n### \u53c2\u8003\n+ [linux - Understanding /boot/config file - Stack Overflow](http://stackoverflow.com/questions/14587251/understanding-boot-config-file)\n\n# loadable Kernel Module\n\u4f9d\u5b58\u95a2\u4fc2\u60c5\u5831\u306f `/lib/modules/$(uname -r)/modules.dep` \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3002\n\n## 1. \u6709\u52b9\u306a loadable Kernel Module \u3092\u78ba\u8a8d\n\n```bash\n# \u6709\u52b9\u306a\u5168\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u4f9d\u5b58\u95a2\u4fc2\u3092\u8868\u793a\n$ lsmod\n\nor \n\n# \u6307\u5b9a\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u60c5\u5831\u3092\u8868\u793a\n$ modinfo <module_name>\n```\n\n```bash:modinfo\u5b9f\u884c\u4f8b\n$ modinfo bluetooth\nfilename:       /lib/modules/3.8.0-44-generic/kernel/net/bluetooth/bluetooth.ko\nalias:          net-pf-31\nlicense:        GPL\nversion:        2.16\ndescription:    Bluetooth Core ver 2.16\nauthor:         Marcel Holtmann <marcel@holtmann.org>\nsrcversion:     69F404CC8C537406DC6169A\ndepends:\nintree:         Y\nvermagic:       3.8.0-44-generic SMP mod_unload modversions\nparm:           disable_esco:Disable eSCO connection creation (bool)\nparm:           disable_ertm:Disable enhanced retransmission mode (bool)\nparm:           enable_hs:Enable High Speed support (bool)\n```\n\n## 2. loadable Kernel Module \u306e\u30ed\u30fc\u30c9\n```bash\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9\uff08\u4f9d\u5b58\u95a2\u4fc2\u3092\u8003\u616e\u3059\u308b\uff09\n# /lib/modules/$(uname -r)/kernel/drivers \u4ee5\u4e0b\u304b\u3089 <module_name> \u3092\u8aad\u307f\u8fbc\u307f\n$ modprobe <module_name>\n\nor\n\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9\uff08\u4f9d\u5b58\u95a2\u4fc2\u306f\u8003\u616e\u3057\u306a\u3044\uff09\n$ insmod <module_name>\n```\n\n## 3. loadable Kernel Module \u306e\u30a2\u30f3\u30ed\u30fc\u30c9\n\n```bash\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a2\u30f3\u30ed\u30fc\u30c9\uff08\u4f9d\u5b58\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3082\u30a2\u30f3\u30ed\u30fc\u30c9\u3092\u884c\u3046\uff09\n$ modprobe -r <module_name>\n\nor\n\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a2\u30f3\u30ed\u30fc\u30c9\uff08\u4f9d\u5b58\u95a2\u4fc2\u306f\u8003\u616e\u3057\u306a\u3044\uff09\n$ rmmod <module_name>\n\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a2\u30f3\u30ed\u30fc\u30c9\uff08\u4f9d\u5b58\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3082\u30a2\u30f3\u30ed\u30fc\u30c9\u3092\u884c\u3046\uff09\n$ rmmod -r <module_name>\n```\n\n# \u95a2\u9023\n[Device Tree \u306b\u3064\u3044\u3066\u306e\u307e\u3068\u3081 - Qiita](http://qiita.com/koara-local/items/ed99a7b96a0ca252fc4e)\n[\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u306e\u30ed\u30b0\u51fa\u529b\u6291\u5236(printk\u306e\u30ed\u30b0\u30ec\u30d9\u30eb\u5909\u66f4) - Qiita](http://qiita.com/koara-local/items/12d10e0e6c6499640d07)\n\n# \u53c2\u8003\n[How to find information about built-in kernel modules on Linux - Ask Xmodulo](http://ask.xmodulo.com/find-information-builtin-kernel-modules-linux.html)\n[Linux \u30ed\u30fc\u30c0\u30d6\u30eb\u30fb\u30ab\u30fc\u30cd\u30eb\u30fb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5fb9\u5e95\u8abf\u67fb](https://www.ibm.com/developerworks/jp/linux/library/l-lkm/)\n[Linux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u7ba1\u7406\u306b\u3064\u3044\u3066 | OpenGroove](http://open-groove.net/lpic/linux-kernel-modules/)\n[\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb - ArchWiki](https://wiki.archlinuxjp.org/index.php/%E3%82%AB%E3%83%BC%E3%83%8D%E3%83%AB%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB)\n[1.\u30ab\u30fc\u30cd\u30eb\u3068\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb(\u7b2c1\u7ae0\u30ab\u30fc\u30cd\u30eb:\u57fa\u672c\u7ba1\u7406\u30b3\u30fc\u30b9II)](https://users.miraclelinux.com/technet/document/linux/training/2_1_1.html)\n[kernel - What's the difference between insmod and modprobe? - Ask Ubuntu](http://askubuntu.com/questions/20070/whats-the-difference-between-insmod-and-modprobe)\n[Linux\u30c9\u30e9\u30a4\u30d0\u306e\u306f\u306a\u3057\uff5cWireless\u30fb\u306e\u304a\u3068\uff5c\u30b5\u30a4\u30ec\u30c3\u30af\u30b9\u30fb\u30c6\u30af\u30ce\u30ed\u30b8\u30fc\u682a\u5f0f\u4f1a\u793e](http://www.silex.jp/blog/wireless/2015/08/linux.html)\n", "tags": ["Linux", "driver", "kernel"]}