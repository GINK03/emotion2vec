{"context": "WIndows10\u306b\u74b0\u5883\u3092\u79fb\u3057\u307e\u3057\u305f\nWindows10\u3078\u306e\u74b0\u5883\u6574\u5099\u306e\u8a18\u4e8b\u306f\u4ee5\u4e0b\u306b\u3042\u308a\u307e\u3059\uff1a\nhttp://qiita.com/Worldforward/items/43e5c29b716aec8817c6\n\u5f93\u3044\u307e\u3057\u3066\u3001\u4e0b\u8a18\u8a18\u4e8b\u306e\u5185\u5bb9\u306f\u53e4\u3044\u3082\u306e\u3067\u3059\u3002\n\nChainer\u3092\u4f7f\u3063\u3066\u753b\u50cf\u5206\u985e\u306f\u3058\u3081\u307e\u3057\u305f\u3002\n2016\u5e7412\u670829\u65e5\u6642\u70b9\u3067\u306eChainer\u74b0\u5883\u3092\u5bfe\u8c61\u3068\u3057\u3066\u3044\u307e\u3059(29\u65e5\u591c\u6642\u70b9\u3067Chainer\u3092GitHub\u304b\u3089\u76f4\u63a5\u5165\u624b)\u3002\u50d5\u306fPython\u4f7f\u3044\u59cb\u3081\u30662\u304b\u6708\u3067Stanford\u5927\u5b66\u306e\u300cMachine Learning\u300d\u30b3\u30fc\u30b9(Cousera)\u3092\u4fee\u4e86\u3057\u305f\u4f4d\u306e\u77e5\u8b58\u3068\u7d4c\u9a13\u3057\u304b\u6301\u3061\u5408\u308f\u305b\u3066\u3044\u307e\u305b\u3093\u3002\n\u307e\u305f\u3001\u30de\u30fc\u30af\u30a2\u30c3\u30d7\u3092\u4f7f\u7528\u3057\u305f\u8a18\u4e8b\u66f8\u304d\u3082\u521d\u3081\u3066\u306e\u305f\u3081\u3001\u4f7f\u3044\u3053\u306a\u305b\u3066\u3044\u306a\u3044\u5206\u8aad\u307f\u305a\u3089\u3044\u6587\u7ae0\u69cb\u6210\u306a\u3053\u3068\u3092\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002\n\u53d6\u308a\u5408\u3048\u305a\u3001\u5e7e\u3064\u304b\u306e\u30b5\u30a4\u30c8\u3092\u898b\u306a\u304c\u3089\u59cb\u3081\u307e\u3057\u305f\u304c\u60c5\u5831\u304c\u53e4\u304f\u30c8\u30e9\u30a4\u30a2\u30f3\u30c9\u30a8\u30e9\u30fc\u3092\u7e70\u308a\u8fd4\u3057\u9014\u4e2d\u65ad\u5ff5\u3002\u518d\u8d77\u52d5\u3057\u3066Hatena Blog\u306e\u300cob_om\u300d\u3055\u3093\u306e\u30b5\u30a4\u30c8\u304c\u65b0\u3057\u3044\u60c5\u5831\u3060\u3063\u305f\u306e\u3067\u3053\u308c\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u5b66\u7fd2\u7de8\u3067\u3059\u3002\u5b9f\u969b\u306e\u753b\u50cf\u5206\u985e\u7de8\u3082\u5f8c\u7a0b\u66f8\u304d\u307e\u3059\u3002\u30bc\u30ed\u756a\u76ee\u306e\u4f5c\u696d\u306fChainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3053\u308d\u304b\u3089\u3002\n\u6ce8\u610f\n2016\u5e7412\u670829\u65e523\u6642\u904e\u304e\u306e\u6642\u70b9\u304b\u3089\u4fee\u6b63\u3057\u3066\u3044\u307e\u3059\u3002\u4fee\u6b63\u7b87\u6240\u306f\u30a8\u30e9\u30fc\u5bfe\u51e6(\u5143\u8a18\u4e8b\u624b\u9806\u2466\u301c\u2467)\u306b\u3064\u3044\u3066\u304c\u4e3b\u3067\u3001\u4ed6\u306b\u4eca\u56de\u300c\u2466\u300ctrain_imagenet.py\u300d\u306e\u4fee\u6b63\u300d\u3092\u52a0\u7b46\u3057\u3066\u3044\u307e\u3059\u3002\u53c2\u8003\u5143\u306e\u8a18\u4e8b\u3078\u306e\u7406\u89e3\u4e0d\u8db3\u306b\u8d77\u56e0\u3057\u3066\u307e\u3057\u305f\u3002\u307e\u3060\u5b66\u7fd2\u4e2d\u3067\u63a8\u8ad6(\u753b\u50cf\u5206\u985e)\u304c\u6210\u529f\u3059\u308b\u304b\u5206\u304b\u308a\u307e\u305b\u3093\u3002\u5931\u6557\u3068\u3068\u3082\u306b\u307e\u305f\u8a18\u4e8b\u3092\u4fee\u6b63\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002\n\n\u24eaChainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4e0b\u8a18\u300cInstall Guide\u300d\u3092\u53c2\u8003\u306bChainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttp://docs.chainer.org/en/stable/install.html\n\u6216\u306f\u4e0b\u8a18GitHub\u304b\u3089\u76f4\u63a5\u5165\u624b(git clone)\n$ git clone https://github.com/pfnet/chainer.git\n\u4ee5\u964dob_om\u3055\u3093\u306e\u300cchainer\uff08v1.14.0\uff09\u3067\u753b\u50cf\u5206\u985e\u3092\u306f\u3058\u3081\u308b\u305f\u3081\u306e\u899a\u66f8\u300d\u3092\u53c2\u8003\u306b\u4f5c\u696d\u958b\u59cb\u3002\nhttp://ob-om.hatenablog.com/entry/2016/09/04/143448\n\n\u5b66\u7fd2\u306e\u624b\u9806\n\u5b66\u7fd2\u5b9f\u884c\u307e\u3067\u306e\u4f5c\u696d\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n1. shi3z\u6c0f\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u3066\u74b0\u5883\u69cb\u7bc9(\u2460)\n2. \u5b66\u7fd2\u3068\u30c6\u30b9\u30c8\u7528\u306e\u753b\u50cf\u3092\u5165\u624b(\u2461)\n3. \u5b66\u7fd2\u3068\u30c6\u30b9\u30c8\u7528\u306e\u753b\u50cf\u306e\u4e0b\u6e96\u5099(\u2462\uff5e\u2465)\n4. shi3z\u6c0f\u306e\u30b3\u30fc\u30c9\u300ctrain_imagenet.py\u300d\u306e\u4fee\u6b63(\u2466)\n5. \u5b66\u7fd2\u5b9f\u884c(\u2467)\n\n\n\u2460shi3z\u6c0f\u306e\u30b3\u30fc\u30c9\u3092\u5165\u624b(git clone)\n\u5c1a\u3001\u5165\u624b\u30b3\u30fc\u30c9\u3092\u7f6e\u304f\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u300cwork\u300d\u3092\u30e6\u30fc\u30b6\u30fc\u306e\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u3066\u3042\u308b\u3068\u3059\u308b\u3002\n$ cd ~/work\n$ git clone https://github.com/shi3z/chainer_imagenet_tools.git\n$ cd chainer_imagenet_tools\n\n\u2461\u5b66\u7fd2\u30fb\u30c6\u30b9\u30c8\u7528\u306bCaltech 101\u306e\u753b\u50cf\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\n$ wget http://www.vision.caltech.edu/Image_Datasets/Caltech101/101_ObjectCategories.tar.gz\n$ tar xzvf 101_ObjectCategories.tar.gz\n\n\u2462\u5b66\u7fd2\u7528\u3068\u30c6\u30b9\u30c8\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u30ea\u30b9\u30c8\u4f5c\u6210\nshi3z\u6c0f\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\n$ python make_train_data.py 101_ObjectCategories\n\n\u2463\u753b\u50cf\u30c7\u30fc\u30bf\u3092\u5b66\u7fd2\u5668\u306e\u5bfe\u5fdc\u753b\u50cf\u30b5\u30a4\u30ba\u306b\u5408\u308f\u305b\u3066\u30ea\u30b5\u30a4\u30ba\n\u30aa\u30ea\u30b8\u30ca\u30eb\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u305d\u306e\u307e\u307e\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u300ccropimages\u300d\u3092\u8a2d\u3051\u3066\u305d\u3061\u3089\u306b\u300ccrop.py\u300d\u3067255*255px\u306b\u30ea\u30b5\u30a4\u30ba\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3059\u308b\u3002\n$ mkdir cropimages\n$ python crop.py images cropimages\n\n\u2464\u4f5c\u6210\u3057\u3066\u304a\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u30ea\u30b9\u30c8\u306e\u4fee\u6b63\ncropimages\u306b\u3042\u308b\u30ea\u30b5\u30a4\u30ba\u3057\u305f\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u3001\u300ctest.txt\u300d\u3068\u300ctrain.txt\u300d\u5185\u306b\u8a18\u8ff0\u3057\u3066\u3044\u308b\u7d76\u5bfe\u30d1\u30b9\u3092\u7de8\u96c6\u3059\u308b\u3002\n\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u30d1\u30b9\u300cimages\u300d\u3092\u300ccropimages\u300d\u306b\u7f6e\u63db\u3059\u308b\u3002\n\n\u2465\u5e73\u5747\u753b\u50cf\u3092\u4f5c\u6210\nChainer\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306f\u30e6\u30fc\u30b6\u30fc\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306e\u300cchainer\u300d\u306b\u3042\u308b\u3068\u3059\u308b\u3002\n\u5e73\u5747\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u300ccompute_mean.py\u300d\u3092\u5b9f\u884c\u3002\n$ python ~/chainer/examples/imagenet/compute_mean.py train.txt\n\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u300cmean.npy\u300d\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\u751f\u6210\u3055\u308c\u3066\u3044\u308c\u3070\u6210\u529f\u3002\n\n\u2466\u300ctrain_imagenet.py\u300d\u306e\u4fee\u6b63\n283\u884c\u76ee\no.write(c.build_computational_graph((loss,), False).dump())\n\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\no.write(c.build_computational_graph((loss,), True).dump())\n\u3092\u8ffd\u52a0(\u3053\u308c\u306b\u3088\u308a\u524d\u56de\u306e\u300c\u2467\u300cremove_split=False\u300d\u30a8\u30e9\u30fc\u767a\u751f\u5bfe\u7b56\u300d\u306f\u4e0d\u8981\u306b\u306a\u308b)\u3002\n310\u884c\u76ee\npickle.dump(model, open('model', 'wb'), -1)\n\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\nserializers.save_hdf5('modelhdf5', model)\n\u3092\u8ffd\u52a0\u3002\n\u4e0a\u8a18serializers\u3092\u4f7f\u7528\u3059\u308b\u306e\u3067\u3053\u308c\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3002\n29\u884c\u76ee\u8fba\u308a\u306b\nfrom chainer import serializers\n\u3092\u8ffd\u52a0\u3002\n91\u884c\u76ee\noptimizer.setup(model.collect_parameters())\n\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\noptimizer.setup(model)\n\u3092\u8ffd\u52a0\u3002\n\n\u2467\u5b66\u7fd2\u306e\u5b9f\u884c\n\u300ctrain_imagenet.py\u300d\u3092\u5b9f\u884c\u3057\u3066\u5b66\u7fd2\u3059\u308b\u3002\nGPU\u4f7f\u7528\u306e\u969b\u306b\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\u3057\u3066\u9069\u5b9c\u5b9f\u884c\u3059\u308c\u3070\u826f\u3044\u3002\n\u4e0b\u8a18\u306fCPU\u5358\u4f53\u3067\u306e\u5b9f\u884c\u6642\u306e\u30b3\u30de\u30f3\u30c9\u3002\n$ python train_imagenet.py --arch=architecture train.txt test.txt | tee log\n\u30d1\u30e9\u30e1\u30fc\u30bf\u300carchitecture\u300d\u90e8\u306b\u4f7f\u7528\u3059\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30e2\u30c7\u30eb\u3092\u6307\u5b9a\u3059\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306fnin\u3002\n\u6307\u5b9a\u53ef\u80fd\u306a\u30e2\u30c7\u30eb\u306f\u4e0b\u8a184\u3064\u3002\n1. nin\n2. alexbn\n3. googlenet\n4. googlenetbn\n\u5225\u9014\u30e2\u30c7\u30eb\u3092\u7528\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u6a21\u69d8\u3002\u30a8\u30dd\u30c3\u30af\u6570\u3082\u5909\u3048\u3089\u308c\u308b\u3002\u30aa\u30d7\u30b7\u30e7\u30f3\u5f15\u6570\u306f\u300c--epoch=NumEpoch\u300d\u3002NumEpoch\u306b\u6240\u671b\u306e\u30a8\u30dd\u30c3\u30af\u6570\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n\u6700\u5f8c\u306b\n\u4eca\u65e5\u306f\u3053\u3053\u307e\u3067\u3002\u5b66\u7fd2(CPU\u5b9f\u884c)\u5b9f\u884c\u4e2d\u306b\u3053\u306e\u539f\u7a3f\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\u73fe\u5728\u3001\u5b66\u7fd2\u300c670\u300d\u76ee(27840\u30b5\u30f3\u30d7\u30eb\u76ee)\u3002\u5b66\u7fd2\u3092\u5b9f\u65bd\u3057\u76f4\u3057\u3066\u3044\u307e\u3059\u3002Core i3\u30b5\u30d6\u30de\u30b7\u30f3\u306e\u8ca7\u5f31\u74b0\u5883\u306e\u305f\u3081NIN\u306e\u5b66\u7fd2\u306b4\u6642\u9593\u8981\u3057\u307e\u3059\u3002\u5931\u6557\u3057\u307e\u3057\u305f\u3089\u307e\u305f\u8a18\u4e8b\u3092\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002\u305d\u3057\u3066\u5b66\u7fd2\u7d42\u4e86\u3068\u63a8\u8ad6\u5b9f\u884c\u6210\u529f\u3068\u5171\u306b\u300c\u753b\u50cf\u5206\u985e\u7de8\u300d\u8a18\u4e8b\u3082\u66f8\u304f\u4e88\u5b9a\u3067\u3059\u3002\nNVIDIA\u306e1080\u3092\u5148\u307b\u3069\u30dd\u30c1\u308a\u307e\u3057\u305f\u3002\u660e\u65e5\u307e\u3067\u306b\u306f\u5c4a\u304f\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u3001Windows8.1\u30de\u30b7\u30f3\u3067\u306eCUDA\u4ed8\u304d\u74b0\u5883\u8a2d\u5b9a\u3092\u30bc\u30ed\u304b\u3089\u5b9f\u65bd\u3057\u307e\u3059\u306e\u3067\u305d\u306e\u8a18\u4e8b\u3082\u660e\u65e5\u4ee5\u964d\u66f8\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u8b1d\u8f9e\nob_om\u3055\u3093\u3084shi3z\u3055\u3093\u306e\u8a18\u4e8b\u3084\u30b3\u30fc\u30c9\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\u3053\u3053\u306b\u304a\u793c\u3092\u8ff0\u3079\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3059\u3002\n**WIndows10\u306b\u74b0\u5883\u3092\u79fb\u3057\u307e\u3057\u305f**\nWindows10\u3078\u306e\u74b0\u5883\u6574\u5099\u306e\u8a18\u4e8b\u306f\u4ee5\u4e0b\u306b\u3042\u308a\u307e\u3059\uff1a\nhttp://qiita.com/Worldforward/items/43e5c29b716aec8817c6\n\u5f93\u3044\u307e\u3057\u3066\u3001\u4e0b\u8a18\u8a18\u4e8b\u306e\u5185\u5bb9\u306f\u53e4\u3044\u3082\u306e\u3067\u3059\u3002\n\n#Chainer\u3092\u4f7f\u3063\u3066\u753b\u50cf\u5206\u985e\u306f\u3058\u3081\u307e\u3057\u305f\u3002\n\n2016\u5e7412\u670829\u65e5\u6642\u70b9\u3067\u306eChainer\u74b0\u5883\u3092\u5bfe\u8c61\u3068\u3057\u3066\u3044\u307e\u3059(29\u65e5\u591c\u6642\u70b9\u3067Chainer\u3092GitHub\u304b\u3089\u76f4\u63a5\u5165\u624b)\u3002\u50d5\u306fPython\u4f7f\u3044\u59cb\u3081\u30662\u304b\u6708\u3067Stanford\u5927\u5b66\u306e\u300cMachine Learning\u300d\u30b3\u30fc\u30b9(Cousera)\u3092\u4fee\u4e86\u3057\u305f\u4f4d\u306e\u77e5\u8b58\u3068\u7d4c\u9a13\u3057\u304b\u6301\u3061\u5408\u308f\u305b\u3066\u3044\u307e\u305b\u3093\u3002\n\n\u307e\u305f\u3001\u30de\u30fc\u30af\u30a2\u30c3\u30d7\u3092\u4f7f\u7528\u3057\u305f\u8a18\u4e8b\u66f8\u304d\u3082\u521d\u3081\u3066\u306e\u305f\u3081\u3001\u4f7f\u3044\u3053\u306a\u305b\u3066\u3044\u306a\u3044\u5206\u8aad\u307f\u305a\u3089\u3044\u6587\u7ae0\u69cb\u6210\u306a\u3053\u3068\u3092\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002\n\n\n\u53d6\u308a\u5408\u3048\u305a\u3001\u5e7e\u3064\u304b\u306e\u30b5\u30a4\u30c8\u3092\u898b\u306a\u304c\u3089\u59cb\u3081\u307e\u3057\u305f\u304c\u60c5\u5831\u304c\u53e4\u304f\u30c8\u30e9\u30a4\u30a2\u30f3\u30c9\u30a8\u30e9\u30fc\u3092\u7e70\u308a\u8fd4\u3057\u9014\u4e2d\u65ad\u5ff5\u3002\u518d\u8d77\u52d5\u3057\u3066Hatena Blog\u306e\u300cob_om\u300d\u3055\u3093\u306e\u30b5\u30a4\u30c8\u304c\u65b0\u3057\u3044\u60c5\u5831\u3060\u3063\u305f\u306e\u3067\u3053\u308c\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u5b66\u7fd2\u7de8\u3067\u3059\u3002\u5b9f\u969b\u306e\u753b\u50cf\u5206\u985e\u7de8\u3082\u5f8c\u7a0b\u66f8\u304d\u307e\u3059\u3002\u30bc\u30ed\u756a\u76ee\u306e\u4f5c\u696d\u306fChainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3053\u308d\u304b\u3089\u3002\n\n**\u6ce8\u610f**\n2016\u5e7412\u670829\u65e523\u6642\u904e\u304e\u306e\u6642\u70b9\u304b\u3089\u4fee\u6b63\u3057\u3066\u3044\u307e\u3059\u3002\u4fee\u6b63\u7b87\u6240\u306f\u30a8\u30e9\u30fc\u5bfe\u51e6(\u5143\u8a18\u4e8b\u624b\u9806\u2466\u301c\u2467)\u306b\u3064\u3044\u3066\u304c\u4e3b\u3067\u3001\u4ed6\u306b\u4eca\u56de\u300c\u2466\u300ctrain_imagenet.py\u300d\u306e\u4fee\u6b63\u300d\u3092\u52a0\u7b46\u3057\u3066\u3044\u307e\u3059\u3002\u53c2\u8003\u5143\u306e\u8a18\u4e8b\u3078\u306e\u7406\u89e3\u4e0d\u8db3\u306b\u8d77\u56e0\u3057\u3066\u307e\u3057\u305f\u3002\u307e\u3060\u5b66\u7fd2\u4e2d\u3067\u63a8\u8ad6(\u753b\u50cf\u5206\u985e)\u304c\u6210\u529f\u3059\u308b\u304b\u5206\u304b\u308a\u307e\u305b\u3093\u3002\u5931\u6557\u3068\u3068\u3082\u306b\u307e\u305f\u8a18\u4e8b\u3092\u4fee\u6b63\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002\n\n##\u24eaChainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4e0b\u8a18\u300cInstall Guide\u300d\u3092\u53c2\u8003\u306bChainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttp://docs.chainer.org/en/stable/install.html\n\n\n\u6216\u306f\u4e0b\u8a18GitHub\u304b\u3089\u76f4\u63a5\u5165\u624b(git clone)\n$ git clone https://github.com/pfnet/chainer.git\n\n\u4ee5\u964dob_om\u3055\u3093\u306e\u300cchainer\uff08v1.14.0\uff09\u3067\u753b\u50cf\u5206\u985e\u3092\u306f\u3058\u3081\u308b\u305f\u3081\u306e\u899a\u66f8\u300d\u3092\u53c2\u8003\u306b\u4f5c\u696d\u958b\u59cb\u3002\nhttp://ob-om.hatenablog.com/entry/2016/09/04/143448\n\n##\u5b66\u7fd2\u306e\u624b\u9806\n\u5b66\u7fd2\u5b9f\u884c\u307e\u3067\u306e\u4f5c\u696d\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n1. shi3z\u6c0f\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u3066\u74b0\u5883\u69cb\u7bc9(\u2460)\n2. \u5b66\u7fd2\u3068\u30c6\u30b9\u30c8\u7528\u306e\u753b\u50cf\u3092\u5165\u624b(\u2461)\n3. \u5b66\u7fd2\u3068\u30c6\u30b9\u30c8\u7528\u306e\u753b\u50cf\u306e\u4e0b\u6e96\u5099(\u2462\uff5e\u2465)\n4. shi3z\u6c0f\u306e\u30b3\u30fc\u30c9\u300ctrain_imagenet.py\u300d\u306e\u4fee\u6b63(\u2466)\n5. \u5b66\u7fd2\u5b9f\u884c(\u2467)\n\n![\u5b66\u7fd2\u307e\u3067\u306e\u4f5c\u696d\u30d5\u30ed\u30fc](http://microarch.main.jp/qiita_images/ml_learning_flow.jpg \"\u5b66\u7fd2\u307e\u3067\u306e\u4f5c\u696d\u30d5\u30ed\u30fc\")\n\n##\u2460shi3z\u6c0f\u306e\u30b3\u30fc\u30c9\u3092\u5165\u624b(git clone)\n\u5c1a\u3001\u5165\u624b\u30b3\u30fc\u30c9\u3092\u7f6e\u304f\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u300cwork\u300d\u3092\u30e6\u30fc\u30b6\u30fc\u306e\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u3066\u3042\u308b\u3068\u3059\u308b\u3002\n$ cd ~/work\n$ git clone https://github.com/shi3z/chainer_imagenet_tools.git\n$ cd chainer_imagenet_tools\n\n##\u2461\u5b66\u7fd2\u30fb\u30c6\u30b9\u30c8\u7528\u306bCaltech 101\u306e\u753b\u50cf\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\n$ wget http://www.vision.caltech.edu/Image_Datasets/Caltech101/101_ObjectCategories.tar.gz\n$ tar xzvf 101_ObjectCategories.tar.gz\n\n##\u2462\u5b66\u7fd2\u7528\u3068\u30c6\u30b9\u30c8\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u30ea\u30b9\u30c8\u4f5c\u6210\nshi3z\u6c0f\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\n$ python make_train_data.py 101_ObjectCategories\n\n##\u2463\u753b\u50cf\u30c7\u30fc\u30bf\u3092\u5b66\u7fd2\u5668\u306e\u5bfe\u5fdc\u753b\u50cf\u30b5\u30a4\u30ba\u306b\u5408\u308f\u305b\u3066\u30ea\u30b5\u30a4\u30ba\n\u30aa\u30ea\u30b8\u30ca\u30eb\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u305d\u306e\u307e\u307e\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u300ccropimages\u300d\u3092\u8a2d\u3051\u3066\u305d\u3061\u3089\u306b\u300ccrop.py\u300d\u3067255*255px\u306b\u30ea\u30b5\u30a4\u30ba\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3059\u308b\u3002\n$ mkdir cropimages\n$ python crop.py images cropimages\n\n##\u2464\u4f5c\u6210\u3057\u3066\u304a\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u30ea\u30b9\u30c8\u306e\u4fee\u6b63\ncropimages\u306b\u3042\u308b\u30ea\u30b5\u30a4\u30ba\u3057\u305f\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u3001\u300ctest.txt\u300d\u3068\u300ctrain.txt\u300d\u5185\u306b\u8a18\u8ff0\u3057\u3066\u3044\u308b\u7d76\u5bfe\u30d1\u30b9\u3092\u7de8\u96c6\u3059\u308b\u3002\n\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u30d1\u30b9\u300cimages\u300d\u3092\u300ccropimages\u300d\u306b\u7f6e\u63db\u3059\u308b\u3002\n\n##\u2465\u5e73\u5747\u753b\u50cf\u3092\u4f5c\u6210\nChainer\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306f\u30e6\u30fc\u30b6\u30fc\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306e\u300cchainer\u300d\u306b\u3042\u308b\u3068\u3059\u308b\u3002\n\u5e73\u5747\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u300ccompute_mean.py\u300d\u3092\u5b9f\u884c\u3002\n$ python ~/chainer/examples/imagenet/compute_mean.py train.txt\n\n\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u300cmean.npy\u300d\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\u751f\u6210\u3055\u308c\u3066\u3044\u308c\u3070\u6210\u529f\u3002\n\n<!-- \n##\u2466Chainer\u3067\u300ccPickle.UnpicklingError\u300d\u30a8\u30e9\u30fc\u767a\u751f\u5bfe\u7b56\n\u300cChainer\u3067cPickle.UnpicklingError\u300d\u3092\u53c2\u8003\u306b\u89e3\u6c7a\u3059\u308b\u3002\nhttp://qiita.com/shota_hayashi/items/4a488931ab88f45cfa55\n\u300c~/work/chainer_imagenet_tools/train_imagenet.py\u300d\u30d5\u30a1\u30a4\u30eb\u306e66\u884c\u76ee\nmean_image = pickle.load(open(args.mean, 'rb'))\n\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\nmean_image = np.load(args.mean)\n-->\n\n##\u2466\u300ctrain_imagenet.py\u300d\u306e\u4fee\u6b63\n283\u884c\u76ee\no.write(c.build_computational_graph((loss,), False).dump())\n\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\no.write(c.build_computational_graph((loss,), True).dump())\n\u3092\u8ffd\u52a0(\u3053\u308c\u306b\u3088\u308a\u524d\u56de\u306e\u300c\u2467\u300cremove_split=False\u300d\u30a8\u30e9\u30fc\u767a\u751f\u5bfe\u7b56\u300d\u306f\u4e0d\u8981\u306b\u306a\u308b)\u3002\n\n310\u884c\u76ee\npickle.dump(model, open('model', 'wb'), -1)\n\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\nserializers.save_hdf5('modelhdf5', model)\n\u3092\u8ffd\u52a0\u3002\n\n\u4e0a\u8a18serializers\u3092\u4f7f\u7528\u3059\u308b\u306e\u3067\u3053\u308c\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3002\n29\u884c\u76ee\u8fba\u308a\u306b\nfrom chainer import serializers\n\u3092\u8ffd\u52a0\u3002\n\n91\u884c\u76ee\noptimizer.setup(model.collect_parameters())\n\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\noptimizer.setup(model)\n\u3092\u8ffd\u52a0\u3002\n\n<!-- \n##\u2467\u300cremove_split=False\u300d\u30a8\u30e9\u30fc\u767a\u751f\u5bfe\u7b56\n\u300cremove_split=False\u300d\u30a8\u30e9\u30fc\u767a\u751f\u306e\u539f\u56e0\u304c\u4e0d\u660e\u306e\u305f\u3081\u53d6\u308a\u5408\u3048\u305a\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3067\u5bfe\u51e6\u3057\u305f\u3002\n\u300c~/.local/lib/python2.7/site_packages/chainer/computational_graph.py\u300d\u30d5\u30a1\u30a4\u30eb\u306e\u4e00\u6642\u5909\u66f4\n\u4e0b\u8a18176\u884c\u3068177\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\nif not remove_split:\n    raise ValueError('remove_split=False is not supported anymore')\n-->\n\n##\u2467\u5b66\u7fd2\u306e\u5b9f\u884c\n\u300ctrain_imagenet.py\u300d\u3092\u5b9f\u884c\u3057\u3066\u5b66\u7fd2\u3059\u308b\u3002\nGPU\u4f7f\u7528\u306e\u969b\u306b\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\u3057\u3066\u9069\u5b9c\u5b9f\u884c\u3059\u308c\u3070\u826f\u3044\u3002\n\u4e0b\u8a18\u306fCPU\u5358\u4f53\u3067\u306e\u5b9f\u884c\u6642\u306e\u30b3\u30de\u30f3\u30c9\u3002\n$ python train_imagenet.py --arch=architecture train.txt test.txt | tee log\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u300carchitecture\u300d\u90e8\u306b\u4f7f\u7528\u3059\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30e2\u30c7\u30eb\u3092\u6307\u5b9a\u3059\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306fnin\u3002\n\u6307\u5b9a\u53ef\u80fd\u306a\u30e2\u30c7\u30eb\u306f\u4e0b\u8a184\u3064\u3002\n1. nin\n2. alexbn\n3. googlenet\n4. googlenetbn\n\u5225\u9014\u30e2\u30c7\u30eb\u3092\u7528\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u6a21\u69d8\u3002\u30a8\u30dd\u30c3\u30af\u6570\u3082\u5909\u3048\u3089\u308c\u308b\u3002\u30aa\u30d7\u30b7\u30e7\u30f3\u5f15\u6570\u306f\u300c--epoch=NumEpoch\u300d\u3002NumEpoch\u306b\u6240\u671b\u306e\u30a8\u30dd\u30c3\u30af\u6570\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n\n##\u6700\u5f8c\u306b\n\u4eca\u65e5\u306f\u3053\u3053\u307e\u3067\u3002~~\u5b66\u7fd2(CPU\u5b9f\u884c)\u5b9f\u884c\u4e2d\u306b\u3053\u306e\u539f\u7a3f\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\u73fe\u5728\u3001\u5b66\u7fd2\u300c670\u300d\u76ee(27840\u30b5\u30f3\u30d7\u30eb\u76ee)\u3002~~\u5b66\u7fd2\u3092\u5b9f\u65bd\u3057\u76f4\u3057\u3066\u3044\u307e\u3059\u3002Core i3\u30b5\u30d6\u30de\u30b7\u30f3\u306e\u8ca7\u5f31\u74b0\u5883\u306e\u305f\u3081NIN\u306e\u5b66\u7fd2\u306b4\u6642\u9593\u8981\u3057\u307e\u3059\u3002\u5931\u6557\u3057\u307e\u3057\u305f\u3089\u307e\u305f\u8a18\u4e8b\u3092\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002\u305d\u3057\u3066\u5b66\u7fd2\u7d42\u4e86\u3068\u63a8\u8ad6\u5b9f\u884c\u6210\u529f\u3068\u5171\u306b\u300c\u753b\u50cf\u5206\u985e\u7de8\u300d\u8a18\u4e8b\u3082\u66f8\u304f\u4e88\u5b9a\u3067\u3059\u3002\n\n**NVIDIA\u306e1080\u3092\u5148\u307b\u3069\u30dd\u30c1\u308a\u307e\u3057\u305f\u3002\u660e\u65e5\u307e\u3067\u306b\u306f\u5c4a\u304f\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u3001Windows8.1\u30de\u30b7\u30f3\u3067\u306eCUDA\u4ed8\u304d\u74b0\u5883\u8a2d\u5b9a\u3092\u30bc\u30ed\u304b\u3089\u5b9f\u65bd\u3057\u307e\u3059\u306e\u3067\u305d\u306e\u8a18\u4e8b\u3082\u660e\u65e5\u4ee5\u964d\u66f8\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002**\n\n###\u8b1d\u8f9e\nob_om\u3055\u3093\u3084shi3z\u3055\u3093\u306e\u8a18\u4e8b\u3084\u30b3\u30fc\u30c9\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\u3053\u3053\u306b\u304a\u793c\u3092\u8ff0\u3079\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3059\u3002\n", "tags": ["MachineLearning", "Chainer"]}