{"tags": ["Tcl8.5"], "context": " More than 1 year has passed since last update.Tcl\u3067\u79d1\u5b66\u6280\u8853\u8a08\u7b97\u3092\u3059\u308b\u6642\u306b\u3001\u30ea\u30b9\u30c8\u306b\u5165\u3063\u3066\u3044\u308b\u30c7\u30fc\u30bf\u304b\u3089\u6700\u5927\u5024\u3092\u6c42\u3081\u305f\u3044\u6642\u304c\u3042\u308a\u307e\u3059\u3088\u306d\u3002expr max($l) \u3067\u51fa\u6765\u305d\u3046\u306a\u306e\u3067\u3059\u304c\u3001max\u95a2\u6570\u306f\u5f15\u6570\u304c,\u533a\u5207\u308a\u3067\u7121\u3044\u3068\u53d7\u3051\u4ed8\u3051\u3066\u304f\u308c\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001\u5168\u30c7\u30fc\u30bf\u3092\u8abf\u3079\u308b\u65b9\u6cd5\u3068\u3001\u30bd\u30fc\u30c8\u3059\u308b\u65b9\u6cd5\u3001\u533a\u5207\u308a\u6587\u5b57\u3092\u5909\u3048\u3066max\u95a2\u6570\u3092\u4f7f\u3046\u65b9\u6cd5\u3067\u3001\u3069\u308c\u304c\u4e00\u756a\u901f\u3044\u304b\u3092\u8a66\u3057\u307e\u3057\u305f\u3002\n\nmax.tcl\n# \u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u306e\u4f5c\u6210\nset l \"\"\nfor {set i 0} { $i<1000000 } {incr i} {\n    lappend l [expr rand()]\n}\n\n# \u65b9\u6cd51 \u81ea\u529b\u3067\u6bd4\u8f03\nset s0 [clock clicks -milliseconds]\nset max [lindex $l 0]\nforeach x $l {\n    if { $max < $x } {\n    set max $x\n    }\n}\nset s1 [clock clicks -milliseconds]\nputs \"1: max $max time [expr $s1 - $s0] ms\"\n\n# \u65b9\u6cd52 \u30bd\u30fc\u30c8\u3092\u4f7f\u3046\nset s0 [clock clicks -milliseconds]\nset max [lindex [lsort -decreasing -real $l] 0]\nset s1 [clock clicks -milliseconds]\nputs \"2: max $max time [expr $s1 - $s0] ms\"\n\n# \u65b9\u6cd53 \u533a\u5207\u308a\u3092\u5909\u3048\u3066max\u95a2\u6570\u3092\u4f7f\u3046\nset s0 [clock clicks -milliseconds]\nset max [expr max([regsub -all { } $l {,}])]\nset s1 [clock clicks -milliseconds]\nputs \"3: max $max time [expr $s1 - $s0] ms\"\n\n\n\u5b9f\u884c\u3059\u308b\u3068\u3053\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n1: max 0.9999997345730661 time 339 ms\n2: max 0.9999997345730661 time 419 ms\n3: max 0.9999997345730661 time 4978 ms\n\n\u533a\u5207\u308a\u6587\u5b57\u3092\u5909\u3048\u3066\u7d44\u8fbc\u306emax\u95a2\u6570\u304c\u901f\u3044\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u81ea\u5206\u3067\u8a08\u7b97\u3059\u308b\u65b9\u304c\u901f\u3044\u3067\u3059\u306d\u3002\nTcl\u3067\u79d1\u5b66\u6280\u8853\u8a08\u7b97\u3092\u3059\u308b\u6642\u306b\u3001\u30ea\u30b9\u30c8\u306b\u5165\u3063\u3066\u3044\u308b\u30c7\u30fc\u30bf\u304b\u3089\u6700\u5927\u5024\u3092\u6c42\u3081\u305f\u3044\u6642\u304c\u3042\u308a\u307e\u3059\u3088\u306d\u3002expr max($l) \u3067\u51fa\u6765\u305d\u3046\u306a\u306e\u3067\u3059\u304c\u3001max\u95a2\u6570\u306f\u5f15\u6570\u304c,\u533a\u5207\u308a\u3067\u7121\u3044\u3068\u53d7\u3051\u4ed8\u3051\u3066\u304f\u308c\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001\u5168\u30c7\u30fc\u30bf\u3092\u8abf\u3079\u308b\u65b9\u6cd5\u3068\u3001\u30bd\u30fc\u30c8\u3059\u308b\u65b9\u6cd5\u3001\u533a\u5207\u308a\u6587\u5b57\u3092\u5909\u3048\u3066max\u95a2\u6570\u3092\u4f7f\u3046\u65b9\u6cd5\u3067\u3001\u3069\u308c\u304c\u4e00\u756a\u901f\u3044\u304b\u3092\u8a66\u3057\u307e\u3057\u305f\u3002\n\n```tcl:max.tcl\n# \u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u306e\u4f5c\u6210\nset l \"\"\nfor {set i 0} { $i<1000000 } {incr i} {\n    lappend l [expr rand()]\n}\n\n# \u65b9\u6cd51 \u81ea\u529b\u3067\u6bd4\u8f03\nset s0 [clock clicks -milliseconds]\nset max [lindex $l 0]\nforeach x $l {\n    if { $max < $x } {\n\tset max $x\n    }\n}\nset s1 [clock clicks -milliseconds]\nputs \"1: max $max time [expr $s1 - $s0] ms\"\n\n# \u65b9\u6cd52 \u30bd\u30fc\u30c8\u3092\u4f7f\u3046\nset s0 [clock clicks -milliseconds]\nset max [lindex [lsort -decreasing -real $l] 0]\nset s1 [clock clicks -milliseconds]\nputs \"2: max $max time [expr $s1 - $s0] ms\"\n\n# \u65b9\u6cd53 \u533a\u5207\u308a\u3092\u5909\u3048\u3066max\u95a2\u6570\u3092\u4f7f\u3046\nset s0 [clock clicks -milliseconds]\nset max [expr max([regsub -all { } $l {,}])]\nset s1 [clock clicks -milliseconds]\nputs \"3: max $max time [expr $s1 - $s0] ms\"\n```\n\n\u5b9f\u884c\u3059\u308b\u3068\u3053\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n1: max 0.9999997345730661 time 339 ms\n2: max 0.9999997345730661 time 419 ms\n3: max 0.9999997345730661 time 4978 ms\n```\n\n\u533a\u5207\u308a\u6587\u5b57\u3092\u5909\u3048\u3066\u7d44\u8fbc\u306emax\u95a2\u6570\u304c\u901f\u3044\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u81ea\u5206\u3067\u8a08\u7b97\u3059\u308b\u65b9\u304c\u901f\u3044\u3067\u3059\u306d\u3002\n"}