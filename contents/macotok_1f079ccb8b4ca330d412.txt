{"tags": ["canvas"], "context": "\n\np5.js arc(\u5186\u306e\u5909\u5f62)\u3068map(\u8272\u306e\u767b\u9332)\u3092\u4f7f\u3063\u3066\u5186\u30b0\u30e9\u30d5\u3092\u4f5c\u308b\np5.js\u306e\u516c\u5f0f\u30b5\u30a4\u30c8\u3092\u5143\u306b\u63cf\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n\u516c\u5f0f\n\n\u3055\u3063\u305d\u304f\u66f8\u3044\u3066\u307f\u305f\nvar angles = [30, 10, 45, 35, 60, 38, 75, 67];\n\nfunction setup() {\n    createCanvas(720, 400); // canvas\u30b5\u30a4\u30ba\n    noStroke(); // \u7dda\u306a\u3057\n    noLoop(); // \u30eb\u30fc\u30d7\u306a\u3057\n}\n\nfunction draw() {\n    background(100); // \u80cc\u666f\u8272\n    pieChart(300, angles); // \u95a2\u6570\n}\n\nfunction pieChart(diameter, data) {\n    var lastAngle = 0;\n    for (var i = 0; i < data.length; i++) {\n        var gray = map(i, 0, data.length, 0, 255); // \u8272\u3092\u767b\u9332 map(\u5165\u529b\u5024(0, 1, 2...), \u5024\u306e\u73fe\u5728\u306e\u7bc4\u56f2\u306e\u4e0b\u9650, \u5024\u306e\u73fe\u5728\u306e\u7bc4\u56f2\u306e\u4e0a\u9650, \u5024\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u5024\u306e\u4e0b\u9650, \u5024\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u5024\u306e\u4e0a\u9650)\n        fill(gray); // \u5857\u308a\u3064\u3076\u3057\n        arc(width / 2, height / 2, diameter, diameter, lastAngle, lastAngle + radians(angles[i])); // \u5186\u306e\u5909\u5f62\u4f5c\u6210 (\u5186\u306e\u4e2d\u5fc3\u70b9x\u8ef8, \u5186\u306e\u4e2d\u5fc3\u70b9y\u8ef8, \u5186\u306e\u6a2a\u5e45, \u5186\u306e\u7e26\u5e45, angles\u306e\u5024(\u59cb\u307e\u308a), angles\u306e\u4eca\u306e\u5024(\u7d42\u308f\u308a))\n        lastAngle += radians(angles[i]);\u3000// lastAngles\u3092\u66f4\u65b0(\u5186\u306e\u5909\u5f62\u3092\u4f5c\u308b\u305f\u3081)\n    }\n}\n\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u306f\u6319\u52d5\u3092\u78ba\u8a8d\u3057\u3066\u66f8\u304d\u307e\u3057\u305f\u3002\n\u9593\u9055\u3063\u3066\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\u203bmap()\u306b\u3064\u3044\u3066\u3088\u304f\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u3002\u3002\n\n\u3067\u304d\u3042\u304c\u308a\u306f\u3053\u3093\u306a\u611f\u3058\n\n\u7d9a\u304d\u306f\u307e\u305f\u4eca\u5ea6\n#p5.js arc(\u5186\u306e\u5909\u5f62)\u3068map(\u8272\u306e\u767b\u9332)\u3092\u4f7f\u3063\u3066\u5186\u30b0\u30e9\u30d5\u3092\u4f5c\u308b\np5.js\u306e\u516c\u5f0f\u30b5\u30a4\u30c8\u3092\u5143\u306b\u63cf\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n[\u516c\u5f0f](https://p5js.org/examples/form-pie-chart.html)\n\n##\u3055\u3063\u305d\u304f\u66f8\u3044\u3066\u307f\u305f\n\n```\nvar angles = [30, 10, 45, 35, 60, 38, 75, 67];\n\nfunction setup() {\n\tcreateCanvas(720, 400); // canvas\u30b5\u30a4\u30ba\n\tnoStroke(); // \u7dda\u306a\u3057\n\tnoLoop(); // \u30eb\u30fc\u30d7\u306a\u3057\n}\n\nfunction draw() {\n\tbackground(100); // \u80cc\u666f\u8272\n\tpieChart(300, angles); // \u95a2\u6570\n}\n\nfunction pieChart(diameter, data) {\n\tvar lastAngle = 0;\n\tfor (var i = 0; i < data.length; i++) {\n\t\tvar gray = map(i, 0, data.length, 0, 255); // \u8272\u3092\u767b\u9332 map(\u5165\u529b\u5024(0, 1, 2...), \u5024\u306e\u73fe\u5728\u306e\u7bc4\u56f2\u306e\u4e0b\u9650, \u5024\u306e\u73fe\u5728\u306e\u7bc4\u56f2\u306e\u4e0a\u9650, \u5024\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u5024\u306e\u4e0b\u9650, \u5024\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u5024\u306e\u4e0a\u9650)\n\t\tfill(gray); // \u5857\u308a\u3064\u3076\u3057\n\t\tarc(width / 2, height / 2, diameter, diameter, lastAngle, lastAngle + radians(angles[i])); // \u5186\u306e\u5909\u5f62\u4f5c\u6210 (\u5186\u306e\u4e2d\u5fc3\u70b9x\u8ef8, \u5186\u306e\u4e2d\u5fc3\u70b9y\u8ef8, \u5186\u306e\u6a2a\u5e45, \u5186\u306e\u7e26\u5e45, angles\u306e\u5024(\u59cb\u307e\u308a), angles\u306e\u4eca\u306e\u5024(\u7d42\u308f\u308a))\n\t\tlastAngle += radians(angles[i]);\u3000// lastAngles\u3092\u66f4\u65b0(\u5186\u306e\u5909\u5f62\u3092\u4f5c\u308b\u305f\u3081)\n\t}\n}\n```\n\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u306f\u6319\u52d5\u3092\u78ba\u8a8d\u3057\u3066\u66f8\u304d\u307e\u3057\u305f\u3002\n\u9593\u9055\u3063\u3066\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\u203bmap()\u306b\u3064\u3044\u3066\u3088\u304f\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u3002\u3002\n\n##\u3067\u304d\u3042\u304c\u308a\u306f\u3053\u3093\u306a\u611f\u3058\n![02_01.jpg](https://qiita-image-store.s3.amazonaws.com/0/132855/e7d762eb-d632-cdf3-4803-c906aba126bf.jpeg)\n\n\u7d9a\u304d\u306f\u307e\u305f\u4eca\u5ea6\n"}