{"context": " More than 1 year has passed since last update.\n[\u899a\u66f8]Otto\u3067\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\n[\u899a\u66f8]Otto\u3067AWS\u306b\u672c\u756a\u74b0\u5883\u69cb\u7bc9\uff06\u30c7\u30d7\u30ed\u30a4\n[\u899a\u66f8]Otto\u3067\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9 (Appfile\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba \u2192 Ruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a)\n\n[\u899a\u66f8]Otto\u3067\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9 (MongoDB\u306eDocker\u30b3\u30f3\u30c6\u30ca\u3092\u52d5\u304b\u3059) \u2190 \u3053\u3053\n\n\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ mkdir -p otto-practice/examples/mongodb\n$ cd otto-practice/examples/mongodb\n\n\n\u8a2d\u5b9a\nAppfile\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nDocker\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001application\u306etype\u306bdocker-external\u3092\u6307\u5b9a\u3057\u3001customization\u306bDocker\u306e\u8a2d\u5b9a\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\nAppfile\napplication {\n    name = \"mongodb\"\n    type = \"docker-external\"\n}\n\ncustomization \"docker\" {\n    image = \"mongo:3.0\"\n    run_args = \"-p 27017:27017\"\n}\n\n\nGithub\u306ehashicorp/otto\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u305d\u306e\u307e\u307e\u4f7f\u304a\u3046\u3068\u3059\u308b\u3068\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n\u3069\u3046\u3084\u3089\u3001customization\u306b\"docker\"\u306e\u8a18\u8ff0\u304c\u5fc5\u8981\u306a\u3088\u3046\u3067\u3059\u3002\nOtto\u306e\u4ed5\u69d8\u3092\u7406\u89e3\u3067\u304d\u3066\u3044\u306a\u3044\u306e\u304b\u3001\u4ed5\u69d8\u304c\u5b89\u5b9a\u3057\u3066\u3044\u306a\u3044\u306e\u304b\u306f\u672a\u78ba\u8a8d\u3067\u3059\u3002\u3002\u3002\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\n\u958b\u767a\u74b0\u5883\u306e\u8a2d\u5b9a(Appfile)\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n$ otto compile\n\n\n\u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9\n\n\u69cb\u7bc9\n\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n$ otto dev\n\n\n\u30b9\u30c6\u30fc\u30bf\u30b9\u78ba\u8a8d\nDev environment\u304cCREATED\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ otto status\n==> App Info\n    Application:    mongodb (docker-external)\n    Project:        mongodb\n    Infrastructure: aws (simple)\n==> Component Status\n    Dev environment: CREATED\n    Infra:           NOT CREATED\n    Build:           NOT BUILT\n    Deploy:          NOT DEPLOYED\n\n\n\u30b3\u30f3\u30c6\u30ca\u78ba\u8a8d\n\u958b\u767a\u74b0\u5883\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001MongoDB\u306e\u30b3\u30f3\u30c6\u30ca\u304c\u52d5\u3044\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ otto dev ssh\n==> Executing SSH. This may take a few seconds...\nWelcome to Ubuntu 12.04 LTS (GNU/Linux 3.2.0-23-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com/\nNew release '14.04.3 LTS' available.\nRun 'do-release-upgrade' to upgrade to it.\n\nWelcome to your Vagrant-built virtual machine.\nLast login: Fri Sep 14 06:23:18 2012 from 10.0.2.2\nvagrant@precise64:~$ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nmongo               3.0                 ca3cf1f47476        10 days ago         261.6 MB\nvagrant@precise64:~$ docker ps -a\nCONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS                      NAMES\n839c09231a0e        mongo:3.0           \"/entrypoint.sh mongo\"   About a minute ago   Up 59 seconds       0.0.0.0:27017->27017/tcp   mongodb\n\n\n\n\u539f\u56e0\u4e0d\u660e\u306e\u30a8\u30e9\u30fc\n\u539f\u56e0\u306f\u4e0d\u660e\u3067\u3059\u304c\u3001\u30b9\u30de\u30db\u306e\u30c6\u30b6\u30ea\u30f3\u30b0\u6a5f\u80fd\u3092\u4f7f\u3063\u305f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067otto dev\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3044\u3001Docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u5931\u6557\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u81ea\u5b85\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u5b9f\u884c\u3057\u305f\u969b\u306b\u306f\u3001\u554f\u984c\u306a\u304f\u5b9f\u884c\u3067\u304d\u307e\u3057\u305f\u3002\n(\u672c\u4ef6\u304c\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u539f\u56e0\u304c\u3042\u308b\u306e\u304b\u3069\u3046\u304b\u306f\u308f\u304b\u308a\u307e\u305b\u3093\u3002\u3002\u3002)\n==> default: Running provisioner: docker...\n    default: Installing Docker (latest) onto machine...\nThe following SSH command responded with a non-zero exit status.\nVagrant assumes that this means the command failed!\n\napt-get install -y --force-yes -q xz-utils lxc-docker -o Dpkg::Options::='--force-confdef' -o Dpkg::Options::='--force-confold'\n\nStdout from the command:\n\nReading package lists...\nBuilding dependency tree...\nReading state information...\nxz-utils is already the newest version.\nThe following extra packages will be installed:\n  aufs-tools cgroup-lite git git-man liberror-perl lxc-docker-1.9.1 patch\nSuggested packages:\n  git-daemon-run git-daemon-sysvinit git-doc git-el git-arch git-cvs git-svn\n  git-email git-gui gitk gitweb diffutils-doc\nThe following NEW packages will be installed:\n  aufs-tools cgroup-lite git git-man liberror-perl lxc-docker lxc-docker-1.9.1\n  patch\n0 upgraded, 8 newly installed, 0 to remove and 181 not upgraded.\nNeed to get 15.4 MB of archives.\nAfter this operation, 46.2 MB of additional disk space will be used.\nGet:1 https://get.docker.com/ubuntu/ docker/main lxc-docker-1.9.1 amd64 1.9.1 [8,495 kB]\nGet:2 http://us.archive.ubuntu.com/ubuntu/ precise/universe aufs-tools amd64 1:3.0+20111101-1ubuntu1 [98.8 kB]\nGet:3 http://us.archive.ubuntu.com/ubuntu/ precise/main liberror-perl all 0.17-1 [23.8 kB]\nGet:4 https://get.docker.com/ubuntu/ docker/main lxc-docker amd64 1.9.1 [2,094 B]\nGet:5 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main git-man all 1:1.7.9.5-1ubuntu0.2 [632 kB]\nGet:6 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main git amd64 1:1.7.9.5-1ubuntu0.2 [6,103 kB]\nGet:7 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main patch amd64 2.6.1-3ubuntu0.1 [80.0 kB]\nGet:8 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main cgroup-lite all 1.1.5 [4,098 B]\nFetched 20.9 MB in 13s (1,561 kB/s)\n\n\nStderr from the command:\n\nstdin: is not a tty\nFailed to fetch http://us.archive.ubuntu.com/ubuntu/pool/universe/a/aufs-tools/aufs-tools_3.0+20111101-1ubuntu1_amd64.deb  Size mismatch\nFailed to fetch http://us.archive.ubuntu.com/ubuntu/pool/main/libe/liberror-perl/liberror-perl_0.17-1_all.deb  Size mismatch\nFailed to fetch http://us.archive.ubuntu.com/ubuntu/pool/main/g/git/git-man_1.7.9.5-1ubuntu0.2_all.deb  Size mismatch\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\n\nError building dev environment: Error executing Vagrant: exit status 1\n\nThe error messages from Vagrant are usually very informative.\nPlease read it carefully and fix any issues it mentions. If\nthe message isn't clear, please report this to the Otto project.\n\n\n\u53c2\u8003\n\nOtto by HashiCorp:\n\n\u4ee5\u4e0a\n1. [[\u899a\u66f8]Otto\u3067\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9](http://qiita.com/neogym/items/c0c3ba87e8535dabe878)\n2. [[\u899a\u66f8]Otto\u3067AWS\u306b\u672c\u756a\u74b0\u5883\u69cb\u7bc9\uff06\u30c7\u30d7\u30ed\u30a4](http://qiita.com/neogym/items/e5e0bbf89df390aa9059)\n3. [[\u899a\u66f8]Otto\u3067\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9 (Appfile\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba \u2192 Ruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a)](http://qiita.com/neogym/items/73ee4bee570963751153)\n4. [[\u899a\u66f8]Otto\u3067\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9 (MongoDB\u306eDocker\u30b3\u30f3\u30c6\u30ca\u3092\u52d5\u304b\u3059)](http://qiita.com/neogym/items/0d7aa2e07ea1da477f2f) \u2190 **\u3053\u3053**\n\n# \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\n\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```bash\n$ mkdir -p otto-practice/examples/mongodb\n$ cd otto-practice/examples/mongodb\n```\n\n# \u8a2d\u5b9a\n\n`Appfile`\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n`Docker`\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001`application`\u306e`type`\u306b`docker-external`\u3092\u6307\u5b9a\u3057\u3001`customization`\u306b`Docker`\u306e\u8a2d\u5b9a\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```text:Appfile\napplication {\n    name = \"mongodb\"\n    type = \"docker-external\"\n}\n\ncustomization \"docker\" {\n    image = \"mongo:3.0\"\n    run_args = \"-p 27017:27017\"\n}\n```\n\n*`Github`\u306e[`hashicorp/otto`](https://github.com/hashicorp/otto)\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u305d\u306e\u307e\u307e\u4f7f\u304a\u3046\u3068\u3059\u308b\u3068\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n\u3069\u3046\u3084\u3089\u3001`customization`\u306b`\"docker\"`\u306e\u8a18\u8ff0\u304c\u5fc5\u8981\u306a\u3088\u3046\u3067\u3059\u3002\n`Otto`\u306e\u4ed5\u69d8\u3092\u7406\u89e3\u3067\u304d\u3066\u3044\u306a\u3044\u306e\u304b\u3001\u4ed5\u69d8\u304c\u5b89\u5b9a\u3057\u3066\u3044\u306a\u3044\u306e\u304b\u306f\u672a\u78ba\u8a8d\u3067\u3059\u3002\u3002\u3002*\n\n# \u30b3\u30f3\u30d1\u30a4\u30eb\n\n\u958b\u767a\u74b0\u5883\u306e\u8a2d\u5b9a(`Appfile`)\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n```bash\n$ otto compile\n```\n\n# \u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9\n\n## \u69cb\u7bc9\n\n\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n```bash\n$ otto dev\n```\n\n## \u30b9\u30c6\u30fc\u30bf\u30b9\u78ba\u8a8d\n\n`Dev environment`\u304c`CREATED`\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash\n$ otto status\n==> App Info\n    Application:    mongodb (docker-external)\n    Project:        mongodb\n    Infrastructure: aws (simple)\n==> Component Status\n    Dev environment: CREATED\n    Infra:           NOT CREATED\n    Build:           NOT BUILT\n    Deploy:          NOT DEPLOYED\n```\n\n## \u30b3\u30f3\u30c6\u30ca\u78ba\u8a8d\n\n\u958b\u767a\u74b0\u5883\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001`MongoDB`\u306e\u30b3\u30f3\u30c6\u30ca\u304c\u52d5\u3044\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash\n$ otto dev ssh\n==> Executing SSH. This may take a few seconds...\nWelcome to Ubuntu 12.04 LTS (GNU/Linux 3.2.0-23-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com/\nNew release '14.04.3 LTS' available.\nRun 'do-release-upgrade' to upgrade to it.\n\nWelcome to your Vagrant-built virtual machine.\nLast login: Fri Sep 14 06:23:18 2012 from 10.0.2.2\nvagrant@precise64:~$ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nmongo               3.0                 ca3cf1f47476        10 days ago         261.6 MB\nvagrant@precise64:~$ docker ps -a\nCONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS                      NAMES\n839c09231a0e        mongo:3.0           \"/entrypoint.sh mongo\"   About a minute ago   Up 59 seconds       0.0.0.0:27017->27017/tcp   mongodb\n\n```\n\n# \u539f\u56e0\u4e0d\u660e\u306e\u30a8\u30e9\u30fc\n\n\u539f\u56e0\u306f\u4e0d\u660e\u3067\u3059\u304c\u3001\u30b9\u30de\u30db\u306e\u30c6\u30b6\u30ea\u30f3\u30b0\u6a5f\u80fd\u3092\u4f7f\u3063\u305f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067`otto dev`\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3044\u3001`Docker`\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u5931\u6557\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u81ea\u5b85\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u5b9f\u884c\u3057\u305f\u969b\u306b\u306f\u3001\u554f\u984c\u306a\u304f\u5b9f\u884c\u3067\u304d\u307e\u3057\u305f\u3002\n(\u672c\u4ef6\u304c\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u539f\u56e0\u304c\u3042\u308b\u306e\u304b\u3069\u3046\u304b\u306f\u308f\u304b\u308a\u307e\u305b\u3093\u3002\u3002\u3002)\n\n```\n==> default: Running provisioner: docker...\n    default: Installing Docker (latest) onto machine...\nThe following SSH command responded with a non-zero exit status.\nVagrant assumes that this means the command failed!\n\napt-get install -y --force-yes -q xz-utils lxc-docker -o Dpkg::Options::='--force-confdef' -o Dpkg::Options::='--force-confold'\n\nStdout from the command:\n\nReading package lists...\nBuilding dependency tree...\nReading state information...\nxz-utils is already the newest version.\nThe following extra packages will be installed:\n  aufs-tools cgroup-lite git git-man liberror-perl lxc-docker-1.9.1 patch\nSuggested packages:\n  git-daemon-run git-daemon-sysvinit git-doc git-el git-arch git-cvs git-svn\n  git-email git-gui gitk gitweb diffutils-doc\nThe following NEW packages will be installed:\n  aufs-tools cgroup-lite git git-man liberror-perl lxc-docker lxc-docker-1.9.1\n  patch\n0 upgraded, 8 newly installed, 0 to remove and 181 not upgraded.\nNeed to get 15.4 MB of archives.\nAfter this operation, 46.2 MB of additional disk space will be used.\nGet:1 https://get.docker.com/ubuntu/ docker/main lxc-docker-1.9.1 amd64 1.9.1 [8,495 kB]\nGet:2 http://us.archive.ubuntu.com/ubuntu/ precise/universe aufs-tools amd64 1:3.0+20111101-1ubuntu1 [98.8 kB]\nGet:3 http://us.archive.ubuntu.com/ubuntu/ precise/main liberror-perl all 0.17-1 [23.8 kB]\nGet:4 https://get.docker.com/ubuntu/ docker/main lxc-docker amd64 1.9.1 [2,094 B]\nGet:5 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main git-man all 1:1.7.9.5-1ubuntu0.2 [632 kB]\nGet:6 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main git amd64 1:1.7.9.5-1ubuntu0.2 [6,103 kB]\nGet:7 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main patch amd64 2.6.1-3ubuntu0.1 [80.0 kB]\nGet:8 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main cgroup-lite all 1.1.5 [4,098 B]\nFetched 20.9 MB in 13s (1,561 kB/s)\n\n\nStderr from the command:\n\nstdin: is not a tty\nFailed to fetch http://us.archive.ubuntu.com/ubuntu/pool/universe/a/aufs-tools/aufs-tools_3.0+20111101-1ubuntu1_amd64.deb  Size mismatch\nFailed to fetch http://us.archive.ubuntu.com/ubuntu/pool/main/libe/liberror-perl/liberror-perl_0.17-1_all.deb  Size mismatch\nFailed to fetch http://us.archive.ubuntu.com/ubuntu/pool/main/g/git/git-man_1.7.9.5-1ubuntu0.2_all.deb  Size mismatch\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\n\nError building dev environment: Error executing Vagrant: exit status 1\n\nThe error messages from Vagrant are usually very informative.\nPlease read it carefully and fix any issues it mentions. If\nthe message isn't clear, please report this to the Otto project.\n```\n\n# \u53c2\u8003\n\n* [Otto by HashiCorp:](https://ottoproject.io/)\n\n\u4ee5\u4e0a\n", "tags": ["otto", "vagrant", "MongoDB"]}