{"context": " More than 1 year has passed since last update.Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u5185\u90e8DB\u3092SQLite\u304b\u3089Realm\u306b\u79fb\u884c\u3057\u305f\u3068\u304d\u306e\u30ce\u30a6\u30cf\u30a6\u307e\u3068\u3081 - Qiita \nRealm\u516c\u5f0f\u306e\u89e3\u8aac\u901a\u308a\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306b build.gradle \u306b\u8a18\u8ff0\u3057\u3066 Realm \u3092\u5c0e\u5165\u3059\u308b\u3068 APK \u30b5\u30a4\u30ba\u304c\u6570MB\u307b\u3069\u5927\u304d\u304f\u306a\u308a\u307e\u3059\u3002\n\nbuild.gradle\ncompile 'io.realm:realm-android:0.82.0'\n\n\n\u3053\u308c\u306f Realm \u306e Core \u90e8\u5206\u304c NDK \u3067\u66f8\u304b\u308c\u3066\u304a\u308a\u3001\u5168\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u7528\u306e .so \u30d5\u30a1\u30a4\u30eb\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002\n\u305d\u3053\u3067\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5225\u306b APK \u3092\u7528\u610f\u3059\u308b(\u5206\u5272\u3059\u308b)\u3053\u3068\u3067 APK \u30b5\u30a4\u30ba\u306e\u5897\u52a0\u91cf\u3092 700 KB \u7a0b\u5ea6\u307e\u3067\u6291\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u516c\u5f0f\u306e\u60c5\u5831\u306f Reducing your Android APK size when using native libraries \u2014 how we made Realm 76% smaller in your apps - Realm is a mobile database: a replacement for SQLite & Core Data \u3067\u3059\u3002\n\nOur distribution package (available on our website under Download->Java) contains a folder called \u2018eclipse\u2019. This folder contains a split version of the Realm library. All you need to do is to copy the small jar file into the libs folder of your app and copy the four folders in the src/main/jniLibs directory.\n\n\nZIP\u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u914d\u7f6e\u3059\u308b\ngradle\u306bcompile\u306e1\u884c\u3067\u5c0e\u5165\u3059\u308b\u306e\u306f\u304a\u624b\u8efd\u306a\u3093\u3067\u3059\u304c\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u5168\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e .so \u30d5\u30a1\u30a4\u30eb\u3092\u542b\u3080 jar \u304c\u5229\u7528\u3055\u308c\u308b\u305f\u3081 APK \u304c\u80a5\u5927\u5316\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u305d\u3053\u3067 ZIP \u7248\u3092\u5c55\u958b\u3057\u3066\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6bce\u306e .so \u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002\n\n\n\u516c\u5f0f\u30b5\u30a4\u30c8 \u306e\u30c8\u30c3\u30d7\u306b\u3042\u308b\u30ea\u30f3\u30af\u304b\u3089 ZIP \u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nZIP \u3092\u5c55\u958b\u3057\u3001eclipse \u30d5\u30a9\u30eb\u30c0\u306b\u3042\u308b realm-0.82.0.jar \u3092\u30a2\u30d7\u30ea\u306e libs \u30d5\u30a9\u30eb\u30c0\u306b\u3001\u5404\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u30d5\u30a9\u30eb\u30c0\u3092 src/main/jniLibs \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n\n\n\nAPK\u5206\u5272\u8a2d\u5b9a\u3092\u884c\u3046\n\u516c\u5f0f\u306b\u66f8\u3044\u3066\u3042\u308b\u3068\u304a\u308a\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\nbuild.gradle\nandroid {\n    // Some other configuration here...\n\n    splits {\n        abi {\n            enable true\n            reset()\n            include 'x86', 'armeabi', 'armeabi-v7a'\n            universalApk false\n        }\n    }\n}\n\n\n\u4e0a\u8a18\u3092\u8a18\u8ff0\u5f8c\u306b \"Sync Project with Gradle Files\" \u3092\u5b9f\u884c\u3059\u308b\u3068 assembleFreeArmabiRelease \u7b49\u306e\u30bf\u30b9\u30af\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6bce\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u30b3\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\n\u4ee5\u964d\u306fPlay\u30b9\u30c8\u30a2\u3067\u516c\u958b\u3059\u308b\u305f\u3081\u306e\u304a\u4f5c\u6cd5\u3067\u3059\u3002\nPlay\u30b9\u30c8\u30a2\u3067\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5225\u306e\u8907\u6570\u306eAPK\u3092\u767b\u9332\u3059\u308b\u5834\u5408\u3001\u5404\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306eAPK\u304c\u7570\u306a\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u30b3\u30fc\u30c9\u3092\u6301\u3064\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u3066\u30d0\u30fc\u30b8\u30e7\u30f3\u30b3\u30fc\u30c9\u3092\u81ea\u52d5\u8a2d\u5b9a\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\nbuild.gradle\next {\n    versionCode = 458\n    versionName = '8.1.2'\n\n    // map for the version code\n    versionCodes = ['armeabi':0, x86:1]\n}\n\n\n\napp/build.gradle\n    android.applicationVariants.all { variant ->\n        // assign different version code for each output\n        variant.outputs.each { output ->\n            def arch = output.getFilter(com.android.build.OutputFile.ABI)\n            output.versionCodeOverride = android.defaultConfig.versionCode * 10 + rootProject.ext.versionCodes.get(arch)\n        }\n    }\n\n\n\u3053\u3046\u3057\u3066\u4f5c\u6210\u3057\u305f APK \u3092\u30b9\u30c8\u30a2\u306e\u30a2\u30c9\u30d0\u30f3\u30b9\u30c9\u30e2\u30fc\u30c9\u306e\u307b\u3046\u3067\u767b\u9332\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u307b\u3046\u307b\u3046\u3001APK\u5206\u5272\u3059\u308b\u3068\u30b9\u30c8\u30a2\u3067\u306f\u3053\u3046\u767b\u9332\u3059\u308b\u306e\u304b\u3002 pic.twitter.com/flSytm49vl\u2014 \u7af9\u5185\u88d5\u662d (@takke) August 3, 2015\n\n\nAPK\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u5909\u66f4\n\u5404\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6bce\u306bAPK\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306b\u79c1\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\nbuild.gradle\n    applicationVariants.all { variant ->\n        if (variant.buildType.name.equals(\"release\")) {\n\n            variant.outputs.each { output ->\n                if (output.outputFile != null && output.outputFile.name.endsWith('.apk')) {\n                    System.println(\"* output filename update : [${variant.buildType.name}]\" +\n                            \"[${variant.productFlavors[0].name}]\" +\n                            \"[${variant.productFlavors[0].applicationId}]\"\n                    )\n\n                    def file = output.outputFile\n                    def d = new java.text.SimpleDateFormat(\"yyyyMMdd_HHmm\").format(new Date())\n                    def flavor = variant.productFlavors[0]\n                    def shortVersionName = defaultConfig.versionName.replaceAll('\\\\.', '')\n                    def arch = output.getFilter(com.android.build.OutputFile.ABI)\n                    def newName = \"TwitPane_${flavor.name}_${shortVersionName}_${d}_${arch}.apk\"\n                    output.outputFile = new File(file.parent, newName)\n                }\n            }\n        }\n    }\n\n\n\n\u53c2\u8003\n\n\nAndroid - Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u5185\u90e8DB\u3092SQLite\u304b\u3089Realm\u306b\u79fb\u884c\u3057\u305f\u3068\u304d\u306e\u30ce\u30a6\u30cf\u30a6\u307e\u3068\u3081 - Qiita \nReducing your Android APK size when using native libraries \u2014 how we made Realm 76% smaller in your apps - Realm is a mobile database: a replacement for SQLite & Core Data\nApk Splits - Android Tools Project Site\n\n[Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u5185\u90e8DB\u3092SQLite\u304b\u3089Realm\u306b\u79fb\u884c\u3057\u305f\u3068\u304d\u306e\u30ce\u30a6\u30cf\u30a6\u307e\u3068\u3081 - Qiita](http://qiita.com/takke/items/a35f278279ce750e4d79) \n\n\nRealm\u516c\u5f0f\u306e\u89e3\u8aac\u901a\u308a\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306b build.gradle \u306b\u8a18\u8ff0\u3057\u3066 Realm \u3092\u5c0e\u5165\u3059\u308b\u3068 APK \u30b5\u30a4\u30ba\u304c\u6570MB\u307b\u3069\u5927\u304d\u304f\u306a\u308a\u307e\u3059\u3002\n\n```groovy:build.gradle\ncompile 'io.realm:realm-android:0.82.0'\n```\n\n\u3053\u308c\u306f Realm \u306e Core \u90e8\u5206\u304c NDK \u3067\u66f8\u304b\u308c\u3066\u304a\u308a\u3001\u5168\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u7528\u306e .so \u30d5\u30a1\u30a4\u30eb\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002\n\n\u305d\u3053\u3067\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5225\u306b APK \u3092\u7528\u610f\u3059\u308b(\u5206\u5272\u3059\u308b)\u3053\u3068\u3067 APK \u30b5\u30a4\u30ba\u306e\u5897\u52a0\u91cf\u3092 700 KB \u7a0b\u5ea6\u307e\u3067\u6291\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u516c\u5f0f\u306e\u60c5\u5831\u306f [Reducing your Android APK size when using native libraries \u2014 how we made Realm 76% smaller in your apps - Realm is a mobile database: a replacement for SQLite & Core Data](https://realm.io/news/reducing-apk-size-native-libraries/) \u3067\u3059\u3002\n\n> Our distribution package (available on our website under Download->Java) contains a folder called \u2018eclipse\u2019. This folder contains a split version of the Realm library. All you need to do is to copy the small jar file into the libs folder of your app and copy the four folders in the src/main/jniLibs directory.\n\n\n# ZIP\u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u914d\u7f6e\u3059\u308b\n\ngradle\u306bcompile\u306e1\u884c\u3067\u5c0e\u5165\u3059\u308b\u306e\u306f\u304a\u624b\u8efd\u306a\u3093\u3067\u3059\u304c\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u5168\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e .so \u30d5\u30a1\u30a4\u30eb\u3092\u542b\u3080 jar \u304c\u5229\u7528\u3055\u308c\u308b\u305f\u3081 APK \u304c\u80a5\u5927\u5316\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\u305d\u3053\u3067 ZIP \u7248\u3092\u5c55\u958b\u3057\u3066\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6bce\u306e .so \u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002\n\n- [\u516c\u5f0f\u30b5\u30a4\u30c8](https://realm.io/) \u306e\u30c8\u30c3\u30d7\u306b\u3042\u308b\u30ea\u30f3\u30af\u304b\u3089 ZIP \u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n- ZIP \u3092\u5c55\u958b\u3057\u3001eclipse \u30d5\u30a9\u30eb\u30c0\u306b\u3042\u308b realm-0.82.0.jar \u3092\u30a2\u30d7\u30ea\u306e libs \u30d5\u30a9\u30eb\u30c0\u306b\u3001\u5404\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u30d5\u30a9\u30eb\u30c0\u3092 src/main/jniLibs \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n![Gyazo - a81c942d2fff3e56fd3fea4bec55ec31.png](http://i.gyazo.com/a81c942d2fff3e56fd3fea4bec55ec31.png)\n\n![Gyazo - 242c886314f7d7f11bc2dec81727f34f.png](http://i.gyazo.com/242c886314f7d7f11bc2dec81727f34f.png)\n\n# APK\u5206\u5272\u8a2d\u5b9a\u3092\u884c\u3046\n\n\u516c\u5f0f\u306b\u66f8\u3044\u3066\u3042\u308b\u3068\u304a\u308a\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```groovy:build.gradle\nandroid {\n    // Some other configuration here...\n\n    splits {\n        abi {\n            enable true\n            reset()\n            include 'x86', 'armeabi', 'armeabi-v7a'\n            universalApk false\n        }\n    }\n}\n```\n\n\u4e0a\u8a18\u3092\u8a18\u8ff0\u5f8c\u306b \"Sync Project with Gradle Files\" \u3092\u5b9f\u884c\u3059\u308b\u3068 assembleFreeArmabiRelease \u7b49\u306e\u30bf\u30b9\u30af\u304c\u3067\u304d\u307e\u3059\u3002\n\n![Gyazo - aef68fd47207bf63ff7a97f614b4f3a2.png](http://i.gyazo.com/aef68fd47207bf63ff7a97f614b4f3a2.png)\n\n\n# \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6bce\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u30b3\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\n\n\u4ee5\u964d\u306fPlay\u30b9\u30c8\u30a2\u3067\u516c\u958b\u3059\u308b\u305f\u3081\u306e\u304a\u4f5c\u6cd5\u3067\u3059\u3002\n\nPlay\u30b9\u30c8\u30a2\u3067\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5225\u306e\u8907\u6570\u306eAPK\u3092\u767b\u9332\u3059\u308b\u5834\u5408\u3001\u5404\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306eAPK\u304c\u7570\u306a\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u30b3\u30fc\u30c9\u3092\u6301\u3064\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u3066\u30d0\u30fc\u30b8\u30e7\u30f3\u30b3\u30fc\u30c9\u3092\u81ea\u52d5\u8a2d\u5b9a\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\n```groovy:build.gradle\next {\n    versionCode = 458\n    versionName = '8.1.2'\n\n    // map for the version code\n    versionCodes = ['armeabi':0, x86:1]\n}\n```\n\n```groovy:app/build.gradle\n    android.applicationVariants.all { variant ->\n        // assign different version code for each output\n        variant.outputs.each { output ->\n            def arch = output.getFilter(com.android.build.OutputFile.ABI)\n            output.versionCodeOverride = android.defaultConfig.versionCode * 10 + rootProject.ext.versionCodes.get(arch)\n        }\n    }\n```\n\n\u3053\u3046\u3057\u3066\u4f5c\u6210\u3057\u305f APK \u3092\u30b9\u30c8\u30a2\u306e\u30a2\u30c9\u30d0\u30f3\u30b9\u30c9\u30e2\u30fc\u30c9\u306e\u307b\u3046\u3067\u767b\u9332\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p lang=\"ja\" dir=\"ltr\">\u307b\u3046\u307b\u3046\u3001APK\u5206\u5272\u3059\u308b\u3068\u30b9\u30c8\u30a2\u3067\u306f\u3053\u3046\u767b\u9332\u3059\u308b\u306e\u304b\u3002 <a href=\"http://t.co/flSytm49vl\">pic.twitter.com/flSytm49vl</a></p>&mdash; \u7af9\u5185\u88d5\u662d (@takke) <a href=\"https://twitter.com/takke/status/628044373725294592\">August 3, 2015</a></blockquote>\n\n\n# APK\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u5909\u66f4\n\n\u5404\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6bce\u306bAPK\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306b\u79c1\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n```groovy:build.gradle\n    applicationVariants.all { variant ->\n        if (variant.buildType.name.equals(\"release\")) {\n\n            variant.outputs.each { output ->\n                if (output.outputFile != null && output.outputFile.name.endsWith('.apk')) {\n                    System.println(\"* output filename update : [${variant.buildType.name}]\" +\n                            \"[${variant.productFlavors[0].name}]\" +\n                            \"[${variant.productFlavors[0].applicationId}]\"\n                    )\n\n                    def file = output.outputFile\n                    def d = new java.text.SimpleDateFormat(\"yyyyMMdd_HHmm\").format(new Date())\n                    def flavor = variant.productFlavors[0]\n                    def shortVersionName = defaultConfig.versionName.replaceAll('\\\\.', '')\n                    def arch = output.getFilter(com.android.build.OutputFile.ABI)\n                    def newName = \"TwitPane_${flavor.name}_${shortVersionName}_${d}_${arch}.apk\"\n                    output.outputFile = new File(file.parent, newName)\n                }\n            }\n        }\n    }\n```\n\n\n# \u53c2\u8003\n- [Android - Twitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u5185\u90e8DB\u3092SQLite\u304b\u3089Realm\u306b\u79fb\u884c\u3057\u305f\u3068\u304d\u306e\u30ce\u30a6\u30cf\u30a6\u307e\u3068\u3081 - Qiita](http://qiita.com/takke/items/a35f278279ce750e4d79) \n- [Reducing your Android APK size when using native libraries \u2014 how we made Realm 76% smaller in your apps - Realm is a mobile database: a replacement for SQLite & Core Data](https://realm.io/news/reducing-apk-size-native-libraries/)\n- [Apk Splits - Android Tools Project Site](http://tools.android.com/tech-docs/new-build-system/user-guide/apk-splits)\n", "tags": ["Android", "Realm"]}