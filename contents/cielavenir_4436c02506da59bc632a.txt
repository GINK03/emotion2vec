{"context": " More than 1 year has passed since last update.\u643a\u5e2f\u3060\u3051\u3067\u66f8\u3044\u305f\u4e0b\u66f8\u304d\uff1ahttp://ideone.com/36z2ZE\n\u30e1\u30e2\u5316\u518d\u5e30\u306b\u3082\u3063\u3066\u3044\u3051\u305f\u306e\u306f\u300c\u9577\u304f\u306a\u308b\u3088\u3046\u306b\u3001\u5897\u3048\u7d9a\u3051\u308b\u3088\u3046\u306b\u300d(140805\u8ffd\u8a18)\u306e\u304a\u304b\u3052\u3060\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\nhena23.rb\n#!/usr/bin/env ruby\n#http://qiita.com/Nabetani/items/7ba11167ea28c929fcf2\n#http://nabetani.sakura.ne.jp/hena/ord23snakemoinc/\nclass Hena23\n    def initialize(a)\n        @a=a\n        @memo={}\n    end\n    def dfs(x,y,nprev)\n        return 0 if x<0||@a[0].size<=x || y<0||@a.size<=y || @a[y][x]<=nprev\n        return @memo[[x,y]]||=[[-1,0],[1,0],[0,-1],[0,1]].map{|_x,_y|\n            dfs(x+_x,y+_y,@a[y][x])+1\n        }.max\n    end\n    def run\n        @a.size.times.lazy.map{|y|\n            @a[0].size.times.lazy.map{|x|\n                dfs(x,y,-1)\n            }.max\n        }.max\n    end\nend\n\nif $0==__FILE__\n    STDOUT.sync=true\n    while gets\n        p Hena23.new($_.chomp.split('/').map{|e|e.split('').map(&:to_i)}).run\n    end\nend\n\n\n\u643a\u5e2f\u3060\u3051\u3067\u66f8\u3044\u305f\u4e0b\u66f8\u304d\uff1ahttp://ideone.com/36z2ZE\n\n\u30e1\u30e2\u5316\u518d\u5e30\u306b\u3082\u3063\u3066\u3044\u3051\u305f\u306e\u306f\u300c\u9577\u304f\u306a\u308b\u3088\u3046\u306b\u3001\u5897\u3048\u7d9a\u3051\u308b\u3088\u3046\u306b\u300d(140805\u8ffd\u8a18)\u306e\u304a\u304b\u3052\u3060\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\n```rb:hena23.rb\n#!/usr/bin/env ruby\n#http://qiita.com/Nabetani/items/7ba11167ea28c929fcf2\n#http://nabetani.sakura.ne.jp/hena/ord23snakemoinc/\nclass Hena23\n\tdef initialize(a)\n\t\t@a=a\n\t\t@memo={}\n\tend\n\tdef dfs(x,y,nprev)\n\t\treturn 0 if x<0||@a[0].size<=x || y<0||@a.size<=y || @a[y][x]<=nprev\n\t\treturn @memo[[x,y]]||=[[-1,0],[1,0],[0,-1],[0,1]].map{|_x,_y|\n\t\t\tdfs(x+_x,y+_y,@a[y][x])+1\n\t\t}.max\n\tend\n\tdef run\n\t\t@a.size.times.lazy.map{|y|\n\t\t\t@a[0].size.times.lazy.map{|x|\n\t\t\t\tdfs(x,y,-1)\n\t\t\t}.max\n\t\t}.max\n\tend\nend\n\nif $0==__FILE__\n\tSTDOUT.sync=true\n\twhile gets\n\t\tp Hena23.new($_.chomp.split('/').map{|e|e.split('').map(&:to_i)}).run\n\tend\nend\n```\n", "tags": ["Ruby", "yhpg", "\u3069\u3046\u66f8\u304f"]}