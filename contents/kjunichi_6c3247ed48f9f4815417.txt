{"context": " More than 1 year has passed since last update.\n\u7a7a\u524d\u306e\u30b7\u30c0\u63cf\u753b\u30d6\u30fc\u30e0\u5230\u6765\uff01\uff1f(^^;)\n\u3042\u306a\u305f\u3082\u5f97\u610f\u306a\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u3067\u30b7\u30c0\u3092\u63cf\u753b\u3057\u3066\u307f\u3088\u3046\uff01\n\n\n\u300c\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u30b7\u30c0\u3092\u63cf\u753b\u3059\u308b\u300d\u306e\u3053\u308c\u307e\u3067\u3068\u4eca\u5f8c\u306e\u4e00\u89a7\n\n\u300c\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u30b7\u30c0\u3092\u63cf\u753b\u3059\u308b\u300d\u4e00\u89a7\n\n\n\u4e45\u3057\u3076\u308a\u306bC\u8a00\u8a9e\u4f7f\u3063\u305f\u6c17\u304c\u3059\u308b\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4ed6\u306b\u3084\u308b\u3053\u3068\u3042\u3093\u3060\u308d\u30fc\u3068\u5468\u56f2\u304b\u3089\u767d\u3044\u76ee\u3067\u898b\u3089\u308c\u308b\u3053\u3068\u3082\u6c17\u306b\u305b\u305a\u3001Emscripten\u7248\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u3084\u3063\u3071\u308a\u3001C\u8a00\u8a9e\u306a\u3060\u3051\u3042\u3063\u3066\u3001WebRuby\u7248\u306e\u6bd4\u3067\u306f\u306a\u3044\u901f\u5ea6\u3067\u3057\u305f\uff08\u9055\n\n\u30b3\u30fc\u30c9\n\ncedar_sdl.cpp\n#include <stdio.h>\n#include <stdlib.h>\n#include <SDL/SDL.h>\n\n#define N 20\n#define WIDTH 500\n#define HEIGHT 500\n\nSDL_Surface *gScreen = NULL;\n\ndouble w1x(double x,double y) {\n  return 0.836 * x + 0.044 * y;\n}\n\ndouble w1y(double x,double y) {\n  return -0.044 * x + 0.836 * y + 0.169;\n}\n\ndouble w2x(double x,double y) {\n  return -0.141 * x + 0.302 * y;\n}\n\ndouble w2y(double x,double y) {\n  return 0.302 * x + 0.141 * y + 0.127;\n}\n\ndouble w3x(double x,double y) {\n  return 0.141 * x - 0.302 * y;\n}\n\ndouble w3y(double x,double y) {\n  return 0.302 * x + 0.141 * y + 0.169;\n}\n\ndouble w4x(double x,double y) {\n  return 0.0;\n}\n\ndouble w4y(double x,double y) {\n  return 0.175337 * y;\n}\n\ndouble getRand() {\n  return (double)rand()/RAND_MAX;\n}\nvoid cedar(int k, double x, double y) {\nif(0<k) {\n\n  //printf(\"%f\\n\",getRand());\n  cedar(k-1,w1x(x, y), w1y(x, y));\n  if(getRand()<0.3) {\n    cedar(k - 1, w2x(x, y), w2y(x, y));\n  }\n  if(getRand()<0.3) {\n    cedar(k - 1, w3x(x, y), w3y(x, y));\n  }\n  if(getRand()<0.3) {\n    cedar(k - 1, w4x(x, y), w4y(x, y));\n  }\n\n} else {\n  // plot\n  int xx;\n  int yy;\n\n  xx = (int)(x*(WIDTH*0.9)+WIDTH/2);\n  yy = (int)(HEIGHT-y*(HEIGHT*0.9));\n\n  *((Uint32*)gScreen->pixels + yy * WIDTH + xx) = SDL_MapRGBA(gScreen->format, 0, 255, 0, 255);\n}\n}\n\nextern \"C\" int main(int argc, char** argv) {\n\n  SDL_Init(SDL_INIT_VIDEO);\n  gScreen = SDL_SetVideoMode(WIDTH, HEIGHT, 32, SDL_SWSURFACE);\n\n  if (SDL_MUSTLOCK(gScreen)) SDL_LockSurface(gScreen);\n\n  cedar(N,0,0);\n\n  if (SDL_MUSTLOCK(gScreen)) SDL_UnlockSurface(gScreen);\n  SDL_Flip(gScreen);\n\n  SDL_Quit();\n\n  return 0;\n}\n\n\n\n\u30d3\u30eb\u30c9\nemcc cedar_sdl.cpp -o cedar.html\nopen cedar.html\n\n\n\u30cd\u30a4\u30c6\u30a3\u30d6\u7248\n\u30bd\u30fc\u30b9\u3092\u898b\u308c\u3070\u5206\u304b\u308b\u901a\u308a\u3001\u4e00\u77ac\u3067\u7d42\u4e86\u3059\u308b\u3051\u3069\u3002\nclang cedar_sdl.cpp `sdl-config --cflags --libs`\n./a.out\n\n\n\u30c7\u30e2\n\nhttp://jsdo.it/kjunichi/bra1\n\n\n\u95a2\u9023\u8a18\u4e8b\n\njsdo.it\u3067Emscripten\u3092\u52d5\u304b\u3059\u3068\u304d\u306e\u30e1\u30e2\n\n>\u7a7a\u524d\u306e\u30b7\u30c0\u63cf\u753b\u30d6\u30fc\u30e0\u5230\u6765\uff01\uff1f(^^;)\n>\u3042\u306a\u305f\u3082\u5f97\u610f\u306a\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u3067\u30b7\u30c0\u3092\u63cf\u753b\u3057\u3066\u307f\u3088\u3046\uff01\n\n# \u300c\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u30b7\u30c0\u3092\u63cf\u753b\u3059\u308b\u300d\u306e\u3053\u308c\u307e\u3067\u3068\u4eca\u5f8c\u306e\u4e00\u89a7\n\n- [\u300c\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u30b7\u30c0\u3092\u63cf\u753b\u3059\u308b\u300d\u4e00\u89a7](http://qiita.com/qt-luigi/items/b22204c7ef73260324bd)\n\n# \u4e45\u3057\u3076\u308a\u306bC\u8a00\u8a9e\u4f7f\u3063\u305f\u6c17\u304c\u3059\u308b\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4ed6\u306b\u3084\u308b\u3053\u3068\u3042\u3093\u3060\u308d\u30fc\u3068\u5468\u56f2\u304b\u3089\u767d\u3044\u76ee\u3067\u898b\u3089\u308c\u308b\u3053\u3068\u3082\u6c17\u306b\u305b\u305a\u3001Emscripten\u7248\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u3084\u3063\u3071\u308a\u3001C\u8a00\u8a9e\u306a\u3060\u3051\u3042\u3063\u3066\u3001[WebRuby\u7248](http://jsdo.it/kjunichi/loKS)\u306e\u6bd4\u3067\u306f\u306a\u3044\u901f\u5ea6\u3067\u3057\u305f\uff08\u9055\n\n\n# \u30b3\u30fc\u30c9\n\n```cpp:cedar_sdl.cpp\n#include <stdio.h>\n#include <stdlib.h>\n#include <SDL/SDL.h>\n\n#define N 20\n#define WIDTH 500\n#define HEIGHT 500\n\nSDL_Surface *gScreen = NULL;\n\ndouble w1x(double x,double y) {\n  return 0.836 * x + 0.044 * y;\n}\n\ndouble w1y(double x,double y) {\n  return -0.044 * x + 0.836 * y + 0.169;\n}\n\ndouble w2x(double x,double y) {\n  return -0.141 * x + 0.302 * y;\n}\n\ndouble w2y(double x,double y) {\n  return 0.302 * x + 0.141 * y + 0.127;\n}\n\ndouble w3x(double x,double y) {\n  return 0.141 * x - 0.302 * y;\n}\n\ndouble w3y(double x,double y) {\n  return 0.302 * x + 0.141 * y + 0.169;\n}\n\ndouble w4x(double x,double y) {\n  return 0.0;\n}\n\ndouble w4y(double x,double y) {\n  return 0.175337 * y;\n}\n\ndouble getRand() {\n  return (double)rand()/RAND_MAX;\n}\nvoid cedar(int k, double x, double y) {\nif(0<k) {\n\n  //printf(\"%f\\n\",getRand());\n  cedar(k-1,w1x(x, y), w1y(x, y));\n  if(getRand()<0.3) {\n    cedar(k - 1, w2x(x, y), w2y(x, y));\n  }\n  if(getRand()<0.3) {\n    cedar(k - 1, w3x(x, y), w3y(x, y));\n  }\n  if(getRand()<0.3) {\n    cedar(k - 1, w4x(x, y), w4y(x, y));\n  }\n\n} else {\n  // plot\n  int xx;\n  int yy;\n\n  xx = (int)(x*(WIDTH*0.9)+WIDTH/2);\n  yy = (int)(HEIGHT-y*(HEIGHT*0.9));\n\n  *((Uint32*)gScreen->pixels + yy * WIDTH + xx) = SDL_MapRGBA(gScreen->format, 0, 255, 0, 255);\n}\n}\n\nextern \"C\" int main(int argc, char** argv) {\n\n  SDL_Init(SDL_INIT_VIDEO);\n  gScreen = SDL_SetVideoMode(WIDTH, HEIGHT, 32, SDL_SWSURFACE);\n\n  if (SDL_MUSTLOCK(gScreen)) SDL_LockSurface(gScreen);\n\n  cedar(N,0,0);\n\n  if (SDL_MUSTLOCK(gScreen)) SDL_UnlockSurface(gScreen);\n  SDL_Flip(gScreen);\n\n  SDL_Quit();\n\n  return 0;\n}\n```\n\n# \u30d3\u30eb\u30c9\n\n```shell-session\nemcc cedar_sdl.cpp -o cedar.html\nopen cedar.html\n```\n\n## \u30cd\u30a4\u30c6\u30a3\u30d6\u7248\n\n\u30bd\u30fc\u30b9\u3092\u898b\u308c\u3070\u5206\u304b\u308b\u901a\u308a\u3001\u4e00\u77ac\u3067\u7d42\u4e86\u3059\u308b\u3051\u3069\u3002\n\n```shell-session\nclang cedar_sdl.cpp `sdl-config --cflags --libs`\n./a.out\n```\n\n# \u30c7\u30e2\n\n- [http://jsdo.it/kjunichi/bra1](http://jsdo.it/kjunichi/bra1)\n\n# \u95a2\u9023\u8a18\u4e8b\n\n- [jsdo.it\u3067Emscripten\u3092\u52d5\u304b\u3059\u3068\u304d\u306e\u30e1\u30e2](http://kjunichi.cocolog-nifty.com/misc/2014/04/jsdoitemscripte.html)\n", "tags": ["Emscripten", "HTML5", "SDL", "C++"]}