{"tags": ["vagrant", "fabric", "VirtualBox"], "context": " More than 1 year has passed since last update.\u3061\u3087\u3063\u3068\u30a4\u30f3\u30d5\u30e9\u7684\u306a\u3053\u3068\u8a66\u3057\u3066\u307e\u3057\u305f\n\u4ee5\u4e0b\u3092\u898b\u305f\u3089\u3001vagrant\u3063\u3066\u4eee\u60f3OS\u3092\u3042\u3063\u3055\u308a\u4f5c\u3063\u3066\u304f\u308c\u308b\u7d20\u6575\u306a\u3082\u306e\u3063\u3066\u77e5\u3063\u305f\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u305f\u304f\u306a\u3063\u305f\n\nvagrant\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u307e\u305a\u3001vagrant\u306fgem\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngem install vagrant\n\n\u3053\u308c\u306f\u3042\u3063\u3055\u308a\u7d42\u4e86\n\neasy_install\n\u305d\u306e\u3042\u3068\u3001fabric\u306e\u524d\u306beasy_install\n  501  curl -O http://peak.telecommunity.com/dist/ez_setup.py\n  502  python ez_setup.py\n  503  which easy_install\n\n\u5165\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\n\u6b21\u306f\u3001fabric\u301c\n\nfabric\n\u3053\u3063\u304b\u3089\u82e6\u6226\nsudo easy_install fabric\n\n\u30a8\u30e9\u30fc\u3002\u30b0\u30b0\u3063\u3066\u5de1\u308a\u5de1\u3063\u3066\u3001\u3053\u308c\u306b\u305f\u3069\u308a\u7740\u3044\u305f\nhttp://qiita.com/oonishin/items/8e61459ef3e7ca08e31a\n\u3063\u3066\u3053\u3068\u3067\nsudo ARCHFLAGS=-Wno-error=unused-command-line-argument-hard-error-in-future easy_install fabric\n\n\u6210\u529f\uff01\n\u3061\u3083\u3093\u3068\u30a8\u30e9\u30fc\u6587\u7406\u89e3\u3057\u3066\u308c\u3070\u3053\u3093\u306a\u82e6\u52b4\u3057\u306a\u304b\u3063\u305f\u306e\u306b\u306d\n\u3058\u3083\u3042\u3001vagrant\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u4f5c\u308a\u307e\u3059\n\nvagrant\u3067\u4f7f\u3048\u308b\u4eee\u60f3\u30de\u30b7\u30f3\u4e00\u89a7\u3092\u898b\u308b\u306b\u306f\n\u4ee5\u4e0b\u306b\u30a2\u30af\u30bb\u30b9\nhttp://www.vagrantbox.es/\n\uff0a\u521d\u671f\u306b\u4f7f\u3046\u30b3\u30de\u30f3\u30c9\u3082\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u3001\u53c2\u8003\u306b\u306a\u308b\uff01\n\nvagrant\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u4f5c\u6210\nserver:~ shiratsu$ vagrant init\nThanks for wanting to use Vagrant! Unfortunately, this is not the way\nto install Vagrant anymore. We now make installers for the various operating\nsystems Vagrant supports.\n\nVagrant is no longer distributed as a RubyGem. Please download the latest\nversion for your operating system from the URL below. If you still wish\nto use the RubyGem version, you can manually install version 1.0.7. Note that\nthe RubyGem version hasn't been updated in over a year and will no longer\nreceive any updates.\n\nPrior to installing Vagrant using the installer, make sure you uninstall\nall your Vagrant gems, since they sometimes conflict.\n\nhttp://www.vagrantup.com\n\nIf you want to learn more about why we don't distribute using RubyGems\nanymore, please read this: http://mitchellh.com/abandoning-rubygems\n\n\u3042\u308c\u3001\u3046\u307e\u304f\u3044\u3063\u3066\u306a\u3044\u3063\u307d\u3044\n\u3088\u304f\u8aad\u3080\u3068\u3001gem\u3060\u3068\u3082\u3046\u30c0\u30e1\u3067\u3001\u81ea\u5206\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u308d\u3063\u3066\u8a00\u3063\u3066\u308b\n\nvagrant\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3084\u308a\u76f4\u3057\n\u3063\u3066\u3053\u3068\u3067\u3001vagrant\u306e\u30b5\u30a4\u30c8\u8a00\u3063\u3066\u3001DL\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nPath\u306f\u3053\u3046\u306a\u3063\u305f\n\nvagrant\u306e\u30d1\u30b9\nserver:~ shiratsu$ which vagrant\n/usr/bin/vagrant\n\n\u3063\u3066\u3053\u3068\u3067\u521d\u671f\u5316\uff01\nserver:~ shiratsu$ vagrant init\nA `Vagrantfile` has been placed in this directory. You are now\nready to `vagrant up` your first virtual environment! Please read\nthe comments in the Vagrantfile as well as documentation on\n`vagrantup.com` for more information on using Vagrant.\n\n\u30a2\u30c3\u30d7\u3057\u3066\u3001\u30ed\u30b0\u30a4\u30f3\nserver:vm_machine shiratsu$ vagrant up\nBringing machine 'default' up with 'virtualbox' provider...\n==> default: Box 'centos_65_minimal' could not be found. Attempting to find and install...\n    default: Box Provider: virtualbox\n    default: Box Version: >= 0\n==> default: Adding box 'centos_65_minimal' (v0) for provider: virtualbox\n    default: Downloading: https://github.com/2creatives/vagrant-centos/releases/download/v6.5.1/centos65-x86_64-20131205.box\n    default: Progress: 15% (Rate: 162k/s, Estimated time remaining: 0:18:39)\n==> default: Successfully added box 'centos_65_minimal' (v0) for 'virtualbox'!\n==> default: Importing base box 'centos_65_minimal'...\n==> default: Matching MAC address for NAT networking...\n==> default: Setting the name of the VM: vm_machine_default_1396666192513_31129\n==> default: Clearing any previously set network interfaces...\n==> default: Preparing network interfaces based on configuration...\n    default: Adapter 1: nat\n==> default: Forwarding ports...\n    default: 22 => 2222 (adapter 1)\n==> default: Booting VM...\n==> default: Waiting for machine to boot. This may take a few minutes...\n    default: SSH address: 127.0.0.1:2222\n    default: SSH username: vagrant\n    default: SSH auth method: private key\n==> default: Machine booted and ready!\n==> default: Checking for guest additions in VM...\n==> default: Mounting shared folders...\n    default: /vagrant => /Users/shiratsu/vm_machine\nserver:vm_machine shiratsu$\nserver:vm_machine shiratsu$ vagrant ssh\n[vagrant@vagrant-centos65 ~]$ exit\nlogout\nConnection to 127.0.0.1 closed.\n\n\u5931\u6557\u3057\u305f\u5834\u5408\u3001\n\nvagrant init\n\n\u306e\u969b\u306b\u3001\u4f7f\u3046\u4eee\u60f3\u30b5\u30fc\u30d0\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\n\u3053\u3093\u306a\u611f\u3058\n\n/usr/bin/vagrant init 20140717_centos\n\n\u3063\u3066\u3053\u3068\u3067\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u7d42\u4e86\n\u6b21\u306bfabfile\u4f5c\u3063\u3066\u3001vagrant\u3067\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\n\nfabric\u304a\u8a66\u3057\nserver:vm_machine shiratsu$ cat fabfile.py\nfrom fabric.api import sudo\n\ndef install_git():\n  sudo(\"yum -y install git\")\n  sudo('yum -y install httpd php php-mbstring')\n\nvagrant\u3067\u306e\u63a5\u7d9a\u60c5\u5831\u304c\u308f\u304b\u3089\u3093\u3068\u5b9f\u884c\u3067\u304d\u306a\u3044\u306e\u3067\u53d6\u5f97\nserver:vm_machine shiratsu$ vagrant ssh-config\nHost default\n  HostName 127.0.0.1\n  User vagrant\n  Port 2222\n  UserKnownHostsFile /dev/null\n  StrictHostKeyChecking no\n  PasswordAuthentication no\n  IdentityFile /Users/shiratsu/.vagrant.d/insecure_private_key\n  IdentitiesOnly yes\n  LogLevel FATAL\n\n\u30aa\u30c3\u30b1\u30fc\u3001\u5b9f\u884c\nserver:vm_machine shiratsu$ fab -H 127.0.0.1 --port 2222 -u vagrant -i ~/.vagrant.d/insecure_private_key install_git\n\n\u8a73\u7d30\u306f\u7701\u7565\u3057\u307e\u3059\u304c\u3001\u7121\u4e8b\u6210\u529f\u3057\u3066\u307e\u3059\n\u3061\u3087\u3063\u3068\u30a4\u30f3\u30d5\u30e9\u7684\u306a\u3053\u3068\u8a66\u3057\u3066\u307e\u3057\u305f\n\u4ee5\u4e0b\u3092\u898b\u305f\u3089\u3001vagrant\u3063\u3066\u4eee\u60f3OS\u3092\u3042\u3063\u3055\u308a\u4f5c\u3063\u3066\u304f\u308c\u308b\u7d20\u6575\u306a\u3082\u306e\u3063\u3066\u77e5\u3063\u305f\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u305f\u304f\u306a\u3063\u305f\n\n# vagrant\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u307e\u305a\u3001vagrant\u306fgem\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\ngem install vagrant\n```\n\n\u3053\u308c\u306f\u3042\u3063\u3055\u308a\u7d42\u4e86\n\n# easy_install\n\n\u305d\u306e\u3042\u3068\u3001fabric\u306e\u524d\u306beasy_install\n\n```\n  501  curl -O http://peak.telecommunity.com/dist/ez_setup.py\n  502  python ez_setup.py\n  503  which easy_install\n```\n\n\u5165\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\n\n\u6b21\u306f\u3001fabric\u301c\n\n# fabric\n\n\u3053\u3063\u304b\u3089\u82e6\u6226\n\n```\nsudo easy_install fabric\n```\n\n\u30a8\u30e9\u30fc\u3002\u30b0\u30b0\u3063\u3066\u5de1\u308a\u5de1\u3063\u3066\u3001\u3053\u308c\u306b\u305f\u3069\u308a\u7740\u3044\u305f\nhttp://qiita.com/oonishin/items/8e61459ef3e7ca08e31a\n\n\u3063\u3066\u3053\u3068\u3067\n\n```\nsudo ARCHFLAGS=-Wno-error=unused-command-line-argument-hard-error-in-future easy_install fabric\n```\n\n\u6210\u529f\uff01\n\n\u3061\u3083\u3093\u3068\u30a8\u30e9\u30fc\u6587\u7406\u89e3\u3057\u3066\u308c\u3070\u3053\u3093\u306a\u82e6\u52b4\u3057\u306a\u304b\u3063\u305f\u306e\u306b\u306d\n\n\u3058\u3083\u3042\u3001vagrant\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u4f5c\u308a\u307e\u3059\n\n# vagrant\u3067\u4f7f\u3048\u308b\u4eee\u60f3\u30de\u30b7\u30f3\u4e00\u89a7\u3092\u898b\u308b\u306b\u306f\n\n\u4ee5\u4e0b\u306b\u30a2\u30af\u30bb\u30b9\nhttp://www.vagrantbox.es/\n\uff0a\u521d\u671f\u306b\u4f7f\u3046\u30b3\u30de\u30f3\u30c9\u3082\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u3001\u53c2\u8003\u306b\u306a\u308b\uff01\n\n\n# vagrant\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u4f5c\u6210\n\n\n```\nserver:~ shiratsu$ vagrant init\nThanks for wanting to use Vagrant! Unfortunately, this is not the way\nto install Vagrant anymore. We now make installers for the various operating\nsystems Vagrant supports.\n\nVagrant is no longer distributed as a RubyGem. Please download the latest\nversion for your operating system from the URL below. If you still wish\nto use the RubyGem version, you can manually install version 1.0.7. Note that\nthe RubyGem version hasn't been updated in over a year and will no longer\nreceive any updates.\n\nPrior to installing Vagrant using the installer, make sure you uninstall\nall your Vagrant gems, since they sometimes conflict.\n\nhttp://www.vagrantup.com\n\nIf you want to learn more about why we don't distribute using RubyGems\nanymore, please read this: http://mitchellh.com/abandoning-rubygems\n```\n\n\u3042\u308c\u3001\u3046\u307e\u304f\u3044\u3063\u3066\u306a\u3044\u3063\u307d\u3044\n\u3088\u304f\u8aad\u3080\u3068\u3001gem\u3060\u3068\u3082\u3046\u30c0\u30e1\u3067\u3001\u81ea\u5206\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u308d\u3063\u3066\u8a00\u3063\u3066\u308b\n\n## vagrant\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3084\u308a\u76f4\u3057\n\n\u3063\u3066\u3053\u3068\u3067\u3001vagrant\u306e\u30b5\u30a4\u30c8\u8a00\u3063\u3066\u3001DL\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nPath\u306f\u3053\u3046\u306a\u3063\u305f\n## vagrant\u306e\u30d1\u30b9\n\n```\nserver:~ shiratsu$ which vagrant\n/usr/bin/vagrant\n```\n\n\u3063\u3066\u3053\u3068\u3067\u521d\u671f\u5316\uff01\n\n```\nserver:~ shiratsu$ vagrant init\nA `Vagrantfile` has been placed in this directory. You are now\nready to `vagrant up` your first virtual environment! Please read\nthe comments in the Vagrantfile as well as documentation on\n`vagrantup.com` for more information on using Vagrant.\n```\n\n\u30a2\u30c3\u30d7\u3057\u3066\u3001\u30ed\u30b0\u30a4\u30f3\n\n```\nserver:vm_machine shiratsu$ vagrant up\nBringing machine 'default' up with 'virtualbox' provider...\n==> default: Box 'centos_65_minimal' could not be found. Attempting to find and install...\n    default: Box Provider: virtualbox\n    default: Box Version: >= 0\n==> default: Adding box 'centos_65_minimal' (v0) for provider: virtualbox\n    default: Downloading: https://github.com/2creatives/vagrant-centos/releases/download/v6.5.1/centos65-x86_64-20131205.box\n    default: Progress: 15% (Rate: 162k/s, Estimated time remaining: 0:18:39)\n==> default: Successfully added box 'centos_65_minimal' (v0) for 'virtualbox'!\n==> default: Importing base box 'centos_65_minimal'...\n==> default: Matching MAC address for NAT networking...\n==> default: Setting the name of the VM: vm_machine_default_1396666192513_31129\n==> default: Clearing any previously set network interfaces...\n==> default: Preparing network interfaces based on configuration...\n    default: Adapter 1: nat\n==> default: Forwarding ports...\n    default: 22 => 2222 (adapter 1)\n==> default: Booting VM...\n==> default: Waiting for machine to boot. This may take a few minutes...\n    default: SSH address: 127.0.0.1:2222\n    default: SSH username: vagrant\n    default: SSH auth method: private key\n==> default: Machine booted and ready!\n==> default: Checking for guest additions in VM...\n==> default: Mounting shared folders...\n    default: /vagrant => /Users/shiratsu/vm_machine\nserver:vm_machine shiratsu$\nserver:vm_machine shiratsu$ vagrant ssh\n[vagrant@vagrant-centos65 ~]$ exit\nlogout\nConnection to 127.0.0.1 closed.\n```\n\u5931\u6557\u3057\u305f\u5834\u5408\u3001\n```\nvagrant init\n```\n\u306e\u969b\u306b\u3001\u4f7f\u3046\u4eee\u60f3\u30b5\u30fc\u30d0\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\n\n\u3053\u3093\u306a\u611f\u3058\n```\n/usr/bin/vagrant init 20140717_centos\n```\n\u3063\u3066\u3053\u3068\u3067\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u7d42\u4e86\n\n\u6b21\u306bfabfile\u4f5c\u3063\u3066\u3001vagrant\u3067\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\n\n## fabric\u304a\u8a66\u3057\n\n```\nserver:vm_machine shiratsu$ cat fabfile.py\nfrom fabric.api import sudo\n\ndef install_git():\n  sudo(\"yum -y install git\")\n  sudo('yum -y install httpd php php-mbstring')\n```\n\nvagrant\u3067\u306e\u63a5\u7d9a\u60c5\u5831\u304c\u308f\u304b\u3089\u3093\u3068\u5b9f\u884c\u3067\u304d\u306a\u3044\u306e\u3067\u53d6\u5f97\n\n```\nserver:vm_machine shiratsu$ vagrant ssh-config\nHost default\n  HostName 127.0.0.1\n  User vagrant\n  Port 2222\n  UserKnownHostsFile /dev/null\n  StrictHostKeyChecking no\n  PasswordAuthentication no\n  IdentityFile /Users/shiratsu/.vagrant.d/insecure_private_key\n  IdentitiesOnly yes\n  LogLevel FATAL\n```\n\n\u30aa\u30c3\u30b1\u30fc\u3001\u5b9f\u884c\n\n```\nserver:vm_machine shiratsu$ fab -H 127.0.0.1 --port 2222 -u vagrant -i ~/.vagrant.d/insecure_private_key install_git\n```\n\n\u8a73\u7d30\u306f\u7701\u7565\u3057\u307e\u3059\u304c\u3001\u7121\u4e8b\u6210\u529f\u3057\u3066\u307e\u3059\n"}