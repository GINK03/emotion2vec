{"context": "\n\n\u6982\u8981\n\u300cC++\u3067\u591a\u6b21\u5143\u914d\u5217\u3092\u4f5c\u308b\u306e\u306f\u6b63\u76f4\u3081\u3093\u3069\u304f\u3055\u3044\u300d\n\u305d\u3093\u306a\u60a9\u307f\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306b\u3001\u81ea\u4f5c\u3067\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u3063\u3066\u3057\u307e\u304a\u3046\u3063\u3066\u8a71\n\u4eca\u65e5\u306f\u591a\u6b21\u5143\u914d\u5217\u30b3\u30f3\u30c6\u30caMulti\u3068MultiVector\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3001\u306f\u3044\n\n\u53ef\u5909\u9577\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\n\u5ba3\u8a00\u6642\u306bMulti<int,3,4,5,...> a;\u3068\u8a00\u3063\u305f\u611f\u3058\u3067\u3001\u5148\u982d\u306b\u306f\u5b9f\u4f53\u5316\u3059\u308b\u578b\u3001\u4ee5\u964d\u306f\u5404\u6b21\u5143\u306e\u8981\u7d20\u6570\u3092\u6301\u3061\u3001int a[3][4][5]\u306b\u4f3c\u305f\u306e\u52d5\u4f5c\u3092\u3059\u308b\u3088\u3046\u306b\u5b9f\u88c5\u3057\u3088\u3046\u3002\n\u4e0d\u5b9a\u500b\u6570\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u3092\u53d6\u308b\u305f\u3081\u306b\u306f\u53ef\u5909\u9577\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u3092\u4f7f\u3046\u3053\u3068\u3067\u89e3\u6c7a\u3059\u308b\u3002(C++11\u3088\u308a)\ntemplate <class... Args>\nclass Variable{}\n\n\u3053\u3053\u3067\u306eArgs\u306f0\u500b\u4ee5\u4e0a\u306e\u578b\u3092\u610f\u5473\u3059\u308b\u3002\ntemplate <std::size_t... Params>\nclass Variable_size_t{}\n\n\u540c\u69d8\u306b\u3057\u3066\u3001\u3053\u3053\u3067\u306eParams\u306f0\u500b\u4ee5\u4e0a\u306estd::size_t\u578b\u306e\u5b9a\u6570\u3092\u610f\u5473\u3059\u308b\u3002\nVariable<int,double,float> v1; //ok\nVariable<int,double>       v2; //ok\nVariable<int>              v3; //ok\nVariable<>                 v4; //ok\nVariable<10>               v5; //NG : missmuch argment type \n\nVariable_size_t<10,20,30> v1; //ok\nVariable_size_t<10,20>    v2; //ok\nVariable_size_t<10>       v3; //ok\nVariable_size_t<>         v4; //ok\nVariable_size_t<int>      v5; //NG : missmuch argment type  \n\n\nArgs\u3084Prams\u306fn\u756a\u76ee\u3092\u81ea\u7531\u306b\u53d6\u308a\u51fa\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u305a\u3001\u5b9f\u88c5\u5074\u306f\u5c55\u958b\u3059\u308b\u3053\u3068\u3057\u304b\u3067\u304d\u306a\u3044\u3002\u305d\u308c\u306b\u4f34\u3063\u3066\u3001\u518d\u5e30\u7684\u306b\u51e6\u7406\u3059\u308b\u3057\u304b\u306a\u3044\u3002\n\u307e\u3042\u3001\u6b21\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3068\u65e9\u3044\u3002\n\ntuple.hpp\n//\u2460\ntemplate <class... Args>\nclass tuple{}\n\n//\u2461\ntemplate <class First,class... Body>\nclass tuple<First,Body...>{\npublic:\n    First value;\n    tuple<Body...> child;\n}\n\n\n\u3042\u3089\u3086\u308b\u578b\u3092\u5f15\u6570\u306b\u53d6\u308c\u308btuple\u30af\u30e9\u30b9\u3092\u5ba3\u8a00\u3059\u308b\uff08\u2460\uff09\ntuple\u306b\u5bfe\u3057\u3066\u7279\u6b8a\u5316\u3001\u6761\u4ef6\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u304c1\u500b\u4ee5\u4e0a\uff08\u2461\uff09\n\u4e00\u3064\u76ee\u306e\u578b\u306e\u307fFirst\u306b\u5165\u308a\u3001\u3042\u3068\u306f\u307e\u3068\u3081\u3066Body\u306b\u7a81\u3063\u8fbc\u307e\u308c\u308b\n\u30e1\u30f3\u30d0\u5909\u6570child\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u304cBody...\u3068\u306a\u3063\u3066\u3044\u308b\u304c\u3001\u3053\u308c\u306f\u53ef\u5909\u9577\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u306e\u5c55\u958b\u3092\u8868\u3059\u3002\u3064\u307e\u308a\u5148\u982d\u3092\u53d6\u308a\u9664\u3044\u305f\u3082\u306e\u3092child\u306b\u6e21\u3059\u3068\u3044\u3046\u3053\u3068\u3067\u3042\u308b\u3002\ntuple<int,float,double>\u306e\u5c55\u958b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n// (1)\nclass tuple<int,float,double>{\npublic:\n    int value;\n    tuple<float,double> child; // (2)\n}\n\n// (2)\nclass tuple<float,double>{\npublic:\n    float value;\n    tuple<double> child; // (3)\n}\n\n// (3)\nclass tuple<double>{\npublic:\n    double value;\n    tuple<> child; // (4)\n}\n\n// (4)\nclass tuple<>{\n}\n\ntuple<int,float,double,std::string> t;\nt.value                   = 10;      //int\nt.child.value             = 10.0f;   //float\nt.child.child.value       = 10.0d;   //double\nt.child.child.child.value = \"Hello\"; //std::string\n\n\u5c55\u958b\u306f\u2461\u304c\u4f55\u5ea6\u3082\u547c\u3070\u308c\u3001\u6700\u5f8c\u306b\u2460\u304c\u4e00\u5ea6\u3060\u3051\u547c\u3070\u308c\u308b\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u308b\u3002\ntuple\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u306b\u4e0e\u3048\u305f\u3082\u306e\u3092\u4e00\u3064\u3065\u3064\u6301\u3064\u578b\u304c\u3001\u8a00\u3063\u3066\u3057\u307e\u3048\u3070\u3001\u5373\u5e2d\u3067\u69cb\u9020\u4f53\u304c\u751f\u6210\u3067\u304d\u308b\u3002\u307e\u3042\u5024\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306e\u4ed5\u65b9\u304c\u5c11\u3005\u9762\u5012\u3060\u304c\u2026\n\u5b9f\u306ftuple\u306f\u6a19\u6e96\u3067\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u3002#include<utility>\u3068\u66f8\u3051\u3070\u3001std::tuple\u3067\u3053\u308c\u3088\u308a\u512a\u79c0\u306atuple\u304c\u4f7f\u7528\u3067\u304d\u308b\u3002\n\u3064\u3044\u3067\u306b\u5148\u307b\u3069\u304b\u3089 ... \u3068\u3044\u3046\u3082\u304c\u591a\u7528\u3055\u308c\u3066\u3044\u308b\u304c\u3001\u3053\u308c\u306f\u524d\u7f6e\u3067\u3042\u308c\u3070pack\u6f14\u7b97\u5b50\u3001\u5f8c\u7f6e\u3067\u3042\u308c\u3070unpack\u6f14\u7b97\u5b50\u3068\u547c\u3070\u308c\u305f\u308a\u547c\u3070\u308c\u306a\u304b\u3063\u305f\u308a\u3002\npack\u6f14\u7b97\u5b50\u306f\u578b\u306e\u5727\u7e2e\u3001unpack\u6f14\u7b97\u5b50\u306f\u578b\u306e\u5c55\u958b\u306a\u3093\u3066\u899a\u3048\u308b\u3068\u3088\u3044\u3002\n\n\u56fa\u5b9a\u9577\u591a\u6b21\u5143\u914d\u5217\u30b3\u30f3\u30c6\u30caMulti\n\u3053\u3093\u306a\u611f\u3058\u3067\u307e\u305a\u306f\u56fa\u5b9a\u9577\u306e\u3082\u306e\u3092\u4f5c\u3063\u3066\u307f\u3088\u3046\n\u3067\u304d\u305f\u3082\u306e\u304c\u3053\u308c\n\nMulti.hpp\ntemplate<class T,std::size_t... Dims>\nclass Multi{\npublic:\n    typedef T           value_type; //\u8981\u7d20\u306e\u30bf\u30a4\u30d7\n    typedef value_type* iterator;   //\u30a4\u30c6\u30ec\u30fc\u30bf\n    typedef value_type  child;      //\u5b50\u914d\u5217\npublic: \n    static const std::size_t   RANK = 0; //\u6b21\u5143\u6570\n    value_type                 _value;   //\u8981\u7d20\npublic:\n\n    //\u30a4\u30c6\u30ec\u30fc\u30bf\n    iterator begin(){\n        return &_value;\n    }\n    iterator end(){\n        return (&_value+1);\n    }\n    //=\u6f14\u7b97\u5b50\u3067\u4ee3\u5165\u53ef\u80fd\n    value_type& operator=(const value_type& rhs){\n        _value = rhs;\n        return _value;\n    }\n    //value_type\u578b\u306b\u6697\u9ed9\u7684\u30ad\u30e3\u30b9\u30c8\u53ef\u80fd\n    operator value_type&(){\n        return _value;\n    }\n};\ntemplate<class T,std::size_t First,std::size_t... Dims>\nclass Multi<T,First,Dims...>{\npublic:\n    typedef T                         value_type; //\u8981\u7d20\u306e\u30bf\u30a4\u30d7\n    typedef value_type*               iterator;   //\u30a4\u30c6\u30ec\u30fc\u30bf\n    typedef Multi<value_type,Dims...> child;      //\u5b50\u914d\u5217\npublic:\n    static constexpr std::size_t RANK = sizeof...(Dims)+1; //\u6b21\u5143\u6570\n    child                        _array[First];            //\u5b50\u914d\u5217\n\npublic:\n    //\u30a4\u30c6\u30ec\u30fc\u30bf\n    iterator begin(){\n        return _array[0].begin();\n    }\n    iterator end(){\n        return _array[First-1].end();\n    }\n    //[]\u6f14\u7b97\u5b50\u3067\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\n    child& operator[](const std::size_t& index){\n        return _array[index];\n    }\n};\n\n\n\n\u307e\u3042\u3053\u3093\u306a\u611f\u3058\u306b\u3001\nbegin()\u3084end()typedefoperator\u306a\u3069\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u306e\u8fba\u308a\u306f\u5168\u90e8\u7121\u8996\u3067\u2026\nstd::size_t\u306b\u306a\u3063\u3066\u3082\u7279\u306b\u5909\u308f\u308a\u306f\u306a\u3044\u3001\u5148\u307b\u3069\u306e\u3088\u3046\u306a\u518d\u5e30\u3067\u30b0\u30eb\u30f3\u30b0\u30eb\u30f3\u3068\u30ed\u30fc\u30ea\u30f3\u30b0\u5c55\u958b\u3057\u306a\u304c\u3089child _array[First];\u3067\u81ea\u8eab\u3092\u6b21\u5143\u6570\u3060\u3051\u6301\u3064\u3002\n\u3064\u3044\u3067\u306bsizeof...(Dims)\u3067Dims\u306e\u5727\u7e2e\u3057\u3066\u308b\u8981\u7d20\u306e\u6570\u3092\u5c55\u958b\u3057\u306a\u3044\u3067\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\nbegin()\u3084end()operator\u306e\u304a\u307e\u3051\u6a5f\u80fd\u3067iterator\u3068[]\u304c\u4f7f\u7528\u3067\u304d\u3001\u7d44\u307f\u8fbc\u307f\u578b\u306b\u4f3c\u305f\u52d5\u4f5c\u304c\u3067\u304d\u308b\u3002\n\nmain.cpp\nMulti<int,3,4,5,6,7,8,9,10> mu;\nmu[2][3][4][5][6][7][8][9] = 0;\nstd::fill(mu.begin(),mu.end(),-1);\nstd::fill(mu[0].begin(),mu[0].end(),6);\n\n\n\u307e\u3055\u306bint mu[3][4][5][6][7][8][9][10]\u3068\u540c\u69d8\u306e\u52d5\u4f5c\u304c\u3067\u304d\u308b\u3002\n\u300c\u3063\u3066\u3001C++\u3067\u3082int mu[3][4][5][6][7][8][9][10];\u306f\u4f7f\u3048\u308b\u3057\u3001\u305d\u3063\u3061\u4f7f\u3063\u305f\u307b\u3046\u304c\u3048\u3048\u3084\u308d\u30dc\u30b1\u300d\n\u307e\u3042\u2026\u3046\u3093\u2026\u4eca\u6c17\u3065\u3044\u305f\u2026\n\n\u53ef\u5909\u9577\u591a\u6b21\u5143\u914d\u5217\u30b3\u30f3\u30c6\u30caMultiVector\n\u3053\u306e\u8a18\u4e8b\u66f8\u3044\u3066\u308b\u6642\u306bint[3][4][5][6][7][8][9][10]\u304c\u6a19\u6e96\u3067\u4f7f\u3048\u308b\u3053\u3068\u601d\u3044\u51fa\u3057\u305f\u306e\u3067\u306f\u3001\u3082\u3046\u53ef\u5909\u9577\u3084\u308b\u3057\u304b\u306a\u3044\u3067\u3059\u306d\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u306b\u6e21\u305b\u308b\u3082\u306e\u306f\u5b9a\u6570 \u3068\u3088\u308a\u9ad8\u4f4d\u306b\u8a55\u4fa1\u3055\u308c\u308bconstexpr\u5909\u6570 \u3057\u304b\u306a\u3044\u306e\u3067\u3001\u4eca\u56de\u306fresize()\u95a2\u6570\u3068\u3044\u3046\u5b9f\u884c\u6642\u306b\u5927\u304d\u3055\u3092\u5909\u3048\u308b\u95a2\u6570\u4f5c\u308d\u3046\u3002\n\u5148\u306eMulti\u306f\u53ef\u5909\u9577\u90e8\u5206\u306e\u6570\u3067\u6b21\u5143\u6570\u3068\u53d6\u5f97\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\u306a\u306e\u3067\u4eca\u56de\u5ba3\u8a00\u306e\u4ed5\u65b9\u306fMultiVector<\u578b,\u6b21\u5143\u6570>\u3068\u3067\u3082\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u304b\u3002\n\nMultiVector.hpp\n#include <vector>\n\n//\u53ef\u5909\u9577\u591a\u6b21\u5143\u914d\u5217\u30b3\u30f3\u30c6\u30ca\ntemplate<class T,std::size_t Dims>\nclass MultiVector{\npublic:\n    typedef T                     value_type; //\u8981\u7d20\u306e\u30bf\u30a4\u30d7\n    typedef MultiVector<T,Dims-1> child;      //\u5b50\u914d\u5217\u306e\u578b\npublic:\n    std::vector<child> _array; //\u5b50\u914d\u5217\n\n    //\u914d\u5217\u306e\u5bb9\u91cf\u306e\u78ba\u4fdd\n    template<class... Args>\n    void resize(std::size_t first ,Args... body){\n        _array.resize(first);\n        for(child& c:_array){\n            c.resize(body...);\n        }\n    };\n    //[]\u6f14\u7b97\u5b50\u3067\u306e\u30a2\u30af\u30bb\u30b9\n    child& operator[](const std::size_t& index){\n    return _array[index];\n    }\n\n};\n//\u914d\u5217\u7d42\u7aef\u3067\u7279\u6b8a\u5316\ntemplate<class T>\nclass MultiVector<T,0>{\npublic:\n    typedef T value_type; //\u8981\u7d20\u306e\u30bf\u30a4\u30d7\n    typedef T child;      //\u5b50\u914d\u5217\u306e\u30bf\u30a4\u30d7\npublic:\n    T _value; //\u8981\u7d20\n\n    void resize(){\n    };\n\n    //=\u6f14\u7b97\u5b50\u3067\u4ee3\u5165\u53ef\u80fd\n    value_type& operator=(const value_type& rhs){   \n        _value = rhs;\n        return _value;\n    }\n    //value_type\u306b\u6697\u9ed9\u7684\u30ad\u30e3\u30b9\u30c8\u53ef\u80fd\n    operator value_type&(){\n        return _value;\n    }\n};\n\n\n\u5148\u306eMulti\u3068\u540c\u69d8\u306b\u518d\u5e30\u547c\u51fa\u3057\u306b\u3088\u308b\u5b9f\u88c5\u3001std::vector\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u53ef\u5909\u9577\u914d\u5217\u306b\u3057\u305f\u3002\n\u53ef\u5909\u9577\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u306f\u30e1\u30f3\u30d0\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u95a2\u6570\u306b\u3082\u4f7f\u7528\u3067\u304d\u308b\u3002resize()\u306eArgs\u304c\u3059\u3079\u3066std::size_t\u3067\u3042\u308b\u3053\u3068\u306f\u3001\u3053\u306e\u6642\u70b9\u3067\u306f\u4fdd\u8a3c\u3055\u308c\u3066\u3044\u306a\u3044\u304c\u3001\u518d\u5e30\u547c\u51fa\u3057\u304b\u3064\u7d42\u7aef\u304c\u5f15\u6570\u306a\u3057\u3067\u3042\u308b\u3053\u3068\u306b\u3088\u3063\u3066std::size_t\u4ee5\u5916\u306e\u3082\u306e\u3092\u5165\u308c\u308b\u3068\u3001\u3069\u3053\u304b\u3067\u30a8\u30e9\u30fc\u3092\u5410\u304f\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\u307e\u305f\u3001\u3053\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u306f\u3059\u3079\u3066\u306e\u8981\u7d20\u304c\u30e1\u30e2\u30ea\u4e0a\u3067\u9023\u7d9a\u3057\u3066\u3044\u308b\u3068\u306f\u9650\u3089\u306a\u3044\u3002\u3088\u3063\u3066\u5358\u7d14\u306b\u5148\u982d\u3068\u7d42\u7aef\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308b\u3060\u3051\u3067iterator\u306b\u306a\u308bMulti\u3068\u306f\u9055\u3044\u3001\u3088\u308a\u9ad8\u5ea6\u306a\u5236\u5fa1\u69cb\u6587\u3092\u6301\u3064iterator\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067MultiVector\u306fiterator\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u3002\n\n\u307e\u3068\u3081\n\u53ef\u5909\u9577\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u7121\u9650\u306e\u5f15\u6570\u3092\u6271\u3048\u3001\u3088\u308a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u8c4a\u304b\u306b\u306a\u308b\u53cd\u9762\u3001\u5b9f\u88c5\u306f\u518d\u5e30\u3068\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u7279\u6b8a\u5316\u3092\u591a\u304f\u4f7f\u7528\u3059\u308b\u305f\u3081\u3001\u5b9f\u88c5\u306f\u5c11\u3005\u96e3\u3057\u304f\u306a\u308a\u53ef\u8aad\u6027\u3082\u843d\u3061\u308b\u3002\n\u53ef\u5909\u9577\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u95a2\u6570\u306b\u3082\u4f7f\u7528\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u308c\u3067printf\u30e2\u30c9\u30ad\u3092\u3064\u304f\u308b\u3053\u3068\u3082\u3082\u3061\u308d\u3093\u3067\u304d\u308b\u306e\u3067\u3001\u305c\u3072\u6311\u6226\u3057\u3066\u307f\u3066\u307b\u3057\u3044\u3002\n\u306a\u3093\u3067\u6b63\u6708\u304b\u3089\u3053\u3093\u306a\u8a18\u4e8b\u66f8\u3044\u3066\u308b\u3093\u3060\u2026\n\n\u8ffd\u8a18:2016\u5e747\u670820\u65e5\n\nMulti\u30af\u30e9\u30b9\u306e\u30a4\u30c6\u30ec\u30fc\u30bf\u306eend\u306e\u51e6\u7406\u3092\u4fee\u6b63\nRANK\u30e1\u30f3\u30d0\u5909\u6570\u306e\u8a08\u7b97\u5f0f\u3092\u4fee\u6b63\n\n#\u6982\u8981\n**\u300cC++\u3067\u591a\u6b21\u5143\u914d\u5217\u3092\u4f5c\u308b\u306e\u306f\u6b63\u76f4\u3081\u3093\u3069\u304f\u3055\u3044\u300d**\n\u305d\u3093\u306a\u60a9\u307f\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306b\u3001\u81ea\u4f5c\u3067\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u3063\u3066\u3057\u307e\u304a\u3046\u3063\u3066\u8a71\n\u4eca\u65e5\u306f\u591a\u6b21\u5143\u914d\u5217\u30b3\u30f3\u30c6\u30ca`Multi`\u3068`MultiVector`\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3001\u306f\u3044\n\n#\u53ef\u5909\u9577\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\n\u5ba3\u8a00\u6642\u306b`Multi<int,3,4,5,...> a;`\u3068\u8a00\u3063\u305f\u611f\u3058\u3067\u3001\u5148\u982d\u306b\u306f\u5b9f\u4f53\u5316\u3059\u308b\u578b\u3001\u4ee5\u964d\u306f\u5404\u6b21\u5143\u306e\u8981\u7d20\u6570\u3092\u6301\u3061\u3001`int a[3][4][5]`\u306b\u4f3c\u305f\u306e\u52d5\u4f5c\u3092\u3059\u308b\u3088\u3046\u306b\u5b9f\u88c5\u3057\u3088\u3046\u3002\n\n\u4e0d\u5b9a\u500b\u6570\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u3092\u53d6\u308b\u305f\u3081\u306b\u306f**\u53ef\u5909\u9577\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570**\u3092\u4f7f\u3046\u3053\u3068\u3067\u89e3\u6c7a\u3059\u308b\u3002(C++11\u3088\u308a)\n\n```cpp\ntemplate <class... Args>\nclass Variable{}\n```\n\u3053\u3053\u3067\u306e`Args`\u306f**0\u500b\u4ee5\u4e0a\u306e\u578b**\u3092\u610f\u5473\u3059\u308b\u3002\n\n```cpp\ntemplate <std::size_t... Params>\nclass Variable_size_t{}\n```\n\u540c\u69d8\u306b\u3057\u3066\u3001\u3053\u3053\u3067\u306e`Params`\u306f**0\u500b\u4ee5\u4e0a\u306estd::size_t\u578b\u306e\u5b9a\u6570**\u3092\u610f\u5473\u3059\u308b\u3002\n\n```cpp\nVariable<int,double,float> v1; //ok\nVariable<int,double>       v2; //ok\nVariable<int>              v3; //ok\nVariable<>                 v4; //ok\nVariable<10>               v5; //NG : missmuch argment type \n\nVariable_size_t<10,20,30> v1; //ok\nVariable_size_t<10,20>    v2; //ok\nVariable_size_t<10>       v3; //ok\nVariable_size_t<>         v4; //ok\nVariable_size_t<int>      v5; //NG : missmuch argment type  \n\n```\n\n`Args`\u3084`Prams`\u306fn\u756a\u76ee\u3092\u81ea\u7531\u306b\u53d6\u308a\u51fa\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u305a\u3001\u5b9f\u88c5\u5074\u306f**\u5c55\u958b**\u3059\u308b\u3053\u3068\u3057\u304b\u3067\u304d\u306a\u3044\u3002\u305d\u308c\u306b\u4f34\u3063\u3066\u3001**\u518d\u5e30\u7684\u306b\u51e6\u7406**\u3059\u308b\u3057\u304b\u306a\u3044\u3002\n\u307e\u3042\u3001\u6b21\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3068\u65e9\u3044\u3002\n\n```cpp:tuple.hpp\n//\u2460\ntemplate <class... Args>\nclass tuple{}\n\n//\u2461\ntemplate <class First,class... Body>\nclass tuple<First,Body...>{\npublic:\n    First value;\n    tuple<Body...> child;\n}\n```\n\u3042\u3089\u3086\u308b\u578b\u3092\u5f15\u6570\u306b\u53d6\u308c\u308b`tuple`\u30af\u30e9\u30b9\u3092\u5ba3\u8a00\u3059\u308b\uff08\u2460\uff09\n`tuple`\u306b\u5bfe\u3057\u3066**\u7279\u6b8a\u5316**\u3001\u6761\u4ef6\u306f**\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u304c1\u500b\u4ee5\u4e0a**\uff08\u2461\uff09\n\u4e00\u3064\u76ee\u306e\u578b\u306e\u307f`First`\u306b\u5165\u308a\u3001\u3042\u3068\u306f\u307e\u3068\u3081\u3066Body\u306b\u7a81\u3063\u8fbc\u307e\u308c\u308b\n\u30e1\u30f3\u30d0\u5909\u6570child\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u304c`Body...`\u3068\u306a\u3063\u3066\u3044\u308b\u304c\u3001\u3053\u308c\u306f\u53ef\u5909\u9577\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u306e**\u5c55\u958b**\u3092\u8868\u3059\u3002\u3064\u307e\u308a**\u5148\u982d\u3092\u53d6\u308a\u9664\u3044\u305f\u3082\u306e\u3092child\u306b\u6e21\u3059**\u3068\u3044\u3046\u3053\u3068\u3067\u3042\u308b\u3002\n\n`tuple<int,float,double>`\u306e\u5c55\u958b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n```cpp\n// (1)\nclass tuple<int,float,double>{\npublic:\n    int value;\n    tuple<float,double> child; // (2)\n}\n\n// (2)\nclass tuple<float,double>{\npublic:\n    float value;\n    tuple<double> child; // (3)\n}\n\n// (3)\nclass tuple<double>{\npublic:\n    double value;\n    tuple<> child; // (4)\n}\n\n// (4)\nclass tuple<>{\n}\n```\n\n```cpp\ntuple<int,float,double,std::string> t;\nt.value                   = 10;      //int\nt.child.value             = 10.0f;   //float\nt.child.child.value       = 10.0d;   //double\nt.child.child.child.value = \"Hello\"; //std::string\n```\n\u5c55\u958b\u306f\u2461\u304c\u4f55\u5ea6\u3082\u547c\u3070\u308c\u3001\u6700\u5f8c\u306b\u2460\u304c\u4e00\u5ea6\u3060\u3051\u547c\u3070\u308c\u308b\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n`tuple`\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u306b\u4e0e\u3048\u305f\u3082\u306e\u3092\u4e00\u3064\u3065\u3064\u6301\u3064\u578b\u304c\u3001\u8a00\u3063\u3066\u3057\u307e\u3048\u3070\u3001**\u5373\u5e2d\u3067\u69cb\u9020\u4f53\u304c\u751f\u6210\u3067\u304d\u308b**\u3002\u307e\u3042\u5024\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306e\u4ed5\u65b9\u304c\u5c11\u3005\u9762\u5012\u3060\u304c\u2026\n\u5b9f\u306ftuple\u306f\u6a19\u6e96\u3067\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u3002`#include<utility>`\u3068\u66f8\u3051\u3070\u3001`std::tuple`\u3067\u3053\u308c\u3088\u308a\u512a\u79c0\u306atuple\u304c\u4f7f\u7528\u3067\u304d\u308b\u3002\n\n\u3064\u3044\u3067\u306b\u5148\u307b\u3069\u304b\u3089 **`...`** \u3068\u3044\u3046\u3082\u304c\u591a\u7528\u3055\u308c\u3066\u3044\u308b\u304c\u3001\u3053\u308c\u306f\u524d\u7f6e\u3067\u3042\u308c\u3070**pack\u6f14\u7b97\u5b50**\u3001\u5f8c\u7f6e\u3067\u3042\u308c\u3070**unpack\u6f14\u7b97\u5b50**\u3068\u547c\u3070\u308c\u305f\u308a\u547c\u3070\u308c\u306a\u304b\u3063\u305f\u308a\u3002\npack\u6f14\u7b97\u5b50\u306f\u578b\u306e\u5727\u7e2e\u3001unpack\u6f14\u7b97\u5b50\u306f\u578b\u306e\u5c55\u958b\u306a\u3093\u3066\u899a\u3048\u308b\u3068\u3088\u3044\u3002\n\n#\u56fa\u5b9a\u9577\u591a\u6b21\u5143\u914d\u5217\u30b3\u30f3\u30c6\u30caMulti\n\u3053\u3093\u306a\u611f\u3058\u3067\u307e\u305a\u306f\u56fa\u5b9a\u9577\u306e\u3082\u306e\u3092\u4f5c\u3063\u3066\u307f\u3088\u3046\n\u3067\u304d\u305f\u3082\u306e\u304c\u3053\u308c\n\n```cpp:Multi.hpp\ntemplate<class T,std::size_t... Dims>\nclass Multi{\npublic:\n\ttypedef T           value_type; //\u8981\u7d20\u306e\u30bf\u30a4\u30d7\n\ttypedef value_type* iterator;   //\u30a4\u30c6\u30ec\u30fc\u30bf\n\ttypedef value_type  child;      //\u5b50\u914d\u5217\npublic:\t\n\tstatic const std::size_t   RANK = 0; //\u6b21\u5143\u6570\n\tvalue_type                 _value;   //\u8981\u7d20\npublic:\n\n\t//\u30a4\u30c6\u30ec\u30fc\u30bf\n\titerator begin(){\n\t\treturn &_value;\n\t}\n\titerator end(){\n\t\treturn (&_value+1);\n\t}\n\t//=\u6f14\u7b97\u5b50\u3067\u4ee3\u5165\u53ef\u80fd\n\tvalue_type& operator=(const value_type& rhs){\n\t\t_value = rhs;\n\t\treturn _value;\n\t}\n\t//value_type\u578b\u306b\u6697\u9ed9\u7684\u30ad\u30e3\u30b9\u30c8\u53ef\u80fd\n\toperator value_type&(){\n\t\treturn _value;\n\t}\n};\ntemplate<class T,std::size_t First,std::size_t... Dims>\nclass Multi<T,First,Dims...>{\npublic:\n\ttypedef T                         value_type; //\u8981\u7d20\u306e\u30bf\u30a4\u30d7\n\ttypedef value_type*               iterator;   //\u30a4\u30c6\u30ec\u30fc\u30bf\n\ttypedef Multi<value_type,Dims...> child;      //\u5b50\u914d\u5217\npublic:\n\tstatic constexpr std::size_t RANK = sizeof...(Dims)+1; //\u6b21\u5143\u6570\n\tchild                        _array[First];            //\u5b50\u914d\u5217\n\npublic:\n\t//\u30a4\u30c6\u30ec\u30fc\u30bf\n\titerator begin(){\n\t\treturn _array[0].begin();\n\t}\n\titerator end(){\n\t\treturn _array[First-1].end();\n\t}\n\t//[]\u6f14\u7b97\u5b50\u3067\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\n\tchild& operator[](const std::size_t& index){\n\t\treturn _array[index];\n\t}\n};\n\n```\n\u307e\u3042\u3053\u3093\u306a\u611f\u3058\u306b\u3001\n`begin()`\u3084`end()``typedef``operator`\u306a\u3069\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u306e\u8fba\u308a\u306f\u5168\u90e8\u7121\u8996\u3067\u2026\n`std::size_t`\u306b\u306a\u3063\u3066\u3082\u7279\u306b\u5909\u308f\u308a\u306f\u306a\u3044\u3001\u5148\u307b\u3069\u306e\u3088\u3046\u306a\u518d\u5e30\u3067\u30b0\u30eb\u30f3\u30b0\u30eb\u30f3\u3068\u30ed\u30fc\u30ea\u30f3\u30b0\u5c55\u958b\u3057\u306a\u304c\u3089`child _array[First];`\u3067\u81ea\u8eab\u3092\u6b21\u5143\u6570\u3060\u3051\u6301\u3064\u3002\n\u3064\u3044\u3067\u306b`sizeof...(Dims)`\u3067`Dims`\u306e\u5727\u7e2e\u3057\u3066\u308b\u8981\u7d20\u306e\u6570\u3092\u5c55\u958b\u3057\u306a\u3044\u3067\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n`begin()`\u3084`end()``operator`\u306e\u304a\u307e\u3051\u6a5f\u80fd\u3067`iterator`\u3068`[]`\u304c\u4f7f\u7528\u3067\u304d\u3001\u7d44\u307f\u8fbc\u307f\u578b\u306b\u4f3c\u305f\u52d5\u4f5c\u304c\u3067\u304d\u308b\u3002\n\n```cpp:main.cpp\nMulti<int,3,4,5,6,7,8,9,10> mu;\nmu[2][3][4][5][6][7][8][9] = 0;\nstd::fill(mu.begin(),mu.end(),-1);\nstd::fill(mu[0].begin(),mu[0].end(),6);\n```\n\u307e\u3055\u306b`int mu[3][4][5][6][7][8][9][10]`\u3068\u540c\u69d8\u306e\u52d5\u4f5c\u304c\u3067\u304d\u308b\u3002\n\n**\u300c\u3063\u3066\u3001C++\u3067\u3082`int mu[3][4][5][6][7][8][9][10];`\u306f\u4f7f\u3048\u308b\u3057\u3001\u305d\u3063\u3061\u4f7f\u3063\u305f\u307b\u3046\u304c\u3048\u3048\u3084\u308d\u30dc\u30b1\u300d**\n\n\u307e\u3042\u2026\u3046\u3093\u2026\u4eca\u6c17\u3065\u3044\u305f\u2026\n\n#\u53ef\u5909\u9577\u591a\u6b21\u5143\u914d\u5217\u30b3\u30f3\u30c6\u30caMultiVector\n\u3053\u306e\u8a18\u4e8b\u66f8\u3044\u3066\u308b\u6642\u306b`int[3][4][5][6][7][8][9][10]`\u304c\u6a19\u6e96\u3067\u4f7f\u3048\u308b\u3053\u3068\u601d\u3044\u51fa\u3057\u305f\u306e\u3067\u306f\u3001\u3082\u3046\u53ef\u5909\u9577\u3084\u308b\u3057\u304b\u306a\u3044\u3067\u3059\u306d\u3002\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u306b\u6e21\u305b\u308b\u3082\u306e\u306f**\u5b9a\u6570** ~~\u3068\u3088\u308a\u9ad8\u4f4d\u306b\u8a55\u4fa1\u3055\u308c\u308bconstexpr\u5909\u6570~~ \u3057\u304b\u306a\u3044\u306e\u3067\u3001\u4eca\u56de\u306f`resize()`\u95a2\u6570\u3068\u3044\u3046**\u5b9f\u884c\u6642\u306b**\u5927\u304d\u3055\u3092\u5909\u3048\u308b\u95a2\u6570\u4f5c\u308d\u3046\u3002\n\u5148\u306eMulti\u306f\u53ef\u5909\u9577\u90e8\u5206\u306e\u6570\u3067\u6b21\u5143\u6570\u3068\u53d6\u5f97\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\u306a\u306e\u3067\u4eca\u56de\u5ba3\u8a00\u306e\u4ed5\u65b9\u306f`MultiVector<\u578b,\u6b21\u5143\u6570>`\u3068\u3067\u3082\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u304b\u3002\n\n```cpp:MultiVector.hpp\n#include <vector>\n\n//\u53ef\u5909\u9577\u591a\u6b21\u5143\u914d\u5217\u30b3\u30f3\u30c6\u30ca\ntemplate<class T,std::size_t Dims>\nclass MultiVector{\npublic:\n\ttypedef T                     value_type; //\u8981\u7d20\u306e\u30bf\u30a4\u30d7\n\ttypedef MultiVector<T,Dims-1> child;      //\u5b50\u914d\u5217\u306e\u578b\npublic:\n\tstd::vector<child> _array; //\u5b50\u914d\u5217\n\n\t//\u914d\u5217\u306e\u5bb9\u91cf\u306e\u78ba\u4fdd\n\ttemplate<class... Args>\n\tvoid resize(std::size_t first ,Args... body){\n\t\t_array.resize(first);\n\t\tfor(child& c:_array){\n\t\t\tc.resize(body...);\n\t\t}\n\t};\n\t//[]\u6f14\u7b97\u5b50\u3067\u306e\u30a2\u30af\u30bb\u30b9\n\tchild& operator[](const std::size_t& index){\n\treturn _array[index];\n\t}\n\n};\n//\u914d\u5217\u7d42\u7aef\u3067\u7279\u6b8a\u5316\ntemplate<class T>\nclass MultiVector<T,0>{\npublic:\n\ttypedef T value_type; //\u8981\u7d20\u306e\u30bf\u30a4\u30d7\n\ttypedef T child;      //\u5b50\u914d\u5217\u306e\u30bf\u30a4\u30d7\npublic:\n\tT _value; //\u8981\u7d20\n\t\n\tvoid resize(){\n\t};\n\n\t//=\u6f14\u7b97\u5b50\u3067\u4ee3\u5165\u53ef\u80fd\n\tvalue_type& operator=(const value_type& rhs){\t\n\t\t_value = rhs;\n\t\treturn _value;\n\t}\n\t//value_type\u306b\u6697\u9ed9\u7684\u30ad\u30e3\u30b9\u30c8\u53ef\u80fd\n\toperator value_type&(){\n\t\treturn _value;\n\t}\n};\n```\n\n\u5148\u306e`Multi`\u3068\u540c\u69d8\u306b\u518d\u5e30\u547c\u51fa\u3057\u306b\u3088\u308b\u5b9f\u88c5\u3001`std::vector`\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u53ef\u5909\u9577\u914d\u5217\u306b\u3057\u305f\u3002\n\u53ef\u5909\u9577\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u306f\u30e1\u30f3\u30d0\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u95a2\u6570\u306b\u3082\u4f7f\u7528\u3067\u304d\u308b\u3002`resize()`\u306e`Args`\u304c\u3059\u3079\u3066`std::size_t`\u3067\u3042\u308b\u3053\u3068\u306f\u3001\u3053\u306e\u6642\u70b9\u3067\u306f\u4fdd\u8a3c\u3055\u308c\u3066\u3044\u306a\u3044\u304c\u3001\u518d\u5e30\u547c\u51fa\u3057\u304b\u3064\u7d42\u7aef\u304c\u5f15\u6570\u306a\u3057\u3067\u3042\u308b\u3053\u3068\u306b\u3088\u3063\u3066`std::size_t`\u4ee5\u5916\u306e\u3082\u306e\u3092\u5165\u308c\u308b\u3068\u3001\u3069\u3053\u304b\u3067\u30a8\u30e9\u30fc\u3092\u5410\u304f\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n\u307e\u305f\u3001\u3053\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u306f\u3059\u3079\u3066\u306e\u8981\u7d20\u304c\u30e1\u30e2\u30ea\u4e0a\u3067\u9023\u7d9a\u3057\u3066\u3044\u308b\u3068\u306f\u9650\u3089\u306a\u3044\u3002\u3088\u3063\u3066\u5358\u7d14\u306b\u5148\u982d\u3068\u7d42\u7aef\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308b\u3060\u3051\u3067iterator\u306b\u306a\u308bMulti\u3068\u306f\u9055\u3044\u3001\u3088\u308a\u9ad8\u5ea6\u306a\u5236\u5fa1\u69cb\u6587\u3092\u6301\u3064iterator\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067MultiVector\u306fiterator\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u3002\n\n#\u307e\u3068\u3081\n\n\u53ef\u5909\u9577\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u7121\u9650\u306e\u5f15\u6570\u3092\u6271\u3048\u3001\u3088\u308a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u8c4a\u304b\u306b\u306a\u308b\u53cd\u9762\u3001\u5b9f\u88c5\u306f\u518d\u5e30\u3068\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u7279\u6b8a\u5316\u3092\u591a\u304f\u4f7f\u7528\u3059\u308b\u305f\u3081\u3001\u5b9f\u88c5\u306f\u5c11\u3005\u96e3\u3057\u304f\u306a\u308a\u53ef\u8aad\u6027\u3082\u843d\u3061\u308b\u3002\n\u53ef\u5909\u9577\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u95a2\u6570\u306b\u3082\u4f7f\u7528\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u308c\u3067printf\u30e2\u30c9\u30ad\u3092\u3064\u304f\u308b\u3053\u3068\u3082\u3082\u3061\u308d\u3093\u3067\u304d\u308b\u306e\u3067\u3001\u305c\u3072\u6311\u6226\u3057\u3066\u307f\u3066\u307b\u3057\u3044\u3002\n\n\u306a\u3093\u3067\u6b63\u6708\u304b\u3089\u3053\u3093\u306a\u8a18\u4e8b\u66f8\u3044\u3066\u308b\u3093\u3060\u2026\n\n---\n\u8ffd\u8a18:2016\u5e747\u670820\u65e5\n\n* Multi\u30af\u30e9\u30b9\u306e\u30a4\u30c6\u30ec\u30fc\u30bf\u306eend\u306e\u51e6\u7406\u3092\u4fee\u6b63\n* RANK\u30e1\u30f3\u30d0\u5909\u6570\u306e\u8a08\u7b97\u5f0f\u3092\u4fee\u6b63\n", "tags": ["C++", "C++11", "\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"]}