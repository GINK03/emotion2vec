{"context": " More than 1 year has passed since last update.PHP 5.4 \u306e Web \u30a2\u30d7\u30ea\u3092 OpenShift \u3067\u52d5\u304b\u3059 - Qiita \u306e\u7d9a\u304d\u3002\nMySQL \u3092\u4f7f\u3046\u306b\u306f OpenShift \u3067 PHP \u304b\u3089 MySQL 5.5 \u3092\u4f7f\u3046 - Qiita\nMac \u3092\u4f7f\u3063\u3066\u958b\u767a\u3059\u308b\u3002\n$ sw_vers -productVersion \n10.10.2\n\n\n\u4e8b\u524d\u6e96\u5099\nComposer \u3092 Mac \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3002\nHomebrew \u306e homebrew-php \u3092\u4f7f\u3063\u3066 PHP5.4 \u3068 Composer \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b (PHP\u3092\u5148\u306b\u3001Composer\u3092\u5f8c\u306b)\u3002\n$ ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n$ brew tap homebrew/dupes\n$ brew tap homebrew/versions\n$ brew tap homebrew/homebrew-php\n$ brew install php54\n$ brew install composer\n\n\n\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u4f5c\u3092\u78ba\u8a8d\u3059\u308b\n\u4f8b\u984c\u3068\u3057\u3066\u3001Guzzle \u3092\u4f7f\u3063\u3066\u304a\u5929\u6c17\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u3002\n\u53c2\u8003: Guzzle - 1\u9031\u9593\u5206\u306e\u5929\u6c17\u4e88\u5831\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u8868\u793a\u3059\u308bPHP\u30b9\u30af\u30ea\u30d7\u30c8 - Qiita\n\n(1) Composer \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306f Git \u3067\u7ba1\u7406\u3057\u306a\u3044\nComposer \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306f vendor/ \u4ee5\u4e0b\u306b\u5165\u308b\u304c\u3001Git \u3067\u306f\u7ba1\u7406\u3055\u305b\u306a\u3044\u3002\n\u53c2\u8003: Should I commit the dependencies in my vendor directory?\n$ cd <OpenShift\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30c7\u30a3\u30ec\u30af\u30c8\u30ea>\n$ vi .gitignore\n\nvendor/\n\n\n(2) composer.json \u3092\u4f5c\u308b\nGuzzle \u3092\u6307\u5b9a\u3059\u308b\u3002\n\ncomposer.json\n{\n   \"require\": {\n      \"guzzlehttp/guzzle\": \"~5.0\"\n   }\n}\n\n\n\n(3) \u95a2\u9023\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n$ composer install\nLoading composer repositories with package information\nInstalling dependencies (including require-dev)\n  - Installing react/promise (v2.2.0)\n    Downloading: 100%         \n\n  - Installing guzzlehttp/streams (3.0.0)\n    Loading from cache\n\n  - Installing guzzlehttp/ringphp (1.0.5)\n    Loading from cache\n\n  - Installing guzzlehttp/guzzle (5.2.0)\n    Downloading: 100%         \n\nWriting lock file\nGenerating autoload files\n\n\n(4) autoload.php \u3092\u6709\u52b9\u306b\u3059\u308b\nautoload.php \u3092 index.php \u3067\u8aad\u307f\u8fbc\u3080\u3002\nGuzzle \u3092\u4f7f\u3063\u3066\u304a\u5929\u6c17\u60c5\u5831\u3092\u53d6\u5f97\u3057\u3066\u307f\u308b\u3002\n$ vi index.php\n\n\nindex.php\n<?php\nrequire 'vendor/autoload.php';\n\nuse GuzzleHttp\\Client;\n\n$city_and_country = 'kashiwa,jp';\n$url = 'http://api.openweathermap.org/data/2.5/forecast/daily?q=' . $city_and_country . '&cnt=1';\n$client = new Client();\necho $client->get($url)->getBody();\n\n\n\n(5) \u30ed\u30fc\u30ab\u30eb\u3067\u5b9f\u884c\u3057\u3066\u307f\u308b\nphp index.php \n{\"cod\":\"200\",\"message\":0.2581,\"city\":{\"id\":1859924,\"name\":\"Kashiwa\",\"coord\":{\"lon\":139.968887,\"lat\":35.854439},\"country\":\"JP\",\"population\":0,\"sys\":{\"population\":0}},\"cnt\":1,\"list\":[{\"dt\":1424570400,\"temp\":{\"day\":283.93,\"min\":283.93,\"max\":285.43,\"night\":285.43,\"eve\":283.96,\"morn\":283.93},\"pressure\":1032.72,\"humidity\":97,\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"speed\":5.47,\"deg\":184,\"clouds\":92,\"rain\":3}]}\n\n\nOpenShift \u3067\u52d5\u304b\u3059\nOpenShift \u3067 Composer \u3092\u6709\u52b9\u306b\u3057\u305f\u5f8c\u3067\u3001Git \u306b add/commit/push \u3059\u308b\u3002\n\n(1) OpenShift \u3067 Composer \u3092\u6709\u52b9\u306b\u3059\u308b\nPHP Markers | OpenShift Developers \u306e use_composer \u3092\u4f7f\u3046\u3002\n$ touch .openshift/markers/use_composer\n\n\n(2) \u516c\u958b\u3059\u308b\n$ git status\nOn branch master\nYour branch is up-to-date with 'origin/master'.\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n    modified:   index.php\n\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n\n    .gitignore\n    .openshift/markers/use_composer\n    composer.json\n    composer.lock   \n\n$ git add .\n\n$ git commit -m 'enable Composer and use Guzzle to fetch weather data'\n\n$ git push\nCounting objects: 8, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (7/7), done.\nWriting objects: 100% (8/8), 2.10 KiB | 0 bytes/s, done.\nTotal 8 (delta 1), reused 0 (delta 0)\nremote: Stopping PHP 5.4 cartridge (Apache+mod_php)\nremote: Waiting for stop to finish\nremote: Waiting for stop to finish\nremote: Building git ref 'master', commit e815d11\nremote: Checking .openshift/pear.txt for PEAR dependency...\nremote: Checking composer.json for Composer dependency... \nremote: Loading composer repositories with package information\nremote: Installing dependencies (including require-dev) from lock file\nremote:   - Installing react/promise (v2.2.0)\nremote:     Downloading: 100%\nremote: \nremote:   - Installing guzzlehttp/streams (3.0.0)\nremote:     Downloading: 100%\nremote: \nremote:   - Installing guzzlehttp/ringphp (1.0.5)\nremote:     Downloading: 100%\nremote: \nremote:   - Installing guzzlehttp/guzzle (5.2.0)\nremote:     Downloading: 100%\nremote: \nremote: Generating autoload files\nremote: Preparing build for deployment\nremote: Deployment id is bf319162\nremote: Activating deployment\nremote: Starting PHP 5.4 cartridge (Apache+mod_php)\nremote: Application directory \"/\" selected as DocumentRoot\nremote: -------------------------\nremote: Git Post-Receive Result: success\nremote: Activation status: success\nremote: Deployment completed with status: success\nTo ssh://xxxxxxxxxxxxxxxxxx@foo-bar.rhcloud.com/~/git/bar.git/\n   c2ee0b4..e815d11  master -> master\n\nWeb \u30d6\u30e9\u30a6\u30b6\u30fc\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u3066\u52d5\u4f5c\u3092\u78ba\u8a8d\u3059\u308b\u3002http://foo-bar.rhcloud.com \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u3001\u304a\u5929\u6c17\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3067\u304d\u3066\u3044\u308b\u306f\u305a\u3002\n\n[PHP 5.4 \u306e Web \u30a2\u30d7\u30ea\u3092 OpenShift \u3067\u52d5\u304b\u3059 - Qiita](http://qiita.com/takatama/items/8b91136d78b79a0cf569) \u306e\u7d9a\u304d\u3002\nMySQL \u3092\u4f7f\u3046\u306b\u306f [OpenShift \u3067 PHP \u304b\u3089 MySQL 5.5 \u3092\u4f7f\u3046 - Qiita](http://qiita.com/takatama/items/1b0f0fd8f6807b526d3e)\n\nMac \u3092\u4f7f\u3063\u3066\u958b\u767a\u3059\u308b\u3002\n\n```\n$ sw_vers -productVersion \n10.10.2\n```\n\n## \u4e8b\u524d\u6e96\u5099\n\nComposer \u3092 Mac \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3002\nHomebrew \u306e [homebrew-php](https://github.com/Homebrew/homebrew-php) \u3092\u4f7f\u3063\u3066 PHP5.4 \u3068 Composer \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b (PHP\u3092\u5148\u306b\u3001Composer\u3092\u5f8c\u306b)\u3002\n\n```\n$ ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n$ brew tap homebrew/dupes\n$ brew tap homebrew/versions\n$ brew tap homebrew/homebrew-php\n$ brew install php54\n$ brew install composer\n```\n\n## \u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u4f5c\u3092\u78ba\u8a8d\u3059\u308b\n\n\u4f8b\u984c\u3068\u3057\u3066\u3001Guzzle \u3092\u4f7f\u3063\u3066\u304a\u5929\u6c17\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u3002\n\n\u53c2\u8003: [Guzzle - 1\u9031\u9593\u5206\u306e\u5929\u6c17\u4e88\u5831\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u8868\u793a\u3059\u308bPHP\u30b9\u30af\u30ea\u30d7\u30c8 - Qiita](http://qiita.com/takatama/items/eef575cf1b245256299c)\n\n### (1) Composer \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306f Git \u3067\u7ba1\u7406\u3057\u306a\u3044\n\nComposer \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306f vendor/ \u4ee5\u4e0b\u306b\u5165\u308b\u304c\u3001Git \u3067\u306f\u7ba1\u7406\u3055\u305b\u306a\u3044\u3002\n\n\u53c2\u8003: [Should I commit the dependencies in my vendor directory?](https://getcomposer.org/doc/faqs/should-i-commit-the-dependencies-in-my-vendor-directory.md#should-i-commit-the-dependencies-in-my-vendor-directory-)\n\n```\n$ cd <OpenShift\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30c7\u30a3\u30ec\u30af\u30c8\u30ea>\n$ vi .gitignore\n```\n\n```.gitignore\nvendor/\n```\n\n### (2) composer.json \u3092\u4f5c\u308b\n\nGuzzle \u3092\u6307\u5b9a\u3059\u308b\u3002\n\n```composer.json\n{\n   \"require\": {\n      \"guzzlehttp/guzzle\": \"~5.0\"\n   }\n}\n```\n\n### (3) \u95a2\u9023\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n```\n$ composer install\nLoading composer repositories with package information\nInstalling dependencies (including require-dev)\n  - Installing react/promise (v2.2.0)\n    Downloading: 100%         \n\n  - Installing guzzlehttp/streams (3.0.0)\n    Loading from cache\n\n  - Installing guzzlehttp/ringphp (1.0.5)\n    Loading from cache\n\n  - Installing guzzlehttp/guzzle (5.2.0)\n    Downloading: 100%         \n\nWriting lock file\nGenerating autoload files\n```\n\n### (4) autoload.php \u3092\u6709\u52b9\u306b\u3059\u308b\n\nautoload.php \u3092 index.php \u3067\u8aad\u307f\u8fbc\u3080\u3002\nGuzzle \u3092\u4f7f\u3063\u3066\u304a\u5929\u6c17\u60c5\u5831\u3092\u53d6\u5f97\u3057\u3066\u307f\u308b\u3002\n\n```\n$ vi index.php\n```\n\n```index.php\n<?php\nrequire 'vendor/autoload.php';\n\nuse GuzzleHttp\\Client;\n\n$city_and_country = 'kashiwa,jp';\n$url = 'http://api.openweathermap.org/data/2.5/forecast/daily?q=' . $city_and_country . '&cnt=1';\n$client = new Client();\necho $client->get($url)->getBody();\n```\n\n### (5) \u30ed\u30fc\u30ab\u30eb\u3067\u5b9f\u884c\u3057\u3066\u307f\u308b\n\n```\nphp index.php \n{\"cod\":\"200\",\"message\":0.2581,\"city\":{\"id\":1859924,\"name\":\"Kashiwa\",\"coord\":{\"lon\":139.968887,\"lat\":35.854439},\"country\":\"JP\",\"population\":0,\"sys\":{\"population\":0}},\"cnt\":1,\"list\":[{\"dt\":1424570400,\"temp\":{\"day\":283.93,\"min\":283.93,\"max\":285.43,\"night\":285.43,\"eve\":283.96,\"morn\":283.93},\"pressure\":1032.72,\"humidity\":97,\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"speed\":5.47,\"deg\":184,\"clouds\":92,\"rain\":3}]}\n```\n\n## OpenShift \u3067\u52d5\u304b\u3059\nOpenShift \u3067 Composer \u3092\u6709\u52b9\u306b\u3057\u305f\u5f8c\u3067\u3001Git \u306b add/commit/push \u3059\u308b\u3002\n\n### (1) OpenShift \u3067 Composer \u3092\u6709\u52b9\u306b\u3059\u308b\n\n[PHP Markers | OpenShift Developers](https://developers.openshift.com/en/php-markers.html) \u306e use_composer \u3092\u4f7f\u3046\u3002\n\n```\n$ touch .openshift/markers/use_composer\n```\n\n### (2) \u516c\u958b\u3059\u308b\n\n```\n$ git status\nOn branch master\nYour branch is up-to-date with 'origin/master'.\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n\tmodified:   index.php\n\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n\n\t.gitignore\n\t.openshift/markers/use_composer\n\tcomposer.json\n\tcomposer.lock\t\n\n$ git add .\n\n$ git commit -m 'enable Composer and use Guzzle to fetch weather data'\n\n$ git push\nCounting objects: 8, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (7/7), done.\nWriting objects: 100% (8/8), 2.10 KiB | 0 bytes/s, done.\nTotal 8 (delta 1), reused 0 (delta 0)\nremote: Stopping PHP 5.4 cartridge (Apache+mod_php)\nremote: Waiting for stop to finish\nremote: Waiting for stop to finish\nremote: Building git ref 'master', commit e815d11\nremote: Checking .openshift/pear.txt for PEAR dependency...\nremote: Checking composer.json for Composer dependency... \nremote: Loading composer repositories with package information\nremote: Installing dependencies (including require-dev) from lock file\nremote:   - Installing react/promise (v2.2.0)\nremote:     Downloading: 100%\nremote: \nremote:   - Installing guzzlehttp/streams (3.0.0)\nremote:     Downloading: 100%\nremote: \nremote:   - Installing guzzlehttp/ringphp (1.0.5)\nremote:     Downloading: 100%\nremote: \nremote:   - Installing guzzlehttp/guzzle (5.2.0)\nremote:     Downloading: 100%\nremote: \nremote: Generating autoload files\nremote: Preparing build for deployment\nremote: Deployment id is bf319162\nremote: Activating deployment\nremote: Starting PHP 5.4 cartridge (Apache+mod_php)\nremote: Application directory \"/\" selected as DocumentRoot\nremote: -------------------------\nremote: Git Post-Receive Result: success\nremote: Activation status: success\nremote: Deployment completed with status: success\nTo ssh://xxxxxxxxxxxxxxxxxx@foo-bar.rhcloud.com/~/git/bar.git/\n   c2ee0b4..e815d11  master -> master\n```\n\nWeb \u30d6\u30e9\u30a6\u30b6\u30fc\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u3066\u52d5\u4f5c\u3092\u78ba\u8a8d\u3059\u308b\u3002http://foo-bar.rhcloud.com \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u3001\u304a\u5929\u6c17\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3067\u304d\u3066\u3044\u308b\u306f\u305a\u3002\n", "tags": ["PHP", "Composer", "openshift"]}