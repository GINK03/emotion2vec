{"context": " More than 1 year has passed since last update.\u3053\u306e\u3088\u3046\u306aC\u8a00\u8a9e\u306e\u95a2\u6570\u304c\u3042\u308b\u3002\n\ncatch.c\n#include <stdio.h>\nvoid catch(){\n    puts(\"FLAG_CPP-KEYWORD-CALLER\");\n}\n\n\n(\u5b9f\u969b\u306b\u306f\u3001gcc -c catch.c\u3057\u305f\u5f8c\u306ecatch.o\u3060\u3051\u304c\u624b\u5143\u306b\u3042\u308b\u3068\u3059\u308b)\n\u3053\u308c\u3092\u3001C++/D\u304b\u3089\u547c\u3073\u51fa\u3057\u305f\u3044\u3002\n\u3068\u3053\u308d\u304c\u3001catch\u306fC++/D\u3067\u306f\u4e88\u7d04\u8a9e\u3067\u3042\u308b\u305f\u3081\u3001\u666e\u901a\u306e\u65b9\u6cd5\u3067\u306f\u547c\u3073\u51fa\u3059\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002\n\u79c1\u304c\u8003\u3048\u305f\u306e\u306f\u3001\u95a2\u6570\u540d\u3092\u6587\u5b57\u5217\u3067\u6307\u5b9a\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u3060\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001\u81ea\u5206\u81ea\u8eab\u3092dlopen()\u3059\u308c\u3070\u826f\u3044\u3002\n\ncaller.cpp\n#include <dlfcn.h>\n#include <stdio.h> //NULL\ntypedef void (*Tvoid)();\nTvoid pcatch;\nint main(){\n    void *h=dlopen(NULL,RTLD_NOW);\n    pcatch=(Tvoid)dlsym(h,\"catch\");\n    pcatch();\n}\n\n\ng++ caller.cpp catch.o\u3059\u308c\u3070\u3001\u6240\u671b\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u751f\u6210\u3055\u308c\u308b(\u305f\u3060\u3057strip\u3059\u308b\u3068\u52d5\u4f5c\u3057\u306a\u304f\u306a\u308b\u3053\u3068\u306b\u6ce8\u610f)\u3002\nOSX\u3060\u3068\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u4e0d\u8981\u3002Linux\u3060\u3068-ldl\u304c\u5fc5\u8981\u306a\u306e\u306f\u52ff\u8ad6\u3060\u304c\u3001-Wl,--export-dynamic\u3082\u5fc5\u8981\u306a\u306e\u304c\u5c11\u3057\u9762\u5012\u304b\u3002\nD\u8a00\u8a9e\u3060\u3068\u3001\u6b21\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\ncaller.d\nimport core.sys.posix.dlfcn;\n\nvoid main(){\n    void *h=dlopen(null,RTLD_NOW);\n    void function() pcatch=cast(void function())dlsym(h,\"catch\");\n    pcatch();\n}\n\n\nLinux\u3060\u3068dmd caller.d catch.o -L-ldl -L--export-dynamic\u3068\u306a\u308b\u3088\u3046\u3060(\u672a\u78ba\u8a8d)\n\ndlopen()\u4e0d\u8981\u306a\u30b3\u30fc\u30c9\u5224\u660e\u3002\n__asm__(\"call catch\");\u3092\u4f7f\u3048\u3070\u666e\u901a\u306b\u547c\u3073\u51fa\u305b\u308b\u3088\u3046\u3067\u3059\u3002\nhttp://yukicoder.me/submissions/46544\n@_alpha_virginis\u6c0f\u306b\u611f\u8b1d\u3002\n\n\u3053\u306e\u3088\u3046\u306aC\u8a00\u8a9e\u306e\u95a2\u6570\u304c\u3042\u308b\u3002\n\n```catch.c\n#include <stdio.h>\nvoid catch(){\n\tputs(\"FLAG_CPP-KEYWORD-CALLER\");\n}\n```\n\n(\u5b9f\u969b\u306b\u306f\u3001`gcc -c catch.c`\u3057\u305f\u5f8c\u306ecatch.o\u3060\u3051\u304c\u624b\u5143\u306b\u3042\u308b\u3068\u3059\u308b)\n\n\u3053\u308c\u3092\u3001C++/D\u304b\u3089\u547c\u3073\u51fa\u3057\u305f\u3044\u3002\n\u3068\u3053\u308d\u304c\u3001catch\u306fC++/D\u3067\u306f\u4e88\u7d04\u8a9e\u3067\u3042\u308b\u305f\u3081\u3001\u666e\u901a\u306e\u65b9\u6cd5\u3067\u306f\u547c\u3073\u51fa\u3059\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002\n\n\u79c1\u304c\u8003\u3048\u305f\u306e\u306f\u3001\u95a2\u6570\u540d\u3092\u6587\u5b57\u5217\u3067\u6307\u5b9a\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u3060\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001\u81ea\u5206\u81ea\u8eab\u3092dlopen()\u3059\u308c\u3070\u826f\u3044\u3002\n\n```caller.cpp\n#include <dlfcn.h>\n#include <stdio.h> //NULL\ntypedef void (*Tvoid)();\nTvoid pcatch;\nint main(){\n\tvoid *h=dlopen(NULL,RTLD_NOW);\n\tpcatch=(Tvoid)dlsym(h,\"catch\");\n\tpcatch();\n}\n```\n\n`g++ caller.cpp catch.o`\u3059\u308c\u3070\u3001\u6240\u671b\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u751f\u6210\u3055\u308c\u308b(\u305f\u3060\u3057strip\u3059\u308b\u3068\u52d5\u4f5c\u3057\u306a\u304f\u306a\u308b\u3053\u3068\u306b\u6ce8\u610f)\u3002\nOSX\u3060\u3068\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u4e0d\u8981\u3002Linux\u3060\u3068-ldl\u304c\u5fc5\u8981\u306a\u306e\u306f\u52ff\u8ad6\u3060\u304c\u3001-Wl,--export-dynamic\u3082\u5fc5\u8981\u306a\u306e\u304c\u5c11\u3057\u9762\u5012\u304b\u3002\n\nD\u8a00\u8a9e\u3060\u3068\u3001\u6b21\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n```caller.d\nimport core.sys.posix.dlfcn;\n\nvoid main(){\n\tvoid *h=dlopen(null,RTLD_NOW);\n\tvoid function() pcatch=cast(void function())dlsym(h,\"catch\");\n\tpcatch();\n}\n```\n\nLinux\u3060\u3068`dmd caller.d catch.o -L-ldl -L--export-dynamic`\u3068\u306a\u308b\u3088\u3046\u3060(\u672a\u78ba\u8a8d)\n\n---\n\ndlopen()\u4e0d\u8981\u306a\u30b3\u30fc\u30c9\u5224\u660e\u3002\n`__asm__(\"call catch\");`\u3092\u4f7f\u3048\u3070\u666e\u901a\u306b\u547c\u3073\u51fa\u305b\u308b\u3088\u3046\u3067\u3059\u3002\nhttp://yukicoder.me/submissions/46544\n@_alpha_virginis\u6c0f\u306b\u611f\u8b1d\u3002\n", "tags": ["C\u8a00\u8a9e", "C++", "dlang"]}