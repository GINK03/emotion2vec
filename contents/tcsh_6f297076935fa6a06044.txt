{"context": "AWS\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u305f\u3089\u3084\u3063\u3066\u304a\u304d\u305f\u3044\u3053\u3068\u306e\u3046\u3061\u3001IAM\u95a2\u9023\u306e\u8a2d\u5b9a\u3092\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u5b9f\u65bd\u3057\u307e\u3059\u3002\n(credentials\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u63db\u306fCLI\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002)\nIAM\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30c1\u30a7\u30c3\u30af\u9805\u76ee\u304c\u5168\u90e8\u30b0\u30ea\u30fc\u30f3\u306b\u306a\u308b\u3088\u3046\u306b\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u524d\u63d0\u6761\u4ef6\n\nAWS\u30a2\u30ab\u30a6\u30f3\u30c8(root)\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n1. GUI\u30ed\u30b0\u30a4\u30f3\u306e\u5f37\u5ea6\u3092\u4e0a\u3052\u308b (Web)\n\n1.1. AWS\u30a2\u30ab\u30a6\u30f3\u30c8(root)\u3078\u306eMFA\u8a2d\u5b9a\n\n1. IAM\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30a2\u30af\u30bb\u30b9\n\nIAM\u306e\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b https://console.aws.amazon.com/iam/home#home \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n\n2. MFA\u8a2d\u5b9a\u753b\u9762\u3078\u306e\u30a2\u30af\u30bb\u30b9\n\n\"Activate MFA on your root account\"\u30bf\u30d6\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u5c55\u958b\u3057\u307e\u3059\u3002\n\"Manage MFA\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n3. MFA\u306e\u8a2d\u5b9a\n\u25a0\u4eee\u60f3MFA\u30c7\u30d0\u30a4\u30b9\u306e\u5834\u5408\nMFA\u30c7\u30d0\u30a4\u30b9\u306e\u7ba1\u7406 \u753b\u9762 (\u305d\u306e1)\n\u201c\u4eee\u60f3MFA\u30c7\u30d0\u30a4\u30b9\u201d(\u30e9\u30b8\u30aa\u30dc\u30bf\u30f3)\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\u201c\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u201d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\nMFA\u30c7\u30d0\u30a4\u30b9\u306e\u7ba1\u7406 \u753b\u9762 (\u305d\u306e2)\n\u201c\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u201d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\nMFA\u30c7\u30d0\u30a4\u30b9\u306e\u7ba1\u7406 \u753b\u9762 (\u305d\u306e3)\nQR\u30b3\u30fc\u30c9\u3092MFA\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306b\u8aad\u307f\u8fbc\u307e\u305b\u307e\u3059\u3002\n\n\u6ce8\u91c8:\n    QR\u30b3\u30fc\u30c9\u3092\u753b\u50cf\u3067\u4fdd\u5b58\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001MFA\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u304c\u5229\u7528\u3067\u304d\u306a\u304f\u306a\u3063\u305f\u5834\u5408\u3067\u3082\u5fa9\u65e7\u3055\u305b\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\u305f\u3060\u3057\u4fdd\u5b58\u3057\u305f\u753b\u50cf\u306f\u5b89\u5168\u306a\u3068\u3053\u308d\u3067\u53b3\u91cd\u306b\u4fdd\u7ba1\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nMFA\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306b\u8868\u793a\u3055\u308c\u305f6\u6841\u306e\u6570\u5b57\u3092\u4ee5\u4e0b\u3092\u5165\u529b\u3057\u307e\u3059\u3002(1\u56de\u76ee)\nAuthentication Code 1:\n\n\nMFA\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306b\u8868\u793a\u3055\u308c\u305f6\u6841\u306e\u6570\u5b57\u3092\u4ee5\u4e0b\u3092\u5165\u529b\u3057\u307e\u3059\u3002(2\u56de\u76ee)\nAuthentication Code 2:\n\n\n\u201c\u4eee\u60f3MFA\u306e\u6709\u52b9\u5316\u201d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\nMFA\u30c7\u30d0\u30a4\u30b9\u306e\u7ba1\u7406 \u753b\u9762 (\u305d\u306e4)\n\u201cMFA \u30c7\u30d0\u30a4\u30b9\u306f\u6b63\u5e38\u306b\u95a2\u9023\u4ed8\u3051\u3089\u308c\u307e\u3057\u305f\u3002\u201d\u3068\u8868\u793a\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u201c\u5b8c\u4e86\u201d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u25a0\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2MFA\u30c7\u30d0\u30a4\u30b9\u306e\u5834\u5408\n\n\"A hardware MFA device\"(\u30e9\u30b8\u30aa\u30dc\u30bf\u30f3)\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\"Next Step\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\n:Serial Number: \u30c7\u30d0\u30a4\u30b9\u306b\u8a18\u8f09\u3055\u308c\u305f\u30b7\u30ea\u30a2\u30eb\u30ca\u30f3\u30d0\u30fc\n:Authentication Code 1: \u6700\u521d\u306b\u8868\u793a\u3055\u308c\u305f6\u6841\u306e\u6570\u5b57\n:Authentication Code 2: \u6db2\u6676\u6d88\u706f\u76f4\u5f8c\u306b\u30b9\u30a4\u30c3\u30c1\u3092ON\u306b\u3059\u308b\u3068\u8868\u793a\u3055\u308c\u308b6\u6841\u306e\u6570\u5b57\n\n\n\"Next Step\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\u201cFinish\u201d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n4. MFA\u306e\u8a2d\u5b9a\u78ba\u8a8d\n\nIAM\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u753b\u9762\u3092\u30ea\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\"Activate MFA on your root account\"\u306e\u30c1\u30a7\u30c3\u30af\u304c\u30b0\u30ea\u30fc\u30f3\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n5. \u30ed\u30b0\u30a4\u30f3\u78ba\u8a8d (\u5225\u306e\u30d6\u30e9\u30a6\u30b6)\n\u73fe\u5728\u4f5c\u696d\u306b\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u306f\u5225\u306e\u30d6\u30e9\u30a6\u30b6\u30bd\u30d5\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n(\u4f8b) \u73fe\u5728Google Chrome\u3067\u4f5c\u696d\u3057\u3066\u3044\u308b\u306e\u3067\u3042\u308c\u3070\u3001Firefox\u3067\u30ed\u30b0\u30a4\u30f3\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n\u30ed\u30b0\u30a4\u30f3\n\n\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u3078\u306e\u30a2\u30af\u30bb\u30b9 http://aws.amazon.com/jp/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\"\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\"My e-mail address is\"\u6b04\u306b (\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9)\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\u30e9\u30b8\u30aa\u30dc\u30bf\u30f3 \"I am a returning user and my password is:\" \u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\"Sign in Using our secure server\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n\nMFA\u753b\u9762\n\nMFA\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b6\u6841\u306e\u6570\u5024\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\n\n\n\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u753b\u9762\n\n\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n\n\u78ba\u8a8d\u3067\u304d\u305f\u3089\u3001\u305d\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u53f3\u4e0a\u306e\u30e6\u30fc\u30b6\u540d > SIgn Out\n\n\n\n\n1.2. \u30d1\u30b9\u30ef\u30fc\u30c9\u30dd\u30ea\u30b7\u30fc\u306e\u8a2d\u5b9a\n\n1. \u30d1\u30b9\u30ef\u30fc\u30c9\u30dd\u30ea\u30b7\u8a2d\u5b9a\u753b\u9762\u3078\u306e\u30a2\u30af\u30bb\u30b9\n\n\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u3001\"Apply an IAM password policy\"\u30bf\u30d6\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u5c55\u958b\u3057\u307e\u3059\u3002\n\"Manage Password Policy\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n2. \u30d1\u30b9\u30ef\u30fc\u30c9\u30dd\u30ea\u30b7\u306e\u8a2d\u5b9a\n\nMinimum password length:\u306e\u5024\u3092 \"10\" \u306b\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3092On\u306b\u3057\u307e\u3059\u3002\n\nRequire at least one uppercase letter\nRequire at least one lowercase letter\nRequire at least one number\nRequire at least one non-alphanumeric character\n(\u671f\u9650\u7cfb\u306e\u5236\u9650\u306f\u304a\u597d\u307f\u3067ON\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002)\n\n\n\"Apply Password Policy\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n3. \u8a2d\u5b9a\u78ba\u8a8d\n\n\"Dashboard\"\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001IAM\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\n\"Apply an IAM password policy\"\u306e\u30c1\u30a7\u30c3\u30af\u304c\u30b0\u30ea\u30fc\u30f3\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n2. IAM\u30b0\u30eb\u30fc\u30d7/\u30e6\u30fc\u30b6\u306e\u4f5c\u6210 (Web)\n\n2.1. IAM\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210 (IAM\u30d5\u30eb\u30a2\u30af\u30bb\u30b9)\nIAM\u306b\u30d5\u30eb\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n1. \u30b0\u30eb\u30fc\u30d7\u8a2d\u5b9a\u753b\u9762\u3078\u306e\u30a2\u30af\u30bb\u30b9\n\n\"Use groups to assign permissions\"\u30bf\u30d6\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u5c55\u958b\u3057\u307e\u3059\u3002\n\"Manage Groups\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n2. Group\u306e\u4f5c\u6210\n\n\"Create New Group\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\nGroup Name:\u6b04\u306b \"iadm\" \u3068\u5165\u529b\u3057\u307e\u3059\u3002\n\n\n\"Next Step\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n\"IAM Full Access\"\u306e\"Select\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n\"Next Step\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n\"Create Group\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n3. \u8a2d\u5b9a\u78ba\u8a8d\n\n\"Dashboard\"\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001IAM\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\n\"Use groups to assign permissions\"\u306e\u30c1\u30a7\u30c3\u30af\u304c\u30b0\u30ea\u30fc\u30f3\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n2.2. \u6700\u521d\u306eIAM\u30e6\u30fc\u30b6\u4f5c\u6210\nIAM\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n1. IAM\u30e6\u30fc\u30b6\u8a2d\u5b9a\u753b\u9762\u3078\u306e\u30a2\u30af\u30bb\u30b9\n\n\"Create individual IAM users\"\u30bf\u30d6\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u5c55\u958b\u3057\u307e\u3059\u3002\n\"Manage Users\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n2. User\u306e\u8a2d\u5b9a\n\n\"Create New Users\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\u4f5c\u6210\u3059\u308b\u7ba1\u7406\u8005\u30e6\u30fc\u30b6\u306e\u540d\u524d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\"Create\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\"Download Credentials\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\ncredentials.csv\u3068\u3044\u3046\u540d\u524d\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u5b58\u5148\u3092\u6307\u5b9a\u3057\u3066\u4fdd\u5b58\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\ncredentials.csv\u306f\u518d\u5ea6\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u306a\u3044\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 (credential\u60c5\u5831\u306e\u518d\u751f\u6210\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002)\n\n\"Close\"\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n3. Group\u3078\u306e\u8ffd\u52a0\n\n\u30b0\u30eb\u30fc\u30d7\u306b\u767b\u9332\u3059\u308b\u30e6\u30fc\u30b6\u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3092On\u306b\u3057\u307e\u3059\u3002\n\"User Actions\" > \"Add User to Groups\"\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\u30e6\u30fc\u30b6\u3092\u767b\u9332\u3059\u308b\u30b0\u30eb\u30fc\u30d7\u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3092On\u306b\u3057\u307e\u3059\u3002\n\"Add to Groups\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\nUser\u306e\"Groups\"\u89a7\u306e\u6570\u5b57\u304c0\u4ee5\u5916\u306e\u6570\u5b57\u306b\u306a\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n4. \u8a2d\u5b9a\u753b\u9762\n\n\"Dashboard\"\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001IAM\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\n\"Create individual IAM users\"\u306e\u30c1\u30a7\u30c3\u30af\u304c\u30b0\u30ea\u30fc\u30f3\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n3. API\u3078\u306e\u30a2\u30af\u30bb\u30b9\u74b0\u5883\u4f5c\u6210 (CLI)\nIAM\u30e6\u30fc\u30b6\u306e\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3092\u53d6\u5f97\u3057\u305f\u3089\u3001\u65e9\u901f\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n3.0. \u500b\u5225\u30d5\u30a1\u30a4\u30eb\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n\n\u30b3\u30de\u30f3\u30c9\nmkdir -p ~/.aws/source\n\n\n\n3.1. IAM\u30e6\u30fc\u30b6\u6bce\u306e\u30c7\u30fc\u30bf\u306e\u4f5c\u6210\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u8a8d\u8a3c\u60c5\u5831\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9(OSX\u306e\u4f8b)\nFILE_AWS_CRED=\"${HOME}/Downloads/credentials.csv\"\n\n\n\n3.2. \u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u7528\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u307e\u305a\u6700\u521d\u306b\u3001\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u304b\u3089\u8aad\u307f\u8fbc\u3081\u308b\u5f62\u5f0f\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\nAWS_USER_NAME=`\n  cat ${FILE_AWS_CRED} |\\\n  grep -v ^User |\\\n  awk 'BEGIN{FS=\",\"}{print $1}' |\\\n  sed 's/\\\"//g'` \\\n  && echo \"username: ${AWS_USER_NAME}\"\n\ncat ${FILE_AWS_CRED} |\\\n  grep -v ^User |\\\n  awk 'BEGIN{FS=\",\"}{print \"aws_access_key_id=\" $3 \"\\naws_secret_access_key=\" $4}' |\\\n  tr -d '\\r' \\\n  > ~/.aws/source/${AWS_USER_NAME}.rc \\\n  && cat ~/.aws/source/${AWS_USER_NAME}.rc\n\n\n\n\u7d50\u679c\naws_access_key_id=AKIAIOSFODNN7EXAMPLE\naws_secret_access_key=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n\n\n\n3.3. \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u7d9a\u3044\u3066AWS CLI\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9(\u4f8b)\nREGION_AWS_CONFIG='us-west-2'\n\n\n\n\u30b3\u30de\u30f3\u30c9\nFILE_USER_CONFIG=\"${HOME}/.aws/source/${AWS_USER_NAME}.config\"\n\necho \"[profile ${AWS_USER_NAME}]\" > ${FILE_USER_CONFIG} \\\n  && echo \"region=${REGION_AWS_CONFIG}\" >> ${FILE_USER_CONFIG} \\\n  && echo \"\" >> ${FILE_USER_CONFIG} \\\n  && cat ${FILE_USER_CONFIG}\n\n\n\n\u7d50\u679c\n[profile user-project-sample]\nregion=us-west-2\n\n\n\n3.4. AWS CLI\u7528\u306e\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u7d9a\u3044\u3066AWS CLI\u7528\u306e\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\ncredentials\u30d5\u30a1\u30a4\u30eb\n\n\u30b3\u30de\u30f3\u30c9\nfile=\"${HOME}/.aws/credentials\"\nif [ -e ${file} ]; then mv ${file} ${file}.bak; fi\nfor i in `ls ${HOME}/.aws/source/*.rc`; do \\\n  name=`echo $i | sed 's/^.*\\///' | sed 's/\\.rc$//'` \\\n  && echo \"[$name]\" >> ${file} \\\n  && cat $i >> ${file} \\\n  && echo \"\" >> ${file} ;done \\\n  && cat ${file}\n\n\n\n\u7d50\u679c\n[user-project-sample]\naws_access_key_id=AKIAIOSFODNN7EXAMPLE\naws_secret_access_key=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n\n\n\nconfig\u30d5\u30a1\u30a4\u30eb\n\n\u30b3\u30de\u30f3\u30c9\ncat ${HOME}/.aws/source/*.config > ${HOME}/.aws/config \\\n  && cat ${HOME}/.aws/config\n\n\n\n\u7d50\u679c\n[profile user-project-sample]\nregion=us-west-2\n\n\n\n3.5. \u78ba\u8a8d\n\u3053\u308c\u3067AWS CLI\u3092\u4f7f\u3063\u3066AWS API\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6e96\u5099\u304c\u6574\u3044\u307e\u3057\u305f\u3002\n\u8a66\u3057\u306bIAM\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u30b3\u30de\u30f3\u30c9\nexport AWS_DEFAULT_PROFILE=${AWS_USER_NAME}; aws iam list-users\n\n\n\u6570\u79d2\u7a0b\u5ea6\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u4f5c\u6210\u3057\u305fIAM\u30e6\u30fc\u30b6\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\u3067\u3059\u3002\n\n\u7d50\u679c\n{\n    \"Users\": [\n        {\n            \"UserName\": \"user-project-sample\", \n            \"Path\": \"/\", \n            \"CreateDate\": \"2015-01-29T08:12:20Z\", \n            \"UserId\": \"AIDAJXXXXXXXXXXXXXXXX\", \n            \"Arn\": \"arn:aws:iam::XXXXXXXXXXXX:user/user-project-sample\"\n        }\n    ]\n}\n\n\n\n3.6. credentials\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u8a8d\u8a3c\u60c5\u5831\u30d5\u30a1\u30a4\u30eb\u306f\u524a\u9664\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u30b3\u30de\u30f3\u30c9\nrm ${FILE_AWS_CRED}\n\n\n\n4. AWS\u30a2\u30ab\u30a6\u30f3\u30c8ID\u306e\u78ba\u8a8d (CLI)\nAWS\u30a2\u30ab\u30a6\u30f3\u30c8ID\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u4f55\u304b\u3068\u4f7f\u3046\u6a5f\u4f1a\u304c\u3042\u308b\u306e\u3067\u3001\u304d\u3061\u3093\u3068\u7ba1\u7406\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u30aa\u30b9\u30b9\u30e1\u3057\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\nAWS_ID=`aws iam get-user --query 'User.Arn' --output text | sed 's/^.*:://' | sed 's/:.*$//'` \\\n  && echo ${AWS_ID}\n\n\n\n\u7d50\u679c\nXXXXXXXXXXXX\n\n\n\n\u5b8c\u4e86\n\u6b21\u306b\u3001\u30cf\u30f3\u30ba\u30aa\u30f3\u7528\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\n\n\u65b9\u6cd51: Administrator\u30e6\u30fc\u30b6\u306e\u4f5c\u6210 (\u3084\u3084\u975e\u63a8\u5968):\n\u65b9\u6cd52: ReadOnly IAM\u30e6\u30fc\u30b6 + AssumeRole\u306e\u6d3b\u7528 (\u63a8\u5968): http://qiita.com/tcsh/items/a4a081208e7e273c93a6\n\n\nAWS\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u305f\u3089\u3084\u3063\u3066\u304a\u304d\u305f\u3044\u3053\u3068\u306e\u3046\u3061\u3001IAM\u95a2\u9023\u306e\u8a2d\u5b9a\u3092\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u5b9f\u65bd\u3057\u307e\u3059\u3002\n(credentials\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u63db\u306fCLI\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002)\n\nIAM\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30c1\u30a7\u30c3\u30af\u9805\u76ee\u304c\u5168\u90e8\u30b0\u30ea\u30fc\u30f3\u306b\u306a\u308b\u3088\u3046\u306b\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\n\n# \u524d\u63d0\u6761\u4ef6\n\n- AWS\u30a2\u30ab\u30a6\u30f3\u30c8(root)\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n# 1. GUI\u30ed\u30b0\u30a4\u30f3\u306e\u5f37\u5ea6\u3092\u4e0a\u3052\u308b (Web)\n\n## 1.1. AWS\u30a2\u30ab\u30a6\u30f3\u30c8(root)\u3078\u306eMFA\u8a2d\u5b9a\n\n### 1. IAM\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30a2\u30af\u30bb\u30b9\n\n- IAM\u306e\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b https://console.aws.amazon.com/iam/home#home \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n### 2. MFA\u8a2d\u5b9a\u753b\u9762\u3078\u306e\u30a2\u30af\u30bb\u30b9\n\n- \"Activate MFA on your root account\"\u30bf\u30d6\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u5c55\u958b\u3057\u307e\u3059\u3002\n- \"Manage MFA\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n### 3. MFA\u306e\u8a2d\u5b9a\n\n\u25a0\u4eee\u60f3MFA\u30c7\u30d0\u30a4\u30b9\u306e\u5834\u5408\n\nMFA\u30c7\u30d0\u30a4\u30b9\u306e\u7ba1\u7406 \u753b\u9762 (\u305d\u306e1)\n\n    \u201c\u4eee\u60f3MFA\u30c7\u30d0\u30a4\u30b9\u201d(\u30e9\u30b8\u30aa\u30dc\u30bf\u30f3)\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n    \u201c\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u201d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\nMFA\u30c7\u30d0\u30a4\u30b9\u306e\u7ba1\u7406 \u753b\u9762 (\u305d\u306e2)\n\n    \u201c\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u201d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\nMFA\u30c7\u30d0\u30a4\u30b9\u306e\u7ba1\u7406 \u753b\u9762 (\u305d\u306e3)\n\n    QR\u30b3\u30fc\u30c9\u3092MFA\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306b\u8aad\u307f\u8fbc\u307e\u305b\u307e\u3059\u3002\n\n\u6ce8\u91c8:\n    QR\u30b3\u30fc\u30c9\u3092\u753b\u50cf\u3067\u4fdd\u5b58\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001MFA\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u304c\u5229\u7528\u3067\u304d\u306a\u304f\u306a\u3063\u305f\u5834\u5408\u3067\u3082\u5fa9\u65e7\u3055\u305b\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\u305f\u3060\u3057\u4fdd\u5b58\u3057\u305f\u753b\u50cf\u306f\u5b89\u5168\u306a\u3068\u3053\u308d\u3067\u53b3\u91cd\u306b\u4fdd\u7ba1\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n    MFA\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306b\u8868\u793a\u3055\u308c\u305f6\u6841\u306e\u6570\u5b57\u3092\u4ee5\u4e0b\u3092\u5165\u529b\u3057\u307e\u3059\u3002(1\u56de\u76ee)\n    Authentication Code 1:\n     \t\n\n    MFA\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306b\u8868\u793a\u3055\u308c\u305f6\u6841\u306e\u6570\u5b57\u3092\u4ee5\u4e0b\u3092\u5165\u529b\u3057\u307e\u3059\u3002(2\u56de\u76ee)\n    Authentication Code 2:\n     \t\n\n    \u201c\u4eee\u60f3MFA\u306e\u6709\u52b9\u5316\u201d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\nMFA\u30c7\u30d0\u30a4\u30b9\u306e\u7ba1\u7406 \u753b\u9762 (\u305d\u306e4)\n\n    \u201cMFA \u30c7\u30d0\u30a4\u30b9\u306f\u6b63\u5e38\u306b\u95a2\u9023\u4ed8\u3051\u3089\u308c\u307e\u3057\u305f\u3002\u201d\u3068\u8868\u793a\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n    \u201c\u5b8c\u4e86\u201d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n\n\u25a0\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2MFA\u30c7\u30d0\u30a4\u30b9\u306e\u5834\u5408\n\n- \"A hardware MFA device\"(\u30e9\u30b8\u30aa\u30dc\u30bf\u30f3)\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n- \"Next Step\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n- \u4ee5\u4e0b\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n  - :Serial Number:\t\u30c7\u30d0\u30a4\u30b9\u306b\u8a18\u8f09\u3055\u308c\u305f\u30b7\u30ea\u30a2\u30eb\u30ca\u30f3\u30d0\u30fc\n  - :Authentication Code 1: \u6700\u521d\u306b\u8868\u793a\u3055\u308c\u305f6\u6841\u306e\u6570\u5b57\n  - :Authentication Code 2: \u6db2\u6676\u6d88\u706f\u76f4\u5f8c\u306b\u30b9\u30a4\u30c3\u30c1\u3092ON\u306b\u3059\u308b\u3068\u8868\u793a\u3055\u308c\u308b6\u6841\u306e\u6570\u5b57\n\n- \"Next Step\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n- \u201cFinish\u201d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n### 4. MFA\u306e\u8a2d\u5b9a\u78ba\u8a8d\n\n- IAM\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u753b\u9762\u3092\u30ea\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n- \"Activate MFA on your root account\"\u306e\u30c1\u30a7\u30c3\u30af\u304c\u30b0\u30ea\u30fc\u30f3\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n### 5. \u30ed\u30b0\u30a4\u30f3\u78ba\u8a8d (\u5225\u306e\u30d6\u30e9\u30a6\u30b6)\n\n\u73fe\u5728\u4f5c\u696d\u306b\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u306f\u5225\u306e\u30d6\u30e9\u30a6\u30b6\u30bd\u30d5\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n\n(\u4f8b) \u73fe\u5728Google Chrome\u3067\u4f5c\u696d\u3057\u3066\u3044\u308b\u306e\u3067\u3042\u308c\u3070\u3001Firefox\u3067\u30ed\u30b0\u30a4\u30f3\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n- \u30ed\u30b0\u30a4\u30f3\n  - \u30ed\u30b0\u30a4\u30f3\u753b\u9762\u3078\u306e\u30a2\u30af\u30bb\u30b9 http://aws.amazon.com/jp/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n  - \"\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n  - \"My e-mail address is\"\u6b04\u306b (\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9)\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n  - \u30e9\u30b8\u30aa\u30dc\u30bf\u30f3 \"I am a returning user and my password is:\" \u3092\u9078\u629e\u3057\u307e\u3059\u3002\n  - \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n  - \"Sign in Using our secure server\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n- MFA\u753b\u9762\n  - MFA\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b6\u6841\u306e\u6570\u5024\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\n- \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u753b\u9762\n  - \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n- \u78ba\u8a8d\u3067\u304d\u305f\u3089\u3001\u305d\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n    - \u53f3\u4e0a\u306e\u30e6\u30fc\u30b6\u540d > SIgn Out\n\n\n## 1.2. \u30d1\u30b9\u30ef\u30fc\u30c9\u30dd\u30ea\u30b7\u30fc\u306e\u8a2d\u5b9a\n\n### 1. \u30d1\u30b9\u30ef\u30fc\u30c9\u30dd\u30ea\u30b7\u8a2d\u5b9a\u753b\u9762\u3078\u306e\u30a2\u30af\u30bb\u30b9\n\n- \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u3001\"Apply an IAM password policy\"\u30bf\u30d6\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u5c55\u958b\u3057\u307e\u3059\u3002\n\n- \"Manage Password Policy\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n### 2. \u30d1\u30b9\u30ef\u30fc\u30c9\u30dd\u30ea\u30b7\u306e\u8a2d\u5b9a\n\n- Minimum password length:\u306e\u5024\u3092 \"10\" \u306b\u3057\u307e\u3059\u3002\n\n- \u4ee5\u4e0b\u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3092On\u306b\u3057\u307e\u3059\u3002\n  - Require at least one uppercase letter\n  - Require at least one lowercase letter\n  - Require at least one number\n  - Require at least one non-alphanumeric character\n  - (\u671f\u9650\u7cfb\u306e\u5236\u9650\u306f\u304a\u597d\u307f\u3067ON\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002)\n\n- \"Apply Password Policy\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n### 3. \u8a2d\u5b9a\u78ba\u8a8d\n\n- \"Dashboard\"\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001IAM\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\n\n- \"Apply an IAM password policy\"\u306e\u30c1\u30a7\u30c3\u30af\u304c\u30b0\u30ea\u30fc\u30f3\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n# 2. IAM\u30b0\u30eb\u30fc\u30d7/\u30e6\u30fc\u30b6\u306e\u4f5c\u6210 (Web)\n\n## 2.1. IAM\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210 (IAM\u30d5\u30eb\u30a2\u30af\u30bb\u30b9)\n\nIAM\u306b\u30d5\u30eb\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n### 1. \u30b0\u30eb\u30fc\u30d7\u8a2d\u5b9a\u753b\u9762\u3078\u306e\u30a2\u30af\u30bb\u30b9\n\n- \"Use groups to assign permissions\"\u30bf\u30d6\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u5c55\u958b\u3057\u307e\u3059\u3002\n- \"Manage Groups\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n### 2. Group\u306e\u4f5c\u6210\n\n- \"Create New Group\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n- Group Name:\u6b04\u306b \"iadm\" \u3068\u5165\u529b\u3057\u307e\u3059\u3002\n  - \"Next Step\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n- \"IAM Full Access\"\u306e\"Select\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n  - \"Next Step\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n- \"Create Group\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n### 3. \u8a2d\u5b9a\u78ba\u8a8d\n\n- \"Dashboard\"\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001IAM\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\n\n- \"Use groups to assign permissions\"\u306e\u30c1\u30a7\u30c3\u30af\u304c\u30b0\u30ea\u30fc\u30f3\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n## 2.2. \u6700\u521d\u306eIAM\u30e6\u30fc\u30b6\u4f5c\u6210\n\nIAM\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n### 1. IAM\u30e6\u30fc\u30b6\u8a2d\u5b9a\u753b\u9762\u3078\u306e\u30a2\u30af\u30bb\u30b9\n\n- \"Create individual IAM users\"\u30bf\u30d6\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u5c55\u958b\u3057\u307e\u3059\u3002\n- \"Manage Users\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n### 2. User\u306e\u8a2d\u5b9a\n\n- \"Create New Users\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n- \u4f5c\u6210\u3059\u308b\u7ba1\u7406\u8005\u30e6\u30fc\u30b6\u306e\u540d\u524d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n- \"Create\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n- \"Download Credentials\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n- credentials.csv\u3068\u3044\u3046\u540d\u524d\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u5b58\u5148\u3092\u6307\u5b9a\u3057\u3066\u4fdd\u5b58\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\ncredentials.csv\u306f\u518d\u5ea6\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u306a\u3044\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 (credential\u60c5\u5831\u306e\u518d\u751f\u6210\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002)\n\n- \"Close\"\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n### 3. Group\u3078\u306e\u8ffd\u52a0\n\n- \u30b0\u30eb\u30fc\u30d7\u306b\u767b\u9332\u3059\u308b\u30e6\u30fc\u30b6\u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3092On\u306b\u3057\u307e\u3059\u3002\n- \"User Actions\" > \"Add User to Groups\"\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n- \u30e6\u30fc\u30b6\u3092\u767b\u9332\u3059\u308b\u30b0\u30eb\u30fc\u30d7\u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3092On\u306b\u3057\u307e\u3059\u3002\n- \"Add to Groups\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n- User\u306e\"Groups\"\u89a7\u306e\u6570\u5b57\u304c0\u4ee5\u5916\u306e\u6570\u5b57\u306b\u306a\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n### 4. \u8a2d\u5b9a\u753b\u9762\n\n- \"Dashboard\"\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001IAM\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\n- \"Create individual IAM users\"\u306e\u30c1\u30a7\u30c3\u30af\u304c\u30b0\u30ea\u30fc\u30f3\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n# 3. API\u3078\u306e\u30a2\u30af\u30bb\u30b9\u74b0\u5883\u4f5c\u6210 (CLI)\n\nIAM\u30e6\u30fc\u30b6\u306e\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3092\u53d6\u5f97\u3057\u305f\u3089\u3001\u65e9\u901f\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n## 3.0. \u500b\u5225\u30d5\u30a1\u30a4\u30eb\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nmkdir -p ~/.aws/source\n```\n\n## 3.1. IAM\u30e6\u30fc\u30b6\u6bce\u306e\u30c7\u30fc\u30bf\u306e\u4f5c\u6210\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u8a8d\u8a3c\u60c5\u5831\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```bash:\u30b3\u30de\u30f3\u30c9(OSX\u306e\u4f8b):\nFILE_AWS_CRED=\"${HOME}/Downloads/credentials.csv\"\n```\n\n## 3.2. \u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u7528\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\n\u307e\u305a\u6700\u521d\u306b\u3001\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u304b\u3089\u8aad\u307f\u8fbc\u3081\u308b\u5f62\u5f0f\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nAWS_USER_NAME=`\n  cat ${FILE_AWS_CRED} |\\\n  grep -v ^User |\\\n  awk 'BEGIN{FS=\",\"}{print $1}' |\\\n  sed 's/\\\"//g'` \\\n  && echo \"username: ${AWS_USER_NAME}\"\n\ncat ${FILE_AWS_CRED} |\\\n  grep -v ^User |\\\n  awk 'BEGIN{FS=\",\"}{print \"aws_access_key_id=\" $3 \"\\naws_secret_access_key=\" $4}' |\\\n  tr -d '\\r' \\\n  > ~/.aws/source/${AWS_USER_NAME}.rc \\\n  && cat ~/.aws/source/${AWS_USER_NAME}.rc\n```\n\n```bash:\u7d50\u679c:\naws_access_key_id=AKIAIOSFODNN7EXAMPLE\naws_secret_access_key=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n```\n\n## 3.3. \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\n\u7d9a\u3044\u3066AWS CLI\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n```bash:\u30b3\u30de\u30f3\u30c9(\u4f8b):\nREGION_AWS_CONFIG='us-west-2'\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nFILE_USER_CONFIG=\"${HOME}/.aws/source/${AWS_USER_NAME}.config\"\n\necho \"[profile ${AWS_USER_NAME}]\" > ${FILE_USER_CONFIG} \\\n  && echo \"region=${REGION_AWS_CONFIG}\" >> ${FILE_USER_CONFIG} \\\n  && echo \"\" >> ${FILE_USER_CONFIG} \\\n  && cat ${FILE_USER_CONFIG}\n```\n\n```bash:\u7d50\u679c:\n[profile user-project-sample]\nregion=us-west-2\n```\n\n## 3.4. AWS CLI\u7528\u306e\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\n\u7d9a\u3044\u3066AWS CLI\u7528\u306e\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n### credentials\u30d5\u30a1\u30a4\u30eb\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nfile=\"${HOME}/.aws/credentials\"\nif [ -e ${file} ]; then mv ${file} ${file}.bak; fi\nfor i in `ls ${HOME}/.aws/source/*.rc`; do \\\n  name=`echo $i | sed 's/^.*\\///' | sed 's/\\.rc$//'` \\\n  && echo \"[$name]\" >> ${file} \\\n  && cat $i >> ${file} \\\n  && echo \"\" >> ${file} ;done \\\n  && cat ${file}\n```\n\n```bash:\u7d50\u679c:\n[user-project-sample]\naws_access_key_id=AKIAIOSFODNN7EXAMPLE\naws_secret_access_key=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n```\n\n### config\u30d5\u30a1\u30a4\u30eb\n\n```bash:\u30b3\u30de\u30f3\u30c9:\ncat ${HOME}/.aws/source/*.config > ${HOME}/.aws/config \\\n  && cat ${HOME}/.aws/config\n```\n\n```bash:\u7d50\u679c:\n[profile user-project-sample]\nregion=us-west-2\n```\n\n## 3.5. \u78ba\u8a8d\n\n\u3053\u308c\u3067AWS CLI\u3092\u4f7f\u3063\u3066AWS API\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6e96\u5099\u304c\u6574\u3044\u307e\u3057\u305f\u3002\n\n\u8a66\u3057\u306bIAM\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nexport AWS_DEFAULT_PROFILE=${AWS_USER_NAME}; aws iam list-users\n```\n\n\u6570\u79d2\u7a0b\u5ea6\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u4f5c\u6210\u3057\u305fIAM\u30e6\u30fc\u30b6\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\u3067\u3059\u3002\n\n```json:\u7d50\u679c:\n{\n    \"Users\": [\n        {\n            \"UserName\": \"user-project-sample\", \n            \"Path\": \"/\", \n            \"CreateDate\": \"2015-01-29T08:12:20Z\", \n            \"UserId\": \"AIDAJXXXXXXXXXXXXXXXX\", \n            \"Arn\": \"arn:aws:iam::XXXXXXXXXXXX:user/user-project-sample\"\n        }\n    ]\n}\n```\n\n## 3.6. credentials\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u8a8d\u8a3c\u60c5\u5831\u30d5\u30a1\u30a4\u30eb\u306f\u524a\u9664\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nrm ${FILE_AWS_CRED}\n```\n\n\n# 4. AWS\u30a2\u30ab\u30a6\u30f3\u30c8ID\u306e\u78ba\u8a8d (CLI)\n\nAWS\u30a2\u30ab\u30a6\u30f3\u30c8ID\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u4f55\u304b\u3068\u4f7f\u3046\u6a5f\u4f1a\u304c\u3042\u308b\u306e\u3067\u3001\u304d\u3061\u3093\u3068\u7ba1\u7406\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u30aa\u30b9\u30b9\u30e1\u3057\u307e\u3059\u3002\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nAWS_ID=`aws iam get-user --query 'User.Arn' --output text | sed 's/^.*:://' | sed 's/:.*$//'` \\\n  && echo ${AWS_ID}\n```\n\n```text:\u7d50\u679c:\nXXXXXXXXXXXX\n```\n\n# \u5b8c\u4e86\n\n\u6b21\u306b\u3001\u30cf\u30f3\u30ba\u30aa\u30f3\u7528\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\n\n- \u65b9\u6cd51: Administrator\u30e6\u30fc\u30b6\u306e\u4f5c\u6210 (\u3084\u3084\u975e\u63a8\u5968):\n- \u65b9\u6cd52: ReadOnly IAM\u30e6\u30fc\u30b6 + AssumeRole\u306e\u6d3b\u7528 (\u63a8\u5968): http://qiita.com/tcsh/items/a4a081208e7e273c93a6\n", "tags": ["AWS", "aws-cli", "IAM"]}