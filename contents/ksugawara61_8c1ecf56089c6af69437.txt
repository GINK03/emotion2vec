{"context": "\u4eca\u56de\u306e\u8a18\u4e8b\u3067\u306f\u3001MySQL\u306bMroonga\u3068\u3044\u3046\u30b9\u30c8\u30ec\u30fc\u30b8\u30a8\u30f3\u30b8\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u30b9\u30c8\u30ec\u30fc\u30b8\u30a8\u30f3\u30b8\u30f3\u3068\u306f\u3001RDBMS\u306b\u304a\u3044\u3066\u3001\u30c7\u30fc\u30bf\u306e\u30a2\u30af\u30bb\u30b9\u3084\u6392\u4ed6\u5236\u5fa1\u3092\u884c\u3046\u90e8\u5206\u306e\u3053\u3068\u3092\u3044\u3046\u3088\u3046\u3067\u3059\u3002\u3053\u3061\u3089\u306e\u8a18\u4e8b\u306b\u8a73\u3057\u3044\u8aac\u660e\u304c\u66f8\u3044\u3066\u3042\u308a\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u3067\u306f\u3001Mroonga\u8ffd\u52a0\u306e\u624b\u9806\u3092\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n1. groonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nMySQL\u306bMroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u4e8b\u524d\u306bgroonga\u3068\u3044\u3046\u3082\u306e\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\u305d\u3053\u3067\u3001\u307e\u305agroonga\u306e\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n# wget http://packages.groonga.org/source/groonga/groonga-5.0.7.tar.gz\n# tar xzvf groonga-5.0.7.tar.gz\n# cd groonga-5.0.7\n# ./configure\n# make\n# porg -lD \"make install\"\n\n\n2. groonga\u306e\u30d1\u30b9\u3092\u8a2d\u5b9a\n\u7d9a\u3044\u3066\u3001Mroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u969b\u306b\u4e8b\u524d\u306bgroonga\u306e\u30d1\u30b9\u3092\u901a\u3059\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3068\u30e9\u30a4\u30d6\u30e9\u30ea\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n# export GROONGA_CFLAGS=\"-I/usr/local/include/groonga\"\n# export GROONGA_LIBS=\"-L/usr/local/lib -lgroonga\"\n\n\n\u3053\u3063\u3061\u306e\u307b\u3046\u304c\u826f\u3044\u3089\u3057\u3044\n# PKG_CONFIG_PATH=/usr/local/lib/pkgconfig\n\n\n\n3. Mroonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u6b21\u306b\u3001Mroonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u969b\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066\u3001--with-mysql-source\u306b\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3001--with-mysql-build\u306b\u30d3\u30eb\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3001--with-mysql-config\u306bconfig\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n# wget http://packages.groonga.org/source/mroonga/mroonga-5.06.tar.gz\n# tar xzvf mroonga-5.06.tar.gz \n# cd mroonga-5.06\n# ./configure --with-mysql-source=/usr/local/src/mysql-5.6.25 --with-mysql-build=/usr/local/src/mysql-5.6.25 --with-mysql-config=/usr/local/mysql/bin/mysql_config\n# make\n# porg -lD \"make install\"\n\n\n4. MySQL\u306e\u518d\u8d77\u52d5\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fMroonga\u306e\u30d5\u30a1\u30a4\u30eb\u3092MySQL\u306b\u53cd\u6620\u3055\u305b\u308b\u305f\u3081\u3001MySQL\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n# service mysqld restart\n\n\n5. MySQL\u306bMroonga\u3092\u8ffd\u52a0\nMroonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u5f8c\u3001MySQL\u3092\u8d77\u52d5\u3057\u3001Mroonga\u3092\u30b9\u30c8\u30ec\u30fc\u30b8\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u3001\u8ffd\u52a0\u3057\u307e\u3059\u3002show engines\u30b3\u30de\u30f3\u30c9\u3067Mroonga\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u5b8c\u4e86\u3067\u3059\u3002\n# mysql -u ****\nmysql> install plugin mroonga soname 'ha_mroonga.so';\nQuery OK, 0 rows affected (0.39 sec)\n\nmysql> show engines;\n+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+\n| Engine             | Support | Comment                                                        | Transactions | XA   | Savepoints |\n+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+\n| MyISAM             | YES     | MyISAM storage engine                                          | NO           | NO   | NO         |\n| CSV                | YES     | CSV storage engine                                             | NO           | NO   | NO         |\n| MEMORY             | YES     | Hash based, stored in memory, useful for temporary tables      | NO           | NO   | NO         |\n| BLACKHOLE          | YES     | /dev/null storage engine (anything you write to it disappears) | NO           | NO   | NO         |\n| MRG_MYISAM         | YES     | Collection of identical MyISAM tables                          | NO           | NO   | NO         |\n| InnoDB             | DEFAULT | Supports transactions, row-level locking, and foreign keys     | YES          | YES  | YES        |\n| Mroonga            | YES     | CJK-ready fulltext search, column store                        | NO           | NO   | NO         |\n| FEDERATED          | NO      | Federated MySQL storage engine                                 | NULL         | NULL | NULL       |\n| PERFORMANCE_SCHEMA | YES     | Performance Schema                                             | NO           | NO   | NO         |\n| ARCHIVE            | YES     | Archive storage engine                                         | NO           | NO   | NO         |\n+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+\n10 rows in set (0.00 sec)\n\nmysql> show variables like 'mroonga_version';\n+-----------------+-------+\n| Variable_name   | Value |\n+-----------------+-------+\n| mroonga_version | 5.06  |\n+-----------------+-------+\n\n\n6. Mroonga\u306e\u5229\u7528\u65b9\u6cd5\n\u6700\u5f8c\u306bMroonga\u304c\u5229\u7528\u53ef\u80fd\u304b\u78ba\u8a8d\u3059\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aSQL\u6587\u3092\u5165\u529b\u3057\u3001SELECT * FROM diaries WHERE MATCH(content) AGAINST(\"fine\");\u3067\u3001\u51fa\u529b\u7d50\u679c\u3068\u3057\u3066It'll be fine tomorrow.\u306e\u30ec\u30b3\u30fc\u30c9\u304c\u8fd4\u3063\u3066\u304f\u3044\u308c\u3070\u3001\u5168\u6587\u691c\u7d22\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3066\u3044\u307e\u3059\u3002\n// \u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\nmysql> CREATE TABLE diaries (\n    ->   id INT PRIMARY KEY AUTO_INCREMENT,\n    ->   content VARCHAR(255),\n    ->   FULLTEXT INDEX (content)  // \u3053\u3053\u304c\u30dd\u30a4\u30f3\u30c8\n    -> ) ENGINE = Mroonga DEFAULT CHARSET utf8;  // \u3053\u3053\u304c\u30dd\u30a4\u30f3\u30c8\n\n// \u30c7\u30fc\u30bf\u306e\u633f\u5165\nmysql> INSERT INTO diaries (content) VALUES (\"It'll be fine tomorrow.\");\n\n// \u30c7\u30fc\u30bf\u306e\u5168\u6587\u691c\u7d22\u306e\u5b9f\u884c\nmysql> SELECT * FROM diaries WHERE MATCH(content) AGAINST(\"fine\");\n+----+-----------------------------------------+\n| id | content                                 |\n+----+-----------------------------------------+\n|  1 | It'll be fine tomorrow. |\n+----+-----------------------------------------+\n\n\n\u53c2\u8003\u6587\u732e\n\n[ThinkIT] \u7b2c1\u56de\uff1aMySQL\u30b9\u30c8\u30ec\u30fc\u30b8\u30a8\u30f3\u30b8\u30f3\u306e\u6982\u8981 (1_3), http://thinkit.co.jp/free/article/0608/1/1/, Online; accessed 15-September-2015.\n2.5. CentOS \u2014 Groonga v5.0.7\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8, http://groonga.org/ja/docs/install/centos.html#build-from-source, Online; accessed 11-September-2015.\nMac \u306b Groonga_Mroonga 3.0.0 \u3092 homebrew \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u969b\u306b\u306f\u307e\u3063\u305f\u3053\u3068 - aki note, http://d.hatena.ne.jp/akipponn3/20130220/1361371858, Online; accessed 11-September-2015.\n2.7. \u305d\u306e\u4ed6 \u2014 Mroonga v5.06 documentation, http://mroonga.org/ja/docs/install/others.html#build-from-source, Online; accessed 11-September-2015.\n4.1. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c1\u30a7\u30c3\u30af \u2014 Mroonga v5.06 documentation, http://mroonga.org/ja/docs/tutorial/installation_check.html, Online; accessed 11-September-2015.\n4.3. \u30b9\u30c8\u30ec\u30fc\u30b8\u30e2\u30fc\u30c9 \u2014 Mroonga v5.06 documentation, http://mroonga.org/ja/docs/tutorial/storage.html#how-to-use-full-text-search, Online; accessed 11-September-2015.\n\n\u4eca\u56de\u306e\u8a18\u4e8b\u3067\u306f\u3001MySQL\u306bMroonga\u3068\u3044\u3046\u30b9\u30c8\u30ec\u30fc\u30b8\u30a8\u30f3\u30b8\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u30b9\u30c8\u30ec\u30fc\u30b8\u30a8\u30f3\u30b8\u30f3\u3068\u306f\u3001RDBMS\u306b\u304a\u3044\u3066\u3001\u30c7\u30fc\u30bf\u306e\u30a2\u30af\u30bb\u30b9\u3084\u6392\u4ed6\u5236\u5fa1\u3092\u884c\u3046\u90e8\u5206\u306e\u3053\u3068\u3092\u3044\u3046\u3088\u3046\u3067\u3059\u3002[\u3053\u3061\u3089\u306e\u8a18\u4e8b](http://thinkit.co.jp/free/article/0608/1/1/)\u306b\u8a73\u3057\u3044\u8aac\u660e\u304c\u66f8\u3044\u3066\u3042\u308a\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u3067\u306f\u3001Mroonga\u8ffd\u52a0\u306e\u624b\u9806\u3092\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n# 1. groonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nMySQL\u306bMroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u4e8b\u524d\u306bgroonga\u3068\u3044\u3046\u3082\u306e\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\u305d\u3053\u3067\u3001\u307e\u305agroonga\u306e\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\n```\n# wget http://packages.groonga.org/source/groonga/groonga-5.0.7.tar.gz\n# tar xzvf groonga-5.0.7.tar.gz\n# cd groonga-5.0.7\n# ./configure\n# make\n# porg -lD \"make install\"\n```\n\n# 2. groonga\u306e\u30d1\u30b9\u3092\u8a2d\u5b9a\n\u7d9a\u3044\u3066\u3001Mroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u969b\u306b\u4e8b\u524d\u306bgroonga\u306e\u30d1\u30b9\u3092\u901a\u3059\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3068\u30e9\u30a4\u30d6\u30e9\u30ea\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```\n# export GROONGA_CFLAGS=\"-I/usr/local/include/groonga\"\n# export GROONGA_LIBS=\"-L/usr/local/lib -lgroonga\"\n```\n\n```text:\u3053\u3063\u3061\u306e\u307b\u3046\u304c\u826f\u3044\u3089\u3057\u3044\n# PKG_CONFIG_PATH=/usr/local/lib/pkgconfig\n```\n\n# 3. Mroonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u6b21\u306b\u3001Mroonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u969b\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066\u3001**--with-mysql-source**\u306b\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3001**--with-mysql-build**\u306b\u30d3\u30eb\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3001**--with-mysql-config**\u306bconfig\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```\n# wget http://packages.groonga.org/source/mroonga/mroonga-5.06.tar.gz\n# tar xzvf mroonga-5.06.tar.gz \n# cd mroonga-5.06\n# ./configure --with-mysql-source=/usr/local/src/mysql-5.6.25 --with-mysql-build=/usr/local/src/mysql-5.6.25 --with-mysql-config=/usr/local/mysql/bin/mysql_config\n# make\n# porg -lD \"make install\"\n```\n\n# 4. MySQL\u306e\u518d\u8d77\u52d5\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fMroonga\u306e\u30d5\u30a1\u30a4\u30eb\u3092MySQL\u306b\u53cd\u6620\u3055\u305b\u308b\u305f\u3081\u3001MySQL\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\n# service mysqld restart\n```\n\n# 5. MySQL\u306bMroonga\u3092\u8ffd\u52a0\nMroonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u5f8c\u3001MySQL\u3092\u8d77\u52d5\u3057\u3001Mroonga\u3092\u30b9\u30c8\u30ec\u30fc\u30b8\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u3001\u8ffd\u52a0\u3057\u307e\u3059\u3002**show engines**\u30b3\u30de\u30f3\u30c9\u3067**Mroonga**\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n```mysql\n# mysql -u ****\nmysql> install plugin mroonga soname 'ha_mroonga.so';\nQuery OK, 0 rows affected (0.39 sec)\n\nmysql> show engines;\n+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+\n| Engine             | Support | Comment                                                        | Transactions | XA   | Savepoints |\n+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+\n| MyISAM             | YES     | MyISAM storage engine                                          | NO           | NO   | NO         |\n| CSV                | YES     | CSV storage engine                                             | NO           | NO   | NO         |\n| MEMORY             | YES     | Hash based, stored in memory, useful for temporary tables      | NO           | NO   | NO         |\n| BLACKHOLE          | YES     | /dev/null storage engine (anything you write to it disappears) | NO           | NO   | NO         |\n| MRG_MYISAM         | YES     | Collection of identical MyISAM tables                          | NO           | NO   | NO         |\n| InnoDB             | DEFAULT | Supports transactions, row-level locking, and foreign keys     | YES          | YES  | YES        |\n| Mroonga            | YES     | CJK-ready fulltext search, column store                        | NO           | NO   | NO         |\n| FEDERATED          | NO      | Federated MySQL storage engine                                 | NULL         | NULL | NULL       |\n| PERFORMANCE_SCHEMA | YES     | Performance Schema                                             | NO           | NO   | NO         |\n| ARCHIVE            | YES     | Archive storage engine                                         | NO           | NO   | NO         |\n+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+\n10 rows in set (0.00 sec)\n\nmysql> show variables like 'mroonga_version';\n+-----------------+-------+\n| Variable_name   | Value |\n+-----------------+-------+\n| mroonga_version | 5.06  |\n+-----------------+-------+\n```\n\n# 6. Mroonga\u306e\u5229\u7528\u65b9\u6cd5\n\u6700\u5f8c\u306bMroonga\u304c\u5229\u7528\u53ef\u80fd\u304b\u78ba\u8a8d\u3059\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aSQL\u6587\u3092\u5165\u529b\u3057\u3001**SELECT * FROM diaries WHERE MATCH(content) AGAINST(\"fine\");**\u3067\u3001\u51fa\u529b\u7d50\u679c\u3068\u3057\u3066**It'll be fine tomorrow.**\u306e\u30ec\u30b3\u30fc\u30c9\u304c\u8fd4\u3063\u3066\u304f\u3044\u308c\u3070\u3001\u5168\u6587\u691c\u7d22\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3066\u3044\u307e\u3059\u3002\n\n```mysql\n// \u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\nmysql> CREATE TABLE diaries (\n    ->   id INT PRIMARY KEY AUTO_INCREMENT,\n    ->   content VARCHAR(255),\n    ->   FULLTEXT INDEX (content)  // \u3053\u3053\u304c\u30dd\u30a4\u30f3\u30c8\n    -> ) ENGINE = Mroonga DEFAULT CHARSET utf8;  // \u3053\u3053\u304c\u30dd\u30a4\u30f3\u30c8\n\n// \u30c7\u30fc\u30bf\u306e\u633f\u5165\nmysql> INSERT INTO diaries (content) VALUES (\"It'll be fine tomorrow.\");\n\n// \u30c7\u30fc\u30bf\u306e\u5168\u6587\u691c\u7d22\u306e\u5b9f\u884c\nmysql> SELECT * FROM diaries WHERE MATCH(content) AGAINST(\"fine\");\n+----+-----------------------------------------+\n| id | content                                 |\n+----+-----------------------------------------+\n|  1 | It'll be fine tomorrow. |\n+----+-----------------------------------------+\n```\n\n# \u53c2\u8003\u6587\u732e\n1. [ThinkIT] \u7b2c1\u56de\uff1aMySQL\u30b9\u30c8\u30ec\u30fc\u30b8\u30a8\u30f3\u30b8\u30f3\u306e\u6982\u8981 (1_3), http://thinkit.co.jp/free/article/0608/1/1/, Online; accessed 15-September-2015.\n2. 2.5. CentOS \u2014 Groonga v5.0.7\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8, http://groonga.org/ja/docs/install/centos.html#build-from-source, Online; accessed 11-September-2015.\n3. Mac \u306b Groonga_Mroonga 3.0.0 \u3092 homebrew \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u969b\u306b\u306f\u307e\u3063\u305f\u3053\u3068 - aki note, http://d.hatena.ne.jp/akipponn3/20130220/1361371858, Online; accessed 11-September-2015.\n4. 2.7. \u305d\u306e\u4ed6 \u2014 Mroonga v5.06 documentation, http://mroonga.org/ja/docs/install/others.html#build-from-source, Online; accessed 11-September-2015.\n5. 4.1. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c1\u30a7\u30c3\u30af \u2014 Mroonga v5.06 documentation, http://mroonga.org/ja/docs/tutorial/installation_check.html, Online; accessed 11-September-2015.\n6. 4.3. \u30b9\u30c8\u30ec\u30fc\u30b8\u30e2\u30fc\u30c9 \u2014 Mroonga v5.06 documentation, http://mroonga.org/ja/docs/tutorial/storage.html#how-to-use-full-text-search, Online; accessed 11-September-2015.\n", "tags": ["Linux", "MySQL", "mroonga"]}