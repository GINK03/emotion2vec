{"context": "\n\u5225\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u304b\u3089\u5730\u56f3\u306e\u753b\u9762\u306b\u623b\u3063\u3066\u304d\u305f\u308a\u3001\u753b\u9762\u56de\u8ee2\u3059\u308b\u3068\u3001\u73fe\u5728\u4f4d\u7f6e\u304c\u5909\u308f\u3063\u3066\u4f7f\u3044\u52dd\u624b\u304c\u60aa\u3044\u3068\u3044\u3046\u30ec\u30d3\u30e5\u30fc\u3092\u898b\u307e\u3059\u3002icepick\u3067\u7c21\u5358\u306b\u89e3\u6c7a\u3067\u304d\u307e\u3059\u3002\n\nGoogle Maps Activity\u3092\u9078\u629e\n\n\n\u30ad\u30fc\u306e\u8a2d\u5b9a\n\n\nGoogle developers console\u3067Google Maps Android API\u306e\u30ad\u30fc\u3092\u53d6\u5f97\nhttps://console.developers.google.com/?hl=JA\n\nicepick\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nLatLng\u3068zoom\u306e\u5024\u3092\u4fdd\u6301\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3002\n\napply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"24.0.0\"\n    defaultConfig {\n        applicationId \"jp.co.demo.map\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        //\u8ffd\u52a0\n        repositories {\n            maven {url \"https://clojars.org/repo/\"}\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.0.1'\n    compile 'com.google.android.gms:play-services:9.6.1'\n    testCompile 'junit:junit:4.12'\n\n    //\u8ffd\u52a0\n    compile 'frankiesardo:icepick:3.2.0'\n    provided 'frankiesardo:icepick-processor:3.2.0'\n}\n\n\n\nMapsActivity.java\n\nimport android.os.Bundle;\nimport android.support.v4.app.FragmentActivity;\nimport android.widget.Toast;\n\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\n\nimport icepick.Icepick;\nimport icepick.State;\n\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\n\n\n    @State\n    LatLng cLocation = new LatLng(35.658622, 139.745530);\n\n    @State\n    float cZoom = 20;\n\n    private GoogleMap mMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Icepick.restoreInstanceState(this, savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(cLocation,cZoom));\n        mMap.setOnCameraIdleListener(new GoogleMap.OnCameraIdleListener() {\n            @Override\n            public void onCameraIdle() {\n                cZoom = mMap.getCameraPosition().zoom;\n                cLocation = mMap.getCameraPosition().target;\n                Toast.makeText(getApplicationContext(), \"\u30ba\u30fc\u30e0\" + cZoom + \":\" + \"\u7d4c\u7def\u7def\u5ea6\" + cLocation.toString(), Toast.LENGTH_SHORT).show();\n            }\n        });\n\n    }\n\n    @Override public void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n        Icepick.saveInstanceState(this, outState);\n    }\n}\n\n\n\n\n\u307e\u3068\u3081\n\u6570\u884c\u3001\u6570\u5206\u3067\u5b9f\u88c5\u3067\u304d\u308b\u306e\u3067icepick\u306f\u4fbf\u5229\u3002\n![Screenshot_20161208-121844_png.png](https://qiita-image-store.s3.amazonaws.com/0/99731/4d3d0327-1982-1a95-5907-8f56ad0756fc.png)\n\n\n\u5225\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u304b\u3089\u5730\u56f3\u306e\u753b\u9762\u306b\u623b\u3063\u3066\u304d\u305f\u308a\u3001\u753b\u9762\u56de\u8ee2\u3059\u308b\u3068\u3001\u73fe\u5728\u4f4d\u7f6e\u304c\u5909\u308f\u3063\u3066\u4f7f\u3044\u52dd\u624b\u304c\u60aa\u3044\u3068\u3044\u3046\u30ec\u30d3\u30e5\u30fc\u3092\u898b\u307e\u3059\u3002icepick\u3067\u7c21\u5358\u306b\u89e3\u6c7a\u3067\u304d\u307e\u3059\u3002\n\n## Google Maps Activity\u3092\u9078\u629e\n\n![Create_New_Project.png](https://qiita-image-store.s3.amazonaws.com/0/99731/40abc08d-1f3e-dec4-1a61-343cc3c916e1.png)\n\n\n## \u30ad\u30fc\u306e\u8a2d\u5b9a\n\n![google_maps_api_xml_-_Map_-____Desktop_Android_Dropbox_Map_.png](https://qiita-image-store.s3.amazonaws.com/0/99731/5af0125b-18f2-8775-4483-d147a3b6cf8d.png)\n\n## Google developers console\u3067Google Maps Android API\u306e\u30ad\u30fc\u3092\u53d6\u5f97\n\nhttps://console.developers.google.com/?hl=JA\n\n## icepick\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nLatLng\u3068zoom\u306e\u5024\u3092\u4fdd\u6301\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3002\n\n```py3\n\napply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"24.0.0\"\n    defaultConfig {\n        applicationId \"jp.co.demo.map\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        //\u8ffd\u52a0\n        repositories {\n            maven {url \"https://clojars.org/repo/\"}\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.0.1'\n    compile 'com.google.android.gms:play-services:9.6.1'\n    testCompile 'junit:junit:4.12'\n\n    //\u8ffd\u52a0\n    compile 'frankiesardo:icepick:3.2.0'\n    provided 'frankiesardo:icepick-processor:3.2.0'\n}\n\n```\n\n```java:MapsActivity.java\n\nimport android.os.Bundle;\nimport android.support.v4.app.FragmentActivity;\nimport android.widget.Toast;\n\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\n\nimport icepick.Icepick;\nimport icepick.State;\n\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\n\n\n    @State\n    LatLng cLocation = new LatLng(35.658622, 139.745530);\n\n    @State\n    float cZoom = 20;\n\n    private GoogleMap mMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Icepick.restoreInstanceState(this, savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(cLocation,cZoom));\n        mMap.setOnCameraIdleListener(new GoogleMap.OnCameraIdleListener() {\n            @Override\n            public void onCameraIdle() {\n                cZoom = mMap.getCameraPosition().zoom;\n                cLocation = mMap.getCameraPosition().target;\n                Toast.makeText(getApplicationContext(), \"\u30ba\u30fc\u30e0\" + cZoom + \":\" + \"\u7d4c\u7def\u7def\u5ea6\" + cLocation.toString(), Toast.LENGTH_SHORT).show();\n            }\n        });\n\n    }\n\n    @Override public void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n        Icepick.saveInstanceState(this, outState);\n    }\n}\n\n```\n## \u307e\u3068\u3081\n\n\u6570\u884c\u3001\u6570\u5206\u3067\u5b9f\u88c5\u3067\u304d\u308b\u306e\u3067icepick\u306f\u4fbf\u5229\u3002\n\n", "tags": ["Android", "GoogleMapsAPI", "Android\u30a2\u30d7\u30ea\u306e\u958b\u767a\u901f\u5ea6\u3092\u52a0\u901f\u3055\u305b\u308b\u65b9\u6cd5"]}