{"context": "\u5148\u65e5\u3001User Local\u304c\u4eba\u5de5\u77e5\u80fd\u30dc\u30c3\u30c8API\u3092\u516c\u958b\u3057\u307e\u3057\u305f\u3002\u30dc\u30c3\u30c8\u958b\u767a\u306b\u5fc5\u8981\u306a\u81ea\u7136\u8a00\u8a9e\u51e6\u7406\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u96c6\u7d04\u3057\u305f\u3082\u306e\u3067\u3001\u73fe\u6642\u70b9\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6a5f\u80fd\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u5168\u81ea\u52d5\u4f1a\u8a71API\n\u6c0f\u540d\u81ea\u52d5\u8b58\u5225API\n\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u4f1a\u8a71API\n\u5f62\u614b\u7d20\u89e3\u6790API\n\n\u524d\u56de\u306f\u5168\u81ea\u52d5\u4f1a\u8a71API\u3092\u8a66\u3057\u305f\u306e\u3067\u3001\u4eca\u56de\u306f\u6c0f\u540d\u81ea\u52d5\u8b58\u5225API\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\u3055\u3089\u306b\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3068\u3057\u3066\u3001\u30a2\u30a4\u30c9\u30eb\u30de\u30b9\u30bf\u30fc\u30b7\u30f3\u30c7\u30ec\u30e9\u30ac\u30fc\u30eb\u30ba\u306b\u767b\u5834\u3059\u308b\u30a2\u30a4\u30c9\u30eb 196\u4eba\u306e\u540d\u524d\u3092\u8b58\u5225\u3055\u305b\u3001\u7cbe\u5ea6\u3092\u691c\u8a3c\u3057\u3066\u307f\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u3001\u30a2\u30a4\u30c9\u30eb\u306e\u540d\u524d\u306fPixiv\u767e\u79d1\u4e8b\u5178\u304b\u3089\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u304d\u307e\u3057\u305f\u3002\n\u52a0\u3048\u3066\u3001\u3053\u306eAPI\u3092\u81ea\u793e\u30b5\u30fc\u30d3\u30b9\u306b\u7d44\u307f\u8fbc\u3080\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3001\u30d5\u30eb\u30cd\u30fc\u30e0\u3092\u5165\u529b\u3057\u305f\u3089 \u6027\u3001 \u540d\u3001 \u6027\u5225\u3092\u8fd4\u3059LINE\u30dc\u30c3\u30c8\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n\u6a5f\u80fd\u78ba\u8a8d\n\n\u6e96\u5099\n\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3053\u3053\u304b\u3089\u4f1a\u54e1\u767b\u9332\u304c\u5fc5\u8981\u3067\u3001\u73fe\u5728\u3001\u7b2c2\u671f\u52df\u96c6\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\u81ea\u5206\u306f\u7b2c\u4e00\u671f\u306b\u7533\u3057\u8fbc\u3093\u3067\u30016\u670815\u65e5\u306bAPI\u30ad\u30fc\u304c\u5c4a\u304d\u307e\u3057\u305f\u3002\u4eca\u304b\u3089\u7533\u3057\u8fbc\u3093\u3060\u5834\u5408\u306f\u3001\u5229\u7528\u3067\u304d\u308b\u307e\u3067\u306b\u82e5\u5e72\u6642\u9593\u304c\u304b\u304b\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u305f\u3060\u3057\u3001\u4f1a\u54e1\u767b\u9332\u3057\u306a\u304f\u3066\u3082\u8a66\u7528\u3059\u308b\u65b9\u6cd5\u306f\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001\u4eca\u56de\u306fBot\u5b9f\u88c5\u306b\u3042\u305f\u3063\u3066\u3001Ruby\u3001sinatra\u3001heroku\u3001LINE BOT API\u7b49\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\u53c2\u80031 \u53c2\u80032\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092\u63a1\u308b\u524d\u306b\u3068\u308a\u3042\u3048\u305a\u901a\u4fe1\u3057\u3066\u307f\u307e\u3059\u3002\u6c0f\u540d\u81ea\u52d5\u8b58\u5225API\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4ed8\u4e0e\u3057\u3066https://chatbot-api.userlocal.jp/api/name\u306b\u5411\u3051\u3066GET\u3059\u308c\u3070\u3044\u3044\u3088\u3046\u3067\u3059(POST\u3082\u3067\u304d\u307e\u3059)\u3002\nhttps://chatbot-api.userlocal.jp/api/name?key=your_api_key&name=\u7530\u4e2d\u592a\u90ce\n\n\"key\"\u306fUserLocal\u304b\u3089\u63d0\u4f9b\u3055\u308c\u308bAPI\u30ad\u30fc\u3067\u3059\u3002\"name\"\u306b\u8b58\u5225\u3055\u305b\u305f\u3044\u540d\u524d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u3001key\u306b \"sample\"\u3068\u5165\u308c\u308b\u3068\u3001\u672a\u767b\u9332\u3067\u3082\u5229\u7528\u3067\u304d\u307e\u3059(10\u56de/1h\u307e\u3067)\u3002\n\u305d\u308c\u3067\u306f\u8a66\u3057\u306b\u901a\u4fe1\u3057\u3066\u3001\u7d50\u679c\u3092\u53d7\u3051\u53d6\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002 \"\u5929\u6d77\u6625\u9999\" \u3092\u8b58\u5225\u3055\u305b\u3066\u307f\u307e\u3057\u305f\u3002\u6700\u521d\u306fPOST\u3067\u901a\u4fe1\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u304c\u3001Ruby\u306eRestClient\u3067\u306f\u306a\u305c\u304bjson\u304c\u6e21\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3001get\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u3063\u3066\u3044\u307e\u3059\u3002\nrequire 'json'\nrequire 'rest-client'\nrequire \"cgi\"\n\nrequest_content = {'key' => 'your_api_key', 'name' => CGI.escape('\u5929\u6d77\u6625\u9999')}\nrequest_params = request_content.reduce([]) do |params, (key, value)|\n  params << \"#{key}=#{value}\"\nend\nrest = RestClient.get('https://chatbot-api.userlocal.jp/api/name?' + request_params.join('&').to_s)\nresult = JSON.parse(rest)\np result\n\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u307e\u3057\u305f(\u5b9f\u969b\u306f\u30a4\u30f3\u30c7\u30f3\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093)\u3002\n{\n  \"status\"=>\"success\",\n  \"result\"=>{\n    \"last_name\"=>\"\u5929\u6d77\", \"last_name_yomi\"=>nil,\n    \"first_name\"=>\"\u6625\u9999\", \"first_name_yomi\"=>\"\u306f\u308b\u304b\",\n    \"gender\"=>2, \"gender_accuracy\"=>5,\n    \"nickname\"=>[\"\u306f\u308b\u3074\u30fc\", \"\u306f\u308b\u305f\u3093\", \"\u306f\u308b\u3061\u3083\u3093\", \"\u306f\u308b\u307d\u3093\", \"\u304d\u3061\", \"\u306f\u308b\u305f\u308d\u30fc\", \"\u306f\u308b\u306e\u3059\u3051\", \"\u306f\u308b\u3079\u3048\", \"\u306f\u308b\u3063\u3061\", \"\u6625\u592a\u90ce\", \"\u306f\u308b\"]\n  }\n}\n\n\u7d50\u679c\u306ejson\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002\"last_name\"\u3068\"first_name\"\u3067\u6027\u3068\u540d\u304c\u305d\u308c\u305e\u308c\u8b58\u5225\u3055\u308c\u307e\u3059\u3002\u3055\u3089\u306b\u3001\u3072\u3089\u304c\u306a\u3067\u306e\u8aad\u307f\u3082\u4e88\u6e2c\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u4eca\u56de\u306e\u4f8b\u3067\u306f\u6027\u3068\u540d\u306e\u5206\u5272\u306f\u6210\u529f\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u6027\u306e\u8aad\u307f\u4eee\u540d\u304cnil\u3068\u306a\u3063\u3066\u304a\u308a\u3001\u3046\u307e\u304f\u8b58\u5225\u3067\u304d\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\u6b21\u306b \"gender\" \u3068 \"gender_accuracy\" \u3067\u3059\u3002\"gender\" \u306f \"1\" \u304c\u7537\u6027\u3067 \"2\" \u304c\u5973\u6027\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002\"gender_accuracy\" \u306f\u7537\u5973\u8b58\u5225\u306e\u7cbe\u5ea6\u3092\u8868\u3057\u307e\u3059(0-5\u306e\u7bc4\u56f2)\u3002\n\"nickname\" \u306f\u898b\u3066\u306e\u901a\u308a\u3001\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\u306e\u5019\u88dc\u3092\u3044\u304f\u3064\u304b\u63d0\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u4f55\u901a\u308a\u304b\u8a66\u3057\u3066\u898b\u307e\u3057\u305f\u304c\u3001\u5358\u7d14\u306a\u30d1\u30bf\u30fc\u30f3\u3057\u304b\u7528\u610f\u3055\u308c\u3066\u3044\u306a\u3044\u5370\u8c61\u3067\u3059\u3002\n\n\u30c7\u30ec\u30de\u30b9\u30ad\u30e3\u30e9\u306b\u3088\u308b\u691c\u8a3c\n\u305d\u308c\u3067\u306f\u3001\u5b9f\u969b\u306b\u30c7\u30ec\u30de\u30b9\u30ad\u30e3\u30e9\u306e\u540d\u524d\u3092\u4f7f\u3063\u3066\u691c\u8a3c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u4eca\u56de\u306f\u3001\n\nfirst_name\u3068last_name\u306e\u8b58\u5225\u304c\u6b63\u3057\u3044\u304b\n\u6027\u5225\u306e\u8b58\u5225\u304c\u6b63\u3057\u3044\u304b\n\n\u306e\u4e8c\u70b9\u3092\u8a55\u4fa1\u3057\u307e\u3059\u3002\n\n\u5165\u529b\u5024\n\u30c7\u30ec\u30de\u30b9\u306b\u767b\u5834\u3059\u308b\u30a2\u30a4\u30c9\u30eb196\u4eba\u306e\u540d\u524d\u3092\u5217\u6319\u3057\u305fCSV\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u81ea\u5206\u306f\u3001Pixiv\u5927\u767e\u79d1\u304b\u3089\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u304d\u307e\u3057\u305f\u3002\n\nidol_name_list_full.csv\n\u76f8\u539f\u96ea\u4e43,\u8d64\u897f\u745b\u68a8\u83ef,\u6d45\u91ce\u98a8\u9999,\u5b89\u90e8\u83dc\u3005,\u5929\u6d77\u6625\u9999,\u6709\u6d66\u67d1\u5948,\u5b89\u658e\u90fd,\u4e94\u5341\u5d50\u97ff\u5b50,\u6c60\u888b\u6676\u8449,\u4e00\u30ce\u702c\u5fd7\u5e0c,\u4eca\u4e95\u52a0\u5948,\u4e95\u6751\u96ea\u83dc,\u6c5f\u4e0a\u693f,\u592a\u7530\u512a,\u5927\u897f\u7531\u91cc\u5b50,\u5927\u6cbc\u304f\u308b\u307f,\u5927\u539f\u307f\u3061\u308b,\u7dd2\u65b9\u667a\u7d75\u91cc,\u5965\u5c71\u6c99\u7e54,\u4e59\u5009\u60a0\u8cb4,\u6211\u90a3\u8987\u97ff,\u83ca\u5730\u771f,\u65e5\u4e0b\u90e8\u82e5\u8449,\u5de5\u85e4\u5fcd,\u30af\u30e9\u30ea\u30b9,\u6817\u539f\u30cd\u30cd,\u53e4\u8cc0\u5c0f\u6625,\u8f3f\u6c34\u5e78\u5b50,\u5c0f\u65e9\u5ddd\u7d17\u679d,\u5c0f\u65e5\u5411\u7f8e\u7a42,\u897f\u5712\u5bfa\u7434\u6b4c,\u698a\u539f\u91cc\u7f8e,\u4f50\u4e45\u9593\u307e\u3086,\u6afb\u4e95\u6843\u83ef,\u690e\u540d\u6cd5\u5b50,\u5cf6\u6751\u536f\u6708,\u767d\u83ca\u307b\u305f\u308b,\u6dbc\u5bae\u661f\u82b1,\u95a2\u88d5\u7f8e,\u9ad8\u69fb\u3084\u3088\u3044,\u6708\u5bae\u96c5,\u9053\u660e\u5bfa\u6b4c\u9234,\u9577\u5bcc\u84ee\u5b9f,\u4e2d\u91ce\u6709\u9999,\u4e39\u7fbd\u4ec1\u7f8e,\u65e9\u5742\u7f8e\u73b2,\u539f\u7530\u7f8e\u4e16,\u5175\u85e4\u30ec\u30ca,\u798f\u5c71\u821e,\u85e4\u672c\u91cc\u5948,\u53cc\u8449\u674f,\u524d\u5ddd\u307f\u304f,\u677e\u539f\u65e9\u8036,\u9593\u4e2d\u7f8e\u91cc,\u6c34\u672c\u3086\u304b\u308a,\u4e09\u6751\u304b\u306a\u5b50,\u5bae\u672c\u30d5\u30ec\u30c7\u30ea\u30ab,\u68df\u65b9\u611b\u6d77,\u6751\u677e\u3055\u304f\u3089,\u6301\u7530\u4e9c\u91cc\u6c99,\u6843\u4e95\u3042\u305a\u304d,\u694a\u83f2\u83f2,\u67f3\u6e05\u826f,\u67f3\u702c\u7f8e\u7531\u7d00,\u904a\u4f50\u3053\u305a\u3048,\u6a2a\u5c71\u5343\u4f73,\u76f8\u5ddd\u5343\u590f,\u79cb\u6708\u5f8b\u5b50,\u6d45\u5229\u4e03\u6d77,\u30a2\u30ca\u30b9\u30bf\u30b7\u30a2,\u7dbe\u702c\u7a42\u4e43\u9999,\u8352\u6728\u6bd4\u5948,\u4f0a\u96c6\u9662\u60e0,\u6c0f\u5bb6\u3080\u3064\u307f,\u6885\u6728\u97f3\u8449,\u5927\u77f3\u6cc9,\u5ca1\u5d0e\u6cf0\u8449,\u4e0a\u6761\u6625\u83dc,\u795e\u8c37\u5948\u7dd2,\u5ddd\u5cf6\u745e\u6a39,\u795e\u5d0e\u862d\u5b50,\u5982\u6708\u5343\u65e9,\u5cb8\u90e8\u5f69\u83ef,\u6728\u5834\u771f\u5948\u7f8e,\u6850\u91ce\u30a2\u30e4,\u6850\u751f\u3064\u304b\u3055,\u9ed2\u5ddd\u5343\u79cb,\u30b1\u30a4\u30c8,\u5c0f\u5ba4\u5343\u5948\u7f8e,\u9dfa\u6ca2\u6587\u9999,\u4f50\u3005\u6728\u5343\u679d,\u4f50\u57ce\u96ea\u7f8e,\u5869\u898b\u5468\u5b50,\u56db\u6761\u8cb4\u97f3,\u7be0\u539f\u793c,\u6e0b\u8c37\u51db,\u767d\u5742\u5c0f\u6885,\u702c\u540d\u8a69\u7e54,\u9ad8\u57a3\u6953,\u9ad8\u6a4b\u793c\u5b50,\u9df9\u5bcc\u58eb\u8304\u5b50,\u9ad8\u5cef\u306e\u3042,\u591a\u7530\u674e\u8863\u83dc,\u6a58\u3042\u308a\u3059,\u6771\u90f7\u3042\u3044,\u6210\u5bae\u7531\u611b,\u897f\u5ddd\u4fdd\u5948\u7f8e,\u65b0\u7530\u7f8e\u6ce2,\u4e8c\u5bae\u98db\u9ce5,\u670d\u90e8\u77b3\u5b50,\u901f\u6c34\u594f,\u67ca\u5fd7\u4e43,\u85e4\u5c45\u670b,\u85e4\u539f\u8087,\u53e4\u6fa4\u983c\u5b50,\u30d8\u30ec\u30f3,\u5317\u6761\u52a0\u84ee,\u677e\u5c3e\u5343\u9db4,\u677e\u6c38\u6dbc,\u677e\u672c\u6c99\u7406\u5948,\u4e09\u6d66\u3042\u305a\u3055,\u6c34\u6728\u8056\u4f86,\u6c34\u91ce\u7fe0,\u4e09\u8239\u7f8e\u512a,\u671b\u6708\u8056,\u68ee\u4e45\u4fdd\u4e43\u3005,\u516b\u795e\u30de\u30ad\u30ce,\u5927\u548c\u4e9c\u5b63,\u7d50\u57ce\u6674,\u5409\u5ca1\u6c99\u7d00,\u30e9\u30a4\u30e9,\u8107\u5c71\u73e0\u7f8e,\u548c\u4e45\u4e95\u7559\u7f8e,\u611b\u91ce\u6e1a,\u76f8\u8449\u5915\u7f8e,\u8d64\u57ce\u307f\u308a\u3042,\u30a4\u30f4\u30fb\u30b5\u30f3\u30bf\u30af\u30ed\u30fc\u30b9,\u5e02\u539f\u4ec1\u5948,\u4e0a\u7530\u9234\u5e06,\u885b\u85e4\u7f8e\u7d17\u5e0c,\u6d77\u8001\u539f\u83dc\u5e06,\u53ca\u5ddd\u96eb,\u5927\u69fb\u552f,\u7247\u6850\u65e9\u82d7,\u5317\u5ddd\u771f\u5c0b,\u559c\u591a\u65e5\u83dc\u5b50,\u559c\u591a\u898b\u67da,\u6728\u6751\u590f\u6a39,\u30ad\u30e3\u30b7\u30fc\u30fb\u30b0\u30e9\u30cf\u30e0,\u5c0f\u95a2\u9e97\u5948,\u5c0f\u677e\u4f0a\u5439,\u8ca1\u524d\u6642\u5b50,\u6589\u85e4\u6d0b\u5b50,\u51b4\u5cf6\u6e05\u7f8e,\u4f50\u85e4\u5fc3,\u6ca2\u7530\u9ebb\u7406\u83dc,\u9996\u85e4\u8475,\u57ce\u30f6\u5d0e\u7f8e\u5609,\u57ce\u30f6\u5d0e\u8389\u5609,\u6749\u5742\u6d77,\u4ed9\u5d0e\u6075\u78e8,\u76f8\u99ac\u590f\u7f8e,\u9ad8\u68ee\u85cd\u5b50,\u571f\u5c4b\u4e9c\u5b50,\u5341\u6642\u611b\u68a8,\u30ca\u30bf\u30fc\u30ea\u30a2,\u4e26\u6728\u82bd\u8863\u5b50,\u5357\u6761\u5149,\u96e3\u6ce2\u7b11\u7f8e,\u897f\u5cf6\u6ac2,\u91ce\u3005\u6751\u305d\u3089,\u8429\u539f\u96ea\u6b69,\u6d5c\u5ddd\u611b\u7d50\u5948,\u6d5c\u53e3\u3042\u3084\u3081,\u65e5\u91ce\u831c,\u59eb\u5ddd\u53cb\u7d00,\u53cc\u6d77\u4e9c\u7f8e,\u53cc\u6d77\u771f\u7f8e,\u661f\u4e95\u7f8e\u5e0c,\u661f\u8f1d\u5b50,\u5800\u88d5\u5b50,\u672c\u7530\u672a\u592e,\u69d9\u539f\u5fd7\u4fdd,\u677e\u5c71\u4e45\u7f8e\u5b50,\u7684\u5834\u68a8\u6c99,\u771f\u934b\u3044\u3064\u304d,\u4e09\u597d\u7d17\u5357,\u6c34\u702c\u4f0a\u7e54,\u5411\u4e95\u62d3\u6d77,\u6751\u4e0a\u5df4,\u30e1\u30a2\u30ea\u30fc\u30fb\u30b3\u30af\u30e9\u30f3,\u8af8\u661f\u304d\u3089\u308a,\u77e2\u53e3\u7f8e\u7fbd,\u4f9d\u7530\u82b3\u4e43,\u9f8d\u5d0e\u85ab,\u82e5\u6797\u667a\u9999\n\n\n\n\u51fa\u529b\u5024\n\"\u6027 \u540d \u6027\u5225ID\" \u306e\u5f62\u5f0f\u3067CSV\u3092\u51fa\u529b\u3055\u305b\u307e\u3059\u3002\u4e0a\u8a18\u52d5\u4f5c\u78ba\u8a8d\u306e\u4f8b\u3060\u3068\u3001\n\"\u5929\u6d77 \u6625\u9999 2\",\n\n\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u5b9f\u88c5\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u5b9f\u884c\u3057\u307e\u3057\u305f\u3002\n\nname_parser.rb\nrequire 'json'\nrequire 'rest-client'\nrequire \"cgi\"\nrequire 'csv'\n\nname_list = []\n\nfilename = \"idol_name_list_full.csv\"\n\nCSV.foreach(filename) do |line|\n  name_list.concat line\nend\n\nname_list_detail = name_list.map do |name|\n  request_content = {'key' => 'your_api_key', 'name' => CGI.escape(name)}\n  request_params = request_content.reduce([]) do |params, (key, value)|\n    params << \"#{key}=#{value}\"\n  end\n  rest = RestClient.get('https://chatbot-api.userlocal.jp/api/name?' + request_params.join('&').to_s)\n  result = JSON.parse(rest)['result']\n  \"#{result['last_name']} #{result['first_name']} #{result['gender']}\"\nend\n\nopen(\"idol_name_list_parsed.csv\", \"w\"){|f| f.write name_list_detail.join(',')}\n\n\n\u7279\u306b\u96e3\u3057\u3044\u3053\u3068\u306f\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u30b3\u30fc\u30c9\u306e\u8aac\u660e\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n\u7d50\u679c\n\u4ee5\u4e0b\u304c\u51fa\u529b\u3055\u308c\u305fCSV\u3067\u3059\u3002\n\nidol_name_list_parsed\n\u76f8\u539f \u96ea\u4e43 0,\u8d64\u897f\u745b\u68a8 \u83ef 2,\u6d45\u91ce \u98a8\u9999 0,\u5b89\u90e8 \u83dc\u3005 2,\u5929\u6d77 \u6625\u9999 2,\u6709\u6d66\u67d1 \u5948 0,\u5b89\u658e \u90fd 2,\u4e94\u5341\u5d50 \u97ff\u5b50 2,\u6c60 \u888b\u6676\u8449 0,\u4e00\u30ce\u702c \u5fd7\u5e0c 0,\u4eca\u4e95 \u52a0\u5948 2,\u4e95\u6751 \u96ea\u83dc 0,\u6c5f\u4e0a \u693f 0,\u592a\u7530 \u512a 0,\u5927\u897f \u7531\u91cc\u5b50 2,\u5927\u6cbc \u304f\u308b\u307f 0,\u5927\u539f \u307f\u3061\u308b 2,\u7dd2\u65b9\u667a \u7d75\u91cc 2,\u5965\u5c71 \u6c99\u7e54 2,\u4e59\u5009\u60a0 \u8cb4 1,\u6211\u90a3\u8987 \u97ff 0,\u83ca\u5730 \u771f 1,\u65e5\u4e0b\u90e8 \u82e5\u8449 0,\u5de5\u85e4 \u5fcd 0,\u30af\u30e9 \u30ea\u30b9 0,\u6817\u539f \u30cd\u30cd 0,\u53e4\u8cc0 \u5c0f\u6625 0,\u8f3f\u6c34 \u5e78\u5b50 2,\u5c0f\u65e9\u5ddd \u7d17\u679d 0,\u5c0f\u65e5\u5411 \u7f8e\u7a42 2,\u897f \u5712\u5bfa\u7434\u6b4c 0,\u698a\u539f \u91cc\u7f8e 2,\u4f50\u4e45\u9593 \u307e\u3086 2,\u6afb\u4e95 \u6843\u83ef 0,\u690e\u540d \u6cd5\u5b50 2,\u5cf6\u6751 \u536f\u6708 0,\u767d \u83ca\u307b\u305f\u308b 0,\u6dbc\u5bae\u661f \u82b1 2,\u95a2 \u88d5\u7f8e 2,\u9ad8\u69fb \u3084\u3088\u3044 2,\u6708\u5bae \u96c5 0,\u9053\u660e\u5bfa\u6b4c \u9234 0,\u9577\u5bcc\u84ee \u5b9f 1,\u4e2d\u91ce \u6709\u9999 2,\u4e39\u7fbd \u4ec1\u7f8e 2,\u65e9\u5742 \u7f8e\u73b2 0,\u539f\u7530 \u7f8e\u4e16 0,\u5175\u85e4 \u30ec\u30ca 0,\u798f\u5c71 \u821e 2,\u85e4\u672c \u91cc\u5948 2,\u53cc\u8449 \u674f 2,\u524d\u5ddd \u307f\u304f 0,\u677e\u539f \u65e9\u8036 0,\u9593\u4e2d \u7f8e\u91cc 2,\u6c34\u672c \u3086\u304b\u308a 2,\u4e09\u6751 \u304b\u306a\u5b50 0,\u5bae\u672c \u30d5\u30ec\u30c7\u30ea\u30ab 0,\u68df\u65b9 \u611b\u6d77 0,\u6751\u677e \u3055\u304f\u3089 2,\u6301\u7530 \u4e9c\u91cc\u6c99 2,\u6843\u4e95 \u3042\u305a\u304d 0,\u694a \u83f2\u83f2 0,\u67f3\u6e05 \u826f 1,\u67f3\u702c \u7f8e\u7531\u7d00 2,\u904a\u4f50 \u3053\u305a\u3048 2,\u6a2a\u5c71 \u5343\u4f73 2,\u76f8\u5ddd \u5343\u590f 2,\u79cb\u6708 \u5f8b\u5b50 2,\u6d45\u5229 \u4e03\u6d77 0,\u30a2\u30ca\u30b9 \u30bf\u30b7\u30a2 0,\u7dbe\u702c\u7a42\u4e43 \u9999 2,\u8352\u6728 \u6bd4\u5948 0,\u4f0a\u96c6\u9662 \u60e0 2,\u6c0f\u5bb6 \u3080\u3064\u307f 2,\u6885\u6728 \u97f3\u8449 0,\u5927\u77f3 \u6cc9 0,\u5ca1\u5d0e \u6cf0\u8449 0,\u4e0a\u6761 \u6625\u83dc 2,\u795e\u8c37 \u5948\u7dd2 2,\u5ddd\u5cf6 \u745e\u6a39 1,\u795e\u5d0e \u862d\u5b50 0,\u5982\u6708 \u5343\u65e9 0,\u5cb8\u90e8 \u5f69\u83ef 0,\u6728\u5834 \u771f\u5948\u7f8e 2,\u6850\u91ce \u30a2\u30e4 0,\u6850\u751f \u3064\u304b\u3055 2,\u9ed2\u5ddd \u5343\u79cb 2,\u30b1\u30a4 \u30c8 0,\u5c0f\u5ba4 \u5343\u5948\u7f8e 0,\u9dfa\u6ca2\u6587 \u9999 2,\u4f50\u3005\u6728 \u5343\u679d 2,\u4f50\u57ce \u96ea\u7f8e 0,\u5869\u898b \u5468\u5b50 2,\u56db\u6761\u8cb4 \u97f3 0,\u7be0\u539f \u793c 0,\u6e0b\u8c37 \u51db 0,\u767d\u5742 \u5c0f\u6885 0,\u702c\u540d \u8a69\u7e54 2,\u9ad8\u57a3 \u6953 2,\u9ad8\u6a4b \u793c\u5b50 2,\u9df9 \u5bcc\u58eb\u8304\u5b50 0,\u9ad8 \u5cef\u306e\u3042 0,\u591a\u7530 \u674e\u8863\u83dc 0,\u6a58 \u3042\u308a\u3059 0,\u6771\u90f7 \u3042\u3044 2,\u6210\u5bae\u7531 \u611b 2,\u897f\u5ddd \u4fdd\u5948\u7f8e 0,\u65b0\u7530 \u7f8e\u6ce2 2,\u4e8c\u5bae \u98db\u9ce5 0,\u670d\u90e8 \u77b3\u5b50 0,\u901f\u6c34 \u594f 0,\u67ca \u5fd7\u4e43 2,\u85e4\u5c45 \u670b 0,\u85e4\u539f \u8087 1,\u53e4\u6fa4 \u983c\u5b50 2,\u30d8\u30ec \u30f3 0,\u5317 \u6761\u52a0\u84ee 0,\u677e\u5c3e \u5343\u9db4 2,\u677e\u6c38 \u6dbc 1,\u677e\u672c \u6c99\u7406\u5948 0,\u4e09\u6d66 \u3042\u305a\u3055 2,\u6c34\u6728 \u8056\u4f86 0,\u6c34\u91ce \u7fe0 2,\u4e09\u8239\u7f8e \u512a 0,\u671b\u6708 \u8056 1,\u68ee \u4e45\u4fdd\u4e43\u3005 0,\u516b\u795e \u30de\u30ad\u30ce 0,\u5927\u548c \u4e9c\u5b63 2,\u7d50\u57ce \u6674 0,\u5409\u5ca1 \u6c99\u7d00 2,\u30e9 \u30a4\u30e9 0,\u8107\u5c71 \u73e0\u7f8e 2,\u548c\u4e45\u4e95 \u7559\u7f8e 2,\u611b\u91ce \u6e1a 2,\u76f8\u8449 \u5915\u7f8e 0,\u8d64\u57ce \u307f\u308a\u3042 0,\u30a4\u30f4 \u30b5\u30f3\u30bf\u30af\u30ed\u30fc\u30b9 0,\u5e02\u539f \u4ec1\u5948 0,\u4e0a\u7530 \u9234\u5e06 0,\u885b\u85e4 \u7f8e\u7d17\u5e0c 0,\u6d77\u8001\u539f \u83dc\u5e06 0,\u53ca\u5ddd \u96eb 0,\u5927\u69fb \u552f 2,\u7247\u6850 \u65e9\u82d7 2,\u5317\u5ddd \u771f\u5c0b 0,\u559c\u591a \u65e5\u83dc\u5b50 0,\u559c\u591a \u898b\u67da 0,\u6728\u6751 \u590f\u6a39 0,\u30ad\u30e3\u30b7\u30fc \u30b0\u30e9\u30cf\u30e0 0,\u5c0f\u95a2 \u9e97\u5948 0,\u5c0f\u677e \u4f0a\u5439 0,\u8ca1\u524d \u6642\u5b50 0,\u6589\u85e4 \u6d0b\u5b50 2,\u51b4\u5cf6 \u6e05\u7f8e 2,\u4f50\u85e4 \u5fc3 0,\u6ca2\u7530 \u9ebb\u7406\u83dc 0,\u9996\u85e4 \u8475 2,\u57ce\u30f6\u5d0e \u7f8e\u5609 0,\u57ce \u30f6\u5d0e\u8389\u5609 0,\u6749\u5742 \u6d77 1,\u4ed9\u5d0e\u6075 \u78e8 0,\u76f8\u99ac \u590f\u7f8e 2,\u9ad8\u68ee \u85cd\u5b50 2,\u571f\u5c4b \u4e9c\u5b50 2,\u5341\u6642 \u611b\u68a8 2,\u30ca\u30bf\u30fc \u30ea\u30a2 0,\u4e26\u6728 \u82bd\u8863\u5b50 0,\u5357\u6761 \u5149 1,\u96e3\u6ce2 \u7b11\u7f8e 0,\u897f \u5cf6\u6ac2 0,\u91ce\u3005\u6751 \u305d\u3089 0,\u8429\u539f\u96ea \u6b69 0,\u6d5c \u5ddd\u611b\u7d50\u5948 0,\u6d5c\u53e3 \u3042\u3084\u3081 0,\u65e5\u91ce \u831c 2,\u59eb\u5ddd \u53cb\u7d00 2,\u53cc\u6d77 \u4e9c\u7f8e 2,\u53cc\u6d77 \u771f\u7f8e 2,\u661f\u4e95 \u7f8e\u5e0c 2,\u661f \u8f1d\u5b50 0,\u5800 \u88d5\u5b50 2,\u672c\u7530 \u672a\u592e 2,\u69d9\u539f \u5fd7\u4fdd 2,\u677e\u5c71 \u4e45\u7f8e\u5b50 2,\u7684\u5834 \u68a8\u6c99 2,\u771f\u934b \u3044\u3064\u304d 0,\u4e09\u597d \u7d17\u5357 0,\u6c34\u702c \u4f0a\u7e54 0,\u5411\u4e95 \u62d3\u6d77 1,\u6751\u4e0a \u5df4 0,\u30e1\u30a2\u30ea\u30fc \u30b3\u30af\u30e9\u30f3 0,\u8af8\u661f \u304d\u3089\u308a 0,\u77e2\u53e3 \u7f8e\u7fbd 0,\u4f9d\u7530 \u82b3\u4e43 0,\u9f8d\u5d0e \u85ab 0,\u82e5\u6797 \u667a\u9999 2\n\n\n\u7d50\u679c\u3092\u8a73\u3057\u304f\u898b\u3066\u3044\u304d\u307e\u3059\u3002\u307e\u305a\u3001\u30a2\u30a4\u30c9\u30eb196\u4eba\u4e2d\u3001\"\u30a2\u30ca\u30b9\u30bf\u30b7\u30a2\"\u3000\u3001 \"\u30e9\u30a4\u30e9\" \u306a\u3069last_name\u3001 first_name\u306e\u6982\u5ff5\u304c\u306a\u3044\u3082\u306e\u3092\u53d6\u308a\u9664\u304d\u307e\u3059\u3002\u305d\u306e\u4e0a\u3067\u3001\n\nlast_name\u3001 first_name\u8b58\u5225\u7cbe\u5ea6 = 88%\n190\u4eba\u4e2d\u3001\u8b58\u5225\u306e\u9593\u9055\u3044\u304c23\u4eba\u3042\u308a\u307e\u3057\u305f\u3002\"\u8d64\u897f\u745b\u68a8 \u83ef\" \u306a\u3069\u30015\u6587\u5b57\u4ee5\u4e0a\u3067\u8b58\u5225\u9593\u9055\u3044\u304c\u591a\u3044\u5370\u8c61\u3067\u3059\u3002\u3061\u306a\u307f\u306b\u3001\"\u30ad\u30e3\u30b7\u30fc \u30b0\u30e9\u30cf\u30e0\" \u3084 \"\u30a4\u30f4 \u30b5\u30f3\u30bf\u30af\u30ed\u30fc\u30b9\"\u306a\u3069\u3001\u65e5\u672c\u540d\u3067\u306f\u306a\u3044\u3082\u306e\u3082\u8b58\u5225\u3067\u304d\u3066\u3044\u307e\u3057\u305f\u3002\n\n\u6027\u5225\u8b58\u5225\u7cbe\u5ea6 = 42% (87%)\n190\u4eba\u4e2d\u3001\u5973\u6027\u3068\u5224\u65ad\u3055\u308c\u305f\u3082\u306e\u304c79\u3001 \u7537\u6027\u304c11\u3001 \u8b58\u5225\u4e0d\u80fd\u304c100\u3067\u3057\u305f\u3002\u7537\u6027\u3068\u8b58\u5225\u3055\u308c\u305f\u3082\u306e\u306b\u95a2\u3057\u3066\u306f\u3001\"\u5ddd\u5cf6 \u745e\u6a39\" \u3084 \"\u5411\u4e95 \u62d3\u6d77\"\u306e\u3088\u3046\u306b\u7537\u5973\u3069\u3061\u3089\u3067\u3082\u304a\u304b\u3057\u304f\u306a\u3044\u540d\u524d\u304c\u591a\u304b\u3063\u305f\u306e\u3067\u3001\u4ed5\u65b9\u304c\u306a\u3044\u304b\u306a\u30fc\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u534a\u5206\u4ee5\u4e0a\u304c\u8b58\u5225\u4e0d\u80fd\u5224\u5b9a\u3068\u306a\u3063\u305f\u306e\u306f\u6b8b\u5ff5\u306a\u7d50\u679c\u3067\u3059\u3002\u8b58\u5225\u4e0d\u80fd\u3092\u9664\u3044\u305f\u5834\u5408\u3001\u7cbe\u5ea6\u306f87%\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\nLINE\u30dc\u30c3\u30c8\u306e\u5b9f\u88c5\n\u6700\u5f8c\u306b\u3001\u30d5\u30eb\u30cd\u30fc\u30e0\u3092\u5165\u529b\u3057\u305f\u3089 \u6027\u3001 \u540d\u3001 \u6027\u5225\u3092\u8fd4\u3059LINE\u30dc\u30c3\u30c8\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\u4eca\u56de\u306f\u3001Ruby\u3001Sinatra\u3001heroku\u3001LINE BOT API\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u3042\u305f\u308a\u306e\u8a73\u3057\u3044\u4f7f\u7528\u65b9\u6cd5\u306b\u95a2\u3057\u3066\u306f\u5148\u4eba\u306e\u65b9\u3005\u304c\u307e\u3068\u3081\u3066\u304f\u3060\u3055\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u8a73\u3057\u304f\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\u53c2\u80031:LINE bot\u3067\u30aa\u30a6\u30e0\u8fd4\u3057\u3092\u30d6\u30e9\u30a6\u30b6\u4e0a\u3067\u4f5c\u308b\u5168\u624b\u9806\n\u53c2\u80032:LINE BOT API\u3067google\u691c\u7d22\u30dc\u30c3\u30c8\u3092\u4f5c\u3063\u305f\n\n\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\n\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002\n\nworking_folder\n\n\nGemfile\nconfig.ru\nmain.rb\n\n\n\n\nGemfile\u306e\u7de8\u96c6\nGemfile\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u3001'bundle install'\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\nsource \"https://rubygems.org\"\n\ngem 'sinatra'\ngem 'json'\ngem 'rest-client'\ngem 'sinatra-contrib'\n\n\nconfig.ru\u306e\u7de8\u96c6\nconfig.ru\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\u3053\u3061\u3089\u306b\u51e6\u7406\u3092\u66f8\u3044\u3066\u3082\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306fmain.rb\u306e\u307b\u3046\u306b\u51e6\u7406\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\nrequire './main.rb'\n\nrun Main\n\n\n\u74b0\u5883\u5909\u6570\u306b\u8ffd\u52a0\nAPI KEY\u3084ID\u7b49\u306e\u60c5\u5831\u3092heroku\u306e\u74b0\u5883\u5909\u6570\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\nLINE developers\u3067\u4f5c\u6210\u3057\u305f\u30a2\u30ab\u30a6\u30f3\u30c8\u306eBasic information\u304b\u3089\u3001Channel ID\u3001 Channel Secret\u3001 MID\u306e3\u3064\u3001heroku\u306eFixie\u30a2\u30c9\u30aa\u30f3\u306eproxy_URL\u3001\u305d\u3057\u3066\u4eba\u5de5\u77e5\u80fd\u30dc\u30c3\u30c8API\u306eAPI \u30ad\u30fc\u3092\u767b\u9332\u3057\u307e\u3059\u3002\nheroku config:add LINE_CHANNEL_ID=\"your_channel_id\"\nheroku config:add LINE_CHANNEL_SECRET=\"your_channel_secret\"\nheroku config:add LINE_CHANNEL_MID=\"your_channel_mid\"\nheroku config:add USR_LOCAL_API_KEY=\"your_api_key\"\nheroku config:add FIXIE_URL=\"your_proxy_url\"\n\n\nmain.rb\u306e\u7de8\u96c6\nmain.rb\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\nrequire 'bundler/setup'\nrequire 'sinatra/base'\nrequire 'json'\nrequire 'rest-client'\nrequire \"cgi\"\n\nclass Main < Sinatra::Base\n\n  post '/linebot/callback' do\n    @params = JSON.parse(request.body.read)['result'].first\n\n    post_text(get_name_parse_api)\n  end\n\n  private\n\n  def post_text(post_messages)\n    line_pipe = {\n      'Content-Type': 'application/json; charset=UTF-8',\n      'X-Line-ChannelID': ENV['LINE_CHANNEL_ID'],\n      'X-Line-ChannelSecret': ENV['LINE_CHANNEL_SECRET'],\n      'X-Line-Trusted-User-With-ACL': ENV['LINE_CHANNEL_MID']\n    }\n\n    RestClient.proxy = ENV['FIXIE_URL']\n    endpoint_uri = 'https://trialbot-api.line.me/v1/events'\n\n    post_message = post_messages.join\n    request_content = {\n      to: [@params['content']['from']],\n      toChannel: 1383378250,\n      eventType: '138311608800106203',\n      content: {contentType:1, toType:1, text: post_message }\n    }\n    content_json = request_content.to_json\n\n    RestClient.post(endpoint_uri, content_json, line_pipe)\n  end\n\n  def get_name_parse_api\n    word = @params['content']['text']\n\n    request_content = {'key' => ENV['USR_LOCAL_API_KEY'], 'name' => CGI.escape(word)}\n\n    request_params = request_content.reduce([]) do |params, (key, value)|\n      params << \"#{key}=#{value}\"\n    end\n    rest = RestClient.get('https://chatbot-api.userlocal.jp/api/name?' + request_params.join('&').to_s)\n\n    result = JSON.parse(rest)['result']\n    messages = [\n      \"\u3042\u306a\u305f\u306f\\n\",\n      \"\u6027: #{result['last_name']}\\n\",\n      \"\u540d: #{result['first_name']}\\n\",\n      \"\u6027\u5225: #{%w(\u4e0d\u660e \u7537\u6027 \u5973\u6027)[result['gender'].to_i]}\\n\",\n      \"\u3067\u3059\u306d\uff1f\"\n    ]\n  end\nend\n\n\n\u52d5\u4f5c\u78ba\u8a8d\nLINE\u4e0a\u3067\u4eba\u7269\u540d\u3092\u5165\u529b\u3057\u3066\u307f\u307e\u3059\u3002\n\n\n\u611f\u60f3\n\u4eca\u56de\u30c7\u30ec\u30de\u30b9\u30ad\u30e3\u30e9\u306e\u540d\u524d\u3092\u4f7f\u3063\u3066\u6c0f\u540d\u81ea\u52d5\u8b58\u5225API\u3092\u7cbe\u5ea6\u3092\u691c\u8a3c\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u6027\u30fb\u540d\u306e\u8b58\u5225\u306b\u95a2\u3057\u3066\u306f88%\u3068\u307e\u305a\u307e\u305a\u306e\u7d50\u679c\u304c\u51fa\u307e\u3057\u305f\u3002\u30a2\u30cb\u30e1\u30ad\u30e3\u30e9\u3067\u3053\u306e\u7cbe\u5ea6\u306a\u306e\u3067\u3001\u73fe\u5b9f\u306e\u4eba\u540d\u306a\u3089\u3055\u3089\u306b\u9ad8\u3044\u7cbe\u5ea6\u304c\u51fa\u308b\u3068\u4e88\u6e2c\u3055\u308c\u307e\u3059\u3002\u3082\u3046\u5c11\u3057\u5b66\u7fd2\u304c\u9032\u3081\u3070\u3001\u5341\u5206\u5b9f\u7528\u30ec\u30d9\u30eb\u306b\u306a\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\u6027\u5225\u5224\u5b9a\u306b\u95a2\u3057\u3066\u306f\u96e3\u3057\u3044\u3067\u3059\u306d\u3002\u305d\u3082\u305d\u3082\u3001\u65e5\u672c\u4eba\u306e\u540d\u524d\u306f\u7537\u5973\u3069\u3061\u3089\u3067\u3082\u4f7f\u3048\u308b\u3082\u306e\u3082\u591a\u3044\u3067\u3059\u3057\u3001\u8fd1\u5e74\u306f\u540d\u524d\u81ea\u4f53\u304c\u591a\u69d8\u5316\u3057\u3066\u307e\u3059\u304b\u3089\u306d(\u30ad\u30e9\u30ad\u30e9\u30cd\u30fc\u30e0\u3068\u304b\u30fb\u30fb\u30fb)\n\n\u5148\u65e5\u3001User Local\u304c[\u4eba\u5de5\u77e5\u80fd\u30dc\u30c3\u30c8API](http://ai.userlocal.jp/)\u3092\u516c\u958b\u3057\u307e\u3057\u305f\u3002\u30dc\u30c3\u30c8\u958b\u767a\u306b\u5fc5\u8981\u306a\u81ea\u7136\u8a00\u8a9e\u51e6\u7406\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u96c6\u7d04\u3057\u305f\u3082\u306e\u3067\u3001\u73fe\u6642\u70b9\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6a5f\u80fd\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n- \u5168\u81ea\u52d5\u4f1a\u8a71API\n- \u6c0f\u540d\u81ea\u52d5\u8b58\u5225API\n- \u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u4f1a\u8a71API\n- \u5f62\u614b\u7d20\u89e3\u6790API\n\n[\u524d\u56de](http://qiita.com/EastResident/items/0abe9e35b3811c6cbb3a)\u306f\u5168\u81ea\u52d5\u4f1a\u8a71API\u3092\u8a66\u3057\u305f\u306e\u3067\u3001\u4eca\u56de\u306f\u6c0f\u540d\u81ea\u52d5\u8b58\u5225API\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u3055\u3089\u306b\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3068\u3057\u3066\u3001[\u30a2\u30a4\u30c9\u30eb\u30de\u30b9\u30bf\u30fc\u30b7\u30f3\u30c7\u30ec\u30e9\u30ac\u30fc\u30eb\u30ba](http://imas-cinderella.com/)\u306b\u767b\u5834\u3059\u308b\u30a2\u30a4\u30c9\u30eb 196\u4eba\u306e\u540d\u524d\u3092\u8b58\u5225\u3055\u305b\u3001\u7cbe\u5ea6\u3092\u691c\u8a3c\u3057\u3066\u307f\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u3001\u30a2\u30a4\u30c9\u30eb\u306e\u540d\u524d\u306f[Pixiv\u767e\u79d1\u4e8b\u5178](http://dic.pixiv.net/)\u304b\u3089\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u304d\u307e\u3057\u305f\u3002\n\n\u52a0\u3048\u3066\u3001\u3053\u306eAPI\u3092\u81ea\u793e\u30b5\u30fc\u30d3\u30b9\u306b\u7d44\u307f\u8fbc\u3080\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3001\u30d5\u30eb\u30cd\u30fc\u30e0\u3092\u5165\u529b\u3057\u305f\u3089 \u6027\u3001 \u540d\u3001 \u6027\u5225\u3092\u8fd4\u3059LINE\u30dc\u30c3\u30c8\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n# \u6a5f\u80fd\u78ba\u8a8d\n\n## \u6e96\u5099\n\n\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f[\u3053\u3053](http://ai.userlocal.jp/)\u304b\u3089\u4f1a\u54e1\u767b\u9332\u304c\u5fc5\u8981\u3067\u3001\u73fe\u5728\u3001\u7b2c2\u671f\u52df\u96c6\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\u81ea\u5206\u306f\u7b2c\u4e00\u671f\u306b\u7533\u3057\u8fbc\u3093\u3067\u30016\u670815\u65e5\u306bAPI\u30ad\u30fc\u304c\u5c4a\u304d\u307e\u3057\u305f\u3002\u4eca\u304b\u3089\u7533\u3057\u8fbc\u3093\u3060\u5834\u5408\u306f\u3001\u5229\u7528\u3067\u304d\u308b\u307e\u3067\u306b\u82e5\u5e72\u6642\u9593\u304c\u304b\u304b\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u305f\u3060\u3057\u3001\u4f1a\u54e1\u767b\u9332\u3057\u306a\u304f\u3066\u3082\u8a66\u7528\u3059\u308b\u65b9\u6cd5\u306f\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\u307e\u305f\u3001\u4eca\u56de\u306fBot\u5b9f\u88c5\u306b\u3042\u305f\u3063\u3066\u3001Ruby\u3001sinatra\u3001heroku\u3001LINE BOT API\u7b49\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n[\u53c2\u80031](http://www.sakana.tech/entry/2016/04/12/112700) [\u53c2\u80032](http://qiita.com/EastResident/items/d1b572f00c29f907b743)\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092\u63a1\u308b\u524d\u306b\u3068\u308a\u3042\u3048\u305a\u901a\u4fe1\u3057\u3066\u307f\u307e\u3059\u3002\u6c0f\u540d\u81ea\u52d5\u8b58\u5225API\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4ed8\u4e0e\u3057\u3066<https://chatbot-api.userlocal.jp/api/name>\u306b\u5411\u3051\u3066GET\u3059\u308c\u3070\u3044\u3044\u3088\u3046\u3067\u3059(POST\u3082\u3067\u304d\u307e\u3059)\u3002\n\n```\nhttps://chatbot-api.userlocal.jp/api/name?key=your_api_key&name=\u7530\u4e2d\u592a\u90ce\n```\n\n\"key\"\u306fUserLocal\u304b\u3089\u63d0\u4f9b\u3055\u308c\u308bAPI\u30ad\u30fc\u3067\u3059\u3002\"name\"\u306b\u8b58\u5225\u3055\u305b\u305f\u3044\u540d\u524d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u3001key\u306b \"sample\"\u3068\u5165\u308c\u308b\u3068\u3001\u672a\u767b\u9332\u3067\u3082\u5229\u7528\u3067\u304d\u307e\u3059(10\u56de/1h\u307e\u3067)\u3002\n\n\u305d\u308c\u3067\u306f\u8a66\u3057\u306b\u901a\u4fe1\u3057\u3066\u3001\u7d50\u679c\u3092\u53d7\u3051\u53d6\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002 \"\u5929\u6d77\u6625\u9999\" \u3092\u8b58\u5225\u3055\u305b\u3066\u307f\u307e\u3057\u305f\u3002\u6700\u521d\u306fPOST\u3067\u901a\u4fe1\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u304c\u3001Ruby\u306eRestClient\u3067\u306f\u306a\u305c\u304bjson\u304c\u6e21\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3001get\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u3063\u3066\u3044\u307e\u3059\u3002\n\n```rb\nrequire 'json'\nrequire 'rest-client'\nrequire \"cgi\"\n\nrequest_content = {'key' => 'your_api_key', 'name' => CGI.escape('\u5929\u6d77\u6625\u9999')}\nrequest_params = request_content.reduce([]) do |params, (key, value)|\n  params << \"#{key}=#{value}\"\nend\nrest = RestClient.get('https://chatbot-api.userlocal.jp/api/name?' + request_params.join('&').to_s)\nresult = JSON.parse(rest)\np result\n```\n\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u307e\u3057\u305f(\u5b9f\u969b\u306f\u30a4\u30f3\u30c7\u30f3\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093)\u3002\n\n```json\n{\n  \"status\"=>\"success\",\n  \"result\"=>{\n    \"last_name\"=>\"\u5929\u6d77\", \"last_name_yomi\"=>nil,\n    \"first_name\"=>\"\u6625\u9999\", \"first_name_yomi\"=>\"\u306f\u308b\u304b\",\n    \"gender\"=>2, \"gender_accuracy\"=>5,\n    \"nickname\"=>[\"\u306f\u308b\u3074\u30fc\", \"\u306f\u308b\u305f\u3093\", \"\u306f\u308b\u3061\u3083\u3093\", \"\u306f\u308b\u307d\u3093\", \"\u304d\u3061\", \"\u306f\u308b\u305f\u308d\u30fc\", \"\u306f\u308b\u306e\u3059\u3051\", \"\u306f\u308b\u3079\u3048\", \"\u306f\u308b\u3063\u3061\", \"\u6625\u592a\u90ce\", \"\u306f\u308b\"]\n  }\n}\n```\n\n\u7d50\u679c\u306ejson\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002\"last_name\"\u3068\"first_name\"\u3067\u6027\u3068\u540d\u304c\u305d\u308c\u305e\u308c\u8b58\u5225\u3055\u308c\u307e\u3059\u3002\u3055\u3089\u306b\u3001\u3072\u3089\u304c\u306a\u3067\u306e\u8aad\u307f\u3082\u4e88\u6e2c\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u4eca\u56de\u306e\u4f8b\u3067\u306f\u6027\u3068\u540d\u306e\u5206\u5272\u306f\u6210\u529f\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u6027\u306e\u8aad\u307f\u4eee\u540d\u304cnil\u3068\u306a\u3063\u3066\u304a\u308a\u3001\u3046\u307e\u304f\u8b58\u5225\u3067\u304d\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n\u6b21\u306b \"gender\" \u3068 \"gender_accuracy\" \u3067\u3059\u3002\"gender\" \u306f \"1\" \u304c\u7537\u6027\u3067 \"2\" \u304c\u5973\u6027\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002\"gender_accuracy\" \u306f\u7537\u5973\u8b58\u5225\u306e\u7cbe\u5ea6\u3092\u8868\u3057\u307e\u3059(0-5\u306e\u7bc4\u56f2)\u3002\n\n\"nickname\" \u306f\u898b\u3066\u306e\u901a\u308a\u3001\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\u306e\u5019\u88dc\u3092\u3044\u304f\u3064\u304b\u63d0\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u4f55\u901a\u308a\u304b\u8a66\u3057\u3066\u898b\u307e\u3057\u305f\u304c\u3001\u5358\u7d14\u306a\u30d1\u30bf\u30fc\u30f3\u3057\u304b\u7528\u610f\u3055\u308c\u3066\u3044\u306a\u3044\u5370\u8c61\u3067\u3059\u3002\n\n# \u30c7\u30ec\u30de\u30b9\u30ad\u30e3\u30e9\u306b\u3088\u308b\u691c\u8a3c\n\n\u305d\u308c\u3067\u306f\u3001\u5b9f\u969b\u306b\u30c7\u30ec\u30de\u30b9\u30ad\u30e3\u30e9\u306e\u540d\u524d\u3092\u4f7f\u3063\u3066\u691c\u8a3c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u4eca\u56de\u306f\u3001\n\n- first_name\u3068last_name\u306e\u8b58\u5225\u304c\u6b63\u3057\u3044\u304b\n- \u6027\u5225\u306e\u8b58\u5225\u304c\u6b63\u3057\u3044\u304b\n\n\u306e\u4e8c\u70b9\u3092\u8a55\u4fa1\u3057\u307e\u3059\u3002\n## \u5165\u529b\u5024\n\n\u30c7\u30ec\u30de\u30b9\u306b\u767b\u5834\u3059\u308b\u30a2\u30a4\u30c9\u30eb196\u4eba\u306e\u540d\u524d\u3092\u5217\u6319\u3057\u305fCSV\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u81ea\u5206\u306f\u3001Pixiv\u5927\u767e\u79d1\u304b\u3089\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u304d\u307e\u3057\u305f\u3002\n\n```csv:idol_name_list_full.csv\n\u76f8\u539f\u96ea\u4e43,\u8d64\u897f\u745b\u68a8\u83ef,\u6d45\u91ce\u98a8\u9999,\u5b89\u90e8\u83dc\u3005,\u5929\u6d77\u6625\u9999,\u6709\u6d66\u67d1\u5948,\u5b89\u658e\u90fd,\u4e94\u5341\u5d50\u97ff\u5b50,\u6c60\u888b\u6676\u8449,\u4e00\u30ce\u702c\u5fd7\u5e0c,\u4eca\u4e95\u52a0\u5948,\u4e95\u6751\u96ea\u83dc,\u6c5f\u4e0a\u693f,\u592a\u7530\u512a,\u5927\u897f\u7531\u91cc\u5b50,\u5927\u6cbc\u304f\u308b\u307f,\u5927\u539f\u307f\u3061\u308b,\u7dd2\u65b9\u667a\u7d75\u91cc,\u5965\u5c71\u6c99\u7e54,\u4e59\u5009\u60a0\u8cb4,\u6211\u90a3\u8987\u97ff,\u83ca\u5730\u771f,\u65e5\u4e0b\u90e8\u82e5\u8449,\u5de5\u85e4\u5fcd,\u30af\u30e9\u30ea\u30b9,\u6817\u539f\u30cd\u30cd,\u53e4\u8cc0\u5c0f\u6625,\u8f3f\u6c34\u5e78\u5b50,\u5c0f\u65e9\u5ddd\u7d17\u679d,\u5c0f\u65e5\u5411\u7f8e\u7a42,\u897f\u5712\u5bfa\u7434\u6b4c,\u698a\u539f\u91cc\u7f8e,\u4f50\u4e45\u9593\u307e\u3086,\u6afb\u4e95\u6843\u83ef,\u690e\u540d\u6cd5\u5b50,\u5cf6\u6751\u536f\u6708,\u767d\u83ca\u307b\u305f\u308b,\u6dbc\u5bae\u661f\u82b1,\u95a2\u88d5\u7f8e,\u9ad8\u69fb\u3084\u3088\u3044,\u6708\u5bae\u96c5,\u9053\u660e\u5bfa\u6b4c\u9234,\u9577\u5bcc\u84ee\u5b9f,\u4e2d\u91ce\u6709\u9999,\u4e39\u7fbd\u4ec1\u7f8e,\u65e9\u5742\u7f8e\u73b2,\u539f\u7530\u7f8e\u4e16,\u5175\u85e4\u30ec\u30ca,\u798f\u5c71\u821e,\u85e4\u672c\u91cc\u5948,\u53cc\u8449\u674f,\u524d\u5ddd\u307f\u304f,\u677e\u539f\u65e9\u8036,\u9593\u4e2d\u7f8e\u91cc,\u6c34\u672c\u3086\u304b\u308a,\u4e09\u6751\u304b\u306a\u5b50,\u5bae\u672c\u30d5\u30ec\u30c7\u30ea\u30ab,\u68df\u65b9\u611b\u6d77,\u6751\u677e\u3055\u304f\u3089,\u6301\u7530\u4e9c\u91cc\u6c99,\u6843\u4e95\u3042\u305a\u304d,\u694a\u83f2\u83f2,\u67f3\u6e05\u826f,\u67f3\u702c\u7f8e\u7531\u7d00,\u904a\u4f50\u3053\u305a\u3048,\u6a2a\u5c71\u5343\u4f73,\u76f8\u5ddd\u5343\u590f,\u79cb\u6708\u5f8b\u5b50,\u6d45\u5229\u4e03\u6d77,\u30a2\u30ca\u30b9\u30bf\u30b7\u30a2,\u7dbe\u702c\u7a42\u4e43\u9999,\u8352\u6728\u6bd4\u5948,\u4f0a\u96c6\u9662\u60e0,\u6c0f\u5bb6\u3080\u3064\u307f,\u6885\u6728\u97f3\u8449,\u5927\u77f3\u6cc9,\u5ca1\u5d0e\u6cf0\u8449,\u4e0a\u6761\u6625\u83dc,\u795e\u8c37\u5948\u7dd2,\u5ddd\u5cf6\u745e\u6a39,\u795e\u5d0e\u862d\u5b50,\u5982\u6708\u5343\u65e9,\u5cb8\u90e8\u5f69\u83ef,\u6728\u5834\u771f\u5948\u7f8e,\u6850\u91ce\u30a2\u30e4,\u6850\u751f\u3064\u304b\u3055,\u9ed2\u5ddd\u5343\u79cb,\u30b1\u30a4\u30c8,\u5c0f\u5ba4\u5343\u5948\u7f8e,\u9dfa\u6ca2\u6587\u9999,\u4f50\u3005\u6728\u5343\u679d,\u4f50\u57ce\u96ea\u7f8e,\u5869\u898b\u5468\u5b50,\u56db\u6761\u8cb4\u97f3,\u7be0\u539f\u793c,\u6e0b\u8c37\u51db,\u767d\u5742\u5c0f\u6885,\u702c\u540d\u8a69\u7e54,\u9ad8\u57a3\u6953,\u9ad8\u6a4b\u793c\u5b50,\u9df9\u5bcc\u58eb\u8304\u5b50,\u9ad8\u5cef\u306e\u3042,\u591a\u7530\u674e\u8863\u83dc,\u6a58\u3042\u308a\u3059,\u6771\u90f7\u3042\u3044,\u6210\u5bae\u7531\u611b,\u897f\u5ddd\u4fdd\u5948\u7f8e,\u65b0\u7530\u7f8e\u6ce2,\u4e8c\u5bae\u98db\u9ce5,\u670d\u90e8\u77b3\u5b50,\u901f\u6c34\u594f,\u67ca\u5fd7\u4e43,\u85e4\u5c45\u670b,\u85e4\u539f\u8087,\u53e4\u6fa4\u983c\u5b50,\u30d8\u30ec\u30f3,\u5317\u6761\u52a0\u84ee,\u677e\u5c3e\u5343\u9db4,\u677e\u6c38\u6dbc,\u677e\u672c\u6c99\u7406\u5948,\u4e09\u6d66\u3042\u305a\u3055,\u6c34\u6728\u8056\u4f86,\u6c34\u91ce\u7fe0,\u4e09\u8239\u7f8e\u512a,\u671b\u6708\u8056,\u68ee\u4e45\u4fdd\u4e43\u3005,\u516b\u795e\u30de\u30ad\u30ce,\u5927\u548c\u4e9c\u5b63,\u7d50\u57ce\u6674,\u5409\u5ca1\u6c99\u7d00,\u30e9\u30a4\u30e9,\u8107\u5c71\u73e0\u7f8e,\u548c\u4e45\u4e95\u7559\u7f8e,\u611b\u91ce\u6e1a,\u76f8\u8449\u5915\u7f8e,\u8d64\u57ce\u307f\u308a\u3042,\u30a4\u30f4\u30fb\u30b5\u30f3\u30bf\u30af\u30ed\u30fc\u30b9,\u5e02\u539f\u4ec1\u5948,\u4e0a\u7530\u9234\u5e06,\u885b\u85e4\u7f8e\u7d17\u5e0c,\u6d77\u8001\u539f\u83dc\u5e06,\u53ca\u5ddd\u96eb,\u5927\u69fb\u552f,\u7247\u6850\u65e9\u82d7,\u5317\u5ddd\u771f\u5c0b,\u559c\u591a\u65e5\u83dc\u5b50,\u559c\u591a\u898b\u67da,\u6728\u6751\u590f\u6a39,\u30ad\u30e3\u30b7\u30fc\u30fb\u30b0\u30e9\u30cf\u30e0,\u5c0f\u95a2\u9e97\u5948,\u5c0f\u677e\u4f0a\u5439,\u8ca1\u524d\u6642\u5b50,\u6589\u85e4\u6d0b\u5b50,\u51b4\u5cf6\u6e05\u7f8e,\u4f50\u85e4\u5fc3,\u6ca2\u7530\u9ebb\u7406\u83dc,\u9996\u85e4\u8475,\u57ce\u30f6\u5d0e\u7f8e\u5609,\u57ce\u30f6\u5d0e\u8389\u5609,\u6749\u5742\u6d77,\u4ed9\u5d0e\u6075\u78e8,\u76f8\u99ac\u590f\u7f8e,\u9ad8\u68ee\u85cd\u5b50,\u571f\u5c4b\u4e9c\u5b50,\u5341\u6642\u611b\u68a8,\u30ca\u30bf\u30fc\u30ea\u30a2,\u4e26\u6728\u82bd\u8863\u5b50,\u5357\u6761\u5149,\u96e3\u6ce2\u7b11\u7f8e,\u897f\u5cf6\u6ac2,\u91ce\u3005\u6751\u305d\u3089,\u8429\u539f\u96ea\u6b69,\u6d5c\u5ddd\u611b\u7d50\u5948,\u6d5c\u53e3\u3042\u3084\u3081,\u65e5\u91ce\u831c,\u59eb\u5ddd\u53cb\u7d00,\u53cc\u6d77\u4e9c\u7f8e,\u53cc\u6d77\u771f\u7f8e,\u661f\u4e95\u7f8e\u5e0c,\u661f\u8f1d\u5b50,\u5800\u88d5\u5b50,\u672c\u7530\u672a\u592e,\u69d9\u539f\u5fd7\u4fdd,\u677e\u5c71\u4e45\u7f8e\u5b50,\u7684\u5834\u68a8\u6c99,\u771f\u934b\u3044\u3064\u304d,\u4e09\u597d\u7d17\u5357,\u6c34\u702c\u4f0a\u7e54,\u5411\u4e95\u62d3\u6d77,\u6751\u4e0a\u5df4,\u30e1\u30a2\u30ea\u30fc\u30fb\u30b3\u30af\u30e9\u30f3,\u8af8\u661f\u304d\u3089\u308a,\u77e2\u53e3\u7f8e\u7fbd,\u4f9d\u7530\u82b3\u4e43,\u9f8d\u5d0e\u85ab,\u82e5\u6797\u667a\u9999\n```\n\n## \u51fa\u529b\u5024\n\n\"\u6027 \u540d \u6027\u5225ID\" \u306e\u5f62\u5f0f\u3067CSV\u3092\u51fa\u529b\u3055\u305b\u307e\u3059\u3002\u4e0a\u8a18\u52d5\u4f5c\u78ba\u8a8d\u306e\u4f8b\u3060\u3068\u3001\n\n```csv\n\"\u5929\u6d77 \u6625\u9999 2\",\n```\n\n\u3068\u306a\u308a\u307e\u3059\u3002\n\n## \u5b9f\u88c5\n\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u5b9f\u884c\u3057\u307e\u3057\u305f\u3002\n\n```rb:name_parser.rb\nrequire 'json'\nrequire 'rest-client'\nrequire \"cgi\"\nrequire 'csv'\n\nname_list = []\n\nfilename = \"idol_name_list_full.csv\"\n\nCSV.foreach(filename) do |line|\n  name_list.concat line\nend\n\nname_list_detail = name_list.map do |name|\n  request_content = {'key' => 'your_api_key', 'name' => CGI.escape(name)}\n  request_params = request_content.reduce([]) do |params, (key, value)|\n    params << \"#{key}=#{value}\"\n  end\n  rest = RestClient.get('https://chatbot-api.userlocal.jp/api/name?' + request_params.join('&').to_s)\n  result = JSON.parse(rest)['result']\n  \"#{result['last_name']} #{result['first_name']} #{result['gender']}\"\nend\n\nopen(\"idol_name_list_parsed.csv\", \"w\"){|f| f.write name_list_detail.join(',')}\n```\n\n\u7279\u306b\u96e3\u3057\u3044\u3053\u3068\u306f\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u30b3\u30fc\u30c9\u306e\u8aac\u660e\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n## \u7d50\u679c\n\n\u4ee5\u4e0b\u304c\u51fa\u529b\u3055\u308c\u305fCSV\u3067\u3059\u3002\n\n```csv:idol_name_list_parsed\n\u76f8\u539f \u96ea\u4e43 0,\u8d64\u897f\u745b\u68a8 \u83ef 2,\u6d45\u91ce \u98a8\u9999 0,\u5b89\u90e8 \u83dc\u3005 2,\u5929\u6d77 \u6625\u9999 2,\u6709\u6d66\u67d1 \u5948 0,\u5b89\u658e \u90fd 2,\u4e94\u5341\u5d50 \u97ff\u5b50 2,\u6c60 \u888b\u6676\u8449 0,\u4e00\u30ce\u702c \u5fd7\u5e0c 0,\u4eca\u4e95 \u52a0\u5948 2,\u4e95\u6751 \u96ea\u83dc 0,\u6c5f\u4e0a \u693f 0,\u592a\u7530 \u512a 0,\u5927\u897f \u7531\u91cc\u5b50 2,\u5927\u6cbc \u304f\u308b\u307f 0,\u5927\u539f \u307f\u3061\u308b 2,\u7dd2\u65b9\u667a \u7d75\u91cc 2,\u5965\u5c71 \u6c99\u7e54 2,\u4e59\u5009\u60a0 \u8cb4 1,\u6211\u90a3\u8987 \u97ff 0,\u83ca\u5730 \u771f 1,\u65e5\u4e0b\u90e8 \u82e5\u8449 0,\u5de5\u85e4 \u5fcd 0,\u30af\u30e9 \u30ea\u30b9 0,\u6817\u539f \u30cd\u30cd 0,\u53e4\u8cc0 \u5c0f\u6625 0,\u8f3f\u6c34 \u5e78\u5b50 2,\u5c0f\u65e9\u5ddd \u7d17\u679d 0,\u5c0f\u65e5\u5411 \u7f8e\u7a42 2,\u897f \u5712\u5bfa\u7434\u6b4c 0,\u698a\u539f \u91cc\u7f8e 2,\u4f50\u4e45\u9593 \u307e\u3086 2,\u6afb\u4e95 \u6843\u83ef 0,\u690e\u540d \u6cd5\u5b50 2,\u5cf6\u6751 \u536f\u6708 0,\u767d \u83ca\u307b\u305f\u308b 0,\u6dbc\u5bae\u661f \u82b1 2,\u95a2 \u88d5\u7f8e 2,\u9ad8\u69fb \u3084\u3088\u3044 2,\u6708\u5bae \u96c5 0,\u9053\u660e\u5bfa\u6b4c \u9234 0,\u9577\u5bcc\u84ee \u5b9f 1,\u4e2d\u91ce \u6709\u9999 2,\u4e39\u7fbd \u4ec1\u7f8e 2,\u65e9\u5742 \u7f8e\u73b2 0,\u539f\u7530 \u7f8e\u4e16 0,\u5175\u85e4 \u30ec\u30ca 0,\u798f\u5c71 \u821e 2,\u85e4\u672c \u91cc\u5948 2,\u53cc\u8449 \u674f 2,\u524d\u5ddd \u307f\u304f 0,\u677e\u539f \u65e9\u8036 0,\u9593\u4e2d \u7f8e\u91cc 2,\u6c34\u672c \u3086\u304b\u308a 2,\u4e09\u6751 \u304b\u306a\u5b50 0,\u5bae\u672c \u30d5\u30ec\u30c7\u30ea\u30ab 0,\u68df\u65b9 \u611b\u6d77 0,\u6751\u677e \u3055\u304f\u3089 2,\u6301\u7530 \u4e9c\u91cc\u6c99 2,\u6843\u4e95 \u3042\u305a\u304d 0,\u694a \u83f2\u83f2 0,\u67f3\u6e05 \u826f 1,\u67f3\u702c \u7f8e\u7531\u7d00 2,\u904a\u4f50 \u3053\u305a\u3048 2,\u6a2a\u5c71 \u5343\u4f73 2,\u76f8\u5ddd \u5343\u590f 2,\u79cb\u6708 \u5f8b\u5b50 2,\u6d45\u5229 \u4e03\u6d77 0,\u30a2\u30ca\u30b9 \u30bf\u30b7\u30a2 0,\u7dbe\u702c\u7a42\u4e43 \u9999 2,\u8352\u6728 \u6bd4\u5948 0,\u4f0a\u96c6\u9662 \u60e0 2,\u6c0f\u5bb6 \u3080\u3064\u307f 2,\u6885\u6728 \u97f3\u8449 0,\u5927\u77f3 \u6cc9 0,\u5ca1\u5d0e \u6cf0\u8449 0,\u4e0a\u6761 \u6625\u83dc 2,\u795e\u8c37 \u5948\u7dd2 2,\u5ddd\u5cf6 \u745e\u6a39 1,\u795e\u5d0e \u862d\u5b50 0,\u5982\u6708 \u5343\u65e9 0,\u5cb8\u90e8 \u5f69\u83ef 0,\u6728\u5834 \u771f\u5948\u7f8e 2,\u6850\u91ce \u30a2\u30e4 0,\u6850\u751f \u3064\u304b\u3055 2,\u9ed2\u5ddd \u5343\u79cb 2,\u30b1\u30a4 \u30c8 0,\u5c0f\u5ba4 \u5343\u5948\u7f8e 0,\u9dfa\u6ca2\u6587 \u9999 2,\u4f50\u3005\u6728 \u5343\u679d 2,\u4f50\u57ce \u96ea\u7f8e 0,\u5869\u898b \u5468\u5b50 2,\u56db\u6761\u8cb4 \u97f3 0,\u7be0\u539f \u793c 0,\u6e0b\u8c37 \u51db 0,\u767d\u5742 \u5c0f\u6885 0,\u702c\u540d \u8a69\u7e54 2,\u9ad8\u57a3 \u6953 2,\u9ad8\u6a4b \u793c\u5b50 2,\u9df9 \u5bcc\u58eb\u8304\u5b50 0,\u9ad8 \u5cef\u306e\u3042 0,\u591a\u7530 \u674e\u8863\u83dc 0,\u6a58 \u3042\u308a\u3059 0,\u6771\u90f7 \u3042\u3044 2,\u6210\u5bae\u7531 \u611b 2,\u897f\u5ddd \u4fdd\u5948\u7f8e 0,\u65b0\u7530 \u7f8e\u6ce2 2,\u4e8c\u5bae \u98db\u9ce5 0,\u670d\u90e8 \u77b3\u5b50 0,\u901f\u6c34 \u594f 0,\u67ca \u5fd7\u4e43 2,\u85e4\u5c45 \u670b 0,\u85e4\u539f \u8087 1,\u53e4\u6fa4 \u983c\u5b50 2,\u30d8\u30ec \u30f3 0,\u5317 \u6761\u52a0\u84ee 0,\u677e\u5c3e \u5343\u9db4 2,\u677e\u6c38 \u6dbc 1,\u677e\u672c \u6c99\u7406\u5948 0,\u4e09\u6d66 \u3042\u305a\u3055 2,\u6c34\u6728 \u8056\u4f86 0,\u6c34\u91ce \u7fe0 2,\u4e09\u8239\u7f8e \u512a 0,\u671b\u6708 \u8056 1,\u68ee \u4e45\u4fdd\u4e43\u3005 0,\u516b\u795e \u30de\u30ad\u30ce 0,\u5927\u548c \u4e9c\u5b63 2,\u7d50\u57ce \u6674 0,\u5409\u5ca1 \u6c99\u7d00 2,\u30e9 \u30a4\u30e9 0,\u8107\u5c71 \u73e0\u7f8e 2,\u548c\u4e45\u4e95 \u7559\u7f8e 2,\u611b\u91ce \u6e1a 2,\u76f8\u8449 \u5915\u7f8e 0,\u8d64\u57ce \u307f\u308a\u3042 0,\u30a4\u30f4 \u30b5\u30f3\u30bf\u30af\u30ed\u30fc\u30b9 0,\u5e02\u539f \u4ec1\u5948 0,\u4e0a\u7530 \u9234\u5e06 0,\u885b\u85e4 \u7f8e\u7d17\u5e0c 0,\u6d77\u8001\u539f \u83dc\u5e06 0,\u53ca\u5ddd \u96eb 0,\u5927\u69fb \u552f 2,\u7247\u6850 \u65e9\u82d7 2,\u5317\u5ddd \u771f\u5c0b 0,\u559c\u591a \u65e5\u83dc\u5b50 0,\u559c\u591a \u898b\u67da 0,\u6728\u6751 \u590f\u6a39 0,\u30ad\u30e3\u30b7\u30fc \u30b0\u30e9\u30cf\u30e0 0,\u5c0f\u95a2 \u9e97\u5948 0,\u5c0f\u677e \u4f0a\u5439 0,\u8ca1\u524d \u6642\u5b50 0,\u6589\u85e4 \u6d0b\u5b50 2,\u51b4\u5cf6 \u6e05\u7f8e 2,\u4f50\u85e4 \u5fc3 0,\u6ca2\u7530 \u9ebb\u7406\u83dc 0,\u9996\u85e4 \u8475 2,\u57ce\u30f6\u5d0e \u7f8e\u5609 0,\u57ce \u30f6\u5d0e\u8389\u5609 0,\u6749\u5742 \u6d77 1,\u4ed9\u5d0e\u6075 \u78e8 0,\u76f8\u99ac \u590f\u7f8e 2,\u9ad8\u68ee \u85cd\u5b50 2,\u571f\u5c4b \u4e9c\u5b50 2,\u5341\u6642 \u611b\u68a8 2,\u30ca\u30bf\u30fc \u30ea\u30a2 0,\u4e26\u6728 \u82bd\u8863\u5b50 0,\u5357\u6761 \u5149 1,\u96e3\u6ce2 \u7b11\u7f8e 0,\u897f \u5cf6\u6ac2 0,\u91ce\u3005\u6751 \u305d\u3089 0,\u8429\u539f\u96ea \u6b69 0,\u6d5c \u5ddd\u611b\u7d50\u5948 0,\u6d5c\u53e3 \u3042\u3084\u3081 0,\u65e5\u91ce \u831c 2,\u59eb\u5ddd \u53cb\u7d00 2,\u53cc\u6d77 \u4e9c\u7f8e 2,\u53cc\u6d77 \u771f\u7f8e 2,\u661f\u4e95 \u7f8e\u5e0c 2,\u661f \u8f1d\u5b50 0,\u5800 \u88d5\u5b50 2,\u672c\u7530 \u672a\u592e 2,\u69d9\u539f \u5fd7\u4fdd 2,\u677e\u5c71 \u4e45\u7f8e\u5b50 2,\u7684\u5834 \u68a8\u6c99 2,\u771f\u934b \u3044\u3064\u304d 0,\u4e09\u597d \u7d17\u5357 0,\u6c34\u702c \u4f0a\u7e54 0,\u5411\u4e95 \u62d3\u6d77 1,\u6751\u4e0a \u5df4 0,\u30e1\u30a2\u30ea\u30fc \u30b3\u30af\u30e9\u30f3 0,\u8af8\u661f \u304d\u3089\u308a 0,\u77e2\u53e3 \u7f8e\u7fbd 0,\u4f9d\u7530 \u82b3\u4e43 0,\u9f8d\u5d0e \u85ab 0,\u82e5\u6797 \u667a\u9999 2\n```\n\n\n\u7d50\u679c\u3092\u8a73\u3057\u304f\u898b\u3066\u3044\u304d\u307e\u3059\u3002\u307e\u305a\u3001\u30a2\u30a4\u30c9\u30eb196\u4eba\u4e2d\u3001\"\u30a2\u30ca\u30b9\u30bf\u30b7\u30a2\"\u3000\u3001 \"\u30e9\u30a4\u30e9\" \u306a\u3069last_name\u3001 first_name\u306e\u6982\u5ff5\u304c\u306a\u3044\u3082\u306e\u3092\u53d6\u308a\u9664\u304d\u307e\u3059\u3002\u305d\u306e\u4e0a\u3067\u3001\n\n### last_name\u3001 first_name\u8b58\u5225\u7cbe\u5ea6 = 88%\n190\u4eba\u4e2d\u3001\u8b58\u5225\u306e\u9593\u9055\u3044\u304c23\u4eba\u3042\u308a\u307e\u3057\u305f\u3002\"\u8d64\u897f\u745b\u68a8 \u83ef\" \u306a\u3069\u30015\u6587\u5b57\u4ee5\u4e0a\u3067\u8b58\u5225\u9593\u9055\u3044\u304c\u591a\u3044\u5370\u8c61\u3067\u3059\u3002\u3061\u306a\u307f\u306b\u3001\"\u30ad\u30e3\u30b7\u30fc \u30b0\u30e9\u30cf\u30e0\" \u3084 \"\u30a4\u30f4 \u30b5\u30f3\u30bf\u30af\u30ed\u30fc\u30b9\"\u306a\u3069\u3001\u65e5\u672c\u540d\u3067\u306f\u306a\u3044\u3082\u306e\u3082\u8b58\u5225\u3067\u304d\u3066\u3044\u307e\u3057\u305f\u3002\n\n### \u6027\u5225\u8b58\u5225\u7cbe\u5ea6 = 42% (87%)\n\n190\u4eba\u4e2d\u3001\u5973\u6027\u3068\u5224\u65ad\u3055\u308c\u305f\u3082\u306e\u304c79\u3001 \u7537\u6027\u304c11\u3001 \u8b58\u5225\u4e0d\u80fd\u304c100\u3067\u3057\u305f\u3002\u7537\u6027\u3068\u8b58\u5225\u3055\u308c\u305f\u3082\u306e\u306b\u95a2\u3057\u3066\u306f\u3001\"\u5ddd\u5cf6 \u745e\u6a39\" \u3084 \"\u5411\u4e95 \u62d3\u6d77\"\u306e\u3088\u3046\u306b\u7537\u5973\u3069\u3061\u3089\u3067\u3082\u304a\u304b\u3057\u304f\u306a\u3044\u540d\u524d\u304c\u591a\u304b\u3063\u305f\u306e\u3067\u3001\u4ed5\u65b9\u304c\u306a\u3044\u304b\u306a\u30fc\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u534a\u5206\u4ee5\u4e0a\u304c\u8b58\u5225\u4e0d\u80fd\u5224\u5b9a\u3068\u306a\u3063\u305f\u306e\u306f\u6b8b\u5ff5\u306a\u7d50\u679c\u3067\u3059\u3002\u8b58\u5225\u4e0d\u80fd\u3092\u9664\u3044\u305f\u5834\u5408\u3001\u7cbe\u5ea6\u306f87%\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\n# LINE\u30dc\u30c3\u30c8\u306e\u5b9f\u88c5\n\n\u6700\u5f8c\u306b\u3001\u30d5\u30eb\u30cd\u30fc\u30e0\u3092\u5165\u529b\u3057\u305f\u3089 \u6027\u3001 \u540d\u3001 \u6027\u5225\u3092\u8fd4\u3059LINE\u30dc\u30c3\u30c8\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\u4eca\u56de\u306f\u3001Ruby\u3001Sinatra\u3001heroku\u3001LINE BOT API\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u3042\u305f\u308a\u306e\u8a73\u3057\u3044\u4f7f\u7528\u65b9\u6cd5\u306b\u95a2\u3057\u3066\u306f\u5148\u4eba\u306e\u65b9\u3005\u304c\u307e\u3068\u3081\u3066\u304f\u3060\u3055\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u8a73\u3057\u304f\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n[\u53c2\u80031:LINE bot\u3067\u30aa\u30a6\u30e0\u8fd4\u3057\u3092\u30d6\u30e9\u30a6\u30b6\u4e0a\u3067\u4f5c\u308b\u5168\u624b\u9806](http://www.sakana.tech/entry/2016/04/12/112700)\n[\u53c2\u80032:LINE BOT API\u3067google\u691c\u7d22\u30dc\u30c3\u30c8\u3092\u4f5c\u3063\u305f](http://qiita.com/EastResident/items/d1b572f00c29f907b743)\n\n## \u30d5\u30a1\u30a4\u30eb\u69cb\u6210\n\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002\n\n- working_folder\n  - Gemfile\n  - config.ru\n  - main.rb\n\n## Gemfile\u306e\u7de8\u96c6\n\nGemfile\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u3001'bundle install'\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\nsource \"https://rubygems.org\"\n\ngem 'sinatra'\ngem 'json'\ngem 'rest-client'\ngem 'sinatra-contrib'\n```\n\n## config.ru\u306e\u7de8\u96c6\n\nconfig.ru\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\u3053\u3061\u3089\u306b\u51e6\u7406\u3092\u66f8\u3044\u3066\u3082\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306fmain.rb\u306e\u307b\u3046\u306b\u51e6\u7406\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\n```rb\nrequire './main.rb'\n\nrun Main\n```\n\n## \u74b0\u5883\u5909\u6570\u306b\u8ffd\u52a0\nAPI KEY\u3084ID\u7b49\u306e\u60c5\u5831\u3092heroku\u306e\u74b0\u5883\u5909\u6570\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\nLINE developers\u3067\u4f5c\u6210\u3057\u305f\u30a2\u30ab\u30a6\u30f3\u30c8\u306eBasic information\u304b\u3089\u3001Channel ID\u3001 Channel Secret\u3001 MID\u306e3\u3064\u3001heroku\u306eFixie\u30a2\u30c9\u30aa\u30f3\u306eproxy_URL\u3001\u305d\u3057\u3066\u4eba\u5de5\u77e5\u80fd\u30dc\u30c3\u30c8API\u306eAPI \u30ad\u30fc\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n\n```\nheroku config:add LINE_CHANNEL_ID=\"your_channel_id\"\nheroku config:add LINE_CHANNEL_SECRET=\"your_channel_secret\"\nheroku config:add LINE_CHANNEL_MID=\"your_channel_mid\"\nheroku config:add USR_LOCAL_API_KEY=\"your_api_key\"\nheroku config:add FIXIE_URL=\"your_proxy_url\"\n```\n\n## main.rb\u306e\u7de8\u96c6\n\nmain.rb\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n```rb\nrequire 'bundler/setup'\nrequire 'sinatra/base'\nrequire 'json'\nrequire 'rest-client'\nrequire \"cgi\"\n\nclass Main < Sinatra::Base\n\n  post '/linebot/callback' do\n    @params = JSON.parse(request.body.read)['result'].first\n\n    post_text(get_name_parse_api)\n  end\n\n  private\n\n  def post_text(post_messages)\n    line_pipe = {\n      'Content-Type': 'application/json; charset=UTF-8',\n      'X-Line-ChannelID': ENV['LINE_CHANNEL_ID'],\n      'X-Line-ChannelSecret': ENV['LINE_CHANNEL_SECRET'],\n      'X-Line-Trusted-User-With-ACL': ENV['LINE_CHANNEL_MID']\n    }\n\n    RestClient.proxy = ENV['FIXIE_URL']\n    endpoint_uri = 'https://trialbot-api.line.me/v1/events'\n\n    post_message = post_messages.join\n    request_content = {\n      to: [@params['content']['from']],\n      toChannel: 1383378250,\n      eventType: '138311608800106203',\n      content: {contentType:1, toType:1, text: post_message }\n    }\n    content_json = request_content.to_json\n\n    RestClient.post(endpoint_uri, content_json, line_pipe)\n  end\n\n  def get_name_parse_api\n    word = @params['content']['text']\n\n    request_content = {'key' => ENV['USR_LOCAL_API_KEY'], 'name' => CGI.escape(word)}\n\n    request_params = request_content.reduce([]) do |params, (key, value)|\n      params << \"#{key}=#{value}\"\n    end\n    rest = RestClient.get('https://chatbot-api.userlocal.jp/api/name?' + request_params.join('&').to_s)\n\n    result = JSON.parse(rest)['result']\n    messages = [\n      \"\u3042\u306a\u305f\u306f\\n\",\n      \"\u6027: #{result['last_name']}\\n\",\n      \"\u540d: #{result['first_name']}\\n\",\n      \"\u6027\u5225: #{%w(\u4e0d\u660e \u7537\u6027 \u5973\u6027)[result['gender'].to_i]}\\n\",\n      \"\u3067\u3059\u306d\uff1f\"\n    ]\n  end\nend\n```\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\nLINE\u4e0a\u3067\u4eba\u7269\u540d\u3092\u5165\u529b\u3057\u3066\u307f\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-19 00.05.52.png](https://qiita-image-store.s3.amazonaws.com/0/79302/439beece-51b9-fcee-1af9-f748bdc2c93b.png)\n\n# \u611f\u60f3\n\n\u4eca\u56de\u30c7\u30ec\u30de\u30b9\u30ad\u30e3\u30e9\u306e\u540d\u524d\u3092\u4f7f\u3063\u3066\u6c0f\u540d\u81ea\u52d5\u8b58\u5225API\u3092\u7cbe\u5ea6\u3092\u691c\u8a3c\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u6027\u30fb\u540d\u306e\u8b58\u5225\u306b\u95a2\u3057\u3066\u306f88%\u3068\u307e\u305a\u307e\u305a\u306e\u7d50\u679c\u304c\u51fa\u307e\u3057\u305f\u3002\u30a2\u30cb\u30e1\u30ad\u30e3\u30e9\u3067\u3053\u306e\u7cbe\u5ea6\u306a\u306e\u3067\u3001\u73fe\u5b9f\u306e\u4eba\u540d\u306a\u3089\u3055\u3089\u306b\u9ad8\u3044\u7cbe\u5ea6\u304c\u51fa\u308b\u3068\u4e88\u6e2c\u3055\u308c\u307e\u3059\u3002\u3082\u3046\u5c11\u3057\u5b66\u7fd2\u304c\u9032\u3081\u3070\u3001\u5341\u5206\u5b9f\u7528\u30ec\u30d9\u30eb\u306b\u306a\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u6027\u5225\u5224\u5b9a\u306b\u95a2\u3057\u3066\u306f\u96e3\u3057\u3044\u3067\u3059\u306d\u3002\u305d\u3082\u305d\u3082\u3001\u65e5\u672c\u4eba\u306e\u540d\u524d\u306f\u7537\u5973\u3069\u3061\u3089\u3067\u3082\u4f7f\u3048\u308b\u3082\u306e\u3082\u591a\u3044\u3067\u3059\u3057\u3001\u8fd1\u5e74\u306f\u540d\u524d\u81ea\u4f53\u304c\u591a\u69d8\u5316\u3057\u3066\u307e\u3059\u304b\u3089\u306d(\u30ad\u30e9\u30ad\u30e9\u30cd\u30fc\u30e0\u3068\u304b\u30fb\u30fb\u30fb)\n", "tags": ["Ruby", "Sinatra", "api", "linebot", "\u6a5f\u68b0\u5b66\u7fd2"]}