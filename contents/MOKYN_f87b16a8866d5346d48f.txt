{"context": "CoronaSDK\u306b\u3066\u7279\u5b9a\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3057\u3066\u30b5\u30e0\u30cd\u30a4\u30eb\u306b\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u306a\u304b\u306a\u304b\u4e0a\u624b\u304f\u753b\u50cf\u3092\u30ea\u30b5\u30a4\u30ba\u3067\u304d\u306a\u304f\u3066\u82e6\u6226\u3057\u307e\u3057\u305f\u3002\u6b63\u3057\u3044\u3084\u308a\u65b9\u304b\u3069\u3046\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u304c\u3001\u305d\u308c\u306a\u308a\u306b\u52d5\u3044\u305f\u306e\u3067\u4ee5\u4e0b\u306b\u30e1\u30e2\u3068\u3057\u3066\u5171\u6709\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nCorona SDK / version : 2016.2949 (2016.9.15)\n\ntest.lua\n-- \u753b\u50cf\u306e\u7e2e\u5c0f\uff06\u4fdd\u5b58\u51e6\u7406\nlocal function saveImage(canvas, newFileName, width, height)\n   local resizeCanvas = display.capture(canvas)\n\n   -- \u30dd\u30b8\u30b7\u30e7\u30f3\u3092\u79fb\u52d5\u3057\u306a\u3044\u3068\u7e2e\u5c0f\u51e6\u7406\u304c\u4e0a\u624b\u304f\u3044\u304b\u306a\u3044\n   resizeCanvas.x = display.actualContentWidth * 0.5 \n   resizeCanvas.y = display.actualContentHeight * 0.5\n\n   -- \u8aa4\u5dee\u306b\u3088\u308a\u3074\u3063\u305f\u308a\u6307\u5b9a\u30b5\u30a4\u30ba\u306b\u306a\u3089\u306a\u3044\u304c\u3001\u8fd1\u3044\u30b5\u30a4\u30ba\u306b\u7e2e\u5c0f\n   resizeCanvas:scale(width * display.contentScaleX / canvas.width,\n                      height * display.contentScaleY / canvas.height)\n\n   -- \u4fdd\u5b58\u51e6\u7406\n   local baseDir = system.DocumentsDirectory\n   display.save( resizeCanvas, newFileName, baseDir )\n   resizeCanvas:removeSelf()\n   resizeCanvas = nil\nend\n\n-- \nmainCanvas = display.newGroup()\nmainCanvax.insert(...)\n\n...\n\nsaveImage(mainCanvas, \"tmp.png\", 160, 240)\n\n\n\nCoronaSDK\u306b\u3066\u7279\u5b9a\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3057\u3066\u30b5\u30e0\u30cd\u30a4\u30eb\u306b\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u306a\u304b\u306a\u304b\u4e0a\u624b\u304f\u753b\u50cf\u3092\u30ea\u30b5\u30a4\u30ba\u3067\u304d\u306a\u304f\u3066\u82e6\u6226\u3057\u307e\u3057\u305f\u3002\u6b63\u3057\u3044\u3084\u308a\u65b9\u304b\u3069\u3046\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u304c\u3001\u305d\u308c\u306a\u308a\u306b\u52d5\u3044\u305f\u306e\u3067\u4ee5\u4e0b\u306b\u30e1\u30e2\u3068\u3057\u3066\u5171\u6709\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nCorona SDK / version : 2016.2949 (2016.9.15)\n\n```lua:test.lua\n-- \u753b\u50cf\u306e\u7e2e\u5c0f\uff06\u4fdd\u5b58\u51e6\u7406\nlocal function saveImage(canvas, newFileName, width, height)\n   local resizeCanvas = display.capture(canvas)\n\n   -- \u30dd\u30b8\u30b7\u30e7\u30f3\u3092\u79fb\u52d5\u3057\u306a\u3044\u3068\u7e2e\u5c0f\u51e6\u7406\u304c\u4e0a\u624b\u304f\u3044\u304b\u306a\u3044\n   resizeCanvas.x = display.actualContentWidth * 0.5 \n   resizeCanvas.y = display.actualContentHeight * 0.5\n\n   -- \u8aa4\u5dee\u306b\u3088\u308a\u3074\u3063\u305f\u308a\u6307\u5b9a\u30b5\u30a4\u30ba\u306b\u306a\u3089\u306a\u3044\u304c\u3001\u8fd1\u3044\u30b5\u30a4\u30ba\u306b\u7e2e\u5c0f\n   resizeCanvas:scale(width * display.contentScaleX / canvas.width,\n\t\t\t\t\t  height * display.contentScaleY / canvas.height)\n\n   -- \u4fdd\u5b58\u51e6\u7406\n   local baseDir = system.DocumentsDirectory\n   display.save( resizeCanvas, newFileName, baseDir )\n   resizeCanvas:removeSelf()\n   resizeCanvas = nil\nend\n\n-- \nmainCanvas = display.newGroup()\nmainCanvax.insert(...)\n\n...\n\nsaveImage(mainCanvas, \"tmp.png\", 160, 240)\n\n```\n", "tags": ["Corona", "Lua"]}