{"context": "\n\nnode.js\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4e0b\u8a18\u3088\u308av5.10.1\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\nhttps://nodejs.org/\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\n\u4e0b\u8a18\u69cb\u9020\u3092\u7528\u610f\u3002\n\u250c dist\n|  \u2514 index.html\n\u251c src\n|   \u251c ts\n|   |  \u251c Main.ts\n|   |  \u2514 Test.ts\n|   \u2514 js\n|      \u251c jquery.js\n|      \u2514 require.js\n\u251c gulpfile.js\n\u251c package.json\n\u2514 typings.json\n\n\npackage.json\n\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8a18\u8f09\u3002\n\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a9\u30eb\u30c0\u3078\u79fb\u52d5\u3057\u3001\u300cnpm install\u300d\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\npackage.json\n{\n  \"name\": \"typescriptBuild\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"author\": \"a12345\",\n  \"url\": \"http://qiita.com/a12345\",\n  \"license\": \"MIT License\",\n  \"keywords\": \"gulp\",\n  \"devDependencies\": {\n    \"del\": \"*\",\n    \"gulp\": \"*\",\n    \"gulp-plumber\": \"*\",\n    \"gulp-rename\": \"*\",\n    \"run-sequence\": \"*\",\n    \"gulp-typescript\": \"*\",\n    \"gulp-typings\": \"*\",\n    \"gulp-uglify\": \"*\",\n    \"gulp-util\": \"*\"\n  }\n}\n\n\n\ntypings.json\n\u5fc5\u8981\u306a\u578b\u5b9a\u7fa9\u3092\u8a18\u8f09\u3002\n\ntypings.json\n{\n  \"name\": \"lib typings\",\n  \"version\": \"1.0.0\",\n  \"dependencies\": {},\n  \"url\": \"http://qiita.com/a12345\",\n  \"author\": \"a12345\",\n  \"ambientDependencies\": {\n    \"jquery\": \"registry:dt/jquery#1.10.0+20160316155526\"\n  }\n}\n\n\n\ngulpfile.js\ngulp\u30bf\u30b9\u30af\u3092\u8a18\u8f09\u3002\n\u958b\u767a [gulp]\n\u672c\u756a [gulp --production]\n\u203btypescript\u306f\u30d6\u30e9\u30a6\u30b6\u3067\u4f7f\u3046\u305f\u3081amd\u65b9\u5f0f\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3002\n\ngulpfile.js\n//\"url\": \"http://qiita.com/a12345\"\n//\"author\": \"a12345\"\n\"use strict\"\nlet gulp = require('gulp');\nlet plumber = require('gulp-plumber');\nlet runSequence = require('run-sequence');\nlet del = require('del');\nlet ts = require('gulp-typescript');\nlet typings = require('gulp-typings');\nlet uglify = require('gulp-uglify');\nlet util = require('gulp-util');\n\n// \u524a\u9664\ngulp.task('clean', ()=> {\n  del(['./dist/**/*.js']);\n});\n\n// typescript\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\ngulp.task('ts', ()=> {\n  gulp.src(['./src/ts/**/*.ts'])\n  .pipe(plumber({\n    handleError: (err)=> {\n      console.log(err);\n      this.emit('end');\n    }\n  }))\n  .pipe(ts({\n    target: 'ES5',\n    module: 'amd'\n  }))\n  .pipe(gulp.dest('./dist/js'));\n});\n\n// javascript\u751f\u6210\ngulp.task('js', ()=> {\n  gulp.src(['./src/js/**/*.js'])\n  .pipe(plumber({\n    handleError: (err)=> {\n      console.log(err);\n      this.emit('end');\n    }\n  }))\n  .pipe(gulp.dest('./dist/js'));\n});\n\n//typings\u751f\u6210\ngulp.task('typings' ,()=>{\n  gulp.src(\"./typings.json\")\n  .pipe(typings());\n});\n\n//\u5727\u7e2e\ngulp.task('min', ()=> {\n  gulp.src('./dist/js/**/*.js')\n  .pipe(plumber({\n    handleError: (err)=> {\n      console.log(err);\n      this.emit('end');\n    }\n  }))\n  .pipe(uglify())\n  .pipe(gulp.dest('./dist/js'));\n});\n\n// \u76e3\u8996\ngulp.task('watch', ()=> {\n  gulp.watch('./src/ts/**/*.ts', ['ts']);\n});\n\n// \u30c7\u30d5\u30a9\u30eb\u30c8\u30bf\u30b9\u30af\ngulp.task('default', ()=> {\n  if (util.env.production) {\n    runSequence('clean', 'typings', 'js', 'ts', 'min');\n  } else {\n    runSequence('clean', 'typings', 'js', 'ts', 'watch');\n  }\n});\n\n\n\nTypeScript\n\u30e1\u30a4\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\u8a18\u8f09\u3002\n\u30af\u30e9\u30b9\u3054\u3068\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u308b\u5834\u5408\u3001import/export\u3092\u4f7f\u3046\u3002\n\nmain.ts\n/// <reference path=\"../../typings/main.d.ts\"/>\nimport Test = require('./Test');\n\nlet test = new Test();\ntest.getName();\n\n\n\u5fc5\u8981\u306a\u30af\u30e9\u30b9\u8a18\u8f09\u3002\n\nTest.ts\n/// <reference path=\"../../typings/main.d.ts\"/>\nclass Test {\n  private name: string;\n  constructor() {\n    this.name = 'name';\n  }\n  public getName(): string {\n    return this.name;\n  }\n}\n\nexport = Test;\n\n\n\n\nHTML\n\u203b\u30d6\u30e9\u30a6\u30b6\u3067\u300crequire\u300d\u304c\u4f7f\u3048\u306a\u3044\u306e\u3067require.js\u3092\u8aad\u307f\u8fbc\u3080\u3002\nhttp://requirejs.org\n\nindex.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n<meta charset=\"utf-8\">\n<title></title>\n<meta name=\"description\" content=\"\">\n<meta name=\"keywords\" content=\"\">\n<meta name=\"viewport\" content=\"width=device-width\" />\n<link type=\"text/css\" href=\"/css/style.css\" rel=\"stylesheet\" />\n<script src=\"/js/jquery.js\"></script>\n<script data-main=\"/js/main.js\" src=\"/js/require.js\"></script>\n</head>\n<body>\n</body>\n</html>\n\n\n##node.js\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4e0b\u8a18\u3088\u308av5.10.1\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\nhttps://nodejs.org/\n## \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\n\u4e0b\u8a18\u69cb\u9020\u3092\u7528\u610f\u3002\n\n```\n\u250c dist\n|  \u2514 index.html\n\u251c src\n|   \u251c ts\n|   |  \u251c Main.ts\n|   |  \u2514 Test.ts\n|   \u2514 js\n|      \u251c jquery.js\n|      \u2514 require.js\n\u251c gulpfile.js\n\u251c package.json\n\u2514 typings.json\n```\n\n## package.json\n\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8a18\u8f09\u3002\n\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a9\u30eb\u30c0\u3078\u79fb\u52d5\u3057\u3001\u300cnpm install\u300d\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```package.json\n{\n  \"name\": \"typescriptBuild\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"author\": \"a12345\",\n  \"url\": \"http://qiita.com/a12345\",\n  \"license\": \"MIT License\",\n  \"keywords\": \"gulp\",\n  \"devDependencies\": {\n    \"del\": \"*\",\n    \"gulp\": \"*\",\n    \"gulp-plumber\": \"*\",\n    \"gulp-rename\": \"*\",\n    \"run-sequence\": \"*\",\n    \"gulp-typescript\": \"*\",\n    \"gulp-typings\": \"*\",\n    \"gulp-uglify\": \"*\",\n    \"gulp-util\": \"*\"\n  }\n}\n```\n\n## typings.json\n\u5fc5\u8981\u306a\u578b\u5b9a\u7fa9\u3092\u8a18\u8f09\u3002\n\n```typings.json\n{\n  \"name\": \"lib typings\",\n  \"version\": \"1.0.0\",\n  \"dependencies\": {},\n  \"url\": \"http://qiita.com/a12345\",\n  \"author\": \"a12345\",\n  \"ambientDependencies\": {\n    \"jquery\": \"registry:dt/jquery#1.10.0+20160316155526\"\n  }\n}\n```\n\n## gulpfile.js\ngulp\u30bf\u30b9\u30af\u3092\u8a18\u8f09\u3002\n\u958b\u767a [gulp]\n\u672c\u756a [gulp --production]\n\u203btypescript\u306f\u30d6\u30e9\u30a6\u30b6\u3067\u4f7f\u3046\u305f\u3081amd\u65b9\u5f0f\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3002\n\n```gulpfile.js\n//\"url\": \"http://qiita.com/a12345\"\n//\"author\": \"a12345\"\n\"use strict\"\nlet gulp = require('gulp');\nlet plumber = require('gulp-plumber');\nlet runSequence = require('run-sequence');\nlet del = require('del');\nlet ts = require('gulp-typescript');\nlet typings = require('gulp-typings');\nlet uglify = require('gulp-uglify');\nlet util = require('gulp-util');\n\n// \u524a\u9664\ngulp.task('clean', ()=> {\n  del(['./dist/**/*.js']);\n});\n\n// typescript\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\ngulp.task('ts', ()=> {\n  gulp.src(['./src/ts/**/*.ts'])\n  .pipe(plumber({\n    handleError: (err)=> {\n      console.log(err);\n      this.emit('end');\n    }\n  }))\n  .pipe(ts({\n    target: 'ES5',\n    module: 'amd'\n  }))\n  .pipe(gulp.dest('./dist/js'));\n});\n\n// javascript\u751f\u6210\ngulp.task('js', ()=> {\n  gulp.src(['./src/js/**/*.js'])\n  .pipe(plumber({\n    handleError: (err)=> {\n      console.log(err);\n      this.emit('end');\n    }\n  }))\n  .pipe(gulp.dest('./dist/js'));\n});\n\n//typings\u751f\u6210\ngulp.task('typings' ,()=>{\n  gulp.src(\"./typings.json\")\n  .pipe(typings());\n});\n\n//\u5727\u7e2e\ngulp.task('min', ()=> {\n  gulp.src('./dist/js/**/*.js')\n  .pipe(plumber({\n    handleError: (err)=> {\n      console.log(err);\n      this.emit('end');\n    }\n  }))\n  .pipe(uglify())\n  .pipe(gulp.dest('./dist/js'));\n});\n\n// \u76e3\u8996\ngulp.task('watch', ()=> {\n  gulp.watch('./src/ts/**/*.ts', ['ts']);\n});\n\n// \u30c7\u30d5\u30a9\u30eb\u30c8\u30bf\u30b9\u30af\ngulp.task('default', ()=> {\n  if (util.env.production) {\n    runSequence('clean', 'typings', 'js', 'ts', 'min');\n  } else {\n    runSequence('clean', 'typings', 'js', 'ts', 'watch');\n  }\n});\n```\n\n## TypeScript\n\u30e1\u30a4\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\u8a18\u8f09\u3002\n\u30af\u30e9\u30b9\u3054\u3068\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u308b\u5834\u5408\u3001import/export\u3092\u4f7f\u3046\u3002\n\n```main.ts\n/// <reference path=\"../../typings/main.d.ts\"/>\nimport Test = require('./Test');\n\nlet test = new Test();\ntest.getName();\n```\n\n\u5fc5\u8981\u306a\u30af\u30e9\u30b9\u8a18\u8f09\u3002\n\n```Test.ts\n/// <reference path=\"../../typings/main.d.ts\"/>\nclass Test {\n  private name: string;\n  constructor() {\n    this.name = 'name';\n  }\n  public getName(): string {\n    return this.name;\n  }\n}\n\nexport = Test;\n\n```\n\n## HTML\n\u203b\u30d6\u30e9\u30a6\u30b6\u3067\u300crequire\u300d\u304c\u4f7f\u3048\u306a\u3044\u306e\u3067require.js\u3092\u8aad\u307f\u8fbc\u3080\u3002\nhttp://requirejs.org\n\n```index.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n<meta charset=\"utf-8\">\n<title></title>\n<meta name=\"description\" content=\"\">\n<meta name=\"keywords\" content=\"\">\n<meta name=\"viewport\" content=\"width=device-width\" />\n<link type=\"text/css\" href=\"/css/style.css\" rel=\"stylesheet\" />\n<script src=\"/js/jquery.js\"></script>\n<script data-main=\"/js/main.js\" src=\"/js/require.js\"></script>\n</head>\n<body>\n</body>\n</html>\n```\n", "tags": ["TypeScript", "gulp", "Node.js", "\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9", "JavaScript"]}