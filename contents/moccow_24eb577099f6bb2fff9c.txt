{"context": " More than 1 year has passed since last update.<<\u524d\u56de\n\n\u30bd\u30fc\u30b9\uff08app.rb\uff09\u3088\u308a\n\n\napp.rb\nhelpers do\n  def host\n    request.env['HTTP_HOST']\n  end\n\n\n\n\u3000\u2193 request.env\u30cf\u30c3\u30b7\u30e5\u3092\u6383\u304d\u51fa\u3057\u3066\u307f\u308b\u3002\nrequest.env[\"SERVER_SOFTWARE\"]=>thin 1.2.11 codename Bat-Shit Crazy\nrequest.env[\"SERVER_NAME\"]=>localhost\nrequest.env[\"rack.input\"]=>\nrequest.env[\"rack.version\"]=>[1, 0]\nrequest.env[\"rack.errors\"]=>\nrequest.env[\"rack.multithread\"]=>\nrequest.env[\"rack.multiprocess\"]=>\nrequest.env[\"rack.run_once\"]=>\nrequest.env[\"REQUEST_METHOD\"]=>GET\nrequest.env[\"REQUEST_PATH\"]=>/\nrequest.env[\"PATH_INFO\"]=>/\nrequest.env[\"REQUEST_URI\"]=>/\nrequest.env[\"HTTP_VERSION\"]=>HTTP/1.1\nrequest.env[\"HTTP_HOST\"]=>localhost:5000   ##### it is used. #####\nrequest.env[\"HTTP_USER_AGENT\"]=>\nrequest.env[\"HTTP_ACCEPT\"]=>\nrequest.env[\"HTTP_ACCEPT_LANGUAGE\"]=>ja,en-us;q=0.7,en;q=0.3\nrequest.env[\"HTTP_ACCEPT_ENCODING\"]=>\nrequest.env[\"HTTP_COOKIE\"]=>\nrequest.env[\"HTTP_CONNECTION\"]=>\nrequest.env[\"HTTP_CACHE_CONTROL\"]=>\nrequest.env[\"GATEWAY_INTERFACE\"]=>\nrequest.env[\"SERVER_PORT\"]=>5000\nrequest.env[\"QUERY_STRING\"]=>\nrequest.env[\"SERVER_PROTOCOL\"]=>HTTP/1.1\nrequest.env[\"rack.url_scheme\"]=>http\nrequest.env[\"SCRIPT_NAME\"]=>\nrequest.env[\"REMOTE_ADDR\"]=>\nrequest.env[\"async.callback\"]=>\nrequest.env[\"async.close\"]=>\nrequest.env[\"rack.session\"]=>{\n    \"session_id\"=>\"\",\n    \"access_token\"=>\"\"\n}\nrequest.env[\"rack.session.options\"]=>{\n    :key=>\"rack.session\",\n    :path=>\"/\",\n    :domain=>nil,\n    :expire_after=>nil,\n    :secure=>false,\n    :httponly=>true,\n    :defer=>false,\n    :renew=>false,\n    :sidbits=>128,\n    :secure_random=>SecureRandom,\n    :secret=>nil,\n    :coder=>,\n    :id=>\"\"\n}\nrequest.env[\"rack.request.query_string\"]=>\nrequest.env[\"rack.request.query_hash\"]=>{}\nrequest.env[\"rack.request.cookie_hash\"]=>{\n    \"fbsr_xxxxxxx\"=>\"\",\n    \"rack.session\"=>\"\"\n}\nrequest.env[\"rack.request.cookie_string\"]=>\nrequest.env[\"rack.session.unpacked_cookie_data\"]=>{\n    \"session_id\"=>\"\",\n    \"access_token\"=>\"\"\n}\n\n\u3000settings\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3001env\u30cf\u30c3\u30b7\u30e5\u3001request.env\u30cf\u30c3\u30b7\u30e5\u3068\u3001\u74b0\u5883\u306e\u30ec\u30d9\u30eb\u304c\u3044\u304f\u3064\u304b\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u304b\u3002\n\u3000request.env \u30cf\u30c3\u30b7\u30e5\u3067\u53c2\u7167\u3057\u3066\u3044\u308b\u306e\u306f\u3001\u2019 HTTP_HOST ' \u306e\u307f\u3002rack\u95a2\u9023\u304c\u591a\u3044\u3067\u3059\u306d\u3002\n\n\u3064\u3065\u304f\n[<<\u524d\u56de](http://qiita.com/moccow/items/cc81eb9bcb2b06c4827e)\n<br />\n\n[\u30bd\u30fc\u30b9\uff08app.rb\uff09](https://github.com/heroku/facebook-template-ruby/blob/master/app.rb)\u3088\u308a\n\n\n>\n```ruby:app.rb\nhelpers do\n  def host\n    request.env['HTTP_HOST']\n  end\n```\n>\n\n\u3000\u2193 request.env\u30cf\u30c3\u30b7\u30e5\u3092\u6383\u304d\u51fa\u3057\u3066\u307f\u308b\u3002\n\n\n```ruby:\nrequest.env[\"SERVER_SOFTWARE\"]=>thin 1.2.11 codename Bat-Shit Crazy\nrequest.env[\"SERVER_NAME\"]=>localhost\nrequest.env[\"rack.input\"]=>\nrequest.env[\"rack.version\"]=>[1, 0]\nrequest.env[\"rack.errors\"]=>\nrequest.env[\"rack.multithread\"]=>\nrequest.env[\"rack.multiprocess\"]=>\nrequest.env[\"rack.run_once\"]=>\nrequest.env[\"REQUEST_METHOD\"]=>GET\nrequest.env[\"REQUEST_PATH\"]=>/\nrequest.env[\"PATH_INFO\"]=>/\nrequest.env[\"REQUEST_URI\"]=>/\nrequest.env[\"HTTP_VERSION\"]=>HTTP/1.1\nrequest.env[\"HTTP_HOST\"]=>localhost:5000   ##### it is used. #####\nrequest.env[\"HTTP_USER_AGENT\"]=>\nrequest.env[\"HTTP_ACCEPT\"]=>\nrequest.env[\"HTTP_ACCEPT_LANGUAGE\"]=>ja,en-us;q=0.7,en;q=0.3\nrequest.env[\"HTTP_ACCEPT_ENCODING\"]=>\nrequest.env[\"HTTP_COOKIE\"]=>\nrequest.env[\"HTTP_CONNECTION\"]=>\nrequest.env[\"HTTP_CACHE_CONTROL\"]=>\nrequest.env[\"GATEWAY_INTERFACE\"]=>\nrequest.env[\"SERVER_PORT\"]=>5000\nrequest.env[\"QUERY_STRING\"]=>\nrequest.env[\"SERVER_PROTOCOL\"]=>HTTP/1.1\nrequest.env[\"rack.url_scheme\"]=>http\nrequest.env[\"SCRIPT_NAME\"]=>\nrequest.env[\"REMOTE_ADDR\"]=>\nrequest.env[\"async.callback\"]=>\nrequest.env[\"async.close\"]=>\nrequest.env[\"rack.session\"]=>{\n    \"session_id\"=>\"\",\n    \"access_token\"=>\"\"\n}\nrequest.env[\"rack.session.options\"]=>{\n    :key=>\"rack.session\",\n    :path=>\"/\",\n    :domain=>nil,\n    :expire_after=>nil,\n    :secure=>false,\n    :httponly=>true,\n    :defer=>false,\n    :renew=>false,\n    :sidbits=>128,\n    :secure_random=>SecureRandom,\n    :secret=>nil,\n    :coder=>,\n    :id=>\"\"\n}\nrequest.env[\"rack.request.query_string\"]=>\nrequest.env[\"rack.request.query_hash\"]=>{}\nrequest.env[\"rack.request.cookie_hash\"]=>{\n    \"fbsr_xxxxxxx\"=>\"\",\n    \"rack.session\"=>\"\"\n}\nrequest.env[\"rack.request.cookie_string\"]=>\nrequest.env[\"rack.session.unpacked_cookie_data\"]=>{\n    \"session_id\"=>\"\",\n    \"access_token\"=>\"\"\n}\n```\n\n\u3000settings\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3001env\u30cf\u30c3\u30b7\u30e5\u3001request.env\u30cf\u30c3\u30b7\u30e5\u3068\u3001\u74b0\u5883\u306e\u30ec\u30d9\u30eb\u304c\u3044\u304f\u3064\u304b\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u304b\u3002\n\u3000request.env \u30cf\u30c3\u30b7\u30e5\u3067\u53c2\u7167\u3057\u3066\u3044\u308b\u306e\u306f\u3001\u2019 __HTTP_HOST__ ' \u306e\u307f\u3002rack\u95a2\u9023\u304c\u591a\u3044\u3067\u3059\u306d\u3002\n<br />\n[\u3064\u3065\u304f](http://qiita.com/moccow/items/f2d6f1ce39dc8b8207e0)", "tags": ["Ruby", "Sinatra", "Facebook", "Heroku"]}