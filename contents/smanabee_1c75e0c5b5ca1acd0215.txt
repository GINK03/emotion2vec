{"context": "\n\n\u6982\u8981\nSafari\u306b\u304a\u3044\u3066WebGL\u304b\u3089toDataURL()\u3092\u4f7f\u7528\u3059\u308b\u3068\u753b\u50cf\u304c\u4e0a\u4e0b\u9006\u3055\u307e\u306b\u306a\u308b\uff01?\n\n\u74b0\u5883\nSafari 10.0\nPixiJS v4\n\n\u30b5\u30f3\u30d7\u30eb\n\nindex.html\n<body>\n\n<h1>toDataURL() \u30c6\u30b9\u30c8</h1>\n\n<div id=\"canvas-area01\"></div>\n\n<p><input type=\"button\" name=\"button\" value=\"toDataURL()\u5b9f\u884c\" id=\"dataurl-button\"></p>\n\n<div id=\"image-area01\"><img src=\"\" width=\"250\" height=\"250\" alt=\"\u901a\u5e38dataurl\"></div>\n\n<p><input type=\"button\" name=\"button\" value=\"\u9006\u3055\u307e\u56de\u907f\" id=\"re-dataurl-button\"></p>\n\n<div id=\"canvas-area02\"><canvas id=\"re-canvas\" width=\"250\" height=\"250\"></canvas></div>\n\n<div id=\"image-area02\"><img src=\"\" width=\"250\" height=\"250\" alt=\"\u8907\u88fd\u753b\u50cf\u306edataurl\"></div>\n\n</body>\n\n\n\"canvas-area01\" \u2192 pixi.js\u3067\u63cf\u753b\u3059\u308b\u30a8\u30ea\u30a2\n\"image-area01\" \u2192 \u4e0a\u8a18\u3067\u63cf\u753b\u3057\u305f\u3082\u306e\u3092toDataURL()\u3059\u308b\u30a8\u30ea\u30a2\n\"canvas-area02\" \u2192 \"canvas-area01\"\u3092\u8907\u88fd\u3057\u3066drawImage\u3059\u308b\u30a8\u30ea\u30a2\n\"image-area02\" \u2192 \"canvas-area02\"\u3092toDataURL()\u3059\u308b\u30a8\u30ea\u30a2\n\nscript.js\nfunction render(){\n  // create stage \n  var stage = new PIXI.Container(0xFFFFFF);\n\n  // canvas size\n  var width = 250;\n  var height = 250;\n\n  // create renderer\n  var renderer = new PIXI.WebGLRenderer(width, height, {backgroundColor: 0xFFFFFF, preserveDrawingBuffer: true});\n\n  // renderer's view add DOM\n  document.getElementById('canvas-area01').appendChild(renderer.view);\n\n  // render\n  PIXI.loader\n        .add('face', '../images/face.png')\n        .load(function (loader, resources) {\n\n        var face_img = new PIXI.Sprite(resources.face.texture);\n        stage.addChild(face_img);\n\n        renderer.render(stage);\n  });\n}\n\nfunction dataurl(){\n  $('#dataurl-button').on('click', function(){\n    var canvas_area01 = $('canvas')[0];\n    var imgData = canvas_area01.toDataURL();\n    $('#image-area01 img').attr('src', imgData);\n  });\n}\n\nfunction re_dataurl(){\n  $('#re-dataurl-button').on('click', function(){\n    var canvas_area01 = $('canvas')[0];\n    var canvas_area02 = document.getElementById('re-canvas');\n    if(canvas_area02.getContext){\n      var context = canvas_area02.getContext('2d');\n      context.drawImage(canvas_area01, 0, 0);\n    }\n    var sendImage = $('#re-canvas')[0];\n    var imgData = sendImage.toDataURL();\n    $('#image-area02 img').attr('src', imgData);\n  });\n}\n\n$(function(){\n  render();\n  dataurl();\n  re_dataurl();\n});\n\n\nrender() \u2192 pixi.js\u3067\u63cf\u753b\u3059\u308b\u95a2\u6570\ndataurl() \u2192 \u4e0a\u8a18\u3067\u63cf\u753b\u3057\u305f\u3082\u306e\u3092toDataURL()\u3059\u308b\u95a2\u6570\nre_dataurl() \u2192 render()\u3067\u63cf\u753b\u3057\u305f\u753b\u50cf\u3092\u5225\u30ad\u30e3\u30f3\u30d0\u30b9\u306bdrawImage\u3057\u3066\u304b\u3089toDataURL()\u3059\u308b\u95a2\u6570\n\n\u30da\u30fc\u30b8\u4e0a\u3067\u306e\u8868\u793a\n\u81ea\u5206\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u666e\u901a\u306bDataURL()\u3092\u4f7f\u3063\u3066\u63cf\u753b\u3059\u308b\u3068\u9006\u3055\u307e\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u56de\u907f\u7b56\u3068\u3057\u3066\u3082\u30461\u3064canvas\u3092\u7528\u610f\u3057\u3066\u305d\u3053\u306bdrawImage\u3057\u3066\u304b\u3089DataURL()\u3092\u4f7f\u3046\u3068\u6b63\u5e38\u306b\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306fpixi.js\u3067\u8d77\u304d\u307e\u3057\u305f\u304c\u3001Three.js\u3068\u304b\u3067\u3082\u8d77\u304d\u308b\u306e\u304b\u306f\u307e\u3060\u8a66\u3057\u3066\u3044\u307e\u305b\u3093\u3002\nSafari\u3060\u3051\u3053\u306e\u4e8b\u8c61\u304c\u8d77\u304d\u308b\u307f\u305f\u3044\u3067\u3059\u3002\nChrome\u3084Firefox\u3001IE\u3068\u304b\u306f\u5927\u4e08\u592b\u305d\u3046\u3067\u3059\u3002\n# \u6982\u8981\nSafari\u306b\u304a\u3044\u3066WebGL\u304b\u3089[toDataURL()](https://developer.mozilla.org/ja/docs/Web/API/HTMLCanvasElement/toDataURL)\u3092\u4f7f\u7528\u3059\u308b\u3068\u753b\u50cf\u304c\u4e0a\u4e0b\u9006\u3055\u307e\u306b\u306a\u308b\uff01?\n\n# \u74b0\u5883\n[Safari 10.0](http://www.apple.com/jp/safari/)\n[PixiJS v4](http://www.pixijs.com/)\n\n# \u30b5\u30f3\u30d7\u30eb\n```html:index.html\n<body>\n\n<h1>toDataURL() \u30c6\u30b9\u30c8</h1>\n\n<div id=\"canvas-area01\"></div>\n\n<p><input type=\"button\" name=\"button\" value=\"toDataURL()\u5b9f\u884c\" id=\"dataurl-button\"></p>\n\n<div id=\"image-area01\"><img src=\"\" width=\"250\" height=\"250\" alt=\"\u901a\u5e38dataurl\"></div>\n\n<p><input type=\"button\" name=\"button\" value=\"\u9006\u3055\u307e\u56de\u907f\" id=\"re-dataurl-button\"></p>\n\n<div id=\"canvas-area02\"><canvas id=\"re-canvas\" width=\"250\" height=\"250\"></canvas></div>\n\n<div id=\"image-area02\"><img src=\"\" width=\"250\" height=\"250\" alt=\"\u8907\u88fd\u753b\u50cf\u306edataurl\"></div>\n\n</body>\n```\n\"canvas-area01\" \u2192 pixi.js\u3067\u63cf\u753b\u3059\u308b\u30a8\u30ea\u30a2\n\"image-area01\" \u2192 \u4e0a\u8a18\u3067\u63cf\u753b\u3057\u305f\u3082\u306e\u3092toDataURL()\u3059\u308b\u30a8\u30ea\u30a2\n\"canvas-area02\" \u2192 \"canvas-area01\"\u3092\u8907\u88fd\u3057\u3066drawImage\u3059\u308b\u30a8\u30ea\u30a2\n\"image-area02\" \u2192 \"canvas-area02\"\u3092toDataURL()\u3059\u308b\u30a8\u30ea\u30a2\n\n```javascript:script.js\nfunction render(){\n  // create stage \n  var stage = new PIXI.Container(0xFFFFFF);\n\n  // canvas size\n  var width = 250;\n  var height = 250;\n\n  // create renderer\n  var renderer = new PIXI.WebGLRenderer(width, height, {backgroundColor: 0xFFFFFF, preserveDrawingBuffer: true});\n\n  // renderer's view add DOM\n  document.getElementById('canvas-area01').appendChild(renderer.view);\n\n  // render\n  PIXI.loader\n        .add('face', '../images/face.png')\n        .load(function (loader, resources) {\n\n        var face_img = new PIXI.Sprite(resources.face.texture);\n        stage.addChild(face_img);\n\n        renderer.render(stage);\n  });\n}\n\nfunction dataurl(){\n  $('#dataurl-button').on('click', function(){\n    var canvas_area01 = $('canvas')[0];\n    var imgData = canvas_area01.toDataURL();\n    $('#image-area01 img').attr('src', imgData);\n  });\n}\n\nfunction re_dataurl(){\n  $('#re-dataurl-button').on('click', function(){\n    var canvas_area01 = $('canvas')[0];\n    var canvas_area02 = document.getElementById('re-canvas');\n    if(canvas_area02.getContext){\n      var context = canvas_area02.getContext('2d');\n      context.drawImage(canvas_area01, 0, 0);\n    }\n    var sendImage = $('#re-canvas')[0];\n    var imgData = sendImage.toDataURL();\n    $('#image-area02 img').attr('src', imgData);\n  });\n}\n\n$(function(){\n  render();\n  dataurl();\n  re_dataurl();\n});\n```\nrender() \u2192 pixi.js\u3067\u63cf\u753b\u3059\u308b\u95a2\u6570\ndataurl() \u2192 \u4e0a\u8a18\u3067\u63cf\u753b\u3057\u305f\u3082\u306e\u3092toDataURL()\u3059\u308b\u95a2\u6570\nre_dataurl() \u2192 render()\u3067\u63cf\u753b\u3057\u305f\u753b\u50cf\u3092\u5225\u30ad\u30e3\u30f3\u30d0\u30b9\u306bdrawImage\u3057\u3066\u304b\u3089toDataURL()\u3059\u308b\u95a2\u6570\n\n# \u30da\u30fc\u30b8\u4e0a\u3067\u306e\u8868\u793a\n\u81ea\u5206\u306e\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n![test.gif](https://qiita-image-store.s3.amazonaws.com/0/122327/f7944a00-4d5d-f187-5e49-1400b095d438.gif)\n\n\u666e\u901a\u306bDataURL()\u3092\u4f7f\u3063\u3066\u63cf\u753b\u3059\u308b\u3068\u9006\u3055\u307e\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u56de\u907f\u7b56\u3068\u3057\u3066\u3082\u30461\u3064canvas\u3092\u7528\u610f\u3057\u3066\u305d\u3053\u306bdrawImage\u3057\u3066\u304b\u3089DataURL()\u3092\u4f7f\u3046\u3068\u6b63\u5e38\u306b\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306fpixi.js\u3067\u8d77\u304d\u307e\u3057\u305f\u304c\u3001Three.js\u3068\u304b\u3067\u3082\u8d77\u304d\u308b\u306e\u304b\u306f\u307e\u3060\u8a66\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\nSafari\u3060\u3051\u3053\u306e\u4e8b\u8c61\u304c\u8d77\u304d\u308b\u307f\u305f\u3044\u3067\u3059\u3002\nChrome\u3084Firefox\u3001IE\u3068\u304b\u306f\u5927\u4e08\u592b\u305d\u3046\u3067\u3059\u3002\n", "tags": ["HTML5", "canvas", "WebGL", "JavaScript", "pixi.js"]}