{"context": "SQL \u30bc\u30ed\u304b\u3089\u306f\u3058\u3081\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u64cd\u4f5c\u306e\u81ea\u5206\u7528\u306e\u307e\u3068\u3081\u3067\u3059\u3002\n\n\u8272\u3005\u306a\u95a2\u6570\n\n\u95a2\u6570\u306e\u7a2e\u985e\n\n\u7b97\u8853\u95a2\u6570(\u6570\u5024\u306e\u8a08\u7b97\u3092\u884c\u3046\u305f\u3081\u306e\u95a2\u6570)\n\u6587\u5b57\u5217\u95a2\u6570(\u6587\u5b57\u5217\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u95a2\u6570)\n\u65e5\u4ed8\u95a2\u6570(\u65e5\u4ed8\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u95a2\u6570)\n\u5909\u63db\u95a2\u6570(\u30c7\u30fc\u30bf\u578b\u3084\u5024\u3092\u5909\u63db\u3059\u308b\u305f\u3081\u306e\u95a2\u6570)\n\u96c6\u7d04\u95a2\u6570(\u30c7\u30fc\u30bf\u306e\u96c6\u8a08\u3092\u884c\u3046\u305f\u3081\u306e\u95a2\u6570)\n\n\n\u7b97\u8853\u95a2\u6570\n\u7b97\u8853\u95a2\u6570\u306e\u5b66\u7fd2\u306e\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b5\u30f3\u30d7\u30eb\u306e\u30c6\u30fc\u30d6\u30eb(Sample Math)\u3092\u4f5c\u6210\u3059\u308b\u3002\n-- DDL\uff1a\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\nCREATE TABLE SampleMath\n(m  NUMERIC (10,3),\n n  INTEGER,\n p  INTEGER);\n\n-- DML\uff1a\u30c7\u30fc\u30bf\u767b\u9332\nBEGIN TRANSACTION;\n\nINSERT INTO SampleMath(m, n, p) VALUES (500,  0,    NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (-180, 0,    NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (NULL, NULL, NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (NULL, 7,    3);\nINSERT INTO SampleMath(m, n, p) VALUES (NULL, 5,    2);\nINSERT INTO SampleMath(m, n, p) VALUES (NULL, 4,    NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (8,    NULL, 3);\nINSERT INTO SampleMath(m, n, p) VALUES (2.27, 1,    NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (5.555,2,    NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (NULL, 1,    NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (8.76, NULL, NULL);\n\nCOMMIT;\n\n\n-- \u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u78ba\u8a8d\nSELECT * FROM SampleMath;\n\n\n\u5b9f\u884c\u7d50\u679c\n    m     | n | p\n----------+---+---\n  500.000 | 0 |\n -180.000 | 0 |\n          |   |\n          | 7 | 3\n          | 5 | 2\n          | 4 |\n    8.000 |   | 3\n    2.270 | 1 |\n    5.555 | 2 |\n          | 1 |\n    8.760 |   |\n\n\n\n\n\u25a0 ABS - \u7d76\u5bfe\u5024\n\n\u6570\u5024\u306e\u7d76\u5bfe\u5024\u3092\u6c42\u3081\u308b\nSELECT m, ABS(m) AS abs_col\n  FROM SampleMath;\n\n\n\n\u5b9f\u884c\u7d50\u679c\n    m     | abs_col\n----------+---------\n  500.000 | 500.000\n -180.000 | 180.000\n          |\n          |\n          |\n          |\n    8.000 |   8.000\n    2.270 |   2.270\n    5.555 |   5.555\n          |\n    8.760 |   8.760\n\n\n\n\u25a0 MOD - \u5270\u4f59\n\n\u5272\u308a\u7b97(n/p)\u306e\u3042\u307e\u308a\u3092\u6c42\u3081\u308b\nSELECT n, p, MOD(n, p) A mod_col\n  FROM SampleMath;\n\n\n\n\u5b9f\u884c\u7d50\u679c\n n | p | mod_col\n---+---+---------\n 0 |   |\n 0 |   |\n   |   |\n 7 | 3 |       1\n 5 | 2 |       1\n 4 |   |\n   | 3 |\n 1 |   |\n 2 |   |\n 1 |   |\n   |   |\n\n\n\n\u25a0 ROUND - \u56db\u6368\u4e94\u5165\n\nm\u5217\u306e\u6570\u5024\u3092n\u5217\u306e\u4e38\u3081\u6841\u6570\u3067\u56db\u6368\u4e94\u5165\u3059\u308b\nSELECT m, n, ROUND(m, n) AS round_col\n  FROM SampleMath;\n\n\n\n\u5b9f\u884c\u7d50\u679c\n    m     | n | round_col\n----------+---+-----------\n  500.000 | 0 |       500\n -180.000 | 0 |      -180\n          |   |\n          | 7 |\n          | 5 |\n          | 4 |\n    8.000 |   |\n    2.270 | 1 |       2.3\n    5.555 | 2 |      5.56\n          | 1 |\n    8.760 |   |\n\n\n\n\u6587\u5b57\u5217\u95a2\u6570\n\u6587\u5b57\u5217\u95a2\u6570\u3092\u5b66\u7fd2\u3059\u308b\u305f\u3081\u306b\u30b5\u30f3\u30d7\u30eb\u306e\u30c6\u30fc\u30d6\u30eb(SampleStr)\u3092\u4f5c\u6210\u3059\u308b\u3002\n-- DDL\uff1a\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\nCREATE TABLE SampleStr\n(str1  VARCHAR(40),\n str2  VARCHAR(40),\n str3  VARCHAR(40));\n\n-- DML\uff1a\u30c7\u30fc\u30bf\u767b\u9332\nBEGIN TRANSACTION;\n\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('\u3042\u3044\u3046',   '\u3048\u304a'    ,   NULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('abc'  ,   'def'   ,   NULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('\u5c71\u7530'   ,   '\u592a\u90ce'  , '\u3067\u3059');\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('aaa'  ,   NULL    ,   NULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES (NULL   ,   '\u3042\u3042\u3042',    NULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('@!#$%',   NULL    ,   NULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('ABC'  ,   NULL    ,   NULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('aBC'  ,   NULL    ,   NULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('abc\u592a\u90ce',   'abc'   ,   'ABC');\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('abcdefabc','abc'  ,   'ABC');\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('\u30df\u30c3\u30af\u30de\u30c3\u30af',  '\u30c3', '\u3063');\n\nCOMMIT;\n\n\n-- \u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u78ba\u8a8d\nSELECT * FROM SampleStr;\n\n\n\u5b9f\u884c\u7d50\u679c\n     str1     |  str2  | str3\n--------------+--------+------\n \u3042\u3044\u3046       | \u3048\u304a   |\n abc          | def    |\n \u5c71\u7530         | \u592a\u90ce   | \u3067\u3059\n aaa          |        |\n              | \u3042\u3042\u3042 |\n @!#$%        |        |\n ABC          |        |\n aBC          |        |\n abc\u592a\u90ce      | abc    | ABC\n abcdefabc    | abc    | ABC\n \u30df\u30c3\u30af\u30de\u30c3\u30af | \u30c3     | \u3063\n\n\n\n\u25a0 || - \u9023\u7d50\n\n2\u3064\u306e\u6587\u5b57\u5217\u3092\u3064\u306a\u3052\u308b\nSELECT str1, str2, str1 || str2 AS str_concat\n  FROM SampleStr;\n\n\n     str1     |  str2  |   str_concat\n--------------+--------+----------------\n \u3042\u3044\u3046       | \u3048\u304a   | \u3042\u3044\u3046\u3048\u304a\n abc          | def    | abcdef\n \u5c71\u7530         | \u592a\u90ce   | \u5c71\u7530\u592a\u90ce\n aaa          |        |\n              | \u3042\u3042\u3042 |\n @!#$%        |        |\n ABC          |        |\n aBC          |        |\n abc\u592a\u90ce      | abc    | abc\u592a\u90ceabc\n abcdefabc    | abc    | abcdefabcabc\n \u30df\u30c3\u30af\u30de\u30c3\u30af | \u30c3     | \u30df\u30c3\u30af\u30de\u30c3\u30af\u30c3\n\n\n\u25a0 LENGTH - \u6587\u5b57\u5217\u9577\n\n\u6587\u5b57\u5217\u306e\u9577\u3055\u3092\u8abf\u3079\u308b\nSELECT str1, LENGTH(str1) AS len_str\n  FROM SampleStr;\n\n\n\n\u5b9f\u884c\u7d50\u679c\n     str1     | len_str\n--------------+---------\n \u3042\u3044\u3046       |       3\n abc          |       3\n \u5c71\u7530         |       2\n aaa          |       3\n              |\n @!#$%        |       5\n ABC          |       3\n aBC          |       3\n abc\u592a\u90ce      |       5\n abcdefabc    |       9\n \u30df\u30c3\u30af\u30de\u30c3\u30af |       6\n\n\n\n\u25a0 LOWER - \u5c0f\u6587\u5b57\u5316\n\n\u5927\u6587\u5b57\u3092\u5c0f\u6587\u5b57\u306b\nSELECT str1, LOWER(str1) AS low_str\n  FROM SampleStr\n WHERE str1 IN ('ABS', 'aBC', 'abc', '\u5c71\u7530');\n\n\n\n\u5b9f\u884c\u7d50\u679c\n str1 | low_str\n------+---------\n abc  | abc\n \u5c71\u7530 | \u5c71\u7530\n aBC  | abc\n\n\n\u5927\u6587\u5b57\u5316\u306e\u95a2\u6570\u306fUPPER\n\n\u25a0 REPLACE - \u6587\u5b57\u5217\u306e\u7f6e\u63db\n\n\u6587\u5b57\u5217\u306e\u4e00\u90e8\u3092\u7f6e\u304d\u63db\u3048\u308b\nSELECT str1, str2, str3, REPLACE(str1, str2, str3) AS rep_str\n  FROM SampleStr;\n\n\n\n\u5b9f\u884c\u7d50\u679c\n     str1     |  str2  | str3 |   rep_str\n--------------+--------+------+--------------\n \u3042\u3044\u3046       | \u3048\u304a   |      |\n abc          | def    |      |\n \u5c71\u7530         | \u592a\u90ce   | \u3067\u3059 | \u5c71\u7530\n aaa          |        |      |\n              | \u3042\u3042\u3042 |      |\n @!#$%        |        |      |\n ABC          |        |      |\n aBC          |        |      |\n abc\u592a\u90ce      | abc    | ABC  | ABC\u592a\u90ce\n abcdefabc    | abc    | ABC  | ABCdefABC\n \u30df\u30c3\u30af\u30de\u30c3\u30af | \u30c3     | \u3063   | \u30df\u3063\u30af\u30de\u3063\u30af\n\n\n\n\u25a0 SUBSTRING - \u6587\u5b57\u5217\u306e\u5207\u308a\u51fa\u3057\n\n\u6587\u5b57\u5217\u306e\u5de6\u304b\u30893\u756a\u76ee\u30684\u756a\u76ee\u306e\u6587\u5b57\u3092\u629c\u304d\u51fa\u3059\nSELECT str1, SUBSTRING(str1 FROM 3 FOR 2) AS sub_str\n  FROM SampleStr;\n\n\n\n\u5b9f\u884c\u7d50\u679c\n     str1     | sub_str\n--------------+---------\n \u3042\u3044\u3046       | \u3046\n abc          | c\n \u5c71\u7530         |\n aaa          | a\n              |\n @!#$%        | #$\n ABC          | C\n aBC          | C\n abc\u592a\u90ce      | c\u592a\n abcdefabc    | cd\n \u30df\u30c3\u30af\u30de\u30c3\u30af | \u30af\u30de\n\n\n\n\u65e5\u4ed8\u95a2\u6570\n\n\nCURRENT_DATE\n\n\u73fe\u5728\u306e\u65e5\u4ed8\u3092\u53d6\u5f97\u3059\u308b\n\n\n\nCURRENT_TIME\n\n\u73fe\u5728\u306e\u6642\u9593\u3092\u53d6\u5f97\u3059\u308b\n\n\n\nCURRENT_TIMESTAMP\n\n\u73fe\u5728\u306e\u65e5\u6642\u3092\u53d6\u5f97\u3059\u308b\n\n\n\nEXTRACT\n\n\u65e5\u4ed8\u30c7\u30fc\u30bf\u304b\u3089\u305d\u306e\u4e00\u90e8\u5206\u3092\u5207\u308a\u51fa\u3059\n\n\n\n\n\u65e5\u4ed8\u8981\u7d20\u3092\u5207\u308a\u51fa\u3059\nSELECT CURRENT_TIMESTAMP,\n       EXTRACT(YEAR   FROM CURRENT_TIMESTAMP) AS year,\n       EXTRACT(MONTH  FROM CURRENT_TIMESTAMP) AS month,\n       EXTRACT(DAY    FROM CURRENT_TIMESTAMP) AS day,\n       EXTRACT(HOUR   FROM CURRENT_TIMESTAMP) AS hour,\n       EXTRACT(MINUTE FROM CURRENT_TIMESTAMP) AS minute,\n       EXTRACT(SECOND FROM CURRENT_TIMESTAMP) AS second;\n\n\n\n\u5b9f\u884c\u7d50\u679c\n              now              | year | month | day | hour | minute |  second\n-------------------------------+------+-------+-----+------+--------+-----------\n 2016-10-24 13:58:51.787039+09 | 2016 |    10 |  24 |   13 |     58 | 51.787039\n\n\n\n\u5909\u63db\u95a2\u6570\n\n\u25a0 CAST - \u578b\u5909\u63db\n\n\u6587\u5b57\u5217\u578b\u304b\u3089\u6570\u5024\u578b\u3078\u306e\u5909\u63db\nSELECT CAST('0001' AS INTEGER) AS int_col;\n\n\n\n\u5b9f\u884c\u7d50\u679c\n int_col\n---------\n       1\n\n\n\n\u25a0 COALESCE - NULL\u3092\u5024\u3078\u5909\u63db\n\nNULL\u3092\u5024\u306b\u5909\u63db\u3059\u308b\nSELECT COALESCE(NULL, 1)                  AS col_1,\n       COALESCE(NULL, 'test', NULL)       AS col_2,\n       COALESCE(NULL, NULL, '2009-11-01') AS col_3;\n\n\n\n\u5b9f\u884c\u7d50\u679c\n col_1 | col_2 |   col_3\n-------+-------+------------\n     1 | test  | 2009-11-01\n\n\n\n\u8ff0\u8a9e\n\n\u8ff0\u8a9e\u3068\u306f\n\u623b\u308a\u5024\u304c\u502b\u7406\u5730\u306b\u306a\u308b\u95a2\u6570\u306e\u3053\u3068\u3067\u3042\u308b\u3002\n\u4e3b\u306a\u8ff0\u8a9e\u3068\u3057\u3066\u4ee5\u4e0b\u304c\u6319\u3052\u3089\u308c\u308b\u3002\n\nLIKE\nBETWEEN\nIS NULL, IS NOT NULL\nIN\nEXISTS\n\n\nLIKE\u8ff0\u8a9e - \u6587\u5b57\u5217\u306e\u90e8\u5206\u4e00\u81f4\n\n\u524d\u65b9\u4e00\u81f4: \u300cddd abc\u300d\u304c\u9078\u629e\u3055\u308c\u308b\n\n\nLIKE 'ddd%'\n\n\n\u4e2d\u9593\u4e00\u81f4: \u300cabc ddd\u300d, \u300cddd abc\u300d, \u300cab ddd c\u300d\u304c\u9078\u629e\u3055\u308c\u308b\n\n\nLIKE '%ddd%'\n\n\n\u5f8c\u65b9\u4e00\u81f4: \u300cabc ddd\u300d\u304c\u9078\u629e\u3055\u308c\u308b\n\n\nLIKE '%ddd'\n\n\n\n\nBETWEEN\u8ff0\u8a9e - \u7bc4\u56f2\u691c\u7d22\n\n\u8ca9\u58f2\u5358\u4fa1\u304c100\u301c1000\u5186\u306e\u5546\u54c1\u3092\u9078\u629e\nSELECT shohin_mei, hanbai_tanka\n  FROM Shohin\n WHERE hanbai_tanka BETWEEN 100 AND 1000;\n\n\n\n\n\u5b9f\u884c\u7d50\u679c\n  shohin_mei  | hanbai_tanka\n--------------+--------------\n T\u30b7\u30e3\u30c4      |         1000\n \u7a74\u3042\u3051\u30d1\u30f3\u30c1 |          500\n \u30d5\u30a9\u30fc\u30af     |          500\n \u304a\u308d\u3057\u304c\u306d   |          880\n \u30dc\u30fc\u30eb\u30da\u30f3   |          100\n\n\n\nIS NULL, IS NOT NULL - NULL\u304b\u975eNULL\u304b\u306e\u5224\u5b9a\n\n\u4ed5\u5165\u5358\u4fa1\u304cNULL\u306e\u5546\u54c1\u3092\u9078\u629e\nSELECT shohin_mei, shiire_tanka\n  FROM Shohin\n WHERE shiire_tanka IS NULL;\n\n\n\n\u5b9f\u884c\u7d50\u679c\n shohin_mei | shiire_tanka\n------------+--------------\n \u30d5\u30a9\u30fc\u30af   |\n \u30dc\u30fc\u30eb\u30da\u30f3 |\n\n\n\nIN\u8ff0\u8a9e - OR\u306e\u4fbf\u5229\u306a\u7701\u7565\u5f62\n\nIN\u3067\u8907\u6570\u306e\u4ed5\u5165\u5358\u4fa1\u3092\u6307\u5b9a\u3057\u3066\u691c\u7d22\nSELECT shohin_mei, shiire_tanka\n  FROM Shohin\n WHERE shiire_tanka IN (320, 500, 5000);\n\n\n\n\u5b9f\u884c\u7d50\u679c\n  shohin_mei  | shiire_tanka\n--------------+--------------\n T\u30b7\u30e3\u30c4      |          500\n \u7a74\u3042\u3051\u30d1\u30f3\u30c1 |          320\n \u5727\u529b\u934b       |         5000\n\n\n\nEXISTS\u8ff0\u8a9e\n\nEXISTS\u3067\u300c\u5927\u962a\u5e97\u306b\u304a\u3044\u3066\u3042\u308b\u5546\u54c1\u306e\u8ca9\u58f2\u5358\u4fa1\u300d\u3092\u6c42\u3081\u308b\nSELECT shohin_mei, hanbai_tanka\n  FROM Shohin AS S\n WHERE EXISTS (SELECT *\n                 FROM TenpoShohin AS TS\n                WHERE TS.tenpo_id = '000C'\n                  AND TS.shohin_id = S.shohin_id);\n\n\n\n\u5b9f\u884c\u7d50\u679c\n   shohin_mei   | hanbai_tanka\n----------------+--------------\n \u30ab\u30c3\u30bf\u30fc\u30b7\u30e3\u30c4 |         4000\n \u5305\u4e01           |         3000\n \u30d5\u30a9\u30fc\u30af       |          500\n \u304a\u308d\u3057\u304c\u306d     |          880\n\n\nEXISTS\u306e\u5f15\u6570\u306f\u5e38\u306b\u76f8\u95a2\u30b5\u30d6\u30af\u30a8\u30ea\u3092\u6307\u5b9a\u3059\u308b\u3002\n\nCASE\u5f0f\n\nCASE\u5f0f\u3068\u306f\nCASE\u5f0f\u306f\u3001CASE(\u5834\u5408)\u3068\u3044\u3046\u540d\u524d\u304c\u793a\u3059\u3088\u3046\u306b\u3001\u300c\u5834\u5408\u5206\u3051\u300d\u3092\u8a18\u8ff0\u3059\u308b\u3068\u304d\u306b\u4f7f\u3046\u3002\n\nCASE\u5f0f\u306e\u69cb\u6587\n\n\u691c\u7d22CASE\u5f0f\nCASE WHEN <\u8a55\u4fa1\u5f0f> THEN <\u5f0f>\n     WHEN <\u8a55\u4fa1\u5f0f> THEN <\u5f0f>\n     WHEN <\u8a55\u4fa1\u5f0f> THEN <\u5f0f>\n     ...\n     ELSE <\u5f0f>\nEND\n\n\n\nCASE\u5f0f\u306e\u4f7f\u3044\u65b9\n\nCASE\u5f0f\u3067\u5546\u54c1\u5206\u985e\u306bA\u301cC\u306b\u5272\u308a\u5f53\u3066\u308b\nSELECT shohin_mei,\n       CASE WHEN shohin_bunrui = '\u8863\u670d'         THEN 'A\uff1a' || shohin_bunrui\n            WHEN shohin_bunrui = '\u4e8b\u52d9\u7528\u54c1'     THEN 'B\uff1a' || shohin_bunrui\n            WHEN shohin_bunrui = '\u30ad\u30c3\u30c1\u30f3\u7528\u54c1' THEN 'C\uff1a' || shohin_bunrui\n            ELSE NULL\n       END AS abc_shohin_bunrui\n  FROM Shohin;\n\n\n\n\u5b9f\u884c\u7d50\u679c\n   shohin_mei   | abc_shohin_bunrui\n----------------+-------------------\n T\u30b7\u30e3\u30c4        | A\uff1a\u8863\u670d\n \u7a74\u3042\u3051\u30d1\u30f3\u30c1   | B\uff1a\u4e8b\u52d9\u7528\u54c1\n \u30ab\u30c3\u30bf\u30fc\u30b7\u30e3\u30c4 | A\uff1a\u8863\u670d\n \u5305\u4e01           | C\uff1a\u30ad\u30c3\u30c1\u30f3\u7528\u54c1\n \u5727\u529b\u934b         | C\uff1a\u30ad\u30c3\u30c1\u30f3\u7528\u54c1\n \u30d5\u30a9\u30fc\u30af       | C\uff1a\u30ad\u30c3\u30c1\u30f3\u7528\u54c1\n \u304a\u308d\u3057\u304c\u306d     | C\uff1a\u30ad\u30c3\u30c1\u30f3\u7528\u54c1\n \u30dc\u30fc\u30eb\u30da\u30f3     | B\uff1a\u4e8b\u52d9\u7528\u54c1\n\n\n[SQL \u30bc\u30ed\u304b\u3089\u306f\u3058\u3081\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u64cd\u4f5c](http://amzn.to/2ech0kk)\u306e\u81ea\u5206\u7528\u306e\u307e\u3068\u3081\u3067\u3059\u3002\n\n# \u8272\u3005\u306a\u95a2\u6570\n## \u95a2\u6570\u306e\u7a2e\u985e\n- \u7b97\u8853\u95a2\u6570(\u6570\u5024\u306e\u8a08\u7b97\u3092\u884c\u3046\u305f\u3081\u306e\u95a2\u6570)\n- \u6587\u5b57\u5217\u95a2\u6570(\u6587\u5b57\u5217\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u95a2\u6570)\n- \u65e5\u4ed8\u95a2\u6570(\u65e5\u4ed8\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u95a2\u6570)\n- \u5909\u63db\u95a2\u6570(\u30c7\u30fc\u30bf\u578b\u3084\u5024\u3092\u5909\u63db\u3059\u308b\u305f\u3081\u306e\u95a2\u6570)\n- \u96c6\u7d04\u95a2\u6570(\u30c7\u30fc\u30bf\u306e\u96c6\u8a08\u3092\u884c\u3046\u305f\u3081\u306e\u95a2\u6570)\n\n## \u7b97\u8853\u95a2\u6570\n\n\u7b97\u8853\u95a2\u6570\u306e\u5b66\u7fd2\u306e\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b5\u30f3\u30d7\u30eb\u306e\u30c6\u30fc\u30d6\u30eb(Sample Math)\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```sql:\n-- DDL\uff1a\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\nCREATE TABLE SampleMath\n(m  NUMERIC (10,3),\n n  INTEGER,\n p  INTEGER);\n\n-- DML\uff1a\u30c7\u30fc\u30bf\u767b\u9332\nBEGIN TRANSACTION;\n\nINSERT INTO SampleMath(m, n, p) VALUES (500,  0,    NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (-180, 0,    NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (NULL, NULL, NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (NULL, 7,    3);\nINSERT INTO SampleMath(m, n, p) VALUES (NULL, 5,    2);\nINSERT INTO SampleMath(m, n, p) VALUES (NULL, 4,    NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (8,    NULL, 3);\nINSERT INTO SampleMath(m, n, p) VALUES (2.27, 1,    NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (5.555,2,    NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (NULL, 1,    NULL);\nINSERT INTO SampleMath(m, n, p) VALUES (8.76, NULL, NULL);\n\nCOMMIT;\n\n\n-- \u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u78ba\u8a8d\nSELECT * FROM SampleMath;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n    m     | n | p\n----------+---+---\n  500.000 | 0 |\n -180.000 | 0 |\n          |   |\n          | 7 | 3\n          | 5 | 2\n          | 4 |\n    8.000 |   | 3\n    2.270 | 1 |\n    5.555 | 2 |\n          | 1 |\n    8.760 |   |\n\n```\n\n### \u25a0 ABS - \u7d76\u5bfe\u5024\n\n```sql:\u6570\u5024\u306e\u7d76\u5bfe\u5024\u3092\u6c42\u3081\u308b\nSELECT m, ABS(m) AS abs_col\n  FROM SampleMath;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n    m     | abs_col\n----------+---------\n  500.000 | 500.000\n -180.000 | 180.000\n          |\n          |\n          |\n          |\n    8.000 |   8.000\n    2.270 |   2.270\n    5.555 |   5.555\n          |\n    8.760 |   8.760\n```\n\n### \u25a0 MOD - \u5270\u4f59\n\n```sql:\u5272\u308a\u7b97(n/p)\u306e\u3042\u307e\u308a\u3092\u6c42\u3081\u308b\nSELECT n, p, MOD(n, p) A mod_col\n  FROM SampleMath;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n n | p | mod_col\n---+---+---------\n 0 |   |\n 0 |   |\n   |   |\n 7 | 3 |       1\n 5 | 2 |       1\n 4 |   |\n   | 3 |\n 1 |   |\n 2 |   |\n 1 |   |\n   |   |\n```\n\n### \u25a0 ROUND - \u56db\u6368\u4e94\u5165\n\n```sql:m\u5217\u306e\u6570\u5024\u3092n\u5217\u306e\u4e38\u3081\u6841\u6570\u3067\u56db\u6368\u4e94\u5165\u3059\u308b\nSELECT m, n, ROUND(m, n) AS round_col\n  FROM SampleMath;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n    m     | n | round_col\n----------+---+-----------\n  500.000 | 0 |       500\n -180.000 | 0 |      -180\n          |   |\n          | 7 |\n          | 5 |\n          | 4 |\n    8.000 |   |\n    2.270 | 1 |       2.3\n    5.555 | 2 |      5.56\n          | 1 |\n    8.760 |   |\n```\n\n## \u6587\u5b57\u5217\u95a2\u6570\n\u6587\u5b57\u5217\u95a2\u6570\u3092\u5b66\u7fd2\u3059\u308b\u305f\u3081\u306b\u30b5\u30f3\u30d7\u30eb\u306e\u30c6\u30fc\u30d6\u30eb(SampleStr)\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```sql:\n-- DDL\uff1a\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\nCREATE TABLE SampleStr\n(str1  VARCHAR(40),\n str2  VARCHAR(40),\n str3  VARCHAR(40));\n\n-- DML\uff1a\u30c7\u30fc\u30bf\u767b\u9332\nBEGIN TRANSACTION;\n\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('\u3042\u3044\u3046',\t'\u3048\u304a'\t,\tNULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('abc'\t,\t'def'\t,\tNULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('\u5c71\u7530'\t,\t'\u592a\u90ce'  ,\t'\u3067\u3059');\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('aaa'\t,\tNULL    ,\tNULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES (NULL\t,\t'\u3042\u3042\u3042',\tNULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('@!#$%',\tNULL\t,\tNULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('ABC'\t,\tNULL\t,\tNULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('aBC'\t,\tNULL\t,\tNULL);\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('abc\u592a\u90ce',\t'abc'\t,\t'ABC');\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('abcdefabc','abc'\t,\t'ABC');\nINSERT INTO SampleStr (str1, str2, str3) VALUES ('\u30df\u30c3\u30af\u30de\u30c3\u30af',\t'\u30c3', '\u3063');\n\nCOMMIT;\n\n\n-- \u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u78ba\u8a8d\nSELECT * FROM SampleStr;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n     str1     |  str2  | str3\n--------------+--------+------\n \u3042\u3044\u3046       | \u3048\u304a   |\n abc          | def    |\n \u5c71\u7530         | \u592a\u90ce   | \u3067\u3059\n aaa          |        |\n              | \u3042\u3042\u3042 |\n @!#$%        |        |\n ABC          |        |\n aBC          |        |\n abc\u592a\u90ce      | abc    | ABC\n abcdefabc    | abc    | ABC\n \u30df\u30c3\u30af\u30de\u30c3\u30af | \u30c3     | \u3063\n```\n\n### \u25a0 || - \u9023\u7d50\n\n```sql:2\u3064\u306e\u6587\u5b57\u5217\u3092\u3064\u306a\u3052\u308b\nSELECT str1, str2, str1 || str2 AS str_concat\n  FROM SampleStr;\n```\n\n```text:\n     str1     |  str2  |   str_concat\n--------------+--------+----------------\n \u3042\u3044\u3046       | \u3048\u304a   | \u3042\u3044\u3046\u3048\u304a\n abc          | def    | abcdef\n \u5c71\u7530         | \u592a\u90ce   | \u5c71\u7530\u592a\u90ce\n aaa          |        |\n              | \u3042\u3042\u3042 |\n @!#$%        |        |\n ABC          |        |\n aBC          |        |\n abc\u592a\u90ce      | abc    | abc\u592a\u90ceabc\n abcdefabc    | abc    | abcdefabcabc\n \u30df\u30c3\u30af\u30de\u30c3\u30af | \u30c3     | \u30df\u30c3\u30af\u30de\u30c3\u30af\u30c3\n```\n\n### \u25a0 LENGTH - \u6587\u5b57\u5217\u9577\n\n```sql:\u6587\u5b57\u5217\u306e\u9577\u3055\u3092\u8abf\u3079\u308b\nSELECT str1, LENGTH(str1) AS len_str\n  FROM SampleStr;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n     str1     | len_str\n--------------+---------\n \u3042\u3044\u3046       |       3\n abc          |       3\n \u5c71\u7530         |       2\n aaa          |       3\n              |\n @!#$%        |       5\n ABC          |       3\n aBC          |       3\n abc\u592a\u90ce      |       5\n abcdefabc    |       9\n \u30df\u30c3\u30af\u30de\u30c3\u30af |       6\n```\n\n### \u25a0 LOWER - \u5c0f\u6587\u5b57\u5316\n\n```sql:\u5927\u6587\u5b57\u3092\u5c0f\u6587\u5b57\u306b\nSELECT str1, LOWER(str1) AS low_str\n  FROM SampleStr\n WHERE str1 IN ('ABS', 'aBC', 'abc', '\u5c71\u7530');\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n str1 | low_str\n------+---------\n abc  | abc\n \u5c71\u7530 | \u5c71\u7530\n aBC  | abc\n```\n\n**\u5927\u6587\u5b57\u5316\u306e\u95a2\u6570\u306fUPPER**\n\n### \u25a0 REPLACE - \u6587\u5b57\u5217\u306e\u7f6e\u63db\n\n```sql:\u6587\u5b57\u5217\u306e\u4e00\u90e8\u3092\u7f6e\u304d\u63db\u3048\u308b\nSELECT str1, str2, str3, REPLACE(str1, str2, str3) AS rep_str\n  FROM SampleStr;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n     str1     |  str2  | str3 |   rep_str\n--------------+--------+------+--------------\n \u3042\u3044\u3046       | \u3048\u304a   |      |\n abc          | def    |      |\n \u5c71\u7530         | \u592a\u90ce   | \u3067\u3059 | \u5c71\u7530\n aaa          |        |      |\n              | \u3042\u3042\u3042 |      |\n @!#$%        |        |      |\n ABC          |        |      |\n aBC          |        |      |\n abc\u592a\u90ce      | abc    | ABC  | ABC\u592a\u90ce\n abcdefabc    | abc    | ABC  | ABCdefABC\n \u30df\u30c3\u30af\u30de\u30c3\u30af | \u30c3     | \u3063   | \u30df\u3063\u30af\u30de\u3063\u30af\n```\n\n### \u25a0 SUBSTRING - \u6587\u5b57\u5217\u306e\u5207\u308a\u51fa\u3057\n\n```sql:\u6587\u5b57\u5217\u306e\u5de6\u304b\u30893\u756a\u76ee\u30684\u756a\u76ee\u306e\u6587\u5b57\u3092\u629c\u304d\u51fa\u3059\nSELECT str1, SUBSTRING(str1 FROM 3 FOR 2) AS sub_str\n  FROM SampleStr;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n     str1     | sub_str\n--------------+---------\n \u3042\u3044\u3046       | \u3046\n abc          | c\n \u5c71\u7530         |\n aaa          | a\n              |\n @!#$%        | #$\n ABC          | C\n aBC          | C\n abc\u592a\u90ce      | c\u592a\n abcdefabc    | cd\n \u30df\u30c3\u30af\u30de\u30c3\u30af | \u30af\u30de\n```\n\n## \u65e5\u4ed8\u95a2\u6570\n- **CURRENT_DATE**\n    - \u73fe\u5728\u306e\u65e5\u4ed8\u3092\u53d6\u5f97\u3059\u308b\n- **CURRENT_TIME**\n    - \u73fe\u5728\u306e\u6642\u9593\u3092\u53d6\u5f97\u3059\u308b\n- **CURRENT_TIMESTAMP**\n    - \u73fe\u5728\u306e\u65e5\u6642\u3092\u53d6\u5f97\u3059\u308b\n- **EXTRACT**\n    - \u65e5\u4ed8\u30c7\u30fc\u30bf\u304b\u3089\u305d\u306e\u4e00\u90e8\u5206\u3092\u5207\u308a\u51fa\u3059\n\n```sql:\u65e5\u4ed8\u8981\u7d20\u3092\u5207\u308a\u51fa\u3059\nSELECT CURRENT_TIMESTAMP,\n       EXTRACT(YEAR   FROM CURRENT_TIMESTAMP) AS year,\n       EXTRACT(MONTH  FROM CURRENT_TIMESTAMP) AS month,\n       EXTRACT(DAY    FROM CURRENT_TIMESTAMP) AS day,\n       EXTRACT(HOUR   FROM CURRENT_TIMESTAMP) AS hour,\n       EXTRACT(MINUTE FROM CURRENT_TIMESTAMP) AS minute,\n       EXTRACT(SECOND FROM CURRENT_TIMESTAMP) AS second;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n              now              | year | month | day | hour | minute |  second\n-------------------------------+------+-------+-----+------+--------+-----------\n 2016-10-24 13:58:51.787039+09 | 2016 |    10 |  24 |   13 |     58 | 51.787039\n```\n\n## \u5909\u63db\u95a2\u6570\n### \u25a0 CAST - \u578b\u5909\u63db\n\n```sql:\u6587\u5b57\u5217\u578b\u304b\u3089\u6570\u5024\u578b\u3078\u306e\u5909\u63db\nSELECT CAST('0001' AS INTEGER) AS int_col;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n int_col\n---------\n       1\n```\n### \u25a0 COALESCE - NULL\u3092\u5024\u3078\u5909\u63db\n\n```sql:NULL\u3092\u5024\u306b\u5909\u63db\u3059\u308b\nSELECT COALESCE(NULL, 1)                  AS col_1,\n       COALESCE(NULL, 'test', NULL)       AS col_2,\n       COALESCE(NULL, NULL, '2009-11-01') AS col_3;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n col_1 | col_2 |   col_3\n-------+-------+------------\n     1 | test  | 2009-11-01\n```\n\n# \u8ff0\u8a9e\n## \u8ff0\u8a9e\u3068\u306f\n\u623b\u308a\u5024\u304c\u502b\u7406\u5730\u306b\u306a\u308b\u95a2\u6570\u306e\u3053\u3068\u3067\u3042\u308b\u3002\n\n\u4e3b\u306a\u8ff0\u8a9e\u3068\u3057\u3066\u4ee5\u4e0b\u304c\u6319\u3052\u3089\u308c\u308b\u3002\n\n- LIKE\n- BETWEEN\n- IS NULL, IS NOT NULL\n- IN\n- EXISTS\n\n## LIKE\u8ff0\u8a9e - \u6587\u5b57\u5217\u306e\u90e8\u5206\u4e00\u81f4\n\n- \u524d\u65b9\u4e00\u81f4: \u300c**ddd** abc\u300d\u304c\u9078\u629e\u3055\u308c\u308b\n    - `LIKE 'ddd%'`\n- \u4e2d\u9593\u4e00\u81f4: \u300cabc **ddd**\u300d, \u300c**ddd** abc\u300d, \u300cab **ddd** c\u300d\u304c\u9078\u629e\u3055\u308c\u308b\n    - `LIKE '%ddd%'`\n- \u5f8c\u65b9\u4e00\u81f4: \u300cabc **ddd**\u300d\u304c\u9078\u629e\u3055\u308c\u308b\n    - `LIKE '%ddd'`\n\n## BETWEEN\u8ff0\u8a9e - \u7bc4\u56f2\u691c\u7d22\n\n```sql:\u8ca9\u58f2\u5358\u4fa1\u304c100\u301c1000\u5186\u306e\u5546\u54c1\u3092\u9078\u629e\nSELECT shohin_mei, hanbai_tanka\n  FROM Shohin\n WHERE hanbai_tanka BETWEEN 100 AND 1000;\n\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n  shohin_mei  | hanbai_tanka\n--------------+--------------\n T\u30b7\u30e3\u30c4      |         1000\n \u7a74\u3042\u3051\u30d1\u30f3\u30c1 |          500\n \u30d5\u30a9\u30fc\u30af     |          500\n \u304a\u308d\u3057\u304c\u306d   |          880\n \u30dc\u30fc\u30eb\u30da\u30f3   |          100\n```\n\n## IS NULL, IS NOT NULL - NULL\u304b\u975eNULL\u304b\u306e\u5224\u5b9a\n\n```sql:\u4ed5\u5165\u5358\u4fa1\u304cNULL\u306e\u5546\u54c1\u3092\u9078\u629e\nSELECT shohin_mei, shiire_tanka\n  FROM Shohin\n WHERE shiire_tanka IS NULL;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n shohin_mei | shiire_tanka\n------------+--------------\n \u30d5\u30a9\u30fc\u30af   |\n \u30dc\u30fc\u30eb\u30da\u30f3 |\n```\n\n## IN\u8ff0\u8a9e - OR\u306e\u4fbf\u5229\u306a\u7701\u7565\u5f62\n\n```sql:IN\u3067\u8907\u6570\u306e\u4ed5\u5165\u5358\u4fa1\u3092\u6307\u5b9a\u3057\u3066\u691c\u7d22\nSELECT shohin_mei, shiire_tanka\n  FROM Shohin\n WHERE shiire_tanka IN (320, 500, 5000);\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n  shohin_mei  | shiire_tanka\n--------------+--------------\n T\u30b7\u30e3\u30c4      |          500\n \u7a74\u3042\u3051\u30d1\u30f3\u30c1 |          320\n \u5727\u529b\u934b       |         5000\n```\n\n## EXISTS\u8ff0\u8a9e\n\n```sql:EXISTS\u3067\u300c\u5927\u962a\u5e97\u306b\u304a\u3044\u3066\u3042\u308b\u5546\u54c1\u306e\u8ca9\u58f2\u5358\u4fa1\u300d\u3092\u6c42\u3081\u308b\nSELECT shohin_mei, hanbai_tanka\n  FROM Shohin AS S\n WHERE EXISTS (SELECT *\n                 FROM TenpoShohin AS TS\n                WHERE TS.tenpo_id = '000C'\n                  AND TS.shohin_id = S.shohin_id);\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n   shohin_mei   | hanbai_tanka\n----------------+--------------\n \u30ab\u30c3\u30bf\u30fc\u30b7\u30e3\u30c4 |         4000\n \u5305\u4e01           |         3000\n \u30d5\u30a9\u30fc\u30af       |          500\n \u304a\u308d\u3057\u304c\u306d     |          880\n```\n\n**EXISTS\u306e\u5f15\u6570\u306f\u5e38\u306b\u76f8\u95a2\u30b5\u30d6\u30af\u30a8\u30ea\u3092\u6307\u5b9a\u3059\u308b\u3002**\n\n\n# CASE\u5f0f\n## CASE\u5f0f\u3068\u306f\nCASE\u5f0f\u306f\u3001CASE(\u5834\u5408)\u3068\u3044\u3046\u540d\u524d\u304c\u793a\u3059\u3088\u3046\u306b\u3001\u300c\u5834\u5408\u5206\u3051\u300d\u3092\u8a18\u8ff0\u3059\u308b\u3068\u304d\u306b\u4f7f\u3046\u3002\n\n## CASE\u5f0f\u306e\u69cb\u6587\n\n```sql:\u691c\u7d22CASE\u5f0f\nCASE WHEN <\u8a55\u4fa1\u5f0f> THEN <\u5f0f>\n     WHEN <\u8a55\u4fa1\u5f0f> THEN <\u5f0f>\n     WHEN <\u8a55\u4fa1\u5f0f> THEN <\u5f0f>\n     ...\n     ELSE <\u5f0f>\nEND\n```\n\n## CASE\u5f0f\u306e\u4f7f\u3044\u65b9\n\n```sql:CASE\u5f0f\u3067\u5546\u54c1\u5206\u985e\u306bA\u301cC\u306b\u5272\u308a\u5f53\u3066\u308b\nSELECT shohin_mei,\n       CASE WHEN shohin_bunrui = '\u8863\u670d'         THEN 'A\uff1a' || shohin_bunrui\n            WHEN shohin_bunrui = '\u4e8b\u52d9\u7528\u54c1'     THEN 'B\uff1a' || shohin_bunrui\n            WHEN shohin_bunrui = '\u30ad\u30c3\u30c1\u30f3\u7528\u54c1' THEN 'C\uff1a' || shohin_bunrui\n            ELSE NULL\n       END AS abc_shohin_bunrui\n  FROM Shohin;\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\n   shohin_mei   | abc_shohin_bunrui\n----------------+-------------------\n T\u30b7\u30e3\u30c4        | A\uff1a\u8863\u670d\n \u7a74\u3042\u3051\u30d1\u30f3\u30c1   | B\uff1a\u4e8b\u52d9\u7528\u54c1\n \u30ab\u30c3\u30bf\u30fc\u30b7\u30e3\u30c4 | A\uff1a\u8863\u670d\n \u5305\u4e01           | C\uff1a\u30ad\u30c3\u30c1\u30f3\u7528\u54c1\n \u5727\u529b\u934b         | C\uff1a\u30ad\u30c3\u30c1\u30f3\u7528\u54c1\n \u30d5\u30a9\u30fc\u30af       | C\uff1a\u30ad\u30c3\u30c1\u30f3\u7528\u54c1\n \u304a\u308d\u3057\u304c\u306d     | C\uff1a\u30ad\u30c3\u30c1\u30f3\u7528\u54c1\n \u30dc\u30fc\u30eb\u30da\u30f3     | B\uff1a\u4e8b\u52d9\u7528\u54c1\n```\n", "tags": ["\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9", "SQL", "PostgreSQL"]}