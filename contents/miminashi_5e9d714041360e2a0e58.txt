{"tags": ["PostGIS", "PostgreSQL"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\n\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u306a\u306e\u3067\u30c7\u30fc\u30bf\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u4f5c\u696d\u3092\u3084\u3089\u306a\u3044\u3068\u3044\u3051\u306a\u3044\nPostGIS\u3092\u5c0e\u5165\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u6ce8\u610f\u304c\u5fc5\u8981\n\n\n\u74b0\u5883\n\nMacOSX Yosemite 10.10.1\nhomebrew 0.9.5\n\n\n\u6ce8\u610f\u70b9\npg_upgrade\u5b9f\u884c\u524d\u306b brew reinstall postgis \u3092\u5b9f\u884c\u3057\u308d\n\n\u624b\u9806\n\nPostgreSQL\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\nbrew upgrade postgresql\n\n\nPostGIS\u306e\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nbrew reinstall postgis\n\n\u3053\u308c\u3084\u3063\u3068\u304f\u3068\u65b0\u305f\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fPostgreSQL\u306bpostgis\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u308c\u308b\u3002\n\u3084\u3063\u3068\u304b\u306a\u3044\u3068pg_upgrade\u306e\u9014\u4e2d\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u898b\u5f53\u305f\u3089\u306a\u3044\u307f\u305f\u3044\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\n# \u30a8\u30e9\u30fc\u4f8b\n$ pg_upgrade -b /usr/local/Cellar/postgresql/9.3.5_1/bin -B /usr/local/Cellar/postgresql/9.4.0/bin -d /usr/local/var/postgres-9.3 -D /usr/local/var/postgres\nPerforming Consistency Checks\n-----------------------------\nChecking cluster versions                                   ok\nChecking database user is a superuser                       ok\nChecking for prepared transactions                          ok\nChecking for reg* system OID user data types                ok\nChecking for contrib/isn with bigint-passing mismatch       ok\nChecking for invalid \"line\" user columns                    ok\nCreating dump of global objects                             ok\nCreating dump of database schemas\n                                                            ok\nChecking for presence of required libraries                 fatal\n\nYour installation references loadable libraries that are missing from the\nnew installation.  You can add these libraries to the new installation,\nor remove the functions using them from the old installation.  A list of\nproblem libraries is in the file:\n    loadable_libraries.txt\n\nFailure, exiting\n\n$ cat loadable_libraries.txt \nCould not load library \"$libdir/rtpostgis-2.1\"\nERROR:  could not access file \"$libdir/rtpostgis-2.1\": No such file or directory\n\nCould not load library \"$libdir/postgis-2.1\"\nERROR:  could not access file \"$libdir/postgis-2.1\": No such file or directory\n\n\n\u30c7\u30fc\u30bf\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n\u3044\u307e\u307e\u3067\u4f7f\u7528\u3057\u3066\u3044\u305f\u30c7\u30fc\u30bf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30b3\u30d4\u30fc\ncp -r /usr/local/var/postgres /usr/local/var/postgres-9.3\n\n\u30c7\u30fc\u30bf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u521d\u671f\u5316\nrm -rf /usr/local/var/postgres/*\ninitdb /usr/local/var/postgres\n\npg_upgrade\u3067\u30c7\u30fc\u30bf\u3092\u79fb\u884c\npg_upgrade -b /usr/local/Cellar/postgresql/9.3.5_1/bin -B /usr/local/Cellar/postgresql/9.4.0/bin -d /usr/local/var/postgres-9.3 -D /usr/local/var/postgres\n\n\n* \u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u306a\u306e\u3067\u30c7\u30fc\u30bf\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u4f5c\u696d\u3092\u3084\u3089\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n* PostGIS\u3092\u5c0e\u5165\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u6ce8\u610f\u304c\u5fc5\u8981\n\n# \u74b0\u5883\n\n* MacOSX Yosemite 10.10.1\n* homebrew 0.9.5\n\n\n# \u6ce8\u610f\u70b9\n\npg_upgrade\u5b9f\u884c\u524d\u306b `brew reinstall postgis` \u3092\u5b9f\u884c\u3057\u308d\n\n\n# \u624b\u9806\n\n## PostgreSQL\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n\n```bash\nbrew upgrade postgresql\n```\n\n## PostGIS\u306e\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\nbrew reinstall postgis\n```\n\n\u3053\u308c\u3084\u3063\u3068\u304f\u3068\u65b0\u305f\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fPostgreSQL\u306bpostgis\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u308c\u308b\u3002\n\u3084\u3063\u3068\u304b\u306a\u3044\u3068pg_upgrade\u306e\u9014\u4e2d\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u898b\u5f53\u305f\u3089\u306a\u3044\u307f\u305f\u3044\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\n\n```bash\n# \u30a8\u30e9\u30fc\u4f8b\n$ pg_upgrade -b /usr/local/Cellar/postgresql/9.3.5_1/bin -B /usr/local/Cellar/postgresql/9.4.0/bin -d /usr/local/var/postgres-9.3 -D /usr/local/var/postgres\nPerforming Consistency Checks\n-----------------------------\nChecking cluster versions                                   ok\nChecking database user is a superuser                       ok\nChecking for prepared transactions                          ok\nChecking for reg* system OID user data types                ok\nChecking for contrib/isn with bigint-passing mismatch       ok\nChecking for invalid \"line\" user columns                    ok\nCreating dump of global objects                             ok\nCreating dump of database schemas\n                                                            ok\nChecking for presence of required libraries                 fatal\n\nYour installation references loadable libraries that are missing from the\nnew installation.  You can add these libraries to the new installation,\nor remove the functions using them from the old installation.  A list of\nproblem libraries is in the file:\n    loadable_libraries.txt\n\nFailure, exiting\n\n$ cat loadable_libraries.txt \nCould not load library \"$libdir/rtpostgis-2.1\"\nERROR:  could not access file \"$libdir/rtpostgis-2.1\": No such file or directory\n\nCould not load library \"$libdir/postgis-2.1\"\nERROR:  could not access file \"$libdir/postgis-2.1\": No such file or directory\n```\n\n\n## \u30c7\u30fc\u30bf\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n\n\u3044\u307e\u307e\u3067\u4f7f\u7528\u3057\u3066\u3044\u305f\u30c7\u30fc\u30bf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30b3\u30d4\u30fc\n\n```bash\ncp -r /usr/local/var/postgres /usr/local/var/postgres-9.3\n```\n\n\u30c7\u30fc\u30bf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u521d\u671f\u5316\n\n```bash\nrm -rf /usr/local/var/postgres/*\ninitdb /usr/local/var/postgres\n```\n\npg_upgrade\u3067\u30c7\u30fc\u30bf\u3092\u79fb\u884c\n\n```bash\npg_upgrade -b /usr/local/Cellar/postgresql/9.3.5_1/bin -B /usr/local/Cellar/postgresql/9.4.0/bin -d /usr/local/var/postgres-9.3 -D /usr/local/var/postgres\n```\n"}