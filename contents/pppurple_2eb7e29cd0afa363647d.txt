{"context": " More than 1 year has passed since last update.JPA\u3067%(\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9)\u3092\u542b\u3093\u3060like\u53e5\u3092setParameter()\u3059\u308b\u6642\u306b\u5c11\u3057\u56f0\u308a\u307e\u3057\u305f\u3002 \n\n\n\u56f0\u3063\u305f\u4e8b\n\n\u3053\u3093\u306aSQL\u3092\u5b9f\u884c\u3057\u305f\u3044\u5834\u5408\u3002\n\nSQL\nselect * from user where user.name like '%keyword%';\n\n\nJPQL\u3067\u66f8\u304f\u3068\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u304c\u30fb\u30fb\u30fb\n\nJPQL\nTypedQuery<User> query = entityManager.createQuery(\"SELECT u FROM User u WHERE u.name LIKE %:keyword%\");\nquery.setParameter(\"keyword\", keyword);\n\n\n\u3082\u3057\u304f\u306f\u3001\u30b7\u30b0\u30eb\u30af\u30a9\u30fc\u30c8\u3067\u56f2\u3063\u3066\u3053\u3093\u306a\u611f\u3058\u3002\n\nJPQL\nTypedQuery<User> query = entityManager.createQuery(\"SELECT u FROM User u WHERE u.name LIKE '%:keyword%'\");\nquery.setParameter(\"keyword\", keyword);\n\n\n\u3069\u3061\u3089\u3082\u5b9f\u884c\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3044\u307e\u3059  \nERROR o.h.hql.internal.ast.ErrorCounter - line 1:109: unexpected token: % \nantlr.NoViableAltException: unexpected token: %\n\n\n\u89e3\u6c7a\u7b56\n\n\u3053\u3093\u306a\u6642\u306f\u3053\u3046\u3084\u308b\u3068\u3046\u307e\u304f\u3044\u304d\u307e\u3059.\n\nJPQL\nTypedQuery<User> query = entityManager.createQuery(\"SELECT u FROM User u WHERE u.name LIKE :keyword\");\nquery.setParameter(\"keyword\", \"%\" + keyword + \"%\");\n\n\n\u3055\u3089\u306b\u82f1\u8a9e\u306e\u5927\u6587\u5b57\u30fb\u5c0f\u6587\u5b57\u306e\u9055\u3044\u3082\u5438\u53ce\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u3053\u3046\u3057\u307e\u3059\u3002\n\nJPQL\nTypedQuery<User> query = entityManager.createQuery(\"SELECT u FROM User u WHERE UPPER(u.name) LIKE UPPER(:keyword)\");\nquery.setParameter(\"keyword\", \"%\" + keyword + \"%\");\n\n\nJPA\u3067%(\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9)\u3092\u542b\u3093\u3060like\u53e5\u3092setParameter()\u3059\u308b\u6642\u306b\u5c11\u3057\u56f0\u308a\u307e\u3057\u305f\u3002 \n\n---\n#### **\u56f0\u3063\u305f\u4e8b**\n\n\u3053\u3093\u306aSQL\u3092\u5b9f\u884c\u3057\u305f\u3044\u5834\u5408\u3002\n\n```sql:SQL\nselect * from user where user.name like '%keyword%';\n```\n\nJPQL\u3067\u66f8\u304f\u3068\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u304c\u30fb\u30fb\u30fb\n\n```java:JPQL\nTypedQuery<User> query = entityManager.createQuery(\"SELECT u FROM User u WHERE u.name LIKE %:keyword%\");\nquery.setParameter(\"keyword\", keyword);\n```\n\n\u3082\u3057\u304f\u306f\u3001\u30b7\u30b0\u30eb\u30af\u30a9\u30fc\u30c8\u3067\u56f2\u3063\u3066\u3053\u3093\u306a\u611f\u3058\u3002\n\n```java:JPQL\nTypedQuery<User> query = entityManager.createQuery(\"SELECT u FROM User u WHERE u.name LIKE '%:keyword%'\");\nquery.setParameter(\"keyword\", keyword);\n```\n\n\n\u3069\u3061\u3089\u3082\u5b9f\u884c\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3044\u307e\u3059 :cold_sweat: \n\n```\nERROR o.h.hql.internal.ast.ErrorCounter - line 1:109: unexpected token: % \nantlr.NoViableAltException: unexpected token: %\n```\n\n  \n#### **\u89e3\u6c7a\u7b56**\n\n\u3053\u3093\u306a\u6642\u306f\u3053\u3046\u3084\u308b\u3068\u3046\u307e\u304f\u3044\u304d\u307e\u3059.\n\n```java:JPQL\nTypedQuery<User> query = entityManager.createQuery(\"SELECT u FROM User u WHERE u.name LIKE :keyword\");\nquery.setParameter(\"keyword\", \"%\" + keyword + \"%\");\n```\n\n\u3055\u3089\u306b\u82f1\u8a9e\u306e\u5927\u6587\u5b57\u30fb\u5c0f\u6587\u5b57\u306e\u9055\u3044\u3082\u5438\u53ce\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u3053\u3046\u3057\u307e\u3059\u3002\n\n```java:JPQL\nTypedQuery<User> query = entityManager.createQuery(\"SELECT u FROM User u WHERE UPPER(u.name) LIKE UPPER(:keyword)\");\nquery.setParameter(\"keyword\", \"%\" + keyword + \"%\");\n```\n", "tags": ["Java", "JavaEE"]}