{"tags": ["Ruby", "AWS_SDK"], "context": " More than 1 year has passed since last update.AWS SDK\u3092\u4f7f\u3063\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3001S3\u304b\u3089DL\u3059\u308b\u3068Content-Type\u30d8\u30c3\u30c0\u304c\u7a7a\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002\nS3\u306e\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u304b\u3089\u306fimage/jpeg\u306e\u8a2d\u5b9a\u304c\u3055\u308c\u3066\u308b\u3088\u3046\u306b\u898b\u3048\u305f\u306e\u306b\u306a\u305c\u30fb\u30fb\u30fb\uff1f\n\nsample1.rb\nrequire \"aws\"\ns3 = AWS::S3.new\nbucket = s3.buckets[\"my-test-bucket\"]\nobject = bucket.objects[\"obj-key\"]\n\nobject.write(\"test text\")\n\n\n$ curl -i https://s3-ap-northeast-1.amazonaws.com/my-test-bucket/obj-key\nHTTP/1.0 200 Connection established\n\nHTTP/1.1 200 OK\nDate: Mon, 20 Jan 2014 00:37:31 GMT\nLast-Modified: Mon, 20 Jan 2014 00:29:00 GMT\nAccept-Ranges: bytes\nContent-Type:\nContent-Length: 9\nServer: AmazonS3\n\ntest text\n\n\u8abf\u3079\u3066\u307f\u305f\u3068\u3053\u308d\u3001S3\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u6642\u306bContent-Type\u3092\u6307\u5b9a\u3057\u3066\u3084\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\nS3\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u3067image/jpeg\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u308b\u3088\u3046\u306b\u898b\u3048\u308b\u306e\u306f\u3001\u30d7\u30eb\u30c0\u30a6\u30f3\u306e\u521d\u671f\u5024\u304c\u898b\u3048\u3066\u308b\u3060\u3051\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\nAWS SDK for Ruby\u3067Content-Type\u30d8\u30c3\u30c0\u3092\u8a2d\u5b9a\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3084\u308a\u307e\u3059\u3002\n\nsample2.rb\nrequire \"aws\"\ns3 = AWS::S3.new\nbucket = s3.buckets[\"my-test-bucket\"]\nobject = bucket.objects[\"obj-key2\"]\n\nobject.write(\"test text\", content_type: \"text/plain\")\n\n\n$ curl -i https://s3-ap-northeast-1.amazonaws.com/my-test-bucket/obj-key2\nHTTP/1.0 200 Connection established\n\nHTTP/1.1 200 OK\nDate: Mon, 20 Jan 2014 00:49:13 GMT\nLast-Modified: Mon, 20 Jan 2014 00:48:50 GMT\nAccept-Ranges: bytes\nContent-Type: text/plain\nContent-Length: 9\nServer: AmazonS3\n\ntest text\n\n\u3061\u306a\u307f\u306b\u3001\u65e2\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u6e08\u307f\u306e\u30d5\u30a1\u30a4\u30eb\u306bContent-Type\u30d8\u30c3\u30c0\u3092\u4ed8\u3051\u308b\u306a\u3089#copy_from\u3092\u4f7f\u3048\u3070OK\u3067\u3057\u305f\u3002\n\nsample3.rb\nrequire \"aws\"\ns3 = AWS::S3.new\nbucket = s3.buckets[\"my-test-bucket\"]\nobject = bucket.objects[\"obj-key3\"]\n\nobject.exists? #=> true\nobject.head.to_h[:content_type] #=> \"\"\n\nobject.copy_from(object, content_type:\"text/plain\")\n\nobject.head.to_h[:content_type] #=> \"text/plain\"\n\n\nAWS SDK\u3092\u4f7f\u3063\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3001S3\u304b\u3089DL\u3059\u308b\u3068Content-Type\u30d8\u30c3\u30c0\u304c\u7a7a\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002\nS3\u306e\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u304b\u3089\u306fimage/jpeg\u306e\u8a2d\u5b9a\u304c\u3055\u308c\u3066\u308b\u3088\u3046\u306b\u898b\u3048\u305f\u306e\u306b\u306a\u305c\u30fb\u30fb\u30fb\uff1f\n\n```sample1.rb\nrequire \"aws\"\ns3 = AWS::S3.new\nbucket = s3.buckets[\"my-test-bucket\"]\nobject = bucket.objects[\"obj-key\"]\n\nobject.write(\"test text\")\n```\n\n```curl\u3057\u305f\u7d50\u679c(\u4e00\u90e8\u30d8\u30c3\u30c0\u3092\u7701\u7565)\n$ curl -i https://s3-ap-northeast-1.amazonaws.com/my-test-bucket/obj-key\nHTTP/1.0 200 Connection established\n\nHTTP/1.1 200 OK\nDate: Mon, 20 Jan 2014 00:37:31 GMT\nLast-Modified: Mon, 20 Jan 2014 00:29:00 GMT\nAccept-Ranges: bytes\nContent-Type:\nContent-Length: 9\nServer: AmazonS3\n\ntest text\n```\n\n\u8abf\u3079\u3066\u307f\u305f\u3068\u3053\u308d\u3001S3\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u6642\u306bContent-Type\u3092\u6307\u5b9a\u3057\u3066\u3084\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\nS3\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u3067image/jpeg\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u308b\u3088\u3046\u306b\u898b\u3048\u308b\u306e\u306f\u3001\u30d7\u30eb\u30c0\u30a6\u30f3\u306e\u521d\u671f\u5024\u304c\u898b\u3048\u3066\u308b\u3060\u3051\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\nAWS SDK for Ruby\u3067Content-Type\u30d8\u30c3\u30c0\u3092\u8a2d\u5b9a\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3084\u308a\u307e\u3059\u3002\n\n```sample2.rb\nrequire \"aws\"\ns3 = AWS::S3.new\nbucket = s3.buckets[\"my-test-bucket\"]\nobject = bucket.objects[\"obj-key2\"]\n\nobject.write(\"test text\", content_type: \"text/plain\")\n```\n\n```curl\u3057\u305f\u7d50\u679c(\u4e00\u90e8\u30d8\u30c3\u30c0\u3092\u7701\u7565)\n$ curl -i https://s3-ap-northeast-1.amazonaws.com/my-test-bucket/obj-key2\nHTTP/1.0 200 Connection established\n\nHTTP/1.1 200 OK\nDate: Mon, 20 Jan 2014 00:49:13 GMT\nLast-Modified: Mon, 20 Jan 2014 00:48:50 GMT\nAccept-Ranges: bytes\nContent-Type: text/plain\nContent-Length: 9\nServer: AmazonS3\n\ntest text\n```\n\n\u3061\u306a\u307f\u306b\u3001\u65e2\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u6e08\u307f\u306e\u30d5\u30a1\u30a4\u30eb\u306bContent-Type\u30d8\u30c3\u30c0\u3092\u4ed8\u3051\u308b\u306a\u3089#copy_from\u3092\u4f7f\u3048\u3070OK\u3067\u3057\u305f\u3002\n\n```sample3.rb\nrequire \"aws\"\ns3 = AWS::S3.new\nbucket = s3.buckets[\"my-test-bucket\"]\nobject = bucket.objects[\"obj-key3\"]\n\nobject.exists? #=> true\nobject.head.to_h[:content_type] #=> \"\"\n\nobject.copy_from(object, content_type:\"text/plain\")\n\nobject.head.to_h[:content_type] #=> \"text/plain\"\n```"}