{"context": " More than 1 year has passed since last update.\u4ee5\u4e0b\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u8cbc\u308a\u307e\u3059\u3002\n\n    /**\n     * \u77ed\u7e2eURL\u751f\u6210\n     * @param longUrl\n     * @return\n     * @throws ClientProtocolException\n     * @throws IOException\n     */\n    @SuppressWarnings(\"resource\")\n    private static String getShortUrl(String longUrl) throws ClientProtocolException, IOException {\n        HttpPost post = new HttpPost(\"https://www.googleapis.com/urlshortener/v1/url\");\n        post.setHeader(\"Content-Type\", \"application/json\");\n        post.setEntity(new StringEntity(\"{'longUrl': '\"+longUrl+\"'}\", \"UTF-8\"));\n\n        HttpResponse response = new DefaultHttpClient().execute(post);\n\n        String responseText = EntityUtils.toString(response.getEntity());\n\n\n        // JsonFactory\u306e\u751f\u6210\n        JsonFactory factory = new JsonFactory();\n        // JsonParser\u306e\u53d6\u5f97\n        @SuppressWarnings(\"deprecation\")\n        JsonParser parser = factory.createJsonParser(responseText);\n\n        //JSON\u306e\u30d1\u30fc\u30b9\u51e6\u7406\n        String shotUrl = \"\";\n        while (parser.nextToken() != JsonToken.END_OBJECT) {\n            String name = parser.getCurrentName();\n            if (name != null) {\n                parser.nextToken();\n                if (name.equals(\"id\")) {\n                    shotUrl = parser.getText();\n                }\n            }\n        }\n\n        return shotUrl;\n    }\n\n\n\u4ee5\u4e0b\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u8cbc\u308a\u307e\u3059\u3002\n\n```\n\n    /**\n\t * \u77ed\u7e2eURL\u751f\u6210\n\t * @param longUrl\n\t * @return\n\t * @throws ClientProtocolException\n\t * @throws IOException\n\t */\n\t@SuppressWarnings(\"resource\")\n\tprivate static String getShortUrl(String longUrl) throws ClientProtocolException, IOException {\n\t\tHttpPost post = new HttpPost(\"https://www.googleapis.com/urlshortener/v1/url\");\n\t\tpost.setHeader(\"Content-Type\", \"application/json\");\n\t\tpost.setEntity(new StringEntity(\"{'longUrl': '\"+longUrl+\"'}\", \"UTF-8\"));\n\t\t \n\t\tHttpResponse response = new DefaultHttpClient().execute(post);\n\t\t \n\t\tString responseText = EntityUtils.toString(response.getEntity());\n\t\t\n\t\t\n\t\t// JsonFactory\u306e\u751f\u6210\n\t\tJsonFactory factory = new JsonFactory();\n\t\t// JsonParser\u306e\u53d6\u5f97\n\t\t@SuppressWarnings(\"deprecation\")\n\t\tJsonParser parser = factory.createJsonParser(responseText);\n\t\t \n\t\t//JSON\u306e\u30d1\u30fc\u30b9\u51e6\u7406\n\t\tString shotUrl = \"\";\n\t\twhile (parser.nextToken() != JsonToken.END_OBJECT) {\n\t\t\tString name = parser.getCurrentName();\n\t\t\tif (name != null) {\n\t\t\t\tparser.nextToken();\n\t\t\t\tif (name.equals(\"id\")) {\n\t\t\t\t\tshotUrl = parser.getText();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn shotUrl;\n\t}\n", "tags": ["Java", "google"]}