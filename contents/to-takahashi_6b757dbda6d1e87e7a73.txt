{"context": " More than 1 year has passed since last update.\u3053\u3093\u3070\u3093\u306f\u3002\u5bd2\u304f\u306a\u308a\u307e\u3057\u305f\u306d\u301c\n\u6700\u8fd1\u3001\u4ee5\u524d\uff08iOS5\u9803\uff09\u306b\u958b\u767a\u3057\u305f\u30a2\u30d7\u30ea\u306eiOS8\u5bfe\u5fdc\u3092\u30c1\u30e7\u30b3\u30c1\u30e7\u30b3\u3068\u9032\u3081\u3066\u3044\u307e\u3059\u3002\n\u305d\u3053\u3067XML\u306e\u30d1\u30fc\u30b9\u51e6\u7406\u3082Swift\u3067\u66f8\u304d\u76f4\u3057\u3066\u307f\u305f\u306e\u3067\u30e1\u30e2\u3002\u3002\n\n\u8aad\u307f\u8fbc\u3080XML\u306e\u30b5\u30f3\u30d7\u30eb\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Items>     \n    <Item>          \n        <ItemName>AAA</ItemName>\n        <Price>100</Price>\n    </Item>\n    <Item>          \n        <ItemName>BBB</ItemName>\n        <Price>200</Price>\n    </Item>\n</Items>\n\n\nXML\u306e\u30d1\u30fc\u30b9\u306b\u306fNSXMLParser\u3092\u4f7f\u3044\u307e\u3057\u305f\nvar parser : NSXMLParser? = NSXMLParser(data: data)\nif parser != nil {\n    // NSXMLParserDelegate\u3092\u30bb\u30c3\u30c8\n    parser!.delegate = self;\n    parser!.parse()\n\n} else {\n    // \u30d1\u30fc\u30b9\u306b\u5931\u6557\u3057\u305f\u6642\n    println(\"failed to parse XML\")\n}\n\n\nNSXMLParserDelegate\u3092\u8a2d\u5b9a\u3057\u305f\u30af\u30e9\u30b9\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\nvar _ParceKey: String! = \"\"\nvar _Items: [Item]? = nil\nvar _Item: Item? = nil\n\n\nXML\u8aad\u307f\u8fbc\u307f\u958b\u59cb\u6642\u306b\u547c\u3070\u308c\u307e\u3059\nfunc parserDidStartDocument(parser: NSXMLParser!)\n{\n    // Item\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u683c\u7d0d\u3059\u308bItems\u914d\u5217\u306e\u521d\u671f\u5316\u306a\u3069\n}\n\n\nXML\u8aad\u307f\u8fbc\u307f\u5b8c\u4e86\u6642\u306b\u547c\u3070\u308c\u307e\u3059\nfunc parserDidEndDocument(parser: NSXMLParser!)\n{\n    // XML\u304b\u3089\u8aad\u307f\u8fbc\u3093\u3060\u60c5\u5831\u3088\u308a\u753b\u9762\u3092\u66f4\u65b0\u3059\u308b\u51e6\u7406\u306a\u3069\n}\n\n\n\u30bf\u30b0\u306e\u6700\u521d\u3067\u547c\u3070\u308c\u307e\u3059\n\u4f8b\u3048\u3070Items\u30bf\u30b0\u3084Item\u30bf\u30b0\u3001ItemName\u30bf\u30b0\u306e\u8aad\u307f\u8fbc\u307f\u958b\u59cb\u6642\u306b\u547c\u3070\u308c\u308b \nfunc parser(parser: NSXMLParser!, didStartElement elementName: String!, namespaceURI: String!, qualifiedName qName: String!, attributes attributeDict: NSDictionary!)\n{\n    _ParseKey = elementName\n\n    if elementName == \"Items\" {\n        // Item\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4fdd\u5b58\u3059\u308bItems\u914d\u5217\u3092\u521d\u671f\u5316\n        _Items = []\n\n    } else if elementName == \"Item\" {\n        // Item\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u521d\u671f\u5316\n        _Item = Item()\n    }\n}\n\n\n\u30bf\u30b0\u306e\u6700\u5f8c\u3067\u547c\u3070\u308c\u307e\u3059\n\u4f8b\u3048\u3070Items\u30bf\u30b0\u3084Item\u30bf\u30b0\u3001ItemName\u30bf\u30b0\u306e\u8aad\u307f\u8fbc\u307f\u5b8c\u4e86\u6642\u306b\u547c\u3070\u308c\u308b \nfunc parser(parser: NSXMLParser!, didEndElement elementName: String!, namespaceURI: String!, qualifiedName qName: String!)\n{\n    if elementName == \"Item\" {\n        _Items!.append(_Item!)\n    }\n\n    _ParseKey = \"\"\n}\n\n\n\u5404\u9805\u76ee\u3092\u8aad\u307f\u8fbc\u307f\nfunc parser(parser: NSXMLParser!, foundCharacters string: String!)\n{\n    if _ParseKey == \"ItemName\" {\n        _Item!.itemName = string\n\n    } else if _ParseKey == \"ItemPrice\" {\n        _Item!.itemPrice = string.toInt()\n\n    } else {\n        // nop\n    }\n}\n\n\n\u6700\u5f8c\u306b\u30fb\u30fb\n\u3056\u3063\u3068\u3053\u3093\u306a\u611f\u3058\u3067XML\u304c\u8aad\u307f\u8fbc\u3081\u307e\u3059\u304c\u3001\u3061\u3087\u3063\u3068\u9762\u5012\u30af\u30b5\u30a4\u611f\u304c\u3042\u308a\u307e\u3059\u306d\u3002\u3002\nXML\u306eAttribute\u3092\u7279\u306b\u4f7f\u308f\u306a\u3044\u5834\u5408\u306f\u3001Json\u3092\u4f7f\u3063\u305f\u65b9\u304c\u7c21\u5358\u306bDictionary\u306b\u683c\u7d0d\u3067\u304d\u3066\u4fbf\u5229\u305d\u3046\u3067\u3059\u3002\n_ParseKey\u3084_Items, _Item\u306e\u4f7f\u3044\u65b9\u3082\u3053\u3093\u306a\u611f\u3058\u3067\u3088\u3044\u306e\u304b\u3061\u3087\u3063\u3068\u6c17\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u4e00\u65e6\u3053\u308c\u3067\u3002\u3002\nOptional\u5909\u6570\u306e\"?\"\u3084\"!\"\u306e\u4f7f\u3044\u65b9\u304c\u602a\u3057\u3044\u3068\u3053\u308d\u304c\u3042\u308a\u307e\u3059\u304c\u3054\u5bb9\u8d66\u304f\u3060\u3055\u3044\u3002\u3002\u52c9\u5f37\u3057\u307e\u3059\uff01\n\n\u3053\u3093\u3070\u3093\u306f\u3002\u5bd2\u304f\u306a\u308a\u307e\u3057\u305f\u306d\u301c\n\n\u6700\u8fd1\u3001\u4ee5\u524d\uff08iOS5\u9803\uff09\u306b\u958b\u767a\u3057\u305f\u30a2\u30d7\u30ea\u306eiOS8\u5bfe\u5fdc\u3092\u30c1\u30e7\u30b3\u30c1\u30e7\u30b3\u3068\u9032\u3081\u3066\u3044\u307e\u3059\u3002\n\u305d\u3053\u3067XML\u306e\u30d1\u30fc\u30b9\u51e6\u7406\u3082Swift\u3067\u66f8\u304d\u76f4\u3057\u3066\u307f\u305f\u306e\u3067\u30e1\u30e2\u3002\u3002\n\n### \u8aad\u307f\u8fbc\u3080XML\u306e\u30b5\u30f3\u30d7\u30eb\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Items>\t\t\n\t<Item>\t\t\t\n\t\t<ItemName>AAA</ItemName>\n\t\t<Price>100</Price>\n\t</Item>\n\t<Item>\t\t\t\n\t\t<ItemName>BBB</ItemName>\n\t\t<Price>200</Price>\n\t</Item>\n</Items>\n```\n\n### XML\u306e\u30d1\u30fc\u30b9\u306b\u306fNSXMLParser\u3092\u4f7f\u3044\u307e\u3057\u305f\n```\nvar parser : NSXMLParser? = NSXMLParser(data: data)\nif parser != nil {\n\t// NSXMLParserDelegate\u3092\u30bb\u30c3\u30c8\n    parser!.delegate = self;\n    parser!.parse()\n\n} else {\n\t// \u30d1\u30fc\u30b9\u306b\u5931\u6557\u3057\u305f\u6642\n    println(\"failed to parse XML\")\n}\n```\n\n#### NSXMLParserDelegate\u3092\u8a2d\u5b9a\u3057\u305f\u30af\u30e9\u30b9\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\n```\nvar _ParceKey: String! = \"\"\nvar _Items: [Item]? = nil\nvar _Item: Item? = nil\n```\n\n#### XML\u8aad\u307f\u8fbc\u307f\u958b\u59cb\u6642\u306b\u547c\u3070\u308c\u307e\u3059\n```\nfunc parserDidStartDocument(parser: NSXMLParser!)\n{\n    // Item\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u683c\u7d0d\u3059\u308bItems\u914d\u5217\u306e\u521d\u671f\u5316\u306a\u3069\n}\n```\n\n#### XML\u8aad\u307f\u8fbc\u307f\u5b8c\u4e86\u6642\u306b\u547c\u3070\u308c\u307e\u3059\n``` \nfunc parserDidEndDocument(parser: NSXMLParser!)\n{\n    // XML\u304b\u3089\u8aad\u307f\u8fbc\u3093\u3060\u60c5\u5831\u3088\u308a\u753b\u9762\u3092\u66f4\u65b0\u3059\u308b\u51e6\u7406\u306a\u3069\n}\n```\n\n#### \u30bf\u30b0\u306e\u6700\u521d\u3067\u547c\u3070\u308c\u307e\u3059\n\u4f8b\u3048\u3070Items\u30bf\u30b0\u3084Item\u30bf\u30b0\u3001ItemName\u30bf\u30b0\u306e\u8aad\u307f\u8fbc\u307f\u958b\u59cb\u6642\u306b\u547c\u3070\u308c\u308b \n\n```\nfunc parser(parser: NSXMLParser!, didStartElement elementName: String!, namespaceURI: String!, qualifiedName qName: String!, attributes attributeDict: NSDictionary!)\n{\n    _ParseKey = elementName\n\n    if elementName == \"Items\" {\n        // Item\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4fdd\u5b58\u3059\u308bItems\u914d\u5217\u3092\u521d\u671f\u5316\n        _Items = []\n          \n    } else if elementName == \"Item\" {\n        // Item\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u521d\u671f\u5316\n        _Item = Item()\n    }\n}\n```\n\n#### \u30bf\u30b0\u306e\u6700\u5f8c\u3067\u547c\u3070\u308c\u307e\u3059\n\u4f8b\u3048\u3070Items\u30bf\u30b0\u3084Item\u30bf\u30b0\u3001ItemName\u30bf\u30b0\u306e\u8aad\u307f\u8fbc\u307f\u5b8c\u4e86\u6642\u306b\u547c\u3070\u308c\u308b \n\n```\nfunc parser(parser: NSXMLParser!, didEndElement elementName: String!, namespaceURI: String!, qualifiedName qName: String!)\n{\n    if elementName == \"Item\" {\n        _Items!.append(_Item!)\n    }\n    \n    _ParseKey = \"\"\n}\n```\n\n#### \u5404\u9805\u76ee\u3092\u8aad\u307f\u8fbc\u307f\n```\nfunc parser(parser: NSXMLParser!, foundCharacters string: String!)\n{\n    if _ParseKey == \"ItemName\" {\n        _Item!.itemName = string\n    \n    } else if _ParseKey == \"ItemPrice\" {\n        _Item!.itemPrice = string.toInt()\n\n    } else {\n        // nop\n    }\n}\n```\n\n#### \u6700\u5f8c\u306b\u30fb\u30fb\n\u3056\u3063\u3068\u3053\u3093\u306a\u611f\u3058\u3067XML\u304c\u8aad\u307f\u8fbc\u3081\u307e\u3059\u304c\u3001\u3061\u3087\u3063\u3068\u9762\u5012\u30af\u30b5\u30a4\u611f\u304c\u3042\u308a\u307e\u3059\u306d\u3002\u3002\nXML\u306eAttribute\u3092\u7279\u306b\u4f7f\u308f\u306a\u3044\u5834\u5408\u306f\u3001Json\u3092\u4f7f\u3063\u305f\u65b9\u304c\u7c21\u5358\u306bDictionary\u306b\u683c\u7d0d\u3067\u304d\u3066\u4fbf\u5229\u305d\u3046\u3067\u3059\u3002\n_ParseKey\u3084_Items, _Item\u306e\u4f7f\u3044\u65b9\u3082\u3053\u3093\u306a\u611f\u3058\u3067\u3088\u3044\u306e\u304b\u3061\u3087\u3063\u3068\u6c17\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u4e00\u65e6\u3053\u308c\u3067\u3002\u3002\n\nOptional\u5909\u6570\u306e\"?\"\u3084\"!\"\u306e\u4f7f\u3044\u65b9\u304c\u602a\u3057\u3044\u3068\u3053\u308d\u304c\u3042\u308a\u307e\u3059\u304c\u3054\u5bb9\u8d66\u304f\u3060\u3055\u3044\u3002\u3002\u52c9\u5f37\u3057\u307e\u3059\uff01\n", "tags": ["iOS", "Swift", "XML"]}