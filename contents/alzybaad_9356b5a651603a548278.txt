{"context": " More than 1 year has passed since last update.\u524d\u56de\u306eINSERT\u7de8\u306b\u7d9a\u304d\u3001\u4eca\u56de\u306fDELETE\u7de8\u3002\n\n\u74b0\u5883\nNexus5, Android 4.4.4\n\n\u30c6\u30fc\u30d6\u30eb\n\u3053\u3093\u306a\u304b\u3093\u3058\u3002\u6df1\u3044\u610f\u5473\u306f\u306a\u3044\u3002\n\n\n\n\u30ab\u30e9\u30e0\u540d\n\u578b\n\u5236\u7d04\n\n\n\n\nid\nTEXT\nPRIMARY KEY\n\n\nname\nTEXT\nNOT NULL\n\n\naddress\nTEXT\n\n\n\ncount\nINTEGER\nNOT NULL\n\n\nflag\nINTEGER\nNOT NULL\n\n\n\n\nINSERT\u6e08\u307f\u306e\u30c7\u30fc\u30bf\n\u524d\u56de\u306eINSERT\u7de8\u3067INSERT\u3057\u305f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf10000\u4ef6\u3002\n\n\n\nid\nname\naddress\ncount\nflag\n\n\n\n\nid0\nname0\nNULL\n0\n0\n\n\nid1\nname1\nNULL\n1\n0\n\n\nid2\nname2\nNULL\n2\n0\n\n\n...\n...\n...\n...\n...\n\n\nid9999\nname9999\nNULL\n9999\n0\n\n\n\n\n\u4f7f\u7528\u30e1\u30bd\u30c3\u30c9\n\u4eca\u56de\u6bd4\u8f03\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u306f\u4ee5\u4e0b\u306e3\u3064\u3002\n\nSQLiteDatabase#delete\nSQLiteDatabase#execSQL\nSQLiteStatement#executeUpdateDelete\n\n\n1\u884c\u524a\u9664\n1\u884c(id=id5000)\u3092\u305d\u308c\u305e\u308c\u306e\u30e1\u30bd\u30c3\u30c9\u3067DELETE\u3059\u308b\u3002\n\nSQLiteDatabase#delete\n\nAndroid\u3067\u4e00\u822c\u7684\u306a\u65b9\u6cd5\u3002SQL\u3092\u77e5\u3089\u306a\u304f\u3066\u3082\u66f8\u3051\u308b\u3002\ndb.beginTransaction();\ntry {\n    db.delete(\"table_name\", \"id=?\", new String[]{\"id5000\"});\n    db.setTransactionSuccessful();\n} finally {\n    db.endTransaction();\n}\n\n\nSQLiteDatabase#execSQL\n\nSQL\u3092\u77e5\u3063\u3066\u3044\u308c\u3070\u3001\u3053\u3061\u3089\u306e\u65b9\u304c\u66f8\u304d\u3084\u3059\u3044\u3002\u305f\u3060\u3057\u3001\u623b\u308a\u5024\u306f\u306a\u3057\u3002\ndb.beginTransaction();\ntry {\n    db.execSQL(\"DELETE FROM table_name WHERE id=?\", new String[]{\"id5000\"});\n    db.setTransactionSuccessful();\n} finally {\n    db.endTransaction();\n}\n\n\nSQLiteStatement#executeUpdateDelete\n\nAndroid3.0\u304b\u3089\u8ffd\u52a0\u3055\u308c\u305f\u65b9\u6cd5\u3002INSERT\u306f\u3053\u308c\u304c\u4e00\u756a\u901f\u304b\u3063\u305f\u3002\ndb.beginTransaction();\ntry {\n    final SQLiteStatement statement = db.compileStatement(\"DELETE FROM table_name WHERE id=?\");\n    try {\n        statement.bindString(1, \"id5000\");\n        statement.executeUpdateDelete();\n    } finally {\n        statement.close();\n    }\n    db.setTransactionSuccessful();\n} finally {\n    db.endTransaction();\n}\n\n\n\u7d50\u679c\n\n\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u30021\u884c\u306a\u306e\u3067SQLiteStatement\u3082\u52b9\u679c\u306f\u306a\u3044\u3002\n\n\n\n\u30e1\u30bd\u30c3\u30c9\n\u51e6\u7406\u6642\u9593(msec)\n\n\n\n\nSQLiteDatabase#delete\n8.75\n\n\nSQLiteDatabase#execSQL\n8.92\n\n\nSQLiteStatement#executeUpdateDelete\n8.69\n\n\n\n\u3061\u306a\u307f\u306b\u3001PRIMARY KEY\u3067\u306a\u3044name\u3092\u6761\u4ef6\u306b\u3057\u305f\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u5f53\u7136\u3044\u305a\u308c\u3082\u9045\u304f\u306a\u308b\u3002\n\n\n\n\u30e1\u30bd\u30c3\u30c9\n\u51e6\u7406\u6642\u9593(msec)\n\n\n\n\nSQLiteDatabase#delete\n13.71\n\n\nSQLiteDatabase#execSQL\n13.55\n\n\nSQLiteStatement#executeUpdateDelete\n13.49\n\n\n\n\n\u8907\u6570\u884c\u524a\u9664\n\u305d\u308c\u305e\u308c\u306e\u30e1\u30bd\u30c3\u30c9\u3067N(=1, 5, 10, 50, 100)\u884c\u305a\u3064\u3001M(=100, 1000)\u884cDELETE\u3059\u308b\u3002\n\u4ee5\u964d\u306e\u30bd\u30fc\u30b9\u306fN=5, M=1000\u306e\u5834\u5408\u3002\n\nSQLiteDatabase#delete\n\ndb.beginTransaction();\ntry {\n    final String whereClause = \"id IN (?,?,?,?,?)\";\n    final String[] whereArgs = new String[count];\n    for (int i = 0, index = 0; i < 10000; i += 10) {\n        whereArgs[index++] = \"id\" + i;\n        if (index == 5) {\n            db.delete(\"table_name\", whereClause, whereArgs);\n            index = 0;\n        }\n    }\n    db.setTransactionSuccessful();\n} finally {\n    db.endTransaction();\n}\n\n\nSQLiteDatabase#execSQL\n\ndb.beginTransaction();\ntry {\n    final String sql = \"DELETE FROM table_name WHERE id IN (?,?,?,?,?)\";\n    final String[] bindArgs = new String[count];\n    for (int i = 0, index = 0; i < 10000; i += 10) {\n        bindArgs[index++] = \"id\" + i;\n        if (index == 5) {\n            db.execSQL(sql, bindArgs);\n            index = 0;\n        }\n    }\n    db.setTransactionSuccessful();\n} finally {\n    db.endTransaction();\n}\n\n\nSQLiteStatement#executeUpdateDelete\n\ndb.beginTransaction();\ntry {\n    final SQLiteStatement statement = db.compileStatement(\"DELETE FROM table_name WHERE id IN (?,?,?,?,?)\");\n    try {\n        for (int i = 0, index = 0; i < 10000; i += 10) {\n            statement.bindString(++index, \"id\" + i);\n            if (index == 5) {\n                statement.executeUpdateDelete();\n                index = 0;\n            }\n        }\n    } finally {\n        statement.close();\n    }\n    db.setTransactionSuccessful();\n} finally {\n    db.endTransaction();\n}\n\n\n\u7d50\u679c\n\n\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\nM=100\u306e\u5834\u5408\u306fN<=5\u3001M=1000\u306e\u5834\u5408\u306fN<=10\u307e\u3067\u306fSQLiteStatement#executeUpdateDelete\u304c\u901f\u3044\u304c\u3001\u305d\u308c\u4ee5\u964d\u304b\u3089\u3069\u308c\u3082\u5909\u308f\u3089\u306a\u304f\u306a\u308b\u3002\n100\u884c\u7a0b\u5ea6\u3067\u3042\u308c\u3070\u3001\u3069\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u30821\u5ea6\u306b100\u884cDELETE\u3057\u3066\u3088\u3055\u305d\u3046\u3002\n\u305d\u308c\u4ee5\u4e0a\u3067\u3042\u308c\u3070\u3001SQLiteStatement\u306710\u301c50\u884c\u7a0b\u5ea6\u305a\u3064DELETE\u3059\u308b\u306e\u304c\u30d9\u30b9\u30c8\uff1f\n\n\n\nN\n\u30e1\u30bd\u30c3\u30c9\nM=100\nM=1000\n\n\n\n\n1\nSQLiteDatabase#delete\n72.14\n258.83\n\n\n\nSQLiteDatabase#execSQL\n73.09\n238.73\n\n\n\nSQLiteStatement#executeUpdateDelete\n56.50\n184.08\n\n\n5\nSQLiteDatabase#delete\n55.18\n126.14\n\n\n\nSQLiteDatabase#execSQL\n53.03\n84.25\n\n\n\nSQLiteStatement#executeUpdateDelete\n50.71\n74.06\n\n\n10\nSQLiteDatabase#delete\n47.86\n111.01\n\n\n\nSQLiteDatabase#execSQL\n49.66\n107.33\n\n\n\nSQLiteStatement#executeUpdateDelete\n48.88\n79.59\n\n\n50\nSQLiteDatabase#delete\n46.80\n77.18\n\n\n\nSQLiteDatabase#execSQL\n48.83\n82.33\n\n\n\nSQLiteStatement#executeUpdateDelete\n46.20\n79.67\n\n\n100\nSQLiteDatabase#delete\n47.43\n95.91\n\n\n\nSQLiteDatabase#execSQL\n48.79\n92.67\n\n\n\nSQLiteStatement#executeUpdateDelete\n49.78\n94.60\n\n\n\n\u524d\u56de\u306e[INSERT\u7de8](http://qiita.com/alzybaad/items/b350b49740a3d25297c1)\u306b\u7d9a\u304d\u3001\u4eca\u56de\u306fDELETE\u7de8\u3002\n\n#### \u74b0\u5883\nNexus5, Android 4.4.4\n\n#### \u30c6\u30fc\u30d6\u30eb\n\u3053\u3093\u306a\u304b\u3093\u3058\u3002\u6df1\u3044\u610f\u5473\u306f\u306a\u3044\u3002\n\n|\u30ab\u30e9\u30e0\u540d|\u578b|\u5236\u7d04|\n|:--|:--|:--|\n|id|TEXT|PRIMARY KEY|\n|name|TEXT|NOT NULL|\n|address|TEXT||\n|count|INTEGER|NOT NULL|\n|flag|INTEGER|NOT NULL|\n\n#### INSERT\u6e08\u307f\u306e\u30c7\u30fc\u30bf\n\u524d\u56de\u306eINSERT\u7de8\u3067INSERT\u3057\u305f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf10000\u4ef6\u3002\n\n|id|name|address|count|flag|\n|:--|:--|:--|:--|:--|\n|id0|name0|NULL|0|0|\n|id1|name1|NULL|1|0|\n|id2|name2|NULL|2|0|\n|...|...|...|...|...|\n|id9999|name9999|NULL|9999|0|\n\n#### \u4f7f\u7528\u30e1\u30bd\u30c3\u30c9\n\u4eca\u56de\u6bd4\u8f03\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u306f\u4ee5\u4e0b\u306e3\u3064\u3002\n\n- `SQLiteDatabase#delete`\n- `SQLiteDatabase#execSQL`\n- `SQLiteStatement#executeUpdateDelete`\n\n#### 1\u884c\u524a\u9664\n1\u884c(`id`=`id5000`)\u3092\u305d\u308c\u305e\u308c\u306e\u30e1\u30bd\u30c3\u30c9\u3067DELETE\u3059\u308b\u3002\n\n###### **SQLiteDatabase#delete**\nAndroid\u3067\u4e00\u822c\u7684\u306a\u65b9\u6cd5\u3002SQL\u3092\u77e5\u3089\u306a\u304f\u3066\u3082\u66f8\u3051\u308b\u3002\n\n```java\ndb.beginTransaction();\ntry {\n    db.delete(\"table_name\", \"id=?\", new String[]{\"id5000\"});\n    db.setTransactionSuccessful();\n} finally {\n    db.endTransaction();\n}\n```\n###### **SQLiteDatabase#execSQL**\nSQL\u3092\u77e5\u3063\u3066\u3044\u308c\u3070\u3001\u3053\u3061\u3089\u306e\u65b9\u304c\u66f8\u304d\u3084\u3059\u3044\u3002\u305f\u3060\u3057\u3001\u623b\u308a\u5024\u306f\u306a\u3057\u3002\n\n```java\ndb.beginTransaction();\ntry {\n    db.execSQL(\"DELETE FROM table_name WHERE id=?\", new String[]{\"id5000\"});\n    db.setTransactionSuccessful();\n} finally {\n    db.endTransaction();\n}\n```\n###### **SQLiteStatement#executeUpdateDelete**\nAndroid3.0\u304b\u3089\u8ffd\u52a0\u3055\u308c\u305f\u65b9\u6cd5\u3002INSERT\u306f\u3053\u308c\u304c\u4e00\u756a\u901f\u304b\u3063\u305f\u3002\n\n```java\ndb.beginTransaction();\ntry {\n    final SQLiteStatement statement = db.compileStatement(\"DELETE FROM table_name WHERE id=?\");\n    try {\n        statement.bindString(1, \"id5000\");\n        statement.executeUpdateDelete();\n    } finally {\n        statement.close();\n    }\n    db.setTransactionSuccessful();\n} finally {\n    db.endTransaction();\n}\n```\n###### **\u7d50\u679c**\n\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u30021\u884c\u306a\u306e\u3067`SQLiteStatement`\u3082\u52b9\u679c\u306f\u306a\u3044\u3002\n\n|\u30e1\u30bd\u30c3\u30c9|\u51e6\u7406\u6642\u9593(msec)|\n|:--|:--|\n|`SQLiteDatabase#delete`|8.75|\n|`SQLiteDatabase#execSQL`|8.92|\n|`SQLiteStatement#executeUpdateDelete`|8.69|\n\n\u3061\u306a\u307f\u306b\u3001PRIMARY KEY\u3067\u306a\u3044`name`\u3092\u6761\u4ef6\u306b\u3057\u305f\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u5f53\u7136\u3044\u305a\u308c\u3082\u9045\u304f\u306a\u308b\u3002\n\n|\u30e1\u30bd\u30c3\u30c9|\u51e6\u7406\u6642\u9593(msec)|\n|:--|:--|\n|`SQLiteDatabase#delete`|13.71|\n|`SQLiteDatabase#execSQL`|13.55|\n|`SQLiteStatement#executeUpdateDelete`|13.49|\n\n#### \u8907\u6570\u884c\u524a\u9664\n\u305d\u308c\u305e\u308c\u306e\u30e1\u30bd\u30c3\u30c9\u3067N(=1, 5, 10, 50, 100)\u884c\u305a\u3064\u3001M(=100, 1000)\u884cDELETE\u3059\u308b\u3002\n\u4ee5\u964d\u306e\u30bd\u30fc\u30b9\u306fN=5, M=1000\u306e\u5834\u5408\u3002\n\n###### **SQLiteDatabase#delete**\n\n```java\ndb.beginTransaction();\ntry {\n    final String whereClause = \"id IN (?,?,?,?,?)\";\n    final String[] whereArgs = new String[count];\n    for (int i = 0, index = 0; i < 10000; i += 10) {\n        whereArgs[index++] = \"id\" + i;\n        if (index == 5) {\n            db.delete(\"table_name\", whereClause, whereArgs);\n            index = 0;\n        }\n    }\n    db.setTransactionSuccessful();\n} finally {\n    db.endTransaction();\n}\n```\n###### **SQLiteDatabase#execSQL**\n\n```java\ndb.beginTransaction();\ntry {\n    final String sql = \"DELETE FROM table_name WHERE id IN (?,?,?,?,?)\";\n    final String[] bindArgs = new String[count];\n    for (int i = 0, index = 0; i < 10000; i += 10) {\n        bindArgs[index++] = \"id\" + i;\n        if (index == 5) {\n            db.execSQL(sql, bindArgs);\n            index = 0;\n        }\n    }\n    db.setTransactionSuccessful();\n} finally {\n    db.endTransaction();\n}\n```\n###### **SQLiteStatement#executeUpdateDelete**\n\n```java\ndb.beginTransaction();\ntry {\n    final SQLiteStatement statement = db.compileStatement(\"DELETE FROM table_name WHERE id IN (?,?,?,?,?)\");\n    try {\n        for (int i = 0, index = 0; i < 10000; i += 10) {\n            statement.bindString(++index, \"id\" + i);\n            if (index == 5) {\n                statement.executeUpdateDelete();\n                index = 0;\n            }\n        }\n    } finally {\n        statement.close();\n    }\n    db.setTransactionSuccessful();\n} finally {\n    db.endTransaction();\n}\n```\n\n###### **\u7d50\u679c**\n\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\nM=100\u306e\u5834\u5408\u306fN<=5\u3001M=1000\u306e\u5834\u5408\u306fN<=10\u307e\u3067\u306f`SQLiteStatement#executeUpdateDelete`\u304c\u901f\u3044\u304c\u3001\u305d\u308c\u4ee5\u964d\u304b\u3089\u3069\u308c\u3082\u5909\u308f\u3089\u306a\u304f\u306a\u308b\u3002\n100\u884c\u7a0b\u5ea6\u3067\u3042\u308c\u3070\u3001\u3069\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u30821\u5ea6\u306b100\u884cDELETE\u3057\u3066\u3088\u3055\u305d\u3046\u3002\n\u305d\u308c\u4ee5\u4e0a\u3067\u3042\u308c\u3070\u3001`SQLiteStatement`\u306710\u301c50\u884c\u7a0b\u5ea6\u305a\u3064DELETE\u3059\u308b\u306e\u304c\u30d9\u30b9\u30c8\uff1f\n\n|N|\u30e1\u30bd\u30c3\u30c9|M=100|M=1000|\n|:--|:--|:--|:--|\n|1|`SQLiteDatabase#delete`|72.14|258.83|\n||`SQLiteDatabase#execSQL`|73.09|238.73|\n||`SQLiteStatement#executeUpdateDelete`|**56.50**|**184.08**|\n|5|`SQLiteDatabase#delete`|55.18|126.14|\n||`SQLiteDatabase#execSQL`|53.03|84.25|\n||`SQLiteStatement#executeUpdateDelete`|**50.71**|**74.06**|\n|10|`SQLiteDatabase#delete`|**47.86**|111.01|\n||`SQLiteDatabase#execSQL`|49.66|107.33|\n||`SQLiteStatement#executeUpdateDelete`|48.88|**79.59**|\n|50|`SQLiteDatabase#delete`|**46.80**|**77.18**|\n||`SQLiteDatabase#execSQL`|48.83|82.33|\n||`SQLiteStatement#executeUpdateDelete`|46.20|79.67|\n|100|`SQLiteDatabase#delete`|**47.43**|95.91|\n||`SQLiteDatabase#execSQL`|48.79|**92.67**|\n||`SQLiteStatement#executeUpdateDelete`|49.78|94.60|\n", "tags": ["Android", "sqlite3", "SQLite3"]}