{"context": "Ansible\u306a\u3069\u306e\u69cb\u6210\u30c4\u30fc\u30eb\u3084\u81ea\u52d5\u5316\u30c4\u30fc\u30eb\u3067\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u6a5f\u5668\u3092\u64cd\u4f5c\u3059\u308b\u30b1\u30fc\u30b9\u3082\u5897\u3048\u3066\u304d\u307e\u3057\u305f\u3002Cisco IOS\u88c5\u7f6e\uff08\u30eb\u30fc\u30bf\u3084\u30b9\u30a4\u30c3\u30c1\uff09\u4e0a\u3067\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3092\u81ea\u52d5\u5316\u3059\u308b\u691c\u8a3c\u3084\u30c6\u30b9\u30c8\u306e\u969b\u3001\u5b9f\u884c\u3055\u308c\u305f\u4e00\u9023\u306e\u30b3\u30de\u30f3\u30c9\u3092\u51fa\u529b\u3059\u308b\u8a2d\u5b9a\u3092\u3042\u3089\u304b\u3058\u3081IOS\u3067\u884c\u3063\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\u3002\u305f\u3060\u3057\u3001\u5909\u66f4\u3092\u4f34\u3046Exec\u30b3\u30de\u30f3\u30c9\u306b\u5bfe\u3057\u3066\u6709\u52b9\u3067\u3059\u304c\u3001show\u30b3\u30de\u30f3\u30c9\u306a\u3069\u306e\u72b6\u614b\u78ba\u8a8d\u3084ping\u306a\u3069\u306e\u5b9f\u884c\u30b3\u30de\u30f3\u30c9\u306b\u3064\u3044\u3066\u306f\u5bfe\u8c61\u5916\u3068\u306a\u308a\u307e\u3059\u3002\n\ncisco\nRouter#show run | section archive\narchive\n log config\n  logging enable\n  logging size 1000\n  notify syslog contenttype plaintext\n  hidekeys\nRotuer#\n\n\n\u4f8b\u3048\u3070\u3001Ansible\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aPlaybook\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u3002\n\nplaybook\n  tasks:\n\n    - name: Configure extended ACL to device\n      ios_config:\n        provider: \"{{ cli }}\"\n        lines:\n          - 10 permit ip host 1.1.1.1 any log\n          - 20 permit ip host 2.2.2.2 any log\n        parents: ip access-list extended test-ansible\n        before: no ip access-list extended test-ansible\n        match: exact\n        timeout: 30\n      register: result\n\n\nCisco Router\u4e0a\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u308b\u306e\u3067\u3001\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3055\u308c\u305f\u30ed\u30b0\u304c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u78ba\u8a8d\u3067\u304d\u3066\u4fbf\u5229\u3067\u3059\u3002\n\ncisco\nRouter#\nFeb 15 03:11:31.828: %PARSER-5-CFGLOG_LOGGEDCMD: User:cisco  logged command:!exec: enable\nFeb 15 03:11:32.352: %PARSER-5-CFGLOG_LOGGEDCMD: User:cisco  logged command:no ip access-list extended test-ansible\nFeb 15 03:11:32.445: %PARSER-5-CFGLOG_LOGGEDCMD: User:cisco  logged command:ip access-list extended test-ansible\nFeb 15 03:11:32.521: %PARSER-5-CFGLOG_LOGGEDCMD: User:cisco  logged command:10 permit ip host 1.1.1.1 any log \nFeb 15 03:11:32.592: %PARSER-5-CFGLOG_LOGGEDCMD: User:cisco  logged command\nRouter#:20 permit ip host 2.2.2.2 any log \nFeb 15 03:11:32.627: %SYS-5-CONFIG_I: Configured from console by cisco on vty1 (10.70.233.120)\nRouter#\n\n\n\u203bCisco IOS\u306eArchive\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u4ed6\u306b\u3082\u4fbf\u5229\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\n\ncisco\nRouter(config-archive)#?\nArchive configuration commands:\n  default       Set a command to its defaults\n  exit          Exit from archive configuration mode\n  log           Logging commands\n  maximum       maximum number of backup copies\n  no            Negate a command or set its defaults\n  path          path for backups\n  rollback      Rollback parameters\n  time-period   Period of time in minutes to automatically archive the\n                running-config\n  write-memory  Enable automatic backup generation during write memory\n\nRouter(config-archive)#log config \nRouter(config-archive-log-cfg)#?\ncommands for controlling config logging:\n  default   Set a command to its defaults\n  exit      Exit from the log config submode\n  hidekeys  suppress output (e.g. passwords) when displaying logged commands\n  logging   Modify config logging parameters\n  no        Negate a command or set its defaults\n  notify    Send logged commands to target applications\n  record    What to record in the config logger\n\n\nAnsible\u306a\u3069\u306e\u69cb\u6210\u30c4\u30fc\u30eb\u3084\u81ea\u52d5\u5316\u30c4\u30fc\u30eb\u3067\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u6a5f\u5668\u3092\u64cd\u4f5c\u3059\u308b\u30b1\u30fc\u30b9\u3082\u5897\u3048\u3066\u304d\u307e\u3057\u305f\u3002Cisco IOS\u88c5\u7f6e\uff08\u30eb\u30fc\u30bf\u3084\u30b9\u30a4\u30c3\u30c1\uff09\u4e0a\u3067\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3092\u81ea\u52d5\u5316\u3059\u308b\u691c\u8a3c\u3084\u30c6\u30b9\u30c8\u306e\u969b\u3001\u5b9f\u884c\u3055\u308c\u305f\u4e00\u9023\u306e\u30b3\u30de\u30f3\u30c9\u3092\u51fa\u529b\u3059\u308b\u8a2d\u5b9a\u3092\u3042\u3089\u304b\u3058\u3081IOS\u3067\u884c\u3063\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\u3002\u305f\u3060\u3057\u3001\u5909\u66f4\u3092\u4f34\u3046Exec\u30b3\u30de\u30f3\u30c9\u306b\u5bfe\u3057\u3066\u6709\u52b9\u3067\u3059\u304c\u3001show\u30b3\u30de\u30f3\u30c9\u306a\u3069\u306e\u72b6\u614b\u78ba\u8a8d\u3084ping\u306a\u3069\u306e\u5b9f\u884c\u30b3\u30de\u30f3\u30c9\u306b\u3064\u3044\u3066\u306f\u5bfe\u8c61\u5916\u3068\u306a\u308a\u307e\u3059\u3002\n\n```cisco:cisco\nRouter#show run | section archive\narchive\n log config\n  logging enable\n  logging size 1000\n  notify syslog contenttype plaintext\n  hidekeys\nRotuer#\n```\n\n\u4f8b\u3048\u3070\u3001Ansible\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aPlaybook\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u3002\n\n```yaml:playbook\n  tasks:\n\n    - name: Configure extended ACL to device\n      ios_config:\n        provider: \"{{ cli }}\"\n        lines:\n          - 10 permit ip host 1.1.1.1 any log\n          - 20 permit ip host 2.2.2.2 any log\n        parents: ip access-list extended test-ansible\n        before: no ip access-list extended test-ansible\n        match: exact\n        timeout: 30\n      register: result\n```\n\nCisco Router\u4e0a\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u308b\u306e\u3067\u3001\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3055\u308c\u305f\u30ed\u30b0\u304c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u78ba\u8a8d\u3067\u304d\u3066\u4fbf\u5229\u3067\u3059\u3002\n\n```cisco:cisco\nRouter#\nFeb 15 03:11:31.828: %PARSER-5-CFGLOG_LOGGEDCMD: User:cisco  logged command:!exec: enable\nFeb 15 03:11:32.352: %PARSER-5-CFGLOG_LOGGEDCMD: User:cisco  logged command:no ip access-list extended test-ansible\nFeb 15 03:11:32.445: %PARSER-5-CFGLOG_LOGGEDCMD: User:cisco  logged command:ip access-list extended test-ansible\nFeb 15 03:11:32.521: %PARSER-5-CFGLOG_LOGGEDCMD: User:cisco  logged command:10 permit ip host 1.1.1.1 any log \nFeb 15 03:11:32.592: %PARSER-5-CFGLOG_LOGGEDCMD: User:cisco  logged command\nRouter#:20 permit ip host 2.2.2.2 any log \nFeb 15 03:11:32.627: %SYS-5-CONFIG_I: Configured from console by cisco on vty1 (10.70.233.120)\nRouter#\n```\n\n\u203bCisco IOS\u306eArchive\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u4ed6\u306b\u3082\u4fbf\u5229\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\n\n```cisco:cisco\nRouter(config-archive)#?\nArchive configuration commands:\n  default       Set a command to its defaults\n  exit          Exit from archive configuration mode\n  log           Logging commands\n  maximum       maximum number of backup copies\n  no            Negate a command or set its defaults\n  path          path for backups\n  rollback      Rollback parameters\n  time-period   Period of time in minutes to automatically archive the\n                running-config\n  write-memory  Enable automatic backup generation during write memory\n\nRouter(config-archive)#log config \nRouter(config-archive-log-cfg)#?\ncommands for controlling config logging:\n  default   Set a command to its defaults\n  exit      Exit from the log config submode\n  hidekeys  suppress output (e.g. passwords) when displaying logged commands\n  logging   Modify config logging parameters\n  no        Negate a command or set its defaults\n  notify    Send logged commands to target applications\n  record    What to record in the config logger\n```\n", "tags": ["Cisco"]}