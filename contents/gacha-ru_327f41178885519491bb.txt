{"context": " More than 1 year has passed since last update.\n\n\u7528\u9014\n\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u3068\u3057\u3066S3\u30d0\u30b1\u30c3\u30c8\u3092\u591a\u6570\u4f5c\u6210\u3057\u3066\u3044\u308b\u304c\u3001\n\u30d0\u30b1\u30c3\u30c8\u6bce\u306b\u4f7f\u7528\u3059\u308b\u4eba\u304c\u9055\u3046\u305f\u3081\u3001IAM\u30e6\u30fc\u30b6\u30fc\u3067\u6a29\u9650\u7ba1\u7406\u3059\u308b\u3002\nIAM\u30dd\u30ea\u30b7\u30fc\u3068S3\u30d0\u30b1\u30c3\u30c8\u30dd\u30ea\u30b7\u30fc\u306e2\u3064\u3092\u8a2d\u5b9a\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\n\nIAM\u30dd\u30ea\u30b7\u30fc\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\",\n      \"Resource\": \"arn:aws:s3:::s3bucket-name\"\n    }\n  ]\n}\n\n\nS3\u30d0\u30b1\u30c3\u30c8\u30dd\u30ea\u30b7\u30fc\n{\n    \"Version\": \"2008-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"PublicReadForGetBucketObjects\",\n            \"Effect\": \"Allow\",\n            \"Principal\": {\n                \"AWS\": \"arn:aws:iam::AWS\u30a2\u30ab\u30a6\u30f3\u30c8ID:user/IAM\u30e6\u30fc\u30b6\u30fc\u540d\"\n            },\n            \"Action\": \"s3:*\",\n            \"Resource\": \"arn:aws:s3:::\u3053\u306e\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u30d0\u30b1\u30c3\u30c8\u540d/*\"\n        }\n    ]\n}\n\n\n\u89e3\u8aac\nS3\u306b\u95a2\u3059\u308b\u64cd\u4f5c\u306f\u5168\u3066\u8a31\u53ef\n\n  \"Effect\": \"Allow\",\n  \"Action\": \"s3:*\",\n\n\n\"s3bucket-name\"\u306e\u30d0\u30b1\u30c3\u30c8\u306e\u307f\u306b\u4e0a\u8a18\u6a29\u9650\u3092\u4ed8\u4e0e\n\n  \"Resource\": \"arn:aws:s3:::s3bucket-name\"\n\n\nawscli\u3067\u898b\u3066\u307f\u308b\n# \u30a2\u30ab\u30a6\u30f3\u30c8\u5185\u5168\u3066\u306eS3\u30d0\u30b1\u30c3\u30c8\u60c5\u5831\u306f\u6a29\u9650\u7121\u3057\u3067\u898b\u308c\u306a\u3044\n$ aws s3 ls --profile s3share\nA client error (AccessDenied) occurred: Access Denied\n\n# \u30d0\u30b1\u30c3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3068\u898b\u308b\u4e8b\u304c\u51fa\u6765\u308b\n$ aws s3 ls s3://s3bucket-name --profile s3share\n                           PRE logs/\n\n# upload\u6210\u529f\n$ aws s3 cp ~/logo.png s3://s3bucket-name/ --profile s3share\nupload: ../../logo.png to s3://s3bucket-name/logo.png\n\n\n\u7528\u9014\n===\n\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u3068\u3057\u3066S3\u30d0\u30b1\u30c3\u30c8\u3092\u591a\u6570\u4f5c\u6210\u3057\u3066\u3044\u308b\u304c\u3001\n\u30d0\u30b1\u30c3\u30c8\u6bce\u306b\u4f7f\u7528\u3059\u308b\u4eba\u304c\u9055\u3046\u305f\u3081\u3001IAM\u30e6\u30fc\u30b6\u30fc\u3067\u6a29\u9650\u7ba1\u7406\u3059\u308b\u3002\nIAM\u30dd\u30ea\u30b7\u30fc\u3068S3\u30d0\u30b1\u30c3\u30c8\u30dd\u30ea\u30b7\u30fc\u306e2\u3064\u3092\u8a2d\u5b9a\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\n\n\n\n\n### IAM\u30dd\u30ea\u30b7\u30fc\n\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\",\n      \"Resource\": \"arn:aws:s3:::s3bucket-name\"\n    }\n  ]\n}\n```\n\n### S3\u30d0\u30b1\u30c3\u30c8\u30dd\u30ea\u30b7\u30fc\n```\n{\n\t\"Version\": \"2008-10-17\",\n\t\"Statement\": [\n\t\t{\n\t\t\t\"Sid\": \"PublicReadForGetBucketObjects\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Principal\": {\n\t\t\t\t\"AWS\": \"arn:aws:iam::AWS\u30a2\u30ab\u30a6\u30f3\u30c8ID:user/IAM\u30e6\u30fc\u30b6\u30fc\u540d\"\n\t\t\t},\n\t\t\t\"Action\": \"s3:*\",\n\t\t\t\"Resource\": \"arn:aws:s3:::\u3053\u306e\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u30d0\u30b1\u30c3\u30c8\u540d/*\"\n\t\t}\n\t]\n}\n```\n\n\n### \u89e3\u8aac\nS3\u306b\u95a2\u3059\u308b\u64cd\u4f5c\u306f\u5168\u3066\u8a31\u53ef\n>       \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\",\n\n\"s3bucket-name\"\u306e\u30d0\u30b1\u30c3\u30c8\u306e\u307f\u306b\u4e0a\u8a18\u6a29\u9650\u3092\u4ed8\u4e0e\n>       \"Resource\": \"arn:aws:s3:::s3bucket-name\"\n\nawscli\u3067\u898b\u3066\u307f\u308b\n\n```bash\n# \u30a2\u30ab\u30a6\u30f3\u30c8\u5185\u5168\u3066\u306eS3\u30d0\u30b1\u30c3\u30c8\u60c5\u5831\u306f\u6a29\u9650\u7121\u3057\u3067\u898b\u308c\u306a\u3044\n$ aws s3 ls --profile s3share\nA client error (AccessDenied) occurred: Access Denied\n\n# \u30d0\u30b1\u30c3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3068\u898b\u308b\u4e8b\u304c\u51fa\u6765\u308b\n$ aws s3 ls s3://s3bucket-name --profile s3share\n                           PRE logs/\n\n# upload\u6210\u529f\n$ aws s3 cp ~/logo.png s3://s3bucket-name/ --profile s3share\nupload: ../../logo.png to s3://s3bucket-name/logo.png\n```", "tags": ["AWS", "S3"]}