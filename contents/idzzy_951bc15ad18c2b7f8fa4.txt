{"context": " More than 1 year has passed since last update.\n\nWhat's this?\nProject \u9593\u306e Cinder volume \u306e\u5f15\u304d\u6e21\u3057\n1. \u30dc\u30ea\u30e5\u30fc\u30e0\u30c9\u30ca\u30fc (\u307e\u305f\u306f\u5143\u306e\u6240\u6709\u8005) \u306f\u3001\u8ee2\u9001\u8981\u6c42\u3092\u4f5c\u6210\u3057\u3066\u304b\u3089\u3001\u4f5c\u6210\u3057\u305f\u300c\u8ee2\u9001 ID\u300d\u3068\u300c\u8a8d\u8a3c\u30ad\u30fc\u300d\u3092\u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u8ee2\u9001\u5148\u306b\u9001\u4fe1\n2. \u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u8ee2\u9001\u5148 (\u307e\u305f\u306f\u65b0\u3057\u3044\u6240\u6709\u8005) \u306f\u3001\u300c\u8ee2\u9001 ID\u300d\u3068\u300c\u8a8d\u8a3c\u30ad\u30fc\u300d\u3092\u4f7f\u7528\u3057\u3066\u8ee2\u9001\u3092\u78ba\u5b9a\n\nDonor Project : Cinder volume sender\nRecipient Project : Cinder volume reciever\n\n\nInitial state in donor project\n\nEnv\n# env | egrep \"OS_TENANT_NAME|OS_USERNAME\"\nOS_USERNAME=admin\nOS_TENANT_NAME=tenant01\n\n\nCinder list\n# cinder list\n+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n|                  ID                  |   Status  | Display Name | Size | Volume Type | Bootable | Attached to |\n+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n| 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 | available | admin_vol02  |  1   |     None    |  false   |             |\n+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n\n# cinder show 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64\n+--------------------------------+--------------------------------------+\n|            Property            |                Value                 |\n+--------------------------------+--------------------------------------+\n|          attachments           |                  []                  |\n|       availability_zone        |                 nova                 |\n|            bootable            |                false                 |\n|           created_at           |      2015-03-19T09:22:41.000000      |\n|      display_description       |                                      |\n|          display_name          |             admin_vol02              |\n|           encrypted            |                False                 |\n|               id               | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 |\n|            metadata            |                  {}                  |\n|     os-vol-host-attr:host      |               node-17                |\n| os-vol-mig-status-attr:migstat |                 None                 |\n| os-vol-mig-status-attr:name_id |                 None                 |\n|  os-vol-tenant-attr:tenant_id  |   a8085d1871f847bdb906ef4a28d1bd48   |\n|              size              |                  1                   |\n|          snapshot_id           |                 None                 |\n|          source_volid          |                 None                 |\n|             status             |              available               |\n|          volume_type           |                 None                 |\n+--------------------------------+--------------------------------------+\n\n\nCreate transfer in doner project\n\nCreate transfer\n# cinder transfer-create --display-name transfer-test 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64\n+------------+--------------------------------------+\n|  Property  |                Value                 |\n+------------+--------------------------------------+\n|  auth_key  |           8f2a25a2cdefb455           |\n| created_at |      2015-03-19T09:25:53.220066      |\n|     id     | c67679a4-89c3-4723-af7d-2ab4985de47d |\n|    name    |            transfer-test             |\n| volume_id  | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 |\n+------------+--------------------------------------+\n\n\nCinder transfer list\n# cinder transfer-list\n+--------------------------------------+--------------------------------------+---------------+\n|                  ID                  |              Volume ID               |      Name     |\n+--------------------------------------+--------------------------------------+---------------+\n| c67679a4-89c3-4723-af7d-2ab4985de47d | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 | transfer-test |\n+--------------------------------------+--------------------------------------+---------------+\n\n# cinder transfer-show c67679a4-89c3-4723-af7d-2ab4985de47d\n+------------+--------------------------------------+\n|  Property  |                Value                 |\n+------------+--------------------------------------+\n| created_at |      2015-03-19T09:25:53.000000      |\n|     id     | c67679a4-89c3-4723-af7d-2ab4985de47d |\n|    name    |            transfer-test             |\n| volume_id  | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 |\n+------------+--------------------------------------+\n\n\nCinder list\n# cinder list\n+--------------------------------------+-------------------+--------------+------+-------------+----------+-------------+\n|                  ID                  |       Status      | Display Name | Size | Volume Type | Bootable | Attached to |\n+--------------------------------------+-------------------+--------------+------+-------------+----------+-------------+\n| 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 | awaiting-transfer | admin_vol02  |  1   |     None    |  false   |             |\n+--------------------------------------+-------------------+--------------+------+-------------+----------+-------------+\n\n\nSend this transfer information to other person by email or something like that.\nauth_key : 8f2a25a2cdefb455\n      id : c67679a4-89c3-4723-af7d-2ab4985de47d\n\n\nAccept the transfer in recipient project\n\nEnv\n# env | egrep \"OS_TENANT_NAME|OS_USERNAME\"\nOS_USERNAME=admin\nOS_TENANT_NAME=tenant02\n\n\nCinder list\n# cinder list\n+----+--------+--------------+------+-------------+----------+-------------+\n| ID | Status | Display Name | Size | Volume Type | Bootable | Attached to |\n+----+--------+--------------+------+-------------+----------+-------------+\n+----+--------+--------------+------+-------------+----------+-------------+\n\n\nCinder transfer list\n# cinder transfer-list\n+----+-----------+------+\n| ID | Volume ID | Name |\n+----+-----------+------+\n+----+-----------+------+\n\nAccept the Cinder transfer\n# cinder transfer-accept c67679a4-89c3-4723-af7d-2ab4985de47d 8f2a25a2cdefb455\n+-----------+--------------------------------------+\n|  Property |                Value                 |\n+-----------+--------------------------------------+\n|     id    | c67679a4-89c3-4723-af7d-2ab4985de47d |\n|    name   |            transfer-test             |\n| volume_id | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 |\n+-----------+--------------------------------------+\n\n\nCinder list\n# cinder list\n+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n|                  ID                  |   Status  | Display Name | Size | Volume Type | Bootable | Attached to |\n+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n| 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 | available | admin_vol02  |  1   |     None    |  false   |             |\n+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n\n# cinder show 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64\n+--------------------------------+--------------------------------------+\n|            Property            |                Value                 |\n+--------------------------------+--------------------------------------+\n|          attachments           |                  []                  |\n|       availability_zone        |                 nova                 |\n|            bootable            |                false                 |\n|           created_at           |      2015-03-19T09:22:41.000000      |\n|      display_description       |                                      |\n|          display_name          |             admin_vol02              |\n|           encrypted            |                False                 |\n|               id               | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 |\n|            metadata            |                  {}                  |\n|     os-vol-host-attr:host      |                node-17               |\n| os-vol-mig-status-attr:migstat |                 None                 |\n| os-vol-mig-status-attr:name_id |                 None                 |\n|  os-vol-tenant-attr:tenant_id  |   f5ca0532045c45018e9d4ebff6eebb0f   |\n|              size              |                  1                   |\n|          snapshot_id           |                 None                 |\n|          source_volid          |                 None                 |\n|             status             |              available               |\n|          volume_type           |                 None                 |\n+--------------------------------+--------------------------------------+\n\n\nCheck again after complete the transfer in donor project\n\nCinder list\n# cinder list\n+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n|                  ID                  |   Status  | Display Name | Size | Volume Type | Bootable | Attached to |\n+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n\n\nCinder transfer list\n# cinder transfer-list\n+----+-----------+------+\n| ID | Volume ID | Name |\n+----+-----------+------+\n+----+-----------+------+\n\n\nReference\nhttps://wiki.openstack.org/wiki/VolumeTransfer\n\nEnvironment\n\nOpenstack : Juno\nCeph : Firefly\n\n## What's this?\n\nProject \u9593\u306e Cinder volume \u306e\u5f15\u304d\u6e21\u3057\n1. \u30dc\u30ea\u30e5\u30fc\u30e0\u30c9\u30ca\u30fc (\u307e\u305f\u306f\u5143\u306e\u6240\u6709\u8005) \u306f\u3001\u8ee2\u9001\u8981\u6c42\u3092\u4f5c\u6210\u3057\u3066\u304b\u3089\u3001\u4f5c\u6210\u3057\u305f\u300c\u8ee2\u9001 ID\u300d\u3068\u300c\u8a8d\u8a3c\u30ad\u30fc\u300d\u3092\u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u8ee2\u9001\u5148\u306b\u9001\u4fe1\n2. \u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u8ee2\u9001\u5148 (\u307e\u305f\u306f\u65b0\u3057\u3044\u6240\u6709\u8005) \u306f\u3001\u300c\u8ee2\u9001 ID\u300d\u3068\u300c\u8a8d\u8a3c\u30ad\u30fc\u300d\u3092\u4f7f\u7528\u3057\u3066\u8ee2\u9001\u3092\u78ba\u5b9a\n\n* Donor Project : Cinder volume sender\n* Recipient Project : Cinder volume reciever\n\n\n## Initial state in donor project\n\n#### Env\n\n    # env | egrep \"OS_TENANT_NAME|OS_USERNAME\"\n    OS_USERNAME=admin\n    OS_TENANT_NAME=tenant01\n\n#### Cinder list\n\n    # cinder list\n    +--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n    |                  ID                  |   Status  | Display Name | Size | Volume Type | Bootable | Attached to |\n    +--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n    | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 | available | admin_vol02  |  1   |     None    |  false   |             |\n    +--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n\n    # cinder show 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64\n    +--------------------------------+--------------------------------------+\n    |            Property            |                Value                 |\n    +--------------------------------+--------------------------------------+\n    |          attachments           |                  []                  |\n    |       availability_zone        |                 nova                 |\n    |            bootable            |                false                 |\n    |           created_at           |      2015-03-19T09:22:41.000000      |\n    |      display_description       |                                      |\n    |          display_name          |             admin_vol02              |\n    |           encrypted            |                False                 |\n    |               id               | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 |\n    |            metadata            |                  {}                  |\n    |     os-vol-host-attr:host      |               node-17                |\n    | os-vol-mig-status-attr:migstat |                 None                 |\n    | os-vol-mig-status-attr:name_id |                 None                 |\n    |  os-vol-tenant-attr:tenant_id  |   a8085d1871f847bdb906ef4a28d1bd48   |\n    |              size              |                  1                   |\n    |          snapshot_id           |                 None                 |\n    |          source_volid          |                 None                 |\n    |             status             |              available               |\n    |          volume_type           |                 None                 |\n    +--------------------------------+--------------------------------------+\n\n\n## Create transfer in doner project\n\n#### Create transfer\n\n    # cinder transfer-create --display-name transfer-test 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64\n    +------------+--------------------------------------+\n    |  Property  |                Value                 |\n    +------------+--------------------------------------+\n    |  auth_key  |           8f2a25a2cdefb455           |\n    | created_at |      2015-03-19T09:25:53.220066      |\n    |     id     | c67679a4-89c3-4723-af7d-2ab4985de47d |\n    |    name    |            transfer-test             |\n    | volume_id  | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 |\n    +------------+--------------------------------------+\n\n#### Cinder transfer list\n\n    # cinder transfer-list\n    +--------------------------------------+--------------------------------------+---------------+\n    |                  ID                  |              Volume ID               |      Name     |\n    +--------------------------------------+--------------------------------------+---------------+\n    | c67679a4-89c3-4723-af7d-2ab4985de47d | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 | transfer-test |\n    +--------------------------------------+--------------------------------------+---------------+\n\n    # cinder transfer-show c67679a4-89c3-4723-af7d-2ab4985de47d\n    +------------+--------------------------------------+\n    |  Property  |                Value                 |\n    +------------+--------------------------------------+\n    | created_at |      2015-03-19T09:25:53.000000      |\n    |     id     | c67679a4-89c3-4723-af7d-2ab4985de47d |\n    |    name    |            transfer-test             |\n    | volume_id  | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 |\n    +------------+--------------------------------------+\n\n#### Cinder list\n\n    # cinder list\n    +--------------------------------------+-------------------+--------------+------+-------------+----------+-------------+\n    |                  ID                  |       Status      | Display Name | Size | Volume Type | Bootable | Attached to |\n    +--------------------------------------+-------------------+--------------+------+-------------+----------+-------------+\n    | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 | awaiting-transfer | admin_vol02  |  1   |     None    |  false   |             |\n    +--------------------------------------+-------------------+--------------+------+-------------+----------+-------------+\n\n## Send this transfer information to other person by email or something like that.\n\n    auth_key : 8f2a25a2cdefb455\n          id : c67679a4-89c3-4723-af7d-2ab4985de47d\n\n\n## Accept the transfer in recipient project\n\n#### Env\n\n    # env | egrep \"OS_TENANT_NAME|OS_USERNAME\"\n    OS_USERNAME=admin\n    OS_TENANT_NAME=tenant02\n\n#### Cinder list\n\n    # cinder list\n    +----+--------+--------------+------+-------------+----------+-------------+\n    | ID | Status | Display Name | Size | Volume Type | Bootable | Attached to |\n    +----+--------+--------------+------+-------------+----------+-------------+\n    +----+--------+--------------+------+-------------+----------+-------------+\n\n#### Cinder transfer list\n\n    # cinder transfer-list\n    +----+-----------+------+\n    | ID | Volume ID | Name |\n    +----+-----------+------+\n    +----+-----------+------+\n\nAccept the Cinder transfer\n\n    # cinder transfer-accept c67679a4-89c3-4723-af7d-2ab4985de47d 8f2a25a2cdefb455\n    +-----------+--------------------------------------+\n    |  Property |                Value                 |\n    +-----------+--------------------------------------+\n    |     id    | c67679a4-89c3-4723-af7d-2ab4985de47d |\n    |    name   |            transfer-test             |\n    | volume_id | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 |\n    +-----------+--------------------------------------+\n\n#### Cinder list\n\n    # cinder list\n    +--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n    |                  ID                  |   Status  | Display Name | Size | Volume Type | Bootable | Attached to |\n    +--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n    | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 | available | admin_vol02  |  1   |     None    |  false   |             |\n    +--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n\n    # cinder show 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64\n    +--------------------------------+--------------------------------------+\n    |            Property            |                Value                 |\n    +--------------------------------+--------------------------------------+\n    |          attachments           |                  []                  |\n    |       availability_zone        |                 nova                 |\n    |            bootable            |                false                 |\n    |           created_at           |      2015-03-19T09:22:41.000000      |\n    |      display_description       |                                      |\n    |          display_name          |             admin_vol02              |\n    |           encrypted            |                False                 |\n    |               id               | 6216b8bd-fd26-4a3c-9d8e-e69e39fb2c64 |\n    |            metadata            |                  {}                  |\n    |     os-vol-host-attr:host      |                node-17               |\n    | os-vol-mig-status-attr:migstat |                 None                 |\n    | os-vol-mig-status-attr:name_id |                 None                 |\n    |  os-vol-tenant-attr:tenant_id  |   f5ca0532045c45018e9d4ebff6eebb0f   |\n    |              size              |                  1                   |\n    |          snapshot_id           |                 None                 |\n    |          source_volid          |                 None                 |\n    |             status             |              available               |\n    |          volume_type           |                 None                 |\n    +--------------------------------+--------------------------------------+\n\n\n## Check again after complete the transfer in donor project\n\n#### Cinder list\n\n    # cinder list\n    +--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n    |                  ID                  |   Status  | Display Name | Size | Volume Type | Bootable | Attached to |\n    +--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n    +--------------------------------------+-----------+--------------+------+-------------+----------+-------------+\n\n#### Cinder transfer list\n\n    # cinder transfer-list\n    +----+-----------+------+\n    | ID | Volume ID | Name |\n    +----+-----------+------+\n    +----+-----------+------+\n\n## Reference\n\n[https://wiki.openstack.org/wiki/VolumeTransfer][link-01]\n\n\n## Environment\n\n* Openstack : Juno\n* Ceph : Firefly\n\n[link-01]:https://wiki.openstack.org/wiki/VolumeTransfer\n\n", "tags": ["openstack", "Cinder"]}