{"tags": ["Rails", "minitest"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\n\nRails MiniTest\u3067CSV\u30d5\u30a1\u30a4\u30eb\u3092\u8fd4\u3059Controller\u3092\u30c6\u30b9\u30c8\u3057\u305f\u3044\nCSV\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3092\u8fd4\u3059Controller\u304c\u3042\u308a\u3001\n\u305d\u306eCSV\u30c7\u30fc\u30bf\u306e\u4e2d\u8eab\u3092\u6b21\u306e\u3088\u3046\u306b\u30c6\u30b9\u30c8\u3057\u307e\u3057\u305f\u3002\nController\u5074\ndef create_csv\n  <\u7565>\n  respond_to do |format|\n    format.csv {\n      send_data records.to_csv, :type => 'text/csv', :filename => 'test.csv'\n    return\n    }\n  end\nend\n\nTestCode\u5074\n\uff08\u6b21\u306e\u4f8b\u3067\u306f\u5404\u884c\u304c'\u6570\u5b57,\u6570\u5b57,\u6570\u5b57'\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\uff09\ndescribe \"create_csv\" do\n  it \"return csv file\" do\n    get :create_csv\n    response.body.each_line |line| do\n      assert_match /\\d,\\d,\\d/, line\n    end\n  end\nend\n\n# Rails MiniTest\u3067CSV\u30d5\u30a1\u30a4\u30eb\u3092\u8fd4\u3059Controller\u3092\u30c6\u30b9\u30c8\u3057\u305f\u3044\n\nCSV\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3092\u8fd4\u3059Controller\u304c\u3042\u308a\u3001\n\u305d\u306eCSV\u30c7\u30fc\u30bf\u306e\u4e2d\u8eab\u3092\u6b21\u306e\u3088\u3046\u306b\u30c6\u30b9\u30c8\u3057\u307e\u3057\u305f\u3002\n\nController\u5074\n\n```rb\ndef create_csv\n  <\u7565>\n  respond_to do |format|\n    format.csv {\n      send_data records.to_csv, :type => 'text/csv', :filename => 'test.csv'\n    return\n    }\n  end\nend\n```\n\nTestCode\u5074\n\uff08\u6b21\u306e\u4f8b\u3067\u306f\u5404\u884c\u304c'\u6570\u5b57,\u6570\u5b57,\u6570\u5b57'\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\uff09\n\n```rb \ndescribe \"create_csv\" do\n  it \"return csv file\" do\n    get :create_csv\n    response.body.each_line |line| do\n      assert_match /\\d,\\d,\\d/, line\n    end\n  end\nend\n```\n"}