{"tags": ["Android", "gradle2.4", "AndroidStudio1.0"], "context": " More than 1 year has passed since last update.\n\n\u73fe\u8c61\nAndroid Studio\u3067proguard\u4ed8\u304d\u3067\u30d3\u30eb\u30c9\u3057\u305f\u6642\u306b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:proguardDebug'.\n> java.io.IOException: Can't write [/Users/tomoaki/Workspace/temp/someproject/app/build/intermediates/classes-proguard/debug/classes.jar] (Can't read [/Users/tomoaki/.gradle/caches/modules-2/files-2.1/org.apache.commons/commons-io/1.3.2/b6dde38349ba9bb5e6ea6320531eae969985dae5/commons-io-1.3.2.jar(;;;;;;!META-INF/MANIFEST.MF)] (Duplicate zip entry [commons-io-1.3.2.jar:org/apache/commons/io/CopyUtils.class]))\n\n\nbuild.gradle\u306f\u3053\u3093\u306a\u611f\u3058\n\nbuild.gradle\nbuildTypes {\n    release {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-project.txt'\n    }\n    debug {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-project.txt'\n        debuggable true \n        applicationIdSuffix = '.alpha' \n        versionNameSuffix = 'a'\n    }\n}\ndependencies {\ncompile 'com.android.support:support-v4:21.0.0'\ncompile 'com.android.support:appcompat-v7:21.0.2'\ncompile project(':modules:Aviary-SDK')\ncompile project(':modules:facebook')\ncompile 'com.crashlytics.android:crashlytics:1.+'\ncompile 'com.google.android.gms:play-services:6.1.11'\ncompile 'org.apache.httpcomponents:httpcore:4.3.2'\ncompile 'org.apache.httpcomponents:httpmime:4.3.5'\n}\n\n\n\n\u539f\u56e0\ndependencies\u3067\u8a2d\u5b9a\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5185\u90e8\u7684\u306b\u540c\u3058\u30e9\u30a4\u30d6\u30e9\u30ea(\u3053\u3053\u3067\u306fcommons-io)\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u554f\u984c\u306a\u3088\u3046\u3067\u3059\u3002\n\n\u8abf\u67fb\u65b9\u6cd5\u3068\u4fee\u6b63\ndependencies\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u8abf\u3079\u308b\u305f\u3081\u306b\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n$./gradlew :[modules]:dependencies\n\n\n[modules]\u306b\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u540d(app\u3068\u304b)\u3092\u3044\u308c\u307e\u3059\u3002\n\u5b9f\u884c\u3059\u308b\u3068\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u4e00\u89a7\u304c\u898b\u3089\u308c\u307e\u3059\ncompile - Classpath for compiling the main sources.\n+--- com.android.support:support-v4:21.0.0 -> 21.0.2\n|    \\--- com.android.support:support-annotations:21.0.2\n+--- com.android.support:appcompat-v7:21.0.2\n|    \\--- com.android.support:support-v4:21.0.2 (*)\n+--- project :modules:Aviary-SDK\n|    \\--- com.aviary.android.feather.sdk:sdk-library:+ -> 3.5.1\n|         +--- it.sephiroth.android.library.hlistviewanimations:hlistviewanimations-library:1.0.1\n|         |    +--- it.sephiroth.android.library.horizontallistview:hlistview:1.2.2\n|         |    |    \\--- com.android.support:support-v4:19.1.+ -> 21.0.2 (*)\n|         |    \\--- com.nineoldandroids:library:2.4.0\n|         +--- com.nineoldandroids:library:2.4.0\n|         +--- it.sephiroth.android.library.disklruimagecache:DiskLruImageCache:1.0.2\n|         |    +--- org.apache.commons:commons-io:1.3.2\n|         |    |    \\--- commons-io:commons-io:1.3.2\n|         |    \\--- com.jakewharton:disklrucache:2.0.2\n\n(\u4e2d\u7565)\n\n|         +--- com.android.support:support-v4:19.+ -> 21.0.2 (*)\n|         +--- it.sephiroth.android.exif:android-exif-extended:1.0.2\n|         |    +--- org.apache.commons:commons-lang3:3.3.2\n|         |    \\--- org.apache.commons:commons-io:1.3.2 (*)\n\n(\u4ee5\u4e0b\u7565)\n\n\u30ed\u30b0\u3092\u898b\u308b\u3068\u3001support-v4\u3068Aviary\u3067commons-io\u304c\u547c\u3070\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\nAviary\u306e\u65b9\u3067commons-io\u3092exclude\u3057\u3066\u3042\u3052\u307e\u3059\u3002\n\nbuild.gradle\ncompile (project(':modules:Aviary-SDK')){\n    exclude group: 'commons-io', module: 'commons-io'  \n}\n\n\n\n\u3053\u308c\u3067proguard\u4ed8\u304d\u30d3\u30eb\u30c9\u304c\u901a\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nhttp://stackoverflow.com/questions/27118087/duplicate-zip-entry-commons-io-1-3-2-jarorg-apache-commons-io-copyutils-class\n#\u73fe\u8c61\nAndroid Studio\u3067proguard\u4ed8\u304d\u3067\u30d3\u30eb\u30c9\u3057\u305f\u6642\u306b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\n```shell-session\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:proguardDebug'.\n> java.io.IOException: Can't write [/Users/tomoaki/Workspace/temp/someproject/app/build/intermediates/classes-proguard/debug/classes.jar] (Can't read [/Users/tomoaki/.gradle/caches/modules-2/files-2.1/org.apache.commons/commons-io/1.3.2/b6dde38349ba9bb5e6ea6320531eae969985dae5/commons-io-1.3.2.jar(;;;;;;!META-INF/MANIFEST.MF)] (Duplicate zip entry [commons-io-1.3.2.jar:org/apache/commons/io/CopyUtils.class]))\n\n```\n\nbuild.gradle\u306f\u3053\u3093\u306a\u611f\u3058\n\n```groovy:build.gradle\nbuildTypes {\n    release {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-project.txt'\n    }\n    debug {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-project.txt'\n        debuggable true \n        applicationIdSuffix = '.alpha' \n        versionNameSuffix = 'a'\n    }\n}\ndependencies {\ncompile 'com.android.support:support-v4:21.0.0'\ncompile 'com.android.support:appcompat-v7:21.0.2'\ncompile project(':modules:Aviary-SDK')\ncompile project(':modules:facebook')\ncompile 'com.crashlytics.android:crashlytics:1.+'\ncompile 'com.google.android.gms:play-services:6.1.11'\ncompile 'org.apache.httpcomponents:httpcore:4.3.2'\ncompile 'org.apache.httpcomponents:httpmime:4.3.5'\n}\n```\n\n#\u539f\u56e0\ndependencies\u3067\u8a2d\u5b9a\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5185\u90e8\u7684\u306b\u540c\u3058\u30e9\u30a4\u30d6\u30e9\u30ea(\u3053\u3053\u3067\u306fcommons-io)\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u554f\u984c\u306a\u3088\u3046\u3067\u3059\u3002\n\n#\u8abf\u67fb\u65b9\u6cd5\u3068\u4fee\u6b63\ndependencies\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u8abf\u3079\u308b\u305f\u3081\u306b\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```shell-session\n\n$./gradlew :[modules]:dependencies\n\n```\n[modules]\u306b\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u540d(`app`\u3068\u304b)\u3092\u3044\u308c\u307e\u3059\u3002\n\n\u5b9f\u884c\u3059\u308b\u3068\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u4e00\u89a7\u304c\u898b\u3089\u308c\u307e\u3059\n\n```shell-session\ncompile - Classpath for compiling the main sources.\n+--- com.android.support:support-v4:21.0.0 -> 21.0.2\n|    \\--- com.android.support:support-annotations:21.0.2\n+--- com.android.support:appcompat-v7:21.0.2\n|    \\--- com.android.support:support-v4:21.0.2 (*)\n+--- project :modules:Aviary-SDK\n|    \\--- com.aviary.android.feather.sdk:sdk-library:+ -> 3.5.1\n|         +--- it.sephiroth.android.library.hlistviewanimations:hlistviewanimations-library:1.0.1\n|         |    +--- it.sephiroth.android.library.horizontallistview:hlistview:1.2.2\n|         |    |    \\--- com.android.support:support-v4:19.1.+ -> 21.0.2 (*)\n|         |    \\--- com.nineoldandroids:library:2.4.0\n|         +--- com.nineoldandroids:library:2.4.0\n|         +--- it.sephiroth.android.library.disklruimagecache:DiskLruImageCache:1.0.2\n|         |    +--- org.apache.commons:commons-io:1.3.2\n|         |    |    \\--- commons-io:commons-io:1.3.2\n|         |    \\--- com.jakewharton:disklrucache:2.0.2\n\n(\u4e2d\u7565)\n\n|         +--- com.android.support:support-v4:19.+ -> 21.0.2 (*)\n|         +--- it.sephiroth.android.exif:android-exif-extended:1.0.2\n|         |    +--- org.apache.commons:commons-lang3:3.3.2\n|         |    \\--- org.apache.commons:commons-io:1.3.2 (*)\n\n(\u4ee5\u4e0b\u7565)\n```\n\n\u30ed\u30b0\u3092\u898b\u308b\u3068\u3001support-v4\u3068Aviary\u3067commons-io\u304c\u547c\u3070\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\nAviary\u306e\u65b9\u3067commons-io\u3092exclude\u3057\u3066\u3042\u3052\u307e\u3059\u3002\n\n```groovy:build.gradle\ncompile (project(':modules:Aviary-SDK')){\n    exclude group: 'commons-io', module: 'commons-io'  \n}\n\n```\n\n\u3053\u308c\u3067proguard\u4ed8\u304d\u30d3\u30eb\u30c9\u304c\u901a\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n<http://stackoverflow.com/questions/27118087/duplicate-zip-entry-commons-io-1-3-2-jarorg-apache-commons-io-copyutils-class>\n"}