{"context": " More than 1 year has passed since last update.#alias docker='sudo docker'\n\n# peco\u3067\u9078\u629e\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3092\u884c\u3046\ndocker_peco_containers() {\n\n  if [ $# -lt 1 ]; then\n    echo \"Usage: dpc [OPTIONS] COMMAND [args]\" >&2\n    return 1\n  fi\n\n  docker ps -a | peco | while read CONTAINER\n  do\n    docker $@ `echo $CONTAINER | awk '{print $1}'`\n  done\n\n}\n\n# peco\u3067\u9078\u629e\u3057\u305f\u30a4\u30e1\u30fc\u30b8\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3092\u884c\u3046\ndocker_peco_images() {\n\n  if [ $# -lt 1 ]; then\n    echo \"Usage: dpi [OPTIONS] COMMAND [args]\" >&2\n    return 1\n  fi\n\n  unset DOCKER_OPTS\n\n  [[ -z $ENVS ]] || \\\n    for e in $ENVS; do DOCKER_OPTS=\"$DOCKER_OPTS -e $e\"; done\n\n  [[ -z $VOLUMES ]] || \\\n    for v in $VOLUMES; do DOCKER_OPTS=\"$DOCKER_OPTS -v $v\"; done\n\n  [[ -z $PORTS ]] || \\\n    for p in $PORTS; do DOCKER_OPTS=\"$DOCKER_OPTS -p $p\"; done\n\n  docker images | peco | while read IMAGE\n  do\n    docker $DOCKER_OPTS $@ `echo $IMAGE | awk '{print $3}'`\n  done\n\n}\n\n# \u3064\u3044\u3067\u306b\u4e00\u62ec\u524a\u9664\u7cfb(peco\u95a2\u4fc2\u306a\u3057)\ndocker_container_all_clear() {\n  echo \"Docker\u30b3\u30f3\u30c6\u30ca\u3092\u524a\u9664\u4e2d...\"\n  docker kill `docker ps -q`\n  docker rm `docker ps -aq`\n  echo \"\u3059\u3079\u3066\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002\"\n}\n\n# \u30a8\u30a4\u30ea\u30a2\u30b9\u306f\u304a\u597d\u307f\u3067\nalias dpc='docker_peco_containers'\nalias dpi='docker_peco_images'\nalias dcac='docker_container_all_clear'\n\n\u3053\u308c\u3092.bashrc\u306a\u308a/etc/profile.d/docker-peco.sh\u306a\u308a\u306b\u66f8\u3044\u3066\u304a\u3044\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f7f\u3046\u3002\n\u30b3\u30f3\u30c6\u30ca\u306e\u505c\u6b62\u3001\u524a\u9664\ndpc kill; dpc rm\n\n\u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5 (\u4f8b: Rails+MySQL)\nENVS=\"RAILS_ENV=production\" PORTS=\"3000:80 3306:3306\" VOLUMES=\"/data:/var/lib/mysql\" dpi -d run\n\n\u30a4\u30e1\u30fc\u30b8\u306e\u524a\u9664\ndpi rmi\n\nDocker\u306e\u64cd\u4f5c\u304c\u3061\u3087\u3063\u3068\u3060\u3051\u6357\u308b\u3002\n```bash\n#alias docker='sudo docker'\n\n# peco\u3067\u9078\u629e\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3092\u884c\u3046\ndocker_peco_containers() {\n\n  if [ $# -lt 1 ]; then\n    echo \"Usage: dpc [OPTIONS] COMMAND [args]\" >&2\n    return 1\n  fi\n\n  docker ps -a | peco | while read CONTAINER\n  do\n    docker $@ `echo $CONTAINER | awk '{print $1}'`\n  done\n\n}\n\n# peco\u3067\u9078\u629e\u3057\u305f\u30a4\u30e1\u30fc\u30b8\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3092\u884c\u3046\ndocker_peco_images() {\n\n  if [ $# -lt 1 ]; then\n    echo \"Usage: dpi [OPTIONS] COMMAND [args]\" >&2\n    return 1\n  fi\n\n  unset DOCKER_OPTS\n\n  [[ -z $ENVS ]] || \\\n    for e in $ENVS; do DOCKER_OPTS=\"$DOCKER_OPTS -e $e\"; done\n\n  [[ -z $VOLUMES ]] || \\\n    for v in $VOLUMES; do DOCKER_OPTS=\"$DOCKER_OPTS -v $v\"; done\n\n  [[ -z $PORTS ]] || \\\n    for p in $PORTS; do DOCKER_OPTS=\"$DOCKER_OPTS -p $p\"; done\n\n  docker images | peco | while read IMAGE\n  do\n    docker $DOCKER_OPTS $@ `echo $IMAGE | awk '{print $3}'`\n  done\n\n}\n\n# \u3064\u3044\u3067\u306b\u4e00\u62ec\u524a\u9664\u7cfb(peco\u95a2\u4fc2\u306a\u3057)\ndocker_container_all_clear() {\n  echo \"Docker\u30b3\u30f3\u30c6\u30ca\u3092\u524a\u9664\u4e2d...\"\n  docker kill `docker ps -q`\n  docker rm `docker ps -aq`\n  echo \"\u3059\u3079\u3066\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002\"\n}\n\n# \u30a8\u30a4\u30ea\u30a2\u30b9\u306f\u304a\u597d\u307f\u3067\nalias dpc='docker_peco_containers'\nalias dpi='docker_peco_images'\nalias dcac='docker_container_all_clear'\n```\n\n\u3053\u308c\u3092.bashrc\u306a\u308a/etc/profile.d/docker-peco.sh\u306a\u308a\u306b\u66f8\u3044\u3066\u304a\u3044\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f7f\u3046\u3002\n\n\u30b3\u30f3\u30c6\u30ca\u306e\u505c\u6b62\u3001\u524a\u9664\n\n```bash\ndpc kill; dpc rm\n```\n\n\u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5 (\u4f8b: Rails+MySQL)\n\n```bash\nENVS=\"RAILS_ENV=production\" PORTS=\"3000:80 3306:3306\" VOLUMES=\"/data:/var/lib/mysql\" dpi -d run\n```\n\n\u30a4\u30e1\u30fc\u30b8\u306e\u524a\u9664\n\n```bash\ndpi rmi\n```\n\nDocker\u306e\u64cd\u4f5c\u304c\u3061\u3087\u3063\u3068\u3060\u3051\u6357\u308b\u3002\n", "tags": ["docker", "Peco"]}