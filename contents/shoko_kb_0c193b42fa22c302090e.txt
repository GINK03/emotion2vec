{"context": "\n\n\u672c\u6d41\n\nMeteor\u306e\u3042\u3093\u3061\u3087\u3053\ua4b0\uff61\uff65\u03c9\uff65`;\ua4b1\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\n\u6982\u8981\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u3001Handlebars\u3067\u8a18\u8ff0\u3059\u308b\u3002\nBlaze\u306f\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u30e9\u30a4\u30d6\u30e9\u30ea\u3089\u3057\u3044\u3002\n\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u3001Blaze\u306e\u304b\u308f\u308a\u306b\u3001React.js\u3084Angular.js\u306b\u62c5\u5f53\u3057\u3066\u3082\u3044\u3044\u304c\u3001Blaze\u304c\u6700\u826f\u3068\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u3001\u9d5c\u5451\u307f\u306b\u3059\u308b\u3002\u3002\u3002\n\n\nBlaze is Meteor\u2019s built-in reactive rendering library. Usually, templates are written in Spacebars...\nBlaze is not required to build applications in Meteor\u2014you can also easily use React or Angular to develop your UI (here\u2019s a comparison). However, this particular article will take you through best practices in building an application in Blaze, which is used as the UI engine in all of the other articles.\n\n\nMeteor\u306f\u8981\u7d20\u306b\u3088\u3063\u3066\u5b9a\u7fa9\u3055\u308c\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u3001JavaScript\u30b3\u30fc\u30c9\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u5229\u7528\u3059\u308b\u3002\n\u958b\u767a\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3055\u305b\u308b\u5834\u5408\u306f\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u51e6\u7406\u3092\u5b9f\u884c\u6642\u306b\u3001\u672c\u756a\u74b0\u5883\u3067\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u51e6\u7406\u306f\u4e8b\u524d\u306b\u5b9f\u65bd\u3059\u308b\u3002\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306fJavaScript\u306e\u95a2\u6570\u3068\u306a\u308b\u3002\n\u30b0\u30ed\u30fc\u30d0\u30eb\u306aTemplate\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30f3\u30d0\u30fc\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u308b\u3002\n\u305d\u306e\u95a2\u6570\u306b\u5bfe\u3057\u3066\u306f\uff0cTemplate.\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3002\n\u53c2\u8003\u6587\u732e\u3068\u7570\u306a\u308a\u3001Template.(\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\uff09\u306e\u5834\u5408\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u53c2\u7167\u53ef\u3002\n\nTemplate.\uff08\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\uff09.renderFunction().value\u3067\u8868\u793a\u5185\u5bb9\u306b\u30a2\u30af\u30bb\u30b9\u53ef\u3002\n\u7d4c\u9a13\u5247\u7684\u306a\u70ba\u3001\u624b\u6bb5\u3068\u3057\u3066\u6b63\u3057\u3044\u304b\u3069\u3046\u304b\u306f\u3001\u81ea\u4fe1\u306a\u3057\u3002\n\n\n\u30d6\u30e9\u30a6\u30b6\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u547c\u3073\u51fa\u3057\u305f\u4f8b\n> Template.mainContent\nTemplate {viewName: \"Template.mainContent\", renderFunction: function, __helpers: HelperMap, __eventMaps: Array, _callbacks: {created: [], rendered: [], destroyed: []}, \u2026} = $1\n> Template.mainContent.renderFunction().value\n< \"<button id=\\\"hello\\\">Hello</button>\" = $8\n\n\n\n\u53c2\u8003\n\n\u7b2c5\u56de\u3000Handlebars\u306e\u4f7f\u7528\u6cd5:\u4f53\u611f\uff01JavaScript\u3067\u8d85\u901f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a \uff0dMeteor\u5b8c\u5168\u89e3\u8aac\n\n\n\n\u57cb\u8fbc\u307f\u7528\u306e\u30a8\u30b9\u30b1\u30fc\u30d7\u8a18\u53f7\n\n{{text}}...\u30c6\u30ad\u30b9\u30c8\u3092\u57cb\u3081\u308b\u5834\u5408\u306f\uff12\u91cd\u4e2d\u62ec\u5f27\u3067\u8a18\u8ff0\n{{{html}}}...HTML\u3092\u57cb\u3081\u308b\u5834\u5408\u306f\uff13\u91cd\u4e2d\u62ec\u5f27\u3067\u8a18\u8ff0\n\n\u53c2\u8003\uff1aInsert HTML markup using Meteor@stack overflow\n\n\nSample\n\ntemplate\nblaze\n\n\nMy first sample\n\n.meteor/packages\nblaze-html-templates    # Compile .html files into Meteor Blaze views\n\n\n\nclient/main.html\n<head>\n  <title>template</title>\n</head>\n\n<body>\n  <h1>Welcome to Meteor!</h1>\n\n  {{> sample1}}\n  {{> sample2}}\n  {{> welcome yourname=\"Shoko\" now=\"2016-07-01\"}}\n  {{> welcomeja }}\n\n</body>\n\n<template name=\"sample1\">\n  <p>This is my first template1...</p>\n</template>\n\n<template name=\"sample2\">\n  <p>This is my first template2...</p>\n</template>\n\n<template name=\"welcome\">\n  <p>Hello, {{yourname}}. Now is {{now}}.</p>\n</template>\n\n<template name=\"welcomeja\">\n  <p>Hello, {{yourname}}. Now is {{now}}.</p>\n</template>\n\n<template name=\"greet\" greeting=\"Hello, <br>Shoko\">\n  <p>Hello, {{{greeting}}}.</p>\n</template>\n\n\n\nclient/main.js\n// helpers\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u8a55\u4fa1\u3067\u304d\u305f\u3002\nTemplate.welcomeja.helpers({\n  yourname: 'Shoko',\n  now: new Date()\n});\n\n\n\n\u3088\u3046\u3053\u305d\u3001Shoko. \u73fe\u5728\u6642\u523b\u306fTue Jul 12 2016 05:27:11 GMT+0900 (JST)\n\n\n\nBuilt-in Block Helper \uff08\u30d6\u30ed\u30c3\u30af\u69cb\u9020\uff09\n\nDOM\u69cb\u9020\n\nclient/main.html\n  {{> family}}\n    :\n\n<template name=\"family\">\n  <p>\u3088\u3046\u3053\u305d\u3001{{person.name}}.</p>\n  {{#with family}}\n    <p>\u82d7\u5b57\u306f{{lastname}}\u3002</p>\n    {{#with mother}}\n      <p>\u6bcd\u306f\u3001{{name}}</p>\n      <p>\u7236\u306f\u3001{{../father.name}}</p>\n    {{/with}}\n  {{/with}}\n</template>\n\n\n\nclient/main.js\nTemplate.family.helpers({\n    person: { name: 'Shoko JP' },\n    family : {\n        lastname: 'JP',\n        mother: { name:'Hanako' },\n        father: { name:'Taro' }\n    },\n});\n\n\n\n\u5206\u5c90\uff08if\uff09\n\nclient/main.html\n  <h2>if\u3067\u8a18\u8ff0</h2>\n  <p>{{> current_time}}</p>\n\n<template name=\"current_time\">\n  {{# if oddSeconds}}\n    \u73fe\u5728\u6642\u523b\u306f{{dateString}}\n  {{else}}\n    \u73fe\u5728\u6642\u523b\u306f{{now}}\n  {{/if}}\n</template>\n\n\n\nclient/main.js\nTemplate.current_time.helpers({\n    now: new Date(),\n    oddSeconds: function () {\n        var date = new Date();\n        //console.log(date.getSeconds());\n        return date.getSeconds() % 2 === 1;\n    },\n    dateString: function () {\n      var date = new Date();\n      var date_ja = date.getFullYear() + '\u5e74' + (date.getMonth() + 1) + '\u6708' + date.getDate() + '\u65e5 ' +\n        date.getHours() + '\u6642' + date.getMinutes() + '\u5206' + date.getSeconds() + '\u79d2';\n      return date_ja;\n    }\n});\n\n\n\nclient/main.html\n  {{> caller_myif}}\n\n<template name=\"myIf\">\n  {{#if condition}}\n    {{> Template.contentBlock}}\n  {{else}}\n    {{> Template.elseBlock}}\n  {{/if}}\n</template>\n\n<template name=\"caller_myif\">\n  {{#myIf condition=true}}\n    <h1>I'll be rendered!</h1>\n  {{else}}\n    <h1>I won't be rendered</h1>    \n  {{/myIf}}\n</template>\n\n\n\nI'll be rendered!\n\n\n\u5206\u5c90\uff08unless\uff09\n\nclient/main.html\n  <h2>unless\u3067\u8a18\u8ff0</h2>\n  <p>{{> current_time_unless}}</p>\n\n<template name=\"current_time_unless\">\n  {{# unless oddSeconds}}\n    <span style=\"color:green\">\u73fe\u5728\u6642\u523b\u306f{{dateString}}</span>\n  {{else}}\n    <span style=\"color:red\">\u73fe\u5728\u6642\u523b\u306f{{now}}</span>\n  {{/unless}}\n</template>\n\n\n\nif\u3067\u8a18\u8ff0\n\u73fe\u5728\u6642\u523b\u306f2016\u5e747\u670812\u65e5 6\u664248\u520655\u79d2\n\n\nclient/main.js\nTemplate.current_time_unless.helpers({\n    now: new Date(),\n    oddSeconds: function () {\n        var date = new Date();\n        //console.log(date.getSeconds());\n        return date.getSeconds() % 2 === 1;\n    },\n    dateString: function () {\n      var date = new Date();\n      var date_ja = date.getFullYear() + '\u5e74' + (date.getMonth() + 1) + '\u6708' + date.getDate() + '\u65e5 ' +\n        date.getHours() + '\u6642' + date.getMinutes() + '\u5206' + date.getSeconds() + '\u79d2';\n      return date_ja;\n    }\n});\n\n\n\nunless\u3067\u8a18\u8ff0\n\u73fe\u5728\u6642\u523b\u306fTue Jul 12 2016 06:48:55 GMT+0900 (JST)\n\n\n\u30eb\u30fc\u30d7\uff08each\uff09\n\nclient/main.html\n  <h2>each\u3067\u8a18\u8ff0\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u6607\u9806\u30eb\u30fc\u30d7\uff09</h2>\n  {{> fruits }}\n<template name=\"fruits\">\n  <ul>\n    {{ #each fruits }}\n      <li>{{this}}</li>\n    {{ /each }}\n  </ul>\n</template>\n\n\n\nclient/main.js\nTemplate.fruits.helpers({\n    fruits: ['apple', 'banana', 'orange']\n});\n\n\n\neach\u3067\u8a18\u8ff0\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u6607\u9806\u30eb\u30fc\u30d7\uff09\n* apple\n* banana\n* orange\n\n\n\u4ee3\u5165\uff08let\uff09\n\nclient/main.html\n  <h2>let\u3067\u8a18\u8ff0</h2>\n  <p>{{> sample_let }}</p>\n\n<template name=\"sample_let\">\n  {{#let name=person.bio.firstName color=generateColor}}\n    <div>{{name}} gets a {{color}} card!</div>\n  {{/let}}\n</template>\n\n\n\nclient/main.js\nTemplate.sample_let.helpers({\n    person: {\n        bio: { firstName: 'Shoko' }\n    },\n    generateColor: 'red'\n});\n\n\n\nlet\u3067\u8a18\u8ff0\nShoko gets a red card!\n\n\n\u81ea\u4f5c\u306eBlock Helper\n\nTODO:\u8981\u8abf\u67fb\n\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u306e\u30a4\u30d9\u30f3\u30c8\u51e6\u7406\n\n\u53c2\u8003\n\n\u7b2c6\u56de\u3000Meteor\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u3082\u3063\u3068\u6d3b\u7528\u3059\u308b:\u4f53\u611f\uff01JavaScript\u3067\u8d85\u901f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a \uff0dMeteor\u5b8c\u5168\u89e3\u8aac\n\n\nSample\n\ntemplate-events\n\n\n\u30a4\u30d9\u30f3\u30c8\u5b9a\u7fa9\n\n\u30a4\u30d9\u30f3\u30c8\u30de\u30c3\u30d7\u30ad\u30fc\u306f\u4e0b\u8a18\u306e\u5f62\u5f0f\u3067\u6307\u5b9a\u3059\u308b\u3002\n\n\n\u30a4\u30d9\u30f3\u30c8\u540d[,\u30a4\u30d9\u30f3\u30c8\u540d...] \u30bb\u30ec\u30af\u30bf\n\n\nmain.html\n<head>\n  <title>template-events</title>\n</head>\n\n<body>\n  <h1>Welcome to Meteor!</h1>\n\n  {{> mainContent}}\n\n</body>\n\n<template name=\"mainContent\">\n  <button id=\"hello\">Hello</button>\n  <button id=\"goodMorning\">Good Morning</button>\n</template>\n\n\n\nmain.js\nimport { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\n\nimport './main.html';\n\nTemplate.mainContent.helpers({\n});\n\nTemplate.mainContent.events({\n  'click button'(event, instance) {\n    alert(\"Button Clicked\");\n  },\n  'click #hello' (event, instance) {\n    alert(\"Hello\");\n  },\n  'click #goodMorning' (event, instance) {\n    alert(\"Good Morning\");\n  }\n});\n\n\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8API\n\n\u8981\u7d20\u306fMeteor\u306b\u3088\u3063\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u3001\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570Template\u306b\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u767b\u9332\u3055\u308c\u308b\u3002\n\n\n\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\n\nTemplate\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u306f\u4e0b\u8a18\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u5e38\u5099\u3055\u308c\u3066\u3044\u308b\u3002\nonCreated\u2026\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u751f\u6210\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\nonRendered\u2026\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u5b9f\u884c\u7d50\u679c\u304cDOM\u5c55\u958b\u6642\u547c\u3073\u51fa\u3055\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\uff08\u8868\u793a\u6642\u3068\u8003\u3048\u308b\u3068\u5206\u304b\u308a\u3084\u3059\u3044\u304c\u3001\u975e\u8868\u793a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3082\u3042\u308b\u306e\u3067\u3001\u5c55\u958b\u3068\u3057\u3066\u304a\u304f\u3002\uff09\nonDestroyed\u2026\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u7834\u68c4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u3002\n\n\nmain.js\nTemplate.mainContent.onCreated(function () {\n    console.log('created');\n});\nTemplate.mainContent.onRendered(function() {\n    console.log('rendered');\n});\nTemplate.mainContent.onDestroyed(function() {\n    console.log('destroyed');\n});\n\n\n\n\u95a2\u6570\n\n\nevents(event map)\u2026\u30a4\u30d9\u30f3\u30c8\u30de\u30c3\u30d7\n\nhelpers(helpers)\u2026\u30d8\u30eb\u30d1\u30fc\u95a2\u6570\uff08\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u6e21\u3059\u3002\uff09\n\npreserve(selectors)\u2026\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u518d\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c\u884c\u308f\u308c\u305f\u969b\u3001\u4ee5\u524d\u306eDOM\u30ce\u30fc\u30c9\u306e\u72b6\u614b\u3092\u5f15\u304d\u7d99\u304e\u305f\u3044\u8981\u7d20\u3092\u3001\u30bb\u30ec\u30af\u30bf\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\uff08\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u518d\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306b\u3064\u3044\u3066\u306f\u3001\u30e9\u30a4\u30d6HTML\u3068\u3044\u3046\u6982\u5ff5\u306e\u7406\u89e3\u304c\u5fc5\u8981\u3002\uff09\n\n\nmain.html\n<head>\n  <title>template-events</title>\n</head>\n\n<body>\n  <h1>Welcome to Meteor!</h1>\n\n  {{> mainContent}}\n\n</body>\n\n<template name=\"mainContent\">\n  <button id=\"hello\" class=\"greetings\">Hello</button>\n  <button id=\"goodMorning\" class=\"greetings\">Good Morning</button>\n  <hr/>\n  <input type=\"text\" id=\"name\"/><button id=\"greet\">greet</button>\n</template>\n\n\n\n\nmain.js\nimport { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\n\nimport './main.html';\n\nTemplate.mainContent.helpers({\n});\n\nTemplate.mainContent.events({\n  'click button .greetings'(event, template) {\n    alert(\"Button Clicked\");\n\n    console.log(template);\n\n    console.log(template.firstNode);\n    console.log(template.lastNode);\n    console.log(template.findAll('button'));    // \u691c\u7d22\u306b\u30d2\u30c3\u30c8\u3059\u308b\u3059\u3079\u3066\u306e\u30ce\u30fc\u30c9\n    console.log(template.find('button'));       // \u691c\u7d22\u306b\u30d2\u30c3\u30c8\u3059\u308b\u6700\u521d\u306e\u30ce\u30fc\u30c9\n\n    console.log(template.$('button'));          // jquery\n\n    // console.log(template.data());                    // \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u547c\u3073\u51fa\u3055\u308c\u305f\u969b\u306b\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\n  },\n  'click #hello' (event, template) {\n    alert(\"Hello\");\n  },\n  'click #goodMorning' (event, template) {\n    alert(\"Good Morning\");\n  },\n  'click #greet' (event, template) {\n    var name = template.$('input[type=text]').val();      //jquery\n    //var name = template.find('input[type=text]').value; //DOM\n    console.log(name);\n  }\n});\n\nTemplate.mainContent.onCreated(function () {\n    console.log('created');\n\n    var template = this;\n    console.log(template);\n});\nTemplate.mainContent.onRendered(function() {\n    console.log('rendered');\n});\nTemplate.mainContent.onDestroyed(function() {\n    console.log('destroyed');\n});\n\n\n\n\nJQuery UI Draggable\u3092\u4f7f\u7528\u3057\u3066\u307f\u305f\n\nSample\n\nsample_draggble\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u8ffd\u52a0\n\n\nAtmosphere\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u691c\u7d22\u3067\u304d\u308b\u3002\n\ndbernhard:jquery-ui-draggable\u3092\u5c0e\u5165\u3059\u308b\u3002\n\n\nconsole\n$ meteor add dbernhard:jquery-ui-draggable\n\n\n\n\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\n\nmain.html\n<template name=\"test\">\n  <article class=\"article\">Draggable Element</article>\n</template>\n\n\n\nmain.js\nTemplate.test.onRendered(function testOnRendered() {\n    $article = $(Template.instance().firstNode);\n    $article.draggable();\n    // console.log($article);\n});\n\n\n# \u672c\u6d41\n\n- [Meteor\u306e\u3042\u3093\u3061\u3087\u3053\ua4b0\uff61\uff65\u03c9\uff65`;\ua4b1](http://qiita.com/shoko_kb/items/786524ce3a7f20c464ad)\n\n# \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\n## \u6982\u8981\n\n- \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u3001Handlebars\u3067\u8a18\u8ff0\u3059\u308b\u3002\n- Blaze\u306f\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u30e9\u30a4\u30d6\u30e9\u30ea\u3089\u3057\u3044\u3002\n- \u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u3001Blaze\u306e\u304b\u308f\u308a\u306b\u3001React.js\u3084Angular.js\u306b\u62c5\u5f53\u3057\u3066\u3082\u3044\u3044\u304c\u3001Blaze\u304c\u6700\u826f\u3068\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u3001\u9d5c\u5451\u307f\u306b\u3059\u308b\u3002\u3002\u3002\n\n> Blaze is Meteor\u2019s built-in reactive rendering library. Usually, templates are written in Spacebars...\n> Blaze is not required to build applications in Meteor\u2014you can also easily use React or Angular to develop your UI (here\u2019s a comparison). However, this particular article will take you through best practices in building an application in Blaze, which is used as the UI engine in all of the other articles.\n\n- Meteor\u306f<template>\u8981\u7d20\u306b\u3088\u3063\u3066\u5b9a\u7fa9\u3055\u308c\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u3001JavaScript\u30b3\u30fc\u30c9\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u5229\u7528\u3059\u308b\u3002\n- \u958b\u767a\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3055\u305b\u308b\u5834\u5408\u306f\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u51e6\u7406\u3092\u5b9f\u884c\u6642\u306b\u3001\u672c\u756a\u74b0\u5883\u3067\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u51e6\u7406\u306f\u4e8b\u524d\u306b\u5b9f\u65bd\u3059\u308b\u3002\n- \u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306fJavaScript\u306e\u95a2\u6570\u3068\u306a\u308b\u3002\n- ~~\u30b0\u30ed\u30fc\u30d0\u30eb\u306aTemplate\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30f3\u30d0\u30fc\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u308b\u3002~~\n- ~~\u305d\u306e\u95a2\u6570\u306b\u5bfe\u3057\u3066\u306f\uff0cTemplate.\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3002~~\n- \u53c2\u8003\u6587\u732e\u3068\u7570\u306a\u308a\u3001**Template.(\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\uff09**\u306e\u5834\u5408\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u53c2\u7167\u53ef\u3002\n- **Template.\uff08\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\uff09.renderFunction().value**\u3067\u8868\u793a\u5185\u5bb9\u306b\u30a2\u30af\u30bb\u30b9\u53ef\u3002\n- \u7d4c\u9a13\u5247\u7684\u306a\u70ba\u3001\u624b\u6bb5\u3068\u3057\u3066\u6b63\u3057\u3044\u304b\u3069\u3046\u304b\u306f\u3001\u81ea\u4fe1\u306a\u3057\u3002\n\n```bash:\u30d6\u30e9\u30a6\u30b6\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u547c\u3073\u51fa\u3057\u305f\u4f8b\n> Template.mainContent\nTemplate {viewName: \"Template.mainContent\", renderFunction: function, __helpers: HelperMap, __eventMaps: Array, _callbacks: {created: [], rendered: [], destroyed: []}, \u2026} = $1\n> Template.mainContent.renderFunction().value\n< \"<button id=\\\"hello\\\">Hello</button>\" = $8\n```\n\n## \u53c2\u8003\n\n- [\u7b2c5\u56de\u3000Handlebars\u306e\u4f7f\u7528\u6cd5:\u4f53\u611f\uff01JavaScript\u3067\u8d85\u901f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a \uff0dMeteor\u5b8c\u5168\u89e3\u8aac](http://gihyo.jp/dev/serial/01/meteor/0005)\n\n---\n\n## \u57cb\u8fbc\u307f\u7528\u306e\u30a8\u30b9\u30b1\u30fc\u30d7\u8a18\u53f7\n\n- {{text}}...\u30c6\u30ad\u30b9\u30c8\u3092\u57cb\u3081\u308b\u5834\u5408\u306f\uff12\u91cd\u4e2d\u62ec\u5f27\u3067\u8a18\u8ff0\n- {{{html}}}...HTML\u3092\u57cb\u3081\u308b\u5834\u5408\u306f\uff13\u91cd\u4e2d\u62ec\u5f27\u3067\u8a18\u8ff0\n\n\u53c2\u8003\uff1a[Insert HTML markup using Meteor@stack overflow](http://stackoverflow.com/questions/14267856/insert-html-markup-using-meteor)\n\n---\n\n## Sample\n\n- template\n- blaze\n\n## My first sample\n\n```text:.meteor/packages\nblaze-html-templates    # Compile .html files into Meteor Blaze views\n```\n\n```html:client/main.html\n<head>\n  <title>template</title>\n</head>\n\n<body>\n  <h1>Welcome to Meteor!</h1>\n\n  {{> sample1}}\n  {{> sample2}}\n  {{> welcome yourname=\"Shoko\" now=\"2016-07-01\"}}\n  {{> welcomeja }}\n\n</body>\n\n<template name=\"sample1\">\n  <p>This is my first template1...</p>\n</template>\n\n<template name=\"sample2\">\n  <p>This is my first template2...</p>\n</template>\n\n<template name=\"welcome\">\n  <p>Hello, {{yourname}}. Now is {{now}}.</p>\n</template>\n\n<template name=\"welcomeja\">\n  <p>Hello, {{yourname}}. Now is {{now}}.</p>\n</template>\n\n<template name=\"greet\" greeting=\"Hello, <br>Shoko\">\n  <p>Hello, {{{greeting}}}.</p>\n</template>\n```\n\n```js:client/main.js\n// helpers\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u8a55\u4fa1\u3067\u304d\u305f\u3002\nTemplate.welcomeja.helpers({\n  yourname: 'Shoko',\n  now: new Date()\n});\n```\n> \u3088\u3046\u3053\u305d\u3001Shoko. \u73fe\u5728\u6642\u523b\u306fTue Jul 12 2016 05:27:11 GMT+0900 (JST)\n \n----\n\n# Built-in Block Helper \uff08\u30d6\u30ed\u30c3\u30af\u69cb\u9020\uff09\n\n## DOM\u69cb\u9020\n\n```html:client/main.html\n  {{> family}}\n    :\n\n<template name=\"family\">\n  <p>\u3088\u3046\u3053\u305d\u3001{{person.name}}.</p>\n  {{#with family}}\n    <p>\u82d7\u5b57\u306f{{lastname}}\u3002</p>\n    {{#with mother}}\n      <p>\u6bcd\u306f\u3001{{name}}</p>\n      <p>\u7236\u306f\u3001{{../father.name}}</p>\n    {{/with}}\n  {{/with}}\n</template>\n```\n\n```js:client/main.js\nTemplate.family.helpers({\n\tperson: { name: 'Shoko JP' },\n\tfamily : {\n\t\tlastname: 'JP',\n\t\tmother: { name:'Hanako' },\n\t\tfather: { name:'Taro' }\n\t},\n});\n```\n\n## \u5206\u5c90\uff08if\uff09 \n\n```html:client/main.html\n  <h2>if\u3067\u8a18\u8ff0</h2>\n  <p>{{> current_time}}</p>\n\n<template name=\"current_time\">\n  {{# if oddSeconds}}\n    \u73fe\u5728\u6642\u523b\u306f{{dateString}}\n  {{else}}\n    \u73fe\u5728\u6642\u523b\u306f{{now}}\n  {{/if}}\n</template>\n```\n\n```js:client/main.js\nTemplate.current_time.helpers({\n\tnow: new Date(),\n\toddSeconds: function () {\n\t\tvar date = new Date();\n\t\t//console.log(date.getSeconds());\n\t\treturn date.getSeconds() % 2 === 1;\n\t},\n\tdateString: function () {\n      var date = new Date();\n      var date_ja = date.getFullYear() + '\u5e74' + (date.getMonth() + 1) + '\u6708' + date.getDate() + '\u65e5 ' +\n      \tdate.getHours() + '\u6642' + date.getMinutes() + '\u5206' + date.getSeconds() + '\u79d2';\n      return date_ja;\n\t}\n});\n```\n\n```html:client/main.html\n  {{> caller_myif}}\n\n<template name=\"myIf\">\n  {{#if condition}}\n    {{> Template.contentBlock}}\n  {{else}}\n    {{> Template.elseBlock}}\n  {{/if}}\n</template>\n\n<template name=\"caller_myif\">\n  {{#myIf condition=true}}\n    <h1>I'll be rendered!</h1>\n  {{else}}\n    <h1>I won't be rendered</h1>    \n  {{/myIf}}\n</template>\n```\n> I'll be rendered!\n\n## \u5206\u5c90\uff08unless\uff09\n\n```html:client/main.html\n  <h2>unless\u3067\u8a18\u8ff0</h2>\n  <p>{{> current_time_unless}}</p>\n\n<template name=\"current_time_unless\">\n  {{# unless oddSeconds}}\n    <span style=\"color:green\">\u73fe\u5728\u6642\u523b\u306f{{dateString}}</span>\n  {{else}}\n    <span style=\"color:red\">\u73fe\u5728\u6642\u523b\u306f{{now}}</span>\n  {{/unless}}\n</template>\n```\n\n> if\u3067\u8a18\u8ff0\n> \u73fe\u5728\u6642\u523b\u306f2016\u5e747\u670812\u65e5 6\u664248\u520655\u79d2\n\n```js:client/main.js\nTemplate.current_time_unless.helpers({\n\tnow: new Date(),\n\toddSeconds: function () {\n\t\tvar date = new Date();\n\t\t//console.log(date.getSeconds());\n\t\treturn date.getSeconds() % 2 === 1;\n\t},\n\tdateString: function () {\n      var date = new Date();\n      var date_ja = date.getFullYear() + '\u5e74' + (date.getMonth() + 1) + '\u6708' + date.getDate() + '\u65e5 ' +\n      \tdate.getHours() + '\u6642' + date.getMinutes() + '\u5206' + date.getSeconds() + '\u79d2';\n      return date_ja;\n\t}\n});\n```\n\n> unless\u3067\u8a18\u8ff0\n> \u73fe\u5728\u6642\u523b\u306fTue Jul 12 2016 06:48:55 GMT+0900 (JST)\n\n\n## \u30eb\u30fc\u30d7\uff08each\uff09 \n```html:client/main.html\n  <h2>each\u3067\u8a18\u8ff0\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u6607\u9806\u30eb\u30fc\u30d7\uff09</h2>\n  {{> fruits }}\n<template name=\"fruits\">\n  <ul>\n    {{ #each fruits }}\n      <li>{{this}}</li>\n    {{ /each }}\n  </ul>\n</template>\n```\n\n```js:client/main.js\nTemplate.fruits.helpers({\n\tfruits: ['apple', 'banana', 'orange']\n});\n```\n\n>each\u3067\u8a18\u8ff0\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u6607\u9806\u30eb\u30fc\u30d7\uff09\n> * apple\n> * banana\n> * orange\n\n## \u4ee3\u5165\uff08let\uff09\n```html:client/main.html\n  <h2>let\u3067\u8a18\u8ff0</h2>\n  <p>{{> sample_let }}</p>\n\n<template name=\"sample_let\">\n  {{#let name=person.bio.firstName color=generateColor}}\n    <div>{{name}} gets a {{color}} card!</div>\n  {{/let}}\n</template>\n```\n\n```js:client/main.js\nTemplate.sample_let.helpers({\n\tperson: {\n\t \tbio: { firstName: 'Shoko' }\n\t},\n\tgenerateColor: 'red'\n});\n```\n\n> let\u3067\u8a18\u8ff0\n> Shoko gets a red card!\n\n## \u81ea\u4f5c\u306eBlock Helper\n\n- TODO:\u8981\u8abf\u67fb\n\n----\n\n# \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u306e\u30a4\u30d9\u30f3\u30c8\u51e6\u7406\n\n## \u53c2\u8003\n\n- [\u7b2c6\u56de\u3000Meteor\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u3082\u3063\u3068\u6d3b\u7528\u3059\u308b:\u4f53\u611f\uff01JavaScript\u3067\u8d85\u901f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a \uff0dMeteor\u5b8c\u5168\u89e3\u8aac](http://gihyo.jp/dev/serial/01/meteor/0006)\n\n## Sample \n\n- template-events\n\n## \u30a4\u30d9\u30f3\u30c8\u5b9a\u7fa9\n\n- \u30a4\u30d9\u30f3\u30c8\u30de\u30c3\u30d7\u30ad\u30fc\u306f\u4e0b\u8a18\u306e\u5f62\u5f0f\u3067\u6307\u5b9a\u3059\u308b\u3002\n\n> \u30a4\u30d9\u30f3\u30c8\u540d[,\u30a4\u30d9\u30f3\u30c8\u540d...] \u30bb\u30ec\u30af\u30bf\n\n```html:main.html\n<head>\n  <title>template-events</title>\n</head>\n\n<body>\n  <h1>Welcome to Meteor!</h1>\n\n  {{> mainContent}}\n\n</body>\n\n<template name=\"mainContent\">\n  <button id=\"hello\">Hello</button>\n  <button id=\"goodMorning\">Good Morning</button>\n</template>\n```\n\n```js:main.js\nimport { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\n\nimport './main.html';\n\nTemplate.mainContent.helpers({\n});\n\nTemplate.mainContent.events({\n  'click button'(event, instance) {\n    alert(\"Button Clicked\");\n  },\n  'click #hello' (event, instance) {\n  \talert(\"Hello\");\n  },\n  'click #goodMorning' (event, instance) {\n  \talert(\"Good Morning\");\n  }\n});\n```\n\n----\n## \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8API\n\n- <template>\u8981\u7d20\u306fMeteor\u306b\u3088\u3063\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u3001\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570Template\u306b\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u767b\u9332\u3055\u308c\u308b\u3002\n\n### \u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\n\n- Template\u95a2\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u306f\u4e0b\u8a18\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u5e38\u5099\u3055\u308c\u3066\u3044\u308b\u3002\n\n- **onCreated**\u2026\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c**\u751f\u6210**\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\n- **onRendered**\u2026\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u5b9f\u884c\u7d50\u679c\u304c**DOM\u5c55\u958b**\u6642\u547c\u3073\u51fa\u3055\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\uff08\u8868\u793a\u6642\u3068\u8003\u3048\u308b\u3068\u5206\u304b\u308a\u3084\u3059\u3044\u304c\u3001\u975e\u8868\u793a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3082\u3042\u308b\u306e\u3067\u3001\u5c55\u958b\u3068\u3057\u3066\u304a\u304f\u3002\uff09\n- **onDestroyed**\u2026\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c**\u7834\u68c4**\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u3002\n\n```js:main.js\nTemplate.mainContent.onCreated(function () {\n\tconsole.log('created');\n});\nTemplate.mainContent.onRendered(function() {\n    console.log('rendered');\n});\nTemplate.mainContent.onDestroyed(function() {\n    console.log('destroyed');\n});\n```\n\n### \u95a2\u6570\n\n- **events(event map)**\u2026\u30a4\u30d9\u30f3\u30c8\u30de\u30c3\u30d7\n- **helpers(helpers)**\u2026\u30d8\u30eb\u30d1\u30fc\u95a2\u6570\uff08\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u6e21\u3059\u3002\uff09\n- **preserve(selectors)**\u2026\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u518d\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c\u884c\u308f\u308c\u305f\u969b\u3001\u4ee5\u524d\u306eDOM\u30ce\u30fc\u30c9\u306e\u72b6\u614b\u3092\u5f15\u304d\u7d99\u304e\u305f\u3044\u8981\u7d20\u3092\u3001\u30bb\u30ec\u30af\u30bf\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\uff08\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u518d\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306b\u3064\u3044\u3066\u306f\u3001**\u30e9\u30a4\u30d6HTML**\u3068\u3044\u3046\u6982\u5ff5\u306e\u7406\u89e3\u304c\u5fc5\u8981\u3002\uff09\n\n```html:main.html\n<head>\n  <title>template-events</title>\n</head>\n\n<body>\n  <h1>Welcome to Meteor!</h1>\n\n  {{> mainContent}}\n\n</body>\n\n<template name=\"mainContent\">\n  <button id=\"hello\" class=\"greetings\">Hello</button>\n  <button id=\"goodMorning\" class=\"greetings\">Good Morning</button>\n  <hr/>\n  <input type=\"text\" id=\"name\"/><button id=\"greet\">greet</button>\n</template>\n\n```\n\n```js:main.js\nimport { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\n\nimport './main.html';\n\nTemplate.mainContent.helpers({\n});\n\nTemplate.mainContent.events({\n  'click button .greetings'(event, template) {\n    alert(\"Button Clicked\");\n\n    console.log(template);\n\n    console.log(template.firstNode);\n    console.log(template.lastNode);\n    console.log(template.findAll('button'));\t// \u691c\u7d22\u306b\u30d2\u30c3\u30c8\u3059\u308b\u3059\u3079\u3066\u306e\u30ce\u30fc\u30c9\n    console.log(template.find('button'));\t\t// \u691c\u7d22\u306b\u30d2\u30c3\u30c8\u3059\u308b\u6700\u521d\u306e\u30ce\u30fc\u30c9\n\n    console.log(template.$('button'));\t\t\t// jquery\n\n    // console.log(template.data());\t\t\t\t\t// \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u547c\u3073\u51fa\u3055\u308c\u305f\u969b\u306b\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\n  },\n  'click #hello' (event, template) {\n    alert(\"Hello\");\n  },\n  'click #goodMorning' (event, template) {\n    alert(\"Good Morning\");\n  },\n  'click #greet' (event, template) {\n    var name = template.$('input[type=text]').val();      //jquery\n    //var name = template.find('input[type=text]').value; //DOM\n    console.log(name);\n  }\n});\n\nTemplate.mainContent.onCreated(function () {\n\tconsole.log('created');\n\n\tvar template = this;\n\tconsole.log(template);\n});\nTemplate.mainContent.onRendered(function() {\n    console.log('rendered');\n});\nTemplate.mainContent.onDestroyed(function() {\n    console.log('destroyed');\n});\n```\n\n----\n\n# JQuery UI Draggable\u3092\u4f7f\u7528\u3057\u3066\u307f\u305f\n\n## Sample\n\n- sample_draggble\n\n## \u30d1\u30c3\u30b1\u30fc\u30b8\u8ffd\u52a0\n\n- [Atmosphere](https://atmospherejs.com/)\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u691c\u7d22\u3067\u304d\u308b\u3002\n- [dbernhard:jquery-ui-draggable](https://atmospherejs.com/dbernhard/jquery-ui-draggable)\u3092\u5c0e\u5165\u3059\u308b\u3002\n\n```bash:console\n$ meteor add dbernhard:jquery-ui-draggable\n```\n\n## \u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\n\n```html:main.html\n<template name=\"test\">\n  <article class=\"article\">Draggable Element</article>\n</template>\n```\n\n```js:main.js\nTemplate.test.onRendered(function testOnRendered() {\n\t$article = $(Template.instance().firstNode);\n\t$article.draggable();\n\t// console.log($article);\n});\n```\n", "tags": ["Meteor"]}