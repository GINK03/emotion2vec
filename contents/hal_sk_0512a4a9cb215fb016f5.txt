{"context": " More than 1 year has passed since last update.\u6700\u8fd1LocomotiveCMS\u3092\u4f7f\u3044\u59cb\u3081\u307e\u3057\u305f\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3084\u597d\u304d\u306a\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3092\u4f7f\u3063\u3066CMS\u3092\u66f4\u65b0\u3067\u304d\u308b\u6240\u304c\u306a\u304b\u306a\u304b\u4fbf\u5229\u3060\u3057\u3001Rails\u30d9\u30fc\u30b9\u306a\u306e\u3067\u6a5f\u80fd\u8ffd\u52a0\u3082\u4fbf\u5229\u305d\u3046\u3067\u3059\u3002\nLocomotiveCMS \u306f\u3001Locomotive Engine \u3068\u3044\u3046\u30b5\u30fc\u30d0\u90e8\u5206\u3068\u3001Wagon \u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u3067\u304d\u3066\u3044\u307e\u3059\u3002\nWagon \u3067\u4f5c\u3063\u305f\u30b5\u30a4\u30c8\u3092\u3001\u30b5\u30fc\u30d0\u3067\u52d5\u3044\u3066\u3044\u308bLocomotive Engine\u306bpush\u3059\u308b\u3053\u3068\u3067\u30b5\u30a4\u30c8\u3092\u516c\u958b\u3067\u304d\u308b\u4ed5\u7d44\u307f\u3067\u3059\u3002\nLocomotiveCMS\u3067\u306fLovomotiveHosting\u3068\u3044\u3046\u30b5\u30a4\u30c8\u3092\u516c\u958b\u3057\u3066\u304a\u308a\u3001\u305d\u3061\u3089\u3092\u4f7f\u3048\u3070\u308f\u3056\u308f\u3056Engine\u3092\u81ea\u524d\u3067\u7528\u610f\u3059\u308b\u3053\u3068\u306f\u7121\u3044\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u8272\u3005\u3068Engine\u5074\u306b\u3082\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u304c\u5165\u308a\u305d\u3046\u3060\u3063\u305f\u306e\u3067\u3001Heroku\u3067\u81ea\u524d\u3067\u30db\u30b9\u30c8\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u3067 Engine \u306e\u958b\u767a\u74b0\u5883\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u304b\u3089\u3001Heroku \u306b\u767b\u9332\u3059\u308b\u307e\u3067\u306e\u6d41\u308c\u3067\u3059\u3002\n\u307b\u3068\u3093\u3069\u304c\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u901a\u308a\u306a\u306e\u3067\u3059\u304c\u3001\u4f5c\u696d\u30e1\u30e2\u7684\u306b\u6b8b\u3057\u3066\u304a\u3044\u305f\u306e\u3092\u516c\u958b\u3057\u307e\u3059\u3002\n\u307e\u305a\u3001rails \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3051\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nbash\ngem install rails --version=3.2.16\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3089\u3001\u8272\u3005\u30b9\u30ad\u30c3\u30d7\u3057\u3066 rails \u30b5\u30a4\u30c8\u3092\u4f5c\u6210\n\nbash\nbundle exec rails new mycms --skip-active-record --skip-test-unit --skip-javascript --skip-bundle\ncd mycms\n\n\n\nGemfile \u306b\u4ee5\u4e0b\u306e3\u884c\u3092\u8ffd\u52a0\n\nbash\ngem 'locomotive_cms', '~> 2.4.1', :require => 'locomotive/engine'\ngem 'compass-rails',  '~> 1.1.3'\ngem 'unicorn'\n\n\n\n\u4e0a\u8a18\u306e\u901a\u308a\u306b\u3084\u308b\u3068\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002\n\nbash\nBundler could not find compatible versions for gem \"mime-types\":\n  In Gemfile:\n    rails (= 3.2.16) ruby depends on\n      mime-types (~> 1.16) ruby\n\n    locomotive_cms (~> 2.4.1) ruby depends on\n      mime-types (2.2)\n\n\n\u3046\u30fc\u3080\u3002rails \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5916\u3057\u3066\u5bfe\u5fdc\u3057\u305f\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u305f\u3002\uff08\u3067\u3082\u7d50\u5c40\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u306e\u306f 3.2.16\u3002\uff1f\uff09\nbundle install\u3059\u308b\n\nbash\nbundle install --path=vendor/bundle\n\n\nmongodb \u3092\u8d77\u52d5\u3059\u308b\u3002\u3069\u3053\u3067\u3082\u3044\u3044\u3051\u3069\u3001db/mongo \u3092\u4f5c\u3063\u3066\u8d77\u52d5\u3057\u305f\n\nbash\nmkdir db/mongo\nmongod --dbpath=db/mongo\n\n\nLocomotive Engine \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nbash\nbundle exec rails g locomotive:install\n\n\nconfig/mongoid.yml \u3092\u66f8\u304d\u63db\u3048\u308b\nvi config/mongoid.yml\n\nmongoid.yml\ndevelopment:\n  sessions:\n    default:\n      database: mycms_dev\n      hosts:\n        - localhost:27017\n  options:\n    identity_map_enabled: true\n\ntest:\n  sessions:\n    default:\n      database: mycms_test\n      hosts:\n        - localhost:27017\n  options:\n    identity_map_enabled: true\n\nproduction:\n  sessions:\n    default:\n      uri: <%= ENV['MONGOHQ_URL'] %>\n\n\n\u3042\u3068\u306f\u8d77\u52d5\u3057\u3066\u307f\u308b\u3002\n\nbash\n% bundle exec unicorn_rails\nI, [2014-03-25T19:39:13.983735 #37567]  INFO -- : listening on addr=0.0.0.0:8080 fd=9\nI, [2014-03-25T19:39:13.983880 #37567]  INFO -- : worker=0 spawning...\nI, [2014-03-25T19:39:13.985256 #37567]  INFO -- : master process ready\nI, [2014-03-25T19:39:13.986196 #38022]  INFO -- : worker=0 spawned pid=38022\nI, [2014-03-25T19:39:13.986635 #38022]  INFO -- : Refreshing Gem list\nI, [2014-03-25T19:39:18.856479 #38022]  INFO -- : worker=0 ready\n\n\n\u3046\u307e\u304f\u8d77\u52d5\u3057\u305f\u307f\u305f\u3044\u3002\u30d6\u30e9\u30a6\u30b6\u3067\u3001http://localhost:8080/ \u306b\u30a2\u30af\u30bb\u30b9\u3002\u521d\u56de\u30a2\u30af\u30bb\u30b9\u6642\u306b\u306fadmin\u30e6\u30fc\u30b6\u30fc\u306e\u767b\u9332\u753b\u9762\u304c\u51fa\u3066\u304f\u308b\u3002\n\n\u8d77\u52d5\u3057\u305f\u306e\u3067\u3001Heroku \u306b deploy \u3057\u3066\u307f\u308b\u3002\u4ee5\u4e0b\u306e gem \u3092 Gemfile \u306b\u8ffd\u52a0\ngem 'locomotive-heroku', '~> 0.1.0', :require => 'locomotive/heroku'\ngem 'thin', :group => 'production'\n\nheroku \u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u306e\u70ba Gemfile \u306egem\u8a2d\u5b9a\u304c\u59cb\u307e\u308b\u524d\u306b\u4ee5\u4e0b\u306e\u884c\u3092\u8ffd\u52a0\nruby '2.0.0'\n\nbundle install\u3059\u308b\n\nbash\nbundle install\n\n\nheroku \u4e0a\u306b\u65b0\u898f\u30a2\u30d7\u30ea\u4f5c\u6210\n\nbash\ngit init .\nheroku create <YOUR APP NAME>\nheroku config:add BUNDLE_WITHOUT=development:test\n\n\nmongodb \u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nbash\nheroku addons:add mongohq:sandbox\n\n\nconfig/mongid.yml \u306e production \u90e8\u5206\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\uff08mongo hq \u3092\u4f7f\u3046\u70ba\u306e\u8a2d\u5b9a\uff09\nproduction:\n  sessions:\n    default:\n      uri: <%= ENV['MONGOHQ_URL'] %>\n\n\uff08Heroku \u4e0a\u3067 mongohq \u3092\u6709\u52b9\u306b\u3057\u3066\u3044\u306a\u3051\u308c\u3070\u3001heroku addons:add mongohq\u3067\u6709\u52b9\u306b\u3059\u308b\u3053\u3068\uff09\n\u30e1\u30fc\u30eb\u9001\u4fe1\u7528\u306b SendGrid \u3092\u8a2d\u5b9a\n\nbash\nheroku addons:add sendgrid:starter\n\n\nSendgrid\u3092\u4f7f\u3046\u3088\u3046\u306b config/environments/production.rb \u3092\u5909\u66f4\nconfig.action_mailer.delivery_method = :smtp\nconfig.action_mailer.smtp_settings = {\n  :address        => 'smtp.sendgrid.net',\n  :port           => 25,\n  :authentication => :plain,\n  :user_name      => ENV['SENDGRID_USERNAME'],\n  :password       => ENV['SENDGRID_PASSWORD'],\n  :domain         => ENV['SENDGRID_DOMAIN']\n}\n\nS3\u306e\u74b0\u5883\u8a2d\u5b9a\u3092\u3059\u308b\nS3_BUCKET_REGION \u306b\u3064\u3044\u3066\u306f\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u306e\u3053\u3068\n\nbash\nheroku config:add S3_KEY_ID=<YOUR S3 KEY ID>\nheroku config:add S3_SECRET_KEY=<YOUR S3 SECRET KEY>\nheroku config:add S3_BUCKET=<YOUR S3 BUCKET NAME>\nheroku config:add S3_BUCKET_REGION=<YOUR S3 BUCKET REGION>\n\n\nconfig/initializers/locomotive.rb\u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\nconfig.hosting = {\n  :target     => :heroku,\n  :api_key    => ENV['HEROKU_API_KEY'],\n  :app_name   => ENV['HEROKU_APP_NAME']\n}\n\nHeroku \u306eAPI\u30ad\u30fc\u3068\u30a2\u30d7\u30ea\u540d\u3092\u30bb\u30c3\u30c8\u3059\u308b\n\nbash\nheroku config:add HEROKU_API_KEY=<YOUR HEROKU API KEY>\nheroku config:add HEROKU_APP_NAME=<YOUR APP NAME>\n\n\n\u30c7\u30d0\u30c3\u30b0\u3092\u3057\u3084\u3059\u3044\u3088\u3046\u306b\u3001\u30a2\u30bb\u30c3\u30c8\u306e\u30d7\u30ea\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u6e08\u307e\u3059\u3002config/application.rb \u4e0a\u306e initialize_on_precompile \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u30aa\u30d5\u306b\u3059\u308b\nvi config/application.rb\nmodule YourApplication\n  class Application < Rails::Application\n    ...\n    config.assets.initialize_on_precompile = false\n    ...\n  end\nend\n\n\u30a2\u30bb\u30c3\u30c8\u306e\u30d7\u30ea\u30b3\u30f3\u30d1\u30a4\u30eb\u5b9f\u884c\nbundle exec rake assets:precompile\n\n\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u307f\u308b\ngit add .\ngit commit -am \"launch it\"\ngit push heroku master\n\n\u30a8\u30e9\u30fc\u304c\u3067\u306a\u3051\u308c\u3070OK.\n\u3042\u3068\u306f\u3001heroku open \u3067\u30b5\u30a4\u30c8\u3092\u78ba\u8a8d\u3057\u3066\u3001\u4e0a\u8a18\u3068\u540c\u3058\u3088\u3046\u306b\u767b\u9332\u753b\u9762\u304c\u51fa\u3066\u304d\u305f\u3089\u767b\u9332\u5b8c\u4e86\uff01\n\nLocomotive \u95a2\u9023\u306e\u8a18\u4e8b\u4e00\u89a7\uff1a\n* Locomotive Engine \u3092 Heroku \u3067\u52d5\u304b\u3059\u307e\u3067\n* LocomotiveCMS \u3067\u30cb\u30e5\u30fc\u30b9\u8a18\u4e8b\u4e00\u89a7\u6a5f\u80fd\u3092\u4f5c\u308b\n* LocomotiveCMS \u306e\u30da\u30fc\u30b8\u306b\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\u3092\u7d44\u307f\u8fbc\u3080\uff08Engine\u306e\u62e1\u5f35\uff09\n* LocomotiveCMS + Devise \u3092\u4f7f\u3063\u3066\u4f5c\u3063\u305f\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306e\u30c7\u30b6\u30a4\u30f3\u3092CMS\u5074\u3067\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b(1)\n* LocomotiveCMS + Devise \u3092\u4f7f\u3063\u3066\u4f5c\u3063\u305f\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306e\u30c7\u30b6\u30a4\u30f3\u3092CMS\u5074\u3067\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b(2)\n* LocomotiveCMS + Devise \u3092\u4f7f\u3063\u3066\u4f5c\u3063\u305f\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306e\u30c7\u30b6\u30a4\u30f3\u3092CMS\u5074\u3067\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b(3)\n* LocomotiveCMS \u3067\u3001\u8907\u6570\u306e Heroku \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f7f\u3046\n\n\u6700\u8fd1LocomotiveCMS\u3092\u4f7f\u3044\u59cb\u3081\u307e\u3057\u305f\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3084\u597d\u304d\u306a\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3092\u4f7f\u3063\u3066CMS\u3092\u66f4\u65b0\u3067\u304d\u308b\u6240\u304c\u306a\u304b\u306a\u304b\u4fbf\u5229\u3060\u3057\u3001Rails\u30d9\u30fc\u30b9\u306a\u306e\u3067\u6a5f\u80fd\u8ffd\u52a0\u3082\u4fbf\u5229\u305d\u3046\u3067\u3059\u3002\n\nLocomotiveCMS \u306f\u3001Locomotive Engine \u3068\u3044\u3046\u30b5\u30fc\u30d0\u90e8\u5206\u3068\u3001Wagon \u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u3067\u304d\u3066\u3044\u307e\u3059\u3002\nWagon \u3067\u4f5c\u3063\u305f\u30b5\u30a4\u30c8\u3092\u3001\u30b5\u30fc\u30d0\u3067\u52d5\u3044\u3066\u3044\u308bLocomotive Engine\u306bpush\u3059\u308b\u3053\u3068\u3067\u30b5\u30a4\u30c8\u3092\u516c\u958b\u3067\u304d\u308b\u4ed5\u7d44\u307f\u3067\u3059\u3002\n\nLocomotiveCMS\u3067\u306f[LovomotiveHosting](https://www.locomotivehosting.com/)\u3068\u3044\u3046\u30b5\u30a4\u30c8\u3092\u516c\u958b\u3057\u3066\u304a\u308a\u3001\u305d\u3061\u3089\u3092\u4f7f\u3048\u3070\u308f\u3056\u308f\u3056Engine\u3092\u81ea\u524d\u3067\u7528\u610f\u3059\u308b\u3053\u3068\u306f\u7121\u3044\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u8272\u3005\u3068Engine\u5074\u306b\u3082\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u304c\u5165\u308a\u305d\u3046\u3060\u3063\u305f\u306e\u3067\u3001Heroku\u3067\u81ea\u524d\u3067\u30db\u30b9\u30c8\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u4ee5\u4e0b\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u3067 Engine \u306e\u958b\u767a\u74b0\u5883\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u304b\u3089\u3001Heroku \u306b\u767b\u9332\u3059\u308b\u307e\u3067\u306e\u6d41\u308c\u3067\u3059\u3002\n\u307b\u3068\u3093\u3069\u304c[\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](http://doc.locomotivecms.com/get-started/heroku)\u901a\u308a\u306a\u306e\u3067\u3059\u304c\u3001\u4f5c\u696d\u30e1\u30e2\u7684\u306b\u6b8b\u3057\u3066\u304a\u3044\u305f\u306e\u3092\u516c\u958b\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u3001rails \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3051\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash:bash\ngem install rails --version=3.2.16\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3089\u3001\u8272\u3005\u30b9\u30ad\u30c3\u30d7\u3057\u3066 rails \u30b5\u30a4\u30c8\u3092\u4f5c\u6210\n\n```bash:bash\nbundle exec rails new mycms --skip-active-record --skip-test-unit --skip-javascript --skip-bundle\ncd mycms\n\n```\n\nGemfile \u306b\u4ee5\u4e0b\u306e3\u884c\u3092\u8ffd\u52a0\n\n\n```bash:bash\ngem 'locomotive_cms', '~> 2.4.1', :require => 'locomotive/engine'\ngem 'compass-rails',  '~> 1.1.3'\ngem 'unicorn'\n\n```\n\n\u4e0a\u8a18\u306e\u901a\u308a\u306b\u3084\u308b\u3068\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002\n\n```bash:bash\nBundler could not find compatible versions for gem \"mime-types\":\n  In Gemfile:\n    rails (= 3.2.16) ruby depends on\n      mime-types (~> 1.16) ruby\n\n    locomotive_cms (~> 2.4.1) ruby depends on\n      mime-types (2.2)\n```\n\n\u3046\u30fc\u3080\u3002rails \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5916\u3057\u3066\u5bfe\u5fdc\u3057\u305f\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u305f\u3002\uff08\u3067\u3082\u7d50\u5c40\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u306e\u306f 3.2.16\u3002\uff1f\uff09\n\nbundle install\u3059\u308b\n\n```bash:bash\nbundle install --path=vendor/bundle\n```\n\nmongodb \u3092\u8d77\u52d5\u3059\u308b\u3002\u3069\u3053\u3067\u3082\u3044\u3044\u3051\u3069\u3001db/mongo \u3092\u4f5c\u3063\u3066\u8d77\u52d5\u3057\u305f\n\n```bash:bash\nmkdir db/mongo\nmongod --dbpath=db/mongo\n```\n\nLocomotive Engine \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash:bash\nbundle exec rails g locomotive:install\n```\n\nconfig/mongoid.yml \u3092\u66f8\u304d\u63db\u3048\u308b\nvi config/mongoid.yml\n\n```mongoid.yml\ndevelopment:\n  sessions:\n    default:\n      database: mycms_dev\n      hosts:\n        - localhost:27017\n  options:\n    identity_map_enabled: true\n\ntest:\n  sessions:\n    default:\n      database: mycms_test\n      hosts:\n        - localhost:27017\n  options:\n    identity_map_enabled: true\n\nproduction:\n  sessions:\n    default:\n      uri: <%= ENV['MONGOHQ_URL'] %>\n```\n\n\u3042\u3068\u306f\u8d77\u52d5\u3057\u3066\u307f\u308b\u3002\n\n```bash:bash\n% bundle exec unicorn_rails\nI, [2014-03-25T19:39:13.983735 #37567]  INFO -- : listening on addr=0.0.0.0:8080 fd=9\nI, [2014-03-25T19:39:13.983880 #37567]  INFO -- : worker=0 spawning...\nI, [2014-03-25T19:39:13.985256 #37567]  INFO -- : master process ready\nI, [2014-03-25T19:39:13.986196 #38022]  INFO -- : worker=0 spawned pid=38022\nI, [2014-03-25T19:39:13.986635 #38022]  INFO -- : Refreshing Gem list\nI, [2014-03-25T19:39:18.856479 #38022]  INFO -- : worker=0 ready\n```\n\n\u3046\u307e\u304f\u8d77\u52d5\u3057\u305f\u307f\u305f\u3044\u3002\u30d6\u30e9\u30a6\u30b6\u3067\u3001http://localhost:8080/ \u306b\u30a2\u30af\u30bb\u30b9\u3002\u521d\u56de\u30a2\u30af\u30bb\u30b9\u6642\u306b\u306fadmin\u30e6\u30fc\u30b6\u30fc\u306e\u767b\u9332\u753b\u9762\u304c\u51fa\u3066\u304f\u308b\u3002\n\n![locomotive-heroku.png](https://qiita-image-store.s3.amazonaws.com/0/1399/c4f20bc5-923d-7693-df80-d498dc4a4125.png \"locomotive-heroku.png\")\n\n\n\u8d77\u52d5\u3057\u305f\u306e\u3067\u3001Heroku \u306b deploy \u3057\u3066\u307f\u308b\u3002\u4ee5\u4e0b\u306e gem \u3092 Gemfile \u306b\u8ffd\u52a0\n\n```Gemfile\ngem 'locomotive-heroku', '~> 0.1.0', :require => 'locomotive/heroku'\ngem 'thin', :group => 'production'\n```\n\nheroku \u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u306e\u70ba Gemfile \u306egem\u8a2d\u5b9a\u304c\u59cb\u307e\u308b\u524d\u306b\u4ee5\u4e0b\u306e\u884c\u3092\u8ffd\u52a0\n\n```Gemfile\nruby '2.0.0'\n```\n\nbundle install\u3059\u308b\n\n```bash:bash\nbundle install\n```\n\nheroku \u4e0a\u306b\u65b0\u898f\u30a2\u30d7\u30ea\u4f5c\u6210\n\n```bash:bash\ngit init .\nheroku create <YOUR APP NAME>\nheroku config:add BUNDLE_WITHOUT=development:test\n```\n\nmongodb \u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n```bash:bash\nheroku addons:add mongohq:sandbox\n```\n\nconfig/mongid.yml \u306e production \u90e8\u5206\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\uff08mongo hq \u3092\u4f7f\u3046\u70ba\u306e\u8a2d\u5b9a\uff09\n\n```\nproduction:\n  sessions:\n    default:\n      uri: <%= ENV['MONGOHQ_URL'] %>\n```\n\n\uff08Heroku \u4e0a\u3067 mongohq \u3092\u6709\u52b9\u306b\u3057\u3066\u3044\u306a\u3051\u308c\u3070\u3001`heroku addons:add mongohq`\u3067\u6709\u52b9\u306b\u3059\u308b\u3053\u3068\uff09\n\n\u30e1\u30fc\u30eb\u9001\u4fe1\u7528\u306b SendGrid \u3092\u8a2d\u5b9a\n\n```bash:bash\nheroku addons:add sendgrid:starter\n```\n\nSendgrid\u3092\u4f7f\u3046\u3088\u3046\u306b config/environments/production.rb \u3092\u5909\u66f4\n\n```\nconfig.action_mailer.delivery_method = :smtp\nconfig.action_mailer.smtp_settings = {\n  :address        => 'smtp.sendgrid.net',\n  :port           => 25,\n  :authentication => :plain,\n  :user_name      => ENV['SENDGRID_USERNAME'],\n  :password       => ENV['SENDGRID_PASSWORD'],\n  :domain         => ENV['SENDGRID_DOMAIN']\n}\n```\n\nS3\u306e\u74b0\u5883\u8a2d\u5b9a\u3092\u3059\u308b\nS3_BUCKET_REGION \u306b\u3064\u3044\u3066\u306f[\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](http://doc.locomotivecms.com/get-started/heroku)\u3092\u53c2\u7167\u306e\u3053\u3068\n\n```bash:bash\nheroku config:add S3_KEY_ID=<YOUR S3 KEY ID>\nheroku config:add S3_SECRET_KEY=<YOUR S3 SECRET KEY>\nheroku config:add S3_BUCKET=<YOUR S3 BUCKET NAME>\nheroku config:add S3_BUCKET_REGION=<YOUR S3 BUCKET REGION>\n```\n\nconfig/initializers/locomotive.rb\u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\n\n```\nconfig.hosting = {\n  :target     => :heroku,\n  :api_key    => ENV['HEROKU_API_KEY'],\n  :app_name   => ENV['HEROKU_APP_NAME']\n}\n```\n\nHeroku \u306eAPI\u30ad\u30fc\u3068\u30a2\u30d7\u30ea\u540d\u3092\u30bb\u30c3\u30c8\u3059\u308b\n\n```bash:bash\nheroku config:add HEROKU_API_KEY=<YOUR HEROKU API KEY>\nheroku config:add HEROKU_APP_NAME=<YOUR APP NAME>\n```\n\n\u30c7\u30d0\u30c3\u30b0\u3092\u3057\u3084\u3059\u3044\u3088\u3046\u306b\u3001\u30a2\u30bb\u30c3\u30c8\u306e\u30d7\u30ea\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u6e08\u307e\u3059\u3002config/application.rb \u4e0a\u306e initialize_on_precompile \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u30aa\u30d5\u306b\u3059\u308b\nvi config/application.rb\n\n```\nmodule YourApplication\n  class Application < Rails::Application\n    ...\n    config.assets.initialize_on_precompile = false\n    ...\n  end\nend\n```\n\n\u30a2\u30bb\u30c3\u30c8\u306e\u30d7\u30ea\u30b3\u30f3\u30d1\u30a4\u30eb\u5b9f\u884c\n\n```\nbundle exec rake assets:precompile\n```\n\n\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u307f\u308b\n\n```\ngit add .\ngit commit -am \"launch it\"\ngit push heroku master\n```\n\n\u30a8\u30e9\u30fc\u304c\u3067\u306a\u3051\u308c\u3070OK.\n\u3042\u3068\u306f\u3001`heroku open` \u3067\u30b5\u30a4\u30c8\u3092\u78ba\u8a8d\u3057\u3066\u3001\u4e0a\u8a18\u3068\u540c\u3058\u3088\u3046\u306b\u767b\u9332\u753b\u9762\u304c\u51fa\u3066\u304d\u305f\u3089\u767b\u9332\u5b8c\u4e86\uff01\n\n---\nLocomotive \u95a2\u9023\u306e\u8a18\u4e8b\u4e00\u89a7\uff1a\n* [Locomotive Engine \u3092 Heroku \u3067\u52d5\u304b\u3059\u307e\u3067](http://qiita.com/hal_sk/items/0512a4a9cb215fb016f5)\n* [LocomotiveCMS \u3067\u30cb\u30e5\u30fc\u30b9\u8a18\u4e8b\u4e00\u89a7\u6a5f\u80fd\u3092\u4f5c\u308b](http://qiita.com/hal_sk/items/b72db4a288566e92096c)\n* [LocomotiveCMS \u306e\u30da\u30fc\u30b8\u306b\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\u3092\u7d44\u307f\u8fbc\u3080\uff08Engine\u306e\u62e1\u5f35\uff09](http://qiita.com/hal_sk/items/c6d4f5582d23bc4dd415)\n* [LocomotiveCMS + Devise \u3092\u4f7f\u3063\u3066\u4f5c\u3063\u305f\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306e\u30c7\u30b6\u30a4\u30f3\u3092CMS\u5074\u3067\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b(1)](http://qiita.com/hal_sk/items/50c45f764cb95615dd59)\n* [LocomotiveCMS + Devise \u3092\u4f7f\u3063\u3066\u4f5c\u3063\u305f\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306e\u30c7\u30b6\u30a4\u30f3\u3092CMS\u5074\u3067\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b(2)](http://qiita.com/hal_sk/items/c0f56736398f1154ddca)\n* [LocomotiveCMS + Devise \u3092\u4f7f\u3063\u3066\u4f5c\u3063\u305f\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306e\u30c7\u30b6\u30a4\u30f3\u3092CMS\u5074\u3067\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b(3)](http://qiita.com/hal_sk/items/92d653f47ddadb6d879c)\n* [LocomotiveCMS \u3067\u3001\u8907\u6570\u306e Heroku \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f7f\u3046](http://qiita.com/hal_sk/items/aba8d324638d205b2ce1)", "tags": ["locomotivecms", "Rails", "Ruby", "CMS"]}