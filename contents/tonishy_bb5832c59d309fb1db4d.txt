{"context": "\n\n0. \u306f\u3058\u3081\u306b\n\nAWS CloudTrail \u30b5\u30fc\u30d3\u30b9\u3092\u7406\u89e3\u3001\u6d3b\u7528\u3059\u308b\u305f\u3081\u306b\u3001AWS CloudTrail User Guide (Version 1.0) \u3092\u4e00\u8aad\u3057\u3066\u3001\u500b\u4eba\u7528\u306b\u6982\u8981\u3068\u6700\u4f4e\u9650\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3079\u304d\u3053\u3068\u3092\u307e\u3068\u3081\u308b\u3002\n\u88dc\u8db3\u3084\u65e5\u672c\u8a9e\u8a33\u306f\u3001AWS CloudTrail \u306e \u3088\u304f\u3042\u308b\u8cea\u554f\u3068\u3001Google\u7ffb\u8a33\u3092\u53c2\u8003\u306b\u3057\u3066\u3044\u308b\u3002\nTrail=\u75d5\u8de1\u3001\u8a3c\u8de1\n\n\n0.1 CloudTrail\u8a2d\u5b9a\u3057\u305f\u3053\u3068\n\n\u521d\u3081\u3066 CloudTrail \u3092\u4f7f\u3046\u305f\u3081\u306e\u8a2d\u5b9a\n\n\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u8a2d\u5b9a(\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u306e\u307e\u307e)\nCloudTrail\u30ed\u30b0\u3092CloudWatch Logs\u3078\u9001\u4fe1\u3059\u308b\u8a2d\u5b9a\n\u30eb\u30fc\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u8a8d\u8a3c\u60c5\u5831\u3092\u4f7f\u7528\u3057\u3066AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u305f\u3068\u304d\u306b\u901a\u77e5\u3059\u308b\nMFA\u3092\u4f7f\u7528\u3057\u3066\u3044\u306a\u3044\u30b3\u30f3\u30bd\u30fc\u30eb\u30b5\u30a4\u30f3\u30a4\u30f3\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306b\u901a\u77e5\u3059\u308b\nCloudTrail \u30ed\u30b0\u3092 Amazon ES \u3078\u9001\u308b\n\n\nAWS CloudTrail User Guide (Version 1.0)\n\n\n1. What is AWS CloudTrail?\n\n\nAWS CloudTrail \u306f\u3001AWS CloudTrail \u3092\u6709\u52b9(\u30ed\u30b0\u8a18\u9332 ON)\u306b\u3057\u305fAWS\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u3057\u3066\u6b21\u306e\u3082\u306e\u3092\u4f7f\u7528\u3057\u3066API\u547c\u3073\u51fa\u3057\u3092\u884c\u3063\u305f\u8a18\u9332(\u8a3c\u8de1\u60c5\u5831)\u3092Amazon S3\u30d0\u30b1\u30c3\u30c8\u306b\u8a18\u9332\u3059\u308b\u30b5\u30fc\u30d3\u30b9\u3002\n\n\nAWS \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\nAWS SDK\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb(AWS CLI)\n\u9ad8\u30ec\u30d9\u30eb\u306e AWS \u30b5\u30fc\u30d3\u30b9\uff08AWS CloudFormation \u306a\u3069\uff09\n\n\n\n\n\n\u8a18\u9332\u3055\u308c\u308b\u60c5\u5831\u306b\u306f\u3001API \u547c\u3073\u51fa\u3057\u5143\u306e ID\u3001API \u547c\u3073\u51fa\u3057\u5143\u306e\u30bd\u30fc\u30b9 IP \u30a2\u30c9\u30ec\u30b9\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3001\u304a\u3088\u3073 AWS \u30b5\u30fc\u30d3\u30b9\u304b\u3089\u8fd4\u3055\u308c\u305f\u5fdc\u7b54\u306e\u8981\u7d20\u304c\u542b\u307e\u308c\u307e\u3059\u3002\n\n\n\nAPI \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u5c65\u6b74\u306e\u8868\u793a\u4f8b\n\n\n\n\n\n\u53c2\u8003\n\n\nAWS CloudTrail\n\u3088\u304f\u3042\u308b\u8cea\u554f - \u5168\u822c\n\n\n\n\n1.1 How AWS CloudTrail Works\n\nAWS CloudTrail\u306e\u3057\u304f\u307f\n(1) CloudWatch Logs \u3068\u306e\u7d71\u5408\n\nCloudTrail \u3092 CloudWatch Logs \u3068\u7d71\u5408\u3059\u308b\u3068\u3001CloudTrail \u304c\u53d6\u5f97\u3057\u305f API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u304c\u3001\u6307\u5b9a\u3057\u305f CloudWatch Logs \u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306e CloudWatch Logs \u30ed\u30b0\u30b9\u30c8\u30ea\u30fc\u30e0\u306b\u9001\u3089\u308c\u307e\u3059\u3002\n\u3053\u306e\u7d71\u5408\u306b\u3088\u308a\u3001CloudTrail \u304c\u53d6\u5f97\u3057\u305f API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u306e SNS \u901a\u77e5\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001CloudWatch \u30a2\u30e9\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u3066\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3084\u30cd\u30c3\u30c8\u30ef\u30fc\u30af ACL \u3092\u4f5c\u6210\u3001\u5909\u66f4\u3001\u524a\u9664\u3059\u308b API \u547c\u3073\u51fa\u3057\u3092\u76e3\u8996\u3067\u304d\u307e\u3059\u3002\n\u5b9f\u969b\u306e\u8a2d\u5b9a\u4f8b\n\n\nCloudTrail\u30ed\u30b0\u3092CloudWatch Logs\u3078\u9001\u4fe1\u3059\u308b\u8a2d\u5b9a\nCloudWatch\u30a2\u30e9\u30fc\u30e0\u901a\u77e5\u8a2d\u5b9a\u4f8b\n\n\n\u53c2\u8003\n\n\n\u3088\u304f\u3042\u308b\u8cea\u554f - CloudWatch Logs \u3068\u306e\u7d71\u5408\nAWS CloudTrail\u30a4\u30d9\u30f3\u30c8\u76e3\u8996\u306e\u76ee\u7684\n\n\n\n(2) \u8a3c\u8de1\u60c5\u5831\u3092\u9069\u7528\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\n\nYou can create two types of trails:\nA trail that applies to all regions\nA trail that applies to one region\n\n\n\n\nAWS \u3067\u306f\u3001\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u3066\u3044\u308b\u3002\n\nAs a best practice, create a trail that applies to all regions in the AWS partition in which you are working.\n\u3061\u306a\u307f\u306b\u3001AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u8a8d\u8a3c\u30da\u30fc\u30b8\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306f\u3001URL\u306b\u300cus-east-1.signin.aws.amazon.com\u300d\u3068\u3042\u308b\u901a\u308a\u3001\u5fc5\u305a\u30d0\u30fc\u30b8\u30cb\u30a2\u5317\u90e8\u3068\u306a\u308b\u3002\u30b3\u30f3\u30bd\u30fc\u30eb\u30ed\u30b0\u30a4\u30f3\u76e3\u8996\u3092\u884c\u3044\u305f\u3044\u5834\u5408\u306f\u3001\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\n\n\u8a3c\u8de1\u60c5\u5831\u3092\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3059\u308b\n\n\nAWS \u30a2\u30ab\u30a6\u30f3\u30c8\u5185\u306e\u5168\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u5b9f\u884c\u3055\u308c\u305f API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u306e\u30ec\u30b3\u30fc\u30c9\u304c\u30011 \u3064\u306e S3 \u30d0\u30b1\u30c3\u30c8\u307e\u305f\u306f CloudWatch Logs \u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306b\u5c4a\u304d\u307e\u3059\u3002\nS3\u30d0\u30b1\u30c3\u30c8\u3067\u306f\u5404\u30ea\u30fc\u30b8\u30e7\u30f3\u540d\u306e\u30d0\u30b1\u30c3\u30c8\u306e\u4e2d\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304c\u8a18\u9332\u3055\u308c\u3001CloudWatch Logs\u3067\u306f\u3001\u4e00\u3064\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306b\u5168\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304c\u8a18\u9332\u3055\u308c\u308b\u3002\nAWS \u306b\u65b0\u3057\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u304c\u4f5c\u6210\u3055\u308c\u305f\u5834\u5408\u3001\u65b0\u3057\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u306e API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u3092\u542b\u3080\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304c\u5c4a\u304d\u307e\u3059\u3002\u304a\u5ba2\u69d8\u306e\u5074\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u4e0d\u8981\u3067\u3059\u3002\n\n\u8a3c\u8de1\u60c5\u5831\u3092\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3059\u308b\u3068\u3001CloudTrail \u306b\u3088\u3063\u3066\u8a3c\u8de1\u60c5\u5831\u8a2d\u5b9a\u304c\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3055\u308c\u3001\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u65b0\u3057\u3044\u8a3c\u8de1\u60c5\u5831\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002 CloudTrail \u306f\u305d\u308c\u305e\u308c\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u8a18\u9332\u3068\u51e6\u7406\u3092\u884c\u3044\u3001\u3059\u3079\u3066\u306e AWS \u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u306e API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u3092\u542b\u3080\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u5358\u4e00\u306e S3 \u30d0\u30b1\u30c3\u30c8\u304a\u3088\u3073\u5358\u4e00\u306e CloudWatch Logs \u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306b\u914d\u4fe1\u3057\u307e\u3059\u3002 \u30aa\u30d7\u30b7\u30e7\u30f3\u306e SNS \u30c8\u30d4\u30c3\u30af\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u5358\u4e00\u306e SNS \u30c8\u30d4\u30c3\u30af\u306b\u914d\u4fe1\u3055\u308c\u305f\u3059\u3079\u3066\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e SNS \u901a\u77e5\u304c CloudTrail \u306b\u3088\u3063\u3066\u914d\u4fe1\u3055\u308c\u307e\u3059\u3002\n\n\u65e2\u5b58\u306e\u8a3c\u8de1\u60c5\u5831\u3092\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3067\u304d\u307e\u3059\u3002\u65e2\u5b58\u306e\u8a3c\u8de1\u60c5\u5831\u3092\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3057\u305f\u5834\u5408\u3001CloudTrail \u306b\u3088\u308a\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u65b0\u3057\u3044\u8a3c\u8de1\u60c5\u5831\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\u901a\u5e38\u3001\u8a3c\u8de1\u60c5\u5831\u8a2d\u5b9a\u3092\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u305f\u3081\u306b\u304b\u304b\u308b\u6642\u9593\u306f 30 \u79d2\u672a\u6e80\u3067\u3059\u3002\n\n\n\u53c2\u8003\n\n\n\u3088\u304f\u3042\u308b\u8cea\u554f - \u8a3c\u8de1\u60c5\u5831\u3092\u9069\u7528\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\nAWS CloudTrail \u30a2\u30c3\u30d7\u30c7\u30fc\u30c8 \u2013 \u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u6709\u52b9\u306b\nReceiving CloudTrail Log Files from Multiple Regions\n\n\n\n(3) \u8a3c\u8de1\u60c5\u5831\u306e\u4fdd\u8b77\n\n\n\u6697\u53f7\u5316\u3001\u5236\u5fa1\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001CloudTrail \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306f S3 Server Side Encryption\uff08SSE\uff09\u3092\u4f7f\u7528\u3057\u3066\u6697\u53f7\u5316\u3055\u308c\u3001S3 \u30d0\u30b1\u30c3\u30c8\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\nAWS KMS \u4f7f\u7528\u3057\u3066\u6697\u53f7\u5316\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3002\nIAM \u307e\u305f\u306f S3 \u30d0\u30b1\u30c3\u30c8\u306e\u30dd\u30ea\u30b7\u30fc\u3092\u4f7f\u7528\u3057\u3066\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002\n\n\u3055\u3089\u306b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f\u3001S3 \u30d0\u30b1\u30c3\u30c8\u3067 S3 Multi Factor Authentication\uff08MFA\uff09Delete \u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\n\n\n\n\n\u4fdd\u6301\u671f\u9593\n\n\nCloudTrail \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u6301\u30dd\u30ea\u30b7\u30fc\u3067\u5236\u5fa1\u3057\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306f\u6c38\u7d9a\u7684\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\n\nAmazon S3 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u7ba1\u7406\u30eb\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001\u72ec\u81ea\u306e\u4fdd\u6301\u30dd\u30ea\u30b7\u30fc\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u53e4\u3044\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3057\u305f\u308a\u3001Amazon Glacier \u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\n\u53c2\u8003\n\n\u3088\u304f\u3042\u308b\u8cea\u554f - \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3068\u6709\u52b9\u671f\u9650\u5207\u308c\n\u3088\u304f\u3042\u308b\u8cea\u554f - AWS Key Management Service (KMS) \u3092\u4f7f\u7528\u3057\u305f CloudTrail \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u6697\u53f7\u5316\nAWS CloudTrail Update \u2013 SSE-KMS\u306e\u6697\u53f7\u5316\u3068\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u5408\u6027\u306e\u691c\u8a3c\nAWS CloudTrail \u3067 AWS KMS \u3092\u4f7f\u7528\u3059\u308b\u65b9\u6cd5\nEncrypting CloudTrail Log Files with AWS KMS\u2013Managed Keys (SSE-KMS)\n\n\n\n(4) \u30a4\u30d9\u30f3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u3001\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3001\u9001\u4fe1\u983b\u5ea6\n\n\u901a\u5e38\u3001CloudTrail \u306f\u3001API \u547c\u3073\u51fa\u3057\u304b\u3089 15 \u5206\u4ee5\u5185\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002\n\nCloudTrail \u306f S3 \u30d0\u30b1\u30c3\u30c8\u306b\u7d04 5 \u5206\u3054\u3068\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002 \u305d\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u3057\u3066 API \u306e\u547c\u3073\u51fa\u3057\u304c\u306a\u3044\u5834\u5408\u306f\u3001\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u9001\u4fe1\u3057\u307e\u305b\u3093\u3002\n\n\u53c2\u8003\n\n\n\u3088\u304f\u3042\u308b\u8cea\u554f - \u30a4\u30d9\u30f3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u3001\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3001\u9001\u4fe1\u983b\u5ea6\n\n\n\n\n1.2 CloudTrail Workflow\n\nCloudTrail\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306e\u624b\u9806\n\n1.3 CloudTrail Concepts\n\nCloudTrail\u306b\u95a2\u9023\u3059\u308b\u57fa\u672c\u7684\u306a\u6982\u5ff5\n(1) What Are Trails?\n(2) How Do You Manage CloudTrail?\nCloudTrail\u306e\u7ba1\u7406\u65b9\u6cd5\n\nCloudTrail Console\nCloudTrail CLI\nCloudTrail APIs\nAWS SDKs\n\n(3) How Do You Control Access to CloudTrail?\nCloudTrail \u7ba1\u7406\u306e\u305f\u3081\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u65b9\u6cd5\n\nIAM\u3092\u4f7f\u7528\u3057\u3066\u3001AWS CloudTrail\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3059\u3079\u3066\u306e\u30e6\u30fc\u30b6\u30fc\u306e\u305f\u3081\u306e\u500b\u5225\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3042\u306a\u305f\u81ea\u8eab\u306e\u305f\u3081\u306bIAM\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u3001\u305d\u306eIAM\u30e6\u30fc\u30b6\u30fc\u306b\u7ba1\u7406\u6a29\u9650\u3092\u4e0e\u3048\u3001\u3059\u3079\u3066\u306e\u4f5c\u696d\u306b\u305d\u306eIAM\u30e6\u30fc\u30b6\u30fc\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001CloudTrail\u306e\u30e6\u30fc\u30b6\u30fc\u6a29\u9650\u306e\u5236\u5fa1\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n(4) How Do You Use Event Selectors?\n\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u306e\u4f7f\u3044\u65b9\n\n\u30a4\u30d9\u30f3\u30c8(API\u547c\u3073\u51fa\u3057)\u304c\u767a\u751f\u3059\u308b\u3068\u3001CloudTrail\u306f\u3059\u3079\u3066\u306e\u8a3c\u8de1\u60c5\u5831\u306b\u5bfe\u3057\u3066\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u3092\u8a55\u4fa1\u3059\u308b\u3002\n\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u3067\u306f\u3001\u8a18\u9332\u3057\u305f\u3044\u30a4\u30d9\u30f3\u30c8\u306e\u30bf\u30a4\u30d7\u3092\u8a2d\u5b9a\u3059\u308b\u3002\u767a\u751f\u3057\u305f\u30a4\u30d9\u30f3\u30c8(API\u547c\u3073\u51fa\u3057)\u306e\u5185\u5bb9\u3068\u3001\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u3067\u8a2d\u5b9a\u3057\u305f\u30bf\u30a4\u30d7\u304c\u4e00\u81f4\u3059\u308b\u5834\u5408\u306f\u3001\u8a18\u9332\u3059\u308b\u3002\u4e00\u81f4\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u8a18\u9332\u3057\u306a\u3044\u3002\n\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u306e\u8a2d\u5b9a\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u5b9f\u969b\u306e\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u306e\u8a2d\u5b9a\n\n(5) How Do You Perform Monitoring with CloudTrail?\nCloudTrail\u3092\u4f7f\u3063\u305f\u76e3\u8996\u65b9\u6cd5\n\nAmazon CloudWatch\u306f\u3001AWS\u4e0a\u3067\u5b9f\u884c\u3059\u308bAmazon Web Services \u30ea\u30bd\u30fc\u30b9\u304a\u3088\u3073\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u76e3\u8996\u3059\u308b\u30e1\u30c8\u30ea\u30c3\u30af\u3092\u53ce\u96c6\u304a\u3088\u3073\u8ffd\u8de1\u3059\u308bWeb\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002Amazon CloudWatch Logs\u306fCloudWatch\u306e\u6a5f\u80fd\u3067\u3001\u7279\u306b\u30ed\u30b0\u30c7\u30fc\u30bf\u306e\u76e3\u8996\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\nCloudWatch\u30ed\u30b0\u3068\u306e\u7d71\u5408\u306b\u3088\u308a\u3001CloudTrail\u306fAWS\u30a2\u30ab\u30a6\u30f3\u30c8\u306eAPI\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u3092\u542b\u3080\u30a4\u30d9\u30f3\u30c8\u3092CloudWatch\u30ed\u30b0\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306b\u9001\u4fe1\u3067\u304d\u307e\u3059\u3002 CloudWatch\u30ed\u30b0\u306b\u9001\u4fe1\u3055\u308c\u308bCloudTrail\u30a4\u30d9\u30f3\u30c8\u306f\u3001\u5b9a\u7fa9\u3057\u305f\u30e1\u30c8\u30ea\u30c3\u30af\u30d5\u30a3\u30eb\u30bf\u306b\u5f93\u3063\u3066\u30a2\u30e9\u30fc\u30e0\u3092\u30c8\u30ea\u30ac\u3067\u304d\u307e\u3059\u3002\n\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001Amazon CloudWatch\u30ed\u30b0\u3067CloudTrail\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u76e3\u8996\u3059\u308b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u5b9f\u969b\u306e\u8a2d\u5b9a\u4f8b\n\n\nCloudTrail\u30ed\u30b0\u3092CloudWatch Logs\u3078\u9001\u4fe1\u3059\u308b\u8a2d\u5b9a\nCloudWatch\u30a2\u30e9\u30fc\u30e0\u901a\u77e5\u8a2d\u5b9a\u4f8b\n\n\n\n(6) How Does CloudTrail Behave Regionally and Globally?\nCloudTrail\u306f\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u3084\u30b0\u30ed\u30fc\u30d0\u30eb\u3069\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3059\u308b\u304b\n\n\nWhat are the advantages of applying a trail to all regions?\n\u8a3c\u8de1\u60c5\u5831\u3092\u5168\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3059\u308b\u5229\u70b9\n\n\nThe configuration settings for the trail apply consistently across all regions.CloudTrail\u8a2d\u5b9a\u306f\u3001\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u4e00\u8cab\u3057\u3066\u9069\u7528\u3055\u308c\u307e\u3059\u3002\n\nYou receive log files from all regions in a single S3 bucket and optionally in a  * CloudWatch Logs log group.1\u3064\u306eS3\u30d0\u30b1\u30c3\u30c8\u5185\u306e\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066CloudWatch Logs \u306e\u30ed\u30b0\u30fb\u30b0\u30eb\u30fc\u30d7\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u9001\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\nYou manage trail configuration for all regions from one location.\n1\u3064\u306e\u5834\u6240(\u4f8b\u3048\u3070\u3001\u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3)\u304b\u3089\u3059\u3079\u3066\u306e\u5730\u57df\u306eCloudTrail\u8a2d\u5b9a\u3092\u7ba1\u7406\u3057\u307e\u3059\u3002\n\nYou immediately receive events from a new region. When a new region launches, CloudTrail automatically creates a trail for you in the new region with the same settings as your original trail.\u65b0\u3057\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u304c\u30ed\u30fc\u30f3\u30c1\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306b\u305d\u306e\u65b0\u3057\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u306eCloudTrail\u8a2d\u5b9a\u304c\u306a\u3055\u308c\u308b\u3002\n\nYou can create trails in regions that you don't use often to monitor for unusual activity.\n\n\n\n\n\nWhat happens when you apply a trail to all regions?\n\u8a3c\u8de1\u60c5\u5831\u3092\u5168\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3059\u308b\u3068\u3069\u3046\u306a\u308b\u304b\n\n\nCloudTrail delivers log files for API activity from all regions to the single Amazon S3 bucket that you specify, and optionally to a CloudWatch Logs log group.CloudTrail\u306f\u3001API\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u3001\u6307\u5b9a\u3057\u305f\u5358\u4e00\u306eAmazon S3\u30d0\u30b1\u30c3\u30c8\u306b\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306fCloudWatch\u30ed\u30b0\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306b\u914d\u4fe1\u3057\u307e\u3059\u3002\n\nIf you configured an Amazon SNS topic for the trail, SNS notifications about log file deliveries in all regions are sent to that single SNS topic.\nCloudWatch \u30a2\u30e9\u30fc\u30e0\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3067SNS\u30c8\u30d4\u30c3\u30af\u3092\u8a2d\u5b9a\u3057\u305f\u5834\u5408\u306f\u3001\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u914d\u4fe1\u306b\u95a2\u3059\u308bSNS\u901a\u77e5\u304c\u305d\u306e\u5358\u4e00\u306eSNS\u30c8\u30d4\u30c3\u30af\u306b\u9001\u4fe1\u3055\u308c\u307e\u3059\u3002\n\nGlobal service events will be delivered from a single region to your specified S3 bucket and to your CloudWatch Logs log group if you configured one for the trail. For information about global service events, see About global service events.\u30b0\u30ed\u30fc\u30d0\u30eb\u30b5\u30fc\u30d3\u30b9\u30a4\u30d9\u30f3\u30c8\u306f\u30011\u3064\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u6307\u5b9a\u3057\u305fS3\u30d0\u30b1\u30c3\u30c8\u3001\u304a\u3088\u3073CloudWatch Logs\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306b\u914d\u4fe1\u3055\u308c\u307e\u3059\u3002\n\nIf you enabled log file integrity validation, log file integrity validation is enabled in all regions for the trail. For information about log file integrity validation, see Validating CloudTrail Log File Integrity.\n\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u5408\u6027\u691c\u8a3c\u3092\u6709\u52b9\u306b\u3057\u305f\u5834\u5408\u3001\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u5408\u6027\u691c\u8a3c\u306f\u3059\u3079\u3066\u306e\u9818\u57df\u3067\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\n\nMultiple trails per region - \u8907\u6570\u306e\u8a3c\u8de1\u60c5\u5831\n\n\n1 \u3064\u306e AWS \u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u3064\u304d\u6700\u5927 5 \u3064\u306e\u8a3c\u8de1\u60c5\u5831\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3055\u308c\u308b\u8a3c\u8de1\u60c5\u5831\u306f\u5404\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u5b58\u5728\u3057\u3001\u305d\u308c\u305e\u308c\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3067 1 \u3064\u306e\u8a3c\u8de1\u60c5\u5831\u3068\u3057\u3066\u6570\u3048\u3089\u308c\u307e\u3059\u3002\u305f\u3060\u3057\u3001\uff12\u3064\u4ee5\u4e0a\u8a3c\u8de1\u60c5\u5831\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u306f\u3001\u8cbb\u7528\u304c\u767a\u751f\u3059\u308b\u3002\n\n\u8907\u6570\u306e\u8a3c\u8de1\u60c5\u5831\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7ba1\u7406\u8005\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u958b\u767a\u8005\u3001\u304a\u3088\u3073 IT \u76e3\u67fb\u4eba\u3068\u3044\u3063\u305f\u3055\u307e\u3056\u307e\u306a\u5229\u5bb3\u95a2\u4fc2\u8005\u304c\u72ec\u81ea\u306e\u8a3c\u8de1\u60c5\u5831\u3092\u4f5c\u6210\u3057\u3001\u7ba1\u7406\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7ba1\u7406\u8005\u306f\u3001\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3055\u308c\u308b\u8a3c\u8de1\u60c5\u5831\u3092\u4f5c\u6210\u3057\u30011 \u3064\u306e KMS \u30ad\u30fc\u3092\u4f7f\u7528\u3057\u305f\u6697\u53f7\u5316\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u958b\u767a\u8005\u306f\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u554f\u984c\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u7528\u306b\u30011 \u3064\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3055\u308c\u308b\u8a3c\u8de1\u60c5\u5831\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\n\u30ea\u30bd\u30fc\u30b9\u30ec\u30d9\u30eb\u306e\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3092\u4f7f\u7528\u3057\u3066\u304d\u3081\u7d30\u304b\u306a\u30a2\u30af\u30bb\u30b9\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30dd\u30ea\u30b7\u30fc\u3092\u4f5c\u6210\u3059\u308c\u3070\u3001\u7279\u5b9a\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3057\u3066\u3001\u7279\u5b9a\u306e\u8a3c\u8de1\u60c5\u5831\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u307e\u305f\u306f\u62d2\u5426\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u53c2\u8003\n\u3088\u304f\u3042\u308b\u8cea\u554f - \u8907\u6570\u306e\u8a3c\u8de1\u60c5\u5831\n\n\n\n\nAWS Security Token Service (AWS STS) and CloudTrail\n\n(7) About global service events\n\u30b0\u30ed\u30fc\u30d0\u30eb\u30fb\u30b5\u30fc\u30d3\u30b9\u30a4\u30d9\u30f3\u30c8\u306b\u3064\u3044\u3066\n\n\nFor global services such as IAM, AWS STS, and Amazon CloudFront, events are delivered to any trail that has the Include global services option enabled.\nIAM\u3001AWS STS\u3001Amazon CloudFront\u306a\u3069\u306e\u30b0\u30ed\u30fc\u30d0\u30eb\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001[\u30b0\u30ed\u30fc\u30d0\u30eb\u30b5\u30fc\u30d3\u30b9\u3092\u542b\u3081\u308b]\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30c8\u30ec\u30a4\u30eb\u306b\u30a4\u30d9\u30f3\u30c8\u304c\u914d\u4fe1\u3055\u308c\u307e\u3059\u3002\n\nAWS OpsWorks and Amazon Route 53 actions are logged in the US East (N. Virginia) Region.AWS OpsWorks\u304a\u3088\u3073Amazon Route 53\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u3001\u7c73\u56fd\u6771\u90e8\uff08N. Virginia: us-east-1\uff09\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u8a18\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nAWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u8a8d\u8a3c\u30da\u30fc\u30b8\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u30ed\u30b0\u3082\u3001\u7c73\u56fd\u6771\u90e8\uff08N. Virginia: us-east-1\uff09\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u8a18\u9332\u3055\u308c\u308b\u3002\n\n(8) How Does CloudTrail Relate to Other AWS Monitoring Services?\n(9) Partner Solutions\n\n1.4 CloudTrail Supported Services\n\nCloudTrail Supported Services \u4e00\u89a7\nCloudTrail \u30c8\u30d4\u30c3\u30af \u4e00\u89a7\n\n\n1.5 CloudTrail Supported Regions\n\nCloudTrail\u3000\u30b5\u30fc\u30d3\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u30ea\u30fc\u30b8\u30e7\u30f3 \u4e00\u89a7\n\n\n1.6 CloudTrail Log File Examples\n\n(1) CloudTrail Log File Name Format\n(2) Log File Examples\n\nAmazon EC2 Log Examples\nIAM Log Examples\nError Code and Message Log Example\n\n\n2. Getting Started with CloudTrail\n\n\n2.1 Creating and Updating Your Trail\n\n\n2.1.1 Creating and Updating a Trail with the CloudTrail Console\n\nAWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089CloudTrail\u3092\u8a2d\u5b9a\u3059\u308b\n\n2.1.1.1 Creating a Trail for the First Time\n\n\u521d\u3081\u3066 CloudTrail \u3092\u4f7f\u3046\u305f\u3081\u306e\u8a2d\u5b9a\n\nCloudTrail\u30b5\u30fc\u30d3\u30b9\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u3002AWS\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210\u5f8c\u306b\u3001\u6b21\u306e\u624b\u9806\u3067\u30b5\u30fc\u30d3\u30b9\u3092\u958b\u59cb\u3055\u305b\u308b\u3002\n\n\nAWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u624b\u9806\n\n\n1) \u7ba1\u7406\u8005\u6a29\u9650\u30dd\u30ea\u30b7\u30fc\u304c\u4ed8\u52a0\u3055\u308c\u305fIAM\u30e6\u30fc\u30b6 \u3067AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u3001CloudTrail\u30b5\u30fc\u30d3\u30b9\u3078\u9077\u79fb\u3059\u308b\u3002(\u53c2\u8003:IAM \u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b6\u30fc\u304a\u3088\u3073\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210)\nhttps://console.aws.amazon.com/cloudtrail/\n2) \u4eca\u3059\u3050\u59cb\u3081\u308b\n3) \u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u6771\u4eac\u3068\u3059\u308b\n\nChoose the region where you want the trail to be based.\n\n4) CloudTrail \u306e\u6709\u52b9\u5316\n\n\u8a3c\u8de1\u540d: trail-test\n\n\u30fb \u547d\u540d\u898f\u5247\n\n\u8a3c\u8de1\u60c5\u5831\u3092\u5168\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528: \u306f\u3044\n\n\u30fb AWS\u306e\u63a8\u5968\u8a2d\u5b9a\u306f\u300c\u306f\u3044\u300d\n\n\u65b0\u3057\u3044 S3 \u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u304b: \u306f\u3044\n\n\u30fb \u3044\u3044\u3048\u3092\u9078\u629e\u3057\u305f\u5834\u5408\u306f\u3001\u65e2\u5b58\u306eS3\u30d0\u30b1\u30c3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3002\u305d\u306eS3\u30d0\u30b1\u30c3\u30c8\u306f\u3001CloudTrail\u7528\u306e\u30d0\u30b1\u30c3\u30c8\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\nS3 \u30d0\u30b1\u30c3\u30c8: toru-nishimura-trail-test\n\n\u30fb \u65b0\u3057\u304f\u4f5c\u6210\u3059\u308bS3\u306e\u30d0\u30b1\u30c3\u30c8\u540d\u3092\u5165\u529b\u3059\u308b\u3002\n\u30fb \u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u4e00\u610f\u306e\u540d\u524d\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\uff08\u5168\u4e16\u754c\u306eAWS S3\u5229\u7528\u8005\u304c\u3059\u3067\u306b\u540d\u4ed8\u3051\u305f\u30d0\u30b1\u30c3\u30c8\u540d\u306f\u4f7f\u7528\u3067\u304d\u306a\u3044\uff09\u3002\n\u30fb \u547d\u540d\u898f\u5247\n\n\u8a73\u7d30\n\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\n\n\u30fb \u4eca\u56de\u306f\u7121\u8a18\u5165\n\n\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u691c\u8a3c\u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u304b\u3002: \u306f\u3044\n\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u914d\u4fe1\u306e\u305f\u3073\u306b SNS \u901a\u77e5\u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u304b: \u3044\u3044\u3048\n\u6709\u52b9\u5316\n\n4) \u78ba\u8a8d\n\n\u30fbCloudTrail \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\n\u3000https://console.aws.amazon.com/cloudtrail/\n\n\u30fbtrail-test \u8a2d\u5b9a\u753b\u9762\n\n\n\u25bcS3\u3000\u8a2d\u5b9a\u9805\u76ee\u306e\u300c\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u6697\u53f7\u5316\u3057\u307e\u3059\u304b\u3002\u300d\u8a2d\u5b9a\u306b\u95a2\u3057\u3066\n\u30fb\u3053\u306e\u8a2d\u5b9a\u306f\u3001trail\u4f5c\u6210\u6642\u306e\u753b\u9762\u306b\u306f\u306a\u304b\u3063\u305f\u3002trail\u4f5c\u6210\u5f8c\u306b\u5909\u66f4\u3067\u304d\u308b\u8a2d\u5b9a\u3060\u3068\u601d\u308f\u308c\u308b\u3002\n\u30fb\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u300c\u3044\u3044\u3048\u300d\u3068\u306a\u3063\u3066\u3044\u3066\u3001\u6697\u53f7\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u611f\u3058\u3060\u3051\u3069\u3001\u304d\u3063\u3068\u3001S3 Server Side Encryption\uff08SSE\uff09 \u306f\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3002\n\u30fb\u3053\u3053\u3067\u8a00\u3046\u6697\u53f7\u5316\u3068\u306f\u3001KMS \u3092\u4f7f\u7528\u3057\u3066\u6697\u53f7\u5316\u3059\u308b\u304b\u3069\u3046\u304b\u3001\u3068\u3044\u3046\u3053\u3068\u3060\u3068\u601d\u308f\u308c\u308b\u3002\n\n\u30fbS3\u30d0\u30b1\u30c3\u30c8\n\n\u30fb S3\u306bCloudTrail\u7528\u30d0\u30b1\u30c3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n\n\u30fb\u8a3c\u8de1\u60c5\u5831\u3092\u5168\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u306b\u3057\u305f\u305f\u3081\u3001\u73fe\u5728\u5b58\u5728\u3059\u308b\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u540d\u306e\u30d0\u30b1\u30c3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002\n\u4f5c\u6210\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u9045\u304f\u3066\u3082\uff12\uff10\u5206\u306f\u5f85\u3063\u3066\u304b\u3089\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3002\n\u30fb\u30d0\u30b1\u30c3\u30c8\u4f5c\u6210\u4ee5\u964d\u306b\u65b0\u3057\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u304c\u30ed\u30fc\u30f3\u30c1\u3057\u305f\u5834\u5408\u306f\u3001\u81ea\u52d5\u7684\u306b\u305d\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u540d\u306e\u30d0\u30b1\u30c3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b\u306f\u305a\u3002\n\n\u30fb \u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3\u30d0\u30b1\u30c3\u30c8\u306e\u4e2d\u306e CloudTrail Log\u3000\u3092\u78ba\u8a8d\u3002\n\n\n\u30fbCloudTrail \u3092\u6709\u52b9\u5316\u3057\u305f\u76f4\u5f8c\u304b\u3089\u3001\u8a3c\u8de1\u60c5\u5831\u306fS3\u30d0\u30b1\u30c3\u30c8\u3078\u8ee2\u9001\u3055\u308c\u308b\u3002\u305f\u3060\u3057\u3001S3\u30d0\u30b1\u30c3\u30c8\u3078\u8ee2\u9001\u3055\u308c\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u306f\u3001\u9045\u304f\u3066\u3082\uff12\uff10\u5206\u3002\n\u30fbFinding Your CloudTrail Log Files\n\u30fbReading Your CloudTrail Log Files\n\n\u30fb trail\u4f5c\u6210\u6642\u306b\u300c\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u691c\u8a3c\u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u304b\u3002: \u306f\u3044\u300d\u3068\u3057\u305f\u5834\u5408\u306f\u3001\uff11\u6642\u9593\u5f8c\u304f\u3089\u3044\u306bDigest \u30d0\u30b1\u30c3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002\n\n\n\n5) S3 CloudTrail\u30ed\u30b0\u7528\u30d0\u30b1\u30c3\u30c8\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u8a2d\u5b9a\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306f\u6c38\u7d9a\u7684\u306b\u4fdd\u5b58\u3055\u308c\u308b\u3002\n\u4eca\u56de\u306f\u3001\uff13\uff10\u65e5\u7d4c\u904e\u3057\u305f\u3082\u306e\u306fS3\u30d0\u30b1\u30c3\u30c8\u304b\u3089\u5b8c\u5168\u306b\u524a\u9664\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3046\n\nS3 \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\n\u3000https://console.aws.amazon.com/s3/\nCloudTrail\u7528\u30d0\u30b1\u30c3\u30c8\u306e\u866b\u773c\u93e1\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3000\u21d2\u3000\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\n\n\n\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3059\u308b\n\n\u6b21\u306e\u30eb\u30fc\u30eb\u3092\u9069\u7528: \u30d0\u30b1\u30c3\u30c8\u5168\u4f53: toru-nishimura-trail-test\n\u5b8c\u5168\u306b\u524a\u9664: 30\n\u30eb\u30fc\u30eb\u540d: cloudtrail-logs-delete\n\n\n\u4f5c\u6210\u5b8c\u4e86\n\n\n\n\n2.1.1.2 Adding a Trail\n\n\u8a3c\u8de1\u60c5\u5831\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\n\n\u53c2\u8003\nMultiple trails per region - \u8907\u6570\u306e\u8a3c\u8de1\u60c5\u5831\n\n\n\n2.1.1.3 Updating a Trail\n\nCloudTrail\u8a2d\u5b9a\u3092\u4f5c\u6210\u3057\u305f\u5f8c\u3067\u8a2d\u5b9a\u53ef\u80fd\u306b\u306a\u308b\u3082\u306e\n\nS3\u30d0\u30b1\u30c3\u30c8\u306eKMS\u6697\u53f7\u5316\nCloudWatch Logs\u8a2d\u5b9a\n\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u8a2d\u5b9a\n\u30bf\u30b0\u8a2d\u5b9a\n\n\n2.1.1.4 Deleting a Trail\n\n\u8a3c\u8de1\u60c5\u5831\u306e\u524a\u9664\n\n2.1.1.5 Turning off Logging for a Trail\n\n\u8a3c\u8de1\u60c5\u5831\u306e\u30ed\u30b0\u8a18\u9332\u3092\u7121\u52b9\u5316\n\n2.1.2 Creating and Updating a Trail with the AWS Command Line Interface\n\n\n2.1.3 CloudTrail Trail Naming Requirements\n\n\n2.1.4 Amazon S3 Bucket Naming Requirements\n\n\n2.1.5 Amazon S3 Bucket Policy for CloudTrail\n\n\n2.1.6 AWS KMS Alias Naming Requirements\n\n\n2.2 Viewing Events with CloudTrail API Activity History\n\nAPI \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u5c65\u6b74\n\n\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c8\u3084\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u7b49\u306e\u8abf\u67fb\u30fb\u78ba\u8a8d\u30fb\u76e3\u67fb\u7528\u3068\u3057\u3066\u3001\u76f4\u8fd1\uff17\u65e5\u9593\u306e\u8a3c\u8de1\u60c5\u5831(API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u5c65\u6b74)\u3092S3\u304b\u3089\u3067\u306f\u306a\u304fCloudTrail console, AWS CLI, or AWS SDKs \u304b\u3089\u95b2\u89a7\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n\n2.2.1 Viewing CloudTrail Events in the CloudTrail Console\n\n\u8a3c\u8de1\u60c5\u5831\u3092\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306eCloudTrail \u306e API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u5c65\u6b74\u304b\u3089\u78ba\u8a8d\u3059\u308b\nhttps://console.aws.amazon.com/cloudtrail/home/\n\u21d2 API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u5c65\u6b74\n\n\u30d5\u30a3\u30eb\u30bf\u30fc\u3067\u5c5e\u6027(\u30e6\u30fc\u30b6\u30fc\u540d,\u30a4\u30d9\u30f3\u30c8\u540d,\u30ea\u30bd\u30fc\u30b9\u30bf\u30a4\u30d7,\u30ea\u30bd\u30fc\u30b9\u540d,\u30a4\u30d9\u30f3\u30c8ID)\u3092\u3001\u6642\u9593\u7bc4\u56f2\u3067\u958b\u59cb\u6642\u9593\u3068\u7d42\u4e86\u6642\u9593\u3092\u6307\u5b9a\u3057\u3066\u3001\u76ee\u7684\u306e\u60c5\u5831\u3092\u7d5e\u308b\u4e8b\u304c\u53ef\u80fd\u3002\n\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30c8\u306e\u5404\u884c\u306e\u5de6\u306e\u25b6\u3092\u30c9\u30ea\u30eb\u30c0\u30a6\u30f3\u3059\u308b\u3053\u3068\u3067\u8a73\u7d30\u60c5\u5831\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\nAWS Config \u3092\u6709\u52b9\u306b\u3059\u308c\u3070\u3001\u305d\u306e\u30a4\u30d9\u30f3\u30c8\u306b\u95a2\u4fc2\u3059\u308b AWS Config \u60c5\u5831\u3082\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n\n2.2.2 Viewing CloudTrail Events with the AWS CLI\n\n\n2.2.3 Regions Supported by CloudTrail API Activity History\n\n\n2.2.4 Services Supported by CloudTrail API Activity History\n\n\n2.2.5 Resource Types Supported by CloudTrail API Activity History\n\n\n2.3 Controlling User Permissions for CloudTrail\n\n\n2.4 Getting and Viewing Your CloudTrail Log Files\n\n\n2.4.1 Finding Your CloudTrail Log Files\n\n\n2.4.2 Reading Your CloudTrail Log Files\n\n\n2.5 Configuring Amazon SNS Notifications for CloudTrail\n\n\n3. Working with CloudTrail Log Files\n\n\n3.1 Create Multiple Trails\n\n\n\u5229\u7528\u4f8b\n\n\nA security administrator creates a trail in the EU (Ireland) Region and configures KMS log file encryption. The log files are delivered to a separate S3 bucket.\nA developer creates a trail in the EU (Frankfurt) Region and configures CloudWatch alarms to receive notifications for specific API activity.\nAn IT auditor creates a trail in the EU (Ireland) Region and configures log file integrity validation to ensure the log files have not changed since CloudTrail delivered them.\n\nAnother developer creates a trail in the EU (Frankfurt) Region and configures SNS. The log files are delivered to a separate S3 bucket.\n\n\n\n\n\n\n3.2 Configuring Event Selectors for Trails\n\n\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u8a2d\u5b9a\n\n\uff11\u3064\u306e\u8a3c\u8de1\u60c5\u5831\u8a2d\u5b9a\u306e\u4e2d\u3067\u3001\u8a18\u9332\u3057\u305f\u3044\u30a4\u30d9\u30f3\u30c8\u306e\u30bf\u30a4\u30d7\u3092\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u3067\u9078\u629e\u3059\u308b(\u6700\u5927\uff15\u3064)\u3002\n\n\n\u30a4\u30d9\u30f3\u30c8(API\u547c\u3073\u51fa\u3057)\u306e\u30bf\u30a4\u30d7\n\n\n\u30c7\u30fc\u30bf\u30a4\u30d9\u30f3\u30c8\n\u30fb Amazon S3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ec\u30d9\u30eb\u306eAPI\u64cd\u4f5c\u306e\u30ed\u30b0(GetObject\u3001DeleteObject\u3001PutObject\u306a\u3069)\u306e\u3053\u3068\u3002\n\u30fb \u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30a4\u30d9\u30f3\u30c8\u3092\u8a18\u9332\u3057\u3066\u3044\u306a\u3044\u3002\n\u30fb \u30c7\u30fc\u30bf\u30a4\u30d9\u30f3\u30c8\u3092\u30ed\u30b0\u3059\u308b\u306b\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u306e S3 \u30ea\u30bd\u30fc\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u30fb \u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u8ffd\u52a0\u6599\u91d1\u304c\u9069\u7528\u3055\u308c\u307e\u3059\u3002 \n\n\n\u7ba1\u7406\u30a4\u30d9\u30f3\u30c8\n\u30fb \u30c7\u30fc\u30bf\u30a4\u30d9\u30f3\u30c8\u4ee5\u5916\u306e\u3059\u3079\u3066\u306e\u30a4\u30d9\u30f3\u30c8\u306e\u3053\u3068\u3002\n\u30fb \u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u306f\u3001\u7ba1\u7406\u30a4\u30d9\u30f3\u30c8\u306e\u8aad\u307f\u8fbc\u307f/\u66f8\u304d\u8fbc\u307f\u30a4\u30d9\u30f3\u30c8\u3092\u8a18\u9332\u3057\u3066\u3044\u308b\u3002\n\n\n\u8aad\u307f\u8fbc\u307f\u30a4\u30d9\u30f3\u30c8\n\u30fb \u30ea\u30bd\u30fc\u30b9\u306b\u4f55\u306e\u5909\u66f4\u3092\u52a0\u3048\u306a\u3044\u30a4\u30d9\u30f3\u30c8\u306e\u3053\u3068\u3002\n\n\n\u66f8\u304d\u8fbc\u307f\u30a4\u30d9\u30f3\u30c8\n\u30fb \u30ea\u30bd\u30fc\u30b9\u306b\u4f55\u304b\u3057\u3089\u306e\u5909\u66f4\u3092\u52a0\u3048\u308b\u30a4\u30d9\u30f3\u30c8\u306e\u3053\u3068\u3002\n\n\n\n\n\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\n\n\n\n\n\n3.3 Receiving CloudTrail Log Files from Multiple Regions\n\n\n3.4 Monitoring CloudTrail Log Files with Amazon CloudWatch Logs\n\nAmazon CloudWatch\u30ed\u30b0\u3092\u4f7f\u7528\u3057\u3066\u3001CloudTrail\u30ed\u30b0\u306e\u76e3\u8996\u3092\u884c\u3046\n\n3.4.1 Sending CloudTrail Events to CloudWatch Logs\n\nCloudTrail\u30ed\u30b0\u3092CloudWatch Logs\u3078\u9001\u4fe1\u3059\u308b\u8a2d\u5b9a\n\nAWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u624b\u9806\n\n\n1) \u7ba1\u7406\u8005\u6a29\u9650\u30dd\u30ea\u30b7\u30fc\u304c\u4ed8\u52a0\u3055\u308c\u305fIAM\u30e6\u30fc\u30b6 \u3067AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u3001CloudTrail\u30b5\u30fc\u30d3\u30b9\u3078\u9077\u79fb\u3059\u308b\u3002(\u53c2\u8003:IAM \u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b6\u30fc\u304a\u3088\u3073\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210)\n\u3000https://console.aws.amazon.com/cloudtrail/\n2) \u8a2d\u5b9a\u3059\u308b \u8a73\u7d30\u60c5\u5831\u540d \u3092\u9078\u629e\u3059\u308b\n3) [CloudWatch Logs] \u2192 \u8a2d\u5b9a\n\n4) \u65b0\u898f\u307e\u305f\u306f\u65e2\u5b58\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u540d\u3092\u5165\u529b\u3059\u308b \u2192 \u6b21\u3078\n\n\nAWS\u63a8\u5968\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u540d\n\n5) IAM\u30ed\u30fc\u30eb\u306e\u6307\u5b9a \u2192 \u8a31\u53ef\n\n\u4eca\u56de\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u901a\u308a\u306b\n\nIAM\u30ed\u30fc\u30eb: \u65b0\u3057\u3044IAM\u30ed\u30fc\u30eb\u306e\u4f5c\u6210\n\u30ed\u30fc\u30eb\u540d: CloudTrail_CloudWatchLogs_Role\n\n\n6) \u78ba\u8a8d\n\u3000https://console.aws.amazon.com/cloudwatch/\n\u3000\u21d2\u5de6\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30da\u30a4\u30f3\u304b\u3089\u30ed\u30b0\u3092\u9078\u629e\n\u4f5c\u6210\u3057\u305f\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u300cCloudTrail/test-logs\u300d\u3092\u9078\u629e\n7) CloudTrail \u306e CloudWatch Logs \u30c7\u30fc\u30bf\u4fdd\u6301\u671f\u9593\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\n\u3000\u203bCloudTrail \u30ed\u30b0\u306e\u9577\u671f\u4fdd\u7ba1\u306fS3\u3067\u884c\u3046\u3002\n\u3000\u203bCloudTrail \u30ed\u30b0\u3092 CloudWatch Logs \u3078\u9001\u4fe1\u3059\u308b\u76ee\u7684\u306f\u6b21\u306e\u3088\u3046\u306a\u3053\u3068\u304b\u3089\n\u3000\u3000\u305d\u308c\u307b\u3069\u9577\u671f\u9593\u4fdd\u6301\u3057\u3066\u304a\u304f\u5fc5\u8981\u306f\u7121\u3044\u3068\u601d\u308f\u308c\u308b\u3002\n\u3000\u3000\u30fb\u77ed\u671f\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c8\u3084\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u7b49\u306e\u8abf\u67fb\u30fb\u78ba\u8a8d\u30fb\u76e3\u67fb\u7528\n\u3000\u3000\u30fbCloudWatch \u30a2\u30e9\u30fc\u30e0\u7528\n\u3000\u3000\u30fbCloudWatch ES \u3078\u30ed\u30b0\u3092\u9001\u308b\u7528\n\n\u30fb \u30e1\u30c8\u30ea\u30af\u30b9\u306e\u4fdd\u5b58\u671f\u9593\u306b\u3064\u3044\u3066\n\u30fb \u5909\u66f4\u65b9\u6cd5\n\n\n\n3.4.2 Using an AWS CloudFormation Template to Create CloudWatch Alarms\n\n\n3.4.3 Creating CloudWatch Alarms for CloudTrail Events: Examples\n\nCloudTrail\u30ed\u30b0\u306eCloudWatch\u30a2\u30e9\u30fc\u30c8\u8a2d\u5b9a\u4f8b\n\nAmazon S3 Bucket Activity\nSecurity Group Configuration Changes\nNetwork Access Control List (ACL) Changes\nNetwork Gateway Changes\nAmazon Virtual Private Cloud (VPC) Changes\nAmazon EC2 Instance Changes\nEC2 Large Instance Changes\nCloudTrail Changes\nConsole Sign-In Failures\nAuthorization Failures\nIAM Policy Changes\n\n\n3.4.4 Creating CloudWatch Alarms for CloudTrail Events: Additional Examples\n\n\n\nAWS\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306b\u30eb\u30fc\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u8cc7\u683c\u60c5\u5831\u304c\u4f7f\u7528\u3055\u308c\u305f\u3068\u304d\u3001\u307e\u305f\u306f MFA\u306e\u306a\u3044API\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u3084\u30b3\u30f3\u30bd\u30fc\u30eb\u30b5\u30a4\u30f3\u30a4\u30f3\u304c\u767a\u751f\u3057\u305f\u3068\u304d \u306b\u901a\u77e5\u3059\u308bCloudWatch\u30a2\u30e9\u30fc\u30e0\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001AWS\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u304c\u3053\u308c\u3089\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u306b\u6e96\u62e0\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u76e3\u8996\u3067\u304d\u307e\u3059\u3002\n\n\n\u30a2\u30e9\u30fc\u30c8\u8a2d\u5b9a\u4f8b\n\n\n\nMonitor for Root Usage\u30eb\u30fc\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u8a8d\u8a3c\u60c5\u5831\u3092\u4f7f\u7528\u3057\u3066AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u305f\u3068\u304d\u306b\u901a\u77e5\u3059\u308b\n\n\n\nMonitor for API Activity Without Multi-factor Authentication (MFA)MFA\u306e\u306a\u3044API\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u304c\u767a\u751f\u3057\u305f\u3068\u304d \u306b\u901a\u77e5\u3059\u308b\n\n\n\nMonitor for Console Sign In Without Multi-factor Authentication (MFA)MFA\u3092\u4f7f\u7528\u3057\u3066\u3044\u306a\u3044\u30b3\u30f3\u30bd\u30fc\u30eb\u30b5\u30a4\u30f3\u30a4\u30f3\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306b\u901a\u77e5\u3059\u308b\n\n\n\n(1) Monitor for Root Usage \u8a2d\u5b9a\u624b\u9806\n(\u30eb\u30fc\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u8a8d\u8a3c\u60c5\u5831\u3092\u4f7f\u7528\u3057\u3066AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u305f\u3068\u304d\u306b\u901a\u77e5\u3059\u308b)\n\n[\u6ce8\u610f]\n\u8a3c\u8de1\u60c5\u5831\u3092\u5168\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3002\n1) \u7ba1\u7406\u8005\u6a29\u9650\u30dd\u30ea\u30b7\u30fc\u304c\u4ed8\u52a0\u3055\u308c\u305fIAM\u30e6\u30fc\u30b6(MFA\u3042\u308a) \u3067AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u3001CloudWatch\u30b5\u30fc\u30d3\u30b9\u3078\u9077\u79fb\u3059\u308b\u3002(\u53c2\u8003:IAM \u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b6\u30fc\u304a\u3088\u3073\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210)\n\u3000 https://console.aws.amazon.com/cloudwatch/\n2) \u5de6\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30da\u30a4\u30f3\u304b\u3089\u30ed\u30b0\u3092\u9078\u629e\n3) 4.2.2.1 \u3067\u4f5c\u6210\u3057\u305f CloudTrail\u7528\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u540d\u3092\u9078\u629e\n4) \u30e1\u30c8\u30ea\u30af\u30b9\u30d5\u30a3\u30eb\u30bf\u306e\u4f5c\u6210\u3092\u30af\u30ea\u30c3\u30af\n\n5) \u30ed\u30b0\u30e1\u30c8\u30ea\u30af\u30b9\u30d5\u30a3\u30eb\u30bf\u306e\u5b9a\u7fa9\n\n\u30fb \u30d5\u30a3\u30eb\u30bf\u30d1\u30bf\u30fc\u30f3: \n\n{ $.userIdentity.type = \"Root\" && $.userIdentity.invokedBy NOT EXISTS && $.eventType != \"AwsServiceEvent\" }\n\n\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u5272\u308a\u5f53\u3066\n\n6) \u30e1\u30c8\u30ea\u30af\u30b9\u30d5\u30a3\u30eb\u30bf\u306e\u4f5c\u6210\u3068\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u5272\u308a\u5f53\u3066\n\n\u30fb \u30e1\u30c8\u30ea\u30af\u30b9\u540d\u524d\u7a7a\u9593: LogMetrics (\u30c7\u30d5\u30a9\u30eb\u30c8)\n\u30fb \u30e1\u30c8\u30ea\u30af\u30b9\u540d: RootAccountUsageCount\n\u30d5\u30a3\u30eb\u30bf\u306e\u4f5c\u6210\n\n\n7) \u30a2\u30e9\u30fc\u30e0\u306e\u4f5c\u6210\n\n\u540d\u524d: RootAccountUsage\n\u6b21\u306e\u6642: RootAccountUsageCount \u304c: >= 1 \u3092: 1 \u56de\u9023\u7d9a\u3057\u305f\u5834\u5408\n\u9593\u9694: 5\u5206\u9593\n\u7d71\u8a08: Standard, \u5408\u8a08\n\u30a2\u30af\u30b7\u30e7\u30f3(SNS)\u8a2d\u5b9a\u3001\u30e1\u30fc\u30eb\u9001\u4fe1\u8a2d\u5b9a\u306a\u3069\u306f\u9069\u5f53\u306b\n\n[\u6ce8\u610f]\u30eb\u30fc\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u4f55\u304b\u3057\u3089\u306e\u64cd\u4f5c\u3092\u3057\u3066\u3044\u305f\u5834\u5408\u306f\u3001\u53f3\u306e\u30b0\u30e9\u30d5\u306bUsage\u6570\u304c\u30d7\u30ed\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b\u3002\n\n8) \u30a2\u30e9\u30fc\u30e0\u8a2d\u5b9a\u5b8c\u4e86\n\n\n\n9) \u76e3\u8996\u958b\u59cb\u72b6\u614b\n\n\u30fb\u76e3\u8996\u72b6\u614b\u304c\u300c\u30c7\u30fc\u30bf\u4e0d\u8db3\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u304c\u3001\u3053\u306e\u76e3\u8996\u8a2d\u5b9a\u3067\u306f\u3053\u306e\u72b6\u614b\u3067\u76e3\u8996\u3092\u884c\u3063\u3066\u3044\u308b\u3002\n\n\n10) \u52d5\u4f5c\u78ba\u8a8d\n\n\u30fb\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u3066\u3001\u30eb\u30fc\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u8a8d\u8a3c\u60c5\u5831\u3067\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u306b\u6210\u529f\u3055\u305b\u308b\u3002\u305d\u306e\u307e\u307e\u9045\u304f\u3066\u3082\uff12\uff10\u5206\u304f\u3089\u3044\u5f85\u3061\u3001\u30a2\u30e9\u30fc\u30c8\u304c\u901a\u77e5\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\u30fb\u72b6\u614b\n\n\n\n(2) Monitor for Console Sign In Without MFA \u8a2d\u5b9a\u624b\u9806\n(MFA\u3092\u4f7f\u7528\u3057\u3066\u3044\u306a\u3044\u30b3\u30f3\u30bd\u30fc\u30eb\u30b5\u30a4\u30f3\u30a4\u30f3\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306b\u901a\u77e5\u3059\u308b)\n\n[\u6ce8\u610f]\n\u8a3c\u8de1\u60c5\u5831\u3092\u5168\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3002\n1) \u7ba1\u7406\u8005\u6a29\u9650\u30dd\u30ea\u30b7\u30fc\u304c\u4ed8\u52a0\u3055\u308c\u305fIAM\u30e6\u30fc\u30b6(MFA\u3042\u308a) \u3067AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u3001CloudWatch\u30b5\u30fc\u30d3\u30b9\u3078\u9077\u79fb\u3059\u308b\u3002(\u53c2\u8003:IAM \u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b6\u30fc\u304a\u3088\u3073\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210)\n\u3000https://console.aws.amazon.com/cloudwatch/\n2) \u5de6\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30da\u30a4\u30f3\u304b\u3089\u30ed\u30b0\u3092\u9078\u629e\n3) 4.2.2.1 \u3067\u4f5c\u6210\u3057\u305f CloudTrail\u7528\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u540d\u3092\u9078\u629e\n4) \u30e1\u30c8\u30ea\u30af\u30b9\u30d5\u30a3\u30eb\u30bf\u306e\u4f5c\u6210\u3092\u30af\u30ea\u30c3\u30af\n5) \u30ed\u30b0\u30e1\u30c8\u30ea\u30af\u30b9\u30d5\u30a3\u30eb\u30bf\u306e\u5b9a\u7fa9\n\n\u30fb \u30d5\u30a3\u30eb\u30bf\u30d1\u30bf\u30fc\u30f3: \n\n{ $.eventName = \"ConsoleLogin\" && $.additionalEventData.MFAUsed = \"No\" }\n\n\n\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u5272\u308a\u5f53\u3066\n\n6) \u30e1\u30c8\u30ea\u30af\u30b9\u30d5\u30a3\u30eb\u30bf\u306e\u4f5c\u6210\u3068\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u5272\u308a\u5f53\u3066\n\n\u30fb \u30e1\u30c8\u30ea\u30af\u30b9\u540d\u524d\u7a7a\u9593: LogMetrics (\u30c7\u30d5\u30a9\u30eb\u30c8)\n\u30fb \u30e1\u30c8\u30ea\u30af\u30b9\u540d: ConsoleSignInWithoutMfaCount\n\u30d5\u30a3\u30eb\u30bf\u306e\u4f5c\u6210\n\n\n7) \u30a2\u30e9\u30fc\u30e0\u306e\u4f5c\u6210\n\n\u540d\u524d: ConsoleSignInWithoutMfa\n\u6b21\u306e\u6642: ConsoleSignInWithoutMfaCount \u304c: >= 1 \u3092: 1 \u56de\u9023\u7d9a\u3057\u305f\u5834\u5408\n\u9593\u9694: 5\u5206\u9593\n\u7d71\u8a08: Standard, \u5408\u8a08\n\u30a2\u30af\u30b7\u30e7\u30f3(SNS)\u8a2d\u5b9a\u3001\u30e1\u30fc\u30eb\u9001\u4fe1\u8a2d\u5b9a\u306a\u3069\u306f\u9069\u5f53\u306b\n\n\n8) \u30a2\u30e9\u30fc\u30e0\u8a2d\u5b9a\u5b8c\u4e86\n9) \u76e3\u8996\u958b\u59cb\u72b6\u614b\n\n\u30fb\u76e3\u8996\u72b6\u614b\u304c\u300c\u30c7\u30fc\u30bf\u4e0d\u8db3\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u304c\u3001\u3053\u306e\u76e3\u8996\u8a2d\u5b9a\u3067\u306f\u3053\u306e\u72b6\u614b\u3067\u76e3\u8996\u3092\u884c\u3063\u3066\u3044\u308b\u3002\n\n\n10) \u52d5\u4f5c\u78ba\u8a8d\n\n\u30fb\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u3066\u3001MFA\u306a\u3057\u306eIMA\u30e6\u30fc\u30b6\u30fc\u3067\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u306b\u6210\u529f\u3055\u305b\u308b\u3002\u305d\u306e\u307e\u307e\u9045\u304f\u3066\u3082\uff12\uff10\u5206\u304f\u3089\u3044\u5f85\u3061\u3001\u30a2\u30e9\u30fc\u30c8\u304c\u901a\u77e5\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\u30fb\u3061\u306a\u307f\u306b\u3001\u30b5\u30a4\u30f3\u30a4\u30f3\u8a8d\u8a3c\u30da\u30fc\u30b8\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306f\u3001URL\u306b\u300cus-east-1.signin.aws.amazon.com\u300d\u3068\u3042\u308b\u901a\u308a\u3001\u5fc5\u305a\u30d0\u30fc\u30b8\u30cb\u30a2\u5317\u90e8\u3068\u306a\u308b\u3002\u30b5\u30a4\u30f3\u30a4\u30f3\u6642\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u30ed\u30b0\u30a4\u30f3\u306e\u30ed\u30b0\u306f\u3001\u30d0\u30fc\u30b8\u30cb\u30a2\u5317\u90e8\u30ea\u30fc\u30b8\u30e7\u30f3\u306e CloudTrail \u306e API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u5c65\u6b74 \u306b\u8868\u793a\u3055\u308c\u308b\u3002\n\u30fb\u72b6\u614b\n\n\n\n\n3.4.5 Configuring Notifications for CloudWatch Logs Alarms\n\n\n3.4.6 Stopping CloudTrail from Sending Events to CloudWatch Logs\n\n\n3.4.7 CloudWatch Log Group and Log Stream Naming for CloudTrail\n\n\n3.4.8 Role Policy Document for CloudTrail to Use CloudWatch Logs for Monitoring\n\n\n3.5 Receiving CloudTrail Log Files from Multiple Accounts\n\n\n3.6 Sharing CloudTrail Log Files Between AWS Accounts\n\n\n3.7 Encrypting CloudTrail Log Files with AWS KMS\u2013Managed Keys (SSE-KMS)\n\n\n3.8 Validating CloudTrail Log File Integrity\n\nCloudTrail\u30ed\u30b0\u306e\u6574\u5408\u6027\u691c\u8a3c\n\nCloudTrail\u304c\u914d\u4fe1\u3057\u305f\u5f8c\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304c\u5909\u66f4\u3001\u524a\u9664\u3001\u307e\u305f\u306f\u5909\u66f4\u3055\u308c\u306a\u304b\u3063\u305f\u304b\u3069\u3046\u304b\u3092\u5224\u65ad\u3059\u308b\u306b\u306f\u3001CloudTrail\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u5408\u6027\u691c\u8a3c\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u306f\u696d\u754c\u6a19\u6e96\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u4f7f\u7528\u3057\u3066\u69cb\u7bc9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30cf\u30c3\u30b7\u30f3\u30b0\u306b\u306fSHA-256\u3001\u30c7\u30b8\u30bf\u30eb\u7f72\u540d\u306b\u306fRSA\u3092\u4f7f\u7528\u3059\u308bSHA-256\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001CloudTrail\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u691c\u51fa\u305b\u305a\u306b\u5909\u66f4\u3001\u524a\u9664\u307e\u305f\u306f\u507d\u9020\u3059\u308b\u3053\u3068\u306f\u8a08\u7b97\u4e0a\u4e0d\u53ef\u80fd\u3067\u3059\u3002 AWS CLI\u3092\u4f7f\u7528\u3057\u3066\u3001CloudTrail\u304c\u914d\u4fe1\u3057\u305f\u5834\u6240\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u691c\u8a3c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u5408\u6027\u691c\u8a3c\u3092\u6709\u52b9\u306b\u3059\u308b\u3068\u3001CloudTrail\u306f\u3001\u914d\u4fe1\u3059\u308b\u3059\u3079\u3066\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3057\u3066\u30cf\u30c3\u30b7\u30e5\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 1\u6642\u9593\u3054\u3068\u306b\u3001CloudTrail\u306f\u904e\u53bb1\u6642\u9593\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u53c2\u7167\u3057\u3001\u305d\u308c\u305e\u308c\u306e\u30cf\u30c3\u30b7\u30e5\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u914d\u4fe1\u3057\u307e\u3059\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3068\u547c\u3070\u308c\u307e\u3059\u3002 CloudTrail\u306f\u3001\u516c\u958b\u9375\u3068\u79d8\u5bc6\u9375\u306e\u30da\u30a2\u306e\u79d8\u5bc6\u9375\u3092\u4f7f\u7528\u3057\u3066\u5404\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u7f72\u540d\u3057\u307e\u3059\u3002\u914d\u4fe1\u5f8c\u3001\u516c\u958b\u9375\u3092\u4f7f\u7528\u3057\u3066\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u691c\u8a3c\u3067\u304d\u307e\u3059\u3002 CloudTrail\u306f\u3001\u5404AWS\u30ea\u30fc\u30b8\u30e7\u30f3\u3054\u3068\u306b\u7570\u306a\u308b\u30ad\u30fc\u30da\u30a2\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\n\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306f\u3001CloudTrail\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3068\u540c\u3058\u3088\u3046\u306b\u3001\u3042\u306a\u305f\u306e\u30c8\u30ec\u30a4\u30eb\u306b\u95a2\u9023\u4ed8\u3051\u3089\u308c\u3066\u3044\u308b\u540c\u3058Amazon S3\u30d0\u30b1\u30c3\u30c8\u306b\u914d\u4fe1\u3055\u308c\u307e\u3059\u3002\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304c\u3059\u3079\u3066\u306e\u5730\u57df\u304b\u3089\u3001\u307e\u305f\u306f\u8907\u6570\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u304b\u3089\u5358\u4e00\u306eAmazon S3\u30d0\u30b1\u30c3\u30c8\u306b\u914d\u4fe1\u3055\u308c\u308b\u5834\u5408\u3001CloudTrail\u306f\u305d\u308c\u3089\u306e\u5730\u57df\u3068\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u540c\u3058\u30d0\u30b1\u30c3\u30c8\u306b\u914d\u4fe1\u3057\u307e\u3059\u3002\n\n\n\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3068\u306f\u5225\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3068\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u96e2\u3059\u308b\u3053\u3068\u3067\u3001\u304d\u3081\u7d30\u304b\u306a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30dd\u30ea\u30b7\u30fc\u3092\u9069\u7528\u3057\u3001\u65e2\u5b58\u306e\u30ed\u30b0\u51e6\u7406\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u5909\u66f4\u305b\u305a\u306b\u5f15\u304d\u7d9a\u304d\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u5404\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001\u524d\u306e\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30b8\u30bf\u30eb\u7f72\u540d\u3082\u542b\u307e\u308c\u3066\u3044\u307e\u3059\uff08\u5b58\u5728\u3059\u308b\u5834\u5408\uff09\u3002\u73fe\u5728\u306e\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u306f\u3001\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30ebAmazon S3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u3042\u308a\u307e\u3059\u3002\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u300cCloudTrail\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u9020\u300d\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nCloudTrail\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3068\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306f\u3001Amazon S3\u307e\u305f\u306fAmazon Glacier\u306b\u7121\u671f\u9650\u306b\u3001\u6c38\u7d9a\u7684\u304b\u3064\u5b89\u4fa1\u306b\u5b89\u5168\u306b\u4fdd\u7ba1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 Amazon S3\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5f37\u5316\u3059\u308b\u305f\u3081\u306b\u3001Amazon S3 MFA Delete\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\n\n\n3.8.1 Enabling Log File Integrity Validation for CloudTrail\n\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n4) \u78ba\u8a8d\n\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u691c\u8a3c\u3092\u6709\u52b9\u5316: \u306f\u3044\n\n\n\n\n3.8.2 Validating CloudTrail Log File Integrity with the AWS CLI\n\n\nAWS\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3067\u30ed\u30b0\u3092\u691c\u8a3c\u3059\u308b\u306b\u306f\u3001CloudTrail validate-logs\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001Amazon S3\u30d0\u30b1\u30c3\u30c8\u306b\u914d\u4fe1\u3055\u308c\u305f\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066\u691c\u8a3c\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\n3.8.3 CloudTrail Digest File Structure\n\n\n3.8.4 Custom Implementations of CloudTrail Log File Integrity Validation\n\n\n3.9 Using the CloudTrail Processing Library\n\n#0. \u306f\u3058\u3081\u306b\n* AWS CloudTrail \u30b5\u30fc\u30d3\u30b9\u3092\u7406\u89e3\u3001\u6d3b\u7528\u3059\u308b\u305f\u3081\u306b\u3001[AWS CloudTrail User Guide (Version 1.0)](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-user-guide.html) \u3092\u4e00\u8aad\u3057\u3066\u3001\u500b\u4eba\u7528\u306b\u6982\u8981\u3068\u6700\u4f4e\u9650\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3079\u304d\u3053\u3068\u3092\u307e\u3068\u3081\u308b\u3002\n* \u88dc\u8db3\u3084\u65e5\u672c\u8a9e\u8a33\u306f\u3001[AWS CloudTrail \u306e \u3088\u304f\u3042\u308b\u8cea\u554f](https://aws.amazon.com/jp/cloudtrail/faqs/)\u3068\u3001Google\u7ffb\u8a33\u3092\u53c2\u8003\u306b\u3057\u3066\u3044\u308b\u3002\n* Trail=\u75d5\u8de1\u3001\u8a3c\u8de1\n\n##0.1 CloudTrail\u8a2d\u5b9a\u3057\u305f\u3053\u3068\n* [\u521d\u3081\u3066 CloudTrail \u3092\u4f7f\u3046\u305f\u3081\u306e\u8a2d\u5b9a](#2111-creating-a-trail-for-the-first-time)\n* [\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u8a2d\u5b9a](#32-configuring-event-selectors-for-trails)(\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u306e\u307e\u307e)\n* [CloudTrail\u30ed\u30b0\u3092CloudWatch Logs\u3078\u9001\u4fe1\u3059\u308b\u8a2d\u5b9a](#341-sending-cloudtrail-events-to-cloudwatch-logs)\n* [\u30eb\u30fc\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u8a8d\u8a3c\u60c5\u5831\u3092\u4f7f\u7528\u3057\u3066AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u305f\u3068\u304d\u306b\u901a\u77e5\u3059\u308b](#MonitorforRootUsage)\n* [MFA\u3092\u4f7f\u7528\u3057\u3066\u3044\u306a\u3044\u30b3\u30f3\u30bd\u30fc\u30eb\u30b5\u30a4\u30f3\u30a4\u30f3\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306b\u901a\u77e5\u3059\u308b](#MonitorforConsoleSignInWithoutMFA)\n* [CloudTrail \u30ed\u30b0\u3092 Amazon ES \u3078\u9001\u308b](http://qiita.com/tonishy/private/7051821d25e69919ac2f#cloudtrailamazones)\n\n#**[AWS CloudTrail User Guide (Version 1.0)](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-user-guide.html)**\n\n#1. [What is AWS CloudTrail?](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-user-guide.html)\n* AWS CloudTrail \u306f\u3001AWS CloudTrail \u3092\u6709\u52b9(\u30ed\u30b0\u8a18\u9332 ON)\u306b\u3057\u305fAWS\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u3057\u3066\u6b21\u306e\u3082\u306e\u3092\u4f7f\u7528\u3057\u3066API\u547c\u3073\u51fa\u3057\u3092\u884c\u3063\u305f\u8a18\u9332(\u8a3c\u8de1\u60c5\u5831)\u3092Amazon S3\u30d0\u30b1\u30c3\u30c8\u306b\u8a18\u9332\u3059\u308b\u30b5\u30fc\u30d3\u30b9\u3002\n * AWS \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\n * AWS SDK\n * \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb(AWS CLI)\n * \u9ad8\u30ec\u30d9\u30eb\u306e AWS \u30b5\u30fc\u30d3\u30b9\uff08AWS CloudFormation \u306a\u3069\uff09\n<br/><br/>\n* *\u8a18\u9332\u3055\u308c\u308b\u60c5\u5831\u306b\u306f\u3001API \u547c\u3073\u51fa\u3057\u5143\u306e ID\u3001API \u547c\u3073\u51fa\u3057\u5143\u306e\u30bd\u30fc\u30b9 IP \u30a2\u30c9\u30ec\u30b9\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3001\u304a\u3088\u3073 AWS \u30b5\u30fc\u30d3\u30b9\u304b\u3089\u8fd4\u3055\u308c\u305f\u5fdc\u7b54\u306e\u8981\u7d20\u304c\u542b\u307e\u308c\u307e\u3059\u3002*\n<br/><br/>\n * [API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u5c65\u6b74](#22-viewing-events-with-cloudtrail-api-activity-history)\u306e\b\u8868\u793a\u4f8b\n![20161214-06.png](https://qiita-image-store.s3.amazonaws.com/0/148868/11ec11b3-a6cb-b2e5-c829-2a5a4b7e6b3a.png)\n<br/><br/>\n* \u53c2\u8003\n * [AWS CloudTrail](https://aws.amazon.com/jp/cloudtrail/)\n * [\u3088\u304f\u3042\u308b\u8cea\u554f - \u5168\u822c](https://aws.amazon.com/jp/cloudtrail/faqs/#general)\n\n##1.1 [How AWS CloudTrail Works](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/how-cloudtrail-works.html)\n**AWS CloudTrail\u306e\u3057\u304f\u307f**\n\n**(1) CloudWatch Logs \u3068\u306e\u7d71\u5408**\n\n* *CloudTrail \u3092 CloudWatch Logs \u3068\u7d71\u5408\u3059\u308b\u3068\u3001CloudTrail \u304c\u53d6\u5f97\u3057\u305f API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u304c\u3001\u6307\u5b9a\u3057\u305f CloudWatch Logs \u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306e CloudWatch Logs \u30ed\u30b0\u30b9\u30c8\u30ea\u30fc\u30e0\u306b\u9001\u3089\u308c\u307e\u3059\u3002*\n* *\u3053\u306e\u7d71\u5408\u306b\u3088\u308a\u3001CloudTrail \u304c\u53d6\u5f97\u3057\u305f API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u306e SNS \u901a\u77e5\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001CloudWatch \u30a2\u30e9\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u3066\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3084\u30cd\u30c3\u30c8\u30ef\u30fc\u30af ACL \u3092\u4f5c\u6210\u3001\u5909\u66f4\u3001\u524a\u9664\u3059\u308b API \u547c\u3073\u51fa\u3057\u3092\u76e3\u8996\u3067\u304d\u307e\u3059\u3002*\n* \u5b9f\u969b\u306e\u8a2d\u5b9a\u4f8b\n * [CloudTrail\u30ed\u30b0\u3092CloudWatch Logs\u3078\u9001\u4fe1\u3059\u308b\u8a2d\u5b9a](#341-sending-cloudtrail-events-to-cloudwatch-logs)\n * [CloudWatch\u30a2\u30e9\u30fc\u30e0\u901a\u77e5\u8a2d\u5b9a\u4f8b](#344-creating-cloudwatch-alarms-for-cloudtrail-events-additional-examples)\n* \u53c2\u8003\n * [\u3088\u304f\u3042\u308b\u8cea\u554f - CloudWatch Logs \u3068\u306e\u7d71\u5408](https://aws.amazon.com/jp/cloudtrail/faqs/#integration-with-cloudwatch-logs)\n * [AWS CloudTrail\u30a4\u30d9\u30f3\u30c8\u76e3\u8996\u306e\u76ee\u7684](http://aws.typepad.com/aws_partner_sa/2015/06/opsjaws-monitoring-cloudtrail.html)\n\n**(2) \u8a3c\u8de1\u60c5\u5831\u3092\u9069\u7528\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3**\n\n* You can create two types of trails:\n<pre>\nA trail that applies to all regions\nA trail that applies to one region\n</pre>\n<a name=\"ConsoleSignInRegion\">\n* **[AWS \u3067\u306f\u3001\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u3066\u3044\u308b](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-concepts.html#cloudtrail-concepts-regional-and-global-services)\u3002**\n * As a best practice, create a trail that applies to all regions in the AWS partition in which you are working.\n * \u3061\u306a\u307f\u306b\u3001**AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u8a8d\u8a3c\u30da\u30fc\u30b8\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306f\u3001URL\u306b\u300cus-east-1.signin.aws.amazon.com\u300d\u3068\u3042\u308b\u901a\u308a\u3001\u5fc5\u305a\u30d0\u30fc\u30b8\u30cb\u30a2\u5317\u90e8\u3068\u306a\u308b\u3002\u30b3\u30f3\u30bd\u30fc\u30eb\u30ed\u30b0\u30a4\u30f3\u76e3\u8996\u3092\u884c\u3044\u305f\u3044\u5834\u5408\u306f\u3001\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002**\n* \u8a3c\u8de1\u60c5\u5831\u3092\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3059\u308b\n * ***AWS \u30a2\u30ab\u30a6\u30f3\u30c8\u5185\u306e\u5168\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u5b9f\u884c\u3055\u308c\u305f API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u306e\u30ec\u30b3\u30fc\u30c9\u304c\u30011 \u3064\u306e S3 \u30d0\u30b1\u30c3\u30c8\u307e\u305f\u306f CloudWatch Logs \u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306b\u5c4a\u304d\u307e\u3059\u3002***\n * ***S3\u30d0\u30b1\u30c3\u30c8\u3067\u306f\u5404\u30ea\u30fc\u30b8\u30e7\u30f3\u540d\u306e\u30d0\u30b1\u30c3\u30c8\u306e\u4e2d\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304c\u8a18\u9332\u3055\u308c\u3001CloudWatch Logs\u3067\u306f\u3001\u4e00\u3064\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306b\u5168\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304c\u8a18\u9332\u3055\u308c\u308b\u3002***\n * *AWS \u306b\u65b0\u3057\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u304c\u4f5c\u6210\u3055\u308c\u305f\u5834\u5408\u3001\u65b0\u3057\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u306e API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u3092\u542b\u3080\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304c\u5c4a\u304d\u307e\u3059\u3002\u304a\u5ba2\u69d8\u306e\u5074\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u4e0d\u8981\u3067\u3059\u3002*\n * *\u8a3c\u8de1\u60c5\u5831\u3092\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3059\u308b\u3068\u3001CloudTrail \u306b\u3088\u3063\u3066\u8a3c\u8de1\u60c5\u5831\u8a2d\u5b9a\u304c\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3055\u308c\u3001\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u65b0\u3057\u3044\u8a3c\u8de1\u60c5\u5831\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002* ***CloudTrail \u306f\u305d\u308c\u305e\u308c\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u8a18\u9332\u3068\u51e6\u7406\u3092\u884c\u3044\u3001\u3059\u3079\u3066\u306e AWS \u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u306e API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u3092\u542b\u3080\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u5358\u4e00\u306e S3 \u30d0\u30b1\u30c3\u30c8\u304a\u3088\u3073\u5358\u4e00\u306e CloudWatch Logs \u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306b\u914d\u4fe1\u3057\u307e\u3059\u3002*** *\u30aa\u30d7\u30b7\u30e7\u30f3\u306e SNS \u30c8\u30d4\u30c3\u30af\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u5358\u4e00\u306e SNS \u30c8\u30d4\u30c3\u30af\u306b\u914d\u4fe1\u3055\u308c\u305f\u3059\u3079\u3066\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e SNS \u901a\u77e5\u304c CloudTrail \u306b\u3088\u3063\u3066\u914d\u4fe1\u3055\u308c\u307e\u3059\u3002*\n * *\u65e2\u5b58\u306e\u8a3c\u8de1\u60c5\u5831\u3092\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3067\u304d\u307e\u3059\u3002\u65e2\u5b58\u306e\u8a3c\u8de1\u60c5\u5831\u3092\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3057\u305f\u5834\u5408\u3001CloudTrail \u306b\u3088\u308a\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u65b0\u3057\u3044\u8a3c\u8de1\u60c5\u5831\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002*\n * *\u901a\u5e38\u3001\u8a3c\u8de1\u60c5\u5831\u8a2d\u5b9a\u3092\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u305f\u3081\u306b\u304b\u304b\u308b\u6642\u9593\u306f 30 \u79d2\u672a\u6e80\u3067\u3059\u3002*\n* \u53c2\u8003\n * [\u3088\u304f\u3042\u308b\u8cea\u554f - \u8a3c\u8de1\u60c5\u5831\u3092\u9069\u7528\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3](https://aws.amazon.com/jp/cloudtrail/faqs/#Applying-a-Trail-to-all-Regions)\n * [AWS CloudTrail \u30a2\u30c3\u30d7\u30c7\u30fc\u30c8 \u2013 \u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u6709\u52b9\u306b](http://aws.typepad.com/aws_japan/aws-cloudtrail/)\n * [Receiving CloudTrail Log Files from Multiple Regions](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/receive-cloudtrail-log-files-from-multiple-regions.html)\n\n**(3) \u8a3c\u8de1\u60c5\u5831\u306e\u4fdd\u8b77**\n\n* <a name=\"sse\">\u6697\u53f7\u5316\u3001\u5236\u5fa1\n\n * ***\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001CloudTrail \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306f S3 Server Side Encryption\uff08SSE\uff09\u3092\u4f7f\u7528\u3057\u3066\u6697\u53f7\u5316\u3055\u308c\u3001S3 \u30d0\u30b1\u30c3\u30c8\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002***\n * AWS KMS \u4f7f\u7528\u3057\u3066\u6697\u53f7\u5316\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3002\n * *IAM \u307e\u305f\u306f S3 \u30d0\u30b1\u30c3\u30c8\u306e\u30dd\u30ea\u30b7\u30fc\u3092\u4f7f\u7528\u3057\u3066\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002*\n * *\u3055\u3089\u306b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f\u3001S3 \u30d0\u30b1\u30c3\u30c8\u3067 S3 [Multi Factor Authentication\uff08MFA\uff09Delete](Multi Factor Authentication\uff08MFA\uff09Delete) \u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002*\n<a name=\"retentionperiod\">\n* \u4fdd\u6301\u671f\u9593\n * *CloudTrail \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u6301\u30dd\u30ea\u30b7\u30fc\u3067\u5236\u5fa1\u3057\u307e\u3059\u3002* ***\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306f\u6c38\u7d9a\u7684\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002***\n * *[Amazon S3 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u7ba1\u7406\u30eb\u30fc\u30eb](http://docs.aws.amazon.com/ja_jp/AmazonS3/latest/dev/object-lifecycle-mgmt.html)\u3092\u4f7f\u7528\u3057\u3066\u3001\u72ec\u81ea\u306e\u4fdd\u6301\u30dd\u30ea\u30b7\u30fc\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u53e4\u3044\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3057\u305f\u308a\u3001Amazon Glacier \u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002*\n* \u53c2\u8003\n * [\u3088\u304f\u3042\u308b\u8cea\u554f - \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3068\u6709\u52b9\u671f\u9650\u5207\u308c](https://aws.amazon.com/jp/cloudtrail/faqs/#security-and-expiration)\n * [\u3088\u304f\u3042\u308b\u8cea\u554f - AWS Key Management Service (KMS) \u3092\u4f7f\u7528\u3057\u305f CloudTrail \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u6697\u53f7\u5316](https://aws.amazon.com/jp/cloudtrail/faqs/#Log-file-encryption)\n * [AWS CloudTrail Update \u2013 SSE-KMS\u306e\u6697\u53f7\u5316\u3068\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u5408\u6027\u306e\u691c\u8a3c](http://aws.typepad.com/aws_japan/2015/10/aws-cloudtrail-update-sse-kms-encryption-log-file-integrity-verification.html)\n * [AWS CloudTrail \u3067 AWS KMS \u3092\u4f7f\u7528\u3059\u308b\u65b9\u6cd5](http://docs.aws.amazon.com/ja_jp/kms/latest/developerguide/services-cloudtrail.html)\n * [Encrypting CloudTrail Log Files with AWS KMS\u2013Managed Keys (SSE-KMS)](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/encrypting-cloudtrail-log-files-with-aws-kms.html)\n\n<a name=\"timeline\"></a>**(4) \u30a4\u30d9\u30f3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u3001\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3001\u9001\u4fe1\u983b\u5ea6**\n\n* ***\u901a\u5e38\u3001CloudTrail \u306f\u3001API \u547c\u3073\u51fa\u3057\u304b\u3089 15 \u5206\u4ee5\u5185\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002***\n* ***CloudTrail \u306f S3 \u30d0\u30b1\u30c3\u30c8\u306b\u7d04 5 \u5206\u3054\u3068\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002*** *\u305d\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u3057\u3066 API \u306e\u547c\u3073\u51fa\u3057\u304c\u306a\u3044\u5834\u5408\u306f\u3001\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u9001\u4fe1\u3057\u307e\u305b\u3093\u3002*\n* \u53c2\u8003\n * [\u3088\u304f\u3042\u308b\u8cea\u554f - \u30a4\u30d9\u30f3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u3001\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3001\u9001\u4fe1\u983b\u5ea6](https://aws.amazon.com/jp/cloudtrail/faqs/#security-and-expiration)\n\n##1.2 [CloudTrail Workflow](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-workflow.html)\nCloudTrail\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306e\u624b\u9806\n\n##1.3 [CloudTrail Concepts](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-concepts.html)\n\n**CloudTrail\u306b\u95a2\u9023\u3059\u308b\u57fa\u672c\u7684\u306a\u6982\u5ff5**\n\n**(1) [What Are Trails?](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-concepts.html#cloudtrail-concepts-trails)**\n\n**(2) [How Do You Manage CloudTrail?](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-concepts.html#cloudtrail-concepts-manage)**\nCloudTrail\u306e\u7ba1\u7406\u65b9\u6cd5\n\n* CloudTrail Console\n* CloudTrail CLI\n* CloudTrail APIs\n* AWS SDKs\n\n**(3) [How Do You Control Access to CloudTrail?](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-concepts.html#cloudtrail-concepts-iam)**\nCloudTrail \u7ba1\u7406\u306e\u305f\u3081\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u65b9\u6cd5\n\n* *IAM\u3092\u4f7f\u7528\u3057\u3066\u3001AWS CloudTrail\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3059\u3079\u3066\u306e\u30e6\u30fc\u30b6\u30fc\u306e\u305f\u3081\u306e\u500b\u5225\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3042\u306a\u305f\u81ea\u8eab\u306e\u305f\u3081\u306bIAM\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u3001\u305d\u306eIAM\u30e6\u30fc\u30b6\u30fc\u306b\u7ba1\u7406\u6a29\u9650\u3092\u4e0e\u3048\u3001\u3059\u3079\u3066\u306e\u4f5c\u696d\u306b\u305d\u306eIAM\u30e6\u30fc\u30b6\u30fc\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002*\n* \u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001[CloudTrail\u306e\u30e6\u30fc\u30b6\u30fc\u6a29\u9650\u306e\u5236\u5fa1](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/control-user-permissions-for-cloudtrail.html)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n**(4) [How Do You Use Event Selectors?](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-concepts.html#cloudtrail-concepts-iam)**\n**\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u306e\u4f7f\u3044\u65b9**\n\n* \u30a4\u30d9\u30f3\u30c8(API\u547c\u3073\u51fa\u3057)\u304c\u767a\u751f\u3059\u308b\u3068\u3001CloudTrail\u306f\u3059\u3079\u3066\u306e\u8a3c\u8de1\u60c5\u5831\u306b\u5bfe\u3057\u3066\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u3092\u8a55\u4fa1\u3059\u308b\u3002\n* \u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u3067\u306f\u3001\u8a18\u9332\u3057\u305f\u3044\u30a4\u30d9\u30f3\u30c8\u306e\u30bf\u30a4\u30d7\u3092\u8a2d\u5b9a\u3059\u308b\u3002\u767a\u751f\u3057\u305f\u30a4\u30d9\u30f3\u30c8(API\u547c\u3073\u51fa\u3057)\u306e\u5185\u5bb9\u3068\u3001\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u3067\u8a2d\u5b9a\u3057\u305f\u30bf\u30a4\u30d7\u304c\u4e00\u81f4\u3059\u308b\u5834\u5408\u306f\u3001\u8a18\u9332\u3059\u308b\u3002\u4e00\u81f4\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u8a18\u9332\u3057\u306a\u3044\u3002\n* \u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001[\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u306e\u8a2d\u5b9a](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/create-event-selectors-for-a-trail.html)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n* [\u5b9f\u969b\u306e\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u306e\u8a2d\u5b9a](#32-configuring-event-selectors-for-trails)\n\n**(5) [How Do You Perform Monitoring with CloudTrail?]\n(http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-concepts.html#cloudtrail-concepts-monitoring)**\n**CloudTrail\u3092\u4f7f\u3063\u305f\u76e3\u8996\u65b9\u6cd5**\n\n* Amazon CloudWatch\u306f\u3001AWS\u4e0a\u3067\u5b9f\u884c\u3059\u308bAmazon Web Services \u30ea\u30bd\u30fc\u30b9\u304a\u3088\u3073\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u76e3\u8996\u3059\u308b\u30e1\u30c8\u30ea\u30c3\u30af\u3092\u53ce\u96c6\u304a\u3088\u3073\u8ffd\u8de1\u3059\u308bWeb\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002Amazon CloudWatch Logs\u306fCloudWatch\u306e\u6a5f\u80fd\u3067\u3001\u7279\u306b\u30ed\u30b0\u30c7\u30fc\u30bf\u306e\u76e3\u8996\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\n* CloudWatch\u30ed\u30b0\u3068\u306e\u7d71\u5408\u306b\u3088\u308a\u3001CloudTrail\u306fAWS\u30a2\u30ab\u30a6\u30f3\u30c8\u306eAPI\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u3092\u542b\u3080\u30a4\u30d9\u30f3\u30c8\u3092CloudWatch\u30ed\u30b0\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306b\u9001\u4fe1\u3067\u304d\u307e\u3059\u3002 CloudWatch\u30ed\u30b0\u306b\u9001\u4fe1\u3055\u308c\u308bCloudTrail\u30a4\u30d9\u30f3\u30c8\u306f\u3001\u5b9a\u7fa9\u3057\u305f\u30e1\u30c8\u30ea\u30c3\u30af\u30d5\u30a3\u30eb\u30bf\u306b\u5f93\u3063\u3066\u30a2\u30e9\u30fc\u30e0\u3092\u30c8\u30ea\u30ac\u3067\u304d\u307e\u3059\u3002\n* \u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001[Amazon CloudWatch\u30ed\u30b0\u3067CloudTrail\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u76e3\u8996\u3059\u308b](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/monitor-cloudtrail-log-files-with-cloudwatch-logs.html)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n* \u5b9f\u969b\u306e\u8a2d\u5b9a\u4f8b\n * [CloudTrail\u30ed\u30b0\u3092CloudWatch Logs\u3078\u9001\u4fe1\u3059\u308b\u8a2d\u5b9a](#341-sending-cloudtrail-events-to-cloudwatch-logs)\n * [CloudWatch\u30a2\u30e9\u30fc\u30e0\u901a\u77e5\u8a2d\u5b9a\u4f8b](#344-creating-cloudwatch-alarms-for-cloudtrail-events-additional-examples)\n\n**(6) [How Does CloudTrail Behave Regionally and Globally?](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-concepts.html#cloudtrail-concepts-regional-and-global-services)**\nCloudTrail\u306f\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u3084\u30b0\u30ed\u30fc\u30d0\u30eb\u3069\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3059\u308b\u304b\n\n* **What are the advantages of applying a trail to all regions?**\n\u8a3c\u8de1\u60c5\u5831\u3092\u5168\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3059\u308b\u5229\u70b9\n\n * *The configuration settings for the trail apply consistently across all regions.*<br/>CloudTrail\u8a2d\u5b9a\u306f\u3001\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u4e00\u8cab\u3057\u3066\u9069\u7528\u3055\u308c\u307e\u3059\u3002\n * *You receive log files from all regions in a single S3 bucket and optionally in a  * CloudWatch Logs log group.*<br/>1\u3064\u306eS3\u30d0\u30b1\u30c3\u30c8\u5185\u306e\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066CloudWatch Logs \u306e\u30ed\u30b0\u30fb\u30b0\u30eb\u30fc\u30d7\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u9001\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n * *You manage trail configuration for all regions from one location.*<br/>\n1\u3064\u306e\u5834\u6240(\u4f8b\u3048\u3070\u3001\u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3)\u304b\u3089\u3059\u3079\u3066\u306e\u5730\u57df\u306eCloudTrail\u8a2d\u5b9a\u3092\u7ba1\u7406\u3057\u307e\u3059\u3002\n * *You immediately receive events from a new region. When a new region launches, CloudTrail automatically creates a trail for you in the new region with the same settings as your original trail.*<br/>\u65b0\u3057\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u304c\u30ed\u30fc\u30f3\u30c1\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306b\u305d\u306e\u65b0\u3057\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u306eCloudTrail\u8a2d\u5b9a\u304c\u306a\u3055\u308c\u308b\u3002\n * *You can create trails in regions that you don't use often to monitor for unusual activity.*\n<br/><br/>\n* **What happens when you apply a trail to all regions?**\n\u8a3c\u8de1\u60c5\u5831\u3092\u5168\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3059\u308b\u3068\u3069\u3046\u306a\u308b\u304b\n * *CloudTrail delivers log files for API activity from all regions to the single Amazon S3 bucket that you specify, and optionally to a CloudWatch Logs log group.*<br/>CloudTrail\u306f\u3001API\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u3001\u6307\u5b9a\u3057\u305f\u5358\u4e00\u306eAmazon S3\u30d0\u30b1\u30c3\u30c8\u306b\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306fCloudWatch\u30ed\u30b0\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306b\u914d\u4fe1\u3057\u307e\u3059\u3002\n * *If you configured an Amazon SNS topic for the trail, SNS notifications about log file deliveries in all regions are sent to that single SNS topic.*<br/>\nCloudWatch \u30a2\u30e9\u30fc\u30e0\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3067SNS\u30c8\u30d4\u30c3\u30af\u3092\u8a2d\u5b9a\u3057\u305f\u5834\u5408\u306f\u3001\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u914d\u4fe1\u306b\u95a2\u3059\u308bSNS\u901a\u77e5\u304c\u305d\u306e\u5358\u4e00\u306eSNS\u30c8\u30d4\u30c3\u30af\u306b\u9001\u4fe1\u3055\u308c\u307e\u3059\u3002\n * *Global service events will be delivered from a single region to your specified S3 bucket and to your CloudWatch Logs log group if you configured one for the trail. For information about global service events, see [About global service events](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-concepts.html#cloudtrail-concepts-global-service-events).*<br/>\u30b0\u30ed\u30fc\u30d0\u30eb\u30b5\u30fc\u30d3\u30b9\u30a4\u30d9\u30f3\u30c8\u306f\u30011\u3064\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u6307\u5b9a\u3057\u305fS3\u30d0\u30b1\u30c3\u30c8\u3001\u304a\u3088\u3073CloudWatch Logs\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306b\u914d\u4fe1\u3055\u308c\u307e\u3059\u3002\n * *If you enabled log file integrity validation, log file integrity validation is enabled in all regions for the trail. For information about log file integrity validation, see [Validating CloudTrail Log File Integrity](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-log-file-validation-intro.html).*<br/>\n\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u5408\u6027\u691c\u8a3c\u3092\u6709\u52b9\u306b\u3057\u305f\u5834\u5408\u3001\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u5408\u6027\u691c\u8a3c\u306f\u3059\u3079\u3066\u306e\u9818\u57df\u3067\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\n<br/><br/><a name=\"MultipleTrailsPerRegion\">\n* **Multiple trails per region** - \u8907\u6570\u306e\u8a3c\u8de1\u60c5\u5831\n * *1 \u3064\u306e AWS \u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u3064\u304d\u6700\u5927 5 \u3064\u306e\u8a3c\u8de1\u60c5\u5831\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3055\u308c\u308b\u8a3c\u8de1\u60c5\u5831\u306f\u5404\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u5b58\u5728\u3057\u3001\u305d\u308c\u305e\u308c\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3067 1 \u3064\u306e\u8a3c\u8de1\u60c5\u5831\u3068\u3057\u3066\u6570\u3048\u3089\u308c\u307e\u3059\u3002*[\u305f\u3060\u3057\u3001\uff12\u3064\u4ee5\u4e0a\u8a3c\u8de1\u60c5\u5831\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u306f\u3001\u8cbb\u7528\u304c\u767a\u751f\u3059\u308b\u3002](https://aws.amazon.com/jp/cloudtrail/pricing/)\n * *\u8907\u6570\u306e\u8a3c\u8de1\u60c5\u5831\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7ba1\u7406\u8005\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u958b\u767a\u8005\u3001\u304a\u3088\u3073 IT \u76e3\u67fb\u4eba\u3068\u3044\u3063\u305f\u3055\u307e\u3056\u307e\u306a\u5229\u5bb3\u95a2\u4fc2\u8005\u304c\u72ec\u81ea\u306e\u8a3c\u8de1\u60c5\u5831\u3092\u4f5c\u6210\u3057\u3001\u7ba1\u7406\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7ba1\u7406\u8005\u306f\u3001\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3055\u308c\u308b\u8a3c\u8de1\u60c5\u5831\u3092\u4f5c\u6210\u3057\u30011 \u3064\u306e KMS \u30ad\u30fc\u3092\u4f7f\u7528\u3057\u305f\u6697\u53f7\u5316\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u958b\u767a\u8005\u306f\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u554f\u984c\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u7528\u306b\u30011 \u3064\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3055\u308c\u308b\u8a3c\u8de1\u60c5\u5831\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002*\n * *\u30ea\u30bd\u30fc\u30b9\u30ec\u30d9\u30eb\u306e\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3092\u4f7f\u7528\u3057\u3066\u304d\u3081\u7d30\u304b\u306a\u30a2\u30af\u30bb\u30b9\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30dd\u30ea\u30b7\u30fc\u3092\u4f5c\u6210\u3059\u308c\u3070\u3001\u7279\u5b9a\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3057\u3066\u3001\u7279\u5b9a\u306e\u8a3c\u8de1\u60c5\u5831\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u307e\u305f\u306f\u62d2\u5426\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002*\n * \u53c2\u8003\n<br/>[\u3088\u304f\u3042\u308b\u8cea\u554f - \u8907\u6570\u306e\u8a3c\u8de1\u60c5\u5831](https://aws.amazon.com/jp/cloudtrail/faqs/#Multiple-Trails)\n<br/><br/>\n* **AWS Security Token Service (AWS STS) and CloudTrail**\n\n**(7) [About global service events](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-concepts.html#cloudtrail-concepts-global-service-events)**\n\u30b0\u30ed\u30fc\u30d0\u30eb\u30fb\u30b5\u30fc\u30d3\u30b9\u30a4\u30d9\u30f3\u30c8\u306b\u3064\u3044\u3066\n\n* *For global services such as IAM, AWS STS, and Amazon CloudFront, events are delivered to any trail that has the Include global services option enabled.*<br/>\nIAM\u3001AWS STS\u3001Amazon CloudFront\u306a\u3069\u306e\u30b0\u30ed\u30fc\u30d0\u30eb\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001[\u30b0\u30ed\u30fc\u30d0\u30eb\u30b5\u30fc\u30d3\u30b9\u3092\u542b\u3081\u308b]\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30c8\u30ec\u30a4\u30eb\u306b\u30a4\u30d9\u30f3\u30c8\u304c\u914d\u4fe1\u3055\u308c\u307e\u3059\u3002\n* *AWS OpsWorks and Amazon Route 53 actions are logged in the US East (N. Virginia) Region.*<br/>AWS OpsWorks\u304a\u3088\u3073Amazon Route 53\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u3001\u7c73\u56fd\u6771\u90e8\uff08N. Virginia: us-east-1\uff09\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u8a18\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n* AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u8a8d\u8a3c\u30da\u30fc\u30b8\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u30ed\u30b0\u3082\u3001\u7c73\u56fd\u6771\u90e8\uff08N. Virginia: us-east-1\uff09\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u8a18\u9332\u3055\u308c\u308b\u3002\n\n**(8) [How Does CloudTrail Relate to Other AWS Monitoring Services?](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-concepts.html#cloudtrail-concepts-other-aws-monitoring-services)**\n\n**(9) [Partner Solutions](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-concepts.html#cloudtrail-concepts-partner-solutions)**\n\n##1.4 CloudTrail Supported Services\n* [CloudTrail Supported Services \u4e00\u89a7](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-supported-services.html)\n* [CloudTrail \u30c8\u30d4\u30c3\u30af \u4e00\u89a7](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-aws-service-specific-topics.html)\n\n##1.5 CloudTrail Supported Regions\n* [CloudTrail\u3000\u30b5\u30fc\u30d3\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u30ea\u30fc\u30b8\u30e7\u30f3 \u4e00\u89a7](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-supported-regions.html)\n\n##1.6 [CloudTrail Log File Examples](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-log-file-examples.html)\n\n**(1) [CloudTrail Log File Name Format](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-log-file-examples.html#cloudtrail-log-filename-format)**\n**(2) [Log File Examples](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-log-file-examples.html#cloudtrail-log-file-examples-section)**\n\n* Amazon EC2 Log Examples\n* IAM Log Examples\n* Error Code and Message Log Example\n\n#2. [Getting Started with CloudTrail](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-getting-started.html)\n\n##2.1 [Creating and Updating Your Trail](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-create-and-update-a-trail.html)\n\n###2.1.1 [Creating and Updating a Trail with the CloudTrail Console](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-create-and-update-a-trail-by-using-the-console.html)\nAWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089CloudTrail\u3092\u8a2d\u5b9a\u3059\u308b\n\n####2.1.1.1 [Creating a Trail for the First Time](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-create-a-trail-using-the-console-first-time.html)\n**\u521d\u3081\u3066 CloudTrail \u3092\u4f7f\u3046\u305f\u3081\u306e\u8a2d\u5b9a**\n\n* CloudTrail\u30b5\u30fc\u30d3\u30b9\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u3002AWS\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210\u5f8c\u306b\u3001\u6b21\u306e\u624b\u9806\u3067\u30b5\u30fc\u30d3\u30b9\u3092\u958b\u59cb\u3055\u305b\u308b\u3002\n<br/><br/>\n* AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u624b\u9806\n\n>1) **\u7ba1\u7406\u8005\u6a29\u9650\u30dd\u30ea\u30b7\u30fc\u304c\u4ed8\u52a0\u3055\u308c\u305fIAM\u30e6\u30fc\u30b6** \u3067AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u3001CloudTrail\u30b5\u30fc\u30d3\u30b9\u3078\u9077\u79fb\u3059\u308b\u3002(\u53c2\u8003:[IAM \u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b6\u30fc\u304a\u3088\u3073\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210](http://qiita.com/tonishy/items/9eb772b4a5a338ac6ee6#35-iam-%E7%AE%A1%E7%90%86%E8%80%85%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8A%E3%82%88%E3%81%B3%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E4%BD%9C%E6%88%90))\n\n>https://console.aws.amazon.com/cloudtrail/\n\n>2) \u4eca\u3059\u3050\u59cb\u3081\u308b\n\n>3) \u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u6771\u4eac\u3068\u3059\u308b\n>>Choose the region where you want the trail to be based.\n\n>4) CloudTrail \u306e\u6709\u52b9\u5316\n\n>>\u8a3c\u8de1\u540d: trail-test\n>>>\u30fb [\u547d\u540d\u898f\u5247](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-trail-naming-requirements.html)\n\n>>\u8a3c\u8de1\u60c5\u5831\u3092\u5168\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528: \u306f\u3044\n>>>\u30fb AWS\u306e\u63a8\u5968\u8a2d\u5b9a\u306f\u300c\u306f\u3044\u300d\n\n>>\u65b0\u3057\u3044 S3 \u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u304b: \u306f\u3044\n>>>\u30fb \u3044\u3044\u3048\u3092\u9078\u629e\u3057\u305f\u5834\u5408\u306f\u3001\u65e2\u5b58\u306eS3\u30d0\u30b1\u30c3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3002\u305d\u306eS3\u30d0\u30b1\u30c3\u30c8\u306f\u3001[CloudTrail\u7528\u306e\u30d0\u30b1\u30c3\u30c8\u30dd\u30ea\u30b7\u30fc](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/create-s3-bucket-policy-for-cloudtrail.html)\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n>>S3 \u30d0\u30b1\u30c3\u30c8: toru-nishimura-trail-test\n>>>\u30fb \u65b0\u3057\u304f\u4f5c\u6210\u3059\u308bS3\u306e\u30d0\u30b1\u30c3\u30c8\u540d\u3092\u5165\u529b\u3059\u308b\u3002\n>>>\u30fb \u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u4e00\u610f\u306e\u540d\u524d\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\uff08\u5168\u4e16\u754c\u306eAWS S3\u5229\u7528\u8005\u304c\u3059\u3067\u306b\u540d\u4ed8\u3051\u305f\u30d0\u30b1\u30c3\u30c8\u540d\u306f\u4f7f\u7528\u3067\u304d\u306a\u3044\uff09\u3002\n>>>\u30fb [\u547d\u540d\u898f\u5247](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-s3-bucket-naming-requirements.html)\n\n>>\u8a73\u7d30\n\n>>\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\n>>>\u30fb \u4eca\u56de\u306f\u7121\u8a18\u5165\n\n>>\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u691c\u8a3c\u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u304b\u3002: \u306f\u3044\n\n>>\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u914d\u4fe1\u306e\u305f\u3073\u306b SNS \u901a\u77e5\u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u304b: \u3044\u3044\u3048\n\n>>\u6709\u52b9\u5316\n\n>4) \u78ba\u8a8d\n\n>>\u30fbCloudTrail \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\n>>\u3000https://console.aws.amazon.com/cloudtrail/\n>>\n![20161212-01.png](https://qiita-image-store.s3.amazonaws.com/0/148868/ced74542-2f4e-69b1-e5b5-5a60c0c5cc79.png)\n\n>>\u30fbtrail-test \u8a2d\u5b9a\u753b\u9762\n![20161212-02.png](https://qiita-image-store.s3.amazonaws.com/0/148868/877025bd-d6f2-9efa-0019-a6105ca004ee.png)\n\n>>>\u25bcS3\u3000\u8a2d\u5b9a\u9805\u76ee\u306e\u300c\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u6697\u53f7\u5316\u3057\u307e\u3059\u304b\u3002\u300d\u8a2d\u5b9a\u306b\u95a2\u3057\u3066\n>>>\u30fb\u3053\u306e\u8a2d\u5b9a\u306f\u3001trail\u4f5c\u6210\u6642\u306e\u753b\u9762\u306b\u306f\u306a\u304b\u3063\u305f\u3002trail\u4f5c\u6210\u5f8c\u306b\u5909\u66f4\u3067\u304d\u308b\u8a2d\u5b9a\u3060\u3068\u601d\u308f\u308c\u308b\u3002\n>>>\u30fb\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u300c\u3044\u3044\u3048\u300d\u3068\u306a\u3063\u3066\u3044\u3066\u3001\u6697\u53f7\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u611f\u3058\u3060\u3051\u3069\u3001\u304d\u3063\u3068\u3001[S3 Server Side Encryption\uff08SSE\uff09](#sse) \u306f\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3002\n>>>\u30fb\u3053\u3053\u3067\u8a00\u3046\u6697\u53f7\u5316\u3068\u306f\u3001KMS \u3092\u4f7f\u7528\u3057\u3066\u6697\u53f7\u5316\u3059\u308b\u304b\u3069\u3046\u304b\u3001\u3068\u3044\u3046\u3053\u3068\u3060\u3068\u601d\u308f\u308c\u308b\u3002\n\n>>\u30fbS3\u30d0\u30b1\u30c3\u30c8\n>>>\u30fb S3\u306bCloudTrail\u7528\u30d0\u30b1\u30c3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n![20161212-03.png](https://qiita-image-store.s3.amazonaws.com/0/148868/3d49d87b-242e-34bb-0876-b0f4057f817e.png)\n>>>>\u30fb\u8a3c\u8de1\u60c5\u5831\u3092\u5168\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u306b\u3057\u305f\u305f\u3081\u3001\u73fe\u5728\u5b58\u5728\u3059\u308b\u3059\u3079\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u540d\u306e\u30d0\u30b1\u30c3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002\n\u4f5c\u6210\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001[\u9045\u304f\u3066\u3082\uff12\uff10\u5206](#timeline)\u306f\u5f85\u3063\u3066\u304b\u3089\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3002\n>>>>\u30fb\u30d0\u30b1\u30c3\u30c8\u4f5c\u6210\u4ee5\u964d\u306b\u65b0\u3057\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u304c\u30ed\u30fc\u30f3\u30c1\u3057\u305f\u5834\u5408\u306f\u3001\u81ea\u52d5\u7684\u306b\u305d\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u540d\u306e\u30d0\u30b1\u30c3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b\u306f\u305a\u3002\n\n>>>\u30fb \u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3\u30d0\u30b1\u30c3\u30c8\u306e\u4e2d\u306e CloudTrail Log\u3000\u3092\u78ba\u8a8d\u3002\n![20161212-04.png](https://qiita-image-store.s3.amazonaws.com/0/148868/4e55915b-cf66-30ad-24b1-be061e486d96.png)\n>>>>\u30fbCloudTrail \u3092\u6709\u52b9\u5316\u3057\u305f\u76f4\u5f8c\u304b\u3089\u3001\u8a3c\u8de1\u60c5\u5831\u306fS3\u30d0\u30b1\u30c3\u30c8\u3078\u8ee2\u9001\u3055\u308c\u308b\u3002\u305f\u3060\u3057\u3001S3\u30d0\u30b1\u30c3\u30c8\u3078\u8ee2\u9001\u3055\u308c\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u306f\u3001[\u9045\u304f\u3066\u3082\uff12\uff10\u5206](#timeline)\u3002\n>>>>\u30fb[Finding Your CloudTrail Log Files](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-find-log-files.html)\n>>>>\u30fb[Reading Your CloudTrail Log Files](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-read-log-files.html)\n\n>>>\u30fb trail\u4f5c\u6210\u6642\u306b\u300c\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u691c\u8a3c\u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u304b\u3002: \u306f\u3044\u300d\u3068\u3057\u305f\u5834\u5408\u306f\u3001\uff11\u6642\u9593\u5f8c\u304f\u3089\u3044\u306b[Digest \u30d0\u30b1\u30c3\u30c8](#38-validating-cloudtrail-log-file-integrity)\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002\n>>>![20161215-01.png](https://qiita-image-store.s3.amazonaws.com/0/148868/f03d7ecf-249f-a628-db5f-8759026aff42.png)\n\n>5) S3 CloudTrail\u30ed\u30b0\u7528\u30d0\u30b1\u30c3\u30c8\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u8a2d\u5b9a\n>[\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306f\u6c38\u7d9a\u7684\u306b\u4fdd\u5b58\u3055\u308c\u308b](#retentionperiod)\u3002\n>\u4eca\u56de\u306f\u3001\uff13\uff10\u65e5\u7d4c\u904e\u3057\u305f\u3082\u306e\u306fS3\u30d0\u30b1\u30c3\u30c8\u304b\u3089\u5b8c\u5168\u306b\u524a\u9664\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3046\n>>S3 \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\n\u3000https://console.aws.amazon.com/s3/\n\n>>CloudTrail\u7528\u30d0\u30b1\u30c3\u30c8\u306e\u866b\u773c\u93e1\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3000\u21d2\u3000\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\n![20161215-02.png](https://qiita-image-store.s3.amazonaws.com/0/148868/e2feabe3-38d2-901e-595a-51c511ed6f2b.png)\n\n>>>\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3059\u308b\n>>>>\u6b21\u306e\u30eb\u30fc\u30eb\u3092\u9069\u7528: \u30d0\u30b1\u30c3\u30c8\u5168\u4f53: toru-nishimura-trail-test\n>>>>\u5b8c\u5168\u306b\u524a\u9664: 30\n>>>>\u30eb\u30fc\u30eb\u540d: cloudtrail-logs-delete\n\n>>\u4f5c\u6210\u5b8c\u4e86\n![20161215-03.png](https://qiita-image-store.s3.amazonaws.com/0/148868/fcbd8306-a9e2-f852-9560-abbb156471aa.png)\n\n\n####2.1.1.2 [Adding a Trail](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-add-a-trail-using-the-console.html)\n\u8a3c\u8de1\u60c5\u5831\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\n\n* \u53c2\u8003\n<br/>[Multiple trails per region - \u8907\u6570\u306e\u8a3c\u8de1\u60c5\u5831](#MultipleTrailsPerRegion)\n\n####2.1.1.3 [Updating a Trail](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-update-a-trail-console.html)\nCloudTrail\u8a2d\u5b9a\u3092\u4f5c\u6210\u3057\u305f\u5f8c\u3067\u8a2d\u5b9a\u53ef\u80fd\u306b\u306a\u308b\u3082\u306e\n\n* [S3\u30d0\u30b1\u30c3\u30c8\u306eKMS\u6697\u53f7\u5316](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/encrypting-cloudtrail-log-files-with-aws-kms.html)\n* [CloudWatch Logs\u8a2d\u5b9a](#34-monitoring-cloudtrail-log-files-with-amazon-cloudwatch-logs)\n* [\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u8a2d\u5b9a](#32-configuring-event-selectors-for-trails)\n* \u30bf\u30b0\u8a2d\u5b9a\n\n####2.1.1.4 [Deleting a Trail](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-delete-trails-console.html)\n\u8a3c\u8de1\u60c5\u5831\u306e\u524a\u9664\n\n#####2.1.1.5 [Turning off Logging for a Trail](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-turning-off-logging.html)\n\u8a3c\u8de1\u60c5\u5831\u306e\u30ed\u30b0\u8a18\u9332\u3092\u7121\u52b9\u5316\n\n###2.1.2 [Creating and Updating a Trail with the AWS Command Line Interface](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-create-and-update-a-trail-by-using-the-aws-cli.html)\n###2.1.3 [CloudTrail Trail Naming Requirements](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-trail-naming-requirements.html)\n###2.1.4 [Amazon S3 Bucket Naming Requirements](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-s3-bucket-naming-requirements.html)\n###2.1.5 [Amazon S3 Bucket Policy for CloudTrail](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/create-s3-bucket-policy-for-cloudtrail.html)\n###2.1.6 [AWS KMS Alias Naming Requirements](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/KMS-key-naming-requirements.html)\n\n\n##2.2 [Viewing Events with CloudTrail API Activity History](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/view-cloudtrail-events.html)\n**API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u5c65\u6b74**\n\n* \u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c8\u3084\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u7b49\u306e\u8abf\u67fb\u30fb\u78ba\u8a8d\u30fb\u76e3\u67fb\u7528\u3068\u3057\u3066\u3001\u76f4\u8fd1\uff17\u65e5\u9593\u306e\u8a3c\u8de1\u60c5\u5831(API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u5c65\u6b74)\u3092S3\u304b\u3089\u3067\u306f\u306a\u304fCloudTrail console, AWS CLI, or AWS SDKs \u304b\u3089\u95b2\u89a7\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n###2.2.1 [Viewing CloudTrail Events in the CloudTrail Console](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/view-cloudtrail-events-console.html)\n\u8a3c\u8de1\u60c5\u5831\u3092\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306eCloudTrail \u306e API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u5c65\u6b74\u304b\u3089\u78ba\u8a8d\u3059\u308b\n\nhttps://console.aws.amazon.com/cloudtrail/home/\n\u21d2 API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u5c65\u6b74\n\n* \u30d5\u30a3\u30eb\u30bf\u30fc\u3067\u5c5e\u6027(\u30e6\u30fc\u30b6\u30fc\u540d,\u30a4\u30d9\u30f3\u30c8\u540d,\u30ea\u30bd\u30fc\u30b9\u30bf\u30a4\u30d7,\u30ea\u30bd\u30fc\u30b9\u540d,\u30a4\u30d9\u30f3\u30c8ID)\u3092\u3001\u6642\u9593\u7bc4\u56f2\u3067\u958b\u59cb\u6642\u9593\u3068\u7d42\u4e86\u6642\u9593\u3092\u6307\u5b9a\u3057\u3066\u3001\u76ee\u7684\u306e\u60c5\u5831\u3092\u7d5e\u308b\u4e8b\u304c\u53ef\u80fd\u3002\n* \u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30c8\u306e\u5404\u884c\u306e\u5de6\u306e\u25b6\u3092\u30c9\u30ea\u30eb\u30c0\u30a6\u30f3\u3059\u308b\u3053\u3068\u3067\u8a73\u7d30\u60c5\u5831\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n* AWS Config \u3092\u6709\u52b9\u306b\u3059\u308c\u3070\u3001\u305d\u306e\u30a4\u30d9\u30f3\u30c8\u306b\u95a2\u4fc2\u3059\u308b AWS Config \u60c5\u5831\u3082\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n###2.2.2 [Viewing CloudTrail Events with the AWS CLI](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/view-cloudtrail-events-cli.html)\n\n###2.2.3 [Regions Supported by CloudTrail API Activity History](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/view-cloudtrail-events-supported-regions.html)\n\n###2.2.4 [Services Supported by CloudTrail API Activity History](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/view-cloudtrail-events-supported-services.html)\n\n###2.2.5 [Resource Types Supported by CloudTrail API Activity History](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/view-cloudtrail-events-supported-resource-types.html)\n\n##2.3 [Controlling User Permissions for CloudTrail](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/control-user-permissions-for-cloudtrail.html)\n\n##2.4 [Getting and Viewing Your CloudTrail Log Files](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/get-and-view-cloudtrail-log-files.html)\n\n###2.4.1 [Finding Your CloudTrail Log Files](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-find-log-files.html)\n###2.4.2 [Reading Your CloudTrail Log Files](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-read-log-files.html)\n\n##2.5 [Configuring Amazon SNS Notifications for CloudTrail](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/configure-sns-notifications-for-cloudtrail.html)\n\n#3. [Working with CloudTrail Log Files](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-working-with-log-files.html)\n\n##3.1 [Create Multiple Trails](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/create-multiple-trails.html)\n* \u5229\u7528\u4f8b\n * *A security administrator creates a trail in the EU (Ireland) Region and configures KMS log file encryption. The log files are delivered to a separate S3 bucket.*\n * *A developer creates a trail in the EU (Frankfurt) Region and configures CloudWatch alarms to receive notifications for specific API activity.*\n * *An IT auditor creates a trail in the EU (Ireland) Region and configures log file integrity validation to ensure the log files have not changed since CloudTrail delivered them.*\n * *Another developer creates a trail in the EU (Frankfurt) Region and configures SNS. The log files are delivered to a separate S3 bucket.*\n![eu-shared-01.png](https://qiita-image-store.s3.amazonaws.com/0/148868/065a9578-844d-fe91-6f04-cf4d13d9b79a.png)\n\n##3.2 [Configuring Event Selectors for Trails](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/create-event-selectors-for-a-trail.html)\n**\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u8a2d\u5b9a**\n\n* \uff11\u3064\u306e\u8a3c\u8de1\u60c5\u5831\u8a2d\u5b9a\u306e\u4e2d\u3067\u3001\u8a18\u9332\u3057\u305f\u3044\u30a4\u30d9\u30f3\u30c8\u306e\u30bf\u30a4\u30d7\u3092\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u3067\u9078\u629e\u3059\u308b(\u6700\u5927\uff15\u3064)\u3002\n<br/><br/>\n* \u30a4\u30d9\u30f3\u30c8(API\u547c\u3073\u51fa\u3057)\u306e\u30bf\u30a4\u30d7\n<br/><br/>\n * \u30c7\u30fc\u30bf\u30a4\u30d9\u30f3\u30c8\n<br/>\u30fb Amazon S3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ec\u30d9\u30eb\u306eAPI\u64cd\u4f5c\u306e\u30ed\u30b0(GetObject\u3001DeleteObject\u3001PutObject\u306a\u3069)\u306e\u3053\u3068\u3002\n<br/>\u30fb \u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30a4\u30d9\u30f3\u30c8\u3092\u8a18\u9332\u3057\u3066\u3044\u306a\u3044\u3002\n<br/>\u30fb \u30c7\u30fc\u30bf\u30a4\u30d9\u30f3\u30c8\u3092\u30ed\u30b0\u3059\u308b\u306b\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u306e S3 \u30ea\u30bd\u30fc\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n<br/>\u30fb \u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001[\u8ffd\u52a0\u6599\u91d1\u304c\u9069\u7528\u3055\u308c\u307e\u3059](https://docs.aws.amazon.com/console/awscloudtrail/CreateTrail/eventselectors)\u3002 \n<br/><br/>\n * \u7ba1\u7406\u30a4\u30d9\u30f3\u30c8\n<br/>\u30fb \u30c7\u30fc\u30bf\u30a4\u30d9\u30f3\u30c8\u4ee5\u5916\u306e\u3059\u3079\u3066\u306e\u30a4\u30d9\u30f3\u30c8\u306e\u3053\u3068\u3002\n<br/>\u30fb \u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u306f\u3001\u7ba1\u7406\u30a4\u30d9\u30f3\u30c8\u306e\u8aad\u307f\u8fbc\u307f/\u66f8\u304d\u8fbc\u307f\u30a4\u30d9\u30f3\u30c8\u3092\u8a18\u9332\u3057\u3066\u3044\u308b\u3002\n<br/><br/>\n * \u8aad\u307f\u8fbc\u307f\u30a4\u30d9\u30f3\u30c8\n<br/>\u30fb \u30ea\u30bd\u30fc\u30b9\u306b\u4f55\u306e\u5909\u66f4\u3092\u52a0\u3048\u306a\u3044\u30a4\u30d9\u30f3\u30c8\u306e\u3053\u3068\u3002\n<br/><br/>\n * \u66f8\u304d\u8fbc\u307f\u30a4\u30d9\u30f3\u30c8\n<br/>\u30fb \u30ea\u30bd\u30fc\u30b9\u306b\u4f55\u304b\u3057\u3089\u306e\u5909\u66f4\u3092\u52a0\u3048\u308b\u30a4\u30d9\u30f3\u30c8\u306e\u3053\u3068\u3002\n<br/><br/>\n* \u30a4\u30d9\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\u30fc\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\n<br/><br/>\n![20161214-01.png](https://qiita-image-store.s3.amazonaws.com/0/148868/c96aa189-0593-94be-d783-33e4f497d830.png)\n\n##3.3 [Receiving CloudTrail Log Files from Multiple Regions](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/receive-cloudtrail-log-files-from-multiple-regions.html)\n\n##3.4 [Monitoring CloudTrail Log Files with Amazon CloudWatch Logs](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/monitor-cloudtrail-log-files-with-cloudwatch-logs.html)\n**Amazon CloudWatch\u30ed\u30b0\u3092\u4f7f\u7528\u3057\u3066\u3001CloudTrail\u30ed\u30b0\u306e\u76e3\u8996\u3092\u884c\u3046**\n\n###3.4.1 [Sending CloudTrail Events to CloudWatch Logs](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/send-cloudtrail-events-to-cloudwatch-logs.html)\n**CloudTrail\u30ed\u30b0\u3092CloudWatch Logs\u3078\u9001\u4fe1\u3059\u308b\u8a2d\u5b9a**\n\n* AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u624b\u9806\n\n>1) **\u7ba1\u7406\u8005\u6a29\u9650\u30dd\u30ea\u30b7\u30fc\u304c\u4ed8\u52a0\u3055\u308c\u305fIAM\u30e6\u30fc\u30b6** \u3067AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u3001CloudTrail\u30b5\u30fc\u30d3\u30b9\u3078\u9077\u79fb\u3059\u308b\u3002(\u53c2\u8003:[IAM \u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b6\u30fc\u304a\u3088\u3073\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210](http://qiita.com/tonishy/items/9eb772b4a5a338ac6ee6#35-iam-%E7%AE%A1%E7%90%86%E8%80%85%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8A%E3%82%88%E3%81%B3%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E4%BD%9C%E6%88%90))\n\n>\u3000https://console.aws.amazon.com/cloudtrail/\n\n>2) \u8a2d\u5b9a\u3059\u308b \u8a73\u7d30\u60c5\u5831\u540d \u3092\u9078\u629e\u3059\u308b\n\n>3) [CloudWatch Logs] \u2192 \u8a2d\u5b9a\n![20161214-02.png](https://qiita-image-store.s3.amazonaws.com/0/148868/12eeda6e-cb04-a3f0-17a6-e0af7d066129.png)\n\n>4) \u65b0\u898f\u307e\u305f\u306f\u65e2\u5b58\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u540d\u3092\u5165\u529b\u3059\u308b \u2192 \u6b21\u3078\n![20161214-03.png](https://qiita-image-store.s3.amazonaws.com/0/148868/5a9465df-1730-3555-542b-03de56ac67c5.png)\n>>[AWS\u63a8\u5968\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u540d](http://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudwatch-log-group-log-stream-naming-for-cloudtrail.html)\n\n>5) IAM\u30ed\u30fc\u30eb\u306e\u6307\u5b9a \u2192 \u8a31\u53ef\n![20161214-04.png](https://qiita-image-store.s3.amazonaws.com/0/148868/337266b5-b79b-0249-54a0-c047c792441c.png)\n\u4eca\u56de\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u901a\u308a\u306b\n>>IAM\u30ed\u30fc\u30eb: \u65b0\u3057\u3044IAM\u30ed\u30fc\u30eb\u306e\u4f5c\u6210\n>>\u30ed\u30fc\u30eb\u540d: CloudTrail_CloudWatchLogs_Role\n\n>\n![20161214-05.png](https://qiita-image-store.s3.amazonaws.com/0/148868/7dd2ef33-1ad7-6c96-76ea-bc7e0c55784d.png)\n\n>6) \u78ba\u8a8d\n\n>\u3000https://console.aws.amazon.com/cloudwatch/\n>\u3000\u21d2\u5de6\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30da\u30a4\u30f3\u304b\u3089\u30ed\u30b0\u3092\u9078\u629e\n>\n> \u4f5c\u6210\u3057\u305f\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u300cCloudTrail/test-logs\u300d\u3092\u9078\u629e\n\n>7) CloudTrail \u306e CloudWatch Logs \u30c7\u30fc\u30bf\u4fdd\u6301\u671f\u9593\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\n\u3000\u203bCloudTrail \u30ed\u30b0\u306e\u9577\u671f\u4fdd\u7ba1\u306fS3\u3067\u884c\u3046\u3002\n\u3000\u203bCloudTrail \u30ed\u30b0\u3092 CloudWatch Logs \u3078\u9001\u4fe1\u3059\u308b\u76ee\u7684\u306f\u6b21\u306e\u3088\u3046\u306a\u3053\u3068\u304b\u3089\n\u3000\u3000\u305d\u308c\u307b\u3069\u9577\u671f\u9593\u4fdd\u6301\u3057\u3066\u304a\u304f\u5fc5\u8981\u306f\u7121\u3044\u3068\u601d\u308f\u308c\u308b\u3002\n\u3000\u3000\u30fb\u77ed\u671f\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c8\u3084\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u7b49\u306e\u8abf\u67fb\u30fb\u78ba\u8a8d\u30fb\u76e3\u67fb\u7528\n\u3000\u3000\u30fbCloudWatch \u30a2\u30e9\u30fc\u30e0\u7528\n\u3000\u3000\u30fbCloudWatch ES \u3078\u30ed\u30b0\u3092\u9001\u308b\u7528\n>>\u30fb [\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u4fdd\u5b58\u671f\u9593\u306b\u3064\u3044\u3066](http://qiita.com/tonishy/private/7051821d25e69919ac2f#cloudwatchlogs-metrics)\n>>\u30fb [\u5909\u66f4\u65b9\u6cd5](http://qiita.com/tonishy/private/7051821d25e69919ac2f#editperiod)\n\n\n###3.4.2 [Using an AWS CloudFormation Template to Create CloudWatch Alarms](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/use-cloudformation-template-to-create-cloudwatch-alarms.html)\n\n\n###3.4.3 [Creating CloudWatch Alarms for CloudTrail Events: Examples](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html)\nCloudTrail\u30ed\u30b0\u306eCloudWatch\u30a2\u30e9\u30fc\u30c8\u8a2d\u5b9a\u4f8b\n\n* [Amazon S3 Bucket Activity](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html#cloudwatch-alarms-for-cloudtrail-s3-bucket-activity)\n* [Security Group Configuration Changes](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html#cloudwatch-alarms-for-cloudtrail-security-group)\n* [Network Access Control List (ACL) Changes](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html#cloudwatch-alarms-for-cloudtrail-network-acl)\n* [Network Gateway Changes](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html#cloudwatch-alarms-for-cloudtrail-gateway-changes)\n* [Amazon Virtual Private Cloud (VPC) Changes](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html#cloudwatch-alarms-for-cloudtrail-vpc-changes)\n* [Amazon EC2 Instance Changes](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html#cloudwatch-alarms-for-cloudtrail-ec2-instance-changes)\n* [EC2 Large Instance Changes](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html#cloudwatch-alarms-for-cloudtrail-ec2-large-instance-changes)\n* [CloudTrail Changes](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html#cloudwatch-alarms-for-cloudtrail-cloudtrail-changes)\n* [Console Sign-In Failures](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html#cloudwatch-alarms-for-cloudtrail-signin)\n* [Authorization Failures](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html#cloudwatch-alarms-for-cloudtrail-authorization-failures)\n* [IAM Policy Changes](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html#cloudwatch-alarms-for-cloudtrail-iam-policy-changes)\n\n###3.4.4 [Creating CloudWatch Alarms for CloudTrail Events: Additional Examples](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail-additional-examples.html)\n\n* **AWS\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306b\u30eb\u30fc\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u8cc7\u683c\u60c5\u5831\u304c\u4f7f\u7528\u3055\u308c\u305f\u3068\u304d**\u3001\u307e\u305f\u306f **MFA\u306e\u306a\u3044API\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u3084\u30b3\u30f3\u30bd\u30fc\u30eb\u30b5\u30a4\u30f3\u30a4\u30f3\u304c\u767a\u751f\u3057\u305f\u3068\u304d** \u306b\u901a\u77e5\u3059\u308bCloudWatch\u30a2\u30e9\u30fc\u30e0\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001AWS\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u304c\u3053\u308c\u3089\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u306b\u6e96\u62e0\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u76e3\u8996\u3067\u304d\u307e\u3059\u3002\n<br/><br/>\n* \u30a2\u30e9\u30fc\u30c8\u8a2d\u5b9a\u4f8b\n<br/><br/>\n 1. [Monitor for Root Usage](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail-additional-examples.html#cloudwatch-alarms-for-cloudtrail-root-example)<br/>\u30eb\u30fc\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u8a8d\u8a3c\u60c5\u5831\u3092\u4f7f\u7528\u3057\u3066AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u305f\u3068\u304d\u306b\u901a\u77e5\u3059\u308b\n<br/><br/>\n 2. [Monitor for API Activity Without Multi-factor Authentication (MFA)](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail-additional-examples.html#cloudwatch-alarms-for-cloudtrail-no-mfa-example)<br/>MFA\u306e\u306a\u3044API\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u304c\u767a\u751f\u3057\u305f\u3068\u304d \u306b\u901a\u77e5\u3059\u308b\n<br/><br/>\n 3. [Monitor for Console Sign In Without Multi-factor Authentication (MFA)](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail-additional-examples.html#cloudwatch-alarms-for-cloudtrail-console-no-mfa-example)<br/>MFA\u3092\u4f7f\u7528\u3057\u3066\u3044\u306a\u3044\u30b3\u30f3\u30bd\u30fc\u30eb\u30b5\u30a4\u30f3\u30a4\u30f3\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306b\u901a\u77e5\u3059\u308b\n\n<a name=\"MonitorforRootUsage\">**(1) [Monitor for Root Usage](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail-additional-examples.html#cloudwatch-alarms-for-cloudtrail-root-example) \u8a2d\u5b9a\u624b\u9806**\n(\u30eb\u30fc\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u8a8d\u8a3c\u60c5\u5831\u3092\u4f7f\u7528\u3057\u3066AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u305f\u3068\u304d\u306b\u901a\u77e5\u3059\u308b)\n\n>[\u6ce8\u610f]\n>[\u8a3c\u8de1\u60c5\u5831\u3092\u5168\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3002](#ConsoleSignInRegion)\n\n>1) **\u7ba1\u7406\u8005\u6a29\u9650\u30dd\u30ea\u30b7\u30fc\u304c\u4ed8\u52a0\u3055\u308c\u305fIAM\u30e6\u30fc\u30b6(MFA\u3042\u308a)** \u3067AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u3001CloudWatch\u30b5\u30fc\u30d3\u30b9\u3078\u9077\u79fb\u3059\u308b\u3002(\u53c2\u8003:[IAM \u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b6\u30fc\u304a\u3088\u3073\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210](http://qiita.com/tonishy/items/9eb772b4a5a338ac6ee6#35-iam-%E7%AE%A1%E7%90%86%E8%80%85%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8A%E3%82%88%E3%81%B3%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E4%BD%9C%E6%88%90))\n\n>\u3000 https://console.aws.amazon.com/cloudwatch/\n\n>2) \u5de6\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30da\u30a4\u30f3\u304b\u3089\u30ed\u30b0\u3092\u9078\u629e\n\n>3) 4.2.2.1 \u3067\u4f5c\u6210\u3057\u305f CloudTrail\u7528\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u540d\u3092\u9078\u629e\n\n>4) \u30e1\u30c8\u30ea\u30af\u30b9\u30d5\u30a3\u30eb\u30bf\u306e\u4f5c\u6210\u3092\u30af\u30ea\u30c3\u30af\n![20161214-07.png](https://qiita-image-store.s3.amazonaws.com/0/148868/3584ada4-122a-5bc4-0cdc-a2d802143796.png)\n\n>5) \u30ed\u30b0\u30e1\u30c8\u30ea\u30af\u30b9\u30d5\u30a3\u30eb\u30bf\u306e\u5b9a\u7fa9\n>>\u30fb \u30d5\u30a3\u30eb\u30bf\u30d1\u30bf\u30fc\u30f3: \n<pre>\n{ $.userIdentity.type = \"Root\" && $.userIdentity.invokedBy NOT EXISTS && $.eventType != \"AwsServiceEvent\" }\n</pre>\n\n>>\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u5272\u308a\u5f53\u3066\n\n>6) \u30e1\u30c8\u30ea\u30af\u30b9\u30d5\u30a3\u30eb\u30bf\u306e\u4f5c\u6210\u3068\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u5272\u308a\u5f53\u3066\n>>\u30fb \u30e1\u30c8\u30ea\u30af\u30b9\u540d\u524d\u7a7a\u9593: LogMetrics (\u30c7\u30d5\u30a9\u30eb\u30c8)\n>>\u30fb \u30e1\u30c8\u30ea\u30af\u30b9\u540d: RootAccountUsageCount\n>>\u30d5\u30a3\u30eb\u30bf\u306e\u4f5c\u6210\n![20161214-08.png](https://qiita-image-store.s3.amazonaws.com/0/148868/e215096f-d1e6-c410-bc2d-873cfe526a82.png)\n\n>7) \u30a2\u30e9\u30fc\u30e0\u306e\u4f5c\u6210\n>>\u540d\u524d: RootAccountUsage\n>>\u6b21\u306e\u6642: RootAccountUsageCount \u304c: >= 1 \u3092: 1 \u56de\u9023\u7d9a\u3057\u305f\u5834\u5408\n>>\u9593\u9694: 5\u5206\u9593\n>>\u7d71\u8a08: Standard, \u5408\u8a08\n>>\u30a2\u30af\u30b7\u30e7\u30f3(SNS)\u8a2d\u5b9a\u3001\u30e1\u30fc\u30eb\u9001\u4fe1\u8a2d\u5b9a\u306a\u3069\u306f\u9069\u5f53\u306b\n>>\n![20161214-11.png](https://qiita-image-store.s3.amazonaws.com/0/148868/cac98490-e1f1-08a9-a723-822aa424189a.png)\n>>\n>>[\u6ce8\u610f]\u30eb\u30fc\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u4f55\u304b\u3057\u3089\u306e\u64cd\u4f5c\u3092\u3057\u3066\u3044\u305f\u5834\u5408\u306f\u3001\u53f3\u306e\u30b0\u30e9\u30d5\u306bUsage\u6570\u304c\u30d7\u30ed\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b\u3002\n\n>8) \u30a2\u30e9\u30fc\u30e0\u8a2d\u5b9a\u5b8c\u4e86\n>>![20161214-12.png](https://qiita-image-store.s3.amazonaws.com/0/148868/f38d012f-0a3f-abef-bb8c-647eabc94a55.png)\n\n>9) \u76e3\u8996\u958b\u59cb\u72b6\u614b\n>>\u30fb\u76e3\u8996\u72b6\u614b\u304c\u300c\u30c7\u30fc\u30bf\u4e0d\u8db3\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u304c\u3001\u3053\u306e\u76e3\u8996\u8a2d\u5b9a\u3067\u306f\u3053\u306e\u72b6\u614b\u3067\u76e3\u8996\u3092\u884c\u3063\u3066\u3044\u308b\u3002\n>>\n![20161214-13.png](https://qiita-image-store.s3.amazonaws.com/0/148868/2323eaeb-d549-ee04-6f12-4dbe83acb10d.png)\n\n>10) \u52d5\u4f5c\u78ba\u8a8d\n>>\u30fb\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u3066\u3001\u30eb\u30fc\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u8a8d\u8a3c\u60c5\u5831\u3067\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u306b\u6210\u529f\u3055\u305b\u308b\u3002\u305d\u306e\u307e\u307e[\u9045\u304f\u3066\u3082\uff12\uff10\u5206](#timeline)\u304f\u3089\u3044\u5f85\u3061\u3001\u30a2\u30e9\u30fc\u30c8\u304c\u901a\u77e5\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n>>\n>>\u30fb\u72b6\u614b\n![20161214-14.png](https://qiita-image-store.s3.amazonaws.com/0/148868/894a142f-3bf7-9574-6912-24dd711e5177.png)\n\n\n<a name=\"MonitorforConsoleSignInWithoutMFA\">**(2) [Monitor for Console Sign In Without MFA](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail-additional-examples.html#cloudwatch-alarms-for-cloudtrail-console-no-mfa-example) \u8a2d\u5b9a\u624b\u9806**\n(MFA\u3092\u4f7f\u7528\u3057\u3066\u3044\u306a\u3044\u30b3\u30f3\u30bd\u30fc\u30eb\u30b5\u30a4\u30f3\u30a4\u30f3\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306b\u901a\u77e5\u3059\u308b)\n\n>[\u6ce8\u610f]\n>[\u8a3c\u8de1\u60c5\u5831\u3092\u5168\u3066\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u9069\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3002](#ConsoleSignInRegion)\n\n>1) **\u7ba1\u7406\u8005\u6a29\u9650\u30dd\u30ea\u30b7\u30fc\u304c\u4ed8\u52a0\u3055\u308c\u305fIAM\u30e6\u30fc\u30b6(MFA\u3042\u308a)** \u3067AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u3001CloudWatch\u30b5\u30fc\u30d3\u30b9\u3078\u9077\u79fb\u3059\u308b\u3002(\u53c2\u8003:[IAM \u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b6\u30fc\u304a\u3088\u3073\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210](http://qiita.com/tonishy/items/9eb772b4a5a338ac6ee6#35-iam-%E7%AE%A1%E7%90%86%E8%80%85%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8A%E3%82%88%E3%81%B3%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E4%BD%9C%E6%88%90))\n\n>\u3000https://console.aws.amazon.com/cloudwatch/\n\n>2) \u5de6\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30da\u30a4\u30f3\u304b\u3089\u30ed\u30b0\u3092\u9078\u629e\n\n>3) 4.2.2.1 \u3067\u4f5c\u6210\u3057\u305f CloudTrail\u7528\u306e\u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u540d\u3092\u9078\u629e\n\n>4) \u30e1\u30c8\u30ea\u30af\u30b9\u30d5\u30a3\u30eb\u30bf\u306e\u4f5c\u6210\u3092\u30af\u30ea\u30c3\u30af\n\n>5) \u30ed\u30b0\u30e1\u30c8\u30ea\u30af\u30b9\u30d5\u30a3\u30eb\u30bf\u306e\u5b9a\u7fa9\n>>\u30fb \u30d5\u30a3\u30eb\u30bf\u30d1\u30bf\u30fc\u30f3: \n<pre>\n{ $.eventName = \"ConsoleLogin\" && $.additionalEventData.MFAUsed = \"No\" }\n</pre>\n>>\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u5272\u308a\u5f53\u3066\n\n>6) \u30e1\u30c8\u30ea\u30af\u30b9\u30d5\u30a3\u30eb\u30bf\u306e\u4f5c\u6210\u3068\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u5272\u308a\u5f53\u3066\n>>\u30fb \u30e1\u30c8\u30ea\u30af\u30b9\u540d\u524d\u7a7a\u9593: LogMetrics (\u30c7\u30d5\u30a9\u30eb\u30c8)\n>>\u30fb \u30e1\u30c8\u30ea\u30af\u30b9\u540d: ConsoleSignInWithoutMfaCount\n>>\u30d5\u30a3\u30eb\u30bf\u306e\u4f5c\u6210\n![20161214-15.png](https://qiita-image-store.s3.amazonaws.com/0/148868/5bfce71a-2434-c507-7cd9-062d246ec0bb.png)\n\n>7) \u30a2\u30e9\u30fc\u30e0\u306e\u4f5c\u6210\n>>\u540d\u524d: ConsoleSignInWithoutMfa\n>>\u6b21\u306e\u6642: ConsoleSignInWithoutMfaCount \u304c: >= 1 \u3092: 1 \u56de\u9023\u7d9a\u3057\u305f\u5834\u5408\n>>\u9593\u9694: 5\u5206\u9593\n>>\u7d71\u8a08: Standard, \u5408\u8a08\n>>\u30a2\u30af\u30b7\u30e7\u30f3(SNS)\u8a2d\u5b9a\u3001\u30e1\u30fc\u30eb\u9001\u4fe1\u8a2d\u5b9a\u306a\u3069\u306f\u9069\u5f53\u306b\n>>\n![20161214-16.png](https://qiita-image-store.s3.amazonaws.com/0/148868/14fa21e1-fc56-2e06-9681-f7c31899c237.png)\n\n>8) \u30a2\u30e9\u30fc\u30e0\u8a2d\u5b9a\u5b8c\u4e86\n\n>9) \u76e3\u8996\u958b\u59cb\u72b6\u614b\n>>\u30fb\u76e3\u8996\u72b6\u614b\u304c\u300c\u30c7\u30fc\u30bf\u4e0d\u8db3\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u304c\u3001\u3053\u306e\u76e3\u8996\u8a2d\u5b9a\u3067\u306f\u3053\u306e\u72b6\u614b\u3067\u76e3\u8996\u3092\u884c\u3063\u3066\u3044\u308b\u3002\n>>\n![20161214-17.png](https://qiita-image-store.s3.amazonaws.com/0/148868/2d606d78-5362-e0d7-4d8a-ce02e1c2c4de.png)\n\n>10) \u52d5\u4f5c\u78ba\u8a8d\n>>\u30fb\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u3066\u3001MFA\u306a\u3057\u306eIMA\u30e6\u30fc\u30b6\u30fc\u3067\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u306b\u6210\u529f\u3055\u305b\u308b\u3002\u305d\u306e\u307e\u307e[\u9045\u304f\u3066\u3082\uff12\uff10\u5206](#timeline)\u304f\u3089\u3044\u5f85\u3061\u3001\u30a2\u30e9\u30fc\u30c8\u304c\u901a\u77e5\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n>>\n>>\u30fb\u3061\u306a\u307f\u306b\u3001\u30b5\u30a4\u30f3\u30a4\u30f3\u8a8d\u8a3c\u30da\u30fc\u30b8\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306f\u3001URL\u306b\u300cus-east-1.signin.aws.amazon.com\u300d\u3068\u3042\u308b\u901a\u308a\u3001\u5fc5\u305a\u30d0\u30fc\u30b8\u30cb\u30a2\u5317\u90e8\u3068\u306a\u308b\u3002\u30b5\u30a4\u30f3\u30a4\u30f3\u6642\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u30ed\u30b0\u30a4\u30f3\u306e\u30ed\u30b0\u306f\u3001\u30d0\u30fc\u30b8\u30cb\u30a2\u5317\u90e8\u30ea\u30fc\u30b8\u30e7\u30f3\u306e CloudTrail \u306e API \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u5c65\u6b74 \u306b\u8868\u793a\u3055\u308c\u308b\u3002\n>>\n>>\u30fb\u72b6\u614b\n![20161214-18.png](https://qiita-image-store.s3.amazonaws.com/0/148868/5e1a36b7-0449-6f57-a12f-958e86e7f793.png)\n\n###3.4.5 [Configuring Notifications for CloudWatch Logs Alarms](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-configure-notifications-for-cloudwatch-logs-alarms.html)\n\n###3.4.6 [Stopping CloudTrail from Sending Events to CloudWatch Logs](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/stop-cloudtrail-from-sending-events-to-cloudwatch-logs.html)\n\n###3.4.7 [CloudWatch Log Group and Log Stream Naming for CloudTrail](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudwatch-log-group-log-stream-naming-for-cloudtrail.html)\n\n###3.4.8 [Role Policy Document for CloudTrail to Use CloudWatch Logs for Monitoring](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-required-policy-for-cloudwatch-logs.html)\n\n##3.5 [Receiving CloudTrail Log Files from Multiple Accounts](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-receive-logs-from-multiple-accounts.html)\n\n##3.6 [Sharing CloudTrail Log Files Between AWS Accounts](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-sharing-logs.html)\n\n##3.7 [Encrypting CloudTrail Log Files with AWS KMS\u2013Managed Keys (SSE-KMS)](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/encrypting-cloudtrail-log-files-with-aws-kms.html)\n\n##3.8 [Validating CloudTrail Log File Integrity](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-log-file-validation-intro.html)\n\n**CloudTrail\u30ed\u30b0\u306e\u6574\u5408\u6027\u691c\u8a3c**\n\n* CloudTrail\u304c\u914d\u4fe1\u3057\u305f\u5f8c\u306b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304c\u5909\u66f4\u3001\u524a\u9664\u3001\u307e\u305f\u306f\u5909\u66f4\u3055\u308c\u306a\u304b\u3063\u305f\u304b\u3069\u3046\u304b\u3092\u5224\u65ad\u3059\u308b\u306b\u306f\u3001CloudTrail\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u5408\u6027\u691c\u8a3c\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u306f\u696d\u754c\u6a19\u6e96\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u4f7f\u7528\u3057\u3066\u69cb\u7bc9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30cf\u30c3\u30b7\u30f3\u30b0\u306b\u306fSHA-256\u3001\u30c7\u30b8\u30bf\u30eb\u7f72\u540d\u306b\u306fRSA\u3092\u4f7f\u7528\u3059\u308bSHA-256\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001CloudTrail\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u691c\u51fa\u305b\u305a\u306b\u5909\u66f4\u3001\u524a\u9664\u307e\u305f\u306f\u507d\u9020\u3059\u308b\u3053\u3068\u306f\u8a08\u7b97\u4e0a\u4e0d\u53ef\u80fd\u3067\u3059\u3002 AWS CLI\u3092\u4f7f\u7528\u3057\u3066\u3001CloudTrail\u304c\u914d\u4fe1\u3057\u305f\u5834\u6240\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u691c\u8a3c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n<br/><br/>\n* \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u5408\u6027\u691c\u8a3c\u3092\u6709\u52b9\u306b\u3059\u308b\u3068\u3001CloudTrail\u306f\u3001\u914d\u4fe1\u3059\u308b\u3059\u3079\u3066\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3057\u3066\u30cf\u30c3\u30b7\u30e5\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 1\u6642\u9593\u3054\u3068\u306b\u3001CloudTrail\u306f\u904e\u53bb1\u6642\u9593\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u53c2\u7167\u3057\u3001\u305d\u308c\u305e\u308c\u306e\u30cf\u30c3\u30b7\u30e5\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u914d\u4fe1\u3057\u307e\u3059\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3068\u547c\u3070\u308c\u307e\u3059\u3002 CloudTrail\u306f\u3001\u516c\u958b\u9375\u3068\u79d8\u5bc6\u9375\u306e\u30da\u30a2\u306e\u79d8\u5bc6\u9375\u3092\u4f7f\u7528\u3057\u3066\u5404\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u7f72\u540d\u3057\u307e\u3059\u3002\u914d\u4fe1\u5f8c\u3001\u516c\u958b\u9375\u3092\u4f7f\u7528\u3057\u3066\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u691c\u8a3c\u3067\u304d\u307e\u3059\u3002 CloudTrail\u306f\u3001\u5404AWS\u30ea\u30fc\u30b8\u30e7\u30f3\u3054\u3068\u306b\u7570\u306a\u308b\u30ad\u30fc\u30da\u30a2\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n<br/><br/>\n* \u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306f\u3001CloudTrail\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3068\u540c\u3058\u3088\u3046\u306b\u3001\u3042\u306a\u305f\u306e\u30c8\u30ec\u30a4\u30eb\u306b\u95a2\u9023\u4ed8\u3051\u3089\u308c\u3066\u3044\u308b\u540c\u3058Amazon S3\u30d0\u30b1\u30c3\u30c8\u306b\u914d\u4fe1\u3055\u308c\u307e\u3059\u3002\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304c\u3059\u3079\u3066\u306e\u5730\u57df\u304b\u3089\u3001\u307e\u305f\u306f\u8907\u6570\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u304b\u3089\u5358\u4e00\u306eAmazon S3\u30d0\u30b1\u30c3\u30c8\u306b\u914d\u4fe1\u3055\u308c\u308b\u5834\u5408\u3001CloudTrail\u306f\u305d\u308c\u3089\u306e\u5730\u57df\u3068\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u540c\u3058\u30d0\u30b1\u30c3\u30c8\u306b\u914d\u4fe1\u3057\u307e\u3059\u3002\n<br/><br/>\n* \u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3068\u306f\u5225\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3068\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u96e2\u3059\u308b\u3053\u3068\u3067\u3001\u304d\u3081\u7d30\u304b\u306a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30dd\u30ea\u30b7\u30fc\u3092\u9069\u7528\u3057\u3001\u65e2\u5b58\u306e\u30ed\u30b0\u51e6\u7406\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u5909\u66f4\u305b\u305a\u306b\u5f15\u304d\u7d9a\u304d\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u5404\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001\u524d\u306e\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30b8\u30bf\u30eb\u7f72\u540d\u3082\u542b\u307e\u308c\u3066\u3044\u307e\u3059\uff08\u5b58\u5728\u3059\u308b\u5834\u5408\uff09\u3002\u73fe\u5728\u306e\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u306f\u3001\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30ebAmazon S3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u3042\u308a\u307e\u3059\u3002\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u300cCloudTrail\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u9020\u300d\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n<br/><br/>\n* CloudTrail\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3068\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306f\u3001Amazon S3\u307e\u305f\u306fAmazon Glacier\u306b\u7121\u671f\u9650\u306b\u3001\u6c38\u7d9a\u7684\u304b\u3064\u5b89\u4fa1\u306b\u5b89\u5168\u306b\u4fdd\u7ba1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 Amazon S3\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5f37\u5316\u3059\u308b\u305f\u3081\u306b\u3001Amazon S3 MFA Delete\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\n\n##3.8.1 [Enabling Log File Integrity Validation for CloudTrail](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-log-file-validation-enabling.html)\n\n* \u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n<pre>\n4) \u78ba\u8a8d\n\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u691c\u8a3c\u3092\u6709\u52b9\u5316: \u306f\u3044\n</pre>\n\n##3.8.2 [Validating CloudTrail Log File Integrity with the AWS CLI](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-log-file-validation-cli.html)\n\n* AWS\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3067\u30ed\u30b0\u3092\u691c\u8a3c\u3059\u308b\u306b\u306f\u3001CloudTrail validate-logs\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001Amazon S3\u30d0\u30b1\u30c3\u30c8\u306b\u914d\u4fe1\u3055\u308c\u305f\u30c0\u30a4\u30b8\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066\u691c\u8a3c\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n###3.8.3 [CloudTrail Digest File Structure](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-log-file-validation-digest-file-structure.html)\n\n###3.8.4 [Custom Implementations of CloudTrail Log File Integrity Validation](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-log-file-custom-validation.html)\n\n##3.9 [Using the CloudTrail Processing Library](http://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/use-the-cloudtrail-processing-library.html)\n", "tags": ["AWS", "Cloudtrail", "CloudWatchLogs", "CloudWatch-Logs", "IAM"]}