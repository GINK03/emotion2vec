{"context": "\n\n\u76ee\u7684\nNewRelic\u3067AWS\u306eRDS\u3001ElasticCache\u3001LoadBalancer\u306e\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u898b\u308c\u308b\u3088\u3046\u306b\u3059\u308b\nEC2\u306fnewrelic-sysmond\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308c\u3070\u3001\u30b5\u30fc\u30d0\u30fc\u4e00\u89a7\u3067\u7ba1\u7406\u3067\u304d\u308b\u304c\u3001RDS\u3001ElasticCache\u3001LoadBalancer\u306f\u305d\u306e\u65b9\u6cd5\u3067\u306f\u3044\u3051\u306a\u3044\n\u53c2\u8003\u8cc7\u6599\nhttps://www.rco.recruit.co.jp/career/engineer/blog/4/\n\n\u4f5c\u696d\u8a73\u7d30\n\nIAM\u30b0\u30eb\u30fc\u30d7\u3001\u30dd\u30ea\u30fc\u30b7\u3001\u30e6\u30fc\u30b6\u30fc\u8ffd\u52a0\n\u53c2\u8003\u8cc7\u6599\u306f\u3053\u3061\u3089\n\u6700\u7d42\u8a2d\u5b9a\u306f\u3053\u3093\u306a\u611f\u3058\n* IAM\u30b0\u30eb\u30fc\u30d7:   NewRelicCloudWatch\n* \u30dd\u30ea\u30fc\u30b7:  NewRelicCloudWatch\n* \u30e6\u30fc\u30b6\u30fc:   NewRelicCloudWatch\nNewRelicCloudWatch\u30e6\u30fc\u30b6\u30fc\u306e\u30a2\u30af\u30bb\u30b9\u60c5\u5831\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\u3001\u5f8c\u3067\u8a2d\u5b9a\u6642\u306b\u5229\u7528\u3059\u308b\n\u30a2\u30af\u30bb\u30b9\u30ad\u30fc ID: **********\n\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a2\u30af\u30bb\u30b9\u30ad\u30fc: **********\n\n\nEC2 Instance\u8ffd\u52a0\n\nVPC: *******\n\u30b5\u30d6\u30cd\u30c3\u30c8: *******\n\u81ea\u52d5\u5272\u308a\u5f53\u3066\u30d1\u30d6\u30ea\u30c3\u30af IP: \u6709\u52b9\n\n\n \u3053\u308c\u3092\u6709\u52b9\u306b\u3057\u306a\u3044\u3068\u3001public dns\u3068public ip\u304c\u81ea\u52d5\u5272\u308a\u632f\u3089\u306a\u3044\u306e\u3067\u3001\u5916\u3078\u63a5\u7d9a\u3067\u304d\u306a\u3044\n\n\n\u540d\u524d: newrelic_cloudwatch\n\u30bb\u30ad\u30e5\u30ea\u30b0\u30eb\u30fc\u30d7: *******\n\u30ad\u30fc\u30da\u30a2: *******\n\n\nec2-user\u306e\u307b\u304b\u306b\u3001newrelic\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3057\u3066\u4f5c\u696d\u3059\u308b\nEC2\u3092\u8ffd\u52a0\u6642\u306e\u30ad\u30fc\u30da\u30a2\u3067ec2-user\u3068\u3057\u3066ssh\u30ed\u30b0\u30a4\u30f3\u3059\u308b\nnewrelic\u30e6\u30fc\u30b6\u3092\u8ffd\u52a0\u3059\u308b\n\nnewrelic_aws_cloudwatch_plugin\u3092install\n\nnewrelic_aws_cloudwatch_plugin\u3092install\n\n$ wget https://github.com/newrelic-platform/newrelic_aws_cloudwatch_plugin/archive/latest.tar.gz\n$ tar zxvf latest.tar.gz\n$ cd newrelic_aws_cloudwatch_plugin-latest/\n$ cp config/template_newrelic_plugin.yml config/newrelic_plugin.yml\n\n\nconfig/newrelic_plugin.yml\u3092\u7de8\u96c6\u3057\u3066\u3001\u3053\u3061\u3089\u3092\u5f93\u3063\u3066\u3001\u8a2d\u5b9a\u3059\u308b\n\u4f9d\u5b58\u3057\u3066\u308b bundle\u3001git\u306a\u3069\u3092install\n\n$ gem install bundler\n$ sudo yum install git\n$ bundle install\n\u3082\u306e\u3082\u306e\u8db3\u308a\u306a\u3044\u306e\u3067\u3001\u30a8\u30e9\u30fc\u3092google\u3067\u691c\u7d22\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u3082\u306e\u5b9f\u884c\n$ sudo yum -y install ruby-devel\n$ sudo yum install gcc\n$ sudo yum install -y libxml2 libxml2-devel\n$ sudo yum install libxslt-devel\n\n\n\u8d77\u52d5\u3001\u7d42\u4e86\nbundle exec bin/daemon start\nbundle exec bin/daemon stop\n\n\u30d7\u30ed\u30bb\u30b9\u540d: newrelic_aws\n\n\u3053\u308c\u3067newrelic\u306eplugins\u753b\u9762\u3067RDS\u3001ElasticCache\u3001LoadBalancer\u306e\u30e1\u30c8\u30ea\u30af\u30b9\u304c\u898b\u308c\u308b\u3088\u3046\u306b\u306a\u308b\n\n\u9069\u5207\u306a\u5024\u3067\u30a2\u30e9\u30fc\u30c8\u3082\u8a2d\u5b9a\u3057\u3066\u304a\u304f\n\n# \u76ee\u7684\nNewRelic\u3067AWS\u306eRDS\u3001ElasticCache\u3001LoadBalancer\u306e\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u898b\u308c\u308b\u3088\u3046\u306b\u3059\u308b\nEC2\u306fnewrelic-sysmond\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308c\u3070\u3001\u30b5\u30fc\u30d0\u30fc\u4e00\u89a7\u3067\u7ba1\u7406\u3067\u304d\u308b\u304c\u3001RDS\u3001ElasticCache\u3001LoadBalancer\u306f\u305d\u306e\u65b9\u6cd5\u3067\u306f\u3044\u3051\u306a\u3044\n\n\u53c2\u8003\u8cc7\u6599\nhttps://www.rco.recruit.co.jp/career/engineer/blog/4/\n\n## \u4f5c\u696d\u8a73\u7d30\n###  IAM\u30b0\u30eb\u30fc\u30d7\u3001\u30dd\u30ea\u30fc\u30b7\u3001\u30e6\u30fc\u30b6\u30fc\u8ffd\u52a0\n\u53c2\u8003\u8cc7\u6599\u306f[\u3053\u3061\u3089](https://github.com/newrelic-platform/newrelic_aws_cloudwatch_plugin#iam-aws-api-credentials)\n\n\u6700\u7d42\u8a2d\u5b9a\u306f\u3053\u3093\u306a\u611f\u3058\n* IAM\u30b0\u30eb\u30fc\u30d7:   NewRelicCloudWatch\n* \u30dd\u30ea\u30fc\u30b7:  NewRelicCloudWatch\n* \u30e6\u30fc\u30b6\u30fc:   NewRelicCloudWatch\n\nNewRelicCloudWatch\u30e6\u30fc\u30b6\u30fc\u306e\u30a2\u30af\u30bb\u30b9\u60c5\u5831\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\u3001\u5f8c\u3067\u8a2d\u5b9a\u6642\u306b\u5229\u7528\u3059\u308b\n\n```\n\u30a2\u30af\u30bb\u30b9\u30ad\u30fc ID: **********\n\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a2\u30af\u30bb\u30b9\u30ad\u30fc: **********\n```\n\n### EC2 Instance\u8ffd\u52a0\n * VPC: *******\n * \u30b5\u30d6\u30cd\u30c3\u30c8: *******\n * \u81ea\u52d5\u5272\u308a\u5f53\u3066\u30d1\u30d6\u30ea\u30c3\u30af IP: \u6709\u52b9\n   *  \u3053\u308c\u3092\u6709\u52b9\u306b\u3057\u306a\u3044\u3068\u3001public dns\u3068public ip\u304c\u81ea\u52d5\u5272\u308a\u632f\u3089\u306a\u3044\u306e\u3067\u3001\u5916\u3078\u63a5\u7d9a\u3067\u304d\u306a\u3044\n * \u540d\u524d: newrelic_cloudwatch\n * \u30bb\u30ad\u30e5\u30ea\u30b0\u30eb\u30fc\u30d7: *******\n * \u30ad\u30fc\u30da\u30a2: *******\n\n### ec2-user\u306e\u307b\u304b\u306b\u3001newrelic\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3057\u3066\u4f5c\u696d\u3059\u308b\nEC2\u3092\u8ffd\u52a0\u6642\u306e\u30ad\u30fc\u30da\u30a2\u3067ec2-user\u3068\u3057\u3066ssh\u30ed\u30b0\u30a4\u30f3\u3059\u308b\nnewrelic\u30e6\u30fc\u30b6\u3092\u8ffd\u52a0\u3059\u308b\n\n### newrelic_aws_cloudwatch_plugin\u3092install\n1. newrelic_aws_cloudwatch_plugin\u3092install\n\n```\n$ wget https://github.com/newrelic-platform/newrelic_aws_cloudwatch_plugin/archive/latest.tar.gz\n$ tar zxvf latest.tar.gz\n$ cd newrelic_aws_cloudwatch_plugin-latest/\n$ cp config/template_newrelic_plugin.yml config/newrelic_plugin.yml\n```\n1. config/newrelic_plugin.yml\u3092\u7de8\u96c6\u3057\u3066\u3001[\u3053\u3061\u3089](https://github.com/newrelic-platform/newrelic_aws_cloudwatch_plugin#configuration)\u3092\u5f93\u3063\u3066\u3001\u8a2d\u5b9a\u3059\u308b\n1. \u4f9d\u5b58\u3057\u3066\u308b bundle\u3001git\u306a\u3069\u3092install\n\n```\n$ gem install bundler\n$ sudo yum install git\n$ bundle install\n\u3082\u306e\u3082\u306e\u8db3\u308a\u306a\u3044\u306e\u3067\u3001\u30a8\u30e9\u30fc\u3092google\u3067\u691c\u7d22\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u3082\u306e\u5b9f\u884c\n$ sudo yum -y install ruby-devel\n$ sudo yum install gcc\n$ sudo yum install -y libxml2 libxml2-devel\n$ sudo yum install libxslt-devel\n```\n\n### \u8d77\u52d5\u3001\u7d42\u4e86\n```\nbundle exec bin/daemon start\nbundle exec bin/daemon stop\n```\n\n\u30d7\u30ed\u30bb\u30b9\u540d: newrelic_aws\n\n### \u3053\u308c\u3067newrelic\u306eplugins\u753b\u9762\u3067RDS\u3001ElasticCache\u3001LoadBalancer\u306e\u30e1\u30c8\u30ea\u30af\u30b9\u304c\u898b\u308c\u308b\u3088\u3046\u306b\u306a\u308b\n  * \u9069\u5207\u306a\u5024\u3067\u30a2\u30e9\u30fc\u30c8\u3082\u8a2d\u5b9a\u3057\u3066\u304a\u304f\n", "tags": ["newrelic", "AWS"]}