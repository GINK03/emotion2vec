{"context": " More than 1 year has passed since last update.\n\n\u521d\u3081\u306b\n2015/11/28 \u306b\u3001\u6a5f\u68b0\u5b66\u7fd2 \u540d\u53e4\u5c4b \u7b2c2\u56de\u52c9\u5f37\u4f1a \u3068\u3044\u3046\u52c9\u5f37\u4f1a\u3092\u958b\u50ac\u3057\u3066\u304d\u307e\u3057\u305f1\u3002\n\u30e1\u30a4\u30f3\u306f\u300cK-means \u5b9f\u88c5 \u30cf\u30f3\u30ba\u30aa\u30f3\u300d\uff08Python + numpy \u5229\u7528\uff09\u3060\u3063\u305f1\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u3042\u3068\u306e\u767a\u8868\u3067 Julia \u306b\u3064\u3044\u3066\u30d7\u30ec\u30bc\u30f3\u3092\u3057\u3066\u304d\u305f\u306e\u3067\u3001\u305d\u306e\u6982\u8981\u3068\u3001\u53cd\u5fdc\u3092\u30ec\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n\u767a\u8868\u8cc7\u6599\n\u767a\u8868\u8cc7\u6599\u306f Jupyter \u3067\u4f5c\u6210\u3057\u3001nbconvert \u3067\u30b9\u30e9\u30a4\u30c9\u306b\u5909\u63db\u3057\u3066 Github Pages \u3067\u516c\u958b23\u3002\n\nURL: http://antimon2.github.io/MLNGY_201511/slides/AboutJulia.slides.html\n\n\u69cb\u6210\n\nJulia \u3068\u306f\uff1f\n\u6a5f\u68b0\u5b66\u7fd2\u3078\u306e\u9069\u7528 \u301c\u81ea\u5206\u3067\u5b9f\u88c5\u7de8\u301c\n\n\n\u4f8b1\uff1a\u5358\u7d14\u306a\u7dda\u5f62\u56de\u5e30\n\u4f8b2\uff1a\u7c21\u5358\u306a K-means\n\n\n\u6a5f\u68b0\u5b66\u7fd2\u3078\u306e\u9069\u7528 \u301c\u8ffd\u52a0\u30d1\u30c3\u30b1\u30fc\u30b8\u5229\u7528\u7de8\u301c\n\n\n\u6a5f\u68b0\u5b66\u7fd2\u30e9\u30a4\u30d6\u30e9\u30ea\uff08\u4e3b\u306a\u3082\u306e\uff09\n\u4f8b1\uff1aRegression.jl \u3067 \u7dda\u5f62\u56de\u5e30\n\u4f8b2\uff1aClustering.jl \u3067 K-means\n\n\n\n\n\u767a\u8868\u6982\u8981\n\u6a5f\u68b0\u5b66\u7fd2\u52c9\u5f37\u4f1a\u3067\u306e\u767a\u8868\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u3042\u304f\u307e\u3067 Julia \u306e\u7d39\u4ecb\u30ec\u30d9\u30eb\u3002\n\u7c21\u5358\u306a\u5b66\u7fd2\u306a\u3089\u30b7\u30f3\u30d7\u30eb\u306b\u5b9f\u88c5\u51fa\u6765\u307e\u3059\u3088\u3001\u3042\u3068\u6709\u5fd7\u304c\u4fbf\u5229\u306a\u6a5f\u68b0\u5b66\u7fd2\u7cfb\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u516c\u958b\u3057\u3066\u3044\u308b\u306e\u3067\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3088\u3001\u7a0b\u5ea6\u306e\u5185\u5bb9\u3067\u30594\u3002\n\u305f\u3060\u3001\u7c21\u5358\u306a\u5b9f\u88c5\u4f8b\u3092\u793a\u3059\u3053\u3068\u3067\u3001\u3064\u3044\u3067\u306b Julia \u306e\u30b3\u30fc\u30c9\u4f8b\u306e\u7d39\u4ecb\u3082\u884c\u3044\u307e\u3057\u305f\u3002\n\u6b21\u7bc0\u3067\u3001\u767a\u8868\u8cc7\u6599\u4e2d\u306e\u5b9f\u88c5\u4f8b1\u30fb2\u3092\u3053\u306e\u8a18\u4e8b\u7528\u306b\u518d\u7de8\u30fb\u518d\u63b2\u3057\u3001\u3064\u3044\u3067\u306b Julia \u306e\u30b3\u30fc\u30c9\u89e3\u8aac\u3082\u3057\u306a\u304a\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\u4f8b\u306e\u7d39\u4ecb\uff08\u304a\u3088\u3073\u88dc\u8db3\uff09\n\u307e\u305f\u4ee5\u4e0b\u306e\u30dd\u30a4\u30f3\u30c8\u89e3\u8aac\u4e2d\u3067\u3001\u7279\u306b\u65ad\u308a\u306e\u306a\u3044\u7b87\u6240\u306f\u5b9f\u969b\u306b\u8a71\u3057\u305f\u5185\u5bb9\u3001\u300c\u300a\u88dc\u8db3\u300b\u300d\u306f\u3053\u306e\u8a18\u4e8b\u3092\u66f8\u304f\u306b\u3042\u305f\u3063\u3066\u4ed8\u52a0\u3057\u305f\u88dc\u8db3\u8aac\u660e\u3001\u300c\u3010\u53cd\u5fdc\u3011\u300d\u3068\u3042\u308b\u7b87\u6240\u306f\u53c2\u52a0\u8005\u304b\u3089\u8cea\u554f\u30fb\u610f\u898b\u7b49\u306e\u53cd\u5fdc\u306e\u8a18\u9332\u3067\u3059\u3002\n\n\u4f8b1\uff1a\u5358\u7d14\u306a\u7dda\u5f62\u56de\u5e30\nJulia v0.4.x/v0.3.x \u3069\u3061\u3089\u3067\u3082\u52d5\u4f5c\u3057\u307e\u3059\uff08\u6b21\u306e\u4f8b\u3082\u540c\u69d8\uff09\u3002\n\nlinreg1.jl\n# \u624b\u4f5c\u308a\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\nx = rand(100) .* 100\ny = randn(100) .* 5 .+ x .* 0.7 .+ 10\n\n# \u884c\u5217\u4f5c\u6210\nX = [ones(100, 1) x;]\n\n# \u30d1\u30e9\u30e1\u30fc\u30bf\u6c42\u89e3\uff08Normal Equation \u5229\u7528\uff09\n# \u03b8 = X \\ y\n\u03b8 = (X' * X) \\ (X' * y);\n\n# \u7d50\u679c\u30d7\u30ed\u30c3\u30c8\nusing Gadfly  # \u2190 Julia \u5b9a\u756a\u306e\u30c7\u30fc\u30bf\u30d7\u30ed\u30c3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\n\nx_linspace = linspace(0,100)\nf(x) = \u03b8[1] .+ x .* \u03b8[2]\nplot(layer(x=x, y=y, Geom.point), layer(x=x_linspace, y=f(x_linspace), Geom.line))\n\n\n\u30d7\u30ed\u30c3\u30c8\u4f8b\uff1a\n\n\uff08\u203bplot \u306f Julia Console \u3084 Jupyter \u4e0a \u7b49\u3067\u306a\u3044\u3068\u8868\u793a\u3055\u308c\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u540c\uff09\n\u30dd\u30a4\u30f3\u30c8\u89e3\u8aac\uff1a\n\n2,3,6,10,16\u884c\u76ee\uff1a\u30d9\u30af\u30c8\u30eb\u30fb\u884c\u5217\u306e\u66f8\u5f0f\u3084\u6f14\u7b97\u306e\u591a\u304f\u306f\u3001MATLAB/Octave \u7531\u6765\u3002\n.*, .+ \u7b49\u306f\u300c\u8981\u7d20\u3054\u3068\u306e\u6f14\u7b97\u300d\u3067\u3001\u76f8\u624b\u304c\u30b9\u30ab\u30e9\u30fc\u306a\u3089\u300c\u5168\u8981\u7d20\u306b\u5bfe\u3059\u308b\u6f14\u7b97\u300d\u3068\u306a\u308b\u3002\n\n10\u884c\u76ee\uff1a\u03b8 \u3092\u5909\u6570\u540d\u3068\u3057\u3066\u4f7f\u7528\u3002Julia \u3067\u306f unicode \u6587\u5b57\u5217\u3082\u8b58\u5225\u5b50\u3068\u3057\u3066\u6271\u3048\u308b\u3002\n\n\n\u3010\u53cd\u5fdc\u3011Q\uff1aunicode \u6587\u5b57\u5217\u3092\u5229\u7528\u3057\u3066\u65b0\u3057\u3044\u6f14\u7b97\u5b50\u3068\u304b\u5b9a\u7fa9\u51fa\u6765\u306a\u3044\uff1f\n\u2192 A\uff1a\u3042\u308b\u7a0b\u5ea6\u53ef\u80fd\u3002\u6a19\u6e96\u3067\u306f\u4f8b\u3048\u3070\u3001\u2264,\u2265 \u7b49\u306e\u4e0d\u7b49\u53f7\u6f14\u7b97\u5b50\u304c\u5b58\u5728\u3059\u308b\u3002\u3061\u306a\u307f\u306b\u6f14\u7b97\u5b50\u3082\u95a2\u6570\u3002\n\u3010\u53cd\u5fdc\u3011Q\uff1a2\u5f15\u6570\u95a2\u6570\u3092\u4e2d\u7f6e\u6f14\u7b97\u3057\u3068\u3057\u3066\u5229\u7528\uff08Haskell\u306e `div`\u306e\u3088\u3046\u306a\u66f8\u304d\u65b9\uff09\u306f\u53ef\u80fd\uff1f\n\u2192 A\uff1a\u4e0d\u53ef\u80fd\u3002\u4e00\u90e8\u306e\u8a18\u53f7\u6587\u5b57\u304b\u3089\u306a\u308b\u95a2\u6570\u304c\u6f14\u7b97\u5b50\u3068\u3057\u3066\u5229\u7528\u51fa\u6765\u308b\u3060\u3051\u3002\n\n\n10\u884c\u76ee\uff1aX \u304c\u7e26\u9577\uff08\uff1d\u884c\u6570\u304c\u5217\u6570\u3088\u308a\u591a\u3044\uff09\u884c\u5217\u306e\u5834\u5408\u3001\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5\u6f14\u7b97\u5b50\u306b\u3088\u308b\u6f14\u7b97 X \\ y \u306f\u3053\u306e\u3088\u3046\u306b (X' * X) \\ (X' * y) \u3068\u66f8\u3051\u308b\u3002\u3053\u306e\u65b9\u304c\u901f\u30445\u3002\n\n\n\u300a\u88dc\u8db3\u300bJulia \u6a19\u6e96\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u95a2\u6570\u3092\u7528\u3044\u3066 linreg(x, y) \u3068\u66f8\u304f\u3053\u3068\u3067\u540c\u3058\u7d50\u679c\u304c\u5f97\u3089\u308c\u308b\u304c\u3001\u5185\u90e8\u5b9f\u88c5\u306f\u4e0a\u8ff0\u306e X \\ y \u76f8\u5f53\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u300a\u88dc\u8db3\u300b\u3042\u3068\u3001\u6700\u8fd1\u6c17\u4ed8\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u66f8\u304d\u65b9\u306e\u5834\u5408\u306f * \u3092\u7701\u7565\u51fa\u6765\u3066 X'X \\ X'y \u3068\u3082\u66f8\u3051\u308b\u3002\n\n\n16\u884c\u76ee\uff1a\u3053\u306e f(x) = \u301c \u306e\u3088\u3046\u306b\u3001\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u95a2\u6570\u5b9a\u7fa9\u3082\u3067\u304d\u308b\u3002\n\n\n\u300a\u88dc\u8db3\u30fb\u8a02\u6b63\u300b\u3053\u306e\u66f8\u304d\u65b9\u3082 MATLAB/Octave \u7531\u6765\u3068\u601d\u3063\u3066\u3044\u305f\uff08\u305d\u306e\u6642\u305d\u3046\u8aac\u660e\u3057\u305f\uff09\u306e\u3067\u3059\u304c\u3001\u306a\u3093\u304b\u9055\u3063\u3066\u305f\u307f\u305f\u3044\u3067\u3059\u3002\u8a73\u7d30\u5224\u660e\u3057\u305f\u3089\u3055\u3089\u306b\u8ffd\u8a18\u3059\u308b\u304b\u3082\u3067\u3059\u3002\n\u300a\u88dc\u8db3\u300b\u3042\u3068\u3053\u3053\u3082\u5148\u307b\u3069\u3068\u540c\u69d8\u3001*\u3092\u7701\u7565\u51fa\u6765\u3066 f(x) = \u03b8[1] + \u03b8[2]x \u3068\u3082\u66f8\u3051\u307e\u3059\u3002\n\n\n\n\n\u4f8b2\uff1a\u7c21\u5358\u306a K-means\n\u5f53\u65e5\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u4f7f\u7528\u3057\u305f\u30c7\u30fc\u30bf\uff08\u904e\u53bb\u306b CodeIQ \u3067\u51fa\u984c\u3055\u308c\u305f\u554f\u984c \u306e \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\uff09\u3092\u5229\u7528\u3002\n\nkmeans1.jl\nusing Gadfly\n\n# \u30c7\u30fc\u30bf\u8aad\u8fbc\ndata = open(readdlm, \"./CodeIQ_data.txt\", \"r\")\n\nK = 3\nX = data;\n\n# \u30af\u30e9\u30b9\u30bf\u91cd\u5fc3\u521d\u671f\u5316\nfunction initCentroids(X, K)\n    randidx = randperm(size(X, 1))\n    X[randidx[1:K], :]\nend\n\n# \u30af\u30e9\u30b9\u30bf\u5272\u308a\u4ed8\u3051\u30b9\u30c6\u30c3\u30d7\nfunction findClosestCentroids(X, centroids)\n    K = size(centroids, 1)\n    map(1:size(X, 1)) do i\n        x = vec(X[i, :])\n        ts = [x - vec(centroids[j,:]) for j=1:K]\n        ls = [dot(t, t) for t=ts]\n        indmin(ls)\n    end\nend\n\n# \u91cd\u5fc3\u79fb\u52d5\u30b9\u30c6\u30c3\u30d7\nfunction computeCentroids(X, idxs, K)\n    m, n = size(X)  # m \u4e0d\u4f7f\u7528\n    centroids = zeros(K, n)\n    for j = 1:K\n        centroids[j, :] = mean(X[idxs .== j, :], 1) # \u2190 idxs \u304c j\uff08=1,2,\u2026,K\uff09\u306e\u884c\u306e\u307f\u62bd\u51fa\u3057\u3066\u3001\u5217\u3054\u3068\u306b\u5e73\u5747\u5024\u3092\u7b97\u51fa\n    end\n    centroids\nend\n\n# \u30eb\u30fc\u30d7\u5b9f\u65bd\nfunction runKMeans(X, initialCentroids, max_iters=10)\n    m, n = size(X)\n    K = size(initialCentroids, 1)\n    centroids = initialCentroids\n    prev_centroids = centroids\n    idxs = zeros(m, 1)\n\n    for i = 1:max_iters\n        idxs = findClosestCentroids(X, centroids)\n        centroids = computeCentroids(X, idxs, K)\n        if centroids == prev_centroids\n            break\n        end\n        prev_centroids = centroids\n    end\n\n    return centroids, idxs\nend\n\n# \u7d50\u679c\u8868\u793a\nfunction dispResult(X, idxs)\n    plotdata = [X [string(i) for i=idxs];]\n    plot(x=plotdata[:,1], y=plotdata[:,2], color=plotdata[:,3])\nend\n\n# \u5b9f\u884c\ninitial_centroids = initCentroids(X, K)\ncentroids, idxs = runKMeans(X, initial_centroids)\ndispResult(X, idxs)\n\n\n\u30d7\u30ed\u30c3\u30c8\u4f8b\uff1a\n\n\u30dd\u30a4\u30f3\u30c8\u89e3\u8aac\uff1a\n\n4\u884c\u76ee\uff1a\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u3002readdlm() \u95a2\u6570\u306f\u300c\u5404\u884c\u3054\u3068\u306b\u30db\u30ef\u30a4\u30c8\u30b9\u30da\u30fc\u30b9\u3092\u533a\u5207\u5b50\u3068\u3057\u3066\u5206\u5272\u3057\u3066\u9069\u5207\u306a\u578b\u306b\u5909\u63db\u3057\u305f\u7d50\u679c\u304b\u3089\u306a\u308b\u884c\u5217\u3092\u8fd4\u3059\u300d\u3068\u3044\u3046\u52d5\u304d\u3002\u30bf\u30d6\u533a\u5207\u308a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u3068\u304d\u306a\u3069\u306e\u5b9a\u77f3\u7684\u306a\u66f8\u304d\u65b9\u3002\n\n\nCSV\u30d5\u30a1\u30a4\u30eb\uff08\",\"\u533a\u5207\u308a\uff09\u3092\u8aad\u307f\u8fbc\u3080\u5834\u5408\u306freadcsv()\u95a2\u6570\u304c\u5229\u7528\u51fa\u6765\u308b\u3002\n\n\n6\u884c\u76ee\uff1aK = 3\uff08\u30af\u30e9\u30b9\u30bf\u6570\uff09\u306f\u76ee\u8996\u3067\u78ba\u8a8d\u3002\n\n\n\u3010\u53cd\u5fdc\u3011Q\uff1a\u76ee\u8996\u3067\u306f\u306a\u304f\u3001\u305d\u308c\u3082\u30d7\u30ed\u30b0\u30e9\u30e0\u5074\u306b\u4efb\u305b\u308b\u65b9\u6cd5\u306f\u306a\u3044\u306e\u304b\uff1f\n\u2192 A\uff1a\u3042\u308b\u3002\u30ce\u30f3\u30d1\u30e9\u30e1\u30c8\u30ea\u30c3\u30af\u30d9\u30a4\u30ba\u30e2\u30c7\u30eb6\u3068\u304b\u3002K \u3092\u5c11\u3057\u305a\u3064\u5909\u5316\u3055\u305b\u3066\u5b66\u7fd2\u66f2\u7dda\u5f15\u3044\u3066 K-means \u3092\u4f55\u5ea6\u304b\u8a66\u3057\u3001\u6700\u9069\u5316\u6642\u306e\u30b3\u30b9\u30c8\u304c\u300c\u305d\u308c\u4ee5\u4e0aK\u3092\u5897\u3084\u3057\u3066\u3082\u3042\u307e\u308a\u5909\u308f\u3089\u306a\u3044\u300d\u6642\u306eK\u3092\u9078\u629e\u3059\u308b\u3068\u304b\uff08coursera \u306e\u30aa\u30f3\u30e9\u30a4\u30f3\u6a5f\u68b0\u5b66\u7fd2\u30b3\u30fc\u30b9 \u3067\u306f\u3053\u306e\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u3066\u3044\u308b\uff09\u3002\n\n\n9\u301c54\u884c\u76ee\uff1a\u30d9\u30af\u30c8\u30eb\u30fb\u884c\u5217\u306e\u51e6\u7406\u3067\u8272\u3005\u30c6\u30af\u30cb\u30c3\u30af\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u304c\u3001\u6642\u9593\u306e\u90fd\u5408\u3067\u8a73\u7d30\u8aac\u660e\u7565\u3002\n\n\n\u300a\u88dc\u8db3\u300b\u3053\u306e\u8a18\u4e8b\u3092\u501f\u308a\u3066\u5c11\u3057\u3060\u3051\u8aac\u660e\uff1a\n\nvec(A)\uff08A\uff1a\u914d\u5217\uff09\u306f\u3001X\u3092\u30d9\u30af\u30c8\u30eb\uff081\u6b21\u5143\u306e\u914d\u5217\uff09\u306b\u5909\u63db\u3059\u308b\u3002A[:]\u3068\u66f8\u3044\u3066\u3082\u540c\u3058\u7d50\u679c\u304c\u5f97\u3089\u308c\u308b\uff08\u304cvec()\u306e\u65b9\u304c\u5727\u5012\u7684\u306b\u901f\u3044\uff09\u3002\n\ndot(x, y) \u306f\u3001\u30d9\u30af\u30c8\u30eb\u306e\u30c9\u30c3\u30c8\u7a4d\uff08\u5185\u7a4d\uff09\u3002\nJulia \u306e\u5834\u5408 x' * y \u3068\u66f8\u304f\u3068 1\u8981\u7d20\u306e\u30d9\u30af\u30c8\u30eb \u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067 (x' * y)[1] \u3068\u660e\u793a\u7684\u306b\u6dfb\u3048\u5b57\u6307\u5b9a\u3057\u3066\u5024\u3092\u53d6\u308a\u51fa\u3055\u306d\u3070\u306a\u3089\u306a\u3044\u4e0a\u306b\u3001dot(x, y) \u306e\u65b9\u304c\u5727\u5012\u7684\u306b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u826f\u3044\u3002\n\n[v for v=\u301c]\u306f\u3001Julia \u306e\u30ea\u30b9\u30c8\u5185\u5305\u8868\u8a18\u3002\u66f8\u304d\u65b9\u306f Python \u306e\u305d\u308c\u306b\u985e\u4f3c\uff08\u305f\u3060\u3057\u6761\u4ef6\u7bc0\u306f\u8a18\u8ff0\u51fa\u6765\u306a\u3044\uff09\u3002\n\nsize(X)\uff08X\uff1a\u884c\u5217\uff08\uff1d2\u6b21\u5143\u914d\u5217\uff09\uff09\u306f\u3001X\u306e\u884c\u6570\u3068\u5217\u6570\u304b\u3089\u306a\u308b tuple \u3092\u8fd4\u3059\u3002\n\nsize(X, d)\uff08X\uff1a2\u6b21\u5143\u4ee5\u4e0a\u306e\u914d\u5217\uff09\u306f\u3001X\u306e\u6307\u5b9a\u3055\u308c\u305f\u8ef8\u306e\u6570\uff08d\u304c1\u306a\u3089\u884c\u6570\u30012\u306a\u3089\u5217\u6570\u3001\u2026\uff09\u3092\u8fd4\u3059\u3002\n\n\n\u3010\u53cd\u5fdc\u3011Q\uff1afor\u6587\u304c\u76ee\u7acb\u3064\u3051\u308c\u3069\u3001Julia \u306f LLVM \u306e JIT \u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u8d70\u308b\u304b\u3089\u3001\u4e0b\u624b\u306b\u30d9\u30af\u30bf\u30e9\u30a4\u30ba\u3059\u308b\u3088\u308afor\u6587\u4f7f\u3063\u305f\u65b9\u304c\u901f\u304f\u306a\u308b\uff1f\n\u2192 A\uff1a\u305d\u306e\u901a\u308a\u3002\u3088\u304f\u3054\u5b58\u3058\u30677\u3002\n\n\n\u300a\u88dc\u8db3\u300b\u4f8b\u3048\u3070\u3053\u3061\u3089\u3092\u53c2\u7167 \u2192 Julia\u3067\u306ffor\u6587\u3092\u4f7f\u3048\u3002\u30d9\u30af\u30c8\u30eb\u5316\u3057\u3066\u306f\u3044\u3051\u306a\u3044\u3002 - \u308a\u3093\u3054\u304c\u3067\u3066\u3044\u308b\n\u4eca\u56de\u3082\u5b9f\u969b\u3001\u3044\u304f\u3064\u304b\u306e\u66f8\u304d\u65b9\u3067\u8a66\u3057\u3066\u5272\u3068\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u826f\u3044\u30e2\u30ce\u3092\u9078\u3093\u3067\u307f\u305f\u3089\u3001for\u6587\u304c\u5272\u3068\u591a\u304f\u306a\u308a\u3001\u4e0b\u624b\u306b\u30d9\u30af\u30bf\u30e9\u30a4\u30ba\u3057\u3066\u306e\u51e6\u7406\u304c\u5c11\u306a\u304f\uff08\u4ed8\u8a00\u3059\u308b\u3068\u6a19\u6e96\u306e\u95a2\u6570\u3068\u3057\u3066\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3092\u306a\u308b\u3079\u304f\u5229\u7528\u3059\u308b\u30ab\u30bf\u30c1\u306b\uff09\u306a\u308a\u307e\u3057\u305f\uff08\u4e0a\u8ff0\u306e vec() dot() \u7b49\uff09\u3002\n\n\n\n\n\u7dcf\u62ec\u3001\u305d\u306e\u4ed6\n\u601d\u3044\u306e\u5916\u3001\u53c2\u52a0\u8005\u306e\u98df\u3044\u3064\u304d\u304c\u826f\u304b\u3063\u305f\u3001\u3068\u3044\u3046\u5370\u8c61\u3067\u3059\u3002\n\u4f55\u3088\u308a\u3001\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3084\u8a00\u8a9e\u4ed5\u69d8\u3092\u898b\u3066\u300c\u4f7f\u3048\u305d\u3046\u300d\u300c\u9078\u629e\u80a2\u304c\u5897\u3048\u305f\u300d\u300c\u25cb\u25cb\u3092 Python \u3067\u3084\u308d\u3046\u3068\u601d\u3063\u3066\u305f\u3051\u308c\u3069 Julia \u3067\u3084\u3063\u3066\u307f\u3088\u3046\u304b\u306a\u300d\u3068\u3044\u3063\u305f\u30ea\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3057\u305f\uff01\n\u5b09\u3057\u3044\u3067\u3059\u306d\u3002\u7d39\u4ecb\u3057\u305f\u7532\u6590\u304c\u3042\u3063\u305f\u3063\u3066\u3082\u3093\u3067\u3059\u3002\n\u3053\u308c\u3067 Julia \u4eba\u53e3\u304c\u5c11\u3057\u5897\u3048\u308b\u304b\u306a\u3001\u3068\u671f\u5f85\u3002\n\n\n\n\n\u4e3b\u50ac\u8005\u306e1\u4eba\uff08Hero Miwa \u6c0f\u3068\u5171\u50ac\uff09\u3067\u3059\u3002\u306a\u304a\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u306f\u8b1b\u5e2b\u5f79\u3084\u308a\u307e\u3057\u305f\u3002\u00a0\u21a9\n\n\n\u3061\u306a\u307f\u306b\u30cf\u30f3\u30ba\u30aa\u30f3\u7528\u306e\u8cc7\u6599\u3082\u540c\u3058\u65b9\u6cd5\u3067\u4f5c\u6210\u30fb\u516c\u958b\u3002\u2192 http://antimon2.github.io/MLNGY_201511/slides/K-means.slides.html\u00a0\u21a9\n\n\n\u4ee5\u524d Jupyter \u3067\u30b9\u30e9\u30a4\u30c9\u4f5c\u6210\u3057\u305f\u3068\u304d\u306f nbviewer \u3067\u516c\u958b\u3057\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u6700\u8fd1\u3053\u3061\u3089\u306e\u30b9\u30e9\u30a4\u30c9\u8868\u793a\u6a5f\u80fd\u304c\u304a\u304b\u3057\u3044\uff081\u30da\u30fc\u30b8\u306b\u53ce\u307e\u3063\u3066\u3057\u307e\u3063\u3066\u30da\u30fc\u30b8\u9077\u79fb\u51fa\u6765\u306a\u3044\uff09\u306e\u3067\u3001\u81ea\u524d\u3067\u30b9\u30e9\u30a4\u30c9\u306b\u5909\u63db\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u4eca\u5f8c\u3082\u3053\u306e\u65b9\u6cd5\u306e\u65b9\u304c\u3088\u3063\u307d\u3069\u826f\u3044\u304b\u3082\u3002\u00a0\u21a9\n\n\n\u3082\u3063\u3068\u9ad8\u5ea6\u306a\u5185\u5bb9\u3068\u304b\u300cTens\u25cbrFl\u25cbw \u52d5\u304b\u3057\u3066\u307f\u305f\u300d\u3068\u304b\u671f\u5f85\u3057\u3066\u3044\u305f\u65b9\u3001\u671f\u5f85\u306b\u6dfb\u3048\u305a\u30b9\u30df\u30de\u30bb\u30f3\u3002\u00a0\u21a9\n\n\n\u62d9\u904e\u53bb\u8a18\u4e8b \u7dda\u5f62\u56de\u5e30\u306e Normal Equation\uff08\u6b63\u898f\u65b9\u7a0b\u5f0f\uff09\u306b\u3064\u3044\u3066 \u53c2\u7167\u3002\u00a0\u21a9\n\n\n\u79c1\u306e\u5f8c\u306b\u5225\u306e\u65b9\u304c\u305d\u306e\u767a\u8868\u3092\u3057\u305f\u306e\u3067\u3059\u304c\u3001\u8cc7\u6599\u7b49\u306f\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\u00a0\u21a9\n\n\n\u6b63\u76f4\u3001\u3053\u3093\u306a\u9ad8\u5ea6\u306a\u53cd\u5fdc\u304c\u4e0a\u304c\u3063\u3066\u304f\u308b\u3068\u306f\u4e88\u60f3\u5916\u3067\u3057\u305f\u3002\u8cea\u554f\u8005\u306f\u30d7\u30ed\u30b3\u30f3\u304b\u4f55\u304b\u306e\u7d4c\u9a13\u8005\u3089\u3057\u3044\u306e\u3067\u305d\u3046\u3044\u3046\u77e5\u8b58\u304c\u3042\u3063\u305f\u306e\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u00a0\u21a9\n\n\n\n## \u521d\u3081\u306b\n\n2015/11/28 \u306b\u3001[\u6a5f\u68b0\u5b66\u7fd2 \u540d\u53e4\u5c4b \u7b2c2\u56de\u52c9\u5f37\u4f1a](http://machine-learning.connpass.com/event/21252/) \u3068\u3044\u3046\u52c9\u5f37\u4f1a\u3092\u958b\u50ac\u3057\u3066\u304d\u307e\u3057\u305f[^1]\u3002\n\n\u30e1\u30a4\u30f3\u306f\u300cK-means \u5b9f\u88c5 \u30cf\u30f3\u30ba\u30aa\u30f3\u300d\uff08Python + numpy \u5229\u7528\uff09\u3060\u3063\u305f[^1]\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u3042\u3068\u306e\u767a\u8868\u3067 [Julia](http://julialang.org/) \u306b\u3064\u3044\u3066\u30d7\u30ec\u30bc\u30f3\u3092\u3057\u3066\u304d\u305f\u306e\u3067\u3001\u305d\u306e\u6982\u8981\u3068\u3001\u53cd\u5fdc\u3092\u30ec\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n## \u767a\u8868\u8cc7\u6599\n\n\u767a\u8868\u8cc7\u6599\u306f [Jupyter](http://jupyter.org/) \u3067\u4f5c\u6210\u3057\u3001[nbconvert](https://github.com/jupyter/nbconvert) \u3067\u30b9\u30e9\u30a4\u30c9\u306b\u5909\u63db\u3057\u3066 [Github Pages](https://pages.github.com/) \u3067\u516c\u958b[^2][^3]\u3002\n\n[![AboutJulia_slides.png](https://qiita-image-store.s3.amazonaws.com/0/30400/4ea808d3-6e83-e9ec-b5b4-6b99ec5dbc96.png)](http://antimon2.github.io/MLNGY_201511/slides/AboutJulia.slides.html \"Julia \u306e\u7d39\u4ecb \u301c\u6a5f\u68b0\u5b66\u7fd2\u306e\u305f\u3081\u306e Julia\u301c\")\nURL: http://antimon2.github.io/MLNGY_201511/slides/AboutJulia.slides.html\n\n### \u69cb\u6210\n\n+ Julia \u3068\u306f\uff1f\n+ \u6a5f\u68b0\u5b66\u7fd2\u3078\u306e\u9069\u7528 \u301c\u81ea\u5206\u3067\u5b9f\u88c5\u7de8\u301c\n  + \u4f8b1\uff1a\u5358\u7d14\u306a\u7dda\u5f62\u56de\u5e30\n  + \u4f8b2\uff1a\u7c21\u5358\u306a K-means\n+ \u6a5f\u68b0\u5b66\u7fd2\u3078\u306e\u9069\u7528 \u301c\u8ffd\u52a0\u30d1\u30c3\u30b1\u30fc\u30b8\u5229\u7528\u7de8\u301c\n  + \u6a5f\u68b0\u5b66\u7fd2\u30e9\u30a4\u30d6\u30e9\u30ea\uff08\u4e3b\u306a\u3082\u306e\uff09\n  + \u4f8b1\uff1aRegression.jl \u3067 \u7dda\u5f62\u56de\u5e30\n  + \u4f8b2\uff1aClustering.jl \u3067 K-means\n\n### \u767a\u8868\u6982\u8981\n\n\u6a5f\u68b0\u5b66\u7fd2\u52c9\u5f37\u4f1a\u3067\u306e\u767a\u8868\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u3042\u304f\u307e\u3067 Julia \u306e\u7d39\u4ecb\u30ec\u30d9\u30eb\u3002\n\u7c21\u5358\u306a\u5b66\u7fd2\u306a\u3089\u30b7\u30f3\u30d7\u30eb\u306b\u5b9f\u88c5\u51fa\u6765\u307e\u3059\u3088\u3001\u3042\u3068\u6709\u5fd7\u304c\u4fbf\u5229\u306a\u6a5f\u68b0\u5b66\u7fd2\u7cfb\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u516c\u958b\u3057\u3066\u3044\u308b\u306e\u3067\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3088\u3001\u7a0b\u5ea6\u306e\u5185\u5bb9\u3067\u3059[^4]\u3002\n\u305f\u3060\u3001\u7c21\u5358\u306a\u5b9f\u88c5\u4f8b\u3092\u793a\u3059\u3053\u3068\u3067\u3001\u3064\u3044\u3067\u306b Julia \u306e\u30b3\u30fc\u30c9\u4f8b\u306e\u7d39\u4ecb\u3082\u884c\u3044\u307e\u3057\u305f\u3002\n\n\u6b21\u7bc0\u3067\u3001\u767a\u8868\u8cc7\u6599\u4e2d\u306e\u5b9f\u88c5\u4f8b1\u30fb2\u3092\u3053\u306e\u8a18\u4e8b\u7528\u306b\u518d\u7de8\u30fb\u518d\u63b2\u3057\u3001\u3064\u3044\u3067\u306b Julia \u306e\u30b3\u30fc\u30c9\u89e3\u8aac\u3082\u3057\u306a\u304a\u3057\u3066\u307f\u307e\u3059\u3002\n\n## \u30b3\u30fc\u30c9\u4f8b\u306e\u7d39\u4ecb\uff08\u304a\u3088\u3073\u88dc\u8db3\uff09\n\n\u307e\u305f\u4ee5\u4e0b\u306e\u30dd\u30a4\u30f3\u30c8\u89e3\u8aac\u4e2d\u3067\u3001\u7279\u306b\u65ad\u308a\u306e\u306a\u3044\u7b87\u6240\u306f\u5b9f\u969b\u306b\u8a71\u3057\u305f\u5185\u5bb9\u3001\u300c\u300a\u88dc\u8db3\u300b\u300d\u306f\u3053\u306e\u8a18\u4e8b\u3092\u66f8\u304f\u306b\u3042\u305f\u3063\u3066\u4ed8\u52a0\u3057\u305f\u88dc\u8db3\u8aac\u660e\u3001\u300c\u3010\u53cd\u5fdc\u3011\u300d\u3068\u3042\u308b\u7b87\u6240\u306f\u53c2\u52a0\u8005\u304b\u3089\u8cea\u554f\u30fb\u610f\u898b\u7b49\u306e\u53cd\u5fdc\u306e\u8a18\u9332\u3067\u3059\u3002\n\n### \u4f8b1\uff1a\u5358\u7d14\u306a\u7dda\u5f62\u56de\u5e30\n\nJulia v0.4.x/v0.3.x \u3069\u3061\u3089\u3067\u3082\u52d5\u4f5c\u3057\u307e\u3059\uff08\u6b21\u306e\u4f8b\u3082\u540c\u69d8\uff09\u3002\n\n```jl:linreg1.jl\n# \u624b\u4f5c\u308a\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\nx = rand(100) .* 100\ny = randn(100) .* 5 .+ x .* 0.7 .+ 10\n\n# \u884c\u5217\u4f5c\u6210\nX = [ones(100, 1) x;]\n\n# \u30d1\u30e9\u30e1\u30fc\u30bf\u6c42\u89e3\uff08Normal Equation \u5229\u7528\uff09\n# \u03b8 = X \\ y\n\u03b8 = (X' * X) \\ (X' * y);\n\n# \u7d50\u679c\u30d7\u30ed\u30c3\u30c8\nusing Gadfly  # \u2190 Julia \u5b9a\u756a\u306e\u30c7\u30fc\u30bf\u30d7\u30ed\u30c3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\n\nx_linspace = linspace(0,100)\nf(x) = \u03b8[1] .+ x .* \u03b8[2]\nplot(layer(x=x, y=y, Geom.point), layer(x=x_linspace, y=f(x_linspace), Geom.line))\n```\n\n\u30d7\u30ed\u30c3\u30c8\u4f8b\uff1a\n[![lnreg1_plot.png](https://qiita-image-store.s3.amazonaws.com/0/30400/ceb7b851-45c7-4a44-9845-39be29e099ab.png)](http://antimon2.github.io/MLNGY_201511/slides/AboutJulia.slides.html#/3/3)\n\n\uff08\u203bplot \u306f Julia Console \u3084 Jupyter \u4e0a \u7b49\u3067\u306a\u3044\u3068\u8868\u793a\u3055\u308c\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u540c\uff09\n\n\u30dd\u30a4\u30f3\u30c8\u89e3\u8aac\uff1a\n\n+ 2,3,6,10,16\u884c\u76ee\uff1a\u30d9\u30af\u30c8\u30eb\u30fb\u884c\u5217\u306e\u66f8\u5f0f\u3084\u6f14\u7b97\u306e\u591a\u304f\u306f\u3001MATLAB/Octave \u7531\u6765\u3002  \n`.*`, `.+` \u7b49\u306f\u300c\u8981\u7d20\u3054\u3068\u306e\u6f14\u7b97\u300d\u3067\u3001\u76f8\u624b\u304c\u30b9\u30ab\u30e9\u30fc\u306a\u3089\u300c\u5168\u8981\u7d20\u306b\u5bfe\u3059\u308b\u6f14\u7b97\u300d\u3068\u306a\u308b\u3002  \n+ 10\u884c\u76ee\uff1a`\u03b8` \u3092\u5909\u6570\u540d\u3068\u3057\u3066\u4f7f\u7528\u3002Julia \u3067\u306f unicode \u6587\u5b57\u5217\u3082\u8b58\u5225\u5b50\u3068\u3057\u3066\u6271\u3048\u308b\u3002\n  + \u3010\u53cd\u5fdc\u3011Q\uff1aunicode \u6587\u5b57\u5217\u3092\u5229\u7528\u3057\u3066\u65b0\u3057\u3044\u6f14\u7b97\u5b50\u3068\u304b\u5b9a\u7fa9\u51fa\u6765\u306a\u3044\uff1f  \n  \u2192 A\uff1a\u3042\u308b\u7a0b\u5ea6\u53ef\u80fd\u3002\u6a19\u6e96\u3067\u306f\u4f8b\u3048\u3070\u3001`\u2264`,`\u2265` \u7b49\u306e\u4e0d\u7b49\u53f7\u6f14\u7b97\u5b50\u304c\u5b58\u5728\u3059\u308b\u3002\u3061\u306a\u307f\u306b\u6f14\u7b97\u5b50\u3082\u95a2\u6570\u3002\n  + \u3010\u53cd\u5fdc\u3011Q\uff1a2\u5f15\u6570\u95a2\u6570\u3092\u4e2d\u7f6e\u6f14\u7b97\u3057\u3068\u3057\u3066\u5229\u7528\uff08Haskell\u306e `` `div` ``\u306e\u3088\u3046\u306a\u66f8\u304d\u65b9\uff09\u306f\u53ef\u80fd\uff1f  \n  \u2192 A\uff1a\u4e0d\u53ef\u80fd\u3002\u4e00\u90e8\u306e\u8a18\u53f7\u6587\u5b57\u304b\u3089\u306a\u308b\u95a2\u6570\u304c\u6f14\u7b97\u5b50\u3068\u3057\u3066\u5229\u7528\u51fa\u6765\u308b\u3060\u3051\u3002\n+ 10\u884c\u76ee\uff1aX \u304c\u7e26\u9577\uff08\uff1d\u884c\u6570\u304c\u5217\u6570\u3088\u308a\u591a\u3044\uff09\u884c\u5217\u306e\u5834\u5408\u3001\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5\u6f14\u7b97\u5b50\u306b\u3088\u308b\u6f14\u7b97 `X \\ y` \u306f\u3053\u306e\u3088\u3046\u306b `(X' * X) \\ (X' * y)` \u3068\u66f8\u3051\u308b\u3002\u3053\u306e\u65b9\u304c\u901f\u3044[^5]\u3002\n  + \u300a\u88dc\u8db3\u300bJulia \u6a19\u6e96\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u95a2\u6570\u3092\u7528\u3044\u3066 `linreg(x, y)` \u3068\u66f8\u304f\u3053\u3068\u3067\u540c\u3058\u7d50\u679c\u304c\u5f97\u3089\u308c\u308b\u304c\u3001\u5185\u90e8\u5b9f\u88c5\u306f\u4e0a\u8ff0\u306e `X \\ y` \u76f8\u5f53\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n  + \u300a\u88dc\u8db3\u300b\u3042\u3068\u3001\u6700\u8fd1\u6c17\u4ed8\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u66f8\u304d\u65b9\u306e\u5834\u5408\u306f `*` \u3092\u7701\u7565\u51fa\u6765\u3066 `X'X \\ X'y` \u3068\u3082\u66f8\u3051\u308b\u3002\n+ 16\u884c\u76ee\uff1a\u3053\u306e `f(x) = \u301c` \u306e\u3088\u3046\u306b\u3001\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u95a2\u6570\u5b9a\u7fa9\u3082\u3067\u304d\u308b\u3002\n  + \u300a\u88dc\u8db3\u30fb\u8a02\u6b63\u300b\u3053\u306e\u66f8\u304d\u65b9\u3082 MATLAB/Octave \u7531\u6765\u3068\u601d\u3063\u3066\u3044\u305f\uff08\u305d\u306e\u6642\u305d\u3046\u8aac\u660e\u3057\u305f\uff09\u306e\u3067\u3059\u304c\u3001\u306a\u3093\u304b\u9055\u3063\u3066\u305f\u307f\u305f\u3044\u3067\u3059\u3002\u8a73\u7d30\u5224\u660e\u3057\u305f\u3089\u3055\u3089\u306b\u8ffd\u8a18\u3059\u308b\u304b\u3082\u3067\u3059\u3002\n  + \u300a\u88dc\u8db3\u300b\u3042\u3068\u3053\u3053\u3082\u5148\u307b\u3069\u3068\u540c\u69d8\u3001`*`\u3092\u7701\u7565\u51fa\u6765\u3066 `f(x) = \u03b8[1] + \u03b8[2]x` \u3068\u3082\u66f8\u3051\u307e\u3059\u3002\n\n### \u4f8b2\uff1a\u7c21\u5358\u306a K-means\n\n\u5f53\u65e5\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u4f7f\u7528\u3057\u305f\u30c7\u30fc\u30bf\uff08[\u904e\u53bb\u306b CodeIQ \u3067\u51fa\u984c\u3055\u308c\u305f\u554f\u984c](http://next.rikunabi.com/tech_souken/entry/ct_s03600p002315) \u306e [\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf](http://dl.dropbox.com/u/110505645/CodeIQ/201212/CodeIQ_data.zip)\uff09\u3092\u5229\u7528\u3002\n\n```jl:kmeans1.jl\nusing Gadfly\n\n# \u30c7\u30fc\u30bf\u8aad\u8fbc\ndata = open(readdlm, \"./CodeIQ_data.txt\", \"r\")\n\nK = 3\nX = data;\n\n# \u30af\u30e9\u30b9\u30bf\u91cd\u5fc3\u521d\u671f\u5316\nfunction initCentroids(X, K)\n    randidx = randperm(size(X, 1))\n    X[randidx[1:K], :]\nend\n\n# \u30af\u30e9\u30b9\u30bf\u5272\u308a\u4ed8\u3051\u30b9\u30c6\u30c3\u30d7\nfunction findClosestCentroids(X, centroids)\n    K = size(centroids, 1)\n    map(1:size(X, 1)) do i\n        x = vec(X[i, :])\n        ts = [x - vec(centroids[j,:]) for j=1:K]\n        ls = [dot(t, t) for t=ts]\n        indmin(ls)\n    end\nend\n\n# \u91cd\u5fc3\u79fb\u52d5\u30b9\u30c6\u30c3\u30d7\nfunction computeCentroids(X, idxs, K)\n    m, n = size(X)  # m \u4e0d\u4f7f\u7528\n    centroids = zeros(K, n)\n    for j = 1:K\n        centroids[j, :] = mean(X[idxs .== j, :], 1) # \u2190 idxs \u304c j\uff08=1,2,\u2026,K\uff09\u306e\u884c\u306e\u307f\u62bd\u51fa\u3057\u3066\u3001\u5217\u3054\u3068\u306b\u5e73\u5747\u5024\u3092\u7b97\u51fa\n    end\n    centroids\nend\n\n# \u30eb\u30fc\u30d7\u5b9f\u65bd\nfunction runKMeans(X, initialCentroids, max_iters=10)\n    m, n = size(X)\n    K = size(initialCentroids, 1)\n    centroids = initialCentroids\n    prev_centroids = centroids\n    idxs = zeros(m, 1)\n    \n    for i = 1:max_iters\n        idxs = findClosestCentroids(X, centroids)\n        centroids = computeCentroids(X, idxs, K)\n        if centroids == prev_centroids\n            break\n        end\n        prev_centroids = centroids\n    end\n    \n    return centroids, idxs\nend\n\n# \u7d50\u679c\u8868\u793a\nfunction dispResult(X, idxs)\n    plotdata = [X [string(i) for i=idxs];]\n    plot(x=plotdata[:,1], y=plotdata[:,2], color=plotdata[:,3])\nend\n\n# \u5b9f\u884c\ninitial_centroids = initCentroids(X, K)\ncentroids, idxs = runKMeans(X, initial_centroids)\ndispResult(X, idxs)\n```\n\n\u30d7\u30ed\u30c3\u30c8\u4f8b\uff1a\n[![kmeans1_plot.png](https://qiita-image-store.s3.amazonaws.com/0/30400/5b4e12ac-9ddb-8518-97ac-6597349b826d.png)](http://antimon2.github.io/MLNGY_201511/slides/AboutJulia.slides.html#/3/11)\n\n\u30dd\u30a4\u30f3\u30c8\u89e3\u8aac\uff1a\n\n+ 4\u884c\u76ee\uff1a\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u3002`readdlm()` \u95a2\u6570\u306f\u300c\u5404\u884c\u3054\u3068\u306b\u30db\u30ef\u30a4\u30c8\u30b9\u30da\u30fc\u30b9\u3092\u533a\u5207\u5b50\u3068\u3057\u3066\u5206\u5272\u3057\u3066\u9069\u5207\u306a\u578b\u306b\u5909\u63db\u3057\u305f\u7d50\u679c\u304b\u3089\u306a\u308b\u884c\u5217\u3092\u8fd4\u3059\u300d\u3068\u3044\u3046\u52d5\u304d\u3002\u30bf\u30d6\u533a\u5207\u308a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u3068\u304d\u306a\u3069\u306e\u5b9a\u77f3\u7684\u306a\u66f8\u304d\u65b9\u3002\n  + CSV\u30d5\u30a1\u30a4\u30eb\uff08`\",\"`\u533a\u5207\u308a\uff09\u3092\u8aad\u307f\u8fbc\u3080\u5834\u5408\u306f`readcsv()`\u95a2\u6570\u304c\u5229\u7528\u51fa\u6765\u308b\u3002\n+ 6\u884c\u76ee\uff1a`K = 3`\uff08\u30af\u30e9\u30b9\u30bf\u6570\uff09\u306f**\u76ee\u8996\u3067**\u78ba\u8a8d\u3002\n  + \u3010\u53cd\u5fdc\u3011Q\uff1a\u76ee\u8996\u3067\u306f\u306a\u304f\u3001\u305d\u308c\u3082\u30d7\u30ed\u30b0\u30e9\u30e0\u5074\u306b\u4efb\u305b\u308b\u65b9\u6cd5\u306f\u306a\u3044\u306e\u304b\uff1f  \n  \u2192 A\uff1a\u3042\u308b\u3002\u30ce\u30f3\u30d1\u30e9\u30e1\u30c8\u30ea\u30c3\u30af\u30d9\u30a4\u30ba\u30e2\u30c7\u30eb[^6]\u3068\u304b\u3002`K` \u3092\u5c11\u3057\u305a\u3064\u5909\u5316\u3055\u305b\u3066\u5b66\u7fd2\u66f2\u7dda\u5f15\u3044\u3066 K-means \u3092\u4f55\u5ea6\u304b\u8a66\u3057\u3001\u6700\u9069\u5316\u6642\u306e\u30b3\u30b9\u30c8\u304c\u300c\u305d\u308c\u4ee5\u4e0a`K`\u3092\u5897\u3084\u3057\u3066\u3082\u3042\u307e\u308a\u5909\u308f\u3089\u306a\u3044\u300d\u6642\u306e`K`\u3092\u9078\u629e\u3059\u308b\u3068\u304b\uff08[coursera \u306e\u30aa\u30f3\u30e9\u30a4\u30f3\u6a5f\u68b0\u5b66\u7fd2\u30b3\u30fc\u30b9](https://www.coursera.org/learn/machine-learning) \u3067\u306f\u3053\u306e\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u3066\u3044\u308b\uff09\u3002\n+ 9\u301c54\u884c\u76ee\uff1a\u30d9\u30af\u30c8\u30eb\u30fb\u884c\u5217\u306e\u51e6\u7406\u3067\u8272\u3005\u30c6\u30af\u30cb\u30c3\u30af\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u304c\u3001\u6642\u9593\u306e\u90fd\u5408\u3067\u8a73\u7d30\u8aac\u660e\u7565\u3002\n  + \u300a\u88dc\u8db3\u300b\u3053\u306e\u8a18\u4e8b\u3092\u501f\u308a\u3066\u5c11\u3057\u3060\u3051\u8aac\u660e\uff1a\n  + `vec(A)`\uff08`A`\uff1a\u914d\u5217\uff09\u306f\u3001`X`\u3092\u30d9\u30af\u30c8\u30eb\uff081\u6b21\u5143\u306e\u914d\u5217\uff09\u306b\u5909\u63db\u3059\u308b\u3002`A[:]`\u3068\u66f8\u3044\u3066\u3082\u540c\u3058\u7d50\u679c\u304c\u5f97\u3089\u308c\u308b\uff08\u304c`vec()`\u306e\u65b9\u304c\u5727\u5012\u7684\u306b\u901f\u3044\uff09\u3002\n  + `dot(x, y)` \u306f\u3001\u30d9\u30af\u30c8\u30eb\u306e\u30c9\u30c3\u30c8\u7a4d\uff08\u5185\u7a4d\uff09\u3002  \n  Julia \u306e\u5834\u5408 `x' * y` \u3068\u66f8\u304f\u3068 1\u8981\u7d20\u306e\u30d9\u30af\u30c8\u30eb \u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067 `(x' * y)[1]` \u3068\u660e\u793a\u7684\u306b\u6dfb\u3048\u5b57\u6307\u5b9a\u3057\u3066\u5024\u3092\u53d6\u308a\u51fa\u3055\u306d\u3070\u306a\u3089\u306a\u3044\u4e0a\u306b\u3001`dot(x, y)` \u306e\u65b9\u304c\u5727\u5012\u7684\u306b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u826f\u3044\u3002\n  + `[v for v=\u301c]`\u306f\u3001Julia \u306e\u30ea\u30b9\u30c8\u5185\u5305\u8868\u8a18\u3002\u66f8\u304d\u65b9\u306f Python \u306e\u305d\u308c\u306b\u985e\u4f3c\uff08\u305f\u3060\u3057\u6761\u4ef6\u7bc0\u306f\u8a18\u8ff0\u51fa\u6765\u306a\u3044\uff09\u3002\n  + `size(X)`\uff08`X`\uff1a\u884c\u5217\uff08\uff1d2\u6b21\u5143\u914d\u5217\uff09\uff09\u306f\u3001`X`\u306e\u884c\u6570\u3068\u5217\u6570\u304b\u3089\u306a\u308b tuple \u3092\u8fd4\u3059\u3002\n  + `size(X, d)`\uff08`X`\uff1a2\u6b21\u5143\u4ee5\u4e0a\u306e\u914d\u5217\uff09\u306f\u3001`X`\u306e\u6307\u5b9a\u3055\u308c\u305f\u8ef8\u306e\u6570\uff08`d`\u304c`1`\u306a\u3089\u884c\u6570\u3001`2`\u306a\u3089\u5217\u6570\u3001\u2026\uff09\u3092\u8fd4\u3059\u3002\n+ \u3010\u53cd\u5fdc\u3011Q\uff1a`for`\u6587\u304c\u76ee\u7acb\u3064\u3051\u308c\u3069\u3001Julia \u306f LLVM \u306e JIT \u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u8d70\u308b\u304b\u3089\u3001\u4e0b\u624b\u306b\u30d9\u30af\u30bf\u30e9\u30a4\u30ba\u3059\u308b\u3088\u308a`for`\u6587\u4f7f\u3063\u305f\u65b9\u304c\u901f\u304f\u306a\u308b\uff1f  \n\u2192 A\uff1a\u305d\u306e\u901a\u308a\u3002\u3088\u304f\u3054\u5b58\u3058\u3067[^7]\u3002\n  + \u300a\u88dc\u8db3\u300b\u4f8b\u3048\u3070\u3053\u3061\u3089\u3092\u53c2\u7167 \u2192 [Julia\u3067\u306ffor\u6587\u3092\u4f7f\u3048\u3002\u30d9\u30af\u30c8\u30eb\u5316\u3057\u3066\u306f\u3044\u3051\u306a\u3044\u3002 - \u308a\u3093\u3054\u304c\u3067\u3066\u3044\u308b](http://bicycle1885.hatenablog.com/entry/2015/04/04/165135)  \n  \u4eca\u56de\u3082\u5b9f\u969b\u3001\u3044\u304f\u3064\u304b\u306e\u66f8\u304d\u65b9\u3067\u8a66\u3057\u3066\u5272\u3068\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u826f\u3044\u30e2\u30ce\u3092\u9078\u3093\u3067\u307f\u305f\u3089\u3001`for`\u6587\u304c\u5272\u3068\u591a\u304f\u306a\u308a\u3001\u4e0b\u624b\u306b\u30d9\u30af\u30bf\u30e9\u30a4\u30ba\u3057\u3066\u306e\u51e6\u7406\u304c\u5c11\u306a\u304f\uff08\u4ed8\u8a00\u3059\u308b\u3068\u6a19\u6e96\u306e\u95a2\u6570\u3068\u3057\u3066\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3092\u306a\u308b\u3079\u304f\u5229\u7528\u3059\u308b\u30ab\u30bf\u30c1\u306b\uff09\u306a\u308a\u307e\u3057\u305f\uff08\u4e0a\u8ff0\u306e `vec()` `dot()` \u7b49\uff09\u3002\n\n## \u7dcf\u62ec\u3001\u305d\u306e\u4ed6\n\n\u601d\u3044\u306e\u5916\u3001\u53c2\u52a0\u8005\u306e\u98df\u3044\u3064\u304d\u304c\u826f\u304b\u3063\u305f\u3001\u3068\u3044\u3046\u5370\u8c61\u3067\u3059\u3002\n\n\u4f55\u3088\u308a\u3001\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3084\u8a00\u8a9e\u4ed5\u69d8\u3092\u898b\u3066\u300c\u4f7f\u3048\u305d\u3046\u300d\u300c\u9078\u629e\u80a2\u304c\u5897\u3048\u305f\u300d\u300c\u25cb\u25cb\u3092 Python \u3067\u3084\u308d\u3046\u3068\u601d\u3063\u3066\u305f\u3051\u308c\u3069 Julia \u3067\u3084\u3063\u3066\u307f\u3088\u3046\u304b\u306a\u300d\u3068\u3044\u3063\u305f\u30ea\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3057\u305f\uff01\n\u5b09\u3057\u3044\u3067\u3059\u306d\u3002\u7d39\u4ecb\u3057\u305f\u7532\u6590\u304c\u3042\u3063\u305f\u3063\u3066\u3082\u3093\u3067\u3059\u3002\n\u3053\u308c\u3067 Julia \u4eba\u53e3\u304c\u5c11\u3057\u5897\u3048\u308b\u304b\u306a\u3001\u3068\u671f\u5f85\u3002\n\n[^1]: \u4e3b\u50ac\u8005\u306e1\u4eba\uff08Hero Miwa \u6c0f\u3068\u5171\u50ac\uff09\u3067\u3059\u3002\u306a\u304a\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u306f\u8b1b\u5e2b\u5f79\u3084\u308a\u307e\u3057\u305f\u3002\n[^2]: \u3061\u306a\u307f\u306b\u30cf\u30f3\u30ba\u30aa\u30f3\u7528\u306e\u8cc7\u6599\u3082\u540c\u3058\u65b9\u6cd5\u3067\u4f5c\u6210\u30fb\u516c\u958b\u3002\u2192 http://antimon2.github.io/MLNGY_201511/slides/K-means.slides.html\n[^3]: \u4ee5\u524d Jupyter \u3067\u30b9\u30e9\u30a4\u30c9\u4f5c\u6210\u3057\u305f\u3068\u304d\u306f [nbviewer](https://nbviewer.jupyter.org/) \u3067\u516c\u958b\u3057\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u6700\u8fd1\u3053\u3061\u3089\u306e\u30b9\u30e9\u30a4\u30c9\u8868\u793a\u6a5f\u80fd\u304c\u304a\u304b\u3057\u3044\uff081\u30da\u30fc\u30b8\u306b\u53ce\u307e\u3063\u3066\u3057\u307e\u3063\u3066\u30da\u30fc\u30b8\u9077\u79fb\u51fa\u6765\u306a\u3044\uff09\u306e\u3067\u3001\u81ea\u524d\u3067\u30b9\u30e9\u30a4\u30c9\u306b\u5909\u63db\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u4eca\u5f8c\u3082\u3053\u306e\u65b9\u6cd5\u306e\u65b9\u304c\u3088\u3063\u307d\u3069\u826f\u3044\u304b\u3082\u3002\n[^4]: \u3082\u3063\u3068\u9ad8\u5ea6\u306a\u5185\u5bb9\u3068\u304b\u300cTens\u25cbrFl\u25cbw \u52d5\u304b\u3057\u3066\u307f\u305f\u300d\u3068\u304b\u671f\u5f85\u3057\u3066\u3044\u305f\u65b9\u3001\u671f\u5f85\u306b\u6dfb\u3048\u305a\u30b9\u30df\u30de\u30bb\u30f3\u3002\n[^5]: \u62d9\u904e\u53bb\u8a18\u4e8b [\u7dda\u5f62\u56de\u5e30\u306e Normal Equation\uff08\u6b63\u898f\u65b9\u7a0b\u5f0f\uff09\u306b\u3064\u3044\u3066](http://qiita.com/antimon2/items/ac1ebaed75ad58406b94) \u53c2\u7167\u3002\n[^6]: \u79c1\u306e\u5f8c\u306b\u5225\u306e\u65b9\u304c\u305d\u306e\u767a\u8868\u3092\u3057\u305f\u306e\u3067\u3059\u304c\u3001\u8cc7\u6599\u7b49\u306f\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n[^7]: \u6b63\u76f4\u3001\u3053\u3093\u306a\u9ad8\u5ea6\u306a\u53cd\u5fdc\u304c\u4e0a\u304c\u3063\u3066\u304f\u308b\u3068\u306f\u4e88\u60f3\u5916\u3067\u3057\u305f\u3002\u8cea\u554f\u8005\u306f\u30d7\u30ed\u30b3\u30f3\u304b\u4f55\u304b\u306e\u7d4c\u9a13\u8005\u3089\u3057\u3044\u306e\u3067\u305d\u3046\u3044\u3046\u77e5\u8b58\u304c\u3042\u3063\u305f\u306e\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n", "tags": ["Julia", "\u6a5f\u68b0\u5b66\u7fd2"]}