{"tags": ["Spark", "ApacheSpark"], "context": "Welcome to\n      ____              __\n     / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n   /___/ .__/\\_,_/_/ /_/\\_\\   version 2.0.0\n      /_/   \n\n2016\u5e747\u6708\u672b\u306bApache Spark 2.0.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3001\u59cb\u3081\u3066\u307f\u305f\u306e\u3067\u8272\u3005\u30e1\u30e2\n\u30e1\u30e2\u306a\u306e\u3067\u3054\u5bb9\u8d66\u304f\u3060\u3055\u3044\ud83d\ude47\n\u307e\u305f\u3001\u3053\u306e\u8a18\u4e8b\u4e2d\u306b\u30b5\u30f3\u30d7\u30eb\u3067\u8f09\u305b\u3066\u3044\u308b\u30b3\u30fc\u30c9\u306fjava\u304c\u30e1\u30a4\u30f3\u3067\u3059\u304cscala\u3001python\u306e\u65b9\u304c\u3059\u3063\u304d\u308a\u304b\u3051\u3066\u3044\u308b\u6c17\u304c\u3058\u307e\u3059\u3002\n\u3053\u308c\u304b\u3089\u3082\u968f\u6642\u7de8\u96c6\u3057\u3066\u3044\u304d\u307e\u3059\n\n Apache Spark \u3068\u306f\n\n\n\u4e0a\u306e\u753b\u50cf\u306fhttps://spark.apache.org\u304b\u3089\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306fHadoop\u306eMapReduce100\u500d\u901f\u3044\u3089\u3057\u3044\u3067\u3059\u3001\u5f37\u3044\u3001Spark\n\nSpark\u306f\u5de8\u5927\u306a\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u9ad8\u901f\u306b\u5206\u6563\u51e6\u7406\u3092\u884c\u3046\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3002\n(Java Magazine\u306b\u306fSpark\u306f\u9ad8\u901f\u3067\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u306a\u6c4e\u7528\u5206\u6563\u51e6\u7406\u30a8\u30f3\u30b8\u30f3\u3068\u66f8\u3044\u3066\u307e\u3057\u305f)\n\n\u91cd\u8981\u306a\u306e\u306f\u4ee5\u4e0b\u306e\u30dd\u30a4\u30f3\u30c8\u3060\u3068\u601d\u3044\u307e\u3057\u305f(\u3044\u308d\u3093\u306a\u30b5\u30a4\u30c8\u3084\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u8aad\u3093\u3067\u3044\u3066)\n\u4ee5\u4e0b\u306e\u70b9\u306b\u3064\u3044\u3066\u306e\u8a73\u7d30\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002\n\n1. RDD(Resilient Distributed Datasets)\u306e\u4ed5\u7d44\u307f\n2. Scala\u3001Java\u3001R\u3001Python\u306a\u3069\u306b\u5bfe\u5fdc(API\u304c\u7528\u610f\u3055\u308c\u3066\u308b)\n3. \u591a\u5f69\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\n4. \u8907\u6570\u306e\u5c0e\u5165\u30b7\u30ca\u30ea\u30aa(\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u3001YARN\u3001Mesos\u3001\u7d44\u307f\u8fbc\u307f\u3001\u30af\u30e9\u30a6\u30c9)\n5. \u5e45\u5e83\u3044\u51e6\u7406\u30e2\u30c7\u30eb(\u30d0\u30c3\u30c1\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u3001\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0)\n\n\u3061\u306a\u307f\u306b\u65e5\u7d4cBP\u793e\u304c\u767a\u8868\u3057\u305f\u300cIT\u30a4\u30f3\u30d5\u30e9\u30c6\u30af\u30ce\u30ed\u30b8\u30fcAWARD 2015\u300d\u306b\u304a\u3044\u3066\u3001Spark\u306fDocker\u306b\u6b21\u3050\u6e96\u30b0\u30e9\u30f3\u30d7\u30ea\u3068\u3055\u308c\u305f\u3002\nSpark\u3082Hadoop\u3068\u540c\u3058\u304f\u5206\u6563\u51e6\u7406\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059(\u53b3\u5bc6\u306b\u306f\u62c5\u5f53\u3057\u3066\u308b\u3068\u3053\u308d\u304c\u3061\u3087\u3063\u3068\u9055\u3046)\u3002Spark\u306f\u30ab\u30ea\u30d5\u30a9\u30eb\u30cb\u30a2\u5927\u5b66\u30d0\u30fc\u30af\u30ec\u30fc\u6821\u3067\u958b\u767a\u304c\u958b\u59cb\u3055\u308c\u30012014\u5e74\u306bApache Software Foundation\u306b\u5bc4\u8d08\u3055\u308c\u307e\u3057\u305f\u3002Hadoop\u304cJava\u8a00\u8a9e\u3067\u4f5c\u3089\u308c\u3066\u3044\u308b\u306e\u306b\u5bfe\u3057\u3066Spark\u306fScala\u3067\u4f5c\u3089\u308c\u3066\u3044\u307e\u3059\u3002\n\n\nSpark\u306e\u5f97\u610f\u4e0d\u5f97\u610f\n\n\n\u5f97\u610f\n\nHadoop\u3067\u52a0\u5de5\u3057\u305f\u306e\u3061\u306e\u30c9\u30ea\u30eb\u30c0\u30a6\u30f3\u5206\u6790\nTB\u7d1a\u307e\u3067\u306e\u30c7\u30fc\u30bf\u3092\u6271\u3046\u30b7\u30b9\u30c6\u30e0\n\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u304c\u6709\u52b9\u3067\u306a\u3044\u30ed\u30f3\u30b0\u30c6\u30fc\u30eb\u306e\u30c7\u30fc\u30bf\u5206\u6790\n\u6570\u79d2~\u6570\u5206\u7a0b\u5ea6\u306eHadoop\u3088\u308a\u3082\u77ed\u3044\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u5fc5\u8981\u306a\u51e6\u7406\n\n\n\u4e0d\u5f97\u610f\n\n\u30af\u30e9\u30b9\u30bf\u5168\u4f53\u306e\u30e1\u30e2\u30ea\u306b\u4e57\u308a\u304d\u3089\u306a\u3044\u5de8\u5927\u306a\u30c7\u30fc\u30bf\u51e6\u7406(TB\u4ee5\u4e0a)\n\u5927\u304d\u306a\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u5c11\u3057\u305a\u3064\u66f4\u65b0\u3059\u308b\u51e6\u7406\n\u79d2\u4ee5\u4e0b\u306e\u6642\u306b\u77ed\u3044\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u5fc5\u8981\u306a\u51e6\u7406\n\n\nHadoop\u3068\u306e\u9055\u3044\n\u540c\u3058\u5206\u6563\u51e6\u7406\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3068\u3057\u3066\u3001Hadoop\u304c\u6709\u540d\u3067\u3059\u3002\u4e21\u8005\u306f\u4ee5\u4e0b\u306e\u56f3(http://www.aerospike.com/blog/what-the-spark-introduction/ \u3088\u308a\u5f15\u7528)\u306e\u3088\u3046\u306b\u3001\u305d\u306e\u307e\u307e\u6bd4\u3079\u3089\u308c\u308b\u3082\u306e\u3067\u306f\u306a\u3044\uff1f\u3067\u3059\u304c\u3001\u3042\u3048\u3066Spark\u304cHadoop\u306e\u3069\u3053\u306b\u3042\u305f\u308b\u304b\u3068\u3044\u3046\u3068\u3001MapReduce\u306e\u90e8\u5206\u306e\u3088\u3046\u3067\u3059\u3002\n\n\n\n\n\n\n\n\nHadoop\u81ea\u4f53\u3068\u3066\u3082\u4fbf\u5229\u3067\u3059\u304c\u6b20\u70b9\u3082\u3042\u308a\u307e\u3057\u305f\u3002\u305d\u306e\u8272\u3005\u306a\u6b20\u70b9\u3092\u89e3\u6c7a\uff1f\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u306e\u304cSpark\u306e\u3088\u3046\u3067\u3059\u3002\nHadoop\u306e\u6b20\u70b9\u3068\u8a00\u308f\u308c\u3066\u3044\u305f\u306e\u304c\u4e3b\u306b\u4ee5\u4e0b\u306e\u4e09\u3064\n\n\u500b\u3005\u306e\u30e1\u30e2\u30ea\u3092\u6d3b\u7528\u3067\u304d\u308b\u8a2d\u8a08\u3067\u306a\u304b\u3063\u305f(\u30bf\u30b9\u30af\u3054\u3068\u306b\u30c7\u30fc\u30bf\u3092\u30c7\u30a3\u30b9\u30af\u8aad\u307f\u8fbc\u307f&\u66f8\u304d\u8fbc\u307f\u3057\u306a\u304d\u3083\u3044\u3051\u306a\u3044\u306e\u304c\u30dc\u30c8\u30eb\u30cd\u30c3\u30af)\n\u540c\u3058\u51e6\u7406\u3092\u8907\u6570\u884c\u3046\u969b\u306b\u3001\u305d\u306e\u90fd\u5ea6\u30c7\u30fc\u30bf\u30a2\u30af\u30bb\u30b9\u304c\u767a\u751f\n\u540c\u3058\u30c7\u30fc\u30bf\u3067\u3082\u306a\u3093\u3069\u3082\u4f7f\u3046\u3082\u306e\u306f\u4f7f\u3046\u969b\u306b\u7121\u99c4\u306b\u30a2\u30af\u30bb\u30b9\u304c\u3044\u3063\u3071\u3044\u767a\u751f\n\n\u3053\u306e\u8ab2\u984c\u3092\u89e3\u6c7a\u3059\u308b\u306e\u304cRDD(Resilient Distributed Datasets)\u3068\u3044\u3046Spark\u306e\u5206\u6563\u5171\u6709\u30e1\u30e2\u30ea\u306e\u4ed5\u7d44\u307f\u3067\u3059\u3002\n\u3059\u3054\u304f\u3056\u3063\u304f\u308a\u8a00\u3046\u3068\u3001Hadoop\u3067\u306f\u6bce\u56de\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u308a\u3057\u3066\u3044\u305f\u306e\u304c\u30a4\u30f3\u30e1\u30e2\u30ea\u3067\u5b9f\u884c\u3067\u304d\u308b\u306e\u3067\u3044\u3044\u3053\u3068\u3044\u3063\u3071\u3044\u3042\u308b\u3088\u306d\u3063\u3066\u611f\u3058\u3060\u3068\u89e3\u91c8\u3057\u307e\u3057\u305f\u3002\n\nHadoop\u306e\u5834\u5408\n\n\u4f8b\u3048\u3070\u30b8\u30e7\u30d6\u304c\u591a\u6bb5\u306b\u69cb\u6210\u3055\u308c\u308b\u5834\u5408\u306e\u8ab2\u984c\u306e\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\n\n\u3053\u306e\u3088\u3046\u306bHadoop\u306e\u5834\u5408\u30b8\u30e7\u30d6\u9593\u3067\u306e\u30c7\u30fc\u30bf\u53d7\u3051\u6e21\u3057\u306e\u5ea6\u306bHDFS(*1)\u3078\u306eI/O\u304c\u4f34\u3046\n\n(*1)HDFS:MapReduce\u3067\u51e6\u7406\u3059\u308b\u30c7\u30fc\u30bf\u3092\u6271\u3046\u3001\u5206\u6563\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u8907\u6570\u306e\u30de\u30b7\u30f3\u3092\u4e00\u3064\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002\nHDFS\u306f\u7ba1\u7406\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306eI/O\u3092\u9ad8\u901f\u5316\u3059\u308b\u305f\u3081\u5927\u304d\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u4e00\u5b9a\u306e\u5927\u304d\u3055(\u521d\u671f\u8a2d\u5b9a\u3067\u306f64MB)\u306e\u30d6\u30ed\u30c3\u30af\u306b\u5206\u5272\u3057\u3066\u3001\n\u8907\u6570\u306e\u8a18\u61b6\u88c5\u7f6e\u306b\u5206\u6563\u3057\u3066\u4fdd\u5b58\u3001I/O\u3092\u8a18\u61b6\u88c5\u7f6e\u306e\u53f0\u6570\u3060\u3051\u4e26\u5217\u306b\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002\n\n\n\nSpark\u3067\u306f\n\nRDD\u3068\u547c\u3070\u308c\u308b\u90e8\u5206\u6545\u969c\u3078\u306e\u8010\u6027\u3092\u8003\u616e\u3057\u305f\u5206\u6563\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306b\u5bfe\u3057\u3066\u5178\u578b\u7684\u306a\u30c7\u30fc\u30bf\u51e6\u7406\u3092\u7e70\u308a\u8fd4\u3059\u3053\u3068\u3067\u76ee\u7684\u306e\u7d50\u679c\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\n\n\u8907\u96d1\u306a\u51e6\u7406\u3092\u5c11\u306a\u3044\u30b8\u30e7\u30d6\u6570\u3067\u5b9f\u73fe\u3057\u3001RDD\u3054\u3068\u306b\u4e2d\u9593\u30c7\u30fc\u30bf\u3092\u305d\u306e\u90fd\u5ea6\u51fa\u529b\u3057\u306a\u3044\u306e\u3067HDFS\u306a\u3069\u306e\u5916\u90e8\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u306eI/O\u304c\u6291\u3048\u3089\u308c\u308b\u3002\n\n\n1. RDD(Resilient Distributed Datasets)\u306e\u4ed5\u7d44\u307f\nRDD\u306f\u8010\u969c\u5bb3\u6027\u5206\u6563\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u3001\u7e70\u308a\u8fd4\u3057\u5229\u7528\u3059\u308b\u30c7\u30fc\u30bf\u306b\u3064\u3044\u3066\u306f\u30e1\u30e2\u30ea\u4e0a\u306b\u4fdd\u6301\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306a\u6a5f\u69cb\u3067Hadoop\u306eMapReduce\u304c\u4fdd\u6301\u3057\u3066\u3044\u305f(\u8010\u969c\u5bb3\u6027\u3001\u30c7\u30fc\u30bf\u5c40\u6240\u6027\u3001\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3)\u306f\u305d\u306e\u307e\u307e\u5f15\u304d\u7d99\u3044\u3067\u3044\u307e\u3059\u3002\n\nI. RDD\u306e\u6027\u8cea\n\n\u30a4\u30df\u30e5\u30fc\u30bf\u30d6\u30eb\u3067\u5206\u5272\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3(\u30d5\u30a9\u30fc\u30eb\u30c8\u30c8\u30ec\u30e9\u30f3\u30c8\u6027\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081RDD\u3067\u306f\u300c\u5f97\u4f53\u30c7\u30fc\u30bf\u304c\u5931\u308f\u308c\u3066\u3044\u305f\u3089\u524d\u306e\u30c7\u30fc\u30bf\u304b\u3089\u518d\u751f\u6210\u3059\u308b\u300d\u3068\u3044\u3046\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u53d6\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u305d\u308c\u305e\u308c\u30a4\u30df\u30e5\u30fc\u30bf\u30d6\u30eb\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b)\n\u8aad\u307f\u53d6\u308a\u5c02\u7528\n\u4e26\u5217\u51e6\u7406(map,filter,groupBy,join)\u3092\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30c7\u30fc\u30bf\u306b\u9069\u5fdc\u3057\u305f\u7d50\u679c\u3092\u751f\u6210\n\u518d\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u30e1\u30e2\u30ea\u4e0a\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u308b\n\u9045\u5ef6\u8a55\u4fa1\u3055\u308c\u308b(\u30a2\u30af\u30b7\u30e7\u30f3\u7cfb\u306e\u30e1\u30bd\u30c3\u30c9(*2)\u304c\u547c\u3070\u308c\u308b\u307e\u3067\u300d\u5b9f\u969b\u306e\u51e6\u7406\u306f\u884c\u308f\u308c\u306a\u3044)\n\n(*2)\u30a2\u30af\u30b7\u30e7\u30f3\u7cfb\u306e\u30e1\u30bd\u30c3\u30c9(\u5f15\u7528)\n> RDD\u306b\u4fdd\u6301\u3057\u305f\u30c7\u30fc\u30bf\u3092\u64cd\u4f5c\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306f\u5927\u304d\u304f\u5206\u3051\u30662\u3064\u306b\u5206\u985e\u3055\u308c\u307e\u3059\u3002\n\u300cTransformations\u300d\u3068\u300cActions\u300d\u3067\u3059\u3002\n\u300cTransformations\u300d\u306fRDD\u3092\u64cd\u4f5c\u3057\u3001\u7d50\u679c\u3092\u65b0\u3057\u3044RDD\u3068\u3057\u3066\u8fd4\u3057\u307e\u3059\u3002\n\u300cActions\u300d\u306fRDD\u306e\u30c7\u30fc\u30bf\u3092\u64cd\u4f5c\u3057\u3001\u7d50\u679c\u3092RDD\u4ee5\u5916\u306e\u5f62\u5f0f\u3067\u8fd4\u3059\u304b\u4fdd\u5b58\u3092\u884c\u3044\u307e\u3059\u3002\n\u5927\u96d1\u628a\u306b\u8a00\u3048\u3070\u3001RDD\u3092\u8fd4\u3059\u306e\u304c\u300cTransformations\u300d\u3001\u305d\u3046\u3067\u306f\u306a\u3044\u3082\u306e\u304c\u300cActions\u300d\u3067\u3042\u308b\u3068\u8a00\u3048\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n\u2161. RDD\u3092\u751f\u6210\u3059\u308b\u306b\u306f\n\u751f\u6210\u306e\u65b9\u6cd5\u306f\u5927\u304d\u304f2\u901a\u308a\u3042\u308a\u307e\u3059\u3002\n\u4e00\u3064\u76ee\u306fSparkContext\u3068\u3044\u3046\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u6301\u3064\u3001Spark\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u7528\u3044\u3066\nJavaRDD<String> lines = sc.textFile(\"README.md\");\n\n\u306e\u3088\u3046\u306b\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u3092\u6587\u5b57\u5217\u304b\u3089\u306a\u308bRDD\u3068\u3057\u3066\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u30ed\u30fc\u30c9\u3059\u308b\u65b9\u6cd5\u3002\n\u4e8c\u3064\u76ee\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3(\u30ea\u30b9\u30c8\u3084\u96c6\u5408)\u3092\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u5206\u6563\u3055\u305b\u308b\u65b9\u6cd5\u304c\u3042\u308b\u3002\n\u4f8b\u3048\u3070\u30d7\u30ed\u30b0\u30e9\u30e0\u4e2d\u306e\u65e2\u5b58\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066SparkContext\u306eparallelize()\u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u3059\u3002\nJavaRDD<String> lines = sc.parallelize(Arrays.asList(\"student\",\"i am a student\"))\n\n\u305f\u3060\u3057\u3053\u306e\u65b9\u6cd5\u306f\u4e00\u53f0\u306e\u30de\u30b7\u30f3\u306e\u30e1\u30e2\u30ea\u5185\u306b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u5168\u4f53\u3092\u6301\u305f\u306a\u304f\u3066\u306f\u306a\u3089\u305a\u3001\u5b9f\u7528\u7684\u3067\u306f\u306a\u3044\u3002\n\n\u2162. RDD\u306e\u518d\u5229\u7528(\u6c38\u7d9a\u5316/\u30ad\u30e3\u30c3\u30b7\u30e5)\nRDD\u306f\u305d\u308c\u306b\u5bfe\u3059\u308b\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u308b\u305f\u3073\u306b\u8a08\u7b97\u3057\u76f4\u3055\u308c\u308b\u306e\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3002\u3042\u308bRDD\u304c\u4f55\u56de\u3082\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u518d\u8a08\u7b97\u3055\u308c\u308b\u3088\u3046\u3067\u3042\u308c\u3070\u3001Spark\u306b\u5bfe\u3057\u3066\u305d\u308c\u3092\u6c38\u7d9a\u5316\u3067\u304d\u308b\u3088\u3046\u306b(lines\u306fRDD)\nlines.persist()\n\n\u3067\u4f9d\u983c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u307e\u305f\u3001\u305d\u306e\u30c7\u30fc\u30bf\u306fSpark\u306b\u5bfe\u3057\u3066\u6307\u793a\u3059\u308b\u3053\u3068\u3067\u69d8\u3005\u306a\u5834\u6240\u306b\u7f6e\u304f\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u6c38\u7d9a\u5316\u306e\u6307\u793a\u304c\u3042\u3063\u305fRDD\u304c\u8a08\u7b97\u3055\u308c\u308b\u3068\u304d\u3001Spark\u306f\u305d\u306eRDD\u306e\u5185\u5bb9\u3092\u30e1\u30e2\u30ea\u306b\u4fdd\u5b58\u3057(\u30af\u30e9\u30b9\u30bf\u5185\u306e\u30de\u30b7\u30f3\u7fa4\u306b\u307e\u305f\u304c\u3063\u3066\u5206\u5272\u3055\u308c\u308b)\u3001\u305d\u308c\u4ee5\u964d\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u518d\u5229\u7528\u3057\u307e\u3059\u3002\u307e\u305fRDD\u3092\u30c7\u30a3\u30b9\u30af\u306b\u6c38\u7d9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002Spark\u306bRDD\u3092\u6c38\u7d9a\u5316\u3055\u305b\u308b\u3068\u3001RDD\u3092\u8a08\u7b97\u3059\u308b\u8a08\u7b97\u30ce\u30fc\u30c9\u306f\u3001\u81ea\u5206\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u30c7\u30fc\u30bf\u3092\u6c38\u7d9a\u5316\u3057\u305f\u30ce\u30fc\u30c9\u306b\u969c\u5bb3\u304c\u3042\u3063\u305f\u5834\u5408\u306fSaprk\u304c\u5931\u308f\u308c\u305f\u30c7\u30fc\u30bf\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u8a08\u7b97\u3059\u308b\u3002\u307e\u305f\u30ce\u30fc\u30c9\u969c\u5bb3\u304c\u3042\u3063\u3066\u3082\u901f\u5ea6\u304c\u843d\u3061\u306a\u3044\u3088\u3046\u306b\u3001\u30c7\u30fc\u30bf\u3092\u8907\u6570\u306e\u30ce\u30fc\u30c9\u306b\u8907\u88fd\u3057\u3066\u304a\u304f\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u307e\u305fJava\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306epersist()\u3067\u306f\u30c7\u30fc\u30bf\u3092JVM\u306e\u30d2\u30fc\u30d7\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u4f53\u5185\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002\u30bf\u30a4\u30df\u30f3\u30b0\u306b\u95a2\u3057\u3066\nRDD\u306b\u5bfe\u3059\u308bpersist()\u306f\u6700\u521d\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3088\u308a\u3082\u524d\u306b\u547c\u3076\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002persist()\u3084cache()\u306f\u3001RDD\u3092\u6c38\u7d9a\u5316\u3059\u308b\u3053\u3068\u3092\u5ba3\u8a00\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u9045\u5ef6\u8a55\u4fa1\u3055\u308c\u308b\u305f\u3081\u3067\u3059\u3002\norg.apache.spark.storage.StorageLevel\u306b\u6c38\u7d9a\u5316\u306e\u30ec\u30d9\u30eb\u306e\u6307\u5b9a\u306b\u95a2\u3057\u3066\u8a18\u8ff0\u304c\u3042\u308a\u307e\u3059\u3002\n\u307e\u305f\u30e1\u30e2\u30ea\u306b\u53ce\u307e\u3089\u306a\u3044\u30c7\u30fc\u30bf\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306a\u3069\u306fLRU\u30dd\u30ea\u30b7\u30fc(*3)\u3092\u4f7f\u3044\u3001\u53e4\u3044\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u9000\u907f\u3055\u305b\u307e\u3059\u3002\n\u9000\u907f\u3055\u308c\u305f\u30c7\u30fc\u30bf\u304c\u30c7\u30a3\u30b9\u30af\u306b\u66f8\u304d\u51fa\u3055\u308c\u308b\u304b\u518d\u8a08\u7b97\u3055\u308c\u308b\u304b\u306f\u6c38\u7d9a\u5316\u306e\u30ec\u30d9\u30eb\u6b21\u7b2c\u3067\u5909\u308f\u3063\u3066\u304d\u307e\u3059\u3002\n\u307e\u305funpersist()\u3067\u305d\u306eRDD\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u53d6\u308a\u9664\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n(*3)LRU\u30dd\u30ea\u30b7\u30fc:Least Recently Used\u30dd\u30ea\u30b7\u30fc\u3001\n\u6587\u5b57\u3069\u304a\u308a\u6700\u3082\u3044\u304d\u3093\u4f7f\u3063\u305f\u306e\u3092\u6b8b\u3057\u3066\u3044\u304d\u3001\n\u6700\u8fd1\u4f7f\u308f\u306a\u304b\u3063\u305f\u3084\u3064\u306f\u5916\u3057\u3066\u3044\u304f\u8003\u3048\u65b9\n\n\n\u2163. RDD\u306e\u64cd\u4f5c\nRDD\u306f\u30a2\u30af\u30b7\u30e7\u30f3\u3068\u5909\u63db\u306e\u4e8c\u3064\u306e\u64cd\u4f5c\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u3066\u3001\u5909\u63db\u304c\u65b0\u3057\u3044RDD\u3092\u4f5c\u6210\u3059\u308b\u64cd\u4f5c(map,filter\u306a\u3069)\u306b\u5bfe\u3057\u3066\u3001\u5909\u63db\u306f\u305d\u3046\u3067\u306a\u3044\u3082\u306e(count\u306a\u3069)\u3067\u3059\u3002\nSpark\u306e\u307b\u3068\u3093\u3069\u306e\u5909\u63db\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u3001Spark\u304c\u30c7\u30fc\u30bf\u306e\u6f14\u7b97\u51e6\u7406\u3092\u884c\u3046\u969b\u306b\u4f7f\u7528\u3059\u308b\u95a2\u6570\u6e21\u3057\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001RDD\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u30af\u30ed\u30fc\u30b8\u30e3(*4)\u5185\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\u8a00\u3044\u63db\u3048\u308c\u3070Spark\u306eRDD\u30e1\u30bd\u30c3\u30c9\u5b9f\u884c\u306f\u30af\u30ed\u30fc\u30b8\u30e3\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002RDD\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u305d\u306e\u30e1\u30bd\u30c3\u30c9\u3068\u305d\u306e\u30e1\u30bd\u30c3\u30c9\u3078\u5f15\u6570\u3068\u3057\u3066\u6e21\u3055\u308c\u305f\u95a2\u6570\u3001\u305d\u306e\u95a2\u6570\u5185\u3067\u53c2\u7167\u3055\u308c\u3066\u3044\u308b\u5909\u6570\u306f\u30af\u30ed\u30fc\u30b8\u30e3\u3068\u3057\u3066\u307e\u3068\u3081\u3089\u308c\u3066\u30a8\u30b0\u30bc\u30ad\u30e5\uff10\u4ed6\u306b\u9001\u4fe1\u3055\u308c\u3001\u5404\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306b\u3088\u3063\u3066\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306a\u3044\u304b\u3089\u53c2\u7167\u3057\u305f\u5916\u90e8\u306e\u5909\u6570\u306e\u5024\u3092\u66f8\u304d\u63db\u5f97\u3088\u3046\u3068\u3057\u3066\u3082\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u5185\u306e\u5b9f\u884c\u306a\u306e\u3067\u66f4\u65b0\u3067\u304d\u307e\u305b\u3093\u3001\u305d\u306e\u969b\u306fAccumulator\u3092\u4f7f\u3044\u307e\u3059\u3002(\u3053\u306eAccumulator\u306f\u30a2\u30af\u30b7\u30e7\u30f3\u5185\u3067\u4f7f\u308f\u308c\u308b\u6642\u306b\u9650\u308aSpark\u306e\u30bf\u30b9\u30af\u306e\u66f4\u65b0\u3092\u5404Accumulator\u306b\u4e00\u5ea6\u3060\u3051\u9069\u5fdc\u3059\u308b\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u3066\u308b\u307f\u305f\u3044\u3067\u3059)\n(*4)\u30af\u30ed\u30fc\u30b8\u30e3: \u6f14\u7b97\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\u5fc5\u8981\u3068\u306a\u308b\u5909\u6570\u3068\u30e1\u30bd\u30c3\u30c9\u7fa4\u3092\u30ab\u30d7\u30bb\u30eb\u5316\u3057\u305f\u3082\u306e\u3002\n\n\nA. \u5909\u63db\n\nRDD\u306b\u5bfe\u3057\u3066\u5909\u63db\u51e6\u7406\u3092\u3059\u308b\u3068\u65b0\u3057\u3044RDD\u304c\u8fd4\u3055\u308c\u307e\u3059\u3002\u5909\u63db\u3055\u308c\u305fRDD\u306e\u6f14\u7b97\u306f\u3001\u9045\u5ef6\u3055\u305b\u308c\u3066\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3059\u308b\u6642\u70b9\u3067\u521d\u3081\u3066\u5b9f\u884c\u3055\u308c\u308b\u3002\u4f8b\u3048\u3070\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30a8\u30e9\u30fc\u306e\u3042\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u307f\u30d5\u30a3\u30eb\u30bf\u30fc\u304b\u3051\u305f\u3044\u5834\u5408\u95a2\u6570\u306e\u6e21\u3057\u65b9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//A. \u7121\u540d\u306e\u30a4\u30f3\u30bf\u30fc\u30af\u30e9\u30b9\u3068\u3057\u3066\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u5b9a\u7fa9\u3057\u95a2\u6570\u6e21\u3057\u3059\u308b\nJavaRDD<String> srcLog = sc.textFile(\"Log.txt\");\nJavaRDD<String> errorLog = srcLog.filter(\n      new Function<String,Boolean>(){\n            public Boolean call(String str){return str.contains(\"Error\");}\n   }\n);\n\n//B. \u540d\u524d\u4ed8\u304d\u30af\u30e9\u30b9\u3092\u4f7f\u3063\u3066\u95a2\u6570\u6e21\u3057\nJavaRDD<String> srcLog = sc.textFile(\"Log.txt\");\nclass ContainsError implements Function<String,Boolean>{\n      public Boolean call(String str){return str.contains(\"Error\");}\n}\nJavaRDD<String> errorLog = srcLog.filter(new ContainsError());\n\n//C. \u30d1\u30e9\u30e1\u30fc\u30bf\u3042\u308a\u306e\u540d\u524d\u4ed8\u304d\u30af\u30e9\u30b9\u3092\u4f7f\u3063\u3066\u95a2\u6570\u6e21\u3057\nJavaRDD<String> srcLog = sc.textFile(\"Log.txt\");\nclass Contains implements Function<String,Boolean>{\n      private String argQuery;\n      public Contains(String arg){this.argQuery = arg;}\n      public Boolean call(String str){return str.contains(argQuery);}\n}\nJavaRDD<String> errorLog = srcLog.filter(new Contains(\"Error\"));\n\n//D. Java8\u306e\u30e9\u30e0\u30c0\u5f0f\u3092\u4f7f\u3063\u3066\u95a2\u6570\u6e21\u3057(\u30aa\u30b9\u30b9\u30e1)\nJavaRDD<String> srcLog = sc.textFile(\"Log.txt\");\nJavaRDD<String> errorLog = srcLog.filter(s->s.contains(\"Error\"));\n\n\u3053\u3053\u3067\u306e\u64cd\u4f5c\u306f`srcLog\u3068\u3044\u3046RDD\u81ea\u4f53\u3092\u5909\u5316\u3055\u305b\u308b\u306e\u3067\u306f\u306a\u304f\u3001filter()\u95a2\u6570\u304c\u8fd4\u3059\u306e\u306f\u5168\u304f\u65b0\u3057\u3044RDD\u306eerrorLog\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\n[\u88dc\u8db3]org.apache.spark.api.java.function\u5185\u306e\u4e3b\u306aJava\u306e\u95a2\u6570\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\n\n\n\n\u95a2\u6570\n\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u306e\u3042\u308b\u30e1\u30bd\u30c3\u30c9\n\u4f7f\u7528\u65b9\u6cd5\n\n\n\n\nFunction<T1,R>\nR call(T1)\n\u5165\u529b\u3092\u4e00\u3064\u53d6\u308a\u3001\u51fa\u529b\u3092\u4e00\u3064\u8fd4\u3059\u3002map()\u3084filter()\u306a\u3069\u3068\u4e00\u7dd2\u306b\u4f7f\u3046\n\n\nFunction2<T1,T2,R>\nR call(T1,T2)\n\u5165\u529b\u3092\u4e8c\u3064\u53d6\u308a\u3001\u51fa\u529b\u3092\u4e00\u3064\u8fd4\u3059\u3002aggregate()\u3084fold()\u306a\u3069\u3068\u4e00\u7dd2\u306b\u4f7f\u3046\n\n\nFlatMapFunction<T,R>\nIterable call(T)\n\u5165\u529b\u3092\u4e00\u3064\u53d6\u308a\u3001\u51fa\u529b\u3092\u8fd4\u3055\u306a\u3044\u3053\u3068\u3082\u3042\u308c\u3070\u3001\u8907\u6570\u8fd4\u3059\u3053\u3068\u3082\u3042\u308b\u3002\u3002flatMap()\u3068\u3044\u3063\u305f\u64cd\u4f5c\u3068\u4e00\u7dd2\u306b\u4f7f\u3046\n\n\n\n\n\u8981\u7d20\u5358\u4f4d\u306e\u5909\u63db\n\u8981\u7d20\u5358\u4f4d\u306e\u5909\u63db\u3068\u3057\u3066\u306fmap()\u3084filter\u306a\u3069\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\u95a2\u6570\n\u8aac\u660e\n\n\n\n\nmap()\n\u5f15\u6570\u306b\u95a2\u6570\u3092\u4e00\u3064\u53d6\u308a\u3001\u305d\u306e\u95a2\u6570\u3092RDD\u5185\u306e\u5404\u8981\u7d20\u306b\u9069\u5fdc\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u65b0\u3057\u3044\u5024\u3068\u3059\u308bRDD\u3092\u8fd4\u3059\n\n\nfilter()\n\u5f15\u6570\u306b\u95a2\u6570\u3092\u4e00\u3064\u53d6\u308a\u3001\u305d\u306e\u30d5\u30a3\u30eb\u30bf\u95a2\u6570\u304c\u771f\u306b\u306a\u308b\u8981\u7d20\u3060\u3051\u3092\u542b\u3080RDD\u3092\u8fd4\u3059\n\n\n\n\u4f8b\u3048\u3070\u4ee5\u4e0b\u306fRDD\u5185\u306e\u5404\u5024\u306e\u7d76\u5bfe\u5024\u3092\u53d6\u308b\u4f8b\u3067\u3059\nJavaRDD<Integer> input = sc.parallelize(Arrays.asList(-1,2,-3,4,-5));\nJavaRDD<Integer> output = input.map(i->Math.abs(i));\nSystem.out.println(output.collect());\n\n\n\u8907\u6570\u306e\u51fa\u529b\n\u305d\u308c\u305e\u308c\u306e\u5165\u529b\u304b\u3089\u8907\u6570\u306e\u51fa\u529b\u3092\u751f\u6210\u3057\u305f\u3044\u5834\u5408\u3001flatMap()\u304c\u6709\u52b9\u3067\u3059\n\n\n\n\u95a2\u6570\n\u8aac\u660e\n\n\n\n\nflatMap()\n\u5f15\u6570\u306b\u95a2\u6570\u3092\u4e00\u3064\u53d6\u308a\u3001\u305d\u306e\u95a2\u6570\u3092RDD\u5185\u306e\u5404\u8981\u7d20\u306b\u9069\u5fdc\u3057\u3066\u547c\u3070\u308c\u308b\u304c\u3001\u3053\u306e\u95a2\u6570\u306f\u305d\u306e\u7d50\u679c\u3092\u8fd4\u3059Iterator\u3092\u8fd4\u3057\u307e\u3059\u3002\u305d\u308c\u3089\u306eIterator\u5168\u3066\u304b\u3089\u8fd4\u3055\u308c\u305f\u8981\u7d20\u3092\u5024\u3068\u3059\u308bRDD\u3092\u6700\u512a\u7684\u306b\u8fd4\u3057\u307e\u3059\n\n\n\n\u4f8b\u3048\u3070\u4ee5\u4e0b\u306fRDD\u5185\u306e\u6587\u5b57\u5217\u3092\u7a7a\u767d\u3067\u5206\u5272\u3059\u308b\u4f8b\u3067\u3059\nJavaRDD<String> input = sc.parallelize(Arrays.asList(\"Hello I am a dog\"));\nJavaRDD<String> output = input.flatMap(s -> Arrays.asList(s.split(\" \")));\nSystem.out.println(output.collect());\n\n\n\u96c6\u5408\u64cd\u4f5c\n\u548c\u3084\u7a4d\u306a\u3069\u6570\u5b66\u306e\u96c6\u5408\u7684\u306a\u64cd\u4f5c\u306e\u95a2\u6570\u3082\u591a\u304f\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\n\u95a2\u6570\n\u8aac\u660e\nA[1,2,3],B[3,4,5],C[1,1,2,3]\u3060\u3063\u305f\u5834\u5408\n\n\n\n\nunion()\n\u305d\u308c\u305e\u308c\u306eRDD\u306e\u548c\u96c6\u5408\u306e\u91cd\u8907\u3092\u8a31\u3057\u305f\u3059\u3079\u3066\u306e\u8981\u7d20\u304b\u3089\u306a\u308bRDD\u3092\u751f\u6210\nA.union(B) >>> [1,2,3,3,4,5]\n\n\nintersection()\n\u91cd\u8907\u3092\u8a31\u3055\u305a\u305d\u308c\u305e\u308c\u306eRDD\u306e\u7a4d\u96c6\u5408\u306e\u8981\u7d20\u304b\u3089\u306a\u308bRDD\u3092\u751f\u6210\nA.intersection(B) >>> [3]\n\n\nsubtract()\n\u7247\u65b9\u306e\u8981\u7d20\u304b\u3089\u3082\u3046\u4e00\u65b9\u306e\u8981\u7d20\u3092\u9664\u3044\u305f\u8981\u7d20\u304b\u3089\u306a\u308bRDD\u3092\u751f\u6210\nA.substract(B) >>> [1,2]\n\n\ndistinct()\n\u4e00\u3064\u306eRDD\u5185\u90e8\u3067\u306e\u91cd\u8907\u8981\u7d20\u3092\u4e00\u3064\u306b\u307e\u3068\u3081\u305f\u8981\u7d20\u304b\u3089\u306a\u308bRDD\u3092\u751f\u6210\nC.distinct() >>> [1,2,3]\n\n\n\n\nB. \u30a2\u30af\u30b7\u30e7\u30f3\n\n\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u30c9\u30ea\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0(main\u95a2\u6570\u3092\u6301\u3063\u3066\u308b)\u306b\u6700\u7d42\u7684\u306a\u5024\u3092\u8fd4\u3057\u305f\u308a\u3001\u30c7\u30fc\u30bf\u3092\u5916\u90e8\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u66f8\u304d\u51fa\u3059\u64cd\u4f5c\u3067\u3059\u3002RDD\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u884c\u3046\u969b\u3001\u5b9f\u969b\u306b\u51fa\u529b\u3092\u751f\u6210\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u3067\u3001\u305d\u306eRDD\u304c\u5fc5\u8981\u3068\u3059\u308b\u5909\u63db\u306e\u8a55\u4fa1\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u95a2\u6570\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\n\u95a2\u6570\n\u8aac\u660e\n\n\n\n\ncount()\n\u8981\u7d20\u306e\u500b\u6570\u3092\u8fd4\u3059\n\n\ntake(int num)\n\u8907\u6570\u306e\u8981\u7d20\u3092\u5f15\u6570\u306e\u6570\u3060\u3051\u96c6\u3081\u3066\u304f\u308b\n\n\ncollect()\nRDD\u5168\u4f53\u3092\u53d6\u308a\u51fa\u3059(\u5c0f\u3055\u3044\u30b5\u30a4\u30ba\u5834\u5408\u306e\u307f)\n\n\nsaveAsTestFile()\n\u5206\u6563\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u306b\u66f8\u304d\u51fa\u3059\n\n\nsaveAsSequenceFile()\n\u5206\u6563\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u306b\u66f8\u304d\u51fa\u3059\n\n\n\n\u307e\u305f\u3001\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u547c\u3076\u305f\u3073\u306bRDD\u306f\u6700\u521d\u304b\u3089\u8a08\u7b97\u3057\u76f4\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u975e\u52b9\u7387\u306a\u5834\u5408\u304c\u3042\u308b\u306e\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u4e2d\u9593\u7d50\u679c\u306b\u5bfe\u3057\u3066\u6c38\u7d9a\u5316\u3059\u308b\u3053\u3068\u304c\u5fc5\u8981\u306a\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u96c6\u8a08\nRDD\u306e\u4f55\u304b\u306e\u5024\u306e\u5408\u8a08\u3092\u3068\u308a\u305f\u3044\u6642\u306a\u3069\u3001\u96c6\u8a08\u3092\u884c\u3046\u3053\u3068\u306b\u95a2\u3057\u3066reduce()\u304c\u6709\u52b9\u3067\u3059\u3002\nJavaRDD<Integer> input = sc.parallelize(Arrays.asList(1,2,3,4,5,6,7,8,9,10));\nInteger Result = input.reduce((a, b) -> (a + b));\nSystem.out.println(Result);\n\nreduce()\u306fRDD\u5185\u306e\u4efb\u610f\u306e\u540c\u3058\u578b\u306e2\u8981\u7d20\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3092\u884c\u3044\u3001\u305d\u306e\u578b\u306e\u8981\u7d20\u3092\u8fd4\u3059\u95a2\u6570\u3092\u53d6\u308b\u95a2\u6570\u3002\n\u4eca\u56de\u306fjava8\u306e\u30e9\u30e0\u30c0\u3067\u4e8c\u8981\u7d20\u3092\u52a0\u7b97\u3057\u3066\u4e00\u3064\u306b\u3057\u3066\u8fd4\u3059\u95a2\u6570\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\u4e0a\u306e\u4f8b\u3060\u3068\u7d50\u679c\u306f55\u3068\u306a\u308b\u306f\u305a\u3067\u3059\u3002\u4ed6\u306b\u3082\u3001reduce\u306b\u3088\u304f\u4f3c\u3066\u3044\u308bfold()\u3001\u8fd4\u3059\u578b\u304c\u635c\u67fb\u5bfe\u8c61\u306eRDD\u3068\u540c\u3058\u3067\u306a\u304f\u3066\u3082\u826f\u3044aggregate()\u306a\u3069\u3044\u308d\u3044\u308d\u3042\u308a\u307e\u3059\u3002\n\n\n\n\u95a2\u6570\n\u8aac\u660e\n\n\n\n\nreduce(func)\n\u7d50\u5408\u51e6\u7406\u3092\u4e26\u5217\u306b\u884c\u3046\n\n\nfold(zero)(func)\nreduce()\u3068\u898b\u305f\u76ee\u306f\u540c\u3058\u3001\u4e2d\u8eab\u306f\u82e5\u5e72\u9055\u3046\u3063\u307d\u304f\u3001\u5358\u4f4d\u5143\u7684\u306a\u5024(\u305d\u306e\u64cd\u4f5c\u3092\u9069\u5fdc\u3057\u3066\u3082\u5909\u308f\u3089\u306a\u3044)\u3092\u53d7\u3051\u53d6\u308b\n\n\naggregate(func)\nreduce()\u3068\u540c\u3058\u3060\u304c\u3001\u8fd4\u3059\u578b\u304c\u6271\u3046RDD\u306e\u8981\u7d20\u3068\u9055\u3046\u5834\u5408\u306b\u4f7f\u3046\n\n\n\n[\u88dc\u8db3]\n\u307e\u305f\u3001rdd.reduceByKey(func)\u306frdd.groupByKey().mapValues(value -> value.reduce(func))\u3068\u540c\u3058RDD\u3092\u751f\u6210\u3057\u307e\u3059\u304c\u3001\u5404\u30ad\u30fc\u306b\u5bfe\u3059\u308b\u5024\u306e\u30ea\u30b9\u30c8\u3092\u751f\u6210\u3059\u308b\u30b9\u30c6\u30c3\u30d7\u3092\u7701\u3051\u308b\u3053\u3068\u304b\u3089\u52b9\u7387\u304c\u512a\u308c\u3066\u3044\u308b\u3068\u8a00\u3048\u308b\u3089\u3057\u3044\u3002\n\n\u30c7\u30fc\u30bf\u3092\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u8fd4\u3059\u3082\u306e\ncollect()\u3084take()\u306a\u3069\u30c7\u30fc\u30bf\u306e\u4e00\u90e8\u3084\u5168\u90e8\u3092\u901a\u5e38\u5893\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3084\u5024\u3068\u3057\u3066\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u8fd4\u3059RDD\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u8fba\u308a\u306f\u3059\u3067\u306b\u30b3\u30fc\u30c9\u4e0a\u3067\u7d39\u4ecb\u3057\u3066\u3044\u308b\u306e\u3067\u8a73\u3057\u304f\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n\n\n\u95a2\u6570\n\u8aac\u660e\n\n\n\n\ntake(n)\nRDD\u304b\u3089n\u500b\u306e\u8981\u7d20\u3092\u8fd4\u3059\n\n\ntop(n)\nRDD\u306e\u5148\u982d\u304b\u3089n\u500b\u307e\u3067\u306e\u8981\u7d20\u3092\u8fd4\u3059\n\n\ntakeOrdered(n)(ordering)\n\u6307\u5b9a\u3055\u308c\u305f\u9806\u5e8f\u3067RDD\u304b\u3089n\u500b\u8981\u7d20\u3092\u8fd4\u3059\n\n\ntakeSample(withReplacement,n,seed)\nRDD\u304b\u3089\u30e9\u30f3\u30c0\u30e0\u306bn\u500b\u8981\u7d20\u3092\u8fd4\u3059\n\n\ncollect()\nRDD\u3059\u3079\u3066\u306e\u8981\u7d20\u3092\u8fd4\u3059\n\n\ncount()\nRDD\u306e\u8981\u7d20\u6570\u3092\u8fd4\u3059\n\n\ncountByValue()\nRDD\u306e\u5404\u8981\u7d20\u306e\u51fa\u73fe\u56de\u6570\u3092\u8fd4\u3059\n\n\n\n\n\u305d\u306e\u4ed6\nRDD\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u884c\u3046\u304c\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u306f\u4f55\u3082\u8fd4\u3055\u305a\u3001\u5916\u90e8\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u66f8\u304d\u8fbc\u307f\u306a\u3069\u3057\u305f\u3044\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u6642foreach()\u304c\u6709\u52b9\u3067\u3059\u3002\nforeach()\u3067\u306fRDD\u5185\u306e\u5404\u8981\u7d20\u306b\u5bfe\u3057\u3066\u6f14\u7b97\u3092\u884c\u3044\u3001\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u306f\u4f55\u3082\u8fd4\u3055\u305a\u306b\u6e08\u307f\u307e\u3059\u3002\n\n\n\n\u95a2\u6570\n\u8aac\u660e\n\n\n\n\nforeach(func)\nRDD\u4e2d\u306e\u5404\u8981\u7d20\u306b\u6307\u5b9a\u3057\u305f\u95a2\u6570\u3092\u9069\u7528\n\n\n\n\n\u2164. RDD\u5909\u63db\u306e\u9045\u5ef6\u8a55\u4fa1\n\u524d\u8ff0\u3057\u305f\u901a\u308a\u3001Spark\u306f\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u884c\u308f\u308c\u308b\u307e\u3067\u5909\u63db\u306e\u51e6\u7406\u3092\u59cb\u3081\u307e\u305b\u3093\u3002Spark\u306f\u305d\u306e\u64cd\u4f5c\u3092\u5373\u5ea7\u306b\u5b9f\u884c\u305b\u305a\u3001\u305d\u306e\u64cd\u4f5c\u304c\u8981\u6c42\u3055\u308c\u305f\u3053\u3068\u3092\u793a\u3059metadata\u3092\u5185\u90e8\u7684\u306b\u8a18\u9332\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u305d\u306e\u4e0a\u3067Spark\u306f\u9045\u5ef6\u8a55\u4fa1\u3092\u884c\u3044\u64cd\u4f5c\u3092\u30b0\u30eb\u30fc\u30d7\u3068\u3057\u3066\u307e\u3068\u3081\u3001\u30c7\u30fc\u30bf\u306b\u5bfe\u3059\u308b\u64cd\u4f5c\u306e\u56de\u6570\u3092\u6e1b\u3089\u3057\u3066\u3044\u307e\u3059(\u5185\u90e8\u7684\u306b\u3042\u308b\u7a0b\u5ea6\u6700\u9069\u5316)\u3002\u305d\u306e\u305f\u3081Hadoop Mapreduce\u306e\u56de\u6570\u3092\u6700\u5c0f\u9650\u306b\u3059\u3079\u304f\u3069\u306e\u3088\u3046\u306b\u64cd\u4f5c\u3092\u307e\u3068\u3081\u308b\u304b\u307f\u305f\u3044\u306a\u4e8b\u306f\u8003\u3048\u306a\u304f\u3066\u3082\u5927\u4e08\u592b\u305d\u3046\u3002\n\n\u2165. RDD\u306e\u4f9d\u5b58\u95a2\u4fc2\n\n\nRDD\u306e\u5909\u63db\u306b\u304a\u3044\u3066\u3001\u5909\u63db\u306e\u5143(\u89aa)\u306eRDD\u3068\u5909\u63db\u5f8c(\u5b50)\u3068\u306e\u9593\u306b\u306f\u4f9d\u5b58\u95a2\u4fc2\u304c\u5b9a\u7fa9\u3055\u308c\u308b\u3002\n\u4f9d\u5b58\u95a2\u4fc2\u306f\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0(RDD\u306e\u5909\u63db\u30c1\u30a7\u30a4\u30f3\u3092\u51e6\u7406\u53ef\u80fd\u306a\u30bf\u30b9\u30af\u306b\u5206\u5272\u3059\u308b)\u306b\u95a2\u4fc2\u3059\u308b\u3002\n\u72ed\u3044\u4f9d\u5b58\u95a2\u4fc2(\u89aa\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u304c\u5358\u4e00\u306e\u5b50\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u751f\u6210\u306b\u95a2\u308f\u3063\u3066\u3044\u308b\u4f9d\u5b58\u95a2\u4fc2)\u3068\u3001\u5e83\u3044\u4f9d\u5b58\u95a2\u4fc2(\u89aa\u306e\u30da\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u304c\u8907\u6570\u306e\u5b50\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u751f\u6210\u306b\u95a2\u308f\u3063\u3066\u3044\u308b\u4f9d\u5b58\u95a2\u4fc2)\u304c\u3042\u308b\n\n\n\u2166. RDD\u306e\u8010\u6545\u969c\u6027\n\n\nRDD\u306f\u30c7\u30fc\u30bf\u305d\u306e\u3082\u306e\u3067\u306f\u306a\u304f\u3001\u300cRDDs\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u884c\u3063\u305f\u5909\u63db\u300d\u3092\u8a18\u9332\u3059\u308b\u3053\u3068\u3067\u52b9\u7387\u7684\u306a\u8010\u969c\u5bb3\u6027\u3092\u5b9f\u73fe\u3057\u3066\u3044\u308b\u3002\n\u3082\u3057RDD\u306e\u4e2d\u306e\u4e00\u90e8\u5206\u304c\u30ed\u30b9\u30c8\u3057\u305f\u5834\u5408\u3001RDD\u306f\u305d\u306e\u30c7\u30fc\u30bf\u304c\u4ed6\u306eRDD\u304b\u3089\u3069\u306e\u3088\u3046\u306b\u5909\u63db\u3055\u308c\u3066\u751f\u3058\u305f\u30c7\u30fc\u30bf\u304b\u3092\u4fdd\u6301\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30b3\u30b9\u30c8\u306e\u5927\u304d\u306a\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3(*5)\u306a\u3057\u306b\u8fc5\u901f\u306b\u518d\u8a08\u7b97/\u5fa9\u65e7\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n(*5)\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\n\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3084\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u306e\u5197\u9577\u306a\u3001\u30ea\u30bd\u30fc\u30b9\u9593\u3067\u4e00\u8cab\u6027\u3092\u4fdd\u3061\u306a\u304c\u3089\u60c5\u5831\u3092\u5171\u6709\u3059\u308b\u51e6\u7406\u3092\u610f\u5473\u3059\u308b\u3002\n\u4fe1\u983c\u6027\u3084fault tolerance\u6027\u3084\u30a2\u30af\u30bb\u30b9\u5bb9\u6613\u6027\u3092\u5f37\u5316\u3059\u308b\u3002\n\n\n\u2167. PairRDD\n\nhttp://www.task-notes.com/entry/20160131/1454214972\n\u306b\u3068\u3066\u3082\u307e\u3068\u307e\u3063\u3066\u3044\u307e\u3057\u305f\u3002Java\u306b\u306f\u7d44\u307f\u8fbc\u307f\u306eTuple(*6)\u578b\u304c\u306a\u3044\u305f\u3081\u3001Spark\u306eJavaAPI\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308bTuple2\u30af\u30e9\u30b9\u3092\u7528\u3044\u3066\u30e6\u30fc\u30b6\u306f\u30bf\u30d7\u30eb\u3092\u751f\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n(*6)Tupple:\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3084\u30d5\u30a1\u30a4\u30eb\u3067\u3044\u30461\u884c\u30fb1\u30ec\u30b3\u30fc\u30c9\u306e\u30c7\u30fc\u30bf\u306e\u3088\u3046\u306a\u3082\u306e\u3002\n\u3064\u307e\u308a\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30921\u3064\u306e\u584a\u3068\u3057\u3066\u6271\u3048\u308b\u3082\u306e\u3002\n\u30bf\u30d7\u30eb\u3092\u4f7f\u3063\u3066\u3001\u30e1\u30bd\u30c3\u30c9\u30fb\u95a2\u6570\u304b\u3089\u8907\u6570\u306e\u5024\u3092\u4e00\u5ea6\u306b\u8fd4\u3059\u3053\u3068\u304c\u51fa\u6765\u308b\u306e\u3067\u3001\u975e\u5e38\u306b\u4fbf\u5229\u3089\u3057\u3044\u3002\n\n\n\nSpark\u51e6\u7406\u306e\u6d41\u308c[\u88dc\u8db3]\n\n\u2160. \u7cfb\u8b5c\u306e\u30b9\u30c6\u30fc\u30b8\u3078\u306e\u5206\u5272\n\n\nDAGScheduler\u304c\u3001\u7cfb\u8b5c\u3092\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u306b\u5206\u5272\u3059\u308b\n\u30b9\u30c6\u30fc\u30b8\u306f\u7cfb\u8b5c\u4e2d\u3067\u72ed\u3044\u4f9d\u5b58\u95a2\u4fc2\u304c\u9023\u7d9a\u3057\u3066\u767a\u751f\u3059\u308b\u7bc4\u56f2(\u4f9d\u5b58\u95a2\u4fc2\u306e\u7a2e\u985e\u306f\u5909\u63db\u306e\u7a2e\u985e\u3067\u304d\u307e\u308b)\n\u7cfb\u8b5c\u4e2d\u3067\u5e83\u3044\u4f9d\u5b58\u95a2\u4fc2\u304c\u767a\u751f\u3059\u308b\u5909\u63db\u95a2\u6570\u3092\u51e6\u7406\u3059\u308b\u5834\u5408\u306f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u9593\u3067\u30b7\u30e3\u30c3\u30d5\u30eb\u3068\u547c\u3070\u308c\u308b\u591a\u6570\u5bfe\u591a\u6570\u306e\u901a\u4fe1\u304c\u767a\u751f\u3059\u308b\u3002\n\u3053\u306e\u5206\u5272\u306f\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3054\u3068\u306b\u4e00\u3064\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u304c\u307e\u3068\u3081\u3066\u8a08\u7b97\u3067\u304d\u308b\u5909\u63db\u306e\u7bc4\u56f2\u3092\u6c7a\u3081\u308b\u305f\u3081\n\n\n\u30c7\u30fc\u30bf\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306b\u3064\u3044\u3066\nhttp://www.ne.jp/asahi/hishidama/home/tech/scala/spark/partition.html\n\n\u5206\u6563\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u901a\u4fe1\u306f\u975e\u5e38\u306b\u30b3\u30b9\u30c8\u304c\u9ad8\u304f\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u6700\u4f4e\u9650\u306b\u6291\u3048\u308b\u3053\u3068\u306f\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u5927\u5e45\u306a\u6539\u5584\u306b\u3064\u306a\u304c\u308a\u307e\u3059\u3002\nSpark\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306fRDD\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3092\u5236\u5fa1\u3057\u3066\u901a\u4fe1\u3092\u524a\u6e1b\u3057\u3066\u3044\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u4f8b\u3048\u3070Spark\u306f\u30ad\u30fc\u306e\u96c6\u5408\u304c\u307e\u3068\u307e\u3063\u3066\u3042\u308b\u30ce\u30fc\u30c9\u306b\u73fe\u308c\u308b\u3053\u3068\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u4fdd\u8a3c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u7279\u306b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u304c\u5f79\u7acb\u3064\u306e\u306f\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u304c\u7d50\u5408\u306e\u3088\u3046\u306a\u30ad\u30fc\u64cd\u4f5c\u3092\u8907\u6570\u56de\u518d\u5229\u7528\u3055\u308c\u308b\u5834\u5408\u306b\u9650\u308a\u307e\u3059\u3002\u3068\u3044\u3046\u306e\u3082Spark\u306e\u64cd\u4f5c\u306e\u591a\u304f\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8d8a\u3057\u306b\u30ad\u30fc\u306b\u57fa\u3065\u304f\u30b7\u30e3\u30c3\u30d5\u30eb\u3092\u8d77\u3053\u3057\u307e\u3059\u3002\u305d\u308c\u3089\u306f\u3059\u3079\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306e\u6069\u6075\u3092\u53d7\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nJava\u3084Scala\u3067\u306fpartitioner\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u7528\u3044\u3066RDD\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306e\u65b9\u6cd5\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3067spark.Partitioner\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5024\u3068\u3057\u3066\u3001`RDD\u306b\u5bfe\u3057\u3066\u305d\u308c\u305e\u308c\u306e\u30ad\u30fc\u306e\u884c\u304d\u5148\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u77e5\u3089\u305b\u308b\u3082\u306e\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\nreduceByKey()\u306e\u3088\u3046\u306b\u5358\u4e00\u306eRDD\u306b\u5bfe\u3057\u3066\u50cd\u304f\u64cd\u4f5c\u3092\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5316\u3055\u308c\u305fRDD\u4e0a\u3067\u52d5\u4f5c\u3055\u305b\u308b\u3068\u3001\u5404\u30ad\u30fc\u306e\u3059\u3079\u3066\u306e\u5024\u306f\u3001\u5358\u4e00\u30de\u30b7\u30f3\u4e0a\u3067\u30ed\u30fc\u30ab\u30eb\u306b\u8a08\u7b97\u3055\u308c\u3001\u30ed\u30fc\u30ab\u30eb\u306breduce()\u3055\u308c\u305f\u6700\u7d42\u306e\u5024\u3060\u3051\u304c\u3001\u5404\u30ef\u30fc\u30ab\u30fc\u30ce\u30fc\u30c9\u304b\u3089\u30de\u30b9\u30bf\u30fc\u306b\u623b\u3055\u308c\u307e\u3059\u3002\n\u307e\u305f\u3001\u4e8c\u3064\u306eRDD\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3059\u308b\u5834\u5408\u306f\u3001\u4e8b\u524d\u306b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u304c\u884c\u308f\u308c\u3066\u3044\u308b\u3068\u3001\u6700\u4f4e\u3067\u3082\u4e8c\u3064\u306eRDD\u306e\u3046\u3061\u306e\u7247\u65b9\u306f\u30b7\u30e3\u30c3\u30d5\u30eb\u3055\u308c\u307e\u305b\u3093\u3002\n\u3055\u3089\u306b\u9a5a\u304f\u3053\u3068\u306b\u3001Spark\u306f\u305d\u308c\u305e\u308c\u306e\u64cd\u4f5c\u304c\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306b\u53ca\u307c\u3059\u5185\u90e8\u7684\u306a\u5f71\u97ff\u3092\u77e5\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30c7\u30fc\u30bf\u30d1\u30fc\u30c6\u30b7\u30e7\u30cb\u30f3\u30b0\u3092\u884c\u3046\u64cd\u4f5c\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u308bRDD\u306b\u3001\u81ea\u52d5\u7684\u306bpartitioner\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u88dc\u8db3\u3067\u3059\u304cRDD\u306b\u5bfe\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3092\u884c\u3044\u3001\u305d\u308c\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u305fRDD\u3092\u5909\u63db\u306e\u5bfe\u8c61\u3068\u3059\u308b\u306e\u3067\u3042\u308c\u3070persist()\u3067\u6c38\u7d9a\u5316\u3059\u3079\u304d\u3067\u3059\u3002\u7406\u7531\u3068\u3057\u3066\u306f\u3001\u305d\u308c\u4ee5\u964d\u306eRDD\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3067\u751f\u6210\u3057\u305fRDD\u306e\u7cfb\u7d71\u5168\u4f53\u3092\u8a55\u4fa1\u3057\u76f4\u3059\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u524d\u306eRDD\u306b\u4f55\u5ea6\u3082\u30cf\u30c3\u30b7\u30e5\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u304c\u884c\u308f\u308c\u3066\u3057\u307e\u3044\u610f\u5473\u304c\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\n\u2161. \u30b9\u30c6\u30fc\u30b8\u306e\u5b9f\u884c\u8981\u5426\u3092\u5224\u5b9a\u3059\u308b\n\n\nSpark\u3067\u306f\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u3067\u5236\u5fa1\u3055\u308c\u3066\u308b\u8907\u6570\u306e\u30b8\u30e7\u30d6\u3067\u540c\u3058RDD\u3092\u5171\u6709\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n\u5171\u6709\u3057\u3066\u3044\u308bRDD\u304c\u3059\u3067\u306b\u8a08\u7b97\u6e08\u307f\u3067\u3001\u30c7\u30a3\u30b9\u30af\u3084\u30e1\u30e2\u30ea\u306b\u5b9f\u614b\u3092\u6301\u3064\u5834\u5408\u3001\u305d\u306eRDD\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306e\u524d\u6bb5\u306e\u30b9\u30c6\u30fc\u30b8\u5b9f\u884c\u3092\u7701\u7565\u3067\u304d\u308b\n\n\n\u2162. \u30bf\u30b9\u30af\u3092\u751f\u6210\u3059\u308b\n\n\nDAGScheduler\u304c\u5b9f\u884c\u5bfe\u8c61\u306e\u500b\u3005\u306e\u30b9\u30c6\u30fc\u30b8\u306b\u3064\u3044\u3066\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3059\u308b\n\u5404\u30b9\u30c6\u30fc\u30b8\u306b\u304a\u3044\u3066\u3001\u30b9\u30c6\u30fc\u30b8\u5185\u306e\u6700\u5f8c\u306eRDD\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u6570\u304b\u3089\u5f53\u8a72\u30b9\u30c6\u30fc\u30b8\u306e\u30bf\u30b9\u30af\u6570\u304c\u6c7a\u307e\u308b\n\u30b9\u30c6\u30fc\u30b8\u306b\u542b\u307e\u308c\u308bRDD\u306e\u5909\u63db\u30c1\u30a7\u30a4\u30f3\u304b\u3089\u3001\u30bf\u30b9\u30af\u3042\u305f\u308a\u306e\u51e6\u7406\u7bc4\u56f2\u304c\u6c7a\u307e\u308b\n\n\n\u2163. \u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u5834\u6240\u3092\u6c7a\u3081\u308b\n\n\u30d7\u30ea\u30d5\u30a1\u30fc\u30c9\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u304cRDD\u306b\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u305d\u308c\u3092\u30d2\u30f3\u30c8\u306b\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3092\u9078\u3076\n\u306a\u3044\u5834\u5408\u306f\u89aa\u3092\u305f\u3069\u3063\u3066\u6700\u521d\u306b\u898b\u3064\u304b\u3063\u305f\u3082\u306e\u3092\u4f7f\u3046\n\u30d7\u30ea\u30d5\u30a1\u30fc\u30c9\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u306fRDD\u306e\u7a2e\u985e\u3054\u3068\u306b\u5b9a\u7fa9\u3055\u308c\u308b\n\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u3092\u3082\u3068\u306b\u7570\u6027\u3055\u308c\u308bRDD\u306f\u30d7\u30ea\u30d5\u30a1\u30fc\u30c9\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u6301\u3064\u306e\u3067\n\u3044\u3064\u304b\u306f\u30d7\u30ea\u30d5\u30a1\u30fc\u30c9\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u898b\u3064\u304b\u308b\n\n\n\u2164. \u30bf\u30b9\u30af\u306e\u5b9f\u884c\u9806\u5e8f\u3092\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3059\u308b\n\n\u30b9\u30c6\u30fc\u30b8\u3092\u69cb\u7bc9\u3059\u308b\u30bf\u30b9\u30af\u7fa4\u306f\u300c\u30bf\u30b9\u30af\u30bb\u30c3\u30c8\u300d\u3068\u3057\u3066TaskScheduler\u306b\u6e21\u3055\u308c\u308b\n\nTaskScheduler\u306f\u30bf\u30b9\u30af\u30bb\u30c3\u30c8\u5358\u4f4d\u3067\u5b9f\u884c\u9806\u5e8f\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3092\u884c\u3046\u3002\n\nTaskScheduler\u306f\u30bf\u30b9\u30af\u30bb\u30c3\u30c8\u306e\u5b9f\u884c\u9806\u5e8f\u3092\u6c7a\u5b9a\u3059\u308b\u307e\u3067\u306b\u3001\u30bf\u30b9\u30af\u30bb\u30c3\u30c8\u3092\u767b\u9332\u3057\u3066\u304a\u304f\u300c\u30d7\u30fc\u30eb\u300d\u3092\u4e00\u3064\u4ee5\u4e0a\u4fdd\u6301\u3002\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u65b9\u6cd5\u306b\u3088\u3063\u3066\u30d7\u30fc\u30eb\u306e\u6570\u3084\u4f7f\u3044\u65b9\u304c\u7570\u306a\u308b\n\u6a19\u6e96\u3067\u4e8c\u3064\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u65b9\u304c\u3042\u308b\n\n\n\n\n\u540d\u79f0\n\u8aac\u660e\n\n\n\n\nFIFO\n\u5358\u4e00\u306e\u30d7\u30fc\u30eb\u3092\u7528\u3044\u3066\u3001\u30ad\u30e5\u30fc\u306e\u3088\u3046\u306b\u6271\u3046\u3002\u30d7\u30fc\u30eb\u306b\u767b\u9332\u3055\u308c\u305f\u30bf\u30b9\u30af\u30bb\u30c3\u30c8\u3092\u9806\u306b\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3059\u308b\n\n\nFAIR\n\u8907\u6570\u306e\u30d7\u30fc\u30eb\u3092\u7528\u3044\u3066\u3001\u5404\u30d7\u30fc\u30eb\u304b\u3089\u516c\u5e73\u306b\u30a2\u30b9\u30af\u30bb\u30c3\u30c8\u3092\u53d6\u308a\u51fa\u3057\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3059\u308b\n\n\n\n\n\u30ad\u30fc\u30ef\u30fc\u30c9\n\n\n\n\u30ad\u30fc\u30ef\u30fc\u30c9\n\u8aac\u660e\n\n\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n\u30b8\u30e7\u30d6\u306e\u30ad\u30c3\u30af\u3092\u62c5\u5f53\n\n\n\u30de\u30b9\u30bf\n\u30b8\u30e7\u30d6\u306e\u30ad\u30c3\u30af\u3092\u62c5\u5f53\n\n\n\u30ef\u30fc\u30ab\n\u8a08\u7b97\u8cc7\u6e90\u306e\u63d0\u4f9b\u30fb\u7ba1\u7406\u3092\u62c5\u5f53\n\n\n\u30c9\u30e9\u30a4\u30d0\n\u30e6\u30fc\u30b6\u304cRDD\u306e\u5909\u63db\u3092\u8a18\u8ff0\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\n\n\n\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\n\u30ef\u30fc\u30ab\u30fc\u4e0a\u3067\u52d5\u4f5c\u3057\u3001\u5b9f\u969b\u306e\u8a08\u7b97\u3092\u62c5\u5f53\n\n\n\u30b8\u30e7\u30d6\nSpark\u306e\u51e6\u7406\u5185\u3067\u30a2\u30af\u30b7\u30e7\u30f3\u7cfb\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u30b8\u30e7\u30d6\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002Spark\u3067\u306fRDD\u3068\u547c\u3070\u308c\u308b\u62bd\u8c61\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u5909\u63db\u3092\u7e70\u308a\u8fd4\u3057\u3066\u76ee\u7684\u306e\u7d50\u679c\u3092\u5f97\u308b\u3002\u3053\u306e\u4e00\u9023\u306e\u51e6\u7406\u3092\u30b8\u30e7\u30d6\u3068\u3044\u3046\n\n\n\u30b9\u30c6\u30fc\u30b8\n\u30b8\u30e7\u30d6\u306f\u30c7\u30fc\u30bf\u306e\u30b7\u30e3\u30c3\u30d5\u30eb\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u8907\u6570\u306e\u30b9\u30c6\u30fc\u30b8\u306b\u5206\u5272\u3055\u308c\u308b\n\n\n\u30bf\u30b9\u30af\n\u30b8\u30e7\u30d6\u3092\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u304c\u5b9f\u884c\u53ef\u80fd\u306a\u7c92\u5ea6\u306b\u5206\u5272\u3057\u305f\u51e6\u7406\u5358\u4f4d\u3002\u30b9\u30c6\u30fc\u30b8\u306f\u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u6301\u3061\u3001\u30ef\u30fc\u30ab\u30fc\u306b\u5bfe\u3057\u3066\u9001\u3089\u308c\u308b\u4e26\u5217\u5b9f\u884c\u53ef\u80fd\u306a\u51e6\u7406\u3092\u30bf\u30b9\u30af\u3068\u3044\u3046\n\n\n\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\n\u30b8\u30e7\u30d6\u3092\u30bf\u30b9\u30af\u306b\u5206\u5272\u3057\u305f\u308a\u3001\u30bf\u30b9\u30af\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3078\u306e\u5272\u308a\u5f53\u3066\u3092\u62c5\u5f53\n\n\n\n\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u306b\u3068\u3066\u3082\u8a73\u3057\u304f\u66f8\u3044\u3066\u3042\u308a\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\nhttp://www.ne.jp/asahi/hishidama/home/tech/scala/spark/RDD.html\nhttp://dev.classmethod.jp/etc/apache-spark_rdd_investigation/\nhttp://www.slideshare.net/hadoopxnttdata/apache-spark\n\n\u30c7\u30fc\u30bf\u306eI/O[\u88dc\u8db3]\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u30ed\u30fc\u30c9\u3068\u30bb\u30fc\u30d6\n\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306abin/data\u5185\u306eJSON\u30d5\u30a1\u30a4\u30eb\u3092\u307e\u3068\u3081\u3066\u4e00\u3064\u306eRDD\u3068\u3057\u3066\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002(\u3053\u3053\u3067\u306fJSON\u306e\u6271\u3044\u306f\u89e6\u308c\u307e\u305b\u3093\u304cjava\u306eJSON\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u306fhttps://github.com/FasterXML/jackson \u306a\u3069\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u306e\u5834\u5408\u3082\u3001\u4e00\u5ea6\u30c6\u30ad\u30b9\u30c8\u3068\u3057\u3066\u8aad\u307f\u8fbc\u3093\u3067\u304b\u3089\u51e6\u7406\u3059\u308b\u3053\u3068\u3068\u306a\u308a\u307e\u3059\u3002)\n\n\u4eca\u56de\u306f\u4f8b\u3068\u3057\u3066\u3001Twitter\u306e6\u3064\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u76f4\u8fd1\u306e\u545f\u3044\u305f\u30c7\u30fc\u30bf200\u4ef6\u3092Twittwer\u306eRESTApi\u3067\u53d6\u5f97\u3057\u3066\u304d\u305fjson\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u3066\u3044\u3066\u3001\n\u305d\u308c\u3089\u306e\u3064\u3076\u3084\u304d\u306ejson\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u545f\u3044\u305f\u30c6\u30ad\u30b9\u30c8\u306e\u884c\u306e\u307f\u3092\u62bd\u51fa(input.filter(s -> s.contains(\"\\\"text\\\":\")))\u305d\u306e\u30c6\u30ad\u30b9\u30c8\u4e2d\u306b\u300c\u7b11\u300d\u3068\u542b\u307e\u308c\u3066\u3044\u308b\u3082\u306e\u3060\u3051\u6b8b\u3059\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u6700\u5f8c\u306b\u305d\u306e\u7d50\u679c\u3092result/output01\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u66f8\u304d\u51fa\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067saveAsTextFile()\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u306e\u30d1\u30b9\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3057\u3066\u6271\u308f\u308c\u3001Spark\u306f\u305d\u306e\u4e0b\u306b\u8907\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001Spark\u306f\u8907\u6570\u306e\u30ce\u30fc\u30c9\u304b\u3089\u51fa\u529b\u3092\u66f8\u304d\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u7d50\u679c\u306f\u4e0a\u8a18\u306e\u901a\u308a\u3067\u3059\u3001json\u306e\u30d5\u30a1\u30a4\u30eb\u3054\u3068\u306b\u7d50\u679c\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u751f\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\npart-00000\u306b\u95a2\u3057\u3066\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u304c\u958b\u3051\u307e\u305b\u3093\u3067\u3057\u305f\u3001\u3053\u308c\u306f\u51fa\u529b\u3059\u308b\u3082\u306e\u304c\u306a\u304b\u3063\u305f\u305f\u3081\u3060\u3068\u601d\u308f\u308c\u307e\u3059(\u300c\u7b11\u300d\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u304b\u3063\u305f)\n\u6700\u5f8c\u306b\u3053\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8f09\u305b\u3066\u304a\u304d\u307e\u3059\u3002\n\nTwitterSample.java\nimport org.apache.spark.api.java.JavaRDD;\nimport org.apache.spark.api.java.JavaSparkContext;\n\n/**\n * Created by hirokinaganuma on 2016/09/29.\n */\npublic class TwitterSample {\n    public static void main(String[] args) throws Exception {\n        String inputFile = \"bin/data/*.json\";//\u307e\u3068\u3081\u3066\u8aad\u307f\u8fbc\u3080\u3053\u3068\u3082\u53ef\u80fd\n        String outputPath = \"result/output01\";\n        String master;\n        if (args.length > 0) {\n            master = args[0];\n        } else {\n            master = \"local\";\n        }\n        JavaSparkContext sc = new JavaSparkContext(master, \"basicavg\", System.getenv(\"SPARK_HOME\"), System.getenv(\"JARS\"));\n        JavaRDD<String> input = sc.textFile(inputFile);\n        JavaRDD<String> output = input.filter(s -> s.contains(\"\\\"text\\\":\")).filter(s -> s.contains(\"\u7b11\"));\n        output.saveAsTextFile(outputPath);\n        sc.stop();\n    }\n}\n\n\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u5727\u7e2e\nSpark\u3067\u306f\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5bb9\u91cf\u7bc0\u7d04\u3084\u3001\u901a\u4fe1\u30b3\u30b9\u30c8\u3092\u4e0b\u3052\u308b\u305f\u3081\u306b\u3001textFile()\u306a\u3069\u306e\u5165\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u7fa4\u3067\u5e7e\u3064\u304b\u306e\u7a2e\u985e\u306e\u5727\u7e2e\u3092\u81ea\u52d5\u7684\u306b\u51e6\u7406\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u305f\u3060\u3057\u3053\u308c\u3089\u306e\u5727\u7e2e\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u66f8\u304d\u51fa\u3055\u308c\u308b\u3082\u306e\u306e\u307f\u5229\u7528\u53ef\u80fd\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u7b49\u306b\u306fSpark\u5074\u304b\u3089\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\u307e\u305f\u3001\u5727\u7e2e\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3088\u3063\u3066\u306f\u3001\u5206\u6563\u3055\u305b\u3066\u3044\u308d\u3093\u306a\u30ef\u30fc\u30ab\u30fc\u304b\u3089\u8aad\u3081\u306a\u3044\u3082\u306e\u3082\u308a(\u5148\u982d\u304b\u3089\u8aad\u307e\u306a\u304d\u3083\u30c0\u30e1\u307f\u305f\u3044\u306a\u5236\u7d04\u304c\u3042\u308b\u3068)\u3001\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u8907\u6570\u306e\u30ef\u30fc\u30ab\u30fc\u304b\u3089\u8aad\u307f\u51fa\u3057\u53ef\u80fd\u306a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u300c\u30b9\u30d7\u30ea\u30c3\u30c8\u53ef\u80fd\u300d\u3068\u8a00\u3044\u307e\u3059\u3002\n\n\n2. Scala\u3001Java\u3001R\u3001Python\u306a\u3069\u306b\u5bfe\u5fdc(API\u304c\u7528\u610f\u3055\u308c\u3066\u308b)\n\u3053\u308c\u306f\u3001\u6587\u5b57\u901a\u308a\u3067\u3059\u3002\n\u3053\u306e\u3088\u3046\u306a\u69d8\u3005\u306a\u8a00\u8a9e\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u3066\u3001\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30fc\u88fd\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u7d44\u307f\u8fbc\u307f\u3084\u3059\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\n3. \u591a\u5f69\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\n\n- Spark SQL: \u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3084\u8868\u5f62\u5f0f\u30c7\u30fc\u30bf\u3092\u6271\u3046\n- Spark Streaming: \u307b\u307c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u30b9\u30c8\u30ea\u30fc\u30e0\u30fb\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\n- MLlib: \u6a5f\u68b0\u5b66\u7fd2\u3092\u884c\u3046(\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u3057\u3066spark.mllib\u3068spark.ml\u304c\u3042\u308b\u304c\u524d\u8005\u304c\u975e\u63a8\u5968\u306b\u306a\u3063\u305f\u6a21\u69d8)\n- GraphX: \u30b0\u30e9\u30d5\u51e6\u7406\u3092\u884c\u3046\n\n4. \u8907\u6570\u306e\u5c0e\u5165\u30b7\u30ca\u30ea\u30aa(\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u3001YARN\u3001Mesos\u3001\u7d44\u307f\u8fbc\u307f\u3001\u30af\u30e9\u30a6\u30c9)\n\nApache Mesos \u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u304c\u3001\u4f01\u696d\u5411\u3051\u3067\u6700\u3082\u30e1\u30b8\u30e3\u30fc\u306a\u306e\u306fHadoop YARN(Hadoop\u30b3\u30a2\u306e\u4e00\u90e8)\u3067\u3053\u308c\u3082\u3082\u3061\u308d\u3093\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3002\n\u307e\u305fSpark Standalone\u3068\u547c\u3070\u308c\u308b\u5c0f\u898f\u6a21\u30d3\u30eb\u30c8\u30a4\u30f3\u30fb\u30af\u30e9\u30b9\u30bf\u30fb\u30b7\u30b9\u30c6\u30e0\u3082\u542b\u307e\u308c\u3066\u304a\u308a\u3001\u5c0f\u898f\u6a21\u30af\u30e9\u30b9\u30bf\u30fb\u30c6\u30b9\u30c8\u306a\u3069\u306e\u7528\u9014\u3067\u306e\u30c7\u30d7\u30ed\u30a4\u306b\u9069\u3057\u3066\u3044\u307e\u3059\u3002\n\u5206\u6563\u30e2\u30fc\u30c9\u3067\u306f\u3001Spark\u306f\u4e00\u3064\u306e\u30bb\u30f3\u30c8\u30e9\u30eb\u30b3\u30fc\u30c7\u30a3\u30cd\u30fc\u30bf(\u30c9\u30e9\u30a4\u30d0)\u3068\u3001\u591a\u304f\u306e\u5206\u6563\u30ef\u30fc\u30ab\u30fc(\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf)\u3092\u6301\u3064\u30de\u30b9\u30bf\u30fc/\u30b9\u30ec\u30fc\u30d6\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\u307e\u305f\u305d\u306e\u30c9\u30e9\u30a4\u30d0\u5358\u4f53\u3067java\u306e\u30d7\u30ed\u30bb\u30b9\u3068\u3057\u3066\u52d5\u4f5c\u3057\u3001\u5404\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3082\u500b\u5225\u306ejava\u30d7\u30ed\u30bb\u30b9\u3068\u3057\u3066\u52d5\u4f5c\u3057\u307e\u3059\u3002\u3053\u306e\u30c9\u30e9\u30a4\u30d0\u3068\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u7fa4\u306f\u307e\u3068\u3081\u3066Spark\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u547c\u3070\u308c\u307e\u3059\u3002\n\n\u4e0a\u8a18\u306e\u56f3\u306e\u3088\u3046\u306b\u3001Spark\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3068\u547c\u3070\u308c\u308b\u5916\u90e8\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3044\u3001\u8907\u6570\u306e\u30de\u30b7\u30f3\u4e0a\u3067\u8d77\u52d5\u3055\u308c\u307e\u3059\u3002\u305d\u306e\u969b\u306b\u306fspark-submit\u30b3\u30de\u30f3\u30c9\u306b\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u6295\u5165\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8d77\u52d5\u3057m\u30e6\u30fc\u30b6\u304c\u6307\u5b9a\u3057\u305fmain()\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u63a5\u7d9a\u3057\u3001\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u8981\u6c42\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u304c\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4ee3\u7406\u3068\u3057\u3066\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001\u30e6\u30fc\u30b6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u4e2d\u306eRDD\u306e\u5909\u63db\u3084\u30a2\u30af\u30b7\u30e7\u30f3\u306b\u57fa\u3065\u3044\u3001\u30bf\u30b9\u30af\u3068\u3044\u3046\u5f62\u3067\u51e6\u7406\u3092\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306b\u9001\u308a\u3064\u3051\u307e\u3059\u3002\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306e\u30d7\u30ed\u30bb\u30b9\u3067\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u3055\u308c\u8a08\u7b97\u7d50\u679c\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\u6700\u5f8c\u306b\u3001\u30c9\u30e9\u30a4\u30d0\u306emain()\u30e1\u30bd\u30c3\u30c9\u304c\u7d42\u4e86\u3059\u308b\u304b main()\u30e1\u30bd\u30c3\u30c9\u304b\u3089SparkContext.stop()\u304c\u547c\u3070\u308c\u308b\u3068\u3001\u30c9\u30e9\u30a4\u30d0\u306f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3092\u7d42\u4e86\u3055\u305b\u3001\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u304b\u3089\u53d6\u5f97\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u3092\u958b\u653e\u3057\u307e\u3059\u3002\u3053\u308c\u304c\u4e00\u9023\u306eSpark\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u6d41\u308c\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30c9\u30e9\u30a4\u30d0\n\u4f5c\u6210\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306emain()\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u30d7\u30ed\u30bb\u30b9\u3002SparkContext\u306e\u751f\u6210\u3084RDD\u306e\u751f\u6210\u3092\u884c\u3044\u3001\u5909\u63db\u3084\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u307e\u305f\u3001\u30e6\u30fc\u30b6\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30bf\u30b9\u30af\u306e\u5909\u63db\u3068\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u4e0a\u306e\u30bf\u30b9\u30af\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u306e\u51e6\u7406\u3092\u5b9f\u884c\u306b\u969b\u3057\u3066\u8cac\u4efb\u3092\u8ca0\u3044\u307e\u3059\u3002\n\u524d\u8005\u306b\u95a2\u3057\u3066\u306fSpark\u51e6\u7406\u306e\u6d41\u308c[\u88dc\u8db3] / \u2160. \u7cfb\u8b5c\u306e\u30b9\u30c6\u30fc\u30b8\u3078\u306e\u5206\u5272\u3067\u8aac\u660e\u3057\u305f\u901a\u308a\u3001\u30e6\u30fc\u30b6\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30bf\u30b9\u30af\u3068\u3044\u3046\u5b9f\u884c\u5358\u4f4d\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u3067\u3059\u3002Spark\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306fRDD\u3092\u751f\u6210\u3057\u3001\u5909\u63db\u3057\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u884c\u3046\u3068\u3044\u3046\u69cb\u9020\u3092\u53d6\u3063\u3066\u304a\u308a\u3001\u305d\u306e\u64cd\u4f5c\u3067\u69cb\u7bc9\u3055\u308c\u308b\u6709\u5411\u5faa\u74b0\u30b0\u30e9\u30d5\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u3053\u306e\u30b0\u30e9\u30d5\u3092\u6700\u9069\u306b\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u30b9\u30c6\u30fc\u30b8\u7fa4\u306b\u5909\u63db\u3057\u307e\u3059\u3002\u524d\u8ff0\u3057\u307e\u3057\u305f\u304c\u30b9\u30c6\u30fc\u30b8\u7fa4\u306b\u306f\u30bf\u30b9\u30af\u304c\u8907\u6570\u542b\u307e\u308c\u305f\u3082\u306e\u3067\u3059\u3002\n\u5f8c\u8005\u306b\u95a2\u3057\u3066\u3082Spark\u51e6\u7406\u306e\u6d41\u308c[\u88dc\u8db3] / \u2164. \u30bf\u30b9\u30af\u306e\u5b9f\u884c\u9806\u5e8f\u3092\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3059\u308b\u3067\u793a\u3057\u305f\u901a\u308a\u3001Spark\u306e\u30c9\u30e9\u30a4\u30d0\u306f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u7fa4\u306e\u500b\u3005\u306e\u30bf\u30b9\u30af\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u8abf\u6574\u3057\u307e\u3059\u3002\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u7fa4\u306f\u8d77\u52d5\u6642\u306b\u81ea\u5206\u81ea\u8eab\u3092\u30c9\u30e9\u30a4\u30d0\u306b\u5bfe\u3057\u3066\u767b\u9332\u3059\u308b\u305f\u3081\u3001\u30c9\u30e9\u30a4\u30d0\u306f\u81ea\u5206\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306e\u69d8\u5b50\u3092\u5e38\u306b\u628a\u63e1\u3067\u304d\u307e\u3059\u3002\n\n\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\nSpark\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306f\u3001Spark\u306e\u30b8\u30e7\u30d6\u306e\u500b\u3005\u306e\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u3092\u53d7\u3051\u6301\u3064\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u3067\u3059\u3002\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306fSpark\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5\u6642\u306b\u4e00\u5ea6\u8d77\u52d5\u3055\u308c\u3001\u901a\u5e38\u306f\u305d\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u9593\u52d5\u4f5c\u3057\u7d9a\u3051\u307e\u3059\u3002\u307e\u305fSpark\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u7fa4\u306b\u969c\u5bb3\u304c\u3042\u3063\u3066\u3082\u51e6\u7406\u3092\u7d99\u7d9a\u3067\u304d\u307e\u3059\u3002\n\u4e3b\u306a\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306e\u5f79\u5272\u3068\u3057\u3066\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u30bf\u30b9\u30af\u7fa4\u3092\u5b9f\u884c\u3057\u7d50\u679c\u3092\u30c9\u30e9\u30a4\u30d0\u306b\u8fd4\u3059\u3053\u3068\u3068\u3001\u30e6\u30fc\u30b6\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u3088\u3063\u3066\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u308bRDD\u306e\u30a4\u30f3\u30e1\u30e2\u30ea\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u5404\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u5185\u3067\u52d5\u4f5c\u3059\u308b\u30d6\u30ed\u30c3\u30af\u30de\u30cd\u30fc\u30b8\u30e3\u3068\u547c\u3070\u308c\u308b\u30b5\u30fc\u30d3\u30b9\u3092\u901a\u3057\u3066\u63d0\u4f9b\u3059\u308b\u3053\u3068\u3067\u3059\u3002\n\n5. \u5e45\u5e83\u3044\u51e6\u7406\u30e2\u30c7\u30eb(\u30d0\u30c3\u30c1\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u3001\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0)\n\u7279\u306b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b7\u30a7\u30eb\u306f\u3068\u3066\u3082\u4fbf\u5229\u3067\u3059\u3002\n\u305d\u306e\u90fd\u5ea6\u30d3\u30eb\u30c9\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u306e\u3067\u30ed\u30b8\u30c3\u30af\u306e\u8a66\u4f5c\u306a\u3069\u3001\u52b9\u679c\u306e\u78ba\u8a8d\u30b5\u30a4\u30af\u30eb\u3092\u65e9\u304f\u56de\u305b\u307e\u3059\u3002\u898b\u305f\u76ee\u3082\u4f7f\u3044\u65b9\u3082Ruby\u3067\u3044\u3046\u3068\u3053\u306eirb\u307f\u305f\u3044\u306a\u611f\u3058\u3067\u3059\u3002\n\n \u5b9f\u969b\u306b\u52d5\u304b\u3057\u3066\u307f\u308b\n\n1. \u74b0\u5883\u69cb\u7bc9\n\n\u2160.  Oracle Java SE\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttp://www.oracle.com/technetwork/java/javase/downloads/index.html\nJava\u306eversion\u7b49\u5207\u308a\u66ff\u3048\u308b\u969b\u306f\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u304c\u3068\u3066\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\nhttp://qiita.com/yohjizzz/items/194973bf2f34608ae85a\n\n\u2161. Apache Spark\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\nhttps://spark.apache.org/downloads.html\n\u4eca\u56de\u306f2.0.0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u624b\u98061 : \u300cChose a Spark release\u300d\u3067\u300c2.0.0 (Jul 26 2016)\u300d\u3092\u9078\u629e\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u624b\u98062 : \u300cChose a package type\u300d\u3067\u300cPre-build for Hadoop 2.7 and later\u300d\u3092\u9078\u629e\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u624b\u98063 : \u300cspark-2.0.0-bin-hadoop2.7.tgz\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u3089\u4efb\u610f\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u5c55\u958b\u3057\u3001\nspark-2.0.0-bin-hadoop2.7->bin->spark-shell\u3092\u8d77\u52d5\n\n\u6210\u529f\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u51fa\u3066\u304f\u308b\u306f\u305a\u3067\u3059\n\nUsing Spark's default log4j profile: org/apache/spark/log4j-defaults.properties\nSetting default log level to \"WARN\".\nTo adjust logging level use sc.setLogLevel(newLevel).\n[init] error: error while loading <root>, Error accessing /Volumes/Transcend/Hack/SoraPractice/spark-2.0.0-bin-hadoop2.7/jars/._activation-1.1.1.jar\n\nFailed to initialize compiler: object java.lang.Object in compiler mirror not found.\n** Note that as of 2.8 scala does not assume use of the java classpath.\n** For the old behavior pass -usejavacp to scala, or if using a Settings\n** object programmatically, settings.usejavacp.value = true.\n\nFailed to initialize compiler: object java.lang.Object in compiler mirror not found.\n** Note that as of 2.8 scala does not assume use of the java classpath.\n** For the old behavior pass -usejavacp to scala, or if using a Settings\n** object programmatically, settings.usejavacp.value = true.\nException in thread \"main\" java.lang.NullPointerException\n\n\u307f\u305f\u3044\u306a\u306e\u304c\u51fa\u3066\u304d\u305f\u5834\u5408\u3001PATH\u3092\u901a\u3057\u3066\u3042\u3052\u308c\u3070\u89e3\u6c7a\u3057\u307e\u3059\uff01\n$ cd\n$ vim .bash_profile\n\n.bash_profile\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3057\u305f\u3002\nexport SPARK_HOME=\"spark-2.0.0-bin-hadoop2.7\u307e\u3067\u306epath\"\nexport PATH=\"$PATH:$SPARK_HOME/bin:$SPARK_HOME/sbin\"\n\n\u6700\u5f8c\u306b\n$ source .bash_profile\n\n\u3067\u3001\u3082\u3046\u4e00\u5ea6.bash_profile\u3092\u8aad\u307f\u8fbc\u307f\u76f4\u305b\u3070\u5b8c\u4e86\u3067\u3059\u3002\u3053\u308c\u3067spark-shell\u304c\u8d77\u52d5\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3053\u308c\u3067\u3001\u4e00\u65e6\u306e\u74b0\u5883\u69cb\u7bc9\u306f\u7d42\u4e86\u3067\u3059\u3002\nHello World! \u7684\u306a\u3084\u3064\u3082\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\nscala>\u3068\u8868\u793a\u3055\u308c\u3066\u308b\u3068\u3053\u308d\u306b\u7d9a\u3051\u3066sc....\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\nscala> sc.parallelize(1 to 10,1).map(_*2).reduce(_+_)\n\n\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002\u4eca\u56de\u306e\u5834\u5408\u30011\u304b\u308910\u307e\u3067\u306e\u6570\u5b57\u3092\u305d\u308c\u305e\u308c\u4e8c\u500d\u306b\u3057\u3066\u8db3\u3057\u3042\u3052\u307e\u3057\u305f\u3002\n\n\n2. WebUI\n\u6b21\u306b\u30d6\u30e9\u30a6\u30b6\u3067localhost:8080\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u3059\u308b\u3068\u3053\u3093\u306a\u753b\u9762\u304c\u898b\u3048\u308b\u306f\u305a\u3067\u3059(\u4e00\u90e8\u60c5\u5831\u3092\u96a0\u3057\u3066\u3044\u307e\u3059)\n\n\u3053\u308c\u306fSpark\u306e\u51e6\u7406\u306e\u72b6\u6cc1\u3092\u78ba\u8a8d\u3067\u304d\u308b\u4fbf\u5229\u306aWeb\u306e\u30e6\u30fc\u30b6\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u30af\u30e9\u30b9\u30bf\u30fc\u3084\u30de\u30b9\u30bf\u30fc\u306e\u8a73\u7d30\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n3. \u305d\u306e\u4ed6\n\n\n\n\u30ad\u30fc\u30ef\u30fc\u30c9\n\u8aac\u660e\n\n\n\n\n\u30b8\u30e7\u30d6\nSpark\u306e\u51e6\u7406\u5185\u3067\u30a2\u30af\u30b7\u30e7\u30f3\u7cfb\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u30b8\u30e7\u30d6\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002Spark\u3067\u306fRDD\u3068\u547c\u3070\u308c\u308b\u62bd\u8c61\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u5909\u63db\u3092\u7e70\u308a\u8fd4\u3057\u3066\u76ee\u7684\u306e\u7d50\u679c\u3092\u5f97\u308b\u3002\u3053\u306e\u4e00\u9023\u306e\u51e6\u7406\u3092\u30b8\u30e7\u30d6\u3068\u3044\u3046\n\n\n\u30b9\u30c6\u30fc\u30b8\n\u30b8\u30e7\u30d6\u306f\u30c7\u30fc\u30bf\u306e\u30b7\u30e3\u30c3\u30d5\u30eb\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u8907\u6570\u306e\u30b9\u30c6\u30fc\u30b8\u306b\u5206\u5272\u3055\u308c\u308b\n\n\n\u30bf\u30b9\u30af\n\u30b9\u30c6\u30fc\u30b8\u306f\u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u6301\u3061\u3001\u30ef\u30fc\u30ab\u30fc\u306b\u5bfe\u3057\u3066\u9001\u3089\u308c\u308b\u4e26\u5217\u5b9f\u884c\u53ef\u80fd\u306a\u51e6\u7406\u3092\u30bf\u30b9\u30af\u3068\u3044\u3046\n\n\n\n\nTips\n\n1. \u30af\u30e9\u30b9\u30bf\u8d77\u52d5\u306e\u969b\n$ sbin/start-all.sh\nstarting org.apache.spark.deploy.master.Master, logging to /Users/hirokinaganuma/Desktop/Hoge/SoraPractice/spark-2.0.0-bin-hadoop2.7/logs/spark-hirokinaganuma-org.apache.spark.deploy.master.Master-1-Hiroki-no-MacBook-Pro-2.local.out\nfailed to launch org.apache.spark.deploy.master.Master:\n  /Users/hirokinaganuma/Desktop/Hoge/SoraPractice/spark-2.0.0-bin-hadoop2.7/bin/spark-class: line 71: /Library/Java/JavaVirtualMachines/jdk1.8.0_101.jdk/bin/java: No such file or directory\nfull log in /Users/hirokinaganuma/Desktop/Hoge/SoraPractice/spark-2.0.0-bin-hadoop2.7/logs/spark-hirokinaganuma-org.apache.spark.deploy.master.Master-1-Hiroki-no-MacBook-Pro-2.local.out\nlocalhost: ssh: connect to host localhost port 22: Connection refused\n\n\u307f\u305f\u3044\u306a\u306e\u304c\u51fa\u305f\u3089\u3001\u4eca\u56dejdk1.8.0\u3092\u6307\u5b9a\u3057\u305f\u3044\u306e\u3067\nexport JAVA_HOME=`/usr/libexec/java_home -v 1.8`\n\n\u3068\u3059\u308c\u3070\u76f4\u308a\u307e\u3057\u305f\u3002\n\u305d\u306e\u5f8c\n$ sbin/start-all.sh\nstarting org.apache.spark.deploy.master.Master, logging to /Users/hirokinaganuma/Desktop/Hoge/SoraPractice/spark-2.0.0-bin-hadoop2.7/logs/spark-hirokinaganuma-org.apache.spark.deploy.master.Master-1-Hiroki-no-MacBook-Pro-2.local.out\nlocalhost: ssh: connect to host localhost port 22: Connection refused\n\n\u307f\u305f\u3044\u306b\u306a\u308b(\u89e3\u6c7a\u3067\u304d\u3066\u306a\u3044)\n\n2. Amazon Web Service \u306e EC2 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u52d5\u304b\u3059\nhttp://cyborg-ninja.com/ittips/3103\nhttp://qiita.com/ledmonster/items/8138d7cf0990ea1017da\nhttp://qiita.com/mikoto/items/4273cd35dce254727363\nSpark\u306b\u306fAmazon EC2\u3067\u30af\u30e9\u30b9\u30bf\u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306e\u30b9\u30af\u30ea\u30d7\u30c8(EC2\u30b9\u30af\u30ea\u30d7\u30c8)\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u305f\u3060\u3001\u73fe\u5728\u306e\u6700\u65b0\u7248(2.0.1)\u306b\u306f\u306a\u304f\u306a\u3063\u3066\u308b\u6c17\u304c\u3059\u308b\u306e\u3067\u3082\u3046\u63a8\u5968\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u304b\uff1f\uff01\n\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001\u30ce\u30fc\u30c9\u7fa4\u3092\u8d77\u52d5\u3057Standalone\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u3092\u305d\u308c\u3089\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306e\u3067\u3001\u30af\u30e9\u30b9\u30bf\u304c\u7acb\u3061\u4e0a\u304c\u308c\u3070\u3001\u3042\u3068\u306fStandalone\u30e2\u30fc\u30c9\u3068\u3057\u3066\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002EC2\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001\u540d\u524d\u3092\u3064\u3051\u305f\u8907\u6570\u306e\u30af\u30e9\u30b9\u30bf\u3092\u7ba1\u7406\u3067\u304d\u307e\u3059\u3002\u305d\u308c\u3089\u306e\u30af\u30e9\u30b9\u30bf\u306fEC2\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306b\u3088\u3063\u3066\u8b58\u5225\u3067\u304d\u307e\u3059\u3002EC2\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u305d\u308c\u305e\u308c\u306e\u30af\u30e9\u30b9\u30bf\u306b\u5bfe\u3057\u3066\u30de\u30b9\u30bf\u30fc\u30ce\u30fc\u30c9\u7528\u306eclustername-master\u3068clustername-slaves\u3068\u3044\u3046\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210\u307e\u3067\u3084\u3063\u3066\u304f\u308c\u308b\u3063\u307d\u3044\u3051\u3069\u3001\u3053\u308c\u306f\u3053\u306e\u8a18\u4e8b\u3092\u898b\u305f\u65b9\u304c\u826f\u3055\u305d\u3046\u3002\nhttp://qiita.com/mychaelstyle/items/b752087a0bee6e41c182\n\nStandalone\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\nStandalone\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u306f\u57fa\u672c\u7684\u306a\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u30dd\u30ea\u30b7\u30fc(\u30e1\u30e2\u30ea\u3068\u30b3\u30a2\u6570\u3068\u304b\u3092\u5236\u9650\u3067\u304d\u308b\u304f\u3089\u3044)\u304c\u7528\u610f\u3055\u308c\u3066\u304a\u308a\u3001\u305d\u308c\u305e\u308c\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30ea\u30bd\u30fc\u30b9\u306e\u4e0a\u9650\u3092\u8a2d\u5b9a\u3057\u3066\u8907\u6570\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4e26\u5217\u3055\u305b\u3066\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n\u307e\u305a\u306f\u3053\u3053\u304b\u3089\u3001\u521d\u3081\u3066\u306e\u30c7\u30d7\u30ed\u30a4\u306f\u3053\u3053\u3067\u6163\u3089\u3057\u307e\u3057\u3087\u3046\u3068\u66f8\u7c4d\u306b\u3082\u66f8\u3044\u3066\u305f\u3002\u4ed6\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3068\u3082\u306b\u52d5\u4f5c\u3055\u305b\u305f\u3044\u5834\u5408\u3084\u3088\u308a\u8c4a\u5bcc\u306a\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u6a5f\u80fd\u3092\u4f7f\u3046\u5834\u5408\u306fMesos\u3084YARN\u3092\u4f7f\u3046\u306e\u304c\u3044\u3044\u307f\u305f\u3044\u3067\u3059\u3002\nYARN\u306f\u30ad\u30e5\u30fc\u306e\u6982\u5ff5\u304c\u3042\u308a\u3001Mesos\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u52d5\u4f5c\u4e2d\u306e\u3082\u3063\u3068\u52d5\u7684\u306a\u5171\u6709\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304f\u308c\u308b\u3002\n\u9ad8\u53ef\u7528\u6027\u3068\u3057\u3066\u3001Standalone\u30af\u30e9\u30b9\u30bf\u3092\u5b9f\u904b\u7528\u306e\u8a2d\u5b9a\u3067\u52d5\u4f5c\u3055\u305b\u3066\u3044\u308b\u5834\u5408\u30ef\u30fc\u30ab\u30fc\u30ce\u30fc\u30c9\u306e\u969c\u5bb3\u3092\u554f\u984c\u306a\u3044\u3088\u3046\u306b\u30a2\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u30af\u30e9\u30b9\u30bf\u306e\u30de\u30b9\u30bf\u30fc\u306e\u53ef\u7528\u6027\u3082\u9ad8\u3081\u308b\u305f\u3081\u306b\u306f\u3001Apache ZooKeeper(\u5206\u6563\u5354\u8abf\u30b7\u30b9\u30c6\u30e0)\u3092\u4f7f\u3063\u3066\u8907\u6570\u306e\u30b9\u30bf\u30f3\u30d0\u30a4\u30de\u30b9\u30bf\u30fc\u3092\u7528\u610f\u3057\u3066\u304a\u3051\u3070\u3001Spark\u306f\u969c\u5bb3\u304c\u3042\u3063\u305f\u5834\u5408\u65b0\u3057\u3044\u30de\u30b9\u30bf\u30fc\u3078\u306e\u5207\u308a\u66ff\u3048\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u6642\u3001\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u306f\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u5bfe\u3057\u3066\u30012\u3064\u306e\u30c7\u30d7\u30ed\u30a4\u30e2\u30fc\u30c9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n- \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e2\u30fc\u30c9\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e2\u30fc\u30c9\u3067\u306f\u3001\u30c9\u30e9\u30a4\u30d0\u306fspark-submit\u3092\u5b9f\u884c\u3057\u305f\u30de\u30b7\u30f3\u4e0a\u3067\u3001spark-submit\u306e\u30b3\u30de\u30f3\u30c9\u306e\u4e00\u90e8\u3068\u3057\u3066\u52d5\u4f5c\u3059\u308b\u3002(\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u76f4\u63a5\u5165\u529b\u3092\u884c\u3048\u305f\u308a\u3001\u51fa\u529b\u3092\u76f4\u63a5\u898b\u305f\u308a\u3067\u304d\u308b\u304b\u3089)\n- \u30af\u30e9\u30b9\u30bf\u30e2\u30fc\u30c9\n\u30af\u30e9\u30b9\u30bf\u30e2\u30fc\u30c9\u3067\u306f\u30c9\u30e9\u30a4\u30d0\u306fStandalone\u30af\u30e9\u30b9\u30bf\u5185\u3067\u3044\u305a\u308c\u304b\u306e\u30ef\u30fc\u30ab\u30fc\u306e\u30fc\u3069\u4e0a\u306e\u30d7\u30ed\u30bb\u30b9\u3068\u3057\u3066\u8d77\u52d5\u3055\u308c\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u63a5\u7d9a\u3057\u307e\u3059\u3002\u5207\u308a\u66ff\u3048\u308b\u306e\u306b\u306fspark-submit --deploy-mode cluster\u306b\u6e21\u3055\u306a\u304d\u3083\u3044\u3051\u307e\u305b\u3093\u3002\n\nApache Mesos\n\n\u6982\u8981\u306b\u95a2\u3057\u3066\u306f\u3053\u3061\u3089\nApache Mesos\u306f\u6c4e\u7528\u306e\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u3067\u3001\u5206\u6790\u7684\u306a\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3084\u3001\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3084\u30ad\u30fc/\u5024\u30b9\u30c8\u30a2\u306a\u3069\u306e\u9577\u671f\u9593\u306b\u308f\u305f\u3063\u3066\u52d5\u4f5c\u3059\u308b\u30b5\u30fc\u30d3\u30b9\u3082\u30af\u30e9\u30b9\u30bf\u4e0a\u3067\u306f\u3057\u3089\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30de\u30eb\u30c1\u30de\u30b9\u30bf\u30fc\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3055\u305b\u308b\u969b\u306b\u3001ZooKepper\u3092\u4f7f\u3063\u3066\u30de\u30b9\u30bf\u30fc\u3092\u9078\u629e\u3055\u305b\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u307e\u305fMesos\u4e0a\u306eSpark\u304c\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u52d5\u4f5c\u30e2\u30fc\u30c9\u306f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c7\u30d7\u30ed\u30a4\u30e2\u30fc\u30c9\u3060\u3051\u3067\u3059\u3002\u3053\u308c\u304c\u610f\u5473\u3059\u308b\u306e\u306f\u300c\u30c9\u30e9\u30a4\u30d0\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u6295\u5165\u3057\u305f\u30de\u30b7\u30f3\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u300d\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\u30c9\u30e9\u30a4\u30d0\u3092Mesos\u4e0a\u306e\u30af\u30e9\u30b9\u30bf\u4e0a\u3067\u52d5\u4f5c\u3055\u305b\u305f\u3044\u5834\u5408\u306f\u3001Aurora\u3084Chronos\u306a\u3069\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u304c\u5225\u9014\u5fc5\u8981\u3067\u3059\u3002\n\u307e\u305f\u3001\u4ed6\u306e\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u3068\u306f\u7570\u306a\u308a\u3001\u540c\u4e00\u30af\u30e9\u30b9\u30bf\u4e0a\u3067\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u9593\u306e\u30ea\u30bd\u30fc\u30b9\u5171\u6709\u306b\u95a2\u3057\u3066\u3001Mesos\u306f\u4e8c\u3064\u306e\u30e2\u30fc\u30c9\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n- fine-graned\u30e2\u30fc\u30c9\n\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306f\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u306a\u304c\u3089Mesos\u306b\u8981\u6c42\u3059\u308bCPU\u6570\u3092\u5897\u6e1b\u3055\u305b\u308b\u306e\u3067\u3001\u8907\u6570\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306f\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u30de\u30b7\u30f3\u306f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u9593\u306eCPU\u30ea\u30bd\u30fc\u30b9\u3092\u52d5\u7684\u306b\u5171\u6709\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u30bf\u30b9\u30af\u3092\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3059\u308b\u30ec\u30a4\u30c6\u30f3\u30b7\u304c\u5927\u304d\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n- coarse-grained\u30e2\u30fc\u30c9\nSpark\u306f\u304b\u304f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u304c\u4f7f\u7528\u3059\u308bCPU\u6570\u3092\u3042\u3089\u304b\u3058\u3081\u6c7a\u3081\u3066\u304a\u304d\u3001\u4eee\u306b\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u304c\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u7d42\u4e86\u3059\u308b\u307e\u3067\u306fCPU\u3092\u958b\u653e\u3057\u307e\u305b\u3093\u3002\n\n \u53c2\u8003\n\nhttp://www-bcf.usc.edu/~minlanyu/teach/csci599-fall12/papers/nsdi_spark.pdf\nhttp://www.sbbit.jp/article/cont1/32342\nhttp://www.task-notes.com/entry/20160112/1452525344\nhttp://www.slideshare.net/hadoopxnttdata/apache-spark-spark\nhttp://dev.classmethod.jp/etc/apache-spark_rdd_investigation/\nhttp://www.intellilink.co.jp/article/column/bigdata-kk01.html\nhttp://www.intellilink.co.jp/article/column/bigdata-kk04.html\nhttp://www.oracle.com/webfolder/technetwork/jp/javamagazine/Java-MJ16-Spark.pdf\nhttp://www.oracle.com/technetwork/jp/articles/java/overview/index.html\nhttp://www.ne.jp/asahi/hishidama/home/tech/scala/spark/RDD.html\nhttp://qiita.com/kiszk/items/53ec7f0419d71790d9af\nhttp://www.ne.jp/asahi/hishidama/home/tech/scala/spark/index.html\nhttp://www.slideshare.net/dragan10/apache-spark-53507780?qid=db4c33ce-2928-46ed-8c48-91091e48916a&v=&b=&from_search=12\nhttps://www.youtube.com/channel/UCRzsq7k4-kT-h3TDUBQ82-w\nhttps://oss.sios.com/guest-blog/guest-bog-20150624901\nhttp://qiita.com/rtoya/items/d80e59371832877fbbb1\nhttp://qiita.com/kimutansk/items/f47c2a28eda6817db531\nhttp://www.ne.jp/asahi/hishidama/home/tech/scala/spark/partition.html\nhttp://www.bigsynapse.com/spark-input-output\n\u3053\u3061\u3089\u306e\u30b9\u30e9\u30a4\u30c9\u304c\u6700\u521d\u306e\u5168\u4f53\u306e\u6982\u8981\u7406\u89e3\u3068\u3057\u3066\u3081\u3061\u3083\u308f\u304b\u308a\u3084\u3059\u304b\u3063\u305f\u3067\u3059\nhttp://www.slideshare.net/dragan10/apache-spark-53507780\n\u5c0e\u5165\u306b\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066\u306f\u3053\u3061\u3089\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\nhttps://oss.sios.com/guest-blog/guest-bog-20150624820\n@kimutansk \u3055\u3093\u306e\u306f\u3066\u306a\u30d6\u30ed\u30b0\u306e\u8a18\u4e8b\u304c\u3081\u3061\u3083\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f(\u307e\u3060\u5168\u90e8\u8aad\u3081\u3066\u307e\u305b\u3093\ud83d\ude47)\n\u3053\u308c\u304c\u5168\u90e8\u308f\u304b\u308c\u3070\u7406\u89e3\u3067\u304d\u308b\u3093\u3060\u308d\u3046\u306a\u3068\u601d\u3044\u307e\u3057\u305f\u3002\nhttp://kimutansk.hatenablog.com/entry/20130901/1378023152\nSpark\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://spark.apache.org/\nSpark\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8(\u65e5\u672c\u8a9e\u8a33)\nhttp://mogile.web.fc2.com/spark/spark200/index.html\nO'Reilly\u306e\u300c\u521d\u3081\u3066\u306eSpark\u300d\nhttps://www.oreilly.co.jp/books/9784873117348/\n\n\u682a\u5f0f\u4f1a\u793eNTT\u30c7\u30fc\u30bf\u306e\u300cApache Spark\u5165\u9580 \u52d5\u304b\u3057\u3066\u5b66\u3076\u6700\u65b0\u4e26\u5217\u5206\u6563\u51e6\u7406\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u300d\nhttp://www.shoeisha.co.jp/book/detail/9784798142661\n\n\n```\nWelcome to\n      ____              __\n     / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n   /___/ .__/\\_,_/_/ /_/\\_\\   version 2.0.0\n      /_/   \n```   \n\n2016\u5e747\u6708\u672b\u306b`Apache Spark 2.0.0`\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3001\u59cb\u3081\u3066\u307f\u305f\u306e\u3067\u8272\u3005\u30e1\u30e2\n\u30e1\u30e2\u306a\u306e\u3067\u3054\u5bb9\u8d66\u304f\u3060\u3055\u3044\ud83d\ude47\n\u307e\u305f\u3001\u3053\u306e\u8a18\u4e8b\u4e2d\u306b\u30b5\u30f3\u30d7\u30eb\u3067\u8f09\u305b\u3066\u3044\u308b\u30b3\u30fc\u30c9\u306f`java`\u304c\u30e1\u30a4\u30f3\u3067\u3059\u304c`scala`\u3001`python`\u306e\u65b9\u304c\u3059\u3063\u304d\u308a\u304b\u3051\u3066\u3044\u308b\u6c17\u304c\u3058\u307e\u3059\u3002\n__\u3053\u308c\u304b\u3089\u3082\u968f\u6642\u7de8\u96c6\u3057\u3066\u3044\u304d\u307e\u3059__\n\n\n#<i class=\"fa fa-check-circle\" style=\"font-size:1em;\"></i> Apache Spark \u3068\u306f\n\n<img class=\"aligncenter size-full wp-image-17237\" src=\"https://qiita-image-store.s3.amazonaws.com/0/56510/fb857b7c-7ade-4e90-f849-4e80be696f19.png\" alt=\"sparkhadoopgraphic\" width=\"75%\" />\n\n> \u4e0a\u306e\u753b\u50cf\u306f[https://spark.apache.org](https://spark.apache.org/)\u304b\u3089\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306f`Hadoop`\u306e`MapReduce`100\u500d\u901f\u3044\u3089\u3057\u3044\u3067\u3059\u3001\u5f37\u3044\u3001Spark\n\n__`Spark`\u306f\u5de8\u5927\u306a\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u9ad8\u901f\u306b\u5206\u6563\u51e6\u7406\u3092\u884c\u3046\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3002\n(Java Magazine\u306b\u306f`Spark\u306f\u9ad8\u901f\u3067\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u306a\u6c4e\u7528\u5206\u6563\u51e6\u7406\u30a8\u30f3\u30b8\u30f3`\u3068\u66f8\u3044\u3066\u307e\u3057\u305f)__\n\n> \u91cd\u8981\u306a\u306e\u306f\u4ee5\u4e0b\u306e\u30dd\u30a4\u30f3\u30c8\u3060\u3068\u601d\u3044\u307e\u3057\u305f(\u3044\u308d\u3093\u306a\u30b5\u30a4\u30c8\u3084\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u8aad\u3093\u3067\u3044\u3066)\n\u4ee5\u4e0b\u306e\u70b9\u306b\u3064\u3044\u3066\u306e\u8a73\u7d30\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002\n\n[<i class=\"fa fa-plus-square\" aria-hidden=\"true\"></i>1. RDD(Resilient Distributed Datasets)\u306e\u4ed5\u7d44\u307f](http://qiita.com/Hiroki11x/items/4f5129094da4c91955bc#1-rddresilient-distributed-datasets%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF-1)\n[<i class=\"fa fa-plus-square\" aria-hidden=\"true\"></i>2. Scala\u3001Java\u3001R\u3001Python\u306a\u3069\u306b\u5bfe\u5fdc(API\u304c\u7528\u610f\u3055\u308c\u3066\u308b)](http://qiita.com/Hiroki11x/items/4f5129094da4c91955bc#2-scalajavarpython%E3%81%AA%E3%81%A9%E3%81%AB%E5%AF%BE%E5%BF%9Capi%E3%81%8C%E7%94%A8%E6%84%8F%E3%81%95%E3%82%8C%E3%81%A6%E3%82%8B-1)\n[<i class=\"fa fa-plus-square\" aria-hidden=\"true\"></i>3. \u591a\u5f69\u306a\u30e9\u30a4\u30d6\u30e9\u30ea](http://qiita.com/Hiroki11x/items/4f5129094da4c91955bc#3-%E5%A4%9A%E5%BD%A9%E3%81%AA%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA-1)\n[<i class=\"fa fa-plus-square\" aria-hidden=\"true\"></i>4. \u8907\u6570\u306e\u5c0e\u5165\u30b7\u30ca\u30ea\u30aa(\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u3001YARN\u3001Mesos\u3001\u7d44\u307f\u8fbc\u307f\u3001\u30af\u30e9\u30a6\u30c9)](http://qiita.com/Hiroki11x/items/4f5129094da4c91955bc#4-%E8%A4%87%E6%95%B0%E3%81%AE%E5%B0%8E%E5%85%A5%E3%82%B7%E3%83%8A%E3%83%AA%E3%82%AA%E3%82%B9%E3%82%BF%E3%83%B3%E3%83%89%E3%82%A2%E3%83%AD%E3%83%B3yarnmesos%E7%B5%84%E3%81%BF%E8%BE%BC%E3%81%BF%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89-1)\n[<i class=\"fa fa-plus-square\" aria-hidden=\"true\"></i>5. \u5e45\u5e83\u3044\u51e6\u7406\u30e2\u30c7\u30eb(\u30d0\u30c3\u30c1\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u3001\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0)](http://qiita.com/Hiroki11x/items/4f5129094da4c91955bc#5-%E5%B9%85%E5%BA%83%E3%81%84%E5%87%A6%E7%90%86%E3%83%A2%E3%83%87%E3%83%AB%E3%83%90%E3%83%83%E3%83%81%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%A9%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%9F%E3%83%B3%E3%82%B0-1)\n\n\n> \u3061\u306a\u307f\u306b\u65e5\u7d4cBP\u793e\u304c\u767a\u8868\u3057\u305f[\u300cIT\u30a4\u30f3\u30d5\u30e9\u30c6\u30af\u30ce\u30ed\u30b8\u30fcAWARD 2015\u300d](http://itpro.nikkeibp.co.jp/atcl/column/15/010800005/010800001/)\u306b\u304a\u3044\u3066\u3001`Spark`\u306f`Docker`\u306b\u6b21\u3050\u6e96\u30b0\u30e9\u30f3\u30d7\u30ea\u3068\u3055\u308c\u305f\u3002\n\n> `Spark`\u3082`Hadoop`\u3068\u540c\u3058\u304f\u5206\u6563\u51e6\u7406\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059(\u53b3\u5bc6\u306b\u306f\u62c5\u5f53\u3057\u3066\u308b\u3068\u3053\u308d\u304c\u3061\u3087\u3063\u3068\u9055\u3046)\u3002`Spark`\u306f\u30ab\u30ea\u30d5\u30a9\u30eb\u30cb\u30a2\u5927\u5b66\u30d0\u30fc\u30af\u30ec\u30fc\u6821\u3067\u958b\u767a\u304c\u958b\u59cb\u3055\u308c\u30012014\u5e74\u306b`Apache Software Foundation`\u306b\u5bc4\u8d08\u3055\u308c\u307e\u3057\u305f\u3002`Hadoop`\u304c`Java\u8a00\u8a9e`\u3067\u4f5c\u3089\u308c\u3066\u3044\u308b\u306e\u306b\u5bfe\u3057\u3066`Spark`\u306f`Scala`\u3067\u4f5c\u3089\u308c\u3066\u3044\u307e\u3059\u3002\n\n###`Spark`\u306e\u5f97\u610f\u4e0d\u5f97\u610f<i class=\"fa fa-thumbs-up\" aria-hidden=\"true\"></i><i class=\"fa fa-thumbs-down\" aria-hidden=\"true\"></i>\n\n####<i class=\"fa fa-thumbs-up\" aria-hidden=\"true\"></i>\u5f97\u610f\n- Hadoop\u3067\u52a0\u5de5\u3057\u305f\u306e\u3061\u306e\u30c9\u30ea\u30eb\u30c0\u30a6\u30f3\u5206\u6790\n- TB\u7d1a\u307e\u3067\u306e\u30c7\u30fc\u30bf\u3092\u6271\u3046\u30b7\u30b9\u30c6\u30e0\n- \u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u304c\u6709\u52b9\u3067\u306a\u3044\u30ed\u30f3\u30b0\u30c6\u30fc\u30eb\u306e\u30c7\u30fc\u30bf\u5206\u6790\n- \u6570\u79d2~\u6570\u5206\u7a0b\u5ea6\u306eHadoop\u3088\u308a\u3082\u77ed\u3044\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u5fc5\u8981\u306a\u51e6\u7406\n\n####<i class=\"fa fa-thumbs-down\" aria-hidden=\"true\"></i>\u4e0d\u5f97\u610f\n- \u30af\u30e9\u30b9\u30bf\u5168\u4f53\u306e\u30e1\u30e2\u30ea\u306b\u4e57\u308a\u304d\u3089\u306a\u3044\u5de8\u5927\u306a\u30c7\u30fc\u30bf\u51e6\u7406(TB\u4ee5\u4e0a)\n- \u5927\u304d\u306a\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u5c11\u3057\u305a\u3064\u66f4\u65b0\u3059\u308b\u51e6\u7406\n- \u79d2\u4ee5\u4e0b\u306e\u6642\u306b\u77ed\u3044\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u5fc5\u8981\u306a\u51e6\u7406\n\n##<i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>Hadoop\u3068\u306e\u9055\u3044\n\u540c\u3058\u5206\u6563\u51e6\u7406\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3068\u3057\u3066\u3001`Hadoop`\u304c\u6709\u540d\u3067\u3059\u3002\u4e21\u8005\u306f\u4ee5\u4e0b\u306e\u56f3(http://www.aerospike.com/blog/what-the-spark-introduction/ \u3088\u308a\u5f15\u7528)\u306e\u3088\u3046\u306b\u3001\u305d\u306e\u307e\u307e\u6bd4\u3079\u3089\u308c\u308b\u3082\u306e\u3067\u306f\u306a\u3044\uff1f\u3067\u3059\u304c\u3001\u3042\u3048\u3066`Spark`\u304c`Hadoop`\u306e\u3069\u3053\u306b\u3042\u305f\u308b\u304b\u3068\u3044\u3046\u3068\u3001`MapReduce`\u306e\u90e8\u5206\u306e\u3088\u3046\u3067\u3059\u3002\n\n<table class=\"aligncenter\" style=\"width: 100%;\">\n<tbody>\n<tr>\n<th><img class=\"aligncenter size-full wp-image-17237\" src=\"http://wordpress-www.s3-us-west-1.amazonaws.com/wp-content/uploads/2015/03/sparkhadoopgraphic.jpg\" alt=\"sparkhadoopgraphic\" width=\"1024\" height=\"320\" /></th>\n<th><img class=\"aligncenter size-full wp-image-17236\" src=\"http://wordpress-www.s3-us-west-1.amazonaws.com/wp-content/uploads/2015/03/hadoopgraphic2.jpg\" alt=\"hadoopgraphic2\" width=\"1024\" height=\"320\" /></th>\n</tr>\n</tbody>\n</table>\n\n\n`Hadoop`\u81ea\u4f53\u3068\u3066\u3082\u4fbf\u5229\u3067\u3059\u304c\u6b20\u70b9\u3082\u3042\u308a\u307e\u3057\u305f\u3002\u305d\u306e\u8272\u3005\u306a\u6b20\u70b9\u3092\u89e3\u6c7a\uff1f\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u306e\u304c`Spark`\u306e\u3088\u3046\u3067\u3059\u3002\n\n`Hadoop`\u306e\u6b20\u70b9\u3068\u8a00\u308f\u308c\u3066\u3044\u305f\u306e\u304c\u4e3b\u306b\u4ee5\u4e0b\u306e\u4e09\u3064\n\n- __\u500b\u3005\u306e\u30e1\u30e2\u30ea\u3092\u6d3b\u7528\u3067\u304d\u308b\u8a2d\u8a08\u3067\u306a\u304b\u3063\u305f(\u30bf\u30b9\u30af\u3054\u3068\u306b\u30c7\u30fc\u30bf\u3092\u30c7\u30a3\u30b9\u30af\u8aad\u307f\u8fbc\u307f&\u66f8\u304d\u8fbc\u307f\u3057\u306a\u304d\u3083\u3044\u3051\u306a\u3044\u306e\u304c\u30dc\u30c8\u30eb\u30cd\u30c3\u30af)__\n- __\u540c\u3058\u51e6\u7406\u3092\u8907\u6570\u884c\u3046\u969b\u306b\u3001\u305d\u306e\u90fd\u5ea6\u30c7\u30fc\u30bf\u30a2\u30af\u30bb\u30b9\u304c\u767a\u751f__\n- __\u540c\u3058\u30c7\u30fc\u30bf\u3067\u3082\u306a\u3093\u3069\u3082\u4f7f\u3046\u3082\u306e\u306f\u4f7f\u3046\u969b\u306b\u7121\u99c4\u306b\u30a2\u30af\u30bb\u30b9\u304c\u3044\u3063\u3071\u3044\u767a\u751f__\n\n\u3053\u306e\u8ab2\u984c\u3092\u89e3\u6c7a\u3059\u308b\u306e\u304c`RDD(Resilient Distributed Datasets)`\u3068\u3044\u3046`Spark`\u306e\u5206\u6563\u5171\u6709\u30e1\u30e2\u30ea\u306e\u4ed5\u7d44\u307f\u3067\u3059\u3002\n\u3059\u3054\u304f\u3056\u3063\u304f\u308a\u8a00\u3046\u3068\u3001Hadoop\u3067\u306f\u6bce\u56de\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u308a\u3057\u3066\u3044\u305f\u306e\u304c\u30a4\u30f3\u30e1\u30e2\u30ea\u3067\u5b9f\u884c\u3067\u304d\u308b\u306e\u3067\u3044\u3044\u3053\u3068\u3044\u3063\u3071\u3044\u3042\u308b\u3088\u306d\u3063\u3066\u611f\u3058\u3060\u3068\u89e3\u91c8\u3057\u307e\u3057\u305f\u3002\n\n#####<i class=\"fa fa-square\" aria-hidden=\"true\"></i>`Hadoop`\u306e\u5834\u5408\n> \u4f8b\u3048\u3070\u30b8\u30e7\u30d6\u304c\u591a\u6bb5\u306b\u69cb\u6210\u3055\u308c\u308b\u5834\u5408\u306e\u8ab2\u984c\u306e\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-09 14.57.37.png](https://qiita-image-store.s3.amazonaws.com/0/56510/231d99dd-bc75-92e7-51e4-5a3bd08dab4b.png)\n\u3053\u306e\u3088\u3046\u306b`Hadoop`\u306e\u5834\u5408\u30b8\u30e7\u30d6\u9593\u3067\u306e\u30c7\u30fc\u30bf\u53d7\u3051\u6e21\u3057\u306e\u5ea6\u306b`HDFS(*1)`\u3078\u306e`I/O`\u304c\u4f34\u3046\n\n```\n(*1)HDFS:MapReduce\u3067\u51e6\u7406\u3059\u308b\u30c7\u30fc\u30bf\u3092\u6271\u3046\u3001\u5206\u6563\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u8907\u6570\u306e\u30de\u30b7\u30f3\u3092\u4e00\u3064\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002\nHDFS\u306f\u7ba1\u7406\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306eI/O\u3092\u9ad8\u901f\u5316\u3059\u308b\u305f\u3081\u5927\u304d\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u4e00\u5b9a\u306e\u5927\u304d\u3055(\u521d\u671f\u8a2d\u5b9a\u3067\u306f64MB)\u306e\u30d6\u30ed\u30c3\u30af\u306b\u5206\u5272\u3057\u3066\u3001\n\u8907\u6570\u306e\u8a18\u61b6\u88c5\u7f6e\u306b\u5206\u6563\u3057\u3066\u4fdd\u5b58\u3001I/O\u3092\u8a18\u61b6\u88c5\u7f6e\u306e\u53f0\u6570\u3060\u3051\u4e26\u5217\u306b\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002\n```\n---\n\n#####<i class=\"fa fa-square\" aria-hidden=\"true\"></i>`Spark`\u3067\u306f\n\n> RDD\u3068\u547c\u3070\u308c\u308b\u90e8\u5206\u6545\u969c\u3078\u306e\u8010\u6027\u3092\u8003\u616e\u3057\u305f\u5206\u6563\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306b\u5bfe\u3057\u3066\u5178\u578b\u7684\u306a\u30c7\u30fc\u30bf\u51e6\u7406\u3092\u7e70\u308a\u8fd4\u3059\u3053\u3068\u3067\u76ee\u7684\u306e\u7d50\u679c\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-09 15.11.31.png](https://qiita-image-store.s3.amazonaws.com/0/56510/92ba9faf-0e2c-90b1-5f9a-02964d5f598e.png)\n\u8907\u96d1\u306a\u51e6\u7406\u3092\u5c11\u306a\u3044\u30b8\u30e7\u30d6\u6570\u3067\u5b9f\u73fe\u3057\u3001`RDD`\u3054\u3068\u306b\u4e2d\u9593\u30c7\u30fc\u30bf\u3092\u305d\u306e\u90fd\u5ea6\u51fa\u529b\u3057\u306a\u3044\u306e\u3067`HDFS`\u306a\u3069\u306e\u5916\u90e8\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u306e`I/O`\u304c\u6291\u3048\u3089\u308c\u308b\u3002\n\n\n##<i class=\"fa fa-check-square\" aria-hidden=\"true\"></i>1. `RDD(Resilient Distributed Datasets)`\u306e\u4ed5\u7d44\u307f\nRDD\u306f\u8010\u969c\u5bb3\u6027\u5206\u6563\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u3001\u7e70\u308a\u8fd4\u3057\u5229\u7528\u3059\u308b\u30c7\u30fc\u30bf\u306b\u3064\u3044\u3066\u306f\u30e1\u30e2\u30ea\u4e0a\u306b\u4fdd\u6301\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306a\u6a5f\u69cb\u3067`Hadoop`\u306e`MapReduce`\u304c\u4fdd\u6301\u3057\u3066\u3044\u305f(\u8010\u969c\u5bb3\u6027\u3001\u30c7\u30fc\u30bf\u5c40\u6240\u6027\u3001\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3)\u306f\u305d\u306e\u307e\u307e\u5f15\u304d\u7d99\u3044\u3067\u3044\u307e\u3059\u3002\n\n\n###I. `RDD`\u306e\u6027\u8cea\n- \u30a4\u30df\u30e5\u30fc\u30bf\u30d6\u30eb\u3067\u5206\u5272\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3(\u30d5\u30a9\u30fc\u30eb\u30c8\u30c8\u30ec\u30e9\u30f3\u30c8\u6027\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081`RDD`\u3067\u306f\u300c\u5f97\u4f53\u30c7\u30fc\u30bf\u304c\u5931\u308f\u308c\u3066\u3044\u305f\u3089\u524d\u306e\u30c7\u30fc\u30bf\u304b\u3089\u518d\u751f\u6210\u3059\u308b\u300d\u3068\u3044\u3046\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u53d6\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u305d\u308c\u305e\u308c\u30a4\u30df\u30e5\u30fc\u30bf\u30d6\u30eb\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b)\n- \u8aad\u307f\u53d6\u308a\u5c02\u7528\n- \u4e26\u5217\u51e6\u7406(`map`,`filter`,`groupBy`,`join`)\u3092\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30c7\u30fc\u30bf\u306b\u9069\u5fdc\u3057\u305f\u7d50\u679c\u3092\u751f\u6210\n- \u518d\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u30e1\u30e2\u30ea\u4e0a\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u308b\n- \u9045\u5ef6\u8a55\u4fa1\u3055\u308c\u308b(\u30a2\u30af\u30b7\u30e7\u30f3\u7cfb\u306e\u30e1\u30bd\u30c3\u30c9(*2)\u304c\u547c\u3070\u308c\u308b\u307e\u3067\u300d\u5b9f\u969b\u306e\u51e6\u7406\u306f\u884c\u308f\u308c\u306a\u3044)\n\n```\n(*2)\u30a2\u30af\u30b7\u30e7\u30f3\u7cfb\u306e\u30e1\u30bd\u30c3\u30c9(\u5f15\u7528)\n> RDD\u306b\u4fdd\u6301\u3057\u305f\u30c7\u30fc\u30bf\u3092\u64cd\u4f5c\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306f\u5927\u304d\u304f\u5206\u3051\u30662\u3064\u306b\u5206\u985e\u3055\u308c\u307e\u3059\u3002\n\u300cTransformations\u300d\u3068\u300cActions\u300d\u3067\u3059\u3002\n\u300cTransformations\u300d\u306fRDD\u3092\u64cd\u4f5c\u3057\u3001\u7d50\u679c\u3092\u65b0\u3057\u3044RDD\u3068\u3057\u3066\u8fd4\u3057\u307e\u3059\u3002\n\u300cActions\u300d\u306fRDD\u306e\u30c7\u30fc\u30bf\u3092\u64cd\u4f5c\u3057\u3001\u7d50\u679c\u3092RDD\u4ee5\u5916\u306e\u5f62\u5f0f\u3067\u8fd4\u3059\u304b\u4fdd\u5b58\u3092\u884c\u3044\u307e\u3059\u3002\n\u5927\u96d1\u628a\u306b\u8a00\u3048\u3070\u3001RDD\u3092\u8fd4\u3059\u306e\u304c\u300cTransformations\u300d\u3001\u305d\u3046\u3067\u306f\u306a\u3044\u3082\u306e\u304c\u300cActions\u300d\u3067\u3042\u308b\u3068\u8a00\u3048\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n```\n\n###\u2161. `RDD`\u3092\u751f\u6210\u3059\u308b\u306b\u306f\n\u751f\u6210\u306e\u65b9\u6cd5\u306f\u5927\u304d\u304f2\u901a\u308a\u3042\u308a\u307e\u3059\u3002\n\u4e00\u3064\u76ee\u306fSparkContext\u3068\u3044\u3046\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u6301\u3064\u3001Spark\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u7528\u3044\u3066\n\n```java\nJavaRDD<String> lines = sc.textFile(\"README.md\");\n```\n\n\u306e\u3088\u3046\u306b\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u3092\u6587\u5b57\u5217\u304b\u3089\u306a\u308bRDD\u3068\u3057\u3066\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u30ed\u30fc\u30c9\u3059\u308b\u65b9\u6cd5\u3002\n\u4e8c\u3064\u76ee\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3(\u30ea\u30b9\u30c8\u3084\u96c6\u5408)\u3092\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u5206\u6563\u3055\u305b\u308b\u65b9\u6cd5\u304c\u3042\u308b\u3002\n\n\u4f8b\u3048\u3070\u30d7\u30ed\u30b0\u30e9\u30e0\u4e2d\u306e\u65e2\u5b58\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066`SparkContext`\u306e`parallelize()`\u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u3059\u3002\n\n```java\nJavaRDD<String> lines = sc.parallelize(Arrays.asList(\"student\",\"i am a student\"))\n```\n\n\u305f\u3060\u3057\u3053\u306e\u65b9\u6cd5\u306f\u4e00\u53f0\u306e\u30de\u30b7\u30f3\u306e\u30e1\u30e2\u30ea\u5185\u306b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u5168\u4f53\u3092\u6301\u305f\u306a\u304f\u3066\u306f\u306a\u3089\u305a\u3001\u5b9f\u7528\u7684\u3067\u306f\u306a\u3044\u3002\n\n\n###\u2162. `RDD`\u306e\u518d\u5229\u7528(\u6c38\u7d9a\u5316/\u30ad\u30e3\u30c3\u30b7\u30e5)\nRDD\u306f\u305d\u308c\u306b\u5bfe\u3059\u308b\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u308b\u305f\u3073\u306b\u8a08\u7b97\u3057\u76f4\u3055\u308c\u308b\u306e\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3002\u3042\u308b`RDD`\u304c\u4f55\u56de\u3082\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u518d\u8a08\u7b97\u3055\u308c\u308b\u3088\u3046\u3067\u3042\u308c\u3070\u3001`Spark`\u306b\u5bfe\u3057\u3066\u305d\u308c\u3092\u6c38\u7d9a\u5316\u3067\u304d\u308b\u3088\u3046\u306b(`lines`\u306f`RDD`)\n\n```py\nlines.persist()\n```\n\n\u3067\u4f9d\u983c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u307e\u305f\u3001\u305d\u306e\u30c7\u30fc\u30bf\u306f`Spark`\u306b\u5bfe\u3057\u3066\u6307\u793a\u3059\u308b\u3053\u3068\u3067\u69d8\u3005\u306a\u5834\u6240\u306b\u7f6e\u304f\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u6c38\u7d9a\u5316\u306e\u6307\u793a\u304c\u3042\u3063\u305fRDD\u304c\u8a08\u7b97\u3055\u308c\u308b\u3068\u304d\u3001`Spark`\u306f\u305d\u306eRDD\u306e\u5185\u5bb9\u3092\u30e1\u30e2\u30ea\u306b\u4fdd\u5b58\u3057(\u30af\u30e9\u30b9\u30bf\u5185\u306e\u30de\u30b7\u30f3\u7fa4\u306b\u307e\u305f\u304c\u3063\u3066\u5206\u5272\u3055\u308c\u308b)\u3001\u305d\u308c\u4ee5\u964d\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u518d\u5229\u7528\u3057\u307e\u3059\u3002\u307e\u305f`RDD`\u3092\u30c7\u30a3\u30b9\u30af\u306b\u6c38\u7d9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002`Spark`\u306b`RDD`\u3092\u6c38\u7d9a\u5316\u3055\u305b\u308b\u3068\u3001`RDD`\u3092\u8a08\u7b97\u3059\u308b\u8a08\u7b97\u30ce\u30fc\u30c9\u306f\u3001\u81ea\u5206\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u30c7\u30fc\u30bf\u3092\u6c38\u7d9a\u5316\u3057\u305f\u30ce\u30fc\u30c9\u306b\u969c\u5bb3\u304c\u3042\u3063\u305f\u5834\u5408\u306f`Saprk`\u304c\u5931\u308f\u308c\u305f\u30c7\u30fc\u30bf\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u8a08\u7b97\u3059\u308b\u3002\u307e\u305f\u30ce\u30fc\u30c9\u969c\u5bb3\u304c\u3042\u3063\u3066\u3082\u901f\u5ea6\u304c\u843d\u3061\u306a\u3044\u3088\u3046\u306b\u3001\u30c7\u30fc\u30bf\u3092\u8907\u6570\u306e\u30ce\u30fc\u30c9\u306b\u8907\u88fd\u3057\u3066\u304a\u304f\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u307e\u305fJava\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e`persist()`\u3067\u306f\u30c7\u30fc\u30bf\u3092JVM\u306e\u30d2\u30fc\u30d7\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u4f53\u5185\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002\u30bf\u30a4\u30df\u30f3\u30b0\u306b\u95a2\u3057\u3066\n`RDD`\u306b\u5bfe\u3059\u308b`persist()`\u306f\u6700\u521d\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3088\u308a\u3082\u524d\u306b\u547c\u3076\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002`persist()`\u3084`cache()`\u306f\u3001`RDD`\u3092\u6c38\u7d9a\u5316\u3059\u308b\u3053\u3068\u3092\u5ba3\u8a00\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u9045\u5ef6\u8a55\u4fa1\u3055\u308c\u308b\u305f\u3081\u3067\u3059\u3002\n[`org.apache.spark.storage.StorageLevel`](https://spark.apache.org/docs/1.4.0/api/java/org/apache/spark/storage/StorageLevel.html#MEMORY_ONLY())\u306b\u6c38\u7d9a\u5316\u306e\u30ec\u30d9\u30eb\u306e\u6307\u5b9a\u306b\u95a2\u3057\u3066\u8a18\u8ff0\u304c\u3042\u308a\u307e\u3059\u3002\n\u307e\u305f\u30e1\u30e2\u30ea\u306b\u53ce\u307e\u3089\u306a\u3044\u30c7\u30fc\u30bf\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306a\u3069\u306fLRU\u30dd\u30ea\u30b7\u30fc(*3)\u3092\u4f7f\u3044\u3001\u53e4\u3044\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u9000\u907f\u3055\u305b\u307e\u3059\u3002\n\u9000\u907f\u3055\u308c\u305f\u30c7\u30fc\u30bf\u304c\u30c7\u30a3\u30b9\u30af\u306b\u66f8\u304d\u51fa\u3055\u308c\u308b\u304b\u518d\u8a08\u7b97\u3055\u308c\u308b\u304b\u306f\u6c38\u7d9a\u5316\u306e\u30ec\u30d9\u30eb\u6b21\u7b2c\u3067\u5909\u308f\u3063\u3066\u304d\u307e\u3059\u3002\n\u307e\u305f`unpersist()`\u3067\u305d\u306e`RDD`\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u53d6\u308a\u9664\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```\n(*3)LRU\u30dd\u30ea\u30b7\u30fc:Least Recently Used\u30dd\u30ea\u30b7\u30fc\u3001\n\u6587\u5b57\u3069\u304a\u308a\u6700\u3082\u3044\u304d\u3093\u4f7f\u3063\u305f\u306e\u3092\u6b8b\u3057\u3066\u3044\u304d\u3001\n\u6700\u8fd1\u4f7f\u308f\u306a\u304b\u3063\u305f\u3084\u3064\u306f\u5916\u3057\u3066\u3044\u304f\u8003\u3048\u65b9\n```\n\n###\u2163. `RDD`\u306e\u64cd\u4f5c\n`RDD`\u306f\u30a2\u30af\u30b7\u30e7\u30f3\u3068\u5909\u63db\u306e\u4e8c\u3064\u306e\u64cd\u4f5c\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u3066\u3001\u5909\u63db\u304c\u65b0\u3057\u3044`RDD`\u3092\u4f5c\u6210\u3059\u308b\u64cd\u4f5c(`map`,`filter`\u306a\u3069)\u306b\u5bfe\u3057\u3066\u3001\u5909\u63db\u306f\u305d\u3046\u3067\u306a\u3044\u3082\u306e(`count`\u306a\u3069)\u3067\u3059\u3002\n`Spark`\u306e\u307b\u3068\u3093\u3069\u306e\u5909\u63db\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u3001`Spark`\u304c\u30c7\u30fc\u30bf\u306e\u6f14\u7b97\u51e6\u7406\u3092\u884c\u3046\u969b\u306b\u4f7f\u7528\u3059\u308b\u95a2\u6570\u6e21\u3057\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001`RDD`\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u30af\u30ed\u30fc\u30b8\u30e3(*4)\u5185\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\u8a00\u3044\u63db\u3048\u308c\u3070`Spark`\u306e`RDD`\u30e1\u30bd\u30c3\u30c9\u5b9f\u884c\u306f\u30af\u30ed\u30fc\u30b8\u30e3\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002`RDD`\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u305d\u306e\u30e1\u30bd\u30c3\u30c9\u3068\u305d\u306e\u30e1\u30bd\u30c3\u30c9\u3078\u5f15\u6570\u3068\u3057\u3066\u6e21\u3055\u308c\u305f\u95a2\u6570\u3001\u305d\u306e\u95a2\u6570\u5185\u3067\u53c2\u7167\u3055\u308c\u3066\u3044\u308b\u5909\u6570\u306f\u30af\u30ed\u30fc\u30b8\u30e3\u3068\u3057\u3066\u307e\u3068\u3081\u3089\u308c\u3066\u30a8\u30b0\u30bc\u30ad\u30e5\uff10\u4ed6\u306b\u9001\u4fe1\u3055\u308c\u3001\u5404\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306b\u3088\u3063\u3066\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306a\u3044\u304b\u3089\u53c2\u7167\u3057\u305f\u5916\u90e8\u306e\u5909\u6570\u306e\u5024\u3092\u66f8\u304d\u63db\u5f97\u3088\u3046\u3068\u3057\u3066\u3082\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u5185\u306e\u5b9f\u884c\u306a\u306e\u3067\u66f4\u65b0\u3067\u304d\u307e\u305b\u3093\u3001\u305d\u306e\u969b\u306f`Accumulator`\u3092\u4f7f\u3044\u307e\u3059\u3002(\u3053\u306e`Accumulator`\u306f\u30a2\u30af\u30b7\u30e7\u30f3\u5185\u3067\u4f7f\u308f\u308c\u308b\u6642\u306b\u9650\u308a`Spark`\u306e\u30bf\u30b9\u30af\u306e\u66f4\u65b0\u3092\u5404`Accumulator`\u306b\u4e00\u5ea6\u3060\u3051\u9069\u5fdc\u3059\u308b\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u3066\u308b\u307f\u305f\u3044\u3067\u3059)\n\n```\n(*4)\u30af\u30ed\u30fc\u30b8\u30e3: \u6f14\u7b97\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\u5fc5\u8981\u3068\u306a\u308b\u5909\u6570\u3068\u30e1\u30bd\u30c3\u30c9\u7fa4\u3092\u30ab\u30d7\u30bb\u30eb\u5316\u3057\u305f\u3082\u306e\u3002\n```\n\n####__A. \u5909\u63db__\nRDD\u306b\u5bfe\u3057\u3066\u5909\u63db\u51e6\u7406\u3092\u3059\u308b\u3068\u65b0\u3057\u3044RDD\u304c\u8fd4\u3055\u308c\u307e\u3059\u3002\u5909\u63db\u3055\u308c\u305fRDD\u306e\u6f14\u7b97\u306f\u3001\u9045\u5ef6\u3055\u305b\u308c\u3066\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3059\u308b\u6642\u70b9\u3067\u521d\u3081\u3066\u5b9f\u884c\u3055\u308c\u308b\u3002\u4f8b\u3048\u3070\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30a8\u30e9\u30fc\u306e\u3042\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u307f\u30d5\u30a3\u30eb\u30bf\u30fc\u304b\u3051\u305f\u3044\u5834\u5408\u95a2\u6570\u306e\u6e21\u3057\u65b9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```java\n//A. \u7121\u540d\u306e\u30a4\u30f3\u30bf\u30fc\u30af\u30e9\u30b9\u3068\u3057\u3066\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u5b9a\u7fa9\u3057\u95a2\u6570\u6e21\u3057\u3059\u308b\nJavaRDD<String> srcLog = sc.textFile(\"Log.txt\");\nJavaRDD<String> errorLog = srcLog.filter(\n      new Function<String,Boolean>(){\n            public Boolean call(String str){return str.contains(\"Error\");}\n   }\n);\n\n//B. \u540d\u524d\u4ed8\u304d\u30af\u30e9\u30b9\u3092\u4f7f\u3063\u3066\u95a2\u6570\u6e21\u3057\nJavaRDD<String> srcLog = sc.textFile(\"Log.txt\");\nclass ContainsError implements Function<String,Boolean>{\n      public Boolean call(String str){return str.contains(\"Error\");}\n}\nJavaRDD<String> errorLog = srcLog.filter(new ContainsError());\n\n//C. \u30d1\u30e9\u30e1\u30fc\u30bf\u3042\u308a\u306e\u540d\u524d\u4ed8\u304d\u30af\u30e9\u30b9\u3092\u4f7f\u3063\u3066\u95a2\u6570\u6e21\u3057\nJavaRDD<String> srcLog = sc.textFile(\"Log.txt\");\nclass Contains implements Function<String,Boolean>{\n      private String argQuery;\n      public Contains(String arg){this.argQuery = arg;}\n      public Boolean call(String str){return str.contains(argQuery);}\n}\nJavaRDD<String> errorLog = srcLog.filter(new Contains(\"Error\"));\n\n//D. Java8\u306e\u30e9\u30e0\u30c0\u5f0f\u3092\u4f7f\u3063\u3066\u95a2\u6570\u6e21\u3057(\u30aa\u30b9\u30b9\u30e1)\nJavaRDD<String> srcLog = sc.textFile(\"Log.txt\");\nJavaRDD<String> errorLog = srcLog.filter(s->s.contains(\"Error\"));\n```\n\n\u3053\u3053\u3067\u306e\u64cd\u4f5c\u306f`srcLog\u3068\u3044\u3046RDD\u81ea\u4f53\u3092\u5909\u5316\u3055\u305b\u308b\u306e\u3067\u306f\u306a\u304f\u3001filter()\u95a2\u6570\u304c\u8fd4\u3059\u306e\u306f\u5168\u304f\u65b0\u3057\u3044RDD\u306eerrorLog\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n[\u88dc\u8db3]`org.apache.spark.api.java.function`\u5185\u306e\u4e3b\u306aJava\u306e\u95a2\u6570\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\n\n| \u95a2\u6570 | \u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u306e\u3042\u308b\u30e1\u30bd\u30c3\u30c9 | \u4f7f\u7528\u65b9\u6cd5 |\n|:-----------|:------------|:------------|\n| Function\\<T1,R>      |  R call(T1) | \u5165\u529b\u3092\u4e00\u3064\u53d6\u308a\u3001\u51fa\u529b\u3092\u4e00\u3064\u8fd4\u3059\u3002map()\u3084filter()\u306a\u3069\u3068\u4e00\u7dd2\u306b\u4f7f\u3046 |\n| Function2\\<T1,T2,R>      |  R call(T1,T2) | \u5165\u529b\u3092\u4e8c\u3064\u53d6\u308a\u3001\u51fa\u529b\u3092\u4e00\u3064\u8fd4\u3059\u3002aggregate()\u3084fold()\u306a\u3069\u3068\u4e00\u7dd2\u306b\u4f7f\u3046 |\n| FlatMapFunction\\<T,R>      |  Iterable<R> call(T) | \u5165\u529b\u3092\u4e00\u3064\u53d6\u308a\u3001\u51fa\u529b\u3092\u8fd4\u3055\u306a\u3044\u3053\u3068\u3082\u3042\u308c\u3070\u3001\u8907\u6570\u8fd4\u3059\u3053\u3068\u3082\u3042\u308b\u3002\u3002flatMap()\u3068\u3044\u3063\u305f\u64cd\u4f5c\u3068\u4e00\u7dd2\u306b\u4f7f\u3046 |\n\n\n\n#####<i class=\"fa fa-battery-quarter\" style=\"font-size:1em;\"></i>\u8981\u7d20\u5358\u4f4d\u306e\u5909\u63db\n\u8981\u7d20\u5358\u4f4d\u306e\u5909\u63db\u3068\u3057\u3066\u306f`map()`\u3084`filter`\u306a\u3069\u304c\u3042\u308a\u307e\u3059\u3002\n\n| \u95a2\u6570 | \u8aac\u660e |\n|:-----------|:------------|\n| map()  | \u5f15\u6570\u306b\u95a2\u6570\u3092\u4e00\u3064\u53d6\u308a\u3001\u305d\u306e\u95a2\u6570\u3092RDD\u5185\u306e\u5404\u8981\u7d20\u306b\u9069\u5fdc\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u65b0\u3057\u3044\u5024\u3068\u3059\u308bRDD\u3092\u8fd4\u3059 |\n| filter()  | \u5f15\u6570\u306b\u95a2\u6570\u3092\u4e00\u3064\u53d6\u308a\u3001\u305d\u306e\u30d5\u30a3\u30eb\u30bf\u95a2\u6570\u304c\u771f\u306b\u306a\u308b\u8981\u7d20\u3060\u3051\u3092\u542b\u3080RDD\u3092\u8fd4\u3059 |\n\n\u4f8b\u3048\u3070\u4ee5\u4e0b\u306fRDD\u5185\u306e\u5404\u5024\u306e\u7d76\u5bfe\u5024\u3092\u53d6\u308b\u4f8b\u3067\u3059\n\n```java\nJavaRDD<Integer> input = sc.parallelize(Arrays.asList(-1,2,-3,4,-5));\nJavaRDD<Integer> output = input.map(i->Math.abs(i));\nSystem.out.println(output.collect());\n```\n\n#####<i class=\"fa fa-battery-half\" style=\"font-size:1em;\"></i>\u8907\u6570\u306e\u51fa\u529b\n\u305d\u308c\u305e\u308c\u306e\u5165\u529b\u304b\u3089\u8907\u6570\u306e\u51fa\u529b\u3092\u751f\u6210\u3057\u305f\u3044\u5834\u5408\u3001`flatMap()`\u304c\u6709\u52b9\u3067\u3059\n\n| \u95a2\u6570 | \u8aac\u660e |\n|:-----------|:------------|\n| flatMap()  | \u5f15\u6570\u306b\u95a2\u6570\u3092\u4e00\u3064\u53d6\u308a\u3001\u305d\u306e\u95a2\u6570\u3092RDD\u5185\u306e\u5404\u8981\u7d20\u306b\u9069\u5fdc\u3057\u3066\u547c\u3070\u308c\u308b\u304c\u3001\u3053\u306e\u95a2\u6570\u306f\u305d\u306e\u7d50\u679c\u3092\u8fd4\u3059Iterator\u3092\u8fd4\u3057\u307e\u3059\u3002\u305d\u308c\u3089\u306eIterator\u5168\u3066\u304b\u3089\u8fd4\u3055\u308c\u305f\u8981\u7d20\u3092\u5024\u3068\u3059\u308bRDD\u3092\u6700\u512a\u7684\u306b\u8fd4\u3057\u307e\u3059 |\n\n\u4f8b\u3048\u3070\u4ee5\u4e0b\u306fRDD\u5185\u306e\u6587\u5b57\u5217\u3092\u7a7a\u767d\u3067\u5206\u5272\u3059\u308b\u4f8b\u3067\u3059\n\n```java\nJavaRDD<String> input = sc.parallelize(Arrays.asList(\"Hello I am a dog\"));\nJavaRDD<String> output = input.flatMap(s -> Arrays.asList(s.split(\" \")));\nSystem.out.println(output.collect());\n```\n\n#####<i class=\"fa fa-battery-three-quarters\" style=\"font-size:1em;\"></i>\u96c6\u5408\u64cd\u4f5c\n\u548c\u3084\u7a4d\u306a\u3069\u6570\u5b66\u306e\u96c6\u5408\u7684\u306a\u64cd\u4f5c\u306e\u95a2\u6570\u3082\u591a\u304f\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n| \u95a2\u6570 | \u8aac\u660e | A[1,2,3],B[3,4,5],C[1,1,2,3]\u3060\u3063\u305f\u5834\u5408 |\n|:-----------|:------------|:------------|\n| union()  | \u305d\u308c\u305e\u308c\u306eRDD\u306e\u548c\u96c6\u5408\u306e\u91cd\u8907\u3092\u8a31\u3057\u305f\u3059\u3079\u3066\u306e\u8981\u7d20\u304b\u3089\u306a\u308bRDD\u3092\u751f\u6210 | A.union(B) >>> [1,2,3,3,4,5] |\n| intersection()  | \u91cd\u8907\u3092\u8a31\u3055\u305a\u305d\u308c\u305e\u308c\u306eRDD\u306e\u7a4d\u96c6\u5408\u306e\u8981\u7d20\u304b\u3089\u306a\u308bRDD\u3092\u751f\u6210 | A.intersection(B) >>> [3] |\n| subtract()  | \u7247\u65b9\u306e\u8981\u7d20\u304b\u3089\u3082\u3046\u4e00\u65b9\u306e\u8981\u7d20\u3092\u9664\u3044\u305f\u8981\u7d20\u304b\u3089\u306a\u308bRDD\u3092\u751f\u6210 | A.substract(B) >>> [1,2] |\n| distinct()  | \u4e00\u3064\u306eRDD\u5185\u90e8\u3067\u306e\u91cd\u8907\u8981\u7d20\u3092\u4e00\u3064\u306b\u307e\u3068\u3081\u305f\u8981\u7d20\u304b\u3089\u306a\u308bRDD\u3092\u751f\u6210 | C.distinct() >>> [1,2,3] |\n\n####__B. \u30a2\u30af\u30b7\u30e7\u30f3__\n\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u30c9\u30ea\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0(main\u95a2\u6570\u3092\u6301\u3063\u3066\u308b)\u306b\u6700\u7d42\u7684\u306a\u5024\u3092\u8fd4\u3057\u305f\u308a\u3001\u30c7\u30fc\u30bf\u3092\u5916\u90e8\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u66f8\u304d\u51fa\u3059\u64cd\u4f5c\u3067\u3059\u3002RDD\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u884c\u3046\u969b\u3001\u5b9f\u969b\u306b\u51fa\u529b\u3092\u751f\u6210\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u3067\u3001\u305d\u306eRDD\u304c\u5fc5\u8981\u3068\u3059\u308b\u5909\u63db\u306e\u8a55\u4fa1\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u95a2\u6570\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n| \u95a2\u6570 | \u8aac\u660e |\n|:-----------|:------------|\n|count()      |  \u8981\u7d20\u306e\u500b\u6570\u3092\u8fd4\u3059 | \n|take(int num)      |  \u8907\u6570\u306e\u8981\u7d20\u3092\u5f15\u6570\u306e\u6570\u3060\u3051\u96c6\u3081\u3066\u304f\u308b | \n|collect()      |  RDD\u5168\u4f53\u3092\u53d6\u308a\u51fa\u3059(\u5c0f\u3055\u3044\u30b5\u30a4\u30ba\u5834\u5408\u306e\u307f) | \n|saveAsTestFile()      |  \u5206\u6563\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u306b\u66f8\u304d\u51fa\u3059 | \n|saveAsSequenceFile()      |  \u5206\u6563\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u306b\u66f8\u304d\u51fa\u3059 | \n\n\u307e\u305f\u3001\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u547c\u3076\u305f\u3073\u306bRDD\u306f\u6700\u521d\u304b\u3089\u8a08\u7b97\u3057\u76f4\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u975e\u52b9\u7387\u306a\u5834\u5408\u304c\u3042\u308b\u306e\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u4e2d\u9593\u7d50\u679c\u306b\u5bfe\u3057\u3066\u6c38\u7d9a\u5316\u3059\u308b\u3053\u3068\u304c\u5fc5\u8981\u306a\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\n\n#####<i class=\"fa fa-battery-quarter\" style=\"font-size:1em;\"></i>\u96c6\u8a08\n`RDD`\u306e\u4f55\u304b\u306e\u5024\u306e\u5408\u8a08\u3092\u3068\u308a\u305f\u3044\u6642\u306a\u3069\u3001\u96c6\u8a08\u3092\u884c\u3046\u3053\u3068\u306b\u95a2\u3057\u3066`reduce()`\u304c\u6709\u52b9\u3067\u3059\u3002\n\n```java\nJavaRDD<Integer> input = sc.parallelize(Arrays.asList(1,2,3,4,5,6,7,8,9,10));\nInteger Result = input.reduce((a, b) -> (a + b));\nSystem.out.println(Result);\n```\n\n`reduce()`\u306f`RDD`\u5185\u306e\u4efb\u610f\u306e\u540c\u3058\u578b\u306e2\u8981\u7d20\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3092\u884c\u3044\u3001\u305d\u306e\u578b\u306e\u8981\u7d20\u3092\u8fd4\u3059\u95a2\u6570\u3092\u53d6\u308b\u95a2\u6570\u3002\n\u4eca\u56de\u306f`java8`\u306e\u30e9\u30e0\u30c0\u3067\u4e8c\u8981\u7d20\u3092\u52a0\u7b97\u3057\u3066\u4e00\u3064\u306b\u3057\u3066\u8fd4\u3059\u95a2\u6570\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\u4e0a\u306e\u4f8b\u3060\u3068\u7d50\u679c\u306f55\u3068\u306a\u308b\u306f\u305a\u3067\u3059\u3002\u4ed6\u306b\u3082\u3001`reduce`\u306b\u3088\u304f\u4f3c\u3066\u3044\u308b`fold()`\u3001\u8fd4\u3059\u578b\u304c\u635c\u67fb\u5bfe\u8c61\u306e`RDD`\u3068\u540c\u3058\u3067\u306a\u304f\u3066\u3082\u826f\u3044`aggregate()`\u306a\u3069\u3044\u308d\u3044\u308d\u3042\u308a\u307e\u3059\u3002\n\n| \u95a2\u6570 | \u8aac\u660e |\n|:-----------|:------------|\n|reduce(func)      |  \u7d50\u5408\u51e6\u7406\u3092\u4e26\u5217\u306b\u884c\u3046 | \n|fold(zero)(func)      |  reduce()\u3068\u898b\u305f\u76ee\u306f\u540c\u3058\u3001\u4e2d\u8eab\u306f\u82e5\u5e72\u9055\u3046\u3063\u307d\u304f\u3001\u5358\u4f4d\u5143\u7684\u306a\u5024(\u305d\u306e\u64cd\u4f5c\u3092\u9069\u5fdc\u3057\u3066\u3082\u5909\u308f\u3089\u306a\u3044)\u3092\u53d7\u3051\u53d6\u308b | \n|aggregate(func)      |  reduce()\u3068\u540c\u3058\u3060\u304c\u3001\u8fd4\u3059\u578b\u304c\u6271\u3046`RDD`\u306e\u8981\u7d20\u3068\u9055\u3046\u5834\u5408\u306b\u4f7f\u3046 | \n\n[\u88dc\u8db3]\n\u307e\u305f\u3001`rdd.reduceByKey(func)`\u306f`rdd.groupByKey().mapValues(value -> value.reduce(func))`\u3068\u540c\u3058`RDD`\u3092\u751f\u6210\u3057\u307e\u3059\u304c\u3001\u5404\u30ad\u30fc\u306b\u5bfe\u3059\u308b\u5024\u306e\u30ea\u30b9\u30c8\u3092\u751f\u6210\u3059\u308b\u30b9\u30c6\u30c3\u30d7\u3092\u7701\u3051\u308b\u3053\u3068\u304b\u3089\u52b9\u7387\u304c\u512a\u308c\u3066\u3044\u308b\u3068\u8a00\u3048\u308b\u3089\u3057\u3044\u3002\n\n#####<i class=\"fa fa-battery-half\" style=\"font-size:1em;\"></i>\u30c7\u30fc\u30bf\u3092\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u8fd4\u3059\u3082\u306e\n`collect()`\u3084`take()`\u306a\u3069\u30c7\u30fc\u30bf\u306e\u4e00\u90e8\u3084\u5168\u90e8\u3092\u901a\u5e38\u5893\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3084\u5024\u3068\u3057\u3066\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u8fd4\u3059`RDD`\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u8fba\u308a\u306f\u3059\u3067\u306b\u30b3\u30fc\u30c9\u4e0a\u3067\u7d39\u4ecb\u3057\u3066\u3044\u308b\u306e\u3067\u8a73\u3057\u304f\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n| \u95a2\u6570 | \u8aac\u660e |\n|:-----------|:------------|\n|take(n)      |  RDD\u304b\u3089n\u500b\u306e\u8981\u7d20\u3092\u8fd4\u3059 | \n|top(n)      |  RDD\u306e\u5148\u982d\u304b\u3089n\u500b\u307e\u3067\u306e\u8981\u7d20\u3092\u8fd4\u3059 | \n|takeOrdered(n)(ordering)     |  \u6307\u5b9a\u3055\u308c\u305f\u9806\u5e8f\u3067RDD\u304b\u3089n\u500b\u8981\u7d20\u3092\u8fd4\u3059 | \n|takeSample(withReplacement,n,seed)      |  RDD\u304b\u3089\u30e9\u30f3\u30c0\u30e0\u306bn\u500b\u8981\u7d20\u3092\u8fd4\u3059 | \n|collect()      |  RDD\u3059\u3079\u3066\u306e\u8981\u7d20\u3092\u8fd4\u3059 | \n|count()      |  RDD\u306e\u8981\u7d20\u6570\u3092\u8fd4\u3059 | \n|countByValue()      |  RDD\u306e\u5404\u8981\u7d20\u306e\u51fa\u73fe\u56de\u6570\u3092\u8fd4\u3059 | \n\n#####<i class=\"fa fa-battery-three-quarters\" style=\"font-size:1em;\"></i>\u305d\u306e\u4ed6\n`RDD`\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u884c\u3046\u304c\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u306f\u4f55\u3082\u8fd4\u3055\u305a\u3001\u5916\u90e8\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u66f8\u304d\u8fbc\u307f\u306a\u3069\u3057\u305f\u3044\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u6642`foreach()`\u304c\u6709\u52b9\u3067\u3059\u3002\n`foreach()`\u3067\u306f`RDD`\u5185\u306e\u5404\u8981\u7d20\u306b\u5bfe\u3057\u3066\u6f14\u7b97\u3092\u884c\u3044\u3001\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u306f\u4f55\u3082\u8fd4\u3055\u305a\u306b\u6e08\u307f\u307e\u3059\u3002\n\n| \u95a2\u6570 | \u8aac\u660e |\n|:-----------|:------------|\n|foreach(func)      |  RDD\u4e2d\u306e\u5404\u8981\u7d20\u306b\u6307\u5b9a\u3057\u305f\u95a2\u6570\u3092\u9069\u7528 | \n\n###\u2164. `RDD`\u5909\u63db\u306e\u9045\u5ef6\u8a55\u4fa1\n\u524d\u8ff0\u3057\u305f\u901a\u308a\u3001`Spark`\u306f\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u884c\u308f\u308c\u308b\u307e\u3067\u5909\u63db\u306e\u51e6\u7406\u3092\u59cb\u3081\u307e\u305b\u3093\u3002`Spark`\u306f\u305d\u306e\u64cd\u4f5c\u3092\u5373\u5ea7\u306b\u5b9f\u884c\u305b\u305a\u3001\u305d\u306e\u64cd\u4f5c\u304c\u8981\u6c42\u3055\u308c\u305f\u3053\u3068\u3092\u793a\u3059metadata\u3092\u5185\u90e8\u7684\u306b\u8a18\u9332\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u305d\u306e\u4e0a\u3067`Spark`\u306f\u9045\u5ef6\u8a55\u4fa1\u3092\u884c\u3044\u64cd\u4f5c\u3092\u30b0\u30eb\u30fc\u30d7\u3068\u3057\u3066\u307e\u3068\u3081\u3001\u30c7\u30fc\u30bf\u306b\u5bfe\u3059\u308b\u64cd\u4f5c\u306e\u56de\u6570\u3092\u6e1b\u3089\u3057\u3066\u3044\u307e\u3059(\u5185\u90e8\u7684\u306b\u3042\u308b\u7a0b\u5ea6\u6700\u9069\u5316)\u3002\u305d\u306e\u305f\u3081`Hadoop Mapreduce`\u306e\u56de\u6570\u3092\u6700\u5c0f\u9650\u306b\u3059\u3079\u304f\u3069\u306e\u3088\u3046\u306b\u64cd\u4f5c\u3092\u307e\u3068\u3081\u308b\u304b\u307f\u305f\u3044\u306a\u4e8b\u306f\u8003\u3048\u306a\u304f\u3066\u3082\u5927\u4e08\u592b\u305d\u3046\u3002\n\n###\u2165. `RDD`\u306e\u4f9d\u5b58\u95a2\u4fc2\n- `RDD`\u306e\u5909\u63db\u306b\u304a\u3044\u3066\u3001\u5909\u63db\u306e\u5143(\u89aa)\u306eRDD\u3068\u5909\u63db\u5f8c(\u5b50)\u3068\u306e\u9593\u306b\u306f\u4f9d\u5b58\u95a2\u4fc2\u304c\u5b9a\u7fa9\u3055\u308c\u308b\u3002\n- \u4f9d\u5b58\u95a2\u4fc2\u306f\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0(RDD\u306e\u5909\u63db\u30c1\u30a7\u30a4\u30f3\u3092\u51e6\u7406\u53ef\u80fd\u306a\u30bf\u30b9\u30af\u306b\u5206\u5272\u3059\u308b)\u306b\u95a2\u4fc2\u3059\u308b\u3002\n- \u72ed\u3044\u4f9d\u5b58\u95a2\u4fc2(\u89aa\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u304c\u5358\u4e00\u306e\u5b50\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u751f\u6210\u306b\u95a2\u308f\u3063\u3066\u3044\u308b\u4f9d\u5b58\u95a2\u4fc2)\u3068\u3001\u5e83\u3044\u4f9d\u5b58\u95a2\u4fc2(\u89aa\u306e\u30da\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u304c\u8907\u6570\u306e\u5b50\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u751f\u6210\u306b\u95a2\u308f\u3063\u3066\u3044\u308b\u4f9d\u5b58\u95a2\u4fc2)\u304c\u3042\u308b\n\n###\u2166. `RDD`\u306e\u8010\u6545\u969c\u6027\n- `RDD`\u306f\u30c7\u30fc\u30bf\u305d\u306e\u3082\u306e\u3067\u306f\u306a\u304f\u3001\u300c`RDDs`\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u884c\u3063\u305f\u5909\u63db\u300d\u3092\u8a18\u9332\u3059\u308b\u3053\u3068\u3067\u52b9\u7387\u7684\u306a\u8010\u969c\u5bb3\u6027\u3092\u5b9f\u73fe\u3057\u3066\u3044\u308b\u3002\n- \u3082\u3057`RDD`\u306e\u4e2d\u306e\u4e00\u90e8\u5206\u304c\u30ed\u30b9\u30c8\u3057\u305f\u5834\u5408\u3001`RDD`\u306f\u305d\u306e\u30c7\u30fc\u30bf\u304c\u4ed6\u306e`RDD`\u304b\u3089\u3069\u306e\u3088\u3046\u306b\u5909\u63db\u3055\u308c\u3066\u751f\u3058\u305f\u30c7\u30fc\u30bf\u304b\u3092\u4fdd\u6301\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30b3\u30b9\u30c8\u306e\u5927\u304d\u306a`\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3(*5)`\u306a\u3057\u306b\u8fc5\u901f\u306b\u518d\u8a08\u7b97/\u5fa9\u65e7\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n```\n(*5)\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\n\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3084\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u306e\u5197\u9577\u306a\u3001\u30ea\u30bd\u30fc\u30b9\u9593\u3067\u4e00\u8cab\u6027\u3092\u4fdd\u3061\u306a\u304c\u3089\u60c5\u5831\u3092\u5171\u6709\u3059\u308b\u51e6\u7406\u3092\u610f\u5473\u3059\u308b\u3002\n\u4fe1\u983c\u6027\u3084fault tolerance\u6027\u3084\u30a2\u30af\u30bb\u30b9\u5bb9\u6613\u6027\u3092\u5f37\u5316\u3059\u308b\u3002\n```\n\n###\u2167. `PairRDD`\nhttp://www.task-notes.com/entry/20160131/1454214972\n\u306b\u3068\u3066\u3082\u307e\u3068\u307e\u3063\u3066\u3044\u307e\u3057\u305f\u3002Java\u306b\u306f\u7d44\u307f\u8fbc\u307f\u306e`Tuple`(*6)\u578b\u304c\u306a\u3044\u305f\u3081\u3001`Spark`\u306eJavaAPI\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b`Tuple2`\u30af\u30e9\u30b9\u3092\u7528\u3044\u3066\u30e6\u30fc\u30b6\u306f\u30bf\u30d7\u30eb\u3092\u751f\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```\n(*6)Tupple:\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3084\u30d5\u30a1\u30a4\u30eb\u3067\u3044\u30461\u884c\u30fb1\u30ec\u30b3\u30fc\u30c9\u306e\u30c7\u30fc\u30bf\u306e\u3088\u3046\u306a\u3082\u306e\u3002\n\u3064\u307e\u308a\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30921\u3064\u306e\u584a\u3068\u3057\u3066\u6271\u3048\u308b\u3082\u306e\u3002\n\u30bf\u30d7\u30eb\u3092\u4f7f\u3063\u3066\u3001\u30e1\u30bd\u30c3\u30c9\u30fb\u95a2\u6570\u304b\u3089\u8907\u6570\u306e\u5024\u3092\u4e00\u5ea6\u306b\u8fd4\u3059\u3053\u3068\u304c\u51fa\u6765\u308b\u306e\u3067\u3001\u975e\u5e38\u306b\u4fbf\u5229\u3089\u3057\u3044\u3002\n```\n\n-----------------\n\n##<i class=\"fa fa-th\" aria-hidden=\"true\"></i>`Spark`\u51e6\u7406\u306e\u6d41\u308c[\u88dc\u8db3]\n\n####\u2160. \u7cfb\u8b5c\u306e\u30b9\u30c6\u30fc\u30b8\u3078\u306e\u5206\u5272\n- `DAGScheduler`\u304c\u3001\u7cfb\u8b5c\u3092\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u306b\u5206\u5272\u3059\u308b\n- \u30b9\u30c6\u30fc\u30b8\u306f\u7cfb\u8b5c\u4e2d\u3067\u72ed\u3044\u4f9d\u5b58\u95a2\u4fc2\u304c\u9023\u7d9a\u3057\u3066\u767a\u751f\u3059\u308b\u7bc4\u56f2(\u4f9d\u5b58\u95a2\u4fc2\u306e\u7a2e\u985e\u306f\u5909\u63db\u306e\u7a2e\u985e\u3067\u304d\u307e\u308b)\n- \u7cfb\u8b5c\u4e2d\u3067\u5e83\u3044\u4f9d\u5b58\u95a2\u4fc2\u304c\u767a\u751f\u3059\u308b\u5909\u63db\u95a2\u6570\u3092\u51e6\u7406\u3059\u308b\u5834\u5408\u306f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u9593\u3067\u30b7\u30e3\u30c3\u30d5\u30eb\u3068\u547c\u3070\u308c\u308b\u591a\u6570\u5bfe\u591a\u6570\u306e\u901a\u4fe1\u304c\u767a\u751f\u3059\u308b\u3002\n- \u3053\u306e\u5206\u5272\u306f\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3054\u3068\u306b\u4e00\u3064\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u304c\u307e\u3068\u3081\u3066\u8a08\u7b97\u3067\u304d\u308b\u5909\u63db\u306e\u7bc4\u56f2\u3092\u6c7a\u3081\u308b\u305f\u3081\n\n#####\u30c7\u30fc\u30bf\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306b\u3064\u3044\u3066\nhttp://www.ne.jp/asahi/hishidama/home/tech/scala/spark/partition.html\n\n> \u5206\u6563\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u901a\u4fe1\u306f\u975e\u5e38\u306b\u30b3\u30b9\u30c8\u304c\u9ad8\u304f\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u6700\u4f4e\u9650\u306b\u6291\u3048\u308b\u3053\u3068\u306f\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u5927\u5e45\u306a\u6539\u5584\u306b\u3064\u306a\u304c\u308a\u307e\u3059\u3002\n`Spark`\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f`RDD`\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3092\u5236\u5fa1\u3057\u3066\u901a\u4fe1\u3092\u524a\u6e1b\u3057\u3066\u3044\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u4f8b\u3048\u3070`Spark`\u306f\u30ad\u30fc\u306e\u96c6\u5408\u304c\u307e\u3068\u307e\u3063\u3066\u3042\u308b\u30ce\u30fc\u30c9\u306b\u73fe\u308c\u308b\u3053\u3068\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u4fdd\u8a3c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u7279\u306b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u304c\u5f79\u7acb\u3064\u306e\u306f\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u304c\u7d50\u5408\u306e\u3088\u3046\u306a\u30ad\u30fc\u64cd\u4f5c\u3092\u8907\u6570\u56de\u518d\u5229\u7528\u3055\u308c\u308b\u5834\u5408\u306b\u9650\u308a\u307e\u3059\u3002\u3068\u3044\u3046\u306e\u3082`Spark`\u306e\u64cd\u4f5c\u306e\u591a\u304f\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8d8a\u3057\u306b\u30ad\u30fc\u306b\u57fa\u3065\u304f\u30b7\u30e3\u30c3\u30d5\u30eb\u3092\u8d77\u3053\u3057\u307e\u3059\u3002\u305d\u308c\u3089\u306f\u3059\u3079\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306e\u6069\u6075\u3092\u53d7\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n>`Java`\u3084`Scala`\u3067\u306f`partitioner`\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u7528\u3044\u3066`RDD`\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306e\u65b9\u6cd5\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3067`spark.Partitioner`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5024\u3068\u3057\u3066\u3001`RDD\u306b\u5bfe\u3057\u3066\u305d\u308c\u305e\u308c\u306e\u30ad\u30fc\u306e\u884c\u304d\u5148\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u77e5\u3089\u305b\u308b\u3082\u306e\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\n>`reduceByKey()`\u306e\u3088\u3046\u306b\u5358\u4e00\u306e`RDD`\u306b\u5bfe\u3057\u3066\u50cd\u304f\u64cd\u4f5c\u3092\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5316\u3055\u308c\u305f`RDD`\u4e0a\u3067\u52d5\u4f5c\u3055\u305b\u308b\u3068\u3001\u5404\u30ad\u30fc\u306e\u3059\u3079\u3066\u306e\u5024\u306f\u3001\u5358\u4e00\u30de\u30b7\u30f3\u4e0a\u3067\u30ed\u30fc\u30ab\u30eb\u306b\u8a08\u7b97\u3055\u308c\u3001\u30ed\u30fc\u30ab\u30eb\u306b`reduce()`\u3055\u308c\u305f\u6700\u7d42\u306e\u5024\u3060\u3051\u304c\u3001\u5404\u30ef\u30fc\u30ab\u30fc\u30ce\u30fc\u30c9\u304b\u3089\u30de\u30b9\u30bf\u30fc\u306b\u623b\u3055\u308c\u307e\u3059\u3002\n\n>\u307e\u305f\u3001\u4e8c\u3064\u306e`RDD`\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3059\u308b\u5834\u5408\u306f\u3001\u4e8b\u524d\u306b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u304c\u884c\u308f\u308c\u3066\u3044\u308b\u3068\u3001\u6700\u4f4e\u3067\u3082\u4e8c\u3064\u306e`RDD`\u306e\u3046\u3061\u306e\u7247\u65b9\u306f\u30b7\u30e3\u30c3\u30d5\u30eb\u3055\u308c\u307e\u305b\u3093\u3002\n\n>\u3055\u3089\u306b\u9a5a\u304f\u3053\u3068\u306b\u3001`Spark`\u306f\u305d\u308c\u305e\u308c\u306e\u64cd\u4f5c\u304c\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306b\u53ca\u307c\u3059\u5185\u90e8\u7684\u306a\u5f71\u97ff\u3092\u77e5\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30c7\u30fc\u30bf\u30d1\u30fc\u30c6\u30b7\u30e7\u30cb\u30f3\u30b0\u3092\u884c\u3046\u64cd\u4f5c\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u308b`RDD`\u306b\u3001\u81ea\u52d5\u7684\u306b`partitioner`\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n>\u88dc\u8db3\u3067\u3059\u304c`RDD`\u306b\u5bfe\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3092\u884c\u3044\u3001\u305d\u308c\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u305f`RDD`\u3092\u5909\u63db\u306e\u5bfe\u8c61\u3068\u3059\u308b\u306e\u3067\u3042\u308c\u3070`persist()`\u3067\u6c38\u7d9a\u5316\u3059\u3079\u304d\u3067\u3059\u3002\u7406\u7531\u3068\u3057\u3066\u306f\u3001\u305d\u308c\u4ee5\u964d\u306e`RDD`\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3067\u751f\u6210\u3057\u305f`RDD`\u306e\u7cfb\u7d71\u5168\u4f53\u3092\u8a55\u4fa1\u3057\u76f4\u3059\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u524d\u306e`RDD`\u306b\u4f55\u5ea6\u3082\u30cf\u30c3\u30b7\u30e5\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u304c\u884c\u308f\u308c\u3066\u3057\u307e\u3044\u610f\u5473\u304c\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\n####\u2161. \u30b9\u30c6\u30fc\u30b8\u306e\u5b9f\u884c\u8981\u5426\u3092\u5224\u5b9a\u3059\u308b\n- `Spark`\u3067\u306f\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u3067\u5236\u5fa1\u3055\u308c\u3066\u308b\u8907\u6570\u306e\u30b8\u30e7\u30d6\u3067\u540c\u3058`RDD`\u3092\u5171\u6709\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n- \u5171\u6709\u3057\u3066\u3044\u308b`RDD`\u304c\u3059\u3067\u306b\u8a08\u7b97\u6e08\u307f\u3067\u3001\u30c7\u30a3\u30b9\u30af\u3084\u30e1\u30e2\u30ea\u306b\u5b9f\u614b\u3092\u6301\u3064\u5834\u5408\u3001\u305d\u306e`RDD`\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306e\u524d\u6bb5\u306e\u30b9\u30c6\u30fc\u30b8\u5b9f\u884c\u3092\u7701\u7565\u3067\u304d\u308b\n\n####\u2162. \u30bf\u30b9\u30af\u3092\u751f\u6210\u3059\u308b\n- `DAGScheduler`\u304c\u5b9f\u884c\u5bfe\u8c61\u306e\u500b\u3005\u306e\u30b9\u30c6\u30fc\u30b8\u306b\u3064\u3044\u3066\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3059\u308b\n- \u5404\u30b9\u30c6\u30fc\u30b8\u306b\u304a\u3044\u3066\u3001\u30b9\u30c6\u30fc\u30b8\u5185\u306e\u6700\u5f8c\u306e`RDD`\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u6570\u304b\u3089\u5f53\u8a72\u30b9\u30c6\u30fc\u30b8\u306e\u30bf\u30b9\u30af\u6570\u304c\u6c7a\u307e\u308b\n- \u30b9\u30c6\u30fc\u30b8\u306b\u542b\u307e\u308c\u308b`RDD`\u306e\u5909\u63db\u30c1\u30a7\u30a4\u30f3\u304b\u3089\u3001\u30bf\u30b9\u30af\u3042\u305f\u308a\u306e\u51e6\u7406\u7bc4\u56f2\u304c\u6c7a\u307e\u308b\n \n####\u2163. \u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u5834\u6240\u3092\u6c7a\u3081\u308b\n- \u30d7\u30ea\u30d5\u30a1\u30fc\u30c9\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u304c`RDD`\u306b\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u305d\u308c\u3092\u30d2\u30f3\u30c8\u306b\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3092\u9078\u3076\n- \u306a\u3044\u5834\u5408\u306f\u89aa\u3092\u305f\u3069\u3063\u3066\u6700\u521d\u306b\u898b\u3064\u304b\u3063\u305f\u3082\u306e\u3092\u4f7f\u3046\n- \u30d7\u30ea\u30d5\u30a1\u30fc\u30c9\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u306f`RDD`\u306e\u7a2e\u985e\u3054\u3068\u306b\u5b9a\u7fa9\u3055\u308c\u308b\n- \u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u3092\u3082\u3068\u306b\u7570\u6027\u3055\u308c\u308b`RDD`\u306f\u30d7\u30ea\u30d5\u30a1\u30fc\u30c9\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u6301\u3064\u306e\u3067\n- \u3044\u3064\u304b\u306f\u30d7\u30ea\u30d5\u30a1\u30fc\u30c9\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u898b\u3064\u304b\u308b\n\n####\u2164. \u30bf\u30b9\u30af\u306e\u5b9f\u884c\u9806\u5e8f\u3092\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3059\u308b\n- \u30b9\u30c6\u30fc\u30b8\u3092\u69cb\u7bc9\u3059\u308b\u30bf\u30b9\u30af\u7fa4\u306f\u300c\u30bf\u30b9\u30af\u30bb\u30c3\u30c8\u300d\u3068\u3057\u3066`TaskScheduler`\u306b\u6e21\u3055\u308c\u308b\n- `TaskScheduler`\u306f\u30bf\u30b9\u30af\u30bb\u30c3\u30c8\u5358\u4f4d\u3067\u5b9f\u884c\u9806\u5e8f\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3092\u884c\u3046\u3002\n- `TaskScheduler`\u306f\u30bf\u30b9\u30af\u30bb\u30c3\u30c8\u306e\u5b9f\u884c\u9806\u5e8f\u3092\u6c7a\u5b9a\u3059\u308b\u307e\u3067\u306b\u3001\u30bf\u30b9\u30af\u30bb\u30c3\u30c8\u3092\u767b\u9332\u3057\u3066\u304a\u304f\u300c\u30d7\u30fc\u30eb\u300d\u3092\u4e00\u3064\u4ee5\u4e0a\u4fdd\u6301\u3002\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u65b9\u6cd5\u306b\u3088\u3063\u3066\u30d7\u30fc\u30eb\u306e\u6570\u3084\u4f7f\u3044\u65b9\u304c\u7570\u306a\u308b\n- \u6a19\u6e96\u3067\u4e8c\u3064\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u65b9\u304c\u3042\u308b\n\n| \u540d\u79f0 | \u8aac\u660e |\n|:-----------|:------------|\n|FIFO     |  \u5358\u4e00\u306e\u30d7\u30fc\u30eb\u3092\u7528\u3044\u3066\u3001\u30ad\u30e5\u30fc\u306e\u3088\u3046\u306b\u6271\u3046\u3002\u30d7\u30fc\u30eb\u306b\u767b\u9332\u3055\u308c\u305f\u30bf\u30b9\u30af\u30bb\u30c3\u30c8\u3092\u9806\u306b\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3059\u308b | \n|FAIR     |  \u8907\u6570\u306e\u30d7\u30fc\u30eb\u3092\u7528\u3044\u3066\u3001\u5404\u30d7\u30fc\u30eb\u304b\u3089\u516c\u5e73\u306b\u30a2\u30b9\u30af\u30bb\u30c3\u30c8\u3092\u53d6\u308a\u51fa\u3057\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3059\u308b | \n\n\n####\u30ad\u30fc\u30ef\u30fc\u30c9\n\n| \u30ad\u30fc\u30ef\u30fc\u30c9 | \u8aac\u660e |\n|:-----------|:------------|\n|\u30af\u30e9\u30a4\u30a2\u30f3\u30c8      |  \u30b8\u30e7\u30d6\u306e\u30ad\u30c3\u30af\u3092\u62c5\u5f53 | \n|\u30de\u30b9\u30bf      |  \u30b8\u30e7\u30d6\u306e\u30ad\u30c3\u30af\u3092\u62c5\u5f53 | \n|\u30ef\u30fc\u30ab      |  \u8a08\u7b97\u8cc7\u6e90\u306e\u63d0\u4f9b\u30fb\u7ba1\u7406\u3092\u62c5\u5f53 | \n|\u30c9\u30e9\u30a4\u30d0      |  \u30e6\u30fc\u30b6\u304c`RDD`\u306e\u5909\u63db\u3092\u8a18\u8ff0\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0 |\n| \u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc | \u30ef\u30fc\u30ab\u30fc\u4e0a\u3067\u52d5\u4f5c\u3057\u3001\u5b9f\u969b\u306e\u8a08\u7b97\u3092\u62c5\u5f53 | \n|\u30b8\u30e7\u30d6       |  Spark\u306e\u51e6\u7406\u5185\u3067\u30a2\u30af\u30b7\u30e7\u30f3\u7cfb\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u30b8\u30e7\u30d6\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002`Spark`\u3067\u306f`RDD`\u3068\u547c\u3070\u308c\u308b\u62bd\u8c61\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u5909\u63db\u3092\u7e70\u308a\u8fd4\u3057\u3066\u76ee\u7684\u306e\u7d50\u679c\u3092\u5f97\u308b\u3002\u3053\u306e\u4e00\u9023\u306e\u51e6\u7406\u3092\u30b8\u30e7\u30d6\u3068\u3044\u3046 | \n|\u30b9\u30c6\u30fc\u30b8      |  \u30b8\u30e7\u30d6\u306f\u30c7\u30fc\u30bf\u306e\u30b7\u30e3\u30c3\u30d5\u30eb\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u8907\u6570\u306e\u30b9\u30c6\u30fc\u30b8\u306b\u5206\u5272\u3055\u308c\u308b | \n|\u30bf\u30b9\u30af       |  \u30b8\u30e7\u30d6\u3092\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u304c\u5b9f\u884c\u53ef\u80fd\u306a\u7c92\u5ea6\u306b\u5206\u5272\u3057\u305f\u51e6\u7406\u5358\u4f4d\u3002\u30b9\u30c6\u30fc\u30b8\u306f\u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u6301\u3061\u3001\u30ef\u30fc\u30ab\u30fc\u306b\u5bfe\u3057\u3066\u9001\u3089\u308c\u308b\u4e26\u5217\u5b9f\u884c\u53ef\u80fd\u306a\u51e6\u7406\u3092\u30bf\u30b9\u30af\u3068\u3044\u3046 | \n|\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9 | \u30b8\u30e7\u30d6\u3092\u30bf\u30b9\u30af\u306b\u5206\u5272\u3057\u305f\u308a\u3001\u30bf\u30b9\u30af\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3078\u306e\u5272\u308a\u5f53\u3066\u3092\u62c5\u5f53 | \n\n\n\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u306b\u3068\u3066\u3082\u8a73\u3057\u304f\u66f8\u3044\u3066\u3042\u308a\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\nhttp://www.ne.jp/asahi/hishidama/home/tech/scala/spark/RDD.html\nhttp://dev.classmethod.jp/etc/apache-spark_rdd_investigation/\nhttp://www.slideshare.net/hadoopxnttdata/apache-spark\n\n\n##<i class=\"fa fa-th\" aria-hidden=\"true\"></i>\u30c7\u30fc\u30bf\u306eI/O[\u88dc\u8db3]\n\n###<i class=\"fa fa-file\" aria-hidden=\"true\"></i>\u30d5\u30a1\u30a4\u30eb\u306e\u30ed\u30fc\u30c9\u3068\u30bb\u30fc\u30d6\n\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a`bin/data`\u5185\u306e`JSON`\u30d5\u30a1\u30a4\u30eb\u3092\u307e\u3068\u3081\u3066\u4e00\u3064\u306e`RDD`\u3068\u3057\u3066\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002(\u3053\u3053\u3067\u306f`JSON`\u306e\u6271\u3044\u306f\u89e6\u308c\u307e\u305b\u3093\u304c`java`\u306e`JSON`\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u306fhttps://github.com/FasterXML/jackson \u306a\u3069\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u306e\u5834\u5408\u3082\u3001\u4e00\u5ea6\u30c6\u30ad\u30b9\u30c8\u3068\u3057\u3066\u8aad\u307f\u8fbc\u3093\u3067\u304b\u3089\u51e6\u7406\u3059\u308b\u3053\u3068\u3068\u306a\u308a\u307e\u3059\u3002)\n\n![SaveFileSample.java - SparkTest - [~_Desktop_SORACOM_SoraPractice_IntelliJPractice].png](https://qiita-image-store.s3.amazonaws.com/0/56510/94280aad-a56c-fd5b-cf62-e4fdaeb5c27a.png)\n\n\n\u4eca\u56de\u306f\u4f8b\u3068\u3057\u3066\u3001`Twitter`\u306e6\u3064\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u76f4\u8fd1\u306e\u545f\u3044\u305f\u30c7\u30fc\u30bf200\u4ef6\u3092`Twittwer`\u306e[`RESTApi`](https://dev.twitter.com/rest/public)\u3067\u53d6\u5f97\u3057\u3066\u304d\u305f`json`\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u3066\u3044\u3066\u3001\n\n\u305d\u308c\u3089\u306e\u3064\u3076\u3084\u304d\u306ejson\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u545f\u3044\u305f\u30c6\u30ad\u30b9\u30c8\u306e\u884c\u306e\u307f\u3092\u62bd\u51fa(`input.filter(s -> s.contains(\"\\\"text\\\":\"))`)\u305d\u306e\u30c6\u30ad\u30b9\u30c8\u4e2d\u306b\u300c\u7b11\u300d\u3068\u542b\u307e\u308c\u3066\u3044\u308b\u3082\u306e\u3060\u3051\u6b8b\u3059\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u6700\u5f8c\u306b\u305d\u306e\u7d50\u679c\u3092`result/output01`\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u66f8\u304d\u51fa\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067`saveAsTextFile()`\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u306e\u30d1\u30b9\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3057\u3066\u6271\u308f\u308c\u3001`Spark`\u306f\u305d\u306e\u4e0b\u306b\u8907\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001`Spark`\u306f\u8907\u6570\u306e\u30ce\u30fc\u30c9\u304b\u3089\u51fa\u529b\u3092\u66f8\u304d\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-29 15.54.50.png](https://qiita-image-store.s3.amazonaws.com/0/56510/c17632e0-04d6-90e7-86ef-f676c0306582.png)\n\n\u7d50\u679c\u306f\u4e0a\u8a18\u306e\u901a\u308a\u3067\u3059\u3001`json`\u306e\u30d5\u30a1\u30a4\u30eb\u3054\u3068\u306b\u7d50\u679c\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u751f\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n`part-00000`\u306b\u95a2\u3057\u3066\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u304c\u958b\u3051\u307e\u305b\u3093\u3067\u3057\u305f\u3001\u3053\u308c\u306f\u51fa\u529b\u3059\u308b\u3082\u306e\u304c\u306a\u304b\u3063\u305f\u305f\u3081\u3060\u3068\u601d\u308f\u308c\u307e\u3059(\u300c\u7b11\u300d\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u304b\u3063\u305f)\n\n\u6700\u5f8c\u306b\u3053\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8f09\u305b\u3066\u304a\u304d\u307e\u3059\u3002\n\n```TwitterSample.java\nimport org.apache.spark.api.java.JavaRDD;\nimport org.apache.spark.api.java.JavaSparkContext;\n\n/**\n * Created by hirokinaganuma on 2016/09/29.\n */\npublic class TwitterSample {\n    public static void main(String[] args) throws Exception {\n        String inputFile = \"bin/data/*.json\";//\u307e\u3068\u3081\u3066\u8aad\u307f\u8fbc\u3080\u3053\u3068\u3082\u53ef\u80fd\n        String outputPath = \"result/output01\";\n        String master;\n        if (args.length > 0) {\n            master = args[0];\n        } else {\n            master = \"local\";\n        }\n        JavaSparkContext sc = new JavaSparkContext(master, \"basicavg\", System.getenv(\"SPARK_HOME\"), System.getenv(\"JARS\"));\n        JavaRDD<String> input = sc.textFile(inputFile);\n        JavaRDD<String> output = input.filter(s -> s.contains(\"\\\"text\\\":\")).filter(s -> s.contains(\"\u7b11\"));\n        output.saveAsTextFile(outputPath);\n        sc.stop();\n    }\n}\n\n```\n\n<i class=\"fa fa-file-archive-o\" aria-hidden=\"true\"></i>\u30d5\u30a1\u30a4\u30eb\u306e\u5727\u7e2e\n`Spark`\u3067\u306f\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5bb9\u91cf\u7bc0\u7d04\u3084\u3001\u901a\u4fe1\u30b3\u30b9\u30c8\u3092\u4e0b\u3052\u308b\u305f\u3081\u306b\u3001`textFile()`\u306a\u3069\u306e\u5165\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u7fa4\u3067\u5e7e\u3064\u304b\u306e\u7a2e\u985e\u306e\u5727\u7e2e\u3092\u81ea\u52d5\u7684\u306b\u51e6\u7406\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u305f\u3060\u3057\u3053\u308c\u3089\u306e\u5727\u7e2e\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3078\u66f8\u304d\u51fa\u3055\u308c\u308b\u3082\u306e\u306e\u307f\u5229\u7528\u53ef\u80fd\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u7b49\u306b\u306f`Spark`\u5074\u304b\u3089\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\u307e\u305f\u3001\u5727\u7e2e\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3088\u3063\u3066\u306f\u3001\u5206\u6563\u3055\u305b\u3066\u3044\u308d\u3093\u306a\u30ef\u30fc\u30ab\u30fc\u304b\u3089\u8aad\u3081\u306a\u3044\u3082\u306e\u3082\u308a(\u5148\u982d\u304b\u3089\u8aad\u307e\u306a\u304d\u3083\u30c0\u30e1\u307f\u305f\u3044\u306a\u5236\u7d04\u304c\u3042\u308b\u3068)\u3001\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u8907\u6570\u306e\u30ef\u30fc\u30ab\u30fc\u304b\u3089\u8aad\u307f\u51fa\u3057\u53ef\u80fd\u306a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u300c\u30b9\u30d7\u30ea\u30c3\u30c8\u53ef\u80fd\u300d\u3068\u8a00\u3044\u307e\u3059\u3002\n\n-----------------\n\n##<i class=\"fa fa-check-square\" aria-hidden=\"true\"></i>2. Scala\u3001Java\u3001R\u3001Python\u306a\u3069\u306b\u5bfe\u5fdc(API\u304c\u7528\u610f\u3055\u308c\u3066\u308b)\n\u3053\u308c\u306f\u3001\u6587\u5b57\u901a\u308a\u3067\u3059\u3002\n\u3053\u306e\u3088\u3046\u306a\u69d8\u3005\u306a\u8a00\u8a9e\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u3066\u3001\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30fc\u88fd\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u7d44\u307f\u8fbc\u307f\u3084\u3059\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\n##<i class=\"fa fa-check-square\" aria-hidden=\"true\"></i>3. \u591a\u5f69\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-09 16.01.06.png](https://qiita-image-store.s3.amazonaws.com/0/56510/0c84d5a2-3881-29dd-d8c9-d51e20e8e954.png)\n- `Spark SQL`: \u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3084\u8868\u5f62\u5f0f\u30c7\u30fc\u30bf\u3092\u6271\u3046\n- `Spark Streaming`: \u307b\u307c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u30b9\u30c8\u30ea\u30fc\u30e0\u30fb\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\n- `MLlib`: \u6a5f\u68b0\u5b66\u7fd2\u3092\u884c\u3046(\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u3057\u3066`spark.mllib`\u3068`spark.ml`\u304c\u3042\u308b\u304c\u524d\u8005\u304c\u975e\u63a8\u5968\u306b\u306a\u3063\u305f\u6a21\u69d8)\n- `GraphX`: \u30b0\u30e9\u30d5\u51e6\u7406\u3092\u884c\u3046\n\n##<i class=\"fa fa-check-square\" aria-hidden=\"true\"></i>4. \u8907\u6570\u306e\u5c0e\u5165\u30b7\u30ca\u30ea\u30aa(\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u3001YARN\u3001Mesos\u3001\u7d44\u307f\u8fbc\u307f\u3001\u30af\u30e9\u30a6\u30c9)\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-09 16.01.41.png](https://qiita-image-store.s3.amazonaws.com/0/56510/ada33804-67dd-64ad-2e11-385e117d6ff2.png)\n\n`Apache Mesos` \u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u304c\u3001\u4f01\u696d\u5411\u3051\u3067\u6700\u3082\u30e1\u30b8\u30e3\u30fc\u306a\u306e\u306f`Hadoop YARN`(`Hadoop`\u30b3\u30a2\u306e\u4e00\u90e8)\u3067\u3053\u308c\u3082\u3082\u3061\u308d\u3093\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3002\n\u307e\u305f`Spark Standalone`\u3068\u547c\u3070\u308c\u308b\u5c0f\u898f\u6a21\u30d3\u30eb\u30c8\u30a4\u30f3\u30fb\u30af\u30e9\u30b9\u30bf\u30fb\u30b7\u30b9\u30c6\u30e0\u3082\u542b\u307e\u308c\u3066\u304a\u308a\u3001\u5c0f\u898f\u6a21\u30af\u30e9\u30b9\u30bf\u30fb\u30c6\u30b9\u30c8\u306a\u3069\u306e\u7528\u9014\u3067\u306e\u30c7\u30d7\u30ed\u30a4\u306b\u9069\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u5206\u6563\u30e2\u30fc\u30c9\u3067\u306f\u3001`Spark`\u306f\u4e00\u3064\u306e\u30bb\u30f3\u30c8\u30e9\u30eb\u30b3\u30fc\u30c7\u30a3\u30cd\u30fc\u30bf(\u30c9\u30e9\u30a4\u30d0)\u3068\u3001\u591a\u304f\u306e\u5206\u6563\u30ef\u30fc\u30ab\u30fc(\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf)\u3092\u6301\u3064\u30de\u30b9\u30bf\u30fc/\u30b9\u30ec\u30fc\u30d6\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\u307e\u305f\u305d\u306e\u30c9\u30e9\u30a4\u30d0\u5358\u4f53\u3067`java`\u306e\u30d7\u30ed\u30bb\u30b9\u3068\u3057\u3066\u52d5\u4f5c\u3057\u3001\u5404\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3082\u500b\u5225\u306e`java`\u30d7\u30ed\u30bb\u30b9\u3068\u3057\u3066\u52d5\u4f5c\u3057\u307e\u3059\u3002\u3053\u306e\u30c9\u30e9\u30a4\u30d0\u3068\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u7fa4\u306f\u307e\u3068\u3081\u3066`Spark`\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u547c\u3070\u308c\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/56510/e42e0d92-798e-f08e-fccd-645cd0d41718.png)\n\n\u4e0a\u8a18\u306e\u56f3\u306e\u3088\u3046\u306b\u3001`Spark`\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3068\u547c\u3070\u308c\u308b\u5916\u90e8\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3044\u3001\u8907\u6570\u306e\u30de\u30b7\u30f3\u4e0a\u3067\u8d77\u52d5\u3055\u308c\u307e\u3059\u3002\u305d\u306e\u969b\u306b\u306f`spark-submit`\u30b3\u30de\u30f3\u30c9\u306b\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u6295\u5165\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8d77\u52d5\u3057m\u30e6\u30fc\u30b6\u304c\u6307\u5b9a\u3057\u305f`main()`\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u63a5\u7d9a\u3057\u3001\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u8981\u6c42\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u304c\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4ee3\u7406\u3068\u3057\u3066\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001\u30e6\u30fc\u30b6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u4e2d\u306e`RDD`\u306e\u5909\u63db\u3084\u30a2\u30af\u30b7\u30e7\u30f3\u306b\u57fa\u3065\u3044\u3001\u30bf\u30b9\u30af\u3068\u3044\u3046\u5f62\u3067\u51e6\u7406\u3092\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306b\u9001\u308a\u3064\u3051\u307e\u3059\u3002\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306e\u30d7\u30ed\u30bb\u30b9\u3067\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u3055\u308c\u8a08\u7b97\u7d50\u679c\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\u6700\u5f8c\u306b\u3001\u30c9\u30e9\u30a4\u30d0\u306e`main()`\u30e1\u30bd\u30c3\u30c9\u304c\u7d42\u4e86\u3059\u308b\u304b `main()`\u30e1\u30bd\u30c3\u30c9\u304b\u3089`SparkContext.stop()`\u304c\u547c\u3070\u308c\u308b\u3068\u3001\u30c9\u30e9\u30a4\u30d0\u306f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3092\u7d42\u4e86\u3055\u305b\u3001\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u304b\u3089\u53d6\u5f97\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u3092\u958b\u653e\u3057\u307e\u3059\u3002\u3053\u308c\u304c\u4e00\u9023\u306e`Spark`\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u6d41\u308c\u306b\u306a\u308a\u307e\u3059\u3002\n\n###<i class=\"fa fa-square\" aria-hidden=\"true\"></i>\u30c9\u30e9\u30a4\u30d0\n\u4f5c\u6210\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306emain()\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u30d7\u30ed\u30bb\u30b9\u3002`SparkContext`\u306e\u751f\u6210\u3084`RDD`\u306e\u751f\u6210\u3092\u884c\u3044\u3001\u5909\u63db\u3084\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u307e\u305f\u3001\u30e6\u30fc\u30b6\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30bf\u30b9\u30af\u306e\u5909\u63db\u3068\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u4e0a\u306e\u30bf\u30b9\u30af\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u306e\u51e6\u7406\u3092\u5b9f\u884c\u306b\u969b\u3057\u3066\u8cac\u4efb\u3092\u8ca0\u3044\u307e\u3059\u3002\n\n\u524d\u8005\u306b\u95a2\u3057\u3066\u306f[Spark\u51e6\u7406\u306e\u6d41\u308c[\u88dc\u8db3] / \u2160. \u7cfb\u8b5c\u306e\u30b9\u30c6\u30fc\u30b8\u3078\u306e\u5206\u5272](http://qiita.com/Hiroki11x/items/4f5129094da4c91955bc#%E2%85%A0-%E7%B3%BB%E8%AD%9C%E3%81%AE%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%81%B8%E3%81%AE%E5%88%86%E5%89%B2)\u3067\u8aac\u660e\u3057\u305f\u901a\u308a\u3001\u30e6\u30fc\u30b6\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30bf\u30b9\u30af\u3068\u3044\u3046\u5b9f\u884c\u5358\u4f4d\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u3067\u3059\u3002`Spark`\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f`RDD`\u3092\u751f\u6210\u3057\u3001\u5909\u63db\u3057\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u884c\u3046\u3068\u3044\u3046\u69cb\u9020\u3092\u53d6\u3063\u3066\u304a\u308a\u3001\u305d\u306e\u64cd\u4f5c\u3067\u69cb\u7bc9\u3055\u308c\u308b\u6709\u5411\u5faa\u74b0\u30b0\u30e9\u30d5\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u3053\u306e\u30b0\u30e9\u30d5\u3092\u6700\u9069\u306b\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u30b9\u30c6\u30fc\u30b8\u7fa4\u306b\u5909\u63db\u3057\u307e\u3059\u3002\u524d\u8ff0\u3057\u307e\u3057\u305f\u304c\u30b9\u30c6\u30fc\u30b8\u7fa4\u306b\u306f\u30bf\u30b9\u30af\u304c\u8907\u6570\u542b\u307e\u308c\u305f\u3082\u306e\u3067\u3059\u3002\n\n\u5f8c\u8005\u306b\u95a2\u3057\u3066\u3082[Spark\u51e6\u7406\u306e\u6d41\u308c[\u88dc\u8db3] / \u2164. \u30bf\u30b9\u30af\u306e\u5b9f\u884c\u9806\u5e8f\u3092\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3059\u308b](http://qiita.com/Hiroki11x/items/4f5129094da4c91955bc#%E2%85%A4-%E3%82%BF%E3%82%B9%E3%82%AF%E3%81%AE%E5%AE%9F%E8%A1%8C%E9%A0%86%E5%BA%8F%E3%82%92%E3%82%B9%E3%82%B1%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%E3%81%99%E3%82%8B)\u3067\u793a\u3057\u305f\u901a\u308a\u3001`Spark`\u306e\u30c9\u30e9\u30a4\u30d0\u306f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u7fa4\u306e\u500b\u3005\u306e\u30bf\u30b9\u30af\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u8abf\u6574\u3057\u307e\u3059\u3002\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u7fa4\u306f\u8d77\u52d5\u6642\u306b\u81ea\u5206\u81ea\u8eab\u3092\u30c9\u30e9\u30a4\u30d0\u306b\u5bfe\u3057\u3066\u767b\u9332\u3059\u308b\u305f\u3081\u3001\u30c9\u30e9\u30a4\u30d0\u306f\u81ea\u5206\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306e\u69d8\u5b50\u3092\u5e38\u306b\u628a\u63e1\u3067\u304d\u307e\u3059\u3002\n\n###<i class=\"fa fa-square\" aria-hidden=\"true\"></i>\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\n\n`Spark`\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306f\u3001`Spark`\u306e\u30b8\u30e7\u30d6\u306e\u500b\u3005\u306e\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u3092\u53d7\u3051\u6301\u3064\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u3067\u3059\u3002\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306f`Spark`\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5\u6642\u306b\u4e00\u5ea6\u8d77\u52d5\u3055\u308c\u3001\u901a\u5e38\u306f\u305d\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u9593\u52d5\u4f5c\u3057\u7d9a\u3051\u307e\u3059\u3002\u307e\u305f`Spark`\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u7fa4\u306b\u969c\u5bb3\u304c\u3042\u3063\u3066\u3082\u51e6\u7406\u3092\u7d99\u7d9a\u3067\u304d\u307e\u3059\u3002\n\n\u4e3b\u306a\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306e\u5f79\u5272\u3068\u3057\u3066\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u30bf\u30b9\u30af\u7fa4\u3092\u5b9f\u884c\u3057\u7d50\u679c\u3092\u30c9\u30e9\u30a4\u30d0\u306b\u8fd4\u3059\u3053\u3068\u3068\u3001\u30e6\u30fc\u30b6\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u3088\u3063\u3066\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u308b`RDD`\u306e\u30a4\u30f3\u30e1\u30e2\u30ea\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u5404\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u5185\u3067\u52d5\u4f5c\u3059\u308b\u30d6\u30ed\u30c3\u30af\u30de\u30cd\u30fc\u30b8\u30e3\u3068\u547c\u3070\u308c\u308b\u30b5\u30fc\u30d3\u30b9\u3092\u901a\u3057\u3066\u63d0\u4f9b\u3059\u308b\u3053\u3068\u3067\u3059\u3002\n\n##<i class=\"fa fa-check-square\" aria-hidden=\"true\"></i>5. \u5e45\u5e83\u3044\u51e6\u7406\u30e2\u30c7\u30eb(\u30d0\u30c3\u30c1\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u3001\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0)\n\u7279\u306b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b7\u30a7\u30eb\u306f\u3068\u3066\u3082\u4fbf\u5229\u3067\u3059\u3002\n\u305d\u306e\u90fd\u5ea6\u30d3\u30eb\u30c9\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u306e\u3067\u30ed\u30b8\u30c3\u30af\u306e\u8a66\u4f5c\u306a\u3069\u3001\u52b9\u679c\u306e\u78ba\u8a8d\u30b5\u30a4\u30af\u30eb\u3092\u65e9\u304f\u56de\u305b\u307e\u3059\u3002\u898b\u305f\u76ee\u3082\u4f7f\u3044\u65b9\u3082`Ruby`\u3067\u3044\u3046\u3068\u3053\u306e`irb`\u307f\u305f\u3044\u306a\u611f\u3058\u3067\u3059\u3002\n\n\n#<i class=\"fa fa-check-circle\" style=\"font-size:1em;\"></i> \u5b9f\u969b\u306b\u52d5\u304b\u3057\u3066\u307f\u308b\n\n##1. \u74b0\u5883\u69cb\u7bc9\n####\u2160.  `Oracle Java SE`\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttp://www.oracle.com/technetwork/java/javase/downloads/index.html\n\nJava\u306eversion\u7b49\u5207\u308a\u66ff\u3048\u308b\u969b\u306f\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u304c\u3068\u3066\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\nhttp://qiita.com/yohjizzz/items/194973bf2f34608ae85a\n\n####\u2161. `Apache Spark`\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\nhttps://spark.apache.org/downloads.html\n\u4eca\u56de\u306f2.0.0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n\n- \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u624b\u98061 : \u300c`Chose a Spark release`\u300d\u3067\u300c`2.0.0 (Jul 26 2016)`\u300d\u3092\u9078\u629e\u3002\n- \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u624b\u98062 : \u300c`Chose a package type`\u300d\u3067\u300c`Pre-build for Hadoop 2.7 and later`\u300d\u3092\u9078\u629e\u3002\n- \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u624b\u98063 : \u300c`spark-2.0.0-bin-hadoop2.7.tgz`\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n\n![Downloads | Apache Spark.png](https://qiita-image-store.s3.amazonaws.com/0/56510/269dfa44-c236-5120-be0a-38d8a11e75cc.png)\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u3089\u4efb\u610f\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u5c55\u958b\u3057\u3001\n`spark-2.0.0-bin-hadoop2.7`->`bin`->`spark-shell`\u3092\u8d77\u52d5\n\n![_Users_hirokinaganuma_Desktop_SORACOM_Spark_spark-2.0.0-bin-hadoop2.7_bin.png](https://qiita-image-store.s3.amazonaws.com/0/56510/5e78dc94-a604-635a-dc79-47e9c0611299.png)\n\n\u6210\u529f\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u51fa\u3066\u304f\u308b\u306f\u305a\u3067\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-09 15.47.13.png](https://qiita-image-store.s3.amazonaws.com/0/56510/53e301e5-250c-0a51-b0d4-d2e8943d391d.png)\n\n```bash\nUsing Spark's default log4j profile: org/apache/spark/log4j-defaults.properties\nSetting default log level to \"WARN\".\nTo adjust logging level use sc.setLogLevel(newLevel).\n[init] error: error while loading <root>, Error accessing /Volumes/Transcend/Hack/SoraPractice/spark-2.0.0-bin-hadoop2.7/jars/._activation-1.1.1.jar\n\nFailed to initialize compiler: object java.lang.Object in compiler mirror not found.\n** Note that as of 2.8 scala does not assume use of the java classpath.\n** For the old behavior pass -usejavacp to scala, or if using a Settings\n** object programmatically, settings.usejavacp.value = true.\n\nFailed to initialize compiler: object java.lang.Object in compiler mirror not found.\n** Note that as of 2.8 scala does not assume use of the java classpath.\n** For the old behavior pass -usejavacp to scala, or if using a Settings\n** object programmatically, settings.usejavacp.value = true.\nException in thread \"main\" java.lang.NullPointerException\n```\n\n\u307f\u305f\u3044\u306a\u306e\u304c\u51fa\u3066\u304d\u305f\u5834\u5408\u3001PATH\u3092\u901a\u3057\u3066\u3042\u3052\u308c\u3070\u89e3\u6c7a\u3057\u307e\u3059\uff01\n\n```bash\n$ cd\n$ vim .bash_profile\n```\n\n`.bash_profile`\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3057\u305f\u3002\n\n```.bash_profile\nexport SPARK_HOME=\"spark-2.0.0-bin-hadoop2.7\u307e\u3067\u306epath\"\nexport PATH=\"$PATH:$SPARK_HOME/bin:$SPARK_HOME/sbin\"\n```\n\n\u6700\u5f8c\u306b\n\n```bash\n$ source .bash_profile\n```\n\n\u3067\u3001\u3082\u3046\u4e00\u5ea6`.bash_profile`\u3092\u8aad\u307f\u8fbc\u307f\u76f4\u305b\u3070\u5b8c\u4e86\u3067\u3059\u3002\u3053\u308c\u3067`spark-shell`\u304c\u8d77\u52d5\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u3001\u4e00\u65e6\u306e\u74b0\u5883\u69cb\u7bc9\u306f\u7d42\u4e86\u3067\u3059\u3002\n\nHello World! \u7684\u306a\u3084\u3064\u3082\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n`scala>`\u3068\u8868\u793a\u3055\u308c\u3066\u308b\u3068\u3053\u308d\u306b\u7d9a\u3051\u3066`sc....`\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n```bash\nscala> sc.parallelize(1 to 10,1).map(_*2).reduce(_+_)\n```\n\n\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002\u4eca\u56de\u306e\u5834\u5408\u30011\u304b\u308910\u307e\u3067\u306e\u6570\u5b57\u3092\u305d\u308c\u305e\u308c\u4e8c\u500d\u306b\u3057\u3066\u8db3\u3057\u3042\u3052\u307e\u3057\u305f\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-09 15.50.38.png](https://qiita-image-store.s3.amazonaws.com/0/56510/f25e8ce2-7146-d1c5-23be-950a8c194b3e.png)\n\n##2. WebUI\n\u6b21\u306b\u30d6\u30e9\u30a6\u30b6\u3067`localhost:8080`\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u3059\u308b\u3068\u3053\u3093\u306a\u753b\u9762\u304c\u898b\u3048\u308b\u306f\u305a\u3067\u3059(\u4e00\u90e8\u60c5\u5831\u3092\u96a0\u3057\u3066\u3044\u307e\u3059)\n\n![Spark Master at spark___Hiroki-no-MacBook-Pro-2.local_7077.png](https://qiita-image-store.s3.amazonaws.com/0/56510/70491ceb-7eed-4984-7aba-7d8bb55d8f3d.png)\n\n\u3053\u308c\u306f`Spark`\u306e\u51e6\u7406\u306e\u72b6\u6cc1\u3092\u78ba\u8a8d\u3067\u304d\u308b\u4fbf\u5229\u306aWeb\u306e\u30e6\u30fc\u30b6\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u30af\u30e9\u30b9\u30bf\u30fc\u3084\u30de\u30b9\u30bf\u30fc\u306e\u8a73\u7d30\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n##3. \u305d\u306e\u4ed6\n\n| \u30ad\u30fc\u30ef\u30fc\u30c9 | \u8aac\u660e |\n|:-----------|:------------|\n|\u30b8\u30e7\u30d6       |  Spark\u306e\u51e6\u7406\u5185\u3067\u30a2\u30af\u30b7\u30e7\u30f3\u7cfb\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u30b8\u30e7\u30d6\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002`Spark`\u3067\u306f`RDD`\u3068\u547c\u3070\u308c\u308b\u62bd\u8c61\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u5909\u63db\u3092\u7e70\u308a\u8fd4\u3057\u3066\u76ee\u7684\u306e\u7d50\u679c\u3092\u5f97\u308b\u3002\u3053\u306e\u4e00\u9023\u306e\u51e6\u7406\u3092\u30b8\u30e7\u30d6\u3068\u3044\u3046 | \n|\u30b9\u30c6\u30fc\u30b8      |  \u30b8\u30e7\u30d6\u306f\u30c7\u30fc\u30bf\u306e\u30b7\u30e3\u30c3\u30d5\u30eb\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u8907\u6570\u306e\u30b9\u30c6\u30fc\u30b8\u306b\u5206\u5272\u3055\u308c\u308b | \n|\u30bf\u30b9\u30af       |  \u30b9\u30c6\u30fc\u30b8\u306f\u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u6301\u3061\u3001\u30ef\u30fc\u30ab\u30fc\u306b\u5bfe\u3057\u3066\u9001\u3089\u308c\u308b\u4e26\u5217\u5b9f\u884c\u53ef\u80fd\u306a\u51e6\u7406\u3092\u30bf\u30b9\u30af\u3068\u3044\u3046 | \n\n# <i class=\"fa fa-book\" style=\"font-size:1em;\"></i>Tips\n\n###1. \u30af\u30e9\u30b9\u30bf\u8d77\u52d5\u306e\u969b\n\n```bash\n$ sbin/start-all.sh\nstarting org.apache.spark.deploy.master.Master, logging to /Users/hirokinaganuma/Desktop/Hoge/SoraPractice/spark-2.0.0-bin-hadoop2.7/logs/spark-hirokinaganuma-org.apache.spark.deploy.master.Master-1-Hiroki-no-MacBook-Pro-2.local.out\nfailed to launch org.apache.spark.deploy.master.Master:\n  /Users/hirokinaganuma/Desktop/Hoge/SoraPractice/spark-2.0.0-bin-hadoop2.7/bin/spark-class: line 71: /Library/Java/JavaVirtualMachines/jdk1.8.0_101.jdk/bin/java: No such file or directory\nfull log in /Users/hirokinaganuma/Desktop/Hoge/SoraPractice/spark-2.0.0-bin-hadoop2.7/logs/spark-hirokinaganuma-org.apache.spark.deploy.master.Master-1-Hiroki-no-MacBook-Pro-2.local.out\nlocalhost: ssh: connect to host localhost port 22: Connection refused\n```\n\n\u307f\u305f\u3044\u306a\u306e\u304c\u51fa\u305f\u3089\u3001\u4eca\u56de`jdk1.8.0`\u3092\u6307\u5b9a\u3057\u305f\u3044\u306e\u3067\n\n```bash\nexport JAVA_HOME=`/usr/libexec/java_home -v 1.8`\n```\n\n\u3068\u3059\u308c\u3070\u76f4\u308a\u307e\u3057\u305f\u3002\n\n\u305d\u306e\u5f8c\n\n```bash\n$ sbin/start-all.sh\nstarting org.apache.spark.deploy.master.Master, logging to /Users/hirokinaganuma/Desktop/Hoge/SoraPractice/spark-2.0.0-bin-hadoop2.7/logs/spark-hirokinaganuma-org.apache.spark.deploy.master.Master-1-Hiroki-no-MacBook-Pro-2.local.out\nlocalhost: ssh: connect to host localhost port 22: Connection refused\n```\n\n\u307f\u305f\u3044\u306b\u306a\u308b(\u89e3\u6c7a\u3067\u304d\u3066\u306a\u3044)\n\n###2. `Amazon Web Service` \u306e `EC2` \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u52d5\u304b\u3059\nhttp://cyborg-ninja.com/ittips/3103\nhttp://qiita.com/ledmonster/items/8138d7cf0990ea1017da\nhttp://qiita.com/mikoto/items/4273cd35dce254727363\n\n`Spark`\u306b\u306f`Amazon EC2`\u3067\u30af\u30e9\u30b9\u30bf\u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306e\u30b9\u30af\u30ea\u30d7\u30c8(EC2\u30b9\u30af\u30ea\u30d7\u30c8)\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u305f\u3060\u3001\u73fe\u5728\u306e\u6700\u65b0\u7248(2.0.1)\u306b\u306f\u306a\u304f\u306a\u3063\u3066\u308b\u6c17\u304c\u3059\u308b\u306e\u3067\u3082\u3046\u63a8\u5968\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u304b\uff1f\uff01\n\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001\u30ce\u30fc\u30c9\u7fa4\u3092\u8d77\u52d5\u3057`Standalone`\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u3092\u305d\u308c\u3089\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306e\u3067\u3001\u30af\u30e9\u30b9\u30bf\u304c\u7acb\u3061\u4e0a\u304c\u308c\u3070\u3001\u3042\u3068\u306f`Standalone`\u30e2\u30fc\u30c9\u3068\u3057\u3066\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002EC2\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001\u540d\u524d\u3092\u3064\u3051\u305f\u8907\u6570\u306e\u30af\u30e9\u30b9\u30bf\u3092\u7ba1\u7406\u3067\u304d\u307e\u3059\u3002\u305d\u308c\u3089\u306e\u30af\u30e9\u30b9\u30bf\u306fEC2\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306b\u3088\u3063\u3066\u8b58\u5225\u3067\u304d\u307e\u3059\u3002EC2\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u305d\u308c\u305e\u308c\u306e\u30af\u30e9\u30b9\u30bf\u306b\u5bfe\u3057\u3066\u30de\u30b9\u30bf\u30fc\u30ce\u30fc\u30c9\u7528\u306e`clustername-master`\u3068`clustername-slaves`\u3068\u3044\u3046\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210\u307e\u3067\u3084\u3063\u3066\u304f\u308c\u308b\u3063\u307d\u3044\u3051\u3069\u3001\u3053\u308c\u306f\u3053\u306e\u8a18\u4e8b\u3092\u898b\u305f\u65b9\u304c\u826f\u3055\u305d\u3046\u3002\nhttp://qiita.com/mychaelstyle/items/b752087a0bee6e41c182\n\n##`Standalone`\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\n`Standalone`\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u306f\u57fa\u672c\u7684\u306a\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u30dd\u30ea\u30b7\u30fc(\u30e1\u30e2\u30ea\u3068\u30b3\u30a2\u6570\u3068\u304b\u3092\u5236\u9650\u3067\u304d\u308b\u304f\u3089\u3044)\u304c\u7528\u610f\u3055\u308c\u3066\u304a\u308a\u3001\u305d\u308c\u305e\u308c\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30ea\u30bd\u30fc\u30b9\u306e\u4e0a\u9650\u3092\u8a2d\u5b9a\u3057\u3066\u8907\u6570\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4e26\u5217\u3055\u305b\u3066\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n\u307e\u305a\u306f\u3053\u3053\u304b\u3089\u3001\u521d\u3081\u3066\u306e\u30c7\u30d7\u30ed\u30a4\u306f\u3053\u3053\u3067\u6163\u3089\u3057\u307e\u3057\u3087\u3046\u3068\u66f8\u7c4d\u306b\u3082\u66f8\u3044\u3066\u305f\u3002\u4ed6\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3068\u3082\u306b\u52d5\u4f5c\u3055\u305b\u305f\u3044\u5834\u5408\u3084\u3088\u308a\u8c4a\u5bcc\u306a\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u6a5f\u80fd\u3092\u4f7f\u3046\u5834\u5408\u306f`Mesos`\u3084`YARN`\u3092\u4f7f\u3046\u306e\u304c\u3044\u3044\u307f\u305f\u3044\u3067\u3059\u3002\n`YARN`\u306f\u30ad\u30e5\u30fc\u306e\u6982\u5ff5\u304c\u3042\u308a\u3001`Mesos`\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u52d5\u4f5c\u4e2d\u306e\u3082\u3063\u3068\u52d5\u7684\u306a\u5171\u6709\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304f\u308c\u308b\u3002\n\u9ad8\u53ef\u7528\u6027\u3068\u3057\u3066\u3001`Standalone`\u30af\u30e9\u30b9\u30bf\u3092\u5b9f\u904b\u7528\u306e\u8a2d\u5b9a\u3067\u52d5\u4f5c\u3055\u305b\u3066\u3044\u308b\u5834\u5408\u30ef\u30fc\u30ab\u30fc\u30ce\u30fc\u30c9\u306e\u969c\u5bb3\u3092\u554f\u984c\u306a\u3044\u3088\u3046\u306b\u30a2\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u30af\u30e9\u30b9\u30bf\u306e\u30de\u30b9\u30bf\u30fc\u306e\u53ef\u7528\u6027\u3082\u9ad8\u3081\u308b\u305f\u3081\u306b\u306f\u3001`Apache ZooKeeper`(\u5206\u6563\u5354\u8abf\u30b7\u30b9\u30c6\u30e0)\u3092\u4f7f\u3063\u3066\u8907\u6570\u306e\u30b9\u30bf\u30f3\u30d0\u30a4\u30de\u30b9\u30bf\u30fc\u3092\u7528\u610f\u3057\u3066\u304a\u3051\u3070\u3001`Spark`\u306f\u969c\u5bb3\u304c\u3042\u3063\u305f\u5834\u5408\u65b0\u3057\u3044\u30de\u30b9\u30bf\u30fc\u3078\u306e\u5207\u308a\u66ff\u3048\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u6642\u3001\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u306f\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u5bfe\u3057\u3066\u30012\u3064\u306e\u30c7\u30d7\u30ed\u30a4\u30e2\u30fc\u30c9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n- \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e2\u30fc\u30c9\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e2\u30fc\u30c9\u3067\u306f\u3001\u30c9\u30e9\u30a4\u30d0\u306f`spark-submit`\u3092\u5b9f\u884c\u3057\u305f\u30de\u30b7\u30f3\u4e0a\u3067\u3001`spark-submit`\u306e\u30b3\u30de\u30f3\u30c9\u306e\u4e00\u90e8\u3068\u3057\u3066\u52d5\u4f5c\u3059\u308b\u3002(\u30c9\u30e9\u30a4\u30d0\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u76f4\u63a5\u5165\u529b\u3092\u884c\u3048\u305f\u308a\u3001\u51fa\u529b\u3092\u76f4\u63a5\u898b\u305f\u308a\u3067\u304d\u308b\u304b\u3089)\n- \u30af\u30e9\u30b9\u30bf\u30e2\u30fc\u30c9\n\u30af\u30e9\u30b9\u30bf\u30e2\u30fc\u30c9\u3067\u306f\u30c9\u30e9\u30a4\u30d0\u306f`Standalone`\u30af\u30e9\u30b9\u30bf\u5185\u3067\u3044\u305a\u308c\u304b\u306e\u30ef\u30fc\u30ab\u30fc\u306e\u30fc\u3069\u4e0a\u306e\u30d7\u30ed\u30bb\u30b9\u3068\u3057\u3066\u8d77\u52d5\u3055\u308c\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u63a5\u7d9a\u3057\u307e\u3059\u3002\u5207\u308a\u66ff\u3048\u308b\u306e\u306b\u306f`spark-submit --deploy-mode cluster`\u306b\u6e21\u3055\u306a\u304d\u3083\u3044\u3051\u307e\u305b\u3093\u3002\n\n##`Apache Mesos`\n\u6982\u8981\u306b\u95a2\u3057\u3066\u306f[\u3053\u3061\u3089](http://qiita.com/Hiroki11x/items/438a33eabd25101737ff)\n`Apache Mesos`\u306f\u6c4e\u7528\u306e\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u3067\u3001\u5206\u6790\u7684\u306a\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3084\u3001\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3084\u30ad\u30fc/\u5024\u30b9\u30c8\u30a2\u306a\u3069\u306e\u9577\u671f\u9593\u306b\u308f\u305f\u3063\u3066\u52d5\u4f5c\u3059\u308b\u30b5\u30fc\u30d3\u30b9\u3082\u30af\u30e9\u30b9\u30bf\u4e0a\u3067\u306f\u3057\u3089\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30de\u30eb\u30c1\u30de\u30b9\u30bf\u30fc\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3055\u305b\u308b\u969b\u306b\u3001`ZooKepper`\u3092\u4f7f\u3063\u3066\u30de\u30b9\u30bf\u30fc\u3092\u9078\u629e\u3055\u305b\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u307e\u305f`Mesos`\u4e0a\u306e`Spark`\u304c\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u52d5\u4f5c\u30e2\u30fc\u30c9\u306f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c7\u30d7\u30ed\u30a4\u30e2\u30fc\u30c9\u3060\u3051\u3067\u3059\u3002\u3053\u308c\u304c\u610f\u5473\u3059\u308b\u306e\u306f\u300c\u30c9\u30e9\u30a4\u30d0\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u6295\u5165\u3057\u305f\u30de\u30b7\u30f3\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u300d\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\u30c9\u30e9\u30a4\u30d0\u3092`Mesos`\u4e0a\u306e\u30af\u30e9\u30b9\u30bf\u4e0a\u3067\u52d5\u4f5c\u3055\u305b\u305f\u3044\u5834\u5408\u306f\u3001`Aurora`\u3084`Chronos`\u306a\u3069\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u304c\u5225\u9014\u5fc5\u8981\u3067\u3059\u3002\n\u307e\u305f\u3001\u4ed6\u306e\u30af\u30e9\u30b9\u30bf\u30de\u30cd\u30fc\u30b8\u30e3\u3068\u306f\u7570\u306a\u308a\u3001\u540c\u4e00\u30af\u30e9\u30b9\u30bf\u4e0a\u3067\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u9593\u306e\u30ea\u30bd\u30fc\u30b9\u5171\u6709\u306b\u95a2\u3057\u3066\u3001`Mesos`\u306f\u4e8c\u3064\u306e\u30e2\u30fc\u30c9\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n- `fine-graned`\u30e2\u30fc\u30c9\n\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306f\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u306a\u304c\u3089`Mesos`\u306b\u8981\u6c42\u3059\u308b`CPU`\u6570\u3092\u5897\u6e1b\u3055\u305b\u308b\u306e\u3067\u3001\u8907\u6570\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306f\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u30de\u30b7\u30f3\u306f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u9593\u306e`CPU`\u30ea\u30bd\u30fc\u30b9\u3092\u52d5\u7684\u306b\u5171\u6709\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u30bf\u30b9\u30af\u3092\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3059\u308b\u30ec\u30a4\u30c6\u30f3\u30b7\u304c\u5927\u304d\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n- `coarse-grained`\u30e2\u30fc\u30c9\n`Spark`\u306f\u304b\u304f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u304c\u4f7f\u7528\u3059\u308b`CPU`\u6570\u3092\u3042\u3089\u304b\u3058\u3081\u6c7a\u3081\u3066\u304a\u304d\u3001\u4eee\u306b\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u304c\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u7d42\u4e86\u3059\u308b\u307e\u3067\u306f`CPU`\u3092\u958b\u653e\u3057\u307e\u305b\u3093\u3002\n\n\n# <i class=\"fa fa-book\" style=\"font-size:1em;\"></i> \u53c2\u8003\n- http://www-bcf.usc.edu/~minlanyu/teach/csci599-fall12/papers/nsdi_spark.pdf\n- http://www.sbbit.jp/article/cont1/32342\n- http://www.task-notes.com/entry/20160112/1452525344\n- http://www.slideshare.net/hadoopxnttdata/apache-spark-spark\n- http://dev.classmethod.jp/etc/apache-spark_rdd_investigation/\n- http://www.intellilink.co.jp/article/column/bigdata-kk01.html\n- http://www.intellilink.co.jp/article/column/bigdata-kk04.html\n- http://www.oracle.com/webfolder/technetwork/jp/javamagazine/Java-MJ16-Spark.pdf\n- http://www.oracle.com/technetwork/jp/articles/java/overview/index.html\n- http://www.ne.jp/asahi/hishidama/home/tech/scala/spark/RDD.html\n- http://qiita.com/kiszk/items/53ec7f0419d71790d9af\n- http://www.ne.jp/asahi/hishidama/home/tech/scala/spark/index.html\n- http://www.slideshare.net/dragan10/apache-spark-53507780?qid=db4c33ce-2928-46ed-8c48-91091e48916a&v=&b=&from_search=12\n- https://www.youtube.com/channel/UCRzsq7k4-kT-h3TDUBQ82-w\n- https://oss.sios.com/guest-blog/guest-bog-20150624901\n- http://qiita.com/rtoya/items/d80e59371832877fbbb1\n- http://qiita.com/kimutansk/items/f47c2a28eda6817db531\n- http://www.ne.jp/asahi/hishidama/home/tech/scala/spark/partition.html\n- http://www.bigsynapse.com/spark-input-output\n\n- \u3053\u3061\u3089\u306e\u30b9\u30e9\u30a4\u30c9\u304c\u6700\u521d\u306e\u5168\u4f53\u306e\u6982\u8981\u7406\u89e3\u3068\u3057\u3066\u3081\u3061\u3083\u308f\u304b\u308a\u3084\u3059\u304b\u3063\u305f\u3067\u3059\nhttp://www.slideshare.net/dragan10/apache-spark-53507780\n\n- \u5c0e\u5165\u306b\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066\u306f\u3053\u3061\u3089\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\nhttps://oss.sios.com/guest-blog/guest-bog-20150624820\n\n- @kimutansk \u3055\u3093\u306e\u306f\u3066\u306a\u30d6\u30ed\u30b0\u306e\u8a18\u4e8b\u304c\u3081\u3061\u3083\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f(\u307e\u3060\u5168\u90e8\u8aad\u3081\u3066\u307e\u305b\u3093\ud83d\ude47)\n\u3053\u308c\u304c\u5168\u90e8\u308f\u304b\u308c\u3070\u7406\u89e3\u3067\u304d\u308b\u3093\u3060\u308d\u3046\u306a\u3068\u601d\u3044\u307e\u3057\u305f\u3002\nhttp://kimutansk.hatenablog.com/entry/20130901/1378023152\n\n- Spark\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://spark.apache.org/\n\n- Spark\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8(\u65e5\u672c\u8a9e\u8a33)\nhttp://mogile.web.fc2.com/spark/spark200/index.html\n\n- O'Reilly\u306e\u300c\u521d\u3081\u3066\u306eSpark\u300d\nhttps://www.oreilly.co.jp/books/9784873117348/\n<img class=\"aligncenter size-full wp-image-17237\" src=\"https://www.oreilly.co.jp/books/images/picture_large978-4-87311-734-8.jpeg\" alt=\"sparkhadoopgraphic\" width=\"25%\" />\n\n- \u682a\u5f0f\u4f1a\u793eNTT\u30c7\u30fc\u30bf\u306e\u300cApache Spark\u5165\u9580 \u52d5\u304b\u3057\u3066\u5b66\u3076\u6700\u65b0\u4e26\u5217\u5206\u6563\u51e6\u7406\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u300d\nhttp://www.shoeisha.co.jp/book/detail/9784798142661\n<img class=\"aligncenter size-full wp-image-17237\" src=\"https://qiita-image-store.s3.amazonaws.com/0/56510/57a732cd-f9b3-63c0-5570-d038e950da17.jpeg\" width=\"25%\" />\n"}