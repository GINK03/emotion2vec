{"context": " More than 1 year has passed since last update.Chef / Vargrnat \u306e\u30e1\u30e2\u66f8\u304d\n\nVargrant\nVirtualBox\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u52d5\u304b\u3059\nsee; http://d.hatena.ne.jp/naoya/20130205/1360062070\n\n\u30b2\u30b9\u30c8OS\u306b\u30ed\u30b0\u30a4\u30f3\n$ vagrant ssh\n\n\nvagrant sandbox \u3068\u304b\n\u3053\u308c\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb http://www.ryuzee.com/contents/blog/6555\n# sandbox \u30e2\u30fc\u30c9\u306b\u5165\u308b\n$ vagrant sandbox on\n\n# sandbox \u30e2\u30fc\u30c9 on \u306b\u5165\u3063\u305f\u6642\u70b9\u307e\u3067\u5dfb\u304d\u623b\u3059!\n$ vagrant sandbox rollback\n\n# \u5909\u66f4\u3092\u78ba\u5b9a\n$ vagrant sandbox commit\n\n\nChef\n$ gem install knife-solo\n\n\nKnife\nBrew \u3067\u5165\u308c\u305f ruby \u306b\u5165\u308c\u3066\u3082\u3046\u305f\u306e\u3067\u3053\u308c\u53e9\u304f\u5fc5\u8981\u3042\u308b\u3002\n$ PATH=\"$PATH:/usr/local/Cellar/ruby/2.0.0-p0/bin\"\n$ rehash\n\n$ knife solo init chef-repo\n$ cd chef-repo\n$ knife solo prepare vagrant@10.0.2.15\n\n\u304a\u307e\u3058\u306a\u3044\u305d\u306e1\n\u30ea\u30e2\u30fc\u30c8\u3067\u306e chef-solo \u5b9f\u884c\u74b0\u5883\u3092\u6574\u3048\u308b\n$ knife solo prepare -p 2222 -x vagrant --identity-file ~/.vagrant.d/insecure_private_key 127.0.0.1\n\n\u304a\u307e\u3058\u306a\u3044\u305d\u306e2\n\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u3067\u5b9f\u884c\u3055\u305b\u308b\n$ knife solo cook  -p 2222 -x vagrant --identity-file ~/.vagrant.d/insecure_private_key 127.0.0.1\n\n\u30ec\u30b7\u30d4\u4f5c\u6210\n$ knife cookbook create <\u30ec\u30b7\u30d4\u540d> -o site-cookbooks\n\n$ knife download <package> -o cookbooks\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3001\u30db\u30b9\u30c8\u5358\u4f4d\u3067\u5909\u308f\u308b\u3002\u30db\u30b9\u30c8\u306f nodes \u306b \u30db\u30b9\u30c8\u540d.json \u3067\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u3002\n\u5185\u5bb9\u306f\u3053\u3093\u306a\u611f\u3058\n  1 // localhost.json\n  2 {\n  3     \"nginx\" : {\n  4         \"port\": 80\n  5     },\n  6     \"run_list\":[\n  7         \"hello\",\n  8         \"yum::epel\",\n  9         \"base\",\n 10         \"nginx\"\n 11     ]\n 12 }```\n\n\n\nChef / Vargrnat \u306e\u30e1\u30e2\u66f8\u304d\n\n## Vargrant\n\nVirtualBox\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u52d5\u304b\u3059\n\nsee; http://d.hatena.ne.jp/naoya/20130205/1360062070\n\n## \u30b2\u30b9\u30c8OS\u306b\u30ed\u30b0\u30a4\u30f3\n\n```shell\n$ vagrant ssh\n```\n\n\n#### vagrant sandbox \u3068\u304b\n\n\u3053\u308c\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb http://www.ryuzee.com/contents/blog/6555\n\n\n```shell\n# sandbox \u30e2\u30fc\u30c9\u306b\u5165\u308b\n$ vagrant sandbox on\n\n# sandbox \u30e2\u30fc\u30c9 on \u306b\u5165\u3063\u305f\u6642\u70b9\u307e\u3067\u5dfb\u304d\u623b\u3059!\n$ vagrant sandbox rollback\n\n# \u5909\u66f4\u3092\u78ba\u5b9a\n$ vagrant sandbox commit\n```\n\n## Chef\n\n```shell\n$ gem install knife-solo\n```\n\n## Knife\n\nBrew \u3067\u5165\u308c\u305f ruby \u306b\u5165\u308c\u3066\u3082\u3046\u305f\u306e\u3067\u3053\u308c\u53e9\u304f\u5fc5\u8981\u3042\u308b\u3002\n\n```shell\n$ PATH=\"$PATH:/usr/local/Cellar/ruby/2.0.0-p0/bin\"\n$ rehash\n```\n\n``` shell\n$ knife solo init chef-repo\n$ cd chef-repo\n$ knife solo prepare vagrant@10.0.2.15\n```\n\n\n\u304a\u307e\u3058\u306a\u3044\u305d\u306e1\n\n\u30ea\u30e2\u30fc\u30c8\u3067\u306e chef-solo \u5b9f\u884c\u74b0\u5883\u3092\u6574\u3048\u308b\n\n```shell\n$ knife solo prepare -p 2222 -x vagrant --identity-file ~/.vagrant.d/insecure_private_key 127.0.0.1\n```\n\n\u304a\u307e\u3058\u306a\u3044\u305d\u306e2\n\n\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u3067\u5b9f\u884c\u3055\u305b\u308b\n\n```shell\n$ knife solo cook  -p 2222 -x vagrant --identity-file ~/.vagrant.d/insecure_private_key 127.0.0.1\n```\n\n\u30ec\u30b7\u30d4\u4f5c\u6210\n\n```shell\n$ knife cookbook create <\u30ec\u30b7\u30d4\u540d> -o site-cookbooks\n```\n\n```shell\n$ knife download <package> -o cookbooks\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3001\u30db\u30b9\u30c8\u5358\u4f4d\u3067\u5909\u308f\u308b\u3002\u30db\u30b9\u30c8\u306f ``` nodes ``` \u306b ``` \u30db\u30b9\u30c8\u540d.json ``` \u3067\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u3002\n\n\u5185\u5bb9\u306f\u3053\u3093\u306a\u611f\u3058\n\n```json\n  1 // localhost.json\n  2 {\n  3     \"nginx\" : {\n  4         \"port\": 80\n  5     },\n  6     \"run_list\":[\n  7         \"hello\",\n  8         \"yum::epel\",\n  9         \"base\",\n 10         \"nginx\"\n 11     ]\n 12 }```", "tags": ["memo"]}