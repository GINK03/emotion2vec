{"context": "\u3053\u3093\u306b\u3061\u306f\u3001yoshi\u3067\u3059\u3002\n\u4eca\u56de\u306fkubernetes \u3067\u52d5\u304b\u3057\u3066\u3044\u308b example.com \u306e SSL \u8a3c\u660e\u66f8(Let's encrypt)\u304c\u5207\u308c\u308b\u306e\u3067\u66f4\u65b0\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u6761\u4ef6\nMac\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067kubectl\u304c\u4f7f\u3048\u308b\n=> \u4f7f\u3048\u306a\u3044\u65b9\u306f\u3053\u3061\u3089\n\n\u624b\u9806\n\u307e\u305a\u5927\u307e\u304b\u306a\u624b\u9806\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n1: \u65b0\u3057\u304fComputer Instance\u3092\u7acb\u3061\u4e0a\u3052\u3001example.com \u306e DNS \u3092\u65b0\u3057\u3044\u3082\u306e\u306b\u5909\u3048\u3001Let's Encrypt bot \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5f8c\u8a3c\u660e\u66f8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n2: DNS\u3092\u5143\u306e\u3082\u306e\u306b\u623b\u3057\u3066\u3001\u30ed\u30fc\u30ab\u30eb\u306b\u843d\u3068\u3057\u305f\u8a3c\u660e\u66f8\u3092\u6b63\u3057\u3044IP\u30a2\u30c9\u30ec\u30b9\u306eComputer Instance\u306b\u30a2\u30c3\u30d7\u3059\u308b\u3002\n3: example.com \u304cSSL\u3067\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\uff11\u3064\u305a\u3064\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u7acb\u3061\u4e0a\u3052\nhttps://console.cloud.google.com \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066Compute Engine\u306e\u30da\u30fc\u30b8\u306b\u3044\u304d\u307e\u3059\u3002  \n\nCREATE INSTANCE\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u5909\u66f4\u3059\u308b\u70b9\u306f\u4ee5\u4e0b\u306e5\u3064\u3067\u3059\u3002\nName: \u9069\u5f53\u306a\u540d\u524d\u3092\u3064\u3051\u307e\u3059\u3002\nZone: \u65e5\u672c\u3067\u3042\u308c\u3070 asia-east1-a\u3067\u826f\u3044\u3067\u3057\u3087\u3046\u3002\nMachine type: \u4e00\u756a\u5c0f\u3055\u3044\u5927\u304d\u3055\u306e\u30a4\u30f3\u30b9\u30bf\u3067\u69cb\u3044\u307e\u305b\u3093\u3002\nBoot disk: \u4eca\u56de\u306f Ubuntu 14.04 \u3092\u4f7f\u3044\u307e\u3059\u3002\nFirewall: HTTP\u3068HTTPS\u3092\u4e21\u65b9\u3068\u3082\u8a31\u53ef\u3057\u307e\u3059\u3002  \n\nExternal IP\u53d6\u5f97\n\u4f5c\u6210\u3057\u305f\u3089\u305d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u5165\u3063\u3066\u3001External IP\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n\u4eca\u56de\u306f104.xxx.xxx.xxx\u3067\u3059\u306d\u3002\n\nDNS\u8a2d\u5b9a\n\u6b21\u306b Networking > Cloud DNS\u304b\u3089\u9069\u5207\u306a\u72ec\u81ea\u30c9\u30e1\u30a4\u30f3\u306e\u5bfe\u5fdc\u3059\u308bData\u3092\u5148\u307b\u3069\u306eExternal IP\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\u3000\u3000\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078SSH\u63a5\u7d9a\n\u9069\u5207\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u5165\u3063\u3066SSH\u63a5\u7d9a\u3092\u884c\u3044...\u7d9a\u304d\u3092\u8aad\u3080\n\u3053\u3093\u306b\u3061\u306f\u3001yoshi\u3067\u3059\u3002\n\n\u4eca\u56de\u306fkubernetes \u3067\u52d5\u304b\u3057\u3066\u3044\u308b example.com \u306e SSL \u8a3c\u660e\u66f8(Let's encrypt)\u304c\u5207\u308c\u308b\u306e\u3067\u66f4\u65b0\u3057\u3066\u307f\u307e\u3059\u3002\n\n######\u6761\u4ef6\nMac\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067`kubectl`\u304c\u4f7f\u3048\u308b\n=> \u4f7f\u3048\u306a\u3044\u65b9\u306f[\u3053\u3061\u3089](http://blog.lesson-time.com/kuberneteswoshi-utamenoshe-ding-nado/)\n\n######\u624b\u9806\n\u307e\u305a\u5927\u307e\u304b\u306a\u624b\u9806\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n![SSL.png](https://qiita-image-store.s3.amazonaws.com/0/63807/7a9f7687-da3e-a44d-fc2a-a5fd748965ac.png)\n\n\n1: \u65b0\u3057\u304fComputer Instance\u3092\u7acb\u3061\u4e0a\u3052\u3001`example.com` \u306e DNS \u3092\u65b0\u3057\u3044\u3082\u306e\u306b\u5909\u3048\u3001Let's Encrypt bot \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5f8c\u8a3c\u660e\u66f8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n2: DNS\u3092\u5143\u306e\u3082\u306e\u306b\u623b\u3057\u3066\u3001\u30ed\u30fc\u30ab\u30eb\u306b\u843d\u3068\u3057\u305f\u8a3c\u660e\u66f8\u3092\u6b63\u3057\u3044IP\u30a2\u30c9\u30ec\u30b9\u306eComputer Instance\u306b\u30a2\u30c3\u30d7\u3059\u308b\u3002\n3: `example.com` \u304cSSL\u3067\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n\n\uff11\u3064\u305a\u3064\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n######\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u7acb\u3061\u4e0a\u3052\n[https://console.cloud.google.com](https://console.cloud.google.com) \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066Compute Engine\u306e\u30da\u30fc\u30b8\u306b\u3044\u304d\u307e\u3059\u3002  \n\n![Screen-Shot-2016-09-26-at-14.12.52_2-1.png](https://qiita-image-store.s3.amazonaws.com/0/63807/51f5eb86-5090-77fb-f08f-e6083c218a48.png)\n\n`CREATE INSTANCE`\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n<img width=\"797\" alt=\"Screen-Shot-2016-09-26-at-14.19.19.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/63807/f00e3231-ae79-22cc-e812-7ed1aab85eff.png\">\n\n\n\u5909\u66f4\u3059\u308b\u70b9\u306f\u4ee5\u4e0b\u306e5\u3064\u3067\u3059\u3002  \n**Name**: \u9069\u5f53\u306a\u540d\u524d\u3092\u3064\u3051\u307e\u3059\u3002  \n**Zone**: \u65e5\u672c\u3067\u3042\u308c\u3070 `asia-east1-a`\u3067\u826f\u3044\u3067\u3057\u3087\u3046\u3002  \n**Machine type**: \u4e00\u756a\u5c0f\u3055\u3044\u5927\u304d\u3055\u306e\u30a4\u30f3\u30b9\u30bf\u3067\u69cb\u3044\u307e\u305b\u3093\u3002  \n**Boot disk**: \u4eca\u56de\u306f `Ubuntu 14.04` \u3092\u4f7f\u3044\u307e\u3059\u3002  \n**Firewall**: HTTP\u3068HTTPS\u3092\u4e21\u65b9\u3068\u3082\u8a31\u53ef\u3057\u307e\u3059\u3002  \n\n######External IP\u53d6\u5f97\n\u4f5c\u6210\u3057\u305f\u3089\u305d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u5165\u3063\u3066\u3001External IP\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002  \n![Screen-Shot-2016-09-26-at-14.25.04-2.png](https://qiita-image-store.s3.amazonaws.com/0/63807/98c38c1f-9b55-0f5f-4b8e-5e7b54d7f059.png)\n\n\u4eca\u56de\u306f`104.xxx.xxx.xxx`\u3067\u3059\u306d\u3002\n\n######DNS\u8a2d\u5b9a\n\u6b21\u306b Networking > Cloud DNS\u304b\u3089\u9069\u5207\u306a\u72ec\u81ea\u30c9\u30e1\u30a4\u30f3\u306e\u5bfe\u5fdc\u3059\u308b**Data**\u3092\u5148\u307b\u3069\u306eExternal IP\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\u3000\u3000\n![Screen-Shot-2016-09-26-at-14.28.47-1.png](https://qiita-image-store.s3.amazonaws.com/0/63807/c04266cd-af9e-f1ef-dccf-2f8453e106d6.png)\n\n\n######\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078SSH\u63a5\u7d9a\n\n\u9069\u5207\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u5165\u3063\u3066SSH\u63a5\u7d9a\u3092\u884c\u3044...[\u7d9a\u304d\u3092\u8aad\u3080](http://blog.lesson-time.com/update-ssl-certificate/)\n", "tags": ["gce", "SSL", "letsencrypt", "kubernetes", "proxy"]}