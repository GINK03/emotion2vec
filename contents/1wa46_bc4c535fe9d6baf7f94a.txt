{"context": "\n\n*** Terminating app due to uncaught exception 'NSRangeException', reason: '*** -[NSConcreteTextStorage attribute:atIndex:effectiveRange:]: Range or index out of bounds' ***\nUITableView \u4e0a\u306b Custom Cell \u3092\u4f5c\u6210\u3057\u3066\u3001NSMutableAttributedString\u3092\u88c5\u98fe\u3057\u3066\u4f7f\u7528\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\u90e8\u5206\u7684\u306b\u4e0b\u8a18\u306e\u30b3\u30fc\u30c9\u3067\u3001\ncell.bodyTextView.attributedText = nil\n\n\u8868\u793a\u975e\u8868\u793a\u3092\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3002\u3002\u3002\n\u8a72\u5f53\u306eCell\u3092\u9078\u629e\u3059\u308b\u3068\u304cRange or index out of bounds\u3067crush\u3057\u3066\u3057\u307e\u3046\u4e0d\u5177\u5408\u304c\u6d3e\u751f\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\n\u7b54\u3048\u306f\u7279\u6b8a\u306a\u8a2d\u5b9a\u306b\u3042\u308a\u307e\u3057\u305f\u3002\n// NOTE: \u30ea\u30f3\u30af\u306e\u307f\u9078\u629e\u3092\u8a31\u53ef\noverride public func hitTest(_ point: CGPoint, with event: UIEvent?) -> UIView? {\n        let glyphIndex = self.layoutManager.glyphIndex(for: point, in: self.textContainer)\n        let characterIndex = self.layoutManager.characterIndexForGlyph(at: glyphIndex)\n        // NOTE: textStorage\u304c\u7a7a\u306e\u5834\u5408\u3067crash\u3059\u308b\n        guard let _ = self.textStorage.attribute(NSLinkAttributeName, at: characterIndex, effectiveRange: nil) else {\n            return nil\n        }\n\n        return self\n}\n\ncell\u306e\u9078\u629e\u3068\u30ea\u30f3\u30af\u306e\u9078\u629e\u3092\u53d6\u5f97\u3059\u308b\u70ba\u306bhitTest\u3067textStorage\u5185\u306e\u30c6\u30ad\u30b9\u30c8\u3092\u5224\u5b9a\u3057\u3066\u3044\u305f\u70ba\u3067\u3057\u305f\u3002\n// NOTE: \u30ea\u30f3\u30af\u306e\u307f\u9078\u629e\u3092\u8a31\u53ef\noverride public func hitTest(_ point: CGPoint, with event: UIEvent?) -> UIView? {\n        let glyphIndex = self.layoutManager.glyphIndex(for: point, in: self.textContainer)\n        let characterIndex = self.layoutManager.characterIndexForGlyph(at: glyphIndex)\n        // NOTE: textStorage\u304c\u7a7a\u306e\u5834\u5408\u3067crash\u3059\u308b\n        if self.text.isEmpty {\n            return nil\n        }\n\n        guard let _ = self.textStorage.attribute(NSLinkAttributeName, at: characterIndex, effectiveRange: nil) else {\n            return nil\n        }\n\n        return self\n}\n\n\u4e88\u671f\u3057\u306a\u3044crash\u304c\u591a\u767a\u3059\u308b\u8f9b\u3044\u4e8b\u8c61\u3067\u3057\u305f\u3002\u3002\n\n## *** Terminating app due to uncaught exception 'NSRangeException', reason: '*** -[NSConcreteTextStorage attribute:atIndex:effectiveRange:]: Range or index out of bounds' *** \n\nUITableView \u4e0a\u306b Custom Cell \u3092\u4f5c\u6210\u3057\u3066\u3001NSMutableAttributedString\u3092\u88c5\u98fe\u3057\u3066\u4f7f\u7528\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\n\u90e8\u5206\u7684\u306b\u4e0b\u8a18\u306e\u30b3\u30fc\u30c9\u3067\u3001\n\n```swift\ncell.bodyTextView.attributedText = nil\n```\n\u8868\u793a\u975e\u8868\u793a\u3092\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3002\u3002\u3002\n\u8a72\u5f53\u306eCell\u3092\u9078\u629e\u3059\u308b\u3068\u304c```Range or index out of bounds```\u3067crush\u3057\u3066\u3057\u307e\u3046\u4e0d\u5177\u5408\u304c\u6d3e\u751f\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\n## \u7b54\u3048\u306f\u7279\u6b8a\u306a\u8a2d\u5b9a\u306b\u3042\u308a\u307e\u3057\u305f\u3002\n\n```swift\n// NOTE: \u30ea\u30f3\u30af\u306e\u307f\u9078\u629e\u3092\u8a31\u53ef\noverride public func hitTest(_ point: CGPoint, with event: UIEvent?) -> UIView? {\n        let glyphIndex = self.layoutManager.glyphIndex(for: point, in: self.textContainer)\n        let characterIndex = self.layoutManager.characterIndexForGlyph(at: glyphIndex)\n        // NOTE: textStorage\u304c\u7a7a\u306e\u5834\u5408\u3067crash\u3059\u308b\n        guard let _ = self.textStorage.attribute(NSLinkAttributeName, at: characterIndex, effectiveRange: nil) else {\n            return nil\n        }\n        \n        return self\n}\n```\n\ncell\u306e\u9078\u629e\u3068\u30ea\u30f3\u30af\u306e\u9078\u629e\u3092\u53d6\u5f97\u3059\u308b\u70ba\u306bhitTest\u3067textStorage\u5185\u306e\u30c6\u30ad\u30b9\u30c8\u3092\u5224\u5b9a\u3057\u3066\u3044\u305f\u70ba\u3067\u3057\u305f\u3002\n\n```swift\n// NOTE: \u30ea\u30f3\u30af\u306e\u307f\u9078\u629e\u3092\u8a31\u53ef\noverride public func hitTest(_ point: CGPoint, with event: UIEvent?) -> UIView? {\n        let glyphIndex = self.layoutManager.glyphIndex(for: point, in: self.textContainer)\n        let characterIndex = self.layoutManager.characterIndexForGlyph(at: glyphIndex)\n        // NOTE: textStorage\u304c\u7a7a\u306e\u5834\u5408\u3067crash\u3059\u308b\n        if self.text.isEmpty {\n            return nil\n        }\n        \n        guard let _ = self.textStorage.attribute(NSLinkAttributeName, at: characterIndex, effectiveRange: nil) else {\n            return nil\n        }\n        \n        return self\n}\n```\n\n\n\u4e88\u671f\u3057\u306a\u3044crash\u304c\u591a\u767a\u3059\u308b\u8f9b\u3044\u4e8b\u8c61\u3067\u3057\u305f\u3002\u3002\n", "tags": ["Swift", "Xcode", "iOS9", "ios10", "UITextView"]}