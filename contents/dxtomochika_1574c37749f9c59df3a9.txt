{"context": "New Relic APM Java agent\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\uff08Java\u3001Tomcat8\uff09\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3068\u304d\u306eTips\u3067\u3059\u3002\n\n\u691c\u8a3c\u74b0\u5883\nOS\uff1a\u3000CentOS 7\nJava\uff1a\u3000java version \"1.8.0_121\"\nTomcat8\uff1a\u3000apache-tomcat-8.5.11\nJava\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002\nJDK 8 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nTomcat8\n\nJava agent \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\n2\u901a\u308a\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306fself-installer\u306e\u624b\u9806\u306b\u5f93\u3044\u307e\u3059\u3002\nJava agent self-installer\nJava agent manual installation\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u30a8\u30e9\u30fc\uff09\n\u65e9\u901f\u30a8\u30e9\u30fc\u3002\n# unzip newrelic-java-3.35.2.zip\n# cd newrelic\n# java -jar newrelic.jar install\n***** ( ( o))  New Relic Java Agent Installer\n\n***** Installing version 3.35.2 ...\n\n* Could not edit start script because:\nCould not locate a Tomcat, Jetty, JBoss, JBoss7 or Glassfish instance in /root\n\n* Try re-running the install command with the -s <AppServerRootDirectory> option or from <AppServerRootDirectory>/newrelic.\nIf that doesn't work, locate and edit the start script manually.\n\n* No need to create New Relic configuration file because:\n A config file already exists: /root/newrelic/newrelic.yml\n\n***** Install incomplete\n\n***** Next steps:\nFor help completing the install, see https://newrelic.com/docs/java/new-relic-for-java\n#\n\n\u521d\u6b69\u7684\u3067\u3059\u304c\u3001\u7406\u7531\u306fzip\u306e\u89e3\u51cd\u5148\u304c\u6b63\u3057\u3044\u30d1\u30b9\u3067\u306f\u306a\u304b\u3063\u305f\u304b\u3089\u3067\u3059\u3002\u3058\u3083\u3042\u3069\u3053\uff1f\u3068\u3044\u3046\u8a71\u3002\nJava agent self-installer\u3092\u307f\u308b\u3068\u3001\nOptional file download procedure\u3067\u3001\n\nunzip newrelic.zip -d /path/to/appserver/\n\nRun the installer\u3067\u3001\n\ncd /path/to/appserver/newrelic\njava -jar newrelic.jar install\n\n\u3068\u8a18\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\"/path/to/appserver/\"\u304c\u4f55\u3092\u610f\u5473\u3059\u308b\u306e\u304b\u308f\u304b\u308a\u306b\u304f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\"/path/to/appserver/\"\u3068\u3044\u3046\u540d\u524d\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u306e\uff1f\uff08\u3053\u306e\u53ef\u80fd\u6027\u306f\u771f\u3063\u5148\u306b\u4f4e\u305d\u3046\uff09\nTomcat\u304c\u3042\u308b\u30d1\u30b9\u306e\u3053\u3068\uff1f\u5177\u4f53\u7684\u306b\u3069\u3053\uff1f\uff08\u968e\u5c64\u6df1\u3044\u3057\uff09\n\n\u5f8c\u8005\u3068\u3057\u3066\u3082\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\uff08Tomcat\u7b49\uff09\u306b\u8a73\u3057\u3044\u3053\u3068\u3001\u76e3\u8996\u5bfe\u8c61\u3068\u306a\u308b\u74b0\u5883\u56fa\u6709\u306e\u60c5\u5831\u306b\u8a73\u3057\u3044\u3053\u3068\u304c\u8981\u6c42\u3055\u308c\u307e\u3059\u3002\u5b9f\u969b\u306e\u672c\u756a\u74b0\u5883\u3067\u8a66\u3059\u3068\u304d\u306f\u3053\u306e\u8fba\u306e\u4e8b\u524d\u78ba\u8a8d\u304c\u91cd\u8981\u306b\u306a\u308b\u3068\u8003\u3048\u3089\u308c\u307e\u3059\u3002\n\u4eca\u56de\u306e\u5834\u5408\u3001\u3053\u3061\u3089\u3092\u30d2\u30f3\u30c8\u306b\u3001/usr/tomcat8/\u914d\u4e0b\u306bunzip\u3059\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u6210\u529f\u3057\u307e\u3057\u305f\u3002\n\u5177\u4f53\u4f8b\u3092\u4e0b\u306b\u8f09\u305b\u307e\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u6210\u529f\uff09\n# unzip newrelic-java-3.35.2.zip -d /usr/tomcat8/\nArchive:  newrelic-java-3.35.2.zip\n   creating: /usr/tomcat8/newrelic/\n  inflating: /usr/tomcat8/newrelic/newrelic.jar\n  inflating: /usr/tomcat8/newrelic/LICENSE\n  inflating: /usr/tomcat8/newrelic/CHANGELOG\n  inflating: /usr/tomcat8/newrelic/README.txt\n  inflating: /usr/tomcat8/newrelic/extension-example.xml\n  inflating: /usr/tomcat8/newrelic/extension.xsd\n  inflating: /usr/tomcat8/newrelic/newrelic.yml\n  inflating: /usr/tomcat8/newrelic/nrcerts\n  inflating: /usr/tomcat8/newrelic/newrelic-api.jar\n  inflating: /usr/tomcat8/newrelic/newrelic-api-sources.jar\n  inflating: /usr/tomcat8/newrelic/newrelic-api-javadoc.jar\n\n# cd /usr/tomcat8/newrelic/\n\n# java -jar newrelic.jar install\n***** ( ( o))  New Relic Java Agent Installer\n\n***** Installing version 3.35.2 ...\n\n* Backed up start script to /usr/tomcat8/bin/catalina.sh.20170217_140452\n\n* Added agent switch to start script /usr/tomcat8/bin/catalina.sh\n\n* No need to create New Relic configuration file because:\n A config file already exists: /usr/tomcat8/newrelic/newrelic.yml\n\n***** Install successful\n\n***** Next steps:\nYou're almost done! To see performance data for your app:\n\n1) Restart your app server\n2) Exercise your app\n3) Log into http://rpm.newrelic.com\n\nWithin two minutes, your app should show up, ready to monitor and troubleshoot.\nIf app data doesn't appear, check newrelic/logs/newrelic_agent.log for errors.\n#\n\n\u5ff5\u306e\u305f\u3081Tomcat\u306e\u30d7\u30ed\u30bb\u30b9\u518d\u8d77\u52d5\u3002\n# systemctl restart tomcat8\n\n\u3081\u3067\u305f\u304f\u76e3\u8996\u304c\u30b9\u30bf\u30fc\u30c8\u3057\u307e\u3057\u305f\u3002\n\n\u4ee5\u4e0a\nNew Relic APM Java agent\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\uff08Java\u3001Tomcat8\uff09\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3068\u304d\u306eTips\u3067\u3059\u3002\n\n# \u691c\u8a3c\u74b0\u5883\nOS\uff1a\u3000CentOS 7\nJava\uff1a\u3000java version \"1.8.0_121\"\nTomcat8\uff1a\u3000apache-tomcat-8.5.11\nJava\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002\n[JDK 8 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](https://www.server-world.info/query?os=CentOS_7&p=jdk8)\n[Tomcat8](https://www.server-world.info/query?os=CentOS_7&p=tomcat8)\n\n# Java agent \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\n2\u901a\u308a\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306fself-installer\u306e\u624b\u9806\u306b\u5f93\u3044\u307e\u3059\u3002\n\n[Java agent self-installer](https://docs.newrelic.com/docs/agents/java-agent/installation/java-agent-self-installer)\n[Java agent manual installation](https://docs.newrelic.com/docs/agents/java-agent/installation/java-agent-manual-installation)\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u30a8\u30e9\u30fc\uff09\n\u65e9\u901f\u30a8\u30e9\u30fc\u3002\n\n```\n# unzip newrelic-java-3.35.2.zip\n# cd newrelic\n# java -jar newrelic.jar install\n***** ( ( o))  New Relic Java Agent Installer\n\n***** Installing version 3.35.2 ...\n\n* Could not edit start script because:\nCould not locate a Tomcat, Jetty, JBoss, JBoss7 or Glassfish instance in /root\n\n* Try re-running the install command with the -s <AppServerRootDirectory> option or from <AppServerRootDirectory>/newrelic.\nIf that doesn't work, locate and edit the start script manually.\n\n* No need to create New Relic configuration file because:\n A config file already exists: /root/newrelic/newrelic.yml\n\n***** Install incomplete\n\n***** Next steps:\nFor help completing the install, see https://newrelic.com/docs/java/new-relic-for-java\n#\n```\n\n\u521d\u6b69\u7684\u3067\u3059\u304c\u3001\u7406\u7531\u306fzip\u306e\u89e3\u51cd\u5148\u304c\u6b63\u3057\u3044\u30d1\u30b9\u3067\u306f\u306a\u304b\u3063\u305f\u304b\u3089\u3067\u3059\u3002\u3058\u3083\u3042\u3069\u3053\uff1f\u3068\u3044\u3046\u8a71\u3002\n\n[Java agent self-installer](https://docs.newrelic.com/docs/agents/java-agent/installation/java-agent-self-installer)\u3092\u307f\u308b\u3068\u3001\n\nOptional file download procedure\u3067\u3001\n```\nunzip newrelic.zip -d /path/to/appserver/\n```\nRun the installer\u3067\u3001\n```\ncd /path/to/appserver/newrelic\njava -jar newrelic.jar install\n```\n\u3068\u8a18\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\"/path/to/appserver/\"\u304c\u4f55\u3092\u610f\u5473\u3059\u308b\u306e\u304b\u308f\u304b\u308a\u306b\u304f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n+ \"/path/to/appserver/\"\u3068\u3044\u3046\u540d\u524d\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u306e\uff1f\uff08\u3053\u306e\u53ef\u80fd\u6027\u306f\u771f\u3063\u5148\u306b\u4f4e\u305d\u3046\uff09\n+ Tomcat\u304c\u3042\u308b\u30d1\u30b9\u306e\u3053\u3068\uff1f\u5177\u4f53\u7684\u306b\u3069\u3053\uff1f\uff08\u968e\u5c64\u6df1\u3044\u3057\uff09\n\n\u5f8c\u8005\u3068\u3057\u3066\u3082\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\uff08Tomcat\u7b49\uff09\u306b\u8a73\u3057\u3044\u3053\u3068\u3001\u76e3\u8996\u5bfe\u8c61\u3068\u306a\u308b\u74b0\u5883\u56fa\u6709\u306e\u60c5\u5831\u306b\u8a73\u3057\u3044\u3053\u3068\u304c\u8981\u6c42\u3055\u308c\u307e\u3059\u3002\u5b9f\u969b\u306e\u672c\u756a\u74b0\u5883\u3067\u8a66\u3059\u3068\u304d\u306f\u3053\u306e\u8fba\u306e\u4e8b\u524d\u78ba\u8a8d\u304c\u91cd\u8981\u306b\u306a\u308b\u3068\u8003\u3048\u3089\u308c\u307e\u3059\u3002\n\n\u4eca\u56de\u306e\u5834\u5408\u3001[\u3053\u3061\u3089](https://www.infoscoop.org/blogjp/2015/01/09/new-relic-java-agent/)\u3092\u30d2\u30f3\u30c8\u306b\u3001/usr/tomcat8/\u914d\u4e0b\u306bunzip\u3059\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u6210\u529f\u3057\u307e\u3057\u305f\u3002\n\n\u5177\u4f53\u4f8b\u3092\u4e0b\u306b\u8f09\u305b\u307e\u3059\u3002\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u6210\u529f\uff09\n```\n# unzip newrelic-java-3.35.2.zip -d /usr/tomcat8/\nArchive:  newrelic-java-3.35.2.zip\n   creating: /usr/tomcat8/newrelic/\n  inflating: /usr/tomcat8/newrelic/newrelic.jar\n  inflating: /usr/tomcat8/newrelic/LICENSE\n  inflating: /usr/tomcat8/newrelic/CHANGELOG\n  inflating: /usr/tomcat8/newrelic/README.txt\n  inflating: /usr/tomcat8/newrelic/extension-example.xml\n  inflating: /usr/tomcat8/newrelic/extension.xsd\n  inflating: /usr/tomcat8/newrelic/newrelic.yml\n  inflating: /usr/tomcat8/newrelic/nrcerts\n  inflating: /usr/tomcat8/newrelic/newrelic-api.jar\n  inflating: /usr/tomcat8/newrelic/newrelic-api-sources.jar\n  inflating: /usr/tomcat8/newrelic/newrelic-api-javadoc.jar\n```\n```\n# cd /usr/tomcat8/newrelic/\n```\n```\n# java -jar newrelic.jar install\n***** ( ( o))  New Relic Java Agent Installer\n\n***** Installing version 3.35.2 ...\n\n* Backed up start script to /usr/tomcat8/bin/catalina.sh.20170217_140452\n\n* Added agent switch to start script /usr/tomcat8/bin/catalina.sh\n\n* No need to create New Relic configuration file because:\n A config file already exists: /usr/tomcat8/newrelic/newrelic.yml\n\n***** Install successful\n\n***** Next steps:\nYou're almost done! To see performance data for your app:\n\n1) Restart your app server\n2) Exercise your app\n3) Log into http://rpm.newrelic.com\n\nWithin two minutes, your app should show up, ready to monitor and troubleshoot.\nIf app data doesn't appear, check newrelic/logs/newrelic_agent.log for errors.\n#\n```\n\n\u5ff5\u306e\u305f\u3081Tomcat\u306e\u30d7\u30ed\u30bb\u30b9\u518d\u8d77\u52d5\u3002\n\n```\n# systemctl restart tomcat8\n```\n\u3081\u3067\u305f\u304f\u76e3\u8996\u304c\u30b9\u30bf\u30fc\u30c8\u3057\u307e\u3057\u305f\u3002\n\n![1.jpg](https://qiita-image-store.s3.amazonaws.com/0/150932/00ccc58f-3c1e-dae1-c6b4-cbde73e17942.jpeg)\n\n\n\u4ee5\u4e0a\n", "tags": ["newrelic"]}