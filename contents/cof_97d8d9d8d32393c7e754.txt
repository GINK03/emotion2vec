{"context": " More than 1 year has passed since last update.\n\n\u554f\u984c\n\u4e94\u89d2\u6570\u306f Pn = n(3n-1)/2 \u3067\u751f\u6210\u3055\u308c\u308b. \u6700\u521d\u306e10\u9805\u306f\n1, 5, 12, 22, 35, 51, 70, 92, 117, 145, ...\n\n\u3067\u3042\u308b.\nP4 + P7 = 22 + 70 = 92 = P8 \u3067\u3042\u308b. \u3057\u304b\u3057\u5dee 70 - 22 = 48 \u306f\u4e94\u89d2\u6570\u3067\u306f\u306a\u3044.\n\u4e94\u89d2\u6570\u306e\u30da\u30a2 Pj \u3068 Pk \u306b\u3064\u3044\u3066, \u5dee\u3068\u548c\u304c\u4e94\u89d2\u6570\u306b\u306a\u308b\u3082\u306e\u3092\u8003\u3048\u308b. \u5dee\u3092 D = |Pk - Pj| \u3068\u66f8\u304f. \u5dee D \u306e\u6700\u5c0f\u5024\u3092\u6c42\u3081\u3088.\nhttp://odz.sakura.ne.jp/projecteuler/index.php?cmd=read&page=Problem%2044\n\n\u56de\u7b54\n\u7b2c2n\u9805\u307e\u3067\u306e5\u89d2\u6570\u306e\u6570\u5217\u3092\u4f5c\u6210\u3057\u3066\u304b\u3089\u3001\u7b2cn\u9805\u306e5\u89d2\u6570\u3068\u7b2c1\u9805\uff5e\u7b2cn\u9805\u306e5\u89d2\u6570\u306e\u548c\u53ca\u3073\u5dee\u304c\u3044\u305a\u308c\u30825\u89d2\u6570\u304b\u5426\u304b\u3092\u5224\u5b9a\u3057\u305f\u3002\nappend\u5c5e\u6027\u7b49\u306e\u53c2\u7167\u306b\u6642\u9593\u304c\u304b\u304b\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3042\u3063\u305f\u306e\u3067\u3001\u3042\u3089\u304b\u3058\u3081append\u5c5e\u6027\u3001add\u5c5e\u6027\u3092\u5909\u6570\u306b\u5165\u308c\u3066\u304a\u3044\u305f\u3002\u307e\u305f\u3001\u8981\u7d20\u304c\u6240\u5b9a\u306e\u96c6\u5408\u306b\u542b\u307e\u308c\u308b\u304b\u5426\u304b\u306b\u3064\u3044\u3066\u306f\u3001set\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u901f\u5ea6\u5411\u4e0a\u3092\u76ee\u6307\u3057\u305f\u3002\n\u7d50\u679c\u3068\u3057\u3066\u3001\u6700\u521d\u306b\u548c\u3068\u5dee\u304c5\u89d2\u6570\u3068\u306a\u308b\u3088\u3046\u306a\u6570\u306f\u898b\u3064\u304b\u3063\u305f\u3082\u306e\u306e\u3001\u305d\u308c\u304c\u6700\u5c0f\u3067\u3042\u308b\u3053\u3068\u306f\u78ba\u304b\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u3002\ndef pe44():\n  start, stop = 1, 10**8\n  pen = ((n * ( 3*n - 1))//2 for n in xrange(start, stop))\n  p_list, p_set = [], set([])\n  ans = 10**10\n  i = 0\n  append = p_list.append\n  add = p_set.add\n  while 1:\n    append(pen.next())\n    append(pen.next())\n    add(p_list[2*i])\n    add(p_list[2*i+1])\n\n    d = search(p_list[i],p_list[:i+1],p_set)\n    if d:\n      min_d = min(d)\n      if min_d < ans:\n        found_answer(min_d)\n        ans = min_d\n    if ans < p_list[i+1] - p_list[i]:\n      break\n    i+=1\n  return ans\n\ndef found_answer(n):\n  print n\n\n#@debug\ndef search(p1,p_list,p_set):\n  d = []\n  for p2 in p_list:\n    if (p1+p2 in p_set) and (p1-p2 in p_set):\n    #if (p1+p2 in p_list) and (p1-p2 in p_list):\n      d.append(p1-p2)\n  return d\n\npe44()\n\n\u554f\u984c\n---\n\u4e94\u89d2\u6570\u306f `Pn = n(3n-1)/2` \u3067\u751f\u6210\u3055\u308c\u308b. \u6700\u521d\u306e10\u9805\u306f\n\n```\n1, 5, 12, 22, 35, 51, 70, 92, 117, 145, ...\n```\n\n\u3067\u3042\u308b.\n\n`P4 + P7 = 22 + 70 = 92 = P8` \u3067\u3042\u308b. \u3057\u304b\u3057\u5dee `70 - 22 = 48` \u306f\u4e94\u89d2\u6570\u3067\u306f\u306a\u3044.\n\n\u4e94\u89d2\u6570\u306e\u30da\u30a2 Pj \u3068 Pk \u306b\u3064\u3044\u3066, \u5dee\u3068\u548c\u304c\u4e94\u89d2\u6570\u306b\u306a\u308b\u3082\u306e\u3092\u8003\u3048\u308b. \u5dee\u3092 `D = |Pk - Pj|` \u3068\u66f8\u304f. \u5dee D \u306e\u6700\u5c0f\u5024\u3092\u6c42\u3081\u3088.\nhttp://odz.sakura.ne.jp/projecteuler/index.php?cmd=read&page=Problem%2044\n\n\u56de\u7b54\n---\n\u7b2c2n\u9805\u307e\u3067\u306e5\u89d2\u6570\u306e\u6570\u5217\u3092\u4f5c\u6210\u3057\u3066\u304b\u3089\u3001\u7b2cn\u9805\u306e5\u89d2\u6570\u3068\u7b2c1\u9805\uff5e\u7b2cn\u9805\u306e5\u89d2\u6570\u306e\u548c\u53ca\u3073\u5dee\u304c\u3044\u305a\u308c\u30825\u89d2\u6570\u304b\u5426\u304b\u3092\u5224\u5b9a\u3057\u305f\u3002\nappend\u5c5e\u6027\u7b49\u306e\u53c2\u7167\u306b\u6642\u9593\u304c\u304b\u304b\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3042\u3063\u305f\u306e\u3067\u3001\u3042\u3089\u304b\u3058\u3081append\u5c5e\u6027\u3001add\u5c5e\u6027\u3092\u5909\u6570\u306b\u5165\u308c\u3066\u304a\u3044\u305f\u3002\u307e\u305f\u3001\u8981\u7d20\u304c\u6240\u5b9a\u306e\u96c6\u5408\u306b\u542b\u307e\u308c\u308b\u304b\u5426\u304b\u306b\u3064\u3044\u3066\u306f\u3001set\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u901f\u5ea6\u5411\u4e0a\u3092\u76ee\u6307\u3057\u305f\u3002\n\n\u7d50\u679c\u3068\u3057\u3066\u3001\u6700\u521d\u306b\u548c\u3068\u5dee\u304c5\u89d2\u6570\u3068\u306a\u308b\u3088\u3046\u306a\u6570\u306f\u898b\u3064\u304b\u3063\u305f\u3082\u306e\u306e\u3001\u305d\u308c\u304c\u6700\u5c0f\u3067\u3042\u308b\u3053\u3068\u306f\u78ba\u304b\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u3002\n\n```py\ndef pe44():\n  start, stop = 1, 10**8\n  pen = ((n * ( 3*n - 1))//2 for n in xrange(start, stop))\n  p_list, p_set = [], set([])\n  ans = 10**10\n  i = 0\n  append = p_list.append\n  add = p_set.add\n  while 1:\n    append(pen.next())\n    append(pen.next())\n    add(p_list[2*i])\n    add(p_list[2*i+1])\n    \n    d = search(p_list[i],p_list[:i+1],p_set)\n    if d:\n      min_d = min(d)\n      if min_d < ans:\n        found_answer(min_d)\n        ans = min_d\n    if ans < p_list[i+1] - p_list[i]:\n      break\n    i+=1\n  return ans\n\ndef found_answer(n):\n  print n\n\n#@debug\ndef search(p1,p_list,p_set):\n  d = []\n  for p2 in p_list:\n    if (p1+p2 in p_set) and (p1-p2 in p_set):\n    #if (p1+p2 in p_list) and (p1-p2 in p_list):\n      d.append(p1-p2)\n  return d\n\npe44()\n```\n", "tags": ["Python", "ProjectEuler"]}