{"context": " More than 1 year has passed since last update.http://qiita.com/Nabetani/items/89fb0e2e712d4b396535\nhttp://nabetani.sakura.ne.jp/hena/ord13updowndouble/\n\u300c\u5897\u3084\u3059\u6e1b\u3089\u3059\u4e8c\u500d\u3059\u308b\u300d\u3092Erlang\u3067\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n0\u304b\u3089\u30b9\u30bf\u30fc\u30c8\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u9006\u306b\u76ee\u7684\u306e\u5024\u304b\u3089\u30b9\u30bf\u30fc\u30c8\u3057\u30011\u5897\u3084\u3059\u30011\u6e1b\u3089\u3059\u30012\u3067\u5272\u308b\u3092\u7e70\u308a\u8fd4\u3057\u30660\u306b\u5230\u9054\u3059\u308b\u307e\u3067\u306b\u8981\u3057\u305f\u56de\u6570\u3092\u8abf\u3079\u3066\u3044\u307e\u3059\u3002\u3069\u306e\u6f14\u7b97\u3092\u3059\u308b\u304b\u306f\u5024\u306e\u4e0b\u4f4d2\u30d3\u30c3\u30c8\u3067\u5224\u5b9a\u3057\u307e\u3059\u3002\n\u4e0b\u4f4d2\u30d3\u30c3\u30c8\u304c:\n\n?0 \u2192 2\u3067\u5272\u308b\n01 \u2192 1\u6e1b\u3089\u3059\n11 \u2192 1\u5897\u3084\u3059\n\n01\u306e\u3068\u304d1\u6e1b\u3089\u3057\u300111\u306e\u3068\u304d1\u5897\u3084\u3059\u3053\u3068\u3067\u4e0b\u4f4d2\u30d3\u30c3\u30c8\u309200\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f4\u306e\u500d\u6570\u3067\u3042\u308a\u30012\u30672\u56de\u5272\u308c\u308b\u305f\u3081\u3001\u3088\u308a\u5c11\u306a\u3044\u56de\u6570\u30671\u306b\u53ce\u675f\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u305f\u3060\u3057\u4e0b\u4f4d2\u30d3\u30c3\u30c8\u304c11\u306b\u306a\u308b\u6570\u306e\u3046\u30613\u306e\u6642\u3060\u3051\u306f\u30014\u306b\u3059\u308b\u3088\u308a2\u306b\u3059\u308b\u65b9\u304c\u53ce\u675f\u304c\u65e9\u3044\u305f\u3081\u3001\u7279\u4f8b\u3068\u3057\u30661\u6e1b\u3089\u3059\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u5b9f\u969b\u306b\u306f2\u21921\u21920\u306b\u3059\u308b\u51e6\u7406\u3092\u7701\u7565\u3057\u300c\u56de\u6570\u30923\u56de\u5897\u3084\u3057\u3066\u305d\u306e\u5834\u3067\u7d42\u4e86\u300d\u3057\u3066\u3044\u307e\u3059\u3002\n\nupdown.erl\n-module(updown).\n-compile(export_all).\n\nsolve(Data) ->\n  integer_to_list(op_count(list_to_integer(Data), 0)).\n\n%% \u7d50\u679c\u304c1\u304b3\u306b\u306a\u308b\u307e\u30672\u3067\u5272\u308b\u304b1\u3092\u5897\u6e1b\u3057\u3001\u305d\u306e\u56de\u6570\u3092\u8fd4\u3059\nop_count(1, Count) -> Count + 1;\nop_count(3, Count) -> Count + 3;\nop_count(Num, Count) ->\n  Bit0 = Num band 1,         % \u6700\u4e0b\u4f4d\u30d3\u30c3\u30c8\n  Bit1 = (Num bsr 1) band 1, % \u6700\u4e0b\u4f4d\u30d3\u30c3\u30c8\u306e1\u3064\u4e0a\u306e\u30d3\u30c3\u30c8\n  case {Bit1, Bit0} of                        % \u4e0b2\u30d3\u30c3\u30c8\u304c\n    {_, 0} -> op_count(Num bsr 1, Count + 1); % ?0\u306a\u30892\u3067\u5272\u308b\n    {0, 1} -> op_count(Num - 1, Count + 1);   % 01\u306a\u30891\u6e1b\u3089\u3059\n    {1, 1} -> op_count(Num + 1, Count + 1)    % 11\u306a\u30891\u5897\u3084\u3059\n  end.\n\ntest(Data, Expected) ->\n  Result = solve(Data),\n  OkNg = case Result =:= Expected of true -> ok; false -> ng end,\n  io:fwrite(\"~s: ~s -> ~s~n\", [OkNg, Data, Result]).\n\ntests() ->\n  test(\"59\", \"9\"), %0\n  test(\"10\", \"5\"), %1\n  test(\"11\", \"6\"), %2\n  test(\"12\", \"5\"), %3\n  test(\"13\", \"6\"), %4\n  test(\"14\", \"6\"), %5\n  test(\"15\", \"6\"), %6\n  test(\"16\", \"5\"), %7\n  test(\"17\", \"6\"), %8\n  test(\"18\", \"6\"), %9\n  test(\"27\", \"8\"), %10\n  test(\"28\", \"7\"), %11\n  test(\"29\", \"8\"), %12\n  test(\"30\", \"7\"), %13\n  test(\"31\", \"7\"), %14\n  test(\"32\", \"6\"), %15\n  test(\"33\", \"7\"), %16\n  test(\"34\", \"7\"), %17\n  test(\"35\", \"8\"), %18\n  test(\"41\", \"8\"), %19\n  test(\"71\", \"9\"), %20\n  test(\"1023\", \"12\"), %21\n  test(\"1024\", \"11\"), %22\n  test(\"1025\", \"12\"), %23\n  test(\"1707\", \"17\"), %24\n  test(\"683\", \"15\"), %25\n  test(\"123\", \"10\"), %26\n  test(\"187\", \"11\"), %27\n  test(\"237\", \"12\"), %28\n  test(\"5267\", \"18\"), %29\n  test(\"6737\", \"18\"), %30\n  test(\"14796\", \"20\"), %31\n  test(\"18998\", \"20\"), %32\n  test(\"23820\", \"20\"), %33\n  test(\"30380\", \"21\"), %34\n  test(\"31119\", \"21\"), %35\n  test(\"33301\", \"20\"), %36\n  test(\"33967\", \"21\"), %37\n  test(\"35443\", \"22\"), %38\n  test(\"35641\", \"22\"), %39\n  test(\"43695\", \"23\"), %40\n  test(\"44395\", \"23\"), %41\n  test(\"44666\", \"22\"), %42\n  test(\"987\", \"14\"), %43\n  test(\"1021\", \"13\"), %44\n  test(\"1019\", \"13\"), %45\n  test(\"1015\", \"13\"), %46\n  test(\"1007\", \"13\"), %47\n  test(\"1011\", \"14\"), %48\n  test(\"1003\", \"14\"), %49\n  test(\"983\", \"14\"), %50\n  test(\"999\", \"14\"), %51\n  test(\"2731\", \"18\"), %52\n  test(\"6827\", \"20\"), %53\n  test(\"10923\", \"21\"), %54\n  test(\"27307\", \"23\"), %55\n  test(\"43691\", \"24\"), %56\n  test(\"109227\", \"26\"), %57\n  test(\"174763\", \"27\"). %58\n\n\n\u7d50\u679c\u306e\u4e00\u90e8:\nok: 59 -> 9\nok: 10 -> 5\nok: 11 -> 6\nok: 12 -> 5\n...\n\nhttp://qiita.com/Nabetani/items/89fb0e2e712d4b396535\nhttp://nabetani.sakura.ne.jp/hena/ord13updowndouble/\n\u300c\u5897\u3084\u3059\u6e1b\u3089\u3059\u4e8c\u500d\u3059\u308b\u300d\u3092Erlang\u3067\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n0\u304b\u3089\u30b9\u30bf\u30fc\u30c8\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u9006\u306b\u76ee\u7684\u306e\u5024\u304b\u3089\u30b9\u30bf\u30fc\u30c8\u3057\u30011\u5897\u3084\u3059\u30011\u6e1b\u3089\u3059\u30012\u3067\u5272\u308b\u3092\u7e70\u308a\u8fd4\u3057\u30660\u306b\u5230\u9054\u3059\u308b\u307e\u3067\u306b\u8981\u3057\u305f\u56de\u6570\u3092\u8abf\u3079\u3066\u3044\u307e\u3059\u3002\u3069\u306e\u6f14\u7b97\u3092\u3059\u308b\u304b\u306f\u5024\u306e\u4e0b\u4f4d2\u30d3\u30c3\u30c8\u3067\u5224\u5b9a\u3057\u307e\u3059\u3002\n\n\u4e0b\u4f4d2\u30d3\u30c3\u30c8\u304c:\n\n- ?0 \u2192 2\u3067\u5272\u308b\n- 01 \u2192 1\u6e1b\u3089\u3059\n- 11 \u2192 1\u5897\u3084\u3059\n\n01\u306e\u3068\u304d1\u6e1b\u3089\u3057\u300111\u306e\u3068\u304d1\u5897\u3084\u3059\u3053\u3068\u3067\u4e0b\u4f4d2\u30d3\u30c3\u30c8\u309200\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f4\u306e\u500d\u6570\u3067\u3042\u308a\u30012\u30672\u56de\u5272\u308c\u308b\u305f\u3081\u3001\u3088\u308a\u5c11\u306a\u3044\u56de\u6570\u30671\u306b\u53ce\u675f\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u305f\u3060\u3057\u4e0b\u4f4d2\u30d3\u30c3\u30c8\u304c11\u306b\u306a\u308b\u6570\u306e\u3046\u30613\u306e\u6642\u3060\u3051\u306f\u30014\u306b\u3059\u308b\u3088\u308a2\u306b\u3059\u308b\u65b9\u304c\u53ce\u675f\u304c\u65e9\u3044\u305f\u3081\u3001\u7279\u4f8b\u3068\u3057\u30661\u6e1b\u3089\u3059\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u5b9f\u969b\u306b\u306f2\u21921\u21920\u306b\u3059\u308b\u51e6\u7406\u3092\u7701\u7565\u3057\u300c\u56de\u6570\u30923\u56de\u5897\u3084\u3057\u3066\u305d\u306e\u5834\u3067\u7d42\u4e86\u300d\u3057\u3066\u3044\u307e\u3059\u3002\n\n```erlang:updown.erl\n-module(updown).\n-compile(export_all).\n\nsolve(Data) ->\n  integer_to_list(op_count(list_to_integer(Data), 0)).\n\n%% \u7d50\u679c\u304c1\u304b3\u306b\u306a\u308b\u307e\u30672\u3067\u5272\u308b\u304b1\u3092\u5897\u6e1b\u3057\u3001\u305d\u306e\u56de\u6570\u3092\u8fd4\u3059\nop_count(1, Count) -> Count + 1;\nop_count(3, Count) -> Count + 3;\nop_count(Num, Count) ->\n  Bit0 = Num band 1,         % \u6700\u4e0b\u4f4d\u30d3\u30c3\u30c8\n  Bit1 = (Num bsr 1) band 1, % \u6700\u4e0b\u4f4d\u30d3\u30c3\u30c8\u306e1\u3064\u4e0a\u306e\u30d3\u30c3\u30c8\n  case {Bit1, Bit0} of                        % \u4e0b2\u30d3\u30c3\u30c8\u304c\n    {_, 0} -> op_count(Num bsr 1, Count + 1); % ?0\u306a\u30892\u3067\u5272\u308b\n    {0, 1} -> op_count(Num - 1, Count + 1);   % 01\u306a\u30891\u6e1b\u3089\u3059\n    {1, 1} -> op_count(Num + 1, Count + 1)    % 11\u306a\u30891\u5897\u3084\u3059\n  end.\n\ntest(Data, Expected) ->\n  Result = solve(Data),\n  OkNg = case Result =:= Expected of true -> ok; false -> ng end,\n  io:fwrite(\"~s: ~s -> ~s~n\", [OkNg, Data, Result]).\n\ntests() ->\n  test(\"59\", \"9\"), %0\n  test(\"10\", \"5\"), %1\n  test(\"11\", \"6\"), %2\n  test(\"12\", \"5\"), %3\n  test(\"13\", \"6\"), %4\n  test(\"14\", \"6\"), %5\n  test(\"15\", \"6\"), %6\n  test(\"16\", \"5\"), %7\n  test(\"17\", \"6\"), %8\n  test(\"18\", \"6\"), %9\n  test(\"27\", \"8\"), %10\n  test(\"28\", \"7\"), %11\n  test(\"29\", \"8\"), %12\n  test(\"30\", \"7\"), %13\n  test(\"31\", \"7\"), %14\n  test(\"32\", \"6\"), %15\n  test(\"33\", \"7\"), %16\n  test(\"34\", \"7\"), %17\n  test(\"35\", \"8\"), %18\n  test(\"41\", \"8\"), %19\n  test(\"71\", \"9\"), %20\n  test(\"1023\", \"12\"), %21\n  test(\"1024\", \"11\"), %22\n  test(\"1025\", \"12\"), %23\n  test(\"1707\", \"17\"), %24\n  test(\"683\", \"15\"), %25\n  test(\"123\", \"10\"), %26\n  test(\"187\", \"11\"), %27\n  test(\"237\", \"12\"), %28\n  test(\"5267\", \"18\"), %29\n  test(\"6737\", \"18\"), %30\n  test(\"14796\", \"20\"), %31\n  test(\"18998\", \"20\"), %32\n  test(\"23820\", \"20\"), %33\n  test(\"30380\", \"21\"), %34\n  test(\"31119\", \"21\"), %35\n  test(\"33301\", \"20\"), %36\n  test(\"33967\", \"21\"), %37\n  test(\"35443\", \"22\"), %38\n  test(\"35641\", \"22\"), %39\n  test(\"43695\", \"23\"), %40\n  test(\"44395\", \"23\"), %41\n  test(\"44666\", \"22\"), %42\n  test(\"987\", \"14\"), %43\n  test(\"1021\", \"13\"), %44\n  test(\"1019\", \"13\"), %45\n  test(\"1015\", \"13\"), %46\n  test(\"1007\", \"13\"), %47\n  test(\"1011\", \"14\"), %48\n  test(\"1003\", \"14\"), %49\n  test(\"983\", \"14\"), %50\n  test(\"999\", \"14\"), %51\n  test(\"2731\", \"18\"), %52\n  test(\"6827\", \"20\"), %53\n  test(\"10923\", \"21\"), %54\n  test(\"27307\", \"23\"), %55\n  test(\"43691\", \"24\"), %56\n  test(\"109227\", \"26\"), %57\n  test(\"174763\", \"27\"). %58\n```\n\n\u7d50\u679c\u306e\u4e00\u90e8:\n\n<pre>\nok: 59 -> 9\nok: 10 -> 5\nok: 11 -> 6\nok: 12 -> 5\n...\n</pre>\n", "tags": ["Erlang", "yhpg", "\u3069\u3046\u66f8\u304f"]}