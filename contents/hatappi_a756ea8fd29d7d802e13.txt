{"context": "\n\n\u4eca\u56de\u3084\u308a\u305f\u3044\u3053\u3068\nGCE\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u81ea\u52d5\u8d77\u52d5\u3068\u81ea\u52d5\u505c\u6b62\u3092\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3057\u305f\u3044\u3002\n\u4f8b\u3048\u3070\u65e5\u4e2d\u3057\u304b\u4f7f\u308f\u306a\u3044\u304b\u3089\u591c\u3068\u304b\u306f\u505c\u6b62\u3057\u3066\u304a\u3044\u3066\u671d\u306b\u306a\u3063\u305f\u3089\u8d77\u52d5\u3055\u305b\u308b\u3053\u3068\u3067\u30b3\u30b9\u30c8\u7bc0\u7d04\u3057\u305f\u3044\u306a\u3069\u306a\u3069\u3002\u3002\u3002\nAWS\u3067\u3044\u3046Lambda\u306eSchedule\u30a4\u30d9\u30f3\u30c8\u3067EC2\u3092\u81ea\u52d5\u8d77\u52d5\uff06\u81ea\u52d5\u505c\u6b62\u3057\u3066\u307f\u305f#reinvent\nGCP\u306b\u306fAWS\u306eLambda\u306e\u3088\u3046\u306aGoogle Cloud Functions\u304c\u3042\u308b\u304c\n\u307e\u3060\u51fa\u305f\u3070\u304b\u308a\u3067Lamda\u306e\u3088\u3046\u306a\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u306e\u6a5f\u80fd\u306f\u306a\u3044\u3002\n\u203b2016/04/25 \u73fe\u5728\nGCP\u3067\u306f\u4eca\u306e\u3068\u3053\u308d\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u306a\u3069\u306fGoogle App Engine\u306ecron\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3046\u3089\u3057\u3044\u3002\nhttps://cloud.google.com/appengine/docs/python/config/cron#Python_app_yaml_The_schedule_format\n\n\u691c\u8a3c\u74b0\u5883\n\n\u4eca\u56de\u306fGAE\u306fpython\u306eDjango\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\ngce\u3092\u8d77\u52d5\u3001\u518d\u8d77\u52d5\u3059\u308b\u305f\u3081\u306b\u306fcompute api\u3092\u4f7f\u7528\u3059\u308b\u306e\u3067\u8a8d\u8a3c\u5468\u308a\u306a\u3069\u3053\u3053\u3089\u3078\u3093\u3092\u53c2\u8003\u306b\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u53d6\u5f97\u3057\u305f\u3082\u306e\u3092credentials.json\u3068\u3059\u308b\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u3066\u307f\u308b\n\u307e\u305a\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u3066\u8a8d\u8a3c\u304c\u6b63\u3057\u304f\u901a\u3063\u3066\u3044\u308b\u304b\u306a\u3069\u3092\u78ba\u8a8d\u3059\u308b\n#!/usr/bin/python\nimport os\nfrom oauth2client.client import GoogleCredentials\nfrom googleapiclient.discovery import build\n\nroot_path = os.path.dirname(os.path.realpath(__file__))\n\nos.environ['GOOGLE_APPLICATION_CREDENTIALS'] = '\u3010credentials.json\u3078\u306epath\u3011'\ncredentials = GoogleCredentials.get_application_default()\n\ncompute = build('compute', 'v1', credentials=credentials)\nproject = '\u3010\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3011'\nzone = '\u3010gce\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u3042\u308b\u30be\u30fc\u30f3\u3011'\nresult_exec = compute.instances().list(project=project, zone=zone).execute()\nitems = result_exec['items']\n\nfor item in items:\n  print '''\n  id is %s\n  name is %s\n  zone is %s\n  status is %s\n  ''' %(item['id'], item['name'], item['zone'], item['status'])\n\n\ncron\u306e\u8a2d\u5b9a\u3084\u5b9f\u884c\u30b9\u30af\u30ea\u30d7\u30c8\u306a\u3069\n\ncron.yaml\n\nGAE\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u306fURL\u3092\u6307\u5b9a\u3057\u3066\u3001\u305d\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3002\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3044\u3064\u3069\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u304b\u3092\u6307\u5b9a\u3059\u308b\u3002\nschedule\u306eformat\u306b\u95a2\u3057\u3066\u306f\u3053\u3053\u3092\u307f\u308b\nurl\u306f\u4efb\u610f\u3067\u3088\u3044\u3002\n\u4eca\u56de\u306f/instance/start\u3068/instance/stop\u3092\u4f5c\u6210\u3057\u305f\u3068\u3057\u3066\u304a\u304f\ncron:\n- description: instance start\n  url: /instance/start\n  schedule: every day 09:00\n  timezone: Asia/Tokyo\n- description: instance stop\n  url: /instance/stop\n  schedule: every day 22:00\n  timezone: Asia/Tokyo\n\n\napp.yaml\n\n\u4e0a\u8a18\u3067\u8a2d\u5b9a\u3057\u305furl\u304c\u30a2\u30af\u30bb\u30b9\u3057\u305f\u6642\u306b\u5b9f\u884c\u3059\u308bscript\u3092\u5b9a\u7fa9\u3059\u308b\u3002\nlogin: admin\u3068\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u306e\u306f\u4eee\u306bURL\u3092\u305f\u305f\u304b\u308c\u305f\u6642\u306b\u8a8d\u8a3c\u3092\u3055\u305b\u308b\u305f\u3081\n -----\n\nhandlers:\n- url: /instance/start\n  script: instance.app\n  login: admin\n- url: /instance/stop\n  script: instance.app\n  login: admin\n\n\ninstance.py\n\n\u8d77\u52d5\u3057\u305f\u308a\u505c\u6b62\u3057\u305f\u308a\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u304b\u304b\u308c\u305f\u30b9\u30af\u30ea\u30d7\u30c8\n\n#!/usr/bin/python\nimport os\nimport sys\nimport webapp2 as webapp\nfrom google.appengine.ext import vendor\nvendor.add('lib')\nfrom oauth2client.client import GoogleCredentials\nfrom googleapiclient.discovery import build\n\nroot_path = os.path.dirname(os.path.realpath(__file__))\nos.environ['GOOGLE_APPLICATION_CREDENTIALS'] = '\u3010credentials.json\u3078\u306epath\u3011'\n\nproject = '\u3010\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3011'\nzone = '\u3010gce\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u3042\u308b\u30be\u30fc\u30f3\u3011'\ninstance_names = [\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d\u306e\u914d\u5217]\n\ncredentials = GoogleCredentials.get_application_default()\ncompute = build('compute', 'v1', credentials=credentials)\n\n# \u958b\u59cb\u7528\u306eHandler class\nclass InstanceStartHandler(webapp.RequestHandler):\n  def get(self):\n    print 'instance start process start'\n\n    for instance_name in instance_names:\n      # project, zone, instance\u540d\u304b\u3089\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u60c5\u5831\u3092\u53d6\u5f97\n      instance = compute.instances().get(project=project, zone=zone, instance=instance_name).execute()\n      print '%s is %s' %(instance['name'], instance['status'])\n      # \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u505c\u6b62\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u958b\u59cb\u51e6\u7406\u3092\u884c\u3046\n      if instance['status'] == 'TERMINATED':\n        print 'instance %s start......' %(instance['name'])\n        compute.instances().start(project=project, zone=zone, instance=instance['name']).execute()\n\n    print 'instance start process end'\n\n# \u505c\u6b62\u7528\u306eHandler class\nclass InstanceStopHandler(webapp.RequestHandler):\n  def get(self):\n    print 'instance stop process start'\n\n    for instance_name in instance_names:\n      # project, zone, instance\u540d\u304b\u3089\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u60c5\u5831\u3092\u53d6\u5f97\n      instance = compute.instances().get(project=project, zone=zone, instance=instance_name).execute()\n      print '%s is %s' %(instance['name'], instance['status'])\n      # \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u52d5\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u6b62\u3081\u308b\u51e6\u7406\u3092\u884c\u3046\n      if instance['status'] == 'RUNNING':\n        print 'instance %s stop......' %(instance['name'])\n        compute.instances().stop(project=project, zone=zone, instance=instance['name']).execute()\n\n    print 'instance stop process end'\n\n# app.yaml\u3067\u8a2d\u5b9a\u3057\u305fURL\u3068\u5b9f\u884c\u3059\u308bclass\u306e\u30bb\u30c3\u30c8\u3092\u914d\u5217\u3067\u5b9a\u7fa9\u3059\u308b\napp = webapp.WSGIApplication(\n  [\n    ('/instance/start', InstanceStartHandler),\n    ('/instance/stop', InstanceStopHandler)\n  ],\n  debug=True\n)\n\n\n\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\n\u4eca\u56de\u306f3\u3064\u30d5\u30a1\u30a4\u30eb\u3092\u3044\u3058\u3063\u305f\u3051\u3069\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u306f\u4e0b\u8a18\n\u203b GAE\u306fDjango\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u60f3\u5b9a\u3067\u3059\n\u4eca\u56de\u4f5c\u6210\u30fb\u7de8\u96c6\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306froot_dir\u306b\u304a\u304f\nroot_dir\n\u251c\u2500 polls\n|   \u2514\u2500 ....\n\u251c\u2500 lib\n|   \u2514\u2500 ....\n\u251c\u2500 mysite\n|   \u2514\u2500 ....\n\u2514\u2500 instance.py\n\u2514\u2500 cron.yaml\n\u2514\u2500 app.yaml\n\n\n\u30bf\u30b9\u30af\u306eupload\u3068\u78ba\u8a8d\n\nGAE\u306e\u30b3\u30fc\u30c9\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u306b\u306fappcfg.py -A stellar-mercury-734 update app.yaml\n\ncron\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306fappcfg.py -A stellar-mercury-734 update_cron .\n\n\n\u3053\u3053\u307e\u3067\u304f\u308b\u3068GAE\u306e\u30bf\u30b9\u30af\u30ad\u30e5\u30fc\u306ecron\u30b8\u30e7\u30d6\u304b\u3089\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u305f\u3082\u306e\u304c\u78ba\u8a8d\u3067\u304d\u308b\n\n\u5f8c\u306f\u753b\u9762\u4e0a\u304b\u3089\u300c\u4eca\u3059\u3050\u5b9f\u884c\u300d\u3059\u308b\u306a\u308a\u6642\u9593\u306b\u306a\u308b\u307e\u3067\u307e\u3064\u3068\u6307\u5b9a\u3057\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u81ea\u52d5\u8d77\u52d5\u3001\u81ea\u52d5\u505c\u6b62\u3059\u308b\u306f\u305a\n\nTips\n3rd party\u88fd\u306e\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3059\u308b\u969b\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30b3\u30de\u30f3\u30c9\u3092\u3046\u3063\u3066Django\u306elib\u5185\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\npip install -t lib oauth2client \n\n## \u4eca\u56de\u3084\u308a\u305f\u3044\u3053\u3068\nGCE\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u81ea\u52d5\u8d77\u52d5\u3068\u81ea\u52d5\u505c\u6b62\u3092\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3057\u305f\u3044\u3002\n\u4f8b\u3048\u3070\u65e5\u4e2d\u3057\u304b\u4f7f\u308f\u306a\u3044\u304b\u3089\u591c\u3068\u304b\u306f\u505c\u6b62\u3057\u3066\u304a\u3044\u3066\u671d\u306b\u306a\u3063\u305f\u3089\u8d77\u52d5\u3055\u305b\u308b\u3053\u3068\u3067\u30b3\u30b9\u30c8\u7bc0\u7d04\u3057\u305f\u3044\u306a\u3069\u306a\u3069\u3002\u3002\u3002\nAWS\u3067\u3044\u3046[Lambda\u306eSchedule\u30a4\u30d9\u30f3\u30c8\u3067EC2\u3092\u81ea\u52d5\u8d77\u52d5\uff06\u81ea\u52d5\u505c\u6b62\u3057\u3066\u307f\u305f#reinvent](http://dev.classmethod.jp/cloud/aws/lambda-scheduled-event-updown/)\n\nGCP\u306b\u306fAWS\u306eLambda\u306e\u3088\u3046\u306a[Google Cloud Functions](https://cloud.google.com/functions/docs)\u304c\u3042\u308b\u304c\n\u307e\u3060\u51fa\u305f\u3070\u304b\u308a\u3067Lamda\u306e\u3088\u3046\u306a\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u306e\u6a5f\u80fd\u306f\u306a\u3044\u3002\n\u203b2016/04/25 \u73fe\u5728\n\nGCP\u3067\u306f\u4eca\u306e\u3068\u3053\u308d\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u306a\u3069\u306fGoogle App Engine\u306ecron\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3046\u3089\u3057\u3044\u3002\nhttps://cloud.google.com/appengine/docs/python/config/cron#Python_app_yaml_The_schedule_format\n\n## \u691c\u8a3c\u74b0\u5883\n* \u4eca\u56de\u306fGAE\u306fpython\u306eDjango\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n* gce\u3092\u8d77\u52d5\u3001\u518d\u8d77\u52d5\u3059\u308b\u305f\u3081\u306b\u306fcompute api\u3092\u4f7f\u7528\u3059\u308b\u306e\u3067\u8a8d\u8a3c\u5468\u308a\u306a\u3069[\u3053\u3053\u3089\u3078\u3093](https://developers.google.com/identity/protocols/application-default-credentials#howtheywork)\u3092\u53c2\u8003\u306b\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u53d6\u5f97\u3057\u305f\u3082\u306e\u3092`credentials.json`\u3068\u3059\u308b\n\n## \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u3066\u307f\u308b\n\u307e\u305a\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u3066\u8a8d\u8a3c\u304c\u6b63\u3057\u304f\u901a\u3063\u3066\u3044\u308b\u304b\u306a\u3069\u3092\u78ba\u8a8d\u3059\u308b\n\n```py\n#!/usr/bin/python\nimport os\nfrom oauth2client.client import GoogleCredentials\nfrom googleapiclient.discovery import build\n\nroot_path = os.path.dirname(os.path.realpath(__file__))\n\nos.environ['GOOGLE_APPLICATION_CREDENTIALS'] = '\u3010credentials.json\u3078\u306epath\u3011'\ncredentials = GoogleCredentials.get_application_default()\n\ncompute = build('compute', 'v1', credentials=credentials)\nproject = '\u3010\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3011'\nzone = '\u3010gce\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u3042\u308b\u30be\u30fc\u30f3\u3011'\nresult_exec = compute.instances().list(project=project, zone=zone).execute()\nitems = result_exec['items']\n\nfor item in items:\n  print '''\n  id is %s\n  name is %s\n  zone is %s\n  status is %s\n  ''' %(item['id'], item['name'], item['zone'], item['status'])\n```\n\n## cron\u306e\u8a2d\u5b9a\u3084\u5b9f\u884c\u30b9\u30af\u30ea\u30d7\u30c8\u306a\u3069\n\n### **cron.yaml**\nGAE\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u306fURL\u3092\u6307\u5b9a\u3057\u3066\u3001\u305d\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3002\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3044\u3064\u3069\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u304b\u3092\u6307\u5b9a\u3059\u308b\u3002\nschedule\u306eformat\u306b\u95a2\u3057\u3066\u306f[\u3053\u3053](https://cloud.google.com/appengine/docs/python/config/cron#Python_app_yaml_The_schedule_format)\u3092\u307f\u308b\nurl\u306f\u4efb\u610f\u3067\u3088\u3044\u3002\n\u4eca\u56de\u306f/instance/start\u3068/instance/stop\u3092\u4f5c\u6210\u3057\u305f\u3068\u3057\u3066\u304a\u304f\n\n```yaml\ncron:\n- description: instance start\n  url: /instance/start\n  schedule: every day 09:00\n  timezone: Asia/Tokyo\n- description: instance stop\n  url: /instance/stop\n  schedule: every day 22:00\n  timezone: Asia/Tokyo\n```\n\n### **app.yaml**\n\u4e0a\u8a18\u3067\u8a2d\u5b9a\u3057\u305furl\u304c\u30a2\u30af\u30bb\u30b9\u3057\u305f\u6642\u306b\u5b9f\u884c\u3059\u308bscript\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n`login: admin`\u3068\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u306e\u306f\u4eee\u306bURL\u3092\u305f\u305f\u304b\u308c\u305f\u6642\u306b\u8a8d\u8a3c\u3092\u3055\u305b\u308b\u305f\u3081\n\n```yaml\n -----\n\nhandlers:\n- url: /instance/start\n  script: instance.app\n  login: admin\n- url: /instance/stop\n  script: instance.app\n  login: admin\n```\n\n### **instance.py**\n\u8d77\u52d5\u3057\u305f\u308a\u505c\u6b62\u3057\u305f\u308a\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u304b\u304b\u308c\u305f\u30b9\u30af\u30ea\u30d7\u30c8\n\n```py\n\n#!/usr/bin/python\nimport os\nimport sys\nimport webapp2 as webapp\nfrom google.appengine.ext import vendor\nvendor.add('lib')\nfrom oauth2client.client import GoogleCredentials\nfrom googleapiclient.discovery import build\n\nroot_path = os.path.dirname(os.path.realpath(__file__))\nos.environ['GOOGLE_APPLICATION_CREDENTIALS'] = '\u3010credentials.json\u3078\u306epath\u3011'\n\nproject = '\u3010\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3011'\nzone = '\u3010gce\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u3042\u308b\u30be\u30fc\u30f3\u3011'\ninstance_names = [\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d\u306e\u914d\u5217]\n\ncredentials = GoogleCredentials.get_application_default()\ncompute = build('compute', 'v1', credentials=credentials)\n\n# \u958b\u59cb\u7528\u306eHandler class\nclass InstanceStartHandler(webapp.RequestHandler):\n  def get(self):\n    print 'instance start process start'\n\n    for instance_name in instance_names:\n      # project, zone, instance\u540d\u304b\u3089\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u60c5\u5831\u3092\u53d6\u5f97\n      instance = compute.instances().get(project=project, zone=zone, instance=instance_name).execute()\n      print '%s is %s' %(instance['name'], instance['status'])\n      # \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u505c\u6b62\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u958b\u59cb\u51e6\u7406\u3092\u884c\u3046\n      if instance['status'] == 'TERMINATED':\n        print 'instance %s start......' %(instance['name'])\n        compute.instances().start(project=project, zone=zone, instance=instance['name']).execute()\n    \n    print 'instance start process end'\n\n# \u505c\u6b62\u7528\u306eHandler class\nclass InstanceStopHandler(webapp.RequestHandler):\n  def get(self):\n    print 'instance stop process start'\n\n    for instance_name in instance_names:\n      # project, zone, instance\u540d\u304b\u3089\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u60c5\u5831\u3092\u53d6\u5f97\n      instance = compute.instances().get(project=project, zone=zone, instance=instance_name).execute()\n      print '%s is %s' %(instance['name'], instance['status'])\n      # \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u52d5\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u6b62\u3081\u308b\u51e6\u7406\u3092\u884c\u3046\n      if instance['status'] == 'RUNNING':\n        print 'instance %s stop......' %(instance['name'])\n        compute.instances().stop(project=project, zone=zone, instance=instance['name']).execute()\n\n    print 'instance stop process end'\n\n# app.yaml\u3067\u8a2d\u5b9a\u3057\u305fURL\u3068\u5b9f\u884c\u3059\u308bclass\u306e\u30bb\u30c3\u30c8\u3092\u914d\u5217\u3067\u5b9a\u7fa9\u3059\u308b\napp = webapp.WSGIApplication(\n  [\n    ('/instance/start', InstanceStartHandler),\n    ('/instance/stop', InstanceStopHandler)\n  ],\n  debug=True\n)\n```\n\n## \u30d5\u30a9\u30eb\u30c0\u69cb\u6210\n\u4eca\u56de\u306f3\u3064\u30d5\u30a1\u30a4\u30eb\u3092\u3044\u3058\u3063\u305f\u3051\u3069\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u306f\u4e0b\u8a18\n\u203b GAE\u306fDjango\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u60f3\u5b9a\u3067\u3059\n\n\u4eca\u56de\u4f5c\u6210\u30fb\u7de8\u96c6\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306froot_dir\u306b\u304a\u304f\n\n```\nroot_dir\n\u251c\u2500 polls\n|   \u2514\u2500 ....\n\u251c\u2500 lib\n|   \u2514\u2500 ....\n\u251c\u2500 mysite\n|   \u2514\u2500 ....\n\u2514\u2500 instance.py\n\u2514\u2500 cron.yaml\n\u2514\u2500 app.yaml\n```\n\n## \u30bf\u30b9\u30af\u306eupload\u3068\u78ba\u8a8d\n* GAE\u306e\u30b3\u30fc\u30c9\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u306b\u306f`appcfg.py -A stellar-mercury-734 update app.yaml`\n* cron\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f`appcfg.py -A stellar-mercury-734 update_cron .`\n\n\u3053\u3053\u307e\u3067\u304f\u308b\u3068GAE\u306e\u30bf\u30b9\u30af\u30ad\u30e5\u30fc\u306ecron\u30b8\u30e7\u30d6\u304b\u3089\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u305f\u3082\u306e\u304c\u78ba\u8a8d\u3067\u304d\u308b\n<img width=\"1117\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-04-26 1.08.38.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/44247/a77f8596-f606-8221-58ab-f79736a4ac7d.png\">\n\n\u5f8c\u306f\u753b\u9762\u4e0a\u304b\u3089\u300c\u4eca\u3059\u3050\u5b9f\u884c\u300d\u3059\u308b\u306a\u308a\u6642\u9593\u306b\u306a\u308b\u307e\u3067\u307e\u3064\u3068\u6307\u5b9a\u3057\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u81ea\u52d5\u8d77\u52d5\u3001\u81ea\u52d5\u505c\u6b62\u3059\u308b\u306f\u305a\n\n## Tips\n3rd party\u88fd\u306e\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3059\u308b\u969b\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30b3\u30de\u30f3\u30c9\u3092\u3046\u3063\u3066Django\u306elib\u5185\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n[\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://cloud.google.com/appengine/docs/python/tools/libraries27?hl=ja#vendoring)\n\n```\npip install -t lib oauth2client \n```\n", "tags": ["googlecomputeengine", "GoogleCloudPlatform", "cron", "GoogleAppEngine", "gce"]}