{"context": " More than 1 year has passed since last update.\n\n\u74b0\u5883\n\n\n\n\n\n\n\n\n\nMac OS X\n10.8.3\n\n\nApache\u3001PHP\nMac\u6a19\u6e96\u306e\u3092\u4f7f\u3046\uff08MAMP\u3068\u304b\u3067\u306f\u306a\u3044\uff09\n\n\nOracle\n11/g\n\n\n\npear\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3002\uff08\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff09\n$ sudo php /usr/lib/php/install-pear-nozlib.phar\n\noci8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u3067\u3082\u69cb\u308f\u306a\u3044\uff08\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3082\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\uff09\n\n\n1 Oracle Instant Client\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nhttp://www.oracle.com/technetwork/topics/intel-macsoft-096467.html\n*\u30b0\u30b0\u308b\u306832bit\u7248\u4f7f\u3048\u3068\u304b\u300164bit\u7248\u3060\u3068sqlplus\u30b3\u30de\u30f3\u30c9\u4f7f\u3048\u306a\u3044\u3068\u304b\u51fa\u308b\u3051\u3069\u3001\u7121\u8996\u3057\u306664bit\u7248\u306e\u4ee5\u4e0b\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\ninstantclient-basic-macos.x64-11.2.0.3.0.zip\ninstantclient-sdk-macos.x64-11.2.0.3.0.zip\ninstantclient-sqlplus-macos.x64-11.2.0.3.0.zip\n\n\u89e3\u51cd\n$ sudo mkdir /Library/Oracle\n$ sudo unzip -d /Library/Oracle/ instantclient-basic-macos.x64-11.2.0.3.0.zip\n$ sudo unzip -d /Library/Oracle/ instantclient-sdk-macos.x64-11.2.0.3.0.zip\n$ sudo unzip -d /Library/Oracle/ instantclient-sqlplus-macos.x64-11.2.0.3.0.zip\n\n\n2 \u8a2d\u5b9a\n$ sudo vim ~/.bash_profile\n\n\u30d1\u30b9\u901a\u3059\u70ba\u306b.bash_profile\u306b\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3059\u308b\u3002\nexport ORACLE_HOME=/Library/Oracle/instantclient_11_2\nexport DYLD_LIBRARY_PATH=/Library/Oracle/instantclient_11_2\nexport PATH=$PATH:$DYLD_LIBRARY_PATH\n\nexport SQL_PATH=$ORACLE_HOME\n#export ORACLE_SID=XE\nexport PATH=$PATH:$ORACLE_HOME\nexport NLS_LANG=Japanese_Japan.AL32UTF8\n#export TNS_ADMIN=$ORACLE_HOME/network/admin/tnsnames.ora\n\n\u53cd\u6620\n$ source ~/.bash_profile\n\nlib\u30d5\u30a1\u30a4\u30eb\u306e\u30ea\u30f3\u30af\u4f5c\u6210\n$ sudo ln -s /Library/Oracle/instantclient_11_2/libclntsh.dylib.11.1 /Library/Oracle/instantclient_11_2/libclntsh.dylib\n\n\n3 oci8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u65e2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306a\u3089\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n$ sudo pecl uninstall oci8\n\n*\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306f\u95a2\u9023\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001\u524a\u9664\u3059\u308b\u304b\u30ea\u30cd\u30fc\u30e0\u3059\u308b\uff08\u8a73\u7d30\u306f\u4e0b\u306e\u65b9\u306b\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\uff09\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo pecl install oci8\n\n\u9014\u4e2d\u3067\u4ee5\u4e0b\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u308b\nPlease provide the path to the ORACLE_HOME directory. Use 'instantclient,/path/to/instant/client/lib' if you're compiling with Oracle Instant Client [autodetect] :\n\n\u3067\u3001\u4ee5\u4e0b\u3092\u5165\u529b\u3057\u3066\u30a8\u30f3\u30bf\u30fc\ninstantclient,/Library/Oracle/instantclient_11_2\n\n\u4ee5\u4e0b\u304c\u51fa\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u6b63\u5e38\u7d42\u4e86\u3002\nBuild process completed successfully\nInstalling '/usr/lib/php/extensions/no-debug-non-zts-20090626/oci8.so'\ninstall ok: channel://pecl.php.net/oci8-1.4.9\nconfiguration option \"php_ini\" is not set to php.ini location\nYou should add \"extension=oci8.so\" to php.ini\n\n\n4 \u78ba\u8a8d\n$ php --ri oci8\n\n\u4ee5\u4e0b\u307f\u305f\u3044\u306a\u611f\u3058\u3067\u8868\u793a\u3055\u308c\u308c\u3070OK.\nOCI8 Support => enabled\nVersion => 1.4.9\nRevision => $Id: e2241cffb72c940cb2ca267b6a3b0ce436de2e3e $\nActive Persistent Connections => 0\nActive Connections => 0\nOracle Run-time Client Library Version => 11.2.0.3.0\nOracle Instant Client Version => 11.2\nTemporary Lob support => enabled\nCollections support => enabled\n\nDirective => Local Value => Master Value\noci8.max_persistent => -1 => -1\noci8.persistent_timeout => -1 => -1\noci8.ping_interval => 60 => 60\noci8.privileged_connect => Off => Off\noci8.statement_cache_size => 20 => 20\noci8.default_prefetch => 100 => 100\noci8.old_oci_close_semantics => Off => Off\noci8.connection_class => no value => no value\noci8.events => Off => Off\n\napache\u518d\u8d77\u52d5\n$ sudo apachectl restart\n\n\u30d6\u30e9\u30a6\u30b6\u3067info.php\u3078\u30a2\u30af\u30bb\u30b9\u3057\u3001oci8\u3067\u30da\u30fc\u30b8\u5185\u691c\u7d22\u3057\u3066Hit\u3059\u308b\u306e\u3092\u78ba\u8a8d\u3002\n\u304a\u3057\u307e\u3044\u2026\u3002\n\n\u3067\u3001\u300coci8\u300d\u304cHit\u3057\u306a\u3044\u5834\u5408\u3002\n$ sudo vim /private/var/log/apache2/error_log\n\n\u30a8\u30e9\u30fc\u30ed\u30b0\u306e\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\u591a\u5206\u3001\u4ee5\u4e0b\u306e\u69d8\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u308b\u7b48\u3002\nPHP Warning: PHP Startup: Unable to load dynamic library '/usr/lib/php/extensions/no-debug-non-zts-20090626/oci8.so' - dlopen(/usr/lib/php/extensions/no-debug-non-zts-20090626/oci8.so, 9): Library not loaded: /ade/b/2649109290/oracle/rdbms/lib/libclntsh.dylib.11.1\\n Referenced from: /usr/lib/php/extensions/no-debug-non-zts-20090626/oci8.so\\n Reason: image not found in Unknown on line 0\n\n\n\u3082\u3057\u3001\u4e0a\u8a18\u306e\u30a8\u30e9\u30fc\u3067\u306a\u304f\u4ee5\u4e0b\u306e\u69d8\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u308b\u5834\u5408\u306f\u3001oci8\u3092\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\ndyld: lazy symbol binding failed: Symbol not found: _OCIEnvNlsCreate\nReferenced from: /usr/lib/php/extensions/no-debug-non-zts-20090626/oci8.so\nExpected in: flat namespace\n\ndyld: Symbol not found: _OCIEnvNlsCreate\nReferenced from: /usr/lib/php/extensions/no-debug-non-zts-20090626/oci8.so\nExpected in: flat namespace\n\n\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u306f\u3001oci8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u524d\u306b\u4ee5\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664\u3059\u308b\u304b\u30ea\u30cd\u30fc\u30e0\u3057\u3066\u304a\u304f\u3002.bash_profile\u306e\u5024\u306f\u305d\u306e\u307e\u307e\u3067\u3044\u3044\u3002\n$ cd /Library/Oracle/\n$ sudo mv instantclient_11_2/ _instantclient_11_2_OLD/\n\n\n\u5ff5\u306e\u70ba\u3001oci8.so\u306b\u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u52a0\n$ cd /usr/lib/php/extensions/no-debug-non-zts-20090626/\n$ sudo chmod +x oci8.so\n\n\n4 launchd.conf\u306e\u8a2d\u5b9a\n\u53c2\u8003URL:\nhttp://qiita.com/items/bb6a03538d4ee773c9b6\n$ sudo vim /etc/launchd.conf\n\n\u4ee5\u4e0b\u3092\u8a18\u5165\u3057\u3066\u4fdd\u5b58\u3002\n\n/etc/launchd.conf\nsetenv ORACLE_HOME /Library/Oracle/instantclient_11_2\nsetenv DYLD_LIBRARY_PATH /Library/Oracle/instantclient_11_2\nsetenv TNS_ADMIN $ORACLE_HOME/network/admin/tnsnames.ora\nsetenv ORACLE_SID XE\n\n\nPC\u3092\u518d\u8d77\u52d5\u3002\ninfo.php\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001oci8\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n# \u74b0\u5883\n|||\n|---|---|\n|Mac OS X|10.8.3|\n|Apache\u3001PHP|Mac\u6a19\u6e96\u306e\u3092\u4f7f\u3046\uff08MAMP\u3068\u304b\u3067\u306f\u306a\u3044\uff09|\n|Oracle|11/g|\n\npear\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3002\uff08\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff09\n\n```\n$ sudo php /usr/lib/php/install-pear-nozlib.phar\n```\n\noci8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u3067\u3082\u69cb\u308f\u306a\u3044\uff08\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3082\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\uff09\n\n---\n\n#1 Oracle Instant Client\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\nhttp://www.oracle.com/technetwork/topics/intel-macsoft-096467.html\n\n*\u30b0\u30b0\u308b\u306832bit\u7248\u4f7f\u3048\u3068\u304b\u300164bit\u7248\u3060\u3068sqlplus\u30b3\u30de\u30f3\u30c9\u4f7f\u3048\u306a\u3044\u3068\u304b\u51fa\u308b\u3051\u3069\u3001\u7121\u8996\u3057\u306664bit\u7248\u306e\u4ee5\u4e0b\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n\n```\ninstantclient-basic-macos.x64-11.2.0.3.0.zip\ninstantclient-sdk-macos.x64-11.2.0.3.0.zip\ninstantclient-sqlplus-macos.x64-11.2.0.3.0.zip\n```\n\n\u89e3\u51cd\n\n```\n$ sudo mkdir /Library/Oracle\n$ sudo unzip -d /Library/Oracle/ instantclient-basic-macos.x64-11.2.0.3.0.zip\n$ sudo unzip -d /Library/Oracle/ instantclient-sdk-macos.x64-11.2.0.3.0.zip\n$ sudo unzip -d /Library/Oracle/ instantclient-sqlplus-macos.x64-11.2.0.3.0.zip\n```\n\n#2 \u8a2d\u5b9a\n\n```\n$ sudo vim ~/.bash_profile\n```\n\n\u30d1\u30b9\u901a\u3059\u70ba\u306b.bash_profile\u306b\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n\n```.bash_profile\nexport ORACLE_HOME=/Library/Oracle/instantclient_11_2\nexport DYLD_LIBRARY_PATH=/Library/Oracle/instantclient_11_2\nexport PATH=$PATH:$DYLD_LIBRARY_PATH\n\nexport SQL_PATH=$ORACLE_HOME\n#export ORACLE_SID=XE\nexport PATH=$PATH:$ORACLE_HOME\nexport NLS_LANG=Japanese_Japan.AL32UTF8\n#export TNS_ADMIN=$ORACLE_HOME/network/admin/tnsnames.ora\n```\n\n\u53cd\u6620\n\n```\n$ source ~/.bash_profile\n```\n\nlib\u30d5\u30a1\u30a4\u30eb\u306e\u30ea\u30f3\u30af\u4f5c\u6210\n\n```\n$ sudo ln -s /Library/Oracle/instantclient_11_2/libclntsh.dylib.11.1 /Library/Oracle/instantclient_11_2/libclntsh.dylib\n```\n\n\n\n\n# 3 oci8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u65e2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306a\u3089\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n```\n$ sudo pecl uninstall oci8\n```\n\n*\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306f\u95a2\u9023\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001\u524a\u9664\u3059\u308b\u304b\u30ea\u30cd\u30fc\u30e0\u3059\u308b\uff08\u8a73\u7d30\u306f\u4e0b\u306e\u65b9\u306b\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\uff09\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo pecl install oci8\n```\n\n\n\u9014\u4e2d\u3067\u4ee5\u4e0b\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u308b\n\n```\nPlease provide the path to the ORACLE_HOME directory. Use 'instantclient,/path/to/instant/client/lib' if you're compiling with Oracle Instant Client [autodetect] :\n```\n\n\n\u3067\u3001\u4ee5\u4e0b\u3092\u5165\u529b\u3057\u3066\u30a8\u30f3\u30bf\u30fc\n\n```\ninstantclient,/Library/Oracle/instantclient_11_2\n```\n\n\u4ee5\u4e0b\u304c\u51fa\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u6b63\u5e38\u7d42\u4e86\u3002\n\n```\nBuild process completed successfully\nInstalling '/usr/lib/php/extensions/no-debug-non-zts-20090626/oci8.so'\ninstall ok: channel://pecl.php.net/oci8-1.4.9\nconfiguration option \"php_ini\" is not set to php.ini location\nYou should add \"extension=oci8.so\" to php.ini\n```\n\n\n#4 \u78ba\u8a8d\n\n```\n$ php --ri oci8\n```\n\n\u4ee5\u4e0b\u307f\u305f\u3044\u306a\u611f\u3058\u3067\u8868\u793a\u3055\u308c\u308c\u3070OK.\n\n```\nOCI8 Support => enabled\nVersion => 1.4.9\nRevision => $Id: e2241cffb72c940cb2ca267b6a3b0ce436de2e3e $\nActive Persistent Connections => 0\nActive Connections => 0\nOracle Run-time Client Library Version => 11.2.0.3.0\nOracle Instant Client Version => 11.2\nTemporary Lob support => enabled\nCollections support => enabled\n\nDirective => Local Value => Master Value\noci8.max_persistent => -1 => -1\noci8.persistent_timeout => -1 => -1\noci8.ping_interval => 60 => 60\noci8.privileged_connect => Off => Off\noci8.statement_cache_size => 20 => 20\noci8.default_prefetch => 100 => 100\noci8.old_oci_close_semantics => Off => Off\noci8.connection_class => no value => no value\noci8.events => Off => Off\n```\n\napache\u518d\u8d77\u52d5\n\n```\n$ sudo apachectl restart\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067info.php\u3078\u30a2\u30af\u30bb\u30b9\u3057\u3001oci8\u3067\u30da\u30fc\u30b8\u5185\u691c\u7d22\u3057\u3066Hit\u3059\u308b\u306e\u3092\u78ba\u8a8d\u3002\n\n\u304a\u3057\u307e\u3044\u2026\u3002\n\n---\n\n\u3067\u3001\u300coci8\u300d\u304cHit\u3057\u306a\u3044\u5834\u5408\u3002\n\n```\n$ sudo vim /private/var/log/apache2/error_log\n```\n\n\u30a8\u30e9\u30fc\u30ed\u30b0\u306e\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n\u591a\u5206\u3001\u4ee5\u4e0b\u306e\u69d8\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u308b\u7b48\u3002\n\n```/private/var/log/apache2/error_log\u3010\u30a8\u30e9\u30fc01\u3011\nPHP Warning: PHP Startup: Unable to load dynamic library '/usr/lib/php/extensions/no-debug-non-zts-20090626/oci8.so' - dlopen(/usr/lib/php/extensions/no-debug-non-zts-20090626/oci8.so, 9): Library not loaded: /ade/b/2649109290/oracle/rdbms/lib/libclntsh.dylib.11.1\\n Referenced from: /usr/lib/php/extensions/no-debug-non-zts-20090626/oci8.so\\n Reason: image not found in Unknown on line 0\n```\n\n---\n\n\u3082\u3057\u3001\u4e0a\u8a18\u306e\u30a8\u30e9\u30fc\u3067\u306a\u304f\u4ee5\u4e0b\u306e\u69d8\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u308b\u5834\u5408\u306f\u3001oci8\u3092\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n```/private/var/log/apache2/error_log\u3010\u30a8\u30e9\u30fc02\u3011\ndyld: lazy symbol binding failed: Symbol not found: _OCIEnvNlsCreate\nReferenced from: /usr/lib/php/extensions/no-debug-non-zts-20090626/oci8.so\nExpected in: flat namespace\n\ndyld: Symbol not found: _OCIEnvNlsCreate\nReferenced from: /usr/lib/php/extensions/no-debug-non-zts-20090626/oci8.so\nExpected in: flat namespace\n```\n\n\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u306f\u3001oci8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u524d\u306b\u4ee5\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664\u3059\u308b\u304b\u30ea\u30cd\u30fc\u30e0\u3057\u3066\u304a\u304f\u3002.bash_profile\u306e\u5024\u306f\u305d\u306e\u307e\u307e\u3067\u3044\u3044\u3002\n\n```\n$ cd /Library/Oracle/\n$ sudo mv instantclient_11_2/ _instantclient_11_2_OLD/\n```\n\n---\n\n\n\u5ff5\u306e\u70ba\u3001oci8.so\u306b\u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u52a0\n\n```\n$ cd /usr/lib/php/extensions/no-debug-non-zts-20090626/\n$ sudo chmod +x oci8.so\n```\n\n#4 launchd.conf\u306e\u8a2d\u5b9a\n\n\u53c2\u8003URL:\nhttp://qiita.com/items/bb6a03538d4ee773c9b6\n\n```\n$ sudo vim /etc/launchd.conf\n```\n\n\u4ee5\u4e0b\u3092\u8a18\u5165\u3057\u3066\u4fdd\u5b58\u3002\n\n```/etc/launchd.conf\nsetenv ORACLE_HOME /Library/Oracle/instantclient_11_2\nsetenv DYLD_LIBRARY_PATH /Library/Oracle/instantclient_11_2\nsetenv TNS_ADMIN $ORACLE_HOME/network/admin/tnsnames.ora\nsetenv ORACLE_SID XE\n```\n\n\nPC\u3092\u518d\u8d77\u52d5\u3002\n\n\ninfo.php\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001oci8\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n", "tags": ["MacOSX", "oci8", "PHP", "oracle", "Mac"]}