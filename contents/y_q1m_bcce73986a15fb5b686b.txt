{"context": "\n\n\u6982\u8981\n\u30ea\u30a2\u30af\u30c6\u30a3\u30f4\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3067 Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3067\u304d\u308b Framework \u306e Vert.x 3\u7cfb\u3092\u3001 Gradle \u3092\u4f7f\u3063\u3066 stand-alone \u3067\u52d5\u304b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\nVert.x \u3068\u306f\uff1f\n\nVert.x is a tool-kit for building reactive applications on the JVM.\n\u51fa\u5178\uff1a\u516c\u5f0f\u30b5\u30a4\u30c8\n\n\nScale\n\n\u30a4\u30d9\u30f3\u30c8\u30c9\u30ea\u30d6\u30f3\u3001\u3059\u3079\u3066\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u7d50\u679c\u304c\u8fd4\u308b\u2026\u2026\u305f\u3060\u3057\u5358\u4f53\u3060\u3068\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u5730\u7344\u306b\u9665\u308a\u3084\u3059\u3044\u306e\u3067 RxJava \u3068\u306e\u4f75\u7528\u304c\u63a8\u5968\u3055\u308c\u3066\u3044\u308b\nNon-blockking I/O\n\u5c11\u6570\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u5927\u91cf\u306e\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u4e26\u884c\u51e6\u7406\n\n\nPolyglot\n\u30b3\u30a2\u306f Java \u3060\u304c\u3001\u3055\u307e\u3056\u307e\u306a\u8a00\u8a9e\u3067\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\u3092\u30b5\u30dd\u30fc\u30c8\n1. Java\n2. JavaScript\n3. Groovy\n4. Ruby\n5. Ceylon\n\n\u30e9\u30a4\u30bb\u30f3\u30b9\n\u30d0\u30fc\u30b8\u30e7\u30f3 3.3.0.CR2 \u306e\u6642\u70b9\u3067\u306f Eclipse Public License version 1.0 \u3068 Apache License 2.0 \u306e\u30c7\u30e5\u30a2\u30eb\u30e9\u30a4\u30bb\u30f3\u30b9 \u306e\u3088\u3046\u3067\u3059\u3002\n\n\u30c8\u30ec\u30f3\u30c9\nGoogle \u30c8\u30ec\u30f3\u30c9\u3067\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002\n2012/05 \u3068 2013/01 \u306b\u5927\u304d\u306a\u5c71\u304c\u3042\u308a\u307e\u3059\u3002Vert.x History \u306b\u3088\u308b\u3068\u3001 2012/05/09(Wed) \u306b\u306f version 1.0 \u306e\u6700\u7d42\u30ea\u30ea\u30fc\u30b9\u30012013/01 \u306b\u306f Eclipse Foundation \u3078\u306e\u53c2\u52a0\u304c\u3042\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\n\u95a2\u9023\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u898b\u308b\u3068\u3001 Node.js \u3068\u306e\u6bd4\u8f03\u3092\u6c42\u3081\u308b\u30e6\u30fc\u30b6\u304c\u591a\u3044\u3088\u3046\u3067\u3059\u3002\n\n\n\n\u5b9f\u884c\u74b0\u5883\n\n\n\nJava\nSE 1.8.0_91\n\n\n\n\nEclipse\nMars 4.5.2\n\n\nVert.x\n3.3.0.CR1\n\n\nGradle\n2.12\n\n\n\n\n\n\u6700\u5c0f\u69cb\u6210\u3067\u52d5\u304b\u3059\nVert.x \u3092\u52d5\u304b\u3059\u306b\u306f Java \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u767a\u3068\u5225\u306b Framework \u672c\u4f53\u3082\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3068\u601d\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u672c\u4f53\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u306a\u304f\u3068\u3082 Vert.x \u306e\u4f9d\u5b58\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u52d5\u304b\u3059\u3053\u3068\u304c\u53ef\u80fd\u306a\u3088\u3046\u3067\u3059\u3002\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4eca\u56de\u306f stand-alone \u3067 Vert.x \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3057\u52d5\u304b\u3057\u3066\u307f\u307e\u3059\u3002\n\nbuild.gradle \u306e\u5b9a\u7fa9\n\nbuild.gradle\napply plugin: 'application'\n\nsourceCompatibility = 1.8\nmainClassName       = \"io.vertx.core.Starter\"\n\ndef defaultEncoding = 'UTF-8'\ndef vertxVersion    = '3.0.0'\ndef mainVerticle    = \"HelloVerticle\"\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n  compile \"io.vertx:vertx-core:${vertxVersion}\"\n}\n\nrun {\n  args = [\"run\", mainVerticle]\n}\n\njar {\n  manifest {\n    attributes 'Main-Verticle': mainVerticle\n    attributes 'Main-Class'   : mainClassName\n  }\n  destinationDir = projectDir\n  from configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n}\n\n\n\u91cd\u8981\u306a\u70b9\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\n1. mainClassName \u306b \"io.vertx.core.Starter\" \u3092\u6307\u5b9a\n2. run \u3067 \u5f15\u6570\u306b mainVerticle \u3092\u6307\u5b9a\n3. jar manifest \u306b Main-Verticle \u3068 Main-Class\u3001 2\u3064\u306e attributes \u3092\u6307\u5b9a\n\nVerticle \u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\n\nHelloVerticle.java\nimport io.vertx.core.AbstractVerticle;\nimport io.vertx.core.Future;\n\npublic class HelloVerticle extends AbstractVerticle {\n\n    @Override\n    public void start(final Future<Void> future) {\n        vertx\n            .createHttpServer()\n            .requestHandler(r -> \n                r.response().end(\"<h1>Hello from my first Vert.x 3 application</h1>\")\n                )\n            .listen(8940, result -> {\n                if (result.succeeded()) {\n                    future.complete();\n                } else {\n                    future.fail(result.cause());\n                }\n            });\n    }\n}\n\n\n\u3053\u306e\u30b3\u30fc\u30c9\u3067\u306f AbstractVerticle\u306e Vertx \u30aa\u30d6\u30b8\u30a7\u30af\u30c8 vertx \u306b\u5bfe\u3057\u3001\u4e0b\u8a183\u3064\u3092\u5b9f\u65bd\u3057\u3066\u3044\u307e\u3059\u3002\n1. Http Server \u306e\u4f5c\u6210\n2. Request Handler \u306e\u8a2d\u5b9a\n3. Listen Port \u306e\u5909\u66f4\n\n\u30d5\u30a1\u30a4\u30eb\u30c4\u30ea\u30fc\n$ tree /F\n\u2502  build.gradle\n\u2502  LICENSE\n\u2502  settings.gradle\n\u2514\u2500src\n    \u2514\u2500main\n        \u2514\u2500java\n                HelloVerticle.java\n\n\n\u5b9f\u884c\n$ gradle run\nDownload https://repo1.maven.org/maven2/io/vertx/vertx-core/3.0.0/vertx-core-3.0.0.jar\nDownload https://repo1.maven.org/maven2/io/netty/netty-common/4.0.28.Final/netty-common-4.0.28.Final.jar\nDownload https://repo1.maven.org/maven2/io/netty/netty-buffer/4.0.28.Final/netty-buffer-4.0.28.Final.jar\nDownload https://repo1.maven.org/maven2/io/netty/netty-transport/4.0.28.Final/netty-transport-4.0.28.Final.jar\nDownload https://repo1.maven.org/maven2/io/netty/netty-handler/4.0.28.Final/netty-handler-4.0.28.Final.jar\nDownload https://repo1.maven.org/maven2/io/netty/netty-codec-http/4.0.28.Final/netty-codec-http-4.0.28.Final.jar\nDownload https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-core/2.5.3/jackson-core-2.5.3.jar\nDownload https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/2.5.3/jackson-databind-2.5.3.jar\nDownload https://repo1.maven.org/maven2/io/netty/netty-codec/4.0.28.Final/netty-codec-4.0.28.Final.jar\n\n:compileJava\n:processResources UP-TO-DATE\n:classes\n:run\n6 18, 2016 8:45:55 \u5348\u524d io.vertx.core.Starter\n\u60c5\u5831: Succeeded in deploying verticle\n> Building 75% > :run\n\n\n\u78ba\u8a8d\n\u51fa\u529b\u304c\u6b62\u307e\u3063\u305f\u3068\u3053\u308d\u3067 http://localhost:8940/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001 \"Hello from my first Vert.x 3 application\" \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\nFatJar \u3092\u751f\u6210\n\u30b5\u30fc\u30d0\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u6642\u306f FatJar \u3092\u4f5c\u3063\u3066\u3001\u305d\u308c\u3092\u30b5\u30fc\u30d0\u4e0a\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ gradle jar\n:compileJava UP-TO-DATE\n:processResources UP-TO-DATE\n:classes UP-TO-DATE\n:jar\n\nBUILD SUCCESSFUL\n\nTotal time: 5.227 secs\n\n\n\u5b9f\u884c\n\u751f\u6210\u3055\u308c\u305f FatJar \u3092 java -jar \u3067\u52d5\u304b\u3057\u307e\u3059\u3002\n$ java -jar vertx_v.jar\n6 18, 2016 8:58:30 \u5348\u524d io.vertx.core.Starter\n\u60c5\u5831: Succeeded in deploying verticle\n\n\u5148\u307b\u3069\u3068\u540c\u69d8\u3001http://localhost:8940/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066 \"Hello from my first Vert.x 3 application\" \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n\u30ef\u30fc\u30c9\u30af\u30e9\u30a6\u30c9\u3092\u751f\u6210\u3059\u308b Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308b\nWeb \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\u3067\u306e\u4f7f\u3044\u65b9\u3092\u52c9\u5f37\u3059\u308b\u305f\u3081\u306b\u3001\u5c0f\u3055\u3081\u306e Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\u5165\u529b\u3055\u308c\u305f\u6587\u7ae0\u3092\u5358\u8a9e\u306b\u5206\u89e3\u3057\u3066\u6570\u3048\u4e0a\u3052\u3001\u30ef\u30fc\u30c9\u30af\u30e9\u30a6\u30c9\u3092\u751f\u6210\u3059\u308b\u3082\u306e\u3067\u3059\u3002\n\n\u69cb\u6210\n\n\n\n\u8981\u7d20\n\u63a1\u7528\n\n\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\nFreemarker\n\n\n\u5358\u8a9e\u5206\u89e3\ntinySegmenter\n\n\n\u30ef\u30fc\u30c9\u30af\u30e9\u30a6\u30c9\u63cf\u753b\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\nD3-cloud.js\n\n\n\n\n\u958b\u767a\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u5168\u4f53\u306f \u3053\u3061\u3089 \u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\u4ee5\u4e0b\u3001\u30dd\u30a4\u30f3\u30c8\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\nbuild.gradle\nFreemarker \u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u3092\u4f7f\u3046\u305f\u3081\u3001\u4f9d\u5b58\u30921\u3064\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nbuild.gradle_dependencies\ndependencies {\n  compile \"io.vertx:vertx-core:${vertxVersion}\"\n  compile \"io.vertx:vertx-web-templ-freemarker:${vertxVersion}\" // \u8ffd\u52a0\n}\n\n\n\nstart \u30e1\u30bd\u30c3\u30c9\nlisten \u30e1\u30bd\u30c3\u30c9\u3067\u30dd\u30fc\u30c8\u3092 8940 \u306b\u5909\u3048\u3066\u3044\u308b\u307b\u304b\u3001 routing \u3092 route \u3068\u3044\u3046\u5225\u30e1\u30bd\u30c3\u30c9\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n@Override\npublic void start(final Future<Void> future) {\n    vertx\n        .createHttpServer()\n        .requestHandler(route()::accept)\n        .listen(8940, result -> {\n            if (result.succeeded()) {\n                future.complete();\n            } else {\n                future.fail(result.cause());\n            }\n        });\n}\n\n\nroute \u30e1\u30bd\u30c3\u30c9\n\u30d1\u30b9 \"/wc\" \u306b\u30a2\u30af\u30bb\u30b9\u304c\u3042\u3063\u305f\u969b\u3001\u30d5\u30a9\u30fc\u30e0\u304b\u3089\u9001\u4fe1\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u308a\u3001\u30ef\u30fc\u30c9\u30af\u30e9\u30a6\u30c9\u63cf\u753b\u306b\u5fc5\u8981\u306a\u5f62\u306b\u5909\u63db\u3057\u3066\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u306e\u63cf\u753b\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092 context \u306b put \u3057\u3066\u3044\u304d\u307e\u3059\u3002\nmain.get(\"/wc\").handler(context -> {\n    context.put(\"title\",  TITLE);\n\n    final String sentence = context.request().getParam(\"sentence\");\n\n    if (sentence == null || sentence.trim().length() == 0) {\n        handler.handle(context);\n        return;\n    }\n    context.put(\"wcData\",    new WordCloud().count(sentence));\n    context.put(\"paramSentence\", sentence);\n    context.put(\"width\",     WIDTH);\n    context.put(\"height\",    HEIGHT);\n    handler.handle(context);\n});\n\n\n\u30d5\u30a1\u30a4\u30eb\u30c4\u30ea\u30fc\n$ tree /F\n\u2502  build.gradle\n\u2502  LICENSE\n\u2502  settings.gradle\n\u2502  \n\u2514\u2500src\n    \u2514\u2500main\n        \u251c\u2500java\n        \u2502  \u2514\u2500jp\n        \u2502      \u2514\u2500toastkid\n        \u2502          \u251c\u2500libs\n        \u2502          \u2502  \u2514\u2500tinysegmenter\n        \u2502          \u2502          CharacterClassifier.java\n        \u2502          \u2502          ScoreMap.java\n        \u2502          \u2502          TinySegmenter.java\n        \u2502          \u2502          \n        \u2502          \u2514\u2500wordcloud\n        \u2502                  WordCloud.java\n        \u2502                  WordCloudVerticle.java\n        \u2502                  \n        \u2514\u2500resources\n            \u251c\u2500assets\n            \u2502  \u2502  index.html\n            \u2502  \u2502  \n            \u2502  \u251c\u2500images\n            \u2502  \u2502      icon.png\n            \u2502  \u2502      \n            \u2502  \u251c\u2500javascripts\n            \u2502  \u2502  \u251c\u2500d3\n            \u2502  \u2502  \u2502      d3.js\n            \u2502  \u2502  \u2502      LICENSE(d3)\n            \u2502  \u2502  \u2502      \n            \u2502  \u2502  \u2514\u2500d3-cloud\n            \u2502  \u2502          d3.layout.cloud.js\n            \u2502  \u2502          index.js\n            \u2502  \u2502          LICENSE\n            \u2502  \u2502          package.json\n            \u2502  \u2502          README.md\n            \u2502  \u2502          \n            \u2502  \u2514\u2500stylesheets\n            \u2502          main.css\n            \u2502          \n            \u2514\u2500templates\n                    c.ftl\n                    common_header.ftl\n\n\n\u52d5\u304b\u3059\n$ gradle run\n:compileJava UP-TO-DATE\n:processResources\n:classes\n:run\n6 26, 2016 5:49:49 \u5348\u5f8c io.vertx.core.Starter\n\u60c5\u5831: Succeeded in deploying verticle\n> Building 75% > :run\n\nhttp://localhost:8940/wc \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\u4e0b\u90e8\u306e TextArea \u306b\u4f55\u304b\u6587\u7ae0\u3092\u5165\u529b\u3057\u3001\u300c\u9001\u4fe1\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u2026\u2026\n\n\u4e0b\u56f3\u306e\u3088\u3046\u306b\u30ef\u30fc\u30c9\u30af\u30e9\u30a6\u30c9\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n\n\u8a70\u307e\u3063\u305f\u70b9\n\n\u5148\u306b route \u3067\u8a2d\u5b9a\u3057\u305f\u65b9\u304c\u512a\u5148\u3055\u308c\u308b\nCSS \u7b49\u306e\u9759\u7684\u30ea\u30bd\u30fc\u30b9\u7528\u306e route \u306f\u6700\u521d\u306b\u5b9a\u7fa9\u3057\u3066\u304a\u304f\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u4e0b\u8a18\u306e\u4f8b\u3060\u3068 src/main/resources/assets \u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u304c static \u30ea\u30bd\u30fc\u30b9\u3068\u3057\u3066\u53c2\u7167\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\nstatic_resources\nmain.route(\"/assets/*\").handler(StaticHandler.create(\"assets\"));\n\n\n\ncontext \u306b\u6e21\u3057\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5074\u3067\u306f context.\uff1c\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\uff1e \u3067\u53c2\u7167\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n\u30c6\u30b9\u30c8\u3067\u53c2\u7167\u3057\u3066\u3044\u308b template \u3092\u898b\u3066\u3088\u3046\u3084\u304f\u6c17\u4ed8\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u3001\u77e5\u3089\u306a\u3044\u3068\u672c\u5f53\u306b\u8a70\u307e\u308a\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u3001 Vert.x App \u5185\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u305f\u30d1\u30e9\u30e1\u30fc\u30bf \"paramSentence\" \u306f\n\n\u6307\u5b9a\ncontext.put(\"paramSentence\", sentence);\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u3066\u53c2\u7167\u3057\u307e\u3059\u3002\n\n\u53c2\u7167\n<p>${context.paramSentence}</p>\n\n\n\ncontext \u306b\u306f data \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308b\u306e\u3067\u3001 data \u3068\u3044\u3046\u540d\u524d\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u6e21\u3057\u3066\u4f7f\u304a\u3046\u3068\u3059\u308b\u3068\u4e00\u898b\u610f\u5473\u4e0d\u660e\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b\n\n\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\nFor \"${...}\" content: Expected a string or something automatically convertible to string (number, date or boolean), but this has evaluated to a method+sequence (wrapper: f.e.b.SimpleMethodModel):\n==> context.data  [in template \"templates/freemarker/word_cloud.ftl\" at line 38, column 26]\n\n\n\u300c\u305d\u3093\u306a\u62bd\u8c61\u7684\u306a\u540d\u524d\u4ed8\u3051\u306a\u3055\u3093\u306a\u300d\u3068\u3044\u3046\u3053\u3068\u3067\u3057\u3087\u3046\u3002data \u304b\u3089\u5225\u306e\u540d\u524d\u306b\u5909\u3048\u307e\u3057\u305f\u3002\n\n\u6587\u5b57\u5316\u3051\nWindows \u74b0\u5883\u3067 Vert.x \u3092\u52d5\u304b\u3059\u3068\u6587\u5b57\u5316\u3051\u304c\u3064\u3044\u3066\u56de\u3063\u3066\u975e\u5e38\u306b\u3084\u308a\u3065\u3089\u304b\u3063\u305f\u3067\u3059\u3002 accept-charset \u3067 Form \u306e\u6587\u5b57\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3067\u304d\u308b\u3068\u77e5\u308a\u307e\u3057\u305f\u3002\n<form method=\"get\" action=\"/wc\" accept-charset=\"UTF-8\">\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\nFreemarker \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u3092\u4f7f\u3046\u3068\u3001\u306a\u305c\u304b\u300c\u30d1\u30b9\u306e\u6700\u5f8c\u306e1\u6587\u5b57+\u62e1\u5f35\u5b50\u300d\u3068\u3044\u3046\u30d1\u30b9\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002\u3061\u3087\u3063\u3068\u610f\u5473\u304c\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u3002\u4eca\u56de\u306f\u30d1\u30b9\u304c \"/wc\" \u306a\u306e\u3067\u3001 templates/c.ftl \u3068\u3044\u3046\u5834\u6240\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u307e\u3057\u305f\u3002\u306a\u304a\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u5185\u304b\u3089\u53c2\u7167\u3059\u308b\u306e\u306f\u7279\u306b\u554f\u984c\u304c\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n\u8ab2\u984c\n\nGET \u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u3063\u3066\u3044\u308b\n\u666e\u901a\u3067\u3042\u308c\u3070 POST \u3067\u53d7\u3051\u6e21\u3057\u3092\u3059\u308b\u3082\u306e\u3067\u3059\u3002Vert.x \u3067 POST \u3092\u4f7f\u3063\u305f\u30c7\u30fc\u30bf\u306e\u53d7\u3051\u6e21\u3057\u3092\u3084\u308b\u306e\u304c\u5c11\u3057\u624b\u9593\u3060\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306f GET \u3067\u59a5\u5354\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\nWindows \u74b0\u5883\u3067\u306f\u6b21\u306e\u3088\u3046\u306b\u3001 context.request().bodyHandler \u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u5229\u7528\u3059\u308c\u3070 POST \u30d1\u30e9\u30e1\u30fc\u30bf\u306e \"sentence\" \u3092\u53d6\u308a\u51fa\u305b\u308b\u3088\u3046\u3067\u3059\u3001\u304c\u3001\u53d6\u308a\u51fa\u3057\u305f\u5f8c\u306e\u51e6\u7406\u304c\u4e0a\u624b\u304f\u52d5\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\u52d5\u304b\u306a\u3044\u30b3\u30fc\u30c9\u306a\u306e\u3067\u30b3\u30d4\u30da\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\nmain.post(\"/wc\")\n    .handler(context -> {\n        context.request().bodyHandler(body -> {\n            final String sentence = extractSentence(body).get();\n            if (sentence == null || sentence.trim().length() == 0) {\n                context.next();\n            }\n            handler.handle(context);\n        });\n    });\n\nprivate Optional<String> extractSentence(final Buffer body) {\n    try {\n        final String decoded = URLDecoder.decode(new String(body.getBytes(), \"shift-jis\"), \"shift-jis\");\n        return Stream.of(decoded.split(\"\\\\&\"))\n                    .filter(str -> str.startsWith(\"sentence\"))\n                    .map(str -> str.substring(\"sentence\".length() + 2))\n                    .findFirst();\n    } catch (final UnsupportedEncodingException e) {\n        e.printStackTrace();\n    }\n    return Optional.empty();\n}\n\n\n\u89e3\u6c7a\u306b\u6311\u3080\u969b\u306f\u4e0b\u8a18\u306e\u8a18\u4e8b\u304c\u53c2\u8003\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\nGroovy\u3067Vert.x - 2. HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u30cf\u30f3\u30c9\u30e9 \u305d\u306e1 -\nHttp Server (Java on Vertx) not getting POST parameter\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u306b Freemarker \u3092\u4f7f\u3063\u3066\u3044\u308b\n\u4eca\u56de\u306f\u4ee5\u524d\u4f5c\u3063\u305f Freemarker \u306e\u3082\u306e\u3092\u6d41\u7528\u3057\u307e\u3057\u305f\u3002\u3067\u304d\u308c\u3070 Thymeleaf \u3092\u4f7f\u3063\u3066\u307f\u305f\u3044\u3067\u3059\u3002\nVert.x \u3067\u306f\u4e0b\u8a18\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002\n\nThymeleaf\nPebble\nMVEL\nJade\nHandlebars\nFreemarker\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\nvertx_word_cloud(GitHub repository)\n\n\n\n\u53c2\u8003\n\n\u4eca\u56de\u958b\u767a\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u5168\u4f53\n\nHello world(GitHub repository)\n\u30ef\u30fc\u30c9\u30af\u30e9\u30a6\u30c9(GitHub repository)\n\n\nGitHub repository\n\nVert.x Core\nVert.x Examples\n\n\nDocuments\n\nVertx3 and Gradle Application Plugin\nMy first Vert.x 3 Application\nVert.x \u516c\u5f0f\u30b5\u30a4\u30c8\n\n\nVert.x & RxJava \u306e\u958b\u767a\u4e8b\u4f8b\n1.RxJava + Vert.x + jOO\u03bb \u3067 Microservice\u7684\u306a\u4f55\u304b\u3092\u4f5c\u3063\u3066\u307f\u305f\n\nHTML Form\n\n\u30da\u30fc\u30b8\u306e\u6587\u5b57\u30b3\u30fc\u30c9\u3068\u306f\u9055\u3046\u4efb\u610f\u306e\u6587\u5b57\u30b3\u30fc\u30c9\u3092form\u304b\u3089\u9001\u4fe1\u3059\u308b\u65b9\u6cd5\n\n# \u6982\u8981\n\u30ea\u30a2\u30af\u30c6\u30a3\u30f4\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3067 Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3067\u304d\u308b Framework \u306e [Vert.x](http://vertx.io/) 3\u7cfb\u3092\u3001 Gradle \u3092\u4f7f\u3063\u3066 stand-alone \u3067\u52d5\u304b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n---\n\n# Vert.x \u3068\u306f\uff1f\n> Vert.x is a tool-kit for building reactive applications on the JVM.\n\u51fa\u5178\uff1a[\u516c\u5f0f\u30b5\u30a4\u30c8](http://vertx.io/)\n\n## Scale\n1. \u30a4\u30d9\u30f3\u30c8\u30c9\u30ea\u30d6\u30f3\u3001\u3059\u3079\u3066\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u7d50\u679c\u304c\u8fd4\u308b\u2026\u2026\u305f\u3060\u3057\u5358\u4f53\u3060\u3068\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u5730\u7344\u306b\u9665\u308a\u3084\u3059\u3044\u306e\u3067 RxJava \u3068\u306e\u4f75\u7528\u304c\u63a8\u5968\u3055\u308c\u3066\u3044\u308b\n2. Non-blockking I/O\n3. \u5c11\u6570\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u5927\u91cf\u306e\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u4e26\u884c\u51e6\u7406\n\n## Polyglot\n\u30b3\u30a2\u306f Java \u3060\u304c\u3001\u3055\u307e\u3056\u307e\u306a\u8a00\u8a9e\u3067\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\u3092\u30b5\u30dd\u30fc\u30c8\n1. Java\n2. JavaScript\n3. Groovy\n4. Ruby\n5. Ceylon\n\n## \u30e9\u30a4\u30bb\u30f3\u30b9\n\u30d0\u30fc\u30b8\u30e7\u30f3 3.3.0.CR2 \u306e\u6642\u70b9\u3067\u306f [Eclipse Public License version 1.0 \u3068 Apache License 2.0 \u306e\u30c7\u30e5\u30a2\u30eb\u30e9\u30a4\u30bb\u30f3\u30b9](https://github.com/eclipse/vert.x/blob/3.3.0.CR2/LICENSE-eplv10-aslv20.html) \u306e\u3088\u3046\u3067\u3059\u3002\n\n## \u30c8\u30ec\u30f3\u30c9\n[Google \u30c8\u30ec\u30f3\u30c9\u3067\u8abf\u3079\u3066\u307f\u307e\u3057\u305f](https://www.google.co.jp/trends/explore#q=Vert.x&date=1%2F2011%2066m&cmpt=q&tz=Etc%2FGMT-9)\u3002\n\n2012/05 \u3068 2013/01 \u306b\u5927\u304d\u306a\u5c71\u304c\u3042\u308a\u307e\u3059\u3002[Vert.x History](https://github.com/vert-x3/wiki/wiki/Vert.x-History) \u306b\u3088\u308b\u3068\u3001 2012/05/09(Wed) \u306b\u306f version 1.0 \u306e\u6700\u7d42\u30ea\u30ea\u30fc\u30b9\u30012013/01 \u306b\u306f Eclipse Foundation \u3078\u306e\u53c2\u52a0\u304c\u3042\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\n<img width=\"638\" alt=\"vertx_trend.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/102004/f9ae971a-c9fc-042d-4736-5f7bc0e76c11.png\">\n\n\u95a2\u9023\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u898b\u308b\u3068\u3001 Node.js \u3068\u306e\u6bd4\u8f03\u3092\u6c42\u3081\u308b\u30e6\u30fc\u30b6\u304c\u591a\u3044\u3088\u3046\u3067\u3059\u3002\n\n<img width=\"276\" alt=\"vertx_trend1.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/102004/0858ee9a-2d0f-2880-da45-74424dd393eb.png\">\n\n\n---\n# \u5b9f\u884c\u74b0\u5883\n| Java | SE 1.8.0_91\n|:---|:---\n| Eclipse | Mars 4.5.2\n| Vert.x  | 3.3.0.CR1\n| Gradle  | 2.12\n\n---\n# \u6700\u5c0f\u69cb\u6210\u3067\u52d5\u304b\u3059\nVert.x \u3092\u52d5\u304b\u3059\u306b\u306f Java \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u767a\u3068\u5225\u306b Framework \u672c\u4f53\u3082\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3068\u601d\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u672c\u4f53\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u306a\u304f\u3068\u3082 Vert.x \u306e\u4f9d\u5b58\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u52d5\u304b\u3059\u3053\u3068\u304c\u53ef\u80fd\u306a\u3088\u3046\u3067\u3059\u3002\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4eca\u56de\u306f stand-alone \u3067 Vert.x \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3057\u52d5\u304b\u3057\u3066\u307f\u307e\u3059\u3002\n\n## build.gradle \u306e\u5b9a\u7fa9\n\n```groovy:build.gradle\napply plugin: 'application'\n\nsourceCompatibility = 1.8\nmainClassName       = \"io.vertx.core.Starter\"\n\ndef defaultEncoding = 'UTF-8'\ndef vertxVersion    = '3.0.0'\ndef mainVerticle    = \"HelloVerticle\"\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n  compile \"io.vertx:vertx-core:${vertxVersion}\"\n}\n\nrun {\n  args = [\"run\", mainVerticle]\n}\n\njar {\n  manifest {\n    attributes 'Main-Verticle': mainVerticle\n    attributes 'Main-Class'   : mainClassName\n  }\n  destinationDir = projectDir\n  from configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n}\n```\n\n\u91cd\u8981\u306a\u70b9\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\n1. mainClassName \u306b ```\"io.vertx.core.Starter\"``` \u3092\u6307\u5b9a\n2. run \u3067 \u5f15\u6570\u306b mainVerticle \u3092\u6307\u5b9a\n3. jar manifest \u306b ```Main-Verticle``` \u3068 ```Main-Class```\u3001 2\u3064\u306e attributes \u3092\u6307\u5b9a\n\n## Verticle \u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\n\n```java:HelloVerticle.java\nimport io.vertx.core.AbstractVerticle;\nimport io.vertx.core.Future;\n\npublic class HelloVerticle extends AbstractVerticle {\n\n    @Override\n    public void start(final Future<Void> future) {\n        vertx\n            .createHttpServer()\n            .requestHandler(r -> \n                r.response().end(\"<h1>Hello from my first Vert.x 3 application</h1>\")\n                )\n            .listen(8940, result -> {\n                if (result.succeeded()) {\n                    future.complete();\n                } else {\n                    future.fail(result.cause());\n                }\n            });\n    }\n}\n```\n\n\u3053\u306e\u30b3\u30fc\u30c9\u3067\u306f [AbstractVerticle](https://github.com/eclipse/vert.x/blob/master/src/main/java/io/vertx/core/AbstractVerticle.java)\u306e [Vertx](https://github.com/eclipse/vert.x/blob/master/src/main/java/io/vertx/core/Vertx.java) \u30aa\u30d6\u30b8\u30a7\u30af\u30c8 vertx \u306b\u5bfe\u3057\u3001\u4e0b\u8a183\u3064\u3092\u5b9f\u65bd\u3057\u3066\u3044\u307e\u3059\u3002\n1. Http Server \u306e\u4f5c\u6210\n2. Request Handler \u306e\u8a2d\u5b9a\n3. Listen Port \u306e\u5909\u66f4\n\n### \u30d5\u30a1\u30a4\u30eb\u30c4\u30ea\u30fc\n\n```\n$ tree /F\n\u2502  build.gradle\n\u2502  LICENSE\n\u2502  settings.gradle\n\u2514\u2500src\n    \u2514\u2500main\n        \u2514\u2500java\n                HelloVerticle.java\n```\n\n## \u5b9f\u884c\n\n```\n$ gradle run\nDownload https://repo1.maven.org/maven2/io/vertx/vertx-core/3.0.0/vertx-core-3.0.0.jar\nDownload https://repo1.maven.org/maven2/io/netty/netty-common/4.0.28.Final/netty-common-4.0.28.Final.jar\nDownload https://repo1.maven.org/maven2/io/netty/netty-buffer/4.0.28.Final/netty-buffer-4.0.28.Final.jar\nDownload https://repo1.maven.org/maven2/io/netty/netty-transport/4.0.28.Final/netty-transport-4.0.28.Final.jar\nDownload https://repo1.maven.org/maven2/io/netty/netty-handler/4.0.28.Final/netty-handler-4.0.28.Final.jar\nDownload https://repo1.maven.org/maven2/io/netty/netty-codec-http/4.0.28.Final/netty-codec-http-4.0.28.Final.jar\nDownload https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-core/2.5.3/jackson-core-2.5.3.jar\nDownload https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/2.5.3/jackson-databind-2.5.3.jar\nDownload https://repo1.maven.org/maven2/io/netty/netty-codec/4.0.28.Final/netty-codec-4.0.28.Final.jar\n\n:compileJava\n:processResources UP-TO-DATE\n:classes\n:run\n6 18, 2016 8:45:55 \u5348\u524d io.vertx.core.Starter\n\u60c5\u5831: Succeeded in deploying verticle\n> Building 75% > :run\n```\n\n## \u78ba\u8a8d\n\u51fa\u529b\u304c\u6b62\u307e\u3063\u305f\u3068\u3053\u308d\u3067 http://localhost:8940/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001 \"Hello from my first Vert.x 3 application\" \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n---\n\n# FatJar \u3092\u751f\u6210\n\u30b5\u30fc\u30d0\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u6642\u306f FatJar \u3092\u4f5c\u3063\u3066\u3001\u305d\u308c\u3092\u30b5\u30fc\u30d0\u4e0a\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n$ gradle jar\n:compileJava UP-TO-DATE\n:processResources UP-TO-DATE\n:classes UP-TO-DATE\n:jar\n\nBUILD SUCCESSFUL\n\nTotal time: 5.227 secs\n```\n\n## \u5b9f\u884c\n\u751f\u6210\u3055\u308c\u305f FatJar \u3092 java -jar \u3067\u52d5\u304b\u3057\u307e\u3059\u3002\n\n```\n$ java -jar vertx_v.jar\n6 18, 2016 8:58:30 \u5348\u524d io.vertx.core.Starter\n\u60c5\u5831: Succeeded in deploying verticle\n```\n\n\u5148\u307b\u3069\u3068\u540c\u69d8\u3001http://localhost:8940/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066 \"Hello from my first Vert.x 3 application\" \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n---\n# \u30ef\u30fc\u30c9\u30af\u30e9\u30a6\u30c9\u3092\u751f\u6210\u3059\u308b Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308b\nWeb \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\u3067\u306e\u4f7f\u3044\u65b9\u3092\u52c9\u5f37\u3059\u308b\u305f\u3081\u306b\u3001\u5c0f\u3055\u3081\u306e Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\u5165\u529b\u3055\u308c\u305f\u6587\u7ae0\u3092\u5358\u8a9e\u306b\u5206\u89e3\u3057\u3066\u6570\u3048\u4e0a\u3052\u3001\u30ef\u30fc\u30c9\u30af\u30e9\u30a6\u30c9\u3092\u751f\u6210\u3059\u308b\u3082\u306e\u3067\u3059\u3002\n\n## \u69cb\u6210\n| \u8981\u7d20 | \u63a1\u7528\n|:---|:---\n| \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3 | Freemarker\n| \u5358\u8a9e\u5206\u89e3 | tinySegmenter\n| \u30ef\u30fc\u30c9\u30af\u30e9\u30a6\u30c9\u63cf\u753b\u7528\u30e9\u30a4\u30d6\u30e9\u30ea | D3-cloud.js\n\n## \u958b\u767a\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u5168\u4f53\u306f [\u3053\u3061\u3089](https://github.com/toastkidjp/vertx_word_cloud/tree/qiita) \u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\u4ee5\u4e0b\u3001\u30dd\u30a4\u30f3\u30c8\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n### build.gradle\nFreemarker \u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u3092\u4f7f\u3046\u305f\u3081\u3001\u4f9d\u5b58\u30921\u3064\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```groovy:build.gradle_dependencies\ndependencies {\n  compile \"io.vertx:vertx-core:${vertxVersion}\"\n  compile \"io.vertx:vertx-web-templ-freemarker:${vertxVersion}\" // \u8ffd\u52a0\n}\n```\n\n### start \u30e1\u30bd\u30c3\u30c9\nlisten \u30e1\u30bd\u30c3\u30c9\u3067\u30dd\u30fc\u30c8\u3092 8940 \u306b\u5909\u3048\u3066\u3044\u308b\u307b\u304b\u3001 routing \u3092 route \u3068\u3044\u3046\u5225\u30e1\u30bd\u30c3\u30c9\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```java\n@Override\npublic void start(final Future<Void> future) {\n    vertx\n        .createHttpServer()\n        .requestHandler(route()::accept)\n        .listen(8940, result -> {\n            if (result.succeeded()) {\n                future.complete();\n            } else {\n                future.fail(result.cause());\n            }\n        });\n}\n```\n\n### route \u30e1\u30bd\u30c3\u30c9\n\u30d1\u30b9 \"/wc\" \u306b\u30a2\u30af\u30bb\u30b9\u304c\u3042\u3063\u305f\u969b\u3001\u30d5\u30a9\u30fc\u30e0\u304b\u3089\u9001\u4fe1\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u308a\u3001\u30ef\u30fc\u30c9\u30af\u30e9\u30a6\u30c9\u63cf\u753b\u306b\u5fc5\u8981\u306a\u5f62\u306b\u5909\u63db\u3057\u3066\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u306e\u63cf\u753b\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092 context \u306b put \u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```java\nmain.get(\"/wc\").handler(context -> {\n    context.put(\"title\",  TITLE);\n\n    final String sentence = context.request().getParam(\"sentence\");\n\n    if (sentence == null || sentence.trim().length() == 0) {\n        handler.handle(context);\n        return;\n    }\n    context.put(\"wcData\",    new WordCloud().count(sentence));\n    context.put(\"paramSentence\", sentence);\n    context.put(\"width\",     WIDTH);\n    context.put(\"height\",    HEIGHT);\n    handler.handle(context);\n});\n```\n\n### \u30d5\u30a1\u30a4\u30eb\u30c4\u30ea\u30fc\n\n```\n$ tree /F\n\u2502  build.gradle\n\u2502  LICENSE\n\u2502  settings.gradle\n\u2502  \n\u2514\u2500src\n    \u2514\u2500main\n        \u251c\u2500java\n        \u2502  \u2514\u2500jp\n        \u2502      \u2514\u2500toastkid\n        \u2502          \u251c\u2500libs\n        \u2502          \u2502  \u2514\u2500tinysegmenter\n        \u2502          \u2502          CharacterClassifier.java\n        \u2502          \u2502          ScoreMap.java\n        \u2502          \u2502          TinySegmenter.java\n        \u2502          \u2502          \n        \u2502          \u2514\u2500wordcloud\n        \u2502                  WordCloud.java\n        \u2502                  WordCloudVerticle.java\n        \u2502                  \n        \u2514\u2500resources\n            \u251c\u2500assets\n            \u2502  \u2502  index.html\n            \u2502  \u2502  \n            \u2502  \u251c\u2500images\n            \u2502  \u2502      icon.png\n            \u2502  \u2502      \n            \u2502  \u251c\u2500javascripts\n            \u2502  \u2502  \u251c\u2500d3\n            \u2502  \u2502  \u2502      d3.js\n            \u2502  \u2502  \u2502      LICENSE(d3)\n            \u2502  \u2502  \u2502      \n            \u2502  \u2502  \u2514\u2500d3-cloud\n            \u2502  \u2502          d3.layout.cloud.js\n            \u2502  \u2502          index.js\n            \u2502  \u2502          LICENSE\n            \u2502  \u2502          package.json\n            \u2502  \u2502          README.md\n            \u2502  \u2502          \n            \u2502  \u2514\u2500stylesheets\n            \u2502          main.css\n            \u2502          \n            \u2514\u2500templates\n                    c.ftl\n                    common_header.ftl\n```\n\n\n## \u52d5\u304b\u3059\n```\n$ gradle run\n:compileJava UP-TO-DATE\n:processResources\n:classes\n:run\n6 26, 2016 5:49:49 \u5348\u5f8c io.vertx.core.Starter\n\u60c5\u5831: Succeeded in deploying verticle\n> Building 75% > :run\n```\n\nhttp://localhost:8940/wc \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n<img width=\"1079\" alt=\"wcss_0.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/102004/2a8391ac-724a-1336-317c-4766d69ac268.png\">\n\n\u4e0b\u90e8\u306e TextArea \u306b\u4f55\u304b\u6587\u7ae0\u3092\u5165\u529b\u3057\u3001\u300c\u9001\u4fe1\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u2026\u2026\n\n<img width=\"1080\" alt=\"wcss_1.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/102004/bddfa833-e29e-69cf-88f7-52c038c6cf74.png\">\n\n\u4e0b\u56f3\u306e\u3088\u3046\u306b\u30ef\u30fc\u30c9\u30af\u30e9\u30a6\u30c9\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n<img width=\"1080\" alt=\"wcss_2.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/102004/357a7582-cae0-40ba-f0bc-77ccc1d96372.png\">\n\n## \u8a70\u307e\u3063\u305f\u70b9\n\n### \u5148\u306b route \u3067\u8a2d\u5b9a\u3057\u305f\u65b9\u304c\u512a\u5148\u3055\u308c\u308b\nCSS \u7b49\u306e\u9759\u7684\u30ea\u30bd\u30fc\u30b9\u7528\u306e route \u306f\u6700\u521d\u306b\u5b9a\u7fa9\u3057\u3066\u304a\u304f\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u4e0b\u8a18\u306e\u4f8b\u3060\u3068 src/main/resources/assets \u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u304c static \u30ea\u30bd\u30fc\u30b9\u3068\u3057\u3066\u53c2\u7167\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n```java:static_resources\nmain.route(\"/assets/*\").handler(StaticHandler.create(\"assets\"));\n```\n\n### context \u306b\u6e21\u3057\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5074\u3067\u306f context.\uff1c\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\uff1e \u3067\u53c2\u7167\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n[\u30c6\u30b9\u30c8\u3067\u53c2\u7167\u3057\u3066\u3044\u308b template](https://github.com/vert-x3/vertx-web/blob/d552ab8b2dda317bb15a8a5fa89e4579b4c94b92/vertx-template-engines/vertx-web-templ-freemarker/src/test/filesystemtemplates/test-freemarker-template3.ftl) \u3092\u898b\u3066\u3088\u3046\u3084\u304f\u6c17\u4ed8\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u3001\u77e5\u3089\u306a\u3044\u3068\u672c\u5f53\u306b\u8a70\u307e\u308a\u307e\u3059\u3002\n\n\u4f8b\u3048\u3070\u3001 Vert.x App \u5185\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u305f\u30d1\u30e9\u30e1\u30fc\u30bf \"paramSentence\" \u306f\n\n```java:\u6307\u5b9a\ncontext.put(\"paramSentence\", sentence);\n```\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u3066\u53c2\u7167\u3057\u307e\u3059\u3002\n\n```html:\u53c2\u7167\n<p>${context.paramSentence}</p>\n```\n\n### context \u306b\u306f data \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308b\u306e\u3067\u3001 data \u3068\u3044\u3046\u540d\u524d\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u6e21\u3057\u3066\u4f7f\u304a\u3046\u3068\u3059\u308b\u3068\u4e00\u898b\u610f\u5473\u4e0d\u660e\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b\n\n```:\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\nFor \"${...}\" content: Expected a string or something automatically convertible to string (number, date or boolean), but this has evaluated to a method+sequence (wrapper: f.e.b.SimpleMethodModel):\n==> context.data  [in template \"templates/freemarker/word_cloud.ftl\" at line 38, column 26]\n```\n\n\u300c\u305d\u3093\u306a\u62bd\u8c61\u7684\u306a\u540d\u524d\u4ed8\u3051\u306a\u3055\u3093\u306a\u300d\u3068\u3044\u3046\u3053\u3068\u3067\u3057\u3087\u3046\u3002data \u304b\u3089\u5225\u306e\u540d\u524d\u306b\u5909\u3048\u307e\u3057\u305f\u3002\n\n### \u6587\u5b57\u5316\u3051\nWindows \u74b0\u5883\u3067 Vert.x \u3092\u52d5\u304b\u3059\u3068\u6587\u5b57\u5316\u3051\u304c\u3064\u3044\u3066\u56de\u3063\u3066\u975e\u5e38\u306b\u3084\u308a\u3065\u3089\u304b\u3063\u305f\u3067\u3059\u3002 accept-charset \u3067 Form \u306e\u6587\u5b57\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3067\u304d\u308b\u3068\u77e5\u308a\u307e\u3057\u305f\u3002\n\n```html\n<form method=\"get\" action=\"/wc\" accept-charset=\"UTF-8\">\n```\n\n### \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\nFreemarker \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u3092\u4f7f\u3046\u3068\u3001\u306a\u305c\u304b\u300c\u30d1\u30b9\u306e\u6700\u5f8c\u306e1\u6587\u5b57+\u62e1\u5f35\u5b50\u300d\u3068\u3044\u3046\u30d1\u30b9\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002\u3061\u3087\u3063\u3068\u610f\u5473\u304c\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u3002\u4eca\u56de\u306f\u30d1\u30b9\u304c \"/wc\" \u306a\u306e\u3067\u3001 templates/c.ftl \u3068\u3044\u3046\u5834\u6240\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u307e\u3057\u305f\u3002\u306a\u304a\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u5185\u304b\u3089\u53c2\u7167\u3059\u308b\u306e\u306f\u7279\u306b\u554f\u984c\u304c\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n## \u8ab2\u984c\n### GET \u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u3063\u3066\u3044\u308b\n\u666e\u901a\u3067\u3042\u308c\u3070 POST \u3067\u53d7\u3051\u6e21\u3057\u3092\u3059\u308b\u3082\u306e\u3067\u3059\u3002Vert.x \u3067 POST \u3092\u4f7f\u3063\u305f\u30c7\u30fc\u30bf\u306e\u53d7\u3051\u6e21\u3057\u3092\u3084\u308b\u306e\u304c\u5c11\u3057\u624b\u9593\u3060\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306f GET \u3067\u59a5\u5354\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\nWindows \u74b0\u5883\u3067\u306f\u6b21\u306e\u3088\u3046\u306b\u3001 ```context.request().bodyHandler``` \u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u5229\u7528\u3059\u308c\u3070 POST \u30d1\u30e9\u30e1\u30fc\u30bf\u306e \"sentence\" \u3092\u53d6\u308a\u51fa\u305b\u308b\u3088\u3046\u3067\u3059\u3001\u304c\u3001\u53d6\u308a\u51fa\u3057\u305f\u5f8c\u306e\u51e6\u7406\u304c\u4e0a\u624b\u304f\u52d5\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n```java:\u52d5\u304b\u306a\u3044\u30b3\u30fc\u30c9\u306a\u306e\u3067\u30b3\u30d4\u30da\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\nmain.post(\"/wc\")\n    .handler(context -> {\n        context.request().bodyHandler(body -> {\n            final String sentence = extractSentence(body).get();\n            if (sentence == null || sentence.trim().length() == 0) {\n                context.next();\n            }\n            handler.handle(context);\n        });\n    });\n\nprivate Optional<String> extractSentence(final Buffer body) {\n    try {\n        final String decoded = URLDecoder.decode(new String(body.getBytes(), \"shift-jis\"), \"shift-jis\");\n        return Stream.of(decoded.split(\"\\\\&\"))\n                    .filter(str -> str.startsWith(\"sentence\"))\n                    .map(str -> str.substring(\"sentence\".length() + 2))\n                    .findFirst();\n    } catch (final UnsupportedEncodingException e) {\n        e.printStackTrace();\n    }\n    return Optional.empty();\n}\n```\n\n\u89e3\u6c7a\u306b\u6311\u3080\u969b\u306f\u4e0b\u8a18\u306e\u8a18\u4e8b\u304c\u53c2\u8003\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\n1. [Groovy\u3067Vert.x - 2. HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u30cf\u30f3\u30c9\u30e9 \u305d\u306e1 -](http://d.hatena.ne.jp/touchez_du_bois/20120527/1338141796)\n2. [Http Server (Java on Vertx) not getting POST parameter](http://stackoverflow.com/questions/30251479/http-server-java-on-vertx-not-getting-post-parameter)\n\n### \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u306b Freemarker \u3092\u4f7f\u3063\u3066\u3044\u308b\n\u4eca\u56de\u306f\u4ee5\u524d\u4f5c\u3063\u305f Freemarker \u306e\u3082\u306e\u3092\u6d41\u7528\u3057\u307e\u3057\u305f\u3002\u3067\u304d\u308c\u3070 [Thymeleaf](http://www.thymeleaf.org/) \u3092\u4f7f\u3063\u3066\u307f\u305f\u3044\u3067\u3059\u3002\n\nVert.x \u3067\u306f\u4e0b\u8a18\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002\n\n1. [Thymeleaf](https://github.com/vert-x3/vertx-web/tree/master/vertx-template-engines/vertx-web-templ-thymeleaf)\n2. [Pebble](https://github.com/vert-x3/vertx-web/tree/master/vertx-template-engines/vertx-web-templ-pebble)\n3. [MVEL](https://github.com/vert-x3/vertx-web/tree/master/vertx-template-engines/vertx-web-templ-mvel)\n4. [Jade](https://github.com/vert-x3/vertx-web/tree/master/vertx-template-engines/vertx-web-templ-jade)\n5. [Handlebars](https://github.com/vert-x3/vertx-web/tree/master/vertx-template-engines/vertx-web-templ-handlebars)\n6. [Freemarker](https://github.com/vert-x3/vertx-web/tree/master/vertx-template-engines/vertx-web-templ-freemarker)\n\n## \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n1. [vertx_word_cloud(GitHub repository)](https://github.com/toastkidjp/vertx_word_cloud/tree/qiita)\n\n---\n\n# \u53c2\u8003\n\n## \u4eca\u56de\u958b\u767a\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u5168\u4f53\n1. [Hello world(GitHub repository)](https://github.com/toastkidjp/vertx_verification)\n2. [\u30ef\u30fc\u30c9\u30af\u30e9\u30a6\u30c9(GitHub repository)](https://github.com/toastkidjp/vertx_word_cloud/tree/qiita)\n\n## GitHub repository\n1. [Vert.x Core](https://github.com/eclipse/vert.x)\n2. [Vert.x Examples](https://github.com/vert-x3/vertx-examples)\n\n## Documents\n1. [Vertx3 and Gradle Application Plugin](http://beckje01.com/blog/2015/05/17/vertx3-and-gradle-application-plugin/)\n2. [My first Vert.x 3 Application](http://vertx.io/blog/my-first-vert-x-3-application/)\n3. [Vert.x \u516c\u5f0f\u30b5\u30a4\u30c8](http://vertx.io/)\n\n## Vert.x & RxJava \u306e\u958b\u767a\u4e8b\u4f8b\n1.[RxJava + Vert.x + jOO\u03bb \u3067 Microservice\u7684\u306a\u4f55\u304b\u3092\u4f5c\u3063\u3066\u307f\u305f](https://speakerdeck.com/chimerast/rxjava-plus-vert-dot-x-plus-jool-te-microservicede-nahe-kawozuo-tutemita)\n\n## HTML Form\n1. [\u30da\u30fc\u30b8\u306e\u6587\u5b57\u30b3\u30fc\u30c9\u3068\u306f\u9055\u3046\u4efb\u610f\u306e\u6587\u5b57\u30b3\u30fc\u30c9\u3092form\u304b\u3089\u9001\u4fe1\u3059\u308b\u65b9\u6cd5](http://www.webbibo.com/blog/htmlcss/accept-charset.html)\n", "tags": ["Vert.x", "Java", "gradle", "freemarker"]}