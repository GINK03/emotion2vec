{"context": " More than 1 year has passed since last update.\n\n\u76ee\u7684\nRuby On Rails\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4e2d\u306bReact.js\u3067flux\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u66f8\u3002\nflux\u306eframework\u306f\u305f\u304f\u3055\u3093\u3042\u308b\u304c\u3001\u4eca\u56de\u306ffluxxor(http://fluxxor.com/guides/quick-start.html)\n\u3092\u4f7f\u7528\u3002\n\nRails\u306e\u4e2d\u306bReact\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nGemfile\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\ngem 'react-rails'\n\n\u305d\u306e\u5f8c\n$ bundle install\n$ rails g react:install\n$ rails g controller wellcome\n\n\nReact\u306bfluxxor\u3092\u5c0e\u5165\n// npm\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u65b9\u306f\n$ brew install node\n$ npm install -g bower\n\n// pwd .../project_path\n$ bower init\n$ bower install --save fluxxor\n\n\u3053\u308c\u3067fluxxor\u304cRails\u306b\u5165\u308b\u3002\n\nfluxxor\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u8aad\u307f\u8fbc\u3080\u8a2d\u5b9a\u3092\u884c\u3046\nconfig/initializers/assets.rb\nRails.application.config.assets.paths << Rails.application.config.root.join('bower_components')\n\napp/assets/javascripts/application.js\n//= ....\n//= require fluxxor\n//= require components\n//= require_tree .\n\n\nassets/javascript\u4ee5\u4e0b\u306e\u30d5\u30a9\u30eb\u30c0\u69cb\u9020\ntree app/assets/javascript\n\u251c\u2500\u2500 application.js      \n\u251c\u2500\u2500 components.js\n\u251c\u2500\u2500 actions             //\u30a2\u30af\u30b7\u30e7\u30f3\u3068\u30c7\u30fc\u30bf\u901a\u4fe1\u7b49\u3092\u8a18\u8ff0\n\u251c\u2500\u2500 components          //\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u683c\u7d0d\n\u251c\u2500\u2500 constants           //\u5b9a\u6570\u3092\u683c\u7d0d\n\u251c\u2500\u2500 stores              //flux\u306estore\u3092\u683c\u7d0d\n\u251c\u2500\u2500 entities            //view\u3067\u4f7f\u7528\u3059\u308b\u30c7\u30fc\u30bf\u578b\u3092\u5b9a\u7fa9\n\u2514\u2500\u2500 dataManagers        //store\u306b\u683c\u7d0d\u3059\u308b\u524d\u306b\u6574\u5f62\u3092\u884c\u3046\n\n\n\nRouting\n\u30b7\u30f3\u30b0\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5185\u306erouting\u3092\u884c\u3044\u305f\u3044\u3068\u304d\u306f\nGemfile\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n(https://github.com/rackt/react-router)\ngem 'react-router-rails'\n\n\napplication.js\n   //= require jquery\n  //= require jquery_ujs\n  //= require react\n  //= require react_ujs\n  //= require react_router\n  //= require fluxxor\n  //= require components\n\n\ncomponents.js\n  //= require_tree ./constants\n  //= require_tree ./stores\n  //= require_tree ./actions\n  //= require_tree ./components \n  //= require_tree ./entities\n  //= require_tree ./dataManagers\n\n\u4ee5\u4e0a\u3067\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306f\u7d42\u4e86\u3002\n\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u547c\u3073\u51fa\u3059\u3002\napp/views/welcome/index.html.erb\n\u8907\u6570\u30d5\u30a1\u30a4\u30eb\u306eview\u306b\u5206\u3051\u308b\u305f\u3081\u306b\u306f\u30da\u30fc\u30b8\u3054\u3068\u306b\u9055\u3046javascript\u3092\u7ba1\u7406\u3059\u308b\u3002\n<div id=\"app\" class=\"l-main\"></div>\n<%= javascript_include_tag \"pages/timeline\" %>\n\n\n\u6700\u521d\u306b\u8aad\u307f\u8fbc\u307e\u308c\u308bjavascript\u30d5\u30a1\u30a4\u30eb\napp/assets/javascripts/pages/welcome.js.jsx.coffee\n stores =                                                                                                                                                                      \n    WelcomeStore: new WelomeStore()\n    XxxxxxxStore: new XxxxxxStore()\n\n  actions =\n    WelcomeActions: WelcomeActions\n    XxxxxxxAvtions: XxxxxxxActions\n\n  flux = new Fluxxor.Flux(stores, actions)\n\n  @RouteHandler = ReactRouter.RouteHandler\n\n  App = React.createClass\n    render: ->\n      `<div>\n        <HeaderComponent {...this.props} /> //component\u8aad\u307f\u8fbc\u307f\u7b49\u53ef\u80fd\n        <RouteHandler {...this.props} />    //routing\u3067\u30cf\u30f3\u30c9\u30eb\u3055\u308c\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u547c\u3073\u51fa\u3057\n       </div>`\n\n  @Route = ReactRouter.Route\n\n  @MyRoutes =\n    `<Route handler={App}>\n      <Route name='home' handler={WellcomeComponent} path='/' />\n    </Route>`\n\n  ReactRouter.run MyRoutes, (Handler) ->\n    React.render `<Handler flux={flux} />`, document.getElementById(\"app\")\n    return\n\n\n\u3053\u306e\u3088\u3046\u306a\u6d41\u308c\u3067\u8a18\u8f09\u3059\u308b\u3068\u3044\u3044\u611f\u3058\u3067fluxxor+Rails\u306eReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u7bc9\u304c\u53ef\u80fd\n\n### \u76ee\u7684\nRuby On Rails\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4e2d\u306bReact.js\u3067flux\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u66f8\u3002\nflux\u306eframework\u306f\u305f\u304f\u3055\u3093\u3042\u308b\u304c\u3001\u4eca\u56de\u306ffluxxor(http://fluxxor.com/guides/quick-start.html)\n\u3092\u4f7f\u7528\u3002\n\n### Rails\u306e\u4e2d\u306bReact\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nGemfile\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n\n```\ngem 'react-rails'\n```\n\n\u305d\u306e\u5f8c\n\n```\n$ bundle install\n$ rails g react:install\n$ rails g controller wellcome\n```\n\n## React\u306bfluxxor\u3092\u5c0e\u5165\n\n```\n// npm\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u65b9\u306f\n$ brew install node\n$ npm install -g bower\n\n// pwd .../project_path\n$ bower init\n$ bower install --save fluxxor\n```\n\u3053\u308c\u3067fluxxor\u304cRails\u306b\u5165\u308b\u3002\n\n## fluxxor\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u8aad\u307f\u8fbc\u3080\u8a2d\u5b9a\u3092\u884c\u3046\n\nconfig/initializers/assets.rb\n\n```\nRails.application.config.assets.paths << Rails.application.config.root.join('bower_components')\n```\n\napp/assets/javascripts/application.js\n\n```\n//= ....\n//= require fluxxor\n//= require components\n//= require_tree .\n```\n\n## assets/javascript\u4ee5\u4e0b\u306e\u30d5\u30a9\u30eb\u30c0\u69cb\u9020\n\ntree app/assets/javascript\n\n```\n\u251c\u2500\u2500 application.js      \n\u251c\u2500\u2500 components.js\n\u251c\u2500\u2500 actions             //\u30a2\u30af\u30b7\u30e7\u30f3\u3068\u30c7\u30fc\u30bf\u901a\u4fe1\u7b49\u3092\u8a18\u8ff0\n\u251c\u2500\u2500 components          //\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u683c\u7d0d\n\u251c\u2500\u2500 constants           //\u5b9a\u6570\u3092\u683c\u7d0d\n\u251c\u2500\u2500 stores              //flux\u306estore\u3092\u683c\u7d0d\n\u251c\u2500\u2500 entities            //view\u3067\u4f7f\u7528\u3059\u308b\u30c7\u30fc\u30bf\u578b\u3092\u5b9a\u7fa9\n\u2514\u2500\u2500 dataManagers        //store\u306b\u683c\u7d0d\u3059\u308b\u524d\u306b\u6574\u5f62\u3092\u884c\u3046\n\n```\n\n## Routing\n\n\u30b7\u30f3\u30b0\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5185\u306erouting\u3092\u884c\u3044\u305f\u3044\u3068\u304d\u306f\nGemfile\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n(https://github.com/rackt/react-router)\n\n```\ngem 'react-router-rails'\n```\n\n## application.js\n\n```\n   //= require jquery\n  //= require jquery_ujs\n  //= require react\n  //= require react_ujs\n  //= require react_router\n  //= require fluxxor\n  //= require components\n```\n\n### components.js\n\n```\n  //= require_tree ./constants\n  //= require_tree ./stores\n  //= require_tree ./actions\n  //= require_tree ./components \n  //= require_tree ./entities\n  //= require_tree ./dataManagers\n```\n\n\u4ee5\u4e0a\u3067\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306f\u7d42\u4e86\u3002\n\n### \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u547c\u3073\u51fa\u3059\u3002\n\napp/views/welcome/index.html.erb\n\u8907\u6570\u30d5\u30a1\u30a4\u30eb\u306eview\u306b\u5206\u3051\u308b\u305f\u3081\u306b\u306f\u30da\u30fc\u30b8\u3054\u3068\u306b\u9055\u3046javascript\u3092\u7ba1\u7406\u3059\u308b\u3002\n\n```\n<div id=\"app\" class=\"l-main\"></div>\n<%= javascript_include_tag \"pages/timeline\" %>\n```\n\n## \u6700\u521d\u306b\u8aad\u307f\u8fbc\u307e\u308c\u308bjavascript\u30d5\u30a1\u30a4\u30eb\n\napp/assets/javascripts/pages/welcome.js.jsx.coffee\n\n```\n stores =                                                                                                                                                                      \n    WelcomeStore: new WelomeStore()\n    XxxxxxxStore: new XxxxxxStore()\n    \n  actions =\n    WelcomeActions: WelcomeActions\n    XxxxxxxAvtions: XxxxxxxActions\n  \n  flux = new Fluxxor.Flux(stores, actions)\n  \n  @RouteHandler = ReactRouter.RouteHandler\n  \n  App = React.createClass\n    render: ->\n      `<div>\n        <HeaderComponent {...this.props} /> //component\u8aad\u307f\u8fbc\u307f\u7b49\u53ef\u80fd\n        <RouteHandler {...this.props} />    //routing\u3067\u30cf\u30f3\u30c9\u30eb\u3055\u308c\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u547c\u3073\u51fa\u3057\n       </div>`\n  \n  @Route = ReactRouter.Route\n  \n  @MyRoutes =\n    `<Route handler={App}>\n      <Route name='home' handler={WellcomeComponent} path='/' />\n    </Route>`\n  \n  ReactRouter.run MyRoutes, (Handler) ->\n    React.render `<Handler flux={flux} />`, document.getElementById(\"app\")\n    return\n\n```\n\n\u3053\u306e\u3088\u3046\u306a\u6d41\u308c\u3067\u8a18\u8f09\u3059\u308b\u3068\u3044\u3044\u611f\u3058\u3067fluxxor+Rails\u306eReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u7bc9\u304c\u53ef\u80fd\n", "tags": ["Rails", "React"]}