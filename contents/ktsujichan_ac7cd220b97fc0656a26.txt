{"context": "Dockerfile\u3092Lint\u3059\u308b\u5834\u5408\u306fHadolint\u304c\u30aa\u30b9\u30b9\u30e1\u3067\u3059\u3002\nHaskell Dockerfile Linter\u306e\u7565\u3067\u3001\u6587\u5b57\u901a\u308aHaskell\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nMac\u3067\u4f7f\u3063\u3066\u307f\u308b\n$ brew install hadolint\n$ hadolint Dockerfile\n\n\u3053\u308c\u3060\u3051\u3067Dockerfile\u306e\u9759\u7684\u89e3\u6790\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u7279\u5b9a\u306e\u30eb\u30fc\u30eb\u3060\u3051\u9664\u5916\u3057\u3066\u30c1\u30a7\u30c3\u30af\u3057\u305f\u3044\u5834\u5408\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ hadolint --ignore DL3003 --ignore DL3006 Dockerfile\n\n\n\u30eb\u30fc\u30eb\n\nDL3000\n\nWORKDIR\u3092\u4f7f\u7528\u3059\u308b\u969b\u306f\u7d76\u5bfe\u30d1\u30b9\u3092\u4f7f\u3046\u3002\n# BAD\nWORKDIR usr/src/app\n\n# GOOD\nWORKDIR /usr/src/app\n\n\nDL3001\n\n\u610f\u5473\u306e\u306a\u3044bash\u30b3\u30de\u30f3\u30c9(ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig)\u3092\u4f7f\u308f\u306a\u3044\u3002\n# BAD\nFROM busybox\nRUN top\n\n# GOOD\nFROM busybox\n\n\nDL3002\n\nroot\u30e6\u30fc\u30b6\u3092\u4f7f\u308f\u306a\u3044\u3002\n# BAD\nFROM busybox\nUSER root\n\n# GOOD\nFROM busybox\n\n\nDL3003\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5909\u66f4\u306fWORKDIR\u3092\u4f7f\u3046\u3002\n# BAD\nFROM busybox\nRUN cd /usr/src/app\n\n# GOOD\nFROM busybox\nWORKDIR /usr/src/app\n\n\nDL3004\n\nsudo\u3092\u4f7f\u308f\u306a\u3044\u3002\n# BAD\nFROM busybox\nRUN sudo apt-get install\n\n# GOOD\nFROM busybox\nRUN apt-get install\n\n\nDL3005\n\napt-get\u306eupgrade, dist-upgrade\u3092\u4f7f\u308f\u306a\u3044\u3002\n# BAD\nFROM debian\nRUN apt-get update && apt-get upgrade \n\n# GOOD\nFROM debian\nRUN apt-get update\n\n\nDL3006\n\n\u30a4\u30e1\u30fc\u30b8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u306f\u660e\u793a\u7684\u306b\u30bf\u30b0\u3092\u4ed8\u3051\u308b\u3002\n# BAD\nFROM debian\n\n# GOOD\nFROM debian:jessie\n\n\nDL3007\n\n\u30a4\u30e1\u30fc\u30b8\u30bf\u30b0\u306blatest\u3092\u4f7f\u308f\u305a\u660e\u793a\u7684\u306b\u30ea\u30ea\u30fc\u30b9\u30bf\u30b0\u3092\u4f7f\u3046\u3002\n# BAD\nFROM debian:latest\n\n# GOOD\nFROM debian:jessie\n\n\nDL3008\n\napt get install\u3092\u3059\u308b\u969b\u306f\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u56fa\u5b9a\u3059\u308b\u3002\n# BAD\nRUN apt-get install python\n\n# GOOD\nRUN apt-get install python=2.7\n\n\nDL3009\n\napt-get install\u306e\u5f8c\u306blist\u3092\u524a\u9664\u3059\u308b\u3002\n# BAD\nRUN apt-get update && apt-get install -y python\n\n# GOOD\nRUN apt-get update && apt-get install -y python \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\n\n\nDL3011\n\n0\u304b\u308965535\u306e\u30dd\u30fc\u30c8\u3092\u4f7f\u3046\u3002\n# BAD\nEXPOSE 80000\n\n# GOOD\nEXPOSE 65535\n\n\nDL3012\n\n\u30e1\u30f3\u30c6\u30ca\u306e\u9023\u7d61\u5148\u3092\u8a18\u8ff0\u3059\u308b\u3002\n# BAD\nMAINTAINER ktsujichan\n\n# GOOD\nMAINTAINER ktsujichan <ktsujichan@example.com>\n\n\nDL3013\n\npip\u3092\u4f7f\u3046\u969b\u306f\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u56fa\u5b9a\u3059\u308b\u3002\n# BAD\nRUN pip install django\n\n# GOOD\nRUN pip install django==1.9\n\n\nDL3014\n\n-y\u3092\u4f7f\u3046\u3002\n# BAD\nRUN apt-get install python=2.7\n\n# GOOD\nRUN apt-get install -y python=2.7\n\n\nDL3015\n\n--no-install-recommends\u3092\u4f7f\u3046\u3002\n# BAD\nRUN apt-get install -y python=2.7\n\n# GOOD\nRUN apt-get install -y --no-install-recommends python=2.7\n\n\nDL3020\n\nADD\u3088\u308aCOPY\u3092\u4f7f\u3046\u3002\n# BAD\nADD requirements.txt /usr/src/app/\n\n# GOOD\nCOPY requirements.txt /usr/src/app/\n\n\nDL4000\n\n\u30e1\u30f3\u30c6\u30ca\u3092\u8a18\u8ff0\u3059\u308b\u3002\n# BAD\nFROM busybox\n\n# GOOD\nFROM busybox\nMAINTAINER ktsujichan <ktsujichan@example.com>\n\n\nDL4001\n\nwget\u3068curl\u3092\u4f75\u7528\u3057\u306a\u3044\u3002\n# BAD\nRUN wget http://google.com\nRUN curl http://bing.com\n\n# GOOD\nRUN curl http://google.com\nRUN curl http://bing.com\n\n\nDL4003\n\n\u8907\u6570\u306eCMD\u3092\u4f7f\u308f\u306a\u3044\u3002\n# BAD\nFROM busybox\nCMD /bin/true\nCMD /bin/false\n\n# GOOD\nFROM busybox\nCMD /bin/true\n\n\nDL4004\n\n\u8907\u6570\u306eENTRYPOINT\u3092\u4f7f\u308f\u306a\u3044\u3002\n# BAD\nFROM busybox\nENTRYPOINT /bin/true\nENTRYPOINT /bin/false\n\n# GOOD\nFROM busybox\nENTRYPOINT /bin/true\n\n\nDL4005\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b7\u30a7\u30eb\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\u306fSHELL\u3092\u4f7f\u3046\u3002\n# BAD\nRUN apk add --update-cache bash=4.3.42-r3\nRUN ln -sfv /bin/bash /bin/sh\n\n# GOOD\nRUN apk add --update-cache bash=4.3.42-r3\nSHELL [\"/bin/bash\", \"-c\"]\n\n\nSC1000\n\n$\u306f\u30a8\u30b9\u30b1\u30fc\u30d7\u3057\u3066\u4f7f\u3046\u3002\n# BAD\necho \"$\"\n\n# GOOD\necho \"\\$\"\n\n\nSC1007\n\n=\u306e\u5f8c\u306e\u30b9\u30da\u30fc\u30b9\u3092\u524a\u9664\u3059\u308b\u3002\n# BAD\nLANGUAGE= nl\n\n# GOOD\nLANGUAGE=nl\n\n\nSC1010\n\ndone\u306e\u524d\u306b\u30bb\u30df\u30b3\u30ed\u30f3\u307e\u305f\u306f\u6539\u884c\u3092\u3059\u308b\u3002\n# BAD\nfor f in *; do echo \"$f\" done\n\n# GOOD\nfor f in *; do echo \"$f\"; done\n\n\nSC1035\n\n\u30b9\u30da\u30fc\u30b9\u3092\u5165\u308c\u308b\u3002\n# BAD\nif ![-z foo ]; then true; fi\n\n# GOOD\nif ! [ -z foo ]; then true; fi\n\n\nSC1045\n\n&\u3068;\u3092\u4f75\u7528\u3057\u306a\u3044\u3002\n# BAD\nfoo &; bar\n\n# GOOD\nfoo & bar\n\n\nSC1065\n\n\u5f15\u6570\u306e\u51e6\u7406\u306f$n\u3092\u4f7f\u3046\u3002\n# BAD\nfoo(input) {\n  echo \"$input\"\n}\nfoo(\"hello world\");\n\n# GOOD\nfoo() {\n  echo \"$1\"\n}\nfoo \"hello world\"\n\n\nSC1066\n\n\u5909\u6570\u306e\u4ee3\u5165\u306b$\u3092\u4f7f\u308f\u306a\u3044\u3002\n# BAD\n$greeting=\"Hello World\"\n\n# GOOD\ngreeting=\"Hello World\"\n\n\nSC1068\n\n=\u306e\u524d\u5f8c\u306b\u30b9\u30da\u30fc\u30b9\u3092\u5165\u308c\u306a\u3044\u3002\n# BAD\nfoo = 42\n\n# GOOD\nfoo=42\n\n\nSC1077\n\n\u30b3\u30de\u30f3\u30c9\u5c55\u958b\u306b\u00b4\u3092\u4f7f\u308f\u306a\u3044\u3002\n# BAD\necho \"Your username is \u00b4whoami\u00b4\"\n\n# GOOD\necho \"Your username is $(whoami)\"\n\n\nSC1078\n\n\u30c0\u30d6\u30eb\u30af\u30aa\u30fc\u30c8\u306e\u6587\u5b57\u5217\u3092\u9589\u3058\u5fd8\u308c\u3057\u306a\u3044\u3002\n# BAD\ngreeting=\"hello\ntarget=\"world\"\n\n# GOOD\ngreeting=\"hello\"\ntarget=\"world\"\n\n\nSC1081\n\nIf\u3067\u306f\u306a\u304fif\u3092\u4f7f\u3046\u3002\n# BAD\nIf true\nThen\n  echo \"hello\"\nFi\n\n# GOOD\nif true\nthen\n  echo \"hello\"\nfi\n\n\nSC1086\n\n\u30eb\u30fc\u30d7\u306e\u53cd\u5fa9\u5909\u6570\u306b$\u3092\u4f7f\u308f\u306a\u3044\u3002\n# BAD\nfor $var in *\ndo\n  echo \"$var\"\ndone\n\n# GOOD\nfor var in *\ndo\n  echo \"$var\"\ndone\n\n\nSC1087\n\n\u914d\u5217\u3092\u5c55\u958b\u3059\u308b\u969b\u306f\u4e2d\u62ec\u5f27\u3092\u4f7f\u3046\u3002\n# BAD\necho \"$array[@]\"\n\n# GOOD\necho \"${array[@]}\"\n\n\nSC1095\n\n\u95a2\u6570\u540d\u3068\u51e6\u7406\u306e\u9593\u306b\u30b9\u30da\u30fc\u30b9\u304b\u6539\u884c\u3092\u5165\u308c\u308b\u3002\n# BAD\nfunction foo{\n  echo \"hello world\"\n}\n\n# GOOD\nfoo() {\n  echo \"hello world\"\n}\n\nfunction foo {\n  echo \"hello world\"\n}\n\n\nSC1097\n\n==\u3092\u4f7f\u308f\u305a\u3001\u4ee3\u5165\u306e\u5834\u5408\u306f=\u3092\u3001\u6bd4\u8f03\u306e\u5834\u5408\u306f[ .. ]\u3092\u4f7f\u3046\u3002\n# BAD\nvar==value\n\n# GOOD\nvar=value\n[ \"$var\" = value ]\n\n\nSC1098\n\neval\u3092\u4f7f\u7528\u3059\u308b\u969b\u306f\u3001\u7279\u6b8a\u6587\u5b57\u3092\u5f15\u7528/\u30a8\u30b9\u30b1\u30fc\u30d7\u3059\u308b\u3002\n# BAD\neval $var=(a b)\n\n# GOOD\neval \"$var=(a b)\"\n\n\nSC1099\n\n#\u306e\u524d\u306b\u30b9\u30da\u30fc\u30b9\u3092\u5165\u308c\u308b\u3002\n# BAD\nwhile sleep 1\ndo# show time\n  date\ndone\n\n# GOOD\nwhile sleep 1\ndo # show time\n  date\ndone\n\n\nSC2002\n\ncat\u3092\u4f7f\u308f\u306a\u3044\u3002\n# BAD\ncat file | tr ' ' _ | grep a_\ncat file | ( while read i; do echo \"${i%?}\"; done )\n\n# GOOD\n< file tr ' ' _ | grep a_  # **simple commands only, won't work with compounds\n( while read i; do echo \"${i%?}\"; done ) < file # postfix works for everything\n\n\nSC2015\n\nA && B || C\u306e\u30ed\u30b8\u30c3\u30af\u306f\u3001A\u304ctrue\u3060\u3068C\u304c\u5b9f\u884c\u3055\u308c\u308b\u306e\u3067if-then-else\u3067\u306f\u306a\u3044\u3002\n# BAD\n[[ $dryrun ]] && echo \"Would delete file\" || rm file\n\n# GOOD\nif [[ $dryrun ]]\nthen\n  echo \"Would delete file\"\nelse\n  rm file\nfi\n\n\nSC2026\n\n\u5f15\u7528\u7b26\u306e\u5165\u308c\u5b50\u306b\u6ce8\u610f\u3059\u308b\u3002\n# BAD\nalias server_uptime='ssh $host 'uptime -p''\n\n# GOOD\nalias server_uptime='ssh $host '\"'uptime -p'\"\n\n\nSC2028\n\necho\u306f\u30a8\u30b9\u30b1\u30fc\u30d7\u3092\u5c55\u958b\u3057\u306a\u3044\u306e\u3067\u3001printf\u3092\u4f7f\u3046\u3002\n# BAD\necho \"Name:\\t$value\"\n\n# GOOD\nprintf \"Name:\\t%s\\n\" \"$value\"\n\n\nSC2035\n\n./*glob*\u304b-- *glob*\u3092\u4f7f\u3046\u3002\n# BAD\nrm *\n\n# GOOD\nrm ./*\n\n# GOOD\nrm -- *\n\n\nSC2046\n\n\u5358\u8a9e\u3092\u5206\u5272\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u30af\u30aa\u30fc\u30c8\u3092\u4f7f\u3046\u3002\n# BAD\nls -l $(getfilename)\n\n# GOOD\nls -l \"$(getfilename)\"\n\ngetfilename | while IFS='' read -r line\ndo\n  ls -l \"$line\"\ndone\n\n\nSC2086\n\n\u30b0\u30ed\u30d6\u3068\u5358\u8a9e\u5206\u5272\u3092\u9632\u3050\u305f\u3081\u306b\u30c0\u30d6\u30eb\u30af\u30aa\u30fc\u30c8\u3092\u4f7f\u3046\u3002\n# BAD\necho $1\nfor i in $*; do :; done # this one and the next one also applies to expanding arrays.\nfor i in $@; do :; done\n\n# GOOD\necho \"$1\"\nfor i in \"$@\"; do :; done # or, 'for i; do'\n\n\nSC2140\n\n\u5f15\u7528\u7b26\u306e\u5165\u308c\u5b50\u306b\u6ce8\u610f\u3059\u308b\u3002\n# BAD\necho \"<img src=\"foo.png\" />\" > file.html\n\n# GOOD\necho \"<img src=\\\"foo.png\\\" />\" > file.html\n\n\nSC2154\n\n\u5909\u6570\u5c55\u958b\u306b\u6ce8\u610f\u3059\u308b\u3002\n# BAD\nvar=name\nn=42\necho \"$var_$n.jpg\"\n\n# GOOD\nvar=name\nn=42\necho \"${var}_$n.jpg\"\n\n\nSC2164\n\ncd\u3067\u5931\u6557\u3057\u305f\u3068\u304d\u306e\u305f\u3081\u306b\u7d42\u4e86\u3059\u308b\u3002\n# BAD\ncd generated_files\nrm -r *.c\n\nfunc(){\n  cd foo\n  do_something\n}\n\n# GOOD\ncd generated_files || exit\nrm -r *.c\n\nfunc(){\n  cd foo || return\n  do_something\n}\n\nDockerfile\u3092Lint\u3059\u308b\u5834\u5408\u306f[Hadolint](https://github.com/lukasmartinelli/hadolint)\u304c\u30aa\u30b9\u30b9\u30e1\u3067\u3059\u3002\n`Haskell Dockerfile Linter`\u306e\u7565\u3067\u3001\u6587\u5b57\u901a\u308aHaskell\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n# Mac\u3067\u4f7f\u3063\u3066\u307f\u308b\n```zsh\n$ brew install hadolint\n$ hadolint Dockerfile\n```\n\n\u3053\u308c\u3060\u3051\u3067Dockerfile\u306e\u9759\u7684\u89e3\u6790\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u7279\u5b9a\u306e\u30eb\u30fc\u30eb\u3060\u3051\u9664\u5916\u3057\u3066\u30c1\u30a7\u30c3\u30af\u3057\u305f\u3044\u5834\u5408\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```zsh\n$ hadolint --ignore DL3003 --ignore DL3006 Dockerfile\n```\n\n# \u30eb\u30fc\u30eb\n## [DL3000](https://github.com/lukasmartinelli/hadolint/wiki/DL3000)\n`WORKDIR`\u3092\u4f7f\u7528\u3059\u308b\u969b\u306f\u7d76\u5bfe\u30d1\u30b9\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nWORKDIR usr/src/app\n\n# GOOD\nWORKDIR /usr/src/app\n```\n\n## [DL3001](https://github.com/lukasmartinelli/hadolint/wiki/DL3001)\n\u610f\u5473\u306e\u306a\u3044`bash`\u30b3\u30de\u30f3\u30c9(`ssh`, `vim`, `shutdown`, `service`, `ps`, `free`, `top`, `kill`, `mount`, `ifconfig`)\u3092\u4f7f\u308f\u306a\u3044\u3002\n\n```zsh\n# BAD\nFROM busybox\nRUN top\n\n# GOOD\nFROM busybox\n```\n\n## [DL3002](https://github.com/lukasmartinelli/hadolint/wiki/DL3002)\nroot\u30e6\u30fc\u30b6\u3092\u4f7f\u308f\u306a\u3044\u3002\n\n```zsh\n# BAD\nFROM busybox\nUSER root\n\n# GOOD\nFROM busybox\n```\n\n## [DL3003](https://github.com/lukasmartinelli/hadolint/wiki/DL3003)\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5909\u66f4\u306f`WORKDIR`\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nFROM busybox\nRUN cd /usr/src/app\n\n# GOOD\nFROM busybox\nWORKDIR /usr/src/app\n```\n\n\n## [DL3004](https://github.com/lukasmartinelli/hadolint/wiki/DL3004)\n`sudo`\u3092\u4f7f\u308f\u306a\u3044\u3002\n\n```zsh\n# BAD\nFROM busybox\nRUN sudo apt-get install\n\n# GOOD\nFROM busybox\nRUN apt-get install\n```\n\n## [DL3005](https://github.com/lukasmartinelli/hadolint/wiki/DL3005)\n`apt-get`\u306e`upgrade`, `dist-upgrade`\u3092\u4f7f\u308f\u306a\u3044\u3002\n\n```zsh\n# BAD\nFROM debian\nRUN apt-get update && apt-get upgrade \n\n# GOOD\nFROM debian\nRUN apt-get update\n```\n\n## [DL3006](https://github.com/lukasmartinelli/hadolint/wiki/DL3006)\n\u30a4\u30e1\u30fc\u30b8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u306f\u660e\u793a\u7684\u306b\u30bf\u30b0\u3092\u4ed8\u3051\u308b\u3002\n\n```zsh\n# BAD\nFROM debian\n\n# GOOD\nFROM debian:jessie\n```\n\n## [DL3007](https://github.com/lukasmartinelli/hadolint/wiki/DL3007)\n\u30a4\u30e1\u30fc\u30b8\u30bf\u30b0\u306b`latest`\u3092\u4f7f\u308f\u305a\u660e\u793a\u7684\u306b\u30ea\u30ea\u30fc\u30b9\u30bf\u30b0\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nFROM debian:latest\n\n# GOOD\nFROM debian:jessie\n```\n\n## [DL3008](https://github.com/lukasmartinelli/hadolint/wiki/DL3008)\n`apt get install`\u3092\u3059\u308b\u969b\u306f\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u56fa\u5b9a\u3059\u308b\u3002\n\n```zsh\n# BAD\nRUN apt-get install python\n\n# GOOD\nRUN apt-get install python=2.7\n```\n\n## [DL3009](https://github.com/lukasmartinelli/hadolint/wiki/DL3009)\n`apt-get install`\u306e\u5f8c\u306blist\u3092\u524a\u9664\u3059\u308b\u3002\n\n```zsh\n# BAD\nRUN apt-get update && apt-get install -y python\n\n# GOOD\nRUN apt-get update && apt-get install -y python \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\n```\n\n## [DL3011](https://github.com/lukasmartinelli/hadolint/wiki/DL3011)\n`0`\u304b\u3089`65535`\u306e\u30dd\u30fc\u30c8\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nEXPOSE 80000\n\n# GOOD\nEXPOSE 65535\n```\n\n## [DL3012](https://github.com/lukasmartinelli/hadolint/wiki/DL3012)\n\u30e1\u30f3\u30c6\u30ca\u306e\u9023\u7d61\u5148\u3092\u8a18\u8ff0\u3059\u308b\u3002\n\n```zsh\n# BAD\nMAINTAINER ktsujichan\n\n# GOOD\nMAINTAINER ktsujichan <ktsujichan@example.com>\n```\n\n## [DL3013](https://github.com/lukasmartinelli/hadolint/wiki/DL3013)\n`pip`\u3092\u4f7f\u3046\u969b\u306f\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u56fa\u5b9a\u3059\u308b\u3002\n\n```zsh\n# BAD\nRUN pip install django\n\n# GOOD\nRUN pip install django==1.9\n```\n\n## [DL3014](https://github.com/lukasmartinelli/hadolint/wiki/DL3014)\n`-y`\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nRUN apt-get install python=2.7\n\n# GOOD\nRUN apt-get install -y python=2.7\n```\n\n## [DL3015](https://github.com/lukasmartinelli/hadolint/wiki/DL3015)\n`--no-install-recommends`\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nRUN apt-get install -y python=2.7\n\n# GOOD\nRUN apt-get install -y --no-install-recommends python=2.7\n```\n\n## [DL3020](https://github.com/lukasmartinelli/hadolint/wiki/DL3020)\nADD\u3088\u308aCOPY\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nADD requirements.txt /usr/src/app/\n\n# GOOD\nCOPY requirements.txt /usr/src/app/\n```\n\n## [DL4000](https://github.com/lukasmartinelli/hadolint/wiki/DL4000)\n\u30e1\u30f3\u30c6\u30ca\u3092\u8a18\u8ff0\u3059\u308b\u3002\n\n```zsh\n# BAD\nFROM busybox\n\n# GOOD\nFROM busybox\nMAINTAINER ktsujichan <ktsujichan@example.com>\n```\n\n## [DL4001](https://github.com/lukasmartinelli/hadolint/wiki/DL4001)\n`wget`\u3068`curl`\u3092\u4f75\u7528\u3057\u306a\u3044\u3002\n\n```zsh\n# BAD\nRUN wget http://google.com\nRUN curl http://bing.com\n\n# GOOD\nRUN curl http://google.com\nRUN curl http://bing.com\n```\n\n## [DL4003](https://github.com/lukasmartinelli/hadolint/wiki/DL4003)\n\u8907\u6570\u306e`CMD`\u3092\u4f7f\u308f\u306a\u3044\u3002\n\n```zsh\n# BAD\nFROM busybox\nCMD /bin/true\nCMD /bin/false\n\n# GOOD\nFROM busybox\nCMD /bin/true\n```\n\n## [DL4004](https://github.com/lukasmartinelli/hadolint/wiki/DL4004)\n\u8907\u6570\u306e`ENTRYPOINT`\u3092\u4f7f\u308f\u306a\u3044\u3002\n\n```zsh\n# BAD\nFROM busybox\nENTRYPOINT /bin/true\nENTRYPOINT /bin/false\n\n# GOOD\nFROM busybox\nENTRYPOINT /bin/true\n```\n\n## [DL4005](https://github.com/lukasmartinelli/hadolint/wiki/DL4005)\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b7\u30a7\u30eb\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\u306f`SHELL`\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nRUN apk add --update-cache bash=4.3.42-r3\nRUN ln -sfv /bin/bash /bin/sh\n\n# GOOD\nRUN apk add --update-cache bash=4.3.42-r3\nSHELL [\"/bin/bash\", \"-c\"]\n```\n\n## [SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)\n`$`\u306f\u30a8\u30b9\u30b1\u30fc\u30d7\u3057\u3066\u4f7f\u3046\u3002\n\n```zsh\n# BAD\necho \"$\"\n\n# GOOD\necho \"\\$\"\n```\n\n## [SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)\n`=`\u306e\u5f8c\u306e\u30b9\u30da\u30fc\u30b9\u3092\u524a\u9664\u3059\u308b\u3002\n\n```zsh\n# BAD\nLANGUAGE= nl\n\n# GOOD\nLANGUAGE=nl\n```\n\n\n## [SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)\n`done`\u306e\u524d\u306b\u30bb\u30df\u30b3\u30ed\u30f3\u307e\u305f\u306f\u6539\u884c\u3092\u3059\u308b\u3002\n\n```zsh\n# BAD\nfor f in *; do echo \"$f\" done\n\n# GOOD\nfor f in *; do echo \"$f\"; done\n```\n\n## [SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)\n\u30b9\u30da\u30fc\u30b9\u3092\u5165\u308c\u308b\u3002\n\n```zsh\n# BAD\nif ![-z foo ]; then true; fi\n\n# GOOD\nif ! [ -z foo ]; then true; fi\n```\n\n## [SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)\n`&`\u3068`;`\u3092\u4f75\u7528\u3057\u306a\u3044\u3002\n\n```zsh\n# BAD\nfoo &; bar\n\n# GOOD\nfoo & bar\n```\n\n## [SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)\n\u5f15\u6570\u306e\u51e6\u7406\u306f`$n`\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nfoo(input) {\n  echo \"$input\"\n}\nfoo(\"hello world\");\n\n# GOOD\nfoo() {\n  echo \"$1\"\n}\nfoo \"hello world\"\n```\n\n## [SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)\n\u5909\u6570\u306e\u4ee3\u5165\u306b`$`\u3092\u4f7f\u308f\u306a\u3044\u3002\n\n```zsh\n# BAD\n$greeting=\"Hello World\"\n\n# GOOD\ngreeting=\"Hello World\"\n```\n\n## [SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)\n`=`\u306e\u524d\u5f8c\u306b\u30b9\u30da\u30fc\u30b9\u3092\u5165\u308c\u306a\u3044\u3002\n\n```zsh\n# BAD\nfoo = 42\n\n# GOOD\nfoo=42\n```\n\n## [SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)\n\u30b3\u30de\u30f3\u30c9\u5c55\u958b\u306b`\u00b4`\u3092\u4f7f\u308f\u306a\u3044\u3002\n\n```zsh\n# BAD\necho \"Your username is \u00b4whoami\u00b4\"\n\n# GOOD\necho \"Your username is $(whoami)\"\n```\n\n\n\n## [SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)\n\u30c0\u30d6\u30eb\u30af\u30aa\u30fc\u30c8\u306e\u6587\u5b57\u5217\u3092\u9589\u3058\u5fd8\u308c\u3057\u306a\u3044\u3002\n\n```zsh\n# BAD\ngreeting=\"hello\ntarget=\"world\"\n\n# GOOD\ngreeting=\"hello\"\ntarget=\"world\"\n```\n\n## [SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)\n`If`\u3067\u306f\u306a\u304f`if`\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nIf true\nThen\n  echo \"hello\"\nFi\n\n# GOOD\nif true\nthen\n  echo \"hello\"\nfi\n```\n\n## [SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)\n\u30eb\u30fc\u30d7\u306e\u53cd\u5fa9\u5909\u6570\u306b`$`\u3092\u4f7f\u308f\u306a\u3044\u3002\n\n```zsh\n# BAD\nfor $var in *\ndo\n  echo \"$var\"\ndone\n\n# GOOD\nfor var in *\ndo\n  echo \"$var\"\ndone\n```\n\n## [SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)\n\u914d\u5217\u3092\u5c55\u958b\u3059\u308b\u969b\u306f\u4e2d\u62ec\u5f27\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\necho \"$array[@]\"\n\n# GOOD\necho \"${array[@]}\"\n```\n\n## [SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)\n\u95a2\u6570\u540d\u3068\u51e6\u7406\u306e\u9593\u306b\u30b9\u30da\u30fc\u30b9\u304b\u6539\u884c\u3092\u5165\u308c\u308b\u3002\n\n```zsh\n# BAD\nfunction foo{\n  echo \"hello world\"\n}\n\n# GOOD\nfoo() {\n  echo \"hello world\"\n}\n\nfunction foo {\n  echo \"hello world\"\n}\n```\n\n## [SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)\n`==`\u3092\u4f7f\u308f\u305a\u3001\u4ee3\u5165\u306e\u5834\u5408\u306f`=`\u3092\u3001\u6bd4\u8f03\u306e\u5834\u5408\u306f`[ .. ]`\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nvar==value\n\n# GOOD\nvar=value\n[ \"$var\" = value ]\n```\n\n## [SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)\n`eval`\u3092\u4f7f\u7528\u3059\u308b\u969b\u306f\u3001\u7279\u6b8a\u6587\u5b57\u3092\u5f15\u7528/\u30a8\u30b9\u30b1\u30fc\u30d7\u3059\u308b\u3002\n\n```zsh\n# BAD\neval $var=(a b)\n\n# GOOD\neval \"$var=(a b)\"\n```\n\n## [SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)\n`#`\u306e\u524d\u306b\u30b9\u30da\u30fc\u30b9\u3092\u5165\u308c\u308b\u3002\n\n```zsh\n# BAD\nwhile sleep 1\ndo# show time\n  date\ndone\n\n# GOOD\nwhile sleep 1\ndo # show time\n  date\ndone\n```\n\n## [SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)\n`cat`\u3092\u4f7f\u308f\u306a\u3044\u3002\n\n```zsh\n# BAD\ncat file | tr ' ' _ | grep a_\ncat file | ( while read i; do echo \"${i%?}\"; done )\n\n# GOOD\n< file tr ' ' _ | grep a_  # **simple commands only, won't work with compounds\n( while read i; do echo \"${i%?}\"; done ) < file # postfix works for everything\n```\n\n## [SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)\n`A && B || C`\u306e\u30ed\u30b8\u30c3\u30af\u306f\u3001A\u304c`true`\u3060\u3068C\u304c\u5b9f\u884c\u3055\u308c\u308b\u306e\u3067`if-then-else`\u3067\u306f\u306a\u3044\u3002\n\n```zsh\n# BAD\n[[ $dryrun ]] && echo \"Would delete file\" || rm file\n\n# GOOD\nif [[ $dryrun ]]\nthen\n  echo \"Would delete file\"\nelse\n  rm file\nfi\n```\n\n## [SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)\n\u5f15\u7528\u7b26\u306e\u5165\u308c\u5b50\u306b\u6ce8\u610f\u3059\u308b\u3002\n\n```zsh\n# BAD\nalias server_uptime='ssh $host 'uptime -p''\n\n# GOOD\nalias server_uptime='ssh $host '\"'uptime -p'\"\n```\n\n## [SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)\n`echo`\u306f\u30a8\u30b9\u30b1\u30fc\u30d7\u3092\u5c55\u958b\u3057\u306a\u3044\u306e\u3067\u3001`printf`\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\necho \"Name:\\t$value\"\n\n# GOOD\nprintf \"Name:\\t%s\\n\" \"$value\"\n```\n\n## [SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)\n`./*glob*`\u304b`-- *glob*`\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nrm *\n\n# GOOD\nrm ./*\n\n# GOOD\nrm -- *\n```\n\n## [SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)\n\u5358\u8a9e\u3092\u5206\u5272\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u30af\u30aa\u30fc\u30c8\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\nls -l $(getfilename)\n\n# GOOD\nls -l \"$(getfilename)\"\n\ngetfilename | while IFS='' read -r line\ndo\n  ls -l \"$line\"\ndone\n```\n\n## [SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)\n\u30b0\u30ed\u30d6\u3068\u5358\u8a9e\u5206\u5272\u3092\u9632\u3050\u305f\u3081\u306b\u30c0\u30d6\u30eb\u30af\u30aa\u30fc\u30c8\u3092\u4f7f\u3046\u3002\n\n```zsh\n# BAD\necho $1\nfor i in $*; do :; done # this one and the next one also applies to expanding arrays.\nfor i in $@; do :; done\n\n# GOOD\necho \"$1\"\nfor i in \"$@\"; do :; done # or, 'for i; do'\n```\n\n## [SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)\n\u5f15\u7528\u7b26\u306e\u5165\u308c\u5b50\u306b\u6ce8\u610f\u3059\u308b\u3002\n\n```zsh\n# BAD\necho \"<img src=\"foo.png\" />\" > file.html\n\n# GOOD\necho \"<img src=\\\"foo.png\\\" />\" > file.html\n```\n\n## [SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)\n\u5909\u6570\u5c55\u958b\u306b\u6ce8\u610f\u3059\u308b\u3002\n\n```zsh\n# BAD\nvar=name\nn=42\necho \"$var_$n.jpg\"\n\n# GOOD\nvar=name\nn=42\necho \"${var}_$n.jpg\"\n```\n\n## [SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)\n`cd`\u3067\u5931\u6557\u3057\u305f\u3068\u304d\u306e\u305f\u3081\u306b\u7d42\u4e86\u3059\u308b\u3002\n\n```zsh\n# BAD\ncd generated_files\nrm -r *.c\n\nfunc(){\n  cd foo\n  do_something\n}\n\n# GOOD\ncd generated_files || exit\nrm -r *.c\n\nfunc(){\n  cd foo || return\n  do_something\n}\n```\n", "tags": ["lint", "docker"]}