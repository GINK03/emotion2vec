{"context": " More than 1 year has passed since last update.\u3082\u30462016\u5e74\u306a\u306e\u3067\u3001\u7686\u3055\u3093\u306f\u606f\u3092\u3059\u308b\u3088\u3046\u306bes6\u3092\u4f7f\u308f\u308c\u3066\u3044\u308b\u3053\u3068\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\u5f53\u7136\u3001serverless framework\u306e\u30b3\u30fc\u30c9\u3082es6\u3067\u66f8\u304d\u305f\u3044\u3067\u3059\u3088\u306d\u3002\n\u3082\u3061\u308d\u3093\u3001\u666e\u901a\u306b\u81ea\u5206\u3067babel\u3067\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3057\u3066\u3082\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u516c\u5f0f\u306bserverless-optimizer-plugin\u3068\u3044\u3046\u3082\u306e\u304c\u6e96\u5099\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u8aac\u660e\u306f\u3059\u3079\u3066mac\u3092\u524d\u63d0\u306b\u3057\u3066\u3044\u307e\u3059\u304c\u3001windows\u3067\u3082\u96f0\u56f2\u6c17\u3067\u5927\u4f53\u3044\u3051\u308b\u306f\u305a\u3067\u3059\u3002\n\u30b3\u30fc\u30c9\u306f\u3053\u3061\u3089\u306b\u3042\u308a\u307e\u3059\u3002\n(\u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u3068project\u540d\u304c\u5408\u3063\u3066\u306a\u3044\u3067\u3059\u304c\u6c17\u306b\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044...)\n\n\u305d\u3082\u305d\u3082serverless framework\u3063\u3066\u306a\u3093\u305e\nserverless framework\u306f\u3001AWS Lambda\u3068AWS API Gateway\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u30b5\u30fc\u30d0\u30ec\u30b9\u306a\u30a2\u30d7\u30ea\u3092\u69cb\u7bc9\u3059\u308b\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002\nserverless\u306e\u8a73\u3057\u3044\u8aac\u660e\u3084\u5c0e\u5165,\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\n\nserverless\u306e\u5c0e\u5165\n\u524d\u63d0\u3068\u3057\u3066node\u3068npm\u306f\u65e2\u306binstall\u6e08\u307f\u3068\u3057\u307e\u3059\u3002\n\u307e\u305a\u306fserverless\u672c\u4f53\u3092install\u3057\u307e\u3059\u3002\n\u65e2\u306bserverless\u304cinstall\u6e08\u307f\u306e\u65b9\u306f\u4e0d\u8981\u3067\u3059\u304c\u3001optimizer-plugin\u306fv0.1.0\u4ee5\u4e0a\u3092\u8981\u6c42\u3057\u307e\u3059\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ npm install -g serverless\n\n\nserverless project\u306e\u4f5c\u6210\n\u4eca\u56de\u306fserverlessOptimizerSample\u3068\u3044\u3046\u540d\u524d\u3067project\u3092\u4f5c\u308a\u307e\u3059\u3002\u540d\u524d\u306f\u30ad\u30e3\u30e1\u30eb\u30b1\u30fc\u30b9\u3067\u4ed8\u3051\u308b\u306e\u304c\u826f\u3044\u3063\u307d\u3044\u3067\u3059\u3002\nAWS\u306eprofile\u304c~/.aws/credentials\u306b\u7f6e\u304b\u308c\u3066\u3044\u308b\u524d\u63d0\u306a\u306e\u3067\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306f-p\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u5834\u6240\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ serverless project create -n serverlessOptimizerSample -d serverless-optimizer-sample.com -r ap-northeast-1 -e hogehoge@gmail.com\n\n\u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u30ed\u30b4\u30de\u30fc\u30af\u3068\u4e00\u7dd2\u306bAWS\u306e\u3069\u306eprofile\u3092\u4f7f\u3046\u304b\u805e\u304b\u308c\u307e\u3059\u3002\u4eca\u306fdefault\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u305d\u306e\u307e\u307eEnter\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3044\u308d\u3044\u308d\u8868\u793a\u304c\u51fa\u3066\u3001project\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u610f\u5916\u3068\u6642\u9593\u304c\u304b\u304b\u308b\u306e\u3067\u3086\u3063\u304f\u308a\u5f85\u3061\u307e\u3057\u3087\u3046\u3002\n\u7d42\u308f\u3063\u305f\u3089project\u540d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3067\u304d\u3066\u3044\u308b\u306f\u305a\u3002\u4e2d\u8eab\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n$ cd serverlessOptimizerSample\n$ tree\n\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 _meta\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 resources\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 s-resources-cf-development-apnortheast1.json\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 variables\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 s-variables-common.json\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 s-variables-development-apnortheast1.json\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 s-variables-development.json\n\u251c\u2500\u2500 admin.env\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 s-project.json\n\n\n\nserverless-optimizer-plugin\u306e\u5c0e\u5165\nplugin\u306fproject\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u76f4\u4e0b\u3067install\u3057\u307e\u3059\u3002\noptimizer-plugin\u306b\u306fbrowserify\u304cbundle\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001babelify\u306f\u5165\u3063\u3066\u306a\u3044\u306e\u3067\u3001\u4e00\u7dd2\u306binstall\u3057\u307e\u3059\u3002\n$ npm install --save serverless-optimizer-plugin babelify\n\n\ncomponent, module, function\u306e\u4f5c\u6210\n\u3061\u3087\u3063\u3068\u524d\u307e\u3067\u306fcomponent\u3068\u3044\u3046\u6982\u5ff5\u306f\u7121\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001nodejs\u4ee5\u5916\u306e\u8907\u6570\u306e\u30e9\u30f3\u30bf\u30a4\u30e0\u3092\u6df7\u5728\u3055\u305b\u308b\u305f\u3081\u306e\u3082\u306e\u307f\u305f\u3044\u3067\u3059\u3002\ncomponent\u306fserverless component create\u3067\u4f5c\u6210\u3067\u304d\u3001\u3053\u306e\u6642\u306bmodule\u3068function\u3082\u4e00\u7dd2\u306b\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001component\u540d\u306fhelloComponent, module\u540d\u306fhelloModule, function\u540d\u306fhelloWorld\u306b\u3057\u307e\u3059\u3002\n$ serverless component create -c helloComponent -m helloModule -f helloWorld\n$ tree\n\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 _meta\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 resources\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 s-resources-cf-development-apnortheast1.json\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 variables\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 s-variables-common.json\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 s-variables-development-apnortheast1.json\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 s-variables-development.json\n\u251c\u2500\u2500 admin.env\n\u251c\u2500\u2500 helloComponent\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 helloModule\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 helloWorld\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 event.json\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 handler.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 s-function.json\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 s-module.json\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 lib\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 index.js\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 node_modules\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 dotenv\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Contributing.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 README.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 config.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 dotenv.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 lib\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 main.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 package.json\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 test\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 config.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 main.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 serverless-helpers-js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 README.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 env\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 index.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 index.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 package.json\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 package.json\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 s-component.json\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 s-project.json\n\nproject -> component -> module -> function\u3068\u3044\u3046\u69cb\u9020\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\nserverless-optimizer-plugin\u306e\u9069\u7528\n\u307e\u305a\u306f\u3053\u306eproject\u3067\u5229\u7528\u3059\u308bplugin\u3092s-project.json\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\ns-project.json\nplugins: [\n    \"serverless-optimizer-plugin\"\n]\n\n\n\u6b21\u306b\u3001optimizer\u5185\u90e8\u3067\u4f7f\u7528\u3059\u308bbrowserify\u306e\u8a2d\u5b9a\u3092s-component.json\u304bs-function.json\u306b\u66f8\u304d\u307e\u3059\u3002\ns-component.json\u306b\u66f8\u3044\u305f\u5834\u5408\u306f\u305d\u306ecomponent\u304c\u5185\u5305\u3059\u308bfunction\u5168\u3066\u306b\u3001s-function.json\u306b\u66f8\u3044\u305f\u5834\u5408\u306f\u305d\u306efunction\u5358\u4f53\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u4e21\u65b9\u306b\u66f8\u304f\u3068\u3001s-function.json\u306b\u66f8\u3044\u305f\u65b9\u3067\u4e0a\u66f8\u304d\u3055\u308c\u307e\u3059\u3002\n\u4eca\u56de\u306fs-component.json\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\nhelloComponent/s-component.json\n{\n    \"name\": \"helloComponent\",\n    \"runtime\": \"nodejs\",\n    \"custom\": {\n        \"optimize\": {\n            \"exclude\": [ \"aws-sdk\" ],\n            \"transforms\": [\n                {\n                    \"name\": \"babelify\",\n                    \"opts\": {\n                        \"presets\": [\n                            \"es2015\"\n                        ]\n                    }\n                }\n            ]\n        }\n    }\n}\n\n\n\u4f55\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u304b\u306f\u5185\u5bb9\u3067\u5927\u4f53\u5bdf\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u6700\u5f8c\u306bes6\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u3001babel\u306epreset\u3092install\u3057\u307e\u3057\u3087\u3046\u3002helloComponent\u5185\u306epackage.json\u306bsave\u3057\u3066\u3044\u308b\u70b9\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ cd helloComponent && npm install --save babel-preset-es2015\n\n\u3053\u308c\u3067function\u3092es6\u3067\u66f8\u304f\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f!\n\nes6\u3067\u66f8\u3044\u3066\u307f\u308b\nhelloComponent/helloModule/helloWorld/handler.js \u3092\u898b\u3066\u307f\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5185\u5bb9\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\nhelloWorld/handler.js\n'use strict';\n\n/**\n * Serverless Module: Lambda Handler\n * - Your lambda functions should be a thin wrapper around your own separate\n * modules, to keep your code testable, reusable and AWS independent\n * - 'serverless-helpers-js' module is required for Serverless ENV var support.  Hopefully, AWS will add ENV support to Lambda soon :)\n */\n\n// Require Serverless ENV vars\nvar ServerlessHelpers = require('serverless-helpers-js').loadEnv();\n\n// Require Logic\nvar lib = require('../../lib');\n\n// Lambda Handler\nmodule.exports.handler = function(event, context) {\n\n  lib.respond(event, function(error, response) {\n    return context.done(error, response);\n  });\n};\n\n\n\u3053\u308c\u3092es6\u3063\u307d\u304f\u66f8\u304d\u306a\u304a\u3057\u3066\u307f\u307e\u3059\u3002\n\nhelloWorld/handler.js\n'use strict';\n\n/**\n * Serverless Module: Lambda Handler\n * - Your lambda functions should be a thin wrapper around your own separate\n * modules, to keep your code testable, reusable and AWS independent\n * - 'serverless-helpers-js' module is required for Serverless ENV var support.  Hopefully, AWS will add ENV support to Lambda soon :)\n */\n\n// Require Serverless ENV vars\nimport { loadEnv } from 'serverless-helpers-js';\nconst ServerlessHelpers = loadEnv();\n\n// import ServerlessHelpers from 'serverless-helpers-js'.loadEnv();\n// Require Logic\nimport lib from '../../lib';\n\n// Lambda Handler\nexport function handler(event, context) {\n\n  lib.respond(event, (error, response) => {\n    return context.done(error, response);\n  });\n};\n\n\n\u3044\u3044\u3067\u3059\u306d\u3002\u6b21\u306fhelloComponent/lib/index.js\u3067\u3059\u3002\nbefore:\n\nhelloComponent/lib/index.js\n/**\n * Lib\n */\n\nmodule.exports.respond = function(event, cb) {\n\n  var response = {\n    message: \"Your Serverless function ran successfully!\"\n  };\n\n  return cb(null, response);\n};\n\n\n\nafter:\n\nhelloComponent/lib/index.js\n/**\n * Lib\n */\n\nconst respond = (event, cb) => {\n\n  const response = {\n    message: \"Your Serverless function ran successfully!!!\"\n  };\n\n  return cb(null, response);\n};\n\nexport default { respond };\n\n\n\u7d20\u6674\u3089\u3057\u3044\u3002\u3058\u3083\u3042\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u30ed\u30fc\u30ab\u30eb\u3067\u306e\u5b9f\u884c\u306fserverless function run\u3067\u3059\u304c\u3001v0.0.x\u7cfb\u3068\u306f\u5fae\u5999\u306b\u5b9f\u884c\u65b9\u6cd5\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u306e\u3067\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\n$ serverless function run helloComponent/helloModule/helloWorld\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3001serverless function run <componentName>/<moduleName>/<functionName>\u3068\u3044\u3046\u98a8\u306b\u66f8\u304d\u307e\u3059\u3002\n...\u3068\u8a00\u3063\u305f\u3082\u306e\u306e\u3001\u30ed\u30fc\u30ab\u30eb\u5b9f\u884c\u6642\u306foptimizer\u304c\u8d70\u3089\u306a\u3044\u306e\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u306e\u8fba\u3001\u3069\u3046\u3059\u308b\u306e\u304c\u826f\u3044\u306e\u304b\u3088\u304f\u308f\u304b\u3089\u305a...\u3068\u308a\u3042\u3048\u305a\u3053\u3053\u306f\u7537\u3089\u3057\u304f\u3059\u3063\u3071\u308a\u3042\u3063\u3055\u308a\u8ae6\u3081\u3066deploy\u306b\u79fb\u308a\u307e\u3059\u3002\n\ndeploy\u3059\u308b\n\u5148\u306bs-function.json\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4f7f\u7528\u3059\u308bmeory size\u304c1024\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u4eca\u56de\u306f\u9069\u5f53\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8fd4\u3059\u3060\u3051\u306efunction\u306a\u306e\u3067\u3001\u6700\u5c0f\u306e128\u306b\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\ns-function.json\n\"memorySize\": 128\n\n\n\u4ed6\u306b\u3082\u8272\u3005\u3042\u308a\u307e\u3059\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u306fendpoints\u5185\u306e\"method\"= \"GET\"\u3068\"path\": \"helloModule/helloWorld\"\u3060\u3051\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3059\u3050\u4f7f\u3044\u307e\u3059\u3002\n\u3067\u306fdeploy\u3057\u307e\u3057\u3087\u3046\u3002\n$ serverless function deploy helloComponent/helloModule/helloWorld\n$ serverless endpoint deploy helloComponent/helloModule/helloWorld@helloModule/helloWorld~GET\n\n1\u884c\u3081\u306eserverless function deploy\u3067\u306f\u30b3\u30fc\u30c9\u3092lambda\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\nfunction\u306e\u6307\u5b9a\u65b9\u6cd5\u306ffunction run\u3068\u540c\u3058\u3002\n\u5b9f\u884c\u3059\u308b\u3068\u81ea\u52d5\u7684\u306boptimizer\u304c\u8d70\u3063\u3066\u3001\u30b3\u30fc\u30c9\u306eminify\u3084es5\u3078\u306e\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3092\u884c\u3063\u3066\u304f\u308c\u307e\u3059\u3002\n2\u884c\u3081\u306eserverless endpoint deploy\u3067\u306ffunction\u3078\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002\n\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u6307\u5b9a\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n<componentName>/<moduleName>/<functionName>@<endpointUrl>~<endpointMethod>\n\u3055\u3063\u304d\u898b\u305fpath\u3068method\u304c\u305d\u308c\u305e\u308c\u3001endpointUrl\u3068endpointMethod\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u306d\u3002\nserverless endpoint deploy\u304c\u6210\u529f\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8868\u793a\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u4e00\u756a\u4e0b\u306e\u884c\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u3001\u767a\u884c\u3055\u308c\u305f\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306eURL\u3067\u3059\u3002\n\u3058\u3083\u3042\u3055\u3063\u305d\u304f\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u30d1\u30f3\u30c4\u30a1\u30fc\u30d5\u30a9\u30fc\uff01\uff01\uff01\uff01\n$ open https://hogehoge.execute-api.ap-northeast-1.amazonaws.com/development/helloModule/helloWorld\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u305f\u3089\u6210\u529f\u3067\u3059\u3002\n{\"message\":\"Your Serverless function ran successfully!\"}\n\n\u3084\u3063\u305f\u306d\u3002\n\n\u307e\u3068\u3081\n\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002plugin\u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u3067 \u30ed\u30fc\u30ab\u30eb\u3067\u5b9f\u884c\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u8f9b\u3059\u304e\u308b\u73fe\u5b9f\u304b\u3089\u76ee\u3092\u9038\u3089\u305b\u3070\u7c21\u5358\u306bes6\u3067function\u304c\u66f8\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u306d\u3002\nserverless framework\u306f\u958b\u767a\u306e\u901f\u5ea6\u304c\u901f\u3044\u3067\u3059\u3002\u3069\u308c\u3050\u3089\u3044\u901f\u3044\u304b\u3068\u3044\u3046\u3068\u3001\u6628\u65e5v0.1.3\u3068v0.1.4\u304c\u51fa\u305f\u3068\u601d\u3063\u305f\u3089\u3001\u4eca\u65e5npm update\u3057\u3066v0.1.5\u304c\u5165\u308b\u3068\u304b\u305d\u3046\u3044\u3046\u611f\u3058\u3067\u3059\u3002(2016/01/24\u73fe\u5728)\n\u3053\u306e\u8a18\u4e8b\u306b\u66f8\u3044\u3066\u3042\u308b\u3053\u3068\u3082\u3059\u3050\u306b\u53e4\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3068\u601d\u3046\u306e\u3067\u3001serverless framework\u6c17\u306b\u306a\u3063\u3066\u308b\u65b9\u306f\u4eca\u3059\u3050\u3084\u308a\u307e\u3057\u3087\u3046\uff01\uff01\n\n\u3082\u30462016\u5e74\u306a\u306e\u3067\u3001\u7686\u3055\u3093\u306f\u606f\u3092\u3059\u308b\u3088\u3046\u306bes6\u3092\u4f7f\u308f\u308c\u3066\u3044\u308b\u3053\u3068\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\u5f53\u7136\u3001serverless framework\u306e\u30b3\u30fc\u30c9\u3082es6\u3067\u66f8\u304d\u305f\u3044\u3067\u3059\u3088\u306d\u3002\n\u3082\u3061\u308d\u3093\u3001\u666e\u901a\u306b\u81ea\u5206\u3067babel\u3067\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3057\u3066\u3082\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u516c\u5f0f\u306bserverless-optimizer-plugin\u3068\u3044\u3046\u3082\u306e\u304c\u6e96\u5099\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u8aac\u660e\u306f\u3059\u3079\u3066mac\u3092\u524d\u63d0\u306b\u3057\u3066\u3044\u307e\u3059\u304c\u3001windows\u3067\u3082\u96f0\u56f2\u6c17\u3067\u5927\u4f53\u3044\u3051\u308b\u306f\u305a\u3067\u3059\u3002\n\u30b3\u30fc\u30c9\u306f[\u3053\u3061\u3089](https://github.com/mpppk/serverless-project-written-in-es2015)\u306b\u3042\u308a\u307e\u3059\u3002\n(\u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u3068project\u540d\u304c\u5408\u3063\u3066\u306a\u3044\u3067\u3059\u304c\u6c17\u306b\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044...)\n\n# \u305d\u3082\u305d\u3082serverless framework\u3063\u3066\u306a\u3093\u305e\nserverless framework\u306f\u3001AWS Lambda\u3068AWS API Gateway\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u30b5\u30fc\u30d0\u30ec\u30b9\u306a\u30a2\u30d7\u30ea\u3092\u69cb\u7bc9\u3059\u308b\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002\nserverless\u306e\u8a73\u3057\u3044\u8aac\u660e\u3084\u5c0e\u5165,\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u306b\u3064\u3044\u3066\u306f[\u3053\u3061\u3089\u306e\u8a18\u4e8b](http://qiita.com/susieyy/items/1c2af0ef7b88b742c37a)\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\n\n# serverless\u306e\u5c0e\u5165\n\u524d\u63d0\u3068\u3057\u3066node\u3068npm\u306f\u65e2\u306binstall\u6e08\u307f\u3068\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u306fserverless\u672c\u4f53\u3092install\u3057\u307e\u3059\u3002\n\u65e2\u306bserverless\u304cinstall\u6e08\u307f\u306e\u65b9\u306f\u4e0d\u8981\u3067\u3059\u304c\u3001optimizer-plugin\u306fv0.1.0\u4ee5\u4e0a\u3092\u8981\u6c42\u3057\u307e\u3059\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```Shell\n$ npm install -g serverless\n```\n\n# serverless project\u306e\u4f5c\u6210\n\u4eca\u56de\u306fserverlessOptimizerSample\u3068\u3044\u3046\u540d\u524d\u3067project\u3092\u4f5c\u308a\u307e\u3059\u3002[\u540d\u524d\u306f\u30ad\u30e3\u30e1\u30eb\u30b1\u30fc\u30b9\u3067\u4ed8\u3051\u308b\u306e\u304c\u826f\u3044\u3063\u307d\u3044](http://docs.serverless.com/docs/project-create)\u3067\u3059\u3002\nAWS\u306eprofile\u304c```~/.aws/credentials```\u306b\u7f6e\u304b\u308c\u3066\u3044\u308b\u524d\u63d0\u306a\u306e\u3067\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306f-p\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u5834\u6240\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```Shell\n$ serverless project create -n serverlessOptimizerSample -d serverless-optimizer-sample.com -r ap-northeast-1 -e hogehoge@gmail.com\n```\n\n\u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u30ed\u30b4\u30de\u30fc\u30af\u3068\u4e00\u7dd2\u306bAWS\u306e\u3069\u306eprofile\u3092\u4f7f\u3046\u304b\u805e\u304b\u308c\u307e\u3059\u3002\u4eca\u306fdefault\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u305d\u306e\u307e\u307eEnter\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n![Screenshot 2016-01-24 12.50.02.png](https://qiita-image-store.s3.amazonaws.com/0/28464/475cdfa7-3eec-5142-28e1-cf6e3a2a1041.png \"Screenshot 2016-01-24 12.50.02.png\")\n\n\u3044\u308d\u3044\u308d\u8868\u793a\u304c\u51fa\u3066\u3001project\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u610f\u5916\u3068\u6642\u9593\u304c\u304b\u304b\u308b\u306e\u3067\u3086\u3063\u304f\u308a\u5f85\u3061\u307e\u3057\u3087\u3046\u3002\n\u7d42\u308f\u3063\u305f\u3089project\u540d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3067\u304d\u3066\u3044\u308b\u306f\u305a\u3002\u4e2d\u8eab\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n\n```Shell\n$ cd serverlessOptimizerSample\n$ tree\n\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 _meta\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 resources\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 s-resources-cf-development-apnortheast1.json\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 variables\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 s-variables-common.json\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 s-variables-development-apnortheast1.json\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 s-variables-development.json\n\u251c\u2500\u2500 admin.env\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 s-project.json\n\n```\n\n# serverless-optimizer-plugin\u306e\u5c0e\u5165\nplugin\u306fproject\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u76f4\u4e0b\u3067install\u3057\u307e\u3059\u3002\noptimizer-plugin\u306b\u306fbrowserify\u304cbundle\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001babelify\u306f\u5165\u3063\u3066\u306a\u3044\u306e\u3067\u3001\u4e00\u7dd2\u306binstall\u3057\u307e\u3059\u3002\n\n```Shell\n$ npm install --save serverless-optimizer-plugin babelify\n```\n\n# component, module, function\u306e\u4f5c\u6210\n\u3061\u3087\u3063\u3068\u524d\u307e\u3067\u306fcomponent\u3068\u3044\u3046\u6982\u5ff5\u306f\u7121\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001nodejs\u4ee5\u5916\u306e\u8907\u6570\u306e\u30e9\u30f3\u30bf\u30a4\u30e0\u3092\u6df7\u5728\u3055\u305b\u308b\u305f\u3081\u306e\u3082\u306e\u307f\u305f\u3044\u3067\u3059\u3002\ncomponent\u306f```serverless component create```\u3067\u4f5c\u6210\u3067\u304d\u3001\u3053\u306e\u6642\u306bmodule\u3068function\u3082\u4e00\u7dd2\u306b\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001component\u540d\u306fhelloComponent, module\u540d\u306fhelloModule, function\u540d\u306fhelloWorld\u306b\u3057\u307e\u3059\u3002\n\n```Shell\n$ serverless component create -c helloComponent -m helloModule -f helloWorld\n$ tree\n\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 _meta\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 resources\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 s-resources-cf-development-apnortheast1.json\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 variables\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 s-variables-common.json\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 s-variables-development-apnortheast1.json\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 s-variables-development.json\n\u251c\u2500\u2500 admin.env\n\u251c\u2500\u2500 helloComponent\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 helloModule\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 helloWorld\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 event.json\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 handler.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 s-function.json\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 s-module.json\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 lib\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 index.js\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 node_modules\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 dotenv\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Contributing.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 README.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 config.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 dotenv.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 lib\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 main.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 package.json\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 test\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 config.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 main.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 serverless-helpers-js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 README.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 env\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 index.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 index.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 package.json\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 package.json\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 s-component.json\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 s-project.json\n```\n\nproject -> component -> module -> function\u3068\u3044\u3046\u69cb\u9020\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n# serverless-optimizer-plugin\u306e\u9069\u7528\n\u307e\u305a\u306f\u3053\u306eproject\u3067\u5229\u7528\u3059\u308bplugin\u3092```s-project.json```\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```s-project.json\nplugins: [\n    \"serverless-optimizer-plugin\"\n]\n```\n\n\u6b21\u306b\u3001optimizer\u5185\u90e8\u3067\u4f7f\u7528\u3059\u308bbrowserify\u306e\u8a2d\u5b9a\u3092```s-component.json```\u304b```s-function.json```\u306b\u66f8\u304d\u307e\u3059\u3002\n```s-component.json```\u306b\u66f8\u3044\u305f\u5834\u5408\u306f\u305d\u306ecomponent\u304c\u5185\u5305\u3059\u308bfunction\u5168\u3066\u306b\u3001```s-function.json```\u306b\u66f8\u3044\u305f\u5834\u5408\u306f\u305d\u306efunction\u5358\u4f53\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u4e21\u65b9\u306b\u66f8\u304f\u3068\u3001s-function.json\u306b\u66f8\u3044\u305f\u65b9\u3067\u4e0a\u66f8\u304d\u3055\u308c\u307e\u3059\u3002\n\u4eca\u56de\u306fs-component.json\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```helloComponent/s-component.json\n{\n    \"name\": \"helloComponent\",\n    \"runtime\": \"nodejs\",\n    \"custom\": {\n        \"optimize\": {\n            \"exclude\": [ \"aws-sdk\" ],\n            \"transforms\": [\n                {\n                    \"name\": \"babelify\",\n                    \"opts\": {\n                        \"presets\": [\n                            \"es2015\"\n                        ]\n                    }\n                }\n            ]\n        }\n    }\n}\n```\n\n\u4f55\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u304b\u306f\u5185\u5bb9\u3067\u5927\u4f53\u5bdf\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u6700\u5f8c\u306bes6\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u3001babel\u306epreset\u3092install\u3057\u307e\u3057\u3087\u3046\u3002helloComponent\u5185\u306epackage.json\u306bsave\u3057\u3066\u3044\u308b\u70b9\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n$ cd helloComponent && npm install --save babel-preset-es2015\n```\n\n\u3053\u308c\u3067function\u3092es6\u3067\u66f8\u304f\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f!\n\n# es6\u3067\u66f8\u3044\u3066\u307f\u308b\n```helloComponent/helloModule/helloWorld/handler.js``` \u3092\u898b\u3066\u307f\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5185\u5bb9\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```helloWorld/handler.js\n'use strict';\n\n/**\n * Serverless Module: Lambda Handler\n * - Your lambda functions should be a thin wrapper around your own separate\n * modules, to keep your code testable, reusable and AWS independent\n * - 'serverless-helpers-js' module is required for Serverless ENV var support.  Hopefully, AWS will add ENV support to Lambda soon :)\n */\n\n// Require Serverless ENV vars\nvar ServerlessHelpers = require('serverless-helpers-js').loadEnv();\n\n// Require Logic\nvar lib = require('../../lib');\n\n// Lambda Handler\nmodule.exports.handler = function(event, context) {\n\n  lib.respond(event, function(error, response) {\n    return context.done(error, response);\n  });\n};\n```\n\n\u3053\u308c\u3092es6\u3063\u307d\u304f\u66f8\u304d\u306a\u304a\u3057\u3066\u307f\u307e\u3059\u3002\n\n```helloWorld/handler.js\n'use strict';\n\n/**\n * Serverless Module: Lambda Handler\n * - Your lambda functions should be a thin wrapper around your own separate\n * modules, to keep your code testable, reusable and AWS independent\n * - 'serverless-helpers-js' module is required for Serverless ENV var support.  Hopefully, AWS will add ENV support to Lambda soon :)\n */\n\n// Require Serverless ENV vars\nimport { loadEnv } from 'serverless-helpers-js';\nconst ServerlessHelpers = loadEnv();\n\n// import ServerlessHelpers from 'serverless-helpers-js'.loadEnv();\n// Require Logic\nimport lib from '../../lib';\n\n// Lambda Handler\nexport function handler(event, context) {\n\n  lib.respond(event, (error, response) => {\n    return context.done(error, response);\n  });\n};\n```\n\n\u3044\u3044\u3067\u3059\u306d\u3002\u6b21\u306fhelloComponent/lib/index.js\u3067\u3059\u3002\n\nbefore:\n\n```helloComponent/lib/index.js\n/**\n * Lib\n */\n\nmodule.exports.respond = function(event, cb) {\n\n  var response = {\n    message: \"Your Serverless function ran successfully!\"\n  };\n\n  return cb(null, response);\n};\n\n```\n\nafter:\n\n```helloComponent/lib/index.js\n/**\n * Lib\n */\n\nconst respond = (event, cb) => {\n\n  const response = {\n    message: \"Your Serverless function ran successfully!!!\"\n  };\n\n  return cb(null, response);\n};\n\nexport default { respond };\n```\n\n\u7d20\u6674\u3089\u3057\u3044\u3002\u3058\u3083\u3042\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u30ed\u30fc\u30ab\u30eb\u3067\u306e\u5b9f\u884c\u306f```serverless function run```\u3067\u3059\u304c\u3001v0.0.x\u7cfb\u3068\u306f\u5fae\u5999\u306b\u5b9f\u884c\u65b9\u6cd5\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u306e\u3067\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n```Shell\n$ serverless function run helloComponent/helloModule/helloWorld\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3001```serverless function run <componentName>/<moduleName>/<functionName>```\u3068\u3044\u3046\u98a8\u306b\u66f8\u304d\u307e\u3059\u3002\n\n...\u3068\u8a00\u3063\u305f\u3082\u306e\u306e\u3001\u30ed\u30fc\u30ab\u30eb\u5b9f\u884c\u6642\u306foptimizer\u304c\u8d70\u3089\u306a\u3044\u306e\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u306e\u8fba\u3001\u3069\u3046\u3059\u308b\u306e\u304c\u826f\u3044\u306e\u304b\u3088\u304f\u308f\u304b\u3089\u305a...\u3068\u308a\u3042\u3048\u305a\u3053\u3053\u306f\u7537\u3089\u3057\u304f\u3059\u3063\u3071\u308a\u3042\u3063\u3055\u308a\u8ae6\u3081\u3066deploy\u306b\u79fb\u308a\u307e\u3059\u3002\n\n# deploy\u3059\u308b\n\u5148\u306b```s-function.json```\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4f7f\u7528\u3059\u308bmeory size\u304c1024\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u4eca\u56de\u306f\u9069\u5f53\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8fd4\u3059\u3060\u3051\u306efunction\u306a\u306e\u3067\u3001\u6700\u5c0f\u306e128\u306b\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n```s-function.json\n\"memorySize\": 128\n```\n\n\u4ed6\u306b\u3082\u8272\u3005\u3042\u308a\u307e\u3059\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u306fendpoints\u5185\u306e```\"method\"= \"GET\"```\u3068```\"path\": \"helloModule/helloWorld\"```\u3060\u3051\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3059\u3050\u4f7f\u3044\u307e\u3059\u3002\n\u3067\u306fdeploy\u3057\u307e\u3057\u3087\u3046\u3002\n\n```Shell\n$ serverless function deploy helloComponent/helloModule/helloWorld\n$ serverless endpoint deploy helloComponent/helloModule/helloWorld@helloModule/helloWorld~GET\n```\n\n1\u884c\u3081\u306e```serverless function deploy```\u3067\u306f\u30b3\u30fc\u30c9\u3092lambda\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\nfunction\u306e\u6307\u5b9a\u65b9\u6cd5\u306ffunction run\u3068\u540c\u3058\u3002\n\u5b9f\u884c\u3059\u308b\u3068\u81ea\u52d5\u7684\u306boptimizer\u304c\u8d70\u3063\u3066\u3001\u30b3\u30fc\u30c9\u306eminify\u3084es5\u3078\u306e\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3092\u884c\u3063\u3066\u304f\u308c\u307e\u3059\u3002\n\n2\u884c\u3081\u306e```serverless endpoint deploy```\u3067\u306ffunction\u3078\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002\n\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u6307\u5b9a\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n```<componentName>/<moduleName>/<functionName>@<endpointUrl>~<endpointMethod>```\n\u3055\u3063\u304d\u898b\u305fpath\u3068method\u304c\u305d\u308c\u305e\u308c\u3001endpointUrl\u3068endpointMethod\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u306d\u3002\n\n```serverless endpoint deploy```\u304c\u6210\u529f\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8868\u793a\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002\n\n![Screenshot_2016-01-24_23_25_58.png](https://qiita-image-store.s3.amazonaws.com/0/28464/6acafe07-3c06-04e8-fcb0-f1a3f7be6c6b.png \"Screenshot_2016-01-24_23_25_58.png\")\n\n\u4e00\u756a\u4e0b\u306e\u884c\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u3001\u767a\u884c\u3055\u308c\u305f\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306eURL\u3067\u3059\u3002\n\u3058\u3083\u3042\u3055\u3063\u305d\u304f\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u30d1\u30f3\u30c4\u30a1\u30fc\u30d5\u30a9\u30fc\uff01\uff01\uff01\uff01\n\n```Shell\n$ open https://hogehoge.execute-api.ap-northeast-1.amazonaws.com/development/helloModule/helloWorld\n```\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u305f\u3089\u6210\u529f\u3067\u3059\u3002\n\n```browser\n{\"message\":\"Your Serverless function ran successfully!\"}\n```\n\n\u3084\u3063\u305f\u306d\u3002\n\n# \u307e\u3068\u3081\n\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002plugin\u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u3067 ~~\u30ed\u30fc\u30ab\u30eb\u3067\u5b9f\u884c\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u8f9b\u3059\u304e\u308b\u73fe\u5b9f\u304b\u3089\u76ee\u3092\u9038\u3089\u305b\u3070~~\u7c21\u5358\u306bes6\u3067function\u304c\u66f8\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u306d\u3002\nserverless framework\u306f\u958b\u767a\u306e\u901f\u5ea6\u304c\u901f\u3044\u3067\u3059\u3002\u3069\u308c\u3050\u3089\u3044\u901f\u3044\u304b\u3068\u3044\u3046\u3068\u3001\u6628\u65e5v0.1.3\u3068v0.1.4\u304c\u51fa\u305f\u3068\u601d\u3063\u305f\u3089\u3001\u4eca\u65e5npm update\u3057\u3066v0.1.5\u304c\u5165\u308b\u3068\u304b\u305d\u3046\u3044\u3046\u611f\u3058\u3067\u3059\u3002(2016/01/24\u73fe\u5728)\n\u3053\u306e\u8a18\u4e8b\u306b\u66f8\u3044\u3066\u3042\u308b\u3053\u3068\u3082\u3059\u3050\u306b\u53e4\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3068\u601d\u3046\u306e\u3067\u3001serverless framework\u6c17\u306b\u306a\u3063\u3066\u308b\u65b9\u306f\u4eca\u3059\u3050\u3084\u308a\u307e\u3057\u3087\u3046\uff01\uff01\n", "tags": ["nodejs", "lambda", "AWS", "serverless", "APIGateway"]}