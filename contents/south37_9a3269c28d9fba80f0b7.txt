{"context": "\n\nlibv8 \u306e gem install \u306b\u5931\u6557\u3059\u308b\n$ bundle install\n.\n.\n.\nInstalling libv8 3.16.14.13 with native extensions\n\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\n    current directory: /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/ext/libv8\n/Users/minami/.rbenv/versions/2.3.0/bin/ruby -r ./siteconf20160427-41464-dwbunz.rb extconf.rb\ncreating Makefile\nCompiling v8 for x64\nUsing python 2.7.10\nUsing compiler: /usr/bin/c++ (clang version 7.3.0)\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/libtool: file: /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/atomicops_internals_x86_gcc.o has no symbols\nIn file included from ../src/accessors.cc:28:\nIn file included from ../src/v8.h:60:\nIn file included from ../src/objects-inl.h:38:\nIn file included from ../src/elements.h:32:\n../src/objects.h:5252:44: error: shifting a negative signed value is undefined [-Werror,-Wshift-negative-value]\n  static const int kElementsKindMask = (-1 << kElementsKindShift) &\n                                        ~~ ^\n../src/objects.h:7386:36: error: shifting a negative signed value is undefined [-Werror,-Wshift-negative-value]\n      (~kMaxCachedArrayIndexLength << kArrayIndexHashLengthShift) |\n       ~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^\n2 errors generated.\nmake[1]: *** [/Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/v8_base/src/accessors.o] Error 1\nmake: *** [x64.release] Error 2\n/Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/ext/libv8/location.rb:36:in `block in verify_installation!': libv8 did not install properly, expected binary v8 archive '/Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/tools/gyp/libv8_base.a'to exist, but it was not found (Libv8::Location::Vendor::ArchiveNotFound)\n        from /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/ext/libv8/location.rb:35:in `each'\n        from /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/ext/libv8/location.rb:35:in `verify_installation!'\n        from /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/ext/libv8/location.rb:26:in `install!'\n        from extconf.rb:7:in `<main>'\nGYP_GENERATORS=make \\\n        build/gyp/gyp --generator-output=\"out\" build/all.gyp \\\n                      -Ibuild/standalone.gypi --depth=. \\\n                      -Dv8_target_arch=x64 \\\n                      -S.x64  -Dv8_enable_backtrace=1 -Dv8_can_use_vfp2_instructions=true -Darm_fpu=vfpv2 -Dv8_can_use_vfp3_instructions=true -Darm_fpu=vfpv3 -Dwerror=''\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/allocation.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/atomicops_internals_x86_gcc.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/bignum.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/bignum-dtoa.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/cached-powers.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/conversions.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/diy-fp.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/dtoa.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/fast-dtoa.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/fixed-dtoa.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/once.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/preparse-data.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/preparser.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/preparser-api.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/scanner.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/strtod.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/token.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/unicode.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/utils.o\n  LIBTOOL-STATIC /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/libpreparser_lib.a\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser/preparser/preparser-process.o\n  LINK(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/preparser\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/v8_base/src/accessors.o\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13 for inspection.\nResults logged to /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/libv8-3.16.14.13/gem_make.out\n\nlibv8 \u306e\u30d3\u30eb\u30c9\u3067\u5931\u6557\u3057\u3066\u308b\u3002\nhttp://qiita.com/mana-bin/items/0ee8b35c1726bacd8ecf \u3092\u53c2\u8003\u306b\u3001 bundle install \u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5909\u66f4\n$ bundle config build.libv8 --with-system-v8\n\n\u518d\u5ea6 bundle install\u3002\u4eca\u5ea6\u306f\u3001therubyracer \u306e install \u306b\u5931\u6557\u3002\nInstalling therubyracer 0.12.2 with native extensions\n\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\n    current directory: /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/therubyracer-0.12.2/ext/v8\n/Users/minami/.rbenv/versions/2.3.0/bin/ruby -r ./siteconf20160427-47511-1o6c9vy.rb extconf.rb\nchecking for main() in -lpthread... yes\nchecking for main() in -lobjc... yes\nchecking for v8.h... no\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n        --with-opt-dir\n        --without-opt-dir\n        --with-opt-include\n        --without-opt-include=${opt-dir}/include\n        --with-opt-lib\n        --without-opt-lib=${opt-dir}/lib\n        --with-make-prog\n        --without-make-prog\n        --srcdir=.\n        --curdir\n        --ruby=/Users/minami/.rbenv/versions/2.3.0/bin/$(RUBY_BASE_NAME)\n        --with-pthreadlib\n        --without-pthreadlib\n        --with-objclib\n        --without-objclib\n        --enable-debug\n        --disable-debug\n        --with-v8-dir\n        --without-v8-dir\n        --with-v8-include\n        --without-v8-include=${v8-dir}/include\n        --with-v8-lib\n        --without-v8-lib=${v8-dir}/lib\n/Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/ext/libv8/location.rb:50:in `configure': You have chosen to use the version of V8 found on your system (Libv8::Location::System::NotFoundError)\nand *not* the one that is bundle with the libv8 rubygem. However,\nit could not be located. please make sure you have a version of\nv8 that is compatible with 3.16.14.13 installed. You may\nneed to special --with-v8-dir options if it is in a non-standard\nlocation\n\nthanks,\nThe Mgmt\n\n        from /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/lib/libv8.rb:7:in `configure_makefile'\n        from extconf.rb:32:in `<main>'\n\nTo see why this extension failed to compile, please check the mkmf.log which can be found here:\n\n  /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/therubyracer-0.12.2/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/therubyracer-0.12.2 for inspection.\nResults logged to /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/therubyracer-0.12.2/gem_make.out\n\nlog \u30d5\u30a1\u30a4\u30eb\u3092\u898b\u308b\u3068\u3001 v8.h \u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3068\u304b\u51fa\u3066\u308b\u3002\n# ~/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/therubyracer-0.12.2/mkmf.log\n\n 54 --------------------\n 55\n 56 find_header: checking for v8.h... -------------------- no\n 57\n 58 \"clang -E -I/Users/minami/.rbenv/versions/2.3.0/include/ruby-2.3.0/x86_64-darwin15 -I/Users/minami/.rbenv/versions/2.3.0/include/ruby-2.3.0/ruby/backward -I/Users/minami/.rbenv/versions/2.3.0/inclu\n 59 clang: warning: argument unused during compilation: '-rdynamic'\n 60 conftest.c:3:10: fatal error: 'v8.h' file not found\n 61 #include <v8.h>\n 62          ^\n 63 1 error generated.\n 64 checked program was:\n 65 /* begin */\n 66 1: #include \"ruby.h\"\n 67 2:\n 68 3: #include <v8.h>\n 69 /* end */\n 70\n 71 --------------------\n 72\n\nhttp://wknar.hatenablog.com/entry/update-gcc-and-v8 \u66f0\u304f\u3001brew install v8 \u3059\u308c\u3070 v8.h \u304c\u898b\u3064\u304b\u308b\u3088\u3046\u306b\u306a\u308b\u3089\u3057\u304b\u3063\u305f\u306e\u3067\u3001\u3057\u3066\u307f\u305f\u3002\n$ brew install v8\n==> Downloading https://homebrew.bintray.com/bottles/v8-4.9.385.28.el_capitan.bottle.tar.gz\n######################################################################## 100.0%\n==> Pouring v8-4.9.385.28.el_capitan.bottle.tar.gz\n\ud83c\udf7a  /usr/local/Cellar/v8/4.9.385.28: 26 files, 676.4M\nbrew install v8  4.80s user 3.18s system 7% cpu 1:43.79 total\n\n\u3053\u306e\u72b6\u614b\u3067\u307e\u305f bundle install\u3002\u304c\u3001\u540c\u69d8\u306e\u30a8\u30e9\u30fc\u3002\nv8.h \u306f /usr/local/Cellar/v8/4.9.385.28/include/v8.h \u306b\u3042\u308b\u304c\u3001\u3069\u3046\u3082 path \u304c\u901a\u3063\u3066\u306a\u3044\u3063\u307d\u3044\uff1f\uff1f\uff1f\uff1f\n\n\u6700\u7d42\u7684\u306b\nhome-brew \u3067\u53e4\u3044 v8 \u3092 install \u3057\u305f\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3001brew install homebrew/versions/v8-315 \u3067 version 3.15.11.18 \u3092 install\u3002\nlibv8 \u3067\u306f \u2014with-system-v8 \u3092\u6307\u5b9a\u3057\u3001\u3055\u3089\u306b therubyracer install \u306e\u969b\u306b\u306f v8-315 \u306e directory \u3092 v8-dir \u3068\u3057\u3066\u6307\u5b9a\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3002\n$ brew install homebrew/versions/v8-315\n$ bundle config build.libv8 --with-system-v8\n$ bundle config build.therubyracer --with-v8-dir=/usr/local/opt/v8-315/\n\n## libv8 \u306e gem install \u306b\u5931\u6557\u3059\u308b\n\n```\n$ bundle install\n.\n.\n.\nInstalling libv8 3.16.14.13 with native extensions\n\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\n    current directory: /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/ext/libv8\n/Users/minami/.rbenv/versions/2.3.0/bin/ruby -r ./siteconf20160427-41464-dwbunz.rb extconf.rb\ncreating Makefile\nCompiling v8 for x64\nUsing python 2.7.10\nUsing compiler: /usr/bin/c++ (clang version 7.3.0)\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/libtool: file: /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/atomicops_internals_x86_gcc.o has no symbols\nIn file included from ../src/accessors.cc:28:\nIn file included from ../src/v8.h:60:\nIn file included from ../src/objects-inl.h:38:\nIn file included from ../src/elements.h:32:\n../src/objects.h:5252:44: error: shifting a negative signed value is undefined [-Werror,-Wshift-negative-value]\n  static const int kElementsKindMask = (-1 << kElementsKindShift) &\n                                        ~~ ^\n../src/objects.h:7386:36: error: shifting a negative signed value is undefined [-Werror,-Wshift-negative-value]\n      (~kMaxCachedArrayIndexLength << kArrayIndexHashLengthShift) |\n       ~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^\n2 errors generated.\nmake[1]: *** [/Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/v8_base/src/accessors.o] Error 1\nmake: *** [x64.release] Error 2\n/Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/ext/libv8/location.rb:36:in `block in verify_installation!': libv8 did not install properly, expected binary v8 archive '/Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/tools/gyp/libv8_base.a'to exist, but it was not found (Libv8::Location::Vendor::ArchiveNotFound)\n        from /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/ext/libv8/location.rb:35:in `each'\n        from /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/ext/libv8/location.rb:35:in `verify_installation!'\n        from /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/ext/libv8/location.rb:26:in `install!'\n        from extconf.rb:7:in `<main>'\nGYP_GENERATORS=make \\\n        build/gyp/gyp --generator-output=\"out\" build/all.gyp \\\n                      -Ibuild/standalone.gypi --depth=. \\\n                      -Dv8_target_arch=x64 \\\n                      -S.x64  -Dv8_enable_backtrace=1 -Dv8_can_use_vfp2_instructions=true -Darm_fpu=vfpv2 -Dv8_can_use_vfp3_instructions=true -Darm_fpu=vfpv3 -Dwerror=''\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/allocation.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/atomicops_internals_x86_gcc.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/bignum.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/bignum-dtoa.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/cached-powers.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/conversions.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/diy-fp.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/dtoa.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/fast-dtoa.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/fixed-dtoa.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/once.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/preparse-data.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/preparser.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/preparser-api.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/scanner.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/strtod.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/token.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/unicode.o\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/utils.o\n  LIBTOOL-STATIC /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/libpreparser_lib.a\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser/preparser/preparser-process.o\n  LINK(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/preparser\n  CXX(target) /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/v8_base/src/accessors.o\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13 for inspection.\nResults logged to /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/libv8-3.16.14.13/gem_make.out\n```\n\nlibv8 \u306e\u30d3\u30eb\u30c9\u3067\u5931\u6557\u3057\u3066\u308b\u3002\n\nhttp://qiita.com/mana-bin/items/0ee8b35c1726bacd8ecf \u3092\u53c2\u8003\u306b\u3001 bundle install \u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5909\u66f4\n\n```\n$ bundle config build.libv8 --with-system-v8\n```\n\n\u518d\u5ea6 bundle install\u3002\u4eca\u5ea6\u306f\u3001`therubyracer` \u306e install \u306b\u5931\u6557\u3002\n\n```\nInstalling therubyracer 0.12.2 with native extensions\n\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\n    current directory: /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/therubyracer-0.12.2/ext/v8\n/Users/minami/.rbenv/versions/2.3.0/bin/ruby -r ./siteconf20160427-47511-1o6c9vy.rb extconf.rb\nchecking for main() in -lpthread... yes\nchecking for main() in -lobjc... yes\nchecking for v8.h... no\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n        --with-opt-dir\n        --without-opt-dir\n        --with-opt-include\n        --without-opt-include=${opt-dir}/include\n        --with-opt-lib\n        --without-opt-lib=${opt-dir}/lib\n        --with-make-prog\n        --without-make-prog\n        --srcdir=.\n        --curdir\n        --ruby=/Users/minami/.rbenv/versions/2.3.0/bin/$(RUBY_BASE_NAME)\n        --with-pthreadlib\n        --without-pthreadlib\n        --with-objclib\n        --without-objclib\n        --enable-debug\n        --disable-debug\n        --with-v8-dir\n        --without-v8-dir\n        --with-v8-include\n        --without-v8-include=${v8-dir}/include\n        --with-v8-lib\n        --without-v8-lib=${v8-dir}/lib\n/Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/ext/libv8/location.rb:50:in `configure': You have chosen to use the version of V8 found on your system (Libv8::Location::System::NotFoundError)\nand *not* the one that is bundle with the libv8 rubygem. However,\nit could not be located. please make sure you have a version of\nv8 that is compatible with 3.16.14.13 installed. You may\nneed to special --with-v8-dir options if it is in a non-standard\nlocation\n\nthanks,\nThe Mgmt\n\n        from /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/libv8-3.16.14.13/lib/libv8.rb:7:in `configure_makefile'\n        from extconf.rb:32:in `<main>'\n\nTo see why this extension failed to compile, please check the mkmf.log which can be found here:\n\n  /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/therubyracer-0.12.2/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/therubyracer-0.12.2 for inspection.\nResults logged to /Users/minami/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/therubyracer-0.12.2/gem_make.out\n```\n\nlog \u30d5\u30a1\u30a4\u30eb\u3092\u898b\u308b\u3068\u3001 `v8.h` \u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3068\u304b\u51fa\u3066\u308b\u3002\n\n```\n# ~/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/therubyracer-0.12.2/mkmf.log\n\n 54 --------------------\n 55\n 56 find_header: checking for v8.h... -------------------- no\n 57\n 58 \"clang -E -I/Users/minami/.rbenv/versions/2.3.0/include/ruby-2.3.0/x86_64-darwin15 -I/Users/minami/.rbenv/versions/2.3.0/include/ruby-2.3.0/ruby/backward -I/Users/minami/.rbenv/versions/2.3.0/inclu\n 59 clang: warning: argument unused during compilation: '-rdynamic'\n 60 conftest.c:3:10: fatal error: 'v8.h' file not found\n 61 #include <v8.h>\n 62          ^\n 63 1 error generated.\n 64 checked program was:\n 65 /* begin */\n 66 1: #include \"ruby.h\"\n 67 2:\n 68 3: #include <v8.h>\n 69 /* end */\n 70\n 71 --------------------\n 72\n```\n\nhttp://wknar.hatenablog.com/entry/update-gcc-and-v8 \u66f0\u304f\u3001`brew install v8` \u3059\u308c\u3070 v8.h \u304c\u898b\u3064\u304b\u308b\u3088\u3046\u306b\u306a\u308b\u3089\u3057\u304b\u3063\u305f\u306e\u3067\u3001\u3057\u3066\u307f\u305f\u3002\n\n```\n$ brew install v8\n==> Downloading https://homebrew.bintray.com/bottles/v8-4.9.385.28.el_capitan.bottle.tar.gz\n######################################################################## 100.0%\n==> Pouring v8-4.9.385.28.el_capitan.bottle.tar.gz\n\ud83c\udf7a  /usr/local/Cellar/v8/4.9.385.28: 26 files, 676.4M\nbrew install v8  4.80s user 3.18s system 7% cpu 1:43.79 total\n```\n\n\u3053\u306e\u72b6\u614b\u3067\u307e\u305f bundle install\u3002\u304c\u3001\u540c\u69d8\u306e\u30a8\u30e9\u30fc\u3002\n\nv8.h \u306f `/usr/local/Cellar/v8/4.9.385.28/include/v8.h` \u306b\u3042\u308b\u304c\u3001\u3069\u3046\u3082 path \u304c\u901a\u3063\u3066\u306a\u3044\u3063\u307d\u3044\uff1f\uff1f\uff1f\uff1f\n\n## \u6700\u7d42\u7684\u306b\nhome-brew \u3067\u53e4\u3044 v8 \u3092 install \u3057\u305f\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3001`brew install homebrew/versions/v8-315` \u3067 version `3.15.11.18` \u3092 install\u3002\n`libv8` \u3067\u306f `\u2014with-system-v8` \u3092\u6307\u5b9a\u3057\u3001\u3055\u3089\u306b `therubyracer` install \u306e\u969b\u306b\u306f `v8-315` \u306e directory \u3092 `v8-dir` \u3068\u3057\u3066\u6307\u5b9a\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3002\n\n```\n$ brew install homebrew/versions/v8-315\n$ bundle config build.libv8 --with-system-v8\n$ bundle config build.therubyracer --with-v8-dir=/usr/local/opt/v8-315/\n``` \n", "tags": ["Ruby", "Gem", "libv8"]}