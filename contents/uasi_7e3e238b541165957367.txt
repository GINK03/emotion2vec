{"tags": ["AppStore", "Mac", "Objective-C"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\n\nAuto-renewable subscription \u3092\u6709\u52b9\u671f\u9593\u4e2d\u306b\u518d\u5ea6\u8cfc\u5165\u3059\u308b\u3068\u8cfc\u5165\u304c\u5931\u6557\u3059\u308b\n\u6709\u52b9\u671f\u9593\u304c\u5207\u308c\u3066\u3044\u306a\u3044 subscription \u3092\u8cfc\u5165\u3059\u308b SKPayment \u3092\u767a\u884c\u3059\u308b\u3068\u3001\u5bfe\u5fdc\u3059\u308b SKPaymentTransaction \u306e -transactionState \u304c\u6700\u7d42\u7684\u306b SKPaymentTransactionStateFailed \u306b\u306a\u308b\u3002\n\u3053\u306e\u3068\u304d theTransaction.error.code == 2 \u3068\u306a\u308b\u3002\n\u3053\u306e\u6319\u52d5\u306f10.9\u3067\u5909\u66f4\u3055\u308c\u3001\u6709\u52b9\u671f\u9593\u4e2d\u306b\u518d\u5ea6\u8cfc\u5165\u3057\u3066\u3082\u6b63\u5e38\u306b\u8cfc\u5165\u304c\u5b8c\u4e86\u3059\u308b\u3002 -transactionState \u306f\u6700\u7d42\u7684\u306b SKPaymentTransactionStateCompleted \u306b\u306a\u308b\u3002\n\n\u65b0\u898f\u306b\u53d6\u5f97\u3057\u305f\u30ec\u30b7\u30fc\u30c8\u306b\u306f\u305d\u308c\u4ee5\u524d\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u306a\u3044\n\u30ec\u30b7\u30fc\u30c8\u304c\u306a\u3044\u72b6\u614b\uff08\u304a\u3082\u306b\u958b\u767a\u4e2d\u3067\u30d3\u30eb\u30c9\u76f4\u5f8c\u306e\u72b6\u614b\uff09\u304b\u3089\u65b0\u898f\u306b\u53d6\u5f97\u3057\u305f\u30ec\u30b7\u30fc\u30c8\u306b\u306f\u3001\u305d\u308c\u4ee5\u524d\u306b\u8cfc\u5165\u3055\u308c\u305f IAP \u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3002 -[SKPaymentQueue restoreCompletedTransactions] \u3092\u547c\u3076\u3068\u53e4\u3044\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3082\u53d6\u5f97\u3067\u304d\u308b\u3002\n10.9\u3067\u306f\u3001\u65b0\u898f\u306b\u53d6\u5f97\u3057\u305f\u30ec\u30b7\u30fc\u30c8\u306b\u3082\u53e4\u3044\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u308b\u3002\n# Auto-renewable subscription \u3092\u6709\u52b9\u671f\u9593\u4e2d\u306b\u518d\u5ea6\u8cfc\u5165\u3059\u308b\u3068\u8cfc\u5165\u304c\u5931\u6557\u3059\u308b\n\n\u6709\u52b9\u671f\u9593\u304c\u5207\u308c\u3066\u3044\u306a\u3044 subscription \u3092\u8cfc\u5165\u3059\u308b `SKPayment` \u3092\u767a\u884c\u3059\u308b\u3068\u3001\u5bfe\u5fdc\u3059\u308b `SKPaymentTransaction` \u306e `-transactionState` \u304c\u6700\u7d42\u7684\u306b `SKPaymentTransactionStateFailed` \u306b\u306a\u308b\u3002\n\n\u3053\u306e\u3068\u304d `theTransaction.error.code == 2` \u3068\u306a\u308b\u3002\n\n\u3053\u306e\u6319\u52d5\u306f10.9\u3067\u5909\u66f4\u3055\u308c\u3001\u6709\u52b9\u671f\u9593\u4e2d\u306b\u518d\u5ea6\u8cfc\u5165\u3057\u3066\u3082\u6b63\u5e38\u306b\u8cfc\u5165\u304c\u5b8c\u4e86\u3059\u308b\u3002 `-transactionState` \u306f\u6700\u7d42\u7684\u306b `SKPaymentTransactionStateCompleted` \u306b\u306a\u308b\u3002\n\n# \u65b0\u898f\u306b\u53d6\u5f97\u3057\u305f\u30ec\u30b7\u30fc\u30c8\u306b\u306f\u305d\u308c\u4ee5\u524d\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u306a\u3044\n\n\u30ec\u30b7\u30fc\u30c8\u304c\u306a\u3044\u72b6\u614b\uff08\u304a\u3082\u306b\u958b\u767a\u4e2d\u3067\u30d3\u30eb\u30c9\u76f4\u5f8c\u306e\u72b6\u614b\uff09\u304b\u3089\u65b0\u898f\u306b\u53d6\u5f97\u3057\u305f\u30ec\u30b7\u30fc\u30c8\u306b\u306f\u3001\u305d\u308c\u4ee5\u524d\u306b\u8cfc\u5165\u3055\u308c\u305f IAP \u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3002 `-[SKPaymentQueue restoreCompletedTransactions]` \u3092\u547c\u3076\u3068\u53e4\u3044\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3082\u53d6\u5f97\u3067\u304d\u308b\u3002\n\n10.9\u3067\u306f\u3001\u65b0\u898f\u306b\u53d6\u5f97\u3057\u305f\u30ec\u30b7\u30fc\u30c8\u306b\u3082\u53e4\u3044\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u308b\u3002\n"}