{"context": " More than 1 year has passed since last update.2015\u5e7410\u67085\u65e5\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f eZ Publish 6 \u306e\u6700\u521d\u306e\u30d9\u30fc\u30bf\u7248\u3067\u3042\u308b eZ Platform 15.09 \u3092 CentOS 7 \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u624b\u9806\u3092\u307e\u3068\u3081\u305f\u3002\nVirtualBox\u306b\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3055\u308c\u305f CentOS 7 \u3067\u306e\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u308b\u3002\n\n\n\u74b0\u5883\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\nyum clean all;\nyum -y update;\nreboot;\npackage-cleanup -y --oldkernels;\n\n\nMySQL Server\n\nMySQL Server \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nyum -y install http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm;\nyum -y install mysql-community-server;\nsed -i 's/\\[mysqld\\]/\\[mysqld\\]\\ncharacter-set-server=utf8/' /etc/my.cnf;\nsystemctl enable mysqld;\nsystemctl start mysqld;\nopenssl rand -base64 12;\nmysql_secure_installation;\nopenssl rand -base64 12;\nmysql -u root -p;\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068DB\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\nmysql> CREATE DATABASE `ezplatform` CHARACTER SET 'utf8';\nmysql> GRANT ALL PRIVILEGES ON `ezplatform`.* TO `ezplatform`@`localhost` IDENTIFIED BY 'password' WITH GRANT OPTION;\nmysql> EXIT\n\n\nApache HTTP Server & PHP\nyum -y install http://rpms.famillecollet.com/enterprise/remi-release-7.rpm;\nyum-config-manager --enable remi remi-php56;\nyum -y install httpd php php-gd php-intl php-mbstring php-mysqlnd php-opcache php-pecl-apcu php-pecl-xdebug php-xml;\nsed -i '/#AddHandler cgi-script/s/#//' /etc/httpd/conf/httpd.conf;\nsed -i 's/;date\\.timezone =/date.timezone = Asia\\/Tokyo/' /etc/php.ini;\nsed -i 's/memory_limit = 128M/memory_limit = 512M/' /etc/php.ini;\nsystemctl enable httpd;\nsystemctl start httpd;\nfirewall-cmd --permanent --add-service=http;\nfirewall-cmd --reload;\n\n\u30de\u30cb\u30e5\u30a2\u30eb\u3067\u306f\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b256MB\u306b\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u8a18\u8f09\u304c\u3042\u308b\u304c\u3001\u753b\u9762\u751f\u6210\u6642\u306b\u30e1\u30e2\u30ea\u304c\u4e0d\u8db3\u3059\u308b\u306e\u3067\u3082\u3046\u5c11\u3057\u5927\u304d\u3081\u306b\u3057\u305f\u65b9\u304c\u826f\u3044\u3060\u308d\u3046\u3002\n\neZ Platform\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nComposer\u7d4c\u7531\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nyum -y install git;\ncd /var/www/html;\ncurl -sS https://getcomposer.org/installer | php;\nphp -d memory_limit=-1 composer.phar create-project --no-dev ezsystems/ezplatform /var/www/html;\n\n\nGitHub OAuth token \u304c\u8981\u6c42\u3055\u308c\u308b\u5834\u5408\n  - Installing symfony/assetic-bundle (v2.7.0)\n    Downloading: Connecting...\nCould not fetch https://api.github.com/repos/symfony/AsseticBundle/zipball/3ae5c8ca3079b6e0033cc9fbfb6500e2bc964da5, please create a GitHub OAuth token to go over the API rate limit\nHead to https://github.com/settings/tokens/new?scopes=repo&description=Composer+on+localhost.localdomain+2015-10-05+0000\nto retrieve a token. It will be stored in \"/root/.composer/auth.json\" for future use by Composer.\nToken (hidden):\n\n\u9014\u4e2d\u3067\u4e0a\u8a18\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u3066\u4e2d\u65ad\u3055\u308c\u305f\u5834\u5408\u3001\u81ea\u8eab\u306eGitHub\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u6307\u5b9a\u306eURL\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001personal access token \u3092\u4f5c\u6210\u3057\u3001\u751f\u6210\u3055\u308c\u305f\u82f1\u6570\u5b5740\u6841\u306etoken\u3092 Token (hidden): \u306e\u5f8c\u306b\u5165\u529b\u3059\u308b\u3002\u76f4\u5f8c\u306b Token stored successfully. \u3068\u8868\u793a\u3055\u308c\u308c\u3070\u6210\u529f\u3002\n\nhttps://github.com/settings/tokens/new?scopes=repo&description=Composer+on+localhost.localdomain+2015-10-05+0000\n\n\n\nCreating the \"ezpublish/config/parameters.yml\" file\nSome parameters are missing. Please provide them.\nsecret (ThisTokenIsNotSoSecretChangeIt):\nlocale_fallback (en):\nmailer_transport (smtp):\nmailer_host (127.0.0.1):\nmailer_user (null):\nmailer_password (null):\ndatabase_driver (pdo_mysql):\ndatabase_host (localhost):\ndatabase_port (null):\ndatabase_name (ezplatform):\ndatabase_user (root): ezplatform\ndatabase_password (null): password\nsearch_engine (legacy):\nsolr_dsn ('http://localhost:8983/solr'):\n\nsecret (ThisTokenIsNotSoSecretChangeIt): \u306f\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u306a\u3069\u3067\u30e9\u30f3\u30c0\u30e0\u306a40\u6841\u306e\u6587\u5b57\u5217\u3092\u751f\u6210\u3057\u3066\u5165\u529b\u3059\u308b\u3002\n- http://nux.net/secret\nWhich environment would you like to dump production assets for? (Default: 'prod', type 'none' to skip)\n\n\u7a7a\u3067\u30a8\u30f3\u30bf\u30fc\u3092\u62bc\u3059\u3068 Dumping all prod assets. Debug mode is off. \u3068\u8868\u793a\u3055\u308c\u30c7\u30d0\u30c3\u30b0\u30e2\u30fc\u30c9\u306f\u30aa\u30d5\u306b\u306a\u308b\u3002\nphp ezpublish/console ezplatform:install --env prod demo\n\n\n\u5727\u7e2e\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u5c55\u958b\nyum -y install wget;\nwget http://share.ez.no/content/download/170227/1012040/version/1/file/ezplatform-dist-2015.09.1.tar.gz;\ntar vzxf ezplatform-dist-2015.09.1.tar.gz -C /var/www/html --strip=1;\nchown apache:apache -R /var/www/html/*;\ncd /var/www/html;\ncurl -sS https://getcomposer.org/installer | php;\nphp -d memory_limit=-1 composer.phar run-script post-install-cmd;\n\n\u6b21\u306eURL\u304b\u3089\u6700\u65b0\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9URL\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\nhttp://share.ez.no/downloads/downloads/\n\n\nVirtualHost\u306e\u8a2d\u5b9a\ncp -a /var/www/html/doc/apache2/vhost.template /etc/httpd/conf.d/ezpublish.conf;\nsed -i /etc/httpd/conf.d/ezpublish.conf \\\n-e 's/%IP_ADDRESS%:%PORT%>/*:80>/' \\\n-e 's/ServerName %HOST%/ServerName www.example.com/' \\\n-e 's/ServerAlias %HOST_ALIAS%/ServerAlias localhost/' \\\n-e 's/%BASEDIR%\\/web/\\/var\\/www\\/html\\/web/' \\\n-e 's/=%ENV%/=dev/';\nhttpd -t;\nsystemctl restart httpd;\n\n\n\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\nchown -R apache:apache ezpublish/{cache,logs,config,sessions} web;\nfind {ezpublish/{cache,logs,config,sessions},web} -type d | xargs sudo chmod -R 775;\nfind {ezpublish/{cache,logs,config},web} -type f | xargs sudo chmod -R 664;\nsetenforce 0;\nsed -i \"s/\\(^SELINUX=\\).*/\\1disabled/\" /etc/selinux/config;\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nphp -d memory_limit=-1 ezpublish/console ezplatform:install --env prod demo;\nphp ezpublish/console cache:clear\n\n\u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u306f\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u518d\u5ea6\u5b9f\u884c\u3057\u3066\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u30af\u30ea\u30a2\u3059\u308b\u3068\u6539\u5584\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\n\u7ba1\u7406\u753b\u9762(eZ Platform)\u3078\u30ed\u30b0\u30a4\u30f3\u3059\u308b\n\nhttp://192.168.56.0.101/ez\n\n\u521d\u671f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u306f admin \u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306f publish \u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3002\n2015\u5e7410\u67085\u65e5\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f **eZ Publish 6** \u306e\u6700\u521d\u306e\u30d9\u30fc\u30bf\u7248\u3067\u3042\u308b **eZ Platform 15.09** \u3092 CentOS 7 \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u624b\u9806\u3092\u307e\u3068\u3081\u305f\u3002\nVirtualBox\u306b\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3055\u308c\u305f CentOS 7 \u3067\u306e\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u308b\u3002\n\n![eZ-Logo_max600height250.png](https://qiita-image-store.s3.amazonaws.com/0/15175/ae9388c9-723e-f646-7d11-ab2e6dea7b94.png)\n\n## \u74b0\u5883\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n```bash\nyum clean all;\nyum -y update;\nreboot;\npackage-cleanup -y --oldkernels;\n```\n\n## MySQL Server\n### MySQL Server \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n```bash\nyum -y install http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm;\nyum -y install mysql-community-server;\nsed -i 's/\\[mysqld\\]/\\[mysqld\\]\\ncharacter-set-server=utf8/' /etc/my.cnf;\nsystemctl enable mysqld;\nsystemctl start mysqld;\nopenssl rand -base64 12;\nmysql_secure_installation;\nopenssl rand -base64 12;\nmysql -u root -p;\n```\n### \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068DB\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\n```mysql\nmysql> CREATE DATABASE `ezplatform` CHARACTER SET 'utf8';\nmysql> GRANT ALL PRIVILEGES ON `ezplatform`.* TO `ezplatform`@`localhost` IDENTIFIED BY 'password' WITH GRANT OPTION;\nmysql> EXIT\n```\n\n## Apache HTTP Server & PHP\n```bash\nyum -y install http://rpms.famillecollet.com/enterprise/remi-release-7.rpm;\nyum-config-manager --enable remi remi-php56;\nyum -y install httpd php php-gd php-intl php-mbstring php-mysqlnd php-opcache php-pecl-apcu php-pecl-xdebug php-xml;\nsed -i '/#AddHandler cgi-script/s/#//' /etc/httpd/conf/httpd.conf;\nsed -i 's/;date\\.timezone =/date.timezone = Asia\\/Tokyo/' /etc/php.ini;\nsed -i 's/memory_limit = 128M/memory_limit = 512M/' /etc/php.ini;\nsystemctl enable httpd;\nsystemctl start httpd;\nfirewall-cmd --permanent --add-service=http;\nfirewall-cmd --reload;\n```\n\u30de\u30cb\u30e5\u30a2\u30eb\u3067\u306f\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b256MB\u306b\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u8a18\u8f09\u304c\u3042\u308b\u304c\u3001\u753b\u9762\u751f\u6210\u6642\u306b\u30e1\u30e2\u30ea\u304c\u4e0d\u8db3\u3059\u308b\u306e\u3067\u3082\u3046\u5c11\u3057\u5927\u304d\u3081\u306b\u3057\u305f\u65b9\u304c\u826f\u3044\u3060\u308d\u3046\u3002\n\n## eZ Platform\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n#### Composer\u7d4c\u7531\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n```bash\nyum -y install git;\ncd /var/www/html;\ncurl -sS https://getcomposer.org/installer | php;\nphp -d memory_limit=-1 composer.phar create-project --no-dev ezsystems/ezplatform /var/www/html;\n```\n##### GitHub OAuth token \u304c\u8981\u6c42\u3055\u308c\u308b\u5834\u5408\n```\n  - Installing symfony/assetic-bundle (v2.7.0)\n    Downloading: Connecting...\nCould not fetch https://api.github.com/repos/symfony/AsseticBundle/zipball/3ae5c8ca3079b6e0033cc9fbfb6500e2bc964da5, please create a GitHub OAuth token to go over the API rate limit\nHead to https://github.com/settings/tokens/new?scopes=repo&description=Composer+on+localhost.localdomain+2015-10-05+0000\nto retrieve a token. It will be stored in \"/root/.composer/auth.json\" for future use by Composer.\nToken (hidden):\n```\n\u9014\u4e2d\u3067\u4e0a\u8a18\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u3066\u4e2d\u65ad\u3055\u308c\u305f\u5834\u5408\u3001\u81ea\u8eab\u306eGitHub\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u6307\u5b9a\u306eURL\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001personal access token \u3092\u4f5c\u6210\u3057\u3001\u751f\u6210\u3055\u308c\u305f\u82f1\u6570\u5b5740\u6841\u306etoken\u3092 `Token (hidden):` \u306e\u5f8c\u306b\u5165\u529b\u3059\u308b\u3002\u76f4\u5f8c\u306b `Token stored successfully.` \u3068\u8868\u793a\u3055\u308c\u308c\u3070\u6210\u529f\u3002\n\n- https://github.com/settings/tokens/new?scopes=repo&description=Composer+on+localhost.localdomain+2015-10-05+0000\n\n![New personal access token.png](https://qiita-image-store.s3.amazonaws.com/0/15175/721fb5e3-283d-648b-f7ff-de13289755e3.png)\n![Personal Access Tokens.png](https://qiita-image-store.s3.amazonaws.com/0/15175/08ab0517-d89b-5a6e-e015-d5f26b415d7c.png)\n\n```\nCreating the \"ezpublish/config/parameters.yml\" file\nSome parameters are missing. Please provide them.\nsecret (ThisTokenIsNotSoSecretChangeIt):\nlocale_fallback (en):\nmailer_transport (smtp):\nmailer_host (127.0.0.1):\nmailer_user (null):\nmailer_password (null):\ndatabase_driver (pdo_mysql):\ndatabase_host (localhost):\ndatabase_port (null):\ndatabase_name (ezplatform):\ndatabase_user (root): ezplatform\ndatabase_password (null): password\nsearch_engine (legacy):\nsolr_dsn ('http://localhost:8983/solr'):\n```\n`secret (ThisTokenIsNotSoSecretChangeIt):` \u306f\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u306a\u3069\u3067\u30e9\u30f3\u30c0\u30e0\u306a40\u6841\u306e\u6587\u5b57\u5217\u3092\u751f\u6210\u3057\u3066\u5165\u529b\u3059\u308b\u3002\n- http://nux.net/secret\n\n```\nWhich environment would you like to dump production assets for? (Default: 'prod', type 'none' to skip)\n```\n\u7a7a\u3067\u30a8\u30f3\u30bf\u30fc\u3092\u62bc\u3059\u3068 `Dumping all prod assets. Debug mode is off.` \u3068\u8868\u793a\u3055\u308c\u30c7\u30d0\u30c3\u30b0\u30e2\u30fc\u30c9\u306f\u30aa\u30d5\u306b\u306a\u308b\u3002\n\n```bash\nphp ezpublish/console ezplatform:install --env prod demo\n```\n\n#### \u5727\u7e2e\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u5c55\u958b\n```bash\nyum -y install wget;\nwget http://share.ez.no/content/download/170227/1012040/version/1/file/ezplatform-dist-2015.09.1.tar.gz;\ntar vzxf ezplatform-dist-2015.09.1.tar.gz -C /var/www/html --strip=1;\nchown apache:apache -R /var/www/html/*;\ncd /var/www/html;\ncurl -sS https://getcomposer.org/installer | php;\nphp -d memory_limit=-1 composer.phar run-script post-install-cmd;\n```\n\u6b21\u306eURL\u304b\u3089\u6700\u65b0\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9URL\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n- http://share.ez.no/downloads/downloads/\n\n### VirtualHost\u306e\u8a2d\u5b9a\n```bash\ncp -a /var/www/html/doc/apache2/vhost.template /etc/httpd/conf.d/ezpublish.conf;\nsed -i /etc/httpd/conf.d/ezpublish.conf \\\n-e 's/%IP_ADDRESS%:%PORT%>/*:80>/' \\\n-e 's/ServerName %HOST%/ServerName www.example.com/' \\\n-e 's/ServerAlias %HOST_ALIAS%/ServerAlias localhost/' \\\n-e 's/%BASEDIR%\\/web/\\/var\\/www\\/html\\/web/' \\\n-e 's/=%ENV%/=dev/';\nhttpd -t;\nsystemctl restart httpd;\n```\n\n### \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\n```bash\nchown -R apache:apache ezpublish/{cache,logs,config,sessions} web;\nfind {ezpublish/{cache,logs,config,sessions},web} -type d | xargs sudo chmod -R 775;\nfind {ezpublish/{cache,logs,config},web} -type f | xargs sudo chmod -R 664;\nsetenforce 0;\nsed -i \"s/\\(^SELINUX=\\).*/\\1disabled/\" /etc/selinux/config;\n```\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash\nphp -d memory_limit=-1 ezpublish/console ezplatform:install --env prod demo;\nphp ezpublish/console cache:clear\n```\n\n\u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u306f\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u518d\u5ea6\u5b9f\u884c\u3057\u3066\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u30af\u30ea\u30a2\u3059\u308b\u3068\u6539\u5584\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\n### \u7ba1\u7406\u753b\u9762(eZ Platform)\u3078\u30ed\u30b0\u30a4\u30f3\u3059\u308b\n- http://192.168.56.0.101/ez\n\n\u521d\u671f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u306f `admin` \u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306f `publish` \u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3002\n", "tags": ["CentOS7.1.1503", "eZPublish6", "eZPlatform15.09"]}