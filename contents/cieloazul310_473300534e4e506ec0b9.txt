{"context": "\u666e\u6bb5GIS\u3084Photoshop\u3092\u4f7f\u3063\u3066\u3044\u308b\u65b9\u306a\u3089WEB\u5730\u56f3\u306e\u30ec\u30a4\u30e4\u30fc\u3082\u4e57\u7b97\u3067\u5408\u6210\u3057\u305f\u304f\u306a\u308a\u307e\u3059\u3088\u306d\uff1f\nOpenLayers3\u3067\u306f\u3001canvas\u306eglobalCompositeOperation\u5c5e\u6027\u3092\u4f7f\u3063\u3066\u7c21\u5358\u306b\u4e57\u7b97\u5408\u6210\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\uff08\u5730\u7406\u9662\u5730\u56f3+\u8272\u5225\u6a19\u9ad8\u56f3\uff09\n\u30c7\u30e2\u30da\u30fc\u30b8\n\nhtml\n<div id=\"map\" class=\"map\"></div>\n\n\nJavaScript\n//\u8272\u5225\u6a19\u9ad8\u56f3\u306e\u30ec\u30a4\u30e4\u30fc\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\nvar relief = new ol.layer.Tile({\n            source: new ol.source.XYZ({\n                url: \"http://cyberjapandata.gsi.go.jp/xyz/relief/{z}/{x}/{y}.png\",\n                attributions: [\n                    new ol.Attribution({html: \"<a href='http://maps.gsi.go.jp/development/ichiran.html' target='_blank'>\u56fd\u571f\u5730\u7406\u9662</a>\"})\n                    ],\n                minZoom:5,\n                maxZoom:15\n                }),\n            title: \"\u8272\u5225\u6a19\u9ad8\u56f3\",\n            visible: true\n        });\n\n//\u5730\u7406\u9662\u5730\u56f3\u306e\u30ec\u30a4\u30e4\u30fc\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\nvar cjstd = new ol.layer.Tile({\n            source: new ol.source.XYZ({\n                url: \"http://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png\",\n                attributions: [\n                    new ol.Attribution({html: \"<a href='http://maps.gsi.go.jp/development/ichiran.html' target='_blank'>\u56fd\u571f\u5730\u7406\u9662</a>\"})\n                    ],\n                minZoom:5,\n                maxZoom:18\n                }),\n            title: \"\u5730\u7406\u9662\u5730\u56f3\",\n            visible: true\n        });\n\ncjstd.on(\"precompose\", function(evt){\n    evt.context.globalCompositeOperation = 'multiply';\n});\ncjstd.on(\"postcompose\", function(evt){\n    evt.context.globalCompositeOperation = \"source-over\";\n});\n\nvar map = new ol.Map({\n        target: \"map\",\n        view: new ol.View({\n                center: ol.proj.fromLonLat([140.4599, 36.3696]),\n                zoom: 14\n            }),\n        layers: [relief,cjstd]\n    });\n\nOpenLayers3\u3067\u5730\u56f3\u3092\u8868\u793a\u3059\u308b\u4e00\u822c\u7684\u306a\u30b3\u30fc\u30c9\u306b\u3001\ncjstd.on(\"precompose\", function(evt){\n    evt.context.globalCompositeOperation = 'multiply';\n});\ncjstd.on(\"postcompose\", function(evt){\n    evt.context.globalCompositeOperation = \"source-over\";\n});\n\n\u3092\u4ed8\u3051\u8db3\u3059\u3060\u3051\u3067\u3001\u4e57\u7b97\u5408\u6210\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u53c2\u8003\n\nol.render.Event (OpenLayers API Doc)\nBlend Modes(OpenLayers Examples)\nglobalCompositeOperation(MOZILLA)\n\n\u666e\u6bb5GIS\u3084Photoshop\u3092\u4f7f\u3063\u3066\u3044\u308b\u65b9\u306a\u3089WEB\u5730\u56f3\u306e\u30ec\u30a4\u30e4\u30fc\u3082\u4e57\u7b97\u3067\u5408\u6210\u3057\u305f\u304f\u306a\u308a\u307e\u3059\u3088\u306d\uff1f\nOpenLayers3\u3067\u306f\u3001canvas\u306e```globalCompositeOperation```\u5c5e\u6027\u3092\u4f7f\u3063\u3066\u7c21\u5358\u306b\u4e57\u7b97\u5408\u6210\u304c\u3067\u304d\u307e\u3059\u3002\n\n### \u30b5\u30f3\u30d7\u30eb\uff08\u5730\u7406\u9662\u5730\u56f3+\u8272\u5225\u6a19\u9ad8\u56f3\uff09\n[\u30c7\u30e2\u30da\u30fc\u30b8](http://map310.com/demo/multiply.html)\n\n#### html\n```html\n<div id=\"map\" class=\"map\"></div>\n```\n\n#### JavaScript\n```JavaScript\n//\u8272\u5225\u6a19\u9ad8\u56f3\u306e\u30ec\u30a4\u30e4\u30fc\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\nvar relief = new ol.layer.Tile({\n\t\t\tsource: new ol.source.XYZ({\n\t\t\t\turl: \"http://cyberjapandata.gsi.go.jp/xyz/relief/{z}/{x}/{y}.png\",\n\t\t\t\tattributions: [\n\t\t\t\t\tnew ol.Attribution({html: \"<a href='http://maps.gsi.go.jp/development/ichiran.html' target='_blank'>\u56fd\u571f\u5730\u7406\u9662</a>\"})\n\t\t\t\t\t],\n\t\t\t\tminZoom:5,\n\t\t\t\tmaxZoom:15\n\t\t\t\t}),\n\t\t\ttitle: \"\u8272\u5225\u6a19\u9ad8\u56f3\",\n\t\t\tvisible: true\n\t\t});\n\n//\u5730\u7406\u9662\u5730\u56f3\u306e\u30ec\u30a4\u30e4\u30fc\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\nvar cjstd = new ol.layer.Tile({\n\t\t\tsource: new ol.source.XYZ({\n\t\t\t\turl: \"http://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png\",\n\t\t\t\tattributions: [\n\t\t\t\t\tnew ol.Attribution({html: \"<a href='http://maps.gsi.go.jp/development/ichiran.html' target='_blank'>\u56fd\u571f\u5730\u7406\u9662</a>\"})\n\t\t\t\t\t],\n\t\t\t\tminZoom:5,\n\t\t\t\tmaxZoom:18\n\t\t\t\t}),\n\t\t\ttitle: \"\u5730\u7406\u9662\u5730\u56f3\",\n\t\t\tvisible: true\n\t\t});\n\ncjstd.on(\"precompose\", function(evt){\n\tevt.context.globalCompositeOperation = 'multiply';\n});\ncjstd.on(\"postcompose\", function(evt){\n\tevt.context.globalCompositeOperation = \"source-over\";\n});\n\nvar map = new ol.Map({\n\t\ttarget: \"map\",\n\t\tview: new ol.View({\n\t\t\t\tcenter: ol.proj.fromLonLat([140.4599, 36.3696]),\n\t\t\t\tzoom: 14\n\t\t\t}),\n\t\tlayers: [relief,cjstd]\n\t});\n```\n\nOpenLayers3\u3067\u5730\u56f3\u3092\u8868\u793a\u3059\u308b\u4e00\u822c\u7684\u306a\u30b3\u30fc\u30c9\u306b\u3001\n\n```JavaScript\ncjstd.on(\"precompose\", function(evt){\n\tevt.context.globalCompositeOperation = 'multiply';\n});\ncjstd.on(\"postcompose\", function(evt){\n\tevt.context.globalCompositeOperation = \"source-over\";\n});\n```\n\n\u3092\u4ed8\u3051\u8db3\u3059\u3060\u3051\u3067\u3001\u4e57\u7b97\u5408\u6210\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n### \u53c2\u8003\n\n- [ol.render.Event (OpenLayers API Doc)](http://openlayers.org/en/latest/apidoc/ol.render.Event.html#event:precompose)\n- [Blend Modes(OpenLayers Examples)](http://openlayers.org/en/latest/examples/blend-modes.html)\n- [globalCompositeOperation(MOZILLA)](https://developer.mozilla.org/ja/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation)\n", "tags": ["Openlayers", "\u5730\u56f3", "JavaScript"]}