{"context": " More than 1 year has passed since last update.\n\n\u6210\u7e3e\nPOH\u7b2c2\u5f3e\u306f\u5e73\u9762\u4e0a\u306e\u9577\u65b9\u5f62\u9818\u57df\u306e\u63a2\u7d22\u3067\u3059\u3002\u80cc\u666f\u3084\u8ab2\u984c\u306e\u8a73\u7d30\u306f\nhttps://paiza.jp/poh/paizen\n\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002#paizahack_02\n\u6700\u5f8c\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u30670.02\u79d2\u306e\u58c1\u304c\u306a\u304b\u306a\u304b\u7834\u308c\u305a\u82e6\u6226\u3057\u307e\u3057\u305f\u304c\u3001\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u4e0a\u306e\u3061\u3087\u3063\u3068\u3057\u305f\u30d6\u30ec\u30fc\u30af\u30b9\u30eb\u30fc\u306b\u3088\u308a0.01\u79d2\u9054\u6210\u3002\nhttp://paiza.jp/poh/paizen/result/8bd4048d0f2d21fb9512df541404b45b\n\n\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306e\u4f5c\u6210\n\u524d\u56de\u306e\u7d4c\u9a13\u304b\u3089\u3001\u6700\u5927\u898f\u6a21(H=W=300,N=HWH=W=300,N=HWH=W=300, N=HW)\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u6027\u683c\u306e\u7570\u306a\u308b\u6b21\u306e6\u7a2e\u985e\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\u6700\u521d\u304b\u3089\u5148\u3092\u898b\u8d8a\u3057\u3066\u5168\u90e8\u7528\u610f\u3057\u305f\u306e\u3067\u306f\u306a\u304f\u3001C\u4ee5\u964d\u306f\u5f8c\u304b\u3089\u4f5c\u308a\u307e\u3057\u305f\u3002\nA. \u9ad8\u30551\u3067\u5e45\u304c\u30e9\u30f3\u30c0\u30e0\u306a0\u30681\u3092\u4ea4\u4e92\u306b\u914d\u7f6e\nB. \u30e9\u30f3\u30c0\u30e0\u306a\u30b5\u30a4\u30ba\u306e0\u306e\u9577\u65b9\u5f62\u3092\u3044\u304f\u3064\u3082\u30e9\u30f3\u30c0\u30e0\u306b\u914d\u7f6e\nC. \u9ad8\u30551\u306e\u6a2a\u30b9\u30c8\u30e9\u30a4\u30d7150\u672c\nD. \u5e451\u306e\u7e26\u30b9\u30c8\u30e9\u30a4\u30d7150\u672c\nE. \u683c\u5b50\uff08C\u3068D\u306e\u8ad6\u7406\u7a4d\uff09\nF. \u3059\u3079\u30660\n\n\u521d\u671f\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\n\u3068\u308a\u3042\u3048\u305a\u5404\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306e\u6b63\u89e3\u51fa\u529b\u3092\u7528\u610f\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u611a\u76f4\u306a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3068\u306f\u3044\u3048\u3001\u4e0e\u3048\u3089\u308c\u305f\u9577\u65b9\u5f62\u30b5\u30a4\u30ba\u3054\u3068\u306b\u3001\u753b\u9762\u5185\u306e\u7a7a\u304d\u9818\u57df\u3092\u5168\u63a2\u7d22\u3057\u3066\u3044\u305f\u306e\u3067\u306f\u3001\u5168\u4f53\u3068\u3057\u3066\u8a08\u7b97\u91cf\u306fO(H3W3)O(H3W3)O(H^3W^3)\u3068\u306a\u308a\u3001\u305f\u3076\u3093\u7d42\u308f\u308b\u306e\u3092\u5f85\u3063\u3066\u3044\u3089\u308c\u306a\u3044\u306e\u3067\u3001\u5c11\u3057\u3060\u3051\u5de5\u592b\u3057\u307e\u3057\u305f\u3002\n\u5165\u529b\u6642\u70b9\u3067\u3001\u5404\u7b87\u6240\u304b\u3089\u4e0a\u65b9\u5411\u306b\u4f55\u500b\u9023\u7d9a\u3057\u3066\u9699\u9593\u304c\u3042\u308b\u304b\u3092\u8abf\u3079\u3066\u305d\u306e\u5ea7\u6a19\u306b\u4fdd\u5b58\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u7d9a\u3044\u3066\u3001\u5404\u9577\u65b9\u5f62\u30b5\u30a4\u30ba\u306b\u3064\u3044\u3066\u3001\u9ad8\u3055T\u306e\u9699\u9593\u304c\u9023\u7d9a\u3057\u3066S\u500b\u4ee5\u4e0a\u6a2a\u306b\u4e26\u3093\u3067\u3044\u308b\u56de\u6570\u3092\u5404\u884c\u3067\u30ab\u30a6\u30f3\u30c8\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\u8a08\u7b97\u91cf\u306fO(H2W2)O(H2W2)O(H^2W^2)\u3067\u3059\u3002\n\nT\u3068S\u306e\u8a18\u53f7\u306e\u610f\u5473\u3092\u3001\u554f\u984c\u6587\u3068\u9006\u306b\u4f7f\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\nX,Y\u3068\u540c\u3058\u9806\u5e8f\u3067S,T\u3068\u4f7f\u3046\u3082\u306e\u3068\u6c7a\u3081\u3064\u3051\u3066\u3044\u305f\u3082\u306e\u3067\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u4ee5\u4e0b\u3001\u305d\u306e\u3064\u3082\u308a\u3067\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u307e\u305f\u3001\u3053\u308c\u3082\u524d\u56de\u306e\u7d4c\u9a13\u304b\u3089\u3067\u3059\u304c\u3001\u5165\u529b\u51e6\u7406\u3067\u306f\u3069\u3046\u305bscanf()\u306f\u4f7f\u3044\u3082\u306e\u306b\u306a\u3089\u306a\u3044\u306e\u3067\u3001fread()\u3060\u3051\u3057\u3066\u3001\u7a7a\u767d\u3084\u6539\u884c\u3082\u6c7a\u3081\u6253\u3061\u3057\u3001\u89e3\u6790\u306f\u3059\u3079\u3066\u624b\u4f5c\u696d\u3067\u884c\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002strtol()\u3059\u3089\u3082\u547c\u3073\u307e\u305b\u3093\u3002\n\u5b9f\u884c\u6642\u9593\u306f\u3001\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306b\u3088\u308a\u5dee\u304c\u3042\u308a\u3001\u624b\u5143\u306e\u30de\u30b7\u30f3\u3067\uff08\u4ee5\u4e0b\u540c\u69d8\uff093.9\u301c6.0\u79d2\u3002\u6700\u521d\u3068\u3057\u3066\u306f\u307e\u305a\u307e\u305a\u3067\u3059\u304c\u3001\u3053\u308c\u3067\u306fpaiza\u306b\u63d0\u51fa\u3057\u3066\u3082\u6642\u9593\u5185\u306e\u901a\u904e\u306f\u7121\u7406\u3067\u3057\u3087\u3046\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u6bb5\u968e\u3067\u5236\u9650\u6642\u95933\u79d2\u304c\u76ee\u524d\u3068\u306a\u308b\u3068\u3001\u554f\u984c\u898f\u6a21\u304c\u3061\u3087\u3063\u3068\u5c0f\u3055\u3059\u304e\u308b\u3088\u3046\u306a\u6c17\u304c\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306b\u809d\u90e8\u5206\u306e\u30b3\u30fc\u30c9\u3092\u793a\u3057\u307e\u3059\u3002\u5b9a\u6570\u3084\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u5909\u6570\u306f\u6700\u7d42\u7248\u3068\u540c\u3058\u3067\u3059\u3002t, s\u306f\u9577\u65b9\u5f62\u30b5\u30a4\u30ba\u3001y, x\u306f\u5ea7\u6a19\u3067\u3059\u3002\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u308f\u304b\u308a\u3084\u3059\u3044\u3088\u3046\u306b1\u30aa\u30ea\u30b8\u30f3\u3067\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306b\u306f\u756a\u5175\u3092\u7f6e\u304d\u3084\u3059\u3044\u3068\u3044\u3046\u52b9\u679c\u3082\u3042\u308a\u307e\u3059\u3002\nvoid\ncountcandidates(void) {\n  int y, x, t, s;\n  int count;\n  int ncontinuouscols;\n  for (t = 1; t <= MAX_T; t++) {\n    for (s = 1; s <= MAX_S; s++) {\n      count = 0;\n      for (y = t; y <= H; y++) {\n        ncontinuouscols = 0;\n        for (x = 1; x <= W; x++) {\n          if (nzerosabove[y][x] >= t) {\n            ncontinuouscols++;\n          } else {\n            ncontinuouscols = 0;\n          }\n          if (ncontinuouscols >= s) count++;\n        }\n      }\n      counts[t][s] = count;\n    }\n  }\n}\n\n\n\u51fa\u529b\u51e6\u7406\u306e\u6539\u5584\n\u5b9f\u969b\u306f\u3082\u3063\u3068\u5f8c\u306e\u6bb5\u968e\u3067\u5b9f\u65bd\u3057\u305f\u3053\u3068\u3067\u3059\u304c\u3001\u5404\u51e6\u7406\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30ea\u30f3\u30b0\u3092\u3059\u308b\u3068\u300190000\u4ef6\u3092printf()\u3059\u308b\u51fa\u529b\u51e6\u7406\u3060\u3051\u30670.02\u79d2\u304b\u304b\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\u5f8c\u3005\u30010.01\u79d2\u306e\u653b\u9632\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3067\u3001\u5165\u529b\u3068\u540c\u69d8\u306b\u624b\u4f5c\u696d\u3067\u51fa\u529b\u30d0\u30c3\u30d5\u30a1\u3092\u5b8c\u5168\u306b\u4f5c\u6210\u3057\u3001fwrite() 1\u56de\u3067\u51fa\u529b\u3057\u3066\u3057\u307e\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\u6b21\u56de\u304b\u3089\u306f\u3001\u6700\u521d\u304b\u3089\u3001\u5165\u529b\u3082\u51fa\u529b\u3082\u4eca\u56de\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u3044\u56de\u3059\u3064\u3082\u308a\u3067\u3059\u3002\n\n\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u6539\u5584\n\n\u30ab\u30a6\u30f3\u30c8\u5bfe\u8c61\u306e\u9577\u65b9\u5f62\u5e45\u3092\u9818\u57df\u30b5\u30a4\u30ba\u3067\u9650\u5b9a\n\u9577\u65b9\u5f62\u306e\u30b5\u30a4\u30ba\u3092\u6c7a\u3081\u3066\u304b\u3089\u3001\u305d\u308c\u304c\u4f55\u7b87\u6240\u306b\u5165\u308b\u304b\u3092\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u3066\u306f\u3001\u30eb\u30fc\u30d7\u56de\u6570\u3092\u6e1b\u3089\u305b\u308b\u6c17\u914d\u304c\u3042\u308a\u307e\u305b\u3093\u3002\n\u9ad8\u3055T\u306e\u9577\u65b9\u5f62\u3092\u8003\u3048\u305f\u3068\u304d\u3001\u3042\u308b\u7b87\u6240\u304b\u3089\u5de6\u306b\u9ad8\u3055T\u4ee5\u4e0a\u306e\u9699\u9593\u304cS\u500b\u4e26\u3093\u3067\u3044\u308b\u306a\u3089\u3001\u305d\u306e\u7b87\u6240\u306b\u306f\u5e451\u304b\u3089S\u307e\u3067\u306e\u9577\u65b9\u5f62\u3060\u3051\u304c\u914d\u7f6e\u3067\u304d\u307e\u3059\u3002S\u3088\u308a\u5927\u304d\u3044\u9577\u65b9\u5f62\u306f\u8003\u616e\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u308f\u3051\u3067\u3059\u3002T\u304c\u5c0f\u3055\u3051\u308c\u3070S\u306f\u5927\u304d\u3044\u3053\u3068\u3082\u3042\u308b\u3067\u3057\u3087\u3046\u304c\u3001T\u304c\u5927\u304d\u3044\u3068\u304d\u306fS\u306f\u307b\u307c0\u3067\u3042\u308b\u3053\u3068\u304c\u671f\u5f85\u3055\u308c\u307e\u3059\u3002\n\u6700\u60aa\u8a08\u7b97\u91cf\u306e\u30aa\u30fc\u30c0\u30fc\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u304c\u3001\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9F\u306e\u5834\u5408\u3067\u3082\u3001\u3059\u3079\u3066\u306e\u7b87\u6240\u3067\u3059\u3079\u3066\u306e\u9577\u65b9\u5f62\u306e\u5e45\u3092\u8abf\u3079\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u30eb\u30fc\u30d7\u56de\u6570\u304c\u534a\u6e1b\u3057\u307e\u3059\u3002\n\u7d50\u679c\u30010.02\u79d2\u304b\u30890.03\u79d2\u3001\u5927\u304d\u306a\u9699\u9593\u306e\u3042\u308b\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9B\u304c0.11\u79d2\u3001\u6700\u60aa\u30b1\u30fc\u30b9\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9F\u3067\u306f2.15\u79d2\u3067\u3057\u305f\u3002\u3053\u308c\u306a\u3089\u63d0\u51fa\u3059\u308c\u3070100\u70b9\u53d6\u308c\u308b\u30ec\u30d9\u30eb\u3067\u3057\u3087\u3046\u3002\n\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002\nvoid\ncountcandidates(void) {\n  int y, x, t, s;\n  int ncontinuouscols;\n  for (t = 1; t <= MAX_T; t++) {\n    for (y = t; y <= H; y++) {\n      ncontinuouscols = 0;\n      for (x = 1; x <= W; x++) {\n        if (nzerosabove[y][x] >= t) {\n          ncontinuouscols++;\n          for (s = 1; s <= ncontinuouscols; s++) {\n            counts[t][s]++;\n          }\n        } else {\n          ncontinuouscols = 0;\n        }\n      }\n    }\n  }\n}\n\n\n\u914d\u7f6e\u53ef\u80fd\u6700\u5927\u5e45\u304c\u78ba\u5b9a\u3059\u308b\u307e\u3067\u30ab\u30a6\u30f3\u30c8\u3092\u5ef6\u671f\n\u9ad8\u3055T\u4ee5\u4e0a\u306e\u9699\u9593\u304c\u5e45S\u3060\u3051\u7d9a\u304d\u305d\u308c\u4ee5\u4e0a\u306e\u5e45\u306b\u3067\u304d\u306a\u3044\u3068\u304d\u3001\u305d\u306e\u9699\u9593\u9818\u57df\u306b\u306f\u3001\u9ad8\u3055T\u5e45S\u306e\u9577\u65b9\u5f62\u306f1\u7b87\u6240\u3001\u5e45S-1\u306e\u9577\u65b9\u5f62\u306f2\u7b87\u6240\u3001\u2026\u3001\u5e451\u306e\u9577\u65b9\u5f62\u306fS\u7b87\u6240\u306b\u914d\u7f6e\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u3053\u3068\u304b\u3089\u3001\u9ad8\u3055T\u4ee5\u4e0a\u306e\u9699\u9593\u304c\u7d9a\u304b\u306a\u3044\u3053\u3068\u304c\u78ba\u5b9a\u3057\u305f\u5f8c\u3001\u3053\u308c\u3089\u306e\u914d\u7f6e\u7b87\u6240\u6570\u3092\u52a0\u7b97\u3057\u3066\u3044\u3051\u3070\u30011\u305a\u3064\u3061\u307e\u3061\u307e\u30ab\u30a6\u30f3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3088\u308a\u56de\u6570\u304c\u6e1b\u308a\u307e\u3059\u3002\n\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u898b\u304b\u3051\u4e0a\u3001for\u30eb\u30fc\u30d7\u304c4\u91cd\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u6700\u6df1\u90e8\u306e\u30eb\u30fc\u30d7\u306fx\u304c1\u304b\u3089W+1\u307e\u3067\u5909\u5316\u3059\u308b\u9593\u306b\u3001\u6700\u5927\u3067\u5408\u8a08W\u56de\u3057\u304b\u56de\u3089\u306a\u3044\u306e\u3067\u3001\u8a08\u7b97\u91cf\u306e\u30aa\u30fc\u30c0\u30fc\u306fO(H2W)O(H2W)O(H^2W)\u3068\u306a\u308a\u307e\u3059\u3002\u5b9f\u884c\u6642\u9593\u306f\u3001\u3069\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u30820.02\u301c0.03\u79d2\u3068\u306a\u308a\u307e\u3057\u305f\u3002\nvoid\ncountcandidates(void) {\n  int y, x, t, s;\n  int delta;\n  int ncontinuouscols;\n  for (t = 1; t <= MAX_T; t++) {\n    for (y = t; y <= H; y++) {\n      ncontinuouscols = 0;\n      for (x = 1; x <= W+1; x++) {\n        if (nzerosabove[y][x] >= t) { // use sentinel nzerosabove[y][W+1]==0\n          ncontinuouscols++;\n        } else {\n          delta = 1;\n          for (s = ncontinuouscols; s > 0; s--) {\n            counts[t][s] += delta;\n            delta++;\n          }\n          ncontinuouscols = 0;\n        }\n      }\n    }\n  }\n}\n\n\u3053\u3053\u307e\u3067\u306f\u308f\u308a\u3068\u3059\u3050\u306b\u5230\u9054\u3057\u305f\u306e\u3067\u3059\u304c\u3001\u3053\u3053\u304b\u3089\u5148\u306b\u624b\u9593\u53d6\u308a\u307e\u3057\u305f\u3002\n\n\u30d9\u30af\u30c8\u30eb\u52a0\u7b97\u554f\u984c\u3078\u306e\u8ee2\u63db\n\u30eb\u30fc\u30d7\u30ab\u30a6\u30f3\u30bf\u3092\u9006\u306b\u56de\u3057\u30660\u3068\u6bd4\u8f03\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u308a\u3001\u756a\u5175\u7684\u306a\u3082\u306e\u3092\u7f6e\u3044\u305f\u308a\u3001\u624b\u52d5\u3067\u30eb\u30fc\u30d7\u30a2\u30f3\u30ed\u30fc\u30ea\u30f3\u30b0\u3057\u3066\u307f\u305f\u308a\u3068\u3001\u69d8\u3005\u306a\u5c0f\u624b\u5148\u6280\u3092\u99c6\u4f7f\u3057\u3066\u3082\u3044\u3063\u3053\u3046\u306b\u6539\u5584\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u4e00\u3064\u5149\u660e\u304c\u898b\u3048\u305f\u306e\u304c\u3001\u4e0a\u306e\u30b3\u30fc\u30c9\u306e\u672c\u8cea\u304c\u4e09\u89d2\u5f62\u3092\u3044\u304f\u3064\u3082\u52a0\u7b97\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6c17\u4ed8\u3044\u305f\u3068\u304d\u3067\u3057\u305f\u3002\n\u3064\u307e\u308a\u3001\u9ad8\u3055t\u306e\u9577\u65b9\u5f62\u306b\u3064\u3044\u3066\u3001\u9ad8\u3055t\u4ee5\u4e0a\u6700\u5927\u5e453\u306e\u9699\u9593\u9818\u57df\u304c\u4e00\u3064\u3042\u308c\u3070\u3001[3 2 1 0 0...] \u3068\u3044\u3046\u4e09\u89d2\u5f62\u72b6\u306e\u30d9\u30af\u30c8\u30eb\u3092count[t]\u306b\u52a0\u7b97\u3057\u3066\u3044\u307e\u3059\u3002\u6700\u5927\u5e452\u306e\u9699\u9593\u9818\u57df\u304c\u4e00\u3064\u3042\u308c\u3070\u3001[2 1 0 0 0..] \u3092\u52a0\u7b97\u3057\u307e\u3059\u3002\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u9ad8\u3055T\u4ee5\u4e0a\u3067\u6700\u5927\u5e45S\u306e\u9699\u9593\u9818\u57df\u304c\u4f55\u500b\u3042\u308b\u304b\u3060\u3051\u3042\u3089\u304b\u3058\u3081\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u304a\u3044\u3066\u3001\u5f8c\u304b\u3089\u3053\u308c\u3089\u306e\u4e09\u89d2\u5f62\u72b6\u306e\u30d9\u30af\u30c8\u30eb\u3092\u518d\u73fe\u3057\u3066\u8db3\u3057\u3066\u3044\u304f\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u8a08\u7b97\u91cf\u306e\u30aa\u30fc\u30c0\u30fc\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u6700\u6df1\u90e8\u306e\u30eb\u30fc\u30d7\u3092\u8ffd\u3044\u51fa\u305b\u308c\u3070\u4f55\u304b\u3067\u304d\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3001\u3042\u308f\u3088\u304f\u3070\u5b9f\u884c\u6642\u9593\u534a\u6e1b\u3082\u3042\u308a\u3046\u308b\u3068\u671f\u5f85\u3057\u3066\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u304c\u305d\u306e\u30b3\u30fc\u30c9\u3067\u3059\u3002\u3053\u306e\u30ab\u30a6\u30f3\u30c8\u3092\u5165\u308c\u308b\u914d\u5217\u306f\u5225\u9014\u7528\u610f\u3057\u305f\u65b9\u304c\u30ea\u30fc\u30c0\u30d6\u30eb\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u52b9\u679c\u306a\u3069\u3092\u8003\u3048\u3066\u7d50\u679c\u3092\u5165\u308c\u308b\u914d\u5217\u3092\u305d\u306e\u307e\u307e\u4f7f\u3044\u307e\u3057\u305f\u3002\u5b9f\u884c\u6642\u9593\u306f\u5185\u90e8\u30eb\u30fc\u30d7\u304c\u306a\u304f\u306a\u308a\u3001\u5019\u88dc\u7b87\u6240\u306e\u30ab\u30a6\u30f3\u30c8\u3082\u9577\u65b9\u5f62\u30b5\u30a4\u30ba\u3054\u3068\u306b1\u56de\u3057\u304b\u884c\u308f\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u591a\u5c11\u6e1b\u308a\u3001\u3069\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u30820.02\u79d2\u3067\u5b9f\u884c\u3067\u304d\u307e\u3057\u305f\u3002\nvoid\ncountcandidates(void) {\n  int y, x, t, s;\n  int delta;\n  int ncontinuouscols;\n  for (t = 1; t <= MAX_T; t++) {\n    for (y = t; y <= H; y++) {\n      ncontinuouscols = 0;\n      for (x = 1; x <= W+1; x++) {\n        if (nzerosabove[y][x] >= t) { // use sentinel nzerosabove[y][W+1]==0\n          ncontinuouscols++;\n        } else {\n          if (ncontinuouscols > 0) {\n            counts[t][ncontinuouscols]++;\n            ncontinuouscols = 0;\n          }\n        }\n      }\n    }\n    delta = 0;\n    for (s = W; s > 0; s--) { // must be \"downto\"\n      delta += counts[t][s];\n      counts[t][s] = counts[t][s+1] + delta; // use sentinel counts[t][W+1]==0\n    }\n  }\n}\n\n\n\u30d6\u30ec\u30fc\u30af\u30b9\u30eb\u30fc\u76f4\u524d\n\u3053\u3053\u304b\u3089\u306f\u5b8c\u5168\u306b\u624b\u8a70\u307e\u308a\u3067\u3069\u3046\u3057\u3088\u3046\u3082\u306a\u304f\u306a\u308a\u3001\u306a\u304b\u3070\u3084\u3051\u304e\u307f\u306b\u3001\u30eb\u30fc\u30d7\u306e\u624b\u9806\u3092\u5165\u308c\u66ff\u3048\u305f\u308a\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u3064\u307e\u308a\u3001t\u306b\u3088\u308b\u30eb\u30fc\u30d7\u3092\u5185\u5074\u306b\u5165\u308c\u3066\u307f\u305f\u3060\u3051\u3067\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001\u3042\u308b\u9ad8\u3055T\u306e\u5217\u304c\u4f55\u56de\u9023\u7d9a\u3057\u305f\u304b\u3092\u8868\u3059\u30ab\u30a6\u30f3\u30bf\u304c\u3001T\u306e\u500b\u6570\u3060\u3051\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u914d\u5217\u30a2\u30af\u30bb\u30b9\u306e\u624b\u9593\u306e\u5206\u3060\u3051\u9045\u304f\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\u4ee5\u4e0b\u304c\u305d\u306e\u30b3\u30fc\u30c9\u3067\u3059\u304c\u3001\u30ab\u30a6\u30f3\u30bf\u3078\u306e\u30a2\u30af\u30bb\u30b9\u56de\u6570\u306e\u591a\u3044\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9D\u3068E\u30670.05\u79d2\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\nvoid\ncountcandidates(void) {\n  int y, x, t, s;\n  int delta;\n  int ncontinuouscols;\n  for (y = 1; y <= H; y++) {\n    for (x = 1; x <= W+1; x++) {\n      for (t = 1; t <= y; t++) {\n        if (nzerosabove[y][x] >= t) { // use sentinel nzerosabove[y][W+1]==0\n          runcounter[t]++;\n        } else {\n          if (runcounter[t] > 0) {\n            counts[t][runcounter[t]]++;\n            runcounter[t] = 0;\n          }\n        }\n      }\n    }\n  }\n  for (t = 1; t <= MAX_T; t++) {\n    delta = 0;\n    for (s = W; s > 0; s--) { // must be \"downto\"\n      delta += counts[t][s];\n      counts[t][s] = counts[t][s+1] + delta; // use sentinel counts[t][W+1]==0\n    }\n  }\n}\n\n\n\u6700\u7d42\u7248\n\u3068\u3053\u308d\u304c\u3053\u306e\u6539\u9020\u304c\u594f\u529f\u3057\u307e\u3059\u3002\n\u3059\u3079\u3066\u306eT\u306b\u3064\u3044\u3066\u6bce\u56de\u30ab\u30a6\u30f3\u30bf\u3092\u5897\u3084\u3059\u306e\u3067\u306f\u306a\u304f\u3001\u305d\u306e\u7b87\u6240\u306e\u9699\u9593\u306e\u9ad8\u3055T\u5206\u3060\u3051\u30ab\u30a6\u30f3\u30bf\u3092\u5897\u3084\u3059\u3053\u3068\u306b\u3057\u3001T\u304c\u76f4\u524d\u306e\u9699\u9593\u306e\u9ad8\u3055T'\u3088\u308a\u6e1b\u3063\u3066\u3057\u307e\u3063\u305f\u3068\u304d\u306f\u3001T'\u301cT-1\u307e\u3067\u306e\u9ad8\u3055\u306e\u9699\u9593\u9818\u57df\u304c\u305d\u3053\u3067\u7d42\u308f\u3063\u305f\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001\u305d\u306e\u7bc4\u56f2\u306e\u9ad8\u3055\u5206\u306e\u307f\u4e00\u6c17\u306b\u51e6\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u3082\u6700\u60aa\u8a08\u7b97\u91cf\u306e\u30aa\u30fc\u30c0\u30fc\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002\u9699\u9593\u9818\u57df\u306e\u9ad8\u3055\u304c\u983b\u7e41\u306b\u5897\u6e1b\u3057\u3001\u304b\u3064\u6e1b\u5c11\u6642\u306e\u5e45\u304c\u5927\u304d\u3044\u5834\u5408\u304c\u6700\u60aa\u3067\u3001\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9D\u3068E\u304c\u8a72\u5f53\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u73fe\u5b9f\u306b\u306f\u305d\u306e\u3088\u3046\u306a\u9699\u9593\u306e\u72b6\u6cc1\u306f\u307e\u305a\u306a\u3044\u3057\u3001paiza\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306b\u305d\u306e\u3088\u3046\u306a\u72b6\u6cc1\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u53ef\u80fd\u6027\u306f\u4f4e\u305d\u3046\u3067\u3059\u3002\u901a\u5e38\u306e\u72b6\u6cc1\u3067\u306fO(H2W)O(H2W)O(H^2W)\u306b\u5bfe\u3057\u3066\u304b\u306a\u308a\u5c0f\u3055\u3044\u5b9a\u6570\u500d\u306e\u8a08\u7b97\u91cf\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\u30b3\u30fc\u30c9\u306f\u6700\u5f8c\u306b\u307e\u3068\u3081\u3066\u793a\u3057\u307e\u3059\u3002\u5b9f\u884c\u6642\u9593\u306fD\u3068E\u3060\u30510.04\u79d2\u3001\u4ed6\u306f\u307f\u3054\u3068\u306b0.00\u79d2\u3068\u306a\u308a\u307e\u3057\u305f\u3002\uff08FreeBSD\u306e/usr/bin/time\u306f\u5c0f\u6570\u70b9\u4ee5\u4e0b\u3092 tv_usec/10000 \u3067\u8a08\u7b97\u3057\u3066\u3044\u308b\u306e\u30670.01\u672a\u6e80\u5207\u308a\u6368\u3066\uff09\n\u3053\u308c\u3092paiza\u306b\u63d0\u51fa\u3057\u305f\u3068\u3053\u308d\u3001\u5168\u30c6\u30b9\u30c8\u30b1\u30fc\u30b90.01\u79d2\u3068\u3044\u3046\u7d50\u679c\u304c\u51fa\u307e\u3057\u305f\u3002\n\n\u307e\u3068\u3081\n\u8ad6\u70b9\u304c\u307c\u3084\u3051\u308b\u306e\u3067\u66f8\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u5dee\u7570\u3084\u30012\u6b21\u5143\u914d\u5217\u306e\u69cb\u6210\u65b9\u6cd5\u306e\u5dee\u7570\u30012\u6b21\u5143\u914d\u5217\u30a2\u30af\u30bb\u30b9\u65b9\u5411\u306b\u3088\u308b\u30ad\u30e3\u30c3\u30b7\u30e5\u5bb9\u91cf\u3068\u9023\u60f3\u5ea6\u306e\u5f71\u97ff\u306e\u6709\u7121\u306a\u3069\u3001\u6280\u8853\u7684\u306b\u8208\u5473\u6df1\u3044\u691c\u8a0e\u304c\u3044\u308d\u3044\u308d\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u5927\u304d\u306a\u53ce\u7a6b\u3060\u3063\u305f\u3068\u601d\u3044\u307e\u3059\u3002\n\u7d50\u5c40\u306e\u3068\u3053\u308d\u3001\u8a08\u7b97\u91cf\u306e\u30aa\u30fc\u30c0\u30fc\u306fO(H2W)O(H2W)O(H^2W)\u304b\u3089\u4e0b\u3052\u3089\u308c\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u308f\u308a\u3068\u6e80\u8db3\u3057\u3066\u3044\u308b\u53cd\u9762\u3001\u307e\u3063\u305f\u304f\u9055\u3046\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u3088\u308a\u9ad8\u901f\u306a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u3042\u308a\u305d\u3046\u306a\u6c17\u3082\u3057\u307e\u3059\u3002\u3082\u3063\u3068\u5927\u304d\u306a\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u3067\u4ed6\u306e\u89e3\u7b54\u3068\u6bd4\u3079\u3066\u307f\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u3002\n\n\u30b3\u30fc\u30c9\n\u4ee5\u4e0b\u306b\u6700\u7d42\u30b3\u30fc\u30c9\u3092\u793a\u3057\u307e\u3059\u3002\n#include <stdio.h>\n\n#define MAX_H 300\n#define MAX_W 300\n#define MAX_T 300\n#define MAX_S 300\n#define NCOLS 512 // > MAX_W, > MAX_S, > MAX_H, 2^n\n#define MAX_N (MAX_H*MAX_W)\n\n#define MAX_INPUT_BYTES (3+1+3+1+(MAX_W+1)*MAX_H+5+1+(3+1+3+1)*MAX_N)\n#define MAX_OUTPUT_BYTES ((5+1)*MAX_N)\n\nint H;\nint W;\nint N;\nint T[MAX_N];\nint S[MAX_N];\n\n// nzerosabove[y][x]: holds how many zeros have continued vertically\n// at the position.\nint nzerosabove[MAX_H+1][NCOLS];\n\n// runcounter[t]: counts how many vertical spaces with height t or less\n// continues horizontally.\nint runcounter[MAX_T+1];\n\n// counts[t][s]: holds how many continuous maximal runs of width s\n// that have height t.\n// also converted to the final results.\nint counts[MAX_T+1][NCOLS];\n\nvoid\nparseinput(void) {\n  char buffer[MAX_INPUT_BYTES+1];\n  int bufindex, y, x, i;\n  int nread;\n\n  nread = fread(buffer, 1, MAX_INPUT_BYTES, stdin);\n  buffer[nread] = '\\n'; // make sure input is terminated by LF.\n\n  for (bufindex = 0; buffer[bufindex] != ' '; bufindex++)\n    H = H*10 + buffer[bufindex] - '0';\n\n  for (bufindex++; buffer[bufindex] != '\\n'; bufindex++)\n    W = W*10 + buffer[bufindex] - '0';\n\n  for (y = 1; y <= H; y++) {\n    for (bufindex++, x = 1; x <= W; bufindex++, x++) {\n      if (buffer[bufindex] == '0') {\n        nzerosabove[y][x] = nzerosabove[y-1][x] + 1;\n      }\n    }\n  }\n\n  for (bufindex++; buffer[bufindex] != '\\n'; bufindex++)\n    N = N*10 + buffer[bufindex] - '0';\n\n  for (i = 0; i < N; i++) {\n    for (bufindex++; buffer[bufindex] != ' '; bufindex++)\n      T[i] = T[i]*10 + buffer[bufindex] - '0';\n    for (bufindex++; buffer[bufindex] != '\\n'; bufindex++)\n      S[i] = S[i]*10 + buffer[bufindex] - '0';\n  }\n}\n\nvoid\ncountcandidates(void) {\n  int y, x, t, s;\n  int delta;\n  int lastnz, nz;\n\n  lastnz = 0;\n  for (y = 1; y <= H; y++) {\n    for (x = 1; x <= W+1; x++) {\n      nz = nzerosabove[y][x]; // use sentinel nzerosabove[y][W+1]==0\n      for (t = lastnz; t > nz; t--) { // must be \"downto\"\n        counts[t][runcounter[t]]++;\n        runcounter[t-1] += runcounter[t]; // runcounter[0] is dummy\n        runcounter[t] = 0;\n      }\n      runcounter[nz]++;\n      lastnz = nz;\n    }\n  }\n\n  for (t = 1; t <= MAX_T; t++) {\n    delta = 0;\n    for (s = W; s > 0; s--) { // must be \"downto\"\n      delta += counts[t][s];\n      counts[t][s] = counts[t][s+1] + delta; // use sentinel counts[t][W+1]==0\n    }\n  }\n}\n\nvoid\nbuildoutput(void) {\n  char buffer[MAX_OUTPUT_BYTES+1];\n  int bufindex, i, digitindex, number;\n  char digits[20];\n\n  bufindex = 0;\n\n  for (i = 0; i < N; i++) {\n    number = counts[T[i]][S[i]];\n    digitindex = 0;\n    do {\n      digits[digitindex] = number % 10 + '0';\n      number /= 10;\n      digitindex++;\n    } while (number > 0);\n    for (digitindex--; digitindex >= 0; digitindex--) {\n      buffer[bufindex++] = digits[digitindex];\n    }\n\n    buffer[bufindex++] = '\\n';\n  }\n\n  fwrite(buffer, 1, bufindex, stdout);\n}\n\nint\nmain(void) {\n  parseinput();\n  countcandidates();\n  buildoutput();\n  return 0;\n}\n\n# \u6210\u7e3e\n\nPOH\u7b2c2\u5f3e\u306f\u5e73\u9762\u4e0a\u306e\u9577\u65b9\u5f62\u9818\u57df\u306e\u63a2\u7d22\u3067\u3059\u3002\u80cc\u666f\u3084\u8ab2\u984c\u306e\u8a73\u7d30\u306f\nhttps://paiza.jp/poh/paizen\n\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002#paizahack_02\n\n\u6700\u5f8c\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u30670.02\u79d2\u306e\u58c1\u304c\u306a\u304b\u306a\u304b\u7834\u308c\u305a\u82e6\u6226\u3057\u307e\u3057\u305f\u304c\u3001\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u4e0a\u306e\u3061\u3087\u3063\u3068\u3057\u305f\u30d6\u30ec\u30fc\u30af\u30b9\u30eb\u30fc\u306b\u3088\u308a0.01\u79d2\u9054\u6210\u3002\nhttp://paiza.jp/poh/paizen/result/8bd4048d0f2d21fb9512df541404b45b\n\n# \u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306e\u4f5c\u6210\n\n[\u524d\u56de](http://qiita.com/HirotoKagotani/items/4882a5a5dc82afc17d0f)\u306e\u7d4c\u9a13\u304b\u3089\u3001\u6700\u5927\u898f\u6a21($H=W=300, N=HW$)\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u6027\u683c\u306e\u7570\u306a\u308b\u6b21\u306e6\u7a2e\u985e\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\u6700\u521d\u304b\u3089\u5148\u3092\u898b\u8d8a\u3057\u3066\u5168\u90e8\u7528\u610f\u3057\u305f\u306e\u3067\u306f\u306a\u304f\u3001C\u4ee5\u964d\u306f\u5f8c\u304b\u3089\u4f5c\u308a\u307e\u3057\u305f\u3002\n\nA. \u9ad8\u30551\u3067\u5e45\u304c\u30e9\u30f3\u30c0\u30e0\u306a0\u30681\u3092\u4ea4\u4e92\u306b\u914d\u7f6e\nB. \u30e9\u30f3\u30c0\u30e0\u306a\u30b5\u30a4\u30ba\u306e0\u306e\u9577\u65b9\u5f62\u3092\u3044\u304f\u3064\u3082\u30e9\u30f3\u30c0\u30e0\u306b\u914d\u7f6e\nC. \u9ad8\u30551\u306e\u6a2a\u30b9\u30c8\u30e9\u30a4\u30d7150\u672c\nD. \u5e451\u306e\u7e26\u30b9\u30c8\u30e9\u30a4\u30d7150\u672c\nE. \u683c\u5b50\uff08C\u3068D\u306e\u8ad6\u7406\u7a4d\uff09\nF. \u3059\u3079\u30660\n\n# \u521d\u671f\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\n\n\u3068\u308a\u3042\u3048\u305a\u5404\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306e\u6b63\u89e3\u51fa\u529b\u3092\u7528\u610f\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u611a\u76f4\u306a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3068\u306f\u3044\u3048\u3001\u4e0e\u3048\u3089\u308c\u305f\u9577\u65b9\u5f62\u30b5\u30a4\u30ba\u3054\u3068\u306b\u3001\u753b\u9762\u5185\u306e\u7a7a\u304d\u9818\u57df\u3092\u5168\u63a2\u7d22\u3057\u3066\u3044\u305f\u306e\u3067\u306f\u3001\u5168\u4f53\u3068\u3057\u3066\u8a08\u7b97\u91cf\u306f$O(H^3W^3)$\u3068\u306a\u308a\u3001\u305f\u3076\u3093\u7d42\u308f\u308b\u306e\u3092\u5f85\u3063\u3066\u3044\u3089\u308c\u306a\u3044\u306e\u3067\u3001\u5c11\u3057\u3060\u3051\u5de5\u592b\u3057\u307e\u3057\u305f\u3002\n\n\u5165\u529b\u6642\u70b9\u3067\u3001\u5404\u7b87\u6240\u304b\u3089\u4e0a\u65b9\u5411\u306b\u4f55\u500b\u9023\u7d9a\u3057\u3066\u9699\u9593\u304c\u3042\u308b\u304b\u3092\u8abf\u3079\u3066\u305d\u306e\u5ea7\u6a19\u306b\u4fdd\u5b58\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u7d9a\u3044\u3066\u3001\u5404\u9577\u65b9\u5f62\u30b5\u30a4\u30ba\u306b\u3064\u3044\u3066\u3001\u9ad8\u3055T\u306e\u9699\u9593\u304c\u9023\u7d9a\u3057\u3066S\u500b\u4ee5\u4e0a\u6a2a\u306b\u4e26\u3093\u3067\u3044\u308b\u56de\u6570\u3092\u5404\u884c\u3067\u30ab\u30a6\u30f3\u30c8\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\u8a08\u7b97\u91cf\u306f$O(H^2W^2)$\u3067\u3059\u3002\n\n> T\u3068S\u306e\u8a18\u53f7\u306e\u610f\u5473\u3092\u3001\u554f\u984c\u6587\u3068\u9006\u306b\u4f7f\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n> X,Y\u3068\u540c\u3058\u9806\u5e8f\u3067S,T\u3068\u4f7f\u3046\u3082\u306e\u3068\u6c7a\u3081\u3064\u3051\u3066\u3044\u305f\u3082\u306e\u3067\u3002\n> \u3068\u3044\u3046\u308f\u3051\u3067\u3001\u4ee5\u4e0b\u3001\u305d\u306e\u3064\u3082\u308a\u3067\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u307e\u305f\u3001\u3053\u308c\u3082[\u524d\u56de](http://qiita.com/HirotoKagotani/items/4882a5a5dc82afc17d0f)\u306e\u7d4c\u9a13\u304b\u3089\u3067\u3059\u304c\u3001\u5165\u529b\u51e6\u7406\u3067\u306f\u3069\u3046\u305b`scanf()`\u306f\u4f7f\u3044\u3082\u306e\u306b\u306a\u3089\u306a\u3044\u306e\u3067\u3001`fread()`\u3060\u3051\u3057\u3066\u3001\u7a7a\u767d\u3084\u6539\u884c\u3082\u6c7a\u3081\u6253\u3061\u3057\u3001\u89e3\u6790\u306f\u3059\u3079\u3066\u624b\u4f5c\u696d\u3067\u884c\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002`strtol()`\u3059\u3089\u3082\u547c\u3073\u307e\u305b\u3093\u3002\n\n\u5b9f\u884c\u6642\u9593\u306f\u3001\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306b\u3088\u308a\u5dee\u304c\u3042\u308a\u3001\u624b\u5143\u306e\u30de\u30b7\u30f3\u3067\uff08\u4ee5\u4e0b\u540c\u69d8\uff093.9\u301c6.0\u79d2\u3002\u6700\u521d\u3068\u3057\u3066\u306f\u307e\u305a\u307e\u305a\u3067\u3059\u304c\u3001\u3053\u308c\u3067\u306fpaiza\u306b\u63d0\u51fa\u3057\u3066\u3082\u6642\u9593\u5185\u306e\u901a\u904e\u306f\u7121\u7406\u3067\u3057\u3087\u3046\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u6bb5\u968e\u3067\u5236\u9650\u6642\u95933\u79d2\u304c\u76ee\u524d\u3068\u306a\u308b\u3068\u3001\u554f\u984c\u898f\u6a21\u304c\u3061\u3087\u3063\u3068\u5c0f\u3055\u3059\u304e\u308b\u3088\u3046\u306a\u6c17\u304c\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306b\u809d\u90e8\u5206\u306e\u30b3\u30fc\u30c9\u3092\u793a\u3057\u307e\u3059\u3002\u5b9a\u6570\u3084\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u5909\u6570\u306f\u6700\u7d42\u7248\u3068\u540c\u3058\u3067\u3059\u3002`t`, `s`\u306f\u9577\u65b9\u5f62\u30b5\u30a4\u30ba\u3001`y`, `x`\u306f\u5ea7\u6a19\u3067\u3059\u3002\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u308f\u304b\u308a\u3084\u3059\u3044\u3088\u3046\u306b1\u30aa\u30ea\u30b8\u30f3\u3067\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306b\u306f\u756a\u5175\u3092\u7f6e\u304d\u3084\u3059\u3044\u3068\u3044\u3046\u52b9\u679c\u3082\u3042\u308a\u307e\u3059\u3002\n\n```c\nvoid\ncountcandidates(void) {\n  int y, x, t, s;\n  int count;\n  int ncontinuouscols;\n  for (t = 1; t <= MAX_T; t++) {\n    for (s = 1; s <= MAX_S; s++) {\n      count = 0;\n      for (y = t; y <= H; y++) {\n        ncontinuouscols = 0;\n        for (x = 1; x <= W; x++) {\n          if (nzerosabove[y][x] >= t) {\n            ncontinuouscols++;\n          } else {\n            ncontinuouscols = 0;\n          }\n          if (ncontinuouscols >= s) count++;\n        }\n      }\n      counts[t][s] = count;\n    }\n  }\n}\n```\n\n# \u51fa\u529b\u51e6\u7406\u306e\u6539\u5584\n\n\u5b9f\u969b\u306f\u3082\u3063\u3068\u5f8c\u306e\u6bb5\u968e\u3067\u5b9f\u65bd\u3057\u305f\u3053\u3068\u3067\u3059\u304c\u3001\u5404\u51e6\u7406\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30ea\u30f3\u30b0\u3092\u3059\u308b\u3068\u300190000\u4ef6\u3092`printf()`\u3059\u308b\u51fa\u529b\u51e6\u7406\u3060\u3051\u30670.02\u79d2\u304b\u304b\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\u5f8c\u3005\u30010.01\u79d2\u306e\u653b\u9632\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3067\u3001\u5165\u529b\u3068\u540c\u69d8\u306b\u624b\u4f5c\u696d\u3067\u51fa\u529b\u30d0\u30c3\u30d5\u30a1\u3092\u5b8c\u5168\u306b\u4f5c\u6210\u3057\u3001`fwrite()` 1\u56de\u3067\u51fa\u529b\u3057\u3066\u3057\u307e\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u6b21\u56de\u304b\u3089\u306f\u3001\u6700\u521d\u304b\u3089\u3001\u5165\u529b\u3082\u51fa\u529b\u3082\u4eca\u56de\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u3044\u56de\u3059\u3064\u3082\u308a\u3067\u3059\u3002\n\n# \u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u6539\u5584\n\n## \u30ab\u30a6\u30f3\u30c8\u5bfe\u8c61\u306e\u9577\u65b9\u5f62\u5e45\u3092\u9818\u57df\u30b5\u30a4\u30ba\u3067\u9650\u5b9a\n\n\u9577\u65b9\u5f62\u306e\u30b5\u30a4\u30ba\u3092\u6c7a\u3081\u3066\u304b\u3089\u3001\u305d\u308c\u304c\u4f55\u7b87\u6240\u306b\u5165\u308b\u304b\u3092\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u3066\u306f\u3001\u30eb\u30fc\u30d7\u56de\u6570\u3092\u6e1b\u3089\u305b\u308b\u6c17\u914d\u304c\u3042\u308a\u307e\u305b\u3093\u3002\n\n\u9ad8\u3055T\u306e\u9577\u65b9\u5f62\u3092\u8003\u3048\u305f\u3068\u304d\u3001\u3042\u308b\u7b87\u6240\u304b\u3089\u5de6\u306b\u9ad8\u3055T\u4ee5\u4e0a\u306e\u9699\u9593\u304cS\u500b\u4e26\u3093\u3067\u3044\u308b\u306a\u3089\u3001\u305d\u306e\u7b87\u6240\u306b\u306f\u5e451\u304b\u3089S\u307e\u3067\u306e\u9577\u65b9\u5f62\u3060\u3051\u304c\u914d\u7f6e\u3067\u304d\u307e\u3059\u3002S\u3088\u308a\u5927\u304d\u3044\u9577\u65b9\u5f62\u306f\u8003\u616e\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u308f\u3051\u3067\u3059\u3002T\u304c\u5c0f\u3055\u3051\u308c\u3070S\u306f\u5927\u304d\u3044\u3053\u3068\u3082\u3042\u308b\u3067\u3057\u3087\u3046\u304c\u3001T\u304c\u5927\u304d\u3044\u3068\u304d\u306fS\u306f\u307b\u307c0\u3067\u3042\u308b\u3053\u3068\u304c\u671f\u5f85\u3055\u308c\u307e\u3059\u3002\n\n\u6700\u60aa\u8a08\u7b97\u91cf\u306e\u30aa\u30fc\u30c0\u30fc\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u304c\u3001\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9F\u306e\u5834\u5408\u3067\u3082\u3001\u3059\u3079\u3066\u306e\u7b87\u6240\u3067\u3059\u3079\u3066\u306e\u9577\u65b9\u5f62\u306e\u5e45\u3092\u8abf\u3079\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u30eb\u30fc\u30d7\u56de\u6570\u304c\u534a\u6e1b\u3057\u307e\u3059\u3002\n\n\u7d50\u679c\u30010.02\u79d2\u304b\u30890.03\u79d2\u3001\u5927\u304d\u306a\u9699\u9593\u306e\u3042\u308b\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9B\u304c0.11\u79d2\u3001\u6700\u60aa\u30b1\u30fc\u30b9\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9F\u3067\u306f2.15\u79d2\u3067\u3057\u305f\u3002\u3053\u308c\u306a\u3089\u63d0\u51fa\u3059\u308c\u3070100\u70b9\u53d6\u308c\u308b\u30ec\u30d9\u30eb\u3067\u3057\u3087\u3046\u3002\n\n\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002\n\n```c\nvoid\ncountcandidates(void) {\n  int y, x, t, s;\n  int ncontinuouscols;\n  for (t = 1; t <= MAX_T; t++) {\n    for (y = t; y <= H; y++) {\n      ncontinuouscols = 0;\n      for (x = 1; x <= W; x++) {\n        if (nzerosabove[y][x] >= t) {\n          ncontinuouscols++;\n          for (s = 1; s <= ncontinuouscols; s++) {\n            counts[t][s]++;\n          }\n        } else {\n          ncontinuouscols = 0;\n        }\n      }\n    }\n  }\n}\n```\n\n## \u914d\u7f6e\u53ef\u80fd\u6700\u5927\u5e45\u304c\u78ba\u5b9a\u3059\u308b\u307e\u3067\u30ab\u30a6\u30f3\u30c8\u3092\u5ef6\u671f\n\n\u9ad8\u3055T\u4ee5\u4e0a\u306e\u9699\u9593\u304c\u5e45S\u3060\u3051\u7d9a\u304d\u305d\u308c\u4ee5\u4e0a\u306e\u5e45\u306b\u3067\u304d\u306a\u3044\u3068\u304d\u3001\u305d\u306e\u9699\u9593\u9818\u57df\u306b\u306f\u3001\u9ad8\u3055T\u5e45S\u306e\u9577\u65b9\u5f62\u306f1\u7b87\u6240\u3001\u5e45S-1\u306e\u9577\u65b9\u5f62\u306f2\u7b87\u6240\u3001\u2026\u3001\u5e451\u306e\u9577\u65b9\u5f62\u306fS\u7b87\u6240\u306b\u914d\u7f6e\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u3053\u3068\u304b\u3089\u3001\u9ad8\u3055T\u4ee5\u4e0a\u306e\u9699\u9593\u304c\u7d9a\u304b\u306a\u3044\u3053\u3068\u304c\u78ba\u5b9a\u3057\u305f\u5f8c\u3001\u3053\u308c\u3089\u306e\u914d\u7f6e\u7b87\u6240\u6570\u3092\u52a0\u7b97\u3057\u3066\u3044\u3051\u3070\u30011\u305a\u3064\u3061\u307e\u3061\u307e\u30ab\u30a6\u30f3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3088\u308a\u56de\u6570\u304c\u6e1b\u308a\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u898b\u304b\u3051\u4e0a\u3001`for`\u30eb\u30fc\u30d7\u304c4\u91cd\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u6700\u6df1\u90e8\u306e\u30eb\u30fc\u30d7\u306f`x`\u304c1\u304b\u3089W+1\u307e\u3067\u5909\u5316\u3059\u308b\u9593\u306b\u3001\u6700\u5927\u3067\u5408\u8a08W\u56de\u3057\u304b\u56de\u3089\u306a\u3044\u306e\u3067\u3001\u8a08\u7b97\u91cf\u306e\u30aa\u30fc\u30c0\u30fc\u306f$O(H^2W)$\u3068\u306a\u308a\u307e\u3059\u3002\u5b9f\u884c\u6642\u9593\u306f\u3001\u3069\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u30820.02\u301c0.03\u79d2\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\n```c\nvoid\ncountcandidates(void) {\n  int y, x, t, s;\n  int delta;\n  int ncontinuouscols;\n  for (t = 1; t <= MAX_T; t++) {\n    for (y = t; y <= H; y++) {\n      ncontinuouscols = 0;\n      for (x = 1; x <= W+1; x++) {\n        if (nzerosabove[y][x] >= t) { // use sentinel nzerosabove[y][W+1]==0\n          ncontinuouscols++;\n        } else {\n          delta = 1;\n          for (s = ncontinuouscols; s > 0; s--) {\n            counts[t][s] += delta;\n            delta++;\n          }\n          ncontinuouscols = 0;\n        }\n      }\n    }\n  }\n}\n```\n\n\u3053\u3053\u307e\u3067\u306f\u308f\u308a\u3068\u3059\u3050\u306b\u5230\u9054\u3057\u305f\u306e\u3067\u3059\u304c\u3001\u3053\u3053\u304b\u3089\u5148\u306b\u624b\u9593\u53d6\u308a\u307e\u3057\u305f\u3002\n\n## \u30d9\u30af\u30c8\u30eb\u52a0\u7b97\u554f\u984c\u3078\u306e\u8ee2\u63db\n\n\u30eb\u30fc\u30d7\u30ab\u30a6\u30f3\u30bf\u3092\u9006\u306b\u56de\u3057\u30660\u3068\u6bd4\u8f03\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u308a\u3001\u756a\u5175\u7684\u306a\u3082\u306e\u3092\u7f6e\u3044\u305f\u308a\u3001\u624b\u52d5\u3067\u30eb\u30fc\u30d7\u30a2\u30f3\u30ed\u30fc\u30ea\u30f3\u30b0\u3057\u3066\u307f\u305f\u308a\u3068\u3001\u69d8\u3005\u306a\u5c0f\u624b\u5148\u6280\u3092\u99c6\u4f7f\u3057\u3066\u3082\u3044\u3063\u3053\u3046\u306b\u6539\u5584\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u4e00\u3064\u5149\u660e\u304c\u898b\u3048\u305f\u306e\u304c\u3001\u4e0a\u306e\u30b3\u30fc\u30c9\u306e\u672c\u8cea\u304c\u4e09\u89d2\u5f62\u3092\u3044\u304f\u3064\u3082\u52a0\u7b97\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6c17\u4ed8\u3044\u305f\u3068\u304d\u3067\u3057\u305f\u3002\n\n\u3064\u307e\u308a\u3001\u9ad8\u3055`t`\u306e\u9577\u65b9\u5f62\u306b\u3064\u3044\u3066\u3001\u9ad8\u3055`t`\u4ee5\u4e0a\u6700\u5927\u5e453\u306e\u9699\u9593\u9818\u57df\u304c\u4e00\u3064\u3042\u308c\u3070\u3001[3 2 1 0 0...] \u3068\u3044\u3046\u4e09\u89d2\u5f62\u72b6\u306e\u30d9\u30af\u30c8\u30eb\u3092`count[t]`\u306b\u52a0\u7b97\u3057\u3066\u3044\u307e\u3059\u3002\u6700\u5927\u5e452\u306e\u9699\u9593\u9818\u57df\u304c\u4e00\u3064\u3042\u308c\u3070\u3001[2 1 0 0 0..] \u3092\u52a0\u7b97\u3057\u307e\u3059\u3002\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u9ad8\u3055T\u4ee5\u4e0a\u3067\u6700\u5927\u5e45S\u306e\u9699\u9593\u9818\u57df\u304c\u4f55\u500b\u3042\u308b\u304b\u3060\u3051\u3042\u3089\u304b\u3058\u3081\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u304a\u3044\u3066\u3001\u5f8c\u304b\u3089\u3053\u308c\u3089\u306e\u4e09\u89d2\u5f62\u72b6\u306e\u30d9\u30af\u30c8\u30eb\u3092\u518d\u73fe\u3057\u3066\u8db3\u3057\u3066\u3044\u304f\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u8a08\u7b97\u91cf\u306e\u30aa\u30fc\u30c0\u30fc\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u6700\u6df1\u90e8\u306e\u30eb\u30fc\u30d7\u3092\u8ffd\u3044\u51fa\u305b\u308c\u3070\u4f55\u304b\u3067\u304d\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3001\u3042\u308f\u3088\u304f\u3070\u5b9f\u884c\u6642\u9593\u534a\u6e1b\u3082\u3042\u308a\u3046\u308b\u3068\u671f\u5f85\u3057\u3066\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n\u4ee5\u4e0b\u304c\u305d\u306e\u30b3\u30fc\u30c9\u3067\u3059\u3002\u3053\u306e\u30ab\u30a6\u30f3\u30c8\u3092\u5165\u308c\u308b\u914d\u5217\u306f\u5225\u9014\u7528\u610f\u3057\u305f\u65b9\u304c\u30ea\u30fc\u30c0\u30d6\u30eb\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u52b9\u679c\u306a\u3069\u3092\u8003\u3048\u3066\u7d50\u679c\u3092\u5165\u308c\u308b\u914d\u5217\u3092\u305d\u306e\u307e\u307e\u4f7f\u3044\u307e\u3057\u305f\u3002\u5b9f\u884c\u6642\u9593\u306f\u5185\u90e8\u30eb\u30fc\u30d7\u304c\u306a\u304f\u306a\u308a\u3001\u5019\u88dc\u7b87\u6240\u306e\u30ab\u30a6\u30f3\u30c8\u3082\u9577\u65b9\u5f62\u30b5\u30a4\u30ba\u3054\u3068\u306b1\u56de\u3057\u304b\u884c\u308f\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u591a\u5c11\u6e1b\u308a\u3001\u3069\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u30820.02\u79d2\u3067\u5b9f\u884c\u3067\u304d\u307e\u3057\u305f\u3002\n\n```c\nvoid\ncountcandidates(void) {\n  int y, x, t, s;\n  int delta;\n  int ncontinuouscols;\n  for (t = 1; t <= MAX_T; t++) {\n    for (y = t; y <= H; y++) {\n      ncontinuouscols = 0;\n      for (x = 1; x <= W+1; x++) {\n        if (nzerosabove[y][x] >= t) { // use sentinel nzerosabove[y][W+1]==0\n          ncontinuouscols++;\n        } else {\n          if (ncontinuouscols > 0) {\n            counts[t][ncontinuouscols]++;\n            ncontinuouscols = 0;\n          }\n        }\n      }\n    }\n    delta = 0;\n    for (s = W; s > 0; s--) { // must be \"downto\"\n      delta += counts[t][s];\n      counts[t][s] = counts[t][s+1] + delta; // use sentinel counts[t][W+1]==0\n    }\n  }\n}\n```\n\n## \u30d6\u30ec\u30fc\u30af\u30b9\u30eb\u30fc\u76f4\u524d\n\n\u3053\u3053\u304b\u3089\u306f\u5b8c\u5168\u306b\u624b\u8a70\u307e\u308a\u3067\u3069\u3046\u3057\u3088\u3046\u3082\u306a\u304f\u306a\u308a\u3001\u306a\u304b\u3070\u3084\u3051\u304e\u307f\u306b\u3001\u30eb\u30fc\u30d7\u306e\u624b\u9806\u3092\u5165\u308c\u66ff\u3048\u305f\u308a\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u3064\u307e\u308a\u3001`t`\u306b\u3088\u308b\u30eb\u30fc\u30d7\u3092\u5185\u5074\u306b\u5165\u308c\u3066\u307f\u305f\u3060\u3051\u3067\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001\u3042\u308b\u9ad8\u3055T\u306e\u5217\u304c\u4f55\u56de\u9023\u7d9a\u3057\u305f\u304b\u3092\u8868\u3059\u30ab\u30a6\u30f3\u30bf\u304c\u3001T\u306e\u500b\u6570\u3060\u3051\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u914d\u5217\u30a2\u30af\u30bb\u30b9\u306e\u624b\u9593\u306e\u5206\u3060\u3051\u9045\u304f\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u304c\u305d\u306e\u30b3\u30fc\u30c9\u3067\u3059\u304c\u3001\u30ab\u30a6\u30f3\u30bf\u3078\u306e\u30a2\u30af\u30bb\u30b9\u56de\u6570\u306e\u591a\u3044\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9D\u3068E\u30670.05\u79d2\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\n```c\nvoid\ncountcandidates(void) {\n  int y, x, t, s;\n  int delta;\n  int ncontinuouscols;\n  for (y = 1; y <= H; y++) {\n    for (x = 1; x <= W+1; x++) {\n      for (t = 1; t <= y; t++) {\n        if (nzerosabove[y][x] >= t) { // use sentinel nzerosabove[y][W+1]==0\n          runcounter[t]++;\n        } else {\n          if (runcounter[t] > 0) {\n            counts[t][runcounter[t]]++;\n            runcounter[t] = 0;\n          }\n        }\n      }\n    }\n  }\n  for (t = 1; t <= MAX_T; t++) {\n    delta = 0;\n    for (s = W; s > 0; s--) { // must be \"downto\"\n      delta += counts[t][s];\n      counts[t][s] = counts[t][s+1] + delta; // use sentinel counts[t][W+1]==0\n    }\n  }\n}\n```\n\n## \u6700\u7d42\u7248\n\n\u3068\u3053\u308d\u304c\u3053\u306e\u6539\u9020\u304c\u594f\u529f\u3057\u307e\u3059\u3002\n\n\u3059\u3079\u3066\u306eT\u306b\u3064\u3044\u3066\u6bce\u56de\u30ab\u30a6\u30f3\u30bf\u3092\u5897\u3084\u3059\u306e\u3067\u306f\u306a\u304f\u3001\u305d\u306e\u7b87\u6240\u306e\u9699\u9593\u306e\u9ad8\u3055T\u5206\u3060\u3051\u30ab\u30a6\u30f3\u30bf\u3092\u5897\u3084\u3059\u3053\u3068\u306b\u3057\u3001T\u304c\u76f4\u524d\u306e\u9699\u9593\u306e\u9ad8\u3055T'\u3088\u308a\u6e1b\u3063\u3066\u3057\u307e\u3063\u305f\u3068\u304d\u306f\u3001T'\u301cT-1\u307e\u3067\u306e\u9ad8\u3055\u306e\u9699\u9593\u9818\u57df\u304c\u305d\u3053\u3067\u7d42\u308f\u3063\u305f\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001\u305d\u306e\u7bc4\u56f2\u306e\u9ad8\u3055\u5206\u306e\u307f\u4e00\u6c17\u306b\u51e6\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u3082\u6700\u60aa\u8a08\u7b97\u91cf\u306e\u30aa\u30fc\u30c0\u30fc\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002\u9699\u9593\u9818\u57df\u306e\u9ad8\u3055\u304c\u983b\u7e41\u306b\u5897\u6e1b\u3057\u3001\u304b\u3064\u6e1b\u5c11\u6642\u306e\u5e45\u304c\u5927\u304d\u3044\u5834\u5408\u304c\u6700\u60aa\u3067\u3001\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9D\u3068E\u304c\u8a72\u5f53\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u73fe\u5b9f\u306b\u306f\u305d\u306e\u3088\u3046\u306a\u9699\u9593\u306e\u72b6\u6cc1\u306f\u307e\u305a\u306a\u3044\u3057\u3001paiza\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306b\u305d\u306e\u3088\u3046\u306a\u72b6\u6cc1\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u53ef\u80fd\u6027\u306f\u4f4e\u305d\u3046\u3067\u3059\u3002\u901a\u5e38\u306e\u72b6\u6cc1\u3067\u306f$O(H^2W)$\u306b\u5bfe\u3057\u3066\u304b\u306a\u308a\u5c0f\u3055\u3044\u5b9a\u6570\u500d\u306e\u8a08\u7b97\u91cf\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\u306f\u6700\u5f8c\u306b\u307e\u3068\u3081\u3066\u793a\u3057\u307e\u3059\u3002\u5b9f\u884c\u6642\u9593\u306fD\u3068E\u3060\u30510.04\u79d2\u3001\u4ed6\u306f\u307f\u3054\u3068\u306b0.00\u79d2\u3068\u306a\u308a\u307e\u3057\u305f\u3002\uff08FreeBSD\u306e`/usr/bin/time`\u306f\u5c0f\u6570\u70b9\u4ee5\u4e0b\u3092 `tv_usec/10000` \u3067\u8a08\u7b97\u3057\u3066\u3044\u308b\u306e\u30670.01\u672a\u6e80\u5207\u308a\u6368\u3066\uff09\n\n\u3053\u308c\u3092paiza\u306b\u63d0\u51fa\u3057\u305f\u3068\u3053\u308d\u3001\u5168\u30c6\u30b9\u30c8\u30b1\u30fc\u30b90.01\u79d2\u3068\u3044\u3046\u7d50\u679c\u304c\u51fa\u307e\u3057\u305f\u3002\n\n# \u307e\u3068\u3081\n\n\u8ad6\u70b9\u304c\u307c\u3084\u3051\u308b\u306e\u3067\u66f8\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u5dee\u7570\u3084\u30012\u6b21\u5143\u914d\u5217\u306e\u69cb\u6210\u65b9\u6cd5\u306e\u5dee\u7570\u30012\u6b21\u5143\u914d\u5217\u30a2\u30af\u30bb\u30b9\u65b9\u5411\u306b\u3088\u308b\u30ad\u30e3\u30c3\u30b7\u30e5\u5bb9\u91cf\u3068\u9023\u60f3\u5ea6\u306e\u5f71\u97ff\u306e\u6709\u7121\u306a\u3069\u3001\u6280\u8853\u7684\u306b\u8208\u5473\u6df1\u3044\u691c\u8a0e\u304c\u3044\u308d\u3044\u308d\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u5927\u304d\u306a\u53ce\u7a6b\u3060\u3063\u305f\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u7d50\u5c40\u306e\u3068\u3053\u308d\u3001\u8a08\u7b97\u91cf\u306e\u30aa\u30fc\u30c0\u30fc\u306f$O(H^2W)$\u304b\u3089\u4e0b\u3052\u3089\u308c\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u308f\u308a\u3068\u6e80\u8db3\u3057\u3066\u3044\u308b\u53cd\u9762\u3001\u307e\u3063\u305f\u304f\u9055\u3046\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u3088\u308a\u9ad8\u901f\u306a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u3042\u308a\u305d\u3046\u306a\u6c17\u3082\u3057\u307e\u3059\u3002\u3082\u3063\u3068\u5927\u304d\u306a\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u3067\u4ed6\u306e\u89e3\u7b54\u3068\u6bd4\u3079\u3066\u307f\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u3002\n\n# \u30b3\u30fc\u30c9\n\n\u4ee5\u4e0b\u306b\u6700\u7d42\u30b3\u30fc\u30c9\u3092\u793a\u3057\u307e\u3059\u3002\n\n```c\n#include <stdio.h>\n\n#define MAX_H 300\n#define MAX_W 300\n#define MAX_T 300\n#define MAX_S 300\n#define NCOLS 512 // > MAX_W, > MAX_S, > MAX_H, 2^n\n#define MAX_N (MAX_H*MAX_W)\n\n#define MAX_INPUT_BYTES (3+1+3+1+(MAX_W+1)*MAX_H+5+1+(3+1+3+1)*MAX_N)\n#define MAX_OUTPUT_BYTES ((5+1)*MAX_N)\n\nint H;\nint W;\nint N;\nint T[MAX_N];\nint S[MAX_N];\n\n// nzerosabove[y][x]: holds how many zeros have continued vertically\n// at the position.\nint nzerosabove[MAX_H+1][NCOLS];\n\n// runcounter[t]: counts how many vertical spaces with height t or less\n// continues horizontally.\nint runcounter[MAX_T+1];\n\n// counts[t][s]: holds how many continuous maximal runs of width s\n// that have height t.\n// also converted to the final results.\nint counts[MAX_T+1][NCOLS];\n\nvoid\nparseinput(void) {\n  char buffer[MAX_INPUT_BYTES+1];\n  int bufindex, y, x, i;\n  int nread;\n\n  nread = fread(buffer, 1, MAX_INPUT_BYTES, stdin);\n  buffer[nread] = '\\n'; // make sure input is terminated by LF.\n\n  for (bufindex = 0; buffer[bufindex] != ' '; bufindex++)\n    H = H*10 + buffer[bufindex] - '0';\n\n  for (bufindex++; buffer[bufindex] != '\\n'; bufindex++)\n    W = W*10 + buffer[bufindex] - '0';\n\n  for (y = 1; y <= H; y++) {\n    for (bufindex++, x = 1; x <= W; bufindex++, x++) {\n      if (buffer[bufindex] == '0') {\n        nzerosabove[y][x] = nzerosabove[y-1][x] + 1;\n      }\n    }\n  }\n\n  for (bufindex++; buffer[bufindex] != '\\n'; bufindex++)\n    N = N*10 + buffer[bufindex] - '0';\n\n  for (i = 0; i < N; i++) {\n    for (bufindex++; buffer[bufindex] != ' '; bufindex++)\n      T[i] = T[i]*10 + buffer[bufindex] - '0';\n    for (bufindex++; buffer[bufindex] != '\\n'; bufindex++)\n      S[i] = S[i]*10 + buffer[bufindex] - '0';\n  }\n}\n\nvoid\ncountcandidates(void) {\n  int y, x, t, s;\n  int delta;\n  int lastnz, nz;\n\n  lastnz = 0;\n  for (y = 1; y <= H; y++) {\n    for (x = 1; x <= W+1; x++) {\n      nz = nzerosabove[y][x]; // use sentinel nzerosabove[y][W+1]==0\n      for (t = lastnz; t > nz; t--) { // must be \"downto\"\n        counts[t][runcounter[t]]++;\n        runcounter[t-1] += runcounter[t]; // runcounter[0] is dummy\n        runcounter[t] = 0;\n      }\n      runcounter[nz]++;\n      lastnz = nz;\n    }\n  }\n\n  for (t = 1; t <= MAX_T; t++) {\n    delta = 0;\n    for (s = W; s > 0; s--) { // must be \"downto\"\n      delta += counts[t][s];\n      counts[t][s] = counts[t][s+1] + delta; // use sentinel counts[t][W+1]==0\n    }\n  }\n}\n\nvoid\nbuildoutput(void) {\n  char buffer[MAX_OUTPUT_BYTES+1];\n  int bufindex, i, digitindex, number;\n  char digits[20];\n\n  bufindex = 0;\n\n  for (i = 0; i < N; i++) {\n    number = counts[T[i]][S[i]];\n    digitindex = 0;\n    do {\n      digits[digitindex] = number % 10 + '0';\n      number /= 10;\n      digitindex++;\n    } while (number > 0);\n    for (digitindex--; digitindex >= 0; digitindex--) {\n      buffer[bufindex++] = digits[digitindex];\n    }\n\n    buffer[bufindex++] = '\\n';\n  }\n\n  fwrite(buffer, 1, bufindex, stdout);\n}\n\nint\nmain(void) {\n  parseinput();\n  countcandidates();\n  buildoutput();\n  return 0;\n}\n```\n", "tags": ["C", "paiza", "algorithm"]}