{"context": " More than 1 year has passed since last update.\n\u52d5\u4f5c\u78ba\u8a8d\nCentOS 6.5\n\n\nprebuilt BOOT.BIN\u3068image.ub\u3067\u306e\u52d5\u4f5c\u30c6\u30b9\u30c8\n\u524d\u6e96\u5099\n1 . \u30d3\u30eb\u30c9\u4f5c\u696d\n$ cd ~/petaLinux/workspace/Avnet-MicroZed-z7010-v2014.2\n$ petalinux-build\n\u30d3\u30eb\u30c9\u304c\u7d42\u308f\u308b\u3068images/linux/\u306e\u4e0b\u306b\u5404\u7a2e\u30d5\u30a1\u30a4\u30eb\u304c\u30d3\u30eb\u30c9\u3055\u308c\u308b (zImage, image.elf, zynq_fsbl.elf \u306a\u3069)\n\n2 . QEMU\u3067\u8d77\u52d5\u78ba\u8a8d\u3067\u304d\u308b\n$ petalinux-boot --qemu --kernel\n\nQEMU\u3092\u7d42\u4e86\u3059\u308b\u306b\u306fCtrl+A, X\u3092\u62bc\u3059\n3 . zImage\u304b\u3089\u5727\u7e2e\u3055\u308c\u305fuImage\u3092\u4f5c\u308b\n$ cd ~/petaLinux/workspace/Avnet-MicroZed-z7010-v2014.2\n$ mkimage -A arm -O linux -T kernel -C none -a 0x80008000 -e 0x80008000 -n \"Linux kernel\" -d images/linux/zImage uImage\n\n4 . ~\u3053\u3053\u306b\u3042\u308barm_ramdisk.image.gz\u3092\u53d6\u5f97\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067uramdisk.image.gz\u3092\u4f5c\u6210\u3059\u308b~ (\u3053\u306e\u4f5c\u696d\u306f\u4e0d\u8981)\n$ mkimage -A arm -T ramdisk -C gzip -d ./arm_ramdisk.image.gz uramdisk.image.gz\n\n5 . XSDK\u306b\u3066BOOT.bin\u3092\u4f5c\u6210\u3059\u308b\u3002\nlinux\u3067\u4f5c\u6210\u3057\u305f\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092Vivado\u3068XSDK\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fWindows\u306b\u6301\u3063\u3066\u3044\u304f\n- system.dtb : \u624b\u98061\u306b\u3066images/linux\u4ee5\u4e0b\u306b\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\n- u-boot.elf : \u624b\u98061\u306b\u3066images/linux\u4ee5\u4e0b\u306b\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\n- uImage : \u624b\u98063\u3067\u4f5c\u6210\u3057\u305f\u30d5\u30a1\u30a4\u30eb\n- (\u4e0d\u8981) uramdisk.image.gz : \u624b\u98064\u3067\u4f5c\u6210\u3057\u305f\u30d5\u30a1\u30a4\u30eb\n- zynq_fsbl.elf : \u624b\u98061\u306b\u3066images/linux\u4ee5\u4e0b\u306b\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\n\nWindows\u4e0a\u306b\u3066XSDK\u3092\u8d77\u52d5\u3059\u308b\nXilinx Tools > Create Zynq Boot Image\u3092\u9078\u629e\u3059\u308b\nCreate new BIF file\u3092\u9078\u629e\u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u3092output.bif(\u4efb\u610f\u306e\u30d5\u30a1\u30a4\u30eb\u540d)\u3068\u3059\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u306fBOOT.bin\u3092\u4f5c\u6210\u3059\u308b\u3068\u3053\u308d\u306b\u3057\u3066\u304a\u3051\u3070\u3044\u3044\u3002\n\u53f3\u4e0b\u306eAdd\u3092\u9078\u629e\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4ee5\u4e0b\u306e\u9806\u3067\u8ffd\u52a0\u3057\u3066\u3044\u304f\u3002\u3053\u3053\u3067\u300cPartition type\u300d\u306f\u300cdatafile\u300d\u3068\u3057\u3066\u304a\u3051\u3070\u3088\u3055\u305d\u3046\u3002\n1. zynq_fsbl.elf\n2. u-boot.elf\n3. uImage\n4. (\u9078\u629e\u4e0d\u8981) uramdisk.image.gz\n5. system.dtb\nCreate Image\u3092\u9078\u629e\u3057\u3066Boot.bin\u3092\u4f5c\u6210\u3059\u308b\n\n6 . \u30d5\u30a1\u30a4\u30eb\u3092microSD\u306b\u30b3\u30d4\u30fc\u3059\u308b\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092microSD\u306b\u30b3\u30d4\u30fc\u3059\u308b\n- \u624b\u98065\u3067\u4f5c\u6210\u3057\u305fBOOT.bin\n- \u624b\u98061\u3067\u4f5c\u6210\u3057\u305fimage.ub ( images/linux\u306b\u30d3\u30eb\u30c9\u3057\u305f\u3082\u306e )\n\n7 . microSD\u3092MicroZed\u306b\u5165\u308c\u3066\u3001MicroZed\u3092\u8d77\u52d5\u3059\u308b\u3068PetaLinux\u304c\u7acb\u3061\u4e0a\u304c\u308b\nlogin:root\npassword:root\n\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3002\n\n$ uname -a\nLinux zynq-microzed-z7010 3.14.2-xilinx #2 SMP PREEMPT Tue Jul 8 21:55:19 PDT 2014 armv7l GNU/Linux\n\n```txt:\u52d5\u4f5c\u78ba\u8a8d\nCentOS 6.5\n```\n\n[prebuilt BOOT.BIN\u3068image.ub\u3067\u306e\u52d5\u4f5c\u30c6\u30b9\u30c8](http://qiita.com/7of9/items/49f705c5b51c7c7c91a2)\n[\u524d\u6e96\u5099](http://qiita.com/7of9/items/35ac5298995477fe8315)\n\n1 . \u30d3\u30eb\u30c9\u4f5c\u696d\n\n```\n$ cd ~/petaLinux/workspace/Avnet-MicroZed-z7010-v2014.2\n$ petalinux-build\n\u30d3\u30eb\u30c9\u304c\u7d42\u308f\u308b\u3068images/linux/\u306e\u4e0b\u306b\u5404\u7a2e\u30d5\u30a1\u30a4\u30eb\u304c\u30d3\u30eb\u30c9\u3055\u308c\u308b (zImage, image.elf, zynq_fsbl.elf \u306a\u3069)\n```\n\n2 . QEMU\u3067\u8d77\u52d5\u78ba\u8a8d\u3067\u304d\u308b\n\n```\n$ petalinux-boot --qemu --kernel\n```\n\n  QEMU\u3092\u7d42\u4e86\u3059\u308b\u306b\u306fCtrl+A, X\u3092\u62bc\u3059\n\n3 . zImage\u304b\u3089\u5727\u7e2e\u3055\u308c\u305fuImage\u3092\u4f5c\u308b\n\n```\n$ cd ~/petaLinux/workspace/Avnet-MicroZed-z7010-v2014.2\n$ mkimage -A arm -O linux -T kernel -C none -a 0x80008000 -e 0x80008000 -n \"Linux kernel\" -d images/linux/zImage uImage\n```\n\n4 . ~\u3053\u3053\u306b\u3042\u308barm_ramdisk.image.gz\u3092\u53d6\u5f97\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067uramdisk.image.gz\u3092\u4f5c\u6210\u3059\u308b~ (<font color=red>\u3053\u306e\u4f5c\u696d\u306f\u4e0d\u8981</font>)\n\n```\n$ mkimage -A arm -T ramdisk -C gzip -d ./arm_ramdisk.image.gz uramdisk.image.gz\n```\n\n5 . XSDK\u306b\u3066BOOT.bin\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```\nlinux\u3067\u4f5c\u6210\u3057\u305f\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092Vivado\u3068XSDK\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fWindows\u306b\u6301\u3063\u3066\u3044\u304f\n- system.dtb : \u624b\u98061\u306b\u3066images/linux\u4ee5\u4e0b\u306b\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\n- u-boot.elf : \u624b\u98061\u306b\u3066images/linux\u4ee5\u4e0b\u306b\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\n- uImage : \u624b\u98063\u3067\u4f5c\u6210\u3057\u305f\u30d5\u30a1\u30a4\u30eb\n- (\u4e0d\u8981) uramdisk.image.gz : \u624b\u98064\u3067\u4f5c\u6210\u3057\u305f\u30d5\u30a1\u30a4\u30eb\n- zynq_fsbl.elf : \u624b\u98061\u306b\u3066images/linux\u4ee5\u4e0b\u306b\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\n  \nWindows\u4e0a\u306b\u3066XSDK\u3092\u8d77\u52d5\u3059\u308b\nXilinx Tools > Create Zynq Boot Image\u3092\u9078\u629e\u3059\u308b\nCreate new BIF file\u3092\u9078\u629e\u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u3092output.bif(\u4efb\u610f\u306e\u30d5\u30a1\u30a4\u30eb\u540d)\u3068\u3059\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u306fBOOT.bin\u3092\u4f5c\u6210\u3059\u308b\u3068\u3053\u308d\u306b\u3057\u3066\u304a\u3051\u3070\u3044\u3044\u3002\n\u53f3\u4e0b\u306eAdd\u3092\u9078\u629e\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4ee5\u4e0b\u306e\u9806\u3067\u8ffd\u52a0\u3057\u3066\u3044\u304f\u3002\u3053\u3053\u3067\u300cPartition type\u300d\u306f\u300cdatafile\u300d\u3068\u3057\u3066\u304a\u3051\u3070\u3088\u3055\u305d\u3046\u3002\n1. zynq_fsbl.elf\n2. u-boot.elf\n3. uImage\n4. (\u9078\u629e\u4e0d\u8981) uramdisk.image.gz\n5. system.dtb\nCreate Image\u3092\u9078\u629e\u3057\u3066Boot.bin\u3092\u4f5c\u6210\u3059\u308b\n```\n\n6 . \u30d5\u30a1\u30a4\u30eb\u3092microSD\u306b\u30b3\u30d4\u30fc\u3059\u308b\n\n```\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092microSD\u306b\u30b3\u30d4\u30fc\u3059\u308b\n- \u624b\u98065\u3067\u4f5c\u6210\u3057\u305fBOOT.bin\n- \u624b\u98061\u3067\u4f5c\u6210\u3057\u305fimage.ub ( images/linux\u306b\u30d3\u30eb\u30c9\u3057\u305f\u3082\u306e )\n```\n\n7 . microSD\u3092MicroZed\u306b\u5165\u308c\u3066\u3001MicroZed\u3092\u8d77\u52d5\u3059\u308b\u3068PetaLinux\u304c\u7acb\u3061\u4e0a\u304c\u308b\n\n```\nlogin:root\npassword:root\n\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3002\n  \n$ uname -a\nLinux zynq-microzed-z7010 3.14.2-xilinx #2 SMP PREEMPT Tue Jul 8 21:55:19 PDT 2014 armv7l GNU/Linux\n```\n\n", "tags": ["microzed", "petalinux", "zynq"]}