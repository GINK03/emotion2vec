{"tags": ["TLS", "HTTP", "Play", "SSL", "HTTPS"], "context": " More than 1 year has passed since last update.\u672c\u8a18\u4e8b\u3067\u306f\u3001Java Secure Socket Extention\uff08JSSE\uff09 API \u3092\u5229\u7528\u3057\u3066\u3001Play Framework \u3067\u5b9f\u88c5\u3057\u305f Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067SSL/TLS\u3092\u5229\u7528\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\u672c\u8a18\u4e8b\u306e\u5143\u30cd\u30bf\u306f\u3053\u3061\u3089\u3067\u3059\u3002\nhttps://github.com/wsargent/activator-play-tls-example\n\u672c\u8a18\u4e8b\u57f7\u7b46\u6642\u70b9\u3067\u6700\u65b0\u306e activator 1.2.12 \u306b\u5bfe\u5fdc\u3055\u305b\u305f\u30b5\u30f3\u30d7\u30eb\u3092\u3053\u3061\u3089\u306b\u7f6e\u3044\u3066\u3044\u307e\u3059\u3002\u52d5\u4f5c\u78ba\u8a8d\u306e\u969b\u306f\u3053\u3061\u3089\u3092\u5229\u7528\u304f\u3060\u3055\u3044\u3002\nhttps://github.com/ogis-onishi/activator-play-tls-example\n\n\u524d\u63d0\n\nJava 8 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u3053\u3068\u3002\n\nTLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 \u3092\u5229\u7528\u3059\u308b\u305f\u3081\u3001Unlimited Strength policy \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\nJava downloads \u306b\u30a2\u30af\u30bb\u30b9.\n\"Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files for JDK/JRE 8\" \u3067\u691c\u7d22\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30dd\u30ea\u30b7\u30fc\u30d5\u30a1\u30a4\u30eb\u3092 $JAVA_HOME/lib/security/ \u306b\u30b3\u30d4\u30fc\n\n\n\n\n\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306e\u751f\u6210\n\uff08\u6ce8\u610f\uff09\u30d1\u30d6\u30ea\u30c3\u30af\u8a8d\u8a3c\u5c40\u306e\u8a3c\u660e\u66f8\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001\u8a3c\u660e\u66f8\u3092\u81ea\u5206\u3067\u751f\u6210\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\nHTTPS\u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u3001X.509 \u8a3c\u660e\u66f8\u3092\u7528\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u8a3c\u660e\u66f8\u306e\u751f\u6210\u306f\u975e\u5e38\u306b\u9762\u5012\u306a\u4f5c\u696d\u306e\u305f\u3081\u3001scripts \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u7f6e\u3044\u3066\u3042\u308b\u751f\u6210\u7528\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8a3c\u660e\u66f8\u306e\u751f\u6210\u306b\u95a2\u3059\u308b\u8a73\u7d30\u306f\u3001Play WS SSL \u306e Certificate Generation \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u8a3c\u660e\u66f8\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\ncd scripts/\n./gencerts.sh\n\ncerts \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u5168\u3066\u79fb\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002\ncd scripts\nmkdir ../certs\nmv client* ../certs\nmv example* ../certs\nmv password ../certs\n\n\n\u30db\u30b9\u30c8\u540d\u306e\u8a2d\u5b9a ( example.com -> localhost\uff09\n\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u3001\u8a8d\u8a3c\u4e2d\u306e\u30db\u30b9\u30c8\u540d\u3092 example.com \u306b\u3057\u3066\u3044\u307e\u3059\u3002SSL\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u30db\u30b9\u30c8\u540d\u3092 example.com \u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u672c\u30b5\u30f3\u30d7\u30eb\u306e\u52d5\u4f5c\u78ba\u8a8d\u4e2d\u306f\u3001example.com \u304c localhost \u3092\u6307\u3059\u3088\u3046\u306b/etc/hosts \u3092\u4fee\u6b63\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ sudo vim /etc/hosts\n127.0.0.1       example.com www.example.com\n\n\uff08\u6ce8\u610f\uff09\u672c\u756a\u74b0\u5883\u3067\u306f\u6b63\u3057\u3044\u30db\u30b9\u30c8\u540d\u3092\u8a2d\u5b9a\u3057\u305f\u8a8d\u8a3c\u8a3c\u660e\u66f8\u3092\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nHTTPS \u8a2d\u5b9a\u3067 Play \u3092\u8d77\u52d5\u3059\u308b\n\u8a3c\u660e\u66f8\u3092\u751f\u6210\u3057\u3001\u30db\u30b9\u30c8\u540d\u306e\u8a2d\u5b9a\u3082\u884c\u3063\u305f\u305f\u3081\u3001\u3088\u3046\u3084\u304f Play \u3092\u8d77\u52d5\u3067\u304d\u307e\u3059\u3002\n\u672c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001activator \u3067\u306f\u306a\u304f ./play \u3092\u5229\u7528\u3057\u3066\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n./play run\n\napp/https/CustomSSLEngineProvider \u304c Play \u306e HTTPS \u30b5\u30fc\u30d0\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001 Configuring HTTPS \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\uff08\u4efb\u610f\uff09\u6697\u53f7\u30b9\u30a4\u30fc\u30c8\u306e\u30ea\u30b9\u30c8\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\n\uff08\u6ce8\u610f\uff09\u4ee5\u4e0b\u306f\u52d5\u4f5c\u78ba\u8a8d\u306e\u305f\u3081\u306e\u4f5c\u696d\u3067\u3059\u3002\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u3082\u8a2d\u5b9a\u4e0a\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\nSSLyze \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://github.com/iSECPartners/sslyze/releases\nPlay \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5bfe\u3057\u3066\u3001SSLyze \u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\ncd sslyze-0_9-osx64\npython sslyze.py --regular www.example.com:9443\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n REGISTERING AVAILABLE PLUGINS\n -----------------------------\n\n  PluginOpenSSLCipherSuites\n  PluginCertInfo\n  PluginCompression\n  PluginHSTS\n  PluginHeartbleed\n  PluginSessionRenegotiation\n  PluginSessionResumption\n\n\n\n CHECKING HOST(S) AVAILABILITY\n -----------------------------\n\n   www.example.com:9443                => 127.0.0.1:9443\n\n\n\n SCAN RESULTS FOR WWW.EXAMPLE.COM:9443 - 127.0.0.1:9443\n ------------------------------------------------------\n\n  * Session Renegotiation:\n      Client-initiated Renegotiations:   Rejected\n      Secure Renegotiation:              Supported\n\n  * Compression:\n      DEFLATE Compression:               Disabled\n\n  * Heartbleed:\n      OpenSSL Heartbleed:                NOT vulnerable\n\nUnhandled exception when processing --certinfo:\nexceptions.KeyError - 'exponent'\n\n  * Session Resumption:\n      With Session IDs:                  Not supported (0 successful, 5 failed, 0 errors, 5 total attempts).\n      With TLS Session Tickets:          Not Supported - TLS ticket not assigned.\n\n  * SSLV2 Cipher Suites:\n      Server rejected all cipher suites.\n\n  * TLSV1_2 Cipher Suites:\n      Preferred:\n                 ECDHE-ECDSA-AES256-SHA384     256 bits      HTTP 200 OK\n      Accepted:\n                 ECDHE-ECDSA-AES256-SHA384     256 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES256-GCM-SHA384 256 bits      HTTP 200 OK\n                 ECDHE-ECDSA-DES-CBC3-SHA      168 bits      HTTP 200 OK\n                 ECDHE-ECDSA-RC4-SHA           128 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES128-SHA256     128 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES128-SHA        128 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES128-GCM-SHA256 128 bits      HTTP 200 OK\n\n  * TLSV1_1 Cipher Suites:\n      Preferred:\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n      Accepted:\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n                 ECDHE-ECDSA-DES-CBC3-SHA      168 bits      HTTP 200 OK\n                 ECDHE-ECDSA-RC4-SHA           128 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES128-SHA        128 bits      HTTP 200 OK\n\n  * TLSV1 Cipher Suites:\n      Preferred:\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n      Accepted:\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n                 ECDHE-ECDSA-DES-CBC3-SHA      168 bits      HTTP 200 OK\n                 ECDHE-ECDSA-RC4-SHA           128 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES128-SHA        128 bits      HTTP 200 OK\n\n  * SSLV3 Cipher Suites:\n      Preferred:\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n      Accepted:\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n                 ECDHE-ECDSA-DES-CBC3-SHA      168 bits      HTTP 200 OK\n                 ECDHE-ECDSA-RC4-SHA           128 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES128-SHA        128 bits      HTTP 200 OK\n\n\n\n SCAN COMPLETED IN 9.51 S\n ------------------------\n\n\n\uff08\u4efb\u610f\uff09\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306b\u3088\u308b\u8a8d\u8a3c\u3092\u6709\u52b9\u306b\u3059\u308b\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306b\u3088\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u3092\u6709\u52b9\u306b\u3057\u305f\u3044\u5834\u5408\u3001./play \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nJVM_OPTIONS=\"$JVM_OPTIONS -Dplay.ssl.needClientAuth=true\"\n\n\u30b5\u30fc\u30d0\u3092\u518d\u8d77\u52d5\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u51fa\u529b\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n   ECDHE-ECDSA-RC4-SHA             ClientCertificateRequested - Server requested a client certificate issued by one of the following CAs: '/C=US/ST=California/L=San Francisco/O=Example Company/OU=Example Org/CN=clientca'.\n\n\u30b5\u30fc\u30d0\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u3092\u8981\u6c42\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f\u63a5\u7d9a\u304c\u78ba\u7acb\u3059\u308b\u524d\u306b clientca \u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3067\u7f72\u540d\u3055\u308c\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3092\u63d0\u4f9b\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\n\uff08\u4efb\u610f\uff09Play WS \uff08HTTP \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\uff09\u3067\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b\n\u672c\u7bc0\u3067\u306f\u3001Play WS \u3068\u3044\u3046 HTTP/HTTPS \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3057\u3066\u3001TLS \u4e0a\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c \u3092\u884c\u3046\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\uff08\u6ce8\u610f\uff09\u30d6\u30e9\u30a6\u30b6\u3067\u306e\u307f\u30b5\u30fc\u30d0\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001HTTP / HTTPS \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u306a\u3044\u5834\u5408\u306f\u4e0d\u8981\u3067\u3059\u3002\nHTTPS \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb ws.conf \u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nws.ssl {\n\n  protocol = \"TLSv1.2\"\n\n  enabledProtocols = [ \"TLSv1.2\" ]\n\n  enabledCiphers = [\n    \"TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\"\n  ]\n\n  ws.ssl.disabledSignatureAlgorithms = \"MD2, MD4, MD5, SHA1, RSA\"\n\n  ws.ssl.disabledKeyAlgorithms = \"EC keySize < 384\"\n\n  keyManager = {\n    stores = [\n      /* Note: app must be run from ./play, which loads the KEY_PASSWORD environment variable. */\n      { type: \"JKS\", path: \"certs/client.jks\", password: ${?KEY_PASSWORD} },\n    ]\n  }\n\n  trustManager = {\n    stores = [\n      { type = \"JKS\", path = \"certs/exampletrust.jks\" }\n    ]\n  }\n}\n\nTLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 \u306f Suite B Profile for Transport Layer Security \u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5f37\u529b\u306a\u6697\u53f7\u30b9\u30fc\u30c8\u3067\u3059\u3002 (Bruce Schneier \u306fECC \u5b9a\u6570\u306f NSA \u306b\u64cd\u4f5c\u3055\u308c\u3066\u3044\u308b \u3068\u4fe1\u3058\u3066\u3044\u307e\u3059\u304c\u3001\u4ed6\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3053\u306e\u70b9\u306b\u3064\u3044\u3066\u5236\u9650\u3055\u308c\u3066\u3044\u307e\u3059\u3002\uff09\n\u524d\u8ff0\u306e\u3068\u304a\u308a\u3001\u3053\u306e\u6697\u53f7\u30b9\u30a4\u30fc\u30c8\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001JCE Unlimited Policy \u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u3060\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u524d\u63d0\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u518d\u5ea6\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nPlay WS \u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u76f4\u63a5\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u65b0\u3057\u3044\u30b7\u30a7\u30eb\u3092\u7acb\u3061\u4e0a\u3052\u3001\u4ee5\u4e0b\u3092\u30bf\u30a4\u30d7\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ ./play\n> runMain Main\n\n\u4ee5\u4e0b\u306e\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n[info] Running Main\nheader = (Content-Length,Buffer(106))\nheader = (Content-Type,Buffer(text/html; charset=utf-8))\nbody =\n<!DOCTYPE html>\n<html>\n <body>\n   <h1>Congratulations!  You are reading the page!</h1>\n </body>\n</html>\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30ad\u30fc\u3067\u306e\u307f\u52d5\u304f\u3053\u3068\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u3001ws.conf \u306e keyManager \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3001Main \u3092\u518d\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u304c\u5931\u6557\u3057\u307e\u3059\u3002\nfailure = java.net.ConnectException: Received fatal alert: bad_certificate to https://example.com:9443/\n\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b\n./play \u3092\u5229\u7528\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u69cb\u6210\u3067 Play \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002\n\nHTTP \u30d7\u30ed\u30c8\u30b3\u30eb\u306f\u7121\u52b9\nHTTPS \u30d7\u30ed\u30c8\u30b3\u30eb\u306f 9443 \u30dd\u30fc\u30c8\u3067\u6709\u52b9\n\n\u30d6\u30e9\u30a6\u30b6\u3067 https://example.com:9443 \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u304c\u30d1\u30d6\u30ea\u30c3\u30af\u8a8d\u8a3c\u5c40\u306b\u7f72\u540d\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u8b66\u544a\u304c\u51fa\u307e\u3059\u3002\n\u8b66\u544a\u304c\u51fa\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u306f\u3001certs/example.com.crt \u3092\u30d6\u30e9\u30a6\u30b6\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u30c4\u30fc\u30eb\u3092\u958b\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nChrome\u306e\u5834\u5408\u3001\u8a2d\u5b9a \u2192 HTTPS/SSL \u2192 \u8a3c\u660e\u66f8\u306e\u7ba1\u7406 \u2192 \uff08OS\u3054\u3068\u306b\u7570\u306a\u308b\u30c4\u30fc\u30eb\u304c\u958b\u304d\u307e\u3059\u3002CA\u8a3c\u660e\u66f8\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff09\nFirefox \u306e\u5834\u5408\u3001\u8a2d\u5b9a \u2192 \u8a73\u7d30 \u2192 \u8a3c\u660e\u66f8 \u2192 \u8a3c\u660e\u66f8\u306e\u8868\u793a \u2192 \u8a8d\u8a3c\u5c40\u8a3c\u660e\u66f8 \u2192 \u8aad\u307f\u8fbc\u3080 \u2192 certs/example.com.crt \u3092\u9078\u629e\n\n\u518d\u5ea6\u3001\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4eca\u5ea6\u306f Web \u30da\u30fc\u30b8\u304c\u6b63\u3057\u304f\u958b\u304d\u307e\u3059\u3002\n\n\u304a\u308f\u308a\u306b\n\u4eca\u56de\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f TLS 1.2 \u3068 ECDSA \u8a3c\u660e\u66f8\u3092\u4f7f\u3063\u3066\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f ./play \u30b9\u30af\u30ea\u30d7\u30c8\u3068\u8a3c\u660e\u66f8\u751f\u6210\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nTODO: \u5c0e\u5165\u306e\u305f\u3081\u306e\u8981\u5909\u66f4\u4e8b\u9805\n\u4eca\u56de\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u5b9f\u969b\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5229\u7528\u3059\u308b\u969b\u306e\u6ce8\u610f\u4e8b\u9805\u3092\u793a\u3057\u307e\u3059\u3002\n\n\u672c\u8a18\u4e8b\u3067\u306f\u3001Java Secure Socket Extention\uff08JSSE\uff09 API \u3092\u5229\u7528\u3057\u3066\u3001Play Framework \u3067\u5b9f\u88c5\u3057\u305f Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067SSL/TLS\u3092\u5229\u7528\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\u672c\u8a18\u4e8b\u306e\u5143\u30cd\u30bf\u306f\u3053\u3061\u3089\u3067\u3059\u3002\nhttps://github.com/wsargent/activator-play-tls-example\n\n\u672c\u8a18\u4e8b\u57f7\u7b46\u6642\u70b9\u3067\u6700\u65b0\u306e activator 1.2.12 \u306b\u5bfe\u5fdc\u3055\u305b\u305f\u30b5\u30f3\u30d7\u30eb\u3092\u3053\u3061\u3089\u306b\u7f6e\u3044\u3066\u3044\u307e\u3059\u3002\u52d5\u4f5c\u78ba\u8a8d\u306e\u969b\u306f\u3053\u3061\u3089\u3092\u5229\u7528\u304f\u3060\u3055\u3044\u3002\nhttps://github.com/ogis-onishi/activator-play-tls-example\n\n## \u524d\u63d0\n* Java 8 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u3053\u3068\u3002\n* `TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384` \u3092\u5229\u7528\u3059\u308b\u305f\u3081\u3001Unlimited Strength policy \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n * [Java downloads](http://www.oracle.com/technetwork/java/javase/downloads/index.html) \u306b\u30a2\u30af\u30bb\u30b9.\n * \"Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files for JDK/JRE 8\" \u3067\u691c\u7d22\u3002\n * \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30dd\u30ea\u30b7\u30fc\u30d5\u30a1\u30a4\u30eb\u3092 $JAVA_HOME/lib/security/ \u306b\u30b3\u30d4\u30fc\n\n## \u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306e\u751f\u6210\n\uff08\u6ce8\u610f\uff09\u30d1\u30d6\u30ea\u30c3\u30af\u8a8d\u8a3c\u5c40\u306e\u8a3c\u660e\u66f8\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001\u8a3c\u660e\u66f8\u3092\u81ea\u5206\u3067\u751f\u6210\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\nHTTPS\u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u3001X.509 \u8a3c\u660e\u66f8\u3092\u7528\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u8a3c\u660e\u66f8\u306e\u751f\u6210\u306f\u975e\u5e38\u306b\u9762\u5012\u306a\u4f5c\u696d\u306e\u305f\u3081\u3001scripts \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u7f6e\u3044\u3066\u3042\u308b\u751f\u6210\u7528\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8a3c\u660e\u66f8\u306e\u751f\u6210\u306b\u95a2\u3059\u308b\u8a73\u7d30\u306f\u3001Play WS SSL \u306e [Certificate Generation](http://www.playframework.com/documentation/2.3.x/CertificateGeneration) \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u8a3c\u660e\u66f8\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\ncd scripts/\n./gencerts.sh\n```\n\n`certs` \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u5168\u3066\u79fb\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\ncd scripts\nmkdir ../certs\nmv client* ../certs\nmv example* ../certs\nmv password ../certs\n```\n\n## \u30db\u30b9\u30c8\u540d\u306e\u8a2d\u5b9a ( example.com -> localhost\uff09\n\n\u672c\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u3001\u8a8d\u8a3c\u4e2d\u306e\u30db\u30b9\u30c8\u540d\u3092 `example.com` \u306b\u3057\u3066\u3044\u307e\u3059\u3002SSL\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u30db\u30b9\u30c8\u540d\u3092 `example.com` \u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u672c\u30b5\u30f3\u30d7\u30eb\u306e\u52d5\u4f5c\u78ba\u8a8d\u4e2d\u306f\u3001`example.com` \u304c `localhost` \u3092\u6307\u3059\u3088\u3046\u306b`/etc/hosts` \u3092\u4fee\u6b63\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n$ sudo vim /etc/hosts\n127.0.0.1       example.com www.example.com\n```\n\n\uff08\u6ce8\u610f\uff09\u672c\u756a\u74b0\u5883\u3067\u306f\u6b63\u3057\u3044\u30db\u30b9\u30c8\u540d\u3092\u8a2d\u5b9a\u3057\u305f\u8a8d\u8a3c\u8a3c\u660e\u66f8\u3092\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## HTTPS \u8a2d\u5b9a\u3067 Play \u3092\u8d77\u52d5\u3059\u308b\n\n\u8a3c\u660e\u66f8\u3092\u751f\u6210\u3057\u3001\u30db\u30b9\u30c8\u540d\u306e\u8a2d\u5b9a\u3082\u884c\u3063\u305f\u305f\u3081\u3001\u3088\u3046\u3084\u304f Play \u3092\u8d77\u52d5\u3067\u304d\u307e\u3059\u3002\n\n\u672c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001`activator` \u3067\u306f\u306a\u304f `./play` \u3092\u5229\u7528\u3057\u3066\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\n./play run\n```\n\n`app/https/CustomSSLEngineProvider` \u304c Play \u306e HTTPS \u30b5\u30fc\u30d0\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001 [Configuring HTTPS](http://www.playframework.com/documentation/2.3.x/ConfiguringHttps) \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \uff08\u4efb\u610f\uff09\u6697\u53f7\u30b9\u30a4\u30fc\u30c8\u306e\u30ea\u30b9\u30c8\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\n\n\uff08\u6ce8\u610f\uff09\u4ee5\u4e0b\u306f\u52d5\u4f5c\u78ba\u8a8d\u306e\u305f\u3081\u306e\u4f5c\u696d\u3067\u3059\u3002\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u3082\u8a2d\u5b9a\u4e0a\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\n\nSSLyze \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n[https://github.com/iSECPartners/sslyze/releases](https://github.com/iSECPartners/sslyze/releases)\n\nPlay \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5bfe\u3057\u3066\u3001SSLyze \u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\ncd sslyze-0_9-osx64\npython sslyze.py --regular www.example.com:9443\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```\n REGISTERING AVAILABLE PLUGINS\n -----------------------------\n\n  PluginOpenSSLCipherSuites\n  PluginCertInfo\n  PluginCompression\n  PluginHSTS\n  PluginHeartbleed\n  PluginSessionRenegotiation\n  PluginSessionResumption\n\n\n\n CHECKING HOST(S) AVAILABILITY\n -----------------------------\n\n   www.example.com:9443                => 127.0.0.1:9443\n\n\n\n SCAN RESULTS FOR WWW.EXAMPLE.COM:9443 - 127.0.0.1:9443\n ------------------------------------------------------\n\n  * Session Renegotiation:\n      Client-initiated Renegotiations:   Rejected\n      Secure Renegotiation:              Supported\n\n  * Compression:\n      DEFLATE Compression:               Disabled\n\n  * Heartbleed:\n      OpenSSL Heartbleed:                NOT vulnerable\n\nUnhandled exception when processing --certinfo:\nexceptions.KeyError - 'exponent'\n\n  * Session Resumption:\n      With Session IDs:                  Not supported (0 successful, 5 failed, 0 errors, 5 total attempts).\n      With TLS Session Tickets:          Not Supported - TLS ticket not assigned.\n\n  * SSLV2 Cipher Suites:\n      Server rejected all cipher suites.\n\n  * TLSV1_2 Cipher Suites:\n      Preferred:\n                 ECDHE-ECDSA-AES256-SHA384     256 bits      HTTP 200 OK\n      Accepted:\n                 ECDHE-ECDSA-AES256-SHA384     256 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES256-GCM-SHA384 256 bits      HTTP 200 OK\n                 ECDHE-ECDSA-DES-CBC3-SHA      168 bits      HTTP 200 OK\n                 ECDHE-ECDSA-RC4-SHA           128 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES128-SHA256     128 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES128-SHA        128 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES128-GCM-SHA256 128 bits      HTTP 200 OK\n\n  * TLSV1_1 Cipher Suites:\n      Preferred:\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n      Accepted:\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n                 ECDHE-ECDSA-DES-CBC3-SHA      168 bits      HTTP 200 OK\n                 ECDHE-ECDSA-RC4-SHA           128 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES128-SHA        128 bits      HTTP 200 OK\n\n  * TLSV1 Cipher Suites:\n      Preferred:\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n      Accepted:\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n                 ECDHE-ECDSA-DES-CBC3-SHA      168 bits      HTTP 200 OK\n                 ECDHE-ECDSA-RC4-SHA           128 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES128-SHA        128 bits      HTTP 200 OK\n\n  * SSLV3 Cipher Suites:\n      Preferred:\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n      Accepted:\n                 ECDHE-ECDSA-AES256-SHA        256 bits      HTTP 200 OK\n                 ECDHE-ECDSA-DES-CBC3-SHA      168 bits      HTTP 200 OK\n                 ECDHE-ECDSA-RC4-SHA           128 bits      HTTP 200 OK\n                 ECDHE-ECDSA-AES128-SHA        128 bits      HTTP 200 OK\n\n\n\n SCAN COMPLETED IN 9.51 S\n ------------------------\n ```\n\n## \uff08\u4efb\u610f\uff09\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306b\u3088\u308b\u8a8d\u8a3c\u3092\u6709\u52b9\u306b\u3059\u308b\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306b\u3088\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u3092\u6709\u52b9\u306b\u3057\u305f\u3044\u5834\u5408\u3001`./play` \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nJVM_OPTIONS=\"$JVM_OPTIONS -Dplay.ssl.needClientAuth=true\"\n```\n\n\u30b5\u30fc\u30d0\u3092\u518d\u8d77\u52d5\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u51fa\u529b\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n```\n   ECDHE-ECDSA-RC4-SHA             ClientCertificateRequested - Server requested a client certificate issued by one of the following CAs: '/C=US/ST=California/L=San Francisco/O=Example Company/OU=Example Org/CN=clientca'.\n```\n\n\u30b5\u30fc\u30d0\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u3092\u8981\u6c42\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f\u63a5\u7d9a\u304c\u78ba\u7acb\u3059\u308b\u524d\u306b `clientca` \u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3067\u7f72\u540d\u3055\u308c\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3092\u63d0\u4f9b\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\n## \uff08\u4efb\u610f\uff09Play WS \uff08HTTP \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\uff09\u3067\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b\n\n\u672c\u7bc0\u3067\u306f\u3001[Play WS](http://www.playframework.com/documentation/2.3.x/ScalaWS) \u3068\u3044\u3046 HTTP/HTTPS \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3057\u3066\u3001[TLS \u4e0a\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c](http://www.playframework.com/documentation/2.3.x/WsSSL) \u3092\u884c\u3046\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\uff08\u6ce8\u610f\uff09\u30d6\u30e9\u30a6\u30b6\u3067\u306e\u307f\u30b5\u30fc\u30d0\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001HTTP / HTTPS \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u306a\u3044\u5834\u5408\u306f\u4e0d\u8981\u3067\u3059\u3002\n\nHTTPS \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb `ws.conf` \u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```\nws.ssl {\n\n  protocol = \"TLSv1.2\"\n\n  enabledProtocols = [ \"TLSv1.2\" ]\n\n  enabledCiphers = [\n    \"TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\"\n  ]\n\n  ws.ssl.disabledSignatureAlgorithms = \"MD2, MD4, MD5, SHA1, RSA\"\n\n  ws.ssl.disabledKeyAlgorithms = \"EC keySize < 384\"\n\n  keyManager = {\n    stores = [\n      /* Note: app must be run from ./play, which loads the KEY_PASSWORD environment variable. */\n      { type: \"JKS\", path: \"certs/client.jks\", password: ${?KEY_PASSWORD} },\n    ]\n  }\n\n  trustManager = {\n    stores = [\n      { type = \"JKS\", path = \"certs/exampletrust.jks\" }\n    ]\n  }\n}\n```\n\n`TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384` \u306f [Suite B Profile for Transport Layer Security](http://tools.ietf.org/html/rfc5430) \u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5f37\u529b\u306a\u6697\u53f7\u30b9\u30fc\u30c8\u3067\u3059\u3002 (Bruce Schneier \u306f[ECC \u5b9a\u6570\u306f NSA \u306b\u64cd\u4f5c\u3055\u308c\u3066\u3044\u308b](https://www.schneier.com/blog/archives/2013/09/the_nsa_is_brea.html#c1675929) \u3068\u4fe1\u3058\u3066\u3044\u307e\u3059\u304c\u3001\u4ed6\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3053\u306e\u70b9\u306b\u3064\u3044\u3066\u5236\u9650\u3055\u308c\u3066\u3044\u307e\u3059\u3002\uff09\n\n\u524d\u8ff0\u306e\u3068\u304a\u308a\u3001\u3053\u306e\u6697\u53f7\u30b9\u30a4\u30fc\u30c8\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001JCE Unlimited Policy \u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u3060\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u524d\u63d0\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u518d\u5ea6\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n[Play WS](http://www.playframework.com/documentation/2.3.x/ScalaWS) \u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u76f4\u63a5\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u65b0\u3057\u3044\u30b7\u30a7\u30eb\u3092\u7acb\u3061\u4e0a\u3052\u3001\u4ee5\u4e0b\u3092\u30bf\u30a4\u30d7\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n$ ./play\n> runMain Main\n```\n\n\u4ee5\u4e0b\u306e\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```\n[info] Running Main\nheader = (Content-Length,Buffer(106))\nheader = (Content-Type,Buffer(text/html; charset=utf-8))\nbody =\n<!DOCTYPE html>\n<html>\n <body>\n   <h1>Congratulations!  You are reading the page!</h1>\n </body>\n</html>\n```\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30ad\u30fc\u3067\u306e\u307f\u52d5\u304f\u3053\u3068\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u3001`ws.conf` \u306e keyManager \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3001`Main` \u3092\u518d\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u304c\u5931\u6557\u3057\u307e\u3059\u3002\n\n```\nfailure = java.net.ConnectException: Received fatal alert: bad_certificate to https://example.com:9443/\n```\n\n## \u30d6\u30e9\u30a6\u30b6\u3067\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b\n\n`./play` \u3092\u5229\u7528\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u69cb\u6210\u3067 Play \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n* HTTP \u30d7\u30ed\u30c8\u30b3\u30eb\u306f\u7121\u52b9\n* HTTPS \u30d7\u30ed\u30c8\u30b3\u30eb\u306f 9443 \u30dd\u30fc\u30c8\u3067\u6709\u52b9\n\n\u30d6\u30e9\u30a6\u30b6\u3067 https://example.com:9443 \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u304c\u30d1\u30d6\u30ea\u30c3\u30af\u8a8d\u8a3c\u5c40\u306b\u7f72\u540d\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u8b66\u544a\u304c\u51fa\u307e\u3059\u3002\n\n\u8b66\u544a\u304c\u51fa\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u306f\u3001`certs/example.com.crt` \u3092\u30d6\u30e9\u30a6\u30b6\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u30c4\u30fc\u30eb\u3092\u958b\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n* Chrome\u306e\u5834\u5408\u3001\u8a2d\u5b9a \u2192 HTTPS/SSL \u2192 \u8a3c\u660e\u66f8\u306e\u7ba1\u7406 \u2192 \uff08OS\u3054\u3068\u306b\u7570\u306a\u308b\u30c4\u30fc\u30eb\u304c\u958b\u304d\u307e\u3059\u3002CA\u8a3c\u660e\u66f8\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff09\n* Firefox \u306e\u5834\u5408\u3001\u8a2d\u5b9a \u2192 \u8a73\u7d30 \u2192 \u8a3c\u660e\u66f8 \u2192 \u8a3c\u660e\u66f8\u306e\u8868\u793a \u2192 \u8a8d\u8a3c\u5c40\u8a3c\u660e\u66f8 \u2192 \u8aad\u307f\u8fbc\u3080 \u2192 certs/example.com.crt \u3092\u9078\u629e\n\n\u518d\u5ea6\u3001\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4eca\u5ea6\u306f Web \u30da\u30fc\u30b8\u304c\u6b63\u3057\u304f\u958b\u304d\u307e\u3059\u3002\n\n## \u304a\u308f\u308a\u306b\n\n\u4eca\u56de\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f TLS 1.2 \u3068 ECDSA \u8a3c\u660e\u66f8\u3092\u4f7f\u3063\u3066\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f `./play` \u30b9\u30af\u30ea\u30d7\u30c8\u3068\u8a3c\u660e\u66f8\u751f\u6210\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## TODO: \u5c0e\u5165\u306e\u305f\u3081\u306e\u8981\u5909\u66f4\u4e8b\u9805\n\n\u4eca\u56de\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u5b9f\u969b\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5229\u7528\u3059\u308b\u969b\u306e\u6ce8\u610f\u4e8b\u9805\u3092\u793a\u3057\u307e\u3059\u3002\n\n\n"}