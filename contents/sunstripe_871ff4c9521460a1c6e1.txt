{"tags": ["iOS", "Objective-C", "graph", "Facebook", "api"], "context": "\n\n\u6307\u5b9a\u3059\u308bURL\u306e\u30b7\u30a7\u30a2\u6570\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\nhttps://graph.facebook.com/?id=http://sunstripe.main.jp/\n\nSSGrapheFacebookManager.h\n//\n//  SSGrapheFacebookManager.h\n//  SampleCode\n//\n//  Created by http://sunstripe.main.jp on 2017/02/27.\n//  Copyright \u00a9 2017\u5e74 SampleCode. All rights reserved.\n//\n\n@interface SSGrapheFacebookManager : NSObject<NSURLConnectionDelegate>\n\n\n@property (nonatomic, retain) NSDictionary *responseDict;\n\n// API id=URL\n- (NSDictionary *)SSGFManagerInfoWithURLString:(NSString *)URLString;\n\n\n\nSSGrapheFacebookManager.m\n//\n//  SSGrapheFacebookManager.m\n//  SampleCode\n//\n//  Created by http://sunstripe.main.jp on 2017/02/27.\n//  Copyright \u00a9 2017\u5e74 SampleCode. All rights reserved.\n//\n\n#import \"SSGrapheFacebookManager.h\"\n\n@implementation SSGrapheFacebookManager\n\n+ (NSString *)URLString {\n    return @\"https://graph.facebook.com/\";\n}\n\n- (NSDictionary *)SSGFManagerInfoWithURLString:(NSString *)URLString\n{    \n    return [self get:[SSGrapheFacebookManager URLString] withParameters:@{\n                                                                          @\"id\":URLString\n                                                                          }];\n}\n\n- (NSDictionary *)get:(NSString *)urlString withParameters:(NSDictionary *)params {\n\n    NSString *httpString = [self buildParameters:params];\n    NSError *error = nil;\n    NSURLResponse *response;\n    self.receivedData = [[NSMutableData alloc] init];\n    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];\n    [request setURL:[NSURL URLWithString:[NSString stringWithFormat:@\"%@?%@\", urlString, httpString]]];\n    [request setHTTPMethod:@\"GET\"];\n\n    NSData *data = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];\n\n    if(data){\n        _responseDict = [NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:&error];\n    }\n    return _responseDict;\n}\n\n- (NSString *)buildParameters:(NSDictionary *)params {\n\n    NSMutableString *stringToParam = [NSMutableString string];\n\n    NSString *key;\n    for ( key in params ) {\n        NSString *uriEncodedValue = [params objectForKey:key];\n        [stringToParam appendFormat:@\"%@=%@&\", key, uriEncodedValue];\n    }\n\n    if ( [stringToParam length] > 0 ) {\n        [stringToParam deleteCharactersInRange:NSMakeRange([stringToParam length]-1, 1)];\n    }\n\n    return stringToParam;\n}\n\n\n\n\u547c\u3073\u51fa\u3057\n#import \"SSGrapheFacebookManager.h\"\n//\u4f8b\uff1a\n- (void)getIDInfo {\n    SSGrapheFacebookManager *gfm = [SSGrapheFacebookManager new];\n    // id GET\n    NSDictionary *idInfo = [gfm SSGFManagerInfoWithURLString:@\"http://sunstripe.main.jp\"];\n\n   NSLog(@\"share count : %d\",[idInfo@[@\"share\"][@\"share_count\"] intValue]);\n   NSLog(@\"%@\",idInfo);\n}\n\n\n\u30ed\u30b0\u3092\u51fa\u3057\u3066\u307f\u308b\nshare count : 8 \n\n\n{\n    id = \"http://sunstripe.main.jp\";\n    \"og_object\" =     {\n        description = \"\\U30af\\U30ea\\U30a8\\U30fc\\U30bf\\U30fc\\U306e\\U53ef\\U80fd\\U6027\\U3092\\U5f15\\U304d\\U51fa\\U3059\\U30b5\\U30f3\\U30b9\\U30c8\\U30e9\\U30a4\\U30d7 - \\U30aa\\U30d5\\U30a3\\U30b7\\U30e3\\U30eb\\U30b5\\U30a4\\U30c8\\U3002 \\U3059\\U3079\\U3066\\U306e\\U53cb\\U9054\\U3092\\U7b11\\U9854\\U306b - \\U3059\\U3079\\U3066\\U306e\\U53cb\\U9054\\U3092\\U53ef\\U80fd\\U6027\\U306e\\U5149\\U306b\\U5909\\U3048\\U3066 - http://sunstripe.main.jp/ - \\U63b4\\U307e\\U306a\\U3044\\U3068\\U3044\\U3051\\U306a\\U3044\\U306e\\U306f\\U6642\\U4ee3\\U306e\\U6d41\\U308c\\U306a\\U306e\\U304b\\U3082\\U3057\\U308c\\U306a\\U3044\\U3002\";\n        id = 931382006960733;\n        title = \"\\U5236\\U4f5c\\U30c1\\U30fc\\U30e0 - Sun Stripe\";\n        type = website;\n        \"updated_time\" = \"2017-02-14T03:55:29+0000\";\n    };\n    share =     {\n        \"comment_count\" = 0;\n        \"share_count\" = 8;\n    };\n}\n\n\n\u7d50\u679c\n\u547c\u3073\u51fa\u3057\u306f\u3001\u6210\u529f\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\uff01\nhttps://graph.facebook.com/?id=URL URL\u306b\u5165\u308c\u3066\u307f\u3066\u3044\u308d\u3044\u308d\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n##\u6307\u5b9a\u3059\u308bURL\u306e\u30b7\u30a7\u30a2\u6570\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\n\nhttps://graph.facebook.com/?id=http://sunstripe.main.jp/\n\n###SSGrapheFacebookManager.h\n~~~ObjectiveC\n//\n//  SSGrapheFacebookManager.h\n//  SampleCode\n//\n//  Created by http://sunstripe.main.jp on 2017/02/27.\n//  Copyright \u00a9 2017\u5e74 SampleCode. All rights reserved.\n//\n\n@interface SSGrapheFacebookManager : NSObject<NSURLConnectionDelegate>\n\n\n@property (nonatomic, retain) NSDictionary *responseDict;\n\n// API id=URL\n- (NSDictionary *)SSGFManagerInfoWithURLString:(NSString *)URLString;\n\n~~~\n\n###SSGrapheFacebookManager.m\n~~~ObjectiveC\n//\n//  SSGrapheFacebookManager.m\n//  SampleCode\n//\n//  Created by http://sunstripe.main.jp on 2017/02/27.\n//  Copyright \u00a9 2017\u5e74 SampleCode. All rights reserved.\n//\n\n#import \"SSGrapheFacebookManager.h\"\n\n@implementation SSGrapheFacebookManager\n\n+ (NSString *)URLString {\n    return @\"https://graph.facebook.com/\";\n}\n\n- (NSDictionary *)SSGFManagerInfoWithURLString:(NSString *)URLString\n{    \n    return [self get:[SSGrapheFacebookManager URLString] withParameters:@{\n                                                                          @\"id\":URLString\n                                                                          }];\n}\n\n- (NSDictionary *)get:(NSString *)urlString withParameters:(NSDictionary *)params {\n    \n    NSString *httpString = [self buildParameters:params];\n    NSError *error = nil;\n    NSURLResponse *response;\n    self.receivedData = [[NSMutableData alloc] init];\n    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];\n    [request setURL:[NSURL URLWithString:[NSString stringWithFormat:@\"%@?%@\", urlString, httpString]]];\n    [request setHTTPMethod:@\"GET\"];\n    \n    NSData *data = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];\n    \n    if(data){\n        _responseDict = [NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:&error];\n    }\n    return _responseDict;\n}\n\n- (NSString *)buildParameters:(NSDictionary *)params {\n    \n    NSMutableString *stringToParam = [NSMutableString string];\n    \n    NSString *key;\n    for ( key in params ) {\n        NSString *uriEncodedValue = [params objectForKey:key];\n        [stringToParam appendFormat:@\"%@=%@&\", key, uriEncodedValue];\n    }\n    \n    if ( [stringToParam length] > 0 ) {\n        [stringToParam deleteCharactersInRange:NSMakeRange([stringToParam length]-1, 1)];\n    }\n    \n    return stringToParam;\n}\n\n~~~\n\n\n###\u547c\u3073\u51fa\u3057\n\n~~~ObjectiveC\n#import \"SSGrapheFacebookManager.h\"\n//\u4f8b\uff1a\n- (void)getIDInfo {\n    SSGrapheFacebookManager *gfm = [SSGrapheFacebookManager new];\n    // id GET\n    NSDictionary *idInfo = [gfm SSGFManagerInfoWithURLString:@\"http://sunstripe.main.jp\"];\n\n   NSLog(@\"share count : %d\",[idInfo@[@\"share\"][@\"share_count\"] intValue]);\n   NSLog(@\"%@\",idInfo);\n}\n~~~\n\n###\u30ed\u30b0\u3092\u51fa\u3057\u3066\u307f\u308b\n\n~~~LOG\nshare count : 8 \n\n\n{\n    id = \"http://sunstripe.main.jp\";\n    \"og_object\" =     {\n        description = \"\\U30af\\U30ea\\U30a8\\U30fc\\U30bf\\U30fc\\U306e\\U53ef\\U80fd\\U6027\\U3092\\U5f15\\U304d\\U51fa\\U3059\\U30b5\\U30f3\\U30b9\\U30c8\\U30e9\\U30a4\\U30d7 - \\U30aa\\U30d5\\U30a3\\U30b7\\U30e3\\U30eb\\U30b5\\U30a4\\U30c8\\U3002 \\U3059\\U3079\\U3066\\U306e\\U53cb\\U9054\\U3092\\U7b11\\U9854\\U306b - \\U3059\\U3079\\U3066\\U306e\\U53cb\\U9054\\U3092\\U53ef\\U80fd\\U6027\\U306e\\U5149\\U306b\\U5909\\U3048\\U3066 - http://sunstripe.main.jp/ - \\U63b4\\U307e\\U306a\\U3044\\U3068\\U3044\\U3051\\U306a\\U3044\\U306e\\U306f\\U6642\\U4ee3\\U306e\\U6d41\\U308c\\U306a\\U306e\\U304b\\U3082\\U3057\\U308c\\U306a\\U3044\\U3002\";\n        id = 931382006960733;\n        title = \"\\U5236\\U4f5c\\U30c1\\U30fc\\U30e0 - Sun Stripe\";\n        type = website;\n        \"updated_time\" = \"2017-02-14T03:55:29+0000\";\n    };\n    share =     {\n        \"comment_count\" = 0;\n        \"share_count\" = 8;\n    };\n}\n~~~\n\n###\u7d50\u679c\n\u547c\u3073\u51fa\u3057\u306f\u3001\u6210\u529f\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\uff01\nhttps://graph.facebook.com/?id=URL URL\u306b\u5165\u308c\u3066\u307f\u3066\u3044\u308d\u3044\u308d\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n"}