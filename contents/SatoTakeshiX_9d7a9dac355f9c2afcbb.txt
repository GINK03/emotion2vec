{"context": "AppleWatch\u306e\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u53d7\u4fe1\u3057\u305f\u969b\u306b\u30dc\u30bf\u30f3\u3092\u3064\u3051\u3089\u308c\u308b\u3093\u3067\u3059\u304c\u3001\u305d\u306e\u969b\u306e\u51e6\u7406\u304c\u30b7\u30e5\u30df\u30ec\u30fc\u30bf\u30fc\u3068\u5b9f\u6a5f\u3067\u5168\u7136\u9055\u3046\u3053\u3068\u306b\u885d\u6483\u3092\u53d7\u3051\u3066\u3001\u8a18\u4e8b\u306b\u3057\u307e\u3057\u305f\u3002\n\u7686\u69d8\u306eAppleWatch\u5b9f\u88c5\u306e\u624b\u52a9\u3051\u306b\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n\u30b7\u30e5\u30df\u30ec\u30fc\u30bf\u30fc\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\nApple Watch\u306eExtension\u3092\u4f5c\u6210\u3057\u305f\u3055\u3044\u306b\u4ee5\u4e0b\u306e\u30b0\u30eb\u30fc\u30d7\u306bapns\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u307e\u3059\u3002\n Extension > PushNotificationPayload.apns\n\nPushNotificationPayload.apns\n{\n    \"aps\": {\n        \"alert\": {\n            \"body\": \"Test message\",\n            \"title\": \"Optional title\"\n        },\n        \"category\": \"myCategory\"\n    },\n\n    \"WatchKit Simulator Actions\": [\n        {\n            \"title\": \"First Button\",\n            \"identifier\": \"firstButtonAction\"\n        }\n    ],\n\n    \"customKey\": \"Use this file to define a testing payload for your notifications. The aps dictionary specifies the category, alert text and title. The WatchKit Simulator Actions array can provide info for one or more action buttons in addition to the standard Dismiss button. Any other top level keys are custom payload. If you have multiple such JSON files in your project, you'll be able to select them when choosing to debug the notification interface of your Watch App.\"\n}\n\n\n\n\n\u3053\u308c\u3092\u30ce\u30fc\u30c6\u30a3\u30d5\u30a3\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b9\u30ad\u30fc\u30de\u3067\u30d3\u30eb\u30c9\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u69d8\u306a\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n    \"WatchKit Simulator Actions\": [\n        {\n            \"title\": \"First Button\",\n            \"identifier\": \"firstButtonAction\"\n        }\n    ],\n\n\n\u306etitle\u304c\u30dc\u30bf\u30f3\u306e\u6587\u5b57\u5217\u306b\u306a\u308a\u307e\u3059\u3002\n\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068WKInterfaceController\u30af\u30e9\u30b9\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068InterfaceController\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001- handleActionWithIdentifier:forRemoteNotification:\u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u307e\u3059\u3002\n\nInterfaceController.swift\noverride func handleActionWithIdentifier(identifier: String?, forRemoteNotification remoteNotification: [NSObject : AnyObject]) {\n\n    if let notificationIdentifier = identifier {\n        if notificationIdentifier == \"firstButtonAction\" {\n            NSLog(\"Apple Watch Notification Started\")\n        }\n    }\n}\n\n\n\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306eidentifier\u306bWatchKit Simulator Actions\u306eidentifier\u304c\u6e21\u3055\u308c\u308b\u306e\u3067\u3001\u305d\u308c\u3092if\u6587\u3067\u5224\u5225\u3059\u308c\u3070\u3001\u3053\u306eidentifier\u306b\u306f\u3053\u306e\u51e6\u7406\u3068\u3044\u3046\u306e\u3092\u51fa\u3057\u5206\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30b7\u30e5\u30df\u30ec\u30fc\u30bf\u30fc\u306f\u7c21\u5358\u3002\n\u5b9f\u6a5f\u304c\u3084\u3084\u3053\u3057\u3044\u3002\n\nAppleWatch\u5b9f\u6a5f\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\nAppleWatch\u306e\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u53d7\u4fe1\u30bf\u30a4\u30df\u30f3\u30b0\u306fiPhone\u304c\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u53d7\u4fe1\u3057\u305f\u3051\u3069\u3001\u30b9\u30ea\u30fc\u30d7\u306a\u3069\u3067\u53d7\u3051\u53d6\u308c\u306a\u3044\u5834\u5408\u3067\u3059\u3002\n\u57fa\u672c\u7684\u306b\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306fiPhone\u3082AppleWatch\u3082\u4ed5\u7d44\u307f\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002\nAppleWatch\u5b9f\u6a5f\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u53d7\u4fe1\u306e\u969b\u306b\u3001\u30dc\u30bf\u30f3\u3092\u3064\u3051\u308b\u306b\u306fiOS\u5074\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u767b\u9332\u3059\u308b\u969b\u306b\u30ab\u30c6\u30b4\u30ea\u3092\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u79c1\u306f\u3088\u304f\u3001AppDelegate.swift\u3067\u767b\u9332\u3092\u3059\u308b\u306e\u3067\u3059\u304c\u3001\u3053\u3093\u306a\u611f\u3058\u306e\u5b9f\u88c5\u306b\u306a\u308a\u307e\u3059\u3002\n\nAppDelegate.swift\nfunc application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -> Bool {\n\n    //push\u901a\u77e5\n    self.setupPushNotification(application)\nreturn true\n}\n\n//MARK: Push\u901a\u77e5\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nfunc setupPushNotification(application: UIApplication) {\n\n    let firstAction = UIMutableUserNotificationAction()\n    firstAction.title = \"First Button\"\n    firstAction.identifier = \"firstButtonAction\"\n    firstAction.activationMode = UIUserNotificationActivationMode.Foreground\n    firstAction.authenticationRequired = false\n\n    let myCategory = UIMutableUserNotificationCategory()\n    myCategory.setActions([firstAction], forContext: UIUserNotificationActionContext.Default)\n    myCategory.identifier = \"myCategory\"\n\n    let categories = Set<UIUserNotificationCategory>([myCategory])\n\n    application.registerForRemoteNotifications()\n    let mySettings = UIUserNotificationSettings(forTypes: [.Alert, .Badge, .Sound],\n                                              categories: categories)\n\n    application.registerUserNotificationSettings(mySettings)\n}\n\n\n\n\u305d\u3057\u3066\u3001\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u9001\u308b\u969b\u306ejson\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\nlet payload = {\n    APNS: {\n        aps: {\n            \"alert\": event.message,\n            \"sound\": \"default\",\n            \"priority\": 10,\n            \"category\":\"myCategory\"\n        }\n    },\n    APNS_SANDBOX: {\n        aps: {\n            \"alert\": event.message,\n            \"sound\": \"default\",\n            \"priority\": 10,\n            \"category\":\"myCategory\"\n        }\n    }\n};\n\n\u30ab\u30c6\u30b4\u30ea\u30fc\u306biOS\u5074\u3067\u8a2d\u5b9a\u3057\u305f\u30ab\u30c6\u30b4\u30ea\u30fc(myCategory)\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3053\u308c\u3092\u3057\u3066\u3088\u3046\u3084\u304f\u3001\u5b9f\u6a5f\u306eAppleWatch\u3067\u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30dc\u30bf\u30f3\u3092\u63a8\u3057\u305f\u5f8c\u306e\u51e6\u7406\u306f\u30b7\u30e5\u30df\u30ec\u30fc\u30bf\u30fc\u3068\u4e00\u7dd2\u3067\u3059\u3002\n\n\u3000\u6700\u5f8c\u306b\n\u6700\u521d\u79c1\u52d8\u9055\u3044\u3057\u3066\u305f\u306e\u3067\u3059\u3002\n\u30b7\u30e5\u30df\u30ec\u30fc\u30bf\u30fc\u306fPushNotificationPayload.apns\u30d5\u30a1\u30a4\u30eb\u3092\u3044\u3058\u308b\u3060\u3051\u3067\u3001\u7c21\u5358\u306b\u8a2d\u5b9a\u3067\u304d\u308b\u306e\u3067\u5b9f\u6a5f\u3082apn\u306ejson\u30d5\u30a1\u30a4\u30eb\u306b\u305d\u308c\u3089\u3057\u3044\u8a2d\u5b9a\u9805\u76ee\u3092\u3044\u308c\u308c\u3070\u3044\u3051\u308b\u3060\u308d\u3046\u3068\u601d\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u3002\njson\u30d5\u30a1\u30a4\u30eb\u3092\u3044\u3058\u3063\u3066\u3082\u5b9f\u6a5f\u306b\u306f\u53cd\u6620\u3055\u308c\u307e\u305b\u3093\u3002\n\u5b9f\u6a5f\u306f\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306b\u30ab\u30c6\u30b4\u30ea\u3092\u8a2d\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u307e\u305b\u3093\u3002\n\u6c17\u3092\u3064\u3051\u307e\u3057\u3087\u3046\u3002\nAppleWatch\u306e\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u53d7\u4fe1\u3057\u305f\u969b\u306b\u30dc\u30bf\u30f3\u3092\u3064\u3051\u3089\u308c\u308b\u3093\u3067\u3059\u304c\u3001\u305d\u306e\u969b\u306e\u51e6\u7406\u304c\u30b7\u30e5\u30df\u30ec\u30fc\u30bf\u30fc\u3068\u5b9f\u6a5f\u3067\u5168\u7136\u9055\u3046\u3053\u3068\u306b\u885d\u6483\u3092\u53d7\u3051\u3066\u3001\u8a18\u4e8b\u306b\u3057\u307e\u3057\u305f\u3002\n\u7686\u69d8\u306eAppleWatch\u5b9f\u88c5\u306e\u624b\u52a9\u3051\u306b\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n\n## \u30b7\u30e5\u30df\u30ec\u30fc\u30bf\u30fc\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\nApple Watch\u306eExtension\u3092\u4f5c\u6210\u3057\u305f\u3055\u3044\u306b\u4ee5\u4e0b\u306e\u30b0\u30eb\u30fc\u30d7\u306bapns\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n<YOURAPPNAME> Extension > PushNotificationPayload.apns\n\n```json:PushNotificationPayload.apns\n{\n    \"aps\": {\n        \"alert\": {\n            \"body\": \"Test message\",\n            \"title\": \"Optional title\"\n        },\n        \"category\": \"myCategory\"\n    },\n    \n    \"WatchKit Simulator Actions\": [\n        {\n            \"title\": \"First Button\",\n            \"identifier\": \"firstButtonAction\"\n        }\n    ],\n    \n    \"customKey\": \"Use this file to define a testing payload for your notifications. The aps dictionary specifies the category, alert text and title. The WatchKit Simulator Actions array can provide info for one or more action buttons in addition to the standard Dismiss button. Any other top level keys are custom payload. If you have multiple such JSON files in your project, you'll be able to select them when choosing to debug the notification interface of your Watch App.\"\n}\n\n\n```\n\n\u3053\u308c\u3092\u30ce\u30fc\u30c6\u30a3\u30d5\u30a3\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b9\u30ad\u30fc\u30de\u3067\u30d3\u30eb\u30c9\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u69d8\u306a\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n![Simulator Screen Shot 2016.08.29 23.34.47.png](https://qiita-image-store.s3.amazonaws.com/0/31587/f014c2c7-ea35-5d01-c4e9-a06d1d825fed.png \"Simulator Screen Shot 2016.08.29 23.34.47.png\")\n\n```json\n    \"WatchKit Simulator Actions\": [\n        {\n            \"title\": \"First Button\",\n            \"identifier\": \"firstButtonAction\"\n        }\n    ],\n\n```\n\u306etitle\u304c\u30dc\u30bf\u30f3\u306e\u6587\u5b57\u5217\u306b\u306a\u308a\u307e\u3059\u3002\n\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068`WKInterfaceController\u30af\u30e9\u30b9`\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068`InterfaceController`\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001`- handleActionWithIdentifier:forRemoteNotification:`\u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u307e\u3059\u3002\n\n```swift:InterfaceController.swift\noverride func handleActionWithIdentifier(identifier: String?, forRemoteNotification remoteNotification: [NSObject : AnyObject]) {\n    \n    if let notificationIdentifier = identifier {\n        if notificationIdentifier == \"firstButtonAction\" {\n            NSLog(\"Apple Watch Notification Started\")\n        }\n    }\n}\n\n```\n\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306eidentifier\u306bWatchKit Simulator Actions\u306eidentifier\u304c\u6e21\u3055\u308c\u308b\u306e\u3067\u3001\u305d\u308c\u3092if\u6587\u3067\u5224\u5225\u3059\u308c\u3070\u3001\u3053\u306eidentifier\u306b\u306f\u3053\u306e\u51e6\u7406\u3068\u3044\u3046\u306e\u3092\u51fa\u3057\u5206\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30b7\u30e5\u30df\u30ec\u30fc\u30bf\u30fc\u306f\u7c21\u5358\u3002\n\u5b9f\u6a5f\u304c\u3084\u3084\u3053\u3057\u3044\u3002\n\n## AppleWatch\u5b9f\u6a5f\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\n\nAppleWatch\u306e\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u53d7\u4fe1\u30bf\u30a4\u30df\u30f3\u30b0\u306fiPhone\u304c\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u53d7\u4fe1\u3057\u305f\u3051\u3069\u3001\u30b9\u30ea\u30fc\u30d7\u306a\u3069\u3067\u53d7\u3051\u53d6\u308c\u306a\u3044\u5834\u5408\u3067\u3059\u3002\n\u57fa\u672c\u7684\u306b\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306fiPhone\u3082AppleWatch\u3082\u4ed5\u7d44\u307f\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002\n\n\nAppleWatch\u5b9f\u6a5f\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u53d7\u4fe1\u306e\u969b\u306b\u3001\u30dc\u30bf\u30f3\u3092\u3064\u3051\u308b\u306b\u306fiOS\u5074\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u767b\u9332\u3059\u308b\u969b\u306b\u30ab\u30c6\u30b4\u30ea\u3092\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u79c1\u306f\u3088\u304f\u3001AppDelegate.swift\u3067\u767b\u9332\u3092\u3059\u308b\u306e\u3067\u3059\u304c\u3001\u3053\u3093\u306a\u611f\u3058\u306e\u5b9f\u88c5\u306b\u306a\u308a\u307e\u3059\u3002\n\n```swift:AppDelegate.swift\nfunc application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -> Bool {\n\n    //push\u901a\u77e5\n    self.setupPushNotification(application)\nreturn true\n}\n\n//MARK: Push\u901a\u77e5\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nfunc setupPushNotification(application: UIApplication) {\n    \n    let firstAction = UIMutableUserNotificationAction()\n    firstAction.title = \"First Button\"\n    firstAction.identifier = \"firstButtonAction\"\n    firstAction.activationMode = UIUserNotificationActivationMode.Foreground\n    firstAction.authenticationRequired = false\n    \n    let myCategory = UIMutableUserNotificationCategory()\n    myCategory.setActions([firstAction], forContext: UIUserNotificationActionContext.Default)\n    myCategory.identifier = \"myCategory\"\n\n    let categories = Set<UIUserNotificationCategory>([myCategory])\n    \n    application.registerForRemoteNotifications()\n    let mySettings = UIUserNotificationSettings(forTypes: [.Alert, .Badge, .Sound],\n                                              categories: categories)\n    \n    application.registerUserNotificationSettings(mySettings)\n}\n\n```\n\n\u305d\u3057\u3066\u3001\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u9001\u308b\u969b\u306ejson\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\n```json\nlet payload = {\n    APNS: {\n        aps: {\n            \"alert\": event.message,\n            \"sound\": \"default\",\n            \"priority\": 10,\n            \"category\":\"myCategory\"\n        }\n    },\n    APNS_SANDBOX: {\n        aps: {\n            \"alert\": event.message,\n            \"sound\": \"default\",\n            \"priority\": 10,\n            \"category\":\"myCategory\"\n        }\n    }\n};\n```\n\n\u30ab\u30c6\u30b4\u30ea\u30fc\u306biOS\u5074\u3067\u8a2d\u5b9a\u3057\u305f\u30ab\u30c6\u30b4\u30ea\u30fc(myCategory)\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3053\u308c\u3092\u3057\u3066\u3088\u3046\u3084\u304f\u3001\u5b9f\u6a5f\u306eAppleWatch\u3067\u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30dc\u30bf\u30f3\u3092\u63a8\u3057\u305f\u5f8c\u306e\u51e6\u7406\u306f\u30b7\u30e5\u30df\u30ec\u30fc\u30bf\u30fc\u3068\u4e00\u7dd2\u3067\u3059\u3002\n\n##\u3000\u6700\u5f8c\u306b\n\u6700\u521d\u79c1\u52d8\u9055\u3044\u3057\u3066\u305f\u306e\u3067\u3059\u3002\n\u30b7\u30e5\u30df\u30ec\u30fc\u30bf\u30fc\u306fPushNotificationPayload.apns\u30d5\u30a1\u30a4\u30eb\u3092\u3044\u3058\u308b\u3060\u3051\u3067\u3001\u7c21\u5358\u306b\u8a2d\u5b9a\u3067\u304d\u308b\u306e\u3067\u5b9f\u6a5f\u3082apn\u306ejson\u30d5\u30a1\u30a4\u30eb\u306b\u305d\u308c\u3089\u3057\u3044\u8a2d\u5b9a\u9805\u76ee\u3092\u3044\u308c\u308c\u3070\u3044\u3051\u308b\u3060\u308d\u3046\u3068\u601d\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u3002\njson\u30d5\u30a1\u30a4\u30eb\u3092\u3044\u3058\u3063\u3066\u3082\u5b9f\u6a5f\u306b\u306f\u53cd\u6620\u3055\u308c\u307e\u305b\u3093\u3002\n\u5b9f\u6a5f\u306f\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306b\u30ab\u30c6\u30b4\u30ea\u3092\u8a2d\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u307e\u305b\u3093\u3002\n\u6c17\u3092\u3064\u3051\u307e\u3057\u3087\u3046\u3002\n\n\n\n", "tags": ["iOS", "AppleWatch", "WatchKit", "Swift"]}