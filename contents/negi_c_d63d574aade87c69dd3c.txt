{"context": "RHEL7.2\u306bPowerCLI core\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3057\u305f\u3002\nPowerCLI Core\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306f\u3053\u3061\u3089\u304b\u3089\u3002\n\n\u524d\u63d0\n\u4e3b\u3060\u3063\u305f\u3082\u306e\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u74b0\u5883\u3067\u5b9f\u65bd\u3057\u307e\u3057\u305f\u3002\n\nRed Hat Enterprise Linux 7.2\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u3042\u308a\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30e1\u30c7\u30a3\u30a2\u304b\u3089yum\u304c\u5b9f\u884c\u3067\u304d\u308b\n\n\nPowerShell\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nPowerCLI core\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u306fPowerShell\u304c\u5fc5\u8981\u306a\u306e\u3067\u6700\u521d\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nPowerShell\u306erpm\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3002\n# wget https://github.com/PowerShell/PowerShell/releases/download/v6.0.0-alpha.13/powershell-6.0.0_alpha.13-1.el7.centos.x86_64.rpm\n\nDVD\uff08/media\u306b\u30de\u30a6\u30f3\u30c8\u6e08\u307f\uff09\u304b\u3089yum\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\n/etc/yum.repos.d/media.repo\u30d5\u30a1\u30a4\u30eb\u3092\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u4f5c\u6210\u3002\n[media]\nname=media\nbaseurl=file:///media/\ngpgcheck=1\nenabled=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release\n\nPowerShel\u306erpm\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n# yum localinstall powershell-6.0.0_alpha.13-1.el7.centos.x86_64.rpm`\n\n\nPowerCLI core\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ee5\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3002\n# mkdir /root/.local/share/powershell/Modules\n\nPowerCLI core\u306ezip\u30d5\u30a1\u30a4\u30eb\u3092\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3002\n# mv PowerCLI_Core.zip /root/.local/share/powershell/Modules\n\nzip\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u51cd\n# cd /root/.local/share/powershell/Modules\n# unzip PowerCLI_Core.zip\n\n\u5c55\u958b\u3055\u308c\u3066\u51fa\u3066\u304d\u305fzip\u30d5\u30a1\u30a4\u30eb\u3082\u3055\u3089\u306b\u89e3\u51cd\n# unzip PowerCLI.ViCore.zip\n# unzip PowerCLI.Vds.zip\n\n\n\u5b9f\u884c\nPowerShell\u306e\u5b9f\u884c\u3002\n# powershell\nPowerShell\nCopyright (C) 2016 Microsoft Corporation. All rights reserved.\nPS /root>\n\nPowerCLI\u306fzip\u30d5\u30a1\u30a4\u30eb\u306b\u542b\u307e\u308c\u3066\u3044\u305fStart-PowerCLI.ps1\u304b\u3089\u8d77\u52d5\u3002\nPS /root> ./.local/share/powershell/Modules/Start-PowerCLI.ps1\n          Welcome to VMware vSphere PowerCLI!\n\nLog in to a vCenter Server or ESX host:              Connect-VIServer\nTo find out what commands are available, type:       Get-VICommand\nOnce you've connected, display all virtual machines: Get-VM\n\n       Copyright (C) VMware, Inc. All rights reserved.\n\n\nPS /root>\n\n\u3053\u308c\u3067Connect-VIserver\u3067ESXi\u306b\u63a5\u7d9a\u3059\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nPS /root> Connect-VIServer -Server 192.168.1.10\n\nSpecify Credential\nPlease specify server credential\nUser: root\nPassword for user root: ********\n\nConnect-VIServer : YYYY/MM/DD h:mm:ss   Connect-VIServer                The libcurl library in use (7.29.0) and its SSL backend (\"NSS/\n3.16.2.3 Basic ECC\") do not support custom handling of certificates. A libcurl built with OpenSSL is required.\nAt line:1 char:1\n+ Connect-VIServer -Server 192.168.1.10\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : NotSpecified: (:) [Connect-VIServer], ViError\n    + FullyQualifiedErrorId : Client20_ConnectivityServiceImpl_Reconnect_Exception,VMware.VimAutomation.ViCore.Cmdlet\n   s.Commands.ConnectVIServer\n\nPS /root>\n\n\u3053\u306e\u5bfe\u51e6\u3068\u3057\u3066libcurl-openssl\u306erpm\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n# wget http://ftp.riken.jp/Linux/cern/centos/7/cern/x86_64/Packages/libcurl-openssl-7.51.0-2.1.el7.cern.x86_64.rpm\n# yum localinstall libcurl-openssl-7.51.0-2.1.el7.cern.x86_64.rpm\n\n\u3055\u3089\u306b\u4ee5\u4e0b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3002\n#!/bin/bash\nexport LD_LIBRARY_PATH=/opt/shibboleth/lib64/:$LD_LIBRARY_PATH\npowershell\n\n\u4f5c\u6210\u3057\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u304b\u3089powershell\u3092\u5b9f\u884c\u3002\n# sh powercli.sh\nPowerShell\nCopyright (C) 2016 Microsoft Corporation. All rights reserved.\n\nPS /root>\n\n\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u3068\u8a3c\u660e\u66f8\u306e\u30a8\u30e9\u30fc\u7121\u8996\u8a2d\u5b9a\nPS /root> Get-Module -ListAvailable PowerCLI* | Import-Module\nPS /root> Set-PowerCLIConfiguration -InvalidCertificateAction Ignore\n\nConnect-VIServer\u3059\u308b\u3068\u4eca\u5ea6\u306f\u6210\u529f\u3057\u307e\u3057\u305f\nPS /work> Connect-VIServer -server 192.168.1.10\n\nSpecify Credential\nPlease specify server credential\nUser: root\nPassword for user root: ********\n\n\nName                           Port  User\n----                           ----  ----\n192.168.1.10                   443   root\n\nRHEL7.2\u306bPowerCLI core\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3057\u305f\u3002\nPowerCLI Core\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306f[\u3053\u3061\u3089](https://labs.vmware.com/flings/powercli-core)\u304b\u3089\u3002\n\n#\u524d\u63d0\n\u4e3b\u3060\u3063\u305f\u3082\u306e\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u74b0\u5883\u3067\u5b9f\u65bd\u3057\u307e\u3057\u305f\u3002\n\n* Red Hat Enterprise Linux 7.2\n* \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u3042\u308a\n* \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30e1\u30c7\u30a3\u30a2\u304b\u3089yum\u304c\u5b9f\u884c\u3067\u304d\u308b\n\n\n#PowerShell\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nPowerCLI core\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u306fPowerShell\u304c\u5fc5\u8981\u306a\u306e\u3067\u6700\u521d\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nPowerShell\u306erpm\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3002\n\n```\n# wget https://github.com/PowerShell/PowerShell/releases/download/v6.0.0-alpha.13/powershell-6.0.0_alpha.13-1.el7.centos.x86_64.rpm\n```\n\nDVD\uff08/media\u306b\u30de\u30a6\u30f3\u30c8\u6e08\u307f\uff09\u304b\u3089yum\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\n/etc/yum.repos.d/media.repo\u30d5\u30a1\u30a4\u30eb\u3092\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u4f5c\u6210\u3002\n\n```\n[media]\nname=media\nbaseurl=file:///media/\ngpgcheck=1\nenabled=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release\n```\n\nPowerShel\u306erpm\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```\n# yum localinstall powershell-6.0.0_alpha.13-1.el7.centos.x86_64.rpm`\n```\n\n#PowerCLI core\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ee5\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3002\n\n```\n# mkdir /root/.local/share/powershell/Modules\n```\n\nPowerCLI core\u306ezip\u30d5\u30a1\u30a4\u30eb\u3092\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3002\n\n```\n# mv PowerCLI_Core.zip /root/.local/share/powershell/Modules\n```\n\nzip\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u51cd\n\n```\n# cd /root/.local/share/powershell/Modules\n# unzip PowerCLI_Core.zip\n```\n\n\u5c55\u958b\u3055\u308c\u3066\u51fa\u3066\u304d\u305fzip\u30d5\u30a1\u30a4\u30eb\u3082\u3055\u3089\u306b\u89e3\u51cd\n\n```\n# unzip PowerCLI.ViCore.zip\n# unzip PowerCLI.Vds.zip\n```\n\n#\u5b9f\u884c\nPowerShell\u306e\u5b9f\u884c\u3002\n\n```\n# powershell\nPowerShell\nCopyright (C) 2016 Microsoft Corporation. All rights reserved.\nPS /root>\n```\n\nPowerCLI\u306fzip\u30d5\u30a1\u30a4\u30eb\u306b\u542b\u307e\u308c\u3066\u3044\u305fStart-PowerCLI.ps1\u304b\u3089\u8d77\u52d5\u3002\n\n```\nPS /root> ./.local/share/powershell/Modules/Start-PowerCLI.ps1\n          Welcome to VMware vSphere PowerCLI!\n\nLog in to a vCenter Server or ESX host:              Connect-VIServer\nTo find out what commands are available, type:       Get-VICommand\nOnce you've connected, display all virtual machines: Get-VM\n\n       Copyright (C) VMware, Inc. All rights reserved.\n\n\nPS /root>\n```\n\n\u3053\u308c\u3067Connect-VIserver\u3067ESXi\u306b\u63a5\u7d9a\u3059\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n```\nPS /root> Connect-VIServer -Server 192.168.1.10\n\nSpecify Credential\nPlease specify server credential\nUser: root\nPassword for user root: ********\n\nConnect-VIServer : YYYY/MM/DD h:mm:ss   Connect-VIServer                The libcurl library in use (7.29.0) and its SSL backend (\"NSS/\n3.16.2.3 Basic ECC\") do not support custom handling of certificates. A libcurl built with OpenSSL is required.\nAt line:1 char:1\n+ Connect-VIServer -Server 192.168.1.10\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : NotSpecified: (:) [Connect-VIServer], ViError\n    + FullyQualifiedErrorId : Client20_ConnectivityServiceImpl_Reconnect_Exception,VMware.VimAutomation.ViCore.Cmdlet\n   s.Commands.ConnectVIServer\n\nPS /root>\n```\n\n\u3053\u306e\u5bfe\u51e6\u3068\u3057\u3066libcurl-openssl\u306erpm\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```\n# wget http://ftp.riken.jp/Linux/cern/centos/7/cern/x86_64/Packages/libcurl-openssl-7.51.0-2.1.el7.cern.x86_64.rpm\n# yum localinstall libcurl-openssl-7.51.0-2.1.el7.cern.x86_64.rpm\n```\n\n\u3055\u3089\u306b\u4ee5\u4e0b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3002\n\n```\n#!/bin/bash\nexport LD_LIBRARY_PATH=/opt/shibboleth/lib64/:$LD_LIBRARY_PATH\npowershell\n```\n\n\u4f5c\u6210\u3057\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u304b\u3089powershell\u3092\u5b9f\u884c\u3002\n\n```\n# sh powercli.sh\nPowerShell\nCopyright (C) 2016 Microsoft Corporation. All rights reserved.\n\nPS /root>\n```\n\n\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u3068\u8a3c\u660e\u66f8\u306e\u30a8\u30e9\u30fc\u7121\u8996\u8a2d\u5b9a\n\n```\nPS /root> Get-Module -ListAvailable PowerCLI* | Import-Module\nPS /root> Set-PowerCLIConfiguration -InvalidCertificateAction Ignore\n```\n\nConnect-VIServer\u3059\u308b\u3068\u4eca\u5ea6\u306f\u6210\u529f\u3057\u307e\u3057\u305f\n\n```\nPS /work> Connect-VIServer -server 192.168.1.10\n\nSpecify Credential\nPlease specify server credential\nUser: root\nPassword for user root: ********\n\n\nName                           Port  User\n----                           ----  ----\n192.168.1.10                   443   root\n```\n\n", "tags": ["PowerCLI", "vmware", "vSphere", "RHEL"]}