{"context": " More than 1 year has passed since last update.redmine\u3092vagrant\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\nepel\u306e\u8ffd\u52a0\nsudo rpm -Uvh http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm\n\n\u5fc5\u8981\u306a\u30bd\u30d5\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum groupinstall \"Development Tools\"\nsudo yum -y install openssl-devel readline-devel zlib-devel curl-devel libyaml-devel mysql-server mysql-devel httpd httpd-devel ImageMagick ImageMagick-devel ipa-pgothic-fonts git\n\nrbenv\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngit clone https://github.com/sstephenson/rbenv.git ~/.rbenv\necho 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' >> ~/.bash_profile\necho 'eval \"$(rbenv init -)\"' >> ~/.bash_profile\nsource ~/.bash_profile\nexec $SHELL\ngit clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n\nruby\u3001rails\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrbenv install 2.0.0-p481\nrbenv rehash\nrbenv global 2.0.0-p481\ngem install rails --no-ri --no-rdoc\ngem install bundler\nrbenv rehash\n\nmysql\u306e\u8a2d\u5b9a\nsudo vim /etc/my.cnf\n\n\nmy.cnf\n[mysqld]\ndatadir=/var/lib/mysql\nsocket=/var/lib/mysql/mysql.sock\nuser=mysql\n# Disabling symbolic-links is recommended to prevent assorted security risks\nsymbolic-links=0\n\ncharacter-set-server=utf8 \u2190 \u8ffd\u52a0\n\n# \u4efb\u610f\u8a2d\u5b9a\ninnodb_file_per_table\nquery-cache-size=16M\n\n[mysqld_safe]\nlog-error=/var/log/mysqld.log\npid-file=/var/run/mysqld/mysqld.pid\n\n[mysql]                       \u2190 \u8ffd\u52a0\ndefault-character-set=utf8    \u2190 \u8ffd\u52a0\n\n\nmysql\u306e\u30ea\u30b9\u30bf\u30fc\u30c8\nsudo service mysqld start\nsudo chkconfig mysqld on\n\nredmine\u7528\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\nmysql -u root -p\nmsyql> create user 'redmine'@'localhost' identified by 'redminepass';\nmysql> grant all on *.* to 'redmine'@'localhost';\nmysql> quit\n\nredmine\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nwget http://www.redmine.org/releases/redmine-2.5.1.tar.gz\ntar xvf redmine-2.5.1\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8a2d\u5b9a\ncd redmine-2.5.1/config\ncp database.yml.sample database.yml\nvim database.yml\n\n\ndatabase.yml\nproduction:\n  adapter: mysql2\n  database: redmine\n  host: localhost\n  username: redmine        \u2190\u66f8\u304d\u63db\u3048\n  password: \"redminepass\"  \u2190\u66f8\u304d\u63db\u3048\n  encoding: utf8\n\ndevelopment:\n  adapter: mysql2\n  database: redmine_development\n  host: localhost\n  username: redmine        \u2190\u66f8\u304d\u63db\u3048\n  password: \"redminepass\"  \u2190\u66f8\u304d\u63db\u3048\n  encoding: utf8\n\n# Warning: The database defined as \"test\" will be erased and\n# re-generated from your development database when you run \"rake\".\n# Do not set this db to the same as development or production.\ntest:\n  adapter: mysql2\n  database: redmine_test\n  host: localhost\n  username: redmine        \u2190\u66f8\u304d\u63db\u3048\n  password: \"redminepass\"  \u2190\u66f8\u304d\u63db\u3048\n  encoding: utf8\n\n\nmailer\u306e\u8a2d\u5b9a\ncp configuration.yml.example configuration.yml\nvim configuration.yml\n\n\nconriguration.yml(\u4fee\u6b63\u524d)\ndefault:\n  # Outgoing emails configuration (see examples above)\n  email_delivery:\n    delivery_method: :smtp\n    smtp_settings:\n      address: smtp.example.net\n      port: 25\n      domain: example.net\n      authentication: :login\n      user_name: \"redmine@example.net\"\n      password: \"redmine\"\n\n\n\nconfiguration.yml(\u4fee\u6b63\u5f8c)\ndefault:\n  # Outgoing emails configuration (see examples above)\n  email_delivery:\n    delivery_method: :smtp\n    smtp_settings:\n      address: \"localhost\"\n      port: 25\n      domain: example.net\n\n\nredmine\u306e\u4ed5\u4e0a\u3052\nbundle install --without development test\nrake generate_secret_token\nrake db:create RAILS_ENV=production\nrake db:migrate RAILS_ENV=production\n\npassenger\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngem install passenger --no-ri --no-rdoc\n# VM \u306e\u30e1\u30e2\u30ea\u91cf\u304c\u5c11\u306a\u3044\u306e\u3067 passenger \u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u306e\u305f\u3081\u306b\u63a8\u5968\nsudo dd if=/dev/zero of=/swap bs=1M count=1024\nsudo mkswap /swap\nsudo swapon /swap\nrbenv exec passenger-install-apache2-module\n\n\u6700\u5f8c\u306e\u30b3\u30de\u30f3\u30c9\u306f\u5bfe\u8a71\u7cfb\u5f62\u5f0f\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u3059\u3079\u3066Enter\u3067\u5927\u4e08\u592b\u3067\u3059\u3002\n\u6700\u5f8c\u306b\u8868\u793a\u3055\u308c\u308b\u4e0b\u8a18\u3092\u30e1\u30e2\u3063\u3066\u304a\u304d\u307e\u3059(\u74b0\u5883\u306b\u3088\u3063\u3066\u9055\u3044\u307e\u3059)\u3002\nLoadModule passenger_module /home/vagratn/.rbenv/versions/2.0.0-p481/lib/ruby/gems/2.0.0/gems/passenger-4.0.45/buildout/apache2/mod_passenger.so\n\n<IfModule mod_passenger.c>\n  PassengerRoot /home/vagrant/.rbenv/versions/2.0.0-p481/lib/ruby.gems/2.0.0/gems/passenger-4.0.45\n  PassengerDefaultRuby /home/vagrant/.rbenv/versions/2.0.0-p481/bin/ruby\n</IfModule>\n\napache\u306e\u8a2d\u5b9a\npassenger.conf\u306e\u4f5c\u6210\nsudo vim /etc/httpd/conf.d/passenger.conf\n\n\npassenger.conf\nLoadModule passenger_module /home/vagratn/.rbenv/versions/2.0.0-p481/lib/ruby/gems/2.0.0/gems/passenger-4.0.45/buildout/apache2/mod_passenger.so\n\n<IfModule mod_passenger.c>\n  PassengerRoot /home/vagrant/.rbenv/versions/2.0.0-p481/lib/ruby.gems/2.0.0/gems/passenger-4.0.45\n  PassengerDefaultRuby /home/vagrant/.rbenv/versions/2.0.0-p481/bin/ruby\n</IfModule>\n\n\nHeader always unset \"X-Powered-By\"\nHeader always unset \"X-Rack-Cache\"\nHeader always unset \"X-Content-Digest\"\nHeader always unset \"X-Runtime\"\n\nPassengerMaxPoolSize 20\nPassengerMaxInstancesPerApp 4\nPassengerPoolIdleTime 3600\nPassengerHighPerformance on\nPassengerStatThrottleRate 10\nPassengerSpawnMethod smart\nRailsAppSpawnerIdleTime 86400\nPassengerMaxPreloaderIdleTime 0\n\n\nsudo vim /etc/httpd/conf/httpd.conf\n\n# DocumentRoot \"/var/www/html\"\nDocumentRoot \"/var/lib/redmine/public\"\n\n\nredmine\u3092vagrant\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\n\nepel\u306e\u8ffd\u52a0\n\n```Bat\nsudo rpm -Uvh http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm\n```\n\n\u5fc5\u8981\u306a\u30bd\u30d5\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```Bat\nsudo yum groupinstall \"Development Tools\"\nsudo yum -y install openssl-devel readline-devel zlib-devel curl-devel libyaml-devel mysql-server mysql-devel httpd httpd-devel ImageMagick ImageMagick-devel ipa-pgothic-fonts git\n```\n\nrbenv\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```Bat\ngit clone https://github.com/sstephenson/rbenv.git ~/.rbenv\necho 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' >> ~/.bash_profile\necho 'eval \"$(rbenv init -)\"' >> ~/.bash_profile\nsource ~/.bash_profile\nexec $SHELL\ngit clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n```\n\nruby\u3001rails\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```Bat\nrbenv install 2.0.0-p481\nrbenv rehash\nrbenv global 2.0.0-p481\ngem install rails --no-ri --no-rdoc\ngem install bundler\nrbenv rehash\n```\n\nmysql\u306e\u8a2d\u5b9a\n\n```Bat\nsudo vim /etc/my.cnf\n```\n\n```Bat:my.cnf\n[mysqld]\ndatadir=/var/lib/mysql\nsocket=/var/lib/mysql/mysql.sock\nuser=mysql\n# Disabling symbolic-links is recommended to prevent assorted security risks\nsymbolic-links=0\n\ncharacter-set-server=utf8 \u2190 \u8ffd\u52a0\n\n# \u4efb\u610f\u8a2d\u5b9a\ninnodb_file_per_table\nquery-cache-size=16M\n\n[mysqld_safe]\nlog-error=/var/log/mysqld.log\npid-file=/var/run/mysqld/mysqld.pid\n\n[mysql]                       \u2190 \u8ffd\u52a0\ndefault-character-set=utf8    \u2190 \u8ffd\u52a0\n```\nmysql\u306e\u30ea\u30b9\u30bf\u30fc\u30c8\n\n```bat\nsudo service mysqld start\nsudo chkconfig mysqld on\n```\nredmine\u7528\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n\n```Bat\nmysql -u root -p\nmsyql> create user 'redmine'@'localhost' identified by 'redminepass';\nmysql> grant all on *.* to 'redmine'@'localhost';\nmysql> quit\n```\n\nredmine\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n```bat\nwget http://www.redmine.org/releases/redmine-2.5.1.tar.gz\ntar xvf redmine-2.5.1\n```\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8a2d\u5b9a\n\n```bat\ncd redmine-2.5.1/config\ncp database.yml.sample database.yml\nvim database.yml\n```\n\n```vim:database.yml\nproduction:\n  adapter: mysql2\n  database: redmine\n  host: localhost\n  username: redmine        \u2190\u66f8\u304d\u63db\u3048\n  password: \"redminepass\"  \u2190\u66f8\u304d\u63db\u3048\n  encoding: utf8\n\ndevelopment:\n  adapter: mysql2\n  database: redmine_development\n  host: localhost\n  username: redmine        \u2190\u66f8\u304d\u63db\u3048\n  password: \"redminepass\"  \u2190\u66f8\u304d\u63db\u3048\n  encoding: utf8\n\n# Warning: The database defined as \"test\" will be erased and\n# re-generated from your development database when you run \"rake\".\n# Do not set this db to the same as development or production.\ntest:\n  adapter: mysql2\n  database: redmine_test\n  host: localhost\n  username: redmine        \u2190\u66f8\u304d\u63db\u3048\n  password: \"redminepass\"  \u2190\u66f8\u304d\u63db\u3048\n  encoding: utf8\n```\n\nmailer\u306e\u8a2d\u5b9a\n\n```bat\ncp configuration.yml.example configuration.yml\nvim configuration.yml\n```\n\n```vim:conriguration.yml(\u4fee\u6b63\u524d)\ndefault:\n  # Outgoing emails configuration (see examples above)\n  email_delivery:\n    delivery_method: :smtp\n    smtp_settings:\n      address: smtp.example.net\n      port: 25\n      domain: example.net\n      authentication: :login\n      user_name: \"redmine@example.net\"\n      password: \"redmine\"\n```\n\n```vim:configuration.yml(\u4fee\u6b63\u5f8c)\ndefault:\n  # Outgoing emails configuration (see examples above)\n  email_delivery:\n    delivery_method: :smtp\n    smtp_settings:\n      address: \"localhost\"\n      port: 25\n      domain: example.net\n```\n\nredmine\u306e\u4ed5\u4e0a\u3052\n\n```bat\nbundle install --without development test\nrake generate_secret_token\nrake db:create RAILS_ENV=production\nrake db:migrate RAILS_ENV=production\n```\n\npassenger\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bat\ngem install passenger --no-ri --no-rdoc\n# VM \u306e\u30e1\u30e2\u30ea\u91cf\u304c\u5c11\u306a\u3044\u306e\u3067 passenger \u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u306e\u305f\u3081\u306b\u63a8\u5968\nsudo dd if=/dev/zero of=/swap bs=1M count=1024\nsudo mkswap /swap\nsudo swapon /swap\nrbenv exec passenger-install-apache2-module\n```\n\n\u6700\u5f8c\u306e\u30b3\u30de\u30f3\u30c9\u306f\u5bfe\u8a71\u7cfb\u5f62\u5f0f\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u3059\u3079\u3066Enter\u3067\u5927\u4e08\u592b\u3067\u3059\u3002\n\u6700\u5f8c\u306b\u8868\u793a\u3055\u308c\u308b\u4e0b\u8a18\u3092\u30e1\u30e2\u3063\u3066\u304a\u304d\u307e\u3059(\u74b0\u5883\u306b\u3088\u3063\u3066\u9055\u3044\u307e\u3059)\u3002\n\n```vim\nLoadModule passenger_module /home/vagratn/.rbenv/versions/2.0.0-p481/lib/ruby/gems/2.0.0/gems/passenger-4.0.45/buildout/apache2/mod_passenger.so\n\n<IfModule mod_passenger.c>\n  PassengerRoot /home/vagrant/.rbenv/versions/2.0.0-p481/lib/ruby.gems/2.0.0/gems/passenger-4.0.45\n  PassengerDefaultRuby /home/vagrant/.rbenv/versions/2.0.0-p481/bin/ruby\n</IfModule>\n```\n\napache\u306e\u8a2d\u5b9a\npassenger.conf\u306e\u4f5c\u6210\n\n```bat\nsudo vim /etc/httpd/conf.d/passenger.conf\n```\n\n```vim:passenger.conf\nLoadModule passenger_module /home/vagratn/.rbenv/versions/2.0.0-p481/lib/ruby/gems/2.0.0/gems/passenger-4.0.45/buildout/apache2/mod_passenger.so\n\n<IfModule mod_passenger.c>\n  PassengerRoot /home/vagrant/.rbenv/versions/2.0.0-p481/lib/ruby.gems/2.0.0/gems/passenger-4.0.45\n  PassengerDefaultRuby /home/vagrant/.rbenv/versions/2.0.0-p481/bin/ruby\n</IfModule>\n\n\nHeader always unset \"X-Powered-By\"\nHeader always unset \"X-Rack-Cache\"\nHeader always unset \"X-Content-Digest\"\nHeader always unset \"X-Runtime\"\n\nPassengerMaxPoolSize 20\nPassengerMaxInstancesPerApp 4\nPassengerPoolIdleTime 3600\nPassengerHighPerformance on\nPassengerStatThrottleRate 10\nPassengerSpawnMethod smart\nRailsAppSpawnerIdleTime 86400\nPassengerMaxPreloaderIdleTime 0\n```\n\n```bat\nsudo vim /etc/httpd/conf/httpd.conf\n```\n\n```vim\n# DocumentRoot \"/var/www/html\"\nDocumentRoot \"/var/lib/redmine/public\"\n```\n", "tags": ["vagrant2.5.1", "Redmine", "CentOS"]}