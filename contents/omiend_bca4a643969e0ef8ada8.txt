{"context": "\n\ncoreos-vagrant\u306e\u5c0e\u5165\n\ncoreos-vagrant\u53d6\u5f97\ngit clone https://github.com/coreos/coreos-vagrant\ncd coreos-vagrant\n\n\n\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3001CoreOS\u4e0a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092Share\u3059\u308b\u8a2d\u5b9a\u3092\u8ffd\u8a18\n\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306bShare\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\uff08\u3084\u3089\u306a\u304f\u3066\u3082\u3044\u3044\uff09\n$ mkdir share\n\nVagrantfile\u306b\u4e0b\u8a18\u3092\u8ffd\u8a18\u3059\u308b\n\nVagrantfile\n      # Uncomment below to enable NFS for sharing the host machine into the coreos-vagrant VM.\n      #config.vm.synced_folder \".\", \"/home/core/share\", id: \"core\", :nfs => true, :mount_options => ['nolock,vers=3,udp']\n      config.vm.synced_folder \"./share\", \"/home/core/share\", id: \"core\", :nfs => true, :mount_options => ['nolock,vers=3,udp']\n\n\n\u3053\u308c\u3067CoreOS\u4e0a\u306e/home/core/share\u3068\u3001\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306evagrant-coreos/share\u304c\u5171\u6709\u3055\u308c\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u306a\u308b\n\nVagrant\u8d77\u52d5\n$ vagrant up\n\n\nCoreOS\u306b\u30ed\u30b0\u30a4\u30f3\n$ vagrant ssh core-02\nCoreOS alpha (738.1.0)\ncore@core-02 ~ $\n\n\nDocker\u306e\u57fa\u672c\u64cd\u4f5c\n\nimage\u53d6\u5f97\ncore@core-02 ~ $ docker pull centos\nlatest: Pulling from centos\nf1b10cd84249: Pull complete\nc852f6d61e65: Pull complete\n7322fbe74aa5: Pull complete\nDigest: sha256:90305c9112250c7e3746425477f1c4ef112b03b4abe78c612e092037bfecc3b7\nStatus: Downloaded newer image for centos:latest\n\n\nimage\u78ba\u8a8d\ncore@core-02 ~ $ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\ncentos              latest              7322fbe74aa5        9 weeks ago         172.2 MB\n\n\n\u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\ncore@core-02 ~ $ docker run -it --name=\"omiend/centos-01\" centos /bin/bash\n[root@20618ada0421 /]# exit\nexit\n\ncore@core-02 ~ $ docker run -itd --name=\"omiend/centos-02\" centos /bin/bash\n84a1298f813b4bb33acc5ca578b0fb8694eddc769f1e4689ebd5d0312c98b3f8\n\n-i\n-t\n-d\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\u3059\u308b\n\n\u30b3\u30f3\u30c6\u30ca\u78ba\u8a8d\ncore@core-02 ~ $ docker ps -a\nCONTAINER ID        IMAGE               COMMAND             CREATED              STATUS                          PORTS               NAMES\n84a1298f813b        centos:latest       \"/bin/bash\"         20 seconds ago       Up 19 seconds                                       omiend/centos-02\n20618ada0421        centos:latest       \"/bin/bash\"         About a minute ago   Exited (0) About a minute ago                       omiend/centos-01\n\n-a\u3092\u3064\u3051\u308b\u3068\u7a3c\u50cd\u3057\u3066\u3044\u306a\u3044\u30b3\u30f3\u30c6\u30ca\u3082\u8868\u793a\u3055\u308c\u308b\n\n\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\ncore@core-02 ~ $ docker start omiend/centos-01\nomiend/centos-01\n\ncore@core-02 ~ $ docker ps -a\nCONTAINER ID        IMAGE               COMMAND             CREATED              STATUS              PORTS               NAMES\n84a1298f813b        centos:latest       \"/bin/bash\"         About a minute ago   Up About a minute                       omiend/centos-02\n20618ada0421        centos:latest       \"/bin/bash\"         2 minutes ago        Up 1 seconds                            omiend/centos-01\n\n\n\u30b3\u30f3\u30c6\u30ca\u3078\u306e\u30ed\u30b0\u30a4\u30f3\ncore@core-02 ~ $ docker attach omiend/centos-02\n\n[root@84a1298f813b /]# exit\nexit\n\n\n\u30b3\u30f3\u30c6\u30ca\u306e\u524a\u9664\ncore@core-02 ~ $ docker run -itd --name=\"omiend/centos-03\" centos /bin/bash\n507b033c0e0704b1aae3dce3feee8d75650f917035ed8de564248b17d84e3348\n\ncore@core-02 ~ $ docer ps\n-bash: docer: command not found\n\ncore@core-02 ~ $ docker ps -a\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                       PORTS               NAMES\n507b033c0e07        centos:latest       \"/bin/bash\"         15 seconds ago      Up 14 seconds                                    omiend/centos-03\n84a1298f813b        centos:latest       \"/bin/bash\"         8 minutes ago       Exited (0) 6 minutes ago                         omiend/centos-02\n20618ada0421        centos:latest       \"/bin/bash\"         9 minutes ago       Exited (137) 5 minutes ago                       omiend/centos-01\n\ncore@core-02 ~ $ docker rm omiend/centos-03\nomiend/centos-03\n\ncore@core-02 ~ $ docker ps -a\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                       PORTS               NAMES\n84a1298f813b        centos:latest       \"/bin/bash\"         11 minutes ago      Exited (0) 9 minutes ago                         omiend/centos-02\n20618ada0421        centos:latest       \"/bin/bash\"         12 minutes ago      Exited (137) 8 minutes ago                       omiend/centos-01\n\n\n\u72ec\u81ea\u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\n\u30b3\u30f3\u30c6\u30ca\u304b\u3089\u4f5c\u6210\u3059\u308b\ncore@core-02 ~ $ docker commit omiend/centos-01 mycentos01\ndfbc27f0b758fa80d0eff48d3021b9ea593fee4b860d9ab1942ee65f5dd91363\n\ncore@core-02 ~ $ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nmycentos01          latest              dfbc27f0b758        2 seconds ago       172.2 MB\ncentos              latest              7322fbe74aa5        9 weeks ago         172.2 MB\n\n\nimage\u306e\u524a\u9664\ncore@core-02 ~ $ docker rmi mycentos01\nUntagged: mycentos01:latest\nDeleted: dfbc27f0b758fa80d0eff48d3021b9ea593fee4b860d9ab1942ee65f5dd91363\n\ncore@core-02 ~ $ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\ncentos              latest              7322fbe74aa5        9 weeks ago         172.2 MB\n\n\u3082\u3057commit\u6642\u306b\u540d\u524d\u3092\u6307\u5b9a\u3057\u5fd8\u308c\u305f\u5834\u5408\u3001IMAGE ID\u3092\u6307\u5b9a\u3059\u308c\u3070\u524a\u9664\u3067\u304d\u308b\ncore@core-02 ~ $ docker commit omiend/centos-02\n1d3d787c37024079e0fb9e515015f8428a39fc18859bbbca4cd141b80c18c770\n\ncore@core-02 ~ $ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\n<none>              <none>              1d3d787c3702        5 seconds ago       172.2 MB\ncentos              latest              7322fbe74aa5        9 weeks ago         172.2 MB\n\ncore@core-02 ~ $ docker rmi 1d3d787c3702\nDeleted: 1d3d787c37024079e0fb9e515015f8428a39fc18859bbbca4cd141b80c18c770\n\ncore@core-02 ~ $ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\ncentos              latest              7322fbe74aa5        9 weeks ago         172.2 MB\n\n\nCoreOS\u3092\uff12\u53f0\u7acb\u3061\u4e0a\u3052\u308b\u8a2d\u5b9a\n$ cp ./config.rb.sample ./config.rb\n\nnum_instances\u30922\u306b\u5909\u66f4\u3059\u308b\n\nconfig.rb\n# Size of the CoreOS cluster created by Vagrant\n# $num_instances=1\n$num_instances=2\n\n\n$ vagrant up\n\n$ vagrant status\n\n$ vagrant ssh core-02\n\n# coreos-vagrant\u306e\u5c0e\u5165\n\n## coreos-vagrant\u53d6\u5f97\n```\ngit clone https://github.com/coreos/coreos-vagrant\ncd coreos-vagrant\n```\n\n## \u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3001CoreOS\u4e0a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092Share\u3059\u308b\u8a2d\u5b9a\u3092\u8ffd\u8a18\n\n\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306bShare\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\uff08\u3084\u3089\u306a\u304f\u3066\u3082\u3044\u3044\uff09\n\n```\n$ mkdir share\n```\n\nVagrantfile\u306b\u4e0b\u8a18\u3092\u8ffd\u8a18\u3059\u308b\n\n```ruby:Vagrantfile\n      # Uncomment below to enable NFS for sharing the host machine into the coreos-vagrant VM.\n      #config.vm.synced_folder \".\", \"/home/core/share\", id: \"core\", :nfs => true, :mount_options => ['nolock,vers=3,udp']\n      config.vm.synced_folder \"./share\", \"/home/core/share\", id: \"core\", :nfs => true, :mount_options => ['nolock,vers=3,udp']\n```\n\n\u3053\u308c\u3067CoreOS\u4e0a\u306e```/home/core/share```\u3068\u3001\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306e```vagrant-coreos/share```\u304c\u5171\u6709\u3055\u308c\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u306a\u308b\n\n## Vagrant\u8d77\u52d5\n\n```\n$ vagrant up\n```\n\n## CoreOS\u306b\u30ed\u30b0\u30a4\u30f3\n\n```\n$ vagrant ssh core-02\nCoreOS alpha (738.1.0)\ncore@core-02 ~ $\n```\n\n# Docker\u306e\u57fa\u672c\u64cd\u4f5c\n\n## image\u53d6\u5f97\n\n```\ncore@core-02 ~ $ docker pull centos\nlatest: Pulling from centos\nf1b10cd84249: Pull complete\nc852f6d61e65: Pull complete\n7322fbe74aa5: Pull complete\nDigest: sha256:90305c9112250c7e3746425477f1c4ef112b03b4abe78c612e092037bfecc3b7\nStatus: Downloaded newer image for centos:latest\n```\n\n\n## image\u78ba\u8a8d\n\n```\ncore@core-02 ~ $ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\ncentos              latest              7322fbe74aa5        9 weeks ago         172.2 MB\n```\n\n## \u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\n\n```\ncore@core-02 ~ $ docker run -it --name=\"omiend/centos-01\" centos /bin/bash\n[root@20618ada0421 /]# exit\nexit\n\ncore@core-02 ~ $ docker run -itd --name=\"omiend/centos-02\" centos /bin/bash\n84a1298f813b4bb33acc5ca578b0fb8694eddc769f1e4689ebd5d0312c98b3f8\n```\n\n`-i`\n`-t`\n`-d`\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\u3059\u308b\n\n\n## \u30b3\u30f3\u30c6\u30ca\u78ba\u8a8d\n\n```\ncore@core-02 ~ $ docker ps -a\nCONTAINER ID        IMAGE               COMMAND             CREATED              STATUS                          PORTS               NAMES\n84a1298f813b        centos:latest       \"/bin/bash\"         20 seconds ago       Up 19 seconds                                       omiend/centos-02\n20618ada0421        centos:latest       \"/bin/bash\"         About a minute ago   Exited (0) About a minute ago                       omiend/centos-01\n```\n\n`-a`\u3092\u3064\u3051\u308b\u3068\u7a3c\u50cd\u3057\u3066\u3044\u306a\u3044\u30b3\u30f3\u30c6\u30ca\u3082\u8868\u793a\u3055\u308c\u308b\n\n## \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\n\n```\ncore@core-02 ~ $ docker start omiend/centos-01\nomiend/centos-01\n\ncore@core-02 ~ $ docker ps -a\nCONTAINER ID        IMAGE               COMMAND             CREATED              STATUS              PORTS               NAMES\n84a1298f813b        centos:latest       \"/bin/bash\"         About a minute ago   Up About a minute                       omiend/centos-02\n20618ada0421        centos:latest       \"/bin/bash\"         2 minutes ago        Up 1 seconds                            omiend/centos-01\n```\n\n\n# \u30b3\u30f3\u30c6\u30ca\u3078\u306e\u30ed\u30b0\u30a4\u30f3\n\n```\ncore@core-02 ~ $ docker attach omiend/centos-02\n\n[root@84a1298f813b /]# exit\nexit\n```\n\n## \u30b3\u30f3\u30c6\u30ca\u306e\u524a\u9664\n\n```\ncore@core-02 ~ $ docker run -itd --name=\"omiend/centos-03\" centos /bin/bash\n507b033c0e0704b1aae3dce3feee8d75650f917035ed8de564248b17d84e3348\n\ncore@core-02 ~ $ docer ps\n-bash: docer: command not found\n\ncore@core-02 ~ $ docker ps -a\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                       PORTS               NAMES\n507b033c0e07        centos:latest       \"/bin/bash\"         15 seconds ago      Up 14 seconds                                    omiend/centos-03\n84a1298f813b        centos:latest       \"/bin/bash\"         8 minutes ago       Exited (0) 6 minutes ago                         omiend/centos-02\n20618ada0421        centos:latest       \"/bin/bash\"         9 minutes ago       Exited (137) 5 minutes ago                       omiend/centos-01\n\ncore@core-02 ~ $ docker rm omiend/centos-03\nomiend/centos-03\n\ncore@core-02 ~ $ docker ps -a\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                       PORTS               NAMES\n84a1298f813b        centos:latest       \"/bin/bash\"         11 minutes ago      Exited (0) 9 minutes ago                         omiend/centos-02\n20618ada0421        centos:latest       \"/bin/bash\"         12 minutes ago      Exited (137) 8 minutes ago                       omiend/centos-01\n```\n\n\n\n## \u72ec\u81ea\u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\n\n\u30b3\u30f3\u30c6\u30ca\u304b\u3089\u4f5c\u6210\u3059\u308b\n\n```\ncore@core-02 ~ $ docker commit omiend/centos-01 mycentos01\ndfbc27f0b758fa80d0eff48d3021b9ea593fee4b860d9ab1942ee65f5dd91363\n\ncore@core-02 ~ $ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nmycentos01          latest              dfbc27f0b758        2 seconds ago       172.2 MB\ncentos              latest              7322fbe74aa5        9 weeks ago         172.2 MB\n```\n\n### image\u306e\u524a\u9664\n\n```\ncore@core-02 ~ $ docker rmi mycentos01\nUntagged: mycentos01:latest\nDeleted: dfbc27f0b758fa80d0eff48d3021b9ea593fee4b860d9ab1942ee65f5dd91363\n\ncore@core-02 ~ $ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\ncentos              latest              7322fbe74aa5        9 weeks ago         172.2 MB\n```\n\n\u3082\u3057commit\u6642\u306b\u540d\u524d\u3092\u6307\u5b9a\u3057\u5fd8\u308c\u305f\u5834\u5408\u3001```IMAGE ID```\u3092\u6307\u5b9a\u3059\u308c\u3070\u524a\u9664\u3067\u304d\u308b\n\n```\ncore@core-02 ~ $ docker commit omiend/centos-02\n1d3d787c37024079e0fb9e515015f8428a39fc18859bbbca4cd141b80c18c770\n\ncore@core-02 ~ $ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\n<none>              <none>              1d3d787c3702        5 seconds ago       172.2 MB\ncentos              latest              7322fbe74aa5        9 weeks ago         172.2 MB\n\ncore@core-02 ~ $ docker rmi 1d3d787c3702\nDeleted: 1d3d787c37024079e0fb9e515015f8428a39fc18859bbbca4cd141b80c18c770\n\ncore@core-02 ~ $ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\ncentos              latest              7322fbe74aa5        9 weeks ago         172.2 MB\n```\n\n\n\n\n\n\n\n\n# CoreOS\u3092\uff12\u53f0\u7acb\u3061\u4e0a\u3052\u308b\u8a2d\u5b9a\n\n```\t\n$ cp ./config.rb.sample ./config.rb\n```\n\nnum_instances\u30922\u306b\u5909\u66f4\u3059\u308b\n\n```ruby:config.rb\n# Size of the CoreOS cluster created by Vagrant\n# $num_instances=1\n$num_instances=2\n```\n\n```\n$ vagrant up\n```\n\n```\n$ vagrant status\n```\n\n```\n$ vagrant ssh core-02\n```\n", "tags": ["docker", "CoreOS"]}