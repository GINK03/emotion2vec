{"context": "\n\nEnv\n\nOSX 10.11.3\nAndroid 4.4.4(\u5b9f\u6a5f)\ncocos2d-x 3.13\nAndroid SDK tools 25.1.7\nAndroid NDK r10d\napache ANT 1.9.7\nJDK 1.8.0_102\n\n\nRef\nhttp://stackoverflow.com/questions/28740315/android-ndk-getting-java-lang-unsatisfiedlinkerror-dlopen-failed-cannot-loca\nhttp://stackoverflow.com/questions/15872254/android-ndk-warning-app-platform-android-9-is-larger-than-androidminsdkversio\nhttps://github.com/cocos2d/cocos2d-js/issues/631\n\nProblems\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305fapk\u3092\u5b9f\u6a5f\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u5b9f\u884c\u3059\u308b\u3068...\n\u554f\u984c\u304c\u767a\u751f\u3057\u305f\u305f\u3081\u3001${appname}\u3092\u7d42\u4e86\u3057\u307e\u3059\n\u3068\u3044\u3046\u30c0\u30a4\u30a2\u30ed\u30b0\u304c\u51fa\u3066\u7d42\u4e86\u3059\u308b\n\u30a8\u30e9\u30fc\u30ed\u30b0\u306f\u3053\u3093\u306a\u611f\u3058\n...\nE/dalvikvm(19125): dlopen(\"/data/app-lib/org.cocos2dx.GameBase-2/libcocos2dlua.so\") failed: dlopen failed: cannot locate symbol \"signal\" referenced by \"libcocos2dlua.so\"...\nD/AndroidRuntime(19125): Shutting down VM\nW/dalvikvm(19125): threadid=1: thread exiting with uncaught exception (group=0x41668d58)\nE/AndroidRuntime(19125): FATAL EXCEPTION: main\nE/AndroidRuntime(19125): Process: org.cocos2dx.GameBase, PID: 19125\nE/AndroidRuntime(19125): java.lang.UnsatisfiedLinkError: dlopen failed: cannot locate symbol \"signal\" referenced by \"libcocos2dlua.so\"...\nE/AndroidRuntime(19125):        at java.lang.Runtime.loadLibrary(Runtime.java:364)\nE/AndroidRuntime(19125):        at java.lang.System.loadLibrary(System.java:526)\nE/AndroidRuntime(19125):        at org.cocos2dx.lib.Cocos2dxActivity.onLoadNativeLibraries(Cocos2dxActivity.java:248)\nE/AndroidRuntime(19125):        at org.cocos2dx.lib.Cocos2dxActivity.onCreate(Cocos2dxActivity.java:264)\nE/AndroidRuntime(19125):        at android.app.Activity.performCreate(Activity.java:5245)\nE/AndroidRuntime(19125):        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\nE/AndroidRuntime(19125):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2179)\nE/AndroidRuntime(19125):        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2292)\nE/AndroidRuntime(19125):        at android.app.ActivityThread.access$800(ActivityThread.java:149)\nE/AndroidRuntime(19125):        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1218)\nE/AndroidRuntime(19125):        at android.os.Handler.dispatchMessage(Handler.java:102)\nE/AndroidRuntime(19125):        at android.os.Looper.loop(Looper.java:136)\nE/AndroidRuntime(19125):        at android.app.ActivityThread.main(ActivityThread.java:5265)\nE/AndroidRuntime(19125):        at java.lang.reflect.Method.invokeNative(Native Method)\nE/AndroidRuntime(19125):        at java.lang.reflect.Method.invoke(Method.java:515)\nE/AndroidRuntime(19125):        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:823)\nE/AndroidRuntime(19125):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:639)\nE/AndroidRuntime(19125):        at dalvik.system.NativeStart.main(Native Method)\nW/ActivityManager(  860):   Force finishing activity org.cocos2dx.GameBase/org.cocos2dx.lua.AppActivity\nI/ActivityManager(  860): Config changes=480 {1.0 440mcc20mnc ja_JP ldltr sw360dp w360dp h566dp 240dpi nrml port finger -keyb/v/h -nav/h s.26}\nI/Choreographer( 1423): Skipped 32 frames!  The application may be doing too much work on its main thread.\nI/InputReader(  860): Reconfiguring input devices.  changes=0x00000004\nI/InputReader(  860): Device reconfigured: id=7, name='cyttsp5_mt', size 540x960, orientation 0, mode 1, display id 0\nW/ContextImpl(  860): Calling a method in the system process without a qualified user: android.app.ContextImpl.sendBroadcast:1139 com.android.server.am.AppErrorDialog.<init>:114 com.android.server.am.ActivityManagerService$2.handleMessage:1211 android.os.Handler.dispatchMessage:102 android.os.Looper.loop:136\n...\n\n\u3055\u3089\u306b\u3088\u304f\u898b\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u306e\u30ef\u30fc\u30cb\u30f3\u30b0\u304cndk-build\u5b9f\u884c\u6642\u306b\u51fa\u3066\u305f\nAndroid NDK: WARNING: APP_PLATFORM android-21 is larger than android:minSdkVersion 9 in ./AndroidManifest.xml\n\n\nSolutions\nApplication.mk\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3059\u308b\n\nApplication.mk\nAPP_PLATFORM := android-9\n\n\n\u3059\u308b\u3068\u3001\u4eca\u5ea6\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\n[armeabi] Compile++ thumb: cocos2dxandroid_static <= Java_org_cocos2dx_lib_Cocos2dxBitmap.cpp\n/Users/tanishi/Documents/GameBase/frameworks/runtime-src/proj.android/../../cocos2d-x/cocos//platform/android/javaactivity-android.cpp: In function 'void Java_org_cocos2dx_lib_Cocos2dxRenderer_nativeInit(JNIEnv*, jobject, jint, jint)':\n/Users/tanishi/Documents/GameBase/frameworks/runtime-src/proj.android/../../cocos2d-x/cocos//platform/android/javaactivity-android.cpp:101:34: warning: 'void cocos2d::DrawPrimitives::init()' is deprecated (declared at /Users/tanishi/Documents/GameBase/frameworks/runtime-src/proj.android/../../cocos2d-x/cocos//platform/android/../../2d/CCDrawingPrimitives.h:88) [-Wdeprecated-declarations]\n         cocos2d::DrawPrimitives::init();\n                                  ^\n/Users/tanishi/Documents/GameBase/frameworks/runtime-src/proj.android/../../cocos2d-x/cocos//platform/android/javaactivity-android.cpp:101:39: warning: 'void cocos2d::DrawPrimitives::init()' is deprecated (declared at /Users/tanishi/Documents/GameBase/frameworks/runtime-src/proj.android/../../cocos2d-x/cocos//platform/android/../../2d/CCDrawingPrimitives.h:88) [-Wdeprecated-declarations]\n         cocos2d::DrawPrimitives::init();\n                                       ^\n[armeabi] Compile++ thumb: cocos2dxandroid_static <= Java_org_cocos2dx_lib_Cocos2dxHelper.cpp\n[armeabi] Compile++ thumb: cocos2dxandroid_static <= Java_org_cocos2dx_lib_Cocos2dxRenderer.cpp\n[armeabi] Compile++ thumb: cocos2dxandroid_static <= JniHelper.cpp\nmake: *** No rule to make target `/Users/tanishi/Library/Android/ndk/sources/android/cpufeatures/cpu-features.c', needed by `obj/local/armeabi/objs-debug/cpufeatures/cpu-features.o'.  Stop.\nmake: *** Waiting for unfinished jobs....\n[armeabi] Compile++ thumb: cocos2dxandroid_static <= TouchesJni.cpp\nmake: Leaving directory `/Users/tanishi/Documents/GameBase/frameworks/runtime-src/proj.android'\nError running command, return code: 2.\n\ncpkfeatures\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3059\u308b\n$ find . -name cpu-features.o* | rm -f\n\n\u3053\u308c\u3067\u3088\u3046\u3084\u304f\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u901a\u3063\u3066\u8d77\u52d5\u3067\u304d\u305f\n\n\nImpressions\n\u3053\u308c\u3063\u3066\u7d50\u69cb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u306a\u30d0\u30b0\u3060\u3088\u306a...\n\u3082\u3057\u304b\u3057\u3066\u56f0\u3063\u3066\u308b\u306e\u4ffa\u3060\u3051\u306a\u306e\u304b\uff1f\n\u89e3\u6c7a\u306b\u534a\u65e5\u4ee5\u4e0a\u304b\u304b\u3063\u305f\u3051\u3069\u3001\nstackoverflow\u3055\u3093\u306f\u3084\u3063\u3071\u308a\u795e\u3060\u308f\n\n## Env\n- OSX 10.11.3\n- Android 4.4.4(\u5b9f\u6a5f)\n- cocos2d-x 3.13\n- Android SDK tools 25.1.7\n- Android NDK r10d\n- apache ANT 1.9.7\n- JDK 1.8.0_102\n\n## Ref\n\nhttp://stackoverflow.com/questions/28740315/android-ndk-getting-java-lang-unsatisfiedlinkerror-dlopen-failed-cannot-loca\nhttp://stackoverflow.com/questions/15872254/android-ndk-warning-app-platform-android-9-is-larger-than-androidminsdkversio\nhttps://github.com/cocos2d/cocos2d-js/issues/631\n\n## Problems\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305fapk\u3092\u5b9f\u6a5f\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u5b9f\u884c\u3059\u308b\u3068...\n\n**\u554f\u984c\u304c\u767a\u751f\u3057\u305f\u305f\u3081\u3001${appname}\u3092\u7d42\u4e86\u3057\u307e\u3059**\n\n\u3068\u3044\u3046\u30c0\u30a4\u30a2\u30ed\u30b0\u304c\u51fa\u3066\u7d42\u4e86\u3059\u308b\n\n\u30a8\u30e9\u30fc\u30ed\u30b0\u306f\u3053\u3093\u306a\u611f\u3058\n\n```\n...\nE/dalvikvm(19125): dlopen(\"/data/app-lib/org.cocos2dx.GameBase-2/libcocos2dlua.so\") failed: dlopen failed: cannot locate symbol \"signal\" referenced by \"libcocos2dlua.so\"...\nD/AndroidRuntime(19125): Shutting down VM\nW/dalvikvm(19125): threadid=1: thread exiting with uncaught exception (group=0x41668d58)\nE/AndroidRuntime(19125): FATAL EXCEPTION: main\nE/AndroidRuntime(19125): Process: org.cocos2dx.GameBase, PID: 19125\nE/AndroidRuntime(19125): java.lang.UnsatisfiedLinkError: dlopen failed: cannot locate symbol \"signal\" referenced by \"libcocos2dlua.so\"...\nE/AndroidRuntime(19125):       \tat java.lang.Runtime.loadLibrary(Runtime.java:364)\nE/AndroidRuntime(19125):       \tat java.lang.System.loadLibrary(System.java:526)\nE/AndroidRuntime(19125):       \tat org.cocos2dx.lib.Cocos2dxActivity.onLoadNativeLibraries(Cocos2dxActivity.java:248)\nE/AndroidRuntime(19125):       \tat org.cocos2dx.lib.Cocos2dxActivity.onCreate(Cocos2dxActivity.java:264)\nE/AndroidRuntime(19125):       \tat android.app.Activity.performCreate(Activity.java:5245)\nE/AndroidRuntime(19125):       \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\nE/AndroidRuntime(19125):       \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2179)\nE/AndroidRuntime(19125):       \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2292)\nE/AndroidRuntime(19125):       \tat android.app.ActivityThread.access$800(ActivityThread.java:149)\nE/AndroidRuntime(19125):       \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1218)\nE/AndroidRuntime(19125):       \tat android.os.Handler.dispatchMessage(Handler.java:102)\nE/AndroidRuntime(19125):       \tat android.os.Looper.loop(Looper.java:136)\nE/AndroidRuntime(19125):       \tat android.app.ActivityThread.main(ActivityThread.java:5265)\nE/AndroidRuntime(19125):       \tat java.lang.reflect.Method.invokeNative(Native Method)\nE/AndroidRuntime(19125):       \tat java.lang.reflect.Method.invoke(Method.java:515)\nE/AndroidRuntime(19125):       \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:823)\nE/AndroidRuntime(19125):       \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:639)\nE/AndroidRuntime(19125):       \tat dalvik.system.NativeStart.main(Native Method)\nW/ActivityManager(  860):   Force finishing activity org.cocos2dx.GameBase/org.cocos2dx.lua.AppActivity\nI/ActivityManager(  860): Config changes=480 {1.0 440mcc20mnc ja_JP ldltr sw360dp w360dp h566dp 240dpi nrml port finger -keyb/v/h -nav/h s.26}\nI/Choreographer( 1423): Skipped 32 frames!  The application may be doing too much work on its main thread.\nI/InputReader(  860): Reconfiguring input devices.  changes=0x00000004\nI/InputReader(  860): Device reconfigured: id=7, name='cyttsp5_mt', size 540x960, orientation 0, mode 1, display id 0\nW/ContextImpl(  860): Calling a method in the system process without a qualified user: android.app.ContextImpl.sendBroadcast:1139 com.android.server.am.AppErrorDialog.<init>:114 com.android.server.am.ActivityManagerService$2.handleMessage:1211 android.os.Handler.dispatchMessage:102 android.os.Looper.loop:136\n...\n```\n\n\u3055\u3089\u306b\u3088\u304f\u898b\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u306e\u30ef\u30fc\u30cb\u30f3\u30b0\u304cndk-build\u5b9f\u884c\u6642\u306b\u51fa\u3066\u305f\n\n```\nAndroid NDK: WARNING: APP_PLATFORM android-21 is larger than android:minSdkVersion 9 in ./AndroidManifest.xml\n```\n\n## Solutions\n\nApplication.mk\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3059\u308b\n\n``` Application.mk\nAPP_PLATFORM := android-9\n```\n\n\u3059\u308b\u3068\u3001\u4eca\u5ea6\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\n\n```\n[armeabi] Compile++ thumb: cocos2dxandroid_static <= Java_org_cocos2dx_lib_Cocos2dxBitmap.cpp\n/Users/tanishi/Documents/GameBase/frameworks/runtime-src/proj.android/../../cocos2d-x/cocos//platform/android/javaactivity-android.cpp: In function 'void Java_org_cocos2dx_lib_Cocos2dxRenderer_nativeInit(JNIEnv*, jobject, jint, jint)':\n/Users/tanishi/Documents/GameBase/frameworks/runtime-src/proj.android/../../cocos2d-x/cocos//platform/android/javaactivity-android.cpp:101:34: warning: 'void cocos2d::DrawPrimitives::init()' is deprecated (declared at /Users/tanishi/Documents/GameBase/frameworks/runtime-src/proj.android/../../cocos2d-x/cocos//platform/android/../../2d/CCDrawingPrimitives.h:88) [-Wdeprecated-declarations]\n         cocos2d::DrawPrimitives::init();\n                                  ^\n/Users/tanishi/Documents/GameBase/frameworks/runtime-src/proj.android/../../cocos2d-x/cocos//platform/android/javaactivity-android.cpp:101:39: warning: 'void cocos2d::DrawPrimitives::init()' is deprecated (declared at /Users/tanishi/Documents/GameBase/frameworks/runtime-src/proj.android/../../cocos2d-x/cocos//platform/android/../../2d/CCDrawingPrimitives.h:88) [-Wdeprecated-declarations]\n         cocos2d::DrawPrimitives::init();\n                                       ^\n[armeabi] Compile++ thumb: cocos2dxandroid_static <= Java_org_cocos2dx_lib_Cocos2dxHelper.cpp\n[armeabi] Compile++ thumb: cocos2dxandroid_static <= Java_org_cocos2dx_lib_Cocos2dxRenderer.cpp\n[armeabi] Compile++ thumb: cocos2dxandroid_static <= JniHelper.cpp\nmake: *** No rule to make target `/Users/tanishi/Library/Android/ndk/sources/android/cpufeatures/cpu-features.c', needed by `obj/local/armeabi/objs-debug/cpufeatures/cpu-features.o'.  Stop.\nmake: *** Waiting for unfinished jobs....\n[armeabi] Compile++ thumb: cocos2dxandroid_static <= TouchesJni.cpp\nmake: Leaving directory `/Users/tanishi/Documents/GameBase/frameworks/runtime-src/proj.android'\nError running command, return code: 2.\n```\n\ncpkfeatures\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3059\u308b\n\n```\n$ find . -name cpu-features.o* | rm -f\n```\n\n\u3053\u308c\u3067\u3088\u3046\u3084\u304f\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u901a\u3063\u3066\u8d77\u52d5\u3067\u304d\u305f\n\n![Screenshot_2016-09-10-23-16-16.png](https://qiita-image-store.s3.amazonaws.com/0/132627/feb00921-9d92-1294-3711-aa270a1850dc.png \"Screenshot_2016-09-10-23-16-16.png\")\n\n## Impressions\n\n\u3053\u308c\u3063\u3066\u7d50\u69cb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u306a\u30d0\u30b0\u3060\u3088\u306a...\n\u3082\u3057\u304b\u3057\u3066\u56f0\u3063\u3066\u308b\u306e\u4ffa\u3060\u3051\u306a\u306e\u304b\uff1f\n\n\u89e3\u6c7a\u306b\u534a\u65e5\u4ee5\u4e0a\u304b\u304b\u3063\u305f\u3051\u3069\u3001\nstackoverflow\u3055\u3093\u306f\u3084\u3063\u3071\u308a\u795e\u3060\u308f\n", "tags": ["Android", "cocos2d-x"]}