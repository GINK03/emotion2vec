{"context": " More than 1 year has passed since last update.\uff15\u56de\u76ee\u306f\u914d\u5217\u3068\u9045\u5ef6\u8a55\u4fa1\u3067\u3059\u3002\u3055\u3089\u3063\u3068\u8a66\u3057\u3066\u307f\u305f\u6240\u3067\u306fmruby\u3068Ruby\u3067\u52d5\u4f5c\u4e0a\u306e\u9055\u3044\u306f\u7121\u3044\u3088\u3046\u3067\u3057\u305f\u3002\u3068\u3044\u3046\u3053\u3068\u3067\u7279\u306bmruby\u3060\u304b\u3089\u3069\u3046\u3001\u3068\u3044\u3046\u4e8b\u3082\u7121\u3044\u306e\u3067\u3059\u304c\u3001\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u8a66\u3057\u305f\u5185\u5bb9\u3092\u4ee5\u4e0b\u306b\u8a18\u3057\u307e\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u3053\u306e\u5199\u771f\u306f\u4ed6\u306e\u732b\u9054\u3068\u30d9\u30c3\u30c9\u306b\u53ce\u307e\u308b\u30c4\u30ca\u3067\u3059\u3002\u914d\u5217\u3063\u307d\u3044\u306e\u3067\u8f09\u305b\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u914d\u5217\n\n\u6dfb\u5b57\u3067\u306e\u5024\u306e\u53d6\u5f97\n\nmirb\na = [1,2,3,4,5]\na[0]  #=> 1\na[1]  #=> 2\na[10] #=> nil #\u914d\u5217\u306e\u8981\u7d20\u6570\u3092\u8d85\u3048\u305f\u6307\u5b9a\u306fnil\u3092\u304b\u3048\u3059\n\n\n\n\u914d\u5217\u306e\u8981\u7d20\u6570\n\nmirb\n[1,2,3,4,5].length #=> 5\n[1,2,3,4,5].size   #=> 5\n\n\nlength\u3068size\u306f\u540c\u3058\u52d5\u4f5c\u3092\u3057\u307e\u3059\u3002\n\n2\u3064\u306e\u914d\u5217\u3092\u7d50\u5408\n\nmirb\n[1,2,3] + [4,5,6] #=> [1, 2, 3, 4, 5, 6]\n\n\n\n\u914d\u5217\u306e\u672b\u5c3e\u306b\u5024\u3092\u8ffd\u52a0\n\nmirb\n[1,2,3].push(4) #=> [1, 2, 3, 4] #\u7834\u58ca\u7684\n\n\npush\u306f\u5143\u306e\u914d\u5217\u3092\u7834\u58ca\u7684\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n<<\u3082\u540c\u69d8\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\nmirb\n[1,2,3] << 4 #=> [1, 2, 3, 4] #\u7834\u58ca\u7684\n\n\n\n\u6307\u5b9a\u7bc4\u56f2\u306e\u8981\u7d20\u304b\u3089\u306a\u308b\u914d\u5217\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\n\nmirb\na = [1, 2, 3, 4, 5, 6]\na[0..3]   #=> [1, 2, 3, 4]\na[0...3]  #=> [1, 2, 3]\na[0..-1]  #=> [1, 2, 3, 4, 5, 6] # -1\u306f\u4e00\u756a\u6700\u5f8c\u306e\u8981\u7d20\u4f4d\u7f6e\n\n\n\n\u6307\u5b9a\u4f4d\u7f6e\u304b\u3089\u6307\u5b9a\u500b\u6570\u5206\u306e\u8981\u7d20\u304b\u3089\u306a\u308b\u914d\u5217\u3092\u8fd4\u3059\n\nmirb\na = [1, 2, 3, 4, 5]\na[0, 3]  #=> [1, 2, 3]\na[1, 3]  #=> [2, 3, 4]\n\n\n\n\u914d\u5217\u306e\u5404\u8981\u7d20\u3092\u30d6\u30ed\u30c3\u30af\u3067\u6e21\u3055\u308c\u305f\u5f0f\u306b\u5f93\u3063\u3066\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u306e\u914d\u5217\u3092\u8fd4\u3059\n\nmirb\n[1,2,3,4].collect{|e| e * 2} #=> [2, 4, 6, 8]\n[1,2,3,4].map{|e| e * 2}     #=> [2, 4, 6, 8]\n\n\nmap\u306fcollect\u306e\u5225\u540d\u3067\u3059\u3002\n\u30e1\u30bd\u30c3\u30c9\u540d\u306e\u5f8c\u308d\u306b!\u3092\u4ed8\u52a0\u3059\u308b\u3068\u7834\u58ca\u7684\u30e1\u30bd\u30c3\u30c9\u3068\u306a\u308a\u3001\u3082\u3068\u306e\u914d\u5217\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\nmirb\na = [1, 2, 3, 4]\na.collect!{|e| e * 2} #=> [2, 4, 6, 8]\n\na #=> [2, 4, 6, 8]\n\n\n\n\u914d\u5217\u304b\u3089nil\u3092\u53d6\u308a\u9664\u304f\n\nmirb\n[1, 2, 3, nil, 4, 5, nil].compact #=> [1, 2, 3, 4, 5]\n\n\n\n\u5024\u3092\u524a\u9664\n\nmirb\na = [1, 2, 3, 4, 5]\n\na.delete(1) #=> 1  #\u7834\u58ca\u7684\na           #=> [2, 3, 4, 5] \n\n\ndelete\u306e\u623b\u308a\u5024\u306f\u524a\u9664\u3055\u308c\u305f\u5024\u3067\u3059\u3002\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u5143\u306e\u914d\u5217\u3092\u7834\u58ca\u7684\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n\u6307\u5b9a\u4f4d\u7f6e\u306e\u5024\u3092\u524a\u9664\n\nmirb\na = [1, 2, 3, 4, 5]\na.delete_at(1)  #=> 2 #\u7834\u58ca\u7684\na               #=> [1, 3, 4, 5]\n\n\ndelete_at\u306e\u623b\u308a\u5024\u306f\u524a\u9664\u3055\u308c\u305f\u5024\u3067\u3059\u3002\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u5143\u306e\u914d\u5217\u3092\u7834\u58ca\u7684\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n\u5404\u8981\u7d20\u3092\u30d6\u30ed\u30c3\u30af\u3067\u8a55\u4fa1\u3057\u3066\u3001\u7d50\u679c\u304c\u771f\u3068\u306a\u308b\u5024\u3092\u524a\u9664\n\nmirb\na = [1, 2, 3, 4, 5]\na.delete_if{|e| e >= 3} #=> [1, 2] #\u7834\u58ca\u7684\na                       #=> [1, 2]\n\n\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u5143\u306e\u914d\u5217\u3092\u7834\u58ca\u7684\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n\u8981\u7d20\u6570\u5206\u7e70\u308a\u8fd4\u3057\n\u5404\u8981\u7d20\u306b\u3064\u3044\u3066\u7e70\u308a\u8fd4\u3057\n\nmirb\n[1, 2, 3, 4, 5].each do |e|\n  puts e\nend\n\n1\n2\n3\n4\n5\n\n#=> [1, 2, 3, 4, 5]\n\n\n\u6dfb\u5b57\u4ed8\u304d\u306e\u7e70\u308a\u8fd4\u3057\n\nmirb\n[1, 2, 3, 4, 5].each_with_index do |e, index|\n  puts \"#{index}: #{e}\"\nend\n\n0: 1\n1: 2\n2: 3\n3: 4\n4: 5\n\n#=> [1, 2, 3, 4, 5]\n\n\n\n\u914d\u5217\u304c\u7a7a\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\n\nmirb\n[1,2].empty? #=> false\n[].empty?    #=> true\n\n\n\n\u6761\u4ef6\u306b\u5408\u81f4\u3059\u308b\u8981\u7d20\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u756a\u53f7\u3092\u53d6\u5f97\u3059\u308b\n\nmirb\n[1,2,3,4,5].find_index{|e| e == 3} #=> 2\n\n\n\n\u914d\u5217\u3092\u542b\u3080\u914d\u5217\u3092\u5e73\u6ed1\u306b\u3059\u308b\n\nmirb\n[1, [\"a\", \"b\"], 2, 3, [[\"c\", \"d\", \"e\"], 4]].flatten\n #=> [1, \"a\", \"b\", 2, 3, \"c\", \"d\", \"e\", 4]\n\n[1, [\"a\", \"b\"], 2, 3, [[\"c\", \"d\", \"e\"], 4]].flatten!\n #=> [1, \"a\", \"b\", 2, 3, \"c\", \"d\", \"e\", 4] #\u7834\u58ca\u7684\n\n\n\n\u6307\u5b9a\u8981\u7d20\u3092\u542b\u3080\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\n\nmirb\na = [1,2,3,4,5]\na.include?(3)  #=> true\na.include?(10) #=> false\n\n\n\n\u914d\u5217\u306e\u5404\u8981\u7d20\u3092\u9023\u7d50\u3057\u305f\u6587\u5b57\u5217\u3092\u304b\u3048\u3059\n\nmirb\n[\"tuna\", \"pochi\", \"tama\", \"mike\"].join\n #=> \"tunapochitamamike\"\n\n[\"tuna\", \"pochi\", \"tama\", \"mike\"].join(\",\")\n #=> \"tuna,pochi,tama,mike\"\n\n\n\nLazy(\u9045\u5ef6\u8a55\u4fa1)\n\n\u5199\u771f\u306fLazy\u306a\u30c4\u30ca\u3067\u3059\u3002\nmruby\u306b\u304a\u3044\u3066\u3082Ruby2.0\u3067\u5c0e\u5165\u3055\u308c\u305f\u9045\u5ef6\u8a55\u4fa1\u30e9\u30a4\u30d6\u30e9\u30eaLazy\u304cmrbgems:mruby-enum-lazy\u3068\u3057\u3066\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u914d\u5217\u306b\u5bfe\u3057\u3066Lazy\u3092\u4f7f\u3046\u3068\u3001map\u306a\u3069\u306e\u914d\u5217\u306b\u5bfe\u3059\u308b\u64cd\u4f5c\u3092\u5b9f\u969b\u306b\u306f\u305d\u306e\u6642\u70b9\u3067\u306f\u51e6\u7406\u305b\u305a\u306b\u3001\u7d50\u679c\u306e\u5024\u304c\u5fc5\u8981\u306b\u306a\u3063\u305f\u6642\u70b9\u3067\u51e6\u7406\u3092\u884c\u3046\u3001\u3068\u3044\u3046\u4e8b\u304c\u3067\u304d\u308b\u305d\u3046\u3067\u3059\u3002\nbuild_config.rb\u3067gembox\u306bdefault\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u65e2\u306b\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n\nmirb\nlazy_list = [1,2,3,4,5].lazy.map{|e| e * 2}\n #=> #<Enumerable::Lazy: #<Enumerator::Generator:0x7fa8c88077a0>:each>\n\n\nlazy\u3092\u4f7f\u7528\u3057\u305f\u5834\u5408\u306e\u8fd4\u308a\u5024\u306fEnumerable::Lazy\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3059\u3002\n\u3053\u306e\u6642\u70b9\u3067\u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u8eab\u306f\u8a55\u4fa1\u3055\u308c\u305a\u3001first\u307e\u305f\u306fforce\u3067\u5024\u3092\u53d6\u308a\u51fa\u3057\u305f\u6642\u70b9\u3067\u8a55\u4fa1\u3055\u308c\u307e\u3059\u3002\n\nmirb\nlazy_list.force #=> [2, 4, 6, 8, 10]\nlazy_list.first #=> 2\n\n\n\u4ed6\u306bselect\u306a\u3069\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u3048\u307e\u3059\u3002\u4f8b\u3048\u3070\u914d\u5217\u306e\u5168\u8981\u7d20\u30922\u4e57\u3057\u3066\u3001\u7d50\u679c\u304c\u5076\u6570\u306e\u3082\u306e\u3060\u3051\u62bd\u51fa\u3057\u305f\u914d\u5217\u304b\u3089\u5148\u982d3\u8981\u7d20\u3060\u3051\u53d6\u308a\u51fa\u3059\u5834\u5408\u3002\n\nmirb\n[1,2,3,4,5,6,7,8,9,10].lazy.map{|e| e * e}.\n                       select{|e| (e % 2) == 0}.\n                       take(3).\n                       force\n\n\nlazy\u3092\u901a\u3057\u3066\u4f7f\u7528\u53ef\u80fd\u306a\u30e1\u30bd\u30c3\u30c9\u306f\u4ee5\u4e0b\n* map\n* select\n* reject\n* grep\n* drop\n* drop_while\n* take\n* take_while\n* flat_map (collect_concat)\n* zip\n\nRuby2.1.1\u3068mruby1.0.0\u3067Array#map\u306e\u901f\u5ea6\u6bd4\u8f03\n\n\u9045\u5ef6\u8a55\u4fa1\u306a\u3057\n\u8a66\u3057\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092Ruby2.1.1\u3068mruby1.0.0\u3067\u6bd4\u8f03\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u5358\u7d14\u306b\u767e\u4e07\u500b\u306e\u8981\u7d20\u306b\u5bfe\u3057\u3066map\u3092\u56de\u3057\u3066\u5148\u982d3\u8981\u7d20\u3092\u8fd4\u3059\u307e\u3067\u306e\u7d4c\u904e\u6642\u9593\u3092\u5831\u544a\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3002\n\narray-time.rb\nstart_time = Time.now\nArray.new(1000000, 1).map{|e| e}[0, 3]\nend_time = Time.now\n\nprocess_time = end_time - start_time\nputs \"process time: #{process_time}\"\n\n\n\u307e\u305a\u306f Ruby2.1.1\n\nruby2.1.1\n$ ruby -v\nruby 2.1.1p76 (2014-02-24 revision 45161) [x86_64-linux]\n\n$ ruby array-time.rb \nprocess time: 0.093344695\n\n\n\u7d9a\u3044\u3066 mruby1.0.0\n\nmruby1.0.0\n$ mruby -v\nmruby 1.0.0 (2014-01-10)\n\n$ mruby array-time.rb \nprocess time: 2.60280699999999\n\n\noh...\u7d0427\u500d\u306e\u5dee\u3067Ruby2.1.1\u306e\u5727\u52dd\u3067\u3059\u3002\u307e\u3042\u7528\u9014\u304c\u9055\u3046\u306e\u3067\u5358\u7d14\u306a\u901f\u5ea6\u6bd4\u8f03\u306f\u3042\u307e\u308a\u610f\u5473\u304c\u6709\u308a\u307e\u305b\u3093\u304c\u3002\n\n\u9045\u5ef6\u8a55\u4fa1\u3042\u308a\n\u540c\u69d8\u306e\u51e6\u7406\u3092Lazy\u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u305f\u3089\u3069\u3046\u306a\u308b\u3093\u3067\u3057\u3087\u3046\uff1f\n\narray-time-lazy.rb\nstart_time = Time.now\nArray.new(1000000, 1).lazy.map{|e| e}.take(3).force\nend_time = Time.now\n\nprocess_time = end_time - start_time\nputs \"process time: #{process_time}\"\n\n\nRuby2.1.1\u306e\u5834\u5408\n\nruby2.1.1\n$ ruby array-time-lazy.rb \nprocess time: 0.00678566\n\n\nmruby1.0.0\u306e\u5834\u5408\n\nmruby1.0.0\n$ mruby array-time-lazy.rb \nprocess time: 0.17267199999999\n\n\n\u901f\u5ea6\u5dee\u306f\u540c\u7a0b\u5ea6\u3067\u3059\u304c\u3001mruby\u306b\u304a\u3044\u3066\u51e6\u7406\u306b\u304b\u304b\u308b\u6642\u9593\u306f\u7d0415\u5206\u306e1\u3068\u306a\u308a\u307e\u3057\u305f\u3002\u30ea\u30bd\u30fc\u30b9\u306e\u9650\u3089\u308c\u305f\u74b0\u5883\u3067\u306e\u4f7f\u7528\u304c\u60f3\u5b9a\u3055\u308c\u308bmruby\u306b\u304a\u3044\u3066\u306fLazy\u306f\u5f37\u529b\u306a\u6b66\u5668\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n\uff15\u56de\u76ee\u306f\u914d\u5217\u3068\u9045\u5ef6\u8a55\u4fa1\u3067\u3059\u3002\u3055\u3089\u3063\u3068\u8a66\u3057\u3066\u307f\u305f\u6240\u3067\u306fmruby\u3068Ruby\u3067\u52d5\u4f5c\u4e0a\u306e\u9055\u3044\u306f\u7121\u3044\u3088\u3046\u3067\u3057\u305f\u3002\u3068\u3044\u3046\u3053\u3068\u3067\u7279\u306bmruby\u3060\u304b\u3089\u3069\u3046\u3001\u3068\u3044\u3046\u4e8b\u3082\u7121\u3044\u306e\u3067\u3059\u304c\u3001\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u8a66\u3057\u305f\u5185\u5bb9\u3092\u4ee5\u4e0b\u306b\u8a18\u3057\u307e\u3059\u3002\n\n![\u30c4\u30ca_array.jpg](https://qiita-image-store.s3.amazonaws.com/0/13835/017b46a1-ec18-b960-ee46-fb5066431113.jpeg \"\u30c4\u30ca_array.jpg\")\n\u3061\u306a\u307f\u306b\u3053\u306e\u5199\u771f\u306f\u4ed6\u306e\u732b\u9054\u3068\u30d9\u30c3\u30c9\u306b\u53ce\u307e\u308b\u30c4\u30ca\u3067\u3059\u3002\u914d\u5217\u3063\u307d\u3044\u306e\u3067\u8f09\u305b\u3066\u307f\u307e\u3057\u305f\u3002\n\n\n## \u914d\u5217\n\n####\u6dfb\u5b57\u3067\u306e\u5024\u306e\u53d6\u5f97\n\n```ruby:mirb\na = [1,2,3,4,5]\na[0]  #=> 1\na[1]  #=> 2\na[10] #=> nil #\u914d\u5217\u306e\u8981\u7d20\u6570\u3092\u8d85\u3048\u305f\u6307\u5b9a\u306fnil\u3092\u304b\u3048\u3059\n```\n\n####\u914d\u5217\u306e\u8981\u7d20\u6570\n\n```ruby:mirb\n[1,2,3,4,5].length #=> 5\n[1,2,3,4,5].size   #=> 5\n```\n<code>length</code>\u3068<code>size</code>\u306f\u540c\u3058\u52d5\u4f5c\u3092\u3057\u307e\u3059\u3002\n\n####2\u3064\u306e\u914d\u5217\u3092\u7d50\u5408\n\n```ruby:mirb\n[1,2,3] + [4,5,6] #=> [1, 2, 3, 4, 5, 6]\n```\n\n####\u914d\u5217\u306e\u672b\u5c3e\u306b\u5024\u3092\u8ffd\u52a0\n\n```ruby:mirb\n[1,2,3].push(4) #=> [1, 2, 3, 4] #\u7834\u58ca\u7684\n```\n\n<code>push</code>\u306f\u5143\u306e\u914d\u5217\u3092\u7834\u58ca\u7684\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n<code><<</code>\u3082\u540c\u69d8\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\n```ruby:mirb\n[1,2,3] << 4 #=> [1, 2, 3, 4] #\u7834\u58ca\u7684\n```\n\n####\u6307\u5b9a\u7bc4\u56f2\u306e\u8981\u7d20\u304b\u3089\u306a\u308b\u914d\u5217\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\n\n```ruby:mirb\na = [1, 2, 3, 4, 5, 6]\na[0..3]   #=> [1, 2, 3, 4]\na[0...3]  #=> [1, 2, 3]\na[0..-1]  #=> [1, 2, 3, 4, 5, 6] # -1\u306f\u4e00\u756a\u6700\u5f8c\u306e\u8981\u7d20\u4f4d\u7f6e\n```\n\n####\u6307\u5b9a\u4f4d\u7f6e\u304b\u3089\u6307\u5b9a\u500b\u6570\u5206\u306e\u8981\u7d20\u304b\u3089\u306a\u308b\u914d\u5217\u3092\u8fd4\u3059\n\n```ruby:mirb\na = [1, 2, 3, 4, 5]\na[0, 3]  #=> [1, 2, 3]\na[1, 3]  #=> [2, 3, 4]\n```\n\n####\u914d\u5217\u306e\u5404\u8981\u7d20\u3092\u30d6\u30ed\u30c3\u30af\u3067\u6e21\u3055\u308c\u305f\u5f0f\u306b\u5f93\u3063\u3066\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u306e\u914d\u5217\u3092\u8fd4\u3059\n\n```ruby:mirb\n[1,2,3,4].collect{|e| e * 2} #=> [2, 4, 6, 8]\n[1,2,3,4].map{|e| e * 2}     #=> [2, 4, 6, 8]\n```\n\n<code>map</code>\u306f<code>collect</code>\u306e\u5225\u540d\u3067\u3059\u3002\n\u30e1\u30bd\u30c3\u30c9\u540d\u306e\u5f8c\u308d\u306b<code>!</code>\u3092\u4ed8\u52a0\u3059\u308b\u3068\u7834\u58ca\u7684\u30e1\u30bd\u30c3\u30c9\u3068\u306a\u308a\u3001\u3082\u3068\u306e\u914d\u5217\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```ruby:mirb\na = [1, 2, 3, 4]\na.collect!{|e| e * 2} #=> [2, 4, 6, 8]\n\na #=> [2, 4, 6, 8]\n```\n\n#### \u914d\u5217\u304b\u3089nil\u3092\u53d6\u308a\u9664\u304f\n\n```ruby:mirb\n[1, 2, 3, nil, 4, 5, nil].compact #=> [1, 2, 3, 4, 5]\n```\n\n####\u5024\u3092\u524a\u9664\n\n```ruby:mirb\na = [1, 2, 3, 4, 5]\n\na.delete(1) #=> 1  #\u7834\u58ca\u7684\na           #=> [2, 3, 4, 5] \n```\n\n<code>delete</code>\u306e\u623b\u308a\u5024\u306f\u524a\u9664\u3055\u308c\u305f\u5024\u3067\u3059\u3002\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u5143\u306e\u914d\u5217\u3092\u7834\u58ca\u7684\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n####\u6307\u5b9a\u4f4d\u7f6e\u306e\u5024\u3092\u524a\u9664\n\n```ruby:mirb\na = [1, 2, 3, 4, 5]\na.delete_at(1)  #=> 2 #\u7834\u58ca\u7684\na               #=> [1, 3, 4, 5]\n```\n\n<code>delete_at</code>\u306e\u623b\u308a\u5024\u306f\u524a\u9664\u3055\u308c\u305f\u5024\u3067\u3059\u3002\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u5143\u306e\u914d\u5217\u3092\u7834\u58ca\u7684\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n####\u5404\u8981\u7d20\u3092\u30d6\u30ed\u30c3\u30af\u3067\u8a55\u4fa1\u3057\u3066\u3001\u7d50\u679c\u304c\u771f\u3068\u306a\u308b\u5024\u3092\u524a\u9664\n\n```ruby:mirb\na = [1, 2, 3, 4, 5]\na.delete_if{|e| e >= 3} #=> [1, 2] #\u7834\u58ca\u7684\na                       #=> [1, 2]\n```\n\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u5143\u306e\u914d\u5217\u3092\u7834\u58ca\u7684\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n####\u8981\u7d20\u6570\u5206\u7e70\u308a\u8fd4\u3057\n\u5404\u8981\u7d20\u306b\u3064\u3044\u3066\u7e70\u308a\u8fd4\u3057\n\n```ruby:mirb\n[1, 2, 3, 4, 5].each do |e|\n  puts e\nend\n\n1\n2\n3\n4\n5\n\n#=> [1, 2, 3, 4, 5]\n```\n\n\u6dfb\u5b57\u4ed8\u304d\u306e\u7e70\u308a\u8fd4\u3057\n\n```ruby:mirb\n[1, 2, 3, 4, 5].each_with_index do |e, index|\n  puts \"#{index}: #{e}\"\nend\n\n0: 1\n1: 2\n2: 3\n3: 4\n4: 5\n\n#=> [1, 2, 3, 4, 5]\n```\n\n####\u914d\u5217\u304c\u7a7a\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\n\n```ruby:mirb\n[1,2].empty? #=> false\n[].empty?    #=> true\n```\n\n####\u6761\u4ef6\u306b\u5408\u81f4\u3059\u308b\u8981\u7d20\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u756a\u53f7\u3092\u53d6\u5f97\u3059\u308b\n\n```ruby:mirb\n[1,2,3,4,5].find_index{|e| e == 3} #=> 2\n```\n\n####\u914d\u5217\u3092\u542b\u3080\u914d\u5217\u3092\u5e73\u6ed1\u306b\u3059\u308b\n\n```ruby:mirb\n[1, [\"a\", \"b\"], 2, 3, [[\"c\", \"d\", \"e\"], 4]].flatten\n #=> [1, \"a\", \"b\", 2, 3, \"c\", \"d\", \"e\", 4]\n\n[1, [\"a\", \"b\"], 2, 3, [[\"c\", \"d\", \"e\"], 4]].flatten!\n #=> [1, \"a\", \"b\", 2, 3, \"c\", \"d\", \"e\", 4] #\u7834\u58ca\u7684\n```\n\n####\u6307\u5b9a\u8981\u7d20\u3092\u542b\u3080\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\n\n```ruby:mirb\na = [1,2,3,4,5]\na.include?(3)  #=> true\na.include?(10) #=> false\n```\n\n####\u914d\u5217\u306e\u5404\u8981\u7d20\u3092\u9023\u7d50\u3057\u305f\u6587\u5b57\u5217\u3092\u304b\u3048\u3059\n\n```ruby:mirb\n[\"tuna\", \"pochi\", \"tama\", \"mike\"].join\n #=> \"tunapochitamamike\"\n\n[\"tuna\", \"pochi\", \"tama\", \"mike\"].join(\",\")\n #=> \"tuna,pochi,tama,mike\"\n```\n\n##Lazy(\u9045\u5ef6\u8a55\u4fa1)\n\n![\u30c4\u30ca_sleep.jpg](https://qiita-image-store.s3.amazonaws.com/0/13835/3eb8a0c6-4499-665e-47b0-79523e3041b5.jpeg \"\u30c4\u30ca_sleep.jpg\")\n\u5199\u771f\u306fLazy\u306a\u30c4\u30ca\u3067\u3059\u3002\n\nmruby\u306b\u304a\u3044\u3066\u3082Ruby2.0\u3067\u5c0e\u5165\u3055\u308c\u305f\u9045\u5ef6\u8a55\u4fa1\u30e9\u30a4\u30d6\u30e9\u30eaLazy\u304cmrbgems:<code>mruby-enum-lazy</code>\u3068\u3057\u3066\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u914d\u5217\u306b\u5bfe\u3057\u3066Lazy\u3092\u4f7f\u3046\u3068\u3001map\u306a\u3069\u306e\u914d\u5217\u306b\u5bfe\u3059\u308b\u64cd\u4f5c\u3092\u5b9f\u969b\u306b\u306f\u305d\u306e\u6642\u70b9\u3067\u306f\u51e6\u7406\u305b\u305a\u306b\u3001\u7d50\u679c\u306e\u5024\u304c\u5fc5\u8981\u306b\u306a\u3063\u305f\u6642\u70b9\u3067\u51e6\u7406\u3092\u884c\u3046\u3001\u3068\u3044\u3046\u4e8b\u304c\u3067\u304d\u308b\u305d\u3046\u3067\u3059\u3002\n\nbuild_config.rb\u3067gembox\u306b<code>default</code>\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u65e2\u306b\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n\n```ruby:mirb\nlazy_list = [1,2,3,4,5].lazy.map{|e| e * 2}\n #=> #<Enumerable::Lazy: #<Enumerator::Generator:0x7fa8c88077a0>:each>\n```\n\nlazy\u3092\u4f7f\u7528\u3057\u305f\u5834\u5408\u306e\u8fd4\u308a\u5024\u306fEnumerable::Lazy\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3059\u3002\n\u3053\u306e\u6642\u70b9\u3067\u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u8eab\u306f\u8a55\u4fa1\u3055\u308c\u305a\u3001<code>first</code>\u307e\u305f\u306f<code>force</code>\u3067\u5024\u3092\u53d6\u308a\u51fa\u3057\u305f\u6642\u70b9\u3067\u8a55\u4fa1\u3055\u308c\u307e\u3059\u3002\n\n```ruby:mirb\nlazy_list.force #=> [2, 4, 6, 8, 10]\nlazy_list.first #=> 2\n```\n\n\u4ed6\u306bselect\u306a\u3069\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u3048\u307e\u3059\u3002\u4f8b\u3048\u3070\u914d\u5217\u306e\u5168\u8981\u7d20\u30922\u4e57\u3057\u3066\u3001\u7d50\u679c\u304c\u5076\u6570\u306e\u3082\u306e\u3060\u3051\u62bd\u51fa\u3057\u305f\u914d\u5217\u304b\u3089\u5148\u982d3\u8981\u7d20\u3060\u3051\u53d6\u308a\u51fa\u3059\u5834\u5408\u3002\n\n```ruby:mirb\n[1,2,3,4,5,6,7,8,9,10].lazy.map{|e| e * e}.\n                       select{|e| (e % 2) == 0}.\n                       take(3).\n                       force\n```\n\nlazy\u3092\u901a\u3057\u3066\u4f7f\u7528\u53ef\u80fd\u306a\u30e1\u30bd\u30c3\u30c9\u306f\u4ee5\u4e0b\n* map\n* select\n* reject\n* grep\n* drop\n* drop_while\n* take\n* take_while\n* flat_map (collect_concat)\n* zip\n\n##Ruby2.1.1\u3068mruby1.0.0\u3067Array#map\u306e\u901f\u5ea6\u6bd4\u8f03\n\n#### \u9045\u5ef6\u8a55\u4fa1\u306a\u3057\n\u8a66\u3057\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092Ruby2.1.1\u3068mruby1.0.0\u3067\u6bd4\u8f03\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u5358\u7d14\u306b\u767e\u4e07\u500b\u306e\u8981\u7d20\u306b\u5bfe\u3057\u3066<code>map</code>\u3092\u56de\u3057\u3066\u5148\u982d3\u8981\u7d20\u3092\u8fd4\u3059\u307e\u3067\u306e\u7d4c\u904e\u6642\u9593\u3092\u5831\u544a\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3002\n\n```ruby:array-time.rb\nstart_time = Time.now\nArray.new(1000000, 1).map{|e| e}[0, 3]\nend_time = Time.now\n\nprocess_time = end_time - start_time\nputs \"process time: #{process_time}\"\n```\n\n\u307e\u305a\u306f Ruby2.1.1\n\n```ruby2.1.1\n$ ruby -v\nruby 2.1.1p76 (2014-02-24 revision 45161) [x86_64-linux]\n\n$ ruby array-time.rb \nprocess time: 0.093344695\n```\n\n\u7d9a\u3044\u3066 mruby1.0.0\n\n```mruby1.0.0\n$ mruby -v\nmruby 1.0.0 (2014-01-10)\n\n$ mruby array-time.rb \nprocess time: 2.60280699999999\n```\n\noh...\u7d0427\u500d\u306e\u5dee\u3067Ruby2.1.1\u306e\u5727\u52dd\u3067\u3059\u3002\u307e\u3042\u7528\u9014\u304c\u9055\u3046\u306e\u3067\u5358\u7d14\u306a\u901f\u5ea6\u6bd4\u8f03\u306f\u3042\u307e\u308a\u610f\u5473\u304c\u6709\u308a\u307e\u305b\u3093\u304c\u3002\n\n####\u9045\u5ef6\u8a55\u4fa1\u3042\u308a\n\u540c\u69d8\u306e\u51e6\u7406\u3092Lazy\u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u305f\u3089\u3069\u3046\u306a\u308b\u3093\u3067\u3057\u3087\u3046\uff1f\n\n```ruby:array-time-lazy.rb\nstart_time = Time.now\nArray.new(1000000, 1).lazy.map{|e| e}.take(3).force\nend_time = Time.now\n\nprocess_time = end_time - start_time\nputs \"process time: #{process_time}\"\n```\n\nRuby2.1.1\u306e\u5834\u5408\n\n```ruby2.1.1\n$ ruby array-time-lazy.rb \nprocess time: 0.00678566\n```\n\nmruby1.0.0\u306e\u5834\u5408\n\n```mruby1.0.0\n$ mruby array-time-lazy.rb \nprocess time: 0.17267199999999\n```\n\n\u901f\u5ea6\u5dee\u306f\u540c\u7a0b\u5ea6\u3067\u3059\u304c\u3001mruby\u306b\u304a\u3044\u3066\u51e6\u7406\u306b\u304b\u304b\u308b\u6642\u9593\u306f\u7d0415\u5206\u306e1\u3068\u306a\u308a\u307e\u3057\u305f\u3002\u30ea\u30bd\u30fc\u30b9\u306e\u9650\u3089\u308c\u305f\u74b0\u5883\u3067\u306e\u4f7f\u7528\u304c\u60f3\u5b9a\u3055\u308c\u308bmruby\u306b\u304a\u3044\u3066\u306fLazy\u306f\u5f37\u529b\u306a\u6b66\u5668\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n", "tags": ["\u914d\u5217", "\u30c4\u30ca", "\u9045\u5ef6\u8a55\u4fa1", "mruby"]}