{"context": "\n\npry\n\nirb\u306e\u4ee3\u66ff\u3068\u306a\u308b\u5f37\u529b\u306a\u5bfe\u8a71\u578b\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\n\u4e3b\u306a\u6a5f\u80fd\n\n\n\u78ba\u5b9a\u3057\u305f\u5165\u529b\u3001\u8a55\u4fa1\u7d50\u679c\u306e\u51fa\u529b\u3001\u5165\u529b\u5c65\u6b74\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\n\u30af\u30e9\u30b9\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u3001\u307e\u305f\u306f\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u53c2\u7167\u3059\u308b\n\u30af\u30e9\u30b9\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u3001\u307e\u305f\u306f\u30e1\u30bd\u30c3\u30c9\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3059\u308b\n\u30a8\u30c7\u30a3\u30bf\u3092\u8d77\u52d5\u3057\u3001\u305d\u306e\u5834\u3067\u30e1\u30bd\u30c3\u30c9\u306e\u5b9a\u7fa9\u3092\u66f8\u304d\u63db\u3048\u308b\n\u30b7\u30a7\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u547c\u3073\u51fa\u3059\nGist\u3068\u9023\u643a\u3059\u308b\n\u30b9\u30b3\u30fc\u30d7\u306e\u79fb\u52d5\n\u30d7\u30ed\u30b0\u30e9\u30e0\u5b9f\u884c\u6642\u306b\u4efb\u610f\u306e\u5834\u6240\u3067\u5b9f\u884c\u3092\u505c\u6b62\u3057\u3001Pry\u306e\u5bfe\u8a71\u74b0\u5883\u3092\u8d77\u52d5\u3059\u308b\n\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u308b\u62e1\u5f35\u6a5f\u80fd\n\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\npry\n\n\n\u672c\u4f53\n\n\npry-doc\n\n\nRuby\u672c\u4f53\u306eC\u8a00\u8a9e\u306b\u3088\u308b\u5b9f\u88c5\u3092\u53c2\u7167\u3059\u308b\u6a5f\u80fd\u3092Pry\u306b\u8ffd\u52a0\u3059\u308b\n\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\n\n\npry-stack_explorer\n\n\nPry\u3092\u8d77\u52d5\u3057\u305f\u6642\u70b9\u3067\u306e\u305d\u308c\u307e\u3067\u306e\u547c\u3073\u51fa\u3057\u30b9\u30bf\u30c3\u30af\u3092\u8868\u793a\u3059\u308b\n\u30b9\u30bf\u30c3\u30af\u304c\u793a\u3059\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9078\u629e\u3057\u3066\u79fb\u52d5\u3067\u304d\u308b\n\n\npry-byebug\n\n\n\u30b3\u30fc\u30c9\u3092\u30b9\u30c6\u30c3\u30d7\u5b9f\u884c\u3059\u308b\nRuby2\u7cfb\u3067\u5229\u7528\n\n\nRuby1.9\u307e\u3067\u306fpry-debugger\u3092\u4f7f\u3046\n\n\n\n\n\n\n\n\npry\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n### Pry\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ gem install pry pry-doc\n\n### \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ gem install pry-stack_explorer pry-byebug\n\n\n\npry\u3092\u4f7f\u3063\u3066\u307f\u308b\n\npry\u3092\u4f7f\u3046\n[1] pry(main)> 1+2\n=> 3\n[2] pry(main)> \"ruby\".upcase\n=> \"RUBY\"\n\n### foo\u3068\u3044\u3046String\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n[1] pry(main)> foo = \"foo\"\n=> \"foo\"\n\n### \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30b9\u30b3\u30fc\u30d7\u306b\u79fb\u52d5\n[2] pry(main)> cd foo\n\n### \u73fe\u5728\u306e\u30b9\u30b3\u30fc\u30d7\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30e1\u30bd\u30c3\u30c9\u3084\u5b9a\u6570\u3001\u5909\u6570\u3092\u51fa\u529b\u3059\u308b\n[3] pry(\"foo\"):1> ls\nComparable#methods: <  <=  >  >=  between?\nString#methods:\n  %            chr             gsub       rindex       succ!\n  *            clear           gsub!      rjust        sum\n...\n  chop         freeze          reverse    sub!         valid_encoding?\n  chop!        getbyte         reverse!   succ\nself.methods: __pry__\nlocals: _  __  _dir_  _ex_  _file_  _in_  _out_  _pry_\n\n### \"foo\"\u3068\u3044\u3046\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u5bfe\u3057\u3066upcase\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\n[6] pry(\"foo\"):1> upcase\n=> \"FOO\"\n\n\n\n\u30d8\u30eb\u30d7\u3092\u78ba\u8a8d\u3059\u308b\n\nhelp\n\n\n\u5f15\u6570\u306a\u3057\u3067\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\n\u5f15\u6570\u3092\u3064\u3051\u308b\u3068\u305d\u306e\u30b3\u30de\u30f3\u30c9\u306e\u8a73\u7d30\u304c\u898b\u3048\u308b\n\n\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u5b9f\u884c\u6642\u306b\u4efb\u610f\u306e\u5834\u6240\u3067\u5bfe\u8a71\u74b0\u5883\u3078\u79fb\u884c\u3059\u308b\n\n\u4efb\u610f\u306e\u5834\u6240\u3067\u5bfe\u8a71\u578b\u74b0\u5883\u3078\u79fb\u884c\n$ cat pry_test.rb\n==============================\nrequire \"pry\"\n\nclass Foo\n  def initialize\n    @bar = \"bar\"\n  end\n\n  def bar\n    binding.pry  ### \u3053\u3053\u3067\u5bfe\u8a71\u578b\u74b0\u5883\u306b\u79fb\u884c\n    @bar\n  end\nend\n\nputs \"bar is \" + Foo.new.bar\n==============================\n\n$ ruby pry_test.rb\n==============================\nFrom: /Users/ftakao2007/work/ruby/tmp/pry_test.rb @ line 10 Foo#bar:\n\n     9: def bar\n => 10:   binding.pry\n    11:   @bar\n    12: end\n\n### \u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306e\u78ba\u8a8d\n[1] pry(#<Foo>)> ls\nFoo#methods: bar  ### bar\u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\ninstance variables: @bar   ### \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570 @bar \u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\nlocals: _  __  _dir_  _ex_  _file_  _in_  _out_  _pry_\n\n### @bar\u3092\u8a55\u4fa1\u3002\u30b3\u30f3\u30af\u30e9\u30b9\u30bf\u3067\u4ee3\u5165\u3055\u308c\u305f\"bar\"\u304c\u5165\u3063\u3066\u3044\u308b\n[2] pry(#<Foo>)> @bar\n=> \"bar\"\n\n### \u65b0\u3057\u304f\u6587\u5b57\u5217\u3092\u4ee3\u5165\n[3] pry(#<Foo>)> @bar = \"new strign\"\n=> \"new strign\"\n\n### bar\u306e\u623b\u308a\u5024\u304c\u5909\u5316\u3057\u305f\u305f\u3081\u6700\u7d42\u7684\u306a\u51fa\u529b\u7d50\u679c\u304c\u5909\u308f\u308b\n[4] pry(#<Foo>)> exit\nbar is new strign\n==============================\n\n\n\n\u4e3b\u8981\u306a\u30b3\u30de\u30f3\u30c9\n\nshow-source\n\n\n\u30e1\u30bd\u30c3\u30c9\u3084\u30af\u30e9\u30b9\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5b9a\u7fa9\u3092Pry\u4e0a\u3067\u76f4\u63a5\u78ba\u8a8d\u3067\u304d\u308b\n\n\nshow-doc\n\n\n\u5f15\u6570\u3067\u6e21\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u3084\u30af\u30e9\u30b9\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092Pry\u4e0a\u3067\u78ba\u8a8d\u3067\u304d\u308b\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306bRDoc\u3084YARD\u5f62\u5f0f\u3067\u8a18\u8ff0\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\n\n\n\n\nedit\n\n\nPry\u304b\u3089\u30a8\u30c7\u30a3\u30a2\u30bf\u3092\u8d77\u52d5\u3059\u308b\n\n\n\u30a8\u30c7\u30a3\u30bf\u3067\u4fdd\u5b58\u3057\u305f\u8a18\u8ff0\u3092Pry\u4e0a\u3067\u8a55\u4fa1\u3067\u304d\u308b\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068nano\u304c\u8d77\u52d5\u3059\u308b\nnano\u4ee5\u5916\u3092\u4f7f\u3046\u65b9\u6cd5\n\n\nPry.config.editor = \"(edita)\" \u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\n\u74b0\u5883\u5909\u6570EDITOR\u306b\u8d77\u52d5\u3057\u305f\u3044\u30a8\u30c7\u30a3\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\n ubuntu\u306e\u5834\u5408\u306f\n\n\n\n\n\n\n\u305d\u306e\u4ed6\u30b3\u30de\u30f3\u30c9\u306b\u3064\u3044\u3066\n\n\nhelp\u304bgithub\u4e0a\u306eWiki\u3092\u898b\u308b\n\n\n\n\npry\u306e\u30b3\u30de\u30f3\u30c9\n### \u7d44\u307f\u8fbc\u307f\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308bSet\u30af\u30e9\u30b9\u306e\u78ba\u8a8d\n[1] pry(main)> require \"set\"\n=> true\n\n### Set#add\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\n[2] pry(main)> show-source Set#add\n\nFrom: /home/vagrant/.rbenv/versions/2.2.2/lib/ruby/2.2.0/set.rb @ line 289:\nOwner: Set\nVisibility: public\nNumber of lines: 4\n\ndef add(o)\n  @hash[o] = true\n  self\nend\n\n### Set\u30af\u30e9\u30b9\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\n[3] pry(main)> show-source Set\nFrom: /home/vagrant/.rbenv/versions/2.2.2/lib/ruby/2.2.0/set.rb @ line 67:\nClass name: Set\nNumber of lines: 482\n\nclass Set\n  include Enumerable\n\n### edit\n[1] pry(main)> exit\n==============================\nmodule Foo\n  def self.foo\n    puts \"foo\"\n  end\nend\n\nFoo.foo\n==============================\nfoo  ### \u4fdd\u5b58\u3057\u305f\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\n=> nil\n\n\n\n.pryrc\u30d5\u30a1\u30a4\u30eb\n\npry\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3002pry\u8d77\u52d5\u6642\u306b\u8aad\u307f\u8fbc\u307e\u308c\u308b\n\n\n\u8a2d\u5b9a\u4f8b\n\n\n\u5229\u7528\u3059\u308b\u30a8\u30c7\u30a3\u30bf\u3092vi\u306b\u3059\u308b\n\n\nPry.config.editor = \"vi\"\n\n\n\n\n\n\n\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u5229\u7528\n\npry-stack_explorer\n\npry-stack_explorer\n$ cat multi_stack_sample.rb\n==============================\nrequire \"pry\"\n\nmodule MultiStackSample\n  def self.stackA\n    stackB\n  end\n\n  def self.stackB\n    binding.pry\n    \"stackB\"\n  end\nend\n\nMultiStackSample.stackA\n==============================\n\n$ ruby multi_stack_sample.rb\n==============================\nFrame number: 0/3  ### Frame number\u3068\u3044\u3046\u60c5\u5831\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\n\nFrom: /home/vagrant/work/ruby/tmp/multi_stack_sample.rb @ line 10 MultiStackSample.stackB:\n\n     8: def self.stackB\n     9:   binding.pry\n => 10:   \"stackB\"\n    11: end\n\n[1] pry(MultiStackSample)> help\n...\nPry-stack_explorer (v0.4.9.2) ### Pry-stack_explorer\u306e\u60c5\u5831\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\n  down               Go down to the callee's context.\n  frame              Switch to a particular frame.\n  show-stack         Show all frames\n  up                 Go up to the caller's context.\n\n### up\u3068down\u3067\u30b9\u30bf\u30c3\u30af\u3092\u79fb\u52d5\u3067\u304d\u308b\n[1] pry(MultiStackSample)> up\n\nFrame number: 1/3\nFrame type: method\n\nFrom: /Users/ftakao2007/work/ruby/tmp/multi_stack_sample.rb @ line 10 MultiStackSample.stackB:\n\n     8: def self.stackB\n     9:   binding.pry\n => 10:   \"stackB\"\n    11: end\n\n[2] pry(MultiStackSample)> up\n\nFrame number: 2/3\nFrame type: method\n\nFrom: /Users/ftakao2007/work/ruby/tmp/multi_stack_sample.rb @ line 5 MultiStackSample.stackA:\n\n    4: def self.stackA\n => 5:   stackB\n    6: end\n\n[3] pry(MultiStackSample)> up\n\nFrame number: 3/3\nFrame type: main\n\nFrom: /Users/ftakao2007/work/ruby/tmp/multi_stack_sample.rb @ line 14 :\n\n     9:     binding.pry\n    10:     \"stackB\"\n    11:   end\n    12: end\n    13:\n => 14: MultiStackSample.stackA\n\n### frame\u756a\u53f7\u3092\u6307\u5b9a\u3057\u3066\u79fb\u52d5\n[4] pry(main)> frame 2\n\nFrame number: 2/3\nFrame type: method\n\nFrom: /Users/ftakao2007/work/ruby/tmp/multi_stack_sample.rb @ line 5 MultiStackSample.stackA:\n\n    4: def self.stackA\n => 5:   stackB\n    6: end\n==============================\n\n\n\npry-byebug\n\npry-byebug\n$ cat byebug_sample.rb\n==============================\nrequire \"pry\"\n\nmodule DebuggerSample\n  def self.conditional_print(obj, condition)\n    if condition\n      p obj\n    end\n  end\nend\n\nbinding.pry\nDebuggerSample.conditional_print([1,2,3], true)\n==============================\n\n$ ruby byebug_sample.rb\n==============================\nFrame number: 0/1\n\nFrom: /Users/ftakao2007/work/ruby/tmp/byebug_sample.rb @ line 12 :\n\n     7:     end\n     8:   end\n     9: end\n    10:\n    11: binding.pry\n => 12: DebuggerSample.conditional_print([1,2,3], true)\n\n### Breakpoint\u306e\u8a2d\u5b9a\n[1] pry(main)> break DebuggerSample.conditional_print\n\n  Breakpoint 1: DebuggerSample.conditional_print (Enabled)\n\n  4: def self.conditional_print(obj, condition)\n5:   if condition\n6:     p obj\n7:   end\n8: end\n\n### Break\u30dd\u30a4\u30f3\u30c8\u3067\u505c\u6b62\u3057\u305f\u3001\u3075\u305f\u305f\u3073pry\u8d77\u52d5\n[2] pry(main)> continue\n\n  Breakpoint 1. First hit\n\nFrom: /Users/ftakao2007/work/ruby/tmp/byebug_sample.rb @ line 4 DebuggerSample.conditional_print:\n\n => 4: def self.conditional_print(obj, condition)\n    5:   if condition\n    6:     p obj\n    7:   end\n    8: end\n\n### step\u5b9f\u884c\n[2] pry(DebuggerSample):1> step\n\nFrom: /Users/ftakao2007/work/ruby/tmp/byebug_sample.rb @ line 5 DebuggerSample.conditional_print:\n\n    4: def self.conditional_print(obj, condition)\n => 5:   if condition\n    6:     p obj\n    7:   end\n    8: end\n\n[2] pry(DebuggerSample)> step\n\nFrom: /Users/ftakao2007/work/ruby/tmp/byebug_sample.rb @ line 6 DebuggerSample.conditional_print:\n\n    4: def self.conditional_print(obj, condition)\n    5:   if condition\n => 6:     p obj\n    7:   end\n    8: end\n\n[2] pry(DebuggerSample)> step\n[1, 2, 3]\n==============================\n\n\n\nRake\n\nRuby\u3067\u8a18\u8ff0\u3055\u308c\u305f\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\n\n\nMake\u3001Ant\u3001Maven\u306a\u3069\u3068\u540c\u7a2e\u306e\u30c4\u30fc\u30eb\nRuby\u3067\u4e00\u9023\u306e\u51e6\u7406\u3092\u8a18\u8ff0\u3057\u3066\u5b9f\u884c\u3067\u304d\u308b\n\n\n\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u5411\u3051\u306e\u8a00\u8a9e\u5185DSL\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u7fa4\u3092\u6d3b\u7528\n\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3068\u3057\u3066\u306e\u8a18\u8ff0\u306e\u3057\u3084\u3059\u3055\u3068Ruby\u306e\u8868\u73fe\u529b\u3092\u4e21\u7acb\n\n\nRuby\u4ee5\u5916\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u3082\u5229\u7528\u53ef\u80fd\n\n\n\n\nRakefile\n\nRake\u306fRakefile\u3068\u547c\u3070\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u306b\u4e00\u9023\u306e\u51e6\u7406\u3092\u307e\u3068\u3081\u305f\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3059\u308b\ntask\u30e1\u30bd\u30c3\u30c9\n\n\n\u51e6\u7406\u3092\u5b9a\u7fa9\u3059\u308b\n\n\n\u30bf\u30b9\u30af\u5b9a\u7fa9\u3092\u4e00\u3064\u306e\u5358\u4f4d\u3068\u3057\u3066\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\n\n\n\u5f15\u6570\u3068\u3057\u3066\u30b7\u30f3\u30dc\u30eb\u3092\u6e21\u3059\u3068\u30bf\u30b9\u30af\u540d\u3068\u3057\u3066\u6271\u308f\u308c\u308b\nHash\u3092\u5f15\u6570\u3068\u3057\u3066\u6e21\u3059\u4e8b\u304c\u3067\u304d\u308b\n\n\n\u30ad\u30fc : \u30bf\u30b9\u30af\u540d\n\u5024 : \u305d\u306e\u30bf\u30b9\u30af\u304c\u4f9d\u5b58\u3057\u3066\u3044\u308b\u30bf\u30b9\u30af\u540d\n\n\n\u5024\u306b\u914d\u5217\u3092\u6e21\u3059\u3053\u3068\u3082\u3067\u304d\u308b\n\n\n\u4f9d\u5b58\u3057\u3066\u3044\u308b\u30bf\u30b9\u30af\u3092\u8907\u6570\u8a18\u8f09\u3067\u304d\u308b\n\n\n\n\n\n\ndefault\u30bf\u30b9\u30af\n\n\n\u5f15\u6570\u7121\u304frake\u304c\u5b9f\u884c\u3055\u308c\u305f\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u30bf\u30b9\u30af\n\n\n\n\ndesc\u30e1\u30bd\u30c3\u30c9\n\n\n\u30bf\u30b9\u30af\u306b\u8aac\u660e\u6587\u3092\u3064\u3051\u308b\n\n\nrake -T\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u8aac\u660e\u6587\u3092\u8868\u793a\u3067\u304d\u308b\n\n\n\n\nfile\u30e1\u30bd\u30c3\u30c9\n\n\n\u30d5\u30a1\u30a4\u30eb\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3059\u308b\n\n\n\u5f15\u6570\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u793a\u3059\u6587\u5b57\u5217\u3092\u6e21\u3059\n\n\n\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u30bf\u30b9\u30af\u884c\u306f\u30b9\u30ad\u30c3\u30d7\u3055\u308c\u308b\n\n\n\u7528\u9014\n\n\n\u30bf\u30b9\u30afB\u304c\u30bf\u30b9\u30afA\u306e\u6210\u679c\u7269\u306b\u4f9d\u5b58\u3057\u3066\u304a\u308a\u3001\u3059\u3067\u306b\u6210\u679c\u7269\u304c\u3042\u308b\u5834\u5408\u306f\u30bf\u30b9\u30afA\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\n\n\n\u30e1\u30ea\u30c3\u30c8\n\n\n\u30d3\u30eb\u30c9\u306b\u6570\u5206\u304b\u304b\u308b\u51e6\u7406\u306f\u4e0d\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3089\u305a\u306b\u6e08\u3080\u306e\u3067\u51e6\u7406\u6642\u9593\u3092\u77ed\u7e2e\u3067\u304d\u308b\n\n\n\n\n\n\n\u30af\u30ea\u30fc\u30f3\u30bf\u30b9\u30af\n\n\n\u30d3\u30eb\u30c9\u306e\u969b\u306b\u751f\u6210\u3055\u308c\u305f\u4e00\u6642\u30d5\u30a1\u30a4r\u3092\u524a\u9664\u3059\u308b\n\n\nrequire 'rake/clean'\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308b\n\u4ee5\u4e0b\u30bf\u30b9\u30af\u304c\u8ffd\u52a0\u3055\u308c\u308b\n\n\nclean : \u4e00\u6642\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\nclobber : \u4e00\u6642\u30d5\u30a1\u30a4\u30eb\u3068\u4f5c\u6210\u3055\u308c\u305f\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\n\n\nCLEAN\u5b9a\u7406\u304c\u5b9a\u7fa9\u3055\u308c\u308b\n\n\nclean\u30bf\u30b9\u30af\u306fCLEAN\u5b9a\u7fa9\u306b\u683c\u7d0d\u3055\u308c\u305f\u30ea\u30b9\u30c8\u3092\u524a\u9664\u5bfe\u8c61\u3068\u3059\u308b\n\u30d5\u30a1\u30a4\u30eb\u306e\u8ffd\u52a0\u65b9\u6cd5\n\n\nCLEAN.include(\u30d5\u30a1\u30a4\u30eb\u540d)\n\n\nclobber\u306f\n\n\n\n\n\n\n\n\n\u7c21\u5358\u306aRakefile\n### \u7c21\u5358\u306aRakefile\n$ vi Rakefile\n==========================\ndesc 'Task Description'  ### rake -T\u3067\u8868\u793a\u3055\u308c\u308b\u30bf\u30b9\u30af\u306e\u8aac\u660e\u6587\u3092\u8868\u793a\u3059\u308b\u30e1\u30bd\u30c3\u30c9\ntask :task_name do\n puts 'Rake task'\nend\n==========================\n\n### \u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30bf\u30b9\u30af\u306e\u4e00\u89a7\u3092\u8868\u793a\n$ rake -T\n==========================\nrake task_name  # Task Description\n==========================\n\n### \u5f15\u6570\u306b\u30bf\u30b9\u30af\u540d\u3092\u6e21\u3057\u3066\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\n$ rake task_name\n==========================\nRake task\n==========================\n\n\n\n\u3082\u3046\u5c11\u3057\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3089\u3057\u3044Rakefile\n\nRakefile2\n### \u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n$ mkdir meals\n$ touch meals/breakfast.txt\n$ touch meals/lunch.txt\n$ touch meals/dinner.txt\n$ mkdir reports\n\n### Rakefile\u306e\u4f5c\u6210\n$ vi Rakefile2\n==========================\n# -*- coding: utf-8 -*-\n\nTXT_DIR = \"#{Dir.pwd}/meals/\"\nOUTPUT_DIR = \"#{Dir.pwd}/reports/\"\n\nFILE_EXT = '.txt'\nMEALS = [\n  {name: 'breakfast', lavel: '\u671d\u98df'},\n  {name: 'lunch', lavel: '\u663c\u98df'},\n  {name: 'dinner', lavel: '\u5915\u98df'}\n]\n\ntask :default => :daily_report   ### \u30c7\u30d5\u30a9\u30eb\u30c8\u30bf\u30b9\u30af\u306e\u5b9a\u7fa9\n\ndesc '\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3059\u308b'\ntask :daily_report => [:check, :report] do  ### \u30bf\u30b9\u30af\u306e\u5b9a\u7fa9\u3002check,report\u30bf\u30b9\u30af\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\n  puts '\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f'\nend\n\ndesc '\u98df\u4e8b\u8a18\u9332\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d'\ntask :check do\n  MEALS.each do |meal|\n    file_name = meal[:name] + FILE_EXT\n    full_path = TXT_DIR + file_name\n\n    if File.exist?(full_path)\n      puts \"#{file_name} OK\"\n    else\n      puts \"#{file_name} \u304c\u3042\u308a\u307e\u305b\u3093\"\n    end\n  end\nend\n\ndesc '\u98df\u4e8b\u30ec\u30dd\u30fc\u30c8\u4f5c\u6210'\ntask :report do\n  date_str = Time.now.strftime('%Y/%m/%d')\n  output_str = \"#{date_str}\u306e\u98df\u4e8b\u8a18\u9332\\n\\n\"\n\n  MEALS.each do |meal|\n    file_name = meal[:name] + FILE_EXT\n    full_path = TXT_DIR + file_name\n    description = <<DESC\n#{meal[:label]}\n#{File.read(full_path, :encoding => Encoding::UTF_8)}\nDESC\n\n    output_str += description\n  end\n\n  output_file = OUTPUT_DIR + \"report_#{Time.now.strftime('%Y%m%d')}.txt\"\n  File.open(output_file, 'w') {|f|\n    f.write output_str\n  }\nend\n==========================\n\n### \u30bf\u30b9\u30af\u4e00\u89a7\u3002-f\u306fRakefile\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u3002\n$ rake -f Rakefile2 -T\n==========================\nrake check         # \u98df\u4e8b\u8a18\u9332\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d\nrake daily_report  # \u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3059\u308b\nrake report        # \u98df\u4e8b\u30ec\u30dd\u30fc\u30c8\u4f5c\u6210\n==========================\n\n### \u30bf\u30b9\u30af\u306e\u5b9f\u884c\u3002 -t\u3092\u3064\u3051\u308b\u3068\u5b9f\u884c\u6642\u306e\u30c8\u30ec\u30fc\u30b9\u60c5\u5831\u3092\u51fa\u529b\u3059\u308b\n### \u4f9d\u5b58\u3057\u3066\u3044\u308b\u30bf\u30b9\u30afcheck\u3068report\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308b\n$ rake daily_report -t\n==========================\n** Invoke daily_report (first_time)\n** Invoke check (first_time)\n** Execute check\nbreakfast.txt OK\nlunch.txt OK\ndinner.txt OK\n** Invoke report (first_time)\n** Execute report\n** Execute daily_report\n\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\n==========================\n\n### \u5f15\u6570\u7121\u3057\u3067\u5b9f\u884c\u3059\u308b\u3068default\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u3055\u308c\u308b\n$ rake -f Rakefile2\n==========================\nbreakfast.txt OK\nlunch.txt OK\ndinner.txt OK\n\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\n==========================\n\n\n\n\u30d5\u30a1\u30a4\u30eb\u30bf\u30b9\u30af\n\n\u30d5\u30a1\u30a4\u30eb\u30bf\u30b9\u30af\n### \u30d5\u30a1\u30a4\u30eb\u30bf\u30b9\u30af\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3002\u4e8b\u524d\u306e\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\u304c\u4e0d\u8981\n$ vi Rakefile3\n==========================\n# -*- coding: utf-8 -*-\n\nTXT_DIR = \"#{Dir.pwd}/meals/\"\nOUTPUT_DIR = \"#{Dir.pwd}/reports/\"\nOUTPUT_FILE = OUTPUT_DIR + \"report_#{Time.now.strftime('%Y%m%d')}.txt\" ### \u51fa\u529b\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\n\nFILE_EXT = '.txt'\nMEALS = [\n  {name: 'breakfast', lavel: '\u671d\u98df'},\n  {name: 'lunch', lavel: '\u663c\u98df'},\n  {name: 'dinner', lavel: '\u5915\u98df'}\n]\nTXT_FILES = MEALS.map {|m| TXT_DIR + m[:name] + FILE_EXT} ### \u8aad\u307f\u8fbc\u3080\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\n\ntask :default => :daily_report\n\ndesc '\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3059\u308b'\ntask :daily_report => [:check, :report] do\n  puts '\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f'\nend\n\ndesc '\u98df\u4e8b\u8a18\u9332\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d'\ntask :check => TXT_FILES do\nend\n\n### \u30d5\u30a1\u30a4\u30eb\u304c\u7121\u3051\u308c\u3070\u4f5c\u6210\u3059\u308b\nTXT_FILES.each do |file_name|\n  file file_name do\n    puts \"#{file_name} OK\"\n    puts \"#{file_name} \u304c\u3042\u308a\u307e\u305b\u3093\"\n    sh \"touch #{file_name}\"\n  end\nend\n\ndesc '\u98df\u4e8b\u30ec\u30dd\u30fc\u30c8\u4f5c\u6210'\ntask :report do\n  date_str = Time.now.strftime('%Y/%m/%d')\n  output_str = \"#{date_str}\u306e\u98df\u4e8b\u8a18\u9332\\n\\n\"\n\n  MEALS.each do |meal|\n    file_name = meal[:name] + FILE_EXT\n    full_path = TXT_DIR + file_name\n    description = <<DESC\n#{meal[:label]}\n#{File.read(full_path, :encoding => Encoding::UTF_8)}\nDESC\n\n    output_str += description\n  end\n\n  output_file = OUTPUT_DIR + \"report_#{Time.now.strftime('%Y%m%d')}.txt\"\n  File.open(output_file, 'w') {|f|\n    f.write output_str\n  }\nend\n==========================\n\n### \u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u3068\u304d\n$ rake -f Rakefile3 -t\n==========================\n** Invoke default (first_time)\n** Invoke daily_report (first_time)\n** Invoke check (first_time)\n** Invoke /Users/ftakao2007/work/ruby/tmp/meals/breakfast.txt (first_time, not_needed)\n** Invoke /Users/ftakao2007/work/ruby/tmp/meals/lunch.txt (first_time, not_needed)\n** Invoke /Users/ftakao2007/work/ruby/tmp/meals/dinner.txt (first_time, not_needed)\n** Execute check\n** Invoke report (first_time)\n** Execute report\n** Execute daily_report\n\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\n** Execute default\n==========================\n\n### \u30d5\u30a1\u30a4\u30eb\u304c\u7121\u3044\u6642\n$ rake -f Rakefile3 -t\n==========================\n** Invoke default (first_time)\n** Invoke daily_report (first_time)\n** Invoke check (first_time)\n** Invoke /Users/ftakao2007/work/ruby/tmp/meals/breakfast.txt (first_time)\n** Execute /Users/ftakao2007/work/ruby/tmp/meals/breakfast.txt\n/Users/ftakao2007/work/ruby/tmp/meals/breakfast.txt OK\n/Users/ftakao2007/work/ruby/tmp/meals/breakfast.txt \u304c\u3042\u308a\u307e\u305b\u3093\ntouch /Users/ftakao2007/work/ruby/tmp/meals/breakfast.txt\n** Invoke /Users/ftakao2007/work/ruby/tmp/meals/lunch.txt (first_time)\n** Execute /Users/ftakao2007/work/ruby/tmp/meals/lunch.txt\n/Users/ftakao2007/work/ruby/tmp/meals/lunch.txt OK\n/Users/ftakao2007/work/ruby/tmp/meals/lunch.txt \u304c\u3042\u308a\u307e\u305b\u3093\ntouch /Users/ftakao2007/work/ruby/tmp/meals/lunch.txt\n** Invoke /Users/ftakao2007/work/ruby/tmp/meals/dinner.txt (first_time)\n** Execute /Users/ftakao2007/work/ruby/tmp/meals/dinner.txt\n/Users/ftakao2007/work/ruby/tmp/meals/dinner.txt OK\n/Users/ftakao2007/work/ruby/tmp/meals/dinner.txt \u304c\u3042\u308a\u307e\u305b\u3093\ntouch /Users/ftakao2007/work/ruby/tmp/meals/dinner.txt\n** Execute check\n** Invoke report (first_time)\n** Execute report\n** Execute daily_report\n\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\n** Execute default\n==========================\n\n\n\n\u30af\u30ea\u30fc\u30f3\u30bf\u30b9\u30af\n\n\u30af\u30ea\u30fc\u30f3\u30bf\u30b9\u30af\n### \u30af\u30ea\u30fc\u30f3\u30bf\u30b9\u30af\u306e\u8ffd\u52a0\n$ vim Rakefile3\n==========================\nrequire 'rake/clean'\n\nCLEAN.include('mealss/*')\nCLOBBER.INCLUDE('reports/*')\n==========================\n\n### \u4e00\u6642\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\n$ rake -f Rakefile3 clean\n$ ls meals\n==========================\n(\u4f55\u3082\u306a\u3057)\n==========================\n\n### \u4e00\u6642\u30d5\u30a1\u30a4\u30eb\u3068\u6210\u679c\u7269\u3092\u524a\u9664\n$ rake -f Rakefile3 clobber\n$ ls reports\n==========================\n(\u4f55\u3082\u306a\u3057)\n==========================\n\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30bf\u30b9\u30af\n\n\u30d3\u30eb\u30c9\u51e6\u7406\u306e\u904e\u7a0b\u3067\u751f\u6210\u7269\u3092\u7279\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u683c\u7d0d\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u306b\u4f7f\u7528\u3059\u308b\n\n\n\u5bfe\u8c61\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5b58\u5728\u3057\u306a\u3044\u3068\u304d\u306f\u81ea\u52d5\u7684\u306b\u4f5c\u6210\u3059\u308b\n\u65e2\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u30b9\u30ad\u30c3\u30d7\u3059\u308b\n\u30d6\u30ed\u30c3\u30af\u3092\u6e21\u3059\u4e8b\u306f\u3067\u304d\u306a\u3044\n\n\n\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5229\u7528\u3059\u308b\u30bf\u30b9\u30af\u306ftask\u30e1\u30bd\u30c3\u30c9\u3092\u7528\u3044\u3066\u8a18\u8ff0\u3059\u308b\n\n\n\n\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30bf\u30b9\u30af\n$ vi Rakefile4\n==========================\nBACKUP_DIR = \"backups\"\n\ndirectory BACKUP_DIR\ndesc \"\u30ec\u30dd\u30fc\u30c8\u3092\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3059\u308b\"\ntask :backup => BACKUP_DIR do\n  sh \"cp reports/* backups/\"\nend\n==========================\n\n$ rake -f Rakefile4 backup -t\n==========================\n** Invoke backup (first_time)\n** Invoke backups (first_time, not_needed)\n** Execute backup\ncp reports/* backups/\n==========================\n\n\n\n\u30eb\u30fc\u30eb\n\n\u7279\u5b9a\u306e\u30d1\u30bf\u30fc\u30f3\u540d\u3092\u6301\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u306b\u4f9d\u5b58\u3059\u308b\u30bf\u30b9\u30af\u3092\u52d5\u7684\u306b\u5b9a\u7fa9\u3059\u308b\u4ed5\u7d44\u307f\n\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u9014\u4e2d\u3067\u5fc5\u8981\u306b\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u306b\u3064\u3044\u3066\u751f\u6210\u65b9\u6cd5\u3092\u5b9a\u7fa9\u3059\u308b\nrule\u30e1\u30bd\u30c3\u30c9\n\n\nrake -T\u3067\u4e00\u89a7\u306b\u306f\u8868\u793a\u3055\u308c\u306a\u3044\n\u30d6\u30ed\u30c3\u30af\u3067FileTask\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d7\u3051\u53d6\u308b\u4e8b\u304c\u3067\u304d\u308b\nFileTask\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30bd\u30c3\u30c9\n\n\nname : \u30bf\u30b9\u30af\u306e\u89aa\u3068\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u8fd4\u3059\nsource : \u30eb\u30fc\u30eb\u306e\u4f9d\u5b58\u5148\u306b\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u8fd4\u3059\nsources : \u30eb\u30fc\u30eb\u306e\u4f9d\u5b58\u5148\u306b\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u914d\u5217\u3092\u8fd4\u3059\nprerequisites : \u30bf\u30b9\u30af\u306e\u4f9d\u5b58\u5148\u306b\u306a\u308b\u30bf\u30b9\u30af\u540d\u306e\u914d\u5217\u3092\u8fd4\u3059\n\n\n\n\n\u4f7f\u7528\u4f8b\n\n\n.o\u3068\u3044\u3046\u62e1\u5f35\u5b50\u3092\u6301\u3064\u30b3\u30f3\u30d1\u30a4\u30eb\u5f8c\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u5fc5\u8981\u306a\u30bf\u30b9\u30af\n\n\n\u81ea\u52d5\u7684\u306b.c\u3068\u3044\u3046\u62e1\u5f35\u5b50\u3092\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3068\u3044\u3046\u7528\u9014\u3067\u5229\u7528\n\n\n\n\n\u30e1\u30ea\u30c3\u30c8\n\n\n\u76f4\u63a5\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u8a18\u8ff0\u305b\u305a\u306b\u6e08\u3080\n\n\n\n\n\u30eb\u30fc\u30eb\u306e\u4f8b\n### t.source\u304c.c\u30d5\u30a1\u30a4\u30eb\u3001t.name\u304c.o\u30d5\u30a1\u30a4\u30eb\nrule '.o' => ['.c'] do |t|\n  sh \"cc #{t.source} -c -o #{t.name}\"\nend\n\n\n\n\u30b0\u30eb\u30fc\u30d7\u5316\n\n\u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u30b0\u30eb\u30fc\u30d7\u5316\u3059\u308b\n\n\nnamespace\u30e1\u30bd\u30c3\u30c9\n\n\n\n\n\u30b0\u30eb\u30fc\u30d7\u5316\n$ vi Rakefile5\n==========================\n# coding: utf-8\nnamespace :check do\n  desc '\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af'\n  task :log do\n  end\n\n  desc 'yaml\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af'\n  task :yml do\n  end\nend\n==========================\n\n### check:hoge \u306e\u5f62\u5f0f\u3067\u30bf\u30b9\u30af\u304c\u8868\u793a\u3055\u308c\u308b\n$ rake -f Rakefile5 -T\n==========================\nrake check:log  # \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af\nrake check:yml  # yaml\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af\n==========================\n\n### namespace\u81ea\u4f53\u3092\u5165\u308c\u5b50\u306b\u3059\u308b\n$ vi Rakefile6\n==========================\n# coding: utf-8\nnamespace :make do\n   namespace :report do\n    desc '\u65e5\u6642\u30ec\u30dd\u30fc\u30c8\u306e\u4f5c\u6210'\n    task :daily_report do\n    end\n\n    desc '\u9031\u6b21\u30ec\u30dd\u30fc\u30c8\u306e\u4f5c\u6210'\n    task :weekly_report do\n    end\n  end\n\n  namespace :history do\n    desc '\u30e1\u30cb\u30e5\u30fc\u5c65\u6b74\u4f5c\u6210'\n    task :menu do\n    end\n\n   desc '\u63a5\u7a2e\u30ab\u30ed\u30ea\u30fc\u5c65\u6b74\u4f5c\u6210'\n   task :calorie do\n   end\n  end\nend\n==========================\n\n### make:hoge:fuga \u306e\u5f62\u5f0f\u3067\u30bf\u30b9\u30af\u304c\u8868\u793a\u3055\u308c\u308b\n$ rake -f Rakefile6 -T\n==========================\nrake make:history:calorie       # \u63a5\u7a2e\u30ab\u30ed\u30ea\u30fc\u5c65\u6b74\u4f5c\u6210\nrake make:history:menu          # \u30e1\u30cb\u30e5\u30fc\u5c65\u6b74\u4f5c\u6210\nrake make:report:daily_report   # \u65e5\u6642\u30ec\u30dd\u30fc\u30c8\u306e\u4f5c\u6210\nrake make:report:weekly_report  # \u9031\u6b21\u30ec\u30dd\u30fc\u30c8\u306e\u4f5c\u6210\n==========================\n\n\n\nRake\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3064\u3044\u3066\n\n\u8868\u8a18\u65b9\u6cd5\n\n\n9\u756a\u76ee\n\n\nv0.9.0\n\n\n10\u756a\u76ee\n\n\nv10.0.0\n\n\n\u4e00\u3064\u76ee\u306e\u6570\u5b57\u3092\u30ab\u30a6\u30f3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u5f62\u5f0f\u306b\u306a\u3063\u305f\n\n\n\n\n\n\nv10.0.0\u3067\u306e\u5909\u66f4\u70b9\n\n\n\u3044\u304f\u3064\u304b\u306edeprecated\u306a\u6a5f\u80fd\u304c\u524a\u9664\u3055\u308c\u3066\u3044\u308b\n\n\ndeprecated\u306a\u6a5f\u80fd\u3092\u5229\u7528\u3057\u3066\u3044\u306a\u3044\u306a\u3089\u3070\u5927\u304d\u306a\u554f\u984c\u306f\u7121\u3044\n\n\n\n\n\n\nRubyGems\n\nRubyGems\u3068\u306f\n\n\nRuby\u306b\u304a\u3051\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\nRuby1.9\u304b\u3089\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u542b\u307e\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\n\u7528\u9014\n\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3001\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30d1\u30c3\u30b1\u30fc\u30b8\u540c\u58eb\u306e\u4f9d\u5b58\u95a2\u4fc2\u306e\u89e3\u6c7a\n\u74b0\u5883\u5185\u306b\u542b\u307e\u308c\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u691c\u7d22\n\n\ngem\n\n\nRubyGems\u306e\u7565\u79f0\n\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3084\u3055\u3059\u5bfe\u8c61\u306b\u3088\u3063\u3066\u610f\u5473\u304c\u7570\u306a\u308b\n\n\ngem\u30d1\u30c3\u30b1\u30fc\u30b8 : RubyGems\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3084\u30b3\u30de\u30f3\u30c9\u3092\u307e\u3068\u3081\u305f\u3082\u306e\ngem\u30b3\u30de\u30f3\u30c9 : gem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u30b3\u30de\u30f3\u30c9\n\n\n\n\n\n\n\n\ngem\u30b3\u30de\u30f3\u30c9\n\n\u30b3\u30de\u30f3\u30c9\u4f53\u7cfb\n\n\ngem\u306e\u5f8c\u306b\u7d9a\u3051\u3066\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3092\u6307\u5b9a\u3059\u308b\n\u30b3\u30de\u30f3\u30c9\n\n\ngem help : \u30d8\u30eb\u30d7\u3092\u8868\u793a\u3059\u308b\ngem (gem\u30b3\u30de\u30f3\u30c9) example : (gem\u30b3\u30de\u30f3\u30c9)\u306e\u5229\u7528\u4f8b\u304c\u8868\u793a\u3055\u308c\u308b\n\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u78ba\u8a8d\n\n\n\u30b3\u30de\u30f3\u30c9\n\n\ngem install (gem\u30d1\u30c3\u30b1\u30fc\u30b8) : \u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u542b\u3081\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n\n-v : \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\n\n\ngem install machanize -v '< 2.2'    # 2.2\u3088\u308a\u4e00\u3064\u53e4\u3044\ngem install machanize -v '>= 2.2'   # 2.2\u304b\u305d\u308c\u3088\u308a\u65b0\u3057\u3044\ngem install machanize -v '~> 0.8'   # 0.X\u7cfb\u3067\u4e00\u756a\u65b0\u3057\u3044\ngem install machanize -v '~> 0.8.0' # 0.8\u7cfb\u3067\u4e00\u756a\u65b0\u3057\u3044\n\n\n\n\ngem list : \u30b7\u30b9\u30c6\u30e0\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3059\u308b\n\n\n--remote : \u30b5\u30fc\u30d0\u5074\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n--pre : RC(Release Candidate:\u30ea\u30ea\u30fc\u30b9\u5019\u88dc)\u7248\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\ngem search : \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u63a2\u3059\n\n\n\u4f8b\n\n\ngem search mechanize --remote : meahanize\u3068\u540d\u306e\u3064\u304f\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u691c\u7d22\u3059\u308b\n\n\n\n\ngem query : \u6b63\u898f\u8868\u73fe\u3067\u691c\u7d22\u3059\u308b\n\n\n\u4f8b\n\n\ngem query -r --name-matches='^active*'\n\n\n\n\ngem update : \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\n\n\n\u5f15\u6570\u306bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6307\u5b9a\u3059\u308b\u3068\u305d\u306egem\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u4f9d\u5b58\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u6700\u65b0\u7248\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3055\u308c\u308b\ngem update --system : RubyGems\u81ea\u8eab\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\n\n\ngem uninstall : gem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n\n\u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u884c\u308f\u308c\u306a\u3044\n-v \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\n-a \u5168\u30d0\u30fc\u30b8\u30e7\u30f3\n\u4f8b\n\n\ngem uninstall mechanize -v '2.2.1'\ngem uninstall mechanize -a\n\n\n\n\ngem cleanup : \u6700\u65b0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6b8b\u3057\u3066\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306egem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u524a\u9664\u3059\u308b\n\n\n-d (--dryrun) : \u30c9\u30e9\u30a4\u30e9\u30f3\n\n\ngem prinstine : gem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u72b6\u614b\u306b\u623b\u3059\n\n\ngem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u76f4\u63a5\u7de8\u96c6\u3057\u3066\u52d5\u4f5c\u3092\u5909\u66f4\u3057\u305f\u5834\u5408\u306a\u3069\n\u4f8b\n\n\ngem pristine pry ### pry\u3092\u521d\u671f\u72b6\u614b\u306b\u623b\u3059\ngem pristine pry -v 0.9.8.4  ### \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\ngem pristine --all  ### \u5168\u3066\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u521d\u671f\u72b6\u614b\u306b\u623b\u3059\n\n\n\n\ngem server : RDoc\u3092\u53c2\u7167\u3059\u308b\u305f\u3081\u306e\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u3092\u305f\u3066\u308b\n\n\n\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u5f8c\u3001\u8868\u793a\u3055\u308c\u308b\u30a2\u30c9\u30ec\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3067\u304d\u308b\n--no-rdoc --no-ri\n\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u751f\u6210\u3092\u7701\u7565\u3059\u308b\n\u672c\u756a\u74b0\u5883\u7b49\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u5fc5\u8981\u306a\u3044\nYARD\u3068\u3044\u3046\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30c4\u30fc\u30eb\u304c\u4e3b\u6d41\u306b\u306a\u3063\u3066\u304d\u3066\u3044\u308b\n\n\n\n\ngem environment : RubyGems\u306e\u56fa\u6709\u60c5\u5831\u306e\u78ba\u8a8d\n\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u3084config\u306a\u3069\n\n\n\n\n\n\n.gemrc\n\n\n\u6bce\u56de\u6c7a\u307e\u3063\u3066\u4ed8\u4e0e\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\n\n\n\u4f8b\ngem: --no-rdoc --no-ri # \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306brdoc,ri\u3092\u751f\u6210\u3057\u306a\u3044\n:verbose: true # \u8a73\u7d30\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a\n\n\n\n\n\n\nBundler\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u5229\u7528\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5b9a\u7fa9\u3057\u3001\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7c73\u306bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u9589\u3058\u8fbc\u3081\u308b\n\u7279\u5b9a\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u307f\u304c\u5229\u7528\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u7c21\u5358\u306b\u7ba1\u7406\u3067\u304d\u308b\n\n\n\n\nBundler\u306e\u7279\u5fb4\n\nGemfile\n\nGemfile\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u5229\u7528\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5217\u6319\u3055\u308c\u3066\u3044\u308b\n\n\n\u5229\u7528\u306e\u6d41\u308c\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\ngem install bundler\n\n\nbundler init\u3067Gemfile\u4f5c\u6210\n\u4f7f\u7528\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5217\u6319\u3059\u308b\nbundler install\u3092\u5b9f\u65bd\n\n\nGemfile.lock\n\n\nbundler install\u5f8c\u306b\u4f5c\u6210\u3055\u308c\u308b\ngem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\u3057\u305f\u7d50\u679c\u304c\u66f8\u304d\u51fa\u3055\u308c\u308b\n\u30d0\u30fc\u30b8\u30e7\u30f3\u307e\u3067\u7d30\u304b\u304f\u66f8\u304b\u308c\u3066\u3044\u308b\n\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u56fa\u5b9a\u3067\u304d\u308b\n\n\n\u8907\u6570\u4eba\u3067\u958b\u767a\u3057\u3066\u3082\u540c\u3058\u30d0\u30fc\u30b8\u30e7\u30f3\u306egem\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u958b\u767a\u3067\u304d\u308b\n\n\n\n\n\n\n\u660e\u793a\u7684\u306b\u4f9d\u5b58\u95a2\u4fc2\u3092\u518d\u5ea6\u66f4\u65b0\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\nbundler update\n\n\ngem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\n\n\nbundle install --path vendor/bundle\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5185\u306b\u9589\u3058\u8fbc\u3081\u3089\u308c\u308b\n\u4e00\u5ea6path\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u79fb\u884c\u306f\u305d\u306epath\u306e\u5834\u6240\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3046\n\n\n\u6ce8\u610f\n\n\n\u3053\u306e\u72b6\u614b\u3067gem list\u3092\u5b9f\u884c\u3057\u3066\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fgem\u306f\u8868\u793a\u3055\u308c\u306a\u3044\n\u8868\u793a\u3059\u308b\u65b9\u6cd5\n\n\nbundle exec gem list\nbundle exec\u306fbundle install\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5bfe\u3057\u3066\u30d1\u30b9\u3092\u89e3\u6c7a\u3057\u3066\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\nbundle list\u898b\u308b\u3053\u3068\u304c\u591a\u3044\n\n\n\u666e\u901a\u306brequire\u3057\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u306a\u3044\nrequire\u3059\u308b\u65b9\u6cd5\n\n\nRuby\u30d7\u30ed\u30b0\u30e9\u30e0\u4e2d\u3067Bundle.require\u3092\u5b9f\u884c\u3059\u308b\nBundle.require\u306f\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aad\u307f\u8fbc\u307f\u30d1\u30b9\u3092\u89e3\u6c7a\u3059\u308b\nGemfile\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u81ea\u52d5\u3067require\u3059\u308b\n\n\n\n\n\n\n\n\nbundler\n### bundler init\u5b9f\u884c\u76f4\u5f8c\n==========================\n# A sample Gemfile\nsource \"https://rubygems.org\"   ### gem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u53c2\u7167\u5148\n\n# gem \"rails\"\n==========================\n\n### tapp 1.5.0\u3092\u4f7f\u7528\n==========================\n# A sample Gemfile\nsource \"https://rubygems.org\"\n\ngem \"tapp\", '1.5.0'\n==========================\n\n### bundle install\u5b9f\u884c\u5f8c\u306b\u4f5c\u6210\u3055\u308c\u308bGemfile.lock\n==========================\nGEM\n  remote: https://rubygems.org/\n  specs:\n    tapp (1.5.0)\n      thor\n    thor (0.19.1)\n\nPLATFORMS\n  ruby\n\nDEPENDENCIES\n  tapp\n\nBUNDLED WITH\n   1.10.6\n==========================\n\n### gem list\u306e\u5b9f\u884c\n$ gem list\n==========================\n*** LOCAL GEMS ***\n\nbigdecimal (1.2.6)\nbinding_of_caller (0.7.2)\nbundler (1.10.6)\n...\ntapp (1.5.0)   ### tap\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\ntest-unit (3.0.8)\nyard (0.8.7.6)\n==========================\n\n### --path\u3092\u6307\u5b9a\u3057\u305fgem\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u4e2d\u3067\u4f7f\u3046\n==========================\nrequire \"bundler\"\n\nBundler.require\nself.tapp\n==========================\n\n\n\nBundler\u3067\u306e\u69d8\u3005\u306a\u78ba\u8a8d\u65b9\u6cd5\n\nbundle list\n\n\nbundler\u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f9d\u5b58\u95a2\u4fc2\u3082\u542b\u3081\u3066\u4e00\u89a7\u3059\u308b\n\n\nbundler show\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u306b\u306a\u3063\u3066\u3044\u308b\n\n\n\u5f15\u6570\u306bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u6240\u304c\u8868\u793a\u3055\u308c\u308b\n\n\nbundle check\n\n\nGemfile\u306b\u542b\u307e\u308c\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u4f9d\u5b58\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308b\n\u4e00\u3064\u3067\u3082\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u8db3\u308a\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\nGemfile\u3092\u53c2\u7167\u3059\u308b\u9806\u756a\n\n\n\u307e\u305a\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001\u306a\u3051\u308c\u3070\u4e0a\u306e\u968e\u5c64\u3092\u898b\u308b\n--gemfile\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u96e2\u308c\u305f\u968e\u5c64\u306eGemfile\u3082\u6307\u5b9a\u3067\u304d\u308b\n\n\n--dry-run\n\n\nGemfile.lock\u3092\u66f4\u65b0\u305b\u305a\u306b\u5b9f\u884c\u3067\u304d\u308b\n\n\n\n\nbundle outdated\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3068rubygems.org\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u3092\u6bd4\u8f03\u3059\u308b\n\u4e2d\u8eab\u306e\u6bd4\u8f03\u306f\u884c\u308f\u306a\u3044\n\n\nchangelog\u3092\u53c2\u7167\u3059\u308b\u304byard diff\u3067\u5897\u6e1b\u3092\u6bd4\u8f03\u3059\u308b\n\n\n--pre\n\n\n\u30d7\u30ec\u30ea\u30ea\u30fc\u30b9\u7248\u3082\u542b\u3081\u3066\u6bd4\u8f03\u3059\u308b\n\n\n\n\nbundle open\n\n\n\u5f15\u6570\u306b\u6307\u5b9a\u3057\u305fgem\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304f\n\n\nbundle console\n\n\nBundler\u3067\u7ba1\u7406\u3057\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4e88\u3081\u8aad\u307f\u8fbc\u3093\u3060\u4e0a\u3067IRB\u3092\u8d77\u52d5\u3059\u308b\n\n\n\u5f15\u6570\u3067\u30b0\u30eb\u30fc\u30d7\u304c\u6307\u5b9a\u53ef\u80fd\n\n\n\n\n\n\nBundler\u3067\u306e\u78ba\u8a8d\u65b9\u6cd5\n### bundle list\n$ bundle list\n==========================\nGems included by the bundle:\n  * bundler (1.8.3)\n  * tapp (1.5.0)\n  * thor (0.19.1)\n==========================\n\n### gem\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u6240\u3092\u8868\u793a\n$ bundle list tapp\n==========================\n/Users/ftakao2007/work/ruby/tmp/vendor/bundle/ruby/2.2.0/gems/tapp-1.5.0\n==========================\n\n### \u4f9d\u5b58\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u4e8b\u3092\u78ba\u8a8d\n$ bundle check\n==========================\nThe Gemfile's dependencies are satisfied\n==========================\n\n### \u30c1\u30a7\u30c3\u30af\u3059\u308bGemfile\u306e\u30d1\u30b9\u3092\u6307\u5b9a\n$ bundle check --gemfile ./Gemfile\n\n### \u30ed\u30fc\u30ab\u30eb\u3068rubygems.org\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6bd4\u8f03\n$ bundle outdated\n\n### \u30d7\u30ec\u30ea\u30ea\u30fc\u30b9\u7248\u3082\u542b\u3081\u3066\u6bd4\u8f03\n$ bundle outdated --pre\n\n### \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304f\n$ bundle open tapp\n==========================\n\" ============================================================================\n\" Netrw Directory Listing                                        (netrw v140)\n\"   /Users/ftakao2007/work/ruby/tmp/vendor/bundle/ruby/2.2.0/gems/tapp-1.5.0\n\"   Sorted by      name\n\"   Sort sequence: [\\/]$,\\<core\\%(\\.\\d\\+\\)\\=\\>,\\.h$,\\.c$,\\.cpp$,*,\\.o$,\\.obj$,\\.info$,\\.swp$,\\.bak$,\\~$\n\"   Quick Help: <F1>:help  -:go up dir  D:delete  R:rename  s:sort-by  x:exec\n\" ============================================================================\n../\nbin/\n...\n==========================\n\n### Bundler\u3067\u7ba1\u7406\u3057\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8aad\u307f\u8fbc\u3093\u3060\u4e0a\u3067irb\u3092\u8d77\u52d5\n$ bundle console\n==========================\nirb(main):001:0>\n==========================\n\n\n\n\u4e00\u6b69\u8e0f\u307f\u8fbc\u3093\u3060Bundler\u306e\u4f7f\u3044\u65b9\n\ngem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30b0\u30eb\u30fc\u30d7\u5316\n\n\n\u958b\u767a\u7528\u9014\u306e\u307f\u3067\u5229\u7528\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30b0\u30eb\u30fc\u30d7\u5316\u3059\u308b\u306a\u3069\u3067\u4f7f\u3048\u308b\n\n\nwithout\u30aa\u30d7\u30b7\u30e7\u30f3\n\n\n\u7279\u5b9a\u306e\u30b0\u30eb\u30fc\u30d7\u306egem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u9664\u3044\u3066bundle install\u3059\u308b\n.bundle/config\u306b\u8a18\u8ff0\u3057\u3066\u3082\u3088\u3044\n\n\nBUNDLE_WITHOUT: development:test\n\n\n\u30b3\u30ed\u30f3\u533a\u5207\u308a\u3067\u8907\u6570\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u6307\u5b9a\u3067\u304d\u308b\n\n\n\n\n\n\nbinstubs\u30aa\u30d7\u30b7\u30e7\u30f3\n\n\nbundle exec\u7121\u3057\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\nGemfile\u304c\u5b58\u5728\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u540c\u3058\u968e\u5c64\u306bbin\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n\n\ngem\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u4ed8\u968f\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092bin\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3059\u308b\n\n\n\u5225\u306e\u89e3\u6c7a\u65b9\u6cd5\u3068\u3057\u3066\u30b3\u30de\u30f3\u30c9\u30a8\u30a4\u30ea\u30a2\u30b9\u3067alias be='bundle exec'\u3068\u3059\u308b\u4e8b\u304c\u3088\u304f\u3042\u308b\n\n\n\n\n\u4e00\u6b69\u8e0f\u307f\u8fbc\u3093\u3060Bundler\u306e\u4f7f\u3044\u304b\u305f\n### gem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30b0\u30eb\u30fc\u30d7\u5316\u306e\u4f8b\n$ cat Gemfile\n==========================\nsource \"https://rubygems.org\"\n\ngem 'sinatra'\n\ngroup :development do\n  gem 'awesome_print'\nend\n\ngroup :test do\n  gem 'rspec'\nend\n==========================\n\n### \u74b0\u5883\u3092\u8907\u6570\u6307\u5b9a\n==========================\ngroup :development, :test do\n  gem 'pry'\nend\n==========================\n\n### development\u3068test\u30b0\u30eb\u30fc\u30d7\u3092\u9664\u3044\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ bundle install --without development test\n\n\n\n\u305d\u306e\u4ed6gem\u30d5\u30a1\u30a4\u30eb\u306e\u4f7f\u3044\u65b9\n\n\n\u53d6\u5f97\u5148\u3067git\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u6307\u5b9a\u53ef\u80fd\n\u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u5143\u306b\u8a2d\u5b9a\u3067\u304d\u308b\nBundler.require\n\n\nGemfile\u306b\u8a18\u8ff0\u3057\u305fgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u307e\u3068\u3081\u3066require\u3059\u308b\n:require => false\u3068\u3059\u308b\u3068\u5bfe\u8c61\u5916\u306b\u306a\u308b\n:require => '(require\u3055\u305b\u305f\u3044\u30e9\u30a4\u30d6\u30e9\u30ea)'\u3067\u6307\u5b9a\u3057\u305f\u3082\u306e\u306e\u307frequire\u3067\u304d\u308b\n:platform => :(\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u540d)\u3067\u7279\u5b9a\u306eRuby\u306e\u51e6\u7406\u7cfb\u306e\u307f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6307\u5b9a\u3067\u304d\u308b\n\n\n\n\n\n\ngem\u30d5\u30a1\u30a4\u30eb\u306e\u4f7f\u3044\u65b9\n### \u53d6\u5f97\u5148\u306bgit\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u6307\u5b9a\n==========================\ngem 'pry', :git => 'https://github.com/pry/pry.git'\n==========================\n\n### github\u306e\u5834\u5408\u306fURL\u3092\u7701\u7565\u3067\u304d\u308b(\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/\u30ea\u30dd\u30b8\u30c8\u30ea\u540d)\n==========================\ngem 'pry', :github => 'pry/pry'\n==========================\n\n### \u30d6\u30e9\u30f3\u30c1\u3001\u30bf\u30b0\u3001\u30b3\u30df\u30c3\u30c8\u30cf\u30c3\u30b7\u30e5\u6307\u5b9a\n==========================\n# \u30d6\u30e9\u30f3\u30c1\ngem 'rails', :git => 'https://github.com/rails/rails.git', :branch => '3-2-stable'\n\n# \u30bf\u30b0\ngem 'rails', :git => 'https://github.com/rails/rails.git', :tag => 'v3.2.9.rc3'\n\n# \u30b3\u30df\u30c3\u30c8\u30cf\u30c3\u30b7\u30e5\ngem 'rails', :git => 'https://github.com/rails/rails.git', :ref => '2d4068dbeff7313ab332538b3934cfbf10445104'\n==========================\n\n### \u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\n==========================\ngem 'yard', :path => '/home/vagrant/gem/yard'\n==========================\n\n### Bundler.require\u306e\u5236\u5fa1\n==========================\n# require\u3057\u306a\u3044\ngem 'tapp', :require => false\n\n# \u7279\u5b9a\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u307f\ngem 'activesupport', :require => 'acrive_support/core_ext/numeric'\n\n# \u7279\u5b9a\u306eRuby\u51e6\u7406\u7cfb\u306e\u3068\u304d\u306e\u307f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngem 'nokogiri', :platform => :jruby\n==========================\n\n\n\nbundle package\n\n\u30ed\u30fc\u30ab\u30eb\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u3042\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nbundle package\n\n\ngem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u4fdd\u5b58\u3059\u308b\u30b3\u30de\u30f3\u30c9\n\n\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u306a\u3044\u5834\u5408\u3067\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\n\n\nvendor/cache\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u308b\n\n\nbundle install --local\n\n\nvendor/cache\u306b\u3042\u308b\u3082\u306e\u3092\u5229\u7528\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\n\nbundle_package\n### \u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\n$ bundle package\n==========================\nUsing thor 0.19.1\nUsing tapp 1.5.0\nUsing bundler 1.8.3\nBundle complete! 1 Gemfile dependency, 3 gems now installed.\nBundled gems are installed into ./vendor/bundle.\nUpdating files in vendor/cache\n  * thor-0.19.1.gem\n  * tapp-1.5.0.gem\n==========================\n\n### \u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\n$ ls vendor/cache/\n==========================\ntapp-1.5.0.gem  thor-0.19.1.gem\n==========================\n\n### \u3044\u3063\u305f\u3093\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u524a\u9664\n$ rm -r vendor/cache/\n\n### \u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ bundle install --local\n==========================\nUsing thor 0.19.1\nUsing tapp 1.5.0\nUsing bundler 1.8.3\nBundle complete! 1 Gemfile dependency, 3 gems now installed.\nBundled gems are installed into ./vendor/bundle.\n==========================\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\n$ bundle check\n==========================\nThe Gemfile's dependencies are satisfied\n==========================\n\n\n\ngem\u30d1\u30c3\u30b1\u30fc\u30b8\u4f5c\u6210\n\n\u69d8\u3005\u306a\u96db\u5f62\u306e\u4f5c\u6210\u306e\u4ed5\u65b9\u304c\u3042\u308b\n\n\n\u3053\u3053\u3067\u306fBundler\u3092\u4f7f\u3063\u3066\u96db\u5f62\u3092\u4f5c\u308b\n\n\n\n\n\u96db\u5f62\u3092\u4f5c\u6210\n### \u96db\u5f62\u3092\u4f5c\u308b\n$ bundle gem gem_sample_pruby\n==========================\nCreating gem 'gem_sample_pruby'...\n      create  gem_sample_pruby/Gemfile\n      create  gem_sample_pruby/.gitignore\n      create  gem_sample_pruby/lib/gem_sample_pruby.rb\n      create  gem_sample_pruby/lib/gem_sample_pruby/version.rb\n      create  gem_sample_pruby/gem_sample_pruby.gemspec\n      create  gem_sample_pruby/Rakefile\n      create  gem_sample_pruby/README.md\n      create  gem_sample_pruby/bin/console\n      create  gem_sample_pruby/bin/setup\n      create  gem_sample_pruby/CODE_OF_CONDUCT.md\n      create  gem_sample_pruby/LICENSE.txt\n      create  gem_sample_pruby/.travis.yml\n      create  gem_sample_pruby/.rspec\n      create  gem_sample_pruby/spec/spec_helper.rb\n      create  gem_sample_pruby/spec/gem_sample_pruby_spec.rb\nInitializing git repo in /Users/200135/work/ruby/gem/gem_sample_pruby\n==========================\n\n\nrbenv\n\nrbenv\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30b7\u30b9\u30c6\u30e0\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002ruby\u306f2.2.2\u3002\n\nCentOS6.5\n\nrbenv_install\n### \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \n$ sudo yum install -y gcc gcc-c++ make patch unzip bzip2-devel zlib-devel openssl-devel gdbm-devel ncurses-devel freetype-devel readline-devel sqlite-devel libxml2-devel libxslt-devel libffi-devel libjpeg-turbo-devel libpng-devel libyaml-devel\n\n$ sudo visudo\n==================================\n### rbenv\u3067sudo\u3092\u4f7f\u3063\u3066\u3082path\u304c\u901a\u308b\u3088\u3046\u306b\u8ffd\u52a0\nDefaults env_keep += \"PATH RBENV_ROOT\"\n\n### secure_path\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u5148\u982d\u306brbenv\u306ePATH\u3092\u8ffd\u52a0\nDefaults    secure_path = /usr/local/rbenv/bin:/usr/local/rbenv/shims:/sbin:/bin:/usr/sbin:/usr/bin\n==================================\n\n### rbenv\u95a2\u9023\u30d1\u30c3\u30b1\u30fc\u30b8\u3092clone\n$ cd /usr/local\n$ sudo git clone git://github.com/sstephenson/rbenv.git rbenv\n$ sudo git clone git://github.com/sstephenson/ruby-build.git rbenv/plugins/ruby-build\n\n### ruby-build\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ cd rbenv/plugins/ruby-build/\n$ sudo ./install.sh\n\n### rbenv\u304c\u4f7f\u3046\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\n$ sudo vi /etc/profile.d/rbenv.sh\n==================================\nexport RBENV_ROOT=\"/usr/local/rbenv\"\nexport PATH=\"/usr/local/rbenv/bin:$PATH\"\neval \"$(rbenv init -)\"\n==================================\n$ sudo source /etc/profile.d/rbenv.sh\n\n### ruby2.2.2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u4f7f\u3046\u3088\u3046\u306b\u8a2d\u5b9a\n$ sudo rbenv install -l\n$ sudo rbenv install 2.2.2\n$ sudo rbenv global 2.2.2\n$ sudo rbenv rehash\n\n### \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo gem install bundler -q --no-rdoc --no-ri\n$ sudo gem install pry pry-doc\n\n\n\nServerspec\n\u30b5\u30fc\u30d0\u30fc\u306e\u81ea\u52d5\u30c6\u30b9\u30c8\u3092\u5b9f\u73fe\u3059\u308b\u30c4\u30fc\u30eb\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30c6\u30b9\u30c8\n$ cd ~\n$ mkdir serverspec\n$ cd serverspec\n\n### Gemfile\u306e\u4f5c\u6210\n$ vi Gemfile\n================================================\nsource 'https://rubygems.org'\n\ngem 'serverspec'\ngem 'rake'\ngem 'highline'\n================================================\n\n### vendor/bundle\u914d\u4e0b\u306bgem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ bundle install --path=vendor/bundle\n\n### \u521d\u671f\u8a2d\u5b9a\n$ bundle exec serverspec-init\n================================================\nSelect OS type:\n\n  1) UN*X\n  2) Windows\n\nSelect number: 1\n\nSelect a backend type:\n\n  1) SSH\n  2) Exec (local)\n\nSelect number: 1\n\nVagrant instance y/n: n\nInput target host name: 127.0.0.1\n + spec/\n + spec/127.0.0.1/\n + spec/127.0.0.1/sample_spec.rb\n + spec/spec_helper.rb\n + Rakefile\n + .rspec\n================================================\n\n$ rm spec/127.0.0.1/sample_spec.rb\n$ vi spec/127.0.0.1/ssh_port_spec.rb\n================================================\nrequire 'spec_helper'\nset :request_pty, true\n\ndescribe port(22) do\n  it { should be_listening }\nend\n================================================\n\n$ bundle exec rake spec:127.0.0.1\n\n\nrole\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u305f\u3044\n\u672c\u5bb6\u306e\u300cHow to use host specific properties\u300d\u306e\u901a\u308a\u3060\u3068\u52d5\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u7de8\u96c6\u500b\u6240\u3092\u30e1\u30e2\u66f8\u304d\u3002\n### \u30c6\u30b9\u30c8\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u524a\u9664\nrm -rf spec/127.0.0.1\n\n### Rake\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\n$ vi Rakefile\n$ cat Rakefile\n================================================\nrequire 'rake'\nrequire 'rspec/core/rake_task'\nrequire 'yaml'   ### \u3053\u3053\u8ffd\u52a0\n\nproperties = YAML.load_file('properties.yml')  ### \u3053\u3053\u8ffd\u52a0\n\ndesc \"Run serverspec to all hosts\"\ntask :spec => 'spec:all'  ### serverspec\u3092spec\u306b\u5909\u66f4\n\nnamespace :spec do  ### serverspec\u3092spec\u306b\u5909\u66f4\n  task :all => properties.keys.map {|key| 'spec:' + key.split('.')[0] }  ### serverspec\u3092spec\u306b\u5909\u66f4\n  properties.keys.each do |key|\n    desc \"Run serverspec to #{key}\"\n    RSpec::Core::RakeTask.new(key.to_sym) do |t|  ### \u3053\u3053\u306esplit\u306a\u3093\u3068\u304b\u3092\u6d88\u3059\n      ENV['TARGET_HOST'] = key\n      t.pattern = 'spec/{' + properties[key][:roles].join(',') + '}/*_spec.rb'\n    end\n  end\nend\n================================================\n\n### spec/spec_helper.rb\u306e\u7de8\u96c6\n$ vi spec/spec_helper.rb\n$ cat spec/spec_helper.rb\n================================================\nrequire 'serverspec'\nrequire 'net/ssh'\nrequire 'yaml'  ### \u3053\u3053\u8ffd\u52a0\n\nproperties = YAML.load_file('properties.yml')  ### \u3053\u3053\u8ffd\u52a0\n\nset :backend, :ssh\n\nif ENV['ASK_SUDO_PASSWORD']\n  begin\n    require 'highline/import'\n  rescue LoadError\n    fail \"highline is not available. Try installing it.\"\n  end\n  set :sudo_password, ask(\"Enter sudo password: \") { |q| q.echo = false }\nelse\n  set :sudo_password, ENV['SUDO_PASSWORD']\nend\n\nhost = ENV['TARGET_HOST']\nset_property properties[host]  ### \u3053\u3053\u8ffd\u52a0\n\noptions = Net::SSH::Config.for(host)\n\noptions[:user] ||= Etc.getlogin\n\nset :host,        options[:host_name] || host\nset :ssh_options, options\n\n# Disable sudo\n# set :disable_sudo, true\n\n\n# Set environment variables\n# set :env, :LANG => 'C', :LC_MESSAGES => 'C'\n\n# Set PATH\n# set :path, '/sbin:/usr/local/sbin:$PATH'\n================================================\n\n### \u30c6\u30b9\u30c8\u304c\u901a\u3089\u306a\u3044\u3068\u304dserverspec\u81ea\u4f53\u304c\u30a8\u30e9\u30fc\u7d42\u4e86\u3059\u308b\u3053\u3068\u306e\u5bfe\u5fdc(\u3044\u3044\u306e\u304b\u306a\u3002\u3002)\n### serverspec 2.24.3 \u304b\u3089\u306f\u4ee5\u4e0b\u3084\u3089\u306a\u304f\u3066\u3082\u30a8\u30e9\u30fc\u3067\u306a\u304f\u306a\u3063\u305f\u307f\u305f\u3044\u3067\u3059\n$ cp -ip /home/${USER}/serverspec/vendor/bundle/ruby/2.2.0/gems/serverspec-2.24.2/lib/serverspec.rb\n$ vi /home/${USER}/serverspec/vendor/bundle/ruby/2.2.0/gems/serverspec-2.24.2/lib/serverspec.rb\n$ diff -u /tmp/serverspec.rb /home/${USER}/serverspec/vendor/bundle/ruby/2.2.0/gems/serverspec-2.24.2/lib/serverspec.rb\n================================================\n--- /tmp/serverspec.rb  2015-11-12 20:23:09.535833632 +0900\n+++ /home/${USER}/serverspec/vendor/bundle/ruby/2.2.0/gems/serverspec-2.24.2/lib/serverspec.rb  2015-11-12 20:19:54.723834767 +0900\n@@ -43,7 +43,7 @@\n         begin\n           lines = []\n           lines << \"On host `#{host}'\" if host\n-          lines << failure_slash_error_line unless (description == failure_slash_error_line)\n+          #lines << failure_slash_error_line unless (description == failure_slash_error_line)\n           lines << \"#{exception_class_name}:\" unless exception_class_name =~ /RSpec/\n           encoded_string(exception.message.to_s).split(\"\\n\").each do |line|\n             lines << \"  #{line}\"\n================================================\n\n### properties.yml\u306e\u4f5c\u6210\n$ vi properties.yml\n$ cat properties.yml\n================================================\n127.0.0.1:\n  :roles:\n    - base\n  :listen_port: 22\n================================================\n\n### base\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n$ mkdir spec/base\n$ vi spec/base/ssh_port_spec.rb\n$ cat spec/base/ssh_port_spec.rb\n================================================\nrequire 'spec_helper'\nset :request_pty, true\n\ndescribe port(property[:listen_port]) do\n  it { should be_listening }\nend\n================================================\n\n### \u30b3\u30de\u30f3\u30c9\u306e\u78ba\u8a8d\n$ rake -T\n================================================\nrake spec            # Run serverspec to all hosts\nrake spec:127.0.0.1  # Run serverspec to 127.0.0.1\n================================================\n\n### \u5b9f\u884c\n$ bundle exec rake spec:127.0.0.1\n\n\n\u30b5\u30f3\u30d7\u30eb\n\ngithub\u306b\u4e0a\u3052\u3066\u308b\u500b\u4eba\u7684\u306b\u4f5c\u3063\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\n\n# pry\n\n* irb\u306e\u4ee3\u66ff\u3068\u306a\u308b\u5f37\u529b\u306a\u5bfe\u8a71\u578b\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\n* \u4e3b\u306a\u6a5f\u80fd\n    * \u78ba\u5b9a\u3057\u305f\u5165\u529b\u3001\u8a55\u4fa1\u7d50\u679c\u306e\u51fa\u529b\u3001\u5165\u529b\u5c65\u6b74\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\n    * \u30af\u30e9\u30b9\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u3001\u307e\u305f\u306f\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u53c2\u7167\u3059\u308b\n    * \u30af\u30e9\u30b9\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u3001\u307e\u305f\u306f\u30e1\u30bd\u30c3\u30c9\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3059\u308b\n    * \u30a8\u30c7\u30a3\u30bf\u3092\u8d77\u52d5\u3057\u3001\u305d\u306e\u5834\u3067\u30e1\u30bd\u30c3\u30c9\u306e\u5b9a\u7fa9\u3092\u66f8\u304d\u63db\u3048\u308b\n    * \u30b7\u30a7\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u547c\u3073\u51fa\u3059\n    * Gist\u3068\u9023\u643a\u3059\u308b\n    * \u30b9\u30b3\u30fc\u30d7\u306e\u79fb\u52d5\n    * \u30d7\u30ed\u30b0\u30e9\u30e0\u5b9f\u884c\u6642\u306b\u4efb\u610f\u306e\u5834\u6240\u3067\u5b9f\u884c\u3092\u505c\u6b62\u3057\u3001Pry\u306e\u5bfe\u8a71\u74b0\u5883\u3092\u8d77\u52d5\u3059\u308b\n    * \u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u308b\u62e1\u5f35\u6a5f\u80fd\n\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n* pry\n    * \u672c\u4f53\n* pry-doc\n    * Ruby\u672c\u4f53\u306eC\u8a00\u8a9e\u306b\u3088\u308b\u5b9f\u88c5\u3092\u53c2\u7167\u3059\u308b\u6a5f\u80fd\u3092Pry\u306b\u8ffd\u52a0\u3059\u308b\n* \u30d7\u30e9\u30b0\u30a4\u30f3\n    * pry-stack_explorer\n        * Pry\u3092\u8d77\u52d5\u3057\u305f\u6642\u70b9\u3067\u306e\u305d\u308c\u307e\u3067\u306e\u547c\u3073\u51fa\u3057\u30b9\u30bf\u30c3\u30af\u3092\u8868\u793a\u3059\u308b\n        * \u30b9\u30bf\u30c3\u30af\u304c\u793a\u3059\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9078\u629e\u3057\u3066\u79fb\u52d5\u3067\u304d\u308b\n    * pry-byebug\n        * \u30b3\u30fc\u30c9\u3092\u30b9\u30c6\u30c3\u30d7\u5b9f\u884c\u3059\u308b\n        * Ruby2\u7cfb\u3067\u5229\u7528\n            * Ruby1.9\u307e\u3067\u306fpry-debugger\u3092\u4f7f\u3046\n\n\n``` shell:pry\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n### Pry\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ gem install pry pry-doc\n\n### \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ gem install pry-stack_explorer pry-byebug\n```\n\n## pry\u3092\u4f7f\u3063\u3066\u307f\u308b\n\n``` ruby:pry\u3092\u4f7f\u3046\n[1] pry(main)> 1+2\n=> 3\n[2] pry(main)> \"ruby\".upcase\n=> \"RUBY\"\n\n### foo\u3068\u3044\u3046String\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n[1] pry(main)> foo = \"foo\"\n=> \"foo\"\n\n### \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30b9\u30b3\u30fc\u30d7\u306b\u79fb\u52d5\n[2] pry(main)> cd foo\n\n### \u73fe\u5728\u306e\u30b9\u30b3\u30fc\u30d7\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30e1\u30bd\u30c3\u30c9\u3084\u5b9a\u6570\u3001\u5909\u6570\u3092\u51fa\u529b\u3059\u308b\n[3] pry(\"foo\"):1> ls\nComparable#methods: <  <=  >  >=  between?\nString#methods:\n  %            chr             gsub       rindex       succ!\n  *            clear           gsub!      rjust        sum\n...\n  chop         freeze          reverse    sub!         valid_encoding?\n  chop!        getbyte         reverse!   succ\nself.methods: __pry__\nlocals: _  __  _dir_  _ex_  _file_  _in_  _out_  _pry_\n\n### \"foo\"\u3068\u3044\u3046\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u5bfe\u3057\u3066upcase\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\n[6] pry(\"foo\"):1> upcase\n=> \"FOO\"\n```\n\n## \u30d8\u30eb\u30d7\u3092\u78ba\u8a8d\u3059\u308b\n\n* help\n    * \u5f15\u6570\u306a\u3057\u3067\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\n    * \u5f15\u6570\u3092\u3064\u3051\u308b\u3068\u305d\u306e\u30b3\u30de\u30f3\u30c9\u306e\u8a73\u7d30\u304c\u898b\u3048\u308b\n\n## \u30d7\u30ed\u30b0\u30e9\u30e0\u5b9f\u884c\u6642\u306b\u4efb\u610f\u306e\u5834\u6240\u3067\u5bfe\u8a71\u74b0\u5883\u3078\u79fb\u884c\u3059\u308b\n\n``` ruby:\u4efb\u610f\u306e\u5834\u6240\u3067\u5bfe\u8a71\u578b\u74b0\u5883\u3078\u79fb\u884c\n$ cat pry_test.rb\n==============================\nrequire \"pry\"\n\nclass Foo\n  def initialize\n    @bar = \"bar\"\n  end\n\n  def bar\n    binding.pry  ### \u3053\u3053\u3067\u5bfe\u8a71\u578b\u74b0\u5883\u306b\u79fb\u884c\n    @bar\n  end\nend\n\nputs \"bar is \" + Foo.new.bar\n==============================\n\n$ ruby pry_test.rb\n==============================\nFrom: /Users/ftakao2007/work/ruby/tmp/pry_test.rb @ line 10 Foo#bar:\n\n     9: def bar\n => 10:   binding.pry\n    11:   @bar\n    12: end\n\n### \u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306e\u78ba\u8a8d\n[1] pry(#<Foo>)> ls\nFoo#methods: bar  ### bar\u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\ninstance variables: @bar   ### \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570 @bar \u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\nlocals: _  __  _dir_  _ex_  _file_  _in_  _out_  _pry_\n\n### @bar\u3092\u8a55\u4fa1\u3002\u30b3\u30f3\u30af\u30e9\u30b9\u30bf\u3067\u4ee3\u5165\u3055\u308c\u305f\"bar\"\u304c\u5165\u3063\u3066\u3044\u308b\n[2] pry(#<Foo>)> @bar\n=> \"bar\"\n\n### \u65b0\u3057\u304f\u6587\u5b57\u5217\u3092\u4ee3\u5165\n[3] pry(#<Foo>)> @bar = \"new strign\"\n=> \"new strign\"\n\n### bar\u306e\u623b\u308a\u5024\u304c\u5909\u5316\u3057\u305f\u305f\u3081\u6700\u7d42\u7684\u306a\u51fa\u529b\u7d50\u679c\u304c\u5909\u308f\u308b\n[4] pry(#<Foo>)> exit\nbar is new strign\n==============================\n```\n\n## \u4e3b\u8981\u306a\u30b3\u30de\u30f3\u30c9\n\n* show-source\n    * \u30e1\u30bd\u30c3\u30c9\u3084\u30af\u30e9\u30b9\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5b9a\u7fa9\u3092Pry\u4e0a\u3067\u76f4\u63a5\u78ba\u8a8d\u3067\u304d\u308b\n* show-doc\n    * \u5f15\u6570\u3067\u6e21\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u3084\u30af\u30e9\u30b9\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092Pry\u4e0a\u3067\u78ba\u8a8d\u3067\u304d\u308b\n        * \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306bRDoc\u3084YARD\u5f62\u5f0f\u3067\u8a18\u8ff0\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\n* edit\n    * Pry\u304b\u3089\u30a8\u30c7\u30a3\u30a2\u30bf\u3092\u8d77\u52d5\u3059\u308b\n        * \u30a8\u30c7\u30a3\u30bf\u3067\u4fdd\u5b58\u3057\u305f\u8a18\u8ff0\u3092Pry\u4e0a\u3067\u8a55\u4fa1\u3067\u304d\u308b\n        * \u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068nano\u304c\u8d77\u52d5\u3059\u308b\n        * nano\u4ee5\u5916\u3092\u4f7f\u3046\u65b9\u6cd5\n            * Pry.config.editor = \"(edita)\" \u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\n            * \u74b0\u5883\u5909\u6570EDITOR\u306b\u8d77\u52d5\u3057\u305f\u3044\u30a8\u30c7\u30a3\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\n            *  ubuntu\u306e\u5834\u5408\u306f\n* \u305d\u306e\u4ed6\u30b3\u30de\u30f3\u30c9\u306b\u3064\u3044\u3066\n    * help\u304bgithub\u4e0a\u306eWiki\u3092\u898b\u308b\n\n``` ruby:pry\u306e\u30b3\u30de\u30f3\u30c9\n### \u7d44\u307f\u8fbc\u307f\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308bSet\u30af\u30e9\u30b9\u306e\u78ba\u8a8d\n[1] pry(main)> require \"set\"\n=> true\n\n### Set#add\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\n[2] pry(main)> show-source Set#add\n\nFrom: /home/vagrant/.rbenv/versions/2.2.2/lib/ruby/2.2.0/set.rb @ line 289:\nOwner: Set\nVisibility: public\nNumber of lines: 4\n\ndef add(o)\n  @hash[o] = true\n  self\nend\n\n### Set\u30af\u30e9\u30b9\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\n[3] pry(main)> show-source Set\nFrom: /home/vagrant/.rbenv/versions/2.2.2/lib/ruby/2.2.0/set.rb @ line 67:\nClass name: Set\nNumber of lines: 482\n\nclass Set\n  include Enumerable\n\n### edit\n[1] pry(main)> exit\n==============================\nmodule Foo\n  def self.foo\n    puts \"foo\"\n  end\nend\n\nFoo.foo\n==============================\nfoo  ### \u4fdd\u5b58\u3057\u305f\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\n=> nil\n```\n\n## .pryrc\u30d5\u30a1\u30a4\u30eb\n\n* pry\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3002pry\u8d77\u52d5\u6642\u306b\u8aad\u307f\u8fbc\u307e\u308c\u308b\n    * \u8a2d\u5b9a\u4f8b\n        * \u5229\u7528\u3059\u308b\u30a8\u30c7\u30a3\u30bf\u3092vi\u306b\u3059\u308b\n            * Pry.config.editor = \"vi\"\n\n## \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u5229\u7528\n\n### pry-stack_explorer\n\n``` ruby:pry-stack_explorer\n$ cat multi_stack_sample.rb\n==============================\nrequire \"pry\"\n\nmodule MultiStackSample\n  def self.stackA\n    stackB\n  end\n\n  def self.stackB\n    binding.pry\n    \"stackB\"\n  end\nend\n\nMultiStackSample.stackA\n==============================\n\n$ ruby multi_stack_sample.rb\n==============================\nFrame number: 0/3  ### Frame number\u3068\u3044\u3046\u60c5\u5831\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\n\nFrom: /home/vagrant/work/ruby/tmp/multi_stack_sample.rb @ line 10 MultiStackSample.stackB:\n\n     8: def self.stackB\n     9:   binding.pry\n => 10:   \"stackB\"\n    11: end\n\n[1] pry(MultiStackSample)> help\n...\nPry-stack_explorer (v0.4.9.2) ### Pry-stack_explorer\u306e\u60c5\u5831\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\n  down               Go down to the callee's context.\n  frame              Switch to a particular frame.\n  show-stack         Show all frames\n  up                 Go up to the caller's context.\n\n### up\u3068down\u3067\u30b9\u30bf\u30c3\u30af\u3092\u79fb\u52d5\u3067\u304d\u308b\n[1] pry(MultiStackSample)> up\n\nFrame number: 1/3\nFrame type: method\n\nFrom: /Users/ftakao2007/work/ruby/tmp/multi_stack_sample.rb @ line 10 MultiStackSample.stackB:\n\n     8: def self.stackB\n     9:   binding.pry\n => 10:   \"stackB\"\n    11: end\n\n[2] pry(MultiStackSample)> up\n\nFrame number: 2/3\nFrame type: method\n\nFrom: /Users/ftakao2007/work/ruby/tmp/multi_stack_sample.rb @ line 5 MultiStackSample.stackA:\n\n    4: def self.stackA\n => 5:   stackB\n    6: end\n\n[3] pry(MultiStackSample)> up\n\nFrame number: 3/3\nFrame type: main\n\nFrom: /Users/ftakao2007/work/ruby/tmp/multi_stack_sample.rb @ line 14 :\n\n     9:     binding.pry\n    10:     \"stackB\"\n    11:   end\n    12: end\n    13:\n => 14: MultiStackSample.stackA\n\n### frame\u756a\u53f7\u3092\u6307\u5b9a\u3057\u3066\u79fb\u52d5\n[4] pry(main)> frame 2\n\nFrame number: 2/3\nFrame type: method\n\nFrom: /Users/ftakao2007/work/ruby/tmp/multi_stack_sample.rb @ line 5 MultiStackSample.stackA:\n\n    4: def self.stackA\n => 5:   stackB\n    6: end\n==============================\n```\n\n### pry-byebug\n\n``` ruby:pry-byebug\n$ cat byebug_sample.rb\n==============================\nrequire \"pry\"\n\nmodule DebuggerSample\n  def self.conditional_print(obj, condition)\n    if condition\n      p obj\n    end\n  end\nend\n\nbinding.pry\nDebuggerSample.conditional_print([1,2,3], true)\n==============================\n\n$ ruby byebug_sample.rb\n==============================\nFrame number: 0/1\n\nFrom: /Users/ftakao2007/work/ruby/tmp/byebug_sample.rb @ line 12 :\n\n     7:     end\n     8:   end\n     9: end\n    10:\n    11: binding.pry\n => 12: DebuggerSample.conditional_print([1,2,3], true)\n\n### Breakpoint\u306e\u8a2d\u5b9a\n[1] pry(main)> break DebuggerSample.conditional_print\n\n  Breakpoint 1: DebuggerSample.conditional_print (Enabled)\n\n  4: def self.conditional_print(obj, condition)\n5:   if condition\n6:     p obj\n7:   end\n8: end\n\n### Break\u30dd\u30a4\u30f3\u30c8\u3067\u505c\u6b62\u3057\u305f\u3001\u3075\u305f\u305f\u3073pry\u8d77\u52d5\n[2] pry(main)> continue\n\n  Breakpoint 1. First hit\n\nFrom: /Users/ftakao2007/work/ruby/tmp/byebug_sample.rb @ line 4 DebuggerSample.conditional_print:\n\n => 4: def self.conditional_print(obj, condition)\n    5:   if condition\n    6:     p obj\n    7:   end\n    8: end\n\n### step\u5b9f\u884c\n[2] pry(DebuggerSample):1> step\n\nFrom: /Users/ftakao2007/work/ruby/tmp/byebug_sample.rb @ line 5 DebuggerSample.conditional_print:\n\n    4: def self.conditional_print(obj, condition)\n => 5:   if condition\n    6:     p obj\n    7:   end\n    8: end\n\n[2] pry(DebuggerSample)> step\n\nFrom: /Users/ftakao2007/work/ruby/tmp/byebug_sample.rb @ line 6 DebuggerSample.conditional_print:\n\n    4: def self.conditional_print(obj, condition)\n    5:   if condition\n => 6:     p obj\n    7:   end\n    8: end\n\n[2] pry(DebuggerSample)> step\n[1, 2, 3]\n==============================\n```\n\n# Rake\n\n* Ruby\u3067\u8a18\u8ff0\u3055\u308c\u305f\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\n    * Make\u3001Ant\u3001Maven\u306a\u3069\u3068\u540c\u7a2e\u306e\u30c4\u30fc\u30eb\n    * Ruby\u3067\u4e00\u9023\u306e\u51e6\u7406\u3092\u8a18\u8ff0\u3057\u3066\u5b9f\u884c\u3067\u304d\u308b\n        * \u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u5411\u3051\u306e\u8a00\u8a9e\u5185DSL\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u7fa4\u3092\u6d3b\u7528\n        * \u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3068\u3057\u3066\u306e\u8a18\u8ff0\u306e\u3057\u3084\u3059\u3055\u3068Ruby\u306e\u8868\u73fe\u529b\u3092\u4e21\u7acb\n    * Ruby\u4ee5\u5916\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u3082\u5229\u7528\u53ef\u80fd\n\n## Rakefile\n\n* Rake\u306fRakefile\u3068\u547c\u3070\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u306b\u4e00\u9023\u306e\u51e6\u7406\u3092\u307e\u3068\u3081\u305f\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3059\u308b\n* task\u30e1\u30bd\u30c3\u30c9\n    * \u51e6\u7406\u3092\u5b9a\u7fa9\u3059\u308b\n        * \u30bf\u30b9\u30af\u5b9a\u7fa9\u3092\u4e00\u3064\u306e\u5358\u4f4d\u3068\u3057\u3066\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\n    * \u5f15\u6570\u3068\u3057\u3066\u30b7\u30f3\u30dc\u30eb\u3092\u6e21\u3059\u3068\u30bf\u30b9\u30af\u540d\u3068\u3057\u3066\u6271\u308f\u308c\u308b\n    * Hash\u3092\u5f15\u6570\u3068\u3057\u3066\u6e21\u3059\u4e8b\u304c\u3067\u304d\u308b\n        * \u30ad\u30fc : \u30bf\u30b9\u30af\u540d\n        * \u5024 : \u305d\u306e\u30bf\u30b9\u30af\u304c\u4f9d\u5b58\u3057\u3066\u3044\u308b\u30bf\u30b9\u30af\u540d\n            * \u5024\u306b\u914d\u5217\u3092\u6e21\u3059\u3053\u3068\u3082\u3067\u304d\u308b\n                * \u4f9d\u5b58\u3057\u3066\u3044\u308b\u30bf\u30b9\u30af\u3092\u8907\u6570\u8a18\u8f09\u3067\u304d\u308b\n    * default\u30bf\u30b9\u30af\n        * \u5f15\u6570\u7121\u304frake\u304c\u5b9f\u884c\u3055\u308c\u305f\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u30bf\u30b9\u30af\n* desc\u30e1\u30bd\u30c3\u30c9\n    * \u30bf\u30b9\u30af\u306b\u8aac\u660e\u6587\u3092\u3064\u3051\u308b\n        * rake -T\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u8aac\u660e\u6587\u3092\u8868\u793a\u3067\u304d\u308b\n* file\u30e1\u30bd\u30c3\u30c9\n    * \u30d5\u30a1\u30a4\u30eb\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3059\u308b\n        * \u5f15\u6570\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u793a\u3059\u6587\u5b57\u5217\u3092\u6e21\u3059\n            * \u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u30bf\u30b9\u30af\u884c\u306f\u30b9\u30ad\u30c3\u30d7\u3055\u308c\u308b\n        * \u7528\u9014\n            * \u30bf\u30b9\u30afB\u304c\u30bf\u30b9\u30afA\u306e\u6210\u679c\u7269\u306b\u4f9d\u5b58\u3057\u3066\u304a\u308a\u3001\u3059\u3067\u306b\u6210\u679c\u7269\u304c\u3042\u308b\u5834\u5408\u306f\u30bf\u30b9\u30afA\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\n        * \u30e1\u30ea\u30c3\u30c8\n            * \u30d3\u30eb\u30c9\u306b\u6570\u5206\u304b\u304b\u308b\u51e6\u7406\u306f\u4e0d\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3089\u305a\u306b\u6e08\u3080\u306e\u3067\u51e6\u7406\u6642\u9593\u3092\u77ed\u7e2e\u3067\u304d\u308b\n* \u30af\u30ea\u30fc\u30f3\u30bf\u30b9\u30af\n    * \u30d3\u30eb\u30c9\u306e\u969b\u306b\u751f\u6210\u3055\u308c\u305f\u4e00\u6642\u30d5\u30a1\u30a4r\u3092\u524a\u9664\u3059\u308b\n        * require 'rake/clean'\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308b\n        * \u4ee5\u4e0b\u30bf\u30b9\u30af\u304c\u8ffd\u52a0\u3055\u308c\u308b\n            * clean : \u4e00\u6642\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\n            * clobber : \u4e00\u6642\u30d5\u30a1\u30a4\u30eb\u3068\u4f5c\u6210\u3055\u308c\u305f\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\n        * CLEAN\u5b9a\u7406\u304c\u5b9a\u7fa9\u3055\u308c\u308b\n            * clean\u30bf\u30b9\u30af\u306fCLEAN\u5b9a\u7fa9\u306b\u683c\u7d0d\u3055\u308c\u305f\u30ea\u30b9\u30c8\u3092\u524a\u9664\u5bfe\u8c61\u3068\u3059\u308b\n            * \u30d5\u30a1\u30a4\u30eb\u306e\u8ffd\u52a0\u65b9\u6cd5\n                * CLEAN.include(\u30d5\u30a1\u30a4\u30eb\u540d)\n            * clobber\u306f\n                \n\n\n``` ruby:\u7c21\u5358\u306aRakefile\n### \u7c21\u5358\u306aRakefile\n$ vi Rakefile\n==========================\ndesc 'Task Description'  ### rake -T\u3067\u8868\u793a\u3055\u308c\u308b\u30bf\u30b9\u30af\u306e\u8aac\u660e\u6587\u3092\u8868\u793a\u3059\u308b\u30e1\u30bd\u30c3\u30c9\ntask :task_name do\n puts 'Rake task'\nend\n==========================\n\n### \u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30bf\u30b9\u30af\u306e\u4e00\u89a7\u3092\u8868\u793a\n$ rake -T\n==========================\nrake task_name  # Task Description\n==========================\n\n### \u5f15\u6570\u306b\u30bf\u30b9\u30af\u540d\u3092\u6e21\u3057\u3066\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\n$ rake task_name\n==========================\nRake task\n==========================\n```\n\n### \u3082\u3046\u5c11\u3057\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3089\u3057\u3044Rakefile\n\n``` ruby:Rakefile2\n### \u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n$ mkdir meals\n$ touch meals/breakfast.txt\n$ touch meals/lunch.txt\n$ touch meals/dinner.txt\n$ mkdir reports\n\n### Rakefile\u306e\u4f5c\u6210\n$ vi Rakefile2\n==========================\n# -*- coding: utf-8 -*-\n\nTXT_DIR = \"#{Dir.pwd}/meals/\"\nOUTPUT_DIR = \"#{Dir.pwd}/reports/\"\n\nFILE_EXT = '.txt'\nMEALS = [\n  {name: 'breakfast', lavel: '\u671d\u98df'},\n  {name: 'lunch', lavel: '\u663c\u98df'},\n  {name: 'dinner', lavel: '\u5915\u98df'}\n]\n\ntask :default => :daily_report   ### \u30c7\u30d5\u30a9\u30eb\u30c8\u30bf\u30b9\u30af\u306e\u5b9a\u7fa9\n\ndesc '\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3059\u308b'\ntask :daily_report => [:check, :report] do  ### \u30bf\u30b9\u30af\u306e\u5b9a\u7fa9\u3002check,report\u30bf\u30b9\u30af\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\n  puts '\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f'\nend\n\ndesc '\u98df\u4e8b\u8a18\u9332\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d'\ntask :check do\n  MEALS.each do |meal|\n    file_name = meal[:name] + FILE_EXT\n    full_path = TXT_DIR + file_name\n\n    if File.exist?(full_path)\n      puts \"#{file_name} OK\"\n    else\n      puts \"#{file_name} \u304c\u3042\u308a\u307e\u305b\u3093\"\n    end\n  end\nend\n\ndesc '\u98df\u4e8b\u30ec\u30dd\u30fc\u30c8\u4f5c\u6210'\ntask :report do\n  date_str = Time.now.strftime('%Y/%m/%d')\n  output_str = \"#{date_str}\u306e\u98df\u4e8b\u8a18\u9332\\n\\n\"\n\n  MEALS.each do |meal|\n    file_name = meal[:name] + FILE_EXT\n    full_path = TXT_DIR + file_name\n    description = <<DESC\n#{meal[:label]}\n#{File.read(full_path, :encoding => Encoding::UTF_8)}\nDESC\n\n    output_str += description\n  end\n\n  output_file = OUTPUT_DIR + \"report_#{Time.now.strftime('%Y%m%d')}.txt\"\n  File.open(output_file, 'w') {|f|\n    f.write output_str\n  }\nend\n==========================\n\n### \u30bf\u30b9\u30af\u4e00\u89a7\u3002-f\u306fRakefile\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u3002\n$ rake -f Rakefile2 -T\n==========================\nrake check         # \u98df\u4e8b\u8a18\u9332\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d\nrake daily_report  # \u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3059\u308b\nrake report        # \u98df\u4e8b\u30ec\u30dd\u30fc\u30c8\u4f5c\u6210\n==========================\n\n### \u30bf\u30b9\u30af\u306e\u5b9f\u884c\u3002 -t\u3092\u3064\u3051\u308b\u3068\u5b9f\u884c\u6642\u306e\u30c8\u30ec\u30fc\u30b9\u60c5\u5831\u3092\u51fa\u529b\u3059\u308b\n### \u4f9d\u5b58\u3057\u3066\u3044\u308b\u30bf\u30b9\u30afcheck\u3068report\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308b\n$ rake daily_report -t\n==========================\n** Invoke daily_report (first_time)\n** Invoke check (first_time)\n** Execute check\nbreakfast.txt OK\nlunch.txt OK\ndinner.txt OK\n** Invoke report (first_time)\n** Execute report\n** Execute daily_report\n\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\n==========================\n\n### \u5f15\u6570\u7121\u3057\u3067\u5b9f\u884c\u3059\u308b\u3068default\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u3055\u308c\u308b\n$ rake -f Rakefile2\n==========================\nbreakfast.txt OK\nlunch.txt OK\ndinner.txt OK\n\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\n==========================\n```\n\n## \u30d5\u30a1\u30a4\u30eb\u30bf\u30b9\u30af\n\n``` ruby:\u30d5\u30a1\u30a4\u30eb\u30bf\u30b9\u30af\n### \u30d5\u30a1\u30a4\u30eb\u30bf\u30b9\u30af\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3002\u4e8b\u524d\u306e\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\u304c\u4e0d\u8981\n$ vi Rakefile3\n==========================\n# -*- coding: utf-8 -*-\n\nTXT_DIR = \"#{Dir.pwd}/meals/\"\nOUTPUT_DIR = \"#{Dir.pwd}/reports/\"\nOUTPUT_FILE = OUTPUT_DIR + \"report_#{Time.now.strftime('%Y%m%d')}.txt\" ### \u51fa\u529b\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\n\nFILE_EXT = '.txt'\nMEALS = [\n  {name: 'breakfast', lavel: '\u671d\u98df'},\n  {name: 'lunch', lavel: '\u663c\u98df'},\n  {name: 'dinner', lavel: '\u5915\u98df'}\n]\nTXT_FILES = MEALS.map {|m| TXT_DIR + m[:name] + FILE_EXT} ### \u8aad\u307f\u8fbc\u3080\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\n\ntask :default => :daily_report\n\ndesc '\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3059\u308b'\ntask :daily_report => [:check, :report] do\n  puts '\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f'\nend\n\ndesc '\u98df\u4e8b\u8a18\u9332\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d'\ntask :check => TXT_FILES do\nend\n\n### \u30d5\u30a1\u30a4\u30eb\u304c\u7121\u3051\u308c\u3070\u4f5c\u6210\u3059\u308b\nTXT_FILES.each do |file_name|\n  file file_name do\n    puts \"#{file_name} OK\"\n    puts \"#{file_name} \u304c\u3042\u308a\u307e\u305b\u3093\"\n    sh \"touch #{file_name}\"\n  end\nend\n\ndesc '\u98df\u4e8b\u30ec\u30dd\u30fc\u30c8\u4f5c\u6210'\ntask :report do\n  date_str = Time.now.strftime('%Y/%m/%d')\n  output_str = \"#{date_str}\u306e\u98df\u4e8b\u8a18\u9332\\n\\n\"\n\n  MEALS.each do |meal|\n    file_name = meal[:name] + FILE_EXT\n    full_path = TXT_DIR + file_name\n    description = <<DESC\n#{meal[:label]}\n#{File.read(full_path, :encoding => Encoding::UTF_8)}\nDESC\n\n    output_str += description\n  end\n\n  output_file = OUTPUT_DIR + \"report_#{Time.now.strftime('%Y%m%d')}.txt\"\n  File.open(output_file, 'w') {|f|\n    f.write output_str\n  }\nend\n==========================\n\n### \u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u3068\u304d\n$ rake -f Rakefile3 -t\n==========================\n** Invoke default (first_time)\n** Invoke daily_report (first_time)\n** Invoke check (first_time)\n** Invoke /Users/ftakao2007/work/ruby/tmp/meals/breakfast.txt (first_time, not_needed)\n** Invoke /Users/ftakao2007/work/ruby/tmp/meals/lunch.txt (first_time, not_needed)\n** Invoke /Users/ftakao2007/work/ruby/tmp/meals/dinner.txt (first_time, not_needed)\n** Execute check\n** Invoke report (first_time)\n** Execute report\n** Execute daily_report\n\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\n** Execute default\n==========================\n\n### \u30d5\u30a1\u30a4\u30eb\u304c\u7121\u3044\u6642\n$ rake -f Rakefile3 -t\n==========================\n** Invoke default (first_time)\n** Invoke daily_report (first_time)\n** Invoke check (first_time)\n** Invoke /Users/ftakao2007/work/ruby/tmp/meals/breakfast.txt (first_time)\n** Execute /Users/ftakao2007/work/ruby/tmp/meals/breakfast.txt\n/Users/ftakao2007/work/ruby/tmp/meals/breakfast.txt OK\n/Users/ftakao2007/work/ruby/tmp/meals/breakfast.txt \u304c\u3042\u308a\u307e\u305b\u3093\ntouch /Users/ftakao2007/work/ruby/tmp/meals/breakfast.txt\n** Invoke /Users/ftakao2007/work/ruby/tmp/meals/lunch.txt (first_time)\n** Execute /Users/ftakao2007/work/ruby/tmp/meals/lunch.txt\n/Users/ftakao2007/work/ruby/tmp/meals/lunch.txt OK\n/Users/ftakao2007/work/ruby/tmp/meals/lunch.txt \u304c\u3042\u308a\u307e\u305b\u3093\ntouch /Users/ftakao2007/work/ruby/tmp/meals/lunch.txt\n** Invoke /Users/ftakao2007/work/ruby/tmp/meals/dinner.txt (first_time)\n** Execute /Users/ftakao2007/work/ruby/tmp/meals/dinner.txt\n/Users/ftakao2007/work/ruby/tmp/meals/dinner.txt OK\n/Users/ftakao2007/work/ruby/tmp/meals/dinner.txt \u304c\u3042\u308a\u307e\u305b\u3093\ntouch /Users/ftakao2007/work/ruby/tmp/meals/dinner.txt\n** Execute check\n** Invoke report (first_time)\n** Execute report\n** Execute daily_report\n\u4e00\u65e5\u306e\u98df\u4e8b\u8a18\u9332\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\n** Execute default\n==========================\n```\n\n## \u30af\u30ea\u30fc\u30f3\u30bf\u30b9\u30af\n\n``` ruby:\u30af\u30ea\u30fc\u30f3\u30bf\u30b9\u30af\n### \u30af\u30ea\u30fc\u30f3\u30bf\u30b9\u30af\u306e\u8ffd\u52a0\n$ vim Rakefile3\n==========================\nrequire 'rake/clean'\n\nCLEAN.include('mealss/*')\nCLOBBER.INCLUDE('reports/*')\n==========================\n\n### \u4e00\u6642\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\n$ rake -f Rakefile3 clean\n$ ls meals\n==========================\n(\u4f55\u3082\u306a\u3057)\n==========================\n\n### \u4e00\u6642\u30d5\u30a1\u30a4\u30eb\u3068\u6210\u679c\u7269\u3092\u524a\u9664\n$ rake -f Rakefile3 clobber\n$ ls reports\n==========================\n(\u4f55\u3082\u306a\u3057)\n==========================\n```\n\n## \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30bf\u30b9\u30af\n\n* \u30d3\u30eb\u30c9\u51e6\u7406\u306e\u904e\u7a0b\u3067\u751f\u6210\u7269\u3092\u7279\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u683c\u7d0d\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u306b\u4f7f\u7528\u3059\u308b\n    * \u5bfe\u8c61\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5b58\u5728\u3057\u306a\u3044\u3068\u304d\u306f\u81ea\u52d5\u7684\u306b\u4f5c\u6210\u3059\u308b\n    * \u65e2\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u30b9\u30ad\u30c3\u30d7\u3059\u308b\n    * \u30d6\u30ed\u30c3\u30af\u3092\u6e21\u3059\u4e8b\u306f\u3067\u304d\u306a\u3044\n        * \u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5229\u7528\u3059\u308b\u30bf\u30b9\u30af\u306ftask\u30e1\u30bd\u30c3\u30c9\u3092\u7528\u3044\u3066\u8a18\u8ff0\u3059\u308b\n\n``` ruby:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30bf\u30b9\u30af\n$ vi Rakefile4\n==========================\nBACKUP_DIR = \"backups\"\n\ndirectory BACKUP_DIR\ndesc \"\u30ec\u30dd\u30fc\u30c8\u3092\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3059\u308b\"\ntask :backup => BACKUP_DIR do\n  sh \"cp reports/* backups/\"\nend\n==========================\n\n$ rake -f Rakefile4 backup -t\n==========================\n** Invoke backup (first_time)\n** Invoke backups (first_time, not_needed)\n** Execute backup\ncp reports/* backups/\n==========================\n```\n\n## \u30eb\u30fc\u30eb\n\n* \u7279\u5b9a\u306e\u30d1\u30bf\u30fc\u30f3\u540d\u3092\u6301\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u306b\u4f9d\u5b58\u3059\u308b\u30bf\u30b9\u30af\u3092\u52d5\u7684\u306b\u5b9a\u7fa9\u3059\u308b\u4ed5\u7d44\u307f\n* \u30bf\u30b9\u30af\u306e\u5b9f\u884c\u9014\u4e2d\u3067\u5fc5\u8981\u306b\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u306b\u3064\u3044\u3066\u751f\u6210\u65b9\u6cd5\u3092\u5b9a\u7fa9\u3059\u308b\n* rule\u30e1\u30bd\u30c3\u30c9\n    * rake -T\u3067\u4e00\u89a7\u306b\u306f\u8868\u793a\u3055\u308c\u306a\u3044\n    * \u30d6\u30ed\u30c3\u30af\u3067FileTask\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d7\u3051\u53d6\u308b\u4e8b\u304c\u3067\u304d\u308b\n    * FileTask\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30bd\u30c3\u30c9\n        * name : \u30bf\u30b9\u30af\u306e\u89aa\u3068\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u8fd4\u3059\n        * source : \u30eb\u30fc\u30eb\u306e\u4f9d\u5b58\u5148\u306b\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u8fd4\u3059\n        * sources : \u30eb\u30fc\u30eb\u306e\u4f9d\u5b58\u5148\u306b\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u914d\u5217\u3092\u8fd4\u3059\n        * prerequisites : \u30bf\u30b9\u30af\u306e\u4f9d\u5b58\u5148\u306b\u306a\u308b\u30bf\u30b9\u30af\u540d\u306e\u914d\u5217\u3092\u8fd4\u3059\n* \u4f7f\u7528\u4f8b\n    * .o\u3068\u3044\u3046\u62e1\u5f35\u5b50\u3092\u6301\u3064\u30b3\u30f3\u30d1\u30a4\u30eb\u5f8c\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u5fc5\u8981\u306a\u30bf\u30b9\u30af\n        * \u81ea\u52d5\u7684\u306b.c\u3068\u3044\u3046\u62e1\u5f35\u5b50\u3092\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3068\u3044\u3046\u7528\u9014\u3067\u5229\u7528\n* \u30e1\u30ea\u30c3\u30c8\n    * \u76f4\u63a5\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u8a18\u8ff0\u305b\u305a\u306b\u6e08\u3080\n\n\n``` ruby:\u30eb\u30fc\u30eb\u306e\u4f8b\n### t.source\u304c.c\u30d5\u30a1\u30a4\u30eb\u3001t.name\u304c.o\u30d5\u30a1\u30a4\u30eb\nrule '.o' => ['.c'] do |t|\n  sh \"cc #{t.source} -c -o #{t.name}\"\nend\n```\n\n## \u30b0\u30eb\u30fc\u30d7\u5316\n\n* \u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u30b0\u30eb\u30fc\u30d7\u5316\u3059\u308b\n    * namespace\u30e1\u30bd\u30c3\u30c9\n\n``` ruby:\u30b0\u30eb\u30fc\u30d7\u5316\n$ vi Rakefile5\n==========================\n# coding: utf-8\nnamespace :check do\n  desc '\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af'\n  task :log do\n  end\n\n  desc 'yaml\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af'\n  task :yml do\n  end\nend\n==========================\n\n### check:hoge \u306e\u5f62\u5f0f\u3067\u30bf\u30b9\u30af\u304c\u8868\u793a\u3055\u308c\u308b\n$ rake -f Rakefile5 -T\n==========================\nrake check:log  # \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af\nrake check:yml  # yaml\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af\n==========================\n\n### namespace\u81ea\u4f53\u3092\u5165\u308c\u5b50\u306b\u3059\u308b\n$ vi Rakefile6\n==========================\n# coding: utf-8\nnamespace :make do\n   namespace :report do\n    desc '\u65e5\u6642\u30ec\u30dd\u30fc\u30c8\u306e\u4f5c\u6210'\n    task :daily_report do\n    end\n\n    desc '\u9031\u6b21\u30ec\u30dd\u30fc\u30c8\u306e\u4f5c\u6210'\n    task :weekly_report do\n    end\n  end\n\n  namespace :history do\n    desc '\u30e1\u30cb\u30e5\u30fc\u5c65\u6b74\u4f5c\u6210'\n    task :menu do\n    end\n\n   desc '\u63a5\u7a2e\u30ab\u30ed\u30ea\u30fc\u5c65\u6b74\u4f5c\u6210'\n   task :calorie do\n   end\n  end\nend\n==========================\n\n### make:hoge:fuga \u306e\u5f62\u5f0f\u3067\u30bf\u30b9\u30af\u304c\u8868\u793a\u3055\u308c\u308b\n$ rake -f Rakefile6 -T\n==========================\nrake make:history:calorie       # \u63a5\u7a2e\u30ab\u30ed\u30ea\u30fc\u5c65\u6b74\u4f5c\u6210\nrake make:history:menu          # \u30e1\u30cb\u30e5\u30fc\u5c65\u6b74\u4f5c\u6210\nrake make:report:daily_report   # \u65e5\u6642\u30ec\u30dd\u30fc\u30c8\u306e\u4f5c\u6210\nrake make:report:weekly_report  # \u9031\u6b21\u30ec\u30dd\u30fc\u30c8\u306e\u4f5c\u6210\n==========================\n```\n\n## Rake\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3064\u3044\u3066\n\n* \u8868\u8a18\u65b9\u6cd5\n    * 9\u756a\u76ee\n        * v0.9.0\n    * 10\u756a\u76ee\n        * v10.0.0\n            * \u4e00\u3064\u76ee\u306e\u6570\u5b57\u3092\u30ab\u30a6\u30f3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u5f62\u5f0f\u306b\u306a\u3063\u305f\n* v10.0.0\u3067\u306e\u5909\u66f4\u70b9\n    * \u3044\u304f\u3064\u304b\u306edeprecated\u306a\u6a5f\u80fd\u304c\u524a\u9664\u3055\u308c\u3066\u3044\u308b\n        * deprecated\u306a\u6a5f\u80fd\u3092\u5229\u7528\u3057\u3066\u3044\u306a\u3044\u306a\u3089\u3070\u5927\u304d\u306a\u554f\u984c\u306f\u7121\u3044\n\n# RubyGems\n\n* RubyGems\u3068\u306f\n    * Ruby\u306b\u304a\u3051\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\n    * Ruby1.9\u304b\u3089\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u542b\u307e\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\n    * \u7528\u9014\n        * \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3001\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n        * \u30d1\u30c3\u30b1\u30fc\u30b8\u540c\u58eb\u306e\u4f9d\u5b58\u95a2\u4fc2\u306e\u89e3\u6c7a\n        * \u74b0\u5883\u5185\u306b\u542b\u307e\u308c\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u691c\u7d22\n    * gem\n        * RubyGems\u306e\u7565\u79f0\n        * \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3084\u3055\u3059\u5bfe\u8c61\u306b\u3088\u3063\u3066\u610f\u5473\u304c\u7570\u306a\u308b\n            * gem\u30d1\u30c3\u30b1\u30fc\u30b8 : RubyGems\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3084\u30b3\u30de\u30f3\u30c9\u3092\u307e\u3068\u3081\u305f\u3082\u306e\n            * gem\u30b3\u30de\u30f3\u30c9 : gem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u30b3\u30de\u30f3\u30c9\n\n## gem\u30b3\u30de\u30f3\u30c9\n\n* \u30b3\u30de\u30f3\u30c9\u4f53\u7cfb\n    * gem\u306e\u5f8c\u306b\u7d9a\u3051\u3066\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3092\u6307\u5b9a\u3059\u308b\n    * \u30b3\u30de\u30f3\u30c9\n        * gem help : \u30d8\u30eb\u30d7\u3092\u8868\u793a\u3059\u308b\n        * gem (gem\u30b3\u30de\u30f3\u30c9) example : (gem\u30b3\u30de\u30f3\u30c9)\u306e\u5229\u7528\u4f8b\u304c\u8868\u793a\u3055\u308c\u308b\n* \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u78ba\u8a8d\n    * \u30b3\u30de\u30f3\u30c9\n        * gem install (gem\u30d1\u30c3\u30b1\u30fc\u30b8) : \u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u542b\u3081\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n            * -v : \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\n                * gem install machanize -v '< 2.2'    # 2.2\u3088\u308a\u4e00\u3064\u53e4\u3044\n                * gem install machanize -v '>= 2.2'   # 2.2\u304b\u305d\u308c\u3088\u308a\u65b0\u3057\u3044\n                * gem install machanize -v '~> 0.8'   # 0.X\u7cfb\u3067\u4e00\u756a\u65b0\u3057\u3044\n                * gem install machanize -v '~> 0.8.0' # 0.8\u7cfb\u3067\u4e00\u756a\u65b0\u3057\u3044\n        * gem list : \u30b7\u30b9\u30c6\u30e0\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3059\u308b\n            * --remote : \u30b5\u30fc\u30d0\u5074\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n            * --pre : RC(Release Candidate:\u30ea\u30ea\u30fc\u30b9\u5019\u88dc)\u7248\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n        * gem search : \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u63a2\u3059\n            * \u4f8b\n                * gem search mechanize --remote : meahanize\u3068\u540d\u306e\u3064\u304f\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u691c\u7d22\u3059\u308b\n        * gem query : \u6b63\u898f\u8868\u73fe\u3067\u691c\u7d22\u3059\u308b\n            * \u4f8b\n                * gem query -r --name-matches='^active*'\n        * gem update : \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\n            * \u5f15\u6570\u306bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6307\u5b9a\u3059\u308b\u3068\u305d\u306egem\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u4f9d\u5b58\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u6700\u65b0\u7248\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3055\u308c\u308b\n            * gem update --system : RubyGems\u81ea\u8eab\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\n        * gem uninstall : gem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n            * \u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u884c\u308f\u308c\u306a\u3044\n            * -v \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\n            * -a \u5168\u30d0\u30fc\u30b8\u30e7\u30f3\n            * \u4f8b\n                * gem uninstall mechanize -v '2.2.1'\n                * gem uninstall mechanize -a\n        * gem cleanup : \u6700\u65b0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6b8b\u3057\u3066\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306egem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u524a\u9664\u3059\u308b\n            * -d (--dryrun) : \u30c9\u30e9\u30a4\u30e9\u30f3\n        * gem prinstine : gem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u72b6\u614b\u306b\u623b\u3059\n            * gem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u76f4\u63a5\u7de8\u96c6\u3057\u3066\u52d5\u4f5c\u3092\u5909\u66f4\u3057\u305f\u5834\u5408\u306a\u3069\n            * \u4f8b\n                * gem pristine pry ### pry\u3092\u521d\u671f\u72b6\u614b\u306b\u623b\u3059\n                * gem pristine pry -v 0.9.8.4  ### \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\n                * gem pristine --all  ### \u5168\u3066\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u521d\u671f\u72b6\u614b\u306b\u623b\u3059\n        * gem server : RDoc\u3092\u53c2\u7167\u3059\u308b\u305f\u3081\u306e\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u3092\u305f\u3066\u308b\n            * \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u5f8c\u3001\u8868\u793a\u3055\u308c\u308b\u30a2\u30c9\u30ec\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3067\u304d\u308b\n            * --no-rdoc --no-ri\n                * \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u751f\u6210\u3092\u7701\u7565\u3059\u308b\n                * \u672c\u756a\u74b0\u5883\u7b49\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u5fc5\u8981\u306a\u3044\n                * YARD\u3068\u3044\u3046\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30c4\u30fc\u30eb\u304c\u4e3b\u6d41\u306b\u306a\u3063\u3066\u304d\u3066\u3044\u308b\n        * gem environment : RubyGems\u306e\u56fa\u6709\u60c5\u5831\u306e\u78ba\u8a8d\n            * \u30d0\u30fc\u30b8\u30e7\u30f3\u3084config\u306a\u3069\n* .gemrc\n    * \u6bce\u56de\u6c7a\u307e\u3063\u3066\u4ed8\u4e0e\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\n        * \u4f8b\n        * gem: --no-rdoc --no-ri # \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306brdoc,ri\u3092\u751f\u6210\u3057\u306a\u3044\n        * :verbose: true # \u8a73\u7d30\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a\n\n# Bundler\n\n* \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u5229\u7528\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5b9a\u7fa9\u3057\u3001\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\n    * \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7c73\u306bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u9589\u3058\u8fbc\u3081\u308b\n    * \u7279\u5b9a\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u307f\u304c\u5229\u7528\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u7c21\u5358\u306b\u7ba1\u7406\u3067\u304d\u308b\n\n\n## Bundler\u306e\u7279\u5fb4\n\n### Gemfile\n\n* Gemfile\n    * \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u5229\u7528\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5217\u6319\u3055\u308c\u3066\u3044\u308b\n* \u5229\u7528\u306e\u6d41\u308c\n    * \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n        * gem install bundler\n    * bundler init\u3067Gemfile\u4f5c\u6210\n    * \u4f7f\u7528\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5217\u6319\u3059\u308b\n    * bundler install\u3092\u5b9f\u65bd\n* Gemfile.lock\n    * bundler install\u5f8c\u306b\u4f5c\u6210\u3055\u308c\u308b\n    * gem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\u3057\u305f\u7d50\u679c\u304c\u66f8\u304d\u51fa\u3055\u308c\u308b\n    * \u30d0\u30fc\u30b8\u30e7\u30f3\u307e\u3067\u7d30\u304b\u304f\u66f8\u304b\u308c\u3066\u3044\u308b\n        * \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u56fa\u5b9a\u3067\u304d\u308b\n            * \u8907\u6570\u4eba\u3067\u958b\u767a\u3057\u3066\u3082\u540c\u3058\u30d0\u30fc\u30b8\u30e7\u30f3\u306egem\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u958b\u767a\u3067\u304d\u308b\n* \u660e\u793a\u7684\u306b\u4f9d\u5b58\u95a2\u4fc2\u3092\u518d\u5ea6\u66f4\u65b0\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    * bundler update\n* gem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\n    * bundle install --path vendor/bundle\n        * \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5185\u306b\u9589\u3058\u8fbc\u3081\u3089\u308c\u308b\n        * \u4e00\u5ea6path\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u79fb\u884c\u306f\u305d\u306epath\u306e\u5834\u6240\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3046\n    * \u6ce8\u610f\n        * \u3053\u306e\u72b6\u614b\u3067gem list\u3092\u5b9f\u884c\u3057\u3066\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fgem\u306f\u8868\u793a\u3055\u308c\u306a\u3044\n        * \u8868\u793a\u3059\u308b\u65b9\u6cd5\n            * bundle exec gem list\n            * bundle exec\u306fbundle install\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5bfe\u3057\u3066\u30d1\u30b9\u3092\u89e3\u6c7a\u3057\u3066\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\n            * bundle list\u898b\u308b\u3053\u3068\u304c\u591a\u3044\n        * \u666e\u901a\u306brequire\u3057\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u306a\u3044\n        * require\u3059\u308b\u65b9\u6cd5\n            * Ruby\u30d7\u30ed\u30b0\u30e9\u30e0\u4e2d\u3067Bundle.require\u3092\u5b9f\u884c\u3059\u308b\n            * Bundle.require\u306f\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aad\u307f\u8fbc\u307f\u30d1\u30b9\u3092\u89e3\u6c7a\u3059\u308b\n            * Gemfile\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u81ea\u52d5\u3067require\u3059\u308b\n\n\n``` ruby:bundler\n### bundler init\u5b9f\u884c\u76f4\u5f8c\n==========================\n# A sample Gemfile\nsource \"https://rubygems.org\"   ### gem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u53c2\u7167\u5148\n\n# gem \"rails\"\n==========================\n\n### tapp 1.5.0\u3092\u4f7f\u7528\n==========================\n# A sample Gemfile\nsource \"https://rubygems.org\"\n\ngem \"tapp\", '1.5.0'\n==========================\n\n### bundle install\u5b9f\u884c\u5f8c\u306b\u4f5c\u6210\u3055\u308c\u308bGemfile.lock\n==========================\nGEM\n  remote: https://rubygems.org/\n  specs:\n    tapp (1.5.0)\n      thor\n    thor (0.19.1)\n\nPLATFORMS\n  ruby\n\nDEPENDENCIES\n  tapp\n\nBUNDLED WITH\n   1.10.6\n==========================\n\n### gem list\u306e\u5b9f\u884c\n$ gem list\n==========================\n*** LOCAL GEMS ***\n\nbigdecimal (1.2.6)\nbinding_of_caller (0.7.2)\nbundler (1.10.6)\n...\ntapp (1.5.0)   ### tap\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\ntest-unit (3.0.8)\nyard (0.8.7.6)\n==========================\n\n### --path\u3092\u6307\u5b9a\u3057\u305fgem\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u4e2d\u3067\u4f7f\u3046\n==========================\nrequire \"bundler\"\n\nBundler.require\nself.tapp\n==========================\n```\n\n## Bundler\u3067\u306e\u69d8\u3005\u306a\u78ba\u8a8d\u65b9\u6cd5\n\n* bundle list\n    * bundler\u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f9d\u5b58\u95a2\u4fc2\u3082\u542b\u3081\u3066\u4e00\u89a7\u3059\u308b\n        * bundler show\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u306b\u306a\u3063\u3066\u3044\u308b\n    * \u5f15\u6570\u306bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u6240\u304c\u8868\u793a\u3055\u308c\u308b\n* bundle check\n    * Gemfile\u306b\u542b\u307e\u308c\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u4f9d\u5b58\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308b\n    * \u4e00\u3064\u3067\u3082\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u8db3\u308a\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\n    * Gemfile\u3092\u53c2\u7167\u3059\u308b\u9806\u756a\n        * \u307e\u305a\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001\u306a\u3051\u308c\u3070\u4e0a\u306e\u968e\u5c64\u3092\u898b\u308b\n        * --gemfile\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u96e2\u308c\u305f\u968e\u5c64\u306eGemfile\u3082\u6307\u5b9a\u3067\u304d\u308b\n    * --dry-run\n        * Gemfile.lock\u3092\u66f4\u65b0\u305b\u305a\u306b\u5b9f\u884c\u3067\u304d\u308b\n* bundle outdated\n    * \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3068rubygems.org\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u3092\u6bd4\u8f03\u3059\u308b\n    * \u4e2d\u8eab\u306e\u6bd4\u8f03\u306f\u884c\u308f\u306a\u3044\n        * changelog\u3092\u53c2\u7167\u3059\u308b\u304byard diff\u3067\u5897\u6e1b\u3092\u6bd4\u8f03\u3059\u308b\n    * --pre\n        * \u30d7\u30ec\u30ea\u30ea\u30fc\u30b9\u7248\u3082\u542b\u3081\u3066\u6bd4\u8f03\u3059\u308b\n* bundle open\n    * \u5f15\u6570\u306b\u6307\u5b9a\u3057\u305fgem\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304f\n* bundle console\n    * Bundler\u3067\u7ba1\u7406\u3057\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4e88\u3081\u8aad\u307f\u8fbc\u3093\u3060\u4e0a\u3067IRB\u3092\u8d77\u52d5\u3059\u308b\n        * \u5f15\u6570\u3067\u30b0\u30eb\u30fc\u30d7\u304c\u6307\u5b9a\u53ef\u80fd\n\n\n``` ruby:Bundler\u3067\u306e\u78ba\u8a8d\u65b9\u6cd5\n### bundle list\n$ bundle list\n==========================\nGems included by the bundle:\n  * bundler (1.8.3)\n  * tapp (1.5.0)\n  * thor (0.19.1)\n==========================\n\n### gem\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u6240\u3092\u8868\u793a\n$ bundle list tapp\n==========================\n/Users/ftakao2007/work/ruby/tmp/vendor/bundle/ruby/2.2.0/gems/tapp-1.5.0\n==========================\n\n### \u4f9d\u5b58\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u4e8b\u3092\u78ba\u8a8d\n$ bundle check\n==========================\nThe Gemfile's dependencies are satisfied\n==========================\n\n### \u30c1\u30a7\u30c3\u30af\u3059\u308bGemfile\u306e\u30d1\u30b9\u3092\u6307\u5b9a\n$ bundle check --gemfile ./Gemfile\n\n### \u30ed\u30fc\u30ab\u30eb\u3068rubygems.org\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6bd4\u8f03\n$ bundle outdated\n\n### \u30d7\u30ec\u30ea\u30ea\u30fc\u30b9\u7248\u3082\u542b\u3081\u3066\u6bd4\u8f03\n$ bundle outdated --pre\n\n### \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304f\n$ bundle open tapp\n==========================\n\" ============================================================================\n\" Netrw Directory Listing                                        (netrw v140)\n\"   /Users/ftakao2007/work/ruby/tmp/vendor/bundle/ruby/2.2.0/gems/tapp-1.5.0\n\"   Sorted by      name\n\"   Sort sequence: [\\/]$,\\<core\\%(\\.\\d\\+\\)\\=\\>,\\.h$,\\.c$,\\.cpp$,*,\\.o$,\\.obj$,\\.info$,\\.swp$,\\.bak$,\\~$\n\"   Quick Help: <F1>:help  -:go up dir  D:delete  R:rename  s:sort-by  x:exec\n\" ============================================================================\n../\nbin/\n...\n==========================\n\n### Bundler\u3067\u7ba1\u7406\u3057\u3066\u3044\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8aad\u307f\u8fbc\u3093\u3060\u4e0a\u3067irb\u3092\u8d77\u52d5\n$ bundle console\n==========================\nirb(main):001:0>\n==========================\n```\n\n## \u4e00\u6b69\u8e0f\u307f\u8fbc\u3093\u3060Bundler\u306e\u4f7f\u3044\u65b9\n\n* gem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30b0\u30eb\u30fc\u30d7\u5316\n    * \u958b\u767a\u7528\u9014\u306e\u307f\u3067\u5229\u7528\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30b0\u30eb\u30fc\u30d7\u5316\u3059\u308b\u306a\u3069\u3067\u4f7f\u3048\u308b\n* without\u30aa\u30d7\u30b7\u30e7\u30f3\n    * \u7279\u5b9a\u306e\u30b0\u30eb\u30fc\u30d7\u306egem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u9664\u3044\u3066bundle install\u3059\u308b\n    * .bundle/config\u306b\u8a18\u8ff0\u3057\u3066\u3082\u3088\u3044\n        * BUNDLE_WITHOUT: development:test\n            * \u30b3\u30ed\u30f3\u533a\u5207\u308a\u3067\u8907\u6570\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u6307\u5b9a\u3067\u304d\u308b\n* binstubs\u30aa\u30d7\u30b7\u30e7\u30f3\n    * bundle exec\u7121\u3057\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\n    * Gemfile\u304c\u5b58\u5728\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u540c\u3058\u968e\u5c64\u306bbin\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n        * gem\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u4ed8\u968f\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092bin\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3059\u308b\n    * \u5225\u306e\u89e3\u6c7a\u65b9\u6cd5\u3068\u3057\u3066\u30b3\u30de\u30f3\u30c9\u30a8\u30a4\u30ea\u30a2\u30b9\u3067alias be='bundle exec'\u3068\u3059\u308b\u4e8b\u304c\u3088\u304f\u3042\u308b\n\n``` shell:\u4e00\u6b69\u8e0f\u307f\u8fbc\u3093\u3060Bundler\u306e\u4f7f\u3044\u304b\u305f\n### gem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30b0\u30eb\u30fc\u30d7\u5316\u306e\u4f8b\n$ cat Gemfile\n==========================\nsource \"https://rubygems.org\"\n\ngem 'sinatra'\n\ngroup :development do\n  gem 'awesome_print'\nend\n\ngroup :test do\n  gem 'rspec'\nend\n==========================\n\n### \u74b0\u5883\u3092\u8907\u6570\u6307\u5b9a\n==========================\ngroup :development, :test do\n  gem 'pry'\nend\n==========================\n\n### development\u3068test\u30b0\u30eb\u30fc\u30d7\u3092\u9664\u3044\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ bundle install --without development test\n```\n\n* \u305d\u306e\u4ed6gem\u30d5\u30a1\u30a4\u30eb\u306e\u4f7f\u3044\u65b9\n    * \u53d6\u5f97\u5148\u3067git\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u6307\u5b9a\u53ef\u80fd\n    * \u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u5143\u306b\u8a2d\u5b9a\u3067\u304d\u308b\n    * Bundler.require\n        * Gemfile\u306b\u8a18\u8ff0\u3057\u305fgem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u307e\u3068\u3081\u3066require\u3059\u308b\n        * :require => false\u3068\u3059\u308b\u3068\u5bfe\u8c61\u5916\u306b\u306a\u308b\n        * :require => '(require\u3055\u305b\u305f\u3044\u30e9\u30a4\u30d6\u30e9\u30ea)'\u3067\u6307\u5b9a\u3057\u305f\u3082\u306e\u306e\u307frequire\u3067\u304d\u308b\n        * :platform => :(\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u540d)\u3067\u7279\u5b9a\u306eRuby\u306e\u51e6\u7406\u7cfb\u306e\u307f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6307\u5b9a\u3067\u304d\u308b\n\n\n``` shell:gem\u30d5\u30a1\u30a4\u30eb\u306e\u4f7f\u3044\u65b9\n### \u53d6\u5f97\u5148\u306bgit\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u6307\u5b9a\n==========================\ngem 'pry', :git => 'https://github.com/pry/pry.git'\n==========================\n\n### github\u306e\u5834\u5408\u306fURL\u3092\u7701\u7565\u3067\u304d\u308b(\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/\u30ea\u30dd\u30b8\u30c8\u30ea\u540d)\n==========================\ngem 'pry', :github => 'pry/pry'\n==========================\n\n### \u30d6\u30e9\u30f3\u30c1\u3001\u30bf\u30b0\u3001\u30b3\u30df\u30c3\u30c8\u30cf\u30c3\u30b7\u30e5\u6307\u5b9a\n==========================\n# \u30d6\u30e9\u30f3\u30c1\ngem 'rails', :git => 'https://github.com/rails/rails.git', :branch => '3-2-stable'\n\n# \u30bf\u30b0\ngem 'rails', :git => 'https://github.com/rails/rails.git', :tag => 'v3.2.9.rc3'\n\n# \u30b3\u30df\u30c3\u30c8\u30cf\u30c3\u30b7\u30e5\ngem 'rails', :git => 'https://github.com/rails/rails.git', :ref => '2d4068dbeff7313ab332538b3934cfbf10445104'\n==========================\n\n### \u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\n==========================\ngem 'yard', :path => '/home/vagrant/gem/yard'\n==========================\n\n### Bundler.require\u306e\u5236\u5fa1\n==========================\n# require\u3057\u306a\u3044\ngem 'tapp', :require => false\n\n# \u7279\u5b9a\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u307f\ngem 'activesupport', :require => 'acrive_support/core_ext/numeric'\n\n# \u7279\u5b9a\u306eRuby\u51e6\u7406\u7cfb\u306e\u3068\u304d\u306e\u307f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngem 'nokogiri', :platform => :jruby\n==========================\n```\n\n## bundle package\n\n* \u30ed\u30fc\u30ab\u30eb\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u3042\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n* bundle package\n    * gem\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u4fdd\u5b58\u3059\u308b\u30b3\u30de\u30f3\u30c9\n        * \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u306a\u3044\u5834\u5408\u3067\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\n    * vendor/cache\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u308b\n* bundle install --local\n    * vendor/cache\u306b\u3042\u308b\u3082\u306e\u3092\u5229\u7528\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n``` shell:bundle_package\n### \u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\n$ bundle package\n==========================\nUsing thor 0.19.1\nUsing tapp 1.5.0\nUsing bundler 1.8.3\nBundle complete! 1 Gemfile dependency, 3 gems now installed.\nBundled gems are installed into ./vendor/bundle.\nUpdating files in vendor/cache\n  * thor-0.19.1.gem\n  * tapp-1.5.0.gem\n==========================\n\n### \u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\n$ ls vendor/cache/\n==========================\ntapp-1.5.0.gem\tthor-0.19.1.gem\n==========================\n\n### \u3044\u3063\u305f\u3093\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u524a\u9664\n$ rm -r vendor/cache/\n\n### \u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ bundle install --local\n==========================\nUsing thor 0.19.1\nUsing tapp 1.5.0\nUsing bundler 1.8.3\nBundle complete! 1 Gemfile dependency, 3 gems now installed.\nBundled gems are installed into ./vendor/bundle.\n==========================\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\n$ bundle check\n==========================\nThe Gemfile's dependencies are satisfied\n==========================\n```\n\n# gem\u30d1\u30c3\u30b1\u30fc\u30b8\u4f5c\u6210\n\n* \u69d8\u3005\u306a\u96db\u5f62\u306e\u4f5c\u6210\u306e\u4ed5\u65b9\u304c\u3042\u308b\n    * \u3053\u3053\u3067\u306fBundler\u3092\u4f7f\u3063\u3066\u96db\u5f62\u3092\u4f5c\u308b\n\n## \u96db\u5f62\u3092\u4f5c\u6210\n\n``` shell\n### \u96db\u5f62\u3092\u4f5c\u308b\n$ bundle gem gem_sample_pruby\n==========================\nCreating gem 'gem_sample_pruby'...\n      create  gem_sample_pruby/Gemfile\n      create  gem_sample_pruby/.gitignore\n      create  gem_sample_pruby/lib/gem_sample_pruby.rb\n      create  gem_sample_pruby/lib/gem_sample_pruby/version.rb\n      create  gem_sample_pruby/gem_sample_pruby.gemspec\n      create  gem_sample_pruby/Rakefile\n      create  gem_sample_pruby/README.md\n      create  gem_sample_pruby/bin/console\n      create  gem_sample_pruby/bin/setup\n      create  gem_sample_pruby/CODE_OF_CONDUCT.md\n      create  gem_sample_pruby/LICENSE.txt\n      create  gem_sample_pruby/.travis.yml\n      create  gem_sample_pruby/.rspec\n      create  gem_sample_pruby/spec/spec_helper.rb\n      create  gem_sample_pruby/spec/gem_sample_pruby_spec.rb\nInitializing git repo in /Users/200135/work/ruby/gem/gem_sample_pruby\n==========================\n```\n\n\n# rbenv\n\n## rbenv\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30b7\u30b9\u30c6\u30e0\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002ruby\u306f2.2.2\u3002\n\n### CentOS6.5\n\n``` bash:rbenv_install\n### \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \n$ sudo yum install -y gcc gcc-c++ make patch unzip bzip2-devel zlib-devel openssl-devel gdbm-devel ncurses-devel freetype-devel readline-devel sqlite-devel libxml2-devel libxslt-devel libffi-devel libjpeg-turbo-devel libpng-devel libyaml-devel\n\n$ sudo visudo\n==================================\n### rbenv\u3067sudo\u3092\u4f7f\u3063\u3066\u3082path\u304c\u901a\u308b\u3088\u3046\u306b\u8ffd\u52a0\nDefaults env_keep += \"PATH RBENV_ROOT\"\n\n### secure_path\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u5148\u982d\u306brbenv\u306ePATH\u3092\u8ffd\u52a0\nDefaults    secure_path = /usr/local/rbenv/bin:/usr/local/rbenv/shims:/sbin:/bin:/usr/sbin:/usr/bin\n==================================\n\n### rbenv\u95a2\u9023\u30d1\u30c3\u30b1\u30fc\u30b8\u3092clone\n$ cd /usr/local\n$ sudo git clone git://github.com/sstephenson/rbenv.git rbenv\n$ sudo git clone git://github.com/sstephenson/ruby-build.git rbenv/plugins/ruby-build\n \n### ruby-build\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ cd rbenv/plugins/ruby-build/\n$ sudo ./install.sh\n \n### rbenv\u304c\u4f7f\u3046\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\n$ sudo vi /etc/profile.d/rbenv.sh\n==================================\nexport RBENV_ROOT=\"/usr/local/rbenv\"\nexport PATH=\"/usr/local/rbenv/bin:$PATH\"\neval \"$(rbenv init -)\"\n==================================\n$ sudo source /etc/profile.d/rbenv.sh\n \n### ruby2.2.2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u4f7f\u3046\u3088\u3046\u306b\u8a2d\u5b9a\n$ sudo rbenv install -l\n$ sudo rbenv install 2.2.2\n$ sudo rbenv global 2.2.2\n$ sudo rbenv rehash\n\n### \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo gem install bundler -q --no-rdoc --no-ri\n$ sudo gem install pry pry-doc\n```\n\n# Serverspec\n\u30b5\u30fc\u30d0\u30fc\u306e\u81ea\u52d5\u30c6\u30b9\u30c8\u3092\u5b9f\u73fe\u3059\u308b\u30c4\u30fc\u30eb\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30c6\u30b9\u30c8\n\n``` shell\n$ cd ~\n$ mkdir serverspec\n$ cd serverspec\n\n### Gemfile\u306e\u4f5c\u6210\n$ vi Gemfile\n================================================\nsource 'https://rubygems.org'\n\ngem 'serverspec'\ngem 'rake'\ngem 'highline'\n================================================\n\n### vendor/bundle\u914d\u4e0b\u306bgem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ bundle install --path=vendor/bundle\n\n### \u521d\u671f\u8a2d\u5b9a\n$ bundle exec serverspec-init\n================================================\nSelect OS type:\n\n  1) UN*X\n  2) Windows\n\nSelect number: 1\n\nSelect a backend type:\n\n  1) SSH\n  2) Exec (local)\n\nSelect number: 1\n\nVagrant instance y/n: n\nInput target host name: 127.0.0.1\n + spec/\n + spec/127.0.0.1/\n + spec/127.0.0.1/sample_spec.rb\n + spec/spec_helper.rb\n + Rakefile\n + .rspec\n================================================\n\n$ rm spec/127.0.0.1/sample_spec.rb\n$ vi spec/127.0.0.1/ssh_port_spec.rb\n================================================\nrequire 'spec_helper'\nset :request_pty, true\n\ndescribe port(22) do\n  it { should be_listening }\nend\n================================================\n\n$ bundle exec rake spec:127.0.0.1\n```\n\n## role\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u305f\u3044\n\n\u672c\u5bb6\u306e\u300c[How to use host specific properties](http://serverspec.org/advanced_tips.html)\u300d\u306e\u901a\u308a\u3060\u3068\u52d5\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u7de8\u96c6\u500b\u6240\u3092\u30e1\u30e2\u66f8\u304d\u3002\n\n``` shell\n### \u30c6\u30b9\u30c8\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u524a\u9664\nrm -rf spec/127.0.0.1\n\n### Rake\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\n$ vi Rakefile\n$ cat Rakefile\n================================================\nrequire 'rake'\nrequire 'rspec/core/rake_task'\nrequire 'yaml'   ### \u3053\u3053\u8ffd\u52a0\n\nproperties = YAML.load_file('properties.yml')  ### \u3053\u3053\u8ffd\u52a0\n\ndesc \"Run serverspec to all hosts\"\ntask :spec => 'spec:all'  ### serverspec\u3092spec\u306b\u5909\u66f4\n\nnamespace :spec do  ### serverspec\u3092spec\u306b\u5909\u66f4\n  task :all => properties.keys.map {|key| 'spec:' + key.split('.')[0] }  ### serverspec\u3092spec\u306b\u5909\u66f4\n  properties.keys.each do |key|\n    desc \"Run serverspec to #{key}\"\n    RSpec::Core::RakeTask.new(key.to_sym) do |t|  ### \u3053\u3053\u306esplit\u306a\u3093\u3068\u304b\u3092\u6d88\u3059\n      ENV['TARGET_HOST'] = key\n      t.pattern = 'spec/{' + properties[key][:roles].join(',') + '}/*_spec.rb'\n    end\n  end\nend\n================================================\n\n### spec/spec_helper.rb\u306e\u7de8\u96c6\n$ vi spec/spec_helper.rb\n$ cat spec/spec_helper.rb\n================================================\nrequire 'serverspec'\nrequire 'net/ssh'\nrequire 'yaml'  ### \u3053\u3053\u8ffd\u52a0\n\nproperties = YAML.load_file('properties.yml')  ### \u3053\u3053\u8ffd\u52a0\n\nset :backend, :ssh\n\nif ENV['ASK_SUDO_PASSWORD']\n  begin\n    require 'highline/import'\n  rescue LoadError\n    fail \"highline is not available. Try installing it.\"\n  end\n  set :sudo_password, ask(\"Enter sudo password: \") { |q| q.echo = false }\nelse\n  set :sudo_password, ENV['SUDO_PASSWORD']\nend\n\nhost = ENV['TARGET_HOST']\nset_property properties[host]  ### \u3053\u3053\u8ffd\u52a0\n\noptions = Net::SSH::Config.for(host)\n\noptions[:user] ||= Etc.getlogin\n\nset :host,        options[:host_name] || host\nset :ssh_options, options\n\n# Disable sudo\n# set :disable_sudo, true\n\n\n# Set environment variables\n# set :env, :LANG => 'C', :LC_MESSAGES => 'C'\n\n# Set PATH\n# set :path, '/sbin:/usr/local/sbin:$PATH'\n================================================\n\n### \u30c6\u30b9\u30c8\u304c\u901a\u3089\u306a\u3044\u3068\u304dserverspec\u81ea\u4f53\u304c\u30a8\u30e9\u30fc\u7d42\u4e86\u3059\u308b\u3053\u3068\u306e\u5bfe\u5fdc(\u3044\u3044\u306e\u304b\u306a\u3002\u3002)\n### serverspec 2.24.3 \u304b\u3089\u306f\u4ee5\u4e0b\u3084\u3089\u306a\u304f\u3066\u3082\u30a8\u30e9\u30fc\u3067\u306a\u304f\u306a\u3063\u305f\u307f\u305f\u3044\u3067\u3059\n$ cp -ip /home/${USER}/serverspec/vendor/bundle/ruby/2.2.0/gems/serverspec-2.24.2/lib/serverspec.rb\n$ vi /home/${USER}/serverspec/vendor/bundle/ruby/2.2.0/gems/serverspec-2.24.2/lib/serverspec.rb\n$ diff -u /tmp/serverspec.rb /home/${USER}/serverspec/vendor/bundle/ruby/2.2.0/gems/serverspec-2.24.2/lib/serverspec.rb\n================================================\n--- /tmp/serverspec.rb  2015-11-12 20:23:09.535833632 +0900\n+++ /home/${USER}/serverspec/vendor/bundle/ruby/2.2.0/gems/serverspec-2.24.2/lib/serverspec.rb  2015-11-12 20:19:54.723834767 +0900\n@@ -43,7 +43,7 @@\n         begin\n           lines = []\n           lines << \"On host `#{host}'\" if host\n-          lines << failure_slash_error_line unless (description == failure_slash_error_line)\n+          #lines << failure_slash_error_line unless (description == failure_slash_error_line)\n           lines << \"#{exception_class_name}:\" unless exception_class_name =~ /RSpec/\n           encoded_string(exception.message.to_s).split(\"\\n\").each do |line|\n             lines << \"  #{line}\"\n================================================\n\n### properties.yml\u306e\u4f5c\u6210\n$ vi properties.yml\n$ cat properties.yml\n================================================\n127.0.0.1:\n  :roles:\n    - base\n  :listen_port: 22\n================================================\n\n### base\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n$ mkdir spec/base\n$ vi spec/base/ssh_port_spec.rb\n$ cat spec/base/ssh_port_spec.rb\n================================================\nrequire 'spec_helper'\nset :request_pty, true\n\ndescribe port(property[:listen_port]) do\n  it { should be_listening }\nend\n================================================\n\n### \u30b3\u30de\u30f3\u30c9\u306e\u78ba\u8a8d\n$ rake -T\n================================================\nrake spec            # Run serverspec to all hosts\nrake spec:127.0.0.1  # Run serverspec to 127.0.0.1\n================================================\n\n### \u5b9f\u884c\n$ bundle exec rake spec:127.0.0.1\n```\n\n\n## \u30b5\u30f3\u30d7\u30eb\n\n* [github\u306b\u4e0a\u3052\u3066\u308b\u500b\u4eba\u7684\u306b\u4f5c\u3063\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb](https://github.com/ftakao2007/spec)\n", "tags": ["rbenv0.4.0", "pry", "rake", "Gem"]}