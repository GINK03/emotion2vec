{"context": " More than 1 year has passed since last update.Capistrano3\u3067Unicorn+Nginx\u306a\u74b0\u5883\u306bRails\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b:\u521d\u5fc3\u8005\u5411\u3051\u3067\u3001\u30c7\u30d7\u30ed\u30a4\u81ea\u4f53\u306f\u3067\u304d\u308b\u3082\u306e\u306e\u3001\u30c7\u30d7\u30ed\u30a4\u5148\u3067rails console\u3057\u305f\u3044\u3068\u304d\u3063\u3066\u3069\u3046\u3059\u308a\u3083\u3044\u3044\u3093\u3060\u2026\u3068\u601d\u3063\u305f\u3089\u3001capistrano-rails-console\u3068\u3044\u3046\u4fbf\u5229\u306agem\u304c\u3042\u3063\u305f\u3002\n\n\u8a2d\u5b9a\n\nGemfile\n# \u74b0\u5883\u5909\u6570\u7ba1\u7406\ngem 'dotenv-rails'\n\ngem 'rb-readline'\n\ngroup :development, :test do\n  # \u30c7\u30d7\u30ed\u30a4\u5468\u308a\n  gem 'capistrano', '~> 3.2.1'\n  gem 'capistrano-rails'\n  gem 'capistrano-rbenv'\n  gem 'capistrano-bundler'\n  gem 'capistrano3-unicorn'\n  gem 'capistrano-rails-console' # \u624b\u5143\u306e\u74b0\u5883\u304b\u3089\u30c7\u30d7\u30ed\u30a4\u5148\u306econsole\u3092\u4f7f\u3046\nend\n\n\n\u3053\u308c\u3067\u3072\u3068\u901a\u308a\u306e\u30c7\u30d7\u30ed\u30a4\u306b\u5fc5\u8981\u306agem\u304c\u63c3\u3046\u306f\u305a\u3002\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u8d77\u52d5\n\ncommand\n$ bundle exec cap staging rails:console\n\n\n\u3053\u308c\u3067staging\u30b5\u30fc\u30d0\u306erails console\u304c\u8d77\u52d5\u3059\u308b\u306f\u305a\u3002\u624b\u5143\u3067\u30ea\u30e2\u30fc\u30c8\u30b5\u30fc\u30d0\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3044\u3058\u308c\u308b\u306e\u3067\u3001\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u30b5\u30fc\u30d0\u306e\u78ba\u8a8d\u3068\u304b\u3001\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u633f\u5165\u3068\u304b\u8d85\u4fbf\u5229\u3002\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u8d77\u52d5\u306b\u5931\u6557\u3059\u308b\u5834\u5408\n`require': cannot load such file -- readline (LoadError)\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3044\u305f\u3089\u3001readline\u304c\u306a\u3044\u306e\u3067Gemfile\u306brb-readline\u304c\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u3002\nLooks like your app's ./bin/rails is a stub that was generated by Bundler.\n\nIn Rails 4, your app's bin/ directory contains executables that are versioned\nlike any other source code, rather than stubs that are generated on demand.\n\nHere's how to upgrade:\n\n  bundle config --delete bin    # Turn off Bundler's stub generator\n  rake rails:update:bin         # Use the new Rails 4 executables\n  git add bin                   # Add bin/ to source control\n\nYou may need to remove bin/ from your .gitignore as well.\n\nWhen you install a gem whose executable you want to use in your app,\ngenerate it and add it to source control:\n\n  bundle binstubs some-gem-name\n  git add bin/new-executable\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3044\u305f\u3089\n\nconfig/deploy.rb\nset :bundle_binstubs, nil # \u8ffd\u8a18\n\n# set :linked_dirs, %w{bin log tmp/pids tmp/cache tmp/sockets bundle public/system public/assets}\n# \u2193\u306b\u5909\u66f4\uff08bin\u3092\u629c\u304f\uff09\nset :linked_dirs, %w{log tmp/pids tmp/cache tmp/sockets bundle public/system public/assets}\n\n\n\u3053\u308c\u3067\u3044\u3051\u308b\u306f\u305a\u3002\n\n[Capistrano3\u3067Unicorn+Nginx\u306a\u74b0\u5883\u306bRails\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b:\u521d\u5fc3\u8005\u5411\u3051](http://qiita.com/zaru/items/9e02706b27094ce36902)\u3067\u3001\u30c7\u30d7\u30ed\u30a4\u81ea\u4f53\u306f\u3067\u304d\u308b\u3082\u306e\u306e\u3001\u30c7\u30d7\u30ed\u30a4\u5148\u3067`rails console`\u3057\u305f\u3044\u3068\u304d\u3063\u3066\u3069\u3046\u3059\u308a\u3083\u3044\u3044\u3093\u3060\u2026\u3068\u601d\u3063\u305f\u3089\u3001`capistrano-rails-console`\u3068\u3044\u3046\u4fbf\u5229\u306agem\u304c\u3042\u3063\u305f\u3002\n\n# \u8a2d\u5b9a\n\n```ruby:Gemfile\n# \u74b0\u5883\u5909\u6570\u7ba1\u7406\ngem 'dotenv-rails'\n\ngem 'rb-readline'\n\ngroup :development, :test do\n  # \u30c7\u30d7\u30ed\u30a4\u5468\u308a\n  gem 'capistrano', '~> 3.2.1'\n  gem 'capistrano-rails'\n  gem 'capistrano-rbenv'\n  gem 'capistrano-bundler'\n  gem 'capistrano3-unicorn'\n  gem 'capistrano-rails-console' # \u624b\u5143\u306e\u74b0\u5883\u304b\u3089\u30c7\u30d7\u30ed\u30a4\u5148\u306econsole\u3092\u4f7f\u3046\nend\n```\n\n\u3053\u308c\u3067\u3072\u3068\u901a\u308a\u306e\u30c7\u30d7\u30ed\u30a4\u306b\u5fc5\u8981\u306agem\u304c\u63c3\u3046\u306f\u305a\u3002\n\n# \u30b3\u30f3\u30bd\u30fc\u30eb\u8d77\u52d5\n\n```bash:command\n$ bundle exec cap staging rails:console\n```\n\n\u3053\u308c\u3067staging\u30b5\u30fc\u30d0\u306e`rails console`\u304c\u8d77\u52d5\u3059\u308b\u306f\u305a\u3002\u624b\u5143\u3067\u30ea\u30e2\u30fc\u30c8\u30b5\u30fc\u30d0\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3044\u3058\u308c\u308b\u306e\u3067\u3001\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u30b5\u30fc\u30d0\u306e\u78ba\u8a8d\u3068\u304b\u3001\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u633f\u5165\u3068\u304b\u8d85\u4fbf\u5229\u3002\n\n## \u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u8d77\u52d5\u306b\u5931\u6557\u3059\u308b\u5834\u5408\n\n```\n`require': cannot load such file -- readline (LoadError)\n```\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3044\u305f\u3089\u3001readline\u304c\u306a\u3044\u306e\u3067Gemfile\u306b`rb-readline`\u304c\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n```\nLooks like your app's ./bin/rails is a stub that was generated by Bundler.\n\nIn Rails 4, your app's bin/ directory contains executables that are versioned\nlike any other source code, rather than stubs that are generated on demand.\n\nHere's how to upgrade:\n\n  bundle config --delete bin    # Turn off Bundler's stub generator\n  rake rails:update:bin         # Use the new Rails 4 executables\n  git add bin                   # Add bin/ to source control\n\nYou may need to remove bin/ from your .gitignore as well.\n\nWhen you install a gem whose executable you want to use in your app,\ngenerate it and add it to source control:\n\n  bundle binstubs some-gem-name\n  git add bin/new-executable\n```\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3044\u305f\u3089\n\n```ruby:config/deploy.rb\nset :bundle_binstubs, nil # \u8ffd\u8a18\n\n# set :linked_dirs, %w{bin log tmp/pids tmp/cache tmp/sockets bundle public/system public/assets}\n# \u2193\u306b\u5909\u66f4\uff08bin\u3092\u629c\u304f\uff09\nset :linked_dirs, %w{log tmp/pids tmp/cache tmp/sockets bundle public/system public/assets}\n```\n\n\u3053\u308c\u3067\u3044\u3051\u308b\u306f\u305a\u3002\n", "tags": ["capistrano", "Rails", "Ruby"]}