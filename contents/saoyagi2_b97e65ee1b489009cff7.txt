{"tags": ["distributed.net", "Perl", "\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0"], "context": "distributed.net\u3067\u306f\u5404\u53c2\u52a0\u8005\u306e\u8ca2\u732e\u5ea6\u306b\u5fdc\u3058\u305f\u30e9\u30f3\u30ad\u30f3\u30b0\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3092stats\u3068\u547c\u3073\u307e\u3059\u3002stats\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u521d\u671f\u306f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u66f4\u65b0\u3068\u3044\u3046\u3068\u3093\u3067\u3082\u306a\u3044\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u4eca\u306f1\u65e51\u56de(UTC0:00\u904e\u304e)\u66f4\u65b0\u306b\u843d\u3061\u7740\u3044\u3066\u3044\u307e\u3059\u3002\ndistributed.net\u306b\u306f\u307e\u308b\u3068\u3001\u3053\u306estats\u30c1\u30a7\u30c3\u30af\u304c\u65e5\u8ab2\u306b\u306a\u308a\u307e\u3059\u3002\u6bce\u65e5\u6bce\u65e5stats\u306e\u66f4\u65b0\u304c\u6c17\u306b\u306a\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u4eba\u3092stats\u30b8\u30e3\u30f3\u30ad\u30fc\u3068\u547c\u3073\u307e\u3059\u3002stats\u30b8\u30e3\u30f3\u30ad\u30fc\u306fstats\u304c\u66f4\u65b0\u3055\u308c\u305f\u3089\u5373\u5ea7\u306b\u30c1\u30a7\u30c3\u30af\u3057\u3066\u81ea\u5206\u306e\u9806\u4f4d\u3092\u78ba\u8a8d\u3057\u305f\u3044\u306e\u3067\u3059\u304c\u3001\u524d\u8ff0\u306e\u901a\u308a\u66f4\u65b0\u6642\u9593\u306fUTC0:00\u904e\u304e\u3002\u3053\u308c\u306f\u65e5\u672c\u6642\u9593\u3067\u306f\u5348\u524d9\u6642\u904e\u304e\u3068\u3044\u3046\u3053\u3068\u306a\u308a\u307e\u3059\u3002\u793e\u4f1a\u4eba\u306a\u3089\u4ed5\u4e8b\u3092\u3057\u3066\u3044\u308b\u6642\u9593\u3067\u3057\u3066\u3001\u5802\u3005\u3068stats\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u306e\u304c\u306f\u3070\u304b\u3089\u308c\u308b\u4eba\u3082\u591a\u3044\u3067\u3057\u3087\u3046\u3002\u3068\u3044\u3046\u3053\u3068\u3067\u3001stats\u66f4\u65b0\u5185\u5bb9\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u30e1\u30fc\u30eb\u3067\u901a\u77e5\u3059\u308b\u3088\u3046\u306b\u3057\u3088\u3046\u3001\u3068\u3044\u3046\u306e\u304c\u304a\u984c\u3067\u3059\u3002\n\nURL\u69cb\u6210\n\u307e\u305astats\u306eURL\u69cb\u6210\u3092\u77e5\u3089\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3068\u8a00\u3063\u3066\u3082\u7c21\u5358\u306a\u8a71\u3002stats\u3092\u8868\u793a\u3057\u3066\u3044\u308b\u30da\u30fc\u30b8\u306eURL\u3092\u63a7\u3048\u3066\u304a\u3051\u3070\u305d\u308c\u3067OK\u3002\u79c1\u306e\u500b\u4eba\u3068\u30c1\u30fc\u30e0\u306estats URL\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\nRC5-72\u500b\u4eba - http://stats.distributed.net/participant/psummary.php?project_id=8&id=497669\n\nRC5-72\u30c1\u30fc\u30e0 - http://stats.distributed.net/team/tmsummary.php?project_id=8&team=4504\n\nOGR-28\u500b\u4eba - http://stats.distributed.net/participant/psummary.php?project_id=28&id=497669\n\nOGR-28\u30c1\u30fc\u30e0 - http://stats.distributed.net/team/tmsummary.php?project_id=28&team=4504\n\n\n\n\u30b9\u30af\u30ea\u30d7\u30c8\nURL\u304c\u308f\u304b\u308c\u3070\u3001\u30da\u30fc\u30b8\u5185\u5bb9\u3092\u53d6\u3063\u3066\u304d\u3066\u30e1\u30fc\u30eb\u9001\u4fe1\u3059\u308b\u3068\u3044\u3046\u305f\u3060\u305d\u308c\u3060\u3051\u3067\u3059\u3002\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3068\u3044\u3046\u304b\u3001stats\u30da\u30fc\u30b8\u306e\u5185\u5bb9\u3092\u30c6\u30ad\u30b9\u30c8\u5316\u3059\u308b\u3060\u3051\u306a\u3093\u3067\u3001HTML\u30bf\u30b0\u3092\u9664\u53bb\u3059\u308b\u51e6\u7406\u304c\u5165\u308a\u307e\u3059\u3051\u308c\u3069\u3002\u5358\u7d14\u306b\u30c6\u30ad\u30b9\u30c8\u5316\u3059\u308b\u3068\u30d8\u30c3\u30c0\u3001\u30d5\u30c3\u30bf\u3001\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u3082\u5165\u3063\u3066\u304f\u308b\u306e\u3067\u3001\u3053\u308c\u3089\u306f\u9664\u53bb\u3057\u3066\u3044\u307e\u3059\u3002\u9806\u4f4d\u4e0a\u4e0b\u306e\u30de\u30fc\u30af\u304c\u753b\u50cf\u306a\u306e\u3067\u305d\u306e\u7f6e\u63db\u51e6\u7406\u3082\u5165\u3063\u3066\u3044\u305f\u308a\u3002\n\ndnetstats.pl\n#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\nuse Encode;\nuse utf8;\n\nuse LWP::Simple;\nuse Net::SMTP;\n\nmy @urllist = (\n'http://stats.distributed.net/participant/psummary.php?project_id=8&id=497669',\n'http://stats.distributed.net/team/tmsummary.php?project_id=8&team=4504',\n'http://stats.distributed.net/participant/psummary.php?project_id=28&id=497669',\n'http://stats.distributed.net/team/tmsummary.php?project_id=28&team=4504' );\nmy $smtp = 'mail.example.com';\nmy $from = 'saoyagi2@gmail.com';\nmy $to = 'saoyagi2@gmail.com';\n\n{\n    my @t = localtime( time() );\n    my $body = '';\n    for my $url ( @urllist ) {\n        my $stat = get( $url );\n        $stat =~ s/\\n//msg;\n        $stat =~ s/\\s+/ /g;\n        $stat =~ s/<\\/tr>/\\n/msg;\n        $stat =~ s/<img.*?up\\.gif.*?>/+/g;\n        $stat =~ s/<img.*?down\\.gif.*?>/-/g;\n        $stat =~ s/<.*?>//g;\n        $stat =~ s/.*Yesterday( Gnodes| Blocks|)//ms;\n        $stat =~ s/Total.*//ms;\n        $body .= \"$url\\n$stat\\n\\n\";\n    }\n\n    my $subject = sprintf( \"distributed.net stats %d-%d-%d\", $t[5] + 1900, $t[4] + 1, $t[3] );\n    my $data = <<\"DATA\";\nTo: $to\nSubject: $subject\nContent-Type: text/plain; charset=\\\"UTF-8\\\"\n\n$body\nDATA\n\n    my $mail = Net::SMTP->new( $smtp, Hello=>$smtp );\n    $mail->mail( $from );\n    $mail->to( $to );\n    $mail->data();\n    $mail->datasend( encode( 'UTF-8', $data ) );\n    $mail->dataend();\n    $mail->quit;\n}\n\n\n\u975e\u5e38\u306b\u624b\u629c\u304d\u306e\u3066\u304d\u3068\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u304c\u3001\u3053\u308c\u306b\u3088\u3063\u3066stats\u30b8\u30e3\u30f3\u30ad\u30fc\u306e\u65e5\u3005\u306e\u5e78\u798f\u5ea6\u306f\u3050\u3063\u3068\u30a2\u30c3\u30d7\u3059\u308b\u306e\u3067\u3059\u3002\u3061\u306a\u307f\u306b\u3084\u3063\u3066\u304f\u308b\u30e1\u30fc\u30eb\u306f\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\nhttp://stats.distributed.net/participant/psummary.php?project_id=8&id=497669\n\n  6345(-1) Team #Mrieke 1,279 458,200  0\n  6346(-1) daniel@haxx.se 2,658 458,059  0\n  6347(-1) xactit@gmail.com 834 457,869  0\n  6348(-1) saoyagi2 1,544 457,829  0\n  6349(-1) holmes4444@dnetc.net 30 457,777  0\n  6350(-1) rc5@tin.org 3,823 457,767  0\n  6351(-1) Participant #27,704 1,736 457,657  0\n\n\nhttp://stats.distributed.net/team/tmsummary.php?project_id=8&team=4504\n\n  69   Moo! Wrapper Project  636 37,210,197 19,368\n  70   Cows With Guns  4,863 36,813,300 0\n  71   Universe  4,793 35,331,606 0\n  72   team bukkake  4,905 35,197,114 0\n  73   Team RimArts UsersGroup  4,929 35,049,250 7,781\n  74   Final Tear Z  4,926 34,995,104 14,134\n  75   AnandTech 10635  4,929 34,381,043 66\n  76   Team 123  4,549 33,923,181 0\n  77   Kaizoku!  4,893 32,985,595 0\n  78   Ultimate Chaos  4,781 32,040,712 0\n  79   Bivio Networks  937 31,582,764 0\n\n\nhttp://stats.distributed.net/participant/psummary.php?project_id=28&id=497669\n\n  657 u_jlbrown@yoyo.rechenkraft.net 758 3,687,453  0\n  658 u_ElricM@yoyo.rechenkraft.net 489 3,676,787  0\n  659(+1) u_bsivko@yoyo.rechenkraft.net 822 3,671,123  13,205\n  660(-1) saoyagi2 833 3,669,838  1,529\n  661(+1) Harry.vanEssen@Deltares.nl 832 3,649,078  14,863\n  662(-1) barryma22@hotmail.com 834 3,648,204  13,289\n  663(+1) rus20376@s242434804.onlinehome.us 834 3,634,754  23,042\n\n\nhttp://stats.distributed.net/team/tmsummary.php?project_id=28&team=4504\n\n  118   US-Distributed  831 10,777,726 83,243\n  119   Oregon State University  13 10,608,543 0\n  120   Team Haiku  638 10,274,993 0\n  121   /dev/null  627 10,234,646 0\n  122   In it for the money 5018163  829 10,203,652 0\n  123   Final Tear Z  832 9,568,697 1,529\n  124   fcsm : fr.comp.sys.mac  788 9,173,678 0\n  125   Sun  833 8,866,007 45,346\n  126   The BBS  831 8,651,811 15,677\n  127   Team Wurst  832 8,611,603 0\n  128   Green Cats  833 8,600,854 12,682\n\nLets's cracking!!\ndistributed.net\u3067\u306f\u5404\u53c2\u52a0\u8005\u306e\u8ca2\u732e\u5ea6\u306b\u5fdc\u3058\u305f\u30e9\u30f3\u30ad\u30f3\u30b0\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3092stats\u3068\u547c\u3073\u307e\u3059\u3002stats\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u521d\u671f\u306f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u66f4\u65b0\u3068\u3044\u3046\u3068\u3093\u3067\u3082\u306a\u3044\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u4eca\u306f1\u65e51\u56de(UTC0:00\u904e\u304e)\u66f4\u65b0\u306b\u843d\u3061\u7740\u3044\u3066\u3044\u307e\u3059\u3002\n\ndistributed.net\u306b\u306f\u307e\u308b\u3068\u3001\u3053\u306estats\u30c1\u30a7\u30c3\u30af\u304c\u65e5\u8ab2\u306b\u306a\u308a\u307e\u3059\u3002\u6bce\u65e5\u6bce\u65e5stats\u306e\u66f4\u65b0\u304c\u6c17\u306b\u306a\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u4eba\u3092stats\u30b8\u30e3\u30f3\u30ad\u30fc\u3068\u547c\u3073\u307e\u3059\u3002stats\u30b8\u30e3\u30f3\u30ad\u30fc\u306fstats\u304c\u66f4\u65b0\u3055\u308c\u305f\u3089\u5373\u5ea7\u306b\u30c1\u30a7\u30c3\u30af\u3057\u3066\u81ea\u5206\u306e\u9806\u4f4d\u3092\u78ba\u8a8d\u3057\u305f\u3044\u306e\u3067\u3059\u304c\u3001\u524d\u8ff0\u306e\u901a\u308a\u66f4\u65b0\u6642\u9593\u306fUTC0:00\u904e\u304e\u3002\u3053\u308c\u306f\u65e5\u672c\u6642\u9593\u3067\u306f\u5348\u524d9\u6642\u904e\u304e\u3068\u3044\u3046\u3053\u3068\u306a\u308a\u307e\u3059\u3002\u793e\u4f1a\u4eba\u306a\u3089\u4ed5\u4e8b\u3092\u3057\u3066\u3044\u308b\u6642\u9593\u3067\u3057\u3066\u3001\u5802\u3005\u3068stats\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u306e\u304c\u306f\u3070\u304b\u3089\u308c\u308b\u4eba\u3082\u591a\u3044\u3067\u3057\u3087\u3046\u3002\u3068\u3044\u3046\u3053\u3068\u3067\u3001stats\u66f4\u65b0\u5185\u5bb9\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u30e1\u30fc\u30eb\u3067\u901a\u77e5\u3059\u308b\u3088\u3046\u306b\u3057\u3088\u3046\u3001\u3068\u3044\u3046\u306e\u304c\u304a\u984c\u3067\u3059\u3002\n\n## URL\u69cb\u6210\n\n\u307e\u305astats\u306eURL\u69cb\u6210\u3092\u77e5\u3089\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3068\u8a00\u3063\u3066\u3082\u7c21\u5358\u306a\u8a71\u3002stats\u3092\u8868\u793a\u3057\u3066\u3044\u308b\u30da\u30fc\u30b8\u306eURL\u3092\u63a7\u3048\u3066\u304a\u3051\u3070\u305d\u308c\u3067OK\u3002\u79c1\u306e\u500b\u4eba\u3068\u30c1\u30fc\u30e0\u306estats URL\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n* RC5-72\u500b\u4eba - http://stats.distributed.net/participant/psummary.php?project_id=8&id=497669\n* RC5-72\u30c1\u30fc\u30e0 - http://stats.distributed.net/team/tmsummary.php?project_id=8&team=4504\n* OGR-28\u500b\u4eba - http://stats.distributed.net/participant/psummary.php?project_id=28&id=497669\n* OGR-28\u30c1\u30fc\u30e0 - http://stats.distributed.net/team/tmsummary.php?project_id=28&team=4504\n\n## \u30b9\u30af\u30ea\u30d7\u30c8\n\nURL\u304c\u308f\u304b\u308c\u3070\u3001\u30da\u30fc\u30b8\u5185\u5bb9\u3092\u53d6\u3063\u3066\u304d\u3066\u30e1\u30fc\u30eb\u9001\u4fe1\u3059\u308b\u3068\u3044\u3046\u305f\u3060\u305d\u308c\u3060\u3051\u3067\u3059\u3002\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3068\u3044\u3046\u304b\u3001stats\u30da\u30fc\u30b8\u306e\u5185\u5bb9\u3092\u30c6\u30ad\u30b9\u30c8\u5316\u3059\u308b\u3060\u3051\u306a\u3093\u3067\u3001HTML\u30bf\u30b0\u3092\u9664\u53bb\u3059\u308b\u51e6\u7406\u304c\u5165\u308a\u307e\u3059\u3051\u308c\u3069\u3002\u5358\u7d14\u306b\u30c6\u30ad\u30b9\u30c8\u5316\u3059\u308b\u3068\u30d8\u30c3\u30c0\u3001\u30d5\u30c3\u30bf\u3001\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u3082\u5165\u3063\u3066\u304f\u308b\u306e\u3067\u3001\u3053\u308c\u3089\u306f\u9664\u53bb\u3057\u3066\u3044\u307e\u3059\u3002\u9806\u4f4d\u4e0a\u4e0b\u306e\u30de\u30fc\u30af\u304c\u753b\u50cf\u306a\u306e\u3067\u305d\u306e\u7f6e\u63db\u51e6\u7406\u3082\u5165\u3063\u3066\u3044\u305f\u308a\u3002\n\n```perl:dnetstats.pl\n#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\nuse Encode;\nuse utf8;\n\nuse LWP::Simple;\nuse Net::SMTP;\n\nmy @urllist = (\n'http://stats.distributed.net/participant/psummary.php?project_id=8&id=497669',\n'http://stats.distributed.net/team/tmsummary.php?project_id=8&team=4504',\n'http://stats.distributed.net/participant/psummary.php?project_id=28&id=497669',\n'http://stats.distributed.net/team/tmsummary.php?project_id=28&team=4504' );\nmy $smtp = 'mail.example.com';\nmy $from = 'saoyagi2@gmail.com';\nmy $to = 'saoyagi2@gmail.com';\n\n{\n\tmy @t = localtime( time() );\n\tmy $body = '';\n\tfor my $url ( @urllist ) {\n\t\tmy $stat = get( $url );\n\t\t$stat =~ s/\\n//msg;\n\t\t$stat =~ s/\\s+/ /g;\n\t\t$stat =~ s/<\\/tr>/\\n/msg;\n\t\t$stat =~ s/<img.*?up\\.gif.*?>/+/g;\n\t\t$stat =~ s/<img.*?down\\.gif.*?>/-/g;\n\t\t$stat =~ s/<.*?>//g;\n\t\t$stat =~ s/.*Yesterday( Gnodes| Blocks|)//ms;\n\t\t$stat =~ s/Total.*//ms;\n\t\t$body .= \"$url\\n$stat\\n\\n\";\n\t}\n\n\tmy $subject = sprintf( \"distributed.net stats %d-%d-%d\", $t[5] + 1900, $t[4] + 1, $t[3] );\n\tmy $data = <<\"DATA\";\nTo: $to\nSubject: $subject\nContent-Type: text/plain; charset=\\\"UTF-8\\\"\n\n$body\nDATA\n\n\tmy $mail = Net::SMTP->new( $smtp, Hello=>$smtp );\n\t$mail->mail( $from );\n\t$mail->to( $to );\n\t$mail->data();\n\t$mail->datasend( encode( 'UTF-8', $data ) );\n\t$mail->dataend();\n\t$mail->quit;\n}\n```\n\n\u975e\u5e38\u306b\u624b\u629c\u304d\u306e\u3066\u304d\u3068\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u304c\u3001\u3053\u308c\u306b\u3088\u3063\u3066stats\u30b8\u30e3\u30f3\u30ad\u30fc\u306e\u65e5\u3005\u306e\u5e78\u798f\u5ea6\u306f\u3050\u3063\u3068\u30a2\u30c3\u30d7\u3059\u308b\u306e\u3067\u3059\u3002\u3061\u306a\u307f\u306b\u3084\u3063\u3066\u304f\u308b\u30e1\u30fc\u30eb\u306f\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\nhttp://stats.distributed.net/participant/psummary.php?project_id=8&id=497669\n\n  6345(-1) Team #Mrieke 1,279 458,200  0\n  6346(-1) daniel@haxx.se 2,658 458,059  0\n  6347(-1) xactit@gmail.com 834 457,869  0\n  6348(-1) saoyagi2 1,544 457,829  0\n  6349(-1) holmes4444@dnetc.net 30 457,777  0\n  6350(-1) rc5@tin.org 3,823 457,767  0\n  6351(-1) Participant #27,704 1,736 457,657  0\n\n\nhttp://stats.distributed.net/team/tmsummary.php?project_id=8&team=4504\n\n  69   Moo! Wrapper Project  636 37,210,197 19,368\n  70   Cows With Guns  4,863 36,813,300 0\n  71   Universe  4,793 35,331,606 0\n  72   team bukkake  4,905 35,197,114 0\n  73   Team RimArts UsersGroup  4,929 35,049,250 7,781\n  74   Final Tear Z  4,926 34,995,104 14,134\n  75   AnandTech 10635  4,929 34,381,043 66\n  76   Team 123  4,549 33,923,181 0\n  77   Kaizoku!  4,893 32,985,595 0\n  78   Ultimate Chaos  4,781 32,040,712 0\n  79   Bivio Networks  937 31,582,764 0\n\n\nhttp://stats.distributed.net/participant/psummary.php?project_id=28&id=497669\n\n  657 u_jlbrown@yoyo.rechenkraft.net 758 3,687,453  0\n  658 u_ElricM@yoyo.rechenkraft.net 489 3,676,787  0\n  659(+1) u_bsivko@yoyo.rechenkraft.net 822 3,671,123  13,205\n  660(-1) saoyagi2 833 3,669,838  1,529\n  661(+1) Harry.vanEssen@Deltares.nl 832 3,649,078  14,863\n  662(-1) barryma22@hotmail.com 834 3,648,204  13,289\n  663(+1) rus20376@s242434804.onlinehome.us 834 3,634,754  23,042\n\n\nhttp://stats.distributed.net/team/tmsummary.php?project_id=28&team=4504\n\n  118   US-Distributed  831 10,777,726 83,243\n  119   Oregon State University  13 10,608,543 0\n  120   Team Haiku  638 10,274,993 0\n  121   /dev/null  627 10,234,646 0\n  122   In it for the money 5018163  829 10,203,652 0\n  123   Final Tear Z  832 9,568,697 1,529\n  124   fcsm : fr.comp.sys.mac  788 9,173,678 0\n  125   Sun  833 8,866,007 45,346\n  126   The BBS  831 8,651,811 15,677\n  127   Team Wurst  832 8,611,603 0\n  128   Green Cats  833 8,600,854 12,682\n```\n\nLets's cracking!!\n\n"}