{"tags": ["command", "Perl", "Mac"], "context": " More than 1 year has passed since last update.4.\u306e\u7d9a\u304d\n\u6700\u5f8c\u306b\u3002\n\u6298\u89d2\u306a\u306e\u3067\u3001\u30c7\u30fc\u30e2\u30f3\u306b\u3057\u3066\u3001\u81ea\u52d5\u8d77\u52d5\u306b\u3055\u305b\u3066\u307f\u308b\u3002\n\u3068\u8a00\u3063\u3066\u3082\u3001launchctl \u7528\u306e .plist \u66f8\u3044\u3066\u3001 /Library/LaunchDaemons \u306b\u7f6e\u304f\u3060\u3051\u306a\u3093\u3060\u3051\u3069\u3002\n\n.plist\n\u30ea\u30d0\u30fc\u30b9\u30c9\u30e1\u30a4\u30f3\u306f\u3001 com.bunzaemon.XXXX \u306b\u3057\u3066\u3001XXXX \u306b\u306f\u30b3\u30de\u30f3\u30c9\u540d\u304c\u5165\u308b\u5f62\u306b\u3002\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist version=\"1.0\">\n<dict>\n        <key>Label</key>\n        <string>com.bunzaemon.bl2seq</string>\n        <key>WorkingDirectory</key>\n        <string>/PATH/TO/Example</string>\n        <key>EnvironmentVariables</key>\n        <dict>\n            <key>PLACK_ENV</key>\n            <string>development</string>\n        </dict>\n        <key>ProgramArguments</key>\n        <array>\n                <string>/PATH/TO/plackup</string>\n                <string>-p</string>\n                <string>4077</string>\n                <string>-a</string>\n                <string>app.psgi</string>\n        </array>\n        <key>StandardOutPath</key>\n        <string>/tmp/com.bunzaemon.bl2seq.stdout.log</string>\n        <key>StandardErrorPath</key>\n        <string>/tmp/com.bunzaemon.bl2seq.stderr.log</string>\n        <key>KeepAlive</key>\n        <true/>\n</dict>\n</plist>\n\n\n/PATH/TO \u306f\u9069\u5b9c\u81ea\u5206\u306e\u74b0\u5883\u306b\u5408\u305b\u3066\u5909\u66f4\u3092\nWorkingDirectory \u306b\u306f\u3001 app.psgi \u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u7d76\u5bfe\u30d1\u30b9\u3092\u3002\nEnvironmentVariables \u306f\u3001\u30b3\u30fc\u30c9\u4e2d\u306b\u30e6\u30fc\u30b6\u30fc\u7279\u6709\u306e\u74b0\u5883\u5909\u6570\u304c\u3042\u308b\u6642\u306b\u306f\u3001\u6307\u5b9a\u3057\u3066\u3084\u308b\u3002\n\n\n\u4eca\u56de\u306f\u5fc5\u8981\u7121\u3044\u306e\u3060\u3051\u308c\u3069\u3001\u4f8b\u306e\u70ba PLACKUP_ENV \u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u3002 key \u3068 string \u306e\u30bb\u30c3\u30c8\nPERL5OPT \u3084\u3001PERL5LIB \u306a\u3069\u3092\u5165\u308c\u308b\u4e8b\u306b\u306a\u308b\u3060\u308d\u3046\u3002\n\u74b0\u5883\u5909\u6570\u306e $PATH \u3092\u5165\u308c\u308b\u6642\u306f\u8ffd\u52a0\u66f8\u304d\u3067\u306f\u306a\u304f\u4e0a\u66f8\u304d\u3067\u3042\u308b\u4e8b\u306b\u6ce8\u610f\u3002\n\n\n\u666e\u901a\u306b : \u3067\u533a\u5207\u3063\u3066\u8907\u6570\u767b\u9332\n\n\n\n\n\u3067\u5b9f\u969b\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001ProgramArguments \u306b\u914d\u5217\u3068\u3057\u3066\u3001\u30b9\u30da\u30fc\u30b9\u533a\u5207\u308a\u3092\u305d\u308c\u305e\u308c <strings></strings> \u5185\u306b\u8a18\u8f09\n\n\nplackup \u306f\u3001 -p \u3067\u30dd\u30fc\u30c8\u304c\u5909\u66f4\u51fa\u6765\u308b\u3002\u3063\u3066\u306e\u3092\u66f8\u304d\u305f\u304b\u3063\u305f\u3060\u3051\u3067\u30014077 \u306b\u30dd\u30fc\u30c8\u5909\u66f4\u3002\nWorkingDirectory \u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\u3001 app.psgi \u306f\u7d76\u5bfe\u30d1\u30b9\u3067\u3002\n\n\nstderr, stdout \u306f\u3068\u308a\u3042\u3048\u305a /tmp \u306b\u7f6e\u304f\n\n\u3053\u308c\u3092 com.bunzaemon.bl2seq.plist \u3068\u3057\u3066\u4fdd\u5b58\u3057\u305f\u3089\u3001\n$ sudo mv com.bunzaemon.bl2seq.plist /Library/LaunchDaemons\n$ cd !$\n$ sudo chown root com.bunzaemon.bl2seq.plist\n$ sudo chmod 0600 !$\n\n\u3053\u308c\u3067\u3001\n$ sudo launchctl load com.bunzaemon.bl2seq.plist\n\n\u3057\u3066\u3082\u3044\u3044\u3057\u3001mac \u306e\u518d\u8d77\u52d5\u3067\u3082\u3044\u3044\u3002\n\u5f8c\u306f\u3001http://localhost:4077 \u3078\u3002\n\u505c\u6b62\u306f\u3001\n$ sudo launchctl unload com.bunzaemon.bl2seq.plist\n\n\u4ee5\u4e0a\u3067\u3001 Amon2::Lite \u306e\u304a\u3055\u3089\u3044\u7d42\u308a\u3002\n\n[4.](http://qiita.com/bunzaemon/items/bcf575655e7ccfd5e6aa)\u306e\u7d9a\u304d\n\n\u6700\u5f8c\u306b\u3002\n\n\u6298\u89d2\u306a\u306e\u3067\u3001\u30c7\u30fc\u30e2\u30f3\u306b\u3057\u3066\u3001\u81ea\u52d5\u8d77\u52d5\u306b\u3055\u305b\u3066\u307f\u308b\u3002\n\u3068\u8a00\u3063\u3066\u3082\u3001`launchctl` \u7528\u306e `.plist` \u66f8\u3044\u3066\u3001 `/Library/LaunchDaemons` \u306b\u7f6e\u304f\u3060\u3051\u306a\u3093\u3060\u3051\u3069\u3002\n## .plist\n\n\u30ea\u30d0\u30fc\u30b9\u30c9\u30e1\u30a4\u30f3\u306f\u3001 com.bunzaemon.XXXX \u306b\u3057\u3066\u3001XXXX \u306b\u306f\u30b3\u30de\u30f3\u30c9\u540d\u304c\u5165\u308b\u5f62\u306b\u3002\n\n\n```xml:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist version=\"1.0\">\n<dict>\n        <key>Label</key>\n        <string>com.bunzaemon.bl2seq</string>\n        <key>WorkingDirectory</key>\n        <string>/PATH/TO/Example</string>\n        <key>EnvironmentVariables</key>\n        <dict>\n            <key>PLACK_ENV</key>\n            <string>development</string>\n        </dict>\n        <key>ProgramArguments</key>\n        <array>\n                <string>/PATH/TO/plackup</string>\n                <string>-p</string>\n                <string>4077</string>\n                <string>-a</string>\n                <string>app.psgi</string>\n        </array>\n        <key>StandardOutPath</key>\n        <string>/tmp/com.bunzaemon.bl2seq.stdout.log</string>\n        <key>StandardErrorPath</key>\n        <string>/tmp/com.bunzaemon.bl2seq.stderr.log</string>\n        <key>KeepAlive</key>\n        <true/>\n</dict>\n</plist>\n```\n\n- /PATH/TO \u306f\u9069\u5b9c\u81ea\u5206\u306e\u74b0\u5883\u306b\u5408\u305b\u3066\u5909\u66f4\u3092\n- WorkingDirectory \u306b\u306f\u3001 app.psgi \u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u7d76\u5bfe\u30d1\u30b9\u3092\u3002\n- EnvironmentVariables \u306f\u3001\u30b3\u30fc\u30c9\u4e2d\u306b\u30e6\u30fc\u30b6\u30fc\u7279\u6709\u306e\u74b0\u5883\u5909\u6570\u304c\u3042\u308b\u6642\u306b\u306f\u3001\u6307\u5b9a\u3057\u3066\u3084\u308b\u3002\n\t- \u4eca\u56de\u306f\u5fc5\u8981\u7121\u3044\u306e\u3060\u3051\u308c\u3069\u3001\u4f8b\u306e\u70ba PLACKUP_ENV \u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u3002 key \u3068 string \u306e\u30bb\u30c3\u30c8\n\t- PERL5OPT \u3084\u3001PERL5LIB \u306a\u3069\u3092\u5165\u308c\u308b\u4e8b\u306b\u306a\u308b\u3060\u308d\u3046\u3002\n\t- \u74b0\u5883\u5909\u6570\u306e $PATH \u3092\u5165\u308c\u308b\u6642\u306f\u8ffd\u52a0\u66f8\u304d\u3067\u306f\u306a\u304f\u4e0a\u66f8\u304d\u3067\u3042\u308b\u4e8b\u306b\u6ce8\u610f\u3002\n\t\t- \u666e\u901a\u306b `:` \u3067\u533a\u5207\u3063\u3066\u8907\u6570\u767b\u9332\n- \u3067\u5b9f\u969b\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001ProgramArguments \u306b\u914d\u5217\u3068\u3057\u3066\u3001\u30b9\u30da\u30fc\u30b9\u533a\u5207\u308a\u3092\u305d\u308c\u305e\u308c `<strings></strings>` \u5185\u306b\u8a18\u8f09\n\t- plackup \u306f\u3001 -p \u3067\u30dd\u30fc\u30c8\u304c\u5909\u66f4\u51fa\u6765\u308b\u3002\u3063\u3066\u306e\u3092\u66f8\u304d\u305f\u304b\u3063\u305f\u3060\u3051\u3067\u30014077 \u306b\u30dd\u30fc\u30c8\u5909\u66f4\u3002\n\t- WorkingDirectory \u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\u3001 app.psgi \u306f\u7d76\u5bfe\u30d1\u30b9\u3067\u3002\n- stderr, stdout \u306f\u3068\u308a\u3042\u3048\u305a /tmp \u306b\u7f6e\u304f\n\n\u3053\u308c\u3092 com.bunzaemon.bl2seq.plist \u3068\u3057\u3066\u4fdd\u5b58\u3057\u305f\u3089\u3001\n\n```\n$ sudo mv com.bunzaemon.bl2seq.plist /Library/LaunchDaemons\n$ cd !$\n$ sudo chown root com.bunzaemon.bl2seq.plist\n$ sudo chmod 0600 !$\n```\n\n\u3053\u308c\u3067\u3001\n\n```\n$ sudo launchctl load com.bunzaemon.bl2seq.plist\n```\n\n\u3057\u3066\u3082\u3044\u3044\u3057\u3001mac \u306e\u518d\u8d77\u52d5\u3067\u3082\u3044\u3044\u3002\n\n\u5f8c\u306f\u3001http://localhost:4077 \u3078\u3002\n\n\u505c\u6b62\u306f\u3001\n\n```\n$ sudo launchctl unload com.bunzaemon.bl2seq.plist\n```\n\n\n\u4ee5\u4e0a\u3067\u3001 Amon2::Lite \u306e\u304a\u3055\u3089\u3044\u7d42\u308a\u3002\n\n\n"}