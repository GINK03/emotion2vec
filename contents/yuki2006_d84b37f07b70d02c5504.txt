{"context": " More than 1 year has passed since last update.\n\n\u521d\u3081\u306b\nxml.etree.ElementTree \nhttp://docs.python.jp/2/library/xml.etree.elementtree.html\n\u3092\u4f7f\u3063\u3066\u3001\u540d\u524d\u7a7a\u9593\u4ed8\u304d\u306exml\u3092\u89e3\u6790\u3057\u307e\u3059\u3002\n\u672c\u6587\u3067\u306fkml\uff08Google Earth\u306a\u3069\u306b\u4f7f\u308f\u308c\u3066\u308b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff09\nhttp://ja.wikipedia.org/wiki/KML\n\u3092\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u3057\u3066\u3044\u308b\u304c\u3001\u5b9f\u614b\u306fXML\u306a\u306e\u3067\u540c\u69d8\u306b\u6271\u3046\u3068\u3059\u308b\u3002\n\n\u5bfe\u8c61\u30c7\u30fc\u30bf\n\n\u5bfe\u8c61\u306eKML\n<?xml version='1.0' encoding='UTF-8'?>\n<kml xmlns=\"http://earth.google.com/kml/2.0\">\n<Document>\n<name>Hoge</name>\n <Style id=\"Mapit\">\n <IconStyle>\n <color>FFFFFFFF</color>\n <scale>1.0</scale>\n </IconStyle>\n </Style>\n <Style id=\"kml\">\n <LineStyle>\n <color>FF0080FF</color>\n <width>1</width>\n </LineStyle>\n <PolyStyle>\n <color>AADDDDDD</color>\n </PolyStyle>\n </Style>\n\u30fb\u30fb\u30fb\n </Document>\n</kml>\n\n\n\u4e00\u90e8\u7701\u7565\u3057\u3066\u3044\u308b\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u3053\u3093\u306a\u5f62\u3092\u3057\u3066\u3044\u308bKML\u3092\u5bfe\u8c61\u3068\u3059\u308b\u3002\nPolyStyle->color\n\u306e\u5024\u304cAADDDDDD\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u3092\u5909\u3048\u305f\u3044\u3068\u3057\u307e\u3059\u3002\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u30b3\u30fc\u30c9\n\nXML\u66f8\u304d\u63db\u3048\u30d7\u30ed\u30b0\u30e9\u30e0\n# -*- coding: utf-8 -*-\n\nfrom xml.etree import ElementTree\n\n#KML\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\ntree = ElementTree.parse(\"in.kml\")\n#namespace\u3092\u4ed8\u52a0\u3059\u308b\n#\u3053\u308c\u3092\u3057\u306a\u3044\u3068\u518d\u66f8\u304d\u51fa\u3057\u306e\u969b\u306b\u3001\u5168\u3066\u306e\u30bf\u30b0\u306bns0:PolyStyle\u307f\u305f\u3044\u306b\u306a\u308b\nElementTree.register_namespace('', 'http://earth.google.com/kml/2.0')\n\n# //PolyStyle/color\u3092\u63a2\u3059\nfor node in tree.findall(\".//{http://earth.google.com/kml/2.0}PolyStyle/{http://earth.google.com/kml/2.0}color\"):\n    # \u5185\u5bb9\u66f8\u304d\u63db\u3048\n    node.text=\"AA001122\"\n\n#\u66f8\u304d\u51fa\u3057\n#3\u3064\u76ee\u306e\u5f15\u6570\u306ftrue\u306a\u3089<?xml \u30fb\u30fb?>\u3092\u4ed8\u52a0\u3059\u308b\u3002\ntree.write(\"out.kml\",\"UTF-8\",True)\n\n\nPolyStyle->color\n\u306e\u5024\u304cAA001122\u3068\u306a\u3063\u3066\u66f8\u304d\u51fa\u3055\u308c\u307e\u3059\u3002\n\n\u89e3\u8aac\nxml.etree.ElementTree.findall\u306f\u3001\u982d\u306b\".\"\u304c\u3044\u308b\u3002\n(FutureWarning\u3068\u304b\u8a00\u308f\u308c\u308b\uff09\nXPath\u306e\u30b5\u30d6\u30bb\u30c3\u30c8\u304c\u6271\u3048\u308b\u3089\u3057\u3044\u3002\nhttp://docs.python.jp/3/library/xml.etree.elementtree.html\n(Python2\u306b\u95a2\u3059\u308b\u8a18\u4e8b\u306f\u3001\u898b\u3064\u3051\u3089\u308c\u3066\u306a\u3044\uff09\n\u3053\u3053\u3067\u554f\u984c\u306a\u306e\u304c\u540d\u524d\u7a7a\u9593\u3067\u3042\u308b\u3002\n\n\u540d\u524d\u7a7a\u9593\n<kml xmlns=\"http://earth.google.com/kml/2.0\">\n\n\n\u304c\u30eb\u30fc\u30c8\u306b\u3042\u308b\u305f\u3081\u3001\u305d\u308c\u4ee5\u4e0b\u306f\u5168\u3066\u540d\u524d\u7a7a\u9593\u304c\u304b\u304b\u308b\u3002\n\u306a\u306e\u3067\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u3068\u304d\u306f\u3001{}\u5185\u3067\u540d\u524d\u7a7a\u9593\u3092\u4ed8\u52a0\u3057\u3001\u30bf\u30b0\u3092\u6307\u5b9a\u3057\u306a\u3051\u3070\u306a\u3089\u306a\u3044\u3002\n\u3057\u304b\u3082PolyStyle->color\u306a\u306e\u3067\uff12\u56de\u66f8\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\n\nxpath\n//{http://earth.google.com/kml/2.0}PolyStyle/{http://earth.google.com/kml/2.0}color\"\n\n\n\uff08\u306a\u306b\u304b\u3044\u3044\u65b9\u6cd5\u304c\u6709\u308a\u307e\u3057\u305f\u3089\u6559\u3048\u3066\u4e0b\u3055\u3044\u3002\u3002\u3002\uff09\n\u6b21\u306b\u3001register_namespace\u3000\u3092\u3059\u308b\u610f\u5473\u306f\u3001\nwrite\u3067\u66f8\u304d\u3060\u3057\u305fXML\u304c\n\nregister_namespace\u3092\u3057\u306a\u3044\u51fa\u529b\n<ns0:PolyStyle>\n <ns0:color>AADDDDDD</ns0:color>\n</ns0:PolyStyle>\n\n\n\u307f\u305f\u3044\u306b\u306a\u308b\u306e\u3092\u56de\u907f\u3057\u307e\u3059\u3002\n\n\u3086\u308b\u307c\nregister_namespace\u3057\u3066\u308b\u306e\u3067XPath\u6307\u5b9a\u304c\u3082\u3063\u3068\u30b9\u30de\u30fc\u30c8\n\uff08\u540d\u524d\u7a7a\u9593URI\u3092\u4f55\u5ea6\u3082\u66f8\u304b\u306a\u304f\u3066\u3044\u3044\u3068\u304b\uff09\u306b\u8a18\u8ff0\u3067\u304d\u306a\u3044\u304b\u306a\u3041\u3002\u3002\u3002\n\n\u53c2\u8003\nXPath\u3067\u6307\u5b9a\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u304c\u3042\u308b\u6b21\u306e\u8981\u7d20\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\nhttp://qiita.com/yuki2006/items/1f96450fc744769872c5\n[Python]ElementTree\u306enamespace\u3092\u30b4\u30cb\u30e7\u30b4\u30cb\u30e7\u3059\u308b\nhttp://d.hatena.ne.jp/nullpobug/20110420/1303293319\n#\u521d\u3081\u306b\n\nxml.etree.ElementTree \nhttp://docs.python.jp/2/library/xml.etree.elementtree.html\n\u3092\u4f7f\u3063\u3066\u3001\u540d\u524d\u7a7a\u9593\u4ed8\u304d\u306exml\u3092\u89e3\u6790\u3057\u307e\u3059\u3002\n\n\u672c\u6587\u3067\u306fkml\uff08Google Earth\u306a\u3069\u306b\u4f7f\u308f\u308c\u3066\u308b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff09\nhttp://ja.wikipedia.org/wiki/KML\n\u3092\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u3057\u3066\u3044\u308b\u304c\u3001\u5b9f\u614b\u306fXML\u306a\u306e\u3067\u540c\u69d8\u306b\u6271\u3046\u3068\u3059\u308b\u3002\n\n#\u5bfe\u8c61\u30c7\u30fc\u30bf\n\n```xml:\u5bfe\u8c61\u306eKML\n<?xml version='1.0' encoding='UTF-8'?>\n<kml xmlns=\"http://earth.google.com/kml/2.0\">\n<Document>\n<name>Hoge</name>\n <Style id=\"Mapit\">\n <IconStyle>\n <color>FFFFFFFF</color>\n <scale>1.0</scale>\n </IconStyle>\n </Style>\n <Style id=\"kml\">\n <LineStyle>\n <color>FF0080FF</color>\n <width>1</width>\n </LineStyle>\n <PolyStyle>\n <color>AADDDDDD</color>\n </PolyStyle>\n </Style>\n\u30fb\u30fb\u30fb\n </Document>\n</kml>\n```\n\n\u4e00\u90e8\u7701\u7565\u3057\u3066\u3044\u308b\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u3053\u3093\u306a\u5f62\u3092\u3057\u3066\u3044\u308bKML\u3092\u5bfe\u8c61\u3068\u3059\u308b\u3002\nPolyStyle->color\n\u306e\u5024\u304c**AADDDDDD**\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u3092\u5909\u3048\u305f\u3044\u3068\u3057\u307e\u3059\u3002\n\n#\u30d7\u30ed\u30b0\u30e9\u30e0\u30b3\u30fc\u30c9\n\n```py:XML\u66f8\u304d\u63db\u3048\u30d7\u30ed\u30b0\u30e9\u30e0\n# -*- coding: utf-8 -*-\n\nfrom xml.etree import ElementTree\n\n#KML\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\ntree = ElementTree.parse(\"in.kml\")\n#namespace\u3092\u4ed8\u52a0\u3059\u308b\n#\u3053\u308c\u3092\u3057\u306a\u3044\u3068\u518d\u66f8\u304d\u51fa\u3057\u306e\u969b\u306b\u3001\u5168\u3066\u306e\u30bf\u30b0\u306bns0:PolyStyle\u307f\u305f\u3044\u306b\u306a\u308b\nElementTree.register_namespace('', 'http://earth.google.com/kml/2.0')\n\n# //PolyStyle/color\u3092\u63a2\u3059\nfor node in tree.findall(\".//{http://earth.google.com/kml/2.0}PolyStyle/{http://earth.google.com/kml/2.0}color\"):\n\t# \u5185\u5bb9\u66f8\u304d\u63db\u3048\n\tnode.text=\"AA001122\"\n\n#\u66f8\u304d\u51fa\u3057\n#3\u3064\u76ee\u306e\u5f15\u6570\u306ftrue\u306a\u3089<?xml \u30fb\u30fb?>\u3092\u4ed8\u52a0\u3059\u308b\u3002\ntree.write(\"out.kml\",\"UTF-8\",True)\n```\n\nPolyStyle->color\n\u306e\u5024\u304c**AA001122**\u3068\u306a\u3063\u3066\u66f8\u304d\u51fa\u3055\u308c\u307e\u3059\u3002\n\n\n#\u89e3\u8aac\n\n\nxml.etree.ElementTree.findall\u306f\u3001\u982d\u306b\".\"\u304c\u3044\u308b\u3002\n(FutureWarning\u3068\u304b\u8a00\u308f\u308c\u308b\uff09\n\nXPath\u306e\u30b5\u30d6\u30bb\u30c3\u30c8\u304c\u6271\u3048\u308b\u3089\u3057\u3044\u3002\nhttp://docs.python.jp/3/library/xml.etree.elementtree.html\n(Python2\u306b\u95a2\u3059\u308b\u8a18\u4e8b\u306f\u3001\u898b\u3064\u3051\u3089\u308c\u3066\u306a\u3044\uff09\n\n\u3053\u3053\u3067\u554f\u984c\u306a\u306e\u304c\u540d\u524d\u7a7a\u9593\u3067\u3042\u308b\u3002\n\n```xml:\u540d\u524d\u7a7a\u9593\n<kml xmlns=\"http://earth.google.com/kml/2.0\">\n```\n\n\u304c\u30eb\u30fc\u30c8\u306b\u3042\u308b\u305f\u3081\u3001\u305d\u308c\u4ee5\u4e0b\u306f\u5168\u3066\u540d\u524d\u7a7a\u9593\u304c\u304b\u304b\u308b\u3002\n\n\u306a\u306e\u3067\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u3068\u304d\u306f\u3001{}\u5185\u3067\u540d\u524d\u7a7a\u9593\u3092\u4ed8\u52a0\u3057\u3001\u30bf\u30b0\u3092\u6307\u5b9a\u3057\u306a\u3051\u3070\u306a\u3089\u306a\u3044\u3002\n\n\n\u3057\u304b\u3082PolyStyle->color\u306a\u306e\u3067\uff12\u56de\u66f8\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\n\n```text:xpath\n//{http://earth.google.com/kml/2.0}PolyStyle/{http://earth.google.com/kml/2.0}color\"\n```\n\n\uff08\u306a\u306b\u304b\u3044\u3044\u65b9\u6cd5\u304c\u6709\u308a\u307e\u3057\u305f\u3089\u6559\u3048\u3066\u4e0b\u3055\u3044\u3002\u3002\u3002\uff09\n\n\u6b21\u306b\u3001register_namespace\u3000\u3092\u3059\u308b\u610f\u5473\u306f\u3001\nwrite\u3067\u66f8\u304d\u3060\u3057\u305fXML\u304c\n\n```xml:register_namespace\u3092\u3057\u306a\u3044\u51fa\u529b\n<ns0:PolyStyle>\n <ns0:color>AADDDDDD</ns0:color>\n</ns0:PolyStyle>\n```\n\u307f\u305f\u3044\u306b\u306a\u308b\u306e\u3092\u56de\u907f\u3057\u307e\u3059\u3002\n\n#\u3086\u308b\u307c\nregister_namespace\u3057\u3066\u308b\u306e\u3067XPath\u6307\u5b9a\u304c\u3082\u3063\u3068\u30b9\u30de\u30fc\u30c8\n\uff08\u540d\u524d\u7a7a\u9593URI\u3092\u4f55\u5ea6\u3082\u66f8\u304b\u306a\u304f\u3066\u3044\u3044\u3068\u304b\uff09\u306b\u8a18\u8ff0\u3067\u304d\u306a\u3044\u304b\u306a\u3041\u3002\u3002\u3002\n\n\n#\u53c2\u8003\n\nXPath\u3067\u6307\u5b9a\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u304c\u3042\u308b\u6b21\u306e\u8981\u7d20\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\nhttp://qiita.com/yuki2006/items/1f96450fc744769872c5\n\n[Python]ElementTree\u306enamespace\u3092\u30b4\u30cb\u30e7\u30b4\u30cb\u30e7\u3059\u308b\nhttp://d.hatena.ne.jp/nullpobug/20110420/1303293319\n", "tags": ["Python2.7", "XML"]}