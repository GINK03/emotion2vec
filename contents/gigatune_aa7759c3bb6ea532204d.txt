{"context": "\n\n\u57fa\u672c\u8a2d\u5b9a\n\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3067LDAP\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u3082\u306e\u3068\u3059\u308b\n\n\n\n\u9805\u76ee\n\u8a2d\u5b9a\u5024\n\n\n\n\n\u57fa\u672c\u30c9\u30e1\u30a4\u30f3\nexample.co.jp\n\n\n\u7ba1\u7406\u8005\u306eDN\ncn=Manager, dc=example, dc=co, dc=jp\n\n\n\u7ba1\u7406\u8005\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\npassword\n\n\n\u7ba1\u7406\u8005\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306ehash\u5024(\u203b)\n{SSHA}WYEroAc4FZocN2Qn6fzV08nlu/IwKG7h\n\n\n\n\u203b slappasswd\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3059\u308b\n# slappasswd -s password\n{SSHA}WYEroAc4FZocN2Qn6fzV08nlu/IwKG7h\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum install openldap openldap-servers openldap-clients\n\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u914d\u7f6e\n# cp -pr /usr/share/openldap-servers/slapd.conf.obsolete /etc/openldap/slapd.conf\n# cp -pr /usr/share/openldap-servers/DB_CONFIG.example /var/lib/ldap/DB_CONFIG\n\n\u203b \u4e00\u6642\u7684\u306a\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(slapd.conf)\u306f\u3001\u4e0a\u8a18\u306e\u30d1\u30b9\u306b\u7f6e\u3044\u3066\u904b\u7528\u3059\u308b\u3082\u306e\u3068\u3059\u308b\u3002\n\n\u8a2d\u5b9a\u5024\u306e\u5909\u66f4\n\n\u30c9\u30e1\u30a4\u30f3\nsuffix\u306e\u5024\u3092\u5909\u66f4\u3059\u308b\n(snip)\ndatabase        bdb\nsuffix          \"dc=example,dc=co,dc=jp\"\n(snip)\n\n\n\u7ba1\u7406\u8005\nrootdn\u3068rootpw\u306e\u5024\u3092\u5909\u66f4\u3059\u308b\nrootdn          \"cn=Manager,dc=example,dc=co,dc=jp\"\n# Cleartext passwords, especially for the rootdn, should\n# be avoided.  See slappasswd(8) and slapd.conf(5) for details.\n# Use of strong authentication encouraged.\n# rootpw                secret\n# rootpw                {crypt}ijFYNcSNctBYg\nrootpw          {SSHA}WYEroAc4FZocN2Qn6fzV08nlu/IwKG7h\n\n\u203b monitor\u3092\u3057\u305f\u3051\u308c\u3070\u3001\u305d\u3061\u3089\u306e\u65b9\u3082\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u306a\u3044(\u672a\u78ba\u8a8d)\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092 slap.d/ \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306b\u5909\u63db\n\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\u6642\u306b\u3001/etc/openldap/slapd.d \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3042\u308c\u3070\u3001sladp.conf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u512a\u5148\u3055\u308c\u3066\u8aad\u307f\u8fbc\u307e\u308c\u308b\u306e\u3067\u3001/etc/slapd.conf \u3092 /etc/openldap/slapd.d/ \u4ee5\u4e0b\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u63db\u3059\u308b\n\nslapd.conf \u306e\u30c6\u30b9\u30c8\n# slaptest -f /etc/openldap/slapd.conf\nconfig file testing succeeded\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u8ffd\u52a0\u3055\u308c\u305f\u521d\u671f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\n# rm -rf /etc/openldap/slapd.d/*\n\n\n\u5909\u63db\u3068\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u5909\u66f4\n# slaptest -f /etc/openldap/slapd.conf -F /etc/openldap/slapd.d\nconfig file testing succeeded\n\n# chown -R ldap. /etc/openldap/slapd.d\n\n\n\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\n# /etc/rc.d/init.d/slapd start\nStarting slapd:                                            [  OK  ]\n\n# \u57fa\u672c\u8a2d\u5b9a\n\n\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3067LDAP\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u3082\u306e\u3068\u3059\u308b\n\n| \u9805\u76ee | \u8a2d\u5b9a\u5024 |\n|:--|:--|\n| \u57fa\u672c\u30c9\u30e1\u30a4\u30f3 | example.co.jp |\n| \u7ba1\u7406\u8005\u306eDN | cn=Manager, dc=example, dc=co, dc=jp |\n| \u7ba1\u7406\u8005\u306e\u30d1\u30b9\u30ef\u30fc\u30c9 | password |\n| \u7ba1\u7406\u8005\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306ehash\u5024(\u203b) | {SSHA}WYEroAc4FZocN2Qn6fzV08nlu/IwKG7h |\n\n\u203b slappasswd\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3059\u308b\n\n```\n# slappasswd -s password\n{SSHA}WYEroAc4FZocN2Qn6fzV08nlu/IwKG7h\n```\n\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# yum install openldap openldap-servers openldap-clients\n```\n\n# \u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u914d\u7f6e\n\n```\n# cp -pr /usr/share/openldap-servers/slapd.conf.obsolete /etc/openldap/slapd.conf\n# cp -pr /usr/share/openldap-servers/DB_CONFIG.example /var/lib/ldap/DB_CONFIG\n```\n\n\u203b \u4e00\u6642\u7684\u306a\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(slapd.conf)\u306f\u3001\u4e0a\u8a18\u306e\u30d1\u30b9\u306b\u7f6e\u3044\u3066\u904b\u7528\u3059\u308b\u3082\u306e\u3068\u3059\u308b\u3002\n\n\n# \u8a2d\u5b9a\u5024\u306e\u5909\u66f4\n\n## \u30c9\u30e1\u30a4\u30f3\n\nsuffix\u306e\u5024\u3092\u5909\u66f4\u3059\u308b\n\n```\n(snip)\ndatabase        bdb\nsuffix          \"dc=example,dc=co,dc=jp\"\n(snip)\n```\n\n## \u7ba1\u7406\u8005\n\nrootdn\u3068rootpw\u306e\u5024\u3092\u5909\u66f4\u3059\u308b\n\n```\nrootdn          \"cn=Manager,dc=example,dc=co,dc=jp\"\n# Cleartext passwords, especially for the rootdn, should\n# be avoided.  See slappasswd(8) and slapd.conf(5) for details.\n# Use of strong authentication encouraged.\n# rootpw                secret\n# rootpw                {crypt}ijFYNcSNctBYg\nrootpw          {SSHA}WYEroAc4FZocN2Qn6fzV08nlu/IwKG7h\n```\n\n\u203b monitor\u3092\u3057\u305f\u3051\u308c\u3070\u3001\u305d\u3061\u3089\u306e\u65b9\u3082\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u306a\u3044(\u672a\u78ba\u8a8d)\n\n\n\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092 slap.d/ \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306b\u5909\u63db\n\n\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\u6642\u306b\u3001/etc/openldap/slapd.d \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3042\u308c\u3070\u3001sladp.conf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u512a\u5148\u3055\u308c\u3066\u8aad\u307f\u8fbc\u307e\u308c\u308b\u306e\u3067\u3001/etc/slapd.conf \u3092 /etc/openldap/slapd.d/ \u4ee5\u4e0b\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u63db\u3059\u308b\n\n## slapd.conf \u306e\u30c6\u30b9\u30c8\n\n```\n# slaptest -f /etc/openldap/slapd.conf\nconfig file testing succeeded\n```\n\n## \u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u8ffd\u52a0\u3055\u308c\u305f\u521d\u671f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\n\n```\n# rm -rf /etc/openldap/slapd.d/*\n```\n\n## \u5909\u63db\u3068\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u5909\u66f4\n\n```\n# slaptest -f /etc/openldap/slapd.conf -F /etc/openldap/slapd.d\nconfig file testing succeeded\n\n# chown -R ldap. /etc/openldap/slapd.d\n```\n\n# \u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\n\n```\n# /etc/rc.d/init.d/slapd start\nStarting slapd:                                            [  OK  ]\n```\n", "tags": ["openldap"]}