{"tags": ["AWS", "RDS", "MySQL"], "context": "\n\n\u6982\u8981\nJava(Spring-Boot\u3092\u4f7f\u7528)\u3067\u958b\u767a\u3059\u308bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092AWS\u4e0a\u306b\u69cb\u7bc9\u3057\u305f\u4f5c\u696d\u5185\u5bb9\u306e\u307e\u3068\u3081\u3067\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u306fJava\u3067\u958b\u767a\u3057\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092AWS\u306b\u69cb\u7bc9\u3059\u308b(EC2\u521d\u671f\u8a2d\u5b9a)\u304b\u3089\u306e\u7d9a\u304d\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u8a18\u4e8b\u3067\u306f\u300cRDS\u300d\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\n1. Java\u3067\u958b\u767a\u3057\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092AWS\u306b\u69cb\u7bc9\u3059\u308b(VPC&EC2\u4f5c\u6210)\n\n2. Java\u3067\u958b\u767a\u3057\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092AWS\u306b\u69cb\u7bc9\u3059\u308b(EC2\u521d\u671f\u8a2d\u5b9a)\n\n3. Java\u3067\u958b\u767a\u3057\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092AWS\u306b\u69cb\u7bc9\u3059\u308b(RDS)\n4. Java\u3067\u958b\u767a\u3057\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092AWS\u306b\u69cb\u7bc9\u3059\u308b(Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306ebuild&deploy) (\u672a)\n\n\u53c2\u8003\n\nAmazon Relational Database Service (Amazon RDS) \u3068\u306f?\nAmazon RDS \u3067\u306e MySQL\nMySQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\n\u4ed8\u9332: MySQL \u306b\u95a2\u9023\u3059\u308b\u4e00\u822c\u7684\u306a DBA \u30bf\u30b9\u30af\nRoute 53\u306ePrivate DNS\u5bfe\u5fdc\u3092\u8a66\u3057\u3066\u307f\u305f\nAmazon RDS \u306b\u304a\u3051\u308b MySQL 5.6 \u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u8a08\u4f8b\n\n\nRDS\u306e\u69cb\u7bc9\u624b\u9806\n\n\u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u4f5c\u6210\n\n\nPrivate\u30b5\u30d6\u30cd\u30c3\u30c8(1a)\u306e\u4f5c\u6210\n\n\n\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4ed8\u3051\u66ff\u3048\n\n\nPrivate\u30b5\u30d6\u30cd\u30c3\u30c8(1c)\u306e\u4f5c\u6210\n\n\n\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4ed8\u3051\u66ff\u3048\n\n\n\n\n\u30b5\u30d6\u30cd\u30c3\u30c8\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n\u30d1\u30e9\u30e1\u30fc\u30bf\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\nVPC\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\nRDS\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210\n\n\n\u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u4f5c\u6210\n\u307e\u305a\u306fRDS\u7528\u306e\u30b5\u30d6\u30cd\u30c3\u30c8\u304b\u3089\u4f5c\u6210\u3057\u307e\u3059\u3002\nRDS\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f2\u3064\u4ee5\u4e0a\u306eAZ\u304c\u7570\u306a\u308b\u30b5\u30d6\u30cd\u30c3\u30c8\u304c\u5fc5\u8981\u3067\u3059\u3002\n\nPrivate\u30b5\u30d6\u30cd\u30c3\u30c8(1a)\u306e\u4f5c\u6210\nAZ 1a\u306ePrivate\u30b5\u30d6\u30cd\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nCIDR\u30d6\u30ed\u30c3\u30af\u306f10.0.3.0/24\u3068\u3057\u307e\u3057\u305f\u3002\n\n\n\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305fPrivate\u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u306e\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306f\u3053\u306e\u5f8c\u306b\u4f5c\u6210\u3059\u308b\u3082\u30461\u3064\u306ePrivate\u30b5\u30d6\u30cd\u30c3\u30c8\u3067\u3082\u4f7f\u7528\u3057\u307e\u3059\u3002\nVPC\u5185\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3060\u3051\u306a\u306e\u3067\u30eb\u30fc\u30c8\u306e\u8ffd\u52a0\u306f\u884c\u3044\u307e\u305b\u3093\u3002\n\n\n\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4ed8\u3051\u66ff\u3048\n\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305f\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u3067\u3001Private\u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u3068\u4ed8\u3051\u66ff\u3048\u307e\u3059\u3002\n\n\nPrivate\u30b5\u30d6\u30cd\u30c3\u30c8(1c)\u306e\u4f5c\u6210\nAZ 1c\u306ePrivate\u30b5\u30d6\u30cd\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nCIDR\u30d6\u30ed\u30c3\u30af\u306f10.0.4.0/24\u3068\u3057\u307e\u3057\u305f\u3002\n\n\n\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4ed8\u3051\u66ff\u3048\n\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305f\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u3067\u3001Private\u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u3068\u4ed8\u3051\u66ff\u3048\u307e\u3059\u3002\n\n\n\u30b5\u30d6\u30cd\u30c3\u30c8\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305f2\u3064\u306e\u30b5\u30d6\u30cd\u30c3\u30c8\u3067\u69cb\u6210\u3059\u308b\u30b5\u30d6\u30cd\u30c3\u30c8\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n\n\n\u6587\u5b57\u30b3\u30fc\u30c9\u95a2\u9023\nutf8mb4\u3067\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002\n\ntime_zone\n\ngeneral_log\n\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\u3002\n\nslow_log\n\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\u3002\n\n\nperformance_schema\n\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\u3002\n\n\nVPC\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n\n\u9001\u4fe1\u5143\u306b2\u3064\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3053\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306b\u5c5e\u3059\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089\u306e\u63a5\u7d9a\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\u5b9f\u969b\u306bRDS\u3068\u63a5\u7d9a\u3059\u308b\u306e\u306fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3060\u3051\u306a\u306e\u3067\u3001\u30eb\u30fc\u30eb\u306f1\u3064\u3060\u3051\u3067\u3044\u3044\u306e\u3067\u3059\u304c\u958b\u767a\u306e\u4fbf\u5b9c\u4e0a\u4e21\u65b9\u306eEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002\n\nsg-5625a032 : Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5c5e\u3059\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\nsg-961c99f2 : nginx\u3092\u5b9f\u884c\u3059\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5c5e\u3059\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\n\n\n\nAmazon RDS \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\n\n\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306b\u3088\u308a DB \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u5bfe\u3059\u308b\u9001\u53d7\u4fe1\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\nAmazon RDS \u3067\u306f\u3001DB \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3001VPC \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3001EC2 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3068\u3044\u3046 3 \u7a2e\u985e\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u7c21\u5358\u306b\u8aac\u660e\u3059\u308b\u3068\u3001DB \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306f VPC \u306e\u5916\u306b\u3042\u308b DB \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002VPC \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306f VPC \u5185\u306e DB \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\uff08\u307e\u305f\u306f\u4ed6\u306e AWS \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\uff09\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002EC2 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306f EC2 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\n\n\nRDS\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210\n\u30a8\u30f3\u30b8\u30f3\u306b\u306fMySQL\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002\n\n\u958b\u767a\u7528\u306a\u306e\u3067\u3001\u53f3\u5074\u306e\u958b\u767a/\u30c6\u30b9\u30c8\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002\n\n\u958b\u767a\u7528?\u3060\u304b\u3089\u3060\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u30de\u30eb\u30c1AZ\u914d\u7f6e\u306f\u9078\u3079\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\u30b5\u30d6\u30cd\u30c3\u30c8\u30b0\u30eb\u30fc\u30d7\u3001VPC\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u30b0\u30eb\u30fc\u30d7\u306b\u306f\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305f\u8a2d\u5b9a\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u30aa\u30d7\u30b7\u30e7\u30f3\u30b0\u30eb\u30fc\u30d7\u306f\u7279\u306b\u8a2d\u5b9a\u3059\u308b\u3082\u306e\u304c\u7121\u3044\u306e\u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u3092\u6307\u5b9a\u3057\u307e\u3057\u305f\u3002\n\n\n\u30aa\u30d7\u30b7\u30e7\u30f3\u30b0\u30eb\u30fc\u30d7\u3092\u4f7f\u7528\u3059\u308b\n\n\nDB \u30a8\u30f3\u30b8\u30f3\u306b\u3088\u3063\u3066\u306f\u3001\u30c7\u30fc\u30bf\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u7ba1\u7406\u3092\u5bb9\u6613\u306b\u3057\u305f\u308a\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5f37\u5316\u3057\u305f\u308a\u3059\u308b\u305f\u3081\u306e\u3001\u8ffd\u52a0\u306e\u6a5f\u80fd\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002Amazon RDS \u3067\u306f\u3001\u30aa\u30d7\u30b7\u30e7\u30f3\u30b0\u30eb\u30fc\u30d7\u3092\u4f7f\u7528\u3057\u3066\u3053\u308c\u3089\u306e\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3057\u3066\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\nRDS\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210\u76f4\u5f8c\u306e\u72b6\u614b\u3067\u3059\u3002\n\n\nEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089\u306e\u63a5\u7d9a\u78ba\u8a8d\nEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fMySQL Client\u3088\u308a\u63a5\u7d9a\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n[ec2-user@ip-10-0-1-196 ~]$ mysql -h my-rds-20160503.xxxxxxxxxxxx.ap-northeast-1.rds.amazonaws.com -uroot -p mydb\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 305\nServer version: 5.6.27-log MySQL Community Server (GPL)\n\nCopyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql>\n\n\nRDS Tips\n\n\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u5225\u540d(Alias)\u3092\u4ed8\u3051\u308b\nRoute53\u306ePrivate DNS\u3067RDS\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u5225\u540d\u3092\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u3053\u306e\u5225\u540d\u3092\u4f7f\u3063\u3066RDS\u3078\u63a5\u7d9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nType:\u306b\u3001Private Hosted Zone ...\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n\nValue:\u306b\u3001RDS\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u5165\u529b\u3057\u307e\u3059\u3002\nName:\u306b\u3001\u5225\u540d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\n\u5225\u540d\u3092\u4f7f\u3063\u3066\u63a5\u7d9a\u3057\u3066\u307f\u307e\u3059\u3002\n$ mysql -h db01.rds.local -uroot -p mydb\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 368\nServer version: 5.6.27-log MySQL Community Server (GPL)\n\nCopyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql>\n\n\nRoute 53\u306ePrivate DNS\u5bfe\u5fdc\u3092\u8a66\u3057\u3066\u307f\u305f\n\n\nMySQL\u30ad\u30e3\u30c3\u30b7\u30e5\u30a6\u30a9\u30fc\u30df\u30f3\u30b0\nhttp://aws.typepad.com/aws_japan/2014/09/rds-mysql-cache-warming.html\n\n\u672c\u65e5\u3001InnoDB\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30a6\u30a9\u30fc\u30df\u30f3\u30b0\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u3067\u3001Amazon RDS for MySQL\u3092\u5f37\u5316\u3044\u305f\u3057\u307e\u3057\u305f\u3002 MySQL\u3092\u5b9f\u884c\u3057\u3066\u3044\u308bAmazon RDS\u306eDB\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3059\u308b\u969b\u3001\u30d0\u30c3\u30d5\u30a1\u30fc\u30d7\u30fc\u30eb\u306e\u72b6\u614b\u3092\u4fdd\u5b58\u3057\u3001\u5f8c\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\u3059\u308b\u969b\u306b\u3001\u30ea\u30ed\u30fc\u30c9\u3059\u308b\u3088\u3046\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\u30a6\u30a9\u30fc\u30e0\u30a2\u30c3\u30d7\u3092\u5fc5\u8981\u3068\u305b\u305a\u306b\u3001\u52b9\u7387\u7684\u306a\u65b9\u6cd5\u3067\u3001\u4e00\u822c\u7684\u306a\u30af\u30a8\u30ea\u3092\u51e6\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nmysql> show global variables like '%buffer_pool%';\n+-------------------------------------+----------------+\n| Variable_name                       | Value          |\n+-------------------------------------+----------------+\n| innodb_buffer_pool_dump_at_shutdown | OFF            |\n| innodb_buffer_pool_dump_now         | OFF            |\n| innodb_buffer_pool_filename         | ib_buffer_pool |\n| innodb_buffer_pool_instances        | 8              |\n| innodb_buffer_pool_load_abort       | OFF            |\n| innodb_buffer_pool_load_at_startup  | OFF            |\n| innodb_buffer_pool_load_now         | OFF            |\n| innodb_buffer_pool_size             | 625999872      |\n+-------------------------------------+----------------+\n8 rows in set (0.00 sec)\n\n\nAmazon RDS \u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30a6\u30a9\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u3066\u307f\u307e\u3057\u305f\n\n\nMySQL Workbench\nWindows\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fMySQL Workbench\u304b\u3089RDS\u3078\u63a5\u7d9a\u3059\u308b\u306b\u306fssh\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3092\u5229\u7528\u3059\u308b\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u3002\n\u306a\u304a\u3001\u3053\u306e\u65b9\u6cd5\u304c\u6210\u7acb\u3059\u308b\u306e\u306f\u300cWindows\u304b\u3089EC2\u3078ssh\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3053\u3068\u300d\u300c\u305d\u306eEC2\u304b\u3089MySQL Client\u3067RDS\u3078\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u300d\u3068\u3044\u3046\u6761\u4ef6\u3092\u6e80\u305f\u3057\u3066\u3044\u308b\u5834\u5408\u3067\u3059\u3002\n\u4e0b\u8a18\u306e2\u7a2e\u985e\u306e\u65b9\u6cd5\u3067\u63a5\u7d9a\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3057\u305f\u3002\n\nplink\u3092\u4f7f\u7528\u3059\u308b\u65b9\u6cd5\nssh\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u306fPuTTY\u4ed8\u5c5e\u306eplink\u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002(PuTTY\u3067\u3082\u53ef\u80fd\u3067\u3059\u3002)\n> plink.exe -ssh -2 -C -N -L 13306:my-rds-20160503.********.ap-northeast-1.rds.amazonaws.com:3306 -i my-aws-keypair-20160503.ppk -P 22 ec2-user@xxx.xxx.xxx.xxx\nUsing username \"ec2-user\".\n\n\n\nec2-user@xxx.xxx.xxx.xxx\u306eIP\u30a2\u30c9\u30ec\u30b9\u306f\u3001Public\u30b5\u30d6\u30cd\u30c3\u30c8\u306b\u3042\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002\n\n\nWindows\u306emysql\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u63a5\u7d9a\n\u3053\u306e\u72b6\u614b\u3067Windows\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3042\u308bMySQL Client\u304b\u3089\u63a5\u7d9a\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n\u30db\u30b9\u30c8\u540d\u306b\u306flocalhost\u3001\u30dd\u30fc\u30c8\u306b\u306f\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3067\u6307\u5b9a\u3057\u305f13306\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n> mysql -h localhost -P 13306 -uroot -p mydb\nEnter password: **********\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 14\nServer version: 5.6.27-log MySQL Community Server (GPL)\n\nCopyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql>\n\n\nWindows\u306eMySQL Workbench\u304b\u3089\u63a5\u7d9a\nMySQL Client\u3067\u63a5\u7d9a\u3057\u305f\u60c5\u5831\u3092\u305d\u306e\u307e\u307e\u4f7f\u3048\u3070MySQL Workbench\u304b\u3089\u63a5\u7d9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\"Test Connection\"\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u63a5\u7d9a\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\nMySQL Workbench\u306e\u30b5\u30fc\u30d0\u30fc\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u753b\u9762\u3067\u3059\u3002\n\n\nAmazon VPC \u5185\u306e RDS(MySQL) \u306b SSH \u306e\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u3092\u5229\u7528\u3057\u3066\u63a5\u7d9a\u3059\u308b\u30e1\u30e2\n\n\nMySQL Workbench\u306eStandard TCP/IP over SSH\u3092\u4f7f\u7528\u3059\u308b\u65b9\u6cd5\nplink.exe\u3092\u4f7f\u7528\u3057\u306a\u304f\u3066\u3082MySQL Workbench\u3060\u3051\u3067RDS\u3078\u63a5\u7d9a\u3059\u308b\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\nConnection Method:\u306bStandard TCP/IP over SSH\u3092\u9078\u629e\nSSH Hostname:\u306bssh\u30ed\u30b0\u30a4\u30f3\u3059\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306epublic IP\u3068\u63a5\u7d9a\u30dd\u30fc\u30c8(22)\u3092\u5165\u529b\nSSH Key File:\u306b\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ad\u30fc\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\nMySQL Hostname:\u306bRDS\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u5165\u529b\n\n\n\"Test Connection\"\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u63a5\u7d9a\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n# \u6982\u8981\n\nJava(Spring-Boot\u3092\u4f7f\u7528)\u3067\u958b\u767a\u3059\u308bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092AWS\u4e0a\u306b\u69cb\u7bc9\u3057\u305f\u4f5c\u696d\u5185\u5bb9\u306e\u307e\u3068\u3081\u3067\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u306f[Java\u3067\u958b\u767a\u3057\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092AWS\u306b\u69cb\u7bc9\u3059\u308b(EC2\u521d\u671f\u8a2d\u5b9a)] (http://qiita.com/rubytomato@github/items/42d490de16b5f5eb9f07)\u304b\u3089\u306e\u7d9a\u304d\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u8a18\u4e8b\u3067\u306f\u300cRDS\u300d\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\n* 1. [Java\u3067\u958b\u767a\u3057\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092AWS\u306b\u69cb\u7bc9\u3059\u308b(VPC&EC2\u4f5c\u6210)] (http://qiita.com/rubytomato@github/items/329e6c44627d0fa6e3fe)\n* 2. [Java\u3067\u958b\u767a\u3057\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092AWS\u306b\u69cb\u7bc9\u3059\u308b(EC2\u521d\u671f\u8a2d\u5b9a)] (http://qiita.com/rubytomato@github/items/42d490de16b5f5eb9f07)\n* 3. Java\u3067\u958b\u767a\u3057\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092AWS\u306b\u69cb\u7bc9\u3059\u308b(RDS)\n* 4. Java\u3067\u958b\u767a\u3057\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092AWS\u306b\u69cb\u7bc9\u3059\u308b(Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306ebuild&deploy) (\u672a)\n\n**\u53c2\u8003**\n\n* [Amazon Relational Database Service (Amazon RDS) \u3068\u306f?] (https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/Welcome.html)\n* [Amazon RDS \u3067\u306e MySQL] (https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/CHAP_MySQL.html)\n* [MySQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb] (https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/USER_LogAccess.Concepts.MySQL.html)\n* [\u4ed8\u9332: MySQL \u306b\u95a2\u9023\u3059\u308b\u4e00\u822c\u7684\u306a DBA \u30bf\u30b9\u30af] (https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/Appendix.MySQL.CommonDBATasks.html)\n* [Route 53\u306ePrivate DNS\u5bfe\u5fdc\u3092\u8a66\u3057\u3066\u307f\u305f] (http://dev.classmethod.jp/cloud/aws/route53-private-dns/)\n* [Amazon RDS \u306b\u304a\u3051\u308b MySQL 5.6 \u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u8a08\u4f8b] (http://bekkou68.hatenablog.com/entry/2014/09/16/200122)\n\n\n## RDS\u306e\u69cb\u7bc9\u624b\u9806\n\n* \u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u4f5c\u6210\n * Private\u30b5\u30d6\u30cd\u30c3\u30c8(1a)\u306e\u4f5c\u6210\n     * \u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n     * \u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4ed8\u3051\u66ff\u3048\n * Private\u30b5\u30d6\u30cd\u30c3\u30c8(1c)\u306e\u4f5c\u6210\n     * \u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4ed8\u3051\u66ff\u3048\n* \u30b5\u30d6\u30cd\u30c3\u30c8\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n* \u30d1\u30e9\u30e1\u30fc\u30bf\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n* VPC\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n* RDS\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210\n\n\n### \u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u4f5c\u6210\n\n\u307e\u305a\u306fRDS\u7528\u306e\u30b5\u30d6\u30cd\u30c3\u30c8\u304b\u3089\u4f5c\u6210\u3057\u307e\u3059\u3002\nRDS\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f2\u3064\u4ee5\u4e0a\u306eAZ\u304c\u7570\u306a\u308b\u30b5\u30d6\u30cd\u30c3\u30c8\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n#### Private\u30b5\u30d6\u30cd\u30c3\u30c8(1a)\u306e\u4f5c\u6210\n\nAZ 1a\u306ePrivate\u30b5\u30d6\u30cd\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nCIDR\u30d6\u30ed\u30c3\u30af\u306f`10.0.3.0/24`\u3068\u3057\u307e\u3057\u305f\u3002\n\n![50-private-subnet-rds-01.png](https://qiita-image-store.s3.amazonaws.com/0/22772/59bdbe00-62f8-cafc-7a88-480ba8344562.png)\n\n##### \u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n\n\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305fPrivate\u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u306e\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306f\u3053\u306e\u5f8c\u306b\u4f5c\u6210\u3059\u308b\u3082\u30461\u3064\u306ePrivate\u30b5\u30d6\u30cd\u30c3\u30c8\u3067\u3082\u4f7f\u7528\u3057\u307e\u3059\u3002\nVPC\u5185\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3060\u3051\u306a\u306e\u3067\u30eb\u30fc\u30c8\u306e\u8ffd\u52a0\u306f\u884c\u3044\u307e\u305b\u3093\u3002\n\n![51-private-subnet-rds-rtb-02.png](https://qiita-image-store.s3.amazonaws.com/0/22772/881e105e-17b5-5ea4-c86b-1cb94db1e1f3.png)\n\n##### \u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4ed8\u3051\u66ff\u3048\n\n\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305f\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u3067\u3001Private\u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u3068\u4ed8\u3051\u66ff\u3048\u307e\u3059\u3002\n\n![52-private-subnet-rds-rtb-03.png](https://qiita-image-store.s3.amazonaws.com/0/22772/dc8e90e9-bcff-54a8-f93e-c2a24e3954f4.png)\n\n\n#### Private\u30b5\u30d6\u30cd\u30c3\u30c8(1c)\u306e\u4f5c\u6210\n\nAZ 1c\u306ePrivate\u30b5\u30d6\u30cd\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nCIDR\u30d6\u30ed\u30c3\u30af\u306f`10.0.4.0/24`\u3068\u3057\u307e\u3057\u305f\u3002\n\n![53-private-subnet-rds-01.png](https://qiita-image-store.s3.amazonaws.com/0/22772/f53c97b4-a6d9-b3b9-d380-041de5632403.png)\n\n##### \u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4ed8\u3051\u66ff\u3048\n\n\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305f\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u3067\u3001Private\u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u3068\u4ed8\u3051\u66ff\u3048\u307e\u3059\u3002\n\n![54-private-subnet-rds-rtb-02.png](https://qiita-image-store.s3.amazonaws.com/0/22772/25e7bcd1-6554-3973-3215-f1077822bdf0.png)\n\n\n### \u30b5\u30d6\u30cd\u30c3\u30c8\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n\n\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305f2\u3064\u306e\u30b5\u30d6\u30cd\u30c3\u30c8\u3067\u69cb\u6210\u3059\u308b\u30b5\u30d6\u30cd\u30c3\u30c8\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n![55-subnet-group-rds-01.png](https://qiita-image-store.s3.amazonaws.com/0/22772/a84f9bc6-e912-fea2-daa6-a1ae6720a980.png)\n\n![56-subnet-group-rds-02.png](https://qiita-image-store.s3.amazonaws.com/0/22772/25a5cd5c-23ba-6853-a4b0-ed21f5535f35.png)\n\n\n### \u30d1\u30e9\u30e1\u30fc\u30bf\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n\n![57-subnet-group-rds-param-01.png](https://qiita-image-store.s3.amazonaws.com/0/22772/146b37d0-3997-7d64-7ddb-54d99ada569c.png)\n\n![58-subnet-group-rds-param-02.png](https://qiita-image-store.s3.amazonaws.com/0/22772/6356ecb7-04ab-c989-bcdc-43532b987a64.png)\n\n**\u6587\u5b57\u30b3\u30fc\u30c9\u95a2\u9023**\n\nutf8mb4\u3067\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002\n\n![59-subnet-group-rds-param-03.png](https://qiita-image-store.s3.amazonaws.com/0/22772/0d7ed3c7-0cca-3138-9082-dcc2676f86f2.png)\n\n**time_zone**\n\n![60-subnet-group-rds-param-04.png](https://qiita-image-store.s3.amazonaws.com/0/22772/f8f14ba0-34a2-d136-01d2-37d54f9a5a93.png)\n\n**general_log**\n\n\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\u3002\n\n![rds-pg-02-general.png](https://qiita-image-store.s3.amazonaws.com/0/22772/c8be4ada-a41b-8e37-49f8-f8d44dd4321c.png)\n\n**slow_log**\n\n\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\u3002\n\n![rds-pg-04-slow.png](https://qiita-image-store.s3.amazonaws.com/0/22772/f6e50ee3-43da-3a17-f3cc-57b7bdf5ec39.png)\n\n![rds-pg-03-long_query_time.png](https://qiita-image-store.s3.amazonaws.com/0/22772/e3a69449-201e-a409-d693-8be20817843a.png)\n\n**performance_schema**\n\n\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\u3002\n\n![rds-pg-01-performance.png](https://qiita-image-store.s3.amazonaws.com/0/22772/91b5d36f-86ad-b30c-8389-8df3c515c94b.png)\n\n\n### VPC\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n\n![61-rds-sg-01.png](https://qiita-image-store.s3.amazonaws.com/0/22772/8544f709-5008-d539-6f86-c8c7098d3825.png)\n\n\u9001\u4fe1\u5143\u306b2\u3064\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3053\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306b\u5c5e\u3059\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089\u306e\u63a5\u7d9a\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\u5b9f\u969b\u306bRDS\u3068\u63a5\u7d9a\u3059\u308b\u306e\u306fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3060\u3051\u306a\u306e\u3067\u3001\u30eb\u30fc\u30eb\u306f1\u3064\u3060\u3051\u3067\u3044\u3044\u306e\u3067\u3059\u304c\u958b\u767a\u306e\u4fbf\u5b9c\u4e0a\u4e21\u65b9\u306eEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002\n\n* sg-5625a032 : Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5c5e\u3059\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\n* sg-961c99f2 : nginx\u3092\u5b9f\u884c\u3059\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5c5e\u3059\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\n\n![62-rds-sg-02.png](https://qiita-image-store.s3.amazonaws.com/0/22772/5deace10-70e2-ab44-3302-e3949bf324dc.png)\n\n* [Amazon RDS \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7] (http://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html)\n\n> \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306b\u3088\u308a DB \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u5bfe\u3059\u308b\u9001\u53d7\u4fe1\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\n> Amazon RDS \u3067\u306f\u3001DB \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3001VPC \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3001EC2 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3068\u3044\u3046 3 \u7a2e\u985e\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u7c21\u5358\u306b\u8aac\u660e\u3059\u308b\u3068\u3001DB \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306f VPC \u306e\u5916\u306b\u3042\u308b DB \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002VPC \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306f VPC \u5185\u306e DB \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\uff08\u307e\u305f\u306f\u4ed6\u306e AWS \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\uff09\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002EC2 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306f EC2 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\n\n\n### RDS\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210\n\n\u30a8\u30f3\u30b8\u30f3\u306b\u306f`MySQL`\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002\n\n![64-rds-02.png](https://qiita-image-store.s3.amazonaws.com/0/22772/271e6fde-7aa7-3595-33f2-00833d68e78a.png)\n\n\u958b\u767a\u7528\u306a\u306e\u3067\u3001\u53f3\u5074\u306e`\u958b\u767a/\u30c6\u30b9\u30c8`\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002\n\n![65-rds-03.png](https://qiita-image-store.s3.amazonaws.com/0/22772/ae43315d-cfa3-ec51-5f80-673095e97b8c.png)\n\n\u958b\u767a\u7528?\u3060\u304b\u3089\u3060\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u30de\u30eb\u30c1AZ\u914d\u7f6e\u306f\u9078\u3079\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n![66-rds-04.png](https://qiita-image-store.s3.amazonaws.com/0/22772/7b0a54b5-30e3-47a7-d064-08655475c6bd.png)\n\n\u30b5\u30d6\u30cd\u30c3\u30c8\u30b0\u30eb\u30fc\u30d7\u3001VPC\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u30b0\u30eb\u30fc\u30d7\u306b\u306f\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305f\u8a2d\u5b9a\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u30aa\u30d7\u30b7\u30e7\u30f3\u30b0\u30eb\u30fc\u30d7\u306f\u7279\u306b\u8a2d\u5b9a\u3059\u308b\u3082\u306e\u304c\u7121\u3044\u306e\u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u3092\u6307\u5b9a\u3057\u307e\u3057\u305f\u3002\n\n![67-rds-05.png](https://qiita-image-store.s3.amazonaws.com/0/22772/0c2f104a-9082-9d5b-6ceb-0168fa25e369.png)\n\n* [\u30aa\u30d7\u30b7\u30e7\u30f3\u30b0\u30eb\u30fc\u30d7\u3092\u4f7f\u7528\u3059\u308b] (http://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/USER_WorkingWithOptionGroups.html)\n\n> DB \u30a8\u30f3\u30b8\u30f3\u306b\u3088\u3063\u3066\u306f\u3001\u30c7\u30fc\u30bf\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u7ba1\u7406\u3092\u5bb9\u6613\u306b\u3057\u305f\u308a\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5f37\u5316\u3057\u305f\u308a\u3059\u308b\u305f\u3081\u306e\u3001\u8ffd\u52a0\u306e\u6a5f\u80fd\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002Amazon RDS \u3067\u306f\u3001\u30aa\u30d7\u30b7\u30e7\u30f3\u30b0\u30eb\u30fc\u30d7\u3092\u4f7f\u7528\u3057\u3066\u3053\u308c\u3089\u306e\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3057\u3066\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\nRDS\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210\u76f4\u5f8c\u306e\u72b6\u614b\u3067\u3059\u3002\n\n![69-rds-07.png](https://qiita-image-store.s3.amazonaws.com/0/22772/e8d9fc4f-6000-41f7-a2a0-79d2e40c1e2e.png)\n\n\n#### EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089\u306e\u63a5\u7d9a\u78ba\u8a8d\n\nEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fMySQL Client\u3088\u308a\u63a5\u7d9a\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash\n[ec2-user@ip-10-0-1-196 ~]$ mysql -h my-rds-20160503.xxxxxxxxxxxx.ap-northeast-1.rds.amazonaws.com -uroot -p mydb\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 305\nServer version: 5.6.27-log MySQL Community Server (GPL)\n\nCopyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql>\n```\n\n\n## RDS Tips\n\n### \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u5225\u540d(Alias)\u3092\u4ed8\u3051\u308b\n\nRoute53\u306ePrivate DNS\u3067RDS\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u5225\u540d\u3092\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u3053\u306e\u5225\u540d\u3092\u4f7f\u3063\u3066RDS\u3078\u63a5\u7d9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n![71-route53-02.png](https://qiita-image-store.s3.amazonaws.com/0/22772/10302139-c88a-ecdc-f1eb-2024edaf8e97.png)\n\nType:\u306b\u3001`Private Hosted Zone ...`\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n![72-route53-03.png](https://qiita-image-store.s3.amazonaws.com/0/22772/d9b3928a-d14b-b2cc-7621-ee0a0ce1df21.png)\n\n![73-route53-04.png](https://qiita-image-store.s3.amazonaws.com/0/22772/22eedbff-74c0-c912-615a-2940ab14f8e8.png)\n\nValue:\u306b\u3001RDS\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u5165\u529b\u3057\u307e\u3059\u3002\nName:\u306b\u3001\u5225\u540d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\n![74-route53-05.png](https://qiita-image-store.s3.amazonaws.com/0/22772/13efaaab-7a62-181f-8e1f-e49727b35403.png)\n\n\n\u5225\u540d\u3092\u4f7f\u3063\u3066\u63a5\u7d9a\u3057\u3066\u307f\u307e\u3059\u3002\n\n```bash\n$ mysql -h db01.rds.local -uroot -p mydb\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 368\nServer version: 5.6.27-log MySQL Community Server (GPL)\n\nCopyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql>\n```\n\n* [Route 53\u306ePrivate DNS\u5bfe\u5fdc\u3092\u8a66\u3057\u3066\u307f\u305f] (http://dev.classmethod.jp/cloud/aws/route53-private-dns/)\n\n\n\n### MySQL\u30ad\u30e3\u30c3\u30b7\u30e5\u30a6\u30a9\u30fc\u30df\u30f3\u30b0\n\nhttp://aws.typepad.com/aws_japan/2014/09/rds-mysql-cache-warming.html\n\n> \u672c\u65e5\u3001InnoDB\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30a6\u30a9\u30fc\u30df\u30f3\u30b0\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u3067\u3001Amazon RDS for MySQL\u3092\u5f37\u5316\u3044\u305f\u3057\u307e\u3057\u305f\u3002 MySQL\u3092\u5b9f\u884c\u3057\u3066\u3044\u308bAmazon RDS\u306eDB\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3059\u308b\u969b\u3001\u30d0\u30c3\u30d5\u30a1\u30fc\u30d7\u30fc\u30eb\u306e\u72b6\u614b\u3092\u4fdd\u5b58\u3057\u3001\u5f8c\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\u3059\u308b\u969b\u306b\u3001\u30ea\u30ed\u30fc\u30c9\u3059\u308b\u3088\u3046\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\u30a6\u30a9\u30fc\u30e0\u30a2\u30c3\u30d7\u3092\u5fc5\u8981\u3068\u305b\u305a\u306b\u3001\u52b9\u7387\u7684\u306a\u65b9\u6cd5\u3067\u3001\u4e00\u822c\u7684\u306a\u30af\u30a8\u30ea\u3092\u51e6\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\nmysql> show global variables like '%buffer_pool%';\n+-------------------------------------+----------------+\n| Variable_name                       | Value          |\n+-------------------------------------+----------------+\n| innodb_buffer_pool_dump_at_shutdown | OFF            |\n| innodb_buffer_pool_dump_now         | OFF            |\n| innodb_buffer_pool_filename         | ib_buffer_pool |\n| innodb_buffer_pool_instances        | 8              |\n| innodb_buffer_pool_load_abort       | OFF            |\n| innodb_buffer_pool_load_at_startup  | OFF            |\n| innodb_buffer_pool_load_now         | OFF            |\n| innodb_buffer_pool_size             | 625999872      |\n+-------------------------------------+----------------+\n8 rows in set (0.00 sec)\n```\n\n* [Amazon RDS \u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30a6\u30a9\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u3066\u307f\u307e\u3057\u305f] (http://bekkou68.hatenablog.com/entry/2014/09/12/204909)\n\n\n## MySQL Workbench\n\nWindows\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fMySQL Workbench\u304b\u3089RDS\u3078\u63a5\u7d9a\u3059\u308b\u306b\u306fssh\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3092\u5229\u7528\u3059\u308b\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u3002\n\u306a\u304a\u3001\u3053\u306e\u65b9\u6cd5\u304c\u6210\u7acb\u3059\u308b\u306e\u306f\u300cWindows\u304b\u3089EC2\u3078ssh\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3053\u3068\u300d\u300c\u305d\u306eEC2\u304b\u3089MySQL Client\u3067RDS\u3078\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u300d\u3068\u3044\u3046\u6761\u4ef6\u3092\u6e80\u305f\u3057\u3066\u3044\u308b\u5834\u5408\u3067\u3059\u3002\n\u4e0b\u8a18\u306e2\u7a2e\u985e\u306e\u65b9\u6cd5\u3067\u63a5\u7d9a\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3057\u305f\u3002\n\n### plink\u3092\u4f7f\u7528\u3059\u308b\u65b9\u6cd5\n\nssh\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u306fPuTTY\u4ed8\u5c5e\u306eplink\u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002(PuTTY\u3067\u3082\u53ef\u80fd\u3067\u3059\u3002)\n\n```bat\n> plink.exe -ssh -2 -C -N -L 13306:my-rds-20160503.********.ap-northeast-1.rds.amazonaws.com:3306 -i my-aws-keypair-20160503.ppk -P 22 ec2-user@xxx.xxx.xxx.xxx\nUsing username \"ec2-user\".\n```\n\n* ec2-user@xxx.xxx.xxx.xxx\u306eIP\u30a2\u30c9\u30ec\u30b9\u306f\u3001Public\u30b5\u30d6\u30cd\u30c3\u30c8\u306b\u3042\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002\n\n#### Windows\u306emysql\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u63a5\u7d9a\n\n\u3053\u306e\u72b6\u614b\u3067Windows\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3042\u308bMySQL Client\u304b\u3089\u63a5\u7d9a\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n\u30db\u30b9\u30c8\u540d\u306b\u306f`localhost`\u3001\u30dd\u30fc\u30c8\u306b\u306f\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3067\u6307\u5b9a\u3057\u305f13306\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n```bat\n> mysql -h localhost -P 13306 -uroot -p mydb\nEnter password: **********\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 14\nServer version: 5.6.27-log MySQL Community Server (GPL)\n\nCopyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql>\n```\n\n#### Windows\u306eMySQL Workbench\u304b\u3089\u63a5\u7d9a\n\nMySQL Client\u3067\u63a5\u7d9a\u3057\u305f\u60c5\u5831\u3092\u305d\u306e\u307e\u307e\u4f7f\u3048\u3070MySQL Workbench\u304b\u3089\u63a5\u7d9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n![workbench_01.png](https://qiita-image-store.s3.amazonaws.com/0/22772/904c607d-bcc0-d931-c8ec-fd7eb02608fa.png)\n\n\"Test Connection\"\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u63a5\u7d9a\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n![workbench_02.png](https://qiita-image-store.s3.amazonaws.com/0/22772/2fdc3009-a68f-838d-f8a2-8fb24f1fac14.png)\n\nMySQL Workbench\u306e\u30b5\u30fc\u30d0\u30fc\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u753b\u9762\u3067\u3059\u3002\n\n![workbench_03.png](https://qiita-image-store.s3.amazonaws.com/0/22772/b32ebeda-15cb-d8d8-619e-d9ebd062c74a.png)\n\n* [Amazon VPC \u5185\u306e RDS(MySQL) \u306b SSH \u306e\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u3092\u5229\u7528\u3057\u3066\u63a5\u7d9a\u3059\u308b\u30e1\u30e2] (https://blog.cloudpack.jp/2014/12/16/connect-to-amazon-rds-mysql-in-vpc-with-ssh-portforward/)\n\n\n### MySQL Workbench\u306eStandard TCP/IP over SSH\u3092\u4f7f\u7528\u3059\u308b\u65b9\u6cd5\n\nplink.exe\u3092\u4f7f\u7528\u3057\u306a\u304f\u3066\u3082MySQL Workbench\u3060\u3051\u3067RDS\u3078\u63a5\u7d9a\u3059\u308b\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n* Connection Method:\u306b`Standard TCP/IP over SSH`\u3092\u9078\u629e\n* SSH Hostname:\u306bssh\u30ed\u30b0\u30a4\u30f3\u3059\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306epublic IP\u3068\u63a5\u7d9a\u30dd\u30fc\u30c8(`22`)\u3092\u5165\u529b\n* SSH Key File:\u306b\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ad\u30fc\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\n* MySQL Hostname:\u306bRDS\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u5165\u529b\n\n![workbench_04.png](https://qiita-image-store.s3.amazonaws.com/0/22772/48e27912-0280-c50e-11a6-6c8f23d407a3.png)\n\n\"Test Connection\"\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u63a5\u7d9a\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n![workbench_05.png](https://qiita-image-store.s3.amazonaws.com/0/22772/21568139-d9fd-c640-4837-52e5c8a1931a.png)\n"}