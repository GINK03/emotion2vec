{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nNightmare\nsegment.io\u793e\u306e\u300c\u4ffa\u304c\u8003\u3048\u305f\u6700\u5f37\u306ee2e API\u300d\u3092\u5099\u3048\u305fphantom.js\u30e9\u30c3\u30d1\u30fc\u3002\u30b9\u30af\u30ec\u30a4\u30d1\u30fc\u306b\u3082\u4f7f\u3048\u308b\u3002\ncasper.js\u307f\u305f\u3044\u306a\u3082\u3093\u3002\u8a66\u3057\u3066\u307f\u305f\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u304a\u4f7f\u3044\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067 npm install nightmare \u3057\u3066\u304f\u3060\u3055\u3044\nURL\u3092\u958b\u304f\nNightmare = require 'nightmare'\nnew Nightmare()\n  .goto 'http://localhost:3000'\n  .evaluate (-> location.href), (url) -> console.log url\n  .run()\n\n.evalueate \u306f\u7b2c\u4e00\u5f15\u6570\u95a2\u6570\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067eval\u3057\u305f\u7d50\u679c\u3092\u3001\u7b2c\u4e8c\u5f15\u6570\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3068\u3057\u3066\u3082\u3089\u3063\u3066\u304f\u308b\u3002\nmocha\u306e\u30c6\u30b9\u30c8\u306a\u3089\u3053\u3093\u306a\u611f\u3058\ntest/nightmare_example.coffee\nNightmare = require 'nightmare'\n{ok} = require 'assert'\n\ndescribe 'open', ->\n  it 'should open localhost:3000', (done) ->\n    new Nightmare()\n      .goto 'http://localhost:3000'\n      .evaluate (-> location.href), (url) -> console.log url\n      .run()\n\n./node_modules/.bin/mocha --compilers coffee:coffee-script/register --timeout 30000\n\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u591a\u3081\u306b\u53d6\u3063\u3066\u304a\u3044\u305f\u307b\u3046\u304c\u3044\u3044\u3002\n\u30d5\u30a9\u30fc\u30e0\u57cb\u3081\u3066\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u306a\u3089\u3053\u3093\u306a\u611f\u3058\u3002\nNightmare = require 'nightmare'\n{ok} = require 'assert'\n\ndescribe 'post', ->\n  it 'should login', (done) ->\n    new Nightmare()\n      .goto 'localhost:3000/login'\n      # login\n      .type 'input[name=username]', 'username'\n      .type 'input[name=password]', 'password'\n      .click '.submit'\n      .wait()\n      .evaluate (-> location.href), (url) ->\n        ok url is 'http://localhost:3000/'\n      .run()\n\nwait\u3092\u631f\u3093\u3067\u30da\u30fc\u30b8\u9077\u79fb\u3092\u5f85\u3064\u5fc5\u8981\u304c\u3042\u308b\u3002\n.wait('.hoge') \u3067\u30bb\u30ec\u30af\u30bf\u30fc\u306e\u51fa\u73fe\u3092\u307e\u3063\u305f\u308a\u3001wait(3000) \u30673000ms\u307e\u3063\u305f\u308a\u3067\u304d\u308b\u3002\n# \u6982\u8981\n\n[Nightmare](http://www.nightmarejs.org/ \"Nightmare\")\n\nsegment.io\u793e\u306e\u300c\u4ffa\u304c\u8003\u3048\u305f\u6700\u5f37\u306ee2e API\u300d\u3092\u5099\u3048\u305fphantom.js\u30e9\u30c3\u30d1\u30fc\u3002\u30b9\u30af\u30ec\u30a4\u30d1\u30fc\u306b\u3082\u4f7f\u3048\u308b\u3002\n\ncasper.js\u307f\u305f\u3044\u306a\u3082\u3093\u3002\u8a66\u3057\u3066\u307f\u305f\u3002\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u304a\u4f7f\u3044\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067 `npm install nightmare` \u3057\u3066\u304f\u3060\u3055\u3044\n\n\nURL\u3092\u958b\u304f\n\n```coffeescript\nNightmare = require 'nightmare'\nnew Nightmare()\n  .goto 'http://localhost:3000'\n  .evaluate (-> location.href), (url) -> console.log url\n  .run()\n```\n\n.evalueate \u306f\u7b2c\u4e00\u5f15\u6570\u95a2\u6570\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067eval\u3057\u305f\u7d50\u679c\u3092\u3001\u7b2c\u4e8c\u5f15\u6570\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3068\u3057\u3066\u3082\u3089\u3063\u3066\u304f\u308b\u3002\n\n\n\nmocha\u306e\u30c6\u30b9\u30c8\u306a\u3089\u3053\u3093\u306a\u611f\u3058\n\ntest/nightmare_example.coffee\n\n```coffeescript\nNightmare = require 'nightmare'\n{ok} = require 'assert'\n\ndescribe 'open', ->\n  it 'should open localhost:3000', (done) ->\n    new Nightmare()\n      .goto 'http://localhost:3000'\n      .evaluate (-> location.href), (url) -> console.log url\n      .run()\n```\n\n`./node_modules/.bin/mocha --compilers coffee:coffee-script/register --timeout 30000`\n\n\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u591a\u3081\u306b\u53d6\u3063\u3066\u304a\u3044\u305f\u307b\u3046\u304c\u3044\u3044\u3002\n\n\u30d5\u30a9\u30fc\u30e0\u57cb\u3081\u3066\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u306a\u3089\u3053\u3093\u306a\u611f\u3058\u3002\n\n```coffee\nNightmare = require 'nightmare'\n{ok} = require 'assert'\n\ndescribe 'post', ->\n  it 'should login', (done) ->\n    new Nightmare()\n      .goto 'localhost:3000/login'\n      # login\n      .type 'input[name=username]', 'username'\n      .type 'input[name=password]', 'password'\n      .click '.submit'\n      .wait()\n      .evaluate (-> location.href), (url) ->\n        ok url is 'http://localhost:3000/'\n      .run()\n```\n\nwait\u3092\u631f\u3093\u3067\u30da\u30fc\u30b8\u9077\u79fb\u3092\u5f85\u3064\u5fc5\u8981\u304c\u3042\u308b\u3002\n`.wait('.hoge')` \u3067\u30bb\u30ec\u30af\u30bf\u30fc\u306e\u51fa\u73fe\u3092\u307e\u3063\u305f\u308a\u3001wait(3000) \u30673000ms\u307e\u3063\u305f\u308a\u3067\u304d\u308b\u3002\n", "tags": ["e2e", "Nightmare"]}