{"context": "\u53c2\u8003:ridgepole\u306e\u521d\u671f\u8a2d\u5b9a\u3068\u4f7f\u3044\u65b9\n\u3059\u3067\u306brigepole\u3092\u4f7f\u3063\u305fRails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u52d5\u3044\u3066\u3044\u308b\u3068\u3053\u308d\u304b\u3089\u30b9\u30bf\u30fc\u30c8\n\ngem install\ngem 'devise'\n\nGemfile\u306bgem\u3092\u8ffd\u52a0\u3057\u3066bundle install \n\ndevise\u306einstall\n$ rails g devise:install\n\n\u3059\u308b\u3068\nExpected string default value for '--jbuilder'; got true (boolean)\n      create  config/initializers/devise.rb\n      create  config/locales/devise.en.yml\n===============================================================================\n\nSome setup you must do manually if you haven't yet:\n\n  1. Ensure you have defined default url options in your environments files. Here\n     is an example of default_url_options appropriate for a development environment\n     in config/environments/development.rb:\n\n       config.action_mailer.default_url_options = { host: 'localhost', port: 3000 }\n\n     In production, :host should be set to the actual host of your application.\n\n  2. Ensure you have defined root_url to *something* in your config/routes.rb.\n     For example:\n\n       root to: \"home#index\"\n\n  3. Ensure you have flash messages in app/views/layouts/application.html.erb.\n     For example:\n\n       <p class=\"notice\"><%= notice %></p>\n       <p class=\"alert\"><%= alert %></p>\n\n  4. You can copy Devise views (for customization) to your app by running:\n\n       rails g devise:views\n\n===============================================================================\n\n\u3068\u51fa\u3066\u304f\u308b\n\ndevise\u306eview\u306e\u4f5c\u6210\n$ rails g devise:views\n\n\u3059\u308b\u3068\n\nExpected string default value for '--jbuilder'; got true (boolean)\nExpected boolean default value for '--markerb'; got :erb (string)\n      invoke  Devise::Generators::SharedViewsGenerator\n      create    app/views/devise/shared\n      create    app/views/devise/shared/_links.html.erb\n      invoke  form_for\n      create    app/views/devise/confirmations\n      create    app/views/devise/confirmations/new.html.erb\n      create    app/views/devise/passwords\n      create    app/views/devise/passwords/edit.html.erb\n      create    app/views/devise/passwords/new.html.erb\n      create    app/views/devise/registrations\n      create    app/views/devise/registrations/edit.html.erb\n      create    app/views/devise/registrations/new.html.erb\n      create    app/views/devise/sessions\n      create    app/views/devise/sessions/new.html.erb\n      create    app/views/devise/unlocks\n      create    app/views/devise/unlocks/new.html.erb\n      invoke  erb\n      create    app/views/devise/mailer\n      create    app/views/devise/mailer/confirmation_instructions.html.erb\n      create    app/views/devise/mailer/password_change.html.erb\n      create    app/views/devise/mailer/reset_password_instructions.html.erb\n      create    app/views/devise/mailer/unlock_instructions.html.erb\n\n\u3068\u51fa\u3066\u304f\u308b\n\nuser model\u306e\u4f5c\u6210\nrails g devise User\n\n\u3068\u3059\u308b\u3068\n      invoke  active_record\n      create    db/migrate/20161209080359_devise_create_users.rb\n      create    app/models/user.rb\n      invoke    test_unit\n      create      test/models/user_test.rb\n      create      test/fixtures/users.yml\n      insert    app/models/user.rb\n       route  devise_for :users\n\n\u3068\u306a\u308b\n\nSchema \u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\n\u751f\u6210\u3055\u308c\u305fmigration\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\n\nclass DeviseCreateUsers < ActiveRecord::Migration\n  def change\n    create_table :users do |t|\n      ## Database authenticatable\n      t.string :email,              null: false, default: \"\"\n      t.string :encrypted_password, null: false, default: \"\"\n\n      ## Recoverable\n      t.string   :reset_password_token\n      t.datetime :reset_password_sent_at\n\n      ## Rememberable\n      t.datetime :remember_created_at\n\n      ## Trackable\n      t.integer  :sign_in_count, default: 0, null: false\n      t.datetime :current_sign_in_at\n      t.datetime :last_sign_in_at\n      t.string   :current_sign_in_ip\n      t.string   :last_sign_in_ip\n\n      ## Confirmable\n      # t.string   :confirmation_token\n      # t.datetime :confirmed_at\n      # t.datetime :confirmation_sent_at\n      # t.string   :unconfirmed_email # Only if using reconfirmable\n\n      ## Lockable\n      # t.integer  :failed_attempts, default: 0, null: false # Only if lock strategy is :failed_attempts\n      # t.string   :unlock_token # Only if unlock strategy is :email or :both\n      # t.datetime :locked_at\n\n\n      t.timestamps null: false\n    end\n\n    add_index :users, :email,                unique: true\n    add_index :users, :reset_password_token, unique: true\n    # add_index :users, :confirmation_token,   unique: true\n    # add_index :users, :unlock_token,         unique: true\n  end\nend\n\n\ncreate_table\u5185\u306e\u30eb\u30fc\u30d7\u306e\u4e2d\u8eab\u3092\u30b3\u30d4\u30fc\u3057\u3066ridgepole\u306eSchemafile\u306b\u30b3\u30d4\u30da\u3059\u308b\ncreate_table \"users\" do |t|\n  t.string \"email\",              null: false, default: \"\"\n  t.string \"encrypted_password\", null: false, default: \"\"\n\n  t.string \"reset_password_token\"\n  t.datetime \"reset_password_sent_at\"\n\n  t.datetime \"remember_created_at\"\n\n  t.integer \"sign_in_count\", default: 0, null: false\n  t.datetime \"current_sign_in_at\"\n  t.datetime \"last_sign_in_at\"\n  t.string \"current_sign_in_ip\"\n  t.string \"last_sign_in_ip\"\n\n  t.string \"confirmation_token\"\n  t.datetime \"confirmed_at\"\n  t.datetime \"confirmation_sent_at\"\n  t.string \"unconfirmed_email\"\n\n  t.integer \"failed_attempts\", default: 0, null: false\n  t.string \"unlock_token\"\n  t.datetime \"locked_at\"\n\n\n  t.timestamps null: false\nend\n\nadd_index :users, :email,                unique: true\nadd_index :users, :reset_password_token, unique: true\nadd_index :users, :confirmation_token,   unique: true\nadd_index :users, :unlock_token,         unique: true\n\n\nridgepole\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u304f\nmigration\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3059\u308b\n\n$ rm -rf db/migrate/\n\n\u3042\u3068\u306f\u666e\u901a\u306edevise\u306e\u4f7f\u3044\u65b9\u3067OK\n\n\u307e\u3068\u3081\nmigration\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30da\u3057\u3066\u524a\u9664\u3059\u308b\u3060\u3051\n\u53c2\u8003:[ridgepole\u306e\u521d\u671f\u8a2d\u5b9a\u3068\u4f7f\u3044\u65b9](http://qiita.com/fujitora/items/ca55d33f0fad0bf64114)\n\n\u3059\u3067\u306brigepole\u3092\u4f7f\u3063\u305fRails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u52d5\u3044\u3066\u3044\u308b\u3068\u3053\u308d\u304b\u3089\u30b9\u30bf\u30fc\u30c8\n\n## gem install\n\n```gemfile\ngem 'devise'\n```\n\nGemfile\u306bgem\u3092\u8ffd\u52a0\u3057\u3066bundle install \n\n## devise\u306einstall\n\n```\n$ rails g devise:install\n```\n\u3059\u308b\u3068\n\n```\nExpected string default value for '--jbuilder'; got true (boolean)\n      create  config/initializers/devise.rb\n      create  config/locales/devise.en.yml\n===============================================================================\n\nSome setup you must do manually if you haven't yet:\n\n  1. Ensure you have defined default url options in your environments files. Here\n     is an example of default_url_options appropriate for a development environment\n     in config/environments/development.rb:\n\n       config.action_mailer.default_url_options = { host: 'localhost', port: 3000 }\n\n     In production, :host should be set to the actual host of your application.\n\n  2. Ensure you have defined root_url to *something* in your config/routes.rb.\n     For example:\n\n       root to: \"home#index\"\n\n  3. Ensure you have flash messages in app/views/layouts/application.html.erb.\n     For example:\n\n       <p class=\"notice\"><%= notice %></p>\n       <p class=\"alert\"><%= alert %></p>\n\n  4. You can copy Devise views (for customization) to your app by running:\n\n       rails g devise:views\n\n===============================================================================\n```\n\n\u3068\u51fa\u3066\u304f\u308b\n\n## devise\u306eview\u306e\u4f5c\u6210\n\n```\n$ rails g devise:views\n```\n\u3059\u308b\u3068\n\n```bash\n\nExpected string default value for '--jbuilder'; got true (boolean)\nExpected boolean default value for '--markerb'; got :erb (string)\n      invoke  Devise::Generators::SharedViewsGenerator\n      create    app/views/devise/shared\n      create    app/views/devise/shared/_links.html.erb\n      invoke  form_for\n      create    app/views/devise/confirmations\n      create    app/views/devise/confirmations/new.html.erb\n      create    app/views/devise/passwords\n      create    app/views/devise/passwords/edit.html.erb\n      create    app/views/devise/passwords/new.html.erb\n      create    app/views/devise/registrations\n      create    app/views/devise/registrations/edit.html.erb\n      create    app/views/devise/registrations/new.html.erb\n      create    app/views/devise/sessions\n      create    app/views/devise/sessions/new.html.erb\n      create    app/views/devise/unlocks\n      create    app/views/devise/unlocks/new.html.erb\n      invoke  erb\n      create    app/views/devise/mailer\n      create    app/views/devise/mailer/confirmation_instructions.html.erb\n      create    app/views/devise/mailer/password_change.html.erb\n      create    app/views/devise/mailer/reset_password_instructions.html.erb\n      create    app/views/devise/mailer/unlock_instructions.html.erb\n```\n\u3068\u51fa\u3066\u304f\u308b\n\n## user model\u306e\u4f5c\u6210\n\n```\nrails g devise User\n```\n\u3068\u3059\u308b\u3068\n\n```\n      invoke  active_record\n      create    db/migrate/20161209080359_devise_create_users.rb\n      create    app/models/user.rb\n      invoke    test_unit\n      create      test/models/user_test.rb\n      create      test/fixtures/users.yml\n      insert    app/models/user.rb\n       route  devise_for :users\n```\n\n\u3068\u306a\u308b\n\n## Schema \u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\n\u751f\u6210\u3055\u308c\u305fmigration\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\n\n```rb\n\nclass DeviseCreateUsers < ActiveRecord::Migration\n  def change\n    create_table :users do |t|\n      ## Database authenticatable\n      t.string :email,              null: false, default: \"\"\n      t.string :encrypted_password, null: false, default: \"\"\n\n      ## Recoverable\n      t.string   :reset_password_token\n      t.datetime :reset_password_sent_at\n\n      ## Rememberable\n      t.datetime :remember_created_at\n\n      ## Trackable\n      t.integer  :sign_in_count, default: 0, null: false\n      t.datetime :current_sign_in_at\n      t.datetime :last_sign_in_at\n      t.string   :current_sign_in_ip\n      t.string   :last_sign_in_ip\n\n      ## Confirmable\n      # t.string   :confirmation_token\n      # t.datetime :confirmed_at\n      # t.datetime :confirmation_sent_at\n      # t.string   :unconfirmed_email # Only if using reconfirmable\n\n      ## Lockable\n      # t.integer  :failed_attempts, default: 0, null: false # Only if lock strategy is :failed_attempts\n      # t.string   :unlock_token # Only if unlock strategy is :email or :both\n      # t.datetime :locked_at\n\n\n      t.timestamps null: false\n    end\n\n    add_index :users, :email,                unique: true\n    add_index :users, :reset_password_token, unique: true\n    # add_index :users, :confirmation_token,   unique: true\n    # add_index :users, :unlock_token,         unique: true\n  end\nend\n\n```\n\ncreate_table\u5185\u306e\u30eb\u30fc\u30d7\u306e\u4e2d\u8eab\u3092\u30b3\u30d4\u30fc\u3057\u3066ridgepole\u306eSchemafile\u306b\u30b3\u30d4\u30da\u3059\u308b\n\n```ruby\ncreate_table \"users\" do |t|\n  t.string \"email\",              null: false, default: \"\"\n  t.string \"encrypted_password\", null: false, default: \"\"\n\n  t.string \"reset_password_token\"\n  t.datetime \"reset_password_sent_at\"\n\n  t.datetime \"remember_created_at\"\n\n  t.integer \"sign_in_count\", default: 0, null: false\n  t.datetime \"current_sign_in_at\"\n  t.datetime \"last_sign_in_at\"\n  t.string \"current_sign_in_ip\"\n  t.string \"last_sign_in_ip\"\n\n  t.string \"confirmation_token\"\n  t.datetime \"confirmed_at\"\n  t.datetime \"confirmation_sent_at\"\n  t.string \"unconfirmed_email\"\n\n  t.integer \"failed_attempts\", default: 0, null: false\n  t.string \"unlock_token\"\n  t.datetime \"locked_at\"\n\n\n  t.timestamps null: false\nend\n\nadd_index :users, :email,                unique: true\nadd_index :users, :reset_password_token, unique: true\nadd_index :users, :confirmation_token,   unique: true\nadd_index :users, :unlock_token,         unique: true\n\n```\n\nridgepole\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u304f\nmigration\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3059\u308b\n\n```bash\n\n$ rm -rf db/migrate/\n```\n\n\u3042\u3068\u306f\u666e\u901a\u306edevise\u306e\u4f7f\u3044\u65b9\u3067OK\n\n## \u307e\u3068\u3081\nmigration\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30da\u3057\u3066\u524a\u9664\u3059\u308b\u3060\u3051\n", "tags": ["Rails", "Ruby", "RubyOnRails", "devise", "Ridgepole"]}