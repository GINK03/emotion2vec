{"context": " More than 1 year has passed since last update.\u3053\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u306fAmazonLinux2015.03\u3067\u5b9f\u884c\u3057\u307e\u3057\u305f\u3002\n\n\u30b3\u30e1\u30f3\u30c8\u9802\u304d\u307e\u3057\u305f\u3088\u3046\u306b\u3001\u3069\u3046\u3084\u3089td-agent-gem\u4f7f\u3048\u3070\u826f\u304b\u3063\u305f\u3088\u3046\u3067\u3057\u305f\u3002\nhttp://docs.fluentd.org/articles/faq#i-installed-td-agent-and-want-to-add-custom-plugins-how-do-i-do-it\ntd-agent2\u304b\u3089\u5909\u66f4\u3055\u308c\u3066\u3044\u305f\u3093\u3067\u3059\u306d\u3002\n/usr/sbin/td-agent-gem\u3092\u958b\u3044\u3066\u307f\u308b\u3068\n#!/bin/sh\nexport GEM_HOME=\"/opt/td-agent/embedded/lib/ruby/gems/2.1.0/\"\nexport GEM_PATH=\"/opt/td-agent/embedded/lib/ruby/gems/2.1.0/\"\n/opt/td-agent/embedded/bin/fluent-gem \"$@\"\n\n\u74b0\u5883\u5909\u6570\u8a2d\u5b9a\u3057\u3066fluent-gem\u3092\u3088\u3093\u3067\u3044\u307e\u3057\u305f\u3002\n\n\u3053\u3093\u306a\u611f\u3058\u3067fulentd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum -y groupinstall \"Development Tools\"\ncurl -L https://td-toolbelt.herokuapp.com/sh/install-redhat-td-agent2.sh | sh\n\nfluent\u306b\u4ed8\u3044\u3066\u304d\u305fgem\u3067fluent-plugin-forest\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n/opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.12/bin/fluent-gem install fluent-plugin-forest --no-rdoc --no-ri\n\ntd-agent\u3092\u8d77\u52d5\u3057\u3066\u307f\u308b\u3068\u4ee5\u4e0b\u306e\u69d8\u306a\u30ed\u30b0\u304c\n[error]: dry run failed: Unknown output plugin 'forest'. Run 'gem search -rd fluent-plugin' to find plugins\n\nforest\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u3068\u30fb\u30fb\u30fb\n/opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.12/bin/fluent-gem environment\nRubyGems Environment:\n  - RUBYGEMS VERSION: 2.0.14\n  - RUBY VERSION: 2.0.0 (2015-04-13 patchlevel 645) [x86_64-linux]\n  - INSTALLATION DIRECTORY: /usr/local/share/ruby/gems/2.0\n  - RUBY EXECUTABLE: /usr/bin/ruby2.0\n  - EXECUTABLE DIRECTORY: /usr/local/bin\n  - RUBYGEMS PLATFORMS:\n    - ruby\n    - x86_64-linux\n  - GEM PATHS:\n     - /usr/local/share/ruby/gems/2.0\n     - /root/.gem/ruby/2.0\n     - /usr/share/ruby/gems/2.0\n  - GEM CONFIGURATION:\n     - :update_sources => true\n     - :verbose => true\n     - :backtrace => false\n     - :bulk_threshold => 1000\n  - REMOTE SOURCES:\n     - https://rubygems.org/\nls /usr/local/share/ruby/gems/2.0/gems\nfluent-plugin-forest-0.3.0\n\n\u5165\u3063\u3066\u3044\u308b\u3051\u3069\u3001\u591a\u5206fluent\u306f\u3053\u3063\u3061\u4f7f\u3063\u3066\u3044\u306a\u3044\u3002\nls /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/\n\n\u306f\u3044\u3063\u3066\u3044\u306a\u3044\u3002\u3002\u3002\u3063\u3066\u3053\u3068\u3067\nGEM_HOME=\"/opt/td-agent/embedded/lib/ruby/gems/2.1.0/\" \\\nGEM_PATH=\"/opt/td-agent/embedded/lib/ruby/gems/2.1.0/\" \\\n/opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.12/bin/fluent-gem install fluent-plugin-forest --no-rdoc --no-ri\n\nls /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/\nfluent-plugin-forest-0.3.0\n\nOK.\n\n\u304a\u307e\u3051\n\u4e45\u3057\u3076\u308a\u306bfluent\u3092\u8a2d\u7f6e\u3057\u305f\u3089s3_endpoint\u304cs3_region\u306b\u304b\u308f\u3063\u3066\u3044\u305f\u3002\u8d77\u52d5\u306f\u3059\u308b\u3051\u3069\u30ed\u30b0\u304c\u6765\u308b\u3068\u30a8\u30e9\u30fc\u3092\u5410\u304f\u3002\n\n[error]: failed to configure sub output s3: s3_endpoint parameter is not supported for S3, use s3_region instead. This parameter is for S3 compatible services\n\ns3_endpoint s3-ap-northeast-1.amazonaws.com\n\u2193\ns3_region ap-northeast-1\n\n\u3067OK.\n    \u3053\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u306fAmazonLinux2015.03\u3067\u5b9f\u884c\u3057\u307e\u3057\u305f\u3002\n\n\u30b3\u30e1\u30f3\u30c8\u9802\u304d\u307e\u3057\u305f\u3088\u3046\u306b\u3001\u3069\u3046\u3084\u3089td-agent-gem\u4f7f\u3048\u3070\u826f\u304b\u3063\u305f\u3088\u3046\u3067\u3057\u305f\u3002\nhttp://docs.fluentd.org/articles/faq#i-installed-td-agent-and-want-to-add-custom-plugins-how-do-i-do-it\ntd-agent2\u304b\u3089\u5909\u66f4\u3055\u308c\u3066\u3044\u305f\u3093\u3067\u3059\u306d\u3002\n/usr/sbin/td-agent-gem\u3092\u958b\u3044\u3066\u307f\u308b\u3068\n\n```bash\n#!/bin/sh\nexport GEM_HOME=\"/opt/td-agent/embedded/lib/ruby/gems/2.1.0/\"\nexport GEM_PATH=\"/opt/td-agent/embedded/lib/ruby/gems/2.1.0/\"\n/opt/td-agent/embedded/bin/fluent-gem \"$@\"\n```\n\n\u74b0\u5883\u5909\u6570\u8a2d\u5b9a\u3057\u3066fluent-gem\u3092\u3088\u3093\u3067\u3044\u307e\u3057\u305f\u3002\n\n-------------------------\n\u3053\u3093\u306a\u611f\u3058\u3067fulentd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\nyum -y groupinstall \"Development Tools\"\ncurl -L https://td-toolbelt.herokuapp.com/sh/install-redhat-td-agent2.sh | sh\n```\n\nfluent\u306b\u4ed8\u3044\u3066\u304d\u305fgem\u3067fluent-plugin-forest\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n/opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.12/bin/fluent-gem install fluent-plugin-forest --no-rdoc --no-ri\n```\n\ntd-agent\u3092\u8d77\u52d5\u3057\u3066\u307f\u308b\u3068\u4ee5\u4e0b\u306e\u69d8\u306a\u30ed\u30b0\u304c\n\n```\n[error]: dry run failed: Unknown output plugin 'forest'. Run 'gem search -rd fluent-plugin' to find plugins\n```\n\nforest\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u3068\u30fb\u30fb\u30fb\n\n```bash\n/opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.12/bin/fluent-gem environment\nRubyGems Environment:\n  - RUBYGEMS VERSION: 2.0.14\n  - RUBY VERSION: 2.0.0 (2015-04-13 patchlevel 645) [x86_64-linux]\n  - INSTALLATION DIRECTORY: /usr/local/share/ruby/gems/2.0\n  - RUBY EXECUTABLE: /usr/bin/ruby2.0\n  - EXECUTABLE DIRECTORY: /usr/local/bin\n  - RUBYGEMS PLATFORMS:\n    - ruby\n    - x86_64-linux\n  - GEM PATHS:\n     - /usr/local/share/ruby/gems/2.0\n     - /root/.gem/ruby/2.0\n     - /usr/share/ruby/gems/2.0\n  - GEM CONFIGURATION:\n     - :update_sources => true\n     - :verbose => true\n     - :backtrace => false\n     - :bulk_threshold => 1000\n  - REMOTE SOURCES:\n     - https://rubygems.org/\nls /usr/local/share/ruby/gems/2.0/gems\nfluent-plugin-forest-0.3.0\n```\n\n\u5165\u3063\u3066\u3044\u308b\u3051\u3069\u3001\u591a\u5206fluent\u306f\u3053\u3063\u3061\u4f7f\u3063\u3066\u3044\u306a\u3044\u3002\n\n```bash\nls /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/\n```\n\n\u306f\u3044\u3063\u3066\u3044\u306a\u3044\u3002\u3002\u3002\u3063\u3066\u3053\u3068\u3067\n\n```bash\nGEM_HOME=\"/opt/td-agent/embedded/lib/ruby/gems/2.1.0/\" \\\nGEM_PATH=\"/opt/td-agent/embedded/lib/ruby/gems/2.1.0/\" \\\n/opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.12/bin/fluent-gem install fluent-plugin-forest --no-rdoc --no-ri\n\nls /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/\nfluent-plugin-forest-0.3.0\n```\n\nOK.\n\n\n### \u304a\u307e\u3051\n\n\u4e45\u3057\u3076\u308a\u306bfluent\u3092\u8a2d\u7f6e\u3057\u305f\u3089s3_endpoint\u304cs3_region\u306b\u304b\u308f\u3063\u3066\u3044\u305f\u3002\u8d77\u52d5\u306f\u3059\u308b\u3051\u3069\u30ed\u30b0\u304c\u6765\u308b\u3068\u30a8\u30e9\u30fc\u3092\u5410\u304f\u3002\n```\n[error]: failed to configure sub output s3: s3_endpoint parameter is not supported for S3, use s3_region instead. This parameter is for S3 compatible services\n```\n\n```\ns3_endpoint s3-ap-northeast-1.amazonaws.com\n\u2193\ns3_region ap-northeast-1\n```\n\u3067OK.\n\n\n", "tags": ["fluentd"]}