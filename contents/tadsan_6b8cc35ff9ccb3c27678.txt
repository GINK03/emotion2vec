{"context": " More than 1 year has passed since last update.\u3053\u3093\u306b\u3061\u306f\uff01 \u4e00\u5e74\u307b\u3069\u524d\u306b\u4f5c\u3063\u305fPHP\u306e\u305f\u3081\u306e\u51fd\u6570\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u7528\u30e9\u30a4\u30d6\u30e9\u30eaTeto Functools\u306e\u5229\u7528\u8005\u304c\u5168\u7136\u5897\u3048\u306a\u3044\u306e\u3067\u3001\u4fe1\u8005\u5229\u7528\u8005\u3092\u5897\u3084\u3059\u305f\u3081\u306b\u3001\u3079\u3093\u308a\u6a5f\u80fd\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\n\u306f\u3058\u3081\u306bDownload Composer\u3092\u8aad\u3093\u3067composer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u306d\u3002\n\u305d\u3057\u3066\u3001Functools\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\ncomposer global require zonuexe/functools\n\n\u65e2\u5b58\u306ePHP\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u7d44\u8fbc\u3080\u306b\u306f\u3053\u3046\u3057\u307e\u3059\u3002\ncomposer require zonuexe/functools\n\n\u3068\u308a\u3042\u3048\u305aglobal\u6307\u5b9a\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3053\u3068\u3092\u524d\u63d0\u306b\u30b3\u30fc\u30c9\u66f8\u304f\u3088\u3002\n\n\u7121\u540d\u518d\u5e30\u3068\u306f\n\u7121\u540d\u518d\u5e30\u306f\u3001\u7121\u540d\u51fd\u6570(\u30e9\u30e0\u30c0\u5f0f\u3068\u3082\u547c\u3070\u308c\u308b)\u3092\u4f7f\u3063\u3066\u518d\u5e30\u3059\u308b\u3053\u3068\u3060\u3088\u3002\u5177\u4f53\u7684\u306b\u306f\u4e0d\u52d5\u70b9\u30b3\u30f3\u30d3\u30cd\u30fc\u30bf\u3063\u3066\u30c6\u30af\u30cb\u30c3\u30af\u3092\u5229\u7528\u3059\u308b\u3093\u3060\u3002\u305d\u306e\u4e2d\u3067\u3082\u4e00\u756a\u6709\u540d\u306a\u306e\u304c\u300cY\u30b3\u30f3\u30d3\u30cd\u30fc\u30bf\u300d\u3060\u3088\u3002\u30cd\u30c3\u30c8\u30d3\u30b8\u30cd\u30b9\u3084\u30d9\u30f3\u30c1\u30e3\u30fc\u306b\u3064\u3044\u3066\u8208\u5473\u306e\u3042\u308b\u3072\u3068\u306fY Combinator\u3092\u77e5\u3063\u3066\u308b\u306f\u305a\u3060\u3051\u3069\u3001\u3053\u306e\u30d9\u30f3\u30c1\u30e3\u30fc\u30ad\u30e3\u30d4\u30bf\u30eb\u3092\u7387\u3090\u308b\u30dd\u30fc\u30eb\u30fb\u30b0\u30ec\u30a2\u30e0\u306f\u6709\u540d\u306aLisper\u306a\u3093\u3060\u3002\nHaskell/\u4e0d\u52d5\u70b9\u3068\u518d\u5e30 - Wikibooks\u306b\u3088\u308c\u3070\u3001Haskell\u3067\u306ffix\u3063\u3066\u540d\u524d\u3089\u3057\u3044\u304b\u3089\u3001\u6065\u3082\u5916\u805e\u3082\u306a\u304f\u3071\u304f\u3063\u3066\u304d\u305f\u3088\u3002\u30ab\u30c3\u30b3\u30a4\u30a4\u7528\u8a9e\u306b\u9154\u3063\u3066\u4e2d\u4e8c\u5fc3\u304c\u6ea2\u308c\u51fa\u3057\u3066\u304d\u305f\u306e\u3067Y\u30b3\u30f3\u30d3\u30cd\u30fc\u30bf\u3092\u5b9f\u88c5\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3051\u3069\u3001Teto\\Functools::fix()\u3067\u63a1\u7528\u3055\u308c\u3066\u308b\u306e\u306f\u6b63\u78ba\u306b\u306f\u6b63\u683c\u8a55\u4fa1\u306e\u8a00\u8a9e\u3067\u3082\u5229\u7528\u53ef\u80fd\u306a\u3088\u3046\u5909\u5f62\u3057\u305f\u300cZ\u30b3\u30f3\u30d3\u30cd\u30fc\u30bf\u300d\u3060\u3088\u3002\u6b63\u683c\u3060\u3051\u306b\u306d\uff01\n\n\u7121\u540d\u518d\u5e30\u306e\u3084\u308a\u304b\u305f\nPHP\u3067\u30b7\u30e7\u30fc\u30c8\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3057\u305f\u3044\u3068\u601d\u3075\u3058\u3083\u306a\u3044\u3067\u3059\u304b\u3002\n<?php\n($f = function ($n, $max) use (&$f){\n    if ($n <= $max) {\n        printf(\"%d\u306f%s\".PHP_EOL, $n, ($n % 2 === 0) ? \"\u5076\u6570\" : \"\u5947\u6570\");\n        $f($n + 1, $max);\n    }\n})(1, 20);\n\n\u2191 \u3053\u306e\u30b3\u30fc\u30c9\u306fPHP7\u3067\u306f\u52d5\u304f\u3051\u3069\u3001PHP5\u7cfb\u3067\u306fSyntax error\u306a\u3093\u3060\u2026\uff01\n<?php\nuse Teto\\Functools as f;\nrequire_once getenv('HOME') . '/.composer/vendor/autoload.php';\n\ncall_user_func(f::fix(function ($f) {\n    return function ($n, $max) use ($f){\n        if ($n <= $max) {\n            printf(\"%d\u306f%s\".PHP_EOL, $n, ($n % 2 === 0) ? \"\u5076\u6570\" : \"\u5947\u6570\");\n            $f($n + 1, $max);\n        }\n    };\n}), 1, 20);\n\n\u3053\u308c\u3067PHP5\u3067\u3082\u5f0f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u304c\u3067\u304d\u308b\u305e\uff01 \u3064\u3044\u3067\u306b\u3001\u898b\u3059\u307c\u3089\u3057\u3044$f =\u3082\u6d88\u3048\u3066\u8d85\u30cf\u30c3\u30d4\u30fc\u3002\n\n\u7121\u540d\u518d\u5e30\u306e\u6d3b\u7528\u4f8b\n\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7 with PHP - Qiita\u3092\u898b\u305f\u3089\u89e6\u767a\u3055\u308c\u305f\u306e\u3067\u66f8\u3044\u3066\u307f\u305f\u3088\u3002\n<?php\nuse Teto\\Functools as f;\nrequire_once getenv('HOME') . '/.composer/vendor/autoload.php';\n\ncall_user_func(f::fix(function ($func) {\n    $zundoco = function () {\n        static $zundoco = ['\u30ba\u30f3', '\u30c9\u30b3'];\n        return $zundoco[mt_rand(0, 1)];\n    };\n\n    static $pattern = ['\u30ba\u30f3', '\u30ba\u30f3', '\u30ba\u30f3', '\u30ba\u30f3', '\u30c9\u30b3'];\n    return function (array $a) use ($zundoco, $pattern, &$func) {\n        $len = count($a);\n        if (isset($a[$len - 1])) {\n            echo $a[$len - 1], PHP_EOL;\n        }\n        if ($a === $pattern) {\n            echo '\u30ad\u30fb\u30e8\u30fb\u30b7\uff01', PHP_EOL;\n        } else {\n            $func(array_merge(\n                ((count($pattern) > $len) ? $a : array_slice($a, 1)),\n                [$zundoco()]\n            ));\n        }\n    };\n}), []);\n\n\u3053\u3093\u306b\u3061\u306f\uff01 \u4e00\u5e74\u307b\u3069\u524d\u306b\u4f5c\u3063\u305fPHP\u306e\u305f\u3081\u306e\u51fd\u6570\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u7528\u30e9\u30a4\u30d6\u30e9\u30ea[Teto Functools](https://github.com/BaguettePHP/Functools/)\u306e\u5229\u7528\u8005\u304c\u5168\u7136\u5897\u3048\u306a\u3044\u306e\u3067\u3001~~\u4fe1\u8005~~\u5229\u7528\u8005\u3092\u5897\u3084\u3059\u305f\u3081\u306b\u3001\u3079\u3093\u308a\u6a5f\u80fd\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\n\n\u306f\u3058\u3081\u306b[Download Composer](https://getcomposer.org/download/)\u3092\u8aad\u3093\u3067`composer`\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u306d\u3002\n\n\u305d\u3057\u3066\u3001Functools\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```\ncomposer global require zonuexe/functools\n```\n\n\u65e2\u5b58\u306ePHP\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u7d44\u8fbc\u3080\u306b\u306f\u3053\u3046\u3057\u307e\u3059\u3002\n\n```\ncomposer require zonuexe/functools\n```\n\n\u3068\u308a\u3042\u3048\u305a`global`\u6307\u5b9a\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3053\u3068\u3092\u524d\u63d0\u306b\u30b3\u30fc\u30c9\u66f8\u304f\u3088\u3002\n\n## \u7121\u540d\u518d\u5e30\u3068\u306f\n\n[\u7121\u540d\u518d\u5e30](https://ja.wikipedia.org/wiki/%E7%84%A1%E5%90%8D%E5%86%8D%E5%B8%B0)\u306f\u3001\u7121\u540d\u51fd\u6570(\u30e9\u30e0\u30c0\u5f0f\u3068\u3082\u547c\u3070\u308c\u308b)\u3092\u4f7f\u3063\u3066[\u518d\u5e30](https://ja.wikipedia.org/wiki/%E5%86%8D%E5%B8%B0)\u3059\u308b\u3053\u3068\u3060\u3088\u3002\u5177\u4f53\u7684\u306b\u306f[\u4e0d\u52d5\u70b9\u30b3\u30f3\u30d3\u30cd\u30fc\u30bf](https://ja.wikipedia.org/wiki/%E4%B8%8D%E5%8B%95%E7%82%B9%E3%82%B3%E3%83%B3%E3%83%93%E3%83%8D%E3%83%BC%E3%82%BF)\u3063\u3066\u30c6\u30af\u30cb\u30c3\u30af\u3092\u5229\u7528\u3059\u308b\u3093\u3060\u3002\u305d\u306e\u4e2d\u3067\u3082\u4e00\u756a\u6709\u540d\u306a\u306e\u304c\u300cY\u30b3\u30f3\u30d3\u30cd\u30fc\u30bf\u300d\u3060\u3088\u3002\u30cd\u30c3\u30c8\u30d3\u30b8\u30cd\u30b9\u3084\u30d9\u30f3\u30c1\u30e3\u30fc\u306b\u3064\u3044\u3066\u8208\u5473\u306e\u3042\u308b\u3072\u3068\u306f[Y Combinator](https://ja.wikipedia.org/wiki/Y%E3%82%B3%E3%83%B3%E3%83%93%E3%83%8D%E3%83%BC%E3%82%BF_(%E4%BC%81%E6%A5%AD))\u3092\u77e5\u3063\u3066\u308b\u306f\u305a\u3060\u3051\u3069\u3001\u3053\u306e\u30d9\u30f3\u30c1\u30e3\u30fc\u30ad\u30e3\u30d4\u30bf\u30eb\u3092\u7387\u3090\u308b[\u30dd\u30fc\u30eb\u30fb\u30b0\u30ec\u30a2\u30e0](https://ja.wikipedia.org/wiki/%E3%83%9D%E3%83%BC%E3%83%AB%E3%83%BB%E3%82%B0%E3%83%AC%E3%82%A2%E3%83%A0)\u306f\u6709\u540d\u306aLisper\u306a\u3093\u3060\u3002\n\n[Haskell/\u4e0d\u52d5\u70b9\u3068\u518d\u5e30 - Wikibooks](https://ja.wikibooks.org/wiki/Haskell/%E4%B8%8D%E5%8B%95%E7%82%B9%E3%81%A8%E5%86%8D%E5%B8%B0)\u306b\u3088\u308c\u3070\u3001Haskell\u3067\u306f`fix`\u3063\u3066\u540d\u524d\u3089\u3057\u3044\u304b\u3089\u3001\u6065\u3082\u5916\u805e\u3082\u306a\u304f\u3071\u304f\u3063\u3066\u304d\u305f\u3088\u3002\u30ab\u30c3\u30b3\u30a4\u30a4\u7528\u8a9e\u306b\u9154\u3063\u3066\u4e2d\u4e8c\u5fc3\u304c\u6ea2\u308c\u51fa\u3057\u3066\u304d\u305f\u306e\u3067Y\u30b3\u30f3\u30d3\u30cd\u30fc\u30bf\u3092\u5b9f\u88c5\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3051\u3069\u3001[`Teto\\Functools::fix()`](https://github.com/BaguettePHP/Functools/blob/master/src/Functools.php#L147)\u3067\u63a1\u7528\u3055\u308c\u3066\u308b\u306e\u306f\u6b63\u78ba\u306b\u306f\u6b63\u683c\u8a55\u4fa1\u306e\u8a00\u8a9e\u3067\u3082\u5229\u7528\u53ef\u80fd\u306a\u3088\u3046\u5909\u5f62\u3057\u305f\u300cZ\u30b3\u30f3\u30d3\u30cd\u30fc\u30bf\u300d\u3060\u3088\u3002\u6b63\u683c\u3060\u3051\u306b\u306d\uff01\n\n## \u7121\u540d\u518d\u5e30\u306e\u3084\u308a\u304b\u305f\n\nPHP\u3067\u30b7\u30e7\u30fc\u30c8\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3057\u305f\u3044\u3068\u601d\u3075\u3058\u3083\u306a\u3044\u3067\u3059\u304b\u3002\n\n```php\n<?php\n($f = function ($n, $max) use (&$f){\n    if ($n <= $max) {\n        printf(\"%d\u306f%s\".PHP_EOL, $n, ($n % 2 === 0) ? \"\u5076\u6570\" : \"\u5947\u6570\");\n        $f($n + 1, $max);\n    }\n})(1, 20);\n```\n\n\u2191 \u3053\u306e\u30b3\u30fc\u30c9\u306fPHP7\u3067\u306f\u52d5\u304f\u3051\u3069\u3001PHP5\u7cfb\u3067\u306fSyntax error\u306a\u3093\u3060\u2026\uff01\n\n```php\n<?php\nuse Teto\\Functools as f;\nrequire_once getenv('HOME') . '/.composer/vendor/autoload.php';\n\ncall_user_func(f::fix(function ($f) {\n    return function ($n, $max) use ($f){\n        if ($n <= $max) {\n            printf(\"%d\u306f%s\".PHP_EOL, $n, ($n % 2 === 0) ? \"\u5076\u6570\" : \"\u5947\u6570\");\n            $f($n + 1, $max);\n        }\n    };\n}), 1, 20);\n```\n\n\u3053\u308c\u3067PHP5\u3067\u3082\u5f0f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u304c\u3067\u304d\u308b\u305e\uff01 \u3064\u3044\u3067\u306b\u3001\u898b\u3059\u307c\u3089\u3057\u3044`$f = `\u3082\u6d88\u3048\u3066\u8d85\u30cf\u30c3\u30d4\u30fc\u3002\n\n## \u7121\u540d\u518d\u5e30\u306e\u6d3b\u7528\u4f8b\n\n[\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7 with PHP - Qiita](http://qiita.com/shinderuman@github/items/7c432e8cb7719d35342a)\u3092\u898b\u305f\u3089\u89e6\u767a\u3055\u308c\u305f\u306e\u3067\u66f8\u3044\u3066\u307f\u305f\u3088\u3002\n\n```php\n<?php\nuse Teto\\Functools as f;\nrequire_once getenv('HOME') . '/.composer/vendor/autoload.php';\n\ncall_user_func(f::fix(function ($func) {\n    $zundoco = function () {\n        static $zundoco = ['\u30ba\u30f3', '\u30c9\u30b3'];\n        return $zundoco[mt_rand(0, 1)];\n    };\n\n    static $pattern = ['\u30ba\u30f3', '\u30ba\u30f3', '\u30ba\u30f3', '\u30ba\u30f3', '\u30c9\u30b3'];\n    return function (array $a) use ($zundoco, $pattern, &$func) {\n        $len = count($a);\n        if (isset($a[$len - 1])) {\n            echo $a[$len - 1], PHP_EOL;\n        }\n        if ($a === $pattern) {\n            echo '\u30ad\u30fb\u30e8\u30fb\u30b7\uff01', PHP_EOL;\n        } else {\n            $func(array_merge(\n                ((count($pattern) > $len) ? $a : array_slice($a, 1)),\n                [$zundoco()]\n            ));\n        }\n    };\n}), []);\n```\n\n", "tags": ["PHP", "\u30dd\u30a8\u30e0"]}