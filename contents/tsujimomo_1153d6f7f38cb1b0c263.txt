{"context": " More than 1 year has passed since last update.\n\nPHP\u3001\u6587\u5b57\u5316\u3051\u305b\u305a\u306bCSV\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\n\n\u25a0about\nPHP\u3001\u6587\u5b57\u5316\u3051\u305b\u305a\u306bCSV\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\n\u203b\nhtml\u30bf\u30b0\u304c\u6587\u5b57\u5316\u3051\u3059\u308b\u306e\u3067HTML \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u5909\u63db\n\u8868\u793a\u3059\u308b\u6642\u306bHTML \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u30c7\u30b3\u30fc\u30c9\u3059\u308b\n\n\u25a0code\n\nphp\n//excel csv\u3001\u6587\u5b57\u30b3\u30fc\u30c9\u5909\u63db\nsetlocale(LC_ALL, 'ja_JP.UTF-8');\n\n$file = $file_neme . \".csv\";\n$data = file_get_contents($file);\n$data = mb_convert_encoding($data, 'UTF-8', 'sjis-win');\n\n$temp = tmpfile();\n$csv  = array();\n\nfwrite($temp, $data);\nrewind($temp);\n\nwhile (($data = fgetcsv($temp, 0, \",\")) !== FALSE) {\n$data = implode(\",\", $data);\n//html\u30bf\u30b0\u304c\u6587\u5b57\u5316\u3051\u3059\u308b\u306e\u3067HTML \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u5909\u63db\n//\u8868\u793a\u3059\u308b\u6642\u306bHTML \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u30c7\u30b3\u30fc\u30c9\u3059\u308b\n  $csv[] = htmlentities($data);\n}\nfclose($temp);\n//var_dump($csv);\n\n\n\nphp\n//\u8868\u793a\u3059\u308b\u6642\u306bHTML \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u30c7\u30b3\u30fc\u30c9\u3059\u308b\necho html_entity_decode($line);\n\n\n\n\u25a0reference\n[PHP]\u6587\u5b57\u5316\u3051\u305b\u305a\u306bCSV\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u3001\u914d\u5217\u306b\u5909\u63db\u3059\u308b | PHP Archive\nhttp://php-archive.net/php/csv-tsv-array/\nPHP: mb_convert_encoding - Manual\nhttp://www.php.net/manual/ja/function.mb-convert-encoding.php\nPHP: htmlentities - Manual\nhttp://www.php.net/manual/ja/function.htmlentities.php\nPHP: html_entity_decode - Manual\nhttp://www.php.net/manual/ja/function.html-entity-decode.php\nPHP\u3001\u6587\u5b57\u5316\u3051\u305b\u305a\u306bCSV\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\n==========\n\n\n\u25a0about\n----------\n\nPHP\u3001\u6587\u5b57\u5316\u3051\u305b\u305a\u306bCSV\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\n\u203b\nhtml\u30bf\u30b0\u304c\u6587\u5b57\u5316\u3051\u3059\u308b\u306e\u3067HTML \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u5909\u63db\n\u8868\u793a\u3059\u308b\u6642\u306bHTML \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u30c7\u30b3\u30fc\u30c9\u3059\u308b\n\n\n\n\n\u25a0code\n----------\n\n```php:php\n//excel csv\u3001\u6587\u5b57\u30b3\u30fc\u30c9\u5909\u63db\nsetlocale(LC_ALL, 'ja_JP.UTF-8');\n \n$file = $file_neme . \".csv\";\n$data = file_get_contents($file);\n$data = mb_convert_encoding($data, 'UTF-8', 'sjis-win');\n\n$temp = tmpfile();\n$csv  = array();\n \nfwrite($temp, $data);\nrewind($temp);\n \nwhile (($data = fgetcsv($temp, 0, \",\")) !== FALSE) {\n$data = implode(\",\", $data);\n//html\u30bf\u30b0\u304c\u6587\u5b57\u5316\u3051\u3059\u308b\u306e\u3067HTML \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u5909\u63db\n//\u8868\u793a\u3059\u308b\u6642\u306bHTML \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u30c7\u30b3\u30fc\u30c9\u3059\u308b\n  $csv[] = htmlentities($data);\n}\nfclose($temp);\n//var_dump($csv);\n```\n\n```php:php\n//\u8868\u793a\u3059\u308b\u6642\u306bHTML \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u30c7\u30b3\u30fc\u30c9\u3059\u308b\necho html_entity_decode($line);\n```\n\n\n\n\n\u25a0reference\n----------\n\n[PHP]\u6587\u5b57\u5316\u3051\u305b\u305a\u306bCSV\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u3001\u914d\u5217\u306b\u5909\u63db\u3059\u308b | PHP Archive\nhttp://php-archive.net/php/csv-tsv-array/\n\nPHP: mb_convert_encoding - Manual\nhttp://www.php.net/manual/ja/function.mb-convert-encoding.php\n\nPHP: htmlentities - Manual\nhttp://www.php.net/manual/ja/function.htmlentities.php\n\nPHP: html_entity_decode - Manual\nhttp://www.php.net/manual/ja/function.html-entity-decode.php\n", "tags": ["PHP", "CSV"]}