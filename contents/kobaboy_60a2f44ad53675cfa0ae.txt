{"tags": ["Swift", "Xcode66.3", "\u30e1\u30fc\u30eb\u9001\u4fe1"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u306f\u3058\u3081\u306b\n\u30a2\u30d7\u30ea\u5185\u3067\u30e1\u30fc\u30e9\u30fc\u3092\u8d77\u52d5\u3055\u305b\u3001\nCSV\u30d5\u30a1\u30a4\u30eb\u3092\u6dfb\u4ed8\u3057\u305f\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u305f\u3044\u3068\u601d\u3044\u3001\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306f\u3001\u30a2\u30d7\u30ea\u5185\u3067\u30e1\u30fc\u30e9\u30fc\u3092\u8d77\u52d5\u3057\u3066\u30e1\u30fc\u30eb\u9001\u4fe1\u3059\u308b\u3084\u308a\u65b9\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n\u624b\u9806\n\nMessageUI\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u8ffd\u52a0\u3059\u308b\nMessageUI\u3092import\u3059\u308b\nMFMailComposeViewController\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u3001\u5b9b\u5148\u3084\u672c\u6587\u306a\u3069\u3092\u8a2d\u5b9a\u3059\u308b\nMFMailComposeViewControllerDelegate\u3067\u7d42\u4e86\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\n\n\n1. \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u8ffd\u52a0\n\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u8ffd\u52a0\u306b\u95a2\u3059\u308b\u53c2\u8003\u30b5\u30a4\u30c8\n\u307e\u305a\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306bMessageUI\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u2460\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30a8\u30ea\u30a2\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u304c\u66f8\u304b\u308c\u3066\u3044\u308b\u9805\u76ee\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\n\u3000BuildPhases\u306e\u9805\u76ee\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\u4e0b\u8a18\u753b\u50cf\u53c2\u7167\u3002\n\n\u2461Link Binary with Libraries\u306e+\u30de\u30fc\u30af\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3002\n\u3000\u691c\u7d22\u6b04\u306bMessageUI\u3068\u5165\u529b\u3059\u308b\u3068MessageUI.framework\u304c\u51fa\u3066\u304f\u308b\u3002\n\u3000MessageUI.framework\u3092\u9078\u629e\u3057\u3001Add\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3002\u4e0b\u8a18\u753b\u50cf\u53c2\u7167\u3002\n\n\u2462\u305d\u3046\u3059\u308b\u3068\u3001Link Binary with Libraries\u306bMessageUI.framework\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3002\n\u3000\u4e0b\u8a18\u753b\u50cf\u53c2\u7167\u3002\n\n\n2. \u6e96\u5099\nimport MessageUI\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\u7d42\u4e86\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306b\u3001MFMailComposeViewControllerDelegate\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\nViewController.swift\nimport UIKit\nimport MessageUI\n\nclass ViewController: UIViewController, MFMailComposeViewControllerDelegate{\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        // Do any additional setup after loading the view, typically from a nib.\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n}\n\n\n\n3. \u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u3089\u30e1\u30fc\u30e9\u30fc\u304c\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n\n3-1. \u30dc\u30bf\u30f3\u306e\u4f5c\u6210\n\u9069\u5f53\u306b\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002(\u4ee5\u4e0b\u3001storyboard\u306f\u4f7f\u7528\u3057\u306a\u3044\u3067\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059)\nViewController.swift\u306blet startMailerBtn = UIButton(frame: CGRectMake(0,0,200,30))\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001viewDidLoad()\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\nstartMailerBtn.layer.position = CGPoint(x:self.view.bounds.width/2,y:y:self.view.bounds.height/2);\nstartMailerBtn.setTitle(\"\u30e1\u30fc\u30eb\u9001\u4fe1\", forState: .Normal)\nstartMailerBtn.setTitleColor(UIColor.blueColor(), forState: .Normal)\nstartMailerBtn.addTarget(self, action: \"onClickStartmailerBtn:\", forControlEvents: .TouchUpInside)\nself.view.addSubview(startMailerBtn)\n\n\u2193\u5168\u4f53\n\nViewController.swift\nimport UIKit\nimport MessageUI\n\nclass ViewController: UIViewController, MFMailComposeViewControllerDelegate{\n\n    let startMailerBtn = UIButton(frame: CGRectMake(0,0,200,30))\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        // Do any additional setup after loading the view, typically from a nib.\n\n        startMailerBtn.layer.position = CGPoint(x:self.view.bounds.width/2,y:y:self.view.bounds.height/2);\n        startMailerBtn.setTitle(\"\u30e1\u30fc\u30eb\u9001\u4fe1\", forState: .Normal)\n        startMailerBtn.setTitleColor(UIColor.blueColor(), forState: .Normal)\n        startMailerBtn.addTarget(self, action: \"onClickStartMailerBtn:\", forControlEvents: .TouchUpInside)\n        self.view.addSubview(startMailerBtn)\n\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n\n\n}\n\n\n\u3053\u308c\u3067\"\u30e1\u30fc\u30eb\u9001\u4fe1\"\u3068\u3044\u3046\u540d\u524d\u306e\u30dc\u30bf\u30f3\u3092\u8868\u793a\u3067\u304d\u307e\u3057\u305f\u3002\n\n\n3-2. \u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u3089\u30e1\u30fc\u30e9\u30fc\u304c\u8d77\u52d5\u3059\u308b\u51e6\u7406\n\u30dc\u30bf\u30f3\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u305f\u6642\u306e\u51e6\u7406\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u3001\n\u307e\u305aViewController.swift\u306bonClickStartMailerBtn\u95a2\u6570\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u305d\u306e\u4e2d\u306b\u3001\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n//\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3067\u304d\u308b\u304b\u30c1\u30a7\u30c3\u30af\nif MFMailComposeViewController.canSendMail()==false {\n    println(\"Email Send Failed\")\n    return\n}\n\nvar mailViewController = MFMailComposeViewController()\nvar toRecipients = [\"to@1gmail.com\"] //To\u306e\u30a2\u30c9\u30ec\u30b9\u6307\u5b9a\nvar CcRecipients = [\"cc@1gmail.com\",\"Cc2@1gmail.com\"] //Cc\u306e\u30a2\u30c9\u30ec\u30b9\u6307\u5b9a\nvar BccRecipients = [\"Bcc@1gmail.com\",\"Bcc2@1gmail.com\"] //Bcc\u306e\u30a2\u30c9\u30ec\u30b9\u6307\u5b9a\n\nmailViewController.mailComposeDelegate = self\nmailViewController.setSubject(\"\u30e1\u30fc\u30eb\u306e\u4ef6\u540d\")\nmailViewController.setToRecipients(toRecipients) //To\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\nmailViewController.setCcRecipients(CcRecipients) //Cc\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\nmailViewController.setBccRecipients(BccRecipients) //Bcc\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\nmailViewController.setMessageBody(\"\u30e1\u30fc\u30eb\u306e\u672c\u6587\", isHTML: false)\nself.presentViewController(mailViewController, animated: true, completion: nil)\n\n\u2193\u5168\u4f53\n\nViewController.swift\nimport UIKit\nimport MessageUI\n\nclass ViewController: UIViewController, MFMailComposeViewControllerDelegate{\n\n    let startMailerBtn = UIButton(frame: CGRectMake(0,0,200,30))\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        // Do any additional setup after loading the view, typically from a nib.\n\n        startMailerBtn.layer.position = CGPoint(x:self.view.bounds.width/2,y:self.view.bounds.height/2);\n        startMailerBtn.setTitle(\"\u30e1\u30fc\u30eb\u9001\u4fe1\", forState: .Normal)\n        startMailerBtn.setTitleColor(UIColor.blueColor(), forState: .Normal)\n        startMailerBtn.addTarget(self, action: \"onClickStartMailerBtn:\", forControlEvents: .TouchUpInside)\n        self.view.addSubview(startMailerBtn)\n\n    }\n\n    func onClickStartMailerBtn(sender: UIButton) {\n        //\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3067\u304d\u308b\u304b\u30c1\u30a7\u30c3\u30af\n        if MFMailComposeViewController.canSendMail()==false {\n            println(\"Email Send Failed\")\n            return\n        }\n\n        var mailViewController = MFMailComposeViewController()\n        var toRecipients = [\"to@1gmail.com\"]\n        var CcRecipients = [\"cc@1gmail.com\",\"Cc2@1gmail.com\"]\n        var BccRecipients = [\"Bcc@1gmail.com\",\"Bcc2@1gmail.com\"]\n\n\n        mailViewController.mailComposeDelegate = self\n        mailViewController.setSubject(\"\u30e1\u30fc\u30eb\u306e\u4ef6\u540d\")\n        mailViewController.setToRecipients(toRecipients) //To\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\n        mailViewController.setCcRecipients(CcRecipients) //Cc\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\n        mailViewController.setBccRecipients(BccRecipients) //Bcc\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\n        mailViewController.setMessageBody(\"\u30e1\u30fc\u30eb\u306e\u672c\u6587\", isHTML: false)\n\n        self.presentViewController(mailViewController, animated: true, completion: nil)\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n\n\n}\n\n\n\u3053\u308c\u3067\u3001\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30e1\u30fc\u30e9\u30fc\u3092\u8868\u793a\u3055\u305b\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\n\n\u3082\u3057\u3001\n\u30e1\u30fc\u30eb\u672c\u6587\u306b\u753b\u50cf\u3092\u8868\u793a\u3055\u305b\u305f\u3044\u5834\u5408\u306f\u3001\n\u4ee5\u4e0b\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092onClickStartMailerBtn\u95a2\u6570\u306b\n\u8ffd\u52a0\u3057\u3066\u3042\u3052\u308c\u3070\u4e0b\u8a18\u306e\u753b\u50cf\u306e\u3088\u3046\u306b\u30e1\u30fc\u30eb\u672c\u6587\u306b\u753b\u50cf\u3092\u8868\u793a\u3067\u304d\u307e\u3059\u3002\nvar image = UIImage(named: \"myphoto.png\")\nvar imageData = UIImageJPEGRepresentation(image, 1.0)\nmailViewController.addAttachmentData(imageData, mimeType: \"image/png\", fileName: \"image\")\n\n\n\n3-3. \u7d42\u4e86\u51e6\u7406\u306e\u8ffd\u52a0\n\u3053\u306e\u307e\u307e\u3060\u3068\u3001Send\u3084Cancel\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3082\u30e1\u30fc\u30eb\u753b\u9762\u304c\u9589\u3058\u306a\u3044\u305f\u3081\u3001\n\u4ee5\u4e0b\u306e\u9589\u3058\u308b\u51e6\u7406\u3092\u8ffd\u52a0\u3059\u308b\u3002\nfunc mailComposeController(controller: MFMailComposeViewController!, didFinishWithResult result: MFMailComposeResult, error: NSError!) {\n\n    switch result.value {\n    case MFMailComposeResultCancelled.value:\n        println(\"Email Send Cancelled\")\n        break\n    case MFMailComposeResultSaved.value:\n        println(\"Email Saved as a Draft\")\n        break\n    case MFMailComposeResultSent.value:\n        println(\"Email Sent Successfully\")\n        break\n    case MFMailComposeResultFailed.value:\n        println(\"Email Send Failed\")\n        break\n    default:\n        break\n    }\n\n    self.dismissViewControllerAnimated(true, completion: nil)\n} \n\n\u2193\u5168\u4f53\n\nViewController.swift\nimport UIKit\nimport MessageUI\n\nclass ViewController: UIViewController, MFMailComposeViewControllerDelegate{\n\n    let startMailerBtn = UIButton(frame: CGRectMake(0,0,200,30))\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        // Do any additional setup after loading the view, typically from a nib.\n\n        startMailerBtn.layer.position = CGPoint(x:self.view.bounds.width/2,y:self.view.bounds.height/2);\n        startMailerBtn.setTitle(\"\u30e1\u30fc\u30eb\u9001\u4fe1\", forState: .Normal)\n        startMailerBtn.setTitleColor(UIColor.blueColor(), forState: .Normal)\n        startMailerBtn.addTarget(self, action: \"onClickStartMailerBtn:\", forControlEvents: .TouchUpInside)\n        self.view.addSubview(startMailerBtn)\n\n    }\n\n    func onClickStartMailerBtn(sender: UIButton) {\n        //\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3067\u304d\u308b\u304b\u30c1\u30a7\u30c3\u30af\n        if MFMailComposeViewController.canSendMail()==false {\n            println(\"Email Send Failed\")\n            return\n        }\n\n        var mailViewController = MFMailComposeViewController()\n        var toRecipients = [\"to@1gmail.com\"]\n        var CcRecipients = [\"cc@1gmail.com\",\"Cc2@1gmail.com\"]\n        var BccRecipients = [\"Bcc@1gmail.com\",\"Bcc2@1gmail.com\"]\n\n\n        mailViewController.mailComposeDelegate = self\n        mailViewController.setSubject(\"\u30e1\u30fc\u30eb\u306e\u4ef6\u540d\")\n        mailViewController.setToRecipients(toRecipients) //\u5b9b\u5148\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\n        mailViewController.setCcRecipients(CcRecipients)\n        mailViewController.setBccRecipients(BccRecipients)\n        mailViewController.setMessageBody(\"\u30e1\u30fc\u30eb\u306e\u672c\u6587\", isHTML: false)\n\n        self.presentViewController(mailViewController, animated: true, completion: nil)\n    }\n\n    func mailComposeController(controller: MFMailComposeViewController!, didFinishWithResult result: MFMailComposeResult, error: NSError!) {\n\n        switch result.value {\n        case MFMailComposeResultCancelled.value:\n            println(\"Email Send Cancelled\")\n            break\n        case MFMailComposeResultSaved.value:\n            println(\"Email Saved as a Draft\")\n            break\n        case MFMailComposeResultSent.value:\n            println(\"Email Sent Successfully\")\n            break\n        case MFMailComposeResultFailed.value:\n            println(\"Email Send Failed\")\n            break\n        default:\n            break\n        }\n\n        self.dismissViewControllerAnimated(true, completion: nil)\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n\n}\n\n\n\u3053\u308c\u3067\u3001\"\u30e1\u30fc\u30eb\u9001\u4fe1\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u3089\u30e1\u30fc\u30e9\u30fc\u304c\u8d77\u52d5\u3057\u3066\u3001\n\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u305f\u308a\u30e1\u30fc\u30eb\u753b\u9762\u3092\u9589\u3058\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\n\n\u5b8c\u6210\u7248\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\nhttps://github.com/chankei1/CSVAttachedToMailer\n\u3053\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u5f8c\u65e5csv\u30d5\u30a1\u30a4\u30eb\u3092\u6dfb\u4ed8\u3067\u304d\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3082\u8ffd\u52a0\u3057\u3066\u3044\u3053\u3046\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u304a\u308f\u308a\u306b\n\u4eca\u56de\u306f\u3001\u5b9b\u5148\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u30fb\u4ef6\u540d\u30fb\u672c\u6587\u306e\u6307\u5b9a\u3092\u3057\u3066\u30e1\u30fc\u30e9\u30fc\u3092\u8d77\u52d5\u3057\u3001\n\u30e1\u30fc\u30eb\u672c\u6587\u306b\u753b\u50cf\u3092\u8868\u793a\u3055\u305b\u3066\u30e1\u30fc\u30eb\u9001\u4fe1\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\u5f8c\u65e5\u3001\u3053\u306e\u30e1\u30fc\u30eb\u306b\u30a2\u30d7\u30ea\u5185\u3067\u751f\u6210\u3057\u305fCSV\u30d5\u30a1\u30a4\u30eb\u3092\u81ea\u52d5\u6dfb\u4ed8\u3059\u308b\u3084\u308a\u65b9\u3092\u307e\u3068\u3081\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u53c2\u8003\u30b5\u30a4\u30c8\n\u300cMFMailComposeViewController\u3067\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u300d\nURL\uff1ahttp://www.mikamiz.jp/dev/iphone/a0005.html\n\u300c\u3010swift\u3011\u30a2\u30d7\u30ea\u5185\u3067mailer\u3092\u7acb\u3061\u4e0a\u3052\u3066\u30fc\u30d0\u30b0\u30ea\u30dd\u30fc\u30c8\u6a5f\u80fd\u306e\u5b9f\u88c5\u3010CoffeeNote\u958b\u767a\u8a18\u9332\u3011\u300d\nURL\uff1ahttp://totutotu.hatenablog.com/entry/2014/12/11/%E3%80%90swift%E3%80%91%E3%82%A2%E3%83%97%E3%83%AA%E5%86%85%E3%81%A7mailer%E3%82%92%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%81%A6%E3%83%BC%E3%83%90%E3%82%B0%E3%83%AA%E3%83%9D%E3%83%BC%E3%83%88%E6%A9%9F\n\u300c\u30a2\u30d7\u30ea\u304b\u3089\u753b\u50cf\u3092\u6dfb\u4ed8\u3057\u3066\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u65b9\u6cd5\u300d\nURL\uff1ahttp://www.crossbridge.biz/mfmailcomposeviewcontroller-with-image\n\u300cStack Overflow(Failed on using Swift to implement in-app email)\u300d\nURL\uff1ahttp://stackoverflow.com/questions/24255270/failed-on-using-swift-to-implement-in-app-email\n#\u306f\u3058\u3081\u306b\n\u30a2\u30d7\u30ea\u5185\u3067\u30e1\u30fc\u30e9\u30fc\u3092\u8d77\u52d5\u3055\u305b\u3001\nCSV\u30d5\u30a1\u30a4\u30eb\u3092\u6dfb\u4ed8\u3057\u305f\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u305f\u3044\u3068\u601d\u3044\u3001\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306f\u3001\u30a2\u30d7\u30ea\u5185\u3067\u30e1\u30fc\u30e9\u30fc\u3092\u8d77\u52d5\u3057\u3066\u30e1\u30fc\u30eb\u9001\u4fe1\u3059\u308b\u3084\u308a\u65b9\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n#\u624b\u9806\n1. MessageUI\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u8ffd\u52a0\u3059\u308b\n2. MessageUI\u3092import\u3059\u308b\n3. MFMailComposeViewController\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u3001\u5b9b\u5148\u3084\u672c\u6587\u306a\u3069\u3092\u8a2d\u5b9a\u3059\u308b\n4. MFMailComposeViewControllerDelegate\u3067\u7d42\u4e86\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\n \n\n#1. \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u8ffd\u52a0\n[\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u8ffd\u52a0\u306b\u95a2\u3059\u308b\u53c2\u8003\u30b5\u30a4\u30c8](http://techacademy.jp/magazine/2703)\n\u307e\u305a\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b**MessageUI\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af**\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n \n\u2460\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30a8\u30ea\u30a2\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u304c\u66f8\u304b\u308c\u3066\u3044\u308b\u9805\u76ee\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\n\u3000**BuildPhases**\u306e\u9805\u76ee\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\u4e0b\u8a18\u753b\u50cf\u53c2\u7167\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-05-01 16.51.36.png](https://qiita-image-store.s3.amazonaws.com/0/75241/21115884-222f-9cb3-394a-bcebb2359680.png)\n\n\u2461**Link Binary with Libraries**\u306e**+**\u30de\u30fc\u30af\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3002\n\u3000\u691c\u7d22\u6b04\u306b**MessageUI**\u3068\u5165\u529b\u3059\u308b\u3068**MessageUI.framework**\u304c\u51fa\u3066\u304f\u308b\u3002\n\u3000**MessageUI.framework**\u3092\u9078\u629e\u3057\u3001**Add**\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3002\u4e0b\u8a18\u753b\u50cf\u53c2\u7167\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-05-01 16.52.12.png](https://qiita-image-store.s3.amazonaws.com/0/75241/a3b3bc27-880e-c57d-a7de-d301ecda5aa1.png)\n\n\u2462\u305d\u3046\u3059\u308b\u3068\u3001**Link Binary with Libraries**\u306b**MessageUI.framework**\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3002\n\u3000\u4e0b\u8a18\u753b\u50cf\u53c2\u7167\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-05-01 16.52.20.png](https://qiita-image-store.s3.amazonaws.com/0/75241/090ef514-7aa0-84c4-f3b8-e8f108e6f129.png)\n\n#2. \u6e96\u5099\n`import MessageUI`\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\u7d42\u4e86\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306b\u3001`MFMailComposeViewControllerDelegate`\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\n```ViewController.swift\nimport UIKit\nimport MessageUI\n\nclass ViewController: UIViewController, MFMailComposeViewControllerDelegate{\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        // Do any additional setup after loading the view, typically from a nib.\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n}\n```\n\n#3. \u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u3089\u30e1\u30fc\u30e9\u30fc\u304c\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n## 3-1. \u30dc\u30bf\u30f3\u306e\u4f5c\u6210\n\u9069\u5f53\u306b\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002(\u4ee5\u4e0b\u3001storyboard\u306f\u4f7f\u7528\u3057\u306a\u3044\u3067\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059)\n\n**ViewController.swift**\u306b`let startMailerBtn = UIButton(frame: CGRectMake(0,0,200,30))`\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001**viewDidLoad()**\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```swift\nstartMailerBtn.layer.position = CGPoint(x:self.view.bounds.width/2,y:y:self.view.bounds.height/2);\nstartMailerBtn.setTitle(\"\u30e1\u30fc\u30eb\u9001\u4fe1\", forState: .Normal)\nstartMailerBtn.setTitleColor(UIColor.blueColor(), forState: .Normal)\nstartMailerBtn.addTarget(self, action: \"onClickStartmailerBtn:\", forControlEvents: .TouchUpInside)\nself.view.addSubview(startMailerBtn)\n```\n\u2193\u5168\u4f53\n\n```ViewController.swift\nimport UIKit\nimport MessageUI\n\nclass ViewController: UIViewController, MFMailComposeViewControllerDelegate{\n\n    let startMailerBtn = UIButton(frame: CGRectMake(0,0,200,30))\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        // Do any additional setup after loading the view, typically from a nib.\n        \n        startMailerBtn.layer.position = CGPoint(x:self.view.bounds.width/2,y:y:self.view.bounds.height/2);\n        startMailerBtn.setTitle(\"\u30e1\u30fc\u30eb\u9001\u4fe1\", forState: .Normal)\n        startMailerBtn.setTitleColor(UIColor.blueColor(), forState: .Normal)\n        startMailerBtn.addTarget(self, action: \"onClickStartMailerBtn:\", forControlEvents: .TouchUpInside)\n        self.view.addSubview(startMailerBtn)\n        \n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n\n\n}\n```\n\u3053\u308c\u3067\"\u30e1\u30fc\u30eb\u9001\u4fe1\"\u3068\u3044\u3046\u540d\u524d\u306e\u30dc\u30bf\u30f3\u3092\u8868\u793a\u3067\u304d\u307e\u3057\u305f\u3002\n![sample1.png](https://qiita-image-store.s3.amazonaws.com/0/75241/0050bc7d-e2a6-20fb-f664-a783561b75f8.png)\n\n\n\n##3-2. \u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u3089\u30e1\u30fc\u30e9\u30fc\u304c\u8d77\u52d5\u3059\u308b\u51e6\u7406\n\u30dc\u30bf\u30f3\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u305f\u6642\u306e\u51e6\u7406\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u3001\n\u307e\u305a**ViewController.swift**\u306b`onClickStartMailerBtn\u95a2\u6570`\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u305d\u306e\u4e2d\u306b\u3001\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```swift\n//\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3067\u304d\u308b\u304b\u30c1\u30a7\u30c3\u30af\nif MFMailComposeViewController.canSendMail()==false {\n    println(\"Email Send Failed\")\n    return\n}\n\nvar mailViewController = MFMailComposeViewController()\nvar toRecipients = [\"to@1gmail.com\"] //To\u306e\u30a2\u30c9\u30ec\u30b9\u6307\u5b9a\nvar CcRecipients = [\"cc@1gmail.com\",\"Cc2@1gmail.com\"] //Cc\u306e\u30a2\u30c9\u30ec\u30b9\u6307\u5b9a\nvar BccRecipients = [\"Bcc@1gmail.com\",\"Bcc2@1gmail.com\"] //Bcc\u306e\u30a2\u30c9\u30ec\u30b9\u6307\u5b9a\n       \nmailViewController.mailComposeDelegate = self\nmailViewController.setSubject(\"\u30e1\u30fc\u30eb\u306e\u4ef6\u540d\")\nmailViewController.setToRecipients(toRecipients) //To\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\nmailViewController.setCcRecipients(CcRecipients) //Cc\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\nmailViewController.setBccRecipients(BccRecipients) //Bcc\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\nmailViewController.setMessageBody(\"\u30e1\u30fc\u30eb\u306e\u672c\u6587\", isHTML: false)\nself.presentViewController(mailViewController, animated: true, completion: nil)\n```\n\n\u2193\u5168\u4f53\n\n```ViewController.swift\nimport UIKit\nimport MessageUI\n\nclass ViewController: UIViewController, MFMailComposeViewControllerDelegate{\n\n    let startMailerBtn = UIButton(frame: CGRectMake(0,0,200,30))\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        // Do any additional setup after loading the view, typically from a nib.\n        \n        startMailerBtn.layer.position = CGPoint(x:self.view.bounds.width/2,y:self.view.bounds.height/2);\n        startMailerBtn.setTitle(\"\u30e1\u30fc\u30eb\u9001\u4fe1\", forState: .Normal)\n        startMailerBtn.setTitleColor(UIColor.blueColor(), forState: .Normal)\n        startMailerBtn.addTarget(self, action: \"onClickStartMailerBtn:\", forControlEvents: .TouchUpInside)\n        self.view.addSubview(startMailerBtn)\n        \n    }\n\n    func onClickStartMailerBtn(sender: UIButton) {\n        //\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3067\u304d\u308b\u304b\u30c1\u30a7\u30c3\u30af\n        if MFMailComposeViewController.canSendMail()==false {\n            println(\"Email Send Failed\")\n            return\n        }\n        \n        var mailViewController = MFMailComposeViewController()\n        var toRecipients = [\"to@1gmail.com\"]\n        var CcRecipients = [\"cc@1gmail.com\",\"Cc2@1gmail.com\"]\n        var BccRecipients = [\"Bcc@1gmail.com\",\"Bcc2@1gmail.com\"]\n        \n        \n        mailViewController.mailComposeDelegate = self\n        mailViewController.setSubject(\"\u30e1\u30fc\u30eb\u306e\u4ef6\u540d\")\n        mailViewController.setToRecipients(toRecipients) //To\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\n        mailViewController.setCcRecipients(CcRecipients) //Cc\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\n        mailViewController.setBccRecipients(BccRecipients) //Bcc\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\n        mailViewController.setMessageBody(\"\u30e1\u30fc\u30eb\u306e\u672c\u6587\", isHTML: false)\n        \n        self.presentViewController(mailViewController, animated: true, completion: nil)\n    }\n    \n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n\n\n}\n```\n\u3053\u308c\u3067\u3001\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30e1\u30fc\u30e9\u30fc\u3092\u8868\u793a\u3055\u305b\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\n![sample2.png](https://qiita-image-store.s3.amazonaws.com/0/75241/61c67a9f-e42f-5660-9c28-5efce8d85db7.png)\n\n\u3082\u3057\u3001\n\u30e1\u30fc\u30eb\u672c\u6587\u306b**\u753b\u50cf**\u3092\u8868\u793a\u3055\u305b\u305f\u3044\u5834\u5408\u306f\u3001\n\u4ee5\u4e0b\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092`onClickStartMailerBtn\u95a2\u6570`\u306b\n\u8ffd\u52a0\u3057\u3066\u3042\u3052\u308c\u3070\u4e0b\u8a18\u306e\u753b\u50cf\u306e\u3088\u3046\u306b\u30e1\u30fc\u30eb\u672c\u6587\u306b\u753b\u50cf\u3092\u8868\u793a\u3067\u304d\u307e\u3059\u3002\n\n```swift\nvar image = UIImage(named: \"myphoto.png\")\nvar imageData = UIImageJPEGRepresentation(image, 1.0)\nmailViewController.addAttachmentData(imageData, mimeType: \"image/png\", fileName: \"image\")\n```\n![sample3.png](https://qiita-image-store.s3.amazonaws.com/0/75241/00fd5f27-5411-b3e3-953f-875fb8bb1322.png)\n\n\n##3-3. \u7d42\u4e86\u51e6\u7406\u306e\u8ffd\u52a0\n\u3053\u306e\u307e\u307e\u3060\u3068\u3001Send\u3084Cancel\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3082\u30e1\u30fc\u30eb\u753b\u9762\u304c\u9589\u3058\u306a\u3044\u305f\u3081\u3001\n\u4ee5\u4e0b\u306e\u9589\u3058\u308b\u51e6\u7406\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\n```swift\nfunc mailComposeController(controller: MFMailComposeViewController!, didFinishWithResult result: MFMailComposeResult, error: NSError!) {\n        \n    switch result.value {\n    case MFMailComposeResultCancelled.value:\n        println(\"Email Send Cancelled\")\n        break\n    case MFMailComposeResultSaved.value:\n        println(\"Email Saved as a Draft\")\n        break\n    case MFMailComposeResultSent.value:\n        println(\"Email Sent Successfully\")\n        break\n    case MFMailComposeResultFailed.value:\n        println(\"Email Send Failed\")\n        break\n    default:\n        break\n    }\n        \n    self.dismissViewControllerAnimated(true, completion: nil)\n} \n```\n\u2193\u5168\u4f53\n\n```ViewController.swift\nimport UIKit\nimport MessageUI\n\nclass ViewController: UIViewController, MFMailComposeViewControllerDelegate{\n\n    let startMailerBtn = UIButton(frame: CGRectMake(0,0,200,30))\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        // Do any additional setup after loading the view, typically from a nib.\n        \n        startMailerBtn.layer.position = CGPoint(x:self.view.bounds.width/2,y:self.view.bounds.height/2);\n        startMailerBtn.setTitle(\"\u30e1\u30fc\u30eb\u9001\u4fe1\", forState: .Normal)\n        startMailerBtn.setTitleColor(UIColor.blueColor(), forState: .Normal)\n        startMailerBtn.addTarget(self, action: \"onClickStartMailerBtn:\", forControlEvents: .TouchUpInside)\n        self.view.addSubview(startMailerBtn)\n        \n    }\n\n    func onClickStartMailerBtn(sender: UIButton) {\n        //\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3067\u304d\u308b\u304b\u30c1\u30a7\u30c3\u30af\n        if MFMailComposeViewController.canSendMail()==false {\n            println(\"Email Send Failed\")\n            return\n        }\n        \n        var mailViewController = MFMailComposeViewController()\n        var toRecipients = [\"to@1gmail.com\"]\n        var CcRecipients = [\"cc@1gmail.com\",\"Cc2@1gmail.com\"]\n        var BccRecipients = [\"Bcc@1gmail.com\",\"Bcc2@1gmail.com\"]\n        \n        \n        mailViewController.mailComposeDelegate = self\n        mailViewController.setSubject(\"\u30e1\u30fc\u30eb\u306e\u4ef6\u540d\")\n        mailViewController.setToRecipients(toRecipients) //\u5b9b\u5148\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u8868\u793a\n        mailViewController.setCcRecipients(CcRecipients)\n        mailViewController.setBccRecipients(BccRecipients)\n        mailViewController.setMessageBody(\"\u30e1\u30fc\u30eb\u306e\u672c\u6587\", isHTML: false)\n        \n        self.presentViewController(mailViewController, animated: true, completion: nil)\n    }\n    \n    func mailComposeController(controller: MFMailComposeViewController!, didFinishWithResult result: MFMailComposeResult, error: NSError!) {\n        \n        switch result.value {\n        case MFMailComposeResultCancelled.value:\n            println(\"Email Send Cancelled\")\n            break\n        case MFMailComposeResultSaved.value:\n            println(\"Email Saved as a Draft\")\n            break\n        case MFMailComposeResultSent.value:\n            println(\"Email Sent Successfully\")\n            break\n        case MFMailComposeResultFailed.value:\n            println(\"Email Send Failed\")\n            break\n        default:\n            break\n        }\n        \n        self.dismissViewControllerAnimated(true, completion: nil)\n    }\n    \n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n\n}\n```\n\u3053\u308c\u3067\u3001\"\u30e1\u30fc\u30eb\u9001\u4fe1\"\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u3089\u30e1\u30fc\u30e9\u30fc\u304c\u8d77\u52d5\u3057\u3066\u3001\n\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u305f\u308a\u30e1\u30fc\u30eb\u753b\u9762\u3092\u9589\u3058\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\n\n#\u5b8c\u6210\u7248\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\nhttps://github.com/chankei1/CSVAttachedToMailer\n\u3053\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u5f8c\u65e5csv\u30d5\u30a1\u30a4\u30eb\u3092\u6dfb\u4ed8\u3067\u304d\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3082\u8ffd\u52a0\u3057\u3066\u3044\u3053\u3046\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\n#\u304a\u308f\u308a\u306b\n\u4eca\u56de\u306f\u3001**\u5b9b\u5148\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9**\u30fb**\u4ef6\u540d**\u30fb**\u672c\u6587\u306e\u6307\u5b9a**\u3092\u3057\u3066\u30e1\u30fc\u30e9\u30fc\u3092\u8d77\u52d5\u3057\u3001\n\u30e1\u30fc\u30eb\u672c\u6587\u306b**\u753b\u50cf**\u3092\u8868\u793a\u3055\u305b\u3066\u30e1\u30fc\u30eb\u9001\u4fe1\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\u5f8c\u65e5\u3001\u3053\u306e\u30e1\u30fc\u30eb\u306b\u30a2\u30d7\u30ea\u5185\u3067\u751f\u6210\u3057\u305fCSV\u30d5\u30a1\u30a4\u30eb\u3092\u81ea\u52d5\u6dfb\u4ed8\u3059\u308b\u3084\u308a\u65b9\u3092\u307e\u3068\u3081\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n#\u53c2\u8003\u30b5\u30a4\u30c8\n\u300cMFMailComposeViewController\u3067\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u300d\nURL\uff1ahttp://www.mikamiz.jp/dev/iphone/a0005.html\n\u300c\u3010swift\u3011\u30a2\u30d7\u30ea\u5185\u3067mailer\u3092\u7acb\u3061\u4e0a\u3052\u3066\u30fc\u30d0\u30b0\u30ea\u30dd\u30fc\u30c8\u6a5f\u80fd\u306e\u5b9f\u88c5\u3010CoffeeNote\u958b\u767a\u8a18\u9332\u3011\u300d\nURL\uff1ahttp://totutotu.hatenablog.com/entry/2014/12/11/%E3%80%90swift%E3%80%91%E3%82%A2%E3%83%97%E3%83%AA%E5%86%85%E3%81%A7mailer%E3%82%92%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%81%A6%E3%83%BC%E3%83%90%E3%82%B0%E3%83%AA%E3%83%9D%E3%83%BC%E3%83%88%E6%A9%9F\n\u300c\u30a2\u30d7\u30ea\u304b\u3089\u753b\u50cf\u3092\u6dfb\u4ed8\u3057\u3066\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u65b9\u6cd5\u300d\nURL\uff1ahttp://www.crossbridge.biz/mfmailcomposeviewcontroller-with-image\n\u300cStack Overflow(Failed on using Swift to implement in-app email)\u300d\nURL\uff1ahttp://stackoverflow.com/questions/24255270/failed-on-using-swift-to-implement-in-app-email\n"}