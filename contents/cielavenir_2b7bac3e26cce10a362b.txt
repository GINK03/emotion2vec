{"context": "UCSC Tables allows MySQL access.\n\nhttps://genome.ucsc.edu/goldenpath/help/mysql.html\n\nHost: genome-mysql.cse.ucsc.edu\nPort: 3306\nUser: genomep\nPass: password\n\n\nHowever, for database name, you need to use genome assembly name (e.g. hg38). Usually retriving assembly name is hard work, especially for specific case.\nFor example, Gorilla gorGor5 has only refSeq genes but gorGor3 has only Ensembl genes. If you want only Ensembl genes data, this can be problematic.\nFor this purpose, you might want to get the table for [clade, organism, assembly] triplets.\nYou can use the following script. But never use it too frequently.\n\n\n\nucsc_dbs.rb\n#!/usr/bin/ruby\nrequire 'mechanize'\nUCSC='http://genome.ucsc.edu'\nagent=Mechanize.new\nagent.get(UCSC+\"/cgi-bin/hgTables\")\nhgsid=agent.page.form_with(action:'/cgi-bin/hgTables').field_with(name:'hgsid').value\nclades=agent.page.form_with(action:'/cgi-bin/hgTables').field_with(name:'clade').options.map(&:value)\nclades.each{|clade|\n    agent.get(UCSC+\"/cgi-bin/hgTables?hgsid=#{hgsid}&clade=#{clade}\")\n    organisms=agent.page.form_with(action:'/cgi-bin/hgTables').field_with(name:'org').options.map(&:value)\n    organisms.each{|organism|\n        agent.get(UCSC+\"/cgi-bin/hgTables?hgsid=#{hgsid}&clade=#{clade}&org=#{organism}\")\n        dbs=agent.page.form_with(action:'/cgi-bin/hgTables').field_with(name:'db').options.map(&:value)\n        dbs.each{|db|\n            #agent.get(UCSC+\"/cgi-bin/hgTables?hgsid=#{hgsid}&clade=#{clade}&org=#{organism}&db=#{db}&hgta_group=genes\")\n            puts [clade,organism,db].inspect+','\n        }\n    }\n}\n\n\n\n[UCSC Tables](https://genome.ucsc.edu/cgi-bin/hgTables) allows MySQL access.\n\n- https://genome.ucsc.edu/goldenpath/help/mysql.html\n\n```\nHost: genome-mysql.cse.ucsc.edu\nPort: 3306\nUser: genomep\nPass: password\n```\n\n- However, for database name, you need to use genome assembly name (e.g. **hg38**). Usually retriving assembly name is hard work, especially for specific case.\n- For example, Gorilla gorGor5 has only refSeq genes but gorGor3 has only Ensembl genes. If you want only Ensembl genes data, this can be problematic.\n- For this purpose, you might want to get the table for `[clade, organism, assembly]` triplets.\n- You can use the following script. But *never use it too frequently.*\n\n```rb:ucsc_dbs.rb\n#!/usr/bin/ruby\nrequire 'mechanize'\nUCSC='http://genome.ucsc.edu'\nagent=Mechanize.new\nagent.get(UCSC+\"/cgi-bin/hgTables\")\nhgsid=agent.page.form_with(action:'/cgi-bin/hgTables').field_with(name:'hgsid').value\nclades=agent.page.form_with(action:'/cgi-bin/hgTables').field_with(name:'clade').options.map(&:value)\nclades.each{|clade|\n\tagent.get(UCSC+\"/cgi-bin/hgTables?hgsid=#{hgsid}&clade=#{clade}\")\n\torganisms=agent.page.form_with(action:'/cgi-bin/hgTables').field_with(name:'org').options.map(&:value)\n\torganisms.each{|organism|\n\t\tagent.get(UCSC+\"/cgi-bin/hgTables?hgsid=#{hgsid}&clade=#{clade}&org=#{organism}\")\n\t\tdbs=agent.page.form_with(action:'/cgi-bin/hgTables').field_with(name:'db').options.map(&:value)\n\t\tdbs.each{|db|\n\t\t\t#agent.get(UCSC+\"/cgi-bin/hgTables?hgsid=#{hgsid}&clade=#{clade}&org=#{organism}&db=#{db}&hgta_group=genes\")\n\t\t\tputs [clade,organism,db].inspect+','\n\t\t}\n\t}\n}\n```\n", "tags": ["Ruby", "bioinformatics"]}