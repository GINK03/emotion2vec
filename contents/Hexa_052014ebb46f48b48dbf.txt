{"context": " More than 1 year has passed since last update.InfluxDB \u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3092\u3044\u304f\u3064\u304b\u52d5\u304b\u3057\u3066\u307f\u305f\u306e\u3067\u3001\u7c21\u5358\u306b\u30e1\u30e2\u3057\u3066\u304a\u304d\u307e\u3059\nOS \u306f Ubuntu 14.04 x86_64\n\nInfluxDB \u306e\u6e96\u5099\nInfluxDB - Open Source Time Series, Metrics, and Analytics Database\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ curl -LO http://s3.amazonaws.com/influxdb/influxdb_latest_amd64.deb\n$ sudo dpkg -i influxdb_latest_amd64.deb\n\n\n\u8a2d\u5b9a\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb: /opt/influxdb/shared/config.toml\n\n\u4eca\u56de\u306f\u3001Graphite \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u30c7\u30fc\u30bf\u3092\u53d7\u4fe1\u3055\u305b\u308b\u305f\u3081\u3001Graphite \u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6709\u52b9\u306b\u3057\u3066\u304a\u304d\u307e\u3059\n\nconfig.toml\n--- /opt/influxdb/shared/config.toml.bak    2014-10-12 02:52:28.992938615 +0000\n+++ /opt/influxdb/shared/config.toml    2014-10-12 02:53:06.544940216 +0000\n@@ -40,9 +40,9 @@\n\n   # Configure the graphite api\n   [input_plugins.graphite]\n-  enabled = false\n-  # port = 2003\n-  # database = \"\"  # store graphite data in this database\n+  enabled = true\n+  port = 2003\n+  database = \"graphite\"  # store graphite data in this database\n   # udp_enabled = true # enable udp interface on the same port as the tcp interface\n\n   # Configure the udp api\n\n\n\n\u8d77\u52d5\n$ sudo service influxdb start\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089 http://example.com:8083/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u4f5c\u6210\u3057\u307e\u3059\n\n\nConnect\n\n\nusername: root\npassword: root\n\n\nHostname and Port Settings\uff08HTTP API \u306e hostname \u3068 port \u3092\u6307\u5b9a\u3057\u307e\u3059\uff09\n\n\nhostname: example.com\nport: 8086\n\n\n\n\ngraphite \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\n\nCreate a Database\n\n\nDatabase Name \u306b graphite \u3092\u5165\u529b\u3057\u3001Create Database \u3092\u62bc\u4e0b\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\n\n\n\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n\n\n\u4f5c\u6210\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001Name \u306e graphite \u306e\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066 graphite \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u307e\u3059\nUsername: admin\nPassword: password\n\n\n\n\ngrafana \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\uff08\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u7528\uff09\n\nCreate a Database\n\n\nDatabase Name \u306b grafana \u3092\u5165\u529b\u3057\u3001Create Database \u3092\u62bc\u4e0b\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\n\n\n\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n\n\n\u4f5c\u6210\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001Name \u306e grafana \u306e\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066 graphite \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u307e\u3059\nUsername: admin\nPassword: password\n\n\n\n\n\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\nDiamond \u3092\u4f7f\u7528\u3057\u3066 InfluxDB \u306b\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u4fdd\u5b58\u3057\u307e\u3059\nBrightcoveOS/Diamond\n\n\u4fdd\u5b58\u3057\u305f\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u78ba\u8a8d\nhttp://example.com:8083/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066 graphite \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3057\u307e\u3059\nQuery \u306b list series \u3092\u5165\u529b\u3057\u3066\u5b9f\u884c\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3001graphite \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30e1\u30c8\u30ea\u30af\u30b9\u304c\u8868\u793a\u3055\u308c\u307e\u3059\n\n\nGrafana\nGrafana - Graphite and InfluxDB Dashboard and graph composer\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nWeb \u30b5\u30fc\u30d0\u3092\u7acb\u3061\u4e0a\u3052\u3066\u304a\u304d\u3001DocumentRoot \u306b grafana.tar.gz \u3092\u5c55\u958b\u3057\u307e\u3059\n$ cd $DocumentRoot\n$ curl -LO http://grafanarel.s3.amazonaws.com/grafana-1.8.1.tar.gz\n$ tar zxvf http://grafanarel.s3.amazonaws.com/grafana-1.8.1.tar.gz\n\n\n\u8a2d\u5b9a\n\ndatasources \u306e influxdb \u306e\u8a2d\u5b9a\u306b\u306f\u4e0a\u8a18\u3067\u8a2d\u5b9a\u3057\u305f graphite \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5408\u308f\u305b\u3066\u8a2d\u5b9a\u3092\u8a18\u8f09\u3057\u307e\u3059\ndatasources \u306e grafana \u306b\u306f\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306e\u8a2d\u5b9a\u3092\u4fdd\u5b58\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5408\u308f\u305b\u3066\u8a2d\u5b9a\u3092\u8a18\u8f09\u3057\u307e\u3059\n\n\u8a2d\u5b9a\u306f config.js \u306b\u8a18\u8f09\u3057\u307e\u3059\n$ cd grafana-1.8.1\n$ cp config.sample.js config.js\n\n\nconfig.js\n--- config.sample.js    2014-09-30 16:42:49.000000000 +0000\n+++ config.js   2014-10-12 02:59:07.784955615 +0000\n@@ -36,6 +36,22 @@\n     },\n     */\n\n+    datasources: {\n+      influxdb: {\n+        type: 'influxdb',\n+        url: \"http://example.com:8086/db/graphite\",\n+        username: 'admin',\n+        password: 'password',\n+      },\n+      grafana: {\n+        type: 'influxdb',\n+        url: \"http://example.com:8086/db/grafana\",\n+        username: 'admin',\n+        password: 'password',\n+        grafanaDB: true\n+      },\n+    },\n+\n     // Graphite & Elasticsearch example setup\n     /*\n     datasources: {\n\n\n\n\u30b0\u30e9\u30d5\u306e\u8868\u793a\n\n\nhttp://example.com/grafana-1.8.1 \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\n\n\nFirst Graph (click title to edit) \u3092\u62bc\u4e0b\u3057\u3066\u3001Edit \u3092\u9078\u629e\u3057\u307e\u3059\nMetrics \u306e series name \u3092\u9078\u629e\u3059\u308b\u3068\u3001InfluxDB \u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30e1\u30c8\u30ea\u30af\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u30b0\u30e9\u30d5\u306b\u8868\u793a\u3055\u305b\u305f\u3044\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u9078\u629e\u3057\u307e\u3059\n\n\n\n\n1 \u3064\u306e\u30b0\u30e9\u30d5\u4e0a\u306b\u8907\u6570\u306e\u30af\u30a8\u30ea\u306e\u7d50\u679c\u3092\u8f09\u305b\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\n\n\nInfluga\nhakobera/influga\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ npm install -g influga\n\n\n\u8a2d\u5b9a\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\n$ influga init\nConfig file template is created to influga-config.json\nEdit config for your environment\n\n{\n  \"dashboardDbPath\": \"./db/influga.db\",\n  \"host\": \"localhost\",\n  \"port\": 8086,\n  \"database\": \"db\",\n  \"username\": \"root\",\n  \"password\": \"root\"\n}\n\nInfluxDB \u306e\u8a2d\u5b9a\u5185\u5bb9\u306b\u5408\u308f\u305b\u3066 influga-config.json \u3092\u5909\u66f4\u3057\u307e\u3059\n\ninfluga-config.json\n--- influga-config.json.bak 2014-10-12 03:35:48.739833258 +0000\n+++ influga-config.json 2014-10-12 03:36:59.947836293 +0000\n@@ -1,8 +1,8 @@\n {\n   \"dashboardDbPath\": \"./db/influga.db\",\n-  \"host\": \"localhost\",\n+  \"host\": \"example.com\",\n   \"port\": 8086,\n-  \"database\": \"db\",\n-  \"username\": \"root\",\n-  \"password\": \"root\"\n-}\n\\ No newline at end of file\n+  \"database\": \"graphite\",\n+  \"username\": \"admin\",\n+  \"password\": \"password\"\n+}\n\n\n\n\u8d77\u52d5\n$ influga -c influga-config.json start\n\n\n\u30b0\u30e9\u30d5\u306e\u8868\u793a\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089 example.com:8089 \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001Query \u7b49\u3092\u8a2d\u5b9a\u3057\u307e\u3059\n\n\u8a2d\u5b9a\u3057\u305f\u5f8c\u306e\u30b0\u30e9\u30d5\u306e\u8868\u793a\n\n\nTasseo\nobfuscurity/tasseo\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ git clone https://github.com/obfuscurity/tasseo\n$ cd tasseo\n$ bundle install\n\n\n\u8a2d\u5b9a\n\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u8868\u793a\u3059\u308b\u30e1\u30c8\u30ea\u30af\u30b9\u306f\u3001dashboards/ \u4ee5\u4e0b\u306e .js \u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3057\u307e\u3059\n$ cat <<EOT>dashboards/ubuntu-14-04-cpu0.js\nvar period = 1;\nvar metrics =\n[\n  {\n    alias: \"servers.ubuntu-1404.cpu.cpu0.user\",\n    target: \"value\",\n    series: \"servers.ubuntu-1404.cpu.cpu0.user\",\n    unit: \"%\",\n    warning: 30,\n    critical: 60\n  },\n  {\n    alias: \"servers.ubuntu-1404.cpu.cpu0.system\",\n    target: \"value\",\n    series: \"servers.ubuntu-1404.cpu.cpu0.system\",\n    unit: \"%\",\n    warning: 30,\n    critical: 60\n  },\n  {\n    alias: \"servers.ubuntu-1404.cpu.cpu0.idle\",\n    target: \"value\",\n    series: \"servers.ubuntu-1404.cpu.cpu0.idle\",\n    unit: \"%\"\n  },\n];\nEOT\n\n$ cat <<EOT>dashboards/ubuntu-14-04-cpu1.js\nvar period = 1;\nvar metrics =\n[\n  {\n    alias: \"servers.ubuntu-1404.cpu.cpu1.user\",\n    target: \"value\",\n    series: \"servers.ubuntu-1404.cpu.cpu1.user\",\n    unit: \"%\",\n    warning: 30,\n    critical: 60\n  },\n  {\n    alias: \"servers.ubuntu-1404.cpu.cpu1.system\",\n    target: \"value\",\n    series: \"servers.ubuntu-1404.cpu.cpu1.system\",\n    unit: \"%\",\n    warning: 30,\n    critical: 60\n  },\n  {\n    alias: \"servers.ubuntu-1404.cpu.cpu1.idle\",\n    target: \"value\",\n    series: \"servers.ubuntu-1404.cpu.cpu1.idle\",\n    unit: \"%\"\n  },\n];\nEOT\n\n\n\u8d77\u52d5\n$ foreman start\n\n\n\u30b0\u30e9\u30d5\u306e\u8868\u793a\nhttp://example.com:5000/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3059\u308b\u3068\u3001dashboards/ \u4ee5\u4e0b\u306b\u4f5c\u6210\u3057\u305f js \u30d5\u30a1\u30a4\u30eb\u306e\u540d\u524d\u306e\u30ea\u30f3\u30af\u304c\u8868\u793a\u3055\u308c\u307e\u3059\n\n\u30ea\u30f3\u30af\u3092\u62bc\u4e0b\u3059\u308b\u3068\u3001\u5404\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u307e\u3059\njs \u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3057\u305f warning \u3084 critical \u306e\u5024\u3092\u8d85\u3048\u308b\u3068\u30b0\u30e9\u30d5\u306e\u8272\u304c\u5909\u308f\u308a\u307e\u3059\n\nInfluxDB \u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3092\u3044\u304f\u3064\u304b\u52d5\u304b\u3057\u3066\u307f\u305f\u306e\u3067\u3001\u7c21\u5358\u306b\u30e1\u30e2\u3057\u3066\u304a\u304d\u307e\u3059\n\nOS \u306f Ubuntu 14.04 x86_64\n\n## InfluxDB \u306e\u6e96\u5099\n\n[InfluxDB - Open Source Time Series, Metrics, and Analytics Database](http://influxdb.com/)\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ curl -LO http://s3.amazonaws.com/influxdb/influxdb_latest_amd64.deb\n$ sudo dpkg -i influxdb_latest_amd64.deb\n```\n\n### \u8a2d\u5b9a\n\n- \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb: /opt/influxdb/shared/config.toml\n\n\u4eca\u56de\u306f\u3001Graphite \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u30c7\u30fc\u30bf\u3092\u53d7\u4fe1\u3055\u305b\u308b\u305f\u3081\u3001Graphite \u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6709\u52b9\u306b\u3057\u3066\u304a\u304d\u307e\u3059\n\n```diff:config.toml\n--- /opt/influxdb/shared/config.toml.bak\t2014-10-12 02:52:28.992938615 +0000\n+++ /opt/influxdb/shared/config.toml\t2014-10-12 02:53:06.544940216 +0000\n@@ -40,9 +40,9 @@\n\n   # Configure the graphite api\n   [input_plugins.graphite]\n-  enabled = false\n-  # port = 2003\n-  # database = \"\"  # store graphite data in this database\n+  enabled = true\n+  port = 2003\n+  database = \"graphite\"  # store graphite data in this database\n   # udp_enabled = true # enable udp interface on the same port as the tcp interface\n\n   # Configure the udp api\n```\n\n### \u8d77\u52d5\n\n```bash\n$ sudo service influxdb start\n```\n\n### \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089 ``http://example.com:8083/`` \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u4f5c\u6210\u3057\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-10-12 12.05.11.png](https://qiita-image-store.s3.amazonaws.com/0/36202/9b763d7c-3a63-702e-a459-94ecbb0005c8.png)\n\n- Connect\n    - username: root\n    - password: root\n- Hostname and Port Settings\uff08HTTP API \u306e hostname \u3068 port \u3092\u6307\u5b9a\u3057\u307e\u3059\uff09\n    - hostname: example.com\n    - port: 8086\n\n#### graphite \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\n\n- Create a Database\n    - Database Name \u306b ``graphite`` \u3092\u5165\u529b\u3057\u3001Create Database \u3092\u62bc\u4e0b\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\n- \u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n    - \u4f5c\u6210\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001Name \u306e ``graphite`` \u306e\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066 graphite \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u307e\u3059\n    - Username: admin\n    - Password: password\n\n#### grafana \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\uff08\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u7528\uff09\n\n- Create a Database\n    - Database Name \u306b ``grafana`` \u3092\u5165\u529b\u3057\u3001Create Database \u3092\u62bc\u4e0b\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\n- \u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n    - \u4f5c\u6210\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001Name \u306e ``grafana`` \u306e\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066 graphite \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u307e\u3059\n    - Username: admin\n    - Password: password\n\n\n#### \u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\n\nDiamond \u3092\u4f7f\u7528\u3057\u3066 InfluxDB \u306b\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u4fdd\u5b58\u3057\u307e\u3059\n\n[BrightcoveOS/Diamond](https://github.com/BrightcoveOS/Diamond)\n\n\n#### \u4fdd\u5b58\u3057\u305f\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u78ba\u8a8d\n\nhttp://example.com:8083/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066 graphite \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3057\u307e\u3059\n\nQuery \u306b ``list series`` \u3092\u5165\u529b\u3057\u3066\u5b9f\u884c\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3001graphite \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30e1\u30c8\u30ea\u30af\u30b9\u304c\u8868\u793a\u3055\u308c\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-10-12 13.08.34.png](https://qiita-image-store.s3.amazonaws.com/0/36202/f0ed15ff-be5f-d0f3-434c-d45b53493681.png)\n\n\n## Grafana\n\n[Grafana - Graphite and InfluxDB Dashboard and graph composer](http://grafana.org/)\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nWeb \u30b5\u30fc\u30d0\u3092\u7acb\u3061\u4e0a\u3052\u3066\u304a\u304d\u3001DocumentRoot \u306b grafana.tar.gz \u3092\u5c55\u958b\u3057\u307e\u3059\n\n```bash\n$ cd $DocumentRoot\n$ curl -LO http://grafanarel.s3.amazonaws.com/grafana-1.8.1.tar.gz\n$ tar zxvf http://grafanarel.s3.amazonaws.com/grafana-1.8.1.tar.gz\n```\n\n### \u8a2d\u5b9a\n\n- datasources \u306e influxdb \u306e\u8a2d\u5b9a\u306b\u306f\u4e0a\u8a18\u3067\u8a2d\u5b9a\u3057\u305f graphite \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5408\u308f\u305b\u3066\u8a2d\u5b9a\u3092\u8a18\u8f09\u3057\u307e\u3059\n- datasources \u306e grafana \u306b\u306f\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306e\u8a2d\u5b9a\u3092\u4fdd\u5b58\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5408\u308f\u305b\u3066\u8a2d\u5b9a\u3092\u8a18\u8f09\u3057\u307e\u3059\n\n\u8a2d\u5b9a\u306f config.js \u306b\u8a18\u8f09\u3057\u307e\u3059\n\n```bash\n$ cd grafana-1.8.1\n$ cp config.sample.js config.js\n```\n\n```diff:config.js\n--- config.sample.js\t2014-09-30 16:42:49.000000000 +0000\n+++ config.js\t2014-10-12 02:59:07.784955615 +0000\n@@ -36,6 +36,22 @@\n     },\n     */\n\n+    datasources: {\n+      influxdb: {\n+        type: 'influxdb',\n+        url: \"http://example.com:8086/db/graphite\",\n+        username: 'admin',\n+        password: 'password',\n+      },\n+      grafana: {\n+        type: 'influxdb',\n+        url: \"http://example.com:8086/db/grafana\",\n+        username: 'admin',\n+        password: 'password',\n+        grafanaDB: true\n+      },\n+    },\n+\n     // Graphite & Elasticsearch example setup\n     /*\n     datasources: {\n```\n\n### \u30b0\u30e9\u30d5\u306e\u8868\u793a\n\n- http://example.com/grafana-1.8.1 \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\n\n    - ``First Graph (click title to edit)`` \u3092\u62bc\u4e0b\u3057\u3066\u3001Edit \u3092\u9078\u629e\u3057\u307e\u3059\n    - Metrics \u306e ``series name`` \u3092\u9078\u629e\u3059\u308b\u3068\u3001InfluxDB \u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30e1\u30c8\u30ea\u30af\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u30b0\u30e9\u30d5\u306b\u8868\u793a\u3055\u305b\u305f\u3044\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u9078\u629e\u3057\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-10-12 13.26.57.png](https://qiita-image-store.s3.amazonaws.com/0/36202/1ab472a0-7c43-1dc8-e830-c445fa496acd.png)\n\n1 \u3064\u306e\u30b0\u30e9\u30d5\u4e0a\u306b\u8907\u6570\u306e\u30af\u30a8\u30ea\u306e\u7d50\u679c\u3092\u8f09\u305b\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-10-13 20.49.38.png](https://qiita-image-store.s3.amazonaws.com/0/36202/8c865a41-0358-399d-22c8-a606684858a2.png)\n\n\n## Influga\n\n[hakobera/influga](https://github.com/hakobera/influga)\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ npm install -g influga\n```\n\n### \u8a2d\u5b9a\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\n\n```bash\n$ influga init\nConfig file template is created to influga-config.json\nEdit config for your environment\n\n{\n  \"dashboardDbPath\": \"./db/influga.db\",\n  \"host\": \"localhost\",\n  \"port\": 8086,\n  \"database\": \"db\",\n  \"username\": \"root\",\n  \"password\": \"root\"\n}\n```\n\nInfluxDB \u306e\u8a2d\u5b9a\u5185\u5bb9\u306b\u5408\u308f\u305b\u3066 influga-config.json \u3092\u5909\u66f4\u3057\u307e\u3059\n\n```diff:influga-config.json\n--- influga-config.json.bak\t2014-10-12 03:35:48.739833258 +0000\n+++ influga-config.json\t2014-10-12 03:36:59.947836293 +0000\n@@ -1,8 +1,8 @@\n {\n   \"dashboardDbPath\": \"./db/influga.db\",\n-  \"host\": \"localhost\",\n+  \"host\": \"example.com\",\n   \"port\": 8086,\n-  \"database\": \"db\",\n-  \"username\": \"root\",\n-  \"password\": \"root\"\n-}\n\\ No newline at end of file\n+  \"database\": \"graphite\",\n+  \"username\": \"admin\",\n+  \"password\": \"password\"\n+}\n```\n\n### \u8d77\u52d5\n\n```bash\n$ influga -c influga-config.json start\n```\n\n### \u30b0\u30e9\u30d5\u306e\u8868\u793a\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089 example.com:8089 \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001Query \u7b49\u3092\u8a2d\u5b9a\u3057\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-10-13 22.44.31.png](https://qiita-image-store.s3.amazonaws.com/0/36202/5a842de0-0676-5bad-1982-9294bd4be40a.png)\n\n\u8a2d\u5b9a\u3057\u305f\u5f8c\u306e\u30b0\u30e9\u30d5\u306e\u8868\u793a\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-10-13 23.10.35.png](https://qiita-image-store.s3.amazonaws.com/0/36202/4ef516de-ed59-2220-558c-e118204696bb.png)\n\n\n## Tasseo\n\n[obfuscurity/tasseo](https://github.com/obfuscurity/tasseo)\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ git clone https://github.com/obfuscurity/tasseo\n$ cd tasseo\n$ bundle install\n```\n\n### \u8a2d\u5b9a\n\n\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u8868\u793a\u3059\u308b\u30e1\u30c8\u30ea\u30af\u30b9\u306f\u3001dashboards/ \u4ee5\u4e0b\u306e <name>.js \u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3057\u307e\u3059\n\n```bash\n$ cat <<EOT>dashboards/ubuntu-14-04-cpu0.js\nvar period = 1;\nvar metrics =\n[\n  {\n    alias: \"servers.ubuntu-1404.cpu.cpu0.user\",\n    target: \"value\",\n    series: \"servers.ubuntu-1404.cpu.cpu0.user\",\n    unit: \"%\",\n    warning: 30,\n    critical: 60\n  },\n  {\n    alias: \"servers.ubuntu-1404.cpu.cpu0.system\",\n    target: \"value\",\n    series: \"servers.ubuntu-1404.cpu.cpu0.system\",\n    unit: \"%\",\n    warning: 30,\n    critical: 60\n  },\n  {\n    alias: \"servers.ubuntu-1404.cpu.cpu0.idle\",\n    target: \"value\",\n    series: \"servers.ubuntu-1404.cpu.cpu0.idle\",\n    unit: \"%\"\n  },\n];\nEOT\n\n$ cat <<EOT>dashboards/ubuntu-14-04-cpu1.js\nvar period = 1;\nvar metrics =\n[\n  {\n    alias: \"servers.ubuntu-1404.cpu.cpu1.user\",\n    target: \"value\",\n    series: \"servers.ubuntu-1404.cpu.cpu1.user\",\n    unit: \"%\",\n    warning: 30,\n    critical: 60\n  },\n  {\n    alias: \"servers.ubuntu-1404.cpu.cpu1.system\",\n    target: \"value\",\n    series: \"servers.ubuntu-1404.cpu.cpu1.system\",\n    unit: \"%\",\n    warning: 30,\n    critical: 60\n  },\n  {\n    alias: \"servers.ubuntu-1404.cpu.cpu1.idle\",\n    target: \"value\",\n    series: \"servers.ubuntu-1404.cpu.cpu1.idle\",\n    unit: \"%\"\n  },\n];\nEOT\n```\n\n### \u8d77\u52d5\n\n```bash\n$ foreman start\n```\n\n### \u30b0\u30e9\u30d5\u306e\u8868\u793a\n\nhttp://example.com:5000/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3059\u308b\u3068\u3001dashboards/ \u4ee5\u4e0b\u306b\u4f5c\u6210\u3057\u305f js \u30d5\u30a1\u30a4\u30eb\u306e\u540d\u524d\u306e\u30ea\u30f3\u30af\u304c\u8868\u793a\u3055\u308c\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-10-13 0.32.25.png](https://qiita-image-store.s3.amazonaws.com/0/36202/bcf0af4f-3e51-7fe5-bf83-df959f6c2f43.png)\n\n\n\u30ea\u30f3\u30af\u3092\u62bc\u4e0b\u3059\u308b\u3068\u3001\u5404\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u307e\u3059\njs \u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3057\u305f warning \u3084 critical \u306e\u5024\u3092\u8d85\u3048\u308b\u3068\u30b0\u30e9\u30d5\u306e\u8272\u304c\u5909\u308f\u308a\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-10-13 1.29.47.png](https://qiita-image-store.s3.amazonaws.com/0/36202/ccd56d30-d755-4a12-8cfd-21192939b7f5.png)\n", "tags": ["influxdb", "graphite"]}