{"context": " More than 1 year has passed since last update.\n\n\u76ee\u7684\n\n\u4e0b\u8a18\u3092\u5229\u7528\u3057\u305f\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u74b0\u5883\u3092AndroidStudio\u3067\u69cb\u7bc9\u3059\u308b\n\n\n\u5b9f\u6a5f\u3001\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u3092\u5fc5\u8981\u3068\u305b\u305a\u3001\u9ad8\u901f\u306b\u52d5\u4f5c\u3059\u308b\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u30e9\u30f3\u30ca\u30fc\u3001Robolectric\n\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u4fbf\u5229\u306a\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3001JUnit4\n\n\n\n\n\u74b0\u5883\n\nAndroid 5.0\nAndroidStudio 1.0\ngradle 2.2.1\n\n\n\u624b\u9806\n\nRobolectric\u306eclasspath\u3092 [PROJECT_ROOT]/build.gradle \u306b\u8ffd\u52a0\u3059\u308b\n\n\n\u4e0b\u8a18\u30da\u30fc\u30b8\u3088\u308a\u3001\u57f7\u7b46\u6642\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 0.14.+\n\n\nhttps://github.com/robolectric/robolectric-gradle-plugin\n\n\n\n\n\n\n[PROJECT_ROOT]/build.gradle\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.0.0'\n        classpath 'org.robolectric:robolectric-gradle-plugin:0.14.+'\n    }\n}\n\n\n\n[MODULE_ROOT]/build.gralde \u306b\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u9069\u7528\n\n\n[MODULE_ROOT]/build.gralde\napply plugin: 'robolectric'\n\n\n\nFile > Project Structure > [module\u540d] > Dependencies > +\u30dc\u30bf\u30f3 > Library Dependency \u3067\u4e0b\u8a18\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8ffd\u52a0\u3057\u3001Scope \u3092 Test compile \u306b\u8a2d\u5b9a\n\n\norg.robolectric:robolectric:x.x\njunit:junit:x.xx\n\n\n\n\n\n[MODULE_ROOT]/src/androidTest/java \u4ee5\u4e0b\u306b ApplicationTest.java \u304c\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u52d5\u4f5c\u78ba\u8a8d\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\n\n\n\u73fe\u5728\u3001\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308bAPI level\u304c18\u306e\u305f\u3081 @Config(emulateSdk = 18) \u306e\u8a18\u8ff0\u304c\u5fc5\u8981\n\n\n\n\nApplicationTest.java\n@Config(emulateSdk = 18)\n@RunWith(RobolectricTestRunner.class)\npublic class ApplicationTest {\n\n    @Before\n    public void setup() {\n    }\n\n    @After\n    public void teardown() {\n    }\n\n    @Test\n    public void testSample() {\n        Assert.assertEquals(\"a\", \"a\");\n    }\n}\n\n\n\n\u5b9f\u884c\n\n\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\n\n$ ./gradlew clean test\n\n\n\n\u6210\u529f\u6642\u306b\u306f\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u4e0b\u8a18\u304c\u8868\u793a\u3055\u308c\u308b\n\nBUILD SUCCESSFUL\n\nTotal time: 18.146 secs\n\n\n\u5931\u6557\u6642\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u30ec\u30dd\u30fc\u30c8\u3067\u4f5c\u6210\u3055\u308c\u308b\u306e\u3067\u3001\u30ec\u30dd\u30fc\u30c8\u3092\u3082\u3068\u306b\u5931\u6557\u306e\u539f\u56e0\u3092\u89e3\u6790\u3057\u3066\u3044\u304f\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:testDebug'.\n> There were failing tests. See the report at: file:///Users/usamao/Workspace/RobolectricSample/app/build/test-report/debug/index.html\n\n* Try:        \nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED\n\n# \u76ee\u7684\n- \u4e0b\u8a18\u3092\u5229\u7528\u3057\u305f\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u74b0\u5883\u3092AndroidStudio\u3067\u69cb\u7bc9\u3059\u308b\n    - \u5b9f\u6a5f\u3001\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u3092\u5fc5\u8981\u3068\u305b\u305a\u3001\u9ad8\u901f\u306b\u52d5\u4f5c\u3059\u308b\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u30e9\u30f3\u30ca\u30fc\u3001Robolectric\n    - \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u4fbf\u5229\u306a\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3001JUnit4\n\n# \u74b0\u5883\n- Android 5.0\n- AndroidStudio 1.0\n- gradle 2.2.1\n\n# \u624b\u9806\n- Robolectric\u306eclasspath\u3092 [PROJECT_ROOT]/build.gradle \u306b\u8ffd\u52a0\u3059\u308b\n    - \u4e0b\u8a18\u30da\u30fc\u30b8\u3088\u308a\u3001\u57f7\u7b46\u6642\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 0.14.+\n        - https://github.com/robolectric/robolectric-gradle-plugin\n\n``` [PROJECT_ROOT]/build.gradle\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.0.0'\n        classpath 'org.robolectric:robolectric-gradle-plugin:0.14.+'\n    }\n}\n```\n\n- [MODULE_ROOT]/build.gralde \u306b\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u9069\u7528\n\n``` [MODULE_ROOT]/build.gralde\napply plugin: 'robolectric'\n```\n\n- File > Project Structure > [module\u540d] > Dependencies > +\u30dc\u30bf\u30f3 > Library Dependency \u3067\u4e0b\u8a18\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8ffd\u52a0\u3057\u3001Scope \u3092 Test compile \u306b\u8a2d\u5b9a\n    - org.robolectric:robolectric:x.x\n    - junit:junit:x.xx\n\n![dependencies.png](https://qiita-image-store.s3.amazonaws.com/0/61552/4429d6e2-9059-d781-9087-b2d948206d04.png)\n\n- [MODULE_ROOT]/src/androidTest/java \u4ee5\u4e0b\u306b ApplicationTest.java \u304c\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u52d5\u4f5c\u78ba\u8a8d\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\n    - \u73fe\u5728\u3001\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308bAPI level\u304c18\u306e\u305f\u3081 @Config(emulateSdk = 18) \u306e\u8a18\u8ff0\u304c\u5fc5\u8981\n\n``` ApplicationTest.java\n@Config(emulateSdk = 18)\n@RunWith(RobolectricTestRunner.class)\npublic class ApplicationTest {\n\n    @Before\n    public void setup() {\n    }\n\n    @After\n    public void teardown() {\n    }\n\n    @Test\n    public void testSample() {\n        Assert.assertEquals(\"a\", \"a\");\n    }\n}\n```\n\n# \u5b9f\u884c\n\n- \u30bf\u30fc\u30df\u30ca\u30eb\u3067\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\n\n```\n$ ./gradlew clean test\n\n```\n\n- \u6210\u529f\u6642\u306b\u306f\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u4e0b\u8a18\u304c\u8868\u793a\u3055\u308c\u308b\n\n```\nBUILD SUCCESSFUL\n               \nTotal time: 18.146 secs\n```\n\n- \u5931\u6557\u6642\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u30ec\u30dd\u30fc\u30c8\u3067\u4f5c\u6210\u3055\u308c\u308b\u306e\u3067\u3001\u30ec\u30dd\u30fc\u30c8\u3092\u3082\u3068\u306b\u5931\u6557\u306e\u539f\u56e0\u3092\u89e3\u6790\u3057\u3066\u3044\u304f\n\n```\nFAILURE: Build failed with an exception.\n              \n* What went wrong:\nExecution failed for task ':app:testDebug'.\n> There were failing tests. See the report at: file:///Users/usamao/Workspace/RobolectricSample/app/build/test-report/debug/index.html\n              \n* Try:        \nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n              \nBUILD FAILED\n```\n", "tags": ["Android5.0", "AndroidStudio1.0", "gradle2.2.1", "robolectric0.14.+"]}