{"context": " More than 1 year has passed since last update.\u306a\u3093\u304b\u3053\u3093\u306a\u306e\u4f5c\u3063\u305f\n\u4f7f\u3044\u65b9\n* CommonDialog.Open(\"\u305f\u3044\u3068\u308b\",\"\u3081\u3063\u305b\u30fc\u3058\",OKButtonEvent,NoButtonEvent);\nOpen\u306e\u4e2d\u3067\u306fInstantiate\u3057\u3066\u3044\u3066\u305d\u306eInstantiate\u3055\u308c\u305f\u969b\u306bTween\u304c\u3044\u3044\u611f\u3058\u306b\u306b\u3085\u3045\u3063\u3066\u3057\u3066\u304f\u308c\u308b\u3060\u3051\n\u2193\u5b9f\u969b\u306b\u4f7f\u3063\u3066\u3044\u308b\u30c0\u30a4\u30a2\u30ed\u30b0\u306e\u69cb\u6210\n\n\u2193\u30bd\u30fc\u30b9\n\nCommonDialog.cs\nusing UnityEngine;\nusing System.Collections;\nusing System;\n\npublic class CommonDialog : MonoBehaviour\n{\n\n    public UILabel Title = null;\n    public UILabel Message = null;\n\n    public UIButton AcceptButton;\n    public UIButton DeclineButton; \n    public Action OnAccept = null;\n    public Action OnDecline = null;\n\n    static public void Open(string title, string message, Action accept, Action decline)\n    {\n// Prefab\u306e\u30d1\u30b9\u306f\u4eba\u306b\u3088\u3063\u3066\u9055\u3046\u306e\u3067\u6ce8\u610f\n        var clone = Instantiate( Resources.Load(\"Prefabs/SelectDialogPanel\"),Vector3.zero,Quaternion.identity) as GameObject;\n        var dialog = clone.GetComponent<CommonDialog>();\n\n        dialog.SetDialog(title,message,accept,decline);\n    }\n\n    void Start()\n    {\n// UIRoot\u306b\u5165\u3063\u305f\u77ac\u9593\u306b\u30b9\u30b1\u30fc\u30eb\u304c\u76f4\u3055\u308c\u308b\u306e\u3067\u4e00\u65e60\u306b\u3059\u308b\n        transform.localScale = Vector3.zero;\n    }\n\n    public void SetDialog(string title, string message, Action accept, Action decline)\n    {\n        Title.text = title;\n        Message.text = message;\n        OnAccept = accept;\n        OnDecline = decline;\n\n        Title.UpdateNGUIText();\n        Message.UpdateNGUIText();\n\n        if (decline == null)\n        {\n            DeclineButton.gameObject.SetActive(false);\n            AcceptButton.transform.position =new Vector3(0,AcceptButton.transform.position.y);\n        }\n    }\n\n    public void OnAcceptButton()\n    {\n        if (OnAccept!=null)\n            OnAccept();\n        Close();\n    }\n\n    public void OnDeclineButton()\n    {\n        if (OnDecline!=null)\n            OnDecline();\n        Close();\n    }\n\n    void Close()\n    {\n        Destroy (this.gameObject);\n    }\n}\n\n\n\n\n\n\u306a\u3093\u304b\u3053\u3093\u306a\u306e\u4f5c\u3063\u305f\n\n\u4f7f\u3044\u65b9\n* CommonDialog.Open(\"\u305f\u3044\u3068\u308b\",\"\u3081\u3063\u305b\u30fc\u3058\",OKButtonEvent,NoButtonEvent);\nOpen\u306e\u4e2d\u3067\u306fInstantiate\u3057\u3066\u3044\u3066\u305d\u306eInstantiate\u3055\u308c\u305f\u969b\u306bTween\u304c\u3044\u3044\u611f\u3058\u306b\u306b\u3085\u3045\u3063\u3066\u3057\u3066\u304f\u308c\u308b\u3060\u3051\n\n\u2193\u5b9f\u969b\u306b\u4f7f\u3063\u3066\u3044\u308b\u30c0\u30a4\u30a2\u30ed\u30b0\u306e\u69cb\u6210\n\n![6e707cd4110aaf12f15670ed8804f141.png](https://qiita-image-store.s3.amazonaws.com/0/12129/a06b9870-67d0-883b-a7b7-fa0dd8021dfc.png)\n\n\u2193\u30bd\u30fc\u30b9\n\n```csharp:CommonDialog.cs\nusing UnityEngine;\nusing System.Collections;\nusing System;\n\npublic class CommonDialog : MonoBehaviour\n{\n\t\n\tpublic UILabel Title = null;\n\tpublic UILabel Message = null;\n\t\n\tpublic UIButton AcceptButton;\n\tpublic UIButton DeclineButton; \n\tpublic Action OnAccept = null;\n\tpublic Action OnDecline = null;\n\n\tstatic public void Open(string title, string message, Action accept, Action decline)\n\t{\n// Prefab\u306e\u30d1\u30b9\u306f\u4eba\u306b\u3088\u3063\u3066\u9055\u3046\u306e\u3067\u6ce8\u610f\n\t\tvar clone = Instantiate( Resources.Load(\"Prefabs/SelectDialogPanel\"),Vector3.zero,Quaternion.identity) as GameObject;\n\t\tvar dialog = clone.GetComponent<CommonDialog>();\n\n\t\tdialog.SetDialog(title,message,accept,decline);\n\t}\n\n\tvoid Start()\n\t{\n// UIRoot\u306b\u5165\u3063\u305f\u77ac\u9593\u306b\u30b9\u30b1\u30fc\u30eb\u304c\u76f4\u3055\u308c\u308b\u306e\u3067\u4e00\u65e60\u306b\u3059\u308b\n\t\ttransform.localScale = Vector3.zero;\n\t}\n\n\tpublic void SetDialog(string title, string message, Action accept, Action decline)\n\t{\n\t\tTitle.text = title;\n\t\tMessage.text = message;\n\t\tOnAccept = accept;\n\t\tOnDecline = decline;\n\n\t\tTitle.UpdateNGUIText();\n\t\tMessage.UpdateNGUIText();\n\n\t\tif (decline == null)\n\t\t{\n\t\t\tDeclineButton.gameObject.SetActive(false);\n\t\t\tAcceptButton.transform.position =new Vector3(0,AcceptButton.transform.position.y);\n\t\t}\n\t}\n\n\tpublic void OnAcceptButton()\n\t{\n\t\tif (OnAccept!=null)\n\t\t\tOnAccept();\n\t\tClose();\n\t}\n\n\tpublic void OnDeclineButton()\n\t{\n\t\tif (OnDecline!=null)\n\t\t\tOnDecline();\n\t\tClose();\n\t}\n\n\tvoid Close()\n\t{\n\t\tDestroy (this.gameObject);\n\t}\n}\n\n```\n", "tags": ["gamejam", "Unity", "NGUI"]}