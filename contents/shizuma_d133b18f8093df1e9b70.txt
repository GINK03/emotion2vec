{"context": " More than 1 year has passed since last update.\n\nRails\u306b\u304a\u3051\u308benum\u306e\u4f7f\u3044\u65b9\n\nenum\u306e\u30ab\u30e9\u30e0\u306e\u30ab\u30e9\u30e0\u8ffd\u52a0\n\ninteger\nclass AddStatusToArticles < ActiveRecord::Migration\n  def change\n    add_column :articles, :status, :integer, default: 0\n    add_index :articles, :status # \u5fc5\u8981\u306b\u5fdc\u3058\u3066\n  end\nend\n\n\nboolean\nclass AddStatusToArticles < ActiveRecord::Migration\n  def change\n    add_column :articles, :status, :boolean, default: false\n    add_index :articles, :status # \u5fc5\u8981\u306b\u5fdc\u3058\u3066\n  end\nend\n\n\nModel\u3078\u306e\u5b9a\u7fa9\n\ninteger\nclass Article < ActiveRecord::Base\n  enum status: { draft: 0, published: 1 }\nend\n\n\nboolean\nclass Article < ActiveRecord::Base\n  enum status: { draft: false, published: true }\nend\n\n\n\u914d\u5217\u3067\u306e\u5b9a\u7fa9 (integer)\nclass Article < ActiveRecord::Base\n  enum status: [:draft, :published]\nend\n\nDB\u306e\u5024\u306f\u8981\u7d20\u756a\u53f7\u3068\u540c\u3058\u306b\u306a\u308b\u3002\u305f\u3060\u3057\u3001\u9069\u5f53\u306b\u8981\u7d20\u3092\u8ffd\u52a0\u3059\u308b\u3068DB\u306e\u5024\u3068\u9f5f\u9f6c\u304c\u751f\u3058\u3066\u3057\u307e\u3046\u305f\u3081\u6ce8\u610f\u3002\n\nenum\u306e\u30e1\u30bd\u30c3\u30c9\n\ninteger (hash\u5b9a\u7fa9)\narticle = Article.new(status: :draft)\n# article = Article.new(status: 0) \u3053\u308c\u3067\u3082\u3044\u3051\u308b\n\narticle.status # => draft\narticle.draft? # => true\narticle.published? # => false\n\narticle.published! # status\u3092published\u306b\u5909\u66f4\n\nArticle.statuses # => { draft: 0, published: 1 }\n# article = Article.new(status: Article.statuses[:draft]) \u306e\u3088\u3046\u306b\u4f7f\u3048\u308b\n\nArticle.published\n# published\u306e\u691c\u7d22\u304c\u51fa\u6765\u308b\u3002\n# Article.where(status: :published) \u3067\u3082\u3002\n\n\n\nboolean\ninteger\u3068\u307b\u307c\u4e00\u7dd2\u3002\narticle = Article.new(status: :draft)\n# article = Article.new(status: false) \u3053\u308c\u3067\u3082\u3044\u3051\u308b\n\narticle.status # => draft\narticle.draft? # => true\narticle.published? # => false\n\narticle.published! # status\u3092published\u306b\u5909\u66f4\n\nArticle.statuses # => { draft: false, published: true }\n# article = Article.new(status: Article.statuses[:draft]) \u306e\u3088\u3046\u306b\u4f7f\u3048\u308b\n\nArticle.published\n# published\u306e\u691c\u7d22\u304c\u51fa\u6765\u308b\u3002\n# Article.where(status: :published) \u3067\u3082\u3002\n\n\n\n\u53c2\u8003\n\u2193\u307e\u3068\u3081\u3066\u3042\u3063\u305f\u3002\n\u3044\u307e\u3055\u3089\u306a\u304c\u3089Rails4.1\u304b\u3089\u5c0e\u5165\u3055\u308c\u305fEnum\u304c\u4fbf\u5229\u306a\u306e\u3067\u307e\u3068\u3081\u3066\u307f\u305f\n# Rails\u306b\u304a\u3051\u308benum\u306e\u4f7f\u3044\u65b9\n\n## enum\u306e\u30ab\u30e9\u30e0\u306e\u30ab\u30e9\u30e0\u8ffd\u52a0\n\n\n### integer\n```rb\nclass AddStatusToArticles < ActiveRecord::Migration\n  def change\n    add_column :articles, :status, :integer, default: 0\n    add_index :articles, :status # \u5fc5\u8981\u306b\u5fdc\u3058\u3066\n  end\nend\n```\n\n### boolean\n\n```rb\nclass AddStatusToArticles < ActiveRecord::Migration\n  def change\n    add_column :articles, :status, :boolean, default: false\n    add_index :articles, :status # \u5fc5\u8981\u306b\u5fdc\u3058\u3066\n  end\nend\n```\n\n## Model\u3078\u306e\u5b9a\u7fa9\n\n### integer\n\n```rb\nclass Article < ActiveRecord::Base\n  enum status: { draft: 0, published: 1 }\nend\n```\n\n### boolean\n\n```rb\nclass Article < ActiveRecord::Base\n  enum status: { draft: false, published: true }\nend\n```\n\n### \u914d\u5217\u3067\u306e\u5b9a\u7fa9 (integer)\n\n```rb\nclass Article < ActiveRecord::Base\n  enum status: [:draft, :published]\nend\n```\n\nDB\u306e\u5024\u306f\u8981\u7d20\u756a\u53f7\u3068\u540c\u3058\u306b\u306a\u308b\u3002\u305f\u3060\u3057\u3001\u9069\u5f53\u306b\u8981\u7d20\u3092\u8ffd\u52a0\u3059\u308b\u3068DB\u306e\u5024\u3068\u9f5f\u9f6c\u304c\u751f\u3058\u3066\u3057\u307e\u3046\u305f\u3081\u6ce8\u610f\u3002\n\n## enum\u306e\u30e1\u30bd\u30c3\u30c9\n\n### integer (hash\u5b9a\u7fa9)\n\n```rb\narticle = Article.new(status: :draft)\n# article = Article.new(status: 0) \u3053\u308c\u3067\u3082\u3044\u3051\u308b\n\narticle.status # => draft\narticle.draft? # => true\narticle.published? # => false\n\narticle.published! # status\u3092published\u306b\u5909\u66f4\n\nArticle.statuses # => { draft: 0, published: 1 }\n# article = Article.new(status: Article.statuses[:draft]) \u306e\u3088\u3046\u306b\u4f7f\u3048\u308b\n\nArticle.published\n# published\u306e\u691c\u7d22\u304c\u51fa\u6765\u308b\u3002\n# Article.where(status: :published) \u3067\u3082\u3002\n\n```\n\n### boolean\n\ninteger\u3068\u307b\u307c\u4e00\u7dd2\u3002\n\n```rb\narticle = Article.new(status: :draft)\n# article = Article.new(status: false) \u3053\u308c\u3067\u3082\u3044\u3051\u308b\n\narticle.status # => draft\narticle.draft? # => true\narticle.published? # => false\n\narticle.published! # status\u3092published\u306b\u5909\u66f4\n\nArticle.statuses # => { draft: false, published: true }\n# article = Article.new(status: Article.statuses[:draft]) \u306e\u3088\u3046\u306b\u4f7f\u3048\u308b\n\nArticle.published\n# published\u306e\u691c\u7d22\u304c\u51fa\u6765\u308b\u3002\n# Article.where(status: :published) \u3067\u3082\u3002\n\n```\n\n## \u53c2\u8003\n\u2193\u307e\u3068\u3081\u3066\u3042\u3063\u305f\u3002\n[\u3044\u307e\u3055\u3089\u306a\u304c\u3089Rails4.1\u304b\u3089\u5c0e\u5165\u3055\u308c\u305fEnum\u304c\u4fbf\u5229\u306a\u306e\u3067\u307e\u3068\u3081\u3066\u307f\u305f](http://ruby-rails.hatenadiary.com/entry/20150710/1436461745)\n", "tags": ["Rails", "Ruby", "enum"]}