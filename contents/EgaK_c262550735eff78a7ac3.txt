{"context": " More than 1 year has passed since last update.Google Maps\u3067\u5730\u56f3\u306e\u4e2d\u5fc3\u306bCrosshair\uff08\u5341\u5b57\uff09\u3092\u63cf\u3053\u3046\u3068\u3059\u308b\u3068\u3001\u3061\u3087\u3063\u3068\u9762\u5012\u3067\u3059\u3088\u306d\u3002\n\ngoogle maps crosshair\u306a\u3069\u3067\u30b0\u30b0\u308b\u3068\u3001OverlayView\u306b\u914d\u7f6e\u3057\u3066\u3001\u5730\u56f3\u306e\u4e2d\u5fc3\u304c\u5909\u308f\u308b\u305f\u3073\u306b\u518d\u63cf\u753b\u3059\u308b\u3001\u3068\u3044\u3046\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u65b9\u6cd5\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nPC\u30aa\u30f3\u30ea\u30fc\u306a\u65b9\u6cd5\nfunction Crosshair() {\n    this.setMap(map);\n    this.div_ = document.createElement('div');\n    this.div_.innerText = \"+\";\n    this.div_.id = \"crosshair\";\n};\nCrosshair.prototype = new google.maps.OverlayView;\nCrosshair.prototype.onAdd = function() {\n    var pane = this.getPanes().overlayLayer;\n    pane.appendChild(this.div_);\n    var me = this;\n    this.listeners_ = [\n        google.maps.event.addListener(this.getMap(), 'center_changed',\n            function() { me.draw(); })\n    ]\n}\nCrosshair.prototype.draw = function() {\n    var projection = this.getProjection();\n    var position = projection.fromLatLngToDivPixel(map.getCenter());\n    var div = this.div_;\n    div.style.left = position.x + 'px';\n    div.style.top = position.y + 'px';\n}\ncrosshair = new Crosshair();\n\n\n\u3053\u308c\u3092\u30b9\u30de\u30db\u306a\u3069\u306e\u975e\u529b\u306a\u7aef\u672b\u3067\u3084\u308b\u3068\u3001\u5730\u56f3\u306e\u4e2d\u5fc3\u3092\u5909\u66f4\u3059\u308b\u305f\u3073\u306b\u3001Crosshair\u304c\u4e2d\u5fc3\u70b9\u304b\u3089\u305a\u308c\u3066\u3057\u307e\u3063\u3066\u307f\u3063\u3068\u3082\u306a\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u306e\u65b9\u6cd5\u3088\u308a\u3082\u3082\u3063\u3068\u7c21\u5358\u3067\u30b9\u30de\u30db\u306b\u3082\u512a\u3057\u3044\u306e\u306f\u3001\u5730\u56f3\u3068\u306f\u5225\u306e\uff08Google Maps\u7ba1\u8f44\u5916\u306e\uff09DOM\u8981\u7d20\u3092\u914d\u7f6e\u3057\u3066\u3001\u305d\u308c\u3092\u5730\u56f3\u4e0a\u306b\u91cd\u306d\u308b\u65b9\u6cd5\u3067\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3001HTML\u30bf\u30b0\u3067\u5730\u56f3\u30ad\u30e3\u30f3\u30d0\u30b9\u3068Crosshair\u306eDIV\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u914d\u7f6e\u3057\u3001\n\nHTML\n<div id=\"wrap\">\n    <div id=\"map-canvas\"></div>\n    <div id=\"cross\"></div>\n</div>\n\n\nCSS\u3067\u5730\u56f3\u306e\u4e0a\u306bDIV\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002\n\nCSS\n#wrap{\n    width: 300px;\n    height: 300px;\n    position: relative;\n}\n#map-canvas{\n    width: 100%;\n    height: 100%;\n}\n#cross{\n    position: absolute;\n    width: 2px;\n    height: 20px;\n    background: #000;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    pointer-events: none;\n}\n#cross::before{\n    content: \"\";\n    position: absolute;\n    width: 20px;\n    height: 2px;\n    background: #000;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n\n\n\u30dd\u30a4\u30f3\u30c8\u306f\u3001\"pointer-events: none;\" \u3067\u3001\u5730\u56f3\u3088\u308a\u3082\u624b\u524d\uff08z-index\u304c\u4e0a\uff09\u306b\u3042\u308bCrosshair\u306eDIV\u3092\u30de\u30a6\u30b9\u3084\u30bf\u30c3\u30c1\u64cd\u4f5c\u304b\u3089\u7121\u52b9\u5316\u3059\u308b\u3053\u3068\u3067\u3059\u3002\n\u3053\u308c\u3067\u30b9\u30de\u30db\u306b\u3082\u512a\u3057\u3044Crosshair\u306e\u51fa\u6765\u4e0a\u304c\u308a\u3067\u3059\u3002\n\u30c7\u30e2\nGoogle Maps\u3067\u5730\u56f3\u306e\u4e2d\u5fc3\u306bCrosshair\uff08\u5341\u5b57\uff09\u3092\u63cf\u3053\u3046\u3068\u3059\u308b\u3068\u3001\u3061\u3087\u3063\u3068\u9762\u5012\u3067\u3059\u3088\u306d\u3002\n![crosshair.png](https://qiita-image-store.s3.amazonaws.com/0/62792/80436d7a-924c-5a53-1cf5-c61547a0a1e6.png)\n\ngoogle maps crosshair\u306a\u3069\u3067\u30b0\u30b0\u308b\u3068\u3001OverlayView\u306b\u914d\u7f6e\u3057\u3066\u3001\u5730\u56f3\u306e\u4e2d\u5fc3\u304c\u5909\u308f\u308b\u305f\u3073\u306b\u518d\u63cf\u753b\u3059\u308b\u3001\u3068\u3044\u3046\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u65b9\u6cd5\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```js:PC\u30aa\u30f3\u30ea\u30fc\u306a\u65b9\u6cd5\nfunction Crosshair() {\n\tthis.setMap(map);\n\tthis.div_ = document.createElement('div');\n\tthis.div_.innerText = \"+\";\n\tthis.div_.id = \"crosshair\";\n};\nCrosshair.prototype = new google.maps.OverlayView;\nCrosshair.prototype.onAdd = function() {\n\tvar pane = this.getPanes().overlayLayer;\n\tpane.appendChild(this.div_);\n\tvar me = this;\n\tthis.listeners_ = [\n\t\tgoogle.maps.event.addListener(this.getMap(), 'center_changed',\n\t\t\tfunction() { me.draw(); })\n\t]\n}\nCrosshair.prototype.draw = function() {\n\tvar projection = this.getProjection();\n\tvar position = projection.fromLatLngToDivPixel(map.getCenter());\n\tvar div = this.div_;\n\tdiv.style.left = position.x + 'px';\n\tdiv.style.top = position.y + 'px';\n}\ncrosshair = new Crosshair();\n```\n\u3053\u308c\u3092\u30b9\u30de\u30db\u306a\u3069\u306e\u975e\u529b\u306a\u7aef\u672b\u3067\u3084\u308b\u3068\u3001\u5730\u56f3\u306e\u4e2d\u5fc3\u3092\u5909\u66f4\u3059\u308b\u305f\u3073\u306b\u3001Crosshair\u304c\u4e2d\u5fc3\u70b9\u304b\u3089\u305a\u308c\u3066\u3057\u307e\u3063\u3066\u307f\u3063\u3068\u3082\u306a\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u306e\u65b9\u6cd5\u3088\u308a\u3082\u3082\u3063\u3068\u7c21\u5358\u3067\u30b9\u30de\u30db\u306b\u3082\u512a\u3057\u3044\u306e\u306f\u3001\u5730\u56f3\u3068\u306f\u5225\u306e\uff08Google Maps\u7ba1\u8f44\u5916\u306e\uff09DOM\u8981\u7d20\u3092\u914d\u7f6e\u3057\u3066\u3001\u305d\u308c\u3092\u5730\u56f3\u4e0a\u306b\u91cd\u306d\u308b\u65b9\u6cd5\u3067\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3001HTML\u30bf\u30b0\u3067\u5730\u56f3\u30ad\u30e3\u30f3\u30d0\u30b9\u3068Crosshair\u306eDIV\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u914d\u7f6e\u3057\u3001\n\n```html:HTML\n<div id=\"wrap\">\n\t<div id=\"map-canvas\"></div>\n\t<div id=\"cross\"></div>\n</div>\n```\nCSS\u3067\u5730\u56f3\u306e\u4e0a\u306bDIV\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002\n\n```css:CSS\n#wrap{\n\twidth: 300px;\n\theight: 300px;\n\tposition: relative;\n}\n#map-canvas{\n\twidth: 100%;\n\theight: 100%;\n}\n#cross{\n\tposition: absolute;\n\twidth: 2px;\n\theight: 20px;\n\tbackground: #000;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\tpointer-events: none;\n}\n#cross::before{\n\tcontent: \"\";\n\tposition: absolute;\n\twidth: 20px;\n\theight: 2px;\n\tbackground: #000;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n}\n```\n\n\u30dd\u30a4\u30f3\u30c8\u306f\u3001\"pointer-events: none;\" \u3067\u3001\u5730\u56f3\u3088\u308a\u3082\u624b\u524d\uff08z-index\u304c\u4e0a\uff09\u306b\u3042\u308bCrosshair\u306eDIV\u3092\u30de\u30a6\u30b9\u3084\u30bf\u30c3\u30c1\u64cd\u4f5c\u304b\u3089\u7121\u52b9\u5316\u3059\u308b\u3053\u3068\u3067\u3059\u3002\n\n\u3053\u308c\u3067\u30b9\u30de\u30db\u306b\u3082\u512a\u3057\u3044Crosshair\u306e\u51fa\u6765\u4e0a\u304c\u308a\u3067\u3059\u3002\n[\u30c7\u30e2](http://jsfiddle.net/egak/X5r8r/2351/)\n", "tags": ["JavaScript", "GoogleMapsAPI", "CSS"]}