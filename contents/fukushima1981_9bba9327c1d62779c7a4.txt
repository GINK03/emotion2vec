{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\n\u306f\u3058\u3081\u306b\n\u3053\u308c\u306f\uff0cOpenCV Advent Calendar 2015\u306e\u8a18\u4e8b\u3067\u3059\uff0e\u95a2\u9023\u8a18\u4e8b\u306f\uff0c\u30ea\u30f3\u30af\u5148\u306b\u76ee\u6b21\u3068\u3057\u3066\u307e\u3068\u3081\u3089\u308c\u3066\u3044\u307e\u3059\uff0e\n\u672c\u8a18\u4e8b\u306f\uff0c\u524d\u56de\u306eOpenCV\u306e\u6c4e\u7528\u5165\u51fa\u529bInputArray, OutputArray\u306e\u4f7f\u3044\u65b9\uff08\u5165\u9580\u7de8\uff09 \u306e\u7d9a\u304d\u3067\u3059\uff0e\n\n\u5f93\u6765\u306eMat\u3067\u53d7\u3051\u308b\u3064\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u305fMat\u4ee5\u5916\u306e\u5f62\u5f0f\n\u3053\u308c\u307e\u3067\u306eMat\u3067\u53d7\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u305f\u306e\u306f\uff0c\u4e0b\u8a18\u306e\u3088\u3046\u306aMat_<T>\u3060\u3051\u3067\u3057\u305f\uff0e\nMat_<T>:Mat_<uchar>, Mat_<short>, Mat_<ushort>, Mat_<float>, Mat_<double>, Mat_<Vec3b>...\n\nInputArray\u3067\u53d7\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u5f62\u5f0f\n\nMat\u3067\u53d7\u3051\u308b\u5f62\u5f0f\n\u524d\u56de\u8aac\u660e\u3057\u305f\u3088\u3046\u306b\uff0c\u57fa\u672c\u7684\u306b\u306fOpenCV\u3067\u4f7f\u3046\u3088\u3046\u306a\u578b\u306f\u4f55\u3067\u3082\u53d7\u3051\u4ed8\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\uff0e\u4f8b\u3048\u3070\uff0c\u4e0b\u8a18\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u53d7\u3051\u4ed8\u3051\u3089\u308c\u307e\u3059\uff0e\nMat, Mat_<T>, Matx, vector<uchar>, vector<Point>, vector<Vec3b>, vector<vector<Mat>>, vector<vector<Point2f>>...\n\u3053\u306e\u3088\u3046\u306a\u5165\u529b\u304c\u5165\u3063\u305f\u3042\u3068\uff0c\u3059\u3079\u3066\u306e\u578b\u306fMat\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\n\uff08\u5f8c\u8ff0\u3057\u307e\u3059\u304c\uff0cvector<vector<T>>\u306e\u578b\u306e\u5834\u5408\u306f\uff0cvector\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\uff09\nvoid funcmat(InputArray in)\n{\n    Mat mat = in.getMat();\n}\n\nMat\u306fL\u30c1\u30e3\u30cd\u30eb\u3092\u6301\u3064MxN\u306e\u5024\u306e\u914d\u5217\u3092\u8868\u73fe\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u305f\u3081\uff0c1\u6b21\u5143\u914d\u5217\u3084Mat\u306e\u4e9c\u7a2e\u306f\u3059\u3079\u3066Mat\u306e\u5f62\u306b\u5909\u63db\u3067\u304d\u307e\u3059\uff0e\u4f8b\u3048\u3070\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\n\nMat_<T>\u3084Matx\u306f\uff0c\u305d\u306e\u307e\u307eMat\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\nvector<uchar>\u3084vector<float>\u306fvector\u306e\u30b5\u30a4\u30ba\u304cN\u306a\u3089[Nx1]\u306e\u30b5\u30a4\u30ba\u306eMat\u30678UC1\u308432FC1\u306etype\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\nvector<T>\u304cVec3b,Vec3f\u306a\u3069\u306e\u30d9\u30af\u30c8\u30eb\u306e\u5024\u3092\u3068\u308b\u306a\u3089\uff0c[Nx1]\u306e3\u30c1\u30e3\u30cd\u30eb\u3068\u306a\u308b8UC3\u308432FC3\u306a\u3069\u306etype\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\nvector<T>\u304cPoint,Point3d\u3092\u53d6\u308b\u5834\u5408\u3082\u540c\u69d8\u306b32SC2\u308464FC3\u306a\u3069\u306etype\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\n\n\nvector<Mat>\u3067\u53d7\u3051\u308b\u5f62\u5f0f\nvector<vector<T>>\u306e\u5f62\u3067\u53d7\u3051\u308b\u306b\u306f\uff0cgetMatVector\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3076\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\u30b5\u30f3\u30d7\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e\nvoid funcvec(InputArray in)\n{\n    vector<Mat> src;\n    in.getMatVector(src);\n}\n\n\u623b\u308a\u5024\u3067\u306f\u306a\u304f\uff0c\u5f15\u6570\u306b\u5165\u308c\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u307e\u3057\u3087\u3046\uff0e\u30dd\u30a4\u30f3\u30bf\u3067\u306f\u306a\u304f\u3066\u5185\u90e8\u3067vector\u3092resize\u3057\u3066\u3044\u308b\u305f\u3081\uff0c\u3053\u306e\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\n\u307e\u305a\uff0c\u5165\u308c\u5b50\u306b\u306a\u3063\u3066\u3044\u308bvector<vector<T>>\u306e\u4e2d\u306e\u4efb\u610f\u306evector<T>\u306f\u5168\u3066Mat\u306b\u5909\u63db\u53ef\u80fd\u3067\u3059(\u4e0a\u8a18\u306eMat\u3067\u53d7\u3051\u308b\u5834\u5408\u3068\u540c\u69d8\u3067\u3059\uff0e)\uff0e\u3064\u307e\u308a\uff0c\u305d\u306evector\u3092\u3055\u3089\u306bvector\u3067\u56f2\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u304b\u3089\uff0c\u7f6e\u63db\u3059\u308c\u3070vector<Mat>\u306e\u5f62\u5f0f\u3067\u5168\u3066\u53d7\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3053\u3068\u306f\u81ea\u660e\u3067\u3059\uff0e\u5165\u529b\u3055\u308c\u308b\u914d\u5217\u304c\u3069\u306e\u3088\u3046\u306a\u7a2e\u985e\u306a\u306e\u304b\u306b\u3088\u3063\u3066\uff0c\u660e\u793a\u7684\u306bMat\u3068vector\u306f\u53d7\u3051\u308b\u3068\u304d\u306b\u547c\u3076\u30e1\u30bd\u30c3\u30c9\u3092\u5909\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\u4eca\u56de\u306f\u8aac\u660e\u3057\u307e\u305b\u3093\u304c\uff0cGPU\u306a\u3069\u3092\u4f7f\u3046UMat\u3084GpuMat\u3092\u4f7f\u3046\u5834\u5408\u3082\u660e\u793a\u7684\u306b\u6307\u793a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\u6b21\u306f\uff0c\u3053\u308c\u3089\u3092\u5207\u308a\u66ff\u3048\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306ekind\u30e1\u30bd\u30c3\u30c9\u3092\u8aac\u660e\u3057\u307e\u3059\uff0e\u306a\u304a\uff0c3\u6b21\u5143vector\u30844\u6b21\u5143vector\u306a\u3069\u3088\u308a\u9ad8\u6b21\u5143\u306e\u914d\u5217\u306f\uff0c\u4eca\u306e\u3068\u3053\u308d\u53d7\u3051\u4ed8\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093\uff0e\n\nkind\u30e1\u30bd\u30c3\u30c9\u306b\u3088\u308b\u578b\u306e\u5207\u308a\u66ff\u3048\nInputArray\u306f\u5165\u529b\u3055\u308c\u305f\u578b\u60c5\u5831\u3092\u4fdd\u6301\u3057\u3066\u304a\u308a\uff0c\u305d\u308c\u3092kind()\u30e1\u30bd\u30c3\u30c9\u3067\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\uff0eInputArray\u306e\u30d8\u30c3\u30c0\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u53d6\u308a\u51fa\u3057\u53ef\u80fd\u306a\u578b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\nenum {\n        KIND_SHIFT = 16,\n        FIXED_TYPE = 0x8000 << KIND_SHIFT,\n        FIXED_SIZE = 0x4000 << KIND_SHIFT,\n        KIND_MASK = 31 << KIND_SHIFT,\n\n        NONE              = 0 << KIND_SHIFT,\n        MAT               = 1 << KIND_SHIFT,\n        MATX              = 2 << KIND_SHIFT,\n        STD_VECTOR        = 3 << KIND_SHIFT,\n        STD_VECTOR_VECTOR = 4 << KIND_SHIFT,\n        STD_VECTOR_MAT    = 5 << KIND_SHIFT,\n        EXPR              = 6 << KIND_SHIFT,\n        OPENGL_BUFFER     = 7 << KIND_SHIFT,\n        CUDA_HOST_MEM     = 8 << KIND_SHIFT,\n        CUDA_GPU_MAT      = 9 << KIND_SHIFT,\n        UMAT              =10 << KIND_SHIFT,\n        STD_VECTOR_UMAT   =11 << KIND_SHIFT,\n        STD_BOOL_VECTOR   =12 << KIND_SHIFT\n    };\n\n\u5b9f\u969b\u306b\u4f7f\u3046\u3068\u304d\u306f\uff0c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f7f\u3048\u3070\uff0c\u5165\u529b\u306e\u578b\u304c\u5206\u304b\u308a\u307e\u3059\uff0e\u578b\u306b\u5fdc\u3058\u3066\uff0c\u4e0a\u8a18\u3067\u8aac\u660e\u3057\u305fMat\uff0cvector<Mat>\u3084\uff0cGPU\u30c7\u30d0\u30a4\u30b9\u306a\u3069\u3092\u7528\u3044\u305f\u9ad8\u901f\u5316\u95a2\u6570\u306b\u4f7f\u308f\u308c\u308b\u578b\u3067\u3042\u308bUMat\u3084GpuMat\u306a\u3069\u3092\u5207\u308a\u66ff\u3048\u308b\u95a2\u6570\u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\uff0e\nvoid func(InputArray src)\n{\n    int kind = src.kind() >> cv::_InputArray::KIND_SHIFT;\n    cout << \"kind: \";\n    switch (kind)\n    {\n\n    case (int)_InputArray::NONE >> _InputArray::KIND_SHIFT:\n        default:\n        cout << \"NONE\\n\";\n        break;\n    case (int)_InputArray::MAT >> _InputArray::KIND_SHIFT:\n        cout << \"Mat\\n\";\n        break;\n    case (int)_InputArray::MATX >> _InputArray::KIND_SHIFT:\n        cout << \"Matx\\n\";\n        break;\n    case _InputArray::STD_VECTOR >> _InputArray::KIND_SHIFT:\n        cout << \"vector\\n\";\n        break;\n    case _InputArray::STD_VECTOR_VECTOR >> _InputArray::KIND_SHIFT:\n        cout << \"vector<vector>\\n\";\n        break;\n    case _InputArray::STD_VECTOR_MAT >> _InputArray::KIND_SHIFT:\n        cout << \"vector<Mat>\\n\";\n        break;\n    case _InputArray::EXPR >> _InputArray::KIND_SHIFT:\n        cout << \"Matexpr\\n\";\n        break;\n    case _InputArray::OPENGL_BUFFER >> _InputArray::KIND_SHIFT:\n        cout << \"OPENGL_BUFFER\\n\";\n        break;\n    case _InputArray::CUDA_HOST_MEM >> _InputArray::KIND_SHIFT:\n        cout << \"cuda mem\\n\";\n        break;\n    case _InputArray::CUDA_GPU_MAT >> _InputArray::KIND_SHIFT:\n        cout << \"GpuMat\\n\";\n        break;\n    case _InputArray::UMAT >> _InputArray::KIND_SHIFT:\n        cout << \"UMat\\n\";\n        break;\n    case _InputArray::STD_VECTOR_UMAT >> _InputArray::KIND_SHIFT:\n        cout << \"vector<UMat>\\n\";\n        break;\n    case _InputArray::STD_BOOL_VECTOR >> _InputArray::KIND_SHIFT:\n        cout << \"vector<bool>\\n\";\n        break;\n    }\n}\n\n#\u306f\u3058\u3081\u306b\n\n#\u306f\u3058\u3081\u306b\n\u3053\u308c\u306f\uff0cOpenCV Advent Calendar 2015\u306e\u8a18\u4e8b\u3067\u3059\uff0e\u95a2\u9023\u8a18\u4e8b\u306f\uff0c\u30ea\u30f3\u30af\u5148\u306b[**\u76ee\u6b21**](http://qiita.com/fukushima1981/items/9211e3586a25db5632a3)\u3068\u3057\u3066\u307e\u3068\u3081\u3089\u308c\u3066\u3044\u307e\u3059\uff0e\n\n\u672c\u8a18\u4e8b\u306f\uff0c\u524d\u56de\u306e[OpenCV\u306e\u6c4e\u7528\u5165\u51fa\u529bInputArray, OutputArray\u306e\u4f7f\u3044\u65b9\uff08\u5165\u9580\u7de8\uff09](http://qiita.com/fukushima1981/items/d283b3af3e21d94550c4) \u306e\u7d9a\u304d\u3067\u3059\uff0e\n\n#\u5f93\u6765\u306eMat\u3067\u53d7\u3051\u308b\u3064\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u305fMat\u4ee5\u5916\u306e\u5f62\u5f0f\n\u3053\u308c\u307e\u3067\u306eMat\u3067\u53d7\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u305f\u306e\u306f\uff0c\u4e0b\u8a18\u306e\u3088\u3046\u306aMat_\\<T>**\u3060\u3051**\u3067\u3057\u305f\uff0e\n`Mat_<T>`:`Mat_<uchar>`, `Mat_<short>`, `Mat_<ushort>`, `Mat_<float>`, `Mat_<double>`, `Mat_<Vec3b>`...\n\n#InputArray\u3067\u53d7\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u5f62\u5f0f\n##Mat\u3067\u53d7\u3051\u308b\u5f62\u5f0f\n\u524d\u56de\u8aac\u660e\u3057\u305f\u3088\u3046\u306b\uff0c\u57fa\u672c\u7684\u306b\u306fOpenCV\u3067\u4f7f\u3046\u3088\u3046\u306a\u578b\u306f\u4f55\u3067\u3082\u53d7\u3051\u4ed8\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\uff0e\u4f8b\u3048\u3070\uff0c\u4e0b\u8a18\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u53d7\u3051\u4ed8\u3051\u3089\u308c\u307e\u3059\uff0e\n`Mat, Mat_<T>, Matx, vector<uchar>, vector<Point>, vector<Vec3b>, vector<vector<Mat>>, vector<vector<Point2f>>...`\n\n\u3053\u306e\u3088\u3046\u306a\u5165\u529b\u304c\u5165\u3063\u305f\u3042\u3068\uff0c\u3059\u3079\u3066\u306e\u578b\u306fMat\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\n\uff08\u5f8c\u8ff0\u3057\u307e\u3059\u304c\uff0cvector\\<vector\\<T>>\u306e\u578b\u306e\u5834\u5408\u306f\uff0cvector<Mat>\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\uff09\n\n```\nvoid funcmat(InputArray in)\n{\n\tMat mat = in.getMat();\n}\n```\n\nMat\u306fL\u30c1\u30e3\u30cd\u30eb\u3092\u6301\u3064MxN\u306e\u5024\u306e\u914d\u5217\u3092\u8868\u73fe\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u305f\u3081\uff0c1\u6b21\u5143\u914d\u5217\u3084Mat\u306e\u4e9c\u7a2e\u306f\u3059\u3079\u3066Mat\u306e\u5f62\u306b\u5909\u63db\u3067\u304d\u307e\u3059\uff0e\u4f8b\u3048\u3070\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\n\n- Mat_\\<T>\u3084Matx\u306f\uff0c\u305d\u306e\u307e\u307eMat\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\n- vector\\<uchar>\u3084vector\\<float>\u306fvector\u306e\u30b5\u30a4\u30ba\u304cN\u306a\u3089[Nx1]\u306e\u30b5\u30a4\u30ba\u306eMat\u30678UC1\u308432FC1\u306etype\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\n- vector\\<T>\u304cVec3b,Vec3f\u306a\u3069\u306e\u30d9\u30af\u30c8\u30eb\u306e\u5024\u3092\u3068\u308b\u306a\u3089\uff0c[Nx1]\u306e3\u30c1\u30e3\u30cd\u30eb\u3068\u306a\u308b8UC3\u308432FC3\u306a\u3069\u306etype\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\n- vector\\<T>\u304cPoint,Point3d\u3092\u53d6\u308b\u5834\u5408\u3082\u540c\u69d8\u306b32SC2\u308464FC3\u306a\u3069\u306etype\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\n\n##vector\\<Mat>\u3067\u53d7\u3051\u308b\u5f62\u5f0f\nvector\\<vector\\<T>>\u306e\u5f62\u3067\u53d7\u3051\u308b\u306b\u306f\uff0cgetMatVector\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3076\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\u30b5\u30f3\u30d7\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e\n\n```\nvoid funcvec(InputArray in)\n{\n\tvector<Mat> src;\n\tin.getMatVector(src);\n}\n```\n\u623b\u308a\u5024\u3067\u306f\u306a\u304f\uff0c**\u5f15\u6570\u306b\u5165\u308c\u308b\u3053\u3068**\u306b\u6ce8\u610f\u3057\u307e\u3057\u3087\u3046\uff0e\u30dd\u30a4\u30f3\u30bf\u3067\u306f\u306a\u304f\u3066\u5185\u90e8\u3067vector\u3092resize\u3057\u3066\u3044\u308b\u305f\u3081\uff0c\u3053\u306e\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\n\n\u307e\u305a\uff0c\u5165\u308c\u5b50\u306b\u306a\u3063\u3066\u3044\u308bvector\\<vector\\<T>>\u306e\u4e2d\u306e\u4efb\u610f\u306evector\\<T>\u306f\u5168\u3066Mat\u306b\u5909\u63db\u53ef\u80fd\u3067\u3059(\u4e0a\u8a18\u306eMat\u3067\u53d7\u3051\u308b\u5834\u5408\u3068\u540c\u69d8\u3067\u3059\uff0e)\uff0e\u3064\u307e\u308a\uff0c\u305d\u306evector\u3092\u3055\u3089\u306bvector\u3067\u56f2\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u304b\u3089\uff0c\u7f6e\u63db\u3059\u308c\u3070vector\\<Mat>\u306e\u5f62\u5f0f\u3067\u5168\u3066\u53d7\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3053\u3068\u306f\u81ea\u660e\u3067\u3059\uff0e\u5165\u529b\u3055\u308c\u308b\u914d\u5217\u304c\u3069\u306e\u3088\u3046\u306a\u7a2e\u985e\u306a\u306e\u304b\u306b\u3088\u3063\u3066\uff0c\u660e\u793a\u7684\u306bMat\u3068vector<Mat>\u306f\u53d7\u3051\u308b\u3068\u304d\u306b\u547c\u3076\u30e1\u30bd\u30c3\u30c9\u3092\u5909\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\u4eca\u56de\u306f\u8aac\u660e\u3057\u307e\u305b\u3093\u304c\uff0cGPU\u306a\u3069\u3092\u4f7f\u3046UMat\u3084GpuMat\u3092\u4f7f\u3046\u5834\u5408\u3082\u660e\u793a\u7684\u306b\u6307\u793a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\u6b21\u306f\uff0c\u3053\u308c\u3089\u3092\u5207\u308a\u66ff\u3048\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306ekind\u30e1\u30bd\u30c3\u30c9\u3092\u8aac\u660e\u3057\u307e\u3059\uff0e\u306a\u304a\uff0c3\u6b21\u5143vector\u30844\u6b21\u5143vector\u306a\u3069\u3088\u308a\u9ad8\u6b21\u5143\u306e\u914d\u5217\u306f\uff0c\u4eca\u306e\u3068\u3053\u308d\u53d7\u3051\u4ed8\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093\uff0e\n\n#kind\u30e1\u30bd\u30c3\u30c9\u306b\u3088\u308b\u578b\u306e\u5207\u308a\u66ff\u3048\nInputArray\u306f\u5165\u529b\u3055\u308c\u305f\u578b\u60c5\u5831\u3092\u4fdd\u6301\u3057\u3066\u304a\u308a\uff0c\u305d\u308c\u3092kind()\u30e1\u30bd\u30c3\u30c9\u3067\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\uff0eInputArray\u306e\u30d8\u30c3\u30c0\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u53d6\u308a\u51fa\u3057\u53ef\u80fd\u306a\u578b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\n\n```\nenum {\n        KIND_SHIFT = 16,\n        FIXED_TYPE = 0x8000 << KIND_SHIFT,\n        FIXED_SIZE = 0x4000 << KIND_SHIFT,\n        KIND_MASK = 31 << KIND_SHIFT,\n\n        NONE              = 0 << KIND_SHIFT,\n        MAT               = 1 << KIND_SHIFT,\n        MATX              = 2 << KIND_SHIFT,\n        STD_VECTOR        = 3 << KIND_SHIFT,\n        STD_VECTOR_VECTOR = 4 << KIND_SHIFT,\n        STD_VECTOR_MAT    = 5 << KIND_SHIFT,\n        EXPR              = 6 << KIND_SHIFT,\n        OPENGL_BUFFER     = 7 << KIND_SHIFT,\n        CUDA_HOST_MEM     = 8 << KIND_SHIFT,\n        CUDA_GPU_MAT      = 9 << KIND_SHIFT,\n        UMAT              =10 << KIND_SHIFT,\n        STD_VECTOR_UMAT   =11 << KIND_SHIFT,\n        STD_BOOL_VECTOR   =12 << KIND_SHIFT\n    };\n```\n\n\u5b9f\u969b\u306b\u4f7f\u3046\u3068\u304d\u306f\uff0c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f7f\u3048\u3070\uff0c\u5165\u529b\u306e\u578b\u304c\u5206\u304b\u308a\u307e\u3059\uff0e\u578b\u306b\u5fdc\u3058\u3066\uff0c\u4e0a\u8a18\u3067\u8aac\u660e\u3057\u305fMat\uff0cvector\\<Mat>\u3084\uff0cGPU\u30c7\u30d0\u30a4\u30b9\u306a\u3069\u3092\u7528\u3044\u305f\u9ad8\u901f\u5316\u95a2\u6570\u306b\u4f7f\u308f\u308c\u308b\u578b\u3067\u3042\u308bUMat\u3084GpuMat\u306a\u3069\u3092\u5207\u308a\u66ff\u3048\u308b\u95a2\u6570\u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\uff0e\n\n```\nvoid func(InputArray src)\n{\n\tint kind = src.kind() >> cv::_InputArray::KIND_SHIFT;\n\tcout << \"kind: \";\n\tswitch (kind)\n\t{\n\t\t\n\tcase (int)_InputArray::NONE >> _InputArray::KIND_SHIFT:\n\t\tdefault:\n\t\tcout << \"NONE\\n\";\n\t\tbreak;\n\tcase (int)_InputArray::MAT >> _InputArray::KIND_SHIFT:\n\t\tcout << \"Mat\\n\";\n\t\tbreak;\n\tcase (int)_InputArray::MATX >> _InputArray::KIND_SHIFT:\n\t\tcout << \"Matx\\n\";\n\t\tbreak;\n\tcase _InputArray::STD_VECTOR >> _InputArray::KIND_SHIFT:\n\t\tcout << \"vector\\n\";\n\t\tbreak;\n\tcase _InputArray::STD_VECTOR_VECTOR >> _InputArray::KIND_SHIFT:\n\t\tcout << \"vector<vector>\\n\";\n\t\tbreak;\n\tcase _InputArray::STD_VECTOR_MAT >> _InputArray::KIND_SHIFT:\n\t\tcout << \"vector<Mat>\\n\";\n\t\tbreak;\n\tcase _InputArray::EXPR >> _InputArray::KIND_SHIFT:\n\t\tcout << \"Matexpr\\n\";\n\t\tbreak;\n\tcase _InputArray::OPENGL_BUFFER >> _InputArray::KIND_SHIFT:\n\t\tcout << \"OPENGL_BUFFER\\n\";\n\t\tbreak;\n\tcase _InputArray::CUDA_HOST_MEM >> _InputArray::KIND_SHIFT:\n\t\tcout << \"cuda mem\\n\";\n\t\tbreak;\n\tcase _InputArray::CUDA_GPU_MAT >> _InputArray::KIND_SHIFT:\n\t\tcout << \"GpuMat\\n\";\n\t\tbreak;\n\tcase _InputArray::UMAT >> _InputArray::KIND_SHIFT:\n\t\tcout << \"UMat\\n\";\n\t\tbreak;\n\tcase _InputArray::STD_VECTOR_UMAT >> _InputArray::KIND_SHIFT:\n\t\tcout << \"vector<UMat>\\n\";\n\t\tbreak;\n\tcase _InputArray::STD_BOOL_VECTOR >> _InputArray::KIND_SHIFT:\n\t\tcout << \"vector<bool>\\n\";\n\t\tbreak;\n\t}\n}\n```\n", "tags": ["OpenCV", "\u753b\u50cf\u51e6\u7406"]}