{"tags": ["RAID"], "context": " More than 1 year has passed since last update.\u30b5\u30fc\u30d0\u306e\u304a\u5f15\u8d8a\u3057\u3092\u4e88\u5b9a\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u65b0\u3057\u3044\u30b5\u30fc\u30d0\u3092\u9802\u3051\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u4eca\u52d5\u3044\u3066\u308b\u30b5\u30fc\u30d0\u3067\u304c\u3093\u3070\u3063\u3066\u8a00\u308f\u308c\u305f\u307f\u3085\u307f\u3085\u3067\u3059\u3002\n\u4eca\u52d5\u3044\u3066\u3044\u308b\u30b5\u30fc\u30d0\u306fHDD\u304c\u4e00\u53f0\u3057\u304b\u306a\u304f\u3001HDD\u304c\u58ca\u308c\u305f\u3089\u7d42\u4e86\u3067\u3059\u3002\n\u305b\u3081\u3066\u30df\u30e9\u30fc\u3067\u3082\u7d44\u307e\u306a\u3044\u3068\u7cbe\u795e\u885b\u751f\u4e0a\u3088\u304f\u306a\u3044\u4e0a\u306b\u591c\u3082\u719f\u7761\u3067\u304d\u307e\u305b\u3093\u3002\n\u305d\u3093\u306a\u308f\u3051\u3067\u7a3c\u50cd\u4e2d\u306e\u5358\u4e00HDD\u306e\u30b5\u30fc\u30d0\u3092raid1\u306e\u30df\u30e9\u30fc\u306b\u5909\u66f4\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u524d\u56de raid1\u3092\u69cb\u7bc9\u3057\u307e\u3057\u305f\u306e\u3067\u3001\u6700\u7d42\u7684\u306b\u306f\u6700\u5f8c\u306e\u56f3\u306e\u3088\u3046\u306b\u306a\u308c\u3070\u3044\u3044\u306e\u304b\u306a\u3041\uff5e\u3000\u3068\n\n\u73fe\u5728\u306eHDD\u306e\u72b6\u614b\n\u73fe\u5728\u306eHDD\u306e\u69cb\u6210\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nroot@mdtest:~# parted -l\n\u30e2\u30c7\u30eb: ATA VBOX HARDDISK (scsi)\n\u30c7\u30a3\u30b9\u30af /dev/sda: 8590MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7    \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1049kB  256MB   255MB   primary   ext2              boot\n 2    257MB   8589MB  8332MB  extended\n 5    257MB   8589MB  8332MB  logical                     lvm\n\n\n\u30e2\u30c7\u30eb: Linux device-mapper (linear) (dm)\n\u30c7\u30a3\u30b9\u30af /dev/mapper/mdtest--vg-swap_1: 533MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: loop\n\n\u756a\u53f7  \u958b\u59cb   \u7d42\u4e86   \u30b5\u30a4\u30ba  \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    0.00B  533MB  533MB   linux-swap(v1)\n\n\n\u30e2\u30c7\u30eb: Linux device-mapper (linear) (dm)\n\u30c7\u30a3\u30b9\u30af /dev/mapper/mdtest--vg-root: 7764MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: loop\n\n\u756a\u53f7  \u958b\u59cb   \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    0.00B  7764MB  7764MB  ext4\n\nroot@mdtest:~# df -k\nFilesystem                  1K-blocks    Used Available Use% Mounted on\n/dev/mapper/mdtest--vg-root   7331536 1284088   5651980  19% /\nnone                                4       0         4   0% /sys/fs/cgroup\nudev                           239576       4    239572   1% /dev\ntmpfs                           50152     472     49680   1% /run\nnone                             5120       0      5120   0% /run/lock\nnone                           250748       0    250748   0% /run/shm\nnone                           102400       0    102400   0% /run/user\n/dev/sda1                      240972   38103    190428  17% /boot\n\n\u30c7\u30d0\u30a4\u30b9\u306f\uff13\u3064\n- /dev/sda \uff08\u7269\u7406\uff09\n- /dev/mapper/mdtest--vg-swap_1 (LVM)\n- /dev/mapper/mdtest--vg-root (LVM)\n/dev/sda1\u306f /boot\u306b\u30de\u30a6\u30f3\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nLVM\u306e\u72b6\u614b\u3092\u78ba\u8a8d\nroot@mdtest:~# pvdisplay\n  --- Physical volume ---\n  PV Name               /dev/sda5\n  VG Name               mdtest-vg\n  PV Size               7.76 GiB / not usable 2.00 MiB\n  Allocatable           yes\n  PE Size               4.00 MiB\n  Total PE              1986\n  Free PE               8\n  Allocated PE          1978\n  PV UUID               PfeUP8-vYhu-d2Gq-7VDz-ijQ8-eV58-AFN2k6\n\nroot@mdtest:~# vgdisplay\n  --- Volume group ---\n  VG Name               mdtest-vg\n  System ID\n  Format                lvm2\n  Metadata Areas        1\n  Metadata Sequence No  3\n  VG Access             read/write\n  VG Status             resizable\n  MAX LV                0\n  Cur LV                2\n  Open LV               2\n  Max PV                0\n  Cur PV                1\n  Act PV                1\n  VG Size               7.76 GiB\n  PE Size               4.00 MiB\n  Total PE              1986\n  Alloc PE / Size       1978 / 7.73 GiB\n  Free  PE / Size       8 / 32.00 MiB\n  VG UUID               xMRo8d-aZYP-wWWB-qtDF-6ilb-4AkC-Xow59q\n\nroot@mdtest:~# lvdisplay\n  --- Logical volume ---\n  LV Path                /dev/mdtest-vg/root\n  LV Name                root\n  VG Name                mdtest-vg\n  LV UUID                8CuLA2-erMg-Y893-V2k6-SKzP-tuXg-jrqltn\n  LV Write Access        read/write\n  LV Creation host, time mdtest, 2015-05-21 12:47:15 +0900\n  LV Status              available\n  # open                 1\n  LV Size                7.23 GiB\n  Current LE             1851\n  Segments               1\n  Allocation             inherit\n  Read ahead sectors     auto\n  - currently set to     256\n  Block device           252:0\n\n  --- Logical volume ---\n  LV Path                /dev/mdtest-vg/swap_1\n  LV Name                swap_1\n  VG Name                mdtest-vg\n  LV UUID                53OCrI-0NZ6-NDcJ-gHEF-WmWO-ZDG1-7nYtt8\n  LV Write Access        read/write\n  LV Creation host, time mdtest, 2015-05-21 12:47:15 +0900\n  LV Status              available\n  # open                 2\n  LV Size                508.00 MiB\n  Current LE             127\n  Segments               1\n  Allocation             inherit\n  Read ahead sectors     auto\n  - currently set to     256\n  Block device           252:1\n\n\n\u3044\u3064\u3082\u306e\uff13\u3064\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\u3010/dev/sda5\u3011\u304b\u3089\u3010mdtest-vg\u3011\u3092\u4f5c\u308a\u305d\u308c\u305e\u308croot\u3068swap\u306e\u8ad6\u7406\u30c7\u30d0\u30a4\u30b9\u3092\u69cb\u7bc9\u3067\u3059\u3002\n\u3002\u3002\u3002\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u306e\u3067\u56f3\u3092\u66f8\u3044\u3066\u307f\u308b\u3068\n\n\u524d\u56de\u306e\u56f3\u306e\u4f7f\u3044\u307e\u308f\u3057\u3067\u3059\u3002\nRAID\u30c7\u30d0\u30a4\u30b9\u306f\u306a\u3044\u306e\u3067\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\u3053\u308c\u306b\u307e\u305a\u306fHDD\u3092\u4e00\u500b\u53d6\u308a\u4ed8\u3051\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u53d6\u308a\u4ed8\u3051\u3066\u8d77\u52d5\u3057\u3066\u307f\u308b\u3068\nroot@mdtest:~# dmesg | grep sdb\n[    1.581832] sd 3:0:0:0: [sdb] 16777216 512-byte logical blocks: (8.58 GB/8.00 GiB)\n[    1.583935] sd 3:0:0:0: [sdb] Write Protect is off\n[    1.584693] sd 3:0:0:0: [sdb] Mode Sense: 00 3a 00 00\n[    1.585423] sd 3:0:0:0: [sdb] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA\n[    1.587692]  sdb: unknown partition table\n[    1.588392] sd 3:0:0:0: [sdb] Attached SCSI disk\n\n\u306a\u3093\u304b[unknown partition table]\u3067sdb\u304c\u8a8d\u8b58\n\u307e\u305a\u3001\u3053\u3044\u3064\u3092raid1\u306e\u7247\u80ba\u3068\u3057\u3066\u8a8d\u8b58\u3055\u305b\u307e\u3059\u3002\n\u30fb\u30fb\u30fbRAID\u3092\u4f5c\u308b\u306e\u306bmdadm\u304c\u306a\u3044\u8a00\u308f\u308c\u305f\u306e\u3067\u307e\u305a\u306fmdadm\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nroot@mdtest:~# apt-get install mdadm\n\n\u63a5\u7d9a\u3057\u305fHDD\u306e\u30b5\u30a4\u30ba\u304c2TB\u4ee5\u4e0b\u306a\u306e\u3067\u30e9\u30d9\u30eb\u3092\u3010msdos\u3011\u3067\u8a2d\u5b9a\n\uff08\uff12\uff34\uff22\u4ee5\u4e0a\u306a\u3089\u30e9\u30d9\u30eb\u540d\u306f\u3010gpt\u3011\u3067\u3059\uff09\nroot@mdtest:~# parted /dev/sdb\nGNU Parted 2.3\n/dev/sdb \u3092\u4f7f\u7528\nGNU Parted \u3078\u3088\u3046\u3053\u305d\uff01 \u30b3\u30de\u30f3\u30c9\u4e00\u89a7\u3092\u898b\u308b\u306b\u306f 'help' \u3068\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n(parted) print\n\u30a8\u30e9\u30fc: /dev/sdb: \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u304c\u8a8d\u8b58\u3067\u304d\u307e\u305b\u3093\u3002\n(parted) mklabel msdos\n(parted) print\n\u30e2\u30c7\u30eb: ATA VBOX HARDDISK (scsi)\n\u30c7\u30a3\u30b9\u30af /dev/sdb: 8590MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb  \u7d42\u4e86  \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7  \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n\n(parted) mkpart\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u7a2e\u985e?  primary/\u30d7\u30e9\u30a4\u30de\u30ea/extended/\u62e1\u5f35? primary\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u7a2e\u985e?  [ext2]?\n\u958b\u59cb? 1049kB\n\u7d42\u4e86? 8589MB\n(parted) set 1 raid on\n(parted) set 1 boot on\n(parted) print\n\u30e2\u30c7\u30eb: ATA VBOX HARDDISK (scsi)\n\u30c7\u30a3\u30b9\u30af /dev/sdb: 8590MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7   \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1049kB  8590MB  8589MB  primary                    boot, raid\n(parted) q\n\u901a\u77e5: \u5fc5\u8981\u3067\u3042\u308c\u3070 /etc/fstab \u3092\u66f4\u65b0\u3059\u308b\u306e\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30b5\u30a4\u30ba\u306f\u524d\u56de\u306e\u30b3\u30d4\u30da\u3067\u3059\u3002\nraid\u3084\u3089boot\u306e\u30d5\u30e9\u30b0\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\n\u6b21\u306braid1\u3092\u884c\u3046\u306e\u3067\u3001md\u3092\u4f5c\u3063\u3066\u5148\u307b\u3069\u4f5c\u3063\u305f/dev/sdb1\u3092\u3076\u3061\u8fbc\u307f\u307e\u3059\u3002\nroot@mdtest:~# mdadm -C /dev/md0 -l1 -n2 /dev/sdb1 missing\nmdadm: Note: this array has metadata at the start and\n    may not be suitable as a boot device.  If you plan to\n    store '/boot' on this device please ensure that\n    your boot-loader understands md/v1.x metadata, or use\n    --metadata=0.90\nContinue creating array?\nContinue creating array? (y/n) y\nmdadm: Defaulting to version 1.2 metadata\nmdadm: array /dev/md0 started.\nroot@mdtest:~#\n\n\u306a\u3093\u304b\u6ce8\u610f\u3092\u53d7\u3051\u305f\u3051\u3069\u6c17\u306b\u305b\u305a\u306b\n-l1 \u2192 raid 1\n-n2 \u2192 \uff28\uff24\uff24\uff12\u500b\u4f7f\u3046\u3088\nmissing \u2192\u3000\u4e8c\u3064\u4f7f\u3046\u3063\u3066\u8a00\u3063\u305f\u3051\u4e00\u3064\u3057\u304b\u7528\u610f\u3057\u3066\u306a\u3044\u3093\u3060\u30fc\u3000\u3060\u304b\u3089\u30d6\u30e9\u30f3\u30af\u306b\u3057\u3068\u3044\u3066\n\u3067\u304d\u305f\u3068\u601d\u308f\u308c\u308b/dev/md0\u3092\u78ba\u8a8d\nroot@mdtest:~# mdadm --detail /dev/md0\n/dev/md0:\n        Version : 1.2\n  Creation Time : Thu May 21 15:47:58 2015\n     Raid Level : raid1\n     Array Size : 8383424 (8.00 GiB 8.58 GB)\n  Used Dev Size : 8383424 (8.00 GiB 8.58 GB)\n   Raid Devices : 2\n  Total Devices : 1\n    Persistence : Superblock is persistent\n\n    Update Time : Thu May 21 15:47:58 2015\n          State : clean, degraded\n Active Devices : 1\nWorking Devices : 1\n Failed Devices : 0\n  Spare Devices : 0\n\n           Name : mdtest:0  (local to host mdtest)\n           UUID : 78f1d07c:f84952e0:44ebf35c:aa20c469\n         Events : 0\n\n    Number   Major   Minor   RaidDevice State\n       0       8       17        0      active sync   /dev/sdb1\n       1       0        0        1      removed\n\n\u306a\u3093\u3068\u306a\u304f\u51fa\u6765\u3066\u308b\u3063\u307d\u3044\n/dev/md0\u306b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u3063\u3066\u307f\u308b\nroot@mdtest:~# parted /dev/md0\nGNU Parted 2.3\n/dev/sdb \u3092\u4f7f\u7528\nGNU Parted \u3078\u3088\u3046\u3053\u305d\uff01 \u30b3\u30de\u30f3\u30c9\u4e00\u89a7\u3092\u898b\u308b\u306b\u306f 'help' \u3068\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n(parted) print\n\u30a8\u30e9\u30fc: /dev/sdb: \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u304c\u8a8d\u8b58\u3067\u304d\u307e\u305b\u3093\u3002\n(parted) mklabel msdos\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb  \u7d42\u4e86  \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7  \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n\n(parted) mkpart\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u7a2e\u985e?  primary/\u30d7\u30e9\u30a4\u30de\u30ea/extended/\u62e1\u5f35? primary\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u7a2e\u985e?  [ext2]? ext2\n\u958b\u59cb? 2048s\n\u7d42\u4e86? 255MB\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86   \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7   \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1049kB  255MB  254MB   primary\n\n(parted) mkfs 1 ext2\n\u8b66\u544a: \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u5bfe\u3057\u3066 parted \u306b\u3088\u308b\u64cd\u4f5c(mkfs)\u3092\u884c\u304a\u3046\u3068\u3057\u3066\u3044\u307e\u3059\u3002\nparted \u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u64cd\u4f5c\u30b3\u30fc\u30c9\u306f\u3001e2fsprogs \u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u5c02\n\u7528\u306e\u3082\u306e\u307b\u3069\u5805\u56fa\u306b\u4f5c\u3089\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u53ef\u80fd\u306a\u304b\u304e\u308a parted \u3092\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\n\u30d6\u30eb\u306e\u64cd\u4f5c\u3060\u3051\u306b\u7528\u3044\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\u307b\u3068\u3093\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\n\u5bfe\u3059\u308b\u307b\u3068\u3093\u3069\u306e\u64cd\u4f5c\u306f\u4eca\u5f8c\u306e\u30ea\u30ea\u30fc\u30b9\u3067\u524a\u9664\u3055\u308c\u308b\u4e88\u5b9a\u3067\u3059\u3002\n\u8b66\u544a: \u3044\u307e\u5b58\u5728\u3057\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306f\u7834\u58ca\u3055\u308c\u3001\u3053\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u5168\u30c7\u30fc\u30bf\u304c\u5931\u308f\u308c\u307e\u3059\u3002\u7d9a\u884c\u3057\u307e\u3059\u304b\uff1f\n\u306f\u3044(Y)/Yes/\u3044\u3044\u3048(N)/No? y\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u756a\u53f7? 1\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u7a2e\u985e?  [ext2]? ext2\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86   \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7   \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1049kB  255MB  254MB   primary  ext2\n\n(parted) mkpart\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u7a2e\u985e?  primary/\u30d7\u30e9\u30a4\u30de\u30ea/extended/\u62e1\u5f35? extended\n\u958b\u59cb? 255MB\n\u7d42\u4e86? -1s\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7    \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1049kB  255MB   254MB   primary   ext2\n 2    255MB   8585MB  8330MB  extended                    lba\n\n(parted) set 2 lba off\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7    \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1049kB  255MB   254MB   primary   ext2\n 2    255MB   8585MB  8330MB  extended\n\n(parted) mkpart logical 499712s 16766847s\n(parted) unit MB\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7    \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1.05MB  255MB   254MB   primary   ext2\n 2    255MB   8585MB  8330MB  extended\n 5    256MB   8585MB  8329MB  logical\n\n(parted) set 5 lvm on\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7    \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1.05MB  255MB   254MB   primary   ext2\n 2    255MB   8585MB  8330MB  extended\n 5    256MB   8585MB  8329MB  logical                     lvm\n\n\n\u300c\u8b66\u544a: \u64cd\u4f5c\u306e\u7d50\u679c\u3067\u304d\u308b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306f\u30a2\u30e9\u30a4\u30e1\u30f3\u30c8\u304c\u6b63\u3057\u304f\u306a\u3044\u305f\u3081\u306b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u3067\u307e\u305b\u3093\u3002\u300d\n\u3053\u3093\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8272\u3005\u3067\u3066\u304d\u3066\u3081\u3093\u3069\u304f\u3055\u304b\u3063\u305f\u30fc\n\u8abf\u3079\u3066\u307f\u305f\u3089\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u30922048\u30b7\u30ea\u30f3\u30c0\u30fc\u3067\u5272\u308a\u5207\u308c\u308b\u6570\u306a\u3089\u6012\u3089\u308c\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u9014\u4e2d\u3067\nunit s  \u2190\u3000print\u306e\u8868\u793a\u3092\u30b7\u30ea\u30f3\u30c0\u30fc\u6570\u306b\u5909\u66f4\n\u3053\u308c\u3067\u30b7\u30ea\u30f3\u30c0\u30fc\u5358\u4f4d\u3067\u8a08\u7b97\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n\uff08\u306a\u306e\u3067\u7121\u99c4\u304c\u591a\u3044\u3067\u3059\uff01\uff09\nmd\u306b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u5207\u308a\u307e\u3057\u305f\u306e\u3067\u30c7\u30d0\u30a4\u30b9\u304c\u51fa\u6765\u3066\u308b\u306f\u305a\nroot@mdtest:~# ls -al /dev/md*\nbrw-rw---- 1 root disk   9, 0  5\u6708 21 16:39 /dev/md0\nbrw-rw---- 1 root disk 259, 0  5\u6708 21 16:13 /dev/md0p1\nbrw-rw---- 1 root disk 259, 2  5\u6708 21 16:31 /dev/md0p2\nbrw-rw---- 1 root disk 259, 3  5\u6708 21 16:31 /dev/md0p5\n\n\u30c7\u30d0\u30a4\u30b9\u304c\u51fa\u6765\u3066\u307e\u3057\u305f\u3002\n\u5ff5\u306e\u70ba\u3001boot\u306b\u4f7f\u3046\u3068\u3053\u308d\u3092ext2\u3067\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4f5c\u6210\nroot@mdtest:~# mkfs.ext2 /dev/md0p1\n\n/boot\u306e\u4e2d\u8eab\u3092\u3059\u3079\u3066\u30b3\u30d4\u30fc\nroot@mdtest:~# cd /\nroot@mdtest:/# mkdir newboot\nroot@mdtest:/# mount /dev/md0p1 newboot\nroot@mdtest:/# cp -dpr /boot/* newboot/\n\n/boot\u306e\u30de\u30a6\u30f3\u30c8\u5148\u3092\u30de\u30a6\u30f3\u30c8\u3092\u65b0\u3057\u304f\u4f5c\u3063\u305f/dev/md0p1\u306b\u5909\u66f4\nroot@mdtest:/# tune2fs -l /dev/md0p1 | grep UUID\nFilesystem UUID:          9a08b33b-aba8-4b9d-b6ed-8423117a76d2\nroot@mdtest:/# vi /etc/fstab\n\n/boot\u306e\u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8\u304c\u5909\u308f\u3063\u305f\u306e\u3092\u78ba\u8a8d\nroot@mdtest:/# umount newboot\nroot@mdtest:/# umount /boot\nroot@mdtest:/# rmdir newboot\nroot@mdtest:/# mount /boot\nroot@mdtest:/# df -k\nFilesystem                  1K-blocks    Used Available Use% Mounted on\n/dev/mapper/mdtest--vg-root   7331536 1291548   5644520  19% /\nnone                                4       0         4   0% /sys/fs/cgroup\nudev                           239576       8    239568   1% /dev\ntmpfs                           50152     504     49648   2% /run\nnone                             5120       0      5120   0% /run/lock\nnone                           250748       0    250748   0% /run/shm\nnone                           102400       0    102400   0% /run/user\n/dev/md0p1                     239979   38492    189097  17% /boot\n\n\u65b0\u3057\u3044HDD\u306bgrab\u3092\u5165\u308c\u3066\u3001\u53e4\u3044\uff28\uff24\uff24\u306eboot\u30d5\u30e9\u30b0\u3092\u843d\u3068\u3057\u307e\u3059\u3002\nroot@mdtest:/# grub-install /dev/sdb\nInstalling for i386-pc platform.\ngrub-install: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\ngrub-install: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\nInstallation finished. No error reported.\nroot@mdtest:/# update-grub\nGenerating grub configuration file ...\nLinux \u30a4\u30e1\u30fc\u30b8\u3092\u898b\u3064\u3051\u307e\u3057\u305f: /boot/vmlinuz-3.16.0-30-generic\nFound initrd image: /boot/initrd.img-3.16.0-30-generic\n/usr/sbin/grub-probe: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\n/usr/sbin/grub-probe: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\n/usr/sbin/grub-probe: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\n/usr/sbin/grub-probe: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\n/usr/sbin/grub-probe: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\n/usr/sbin/grub-probe: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\nFound memtest86+ image: /memtest86+.elf\nFound memtest86+ image: /memtest86+.bin\n\u5b8c\u4e86\n\nroot@mdtest:/# parted /dev/sda set 1 boot off\n\n\n\u3053\u308c\u3067reboot\u3092\u884c\u3063\u3066\u7acb\u3061\u4e0a\u304c\u308c\u3070boot\u306f\uff2f\uff2b\u3067\u3059\u3002\n\u305f\u3060\u3057\u3001\u79c1\u304c\u4f7f\u3063\u3066\u308b\u306e\u306fOracle Virtual Box\u3067boot\u30d5\u30e9\u30b0\u3092\u843d\u3068\u3057\u3066\u3082\u3001\u4e00\u756a\u76ee\u306e\uff28\uff24\uff24\u3092\u898b\u306b\u884c\u3063\u3066\u8d77\u52d5\u3059\u308b\u305d\u3046\u3067\u3059\u3002\n\uff08\u4e00\u756a\u76ee\u306eHDD\u306b\u8d77\u52d5\u306e\u8a2d\u5b9a\u304c\u306a\u3051\u308c\u3070\u3001\u8d77\u52d5\u3067\u304d\u307e\u305b\u3093\u3063\u3066\u3053\u3068\u3067\u7d42\u4e86\uff09\n\u306a\u306e\u3067\u3001\u7acb\u3061\u4e0a\u304c\u308b\u3068\u304d\u306b\u3010F12\u3011\u3092\u62bc\u3057\u3066\n\n\u3053\u3093\u306a\u753b\u9762\u3092\u51fa\u3057\u3066\u3001\uff12\u756a\u76ee\u306e\uff28\uff24\uff24\u3092\u9078\u629e\uff08\uff12\u3092\u62bc\u3059\uff09\n\u3053\u308c\u3067\u3001\uff12\u756a\u76ee\u306e\uff28\uff24\uff24\u304b\u3089\u8d77\u52d5\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\n\u30ea\u30d6\u30fc\u30c8\u5f8c\nroot@mdtest:~# ls -al /dev/md*\nbrw-rw---- 1 root disk   9, 127  5\u6708 21 17:14 /dev/md127\nbrw-rw---- 1 root disk 259,   0  5\u6708 21 17:14 /dev/md127p1\nbrw-rw---- 1 root disk 259,   1  5\u6708 21 17:14 /dev/md127p2\nbrw-rw---- 1 root disk 259,   2  5\u6708 21 17:14 /dev/md127p5\n\n/dev/md:\n\u5408\u8a08 0\ndrwxr-xr-x  2 root root  120  5\u6708 21 17:14 .\ndrwxr-xr-x 17 root root 4280  5\u6708 21 17:14 ..\nlrwxrwxrwx  1 root root    8  5\u6708 21 17:14 mdtest:0 -> ../md127\nlrwxrwxrwx  1 root root   10  5\u6708 21 17:14 mdtest:0p1 -> ../md127p1\nlrwxrwxrwx  1 root root   10  5\u6708 21 17:14 mdtest:0p2 -> ../md127p2\nlrwxrwxrwx  1 root root   10  5\u6708 21 17:14 mdtest:0p5 -> ../md127p5\n\n\u306a\u3093\u304b\u8272\u3005\u3068\u540d\u524d\u304c\u66f8\u304d\u63db\u308f\u3063\u3066\u308b\u3002\u3002\u3002\n(md0 \u2192 md127 \u3042\u3068\u3078\u3093\u306a\u30ea\u30f3\u30af\u8cbc\u3089\u308c\u3066\u308b\u3002\u3002\u3002\uff09\nroot@mdtest:~# df -k\nFilesystem                  1K-blocks    Used Available Use% Mounted on\n/dev/mapper/mdtest--vg-root   7331536 1292032   5644036  19% /\nnone                                4       0         4   0% /sys/fs/cgroup\nudev                           239384       4    239380   1% /dev\ntmpfs                           50152     504     49648   2% /run\nnone                             5120       0      5120   0% /run/lock\nnone                           250748       0    250748   0% /run/shm\nnone                           102400       0    102400   0% /run/user\n/dev/md127p1                   239979   38497    189092  17% /boot\n\n\u3068\u308a\u3042\u3048\u305a\u56f3\u3067\u66f8\u304f\u3068\u3053\u3053\u307e\u3067\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u6b21\u306f\u6b8b\u308a\u306e\u90e8\u5206\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u30b5\u30fc\u30d0\u306e\u304a\u5f15\u8d8a\u3057\u3092\u4e88\u5b9a\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u65b0\u3057\u3044\u30b5\u30fc\u30d0\u3092\u9802\u3051\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u4eca\u52d5\u3044\u3066\u308b\u30b5\u30fc\u30d0\u3067\u304c\u3093\u3070\u3063\u3066\u8a00\u308f\u308c\u305f\u307f\u3085\u307f\u3085\u3067\u3059\u3002\n\u4eca\u52d5\u3044\u3066\u3044\u308b\u30b5\u30fc\u30d0\u306fHDD\u304c\u4e00\u53f0\u3057\u304b\u306a\u304f\u3001HDD\u304c\u58ca\u308c\u305f\u3089\u7d42\u4e86\u3067\u3059\u3002\n\u305b\u3081\u3066\u30df\u30e9\u30fc\u3067\u3082\u7d44\u307e\u306a\u3044\u3068\u7cbe\u795e\u885b\u751f\u4e0a\u3088\u304f\u306a\u3044\u4e0a\u306b\u591c\u3082\u719f\u7761\u3067\u304d\u307e\u305b\u3093\u3002\n\n\u305d\u3093\u306a\u308f\u3051\u3067\u7a3c\u50cd\u4e2d\u306e\u5358\u4e00HDD\u306e\u30b5\u30fc\u30d0\u3092raid1\u306e\u30df\u30e9\u30fc\u306b\u5909\u66f4\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n[\u524d\u56de](http://qiita.com/miyumiyu/items/97120a49b78822932c9c) raid1\u3092\u69cb\u7bc9\u3057\u307e\u3057\u305f\u306e\u3067\u3001\u6700\u7d42\u7684\u306b\u306f\u6700\u5f8c\u306e\u56f3\u306e\u3088\u3046\u306b\u306a\u308c\u3070\u3044\u3044\u306e\u304b\u306a\u3041\uff5e\u3000\u3068\n\n### \u73fe\u5728\u306eHDD\u306e\u72b6\u614b\n\u73fe\u5728\u306eHDD\u306e\u69cb\u6210\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```shell-session\nroot@mdtest:~# parted -l\n\u30e2\u30c7\u30eb: ATA VBOX HARDDISK (scsi)\n\u30c7\u30a3\u30b9\u30af /dev/sda: 8590MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7    \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1049kB  256MB   255MB   primary   ext2              boot\n 2    257MB   8589MB  8332MB  extended\n 5    257MB   8589MB  8332MB  logical                     lvm\n\n\n\u30e2\u30c7\u30eb: Linux device-mapper (linear) (dm)\n\u30c7\u30a3\u30b9\u30af /dev/mapper/mdtest--vg-swap_1: 533MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: loop\n\n\u756a\u53f7  \u958b\u59cb   \u7d42\u4e86   \u30b5\u30a4\u30ba  \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    0.00B  533MB  533MB   linux-swap(v1)\n\n\n\u30e2\u30c7\u30eb: Linux device-mapper (linear) (dm)\n\u30c7\u30a3\u30b9\u30af /dev/mapper/mdtest--vg-root: 7764MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: loop\n\n\u756a\u53f7  \u958b\u59cb   \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    0.00B  7764MB  7764MB  ext4\n\nroot@mdtest:~# df -k\nFilesystem                  1K-blocks    Used Available Use% Mounted on\n/dev/mapper/mdtest--vg-root   7331536 1284088   5651980  19% /\nnone                                4       0         4   0% /sys/fs/cgroup\nudev                           239576       4    239572   1% /dev\ntmpfs                           50152     472     49680   1% /run\nnone                             5120       0      5120   0% /run/lock\nnone                           250748       0    250748   0% /run/shm\nnone                           102400       0    102400   0% /run/user\n/dev/sda1                      240972   38103    190428  17% /boot\n```\n\u30c7\u30d0\u30a4\u30b9\u306f\uff13\u3064\n- /dev/sda \uff08\u7269\u7406\uff09\n- /dev/mapper/mdtest--vg-swap_1 (LVM)\n- /dev/mapper/mdtest--vg-root (LVM)\n\n/dev/sda1\u306f /boot\u306b\u30de\u30a6\u30f3\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n#### LVM\u306e\u72b6\u614b\u3092\u78ba\u8a8d\n\n```shell-session\nroot@mdtest:~# pvdisplay\n  --- Physical volume ---\n  PV Name               /dev/sda5\n  VG Name               mdtest-vg\n  PV Size               7.76 GiB / not usable 2.00 MiB\n  Allocatable           yes\n  PE Size               4.00 MiB\n  Total PE              1986\n  Free PE               8\n  Allocated PE          1978\n  PV UUID               PfeUP8-vYhu-d2Gq-7VDz-ijQ8-eV58-AFN2k6\n\nroot@mdtest:~# vgdisplay\n  --- Volume group ---\n  VG Name               mdtest-vg\n  System ID\n  Format                lvm2\n  Metadata Areas        1\n  Metadata Sequence No  3\n  VG Access             read/write\n  VG Status             resizable\n  MAX LV                0\n  Cur LV                2\n  Open LV               2\n  Max PV                0\n  Cur PV                1\n  Act PV                1\n  VG Size               7.76 GiB\n  PE Size               4.00 MiB\n  Total PE              1986\n  Alloc PE / Size       1978 / 7.73 GiB\n  Free  PE / Size       8 / 32.00 MiB\n  VG UUID               xMRo8d-aZYP-wWWB-qtDF-6ilb-4AkC-Xow59q\n\nroot@mdtest:~# lvdisplay\n  --- Logical volume ---\n  LV Path                /dev/mdtest-vg/root\n  LV Name                root\n  VG Name                mdtest-vg\n  LV UUID                8CuLA2-erMg-Y893-V2k6-SKzP-tuXg-jrqltn\n  LV Write Access        read/write\n  LV Creation host, time mdtest, 2015-05-21 12:47:15 +0900\n  LV Status              available\n  # open                 1\n  LV Size                7.23 GiB\n  Current LE             1851\n  Segments               1\n  Allocation             inherit\n  Read ahead sectors     auto\n  - currently set to     256\n  Block device           252:0\n\n  --- Logical volume ---\n  LV Path                /dev/mdtest-vg/swap_1\n  LV Name                swap_1\n  VG Name                mdtest-vg\n  LV UUID                53OCrI-0NZ6-NDcJ-gHEF-WmWO-ZDG1-7nYtt8\n  LV Write Access        read/write\n  LV Creation host, time mdtest, 2015-05-21 12:47:15 +0900\n  LV Status              available\n  # open                 2\n  LV Size                508.00 MiB\n  Current LE             127\n  Segments               1\n  Allocation             inherit\n  Read ahead sectors     auto\n  - currently set to     256\n  Block device           252:1\n\n```\n\n\u3044\u3064\u3082\u306e\uff13\u3064\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\u3010/dev/sda5\u3011\u304b\u3089\u3010mdtest-vg\u3011\u3092\u4f5c\u308a\u305d\u308c\u305e\u308croot\u3068swap\u306e\u8ad6\u7406\u30c7\u30d0\u30a4\u30b9\u3092\u69cb\u7bc9\u3067\u3059\u3002\n\u3002\u3002\u3002\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u306e\u3067\u56f3\u3092\u66f8\u3044\u3066\u307f\u308b\u3068\n![raid\u305d\u306e\uff11.png](https://qiita-image-store.s3.amazonaws.com/0/79067/61b650c4-2beb-743a-e91f-3138883e4fc5.png)\n\u524d\u56de\u306e\u56f3\u306e\u4f7f\u3044\u307e\u308f\u3057\u3067\u3059\u3002\nRAID\u30c7\u30d0\u30a4\u30b9\u306f\u306a\u3044\u306e\u3067\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n\u3053\u308c\u306b\u307e\u305a\u306fHDD\u3092\u4e00\u500b\u53d6\u308a\u4ed8\u3051\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u53d6\u308a\u4ed8\u3051\u3066\u8d77\u52d5\u3057\u3066\u307f\u308b\u3068\n\n```shell-session\nroot@mdtest:~# dmesg | grep sdb\n[    1.581832] sd 3:0:0:0: [sdb] 16777216 512-byte logical blocks: (8.58 GB/8.00 GiB)\n[    1.583935] sd 3:0:0:0: [sdb] Write Protect is off\n[    1.584693] sd 3:0:0:0: [sdb] Mode Sense: 00 3a 00 00\n[    1.585423] sd 3:0:0:0: [sdb] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA\n[    1.587692]  sdb: unknown partition table\n[    1.588392] sd 3:0:0:0: [sdb] Attached SCSI disk\n```\n\n\u306a\u3093\u304b[unknown partition table]\u3067sdb\u304c\u8a8d\u8b58\n\u307e\u305a\u3001\u3053\u3044\u3064\u3092raid1\u306e\u7247\u80ba\u3068\u3057\u3066\u8a8d\u8b58\u3055\u305b\u307e\u3059\u3002\n\u30fb\u30fb\u30fbRAID\u3092\u4f5c\u308b\u306e\u306bmdadm\u304c\u306a\u3044\u8a00\u308f\u308c\u305f\u306e\u3067\u307e\u305a\u306fmdadm\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```shell-session\nroot@mdtest:~# apt-get install mdadm\n```\n\n\u63a5\u7d9a\u3057\u305fHDD\u306e\u30b5\u30a4\u30ba\u304c2TB\u4ee5\u4e0b\u306a\u306e\u3067\u30e9\u30d9\u30eb\u3092\u3010msdos\u3011\u3067\u8a2d\u5b9a\n\uff08\uff12\uff34\uff22\u4ee5\u4e0a\u306a\u3089\u30e9\u30d9\u30eb\u540d\u306f\u3010gpt\u3011\u3067\u3059\uff09\n\n```shell-session\nroot@mdtest:~# parted /dev/sdb\nGNU Parted 2.3\n/dev/sdb \u3092\u4f7f\u7528\nGNU Parted \u3078\u3088\u3046\u3053\u305d\uff01 \u30b3\u30de\u30f3\u30c9\u4e00\u89a7\u3092\u898b\u308b\u306b\u306f 'help' \u3068\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n(parted) print\n\u30a8\u30e9\u30fc: /dev/sdb: \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u304c\u8a8d\u8b58\u3067\u304d\u307e\u305b\u3093\u3002\n(parted) mklabel msdos\n(parted) print\n\u30e2\u30c7\u30eb: ATA VBOX HARDDISK (scsi)\n\u30c7\u30a3\u30b9\u30af /dev/sdb: 8590MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb  \u7d42\u4e86  \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7  \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n\n(parted) mkpart\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u7a2e\u985e?  primary/\u30d7\u30e9\u30a4\u30de\u30ea/extended/\u62e1\u5f35? primary\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u7a2e\u985e?  [ext2]?\n\u958b\u59cb? 1049kB\n\u7d42\u4e86? 8589MB\n(parted) set 1 raid on\n(parted) set 1 boot on\n(parted) print\n\u30e2\u30c7\u30eb: ATA VBOX HARDDISK (scsi)\n\u30c7\u30a3\u30b9\u30af /dev/sdb: 8590MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7   \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1049kB  8590MB  8589MB  primary                    boot, raid\n(parted) q\n\u901a\u77e5: \u5fc5\u8981\u3067\u3042\u308c\u3070 /etc/fstab \u3092\u66f4\u65b0\u3059\u308b\u306e\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n```\n\n\u30b5\u30a4\u30ba\u306f[\u524d\u56de](http://qiita.com/miyumiyu/items/97120a49b78822932c9c)\u306e\u30b3\u30d4\u30da\u3067\u3059\u3002\nraid\u3084\u3089boot\u306e\u30d5\u30e9\u30b0\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\n\n\u6b21\u306braid1\u3092\u884c\u3046\u306e\u3067\u3001md\u3092\u4f5c\u3063\u3066\u5148\u307b\u3069\u4f5c\u3063\u305f/dev/sdb1\u3092\u3076\u3061\u8fbc\u307f\u307e\u3059\u3002\n\n```shell-session\nroot@mdtest:~# mdadm -C /dev/md0 -l1 -n2 /dev/sdb1 missing\nmdadm: Note: this array has metadata at the start and\n    may not be suitable as a boot device.  If you plan to\n    store '/boot' on this device please ensure that\n    your boot-loader understands md/v1.x metadata, or use\n    --metadata=0.90\nContinue creating array?\nContinue creating array? (y/n) y\nmdadm: Defaulting to version 1.2 metadata\nmdadm: array /dev/md0 started.\nroot@mdtest:~#\n```\n\n\u306a\u3093\u304b\u6ce8\u610f\u3092\u53d7\u3051\u305f\u3051\u3069\u6c17\u306b\u305b\u305a\u306b\n-l1 \u2192 raid 1\n-n2 \u2192 \uff28\uff24\uff24\uff12\u500b\u4f7f\u3046\u3088\nmissing \u2192\u3000\u4e8c\u3064\u4f7f\u3046\u3063\u3066\u8a00\u3063\u305f\u3051\u4e00\u3064\u3057\u304b\u7528\u610f\u3057\u3066\u306a\u3044\u3093\u3060\u30fc\u3000\u3060\u304b\u3089\u30d6\u30e9\u30f3\u30af\u306b\u3057\u3068\u3044\u3066\n\n\u3067\u304d\u305f\u3068\u601d\u308f\u308c\u308b/dev/md0\u3092\u78ba\u8a8d\n\n```shell-session\nroot@mdtest:~# mdadm --detail /dev/md0\n/dev/md0:\n        Version : 1.2\n  Creation Time : Thu May 21 15:47:58 2015\n     Raid Level : raid1\n     Array Size : 8383424 (8.00 GiB 8.58 GB)\n  Used Dev Size : 8383424 (8.00 GiB 8.58 GB)\n   Raid Devices : 2\n  Total Devices : 1\n    Persistence : Superblock is persistent\n\n    Update Time : Thu May 21 15:47:58 2015\n          State : clean, degraded\n Active Devices : 1\nWorking Devices : 1\n Failed Devices : 0\n  Spare Devices : 0\n\n           Name : mdtest:0  (local to host mdtest)\n           UUID : 78f1d07c:f84952e0:44ebf35c:aa20c469\n         Events : 0\n\n    Number   Major   Minor   RaidDevice State\n       0       8       17        0      active sync   /dev/sdb1\n       1       0        0        1      removed\n```\n\n\u306a\u3093\u3068\u306a\u304f\u51fa\u6765\u3066\u308b\u3063\u307d\u3044\n/dev/md0\u306b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u3063\u3066\u307f\u308b\n\n```shell-session\nroot@mdtest:~# parted /dev/md0\nGNU Parted 2.3\n/dev/sdb \u3092\u4f7f\u7528\nGNU Parted \u3078\u3088\u3046\u3053\u305d\uff01 \u30b3\u30de\u30f3\u30c9\u4e00\u89a7\u3092\u898b\u308b\u306b\u306f 'help' \u3068\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n(parted) print\n\u30a8\u30e9\u30fc: /dev/sdb: \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u304c\u8a8d\u8b58\u3067\u304d\u307e\u305b\u3093\u3002\n(parted) mklabel msdos\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb  \u7d42\u4e86  \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7  \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n\n(parted) mkpart\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u7a2e\u985e?  primary/\u30d7\u30e9\u30a4\u30de\u30ea/extended/\u62e1\u5f35? primary\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u7a2e\u985e?  [ext2]? ext2\n\u958b\u59cb? 2048s\n\u7d42\u4e86? 255MB\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86   \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7   \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1049kB  255MB  254MB   primary\n\n(parted) mkfs 1 ext2\n\u8b66\u544a: \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u5bfe\u3057\u3066 parted \u306b\u3088\u308b\u64cd\u4f5c(mkfs)\u3092\u884c\u304a\u3046\u3068\u3057\u3066\u3044\u307e\u3059\u3002\nparted \u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u64cd\u4f5c\u30b3\u30fc\u30c9\u306f\u3001e2fsprogs \u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u5c02\n\u7528\u306e\u3082\u306e\u307b\u3069\u5805\u56fa\u306b\u4f5c\u3089\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u53ef\u80fd\u306a\u304b\u304e\u308a parted \u3092\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\n\u30d6\u30eb\u306e\u64cd\u4f5c\u3060\u3051\u306b\u7528\u3044\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\u307b\u3068\u3093\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\n\u5bfe\u3059\u308b\u307b\u3068\u3093\u3069\u306e\u64cd\u4f5c\u306f\u4eca\u5f8c\u306e\u30ea\u30ea\u30fc\u30b9\u3067\u524a\u9664\u3055\u308c\u308b\u4e88\u5b9a\u3067\u3059\u3002\n\u8b66\u544a: \u3044\u307e\u5b58\u5728\u3057\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306f\u7834\u58ca\u3055\u308c\u3001\u3053\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u5168\u30c7\u30fc\u30bf\u304c\u5931\u308f\u308c\u307e\u3059\u3002\u7d9a\u884c\u3057\u307e\u3059\u304b\uff1f\n\u306f\u3044(Y)/Yes/\u3044\u3044\u3048(N)/No? y\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u756a\u53f7? 1\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u7a2e\u985e?  [ext2]? ext2\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86   \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7   \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1049kB  255MB  254MB   primary  ext2\n\n(parted) mkpart\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u7a2e\u985e?  primary/\u30d7\u30e9\u30a4\u30de\u30ea/extended/\u62e1\u5f35? extended\n\u958b\u59cb? 255MB\n\u7d42\u4e86? -1s\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7    \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1049kB  255MB   254MB   primary   ext2\n 2    255MB   8585MB  8330MB  extended                    lba\n\n(parted) set 2 lba off\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7    \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1049kB  255MB   254MB   primary   ext2\n 2    255MB   8585MB  8330MB  extended\n\n(parted) mkpart logical 499712s 16766847s\n(parted) unit MB\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7    \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1.05MB  255MB   254MB   primary   ext2\n 2    255MB   8585MB  8330MB  extended\n 5    256MB   8585MB  8329MB  logical\n\n(parted) set 5 lvm on\n(parted) print\n\u30e2\u30c7\u30eb: Linux Software RAID Array (md)\n\u30c7\u30a3\u30b9\u30af /dev/md0: 8585MB\n\u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406/\u7269\u7406): 512B/512B\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n\n\u756a\u53f7  \u958b\u59cb    \u7d42\u4e86    \u30b5\u30a4\u30ba  \u30bf\u30a4\u30d7    \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n 1    1.05MB  255MB   254MB   primary   ext2\n 2    255MB   8585MB  8330MB  extended\n 5    256MB   8585MB  8329MB  logical                     lvm\n\n```\n\n\u300c\u8b66\u544a: \u64cd\u4f5c\u306e\u7d50\u679c\u3067\u304d\u308b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306f\u30a2\u30e9\u30a4\u30e1\u30f3\u30c8\u304c\u6b63\u3057\u304f\u306a\u3044\u305f\u3081\u306b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u3067\u307e\u305b\u3093\u3002\u300d\n\u3053\u3093\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8272\u3005\u3067\u3066\u304d\u3066\u3081\u3093\u3069\u304f\u3055\u304b\u3063\u305f\u30fc\n\u8abf\u3079\u3066\u307f\u305f\u3089\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u30922048\u30b7\u30ea\u30f3\u30c0\u30fc\u3067\u5272\u308a\u5207\u308c\u308b\u6570\u306a\u3089\u6012\u3089\u308c\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u9014\u4e2d\u3067\n\nunit s  \u2190\u3000print\u306e\u8868\u793a\u3092\u30b7\u30ea\u30f3\u30c0\u30fc\u6570\u306b\u5909\u66f4\n\n\u3053\u308c\u3067\u30b7\u30ea\u30f3\u30c0\u30fc\u5358\u4f4d\u3067\u8a08\u7b97\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n\uff08\u306a\u306e\u3067\u7121\u99c4\u304c\u591a\u3044\u3067\u3059\uff01\uff09\n\nmd\u306b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u5207\u308a\u307e\u3057\u305f\u306e\u3067\u30c7\u30d0\u30a4\u30b9\u304c\u51fa\u6765\u3066\u308b\u306f\u305a\n\n```shell-session\nroot@mdtest:~# ls -al /dev/md*\nbrw-rw---- 1 root disk   9, 0  5\u6708 21 16:39 /dev/md0\nbrw-rw---- 1 root disk 259, 0  5\u6708 21 16:13 /dev/md0p1\nbrw-rw---- 1 root disk 259, 2  5\u6708 21 16:31 /dev/md0p2\nbrw-rw---- 1 root disk 259, 3  5\u6708 21 16:31 /dev/md0p5\n```\n\n\u30c7\u30d0\u30a4\u30b9\u304c\u51fa\u6765\u3066\u307e\u3057\u305f\u3002\n\n\u5ff5\u306e\u70ba\u3001boot\u306b\u4f7f\u3046\u3068\u3053\u308d\u3092ext2\u3067\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4f5c\u6210\n\n```shell-session\nroot@mdtest:~# mkfs.ext2 /dev/md0p1\n```\n\n/boot\u306e\u4e2d\u8eab\u3092\u3059\u3079\u3066\u30b3\u30d4\u30fc\n\n```shell-session\nroot@mdtest:~# cd /\nroot@mdtest:/# mkdir newboot\nroot@mdtest:/# mount /dev/md0p1 newboot\nroot@mdtest:/# cp -dpr /boot/* newboot/\n```\n\n/boot\u306e\u30de\u30a6\u30f3\u30c8\u5148\u3092\u30de\u30a6\u30f3\u30c8\u3092\u65b0\u3057\u304f\u4f5c\u3063\u305f/dev/md0p1\u306b\u5909\u66f4\n\n```shell-session\nroot@mdtest:/# tune2fs -l /dev/md0p1 | grep UUID\nFilesystem UUID:          9a08b33b-aba8-4b9d-b6ed-8423117a76d2\nroot@mdtest:/# vi /etc/fstab\n```\n\n/boot\u306e\u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8\u304c\u5909\u308f\u3063\u305f\u306e\u3092\u78ba\u8a8d\n\n```shell-session\nroot@mdtest:/# umount newboot\nroot@mdtest:/# umount /boot\nroot@mdtest:/# rmdir newboot\nroot@mdtest:/# mount /boot\nroot@mdtest:/# df -k\nFilesystem                  1K-blocks    Used Available Use% Mounted on\n/dev/mapper/mdtest--vg-root   7331536 1291548   5644520  19% /\nnone                                4       0         4   0% /sys/fs/cgroup\nudev                           239576       8    239568   1% /dev\ntmpfs                           50152     504     49648   2% /run\nnone                             5120       0      5120   0% /run/lock\nnone                           250748       0    250748   0% /run/shm\nnone                           102400       0    102400   0% /run/user\n/dev/md0p1                     239979   38492    189097  17% /boot\n```\n\n\u65b0\u3057\u3044HDD\u306bgrab\u3092\u5165\u308c\u3066\u3001\u53e4\u3044\uff28\uff24\uff24\u306eboot\u30d5\u30e9\u30b0\u3092\u843d\u3068\u3057\u307e\u3059\u3002\n\n```shell-session\nroot@mdtest:/# grub-install /dev/sdb\nInstalling for i386-pc platform.\ngrub-install: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\ngrub-install: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\nInstallation finished. No error reported.\nroot@mdtest:/# update-grub\nGenerating grub configuration file ...\nLinux \u30a4\u30e1\u30fc\u30b8\u3092\u898b\u3064\u3051\u307e\u3057\u305f: /boot/vmlinuz-3.16.0-30-generic\nFound initrd image: /boot/initrd.img-3.16.0-30-generic\n/usr/sbin/grub-probe: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\n/usr/sbin/grub-probe: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\n/usr/sbin/grub-probe: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\n/usr/sbin/grub-probe: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\n/usr/sbin/grub-probe: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\n/usr/sbin/grub-probe: warning: Couldn't find physical volume `(null)'. Some modules may be missing from core image..\nFound memtest86+ image: /memtest86+.elf\nFound memtest86+ image: /memtest86+.bin\n\u5b8c\u4e86\n\nroot@mdtest:/# parted /dev/sda set 1 boot off\n\n```\n\n\u3053\u308c\u3067reboot\u3092\u884c\u3063\u3066\u7acb\u3061\u4e0a\u304c\u308c\u3070boot\u306f\uff2f\uff2b\u3067\u3059\u3002\n\u305f\u3060\u3057\u3001\u79c1\u304c\u4f7f\u3063\u3066\u308b\u306e\u306fOracle Virtual Box\u3067boot\u30d5\u30e9\u30b0\u3092\u843d\u3068\u3057\u3066\u3082\u3001\u4e00\u756a\u76ee\u306e\uff28\uff24\uff24\u3092\u898b\u306b\u884c\u3063\u3066\u8d77\u52d5\u3059\u308b\u305d\u3046\u3067\u3059\u3002\n\uff08\u4e00\u756a\u76ee\u306eHDD\u306b\u8d77\u52d5\u306e\u8a2d\u5b9a\u304c\u306a\u3051\u308c\u3070\u3001\u8d77\u52d5\u3067\u304d\u307e\u305b\u3093\u3063\u3066\u3053\u3068\u3067\u7d42\u4e86\uff09\n\u306a\u306e\u3067\u3001\u7acb\u3061\u4e0a\u304c\u308b\u3068\u304d\u306b\u3010F12\u3011\u3092\u62bc\u3057\u3066\n![20150520-14.png](https://qiita-image-store.s3.amazonaws.com/0/79067/e0192da2-8a5a-b921-7f4c-65f98c6ccae4.png)\n\u3053\u3093\u306a\u753b\u9762\u3092\u51fa\u3057\u3066\u3001\uff12\u756a\u76ee\u306e\uff28\uff24\uff24\u3092\u9078\u629e\uff08\uff12\u3092\u62bc\u3059\uff09\n\u3053\u308c\u3067\u3001\uff12\u756a\u76ee\u306e\uff28\uff24\uff24\u304b\u3089\u8d77\u52d5\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\n\n\u30ea\u30d6\u30fc\u30c8\u5f8c\n\n```shell-session\nroot@mdtest:~# ls -al /dev/md*\nbrw-rw---- 1 root disk   9, 127  5\u6708 21 17:14 /dev/md127\nbrw-rw---- 1 root disk 259,   0  5\u6708 21 17:14 /dev/md127p1\nbrw-rw---- 1 root disk 259,   1  5\u6708 21 17:14 /dev/md127p2\nbrw-rw---- 1 root disk 259,   2  5\u6708 21 17:14 /dev/md127p5\n\n/dev/md:\n\u5408\u8a08 0\ndrwxr-xr-x  2 root root  120  5\u6708 21 17:14 .\ndrwxr-xr-x 17 root root 4280  5\u6708 21 17:14 ..\nlrwxrwxrwx  1 root root    8  5\u6708 21 17:14 mdtest:0 -> ../md127\nlrwxrwxrwx  1 root root   10  5\u6708 21 17:14 mdtest:0p1 -> ../md127p1\nlrwxrwxrwx  1 root root   10  5\u6708 21 17:14 mdtest:0p2 -> ../md127p2\nlrwxrwxrwx  1 root root   10  5\u6708 21 17:14 mdtest:0p5 -> ../md127p5\n```\n\n\u306a\u3093\u304b\u8272\u3005\u3068\u540d\u524d\u304c\u66f8\u304d\u63db\u308f\u3063\u3066\u308b\u3002\u3002\u3002\n(md0 \u2192 md127 \u3042\u3068\u3078\u3093\u306a\u30ea\u30f3\u30af\u8cbc\u3089\u308c\u3066\u308b\u3002\u3002\u3002\uff09\n\n```shell-session\nroot@mdtest:~# df -k\nFilesystem                  1K-blocks    Used Available Use% Mounted on\n/dev/mapper/mdtest--vg-root   7331536 1292032   5644036  19% /\nnone                                4       0         4   0% /sys/fs/cgroup\nudev                           239384       4    239380   1% /dev\ntmpfs                           50152     504     49648   2% /run\nnone                             5120       0      5120   0% /run/lock\nnone                           250748       0    250748   0% /run/shm\nnone                           102400       0    102400   0% /run/user\n/dev/md127p1                   239979   38497    189092  17% /boot\n```\n\n\u3068\u308a\u3042\u3048\u305a\u56f3\u3067\u66f8\u304f\u3068\u3053\u3053\u307e\u3067\u3067\u304d\u307e\u3057\u305f\u3002\n\n![raid\u305d\u306e\uff11 (1).png](https://qiita-image-store.s3.amazonaws.com/0/79067/45ad6d7b-4dbb-4a3c-f2bc-30989d319175.png)\n\n\u6b21\u306f\u6b8b\u308a\u306e\u90e8\u5206\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n"}