{"tags": ["reactjs", "redux", "JavaScript"], "context": "\n\n\u76ee\u7684\nredux-thunk \u3067\u3069\u306e\u3088\u3046\u306b\u975e\u540c\u671f\u51e6\u7406\u3092\u3059\u308b\u306e\u304b\u8a66\u3057\u3066\u307f\u308b\u3002\n\u30ab\u30a6\u30f3\u30bf\u30fc\u306e\u51e6\u7406\u306f\u4ee5\u524d\u66f8\u3044\u305f\u3082\u306e\u3092\u6d41\u7528\uff08ReactJS + Redux + ES6 \u306e\u30ab\u30a6\u30f3\u30bf\u30fc\u306e\u30b5\u30f3\u30d7\u30eb\uff09\n\n\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\n.\n\u251c\u2500\u2500 dest\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 bundle.js\n\u251c\u2500\u2500 index.html\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 src\n    \u2514\u2500\u2500 app.jsx\n\n\npackage\n\npacage.json\n{\n  \"name\": \"react-flux-redux-thunk\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"watch\": \"watchify src/app.jsx -o dest/bundle.js -v --debug\",\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"babel-preset-es2015\": \"^6.6.0\",\n    \"babel-preset-react\": \"^6.5.0\",\n    \"babelify\": \"^7.2.0\",\n    \"browserify\": \"^13.0.0\",\n    \"watchify\": \"^3.7.0\"\n  },\n  \"dependencies\": {\n    \"react\": \"^15.0.1\",\n    \"react-dom\": \"^15.0.1\",\n    \"react-redux\": \"^4.4.5\",\n    \"redux\": \"^3.4.0\",\n    \"redux-thunk\": \"^2.0.1\"\n  },\n  \"browserify\": {\n    \"transform\": [\n      [\n        \"babelify\",\n        {\n          \"presets\": [\n            \"es2015\",\n            \"react\"\n          ]\n        }\n      ]\n    ]\n  }\n}\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30d3\u30eb\u30c9\n$ npm install\n$ npm run watch\n\n\ncode\n\nsrc/app.jsx\nimport React, { PropTypes } from 'react';\nimport thunk from 'redux-thunk';\nimport { render } from 'react-dom';\nimport { applyMiddleware, createStore } from 'redux';\nimport { Provider, connect } from 'react-redux';\n\n// Action\nfunction actionIncrement() {\n  return {\n    type: 'INCREMENT',\n    count: 1\n  };\n}\nfunction actionIncrementAsync() {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(actionIncrement());\n    }, 1000);\n  };\n}\n\nfunction actionDecrement() {\n  return {\n    type: 'DECREMENT',\n    count: -1\n  };\n}\nfunction actionDecrementAsync() {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(actionDecrement());\n    }, 1000);\n  };\n}\n\n// Reducer\nfunction counterReducer (state = {count: 0}, action) {\n  let count = state.count;\n  switch (action.type) {\n    case 'INCREMENT':\n      return {count: count + action.count};\n    case 'DECREMENT':\n      return {count: count + action.count};\n    default:\n      return state;\n  }\n}\n\n\n// Component\nclass CounterComponent extends React.Component {\n  render () {\n    const { count, onClickPlus, onClickMinus } = this.props;\n    return (\n      <div>\n        <p><span>Count: {count}</span></p>\n        <div>\n          <button onClick={onClickPlus}>+1</button>\n          <button onClick={onClickMinus}>-1</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nCounterComponent.propTypes = {\n  count: PropTypes.number.isRequired,\n  onClickPlus: PropTypes.func.isRequired,\n  onClickMinus: PropTypes.func.isRequired,\n};\n\n\n// Containers\nfunction mapStateToPropsContainer(state) {\n  return {\n    count: state.count\n  };\n}\n\nfunction mapDispatchToPropsContainer(dispatch) {\n  return {\n    onClickPlus: () => dispatch(actionIncrementAsync()),\n    onClickMinus: () => dispatch(actionDecrementAsync()),\n  };\n}\n\nlet App = connect(\n  mapStateToPropsContainer,\n  mapDispatchToPropsContainer\n)(CounterComponent);\n\n\n// main\nlet store = createStore(\n  counterReducer,\n  applyMiddleware(thunk)\n);\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('app-container')\n);\n\n\n\n\u8868\u793a\n$ python -m SimpleHTTPServer 3000\n\n\nhttp://localhost:3000\n\n\n\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u30681\u79d2\u9045\u308c\u3066\u8868\u793a\u306b\u30ab\u30a6\u30f3\u30c8\u6570\u304c\u5909\u308f\u308b\n\n\u53c2\u8003\n\nhttps://github.com/rackt/redux\nhttps://github.com/gaearon/redux-thunk\n\n\n## \u76ee\u7684\n\nredux-thunk \u3067\u3069\u306e\u3088\u3046\u306b\u975e\u540c\u671f\u51e6\u7406\u3092\u3059\u308b\u306e\u304b\u8a66\u3057\u3066\u307f\u308b\u3002\n\u30ab\u30a6\u30f3\u30bf\u30fc\u306e\u51e6\u7406\u306f\u4ee5\u524d\u66f8\u3044\u305f\u3082\u306e\u3092\u6d41\u7528\uff08[ReactJS + Redux + ES6 \u306e\u30ab\u30a6\u30f3\u30bf\u30fc\u306e\u30b5\u30f3\u30d7\u30eb](http://qiita.com/search?q=redux+user%3Acortyuming)\uff09\n\n\n\n## \u30d5\u30a1\u30a4\u30eb\u69cb\u6210\n\n```\n.\n\u251c\u2500\u2500 dest\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 bundle.js\n\u251c\u2500\u2500 index.html\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 src\n    \u2514\u2500\u2500 app.jsx\n```\n\n## package\n\n\n```pacage.json\n{\n  \"name\": \"react-flux-redux-thunk\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"watch\": \"watchify src/app.jsx -o dest/bundle.js -v --debug\",\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"babel-preset-es2015\": \"^6.6.0\",\n    \"babel-preset-react\": \"^6.5.0\",\n    \"babelify\": \"^7.2.0\",\n    \"browserify\": \"^13.0.0\",\n    \"watchify\": \"^3.7.0\"\n  },\n  \"dependencies\": {\n    \"react\": \"^15.0.1\",\n    \"react-dom\": \"^15.0.1\",\n    \"react-redux\": \"^4.4.5\",\n    \"redux\": \"^3.4.0\",\n    \"redux-thunk\": \"^2.0.1\"\n  },\n  \"browserify\": {\n    \"transform\": [\n      [\n        \"babelify\",\n        {\n          \"presets\": [\n            \"es2015\",\n            \"react\"\n          ]\n        }\n      ]\n    ]\n  }\n}\n```\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30d3\u30eb\u30c9\n\n```\n$ npm install\n$ npm run watch\n```\n\n## code\n\n\n```src/app.jsx\nimport React, { PropTypes } from 'react';\nimport thunk from 'redux-thunk';\nimport { render } from 'react-dom';\nimport { applyMiddleware, createStore } from 'redux';\nimport { Provider, connect } from 'react-redux';\n\n// Action\nfunction actionIncrement() {\n  return {\n    type: 'INCREMENT',\n    count: 1\n  };\n}\nfunction actionIncrementAsync() {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(actionIncrement());\n    }, 1000);\n  };\n}\n\nfunction actionDecrement() {\n  return {\n    type: 'DECREMENT',\n    count: -1\n  };\n}\nfunction actionDecrementAsync() {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(actionDecrement());\n    }, 1000);\n  };\n}\n\n// Reducer\nfunction counterReducer (state = {count: 0}, action) {\n  let count = state.count;\n  switch (action.type) {\n    case 'INCREMENT':\n      return {count: count + action.count};\n    case 'DECREMENT':\n      return {count: count + action.count};\n    default:\n      return state;\n  }\n}\n\n\n// Component\nclass CounterComponent extends React.Component {\n  render () {\n    const { count, onClickPlus, onClickMinus } = this.props;\n    return (\n      <div>\n        <p><span>Count: {count}</span></p>\n        <div>\n          <button onClick={onClickPlus}>+1</button>\n          <button onClick={onClickMinus}>-1</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nCounterComponent.propTypes = {\n  count: PropTypes.number.isRequired,\n  onClickPlus: PropTypes.func.isRequired,\n  onClickMinus: PropTypes.func.isRequired,\n};\n\n\n// Containers\nfunction mapStateToPropsContainer(state) {\n  return {\n    count: state.count\n  };\n}\n\nfunction mapDispatchToPropsContainer(dispatch) {\n  return {\n    onClickPlus: () => dispatch(actionIncrementAsync()),\n    onClickMinus: () => dispatch(actionDecrementAsync()),\n  };\n}\n\nlet App = connect(\n  mapStateToPropsContainer,\n  mapDispatchToPropsContainer\n)(CounterComponent);\n\n\n// main\nlet store = createStore(\n  counterReducer,\n  applyMiddleware(thunk)\n);\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('app-container')\n);\n```\n\n## \u8868\u793a\n\n```\n$ python -m SimpleHTTPServer 3000\n```\n\n- http://localhost:3000\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-11-07 14.48.21.png](https://qiita-image-store.s3.amazonaws.com/0/41656/b7055cbf-05b3-2817-c15f-20cbbea0c1e9.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-11-07 14.48.21.png\")\n\n\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u30681\u79d2\u9045\u308c\u3066\u8868\u793a\u306b\u30ab\u30a6\u30f3\u30c8\u6570\u304c\u5909\u308f\u308b\n\n\n\n## \u53c2\u8003\n\n- https://github.com/rackt/redux\n- https://github.com/gaearon/redux-thunk\n"}