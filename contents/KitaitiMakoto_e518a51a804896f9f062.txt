{"tags": ["Rails", "ActiveGroonga", "groonga"], "context": " More than 1 year has passed since last update.ActiveGroonga\u306fActiveRecord\u306e\u3088\u3046\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3067Groonga\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308bgem\u3067\u3059\u3002\u6700\u8fd1\u3001\u3061\u3087\u3063\u3068\u89e6\u3063\u3066\u307f\u305f1\u306e\u3067\u3001\u4ed6\u8a18\u4e8b\u3068\u306e\u91cd\u8907\u3082\u591a\u3044\u3067\u3059\u304c\u3001\u61b6\u3048\u305f\u4f7f\u3044\u65b9\u306a\u3069\u66f8\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nGroonga\u3068\u306f\n\u3054\u5b58\u77e5\u306e\u4eba\u3082\u591a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001Groonga\u306f\u3001\uff08\u516c\u5f0f\u30b5\u30a4\u30c8\u306b\u3088\u308b\u3068\uff09\u30ab\u30e9\u30e0\u30b9\u30c8\u30a2\u6a5f\u80fd\u4ed8\u304d\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3067\u3059\u3002\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u306f\u3082\u3046\u4f55\u3082\u8a00\u3046\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u304c2\u3001\u300c\u30ab\u30e9\u30e0\u30b9\u30c8\u30a2\u6a5f\u80fd\u4ed8\u304d\u300d\u3068\u3044\u3046\u306e\u306f\u3074\u3093\u3068\u6765\u306a\u3044\u4eba\u3082\u3044\u308b\u304b\u3082\u77e5\u308c\u307e\u305b\u3093\u3002\n\u30ab\u30e9\u30e0\u30b9\u30c8\u30a2\u306b\u3064\u3044\u3066\u306e\u6280\u8853\u7684\u306a\u89e3\u8aac\u3084\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8\u306f\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u304c\u3001\u3068\u8a00\u3046\u304b\u3001\u89e3\u8aac\u3067\u304d\u308b\u307b\u3069\u77e5\u3089\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u975e\u5e38\u306b\u5927\u96d1\u628a\u306b\u8a00\u3046\u3068\n\n\u30c7\u30fc\u30bf\u3092\u884c\u3068\u5217\uff08\u30ab\u30e9\u30e0\uff09\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u7ba1\u7406\u3059\u308b\n\u4e00\u3064\u306e\u884c\u306f\u8907\u6570\u306e\u5217\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u308b\n\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u306f\u3001\u4e00\u3064\u306e\u5217\u304c\u540c\u3058\u5834\u6240\u306b\u96c6\u307e\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u5217\u5358\u4f4d\u306e\u7d71\u8a08\u51e6\u7406\u306a\u3069\u304c\u5f97\u610f\n\n\u3068\u3044\u3046\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u3059\u3002\u4e0a\u4e8c\u3064\u3001\u300c\u30c7\u30fc\u30bf\u3092\u884c\u3068\u5217\uff08\u30ab\u30e9\u30e0\uff09\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u7ba1\u7406\u3059\u308b\u300d\u300c\u4e00\u3064\u306e\u884c\u306f\u8907\u6570\u306e\u5217\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u308b\u300d\u3068\u3044\u3046\u306e\u3092\u898b\u3066\u3001\u4f55\u304b\u601d\u3044\u6d6e\u304b\u3076\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u304b\u3001\u305d\u3046\u3001PostgreSQL\u306a\u3069\u306eRDBMS\u3067\u3059\u306d\u3002\n\u975e\u5e38\u306b\u5927\u96d1\u628a\u306b\u8a00\u3046\u3068\u3001\u30c6\u30fc\u30d6\u30eb\u578b\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306a\u306e\u3067\u3059\u3002Groonga\u306f\u300c\u30ab\u30e9\u30e0\u30b9\u30c8\u30a2\u6a5f\u80fd\u4ed8\u304d\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u300d\u3067\u3059\u304c\u3001ActiveGroonga\u306f\u3080\u3057\u308d\u3001\u300c\u5168\u6587\u691c\u7d22\u6a5f\u80fd\u4ed8\u304d\u30c6\u30fc\u30d6\u30eb\u578b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u300d\u3068\u3057\u3066\u306e\u5074\u9762\u3092\u4f7f\u3044\u3084\u3059\u304f\u3059\u308bgem\u306a\u306e\u3060\u3068\u3044\u3046\u306e\u304c\u79c1\u898b\u3067\u3059\u3002\n\nActiveGroonga\u3068\u306f\n\u65e2\u306b\u8aac\u660e\u3057\u3066\u3057\u307e\u3063\u3066\u3053\u306e\u9805\u76ee\u7acb\u3066\u308b\u610f\u5473\u3042\u3063\u305f\u306e\u304b\u7591\u554f\u3067\u3059\u304c\u3001ActiveGroonga\u306f\u3001Groonga\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u6301\u3064ActiveRecord\u306e\u3088\u3046\u306a\u7269\u3067\u3059\u3002\nActiveModel\u306e\u5404\u7a2e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092include\u3057\u305f\u308aextend\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u6bd4\u8f03\u7684\u81ea\u7136\u306bRails\u3068\u7d71\u5408\u3067\u304d\u307e\u3059\u3002\n\u5b9f\u306fGroonga\u306b\u306f\u4e09\u3064\u306e\u4f7f\u3044\u65b9\u304c\u3042\u3063\u3066\u3001\n\n\u30c7\u30fc\u30e2\u30f3\u3068\u3057\u3066\u8d77\u52d5\u3057\u3066HTTP\u3084GQTP3\u7d4c\u7531\u3067API\u3092\u53e9\u304f\n\ngroonga\u30b3\u30de\u30f3\u30c9\u7d4c\u7531\u3067\u5404\u7a2e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\uff08\u5185\u90e8\u3067\u306f\u30ed\u30fc\u30ab\u30eb\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3059\u308b\uff09\nC\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u3067\u3042\u308blibgroonga\u3092\u4f7f\u3063\u3066\u81ea\u5206\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u7d44\u307f\u8fbc\u3080\n\n\u3067\u3059\u3002\n\u3053\u306e\u5185\u3001ActiveGroonga\u3067\u306f\u4e09\u3064\u76ee\u306elibgroonga\u3092\u4f7f\u3046\u65b9\u6cd5\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3068\u8a00\u3063\u3066\u3082\u76f4\u63a5libgroonga\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u304f\u3001\u5185\u90e8\u3067\u4f7f\u3063\u3066\u3044\u308bRroonga gem\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u307e\u3059\u3002\n\u3061\u3087\u3046\u3069\u3001ActiveRecord\u304cpg gem\u7d4c\u7531\u3067libpq\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u3082\u306e\u3067\u3059\u306d\u3002\n\u305f\u3060\u3001libgroonga\u306f\u98fd\u304f\u307e\u3067\u30ed\u30fc\u30ab\u30eb\u306e4\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u306a\u306e\u3067\u3001HTTP\u7b49\u306e\u30a2\u30af\u30bb\u30b9\u3068\u306f\u9055\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3060\u3051\u3092\u5225\u30de\u30b7\u30f3\u306b\u5206\u96e2\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u30935\u3002\u3053\u306e\u70b9\u306fpg\u3084mysql2\u3088\u308a\u306fsqlite3\u306e\u3088\u3046\u306b\u8003\u3048\u305f\u307b\u3046\u304c\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\nElasticsearch\u516c\u5f0fgem\u3068\u306e\u9055\u3044\n\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u8ffd\u52a0\u30fb\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u66f4\u65b0\u304c\u53ef\u80fd\u306a\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u3001Elasticsearch\u304c\u7af6\u5408\u306e\u4f4d\u7f6e\u306b\u3042\u308a\u307e\u3059\u3002Elasticsearch\u3067\u3082\u3001Rails\u7528\u306bge\uff4d\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\uff08elasticsearch-model\u3001elasticsearch-rails\uff09\u3002\u3057\u304b\u3057\u3001\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u306e\u95a2\u4fc2\u6027\u3068\u306f\u9055\u3063\u3066\u3001ActiveGroonga gem\u306f\u3053\u308c\u3089\u3068\u6bd4\u8f03\u3059\u308b\u3088\u3046\u306a\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\nelasticsearch-model\u306a\u3069\u306f\u65e2\u5b58\u306e\u30e2\u30c7\u30eb\u306b\u691c\u7d22\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\u7269\u3067\u3059\u304c\u3001ActiveGroonga\u306f\u305d\u308c\u81ea\u4f53\u3067\u30e2\u30c7\u30eb\u3092\u4f5c\u308b\u305f\u3081\u306egem\u3067\u3059\u3002elasticsearch-model\u306e\u3088\u3046\u306b\u691c\u7d22\u6a5f\u80fd\u3060\u3051\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f\n\n\u65e2\u5b58\u306e\u30e2\u30c7\u30eb\u306e\u30d8\u30eb\u30d1\u30fc\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066ActiveGroonga\u306e\u30e2\u30c7\u30eb\u3092\u547c\u3073\u51fa\u3059\u3088\u3046\u306a\u7269\u3092\u5b9a\u7fa9\u3059\u308b\n\u3088\u308a\u4f4e\u30ec\u30a4\u30e4\u30fc\u306eRroonga gem\u3092\u4f7f\u3063\u3066\u72ec\u81ea\u306b\u691c\u7d22\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\uff08\u3088\u3046\u306agem\u3092\u4f5c\u3063\u3066\u516c\u958b\u3057\u3066\u304f\u3060\u3055\u3044\uff01\uff01\uff09\nGroonga\u3092Groonga HTTP\u30b5\u30fc\u30d0\u30fc\u3068\u3057\u3066\u8d77\u52d5\u3057\u3066\u3001\u30a6\u30a7\u30d6API\u3092\u53e9\u3044\u3066\u72ec\u81ea\u306b\u691c\u7d22\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\uff08\u3088\u3046\u306agem\u3092\u4f5c\u3063\u3066\u516c\u958b\u3057\u3066\u304f\u3060\u3055\u3044\uff01\uff01\uff01\uff09\n\nMroonga\u3084PGroonga\u3092\u4f7f\u3046\n\n\u3068\u3044\u3063\u305f\u9078\u629e\u80a2\u304c\u3042\u308a\u307e\u3059\u3002\n\u4f59\u8ac7\u3067\u3059\u304c\u4e2d\u3067\u3082Mroonga\u306f\u304a\u3059\u3059\u3081\u3067\u3001MySQL\u3084MariaDB\u3092\u4f7f\u3063\u3066\u3044\u308b\u306a\u3089\u305c\u3072\u691c\u8a0e\u3057\u3066\u307b\u3057\u3044\u7269\u3067\u3059\u3002\nMySQL\u3067\u3088\u304f\u4f7f\u308f\u308c\u308bMyISAM\u3084InnoDB\u3068\u3044\u3063\u305f\u306e\u3068\u4e26\u3076\u30b9\u30c8\u30ec\u30fc\u30b8\u30a8\u30f3\u30b8\u30f3\u3067\u3001Groonga\u306e\u30c6\u30fc\u30d6\u30eb\u578b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3001\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u306e\u4e21\u5074\u9762\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u300c\u3042\u308b\u30c6\u30fc\u30d6\u30eb\u306fMyISAM\u3001\u3042\u308b\u30c6\u30fc\u30d6\u30eb\u306fInnoDB\u300d\u3068\u3044\u3046\u4f7f\u3044\u65b9\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u7279\u5b9a\u306e\u30c6\u30fc\u30d6\u30eb\u3060\u3051\u3092Mroonga\u30a8\u30f3\u30b8\u30f3\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Mroonga\u306b\u3059\u308c\u3070SQL\u3092\u4f7f\u3063\u3066\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u3084\u5b9f\u969b\u306e\u5168\u6587\u691c\u7d22\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u5168\u6587\u691c\u7d22\u3092\u4f7f\u308f\u306a\u3044\u3075\u3064\u3046\u306e\uff08\uff1f\uff09\u30c7\u30fc\u30bf\u7ba1\u7406\u3082\u3067\u304d\u307e\u3059\u3002\u8208\u5473\u304c\u51fa\u3066\u6765\u305f\u3089\u8abf\u3079\u3066\u307f\u3066\u304f\u3060\u3055\u30446\u3002\nPGroonga\u306f\u540c\u69d8\u306bPostgreSQL\u3068Groonga\u3092\u9023\u643a\u3055\u305b\u305f\u7269\u3067\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u9591\u8a71\u4f11\u984c\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3067\u3059\u3002\nGemfile\u306b\n\nGemfile\ngem 'activegroonga', require: 'active_groonga'\n\n\n\u3068\u66f8\u3044\u3066\n$ bundle install\n\n\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nC\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u304c\u3069\u3046\u3053\u3046\u3001\u3068\u304b\u8a00\u3063\u3066\u8105\u304b\u3057\u3066\u3044\u305f\u306e\u306b\u3001\u62cd\u5b50\u629c\u3051\u3057\u307e\u3057\u305f\u304b\uff1f\nActiveGroonga\uff08\u3068\u8a00\u3046\u3088\u308a\u5185\u90e8\u3067\u4f7f\u3063\u3066\u3044\u308bRroonga\uff09\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u30b7\u30b9\u30c6\u30e0\u306e\u72b6\u614b\u3092\u8abf\u3079\u3066\u3001\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\uff08libgroonga\uff09\u304c\u306a\u3051\u308c\u3070\u81ea\u5206\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u4f7f\u3046\u5074\u306f\u7279\u306b\u6c17\u306b\u305b\u305agem\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3060\u3051\u3067\u3044\u3044\u306e\u3067\u3059\u3002\n\n\u4e8b\u524d\u306bGroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\u203b \u3084\u3084\u30a2\u30c9\u30d0\u30f3\u30b9\u30c8\u306a\u5185\u5bb9\u3067\u3059\u3002\u53d6\u308a\u6562\u3048\u305a\u8a66\u3057\u305f\u3044\u3001\u3068\u3044\u3046\u6642\u306b\u306f\u8aad\u307f\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u7279\u306b\u6c17\u306b\u305b\u305a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3060\u3051\u3067\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u500b\u4eba\u7684\u306b\u306f\u3001gem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u524d\u306blibgroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u300cGroonga\u306e\u30d0\u30a4\u30ca\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4e8b\u524d\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5\u300d\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u7406\u7531\u306f\u4e8c\u3064\u3042\u3063\u3066\u3001\n\nGroonga\u306e\u6700\u65b0\u306e\u6a5f\u80fd\uff08\u3084\u30d0\u30b0\u4fee\u6b63\uff09\u3092Ruby\u304b\u3089\u3067\u3082\u4f7f\u3048\u308b\n\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u767b\u9332\u304c\u4e0d\u8981\u306b\u306a\u308b\uff08\u7269\u304c\u3042\u308b\uff09\n\n\u304b\u3089\u3067\u3059\u3002\n\nGroonga\u306e\u6700\u65b0\u306e\u6a5f\u80fd\u3092Ruby\u304b\u3089\u3067\u3082\u4f7f\u3048\u308b\nRroonga\u306f\u524d\u8ff0\u306e\u901a\u308a\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u3001\u30b7\u30b9\u30c6\u30e0\u306bGroonga\u304c\u306a\u3051\u308c\u3070\u81ea\u5206\u3067\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u3057\u304b\u3057\u3053\u308c\u306f\u3001Rroonga\u51fa\u8377\u6642\u70b9\u306eGroonga\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001\n\nGroonga\u306f\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u7248\u304c\u51fa\u3066\u3044\u308b\n\u3057\u304b\u3057Rroonga\u306f\u307e\u3060\u305d\u308c\u306b\u8ffd\u5f93\u3057\u3066\u3044\u306a\u3044\n\n\u3068\u3044\u3046\u6642\u306b\u3001\u6700\u65b0\u306eGroonga\u304c\u4f7f\u3048\u306a\u3044\u3053\u3068\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u4e88\u3081Groonga\u306e\u4e00\u5f0f\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u3051\u3070\u3001Ruby\u304b\u3089\u306f\u305d\u306e\u4e2d\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u306b\u30ea\u30f3\u30af\u3059\u308b\u3060\u3051\u3067\u3059\u3002Groonga\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u304c\u51fa\u305f\u6642\u306b\u305d\u308c\u3092\u9069\u7528\u3057\u3066\u304a\u3051\u3070\u3001Rroonga\u5074\u306f\u7279\u306b\u4f55\u3082\u3057\u306a\u304f\u3066\u3082\u6700\u65b0\u306e\u6a5f\u80fd\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u767b\u9332\u304c\u4e0d\u8981\n\u65e5\u672c\u8a9e\u3092\u6271\u3046\u969b\u306f\u3001MeCab\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc\u3092\u4f7f\u3044\u305f\u3044\u3053\u3068\u304c\u6b86\u3069\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\u3053\u308c\u306fGroonga\u3067\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u3057\u3066\u63d0\u4f9b\u3055\u308c\u3066\u3044\u3066\u3001\u5404\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u7528\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\uff08APT\u3084yum\u306a\u3069\uff09\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u30597\u3002\nGroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5f8c\u306bRroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u306f\u3001Groonga\u5074\u3067MeCab\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u767b\u9332\u3057\u3066\u304a\u3051\u3070\u3001Ruby\u5074\u3067\u7279\u306b\u6e96\u5099\u306a\u304f\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3068\u3053\u308d\u304c\u3001Groonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u524d\u306bRroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u3001\u3064\u307e\u308aRuby\u5074\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089Groonga\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u5834\u5408\u306b\u306f\u3001Ruby\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u4e2d\u3067\u660e\u793a\u7684\u306bMeCab\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u767b\u9332\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff1a\nGroonga::Context.default.register_plugin 'path/to/mecab'\n\n\u30b7\u30b9\u30c6\u30e0\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u7269\u306b\u6697\u9ed9\u306b\u4f9d\u5b58\u3059\u308b\u3088\u308a\u3082\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u4e2d\u306b\u6b8b\u3063\u3066\u3044\u308b\u65b9\u304c\u3044\u3044\u3001\u3068\u3044\u3046\u8003\u3048\u65b9\u3082\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u7d50\u5c40\n$ dpkg -L groonga-tokenizer-mecab\n\n\u306a\u3069\u3067\u30d1\u30b9\u3092\u8abf\u3079\u3066\u304b\u3089\u767b\u9332\u3059\u308b\u3001\u3064\u307e\u308agroonga-tokenizer-mecab\u3068\u3044\u3046Ruby\u3084\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5916\u90e8\u306e\u7269\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3069\u3061\u3089\u304b\u3068\u8a00\u3046\u3068\u7ba1\u7406\u304c\u72ec\u7acb\u3057\u3066\u3044\u308b\u65b9\u304c\u3044\u3044\u304b\u306a\u3001\u3068\u500b\u4eba\u7684\u306b\u306f\u8003\u3048\u3066\u3044\u307e\u3059\u3001\u4eca\u306e\u3068\u3053\u308d\u3002\n\u8ffd\u8a18\u3002\u30b3\u30e1\u30f3\u30c8\u3067\u6559\u3048\u3066\u3082\u3089\u3044\u307e\u3057\u305f\u3002Groonga::Context.default.register_plugin\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u767b\u9332\u3059\u308b\u3068\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u30d1\u30c3\u30b1\u30fc\u30b8\u3068Rroonga\u3068\u306e\u9593\u3067ABI\u4e92\u63db\u6027\u304c\u58ca\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u305d\u3046\u3067\u3059\u3002\u3084\u3063\u3071\u308a\u3001\u5148\u306bGroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u307b\u3046\u3092\u304a\u3059\u3059\u3081\u3057\u305f\u3044\u3067\u3059\u3002\n\n\u8a2d\u5b9a\n\u3055\u3066\u3001\u524d\u7f6e\u304d\u304c\u3082\u306e\u3059\u3054\u304f\u9577\u304f\u306a\u308a\u307e\u3057\u305f\u304c\u3001\u3088\u3046\u3084\u304fRuby\u306e\u30b3\u30fc\u30c9\u3067\u3059\u3002\n\u307e\u305a\u3001config/application.rb\u3067ActiveGroonga::Railtie\u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\nconfig/application.rb\nrequire File.expand_path('../boot', __FILE__)\n\nrequire \"rails\"\n# Pick the frameworks you want:\nrequire \"active_model/railtie\"\n# :\n# :\nrequire \"active_groonga/railtie\"\n# :\n# :\n\n\n\u3053\u308c\u3067\u3001Groonga\u7528\u306e\u5404\u7a2eRake\u30bf\u30b9\u30af\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n$ ./bin/rake -T groonga\nrake groonga:create          # Create the database\nrake groonga:drop            # Drops the database\nrake groonga:migrate         # Migrate the database (options: VERSION=x)\nrake groonga:migrate:down    # Migrate the schema down to the version (options: VERSION=x)\nrake groonga:migrate:redo    # Rolls the schema back and migrate the schema again\nrake groonga:migrate:status  # Display status of migration\nrake groonga:migrate:up      # Migrate the schema up to the version (options: VERSION=x)\nrake groonga:rollback        # Rolls the schema back to the previous version (specify steps w/ STEP=n)\nrake groonga:schema:dump     # Dump the schema\nrake groonga:schema:load     # Load the schema\nrake groonga:seed            # Load the seed data from db/groonga/seeds/#{RAILS_ENV}.grn, db/groonga/seeds/#{RAILS_ENV}.rb, db/groonga/seeds.grn or db/groonga/seeds.rb\nrake groonga:setup           # Create the database and load the schema\nrake groonga:test:env        # Set Rails.env = 'test'\nrake groonga:test:prepare    # Prepare groonga database for testing\n\nActiveRecord\u3067\u898b\u899a\u3048\u306e\u3042\u308b\u611f\u3058\u3067\u3059\u306d\u3002\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\n\uff08\u3061\u3087\u3044\u3061\u3087\u3044\u3084\u308a\u76f4\u3057\u306a\u304c\u3089\u66f8\u3044\u3066\u308b\u306e\u3067\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u65e5\u6642\u304c\u305a\u308c\u3066\u308b\u306e\u306f\u3054\u611b\u5b0c\u3063\u3066\u3053\u3068\u3067\u30d2\u30c8\u30c4\uff09\nActiveGroonga\u3067\u306fActiveRecord\u306e\u3088\u3046\u306a\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3084\u30e2\u30c7\u30eb\u5b9a\u7fa9\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n$ ./bin/rails g -h\n(snip)\nActiveGroonga:\n  active_groonga:migration\n  active_groonga:model\n(snip)\n\n\u305d\u308c\u305e\u308c\u4f7f\u3044\u65b9\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nactive_groonga:migration\uff1a\n$ ./bin/rails g active_groonga:migration -h\n(snip)\nUsage:\n  rails generate active_groonga:migration NAME [name:type[:option:option] name:type[:option:option]] [options]\n\nOptions:\n  [--skip-namespace], [--no-skip-namespace]  # Skip namespace (affects only isolated applications)\n\nRuntime options:\n  -f, [--force]                    # Overwrite files that already exist\n  -p, [--pretend], [--no-pretend]  # Run but do not make any changes\n  -q, [--quiet], [--no-quiet]      # Suppress status output\n  -s, [--skip], [--no-skip]        # Skip files that already exist\n\nDescription:\n    Create active groonga files for migration generator.\n(snip)\n\nactive_groonga:model\uff1a\n$ ./bin/rails g active_groonga:model -h\n(snip)\nUsage:\n  rails generate active_groonga:model NAME [name:type[:option:option] name:type[:option:option]] [options]\n\nOptions:\n      [--skip-namespace], [--no-skip-namespace]  # Skip namespace (affects only isolated applications)\n      [--migration], [--no-migration]            # Indicates when to generate migration\n                                                 # Default: true\n      [--timestamps], [--no-timestamps]          # Indicates when to generate timestamps\n                                                 # Default: true\n      [--parent=PARENT]                          # The parent class for the generated model\n  -t, [--test-framework=NAME]                    # Test framework to be invoked\n                                                 # Default: test_unit\n\nTestUnit options:\n      [--fixture], [--no-fixture]   # Indicates when to generate fixture\n                                    # Default: true\n  -r, [--fixture-replacement=NAME]  # Fixture replacement to be invoked\n\nRuntime options:\n  -f, [--force]                    # Overwrite files that already exist\n  -p, [--pretend], [--no-pretend]  # Run but do not make any changes\n  -q, [--quiet], [--no-quiet]      # Suppress status output\n  -s, [--skip], [--no-skip]        # Skip files that already exist\n\nDescription:\n    Create active groonga files for model generator.\n(snip)\n\nRails\u89e6\u308b\u306e\u4e45\u3005\u306a\u3093\u3067\u3001\u3064\u3044\u3067\u306b\u3001\u30e2\u30c7\u30eb\u7528\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u304c\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u304b\u3082\u898b\u3066\u307f\u307e\u3057\u3087\u3046\uff1a\n$ ./bin/rails g model -h\n(snip)\nUsage:\n  rails generate model NAME [field[:type][:index] field[:type][:index]] [options]\n\nOptions:\n      [--skip-namespace], [--no-skip-namespace]  # Skip namespace (affects only isolated applications)\n      [--force-plural], [--no-force-plural]      # Forces the use of the given model name\n  -o, --orm=NAME                                 # Orm to be invoked\n                                                 # Default: active_groonga\n\nActiveGroonga options:\n      [--migration], [--no-migration]    # Indicates when to generate migration\n                                         # Default: true\n      [--timestamps], [--no-timestamps]  # Indicates when to generate timestamps\n                                         # Default: true\n      [--parent=PARENT]                  # The parent class for the generated model\n  -t, [--test-framework=NAME]            # Test framework to be invoked\n                                         # Default: test_unit\n(snip)\n\n\u3093\uff1f\n  -o, --orm=NAME                                 # Orm to be invoked\n                                                 # Default: active_groonga\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u304cactive_groonga\u306b\u306a\u3063\u3066\u308b\uff01\uff1f\u3000\u30c7\u30d5\u30a9\u30eb\u30c8O/R\u30de\u30c3\u30d1\u30fc\u306e\u4e0a\u66f8\u304d\u306a\u3093\u3066\u3067\u304d\u305f\u3093\u3067\u3059\u306d\u3001\u77e5\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u306a\u304a\u3001railtie\u306e\u8aad\u307f\u8fbc\u307f\u9806\u3092\u5909\u3048\u308b\u3053\u3068\u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u3092active_record\u306b\u623b\u305b\u307e\u3059\u3002\n\nconfig/application.rb\n# :\n# :\nrequire \"active_groonga/railtie\"\nrequire \"active_model/railtie\"\n# :\n# :\n\n\n$ ./bin/rails g model -h\n(snip)\nUsage:\n  rails generate model NAME [field[:type][:index] field[:type][:index]] [options]\n\nOptions:\n      [--skip-namespace], [--no-skip-namespace]  # Skip namespace (affects only isolated applications)\n      [--force-plural], [--no-force-plural]      # Forces the use of the given model name\n  -o, --orm=NAME                                 # Orm to be invoked\n                                                 # Default: active_record\n\nActiveRecord options:\n      [--migration], [--no-migration]    # Indicates when to generate migration\n                                         # Default: true\n      [--timestamps], [--no-timestamps]  # Indicates when to generate timestamps\n                                         # Default: true\n      [--parent=PARENT]                  # The parent class for the generated model\n      [--indexes], [--no-indexes]        # Add indexes for references and belongs_to columns\n                                         # Default: true\n  -t, [--test-framework=NAME]            # Test framework to be invoked\n                                         # Default: test_unit\n(snip)\n\n\u4ee5\u5f8c\u306f\u305b\u3063\u304b\u304f\u306a\u3093\u3067\uff08\uff1f\uff09active_groonga\u306e\u307b\u3046\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u3057\u3066\u9032\u3081\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8O/R\u30de\u30c3\u30d1\u30fc\u304cactive_groonga\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u5358\u306bmodel\u7528\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u4f7f\u3046\u3060\u3051\u3067\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n$ ./bin/rails g model article key:int:hash title:short_text body:long_text\n(snip)\n      invoke  active_groonga\n      create    db/groonga/migrate/20151003192809_create_articles.rb\n      create    app/models/article.rb\n      invoke    test_unit\n      create      test/models/article_test.rb\n      create      test/fixtures/articles.yml\n(snip)\n\n\u30c7\u30fc\u30bf\u578b\u304c\u3001ActiveRecord\u306b\u306f\u306a\u3044short_text\u3084long_text\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u6307\u5b9a\u3067\u304d\u308b\u578b\u306fGroonga\u306e\u30c7\u30fc\u30bf\u578b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4f7f\u3044\u305f\u3044\u7269\u3092\u9078\u3093\u3067\u3001Ruby\u3089\u3057\u304f\uff08\uff1f\uff09\u30b9\u30cd\u30fc\u30af\u30b1\u30fc\u30b9\u306b\u3057\u307e\u3059\u3002\n\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u6240\u3001\u30d8\u30eb\u30d7\u3067\u306f\nfield[:type][:index]\n\n\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001:index\u306e\u6240\u306b\uff08ActiveRecord\u306e\u3088\u3046\u306b\uff09index\u3084unique\u3092\u6307\u5b9a\u3057\u3066\u3082\u7121\u8996\u3055\u308c\u307e\u3059\u3002\u8a73\u3057\u304f\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002\n\n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n\u4f55\u306f\u3068\u3082\u3042\u308c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u306a\u3044\u3068\u59cb\u307e\u3089\u306a\u3044\u306e\u3067\u3001\u3055\u3063\u304d\u4f5c\u3063\u305farticles\u30c6\u30fc\u30d6\u30eb\u3092\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\u3057\u307e\u3057\u3087\u3046\u3002\n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306f\u3053\u3046\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\ndb/groonga/migrate20151003192809_create_articles.rb\nclass CreateArticles < ActiveGroonga::Migration\n  def up\n    create_table(:articles, :type => :hash, :key_type => \"Int32\") do |table|\n      table.short_text(:title)\n      table.long_text(:body)\n      table.timestamps\n    end\n  end\n\n  def down\n    remove_table(:articles)\n  end\nend\n\n\n\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\u3057\u307e\u3059\u3002\n$ ./bin/rake groonga:migrate\n== 20151003192809 CreateArticles (db/groonga/migrate/20151003192809_create_articles.rb): migrating\n== 20151003192809 CreateArticles (db/groonga/migrate/20151003192809_create_articles.rb): migrated (0.0001s)\n\n\u3044\u3064\u3082\u901a\u308a\u306e\u624b\u9806\u3067\u3059\u306d\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306fdb/groonga/development/db\u306b\u51fa\u6765\u3066\u3044\u307e\u3059\u3002groonga\u30b3\u30de\u30f3\u30c9\uff08Groonga\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3064\u3044\u3066\u304d\u307e\u3059\uff09\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308c\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4e2d\u8eab\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002groonga\u30b3\u30de\u30f3\u30c9\u306f\u7d50\u679c\u3092JSON\u3067\u8868\u793a\u3059\u308b\u306e\u3067\u3001jq\u3067\u898b\u3084\u3059\u304f\u3057\u3066\u3044\u307e\u3059\u3002\n$ groonga db/groonga/development/db table_list | jq .\n(snip)\n    [\n      258,\n      \"articles\",\n      \"db/groonga/development/db.0000102\",\n      \"TABLE_NO_KEY|PERSISTENT\",\n      \"Int32\",\n      null,\n      null,\n      null\n    ],\n    [\n      256,\n      \"schema_migrations\",\n      \"db/groonga/development/db.0000100\",\n      \"TABLE_HASH_KEY|PERSISTENT\",\n      \"UInt64\",\n      null,\n      null,\n      null\n    ]\n(snip)\n\n\u4f55\u3068\u306a\u304f\u3067\u3059\u304c\u3001articles\u30c6\u30fc\u30d6\u30eb\u306e\u4ed6\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u7ba1\u7406\u7528\u306e\u30c6\u30fc\u30d6\u30eb\u304c\u51fa\u6765\u3066\u3044\u308b\u3053\u3068\u3082\u4f3a\u3048\u307e\u3059\u306d\u3002\n\u3055\u3066\u3001Groonga\u3067\u5168\u6587\u691c\u7d22\u3092\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u3053\u3053\u3067\u4f5c\u3063\u305farticles\u3060\u3051\u3067\u306a\u304f\u3001\u300carticles\u304b\u3089\u5168\u6587\u691c\u7d22\u3092\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u683c\u7d0d\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u300d\u3092\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002RDBMS\u3060\u3063\u305f\u3089\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5f35\u308b\u3088\u3046\u306a\u3082\u306e\u3067\u3059\u304c\u3001Groonga\u3067\u306f\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u305f\u3060\u3001\u899a\u3048\u308b\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3001Groonga\u306b\u89aa\u3057\u3093\u3067\u3044\u306a\u3044\u5834\u5408\u306f\u53d6\u308a\u6562\u3048\u305a\u66f8\u3044\u3066\u3042\u308b\u901a\u308a\u306b\u5b9f\u884c\u3057\u3066\u3001\u6163\u308c\u3066\u304b\u3089\u8abf\u3079\u3066\u307f\u305f\u307b\u3046\u304c\u3044\u3044\u304b\u3082\u77e5\u308c\u307e\u305b\u3093\u3002\n\u3053\u306e\u8fba\u306e\u8a71\u3082\u3067\u304d\u308b\u3068\u3088\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u3053\u3053\u307e\u3067\u3067\u65e2\u306b\u3001\u5f53\u521d\u306e\u300c\u3064\u3082\u308a\u300d\u3092\u5927\u5e45\u306b\u8d85\u3048\u3066\u9577\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u5272\u611b\u3057\u307e\u3059\u3002Groonga\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306a\u3069\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u3053\u3067\u306fActiveGroonga\u306e\u3053\u3068\u3060\u3051\u66f8\u304d\u307e\u3059\u3002\n\u3053\u306e\u30c6\u30fc\u30d6\u30eb\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u306e\u5f79\u5272\u3057\u304b\u306a\u304f\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306a\u3069\u304b\u3089\u89e6\u308b\u3053\u3068\u306f\u306a\u3044\u306e\u3067\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3060\u3051\u3092\u4f5c\u6210\u3057\u307e\u30598\u3002\n\u30e2\u30c7\u30eb\u3068\u540c\u3058\u3088\u3046\u306b\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d5\u30a9\u30eb\u30c8O/R\u30de\u30c3\u30d1\u30fc\u3082active_groonga\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3044\u3064\u3082\u306eRails\u306e\u624b\u9806\u3067\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u2026\u2026\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3067\u306f\u30c6\u30fc\u30d6\u30eb\u306e\u7d30\u304b\u306a\u8a2d\u5b9a\u304c\u3067\u304d\u306a\u3044\u3088\u3046\u306a\u306e\u3067\u3001\u30e2\u30c7\u30eb\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3059\uff08\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u4e8b\u6848\u304b\u306a\u2026\u2026\uff09\u3002\n$ ./bin/rails g model term key:short_text:patricia_trie:normalize:tokenizer:token_mecab articles.body:index:with_section:with_weight:with_position\n(snip)\n      invoke  active_groonga\n      create    db/groonga/migrate/20151003211724_create_terms.rb\n      create    app/models/term.rb\n      invoke    test_unit\n      create      test/models/term_test.rb\n      create      test/fixtures/terms.yml\n(snip)\n\n\u306f\u3044\u3001\u3044\u304d\u306a\u308a\u8272\u3005\u51fa\u3066\u6765\u307e\u3057\u305f\u3002\u9806\u756a\u306b\u8aac\u660e\u3057\u307e\u3059\u3002\n\u307e\u305a\u3001\u4e00\u822c\u306b\u3001\u30ab\u30e9\u30e0\u306e\u5b9a\u7fa9\u306f\u30ab\u30e9\u30e0\u540d:\u578b:\u30aa\u30d7\u30b7\u30e7\u30f3:\u30aa\u30d7\u30b7\u30e7\u30f3:\u2026\u2026\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nkey\u3068\u3044\u3046\u30ab\u30e9\u30e0\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306fGroonga\u3067\u7279\u5225\u306a\u610f\u5473\u3092\u6301\u3064\u30ab\u30e9\u30e0\u3067\u3059\u3002\u5f37\u3044\u3066ActiveRecord\u306b\u5bfe\u5fdc\u4ed8\u3051\u308b\u3068\u3001id\u30ab\u30e9\u30e0\u306b\u5f53\u305f\u308a\u307e\u3059\u3002\u305f\u3060\u3001key\u306fGroonga\u306e\u77e5\u8b58\u306a\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002\nActiveGroonga\u306b\u7279\u6709\u306a\u306e\u306f\u3001\u3053\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u4f7f\u3063\u3066\u3001key\u30ab\u30e9\u30e0\u3060\u3051\u3067\u306a\u304f\u3001\u30c6\u30fc\u30d6\u30eb\u81ea\u4f53\u306e\u5b9a\u7fa9\u3082\u540c\u6642\u306b\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u3067\u3059\uff08ActiveRecord\u3092\u6a21\u5023\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u7d30\u304b\u306a\u5b9a\u7fa9\u3092\u66f8\u304f\u5834\u6240\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u3057\u3087\u3046\uff09\u3002\n:\u3067\u53e5\u5207\u3089\u308c\u305f\u305d\u308c\u305e\u308c\u306e\u9805\u76ee\u304c\u3069\u3046\u3044\u3046\u610f\u5473\u3092\u6301\u3064\u304b\u306f\u3001\u51fa\u6765\u4e0a\u304c\u3063\u305f\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u3092\u898b\u305f\u307b\u3046\u304c\u5206\u304b\u308a\u3084\u3059\u3044\u6c17\u304c\u3057\u307e\u3059\u306d\uff1a\n\ndb/groonga/migrate/20151003211545_create_terms.rb\nclass CreateTerms < ActiveGroonga::Migration\n  def up\n    create_table(:terms, :type => :patricia_trie, :key_type => \"ShortText\", :key_normalize => true, :default_tokenizer => \"TokenMecab\") do |table|\n      table.index(\"articles.body\", :with_section => true, :with_weight => true, :with_position => true)\n      table.timestamps\n    end\n  end\n\n  def down\n    remove_table(:terms)\n  end\nend\n\n\nkey\u30ab\u30e9\u30e0\u3078\u306e\u6307\u5b9a\u304c\u5168\u90e8create_table\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u306a\u308a\u307e\u3057\u305f\u3002\npatricia_trie\u3068\u304bnormalize\u3068\u304b\u306e\u7528\u8a9e\u3092\u898b\u4ed8\u3051\u308b\u3068\u3001\u81ea\u52d5\u3067\u300c\u3053\u308c\u306f\u30c6\u30fc\u30d6\u30eb\u306etype\u306e\u5b9a\u7fa9\u3060\u306a\u300d\u300c\u3053\u308c\u306f\u30ce\u30fc\u30de\u30e9\u30a4\u30b6\u30fc\u306e\u4f7f\u7528\u306e\u6709\u7121\u3060\u306a\u300d\u3068\u3044\u3063\u305f\u611f\u3058\u3067\u3046\u307e\u3044\u5177\u5408\u306b\u89e3\u91c8\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc\u306e\u6307\u5b9a\u304c\u7279\u6b8a\u3067\u3001tokenizer\u3068\u3044\u3046\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u3063\u305f\u3089\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc\u306e\u5b9a\u7fa9\u304c\u59cb\u307e\u308a\u3001\u76f4\u5f8c\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u305d\u306e\u5024\uff08token_mecab\uff09\u3068\u3057\u3066\u6271\u308f\u308c\u3066\u3044\u307e\u3059\u3002\n\u7d9a\u304f\u30ab\u30e9\u30e0\u5b9a\u7fa9\u3082\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\narticles.body\u3068\u3044\u3046\u3001.\u3092\u542b\u3093\u3060\u30ab\u30e9\u30e0\u540d\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u300carticles\u30c6\u30fc\u30d6\u30eb\u306ebody\u30ab\u30e9\u30e0\u7528\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u308b\u300d\u3068\u3044\u3046Groonga\u72ec\u81ea\u306e\u8a18\u6cd5\u3067\u3059\u3002\n\u305d\u306e\u4ed6\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u578b\u306e\u30ab\u30e9\u30e0\u5c02\u7528\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059\u3002\u305d\u308c\u305e\u308c\u306e\u610f\u5473\u306b\u3064\u3044\u3066\u306fGroonga\u306e\u77e5\u8b58\u306a\u306e\u3067\u3001\u3084\u306f\u308a\u5272\u611b\u3057\u307e\u3059\u3002\n\u3053\u308c\u3067\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\u3059\u308c\u3070\u3001\u53d6\u308a\u6562\u3048\u305aArticle\u30e2\u30c7\u30eb\u3092\u4f5c\u3063\u305f\u308a\u3001\u5168\u6587\u691c\u7d22\u3092\u3057\u305f\u308a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n$ ./bin/rake groonga:migrate\n== 20151004143850 CreateTerms (db/groonga/migrate/20151004143850_create_terms.rb): migrating \n== 20151004143850 CreateTerms (db/groonga/migrate/20151004143850_create_terms.rb): migrated (0.0002s) \n\n\n\u30e2\u30c7\u30eb\u5b9a\u7fa9\n\u30e2\u30c7\u30eb\u306e\u5b9a\u7fa9\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\napp/models/book.rb\nclass Article < ActiveGroonga::Base\nend\n\n\n\u306a\u3093\u306e\u5909\u54f2\u3082\u306a\u3044\u30e2\u30c7\u30eb\u3067\u3059\u306d\u3002\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u5c11\u3057\u904a\u3093\u3067\u307f\u307e\u3057\u3087\u3046\u3002\n$ ./bin/rails c\n>> Article.all.records.size\n=> 0\n>> a1 = Article.new(key: 1, title: 'article1', body: 'body')\n=> #<Article key: 1, author: nil, body: \"body\", created_at: nil, title: \"article1\", updated_at: nil>\n>> Article.all.records.size\n=> 0\n>> a1.save\n=> true\n>> Article.all.records.size\n=> 1\n>> a2 = Article.create(key: 2, title: 'article2', body: 'body')\n=> #<Article key: 2, author: nil, body: \"body\", created_at: 2015-10-08 06:08:27 +0900, title: \"article2\", updated_at: 2015-10-08 06:08:27 +0900>\n>> Article.all.records.size\n=> 2\n>> a1.body = 'first article'\n=> \"first article\"\n>> a1.save\n=> true\n>> Article.all.records.first\n=> #<Groonga::Record:0x007f043c0824f0 @table=#<Groonga::Hash id: <258>, name: <articles>, path: <db/groonga/development/db.0000102>, domain: <Int32>, range: (nil), flags: <>, size: <2>, encoding: <:utf8>, default_tokenizer: (nil), token_filters: [], normalizer: (nil)>, @id=1, @added=false, attributes: {\"_id\"=>1, \"_key\"=>2, \"author\"=>nil, \"body\"=>\"body\", \"created_at\"=>2015-10-08 06:08:27 +0900, \"title\"=>\"article2\", \"updated_at\"=>2015-10-08 06:08:27 +0900}>\n\n\u5168\u4ef6\u306e\u53d6\u5f97\u65b9\u6cd5\u304cActiveRecord\u3068\u9055\u3044\u307e\u3059\u304c\u3001\u6982\u306d\u671f\u5f85\u901a\u308a\u306b\u52d5\u304d\u307e\u3059\u306d\u3002\n\n\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\n\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3084before_save\u306a\u3093\u304b\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3082\u3001ActiveRecord\u540c\u69d8\u306b\u4f7f\u3048\u307e\u3059\u3002\u7279\u306b\u3001Groonga\u306fRDBMS\u307b\u3069\u306e\u69d8\u3005\u306a\u5236\u7d04\uff08NOT NULL\u5236\u7d04\u3084\u30e6\u30cb\u30fc\u30af\u30ad\u30fc\u5236\u7d04\u306a\u3069\uff09\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u5fc5\u8981\u306a\u3089\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5074\u3067\u304d\u3063\u3061\u308a\u5b9a\u7fa9\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\napp/modeuls/article.rb\nclass Article < ActiveGroonga::Base\n  validates :title, presence: true\nend\n\n\n\u8a66\u3057\u306btitle\u3092\u6301\u305f\u306a\u3044\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n>> a3 = Article.create(key: 3, body: 'body')\n=> #<Article key: 3, author: nil, body: \"body\", created_at: 2015-10-08 06:09:36 +0900, title: \"article 2015-10-08 06:09:36 +0900\", updated_at: 2015-10-08 06:09:36 +0900>\n>> a3.valid?\n=> false\n>> a3.save!\nActiveGroonga::RecordInvalid: translation missing: en.activegroonga.errors.messages.record_invalid\n    :\n    :\n\n\u3061\u3083\u3093\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3067\u304d\u3066\u3044\u307e\u3059\u306d\u3002\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3082\u8a66\u3057\u307e\u3057\u3087\u3046\u3002\n\napp/models/article.rb\nclass Article < ActiveGroonga::Base\n  validates :title, presence: true\n\n  before_validation :ensure_title\n\n  private\n\n  def ensure_title\n    return if title\n    self.title = 'article ' + Time.now.to_s\n  end\nend\n\n\n>> a4 = Article.create(key: 4, body: 'body')\n=> #<Article key: 4, author: nil, body: \"body\", created_at: 2015-10-08 06:10:18 +0900, title: \"article 2015-10-08 06:10:18 +0900\", updated_at: 2015-10-08 06:10:18 +0900>\n>> a4.title\n=> \"article 2015-10-08 06:10:18 +0900\"\n\n\u3046\u307e\u304f\u3044\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\nActiveGroonga\u306b\u306fActiveRecord\u306e\u3088\u3046\u306a\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u7528\u30de\u30af\u30ed\uff08belongs_to\u306a\u3069\uff09\u306f\u3042\u308a\u307e\u305b\u3093\u3002\nhas_many\u3068has_one\u306b\u3064\u3044\u3066\u306f\u305d\u3046\u3044\u3046\u6a5f\u80fd\u304c\u306a\u3044\u306e\u3067\u5229\u7528\u3067\u304d\u307e\u305b\u3093\uff08\u3068\u3001\u601d\u3046\u2026\u2026\uff09\u3002\nbelogs_to\u306f\u3001\u30de\u30af\u30ed\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u4f7f\u3048\u307e\u3059\u3002\n\u307e\u305a\u3001Article\u306e\u6301\u3061\u4e3b\u3067\u3042\u308bAuthor\u7528\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u30e2\u30c7\u30eb\u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\u3002\n$ ./bin/rails g model author name:short_text\n      invoke  active_groonga\n      create    db/groonga/migrate/20151006234946_create_authors.rb\n      create    app/models/author.rb\n      invoke    test_unit\n      create      test/models/author_test.rb\n      create      test/fixtures/authors.yml\n\n\u8457\u8005\u306b\u95a2\u3059\u308b\u691c\u7d22\u6a5f\u80fd\u3092\u4f7f\u3046\u306b\u306f\u3001\u305d\u306e\u305f\u3081\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3082\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u53d6\u308a\u6562\u3048\u305a\u3053\u3053\u3067\u306f\u7f6e\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\u6b21\u306b\u3001articles\u30c6\u30fc\u30d6\u30eb\u306b\u3001authors\u30c6\u30fc\u30d6\u30eb\u3092\u53c2\u7167\u3059\u308b\u30ab\u30e9\u30e0\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n$ ./bin/rails g migration AddAuthorsToArticles\n      invoke  active_groonga\n      create    db/groonga/migrate/20151007003328_add_authors_to_articles.rb\n\n\ndb/groonga/migrate/20151007003328_add_authors_to_articles.rb\nclass AddAuthorsToArticles < ActiveGroonga::Migration\n  def up\n    change_table(:articles) do |table|\n      table.reference :author\n    end\n  end\n\n  def down\n    change_table(:articles) do |table|\n      table.remove_column :author\n    end\n  end\nend\n\n\ntable.reference\u304c\u3001\u4ed6\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u53c2\u7167\u3059\u308b\u30ab\u30e9\u30e0\u306e\u578b\u3067\u3059\u3002\n\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\u3057\u307e\u3059\u3002\n$ ./bin/rake groonga:migrate\n== 20151006234946 CreateAuthors (db/groonga/migrate/20151006234946_create_authors.rb): migrating\n== 20151006234946 CreateAuthors (db/groonga/migrate/20151006234946_create_authors.rb): migrated (0.0001s)\n== 20151007003328 AddAuthorsToArticles (db/groonga/migrate/20151007003328_add_authors_to_articles.rb): migrating\n== 20151007003328 AddAuthorsToArticles (db/groonga/migrate/20151007003328_add_authors_to_articles.rb): migrated (0.0001s)\n\n\u8a66\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n>> author1 = Author.create(name: 'author1')\n=> #<Author id: 2, created_at: 2015-10-08 04:44:52 +0900, name: \"author1\", updated_at: 2015-10-08 04:44:52 +0900>\n>> a4.author = author1\n=> #<Author id: 2, created_at: 2015-10-08 04:44:52 +0900, name: \"author1\", updated_at: 2015-10-08 04:44:52 +0900>\n>> a4.save!\n=> true\n>> Article.all.to_a.last.author\n=> #<Author id: 2, created_at: 2015-10-08 04:44:52 +0900, name: \"author1\", updated_at: 2015-10-08 04:44:52 +0900>\n\n\u3061\u3083\u3093\u3068\u53c2\u7167\u3067\u304d\u3066\u3044\u307e\u3059\u3002\n\n\u691c\u7d22\nActiveGroonga\u306b\u3082.find\u30e1\u30bd\u30c3\u30c9\u306f\u3042\u3063\u3066\u3001ActiveRecord\u540c\u69d8\u306b\u4f7f\u3048\u307e\u3059\u3002\n>> Article.find(1)\n=> #<Article key: 1, author: nil, body: \"first article\", created_at: 2015-10-08 06:09:00 +0900, title: \"article1\", updated_at: 2015-10-08 06:09:00 +0900>\n\n\u304c\u3001Groonga\u306eid\uff08_id\uff09\u306fActiveRecord\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u8a2d\u5b9a\u3055\u308c\u308b\u30b5\u30ed\u30b2\u30fc\u30c8\u30ad\u30fc\u3068\u306f\u9055\u3046\u7269\u3067\u3059\u3002Groonga\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e_id\u306e\u8aac\u660e\u306b\u3042\u308b\u3088\u3046\u306b\u3001\u5024\u304c\u4f7f\u3044\u56de\u3055\u308c\u308b\u7269\u306a\u306e\u3067\u3001\u4e00\u6642\u7684\u306b\u4f7f\u3046\u5206\u306b\u306f\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001URI\u306a\u3069\u6052\u4e45\u7684\u306a\u6240\u306b\u306f\u4f7f\u308f\u306a\u3044\u307b\u3046\u304c\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nActiveRecord\u306eid\u306e\u3088\u3046\u306a\u7528\u9014\u3067\u306f\u3001key\u304c\u3044\u3044\u3067\u3057\u3087\u3046\u3002\u305f\u3060\u3001key\u3082ActiveRecord\u306eid\u3068\u306f\u3060\u3044\u3076\u4f7f\u3044\u52dd\u624b\u304c\u9055\u3044\u307e\u3059\u3002\u6b63\u78ba\u306b\u306f\u3001\u9055\u3046\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u4f5c\u6210\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u306e\u5b9a\u7fa9\u306b\u3088\u3063\u3066key\u306e\u6027\u8cea\u304c\u5909\u308f\u308b\u304b\u3089\u3067\u3059\u3002\u5b58\u5728\u3057\u306a\u3044\u3053\u3068\u3082\u3042\u308a\u307e\u3059\u3002\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u8aac\u660e\u306a\u3069\u304c\u53c2\u8003\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u9762\u5012\u304f\u3055\u3044\u3088\u3046\u3067\u3059\u304c\u3001\u305d\u3082\u305d\u3082\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6027\u8cea\u304cActiveRecord\u3068\u306f\u9055\u3046\u306e\u3067\u3001\u4ed5\u65b9\u306e\u306a\u3044\u3068\u3053\u308d\u3067\u3059\u3002\nActiveRecord\u306efind_by\u3084where\u306b\u76f8\u5f53\u3059\u308b\u306e\u306f\u3001select\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\n>> articles = Article.select {|article| article.title == 'article1'}\n=> #<ActiveGroonga::ResultSet:0x007f043c003e70 @records=#<Groonga::Hash id: <2147483649>, name: (anonymous), path: (temporary), domain: <articles>, range: (nil), flags: <WITH_SUBREC>, size: <1>, encoding: <:utf8>, default_tokenizer: (nil), token_filters: [], normalizer: (nil)>, @klass=Article(author: authors, body: LongText, created_at: Time, title: ShortText, updated_at: Time), @groups={}, @expression=#<Groonga::Expression\n   :\n   :\n>> articles.first.title\n=> \"article1\"\n\nActiveGroonga\u306eBase.select\u306f\u5185\u90e8\u3067Rroonga\u306eGroonga::Table#select\u3092\u547c\u3093\u3067\u3044\u308b\u306e\u3067\u3001\u30d6\u30ed\u30c3\u30af\u306e\u4f7f\u3044\u65b9\u8a73\u7d30\u306f\u305d\u3061\u3089\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\u4ee5\u4e0b\u3067\u4e8c\u3064\u3060\u3051\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\u5168\u6587\u691c\u7d22\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001\u30d6\u30ed\u30c3\u30af\u4e2d\u3067==\u3092\u4f7f\u3063\u3066\u304a\u308a\u3001\u3053\u308c\u306f\u5b8c\u5168\u4e00\u81f4\u691c\u7d22\u3092\u5b9f\u884c\u3059\u308b\u306e\u3067\u3059\u304c\u3001\u5168\u6587\u691c\u7d22\u306b\u306f=~\u3092\u4f7f\u3044\u307e\u3059\u3002\n>> ['\u3053\u3093\u306b\u3061\u306fGroonga', '\u3053\u3093\u306b\u3061\u306fElasticsearch', '\u3053\u3093\u306b\u3061\u306f\u3088\u3044\u304a\u65e5\u67c4\u3067'].each_with_index do |body, index|\n?>   Article.create(key: index + 4, body: body)\n>> end\n=> [\"\u3053\u3093\u306b\u3061\u306fGroonga\", \"\u3053\u3093\u306b\u3061\u306fElasticsearch\", \"\u3053\u3093\u306b\u3061\u306f\u3088\u3044\u304a\u65e5\u67c4\u3067\"]\n>> Article.select {|article| article.body =~ '\u3053\u3093\u306b\u3061\u306f'}.to_a\n=> [#<Article key: 4, author: nil, body: \"\u3053\u3093\u306b\u3061\u306fGroonga\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>, #<Article key: 5, author: nil, body: \"\u3053\u3093\u306b\u3061\u306fElasticsearch\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>, #<Article key: 6, author: nil, body: \"\u3053\u3093\u306b\u3061\u306f\u3088\u3044\u304a\u65e5\u67c4\u3067\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>]\n>> Article.select {|article| article.body =~ '\u65e5\u67c4'}.to_a\n=> [#<Article key: 6, author: nil, body: \"\u3053\u3093\u306b\u3061\u306f\u3088\u3044\u304a\u65e5\u67c4\u3067\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>]\n\n\u3088\u3044\u611f\u3058\u306e\u6c17\u304c\u3057\u307e\u3059\uff01\n\n\u985e\u4f3c\u6587\u66f8\u691c\u7d22\nGroonga\u306b\u306f\u985e\u4f3c\u6587\u66f8\u691c\u7d22\u306e\u6a5f\u80fd\u304c\u3042\u3063\u3066\u3001ActiveGroonga\u3067\u3082\u4f7f\u3048\u307e\u3059\u3002\n>> Article.select {|article| article.body.similar_search '\u3053\u3093\u306b\u3061\u306fActiveGroonga'}.to_a\n=> [#<Article key: 4, author: nil, body: \"\u3053\u3093\u306b\u3061\u306fGroonga\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>, #<Article key: 5, author: nil, body: \"\u3053\u3093\u306b\u3061\u306fElasticsearch\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>, #<Article key: 6, author: nil, body: \"\u3053\u3093\u306b\u3061\u306f\u3088\u3044\u304a\u65e5\u67c4\u3067\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>]\n\n\u300c\u3053\u3093\u306b\u3061\u306fActiveGroonga\u300d\u3067\u691c\u7d22\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3068\u4e00\u81f4\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u4f3c\u305f\u611f\u3058\u306e\u300c\u3053\u3093\u306b\u3061\u306f\u301c\u300d\u3068\u3044\u3046\u306e\u304c\u30d2\u30c3\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u7d42\u308f\u308a\u306b\n\u306a\u3093\u304b\u5f53\u521d\u8003\u3048\u3066\u3044\u305f\u5341\u500d\u304f\u3089\u3044\u306e\u5206\u91cf\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u304c\u3001\u304a\u5f79\u306b\u7acb\u3066\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\nGroonga\u306f\u3084\u306f\u308aRDBMS\u3068\u306f\u9055\u3046\u306e\u3067\u3001\u3061\u3083\u3093\u3068\u4f7f\u304a\u3046\u3068\u601d\u3046\u3068Groonga\n\u81ea\u4f53\u3092\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001ActiveGroonga\u306f\u3042\u307e\u308a\u77e5\u3089\u306a\u304f\u3066\u3082\u307e\u3042\u307e\u3042\u4f7f\u3048\u308b\u306e\u3067\u3001\u53d6\u308a\u6562\u3048\u305a\u5165\u308c\u3066\u3001\u3042\u3068\u304b\u3089\u6bb5\u3005\u3068\u52c9\u5f37\u3057\u3066\u3044\u304f\u3093\u3067\u3082\u3044\u3044\u3093\u3058\u3083\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\u3042\u3068\u3001\u51e6\u7406\u306f\u5927\u90e8\u5206\u3092Rroonga\u306b\u6295\u3052\u3066\u3044\u308b\u306e\u3067\u3001Ruby\u306eAPI\u306f\u305d\u3061\u3089\u3092\u53c2\u7167\u3059\u308b\u3068\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4e2d\u306e\u4eba\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u30a6\u30a7\u30d6\u4e0a\u306e\u8a18\u4e8b\u3084\u81ea\u5206\u3067\u89e6\u3063\u305f\u4f53\u9a13\u3001\u4e2d\u306e\u4eba\u306b\u4f3a\u3063\u305f\u304a\u8a71\u3092\u5143\u306b\u66f8\u3044\u3066\u3044\u307e\u3059\u304c\u3001\u9593\u9055\u3044\u304c\u3042\u308b\u304b\u3082\u77e5\u308c\u307e\u305b\u3093\u3002\u512a\u3057\u3044\u3054\u6307\u6458\u304a\u5f85\u3061\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\nhttp://apehuci-kitaitimakoto.sqale.jp/apehuci/?date=20150924\u00a0\u21a9\n\n\n\u30b0\u30b0\u3063\u305f\u3089\u8272\u3005\u51fa\u3066\u6765\u307e\u3059\u3002Qiita\u306b\u3082\u305f\u304f\u3055\u3093\u306e\u6295\u7a3f\u304c\u3042\u308a\u307e\u3059\uff1ahttp://qiita.com/tags/groonga\u00a0\u21a9\n\n\nGroonga Query Transfer Protocol\u3002Groonga\u72ec\u81ea\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u3001HTTP\u3088\u308a\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u5c0f\u3055\u3044\u3002\u00a0\u21a9\n\n\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308c\u3070\u3088\u3055\u305d\u3046\u306a\u306e\u3067\u3001NFS\u3084AFP\u7d4c\u7531\u3067\u30ea\u30e2\u30fc\u30c8\u30b5\u30fc\u30d0\u30fc\u3082\u4f7f\u3048\u308b\u3068\u306f\u601d\u3044\u307e\u3059\u304c\u3002\u00a0\u21a9\n\n\n\u30ea\u30e2\u30fc\u30c8\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306b\u306fHTTP\u3084GQTP\u3092\u4f7f\u3063\u305f\u30a2\u30af\u30bb\u30b9\u3068\u30e2\u30c7\u30eb\u3068\u306e\u9593\u306e\u30de\u30c3\u30d1\u30fc\u3092\u81ea\u5206\u3067\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u00a0\u21a9\n\n\n\u3053\u308c\u3082\u30b0\u30b0\u3063\u305f\u3089\u8272\u3005\u51fa\u3066\u6765\u307e\u3059\u3002Qiita\u306b\u3082\u6295\u7a3f\u304c\u3042\u308a\u307e\u3059\uff1ahttp://qiita.com/tags/mroonga\u00a0\u21a9\n\n\n$ sudo apt-get install groonga-tokenizer-mecab \u8a73\u7d30\u306f\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30da\u30fc\u30b8\u306b\u3001Groonga\u305d\u306e\u7269\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3068\u4e00\u7dd2\u306b\u8f09\u3063\u3066\u3044\u307e\u3059\uff1a http://groonga.org/ja/docs/install.html\u00a0\u21a9\n\n\n\u30b9\u30c8\u30c3\u30d7\u30ef\u30fc\u30c9\u306e\u7ba1\u7406\u306a\u3069\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u7528\u30c6\u30fc\u30d6\u30eb\uff08\u8a9e\u5f59\u8868\u3068\u547c\u3070\u308c\u307e\u3059\uff09\u3092\u30e2\u30c7\u30eb\u3068\u3057\u3066\u4f7f\u3046\u306e\u304c\u6709\u7528\u306a\u5834\u9762\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u5272\u611b\u3057\u307e\u3059\u3002\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u306e\u306f\u96e3\u3057\u304f\u306a\u3044\u306f\u305a\u3067\u3059\u3002\u30b9\u30c8\u30c3\u30d7\u30ef\u30fc\u30c9\u3068\u304b\u3001\u3069\u306e\u3088\u3046\u306b\u4f7f\u3046\u306e\u304b\u3001\u3068\u3044\u3046\u306e\u306fGroonga\u306e\u77e5\u8b58\u304c\u5fc5\u8981\u306a\u306e\u3067\u5c11\u3057\u8abf\u3079\u3066\u304b\u3089\u8003\u3048\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u00a0\u21a9\n\n\n\n[ActiveGroonga][]\u306f[ActiveRecord][]\u306e\u3088\u3046\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3067[Groonga][]\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308bgem\u3067\u3059\u3002\u6700\u8fd1\u3001\u3061\u3087\u3063\u3068\u89e6\u3063\u3066\u307f\u305f[^\u30d6\u30ed\u30b0\u306e\u4f3c\u305f\u8a18\u4e8b\u30ea\u30b9\u30c8\u4f5c\u3063\u3066\u307f\u305f]\u306e\u3067\u3001\u4ed6\u8a18\u4e8b\u3068\u306e\u91cd\u8907\u3082\u591a\u3044\u3067\u3059\u304c\u3001\u61b6\u3048\u305f\u4f7f\u3044\u65b9\u306a\u3069\u66f8\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nGroonga\u3068\u306f\n===========\n\n\u3054\u5b58\u77e5\u306e\u4eba\u3082\u591a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001[Groonga][]\u306f\u3001\uff08\u516c\u5f0f\u30b5\u30a4\u30c8\u306b\u3088\u308b\u3068\uff09<q cite=\"http://groonga.org/ja/\">\u30ab\u30e9\u30e0\u30b9\u30c8\u30a2\u6a5f\u80fd\u4ed8\u304d\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3</q>\u3067\u3059\u3002\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u306f\u3082\u3046\u4f55\u3082\u8a00\u3046\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u304c[^\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u306eGroonga]\u3001\u300c\u30ab\u30e9\u30e0\u30b9\u30c8\u30a2\u6a5f\u80fd\u4ed8\u304d\u300d\u3068\u3044\u3046\u306e\u306f\u3074\u3093\u3068\u6765\u306a\u3044\u4eba\u3082\u3044\u308b\u304b\u3082\u77e5\u308c\u307e\u305b\u3093\u3002\n\n\u30ab\u30e9\u30e0\u30b9\u30c8\u30a2\u306b\u3064\u3044\u3066\u306e\u6280\u8853\u7684\u306a\u89e3\u8aac\u3084\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8\u306f\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u304c\u3001\u3068\u8a00\u3046\u304b\u3001\u89e3\u8aac\u3067\u304d\u308b\u307b\u3069\u77e5\u3089\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u975e\u5e38\u306b\u5927\u96d1\u628a\u306b\u8a00\u3046\u3068\n\n* \u30c7\u30fc\u30bf\u3092\u884c\u3068\u5217\uff08\u30ab\u30e9\u30e0\uff09\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u7ba1\u7406\u3059\u308b\n* \u4e00\u3064\u306e\u884c\u306f\u8907\u6570\u306e\u5217\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u308b\n* \u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u306f\u3001\u4e00\u3064\u306e\u5217\u304c\u540c\u3058\u5834\u6240\u306b\u96c6\u307e\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u5217\u5358\u4f4d\u306e\u7d71\u8a08\u51e6\u7406\u306a\u3069\u304c\u5f97\u610f\n\n\u3068\u3044\u3046\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u3059\u3002\u4e0a\u4e8c\u3064\u3001\u300c\u30c7\u30fc\u30bf\u3092\u884c\u3068\u5217\uff08\u30ab\u30e9\u30e0\uff09\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u7ba1\u7406\u3059\u308b\u300d\u300c\u4e00\u3064\u306e\u884c\u306f\u8907\u6570\u306e\u5217\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u308b\u300d\u3068\u3044\u3046\u306e\u3092\u898b\u3066\u3001\u4f55\u304b\u601d\u3044\u6d6e\u304b\u3076\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u304b\u3001\u305d\u3046\u3001PostgreSQL\u306a\u3069\u306eRDBMS\u3067\u3059\u306d\u3002\n\n\u975e\u5e38\u306b\u5927\u96d1\u628a\u306b\u8a00\u3046\u3068\u3001\u30c6\u30fc\u30d6\u30eb\u578b\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306a\u306e\u3067\u3059\u3002Groonga\u306f\u300c\u30ab\u30e9\u30e0\u30b9\u30c8\u30a2\u6a5f\u80fd\u4ed8\u304d\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u300d\u3067\u3059\u304c\u3001ActiveGroonga\u306f\u3080\u3057\u308d\u3001\u300c\u5168\u6587\u691c\u7d22\u6a5f\u80fd\u4ed8\u304d\u30c6\u30fc\u30d6\u30eb\u578b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u300d\u3068\u3057\u3066\u306e\u5074\u9762\u3092\u4f7f\u3044\u3084\u3059\u304f\u3059\u308bgem\u306a\u306e\u3060\u3068\u3044\u3046\u306e\u304c\u79c1\u898b\u3067\u3059\u3002\n\nActiveGroonga\u3068\u306f\n=================\n\n\u65e2\u306b\u8aac\u660e\u3057\u3066\u3057\u307e\u3063\u3066\u3053\u306e\u9805\u76ee\u7acb\u3066\u308b\u610f\u5473\u3042\u3063\u305f\u306e\u304b\u7591\u554f\u3067\u3059\u304c\u3001ActiveGroonga\u306f\u3001Groonga\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u6301\u3064ActiveRecord\u306e\u3088\u3046\u306a\u7269\u3067\u3059\u3002\n\n[ActiveModel][]\u306e\u5404\u7a2e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092`include`\u3057\u305f\u308a`extend`\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u6bd4\u8f03\u7684\u81ea\u7136\u306bRails\u3068\u7d71\u5408\u3067\u304d\u307e\u3059\u3002\n\n\u5b9f\u306fGroonga\u306b\u306f\u4e09\u3064\u306e\u4f7f\u3044\u65b9\u304c\u3042\u3063\u3066\u3001\n\n* \u30c7\u30fc\u30e2\u30f3\u3068\u3057\u3066\u8d77\u52d5\u3057\u3066HTTP\u3084[GQTP][][^GQTP]\u7d4c\u7531\u3067API\u3092\u53e9\u304f\n* `groonga`\u30b3\u30de\u30f3\u30c9\u7d4c\u7531\u3067\u5404\u7a2e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\uff08\u5185\u90e8\u3067\u306f\u30ed\u30fc\u30ab\u30eb\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3059\u308b\uff09\n* C\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u3067\u3042\u308b`libgroonga`\u3092\u4f7f\u3063\u3066\u81ea\u5206\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u7d44\u307f\u8fbc\u3080\n\n\u3067\u3059\u3002\n\n\u3053\u306e\u5185\u3001ActiveGroonga\u3067\u306f\u4e09\u3064\u76ee\u306e`libgroonga`\u3092\u4f7f\u3046\u65b9\u6cd5\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3068\u8a00\u3063\u3066\u3082\u76f4\u63a5`libgroonga`\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u304f\u3001\u5185\u90e8\u3067\u4f7f\u3063\u3066\u3044\u308b[Rroonga][] gem\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u307e\u3059\u3002\n\u3061\u3087\u3046\u3069\u3001ActiveRecord\u304c[pg][] gem\u7d4c\u7531\u3067`libpq`\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u3082\u306e\u3067\u3059\u306d\u3002\n\n\u305f\u3060\u3001`libgroonga`\u306f\u98fd\u304f\u307e\u3067\u30ed\u30fc\u30ab\u30eb\u306e[^\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u7d4c\u7531]\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u306a\u306e\u3067\u3001HTTP\u7b49\u306e\u30a2\u30af\u30bb\u30b9\u3068\u306f\u9055\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3060\u3051\u3092\u5225\u30de\u30b7\u30f3\u306b\u5206\u96e2\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093[^\u30ea\u30e2\u30fc\u30c8\u30a2\u30af\u30bb\u30b9]\u3002\u3053\u306e\u70b9\u306fpg\u3084[mysql2][]\u3088\u308a\u306f[sqlite3][]\u306e\u3088\u3046\u306b\u8003\u3048\u305f\u307b\u3046\u304c\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\nElasticsearch\u516c\u5f0fgem\u3068\u306e\u9055\u3044\n---------------------------\n\n\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u8ffd\u52a0\u30fb\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u66f4\u65b0\u304c\u53ef\u80fd\u306a\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u3001[Elasticsearch][]\u304c\u7af6\u5408\u306e\u4f4d\u7f6e\u306b\u3042\u308a\u307e\u3059\u3002Elasticsearch\u3067\u3082\u3001Rails\u7528\u306bge\uff4d\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\uff08[elasticsearch-model][]\u3001[elasticsearch-rails][]\uff09\u3002\u3057\u304b\u3057\u3001\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u306e\u95a2\u4fc2\u6027\u3068\u306f\u9055\u3063\u3066\u3001ActiveGroonga gem\u306f\u3053\u308c\u3089\u3068\u6bd4\u8f03\u3059\u308b\u3088\u3046\u306a\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\nelasticsearch-model\u306a\u3069\u306f**\u65e2\u5b58\u306e\u30e2\u30c7\u30eb\u306b\u691c\u7d22\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b**\u7269\u3067\u3059\u304c\u3001ActiveGroonga\u306f**\u305d\u308c\u81ea\u4f53\u3067\u30e2\u30c7\u30eb\u3092\u4f5c\u308b**\u305f\u3081\u306egem\u3067\u3059\u3002elasticsearch-model\u306e\u3088\u3046\u306b\u691c\u7d22\u6a5f\u80fd\u3060\u3051\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f\n\n* \u65e2\u5b58\u306e\u30e2\u30c7\u30eb\u306e\u30d8\u30eb\u30d1\u30fc\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066ActiveGroonga\u306e\u30e2\u30c7\u30eb\u3092\u547c\u3073\u51fa\u3059\u3088\u3046\u306a\u7269\u3092\u5b9a\u7fa9\u3059\u308b\n* \u3088\u308a\u4f4e\u30ec\u30a4\u30e4\u30fc\u306e[Rroonga][] gem\u3092\u4f7f\u3063\u3066\u72ec\u81ea\u306b\u691c\u7d22\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\uff08\u3088\u3046\u306agem\u3092\u4f5c\u3063\u3066\u516c\u958b\u3057\u3066\u304f\u3060\u3055\u3044\uff01\uff01\uff09\n* Groonga\u3092[Groonga HTTP\u30b5\u30fc\u30d0\u30fc]\u3068\u3057\u3066\u8d77\u52d5\u3057\u3066\u3001\u30a6\u30a7\u30d6API\u3092\u53e9\u3044\u3066\u72ec\u81ea\u306b\u691c\u7d22\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\uff08\u3088\u3046\u306agem\u3092\u4f5c\u3063\u3066\u516c\u958b\u3057\u3066\u304f\u3060\u3055\u3044\uff01\uff01\uff01\uff09\n* [Mroonga][]\u3084[PGroonga][]\u3092\u4f7f\u3046\n\n\u3068\u3044\u3063\u305f\u9078\u629e\u80a2\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u4f59\u8ac7\u3067\u3059\u304c\u4e2d\u3067\u3082Mroonga\u306f\u304a\u3059\u3059\u3081\u3067\u3001MySQL\u3084MariaDB\u3092\u4f7f\u3063\u3066\u3044\u308b\u306a\u3089\u305c\u3072\u691c\u8a0e\u3057\u3066\u307b\u3057\u3044\u7269\u3067\u3059\u3002\nMySQL\u3067\u3088\u304f\u4f7f\u308f\u308c\u308bMyISAM\u3084InnoDB\u3068\u3044\u3063\u305f\u306e\u3068\u4e26\u3076\u30b9\u30c8\u30ec\u30fc\u30b8\u30a8\u30f3\u30b8\u30f3\u3067\u3001Groonga\u306e\u30c6\u30fc\u30d6\u30eb\u578b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3001\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u306e\u4e21\u5074\u9762\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u300c\u3042\u308b\u30c6\u30fc\u30d6\u30eb\u306fMyISAM\u3001\u3042\u308b\u30c6\u30fc\u30d6\u30eb\u306fInnoDB\u300d\u3068\u3044\u3046\u4f7f\u3044\u65b9\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u7279\u5b9a\u306e\u30c6\u30fc\u30d6\u30eb\u3060\u3051\u3092Mroonga\u30a8\u30f3\u30b8\u30f3\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Mroonga\u306b\u3059\u308c\u3070**SQL\u3092\u4f7f\u3063\u3066**\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u3084\u5b9f\u969b\u306e\u5168\u6587\u691c\u7d22\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u5168\u6587\u691c\u7d22\u3092\u4f7f\u308f\u306a\u3044\u3075\u3064\u3046\u306e\uff08\uff1f\uff09\u30c7\u30fc\u30bf\u7ba1\u7406\u3082\u3067\u304d\u307e\u3059\u3002\u8208\u5473\u304c\u51fa\u3066\u6765\u305f\u3089\u8abf\u3079\u3066\u307f\u3066\u304f\u3060\u3055\u3044[^Mroonga]\u3002\n\nPGroonga\u306f\u540c\u69d8\u306bPostgreSQL\u3068Groonga\u3092\u9023\u643a\u3055\u305b\u305f\u7269\u3067\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n===========\n\n\u9591\u8a71\u4f11\u984c\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3067\u3059\u3002\n\nGemfile\u306b\n\n```ruby:Gemfile\ngem 'activegroonga', require: 'active_groonga'\n```\n\n\u3068\u66f8\u3044\u3066\n\n    $ bundle install\n\n\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nC\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u304c\u3069\u3046\u3053\u3046\u3001\u3068\u304b\u8a00\u3063\u3066\u8105\u304b\u3057\u3066\u3044\u305f\u306e\u306b\u3001\u62cd\u5b50\u629c\u3051\u3057\u307e\u3057\u305f\u304b\uff1f\nActiveGroonga\uff08\u3068\u8a00\u3046\u3088\u308a\u5185\u90e8\u3067\u4f7f\u3063\u3066\u3044\u308bRroonga\uff09\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u30b7\u30b9\u30c6\u30e0\u306e\u72b6\u614b\u3092\u8abf\u3079\u3066\u3001\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\uff08`libgroonga`\uff09\u304c\u306a\u3051\u308c\u3070\u81ea\u5206\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u4f7f\u3046\u5074\u306f\u7279\u306b\u6c17\u306b\u305b\u305agem\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3060\u3051\u3067\u3044\u3044\u306e\u3067\u3059\u3002\n\n\u4e8b\u524d\u306bGroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n-----------------------------\n\n\u203b \u3084\u3084\u30a2\u30c9\u30d0\u30f3\u30b9\u30c8\u306a\u5185\u5bb9\u3067\u3059\u3002\u53d6\u308a\u6562\u3048\u305a\u8a66\u3057\u305f\u3044\u3001\u3068\u3044\u3046\u6642\u306b\u306f\u8aad\u307f\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u7279\u306b\u6c17\u306b\u305b\u305a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3060\u3051\u3067\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u500b\u4eba\u7684\u306b\u306f\u3001gem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u524d\u306b`libgroonga`\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002\n[\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8][Rroonga\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb]\u306e\u300cGroonga\u306e\u30d0\u30a4\u30ca\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4e8b\u524d\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5\u300d\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\u7406\u7531\u306f\u4e8c\u3064\u3042\u3063\u3066\u3001\n\n* Groonga\u306e\u6700\u65b0\u306e\u6a5f\u80fd\uff08\u3084\u30d0\u30b0\u4fee\u6b63\uff09\u3092Ruby\u304b\u3089\u3067\u3082\u4f7f\u3048\u308b\n* \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u767b\u9332\u304c\u4e0d\u8981\u306b\u306a\u308b\uff08\u7269\u304c\u3042\u308b\uff09\n\n\u304b\u3089\u3067\u3059\u3002\n\n### Groonga\u306e\u6700\u65b0\u306e\u6a5f\u80fd\u3092Ruby\u304b\u3089\u3067\u3082\u4f7f\u3048\u308b ###\n\nRroonga\u306f\u524d\u8ff0\u306e\u901a\u308a\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u3001\u30b7\u30b9\u30c6\u30e0\u306bGroonga\u304c\u306a\u3051\u308c\u3070\u81ea\u5206\u3067\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u3057\u304b\u3057\u3053\u308c\u306f\u3001Rroonga\u51fa\u8377\u6642\u70b9\u306eGroonga\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001\n\n* Groonga\u306f\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u7248\u304c\u51fa\u3066\u3044\u308b\n* \u3057\u304b\u3057Rroonga\u306f\u307e\u3060\u305d\u308c\u306b\u8ffd\u5f93\u3057\u3066\u3044\u306a\u3044\n\n\u3068\u3044\u3046\u6642\u306b\u3001\u6700\u65b0\u306eGroonga\u304c\u4f7f\u3048\u306a\u3044\u3053\u3068\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\u4e88\u3081Groonga\u306e\u4e00\u5f0f\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u3051\u3070\u3001Ruby\u304b\u3089\u306f\u305d\u306e\u4e2d\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u306b\u30ea\u30f3\u30af\u3059\u308b\u3060\u3051\u3067\u3059\u3002Groonga\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u304c\u51fa\u305f\u6642\u306b\u305d\u308c\u3092\u9069\u7528\u3057\u3066\u304a\u3051\u3070\u3001Rroonga\u5074\u306f\u7279\u306b\u4f55\u3082\u3057\u306a\u304f\u3066\u3082\u6700\u65b0\u306e\u6a5f\u80fd\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n### \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u767b\u9332\u304c\u4e0d\u8981 ###\n\n\u65e5\u672c\u8a9e\u3092\u6271\u3046\u969b\u306f\u3001[MeCab\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc][]\u3092\u4f7f\u3044\u305f\u3044\u3053\u3068\u304c\u6b86\u3069\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\u3053\u308c\u306fGroonga\u3067\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u3057\u3066\u63d0\u4f9b\u3055\u308c\u3066\u3044\u3066\u3001\u5404\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u7528\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\uff08APT\u3084yum\u306a\u3069\uff09\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059[^MeCab\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb]\u3002\n\nGroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f**\u5f8c\u306b**Rroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u306f\u3001Groonga\u5074\u3067MeCab\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u767b\u9332\u3057\u3066\u304a\u3051\u3070\u3001Ruby\u5074\u3067\u7279\u306b\u6e96\u5099\u306a\u304f\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3068\u3053\u308d\u304c\u3001Groonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb**\u524d\u306b**Rroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u3001\u3064\u307e\u308aRuby\u5074\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089Groonga\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u5834\u5408\u306b\u306f\u3001Ruby\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u4e2d\u3067\u660e\u793a\u7684\u306bMeCab\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u767b\u9332\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff1a\n\n```ruby\nGroonga::Context.default.register_plugin 'path/to/mecab'\n```\n\n\u30b7\u30b9\u30c6\u30e0\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u7269\u306b\u6697\u9ed9\u306b\u4f9d\u5b58\u3059\u308b\u3088\u308a\u3082\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u4e2d\u306b\u6b8b\u3063\u3066\u3044\u308b\u65b9\u304c\u3044\u3044\u3001\u3068\u3044\u3046\u8003\u3048\u65b9\u3082\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u7d50\u5c40\n\n    $ dpkg -L groonga-tokenizer-mecab\n\n\u306a\u3069\u3067\u30d1\u30b9\u3092\u8abf\u3079\u3066\u304b\u3089\u767b\u9332\u3059\u308b\u3001\u3064\u307e\u308a`groonga-tokenizer-mecab`\u3068\u3044\u3046Ruby\u3084\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5916\u90e8\u306e\u7269\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3069\u3061\u3089\u304b\u3068\u8a00\u3046\u3068\u7ba1\u7406\u304c\u72ec\u7acb\u3057\u3066\u3044\u308b\u65b9\u304c\u3044\u3044\u304b\u306a\u3001\u3068\u500b\u4eba\u7684\u306b\u306f\u8003\u3048\u3066\u3044\u307e\u3059\u3001\u4eca\u306e\u3068\u3053\u308d\u3002\n\n\u8ffd\u8a18\u3002\u30b3\u30e1\u30f3\u30c8\u3067\u6559\u3048\u3066\u3082\u3089\u3044\u307e\u3057\u305f\u3002**`Groonga::Context.default.register_plugin`\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u767b\u9332\u3059\u308b\u3068\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u30d1\u30c3\u30b1\u30fc\u30b8\u3068Rroonga\u3068\u306e\u9593\u3067ABI\u4e92\u63db\u6027\u304c\u58ca\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b**\u305d\u3046\u3067\u3059\u3002\u3084\u3063\u3071\u308a\u3001\u5148\u306bGroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u307b\u3046\u3092\u304a\u3059\u3059\u3081\u3057\u305f\u3044\u3067\u3059\u3002\n\n\u8a2d\u5b9a\n====\n\n\u3055\u3066\u3001\u524d\u7f6e\u304d\u304c\u3082\u306e\u3059\u3054\u304f\u9577\u304f\u306a\u308a\u307e\u3057\u305f\u304c\u3001\u3088\u3046\u3084\u304fRuby\u306e\u30b3\u30fc\u30c9\u3067\u3059\u3002\n\n\u307e\u305a\u3001`config/application.rb`\u3067`ActiveGroonga::Railtie`\u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```ruby:config/application.rb\nrequire File.expand_path('../boot', __FILE__)\n\nrequire \"rails\"\n# Pick the frameworks you want:\nrequire \"active_model/railtie\"\n# :\n# :\nrequire \"active_groonga/railtie\"\n# :\n# :\n```\n\n\u3053\u308c\u3067\u3001Groonga\u7528\u306e\u5404\u7a2eRake\u30bf\u30b9\u30af\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\n    $ ./bin/rake -T groonga\n    rake groonga:create          # Create the database\n    rake groonga:drop            # Drops the database\n    rake groonga:migrate         # Migrate the database (options: VERSION=x)\n    rake groonga:migrate:down    # Migrate the schema down to the version (options: VERSION=x)\n    rake groonga:migrate:redo    # Rolls the schema back and migrate the schema again\n    rake groonga:migrate:status  # Display status of migration\n    rake groonga:migrate:up      # Migrate the schema up to the version (options: VERSION=x)\n    rake groonga:rollback        # Rolls the schema back to the previous version (specify steps w/ STEP=n)\n    rake groonga:schema:dump     # Dump the schema\n    rake groonga:schema:load     # Load the schema\n    rake groonga:seed            # Load the seed data from db/groonga/seeds/#{RAILS_ENV}.grn, db/groonga/seeds/#{RAILS_ENV}.rb, db/groonga/seeds.grn or db/groonga/seeds.rb\n    rake groonga:setup           # Create the database and load the schema\n    rake groonga:test:env        # Set Rails.env = 'test'\n    rake groonga:test:prepare    # Prepare groonga database for testing\n\nActiveRecord\u3067\u898b\u899a\u3048\u306e\u3042\u308b\u611f\u3058\u3067\u3059\u306d\u3002\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\n=============\n\n\uff08\u3061\u3087\u3044\u3061\u3087\u3044\u3084\u308a\u76f4\u3057\u306a\u304c\u3089\u66f8\u3044\u3066\u308b\u306e\u3067\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u65e5\u6642\u304c\u305a\u308c\u3066\u308b\u306e\u306f\u3054\u611b\u5b0c\u3063\u3066\u3053\u3068\u3067\u30d2\u30c8\u30c4\uff09\n\nActiveGroonga\u3067\u306fActiveRecord\u306e\u3088\u3046\u306a\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3084\u30e2\u30c7\u30eb\u5b9a\u7fa9\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n    $ ./bin/rails g -h\n    (snip)\n    ActiveGroonga:\n      active_groonga:migration\n      active_groonga:model\n    (snip)\n\n\u305d\u308c\u305e\u308c\u4f7f\u3044\u65b9\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n`active_groonga:migration`\uff1a\n\n    $ ./bin/rails g active_groonga:migration -h\n    (snip)\n    Usage:\n      rails generate active_groonga:migration NAME [name:type[:option:option] name:type[:option:option]] [options]\n    \n    Options:\n      [--skip-namespace], [--no-skip-namespace]  # Skip namespace (affects only isolated applications)\n    \n    Runtime options:\n      -f, [--force]                    # Overwrite files that already exist\n      -p, [--pretend], [--no-pretend]  # Run but do not make any changes\n      -q, [--quiet], [--no-quiet]      # Suppress status output\n      -s, [--skip], [--no-skip]        # Skip files that already exist\n    \n    Description:\n        Create active groonga files for migration generator.\n    (snip)\n\n`active_groonga:model`\uff1a\n\n    $ ./bin/rails g active_groonga:model -h\n    (snip)\n    Usage:\n      rails generate active_groonga:model NAME [name:type[:option:option] name:type[:option:option]] [options]\n    \n    Options:\n          [--skip-namespace], [--no-skip-namespace]  # Skip namespace (affects only isolated applications)\n          [--migration], [--no-migration]            # Indicates when to generate migration\n                                                     # Default: true\n          [--timestamps], [--no-timestamps]          # Indicates when to generate timestamps\n                                                     # Default: true\n          [--parent=PARENT]                          # The parent class for the generated model\n      -t, [--test-framework=NAME]                    # Test framework to be invoked\n                                                     # Default: test_unit\n    \n    TestUnit options:\n          [--fixture], [--no-fixture]   # Indicates when to generate fixture\n                                        # Default: true\n      -r, [--fixture-replacement=NAME]  # Fixture replacement to be invoked\n    \n    Runtime options:\n      -f, [--force]                    # Overwrite files that already exist\n      -p, [--pretend], [--no-pretend]  # Run but do not make any changes\n      -q, [--quiet], [--no-quiet]      # Suppress status output\n      -s, [--skip], [--no-skip]        # Skip files that already exist\n    \n    Description:\n        Create active groonga files for model generator.\n    (snip)\n\nRails\u89e6\u308b\u306e\u4e45\u3005\u306a\u3093\u3067\u3001\u3064\u3044\u3067\u306b\u3001\u30e2\u30c7\u30eb\u7528\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u304c\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u304b\u3082\u898b\u3066\u307f\u307e\u3057\u3087\u3046\uff1a\n\n    $ ./bin/rails g model -h\n    (snip)\n    Usage:\n      rails generate model NAME [field[:type][:index] field[:type][:index]] [options]\n    \n    Options:\n          [--skip-namespace], [--no-skip-namespace]  # Skip namespace (affects only isolated applications)\n          [--force-plural], [--no-force-plural]      # Forces the use of the given model name\n      -o, --orm=NAME                                 # Orm to be invoked\n                                                     # Default: active_groonga\n    \n    ActiveGroonga options:\n          [--migration], [--no-migration]    # Indicates when to generate migration\n                                             # Default: true\n          [--timestamps], [--no-timestamps]  # Indicates when to generate timestamps\n                                             # Default: true\n          [--parent=PARENT]                  # The parent class for the generated model\n      -t, [--test-framework=NAME]            # Test framework to be invoked\n                                             # Default: test_unit\n    (snip)\n\n\u3093\uff1f\n\n      -o, --orm=NAME                                 # Orm to be invoked\n                                                     # Default: active_groonga\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u304c`active_groonga`\u306b\u306a\u3063\u3066\u308b\uff01\uff1f\u3000\u30c7\u30d5\u30a9\u30eb\u30c8O/R\u30de\u30c3\u30d1\u30fc\u306e\u4e0a\u66f8\u304d\u306a\u3093\u3066\u3067\u304d\u305f\u3093\u3067\u3059\u306d\u3001\u77e5\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\u306a\u304a\u3001`railtie`\u306e\u8aad\u307f\u8fbc\u307f\u9806\u3092\u5909\u3048\u308b\u3053\u3068\u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u3092`active_record`\u306b\u623b\u305b\u307e\u3059\u3002\n\n```ruby:config/application.rb\n# :\n# :\nrequire \"active_groonga/railtie\"\nrequire \"active_model/railtie\"\n# :\n# :\n```\n\n    $ ./bin/rails g model -h\n    (snip)\n    Usage:\n      rails generate model NAME [field[:type][:index] field[:type][:index]] [options]\n    \n    Options:\n          [--skip-namespace], [--no-skip-namespace]  # Skip namespace (affects only isolated applications)\n          [--force-plural], [--no-force-plural]      # Forces the use of the given model name\n      -o, --orm=NAME                                 # Orm to be invoked\n                                                     # Default: active_record\n    \n    ActiveRecord options:\n          [--migration], [--no-migration]    # Indicates when to generate migration\n                                             # Default: true\n          [--timestamps], [--no-timestamps]  # Indicates when to generate timestamps\n                                             # Default: true\n          [--parent=PARENT]                  # The parent class for the generated model\n          [--indexes], [--no-indexes]        # Add indexes for references and belongs_to columns\n                                             # Default: true\n      -t, [--test-framework=NAME]            # Test framework to be invoked\n                                             # Default: test_unit\n    (snip)\n\n\u4ee5\u5f8c\u306f\u305b\u3063\u304b\u304f\u306a\u3093\u3067\uff08\uff1f\uff09`active_groonga`\u306e\u307b\u3046\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u3057\u3066\u9032\u3081\u307e\u3059\u3002\n\n\u30c7\u30d5\u30a9\u30eb\u30c8O/R\u30de\u30c3\u30d1\u30fc\u304c`active_groonga`\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u5358\u306b`model`\u7528\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u4f7f\u3046\u3060\u3051\u3067\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\n    $ ./bin/rails g model article key:int:hash title:short_text body:long_text\n    (snip)\n          invoke  active_groonga\n          create    db/groonga/migrate/20151003192809_create_articles.rb\n          create    app/models/article.rb\n          invoke    test_unit\n          create      test/models/article_test.rb\n          create      test/fixtures/articles.yml\n    (snip)\n\n\u30c7\u30fc\u30bf\u578b\u304c\u3001ActiveRecord\u306b\u306f\u306a\u3044`short_text`\u3084`long_text`\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u6307\u5b9a\u3067\u304d\u308b\u578b\u306f[Groonga\u306e\u30c7\u30fc\u30bf\u578b][]\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4f7f\u3044\u305f\u3044\u7269\u3092\u9078\u3093\u3067\u3001Ruby\u3089\u3057\u304f\uff08\uff1f\uff09\u30b9\u30cd\u30fc\u30af\u30b1\u30fc\u30b9\u306b\u3057\u307e\u3059\u3002\n\n\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u6240\u3001\u30d8\u30eb\u30d7\u3067\u306f\n\n    field[:type][:index]\n\n\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001`:index`\u306e\u6240\u306b\uff08ActiveRecord\u306e\u3088\u3046\u306b\uff09`index`\u3084`unique`\u3092\u6307\u5b9a\u3057\u3066\u3082\u7121\u8996\u3055\u308c\u307e\u3059\u3002\u8a73\u3057\u304f\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002\n\n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n===============\n\n\u4f55\u306f\u3068\u3082\u3042\u308c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u306a\u3044\u3068\u59cb\u307e\u3089\u306a\u3044\u306e\u3067\u3001\u3055\u3063\u304d\u4f5c\u3063\u305f`articles`\u30c6\u30fc\u30d6\u30eb\u3092\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306f\u3053\u3046\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```ruby:db/groonga/migrate20151003192809_create_articles.rb\nclass CreateArticles < ActiveGroonga::Migration\n  def up\n    create_table(:articles, :type => :hash, :key_type => \"Int32\") do |table|\n      table.short_text(:title)\n      table.long_text(:body)\n      table.timestamps\n    end\n  end\n\n  def down\n    remove_table(:articles)\n  end\nend\n```\n\n\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n    $ ./bin/rake groonga:migrate\n    == 20151003192809 CreateArticles (db/groonga/migrate/20151003192809_create_articles.rb): migrating\n    == 20151003192809 CreateArticles (db/groonga/migrate/20151003192809_create_articles.rb): migrated (0.0001s)\n\n\u3044\u3064\u3082\u901a\u308a\u306e\u624b\u9806\u3067\u3059\u306d\u3002\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306f`db/groonga/development/db`\u306b\u51fa\u6765\u3066\u3044\u307e\u3059\u3002`groonga`\u30b3\u30de\u30f3\u30c9\uff08Groonga\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3064\u3044\u3066\u304d\u307e\u3059\uff09\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308c\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4e2d\u8eab\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002`groonga`\u30b3\u30de\u30f3\u30c9\u306f\u7d50\u679c\u3092JSON\u3067\u8868\u793a\u3059\u308b\u306e\u3067\u3001`jq`\u3067\u898b\u3084\u3059\u304f\u3057\u3066\u3044\u307e\u3059\u3002\n\n    $ groonga db/groonga/development/db table_list | jq .\n    (snip)\n        [\n          258,\n          \"articles\",\n          \"db/groonga/development/db.0000102\",\n          \"TABLE_NO_KEY|PERSISTENT\",\n          \"Int32\",\n          null,\n          null,\n          null\n        ],\n        [\n          256,\n          \"schema_migrations\",\n          \"db/groonga/development/db.0000100\",\n          \"TABLE_HASH_KEY|PERSISTENT\",\n          \"UInt64\",\n          null,\n          null,\n          null\n        ]\n    (snip)\n\n\u4f55\u3068\u306a\u304f\u3067\u3059\u304c\u3001`articles`\u30c6\u30fc\u30d6\u30eb\u306e\u4ed6\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u7ba1\u7406\u7528\u306e\u30c6\u30fc\u30d6\u30eb\u304c\u51fa\u6765\u3066\u3044\u308b\u3053\u3068\u3082\u4f3a\u3048\u307e\u3059\u306d\u3002\n\n\u3055\u3066\u3001Groonga\u3067\u5168\u6587\u691c\u7d22\u3092\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u3053\u3053\u3067\u4f5c\u3063\u305f`articles`\u3060\u3051\u3067\u306a\u304f\u3001\u300c`articles`\u304b\u3089\u5168\u6587\u691c\u7d22\u3092\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u683c\u7d0d\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u300d\u3092\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002RDBMS\u3060\u3063\u305f\u3089\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5f35\u308b\u3088\u3046\u306a\u3082\u306e\u3067\u3059\u304c\u3001Groonga\u3067\u306f\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u305f\u3060\u3001\u899a\u3048\u308b\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3001Groonga\u306b\u89aa\u3057\u3093\u3067\u3044\u306a\u3044\u5834\u5408\u306f\u53d6\u308a\u6562\u3048\u305a\u66f8\u3044\u3066\u3042\u308b\u901a\u308a\u306b\u5b9f\u884c\u3057\u3066\u3001\u6163\u308c\u3066\u304b\u3089\u8abf\u3079\u3066\u307f\u305f\u307b\u3046\u304c\u3044\u3044\u304b\u3082\u77e5\u308c\u307e\u305b\u3093\u3002\n\n\u3053\u306e\u8fba\u306e\u8a71\u3082\u3067\u304d\u308b\u3068\u3088\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u3053\u3053\u307e\u3067\u3067\u65e2\u306b\u3001\u5f53\u521d\u306e\u300c\u3064\u3082\u308a\u300d\u3092\u5927\u5e45\u306b\u8d85\u3048\u3066\u9577\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u5272\u611b\u3057\u307e\u3059\u3002[Groonga\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb][]\u306a\u3069\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u3053\u3067\u306fActiveGroonga\u306e\u3053\u3068\u3060\u3051\u66f8\u304d\u307e\u3059\u3002\n\n\u3053\u306e\u30c6\u30fc\u30d6\u30eb\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u306e\u5f79\u5272\u3057\u304b\u306a\u304f\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306a\u3069\u304b\u3089\u89e6\u308b\u3053\u3068\u306f\u306a\u3044\u306e\u3067\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3060\u3051\u3092\u4f5c\u6210\u3057\u307e\u3059[^\u30e2\u30c7\u30eb\u3068\u3057\u3066\u306e\u8a9e\u5f59\u8868]\u3002\n\u30e2\u30c7\u30eb\u3068\u540c\u3058\u3088\u3046\u306b\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d5\u30a9\u30eb\u30c8O/R\u30de\u30c3\u30d1\u30fc\u3082`active_groonga`\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3044\u3064\u3082\u306eRails\u306e\u624b\u9806\u3067\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n\u2026\u2026\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3067\u306f\u30c6\u30fc\u30d6\u30eb\u306e\u7d30\u304b\u306a\u8a2d\u5b9a\u304c\u3067\u304d\u306a\u3044\u3088\u3046\u306a\u306e\u3067\u3001\u30e2\u30c7\u30eb\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3059\uff08\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u4e8b\u6848\u304b\u306a\u2026\u2026\uff09\u3002\n\n    $ ./bin/rails g model term key:short_text:patricia_trie:normalize:tokenizer:token_mecab articles.body:index:with_section:with_weight:with_position\n    (snip)\n          invoke  active_groonga\n          create    db/groonga/migrate/20151003211724_create_terms.rb\n          create    app/models/term.rb\n          invoke    test_unit\n          create      test/models/term_test.rb\n          create      test/fixtures/terms.yml\n    (snip)\n\n\u306f\u3044\u3001\u3044\u304d\u306a\u308a\u8272\u3005\u51fa\u3066\u6765\u307e\u3057\u305f\u3002\u9806\u756a\u306b\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u3001\u4e00\u822c\u306b\u3001\u30ab\u30e9\u30e0\u306e\u5b9a\u7fa9\u306f`\u30ab\u30e9\u30e0\u540d:\u578b:\u30aa\u30d7\u30b7\u30e7\u30f3:\u30aa\u30d7\u30b7\u30e7\u30f3:\u2026\u2026`\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n`key`\u3068\u3044\u3046\u30ab\u30e9\u30e0\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306fGroonga\u3067\u7279\u5225\u306a\u610f\u5473\u3092\u6301\u3064\u30ab\u30e9\u30e0\u3067\u3059\u3002\u5f37\u3044\u3066ActiveRecord\u306b\u5bfe\u5fdc\u4ed8\u3051\u308b\u3068\u3001`id`\u30ab\u30e9\u30e0\u306b\u5f53\u305f\u308a\u307e\u3059\u3002\u305f\u3060\u3001`key`\u306fGroonga\u306e\u77e5\u8b58\u306a\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002\nActiveGroonga\u306b\u7279\u6709\u306a\u306e\u306f\u3001\u3053\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u4f7f\u3063\u3066\u3001`key`\u30ab\u30e9\u30e0\u3060\u3051\u3067\u306a\u304f\u3001\u30c6\u30fc\u30d6\u30eb\u81ea\u4f53\u306e\u5b9a\u7fa9\u3082\u540c\u6642\u306b\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u3067\u3059\uff08ActiveRecord\u3092\u6a21\u5023\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u7d30\u304b\u306a\u5b9a\u7fa9\u3092\u66f8\u304f\u5834\u6240\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u3057\u3087\u3046\uff09\u3002\n`:`\u3067\u53e5\u5207\u3089\u308c\u305f\u305d\u308c\u305e\u308c\u306e\u9805\u76ee\u304c\u3069\u3046\u3044\u3046\u610f\u5473\u3092\u6301\u3064\u304b\u306f\u3001\u51fa\u6765\u4e0a\u304c\u3063\u305f\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u3092\u898b\u305f\u307b\u3046\u304c\u5206\u304b\u308a\u3084\u3059\u3044\u6c17\u304c\u3057\u307e\u3059\u306d\uff1a\n\n```ruby:db/groonga/migrate/20151003211545_create_terms.rb\nclass CreateTerms < ActiveGroonga::Migration\n  def up\n    create_table(:terms, :type => :patricia_trie, :key_type => \"ShortText\", :key_normalize => true, :default_tokenizer => \"TokenMecab\") do |table|\n      table.index(\"articles.body\", :with_section => true, :with_weight => true, :with_position => true)\n      table.timestamps\n    end\n  end\n\n  def down\n    remove_table(:terms)\n  end\nend\n```\n\n`key`\u30ab\u30e9\u30e0\u3078\u306e\u6307\u5b9a\u304c\u5168\u90e8`create_table`\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n`patricia_trie`\u3068\u304b`normalize`\u3068\u304b\u306e\u7528\u8a9e\u3092\u898b\u4ed8\u3051\u308b\u3068\u3001\u81ea\u52d5\u3067\u300c\u3053\u308c\u306f\u30c6\u30fc\u30d6\u30eb\u306e`type`\u306e\u5b9a\u7fa9\u3060\u306a\u300d\u300c\u3053\u308c\u306f\u30ce\u30fc\u30de\u30e9\u30a4\u30b6\u30fc\u306e\u4f7f\u7528\u306e\u6709\u7121\u3060\u306a\u300d\u3068\u3044\u3063\u305f\u611f\u3058\u3067\u3046\u307e\u3044\u5177\u5408\u306b\u89e3\u91c8\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc\u306e\u6307\u5b9a\u304c\u7279\u6b8a\u3067\u3001`tokenizer`\u3068\u3044\u3046\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u3063\u305f\u3089\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc\u306e\u5b9a\u7fa9\u304c\u59cb\u307e\u308a\u3001\u76f4\u5f8c\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u305d\u306e\u5024\uff08`token_mecab`\uff09\u3068\u3057\u3066\u6271\u308f\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u7d9a\u304f\u30ab\u30e9\u30e0\u5b9a\u7fa9\u3082\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n`articles.body`\u3068\u3044\u3046\u3001`.`\u3092\u542b\u3093\u3060\u30ab\u30e9\u30e0\u540d\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u300c`articles`\u30c6\u30fc\u30d6\u30eb\u306e`body`\u30ab\u30e9\u30e0\u7528\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u308b\u300d\u3068\u3044\u3046Groonga\u72ec\u81ea\u306e\u8a18\u6cd5\u3067\u3059\u3002\n\u305d\u306e\u4ed6\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u578b\u306e\u30ab\u30e9\u30e0\u5c02\u7528\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059\u3002\u305d\u308c\u305e\u308c\u306e\u610f\u5473\u306b\u3064\u3044\u3066\u306fGroonga\u306e\u77e5\u8b58\u306a\u306e\u3067\u3001\u3084\u306f\u308a\u5272\u611b\u3057\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\u3059\u308c\u3070\u3001\u53d6\u308a\u6562\u3048\u305a`Article`\u30e2\u30c7\u30eb\u3092\u4f5c\u3063\u305f\u308a\u3001\u5168\u6587\u691c\u7d22\u3092\u3057\u305f\u308a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n    $ ./bin/rake groonga:migrate\n    == 20151004143850 CreateTerms (db/groonga/migrate/20151004143850_create_terms.rb): migrating \n    == 20151004143850 CreateTerms (db/groonga/migrate/20151004143850_create_terms.rb): migrated (0.0002s) \n\n\u30e2\u30c7\u30eb\u5b9a\u7fa9\n=========\n\n\u30e2\u30c7\u30eb\u306e\u5b9a\u7fa9\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n```ruby:app/models/book.rb\nclass Article < ActiveGroonga::Base\nend\n```\n\n\u306a\u3093\u306e\u5909\u54f2\u3082\u306a\u3044\u30e2\u30c7\u30eb\u3067\u3059\u306d\u3002\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u5c11\u3057\u904a\u3093\u3067\u307f\u307e\u3057\u3087\u3046\u3002\n\n    $ ./bin/rails c\n    >> Article.all.records.size\n    => 0\n    >> a1 = Article.new(key: 1, title: 'article1', body: 'body')\n    => #<Article key: 1, author: nil, body: \"body\", created_at: nil, title: \"article1\", updated_at: nil>\n    >> Article.all.records.size\n    => 0\n    >> a1.save\n    => true\n    >> Article.all.records.size\n    => 1\n    >> a2 = Article.create(key: 2, title: 'article2', body: 'body')\n    => #<Article key: 2, author: nil, body: \"body\", created_at: 2015-10-08 06:08:27 +0900, title: \"article2\", updated_at: 2015-10-08 06:08:27 +0900>\n    >> Article.all.records.size\n    => 2\n    >> a1.body = 'first article'\n    => \"first article\"\n    >> a1.save\n    => true\n    >> Article.all.records.first\n    => #<Groonga::Record:0x007f043c0824f0 @table=#<Groonga::Hash id: <258>, name: <articles>, path: <db/groonga/development/db.0000102>, domain: <Int32>, range: (nil), flags: <>, size: <2>, encoding: <:utf8>, default_tokenizer: (nil), token_filters: [], normalizer: (nil)>, @id=1, @added=false, attributes: {\"_id\"=>1, \"_key\"=>2, \"author\"=>nil, \"body\"=>\"body\", \"created_at\"=>2015-10-08 06:08:27 +0900, \"title\"=>\"article2\", \"updated_at\"=>2015-10-08 06:08:27 +0900}>\n\n\u5168\u4ef6\u306e\u53d6\u5f97\u65b9\u6cd5\u304cActiveRecord\u3068\u9055\u3044\u307e\u3059\u304c\u3001\u6982\u306d\u671f\u5f85\u901a\u308a\u306b\u52d5\u304d\u307e\u3059\u306d\u3002\n\n\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\n==========================\n\n\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3084`before_save`\u306a\u3093\u304b\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3082\u3001ActiveRecord\u540c\u69d8\u306b\u4f7f\u3048\u307e\u3059\u3002\u7279\u306b\u3001Groonga\u306fRDBMS\u307b\u3069\u306e\u69d8\u3005\u306a\u5236\u7d04\uff08NOT NULL\u5236\u7d04\u3084\u30e6\u30cb\u30fc\u30af\u30ad\u30fc\u5236\u7d04\u306a\u3069\uff09\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u5fc5\u8981\u306a\u3089\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5074\u3067\u304d\u3063\u3061\u308a\u5b9a\u7fa9\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n```ruby:app/modeuls/article.rb\nclass Article < ActiveGroonga::Base\n  validates :title, presence: true\nend\n```\n\n\u8a66\u3057\u306b`title`\u3092\u6301\u305f\u306a\u3044\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n    >> a3 = Article.create(key: 3, body: 'body')\n    => #<Article key: 3, author: nil, body: \"body\", created_at: 2015-10-08 06:09:36 +0900, title: \"article 2015-10-08 06:09:36 +0900\", updated_at: 2015-10-08 06:09:36 +0900>\n    >> a3.valid?\n    => false\n    >> a3.save!\n    ActiveGroonga::RecordInvalid: translation missing: en.activegroonga.errors.messages.record_invalid\n        :\n        :\n\n\u3061\u3083\u3093\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3067\u304d\u3066\u3044\u307e\u3059\u306d\u3002\n\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3082\u8a66\u3057\u307e\u3057\u3087\u3046\u3002\n\n```ruby:app/models/article.rb\nclass Article < ActiveGroonga::Base\n  validates :title, presence: true\n\n  before_validation :ensure_title\n\n  private\n\n  def ensure_title\n    return if title\n    self.title = 'article ' + Time.now.to_s\n  end\nend\n```\n\n    >> a4 = Article.create(key: 4, body: 'body')\n    => #<Article key: 4, author: nil, body: \"body\", created_at: 2015-10-08 06:10:18 +0900, title: \"article 2015-10-08 06:10:18 +0900\", updated_at: 2015-10-08 06:10:18 +0900>\n    >> a4.title\n    => \"article 2015-10-08 06:10:18 +0900\"\n\n\u3046\u307e\u304f\u3044\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\n===============\n\nActiveGroonga\u306b\u306fActiveRecord\u306e\u3088\u3046\u306a\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u7528\u30de\u30af\u30ed\uff08`belongs_to`\u306a\u3069\uff09\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n`has_many`\u3068`has_one`\u306b\u3064\u3044\u3066\u306f\u305d\u3046\u3044\u3046\u6a5f\u80fd\u304c\u306a\u3044\u306e\u3067\u5229\u7528\u3067\u304d\u307e\u305b\u3093\uff08\u3068\u3001\u601d\u3046\u2026\u2026\uff09\u3002\n`belogs_to`\u306f\u3001\u30de\u30af\u30ed\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u4f7f\u3048\u307e\u3059\u3002\n\n\u307e\u305a\u3001`Article`\u306e\u6301\u3061\u4e3b\u3067\u3042\u308b`Author`\u7528\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u30e2\u30c7\u30eb\u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\u3002\n\n    $ ./bin/rails g model author name:short_text\n          invoke  active_groonga\n          create    db/groonga/migrate/20151006234946_create_authors.rb\n          create    app/models/author.rb\n          invoke    test_unit\n          create      test/models/author_test.rb\n          create      test/fixtures/authors.yml\n\n\u8457\u8005\u306b\u95a2\u3059\u308b\u691c\u7d22\u6a5f\u80fd\u3092\u4f7f\u3046\u306b\u306f\u3001\u305d\u306e\u305f\u3081\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3082\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u53d6\u308a\u6562\u3048\u305a\u3053\u3053\u3067\u306f\u7f6e\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u6b21\u306b\u3001`articles`\u30c6\u30fc\u30d6\u30eb\u306b\u3001`authors`\u30c6\u30fc\u30d6\u30eb\u3092\u53c2\u7167\u3059\u308b\u30ab\u30e9\u30e0\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n    $ ./bin/rails g migration AddAuthorsToArticles\n          invoke  active_groonga\n          create    db/groonga/migrate/20151007003328_add_authors_to_articles.rb\n\n```ruby:db/groonga/migrate/20151007003328_add_authors_to_articles.rb\nclass AddAuthorsToArticles < ActiveGroonga::Migration\n  def up\n    change_table(:articles) do |table|\n      table.reference :author\n    end\n  end\n\n  def down\n    change_table(:articles) do |table|\n      table.remove_column :author\n    end\n  end\nend\n```\n\n`table.reference`\u304c\u3001\u4ed6\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u53c2\u7167\u3059\u308b\u30ab\u30e9\u30e0\u306e\u578b\u3067\u3059\u3002\n\n\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n    $ ./bin/rake groonga:migrate\n    == 20151006234946 CreateAuthors (db/groonga/migrate/20151006234946_create_authors.rb): migrating\n    == 20151006234946 CreateAuthors (db/groonga/migrate/20151006234946_create_authors.rb): migrated (0.0001s)\n    == 20151007003328 AddAuthorsToArticles (db/groonga/migrate/20151007003328_add_authors_to_articles.rb): migrating\n    == 20151007003328 AddAuthorsToArticles (db/groonga/migrate/20151007003328_add_authors_to_articles.rb): migrated (0.0001s)\n\n\u8a66\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n    >> author1 = Author.create(name: 'author1')\n    => #<Author id: 2, created_at: 2015-10-08 04:44:52 +0900, name: \"author1\", updated_at: 2015-10-08 04:44:52 +0900>\n    >> a4.author = author1\n    => #<Author id: 2, created_at: 2015-10-08 04:44:52 +0900, name: \"author1\", updated_at: 2015-10-08 04:44:52 +0900>\n    >> a4.save!\n    => true\n    >> Article.all.to_a.last.author\n    => #<Author id: 2, created_at: 2015-10-08 04:44:52 +0900, name: \"author1\", updated_at: 2015-10-08 04:44:52 +0900>\n\n\u3061\u3083\u3093\u3068\u53c2\u7167\u3067\u304d\u3066\u3044\u307e\u3059\u3002\n\n\u691c\u7d22\n====\n\nActiveGroonga\u306b\u3082`.find`\u30e1\u30bd\u30c3\u30c9\u306f\u3042\u3063\u3066\u3001ActiveRecord\u540c\u69d8\u306b\u4f7f\u3048\u307e\u3059\u3002\n\n    >> Article.find(1)\n    => #<Article key: 1, author: nil, body: \"first article\", created_at: 2015-10-08 06:09:00 +0900, title: \"article1\", updated_at: 2015-10-08 06:09:00 +0900>\n\n\u304c\u3001Groonga\u306e`id`\uff08`_id`\uff09\u306fActiveRecord\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u8a2d\u5b9a\u3055\u308c\u308b\u30b5\u30ed\u30b2\u30fc\u30c8\u30ad\u30fc\u3068\u306f\u9055\u3046\u7269\u3067\u3059\u3002[Groonga\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e_id\u306e\u8aac\u660e][]\u306b\u3042\u308b\u3088\u3046\u306b\u3001\u5024\u304c\u4f7f\u3044\u56de\u3055\u308c\u308b\u7269\u306a\u306e\u3067\u3001\u4e00\u6642\u7684\u306b\u4f7f\u3046\u5206\u306b\u306f\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001URI\u306a\u3069\u6052\u4e45\u7684\u306a\u6240\u306b\u306f\u4f7f\u308f\u306a\u3044\u307b\u3046\u304c\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nActiveRecord\u306e`id`\u306e\u3088\u3046\u306a\u7528\u9014\u3067\u306f\u3001`key`\u304c\u3044\u3044\u3067\u3057\u3087\u3046\u3002\u305f\u3060\u3001`key`\u3082ActiveRecord\u306e`id`\u3068\u306f\u3060\u3044\u3076\u4f7f\u3044\u52dd\u624b\u304c\u9055\u3044\u307e\u3059\u3002\u6b63\u78ba\u306b\u306f\u3001\u9055\u3046\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u4f5c\u6210\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u306e\u5b9a\u7fa9\u306b\u3088\u3063\u3066`key`\u306e\u6027\u8cea\u304c\u5909\u308f\u308b\u304b\u3089\u3067\u3059\u3002\u5b58\u5728\u3057\u306a\u3044\u3053\u3068\u3082\u3042\u308a\u307e\u3059\u3002[\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u8aac\u660e][]\u306a\u3069\u304c\u53c2\u8003\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u9762\u5012\u304f\u3055\u3044\u3088\u3046\u3067\u3059\u304c\u3001\u305d\u3082\u305d\u3082\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6027\u8cea\u304cActiveRecord\u3068\u306f\u9055\u3046\u306e\u3067\u3001\u4ed5\u65b9\u306e\u306a\u3044\u3068\u3053\u308d\u3067\u3059\u3002\n\nActiveRecord\u306e`find_by`\u3084`where`\u306b\u76f8\u5f53\u3059\u308b\u306e\u306f\u3001`select`\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\n\n    >> articles = Article.select {|article| article.title == 'article1'}\n    => #<ActiveGroonga::ResultSet:0x007f043c003e70 @records=#<Groonga::Hash id: <2147483649>, name: (anonymous), path: (temporary), domain: <articles>, range: (nil), flags: <WITH_SUBREC>, size: <1>, encoding: <:utf8>, default_tokenizer: (nil), token_filters: [], normalizer: (nil)>, @klass=Article(author: authors, body: LongText, created_at: Time, title: ShortText, updated_at: Time), @groups={}, @expression=#<Groonga::Expression\n       :\n       :\n    >> articles.first.title\n    => \"article1\"\n\nActiveGroonga\u306e`Base.select`\u306f\u5185\u90e8\u3067Rroonga\u306e[`Groonga::Table#select`][Groonga::Table#select]\u3092\u547c\u3093\u3067\u3044\u308b\u306e\u3067\u3001\u30d6\u30ed\u30c3\u30af\u306e\u4f7f\u3044\u65b9\u8a73\u7d30\u306f\u305d\u3061\u3089\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\u4ee5\u4e0b\u3067\u4e8c\u3064\u3060\u3051\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\u5168\u6587\u691c\u7d22\n--------\n\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001\u30d6\u30ed\u30c3\u30af\u4e2d\u3067`==`\u3092\u4f7f\u3063\u3066\u304a\u308a\u3001\u3053\u308c\u306f\u5b8c\u5168\u4e00\u81f4\u691c\u7d22\u3092\u5b9f\u884c\u3059\u308b\u306e\u3067\u3059\u304c\u3001\u5168\u6587\u691c\u7d22\u306b\u306f`=~`\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n    >> ['\u3053\u3093\u306b\u3061\u306fGroonga', '\u3053\u3093\u306b\u3061\u306fElasticsearch', '\u3053\u3093\u306b\u3061\u306f\u3088\u3044\u304a\u65e5\u67c4\u3067'].each_with_index do |body, index|\n    ?>   Article.create(key: index + 4, body: body)\n    >> end\n    => [\"\u3053\u3093\u306b\u3061\u306fGroonga\", \"\u3053\u3093\u306b\u3061\u306fElasticsearch\", \"\u3053\u3093\u306b\u3061\u306f\u3088\u3044\u304a\u65e5\u67c4\u3067\"]\n    >> Article.select {|article| article.body =~ '\u3053\u3093\u306b\u3061\u306f'}.to_a\n    => [#<Article key: 4, author: nil, body: \"\u3053\u3093\u306b\u3061\u306fGroonga\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>, #<Article key: 5, author: nil, body: \"\u3053\u3093\u306b\u3061\u306fElasticsearch\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>, #<Article key: 6, author: nil, body: \"\u3053\u3093\u306b\u3061\u306f\u3088\u3044\u304a\u65e5\u67c4\u3067\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>]\n    >> Article.select {|article| article.body =~ '\u65e5\u67c4'}.to_a\n    => [#<Article key: 6, author: nil, body: \"\u3053\u3093\u306b\u3061\u306f\u3088\u3044\u304a\u65e5\u67c4\u3067\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>]\n\n\u3088\u3044\u611f\u3058\u306e\u6c17\u304c\u3057\u307e\u3059\uff01\n\n\u985e\u4f3c\u6587\u66f8\u691c\u7d22\n------------\n\nGroonga\u306b\u306f\u985e\u4f3c\u6587\u66f8\u691c\u7d22\u306e\u6a5f\u80fd\u304c\u3042\u3063\u3066\u3001ActiveGroonga\u3067\u3082\u4f7f\u3048\u307e\u3059\u3002\n\n    >> Article.select {|article| article.body.similar_search '\u3053\u3093\u306b\u3061\u306fActiveGroonga'}.to_a\n    => [#<Article key: 4, author: nil, body: \"\u3053\u3093\u306b\u3061\u306fGroonga\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>, #<Article key: 5, author: nil, body: \"\u3053\u3093\u306b\u3061\u306fElasticsearch\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>, #<Article key: 6, author: nil, body: \"\u3053\u3093\u306b\u3061\u306f\u3088\u3044\u304a\u65e5\u67c4\u3067\", created_at: 2015-10-08 06:21:32 +0900, title: \"article 2015-10-08 06:21:32 +0900\", updated_at: 2015-10-08 06:21:32 +0900>]\n\n\u300c\u3053\u3093\u306b\u3061\u306fActiveGroonga\u300d\u3067\u691c\u7d22\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3068\u4e00\u81f4\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u4f3c\u305f\u611f\u3058\u306e\u300c\u3053\u3093\u306b\u3061\u306f\u301c\u300d\u3068\u3044\u3046\u306e\u304c\u30d2\u30c3\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u7d42\u308f\u308a\u306b\n========\n\n\u306a\u3093\u304b\u5f53\u521d\u8003\u3048\u3066\u3044\u305f\u5341\u500d\u304f\u3089\u3044\u306e\u5206\u91cf\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u304c\u3001\u304a\u5f79\u306b\u7acb\u3066\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\nGroonga\u306f\u3084\u306f\u308aRDBMS\u3068\u306f\u9055\u3046\u306e\u3067\u3001\u3061\u3083\u3093\u3068\u4f7f\u304a\u3046\u3068\u601d\u3046\u3068Groonga\n\u81ea\u4f53\u3092\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001ActiveGroonga\u306f\u3042\u307e\u308a\u77e5\u3089\u306a\u304f\u3066\u3082\u307e\u3042\u307e\u3042\u4f7f\u3048\u308b\u306e\u3067\u3001\u53d6\u308a\u6562\u3048\u305a\u5165\u308c\u3066\u3001\u3042\u3068\u304b\u3089\u6bb5\u3005\u3068\u52c9\u5f37\u3057\u3066\u3044\u304f\u3093\u3067\u3082\u3044\u3044\u3093\u3058\u3083\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u3042\u3068\u3001\u51e6\u7406\u306f\u5927\u90e8\u5206\u3092Rroonga\u306b\u6295\u3052\u3066\u3044\u308b\u306e\u3067\u3001Ruby\u306eAPI\u306f\u305d\u3061\u3089\u3092\u53c2\u7167\u3059\u308b\u3068\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4e2d\u306e\u4eba\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u30a6\u30a7\u30d6\u4e0a\u306e\u8a18\u4e8b\u3084\u81ea\u5206\u3067\u89e6\u3063\u305f\u4f53\u9a13\u3001\u4e2d\u306e\u4eba\u306b\u4f3a\u3063\u305f\u304a\u8a71\u3092\u5143\u306b\u66f8\u3044\u3066\u3044\u307e\u3059\u304c\u3001\u9593\u9055\u3044\u304c\u3042\u308b\u304b\u3082\u77e5\u308c\u307e\u305b\u3093\u3002\u512a\u3057\u3044\u3054\u6307\u6458\u304a\u5f85\u3061\u3057\u3066\u3044\u307e\u3059\u3002\n\n[ActiveGroonga]: https://github.com/ranguba/activegroonga\n[ActiveRecord]: http://railsguides.jp/active_record_basics.html\n[Groonga]: http://groonga.org/ja/\n[^\u30d6\u30ed\u30b0\u306e\u4f3c\u305f\u8a18\u4e8b\u30ea\u30b9\u30c8\u4f5c\u3063\u3066\u307f\u305f]: http://apehuci-kitaitimakoto.sqale.jp/apehuci/?date=20150924\n[^\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u306eGroonga]: \u30b0\u30b0\u3063\u305f\u3089\u8272\u3005\u51fa\u3066\u6765\u307e\u3059\u3002Qiita\u306b\u3082\u305f\u304f\u3055\u3093\u306e\u6295\u7a3f\u304c\u3042\u308a\u307e\u3059\uff1ahttp://qiita.com/tags/groonga\n[ActiveModel]: http://railsguides.jp/active_model_basics.html\n[GQTP]: http://groonga.org/ja/docs/spec/gqtp.html\n[^GQTP]: Groonga Query Transfer Protocol\u3002Groonga\u72ec\u81ea\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u3001HTTP\u3088\u308a\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u5c0f\u3055\u3044\u3002\n[pg]: https://bitbucket.org/ged/ruby-pg/wiki/Home\n[^\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u7d4c\u7531]: \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308c\u3070\u3088\u3055\u305d\u3046\u306a\u306e\u3067\u3001NFS\u3084AFP\u7d4c\u7531\u3067\u30ea\u30e2\u30fc\u30c8\u30b5\u30fc\u30d0\u30fc\u3082\u4f7f\u3048\u308b\u3068\u306f\u601d\u3044\u307e\u3059\u304c\u3002\n[^\u30ea\u30e2\u30fc\u30c8\u30a2\u30af\u30bb\u30b9]: \u30ea\u30e2\u30fc\u30c8\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306b\u306fHTTP\u3084GQTP\u3092\u4f7f\u3063\u305f\u30a2\u30af\u30bb\u30b9\u3068\u30e2\u30c7\u30eb\u3068\u306e\u9593\u306e\u30de\u30c3\u30d1\u30fc\u3092\u81ea\u5206\u3067\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n[mysql2]: https://github.com/brianmario/mysql2\n[sqlite3]: https://github.com/sparklemotion/sqlite3-ruby\n[Elasticsearch]: https://www.elastic.co/jp/\n[elasticsearch-model]: https://github.com/elastic/elasticsearch-rails/tree/master/elasticsearch-model\n[elasticsearch-rails]: https://github.com/elastic/elasticsearch-rails/tree/master/elasticsearch-rails\n[Rroonga]: http://ranguba.org/ja/#about-rroonga\n[Groonga HTTP\u30b5\u30fc\u30d0\u30fc]: http://groonga.org/ja/docs/reference/executables/groonga-server-http.html\n[Mroonga]: http://mroonga.org/ja/\n[PGroonga]: https://github.com/pgroonga/pgroonga\n[^Mroonga]: \u3053\u308c\u3082\u30b0\u30b0\u3063\u305f\u3089\u8272\u3005\u51fa\u3066\u6765\u307e\u3059\u3002Qiita\u306b\u3082\u6295\u7a3f\u304c\u3042\u308a\u307e\u3059\uff1ahttp://qiita.com/tags/mroonga\n[Rroonga\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb]: http://ranguba.org/rroonga/ja/file.install.html\n[Mecab\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc]: http://groonga.org/ja/docs/reference/tokenizers.html#tokenmecab\n[^Mecab\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb]: `$ sudo apt-get install groonga-tokenizer-mecab` \u8a73\u7d30\u306f\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30da\u30fc\u30b8\u306b\u3001Groonga\u305d\u306e\u7269\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3068\u4e00\u7dd2\u306b\u8f09\u3063\u3066\u3044\u307e\u3059\uff1a http://groonga.org/ja/docs/install.html\n[Groonga\u306e\u30c7\u30fc\u30bf\u578b]: http://groonga.org/ja/docs/reference/types.html\n[Groonga\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb]: http://groonga.org/ja/docs/tutorial/introduction.html#create-a-lexicon-table-for-full-text-search\n[^\u30e2\u30c7\u30eb\u3068\u3057\u3066\u306e\u8a9e\u5f59\u8868]: \u30b9\u30c8\u30c3\u30d7\u30ef\u30fc\u30c9\u306e\u7ba1\u7406\u306a\u3069\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u7528\u30c6\u30fc\u30d6\u30eb\uff08\u8a9e\u5f59\u8868\u3068\u547c\u3070\u308c\u307e\u3059\uff09\u3092\u30e2\u30c7\u30eb\u3068\u3057\u3066\u4f7f\u3046\u306e\u304c\u6709\u7528\u306a\u5834\u9762\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u5272\u611b\u3057\u307e\u3059\u3002\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u306e\u306f\u96e3\u3057\u304f\u306a\u3044\u306f\u305a\u3067\u3059\u3002\u30b9\u30c8\u30c3\u30d7\u30ef\u30fc\u30c9\u3068\u304b\u3001\u3069\u306e\u3088\u3046\u306b\u4f7f\u3046\u306e\u304b\u3001\u3068\u3044\u3046\u306e\u306fGroonga\u306e\u77e5\u8b58\u304c\u5fc5\u8981\u306a\u306e\u3067\u5c11\u3057\u8abf\u3079\u3066\u304b\u3089\u8003\u3048\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n[\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30b5\u30f3\u30d7\u30eb]: http://railsguides.jp/active_record_callbacks.html\n[Groonga\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e_id\u306e\u8aac\u660e]: http://groonga.org/ja/docs/reference/columns/pseudo.html?highlight=_id\n[\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u8aac\u660e]: http://groonga.org/ja/docs/reference/tables.html\n[Groonga::Table#select]: http://ranguba.org/rroonga/ja/Groonga/Table.html#select-instance_method\n"}