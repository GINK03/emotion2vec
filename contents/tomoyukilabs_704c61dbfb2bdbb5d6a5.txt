{"context": "Google Cloud Messaging (GCM)(Chrome\u306e\u307f)\u3084Web Push\u6697\u53f7\u5316(Chrome, Firefox)\u3067\u30d6\u30e9\u30a6\u30b6\u306b\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u9001\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u305d\u306e\u30c7\u30d0\u30c3\u30b0\u624b\u6bb5\u306b\u3064\u3044\u3066\u30e1\u30e2\u3092\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\n\nService Worker\u306e\u30c7\u30d0\u30c3\u30b0\n\u65e2\u306b\u591a\u304f\u306e\u8a18\u4e8b\u3067\u66f8\u304b\u308c\u3066\u304a\u308a\u3001\u8a73\u3057\u3044\u8aac\u660e\u304c\u8981\u3089\u306a\u3044\u3088\u3046\u306a\u6c17\u304c\u3057\u307e\u3059\u306e\u3067\u3001\u7c21\u6f54\u306b\u3002\n\nChrome\nchrome://serviceworker-internals\u3092\u958b\u304f\u3068\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307fService Worker\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Service Worker\u81ea\u4f53\u306ffetch\u3084push\u306a\u3069\u306e\u30a4\u30d9\u30f3\u30c8\u767a\u751f\u6642\u306b\u3057\u304b\u8d77\u52d5\u3057\u307e\u305b\u3093\u304c\u3001\u3053\u306e\u30da\u30fc\u30b8\u304b\u3089\u624b\u52d5\u3067Service Worker\u3092[Start]\u30dc\u30bf\u30f3\u3067\u8d77\u52d5\u3057\u3066\u3001[Inspect]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u3001\u958b\u767a\u8005\u30c4\u30fc\u30eb\u3092\u958b\u3044\u3066Service Worker\u306e\u30c7\u30d0\u30c3\u30b0\u3092\u884c\u3046\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u4f8b\u3048\u3070\u3001Service Worker\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u53d7\u4fe1\u3057\u305f\u6642\u306e\u51e6\u7406\u304c\u6b63\u3057\u304f\u547c\u3070\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3001\u7b49\u306e\u30c1\u30a7\u30c3\u30af\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nFirefox (46\u4ee5\u524d)\nabout:serviceworkers\u3092\u958b\u304f\u3068\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307fService Worker\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306eendpoint\u3084\u53d7\u4fe1\u3057\u305f\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u6570\u306a\u3069\u3082\u3053\u3053\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\nChrome\u306e\u3088\u3046\u306b\u3001Service Worker\u81ea\u4f53\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u958b\u304f\u3068\u3044\u3063\u305f\u6a5f\u80fd\u306f\u7528\u610f\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u304c\u3001about:config\u3067\u8a73\u7d30\u8a2d\u5b9a\u3092\u958b\u304d\u3001devtools.browserconsole.filter.serviceworkers\u3068\u3044\u3046\u9805\u76ee\u306e\u5024(Value)\u3092true\u306b\u3057\u3066\u3044\u308b\u3068(\u73fe\u5728\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067true\u306b\u306a\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059)\u3001Service Worker\u306e\u30b9\u30b3\u30fc\u30d7\u5185\u306b\u3042\u308bWeb\u30a2\u30d7\u30ea\u3092\u958b\u3044\u3066\u3044\u308b\u6642\u306b\u3001Service Worker\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u306e\u51fa\u529b\u304cWeb\u30a2\u30d7\u30ea\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u3082\u51fa\u529b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\nFirefox 47+\nFirefox 47\u3067\u306f\u3001\u300cWeb\u958b\u767a\u300d(Mac\u3067\u306f\u300c\u30c4\u30fc\u30eb\u300d\u30e1\u30cb\u30e5\u30fc\u306e\u4e0b)\u306e\u30e1\u30cb\u30e5\u30fc\u306bService Workers\u3068\u3044\u3046\u9805\u76ee\u304c\u8ffd\u52a0\u3055\u308c\u3001Service Worker\u5358\u4f53\u306e\u30c7\u30d0\u30c3\u30b0\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u304b\u3089\u76f4\u63a5\u958b\u304f\u5834\u5408\u306f\u3001about:debugging#workers\u3068\u5165\u529b\u3057\u307e\u3059\u3002\n\nChrome\u306e\u958b\u767a\u8005\u30c4\u30fc\u30eb\u3068\u540c\u69d8\u306b\u3001Start\u30dc\u30bf\u30f3\u3067\u5f85\u6a5f\u4e2d\u306eService Worker\u30b9\u30ec\u30c3\u30c9\u3092\u8d77\u52d5\u72b6\u614b\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u306e\u72b6\u614b\u3067Debug\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001Service Worker\u5358\u4f53\u306e\u30c7\u30d0\u30c3\u30ac\u3068\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001Push\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30d7\u30c3\u30b7\u30e5\u901a\u77e5(push\u30a4\u30d9\u30f3\u30c8)\u306e\u52d5\u4f5c\u30c6\u30b9\u30c8\u3092\u884c\u3048\u307e\u3059\u3002\n\n\n\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u53d7\u4fe1\u78ba\u8a8d\nService Worker\u3067\u306f\u3001\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u304c\u6b63\u5e38\u306b\u53d7\u4fe1\u3067\u304d\u305f\u5834\u5408\u306b\u306e\u307fpush\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u7279\u306b\u3001Web Push\u6697\u53f7\u5316\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u6697\u53f7\u5316\u3055\u308c\u305f\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u304c\u6b63\u5e38\u306b\u5fa9\u5143\u3067\u304d\u305f\u6642\u306b\u3057\u304bpush\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f\u3057\u306a\u3044\u305f\u3081\u3001\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u81ea\u4f53\u306e\u53d7\u4fe1\u306b\u5931\u6557\u3057\u305f\u306e\u304b\u3001\u305d\u308c\u3068\u3082\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u6697\u53f7\u5316\u306b\u554f\u984c\u304c\u3042\u308b\u306e\u304b\u3001\u533a\u5225\u3057\u3065\u3089\u304f\u306a\u308a\u307e\u3059\u3002\nChrome\u3068Firefox\u305d\u308c\u305e\u308c\u306b\u3064\u3044\u3066\u3001\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u81ea\u4f53\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u65b9\u6cd5\u3092\u4ee5\u4e0b\u306b\u6319\u3052\u3066\u304a\u304d\u307e\u3059\u3002\n\nChrome\nchrome://gcm-internals\u3092\u958b\u304f\u3068\u3001\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u8cfc\u8aad\u3084\u53d7\u4fe1\u306a\u3069\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u53d7\u4fe1\u306b\u3064\u3044\u3066\u306f[Start Recording]\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\n\n\u3053\u3053\u3067\u3001Receive Message Log\u306b\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u53d7\u4fe1\u304c\u8a18\u9332\u3055\u308c\u305f\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001Service Worker\u3067push\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f\u3057\u306a\u3044\u5834\u5408\u306f\u3001Web Push\u306e\u6697\u53f7\u5316\u306b\u4f55\u3089\u304b\u306e\u554f\u984c\u304c\u3042\u308b\u3082\u306e\u3068\u8003\u3048\u3089\u308c\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u5fc5\u8981\u306a\u30d8\u30c3\u30c0(Encryption\u3084Crypto-Key\u7b49)\u3084\u6697\u53f7\u5316\u624b\u9806\u3092\u898b\u306a\u304a\u305b\u3070\u3088\u3044\u3001\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\nFirefox\nabout:config\u3092\u958b\u304d\u3001dom.push.loglevel\u306e\u5024\u3092\u5909\u66f4\u3059\u308b\u3068\u3001Firefox\u306e\u52d5\u4f5c\u306e\u30ed\u30b0\u306bPushService\u306e\u30ed\u30b0\u3082\u542b\u307e\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u7248\u306e\u5834\u5408\u306f\u3001\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8(Windows)\u3084\u30bf\u30fc\u30df\u30ca\u30eb(OS X, Linux)\u304b\u3089Firefox\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001Firefox\u306e\u52d5\u4f5c\u30ed\u30b0\u304c\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3084\u30bf\u30fc\u30df\u30ca\u30eb(\u3059\u306a\u308f\u3061stdout\u3084stderr)\u306b\u51fa\u529b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002Android\u7248\u306e\u5834\u5408\u306f\u3001adb\u306elogcat\u306bGecko\u7b49\u306e\u30ed\u30b0\u3068\u3057\u3066\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n\u4f8b\u3048\u3070\u3001OS X\u7248\u306e\u5834\u5408\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089Firefox\u3092\u8d77\u52d5\u3059\u308b\u306b\u306f\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n/Applications/Firefox.app/Contents/MacOS/firefox-bin\n\n\u8a2d\u5b9a\u53ef\u80fd\u306a\u5024\u3068\u3057\u3066\u306ferror, warn, debug\u306a\u3069\u304c\u3042\u308a\u3001\u5024\u306b\u3088\u3063\u3066\u51fa\u529b\u3055\u308c\u308b\u30ed\u30b0\u306e\u8a73\u7d30\u5ea6\u304c\u5909\u308f\u308a\u307e\u3059\u3002(debug\u306b\u3059\u308b\u3068Firefox\u5185\u90e8\u306e\u8a73\u7d30\u306a\u52d5\u4f5c\u307e\u3067\u308f\u304b\u308b\u306e\u3067\u3001Firefox\u3084\u30d7\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306e\u52d5\u4f5c\u304c\u6b63\u3057\u3044\u304b\u3069\u3046\u304b\u306e\u691c\u8a3c\u306b\u3082\u4f7f\u3048\u307e\u3059\u3002[\u53c2\u8003\u8a18\u4e8b])\ndebug\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u975e\u5e38\u306b\u8a73\u7d30\u306a\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u6642\u3001\u89e3\u6790\u304c\u975e\u5e38\u306b\u5384\u4ecb\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u304b\u3089\u30d7\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306b\u9001\u4fe1\u3057\u305f\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u5185\u5bb9\u304c\u3069\u3053\u307e\u3067Firefox\u81ea\u4f53\u306b\u307e\u3067\u4f1d\u308f\u3063\u3066\u3044\u308b\u304b\u3001\u30d8\u30c3\u30c0\u7b49\u3082\u542b\u3081\u3066JSON\u5f62\u5f0f\u3067\u30ed\u30b0\u306b\u8a18\u8ff0\u3055\u308c\u305f\u308a\u3057\u307e\u3059\u3002\u6697\u53f7\u5316\u306b\u30a8\u30e9\u30fc\u304c\u3042\u308b\u5834\u5408\u3082\u660e\u793a\u7684\u306b\u30ed\u30b0\u306b\u66f8\u304b\u308c\u307e\u3059\u306e\u3067\u3001\u8a73\u7d30\u306a\u30c7\u30d0\u30c3\u30b0\u306b\u6709\u7528\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u53d7\u4fe1\u30ed\u30b0\u306e\u4f8b(\u4e00\u90e8\u629c\u7c8b)\nconsole.debug: PushServiceWebSocket: \n  wsOnMessageAvailable()\n  {\"headers\": {\"crypto_key\": \"keyid=p256dh;dh=...\", \"encoding\": \n\"aesgcm128\", \"encryption\": \"keyid=p256dh;salt=...\"}, \"version\": \"...\",\n\"data\": \"...\", \"channelID\": \"...\", \"messageType\": \"notification\"}\n\n\n[Google Cloud Messaging (GCM)](http://qiita.com/tomoyukilabs/items/8fffb4280c1914b6aa3d)(Chrome\u306e\u307f)\u3084[Web Push\u6697\u53f7\u5316](http://qiita.com/tomoyukilabs/items/217915676603fda73b0a)(Chrome, Firefox)\u3067\u30d6\u30e9\u30a6\u30b6\u306b\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u9001\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u305d\u306e\u30c7\u30d0\u30c3\u30b0\u624b\u6bb5\u306b\u3064\u3044\u3066\u30e1\u30e2\u3092\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\n\n# Service Worker\u306e\u30c7\u30d0\u30c3\u30b0\n\n\u65e2\u306b\u591a\u304f\u306e\u8a18\u4e8b\u3067\u66f8\u304b\u308c\u3066\u304a\u308a\u3001\u8a73\u3057\u3044\u8aac\u660e\u304c\u8981\u3089\u306a\u3044\u3088\u3046\u306a\u6c17\u304c\u3057\u307e\u3059\u306e\u3067\u3001\u7c21\u6f54\u306b\u3002\n\n## Chrome\n\n`chrome://serviceworker-internals`\u3092\u958b\u304f\u3068\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307fService Worker\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Service Worker\u81ea\u4f53\u306ffetch\u3084push\u306a\u3069\u306e\u30a4\u30d9\u30f3\u30c8\u767a\u751f\u6642\u306b\u3057\u304b\u8d77\u52d5\u3057\u307e\u305b\u3093\u304c\u3001\u3053\u306e\u30da\u30fc\u30b8\u304b\u3089\u624b\u52d5\u3067Service Worker\u3092[Start]\u30dc\u30bf\u30f3\u3067\u8d77\u52d5\u3057\u3066\u3001[Inspect]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u3001\u958b\u767a\u8005\u30c4\u30fc\u30eb\u3092\u958b\u3044\u3066Service Worker\u306e\u30c7\u30d0\u30c3\u30b0\u3092\u884c\u3046\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n![Screen Shot 2016-03-11 at 9.27.56 .png](https://qiita-image-store.s3.amazonaws.com/0/48556/4aa0d8f0-356a-d420-5e05-be38ab80fb0b.png)\n\n\u4f8b\u3048\u3070\u3001Service Worker\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u53d7\u4fe1\u3057\u305f\u6642\u306e\u51e6\u7406\u304c\u6b63\u3057\u304f\u547c\u3070\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3001\u7b49\u306e\u30c1\u30a7\u30c3\u30af\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n## Firefox (46\u4ee5\u524d)\n\n`about:serviceworkers`\u3092\u958b\u304f\u3068\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307fService Worker\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306eendpoint\u3084\u53d7\u4fe1\u3057\u305f\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u6570\u306a\u3069\u3082\u3053\u3053\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n<img width=\"714\" alt=\"Screen Shot 2016-03-11 at 9.36.55 .png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/48556/eb794e28-5391-8ad7-9538-f1386670c337.png\">\n\nChrome\u306e\u3088\u3046\u306b\u3001Service Worker\u81ea\u4f53\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u958b\u304f\u3068\u3044\u3063\u305f\u6a5f\u80fd\u306f\u7528\u610f\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u304c\u3001`about:config`\u3067\u8a73\u7d30\u8a2d\u5b9a\u3092\u958b\u304d\u3001`devtools.browserconsole.filter.serviceworkers`\u3068\u3044\u3046\u9805\u76ee\u306e\u5024(Value)\u3092`true`\u306b\u3057\u3066\u3044\u308b\u3068(\u73fe\u5728\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067`true`\u306b\u306a\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059)\u3001Service Worker\u306e\u30b9\u30b3\u30fc\u30d7\u5185\u306b\u3042\u308bWeb\u30a2\u30d7\u30ea\u3092\u958b\u3044\u3066\u3044\u308b\u6642\u306b\u3001Service Worker\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u306e\u51fa\u529b\u304cWeb\u30a2\u30d7\u30ea\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u3082\u51fa\u529b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n<img width=\"714\" alt=\"Screen Shot 2016-03-11 at 9.52.07 .png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/48556/cc0f4eb5-b310-82b4-7857-69fc8b1853b5.png\">\n\n## Firefox 47+\n\nFirefox 47\u3067\u306f\u3001\u300cWeb\u958b\u767a\u300d(Mac\u3067\u306f\u300c\u30c4\u30fc\u30eb\u300d\u30e1\u30cb\u30e5\u30fc\u306e\u4e0b)\u306e\u30e1\u30cb\u30e5\u30fc\u306bService Workers\u3068\u3044\u3046\u9805\u76ee\u304c\u8ffd\u52a0\u3055\u308c\u3001[Service Worker\u5358\u4f53\u306e\u30c7\u30d0\u30c3\u30b0\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f](https://hacks.mozilla.org/2016/03/debugging-service-workers-and-push-with-firefox-devtools/)\u3002\u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u304b\u3089\u76f4\u63a5\u958b\u304f\u5834\u5408\u306f\u3001`about:debugging#workers`\u3068\u5165\u529b\u3057\u307e\u3059\u3002\n\n<img width=\"875\" alt=\"Screen Shot 2016-03-25 at 9.17.41 .png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/48556/ad6e33f6-8af6-83d9-39dc-d2d5248f7b0f.png\">\n\nChrome\u306e\u958b\u767a\u8005\u30c4\u30fc\u30eb\u3068\u540c\u69d8\u306b\u3001Start\u30dc\u30bf\u30f3\u3067\u5f85\u6a5f\u4e2d\u306eService Worker\u30b9\u30ec\u30c3\u30c9\u3092\u8d77\u52d5\u72b6\u614b\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u306e\u72b6\u614b\u3067Debug\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001Service Worker\u5358\u4f53\u306e\u30c7\u30d0\u30c3\u30ac\u3068\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001Push\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30d7\u30c3\u30b7\u30e5\u901a\u77e5(`push`\u30a4\u30d9\u30f3\u30c8)\u306e\u52d5\u4f5c\u30c6\u30b9\u30c8\u3092\u884c\u3048\u307e\u3059\u3002\n\n<img width=\"863\" alt=\"Screen Shot 2016-03-25 at 9.26.06 .png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/48556/b4565c1a-3a9a-4166-b0b7-6526e37f258b.png\">\n\n# \u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u53d7\u4fe1\u78ba\u8a8d\n\nService Worker\u3067\u306f\u3001\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u304c\u6b63\u5e38\u306b\u53d7\u4fe1\u3067\u304d\u305f\u5834\u5408\u306b\u306e\u307f`push`\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u7279\u306b\u3001Web Push\u6697\u53f7\u5316\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u6697\u53f7\u5316\u3055\u308c\u305f\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u304c\u6b63\u5e38\u306b\u5fa9\u5143\u3067\u304d\u305f\u6642\u306b\u3057\u304b`push`\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f\u3057\u306a\u3044\u305f\u3081\u3001\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u81ea\u4f53\u306e\u53d7\u4fe1\u306b\u5931\u6557\u3057\u305f\u306e\u304b\u3001\u305d\u308c\u3068\u3082\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u6697\u53f7\u5316\u306b\u554f\u984c\u304c\u3042\u308b\u306e\u304b\u3001\u533a\u5225\u3057\u3065\u3089\u304f\u306a\u308a\u307e\u3059\u3002\n\nChrome\u3068Firefox\u305d\u308c\u305e\u308c\u306b\u3064\u3044\u3066\u3001\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u81ea\u4f53\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u65b9\u6cd5\u3092\u4ee5\u4e0b\u306b\u6319\u3052\u3066\u304a\u304d\u307e\u3059\u3002\n\n## Chrome\n\n`chrome://gcm-internals`\u3092\u958b\u304f\u3068\u3001\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u8cfc\u8aad\u3084\u53d7\u4fe1\u306a\u3069\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u53d7\u4fe1\u306b\u3064\u3044\u3066\u306f[Start Recording]\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\n\n![Screen Shot 2016-03-11 at 9.21.04 .png](https://qiita-image-store.s3.amazonaws.com/0/48556/ae7bb45f-ab01-6eca-cfba-3c8e5f31501a.png)\n\n\u3053\u3053\u3067\u3001Receive Message Log\u306b\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u53d7\u4fe1\u304c\u8a18\u9332\u3055\u308c\u305f\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001Service Worker\u3067`push`\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f\u3057\u306a\u3044\u5834\u5408\u306f\u3001Web Push\u306e\u6697\u53f7\u5316\u306b\u4f55\u3089\u304b\u306e\u554f\u984c\u304c\u3042\u308b\u3082\u306e\u3068\u8003\u3048\u3089\u308c\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u5fc5\u8981\u306a\u30d8\u30c3\u30c0(`Encryption`\u3084`Crypto-Key`\u7b49)\u3084\u6697\u53f7\u5316\u624b\u9806\u3092\u898b\u306a\u304a\u305b\u3070\u3088\u3044\u3001\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n## Firefox\n\n`about:config`\u3092\u958b\u304d\u3001`dom.push.loglevel`\u306e\u5024\u3092\u5909\u66f4\u3059\u308b\u3068\u3001Firefox\u306e\u52d5\u4f5c\u306e\u30ed\u30b0\u306bPushService\u306e\u30ed\u30b0\u3082\u542b\u307e\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u7248\u306e\u5834\u5408\u306f\u3001\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8(Windows)\u3084\u30bf\u30fc\u30df\u30ca\u30eb(OS X, Linux)\u304b\u3089Firefox\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001Firefox\u306e\u52d5\u4f5c\u30ed\u30b0\u304c\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3084\u30bf\u30fc\u30df\u30ca\u30eb(\u3059\u306a\u308f\u3061stdout\u3084stderr)\u306b\u51fa\u529b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002Android\u7248\u306e\u5834\u5408\u306f\u3001adb\u306elogcat\u306bGecko\u7b49\u306e\u30ed\u30b0\u3068\u3057\u3066\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n<img width=\"714\" alt=\"Screen Shot 2016-03-11 at 10.02.58 .png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/48556/7b3a690a-e3c8-796b-c82a-d7ebcf8c42e3.png\">\n\n\u4f8b\u3048\u3070\u3001OS X\u7248\u306e\u5834\u5408\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089Firefox\u3092\u8d77\u52d5\u3059\u308b\u306b\u306f\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```bash\n/Applications/Firefox.app/Contents/MacOS/firefox-bin\n```\n\n\u8a2d\u5b9a\u53ef\u80fd\u306a\u5024\u3068\u3057\u3066\u306f`error`, `warn`, `debug`\u306a\u3069\u304c\u3042\u308a\u3001\u5024\u306b\u3088\u3063\u3066\u51fa\u529b\u3055\u308c\u308b\u30ed\u30b0\u306e\u8a73\u7d30\u5ea6\u304c\u5909\u308f\u308a\u307e\u3059\u3002(`debug`\u306b\u3059\u308b\u3068Firefox\u5185\u90e8\u306e\u8a73\u7d30\u306a\u52d5\u4f5c\u307e\u3067\u308f\u304b\u308b\u306e\u3067\u3001Firefox\u3084\u30d7\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306e\u52d5\u4f5c\u304c\u6b63\u3057\u3044\u304b\u3069\u3046\u304b\u306e\u691c\u8a3c\u306b\u3082\u4f7f\u3048\u307e\u3059\u3002[[\u53c2\u8003\u8a18\u4e8b]](https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSPR/Reference/NSPR_LOG_MODULES))\n\n`debug`\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u975e\u5e38\u306b\u8a73\u7d30\u306a\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u6642\u3001\u89e3\u6790\u304c\u975e\u5e38\u306b\u5384\u4ecb\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u304b\u3089\u30d7\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u306b\u9001\u4fe1\u3057\u305f\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u5185\u5bb9\u304c\u3069\u3053\u307e\u3067Firefox\u81ea\u4f53\u306b\u307e\u3067\u4f1d\u308f\u3063\u3066\u3044\u308b\u304b\u3001\u30d8\u30c3\u30c0\u7b49\u3082\u542b\u3081\u3066JSON\u5f62\u5f0f\u3067\u30ed\u30b0\u306b\u8a18\u8ff0\u3055\u308c\u305f\u308a\u3057\u307e\u3059\u3002\u6697\u53f7\u5316\u306b\u30a8\u30e9\u30fc\u304c\u3042\u308b\u5834\u5408\u3082\u660e\u793a\u7684\u306b\u30ed\u30b0\u306b\u66f8\u304b\u308c\u307e\u3059\u306e\u3067\u3001\u8a73\u7d30\u306a\u30c7\u30d0\u30c3\u30b0\u306b\u6709\u7528\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n```text:\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u53d7\u4fe1\u30ed\u30b0\u306e\u4f8b(\u4e00\u90e8\u629c\u7c8b)\nconsole.debug: PushServiceWebSocket: \n  wsOnMessageAvailable()\n  {\"headers\": {\"crypto_key\": \"keyid=p256dh;dh=...\", \"encoding\": \n\"aesgcm128\", \"encryption\": \"keyid=p256dh;salt=...\"}, \"version\": \"...\",\n\"data\": \"...\", \"channelID\": \"...\", \"messageType\": \"notification\"}\n```\n", "tags": ["Chrome", "firefox", "ServiceWorker", "Push\u901a\u77e5", "WebPush"]}