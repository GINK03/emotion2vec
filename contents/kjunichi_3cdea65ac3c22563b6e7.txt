{"context": " More than 1 year has passed since last update.\n\n.rb\u30d5\u30a1\u30a4\u30eb\u3092mrbc\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\nmrbc\u30b3\u30de\u30f3\u30c9\u3067\u3001ruby\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3001\n\u3053\u308c\u3092C\u8a00\u8a9e\u306euint8_t\u578b\u306e\u914d\u5217\u3068\u3057\u3066\u5ba3\u8a00\u3057\u305f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u51fa\u529b\n\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3002\nmrbc -BcheckFile checkFile.rb\n\ncheckFile.c\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u6765\u308b\u3002\n-o\u3067\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u51fa\u6765\u308b\u3089\u3057\u3044\u3002\n\n\u751f\u6210\u3055\u308c\u305fC\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n/* dumped in little endian order.\n   use `mrbc -E` option for big endian CPU. */\n#include <stdint.h>\nconst uint8_t\n#if defined __GNUC__\n__attribute__((aligned(4)))\n#elif defined _MSC_VER\n__declspec(align(4))\n#endif\ncheckFile[] = {\n0x45,0x54,0x49,//\u4ee5\u4e0b\u7701\u7565\n};\n\n\nC\u8a00\u8a9e\u5074\u3067.rb\u30d5\u30a1\u30a4\u30eb\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u547c\u3073\u51fa\u3059\u306b\u306f\n\nextern const uint8_t checkFile[];\n\nmrb_load_irep(mrb, checkFile);\n\n// \u4ee5\u964d\u306f\u3001.rb\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u306b\u5fdc\u3058\u3066\u9811\u5f35\u308b\u3002\nmrb_value val;\nval = mrb_funcall(mrb, mrb_top_self(mrb), \"checkFile\", 1,\n                    mrb_str_new_cstr(mrb, filepath));\n\n\n\u306a\u3093\u3067\u3053\u3093\u306a\u3053\u3068\u3092\u3059\u308b\u304b\nruby\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u307e\u307e\u3060\u3068\u3001\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3084\u5171\u6709\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u914d\u5e03\u3057\u305f\u969b\u306b\u3001\n\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u3082\u5fc5\u8981\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u304c\u3001mrbc\u3067\u57cb\u3081\u8fbc\u3081\u3070\u3001\u3053\u308c\u3092\u56de\u907f\u3067\u304d\u308b\u3002\n# .rb\u30d5\u30a1\u30a4\u30eb\u3092mrbc\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\n\nmrbc\u30b3\u30de\u30f3\u30c9\u3067\u3001ruby\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3001\n\u3053\u308c\u3092C\u8a00\u8a9e\u306euint8_t\u578b\u306e\u914d\u5217\u3068\u3057\u3066\u5ba3\u8a00\u3057\u305f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u51fa\u529b\n\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3002\n\n```shell-session\nmrbc -BcheckFile checkFile.rb\n```\n\ncheckFile.c\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u6765\u308b\u3002\n-o\u3067\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u51fa\u6765\u308b\u3089\u3057\u3044\u3002\n\n## \u751f\u6210\u3055\u308c\u305fC\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\n```c\n/* dumped in little endian order.\n   use `mrbc -E` option for big endian CPU. */\n#include <stdint.h>\nconst uint8_t\n#if defined __GNUC__\n__attribute__((aligned(4)))\n#elif defined _MSC_VER\n__declspec(align(4))\n#endif\ncheckFile[] = {\n0x45,0x54,0x49,//\u4ee5\u4e0b\u7701\u7565\n};\n```\n\n# C\u8a00\u8a9e\u5074\u3067.rb\u30d5\u30a1\u30a4\u30eb\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u547c\u3073\u51fa\u3059\u306b\u306f\n\n```c\n\nextern const uint8_t checkFile[];\n\nmrb_load_irep(mrb, checkFile);\n\n// \u4ee5\u964d\u306f\u3001.rb\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u306b\u5fdc\u3058\u3066\u9811\u5f35\u308b\u3002\nmrb_value val;\nval = mrb_funcall(mrb, mrb_top_self(mrb), \"checkFile\", 1,\n                    mrb_str_new_cstr(mrb, filepath));\n```\n\n# \u306a\u3093\u3067\u3053\u3093\u306a\u3053\u3068\u3092\u3059\u308b\u304b\n\nruby\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u307e\u307e\u3060\u3068\u3001\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3084\u5171\u6709\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u914d\u5e03\u3057\u305f\u969b\u306b\u3001\n\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u3082\u5fc5\u8981\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u304c\u3001mrbc\u3067\u57cb\u3081\u8fbc\u3081\u3070\u3001\u3053\u308c\u3092\u56de\u907f\u3067\u304d\u308b\u3002\n", "tags": ["mruby"]}