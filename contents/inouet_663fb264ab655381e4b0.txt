{"context": " More than 1 year has passed since last update.http://aws.amazon.com/jp/blogs/aws/dynamodb-update-json-and-more/\nhttps://github.com/aws/aws-sdk-php/releases/tag/2.7.0\n\u65b0\u3057\u304f\u8ffd\u52a0\u3055\u308c\u305f\u578b\n\n\n\n\u30ad\u30fc\u540d\n\u30c7\u30fc\u30bf\u578b\n\u8aac\u660e\n\n\n\n\nL\nList\njson\u306e\u914d\u5217\u306e\u3088\u3046\u306a\u9806\u5e8f\u4ed8\u304d\u306e\u96c6\u5408\n\n\nM\nMap\njson\u306eobject\u306e\u3088\u3046\u306a\u3001\u9806\u5e8f\u3092\u6301\u305f\u306a\u3044key-value\u306e\u30da\u30a2\u306e\u96c6\u5408\n\n\nBOOL\nBoolean\ntrue \u304b false\n\n\nNULL\nNull\n\n\n\n\n\n<?php\nrequire_once 'vendor/autoload.php';\n\nuse Aws\\DynamoDb\\DynamoDbClient;\n\n$dynamo = DynamoDbClient::factory(array(\n    'key'    => AWS_KEY,\n    'secret' => AWS_SECRET,\n    'region' => AWS_REGION,\n));\n$id = (string) time();\n\n$result = $dynamo->putItem(\n                           [\n                            'TableName' => 'new_sdk_test',\n                            'Item'      => [\n                                            'id'         => ['S' => $id],\n                                            'value_list' => ['L' => [['S'=>'Tokyo'], ['S' => 'Kanagawa'], ['S' =>'Saitama']]],\n                                            'value_map'  => ['M' => ['name' => [\"S\" => \"John\"], 'age' => [\"N\" => 20]]],\n                                            'value_bool' => ['BOOL' => true],\n                                            // 'value_null' => ['NULL' => null], // \u306a\u305c\u304b\u30a8\u30e9\u30fc\n                                            ],\n                            'ReturnConsumedCapacity' => 'TOTAL'\n                            ]\n                           );\n\n\n$args = array(\n        'TableName' => 'new_sdk_test',\n        'Key' => array(\n                       'id' => array('S' => $id),\n        ),\n        'ConsistentRead' => true,\n );\n$result = $dynamo->getItem($args);\n\nprint_r($result);\n\n\n\u51fa\u529b\u7d50\u679c\n\nGuzzle\\Service\\Resource\\Model Object\n(\n    [structure:protected] =>\n    [data:protected] => Array\n        (\n            [Item] => Array\n                (\n                    [id] => Array\n                        (\n                            [S] => 1412874519\n                        )\n\n                    [value_map] => Array\n                        (\n                            [M] => Array\n                                (\n                                    [name] => Array\n                                        (\n                                            [S] => John\n                                        )\n\n                                    [age] => Array\n                                        (\n                                            [N] => 20\n                                        )\n\n                                )\n\n                        )\n\n                    [value_bool] => Array\n                        (\n                            [BOOL] => 1\n                        )\n\n                    [value_list] => Array\n                        (\n                            [L] => Array\n                                (\n                                    [0] => Array\n                                        (\n                                            [S] => Tokyo\n                                        )\n\n                                    [1] => Array\n                                        (\n                                            [S] => Kanagawa\n                                        )\n\n                                    [2] => Array\n                                        (\n                                            [S] => Saitama\n                                        )\n\n                                )\n\n                        )\n\n                )\n\n        )\n\n)\n\n\n\u306a\u3093\u304b\u3053\u308c\u3001json \u306a\u306e\u306b\u3001\u3044\u3061\u3044\u3061\u578b\u3092 \"N\" \u3068\u304b \"S\" \u3068\u304b\u6307\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u304c\n\u8d85\u3060\u308b\u3044\u306a\u2026\n\u8fd4\u3063\u3066\u304d\u305f\u5024\u3082json\u3058\u3083\u306a\u3044\u3057\u3002\u30b3\u30ec\u30b8\u30e3\u30ca\u30a4\u611f\u3002\n\n\u88dc\u8db31\uff082014/10/14\uff09\nNULL\u3092\u767b\u9332\u3059\u308b\u306b\u306f\u3001NULL => true \u3068\u3059\u308b\u3068\u767b\u9332\u3067\u304d\u305f\u3002\n\u3053\u308c\u304c\u6b63\u3057\u3044\u6319\u52d5\u306a\u306e\u304b\u306f\u4e0d\u660e\u3002\uff08\u3069\u3053\u304b\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u8a18\u8f09\u3042\u3063\u305f\u3089\u6559\u3048\u3066\u4e0b\u3055\u3044\uff09\n$data = [\n 'TableName' => 'new_sdk_test',\n 'Item'      => [\n                 'id'         => ['S' => $id],\n                 'value_null' => ['NULL' => true]\n                 ],\n 'ReturnConsumedCapacity' => 'TOTAL'\n ];\n\n$result = $dynamo->putItem($data);\n\n\u3061\u306a\u307f\u306b\u3001getItem \u3059\u308b\u3068\u3001\u3000NULL => 1 \u307f\u305f\u3044\u306b\u8fd4\u3063\u3066\u304d\u3066\u3001\u4f55\u3082\u8003\u3048\u305a\u306b\u4f7f\u3046\u3068\u30a2\u30d7\u30ea\u5074\u3067\u610f\u56f3\u3057\u306a\u3044\u30d0\u30b0\u3092\u751f\u307f\u305d\u3046\u306a\u6c17\u304c\u3059\u308b\u3002\n\nhttp://aws.amazon.com/jp/blogs/aws/dynamodb-update-json-and-more/\n\nhttps://github.com/aws/aws-sdk-php/releases/tag/2.7.0\n\n\n\u65b0\u3057\u304f\u8ffd\u52a0\u3055\u308c\u305f\u578b\n\n| \u30ad\u30fc\u540d      | \u30c7\u30fc\u30bf\u578b       | \u8aac\u660e      |\n|:-----------|------------:|:------------:|\n|L           | List \t\t\t|  json\u306e\u914d\u5217\u306e\u3088\u3046\u306a\u9806\u5e8f\u4ed8\u304d\u306e\u96c6\u5408   |\n|M           | Map \t\t\t|  json\u306eobject\u306e\u3088\u3046\u306a\u3001\u9806\u5e8f\u3092\u6301\u305f\u306a\u3044key-value\u306e\u30da\u30a2\u306e\u96c6\u5408    |\n|BOOL        | Boolean \t\t\t|     true \u304b false |\n|NULL        | Null |      |\n\n\n\n```php\n\n<?php\nrequire_once 'vendor/autoload.php';\n\nuse Aws\\DynamoDb\\DynamoDbClient;\n\n$dynamo = DynamoDbClient::factory(array(\n    'key'    => AWS_KEY,\n    'secret' => AWS_SECRET,\n    'region' => AWS_REGION,\n));\n$id = (string) time();\n\n$result = $dynamo->putItem(\n                           [\n                            'TableName' => 'new_sdk_test',\n                            'Item'      => [\n                                            'id'         => ['S' => $id],\n                                            'value_list' => ['L' => [['S'=>'Tokyo'], ['S' => 'Kanagawa'], ['S' =>'Saitama']]],\n                                            'value_map'  => ['M' => ['name' => [\"S\" => \"John\"], 'age' => [\"N\" => 20]]],\n                                            'value_bool' => ['BOOL' => true],\n                                            // 'value_null' => ['NULL' => null], // \u306a\u305c\u304b\u30a8\u30e9\u30fc\n                                            ],\n                            'ReturnConsumedCapacity' => 'TOTAL'\n                            ]\n                           );\n\n\n$args = array(\n        'TableName' => 'new_sdk_test',\n        'Key' => array(\n                       'id' => array('S' => $id),\n        ),\n        'ConsistentRead' => true,\n );\n$result = $dynamo->getItem($args);\n\nprint_r($result);\n\n```\n\n\u51fa\u529b\u7d50\u679c\n\n```\n\nGuzzle\\Service\\Resource\\Model Object\n(\n    [structure:protected] =>\n    [data:protected] => Array\n        (\n            [Item] => Array\n                (\n                    [id] => Array\n                        (\n                            [S] => 1412874519\n                        )\n\n                    [value_map] => Array\n                        (\n                            [M] => Array\n                                (\n                                    [name] => Array\n                                        (\n                                            [S] => John\n                                        )\n\n                                    [age] => Array\n                                        (\n                                            [N] => 20\n                                        )\n\n                                )\n\n                        )\n\n                    [value_bool] => Array\n                        (\n                            [BOOL] => 1\n                        )\n\n                    [value_list] => Array\n                        (\n                            [L] => Array\n                                (\n                                    [0] => Array\n                                        (\n                                            [S] => Tokyo\n                                        )\n\n                                    [1] => Array\n                                        (\n                                            [S] => Kanagawa\n                                        )\n\n                                    [2] => Array\n                                        (\n                                            [S] => Saitama\n                                        )\n\n                                )\n\n                        )\n\n                )\n\n        )\n\n)\n\n```\n\n\u306a\u3093\u304b\u3053\u308c\u3001json \u306a\u306e\u306b\u3001\u3044\u3061\u3044\u3061\u578b\u3092 \"N\" \u3068\u304b \"S\" \u3068\u304b\u6307\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u304c\n\u8d85\u3060\u308b\u3044\u306a\u2026\n\n\u8fd4\u3063\u3066\u304d\u305f\u5024\u3082json\u3058\u3083\u306a\u3044\u3057\u3002\u30b3\u30ec\u30b8\u30e3\u30ca\u30a4\u611f\u3002\n\n## \u88dc\u8db31\uff082014/10/14\uff09\n\nNULL\u3092\u767b\u9332\u3059\u308b\u306b\u306f\u3001NULL => true \u3068\u3059\u308b\u3068\u767b\u9332\u3067\u304d\u305f\u3002\n\u3053\u308c\u304c\u6b63\u3057\u3044\u6319\u52d5\u306a\u306e\u304b\u306f\u4e0d\u660e\u3002\uff08\u3069\u3053\u304b\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u8a18\u8f09\u3042\u3063\u305f\u3089\u6559\u3048\u3066\u4e0b\u3055\u3044\uff09\n\n```\n$data = [\n 'TableName' => 'new_sdk_test',\n 'Item'      => [\n                 'id'         => ['S' => $id],\n                 'value_null' => ['NULL' => true]\n                 ],\n 'ReturnConsumedCapacity' => 'TOTAL'\n ];\n\n$result = $dynamo->putItem($data);\n```\n\n\u3061\u306a\u307f\u306b\u3001getItem \u3059\u308b\u3068\u3001\u3000NULL => 1 \u307f\u305f\u3044\u306b\u8fd4\u3063\u3066\u304d\u3066\u3001\u4f55\u3082\u8003\u3048\u305a\u306b\u4f7f\u3046\u3068\u30a2\u30d7\u30ea\u5074\u3067\u610f\u56f3\u3057\u306a\u3044\u30d0\u30b0\u3092\u751f\u307f\u305d\u3046\u306a\u6c17\u304c\u3059\u308b\u3002\n\n\n", "tags": ["AWS", "DynamoDB", "PHP"]}