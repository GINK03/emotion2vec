{"context": "\n\nmiddleman\u5165\u9580\nmiddleman\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\n\u4e8b\u524d\u6e96\u5099\nAmazon Linux\u306e\u5834\u5408\u3002\n# \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install -y ruby23 ruby23-devel gcc gcc-c++ nginx git\nsudo yum install nodejs --enablerepo=epel\n\n# Ruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u66f4\nsudo update-alternatives --set ruby /usr/bin/ruby2.3\n\n# nginx\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3092\u4f5c\u6210\nsudo mkdir -p /var/www/html\nsudo chmod 777 /var/www/html\nln -s /var/www/html ~/html\n\n# nginx\u306e\u8a2d\u5b9a\nsudo vi /etc/nginx/nginx.conf\n\n# EC2\u8d77\u52d5\u6642\u306bnginx\u3092\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\nsudo chkconfig nginx on\n\n# \u4eca\u3059\u3050nginx\u3092\u8d77\u52d5\nsudo service nginx start\n\n# middleman\u306b\u5fc5\u8981\u306agem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngem install middleman middleman-livereload middleman-compass middleman-syntax redcarpet\n\n\nmiddleman\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u65b0\u898f\u4f5c\u6210\nmkdir m1\ncd m1\nmiddleman init\n# Do you want to use Compass? \u306a\u3069\u3068\u805e\u304b\u308c\u308b\u306e\u3067\u3001\u5168\u3066\u300cy\u300d\u3067\u30a8\u30f3\u30bf\u30fc\u3002\n\n\n\u30d3\u30eb\u30c9\n$ middleman build\n      create  build/stylesheets/site.css\n      create  build/images/middleman-logo.svg\n      create  build/javascripts/all.js\n      create  build/index.html\nProject built successfully.\n\n\u30d3\u30eb\u30c9\u3057\u3066\u3067\u304d\u305fhtml\u3092\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3078\u79fb\u52d5:\n$ mv -vf build/* ~/html/\n\n\u30d6\u30e9\u30a6\u30b6\u3067http://IP\u30a2\u30c9\u30ec\u30b9/\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3061\u3083\u3093\u3068\u8868\u793a\u3055\u308c\u305f\u3089OK\u3002\n\n\u7de8\u96c6\u3057\u3066\u307f\u308b\nsource/index.html.erb\u3001layouts/layout.erb \u3092\u81ea\u7531\u306b\u7de8\u96c6\u3057\u3066\u307f\u3088\u3046\u3002\n\u3053\u308c\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u306ferb\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3060\u3002<%= %>\u3067\u56f2\u307e\u308c\u305f\u90e8\u5206\u306b\u306f\u4efb\u610f\u306eRuby\u306e\u30b3\u30fc\u30c9\u304c\u66f8\u3051\u308b\u305e\u3002\n\u4f8b\u3048\u3070\u3053\u3093\u306a\u3053\u3068\u3082\u3067\u304d\u308b\uff1a\n<%=\nrequire 'net/http'\nNet::HTTP.get('ipinfo.io', '/')\n%>\n\n<pre>\n<%= `ls`.chomp %>\n</pre>\n\n\u7de8\u96c6\u3057\u305f\u3089\u307e\u305f\u30d3\u30eb\u30c9\u3057\u3066mv\u3067~/html\u306b\u914d\u7f6e\u3057\u3066\u307f\u3088\u3046\u3002\n\n\u30ed\u30fc\u30ab\u30eb\u3067\u30b5\u30fc\u30d0\u3092\u7acb\u3061\u4e0a\u3052\u308b\n$ middleman s\n\n\u3067\u30ed\u30fc\u30ab\u30eb\u306bWeb\u30b5\u30fc\u30d0\u304c\u8d77\u52d5\u3057\u3001\u30dd\u30fc\u30c84567\u3067\u5f85\u3061\u53d7\u3051\u308b\u3002\n$ curl http://localhost:4567/\n\n\u30bd\u30fc\u30b9\u3092\u7de8\u96c6\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u53cd\u6620\u3055\u308c\u3066\u3044\u308b\u305e\u3002\nlive-reload\u3068\u3044\u3046\u3001\u30d6\u30e9\u30a6\u30b6\u3092\u81ea\u52d5\u7684\u306b\u30ea\u30ed\u30fc\u30c9\u3059\u308b\u6a5f\u80fd\u307e\u3067\u3064\u3044\u3066\u3044\u308b\u3002\n\n\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u5909\u3048\u3066\u307f\u3088\u3046\nsource/layouts/layout.erb\u3092\u30b3\u30d4\u30fc\u3057\u3066source/layouts/my.erb\u3092\u4f5c\u3063\u3066\u307f\u3088\u3046\u3002\nindex.html.erb\u306e\u5148\u982d\u3067\n---\nlayout: my\n---\n\n\u3068\u66f8\u304f\u3068\u3053\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u304c\u4f7f\u308f\u308c\u308b\u3002\n\nmarkdown\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\nhoge.html.markdown.erb\u3092\u65b0\u898f\u4f5c\u6210\u3057\u3066\u307f\u3088\u3046\u3002\n\u3053\u308c\u306f\u307e\u305aerb\u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u3001\u6b21\u306bmarkdown\u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u308b\u3002\n\nYAML\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\n\u30da\u30fc\u30b8\u5148\u982d\u306e---\u3067\u56f2\u307e\u308c\u305f\u90e8\u5206\u3092Frontmatter\u3068\u3044\u3046\u3002\n\u3053\u306e\u90e8\u5206\u306fYAML\u3067\u4efb\u610f\u306e\u30c7\u30fc\u30bf\u3092\u8a18\u8ff0\u3067\u304d\u308b\u3002\u305d\u3057\u3066Ruby\u304b\u3089current_page.data\u3067\u53c2\u7167\u3067\u304d\u308b\u3002\n---\nlayout: my\nhoge: abc\nmoge: \n  - 11\n  - 22\n  - 33\n---\n\nhoge = <%= current_page.data.hoge %>\nmoge = <%= current_page.data.moge %>\n\nYAML\u306e\u66f8\u304d\u65b9\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\uff1aRubyist Magazine - \u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u306e\u305f\u3081\u306e YAML \u5165\u9580 (\u521d\u7d1a\u7de8)\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30eb\u30fc\u30c8\u306bdata\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u308a\u3001data/fruits.yml\u3092\u4f5c\u3063\u3066\u307f\u3088\u3046\u3002\n\ndata/fruits.yml\n- name: apple\n- name: banana\n\n\n\u3053\u306e\u30c7\u30fc\u30bf\u306f\n<% data.fruits.each do |fruit| %>\n- <%= fruit.name %>\n<% end %>\n\n\u306e\u3088\u3046\u306b\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002\n\u8907\u6570\u306e\u30da\u30fc\u30b8\u3067\u5171\u901a\u306b\u4f7f\u3046\u30c7\u30fc\u30bf\u306f\u3053\u306e\u65b9\u5f0f\u3067\u4fdd\u5b58\u3057\u3088\u3046\u3002\n\u3061\u306a\u307f\u306bYAML\u306e\u4ee3\u308f\u308a\u306bJSON\u3092\u4f7f\u3046\u3053\u3068\u3082\u3067\u304d\u308b\u3002\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3057\u3066\u307f\u3088\u3046\n\u3053\u308c\u3092Gemfile\u306e\u672b\u5c3e\u306b\u8ffd\u8a18\uff1a\ngem 'middleman-syntax'\ngem 'redcarpet'\n\n\u3053\u308c\u3092config.rb\u306e\u672b\u5c3e\u306b\u8ffd\u8a18\uff1a\nset :markdown_engine, :redcarpet\nset :markdown, :fenced_code_blocks => true, :smartypants => true, :with_toc_data => true, :tables => true, :autolink => true, :gh_blockcode => true\nactivate :syntax\n\n\u3053\u308c\u3092index.html.erb\u306b\u8ffd\u8a18\uff1a\n<style>\n<%= Rouge::Themes::ThankfulEyes.render(:scope => '.highlight') %>\n</style>\n\n<% code(\"ruby\") do %>\ndef my_cool_method(message)\n  puts message\nend\n<% end %>\n\n\u521d\u3081\u3066\u306eMiddleman\uff1aMiddleman-Syntax\u3092\u4f7f\u3063\u305f\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\n\u4f7f\u3048\u308b\u8a00\u8a9e\u306e\u4e00\u89a7\n# middleman\u5165\u9580\n\n[middleman\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://middlemanapp.com/jp/basics/start_new_site/)\n\n## \u4e8b\u524d\u6e96\u5099\n\nAmazon Linux\u306e\u5834\u5408\u3002\n\n```\n# \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install -y ruby23 ruby23-devel gcc gcc-c++ nginx git\nsudo yum install nodejs --enablerepo=epel\n\n# Ruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u66f4\nsudo update-alternatives --set ruby /usr/bin/ruby2.3\n\n# nginx\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3092\u4f5c\u6210\nsudo mkdir -p /var/www/html\nsudo chmod 777 /var/www/html\nln -s /var/www/html ~/html\n\n# nginx\u306e\u8a2d\u5b9a\nsudo vi /etc/nginx/nginx.conf\n\n# EC2\u8d77\u52d5\u6642\u306bnginx\u3092\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\nsudo chkconfig nginx on\n\n# \u4eca\u3059\u3050nginx\u3092\u8d77\u52d5\nsudo service nginx start\n\n# middleman\u306b\u5fc5\u8981\u306agem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngem install middleman middleman-livereload middleman-compass middleman-syntax redcarpet\n```\n\n\n## middleman\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u65b0\u898f\u4f5c\u6210\n\n```\nmkdir m1\ncd m1\nmiddleman init\n# Do you want to use Compass? \u306a\u3069\u3068\u805e\u304b\u308c\u308b\u306e\u3067\u3001\u5168\u3066\u300cy\u300d\u3067\u30a8\u30f3\u30bf\u30fc\u3002\n```\n\n\n## \u30d3\u30eb\u30c9\n\n```\n$ middleman build\n      create  build/stylesheets/site.css\n      create  build/images/middleman-logo.svg\n      create  build/javascripts/all.js\n      create  build/index.html\nProject built successfully.\n```\n\n\u30d3\u30eb\u30c9\u3057\u3066\u3067\u304d\u305fhtml\u3092\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3078\u79fb\u52d5:\n\n```\n$ mv -vf build/* ~/html/\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067`http://IP\u30a2\u30c9\u30ec\u30b9/`\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3061\u3083\u3093\u3068\u8868\u793a\u3055\u308c\u305f\u3089OK\u3002\n\n\n## \u7de8\u96c6\u3057\u3066\u307f\u308b\n\n`source/index.html.erb`\u3001`layouts/layout.erb` \u3092\u81ea\u7531\u306b\u7de8\u96c6\u3057\u3066\u307f\u3088\u3046\u3002\n\n\u3053\u308c\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u306ferb\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3060\u3002`<%= %>`\u3067\u56f2\u307e\u308c\u305f\u90e8\u5206\u306b\u306f\u4efb\u610f\u306eRuby\u306e\u30b3\u30fc\u30c9\u304c\u66f8\u3051\u308b\u305e\u3002\n\n\u4f8b\u3048\u3070\u3053\u3093\u306a\u3053\u3068\u3082\u3067\u304d\u308b\uff1a\n\n```\n<%=\nrequire 'net/http'\nNet::HTTP.get('ipinfo.io', '/')\n%>\n```\n\n```\n<pre>\n<%= `ls`.chomp %>\n</pre>\n```\n\n\u7de8\u96c6\u3057\u305f\u3089\u307e\u305f\u30d3\u30eb\u30c9\u3057\u3066mv\u3067~/html\u306b\u914d\u7f6e\u3057\u3066\u307f\u3088\u3046\u3002\n\n\n## \u30ed\u30fc\u30ab\u30eb\u3067\u30b5\u30fc\u30d0\u3092\u7acb\u3061\u4e0a\u3052\u308b\n\n```\n$ middleman s\n```\n\n\u3067\u30ed\u30fc\u30ab\u30eb\u306bWeb\u30b5\u30fc\u30d0\u304c\u8d77\u52d5\u3057\u3001\u30dd\u30fc\u30c84567\u3067\u5f85\u3061\u53d7\u3051\u308b\u3002\n\n```\n$ curl http://localhost:4567/\n```\n\n\u30bd\u30fc\u30b9\u3092\u7de8\u96c6\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u53cd\u6620\u3055\u308c\u3066\u3044\u308b\u305e\u3002\n\nlive-reload\u3068\u3044\u3046\u3001\u30d6\u30e9\u30a6\u30b6\u3092\u81ea\u52d5\u7684\u306b\u30ea\u30ed\u30fc\u30c9\u3059\u308b\u6a5f\u80fd\u307e\u3067\u3064\u3044\u3066\u3044\u308b\u3002\n\n\n## \u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u5909\u3048\u3066\u307f\u3088\u3046\n\n`source/layouts/layout.erb`\u3092\u30b3\u30d4\u30fc\u3057\u3066`source/layouts/my.erb`\u3092\u4f5c\u3063\u3066\u307f\u3088\u3046\u3002\n\n`index.html.erb`\u306e\u5148\u982d\u3067\n\n```\n---\nlayout: my\n---\n```\n\n\u3068\u66f8\u304f\u3068\u3053\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u304c\u4f7f\u308f\u308c\u308b\u3002\n\n## markdown\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\n\n`hoge.html.markdown.erb`\u3092\u65b0\u898f\u4f5c\u6210\u3057\u3066\u307f\u3088\u3046\u3002\n\u3053\u308c\u306f\u307e\u305aerb\u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u3001\u6b21\u306bmarkdown\u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u308b\u3002\n\n## YAML\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\n\n\u30da\u30fc\u30b8\u5148\u982d\u306e`---`\u3067\u56f2\u307e\u308c\u305f\u90e8\u5206\u3092Frontmatter\u3068\u3044\u3046\u3002\n\u3053\u306e\u90e8\u5206\u306fYAML\u3067\u4efb\u610f\u306e\u30c7\u30fc\u30bf\u3092\u8a18\u8ff0\u3067\u304d\u308b\u3002\u305d\u3057\u3066Ruby\u304b\u3089`current_page.data`\u3067\u53c2\u7167\u3067\u304d\u308b\u3002\n\n```\n---\nlayout: my\nhoge: abc\nmoge: \n  - 11\n  - 22\n  - 33\n---\n\nhoge = <%= current_page.data.hoge %>\nmoge = <%= current_page.data.moge %>\n```\n\nYAML\u306e\u66f8\u304d\u65b9\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\uff1a[Rubyist Magazine - \u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u306e\u305f\u3081\u306e YAML \u5165\u9580 (\u521d\u7d1a\u7de8)](http://magazine.rubyist.net/?0009-YAML#l3)\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30eb\u30fc\u30c8\u306b`data`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u308a\u3001`data/fruits.yml`\u3092\u4f5c\u3063\u3066\u307f\u3088\u3046\u3002\n\n```data/fruits.yml\n- name: apple\n- name: banana\n```\n\n\u3053\u306e\u30c7\u30fc\u30bf\u306f\n\n```\n<% data.fruits.each do |fruit| %>\n- <%= fruit.name %>\n<% end %>\n```\n\n\u306e\u3088\u3046\u306b\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002\n\u8907\u6570\u306e\u30da\u30fc\u30b8\u3067\u5171\u901a\u306b\u4f7f\u3046\u30c7\u30fc\u30bf\u306f\u3053\u306e\u65b9\u5f0f\u3067\u4fdd\u5b58\u3057\u3088\u3046\u3002\n\u3061\u306a\u307f\u306bYAML\u306e\u4ee3\u308f\u308a\u306bJSON\u3092\u4f7f\u3046\u3053\u3068\u3082\u3067\u304d\u308b\u3002\n\n\n## \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3057\u3066\u307f\u3088\u3046\n\n\u3053\u308c\u3092`Gemfile`\u306e\u672b\u5c3e\u306b\u8ffd\u8a18\uff1a\n\n```\ngem 'middleman-syntax'\ngem 'redcarpet'\n```\n\n\u3053\u308c\u3092`config.rb`\u306e\u672b\u5c3e\u306b\u8ffd\u8a18\uff1a\n\n```\nset :markdown_engine, :redcarpet\nset :markdown, :fenced_code_blocks => true, :smartypants => true, :with_toc_data => true, :tables => true, :autolink => true, :gh_blockcode => true\nactivate :syntax\n```\n\n\u3053\u308c\u3092`index.html.erb`\u306b\u8ffd\u8a18\uff1a\n\n```\n<style>\n<%= Rouge::Themes::ThankfulEyes.render(:scope => '.highlight') %>\n</style>\n\n<% code(\"ruby\") do %>\ndef my_cool_method(message)\n  puts message\nend\n<% end %>\n```\n\n[\u521d\u3081\u3066\u306eMiddleman\uff1aMiddleman-Syntax\u3092\u4f7f\u3063\u305f\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8](http://whiskers.nukos.kitchen/2015/03/21/middleman-syntax-syntaxhighlight.html)\n[\u4f7f\u3048\u308b\u8a00\u8a9e\u306e\u4e00\u89a7](\nhttps://github.com/jneen/rouge/tree/master/lib/rouge/lexers)\n", "tags": ["middleman"]}