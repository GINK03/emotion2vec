{"tags": ["Unity", "UnityEditor", "\u30a8\u30c7\u30a3\u30bf\u30fc\u62e1\u5f35", "Unity\u30a8\u30c7\u30a3\u30bf\u30fc\u62e1\u5f35", "C#"], "context": " More than 1 year has passed since last update.\u30d5\u30a1\u30a4\u30eb\u30921\u3064\u4e0a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\u3055\u305b\u308b\u306e\u304c\u3081\u3093\u3069\u304f\u3055\u304b\u3063\u305f\u306e\u3067\u4f5c\u308a\u307e\u3057\u305f\u3002\n\u30d5\u30a1\u30a4\u30eb\u9078\u629e\u3000\u2192\u3000\u53f3\u30af\u30ea\u30c3\u30af\u3000\u2192\u3000\u300c\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\u300d\u3092\u9078\u629e\n\n1\u3064\u4e0a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u30d5\u30a1\u30a4\u30eb\u304c\u79fb\u52d5\u3057\u307e\u3059\u3002\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\nAssetHelper.cs\nusing UnityEngine;\nusing UnityEditor;\n\npublic class AssetHelper\n{\n    [MenuItem(\"Assets/\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\", true)]\n    static public bool ChkSelectAsset()\n    {\n        //\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\n        string path = AssetDatabase.GetAssetPath(Selection.activeObject);\n\n        //\u30d5\u30a1\u30a4\u30eb\u62e1\u5f35\u5b50\n        string extension = System.IO.Path.GetExtension(path);\n\n        return extension != \"\";\n    }\n\n    [MenuItem(\"Assets/\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\")]\n    static public void MoveAssetToParent()\n    {\n        Object obj = Selection.activeObject;\n\n        //\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\n        string path = AssetDatabase.GetAssetPath(obj);\n\n        //\u79fb\u52d5\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n        string dir = GetParentDirectory(path, 2);\n\n        MoveAssetsToDirectory(Selection.objects, dir);\n    }\n    static string GetParentDirectory(string filepath, int n = 1)\n    {\n        string dir = filepath;\n        for (int i = 0; i < n; i++)\n        {\n            dir = System.IO.Directory.GetParent(dir).FullName;\n        }\n        return ConvertSystemPathToUnityPath(dir);\n    }\n\n    public static string ConvertSystemPathToUnityPath(string path)\n    {\n        int index = path.IndexOf(\"Assets\");\n        if (index > 0)\n        {\n            path = path.Remove(0, index);\n        }\n        return path;\n    }\n\n    static private void MoveAssetsToDirectory(Object[] objects, string dir)\n    {\n        foreach (Object o in Selection.objects)\n        {\n            string path = AssetDatabase.GetAssetPath(o);\n            string extension = System.IO.Path.GetExtension(path);\n            AssetDatabase.MoveAsset(path, dir + \"/\" + o.name + extension);\n        }\n    }\n}\n\n\n\u30d5\u30a1\u30a4\u30eb\u30921\u3064\u4e0a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\u3055\u305b\u308b\u306e\u304c\u3081\u3093\u3069\u304f\u3055\u304b\u3063\u305f\u306e\u3067\u4f5c\u308a\u307e\u3057\u305f\u3002\n\n\u30d5\u30a1\u30a4\u30eb\u9078\u629e\u3000\u2192\u3000\u53f3\u30af\u30ea\u30c3\u30af\u3000\u2192\u3000\u300c\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\u300d\u3092\u9078\u629e\n![image](https://qiita-image-store.s3.amazonaws.com/0/44288/346044b1-4d1d-d1a7-7199-b2046ec77ff3.png)\n\n1\u3064\u4e0a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u30d5\u30a1\u30a4\u30eb\u304c\u79fb\u52d5\u3057\u307e\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/44288/da84d72a-2bd6-5d2e-1a13-97d120f4b372.png)\n\n\n#\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n```AssetHelper.cs\nusing UnityEngine;\nusing UnityEditor;\n\npublic class AssetHelper\n{\n    [MenuItem(\"Assets/\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\", true)]\n    static public bool ChkSelectAsset()\n    {\n        //\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\n        string path = AssetDatabase.GetAssetPath(Selection.activeObject);\n\n        //\u30d5\u30a1\u30a4\u30eb\u62e1\u5f35\u5b50\n        string extension = System.IO.Path.GetExtension(path);\n\n        return extension != \"\";\n    }\n\n    [MenuItem(\"Assets/\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\")]\n    static public void MoveAssetToParent()\n    {\n        Object obj = Selection.activeObject;\n\n        //\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\n        string path = AssetDatabase.GetAssetPath(obj);\n\n        //\u79fb\u52d5\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n        string dir = GetParentDirectory(path, 2);\n\n        MoveAssetsToDirectory(Selection.objects, dir);\n    }\n    static string GetParentDirectory(string filepath, int n = 1)\n    {\n        string dir = filepath;\n        for (int i = 0; i < n; i++)\n        {\n            dir = System.IO.Directory.GetParent(dir).FullName;\n        }\n        return ConvertSystemPathToUnityPath(dir);\n    }\n\n    public static string ConvertSystemPathToUnityPath(string path)\n    {\n        int index = path.IndexOf(\"Assets\");\n        if (index > 0)\n        {\n            path = path.Remove(0, index);\n        }\n        return path;\n    }\n\n    static private void MoveAssetsToDirectory(Object[] objects, string dir)\n    {\n        foreach (Object o in Selection.objects)\n        {\n            string path = AssetDatabase.GetAssetPath(o);\n            string extension = System.IO.Path.GetExtension(path);\n            AssetDatabase.MoveAsset(path, dir + \"/\" + o.name + extension);\n        }\n    }\n}\n```\n"}