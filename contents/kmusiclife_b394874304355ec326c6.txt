{"tags": ["nginx", "Debian6"], "context": " More than 1 year has passed since last update.nginx\u3092debian6\u74b0\u5883\u4e0b\u3067SPDY\u4ed8\u304d\u3067\u30ad\u30ec\u30a4\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u307e\u3068\u3081\u3067\u3059\u3002\u30b3\u30d4\u30fc\u30fb\u30da\u30fc\u30b9\u30c8\u3060\u3051\u3067\u3082\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3042\u308b\u7a0b\u5ea6\u7406\u89e3\u3057\u3066\u304b\u3089\u305d\u306e\u624b\u6bb5\u306b\u51fa\u3066\u6b32\u3057\u3044\u306e\u3068\u3001\u6700\u65b0\u7248\u3092\u3057\u3063\u304b\u308a\u3068\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4e0b\u8a18\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u73fe\u6642\u70b9\u3067\u306e\u6700\u65b0\u7248\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u554f\u984c\u306e\u3042\u3063\u305fopenssl heartbeat\u3067\u3059\u304copenssl-1.0.1c.tar.gz\u3067\u306f\u554f\u984c\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n# apt-get install libpcre3 libpcre3-dev libpcrecpp0 libssl-dev zlib1g-dev\n# cd /usr/local/src\n# wget http://nginx.org/download/nginx-1.7.0.tar.gz\n# wget http://www.openssl.org/source/openssl-1.0.1c.tar.gz\n# tar zxvf nginx-1.5.5.tar.gz\n# tar zxvf openssl-1.0.1g.tar.gz\n# cd nginx-1.5.5\n# ./configure --with-openssl=/usr/local/src/openssl-1.0.1g  --with-http_ssl_module --with-http_spdy_module\n# make\n# make install\n\n/usr/local/nginx \u306bnginx\u306e\u3059\u3079\u3066\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5834\u6240\u3092\u5909\u3048\u305f\u3044\u5834\u5408\u306f\u2013prefix\u306a\u3069\u3092configure\u3067\u5909\u3048\u3066\u3042\u3052\u3066\u304f\u3060\u3055\u3044\u3002\n\u8d77\u52d5\u7528\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4e0b\u8a18\u306e\u901a\u308a\n\u203b nginx.conf \u306a\u3069\u3067 pid\u30d5\u30a1\u30a4\u30eb\u3092 /var/run/nginx.pid \u3068\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002pid\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u306a\u3044\u3068nginx stop\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002\n\n/etc/init.d/nginx\n#! /bin/sh\n\n### BEGIN INIT INFO\n# Provides:          nginx\n# Required-Start:    $all\n# Required-Stop:     $all\n# Default-Start:     2 3 4 5\n# Default-Stop:      0 1 6\n# Short-Description: starts the nginx web server\n# Description:       starts nginx using start-stop-daemon\n### END INIT INFO\n\nPATH=/usr/local/nginx/sbin:/usr/local/nginx/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin\nDAEMON=/usr/local/nginx/sbin/nginx\nNAME=nginx\nDESC=nginx\n\ntest -x $DAEMON || exit 0\n\n# Include nginx defaults if available\nif [ -f /etc/default/nginx ] ; then\n        . /etc/default/nginx\nfi\n\nset -e\n\ncase \"$1\" in\n  start)\n        echo -n \"Starting $DESC: \"\n        start-stop-daemon --start --quiet --pidfile /var/run/$NAME.pid \\\n                --exec $DAEMON -- $DAEMON_OPTS || true\n        echo \"$NAME.\"\n        ;;\n  stop)\n        echo -n \"Stopping $DESC: \"\n        start-stop-daemon --stop --quiet --pidfile /var/run/$NAME.pid \\\n                --exec $DAEMON || true\n        echo \"$NAME.\"\n        ;;\n  restart|force-reload)\n        echo -n \"Restarting $DESC: \"\n        start-stop-daemon --stop --quiet --pidfile \\\n                /var/run/$NAME.pid --exec $DAEMON || true\n        sleep 1\n        start-stop-daemon --start --quiet --pidfile \\\n                /var/run/$NAME.pid --exec $DAEMON -- $DAEMON_OPTS || true\n        echo \"$NAME.\"\n        ;;\n  reload)\n      echo -n \"Reloading $DESC configuration: \"\n      start-stop-daemon --stop --signal HUP --quiet --pidfile /var/run/$NAME.pid \\\n          --exec $DAEMON || true\n      echo \"$NAME.\"\n      ;;\n  *)\n        N=/etc/init.d/$NAME\n        echo \"Usage: $N {start|stop|restart|reload|force-reload}\" >&2\n        exit 1\n        ;;\nesac\nexit 0\n\n\nnginx\u3092debian6\u74b0\u5883\u4e0b\u3067SPDY\u4ed8\u304d\u3067\u30ad\u30ec\u30a4\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u307e\u3068\u3081\u3067\u3059\u3002\u30b3\u30d4\u30fc\u30fb\u30da\u30fc\u30b9\u30c8\u3060\u3051\u3067\u3082\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3042\u308b\u7a0b\u5ea6\u7406\u89e3\u3057\u3066\u304b\u3089\u305d\u306e\u624b\u6bb5\u306b\u51fa\u3066\u6b32\u3057\u3044\u306e\u3068\u3001\u6700\u65b0\u7248\u3092\u3057\u3063\u304b\u308a\u3068\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4e0b\u8a18\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u73fe\u6642\u70b9\u3067\u306e\u6700\u65b0\u7248\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u554f\u984c\u306e\u3042\u3063\u305fopenssl heartbeat\u3067\u3059\u304copenssl-1.0.1c.tar.gz\u3067\u306f\u554f\u984c\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n```yaml\n# apt-get install libpcre3 libpcre3-dev libpcrecpp0 libssl-dev zlib1g-dev\n# cd /usr/local/src\n# wget http://nginx.org/download/nginx-1.7.0.tar.gz\n# wget http://www.openssl.org/source/openssl-1.0.1c.tar.gz\n# tar zxvf nginx-1.5.5.tar.gz\n# tar zxvf openssl-1.0.1g.tar.gz\n# cd nginx-1.5.5\n# ./configure --with-openssl=/usr/local/src/openssl-1.0.1g  --with-http_ssl_module --with-http_spdy_module\n# make\n# make install\n```\n\n/usr/local/nginx \u306bnginx\u306e\u3059\u3079\u3066\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5834\u6240\u3092\u5909\u3048\u305f\u3044\u5834\u5408\u306f\u2013prefix\u306a\u3069\u3092configure\u3067\u5909\u3048\u3066\u3042\u3052\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u8d77\u52d5\u7528\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4e0b\u8a18\u306e\u901a\u308a\n\u203b nginx.conf \u306a\u3069\u3067 pid\u30d5\u30a1\u30a4\u30eb\u3092 /var/run/nginx.pid \u3068\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002pid\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u306a\u3044\u3068nginx stop\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002\n\n```zsh:/etc/init.d/nginx\n#! /bin/sh\n\n### BEGIN INIT INFO\n# Provides:          nginx\n# Required-Start:    $all\n# Required-Stop:     $all\n# Default-Start:     2 3 4 5\n# Default-Stop:      0 1 6\n# Short-Description: starts the nginx web server\n# Description:       starts nginx using start-stop-daemon\n### END INIT INFO\n\nPATH=/usr/local/nginx/sbin:/usr/local/nginx/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin\nDAEMON=/usr/local/nginx/sbin/nginx\nNAME=nginx\nDESC=nginx\n\ntest -x $DAEMON || exit 0\n\n# Include nginx defaults if available\nif [ -f /etc/default/nginx ] ; then\n        . /etc/default/nginx\nfi\n\nset -e\n\ncase \"$1\" in\n  start)\n        echo -n \"Starting $DESC: \"\n        start-stop-daemon --start --quiet --pidfile /var/run/$NAME.pid \\\n                --exec $DAEMON -- $DAEMON_OPTS || true\n        echo \"$NAME.\"\n        ;;\n  stop)\n        echo -n \"Stopping $DESC: \"\n        start-stop-daemon --stop --quiet --pidfile /var/run/$NAME.pid \\\n                --exec $DAEMON || true\n        echo \"$NAME.\"\n        ;;\n  restart|force-reload)\n        echo -n \"Restarting $DESC: \"\n        start-stop-daemon --stop --quiet --pidfile \\\n                /var/run/$NAME.pid --exec $DAEMON || true\n        sleep 1\n        start-stop-daemon --start --quiet --pidfile \\\n                /var/run/$NAME.pid --exec $DAEMON -- $DAEMON_OPTS || true\n        echo \"$NAME.\"\n        ;;\n  reload)\n      echo -n \"Reloading $DESC configuration: \"\n      start-stop-daemon --stop --signal HUP --quiet --pidfile /var/run/$NAME.pid \\\n          --exec $DAEMON || true\n      echo \"$NAME.\"\n      ;;\n  *)\n        N=/etc/init.d/$NAME\n        echo \"Usage: $N {start|stop|restart|reload|force-reload}\" >&2\n        exit 1\n        ;;\nesac\nexit 0\n```\n"}