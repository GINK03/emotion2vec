{"context": " More than 1 year has passed since last update.\n\n\u30cf\u30de\u3063\u305f\u4e8b\u8c61\nIE10\u3067JQuery.ajax()\u306edata\u30d1\u30e9\u30e1\u30fc\u30bf\u306bformData\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3057\u305f\u3089\u3001\n\u30ea\u30af\u30a8\u30b9\u30c8\u5185\u5bb9\u304c\u58ca\u308c\u3066\u3057\u307e\u3063\u305f\u3002\n\u5177\u4f53\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u305f\uff08\u7d30\u90e8\u306f\u5909\u3048\u3066\u3042\u308b\uff09\n\nhoge.html\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n    <title>\u307b\u3052\u307b\u3052</title>\n    <script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"></script>\n    <script>\n      function onSubmit() {\n          var form = $('#hogeForm').get(0);\n          var formData = new FormData(form);\n\n          $.ajax({\n            url: '/hogeAction',\n            type: 'POST',\n            contentType: false,\n            processData: false,\n            data: formData,\n            dataType: 'json',\n          });\n          return false;\n      }\n    </script>\n  </head>\n  <body>\n    <form name=\"hogeForm\" id=\"hogeForm\" method=\"post\" action=\"/hogeAction\" enctype=\"multipart/form-data\">\n\n    <select id=\"selection\" name=\"selection\">\n      <option value=\"1\">\u9078\u629e1</option>\n      <option value=\"2\">\u9078\u629e2</option>\n      <option value=\"3\">\u9078\u629e3</option>\n    </select>\n    <div>\u533a\u5206\n      <input type=\"radio\" name=\"kubun\" value=\"1\" checked=\"checked\">\u6709\n      <input type=\"radio\" name=\"teikyouKbn\" value=\"0\">\u7121\n    </div>\n    <div>\u30bf\u30a4\u30d7\u9078\u629e1\n      <input type=\"radio\" name=\"type\" value=\"1\" checked=\"checked\" id=\"fileType1\">\u30bf\u30a4\u30d71\n      <input type=\"radio\" name=\"type\" value=\"2\" id=\"fileType2\">\u30bf\u30a4\u30d72\n    </div>\n    <input type=\"file\" name=\"file\" size=\"70\" value=\"\" style=\"font-size:9pt;\">\n    <div>\u30bf\u30a4\u30d7\u9078\u629e2\n      <input type=\"radio\" name=\"type2\" value=\"1\" checked=\"checked\" id=\"fileType1\">\u30bf\u30a4\u30d71\n      <input type=\"radio\" name=\"type2\" value=\"2\" id=\"fileType2\">\u30bf\u30a4\u30d72\n    </div>\n    <input type=\"button\" id=\"submitButton\" onClick=\"onSubmit()\" name=\"submitButton\" value=\"submit\" />\n    </form>\n  </body>\n</html>\n\n\nsubmit\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001onSubmit()\u30e1\u30bd\u30c3\u30c9\u5185\u3067new FormData(form)\u3057\u3066\u3001\n\u4f5c\u6210\u3055\u308c\u305fFormData\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092$.ajax()\u3067POST\u3059\u308b\u3002\n\u3053\u308c\u3092\u52d5\u304b\u3059\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u6700\u5f8c\u306b\u8b0e\u306eContent-Disposition\u30d8\u30c3\u30c0\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3057\u307e\u3044\u3001\nPOST\u53d7\u4fe1\u5074\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30d1\u30fc\u30b9\u3067\u304d\u306a\u3044\u72b6\u6cc1\u306b\u306a\u3063\u305f\u3002\n\nRequest\nPOST http://xxxxxxxxxx/hogeAction HTTP/1.1\nX-Requested-With: XMLHttpRequest\nAccept: application/json, text/javascript, */*; q=0.01\nContent-Type: multipart/form-data; boundary=---------------------------7de1df1690910\nReferer: http://xxxxxxxxxx/\nAccept-Language: ja-JP\nAccept-Encoding: gzip, deflate\nUser-Agent: Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)\nHost: xxxxxxxxxxx\nContent-Length: 659\nDNT: 1\nConnection: Keep-Alive\nPragma: no-cache\nCookie: xxxxxxxxx\n\n-----------------------------7de1df1690910\nContent-Disposition: form-data; name=\"selection\"\n\n1\n-----------------------------7de1df1690910\nContent-Disposition: form-data; name=\"kubun\"\n\n1\n-----------------------------7de1df1690910\nContent-Disposition: form-data; name=\"type\"\n\n1\n-----------------------------7de1df1690910\nContent-Disposition: form-data; name=\"file\"; filename=\"\"\nContent-Type: application/octet-stream\n\n\n-----------------------------7de1df1690910\nContent-Disposition: form-data; name=\"type2\"\n\n1\n-----------------------------7de1df1690910\nContent-Disposition: form-data; name=\"\n-----------------------------7de1df1690910--\n\n\n\n\u56de\u907f\u7b56\n\u9811\u5f35\u3063\u3066\u30b0\u30b0\u3063\u305f\u3068\u3053\u308d\u3001\u305a\u3070\u308a\u3053\u306e\u554f\u984c\u3092\u6271\u3063\u3066\u3044\u308b\u30b5\u30a4\u30c8\u3092\u898b\u3064\u3051\u305f\u3002\nhttp://blog.yorkxin.org/posts/2014/02/06/ajax-with-formdata-is-broken-on-ie10-ie11\n\u4e0a\u8a18\u30b5\u30a4\u30c8\u306e\u691c\u8a3c\u306b\u3088\u308b\u3068\u3001Form\u306e\u6700\u5f8c\u306b\u3042\u308binput\u8981\u7d20\uff08button/submit\u3092\u9664\u304f\uff09\u304c\u300c\u30c1\u30a7\u30c3\u30af\u3055\u308c\u3066\u3044\u306a\u3044\u30e9\u30b8\u30aa\u30dc\u30bf\u30f3or\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u300d\u306e\u5834\u5408\u3001\u3053\u306e\u73fe\u8c61\u304c\u8d77\u304d\u308b\u3088\u3046\u3060\u3002\n\u4e0a\u8a18\u30b5\u30a4\u30c8\u306e\u4f8b\u306b\u5023\u3063\u3066\u3001\u30c0\u30df\u30fc\u306einput hidden\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\nhoge.html\n  ...\n  <body>\n    <form name=\"hogeForm\" id=\"hogeForm\" method=\"post\" action=\"/hogeAction\" enctype=\"multipart/form-data\">\n\n    <select id=\"selection\" name=\"selection\">\n      <option value=\"1\">\u9078\u629e1</option>\n      <option value=\"2\">\u9078\u629e2</option>\n      <option value=\"3\">\u9078\u629e3</option>\n    </select>\n    <div>\u533a\u5206\n      <input type=\"radio\" name=\"kubun\" value=\"1\" checked=\"checked\">\u6709\n      <input type=\"radio\" name=\"teikyouKbn\" value=\"0\">\u7121\n    </div>\n    <div>\u30bf\u30a4\u30d7\u9078\u629e1\n      <input type=\"radio\" name=\"type\" value=\"1\" checked=\"checked\" id=\"fileType1\">\u30bf\u30a4\u30d71\n      <input type=\"radio\" name=\"type\" value=\"2\" id=\"fileType2\">\u30bf\u30a4\u30d72\n    </div>\n    <input type=\"file\" name=\"file\" size=\"70\" value=\"\" style=\"font-size:9pt;\">\n    <div>\u30bf\u30a4\u30d7\u9078\u629e2\n      <input type=\"radio\" name=\"type2\" value=\"1\" checked=\"checked\" id=\"fileType1\">\u30bf\u30a4\u30d71\n      <input type=\"radio\" name=\"type2\" value=\"2\" id=\"fileType2\">\u30bf\u30a4\u30d72\n    </div>\n    <input type=\"hidden\" name=\"dummy\" value=\"dummy\">\n    <input type=\"button\" id=\"submitButton\" onClick=\"onSubmit()\" name=\"submitButton\" value=\"submit\" />\n    </form>\n  </body>\n</html>\n\n\n\u518d\u5ea6\u30ea\u30af\u30a8\u30b9\u30c8\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\nRequest\nPOST http://xxxxxxxxxx/hogeAction HTTP/1.1\nX-Requested-With: XMLHttpRequest\nAccept: application/json, text/javascript, */*; q=0.01\nContent-Type: multipart/form-data; boundary=---------------------------7de37a3190910\nReferer: http://xxxxxxxxxx/\nAccept-Language: ja-JP\nAccept-Encoding: gzip, deflate\nUser-Agent: Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)\nHost: xxxxxxxxxxx\nContent-Length: 674\nDNT: 1\nConnection: Keep-Alive\nPragma: no-cache\nCookie: xxxxxxxxx\n\n-----------------------------7de37a3190910\nContent-Disposition: form-data; name=\"selection\"\n\n1\n-----------------------------7de37a3190910\nContent-Disposition: form-data; name=\"kubun\"\n\n1\n-----------------------------7de37a3190910\nContent-Disposition: form-data; name=\"type\"\n\n1\n-----------------------------7de37a3190910\nContent-Disposition: form-data; name=\"file\"; filename=\"\"\nContent-Type: application/octet-stream\n\n\n-----------------------------7de37a3190910\nContent-Disposition: form-data; name=\"type2\"\n\n1\n-----------------------------7de37a3190910\nContent-Disposition: form-data; name=\"dummy\"\n\ndummy\n-----------------------------7de37a3190910--\n\n\n\u6b63\u3057\u3044\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u306a\u3063\u305f\u3088\u3046\u3060\u3002\u3084\u308c\u3084\u308c\u3002\n##\u30cf\u30de\u3063\u305f\u4e8b\u8c61\nIE10\u3067JQuery.ajax()\u306edata\u30d1\u30e9\u30e1\u30fc\u30bf\u306bformData\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3057\u305f\u3089\u3001\n\u30ea\u30af\u30a8\u30b9\u30c8\u5185\u5bb9\u304c\u58ca\u308c\u3066\u3057\u307e\u3063\u305f\u3002\n\u5177\u4f53\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u305f\uff08\u7d30\u90e8\u306f\u5909\u3048\u3066\u3042\u308b\uff09\n\n```html:hoge.html\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n    <title>\u307b\u3052\u307b\u3052</title>\n    <script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"></script>\n    <script>\n      function onSubmit() {\n          var form = $('#hogeForm').get(0);\n          var formData = new FormData(form);\n          \n          $.ajax({\n            url: '/hogeAction',\n            type: 'POST',\n            contentType: false,\n            processData: false,\n            data: formData,\n            dataType: 'json',\n          });\n          return false;\n      }\n    </script>\n  </head>\n  <body>\n    <form name=\"hogeForm\" id=\"hogeForm\" method=\"post\" action=\"/hogeAction\" enctype=\"multipart/form-data\">\n\n    <select id=\"selection\" name=\"selection\">\n      <option value=\"1\">\u9078\u629e1</option>\n      <option value=\"2\">\u9078\u629e2</option>\n      <option value=\"3\">\u9078\u629e3</option>\n    </select>\n    <div>\u533a\u5206\n      <input type=\"radio\" name=\"kubun\" value=\"1\" checked=\"checked\">\u6709\n      <input type=\"radio\" name=\"teikyouKbn\" value=\"0\">\u7121\n    </div>\n    <div>\u30bf\u30a4\u30d7\u9078\u629e1\n      <input type=\"radio\" name=\"type\" value=\"1\" checked=\"checked\" id=\"fileType1\">\u30bf\u30a4\u30d71\n      <input type=\"radio\" name=\"type\" value=\"2\" id=\"fileType2\">\u30bf\u30a4\u30d72\n    </div>\n    <input type=\"file\" name=\"file\" size=\"70\" value=\"\" style=\"font-size:9pt;\">\n    <div>\u30bf\u30a4\u30d7\u9078\u629e2\n      <input type=\"radio\" name=\"type2\" value=\"1\" checked=\"checked\" id=\"fileType1\">\u30bf\u30a4\u30d71\n      <input type=\"radio\" name=\"type2\" value=\"2\" id=\"fileType2\">\u30bf\u30a4\u30d72\n    </div>\n    <input type=\"button\" id=\"submitButton\" onClick=\"onSubmit()\" name=\"submitButton\" value=\"submit\" />\n    </form>\n  </body>\n</html>\n```\n\nsubmit\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001onSubmit()\u30e1\u30bd\u30c3\u30c9\u5185\u3067new FormData(form)\u3057\u3066\u3001\n\u4f5c\u6210\u3055\u308c\u305fFormData\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092$.ajax()\u3067POST\u3059\u308b\u3002\n\u3053\u308c\u3092\u52d5\u304b\u3059\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u6700\u5f8c\u306b\u8b0e\u306eContent-Disposition\u30d8\u30c3\u30c0\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3057\u307e\u3044\u3001\nPOST\u53d7\u4fe1\u5074\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30d1\u30fc\u30b9\u3067\u304d\u306a\u3044\u72b6\u6cc1\u306b\u306a\u3063\u305f\u3002\n\n\n```text:Request\nPOST http://xxxxxxxxxx/hogeAction HTTP/1.1\nX-Requested-With: XMLHttpRequest\nAccept: application/json, text/javascript, */*; q=0.01\nContent-Type: multipart/form-data; boundary=---------------------------7de1df1690910\nReferer: http://xxxxxxxxxx/\nAccept-Language: ja-JP\nAccept-Encoding: gzip, deflate\nUser-Agent: Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)\nHost: xxxxxxxxxxx\nContent-Length: 659\nDNT: 1\nConnection: Keep-Alive\nPragma: no-cache\nCookie: xxxxxxxxx\n\n-----------------------------7de1df1690910\nContent-Disposition: form-data; name=\"selection\"\n\n1\n-----------------------------7de1df1690910\nContent-Disposition: form-data; name=\"kubun\"\n\n1\n-----------------------------7de1df1690910\nContent-Disposition: form-data; name=\"type\"\n\n1\n-----------------------------7de1df1690910\nContent-Disposition: form-data; name=\"file\"; filename=\"\"\nContent-Type: application/octet-stream\n\n\n-----------------------------7de1df1690910\nContent-Disposition: form-data; name=\"type2\"\n\n1\n-----------------------------7de1df1690910\nContent-Disposition: form-data; name=\"\n-----------------------------7de1df1690910--\n```\n\n##\u56de\u907f\u7b56\n\u9811\u5f35\u3063\u3066\u30b0\u30b0\u3063\u305f\u3068\u3053\u308d\u3001\u305a\u3070\u308a\u3053\u306e\u554f\u984c\u3092\u6271\u3063\u3066\u3044\u308b\u30b5\u30a4\u30c8\u3092\u898b\u3064\u3051\u305f\u3002\nhttp://blog.yorkxin.org/posts/2014/02/06/ajax-with-formdata-is-broken-on-ie10-ie11\n\u4e0a\u8a18\u30b5\u30a4\u30c8\u306e\u691c\u8a3c\u306b\u3088\u308b\u3068\u3001Form\u306e\u6700\u5f8c\u306b\u3042\u308binput\u8981\u7d20\uff08button/submit\u3092\u9664\u304f\uff09\u304c\u300c\u30c1\u30a7\u30c3\u30af\u3055\u308c\u3066\u3044\u306a\u3044\u30e9\u30b8\u30aa\u30dc\u30bf\u30f3or\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u300d\u306e\u5834\u5408\u3001\u3053\u306e\u73fe\u8c61\u304c\u8d77\u304d\u308b\u3088\u3046\u3060\u3002\n\u4e0a\u8a18\u30b5\u30a4\u30c8\u306e\u4f8b\u306b\u5023\u3063\u3066\u3001\u30c0\u30df\u30fc\u306einput hidden\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\n```html:hoge.html\n  ...\n  <body>\n    <form name=\"hogeForm\" id=\"hogeForm\" method=\"post\" action=\"/hogeAction\" enctype=\"multipart/form-data\">\n\n    <select id=\"selection\" name=\"selection\">\n      <option value=\"1\">\u9078\u629e1</option>\n      <option value=\"2\">\u9078\u629e2</option>\n      <option value=\"3\">\u9078\u629e3</option>\n    </select>\n    <div>\u533a\u5206\n      <input type=\"radio\" name=\"kubun\" value=\"1\" checked=\"checked\">\u6709\n      <input type=\"radio\" name=\"teikyouKbn\" value=\"0\">\u7121\n    </div>\n    <div>\u30bf\u30a4\u30d7\u9078\u629e1\n      <input type=\"radio\" name=\"type\" value=\"1\" checked=\"checked\" id=\"fileType1\">\u30bf\u30a4\u30d71\n      <input type=\"radio\" name=\"type\" value=\"2\" id=\"fileType2\">\u30bf\u30a4\u30d72\n    </div>\n    <input type=\"file\" name=\"file\" size=\"70\" value=\"\" style=\"font-size:9pt;\">\n    <div>\u30bf\u30a4\u30d7\u9078\u629e2\n      <input type=\"radio\" name=\"type2\" value=\"1\" checked=\"checked\" id=\"fileType1\">\u30bf\u30a4\u30d71\n      <input type=\"radio\" name=\"type2\" value=\"2\" id=\"fileType2\">\u30bf\u30a4\u30d72\n    </div>\n    <input type=\"hidden\" name=\"dummy\" value=\"dummy\">\n    <input type=\"button\" id=\"submitButton\" onClick=\"onSubmit()\" name=\"submitButton\" value=\"submit\" />\n    </form>\n  </body>\n</html>\n```\n\n\u518d\u5ea6\u30ea\u30af\u30a8\u30b9\u30c8\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n```text:Request\nPOST http://xxxxxxxxxx/hogeAction HTTP/1.1\nX-Requested-With: XMLHttpRequest\nAccept: application/json, text/javascript, */*; q=0.01\nContent-Type: multipart/form-data; boundary=---------------------------7de37a3190910\nReferer: http://xxxxxxxxxx/\nAccept-Language: ja-JP\nAccept-Encoding: gzip, deflate\nUser-Agent: Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)\nHost: xxxxxxxxxxx\nContent-Length: 674\nDNT: 1\nConnection: Keep-Alive\nPragma: no-cache\nCookie: xxxxxxxxx\n\n-----------------------------7de37a3190910\nContent-Disposition: form-data; name=\"selection\"\n\n1\n-----------------------------7de37a3190910\nContent-Disposition: form-data; name=\"kubun\"\n\n1\n-----------------------------7de37a3190910\nContent-Disposition: form-data; name=\"type\"\n\n1\n-----------------------------7de37a3190910\nContent-Disposition: form-data; name=\"file\"; filename=\"\"\nContent-Type: application/octet-stream\n\n\n-----------------------------7de37a3190910\nContent-Disposition: form-data; name=\"type2\"\n\n1\n-----------------------------7de37a3190910\nContent-Disposition: form-data; name=\"dummy\"\n\ndummy\n-----------------------------7de37a3190910--\n```\n\n\u6b63\u3057\u3044\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u306a\u3063\u305f\u3088\u3046\u3060\u3002\u3084\u308c\u3084\u308c\u3002\n", "tags": ["JavaScript", "jQuery1.11.1", "IE10.0.9200.17028"]}