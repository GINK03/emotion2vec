{"tags": ["Ruby", "\u3069\u3046\u66f8\u304f", "yhpg"], "context": " More than 1 year has passed since last update.\u624b\u5143\u30675\u5206\u304b\u304b\u308a\u307e\u3057\u305f\u3002\u9045\u3044\u3067\u3059\u3002\n\u81ea\u660e\u306a\u679d\u5208\u308a(take_while)\u306b\u3088\u308a3\u5206\u3001lazy\u306e\u5229\u7528\u306b\u3088\u308a2\u520645\u79d2\u306b\u3002\n\nhena19pre.rb\n#!/usr/bin/env ruby\n#http://qiita.com/Nabetani/items/0a711729fdea28b1c30b\n#http://nabetani.sakura.ne.jp/hena/ord19sanwa/\nSTDOUT.sync=true\nwhile gets\n    a=$_.split(',').map(&:to_i).sort\n    if a==[1,2,3]\n        puts :many\n        next\n    end\n    result=[*1..a.last].combination(3).lazy.take_while{|b|b[0]<=a[0]}.select{|b|\n        c=1.step(3).flat_map{|i|b.repeated_combination(i).map{|e|e.reduce(:+)}}\n        a&c==a\n    }.take(2).to_a\n    if result.size==1\n        puts result[0]*','\n    elsif result.size==0\n        puts :none\n    else\n        puts :many\n    end\nend\n\n\n\u624b\u5143\u3067<del>5\u5206</del>\u304b\u304b\u308a\u307e\u3057\u305f\u3002\u9045\u3044\u3067\u3059\u3002\n<del>\u81ea\u660e\u306a\u679d\u5208\u308a(take_while)\u306b\u3088\u308a3\u5206\u3001lazy\u306e\u5229\u7528\u306b\u3088\u308a2\u520645\u79d2\u306b\u3002</del>\n\n```rb:hena19pre.rb\n#!/usr/bin/env ruby\n#http://qiita.com/Nabetani/items/0a711729fdea28b1c30b\n#http://nabetani.sakura.ne.jp/hena/ord19sanwa/\nSTDOUT.sync=true\nwhile gets\n\ta=$_.split(',').map(&:to_i).sort\n\tif a==[1,2,3]\n\t\tputs :many\n\t\tnext\n\tend\n\tresult=[*1..a.last].combination(3).lazy.take_while{|b|b[0]<=a[0]}.select{|b|\n\t\tc=1.step(3).flat_map{|i|b.repeated_combination(i).map{|e|e.reduce(:+)}}\n\t\ta&c==a\n\t}.take(2).to_a\n\tif result.size==1\n\t\tputs result[0]*','\n\telsif result.size==0\n\t\tputs :none\n\telse\n\t\tputs :many\n\tend\nend\n```\n"}