{"context": "\u30ec\u30b7\u30d4\u3067\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\n%w(mysql-server mysql-client).each do |pkg|\n  package pkg do\n    action :install\n  end\nend\n\nroot\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u306a\u3044\u30fb\u30fb\u30fb\u3002\n$ mysql -uroot\nERROR 1698 (28000): Access denied for user 'root'@'localhost'\n\n\n\u7d50\u8ad6\n\u4e00\u56de\u3001\u30c7\u30fc\u30bf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664\u3057\u3066\u3001--initialize-insecure\u3067\u518d\u4f5c\u6210\u3059\u308b\u3002\n$ sudo rm -fr /var/lib/mysql\n$ sudo mkdir /var/lib/mysql\n$ sudo chown mysql:mysql /var/lib/mysql\n$ sudo /usr/sbin/mysqld --initialize-insecure --user=mysql --datadir=/var/lib/mysql\n\n\u3053\u3046\u3059\u308b\u3068\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\n$ mysql -uroot\n\n\n\u8272\u3005\u8abf\u3079\u3066\u307f\u305f\u904e\u7a0b\n\n\u2013skip-grant-table\u4ed8\u3067\u8d77\u52d5\u3057\u3066\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\n\n\u8d77\u52d5\u3067\u304d\u3066\u3001\u30ed\u30b0\u30a4\u30f3\u3082\u51fa\u6765\u308b\u3051\u3069\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u306f\u3067\u304d\u306a\u3044\u3002\u3068\u3044\u3046\u304b\u53cd\u6620\u3055\u308c\u306a\u3044\u3002\n\n/root/.mysql_secret\n\n\u3053\u308c\u306fMySQL5.6\u306d\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3044\u306e\u306f\u30015.7\n\n$ cat /var/log/mysqld.log | grep \"temporary password\"\n2016-05-16T07:09:49.796912Z 1 [Note] A temporary password is generated for root@localhost: 8)13ftQG5OYl\n\n\u3053\u308c\u306f\u3001CentOS\u306d\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3044OS\u306fubuntu\n\u7d50\u5c40\u306e\u3068\u3053\u308d\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u6642\u306b\u4ee5\u4e0b\u306e\u30ed\u30b0\u51fa\u308b\u306e\u3067\u3001\u305d\u308c\u306b\u5f93\u3048\u3070\u3088\u3044\u306e\u3067\u3059\u308f\u3002\nroot@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.\n\n\u30ec\u30b7\u30d4\u3067\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\n\n```\n%w(mysql-server mysql-client).each do |pkg|\n  package pkg do\n    action :install\n  end\nend\n```\n\nroot\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u306a\u3044\u30fb\u30fb\u30fb\u3002\n\n```\n$ mysql -uroot\nERROR 1698 (28000): Access denied for user 'root'@'localhost'\n```\n\n### \u7d50\u8ad6\n\u4e00\u56de\u3001\u30c7\u30fc\u30bf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664\u3057\u3066\u3001--initialize-insecure\u3067\u518d\u4f5c\u6210\u3059\u308b\u3002\n\n```\n$ sudo rm -fr /var/lib/mysql\n$ sudo mkdir /var/lib/mysql\n$ sudo chown mysql:mysql /var/lib/mysql\n$ sudo /usr/sbin/mysqld --initialize-insecure --user=mysql --datadir=/var/lib/mysql\n```\n\n\u3053\u3046\u3059\u308b\u3068\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\n\n```\n$ mysql -uroot\n```\n\n### \u8272\u3005\u8abf\u3079\u3066\u307f\u305f\u904e\u7a0b\n> \u2013skip-grant-table\u4ed8\u3067\u8d77\u52d5\u3057\u3066\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\n\n\u8d77\u52d5\u3067\u304d\u3066\u3001\u30ed\u30b0\u30a4\u30f3\u3082\u51fa\u6765\u308b\u3051\u3069\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u306f\u3067\u304d\u306a\u3044\u3002\u3068\u3044\u3046\u304b\u53cd\u6620\u3055\u308c\u306a\u3044\u3002\n\n> /root/.mysql_secret\n\n\u3053\u308c\u306fMySQL5.6\u306d\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3044\u306e\u306f\u30015.7\n\n> $ cat /var/log/mysqld.log | grep \"temporary password\"\n> 2016-05-16T07:09:49.796912Z 1 [Note] A temporary password is generated for root@localhost: 8)13ftQG5OYl\n\n\u3053\u308c\u306f\u3001CentOS\u306d\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3044OS\u306fubuntu\n\n\u7d50\u5c40\u306e\u3068\u3053\u308d\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u6642\u306b\u4ee5\u4e0b\u306e\u30ed\u30b0\u51fa\u308b\u306e\u3067\u3001\u305d\u308c\u306b\u5f93\u3048\u3070\u3088\u3044\u306e\u3067\u3059\u308f\u3002\n\n```\nroot@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.\n```\n", "tags": ["ubuntu16.04", "MySQL", "chef"]}