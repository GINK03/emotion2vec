{"context": "\n\n\u306f\u3058\u3081\u306b\nPHPBrew \u3092\u4f7f\u3063\u3066 Mac \u306b PHP 5.2.17 \u3092\u5165\u308c\u3088\u3046\u3068\u3057\u305f\u3089\u30b3\u30b1\u305f\u306e\u3067\u89e3\u6c7a\u624b\u9806\u3092\u30e1\u30e2\uff0e\u3044\u307e\u3069\u304d\uff0c\u3053\u3093\u306a\u306b\u53e4\u3044 PHP \u3092\u30d3\u30eb\u30c9\u3057\u305f\u3044\u4eba\u306f\u3044\u306a\u3044\u3068\u601d\u3046\u304c\uff0c\u5927\u4eba\u306e\u4e8b\u60c5\u3067\u30d3\u30eb\u30c9\u3057\u306a\u304d\u3083\u3044\u3051\u306a\u3044\u4eba\u3082\u3044\u308b\u3093\u3067\u3059\uff0e\n\u4ee5\u4e0b\u306e\u74b0\u5883\u306b\uff0c\n\nOS X Yosemite 10.10\nHomebrew\n\n\u4ee5\u4e0b\u306e\u74b0\u5883\u3092\u3064\u304f\u308b\uff0e\n\nMySQL\nPHPBrew\nPHP 5.2.17 (with PHP-FPM)\n\n\n\u6e96\u5099\n\nMySQL \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nMySQL \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff0e\n$ brew install mysql\n...\u7565\n==> Caveats\nA \"/etc/my.cnf\" from another install may interfere with a Homebrew-built\nserver starting up correctly.\n\nTo connect:\n    mysql -uroot\n\nTo reload mysql after an upgrade:\n  launchctl unload ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist\n  launchctl load ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist\nOr, if you don't want/need launchctl, you can just run:\n  mysql.server start\n\n\u3068\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\uff0c\u81ea\u5206\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066 MySQL \u30b5\u30fc\u30d0\u306e\u8d77\u52d5\u3092\u884c\u3046\uff0e\n\u7d9a\u3044\u3066\uff0c\u521d\u671f\u8a2d\u5b9a\u3092\u884c\u3046\uff0e\n$ mysql_secure_installation\n\n\nPHPBrew \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nPHP \u306e\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b81\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff0e\n$ brew install automake autoconf curl pcre re2c mhash libtool icu4c gettext jpeg libxml2 mcrypt gmp libevent\n$ brew link icu4c --force\n$ brew link openssl --force\n\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f\u66f8\u3044\u3066\u306a\u3044\u3051\u3069\uff0clibxml2-2.7.8 \u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff0e\u4eca\u56de\u306e\u53e4\u3044 PHP \u306e\u30d3\u30eb\u30c9\u3067\u4f7f\u3044\u307e\u3059\uff08\u65b0\u3057\u3044 PHP \u306f\u65b0\u3057\u3044 libxml2 \u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u306e\u3060\u304c\u2026\uff09\uff0e\n$ brew install homebrew/versions/libxml278 \n\nPHPBrew \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff0e\n$ brew install phpbrew\n\n\u521d\u671f\u8a2d\u5b9a\uff0e\n$ phpbrew init\n\n.bashrc \u3068\u304b .zshrc \u306b\u4ee5\u4e0b\u306e\u884c\u3092\u8ffd\u52a0\uff0e\n[[ -e ~/.phpbrew/bashrc ]] && source ~/.phpbrew/bashrc\n\n\nPHP \u306e\u30d3\u30eb\u30c9\n\u3044\u3088\u3044\u3088 PHP 5.2.17 \u3092\u30d3\u30eb\u30c9\u3057\u3066\u3044\u304d\u307e\u3059\uff0e\n\u30d3\u30eb\u30c9\u30d5\u30a1\u30a4\u30eb\u306b\u30d0\u30b0\u4fee\u6b63\u30d1\u30c3\u30c1\u3068\u304b PHP-FPM \u8ffd\u52a0\u30d1\u30c3\u30c1\u3092\u5f53\u3066\u30662\uff0c\n$ phpbrew update --old      \n$ phpbrew download --mirror http://museum.php.net/php5/ 5.2.17\n$ cd ~/.phpbrew/build/php-5.2.17/\n$ curl -s \"https://mail.gnome.org/archives/xml/2012-August/txtbgxGXAvz4N.txt\" | patch -p0\n$ curl -s \"https://bugs.php.net/patch-display.php?bug_id=54736&patch=debian_patches_disable_SSLv2_for_openssl_1_0_0.patch&revision=1305414559&download=1\" | patch -p1\n$ curl -s \"http://php-fpm.org/downloads/php-5.2.17-fpm-0.5.14.diff.gz\" | gunzip -c | patch -p1\n\n\u30d3\u30eb\u30c93\uff0e\n$ CXX=g++ phpbrew --debug install --old 5.2.17 +default +fpm +mysql -- --enable-force-cgi-redirect --enable-fastcgi --with-libxml-dir=/usr/local/Cellar/libxml278/2.7.8 --with-mysql --with-mysqli --with-pdo-mysql \n\n\u4f7f\u7528\u3059\u308b PHP \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5207\u308a\u66ff\u3048\uff0e\n$ phpbrew switch 5.2.17\n\nPHP-FPM \u306f\u4ee5\u4e0b\u3067\u52d5\u4f5c\u3057\u307e\u3059\uff0e\n$ phpbrew fpm start\n$ phpbrew fpm stop\n\n\n\u811a\u6ce8\n\n\n\n\nhttps://github.com/phpbrew/phpbrew/wiki/Requirement\u00a0\u21a9\n\n\nhttps://github.com/phpbrew/phpbrew/issues/478#issuecomment-83869028\u00a0\u21a9\n\n\nMac \u6a19\u6e96\u306e gcc \u3067\u30d3\u30eb\u30c9\u3057\u306a\u3044\u3068\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u306a\u304f\u3066\u30d3\u30eb\u30c9\u304c\u30b3\u30b1\u308b\u306e\u3067\uff0cHomebrew \u3068\u304b\u306e gcc \u306b\u5909\u66f4\u3057\u3066\u3044\u308b\u4eba\u306f\u8981\u6ce8\u610f\uff0e\u00a0\u21a9\n\n\n\n# \u306f\u3058\u3081\u306b\nPHPBrew \u3092\u4f7f\u3063\u3066 Mac \u306b PHP 5.2.17 \u3092\u5165\u308c\u3088\u3046\u3068\u3057\u305f\u3089\u30b3\u30b1\u305f\u306e\u3067\u89e3\u6c7a\u624b\u9806\u3092\u30e1\u30e2\uff0e\u3044\u307e\u3069\u304d\uff0c\u3053\u3093\u306a\u306b\u53e4\u3044 PHP \u3092\u30d3\u30eb\u30c9\u3057\u305f\u3044\u4eba\u306f\u3044\u306a\u3044\u3068\u601d\u3046\u304c\uff0c\u5927\u4eba\u306e\u4e8b\u60c5\u3067\u30d3\u30eb\u30c9\u3057\u306a\u304d\u3083\u3044\u3051\u306a\u3044\u4eba\u3082\u3044\u308b\u3093\u3067\u3059\uff0e\n\n\u4ee5\u4e0b\u306e\u74b0\u5883\u306b\uff0c\n\n- OS X Yosemite 10.10\n- Homebrew\n\n\u4ee5\u4e0b\u306e\u74b0\u5883\u3092\u3064\u304f\u308b\uff0e\n\n- MySQL\n- PHPBrew\n- PHP 5.2.17 (with PHP-FPM)\n\n# \u6e96\u5099\n## MySQL \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nMySQL \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff0e\n\n```zsh\n$ brew install mysql\n...\u7565\n==> Caveats\nA \"/etc/my.cnf\" from another install may interfere with a Homebrew-built\nserver starting up correctly.\n\nTo connect:\n    mysql -uroot\n\nTo reload mysql after an upgrade:\n  launchctl unload ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist\n  launchctl load ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist\nOr, if you don't want/need launchctl, you can just run:\n  mysql.server start\n```\n\n\u3068\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\uff0c\u81ea\u5206\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066 MySQL \u30b5\u30fc\u30d0\u306e\u8d77\u52d5\u3092\u884c\u3046\uff0e\n\n\u7d9a\u3044\u3066\uff0c\u521d\u671f\u8a2d\u5b9a\u3092\u884c\u3046\uff0e\n\n```zsh\n$ mysql_secure_installation\n```\n\n## PHPBrew \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nPHP \u306e\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8[^1]\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff0e\n\n```zsh\n$ brew install automake autoconf curl pcre re2c mhash libtool icu4c gettext jpeg libxml2 mcrypt gmp libevent\n$ brew link icu4c --force\n$ brew link openssl --force\n```\n\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f\u66f8\u3044\u3066\u306a\u3044\u3051\u3069\uff0c`libxml2-2.7.8` \u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff0e\u4eca\u56de\u306e\u53e4\u3044 PHP \u306e\u30d3\u30eb\u30c9\u3067\u4f7f\u3044\u307e\u3059\uff08\u65b0\u3057\u3044 PHP \u306f\u65b0\u3057\u3044 `libxml2` \u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u306e\u3060\u304c\u2026\uff09\uff0e\n\n```zsh\n$ brew install homebrew/versions/libxml278 \n```\n\nPHPBrew \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff0e\n\n```zsh\n$ brew install phpbrew\n```\n\n\u521d\u671f\u8a2d\u5b9a\uff0e\n\n```zsh\n$ phpbrew init\n```\n\n`.bashrc` \u3068\u304b `.zshrc` \u306b\u4ee5\u4e0b\u306e\u884c\u3092\u8ffd\u52a0\uff0e\n\n```zsh\n[[ -e ~/.phpbrew/bashrc ]] && source ~/.phpbrew/bashrc\n```\n\n# PHP \u306e\u30d3\u30eb\u30c9\n\u3044\u3088\u3044\u3088 PHP 5.2.17 \u3092\u30d3\u30eb\u30c9\u3057\u3066\u3044\u304d\u307e\u3059\uff0e\n\n\u30d3\u30eb\u30c9\u30d5\u30a1\u30a4\u30eb\u306b\u30d0\u30b0\u4fee\u6b63\u30d1\u30c3\u30c1\u3068\u304b PHP-FPM \u8ffd\u52a0\u30d1\u30c3\u30c1\u3092\u5f53\u3066\u3066[^2]\uff0c\n\n```zsh\n$ phpbrew update --old      \n$ phpbrew download --mirror http://museum.php.net/php5/ 5.2.17\n$ cd ~/.phpbrew/build/php-5.2.17/\n$ curl -s \"https://mail.gnome.org/archives/xml/2012-August/txtbgxGXAvz4N.txt\" | patch -p0\n$ curl -s \"https://bugs.php.net/patch-display.php?bug_id=54736&patch=debian_patches_disable_SSLv2_for_openssl_1_0_0.patch&revision=1305414559&download=1\" | patch -p1\n$ curl -s \"http://php-fpm.org/downloads/php-5.2.17-fpm-0.5.14.diff.gz\" | gunzip -c | patch -p1\n```\n\n\u30d3\u30eb\u30c9[^3]\uff0e\n\n```zsh\n$ CXX=g++ phpbrew --debug install --old 5.2.17 +default +fpm +mysql -- --enable-force-cgi-redirect --enable-fastcgi --with-libxml-dir=/usr/local/Cellar/libxml278/2.7.8 --with-mysql --with-mysqli --with-pdo-mysql \n```\n\n\u4f7f\u7528\u3059\u308b PHP \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5207\u308a\u66ff\u3048\uff0e\n\n```zsh\n$ phpbrew switch 5.2.17\n```\n\nPHP-FPM \u306f\u4ee5\u4e0b\u3067\u52d5\u4f5c\u3057\u307e\u3059\uff0e\n\n```zsh\n$ phpbrew fpm start\n$ phpbrew fpm stop\n```\n\n# \u811a\u6ce8\n[^1]: https://github.com/phpbrew/phpbrew/wiki/Requirement\n[^2]: https://github.com/phpbrew/phpbrew/issues/478#issuecomment-83869028\n[^3]: Mac \u6a19\u6e96\u306e gcc \u3067\u30d3\u30eb\u30c9\u3057\u306a\u3044\u3068\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u306a\u304f\u3066\u30d3\u30eb\u30c9\u304c\u30b3\u30b1\u308b\u306e\u3067\uff0cHomebrew \u3068\u304b\u306e gcc \u306b\u5909\u66f4\u3057\u3066\u3044\u308b\u4eba\u306f\u8981\u6ce8\u610f\uff0e\n", "tags": ["PHP", "Mac", "phpbrew"]}