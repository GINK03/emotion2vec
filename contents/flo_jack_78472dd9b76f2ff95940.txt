{"tags": ["PlayFramework2.1.x", "Scala2.10", "Specs2", "Selenium"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002Play Framework 2.x \u306e Selenium \u7528\u30c6\u30b9\u30c8\u3092 Specs2 \u3067\u66f8\u3044\u305f\u3068\u304d\u3001\u7570\u306a\u308b WebDriver \u3067\u540c\u3058\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u305f\u3044\u3068\u304d\u306e\u5b9f\u88c5\u306e\u4ed5\u65b9\u3002\n\n\u5b9f\u88c5\n\u57fa\u672c\u306f Play Framework \u304c\u6a19\u6e96\u3067\u7528\u610f\u3057\u3066\u3044\u308b Selenium \u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b WithBrowser \u30af\u30e9\u30b9\u3092\u6d3b\u7528\u3059\u308b\u3002\n\u30c6\u30b9\u30c8\u3092\u62bd\u8c61\u30af\u30e9\u30b9\u3068\u3057\u3066\u4f5c\u308a WebDriver \u306e ClassTag \u3092\u6697\u9ed9\u306e\u5f15\u6570\u306b\u3059\u308b\u3053\u3068\u3067\u3001\u5177\u8c61\u5b9f\u88c5\u306f\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u3042\u3066\u3066\u62e1\u5f35\u3059\u308b\u3060\u3051\u3068\u306a\u308b\u3002\n\nAuthenticationSpec.scala\nimport org.specs2.mutable._\n\nimport play.api.test._\nimport play.api.test.Helpers._\nimport scala.reflect.ClassTag\n\n/** \u8a8d\u8a3c\u306e\u7d71\u5408\u30c6\u30b9\u30c8\u306e\u62bd\u8c61\u5b9f\u88c5 */\nabstract class AuthenticationSpecBase[D <: org.openqa.selenium.WebDriver: ClassTag] extends Specification {\n  protected val webDirverClass = implicitly[ClassTag[D]].runtimeClass.asInstanceOf[Class[D]]\n\n  \"\u30d6\u30e9\u30a6\u30b6\u306b\u3088\u308b\u8a8d\u8a3c\u753b\u9762\u306e\u64cd\u4f5c with \" + webDirverClass.getSimpleName should {\n    \"\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u30db\u30fc\u30e0\u304c\u8868\u793a\u3055\u308c\u308b\" in new WithBrowser(webDirverClass) {\n      val form = browser goTo(\"http://localhost:\" + port) $ \"form#login-form\"\n      form find \"input[name=name]\" text \"test-user\"\n      form find \"input[name=password]\" text \"password\"\n      form find \"input[type=submit]\" click()\n\n      browser.title must_== \"\u30db\u30fc\u30e0\"\n    }\n  }\n}\n\n// \u5b9f\u88c5\u5225\u30c6\u30b9\u30c8\u30af\u30e9\u30b9\nimport org.openqa.selenium.firefox.FirefoxDriver\n\n/** HtmlUnit \u3067\u5b9f\u884c\u3059\u308b\u8a8d\u8a3c\u306e\u7d71\u5408\u30c6\u30b9\u30c8 */\nclass AuthenticationWithHtmlUnitSpec extends AuthenticationSpecBase[HtmlUnitDriver]\n\n/** FireFox \u3067\u5b9f\u884c\u3059\u308b\u8a8d\u8a3c\u306e\u7d71\u5408\u30c6\u30b9\u30c8 */\nclass AuthenticationWithFireFoxSpec extends AuthenticationSpecBase[FirefoxDriver]\n\n\n\n\u5b9f\u884c\u65b9\u6cd5\n\nHtmlUnit \u306e\u3060\u3051\u5b9f\u884c\uff1a $ test-only AuthenticationWithHtmlUnitSpec\n\nFireFox \u306e\u3060\u3051\u5b9f\u884c\uff1a $ test-only AuthenticationWithFireFoxSpec\n\n\u5168\u90e8\u5b9f\u884c\uff1a $ test-only Authentication*\n\n\n\u5168\u90e8\u5b9f\u884c\u3057\u305f\u3068\u304d\u306e\u51fa\u529b\u4f8b\n[testapp] $ test-only Authentication*\n[info] AuthenticationWithHtmlUnitSpec\n[info] \n[info] \u30d6\u30e9\u30a6\u30b6\u306b\u3088\u308b\u8a8d\u8a3c\u753b\u9762\u306e\u64cd\u4f5c with HtmlUnitDriver should\n[info] + \u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u30db\u30fc\u30e0\u304c\u8868\u793a\u3055\u308c\u308b\n[info]  \n[info]  \n[info] Total for specification AuthenticationWithHtmlUnitSpec\n[info] Finished in 7 seconds, 236 ms\n[info] 1 example, 0 failure, 0 error\n[info] \n[info] AuthenticationWithFireFoxSpec\n[info] \n[info] \u30d6\u30e9\u30a6\u30b6\u306b\u3088\u308b\u8a8d\u8a3c\u753b\u9762\u306e\u64cd\u4f5c with FirefoxDriver should\n[info] + \u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u30db\u30fc\u30e0\u304c\u8868\u793a\u3055\u308c\u308b\n[info]  \n[info]  \n[info] Total for specification AuthenticationWithFireFoxSpec\n[info] Finished in 10 seconds, 645 ms\n[info] 1 example, 0 failure, 0 error\n[info] \n[info] Passed: : Total 2, Failed 0, Errors 0, Passed 2, Skipped 0\n[success] Total time: 23 s, completed ...\n\n\n\u611f\u60f3\n\u62bd\u8c61\u30af\u30e9\u30b9\u306e [D <: org.openqa.selenium.WebDriver: ClassTag] \u306e\u90e8\u5206\u306f\u30b9\u30da\u30c3\u30af\u3054\u3068\u306b\u66f8\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u3067\u3001 \u7d50\u5c40\u30b3\u30d4\u30da\u306f\u5fc5\u8981\u306b\u306a\u308b\u3068\u3053\u308d\u304c\u3001\u307e\u3060\u3044\u307e\u3072\u3068\u3064\u306a\u3068\u3053\u308d\u3067\u3059\u3002\n[Play Framework 2.x](http://www.playframework.com) \u306e [Selenium](http://docs.seleniumhq.org) \u7528\u30c6\u30b9\u30c8\u3092 [Specs2](http://etorreborre.github.io/specs2/) \u3067\u66f8\u3044\u305f\u3068\u304d\u3001\u7570\u306a\u308b [WebDriver](http://docs.seleniumhq.org/projects/webdriver/) \u3067\u540c\u3058\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u305f\u3044\u3068\u304d\u306e\u5b9f\u88c5\u306e\u4ed5\u65b9\u3002\n\n#### \u5b9f\u88c5\n\n\u57fa\u672c\u306f Play Framework \u304c\u6a19\u6e96\u3067\u7528\u610f\u3057\u3066\u3044\u308b Selenium \u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b [WithBrowser](http://www.playframework.com/documentation/2.1.x/api/scala/index.html#play.api.test.WithBrowser) \u30af\u30e9\u30b9\u3092\u6d3b\u7528\u3059\u308b\u3002\n\n\u30c6\u30b9\u30c8\u3092\u62bd\u8c61\u30af\u30e9\u30b9\u3068\u3057\u3066\u4f5c\u308a `WebDriver` \u306e `ClassTag` \u3092\u6697\u9ed9\u306e\u5f15\u6570\u306b\u3059\u308b\u3053\u3068\u3067\u3001\u5177\u8c61\u5b9f\u88c5\u306f\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u3042\u3066\u3066\u62e1\u5f35\u3059\u308b\u3060\u3051\u3068\u306a\u308b\u3002\n\n```scala:AuthenticationSpec.scala\nimport org.specs2.mutable._\n\nimport play.api.test._\nimport play.api.test.Helpers._\nimport scala.reflect.ClassTag\n\n/** \u8a8d\u8a3c\u306e\u7d71\u5408\u30c6\u30b9\u30c8\u306e\u62bd\u8c61\u5b9f\u88c5 */\nabstract class AuthenticationSpecBase[D <: org.openqa.selenium.WebDriver: ClassTag] extends Specification {\n  protected val webDirverClass = implicitly[ClassTag[D]].runtimeClass.asInstanceOf[Class[D]]\n\n  \"\u30d6\u30e9\u30a6\u30b6\u306b\u3088\u308b\u8a8d\u8a3c\u753b\u9762\u306e\u64cd\u4f5c with \" + webDirverClass.getSimpleName should {\n    \"\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u30db\u30fc\u30e0\u304c\u8868\u793a\u3055\u308c\u308b\" in new WithBrowser(webDirverClass) {\n      val form = browser goTo(\"http://localhost:\" + port) $ \"form#login-form\"\n      form find \"input[name=name]\" text \"test-user\"\n      form find \"input[name=password]\" text \"password\"\n      form find \"input[type=submit]\" click()\n\n      browser.title must_== \"\u30db\u30fc\u30e0\"\n    }\n  }\n}\n\n// \u5b9f\u88c5\u5225\u30c6\u30b9\u30c8\u30af\u30e9\u30b9\nimport org.openqa.selenium.firefox.FirefoxDriver\n\n/** HtmlUnit \u3067\u5b9f\u884c\u3059\u308b\u8a8d\u8a3c\u306e\u7d71\u5408\u30c6\u30b9\u30c8 */\nclass AuthenticationWithHtmlUnitSpec extends AuthenticationSpecBase[HtmlUnitDriver]\n\n/** FireFox \u3067\u5b9f\u884c\u3059\u308b\u8a8d\u8a3c\u306e\u7d71\u5408\u30c6\u30b9\u30c8 */\nclass AuthenticationWithFireFoxSpec extends AuthenticationSpecBase[FirefoxDriver]\n```\n\n#### \u5b9f\u884c\u65b9\u6cd5\n\n* HtmlUnit \u306e\u3060\u3051\u5b9f\u884c\uff1a `$ test-only AuthenticationWithHtmlUnitSpec`\n* FireFox \u306e\u3060\u3051\u5b9f\u884c\uff1a `$ test-only AuthenticationWithFireFoxSpec`\n* \u5168\u90e8\u5b9f\u884c\uff1a `$ test-only Authentication*`\n\n*\u5168\u90e8\u5b9f\u884c\u3057\u305f\u3068\u304d\u306e\u51fa\u529b\u4f8b*\n\n```bash\n[testapp] $ test-only Authentication*\n[info] AuthenticationWithHtmlUnitSpec\n[info] \n[info] \u30d6\u30e9\u30a6\u30b6\u306b\u3088\u308b\u8a8d\u8a3c\u753b\u9762\u306e\u64cd\u4f5c with HtmlUnitDriver should\n[info] + \u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u30db\u30fc\u30e0\u304c\u8868\u793a\u3055\u308c\u308b\n[info]  \n[info]  \n[info] Total for specification AuthenticationWithHtmlUnitSpec\n[info] Finished in 7 seconds, 236 ms\n[info] 1 example, 0 failure, 0 error\n[info] \n[info] AuthenticationWithFireFoxSpec\n[info] \n[info] \u30d6\u30e9\u30a6\u30b6\u306b\u3088\u308b\u8a8d\u8a3c\u753b\u9762\u306e\u64cd\u4f5c with FirefoxDriver should\n[info] + \u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u30db\u30fc\u30e0\u304c\u8868\u793a\u3055\u308c\u308b\n[info]  \n[info]  \n[info] Total for specification AuthenticationWithFireFoxSpec\n[info] Finished in 10 seconds, 645 ms\n[info] 1 example, 0 failure, 0 error\n[info] \n[info] Passed: : Total 2, Failed 0, Errors 0, Passed 2, Skipped 0\n[success] Total time: 23 s, completed ...\n```\n\n#### \u611f\u60f3\n\n\u62bd\u8c61\u30af\u30e9\u30b9\u306e `[D <: org.openqa.selenium.WebDriver: ClassTag]` \u306e\u90e8\u5206\u306f\u30b9\u30da\u30c3\u30af\u3054\u3068\u306b\u66f8\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u3067\u3001 \u7d50\u5c40\u30b3\u30d4\u30da\u306f\u5fc5\u8981\u306b\u306a\u308b\u3068\u3053\u308d\u304c\u3001\u307e\u3060\u3044\u307e\u3072\u3068\u3064\u306a\u3068\u3053\u308d\u3067\u3059\u3002"}