{"context": " More than 1 year has passed since last update.D3.js\u3092\u5229\u7528\u3057\u3066\u30b0\u30e9\u30d5\u306e\u9023\u7d9a\u63cf\u753b\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u5b9a\u671f\u7684\u306b\u30bf\u30a4\u30de\u30fc\u3092\u8d77\u52d5\u3057\u3066\u914d\u5217\u306b\u4e71\u6570\u3092\u8ffd\u52a0\u3057\u3066\u30b0\u30e9\u30d5\u3092\u518d\u63cf\u753b\u3057\u307e\u3059\u3002\n\u914d\u5217\u306e\u30b5\u30a4\u30ba\u304c\u4e0a\u9650\u306b\u9054\u3057\u305f\u3068\u304d\u3001\u5148\u982d\u306e\u914d\u5217\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n\nsample.html\n<html>\n<head>\n    <meta charset = \"utf-8\">\n    <title>D3.js</title>\n</head>\n\n<body>\n\n<script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js\"></script>\n<script src=\"http://d3js.org/d3.v3.min.js\" charset=\"utf-8\"></script>\n<div id=\"d3graph\" style=\"border:1px solid #ccc; margin-bottom:10px\"></div>\n\n<script type=\"text/javascript\">\nvar stage;\n$(document).ready(function() {\n    stage = d3.select(\"#d3graph\").append(\"svg:svg\").attr(\"width\", $(\"#d3graph\").width()).attr(\"height\", 300);\n    setInterval(\"update()\",100);\n});\n\nvar colors = d3.scale.category10();\nvar d3Line = d3.svg.line()\n.x(function(d,i){return i * 10})\n.y(function(d,i){return d});\n\nvar points = new Array();\n\nfunction update() {\n    points.push(Math.random() * 100 + 100);\n    if(points.length > $(\"#d3graph\").width()/10) {\n        points.shift();\n    }\n\n    // \u524a\u9664\u3059\u308b\n    stage.selectAll(\"path\").remove();\n\n    // \u63cf\u753b\u3059\u308b\n    stage.append(\"path\")\n    .attr(\"d\", d3Line(points))\n    .attr(\"stroke\", colors(0))\n    .attr(\"fill\", \"none\")\n    .attr(\"opacity\", 1);\n\n}\n</script>\n\n</body>\n</html>\n\n\n\nWebSocket\u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u3068\u3001\u30bb\u30f3\u30b5\u60c5\u5831\u306e\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u63cf\u753b\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\nD3.js\u3092\u5229\u7528\u3057\u3066\u30b0\u30e9\u30d5\u306e\u9023\u7d9a\u63cf\u753b\u3092\u884c\u3044\u307e\u3059\u3002\n\n![d3](https://qiita-image-store.s3.amazonaws.com/0/3862/d608701e-b956-378e-6da5-5af8a500383f.jpeg)\n\n\n\u5b9a\u671f\u7684\u306b\u30bf\u30a4\u30de\u30fc\u3092\u8d77\u52d5\u3057\u3066\u914d\u5217\u306b\u4e71\u6570\u3092\u8ffd\u52a0\u3057\u3066\u30b0\u30e9\u30d5\u3092\u518d\u63cf\u753b\u3057\u307e\u3059\u3002\n\u914d\u5217\u306e\u30b5\u30a4\u30ba\u304c\u4e0a\u9650\u306b\u9054\u3057\u305f\u3068\u304d\u3001\u5148\u982d\u306e\u914d\u5217\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n\n```html:sample.html\n<html>\n<head>\n    <meta charset = \"utf-8\">\n    <title>D3.js</title>\n</head>\n\n<body>\n\n<script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js\"></script>\n<script src=\"http://d3js.org/d3.v3.min.js\" charset=\"utf-8\"></script>\n<div id=\"d3graph\" style=\"border:1px solid #ccc; margin-bottom:10px\"></div>\n\n<script type=\"text/javascript\">\nvar stage;\n$(document).ready(function() {\n    stage = d3.select(\"#d3graph\").append(\"svg:svg\").attr(\"width\", $(\"#d3graph\").width()).attr(\"height\", 300);\n    setInterval(\"update()\",100);\n});\n\nvar colors = d3.scale.category10();\nvar d3Line = d3.svg.line()\n.x(function(d,i){return i * 10})\n.y(function(d,i){return d});\n\nvar points = new Array();\n\nfunction update() {\n    points.push(Math.random() * 100 + 100);\n    if(points.length > $(\"#d3graph\").width()/10) {\n        points.shift();\n    }\n\n    // \u524a\u9664\u3059\u308b\n    stage.selectAll(\"path\").remove();\n\n    // \u63cf\u753b\u3059\u308b\n    stage.append(\"path\")\n    .attr(\"d\", d3Line(points))\n    .attr(\"stroke\", colors(0))\n    .attr(\"fill\", \"none\")\n    .attr(\"opacity\", 1);\n\n}\n</script>\n\n</body>\n</html>\n\n```\n\n\nWebSocket\u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u3068\u3001\u30bb\u30f3\u30b5\u60c5\u5831\u306e\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u63cf\u753b\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n", "tags": ["d3.js"]}