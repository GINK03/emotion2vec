{"tags": ["phpenv", "php-build", "MacOSX", "PHP", "macos"], "context": "macOS Sierra\u3067 phpenv install 7.1.2 \u3057\u305f\u3089\u898b\u6163\u308c\u306a\u3044\u30a8\u30e9\u30fc\u3067\u3057\u3070\u3089\u304f\u683c\u95d8\u3057\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u5099\u5fd8\u9332\n\n\u304a\u307e\u3058\u306a\u3044\nbrew install openssl libxml2 autoconf automake libjpeg libpng libmcrypt\nexport PHP_BUILD_CONFIGURE_OPTS=--with-openssl=/usr/local/opt/openssl --with-libxml-dir=/usr/local/opt/libxml2\nexport PHP_BUILD_EXTRA_MAKE_ARGUMENTS=-j4\n\nHomebrew\u306eopenssl\u3001libxml2\u3092\u53c2\u7167\u3059\u308b\u3088\u3046\u306bconfigure\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4fee\u6b63\u3057\u3066\u304a\u304f\n\n\n\u30a8\u30e9\u30fc\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: archive member: ext/opcache/.libs/opcache.a(libssl.a) fat file for cputype (7) cpusubtype (3) is not an object file (bad magic number)\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ar: internal ranlib command failed\nmake: *** [ext/opcache/opcache.la] Error 1\nmake: *** Waiting for unfinished jobs....\n\n\n\n\u30a8\u30e9\u30fc(\u672b\u5c3e)\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/include/signal.h:103:39: warning: pointer is missing a nullability type specifier (_Nonnull, _Nullable, or _Null_unspecified) [-Wnullability-completeness]\nvoid    psignal(unsigned int, const char *);\n                                         ^\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/include/signal.h:106:31: warning: pointer is missing a nullability type specifier (_Nonnull, _Nullable, or _Null_unspecified) [-Wnullability-completeness]\nint     sigvec(int, struct sigvec *, struct sigvec *);\n                                  ^\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/include/signal.h:106:48: warning: pointer is missing a nullability type specifier (_Nonnull, _Nullable, or _Null_unspecified) [-Wnullability-completeness]\nint     sigvec(int, struct sigvec *, struct sigvec *);\n                                                   ^\n346 warnings generated.\n\n\n\u2192Homebrew\u306eopenssl\u3092--universal\u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\n\u7121\u5370\u3067\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30b3\u30de\u30f3\u30c9\nbrew uninstall --ignore-dependencies openssl\nbrew install openssl\n\n\n\n\n\u30a8\u30e9\u30fc\nconfigure: error: cannot find sources (README.GIT-RULES) in . or ..\n\n\n\u2192\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304c\u4e0d\u5b8c\u5168\n\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664\u3057\u3066DL\u304b\u3089\u518d\u8a66\u884c\u3059\u308b\n[Preparing]:\u3067\u59cb\u307e\u308b\u884c\u306e\u30d1\u30b9\u3092\u524a\u9664\n\n\u30b3\u30de\u30f3\u30c9\nrm -rf /var/folders/z0/q7xv_xd91kx44v_cnmn4yd780000gn/T/php-build/source/5.6.30\n\n\n\n\n\u30a8\u30e9\u30fc\nconfigure: error: in `/var/folders/z0/q7xv_xd91kx44v_cnmn4yd780000gn/T/php-build/source/7.1.2':\nconfigure: error: C compiler cannot create executables\nSee `config.log' for more details\n\n\n\u2192brew\u306eopenssl\u304c\u7834\u640d\u3057\u3066\u3044\u308b\n\n\u30b3\u30de\u30f3\u30c9\nbrew reinstall openssl\n\n\n\nmacOS Sierra\u3067 `phpenv install 7.1.2` \u3057\u305f\u3089\u898b\u6163\u308c\u306a\u3044\u30a8\u30e9\u30fc\u3067\u3057\u3070\u3089\u304f\u683c\u95d8\u3057\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u5099\u5fd8\u9332\n\n## \u304a\u307e\u3058\u306a\u3044\n\n\n\n```shell-session\nbrew install openssl libxml2 autoconf automake libjpeg libpng libmcrypt\nexport PHP_BUILD_CONFIGURE_OPTS=--with-openssl=/usr/local/opt/openssl --with-libxml-dir=/usr/local/opt/libxml2\nexport PHP_BUILD_EXTRA_MAKE_ARGUMENTS=-j4\n```\n\nHomebrew\u306eopenssl\u3001libxml2\u3092\u53c2\u7167\u3059\u308b\u3088\u3046\u306bconfigure\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4fee\u6b63\u3057\u3066\u304a\u304f\n\n---\n\n```shell-session:\u30a8\u30e9\u30fc\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: archive member: ext/opcache/.libs/opcache.a(libssl.a) fat file for cputype (7) cpusubtype (3) is not an object file (bad magic number)\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ar: internal ranlib command failed\nmake: *** [ext/opcache/opcache.la] Error 1\nmake: *** Waiting for unfinished jobs....\n```\n\n```shell-session:\u30a8\u30e9\u30fc(\u672b\u5c3e)\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/include/signal.h:103:39: warning: pointer is missing a nullability type specifier (_Nonnull, _Nullable, or _Null_unspecified) [-Wnullability-completeness]\nvoid    psignal(unsigned int, const char *);\n                                         ^\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/include/signal.h:106:31: warning: pointer is missing a nullability type specifier (_Nonnull, _Nullable, or _Null_unspecified) [-Wnullability-completeness]\nint     sigvec(int, struct sigvec *, struct sigvec *);\n                                  ^\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/include/signal.h:106:48: warning: pointer is missing a nullability type specifier (_Nonnull, _Nullable, or _Null_unspecified) [-Wnullability-completeness]\nint     sigvec(int, struct sigvec *, struct sigvec *);\n                                                   ^\n346 warnings generated.\n```\n\n\u2192Homebrew\u306eopenssl\u3092`--universal`\u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\n\u7121\u5370\u3067\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```shell-session:\u30b3\u30de\u30f3\u30c9\nbrew uninstall --ignore-dependencies openssl\nbrew install openssl\n```\n\n---\n\n```shell-session:\u30a8\u30e9\u30fc\nconfigure: error: cannot find sources (README.GIT-RULES) in . or ..\n```\n\n\u2192\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304c\u4e0d\u5b8c\u5168\n\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664\u3057\u3066DL\u304b\u3089\u518d\u8a66\u884c\u3059\u308b\n`[Preparing]: `\u3067\u59cb\u307e\u308b\u884c\u306e\u30d1\u30b9\u3092\u524a\u9664\n\n\n```shell-session:\u30b3\u30de\u30f3\u30c9\nrm -rf /var/folders/z0/q7xv_xd91kx44v_cnmn4yd780000gn/T/php-build/source/5.6.30\n```\n\n---\n\n```shell-session:\u30a8\u30e9\u30fc\nconfigure: error: in `/var/folders/z0/q7xv_xd91kx44v_cnmn4yd780000gn/T/php-build/source/7.1.2':\nconfigure: error: C compiler cannot create executables\nSee `config.log' for more details\n```\n\n\u2192brew\u306eopenssl\u304c\u7834\u640d\u3057\u3066\u3044\u308b\n\n```shell-session:\u30b3\u30de\u30f3\u30c9\nbrew reinstall openssl\n```\n\n---\n\n"}