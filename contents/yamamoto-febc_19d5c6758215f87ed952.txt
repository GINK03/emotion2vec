{"context": "\n\n\u3053\u306e\u8a18\u4e8b\u306b\u3064\u3044\u3066\n\u3053\u306e\u8a18\u4e8b\u306fDocker\u306eDRBD\u30dc\u30ea\u30e5\u30fc\u30e0\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u8a66\u305d\u3046\u3068\u3057\u3066\u5931\u6557\u3057\u305f\u8a18\u9332\u3067\u3059\u3002\n\u9014\u4e2d\u3067\u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\u305f\u3081\u6295\u3052\u51fa\u3057\u3066\u307e\u3059\u3002\n\u3069\u306a\u305f\u304b\u306e\u5f79\u306b\u7acb\u3064\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306e\u3067\u4e00\u5fdc\u8a18\u4e8b\u3092\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\n\u304d\u3063\u304b\u3051\nDockerCon16\u306b\u3042\u308f\u305b\u3001Docker v1.12-rc\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30c7\u30b6\u30a4\u30f3\u304c\u4e00\u65b0\u3055\u308c\u307e\u3057\u305f\u3002\n\u305d\u3053\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u773a\u3081\u3066\u3044\u308b\u3068\u3001\u3001\u3001\n\n\n\n\n\n\n\n\nDRBD\n\n\n\n\u5f15\u7528:http://www.drbd.org/en/supported-projects/docker\n\n\n\n\n\u3053\u308c\u306f\u8a66\u3055\u306a\u304d\u3083\n\n\n\n\u3068\u3044\u3046\u3053\u3068\u3067\nDocker + DRBD\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u8a66\u3057\u307e\u3059\u3002\n\n\u69cb\u6210\n\nDocker v1.12.0-rc2\nDockerMachine \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u30c9\u30e9\u30a4\u30d0\n\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u4e0a\u306b\u30de\u30b7\u30f32\u53f0\u4f5c\u6210\n\nDRBD\u30d7\u30e9\u30b0\u30a4\u30f3\n\n\n\n\n\u6e96\u5099\n\n\n\u4f5c\u696d\u7528\u30de\u30b7\u30f3\u306e\u6e96\u5099\n\u4ee5\u4e0b\u3092\u6e96\u5099\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\ndocker v1.12.0-rc2\ndocker-machine\ndocker-machine \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u30c9\u30e9\u30a4\u30d0\n\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9API\u30ad\u30fc\n\n\n\nDocker for Mac/Windows\n\u3053\u3061\u3089\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\ndocker(cli)\u3001docker-machine\u3001docker-compose\u306a\u3069\u3082\u540c\u6642\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\n\n\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u95a2\u9023\n\nDockerMachine \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u7528\u30c9\u30e9\u30a4\u30d0\n\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9 API\u30ad\u30fc\n\n\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u6e96\u5099\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u30de\u30b7\u30f3\u4f5c\u6210\n\n\ndocker-machine\u3067\u30de\u30b7\u30f3\u4f5c\u6210\ndocker-machine\u30b3\u30de\u30f3\u30c9\u3067\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u4e0a\u306b2\u53f0\u30de\u30b7\u30f3\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n\n\u30de\u30b7\u30f32\u53f0\u4f5c\u6210\n# 1\u53f0\u76ee\n$ docker-machine create -d sakuracloud \\\n    --sakuracloud-access-token=[ACCESS TOKEN] \\\n    --sakuracloud-access-token-secret=[ACCESS TOKEN SECRET] \\\n    --engine-install-url=\"https://experimental.docker.com\" \\\n    sakura01\n\n# 2\u53f0\u76ee\n$ docker-machine create -d sakuracloud \\\n    --sakuracloud-access-token=[ACCESS TOKEN] \\\n    --sakuracloud-access-token-secret=[ACCESS TOKEN SECRET] \\\n    --engine-install-url=\"https://experimental.docker.com\" \\\n    sakura02\n\n\n\n\nDRBD\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nPPA\u3068\u3057\u3066\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u3068\u306e\u3053\u3068\u3067\u3059\u306e\u3067\u3001\n\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n# \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u4e0a\u306e\u30de\u30b7\u30f3\u3078SSH\u63a5\u7d9a\n$ docker-machine ssh sakura01\n\n# PPA\u8ffd\u52a0\n$ sudo apt-get install software-properties-common\n$ sudo add-apt-repository ppa:linbit/linbit-drbd9-stack\n$ sudo apt-get install drbdmanage-docker-volume\n\n\n\n\u3053\u3053\u3067\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u767a\u751f\n\ndocker.io(\u53e4\u3044\u30d1\u30c3\u30b1\u30fc\u30b8)\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3001\u3001\u3001\n\n\n\u4eca\u56de\u306e\u7d50\u679c\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u8a66\u307f\u307e\u3057\u305f\u304c\u3001\u4f9d\u5b58\u95a2\u4fc2\u30a8\u30e9\u30fc\u3068\u306e\u3053\u3068\u3002\n(\u30bd\u30fc\u30b9\u304b\u3089\u306e\u30d3\u30eb\u30c9\u3082\u8a66\u3057\u307e\u3057\u305f\u304c\u3001\u3001\u30c0\u30e1\u3067\u3057\u305f)\n\u4eca\u56de\u306f\u840e\u3048\u305f\u6642\u9593\u5207\u308c\u306e\u305f\u3081\u3053\u3053\u307e\u3067\u3002\n\u307e\u305f\u6642\u9593\u304c\u3042\u308c\u3070\u518d\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u307e\u3059\u3001\u3001\u3001\n\n\n\u7d9a\u304f\u3001\u3001\u3001\u304b\u3082\n## \u3053\u306e\u8a18\u4e8b\u306b\u3064\u3044\u3066\n\n\u3053\u306e\u8a18\u4e8b\u306fDocker\u306eDRBD\u30dc\u30ea\u30e5\u30fc\u30e0\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u8a66\u305d\u3046\u3068\u3057\u3066\u5931\u6557\u3057\u305f\u8a18\u9332\u3067\u3059\u3002\n\u9014\u4e2d\u3067\u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\u305f\u3081\u6295\u3052\u51fa\u3057\u3066\u307e\u3059\u3002\n\n\u3069\u306a\u305f\u304b\u306e\u5f79\u306b\u7acb\u3064\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306e\u3067\u4e00\u5fdc\u8a18\u4e8b\u3092\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n---\n\n## \u304d\u3063\u304b\u3051\n\nDockerCon16\u306b\u3042\u308f\u305b\u3001Docker v1.12-rc\u306e[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://docs.docker.com)\u306e\u30c7\u30b6\u30a4\u30f3\u304c\u4e00\u65b0\u3055\u308c\u307e\u3057\u305f\u3002\n\n  \n\u305d\u3053\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u773a\u3081\u3066\u3044\u308b\u3068\u3001\u3001\u3001\n\n---\n\n![dock_drbd.png](https://qiita-image-store.s3.amazonaws.com/0/20668/66cb8683-f471-374e-1c03-39cce7f7d522.png)\n\n\n---\n\n## :interrobang:\n\n---\n\n## DRBD:interrobang:\n\n---\n\n\n![drbd_docker.png](https://qiita-image-store.s3.amazonaws.com/0/20668/6cc08151-a270-4611-8849-89251caff9e5.png)\n\n\u5f15\u7528:http://www.drbd.org/en/supported-projects/docker\n\n---\n\n![drbd_docker2.png](https://qiita-image-store.s3.amazonaws.com/0/20668/8fed53df-6be7-7408-46cd-8e7e5fb7049a.png)\n\n---\n\n## \u3053\u308c\u306f\u8a66\u3055\u306a\u304d\u3083:bangbang:\n\n---\n\n## \u3068\u3044\u3046\u3053\u3068\u3067\n\nDocker + DRBD\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u8a66\u3057\u307e\u3059\u3002\n\n## \u69cb\u6210\n\n  - Docker v1.12.0-rc2\n  - DockerMachine \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u30c9\u30e9\u30a4\u30d0\n  - \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u4e0a\u306b\u30de\u30b7\u30f32\u53f0\u4f5c\u6210\n  - :sparkles::sparkles::sparkles::sparkles:DRBD\u30d7\u30e9\u30b0\u30a4\u30f3:sparkles::sparkles::sparkles:\n\n---\n\n# \u6e96\u5099\n\n---\n\n## \u4f5c\u696d\u7528\u30de\u30b7\u30f3\u306e\u6e96\u5099\n\n\u4ee5\u4e0b\u3092\u6e96\u5099\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n  - docker v1.12.0-rc2\n  - docker-machine\n  - docker-machine \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u30c9\u30e9\u30a4\u30d0\n  - \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9API\u30ad\u30fc\n\n---\n\n## Docker for Mac/Windows\n\n[\u3053\u3061\u3089](https://docs.docker.com)\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\ndocker(cli)\u3001docker-machine\u3001docker-compose\u306a\u3069\u3082\u540c\u6642\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\n---\n\n## \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u95a2\u9023\n\n- DockerMachine \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u7528\u30c9\u30e9\u30a4\u30d0\n- \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9 API\u30ad\u30fc\n\n\n[\u3053\u3061\u3089](http://qiita.com/yamamoto-febc/items/4aff7472fc1ea025db0a)\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u6e96\u5099\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n---\n\n# \u30de\u30b7\u30f3\u4f5c\u6210\n\n---\n\n## docker-machine\u3067\u30de\u30b7\u30f3\u4f5c\u6210\n\n`docker-machine`\u30b3\u30de\u30f3\u30c9\u3067\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u4e0a\u306b2\u53f0\u30de\u30b7\u30f3\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n---\n\n```bash:\u30de\u30b7\u30f32\u53f0\u4f5c\u6210\n# 1\u53f0\u76ee\n$ docker-machine create -d sakuracloud \\\n    --sakuracloud-access-token=[ACCESS TOKEN] \\\n    --sakuracloud-access-token-secret=[ACCESS TOKEN SECRET] \\\n    --engine-install-url=\"https://experimental.docker.com\" \\\n    sakura01\n\n# 2\u53f0\u76ee\n$ docker-machine create -d sakuracloud \\\n    --sakuracloud-access-token=[ACCESS TOKEN] \\\n    --sakuracloud-access-token-secret=[ACCESS TOKEN SECRET] \\\n    --engine-install-url=\"https://experimental.docker.com\" \\\n    sakura02\n```\n\n---\n\n## DRBD\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nPPA\u3068\u3057\u3066\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u3068\u306e\u3053\u3068\u3067\u3059\u306e\u3067\u3001\n\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```bash\n# \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u4e0a\u306e\u30de\u30b7\u30f3\u3078SSH\u63a5\u7d9a\n$ docker-machine ssh sakura01\n\n# PPA\u8ffd\u52a0\n$ sudo apt-get install software-properties-common\n$ sudo add-apt-repository ppa:linbit/linbit-drbd9-stack\n$ sudo apt-get install drbdmanage-docker-volume\n```\n\n---\n\n## \u3053\u3053\u3067\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u767a\u751f\n\n![drbd_err.png](https://qiita-image-store.s3.amazonaws.com/0/20668/c9b5727e-f4b0-d196-30a8-3a44b577e69b.png)\n\ndocker.io(\u53e4\u3044\u30d1\u30c3\u30b1\u30fc\u30b8)\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3001\u3001\u3001\n\n---\n\n## \u4eca\u56de\u306e\u7d50\u679c\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u8a66\u307f\u307e\u3057\u305f\u304c\u3001\u4f9d\u5b58\u95a2\u4fc2\u30a8\u30e9\u30fc\u3068\u306e\u3053\u3068\u3002\n(\u30bd\u30fc\u30b9\u304b\u3089\u306e\u30d3\u30eb\u30c9\u3082\u8a66\u3057\u307e\u3057\u305f\u304c\u3001\u3001\u30c0\u30e1\u3067\u3057\u305f)\n\n\u4eca\u56de\u306f~~\u840e\u3048\u305f~~\u6642\u9593\u5207\u308c\u306e\u305f\u3081\u3053\u3053\u307e\u3067\u3002\n\u307e\u305f\u6642\u9593\u304c\u3042\u308c\u3070\u518d\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u307e\u3059\u3001\u3001\u3001\n\n---\n\n## \u7d9a\u304f\u3001\u3001\u3001\u304b\u3082\n\n", "tags": ["docker", "LINBIT", "drbd"]}