{"context": "\n\n\u3053\u306e\u8a18\u4e8b\u306b\u3064\u3044\u3066\nJAWS-UG CLI\u5c02\u9580\u652f\u90e8 #73 Kinesis Firehose\u5165\u9580\u3067\u5b9f\u65bd\u3059\u308b\u30cf\u30f3\u30ba\u30aa\u30f3\u7528\u306e\u624b\u9806\u66f8\u3067\u3059\u3002\n\n\u524d\u63d0\u6761\u4ef6\n\n\u5fc5\u8981\u306a\u6a29\u9650\n\u4f5c\u696d\u306b\u3042\u305f\u3063\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u6a29\u9650\u3092\u6709\u3057\u305fIAM\u30e6\u30fc\u30b6\u3082\u3057\u304f\u306fIAM\u30ed\u30fc\u30eb\u3092\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nKinesis Firehose\u306e\u30d5\u30eb\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u6a29\u9650\nS3\u306e\u30d5\u30eb\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u6a29\u9650\nSTS\u306e\u95a2\u3059\u308b\u30d5\u30eb\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u6a29\u9650\nIAM\u306e\u95a2\u3059\u308b\u30d5\u30eb\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u6a29\u9650\nCloudWatch\u306e\u95a2\u3059\u308b\u30d5\u30eb\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u6a29\u9650\nCloudWatch Logs\u306e\u95a2\u3059\u308b\u30d5\u30eb\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u6a29\u9650\n\n\n0. \u6e96\u5099\n\n0.1. \u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\n\u30aa\u30ec\u30b4\u30f3\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002\uff08\u6771\u4eac\u30de\u30c0\u30fc\uff1f\uff09\n\n\u30b3\u30de\u30f3\u30c9\nexport AWS_DEFAULT_REGION=\"us-west-2\"\n\n\n\n0.2. \u8cc7\u683c\u60c5\u5831\u3092\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\naws configure list\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u5b9a\u3057\u305fEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3092\u8a2d\u5b9a\u305b\u305a\u306b\u5b9f\u884c\u3057\u305f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u7d50\u679c\n      Name                    Value             Type    Location\n      ----                    -----             ----    --------\n   profile                <not set>             None    None\naccess_key     ****************QSAA         iam-role\nsecret_key     ****************c1xY         iam-role\n    region                us-west-2              env    AWS_DEFAULT_REGION\n\n\n\n0.3. \u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\naws --version\n\n\n\n\u7d50\u679c\naws-cli/1.11.24 Python/2.7.12 Linux/4.4.30-32.54.amzn1.x86_64 botocore/1.4.81\n\n\n\n0.4. \u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\uff08\u5fc5\u8981\u306b\u5fdc\u3058\u3066\uff09\n\n\u30b3\u30de\u30f3\u30c9\nsudo pip install -U awscli\n\n\n\n1. EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u524a\u9664\n\n\u5909\u6570\u306e\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\ncat << ETX\n\n   INSTANCE_ID: ${INSTANCE_ID}\n\nETX\n\n\n\n\u7d50\u679c\n\n   INSTANCE_ID: i-0****************\n\n\n\n\n\u524a\u9664\n\n\u30b3\u30de\u30f3\u30c9\naws ec2 terminate-instances \\\n    --instance-ids ${INSTANCE_ID}\n\n\n\n\u7d50\u679c\n{\n    \"TerminatingInstances\": [\n        {\n            \"InstanceId\": \"i-0758452c3f6cdb188\",\n            \"CurrentState\": {\n                \"Code\": 32,\n                \"Name\": \"shutting-down\"\n            },\n            \"PreviousState\": {\n                \"Code\": 16,\n                \"Name\": \"running\"\n            }\n        }\n    ]\n}\n\n\n\n\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\naws ec2 describe-instances \\\n    --instance-ids ${INSTANCE_ID}\n\n\n\n\u7d50\u679c\n\uff08\u9577\u3044\u306e\u3067\u7701\u7565\uff09\n\n\n\uff08 (4)\u3067\u4f5c\u6210\u3057\u305f\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u306f\u5225\u9014\u524a\u9664\u3092\u304a\u9858\u3044\u3057\u307e\u3059>< \uff09\n\n2. \u30c7\u30ea\u30d0\u30ea\u30fc\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u524a\u9664\n\n\u5909\u6570\u306e\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\ncat << ETX\n\n   DELIVERY_STREAM_NAME: ${DELIVERY_STREAM_NAME}\n\nETX\n\n\n\n\u7d50\u679c\n\n   DELIVERY_STREAM_NAME: jawsug-cli-stream\n\n\n\n\n\u524a\u9664\n\n\u30b3\u30de\u30f3\u30c9\naws firehose delete-delivery-stream \\\n    --delivery-stream-name ${DELIVERY_STREAM_NAME}\n\n\n\n\u7d50\u679c\n\uff08\u8fd4\u5024\u7121\u3057\uff09\n\n\n\n\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\naws firehose describe-delivery-stream \\\n    --delivery-stream-name ${DELIVERY_STREAM_NAME}\n\n\n\n\u7d50\u679c\nAn error occurred (ResourceNotFoundException) when calling the DescribeDeliveryStream operation: Firehose jawsug-cli-stream under account ************ not found.\n\n\n\n3. IAM\u30ed\u30fc\u30eb\u306e\u524a\u9664\n\n\u524a\u9664\u5bfe\u8c61\u306e\u30ed\u30fc\u30eb\u540d\u3092\u6307\u5b9a\n\n\u30b3\u30de\u30f3\u30c9\nROLE_NAME='service-role-firehose'\n\n\n\n\u5909\u6570\u306e\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\ncat << ETX\n\n   ROLE_NAME: ${ROLE_NAME}\n\nETX\n\n\n\n\u7d50\u679c\n\n   ROLE_NAME: service-role-firehose\n\n\n\n\n\u30c7\u30bf\u30c3\u30c1\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u306e\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\nPOLICY_ARN=$(aws iam list-attached-role-policies \\\n    --role-name ${ROLE_NAME} \\\n    --query \"AttachedPolicies[0].PolicyArn\" \\\n    --output text) \\\n    && echo ${POLICY_ARN}\n\n\n\n\u7d50\u679c\narn:aws:iam::************:policy/ServicePolicyFirehose\n\n\n\n\u30dd\u30ea\u30b7\u30fc\u306e\u30c7\u30bf\u30c3\u30c1\n\n\u30b3\u30de\u30f3\u30c9\naws iam detach-role-policy \\\n    --role-name ${ROLE_NAME} \\\n    --policy-arn ${POLICY_ARN}\n\n\n\n\u7d50\u679c\n\uff08\u8fd4\u5024\u7121\u3057\uff09\n\n\n\n\u30dd\u30ea\u30b7\u30fc\u304c\u30c7\u30bf\u30c3\u30c1\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\naws iam list-attached-role-policies \\\n    --role-name ${ROLE_NAME}\n\n\n\n\u7d50\u679c\n{\n    \"AttachedPolicies\": []\n}\n\n\n\n\u524a\u9664\n\n\u30b3\u30de\u30f3\u30c9\naws iam delete-role \\\n    --role-name ${ROLE_NAME}\n\n\n\n\u7d50\u679c\n\uff08\u8fd4\u5024\u7121\u3057\uff09\n\n\n\n\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\naws iam get-role \\\n    --role-name ${ROLE_NAME}\n\n\n\n\u7d50\u679c\nAn error occurred (NoSuchEntity) when calling the GetRole operation: Unknown\n\n\n\n4. IAM\u30dd\u30ea\u30b7\u30fc\u306e\u524a\u9664\n\n\u5909\u6570\u306e\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\ncat << ETX\n\n   POLICY_ARN: ${POLICY_ARN}\n\nETX\n\n\n\n\u7d50\u679c\n\n   POLICY_ARN: arn:aws:iam::************:policy/ServicePolicyFirehose\n\n\n\n\n\u524a\u9664\n\n\u30b3\u30de\u30f3\u30c9\naws iam delete-policy \\\n    --policy-arn ${POLICY_ARN}\n\n\n\n\u7d50\u679c\n\uff08\u8fd4\u5024\u7121\u3057\uff09\n\n\n\n\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\naws iam get-policy \\\n    --policy-arn ${POLICY_ARN}\n\n\n\n\u7d50\u679c\nAn error occurred (NoSuchEntity) when calling the GetPolicy operation: Policy arn:aws:iam::************:policy/ServicePolicyFirehose does not exist or is not attachable.\n\n\n\n5. \u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306e\u524a\u9664\n\n\u5909\u6570\u306e\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\ncat << ETX\n\n   LOG_GROUP_NAME: ${LOG_GROUP_NAME}\n\nETX\n\n\n\n\u7d50\u679c\n\n   LOG_GROUP_NAME: jawsug-cli-firehose\n\n\n\n\n\u524a\u9664\n\n\u30b3\u30de\u30f3\u30c9\naws logs delete-log-group \\\n    --log-group-name ${LOG_GROUP_NAME}\n\n\n\n\u7d50\u679c\n\uff08\u8fd4\u5024\u7121\u3057\uff09\n\n\n\n\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\naws logs describe-log-groups \\\n    --log-group-name-prefix ${LOG_GROUP_NAME}\n\n\n\n\u7d50\u679c\n{\n    \"logGroups\": []\n}\n\n\n\n6. S3\u30d0\u30b1\u30c3\u30c8\u306e\u524a\u9664\n\uff08Athena\u306e\u52d5\u4f5c\u78ba\u8a8d\u3092\u3057\u305f\u3044\u5834\u5408\u306f\u6b8b\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\uff09\n\n\u5909\u6570\u306e\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\ncat << ETX\n\n   BUCKET_NAME: ${BUCKET_NAME}\n\nETX\n\n\n\n\u7d50\u679c\n\n   BUCKET_NAME: jawsug-cli-firehose-************\n\n\n\n\n\u524a\u9664\n\n\u30b3\u30de\u30f3\u30c9\naws s3 rb s3://${BUCKET_NAME} --force\n\n\n\n\u7d50\u679c\nremove_bucket: jawsug-cli-firehose-************\n\n\n\n\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\naws s3 ls ${BUCKET_NAME}\n\n\n\n\u7d50\u679c\nAn error occurred (NoSuchBucket) when calling the ListObjects operation: The specified bucket does not exist\n\n\n\u4ee5\u4e0a\n# \u3053\u306e\u8a18\u4e8b\u306b\u3064\u3044\u3066\n\n[JAWS-UG CLI\u5c02\u9580\u652f\u90e8 #73 Kinesis Firehose\u5165\u9580](https://jawsug-cli.doorkeeper.jp/events/41915)\u3067\u5b9f\u65bd\u3059\u308b\u30cf\u30f3\u30ba\u30aa\u30f3\u7528\u306e\u624b\u9806\u66f8\u3067\u3059\u3002\n\n\n# \u524d\u63d0\u6761\u4ef6\n\n## \u5fc5\u8981\u306a\u6a29\u9650\n\n\u4f5c\u696d\u306b\u3042\u305f\u3063\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u6a29\u9650\u3092\u6709\u3057\u305fIAM\u30e6\u30fc\u30b6\u3082\u3057\u304f\u306fIAM\u30ed\u30fc\u30eb\u3092\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n- Kinesis Firehose\u306e\u30d5\u30eb\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u6a29\u9650\n- S3\u306e\u30d5\u30eb\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u6a29\u9650\n- STS\u306e\u95a2\u3059\u308b\u30d5\u30eb\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u6a29\u9650\n- IAM\u306e\u95a2\u3059\u308b\u30d5\u30eb\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u6a29\u9650\n- CloudWatch\u306e\u95a2\u3059\u308b\u30d5\u30eb\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u6a29\u9650\n- CloudWatch Logs\u306e\u95a2\u3059\u308b\u30d5\u30eb\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u6a29\u9650\n\n# 0. \u6e96\u5099\n\n## 0.1. \u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\n\n\u30aa\u30ec\u30b4\u30f3\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002\uff08\u6771\u4eac\u30de\u30c0\u30fc\uff1f\uff09\n\n```bash:\u30b3\u30de\u30f3\u30c9\nexport AWS_DEFAULT_REGION=\"us-west-2\"\n```\n\n## 0.2. \u8cc7\u683c\u60c5\u5831\u3092\u78ba\u8a8d\n\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws configure list\n```\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u5b9a\u3057\u305fEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3092\u8a2d\u5b9a\u305b\u305a\u306b\u5b9f\u884c\u3057\u305f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```text:\u7d50\u679c\n      Name                    Value             Type    Location\n      ----                    -----             ----    --------\n   profile                <not set>             None    None\naccess_key     ****************QSAA         iam-role\nsecret_key     ****************c1xY         iam-role\n    region                us-west-2              env    AWS_DEFAULT_REGION\n```\n\n## 0.3. \u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws --version\n```\n\n```text:\u7d50\u679c\naws-cli/1.11.24 Python/2.7.12 Linux/4.4.30-32.54.amzn1.x86_64 botocore/1.4.81\n```\n\n## 0.4. \u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\uff08\u5fc5\u8981\u306b\u5fdc\u3058\u3066\uff09\n\n```bash:\u30b3\u30de\u30f3\u30c9\nsudo pip install -U awscli\n```\n\n\n# 1. EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u524a\u9664\n\n## \u5909\u6570\u306e\u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\ncat << ETX\n\n   INSTANCE_ID: ${INSTANCE_ID}\n\nETX\n```\n\n```text:\u7d50\u679c\n\n   INSTANCE_ID: i-0****************\n\n```\n\n## \u524a\u9664\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws ec2 terminate-instances \\\n    --instance-ids ${INSTANCE_ID}\n```\n\n```json:\u7d50\u679c\n{\n    \"TerminatingInstances\": [\n        {\n            \"InstanceId\": \"i-0758452c3f6cdb188\",\n            \"CurrentState\": {\n                \"Code\": 32,\n                \"Name\": \"shutting-down\"\n            },\n            \"PreviousState\": {\n                \"Code\": 16,\n                \"Name\": \"running\"\n            }\n        }\n    ]\n}\n```\n\n## \u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws ec2 describe-instances \\\n    --instance-ids ${INSTANCE_ID}\n```\n\n```text:\u7d50\u679c\n\uff08\u9577\u3044\u306e\u3067\u7701\u7565\uff09\n```\n\n\uff08 (4)\u3067\u4f5c\u6210\u3057\u305f\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u306f\u5225\u9014\u524a\u9664\u3092\u304a\u9858\u3044\u3057\u307e\u3059>< \uff09\n\n\n# 2. \u30c7\u30ea\u30d0\u30ea\u30fc\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u524a\u9664\n\n## \u5909\u6570\u306e\u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\ncat << ETX\n\n   DELIVERY_STREAM_NAME: ${DELIVERY_STREAM_NAME}\n\nETX\n```\n\n```text:\u7d50\u679c\n\n   DELIVERY_STREAM_NAME: jawsug-cli-stream\n\n```\n\n## \u524a\u9664\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws firehose delete-delivery-stream \\\n    --delivery-stream-name ${DELIVERY_STREAM_NAME}\n```\n\n```text:\u7d50\u679c\n\uff08\u8fd4\u5024\u7121\u3057\uff09\n```\n\n## \u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws firehose describe-delivery-stream \\\n    --delivery-stream-name ${DELIVERY_STREAM_NAME}\n```\n\n```text:\u7d50\u679c\nAn error occurred (ResourceNotFoundException) when calling the DescribeDeliveryStream operation: Firehose jawsug-cli-stream under account ************ not found.\n```\n\n# 3. IAM\u30ed\u30fc\u30eb\u306e\u524a\u9664\n\n## \u524a\u9664\u5bfe\u8c61\u306e\u30ed\u30fc\u30eb\u540d\u3092\u6307\u5b9a\n\n```bash:\u30b3\u30de\u30f3\u30c9\nROLE_NAME='service-role-firehose'\n```\n\n## \u5909\u6570\u306e\u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\ncat << ETX\n\n   ROLE_NAME: ${ROLE_NAME}\n\nETX\n```\n\n```text:\u7d50\u679c\n\n   ROLE_NAME: service-role-firehose\n\n```\n\n## \u30c7\u30bf\u30c3\u30c1\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u306e\u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\nPOLICY_ARN=$(aws iam list-attached-role-policies \\\n    --role-name ${ROLE_NAME} \\\n    --query \"AttachedPolicies[0].PolicyArn\" \\\n    --output text) \\\n    && echo ${POLICY_ARN}\n```\n\n```text:\u7d50\u679c\narn:aws:iam::************:policy/ServicePolicyFirehose\n```\n\n## \u30dd\u30ea\u30b7\u30fc\u306e\u30c7\u30bf\u30c3\u30c1\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws iam detach-role-policy \\\n    --role-name ${ROLE_NAME} \\\n    --policy-arn ${POLICY_ARN}\n```\n\n```text:\u7d50\u679c\n\uff08\u8fd4\u5024\u7121\u3057\uff09\n```\n\n## \u30dd\u30ea\u30b7\u30fc\u304c\u30c7\u30bf\u30c3\u30c1\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws iam list-attached-role-policies \\\n    --role-name ${ROLE_NAME}\n```\n\n```json:\u7d50\u679c\n{\n    \"AttachedPolicies\": []\n}\n```\n\n## \u524a\u9664\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws iam delete-role \\\n    --role-name ${ROLE_NAME}\n```\n\n```text:\u7d50\u679c\n\uff08\u8fd4\u5024\u7121\u3057\uff09\n```\n\n## \u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws iam get-role \\\n    --role-name ${ROLE_NAME}\n```\n\n```text:\u7d50\u679c\nAn error occurred (NoSuchEntity) when calling the GetRole operation: Unknown\n```\n\n\n# 4. IAM\u30dd\u30ea\u30b7\u30fc\u306e\u524a\u9664\n\n## \u5909\u6570\u306e\u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\ncat << ETX\n\n   POLICY_ARN: ${POLICY_ARN}\n\nETX\n```\n\n```text:\u7d50\u679c\n\n   POLICY_ARN: arn:aws:iam::************:policy/ServicePolicyFirehose\n\n```\n\n## \u524a\u9664\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws iam delete-policy \\\n    --policy-arn ${POLICY_ARN}\n```\n\n```text:\u7d50\u679c\n\uff08\u8fd4\u5024\u7121\u3057\uff09\n```\n\n\n## \u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws iam get-policy \\\n    --policy-arn ${POLICY_ARN}\n```\n\n```text:\u7d50\u679c\nAn error occurred (NoSuchEntity) when calling the GetPolicy operation: Policy arn:aws:iam::************:policy/ServicePolicyFirehose does not exist or is not attachable.\n```\n\n\n# 5. \u30ed\u30b0\u30b0\u30eb\u30fc\u30d7\u306e\u524a\u9664\n\n## \u5909\u6570\u306e\u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\ncat << ETX\n\n   LOG_GROUP_NAME: ${LOG_GROUP_NAME}\n\nETX\n```\n\n```text:\u7d50\u679c\n\n   LOG_GROUP_NAME: jawsug-cli-firehose\n\n```\n\n## \u524a\u9664\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws logs delete-log-group \\\n    --log-group-name ${LOG_GROUP_NAME}\n```\n\n```text:\u7d50\u679c\n\uff08\u8fd4\u5024\u7121\u3057\uff09\n```\n\n## \u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws logs describe-log-groups \\\n    --log-group-name-prefix ${LOG_GROUP_NAME}\n```\n\n```json:\u7d50\u679c\n{\n    \"logGroups\": []\n}\n```\n\n\n# 6. S3\u30d0\u30b1\u30c3\u30c8\u306e\u524a\u9664\n\n\uff08Athena\u306e\u52d5\u4f5c\u78ba\u8a8d\u3092\u3057\u305f\u3044\u5834\u5408\u306f\u6b8b\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\uff09\n\n## \u5909\u6570\u306e\u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\ncat << ETX\n\n   BUCKET_NAME: ${BUCKET_NAME}\n\nETX\n```\n\n```text:\u7d50\u679c\n\n   BUCKET_NAME: jawsug-cli-firehose-************\n\n```\n\n## \u524a\u9664\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws s3 rb s3://${BUCKET_NAME} --force\n```\n\n```text:\u7d50\u679c\nremove_bucket: jawsug-cli-firehose-************\n```\n\n## \u78ba\u8a8d\n\n```bash:\u30b3\u30de\u30f3\u30c9\naws s3 ls ${BUCKET_NAME}\n```\n\n```text:\u7d50\u679c\nAn error occurred (NoSuchBucket) when calling the ListObjects operation: The specified bucket does not exist\n```\n\n\u4ee5\u4e0a\n", "tags": ["AWS", "aws-cli", "Kinesis", "Firehose"]}