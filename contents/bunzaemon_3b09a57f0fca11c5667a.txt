{"context": " More than 1 year has passed since last update.$ grep -A 2 kwd FILE\n\n\u7684\u306b\u3001kwd \u304b\u3089\u306e\u6570\u884c\u3092\u898b\u305f\u3044\u66421\u3002\n\u7c21\u5358\u306b\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3068\u3002\n\n\u7bc4\u56f2\u6f14\u7b97\u5b50\u5229\u7528\n\ntest.pl\n#!/usr/bin/env perl\n\nmy $f ;\nwhile(<>){\n    next if !( $f = /kwd/ ... $f == 2 )  ;\n    print join \"\\t\", $f, $., $_ ;\n}\n\n\n$ perl test.pl test.pl\n1   5       next if !( $f = /kwd/ ... $f == 2 )  ;\n2   6       print join \"\\t\", $f, $., $_ ;\n3E0 7   }\n\n\u7bc4\u56f2\u6f14\u7b97\u5b50\u306e\u89e3\u91c8\u306f\u3001\u3053\u306e\u4e0a\u306a\u304f\u660e\u767d\u3002\n\n\u4e00\u884c\u524d\u306e\u30d5\u30e9\u30b0\u304c == 2 \u3067\u3042\u3063\u305f\u3089\u3001\u7d42\u4e86\u3067\u3059\u3088\u3001\u3068\u66f8\u3044\u3066\u308b\u3060\u3051\u3002\n\n.. \u3067\u306f\u3001\u7bc4\u56f2\u6f14\u7b97\u5b50\u306e\u53f3\u8fba\u304c unintialized value \u8b66\u544a\u3092\u51fa\u3059\u3002\n\n\n\u81ea\u529b\u3067\u30d5\u30e9\u30b0\n\ntest2.pl\n#!/usr/bin/env perl\n\nmy $f ;\nwhile(<>){\n    $f = 0 if /kwd/ ;\n    print $_  if defined $f and $f ++ <= 3 ;\n    undef $f if $f  == 3 ;\n}\n\n\n$ perl test2.pl test2.pl\n    $f = 0 if /kwd/ ;\n    print join \"\\t\", $f, $., $_  if defined $f and $f ++ <= 3 ;\n    undef $f if $f  == 3 ;\n\n\n\u30d5\u30e9\u30b0\u7ba1\u7406\u304c\u4e09\u500b\u6240\u306b\u6e21\u308b\u306e\u3067\u3001\u7169\u96d1\u306b\u306a\u308b\u3002\n\n$f = 0 \u306e\u6642\u3001! $f \u306f\u771f\u3067\u3042\u308b\u3068\u304b\u3001\u305d\u3053\u3089\u306b\u3082\u6c17\u3092\u3064\u3051\u306a\u3044\u3068\u3044\u3051\u306a\u30442\u3002\n\n\n\u7bc4\u56f2\u6f14\u7b97\u5b50\u306e\u5834\u5408\u306e\u30d5\u30e9\u30b0\u306f > 0 or undef \u304c\u4fdd\u8a3c\u3055\u308c\u308b\u3002\n\n\n\n\nperl6\n\ntest3.pl\nuse v6 ;\nmy $f ;\nfor @*ARGS[0].IO.lines {\n    next if !( $f = /kwd/ fff $f == 2 )  ;\n    .say;\n}\n\n\n\n\n\n\ngrep \u306f\u91cd\u8907\u3092\u304d\u3061\u3093\u3068\u30d5\u30a9\u30ed\u30fc\u3059\u308b\u304c\u3001\u305d\u3053\u306f\u671b\u307e\u306a\u3044\u3068\u3057\u3066\u3002\u00a0\u21a9\n\n\n\u3053\u306e\u30b3\u30fc\u30c9\u3067\u306f\u7121\u95a2\u4fc2\u3060\u3051\u3069\u3002\u00a0\u21a9\n\n\n\n\n```\n$ grep -A 2 kwd FILE\n```\n\n\u7684\u306b\u3001kwd \u304b\u3089\u306e\u6570\u884c\u3092\u898b\u305f\u3044\u6642[^1]\u3002\n\n[^1]: grep \u306f\u91cd\u8907\u3092\u304d\u3061\u3093\u3068\u30d5\u30a9\u30ed\u30fc\u3059\u308b\u304c\u3001\u305d\u3053\u306f\u671b\u307e\u306a\u3044\u3068\u3057\u3066\u3002\n\n\u7c21\u5358\u306b\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3068\u3002\n\n### \u7bc4\u56f2\u6f14\u7b97\u5b50\u5229\u7528\n\n```perl:test.pl\n#!/usr/bin/env perl\n\nmy $f ;\nwhile(<>){\n    next if !( $f = /kwd/ ... $f == 2 )  ;\n    print join \"\\t\", $f, $., $_ ;\n}\n```\n\n```\n$ perl test.pl test.pl\n1\t5\t    next if !( $f = /kwd/ ... $f == 2 )  ;\n2\t6\t    print join \"\\t\", $f, $., $_ ;\n3E0\t7\t}\n```\n\n\u7bc4\u56f2\u6f14\u7b97\u5b50\u306e\u89e3\u91c8\u306f\u3001\u3053\u306e\u4e0a\u306a\u304f\u660e\u767d\u3002\n\n- \u4e00\u884c\u524d\u306e\u30d5\u30e9\u30b0\u304c `== 2` \u3067\u3042\u3063\u305f\u3089\u3001\u7d42\u4e86\u3067\u3059\u3088\u3001\u3068\u66f8\u3044\u3066\u308b\u3060\u3051\u3002\n- `..` \u3067\u306f\u3001\u7bc4\u56f2\u6f14\u7b97\u5b50\u306e\u53f3\u8fba\u304c unintialized value \u8b66\u544a\u3092\u51fa\u3059\u3002\n\n### \u81ea\u529b\u3067\u30d5\u30e9\u30b0\n\n```perl:test2.pl\n#!/usr/bin/env perl\n\nmy $f ;\nwhile(<>){\n    $f = 0 if /kwd/ ;\n    print $_  if defined $f and $f ++ <= 3 ;\n    undef $f if $f  == 3 ;\n}\n```\n\n```\n$ perl test2.pl test2.pl\n    $f = 0 if /kwd/ ;\n    print join \"\\t\", $f, $., $_  if defined $f and $f ++ <= 3 ;\n    undef $f if $f  == 3 ;\n```\n\n- \u30d5\u30e9\u30b0\u7ba1\u7406\u304c\u4e09\u500b\u6240\u306b\u6e21\u308b\u306e\u3067\u3001\u7169\u96d1\u306b\u306a\u308b\u3002\n- `$f = 0` \u306e\u6642\u3001`! $f` \u306f\u771f\u3067\u3042\u308b\u3068\u304b\u3001\u305d\u3053\u3089\u306b\u3082\u6c17\u3092\u3064\u3051\u306a\u3044\u3068\u3044\u3051\u306a\u3044[^2]\u3002\n\t- \u7bc4\u56f2\u6f14\u7b97\u5b50\u306e\u5834\u5408\u306e\u30d5\u30e9\u30b0\u306f `> 0` or `undef` \u304c\u4fdd\u8a3c\u3055\u308c\u308b\u3002\n\n[^2]: \u3053\u306e\u30b3\u30fc\u30c9\u3067\u306f\u7121\u95a2\u4fc2\u3060\u3051\u3069\u3002\n\n### perl6\n\n```perl6:test3.pl\nuse v6 ;\nmy $f ;\nfor @*ARGS[0].IO.lines {\n    next if !( $f = /kwd/ fff $f == 2 )  ;\n    .say;\n}\n```\n", "tags": ["Perl", "Perl6"]}