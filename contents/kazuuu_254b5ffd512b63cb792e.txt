{"context": "\n\nAnimationDrawable\u3092\u6d3b\u7528\n\u97f3\u91cf\u306eON / OFF\u3092\u5207\u308a\u66ff\u3048\u308b\u30dc\u30bf\u30f3\u3092\u60f3\u5b9a\u3002\nON\u306e\u3068\u304d\u306b\u306f\u3001\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3067\u97f3\u304c\u51fa\u3066\u3044\u308b\u3053\u3068\u3092\u30a2\u30d4\u30fc\u30eb\u3002\n\n\u5b8c\u6210\u5f62\n\n\ndrawable\u306e\u8a2d\u5b9a\n\nres/drawable/animation_sound.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:oneshot=\"false\"\n    android:visible=\"true\">\n\n    <item\n        android:drawable=\"@drawable/sound_on_max\"\n        android:duration=\"750\" />\n    <item\n        android:drawable=\"@drawable/sound_on_min\"\n        android:duration=\"500\" />\n    <item\n        android:drawable=\"@drawable/sound_on_mid\"\n        android:duration=\"500\" />\n\n</animation-list>\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\n\u6982\u8981\n\n\n\n\nandroid:oneshot\ntrue\u3060\u3068\u7e70\u308a\u8fd4\u3057\u7121\u3057\u3002false\u3060\u3068\u30ea\u30d4\u30fc\u30c8\n\n\nandroid:visible\n\u521d\u671f\u72b6\u614b\u3067\u306e\u53ef\u8996\u72b6\u614b\n\n\nandroid:duration\n\u8868\u793a\u6642\u9593(ms)\n\n\n\n\n\u53c2\u8003\u753b\u50cf\n\n\n\n\u30d5\u30a1\u30a4\u30eb\u540d\n\u753b\u50cf\n\n\n\n\nsound_on_max\n\n\n\nsound_on_mid\n\n\n\nsound_on_min\n\n\n\nsound_off\n\n\n\n\n\nActivity\u306e\u8a2d\u5b9a\npublic class MainActivity extends AppCompatActivity {\n\n    private ImageView img;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        img = (ImageView) findViewById(R.id.imageView);\n        img.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (img.getBackground() instanceof AnimationDrawable) {\n                    img.setBackground(ContextCompat.getDrawable(MainActivity.this, R.drawable.sound_off));\n                } else {\n                    img.setBackground(ContextCompat.getDrawable(MainActivity.this, R.drawable.animation_sound));\n                    // AnimationDrawable\u3092\u53d6\u5f97\n                    AnimationDrawable frameAnimation = (AnimationDrawable) img.getBackground();\n                    // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u59cb\n                    frameAnimation.start();\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onWindowFocusChanged(boolean hasFocus) {\n        super.onWindowFocusChanged(hasFocus);\n        if (img == null) {\n            return;\n        }\n        if (img.getBackground() instanceof AnimationDrawable) {\n            // AnimationDrawable\u3092\u53d6\u5f97\n            AnimationDrawable frameAnimation = (AnimationDrawable) img.getBackground();\n\n            // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u59cb\n            frameAnimation.start();\n        }\n    }\n}\n\n\u53c2\u8003\u307e\u3067\u306b\uff01\ngithub -> https://github.com/tttakaoka/AnimationDrawableForSound\n\n\u53c2\u8003\u30da\u30fc\u30b8\nhttp://techbooster.jpn.org/andriod/ui/2192/\nhttps://design.google.com/icons/#ic_volume_up\n\n#AnimationDrawable\u3092\u6d3b\u7528\n\n\u97f3\u91cf\u306eON / OFF\u3092\u5207\u308a\u66ff\u3048\u308b\u30dc\u30bf\u30f3\u3092\u60f3\u5b9a\u3002\nON\u306e\u3068\u304d\u306b\u306f\u3001\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3067\u97f3\u304c\u51fa\u3066\u3044\u308b\u3053\u3068\u3092\u30a2\u30d4\u30fc\u30eb\u3002\n\n##\u5b8c\u6210\u5f62\n![animation_sample.gif](https://qiita-image-store.s3.amazonaws.com/0/61340/ce34e230-7770-59b9-cf92-24d5a8d8ab8c.gif \"animation_sample.gif\")\n\n\n##drawable\u306e\u8a2d\u5b9a\n\n```res/drawable/animation_sound.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:oneshot=\"false\"\n    android:visible=\"true\">\n\n    <item\n        android:drawable=\"@drawable/sound_on_max\"\n        android:duration=\"750\" />\n    <item\n        android:drawable=\"@drawable/sound_on_min\"\n        android:duration=\"500\" />\n    <item\n        android:drawable=\"@drawable/sound_on_mid\"\n        android:duration=\"500\" />\n\n</animation-list>\n```\n\n###\u30d1\u30e9\u30e1\u30fc\u30bf\n\n|\u30d1\u30e9\u30e1\u30fc\u30bf|\u6982\u8981|\n|:-:|:-:|\n|android:oneshot|true\u3060\u3068\u7e70\u308a\u8fd4\u3057\u7121\u3057\u3002false\u3060\u3068\u30ea\u30d4\u30fc\u30c8|\n|android:visible|\u521d\u671f\u72b6\u614b\u3067\u306e\u53ef\u8996\u72b6\u614b|\n|android:duration|\u8868\u793a\u6642\u9593(ms)|\n\n###\u53c2\u8003\u753b\u50cf\n\n|\u30d5\u30a1\u30a4\u30eb\u540d|\u753b\u50cf|\n|:-:|:-:|\n|sound_on_max|![sound_on_max.png](https://qiita-image-store.s3.amazonaws.com/0/61340/82c3cb64-32dd-954c-628a-d7fa2e47ba65.png \"sound_on_max.png\")|\n|sound_on_mid|![sound_on_mid.png](https://qiita-image-store.s3.amazonaws.com/0/61340/a994a8dd-d140-a089-efb3-ca436fc06939.png \"sound_on_mid.png\")|\n|sound_on_min|![sound_on_min.png](https://qiita-image-store.s3.amazonaws.com/0/61340/598d3bb1-148c-fa95-c0bb-4f736ab4a130.png \"sound_on_min.png\")|\n|sound_off|![sound_off.png](https://qiita-image-store.s3.amazonaws.com/0/61340/fb485dec-dd2a-891c-b494-8f433fb3aee8.png \"sound_off.png\")|\n\n##Activity\u306e\u8a2d\u5b9a\n\n```MainActivity\npublic class MainActivity extends AppCompatActivity {\n\n    private ImageView img;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        img = (ImageView) findViewById(R.id.imageView);\n        img.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (img.getBackground() instanceof AnimationDrawable) {\n                    img.setBackground(ContextCompat.getDrawable(MainActivity.this, R.drawable.sound_off));\n                } else {\n                    img.setBackground(ContextCompat.getDrawable(MainActivity.this, R.drawable.animation_sound));\n                    // AnimationDrawable\u3092\u53d6\u5f97\n                    AnimationDrawable frameAnimation = (AnimationDrawable) img.getBackground();\n                    // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u59cb\n                    frameAnimation.start();\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onWindowFocusChanged(boolean hasFocus) {\n        super.onWindowFocusChanged(hasFocus);\n        if (img == null) {\n            return;\n        }\n        if (img.getBackground() instanceof AnimationDrawable) {\n            // AnimationDrawable\u3092\u53d6\u5f97\n            AnimationDrawable frameAnimation = (AnimationDrawable) img.getBackground();\n\n            // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u59cb\n            frameAnimation.start();\n        }\n    }\n}\n```\n\n\u53c2\u8003\u307e\u3067\u306b\uff01\ngithub -> https://github.com/tttakaoka/AnimationDrawableForSound\n####\u53c2\u8003\u30da\u30fc\u30b8\nhttp://techbooster.jpn.org/andriod/ui/2192/\nhttps://design.google.com/icons/#ic_volume_up\n\n\n\n\n", "tags": ["\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3", "Android", "Java"]}