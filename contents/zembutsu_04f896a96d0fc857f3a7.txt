{"context": "\n\n\u6982\u8981\nDigitalOcenan \u4e0a\u306b Docker Mahcine \u3092\u4f7f\u3044\u3001CentOS 7.2 \u306e\u30c9\u30ed\u30c3\u30d7\u30ec\u30c3\u30c8\uff08\u4eee\u60f3\u30de\u30b7\u30f3\uff09\u3068 Docker Engine \u3092\u81ea\u52d5\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3059\u308b\u65b9\u6cd5\u3002\n\n\u4e8b\u524d\u6e96\u5099\n\nDigitalOcean \u306e API \u30c8\u30fc\u30af\u30f3 (write) \u306e\u4f5c\u6210\nDocker Mahcine \u306e\u30d0\u30a4\u30ca\u30ea\n\n\n\u4f5c\u6210\u65b9\u6cd5\n$ export $do_token='\u81ea\u5206\u306eAPI_token'\n$ docker-machine create \\\n    --driver digitalocean \\\n    --digitalocean-access-token $do_token  \\\n    --digitalocean-region sgp1 \\\n    --digitalocean-size 2gb \\\n    --digitalocean-image centos-7-0-x64 \\\n     centos7-docker\n\n\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001\u4e0a\u304b\u3089\n\n\n--driver \u2026 DigitalOcean \u7528\u306e Docker Machine \u30c9\u30e9\u30a4\u30d0\u3092\u4f7f\u3046\uff08 \u5fc5\u9808 )\n\n--digitalocean-access-token \u2026 API \u30c8\u30fc\u30af\u30f3\u306e\u6307\u5b9a ( \u5fc5\u9808)\n\n--digitalocean-region \u2026 \u30ea\u30fc\u30b8\u30e7\u30f3\u3092 sgp1 \uff08\u30b7\u30f3\u30ac\u30dd\u30fc\u30eb\uff11\uff09\n\n--digitalocean-size \u2026 \u30c9\u30ed\u30c3\u30d7\u30ec\u30c3\u30c8\u306e\u30b5\u30a4\u30ba\u3092 2gb\n\n\n--digitalocean-image \u2026 \u4eee\u60f3\u30de\u30b7\u30f3\u30fb\u30a4\u30e1\u30fc\u30b8\u3092 CentOS 7.2 \u306b\u3059\u308b\u305f\u3081 centos-7-0-x64 \u3092\u6307\u5b9a\n\u30db\u30b9\u30c8\u540d\u3092 centos7-docker \u306b\uff08\u30db\u30b9\u30c8\u540d\u306e\u6307\u5b9a\u306f \u5fc5\u9808 \uff09\n\n\u3053\u3053\u3067\u91cd\u8981\u306a\u306e\u306f CentOS 7.2 x86 \u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f\u3001\u30a4\u30e1\u30fc\u30b8\u306b centos-7-0-x64 \uff087.2\u3067\u306f\u306a\u3044\uff09\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306b\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002\nRunning pre-create checks...\nCreating machine...\n(centos7-docker) Creating SSH key...\n(centos7-docker) Creating Digital Ocean droplet...\n(centos7-docker) Waiting for IP address to be assigned to the Droplet...\nWaiting for machine to be running, this may take a few minutes...\nDetecting operating system of created instance...\nWaiting for SSH to be available...\nDetecting the provisioner...\nProvisioning with centos...\nCopying certs to the local machine directory...\nCopying certs to the remote machine...\nSetting Docker configuration on the remote daemon...\nChecking connection to Docker...\nDocker is up and running!\nTo see how to connect your Docker Client to the Docker Engine running on this virtual machine, run: (snip)\n\n\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\u306f\u3001\u30a8\u30e9\u30fc\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3002\u306a\u304a\u3001\u4f5c\u6210\u3057\u305f\u30db\u30b9\u30c8\u306f docker-machine ls \u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002\n$ docker-machine ls\nNAME             ACTIVE   DRIVER         STATE     URL                          SWARM   DOCKER    ERRORS\ncentos7-docker   -        digitalocean   Running   tcp://<ip>:2376             v1.10.3\n\n\n\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306e\u78ba\u8a8d\n$ docker-machine ssh centos7-docker\nLast login: Thu Mar 31 07:17:47 2016 from xxx\n[root@centos7-docker ~]# cat /etc/redhat-release\nCentOS Linux release 7.2.1511 (Core)\n[root@centos7-docker ~]# docker ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\nCentOS 7.2 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u304a\u3088\u3073 docker \u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u308b\uff08\u81ea\u52d5\u7684\u306b\u30d7\u30ed\u30d3\u30b8\u30e7\u30f3\u3055\u308c\u305f\uff09\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n\n\u88dc\u8db3\n\n\u306a\u305c Qiita \u306b\u66f8\u3053\u3046\u3068\u601d\u3063\u305f\u306e\u304b\n\n\u30a4\u30e1\u30fc\u30b8\u306f CenOS 7.2 \u306a\u306e\u306b API \u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6642\u306f centos-7-0-x64 \u3067\u6307\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3068\u3044\u3046\u3001\u7f60\u304c\u3042\u3063\u305f\u305f\u3081\u3002\n\n\n\u30a4\u30e1\u30fc\u30b8\u306e\u8abf\u3079\u65b9\n$ curl -H \"Authorization: Bearer $do_token\" \\\n    -X GET \"https://api.digitalocean.com/v2/images\" | jq \".\"\n\nAPI \u3067\u30a4\u30e1\u30fc\u30b8\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u7d50\u679c\u304b\u3089\u3001 CentOS 7.2 x64 \u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u3046\u306b\u306f\u3001\"slug\": \"centos-7-0-x64\" \u306e\u6307\u5b9a\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002\n{\n  \"images\": [\n    {\n\uff08\u7701\u7565\uff09\n    {\n      \"id\": 16040476,\n      \"name\": \"7.2 x64\",\n      \"distribution\": \"CentOS\",\n      \"slug\": \"centos-7-0-x64\",\n      \"public\": true,\n      \"regions\": [\n        \"nyc1\",\n        \"sfo1\",\n        \"nyc2\",\n        \"ams2\",\n        \"sgp1\",\n        \"lon1\",\n        \"nyc3\",\n        \"ams3\",\n        \"fra1\",\n        \"tor1\"\n      ],\n      \"created_at\": \"2016-02-29T21:17:07Z\",\n      \"min_disk_size\": 20,\n      \"type\": \"snapshot\"\n    },\n\uff08\u7701\u7565\uff09\n\n\n\u53c2\u8003\u60c5\u5831\n\nDigitalOcean API v2 Documentation\n\n\nhttps://developers.digitalocean.com/documentation/v2/\n \n\n\n\n# \u6982\u8981\n\n[DigitalOcenan](https://www.digitalocean.com/) \u4e0a\u306b Docker Mahcine \u3092\u4f7f\u3044\u3001CentOS 7.2 \u306e\u30c9\u30ed\u30c3\u30d7\u30ec\u30c3\u30c8\uff08\u4eee\u60f3\u30de\u30b7\u30f3\uff09\u3068 Docker Engine \u3092\u81ea\u52d5\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3059\u308b\u65b9\u6cd5\u3002\n\n## \u4e8b\u524d\u6e96\u5099\n\n* DigitalOcean \u306e [API \u30c8\u30fc\u30af\u30f3 (write)](https://cloud.digitalocean.com/settings/api/tokens) \u306e\u4f5c\u6210\n* Docker Mahcine \u306e\u30d0\u30a4\u30ca\u30ea\n\n## \u4f5c\u6210\u65b9\u6cd5\n\n```\n$ export $do_token='\u81ea\u5206\u306eAPI_token'\n$ docker-machine create \\\n    --driver digitalocean \\\n    --digitalocean-access-token $do_token  \\\n    --digitalocean-region sgp1 \\\n    --digitalocean-size 2gb \\\n    --digitalocean-image centos-7-0-x64 \\\n     centos7-docker\n```\n\n\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001\u4e0a\u304b\u3089\n\n* ``--driver`` \u2026 DigitalOcean \u7528\u306e Docker Machine \u30c9\u30e9\u30a4\u30d0\u3092\u4f7f\u3046\uff08 **\u5fc5\u9808** )\n* ``--digitalocean-access-token`` \u2026 API \u30c8\u30fc\u30af\u30f3\u306e\u6307\u5b9a ( **\u5fc5\u9808**)\n* ``--digitalocean-region`` \u2026 \u30ea\u30fc\u30b8\u30e7\u30f3\u3092 ``sgp1`` \uff08\u30b7\u30f3\u30ac\u30dd\u30fc\u30eb\uff11\uff09\n* ``--digitalocean-size`` \u2026 \u30c9\u30ed\u30c3\u30d7\u30ec\u30c3\u30c8\u306e\u30b5\u30a4\u30ba\u3092 ``2gb``\n* ``--digitalocean-image`` \u2026 \u4eee\u60f3\u30de\u30b7\u30f3\u30fb\u30a4\u30e1\u30fc\u30b8\u3092 CentOS 7.2 \u306b\u3059\u308b\u305f\u3081 ``centos-7-0-x64`` \u3092\u6307\u5b9a\n* \u30db\u30b9\u30c8\u540d\u3092 ``centos7-docker`` \u306b\uff08\u30db\u30b9\u30c8\u540d\u306e\u6307\u5b9a\u306f **\u5fc5\u9808** \uff09\n\n\u3053\u3053\u3067\u91cd\u8981\u306a\u306e\u306f ``CentOS 7.2 x86`` \u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f\u3001\u30a4\u30e1\u30fc\u30b8\u306b ``centos-7-0-x64`` \uff087.2\u3067\u306f\u306a\u3044\uff09\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306b\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002\n\n```\nRunning pre-create checks...\nCreating machine...\n(centos7-docker) Creating SSH key...\n(centos7-docker) Creating Digital Ocean droplet...\n(centos7-docker) Waiting for IP address to be assigned to the Droplet...\nWaiting for machine to be running, this may take a few minutes...\nDetecting operating system of created instance...\nWaiting for SSH to be available...\nDetecting the provisioner...\nProvisioning with centos...\nCopying certs to the local machine directory...\nCopying certs to the remote machine...\nSetting Docker configuration on the remote daemon...\nChecking connection to Docker...\nDocker is up and running!\nTo see how to connect your Docker Client to the Docker Engine running on this virtual machine, run: (snip)\n```\n\n\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\u306f\u3001\u30a8\u30e9\u30fc\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3002\u306a\u304a\u3001\u4f5c\u6210\u3057\u305f\u30db\u30b9\u30c8\u306f ``docker-machine ls`` \u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n```\n$ docker-machine ls\nNAME             ACTIVE   DRIVER         STATE     URL                          SWARM   DOCKER    ERRORS\ncentos7-docker   -        digitalocean   Running   tcp://<ip>:2376             v1.10.3\n```\n\n## \u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306e\u78ba\u8a8d\n\n```\n$ docker-machine ssh centos7-docker\nLast login: Thu Mar 31 07:17:47 2016 from xxx\n[root@centos7-docker ~]# cat /etc/redhat-release\nCentOS Linux release 7.2.1511 (Core)\n[root@centos7-docker ~]# docker ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n```\n\nCentOS 7.2 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u304a\u3088\u3073 ``docker`` \u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u308b\uff08\u81ea\u52d5\u7684\u306b\u30d7\u30ed\u30d3\u30b8\u30e7\u30f3\u3055\u308c\u305f\uff09\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n\n## \u88dc\u8db3\n\n### \u306a\u305c Qiita \u306b\u66f8\u3053\u3046\u3068\u601d\u3063\u305f\u306e\u304b\n\n* \u30a4\u30e1\u30fc\u30b8\u306f CenOS 7.2 \u306a\u306e\u306b API \u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6642\u306f ``centos-7-0-x64`` \u3067\u6307\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3068\u3044\u3046\u3001\u7f60\u304c\u3042\u3063\u305f\u305f\u3081\u3002\n\n### \u30a4\u30e1\u30fc\u30b8\u306e\u8abf\u3079\u65b9\n\n```\n$ curl -H \"Authorization: Bearer $do_token\" \\\n    -X GET \"https://api.digitalocean.com/v2/images\" | jq \".\"\n```\n\nAPI \u3067\u30a4\u30e1\u30fc\u30b8\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u7d50\u679c\u304b\u3089\u3001 ``CentOS 7.2 x64`` \u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u3046\u306b\u306f\u3001``\"slug\": \"centos-7-0-x64\"`` \u306e\u6307\u5b9a\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\n```json\n{\n  \"images\": [\n    {\n\uff08\u7701\u7565\uff09\n    {\n      \"id\": 16040476,\n      \"name\": \"7.2 x64\",\n      \"distribution\": \"CentOS\",\n      \"slug\": \"centos-7-0-x64\",\n      \"public\": true,\n      \"regions\": [\n        \"nyc1\",\n        \"sfo1\",\n        \"nyc2\",\n        \"ams2\",\n        \"sgp1\",\n        \"lon1\",\n        \"nyc3\",\n        \"ams3\",\n        \"fra1\",\n        \"tor1\"\n      ],\n      \"created_at\": \"2016-02-29T21:17:07Z\",\n      \"min_disk_size\": 20,\n      \"type\": \"snapshot\"\n    },\n\uff08\u7701\u7565\uff09\n```\n\n## \u53c2\u8003\u60c5\u5831\n\n* DigitalOcean API v2 Documentation\n * https://developers.digitalocean.com/documentation/v2/\n *  \n", "tags": ["docker-machine", "DigitalOcean", "CentOS7"]}