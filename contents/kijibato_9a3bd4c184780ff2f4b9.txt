{"tags": ["Puppet"], "context": " More than 1 year has passed since last update.Puppet Advent Calendar 2015\u306e9\u65e5\u76ee\u3067\u3059\u3002\u5f8c\u65e5\u6295\u7a3f\u3059\u308b\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306e\u6e96\u5099\u3067\u3064\u307e\u3063\u305f\u5185\u5bb9\u3092\u3001Tips\u307d\u304f\u307e\u3068\u3081\u307e\u3057\u305f\u3002\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306e\u6295\u7a3f\u306f\u3001\u8aad\u307f\u3065\u3089\u3044\u304f\u306a\u308a\u305d\u3046\u306a\u306e\u3067\u3002\u3002\u3002\u3082\u3063\u3068\u7c21\u5358\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u5909\u66f4\u3067\u304d\u308b\u65b9\u6cd5\u304c\u3042\u308c\u3070\u3001\u6559\u3048\u3066\u3044\u305f\u3060\u3051\u308b\u3068\u3046\u308c\u3057\u3044\u3067\u3059\u3002\n\n\u3053\u308c\u306f\u4f55\nCentOS6\u3068\u304b\u3060\u3068\u3001\u666e\u901a\u306b\u5165\u308bRuby\u304c1.8.7\u3060\u3063\u305f\u308a\u3057\u307e\u3059\u304c\u3001\u3082\u3063\u3068\u65b0\u3057\u3044Ruby\u3067Puppet\u3092\u52d5\u304b\u3057\u305f\u3044\u3068\u304b\u3042\u3063\u305f\u308a\u3057\u307e\u3059\u3002\u306a\u306e\u3067\u3001\u4ed6\u30c4\u30fc\u30eb\u306b\u5f71\u97ff\u4e0e\u3048\u305a\u306b\u3001Puppet\u304c\u4f7f\u3046Ruby\u3060\u3051\u5909\u3048\u308b\u65b9\u6cd5\u306e\u7d39\u4ecb\u3067\u3059\u3002\n\n\u65b9\u6cd5\u2460 puppet-agent\n\u65b0\u3057\u3044puppet-agent\u3092\u5165\u308c\u308b\u3002\u4ee5\u524d\u304b\u3089\u306epuppet\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u306f\u5225\u7269\u307d\u3044\u3067\u3059\u3002\u30ea\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\u306b\u4f7f\u3046rpm\u3082\u9055\u3046\u306e\u3067\u3001\u65e7puppet\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u5fae\u5999\u306b\u30b3\u30de\u30f3\u30c9\u304c\u9055\u3044\u307e\u3059\u3002\npuppet-agent\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\u5c02\u7528\u306eRuby\u304c\u30bb\u30c3\u30c8\u3067\u5165\u308a\u307e\u3059\u3002\nOS\u306e\u78ba\u8a8d\n# cat /etc/centos-release \nCentOS release 6.7 (Final)\n\npuppet-agent\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(CentOS6)\u3002\n# rpm -ivh https://yum.puppetlabs.com/puppetlabs-release-pc1-el-6.noarch.rpm\n# yum clean all\n# yum install -y puppet-agent\n\n\u203bCentOS7\u306e\u5834\u5408\n# rpm -ivh https://yum.puppetlabs.com/puppetlabs-release-pc1-el-7.noarch.rpm\n# yum clean all\n# yum install -y puppet-agent\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306ePuppet\u5074\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\u3002Ruby2.1.7\n# /opt/puppetlabs/bin/puppet --version\n4.3.1\n# /opt/puppetlabs/bin/facter ruby     \n{\n  platform => \"x86_64-linux\",\n  sitedir => \"/opt/puppetlabs/puppet/lib/ruby/site_ruby/2.1.0\",\n  version => \"2.1.7\"\n}\n# /opt/puppetlabs/puppet/bin/ruby --version\nruby 2.1.7p400 (2015-08-18 revision 51632) [x86_64-linux]\n\nOS\u5074\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\u3002Ruby1.8.7\n# ruby --version\nruby 1.8.7 (2013-06-27 patchlevel 374) [x86_64-linux]\n\n\u5171\u5b58\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u65b9\u6cd5\u2461 rbenv + Gems\nPuppet\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u3048\u305a\u306b\u3001Ruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u3048\u305f\u3044\u5834\u5408\u306f\u3053\u3063\u3061\u3002\u305f\u3060\u3061\u3087\u3063\u3068\u624b\u9806\u306f\u591a\u3044\u3046\u3048\u306b\u3001\u7d50\u5c40\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u3059\u3002\u306a\u306e\u3067\u3001Puppet\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3053\u3060\u308f\u3089\u306a\u3051\u308c\u3070\u3001\u65b9\u6cd5\u2460\u63a8\u5968\u3067\u3059\u3002\n\nrbenv\u3067Ruby\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u306e\u30d6\u30ed\u30b0\u3092\u53c2\u8003\u306bRuby\u3092\u5165\u308c\u3066\u3044\u304d\u307e\u3059\u3002Ruby\u3092\u30d3\u30eb\u30c9\u3059\u308b\u306e\u3067\u5c11\u3057\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\nCentOS/RHEL \u306b Ruby 2.x \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u308b\n\u30d3\u30eb\u30c9\u3059\u308bRuby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u9055\u3046\u306e\u3067\u3001\u30d3\u30eb\u30c9\u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\u3089\u30a8\u30e9\u30fc\u6587\u3092\u983c\u308a\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\nyum install -y git tar gcc make openssl-devel libffi-devel readline-devel\n\n\nrbenv\u306e\u6e96\u5099\n# cd /opt\n# git clone git://github.com/sstephenson/rbenv.git\n# mkdir /opt/rbenv/plugins\n# cd /opt/rbenv/plugins\n# git clone git://github.com/sstephenson/ruby-build.git\n\n\n\u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\n\u6b21\u56de\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u3082\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u3001/etc/profile\u306a\u3069\u306b\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u7701\u7565\u3002\n# export RBENV_ROOT=\"/opt/rbenv\"\n# export PATH=\"${RBENV_ROOT}/bin:${PATH}\"\n# eval \"$(rbenv init -)\"\n\n\nRuby\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrbenv install -l\u3067\u30012.1.7\u304c\u3042\u3063\u305f\u306e\u3067\u30012.1.7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3060\u3068\u3001\u30b3\u30fc\u30c9\u4fee\u6b63\u3057\u306a\u3044\u3068\u30d3\u30eb\u30c9\u304c\u901a\u3089\u306a\u3044\u3068\u304b\u3042\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u7d50\u69cb\u30c8\u30e9\u30a4\uff06\u30a8\u30e9\u30fc\u3067\u3059\u3002\n# rbenv install -l\n\nAvailable versions:\n  :\n  2.1.7\n  :\n\n# rbenv install 2.1.7\n\nDownloading ruby-2.1.7.tar.gz...\n-> https://cache.ruby-lang.org/pub/ruby/2.1/ruby-2.1.7.tar.gz\nInstalling ruby-2.1.7...\nInstalled ruby-2.1.7 to /opt/rbenv/versions/2.1.7\n\n\nRuby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n2.1.7\u306b\u8a2d\u5b9a\u6642\u3068\u30b7\u30b9\u30c6\u30e0\u306e\u306b\u8a2d\u5b9a\u3057\u305f\u5834\u5408\u3067\u306e\u78ba\u8a8d\u3002Ruby\u306e\u5207\u308a\u66ff\u3048\u3067\u304d\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3092\u5207\u308a\u66ff\u3048\u3066\u3044\u308b\u306e\u3067\u3001\u5171\u5b58\u3067\u306f\u306a\u3044\u3067\u3059\u3002\n# rbenv global 2.1.7\n# ruby --version\nruby 2.1.7p400 (2015-08-18 revision 51632) [x86_64-linux]\n# rbenv global system\n# ruby --version\nruby 1.8.7 (2013-06-27 patchlevel 374) [x86_64-linux]\n\n\nPuppet\u3092Gems\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nPuppet\u3092Gems\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrbenv\u30672.1.7\u306b\u5207\u308a\u66ff\u3048\u5f8c\u3001Puppet\u3092Gems\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n3.8.4\u304c\u3042\u3063\u305f\u306e\u3067\u30013.8.4\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n# rbenv global 2.1.7\n# rbenv global\n2.1.7\n# gem list ^puppet$ --remote --all\n\n*** REMOTE GEMS ***\n\npuppet (4.3.1 ruby x64-mingw32 x86-mingw32, 4.3.0 ruby x64-mingw32 x86-mingw32, 4.2.3 ruby x64-mingw32 x86-mingw32, 4.2.2 ruby x64-mingw32 x86-mingw32, 4.2.1 ruby x64-mingw32 x86-mingw32, 4.2.0 ruby x64-mingw32 x86-mingw32, 4.1.0 ruby x64-mingw32 x86-mingw32, 4.0.0 ruby x64-mingw32 x86-mingw32, 3.8.4 ruby x64-mingw32 x86-mingw32, 3.8.3 ruby x64-mingw32 x86-mingw32, 3.8.2 ruby x64-mingw32 x86-mingw32, 3.8.1 ruby x64-mingw32 x86-mingw32, 3.7.5 ruby x64-mingw32 x86-mingw32, 3.7.4 ruby x64-mingw32 x86-mingw32, 3.7.3 ruby x64-mingw32 x86-mingw32, 3.7.2 ruby x64-mingw32 x86-mingw32, 3.7.1 ruby x64-mingw32 x86-mingw32, 3.7.0 ruby x64-mingw32 x86-mingw32, 3.6.2 ruby x86-mingw32, 3.6.1 ruby x86-mingw32, 3.6.0 ruby x86-mingw32, 3.5.1 ruby x86-mingw32, 3.4.3, 3.4.2, 3.4.1, 3.4.0, 3.3.2, 3.3.1, 3.3.0, 3.2.4, 3.2.3, 3.2.2, 3.2.1, 3.1.1, 3.1.0, 3.0.2, 3.0.1, 3.0.0, 2.7.26, 2.7.25, 2.7.24, 2.7.23, 2.7.22, 2.7.21, 2.7.20, 2.7.19, 2.7.18, 2.7.17, 2.7.16, 2.7.14, 2.7.13, 2.7.12, 2.7.11, 2.7.9, 2.7.8, 2.7.6, 2.7.5, 2.7.4, 2.7.3, 2.7.1, 2.6.18, 2.6.17, 2.6.16, 2.6.15, 2.6.14, 2.6.13, 2.6.12, 2.6.11, 2.6.10, 2.6.9, 2.6.8, 2.6.7, 2.6.6, 2.6.5, 2.6.4, 2.6.3, 2.6.2, 2.6.1, 2.6.0, 0.25.5, 0.25.4, 0.25.3, 0.25.2, 0.25.1, 0.25.0, 0.24.9, 0.24.8, 0.24.7, 0.24.6, 0.24.5, 0.24.4, 0.24.3, 0.24.2, 0.24.1, 0.24.0, 0.23.2, 0.23.1, 0.23.0, 0.22.4, 0.18.4, 0.16.0, 0.13.6, 0.13.2, 0.13.1, 0.13.0, 0.9.2)\n\n# gem install puppet -v 3.8.4\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e\u78ba\u8a8d\npuppet\u304c\u5165\u308a\u307e\u3057\u305f\u3002\n# puppet --version\n3.8.4\n\n\u3061\u306a\u307f\u306b\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u623b\u3057\u305f\u72b6\u614b\u3067\u3001\u9593\u9055\u3063\u3066\u5b9f\u884c\u3059\u308b\u3068puppet\u3092\u4f7f\u3048\u308bRuby\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6559\u3048\u3066\u304f\u308c\u308b\u3088\u3046\u3067\u3059\u3002\u623b\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3082puppet\u304c\u3042\u308c\u3070\u3001\u305d\u3063\u3061\u304c\u52d5\u304f\u3060\u3051\u3067\u3059\u304c\u3002\u3002\u3002\n# rbenv global system\n# rbenv global       \nsystem\n# puppet --version\nrbenv: puppet: command not found\n\nThe `puppet' command exists in these Ruby versions:\n  2.1.7\n\n\n\u30b5\u30fc\u30d3\u30b9\u7528\u306e\u8a2d\u5b9a\nGems\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u3001\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u52d5\u304b\u3059\u305f\u3081\u306e\u8a2d\u5b9a\u306f\u3055\u308c\u306a\u3044\u306e\u3067\u3001puppet\u3092\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u52d5\u304b\u3059\u5834\u5408\u306f\u5225\u9014\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\npuppet\u30b0\u30eb\u30fc\u30d7\u3001\u30e6\u30fc\u30b6\u4f5c\u6210\uff08server\u306e\u5834\u5408\uff09\n/etc/puppet/*\n/etc/init.d/puppet\n/etc/sysconfig/puppet\n/etc/logrotate.d/puppet \n\n\u53c2\u8003\uff1a\nInstalling Puppet: From Gems\n\u30ea\u30f3\u30af\u5148\u306b\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u540c\u3058\u30d0\u30fc\u30b8\u30e7\u30f3\u3092rpm\u3067\u3044\u308c\u305f\u30b5\u30fc\u30d0\u304b\u3089\u30b3\u30d4\u30fc\u3059\u308b\u3068\u304b\u306e\u65b9\u304c\u3088\u3044\u304b\u3082\u3067\u3059\u3002\nPuppet Advent Calendar 2015\u306e9\u65e5\u76ee\u3067\u3059\u3002\u5f8c\u65e5\u6295\u7a3f\u3059\u308b\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306e\u6e96\u5099\u3067\u3064\u307e\u3063\u305f\u5185\u5bb9\u3092\u3001Tips\u307d\u304f\u307e\u3068\u3081\u307e\u3057\u305f\u3002\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306e\u6295\u7a3f\u306f\u3001\u8aad\u307f\u3065\u3089\u3044\u304f\u306a\u308a\u305d\u3046\u306a\u306e\u3067\u3002\u3002\u3002\u3082\u3063\u3068\u7c21\u5358\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u5909\u66f4\u3067\u304d\u308b\u65b9\u6cd5\u304c\u3042\u308c\u3070\u3001\u6559\u3048\u3066\u3044\u305f\u3060\u3051\u308b\u3068\u3046\u308c\u3057\u3044\u3067\u3059\u3002\n\n# \u3053\u308c\u306f\u4f55 \nCentOS6\u3068\u304b\u3060\u3068\u3001\u666e\u901a\u306b\u5165\u308bRuby\u304c1.8.7\u3060\u3063\u305f\u308a\u3057\u307e\u3059\u304c\u3001\u3082\u3063\u3068\u65b0\u3057\u3044Ruby\u3067Puppet\u3092\u52d5\u304b\u3057\u305f\u3044\u3068\u304b\u3042\u3063\u305f\u308a\u3057\u307e\u3059\u3002\u306a\u306e\u3067\u3001\u4ed6\u30c4\u30fc\u30eb\u306b\u5f71\u97ff\u4e0e\u3048\u305a\u306b\u3001Puppet\u304c\u4f7f\u3046Ruby\u3060\u3051\u5909\u3048\u308b\u65b9\u6cd5\u306e\u7d39\u4ecb\u3067\u3059\u3002\n\n# \u65b9\u6cd5\u2460 puppet-agent\n\u65b0\u3057\u3044puppet-agent\u3092\u5165\u308c\u308b\u3002\u4ee5\u524d\u304b\u3089\u306epuppet\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u306f\u5225\u7269\u307d\u3044\u3067\u3059\u3002\u30ea\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\u306b\u4f7f\u3046rpm\u3082\u9055\u3046\u306e\u3067\u3001\u65e7puppet\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u5fae\u5999\u306b\u30b3\u30de\u30f3\u30c9\u304c\u9055\u3044\u307e\u3059\u3002\npuppet-agent\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\u5c02\u7528\u306eRuby\u304c\u30bb\u30c3\u30c8\u3067\u5165\u308a\u307e\u3059\u3002\n\nOS\u306e\u78ba\u8a8d\n\n```\n# cat /etc/centos-release \nCentOS release 6.7 (Final)\n```\n\npuppet-agent\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(CentOS6)\u3002\n\n```\n# rpm -ivh https://yum.puppetlabs.com/puppetlabs-release-pc1-el-6.noarch.rpm\n# yum clean all\n# yum install -y puppet-agent\n```\n\n\u203bCentOS7\u306e\u5834\u5408\n\n```\n# rpm -ivh https://yum.puppetlabs.com/puppetlabs-release-pc1-el-7.noarch.rpm\n# yum clean all\n# yum install -y puppet-agent\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306ePuppet\u5074\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\u3002Ruby2.1.7\n\n```\n# /opt/puppetlabs/bin/puppet --version\n4.3.1\n# /opt/puppetlabs/bin/facter ruby     \n{\n  platform => \"x86_64-linux\",\n  sitedir => \"/opt/puppetlabs/puppet/lib/ruby/site_ruby/2.1.0\",\n  version => \"2.1.7\"\n}\n# /opt/puppetlabs/puppet/bin/ruby --version\nruby 2.1.7p400 (2015-08-18 revision 51632) [x86_64-linux]\n```\n\nOS\u5074\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\u3002Ruby1.8.7\n\n```\n# ruby --version\nruby 1.8.7 (2013-06-27 patchlevel 374) [x86_64-linux]\n```\n\n\u5171\u5b58\u3067\u304d\u307e\u3057\u305f\u3002\n\n# \u65b9\u6cd5\u2461 rbenv + Gems\nPuppet\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u3048\u305a\u306b\u3001Ruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u3048\u305f\u3044\u5834\u5408\u306f\u3053\u3063\u3061\u3002\u305f\u3060\u3061\u3087\u3063\u3068\u624b\u9806\u306f\u591a\u3044\u3046\u3048\u306b\u3001\u7d50\u5c40\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u3059\u3002\u306a\u306e\u3067\u3001Puppet\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3053\u3060\u308f\u3089\u306a\u3051\u308c\u3070\u3001\u65b9\u6cd5\u2460\u63a8\u5968\u3067\u3059\u3002\n\n## rbenv\u3067Ruby\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u3053\u306e\u30d6\u30ed\u30b0\u3092\u53c2\u8003\u306bRuby\u3092\u5165\u308c\u3066\u3044\u304d\u307e\u3059\u3002Ruby\u3092\u30d3\u30eb\u30c9\u3059\u308b\u306e\u3067\u5c11\u3057\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\n\n[CentOS/RHEL \u306b Ruby 2.x \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b](http://dotnsf.blog.jp/archives/1020034700.html)\n\n### \u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u308b\n\u30d3\u30eb\u30c9\u3059\u308bRuby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u9055\u3046\u306e\u3067\u3001\u30d3\u30eb\u30c9\u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\u3089\u30a8\u30e9\u30fc\u6587\u3092\u983c\u308a\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nyum install -y git tar gcc make openssl-devel libffi-devel readline-devel\n```\n\n### rbenv\u306e\u6e96\u5099\n\n```\n# cd /opt\n# git clone git://github.com/sstephenson/rbenv.git\n# mkdir /opt/rbenv/plugins\n# cd /opt/rbenv/plugins\n# git clone git://github.com/sstephenson/ruby-build.git\n```\n\n### \u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\n\u6b21\u56de\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u3082\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u3001/etc/profile\u306a\u3069\u306b\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u7701\u7565\u3002\n\n```\n# export RBENV_ROOT=\"/opt/rbenv\"\n# export PATH=\"${RBENV_ROOT}/bin:${PATH}\"\n# eval \"$(rbenv init -)\"\n```\n\n### Ruby\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrbenv install -l\u3067\u30012.1.7\u304c\u3042\u3063\u305f\u306e\u3067\u30012.1.7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3060\u3068\u3001\u30b3\u30fc\u30c9\u4fee\u6b63\u3057\u306a\u3044\u3068\u30d3\u30eb\u30c9\u304c\u901a\u3089\u306a\u3044\u3068\u304b\u3042\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u7d50\u69cb\u30c8\u30e9\u30a4\uff06\u30a8\u30e9\u30fc\u3067\u3059\u3002\n\n```\n# rbenv install -l\n\nAvailable versions:\n  :\n  2.1.7\n  :\n\n# rbenv install 2.1.7\n\nDownloading ruby-2.1.7.tar.gz...\n-> https://cache.ruby-lang.org/pub/ruby/2.1/ruby-2.1.7.tar.gz\nInstalling ruby-2.1.7...\nInstalled ruby-2.1.7 to /opt/rbenv/versions/2.1.7\n```\n\n### Ruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n2.1.7\u306b\u8a2d\u5b9a\u6642\u3068\u30b7\u30b9\u30c6\u30e0\u306e\u306b\u8a2d\u5b9a\u3057\u305f\u5834\u5408\u3067\u306e\u78ba\u8a8d\u3002Ruby\u306e\u5207\u308a\u66ff\u3048\u3067\u304d\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3092\u5207\u308a\u66ff\u3048\u3066\u3044\u308b\u306e\u3067\u3001\u5171\u5b58\u3067\u306f\u306a\u3044\u3067\u3059\u3002\n\n```\n# rbenv global 2.1.7\n# ruby --version\nruby 2.1.7p400 (2015-08-18 revision 51632) [x86_64-linux]\n# rbenv global system\n# ruby --version\nruby 1.8.7 (2013-06-27 patchlevel 374) [x86_64-linux]\n```\n\n## Puppet\u3092Gems\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n### Puppet\u3092Gems\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nrbenv\u30672.1.7\u306b\u5207\u308a\u66ff\u3048\u5f8c\u3001Puppet\u3092Gems\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n3.8.4\u304c\u3042\u3063\u305f\u306e\u3067\u30013.8.4\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```\n# rbenv global 2.1.7\n# rbenv global\n2.1.7\n# gem list ^puppet$ --remote --all\n\n*** REMOTE GEMS ***\n\npuppet (4.3.1 ruby x64-mingw32 x86-mingw32, 4.3.0 ruby x64-mingw32 x86-mingw32, 4.2.3 ruby x64-mingw32 x86-mingw32, 4.2.2 ruby x64-mingw32 x86-mingw32, 4.2.1 ruby x64-mingw32 x86-mingw32, 4.2.0 ruby x64-mingw32 x86-mingw32, 4.1.0 ruby x64-mingw32 x86-mingw32, 4.0.0 ruby x64-mingw32 x86-mingw32, 3.8.4 ruby x64-mingw32 x86-mingw32, 3.8.3 ruby x64-mingw32 x86-mingw32, 3.8.2 ruby x64-mingw32 x86-mingw32, 3.8.1 ruby x64-mingw32 x86-mingw32, 3.7.5 ruby x64-mingw32 x86-mingw32, 3.7.4 ruby x64-mingw32 x86-mingw32, 3.7.3 ruby x64-mingw32 x86-mingw32, 3.7.2 ruby x64-mingw32 x86-mingw32, 3.7.1 ruby x64-mingw32 x86-mingw32, 3.7.0 ruby x64-mingw32 x86-mingw32, 3.6.2 ruby x86-mingw32, 3.6.1 ruby x86-mingw32, 3.6.0 ruby x86-mingw32, 3.5.1 ruby x86-mingw32, 3.4.3, 3.4.2, 3.4.1, 3.4.0, 3.3.2, 3.3.1, 3.3.0, 3.2.4, 3.2.3, 3.2.2, 3.2.1, 3.1.1, 3.1.0, 3.0.2, 3.0.1, 3.0.0, 2.7.26, 2.7.25, 2.7.24, 2.7.23, 2.7.22, 2.7.21, 2.7.20, 2.7.19, 2.7.18, 2.7.17, 2.7.16, 2.7.14, 2.7.13, 2.7.12, 2.7.11, 2.7.9, 2.7.8, 2.7.6, 2.7.5, 2.7.4, 2.7.3, 2.7.1, 2.6.18, 2.6.17, 2.6.16, 2.6.15, 2.6.14, 2.6.13, 2.6.12, 2.6.11, 2.6.10, 2.6.9, 2.6.8, 2.6.7, 2.6.6, 2.6.5, 2.6.4, 2.6.3, 2.6.2, 2.6.1, 2.6.0, 0.25.5, 0.25.4, 0.25.3, 0.25.2, 0.25.1, 0.25.0, 0.24.9, 0.24.8, 0.24.7, 0.24.6, 0.24.5, 0.24.4, 0.24.3, 0.24.2, 0.24.1, 0.24.0, 0.23.2, 0.23.1, 0.23.0, 0.22.4, 0.18.4, 0.16.0, 0.13.6, 0.13.2, 0.13.1, 0.13.0, 0.9.2)\n\n# gem install puppet -v 3.8.4\n```\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e\u78ba\u8a8d\npuppet\u304c\u5165\u308a\u307e\u3057\u305f\u3002\n\n```\n# puppet --version\n3.8.4\n```\n\n\u3061\u306a\u307f\u306b\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u623b\u3057\u305f\u72b6\u614b\u3067\u3001\u9593\u9055\u3063\u3066\u5b9f\u884c\u3059\u308b\u3068puppet\u3092\u4f7f\u3048\u308bRuby\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6559\u3048\u3066\u304f\u308c\u308b\u3088\u3046\u3067\u3059\u3002\u623b\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3082puppet\u304c\u3042\u308c\u3070\u3001\u305d\u3063\u3061\u304c\u52d5\u304f\u3060\u3051\u3067\u3059\u304c\u3002\u3002\u3002\n\n```\n# rbenv global system\n# rbenv global       \nsystem\n# puppet --version\nrbenv: puppet: command not found\n\nThe `puppet' command exists in these Ruby versions:\n  2.1.7\n```\n\n### \u30b5\u30fc\u30d3\u30b9\u7528\u306e\u8a2d\u5b9a\nGems\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u3001\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u52d5\u304b\u3059\u305f\u3081\u306e\u8a2d\u5b9a\u306f\u3055\u308c\u306a\u3044\u306e\u3067\u3001puppet\u3092\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u52d5\u304b\u3059\u5834\u5408\u306f\u5225\u9014\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n- puppet\u30b0\u30eb\u30fc\u30d7\u3001\u30e6\u30fc\u30b6\u4f5c\u6210\uff08server\u306e\u5834\u5408\uff09\n- /etc/puppet/*\n- /etc/init.d/puppet\n- /etc/sysconfig/puppet\n- /etc/logrotate.d/puppet \n\n\u53c2\u8003\uff1a[\nInstalling Puppet: From Gems](https://docs.puppetlabs.com/guides/install_puppet/install_gem.html)\n\n\u30ea\u30f3\u30af\u5148\u306b\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u540c\u3058\u30d0\u30fc\u30b8\u30e7\u30f3\u3092rpm\u3067\u3044\u308c\u305f\u30b5\u30fc\u30d0\u304b\u3089\u30b3\u30d4\u30fc\u3059\u308b\u3068\u304b\u306e\u65b9\u304c\u3088\u3044\u304b\u3082\u3067\u3059\u3002\n"}