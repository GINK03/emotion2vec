{"tags": ["AzureStorage", ".NET", "WindowsAzure.Storage", "Azure"], "context": "\u3053\u306e\u8a18\u4e8b\u3067\u306fWindowsAzure.Storage v6.2.0\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\nhttp://stackoverflow.com/questions/24621664/uploading-blockblob-and-setting-contenttype/24622986#24622986\nvar blockBlobReference = container.GetBlockBlobReference(name);\nblockBlobReference.Properties.ContentType = \"image/jpg\";\nblockBlobReference.UploadFromStream(stream);\n\n\n\u6700\u521d\u2191\u306e\u65b9\u6cd5\u3092\u77e5\u3089\u306a\u304f\u3066\u2193\u306e\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\u2191\u304c\u3088\u308a\u3088\u3044\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u306e\u4f7f\u3044\u65b9\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\nx-ms-blob-content-type \u3092\u4f7f\u7528\u3059\u308b\u3002\nvar blockBlobReference = container.GetBlockBlobReference(name);\nvar headers = new Dictionary<string, string> { { \"x-ms-blob-content-type\", \"image/jpeg\" } };\nvar operationContext = new OperationContext { UserHeaders = headers };\n\nblockBlobReference.UploadFromStream(stream, operationContext: operationContext);\n\nUploadFromFile\u306a\u3069\u306e\u30e1\u30bd\u30c3\u30c9\u306foperationContext\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u6e21\u3059\u3053\u3068\u3067\u8ffd\u52a0\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u30d8\u30c3\u30c0\u30fc\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3002\nContent-Type \u306f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u306f\u76f4\u63a5\u6307\u5b9a\u3067\u304d\u306a\u3044\u3002\n'Content-Type' \u30d8\u30c3\u30c0\u30fc\u306f\u3001\u9069\u5207\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u307e\u305f\u306f\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nOperationContext.UserHeaders \u30d7\u30ed\u30d1\u30c6\u30a3\nPut Blob\n\u3053\u306e\u8a18\u4e8b\u3067\u306fWindowsAzure.Storage v6.2.0\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\nhttp://stackoverflow.com/questions/24621664/uploading-blockblob-and-setting-contenttype/24622986#24622986\n\n```csharp\nvar blockBlobReference = container.GetBlockBlobReference(name);\nblockBlobReference.Properties.ContentType = \"image/jpg\";\nblockBlobReference.UploadFromStream(stream);\n```\n***\n\u6700\u521d\u2191\u306e\u65b9\u6cd5\u3092\u77e5\u3089\u306a\u304f\u3066\u2193\u306e\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\u2191\u304c\u3088\u308a\u3088\u3044\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u306e\u4f7f\u3044\u65b9\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n***\n***x-ms-blob-content-type \u3092\u4f7f\u7528\u3059\u308b\u3002***\n\n```csharp\nvar blockBlobReference = container.GetBlockBlobReference(name);\nvar headers = new Dictionary<string, string> { { \"x-ms-blob-content-type\", \"image/jpeg\" } };\nvar operationContext = new OperationContext { UserHeaders = headers };\n\nblockBlobReference.UploadFromStream(stream, operationContext: operationContext);\n```\n\nUploadFromFile\u306a\u3069\u306e\u30e1\u30bd\u30c3\u30c9\u306foperationContext\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u6e21\u3059\u3053\u3068\u3067\u8ffd\u52a0\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u30d8\u30c3\u30c0\u30fc\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3002\n*Content-Type* \u306f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u306f\u76f4\u63a5\u6307\u5b9a\u3067\u304d\u306a\u3044\u3002\n`'Content-Type' \u30d8\u30c3\u30c0\u30fc\u306f\u3001\u9069\u5207\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u307e\u305f\u306f\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002`\n\n***\n[OperationContext.UserHeaders \u30d7\u30ed\u30d1\u30c6\u30a3](https://msdn.microsoft.com/ja-jp/library/microsoft.windowsazure.storage.operationcontext.userheaders.aspx)\n[Put Blob](https://msdn.microsoft.com/ja-jp/library/azure/dd179451.aspx)\n"}