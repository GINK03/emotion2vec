{"context": "\u30bf\u30a4\u30c8\u30eb\u901a\u308a\u3002\u56f0\u308a\u307e\u3057\u305f\u3002\n\nAMP\u30da\u30fc\u30b8\u3068\u901a\u5e38\u30da\u30fc\u30b8\u3067controller\u306a\u3044\u3057action\u304c\u5225\u306e\u5834\u5408\ncontroller\u306bnewrelic_ignore_enduser\u3092\u8ffd\u52a0\u3059\u308b\u3002\nrails\u306efilter(before_action\u3068\u304b)\u307f\u305f\u3044\u306b\u3001only,except\u3067action\u5358\u4f4d\u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3067\u304d\u308b\u3002\n\narticles_ontroller.rb\nclass ArticleController < ApplicationController\n    newrelic_ignore_enduser only: [:amp_page]\n\n    def amp_page\n    end\nend\n\n\n\n\nAMP\u30da\u30fc\u30b8\u3068\u901a\u5e38\u30da\u30fc\u30b8\u306eaction\u304c\u540c\u4e00\u306e\u5834\u5408\nformat\u304camp\u306e\u5834\u5408\u3001action\u306e\u4e2d\u3067NewRelic::Agent.ignore_enduser\u3092\u547c\u3076\u3002\nrespond_to\u3068\u3067\u547c\u3076\u3068\u4fbf\u5229\u3002\n\narticles_ontroller.rb\nclass ArticleController < ApplicationController\n    def show\n        respond_to do |format|\n            format.html\n            format.amp { NewRelic::Agent.ignore_enduser }\n        end\n    end\nend\n\n\n\n\u30bf\u30a4\u30c8\u30eb\u901a\u308a\u3002\u56f0\u308a\u307e\u3057\u305f\u3002\n\n## AMP\u30da\u30fc\u30b8\u3068\u901a\u5e38\u30da\u30fc\u30b8\u3067controller\u306a\u3044\u3057action\u304c\u5225\u306e\u5834\u5408\n\ncontroller\u306b`newrelic_ignore_enduser`\u3092\u8ffd\u52a0\u3059\u308b\u3002\nrails\u306efilter(before_action\u3068\u304b)\u307f\u305f\u3044\u306b\u3001`only`,`except`\u3067action\u5358\u4f4d\u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3067\u304d\u308b\u3002\n\n\n``` ruby:articles_ontroller.rb\nclass ArticleController < ApplicationController\n\tnewrelic_ignore_enduser only: [:amp_page]\n\t\t\n\tdef amp_page\n\tend\nend\n\t\n```\n\n## AMP\u30da\u30fc\u30b8\u3068\u901a\u5e38\u30da\u30fc\u30b8\u306eaction\u304c\u540c\u4e00\u306e\u5834\u5408\nformat\u304camp\u306e\u5834\u5408\u3001action\u306e\u4e2d\u3067`NewRelic::Agent.ignore_enduser`\u3092\u547c\u3076\u3002\nrespond_to\u3068\u3067\u547c\u3076\u3068\u4fbf\u5229\u3002\n\n``` ruby:articles_ontroller.rb\nclass ArticleController < ApplicationController\n\tdef show\n\t\trespond_to do |format|\n\t\t\tformat.html\n\t\t\tformat.amp { NewRelic::Agent.ignore_enduser }\n\t\tend\n\tend\nend\n```\n", "tags": ["AMP", "Rails", "newrelic"]}