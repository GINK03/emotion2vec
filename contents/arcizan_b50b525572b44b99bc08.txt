{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nC/C++ \u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30b3\u30e1\u30f3\u30c8\u3068\u7a7a\u884c\u3092\u524a\u9664\u3057\u305f\u3044\u306a\u30fc\u3063\u3066\u3053\u3068\u3042\u308a\u307e\u3059\u3088\u306d?\u4f8b\u3048\u3070\u30b3\u30e1\u30f3\u30c8\u3068\u7a7a\u884c\u4ee5\u5916\u306e\u884c\u6570\u3092\u6570\u3048\u305f\u3044\u3068\u304d\u3068\u304b\u3002\u305d\u3093\u306a\u3068\u304d\u306b\u4f7f\u3046\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\u4eca\u56de\u306f Perl \u3092\u4f7f\u3044\u6b63\u898f\u8868\u73fe\u3067\u7f6e\u63db\u3057\u307e\u3057\u305f\u3002\n\n\u30b9\u30af\u30ea\u30d7\u30c8\n\nrmcom.pl\n#!/usr/bin/env perl\n\nmy $str = join('', <>);\nmy $comment_re = qr[(?:\\A|(?<!\\\\))(?:/\\*.*?\\*/|//[^\\r\\n]*)]ms;\nmy $non_comment_re = qr[(?:\\A|(?<!\\\\))(([\"'])(?:\\\\.|(?:(?!\\2|\\\\).))*\\2)]ms;\n\n$str =~ s[$non_comment_re|$comment_re][$1]gms;\n$str =~ s[$non_comment_re|[[:blank:]]+(?:(?=\\r)|$)][$1]gms;\n$str =~ s[$non_comment_re|^[\\r\\n]+][$1]gms;\n\nprint $str;\n\n\n\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\u306e\u4e2d\u3092\u51e6\u7406\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081 $non_comment_re \u306e\u6700\u521d\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u30b0\u30eb\u30fc\u30d7\u3092\u305d\u306e\u307e\u307e\u51fa\u529b\u3057\u307e\u3059\u3002\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5\u306b\u3088\u308b\u30a8\u30b9\u30b1\u30fc\u30d7\u3082\u8a8d\u8b58\u3057\u307e\u3059\u3002\n\n\u4f7f\u3044\u65b9\nrmcom.pl **/*.c | wc -l\n\n\u306a\u3069\u3068\u3059\u308c\u3070 OK \u3067\u3059\u3002\n# \u6982\u8981\nC/C++ \u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30b3\u30e1\u30f3\u30c8\u3068\u7a7a\u884c\u3092\u524a\u9664\u3057\u305f\u3044\u306a\u30fc\u3063\u3066\u3053\u3068\u3042\u308a\u307e\u3059\u3088\u306d?\u4f8b\u3048\u3070\u30b3\u30e1\u30f3\u30c8\u3068\u7a7a\u884c\u4ee5\u5916\u306e\u884c\u6570\u3092\u6570\u3048\u305f\u3044\u3068\u304d\u3068\u304b\u3002\u305d\u3093\u306a\u3068\u304d\u306b\u4f7f\u3046\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\u4eca\u56de\u306f Perl \u3092\u4f7f\u3044\u6b63\u898f\u8868\u73fe\u3067\u7f6e\u63db\u3057\u307e\u3057\u305f\u3002\n\n# \u30b9\u30af\u30ea\u30d7\u30c8\n```pl:rmcom.pl\n#!/usr/bin/env perl\n\nmy $str = join('', <>);\nmy $comment_re = qr[(?:\\A|(?<!\\\\))(?:/\\*.*?\\*/|//[^\\r\\n]*)]ms;\nmy $non_comment_re = qr[(?:\\A|(?<!\\\\))(([\"'])(?:\\\\.|(?:(?!\\2|\\\\).))*\\2)]ms;\n\n$str =~ s[$non_comment_re|$comment_re][$1]gms;\n$str =~ s[$non_comment_re|[[:blank:]]+(?:(?=\\r)|$)][$1]gms;\n$str =~ s[$non_comment_re|^[\\r\\n]+][$1]gms;\n\nprint $str;\n```\n\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\u306e\u4e2d\u3092\u51e6\u7406\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081 `$non_comment_re` \u306e\u6700\u521d\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u30b0\u30eb\u30fc\u30d7\u3092\u305d\u306e\u307e\u307e\u51fa\u529b\u3057\u307e\u3059\u3002\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5\u306b\u3088\u308b\u30a8\u30b9\u30b1\u30fc\u30d7\u3082\u8a8d\u8b58\u3057\u307e\u3059\u3002\n\n# \u4f7f\u3044\u65b9\n```shell-session\nrmcom.pl **/*.c | wc -l\n```\n\u306a\u3069\u3068\u3059\u308c\u3070 OK \u3067\u3059\u3002\n", "tags": ["C++", "Perl", "\u6b63\u898f\u8868\u73fe"]}