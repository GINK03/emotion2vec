{"context": "    var cryptor = require('crypto');\n    var crypto_key = 'password';\n    var m = cryptor.createHash('sha256');\n    m.update(crypto_key);\n    crypto_key = m.digest('binary');\n    var crypto_iv = '\\x00\\x01\\x02\\x03\\x04\\x05\\x06\\x07\\x08\\x09\\x0a\\x0b\\x0c\\x0d\\x0e\\x0f';\n    var ciper_mode = 'aes-256-cbc';\n\n    var text = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa';\n\n    // \u6697\u53f7\u5316\n    var cipher = cryptor.createCipheriv(ciper_mode, crypto_key, crypto_iv);\n    var enc_text = cipher.update(text, 'utf-8', 'base64');\n    enc_text += cipher.final('base64');\n\n    // \u5fa9\u53f7\u5316\n    var decipher = cryptor.createDecipheriv(ciper_mode, crypto_key, crypto_iv);\n    var dec = decipher.update(enc_text, 'base64', 'utf8');\n    dec += decipher.final('utf8');\n\n    console.log(text);\n\n\u30dd\u30a4\u30f3\u30c8\u306f\u3001\u9375\u9577\u304c256\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u3067\u30ad\u30fc\u3092SHA256\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u3066\u3044\u308b\u3053\u3068\u3068\u3001iv\u3068\u3044\u3046\u521d\u671f\u5316\u30d9\u30af\u30bf\u30fc\u3092\u4e0e\u3048\u308b\u5fc5\u8981\u304c\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u3002\n\u60c5\u5831\u9593\u9055\u3063\u3066\u3044\u305f\u306e\u3067\u4e00\u90e8\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\ncipher.update()\u306b\u30a4\u30f3\u30d7\u30c3\u30c8\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u3068\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u3092\u6e21\u305b\u308b\u306e\u3067\u3001\u30a4\u30f3\u30d7\u30c3\u30c8\u3068\u3057\u3066\u6587\u5b57\u5217(UTF-8)\u3092\u6307\u5b9a\u3057\u3001\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u306fBASE64\u306b\u3057\u307e\u3057\u305f\u3002\ndecipher.update()\u306f\u305d\u306e\u9006\u3067\u3059\u3002\n\u30a4\u30f3\u30d7\u30c3\u30c8\u3084\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u3092\u30d0\u30a4\u30ca\u30ea\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u300c'binary'\u300d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\t\tvar cryptor = require('crypto');\n\t\tvar crypto_key = 'password';\n\t\tvar m = cryptor.createHash('sha256');\n\t\tm.update(crypto_key);\n\t\tcrypto_key = m.digest('binary');\n\t\tvar crypto_iv = '\\x00\\x01\\x02\\x03\\x04\\x05\\x06\\x07\\x08\\x09\\x0a\\x0b\\x0c\\x0d\\x0e\\x0f';\n\t\tvar ciper_mode = 'aes-256-cbc';\n\n\t\tvar text = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa';\n\n\t\t// \u6697\u53f7\u5316\n\t\tvar cipher = cryptor.createCipheriv(ciper_mode, crypto_key, crypto_iv);\n\t\tvar enc_text = cipher.update(text, 'utf-8', 'base64');\n\t\tenc_text += cipher.final('base64');\n\n\t\t// \u5fa9\u53f7\u5316\n\t\tvar decipher = cryptor.createDecipheriv(ciper_mode, crypto_key, crypto_iv);\n\t\tvar dec = decipher.update(enc_text, 'base64', 'utf8');\n\t\tdec += decipher.final('utf8');\n\n\t\tconsole.log(text);\n\n\n\u30dd\u30a4\u30f3\u30c8\u306f\u3001\u9375\u9577\u304c256\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u3067\u30ad\u30fc\u3092SHA256\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u3066\u3044\u308b\u3053\u3068\u3068\u3001iv\u3068\u3044\u3046\u521d\u671f\u5316\u30d9\u30af\u30bf\u30fc\u3092\u4e0e\u3048\u308b\u5fc5\u8981\u304c\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u3002\n\n\u60c5\u5831\u9593\u9055\u3063\u3066\u3044\u305f\u306e\u3067\u4e00\u90e8\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\ncipher.update()\u306b\u30a4\u30f3\u30d7\u30c3\u30c8\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u3068\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u3092\u6e21\u305b\u308b\u306e\u3067\u3001\u30a4\u30f3\u30d7\u30c3\u30c8\u3068\u3057\u3066\u6587\u5b57\u5217(UTF-8)\u3092\u6307\u5b9a\u3057\u3001\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u306fBASE64\u306b\u3057\u307e\u3057\u305f\u3002\ndecipher.update()\u306f\u305d\u306e\u9006\u3067\u3059\u3002\n\n\u30a4\u30f3\u30d7\u30c3\u30c8\u3084\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u3092\u30d0\u30a4\u30ca\u30ea\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u300c'binary'\u300d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n", "tags": ["Node.js", "openssl", "\u6697\u53f7\u5316"]}