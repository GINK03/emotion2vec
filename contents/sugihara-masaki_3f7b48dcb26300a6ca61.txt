{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\u69cb\u9020\u3068\u632f\u308b\u821e\u3044\u3092\u5206\u96e2\u3059\u308b\u305f\u3081\u306e\u30d1\u30bf\u30fc\u30f3\n\u4ee5\u4e0b\u306e5\u7a2e\u985e\u306e\u30af\u30e9\u30b9\u304b\u3089\u306a\u308b\n1. Visitor\u30af\u30e9\u30b9(3.\u306b\u5bfe\u3059\u308bVisit\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5ba3\u8a00\u3059\u308b)\n2. ConcreteVisitor\u30af\u30e9\u30b9(1.\u3067\u5ba3\u8a00\u3055\u308c\u305fVisit\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u88c5\u3059\u308b)\n3. Element\u30af\u30e9\u30b9(\u8981\u7d20\u306e\u62bd\u8c61\u30af\u30e9\u30b9\u3001visitor\u3092\u53d7\u3051\u53d6\u308bAccept\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5ba3\u8a00\u3059\u308b)\n4. ConcreteElement\u30af\u30e9\u30b9(\u8981\u7d20\u306e\u5177\u8c61\u30af\u30e9\u30b9\u30013.\u3067\u5ba3\u8a00\u3055\u308c\u305fAccept\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u88c5\u3059\u308b)\n5. ObjectStructure\u30af\u30e9\u30b9(\u8981\u7d20\u3092\u5217\u6319\u3057\u3001\u305d\u308c\u3089\u306b\u5bfe\u3059\u308b\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092visitor\u306b\u4efb\u305b\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u63d0\u4f9b\u3059\u308b)\n\n\u5177\u4f53\u4f8b\u3068\u5b9f\u88c5\n\u8a2a\u554f\u8ca9\u58f2\u3092\u4f8b\u306b\u3059\u308b\u3068\n\u4e0a\u8a181~5\u306f\u305d\u308c\u305e\u308c\n1. \u8a2a\u554f\u8ca9\u58f2\u30af\u30e9\u30b9(DoorToDoorSalesman\u30af\u30e9\u30b9\u3001\u8a2a\u554f\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u5b9a\u7fa9)\n2. \u751f\u547d\u4fdd\u967a\u8ca9\u58f2\u30af\u30e9\u30b9\u3001\u5065\u5eb7\u98df\u54c1\u8ca9\u58f2\u30af\u30e9\u30b9(LifeInsuranceDoorToDoorSalesman\u30af\u30e9\u30b9\u3001HealthyFoodDoorToDoorSalesman\u30af\u30e9\u30b9\u3002\u8a2a\u554f\u8ca9\u58f2\u3067\u5404\u5bb6\u5ead\u3092\u8a2a\u308c\u308b)\n3. \u4e16\u5e2f\u30af\u30e9\u30b9(Household\u30af\u30e9\u30b9\u3001\u8a2a\u554f\u8ca9\u58f2\u54e1\u3092\u53d7\u3051\u5165\u308c\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u5b9a\u7fa9)\n4. \u5358\u8eab\u4e16\u5e2f\u30af\u30e9\u30b9\u3001\u5bb6\u65cf\u4e16\u5e2f\u30af\u30e9\u30b9(SingleHousehold\u30af\u30e9\u30b9\u3001FamilyHousehold\u30af\u30e9\u30b9\u5404\u8a2a\u554f\u8ca9\u58f2\u54e1\u3092\u53d7\u3051\u5165\u308c\u308b)\n5. \u8ca9\u58f2\u54e1\u6d3e\u9063\u5143\u30af\u30e9\u30b9\n\u304c\u5bfe\u5fdc\u3059\u308b\u3002\n\u30b3\u30fc\u30c9\u306e\u8a73\u7d30\u306f\u4ee5\u4e0b\n\ndoor_to_door_salesman.rb\nclass DoorToDoorSalesman\n  def visit(household)\n  end\nend\n\n\n\nlife_insurance_door_to_door_salesman.rb\nclass LifeInsuranceDoorToDoorSalesman < DoorToDoorSalesman\n  def visit(household)\n    household.greet\n    # \u5bb6\u3092\u8a2a\u554f\n  end\nend\n\n\n\nhealthy_food_door_to_door_salesman.rb\nclass HealthyFoodDoorToDoorSalesman < DoorToDoorSalesman\n  def visit(household)\n    household.greet\n    # \u5bb6\u3092\u8a2a\u554f\n  end\nend\n\n\n\nhousehold.rb\nclass Household\n  def accept(door_to_door_salesman)\n  end\nend\n\n\n\nsingle_household.rb\nclass SingleHousehold < HouseHold\n  def initialize\n  end\n\n  def accept(door_to_door_salesman)\n    door_to_door_salesman.visit(self)\n  end\n\n  def greet\n    puts '\u3053\u3093\u306b\u3061\u306f'\n  end\nend\n\n\n\nfamily_household.rb\nclass FamilyHousehold < HouseHold\n  def initialize\n  end\n\n  def accept(door_to_door_salesman)\n    door_to_door_salesman.visit(self)\n  end\n\n  def greet\n    puts '\u3053\u3093\u306b\u3061\u306f\u3001\u8ab0\u306b\u5fa1\u7528\u3067\u3057\u3087\u3046\u304b\uff1f\uff1f'\n  end\nend\n\n\n\ndoor_to_door_salesman_agency.rb\nclass DoorToDoorSalesmanAgency\n  attr_accessor :household_list\n\n  def initialize\n    # \u8a2a\u554f\u5148\u9867\u5ba2\u60c5\u5831\n    @household_list = Array.new\n  end\n\n  def add(household)\n    @household_list << household\n  end\n\n  def remove(household)\n    @household_list.delete(household)\n  end\nend\n\n\n\nclient.rb\nagency = DoorToDoorSalesmanAgency.new\nagency.add(SingleHouseHold.new)\nagency.add(FamilyHouseHold.new)\n\nlife_insurance_salesman = LifeInsuranceDoorToDoorSalesman.new\nhealthy_food_salesman = HealthyFoodDoorToDoorSalesman.new\n\nagency.household_list.each do |household|\n  household.accept(life_insurance_salesman)   \n  household.accept(healthy_food_salesman)\nend\n\n\n\n\u30e1\u30ea\u30c3\u30c8\n\n\u69cb\u9020\u3068\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u5206\u96e2\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u306b\u3088\u308aOCP\u306a\u30b3\u30fc\u30c9\u306b\u306a\u308a\u3001\u8981\u7d20\u3078\u306e\u65b0\u3057\u3044\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u8ffd\u52a0\u304c\u5bb9\u6613\n\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u8981\u7d20\u306e\u578b\u304c\u308f\u304b\u3089\u306a\u304f\u3068\u3082\u5171\u901a\u306e\u30af\u30e9\u30b9\u304b\u3089\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u547c\u3073\u51fa\u305b\u308b\n\n\n\u307e\u3068\u3081\n\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u52a0\u3048\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30af\u30e9\u30b9\u306b\u5909\u66f4\u3092\u52a0\u3048\u305a\u306b\u65b0\u3057\u3044\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u30d1\u30bf\u30fc\u30f3\n##\u6982\u8981\n\u69cb\u9020\u3068\u632f\u308b\u821e\u3044\u3092\u5206\u96e2\u3059\u308b\u305f\u3081\u306e\u30d1\u30bf\u30fc\u30f3\n\n\n\u4ee5\u4e0b\u306e5\u7a2e\u985e\u306e\u30af\u30e9\u30b9\u304b\u3089\u306a\u308b\n1. Visitor\u30af\u30e9\u30b9(3.\u306b\u5bfe\u3059\u308bVisit\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5ba3\u8a00\u3059\u308b)\n2. ConcreteVisitor\u30af\u30e9\u30b9(1.\u3067\u5ba3\u8a00\u3055\u308c\u305fVisit\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u88c5\u3059\u308b)\n3. Element\u30af\u30e9\u30b9(\u8981\u7d20\u306e\u62bd\u8c61\u30af\u30e9\u30b9\u3001visitor\u3092\u53d7\u3051\u53d6\u308bAccept\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5ba3\u8a00\u3059\u308b)\n4. ConcreteElement\u30af\u30e9\u30b9(\u8981\u7d20\u306e\u5177\u8c61\u30af\u30e9\u30b9\u30013.\u3067\u5ba3\u8a00\u3055\u308c\u305fAccept\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u88c5\u3059\u308b)\n5. ObjectStructure\u30af\u30e9\u30b9(\u8981\u7d20\u3092\u5217\u6319\u3057\u3001\u305d\u308c\u3089\u306b\u5bfe\u3059\u308b\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092visitor\u306b\u4efb\u305b\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u63d0\u4f9b\u3059\u308b)\n\n##\u5177\u4f53\u4f8b\u3068\u5b9f\u88c5\n\u8a2a\u554f\u8ca9\u58f2\u3092\u4f8b\u306b\u3059\u308b\u3068\n\n\u4e0a\u8a181~5\u306f\u305d\u308c\u305e\u308c\n1. \u8a2a\u554f\u8ca9\u58f2\u30af\u30e9\u30b9(DoorToDoorSalesman\u30af\u30e9\u30b9\u3001\u8a2a\u554f\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u5b9a\u7fa9)\n2. \u751f\u547d\u4fdd\u967a\u8ca9\u58f2\u30af\u30e9\u30b9\u3001\u5065\u5eb7\u98df\u54c1\u8ca9\u58f2\u30af\u30e9\u30b9(LifeInsuranceDoorToDoorSalesman\u30af\u30e9\u30b9\u3001HealthyFoodDoorToDoorSalesman\u30af\u30e9\u30b9\u3002\u8a2a\u554f\u8ca9\u58f2\u3067\u5404\u5bb6\u5ead\u3092\u8a2a\u308c\u308b)\n3. \u4e16\u5e2f\u30af\u30e9\u30b9(Household\u30af\u30e9\u30b9\u3001\u8a2a\u554f\u8ca9\u58f2\u54e1\u3092\u53d7\u3051\u5165\u308c\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u5b9a\u7fa9)\n4. \u5358\u8eab\u4e16\u5e2f\u30af\u30e9\u30b9\u3001\u5bb6\u65cf\u4e16\u5e2f\u30af\u30e9\u30b9(SingleHousehold\u30af\u30e9\u30b9\u3001FamilyHousehold\u30af\u30e9\u30b9\u5404\u8a2a\u554f\u8ca9\u58f2\u54e1\u3092\u53d7\u3051\u5165\u308c\u308b)\n5. \u8ca9\u58f2\u54e1\u6d3e\u9063\u5143\u30af\u30e9\u30b9\n\n\u304c\u5bfe\u5fdc\u3059\u308b\u3002\n\u30b3\u30fc\u30c9\u306e\u8a73\u7d30\u306f\u4ee5\u4e0b\n\n```rb:door_to_door_salesman.rb\nclass DoorToDoorSalesman\n  def visit(household)\n  end\nend\n```\n\n```rb:life_insurance_door_to_door_salesman.rb\nclass LifeInsuranceDoorToDoorSalesman < DoorToDoorSalesman\n  def visit(household)\n    household.greet\n    # \u5bb6\u3092\u8a2a\u554f\n  end\nend\n```\n\n```rb:healthy_food_door_to_door_salesman.rb\nclass HealthyFoodDoorToDoorSalesman < DoorToDoorSalesman\n  def visit(household)\n    household.greet\n    # \u5bb6\u3092\u8a2a\u554f\n  end\nend\n```\n\n```rb:household.rb\nclass Household\n  def accept(door_to_door_salesman)\n  end\nend\n```\n\n```rb:single_household.rb\nclass SingleHousehold < HouseHold\n  def initialize\n  end\n\n  def accept(door_to_door_salesman)\n    door_to_door_salesman.visit(self)\n  end\n\n  def greet\n    puts '\u3053\u3093\u306b\u3061\u306f'\n  end\nend\n```\n\n```rb:family_household.rb\nclass FamilyHousehold < HouseHold\n  def initialize\n  end\n\n  def accept(door_to_door_salesman)\n    door_to_door_salesman.visit(self)\n  end\n\n  def greet\n    puts '\u3053\u3093\u306b\u3061\u306f\u3001\u8ab0\u306b\u5fa1\u7528\u3067\u3057\u3087\u3046\u304b\uff1f\uff1f'\n  end\nend\n```\n\n```rb:door_to_door_salesman_agency.rb\nclass DoorToDoorSalesmanAgency\n  attr_accessor :household_list\n\n  def initialize\n    # \u8a2a\u554f\u5148\u9867\u5ba2\u60c5\u5831\n    @household_list = Array.new\n  end\n\n  def add(household)\n    @household_list << household\n  end\n\n  def remove(household)\n    @household_list.delete(household)\n  end\nend\n```\n\n```rb:client.rb\nagency = DoorToDoorSalesmanAgency.new\nagency.add(SingleHouseHold.new)\nagency.add(FamilyHouseHold.new)\n\nlife_insurance_salesman = LifeInsuranceDoorToDoorSalesman.new\nhealthy_food_salesman = HealthyFoodDoorToDoorSalesman.new\n\nagency.household_list.each do |household|\n  household.accept(life_insurance_salesman)   \n  household.accept(healthy_food_salesman)\nend\n```\n\n##\u30e1\u30ea\u30c3\u30c8\n* \u69cb\u9020\u3068\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u5206\u96e2\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u306b\u3088\u308aOCP\u306a\u30b3\u30fc\u30c9\u306b\u306a\u308a\u3001\u8981\u7d20\u3078\u306e\u65b0\u3057\u3044\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u8ffd\u52a0\u304c\u5bb9\u6613\n* \u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u8981\u7d20\u306e\u578b\u304c\u308f\u304b\u3089\u306a\u304f\u3068\u3082\u5171\u901a\u306e\u30af\u30e9\u30b9\u304b\u3089\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u547c\u3073\u51fa\u305b\u308b\n\n##\u307e\u3068\u3081\n\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u52a0\u3048\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30af\u30e9\u30b9\u306b\u5909\u66f4\u3092\u52a0\u3048\u305a\u306b\u65b0\u3057\u3044\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u30d1\u30bf\u30fc\u30f3\n", "tags": ["\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3"]}