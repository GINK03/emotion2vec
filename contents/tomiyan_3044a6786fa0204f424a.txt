{"context": "\n\n\u524d\u63d0\u6761\u4ef6\n\nRedis 3.2-rc3\nNode.js 5.9.1\nnpm\n\n\nnode_redis 2.6.0-0\n\n\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n'use strict'\n\nlet redis = require(\"redis\")\n  , client = redis.createClient()\n  ;\n\nlet script = 'return redis.call(\"INCR\", KEYS[1])';\nclient.eval(script, 1, 'foo', function (err, reply) {\n    console.log(reply.toString());\n});\n\nclient.script('load', script, function (err, reply) {\n    let sha1 = reply.toString();\n    console.log(sha1);\n    client.evalsha(sha1, 1, 'foo', function (err2, reply2) {\n        console.log(reply2.toString());\n        client.quit();\n    });\n});\n\n\n\u5b9f\u884c\u7d50\u679c\n1\nf793247de6e1e3c553cd42d39c812df499e679e4\n2\n\n\n\u53c2\u8003\u8cc7\u6599\n\nhttp://rest-term.com/archives/3038/\n\n\n# \u524d\u63d0\u6761\u4ef6\n* Redis 3.2-rc3\n* Node.js 5.9.1\n* npm\n\t* node_redis 2.6.0-0\n\n# \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\n```javascript\n'use strict'\n\nlet redis = require(\"redis\")\n  , client = redis.createClient()\n  ;\n\nlet script = 'return redis.call(\"INCR\", KEYS[1])';\nclient.eval(script, 1, 'foo', function (err, reply) {\n    console.log(reply.toString());\n});\n\nclient.script('load', script, function (err, reply) {\n    let sha1 = reply.toString();\n    console.log(sha1);\n    client.evalsha(sha1, 1, 'foo', function (err2, reply2) {\n        console.log(reply2.toString());\n        client.quit();\n    });\n});\n```\n\n# \u5b9f\u884c\u7d50\u679c\n\n```\n1\nf793247de6e1e3c553cd42d39c812df499e679e4\n2\n```\n\n# \u53c2\u8003\u8cc7\u6599\n* http://rest-term.com/archives/3038/\n", "tags": ["Node.js", "Redis"]}