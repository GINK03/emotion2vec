{"context": "Laravel\u306e\u8efd\u91cf\u5316\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30afLumen\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u3001php\u88fd\u30c7\u30d7\u30ed\u30a4\u30c4\u30fc\u30ebDeployer\u3067\u30b5\u30fc\u30d0\u30fc\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u307e\u3067\u306e\u6d41\u308c\u3067\u3059\u3002\n\nLumen\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\ncomposer\u3092\u4f7f\u3063\u3066\u3001Lumen\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ composer create-project laravel/lumen --prefer-dist lumen_sample\n\n\nDeployer\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u4ee5\u4e0b\u304b\u3089phar\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3002\nhttp://deployer.org/\n$ mv deployer.phar /usr/local/bin/dep\n$ chmod +x /usr/local/bin/dep\n\n\n\u30a2\u30d7\u30ea\u3092github\u306bpush\n$ cd lumen_sample\n$ git init\n$ git add .\n$ git commit -m \"first commit\"\n$ git remote add origin https://github.com/{acount_name}/{repository_name}.git\n$ git push -u origin master\n\n\n\u30c7\u30d7\u30ed\u30a4\nLumen\u306e\u30a2\u30d7\u30ea\u69cb\u6210\u306fLaravel\u3068\u307b\u307c\u5909\u308f\u3089\u306a\u3044\u306e\u3067\u3001deployer\u306eLaravel\u30ec\u30b7\u30d4\u3092\u4f7f\u7528\u3057\u3066Laravel\u540c\u69d8\u306b\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u307e\u3059\u3002\ndeploy.php\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u3001\u30a2\u30d7\u30ea\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\ndeploy.php\n<?php\n// Laravel\u30ec\u30b7\u30d4\u8aad\u307f\u8fbc\u307f\nrequire 'recipe/laravel.php';\n\nserver('env_name', 'example.com', 12345) // \u63a5\u7d9a\u30b5\u30fc\u30d0\u30fc\n    ->user('deploy_user')                // \u63a5\u7d9a\u30e6\u30fc\u30b6\n    ->identityFile()                     // \u8a8d\u8a3c\n    ->env('deploy_path', '/path/to/application');    // \u30c7\u30d7\u30ed\u30a4\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\n// github\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\nset('repository', 'git@github.com:wrbss/lumen_sample.git');\n\n\n\u203b env_name\u306f\u74b0\u5883\u540d\u3067\u3059\u3002dep\u3068\u304bstg\u3068\u304b\u9069\u5207\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u203b \u4e0a\u8a18\u306e\u8a2d\u5b9a\u3067\u306f\u9375\u8a8d\u8a3c\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30c7\u30d7\u30ed\u30a4\u30ad\u30fc\u307e\u305f\u306fssh\u30ad\u30fc\u3092github\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u5f8c\u3001\u30a2\u30d7\u30ea\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\n$ dep deploy env_name  \n\n\u2714 Executing task deploy:prepare\n\u2714 Executing task deploy:release\n\u2714 Executing task deploy:update_code\n\u2714 Executing task deploy:vendors\n\u2714 Executing task deploy:shared\n\u2714 Executing task deploy:symlink\n\u2714 Executing task cleanup\n\u27a4 Executing task success\nSuccessfully deployed!\n\u2714 Ok\n\n\n\n\u53c2\u8003\nLumen\u516c\u5f0f\nhttps://lumen.laravel.com/\nDeployer\u516c\u5f0f\nhttp://deployer.org/\nLaravel\u306e\u8efd\u91cf\u5316\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30afLumen\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u3001php\u88fd\u30c7\u30d7\u30ed\u30a4\u30c4\u30fc\u30ebDeployer\u3067\u30b5\u30fc\u30d0\u30fc\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u307e\u3067\u306e\u6d41\u308c\u3067\u3059\u3002\n\n## Lumen\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\ncomposer\u3092\u4f7f\u3063\u3066\u3001Lumen\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```bash\n$ composer create-project laravel/lumen --prefer-dist lumen_sample\n```\n\n## Deployer\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u4ee5\u4e0b\u304b\u3089phar\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3002\nhttp://deployer.org/\n\n```\n$ mv deployer.phar /usr/local/bin/dep\n$ chmod +x /usr/local/bin/dep\n```\n\n## \u30a2\u30d7\u30ea\u3092github\u306bpush\n\n```bash\n$ cd lumen_sample\n$ git init\n$ git add .\n$ git commit -m \"first commit\"\n$ git remote add origin https://github.com/{acount_name}/{repository_name}.git\n$ git push -u origin master\n```\n\n## \u30c7\u30d7\u30ed\u30a4\nLumen\u306e\u30a2\u30d7\u30ea\u69cb\u6210\u306fLaravel\u3068\u307b\u307c\u5909\u308f\u3089\u306a\u3044\u306e\u3067\u3001**deployer\u306eLaravel\u30ec\u30b7\u30d4**\u3092\u4f7f\u7528\u3057\u3066Laravel\u540c\u69d8\u306b\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u307e\u3059\u3002\ndeploy.php\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u3001\u30a2\u30d7\u30ea\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\n```php:deploy.php\n<?php\n// Laravel\u30ec\u30b7\u30d4\u8aad\u307f\u8fbc\u307f\nrequire 'recipe/laravel.php';\n\nserver('env_name', 'example.com', 12345) // \u63a5\u7d9a\u30b5\u30fc\u30d0\u30fc\n    ->user('deploy_user')                // \u63a5\u7d9a\u30e6\u30fc\u30b6\n    ->identityFile()                     // \u8a8d\u8a3c\n    ->env('deploy_path', '/path/to/application');    // \u30c7\u30d7\u30ed\u30a4\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\n// github\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\nset('repository', 'git@github.com:wrbss/lumen_sample.git');\n```\n\u203b env_name\u306f\u74b0\u5883\u540d\u3067\u3059\u3002dep\u3068\u304bstg\u3068\u304b\u9069\u5207\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u203b \u4e0a\u8a18\u306e\u8a2d\u5b9a\u3067\u306f\u9375\u8a8d\u8a3c\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30c7\u30d7\u30ed\u30a4\u30ad\u30fc\u307e\u305f\u306fssh\u30ad\u30fc\u3092github\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u305d\u306e\u5f8c\u3001\u30a2\u30d7\u30ea\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\n\n```\n$ dep deploy env_name  \n\n\u2714 Executing task deploy:prepare\n\u2714 Executing task deploy:release\n\u2714 Executing task deploy:update_code\n\u2714 Executing task deploy:vendors\n\u2714 Executing task deploy:shared\n\u2714 Executing task deploy:symlink\n\u2714 Executing task cleanup\n\u27a4 Executing task success\nSuccessfully deployed!\n\u2714 Ok\n\n```\n\n## \u53c2\u8003\n\nLumen\u516c\u5f0f\nhttps://lumen.laravel.com/\n\nDeployer\u516c\u5f0f\nhttp://deployer.org/\n", "tags": ["laravel", "lumen", "Deployer"]}