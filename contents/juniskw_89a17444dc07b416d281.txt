{"context": " More than 1 year has passed since last update.\n\n\u5b9f\u969b\u306e\u30da\u30fc\u30b8\u306b\u624b\u3092\u3064\u3051\u308b\u524d\u306b\u3001\u4f5c\u3063\u305f\u30e2\u30c7\u30eb\u304c\u672c\u5f53\u306b\u554f\u984c\u306a\u3044\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u30bf\u30a4\u30c8\u30eb\u306b\u3042\u308b\u901a\u308a\u3001admin\u30da\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u5b9f\u9a13\u3057\u3066\u307f\u305f\u3044\u306e\u306f\u3001\n\n\u65e5\u4ed8\u3067\u4e88\u5b9a\u306b\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u304b\u3051\u308b\n\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u9006\u306b\u8fbf\u308b\n\n\u3067\u3059\u3002\n\u3044\u305a\u308c\u3082\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u3042\u3063\u305f\u3088\u3046\u306a\u6c17\u304c\u3057\u305f\u306e\u3067\u3001\u5fa9\u7fd2\u304c\u3066\u3089\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u3044\u3058\u308b\u306e\u306f\u305d\u308c\u305e\u308c\u306eadmin.py\u3067\u3059\u3002\n\u9806\u756a\u306b\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\nschedule/admin.py\nfrom django.contrib import admin\nfrom schedule.models import WorkTime,MonthShift,StaffSchedule,NgShift,GuestSchedule\n\n\n#### base classes ####\n\nclass DateAdmin(admin.ModelAdmin):\n\n    def schedule_date(self,obj):  # obj\u306b\u306f\u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5165\u308b\n        return obj.strfdate()  # \u30c1\u30a7\u30f3\u30b8\u30ea\u30b9\u30c8\u30da\u30fc\u30b8\u306b\u8868\u793a\u3057\u305f\u3044\u5185\u5bb9\u3092\u8fd4\u3059\n\n    date_hierarchy = 'date'  # \u65e5\u4ed8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u306e\u7d5e\u308a\u8fbc\u307f\u6a5f\u80fd\u3092\u8a2d\u5b9a\n\n\nclass TimeTableAdmin(admin.ModelAdmin):\n\n    def time_table(self,obj):\n        return obj.strftimetable()\n\n\n#### main classes ####\n\n###### staff ######\nclass MonthShiftAdmin(admin.ModelAdmin):\n    list_display = ('year','month','groupschedule','completed',)  # \u30c1\u30a7\u30f3\u30b8\u30ea\u30b9\u30c8\u30da\u30fc\u30b8\u306b\u8868\u793a\u3059\u308b\u9805\u76ee\u30ea\u30b9\u30c8\u3001\u307e\u305f\u306f\u30bf\u30d7\u30eb\u3002\n    list_filter = ('groupschedule',)  # \u6307\u5b9a\u3057\u305f\u9805\u76ee\u3067\u306e\u30d5\u30a3\u30eb\u30bf\u6a5f\u80fd\u3092\u4ed8\u4e0e\n\nadmin.site.register(MonthShift,MonthShiftAdmin)  # \u7b2c\u4e8c\u5f15\u6570\u306badmin\u7528\u306e\u30e2\u30c7\u30eb\u3092\u5165\u308c\u3066\u9069\u7528\n\n\nclass WorkTimeAdmin(TimeTableAdmin):\n    list_display = ('title','time_table',)  # time_table\u306f\u89aa\u304b\u3089\u306e\u95a2\u6570\n    list_filter = ('groupschedule',)\n\nadmin.site.register(WorkTime,WorkTimeAdmin)\n\n\nclass StaffScheduleAdmin(DateAdmin):\n    list_display = ('schedule_date','staff','worktime',)    # schedule_date\u306f\u89aa\u304b\u3089\u306e\u95a2\u6570\n\n    list_filter = ('staff__groupschedule','date','staff',)  # \u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2\u4e8c\u672c\u3067\u9006\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u8fbf\u308c\u308b\n\nadmin.site.register(StaffSchedule,StaffScheduleAdmin)\n\n\nclass NgShiftAdmin(DateAdmin):\n    list_display = ('staff','schedule_date','get_values')\n\n    def get_values(self,obj):\n        return obj.ng_values()\n\n    list_filter = ['date','staff',]\n\nadmin.site.register(NgShift,NgShiftAdmin)\n\n\n###### guest ######\nclass GuestScheduleAdmin(DateAdmin,TimeTableAdmin):\n    list_display = ('schedule_date','guest','time_table',)\n\n    list_filter = ['date','guest',]\n\nadmin.site.register(GuestSchedule,GuestScheduleAdmin)\n\n\u89aa\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u30b3\u30fc\u30c9\u306e\u8a18\u8ff0\u91cf\u3092\u7bc0\u7d04\u3057\u3066\u3044\u307e\u3059\u3002\nlist_filter\u306b\u3088\u308a\u9805\u76ee\u306e\u7d5e\u308a\u8fbc\u307f\u3092\u5b9f\u9a13\u3002\u65e5\u4ed8\u3054\u3068\u306b\u5206\u3051\u3066\u898b\u308b\u3053\u3068\u3082\u3067\u304d\u305f\u306e\u3067\u3001\u30b7\u30d5\u30c8\u8868\u3092\u4f5c\u308b\u3068\u304d\u306f\u4f3c\u305f\u3088\u3046\u306a\u611f\u3058\u3067\u3084\u308c\u3070\u3044\u3044\u3067\u3057\u3087\u3046\u3002\n\nstaff/admin.py\nfrom django.contrib import admin\nfrom staff.models import Staff\n\n\nclass StaffAdmin(admin.ModelAdmin):\n    list_display = ('name','ng_list',)\n    list_filter = ('groupschedule',)\n\n    def ng_list(self,obj):\n        ngs = \"\"\n\n        for ng in obj.ngshift_set.all():\n            ngs += \"%s(%s) ,\" % ( ng.date,ng.ng_values(), )\n\n        return ngs\n\nadmin.site.register(Staff,StaffAdmin)\n\nxxxx_set\u3067\u306e\u9006\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3082\u6210\u529f\u3002\n\nguest/admin.py\nfrom django.contrib import admin\nfrom guest.models import Guest\n\n\nclass GuestAdmin(admin.ModelAdmin):\n    list_display = ('name','get_schedules',)\n    list_filter = ('groupschedule',)\n\n    def get_schedules(self,obj):\n        schedules = \"\"\n\n        for schedule in obj.guestschedule_set.all():\n            schedules += \"%s(%s) ,\" % ( schedule.date,schedule.strftimetable(), )\n\n        return schedules\n\n    get_schedules.short_description = 'Schedules'\n\nadmin.site.register(Guest,GuestAdmin)\n\n\nstaff/admin.py\u3068\u3055\u307b\u3069\u5909\u308f\u3089\u305a\u3067\u3059\u306d\u3002\n\nowner/admin.py\nfrom django.contrib import admin\nfrom owner.models import GroupSchedule\n\n\nclass GroupScheduleAdmin(admin.ModelAdmin):\n    list_display = ('group','owner',)\n\n\nadmin.site.register(GroupSchedule,GroupScheduleAdmin)\n\n\u9762\u5012\u304f\u3055\u304f\u306a\u3063\u3066\u304d\u305f\u306e\u3067\u7279\u306b\u3081\u307c\u3057\u3044\u6628\u65e5\u306f\u4ed8\u3051\u305a\u3002\u6700\u7d42\u7684\u306b\u7ba1\u7406\u8005\u753b\u9762\u306f\u4f7f\u308f\u306a\u3044\u3064\u3082\u308a\u306a\u306e\u3067\u3053\u308c\u3067\u3044\u3044\u3067\u3057\u3087\u3046\u3002\n\n\u6b21\u56de\u306f\u300e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8868\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u66f8\u304f\u300f\u3092\u3084\u308b\u3064\u3082\u308a\u3067\u3059\u3002\n#### \u5b9f\u969b\u306e\u30da\u30fc\u30b8\u306b\u624b\u3092\u3064\u3051\u308b\u524d\u306b\u3001\u4f5c\u3063\u305f\u30e2\u30c7\u30eb\u304c\u672c\u5f53\u306b\u554f\u984c\u306a\u3044\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30bf\u30a4\u30c8\u30eb\u306b\u3042\u308b\u901a\u308a\u3001admin\u30da\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u5b9f\u9a13\u3057\u3066\u307f\u305f\u3044\u306e\u306f\u3001\n\n1. **\u65e5\u4ed8\u3067\u4e88\u5b9a\u306b\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u304b\u3051\u308b**\n\n2. **\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u9006\u306b\u8fbf\u308b**\n\n\u3067\u3059\u3002\n\u3044\u305a\u308c\u3082[\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb](http://docs.djangoproject.jp/en/latest/intro/tutorial01.html)\u3067\u3042\u3063\u305f\u3088\u3046\u306a\u6c17\u304c\u3057\u305f\u306e\u3067\u3001\u5fa9\u7fd2\u304c\u3066\u3089\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u3044\u3058\u308b\u306e\u306f\u305d\u308c\u305e\u308c\u306eadmin.py\u3067\u3059\u3002\n\u9806\u756a\u306b\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n###### schedule/admin.py\n\n```py\nfrom django.contrib import admin\nfrom schedule.models import WorkTime,MonthShift,StaffSchedule,NgShift,GuestSchedule\n\n\n#### base classes ####\n\nclass DateAdmin(admin.ModelAdmin):\n\n\tdef schedule_date(self,obj):  # obj\u306b\u306f\u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5165\u308b\n\t\treturn obj.strfdate()  # \u30c1\u30a7\u30f3\u30b8\u30ea\u30b9\u30c8\u30da\u30fc\u30b8\u306b\u8868\u793a\u3057\u305f\u3044\u5185\u5bb9\u3092\u8fd4\u3059\n\n\tdate_hierarchy = 'date'  # \u65e5\u4ed8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u306e\u7d5e\u308a\u8fbc\u307f\u6a5f\u80fd\u3092\u8a2d\u5b9a\n\n\nclass TimeTableAdmin(admin.ModelAdmin):\n\n\tdef time_table(self,obj):\n\t\treturn obj.strftimetable()\n\n\n#### main classes ####\n\n###### staff ######\nclass MonthShiftAdmin(admin.ModelAdmin):\n\tlist_display = ('year','month','groupschedule','completed',)  # \u30c1\u30a7\u30f3\u30b8\u30ea\u30b9\u30c8\u30da\u30fc\u30b8\u306b\u8868\u793a\u3059\u308b\u9805\u76ee\u30ea\u30b9\u30c8\u3001\u307e\u305f\u306f\u30bf\u30d7\u30eb\u3002\n\tlist_filter = ('groupschedule',)  # \u6307\u5b9a\u3057\u305f\u9805\u76ee\u3067\u306e\u30d5\u30a3\u30eb\u30bf\u6a5f\u80fd\u3092\u4ed8\u4e0e\n\nadmin.site.register(MonthShift,MonthShiftAdmin)  # \u7b2c\u4e8c\u5f15\u6570\u306badmin\u7528\u306e\u30e2\u30c7\u30eb\u3092\u5165\u308c\u3066\u9069\u7528\n\n\nclass WorkTimeAdmin(TimeTableAdmin):\n\tlist_display = ('title','time_table',)\t# time_table\u306f\u89aa\u304b\u3089\u306e\u95a2\u6570\n\tlist_filter = ('groupschedule',)\n\nadmin.site.register(WorkTime,WorkTimeAdmin)\n\n\nclass StaffScheduleAdmin(DateAdmin):\n\tlist_display = ('schedule_date','staff','worktime',)\t# schedule_date\u306f\u89aa\u304b\u3089\u306e\u95a2\u6570\n\n\tlist_filter = ('staff__groupschedule','date','staff',)  # \u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2\u4e8c\u672c\u3067\u9006\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u8fbf\u308c\u308b\n\nadmin.site.register(StaffSchedule,StaffScheduleAdmin)\n\n\nclass NgShiftAdmin(DateAdmin):\n\tlist_display = ('staff','schedule_date','get_values')\n\n\tdef get_values(self,obj):\n\t\treturn obj.ng_values()\n\n\tlist_filter = ['date','staff',]\n\nadmin.site.register(NgShift,NgShiftAdmin)\n\n\n###### guest ######\nclass GuestScheduleAdmin(DateAdmin,TimeTableAdmin):\n\tlist_display = ('schedule_date','guest','time_table',)\n\n\tlist_filter = ['date','guest',]\n\nadmin.site.register(GuestSchedule,GuestScheduleAdmin)\n```\n\n\u89aa\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u30b3\u30fc\u30c9\u306e\u8a18\u8ff0\u91cf\u3092\u7bc0\u7d04\u3057\u3066\u3044\u307e\u3059\u3002\nlist_filter\u306b\u3088\u308a\u9805\u76ee\u306e\u7d5e\u308a\u8fbc\u307f\u3092\u5b9f\u9a13\u3002\u65e5\u4ed8\u3054\u3068\u306b\u5206\u3051\u3066\u898b\u308b\u3053\u3068\u3082\u3067\u304d\u305f\u306e\u3067\u3001\u30b7\u30d5\u30c8\u8868\u3092\u4f5c\u308b\u3068\u304d\u306f\u4f3c\u305f\u3088\u3046\u306a\u611f\u3058\u3067\u3084\u308c\u3070\u3044\u3044\u3067\u3057\u3087\u3046\u3002\n\n###### staff/admin.py\n\n```py\nfrom django.contrib import admin\nfrom staff.models import Staff\n\n\nclass StaffAdmin(admin.ModelAdmin):\n\tlist_display = ('name','ng_list',)\n\tlist_filter = ('groupschedule',)\n\n\tdef ng_list(self,obj):\n\t\tngs = \"\"\n\n\t\tfor ng in obj.ngshift_set.all():\n\t\t\tngs += \"%s(%s) ,\" % ( ng.date,ng.ng_values(), )\n\n\t\treturn ngs\n\nadmin.site.register(Staff,StaffAdmin)\n```\n\nxxxx_set\u3067\u306e\u9006\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3082\u6210\u529f\u3002\n\n###### guest/admin.py\n\n```py\nfrom django.contrib import admin\nfrom guest.models import Guest\n\n\nclass GuestAdmin(admin.ModelAdmin):\n\tlist_display = ('name','get_schedules',)\n\tlist_filter = ('groupschedule',)\n\n\tdef get_schedules(self,obj):\n\t\tschedules = \"\"\n\n\t\tfor schedule in obj.guestschedule_set.all():\n\t\t\tschedules += \"%s(%s) ,\" % ( schedule.date,schedule.strftimetable(), )\n\n\t\treturn schedules\n\n\tget_schedules.short_description = 'Schedules'\n\nadmin.site.register(Guest,GuestAdmin)\n\n```\n\nstaff/admin.py\u3068\u3055\u307b\u3069\u5909\u308f\u3089\u305a\u3067\u3059\u306d\u3002\n\n###### owner/admin.py\n\n```py\nfrom django.contrib import admin\nfrom owner.models import GroupSchedule\n\n\nclass GroupScheduleAdmin(admin.ModelAdmin):\n\tlist_display = ('group','owner',)\n\n\nadmin.site.register(GroupSchedule,GroupScheduleAdmin)\n```\n\n\u9762\u5012\u304f\u3055\u304f\u306a\u3063\u3066\u304d\u305f\u306e\u3067\u7279\u306b\u3081\u307c\u3057\u3044\u6628\u65e5\u306f\u4ed8\u3051\u305a\u3002\u6700\u7d42\u7684\u306b\u7ba1\u7406\u8005\u753b\u9762\u306f\u4f7f\u308f\u306a\u3044\u3064\u3082\u308a\u306a\u306e\u3067\u3053\u308c\u3067\u3044\u3044\u3067\u3057\u3087\u3046\u3002\n\n## \u6b21\u56de\u306f\u300e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8868\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u66f8\u304f\u300f\u3092\u3084\u308b\u3064\u3082\u308a\u3067\u3059\u3002\n", "tags": ["Django", "Python"]}