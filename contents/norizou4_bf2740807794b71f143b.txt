{"context": " More than 1 year has passed since last update.\u753b\u9762\u30922\u3064\u4f5c\u3063\u3066\u300cViewController\u300d\u3068\u300csecondViewController\u300d\u3068\u3057\u307e\u3059\u3002\nviewController\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306e\u30dc\u30bf\u30f3\u3068\u958b\u304f\u30dc\u30bf\u30f3\u3092\u8a2d\u7f6e\u3057\u3066\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30dc\u30bf\u30f3\u3067HTML\u3092\u8aad\u307f\u8fbc\u3093\u3067\u4fdd\u5b58\u3057\u3001\u958b\u304f\u30dc\u30bf\u30f3\u3067\u753b\u9762\u9077\u79fb\u3055\u305b\u3001scondViewController\u3067\u8868\u793a\u3055\u305b\u307e\u3059\u3002\n\nViewController.swift\nimport UIKit\n\nclass ViewController: UIViewController {\n    //\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30dc\u30bf\u30f3\n    @IBAction func Download(sender: AnyObject) {\n\n        //\u9752\u7a7a\u6587\u5eab\u304b\u3089\u963f\u5446\u306e\u4e00\u751f\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9URL\n        let newsUrlString = \"http://www.aozora.gr.jp/cards/000879/files/19_14618.html\"\n\n        var url = NSURL(string: newsUrlString)!\n        var request = NSURLRequest(URL: url)\n\n        //\u30c7\u30fc\u30bf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n        var data = NSURLConnection.sendSynchronousRequest(request, returningResponse:nil, error:nil)\n        var htmlString = NSString(data:data!, encoding:NSShiftJISStringEncoding)!\n\n        //\u30d1\u30b9\u306e\u53d6\u5f97\n        let paths = NSSearchPathForDirectoriesInDomains(.DocumentDirectory, .UserDomainMask, true) as Array<String>\n\n        //\u4fdd\u5b58\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u540d\u524d\n        let filePath = String(paths[0]) + \"data.html\"\n\n        //\u4fdd\u5b58\u3059\u308b\u30c7\u30fc\u30bf\n        let array = [htmlString]\n        //.componentsJoinedByString(\"\\n\")\n\n        //\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u3066data.dat\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u4fdd\u5b58\u3059\u308b\n        let successful = NSKeyedArchiver.archiveRootObject(array, toFile: filePath)        \n    }\n\n    //viewController\u306e\u30c7\u30d5\u30a9\u30eb\u30c8    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        // Do any additional setup after loading the view, typically from a nib.\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n}\n\n\n\u4e8c\u3064\u76ee\u306e\u753b\u9762\u3067\u3059\u3002UITextLabel\u3092\u8a2d\u7f6e\u3055\u305b\u307e\u3059\u3002\n\nsecondviewController.swift\nimport UIKit\n\nclass secondViewController: UIViewController {\n\n    @IBOutlet weak var testLabel: UITextField!\n    var htmlText = \"\" //HTML\u306e\u30c6\u30ad\u30b9\u30c8\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        //\u4fdd\u5b58\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\n        let paths = NSSearchPathForDirectoriesInDomains(.DocumentDirectory,\n            .UserDomainMask, true) as Array<String>\n        let filePath = String(paths[0]) + \"data.html\"\n        if let array = NSKeyedUnarchiver.unarchiveObjectWithFile(filePath) as? Array<String>{\n            htmlText = array[0]\n        }\n\n        //\u8aad\u307f\u8fbc\u3093\u3060HTML\u3092UITextLable\u306b\u8868\u793a\n        var err:NSError?\n        self.testLabel.attributedText = NSAttributedString(\n            data: htmlText.dataUsingEncoding(NSUnicodeStringEncoding, allowLossyConversion: true)!,\n            options: [NSDocumentTypeDocumentAttribute:NSHTMLTextDocumentType],\n            documentAttributes: nil,\n            error: &err)\n        self.testLabel.font = UIFont(name: \"System\", size: 14)\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n}\n\n\n\u53c2\u7167:Swift\u3067UILabel\u306bHTML\u3092\u8868\u793a\u3059\u308b\u65b9\u6cd5\n\n\u753b\u9762\u30922\u3064\u4f5c\u3063\u3066\u300cViewController\u300d\u3068\u300csecondViewController\u300d\u3068\u3057\u307e\u3059\u3002\nviewController\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306e\u30dc\u30bf\u30f3\u3068\u958b\u304f\u30dc\u30bf\u30f3\u3092\u8a2d\u7f6e\u3057\u3066\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30dc\u30bf\u30f3\u3067HTML\u3092\u8aad\u307f\u8fbc\u3093\u3067\u4fdd\u5b58\u3057\u3001\u958b\u304f\u30dc\u30bf\u30f3\u3067\u753b\u9762\u9077\u79fb\u3055\u305b\u3001scondViewController\u3067\u8868\u793a\u3055\u305b\u307e\u3059\u3002\n\n````swift:ViewController.swift\nimport UIKit\n\nclass ViewController: UIViewController {\n    //\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30dc\u30bf\u30f3\n    @IBAction func Download(sender: AnyObject) {\n                \n        //\u9752\u7a7a\u6587\u5eab\u304b\u3089\u963f\u5446\u306e\u4e00\u751f\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9URL\n        let newsUrlString = \"http://www.aozora.gr.jp/cards/000879/files/19_14618.html\"\n        \n        var url = NSURL(string: newsUrlString)!\n        var request = NSURLRequest(URL: url)\n        \n        //\u30c7\u30fc\u30bf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n        var data = NSURLConnection.sendSynchronousRequest(request, returningResponse:nil, error:nil)\n        var htmlString = NSString(data:data!, encoding:NSShiftJISStringEncoding)!\n        \n        //\u30d1\u30b9\u306e\u53d6\u5f97\n        let paths = NSSearchPathForDirectoriesInDomains(.DocumentDirectory, .UserDomainMask, true) as Array<String>\n        \n        //\u4fdd\u5b58\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u540d\u524d\n        let filePath = String(paths[0]) + \"data.html\"\n        \n        //\u4fdd\u5b58\u3059\u308b\u30c7\u30fc\u30bf\n        let array = [htmlString]\n        //.componentsJoinedByString(\"\\n\")\n        \n        //\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u3066data.dat\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u4fdd\u5b58\u3059\u308b\n        let successful = NSKeyedArchiver.archiveRootObject(array, toFile: filePath)        \n    }\n        \n    //viewController\u306e\u30c7\u30d5\u30a9\u30eb\u30c8    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        // Do any additional setup after loading the view, typically from a nib.\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n}\n````\n\n\u4e8c\u3064\u76ee\u306e\u753b\u9762\u3067\u3059\u3002UITextLabel\u3092\u8a2d\u7f6e\u3055\u305b\u307e\u3059\u3002\n\n````swift:secondviewController.swift\nimport UIKit\n\nclass secondViewController: UIViewController {\n\n    @IBOutlet weak var testLabel: UITextField!\n    var htmlText = \"\" //HTML\u306e\u30c6\u30ad\u30b9\u30c8\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        //\u4fdd\u5b58\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\n        let paths = NSSearchPathForDirectoriesInDomains(.DocumentDirectory,\n            .UserDomainMask, true) as Array<String>\n        let filePath = String(paths[0]) + \"data.html\"\n        if let array = NSKeyedUnarchiver.unarchiveObjectWithFile(filePath) as? Array<String>{\n            htmlText = array[0]\n        }\n        \n        //\u8aad\u307f\u8fbc\u3093\u3060HTML\u3092UITextLable\u306b\u8868\u793a\n        var err:NSError?\n        self.testLabel.attributedText = NSAttributedString(\n            data: htmlText.dataUsingEncoding(NSUnicodeStringEncoding, allowLossyConversion: true)!,\n            options: [NSDocumentTypeDocumentAttribute:NSHTMLTextDocumentType],\n            documentAttributes: nil,\n            error: &err)\n        self.testLabel.font = UIFont(name: \"System\", size: 14)\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n}\n````\n\n\u53c2\u7167:[Swift\u3067UILabel\u306bHTML\u3092\u8868\u793a\u3059\u308b\u65b9\u6cd5](\nhttp://qiita.com/satomikko94/items/31ce11a7b525552d4742)\n", "tags": ["Swift", "Xcode6", "iOS8"]}