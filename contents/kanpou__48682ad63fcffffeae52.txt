{"tags": ["Rails4.2.7", "devise4.2.0"], "context": "\n\n\u6982\u8981\n\u4ee5\u4e0b\u30ea\u30f3\u30af\u5148\u3092\u5199\u7d4c\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u5bfe\u5fdc\u3057\u305f\u306e\u3067\u30e1\u30e2\u3002\n\nDevise\u306e\u8a2d\u5b9a\u624b\u9806\u3092\u307e\u3068\u3081\u3066\u307f\u305f\u3002 \u305d\u306e4\u3000\u30e6\u30fc\u30b6\u30fcID\u3067\u3001\u30ed\u30b0\u30a4\u30f3\u8a8d\u8a3c\u7de8 - Qiita\nhttp://qiita.com/itboze/items/385d3cd539fc7578b52a\n\n\nDevise 4.1.0\u4ee5\u964d\u3067\u3001\ndevise_parameter_sanitizer.for\n\u304b\u3089\ndevise_parameter_sanitizer.permit\n\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u305d\u306e\u307e\u307e\u3060\u3068\u4ee5\u4e0b\u306e\u69d8\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\n\n\u4ee5\u4e0b\u306e\u901a\u308a\u4fee\u6b63\u3059\u308b\u3068\u52d5\u304f\u3002\n\napplication_controller.rb\nclass ApplicationController < ActionController::Base\n  # Prevent CSRF attacks by raising an exception.\n  # For APIs, you may want to use :null_session instead.\n  protect_from_forgery with: :exception\n\n  before_filter :configure_permitted_parameters, if: :devise_controller?\n\n  protected\n\n  def configure_permitted_parameters\n    # strong parameters\u3092\u8a2d\u5b9a\u3057\u3001user_id\u3092\u8a31\u53ef\n    # devise_parameter_sanitizer.for(:sign_up){|u|\n    #   u.permit(:user_id, :password, :password_confirmation)\n    # }\n    devise_parameter_sanitizer.permit(:sign_up){|u|\n      u.permit(:user_id, :password, :password_confirmation)\n    }\n\n    # devise_parameter_sanitizer.for(:sign_in){|u|\n    #   u.permit(:user_id, :password, :remember_me)\n    # }\n    devise_parameter_sanitizer.permit(:sign_in){|u|\n      u.permit(:user_id, :password, :remember_me)\n    }\n  end\nend\n\n\n\u4ee5\u4e0b\u3001\u5b9f\u884c\u74b0\u5883\u3067\u3059\u3002\n\nGemfile\nsource 'https://rubygems.org'\n\n\n# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\ngem 'rails', '4.2.7'\n# Use sqlite3 as the database for Active Record\ngem 'sqlite3'\n# Use SCSS for stylesheets\ngem 'sass-rails', '~> 5.0'\n# Use Uglifier as compressor for JavaScript assets\ngem 'uglifier', '>= 1.3.0'\n# Use CoffeeScript for .coffee assets and views\ngem 'coffee-rails', '~> 4.1.0'\n# See https://github.com/rails/execjs#readme for more supported runtimes\n# gem 'therubyracer', platforms: :ruby\n\n# Use jquery as the JavaScript library\ngem 'jquery-rails'\n# Turbolinks makes following links in your web application faster. Read more: https://github.com/rails/turbolinks\ngem 'turbolinks'\n# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\ngem 'jbuilder', '~> 2.0'\n# bundle exec rake doc:rails generates the API under doc/api.\ngem 'sdoc', '~> 0.4.0', group: :doc\n\n# Use ActiveModel has_secure_password\n# gem 'bcrypt', '~> 3.1.7'\n\n# Use Unicorn as the app server\n# gem 'unicorn'\n\n# Use Capistrano for deployment\n# gem 'capistrano-rails', group: :development\n\ngem 'devise'\ngem 'devise-i18n'\ngem 'devise-i18n-views'\n\ngroup :development, :test do\n  # Call 'byebug' anywhere in the code to stop execution and get a debugger console\n  gem 'byebug'\nend\n\ngroup :development do\n  # Access an IRB console on exception pages or by using <%= console %> in views\n  gem 'web-console', '~> 2.0'\n\n  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n  gem 'spring'\nend\n\n\n\nGemfile.lock\nGEM\n  remote: https://rubygems.org/\n  specs:\n    actionmailer (4.2.7)\n      actionpack (= 4.2.7)\n      actionview (= 4.2.7)\n      activejob (= 4.2.7)\n      mail (~> 2.5, >= 2.5.4)\n      rails-dom-testing (~> 1.0, >= 1.0.5)\n    actionpack (4.2.7)\n      actionview (= 4.2.7)\n      activesupport (= 4.2.7)\n      rack (~> 1.6)\n      rack-test (~> 0.6.2)\n      rails-dom-testing (~> 1.0, >= 1.0.5)\n      rails-html-sanitizer (~> 1.0, >= 1.0.2)\n    actionview (4.2.7)\n      activesupport (= 4.2.7)\n      builder (~> 3.1)\n      erubis (~> 2.7.0)\n      rails-dom-testing (~> 1.0, >= 1.0.5)\n      rails-html-sanitizer (~> 1.0, >= 1.0.2)\n    activejob (4.2.7)\n      activesupport (= 4.2.7)\n      globalid (>= 0.3.0)\n    activemodel (4.2.7)\n      activesupport (= 4.2.7)\n      builder (~> 3.1)\n    activerecord (4.2.7)\n      activemodel (= 4.2.7)\n      activesupport (= 4.2.7)\n      arel (~> 6.0)\n    activesupport (4.2.7)\n      i18n (~> 0.7)\n      json (~> 1.7, >= 1.7.7)\n      minitest (~> 5.1)\n      thread_safe (~> 0.3, >= 0.3.4)\n      tzinfo (~> 1.1)\n    arel (6.0.3)\n    bcrypt (3.1.11)\n    binding_of_caller (0.7.2)\n      debug_inspector (>= 0.0.1)\n    builder (3.2.2)\n    byebug (9.0.5)\n    coffee-rails (4.1.1)\n      coffee-script (>= 2.2.0)\n      railties (>= 4.0.0, < 5.1.x)\n    coffee-script (2.4.1)\n      coffee-script-source\n      execjs\n    coffee-script-source (1.10.0)\n    concurrent-ruby (1.0.2)\n    debug_inspector (0.0.2)\n    devise (4.2.0)\n      bcrypt (~> 3.0)\n      orm_adapter (~> 0.1)\n      railties (>= 4.1.0, < 5.1)\n      responders\n      warden (~> 1.2.3)\n    devise-i18n (1.1.0)\n    devise-i18n-views (0.3.7)\n    erubis (2.7.0)\n    execjs (2.7.0)\n    globalid (0.3.6)\n      activesupport (>= 4.1.0)\n    i18n (0.7.0)\n    jbuilder (2.5.0)\n      activesupport (>= 3.0.0, < 5.1)\n      multi_json (~> 1.2)\n    jquery-rails (4.1.1)\n      rails-dom-testing (>= 1, < 3)\n      railties (>= 4.2.0)\n      thor (>= 0.14, < 2.0)\n    json (1.8.3)\n    loofah (2.0.3)\n      nokogiri (>= 1.5.9)\n    mail (2.6.4)\n      mime-types (>= 1.16, < 4)\n    mime-types (3.1)\n      mime-types-data (~> 3.2015)\n    mime-types-data (3.2016.0521)\n    mini_portile2 (2.1.0)\n    minitest (5.9.0)\n    multi_json (1.12.1)\n    nokogiri (1.6.8)\n      mini_portile2 (~> 2.1.0)\n      pkg-config (~> 1.1.7)\n    orm_adapter (0.5.0)\n    pkg-config (1.1.7)\n    rack (1.6.4)\n    rack-test (0.6.3)\n      rack (>= 1.0)\n    rails (4.2.7)\n      actionmailer (= 4.2.7)\n      actionpack (= 4.2.7)\n      actionview (= 4.2.7)\n      activejob (= 4.2.7)\n      activemodel (= 4.2.7)\n      activerecord (= 4.2.7)\n      activesupport (= 4.2.7)\n      bundler (>= 1.3.0, < 2.0)\n      railties (= 4.2.7)\n      sprockets-rails\n    rails-deprecated_sanitizer (1.0.3)\n      activesupport (>= 4.2.0.alpha)\n    rails-dom-testing (1.0.7)\n      activesupport (>= 4.2.0.beta, < 5.0)\n      nokogiri (~> 1.6.0)\n      rails-deprecated_sanitizer (>= 1.0.1)\n    rails-html-sanitizer (1.0.3)\n      loofah (~> 2.0)\n    railties (4.2.7)\n      actionpack (= 4.2.7)\n      activesupport (= 4.2.7)\n      rake (>= 0.8.7)\n      thor (>= 0.18.1, < 2.0)\n    rake (11.2.2)\n    rdoc (4.2.2)\n      json (~> 1.4)\n    responders (2.2.0)\n      railties (>= 4.2.0, < 5.1)\n    sass (3.4.22)\n    sass-rails (5.0.5)\n      railties (>= 4.0.0, < 6)\n      sass (~> 3.1)\n      sprockets (>= 2.8, < 4.0)\n      sprockets-rails (>= 2.0, < 4.0)\n      tilt (>= 1.1, < 3)\n    sdoc (0.4.1)\n      json (~> 1.7, >= 1.7.7)\n      rdoc (~> 4.0)\n    spring (1.7.2)\n    sprockets (3.6.3)\n      concurrent-ruby (~> 1.0)\n      rack (> 1, < 3)\n    sprockets-rails (3.1.1)\n      actionpack (>= 4.0)\n      activesupport (>= 4.0)\n      sprockets (>= 3.0.0)\n    sqlite3 (1.3.11)\n    thor (0.19.1)\n    thread_safe (0.3.5)\n    tilt (2.0.5)\n    turbolinks (5.0.0)\n      turbolinks-source (~> 5)\n    turbolinks-source (5.0.0)\n    tzinfo (1.2.2)\n      thread_safe (~> 0.1)\n    uglifier (3.0.0)\n      execjs (>= 0.3.0, < 3)\n    warden (1.2.6)\n      rack (>= 1.0)\n    web-console (2.3.0)\n      activemodel (>= 4.0)\n      binding_of_caller (>= 0.7.2)\n      railties (>= 4.0)\n      sprockets-rails (>= 2.0, < 4.0)\n\nPLATFORMS\n  ruby\n\nDEPENDENCIES\n  byebug\n  coffee-rails (~> 4.1.0)\n  devise\n  devise-i18n\n  devise-i18n-views\n  jbuilder (~> 2.0)\n  jquery-rails\n  rails (= 4.2.7)\n  sass-rails (~> 5.0)\n  sdoc (~> 0.4.0)\n  spring\n  sqlite3\n  turbolinks\n  uglifier (>= 1.3.0)\n  web-console (~> 2.0)\n\nBUNDLED WITH\n   1.12.5\n\n\n\n\n\u53c2\u8003\u30ea\u30f3\u30af\n\nRails 5, Undefined method `for' for #<Devise on line devise_parameter_sanitizer.for - Stack Overflow\nhttp://stackoverflow.com/questions/37341967/rails-5-undefined-method-for-for-devise-on-line-devise-parameter-sanitizer\nRails4\u304b\u3089Rails5\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u305f\u3089Device\u3067\u30a8\u30e9\u30fc\u304c\u51fa\u305f - Qiita\nhttp://qiita.com/karunru/items/2d8e11556213d536f7df\n\n# \u6982\u8981\n\n\u4ee5\u4e0b\u30ea\u30f3\u30af\u5148\u3092\u5199\u7d4c\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u5bfe\u5fdc\u3057\u305f\u306e\u3067\u30e1\u30e2\u3002\n\n- Devise\u306e\u8a2d\u5b9a\u624b\u9806\u3092\u307e\u3068\u3081\u3066\u307f\u305f\u3002 \u305d\u306e4\u3000\u30e6\u30fc\u30b6\u30fcID\u3067\u3001\u30ed\u30b0\u30a4\u30f3\u8a8d\u8a3c\u7de8 - Qiita  \nhttp://qiita.com/itboze/items/385d3cd539fc7578b52a\n\n\nDevise 4.1.0\u4ee5\u964d\u3067\u3001\n`devise_parameter_sanitizer.for`\n\u304b\u3089\n`devise_parameter_sanitizer.permit`\n\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u305d\u306e\u307e\u307e\u3060\u3068\u4ee5\u4e0b\u306e\u69d8\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\n\n<img width=\"1053\" alt=\"devise_error.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/7902/adc74ce3-ea26-93c5-dd0f-10d5aed13c4e.png\">\n\n\n\u4ee5\u4e0b\u306e\u901a\u308a\u4fee\u6b63\u3059\u308b\u3068\u52d5\u304f\u3002\n\n```rb:application_controller.rb\nclass ApplicationController < ActionController::Base\n  # Prevent CSRF attacks by raising an exception.\n  # For APIs, you may want to use :null_session instead.\n  protect_from_forgery with: :exception\n\n  before_filter :configure_permitted_parameters, if: :devise_controller?\n\n  protected\n\n  def configure_permitted_parameters\n    # strong parameters\u3092\u8a2d\u5b9a\u3057\u3001user_id\u3092\u8a31\u53ef\n    # devise_parameter_sanitizer.for(:sign_up){|u|\n    #   u.permit(:user_id, :password, :password_confirmation)\n    # }\n    devise_parameter_sanitizer.permit(:sign_up){|u|\n      u.permit(:user_id, :password, :password_confirmation)\n    }\n\n    # devise_parameter_sanitizer.for(:sign_in){|u|\n    #   u.permit(:user_id, :password, :remember_me)\n    # }\n    devise_parameter_sanitizer.permit(:sign_in){|u|\n      u.permit(:user_id, :password, :remember_me)\n    }\n  end\nend\n```\n\n\u4ee5\u4e0b\u3001\u5b9f\u884c\u74b0\u5883\u3067\u3059\u3002\n\n\n```ruby:Gemfile\nsource 'https://rubygems.org'\n\n\n# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\ngem 'rails', '4.2.7'\n# Use sqlite3 as the database for Active Record\ngem 'sqlite3'\n# Use SCSS for stylesheets\ngem 'sass-rails', '~> 5.0'\n# Use Uglifier as compressor for JavaScript assets\ngem 'uglifier', '>= 1.3.0'\n# Use CoffeeScript for .coffee assets and views\ngem 'coffee-rails', '~> 4.1.0'\n# See https://github.com/rails/execjs#readme for more supported runtimes\n# gem 'therubyracer', platforms: :ruby\n\n# Use jquery as the JavaScript library\ngem 'jquery-rails'\n# Turbolinks makes following links in your web application faster. Read more: https://github.com/rails/turbolinks\ngem 'turbolinks'\n# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\ngem 'jbuilder', '~> 2.0'\n# bundle exec rake doc:rails generates the API under doc/api.\ngem 'sdoc', '~> 0.4.0', group: :doc\n\n# Use ActiveModel has_secure_password\n# gem 'bcrypt', '~> 3.1.7'\n\n# Use Unicorn as the app server\n# gem 'unicorn'\n\n# Use Capistrano for deployment\n# gem 'capistrano-rails', group: :development\n\ngem 'devise'\ngem 'devise-i18n'\ngem 'devise-i18n-views'\n\ngroup :development, :test do\n  # Call 'byebug' anywhere in the code to stop execution and get a debugger console\n  gem 'byebug'\nend\n\ngroup :development do\n  # Access an IRB console on exception pages or by using <%= console %> in views\n  gem 'web-console', '~> 2.0'\n\n  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n  gem 'spring'\nend\n```\n\n```yaml:Gemfile.lock\nGEM\n  remote: https://rubygems.org/\n  specs:\n    actionmailer (4.2.7)\n      actionpack (= 4.2.7)\n      actionview (= 4.2.7)\n      activejob (= 4.2.7)\n      mail (~> 2.5, >= 2.5.4)\n      rails-dom-testing (~> 1.0, >= 1.0.5)\n    actionpack (4.2.7)\n      actionview (= 4.2.7)\n      activesupport (= 4.2.7)\n      rack (~> 1.6)\n      rack-test (~> 0.6.2)\n      rails-dom-testing (~> 1.0, >= 1.0.5)\n      rails-html-sanitizer (~> 1.0, >= 1.0.2)\n    actionview (4.2.7)\n      activesupport (= 4.2.7)\n      builder (~> 3.1)\n      erubis (~> 2.7.0)\n      rails-dom-testing (~> 1.0, >= 1.0.5)\n      rails-html-sanitizer (~> 1.0, >= 1.0.2)\n    activejob (4.2.7)\n      activesupport (= 4.2.7)\n      globalid (>= 0.3.0)\n    activemodel (4.2.7)\n      activesupport (= 4.2.7)\n      builder (~> 3.1)\n    activerecord (4.2.7)\n      activemodel (= 4.2.7)\n      activesupport (= 4.2.7)\n      arel (~> 6.0)\n    activesupport (4.2.7)\n      i18n (~> 0.7)\n      json (~> 1.7, >= 1.7.7)\n      minitest (~> 5.1)\n      thread_safe (~> 0.3, >= 0.3.4)\n      tzinfo (~> 1.1)\n    arel (6.0.3)\n    bcrypt (3.1.11)\n    binding_of_caller (0.7.2)\n      debug_inspector (>= 0.0.1)\n    builder (3.2.2)\n    byebug (9.0.5)\n    coffee-rails (4.1.1)\n      coffee-script (>= 2.2.0)\n      railties (>= 4.0.0, < 5.1.x)\n    coffee-script (2.4.1)\n      coffee-script-source\n      execjs\n    coffee-script-source (1.10.0)\n    concurrent-ruby (1.0.2)\n    debug_inspector (0.0.2)\n    devise (4.2.0)\n      bcrypt (~> 3.0)\n      orm_adapter (~> 0.1)\n      railties (>= 4.1.0, < 5.1)\n      responders\n      warden (~> 1.2.3)\n    devise-i18n (1.1.0)\n    devise-i18n-views (0.3.7)\n    erubis (2.7.0)\n    execjs (2.7.0)\n    globalid (0.3.6)\n      activesupport (>= 4.1.0)\n    i18n (0.7.0)\n    jbuilder (2.5.0)\n      activesupport (>= 3.0.0, < 5.1)\n      multi_json (~> 1.2)\n    jquery-rails (4.1.1)\n      rails-dom-testing (>= 1, < 3)\n      railties (>= 4.2.0)\n      thor (>= 0.14, < 2.0)\n    json (1.8.3)\n    loofah (2.0.3)\n      nokogiri (>= 1.5.9)\n    mail (2.6.4)\n      mime-types (>= 1.16, < 4)\n    mime-types (3.1)\n      mime-types-data (~> 3.2015)\n    mime-types-data (3.2016.0521)\n    mini_portile2 (2.1.0)\n    minitest (5.9.0)\n    multi_json (1.12.1)\n    nokogiri (1.6.8)\n      mini_portile2 (~> 2.1.0)\n      pkg-config (~> 1.1.7)\n    orm_adapter (0.5.0)\n    pkg-config (1.1.7)\n    rack (1.6.4)\n    rack-test (0.6.3)\n      rack (>= 1.0)\n    rails (4.2.7)\n      actionmailer (= 4.2.7)\n      actionpack (= 4.2.7)\n      actionview (= 4.2.7)\n      activejob (= 4.2.7)\n      activemodel (= 4.2.7)\n      activerecord (= 4.2.7)\n      activesupport (= 4.2.7)\n      bundler (>= 1.3.0, < 2.0)\n      railties (= 4.2.7)\n      sprockets-rails\n    rails-deprecated_sanitizer (1.0.3)\n      activesupport (>= 4.2.0.alpha)\n    rails-dom-testing (1.0.7)\n      activesupport (>= 4.2.0.beta, < 5.0)\n      nokogiri (~> 1.6.0)\n      rails-deprecated_sanitizer (>= 1.0.1)\n    rails-html-sanitizer (1.0.3)\n      loofah (~> 2.0)\n    railties (4.2.7)\n      actionpack (= 4.2.7)\n      activesupport (= 4.2.7)\n      rake (>= 0.8.7)\n      thor (>= 0.18.1, < 2.0)\n    rake (11.2.2)\n    rdoc (4.2.2)\n      json (~> 1.4)\n    responders (2.2.0)\n      railties (>= 4.2.0, < 5.1)\n    sass (3.4.22)\n    sass-rails (5.0.5)\n      railties (>= 4.0.0, < 6)\n      sass (~> 3.1)\n      sprockets (>= 2.8, < 4.0)\n      sprockets-rails (>= 2.0, < 4.0)\n      tilt (>= 1.1, < 3)\n    sdoc (0.4.1)\n      json (~> 1.7, >= 1.7.7)\n      rdoc (~> 4.0)\n    spring (1.7.2)\n    sprockets (3.6.3)\n      concurrent-ruby (~> 1.0)\n      rack (> 1, < 3)\n    sprockets-rails (3.1.1)\n      actionpack (>= 4.0)\n      activesupport (>= 4.0)\n      sprockets (>= 3.0.0)\n    sqlite3 (1.3.11)\n    thor (0.19.1)\n    thread_safe (0.3.5)\n    tilt (2.0.5)\n    turbolinks (5.0.0)\n      turbolinks-source (~> 5)\n    turbolinks-source (5.0.0)\n    tzinfo (1.2.2)\n      thread_safe (~> 0.1)\n    uglifier (3.0.0)\n      execjs (>= 0.3.0, < 3)\n    warden (1.2.6)\n      rack (>= 1.0)\n    web-console (2.3.0)\n      activemodel (>= 4.0)\n      binding_of_caller (>= 0.7.2)\n      railties (>= 4.0)\n      sprockets-rails (>= 2.0, < 4.0)\n\nPLATFORMS\n  ruby\n\nDEPENDENCIES\n  byebug\n  coffee-rails (~> 4.1.0)\n  devise\n  devise-i18n\n  devise-i18n-views\n  jbuilder (~> 2.0)\n  jquery-rails\n  rails (= 4.2.7)\n  sass-rails (~> 5.0)\n  sdoc (~> 0.4.0)\n  spring\n  sqlite3\n  turbolinks\n  uglifier (>= 1.3.0)\n  web-console (~> 2.0)\n\nBUNDLED WITH\n   1.12.5\n\n```\n\n# \u53c2\u8003\u30ea\u30f3\u30af\n- Rails 5, Undefined method `for' for #<Devise on line devise_parameter_sanitizer.for - Stack Overflow\nhttp://stackoverflow.com/questions/37341967/rails-5-undefined-method-for-for-devise-on-line-devise-parameter-sanitizer\n\n- Rails4\u304b\u3089Rails5\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u305f\u3089Device\u3067\u30a8\u30e9\u30fc\u304c\u51fa\u305f - Qiita\nhttp://qiita.com/karunru/items/2d8e11556213d536f7df\n\n\n"}