{"context": " More than 1 year has passed since last update.\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3057\u3066\u305f\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u52d5\u4f5c\u74b0\u5883\n\nUbuntu 12.04.2 LTS\nRuby-2.0.0-p247\nGitLab 5.4\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6700\u65b0\u306b\u66f4\u65b0\u3059\u308b\n\n$ apt-get update\n$ apt-get upgrade\n\n\n\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n$ sudo apt-get install -y build-essential zlib1g-dev libyaml-dev libssl-dev libgdbm-dev libreadline-dev libncurses5-dev libffi-dev curl git-core openssh-server redis-server checkinstall libxml2-dev libxslt-dev libcurl4-openssl-dev libicu-dev postfix\n\n\n\u53e4\u3044Ruby\u3092\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ sudo apt-get remove ruby1.8\n\n\nRuby-2.0.0-p247\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ mkdir /tmp/ruby && cd /tmp/ruby\n$ curl --progress ftp://ftp.ruby-lang.org/pub/ruby/2.0/ruby-2.0.0-p247.tar.gz | tar xz\n$ cd ruby-2.0.0-p247\n$ ./configure\n$ make\n$ sudo make install\n\n\nBundler\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ sudo gem install bundler\n\n\nGitlab\u3092\u52d5\u304b\u3059git\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3059\u308b\n\n$ sudo adduser --disabled-login --gecos 'GitLab' git\n\n\nGit\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u64cd\u4f5c\u3059\u308bGitLab shell\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n$ sudo su git\n$ cd /home/git\n$ git clone https://github.com/gitlabhq/gitlab-shell.git\n$ cd gitlab-shell\n$ git checkout -b v1.4.0 v1.4.0\n$ cp config.yml.example config.yml\n$ vim config.yml // \u30c9\u30e1\u30a4\u30f3\u3092\u5909\u66f4\u3059\u308b\n$ ./bin/install\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8a2d\u5b9a (MySQL)\n\n$ sudo apt-get install -y mysql-server mysql-client libmysqlclient-dev\n$ mysql -u root -p\n\n\n\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\nmysql> CREATE USER 'gitlab'@'localhost' IDENTIFIED BY '$password';\nmysql> CREATE DATABASE IF NOT EXISTS `gitlabhq_production` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`;\nmysql> GRANT SELECT, LOCK TABLES, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER ON `gitlabhq_production`.* TO 'gitlab'@'localhost';\nmysql> \\q\n\n\n\u63a5\u7d9a\u306e\u78ba\u8a8d\n$ sudo -u git -H mysql -u gitlab -p -D gitlabhq_production\n\n\nGitLab\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n$ cd /home/git\n$ sudo -u git -H git clone https://github.com/gitlabhq/gitlabhq.git gitlab\n$ cd /home/git/gitlab\n$ sudo -u git git checkout -b v5.4.0 v5.4.0\n\n\nGitLab\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n\n$ cd /home/git/gitlab\n$ sudo -u git -H cp config/gitlab.yml.example config/gitlab.yml\n$ sudo -u git -H vim config/gitlab.yml // host\u540d\u3092\u5909\u66f4\u3059\u308b\n$ sudo chown -R git log/\n$ sudo chown -R git tmp/\n$ sudo chmod -R u+rwX  log/\n$ sudo chmod -R u+rwX  tmp/\n$ sudo -u git -H mkdir tmp/pids/\n$ sudo -u git -H mkdir tmp/sockets/\n$ sudo chmod -R u+rwX  tmp/pids/\n$ sudo chmod -R u+rwX  tmp/sockets/\n$ sudo -u git -H mkdir public/uploads\n$ sudo chmod -R u+rwX  public/uploads\n$ sudo -u git -H cp config/puma.rb.example config/puma.rb\n$ sudo -u git -H git config --global user.name \"GitLab\"\n$ sudo -u git -H git config --global user.email \"gitlab@localhost\"\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8a2d\u5b9a\n\n$ sudo -u git cp config/database.yml.mysql config/database.yml\n\n\nGem\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ cd /home/git/gitlab\n$ sudo gem install charlock_holmes --version '0.6.9.4'\n$ sudo -u git -H bundle install --deployment --without development test postgres\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u521d\u671f\u30c7\u30fc\u30bf\u6295\u5165\n\nsudo -u git -H bundle exec rake gitlab:setup RAILS_ENV=production\n\n\n\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ sudo cp lib/support/init.d/gitlab /etc/init.d/gitlab\n$ sudo chmod +x /etc/init.d/gitlab\n$ sudo update-rc.d gitlab defaults 21\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u78ba\u8a8d\n\n$ sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production\n\n$ sudo -u git -H bundle exec rake sidekiq:start RAILS_ENV=production\n\n\nGitLab\u306e\u8d77\u52d5\n\n$ sudo /etc/init.d/gitlab start\n\n\nNginx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ sudo apt-get install nginx\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n$ sudo cp lib/support/nginx/gitlab /etc/nginx/sites-available/gitlab\n$ sudo ln -s /etc/nginx/sites-available/gitlab /etc/nginx/sites-enabled/gitlab\n$ sudo vim /etc/nginx/sites-available/gitlab // \u30c9\u30e1\u30a4\u30f3\u3092\u66f8\u304d\u304b\u3048\u308b\n\n\nNginx\u306e\u8d77\u52d5\n\n$ sudo service nginx restart\n\n\n\u521d\u671f\u30a2\u30ab\u30a6\u30f3\u30c8\n\nadmin@local.host\n5iveL!fe\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3057\u3066\u305f\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n**\u52d5\u4f5c\u74b0\u5883**\n\n- Ubuntu 12.04.2 LTS\n- Ruby-2.0.0-p247\n- GitLab 5.4\n\n**\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806**\n\n- \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6700\u65b0\u306b\u66f4\u65b0\u3059\u308b\n\n```\n$ apt-get update\n$ apt-get upgrade\n```\n\n- \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n```\n$ sudo apt-get install -y build-essential zlib1g-dev libyaml-dev libssl-dev libgdbm-dev libreadline-dev libncurses5-dev libffi-dev curl git-core openssh-server redis-server checkinstall libxml2-dev libxslt-dev libcurl4-openssl-dev libicu-dev postfix\n```\n\n- \u53e4\u3044Ruby\u3092\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo apt-get remove ruby1.8\n```\n\n- Ruby-2.0.0-p247\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ mkdir /tmp/ruby && cd /tmp/ruby\n$ curl --progress ftp://ftp.ruby-lang.org/pub/ruby/2.0/ruby-2.0.0-p247.tar.gz | tar xz\n$ cd ruby-2.0.0-p247\n$ ./configure\n$ make\n$ sudo make install\n```\n\n- Bundler\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo gem install bundler\n```\n\n- Gitlab\u3092\u52d5\u304b\u3059git\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3059\u308b\n\n```\n$ sudo adduser --disabled-login --gecos 'GitLab' git\n```\n\n- Git\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u64cd\u4f5c\u3059\u308bGitLab shell\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n```\n$ sudo su git\n$ cd /home/git\n$ git clone https://github.com/gitlabhq/gitlab-shell.git\n$ cd gitlab-shell\n$ git checkout -b v1.4.0 v1.4.0\n$ cp config.yml.example config.yml\n$ vim config.yml // \u30c9\u30e1\u30a4\u30f3\u3092\u5909\u66f4\u3059\u308b\n$ ./bin/install\n```\n\n- \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8a2d\u5b9a (MySQL)\n\n```\n$ sudo apt-get install -y mysql-server mysql-client libmysqlclient-dev\n$ mysql -u root -p\n```\n\n###### \u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n\n```\nmysql> CREATE USER 'gitlab'@'localhost' IDENTIFIED BY '$password';\nmysql> CREATE DATABASE IF NOT EXISTS `gitlabhq_production` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`;\nmysql> GRANT SELECT, LOCK TABLES, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER ON `gitlabhq_production`.* TO 'gitlab'@'localhost';\nmysql> \\q\n```\n\n###### \u63a5\u7d9a\u306e\u78ba\u8a8d\n\n```\n$ sudo -u git -H mysql -u gitlab -p -D gitlabhq_production\n```\n\n- GitLab\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n```\n$ cd /home/git\n$ sudo -u git -H git clone https://github.com/gitlabhq/gitlabhq.git gitlab\n$ cd /home/git/gitlab\n$ sudo -u git git checkout -b v5.4.0 v5.4.0\n```\n\n- GitLab\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n\n```\n$ cd /home/git/gitlab\n$ sudo -u git -H cp config/gitlab.yml.example config/gitlab.yml\n$ sudo -u git -H vim config/gitlab.yml // host\u540d\u3092\u5909\u66f4\u3059\u308b\n$ sudo chown -R git log/\n$ sudo chown -R git tmp/\n$ sudo chmod -R u+rwX  log/\n$ sudo chmod -R u+rwX  tmp/\n$ sudo -u git -H mkdir tmp/pids/\n$ sudo -u git -H mkdir tmp/sockets/\n$ sudo chmod -R u+rwX  tmp/pids/\n$ sudo chmod -R u+rwX  tmp/sockets/\n$ sudo -u git -H mkdir public/uploads\n$ sudo chmod -R u+rwX  public/uploads\n$ sudo -u git -H cp config/puma.rb.example config/puma.rb\n$ sudo -u git -H git config --global user.name \"GitLab\"\n$ sudo -u git -H git config --global user.email \"gitlab@localhost\"\n```\n\n- \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8a2d\u5b9a\n\n```\n$ sudo -u git cp config/database.yml.mysql config/database.yml\n```\n\n- Gem\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ cd /home/git/gitlab\n$ sudo gem install charlock_holmes --version '0.6.9.4'\n$ sudo -u git -H bundle install --deployment --without development test postgres\n```\n\n- \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u521d\u671f\u30c7\u30fc\u30bf\u6295\u5165\n\n```\nsudo -u git -H bundle exec rake gitlab:setup RAILS_ENV=production\n```\n\n- \u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo cp lib/support/init.d/gitlab /etc/init.d/gitlab\n$ sudo chmod +x /etc/init.d/gitlab\n$ sudo update-rc.d gitlab defaults 21\n```\n\n- \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u78ba\u8a8d\n\n```\n$ sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production\n```\n\n```\n$ sudo -u git -H bundle exec rake sidekiq:start RAILS_ENV=production\n```\n\n- GitLab\u306e\u8d77\u52d5\n\n```\n$ sudo /etc/init.d/gitlab start\n```\n\n- Nginx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo apt-get install nginx\n```\n\n- \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n```\n$ sudo cp lib/support/nginx/gitlab /etc/nginx/sites-available/gitlab\n$ sudo ln -s /etc/nginx/sites-available/gitlab /etc/nginx/sites-enabled/gitlab\n$ sudo vim /etc/nginx/sites-available/gitlab // \u30c9\u30e1\u30a4\u30f3\u3092\u66f8\u304d\u304b\u3048\u308b\n```\n- Nginx\u306e\u8d77\u52d5\n\n```\n$ sudo service nginx restart\n```\n\n- \u521d\u671f\u30a2\u30ab\u30a6\u30f3\u30c8\n\n```\nadmin@local.host\n5iveL!fe\n```", "tags": ["GitLab1.0"]}