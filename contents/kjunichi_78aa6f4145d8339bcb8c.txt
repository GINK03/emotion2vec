{"tags": ["JavaScript", "Node.js", "OAuth", "Twitter"], "context": " More than 1 year has passed since last update.\n\n\u80cc\u666f\n\u8af8\u822c\u306e\u4e8b\u60c5\u3067\u3001\n\n\u516c\u5f0f\u30b5\u30a4\u30c8\u3092\u958b\u304b\u305a\u306b\u30ad\u30fc\u30ef\u30fc\u30c9\u306e\u30c4\u30a4\u30fc\u30c8\u306e\u691c\u7d22\n\u30d5\u30a9\u30ed\u30fc\u3092\u305b\u305a\u7279\u5b9a\u306e\u30e6\u30fc\u30b6\u306b\u95a2\u4fc2\u3059\u308b\u30c4\u30a4\u30fc\u30c8\u306e\u691c\u7d22\n\n\u3068\u3044\u3063\u305f\u306a\u3093\u3060\u304b\u308f\u304b\u3089\u306a\u3044\u4e8b\u60c5\u3067\u3053\u308c\u307e\u3067JSONP\u3067\u6271\u3048\u308bTwitter\u306e\u691c\u7d22API\u3092\n\u5e38\u7528\u3057\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u30011.0\u304b\u30891.1\u30d9\u30fc\u30b9\u3078API\u304c\u5909\u66f4\u3059\u308b\u5f71\u97ff\u304b\n\u3053\u308c\u304c\u6700\u8fd1\u30a8\u30e9\u30fc\u3092\u983b\u7e41\u306b\u8fd4\u3059\u3088\u3046\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u3001\u4f55\u3068\u304b\u3057\u305f\u3044\u4e00\u5fc3\u3067OAuth\u8a8d\u8a3c\u3059\u308b\u691c\u7d22\u7528\u306eAPI\u3092\u53e9\u304d\u305f\u304f\u8abf\u3079\u305f\u3068\u3053\u308d\u3002\n\u3010Node.js\u3011OAuth\u8a8d\u8a3c\u3067Passport\u304c\u6700\u5f37\u306b\u4f7f\u3044\u3084\u3059\u3044\u306a\u308b\u30da\u30fc\u30b8\u3092Google\u306b\u7d39\u4ecb\u3055\u308c\u3001\u306a\u308b\u307b\u3069Passport\u3063\u3066\u3044\u3046\u306e\u304c\n\u826f\u3055\u305d\u3046\u3060\u3068\u601d\u3063\u3066\u59cb\u3081\u305f\u3002\n\u3068\u3053\u308d\u304c\u3001Passport\u306f\u3044\u308d\u3044\u308d\u306aSNS\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u304c\u3001\n\u3042\u304f\u307e\u3067\u3082\u30ed\u30b0\u30a4\u30f3\u51e6\u7406\u306b\u9650\u5b9a\u3057\u3066\u3044\u308b\u81ed\u3044\u3053\u3068\u304c\u8584\u3005\u5206\u304b\u308a\u3064\u3064\u3042\u308b\u4eca\u65e5\u3053\u306e\u9803\u3060\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u306a\u3093\u3068\u304b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u5143\u306b\u3059\u308b\u30bd\u30fc\u30b9\n\u5143\u306b\u3059\u308b\u306e\u306fPassport-twitter\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u306e\u4f8b\nhttps://github.com/jaredhanson/passport-twitter/blob/master/examples/signin/app.js\n\n\u5bfe\u5fdc\u65b9\u91dd\n\nPassport-twitter\u306f\u5185\u90e8\u3067oauth\u3092\u4f7f\u7528\u3057\u3066\u308b\nTwitterStrategy\u306e_oauth\u3068\u3044\u3046\u540d\u524d\u3067\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u3002\n\n\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3068\u4e00\u7dd2\u306b\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306f\u3082\u3089\u3063\u3066\u3044\u308b\nprofile\u306e\u4e2d\u306b\u5165\u308c\u308b\u3053\u3068\u3067\u3001\nreq.user\u3068\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u3068\u306a\u308b\u3002\n\u5143\u306e\u30bd\u30fc\u30b9\u306e\u4ee5\u4e0b\u3092\npassport.use(new TwitterStrategy({\n    consumerKey: TWITTER_CONSUMER_KEY,\n    consumerSecret: TWITTER_CONSUMER_SECRET,\n    callbackURL: \"http://127.0.0.1:3000/auth/twitter/callback\"\n  },\n  function(token, tokenSecret, profile, done) {\n    // asynchronous verification, for effect...\n    process.nextTick(function () {\n\n      // To keep the example simple, the user's Twitter profile is returned to\n      // represent the logged-in user. In a typical application, you would want\n      // to associate the Twitter account with a user record in your database,\n      // and return that user instead.\n      return done(null, profile);\n    });\n  }\n));\n\n\u3053\u308c\u3092\u3001\u4ee5\u4e0b\u306e\u69d8\u306b\u3001\nTwitterStrategy\u3092\u751f\u6210\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u3092\u3001\u5f8c\u7d9a\u306e\u51e6\u7406\u3067\u4ed8\u3051\u308b\u3088\u3046\u306b\u5909\u6570\u3067\u53d7\u3051\u308b\n\u3088\u3046\u306b\u3057\u3066\u3001\u8a8d\u8a3c\u6210\u529f\u6642\u306b\u3082\u3089\u3048\u308b\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092req\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\n\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u5165\u308c\u3066\u304a\u304f\u3002(\u4e0a\u8a18\u30bd\u30fc\u30b9\u306eprofile\u304creq.user\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b)\nvar ts = new TwitterStrategy({\n    consumerKey: TWITTER_CONSUMER_KEY,\n    consumerSecret: TWITTER_CONSUMER_SECRET,\n    callbackURL: \"http://127.0.0.1:3000/auth/twitter/callback\"\n  },\n  function(token, tokenSecret, profile, done) {\n    // asynchronous verification, for effect...\n\u3000\u3000// \u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u30e6\u30fc\u30b6\u60c5\u5831\u306e\u4e2d\u306b\u5165\u308c\u3066\u3001API\u53e9\u304f\u969b\u306b\u3053\u308c\u3092\u53c2\u7167\u3059\u308b\u3002\n    profile.twitter_token = token;\n    profile.twitter_token_secret = tokenSecret;\n\n    process.nextTick(function () {\n\n      // To keep the example simple, the user's Twitter profile is returned to\n      // represent the logged-in user. In a typical application, you would want\n      // to associate the Twitter account with a user record in your database,\n      // and return that user instead.\n      return done(null, profile);\n    });\n  }\n)\npassport.use();\n\n\n\u809d\u5fc3\u306e1.1API\u306e\u53e9\u304d\u65b9\noauth\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u3084\u308a\u65b9\u3067\u3044\u3051\u307e\u3059\u3002\nts._oauth.getProtectedResource(\n        'https://api.twitter.com/1.1/search/tweets.json?q='+keyword,\n        'GET',\n    req.user.twitter_token,\n    req.user.twitter_token_secret,\n    function (err, data, response) {\n        if(err) {\n            res.send(err, 500);\n            return;\n        }\n        var jsonObj = JSON.parse(data);\n\u3000\u3000\u3000\u3000// \u3042\u3068\u306f\u304a\u597d\u307f\u3067\n        res.render('search', {\n            user: req.user,\n            result: jsonObj\n        });\n    });\n\n\n\u95a2\u9023\u30b5\u30a4\u30c8\n\nnode.js - making authorized calls to Twitter API with node-oauth and passport - Stack Overflow\n\n\n\u95a2\u9023\u8a18\u4e8b\n\nPassport-twitter\u3067Twitter\u306e1.1\u306eAPI\u3092\u53e9\u304f\nTwitter\u306eBootstrap\u304c2.0\u306b\u306a\u3063\u305f\u306e\u3067\u8a66\u3057\u306b\u4f7f\u3063\u305f\n\n# \u80cc\u666f\n\n\u8af8\u822c\u306e\u4e8b\u60c5\u3067\u3001\n\n- \u516c\u5f0f\u30b5\u30a4\u30c8\u3092\u958b\u304b\u305a\u306b\u30ad\u30fc\u30ef\u30fc\u30c9\u306e\u30c4\u30a4\u30fc\u30c8\u306e\u691c\u7d22\n- \u30d5\u30a9\u30ed\u30fc\u3092\u305b\u305a\u7279\u5b9a\u306e\u30e6\u30fc\u30b6\u306b\u95a2\u4fc2\u3059\u308b\u30c4\u30a4\u30fc\u30c8\u306e\u691c\u7d22\n\n\u3068\u3044\u3063\u305f\u306a\u3093\u3060\u304b\u308f\u304b\u3089\u306a\u3044\u4e8b\u60c5\u3067\u3053\u308c\u307e\u3067JSONP\u3067\u6271\u3048\u308bTwitter\u306e\u691c\u7d22API\u3092\n\u5e38\u7528\u3057\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u30011.0\u304b\u30891.1\u30d9\u30fc\u30b9\u3078API\u304c\u5909\u66f4\u3059\u308b\u5f71\u97ff\u304b\n\u3053\u308c\u304c\u6700\u8fd1\u30a8\u30e9\u30fc\u3092\u983b\u7e41\u306b\u8fd4\u3059\u3088\u3046\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u3001\u4f55\u3068\u304b\u3057\u305f\u3044\u4e00\u5fc3\u3067OAuth\u8a8d\u8a3c\u3059\u308b\u691c\u7d22\u7528\u306eAPI\u3092\u53e9\u304d\u305f\u304f\u8abf\u3079\u305f\u3068\u3053\u308d\u3002\n\n[\u3010Node.js\u3011OAuth\u8a8d\u8a3c\u3067Passport\u304c\u6700\u5f37\u306b\u4f7f\u3044\u3084\u3059\u3044](http://creator.cotapon.org/articles/node-js/node_js-oauth-passpor)\u306a\u308b\u30da\u30fc\u30b8\u3092Google\u306b\u7d39\u4ecb\u3055\u308c\u3001\u306a\u308b\u307b\u3069Passport\u3063\u3066\u3044\u3046\u306e\u304c\n\u826f\u3055\u305d\u3046\u3060\u3068\u601d\u3063\u3066\u59cb\u3081\u305f\u3002\n\u3068\u3053\u308d\u304c\u3001Passport\u306f\u3044\u308d\u3044\u308d\u306aSNS\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u304c\u3001\n\u3042\u304f\u307e\u3067\u3082\u30ed\u30b0\u30a4\u30f3\u51e6\u7406\u306b\u9650\u5b9a\u3057\u3066\u3044\u308b\u81ed\u3044\u3053\u3068\u304c\u8584\u3005\u5206\u304b\u308a\u3064\u3064\u3042\u308b\u4eca\u65e5\u3053\u306e\u9803\u3060\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u306a\u3093\u3068\u304b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n# \u5143\u306b\u3059\u308b\u30bd\u30fc\u30b9\n\u5143\u306b\u3059\u308b\u306e\u306fPassport-twitter\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u306e\u4f8b\n[https://github.com/jaredhanson/passport-twitter/blob/master/examples/signin/app.js](https://github.com/jaredhanson/passport-twitter/blob/master/examples/signin/app.js)\n\n# \u5bfe\u5fdc\u65b9\u91dd\n## Passport-twitter\u306f\u5185\u90e8\u3067oauth\u3092\u4f7f\u7528\u3057\u3066\u308b\nTwitterStrategy\u306e_oauth\u3068\u3044\u3046\u540d\u524d\u3067\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u3002\n\n## \u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3068\u4e00\u7dd2\u306b\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306f\u3082\u3089\u3063\u3066\u3044\u308b\nprofile\u306e\u4e2d\u306b\u5165\u308c\u308b\u3053\u3068\u3067\u3001\nreq.user\u3068\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u3068\u306a\u308b\u3002\n\n\u5143\u306e\u30bd\u30fc\u30b9\u306e\u4ee5\u4e0b\u3092\n\n```\npassport.use(new TwitterStrategy({\n    consumerKey: TWITTER_CONSUMER_KEY,\n    consumerSecret: TWITTER_CONSUMER_SECRET,\n    callbackURL: \"http://127.0.0.1:3000/auth/twitter/callback\"\n  },\n  function(token, tokenSecret, profile, done) {\n    // asynchronous verification, for effect...\n    process.nextTick(function () {\n      \n      // To keep the example simple, the user's Twitter profile is returned to\n      // represent the logged-in user. In a typical application, you would want\n      // to associate the Twitter account with a user record in your database,\n      // and return that user instead.\n      return done(null, profile);\n    });\n  }\n));\n```\n\n\u3053\u308c\u3092\u3001\u4ee5\u4e0b\u306e\u69d8\u306b\u3001\nTwitterStrategy\u3092\u751f\u6210\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u3092\u3001\u5f8c\u7d9a\u306e\u51e6\u7406\u3067\u4ed8\u3051\u308b\u3088\u3046\u306b\u5909\u6570\u3067\u53d7\u3051\u308b\n\u3088\u3046\u306b\u3057\u3066\u3001\u8a8d\u8a3c\u6210\u529f\u6642\u306b\u3082\u3089\u3048\u308b\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092req\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\n\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u5165\u308c\u3066\u304a\u304f\u3002(\u4e0a\u8a18\u30bd\u30fc\u30b9\u306eprofile\u304creq.user\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b)\n\n```\nvar ts = new TwitterStrategy({\n    consumerKey: TWITTER_CONSUMER_KEY,\n    consumerSecret: TWITTER_CONSUMER_SECRET,\n    callbackURL: \"http://127.0.0.1:3000/auth/twitter/callback\"\n  },\n  function(token, tokenSecret, profile, done) {\n    // asynchronous verification, for effect...\n\u3000\u3000// \u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u30e6\u30fc\u30b6\u60c5\u5831\u306e\u4e2d\u306b\u5165\u308c\u3066\u3001API\u53e9\u304f\u969b\u306b\u3053\u308c\u3092\u53c2\u7167\u3059\u308b\u3002\n    profile.twitter_token = token;\n    profile.twitter_token_secret = tokenSecret;\n\n    process.nextTick(function () {\n      \n      // To keep the example simple, the user's Twitter profile is returned to\n      // represent the logged-in user. In a typical application, you would want\n      // to associate the Twitter account with a user record in your database,\n      // and return that user instead.\n      return done(null, profile);\n    });\n  }\n)\npassport.use();\n```\n\n## \u809d\u5fc3\u306e1.1API\u306e\u53e9\u304d\u65b9\n\noauth\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u3084\u308a\u65b9\u3067\u3044\u3051\u307e\u3059\u3002\n\n```\nts._oauth.getProtectedResource(\n        'https://api.twitter.com/1.1/search/tweets.json?q='+keyword,\n        'GET',\n    req.user.twitter_token,\n    req.user.twitter_token_secret,\n    function (err, data, response) {\n        if(err) {\n            res.send(err, 500);\n            return;\n        }\n        var jsonObj = JSON.parse(data);\n\u3000\u3000\u3000\u3000// \u3042\u3068\u306f\u304a\u597d\u307f\u3067\n        res.render('search', {\n            user: req.user,\n            result: jsonObj\n        });\n    });\n```\n\n# \u95a2\u9023\u30b5\u30a4\u30c8\n\n- [node.js - making authorized calls to Twitter API with node-oauth and passport - Stack Overflow](http://stackoverflow.com/questions/13639539/making-authorized-calls-to-twitter-api-with-node-oauth-and-passport)\n\n# \u95a2\u9023\u8a18\u4e8b\n\n- [Passport-twitter\u3067Twitter\u306e1.1\u306eAPI\u3092\u53e9\u304f](http://kjunichi.cocolog-nifty.com/misc/2013/03/passport-twitte.html)\n- [Twitter\u306eBootstrap\u304c2.0\u306b\u306a\u3063\u305f\u306e\u3067\u8a66\u3057\u306b\u4f7f\u3063\u305f](http://kjunichi.cocolog-nifty.com/misc/2012/02/twitterbootstra.html)\n"}