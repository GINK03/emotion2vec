{"context": " More than 1 year has passed since last update.\u4eca\u6d41\u884c\u308a\u306e\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u30c1\u30a7\u30c3\u30af\u3092Kotlin\u3067\u4fbf\u4e57\u3057\u3066\u307f\u305f\u304f\u306a\u3063\u305f\u306e\u3067\u305b\u3063\u304b\u304f\u306a\u306e\u3067Range\u3068infix\u4f7f\u3063\u3066\u65e5\u672c\u8a9e\u306e\u8a9e\u9806\u901a\u308a\u306b\u3057\u3088\u3046\u3068\u9811\u5f35\u308a\u307e\u3057\u305f\n\n\u5143\u30cd\u30bf\n\n\n\u30bd\u30fc\u30b9\nimport java.util.*\n\nclass ZunDoko(val ite: () -> Iterator<String>) : Iterable<String> {\n    override fun iterator(): Iterator<String> {\n        return ite()\n    }\n\n    // \u30e9\u30f3\u30c0\u30e0\u3067count\u500b\u306e\u8981\u7d20\u3092\u51fa\u529b\u3057\u306a\u304c\u3089\u6b21\u306e\u8981\u7d20\u306b\u884c\u304fIterable\n    fun randomPrint(count: Int): ZunDoko {\n        val iterator = {\n            object : Iterator<String> {\n                var cache: MutableList<String>? = null\n                var count = 0\n\n                override fun hasNext() = count > this.count\n\n                override fun next(): String {\n                    this.count++\n                    if (cache == null) {\n                        cache = this@ZunDoko.toMutableList()\n                        while (count < cache!!.size) {\n                            cache!!.removeAt(random.nextInt(cache!!.size))\n                        }\n                    }\n                    val element = cache!![0].apply { cache!!.removeAt(0) }\n                    println(element)\n                    if (cache!!.isEmpty()) cache = null\n                    return element\n                }\n\n            }\n        }\n        return ZunDoko(iterator)\n    }\n\n    // count\u56de\u30eb\u30fc\u30d7\u3059\u308bIterable\n    // count\u304c-1\u306a\u3089\u7121\u9650\u30eb\u30fc\u30d7\n    fun loop(count: Int): ZunDoko {\n        val iterator = {\n            object : Iterator<String> {\n                var isColoopEnnded = false\n                var cache: MutableList<String>? = null\n                var count = 0\n\n                override fun hasNext() = count == forever || count > this.count || isColoopEnnded.not()\n\n                override fun next(): String {\n                    isColoopEnnded = false\n                    if (cache == null) {\n                        cache = this@ZunDoko.toMutableList()\n                    }\n                    require(cache!!.size > 0)\n                    val element = cache!![0].apply { cache!!.removeAt(0) }\n                    if (cache!!.isEmpty()) {\n                        cache = null\n                        isColoopEnnded = true\n                        this.count++\n                    }\n                    return element\n                }\n\n            }\n        }\n        return ZunDoko(iterator)\n    }\n\n    // String\u914d\u5217\u304c\u5b58\u5728\u3057\u305f\u3068\u304d\u306b\u30a4\u30d9\u30f3\u30c8\u5b9f\u884c\u3059\u308bListener\u3092\u8fd4\u3059\n    fun ifAppear(words: Array<String>): Listener {\n        return object : Listener {\n            var event: () -> Boolean = { false }\n\n            override fun call() {\n                val iterator = iterator()\n                var matchCount = 0\n                //\u30a4\u30c6\u30ec\u30fc\u30bf\u30fc\u304c\u3042\u308b\u9650\u308a\u78ba\u8a8d\u3059\u308b\n                while (iterator.hasNext()) {\n                    val element = iterator.next()\n                    if (element == words[matchCount]) {\n                        matchCount++\n                    } else {\n                        matchCount = 0\n                    }\n                    if (matchCount >= words.size) {\n                        // event\u306e\u8fd4\u308a\u5024\u304ctrue\u306a\u3089\u51e6\u7406\u7d42\u4e86\n                        if (event()) {\n                            break\n                        }\n                    }\n                }\n            }\n\n            override fun addEvent(event: () -> Boolean) {\n                val e = this.event\n                this.event = {\n                    e() || event()\n                }\n            }\n        }\n    }\n\n    companion object {\n        val random = Random()\n    }\n}\n\ninterface Listener {\n    fun addEvent(event: () -> Boolean)\n\n    fun call()\n}\n\noperator fun String.rangeTo(that: String) = ZunDoko({ arrayListOf(this, that).iterator() })\n\ninfix fun ZunDoko.loop(count: Int) = loop(count)\n\ninfix fun ZunDoko.randomPrint(count: Int) = randomPrint(count)\n\ninfix fun ZunDoko.ifAppear(words: Array<String>): Listener = ifAppear(words)\n\ninfix fun Listener.print(word: String) = this.after {\n    println(word)\n    false\n}\n\ninfix fun Listener.after(event: () -> Boolean) = this.apply {\n    addEvent(event)\n}\n\n// Listener\u3092\u547c\u3073\u51fa\u3059\nfun Listener.writeAndGetUnit() {\n    call()\n}\n\n// \u6f14\u7b97\u5b50\u306e\u5de6\u53f3\u306b\u306f\u5024\u304c\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u3067\u5024\u3068\u3057\u3066\u5ba3\u8a00\u3057\u3066\u304a\u304f\nval loopEnd: () -> Boolean = { true }\nval one = 1\nval forever = -1\n\nfun main(args: Array<String>) {\n    (\"\u30ba\u30f3\"..\"\u30c9\u30b3\" randomPrint one loop forever ifAppear arrayOf(\"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30c9\u30b3\") print \"\u30ad\u30fb\u30e8\u30fb\u30b7\uff01\" after loopEnd).writeAndGetUnit()\n}\n\n\u9577\u3044(\u78ba\u4fe1)\u82f1\u8a9e\u529b(\u7686\u7121)\n\n\u5b9f\u884c\u7d50\u679c\n\n\n\u809d\u5fc3\u306e\u547c\u3073\u51fa\u3057\n(\"\u30ba\u30f3\"..\"\u30c9\u30b3\" randomPrint one loop forever ifAppear arrayOf(\"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30c9\u30b3\") print \"\u30ad\u30fb\u30e8\u30fb\u30b7\uff01\" after loopEnd).writeAndGetUnit()\n\n\u300c\u30ba\u30f3\u300d\u300c\u30c9\u30b3\u300d\n\"\u30ba\u30f3\"..\"\u30c9\u30b3\"\n\u3044\u305a\u308c\u304b\u3092\u30e9\u30f3\u30c0\u30e0\u3067\u51fa\u529b\nrandomPrint one\n\u3057\u7d9a\u3051\u3066\nloop forever\n\u300c\u30ba\u30f3\u300d\u300c\u30ba\u30f3\u300d\u300c\u30ba\u30f3\u300d\u300c\u30ba\u30f3\u300d\u300c\u30c9\u30b3\u300d\u306e\u914d\u5217\u304c\u51fa\u305f\u3089\nifAppear arrayOf(\"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30c9\u30b3\")\n\u300c\u30ad\u30fb\u30e8\u30fb\u30b7\uff01\u300d\u3063\u3066\u51fa\u529b\nprint \"\u30ad\u30fb\u30e8\u30fb\u30b7\uff01\"\n\u3057\u305f\u5f8c\u7d42\u4e86\nafter loopEnd\n\u95a2\u6570\u4f5c\u3063\u305f\u3089~~\u5358\u4f4d\u8cb0\u3063\u3066\u305f\n.writeAndGetUnit()\n\n\u6b8b\u5ff5\u306a\u3068\u3053\n\n\u7d30\u90e8\u307e\u3067\u65e5\u672c\u8a9e\u306e\u8a9e\u9806\u306f\u3084\u3063\u3071\u308a\u7121\u7406\u3060\u3063\u305f\n\u914d\u5217\u306e\u3068\u3053\u3067\u30ab\u30c3\u30b3\u3092\u4f7f\u3063\u3066\u3057\u307e\u3063\u305f\narrayOf(\"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30c9\u30b3\")\n\u6587\u7ae0\u3068\u3057\u3066\u306f\u3072\u3068\u307e\u3068\u307e\u308a\u306a\u3068\u3053\u306a\u306e\u3067\u3053\u3053\u3067\u306f\u30ab\u30c3\u30b3\u4f7f\u3044\u305f\u304f\u306a\u304b\u3063\u305f\n\u554f\u984c(\u306e\u914d\u5217\u306a\u3069\u306e\u500b\u6570)\u304c\u5909\u308f\u308c\u3070\u52d5\u304b\u306a\u3055\u305d\u3046\u306a\u3068\u3053\n\n\n\u89e3\u8aac\nRange\u3068infix\u51e6\u5973\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u3055\u3093\u306b\u596a\u308f\u308c\u305f\u306e\u3067Range\u3068infix\u306f\u521d\u3081\u3066\u81ea\u4f5c\u3057\u305f\u306e\u3067\u8a73\u3057\u3044\u89e3\u8aac\u306f\u3067\u304d\u306a\u3044\u3067\u3059\n\n\"\u30ba\u30f3\"..\"\u30c9\u30b3\"\nRange\u3067\u3059\u3001\u3088\u304ffor(i in 1..10)\u3068\u304b\u3059\u308b\u3084\u3064\u3067\u3059\noperator fun String.rangeTo(that: String) = ZunDoko({ arrayListOf(this, that).iterator() })\n\n\u3053\u3053\u3067\u5b9a\u7fa9\u3057\u3066\u307e\u3059\u3001rangeTo\u306f\u6c7a\u307e\u308a\u6587\u53e5\u307f\u305f\u3044\u306a\u611f\u3058\u3063\u307d\u3044\u3067\u3059\n\nrandomPrint one\n\u524d\u8ff0\u306e\u3068\u3053\u3067ZunDoko\u30af\u30e9\u30b9\u304c\u8fd4\u3063\u3066\u304f\u308b\u306e\u3067\u3053\u308c\u306b\u62e1\u5f35\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u6f14\u7b97\u5b50\u306e\u3088\u3046\u306b\u4f7f\u3048\u308b\u3088\u3046\u306binfix\u30ad\u30fc\u30ef\u30fc\u30c9\u3064\u3051\u3066\u307e\u3059\ninfix fun ZunDoko.randomPrint(count: Int) = randomPrint(count)\n\n\u6f14\u7b97\u5b50\u306e\u3088\u3046\u306b\u771f\u3093\u4e2d\u306b\u95a2\u6570\u540d\u304c\u304f\u308b\u306e\u3067\u53f3\u8fba\u306b\u304f\u308bInt\u578b\u306f\u305d\u308c\u3063\u307d\u304f\u898b\u3048\u308b\u3088\u3046\u306b\u4ed6\u3067\u5b9a\u7fa9\u3057\u3068\u304d\u307e\u3059(\u9003\u3052)\nrandomPrint(count)\u306fZunDoko\u30af\u30e9\u30b9\u3067\u5b9a\u7fa9\u3057\u3066\u308b\u3082\u306e\u3067\u3059\u3001\u62e1\u5f35\u95a2\u6570\u306a\u306e\u3067this\u3067\u53c2\u7167\u3067\u304dthis\u3092\u7701\u7565\u3057\u3066\u307e\u3059\n\nloop forever\n\u3080\u3052\u3093\u308b\u30fc\u3077\u3057\u305f\u3044\u306e\u3067\u3075\u3089\u3050\u3092-1\u306b\u3057\u305f\n\nifAppear arrayOf(\"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30c9\u30b3\")\ninfix fun ZunDoko.ifAppear(words: Array<String>): Listener = ifAppear(words)\n\n\u3068\u308a\u3042\u3048\u305a\u5de6\u8fba\u306f\u6c7a\u307e\u3063\u3066\u308b\u3001\u53f3\u8fba\u306f\u914d\u5217\u306b\u3057\u305f\u3044\u2026\u3058\u3083\u3042\u53f3\u8fba\u3069\u3046\u3059\u308b\u304b\uff1farrayOf\u3057\u304b\u306a\u3044\u3058\u3083\u306a\u3044\uff01(\u6d99)\n\u8fd4\u308a\u5024\u306eListener\u3067\u3059\u304c\u3053\u306e\u5f8c\u7d9a\u306e\u95a2\u6570\u3067\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u305f\u3044&\u305d\u308c\u3092\u8ffd\u52a0\u3057\u305f\u3046\u3048\u3067\u6700\u5f8c\u306b\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u4f5c\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f(\u3044\u308f\u3086\u308b\u9045\u5ef6\u5b9f\u884c\u3063\u3066\u3084\u3064\u304b\u306a)\n\nprint \"\u30ad\u30fb\u30e8\u30fb\u30b7\uff01\" after loopEnd\n\u524d\u8ff0\u306e\u3068\u3053\u3067Listener\u304c\u8fd4\u3063\u3066\u304f\u308b\u306e\u3067\u305d\u308c\u306b\u5408\u308f\u305b\u3066\u5b9a\u7fa9\ninfix fun Listener.print(word: String) = this.after {\n    println(word)\n    false\n}\n\ninfix fun Listener.after(event: () -> Boolean) = this.apply {\n    addEvent(event)\n}\n\nafter\u95a2\u6570\u306e\u5f15\u6570\u304c\u30e9\u30e0\u30c0\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\nval loopEnd: () -> Boolean = { true }\n\n\u3068\u5b9a\u7fa9\u3057\u307e\u3059(\u9003\u3052)\n\n.writeAndGetUnit()\n\u6587\u7ae0\u306e\u6700\u5f8c\u3067\u53f3\u8fba\u304c\u306a\u3044\u306e\u3067infix\u3064\u3051\u306a\u3044\u62e1\u5f35\u95a2\u6570\u306b\u3057\u307e\u3059\nfun Listener.writeAndGetUnit() {\n    call()\n}\n\nListener\u3092\u9045\u5ef6\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u3044\u305f\u306e\u3067\u3053\u3053\u3067\u547c\u3073\u51fa\u3057\u307e\u3059(\u7d42\u308f\u308a)\n\n\u3055\u3044\u3054\u306b\n\u3082\u3063\u3068\u3044\u3044\u5b9f\u88c5\u65b9\u6cd5\u3042\u308b\u3068\u601d\u3046()\n\u4eca\u6d41\u884c\u308a\u306e\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u30c1\u30a7\u30c3\u30af\u3092Kotlin\u3067\u4fbf\u4e57\u3057\u3066\u307f\u305f\u304f\u306a\u3063\u305f\u306e\u3067\u305b\u3063\u304b\u304f\u306a\u306e\u3067Range\u3068infix\u4f7f\u3063\u3066\u65e5\u672c\u8a9e\u306e\u8a9e\u9806\u901a\u308a\u306b\u3057\u3088\u3046\u3068\u9811\u5f35\u308a\u307e\u3057\u305f\n### \u5143\u30cd\u30bf\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\">Java\u306e\u8b1b\u7fa9\u3001\u8a66\u9a13\u304c\u300c\u81ea\u4f5c\u95a2\u6570\u3092\u4f5c\u308a\u8a18\u8ff0\u3057\u306a\u3055\u3044\u300d\u3063\u3066\u554f\u984c\u3060\u3063\u305f\u304b\u3089<br>\u300c\u30ba\u30f3\u300d\u300c\u30c9\u30b3\u300d\u306e\u3044\u305a\u308c\u304b\u3092\u30e9\u30f3\u30c0\u30e0\u3067\u51fa\u529b\u3057\u7d9a\u3051\u3066\u300c\u30ba\u30f3\u300d\u300c\u30ba\u30f3\u300d\u300c\u30ba\u30f3\u300d\u300c\u30ba\u30f3\u300d\u300c\u30c9\u30b3\u300d\u306e\u914d\u5217\u304c\u51fa\u305f\u3089\u300c\u30ad\u30fb\u30e8\u30fb\u30b7\uff01\u300d\u3063\u3066\u51fa\u529b\u3057\u305f\u5f8c\u7d42\u4e86\u3063\u3066\u95a2\u6570\u4f5c\u3063\u305f\u3089\u6e80\u70b9\u3067\u5358\u4f4d\u8cb0\u3063\u3066\u305f</p>&mdash; \u3066\u304f\u3082 (@kumiromilk) <a href=\"https://twitter.com/kumiromilk/status/707437861881180160\">2016\u5e743\u67089\u65e5</a></blockquote>\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n### \u30bd\u30fc\u30b9\n\n```kotlin\nimport java.util.*\n\nclass ZunDoko(val ite: () -> Iterator<String>) : Iterable<String> {\n    override fun iterator(): Iterator<String> {\n        return ite()\n    }\n\n    // \u30e9\u30f3\u30c0\u30e0\u3067count\u500b\u306e\u8981\u7d20\u3092\u51fa\u529b\u3057\u306a\u304c\u3089\u6b21\u306e\u8981\u7d20\u306b\u884c\u304fIterable\n    fun randomPrint(count: Int): ZunDoko {\n        val iterator = {\n            object : Iterator<String> {\n                var cache: MutableList<String>? = null\n                var count = 0\n\n                override fun hasNext() = count > this.count\n\n                override fun next(): String {\n                    this.count++\n                    if (cache == null) {\n                        cache = this@ZunDoko.toMutableList()\n                        while (count < cache!!.size) {\n                            cache!!.removeAt(random.nextInt(cache!!.size))\n                        }\n                    }\n                    val element = cache!![0].apply { cache!!.removeAt(0) }\n                    println(element)\n                    if (cache!!.isEmpty()) cache = null\n                    return element\n                }\n\n            }\n        }\n        return ZunDoko(iterator)\n    }\n\n    // count\u56de\u30eb\u30fc\u30d7\u3059\u308bIterable\n    // count\u304c-1\u306a\u3089\u7121\u9650\u30eb\u30fc\u30d7\n    fun loop(count: Int): ZunDoko {\n        val iterator = {\n            object : Iterator<String> {\n                var isColoopEnnded = false\n                var cache: MutableList<String>? = null\n                var count = 0\n\n                override fun hasNext() = count == forever || count > this.count || isColoopEnnded.not()\n\n                override fun next(): String {\n                    isColoopEnnded = false\n                    if (cache == null) {\n                        cache = this@ZunDoko.toMutableList()\n                    }\n                    require(cache!!.size > 0)\n                    val element = cache!![0].apply { cache!!.removeAt(0) }\n                    if (cache!!.isEmpty()) {\n                        cache = null\n                        isColoopEnnded = true\n                        this.count++\n                    }\n                    return element\n                }\n\n            }\n        }\n        return ZunDoko(iterator)\n    }\n\n    // String\u914d\u5217\u304c\u5b58\u5728\u3057\u305f\u3068\u304d\u306b\u30a4\u30d9\u30f3\u30c8\u5b9f\u884c\u3059\u308bListener\u3092\u8fd4\u3059\n    fun ifAppear(words: Array<String>): Listener {\n        return object : Listener {\n            var event: () -> Boolean = { false }\n\n            override fun call() {\n                val iterator = iterator()\n                var matchCount = 0\n                //\u30a4\u30c6\u30ec\u30fc\u30bf\u30fc\u304c\u3042\u308b\u9650\u308a\u78ba\u8a8d\u3059\u308b\n                while (iterator.hasNext()) {\n                    val element = iterator.next()\n                    if (element == words[matchCount]) {\n                        matchCount++\n                    } else {\n                        matchCount = 0\n                    }\n                    if (matchCount >= words.size) {\n                        // event\u306e\u8fd4\u308a\u5024\u304ctrue\u306a\u3089\u51e6\u7406\u7d42\u4e86\n                        if (event()) {\n                            break\n                        }\n                    }\n                }\n            }\n\n            override fun addEvent(event: () -> Boolean) {\n                val e = this.event\n                this.event = {\n                    e() || event()\n                }\n            }\n        }\n    }\n\n    companion object {\n        val random = Random()\n    }\n}\n\ninterface Listener {\n    fun addEvent(event: () -> Boolean)\n\n    fun call()\n}\n\noperator fun String.rangeTo(that: String) = ZunDoko({ arrayListOf(this, that).iterator() })\n\ninfix fun ZunDoko.loop(count: Int) = loop(count)\n\ninfix fun ZunDoko.randomPrint(count: Int) = randomPrint(count)\n\ninfix fun ZunDoko.ifAppear(words: Array<String>): Listener = ifAppear(words)\n\ninfix fun Listener.print(word: String) = this.after {\n    println(word)\n    false\n}\n\ninfix fun Listener.after(event: () -> Boolean) = this.apply {\n    addEvent(event)\n}\n\n// Listener\u3092\u547c\u3073\u51fa\u3059\nfun Listener.writeAndGetUnit() {\n    call()\n}\n\n// \u6f14\u7b97\u5b50\u306e\u5de6\u53f3\u306b\u306f\u5024\u304c\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u3067\u5024\u3068\u3057\u3066\u5ba3\u8a00\u3057\u3066\u304a\u304f\nval loopEnd: () -> Boolean = { true }\nval one = 1\nval forever = -1\n\nfun main(args: Array<String>) {\n    (\"\u30ba\u30f3\"..\"\u30c9\u30b3\" randomPrint one loop forever ifAppear arrayOf(\"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30c9\u30b3\") print \"\u30ad\u30fb\u30e8\u30fb\u30b7\uff01\" after loopEnd).writeAndGetUnit()\n}\n```\n\u9577\u3044(\u78ba\u4fe1)\u82f1\u8a9e\u529b(\u7686\u7121)\n\n### \u5b9f\u884c\u7d50\u679c\n![zundoko.PNG](https://qiita-image-store.s3.amazonaws.com/0/51176/f41c50e2-87d6-5c9b-2e00-fa158a9d9084.png)\n\n\n### \u809d\u5fc3\u306e\u547c\u3073\u51fa\u3057\n```kotlin\n(\"\u30ba\u30f3\"..\"\u30c9\u30b3\" randomPrint one loop forever ifAppear arrayOf(\"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30c9\u30b3\") print \"\u30ad\u30fb\u30e8\u30fb\u30b7\uff01\" after loopEnd).writeAndGetUnit()\n```\n\n\u300c\u30ba\u30f3\u300d\u300c\u30c9\u30b3\u300d\n``` \"\u30ba\u30f3\"..\"\u30c9\u30b3\" ```\n\n\u3044\u305a\u308c\u304b\u3092\u30e9\u30f3\u30c0\u30e0\u3067\u51fa\u529b\n``` randomPrint one ```\n\n\u3057\u7d9a\u3051\u3066\n``` loop forever ```\n\n\u300c\u30ba\u30f3\u300d\u300c\u30ba\u30f3\u300d\u300c\u30ba\u30f3\u300d\u300c\u30ba\u30f3\u300d\u300c\u30c9\u30b3\u300d\u306e\u914d\u5217\u304c\u51fa\u305f\u3089\n``` ifAppear arrayOf(\"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30c9\u30b3\") ```\n\n\u300c\u30ad\u30fb\u30e8\u30fb\u30b7\uff01\u300d\u3063\u3066\u51fa\u529b\n``` print \"\u30ad\u30fb\u30e8\u30fb\u30b7\uff01\" ```\n\n\u3057\u305f\u5f8c\u7d42\u4e86\n``` after loopEnd ```\n\n\u95a2\u6570\u4f5c\u3063\u305f\u3089~~\u5358\u4f4d\u8cb0\u3063\u3066\u305f\n``` .writeAndGetUnit() ```\n\n### \u6b8b\u5ff5\u306a\u3068\u3053\n1. \u7d30\u90e8\u307e\u3067\u65e5\u672c\u8a9e\u306e\u8a9e\u9806\u306f\u3084\u3063\u3071\u308a\u7121\u7406\u3060\u3063\u305f\n\n2. \u914d\u5217\u306e\u3068\u3053\u3067\u30ab\u30c3\u30b3\u3092\u4f7f\u3063\u3066\u3057\u307e\u3063\u305f\n``` arrayOf(\"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30c9\u30b3\") ```\n\u6587\u7ae0\u3068\u3057\u3066\u306f\u3072\u3068\u307e\u3068\u307e\u308a\u306a\u3068\u3053\u306a\u306e\u3067\u3053\u3053\u3067\u306f\u30ab\u30c3\u30b3\u4f7f\u3044\u305f\u304f\u306a\u304b\u3063\u305f\n\n3. \u554f\u984c(\u306e\u914d\u5217\u306a\u3069\u306e\u500b\u6570)\u304c\u5909\u308f\u308c\u3070\u52d5\u304b\u306a\u3055\u305d\u3046\u306a\u3068\u3053\n\n### \u89e3\u8aac\n~~Range\u3068infix\u51e6\u5973\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u3055\u3093\u306b\u596a\u308f\u308c\u305f\u306e\u3067~~Range\u3068infix\u306f\u521d\u3081\u3066\u81ea\u4f5c\u3057\u305f\u306e\u3067\u8a73\u3057\u3044\u89e3\u8aac\u306f\u3067\u304d\u306a\u3044\u3067\u3059\n\n#### \"\u30ba\u30f3\"..\"\u30c9\u30b3\"\nRange\u3067\u3059\u3001\u3088\u304ffor(i in 1..10)\u3068\u304b\u3059\u308b\u3084\u3064\u3067\u3059\n\n```kotlin\noperator fun String.rangeTo(that: String) = ZunDoko({ arrayListOf(this, that).iterator() })\n```\n\u3053\u3053\u3067\u5b9a\u7fa9\u3057\u3066\u307e\u3059\u3001rangeTo\u306f\u6c7a\u307e\u308a\u6587\u53e5\u307f\u305f\u3044\u306a\u611f\u3058\u3063\u307d\u3044\u3067\u3059\n\n#### randomPrint one\n\u524d\u8ff0\u306e\u3068\u3053\u3067ZunDoko\u30af\u30e9\u30b9\u304c\u8fd4\u3063\u3066\u304f\u308b\u306e\u3067\u3053\u308c\u306b\u62e1\u5f35\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u6f14\u7b97\u5b50\u306e\u3088\u3046\u306b\u4f7f\u3048\u308b\u3088\u3046\u306binfix\u30ad\u30fc\u30ef\u30fc\u30c9\u3064\u3051\u3066\u307e\u3059\n\n```kotlin\ninfix fun ZunDoko.randomPrint(count: Int) = randomPrint(count)\n```\n\u6f14\u7b97\u5b50\u306e\u3088\u3046\u306b\u771f\u3093\u4e2d\u306b\u95a2\u6570\u540d\u304c\u304f\u308b\u306e\u3067\u53f3\u8fba\u306b\u304f\u308bInt\u578b\u306f\u305d\u308c\u3063\u307d\u304f\u898b\u3048\u308b\u3088\u3046\u306b\u4ed6\u3067\u5b9a\u7fa9\u3057\u3068\u304d\u307e\u3059(\u9003\u3052)\nrandomPrint(count)\u306fZunDoko\u30af\u30e9\u30b9\u3067\u5b9a\u7fa9\u3057\u3066\u308b\u3082\u306e\u3067\u3059\u3001\u62e1\u5f35\u95a2\u6570\u306a\u306e\u3067this\u3067\u53c2\u7167\u3067\u304dthis\u3092\u7701\u7565\u3057\u3066\u307e\u3059\n\n#### loop forever\n\u3080\u3052\u3093\u308b\u30fc\u3077\u3057\u305f\u3044\u306e\u3067\u3075\u3089\u3050\u3092-1\u306b\u3057\u305f\n\n#### ifAppear arrayOf(\"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30ba\u30f3\", \"\u30c9\u30b3\")\n\n```kotlin\ninfix fun ZunDoko.ifAppear(words: Array<String>): Listener = ifAppear(words)\n```\n\n\u3068\u308a\u3042\u3048\u305a\u5de6\u8fba\u306f\u6c7a\u307e\u3063\u3066\u308b\u3001\u53f3\u8fba\u306f\u914d\u5217\u306b\u3057\u305f\u3044\u2026\u3058\u3083\u3042\u53f3\u8fba\u3069\u3046\u3059\u308b\u304b\uff1farrayOf\u3057\u304b\u306a\u3044\u3058\u3083\u306a\u3044\uff01(\u6d99)\n\u8fd4\u308a\u5024\u306eListener\u3067\u3059\u304c\u3053\u306e\u5f8c\u7d9a\u306e\u95a2\u6570\u3067\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u305f\u3044&\u305d\u308c\u3092\u8ffd\u52a0\u3057\u305f\u3046\u3048\u3067\u6700\u5f8c\u306b\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u4f5c\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f(\u3044\u308f\u3086\u308b\u9045\u5ef6\u5b9f\u884c\u3063\u3066\u3084\u3064\u304b\u306a)\n\n#### print \"\u30ad\u30fb\u30e8\u30fb\u30b7\uff01\" after loopEnd\n\u524d\u8ff0\u306e\u3068\u3053\u3067Listener\u304c\u8fd4\u3063\u3066\u304f\u308b\u306e\u3067\u305d\u308c\u306b\u5408\u308f\u305b\u3066\u5b9a\u7fa9\n\n```kotlin\ninfix fun Listener.print(word: String) = this.after {\n    println(word)\n    false\n}\n\ninfix fun Listener.after(event: () -> Boolean) = this.apply {\n    addEvent(event)\n}\n```\n\nafter\u95a2\u6570\u306e\u5f15\u6570\u304c\u30e9\u30e0\u30c0\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\n\n```kotlin\nval loopEnd: () -> Boolean = { true }\n```\n\u3068\u5b9a\u7fa9\u3057\u307e\u3059(\u9003\u3052)\n\n#### .writeAndGetUnit()\n\u6587\u7ae0\u306e\u6700\u5f8c\u3067\u53f3\u8fba\u304c\u306a\u3044\u306e\u3067infix\u3064\u3051\u306a\u3044\u62e1\u5f35\u95a2\u6570\u306b\u3057\u307e\u3059\n\n```kotlin\nfun Listener.writeAndGetUnit() {\n    call()\n}\n```\nListener\u3092\u9045\u5ef6\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u3044\u305f\u306e\u3067\u3053\u3053\u3067\u547c\u3073\u51fa\u3057\u307e\u3059(\u7d42\u308f\u308a)\n\n### \u3055\u3044\u3054\u306b\n\u3082\u3063\u3068\u3044\u3044\u5b9f\u88c5\u65b9\u6cd5\u3042\u308b\u3068\u601d\u3046()\n", "tags": ["Kotlin", "\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7"]}