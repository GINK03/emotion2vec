{"tags": ["Realm", "Objective-C"], "context": " More than 1 year has passed since last update.realm\u3067\uff11\u5bfe\u591a\u6570\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u30b7\u30c3\u30d7\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8a2d\u5b9a\u3059\u308b\u3068\n[bag.items addObject:item];\n\n\u306e\u3088\u3046\u306b\u8ffd\u52a0\u51fa\u6765\u308b\u304c\u3001\u8ffd\u52a0\u3059\u308b\u30e2\u30c7\u30eb\u306e\u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc\u304c\u91cd\u8907\u3059\u308b\u3068\u4f8b\u5916\u3092\u5410\u3044\u3066\u3057\u307e\u3046\u3002\n\u4e0a\u8a18\u306e\u3088\u3046\u306bBag\u30e2\u30c7\u30eb\u3068item\u30e2\u30c7\u30eb\u304c\u3042\u308b\u4f8b\u3067\u306f\u3001Bag.items\u306bitem\u3092\u8ffd\u52a0\u3059\u308b\u3068\u540c\u6642\u306bItem\u30e2\u30c7\u30eb\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u3082\u8ffd\u52a0\u3057\u3066\u3044\u308b\u304b\u3089\u3060\u3002\n\u3053\u306e\u5834\u5408\nif ([Item objectsWhere:@\"id_str = %@\",item.id_str].count==0) {\n            [bag.items addObject:item];\n}\n\n\u3068\u3044\u3063\u305f\u3088\u3046\u306b\u3001Item\u30e2\u30c7\u30eb\u306b\u65e2\u306b\u5b58\u5728\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u304b\u3081\u3066\u304b\u3089\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u3042\u3068\u6c17\u306b\u306a\u3063\u305f\u306e\u306f\u3001addOrUpdateObject\u304cRLMArray\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u4e8b\u306a\u306e\u3060\u3051\u3069\u4e0a\u8a18\u306e\u4f8b\u306f\u3044\u3044\u3068\u3057\u3066\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u305f\u30e2\u30ce\u3092items\u306b\u8ffd\u52a0\u3059\u308b\u5834\u5408\u306f\u3044\u3061\u3044\u3061for\u3067\u63a2\u3057\u3066\u305d\u306eindex\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068replace\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u3060\u308d\u3046\u304b\u2026\uff1f\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u304c\u77e5\u308a\u305f\u3044\u3002\n\u30b3\u30e1\u30f3\u30c8\u306b\u3066\u3001addObject\u306e\u524d\u306baddOrUpdateObject\u3092\u884c\u3048\u3070\u3088\u3044\u3068\u6559\u3048\u3066\u9802\u304d\u307e\u3057\u305f\u3002\nif ([Item objectsWhere:@\"id_str = %@\",item.id_str].count==0) {\n//\u5b58\u5728\u3057\u3066\u3044\u306a\u3044\u306a\u3089\u8ffd\u52a0\u30fb\u66f4\u65b0\u3057\u3066bag\u306b\u8ffd\u52a0\u3059\u308b\n            [realm addOrUpdateObject:item];\n            [bag.items addObject:item];\n}else{\n//\u5b58\u5728\u3057\u3066\u3044\u308b\u306a\u3089\u66f4\u65b0\u3059\u308b\u3060\u3051\n            [realm addOrUpdateObject:item];\n}\n\nrealm\u3067\uff11\u5bfe\u591a\u6570\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u30b7\u30c3\u30d7\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8a2d\u5b9a\u3059\u308b\u3068\n\n```objc\n[bag.items addObject:item];\n```\n\n\u306e\u3088\u3046\u306b\u8ffd\u52a0\u51fa\u6765\u308b\u304c\u3001\u8ffd\u52a0\u3059\u308b\u30e2\u30c7\u30eb\u306e\u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc\u304c\u91cd\u8907\u3059\u308b\u3068\u4f8b\u5916\u3092\u5410\u3044\u3066\u3057\u307e\u3046\u3002\n\u4e0a\u8a18\u306e\u3088\u3046\u306bBag\u30e2\u30c7\u30eb\u3068item\u30e2\u30c7\u30eb\u304c\u3042\u308b\u4f8b\u3067\u306f\u3001Bag.items\u306bitem\u3092\u8ffd\u52a0\u3059\u308b\u3068\u540c\u6642\u306bItem\u30e2\u30c7\u30eb\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u3082\u8ffd\u52a0\u3057\u3066\u3044\u308b\u304b\u3089\u3060\u3002\n\u3053\u306e\u5834\u5408\n\n```objc\nif ([Item objectsWhere:@\"id_str = %@\",item.id_str].count==0) {\n            [bag.items addObject:item];\n}\n```\n\u3068\u3044\u3063\u305f\u3088\u3046\u306b\u3001Item\u30e2\u30c7\u30eb\u306b\u65e2\u306b\u5b58\u5728\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u304b\u3081\u3066\u304b\u3089\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n~~\u3042\u3068\u6c17\u306b\u306a\u3063\u305f\u306e\u306f\u3001addOrUpdateObject\u304cRLMArray\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u4e8b\u306a\u306e\u3060\u3051\u3069\u4e0a\u8a18\u306e\u4f8b\u306f\u3044\u3044\u3068\u3057\u3066\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u305f\u30e2\u30ce\u3092items\u306b\u8ffd\u52a0\u3059\u308b\u5834\u5408\u306f\u3044\u3061\u3044\u3061for\u3067\u63a2\u3057\u3066\u305d\u306eindex\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068replace\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u3060\u308d\u3046\u304b\u2026\uff1f\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u304c\u77e5\u308a\u305f\u3044\u3002~~\n\n\u30b3\u30e1\u30f3\u30c8\u306b\u3066\u3001addObject\u306e\u524d\u306baddOrUpdateObject\u3092\u884c\u3048\u3070\u3088\u3044\u3068\u6559\u3048\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\n```objc\nif ([Item objectsWhere:@\"id_str = %@\",item.id_str].count==0) {\n//\u5b58\u5728\u3057\u3066\u3044\u306a\u3044\u306a\u3089\u8ffd\u52a0\u30fb\u66f4\u65b0\u3057\u3066bag\u306b\u8ffd\u52a0\u3059\u308b\n            [realm addOrUpdateObject:item];\n            [bag.items addObject:item];\n}else{\n//\u5b58\u5728\u3057\u3066\u3044\u308b\u306a\u3089\u66f4\u65b0\u3059\u308b\u3060\u3051\n            [realm addOrUpdateObject:item];\n}\n```\n\n"}