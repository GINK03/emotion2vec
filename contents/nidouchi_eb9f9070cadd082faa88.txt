{"context": " More than 1 year has passed since last update.\u554f\u984c\u306f\u3053\u3061\u3089\u3002\nhttp://nabetani.sakura.ne.jp/hena/ord18mafovafo/\ndef solve(q)\n  h1 = {'L'=>'V','J'=>'V','Z'=>'mV','U'=>'VV','S'=>'Vm'}\n  h2 = {'L'=>'m','J'=>'m','Z'=>'mV','U'=>'mm','S'=>'Vm'}\n  folds = ''\n  isLeft = true\n  q.chars.each{|c|\n    fw = (isLeft ? h1 :  h2)[c]\n    folds.chars.each_with_index{|fold, i|\n      fw += fold\n      if ((isLeft and i.odd?) or (!isLeft and i.even?))\n        fw += h1[c]\n      else\n        fw += h2[c]\n      end\n    }\n    folds = fw\n    case c\n    when 'L'\n      isLeft = false if isLeft\n    when 'J'\n      isLeft = true unless isLeft\n    when 'U'\n      isLeft = !isLeft\n    end\n  }\n  folds\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans\n  puts ans == a ? ' o' : ' x'\n#break\nend\n__END__\n0   JZ  mVVmV\n1   J   V\n2   L   V\n3   Z   mV\n4   U   VV\n5   S   Vm\n6   JL  VVm\n7   JS  VmVVm\n8   JU  VVVmm\n9   LU  mmVVV\n10  SL  VVmmV\n11  SS  VmVVmmVm\n\n\u554f\u984c\u306f\u3053\u3061\u3089\u3002\nhttp://nabetani.sakura.ne.jp/hena/ord18mafovafo/\n\n```rb\ndef solve(q)\n  h1 = {'L'=>'V','J'=>'V','Z'=>'mV','U'=>'VV','S'=>'Vm'}\n  h2 = {'L'=>'m','J'=>'m','Z'=>'mV','U'=>'mm','S'=>'Vm'}\n  folds = ''\n  isLeft = true\n  q.chars.each{|c|\n    fw = (isLeft ? h1 :  h2)[c]\n    folds.chars.each_with_index{|fold, i|\n      fw += fold\n      if ((isLeft and i.odd?) or (!isLeft and i.even?))\n        fw += h1[c]\n      else\n        fw += h2[c]\n      end\n    }\n    folds = fw\n    case c\n    when 'L'\n      isLeft = false if isLeft\n    when 'J'\n      isLeft = true unless isLeft\n    when 'U'\n      isLeft = !isLeft\n    end\n  }\n  folds\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans\n  puts ans == a ? ' o' : ' x'\n#break\nend\n__END__\n0\tJZ\tmVVmV\n1\tJ\tV\n2\tL\tV\n3\tZ\tmV\n4\tU\tVV\n5\tS\tVm\n6\tJL\tVVm\n7\tJS\tVmVVm\n8\tJU\tVVVmm\n9\tLU\tmmVVV\n10\tSL\tVVmmV\n11\tSS\tVmVVmmVm\n```", "tags": ["Ruby", "\u3069\u3046\u66f8\u304f", "yhpg"]}