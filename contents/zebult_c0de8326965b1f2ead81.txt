{"tags": ["Swift", "WebKit", "WKWebView", "\u30ea\u30c0\u30a4\u30ec\u30af\u30c8"], "context": "\n\n\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u5148URL\u53d6\u5f97\u3067\u304d\u306a\u304f\u306a\u3063\u305f\n\u4eca\u307e\u3067WKWebView\u306b\u5bfe\u3057\u3066Observer\u3092\u4f7f\u3063\u3066\"loading\"\u6642\u3092\u76e3\u8996\u3057\u3066\u3044\u305f\u304c\u6025\u306b\u53d6\u5f97\u3057\u306a\u304f\u306a\u3063\u305f(ver2.2\u304b\u3089\uff1f)\n\nDelegate\u3067\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u53d6\u5f97\u3059\u308b\nWKNavigationDelegate\u3092\u4f7f\u3063\u3066\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u901a\u77e5\u3092\u53d7\u3051\u53d6\u308b\u6e96\u5099\u3092\u3057\u3066\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u524d\u306eURL\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\nimport UIKit\nimport WebKit\n\nclass ViewController: UIViewController, WKNavigationDelegate {\n    var wkWebView: WKWebView!\n    let url = NSURL(string: \"http://goo.gl/fhjaj2\")\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        wkWebView = WKWebView(frame: CGRectZero)\n        let request = NSURLRequest(URL: url!)\n        wkWebView.navigationDelegate = self\n        wkWebView.loadRequest(request)\n        self.view.addSubview(wkWebView)\n    }\n\n    func webView(webView: WKWebView, didReceiveServerRedirectForProvisionalNavigation navigation: WKNavigation!) {\n        print(wkWebView.URL?.absoluteString)\n    }\n}\n\n\n\u307e\u3068\u3081\nhttp://goo.gl/fhjaj2\n\u306ftwitter\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u307e\u3059\u3002\n\u30e2\u30d0\u30a4\u30eb\u306a\u306e\u30672\u56de\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\nOptional(\"https://twitter.com/\")\nOptional(\"https://mobile.twitter.com/\")\n\n\n## \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u5148URL\u53d6\u5f97\u3067\u304d\u306a\u304f\u306a\u3063\u305f\n\n\u4eca\u307e\u3067WKWebView\u306b\u5bfe\u3057\u3066Observer\u3092\u4f7f\u3063\u3066\"loading\"\u6642\u3092\u76e3\u8996\u3057\u3066\u3044\u305f\u304c\u6025\u306b\u53d6\u5f97\u3057\u306a\u304f\u306a\u3063\u305f(ver2.2\u304b\u3089\uff1f)\n\n## Delegate\u3067\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u53d6\u5f97\u3059\u308b\n\nWKNavigationDelegate\u3092\u4f7f\u3063\u3066\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u901a\u77e5\u3092\u53d7\u3051\u53d6\u308b\u6e96\u5099\u3092\u3057\u3066\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u524d\u306eURL\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n## \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n```swift\nimport UIKit\nimport WebKit\n\nclass ViewController: UIViewController, WKNavigationDelegate {\n    var wkWebView: WKWebView!\n    let url = NSURL(string: \"http://goo.gl/fhjaj2\")\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        wkWebView = WKWebView(frame: CGRectZero)\n        let request = NSURLRequest(URL: url!)\n        wkWebView.navigationDelegate = self\n        wkWebView.loadRequest(request)\n        self.view.addSubview(wkWebView)\n    }\n    \n    func webView(webView: WKWebView, didReceiveServerRedirectForProvisionalNavigation navigation: WKNavigation!) {\n        print(wkWebView.URL?.absoluteString)\n    }\n}\n```\n\n## \u307e\u3068\u3081\n\nhttp://goo.gl/fhjaj2\n\u306ftwitter\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u307e\u3059\u3002\n\u30e2\u30d0\u30a4\u30eb\u306a\u306e\u30672\u56de\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\n```Output\nOptional(\"https://twitter.com/\")\nOptional(\"https://mobile.twitter.com/\")\n```\n"}