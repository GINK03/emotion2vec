{"context": " More than 1 year has passed since last update.SIM\u30d5\u30ea\u30fc\u30e2\u30c7\u30e0\u306eL-05A\u306bSORACOM Air\u3092\u633f\u3057\u3001Raspberry PI\u3067\u306e\u901a\u4fe1\u3092\u78ba\u7acb\u3057\u3001\u3055\u3089\u306bsystemd\u306b\u3088\u308b\u30b5\u30fc\u30d3\u30b9\u5316\u3092\u5b9f\u65bd\u3059\u308b\u624b\u9806\u3067\u3059\u3002\n\uff08\u6ce8\u610f\uff09\u3068\u308a\u3042\u3048\u305a\u4e0b\u8a18\u306e\u624b\u9806\u3067\u52d5\u4f5c\u3057\u307e\u3057\u305f\uff01\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u306e\u3067\u3001\u78ba\u5b9f\u306b\u3069\u306e\u74b0\u5883\u3067\u3082\u52d5\u4f5c\u3059\u308b\u304b\u306f\u307e\u3060\u602a\u3057\u3044\u3068\u3053\u308d\u3067\u3059\u3002\n\u968f\u6642\u66f4\u65b0\u3057\u3066\u3044\u304d\u307e\u3059\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u305f\u7d50\u679c\u306a\u3069\u30b3\u30e1\u30f3\u30c8\u3092\u9802\u3051\u308b\u3068\u5e78\u3044\u3067\u3059\u3002\n\n\u4f7f\u7528\u3057\u305f\u3082\u306e\n\nRaspberry PI 2 A+\nOS: Raspbian\nUSB\u30e2\u30c7\u30e0: docomo L-05A\uff08\u767d\u30ed\u30e0\uff09\n\nSIM: SORACOM Air nano\n\n\n\u4e0b\u6e96\u5099\n\n\u3068\u308a\u3042\u3048\u305aRaspberry PI\u3092\u6709\u7dda\uff0f\u7121\u7ddaLAN\u306b\u3064\u306a\u3044\u3067\u4e0b\u8a18\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n$ sudo apt-get install -y eject wvdial dnsutils\n\n\n\u3082\u3057usb-modeswitch\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u3067\u3042\u308b\u5834\u5408\u306f\u3001 L-05A\u306e\u8a2d\u5b9a\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 \u3057\u3066\u30ea\u30d6\u30fc\u30c8\u3059\u308b\u3002\uff08\u3067\u306a\u3044\u3068\u3046\u307e\u304f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002\uff09\n\n$ sudo vi /lib/udev/rules.d/40-usb_modeswitch.rules\n\n# LG L-05A\n#ATTR{idVndor}==\"1004\", ATTR{idProduct}==\"613a\", RUN+=\"usb_modeswitch '%b/%k'\"\n\n\nL-05A\u306e\u8a8d\u8b58\nL-05A\u3092\u633f\u3057\u3066\u8d77\u52d5\u3059\u308b\u3068\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306bUSB\u30c7\u30d0\u30a4\u30b9\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u307e\u3059\u3002\n$ lsusb\n:\nBus 001 Device 006: ID 1004:613a LG Electronics, Inc.\n\n\u305f\u3060\u3057\u3053\u306e\u6642\u70b9\u3067\u306fCD/DVD\u30c7\u30d0\u30a4\u30b9\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u3066\u3044\u307e\u3059\u3002\uff08\u3053\u308c\u3092\u9632\u3050\u305f\u3081\u306eusb_modeswitch\u306f\u7121\u52b9\u5316\u3057\u3066\u3044\u308b\u306e\u3067\uff09\neject\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30b8\u30a7\u30af\u30c8\u3057\u307e\u3059\u3002\u3059\u308b\u3068ttyACM0\u301cttyACM2\u30c7\u30d0\u30a4\u30b9\u304c\u8a8d\u8b58\u3055\u308c\u307e\u3059\u3002\n$ ls /dev\n:\nsr0 <- CD\u30c7\u30d0\u30a4\u30b9\n\n$ sudo eject /dev/sr0\n$ ls /dev\n:\nttyACM0\nttyACM1\nttyACM2\n\n$ lsusb\nBus 001 Device 006: ID 1004:6124 LG Electronics, Inc.\n\uff08\u30c7\u30d0\u30a4\u30b9ID\u304c\u5909\u308f\u3063\u3066\u3044\u308b\uff09\n\n\nUSB\u30e2\u30c7\u30e0\u306b\u3088\u308b\u901a\u4fe1\nwvdial\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\uff08/etc/wvdial.conf\uff09\n$ sudo vi /etc/wvdial.conf\n[Dialer Defaults]\nInit1 = ATZ\nInit2 = ATQ0 V1 E1 S0=0 &C1 &D2\nInit3 = AT+CGDCONT=1,\"IP\",\"soracom.io\"\nDial Attempts = 3\nModem Type = Analog Modem\nDial Command = ATD\nStupid Mode = yes\nBaud = 460800\nNew PPPD = yes\nModem = /dev/ttyACM0\nISDN = 0\nPhone = *99***1#\nAPN = soracom.io\nUsername = sora\nPassword = sora\nCarrier Check = no\nAuto DNS = 1\nCheck Def Route = 1\n\n\n\u63a5\u7d9a\n\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ sudo wvdial &\n--> Initializing modem.\n--> Sending: ATZ\nATZ\nOK\n--> Sending: ATQ0 V1 E1 S0=0 &C1 &D2\nATQ0 V1 E1 S0=0 &C1 &D2\nOK\n--> Sending: AT+CGDCONT=1,\"IP\",\"soracom.io\"\nAT+CGDCONT=1,\"IP\",\"soracom.io\"\nOK\n--> Modem initialized.\n--> Sending: ATD*99***1#\n--> Waiting for carrier.\nATD*99***1#\nCONNECT\n--> Carrier detected.  Starting PPP immediately.\n--> Starting pppd at Sat Nov  7 10:31:07 2015\n--> Pid of pppd: 3878\n--> Using interface ppp0\n--> pppd: [18]& [01]\n--> pppd: [18]& [01]\n:\n--> local  IP address 10.*.*.*\n--> remote IP address 10.64.64.64\n--> primary   DNS address 169.254.0.53\n\n\n\u901a\u4fe1\u78ba\u8a8d\n\u6709\u7ddaLAN\u7b49\u3092\u629c\u304d\u3001USB\u30e2\u30c7\u30e0\u3088\u308a\u5916\u90e8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ route\n:\n10.64.64.64  *  255.255.255.255 UH    0      0        0 ppp0\n\n$ traceroute google.co.jp\ntraceroute to google.co.jp (173.194.117.151), 30 hops max, 60 byte packets\n 1  ec2-175-41-192-132.ap-northeast-1.compute.amazonaws.com (175.41.192.132)  2186.949 ms ec2-175-41-192-128.ap-northeast-1.compute.amazonaws.com (175.41.192.128)  2196.026 ms  2205.013 ms\n:\n 8  nrt04s09-in-f23.1e100.net (173.194.117.151)  2233.625 ms  2233.643 ms  2234.958 ms\n\n\n\n\u5207\u65ad\n\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30b8\u30e7\u30d6\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n$ fg\nsudo wvdial\n\n\u3010CTRL+c\u3011\nCaught signal 2:  Attempting to exit gracefully...\n--> Terminating on signal 15\n--> pppd: [18]& [01]\n--> Connect time 26.7 minutes.\n--> pppd: [18]& [01]\n--> pppd: [18]& [01]\n--> pppd: [18]& [01]\n--> Disconnecting at Sat Nov  7 10:57:53 2015\n\n[1]+  Done        sudo wvdial\n\n\n\u30b5\u30fc\u30d3\u30b9\u5316(Systemd)\n\u73fe\u6bb5\u968e\u3067\u306f\u30de\u30b7\u30f3\u3092\u8d77\u52d5\u3059\u308b\u305f\u3073\u306bCD\u30c9\u30e9\u30a4\u30d6\u3092Eject\u2192wvdial\u5b9f\u884c\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\u30de\u30b7\u30f3\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u767b\u9332\u3057\u307e\u3059\u3002\nRaspbian\u3067\u306e\u30b5\u30fc\u30d3\u30b9\u306fSystemd\u306b\u3088\u308b\u7ba1\u7406\u304c\u57fa\u672c\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nUnit\u306e\u4f5c\u6210\nwvdial.service\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ sudo vi /etc/systemd/system/wvdial.service\n[Unit]\nDescription=wvdial service\nWants=network.target\n\n[Service]\nType=simple\nExecStartPre=test -e /dev/sr0 && /bin/eject  \u2190\u8d77\u52d5\u524d\u306b\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\nExecStart=/usr/bin/wvdial  \u2190\u8d77\u52d5\u30b3\u30de\u30f3\u30c9\nExecStop=/bin/kill -HUP $MAINPID  \u2190\u7d42\u4e86\u30b3\u30de\u30f3\u30c9\uff08$MAINPID\u306bPID\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\uff09\n\n[Install]\nWantedBy=multi-user.target  \u2190\u30ec\u30d9\u30eb3,5\u3067\u8d77\u52d5\n\n\n\u30b5\u30fc\u30d3\u30b9\u767b\u9332\n$ sudo systemctl enable wvdial.service\n\n\n\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\uff0f\u505c\u6b62\u78ba\u8a8d\n\n\u8d77\u52d5\n$ sudo systemctl start wvdial.service\n$ sudo systemctl status wvdial.service\n\u25cf wvdial.service - wvdial service\n   Loaded: loaded (/etc/systemd/system/wvdial.service; enabled)\n   Active: active (running) since \u571f 2015-11-07 10:30:30 JST; 4s ago\n  Process: 3519 ExecStop=/bin/kill -HUP $MAINPID (code=exited, status=0/SUCCESS)\n Main PID: 3641 (wvdial)\n:\n\n\n\u505c\u6b62\n$ sudo systemctl stop wvdial.service\n$ sudo systemctl status wvdial.service\n\u25cf wvdial.service - wvdial service\n   Loaded: loaded (/etc/systemd/system/wvdial.service; enabled)\n   Active: failed (Result: exit-code) since \u571f 2015-11-07 10:29:45 JST; 2s ago\n  Process: 3519 ExecStop=/bin/kill -HUP $MAINPID (code=exited, status=0/SUCCESS)\n Main PID: 478 (code=exited, status=1/FAILURE)\n:\n\n\u203b\u306a\u305c\u304bstatus=1/FAILURE\u3068\u51fa\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u78ba\u8a8d\u4e2d\n\n\u30b5\u30fc\u30d3\u30b9\u81ea\u52d5\u8d77\u52d5\u78ba\u8a8d\n\u30de\u30b7\u30f3\u3092\u30ea\u30d6\u30fc\u30c8\u3057\u3066\u30b5\u30fc\u30d3\u30b9\u304c\u7acb\u3061\u4e0a\u304c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u53c2\u8003\u306b\u3057\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\n\nRaspberry Pi\u3067SORACOM SIM\u3092\u4f7f\u3046(FS01BU) @osada9000\n\n\n\u3082\u3046\u3061\u3087\u3063\u3068\u697d\u306bRaspberry Pi\u3067SORACOM Air\u3092\u4f7f\u3046(FS01BU USB\u30e2\u30c7\u30e0\u3092\u7528\u3044\u3066) @dietposter\n\n\nSystemd\u3092\u4f7f\u3063\u3066\u3055\u304f\u3063\u3068\u81ea\u4f5c\u30b3\u30de\u30f3\u30c9\u3092\u30b5\u30fc\u30d3\u30b9\u5316\u3057\u3066\u307f\u308b @DQNEO\n\n[OBDN\u30de\u30ac\u30b8\u30f3] .tested docomo L-05A [debian Wheezy][AX3][A6]\nSystemd\u5165\u9580(4) - service\u30bf\u30a4\u30d7Unit\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n\nSIM\u30d5\u30ea\u30fc\u30e2\u30c7\u30e0\u306eL-05A\u306bSORACOM Air\u3092\u633f\u3057\u3001Raspberry PI\u3067\u306e\u901a\u4fe1\u3092\u78ba\u7acb\u3057\u3001\u3055\u3089\u306bsystemd\u306b\u3088\u308b\u30b5\u30fc\u30d3\u30b9\u5316\u3092\u5b9f\u65bd\u3059\u308b\u624b\u9806\u3067\u3059\u3002\n\uff08\u6ce8\u610f\uff09\u3068\u308a\u3042\u3048\u305a\u4e0b\u8a18\u306e\u624b\u9806\u3067\u52d5\u4f5c\u3057\u307e\u3057\u305f\uff01\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u306e\u3067\u3001\u78ba\u5b9f\u306b\u3069\u306e\u74b0\u5883\u3067\u3082\u52d5\u4f5c\u3059\u308b\u304b\u306f\u307e\u3060\u602a\u3057\u3044\u3068\u3053\u308d\u3067\u3059\u3002\n\u968f\u6642\u66f4\u65b0\u3057\u3066\u3044\u304d\u307e\u3059\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u305f\u7d50\u679c\u306a\u3069\u30b3\u30e1\u30f3\u30c8\u3092\u9802\u3051\u308b\u3068\u5e78\u3044\u3067\u3059\u3002\n\n# \u4f7f\u7528\u3057\u305f\u3082\u306e\n* Raspberry PI 2 A+\n* OS: Raspbian\n* USB\u30e2\u30c7\u30e0: [docomo L-05A\uff08\u767d\u30ed\u30e0\uff09](http://www.amazon.co.jp/docomo-%E3%83%87%E3%83%BC%E3%82%BF%E3%82%AB%E3%83%BC%E3%83%89-L-05A-%E3%82%B7%E3%83%AB%E3%83%90%E3%83%BC-%E6%90%BA%E5%B8%AF%E9%9B%BB%E8%A9%B1/dp/B007HYRH3A/ref=pd_sim_23_3?ie=UTF8&dpID=31olRoj2Y1L&dpSrc=sims&preST=_AC_UL160_SR160%2C160_&refRID=125M1XW6WYSV7CDGH3YT \"Amazon.co.jp\")\n* SIM: SORACOM Air nano\n\n# \u4e0b\u6e96\u5099\n\n* \u3068\u308a\u3042\u3048\u305aRaspberry PI\u3092\u6709\u7dda\uff0f\u7121\u7ddaLAN\u306b\u3064\u306a\u3044\u3067\u4e0b\u8a18\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n```bash\n$ sudo apt-get install -y eject wvdial dnsutils\n```\n\n* \u3082\u3057usb-modeswitch\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u3067\u3042\u308b\u5834\u5408\u306f\u3001 **L-05A\u306e\u8a2d\u5b9a\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8** \u3057\u3066\u30ea\u30d6\u30fc\u30c8\u3059\u308b\u3002\uff08\u3067\u306a\u3044\u3068\u3046\u307e\u304f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002\uff09\n\n```bash\n$ sudo vi /lib/udev/rules.d/40-usb_modeswitch.rules\n\n# LG L-05A\n#ATTR{idVndor}==\"1004\", ATTR{idProduct}==\"613a\", RUN+=\"usb_modeswitch '%b/%k'\"\n```\n\n# L-05A\u306e\u8a8d\u8b58\n\nL-05A\u3092\u633f\u3057\u3066\u8d77\u52d5\u3059\u308b\u3068\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306bUSB\u30c7\u30d0\u30a4\u30b9\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u307e\u3059\u3002\n\n```bash\n$ lsusb\n:\nBus 001 Device 006: ID 1004:613a LG Electronics, Inc.\n```\n\n\u305f\u3060\u3057\u3053\u306e\u6642\u70b9\u3067\u306fCD/DVD\u30c7\u30d0\u30a4\u30b9\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u3066\u3044\u307e\u3059\u3002\uff08\u3053\u308c\u3092\u9632\u3050\u305f\u3081\u306eusb_modeswitch\u306f\u7121\u52b9\u5316\u3057\u3066\u3044\u308b\u306e\u3067\uff09\neject\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30b8\u30a7\u30af\u30c8\u3057\u307e\u3059\u3002\u3059\u308b\u3068ttyACM0\u301cttyACM2\u30c7\u30d0\u30a4\u30b9\u304c\u8a8d\u8b58\u3055\u308c\u307e\u3059\u3002\n\n```bash\n$ ls /dev\n:\nsr0 <- CD\u30c7\u30d0\u30a4\u30b9\n\n$ sudo eject /dev/sr0\n$ ls /dev\n:\nttyACM0\nttyACM1\nttyACM2\n\n$ lsusb\nBus 001 Device 006: ID 1004:6124 LG Electronics, Inc.\n\uff08\u30c7\u30d0\u30a4\u30b9ID\u304c\u5909\u308f\u3063\u3066\u3044\u308b\uff09\n```\n\n# USB\u30e2\u30c7\u30e0\u306b\u3088\u308b\u901a\u4fe1\n\nwvdial\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n## \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\uff08/etc/wvdial.conf\uff09\n\n```bash\n$ sudo vi /etc/wvdial.conf\n[Dialer Defaults]\nInit1 = ATZ\nInit2 = ATQ0 V1 E1 S0=0 &C1 &D2\nInit3 = AT+CGDCONT=1,\"IP\",\"soracom.io\"\nDial Attempts = 3\nModem Type = Analog Modem\nDial Command = ATD\nStupid Mode = yes\nBaud = 460800\nNew PPPD = yes\nModem = /dev/ttyACM0\nISDN = 0\nPhone = *99***1#\nAPN = soracom.io\nUsername = sora\nPassword = sora\nCarrier Check = no\nAuto DNS = 1\nCheck Def Route = 1\n```\n\n## \u63a5\u7d9a\n\n\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n  \n```bash\n$ sudo wvdial &\n--> Initializing modem.\n--> Sending: ATZ\nATZ\nOK\n--> Sending: ATQ0 V1 E1 S0=0 &C1 &D2\nATQ0 V1 E1 S0=0 &C1 &D2\nOK\n--> Sending: AT+CGDCONT=1,\"IP\",\"soracom.io\"\nAT+CGDCONT=1,\"IP\",\"soracom.io\"\nOK\n--> Modem initialized.\n--> Sending: ATD*99***1#\n--> Waiting for carrier.\nATD*99***1#\nCONNECT\n--> Carrier detected.  Starting PPP immediately.\n--> Starting pppd at Sat Nov  7 10:31:07 2015\n--> Pid of pppd: 3878\n--> Using interface ppp0\n--> pppd: [18]& [01]\n--> pppd: [18]& [01]\n:\n--> local  IP address 10.*.*.*\n--> remote IP address 10.64.64.64\n--> primary   DNS address 169.254.0.53\n```\n\n## \u901a\u4fe1\u78ba\u8a8d\n\n\u6709\u7ddaLAN\u7b49\u3092\u629c\u304d\u3001USB\u30e2\u30c7\u30e0\u3088\u308a\u5916\u90e8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash\n$ route\n:\n10.64.64.64  *  255.255.255.255 UH    0      0        0 ppp0\n\n$ traceroute google.co.jp\ntraceroute to google.co.jp (173.194.117.151), 30 hops max, 60 byte packets\n 1  ec2-175-41-192-132.ap-northeast-1.compute.amazonaws.com (175.41.192.132)  2186.949 ms ec2-175-41-192-128.ap-northeast-1.compute.amazonaws.com (175.41.192.128)  2196.026 ms  2205.013 ms\n:\n 8  nrt04s09-in-f23.1e100.net (173.194.117.151)  2233.625 ms  2233.643 ms  2234.958 ms\n\n```\n\n## \u5207\u65ad\n\n\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30b8\u30e7\u30d6\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n```bash\n$ fg\nsudo wvdial\n\n\u3010CTRL+c\u3011\nCaught signal 2:  Attempting to exit gracefully...\n--> Terminating on signal 15\n--> pppd: [18]& [01]\n--> Connect time 26.7 minutes.\n--> pppd: [18]& [01]\n--> pppd: [18]& [01]\n--> pppd: [18]& [01]\n--> Disconnecting at Sat Nov  7 10:57:53 2015\n\n[1]+  Done        sudo wvdial\n```\n\n# \u30b5\u30fc\u30d3\u30b9\u5316(Systemd)\n\n\u73fe\u6bb5\u968e\u3067\u306f\u30de\u30b7\u30f3\u3092\u8d77\u52d5\u3059\u308b\u305f\u3073\u306bCD\u30c9\u30e9\u30a4\u30d6\u3092Eject\u2192wvdial\u5b9f\u884c\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\u30de\u30b7\u30f3\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u767b\u9332\u3057\u307e\u3059\u3002\n\nRaspbian\u3067\u306e\u30b5\u30fc\u30d3\u30b9\u306fSystemd\u306b\u3088\u308b\u7ba1\u7406\u304c\u57fa\u672c\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n## Unit\u306e\u4f5c\u6210\n\nwvdial.service\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```bash\n$ sudo vi /etc/systemd/system/wvdial.service\n[Unit]\nDescription=wvdial service\nWants=network.target\n\n[Service]\nType=simple\nExecStartPre=test -e /dev/sr0 && /bin/eject  \u2190\u8d77\u52d5\u524d\u306b\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\nExecStart=/usr/bin/wvdial  \u2190\u8d77\u52d5\u30b3\u30de\u30f3\u30c9\nExecStop=/bin/kill -HUP $MAINPID  \u2190\u7d42\u4e86\u30b3\u30de\u30f3\u30c9\uff08$MAINPID\u306bPID\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\uff09\n\n[Install]\nWantedBy=multi-user.target  \u2190\u30ec\u30d9\u30eb3,5\u3067\u8d77\u52d5\n```\n\n## \u30b5\u30fc\u30d3\u30b9\u767b\u9332\n\n```bash\n$ sudo systemctl enable wvdial.service\n```\n\n## \u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\uff0f\u505c\u6b62\u78ba\u8a8d\n\n### \u8d77\u52d5\n\n```bash\n$ sudo systemctl start wvdial.service\n$ sudo systemctl status wvdial.service\n\u25cf wvdial.service - wvdial service\n   Loaded: loaded (/etc/systemd/system/wvdial.service; enabled)\n   Active: active (running) since \u571f 2015-11-07 10:30:30 JST; 4s ago\n  Process: 3519 ExecStop=/bin/kill -HUP $MAINPID (code=exited, status=0/SUCCESS)\n Main PID: 3641 (wvdial)\n:\n```\n\n### \u505c\u6b62\n\n```\n$ sudo systemctl stop wvdial.service\n$ sudo systemctl status wvdial.service\n\u25cf wvdial.service - wvdial service\n   Loaded: loaded (/etc/systemd/system/wvdial.service; enabled)\n   Active: failed (Result: exit-code) since \u571f 2015-11-07 10:29:45 JST; 2s ago\n  Process: 3519 ExecStop=/bin/kill -HUP $MAINPID (code=exited, status=0/SUCCESS)\n Main PID: 478 (code=exited, status=1/FAILURE)\n:\n```\n\n\u203b\u306a\u305c\u304bstatus=1/FAILURE\u3068\u51fa\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u78ba\u8a8d\u4e2d\n\n## \u30b5\u30fc\u30d3\u30b9\u81ea\u52d5\u8d77\u52d5\u78ba\u8a8d\n\n\u30de\u30b7\u30f3\u3092\u30ea\u30d6\u30fc\u30c8\u3057\u3066\u30b5\u30fc\u30d3\u30b9\u304c\u7acb\u3061\u4e0a\u304c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n# \u53c2\u8003\u306b\u3057\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\n* [Raspberry Pi\u3067SORACOM SIM\u3092\u4f7f\u3046(FS01BU)](http://qiita.com/osada9000/items/9254646652717cba0267 \"Raspberry Pi\u3067SORACOM SIM\u3092\u4f7f\u3046(FS01BU)\") @osada9000\n* [\u3082\u3046\u3061\u3087\u3063\u3068\u697d\u306bRaspberry Pi\u3067SORACOM Air\u3092\u4f7f\u3046(FS01BU USB\u30e2\u30c7\u30e0\u3092\u7528\u3044\u3066)](http://qiita.com/dietposter/items/bf3b0311a044eaf36df8 \"\u3082\u3046\u3061\u3087\u3063\u3068\u697d\u306bRaspberry Pi\u3067SORACOM Air\u3092\u4f7f\u3046\") @dietposter\n* [Systemd\u3092\u4f7f\u3063\u3066\u3055\u304f\u3063\u3068\u81ea\u4f5c\u30b3\u30de\u30f3\u30c9\u3092\u30b5\u30fc\u30d3\u30b9\u5316\u3057\u3066\u307f\u308b](\nhttp://qiita.com/DQNEO/items/0b5d0bc5d3cf407cb7ff \"Qiita\") @DQNEO\n* [[OBDN\u30de\u30ac\u30b8\u30f3] .tested docomo L-05A [debian Wheezy][AX3][A6]](http://obdnmagazine.blogspot.jp/2013/05/tested-docomo-l-05a-debian-wheezyax3a6.html)\n* [Systemd\u5165\u9580(4) - service\u30bf\u30a4\u30d7Unit\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb](http://enakai00.hatenablog.com/entry/20130917/1379374797)\n", "tags": ["systemd", "SORACOM", "IoT", "RaspberryPi"]}