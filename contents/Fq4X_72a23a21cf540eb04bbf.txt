{"context": " More than 1 year has passed since last update.\n\n\u3059\u3054\u3044Erlang\u3086\u304b\u3044\u306b\u5b66\u307c\u3046\uff01\n\u8cb7\u3044\u307e\u3057\u3087\u3046\u3002\n\n\n\n\u7b2c10\u7ae0 \u4e26\u884c\u6027\u3068\u306f\n\u4e26\u884c \u3068 \u4e26\u5217 \u3092\u533a\u5225\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u4e26\u884c\n\n\nconcurrency\n\u8907\u6570\u306e\u30a2\u30af\u30bf\u30fc\u304c \u72ec\u7acb \u3057\u3066\u52d5\u3044\u3066\u3044\u308b\u3053\u3068\n\n\n\u4e26\u5217\n\n\nparallelism\n\u305f\u304f\u3055\u3093\u306e\u30a2\u30af\u30bf\u30fc\u3092 \u540c\u6642 \u306b\u52d5\u304b\u3059\u3053\u3068\n\n\n\n\n\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u306b\u3064\u3044\u3066\n\u307e\u305a\u3001Erlang \u306fGPU\u304c\u884c\u3046\u3088\u3046\u306a\u6570\u5024\u51e6\u7406\u306b\u95a2\u3057\u3066\u306f\u5411\u304b\u306a\u3044\u3002\nErlang \u304c\u5f97\u610f\u3068\u3059\u308b\u9818\u57df\u306f\u3001\u6570\u5024\u51e6\u7406\u306e\u3088\u3046\u306a\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306a\u554f\u984c\u3067\u306f\u306a\u304f\u3001\u30b9\u30a4\u30c3\u30c1\u30f3\u30b0\u3060\u3068\u304b\u30a6\u30a7\u30d6\u306e\u30af\u30ed\u30fc\u30ea\u30f3\u30b0\u306a\u3069\u3001\u8ad6\u7406\u7684\u306b\u9ad8\u5ea6\u306a\u968e\u5c64\u3067\u306e\u5206\u91ce\u3002\n\n\u3059\u3079\u3066\u304c\u7dda\u5f62\u30b9\u30b1\u30fc\u30eb\u3059\u308b\u308f\u3051\u3067\u306f\u306a\u3044\n\n\n\u4e26\u5217\u5316\u3057\u3066\u3082\u3001\u76f4\u5217\u64cd\u4f5c\u3067\u4e00\u756a\u9045\u3044\u3082\u306e\u3088\u308a\u306f\u306f\u65e9\u304f\u306a\u3089\u306a\u3044\n\n\u76f4\u5217\u64cd\u4f5c\u304c\u3072\u3068\u3064\u3067\u3082\u3042\u308b\u3068\u30b9\u30d4\u30fc\u30c9\u3067\u306a\u3044\u3068\u3044\u3046\u3053\u3068\n\u4f8b\u3048\u3070\u3001\u51e6\u7406\u4e2d\u306b\u4f55\u3089\u304b\u306e\u5f85\u3061\u884c\u5217\u51e6\u7406\u304c\u3042\u308b\u3068\u3001\u305d\u306e\u5f85\u3061\u6642\u9593\u3088\u308a\u77ed\u304f\u306a\u308b\u3053\u3068\u306f\u306a\u3044\n\n\n\n\n\u30a2\u30e0\u30c0\u30fc\u30eb\u306e\u6cd5\u5247\n\n\n\u30b7\u30b9\u30c6\u30e0\u3092\u4e26\u5217\u5316\u3057\u305f\u3068\u304d\u306b\u3001\u3069\u308c\u304f\u3089\u3044\u65e9\u304f\u306a\u308b\u304b\n\n\n\u3069\u308c\u304f\u3089\u3044\u4e26\u5217\u5316\u3057\u305f\u306e\u304b\n\u3092\u8868\u3059\u6cd5\u5247\n\n\n50% \u306e\u4e26\u5217\u5316\u30672\u500d\u3061\u3087\u3044\u65e9\u304f\u306a\u308b\n85% \u306e\u4e26\u5217\u5316\u3067\u6700\u592720\u500d\u304f\u3089\u3044\u65e9\u304f\u306a\u308b\n\n\u306a\u304a\u3001\u76f4\u5217\u64cd\u4f5c\u304c\u591a\u3044\u51e6\u7406\u3092\u30de\u30eb\u30c1\u30b3\u30a2\u3067\u5206\u6563\u3059\u308b\u3068\u304b\u3048\u3063\u3066\u9045\u304f\u306a\u308b\u306e\u3067\u6ce8\u610f\n\n\u8ca0\u8377\u5206\u6563\u306e\u305f\u3081\u306e\u51e6\u7406\u304c\u9006\u306b\u9045\u304f\u306a\u308b\nErlang \u3067\u306f smp \u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308b\u306e\u3067\u8abf\u3079\u308b\u3068\u826f\u3044\u3002\n\n\n\n\nErlang \u306e\u30d7\u30ed\u30bb\u30b9\n\nErlang \u30d7\u30ed\u30bb\u30b9 = \u95a2\u6570\n\n\u30d7\u30ed\u30bb\u30b9\u306f\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\n\u5b9f\u884c\u7d42\u4e86\u5f8c\u6d88\u3048\u308b\n\u53d7\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092 \u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9 \u306b\u4fdd\u5b58\u3059\u308b\n\n\n\u72b6\u614b\u3092\u6301\u3064\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u5230\u7740\u3057\u305f\u9806\u306b\u4fdd\u5b58\u3059\u308b\n\n\n\n\n\n%% \u3053\u306e\u4f8b\u306f\u95a2\u6570\u306e\u5b9f\u884c\u7d50\u679c (2) \u304c\u51fa\u529b\u3055\u308c\u306a\u3044.\n%% \u306a\u305c\u306a\u3089 **\u30d7\u30ed\u30bb\u30b9** \u304c\u4f55\u3082\u8fd4\u3055\u306a\u3044\u304b\u3089\nF = fun() -> 1 + 1 end.\nspanw(F).  % <0.44.0> \n\n\n\nspawn \u3067\u30d7\u30ed\u30bb\u30b9\u3092\u751f\u6210\n\u8fd4\u308a\u5024\u306f \u30d7\u30ed\u30bb\u30b9ID\n\n\n%% \u4ee5\u4e0b\u306e\u4f8b\u306f10\u500b\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u4e26\u5217\u5b9f\u884c\n%% io:format \u306e 1\uff5e10 \u306e\u9806\u756a\u306f\u4fdd\u8a3c\u3055\u308c\u306a\u3044\nG = fun(X) -> timer:sleep(10), io:format(\"~p~n\", [X]) end.\n[spawn(fun() -> G(X) end) || X <- lists:seq(10)].\n\n\n\u30b7\u30a7\u30eb\u3082\u30d7\u30ed\u30bb\u30b9\n%% \u30b7\u30a7\u30eb\u3067\u4ee5\u4e0b\u5b9f\u884c\u3059\u308c\u3070\u308f\u304b\u308b\nself().  % \u30b7\u30a7\u30eb\u81ea\u8eab\u306e Pid \u53d6\u5f97\nexit(self()).  %% \u7d42\u4e86\nself().  % Pid \u304c\u5909\u308f\u3063\u3066\u308b\u306f\u305a\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u9001\u4fe1\nself() ! hello. % \u8fd4\u308a\u5024\u306f 'hello'\nself() ! self() ! hello  % \u8907\u6570\u306e\u30d7\u30ed\u30bb\u30b9\u306b 'hello' \u3092\u9001\u4fe1\nself() ! (self() ! hello).  % \u4e0a\u3068\u7b49\u4fa1\nflush()  % \u53d7\u3051\u53d6\u3063\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u304b\u3089\u53d6\u5f97\n\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u53d7\u4fe1\n\u9001\u3089\u308c\u3066\u304d\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u3051\u53d6\u308a\u305f\u3044\uff01\n\n\nreceive \u3092\u4f7f\u3046\n\n\ncase ... of \u306f\u5f0f\u3092\u66f8\u304f\nreceive \u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5909\u6570\u306b\u675f\u7e1b\u3059\u308b\n\n\n\u30ac\u30fc\u30c9\u5f0f\u3082\u4f7f\u3048\u308b\n\n\n\n\n\n%% \u30a4\u30eb\u30ab(\u30d7\u30ed\u30bb\u30b9)\u3068\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u53d6\u308b\n-module(dolphins).\n-compile(export_all).\n\ndolphine() ->\n    receive\n        do_a_flip -> io:format(\"How about no?~m\");\n        fish -> io:format(\"So long and thanks for all the fish!~n\");\n        _ -> io:format(\"Heh, we're smarter than you humans.~n\")\n    end.\n\n\u4e0a\u8a18\u306e\u30a4\u30eb\u30ab\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30b7\u30a7\u30eb\u3067\u8a66\u3059\nc(dolphin).\nDolphin = spawn(dolphins, dolphin1, []).\nDolphin ! \"hello, dolphin\".  % Heh, we're smarter than you humans.\n\n\n\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u8fd4\u308a\u5024\u3092\u53d7\u3051\u53d6\u308b\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u9001\u4fe1\u5143\u306e Pid \u3092 receive \u5074\u3067\u53d7\u3051\u53d6\u308a\u3001\u305d\u306e Pid \u3078\u5411\u304b\u3063\u3066\u7d50\u679c\u3092 ! (send) \u3059\u308c\u3070\u3088\u3044\u3002\n\n\n\u5f53\u7136\u3001\u9001\u4fe1\u5074\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u4e00\u7dd2\u306b\u81ea\u5206\u306e Pid \u3082\u9001\u4fe1\u3059\u308b\n\n\n\n%% From \u306b\u306f Pid \u304c\u5165\u3063\u3066\u308b\ndolphin2() ->\n    receive\n        {From, do_a_flip}} ->\n            From ! \"How about no?\";\n        {From, fish} ->\n            From ! \"So long and thanks than you humans.\";\n        _ ->\n            io:format(\"Heh, we're sumarter than you humans.~n\")\n    end.\n\n\u4f7f\u7528\u4f8b\nc(dolphin2).\nDolphin2 = spawn(dolphins, dolphin2, []).\nDolphin2 ! {self(), do_a_flip}.\n%% \u76f8\u624b\u5074\u3082 send \u3057\u3066\u304f\u308b\u306e\u3067\u3001\u81ea\u5206\u306e\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u3092\u78ba\u8a8d\u3057\u306a\u3044\u3068\u8fd4\u308a\u5024\u304c\u53d6\u5f97\u3067\u304d\u306a\u3044\nflush().  % Shell got \"How about no?\"\nok\n\n\nreceive \u306e\u4e2d\u3067\u518d\u8d77\u3059\u308c\u3070\u3001\u8907\u6570\u56de\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u3052\u308c\u308b\n\n\ndolphin3() ->\n    receive\n        {From, do_a_flip} ->\n            From ! \"How about no?\",\n            dolphin3();\n        {From, fish} ->\n            %% \u518d\u8d77\u306e\u7d42\u4e86\n            From ! \"So long and thanks for all the fish!\";\n        _ ->\n            io:format(\"Heh, we're smarter than you humans.~n\"),\n            dolphin3()\n    end.\n\n\n\u7b2c11\u7ae0 \u30de\u30eb\u30c1\u30d7\u30ed\u30bb\u30b9\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\n\n\u95a2\u6570\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u3060\u3051\u3067\u306f\u3001\u30a2\u30af\u30bf\u30fc\u3092\u4f7f\u3044\u3053\u306a\u305b\u306a\u3044\n\n\n\u30d7\u30ed\u30bb\u30b9\u306e\u72b6\u614b\u3092\u4fdd\u6301\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n\n\n\n\n\u72b6\u614b\u3092\u6301\u3064\u30d7\u30ed\u30bb\u30b9\u3092\u4f5c\u3063\u3066\u307f\u308b\n\n\u51b7\u8535\u5eab\u3092\u4f8b\u3068\u3059\u308b\n\n\n\u6709\u9650\u500b\u306e\u98df\u3079\u7269\u3092\u4fdd\u5b58\u3057\u305f\u308a\u53d6\u308a\u51fa\u3057\u305f\u308a\u3059\u308b\n\n\n\n\n\u6700\u521d\u306e\u4f8b\n\n\n\u307e\u3060\u4fdd\u5b58\u3082\u53d6\u308a\u51fa\u3057\u3082\u672a\u5b9f\u88c5\n\n\n\n-module(kitchen).\n-compile(export_all).\n\nfridge1() ->\n    receive\n        %% \u4fdd\u5b58\u51e6\u7406 ok \u8fd4\u3059\u3060\u3051\n        {From, {store, _Food}} ->\n             From ! {self(), ok},\n             fridge1();\n        %% \u53d6\u308a\u51fa\u3057\u51e6\u7406 \u672a\u5b9f\u88c5\n        {From, {take, _Food}} ->\n            From ! {self(), not_found},\n            fridfe1();\n        terminate ->\n            ok\n    end.\n\n\u95a2\u6570\u306b\u72b6\u614b\u3092\u8ffd\u52a0\u3059\u308b\n\n\u518d\u8d77\u3092\u4f7f\u3063\u3066\u3001\u547c\u3073\u51fa\u3057\u6642\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u95a2\u6570\u306e\u72b6\u614b\u3092\u4fdd\u5b58\u3055\u305b\u308b\n\n\n\u95a2\u6570\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u30a2\u30ad\u30e5\u30e0\u30ec\u30fc\u30bf\n\u30ea\u30b9\u30c8\u3092\u4f7f\u3063\u3066\u307f\u308b\n\n\n\n%% FoodList \u306f\u98df\u3079\u7269\u3092\u683c\u7d0d\u3059\u308b\u30ea\u30b9\u30c8\nfridge2(FoodList) ->\n    receive\n        {From, {store, Food}} ->\n            From ! {self(), ok},\n            fridge2([Food|FoodList]);\n        {From, {take, Food}} ->\n            case lists:member(Food, FoodList) of\n                true ->\n                    From ! {self(), {ok, Food}},\n                    fridge2(lists:delete(Food, FoodList));\n                false ->\n                    From ! {self(), not_found},\n                    fridge2(FoodList)\n            end;\n        terminate ->\n            ok\n    end.\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u9001\u53d7\u4fe1\u95a2\u6570\u3092\u96a0\u853d\u5316\u3057\u305f\u3044\n\n\u5b9f\u88c5\u3057\u305f\u95a2\u6570\u3054\u3068\u306b\u72ec\u81ea\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u899a\u3048\u308b\u306e\u306f\u30c0\u30eb\u3044\n\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u53d7\u4fe1\u3059\u308b\u95a2\u6570\u3092\u4f5c\u308b\n\u3064\u3044\u3067\u306b\u30d7\u30ed\u30bb\u30b9\u3092 spawn \u3059\u308b\u95a2\u6570\u3082\u4f5c\u308b\n\n\n\nstore(Pid, Food) ->\n    Pid ! {self(), {store, Food}},\n    receive\n        {Pid, Msg} -> Msg\n    end.\n\ntake(Pid, Food) ->\n    Pid ! {self(), {take, Food}},\n    receive\n        {Pid, Msg} -> Msg\n    end.\n\nstart(FoodList) ->\n    spawn(?MODULE, fridge2, [FoodList]).\n\n\n\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\n\n\n\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u306e\u5fdc\u7b54\u304c\u5e30\u3063\u3066\u3053\u306a\u3044\u3053\u3068\u304c\u3042\u308b\u3002\n\n\n\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u304c\u767a\u751f\u3057\u3046\u308b\n\n\npid(A,B,C) \u3068\u3044\u3046BIF\u3092\u3064\u304b\u3046\u3068\u3001A.B,C\u306a Pid \u3092\u751f\u6210\u3067\u304d\u308b\u306e\u3067\u8a66\u3057\u3066\u307f\u308b\u3002\n\n% \u9069\u5f53\u306aPid\u3092\u5f85\u3061\u53d7\u3051\u308b\u3068\u30b7\u30a7\u30eb\u304c\u56fa\u307e\u308b...\nkitchen:take(pid(0, 250, 0), dog).\n\n\nafter\u7bc0\n\n\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3059\u308b\u6642\u9593\u3092\u8a2d\u5b9a\u3067\u304d\u308b\n\n%% 3\u79d2\u307e\u3063\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6765\u306a\u304b\u3063\u305f\u3089 timeout\nstart2(Pid, Food) ->\n    Pid ! {self(), {store, Food}},\n    receive\n        {Pid, Msg} -> Msg\n    after 3000 ->\n        timeout\n    end.\n\ntake2(Pid, Food) ->\n    Pid ! {self(), {take, Food}},\n    receive\n        {Pid, Msg} -> Msg\n    after 3000 ->\n        timeout\n    end.\n\n\nafter \u3092\u5229\u7528\u3057\u3066 sleep \u3092\u5b9f\u88c5\u3067\u304d\u308b\n\n%% \u5fc5\u305a T\u79d2\u5f85\u3064\u3002\nsleep(T) ->\n    receive\n    after T -> ok\n    end.\n\n\n\u9078\u629e\u7684\u53d7\u4fe1\n\n\u53d7\u3051\u53d6\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u512a\u5148\u9806\u4f4d\u3092\u3064\u3051\u308b\u3053\u3068\n\n\n\n\u30d5\u30e9\u30c3\u30b7\u30e5 \u3068\u3044\u3046\u6982\u5ff5\u3067\u3001\u9078\u629e\u53d7\u4fe1\u3092\u5b9f\u88c5\u3067\u304d\u308b\n\n\n\n%% Priority \u304c 10\u672a\u6e80\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306f normal \u3078\u53d7\u3051\u6d41\u3057\u3066 receive \u3055\u305b\u308b\n%% important \u304b\u3089 normal \u306e\u9806\u306a\u306e\u3067\u3001`\u9078\u629e\u7684\u53d7\u4fe1` \u306b\u3088\u3063\u3066 10\u4ee5\u4e0a\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u5148\u306b\u304f\u308b\nimportant() ->\n    receive\n        {Priority, Message} when Priority > 10 ->\n            [Message | important()]\n        after 0 ->\n            normal()\n        end.\n\nnormal() ->\n    receive\n        {_, Message} ->\n            [Message | normal()]\n    after 0 ->\n        []\n    end.\n\n\n\u9078\u629e\u7684\u53d7\u4fe1\u306e\u7f60\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u3001\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u3055\u308c\u308b\u307e\u3067\u30d7\u30ed\u30bb\u30b9\u5185\u306e\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u308b\n\n\n\u9001\u4fe1\u5143\u304c\u6b7b\u3093\u3067\u3082\u4fdd\u5b58\u3055\u308c\u308b\nreceive \u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u3051\u53d6\u308b\u305f\u3073\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u5185\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u3059\u3079\u3066\u30c1\u30a7\u30c3\u30af\u3059\u308b\n\n\n\u53e4\u3044\u3082\u306e(\u53d7\u4fe1\u3057\u305f)\u9806\u306b\u30c1\u30a7\u30c3\u30af\u3059\u308b\n\u30de\u30c3\u30c1\u3057\u306a\u304b\u3063\u305f\u3089\u6b21\u3078.. \u3092\u7e70\u308a\u8fd4\u3057\u3001\u30de\u30c3\u30c1\u3057\u305f\u3082\u306e\u306f\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u304b\u3089\u524a\u9664\u3055\u308c\u308b\n\n\u3042\u3068\u3067\u51e6\u7406\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u7121\u8996\u3059\u308b \u3053\u3068\u304c\u9078\u629e\u7684\u53d7\u4fe1\u306e\u672c\u8cea\u7684\u306a\u52d5\u4f5c\n\n\n\n\n\n\u3088\u3063\u3066\u3001\u30d7\u30ed\u30bb\u30b9\u5185\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6e9c\u307e\u308a\u904e\u304e\u308b\u3068\u52d5\u4f5c\u304c\u9045\u304f\u306a\u308b\n\n\u9078\u629e\u7684\u53d7\u4fe1\u306b\u3088\u3063\u3066\u3001 \u3042\u3068\u3067\u51e6\u7406\u3059\u308b \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u591a\u304f\u306a\u308b\nreceive \u306e\u305f\u3073\u306b\u3001\u305d\u308c\u3089\u5168\u90e8\u306b\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u304c\u8d70\u308b\n\n\n\u3082\u3057 \u3042\u3068\u3067\u51e6\u7406\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8 \u304c\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u5185\u306b 1000\u500b\u3042\u3063\u305f\u3089\u30fb\u30fb\uff1f\n\n\n\n\n\n\u305d\u3093\u306a\u3068\u304d\u306f\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u5f62\u5f0f\u306f\u6b63\u3057\u3044\uff1f\n\u305d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u672c\u5f53\u306b\u5fc5\u8981\uff1f\n\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u306e\u5b9a\u7fa9\u9593\u9055\u3063\u3066\u306a\u3044\uff1f\n\u53d7\u4fe1\u30d7\u30ed\u30bb\u30b91\u500b\u3060\u3051\u3067\u3044\u3044\u306e\uff1f\n\n\n\u3068\u304b\u8003\u3048\u308b\u3068\u3044\u3044\u304b\u3082\u3002\n\n\n\n\n\n\n\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u306e\u7f60\n\n\u4e88\u671f\u305b\u306c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u691c\u77e5\u3057\u8b66\u544a\u3092\u51fa\u3055\u305b\u308b\u3053\u3068\u304c\u3042\u308b\n\n%% \u4e88\u60f3\u3055\u308c\u3046\u308b\u3059\u3079\u3066\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\nreceive\n    hoge -> \"hoge!\";\n    fuga -> \"fuga!\";\n    piyo -> \"piyo!\"\n    %% \u4e88\u671f\u305b\u306c\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u306f\u8b66\u544a\n    Unexpected ->\n        io:format(\"unexpected message ~p~n\", [Unexpected])\nend.\n\n\n\n\u7b2c12\u7ae0 \u30a8\u30e9\u30fc\u3068\u30d7\u30ed\u30bb\u30b9\ntry ... catch\n\n\u4f8b\u5916\u51e6\u7406\u306e\u554f\u984c\u70b9\n\n\u3059\u3079\u3066\u306e\u968e\u5c64\u3067\u666e\u901a\u3067\u306f\u306a\u3044\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n\n\n(\u6b63\u5e38\u52d5\u4f5c\u3068\u306f\u7570\u306a\u308b\u30d5\u30ed\u30fc\u3068\u3044\u3046\u3053\u3068\uff1f)\n\n\n\u307e\u305f\u306f\u3088\u308a\u4e0a\u4f4d\u5c64\u306b\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u79fb\u8b72\u3059\u308b\n\n\n\ntry ... catch \u5730\u7344\u304c\u5f85\u3063\u3066\u3044\u308b\u30fb\u30fb\npython \u3067\u4f55\u3082\u8003\u3048\u305a try .. except Exception: \u3068\u304b\u3084\u3063\u3061\u3083\u3063\u3066\u5168\u90e8\u306e\u30a8\u30e9\u30fc\u96a0\u853d\u3057\u3066\u5730\u7344\u898b\u308b\u306e\u3068\u4f3c\u3066\u308b\n\n\n\u3057\u304b\u3057\u30fb\u30fb\n\n\nErlang\u306f\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u5225\u306e\u4e26\u884c\u30d7\u30ed\u30bb\u30b9\u3078\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u8ffd\u3044\u51fa\u305b\u308b\n\u901a\u5e38\u306e\u30b3\u30fc\u30c9\u306f\u3001\u4e0a\u624b\u304f\u884c\u3063\u305f\u5834\u5408\u306e\u307f\u3092\u5b9f\u88c5\u3067\u304d\u308b\n\n\n\u30b3\u30fc\u30c9\u304c\u30af\u30ea\u30fc\u30f3\u306b\u4fdd\u3066\u308b\n\u6b63\u5e38\u7cfb\u3068\u7570\u5e38\u7cfb\u306e\u5b9f\u88c5\u3092\u7dba\u9e97\u306b\u5206\u3051\u3089\u308c\u308b\u3068\u3044\u3046\u3053\u3068\u304b(?)\n\n\n\n\nErlang\u306e\u4e26\u884c\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u5b9f\u73fe\u3059\u308b\u30c4\u30fc\u30eb\u306f\n\n\n\u30ea\u30f3\u30af\n\u30e2\u30cb\u30bf\u30fc\n\u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\n\n\n\n\n1. \u30ea\u30f3\u30af\n\n2\u3064\u306e\u30d7\u30ed\u30bb\u30b9\u9593\u306e\u7279\u6b8a\u306a\u95a2\u4fc2\n\n\n\u30d7\u30ed\u30bb\u30b9\u306e\u751f\u6b7b\u3092\u5171\u306b\u3059\u308b\u904b\u547d\u5171\u540c\u4f53\n\u4e88\u671f\u305b\u306c throw, error, exit\u3057\u305f\u3068\u304d\u3001\u30ea\u30f3\u30af\u3055\u308c\u305f\u65b9\u3082\u6b7b\u306c\n\n\n\n\u30a8\u30e9\u30fc\u3092\u6b62\u3081\u308b\u305f\u3081\u306b\u53ef\u80fd\u306a\u9650\u308a\u65e9\u304f\u5931\u6557\u3055\u305b\u308b\n\n\u3053\u308c\u306f\u6709\u76ca\u306a\u6982\u5ff5\n\u30a8\u30e9\u30fc\u306e\u4f9d\u5b58\u5148\u3092\u6b62\u3081\u308b\n\n\n\u30d7\u30ed\u30bb\u30b9\u3092\u7d20\u65e9\u304f\u518d\u8d77\u52d5\u3055\u305b\u308b\n\n\n\n\n\nlink/1 \u3068 unlink/1 \u3092\u4f7f\u3046\n\n\u7247\u65b9\u306e\u30d7\u30ed\u30bb\u30b9\u304c\u6b7b\u3093\u3060\u6642\u3001\u539f\u56e0\u3084\u4ed8\u968f\u3059\u308b\u60c5\u5831\u304c\u9001\u3089\u308c\u308b\n\n\n\u5f62\u5f0f\u306f {'EXIT', B, Reason}\n\n\n\n\u6b63\u5e38\u306b\u7d42\u4e86\u3057\u305f\u3068\u304d\u306f\u4f55\u3082\u9001\u3089\u308c\u306a\u3044\n\n\n\nmyproc() ->\n    timer:sleep(1000),\n    exit(reason).\n\n%% \u4ee5\u4e0b\u3092\u30b7\u30a7\u30eb\u3067\u64cd\u4f5c\nspawn(fun hoge:myproc/0).  %% \u306a\u306b\u3082\u8d77\u304d\u306a\u3044\nlink(spawn(fun hoge:myproc/0)).  %% 1\u79d2\u5f8c\u306b exception error \u304c\u8d77\u304d\u308b\n\n%% \u30b7\u30a7\u30eb\u304b\u3089\u30d7\u30ed\u30bb\u30b9\u3092\u6bba\u3059\nPid = spawn(fun hoge:myproc/0).\nexit(Pid, reason).\n\n\n\u30d7\u30ed\u30bb\u30b9\u9593\u306e\u30ea\u30f3\u30af\u306f\u3001\u4e00\u7dd2\u306b\u6b7b\u306c\u30d7\u30ed\u30bb\u30b9\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u308b\u306e\u306b\u4f7f\u308f\u308c\u308b\u3002\n\n\n\u4e00\u7dd2\u306b\u6b7b\u3093\u3067\u3082\u308f\u3089\u306a\u3044\u3068\u56f0\u308b\u904b\u547d\u5171\u540c\u4f53\u3092\u5b9a\u7fa9\u3059\u308b\n\n\n\n%% \u4e92\u3044\u306b link \u3059\u308bN\u500b\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u751f\u6210\u3059\u308b\n%% chain(0) \u304b\u3089\u306e\u6b7b\u4ea1\u30b7\u30b0\u30ca\u30eb\u304c\u547c\u3073\u51fa\u3057\u5143\u307e\u3067\u4f1d\u64ad\u3057\u3066\u3044\u304f\nchain(0) ->\n    receive\n        _ -> ok.\n    after 2000 ->\n        exit(chain_dies_here)\n    end;\nchain(N) ->\n    Pid = spawn(fun() -> chain(N-1) end),\n    link(Pid),\n    receive\n        _ -> ok\n    end.\n\n\nspawn_link\n\n\nlink(spawn(Func)) \u3068 link(spawn(M, F, A))\n\n\u52d5\u4f5c\u306b1\u30b9\u30c6\u30c3\u30d7\u4ee5\u4e0a\u304b\u304b\u308b\nlink \u3092\u751f\u6210\u3055\u308c\u308b\u524d\u306b\u30af\u30e9\u30c3\u30b7\u30e5\u3059\u308b\u53ef\u80fd\u6027\u3042\u308a\n\n\n\u4e88\u671f\u305b\u306c\u52d5\u4f5c\u304c\u8d77\u304d\u3046\u308b\n\n\n\n\n\nspawn_link/1-3 \u3068\u3044\u3046BIF\u304c\u3042\u308b\n\n\u30d7\u30ed\u30bb\u30b9\u306e\u751f\u6210\u3068\u30ea\u30f3\u30af\u3092\u540c\u6642\u306b\u3059\u308b\n\u30a2\u30c8\u30df\u30c3\u30af\u306b\u51e6\u7406\u3059\u308b\n\n\n\u5931\u6557\u304b\u6210\u529f\u304b\u3057\u304b\u306a\u3044\n\n\n\u4e00\u822c\u7684\u306b\u306f\u3053\u3063\u3061\u306e\u95a2\u6570\u306e\u307b\u3046\u304c\u5b89\u5168\n\n\n\n\n\u30a8\u30e9\u30fc\u30b7\u30b0\u30ca\u30eb\n\n\n\u30d7\u30ed\u30bb\u30b9\u3092\u8d85\u3048\u305f\u30a8\u30e9\u30fc\u306e\u4f1d\u642c\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u30d1\u30c3\u30b7\u30f3\u30b0\u3068\u540c\u69d8\u306b\u30d7\u30ed\u30bb\u30b9\u9593\u3067\u884c\u308f\u308c\u308b\n\n\u30b7\u30b0\u30ca\u30eb \u3068\u3044\u3046\u7279\u5225\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4f7f\u3046\n\n\n\u30d7\u30ed\u30bb\u30b9\u4e0a\u3067\u81ea\u52d5\u7684\u306b\u52d5\u4f5c\u3057\u3066\u3001\u305d\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u6bba\u3059\n\n\n\n\n\n\u3069\u3046\u3084\u3063\u3066\u518d\u8d77\u52d5\u3055\u305b\u308b\u304b\n\n\u4fe1\u983c\u6027\u306e\u305f\u3081\u3001\u7d20\u65e9\u3044\u7d42\u4e86\u3068\u518d\u8d77\u52d5\u306f\u5fc5\u9808\n\nlink \u3067\u30d7\u30ed\u30bb\u30b9\u3092\u6bba\u305b\u308b\n\n\n\u518d\u8d77\u52d5\u306f\u3069\u3046\u3059\u308b\uff1f\n\n\n\u307e\u305a\u30d7\u30ed\u30bb\u30b9\u304c\u6b7b\u3093\u3060\u304b\u3069\u3046\u304b\u3092\u77e5\u3089\u306a\u3044\u3068\u518d\u8d77\u52d5\u3082\u3067\u304d\u306a\u3044\n\n\n\n\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30bb\u30b9 \u3092\u30ea\u30f3\u30af\u4e0a\u306b\u8ffd\u52a0\u3059\u308c\u3070\u3088\u3044\n\n\n\n\n\n\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30bb\u30b9\u3068\u306f\n\n\u7d42\u4e86\u30b7\u30b0\u30ca\u30eb\u3092\u666e\u901a\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u3057\u3066\u53d7\u3051\u53d6\u308c\u308b\u30d7\u30ed\u30bb\u30b9\u306e\u3053\u3068\n\nprocess_flag(trap_exit, true). \u3092\u4f7f\u3046\n\n\n\n% \u30b7\u30a7\u30eb\u3067\u5b9f\u884c\nprocess_flag(trap_exit, true).\nspawn_link(fun() -> hoge:chain(3) end).\nreceive X -> X end.\n{'EXIT', <0.49.0>, \"chain dies here\"}\n\n\n\u4f8b\u5916\u306e\u7a2e\u985e\n\n\nspawn_link \u3084 exit/2 \u3067\u5927\u6982\u306e\u4f8b\u5916\u306f\u88dc\u8db3\u3067\u304d\u308b\n\u88dc\u8db3\u3055\u305b\u305a\u3001\u7121\u7406\u3084\u308a Kill \u3057\u305f\u3044\u6642\u3082\u3042\u308b\u3002\n\n\n\nkill \u30b7\u30b0\u30ca\u30eb\u3092\u9001\u308b\n\n\n\u30d7\u30ed\u30bb\u30b9\u3092\u6bba\u3059\u6700\u7d42\u624b\u6bb5\n\u6c7a\u3057\u3066\u88dc\u8db3\u3055\u308c\u306a\u3044\n\n\n\u30d7\u30ed\u30bb\u30b9\u304c\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u3063\u305f\u3089 killed \u306b\u5909\u66f4\u3055\u308c\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\n\n\n\nkilled \u306b\u5909\u66f4\u3055\u308c\u306a\u3044\u3068\u3001\u4ed6\u306e\u30ea\u30f3\u30af\u3055\u308c\u305f\u30d7\u30ed\u30bb\u30b9\u306b\u3082 kill \u304c\u4f1d\u64ad\u3059\u308b\n\n\n\u6b7b\u306e\u9023\u9396\n\n\n\u4ed6\u306e\u30ea\u30f3\u30af\u3055\u308c\u305f\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u53d7\u3051\u53d6\u3063\u305f exit(kill) \u304c killed \u306b\u898b\u3048\u308b\u7406\u7531\n\n\n\u4f1d\u64ad\u3057\u306a\u3044\u3088\u3046\u5909\u308f\u308b\n\n\n\u30ed\u30fc\u30ab\u30eb\u3067\u88dc\u8db3\u3055\u308c\u305f\u3068\u304d\u306f\u4f9d\u7136\u3068\u3057\u3066 kill \u306e\u3088\u3046\u306b\u898b\u3048\u308b\n\n\n\n\n\n\n2. \u30e2\u30cb\u30bf\u30fc\n\n\u30ea\u30f3\u30af\u3055\u308c\u305f\u30d7\u30ed\u30bb\u30b9\u306f\u4e00\u7dd2\u306b\u6b7b\u306c\u904b\u547d\u5171\u540c\u4f53\n\n\n\u5fc5\u305a\u3057\u3082\u6b7b\u306c\u5fc5\u8981\u306f\u306a\u3044\n\u30d7\u30ed\u30bb\u30b9\u3092\u30b9\u30c8\u30fc\u30ad\u30f3\u30b0\u3067\u304d\u308c\u3070\u5145\u5206\u306a\u5834\u5408\u3082\u3042\u308b\n\n\n\n\u30e2\u30cb\u30bf\u30fc\u3000\u3092\u3064\u304b\u3046\n\n\n\n\n\n\n\u30e2\u30cb\u30bf\u30fc\u3068\u306f\n\n\u4e00\u65b9\u5411\u306e\u76e3\u8996\n2\u3064\u306e\u30d7\u30ed\u30bb\u30b9\u9593\u3067\u8907\u6570\u306e\u30e2\u30cb\u30bf\u30fc\u3092\u6301\u3066\u308b\n\n\n\n\u30b9\u30bf\u30c3\u30af\u304c\u3067\u304d\u3066\u3001\u305d\u308c\u305e\u308c\u306b\u8b58\u5225\u5b50\u3092\u6301\u3064\n\u30ea\u30f3\u30af\u306f\u30b9\u30bf\u30c3\u30af\u3057\u306a\u3044\n\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u30ea\u30f3\u30af\u8a2d\u5b9a\u30fb\u524a\u9664\u3092\u3059\u308b\u3068\u304d\u3001\u95a2\u4fc2\u306a\u3044\u30ea\u30f3\u30af\u3092\u5909\u66f4\u3057\u3066\u3057\u307e\u3046\u53ef\u80fd\u6027\n\u4e00\u3064\u306e\u30d7\u30ed\u30bb\u30b9\u306b\u8907\u6570\u306e\u30ea\u30f3\u30af\u8a2d\u5b9a\u6642\u3001\u7279\u5b9a\u306e\u30ea\u30f3\u30af\u3060\u3051 unlink \u3059\u308b\u3001\u3068\u3044\u3046\u306e\u304c\u3067\u304d\u306a\u3044(?)\n\n\n\u30e2\u30cb\u30bf\u30fc\u306f\u30b9\u30bf\u30c3\u30af\u3067\u304d\u308b\u4e00\u65b9\u5411\u306e\u30ea\u30f3\u30af\u3001\u307f\u305f\u3044\u306a\u3082\u306e (?) \n\u4ed6\u306e\u30d7\u30ed\u30bb\u30b9\u3067\u4f55\u304c\u8d77\u304d\u3066\u3044\u308b\u304b\u3092\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308b\u6642\u306b\u4fbf\u5229\n\n\n\n\n\u30e2\u30cb\u30bf\u30fc\u3092\u4f7f\u3046\n\n\u30e2\u30cb\u30bf\u30fc\u306f MRef \u8b58\u5225\u5b50\u3067\u4e00\u610f\u306b\u88dc\u8db3\u3067\u304d\u308b\n\n\nMRef \u3067\u30e2\u30cb\u30bf\u30fc\u3092\u89e3\u9664\u3067\u304d\u308b\n\n\n\u30e2\u30cb\u30bf\u30fc\u3092\u30b9\u30bf\u30c3\u30af\u3067\u304d\u308b\n\n\n\u3072\u3068\u3064\u4ee5\u4e0a\u306e\u30e2\u30cb\u30bf\u30fc\u3092\u505c\u6b62\u3067\u304d\u308b\n\n\n\u53c2\u7167\u5148\u304c\u6b7b\u306c\u3068\u3001 {'DOWN', MRef, process, Pid, Reason} \u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\n\n1> erlang:monitor(process, spawn(fun() -> timer:sleep(500) end)).\n#Ref<0.0.0.42>\n2> flush().\nShell got {'DOWN',#Ref<0.0.0.42>,process,<0.35.0>,normal}\nok\n\n\n\nlink \u3068\u540c\u69d8\u306b\u30d7\u30ed\u30bb\u30b9\u306e\u751f\u6210\u3068\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3092\u30a2\u30c8\u30df\u30c3\u30af\u306b\u884c\u3046BIF\u304c\u3042\u308b\n\n\n\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u30d7\u30ed\u30bb\u30b9\u304c\u6b7b\u306c\u524d\u306b demonitor \u3057\u3066\u308b\n\n\n\u30d7\u30ed\u30bb\u30b9\u306e\u6b7b\u306b\u3064\u3044\u3066\u8ffd\u8de1\u306f\u3057\u3066\u3044\u306a\u3044\n\n\n\n\n\n1> {Pid, Ref} = spawn_monitor(fun() -> receive _ -> exit(boom) end end).\n{<0.34.0>,#Ref<0.0.0.26>}\n2> erlang:demonitor(Ref).\ntrue\n3> Pid ! die.\ndie\n4> flush().\nok\n\n\n\ndemonitor/2 \u3082\u3042\u308b\n\n\n\u30aa\u30d7\u30b7\u30e7\u30f3\u306f2\u3064\ninfo\n\n\n\u30e2\u30cb\u30bf\u30fc\u524a\u9664\u6642\u306b\u3001\u30e2\u30cb\u30bf\u30fc\u304c\u5b58\u5728\u3057\u305f\u304b\u3069\u3046\u304b\u3092 true/false \u3067\u8fd4\u3059\n\n\nflush\n\n\n\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u306b DOWN \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u3042\u3063\u305f\u5834\u5408\u306b\u305d\u308c\u3092\u524a\u9664\u3059\u308b\n\n\n\n\n\n6> {Pid, Ref} = spawn_monitor(fun() -> receive _ -> exit(boom) end end).\n{<0.40.0>,#Ref<0.0.0.47>}\n7> Pid ! die.\ndie\n8> erlang:demonitor(Ref, [flush, info]).\nfalse\n9> flush().\nok\n\n\n3. \u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\n\n\u30ea\u30f3\u30af\u3068\u30e2\u30cb\u30bf\u30fc\u3067\u3082\u89e3\u6c7a\u3067\u304d\u3066\u3044\u306a\u3044\u554f\u984c\n\n\n\u30ea\u30f3\u30af\u5148\u306e\u6b7b\u4ea1\u3092\u691c\u51fa\u3057\u305f\u6642\u306b\u3067\u304d\u308b\u3053\u3068\u306f\u4f55\u304b\uff1f\n\n\n\n%% CD\u306e\u8a55\u5224\u3092\u77e5\u308a\u305f\u3044\u306e\u3067\u6279\u8a55\u5bb6(critic) \u3092\u751f\u6210\u3057\u305f\nstart_critic() ->\n    spawn(?MODULE, critic, []).\n\n%% \u6279\u8a55\u5bb6\u306b\u6279\u8a55\u3092\u805e\u304f\njudge(Pid, Band, Album) ->\n    Pid ! {self(), {Band, Album}},\n    receive\n        {Pid, Criticism} -> Criticism\n    after 2000 ->\n        timeout\n    end.\n\n%% \u6279\u8a55\u5bb6\u3092\u8868\u3059\u95a2\u6570\ncritic() ->\n    receive\n        {From, {\"Rage Against the Turing Machine\", \"Unit Testify\"}} ->\n            From ! {self(), \"They are great!\"};\n        {From, {\"System of a Downtime\", \"Memoize\"}} ->\n            From ! {self(), \"They're not Johnny Crash but they're good.\"};\n        {From, {\"Johnny Crash\", \"The Token RIng of Fire\"}} ->\n            From ! {self(), \"Simply incredible.\"};\n        {From, {_Band, _Album}} ->\n            From ! {self(), \"They are terrible!\"}\n    end,\n    critic().\n\n\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306f\u3001\u4f55\u3089\u304b\u306e\u7406\u7531\u3067 critic \u304c\u6b7b\u306c\u3068\n\n\n\u305a\u3063\u3068 timeout \u304c\u8d77\u304d\u308b\n\n\n\u30d7\u30ed\u30bb\u30b9\u3092\u518d\u8d77\u52d5\u3055\u305b\u308b\u30b9\u30fc\u30d1\u30fc\u30d0\u30a4\u30b6\u3092\u5b9f\u88c5\u3059\u308b\uff01\n\nstart_critic2() ->\n    spawn(?MODULE, restarter, []).\n\n%% \u6279\u8a55\u5bb6\u30d7\u30ed\u30bb\u30b9\u3068\u30ea\u30f3\u30af\u3057\u3001\u6b7b\u6d3b\u76e3\u8996\u3092\u3059\u308b\n%% \u6279\u8a55\u5bb6\u304b\u3089\u7d42\u4e86\u30b7\u30b0\u30ca\u30eb\u3092\u53d7\u3051\u53d6\u308a\u3001\u518d\u8d77\u52d5\u3057\u305f\u308a\u3057\u306a\u304b\u3063\u305f\u308a\u3059\u308b\nrestarter() ->\n    process_flag(trap_exit, true),\n    Pid = spawn_link(?MODULE, critic, []),\n    receive\n        {'EXIT', Pid, normal} ->  % \u30af\u30e9\u30c3\u30b7\u30e5\u3067\u306f\u306a\u3044\n            ok;\n        {'EXIT', Pid, shutdown} ->  % \u624b\u52d5\u7d42\u4e86\u3067\u30af\u30e9\u30c3\u30b7\u30e5\u3067\u306f\u306a\u3044\n            ok;\n        {'EXIT', Pid, _} ->\n            restarter()  %% \u6050\u3089\u304f\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u305f\u306e\u3067\u6279\u8a55\u5bb6\u3092\u518d\u751f\u6210\u3059\u308b\n    end.\n\n\n\u4e0a\u8a18\u306e\u30bd\u30fc\u30b9\u306e\u554f\u984c\u70b9\n\n\n\nstart_critic2 \u3057\u3066\u3082 Pid \u3092\u53d6\u5f97\u3067\u304d\u306a\u3044\uff01\n\n\nPid\u3092\u77e5\u3089\u306a\u3044\u306e\u3067\u8a55\u4fa1\u306b\u610f\u898b\u3092\u805e\u3051\u306a\u3044 (Send \u3067\u304d\u306a\u3044)\n\n\n\n\n\n\n\u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\u3092\u4f7f\u3046\nrestarter() ->\n    process_flag(trap_exit, true),\n    Pid = spawn_link(?MODULE, critic, []),\n    %% \u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\u306b\u3059\u308b\n    register(critic, Pid),\n    receive\n        {'EXIT', Pid, normal} ->  % \u30af\u30e9\u30c3\u30b7\u30e5\u3067\u306f\u306a\u3044\n            ok;\n        {'EXIT', Pid, shutdown} ->  % \u624b\u52d5\u7d42\u4e86\n            ok;\n        {'EXIT', Pid, _} ->\n            restarter()\n    end.\n\njudge2(Band, Album) ->\n    %% \u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\u304b\u3089Pid\u3092\u691c\u7d22\n    critic ! {self(), {Band, Album}},\n    Pid = whereis(critic),\n\n    receive\n        {Pid, Criticism} -> Criticism\n    end.\n\n\n\u30d7\u30ed\u30bb\u30b9\u306e\u7af6\u5408\u72b6\u614b\n\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306b\u306f\u554f\u984c\u304c\u767a\u751f\u3057\u3046\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\n\n\n\u305f\u3063\u305f\u4e00\u884c\u3060\u304c\u3001\u3053\u306e\u9593\u306b\u8efd\u91cf\u30d7\u30ed\u30bb\u30b9\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30d1\u30c3\u30b7\u30f3\u30b0\u304c\u8d70\u3063\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\n\u7570\u306a\u308b\u30ce\u30fc\u30c9/\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u308c\u305f\u7d50\u679c\u3092\u5f85\u3061\u3051\u3066\u3044\u308b,\u3068\u3044\u3046\u72b6\u6cc1\n\n\n\ncritic ! {self(), {Band, Album}},\nPid = whereis(critic),\n\n\n\ncritic \u30d7\u30ed\u30bb\u30b9\u304c\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u305f\u3068\u304d\n\nwhereis \u304c\u5931\u6557\u3057\u3066\u30af\u30e9\u30c3\u30b7\u30e5\ncritic \u304c\u518d\u8d77\u52d5\u3057\u3066 Pid \u304c\u5909\u5316\u3057\u305f\u3068\u304d\n\n\nreceive \u304c\u7d76\u5bfe\u306b\u5931\u6557\u3059\u308b\n\n\n\n\n\ncritic \u30d7\u30ed\u30bb\u30b9\u306f\u3001\u8907\u6570\u306e\u4ed6\u306e\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u53c2\u7167\u3055\u308c\u3066\u3044\u308b\n\n\nShare State \u3068\u547c\u3070\u308c\u308b\u72b6\u6cc1\n\n\ncritic \u30d7\u30ed\u30bb\u30b9\u304c\u4ed6\u306e\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u30a2\u30af\u30bb\u30b9\u30fb\u4fee\u6b63\u53ef\u80fd\u306a\u72b6\u6cc1\n\u60c5\u5831\u306e\u4e00\u8cab\u6027\u304c\u5931\u308f\u308c\u3001\u30a8\u30e9\u30fc\u306b\u3064\u306a\u304c\u308a\u304b\u306d\u306a\u3044\n\n\n\n\u7af6\u696d\u72b6\u614b \u3068\u3082\n\n\n\u7279\u306b\u5371\u967a\n\u767a\u751f\u78ba\u7387\u304c\u305d\u308c\u306a\u308a\u306b\u3042\u308b\n\n\n\u3042\u3089\u3086\u308b\u4e26\u5217\u8a00\u8a9e\u3001\u4e26\u884c\u8a00\u8a9e\u3067\u8d77\u3053\u308b\n\u30d7\u30ed\u30bb\u30c3\u30b5\u306e\u8ca0\u8377\u3084\u30d7\u30ed\u30bb\u30b9\u306e\u65b9\u5411\u3068\u304b\u3001\u4e88\u671f\u305b\u306c\u8981\u56e0\u306b\u4f9d\u5b58\u3057\u3066\u308b\u305f\u3081\n\n\n\n\n\n\n\n\nErlang \u306f\u7af6\u5408\u72b6\u614b\u3068\u7e01\u304c\u306a\u3044\u306e\u304b\uff1f\n\n\u591a\u304f\u306e\u5834\u5408\u3067\u306f\u305d\u3046\n\n\n\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u3092\u4ecb\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u30d1\u30c3\u30b7\u30f3\u30b0\u306e\u304a\u304b\u3052\n\n\n\u30a4\u30d9\u30f3\u30c8\u306b\u3042\u308b\u7a2e\u306e\u9806\u5e8f\u304c\u77ef\u6b63\u3055\u308c\u308b\u305f\u3081\nShared State \u304c\u8a00\u8a9e\u306b\u5bc4\u3063\u3066\u53b3\u683c\u306b\u5236\u9650\u3055\u308c\u308b\n\n\nErlang\u30b3\u30fc\u30c9\u304c\u7af6\u5408\u72b6\u614b\u3068\u7121\u7e01\u3060\u3068\u4eee\u5b9a\u3059\u308b\u3079\u304d\u3067\u306f\u306a\u3044\n\n\n\n\n\u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\u306b\u3088\u308b\u7af6\u5408\u72b6\u614b\u3092\u56de\u907f\u3059\u308b\n\n\u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\u304c\u540c\u3058\u307e\u307e\u306a\u3089\n\n\n\nmake_ref \u3092\u4f7f\u3046\n\u5909\u5316\u3057\u3046\u308b Pid \u3067\u306f\u306a\u304f ErlangVM \u304c\u751f\u6210\u3059\u308b\u4e00\u610f\u53c2\u7167\u3092\u8b58\u5225\u5b50\u306b\u3059\u308b\n\n\n\njudge2(Band, Album) ->\n    %% \u4e00\u610f\u53c2\u7167\u3092\u53d6\u5f97\n    Ref = make_ref(),\n    critic ! {self(), Ref, {Band, Album}},\n    receive\n        %% Pid \u3067\u306f\u306a\u304f\u4e00\u610f\u53c2\u7167\u304c\u5e30\u3063\u3066\u304d\u3066\u308b\u304b\u3067\u6b63\u3057\u3044\u5fdc\u7b54\u5148\u304b\u3092\u5224\u5225\u3059\u308b\n        {Ref, Criticism} -> Criticism\n    after 2000 ->\n        timeout\n    end.\n\ncritic2() ->\n    receive\n        {From, Ref, {\"Rage Against the Turing Machine\", \"Unit Testify\"}} ->\n            From ! {Ref, \"They are great!\"};\n        {From, Ref, {\"System of a Downtime\", \"Memoize\"}} ->\n            From ! {Ref, \"They're not Johnny Crash but they're good.\"};\n        {From, Ref, {\"Johnny Crash\", \"The Token RIng of Fire\"}} ->\n            From ! {Ref, \"Simply incredible.\"};\n        {From, Ref, {_Band, _Album}} ->\n            From ! {Ref, \"They are terrible!\"}\n    end,\n    critic2().\n\n\n\u7b2c13\u7ae0 \u4e26\u884c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u8a08\u3059\u308b\n\n\u4e26\u884cErlang \u3067\u5c0f\u3055\u3044\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u66f8\u304f\n\n\n\u984c\u6750\u306f\u30a4\u30d9\u30f3\u30c8\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\n\n\n\n\n\u554f\u984c\u3092\u7406\u89e3\u3059\u308b\n\n\u3064\u304f\u308a\u305f\u3044\u3082\u306e\u306f\uff1f\n\n\n\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\n\n\n\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3068\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306f\uff1f\n\u6a5f\u80fd\u3092\u3069\u306e\u3088\u3046\u306b\u30d7\u30ed\u30bb\u30b9\u3068\u3044\u3046\u5f62\u306b\u843d\u3068\u3057\u3053\u3080\uff1f\n\u9001\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u3069\u3046\u3084\u3063\u3066\u77e5\u308b\uff1f\n\n\n\n\u4ee5\u4e0a\u3092\u8e0f\u307e\u3048\u4ed5\u69d8\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6c7a\u3081\u308b\n\n\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3067\u304d\u308b\n\u30a4\u30d9\u30f3\u30c8\u306b\u306f\u4ee5\u4e0b\u306e\u8981\u7d20\u304c\u3042\u308b\n\n\n\u7de0\u3081\u5207\u308a(\u8b66\u544a\u6642\u9593)\n\u540d\u524d\n\u8a73\u7d30\n\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u6642\u9593\u304c\u6765\u305f\u3089\u8b66\u544a\u3092\u8868\u793a\n\u540d\u524d\u3092\u6307\u5b9a\u3057\u3066\u30ad\u30e3\u30f3\u30bb\u30eb\u53ef\u80fd\nCUI\u7d4c\u7531\u3067\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u3068\u901a\u4fe1\u3059\u308b\n\n\n\n\n\u69cb\u6210\u8981\u7d20\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n\u30a4\u30d9\u30f3\u30c8\u30b5\u30fc\u30d0\u30fc\n\u30a4\u30d9\u30f3\u30c8\u30d7\u30ed\u30bb\u30b9\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u57fa\u790e\u69cb\u9020\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\n\n\n\n\n\u30d5\u30a9\u30eb\u30c0\u540d\n\u5f79\u5272\n\n\n\n\nebin/\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u7f6e\u304d\u5834\n\n\ninclude/\n\u4ed6\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089include \u3055\u308c\u308b .hrl \u7f6e\u304d\u5834\n\n\npriv/\nErlang\u3068\u3084\u308a\u3068\u308a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb, \u30c9\u30e9\u30a4\u30d0\u306a\u3069\n\n\nsrc/\n\u3059\u3079\u3066\u306e .erl \u7f6e\u304d\u5834, \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u306a .hrl \u3082\u3053\u3053\n\n\n\n\n\u30a4\u30d9\u30f3\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4f5c\u6210\n\n\u73fe\u6642\u70b9\u3067\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306f\u4e0d\u5b8c\u5168\n\n\n\u5927\u4f53 {Pid, Ref, Message} \u3068\u3044\u3046\u5f62\u5f0f\u306b\u306f\u306a\u308b\u3060\u308d\u3046\u3068\n\n\nPid(\u9001\u4fe1\u5143), Ref(\u4e00\u610f\u53c2\u7167) \u306e\u7d44\u307f\u5408\u308f\u305b\u3066\u9001\u53d7\u4fe1\u306e\u95a2\u4fc2\u3092\u7279\u5b9a\u3067\u304d\u308b\n\n\n\n\n\n\n\u30a4\u30d9\u30f3\u30d7\u30ed\u30bb\u30b9\u306e\u30e1\u30a4\u30f3\u30eb\u30fc\u30d7\n\n\u304a\u304a\u307e\u304b\u306a\u69cb\u9020\u306f\u4ee5\u4e0b\n\n%% \u5909\u6570State\u306b\u30eb\u30fc\u30d7\u306e\u72b6\u614b\u3092\u4fdd\u5b58\nloop(State) ->\n   receive\n       %% \u30a4\u30d9\u30f3\u30c8\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u306e\u30ad\u30e3\u30f3\u30bb\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308c\u308b\u3088\u3046\u306b\u3059\u308b\n       {Server, Ref, cancel} ->\n           event_cancel;\n       %% \u6307\u5b9a\u6642\u9593\u7d4c\u904e\u3057\u305f\u3089\u3001\u671f\u9650\u304c\u6765\u305f\u51e6\u7406\u3092\u3059\u308b\n       after Delay ->\n           event_timelimit\n       end.\n\n\n\u3053\u308c\u3092\u8e0f\u307e\u3048\u3001\u30b3\u30fc\u30c9\u306f\u5927\u4f53\u4ee5\u4e0b\n\n-module(event).\n-compile(export_all).  %% \u958b\u767a\u306e\u305f\u3081\n-record(state, {server, name=\"\", to_go=0}).\n\n%% Server \u306b\u306f Pid \u304c\u5165\u3063\u3066\u3044\u308b\nloop(S = #state{server=Server}) ->\n    receive\n        {Server, Ref, cancel} ->\n            Server ! {Ref, ok}\n    after S#state.to_go * 1000 ->\n        Server ! {done, S#state.name}\n    end.\n\n\n\u3068\u3053\u308d\u3067\n\n\nafter \u306b\u8a2d\u5b9a\u3067\u304d\u308b\u30df\u30ea\u79d2\u306f\u3001 50\u65e5 (3600 * 24 * 50) \u307e\u3067\n\n\n\u4ed5\u69d8\u4e0a\u306e\u5236\u9650\u306a\u306e\u3067\u3057\u304b\u305f\u306a\u3044\n\n\n\u3057\u304b\u3057\u3053\u308c\u3060\u3068\u3001\u7de0\u3081\u5207\u308a\u30921\u5e74\u5f8c\u3068\u304b\u306b\u8a2d\u5b9a\u3067\u304d\u306a\u3044\n\n\n\n\n\n\n\n%% Erlang \u3067\u306f\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u304c 49\u65e5\u307e\u3067\n%% \u305d\u308c\u4ee5\u4e0a\u306e\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3092\u8a2d\u5b9a\u3057\u305f\u3044\u3068\u304d\n\n%% [4233600, 4233600,...] \u306a\u30ea\u30b9\u30c8\u3092\u751f\u6210\u3057\u3066\u8fd4\u3059\nnormalize(N) ->\n    Limit = 49 * 24 * 60 * 60,\n    [N rem Limit | lists:duplicate(N div Limit, Limit)].\n\nloop(S = #state{server=Server, to_go=[T|Next]}) ->\n    receive\n        {Server, Ref, cancel} ->\n            Server ! {Ref, ok}\n        after T*1000 ->\n            if Next =:= [] ->\n                Server ! {done, S#state.name};\n               Next =/= [] ->\n                loop(S#state{to_go=Next})\n            end\n        end.\n\n\n\u3061\u3087\u3063\u3068\u3057\u305f\u6539\u5584\n\n\u7de0\u3081\u5207\u308a\u3092\u79d2\u3067\u6307\u5b9a\u3059\u308b\u306e\u306f\u9762\u5012\n\n\nErlang \u306e datetime \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n\n\n\ntime_to_go(TiemOut={{_,_,_}, {_,_,_}}) ->\n    Now = calendar:local_time(),\n    ToGo = calendar:datetime_to_greforian_seconds(TimeOut) - calendar:datetime_to_gregorian_seconds(Now),\n    Secs = if ToGo > 0 -> ToGo;\n              ToGo =< 0 -> 0;\n           end,\n    normalize(Secs).\n\n\n\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8ffd\u52a0\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5229\u4fbf\u6027\u3092\u4e0a\u3052\u308b\u305f\u3081\u3001\u547c\u3073\u51fa\u3057I/F\u95a2\u6570\u3092\u8ffd\u52a0\u3059\u308b\n\u4e0a\u8a18loop\u95a2\u6570\u3092\u3046\u307e\u304f\u52d5\u4f5c\u3055\u305b\u308b\u306e\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3092\u521d\u671f\u5316\u3059\u308b\u95a2\u6570\u3092\u66f8\u304f\n\n%% \u7b2c3\u5f15\u6570\u306f init \u306b\u6e21\u3055\u308c\u308b\nstart(EventName, Delay) ->\n    spawn(?MODULE, init, [self(), EventName, Delay]).\n\nstart_link(EventName, Delay) ->\n    spawn_link(?MODULE, init, [self(), EventName, Delay]).\n\n%% \u30a4\u30d9\u30f3\u30c8\u306e\u5185\u90e8\u51e6\u7406\ninit(Server, EventName, DateTime) ->\n    loop(#state{server=Server, name=EventName, to_go=tiem_to_go(DateTime)}).\n\n%% cancel \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\u7528\u95a2\u6570(I/F) \u3092\u66f8\u304f\ncancel(Pid) ->\n    %% \u30d7\u30ed\u30bb\u30b9\u304c\u65e2\u306b\u6b7b\u3093\u3067\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304a\u304f\u305f\u3081\u306e\u30e2\u30cb\u30bf\u30fc\n    Ref = erlang:monitor(process, Pid),\n    Pid ! {self(), Ref, cancel},\n    receive\n        {Ref, ok} ->\n            erlang:demontor(Ref, [flush]),\n            ok;\n        {'DOWN', Ref, process, Pid, _Reason} ->\n            ok\n    end.\n\n\n\u30a4\u30d9\u30f3\u30c8\u30b5\u30fc\u30d0\u30fc\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u5404\u30a4\u30d9\u30f3\u30c8\u30d7\u30ed\u30bb\u30b9\u306e\u4ef2\u4ecb\u8005\n\n\n\u5927\u4f53\u306e\u6982\u8981\u52d5\u4f5c\u306f\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\n\n\n\n-module(evserv).\n-compile(export_all).\n\nloop(State) ->\n    %% \u8fd4\u4fe1\u304c\u5fc5\u8981\u306a\u51e6\u7406\u306f {Pid, Ref, Msg} \u306e\u5f62\u5f0f\n    receive\n        {Pid, MsgRef, {subscribe, Client}} ->\n            %% \u30a4\u30d9\u30f3\u30c8\u306b\u767b\u9332\u3059\u308b\u51e6\u7406\n        {Pid, MsgRef, {add, Name, Description, TimeOut}} ->\n            %% \u30a4\u30d9\u30f3\u30c8\u8ffd\u52a0 \n        {Pid, MsgRef, {cancel, Name}} ->\n            %% \u30ad\u30e3\u30f3\u30bb\u30eb\u51e6\u7406\n        {done, Name} ->\n            %% \u30a4\u30d9\u30f3\u30c8\u5b8c\u4e86\u51e6\u7406\n        shutdown ->\n            %% \u30b5\u30fc\u30d0\u30fc\u7d42\u4e86\u51e6\u7406\n        {'DOWN', Ref, process, _Pid, _Reason} ->\n            %% \u30e2\u30cb\u30bf\u30fc\u5148\u304c\u843d\u3061\u3066\u305f\n        code_change ->\n            %% \u30db\u30c3\u30c8\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n        Unknown ->\n            io:format(\"Unknown message: ~p~n\", [Unknown]),\n            loop(State)\n    end.\n\n\n\u72b6\u614b\u5909\u6570 State \u306b\u4fdd\u5b58\u3059\u308b\u3079\u304d\u72b6\u614b\u306f\u306a\u306b\u304b\n\n\u30a4\u30d9\u30f3\u30c8\u30b5\u30fc\u30d0\u30fc\u304c\u6301\u3064\u3079\u304d\u72b6\u614b\n\n\n\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u3057\u3066\u3044\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30ea\u30b9\u30c8\nspawn \u3057\u305f\u3059\u3079\u3066\u306e\u30a4\u30d9\u30f3\u30c8\u30d7\u30ed\u30bb\u30b9\u306e\u30ea\u30b9\u30c8\n\n\n\n-record(state, {events,   %% event\u30ec\u30b3\u30fc\u30c9\u306e\u30ea\u30b9\u30c8\n                clients). %% Pid \u306e\u30ea\u30b9\u30c8\n-record(event, {name=\"\", description=\"\", pid, timeout={{1970, 1, 1}, {0,0,0}}).\n\n\n\n#state \u306e event \u3068 client \u306f orddict \u3067\u4fdd\u6301\u3059\u308b\u3082\u306e\u3068\u3059\u308b\n\n\n\u540c\u6642\u306b\u4f55\u767e\u3082\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u6301\u3064\u3053\u3068\u304c\u306a\u3055\u305d\u3046\u306a\u306e\u3067\u2026\n\n\n\n%% orddict \u3092\u4f7f\u3046 init\u95a2\u6570\u3092\u5b9a\u7fa9\ninit() ->\n    %% \u5236\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u8aad\u307f\u8fbc\u307f\u306f\u3053\u306e\u95a2\u6570\u3067\u5b8c\u4e86\u3059\u308b.\n    %% \u305d\u306e\u305f\u3081\u3001\u30a4\u30d9\u30f3\u30c8\u3092\u3069\u3053\u304b\u3089\u8aad\u307f\u8fbc\u3080\u3092\u4f1d\u3048\u308b\u305f\u3081\u306e\u5f15\u6570\u3092 init \u306b\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308b\u3002\n    %% \u6e21\u3055\u308c\u305f\u5f15\u6570\u3092\u901a\u3058\u3066\u30a4\u30d9\u30f3\u30c8\u3092\u3053\u3053\u3067\u8aad\u307f\u8fbc\u3080.\n    %% \u3082\u3046\u4e00\u3064\u306e\u65b9\u6cd5\u3068\u3057\u3066\u3001\u3053\u306e\u95a2\u6570\u304b\u3089\u30b5\u30fc\u30d0\u30fc\u3078\u76f4\u63a5\u30a4\u30d9\u30f3\u30c8\u3092\u6e21\u3059\u3060\u3051\u3067\u3082\u826f\u3044\n    loop(#state{events=orddict:new(),\n                clients=orddict:new()}).\n\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u51e6\u7406\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u51e6\u7406\n\n\n\u30a4\u30d9\u30f3\u30c8\u7d42\u4e86\u6642\u306b\u901a\u77e5\n\n\n\u3059\u3079\u3066\u306e\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d0\u30fc\u3092\u4fdd\u5b58\u3059\u308b\u5fc5\u8981\u3042\u308a\n\u76e3\u8996\u3082\u5fc5\u8981\n\n\n\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\u3057\u3066\u3082\u7121\u99c4\u306a\u306e\u3067\u2026\n\n\n\n\n\n\n\n{Pid, MsgRef, {subscribe, Client}} ->\n    %% \u76e3\u8996\u306e\u305f\u3081MRef \u53d6\u5f97\n    Ref = erlang:monitor(process, Client),\n    %% \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30ea\u30b9\u30c8\u3092\u66f4\u65b0\n    NewClients = orddict:store(Ref, Client, S#state.clients),\n    Pid ! {MsgRef, ok},\n    loop(S#state{clients=NewClients});\n\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u8ffd\u52a0\u51e6\u7406\n\n\n\u30a8\u30e9\u30fc\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u8fd4\u305b\u308b\n\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u304c\u6b63\u3057\u3044\u304b\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\n\n\n\u3057\u304b\u3057Erlang\u306e calender \u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u306f\u3051Time\u3092\u691c\u8a3c\u3059\u308b\u95a2\u6570\u304c\u306a\u3044\n\n\n\u81ea\u524d\u5b9f\u88c5\nErlang \u306e BIF \u306f\u504f\u308a\u304c\u3042\u308b\n\n\n\n\n\n\n\nvalid_datetime({Date, Time}) ->\n    try\n        calender:valid_date(Date) andalso valid_time(Time)\n    catch\n        error:function_clause -> %% \u6b63\u3057\u3044 {{Y,M,D},{H,M,S}} \u3067\u306f\u306a\u3044\n           false\n    end;\nvalid_time({H, M, S}) -> valid_time(H,M,S).\nvalid_time(H, M, S) -> when H >= 0, H < 24,\n                            M >= 0, M < 60,\n                            S >= 0, S < 60 -> true;\nvalid_time(_, _, _) ->false.\n\n%% \u30e1\u30c3\u30bb\u30fc\u30b8\u51e6\u7406\u90e8\u5206\n{Pid, MsgRef, {add, Name, Description, TimeOut}} ->\n    %% TimeOut\u306e\u4ed5\u69d8\u304c\u6b63\u3057\u3044\u304b\n    case valid_datetime(TimeOut) of\n        true ->\n            %% Event\u30d7\u30ed\u30bb\u30b9\u3092\u751f\u6210\u3057 link \u3059\u308b\n            EventPid = event:start_link(Name, TimeOut),\n            NewEvents = orddict:store(Name,\n                                      #event{name=Name,\n                                             description=Description,\n                                             pid=EventPid,\n                                             timeout=TimeOut},\n                                      S#state.events),\n            Pid ! {MsgRef, ok},\n            loop(S#state{events=NewEvents});  % \u72b6\u614b\u66f4\u65b0\n        false ->\n            Pid ! {MsgRef, {error, bad_timeout}},\n            loop(S)\n    end;\n\n\n\u30ad\u30e3\u30f3\u30bb\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u51e6\u7406\n\n{Pid, MsgRef, {cancel, Name}} ->\n    %% Name \u306a\u30a4\u30d9\u30f3\u30c8\u304c\u3042\u308c\u3070\u524a\u9664\u3057\u3001\u306a\u3051\u308c\u3070\u73fe\u5728\u306e\u72b6\u614b\u304c\u305d\u306e\u307e\u307eEvents\u3078\u8fd4\u308b\n    Events = case orddict:find(Name, S#state.events) of\n                 {ok, E} ->\n                     event:cancel(E#event.pid),\n                     orddict:erase(Name, S#state.events);\n                 error ->\n                     S#state.events\n             end,\n    Pid ! {MsgRef, ok},\n    loop(S#state{events=Events});\n\n\n\u30a4\u30d9\u30f3\u30c8\u30d7\u30ed\u30bb\u30b9\u304c\u3001\u30a4\u30d9\u30f3\u30c8\u30b5\u30fc\u30d0\u30fc\u3078\u8fd4\u3059\u30e1\u30c3\u30bb\u30fc\u30b8\n\n\ndone \u30e1\u30c3\u30bb\u30fc\u30b8\n\n\n\nsend_to_clients(Msg, ClientDict) ->\n    orddict:map(fun(_Ref, Pid) -> Pid ! Msg end, ClientDict).\n\n%% ----------\n{doen, Name} ->\n    case orddict:find(Name, S#state.events) of\n        {ok, E} ->\n            send_to_clients({done, E#event.name, E#event.description}, S#state.clients),\n            NewEvents = orddict:erase(Name, S#state.events),\n            loop(S#state{events=NewEvents});\n        error ->\n            %% \u30a4\u30d9\u30f3\u30c8\u306e\u30ad\u30e3\u30f3\u30bb\u30eb\u3068\u540c\u6642\u306b\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u767a\u3059\u308b\u3053\u3068\u304c\u3042\u308b(\u3042\u308a\u3046\u308b)\n            loop(S)\n    end;\n\n\n\u305d\u306e\u4ed6\u8af8\u3005\u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u30e1\u30c3\u30bb\u30fc\u30b8\n\n\n\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\n\u30b3\u30fc\u30c9\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n\u5404\u7a2e\u30b9\u30c6\u30fc\u30bf\u30b9\u30e1\u30c3\u30bb\u30fc\u30b8\n\n\n\nshutdown ->\n    exit(shutdown);\n{'DOWN', Ref, process, _Pid, _Reason} ->\n    loop(S#state{clients=orddict:erase(Ref, S#state.clients)});\ncode_change ->\n    ?MODULE:loop(S);\nUnknown ->\n    io:format(\"Unknown message: ~p~n\", [Unknwon]),\n    loop(S);\n\n\n\u30db\u30c3\u30c8\u30b3\u30fc\u30c9\u30ed\u30fc\u30c6\u30a3\u30f3\u30b0\n\n\u30b3\u30fc\u30c9\u306e\u7121\u505c\u6b62\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n\nErlang\u306e \u30b3\u30fc\u30c9\u30b5\u30fc\u30d0\u30fc \u306a\u308b\u6a5f\u80fd\u3092\u4f7f\u3046\n\nETS\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u95a2\u3057\u3066\u3044\u308bVM\u30d7\u30ed\u30bb\u30b9\n\n\n\u30e1\u30e2\u30ea\u4e0a\u3067\uff11\u3064\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e2\u3064\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4fdd\u6301\n\n\n\u4e21\u65b9\u3092\u5b9f\u884c\u3067\u304d\u308b\n\n\n\nc(Mod), l(Mod), code: \u306a\u3069\u3067\u30ed\u30fc\u30c9\u3059\u308b\u3068\u3001\u81ea\u52d5\u3067\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u30ed\u30fc\u30c9\u3055\u308c\u308b\n\n\n\n\n\nErlang \u306e\u95a2\u6570\u547c\u3073\u51fa\u3057\u65b9\u6cd5\n\n\u30ed\u30fc\u30ab\u30eb\u547c\u3073\u51fa\u3057\n\n\n\nFunc(Args) \u306a\u547c\u3073\u51fa\u3057\n\n\n\u73fe\u5728\u5b9f\u884c\u4e2d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u5b9f\u884c\u3055\u308c\u308b\n\n\n\n\n\u5916\u90e8\u547c\u3073\u51fa\u3057 (\u5b8c\u5168\u4fee\u98fe\u547c\u3073\u51fa\u3057)\n\n\n\nMod:Func(Args) \u306a\u547c\u3073\u51fa\u3057\n\n\nexport \u3055\u308c\u305f\u3082\u306e\n\n\u5e38\u306b \u30b3\u30fc\u30c9\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u6700\u65b0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u308b\n\u5b8c\u5168\u4fee\u98fe\u547c\u3073\u51fa\u3057\u5185\u306e\u30ed\u30fc\u30ab\u30eb\u547c\u3073\u51fa\u3057\u3055\u308c\u305f\u95a2\u6570\u3082\u6700\u65b0\u7248\u3067\u5b9f\u884c\u3055\u308c\u308b\n\n\n\n\n\u518d\u8d77\u3057\u3066\u3044\u308b\u6642\n\n\n\u5b8c\u5168\u4fee\u98fe\u547c\u3073\u51fa\u3057\u3059\u308b\u3068\u6700\u65b0\u7248\u3092\u30ed\u30fc\u30c9\u3067\u304d\u308b\n\n\n\n?MODULE:loop(S) \u307f\u305f\u3044\u306b\u547c\u3073\u51fa\u305b\u3070\u3088\u3044\n\n\n\n\n\n\n\n%% \u5927\u4f53\u306e\u4ed5\u7d44\u307f\u306f\u4ee5\u4e0b\n-module(hotload).\n-export([server/1, upgrade/1]).\n\nserver(State) ->\n    receive\n        update ->\n            NewState = ?MODULE:upgrade(State),\n            %% \u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u30eb\u30fc\u30d7\u3059\u308b\n            ?MODULE:server(NewState);\n        SomeMessage ->\n            %% \u306a\u306b\u304b\u51e6\u7406\n            server(State)  %% \u540c\u3058\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u307e\u307e\u30eb\u30fc\u30d7\n    end.\n\nupgrade(OldState) ->\n    %% \u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3078\u5bfe\u5fdc\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u72b6\u614b\u3092\u5909\u63db\u3057\u305f\u308a\n\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u96a0\u3059\n\n\u4ed6\u306e\u958b\u767a\u8005\u306b\u4f5c\u3063\u305f\u30b3\u30fc\u30c9\u3084\u30d7\u30ed\u30bb\u30b9\u3067\u4f55\u304b\u51e6\u7406\u3092\u66f8\u3044\u3066\u3082\u3089\u3046\u5834\u5408\n\n\nI/F\u95a2\u6570\u5185\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u96a0\u533f\u3059\u3079\u304d\n\n\n\n%% \u30b5\u30fc\u30d0\u30fc\u306f\u540c\u6642\u306b\u4e00\u3064\u3060\u3051\u8d77\u52d5\u3059\u308b\u3068\u60f3\u5b9a\u3057 register \u3067\u767b\u9332\nstart() ->\n    register(?MODULE, Pid=spawn(?MODULE, init, [])),\n    Pid.\n\nstart_link() ->\n    register(?MODULE, Pid=spawn_link(?MODULE, init, [])),\n    Pid.\n\nterminate() ->\n    ?MODULE ! shutdown.\n\n\n\u3082\u3057\u30b5\u30fc\u30d0\u30fc\u3092\u8907\u6570\u8d77\u52d5\u3059\u308b\u3064\u3082\u308a\u306a\u3089\n\n\nregister \u306e\u4ee3\u308f\u308a\u306b global \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u304a\u3046\n\n\n\ngproc \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3046\u3068\u5c1a\u826f\u3044\u304b\u3082\n\n\n\n\n\n\u305d\u306e\u4ed6\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u62bd\u8c61\u5316\n\n\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u62bd\u8c61\u5316\n\nsubscribe(Pid) ->\n    Ref = erlang:monitor(process, whereis(?MODULE)),\n    ?MODULE ! {self(), Ref, {subscribe, Pid}},\n    reveive\n        {Ref, ok} ->\n            {ok, Ref};\n        {'DOWN', Ref, process, _Pid, Reason} ->\n            {error, Reason}\n    after 5000 ->\n        {error, timeout}\n    end.\n\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u8ffd\u52a0\n\nadd_event(Name, Description, TimeOut) ->\n    Ref = make_ref(),\n    ?MODULE ! {self(), Ref, {add, Name, Description, TimeOut}},\n    receive\n        {Ref, Msg} -> Msg\n        %% \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u53d7\u8a3a\u3059\u308b\u306f\u305a\u306e {error, bad_timeout} \u30e1\u30c3\u30bb\u30fc\u30b8\u3082\u305d\u306e\u307e\u307e\u8ee2\u9001\u3059\u308b\u3053\u3068\u306b\u6ce8\u610f\n        %% \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30af\u30e9\u30c3\u30b7\u30e5\u3055\u305b\u308b\u306a\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f8b\u5916\u51fa\u3059\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u3092\u5148\u306b\u8ffd\u52a0\u3059\u308b\n        %% {Ref, {error, Reason}} -> erlang:error(Reason);\n    after 5000 ->\n        {error, timeout}\n    end.\n\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u30ad\u30e3\u30f3\u30bb\u30eb\n\ncancel(Name) ->\n    Ref = make_ref(),\n    ?MODULE ! {self(), Ref, {cancel, Name}},\n    receive\n        {Ref, ok} -> ok\n    after 5000 ->\n        {error, timeout}\n    end.\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u305f\u3081\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570\n\n%% \u4e00\u5b9a\u671f\u9593\u3059\u3079\u3066\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u84c4\u3048\u308b\nlisten(Delay) ->\n    receive\n        M = {done, _Name, _Description} ->\n            [M | listen(0)]\n        adter Delay * 1000 ->\n            []\n    end.\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30d3\u30eb\u30c9\u3057\u3066\u307f\u308b\n\nEMakefile\n\n\nErlang\u7528\u306eMakefile\nErlang\u9805\u3067Make\u306e\u52d5\u4f5c\u3092\u6307\u5b9a\u3067\u304d\u308b\n\n\n\n%% debug_info\u30d5\u30a1\u30a4\u30eb \u306f\u307e\u305a\u5fc5\u9808\u3060\u3068\u601d\u3063\u3066\u69cb\u308f\u306a\u3044\n{'src/*', [debug_info,\n           {i, \"src\"},  % src \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u30bd\u30fc\u30b9\u691c\u7d22\n           {i, \"include\"},  % include \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u30d8\u30c3\u30c0\u691c\u7d22\n           {outdir, \"ebin\"}]}.  % \u51fa\u529b\u5148\n\n\u3042\u3068\u306f erl -make \u3068\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3066\u3070Make\u304c\u8d70\u308b\n\u6210\u529f\u3057\u305f\u3089 `erl -pa ebin/' \u3068\u691c\u7d22\u30d1\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u5171\u306b\u30b7\u30a7\u30eb\u3092\u8d77\u52d5\u3059\u308c\u3070\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3002\n\u3060\u3044\u305f\u3044\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u52d5\u304f\nevserv:start().  % \u8d77\u52d5\nevserv:subscribe(self())\nevserv:add_event(\"hey\", \"test\", FutureDateTime).\nevserv:listen(5).\nevserv:cancel(\"hey\").\nevserv:add_event(\"hey2\", \"test\", NextFutureDateTiem).\nevent:listen(2000). %  [{done, \"hey2\", \"test}] \u304c\u8fd4\u308b\n\n\n\u76e3\u8996\u3092\u8ffd\u52a0\u3059\u308b\n\n\u76e3\u8996\u3057\u3001\u843d\u3061\u305f\u3089\u81ea\u52d5\u3067\u518d\u8d77\u52d5\u3059\u308b restarter \u3092\u5b9f\u88c5\u3059\u308b\u3079\u304d\n\n-module(sup).\n-export([start/2], start_link/2, init/1, loop/1]).\n\nstart(Mod, Args) ->\n    spawn(?MODULE, init, [{Mod, Args}]).\n\nspawn_link(Mod, Args) ->\n    spawn_link(?MODULE, init, [{Mod, Args}]).\n\ninit({Mod, Args}) ->\n    process_flag(trap_exit, true),\n    loop({Mod, start_link, Args}).\n\nloop({M, F, A}) ->\n    Pid = apply(M, F, A),\n    receive\n        {'EXIT', _From, shutdown} ->\n            %% \u30b9\u30fc\u30d1\u30fc\u30d0\u30a4\u30b6\u304c\u6b7b\u306c\u3068\u76e3\u8996\u5bfe\u8c61\u3082\u6b7b\u306c\n            exit(shutdown);  % \u5b50\u30d7\u30ed\u30bb\u30b9\u3082\u540c\u69d8\u306b\u6bba\u3059\n        {'EXIT', Pid, Reason} ->\n            io:format(\"Process ~p exited for reason ~p~n\", [Pid, Reason]),\n            loop({M, F, A})\n    end.\n\n\u3060\u3044\u305f\u3044\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u52d5\u304f\nSubPid = sup:start(evserv, []).  % \u30b9\u30fc\u30d1\u30fc\u30d0\u30a4\u30b6\u7d4c\u7531\u3067\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u3092\u52d5\u304b\u3059\nexit(whereis(evserv), die).  % -> Process <0.44.0> exited for reason die\nwhereis(evserv)  % -> \u518d\u8d77\u52d5\u3057\u3066\u308b\u306e\u3067 Pid \u304c\u8fd4\u308b\nexit(SupPid, shutdown).  % \u30b9\u30fc\u30d1\u30fc\u30d0\u30a4\u30b6\u3092\u6b62\u3081\u308b\nwhereis(evserv).  % -> undefined \u304c\u8fd4\u308b\n\n\n\u540d\u524d\u7a7a\u9593\n\nErlang \u306f\u30d5\u30e9\u30c3\u30c8\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u69cb\u9020\n\n\n\u968e\u5c64\u304c\u306a\u3044\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u885d\u7a81\u304c\u8d77\u304d\u308b\n\nuser \u307f\u305f\u3044\u306a\u3042\u308a\u304c\u3061\u306a\u540d\u524d\u3068\u304b\n\n\n\n\ncode:clash/0 \u3067\u30c6\u30b9\u30c8\u3067\u304d\u308b\n\n\u3053\u306e\u3088\u3046\u306a\u7406\u7531\u304b\u3089\u3001Erlang\u3067\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u63a5\u982d\u8f9e\u306b\u3064\u3051\u308b\u6163\u7fd2\u304c\u3042\u308b\n\nreminder_evserv\nreminder_sup\nreminder_event  \u306a\u3069\n\n\n\u3068\u306b\u304b\u304f\u540d\u524d\u7a7a\u9593\u306b\u306f\u6ce8\u610f\u3057\u307e\u3057\u3087\u3046\n\n\n## \u3059\u3054\u3044Erlang\u3086\u304b\u3044\u306b\u5b66\u307c\u3046\uff01\n\u8cb7\u3044\u307e\u3057\u3087\u3046\u3002\n![](http://estore.ohmsha.co.jp/images/covers/978427406912P.gif)\n\n----\n\n## \u7b2c10\u7ae0 \u4e26\u884c\u6027\u3068\u306f\n**\u4e26\u884c** \u3068 **\u4e26\u5217** \u3092\u533a\u5225\u3057\u307e\u3057\u3087\u3046\u3002\n\n1. \u4e26\u884c\n   - concurrency\n   - \u8907\u6570\u306e\u30a2\u30af\u30bf\u30fc\u304c **\u72ec\u7acb** \u3057\u3066\u52d5\u3044\u3066\u3044\u308b\u3053\u3068\n1. \u4e26\u5217\n   - parallelism\n   - \u305f\u304f\u3055\u3093\u306e\u30a2\u30af\u30bf\u30fc\u3092 **\u540c\u6642** \u306b\u52d5\u304b\u3059\u3053\u3068\n\n### \u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u306b\u3064\u3044\u3066\n\u307e\u305a\u3001Erlang \u306fGPU\u304c\u884c\u3046\u3088\u3046\u306a\u6570\u5024\u51e6\u7406\u306b\u95a2\u3057\u3066\u306f\u5411\u304b\u306a\u3044\u3002\nErlang \u304c\u5f97\u610f\u3068\u3059\u308b\u9818\u57df\u306f\u3001\u6570\u5024\u51e6\u7406\u306e\u3088\u3046\u306a\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306a\u554f\u984c\u3067\u306f\u306a\u304f\u3001\u30b9\u30a4\u30c3\u30c1\u30f3\u30b0\u3060\u3068\u304b\u30a6\u30a7\u30d6\u306e\u30af\u30ed\u30fc\u30ea\u30f3\u30b0\u306a\u3069\u3001\u8ad6\u7406\u7684\u306b\u9ad8\u5ea6\u306a\u968e\u5c64\u3067\u306e\u5206\u91ce\u3002\n\n#### \u3059\u3079\u3066\u304c\u7dda\u5f62\u30b9\u30b1\u30fc\u30eb\u3059\u308b\u308f\u3051\u3067\u306f\u306a\u3044\n- **\u4e26\u5217\u5316\u3057\u3066\u3082\u3001\u76f4\u5217\u64cd\u4f5c\u3067\u4e00\u756a\u9045\u3044\u3082\u306e\u3088\u308a\u306f\u306f\u65e9\u304f\u306a\u3089\u306a\u3044**\n   - \u76f4\u5217\u64cd\u4f5c\u304c\u3072\u3068\u3064\u3067\u3082\u3042\u308b\u3068\u30b9\u30d4\u30fc\u30c9\u3067\u306a\u3044\u3068\u3044\u3046\u3053\u3068\n   - \u4f8b\u3048\u3070\u3001\u51e6\u7406\u4e2d\u306b\u4f55\u3089\u304b\u306e\u5f85\u3061\u884c\u5217\u51e6\u7406\u304c\u3042\u308b\u3068\u3001\u305d\u306e\u5f85\u3061\u6642\u9593\u3088\u308a\u77ed\u304f\u306a\u308b\u3053\u3068\u306f\u306a\u3044\n\n#### \u30a2\u30e0\u30c0\u30fc\u30eb\u306e\u6cd5\u5247\n- \u30b7\u30b9\u30c6\u30e0\u3092\u4e26\u5217\u5316\u3057\u305f\u3068\u304d\u306b\u3001\u3069\u308c\u304f\u3089\u3044\u65e9\u304f\u306a\u308b\u304b\n   - _\u3069\u308c\u304f\u3089\u3044\u4e26\u5217\u5316\u3057\u305f\u306e\u304b_\n\u3092\u8868\u3059\u6cd5\u5247\n\n- 50% \u306e\u4e26\u5217\u5316\u30672\u500d\u3061\u3087\u3044\u65e9\u304f\u306a\u308b\n- 85% \u306e\u4e26\u5217\u5316\u3067\u6700\u592720\u500d\u304f\u3089\u3044\u65e9\u304f\u306a\u308b\n\n- \u306a\u304a\u3001\u76f4\u5217\u64cd\u4f5c\u304c\u591a\u3044\u51e6\u7406\u3092\u30de\u30eb\u30c1\u30b3\u30a2\u3067\u5206\u6563\u3059\u308b\u3068\u304b\u3048\u3063\u3066\u9045\u304f\u306a\u308b\u306e\u3067\u6ce8\u610f\n   - \u8ca0\u8377\u5206\u6563\u306e\u305f\u3081\u306e\u51e6\u7406\u304c\u9006\u306b\u9045\u304f\u306a\u308b\n   - Erlang \u3067\u306f `smp` \u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308b\u306e\u3067\u8abf\u3079\u308b\u3068\u826f\u3044\u3002\n\n#### Erlang \u306e\u30d7\u30ed\u30bb\u30b9\n- Erlang \u30d7\u30ed\u30bb\u30b9 = **\u95a2\u6570**\n   - \u30d7\u30ed\u30bb\u30b9\u306f\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\n   - \u5b9f\u884c\u7d42\u4e86\u5f8c\u6d88\u3048\u308b\n   - \u53d7\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092 **\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9** \u306b\u4fdd\u5b58\u3059\u308b\n      - **\u72b6\u614b\u3092\u6301\u3064**\n      - \u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u5230\u7740\u3057\u305f\u9806\u306b\u4fdd\u5b58\u3059\u308b\n\n```erlang\n%% \u3053\u306e\u4f8b\u306f\u95a2\u6570\u306e\u5b9f\u884c\u7d50\u679c (2) \u304c\u51fa\u529b\u3055\u308c\u306a\u3044.\n%% \u306a\u305c\u306a\u3089 **\u30d7\u30ed\u30bb\u30b9** \u304c\u4f55\u3082\u8fd4\u3055\u306a\u3044\u304b\u3089\nF = fun() -> 1 + 1 end.\nspanw(F).  % <0.44.0> \n```\n\n- `spawn` \u3067\u30d7\u30ed\u30bb\u30b9\u3092\u751f\u6210\n- \u8fd4\u308a\u5024\u306f **\u30d7\u30ed\u30bb\u30b9ID**\n\n```erlang\n%% \u4ee5\u4e0b\u306e\u4f8b\u306f10\u500b\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u4e26\u5217\u5b9f\u884c\n%% io:format \u306e 1\uff5e10 \u306e\u9806\u756a\u306f\u4fdd\u8a3c\u3055\u308c\u306a\u3044\nG = fun(X) -> timer:sleep(10), io:format(\"~p~n\", [X]) end.\n[spawn(fun() -> G(X) end) || X <- lists:seq(10)].\n```\n\n#### \u30b7\u30a7\u30eb\u3082\u30d7\u30ed\u30bb\u30b9\n\n```erlang\n%% \u30b7\u30a7\u30eb\u3067\u4ee5\u4e0b\u5b9f\u884c\u3059\u308c\u3070\u308f\u304b\u308b\nself().  % \u30b7\u30a7\u30eb\u81ea\u8eab\u306e Pid \u53d6\u5f97\nexit(self()).  %% \u7d42\u4e86\nself().  % Pid \u304c\u5909\u308f\u3063\u3066\u308b\u306f\u305a\n```\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u9001\u4fe1\n\n```erlang\nself() ! hello. % \u8fd4\u308a\u5024\u306f 'hello'\nself() ! self() ! hello  % \u8907\u6570\u306e\u30d7\u30ed\u30bb\u30b9\u306b 'hello' \u3092\u9001\u4fe1\nself() ! (self() ! hello).  % \u4e0a\u3068\u7b49\u4fa1\nflush()  % \u53d7\u3051\u53d6\u3063\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u304b\u3089\u53d6\u5f97\n```\n\n#### \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u53d7\u4fe1\n\u9001\u3089\u308c\u3066\u304d\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u3051\u53d6\u308a\u305f\u3044\uff01\n\n- **receive** \u3092\u4f7f\u3046\n   - case ... of \u306f\u5f0f\u3092\u66f8\u304f\n   - receive \u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5909\u6570\u306b\u675f\u7e1b\u3059\u308b\n      - \u30ac\u30fc\u30c9\u5f0f\u3082\u4f7f\u3048\u308b\n\n```erlang\n%% \u30a4\u30eb\u30ab(\u30d7\u30ed\u30bb\u30b9)\u3068\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u53d6\u308b\n-module(dolphins).\n-compile(export_all).\n\ndolphine() ->\n    receive\n        do_a_flip -> io:format(\"How about no?~m\");\n        fish -> io:format(\"So long and thanks for all the fish!~n\");\n        _ -> io:format(\"Heh, we're smarter than you humans.~n\")\n    end.\n```\n\n\n\u4e0a\u8a18\u306e\u30a4\u30eb\u30ab\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30b7\u30a7\u30eb\u3067\u8a66\u3059\n\n```erlang\nc(dolphin).\nDolphin = spawn(dolphins, dolphin1, []).\nDolphin ! \"hello, dolphin\".  % Heh, we're smarter than you humans.\n```\n\n#### \u30d7\u30ed\u30bb\u30b9\u304b\u3089\u8fd4\u308a\u5024\u3092\u53d7\u3051\u53d6\u308b\n- \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u9001\u4fe1\u5143\u306e Pid \u3092 receive \u5074\u3067\u53d7\u3051\u53d6\u308a\u3001\u305d\u306e Pid \u3078\u5411\u304b\u3063\u3066\u7d50\u679c\u3092 `! (send)` \u3059\u308c\u3070\u3088\u3044\u3002\n   - \u5f53\u7136\u3001\u9001\u4fe1\u5074\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u4e00\u7dd2\u306b\u81ea\u5206\u306e Pid \u3082\u9001\u4fe1\u3059\u308b\n\n```erlang\n%% From \u306b\u306f Pid \u304c\u5165\u3063\u3066\u308b\ndolphin2() ->\n    receive\n        {From, do_a_flip}} ->\n            From ! \"How about no?\";\n        {From, fish} ->\n            From ! \"So long and thanks than you humans.\";\n        _ ->\n            io:format(\"Heh, we're sumarter than you humans.~n\")\n    end.\n```\n\n\u4f7f\u7528\u4f8b\n\n```erlang\nc(dolphin2).\nDolphin2 = spawn(dolphins, dolphin2, []).\nDolphin2 ! {self(), do_a_flip}.\n%% \u76f8\u624b\u5074\u3082 send \u3057\u3066\u304f\u308b\u306e\u3067\u3001\u81ea\u5206\u306e\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u3092\u78ba\u8a8d\u3057\u306a\u3044\u3068\u8fd4\u308a\u5024\u304c\u53d6\u5f97\u3067\u304d\u306a\u3044\nflush().  % Shell got \"How about no?\"\nok\n```\n\n  \n- receive \u306e\u4e2d\u3067\u518d\u8d77\u3059\u308c\u3070\u3001\u8907\u6570\u56de\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u3052\u308c\u308b  \n\n```erlang\ndolphin3() ->\n    receive\n        {From, do_a_flip} ->\n            From ! \"How about no?\",\n            dolphin3();\n        {From, fish} ->\n            %% \u518d\u8d77\u306e\u7d42\u4e86\n            From ! \"So long and thanks for all the fish!\";\n        _ ->\n            io:format(\"Heh, we're smarter than you humans.~n\"),\n            dolphin3()\n    end.\n```\n\n## \u7b2c11\u7ae0 \u30de\u30eb\u30c1\u30d7\u30ed\u30bb\u30b9\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\n- \u95a2\u6570\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u3060\u3051\u3067\u306f\u3001\u30a2\u30af\u30bf\u30fc\u3092\u4f7f\u3044\u3053\u306a\u305b\u306a\u3044\n   - \u30d7\u30ed\u30bb\u30b9\u306e\u72b6\u614b\u3092\u4fdd\u6301\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n\n### \u72b6\u614b\u3092\u6301\u3064\u30d7\u30ed\u30bb\u30b9\u3092\u4f5c\u3063\u3066\u307f\u308b\n- \u51b7\u8535\u5eab\u3092\u4f8b\u3068\u3059\u308b\n   - \u6709\u9650\u500b\u306e\u98df\u3079\u7269\u3092\u4fdd\u5b58\u3057\u305f\u308a\u53d6\u308a\u51fa\u3057\u305f\u308a\u3059\u308b\n\n1. \u6700\u521d\u306e\u4f8b\n   - \u307e\u3060\u4fdd\u5b58\u3082\u53d6\u308a\u51fa\u3057\u3082\u672a\u5b9f\u88c5\n\n```erlang\n-module(kitchen).\n-compile(export_all).\n\nfridge1() ->\n    receive\n        %% \u4fdd\u5b58\u51e6\u7406 ok \u8fd4\u3059\u3060\u3051\n        {From, {store, _Food}} ->\n             From ! {self(), ok},\n             fridge1();\n        %% \u53d6\u308a\u51fa\u3057\u51e6\u7406 \u672a\u5b9f\u88c5\n        {From, {take, _Food}} ->\n            From ! {self(), not_found},\n            fridfe1();\n        terminate ->\n            ok\n    end.\n```\n\n**\u95a2\u6570\u306b\u72b6\u614b\u3092\u8ffd\u52a0\u3059\u308b**\n\n- \u518d\u8d77\u3092\u4f7f\u3063\u3066\u3001\u547c\u3073\u51fa\u3057\u6642\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u95a2\u6570\u306e\u72b6\u614b\u3092\u4fdd\u5b58\u3055\u305b\u308b\n   - \u95a2\u6570\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u30a2\u30ad\u30e5\u30e0\u30ec\u30fc\u30bf\n   - \u30ea\u30b9\u30c8\u3092\u4f7f\u3063\u3066\u307f\u308b\n\n```erlang\n%% FoodList \u306f\u98df\u3079\u7269\u3092\u683c\u7d0d\u3059\u308b\u30ea\u30b9\u30c8\nfridge2(FoodList) ->\n    receive\n        {From, {store, Food}} ->\n            From ! {self(), ok},\n            fridge2([Food|FoodList]);\n        {From, {take, Food}} ->\n            case lists:member(Food, FoodList) of\n                true ->\n                    From ! {self(), {ok, Food}},\n                    fridge2(lists:delete(Food, FoodList));\n                false ->\n                    From ! {self(), not_found},\n                    fridge2(FoodList)\n            end;\n        terminate ->\n            ok\n    end.\n```\n\n**\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u9001\u53d7\u4fe1\u95a2\u6570\u3092\u96a0\u853d\u5316\u3057\u305f\u3044**\n\n- \u5b9f\u88c5\u3057\u305f\u95a2\u6570\u3054\u3068\u306b\u72ec\u81ea\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u899a\u3048\u308b\u306e\u306f\u30c0\u30eb\u3044\n   - \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u53d7\u4fe1\u3059\u308b\u95a2\u6570\u3092\u4f5c\u308b\n   - \u3064\u3044\u3067\u306b\u30d7\u30ed\u30bb\u30b9\u3092 spawn \u3059\u308b\u95a2\u6570\u3082\u4f5c\u308b\n\n```erlang\nstore(Pid, Food) ->\n    Pid ! {self(), {store, Food}},\n    receive\n        {Pid, Msg} -> Msg\n    end.\n\ntake(Pid, Food) ->\n    Pid ! {self(), {take, Food}},\n    receive\n        {Pid, Msg} -> Msg\n    end.\n\nstart(FoodList) ->\n    spawn(?MODULE, fridge2, [FoodList]).\n```\n\n### \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\n- \u30d7\u30ed\u30bb\u30b9\u304b\u3089\u306e\u5fdc\u7b54\u304c\u5e30\u3063\u3066\u3053\u306a\u3044\u3053\u3068\u304c\u3042\u308b\u3002\n   - **\u30c7\u30c3\u30c9\u30ed\u30c3\u30af**\u304c\u767a\u751f\u3057\u3046\u308b\n\n- `pid(A,B,C)` \u3068\u3044\u3046BIF\u3092\u3064\u304b\u3046\u3068\u3001A.B,C\u306a Pid \u3092\u751f\u6210\u3067\u304d\u308b\u306e\u3067\u8a66\u3057\u3066\u307f\u308b\u3002\n\n```erlang\n% \u9069\u5f53\u306aPid\u3092\u5f85\u3061\u53d7\u3051\u308b\u3068\u30b7\u30a7\u30eb\u304c\u56fa\u307e\u308b...\nkitchen:take(pid(0, 250, 0), dog).\n```\n\n#### after\u7bc0\n\n- \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3059\u308b\u6642\u9593\u3092\u8a2d\u5b9a\u3067\u304d\u308b\n\n```erlang\n%% 3\u79d2\u307e\u3063\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6765\u306a\u304b\u3063\u305f\u3089 timeout\nstart2(Pid, Food) ->\n    Pid ! {self(), {store, Food}},\n    receive\n        {Pid, Msg} -> Msg\n    after 3000 ->\n        timeout\n    end.\n\ntake2(Pid, Food) ->\n    Pid ! {self(), {take, Food}},\n    receive\n        {Pid, Msg} -> Msg\n    after 3000 ->\n        timeout\n    end.\n```\n\n- after \u3092\u5229\u7528\u3057\u3066 sleep \u3092\u5b9f\u88c5\u3067\u304d\u308b\n\n```erlang\n%% \u5fc5\u305a T\u79d2\u5f85\u3064\u3002\nsleep(T) ->\n    receive\n    after T -> ok\n    end.\n```\n\n### \u9078\u629e\u7684\u53d7\u4fe1\n- \u53d7\u3051\u53d6\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u512a\u5148\u9806\u4f4d\u3092\u3064\u3051\u308b\u3053\u3068\n   - **\u30d5\u30e9\u30c3\u30b7\u30e5** \u3068\u3044\u3046\u6982\u5ff5\u3067\u3001\u9078\u629e\u53d7\u4fe1\u3092\u5b9f\u88c5\u3067\u304d\u308b\n\n```erlang\n%% Priority \u304c 10\u672a\u6e80\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306f normal \u3078\u53d7\u3051\u6d41\u3057\u3066 receive \u3055\u305b\u308b\n%% important \u304b\u3089 normal \u306e\u9806\u306a\u306e\u3067\u3001`\u9078\u629e\u7684\u53d7\u4fe1` \u306b\u3088\u3063\u3066 10\u4ee5\u4e0a\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u5148\u306b\u304f\u308b\nimportant() ->\n    receive\n        {Priority, Message} when Priority > 10 ->\n            [Message | important()]\n        after 0 ->\n            normal()\n        end.\n\nnormal() ->\n    receive\n        {_, Message} ->\n            [Message | normal()]\n    after 0 ->\n        []\n    end.\n```\n\n#### \u9078\u629e\u7684\u53d7\u4fe1\u306e\u7f60\n- \u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u3001\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u3055\u308c\u308b\u307e\u3067\u30d7\u30ed\u30bb\u30b9\u5185\u306e\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u308b\n   - \u9001\u4fe1\u5143\u304c\u6b7b\u3093\u3067\u3082\u4fdd\u5b58\u3055\u308c\u308b\n   - receive \u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u3051\u53d6\u308b\u305f\u3073\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u5185\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u3059\u3079\u3066\u30c1\u30a7\u30c3\u30af\u3059\u308b\n      - \u53e4\u3044\u3082\u306e(\u53d7\u4fe1\u3057\u305f)\u9806\u306b\u30c1\u30a7\u30c3\u30af\u3059\u308b\n      - \u30de\u30c3\u30c1\u3057\u306a\u304b\u3063\u305f\u3089\u6b21\u3078.. \u3092\u7e70\u308a\u8fd4\u3057\u3001\u30de\u30c3\u30c1\u3057\u305f\u3082\u306e\u306f\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u304b\u3089\u524a\u9664\u3055\u308c\u308b\n      - **\u3042\u3068\u3067\u51e6\u7406\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u7121\u8996\u3059\u308b** \u3053\u3068\u304c\u9078\u629e\u7684\u53d7\u4fe1\u306e\u672c\u8cea\u7684\u306a\u52d5\u4f5c\n- \u3088\u3063\u3066\u3001\u30d7\u30ed\u30bb\u30b9\u5185\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6e9c\u307e\u308a\u904e\u304e\u308b\u3068\u52d5\u4f5c\u304c\u9045\u304f\u306a\u308b\n   - \u9078\u629e\u7684\u53d7\u4fe1\u306b\u3088\u3063\u3066\u3001 **\u3042\u3068\u3067\u51e6\u7406\u3059\u308b** \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u591a\u304f\u306a\u308b\n   - receive \u306e\u305f\u3073\u306b\u3001\u305d\u308c\u3089\u5168\u90e8\u306b\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u304c\u8d70\u308b\n      - \u3082\u3057 **\u3042\u3068\u3067\u51e6\u7406\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8** \u304c\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u5185\u306b 1000\u500b\u3042\u3063\u305f\u3089\u30fb\u30fb\uff1f\n\n- \u305d\u3093\u306a\u3068\u304d\u306f\n   - \u30e1\u30c3\u30bb\u30fc\u30b8\u5f62\u5f0f\u306f\u6b63\u3057\u3044\uff1f\n   - \u305d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u672c\u5f53\u306b\u5fc5\u8981\uff1f\n   - \u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u306e\u5b9a\u7fa9\u9593\u9055\u3063\u3066\u306a\u3044\uff1f\n   - \u53d7\u4fe1\u30d7\u30ed\u30bb\u30b91\u500b\u3060\u3051\u3067\u3044\u3044\u306e\uff1f\n      - \u3068\u304b\u8003\u3048\u308b\u3068\u3044\u3044\u304b\u3082\u3002\n\n#### \u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u306e\u7f60\n- \u4e88\u671f\u305b\u306c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u691c\u77e5\u3057\u8b66\u544a\u3092\u51fa\u3055\u305b\u308b\u3053\u3068\u304c\u3042\u308b\n\n```erlang\n%% \u4e88\u60f3\u3055\u308c\u3046\u308b\u3059\u3079\u3066\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\nreceive\n    hoge -> \"hoge!\";\n    fuga -> \"fuga!\";\n    piyo -> \"piyo!\"\n    %% \u4e88\u671f\u305b\u306c\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u306f\u8b66\u544a\n    Unexpected ->\n        io:format(\"unexpected message ~p~n\", [Unexpected])\nend.\n```\n\n----\n\n## \u7b2c12\u7ae0 \u30a8\u30e9\u30fc\u3068\u30d7\u30ed\u30bb\u30b9\n`try ... catch`\n\n### \u4f8b\u5916\u51e6\u7406\u306e\u554f\u984c\u70b9\n- \u3059\u3079\u3066\u306e\u968e\u5c64\u3067\u666e\u901a\u3067\u306f\u306a\u3044\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n   - (\u6b63\u5e38\u52d5\u4f5c\u3068\u306f\u7570\u306a\u308b\u30d5\u30ed\u30fc\u3068\u3044\u3046\u3053\u3068\uff1f)\n- \u307e\u305f\u306f\u3088\u308a\u4e0a\u4f4d\u5c64\u306b\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u79fb\u8b72\u3059\u308b\n   - `try ... catch` \u5730\u7344\u304c\u5f85\u3063\u3066\u3044\u308b\u30fb\u30fb\n   - python \u3067\u4f55\u3082\u8003\u3048\u305a `try .. except Exception:` \u3068\u304b\u3084\u3063\u3061\u3083\u3063\u3066\u5168\u90e8\u306e\u30a8\u30e9\u30fc\u96a0\u853d\u3057\u3066\u5730\u7344\u898b\u308b\u306e\u3068\u4f3c\u3066\u308b\n- \u3057\u304b\u3057\u30fb\u30fb\n   - **Erlang\u306f\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u5225\u306e\u4e26\u884c\u30d7\u30ed\u30bb\u30b9\u3078\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u8ffd\u3044\u51fa\u305b\u308b**\n   - \u901a\u5e38\u306e\u30b3\u30fc\u30c9\u306f\u3001\u4e0a\u624b\u304f\u884c\u3063\u305f\u5834\u5408\u306e\u307f\u3092\u5b9f\u88c5\u3067\u304d\u308b\n      - \u30b3\u30fc\u30c9\u304c\u30af\u30ea\u30fc\u30f3\u306b\u4fdd\u3066\u308b\n      - \u6b63\u5e38\u7cfb\u3068\u7570\u5e38\u7cfb\u306e\u5b9f\u88c5\u3092\u7dba\u9e97\u306b\u5206\u3051\u3089\u308c\u308b\u3068\u3044\u3046\u3053\u3068\u304b(?)\n- Erlang\u306e\u4e26\u884c\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u5b9f\u73fe\u3059\u308b\u30c4\u30fc\u30eb\u306f\n   1. \u30ea\u30f3\u30af\n   1. \u30e2\u30cb\u30bf\u30fc\n   1. \u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\n\n### 1. \u30ea\u30f3\u30af\n- 2\u3064\u306e\u30d7\u30ed\u30bb\u30b9\u9593\u306e\u7279\u6b8a\u306a\u95a2\u4fc2\n   - \u30d7\u30ed\u30bb\u30b9\u306e\u751f\u6b7b\u3092\u5171\u306b\u3059\u308b\u904b\u547d\u5171\u540c\u4f53\n   - \u4e88\u671f\u305b\u306c throw, error, exit\u3057\u305f\u3068\u304d\u3001\u30ea\u30f3\u30af\u3055\u308c\u305f\u65b9\u3082\u6b7b\u306c\n- \u30a8\u30e9\u30fc\u3092\u6b62\u3081\u308b\u305f\u3081\u306b\u53ef\u80fd\u306a\u9650\u308a\u65e9\u304f\u5931\u6557\u3055\u305b\u308b\n   - \u3053\u308c\u306f\u6709\u76ca\u306a\u6982\u5ff5\n   - \u30a8\u30e9\u30fc\u306e\u4f9d\u5b58\u5148\u3092\u6b62\u3081\u308b\n      - \u30d7\u30ed\u30bb\u30b9\u3092\u7d20\u65e9\u304f\u518d\u8d77\u52d5\u3055\u305b\u308b\n\n- `link/1` \u3068 `unlink/1` \u3092\u4f7f\u3046\n   - \u7247\u65b9\u306e\u30d7\u30ed\u30bb\u30b9\u304c\u6b7b\u3093\u3060\u6642\u3001\u539f\u56e0\u3084\u4ed8\u968f\u3059\u308b\u60c5\u5831\u304c\u9001\u3089\u308c\u308b\n      - \u5f62\u5f0f\u306f `{'EXIT', B, Reason}`\n   - \u6b63\u5e38\u306b\u7d42\u4e86\u3057\u305f\u3068\u304d\u306f\u4f55\u3082\u9001\u3089\u308c\u306a\u3044\n\n```erlang\nmyproc() ->\n    timer:sleep(1000),\n    exit(reason).\n\n%% \u4ee5\u4e0b\u3092\u30b7\u30a7\u30eb\u3067\u64cd\u4f5c\nspawn(fun hoge:myproc/0).  %% \u306a\u306b\u3082\u8d77\u304d\u306a\u3044\nlink(spawn(fun hoge:myproc/0)).  %% 1\u79d2\u5f8c\u306b exception error \u304c\u8d77\u304d\u308b\n\n%% \u30b7\u30a7\u30eb\u304b\u3089\u30d7\u30ed\u30bb\u30b9\u3092\u6bba\u3059\nPid = spawn(fun hoge:myproc/0).\nexit(Pid, reason).\n```\n\n- \u30d7\u30ed\u30bb\u30b9\u9593\u306e\u30ea\u30f3\u30af\u306f\u3001\u4e00\u7dd2\u306b\u6b7b\u306c\u30d7\u30ed\u30bb\u30b9\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u308b\u306e\u306b\u4f7f\u308f\u308c\u308b\u3002\n   - \u4e00\u7dd2\u306b\u6b7b\u3093\u3067\u3082\u308f\u3089\u306a\u3044\u3068\u56f0\u308b\u904b\u547d\u5171\u540c\u4f53\u3092\u5b9a\u7fa9\u3059\u308b\n\n```erlang\n%% \u4e92\u3044\u306b link \u3059\u308bN\u500b\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u751f\u6210\u3059\u308b\n%% chain(0) \u304b\u3089\u306e\u6b7b\u4ea1\u30b7\u30b0\u30ca\u30eb\u304c\u547c\u3073\u51fa\u3057\u5143\u307e\u3067\u4f1d\u64ad\u3057\u3066\u3044\u304f\nchain(0) ->\n    receive\n        _ -> ok.\n    after 2000 ->\n        exit(chain_dies_here)\n    end;\nchain(N) ->\n    Pid = spawn(fun() -> chain(N-1) end),\n    link(Pid),\n    receive\n        _ -> ok\n    end.\n```\n\n#### spawn_link\n- `link(spawn(Func))` \u3068 `link(spawn(M, F, A))`\n   - \u52d5\u4f5c\u306b1\u30b9\u30c6\u30c3\u30d7\u4ee5\u4e0a\u304b\u304b\u308b\n   - link \u3092\u751f\u6210\u3055\u308c\u308b\u524d\u306b\u30af\u30e9\u30c3\u30b7\u30e5\u3059\u308b\u53ef\u80fd\u6027\u3042\u308a\n      - \u4e88\u671f\u305b\u306c\u52d5\u4f5c\u304c\u8d77\u304d\u3046\u308b\n\n- `spawn_link/1-3` \u3068\u3044\u3046BIF\u304c\u3042\u308b\n   - \u30d7\u30ed\u30bb\u30b9\u306e\u751f\u6210\u3068\u30ea\u30f3\u30af\u3092\u540c\u6642\u306b\u3059\u308b\n   - \u30a2\u30c8\u30df\u30c3\u30af\u306b\u51e6\u7406\u3059\u308b\n      - \u5931\u6557\u304b\u6210\u529f\u304b\u3057\u304b\u306a\u3044\n   - \u4e00\u822c\u7684\u306b\u306f\u3053\u3063\u3061\u306e\u95a2\u6570\u306e\u307b\u3046\u304c\u5b89\u5168\n\n### \u30a8\u30e9\u30fc\u30b7\u30b0\u30ca\u30eb\n- \u30d7\u30ed\u30bb\u30b9\u3092\u8d85\u3048\u305f\u30a8\u30e9\u30fc\u306e\u4f1d\u642c\n   - \u30e1\u30c3\u30bb\u30fc\u30b8\u30d1\u30c3\u30b7\u30f3\u30b0\u3068\u540c\u69d8\u306b\u30d7\u30ed\u30bb\u30b9\u9593\u3067\u884c\u308f\u308c\u308b\n   - **\u30b7\u30b0\u30ca\u30eb** \u3068\u3044\u3046\u7279\u5225\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4f7f\u3046\n      - \u30d7\u30ed\u30bb\u30b9\u4e0a\u3067\u81ea\u52d5\u7684\u306b\u52d5\u4f5c\u3057\u3066\u3001\u305d\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u6bba\u3059\n\n- \u3069\u3046\u3084\u3063\u3066\u518d\u8d77\u52d5\u3055\u305b\u308b\u304b\n   - \u4fe1\u983c\u6027\u306e\u305f\u3081\u3001\u7d20\u65e9\u3044\u7d42\u4e86\u3068\u518d\u8d77\u52d5\u306f\u5fc5\u9808\n   - `link` \u3067\u30d7\u30ed\u30bb\u30b9\u3092\u6bba\u305b\u308b\n      - \u518d\u8d77\u52d5\u306f\u3069\u3046\u3059\u308b\uff1f\n   - \u307e\u305a\u30d7\u30ed\u30bb\u30b9\u304c\u6b7b\u3093\u3060\u304b\u3069\u3046\u304b\u3092\u77e5\u3089\u306a\u3044\u3068\u518d\u8d77\u52d5\u3082\u3067\u304d\u306a\u3044\n      - **\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30bb\u30b9** \u3092\u30ea\u30f3\u30af\u4e0a\u306b\u8ffd\u52a0\u3059\u308c\u3070\u3088\u3044\n\n- \u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30bb\u30b9\u3068\u306f\n   - \u7d42\u4e86\u30b7\u30b0\u30ca\u30eb\u3092\u666e\u901a\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u3057\u3066\u53d7\u3051\u53d6\u308c\u308b\u30d7\u30ed\u30bb\u30b9\u306e\u3053\u3068\n   - `process_flag(trap_exit, true).` \u3092\u4f7f\u3046\n\n```erlang\n% \u30b7\u30a7\u30eb\u3067\u5b9f\u884c\nprocess_flag(trap_exit, true).\nspawn_link(fun() -> hoge:chain(3) end).\nreceive X -> X end.\n{'EXIT', <0.49.0>, \"chain dies here\"}\n```\n\n#### \u4f8b\u5916\u306e\u7a2e\u985e\n- `spawn_link` \u3084 `exit/2` \u3067\u5927\u6982\u306e\u4f8b\u5916\u306f\u88dc\u8db3\u3067\u304d\u308b\n- \u88dc\u8db3\u3055\u305b\u305a\u3001\u7121\u7406\u3084\u308a Kill \u3057\u305f\u3044\u6642\u3082\u3042\u308b\u3002\n   - `kill` \u30b7\u30b0\u30ca\u30eb\u3092\u9001\u308b\n      - \u30d7\u30ed\u30bb\u30b9\u3092\u6bba\u3059\u6700\u7d42\u624b\u6bb5\n      - \u6c7a\u3057\u3066\u88dc\u8db3\u3055\u308c\u306a\u3044\n   - \u30d7\u30ed\u30bb\u30b9\u304c\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u3063\u305f\u3089 `killed` \u306b\u5909\u66f4\u3055\u308c\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\n      - `killed` \u306b\u5909\u66f4\u3055\u308c\u306a\u3044\u3068\u3001\u4ed6\u306e\u30ea\u30f3\u30af\u3055\u308c\u305f\u30d7\u30ed\u30bb\u30b9\u306b\u3082 `kill` \u304c\u4f1d\u64ad\u3059\u308b\n         - \u6b7b\u306e\u9023\u9396\n      - \u4ed6\u306e\u30ea\u30f3\u30af\u3055\u308c\u305f\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u53d7\u3051\u53d6\u3063\u305f `exit(kill)` \u304c `killed` \u306b\u898b\u3048\u308b\u7406\u7531\n         - \u4f1d\u64ad\u3057\u306a\u3044\u3088\u3046\u5909\u308f\u308b\n      - \u30ed\u30fc\u30ab\u30eb\u3067\u88dc\u8db3\u3055\u308c\u305f\u3068\u304d\u306f\u4f9d\u7136\u3068\u3057\u3066 `kill` \u306e\u3088\u3046\u306b\u898b\u3048\u308b\n\n### 2. \u30e2\u30cb\u30bf\u30fc\n- \u30ea\u30f3\u30af\u3055\u308c\u305f\u30d7\u30ed\u30bb\u30b9\u306f\u4e00\u7dd2\u306b\u6b7b\u306c\u904b\u547d\u5171\u540c\u4f53\n   - \u5fc5\u305a\u3057\u3082\u6b7b\u306c\u5fc5\u8981\u306f\u306a\u3044\n   - \u30d7\u30ed\u30bb\u30b9\u3092\u30b9\u30c8\u30fc\u30ad\u30f3\u30b0\u3067\u304d\u308c\u3070\u5145\u5206\u306a\u5834\u5408\u3082\u3042\u308b\n      - **\u30e2\u30cb\u30bf\u30fc**\u3000\u3092\u3064\u304b\u3046\n\n#### \u30e2\u30cb\u30bf\u30fc\u3068\u306f\n- \u4e00\u65b9\u5411\u306e\u76e3\u8996\n- 2\u3064\u306e\u30d7\u30ed\u30bb\u30b9\u9593\u3067\u8907\u6570\u306e\u30e2\u30cb\u30bf\u30fc\u3092\u6301\u3066\u308b\n   - **\u30b9\u30bf\u30c3\u30af**\u304c\u3067\u304d\u3066\u3001\u305d\u308c\u305e\u308c\u306b\u8b58\u5225\u5b50\u3092\u6301\u3064\n   - \u30ea\u30f3\u30af\u306f\u30b9\u30bf\u30c3\u30af\u3057\u306a\u3044\n      - \u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u30ea\u30f3\u30af\u8a2d\u5b9a\u30fb\u524a\u9664\u3092\u3059\u308b\u3068\u304d\u3001\u95a2\u4fc2\u306a\u3044\u30ea\u30f3\u30af\u3092\u5909\u66f4\u3057\u3066\u3057\u307e\u3046\u53ef\u80fd\u6027\n      - \u4e00\u3064\u306e\u30d7\u30ed\u30bb\u30b9\u306b\u8907\u6570\u306e\u30ea\u30f3\u30af\u8a2d\u5b9a\u6642\u3001\u7279\u5b9a\u306e\u30ea\u30f3\u30af\u3060\u3051 `unlink` \u3059\u308b\u3001\u3068\u3044\u3046\u306e\u304c\u3067\u304d\u306a\u3044(?)\n   - \u30e2\u30cb\u30bf\u30fc\u306f\u30b9\u30bf\u30c3\u30af\u3067\u304d\u308b\u4e00\u65b9\u5411\u306e\u30ea\u30f3\u30af\u3001\u307f\u305f\u3044\u306a\u3082\u306e (?) \n   - \u4ed6\u306e\u30d7\u30ed\u30bb\u30b9\u3067\u4f55\u304c\u8d77\u304d\u3066\u3044\u308b\u304b\u3092\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308b\u6642\u306b\u4fbf\u5229\n\n\n#### \u30e2\u30cb\u30bf\u30fc\u3092\u4f7f\u3046\n- \u30e2\u30cb\u30bf\u30fc\u306f `MRef` \u8b58\u5225\u5b50\u3067\u4e00\u610f\u306b\u88dc\u8db3\u3067\u304d\u308b\n   - MRef \u3067\u30e2\u30cb\u30bf\u30fc\u3092\u89e3\u9664\u3067\u304d\u308b\n- \u30e2\u30cb\u30bf\u30fc\u3092\u30b9\u30bf\u30c3\u30af\u3067\u304d\u308b\n   - \u3072\u3068\u3064\u4ee5\u4e0a\u306e\u30e2\u30cb\u30bf\u30fc\u3092\u505c\u6b62\u3067\u304d\u308b\n- \u53c2\u7167\u5148\u304c\u6b7b\u306c\u3068\u3001 `{'DOWN', MRef, process, Pid, Reason}` \u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\n\n```erlang\n1> erlang:monitor(process, spawn(fun() -> timer:sleep(500) end)).\n#Ref<0.0.0.42>\n2> flush().\nShell got {'DOWN',#Ref<0.0.0.42>,process,<0.35.0>,normal}\nok\n```\n\n- `link` \u3068\u540c\u69d8\u306b\u30d7\u30ed\u30bb\u30b9\u306e\u751f\u6210\u3068\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3092\u30a2\u30c8\u30df\u30c3\u30af\u306b\u884c\u3046BIF\u304c\u3042\u308b\n   - \u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u30d7\u30ed\u30bb\u30b9\u304c\u6b7b\u306c\u524d\u306b `demonitor` \u3057\u3066\u308b\n      - \u30d7\u30ed\u30bb\u30b9\u306e\u6b7b\u306b\u3064\u3044\u3066\u8ffd\u8de1\u306f\u3057\u3066\u3044\u306a\u3044\n\n```erlang\n1> {Pid, Ref} = spawn_monitor(fun() -> receive _ -> exit(boom) end end).\n{<0.34.0>,#Ref<0.0.0.26>}\n2> erlang:demonitor(Ref).\ntrue\n3> Pid ! die.\ndie\n4> flush().\nok\n```\n\n- `demonitor/2` \u3082\u3042\u308b\n   - \u30aa\u30d7\u30b7\u30e7\u30f3\u306f2\u3064\n   1. info\n      - \u30e2\u30cb\u30bf\u30fc\u524a\u9664\u6642\u306b\u3001\u30e2\u30cb\u30bf\u30fc\u304c\u5b58\u5728\u3057\u305f\u304b\u3069\u3046\u304b\u3092 true/false \u3067\u8fd4\u3059\n   1. flush\n      - \u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u306b `DOWN` \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u3042\u3063\u305f\u5834\u5408\u306b\u305d\u308c\u3092\u524a\u9664\u3059\u308b\n\n```erlang\n6> {Pid, Ref} = spawn_monitor(fun() -> receive _ -> exit(boom) end end).\n{<0.40.0>,#Ref<0.0.0.47>}\n7> Pid ! die.\ndie\n8> erlang:demonitor(Ref, [flush, info]).\nfalse\n9> flush().\nok\n```\n\n### 3. \u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\n- \u30ea\u30f3\u30af\u3068\u30e2\u30cb\u30bf\u30fc\u3067\u3082\u89e3\u6c7a\u3067\u304d\u3066\u3044\u306a\u3044\u554f\u984c\n   - \u30ea\u30f3\u30af\u5148\u306e\u6b7b\u4ea1\u3092\u691c\u51fa\u3057\u305f\u6642\u306b\u3067\u304d\u308b\u3053\u3068\u306f\u4f55\u304b\uff1f\n\n```erlang\n%% CD\u306e\u8a55\u5224\u3092\u77e5\u308a\u305f\u3044\u306e\u3067\u6279\u8a55\u5bb6(critic) \u3092\u751f\u6210\u3057\u305f\nstart_critic() ->\n    spawn(?MODULE, critic, []).\n\n%% \u6279\u8a55\u5bb6\u306b\u6279\u8a55\u3092\u805e\u304f\njudge(Pid, Band, Album) ->\n    Pid ! {self(), {Band, Album}},\n    receive\n        {Pid, Criticism} -> Criticism\n    after 2000 ->\n        timeout\n    end.\n    \n%% \u6279\u8a55\u5bb6\u3092\u8868\u3059\u95a2\u6570\ncritic() ->\n    receive\n        {From, {\"Rage Against the Turing Machine\", \"Unit Testify\"}} ->\n            From ! {self(), \"They are great!\"};\n        {From, {\"System of a Downtime\", \"Memoize\"}} ->\n            From ! {self(), \"They're not Johnny Crash but they're good.\"};\n        {From, {\"Johnny Crash\", \"The Token RIng of Fire\"}} ->\n            From ! {self(), \"Simply incredible.\"};\n        {From, {_Band, _Album}} ->\n            From ! {self(), \"They are terrible!\"}\n    end,\n    critic().\n```\n\n- \u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306f\u3001\u4f55\u3089\u304b\u306e\u7406\u7531\u3067 `critic` \u304c\u6b7b\u306c\u3068\n   - \u305a\u3063\u3068 timeout \u304c\u8d77\u304d\u308b\n- \u30d7\u30ed\u30bb\u30b9\u3092\u518d\u8d77\u52d5\u3055\u305b\u308b\u30b9\u30fc\u30d1\u30fc\u30d0\u30a4\u30b6\u3092\u5b9f\u88c5\u3059\u308b\uff01\n\n```erlang\nstart_critic2() ->\n    spawn(?MODULE, restarter, []).\n \n%% \u6279\u8a55\u5bb6\u30d7\u30ed\u30bb\u30b9\u3068\u30ea\u30f3\u30af\u3057\u3001\u6b7b\u6d3b\u76e3\u8996\u3092\u3059\u308b\n%% \u6279\u8a55\u5bb6\u304b\u3089\u7d42\u4e86\u30b7\u30b0\u30ca\u30eb\u3092\u53d7\u3051\u53d6\u308a\u3001\u518d\u8d77\u52d5\u3057\u305f\u308a\u3057\u306a\u304b\u3063\u305f\u308a\u3059\u308b\nrestarter() ->\n    process_flag(trap_exit, true),\n    Pid = spawn_link(?MODULE, critic, []),\n    receive\n        {'EXIT', Pid, normal} ->  % \u30af\u30e9\u30c3\u30b7\u30e5\u3067\u306f\u306a\u3044\n            ok;\n        {'EXIT', Pid, shutdown} ->  % \u624b\u52d5\u7d42\u4e86\u3067\u30af\u30e9\u30c3\u30b7\u30e5\u3067\u306f\u306a\u3044\n            ok;\n        {'EXIT', Pid, _} ->\n            restarter()  %% \u6050\u3089\u304f\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u305f\u306e\u3067\u6279\u8a55\u5bb6\u3092\u518d\u751f\u6210\u3059\u308b\n    end.\n```\n\n- \u4e0a\u8a18\u306e\u30bd\u30fc\u30b9\u306e\u554f\u984c\u70b9\n   - `start_critic2` \u3057\u3066\u3082 `Pid` \u3092\u53d6\u5f97\u3067\u304d\u306a\u3044\uff01\n      - Pid\u3092\u77e5\u3089\u306a\u3044\u306e\u3067\u8a55\u4fa1\u306b\u610f\u898b\u3092\u805e\u3051\u306a\u3044 (Send \u3067\u304d\u306a\u3044)\n\n#### \u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\u3092\u4f7f\u3046\n\n```erlang\nrestarter() ->\n    process_flag(trap_exit, true),\n    Pid = spawn_link(?MODULE, critic, []),\n    %% \u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\u306b\u3059\u308b\n    register(critic, Pid),\n    receive\n        {'EXIT', Pid, normal} ->  % \u30af\u30e9\u30c3\u30b7\u30e5\u3067\u306f\u306a\u3044\n            ok;\n        {'EXIT', Pid, shutdown} ->  % \u624b\u52d5\u7d42\u4e86\n            ok;\n        {'EXIT', Pid, _} ->\n            restarter()\n    end.\n    \njudge2(Band, Album) ->\n    %% \u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\u304b\u3089Pid\u3092\u691c\u7d22\n    critic ! {self(), {Band, Album}},\n    Pid = whereis(critic),\n    \n    receive\n        {Pid, Criticism} -> Criticism\n    end.\n```\n\n#### \u30d7\u30ed\u30bb\u30b9\u306e\u7af6\u5408\u72b6\u614b\n\n- \u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306b\u306f\u554f\u984c\u304c\u767a\u751f\u3057\u3046\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\n   - \u305f\u3063\u305f\u4e00\u884c\u3060\u304c\u3001\u3053\u306e\u9593\u306b\u8efd\u91cf\u30d7\u30ed\u30bb\u30b9\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30d1\u30c3\u30b7\u30f3\u30b0\u304c\u8d70\u3063\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\n   - \u7570\u306a\u308b\u30ce\u30fc\u30c9/\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3055\u308c\u305f\u7d50\u679c\u3092\u5f85\u3061\u3051\u3066\u3044\u308b,\u3068\u3044\u3046\u72b6\u6cc1\n\n```\ncritic ! {self(), {Band, Album}},\nPid = whereis(critic),\n```\n\n- critic \u30d7\u30ed\u30bb\u30b9\u304c\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u305f\u3068\u304d\n   - whereis \u304c\u5931\u6557\u3057\u3066\u30af\u30e9\u30c3\u30b7\u30e5\n   - critic \u304c\u518d\u8d77\u52d5\u3057\u3066 Pid \u304c\u5909\u5316\u3057\u305f\u3068\u304d\n      - receive \u304c\u7d76\u5bfe\u306b\u5931\u6557\u3059\u308b\n\n- critic \u30d7\u30ed\u30bb\u30b9\u306f\u3001\u8907\u6570\u306e\u4ed6\u306e\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u53c2\u7167\u3055\u308c\u3066\u3044\u308b\n   - **Share State** \u3068\u547c\u3070\u308c\u308b\u72b6\u6cc1\n      - critic \u30d7\u30ed\u30bb\u30b9\u304c\u4ed6\u306e\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u30a2\u30af\u30bb\u30b9\u30fb\u4fee\u6b63\u53ef\u80fd\u306a\u72b6\u6cc1\n      - \u60c5\u5831\u306e\u4e00\u8cab\u6027\u304c\u5931\u308f\u308c\u3001\u30a8\u30e9\u30fc\u306b\u3064\u306a\u304c\u308a\u304b\u306d\u306a\u3044\n   - **\u7af6\u696d\u72b6\u614b** \u3068\u3082\n      - \u7279\u306b\u5371\u967a\n      - \u767a\u751f\u78ba\u7387\u304c\u305d\u308c\u306a\u308a\u306b\u3042\u308b\n         - \u3042\u3089\u3086\u308b\u4e26\u5217\u8a00\u8a9e\u3001\u4e26\u884c\u8a00\u8a9e\u3067\u8d77\u3053\u308b\n         - \u30d7\u30ed\u30bb\u30c3\u30b5\u306e\u8ca0\u8377\u3084\u30d7\u30ed\u30bb\u30b9\u306e\u65b9\u5411\u3068\u304b\u3001**\u4e88\u671f\u305b\u306c**\u8981\u56e0\u306b\u4f9d\u5b58\u3057\u3066\u308b\u305f\u3081\n\n#### Erlang \u306f\u7af6\u5408\u72b6\u614b\u3068\u7e01\u304c\u306a\u3044\u306e\u304b\uff1f\n- \u591a\u304f\u306e\u5834\u5408\u3067\u306f\u305d\u3046\n   - \u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u3092\u4ecb\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u30d1\u30c3\u30b7\u30f3\u30b0\u306e\u304a\u304b\u3052\n      - \u30a4\u30d9\u30f3\u30c8\u306b\u3042\u308b\u7a2e\u306e\u9806\u5e8f\u304c\u77ef\u6b63\u3055\u308c\u308b\u305f\u3081\n      - Shared State \u304c\u8a00\u8a9e\u306b\u5bc4\u3063\u3066\u53b3\u683c\u306b\u5236\u9650\u3055\u308c\u308b\n   - **Erlang\u30b3\u30fc\u30c9\u304c\u7af6\u5408\u72b6\u614b\u3068\u7121\u7e01\u3060\u3068\u4eee\u5b9a\u3059\u308b\u3079\u304d\u3067\u306f\u306a\u3044**\n\n#### \u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\u306b\u3088\u308b\u7af6\u5408\u72b6\u614b\u3092\u56de\u907f\u3059\u308b\n- \u540d\u524d\u4ed8\u304d\u30d7\u30ed\u30bb\u30b9\u304c\u540c\u3058\u307e\u307e\u306a\u3089\n   - `make_ref` \u3092\u4f7f\u3046\n   - \u5909\u5316\u3057\u3046\u308b Pid \u3067\u306f\u306a\u304f ErlangVM \u304c\u751f\u6210\u3059\u308b\u4e00\u610f\u53c2\u7167\u3092\u8b58\u5225\u5b50\u306b\u3059\u308b\n\n```erlang\njudge2(Band, Album) ->\n    %% \u4e00\u610f\u53c2\u7167\u3092\u53d6\u5f97\n    Ref = make_ref(),\n    critic ! {self(), Ref, {Band, Album}},\n    receive\n        %% Pid \u3067\u306f\u306a\u304f\u4e00\u610f\u53c2\u7167\u304c\u5e30\u3063\u3066\u304d\u3066\u308b\u304b\u3067\u6b63\u3057\u3044\u5fdc\u7b54\u5148\u304b\u3092\u5224\u5225\u3059\u308b\n        {Ref, Criticism} -> Criticism\n    after 2000 ->\n        timeout\n    end.\n\ncritic2() ->\n    receive\n        {From, Ref, {\"Rage Against the Turing Machine\", \"Unit Testify\"}} ->\n            From ! {Ref, \"They are great!\"};\n        {From, Ref, {\"System of a Downtime\", \"Memoize\"}} ->\n            From ! {Ref, \"They're not Johnny Crash but they're good.\"};\n        {From, Ref, {\"Johnny Crash\", \"The Token RIng of Fire\"}} ->\n            From ! {Ref, \"Simply incredible.\"};\n        {From, Ref, {_Band, _Album}} ->\n            From ! {Ref, \"They are terrible!\"}\n    end,\n    critic2().\n```\n\n## \u7b2c13\u7ae0 \u4e26\u884c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u8a08\u3059\u308b\n- \u4e26\u884cErlang \u3067\u5c0f\u3055\u3044\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u66f8\u304f\n   - \u984c\u6750\u306f\u30a4\u30d9\u30f3\u30c8\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\n\n### \u554f\u984c\u3092\u7406\u89e3\u3059\u308b\n1. \u3064\u304f\u308a\u305f\u3044\u3082\u306e\u306f\uff1f\n   - \u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\n1. \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3068\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306f\uff1f\n1. \u6a5f\u80fd\u3092\u3069\u306e\u3088\u3046\u306b\u30d7\u30ed\u30bb\u30b9\u3068\u3044\u3046\u5f62\u306b\u843d\u3068\u3057\u3053\u3080\uff1f\n1. \u9001\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u3069\u3046\u3084\u3063\u3066\u77e5\u308b\uff1f\n\n- **\u4ee5\u4e0a\u3092\u8e0f\u307e\u3048\u4ed5\u69d8\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6c7a\u3081\u308b**\n   1. \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3067\u304d\u308b\n   1. \u30a4\u30d9\u30f3\u30c8\u306b\u306f\u4ee5\u4e0b\u306e\u8981\u7d20\u304c\u3042\u308b\n      - \u7de0\u3081\u5207\u308a(\u8b66\u544a\u6642\u9593)\n      - \u540d\u524d\n      - \u8a73\u7d30\n   1. \u30a4\u30d9\u30f3\u30c8\u306e\u6642\u9593\u304c\u6765\u305f\u3089\u8b66\u544a\u3092\u8868\u793a\n   1. \u540d\u524d\u3092\u6307\u5b9a\u3057\u3066\u30ad\u30e3\u30f3\u30bb\u30eb\u53ef\u80fd\n   1. CUI\u7d4c\u7531\u3067\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u3068\u901a\u4fe1\u3059\u308b\n\n### \u69cb\u6210\u8981\u7d20\n1. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n1. \u30a4\u30d9\u30f3\u30c8\u30b5\u30fc\u30d0\u30fc\n1. \u30a4\u30d9\u30f3\u30c8\u30d7\u30ed\u30bb\u30b9\n\n### \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u57fa\u790e\u69cb\u9020\n- \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\n\n|\u30d5\u30a9\u30eb\u30c0\u540d|\u5f79\u5272|\n|----------|----|\n|ebin/|\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u7f6e\u304d\u5834|\n|include/|\u4ed6\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089include \u3055\u308c\u308b `.hrl` \u7f6e\u304d\u5834|\n|priv/|Erlang\u3068\u3084\u308a\u3068\u308a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb, \u30c9\u30e9\u30a4\u30d0\u306a\u3069|\n|src/|\u3059\u3079\u3066\u306e `.erl` \u7f6e\u304d\u5834, \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u306a `.hrl` \u3082\u3053\u3053|\n\n### \u30a4\u30d9\u30f3\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4f5c\u6210\n- \u73fe\u6642\u70b9\u3067\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306f\u4e0d\u5b8c\u5168\n   - \u5927\u4f53 `{Pid, Ref, Message}` \u3068\u3044\u3046\u5f62\u5f0f\u306b\u306f\u306a\u308b\u3060\u308d\u3046\u3068\n      - **Pid(\u9001\u4fe1\u5143), Ref(\u4e00\u610f\u53c2\u7167) \u306e\u7d44\u307f\u5408\u308f\u305b\u3066\u9001\u53d7\u4fe1\u306e\u95a2\u4fc2\u3092\u7279\u5b9a\u3067\u304d\u308b**\n\n#### \u30a4\u30d9\u30f3\u30d7\u30ed\u30bb\u30b9\u306e\u30e1\u30a4\u30f3\u30eb\u30fc\u30d7\n- \u304a\u304a\u307e\u304b\u306a\u69cb\u9020\u306f\u4ee5\u4e0b\n\n```erlang\n%% \u5909\u6570State\u306b\u30eb\u30fc\u30d7\u306e\u72b6\u614b\u3092\u4fdd\u5b58\nloop(State) ->\n   receive\n       %% \u30a4\u30d9\u30f3\u30c8\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u306e\u30ad\u30e3\u30f3\u30bb\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308c\u308b\u3088\u3046\u306b\u3059\u308b\n       {Server, Ref, cancel} ->\n           event_cancel;\n       %% \u6307\u5b9a\u6642\u9593\u7d4c\u904e\u3057\u305f\u3089\u3001\u671f\u9650\u304c\u6765\u305f\u51e6\u7406\u3092\u3059\u308b\n       after Delay ->\n           event_timelimit\n       end.\n```\n\n- \u3053\u308c\u3092\u8e0f\u307e\u3048\u3001\u30b3\u30fc\u30c9\u306f\u5927\u4f53\u4ee5\u4e0b\n\n```erlang\n-module(event).\n-compile(export_all).  %% \u958b\u767a\u306e\u305f\u3081\n-record(state, {server, name=\"\", to_go=0}).\n\n%% Server \u306b\u306f Pid \u304c\u5165\u3063\u3066\u3044\u308b\nloop(S = #state{server=Server}) ->\n    receive\n        {Server, Ref, cancel} ->\n            Server ! {Ref, ok}\n    after S#state.to_go * 1000 ->\n        Server ! {done, S#state.name}\n    end.\n```\n\n- \u3068\u3053\u308d\u3067\n   - after \u306b\u8a2d\u5b9a\u3067\u304d\u308b\u30df\u30ea\u79d2\u306f\u3001 **50\u65e5** (3600 * 24 * 50) \u307e\u3067\n      - \u4ed5\u69d8\u4e0a\u306e\u5236\u9650\u306a\u306e\u3067\u3057\u304b\u305f\u306a\u3044\n         - \u3057\u304b\u3057\u3053\u308c\u3060\u3068\u3001\u7de0\u3081\u5207\u308a\u30921\u5e74\u5f8c\u3068\u304b\u306b\u8a2d\u5b9a\u3067\u304d\u306a\u3044\n\n```erlang\n%% Erlang \u3067\u306f\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u304c 49\u65e5\u307e\u3067\n%% \u305d\u308c\u4ee5\u4e0a\u306e\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3092\u8a2d\u5b9a\u3057\u305f\u3044\u3068\u304d\n\n%% [4233600, 4233600,...] \u306a\u30ea\u30b9\u30c8\u3092\u751f\u6210\u3057\u3066\u8fd4\u3059\nnormalize(N) ->\n    Limit = 49 * 24 * 60 * 60,\n    [N rem Limit | lists:duplicate(N div Limit, Limit)].\n \nloop(S = #state{server=Server, to_go=[T|Next]}) ->\n    receive\n        {Server, Ref, cancel} ->\n            Server ! {Ref, ok}\n        after T*1000 ->\n            if Next =:= [] ->\n                Server ! {done, S#state.name};\n               Next =/= [] ->\n                loop(S#state{to_go=Next})\n            end\n        end.\n```\n\n#### \u3061\u3087\u3063\u3068\u3057\u305f\u6539\u5584\n- \u7de0\u3081\u5207\u308a\u3092\u79d2\u3067\u6307\u5b9a\u3059\u308b\u306e\u306f\u9762\u5012\n   - Erlang \u306e datetime \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n\n```erlang\ntime_to_go(TiemOut={{_,_,_}, {_,_,_}}) ->\n    Now = calendar:local_time(),\n    ToGo = calendar:datetime_to_greforian_seconds(TimeOut) - calendar:datetime_to_gregorian_seconds(Now),\n    Secs = if ToGo > 0 -> ToGo;\n              ToGo =< 0 -> 0;\n           end,\n    normalize(Secs).\n```\n\n### \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8ffd\u52a0\n- \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5229\u4fbf\u6027\u3092\u4e0a\u3052\u308b\u305f\u3081\u3001\u547c\u3073\u51fa\u3057I/F\u95a2\u6570\u3092\u8ffd\u52a0\u3059\u308b\n- \u4e0a\u8a18loop\u95a2\u6570\u3092\u3046\u307e\u304f\u52d5\u4f5c\u3055\u305b\u308b\u306e\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3092\u521d\u671f\u5316\u3059\u308b\u95a2\u6570\u3092\u66f8\u304f\n\n```erlang\n%% \u7b2c3\u5f15\u6570\u306f init \u306b\u6e21\u3055\u308c\u308b\nstart(EventName, Delay) ->\n    spawn(?MODULE, init, [self(), EventName, Delay]).\n\nstart_link(EventName, Delay) ->\n    spawn_link(?MODULE, init, [self(), EventName, Delay]).\n    \n%% \u30a4\u30d9\u30f3\u30c8\u306e\u5185\u90e8\u51e6\u7406\ninit(Server, EventName, DateTime) ->\n    loop(#state{server=Server, name=EventName, to_go=tiem_to_go(DateTime)}).\n\n%% cancel \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\u7528\u95a2\u6570(I/F) \u3092\u66f8\u304f\ncancel(Pid) ->\n    %% \u30d7\u30ed\u30bb\u30b9\u304c\u65e2\u306b\u6b7b\u3093\u3067\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304a\u304f\u305f\u3081\u306e\u30e2\u30cb\u30bf\u30fc\n    Ref = erlang:monitor(process, Pid),\n    Pid ! {self(), Ref, cancel},\n    receive\n        {Ref, ok} ->\n            erlang:demontor(Ref, [flush]),\n            ok;\n        {'DOWN', Ref, process, Pid, _Reason} ->\n            ok\n    end.\n```\n\n### \u30a4\u30d9\u30f3\u30c8\u30b5\u30fc\u30d0\u30fc\n- \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u5404\u30a4\u30d9\u30f3\u30c8\u30d7\u30ed\u30bb\u30b9\u306e\u4ef2\u4ecb\u8005\n   - \u5927\u4f53\u306e\u6982\u8981\u52d5\u4f5c\u306f\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\n\n```erlang\n-module(evserv).\n-compile(export_all).\n\nloop(State) ->\n    %% \u8fd4\u4fe1\u304c\u5fc5\u8981\u306a\u51e6\u7406\u306f {Pid, Ref, Msg} \u306e\u5f62\u5f0f\n    receive\n        {Pid, MsgRef, {subscribe, Client}} ->\n            %% \u30a4\u30d9\u30f3\u30c8\u306b\u767b\u9332\u3059\u308b\u51e6\u7406\n        {Pid, MsgRef, {add, Name, Description, TimeOut}} ->\n            %% \u30a4\u30d9\u30f3\u30c8\u8ffd\u52a0 \n        {Pid, MsgRef, {cancel, Name}} ->\n            %% \u30ad\u30e3\u30f3\u30bb\u30eb\u51e6\u7406\n        {done, Name} ->\n            %% \u30a4\u30d9\u30f3\u30c8\u5b8c\u4e86\u51e6\u7406\n        shutdown ->\n            %% \u30b5\u30fc\u30d0\u30fc\u7d42\u4e86\u51e6\u7406\n        {'DOWN', Ref, process, _Pid, _Reason} ->\n            %% \u30e2\u30cb\u30bf\u30fc\u5148\u304c\u843d\u3061\u3066\u305f\n        code_change ->\n            %% \u30db\u30c3\u30c8\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n        Unknown ->\n            io:format(\"Unknown message: ~p~n\", [Unknown]),\n            loop(State)\n    end.\n```\n\n### \u72b6\u614b\u5909\u6570 State \u306b\u4fdd\u5b58\u3059\u308b\u3079\u304d\u72b6\u614b\u306f\u306a\u306b\u304b\n- \u30a4\u30d9\u30f3\u30c8\u30b5\u30fc\u30d0\u30fc\u304c\u6301\u3064\u3079\u304d\u72b6\u614b\n   1. \u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u3057\u3066\u3044\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30ea\u30b9\u30c8\n   1. spawn \u3057\u305f\u3059\u3079\u3066\u306e\u30a4\u30d9\u30f3\u30c8\u30d7\u30ed\u30bb\u30b9\u306e\u30ea\u30b9\u30c8\n\n```erlang\n-record(state, {events,   %% event\u30ec\u30b3\u30fc\u30c9\u306e\u30ea\u30b9\u30c8\n                clients). %% Pid \u306e\u30ea\u30b9\u30c8\n-record(event, {name=\"\", description=\"\", pid, timeout={{1970, 1, 1}, {0,0,0}}).\n```\n\n- `#state` \u306e `event` \u3068 `client` \u306f `orddict` \u3067\u4fdd\u6301\u3059\u308b\u3082\u306e\u3068\u3059\u308b\n   - \u540c\u6642\u306b\u4f55\u767e\u3082\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u6301\u3064\u3053\u3068\u304c\u306a\u3055\u305d\u3046\u306a\u306e\u3067\u2026\n\n```erlang\n%% orddict \u3092\u4f7f\u3046 init\u95a2\u6570\u3092\u5b9a\u7fa9\ninit() ->\n    %% \u5236\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u8aad\u307f\u8fbc\u307f\u306f\u3053\u306e\u95a2\u6570\u3067\u5b8c\u4e86\u3059\u308b.\n    %% \u305d\u306e\u305f\u3081\u3001\u30a4\u30d9\u30f3\u30c8\u3092\u3069\u3053\u304b\u3089\u8aad\u307f\u8fbc\u3080\u3092\u4f1d\u3048\u308b\u305f\u3081\u306e\u5f15\u6570\u3092 init \u306b\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308b\u3002\n    %% \u6e21\u3055\u308c\u305f\u5f15\u6570\u3092\u901a\u3058\u3066\u30a4\u30d9\u30f3\u30c8\u3092\u3053\u3053\u3067\u8aad\u307f\u8fbc\u3080.\n    %% \u3082\u3046\u4e00\u3064\u306e\u65b9\u6cd5\u3068\u3057\u3066\u3001\u3053\u306e\u95a2\u6570\u304b\u3089\u30b5\u30fc\u30d0\u30fc\u3078\u76f4\u63a5\u30a4\u30d9\u30f3\u30c8\u3092\u6e21\u3059\u3060\u3051\u3067\u3082\u826f\u3044\n    loop(#state{events=orddict:new(),\n                clients=orddict:new()}).\n```\n\n### \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u51e6\u7406\n- \u30a4\u30d9\u30f3\u30c8\u306e\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u51e6\u7406\n   - \u30a4\u30d9\u30f3\u30c8\u7d42\u4e86\u6642\u306b\u901a\u77e5\n      - \u3059\u3079\u3066\u306e\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d0\u30fc\u3092\u4fdd\u5b58\u3059\u308b\u5fc5\u8981\u3042\u308a\n      - \u76e3\u8996\u3082\u5fc5\u8981\n         - \u30af\u30e9\u30c3\u30b7\u30e5\u3057\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\u3057\u3066\u3082\u7121\u99c4\u306a\u306e\u3067\u2026\n\n```erlang\n{Pid, MsgRef, {subscribe, Client}} ->\n    %% \u76e3\u8996\u306e\u305f\u3081MRef \u53d6\u5f97\n    Ref = erlang:monitor(process, Client),\n    %% \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30ea\u30b9\u30c8\u3092\u66f4\u65b0\n    NewClients = orddict:store(Ref, Client, S#state.clients),\n    Pid ! {MsgRef, ok},\n    loop(S#state{clients=NewClients});\n```\n\n- \u30a4\u30d9\u30f3\u30c8\u306e\u8ffd\u52a0\u51e6\u7406\n   - \u30a8\u30e9\u30fc\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u8fd4\u305b\u308b\n   - \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u304c\u6b63\u3057\u3044\u304b\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\n      - \u3057\u304b\u3057Erlang\u306e calender \u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u306f\u3051Time\u3092\u691c\u8a3c\u3059\u308b\u95a2\u6570\u304c\u306a\u3044\n         - \u81ea\u524d\u5b9f\u88c5\n         - Erlang \u306e BIF \u306f\u504f\u308a\u304c\u3042\u308b\n\n```erlang\nvalid_datetime({Date, Time}) ->\n    try\n        calender:valid_date(Date) andalso valid_time(Time)\n    catch\n        error:function_clause -> %% \u6b63\u3057\u3044 {{Y,M,D},{H,M,S}} \u3067\u306f\u306a\u3044\n           false\n    end;\nvalid_time({H, M, S}) -> valid_time(H,M,S).\nvalid_time(H, M, S) -> when H >= 0, H < 24,\n                            M >= 0, M < 60,\n                            S >= 0, S < 60 -> true;\nvalid_time(_, _, _) ->false.\n```\n\n```erlang\n%% \u30e1\u30c3\u30bb\u30fc\u30b8\u51e6\u7406\u90e8\u5206\n{Pid, MsgRef, {add, Name, Description, TimeOut}} ->\n    %% TimeOut\u306e\u4ed5\u69d8\u304c\u6b63\u3057\u3044\u304b\n    case valid_datetime(TimeOut) of\n        true ->\n            %% Event\u30d7\u30ed\u30bb\u30b9\u3092\u751f\u6210\u3057 link \u3059\u308b\n            EventPid = event:start_link(Name, TimeOut),\n            NewEvents = orddict:store(Name,\n                                      #event{name=Name,\n                                             description=Description,\n                                             pid=EventPid,\n                                             timeout=TimeOut},\n                                      S#state.events),\n            Pid ! {MsgRef, ok},\n            loop(S#state{events=NewEvents});  % \u72b6\u614b\u66f4\u65b0\n        false ->\n            Pid ! {MsgRef, {error, bad_timeout}},\n            loop(S)\n    end;\n```\n\n- \u30ad\u30e3\u30f3\u30bb\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u51e6\u7406\n\n```erlang\n{Pid, MsgRef, {cancel, Name}} ->\n    %% Name \u306a\u30a4\u30d9\u30f3\u30c8\u304c\u3042\u308c\u3070\u524a\u9664\u3057\u3001\u306a\u3051\u308c\u3070\u73fe\u5728\u306e\u72b6\u614b\u304c\u305d\u306e\u307e\u307eEvents\u3078\u8fd4\u308b\n    Events = case orddict:find(Name, S#state.events) of\n                 {ok, E} ->\n                     event:cancel(E#event.pid),\n                     orddict:erase(Name, S#state.events);\n                 error ->\n                     S#state.events\n             end,\n    Pid ! {MsgRef, ok},\n    loop(S#state{events=Events});\n```\n\n- \u30a4\u30d9\u30f3\u30c8\u30d7\u30ed\u30bb\u30b9\u304c\u3001\u30a4\u30d9\u30f3\u30c8\u30b5\u30fc\u30d0\u30fc\u3078\u8fd4\u3059\u30e1\u30c3\u30bb\u30fc\u30b8\n   - done \u30e1\u30c3\u30bb\u30fc\u30b8\n\n```erlang\nsend_to_clients(Msg, ClientDict) ->\n    orddict:map(fun(_Ref, Pid) -> Pid ! Msg end, ClientDict).\n\n%% ----------\n{doen, Name} ->\n    case orddict:find(Name, S#state.events) of\n        {ok, E} ->\n            send_to_clients({done, E#event.name, E#event.description}, S#state.clients),\n            NewEvents = orddict:erase(Name, S#state.events),\n            loop(S#state{events=NewEvents});\n        error ->\n            %% \u30a4\u30d9\u30f3\u30c8\u306e\u30ad\u30e3\u30f3\u30bb\u30eb\u3068\u540c\u6642\u306b\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u767a\u3059\u308b\u3053\u3068\u304c\u3042\u308b(\u3042\u308a\u3046\u308b)\n            loop(S)\n    end;\n```\n\n- \u305d\u306e\u4ed6\u8af8\u3005\u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u30e1\u30c3\u30bb\u30fc\u30b8\n   1. \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\n   1. \u30b3\u30fc\u30c9\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n   1. \u5404\u7a2e\u30b9\u30c6\u30fc\u30bf\u30b9\u30e1\u30c3\u30bb\u30fc\u30b8\n\n```erlang\nshutdown ->\n    exit(shutdown);\n{'DOWN', Ref, process, _Pid, _Reason} ->\n    loop(S#state{clients=orddict:erase(Ref, S#state.clients)});\ncode_change ->\n    ?MODULE:loop(S);\nUnknown ->\n    io:format(\"Unknown message: ~p~n\", [Unknwon]),\n    loop(S);\n```\n\n### \u30db\u30c3\u30c8\u30b3\u30fc\u30c9\u30ed\u30fc\u30c6\u30a3\u30f3\u30b0\n- \u30b3\u30fc\u30c9\u306e\u7121\u505c\u6b62\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n- Erlang\u306e **\u30b3\u30fc\u30c9\u30b5\u30fc\u30d0\u30fc** \u306a\u308b\u6a5f\u80fd\u3092\u4f7f\u3046\n   - ETS\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u95a2\u3057\u3066\u3044\u308bVM\u30d7\u30ed\u30bb\u30b9\n      - \u30e1\u30e2\u30ea\u4e0a\u3067\uff11\u3064\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e2\u3064\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4fdd\u6301\n         - \u4e21\u65b9\u3092\u5b9f\u884c\u3067\u304d\u308b\n      - `c(Mod)`, `l(Mod)`, `code:` \u306a\u3069\u3067\u30ed\u30fc\u30c9\u3059\u308b\u3068\u3001\u81ea\u52d5\u3067\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u30ed\u30fc\u30c9\u3055\u308c\u308b\n\n- Erlang \u306e\u95a2\u6570\u547c\u3073\u51fa\u3057\u65b9\u6cd5\n   1. \u30ed\u30fc\u30ab\u30eb\u547c\u3073\u51fa\u3057\n      - `Func(Args)` \u306a\u547c\u3073\u51fa\u3057\n         - \u73fe\u5728\u5b9f\u884c\u4e2d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u5b9f\u884c\u3055\u308c\u308b\n   1. \u5916\u90e8\u547c\u3073\u51fa\u3057 (\u5b8c\u5168\u4fee\u98fe\u547c\u3073\u51fa\u3057)\n      - `Mod:Func(Args)` \u306a\u547c\u3073\u51fa\u3057\n         - export \u3055\u308c\u305f\u3082\u306e\n         - **\u5e38\u306b** \u30b3\u30fc\u30c9\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u6700\u65b0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u308b\n            - \u5b8c\u5168\u4fee\u98fe\u547c\u3073\u51fa\u3057\u5185\u306e\u30ed\u30fc\u30ab\u30eb\u547c\u3073\u51fa\u3057\u3055\u308c\u305f\u95a2\u6570\u3082\u6700\u65b0\u7248\u3067\u5b9f\u884c\u3055\u308c\u308b\n   - \u518d\u8d77\u3057\u3066\u3044\u308b\u6642\n      - \u5b8c\u5168\u4fee\u98fe\u547c\u3073\u51fa\u3057\u3059\u308b\u3068\u6700\u65b0\u7248\u3092\u30ed\u30fc\u30c9\u3067\u304d\u308b\n         - `?MODULE:loop(S)` \u307f\u305f\u3044\u306b\u547c\u3073\u51fa\u305b\u3070\u3088\u3044\n\n```erlang\n%% \u5927\u4f53\u306e\u4ed5\u7d44\u307f\u306f\u4ee5\u4e0b\n-module(hotload).\n-export([server/1, upgrade/1]).\n\nserver(State) ->\n    receive\n        update ->\n            NewState = ?MODULE:upgrade(State),\n            %% \u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u30eb\u30fc\u30d7\u3059\u308b\n            ?MODULE:server(NewState);\n        SomeMessage ->\n            %% \u306a\u306b\u304b\u51e6\u7406\n            server(State)  %% \u540c\u3058\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u307e\u307e\u30eb\u30fc\u30d7\n    end.\n    \nupgrade(OldState) ->\n    %% \u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3078\u5bfe\u5fdc\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u72b6\u614b\u3092\u5909\u63db\u3057\u305f\u308a\n```\n\n### \u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u96a0\u3059\n- \u4ed6\u306e\u958b\u767a\u8005\u306b\u4f5c\u3063\u305f\u30b3\u30fc\u30c9\u3084\u30d7\u30ed\u30bb\u30b9\u3067\u4f55\u304b\u51e6\u7406\u3092\u66f8\u3044\u3066\u3082\u3089\u3046\u5834\u5408\n   - I/F\u95a2\u6570\u5185\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u96a0\u533f\u3059\u3079\u304d\n\n```erlang\n%% \u30b5\u30fc\u30d0\u30fc\u306f\u540c\u6642\u306b\u4e00\u3064\u3060\u3051\u8d77\u52d5\u3059\u308b\u3068\u60f3\u5b9a\u3057 register \u3067\u767b\u9332\nstart() ->\n    register(?MODULE, Pid=spawn(?MODULE, init, [])),\n    Pid.\n\nstart_link() ->\n    register(?MODULE, Pid=spawn_link(?MODULE, init, [])),\n    Pid.\n    \nterminate() ->\n    ?MODULE ! shutdown.\n```\n\n- \u3082\u3057\u30b5\u30fc\u30d0\u30fc\u3092\u8907\u6570\u8d77\u52d5\u3059\u308b\u3064\u3082\u308a\u306a\u3089\n   - register \u306e\u4ee3\u308f\u308a\u306b **global** \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u304a\u3046\n      - **gproc** \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3046\u3068\u5c1a\u826f\u3044\u304b\u3082\n\n\n**\u305d\u306e\u4ed6\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u62bd\u8c61\u5316**\n\n- \u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u62bd\u8c61\u5316\n\n```erlang\nsubscribe(Pid) ->\n    Ref = erlang:monitor(process, whereis(?MODULE)),\n    ?MODULE ! {self(), Ref, {subscribe, Pid}},\n    reveive\n        {Ref, ok} ->\n            {ok, Ref};\n        {'DOWN', Ref, process, _Pid, Reason} ->\n            {error, Reason}\n    after 5000 ->\n        {error, timeout}\n    end.\n```\n\n- \u30a4\u30d9\u30f3\u30c8\u306e\u8ffd\u52a0\n\n```erlang\nadd_event(Name, Description, TimeOut) ->\n    Ref = make_ref(),\n    ?MODULE ! {self(), Ref, {add, Name, Description, TimeOut}},\n    receive\n        {Ref, Msg} -> Msg\n        %% \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u53d7\u8a3a\u3059\u308b\u306f\u305a\u306e {error, bad_timeout} \u30e1\u30c3\u30bb\u30fc\u30b8\u3082\u305d\u306e\u307e\u307e\u8ee2\u9001\u3059\u308b\u3053\u3068\u306b\u6ce8\u610f\n        %% \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30af\u30e9\u30c3\u30b7\u30e5\u3055\u305b\u308b\u306a\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f8b\u5916\u51fa\u3059\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u3092\u5148\u306b\u8ffd\u52a0\u3059\u308b\n        %% {Ref, {error, Reason}} -> erlang:error(Reason);\n    after 5000 ->\n        {error, timeout}\n    end.\n```\n\n- \u30a4\u30d9\u30f3\u30c8\u306e\u30ad\u30e3\u30f3\u30bb\u30eb\n\n```erlang\ncancel(Name) ->\n    Ref = make_ref(),\n    ?MODULE ! {self(), Ref, {cancel, Name}},\n    receive\n        {Ref, ok} -> ok\n    after 5000 ->\n        {error, timeout}\n    end.\n```\n\n- \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u305f\u3081\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570\n\n```erlang\n%% \u4e00\u5b9a\u671f\u9593\u3059\u3079\u3066\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u84c4\u3048\u308b\nlisten(Delay) ->\n    receive\n        M = {done, _Name, _Description} ->\n            [M | listen(0)]\n        adter Delay * 1000 ->\n            []\n    end.\n```\n\n### \u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30d3\u30eb\u30c9\u3057\u3066\u307f\u308b\n- EMakefile\n   - Erlang\u7528\u306eMakefile\n   - Erlang\u9805\u3067Make\u306e\u52d5\u4f5c\u3092\u6307\u5b9a\u3067\u304d\u308b\n\n```erlang\n%% debug_info\u30d5\u30a1\u30a4\u30eb \u306f\u307e\u305a\u5fc5\u9808\u3060\u3068\u601d\u3063\u3066\u69cb\u308f\u306a\u3044\n{'src/*', [debug_info,\n           {i, \"src\"},  % src \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u30bd\u30fc\u30b9\u691c\u7d22\n           {i, \"include\"},  % include \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u30d8\u30c3\u30c0\u691c\u7d22\n           {outdir, \"ebin\"}]}.  % \u51fa\u529b\u5148\n```\n\n\u3042\u3068\u306f `erl -make` \u3068\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3066\u3070Make\u304c\u8d70\u308b\n\u6210\u529f\u3057\u305f\u3089 `erl -pa ebin/' \u3068\u691c\u7d22\u30d1\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u5171\u306b\u30b7\u30a7\u30eb\u3092\u8d77\u52d5\u3059\u308c\u3070\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3002\n\n\u3060\u3044\u305f\u3044\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u52d5\u304f\n\n```erlang\nevserv:start().  % \u8d77\u52d5\nevserv:subscribe(self())\nevserv:add_event(\"hey\", \"test\", FutureDateTime).\nevserv:listen(5).\nevserv:cancel(\"hey\").\nevserv:add_event(\"hey2\", \"test\", NextFutureDateTiem).\nevent:listen(2000). %  [{done, \"hey2\", \"test}] \u304c\u8fd4\u308b\n```\n\n### \u76e3\u8996\u3092\u8ffd\u52a0\u3059\u308b\n- \u76e3\u8996\u3057\u3001\u843d\u3061\u305f\u3089\u81ea\u52d5\u3067\u518d\u8d77\u52d5\u3059\u308b `restarter` \u3092\u5b9f\u88c5\u3059\u308b\u3079\u304d\n\n```erlang\n-module(sup).\n-export([start/2], start_link/2, init/1, loop/1]).\n\nstart(Mod, Args) ->\n    spawn(?MODULE, init, [{Mod, Args}]).\n\nspawn_link(Mod, Args) ->\n    spawn_link(?MODULE, init, [{Mod, Args}]).\n\ninit({Mod, Args}) ->\n    process_flag(trap_exit, true),\n    loop({Mod, start_link, Args}).\n\nloop({M, F, A}) ->\n    Pid = apply(M, F, A),\n    receive\n        {'EXIT', _From, shutdown} ->\n            %% \u30b9\u30fc\u30d1\u30fc\u30d0\u30a4\u30b6\u304c\u6b7b\u306c\u3068\u76e3\u8996\u5bfe\u8c61\u3082\u6b7b\u306c\n            exit(shutdown);  % \u5b50\u30d7\u30ed\u30bb\u30b9\u3082\u540c\u69d8\u306b\u6bba\u3059\n        {'EXIT', Pid, Reason} ->\n            io:format(\"Process ~p exited for reason ~p~n\", [Pid, Reason]),\n            loop({M, F, A})\n    end.\n```\n\n\u3060\u3044\u305f\u3044\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u52d5\u304f\n\n```erlang\nSubPid = sup:start(evserv, []).  % \u30b9\u30fc\u30d1\u30fc\u30d0\u30a4\u30b6\u7d4c\u7531\u3067\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u3092\u52d5\u304b\u3059\nexit(whereis(evserv), die).  % -> Process <0.44.0> exited for reason die\nwhereis(evserv)  % -> \u518d\u8d77\u52d5\u3057\u3066\u308b\u306e\u3067 Pid \u304c\u8fd4\u308b\nexit(SupPid, shutdown).  % \u30b9\u30fc\u30d1\u30fc\u30d0\u30a4\u30b6\u3092\u6b62\u3081\u308b\nwhereis(evserv).  % -> undefined \u304c\u8fd4\u308b\n```\n\n### \u540d\u524d\u7a7a\u9593\n- Erlang \u306f\u30d5\u30e9\u30c3\u30c8\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u69cb\u9020\n   - \u968e\u5c64\u304c\u306a\u3044\n      - \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u885d\u7a81\u304c\u8d77\u304d\u308b\n      - `user` \u307f\u305f\u3044\u306a\u3042\u308a\u304c\u3061\u306a\u540d\u524d\u3068\u304b\n- `code:clash/0` \u3067\u30c6\u30b9\u30c8\u3067\u304d\u308b\n\n- \u3053\u306e\u3088\u3046\u306a\u7406\u7531\u304b\u3089\u3001Erlang\u3067\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u63a5\u982d\u8f9e\u306b\u3064\u3051\u308b\u6163\u7fd2\u304c\u3042\u308b\n   - reminder_evserv\n   - reminder_sup\n   - reminder_event  \u306a\u3069\n\n- \u3068\u306b\u304b\u304f\u540d\u524d\u7a7a\u9593\u306b\u306f\u6ce8\u610f\u3057\u307e\u3057\u3087\u3046\n", "tags": ["\u3059\u3054\u3044E\u672c", "Erlang"]}