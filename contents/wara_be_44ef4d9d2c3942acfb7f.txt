{"context": "\n\n\u3053\u308c\u4f55\n\u3053\u306e\u5ea6Chart.js\u3092v2\u306b\u79fb\u884c\u3057\u307e\u3057\u305f\u3002\n\u305d\u308c\u307e\u3067\u306fChart.js\u306e\u7dda\u30b0\u30e9\u30d5\u306b\u9078\u629e\u6a5f\u80fd\u3092\u3064\u3051\u308b - Qiita\u3092\u53c2\u8003\u306b\u7dda\u30b0\u30e9\u30d5\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u969b\u306b\u3001\u305d\u306e\u8ef8\u3092\u5f37\u8abf\u8868\u793a\u3059\u308b\u3088\u3046\u306a\u51e6\u7406\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u52dd\u624b\u306b\u5165\u308c\u8fbc\u3093\u3067\u3044\u307e\u3057\u305f\u304c\u3001v2\u79fb\u884c\u306b\u3042\u305f\u308a\u4fee\u6b63\u7b87\u6240\u3082\u5909\u308f\u3063\u3066\u3044\u308b\u306e\u3067\u305d\u308c\u3092\u66f8\u304d\u7559\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\u203b2016/06/29\u6642\u70b9\u3067\u306e\u6700\u65b0\u7248\u3068\u306a\u308bv2.1.6\u306b\u79fb\u884c\u3057\u3001\u305d\u306eChart.js\u3092\u5bfe\u8c61\u3068\u3057\u3066\u5404\u4fee\u6b63\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u4fee\u6b63\u7b87\u6240\n\u624b\u77ed\u306b\u76f4\u63a5Chart.js\u3092\u3044\u3058\u3063\u305f\u5834\u5408\u306e\u7b87\u6240\u306e\u307f\u793a\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nrepository\u3092clone\u3057\u3066\u4fee\u6b63\u3057\u3066build\u301c\u3068\u304b\u306f\u304a\u597d\u307f\u3067\u3069\u3046\u305e\u3002\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306e\u8ffd\u52a0\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4eca\u56de\u8ffd\u52a0\u3059\u308b\u5f37\u8abf\u8868\u793a\u6a5f\u80fd\u3092\u7121\u52b9\u306a\u72b6\u614b\u306b\u3057\u307e\u3059\u3002\n\nChart.js\n@@ -6564,6 +6564,9 @@ module.exports = function(Chart) {\n        tickMarkLength: 10,\n        zeroLineWidth: 1,\n        zeroLineColor: \"rgba(0,0,0,0.25)\",\n+       highlightVerticalLine: false, // \u5f37\u8abf\u8868\u793a\u3092\u884c\u3046\u304b\u5426\u304b\u306e\u30d5\u30e9\u30b0\n+       highlightLineColor: \"rgba(255,0,102,1)\", // \u5f37\u8abf\u8868\u793a\u6642\u306e\u7dda\u306e\u8272\n+       highlightLineWidth: 2, // \u5f37\u8abf\u8868\u793a\u6642\u306e\u7dda\u306e\u592a\u3055\n        offsetGridLines: false\n      },\n\n\n\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3059\u308b\u969b\u306fnew Chart()\u6642options\u306b\u9069\u5b9c\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u6e21\u3057\u307e\u3059\u3002\noptions: {\n  ...\n  scales: {\n    xAxes: [{\n      gridLines: {\n        highlightVerticalLine: true\n      }\n    }]\n  },\n  ...\n}\n\n\n\u8ef8\u306elabel\u304c\u591a\u3044\u5834\u5408skip\u3055\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u5bfe\u51e6\n\u4ee5\u964d2\u3064\u306f\u63cf\u753b\u5bfe\u8c61\u3068\u306a\u308bitem\u3092\u30eb\u30fc\u30d7\u3067\u304c\u30fc\u30fc\u30fc\u3063\u3068\u7d44\u307f\u7acb\u3066\u3066\u3044\u308b\u3042\u305f\u308a\u306b\u7de8\u96c6\u3092\u884c\u3044\u307e\u3059\u3002\nChart.js\u306f\u304b\u3057\u3053\u304f\u3066\u3001\u3042\u307e\u308a\u306b\u8ef8\u9805\u76ee\u6570\u304c\u591a\u3044\u3068skip\u3057\u3066\u304f\u308c\u3061\u3083\u3044\u307e\u3059\u3002\n\u3082\u308c\u306a\u304f\u5f37\u8abf\u8868\u793a\u3057\u305f\u3044grid\u7dda\u307e\u3067skip\u3057\u3061\u3083\u3046\u306e\u3067\u3001\u63cf\u753b\u5bfe\u8c61\u3068\u306a\u308b\u3088\u3046\u6761\u4ef6\u3092\u3044\u3058\u308a\u307e\u3059\u3002\n\nChart.js\n@@ -7111,9 +7114,10 @@ module.exports = function(Chart) {\n\n          var isLastTick = me.ticks.length === index + 1;\n\n+         var isHighlightTick = gridLines.highlightVerticalLine && index === me.highlightIndex;\n          // Since we always show the last tick,we need may need to hide the last shown one before\n          var shouldSkip = (skipRatio > 1 && index % skipRatio > 0) || (index % skipRatio === 0 && index + skipRatio >= me.ticks.length);\n-         if (shouldSkip && !isLastTick || (label === undefined || label === null)) {\n+         if (shouldSkip && !isLastTick && !isHighlightTick || (label === undefined || label === null)) {\n            return;\n          }\n\n\n\n\u5f37\u8abf\u8868\u793a\n\u5f37\u8abf\u8868\u793agrid\u7dda\u306e\u8272\u3068\u592a\u3055\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nChart.js\u7684\u306b\u306fskip\u5bfe\u8c61\u3068\u306a\u308bgrid\u7dda\u306e\u5834\u5408(shouldSkip\u304ctreue\u306e\u5834\u5408)\u3001\u5143\u306f\u63cf\u753b\u3055\u308c\u3066\u3044\u306a\u3044label\u304c\u5f37\u8abf\u8868\u793a\u6642\u3060\u3051\u98db\u3073\u51fa\u3066\u304d\u3066\u304b\u3063\u3053\u308f\u308b\u3044\u306e\u3067\u3001label\u306b\u7a7a\u6587\u5b57\u3092\u4ee3\u5165\u3057\u3066\u3044\u307e\u3059\u3002\n\nChart.js\n@@ -7122,7 +7126,13 @@ module.exports = function(Chart) {\n            // Draw the first index specially\n            lineWidth = gridLines.zeroLineWidth;\n            lineColor = gridLines.zeroLineColor;\n-         } else  {\n+         } else if (isHighlightTick) {\n+           if (shouldSkip) {\n+             label = '';\n+           }\n+           lineWidth = gridLines.highlightLineWidth;\n+           lineColor = gridLines.highlightLineColor;\n+         } else {\n            lineWidth = helpers.getValueAtIndexOrDefault(gridLines.lineWidth, index);\n            lineColor = helpers.getValueAtIndexOrDefault(gridLines.color, index);\n          }\n\n\n\nSample\nChart.js/samples/line.html\u306b\u3066\u4f8b\u3092\u793a\u3057\u307e\u3059\n\n\u5f37\u8abf\u8868\u793a\u6a5f\u80fd\u304c\u6709\u52b9\u3068\u306a\u308b\u69d8\u30d5\u30e9\u30b0\u3092\u6e21\u3059\u3002\n\u8272\u3084\u592a\u3055\u3092\u5909\u3048\u305f\u3044\u5834\u5408\u306fhighlightVerticalLine\u3068\u540c\u3058\u6df1\u3055\u3067\u9069\u5f53\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nline.html\n@@ -99,6 +99,9 @@\n                         scaleLabel: {\n                             display: true,\n                             labelString: 'Month'\n+                        },\n+                        gridLines: {\n+                          highlightVerticalLine: true\n                         }\n                     }],\n                     yAxes: [{\n\n\n\n\u30ea\u30b9\u30ca\u306e\u8a2d\u5b9a - mouseover&onclick\n\nline.html\n@@ -127,6 +130,32 @@\n         window.onload = function() {\n             var ctx = document.getElementById(\"canvas\").getContext(\"2d\");\n             window.myLine = new Chart(ctx, config);\n+\n+            var chartElm = document.getElementById(\"canvas\");\n+\n+            // point\u4e0a\u3067\u306f\u30af\u30ea\u30c3\u30af\u3067\u304d\u308b\u98a8\u306bcursor = 'pointer';\n+            chartElm.onmousemove = function(evt) {\n+              if (window.myLine.getElementsAtEvent(evt).length > 0) {\n+                chartElm.style.cursor = 'pointer';\n+              } else {\n+                chartElm.style.cursor = 'default';\n+              }\n+            }\n+\n+            chartElm.onclick = function(evt) {\n+              console.log(evt);\n+              // \u30af\u30ea\u30c3\u30af\u3057\u305f\u8981\u7d20\u9054\u3092\u53d6\u5f97\n+              var activePoints = window.myLine.getElementsAtEvent(evt);\n+\n+              // \u306a\u3051\u308c\u3070\u64a4\u9000\n+              if(activePoints.length <= 0) {\n+                return;\n+              }\n+\n+              // hilightIndex\u306b\u6e21\u3057\u3066\u7e26\u7dda\u3092\u5f15\u304f\n+              window.myLine.scales['x-axis-0'].highlightIndex = activePoints[0]._index;\n+              // update()\u5fd8\u308c\u305a\n+              window.myLine.update();\n+            }\n         };\n\n         $('#randomizeData').click(function() {\n\n\n\n\u3053\u3046\u306a\u308b\n\n\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\u3002\n\u307e\u3060\u307e\u3060js\u529b\u5f31\u3044\u306e\u3067\u30de\u30b5\u30ab\u30ea\u6388\u304b\u308a\u305f\u304f\u3001\u5b9c\u3057\u304f\u304a\u9858\u3044\u81f4\u3057\u307e\u3059\u3002\n\n\u53c2\u8003\n\nChart.js\u306e\u7dda\u30b0\u30e9\u30d5\u306b\u9078\u629e\u6a5f\u80fd\u3092\u3064\u3051\u308b - Qiita\nChart.js v2\u3067\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8\u306e\u6271\u3044\u65b9 - Qiita\n\n# \u3053\u308c\u4f55\n\u3053\u306e\u5ea6Chart.js\u3092v2\u306b\u79fb\u884c\u3057\u307e\u3057\u305f\u3002\n\u305d\u308c\u307e\u3067\u306f[Chart.js\u306e\u7dda\u30b0\u30e9\u30d5\u306b\u9078\u629e\u6a5f\u80fd\u3092\u3064\u3051\u308b - Qiita](http://qiita.com/granciel/items/67d95b35acede9f274e8)\u3092\u53c2\u8003\u306b\u7dda\u30b0\u30e9\u30d5\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u969b\u306b\u3001\u305d\u306e\u8ef8\u3092\u5f37\u8abf\u8868\u793a\u3059\u308b\u3088\u3046\u306a\u51e6\u7406\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u52dd\u624b\u306b\u5165\u308c\u8fbc\u3093\u3067\u3044\u307e\u3057\u305f\u304c\u3001v2\u79fb\u884c\u306b\u3042\u305f\u308a\u4fee\u6b63\u7b87\u6240\u3082\u5909\u308f\u3063\u3066\u3044\u308b\u306e\u3067\u305d\u308c\u3092\u66f8\u304d\u7559\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u203b2016/06/29\u6642\u70b9\u3067\u306e\u6700\u65b0\u7248\u3068\u306a\u308bv2.1.6\u306b\u79fb\u884c\u3057\u3001\u305d\u306eChart.js\u3092\u5bfe\u8c61\u3068\u3057\u3066\u5404\u4fee\u6b63\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\n# \u4fee\u6b63\u7b87\u6240\n\u624b\u77ed\u306b\u76f4\u63a5Chart.js\u3092\u3044\u3058\u3063\u305f\u5834\u5408\u306e\u7b87\u6240\u306e\u307f\u793a\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nrepository\u3092clone\u3057\u3066\u4fee\u6b63\u3057\u3066build\u301c\u3068\u304b\u306f\u304a\u597d\u307f\u3067\u3069\u3046\u305e\u3002\n\n## \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306e\u8ffd\u52a0\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4eca\u56de\u8ffd\u52a0\u3059\u308b\u5f37\u8abf\u8868\u793a\u6a5f\u80fd\u3092\u7121\u52b9\u306a\u72b6\u614b\u306b\u3057\u307e\u3059\u3002\n\n```diff:Chart.js\n@@ -6564,6 +6564,9 @@ module.exports = function(Chart) {\n        tickMarkLength: 10,\n        zeroLineWidth: 1,\n        zeroLineColor: \"rgba(0,0,0,0.25)\",\n+       highlightVerticalLine: false, // \u5f37\u8abf\u8868\u793a\u3092\u884c\u3046\u304b\u5426\u304b\u306e\u30d5\u30e9\u30b0\n+       highlightLineColor: \"rgba(255,0,102,1)\", // \u5f37\u8abf\u8868\u793a\u6642\u306e\u7dda\u306e\u8272\n+       highlightLineWidth: 2, // \u5f37\u8abf\u8868\u793a\u6642\u306e\u7dda\u306e\u592a\u3055\n        offsetGridLines: false\n      },\n```\n\n\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3059\u308b\u969b\u306fnew Chart()\u6642options\u306b\u9069\u5b9c\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u6e21\u3057\u307e\u3059\u3002\n\n```options\noptions: {\n  ...\n  scales: {\n    xAxes: [{\n      gridLines: {\n        highlightVerticalLine: true\n      }\n    }]\n  },\n  ...\n}\n```\n\n\n## \u8ef8\u306elabel\u304c\u591a\u3044\u5834\u5408skip\u3055\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u5bfe\u51e6\n\u4ee5\u964d2\u3064\u306f\u63cf\u753b\u5bfe\u8c61\u3068\u306a\u308bitem\u3092\u30eb\u30fc\u30d7\u3067\u304c\u30fc\u30fc\u30fc\u3063\u3068\u7d44\u307f\u7acb\u3066\u3066\u3044\u308b\u3042\u305f\u308a\u306b\u7de8\u96c6\u3092\u884c\u3044\u307e\u3059\u3002\n\nChart.js\u306f\u304b\u3057\u3053\u304f\u3066\u3001\u3042\u307e\u308a\u306b\u8ef8\u9805\u76ee\u6570\u304c\u591a\u3044\u3068skip\u3057\u3066\u304f\u308c\u3061\u3083\u3044\u307e\u3059\u3002\n\u3082\u308c\u306a\u304f\u5f37\u8abf\u8868\u793a\u3057\u305f\u3044grid\u7dda\u307e\u3067skip\u3057\u3061\u3083\u3046\u306e\u3067\u3001\u63cf\u753b\u5bfe\u8c61\u3068\u306a\u308b\u3088\u3046\u6761\u4ef6\u3092\u3044\u3058\u308a\u307e\u3059\u3002\n\n```diff:Chart.js\n@@ -7111,9 +7114,10 @@ module.exports = function(Chart) {\n\n          var isLastTick = me.ticks.length === index + 1;\n\n+         var isHighlightTick = gridLines.highlightVerticalLine && index === me.highlightIndex;\n          // Since we always show the last tick,we need may need to hide the last shown one before\n          var shouldSkip = (skipRatio > 1 && index % skipRatio > 0) || (index % skipRatio === 0 && index + skipRatio >= me.ticks.length);\n-         if (shouldSkip && !isLastTick || (label === undefined || label === null)) {\n+         if (shouldSkip && !isLastTick && !isHighlightTick || (label === undefined || label === null)) {\n            return;\n          }\n```\n\n## \u5f37\u8abf\u8868\u793a\n\u5f37\u8abf\u8868\u793agrid\u7dda\u306e\u8272\u3068\u592a\u3055\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nChart.js\u7684\u306b\u306fskip\u5bfe\u8c61\u3068\u306a\u308bgrid\u7dda\u306e\u5834\u5408(shouldSkip\u304ctreue\u306e\u5834\u5408)\u3001\u5143\u306f\u63cf\u753b\u3055\u308c\u3066\u3044\u306a\u3044label\u304c\u5f37\u8abf\u8868\u793a\u6642\u3060\u3051\u98db\u3073\u51fa\u3066\u304d\u3066\u304b\u3063\u3053\u308f\u308b\u3044\u306e\u3067\u3001label\u306b\u7a7a\u6587\u5b57\u3092\u4ee3\u5165\u3057\u3066\u3044\u307e\u3059\u3002\n\n```diff:Chart.js\n@@ -7122,7 +7126,13 @@ module.exports = function(Chart) {\n            // Draw the first index specially\n            lineWidth = gridLines.zeroLineWidth;\n            lineColor = gridLines.zeroLineColor;\n-         } else  {\n+         } else if (isHighlightTick) {\n+           if (shouldSkip) {\n+             label = '';\n+           }\n+           lineWidth = gridLines.highlightLineWidth;\n+           lineColor = gridLines.highlightLineColor;\n+         } else {\n            lineWidth = helpers.getValueAtIndexOrDefault(gridLines.lineWidth, index);\n            lineColor = helpers.getValueAtIndexOrDefault(gridLines.color, index);\n          }\n```\n\n# Sample\nChart.js/samples/line.html\u306b\u3066\u4f8b\u3092\u793a\u3057\u307e\u3059\n## \u5f37\u8abf\u8868\u793a\u6a5f\u80fd\u304c\u6709\u52b9\u3068\u306a\u308b\u69d8\u30d5\u30e9\u30b0\u3092\u6e21\u3059\u3002\n\u8272\u3084\u592a\u3055\u3092\u5909\u3048\u305f\u3044\u5834\u5408\u306fhighlightVerticalLine\u3068\u540c\u3058\u6df1\u3055\u3067\u9069\u5f53\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```diff:line.html\n@@ -99,6 +99,9 @@\n                         scaleLabel: {\n                             display: true,\n                             labelString: 'Month'\n+                        },\n+                        gridLines: {\n+                          highlightVerticalLine: true\n                         }\n                     }],\n                     yAxes: [{\n```\n\n\n## \u30ea\u30b9\u30ca\u306e\u8a2d\u5b9a - mouseover&onclick\n```diff:line.html\n@@ -127,6 +130,32 @@\n         window.onload = function() {\n             var ctx = document.getElementById(\"canvas\").getContext(\"2d\");\n             window.myLine = new Chart(ctx, config);\n+\n+            var chartElm = document.getElementById(\"canvas\");\n+\n+            // point\u4e0a\u3067\u306f\u30af\u30ea\u30c3\u30af\u3067\u304d\u308b\u98a8\u306bcursor = 'pointer';\n+            chartElm.onmousemove = function(evt) {\n+              if (window.myLine.getElementsAtEvent(evt).length > 0) {\n+                chartElm.style.cursor = 'pointer';\n+              } else {\n+                chartElm.style.cursor = 'default';\n+              }\n+            }\n+\n+            chartElm.onclick = function(evt) {\n+              console.log(evt);\n+              // \u30af\u30ea\u30c3\u30af\u3057\u305f\u8981\u7d20\u9054\u3092\u53d6\u5f97\n+              var activePoints = window.myLine.getElementsAtEvent(evt);\n+\n+              // \u306a\u3051\u308c\u3070\u64a4\u9000\n+              if(activePoints.length <= 0) {\n+                return;\n+              }\n+\n+              // hilightIndex\u306b\u6e21\u3057\u3066\u7e26\u7dda\u3092\u5f15\u304f\n+              window.myLine.scales['x-axis-0'].highlightIndex = activePoints[0]._index;\n+              // update()\u5fd8\u308c\u305a\n+              window.myLine.update();\n+            }\n         };\n\n         $('#randomizeData').click(function() {\n```\n\n\n# \u3053\u3046\u306a\u308b\n![graph.gif](https://qiita-image-store.s3.amazonaws.com/0/23915/07e49f03-a27b-6bce-7b8b-25ac62dac483.gif \"graph.gif\")\n\n\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\u3002\n\u307e\u3060\u307e\u3060js\u529b\u5f31\u3044\u306e\u3067\u30de\u30b5\u30ab\u30ea\u6388\u304b\u308a\u305f\u304f\u3001\u5b9c\u3057\u304f\u304a\u9858\u3044\u81f4\u3057\u307e\u3059\u3002\n\n# \u53c2\u8003\n- [Chart.js\u306e\u7dda\u30b0\u30e9\u30d5\u306b\u9078\u629e\u6a5f\u80fd\u3092\u3064\u3051\u308b - Qiita](http://qiita.com/granciel/items/67d95b35acede9f274e8)\n- [Chart.js v2\u3067\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8\u306e\u6271\u3044\u65b9 - Qiita](http://qiita.com/ledsun/items/c59546fa7e756e2d3bc0)\n", "tags": ["JavaScript", "chart.js"]}