{"context": " More than 1 year has passed since last update.\u3010raspberry-pi\u3011nginx + passenger + node.js \u74b0\u5883\u4f5c\u6210\u30e1\u30e2 (1)\u306e\u7d9a\u304d\n\nnode.js \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\nnodebrew\u3092\u4f7f\u7528\n\nhttp://nodejs.org/dist/\u3092\u78ba\u8a8d\u3057\u3066\u3001linux-arm-pi \u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u7f6e\u3044\u3066\u3042\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3060\u3068 install-binary \u3067\u304d\u3066\u65e9\u3044\npassenger\u304b\u3089\u5b9f\u884c\u3057\u305f\u3068\u304d\u306b node \u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3001\u3068\u306a\u3063\u305f\u306e\u3067 /usr/local/bin \u306b\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u4f5c\u6210\u3057\u305f\n\n$ cd /usr/local/bin\n$ sudo ln -s ~/.nodebrew/current/bin/node .\n\n\n\u30c6\u30b9\u30c8\u30a2\u30d7\u30ea\n$ mkdir passenger_node_test\n$ mkdir passenger_node_test/public\n$ mkdir passenger_node_test/tmp\n$ cd passenger_node_test\n$ vi app.js\n\n\napp.js\nvar http = require('http');\nvar server = http.createServer(function(req, res) {\n    res.writeHead(200, { 'Content-Type': 'text/plain' });\n    res.end(\"hello world!\\n\");\n});\nserver.listen(3000);\n\n\n\nnginx\u8a2d\u5b9a\n\n/opt/nginx/conf/nginx.conf\nserver {\n    listen       80;\n    server_name  xxx.xxx.jp;\n\n    location / {\n        root   html;\n        index  index.html index.htm;\n    }\n\n    location /test {\n        root /home/pi/projects/passenger_node_test/public;\n        passenger_enabled on;\n    }\n}\n\n\n\u30c6\u30b9\u30c8\u30a2\u30d7\u30ea\u306f\u4e0a\u8a18\u8a2d\u5b9a\u3067\u52d5\u4f5c\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u305f\u3002\nsocket.io\u3092\u4f7f\u7528\u3057\u305f\u30a2\u30d7\u30ea\u3060\u3068\u3001\u30b5\u30fc\u30d0\u30fc\u30eb\u30fc\u30c8\u3078\u914d\u7f6e\u3057\u305f\u5834\u5408\u306f\u52d5\u4f5c\u3059\u308b\u304c\u3001\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u306e\u914d\u7f6e\u3067\u306f\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3002\n\u3084\u308a\u65b9\u306f\u3042\u308b\u3088\u3046\u3060\u304c\u9762\u5012\u304f\u3055\u305d\u3046\u3002\n\u3010\u8ffd\u8a18\u3011\n\u5225\u30dd\u30fc\u30c8\u3067\u52d5\u304b\u3059\u306e\u304c\u3068\u308a\u3042\u3048\u305a\u697d\u305d\u3046\u3002\nserver {\n    listen 8000;\n    root /home/pi/projects/socket-io-sample/public;\n    passenger_enabled on;\n}\n\n\n[\u3010raspberry-pi\u3011nginx + passenger + node.js \u74b0\u5883\u4f5c\u6210\u30e1\u30e2 (1)](http://qiita.com/daisuke0604/items/3918b8b4ff227fb3d048)\u306e\u7d9a\u304d\n\n## node.js \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n* [nodebrew](https://github.com/hokaccha/nodebrew)\u3092\u4f7f\u7528\n* [http://nodejs.org/dist/](http://nodejs.org/dist/)\u3092\u78ba\u8a8d\u3057\u3066\u3001linux-arm-pi \u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u7f6e\u3044\u3066\u3042\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3060\u3068 install-binary \u3067\u304d\u3066\u65e9\u3044\n* passenger\u304b\u3089\u5b9f\u884c\u3057\u305f\u3068\u304d\u306b node \u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3001\u3068\u306a\u3063\u305f\u306e\u3067 /usr/local/bin \u306b\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u4f5c\u6210\u3057\u305f\n\n```shell-session\n$ cd /usr/local/bin\n$ sudo ln -s ~/.nodebrew/current/bin/node .\n```\n\n## \u30c6\u30b9\u30c8\u30a2\u30d7\u30ea\n\n```shell-session\n$ mkdir passenger_node_test\n$ mkdir passenger_node_test/public\n$ mkdir passenger_node_test/tmp\n$ cd passenger_node_test\n$ vi app.js\n```\n\n```js:app.js\nvar http = require('http');\nvar server = http.createServer(function(req, res) {\n    res.writeHead(200, { 'Content-Type': 'text/plain' });\n    res.end(\"hello world!\\n\");\n});\nserver.listen(3000);\n```\n\n## nginx\u8a2d\u5b9a\n\n```nginx:/opt/nginx/conf/nginx.conf\nserver {\n    listen       80;\n    server_name  xxx.xxx.jp;\n\n    location / {\n        root   html;\n        index  index.html index.htm;\n    }\n\n    location /test {\n        root /home/pi/projects/passenger_node_test/public;\n        passenger_enabled on;\n    }\n}\n```\n\n\u30c6\u30b9\u30c8\u30a2\u30d7\u30ea\u306f\u4e0a\u8a18\u8a2d\u5b9a\u3067\u52d5\u4f5c\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u305f\u3002\nsocket.io\u3092\u4f7f\u7528\u3057\u305f\u30a2\u30d7\u30ea\u3060\u3068\u3001\u30b5\u30fc\u30d0\u30fc\u30eb\u30fc\u30c8\u3078\u914d\u7f6e\u3057\u305f\u5834\u5408\u306f\u52d5\u4f5c\u3059\u308b\u304c\u3001\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u306e\u914d\u7f6e\u3067\u306f\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3002\n\u3084\u308a\u65b9\u306f\u3042\u308b\u3088\u3046\u3060\u304c\u9762\u5012\u304f\u3055\u305d\u3046\u3002\n\n\u3010\u8ffd\u8a18\u3011\n\u5225\u30dd\u30fc\u30c8\u3067\u52d5\u304b\u3059\u306e\u304c\u3068\u308a\u3042\u3048\u305a\u697d\u305d\u3046\u3002\n\n```nginx\nserver {\n    listen 8000;\n    root /home/pi/projects/socket-io-sample/public;\n    passenger_enabled on;\n}\n```\n", "tags": ["RaspberryPi", "passenger", "Node.js", "nginx"]}