{"context": "\n\n\u4eca\u65e5\u306f\u3084\u308b\u3053\u3068\n\u3055\u304f\u3089\u306e\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0\u30fc\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u3067\u3001PHP+MySQL\u3067API\u3092\u4f5c\u6210\u3059\u308b\n\n\u5b9f\u88c5\u3057\u305f\u3053\u3068\nLumen\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001API\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n\u25c6 Lumen\uff1f\nLumen - PHP Micro-Framework By Laravel\n\n\nLumen 5.2 is now released - Laravel News\n\nVersion5.2\u304b\u3089\u3001\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u306aAPI\u3092\u63d0\u4f9b\u3059\u308b\u6a5f\u80fd\u3060\u3051\u306b\u96c6\u4e2d\u3057\u3066\u3001\u30b9\u30ea\u30e0\u5316\u306b\u30b7\u30d5\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\nSession\u3084View\u304c\u3053\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u542b\u307e\u308c\u306a\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u304c\u5fc5\u8981\u3067\u3042\u308c\u3070Laravel\u3092\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\u3068\u306e\u3053\u3068\n\nLumen 5.2 represents a shift on slimming Lumen to focus solely focusing serving stateless, JSON APIs.\nAs such, sessions and views are no longer included with the framework. If you need access to these features, you should use >the full Laravel framework. Upgrading your Lumen application to the full Laravel framework mainly involves copying your >routes and classes over into a fresh installation of Laravel. Since Laravel and Lumen share many of the same components, >your classes should not require any modification.\n\n\n\u25c6 Lumen\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nPHP\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\nInstallation - Lumen - PHP Micro-Framework By Laravel\nServer Requirement\u304c\u3001PHP >= 5.6.4\u306a\u306e\u3067\u3001\u3055\u304f\u3089\u306e\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0\u30fc\u306ePHP\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3082\u305d\u3046\u306a\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\u3002\n\n\nComposer\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30d1\u30b9\u306e\u8a2d\u5b9a\n\n\n\u30b7\u30a7\u30eb\u306e\u8a2d\u5b9a\u306f\u304a\u597d\u307f\u3067\u3059\u304c\u3001\u79c1\u306fbash\u3067\u3084\u308a\u305f\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u3092\u53c2\u8003\u306bbash\u306b\u5909\u66f4\u3057\u3066\u3001\u30d1\u30b9\u306e\u8a2d\u5b9a\u3082\u3057\u307e\u3057\u305f\u3002\n\u3055\u304f\u3089\u306e\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0\u306e\u30b7\u30a7\u30eb\u3092bash\u306b\u5909\u66f4\u3059\u308b\u65b9\u6cd5 \u2013 \u304b\u304d\u304f\u3051\u5b50\u306e\u30d6\u30ed\u30b0\n\u3055\u304f\u3089\u306e\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0\u306bComposer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5 \u2013 \u304b\u304d\u304f\u3051\u5b50\u306e\u30d6\u30ed\u30b0\n\n\n\n\n> composer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ mkdir -p usr/local/bin/\n\n$ curl -sS https://getcomposer.org/installer | php -- --install-dir=usr/local/bin/\nAll settings correct for using Composer\nDownloading...\n\nComposer (version 1.3.0) successfully installed to: /home/{your_account}/usr/local/bin/composer.phar\nUse it: php usr/local/bin/composer.phar\n\n$ mv usr/local/bin/composer.phar usr/local/bin/composer\n$ composer --version\nComposer version 1.3.0 2016-12-24 00:47:03\n\n\n\n> lumen\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ composer global require \"laravel/lumen-installer\"\nChanged current directory to /home/enfree/.composer\nUsing version ^1.0 for laravel/lumen-installer\n./composer.json has been created\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 10 installs, 0 updates, 0 removals\n  - Installing symfony/process (v3.2.1) Downloading: 100%\n  - Installing psr/log (1.0.2) Downloading: 100%\n  - Installing symfony/debug (v3.2.1) Downloading: 100%\n  - Installing symfony/polyfill-mbstring (v1.3.0) Downloading: 100%\n  - Installing symfony/console (v3.2.1) Downloading: 100%\n  - Installing guzzlehttp/promises (v1.3.1) Downloading: 100%\n  - Installing psr/http-message (1.0.1) Downloading: 100%\n  - Installing guzzlehttp/psr7 (1.3.1) Downloading: 100%\n  - Installing guzzlehttp/guzzle (6.2.2) Downloading: 100%\n  - Installing laravel/lumen-installer (v1.0.2) Downloading: 100%\nsymfony/console suggests installing symfony/event-dispatcher ()\nsymfony/console suggests installing symfony/filesystem ()\nWriting lock file\nGenerating autoload files\n\n\n\n\u30d1\u30b9\u3092\u901a\u3057\u307e\u3059(.bash_profile)\n\n\nPATH=$PATH:$HOME/bin:$HOME/usr/local/bin:~/.composer/vendor/bin\nexport PATH\n\n$ source .bash_profile\n\n\n$ lumen\nLumen Installer 1.0.2\n\nUsage:\n  command [options] [arguments]\n\nOptions:\n  -h, --help            Display this help message\n  -q, --quiet           Do not output any message\n  -V, --version         Display this application version\n      --ansi            Force ANSI output\n      --no-ansi         Disable ANSI output\n  -n, --no-interaction  Do not ask any interactive question\n  -v|vv|vvv, --verbose  Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug\n\nAvailable commands:\n  help  Displays help for a command\n  list  Lists commands\n  new   Create a new Lumen application.\n\n\n\u25c6 Lumen\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\nlumen new\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u65b0\u3057\u3044lumen\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nlumen new blog\n\n\n\u4f5c\u6210\u3055\u308c\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\n/\n\u251c\u2500\u2500 app\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Console\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Commands\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Kernel.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Events\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Event.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 ExampleEvent.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Exceptions\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Handler.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Http\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Controllers\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Middleware\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Jobs\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 ExampleJob.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Job.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Listeners\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 ExampleListener.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Providers\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 AppServiceProvider.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 AuthServiceProvider.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 EventServiceProvider.php\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 User.php\n\u251c\u2500\u2500 artisan\n\u251c\u2500\u2500 bootstrap\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 app.php\n\u251c\u2500\u2500 composer.json\n\u251c\u2500\u2500 composer.lock\n\u251c\u2500\u2500 database\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 factories\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 ModelFactory.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 migrations\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 seeds\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 DatabaseSeeder.php\n\u251c\u2500\u2500 phpunit.xml\n\u251c\u2500\u2500 public\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 index.php\n\u251c\u2500\u2500 readme.md\n\u251c\u2500\u2500 resources\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 views\n\u251c\u2500\u2500 routes\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 web.php\n\u251c\u2500\u2500 storage\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 framework\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 cache\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 views\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 logs\n\u251c\u2500\u2500 tests\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ExampleTest.php\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 TestCase.php\n\u2514\u2500\u2500 vendor\n    \u251c\u2500\u2500 autoload.php\n    \u251c\u2500\u2500 bin\n    \u251c\u2500\u2500 composer\n    \u251c\u2500\u2500 doctrine\n    \u251c\u2500\u2500 fzaninotto\n    \u251c\u2500\u2500 hamcrest\n    \u251c\u2500\u2500 illuminate\n    \u251c\u2500\u2500 laravel\n    \u251c\u2500\u2500 mockery\n    \u251c\u2500\u2500 monolog\n    \u251c\u2500\u2500 mtdowling\n    \u251c\u2500\u2500 myclabs\n    \u251c\u2500\u2500 nesbot\n    \u251c\u2500\u2500 nikic\n    \u251c\u2500\u2500 paragonie\n    \u251c\u2500\u2500 phpdocumentor\n    \u251c\u2500\u2500 phpspec\n    \u251c\u2500\u2500 phpunit\n    \u251c\u2500\u2500 psr\n    \u251c\u2500\u2500 sebastian\n    \u251c\u2500\u2500 symfony\n    \u251c\u2500\u2500 vlucas\n    \u2514\u2500\u2500 webmozart\n\n\n> lumen\u306eEnv\u30d5\u30a1\u30a4\u30eb\n\n\nlumen\u306f DotEnv PHP library\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\n\nvlucas/phpdotenv: Loads environment variables from `.env` to `getenv()`, `$_ENV` and `$_SERVER` automagically.\n\n\n\n.env_example\u30d5\u30a1\u30a4\u30eb\u3092.env\u30d5\u30a1\u30a4\u30eb\u306brename\u3057\u3066\u8a2d\u5b9a\u3059\u308b\n\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5024\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5\u6642\u306b\u3001\u5168\u3066$_ENV\u306e\u30b9\u30fc\u30d1\u30fc\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306b\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\nApplication Key\n\n\n32\u6587\u5b57\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3002\u8a2d\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u6697\u53f7\u5316\u30c7\u30fc\u30bf\u306e\u6a5f\u5bc6\u6027\u304c\u4fdd\u305f\u308c\u307e\u305b\u3093\u3002\n\n\nTime Zone\n\n\nAsia/Tokyo\u306b\u8a2d\u5b9a\n\n\n\n\n\nAPP_ENV=local\nAPP_DEBUG=true\nAPP_KEY=\nAPP_TIMEZONE=Asia/Tokyo\n\nDB_CONNECTION=mysql\nDB_HOST=127.0.0.1\nDB_PORT=3306\nDB_DATABASE=homestead\nDB_USERNAME=homestead\nDB_PASSWORD=secret\n\nCACHE_DRIVER=memcached\nQUEUE_DRIVER=sync\n\n\n\nLumen API\u306e\u4f5c\u6210\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\u306a\u306e\u3067\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u30d5\u30eb\u30bb\u30c3\u30c8\u306f\u3053\u3061\u3089\u3067\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n- zeeshanu/rest-api-example: RESTful Blog API in Lumen 5.2\n\u3053\u308c\u306f\u3042\u304f\u307e\u3067\u3001\u4e0a\u8a18\u304b\u3089\u629c\u7c8b\u3057\u3066\u81ea\u5206\u3067\u7406\u89e3\u3067\u304d\u308b\u3088\u3046\u306b\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\u6700\u5c0f\u5358\u4f4d\u3068\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u305f\u308a\u3001\u4fee\u6b63\u3092\u52a0\u3048\u307e\u3057\u305f\u3002\napp\n\u251c\u2500\u2500 Helpers\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 Response.php\n\u251c\u2500\u2500 Http\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Controllers\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 PostsController.php\n\u251c\u2500\u2500 Models\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 Posts.php\n\u251c\u2500\u2500 bootstrap\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 app.php\n\u251c\u2500\u2500 public\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 index.php\n\u251c\u2500\u2500 routes\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 web.php\n\n\n> bootstrap/app.php\nDB facade\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u3001 Eloquent ORM\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f \u4ee5\u4e0b\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u307e\u3059\n$app->withFacades();\n$app->withEloquent();\n\n\nDatabase: Getting Started - Laravel - The PHP Framework For Web Artisans\nEloquent: Getting Started - Laravel - The PHP Framework For Web Artisans\n\n\u4f7f\u308f\u305a\u306b\u5b9f\u88c5\u3082\u3067\u304d\u307e\u3059\u3002\n$results = app('db')->select(\"SELECT * FROM users\");\n\n\n> routes/web.php\nURL\u3068\u5b9f\u884c\u3059\u308b\u30af\u30e9\u30b9\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u8a18\u8f09\u3057\u307e\u3059\n$app->group(['prefix' => 'v1'], function () use ($app) {\n    $app->get('posts', ['uses' => 'PostsController@getPosts', ]);\n    $app->get('posts/{id}', ['uses' => 'PostsController@getPost', ]);\n    $app->post('posts', ['uses' => 'PostsController@createPost', ]);\n    $app->delete('posts/{id}', ['uses' => 'PostsController@deletePost', ]);\n    $app->put('posts/{id}', ['uses' => 'PostsController@updatePost', ]);\n});\n\n\n> Http/Controllers/PostsController.php\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30af\u30e9\u30b9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306fget\u306e\u4f8b\n<?php \n\nnamespace App\\Http\\Controllers;\n\nuse Validator;\nuse App\\Models\\Posts;\n\nuse App\\Helpers\\Response;\n\nclass PostsController extends Controller\n{\n    protected $posts;\n\n    function __construct(Posts $posts)\n    {\n        $this->posts = $posts;\n    }\n\n    public function getPosts()\n    {\n        $posts = $this->posts->getPosts();\n        if($posts) {\n            return Response::json($posts);\n        }\n\n        return Response::internalError('Unable to get the posts');\n    }\n\n    public function getPost($id)\n    {\n        $post = $this->posts->getPost($id);\n        if( !$post ) {\n            return Response::notFound('Post not found');\n        }\n\n        return Response::json($post);\n    }\n\n\n\n> Helpers/Response.php\n\u30d8\u30eb\u30d1\u30fc\u30af\u30e9\u30b9\n<?php \n\nnamespace App\\Helpers;\n\nclass Response \n{\n    public static function json($data, $status = 200)\n    {\n        return response()->json($data, $status);\n    }\n}\n\n\n\n> Model/Posts.php\n\u30e2\u30c7\u30eb\n<?php\n\nnamespace App\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass Posts extends Model\n{\n    protected $table = 'posts';\n\n    protected $fillable = [\n        'title', \n        'contents', \n        'updated_at', \n    ];\n\n\n    public function getPosts()\n    {\n        $query = $this;\n        return $query->paginate(20);\n        //\u5358\u306b\u4ee5\u4e0b\u3067\u3082\u3067\u304d\u308b\n        //return app('db')->select(\"SELECT * FROM posts\");\n    }\n\n    public function getPost($id)\n    {\n        return $this->find($id);\n    }\n}\n\n\n> MySQL\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\u4eca\u56de\u3001migrate\u306e\u6a5f\u80fd\u306f\u4f7f\u308f\u306a\u304b\u3063\u305f\u3002\n\ncreate table posts(id MEDIUMINT NOT NULL AUTO_INCREMENT ,title varchar(20), contents text, updated_at timestamp , PRIMARY KEY (id));\n insert into posts(title,contents, updated_at) values('Hello', 'Greetimgs', now());\n\n\n> \u7d50\u679c\n\n\n\u25c6 Lumen\u3092\u3055\u304f\u3089\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0\u3067\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306b\n\u4eca\u56de\u3001\u30de\u30eb\u30c1\u30c9\u30e1\u30a4\u30f3\u3067\u8a2d\u5b9a\u3057\u3066\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u30de\u30eb\u30c1\u30c9\u30e1\u30a4\u30f3\u306f\n\u300ctest.com\u300d \u3068\u3057\u307e\u3059\u3002\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306f\u300cwww/test\u300d\u3067\u3059\n\u3055\u304f\u3089\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0\u306e\u300cwww/test\u300d\u76f4\u4e0b\u306b\u3001\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n> MySQL\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8a2d\u5b9a\u3092\u3057\u3066.env\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\nDB_CONNECTION=mysql\nDB_HOST=mysqlXXXXXX.db.sakura.ne.jp\nDB_PORT=3306\nDB_DATABASE=database\nDB_USERNAME=user\nDB_PASSWORD=password\n\n\n> \u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u79fb\u52d5\n\u300cwww/test\u300d\u304c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3068\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u4ee5\u4e0b\u306epublic\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5165\u3063\u3066\u3044\u308bindex.php\u30d5\u30a1\u30a4\u30eb\u3092\u300cwww/test/test\u300d\u306e\u76f4\u4e0b\u306b\u79fb\u52d5\u3055\u305b\u307e\u3059\u3002\nindex.php\n\n\n> .htaccess\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\n\nOptions\u306b\u3088\u308b\u6307\u5b9a\u304c\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u307e\u3059\u300d\n\n\n.htaccess\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n\n\n\n<IfModule mod_rewrite.c>\n#    <IfModule mod_negotiation.c>\n#        Options -MultiViews\n#    </IfModule>\n\n    RewriteEngine On\n\n    # Redirect Trailing Slashes If Not A Folder...\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)/$ /$1 [L,R=301]\n\n    # Handle Front Controller...\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^ index.php [L]\n\n    # Handle Authorization Header\n    RewriteCond %{HTTP:Authorization} .\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\n</IfModule>\n\n\u4e0a\u8a18\u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u3001Request exceeded the limit of 10 internal redirects due to probable configuration error. Use 'LimitInternalRecursion' to increase the limit if necessary. Use 'LogLevel debug' to get a backtrace.\u3068\u8a00\u3046\u30a8\u30e9\u30fc\u30ed\u30b0\u304c\u51fa\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001.htaccess\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u3066\u3044\u307e\u3059\u3002\n\nphp - Request exceeded the limit of 10 internal redirects - Stack Overflow\n\n<IfModule mod_rewrite.c>\nRewriteEngine On\nRewriteCond %{ENV:REDIRECT_STATUS} ^$\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^ index.php [L]\n</IfModule>\n\n\n> \u78ba\u8a8d\nhttp://test.jp/v1/posts\n\u3067json\u3067\u30c7\u30fc\u30bf\u304c\u8fd4\u5374\u3055\u308c\u307e\u3057\u305f\u3002\n\n> \u8ab2\u984c\n\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306e\u300cwww/test/test\u300d\u3068\u3057\u306a\u304f\u3066\u3082\u3044\u3044\u3088\u3046\u306aRedirectRule\u3092\u304b\u3051\u306a\u3044\u304b\u306a\u3002\n# \u4eca\u65e5\u306f\u3084\u308b\u3053\u3068\n\n\u3055\u304f\u3089\u306e\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0\u30fc\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u3067\u3001PHP+MySQL\u3067API\u3092\u4f5c\u6210\u3059\u308b\n\n# \u5b9f\u88c5\u3057\u305f\u3053\u3068\n\nLumen\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001API\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n## \u25c6 Lumen\uff1f\n\n[Lumen \\- PHP Micro\\-Framework By Laravel](https://lumen.laravel.com/)\n\n<img width=\"958\" alt=\"lumen.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/32215/3f6fdbe3-695a-ad71-a299-092a382f188c.png\">\n\n\n- [Lumen 5\\.2 is now released \\- Laravel News](https://laravel-news.com/lumen-5-2-is-released)\n\nVersion5.2\u304b\u3089\u3001\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u306aAPI\u3092\u63d0\u4f9b\u3059\u308b\u6a5f\u80fd\u3060\u3051\u306b\u96c6\u4e2d\u3057\u3066\u3001\u30b9\u30ea\u30e0\u5316\u306b\u30b7\u30d5\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\nSession\u3084View\u304c\u3053\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u542b\u307e\u308c\u306a\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u304c\u5fc5\u8981\u3067\u3042\u308c\u3070Laravel\u3092\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\u3068\u306e\u3053\u3068\n\n>Lumen 5.2 represents a shift on slimming Lumen to focus solely focusing serving stateless, JSON APIs.\n>As such, sessions and views are no longer included with the framework. If you need access to these features, you should use >the full Laravel framework. Upgrading your Lumen application to the full Laravel framework mainly involves copying your >routes and classes over into a fresh installation of Laravel. Since Laravel and Lumen share many of the same components, >your classes should not require any modification.\n\n\n## \u25c6 Lumen\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n- PHP\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\n    - [Installation \\- Lumen \\- PHP Micro\\-Framework By Laravel](https://lumen.laravel.com/docs/5.3#installation)\n    - Server Requirement\u304c\u3001PHP >= 5.6.4\u306a\u306e\u3067\u3001\u3055\u304f\u3089\u306e\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0\u30fc\u306ePHP\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3082\u305d\u3046\u306a\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\u3002\n- Composer\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30d1\u30b9\u306e\u8a2d\u5b9a\n    - \u30b7\u30a7\u30eb\u306e\u8a2d\u5b9a\u306f\u304a\u597d\u307f\u3067\u3059\u304c\u3001\u79c1\u306fbash\u3067\u3084\u308a\u305f\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u3092\u53c2\u8003\u306bbash\u306b\u5909\u66f4\u3057\u3066\u3001\u30d1\u30b9\u306e\u8a2d\u5b9a\u3082\u3057\u307e\u3057\u305f\u3002\n    - [\u3055\u304f\u3089\u306e\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0\u306e\u30b7\u30a7\u30eb\u3092bash\u306b\u5909\u66f4\u3059\u308b\u65b9\u6cd5 \u2013 \u304b\u304d\u304f\u3051\u5b50\u306e\u30d6\u30ed\u30b0](http://kakikukeko.sakura.ne.jp/blog/chsh-bash/)\n    - [\u3055\u304f\u3089\u306e\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0\u306bComposer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5 \u2013 \u304b\u304d\u304f\u3051\u5b50\u306e\u30d6\u30ed\u30b0](http://kakikukeko.sakura.ne.jp/blog/install-composer-on-sakura/)\n\n\n### > composer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n\n$ mkdir -p usr/local/bin/\n\n$ curl -sS https://getcomposer.org/installer | php -- --install-dir=usr/local/bin/\nAll settings correct for using Composer\nDownloading...\n\nComposer (version 1.3.0) successfully installed to: /home/{your_account}/usr/local/bin/composer.phar\nUse it: php usr/local/bin/composer.phar\n\n$ mv usr/local/bin/composer.phar usr/local/bin/composer\n$ composer --version\nComposer version 1.3.0 2016-12-24 00:47:03\n\n```\n\n### > lumen\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n\n$ composer global require \"laravel/lumen-installer\"\nChanged current directory to /home/enfree/.composer\nUsing version ^1.0 for laravel/lumen-installer\n./composer.json has been created\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 10 installs, 0 updates, 0 removals\n  - Installing symfony/process (v3.2.1) Downloading: 100%\n  - Installing psr/log (1.0.2) Downloading: 100%\n  - Installing symfony/debug (v3.2.1) Downloading: 100%\n  - Installing symfony/polyfill-mbstring (v1.3.0) Downloading: 100%\n  - Installing symfony/console (v3.2.1) Downloading: 100%\n  - Installing guzzlehttp/promises (v1.3.1) Downloading: 100%\n  - Installing psr/http-message (1.0.1) Downloading: 100%\n  - Installing guzzlehttp/psr7 (1.3.1) Downloading: 100%\n  - Installing guzzlehttp/guzzle (6.2.2) Downloading: 100%\n  - Installing laravel/lumen-installer (v1.0.2) Downloading: 100%\nsymfony/console suggests installing symfony/event-dispatcher ()\nsymfony/console suggests installing symfony/filesystem ()\nWriting lock file\nGenerating autoload files\n\n```\n\n- \u30d1\u30b9\u3092\u901a\u3057\u307e\u3059(.bash_profile)\n\n\n```bash\n\nPATH=$PATH:$HOME/bin:$HOME/usr/local/bin:~/.composer/vendor/bin\nexport PATH\n\n$ source .bash_profile\n```\n\n\n```bash\n\n$ lumen\nLumen Installer 1.0.2\n\nUsage:\n  command [options] [arguments]\n\nOptions:\n  -h, --help            Display this help message\n  -q, --quiet           Do not output any message\n  -V, --version         Display this application version\n      --ansi            Force ANSI output\n      --no-ansi         Disable ANSI output\n  -n, --no-interaction  Do not ask any interactive question\n  -v|vv|vvv, --verbose  Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug\n\nAvailable commands:\n  help  Displays help for a command\n  list  Lists commands\n  new   Create a new Lumen application.\n```\n\n\n## \u25c6 Lumen\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n\nlumen new\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u65b0\u3057\u3044lumen\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```bash\nlumen new blog\n```\n\n- \u4f5c\u6210\u3055\u308c\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\n```bash\n/\n\u251c\u2500\u2500 app\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Console\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Commands\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Kernel.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Events\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Event.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 ExampleEvent.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Exceptions\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Handler.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Http\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Controllers\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Middleware\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Jobs\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 ExampleJob.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Job.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Listeners\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 ExampleListener.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Providers\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 AppServiceProvider.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 AuthServiceProvider.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 EventServiceProvider.php\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 User.php\n\u251c\u2500\u2500 artisan\n\u251c\u2500\u2500 bootstrap\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 app.php\n\u251c\u2500\u2500 composer.json\n\u251c\u2500\u2500 composer.lock\n\u251c\u2500\u2500 database\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 factories\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 ModelFactory.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 migrations\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 seeds\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 DatabaseSeeder.php\n\u251c\u2500\u2500 phpunit.xml\n\u251c\u2500\u2500 public\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 index.php\n\u251c\u2500\u2500 readme.md\n\u251c\u2500\u2500 resources\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 views\n\u251c\u2500\u2500 routes\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 web.php\n\u251c\u2500\u2500 storage\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 framework\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 cache\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 views\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 logs\n\u251c\u2500\u2500 tests\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ExampleTest.php\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 TestCase.php\n\u2514\u2500\u2500 vendor\n    \u251c\u2500\u2500 autoload.php\n    \u251c\u2500\u2500 bin\n    \u251c\u2500\u2500 composer\n    \u251c\u2500\u2500 doctrine\n    \u251c\u2500\u2500 fzaninotto\n    \u251c\u2500\u2500 hamcrest\n    \u251c\u2500\u2500 illuminate\n    \u251c\u2500\u2500 laravel\n    \u251c\u2500\u2500 mockery\n    \u251c\u2500\u2500 monolog\n    \u251c\u2500\u2500 mtdowling\n    \u251c\u2500\u2500 myclabs\n    \u251c\u2500\u2500 nesbot\n    \u251c\u2500\u2500 nikic\n    \u251c\u2500\u2500 paragonie\n    \u251c\u2500\u2500 phpdocumentor\n    \u251c\u2500\u2500 phpspec\n    \u251c\u2500\u2500 phpunit\n    \u251c\u2500\u2500 psr\n    \u251c\u2500\u2500 sebastian\n    \u251c\u2500\u2500 symfony\n    \u251c\u2500\u2500 vlucas\n    \u2514\u2500\u2500 webmozart\n```\n\n\n### > lumen\u306eEnv\u30d5\u30a1\u30a4\u30eb\n\n- lumen\u306f DotEnv PHP library\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\n    - [vlucas/phpdotenv: Loads environment variables from \\`\\.env\\` to \\`getenv\\(\\)\\`, \\`$\\_ENV\\` and \\`$\\_SERVER\\` automagically\\.](https://github.com/vlucas/phpdotenv)\n\n\n- .env_example\u30d5\u30a1\u30a4\u30eb\u3092.env\u30d5\u30a1\u30a4\u30eb\u306brename\u3057\u3066\u8a2d\u5b9a\u3059\u308b\n    - \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5024\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5\u6642\u306b\u3001\u5168\u3066$_ENV\u306e\u30b9\u30fc\u30d1\u30fc\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306b\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\n    - Application Key\n        - 32\u6587\u5b57\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3002\u8a2d\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u6697\u53f7\u5316\u30c7\u30fc\u30bf\u306e\u6a5f\u5bc6\u6027\u304c\u4fdd\u305f\u308c\u307e\u305b\u3093\u3002\n    - Time Zone\n        - Asia/Tokyo\u306b\u8a2d\u5b9a\n    \n```\nAPP_ENV=local\nAPP_DEBUG=true\nAPP_KEY=\nAPP_TIMEZONE=Asia/Tokyo\n\nDB_CONNECTION=mysql\nDB_HOST=127.0.0.1\nDB_PORT=3306\nDB_DATABASE=homestead\nDB_USERNAME=homestead\nDB_PASSWORD=secret\n\nCACHE_DRIVER=memcached\nQUEUE_DRIVER=sync\n\n```\n\n\n## Lumen API\u306e\u4f5c\u6210\n\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\u306a\u306e\u3067\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u30d5\u30eb\u30bb\u30c3\u30c8\u306f\u3053\u3061\u3089\u3067\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n- [zeeshanu/rest\\-api\\-example: RESTful Blog API in Lumen 5\\.2](https://github.com/zeeshanu/rest-api-example)\n\n\u3053\u308c\u306f\u3042\u304f\u307e\u3067\u3001\u4e0a\u8a18\u304b\u3089\u629c\u7c8b\u3057\u3066\u81ea\u5206\u3067\u7406\u89e3\u3067\u304d\u308b\u3088\u3046\u306b\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\u6700\u5c0f\u5358\u4f4d\u3068\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u305f\u308a\u3001\u4fee\u6b63\u3092\u52a0\u3048\u307e\u3057\u305f\u3002\n\n```\napp\n\u251c\u2500\u2500 Helpers\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 Response.php\n\u251c\u2500\u2500 Http\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Controllers\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 PostsController.php\n\u251c\u2500\u2500 Models\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 Posts.php\n\u251c\u2500\u2500 bootstrap\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 app.php\n\u251c\u2500\u2500 public\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 index.php\n\u251c\u2500\u2500 routes\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 web.php\n```\n\n### > bootstrap/app.php\n\n DB facade\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u3001 Eloquent ORM\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f \u4ee5\u4e0b\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u307e\u3059\n\n```php\n$app->withFacades();\n$app->withEloquent();\n```\n\n- [Database: Getting Started \\- Laravel \\- The PHP Framework For Web Artisans](https://laravel.com/docs/5.3/database)\n- [Eloquent: Getting Started \\- Laravel \\- The PHP Framework For Web Artisans](https://laravel.com/docs/5.3/eloquent)\n\n\u4f7f\u308f\u305a\u306b\u5b9f\u88c5\u3082\u3067\u304d\u307e\u3059\u3002\n\n```php\n$results = app('db')->select(\"SELECT * FROM users\");\n```\n\n### > routes/web.php\n\nURL\u3068\u5b9f\u884c\u3059\u308b\u30af\u30e9\u30b9\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u8a18\u8f09\u3057\u307e\u3059\n\n```php\n$app->group(['prefix' => 'v1'], function () use ($app) {\n    $app->get('posts', ['uses' => 'PostsController@getPosts', ]);\n    $app->get('posts/{id}', ['uses' => 'PostsController@getPost', ]);\n    $app->post('posts', ['uses' => 'PostsController@createPost', ]);\n    $app->delete('posts/{id}', ['uses' => 'PostsController@deletePost', ]);\n    $app->put('posts/{id}', ['uses' => 'PostsController@updatePost', ]);\n});\n```\n\n### > Http/Controllers/PostsController.php\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30af\u30e9\u30b9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306fget\u306e\u4f8b\n\n```php\n<?php \n\nnamespace App\\Http\\Controllers;\n\nuse Validator;\nuse App\\Models\\Posts;\n\nuse App\\Helpers\\Response;\n\nclass PostsController extends Controller\n{\n    protected $posts;\n\n    function __construct(Posts $posts)\n    {\n        $this->posts = $posts;\n    }\n\n    public function getPosts()\n    {\n        $posts = $this->posts->getPosts();\n        if($posts) {\n            return Response::json($posts);\n        }\n\n        return Response::internalError('Unable to get the posts');\n    }\n\n    public function getPost($id)\n    {\n        $post = $this->posts->getPost($id);\n        if( !$post ) {\n            return Response::notFound('Post not found');\n        }\n\n        return Response::json($post);\n    }\n\n```\n\n### > Helpers/Response.php\n\n\u30d8\u30eb\u30d1\u30fc\u30af\u30e9\u30b9\n\n```php\n<?php \n\nnamespace App\\Helpers;\n\nclass Response \n{\n    public static function json($data, $status = 200)\n    {\n        return response()->json($data, $status);\n    }\n}\n\n```\n\n\n### > Model/Posts.php\n\n\u30e2\u30c7\u30eb\n\n```php\n<?php\n\nnamespace App\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass Posts extends Model\n{\n    protected $table = 'posts';\n    \n    protected $fillable = [\n        'title', \n        'contents', \n        'updated_at', \n    ];\n\n\n    public function getPosts()\n    {\n        $query = $this;\n        return $query->paginate(20);\n        //\u5358\u306b\u4ee5\u4e0b\u3067\u3082\u3067\u304d\u308b\n        //return app('db')->select(\"SELECT * FROM posts\");\n    }\n\n    public function getPost($id)\n    {\n        return $this->find($id);\n    }\n}\n```\n\n\n### > MySQL\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\n\u4eca\u56de\u3001migrate\u306e\u6a5f\u80fd\u306f\u4f7f\u308f\u306a\u304b\u3063\u305f\u3002\n\n```sql\n\ncreate table posts(id MEDIUMINT NOT NULL AUTO_INCREMENT ,title varchar(20), contents text, updated_at timestamp , PRIMARY KEY (id));\n insert into posts(title,contents, updated_at) values('Hello', 'Greetimgs', now());\n```\n\n\n### > \u7d50\u679c\n\n<img width=\"655\" alt=\"postman.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/32215/0ccaa246-c364-58f5-4a58-ed63eddffc0b.png\">\n\n\n## \u25c6 Lumen\u3092\u3055\u304f\u3089\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0\u3067\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306b\n\n\u4eca\u56de\u3001\u30de\u30eb\u30c1\u30c9\u30e1\u30a4\u30f3\u3067\u8a2d\u5b9a\u3057\u3066\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u30de\u30eb\u30c1\u30c9\u30e1\u30a4\u30f3\u306f\n\n\u300ctest.com\u300d \u3068\u3057\u307e\u3059\u3002\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306f\u300cwww/test\u300d\u3067\u3059\n\n\u3055\u304f\u3089\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0\u306e\u300cwww/test\u300d\u76f4\u4e0b\u306b\u3001\u4f5c\u6210\u3057\u305f\u30a2\u30d7\u30ea\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n\n### > MySQL\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8a2d\u5b9a\u3092\u3057\u3066.env\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\n\n```\nDB_CONNECTION=mysql\nDB_HOST=mysqlXXXXXX.db.sakura.ne.jp\nDB_PORT=3306\nDB_DATABASE=database\nDB_USERNAME=user\nDB_PASSWORD=password\n```\n\n### > \u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u79fb\u52d5\n\n\u300cwww/test\u300d\u304c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3068\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u4ee5\u4e0b\u306epublic\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5165\u3063\u3066\u3044\u308bindex.php\u30d5\u30a1\u30a4\u30eb\u3092\u300cwww/test/test\u300d\u306e\u76f4\u4e0b\u306b\u79fb\u52d5\u3055\u305b\u307e\u3059\u3002\n\n```\nindex.php\n```\n\n### > .htaccess\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\n\n- Options\u306b\u3088\u308b\u6307\u5b9a\u304c\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u307e\u3059\u300d\n    - [.htaccess\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u5fa1](https://help.sakura.ad.jp/hc/ja/articles/206054622--htaccess%E3%81%AB%E3%82%88%E3%82%8B%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E5%88%B6%E5%BE%A1)\n\n\n```\n<IfModule mod_rewrite.c>\n#    <IfModule mod_negotiation.c>\n#        Options -MultiViews\n#    </IfModule>\n\n    RewriteEngine On\n\n    # Redirect Trailing Slashes If Not A Folder...\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)/$ /$1 [L,R=301]\n\n    # Handle Front Controller...\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^ index.php [L]\n\n    # Handle Authorization Header\n    RewriteCond %{HTTP:Authorization} .\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\n</IfModule>\n```\n\n\u4e0a\u8a18\u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u3001Request exceeded the limit of 10 internal redirects due to probable configuration error. Use 'LimitInternalRecursion' to increase the limit if necessary. Use 'LogLevel debug' to get a backtrace.\u3068\u8a00\u3046\u30a8\u30e9\u30fc\u30ed\u30b0\u304c\u51fa\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001.htaccess\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u3066\u3044\u307e\u3059\u3002\n\n- [php \\- Request exceeded the limit of 10 internal redirects \\- Stack Overflow](http://stackoverflow.com/questions/19071324/request-exceeded-the-limit-of-10-internal-redirects)\n\n```\n<IfModule mod_rewrite.c>\nRewriteEngine On\nRewriteCond %{ENV:REDIRECT_STATUS} ^$\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^ index.php [L]\n</IfModule>\n```\n\n\n### > \u78ba\u8a8d\n\nhttp://test.jp/v1/posts\n\n\u3067json\u3067\u30c7\u30fc\u30bf\u304c\u8fd4\u5374\u3055\u308c\u307e\u3057\u305f\u3002\n\n\n\n### > \u8ab2\u984c\n\n\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306e\u300cwww/test/test\u300d\u3068\u3057\u306a\u304f\u3066\u3082\u3044\u3044\u3088\u3046\u306aRedirectRule\u3092\u304b\u3051\u306a\u3044\u304b\u306a\u3002\n\n\n\n\n\n", "tags": ["PHP", "lumen", "\u3055\u304f\u3089\u306e\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0"]}