{"tags": ["IoT", "SORACOM"], "context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nRaspberry Pi\u3067\u5bcc\u58eb\u30bd\u30d5\u30c8\u306eUSB\u30e2\u30c7\u30e0 FS01BU\u3092\u4f7f\u3044\u3001SORACOM Air\u306e3G\u901a\u4fe1\u304c\u3067\u304d\u307e\u3059\u3002\u63a5\u7d9a\u30b9\u30af\u30ea\u30d7\u30c8\u304cgist\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u305d\u308c\u3092\u5229\u7528\u3057\u3066\u81ea\u52d5\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u5e38\u6642\u904b\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u624b\u52d5\u3067\u78ba\u8a8d\u3057\u3064\u3064\u63a5\u7d9a\u3059\u308b\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u3067\u7d39\u4ecb\u3057\u307e\u3057\u305f\u3002\n\n\u3082\u3046\u3061\u3087\u3063\u3068\u697d\u306bRaspberry Pi\u3067SORACOM Air\u3092\u4f7f\u3046(FS01BU USB\u30e2\u30c7\u30e0\u3092\u7528\u3044\u3066)\n\n\n\u624b\u9806\nFS01BU\u3092Raspberry Pi\u306b\u5dee\u3057\u307e\u3059\u3002Raspberry Pi\u3092\u7acb\u3061\u4e0a\u3052\u3066\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u64cd\u4f5c\u3092\u884c\u3044\u307e\u3059\u3002\n\u5b9f\u884c\u3059\u308b\u524d\u306bwvdial\u3068usb-modeswitch\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n$ sudo apt-get update\n$ sudo apt-get install wvdial usb-modeswitch\n\ngit clone\u30b3\u30de\u30f3\u30c9\u3067\u30e9\u30ba\u30d1\u30a4\u5074\u306b\u30bd\u30fc\u30b9\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002./sora\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3067\u304d\u307e\u3059\u3002\n$ git clone https://gist.github.com/j3tm0t0/65367f971c3d770557f3 sora\nCloning into 'sora'...\nremote: Counting objects: 8, done.\nremote: Compressing objects: 100% (7/7), done.\nremote: Total 8 (delta 5), reused 0 (delta 0), pack-reused 0\nUnpacking objects: 100% (8/8), done.\nChecking connectivity... done.\n$ ls -d sora\nsora\n\n\u5358\u4f53\u3067\u3082\u4f7f\u3048\u308b\u3088\u3046\u306b/opt\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n$ sudo cp -R sora /opt/\n$ ls -l /opt/sora\n\u5408\u8a08 4\n-rw-r--r-- 1 root root 1369 10\u6708 11 12:39 connect_air.sh\n\n\u304a\u597d\u307f\u306b\u5fdc\u3058\u3066\u5b9f\u884c\u53ef\u80fd($ sudo chmod 755 /opt/sora/connect_air.sh)\u306b\u3057\u305f\u308a\u3001\u30d1\u30b9\u3092\u901a\u3059($ PATH=$PATH:/opt/sora/)\u3068\u826f\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u624b\u52d5\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\uff06\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ sudo bash /opt/sora/connect_air.sh\n\n\u4ee5\u4e0b\u306e\u8868\u793a\u306b\u306a\u308c\u3070\u3001\u6b63\u5e38\u306b\u63a5\u7d9a\u3067\u304d\u3066\u3044\u307e\u3059\u3002Ctrl+C\u3092\uff12\u56de\u6253\u3063\u3066\u7d42\u4e86\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nBus 001 Device 007: ID 0bda:8176 Realtek Semiconductor Corp. RTL8188CUS 802.11n WLAN Adapter\nBus 001 Device 006: ID 046d:c52b Logitech, Inc. Unifying Receiver\nBus 001 Device 009: ID 1c9e:6801 OMEGA TECHNOLOGY \nBus 001 Device 004: ID 1a40:0101 Terminus Technology Inc. 4-Port HUB\nBus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. SMSC9512/9514 Fast Ethernet Adapter\nBus 001 Device 002: ID 0424:9512 Standard Microsystems Corp. LAN9500 Ethernet 10/100 Adapter / SMSC9512/9514 Hub\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 009: ID 1c9e:6801 OMEGA TECHNOLOGY \nLook for target devices ...\n   product ID matched\n Found devices in target mode or class (1)\nLook for default devices ...\n   product ID matched\n Found devices in default mode (1)\nAccess device 009 on bus 001\nCurrent configuration number is 1\nUse interface number 0\nUse endpoints 0x01 (out) and 0x81 (in)\nError: can't use storage command in MessageContent with interface 0;\n       interface class is 255, expected 8. Abort\n\nwaiting for modem device\n--> WvDial: Internet dialer version 1.61\n--> Initializing modem.\n--> Sending: ATZ\nATZ\nOK\n--> Sending: ATQ0 V1 E1 S0=0 &C1 &D2 +FCLASS=0\nATQ0 V1 E1 S0=0 &C1 &D2 +FCLASS=0\nOK\n--> Sending: AT+CGDCONT=1,\"IP\",\"soracom.io\"\nAT+CGDCONT=1,\"IP\",\"soracom.io\"\nOK\n--> Modem initialized.\n--> Sending: ATD*99***1#\n--> Waiting for carrier.\nATD*99***1#\nCONNECT 14400000\n--> Carrier detected.  Starting PPP immediately.\n--> Starting pppd at Sun Oct 11 13:00:48 2015\n--> Pid of pppd: 2597\n--> Using interface ppp0\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> local  IP address 10.214.154.107\n--> pppd: ?????J?[01]?J?[01]\n--> remote IP address 10.64.64.64\n--> pppd: ?????J?[01]?J?[01]\n--> primary   DNS address 169.254.0.53\n--> pppd: ?????J?[01]?J?[01]\n\u2190[Ctrl+C]\u3067\u4e2d\u6b62\n^CCaught signal 2:  Attempting to exit gracefully...\n--> Terminating on signal 15\n--> pppd: ?????J?[01]?J?[01]\n--> Connect time 9.9 minutes.\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> Disconnecting at Sun Oct 11 13:10:46 2015 \u2190\u3082\u3046\u4e00\u5ea6[Ctrl+C]\u3067\u7d42\u4e86\n^C\n$\n\nCtrl\uff0bC\u3092\uff11\u56de\u6253\u3063\u305f\u3089\u3001\u5c11\u306a\u304f\u3068\u3082\uff11\u5206\u4ee5\u5185\u306bCtrl\uff0bC\u3092\u6253\u3064\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3067\u306a\u3044\u3068\u3001\u518d\u63a5\u7d9a\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u306e\u3067\u6ce8\u610f^^\n\u63a5\u7d9a\u3067\u304d\u305f\u3089\u81ea\u52d5\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8/etc/init.d/soracomair\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ sudo vi /etc/init.d/soracomair\n\n\n/etc/init.d/soracomair\n#!/bin/sh\n### BEGIN INIT INFO\n# Provides:          soracomair\n# Required-Start:    $remote_fs $syslog \n# Required-Stop:     $remote_fs $syslog\n# Default-Start:     2 3 4 5\n# Default-Stop:      0 1 6\n# Short-Description: Example initscript\n# Description:       This file should be used to construct scripts to be\n#                    placed in /etc/init.d.  This example start a\n#                    single forking daemon capable of writing a pid\n#                    file.  To get other behavoirs, implemend\n#                    do_start(), do_stop() or other functions to\n#                    override the defaults in /lib/init/init-d-script.\n### END INIT INFO\n\n#SORACOM Air\u63a5\u7d9a\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30d5\u30eb\u30d1\u30b9\u3092\u8a2d\u5b9a\ncmd=\"/opt/sora/connect_air.sh\"\n\nstart(){\n    #working  /opt/sora/connect_air.sh\n    echo -n \"connect air...\\n\"\n    #\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u884c\n    bash $cmd &\n\n    return 0\n}\nstop(){\n    echo -n \"stopping connect air...\\n\"\n    #\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u30d7\u30ed\u30bb\u30b9\u306ePID\u3092\u8a2d\u5b9a\n    pid=`ps ax | grep -v grep | grep \"$cmd\" | awk '{ print $1 }'`\n    #\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u505c\u6b62\n    kill $pid\n    #\u30c0\u30a4\u30e4\u30e9\u30fcwvdial\u306e\u505c\u6b62 pppd\u3082\u505c\u6b62\u3059\u308b\n    killall wvdial\n\n    return 0\n}\n\ncase $1 in\n        start)\n                start\n                        ;;\n        stop)\n                stop\n                        ;;\n        *)\n               echo \"Usage: $0 {start|stop}\"\n               exit 2\n                        ;;\nesac\n\n\n\u203b\u4e0a\u8a18\u30b9\u30af\u30ea\u30d7\u30c8\u306fconnect_air.sh\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u5358\u7d14\u306a\u3082\u306e\u3067\u3059\u3002\u3088\u308a\u9069\u5207\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3064\u3044\u3066\u30b3\u30e1\u30f3\u30c8\u3044\u305f\u3060\u3051\u308b\u3068\u5e78\u3044\u3067\u3059\n\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u30fb\u4fdd\u5b58\u3067\u304d\u305f\u3089\u3001insserv\u30b3\u30de\u30f3\u30c9\u3067\u5404\u30e9\u30f3\u30ec\u30d9\u30eb\u306e\u8d77\u52d5\u30ea\u30f3\u30af\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n$ sudo chmod 755 /etc/init.d/soracomair\n$ sudo insserv -d /etc/init.d/soracomair\n$ ls -l /etc/rc*.d/*soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc0.d/K01soracomair -> ../init.d/soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc1.d/K01soracomair -> ../init.d/soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc2.d/S02soracomair -> ../init.d/soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc3.d/S02soracomair -> ../init.d/soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc4.d/S02soracomair -> ../init.d/soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc5.d/S02soracomair -> ../init.d/soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc6.d/K01soracomair -> ../init.d/soracomair\n$ \n\n\u3046\u307e\u304f\u8a2d\u5b9a\u3067\u304d\u3066\u3044\u308b\u3088\u3046\u306a\u3089\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ sudo reboot\n\n\u518d\u8d77\u52d5\u5f8c\u3001\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u63a5\u7d9a\u78ba\u8a8d\n\u518d\u8d77\u52d5\u5f8c\u3001pi\u30e6\u30fc\u30b6\u30fc\u3067\u30ed\u30b0\u30a4\u30f3\u3057ifconfig\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ ifconfig ppp0\nppp0      Link encap:Point-to-Point\u30d7\u30ed\u30c8\u30b3\u30eb  \n          inet\u30a2\u30c9\u30ec\u30b9:10.214.154.107 P-t-P:10.64.64.64  \u30de\u30b9\u30af:255.255.255.255\n          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:1500  \u30e1\u30c8\u30ea\u30c3\u30af:1\n          RX\u30d1\u30b1\u30c3\u30c8:7 \u30a8\u30e9\u30fc:0 \u640d\u5931:0 \u30aa\u30fc\u30d0\u30e9\u30f3:0 \u30d5\u30ec\u30fc\u30e0:0\n          TX\u30d1\u30b1\u30c3\u30c8:8 \u30a8\u30e9\u30fc:0 \u640d\u5931:0 \u30aa\u30fc\u30d0\u30e9\u30f3:0 \u30ad\u30e3\u30ea\u30a2:0\n      \u885d\u7a81(Collisions):0 TX\u30ad\u30e5\u30fc\u9577:3 \n\n\n\u3042\u3068\u3001curl\u3084ping\u306a\u3069\u3092\u6253\u3063\u3066\u304a\u3051\u3070\u3044\u3044\u3067\u3057\u3087\u3046\u3002\u540d\u524d\u89e3\u6c7a\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n$ curl http://www.yahoo.co.jp\n\n$ ping www.yahoo.co.jp\n\n\n\u63a5\u7d9a\u3055\u308c\u306a\u3044\u6642\n\u624b\u52d5\u306b\u3088\u308b\u63a5\u7d9a\u78ba\u8a8d\u306e\u969b\u306blsusb\u306e\u51fa\u529b\u7d50\u679c\u306e\u307f\u8868\u793a\u3055\u308c\u63a5\u7d9a\u3067\u304d\u306a\u3044\u3068\u304d\u304c\u3042\u308a\u307e\u3059\u3002\n$ bash /opt/sora/connect_air.sh\n\u2026\nBus 001 Device 005: ID 1c9e:98ff OMEGA TECHNOLOGY \n\u2026\n$ \n\n\u3053\u306e\u3068\u304d\u3001ID\u304c1c9e:98ff\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u63a5\u7d9a\u3067\u304d\u307e\u305b\u3093\u3002FS01BU USB\u30e2\u30c7\u30e0\u3092\u629c\u304d\u5dee\u3057\u3057\u3066\u518d\u5ea6\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3063\u3066\u307f\u308b\u304b\u3001\u518d\u8d77\u52d5\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002ID\u304c1c9e:6801\u306e\u3068\u304d\u306b\u63a5\u7d9a\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u81ea\u52d5\u518d\u63a5\u7d9a\u306a\u3069\n\u306a\u3093\u3089\u304b\u306e\u30c8\u30e9\u30d6\u30eb\u3067\u63a5\u7d9a\u304c\u5207\u308c\u305f\u5834\u5408\u3001\u518d\u63a5\u7d9a\u304c\u3067\u304d\u308b\u304b\u5426\u304b\u304c\u904b\u7528\u306e\u9375\u3068\u306a\u308a\u307e\u3059\u304c\u3001gist\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u63a5\u7d9a\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306f\u3001\u63a5\u7d9a\u5f8c\uff11\u5206\u304a\u304d\u306b\u518d\u63a5\u7d9a\u3092\u884c\u3046\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u5b9f\u969b\u3001SORACOM Air\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u4f11\u6b62\uff0f\u958b\u59cb\u3092\u7e70\u308a\u8fd4\u3057\u3066\u3082\u518d\u63a5\u7d9a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\u8272\u3005\u691c\u8a0e\u30fb\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u81ea\u52d5\u63a5\u7d9a\u3068\u81ea\u52d5\u518d\u63a5\u7d9a\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3088\u308a\u3088\u3044\u65b9\u6cd5\u306a\u3069\u3042\u308a\u307e\u3057\u305f\u3089\u3001\u3053\u306e\u6295\u7a3f\u306b\u30b3\u30e1\u30f3\u30c8\u304b\u307e\u305f\u306fQiita\u306b\u6295\u7a3f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\u3067\u306f\u3067\u306f\uff01SORACOM Air\u3067IoT\u3092\u304a\u697d\u3057\u307f\u304f\u3060\u3055\u3044\n# \u6982\u8981\nRaspberry Pi\u3067\u5bcc\u58eb\u30bd\u30d5\u30c8\u306eUSB\u30e2\u30c7\u30e0 FS01BU\u3092\u4f7f\u3044\u3001SORACOM Air\u306e3G\u901a\u4fe1\u304c\u3067\u304d\u307e\u3059\u3002\u63a5\u7d9a\u30b9\u30af\u30ea\u30d7\u30c8\u304c[gist\u3067\u516c\u958b](https://gist.github.com/j3tm0t0/65367f971c3d770557f3)\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u305d\u308c\u3092\u5229\u7528\u3057\u3066\u81ea\u52d5\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u5e38\u6642\u904b\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u624b\u52d5\u3067\u78ba\u8a8d\u3057\u3064\u3064\u63a5\u7d9a\u3059\u308b\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u3067\u7d39\u4ecb\u3057\u307e\u3057\u305f\u3002\n\n+ [\u3082\u3046\u3061\u3087\u3063\u3068\u697d\u306bRaspberry Pi\u3067SORACOM Air\u3092\u4f7f\u3046(FS01BU USB\u30e2\u30c7\u30e0\u3092\u7528\u3044\u3066)](http://qiita.com/dietposter/items/bf3b0311a044eaf36df8)\n\n#\u624b\u9806\nFS01BU\u3092Raspberry Pi\u306b\u5dee\u3057\u307e\u3059\u3002Raspberry Pi\u3092\u7acb\u3061\u4e0a\u3052\u3066\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u64cd\u4f5c\u3092\u884c\u3044\u307e\u3059\u3002\n\u5b9f\u884c\u3059\u308b\u524d\u306b`wvdial`\u3068`usb-modeswitch`\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```bash\n$ sudo apt-get update\n$ sudo apt-get install wvdial usb-modeswitch\n```\n\n`git clone`\u30b3\u30de\u30f3\u30c9\u3067\u30e9\u30ba\u30d1\u30a4\u5074\u306b\u30bd\u30fc\u30b9\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002`./sora`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3067\u304d\u307e\u3059\u3002\n\n```bash\n$ git clone https://gist.github.com/j3tm0t0/65367f971c3d770557f3 sora\nCloning into 'sora'...\nremote: Counting objects: 8, done.\nremote: Compressing objects: 100% (7/7), done.\nremote: Total 8 (delta 5), reused 0 (delta 0), pack-reused 0\nUnpacking objects: 100% (8/8), done.\nChecking connectivity... done.\n$ ls -d sora\nsora\n```\n\u5358\u4f53\u3067\u3082\u4f7f\u3048\u308b\u3088\u3046\u306b`/opt`\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n```bash\n$ sudo cp -R sora /opt/\n$ ls -l /opt/sora\n\u5408\u8a08 4\n-rw-r--r-- 1 root root 1369 10\u6708 11 12:39 connect_air.sh\n```\n\u304a\u597d\u307f\u306b\u5fdc\u3058\u3066\u5b9f\u884c\u53ef\u80fd(`$ sudo chmod 755 /opt/sora/connect_air.sh`)\u306b\u3057\u305f\u308a\u3001\u30d1\u30b9\u3092\u901a\u3059(`$ PATH=$PATH:/opt/sora/`)\u3068\u826f\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u624b\u52d5\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\uff06\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```bash\n$ sudo bash /opt/sora/connect_air.sh\n```\n\u4ee5\u4e0b\u306e\u8868\u793a\u306b\u306a\u308c\u3070\u3001\u6b63\u5e38\u306b\u63a5\u7d9a\u3067\u304d\u3066\u3044\u307e\u3059\u3002`Ctrl+C`\u3092\uff12\u56de\u6253\u3063\u3066\u7d42\u4e86\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```bash\nBus 001 Device 007: ID 0bda:8176 Realtek Semiconductor Corp. RTL8188CUS 802.11n WLAN Adapter\nBus 001 Device 006: ID 046d:c52b Logitech, Inc. Unifying Receiver\nBus 001 Device 009: ID 1c9e:6801 OMEGA TECHNOLOGY \nBus 001 Device 004: ID 1a40:0101 Terminus Technology Inc. 4-Port HUB\nBus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. SMSC9512/9514 Fast Ethernet Adapter\nBus 001 Device 002: ID 0424:9512 Standard Microsystems Corp. LAN9500 Ethernet 10/100 Adapter / SMSC9512/9514 Hub\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 009: ID 1c9e:6801 OMEGA TECHNOLOGY \nLook for target devices ...\n   product ID matched\n Found devices in target mode or class (1)\nLook for default devices ...\n   product ID matched\n Found devices in default mode (1)\nAccess device 009 on bus 001\nCurrent configuration number is 1\nUse interface number 0\nUse endpoints 0x01 (out) and 0x81 (in)\nError: can't use storage command in MessageContent with interface 0;\n       interface class is 255, expected 8. Abort\n\nwaiting for modem device\n--> WvDial: Internet dialer version 1.61\n--> Initializing modem.\n--> Sending: ATZ\nATZ\nOK\n--> Sending: ATQ0 V1 E1 S0=0 &C1 &D2 +FCLASS=0\nATQ0 V1 E1 S0=0 &C1 &D2 +FCLASS=0\nOK\n--> Sending: AT+CGDCONT=1,\"IP\",\"soracom.io\"\nAT+CGDCONT=1,\"IP\",\"soracom.io\"\nOK\n--> Modem initialized.\n--> Sending: ATD*99***1#\n--> Waiting for carrier.\nATD*99***1#\nCONNECT 14400000\n--> Carrier detected.  Starting PPP immediately.\n--> Starting pppd at Sun Oct 11 13:00:48 2015\n--> Pid of pppd: 2597\n--> Using interface ppp0\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> local  IP address 10.214.154.107\n--> pppd: ?????J?[01]?J?[01]\n--> remote IP address 10.64.64.64\n--> pppd: ?????J?[01]?J?[01]\n--> primary   DNS address 169.254.0.53\n--> pppd: ?????J?[01]?J?[01]\n\u2190[Ctrl+C]\u3067\u4e2d\u6b62\n^CCaught signal 2:  Attempting to exit gracefully...\n--> Terminating on signal 15\n--> pppd: ?????J?[01]?J?[01]\n--> Connect time 9.9 minutes.\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> pppd: ?????J?[01]?J?[01]\n--> Disconnecting at Sun Oct 11 13:10:46 2015 \u2190\u3082\u3046\u4e00\u5ea6[Ctrl+C]\u3067\u7d42\u4e86\n^C\n$\n```\n\n`Ctrl\uff0bC`\u3092\uff11\u56de\u6253\u3063\u305f\u3089\u3001\u5c11\u306a\u304f\u3068\u3082\uff11\u5206\u4ee5\u5185\u306b`Ctrl\uff0bC`\u3092\u6253\u3064\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3067\u306a\u3044\u3068\u3001\u518d\u63a5\u7d9a\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u306e\u3067\u6ce8\u610f^^\n\u63a5\u7d9a\u3067\u304d\u305f\u3089\u81ea\u52d5\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8`/etc/init.d/soracomair`\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```bash\n$ sudo vi /etc/init.d/soracomair\n```\n\n```bash:/etc/init.d/soracomair\n#!/bin/sh\n### BEGIN INIT INFO\n# Provides:          soracomair\n# Required-Start:    $remote_fs $syslog \n# Required-Stop:     $remote_fs $syslog\n# Default-Start:     2 3 4 5\n# Default-Stop:      0 1 6\n# Short-Description: Example initscript\n# Description:       This file should be used to construct scripts to be\n#                    placed in /etc/init.d.  This example start a\n#                    single forking daemon capable of writing a pid\n#                    file.  To get other behavoirs, implemend\n#                    do_start(), do_stop() or other functions to\n#                    override the defaults in /lib/init/init-d-script.\n### END INIT INFO\n\n#SORACOM Air\u63a5\u7d9a\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30d5\u30eb\u30d1\u30b9\u3092\u8a2d\u5b9a\ncmd=\"/opt/sora/connect_air.sh\"\n\nstart(){\n    #working  /opt/sora/connect_air.sh\n    echo -n \"connect air...\\n\"\n    #\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u884c\n    bash $cmd &\n\n    return 0\n}\nstop(){\n    echo -n \"stopping connect air...\\n\"\n    #\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u30d7\u30ed\u30bb\u30b9\u306ePID\u3092\u8a2d\u5b9a\n    pid=`ps ax | grep -v grep | grep \"$cmd\" | awk '{ print $1 }'`\n    #\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u505c\u6b62\n    kill $pid\n    #\u30c0\u30a4\u30e4\u30e9\u30fcwvdial\u306e\u505c\u6b62 pppd\u3082\u505c\u6b62\u3059\u308b\n    killall wvdial\n\n    return 0\n}\n\ncase $1 in\n        start)\n                start\n                        ;;\n        stop)\n                stop\n                        ;;\n        *)\n               echo \"Usage: $0 {start|stop}\"\n               exit 2\n                        ;;\nesac\n```\n**\u203b\u4e0a\u8a18\u30b9\u30af\u30ea\u30d7\u30c8\u306fconnect_air.sh\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u5358\u7d14\u306a\u3082\u306e\u3067\u3059\u3002\u3088\u308a\u9069\u5207\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3064\u3044\u3066\u30b3\u30e1\u30f3\u30c8\u3044\u305f\u3060\u3051\u308b\u3068\u5e78\u3044\u3067\u3059**\n\n\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u30fb\u4fdd\u5b58\u3067\u304d\u305f\u3089\u3001`insserv`\u30b3\u30de\u30f3\u30c9\u3067\u5404\u30e9\u30f3\u30ec\u30d9\u30eb\u306e\u8d77\u52d5\u30ea\u30f3\u30af\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```bash\n$ sudo chmod 755 /etc/init.d/soracomair\n$ sudo insserv -d /etc/init.d/soracomair\n$ ls -l /etc/rc*.d/*soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc0.d/K01soracomair -> ../init.d/soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc1.d/K01soracomair -> ../init.d/soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc2.d/S02soracomair -> ../init.d/soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc3.d/S02soracomair -> ../init.d/soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc4.d/S02soracomair -> ../init.d/soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc5.d/S02soracomair -> ../init.d/soracomair\nlrwxrwxrwx 1 root root 20 10\u6708 11 13:20 /etc/rc6.d/K01soracomair -> ../init.d/soracomair\n$ \n```\n\n\u3046\u307e\u304f\u8a2d\u5b9a\u3067\u304d\u3066\u3044\u308b\u3088\u3046\u306a\u3089\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```bash\n$ sudo reboot\n```\n\n\u518d\u8d77\u52d5\u5f8c\u3001\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n#\u63a5\u7d9a\u78ba\u8a8d\n\u518d\u8d77\u52d5\u5f8c\u3001pi\u30e6\u30fc\u30b6\u30fc\u3067\u30ed\u30b0\u30a4\u30f3\u3057`ifconfig`\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash\n$ ifconfig ppp0\nppp0      Link encap:Point-to-Point\u30d7\u30ed\u30c8\u30b3\u30eb  \n          inet\u30a2\u30c9\u30ec\u30b9:10.214.154.107 P-t-P:10.64.64.64  \u30de\u30b9\u30af:255.255.255.255\n          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:1500  \u30e1\u30c8\u30ea\u30c3\u30af:1\n          RX\u30d1\u30b1\u30c3\u30c8:7 \u30a8\u30e9\u30fc:0 \u640d\u5931:0 \u30aa\u30fc\u30d0\u30e9\u30f3:0 \u30d5\u30ec\u30fc\u30e0:0\n          TX\u30d1\u30b1\u30c3\u30c8:8 \u30a8\u30e9\u30fc:0 \u640d\u5931:0 \u30aa\u30fc\u30d0\u30e9\u30f3:0 \u30ad\u30e3\u30ea\u30a2:0\n      \u885d\u7a81(Collisions):0 TX\u30ad\u30e5\u30fc\u9577:3 \n\n```\n\n\u3042\u3068\u3001curl\u3084ping\u306a\u3069\u3092\u6253\u3063\u3066\u304a\u3051\u3070\u3044\u3044\u3067\u3057\u3087\u3046\u3002\u540d\u524d\u89e3\u6c7a\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n```bash\n$ curl http://www.yahoo.co.jp\n```\n\n```bash\n$ ping www.yahoo.co.jp\n```\n\n\n#\u63a5\u7d9a\u3055\u308c\u306a\u3044\u6642\n\n\u624b\u52d5\u306b\u3088\u308b\u63a5\u7d9a\u78ba\u8a8d\u306e\u969b\u306blsusb\u306e\u51fa\u529b\u7d50\u679c\u306e\u307f\u8868\u793a\u3055\u308c\u63a5\u7d9a\u3067\u304d\u306a\u3044\u3068\u304d\u304c\u3042\u308a\u307e\u3059\u3002\n\n```bash\n$ bash /opt/sora/connect_air.sh\n\u2026\nBus 001 Device 005: ID 1c9e:98ff OMEGA TECHNOLOGY \n\u2026\n$ \n```\n\u3053\u306e\u3068\u304d\u3001ID\u304c1c9e:98ff\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u63a5\u7d9a\u3067\u304d\u307e\u305b\u3093\u3002FS01BU USB\u30e2\u30c7\u30e0\u3092\u629c\u304d\u5dee\u3057\u3057\u3066\u518d\u5ea6\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3063\u3066\u307f\u308b\u304b\u3001\u518d\u8d77\u52d5\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002ID\u304c1c9e:6801\u306e\u3068\u304d\u306b\u63a5\u7d9a\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n#\u81ea\u52d5\u518d\u63a5\u7d9a\u306a\u3069\n\u306a\u3093\u3089\u304b\u306e\u30c8\u30e9\u30d6\u30eb\u3067\u63a5\u7d9a\u304c\u5207\u308c\u305f\u5834\u5408\u3001\u518d\u63a5\u7d9a\u304c\u3067\u304d\u308b\u304b\u5426\u304b\u304c\u904b\u7528\u306e\u9375\u3068\u306a\u308a\u307e\u3059\u304c\u3001[gist\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u63a5\u7d9a\u30b9\u30af\u30ea\u30d7\u30c8](https://gist.github.com/j3tm0t0/65367f971c3d770557f3)\u3067\u306f\u3001\u63a5\u7d9a\u5f8c\uff11\u5206\u304a\u304d\u306b\u518d\u63a5\u7d9a\u3092\u884c\u3046\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u5b9f\u969b\u3001SORACOM Air\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u4f11\u6b62\uff0f\u958b\u59cb\u3092\u7e70\u308a\u8fd4\u3057\u3066\u3082\u518d\u63a5\u7d9a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\u8272\u3005\u691c\u8a0e\u30fb\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u81ea\u52d5\u63a5\u7d9a\u3068\u81ea\u52d5\u518d\u63a5\u7d9a\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3088\u308a\u3088\u3044\u65b9\u6cd5\u306a\u3069\u3042\u308a\u307e\u3057\u305f\u3089\u3001\u3053\u306e\u6295\u7a3f\u306b\u30b3\u30e1\u30f3\u30c8\u304b\u307e\u305f\u306fQiita\u306b\u6295\u7a3f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n\u3067\u306f\u3067\u306f\uff01SORACOM Air\u3067IoT\u3092\u304a\u697d\u3057\u307f\u304f\u3060\u3055\u3044:smile:\n"}