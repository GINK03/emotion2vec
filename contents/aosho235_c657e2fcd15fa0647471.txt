{"context": "\n\n\n\u6a5f\u80fd\nMySQL\nPostgreSQL\n\n\n\n\n\u8d77\u52d5\n$ mysql -p -h \u30db\u30b9\u30c8\u540d -P \u30dd\u30fc\u30c8\u756a\u53f7 -u \u30e6\u30fc\u30b6\u540d DB\u540d\n$ psql -h \u30db\u30b9\u30c8\u540d -p \u30dd\u30fc\u30c8\u756a\u53f7 -U \u30e6\u30fc\u30b6\u540d DB\u540d\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4e00\u89a7\nshow databases;\n\\l\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5207\u66ff\nuse DB\u540d\\u DB\u540d\n\\c DB\u540d\n\n\n\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\nshow tables;\n\\d\u3001\\dt\u3001\\d+\u3001\\dt+\n\n\n\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u78ba\u8a8d\ndesc \u30c6\u30fc\u30d6\u30eb\u540d;\n\\d \u30c6\u30fc\u30d6\u30eb\u540d\n\n\n\u30c6\u30fc\u30d6\u30ebCREATE\u6587\u78ba\u8a8d\nshow create table \u30c6\u30fc\u30d6\u30eb\u540d\npg_dump DB\u540d -U \u30e6\u30fc\u30b6\u540d -s -t \u30c6\u30fc\u30d6\u30eb\u540d\n\n\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4e00\u89a7\nSHOW INDEX FROM tbl_name;\n\\d table_name\n\n\n\u884c\u8868\u793a\u306e\u5207\u308a\u66ff\u3048\nselect * from t \\G\n\\xselect * from t;\n\n\nSQL\u30d5\u30a1\u30a4\u30eb\u5b9f\u884c\n\\.\n\\i\n\n\nSQL\u30c0\u30f3\u30d7\nmysqldump\npg_dump\n\n\nTSV\u30c0\u30f3\u30d7\nmysqldump -u USER --password=PASS DATABASE_NAME TABLE_NAME -T /tmp\n\uff1f\uff1f\uff1f\n\n\nTSV\u30a4\u30f3\u30dd\u30fc\u30c8\nLOAD DATA LOCAL INFILE '\\$FILE_NAME' REPLACE INTO TABLE \\$TABLE_NAME IGNORE 1 LINES;\ncopy table_name from '/absolute_path/to/data.tsv' ( delimiter '    ', format csv, header true ); \u203b1\n\n\n\nSQL\u6642\u9593\u8a08\u6e2c\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u8868\u793a\u3055\u308c\u308b\n\\timing on\n\n\n\u30ed\u30b0\u51fa\u529b\u958b\u59cb\n\\T log.txt\n\\o log.txt\n\n\n\u30ed\u30b0\u51fa\u529b\u7d42\u4e86\n\\t\n\\o\n\n\n\u5b9a\u7fa9\u3092\u30b3\u30d4\u30fc\u3057\u3066\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\ncreate table t2 like t1;\ncreate table t2 (like t1);\n\n\n\u5b9f\u884c\u8a08\u753b\nSQL\u306e\u5148\u982d\u306bEXPLAIN\u3092\u3064\u3051\u308b\nSQL\u306e\u5148\u982d\u306bEXPLAIN\u3092\u3064\u3051\u308b\n\n\n\u63a5\u7d9a\u5148\u30b5\u30fc\u30d0\u78ba\u8a8d\n\\s\n\\conninfo\n\n\n\u63a5\u7d9a\u3092\u78ba\u8a8d\nshow processlist;\nselect * from pg_stat_activity;\n\n\n\u9023\u756aID\n\u30ab\u30e9\u30e0\u540d int auto_increment\n\u30ab\u30e9\u30e0\u540d serial\n\n\n\u4eca\u65e5\u306e\u65e5\u4ed8\ncurdate()\ncurrent_date\n\n\n\u73fe\u5728\u6642\u523b\nnow()\nnow()\n\n\n\u30d8\u30eb\u30d7\n\\h \u307e\u305f\u306f \\?\n\\?\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n~/.my.cnf\n~/.psqlrc\n\n\n\n\u203b1 TSV\u30a4\u30f3\u30dd\u30fc\u30c8\u306fMySQL, PostgreSQL\u3068\u3082\u9762\u5012\u3060\u304b\u3089\u3001TSV\u304b\u3089SQL\u306b\u5909\u63db\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u81ea\u4f5c\u3059\u308b\u306e\u304c\u30d9\u30b9\u30c8\u3002\n\ninformation_schema\u306f\u4e21\u65b9\u306b\u5171\u901a\ninformation_schema\u306fSQL\u6a19\u6e96\u306a\u306e\u3067\u3001\u3069\u3061\u3089\u3067\u3082\u540c\u3058SQL\u304c\u4f7f\u3048\u308b\u3002\n\n\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\u3092\u8868\u793a\nSELECT table_catalog\n       ,table_schema\n       ,table_name\n       ,table_type\nFROM   information_schema.tables;\n\n\n\u30ab\u30e9\u30e0\u4e00\u89a7\u3092\u8868\u793a\nSELECT table_schema\n       ,table_name\n       ,column_name\n       ,data_type\n       ,character_maximum_length\n       ,numeric_precision\n       ,column_default\nFROM   information_schema.columns\nWHERE  table_name = 't1'\nORDER  BY table_name\n          ,ordinal_position;\n\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u63a5\u7d9a\u5148\nPostgreSQL\uff1a\u74b0\u5883\u5909\u6570\u3067\u8a2d\u5b9a\nexport PGDATABASE=DB\u540d\nexport PGHOST=\u30db\u30b9\u30c8\nexport PGPORT=\u30dd\u30fc\u30c8\u756a\u53f7\nexport PGUSER=\u30e6\u30fc\u30b6\u30fc\u540d\nexport PGPASSWORD=\u30d1\u30b9\u30ef\u30fc\u30c9\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306f~/.pgpass\u3067\u3082\u8a2d\u5b9a\u3067\u304d\u308b\u3002\n\nMySQL\uff1a~/.my.cnf\u3067\u8a2d\u5b9a\n[client]\ndatabase=DB\u540d\nuser=\u30e6\u30fc\u30b6\u30fc\u540d\npassword=\u30d1\u30b9\u30ef\u30fc\u30c9\n\n\u6a5f\u80fd | MySQL | PostgreSQL\n----|----|----\n\u8d77\u52d5 | `$ mysql -p -h \u30db\u30b9\u30c8\u540d -P \u30dd\u30fc\u30c8\u756a\u53f7 -u \u30e6\u30fc\u30b6\u540d DB\u540d` | `$ psql -h \u30db\u30b9\u30c8\u540d -p \u30dd\u30fc\u30c8\u756a\u53f7 -U \u30e6\u30fc\u30b6\u540d DB\u540d` \n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4e00\u89a7 | show databases; | \\l\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5207\u66ff | use DB\u540d<br>\\u DB\u540d | \\c DB\u540d\n\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7 | show tables; | \\d\u3001\\dt\u3001\\d+\u3001\\dt+\n\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u78ba\u8a8d | desc \u30c6\u30fc\u30d6\u30eb\u540d; | \\d \u30c6\u30fc\u30d6\u30eb\u540d\n\u30c6\u30fc\u30d6\u30ebCREATE\u6587\u78ba\u8a8d | show create table \u30c6\u30fc\u30d6\u30eb\u540d | pg_dump DB\u540d -U \u30e6\u30fc\u30b6\u540d -s -t \u30c6\u30fc\u30d6\u30eb\u540d\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4e00\u89a7 | SHOW INDEX FROM tbl_name; | \\d table_name\n\u884c\u8868\u793a\u306e\u5207\u308a\u66ff\u3048 | select * from t \\G | \\x<BR>select * from t;\nSQL\u30d5\u30a1\u30a4\u30eb\u5b9f\u884c | \\\\. | \\i\nSQL\u30c0\u30f3\u30d7 | mysqldump | pg_dump\nTSV\u30c0\u30f3\u30d7 | mysqldump -u USER --password=PASS DATABASE_NAME TABLE_NAME -T /tmp | \uff1f\uff1f\uff1f\nTSV\u30a4\u30f3\u30dd\u30fc\u30c8 | LOAD DATA LOCAL INFILE '\\$FILE_NAME' REPLACE INTO TABLE \\$TABLE_NAME IGNORE 1 LINES; | copy table_name from '/absolute_path/to/data.tsv' ( delimiter '    ', format csv, header true ); **\u203b1**\nSQL\u6642\u9593\u8a08\u6e2c | \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u8868\u793a\u3055\u308c\u308b | \\timing on\n\u30ed\u30b0\u51fa\u529b\u958b\u59cb | \\T log.txt | \\o log.txt\n\u30ed\u30b0\u51fa\u529b\u7d42\u4e86 | \\t | \\o\n\u5b9a\u7fa9\u3092\u30b3\u30d4\u30fc\u3057\u3066\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210 | create table t2 like t1; | create table t2 (like t1);\n\u5b9f\u884c\u8a08\u753b | SQL\u306e\u5148\u982d\u306bEXPLAIN\u3092\u3064\u3051\u308b | SQL\u306e\u5148\u982d\u306bEXPLAIN\u3092\u3064\u3051\u308b\n\u63a5\u7d9a\u5148\u30b5\u30fc\u30d0\u78ba\u8a8d|\\s | \\conninfo\n\u63a5\u7d9a\u3092\u78ba\u8a8d | show processlist; | select * from pg_stat_activity; |\n\u9023\u756aID | \u30ab\u30e9\u30e0\u540d int auto_increment | \u30ab\u30e9\u30e0\u540d serial\n\u4eca\u65e5\u306e\u65e5\u4ed8 | curdate() | current_date\n\u73fe\u5728\u6642\u523b | now() | now()\n\u30d8\u30eb\u30d7 | \\h \u307e\u305f\u306f \\? | \\?\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb | ~/.my.cnf | ~/.psqlrc\n\n\u203b1 TSV\u30a4\u30f3\u30dd\u30fc\u30c8\u306fMySQL, PostgreSQL\u3068\u3082\u9762\u5012\u3060\u304b\u3089\u3001TSV\u304b\u3089SQL\u306b\u5909\u63db\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u81ea\u4f5c\u3059\u308b\u306e\u304c\u30d9\u30b9\u30c8\u3002\n\n\n## information_schema\u306f\u4e21\u65b9\u306b\u5171\u901a\n\ninformation_schema\u306fSQL\u6a19\u6e96\u306a\u306e\u3067\u3001\u3069\u3061\u3089\u3067\u3082\u540c\u3058SQL\u304c\u4f7f\u3048\u308b\u3002\n\n### \u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\u3092\u8868\u793a\n\n```\nSELECT table_catalog\n       ,table_schema\n       ,table_name\n       ,table_type\nFROM   information_schema.tables;\n```\n\n### \u30ab\u30e9\u30e0\u4e00\u89a7\u3092\u8868\u793a\n\n```\nSELECT table_schema\n       ,table_name\n       ,column_name\n       ,data_type\n       ,character_maximum_length\n       ,numeric_precision\n       ,column_default\nFROM   information_schema.columns\nWHERE  table_name = 't1'\nORDER  BY table_name\n          ,ordinal_position;\n```\n\n\n## \u30c7\u30d5\u30a9\u30eb\u30c8\u63a5\u7d9a\u5148\n\nPostgreSQL\uff1a\u74b0\u5883\u5909\u6570\u3067\u8a2d\u5b9a\n\n```\nexport PGDATABASE=DB\u540d\nexport PGHOST=\u30db\u30b9\u30c8\nexport PGPORT=\u30dd\u30fc\u30c8\u756a\u53f7\nexport PGUSER=\u30e6\u30fc\u30b6\u30fc\u540d\nexport PGPASSWORD=\u30d1\u30b9\u30ef\u30fc\u30c9\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306f~/.pgpass\u3067\u3082\u8a2d\u5b9a\u3067\u304d\u308b\u3002\n```\n\nMySQL\uff1a~/.my.cnf\u3067\u8a2d\u5b9a\n\n```\n[client]\ndatabase=DB\u540d\nuser=\u30e6\u30fc\u30b6\u30fc\u540d\npassword=\u30d1\u30b9\u30ef\u30fc\u30c9\n```\n", "tags": ["MySQL", "postgres"]}