{"context": " More than 1 year has passed since last update.\u30d3\u30eb\u30c9\u74b0\u5883\u306fCentOS6.6\u3067\u3059\n\nLuaJIT\u3092fedora\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u6301\u3063\u3066\u304d\u3066\u30ea\u30d3\u30eb\u30c9\u3059\u308b\n$ wget https://dl.fedoraproject.org/pub/fedora/linux/development/rawhide/source/SRPMS/l/luajit-2.0.3-4.fc22.src.rpm\n$ rpm -ivh luajit-2.0.3-4.fc22.src.rpm\n$ rpmbuild -ba ~/rpmbuild/SPECS/luajit.spec\n\n\n\u30ea\u30d3\u30eb\u30c9\u3057\u305fLuaJIT\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum localinstall ~/rpmbuild/RPMS/x86_64/luajit-2.0.3-4.el6.x86_64.rpm  ~/rpmbuild/RPMS/x86_64/luajit-devel-2.0.3-4.el6.x86_64.rpm\n\n\nNginx\u3092\u516c\u5f0f\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u6301\u3063\u3066\u304d\u3066\u30ea\u30d3\u30eb\u30c9\u3059\u308b\n$ wget http://nginx.org/packages/centos/6/SRPMS/nginx-1.6.2-1.el6.ngx.src.rpm\n$ rpm -ivh nginx-1.6.2-1.el6.ngx.src.rpm\n\n\nlua-nginx-module\u3068ngx_devel_kit\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066SOURCES\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\n$ cd ~/rpmbuild/SOURCES/\n$ wget -O lua-nginx-module-0.9.12.tar.gz https://github.com/openresty/lua-nginx-module/archive/v0.9.12.tar.gz\n$ wget -O ngx_devel_kit-0.2.19.tar.gz https://github.com/simpl/ngx_devel_kit/archive/v0.2.19.tar.gz\n\n\nnginx\u306eSPEC\u30d5\u30a1\u30a4\u30eb\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u66f8\u304d\u63db\u3048\u308b\n@@ -42,12 +42,17 @@\n Requires(pre): pwdutils\n %endif\n\n+%define lua_nginx_module_var 0.9.12\n+%define ngx_devel_kit_var 0.2.19\n+Requires: luajit\n+BuildRequires: luajit-devel\n+\n # end of distribution specific definitions\n\n Summary: High performance web server\n Name: nginx\n Version: 1.6.2\n-Release: 1%{?dist}.ngx\n+Release: 1%{?dist}.lua\n Vendor: nginx inc.\n URL: http://nginx.org/\n\n@@ -61,6 +66,8 @@\n Source7: nginx.suse.init\n Source8: nginx.service\n Source9: nginx.upgrade.sh\n+Source10: lua-nginx-module-%{lua_nginx_module_var}.tar.gz\n+Source11: ngx_devel_kit-%{ngx_devel_kit_var}.tar.gz\n\n License: 2-clause BSD-like license\n\n@@ -82,11 +89,13 @@\n Not stripped version of nginx built with the debugging log support.\n\n %prep\n-%setup -q\n+%setup -a 10 -a 11 -q\n\n %build\n ./configure \\\n         --prefix=%{_sysconfdir}/nginx \\\n+        --add-module=./lua-nginx-module-%{lua_nginx_module_var}/ \\\n+        --add-module=./ngx_devel_kit-%{ngx_devel_kit_var}/ \\\n         --sbin-path=%{_sbindir}/nginx \\\n         --conf-path=%{_sysconfdir}/nginx/nginx.conf \\\n         --error-log-path=%{_localstatedir}/log/nginx/error.log \\\n@@ -126,6 +135,8 @@\n         %{_builddir}/%{name}-%{version}/objs/nginx.debug\n ./configure \\\n         --prefix=%{_sysconfdir}/nginx \\\n+        --add-module=./lua-nginx-module-%{lua_nginx_module_var}/ \\\n+        --add-module=./ngx_devel_kit-%{ngx_devel_kit_var}/ \\\n         --sbin-path=%{_sbindir}/nginx \\\n         --conf-path=%{_sysconfdir}/nginx/nginx.conf \\\n         --error-log-path=%{_localstatedir}/log/nginx/error.log \\\n\n\n\u30ea\u30d3\u30eb\u30c9\u3059\u308b\n$ sudo yum-builddep ~/rpmbuild/SPECS/nginx.spec\n$ rpmbuild -ba ~/rpmbuild/SPECS/nginx.spec\n\n\u5b8c\u6210\u304b\u306a\uff1f\n\u307e\u3060\u52d5\u304b\u3057\u3066\u307e\u305b\u3093\uff01\n\u6b21\u306f\u52d5\u304b\u3057\u3066\u307f\u307e\u3059\n\u30d3\u30eb\u30c9\u74b0\u5883\u306fCentOS6.6\u3067\u3059\n\n\n#####LuaJIT\u3092fedora\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u6301\u3063\u3066\u304d\u3066\u30ea\u30d3\u30eb\u30c9\u3059\u308b\n```\n$ wget https://dl.fedoraproject.org/pub/fedora/linux/development/rawhide/source/SRPMS/l/luajit-2.0.3-4.fc22.src.rpm\n$ rpm -ivh luajit-2.0.3-4.fc22.src.rpm\n$ rpmbuild -ba ~/rpmbuild/SPECS/luajit.spec\n```\n\n#####\u30ea\u30d3\u30eb\u30c9\u3057\u305fLuaJIT\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\n$ sudo yum localinstall ~/rpmbuild/RPMS/x86_64/luajit-2.0.3-4.el6.x86_64.rpm  ~/rpmbuild/RPMS/x86_64/luajit-devel-2.0.3-4.el6.x86_64.rpm\n```\n\n#####Nginx\u3092\u516c\u5f0f\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u6301\u3063\u3066\u304d\u3066\u30ea\u30d3\u30eb\u30c9\u3059\u308b\n```\n$ wget http://nginx.org/packages/centos/6/SRPMS/nginx-1.6.2-1.el6.ngx.src.rpm\n$ rpm -ivh nginx-1.6.2-1.el6.ngx.src.rpm\n```\n\n#####lua-nginx-module\u3068ngx_devel_kit\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066SOURCES\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\n```\n$ cd ~/rpmbuild/SOURCES/\n$ wget -O lua-nginx-module-0.9.12.tar.gz https://github.com/openresty/lua-nginx-module/archive/v0.9.12.tar.gz\n$ wget -O ngx_devel_kit-0.2.19.tar.gz https://github.com/simpl/ngx_devel_kit/archive/v0.2.19.tar.gz\n```\n\n#####nginx\u306eSPEC\u30d5\u30a1\u30a4\u30eb\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u66f8\u304d\u63db\u3048\u308b\n\n```\n@@ -42,12 +42,17 @@\n Requires(pre): pwdutils\n %endif\n\n+%define lua_nginx_module_var 0.9.12\n+%define ngx_devel_kit_var 0.2.19\n+Requires: luajit\n+BuildRequires: luajit-devel\n+\n # end of distribution specific definitions\n\n Summary: High performance web server\n Name: nginx\n Version: 1.6.2\n-Release: 1%{?dist}.ngx\n+Release: 1%{?dist}.lua\n Vendor: nginx inc.\n URL: http://nginx.org/\n\n@@ -61,6 +66,8 @@\n Source7: nginx.suse.init\n Source8: nginx.service\n Source9: nginx.upgrade.sh\n+Source10: lua-nginx-module-%{lua_nginx_module_var}.tar.gz\n+Source11: ngx_devel_kit-%{ngx_devel_kit_var}.tar.gz\n\n License: 2-clause BSD-like license\n\n@@ -82,11 +89,13 @@\n Not stripped version of nginx built with the debugging log support.\n\n %prep\n-%setup -q\n+%setup -a 10 -a 11 -q\n\n %build\n ./configure \\\n         --prefix=%{_sysconfdir}/nginx \\\n+        --add-module=./lua-nginx-module-%{lua_nginx_module_var}/ \\\n+        --add-module=./ngx_devel_kit-%{ngx_devel_kit_var}/ \\\n         --sbin-path=%{_sbindir}/nginx \\\n         --conf-path=%{_sysconfdir}/nginx/nginx.conf \\\n         --error-log-path=%{_localstatedir}/log/nginx/error.log \\\n@@ -126,6 +135,8 @@\n         %{_builddir}/%{name}-%{version}/objs/nginx.debug\n ./configure \\\n         --prefix=%{_sysconfdir}/nginx \\\n+        --add-module=./lua-nginx-module-%{lua_nginx_module_var}/ \\\n+        --add-module=./ngx_devel_kit-%{ngx_devel_kit_var}/ \\\n         --sbin-path=%{_sbindir}/nginx \\\n         --conf-path=%{_sysconfdir}/nginx/nginx.conf \\\n         --error-log-path=%{_localstatedir}/log/nginx/error.log \\\n```\n\n\n#####\u30ea\u30d3\u30eb\u30c9\u3059\u308b\n```\n$ sudo yum-builddep ~/rpmbuild/SPECS/nginx.spec\n$ rpmbuild -ba ~/rpmbuild/SPECS/nginx.spec\n```\n\n\u5b8c\u6210\u304b\u306a\uff1f\n\u307e\u3060\u52d5\u304b\u3057\u3066\u307e\u305b\u3093\uff01\n\u6b21\u306f\u52d5\u304b\u3057\u3066\u307f\u307e\u3059\n", "tags": ["nginx", "CentOS", "rpm"]}