{"context": " More than 1 year has passed since last update.\u3053\u3093\u3070\u3093\u306f  \nPerl 6 Advent Calendar 2015\u306e14\u65e5\u76ee\u3067\u30591\n\u4eca\u65e5\u306f\u300c\u9032\u6357\u3069\u3046\u3067\u3059\u304b\uff1f\uff1f\uff1f\u300d\u30cd\u30bf\u306ePerl5\u7248\u3092Perl6\u3067\u66f8\u3044\u3066\u307f\u307e\u30592\n\n\u2460 \u9032\u6357\u3069\u3046\u3067\u3059\u304b\u30d6\u30fc\u30e0???\u306b Perl \u3067\u306e\u308a\u304b\u304b\u308b - Qiita\n\n\u307e\u305a\u306f\u3001\u3053\u306e\u8a18\u4e8b\u306e\u30b3\u30e1\u30f3\u30c8\u6b04\u306b\u3042\u3063\u305f\u30bd\u30fc\u30b9\u3092Perl6\u3067\u66f8\u3044\u3066\u307f\u307e\u30593\nuse v6;\n\nmy Str constant @dict = < \u9032\u6357 \u3069\u3046 \u3067\u3059 \u304b >;\nmy Str constant $qqq  = '\uff1f\uff1f\uff1f';\nmy Int $c = $qqq.chars;\n\nuntil my Str @s = () {\n  LAST {\n    say $qqq;\n    say $c ~ \"\u6587\u5b57\u3067\u717d\u3089\u308c\u307e\u3057\u305f\";\n  }\n\n  for @dict {\n    # @s.push: @dict[ @dict.elems.rand.Int ];\n    @s.push: @dict.pick;\n    $c += @s[*-1].chars;\n  }\n  print @s;\n\n  last if @dict eq @s;\n}\n\n\u30eb\u30fc\u30d7\u3092\u629c\u3051\u308b\u6642\u306b\u5b9f\u884c\u3055\u308c\u308bLAST\u30d6\u30ed\u30c3\u30af\u306b\u51fa\u529b\u51e6\u7406\u3092\u96c6\u3081\u3066\u3044\u307e\u3059\u3002\n\u3042\u3068\u3001\u914d\u5217\u306e\u4e2d\u8eab\u304b\u3089\u7121\u4f5c\u70ba\u62bd\u51fa\u3059\u308b\u51e6\u7406\u3067Array.pick\u304c\u5730\u5473\u306b\u3044\u3044\u4ed5\u4e8b\u3092\u3057\u307e\u3059\u3002\n\n2016/01/06\u8ffd\u8a18\n\u305d\u3057\u3066\u3001\u524d\u8ff0\u306e\u30b3\u30e1\u30f3\u30c8\u306b\u7b46\u8005\u3055\u3093\u304c\u30b3\u30e1\u30f3\u30c8\u8fd4\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\n\u9032\u6357\u3069\u3046\u3067\u3059\u304b\u30d6\u30fc\u30e0???\u306b Perl \u3067\u306e\u308a\u304b\u304b\u308b - Qiita\n\n\u305d\u308c\u306f\uff14\u500b\u6bce\u306b\u51fa\u529b\u3057\u3066\u6700\u5f8c\u306e\uff14\u500b\u3092\u6bd4\u8f03\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u9014\u4e2d\u3067\u6587\u5b57\u5217\u304c\u5b8c\u6210\u3057\u3066\u3044\u3066\u3082\u6c17\u3065\u3051\u306a\u3044\u30b1\u30fc\u30b9\u304c\u3042\u308a\u305d\u3046\u3067\u3059\u306d\u3002\n\n\n\u30de\u30b8\u3060\u2026\n\n\u3064\u304e\u306b\u3001\u672c\u6587\u306e\u672b\u5c3e\u518d\u5e30\u6700\u9069\u5316 ver\u3092Perl6\u3067\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\nuse v6;\n\nmy Str constant @words    = < \u9032\u6357 \u3069\u3046 \u3067\u3059 \u304b > ;\nmy Str constant $end_word = '???';\n\nmy Int $length = 0;\nmy @cache;\n\nloop {\n  LAST {\n    print $end_word;\n    $length += $end_word.chars;\n    printf \"\\n%d\u6587\u5b57\u3067\u717d\u3089\u308c\u307e\u3057\u305f\\n\", $length;\n  }\n\n  print my $word = @words.pick;\n  $length += $word.chars;\n  @cache.push: $word;\n  @cache.shift while @cache > @words;\n\n  last if @cache eq @words ;\n}\n\n\u6700\u9069\u306f\u3084\u3044\u3002\u3059\u3066\u304d\u3002\n\n\u2461 \u5341\u5468\u304f\u3089\u3044\u9045\u3044\u3001\u9032\u6357\u3069\u3046\u3067\u3059\u304b\u3002 - Qiita\n\n\u3064\u304e\u306f\u3053\u306e\u65b9\u306e\u30bd\u30fc\u30b9\u3092Perl6\u3067\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\nuse v6;\n\nmy Str constant @words = < \u9032\u6357 \u3069\u3046 \u3067\u3059 \u304b >;\nmy Str @cache;\n\nwhile 1 {\n  @cache.push: @words.pick;\n  last if @words eq @cache[ *-4 .. *-1 ];\n\n  LAST {\n    say my $c = [~] @cache.push: '\uff1f\uff1f\uff1f';\n    printf \"%d\u6587\u5b57\u3067\u717d\u3089\u308c\u307e\u3057\u305f\\n\", $c.chars ;\n  }\n}\n\n\u5143\u304c\u7c21\u6f54\u306b\u66f8\u304b\u308c\u3066\u3044\u305f\u3053\u3068\u3082\u3042\u308a\u3059\u3063\u304d\u308a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u2462 \u300c\u9032\u6357\u30fb\u3069\u3046\u30fb\u3067\u3059\u30fb\u304b\u300d\u3092Perl\u3067 - Qiita\n\n\u6700\u5f8c\u306f\u81ea\u5206\u306e\u3092\u3002\nuse v6;\n\nmy Str constant @words = < \u9032\u6357 \u3069\u3046 \u3067\u3059 \u304b >;\nmy Str $w = @words.join;\nmy Str $word_buffer = '';\n\nwhile 1 {\n  $word_buffer ~= @words.pick;\n\n  last if $word_buffer ~~ m:overlap/ <{ $w }> $$ /;\n\n  LAST {\n    $word_buffer ~= '\uff1f\uff1f\uff1f';\n    say $word_buffer;\n    say $word_buffer.chars, \"\u6587\u5b57\u3067\u717d\u3089\u308c\u307e\u3057\u305f\u3002\";\n  }\n}\n\n\u6587\u5b57\u5217$word_buffer\u306e\u5f8c\u308d\u306e\u65b9\u3092\u6b63\u898f\u8868\u73fe\u3067\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u5834\u5408\u3001\u6b63\u898f\u8868\u73fe\u3067\u306f\u306a\u304f\u3066Str.ends-with\u3067\u3082\u3088\u3044\u304b\u3093\u3058\u3002\nuse v6;\n\nmy Str constant @words = < \u9032\u6357 \u3069\u3046 \u3067\u3059 \u304b >;\nmy Str constant $w = [~] @words;\nmy Str $word_buffer = '';\n\nwhile 1 {\n  $word_buffer ~= @words.pick;\n\n  last if $word_buffer.ends-with( $w );\n\n  LAST {\n    $word_buffer ~= '\uff1f\uff1f\uff1f';\n    say $word_buffer;\n    say $word_buffer.chars, \"\u6587\u5b57\u3067\u717d\u3089\u308c\u307e\u3057\u305f\u3002\";\n  }\n}\n\n\u304a\u308f\u308a\u3067\u3059\u3002\n\u305d\u3057\u3066\u4eca\u65e5\u3082\u9032\u6357\u306f\u82b3\u3057\u304f\u306a\u3044\u3002\n\n\u53c2\u8003\u3068\u6ce8\u91c8\n\nPerl5,Perl6\u3067\u914d\u5217\u306e\u672b\u5c3e\u304b\u3089\u3072\u3068\u3064\u524d\u306e\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3059 - Qiita\nControl Flow - Perl 6 Documentation\n\n\n\n\n\n\u4e8b\u6545\u30ec\u30d9\u30eb\u306e\u9045\u523b\u00a0\u21a9\n\n\n\u672c\u5f53\u306fInline::Perl5 \u30e2\u30b8\u30e5\u30fc\u30eb\u30cd\u30bf\u3092\u66f8\u3053\u3046\u3068\u601d\u3063\u3066\u3044\u305f\u3051\u3069\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u3002\u00a0\u21a9\n\n\n\u3053\u308c\u304c\u300c\uff1f\uff1f\uff1f\u300d\u3082\u6587\u5b57\u6570\u30ab\u30a6\u30f3\u30c8\u306b\u5165\u308c\u3066\u3044\u305f\u306e\u3067\u4ee5\u964d\u305d\u308c\u306b\u5023\u3044\u307e\u3059\u3002\u00a0\u21a9\n\n\n\n\u3053\u3093\u3070\u3093\u306f :whale2: \n[Perl 6 Advent Calendar 2015](http://qiita.com/advent-calendar/2015/perl6)\u306e14\u65e5\u76ee\u3067\u3059[^delay]\n\u4eca\u65e5\u306f\u300c[\u9032\u6357\u3069\u3046\u3067\u3059\u304b\uff1f\uff1f\uff1f](http://elephnote.com/blog/archives/936)\u300d\u30cd\u30bf\u306ePerl5\u7248\u3092Perl6\u3067\u66f8\u3044\u3066\u307f\u307e\u3059[^hon]\n\n### \u2460 [\u9032\u6357\u3069\u3046\u3067\u3059\u304b\u30d6\u30fc\u30e0???\u306b Perl \u3067\u306e\u308a\u304b\u304b\u308b - Qiita](http://qiita.com/b_wind/items/06c56c898a988c2463fe)\n\n\u307e\u305a\u306f\u3001\u3053\u306e\u8a18\u4e8b\u306e\u30b3\u30e1\u30f3\u30c8\u6b04\u306b\u3042\u3063\u305f\u30bd\u30fc\u30b9\u3092Perl6\u3067\u66f8\u3044\u3066\u307f\u307e\u3059[^curry]\n\n```pl\nuse v6;\n\nmy Str constant @dict = < \u9032\u6357 \u3069\u3046 \u3067\u3059 \u304b >;\nmy Str constant $qqq  = '\uff1f\uff1f\uff1f';\nmy Int $c = $qqq.chars;\n\nuntil my Str @s = () {\n  LAST {\n    say $qqq;\n    say $c ~ \"\u6587\u5b57\u3067\u717d\u3089\u308c\u307e\u3057\u305f\";\n  }\n\n  for @dict {\n    # @s.push: @dict[ @dict.elems.rand.Int ];\n    @s.push: @dict.pick;\n    $c += @s[*-1].chars;\n  }\n  print @s;\n\n  last if @dict eq @s;\n}\n```\n\n\u30eb\u30fc\u30d7\u3092\u629c\u3051\u308b\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b`LAST`\u30d6\u30ed\u30c3\u30af\u306b\u51fa\u529b\u51e6\u7406\u3092\u96c6\u3081\u3066\u3044\u307e\u3059\u3002\n\u3042\u3068\u3001\u914d\u5217\u306e\u4e2d\u8eab\u304b\u3089\u7121\u4f5c\u70ba\u62bd\u51fa\u3059\u308b\u51e6\u7406\u3067`Array.pick`\u304c\u5730\u5473\u306b\u3044\u3044\u4ed5\u4e8b\u3092\u3057\u307e\u3059\u3002\n\n---------------\n_2016/01/06\u8ffd\u8a18_\n\n\u305d\u3057\u3066\u3001\u524d\u8ff0\u306e\u30b3\u30e1\u30f3\u30c8\u306b\u7b46\u8005\u3055\u3093\u304c\u30b3\u30e1\u30f3\u30c8\u8fd4\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\n> [\u9032\u6357\u3069\u3046\u3067\u3059\u304b\u30d6\u30fc\u30e0???\u306b Perl \u3067\u306e\u308a\u304b\u304b\u308b - Qiita](http://qiita.com/b_wind/items/06c56c898a988c2463fe#comment-6ed8d8ebee113328bc36)\n>> \u305d\u308c\u306f\uff14\u500b\u6bce\u306b\u51fa\u529b\u3057\u3066\u6700\u5f8c\u306e\uff14\u500b\u3092\u6bd4\u8f03\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u9014\u4e2d\u3067\u6587\u5b57\u5217\u304c\u5b8c\u6210\u3057\u3066\u3044\u3066\u3082\u6c17\u3065\u3051\u306a\u3044\u30b1\u30fc\u30b9\u304c\u3042\u308a\u305d\u3046\u3067\u3059\u306d\u3002\n\n\u30de\u30b8\u3060\u2026\n\n---------------\n\n\u3064\u304e\u306b\u3001\u672c\u6587\u306e`\u672b\u5c3e\u518d\u5e30\u6700\u9069\u5316 ver`\u3092Perl6\u3067\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\n\n```pl\nuse v6;\n\nmy Str constant @words    = < \u9032\u6357 \u3069\u3046 \u3067\u3059 \u304b > ;\nmy Str constant $end_word = '???';\n\nmy Int $length = 0;\nmy @cache;\n\nloop {\n  LAST {\n    print $end_word;\n    $length += $end_word.chars;\n    printf \"\\n%d\u6587\u5b57\u3067\u717d\u3089\u308c\u307e\u3057\u305f\\n\", $length;\n  }\n\n  print my $word = @words.pick;\n  $length += $word.chars;\n  @cache.push: $word;\n  @cache.shift while @cache > @words;\n\n  last if @cache eq @words ;\n}\n```\n\n\u6700\u9069\u306f\u3084\u3044\u3002\u3059\u3066\u304d\u3002\n\n### \u2461 [\u5341\u5468\u304f\u3089\u3044\u9045\u3044\u3001\u9032\u6357\u3069\u3046\u3067\u3059\u304b\u3002 - Qiita](http://qiita.com/bunzaemon/items/571c6c0046668712e9ed)\n\n\u3064\u304e\u306f\u3053\u306e\u65b9\u306e\u30bd\u30fc\u30b9\u3092Perl6\u3067\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\n\n```pl\nuse v6;\n\nmy Str constant @words = < \u9032\u6357 \u3069\u3046 \u3067\u3059 \u304b >;\nmy Str @cache;\n\nwhile 1 {\n  @cache.push: @words.pick;\n  last if @words eq @cache[ *-4 .. *-1 ];\n\n  LAST {\n    say my $c = [~] @cache.push: '\uff1f\uff1f\uff1f';\n    printf \"%d\u6587\u5b57\u3067\u717d\u3089\u308c\u307e\u3057\u305f\\n\", $c.chars ;\n  }\n}\n```\n\n\u5143\u304c\u7c21\u6f54\u306b\u66f8\u304b\u308c\u3066\u3044\u305f\u3053\u3068\u3082\u3042\u308a\u3059\u3063\u304d\u308a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n### \u2462 [\u300c\u9032\u6357\u30fb\u3069\u3046\u30fb\u3067\u3059\u30fb\u304b\u300d\u3092Perl\u3067 - Qiita](http://qiita.com/B73W56H84/items/a6c4b770c6efc8d1af35)\n\n\u6700\u5f8c\u306f\u81ea\u5206\u306e\u3092\u3002\n\n```pl\nuse v6;\n\nmy Str constant @words = < \u9032\u6357 \u3069\u3046 \u3067\u3059 \u304b >;\nmy Str $w = @words.join;\nmy Str $word_buffer = '';\n\nwhile 1 {\n  $word_buffer ~= @words.pick;\n\n  last if $word_buffer ~~ m:overlap/ <{ $w }> $$ /;\n\n  LAST {\n    $word_buffer ~= '\uff1f\uff1f\uff1f';\n    say $word_buffer;\n    say $word_buffer.chars, \"\u6587\u5b57\u3067\u717d\u3089\u308c\u307e\u3057\u305f\u3002\";\n  }\n}\n```\n\n\u6587\u5b57\u5217`$word_buffer`\u306e\u5f8c\u308d\u306e\u65b9\u3092\u6b63\u898f\u8868\u73fe\u3067\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u5834\u5408\u3001\u6b63\u898f\u8868\u73fe\u3067\u306f\u306a\u304f\u3066`Str.ends-with`\u3067\u3082\u3088\u3044\u304b\u3093\u3058\u3002\n\n```pl\nuse v6;\n\nmy Str constant @words = < \u9032\u6357 \u3069\u3046 \u3067\u3059 \u304b >;\nmy Str constant $w = [~] @words;\nmy Str $word_buffer = '';\n\nwhile 1 {\n  $word_buffer ~= @words.pick;\n\n  last if $word_buffer.ends-with( $w );\n\n  LAST {\n    $word_buffer ~= '\uff1f\uff1f\uff1f';\n    say $word_buffer;\n    say $word_buffer.chars, \"\u6587\u5b57\u3067\u717d\u3089\u308c\u307e\u3057\u305f\u3002\";\n  }\n}\n```\n\n\u304a\u308f\u308a\u3067\u3059\u3002\n\u305d\u3057\u3066\u4eca\u65e5\u3082\u9032\u6357\u306f\u82b3\u3057\u304f\u306a\u3044\u3002\n\n## \u53c2\u8003\u3068\u6ce8\u91c8\n\n* [Perl5,Perl6\u3067\u914d\u5217\u306e\u672b\u5c3e\u304b\u3089\u3072\u3068\u3064\u524d\u306e\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3059 - Qiita](http://qiita.com/B73W56H84/items/d8352d06f83f9ec29ec4)\n* [Control Flow - Perl 6 Documentation](http://doc.perl6.org/language/control)\n\n[^delay]: \u4e8b\u6545\u30ec\u30d9\u30eb\u306e\u9045\u523b\n[^hon]: \u672c\u5f53\u306fInline::Perl5 \u30e2\u30b8\u30e5\u30fc\u30eb\u30cd\u30bf\u3092\u66f8\u3053\u3046\u3068\u601d\u3063\u3066\u3044\u305f\u3051\u3069\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u3002\n[^curry]: \u3053\u308c\u304c\u300c\uff1f\uff1f\uff1f\u300d\u3082\u6587\u5b57\u6570\u30ab\u30a6\u30f3\u30c8\u306b\u5165\u308c\u3066\u3044\u305f\u306e\u3067\u4ee5\u964d\u305d\u308c\u306b\u5023\u3044\u307e\u3059\u3002\n", "tags": ["Perl6", "Perl"]}