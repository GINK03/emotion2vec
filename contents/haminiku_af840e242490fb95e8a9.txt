{"tags": ["Erlang", "eunit"], "context": " More than 1 year has passed since last update.\u8db3\u3057\u7b97\u95a2\u6570\u3092eunit\u3067\u30c6\u30b9\u30c8\neunit\u306f\u5b9f\u884c\u3059\u308b\u3068\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u306etest\u95a2\u6570\u3092\u63a2\u3057\u3066\u8a66\u9a13\u3057\u3066\u304f\u308c\u307e\u3059\n\nmain.erl\n-module(main).\n-author(\"haminiku\").\n\n%% API\n-export([add/2]).\nadd(A, B) -> A + B.\n\n\n\ntests.erl\n-module(tests).\n-include_lib(\"eunit/include/eunit.hrl\").\n-author(\"haminiku\").\n\n%% API\n-export([test/0]).\n\n%% \u30c6\u30b9\u30c8\u5b9f\u884c\n%% erl -noshell -pa ebin -eval \"eunit:test(test_module, [verbose])\" -s init stop\n\ntest() ->\n  add_test(),\n  assert_test().\n\nadd_test() ->\n  4 = main:add(2, 2),\n  5 = main:add(2, 2).\n\nassert_test() ->\n  ?assertEqual(4, main:add(2, 2)),\n  ?assertEqual(5, main:add(2, 2)).\n\n%% \u95a2\u6570\u540d\u306btest\u304c\u7121\u3044\u306e\u3067\u5b9f\u884c\u3055\u308c\u306a\u3044\nsample() -> ?assertEqual(1000, main:add(2, 2)).\n\n\n# \u30b3\u30f3\u30d1\u30a4\u30eb\n>>>erlc ./tests.erl \n\n# \u30c6\u30b9\u30c8\u5b9f\u884c\n>>>erl -noshell -pa ebin -eval \"eunit:test(tests, [verbose])\" -s init stop\n======================== EUnit ========================\nmodule 'tests'\n  tests: add_test...*failed*\nin function tests:add_test/0 (tests.erl, line 17)\n**error:{badmatch,4}\n  output:<<\"\">>\n\n  tests: assert_test...*failed*\nin function tests:'-assert_test/0-fun-1-'/1 (tests.erl, line 21)\n**error:{assertEqual,[{module,tests},\n              {line,21},\n              {expression,\"main : add ( 2 , 2 )\"},\n              {expected,5},\n              {value,4}]}\n  output:<<\"\">>\n\n  [done in 0.009 s]\n=======================================================\n  Failed: 2.  Skipped: 0.  Passed: 0.\n\n\u8db3\u3057\u7b97\u95a2\u6570\u3092eunit\u3067\u30c6\u30b9\u30c8\neunit\u306f\u5b9f\u884c\u3059\u308b\u3068\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u306etest\u95a2\u6570\u3092\u63a2\u3057\u3066\u8a66\u9a13\u3057\u3066\u304f\u308c\u307e\u3059\n\n```erlang:main.erl\n-module(main).\n-author(\"haminiku\").\n\n%% API\n-export([add/2]).\nadd(A, B) -> A + B.\n```\n\n```erlang:tests.erl\n-module(tests).\n-include_lib(\"eunit/include/eunit.hrl\").\n-author(\"haminiku\").\n\n%% API\n-export([test/0]).\n\n%% \u30c6\u30b9\u30c8\u5b9f\u884c\n%% erl -noshell -pa ebin -eval \"eunit:test(test_module, [verbose])\" -s init stop\n\ntest() ->\n  add_test(),\n  assert_test().\n\nadd_test() ->\n  4 = main:add(2, 2),\n  5 = main:add(2, 2).\n\nassert_test() ->\n  ?assertEqual(4, main:add(2, 2)),\n  ?assertEqual(5, main:add(2, 2)).\n\n%% \u95a2\u6570\u540d\u306btest\u304c\u7121\u3044\u306e\u3067\u5b9f\u884c\u3055\u308c\u306a\u3044\nsample() -> ?assertEqual(1000, main:add(2, 2)).\n```\n\n```shell-session\n# \u30b3\u30f3\u30d1\u30a4\u30eb\n>>>erlc ./tests.erl \n\n# \u30c6\u30b9\u30c8\u5b9f\u884c\n>>>erl -noshell -pa ebin -eval \"eunit:test(tests, [verbose])\" -s init stop\n======================== EUnit ========================\nmodule 'tests'\n  tests: add_test...*failed*\nin function tests:add_test/0 (tests.erl, line 17)\n**error:{badmatch,4}\n  output:<<\"\">>\n\n  tests: assert_test...*failed*\nin function tests:'-assert_test/0-fun-1-'/1 (tests.erl, line 21)\n**error:{assertEqual,[{module,tests},\n              {line,21},\n              {expression,\"main : add ( 2 , 2 )\"},\n              {expected,5},\n              {value,4}]}\n  output:<<\"\">>\n\n  [done in 0.009 s]\n=======================================================\n  Failed: 2.  Skipped: 0.  Passed: 0.\n```\n"}