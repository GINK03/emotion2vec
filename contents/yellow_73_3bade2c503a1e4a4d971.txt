{"context": " More than 1 year has passed since last update.\n\nSFCGAL\nCGAL (http://www.cgal.org/) \u306f\u9ad8\u6027\u80fd\u306a\u5e7e\u4f55\u6f14\u7b97\u30e9\u30a4\u30d6\u30e9\u30ea\u3002\nSFCGAL (http://oslandia.github.io/SFCGAL/) \u306f CGAL \u3092 ISO 19107:2013 \u3068 OGC Simple Features Access 1.2 for 3D operations \u3068\u306b\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306e\u30e9\u30c3\u30d1\u30e9\u30a4\u30d6\u30e9\u30ea\u3002\nPostGIS\u306fSFCGAL\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u306e\u3060\u305d\u3046\u3067\u3059\u3002PostGIS 2.1\u4ee5\u964d\u3089\u3057\u3044\u306e\u3067\u3059\u304c\u78ba\u8a8d\u3057\u3066\u3044\u307e\u305b\u3093\u30022.2dev\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u898b\u3066\u77e5\u3063\u305f\u6b21\u7b2c\u3002\nSFCGAL\u5229\u7528\u95a2\u6570\u306f\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u304c\u3001\u306f\u3063\u304d\u308a\u8a00\u3046\u3001\u79c1\u3082\u3088\u304f\u5206\u304b\u3063\u3066\u306a\u3044\u3002http://smathermather.wordpress.com/2013/12/04/postgis-with-sfcgal/ \u3067\u8208\u596e\u3055\u308c\u3066\u3044\u308b\u65b9\u304c\u3044\u3089\u3063\u3057\u3083\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u305d\u308c\u4ee5\u4e0a\u306e\u60c5\u5831\u306f\u5f97\u3089\u308c\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u3068\u308a\u3042\u3048\u305a\u5206\u304b\u308b\u3068\u3053\u308d\u304b\u3089\u30e1\u30e2\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u5e7e\u4f55\u6f14\u7b97\u306a\u3089GEOS\u304c\u3042\u308b\u3058\u3083\u306a\u3044\u304b\u3068\u601d\u3063\u305f\u3042\u306a\u305f\n\u3042\u306a\u305f\u306f\u3059\u308b\u3069\u3044\u3002\nPostGIS 2.1 \u304b\u3089\u306f\u3001SFCGAL\u3092\u4f7f\u3046\u304bGEOS\u3092\u4f7f\u3046\u304b\u3092\u5207\u308a\u66ff\u3048\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nhttp://www.finds.jp/docs/pgisman/2.2.0/postgis_backend.html \u3042\u305f\u308a\u53c2\u7167\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306a\u3069\n\u307e\u305a\u306f\u3001CGAL, SFCGAL\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nFreeBSD\u306eports\u306b\u306f\u65e2\u306b\u5165\u308c\u3066\u304f\u308c\u3066\u3042\u308a\u307e\u3059\u3002\u52a9\u304b\u308a\u307e\u3059\u3001\u672c\u5f53\u306b\u52a9\u304b\u308a\u307e\u3059\u3002\nPostGIS\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30a2\u6642\u306b --with-sfcgal=/.../sfcgal-config \u3092\u8ffd\u52a0\u3002sfcga-config\u3078\u306e\u30d1\u30b9\u306f\u3001Packages\u304b\u3089\u5165\u308c\u305f\u5834\u5408\u306b\u306f \"/usr/local/bin/\" \u3067\u3057\u305f\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\u7d42\u308f\u3063\u305f\u3089\u3001\u4eca\u5ea6\u306fPostGIS\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u3001SFCGAL\u95a2\u6570\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\nPostGIS 2.2 \u3067\u306f\u3001\u6b21\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u9806\u6b21\u5b9f\u884c\u3057\u307e\u3059\u3002\n% psql -d (\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9) -c \"CREATE EXTENSION postgis\"\n% psql -d (\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9) -c \"CREATE EXTENSION postgis_sfcgal\"\n\n2.1\u3067\u306fEXTENSION\u3067\u306f\u306a\u304f\u3001\u5225\u9014\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u3042\u308a\u307e\u3059\u3002\n% psql -d (\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9) -c \"CREATE EXTENSION postgis\"\n% psql -d (\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9) -f (postgresql)/contrib/sfcgal.sql\n\n\n\u95a2\u6570\u305f\u3061\n\npostgis_sfcgal_version\nSFCGAL\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u793a\u3059\u6587\u5b57\u5217\u3092\u8fd4\u3057\u307e\u3059\u3002\ndb=# SELECT postgis_sfcgal_version();\n postgis_sfcgal_version \n------------------------\n 1.0.4\n(1 \u884c)\n\n\nST_Extrude\n3D CAD\u3067\u306f\u300c\u62bc\u3057\u51fa\u3057\u300d\u3068\u3082\u8a00\u308f\u308c\u308b\u3001\u304a\u306a\u3058\u307f\u306e\u6a5f\u80fd\u3002\ndb=# SELECT ST_AsText(ST_Extrude('POLYGON((0 0, 10 0, 10 10, 0 0))'::GEOMETRY,0,0,1));\n                                                                                                st_astext                                                                                                 \n----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n POLYHEDRALSURFACE Z (((0 0 0,10 10 0,10 0 0,0 0 0)),((0 0 1,10 0 1,10 10 1,0 0 1)),((0 0 0,0 0 1,10 10 1,10 10 0,0 0 0)),((10 10 0,10 10 1,10 0 1,10 0 0,10 10 0)),((10 0 0,10 0 1,0 0 1,0 0 0,10 0 0)))\n(1 \u884c)\n\n\n\u6ce8\u610f\u6df1\u304f\u8ffd\u3063\u3066\u3044\u3051\u3070\u3001\u4e09\u89d2\u67f1\u3067\u3042\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u306a\u304a\u3053\u3053\u3067\u3001\u672c\u5f53\u306b\u6ce8\u610f\u6df1\u304f\u8ffd\u3063\u3066\u3044\u308b\u3068\u3001\u6cd5\u7dda\u65b9\u5411\u306b\u898b\u3066\u6642\u8a08\u56de\u308a\u306b\u306a\u3063\u3066\u3044\u3066(\u53f3\u306d\u3058)\u3001\u9006\u306b\u5916\u304b\u3089\u5185\u3092\u898b\u3066\u53cd\u6642\u8a08\u56de\u308a\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u4e09\u6b21\u5143\u306e\u9762\u306b\u306f\u8868\u88cf\u3042\u3063\u3066\u3001\u3069\u3061\u3089\u304c\u7acb\u4f53\u306e\u5916\u5074\u3067\u3069\u3061\u3089\u304c\u5185\u5074\u304b\u304c\u5206\u304b\u3089\u306a\u3044\u306e\u3067\u3001\u300c\u53f3\u306d\u3058\u300d\u3067\u8868\u73fe\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002STL (Standard Triangulated Language)\u304c\u307e\u3055\u306b\u305d\u308c\u3002STL\u30c7\u30fc\u30bf\u751f\u6210\u7b49\u306e\u7d4c\u9a13\u304c\u3042\u308b\u306a\u3089\u3001\u3053\u3046\u306a\u3063\u3066\u304f\u308c\u3066\u308b\u3068\u3042\u308a\u304c\u305f\u3044\u3001\u3068\u3044\u3046\u306e\u304c\u5206\u304b\u3063\u3066\u3044\u305f\u3060\u3051\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\nST_StraightSkeleton\n\u30b3\u306e\u5b57\u578b\u3092\u5de6\u53f3\u9006\u306b\u3057\u305f\u30dd\u30ea\u30b4\u30f3\u306b\u9069\u7528\u3057\u3066\u307f\u307e\u3059\u3002\ndb=# SELECT ST_AsText(ST_StraightSkeleton('POLYGON((0 0, 50 0, 50 10, 10 10, 10 20, 50 20, 50 30, 0 30, 0 0))'::GEOMETRY));\n                                                                        st_astext                                                                        \n---------------------------------------------------------------------------------------------------------------------------------------------------------\n MULTILINESTRING((0 0,5 5),(50 0,45 5),(50 10,45 5),(10 10,5 5),(10 20,5 25),(50 20,45 25),(50 30,45 25),(0 30,5 25),(45 5,5 5),(45 25,5 25),(5 5,5 25))\n(1 \u884c)\n\n\u56f3\u793a\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u304b\u3093\u3058\u3067\u3059\u3002\n\n\u3053\u3053\u3067\u3001\u85cd\u8272\u306b\u5857\u308a\u3064\u3076\u3055\u308c\u305f\u9762\u304c\u5143\u306e\u30dd\u30ea\u30b4\u30f3\u3001\u30aa\u30ec\u30f3\u30b8\u306e\u7dda\u304cST_StraightSkeleton\u3067\u51fa\u3055\u308c\u305f\u30de\u30eb\u30c1\u30e9\u30a4\u30f3\u30b9\u30c8\u30ea\u30f3\u30b0\u3067\u3059\u3002\n\u3057\u304b\u3057 http://en.wikipedia.org/wiki/Straight_skeleton \u3092\u898b\u308b\u3068\u3001\u30dd\u30ea\u30b4\u30f3\u306b\u306a\u3063\u3066\u308b\u306e\u304c\u6c17\u306b\u306a\u308b\u3002\n\nST_Orientation\n\u30dd\u30ea\u30b4\u30f3\u304c\u3069\u3061\u3089\u56de\u308a\u304b\u3092\u898b\u307e\u3059\u3002\u53f3\u56de\u308a\u306a\u3089\u6b63\u6570\u3001\u5de6\u56de\u308a\u306a\u3089\u8ca0\u6570\u306e\u3088\u3046\u3067\u3059\u3002\ndb=# SELECT ST_Orientation('POLYGON((0 0, 10 10, 10 0, 0 0))'::GEOMETRY);\n st_orientation \n----------------\n              1\n(1 \u884c)\n\ndb=# SELECT ST_Orientation('POLYGON((0 0, 10 0, 10 10, 0 0))'::GEOMETRY);\n st_orientation \n----------------\n             -1\n(1 \u884c)\n\n\n\nST_ForceLHR\n\u53f3\u56de\u308a\u306e\u30dd\u30ea\u30b4\u30f3\u3092\u5de6\u56de\u308a\u306b\u5f37\u5236\u3057\u307e\u3059\u3002\n\u6b21\u306e\u5b9f\u884c\u4f8b\u306e\u3046\u3061\u3001\u3072\u3068\u3064\u76ee\u3067\u306f\u5de6\u56de\u308a\u30dd\u30ea\u30b4\u30f3\u3092\u5f15\u6570\u306b\u3057\u3001\u3075\u305f\u3064\u76ee\u3067\u306f\u53f3\u56de\u308a\u30dd\u30ea\u30b4\u30f3\u3092\u5f15\u6570\u306b\u3057\u3066\u3044\u307e\u3059\u3002\ndb=# SELECT ST_AsText(ST_ForceLHR('POLYGON((0 0, 10 0, 10 10, 0 0))'::GEOMETRY));\n           st_astext           \n-------------------------------\n POLYGON((0 0,10 0,10 10,0 0))\n(1 \u884c)\n\ndb=# SELECT ST_AsText(ST_ForceLHR('POLYGON((0 0, 10 10, 10 0, 0 0))'::GEOMETRY));\n           st_astext           \n-------------------------------\n POLYGON((0 0,10 0,10 10,0 0))\n(1 \u884c)\n\n\nST_MinkowskiSum\n\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\u3092\u6c42\u3081\u307e\u3059\u3002\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\u306b\u3064\u3044\u3066\u306f\u30b0\u30b0\u3063\u3066\u4e0b\u3055\u3044\u3002\ndb=# SELECT ST_AsText(ST_MinkowskiSum(\n  'POLYGON((0 0, 20 0, 0 20, 0 0))'::GEOMETRY,\n  'POLYGON((30 30, 50 30, 50 50, 30 50, 30 30))'::GEOMETRY\n));\n                             st_astext                             \n-------------------------------------------------------------------\n MULTIPOLYGON(((30 30,50 30,70 30,70 50,50 70,30 70,30 50,30 30)))\n(1 \u884c)\n\n\u56f3\u3067\u793a\u3057\u3066\u307f\u307e\u3059\u3002\u7b2c1\u5f15\u6570\u304c\u6c34\u8272\u306e\u4e09\u89d2\u5f62\u3001\u7b2c2\u5f15\u6570\u304c\u8d64\u3044\u56db\u89d2\u5f62\u3067\u3059\u3002\n\n\u7d50\u679c\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\nhttp://slis.tsukuba.ac.jp/~fujisawa.makoto.fu/lecture/iml/text/3_collision.html \u306b\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\u306b\u3064\u3044\u3066\u66f8\u3044\u3066\u304f\u308c\u3066\u3044\u307e\u3059\u3002\n\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\u306f\u3001\u4e00\u65b9\u306e\u56f3\u5f62\u3092\u63e1\u3063\u3066\u3001\u3082\u3046\u4e00\u65b9\u306e\u56f3\u5f62\u306e\u5185\u90e8\u3092\u304f\u307e\u306a\u304f\u56de\u3057\u305f\u8ecc\u8de1\u306e\u96c6\u5408\u3001\u3068\u8a00\u3048\u308b\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\u4e00\u65b9\u3092\u539f\u70b9\u3092\u4e2d\u5fc3\u306b\u70b9\u5bfe\u79f0\u306e\u56f3\u5f62\u306b\u5909\u3048\uff08X,Y\u3068\u3082\u306b\u6b63\u8ca0\u88cf\u8fd4\u3059\uff09\u3066\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\u3092\u3068\u308b\u3068\u3001\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u5dee\u304c\u53d6\u308c\u307e\u3059\u3002\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u5dee\u306e\u7d50\u679c\u96c6\u5408\u304c\u539f\u70b9\u3092\u542b\u3080\u3068\u3001\u3082\u3068\u306e\u753b\u50cf\u306f\u885d\u7a81\u3057\u3066\u3044\u308b\u306e\u3060\u305d\u3046\u3067\u3059\u3002\n\nST_IsPlanar\n\u5e73\u9762(planar)\u3067\u3042\u308b\u304b\u5426\u304b\u3092\u30c6\u30b9\u30c8\u3057\u307e\u3059\u3002\n\u300c\u5e73\u9762\u300d\u306e\u6761\u4ef6\u306f\u3001\u5168\u3066\u306e\u70b9\u304c\u540c\u4e00\u7dda\u4e0a\u306b\u3042\u308b\u3088\u3046\u306a\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u3001\u3068\u8a00\u3048\u307e\u3059\u3002\u3088\u3063\u3066\u3001\u59a5\u5f53\u306a(ST_IsValid()\u3067True\u3092\u8fd4\u3059)\u30dd\u30ea\u30b4\u30f3\u306f\u5fc5\u305a\u5e73\u9762\u3067\u3059\u3002\u307e\u305f\u3001\u81ea\u5df1\u4ea4\u5dee\u307e\u305f\u306f\u81ea\u5df1\u63a5\u89e6\u3059\u308b\u30dd\u30ea\u30b4\u30f3\u306f\u3001\u59a5\u5f53\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u5e73\u9762\u3067\u3059\u3002\n\u307e\u305a\u59a5\u5f53\u306a\u30dd\u30ea\u30b4\u30f3\u306e\u4f8b\u3067\u3059\u3002\ndb=# SELECT ST_IsPlanar('POLYGON((0 0, 2 0, 2 2, 0 0))'::GEOMETRY);\n st_isplanar \n-------------\n t\n(1 \u884c)\n\ndb=# SELECT ST_IsValid('POLYGON((0 0, 2 0, 2 2, 0 0))'::GEOMETRY);\n st_isvalid \n------------\n t\n(1 \u884c)\n\n\u59a5\u5f53\u3067\u306a\u3044\u30dd\u30ea\u30b4\u30f3\u306e\u4f8b\u3092\u6b21\u306b\u793a\u3057\u307e\u3059\u3002\ndb=# SELECT ST_IsPlanar('POLYGON((0 0, 1 1, 2 2, 0 0))'::GEOMETRY);\n st_isplanar \n-------------\n f\n(1 \u884c)\n\ndb=# SELECT ST_IsValid('POLYGON((0 0, 1 1, 2 2, 0 0))'::GEOMETRY);\nNOTICE:  Self-intersection at or near point 0 0\n st_isvalid \n------------\n f\n(1 \u884c)\n\n\u6700\u5f8c\u306b\u3001\u5e73\u9762\u3060\u3051\u308c\u3069\u3082\u59a5\u5f53\u3067\u306a\u3044\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\ndb=# SELECT ST_IsPlanar('POLYGON((0 0, 2 0, 2 2, 1 0, 0 0))'::GEOMETRY);\n st_isplanar \n-------------\n t\n(1 \u884c)\n\ndb=# SELECT ST_IsValid('POLYGON((0 0, 2 0, 2 2, 1 0, 0 0))'::GEOMETRY);\nNOTICE:  Self-intersection at or near point 0 0\n st_isvalid \n------------\n f\n(1 \u884c)\n\n\nST_Tesselate\n\u30dd\u30ea\u30b4\u30f3\u3084\u591a\u9762\u4f53\u30b5\u30fc\u30d5\u30a7\u30b9\u7b49\u3092\u4e09\u89d2\u5f62\u306b\u5206\u5272\u3057\u307e\u3059\u3002\ndb=# SELECT ST_AsText(ST_Tesselate(ST_Extrude('POLYGON((0 0, 10 0, 10 10, 0 0))'::GEOMETRY, 0,0,20)));\n                                                                                                                                                  st_astext                                                                                                                                                  \n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n GEOMETRYCOLLECTION Z (TIN Z (((0 0 0,10 10 0,10 0 0,0 0 0)),((0 0 20,10 0 20,10 10 20,0 0 20)),((10 10 0,0 0 20,10 10 20,10 10 0)),((10 10 0,0 0 0,0 0 20,10 10 0)),((10 10 0,10 10 20,10 0 20,10 10 0)),((10 0 0,10 10 0,10 0 20,10 0 0)),((10 0 0,10 0 20,0 0 20,10 0 0)),((0 0 0,10 0 0,0 0 20,0 0 0))))\n(1 \u884c)\n\n\nST_3DIntersection\n3\u6b21\u5143\u306e\u30a4\u30f3\u30bf\u30bb\u30af\u30b7\u30e7\u30f3(\u5171\u901a\u9818\u57df)\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002\n\u8fd4\u308a\u5024\u304cTIN(\u4e09\u89d2\u5f62)\u306e\u96c6\u5408\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u306f\u3001\u7d50\u69cb\u8aad\u307f\u3065\u3089\u304f\u306a\u308a\u307e\u3059\u3002\u3082\u3063\u3068\u3082\u3001\u4e09\u6b21\u5143\u3092\u6271\u3046\u3093\u3060\u3063\u305f\u3089\u30b5\u30fc\u30d5\u30a7\u30b9\u3092TIN\u306b\u5206\u3051\u3066\u3057\u307e\u3044\u307e\u3059\u3088\u306d\u3001\u3068\u3002\ndb=# SELECT ST_AsText(ST_3DIntersection(\n  ST_Extrude('POLYGON((0 0, 2 0, 0 2, 0 0))'::GEOMETRY, 0, 0, 1),\n  ST_Extrude('POLYGON((0 0, 2 2, 0 2, 0 0))'::GEOMETRY, 0, 0, 1)\n));\n                                                                                                                                                           st_astext                                                                                                                                                           \n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n POLYHEDRALSURFACE Z (((1 1 0,0 0 0,0 2 0,1 1 0)),((0 2 0,1 1 0.5,1 1 0,0 2 0)),((0 0 0,0 2 1,0 2 0,0 0 0)),((1 1 0,1 1 0.5,0 0 0,1 1 0)),((0 2 0,0 2 1,1 1 0.5,0 2 0)),((0 0 0,0 0 1,0 2 1,0 0 0)),((1 1 0.5,0 0 1,0 0 0,1 1 0.5)),((0 2 1,1 1 1,1 1 0.5,0 2 1)),((0 0 1,1 1 1,0 2 1,0 0 1)),((1 1 0.5,1 1 1,0 0 1,1 1 0.5)))\n(1 \u884c)\n\n\n\nST_3DArea\n\u30dd\u30ea\u30b4\u30f3\u306e\u9762\u7a4d\u3092\u6c42\u3081\u307e\u3059\u3002ST_Area()\u3068\u306e\u9055\u3044\u3092\u5473\u308f\u3063\u3066\u4e0b\u3055\u3044\u3002\ndb=# SELECT ST_3DArea('POLYGONZ((0 0 0, 2 0 1, 2 2 0, 0 0 0))'::GEOMETRY);\n    st_3darea     \n------------------\n 2.44948974278318\n(1 \u884c)\n\ndb=# SELECT ST_Area('POLYGONZ((0 0 0, 2 0 1, 2 2 0, 0 0 0))'::GEOMETRY);\n st_area \n---------\n       2\n(1 \u884c)\n\n\n\u4eca\u56de\u306e\u307e\u3068\u3081\nPostGIS\u304b\u3089SFCGAL\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u305d\u3053\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3092\u307b\u3093\u306e\u5c11\u3057\u3060\u3051\u793a\u3057\u3001SFCGAL\u3092\u4f7f\u7528\u3059\u308bPostGIS\u95a2\u6570\u7fa4\u306b\u3064\u3044\u3066\u7d39\u4ecb\u3057\u307e\u3057\u305f\u3002\n\u73fe\u6642\u70b9\u306e PostGIS 2.2dev \u3067\u306f\u3001\u3053\u308c\u3067\u5168\u3066\u3067\u3059\u3002\u306f\u3063\u304d\u308a\u8a00\u3063\u3066\u5c11\u306a\u3044\u3067\u3059\u3002\u305f\u3060\u3001\u62bc\u3057\u51fa\u3057\u306e\u969b\u306b\u53f3\u306d\u3058\u306b\u3059\u308b\u3088\u3046\u6c17\u3092\u3064\u3051\u3066\u304f\u308c\u3066\u305f\u308a\u3001\u4e09\u6b21\u5143\u306e\u30a4\u30f3\u30bf\u30bb\u30af\u30b7\u30e7\u30f3\u7b49\u304c\u5b9f\u73fe\u3067\u304d\u3001\u79d8\u3081\u3066\u3044\u308b\u3082\u306e\u306f\u5927\u304d\u3044\u3068\u601d\u3044\u307e\u3059\u3002CGAL\u306b\u306f\u30dc\u30ed\u30ce\u30a4\u56f3\u3092\u4f5c\u3063\u305f\u308a\u3059\u308b\u6a5f\u80fd\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u306e\u3067\u3001\u305d\u3046\u3044\u3063\u305f\u3068\u3053\u308d\u304cPostGIS\u304b\u3089\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u304f\u308b\u3068\u3001\u672b\u6050\u308d\u3057\u3044\u3053\u3068\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\n\u4f59\u8ac7\n\u4eca\u56de\u306f\u3058\u3081\u3066Qiita\u3055\u3093\u306b\u304a\u4e16\u8a71\u306b\u306a\u308a\u307e\u3059\u3002\u4eca\u5f8c\u3001\u306f\u3066\u306a\u30c0\u30a4\u30a2\u30ea\u30fc\u5b58\u7d9a\u304bQiita\u306b\u79fb\u884c\u304b\u3001\u4f7f\u3044\u5206\u3051\u308b\u304b\u3001\u4e0d\u660e\u3067\u3059\u3002\n# SFCGAL\nCGAL (http://www.cgal.org/) \u306f\u9ad8\u6027\u80fd\u306a\u5e7e\u4f55\u6f14\u7b97\u30e9\u30a4\u30d6\u30e9\u30ea\u3002\nSFCGAL (http://oslandia.github.io/SFCGAL/) \u306f CGAL \u3092 ISO 19107:2013 \u3068 OGC Simple Features Access 1.2 for 3D operations \u3068\u306b\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306e\u30e9\u30c3\u30d1\u30e9\u30a4\u30d6\u30e9\u30ea\u3002\nPostGIS\u306fSFCGAL\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u306e\u3060\u305d\u3046\u3067\u3059\u3002PostGIS 2.1\u4ee5\u964d\u3089\u3057\u3044\u306e\u3067\u3059\u304c\u78ba\u8a8d\u3057\u3066\u3044\u307e\u305b\u3093\u30022.2dev\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u898b\u3066\u77e5\u3063\u305f\u6b21\u7b2c\u3002\n\nSFCGAL\u5229\u7528\u95a2\u6570\u306f\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u304c\u3001\u306f\u3063\u304d\u308a\u8a00\u3046\u3001\u79c1\u3082\u3088\u304f\u5206\u304b\u3063\u3066\u306a\u3044\u3002http://smathermather.wordpress.com/2013/12/04/postgis-with-sfcgal/ \u3067\u8208\u596e\u3055\u308c\u3066\u3044\u308b\u65b9\u304c\u3044\u3089\u3063\u3057\u3083\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u305d\u308c\u4ee5\u4e0a\u306e\u60c5\u5831\u306f\u5f97\u3089\u308c\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\u3068\u308a\u3042\u3048\u305a\u5206\u304b\u308b\u3068\u3053\u308d\u304b\u3089\u30e1\u30e2\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n## \u5e7e\u4f55\u6f14\u7b97\u306a\u3089GEOS\u304c\u3042\u308b\u3058\u3083\u306a\u3044\u304b\u3068\u601d\u3063\u305f\u3042\u306a\u305f\n\u3042\u306a\u305f\u306f\u3059\u308b\u3069\u3044\u3002\n\nPostGIS 2.1 \u304b\u3089\u306f\u3001SFCGAL\u3092\u4f7f\u3046\u304bGEOS\u3092\u4f7f\u3046\u304b\u3092\u5207\u308a\u66ff\u3048\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nhttp://www.finds.jp/docs/pgisman/2.2.0/postgis_backend.html \u3042\u305f\u308a\u53c2\u7167\u3002\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306a\u3069\n\u307e\u305a\u306f\u3001CGAL, SFCGAL\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nFreeBSD\u306eports\u306b\u306f\u65e2\u306b\u5165\u308c\u3066\u304f\u308c\u3066\u3042\u308a\u307e\u3059\u3002\u52a9\u304b\u308a\u307e\u3059\u3001\u672c\u5f53\u306b\u52a9\u304b\u308a\u307e\u3059\u3002\n\nPostGIS\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30a2\u6642\u306b `--with-sfcgal=/.../sfcgal-config` \u3092\u8ffd\u52a0\u3002sfcga-config\u3078\u306e\u30d1\u30b9\u306f\u3001Packages\u304b\u3089\u5165\u308c\u305f\u5834\u5408\u306b\u306f \"/usr/local/bin/\" \u3067\u3057\u305f\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\u7d42\u308f\u3063\u305f\u3089\u3001\u4eca\u5ea6\u306fPostGIS\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u3001SFCGAL\u95a2\u6570\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\nPostGIS 2.2 \u3067\u306f\u3001\u6b21\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u9806\u6b21\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```psql\n% psql -d (\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9) -c \"CREATE EXTENSION postgis\"\n% psql -d (\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9) -c \"CREATE EXTENSION postgis_sfcgal\"\n```\n\n2.1\u3067\u306fEXTENSION\u3067\u306f\u306a\u304f\u3001\u5225\u9014\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u3042\u308a\u307e\u3059\u3002\n\n```csh\n% psql -d (\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9) -c \"CREATE EXTENSION postgis\"\n% psql -d (\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9) -f (postgresql)/contrib/sfcgal.sql\n```\n\n\n# \u95a2\u6570\u305f\u3061\n## postgis_sfcgal_version\n\nSFCGAL\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u793a\u3059\u6587\u5b57\u5217\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n```\ndb=# SELECT postgis_sfcgal_version();\n postgis_sfcgal_version \n------------------------\n 1.0.4\n(1 \u884c)\n```\n\n## ST_Extrude\n3D CAD\u3067\u306f\u300c\u62bc\u3057\u51fa\u3057\u300d\u3068\u3082\u8a00\u308f\u308c\u308b\u3001\u304a\u306a\u3058\u307f\u306e\u6a5f\u80fd\u3002\n\n```\ndb=# SELECT ST_AsText(ST_Extrude('POLYGON((0 0, 10 0, 10 10, 0 0))'::GEOMETRY,0,0,1));\n                                                                                                st_astext                                                                                                 \n----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n POLYHEDRALSURFACE Z (((0 0 0,10 10 0,10 0 0,0 0 0)),((0 0 1,10 0 1,10 10 1,0 0 1)),((0 0 0,0 0 1,10 10 1,10 10 0,0 0 0)),((10 10 0,10 10 1,10 0 1,10 0 0,10 10 0)),((10 0 0,10 0 1,0 0 1,0 0 0,10 0 0)))\n(1 \u884c)\n\n```\n\n\u6ce8\u610f\u6df1\u304f\u8ffd\u3063\u3066\u3044\u3051\u3070\u3001\u4e09\u89d2\u67f1\u3067\u3042\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u306a\u304a\u3053\u3053\u3067\u3001\u672c\u5f53\u306b\u6ce8\u610f\u6df1\u304f\u8ffd\u3063\u3066\u3044\u308b\u3068\u3001\u6cd5\u7dda\u65b9\u5411\u306b\u898b\u3066\u6642\u8a08\u56de\u308a\u306b\u306a\u3063\u3066\u3044\u3066(\u53f3\u306d\u3058)\u3001\u9006\u306b\u5916\u304b\u3089\u5185\u3092\u898b\u3066\u53cd\u6642\u8a08\u56de\u308a\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4e09\u6b21\u5143\u306e\u9762\u306b\u306f\u8868\u88cf\u3042\u3063\u3066\u3001\u3069\u3061\u3089\u304c\u7acb\u4f53\u306e\u5916\u5074\u3067\u3069\u3061\u3089\u304c\u5185\u5074\u304b\u304c\u5206\u304b\u3089\u306a\u3044\u306e\u3067\u3001\u300c\u53f3\u306d\u3058\u300d\u3067\u8868\u73fe\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002STL (Standard Triangulated Language)\u304c\u307e\u3055\u306b\u305d\u308c\u3002STL\u30c7\u30fc\u30bf\u751f\u6210\u7b49\u306e\u7d4c\u9a13\u304c\u3042\u308b\u306a\u3089\u3001\u3053\u3046\u306a\u3063\u3066\u304f\u308c\u3066\u308b\u3068\u3042\u308a\u304c\u305f\u3044\u3001\u3068\u3044\u3046\u306e\u304c\u5206\u304b\u3063\u3066\u3044\u305f\u3060\u3051\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n## ST_StraightSkeleton\n\n\u30b3\u306e\u5b57\u578b\u3092\u5de6\u53f3\u9006\u306b\u3057\u305f\u30dd\u30ea\u30b4\u30f3\u306b\u9069\u7528\u3057\u3066\u307f\u307e\u3059\u3002\n\n```\ndb=# SELECT ST_AsText(ST_StraightSkeleton('POLYGON((0 0, 50 0, 50 10, 10 10, 10 20, 50 20, 50 30, 0 30, 0 0))'::GEOMETRY));\n                                                                        st_astext                                                                        \n---------------------------------------------------------------------------------------------------------------------------------------------------------\n MULTILINESTRING((0 0,5 5),(50 0,45 5),(50 10,45 5),(10 10,5 5),(10 20,5 25),(50 20,45 25),(50 30,45 25),(0 30,5 25),(45 5,5 5),(45 25,5 25),(5 5,5 25))\n(1 \u884c)\n```\n\n\u56f3\u793a\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u304b\u3093\u3058\u3067\u3059\u3002\n![1.png](https://qiita-image-store.s3.amazonaws.com/0/51701/6b33dc00-eff2-bdf6-2ad4-f08501aeb89f.png)\n\u3053\u3053\u3067\u3001\u85cd\u8272\u306b\u5857\u308a\u3064\u3076\u3055\u308c\u305f\u9762\u304c\u5143\u306e\u30dd\u30ea\u30b4\u30f3\u3001\u30aa\u30ec\u30f3\u30b8\u306e\u7dda\u304cST_StraightSkeleton\u3067\u51fa\u3055\u308c\u305f\u30de\u30eb\u30c1\u30e9\u30a4\u30f3\u30b9\u30c8\u30ea\u30f3\u30b0\u3067\u3059\u3002\n\n\u3057\u304b\u3057 http://en.wikipedia.org/wiki/Straight_skeleton \u3092\u898b\u308b\u3068\u3001\u30dd\u30ea\u30b4\u30f3\u306b\u306a\u3063\u3066\u308b\u306e\u304c\u6c17\u306b\u306a\u308b\u3002\n\n## ST_Orientation\n\u30dd\u30ea\u30b4\u30f3\u304c\u3069\u3061\u3089\u56de\u308a\u304b\u3092\u898b\u307e\u3059\u3002\u53f3\u56de\u308a\u306a\u3089\u6b63\u6570\u3001\u5de6\u56de\u308a\u306a\u3089\u8ca0\u6570\u306e\u3088\u3046\u3067\u3059\u3002\n\n```\ndb=# SELECT ST_Orientation('POLYGON((0 0, 10 10, 10 0, 0 0))'::GEOMETRY);\n st_orientation \n----------------\n              1\n(1 \u884c)\n\ndb=# SELECT ST_Orientation('POLYGON((0 0, 10 0, 10 10, 0 0))'::GEOMETRY);\n st_orientation \n----------------\n             -1\n(1 \u884c)\n\n```\n\n## ST_ForceLHR\n\u53f3\u56de\u308a\u306e\u30dd\u30ea\u30b4\u30f3\u3092\u5de6\u56de\u308a\u306b\u5f37\u5236\u3057\u307e\u3059\u3002\n\u6b21\u306e\u5b9f\u884c\u4f8b\u306e\u3046\u3061\u3001\u3072\u3068\u3064\u76ee\u3067\u306f\u5de6\u56de\u308a\u30dd\u30ea\u30b4\u30f3\u3092\u5f15\u6570\u306b\u3057\u3001\u3075\u305f\u3064\u76ee\u3067\u306f\u53f3\u56de\u308a\u30dd\u30ea\u30b4\u30f3\u3092\u5f15\u6570\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\ndb=# SELECT ST_AsText(ST_ForceLHR('POLYGON((0 0, 10 0, 10 10, 0 0))'::GEOMETRY));\n           st_astext           \n-------------------------------\n POLYGON((0 0,10 0,10 10,0 0))\n(1 \u884c)\n\ndb=# SELECT ST_AsText(ST_ForceLHR('POLYGON((0 0, 10 10, 10 0, 0 0))'::GEOMETRY));\n           st_astext           \n-------------------------------\n POLYGON((0 0,10 0,10 10,0 0))\n(1 \u884c)\n```\n\n## ST_MinkowskiSum\n\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\u3092\u6c42\u3081\u307e\u3059\u3002\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\u306b\u3064\u3044\u3066\u306f\u30b0\u30b0\u3063\u3066\u4e0b\u3055\u3044\u3002\n\n```\ndb=# SELECT ST_AsText(ST_MinkowskiSum(\n  'POLYGON((0 0, 20 0, 0 20, 0 0))'::GEOMETRY,\n  'POLYGON((30 30, 50 30, 50 50, 30 50, 30 30))'::GEOMETRY\n));\n                             st_astext                             \n-------------------------------------------------------------------\n MULTIPOLYGON(((30 30,50 30,70 30,70 50,50 70,30 70,30 50,30 30)))\n(1 \u884c)\n```\n\n\u56f3\u3067\u793a\u3057\u3066\u307f\u307e\u3059\u3002\u7b2c1\u5f15\u6570\u304c\u6c34\u8272\u306e\u4e09\u89d2\u5f62\u3001\u7b2c2\u5f15\u6570\u304c\u8d64\u3044\u56db\u89d2\u5f62\u3067\u3059\u3002\n![\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\u306e\u5f15\u6570](https://qiita-image-store.s3.amazonaws.com/0/51701/55cc7e41-3826-570a-a31b-9f0c912f0c99.png)\n\n\u7d50\u679c\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n![\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\u306e\u8fd4\u308a\u5024](https://qiita-image-store.s3.amazonaws.com/0/51701/17d3304b-c271-61d8-f33b-1a47c0def229.png)\n\n### \u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\nhttp://slis.tsukuba.ac.jp/~fujisawa.makoto.fu/lecture/iml/text/3_collision.html \u306b\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\u306b\u3064\u3044\u3066\u66f8\u3044\u3066\u304f\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\u306f\u3001\u4e00\u65b9\u306e\u56f3\u5f62\u3092\u63e1\u3063\u3066\u3001\u3082\u3046\u4e00\u65b9\u306e\u56f3\u5f62\u306e\u5185\u90e8\u3092\u304f\u307e\u306a\u304f\u56de\u3057\u305f\u8ecc\u8de1\u306e\u96c6\u5408\u3001\u3068\u8a00\u3048\u308b\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4e00\u65b9\u3092\u539f\u70b9\u3092\u4e2d\u5fc3\u306b\u70b9\u5bfe\u79f0\u306e\u56f3\u5f62\u306b\u5909\u3048\uff08X,Y\u3068\u3082\u306b\u6b63\u8ca0\u88cf\u8fd4\u3059\uff09\u3066\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u548c\u3092\u3068\u308b\u3068\u3001\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u5dee\u304c\u53d6\u308c\u307e\u3059\u3002\u30df\u30f3\u30b3\u30d5\u30b9\u30ad\u30fc\u5dee\u306e\u7d50\u679c\u96c6\u5408\u304c\u539f\u70b9\u3092\u542b\u3080\u3068\u3001\u3082\u3068\u306e\u753b\u50cf\u306f\u885d\u7a81\u3057\u3066\u3044\u308b\u306e\u3060\u305d\u3046\u3067\u3059\u3002\n\n## ST_IsPlanar\n\u5e73\u9762(planar)\u3067\u3042\u308b\u304b\u5426\u304b\u3092\u30c6\u30b9\u30c8\u3057\u307e\u3059\u3002\n\n\u300c\u5e73\u9762\u300d\u306e\u6761\u4ef6\u306f\u3001\u5168\u3066\u306e\u70b9\u304c\u540c\u4e00\u7dda\u4e0a\u306b\u3042\u308b\u3088\u3046\u306a\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u3001\u3068\u8a00\u3048\u307e\u3059\u3002\u3088\u3063\u3066\u3001\u59a5\u5f53\u306a(ST_IsValid()\u3067True\u3092\u8fd4\u3059)\u30dd\u30ea\u30b4\u30f3\u306f\u5fc5\u305a\u5e73\u9762\u3067\u3059\u3002\u307e\u305f\u3001\u81ea\u5df1\u4ea4\u5dee\u307e\u305f\u306f\u81ea\u5df1\u63a5\u89e6\u3059\u308b\u30dd\u30ea\u30b4\u30f3\u306f\u3001\u59a5\u5f53\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u5e73\u9762\u3067\u3059\u3002\n\n\u307e\u305a\u59a5\u5f53\u306a\u30dd\u30ea\u30b4\u30f3\u306e\u4f8b\u3067\u3059\u3002\n\n```\ndb=# SELECT ST_IsPlanar('POLYGON((0 0, 2 0, 2 2, 0 0))'::GEOMETRY);\n st_isplanar \n-------------\n t\n(1 \u884c)\n\ndb=# SELECT ST_IsValid('POLYGON((0 0, 2 0, 2 2, 0 0))'::GEOMETRY);\n st_isvalid \n------------\n t\n(1 \u884c)\n```\n\n\u59a5\u5f53\u3067\u306a\u3044\u30dd\u30ea\u30b4\u30f3\u306e\u4f8b\u3092\u6b21\u306b\u793a\u3057\u307e\u3059\u3002\n\n```\ndb=# SELECT ST_IsPlanar('POLYGON((0 0, 1 1, 2 2, 0 0))'::GEOMETRY);\n st_isplanar \n-------------\n f\n(1 \u884c)\n\ndb=# SELECT ST_IsValid('POLYGON((0 0, 1 1, 2 2, 0 0))'::GEOMETRY);\nNOTICE:  Self-intersection at or near point 0 0\n st_isvalid \n------------\n f\n(1 \u884c)\n```\n\n\u6700\u5f8c\u306b\u3001\u5e73\u9762\u3060\u3051\u308c\u3069\u3082\u59a5\u5f53\u3067\u306a\u3044\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n\n```\ndb=# SELECT ST_IsPlanar('POLYGON((0 0, 2 0, 2 2, 1 0, 0 0))'::GEOMETRY);\n st_isplanar \n-------------\n t\n(1 \u884c)\n\ndb=# SELECT ST_IsValid('POLYGON((0 0, 2 0, 2 2, 1 0, 0 0))'::GEOMETRY);\nNOTICE:  Self-intersection at or near point 0 0\n st_isvalid \n------------\n f\n(1 \u884c)\n```\n\n## ST_Tesselate\n\n\u30dd\u30ea\u30b4\u30f3\u3084\u591a\u9762\u4f53\u30b5\u30fc\u30d5\u30a7\u30b9\u7b49\u3092\u4e09\u89d2\u5f62\u306b\u5206\u5272\u3057\u307e\u3059\u3002\n\n```\ndb=# SELECT ST_AsText(ST_Tesselate(ST_Extrude('POLYGON((0 0, 10 0, 10 10, 0 0))'::GEOMETRY, 0,0,20)));\n                                                                                                                                                  st_astext                                                                                                                                                  \n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n GEOMETRYCOLLECTION Z (TIN Z (((0 0 0,10 10 0,10 0 0,0 0 0)),((0 0 20,10 0 20,10 10 20,0 0 20)),((10 10 0,0 0 20,10 10 20,10 10 0)),((10 10 0,0 0 0,0 0 20,10 10 0)),((10 10 0,10 10 20,10 0 20,10 10 0)),((10 0 0,10 10 0,10 0 20,10 0 0)),((10 0 0,10 0 20,0 0 20,10 0 0)),((0 0 0,10 0 0,0 0 20,0 0 0))))\n(1 \u884c)\n```\n\n## ST_3DIntersection\n\n3\u6b21\u5143\u306e\u30a4\u30f3\u30bf\u30bb\u30af\u30b7\u30e7\u30f3(\u5171\u901a\u9818\u57df)\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002\n\n\u8fd4\u308a\u5024\u304cTIN(\u4e09\u89d2\u5f62)\u306e\u96c6\u5408\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u306f\u3001\u7d50\u69cb\u8aad\u307f\u3065\u3089\u304f\u306a\u308a\u307e\u3059\u3002\u3082\u3063\u3068\u3082\u3001\u4e09\u6b21\u5143\u3092\u6271\u3046\u3093\u3060\u3063\u305f\u3089\u30b5\u30fc\u30d5\u30a7\u30b9\u3092TIN\u306b\u5206\u3051\u3066\u3057\u307e\u3044\u307e\u3059\u3088\u306d\u3001\u3068\u3002\n\n```\ndb=# SELECT ST_AsText(ST_3DIntersection(\n  ST_Extrude('POLYGON((0 0, 2 0, 0 2, 0 0))'::GEOMETRY, 0, 0, 1),\n  ST_Extrude('POLYGON((0 0, 2 2, 0 2, 0 0))'::GEOMETRY, 0, 0, 1)\n));\n                                                                                                                                                           st_astext                                                                                                                                                           \n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n POLYHEDRALSURFACE Z (((1 1 0,0 0 0,0 2 0,1 1 0)),((0 2 0,1 1 0.5,1 1 0,0 2 0)),((0 0 0,0 2 1,0 2 0,0 0 0)),((1 1 0,1 1 0.5,0 0 0,1 1 0)),((0 2 0,0 2 1,1 1 0.5,0 2 0)),((0 0 0,0 0 1,0 2 1,0 0 0)),((1 1 0.5,0 0 1,0 0 0,1 1 0.5)),((0 2 1,1 1 1,1 1 0.5,0 2 1)),((0 0 1,1 1 1,0 2 1,0 0 1)),((1 1 0.5,1 1 1,0 0 1,1 1 0.5)))\n(1 \u884c)\n\n```\n\n## ST_3DArea\n\n\u30dd\u30ea\u30b4\u30f3\u306e\u9762\u7a4d\u3092\u6c42\u3081\u307e\u3059\u3002ST_Area()\u3068\u306e\u9055\u3044\u3092\u5473\u308f\u3063\u3066\u4e0b\u3055\u3044\u3002\n\n```\ndb=# SELECT ST_3DArea('POLYGONZ((0 0 0, 2 0 1, 2 2 0, 0 0 0))'::GEOMETRY);\n    st_3darea     \n------------------\n 2.44948974278318\n(1 \u884c)\n\ndb=# SELECT ST_Area('POLYGONZ((0 0 0, 2 0 1, 2 2 0, 0 0 0))'::GEOMETRY);\n st_area \n---------\n       2\n(1 \u884c)\n```\n\n# \u4eca\u56de\u306e\u307e\u3068\u3081\nPostGIS\u304b\u3089SFCGAL\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u305d\u3053\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3092\u307b\u3093\u306e\u5c11\u3057\u3060\u3051\u793a\u3057\u3001SFCGAL\u3092\u4f7f\u7528\u3059\u308bPostGIS\u95a2\u6570\u7fa4\u306b\u3064\u3044\u3066\u7d39\u4ecb\u3057\u307e\u3057\u305f\u3002\n\u73fe\u6642\u70b9\u306e PostGIS 2.2dev \u3067\u306f\u3001\u3053\u308c\u3067\u5168\u3066\u3067\u3059\u3002\u306f\u3063\u304d\u308a\u8a00\u3063\u3066\u5c11\u306a\u3044\u3067\u3059\u3002\u305f\u3060\u3001\u62bc\u3057\u51fa\u3057\u306e\u969b\u306b\u53f3\u306d\u3058\u306b\u3059\u308b\u3088\u3046\u6c17\u3092\u3064\u3051\u3066\u304f\u308c\u3066\u305f\u308a\u3001\u4e09\u6b21\u5143\u306e\u30a4\u30f3\u30bf\u30bb\u30af\u30b7\u30e7\u30f3\u7b49\u304c\u5b9f\u73fe\u3067\u304d\u3001\u79d8\u3081\u3066\u3044\u308b\u3082\u306e\u306f\u5927\u304d\u3044\u3068\u601d\u3044\u307e\u3059\u3002CGAL\u306b\u306f\u30dc\u30ed\u30ce\u30a4\u56f3\u3092\u4f5c\u3063\u305f\u308a\u3059\u308b\u6a5f\u80fd\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u306e\u3067\u3001\u305d\u3046\u3044\u3063\u305f\u3068\u3053\u308d\u304cPostGIS\u304b\u3089\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u304f\u308b\u3068\u3001\u672b\u6050\u308d\u3057\u3044\u3053\u3068\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\n# \u4f59\u8ac7\n\u4eca\u56de\u306f\u3058\u3081\u3066Qiita\u3055\u3093\u306b\u304a\u4e16\u8a71\u306b\u306a\u308a\u307e\u3059\u3002\u4eca\u5f8c\u3001\u306f\u3066\u306a\u30c0\u30a4\u30a2\u30ea\u30fc\u5b58\u7d9a\u304bQiita\u306b\u79fb\u884c\u304b\u3001\u4f7f\u3044\u5206\u3051\u308b\u304b\u3001\u4e0d\u660e\u3067\u3059\u3002\n", "tags": ["PostGIS"]}