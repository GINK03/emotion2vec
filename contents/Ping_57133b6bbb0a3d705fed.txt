{"context": "\u30c7\u30d7\u30ed\u30a4\u30b5\u30fc\u30d0\u306f\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3068\u3084\u308a\u3068\u308a\u3067\u304d\u308b\u74b0\u5883\u306b\u3042\u308b\u3051\u3069\u3001\u30c7\u30d7\u30ed\u30a4\u5bfe\u8c61\u306e\u30b5\u30fc\u30d0\u306f\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3067\u3001\u5916\u306b\u306f\u7e4b\u304c\u3089\u306a\u3044\uff08\u30c7\u30d7\u30ed\u30a4\u30b5\u30fc\u30d0\u3068\u306fssh\u3067\u7e4b\u304c\u308b\uff09\u3001\u3068\u3044\u3046\u3088\u3046\u306a\u74b0\u5883\u3067\u3001Capistrano\u3092\u4f7f\u3063\u3066\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u5834\u5408\u3002\n\u3053\u308c\u3092\u4f7f\u3046\u306e\u304c\u826f\u3055\u3052\u3002\nhttps://github.com/ydkn/capistrano-git-copy\n\nCreates a tar archive locally from the git repository and uploads it to the remote server.\n\n\u3068\u306e\u3053\u3068\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u3067git\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5185\u5bb9\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u3066\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u30b5\u30fc\u30d0\u306b\u8ee2\u9001\u3059\u308b\u3088\u3001\u3068\u306e\u3053\u3068\u3002\n\n\u80cc\u666f\n\u540c\u3058\u76ee\u7684\u3067\u3001 https://github.com/xuwupeng2000/capistrano-scm-gitcopy \u3082\u3042\u308b\u304c\u3001ReadMe\u901a\u308a\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u73fe\u884c\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\uff083.7\uff09\u3067\u306f\u6b21\u306e\u3088\u3046\u306a\u8b66\u544a\u304c\u51fa\u308b\u3002\n\u306a\u306e\u3067\u3001\u4ee3\u66ff\u7269\u3092\u63a2\u3057\u3066\u307f\u305f\u3002\n[Deprecation Notice] `set :scm, :gitcopy` is deprecated.\nTo ensure this custom SCM will work with future versions of Capistrano,\nplease upgrade it to a version that uses the new SCM plugin mechanism\ndocumented here:\n\nhttp://capistranorb.com/documentation/advanced-features/custom-scm\n\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nReadMe\u306b\u5f93\u3063\u3066\u8a2d\u5b9a\u3002\n\nCapfile\n\nCapfile\n# Load the SCM plugin appropriate to your project:\n#\n# require \"capistrano/scm/hg\"\n# install_plugin Capistrano::SCM::Hg\n# or\n# require \"capistrano/scm/svn\"\n# install_plugin Capistrano::SCM::Svn\n# or\n# require \"capistrano/scm/git\"\n# install_plugin Capistrano::SCM::Git\n\n# Capistrano::GitCopy plugin\n# https://github.com/ydkn/capistrano-git-copy\nrequire 'capistrano/git_copy'\ninstall_plugin Capistrano::GitCopy::SCM\n\n\n\u901a\u5e38\u306f\u3001\u3053\u306e\u90e8\u5206\u3001\n# require \"capistrano/scm/git\"\n# install_plugin Capistrano::SCM::Git\n\n\u304c\u6d3b\u304d\u3066\u3044\u308b\u304c\u3001\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3001 git_copy \u306e\u3082\u306e\u306b\u8a2d\u5b9a\u3059\u308b\u3002\n\n\u5b9f\u884c\n\u3042\u3068\u306f\u3001\u901a\u5e38\u901a\u308a\u3001\u30c7\u30d7\u30ed\u30a4\u3059\u308c\u3070OK\u3002\n$ bundle exec cap develop deploy\n00:00 git_copy:check\n      01 git ls-remote --heads ssh://precure@git.example.com:11234/hoge/fuga.git\n\n...\n\n00:10 git_copy:create_release\n      01 /home/precure/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/capistrano-git-copy-1.3.0/vendor/git-archive-all/git_archive_all.py --prefix='' /tmp/hogefuga\u2026\n    \u2714 01 precure@localhost 0.172s\n      02 mkdir -p /var/www/magical.example.com/releases/20170209132532\n    \u2714 02 precure@app-magical-001 1.146s\n    \u2714 02 precure@app-magical-002 1.158s\n      Uploading /tmp/hogefuga_develop_7a0eea46_43432c0e/archive.tar.gz 12.81%\n      Uploading /tmp/hogefuga_develop_7a0eea46_43432c0e/archive.tar.gz 25.62%\n      Uploading /tmp/hogefuga_develop_7a0eea46_43432c0e/archive.tar.gz 38.44%\n      ...\n\n\u3068\u3044\u3063\u305f\u611f\u3058\u3067\u3001\u56fa\u3081\u305f\u4e0a\u3067\u30b3\u30d4\u30fc\u3057\u3066\u304f\u308c\u308b\u3002\n\u30c7\u30d7\u30ed\u30a4\u30b5\u30fc\u30d0\u306f\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3068\u3084\u308a\u3068\u308a\u3067\u304d\u308b\u74b0\u5883\u306b\u3042\u308b\u3051\u3069\u3001\u30c7\u30d7\u30ed\u30a4\u5bfe\u8c61\u306e\u30b5\u30fc\u30d0\u306f\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3067\u3001\u5916\u306b\u306f\u7e4b\u304c\u3089\u306a\u3044\uff08\u30c7\u30d7\u30ed\u30a4\u30b5\u30fc\u30d0\u3068\u306fssh\u3067\u7e4b\u304c\u308b\uff09\u3001\u3068\u3044\u3046\u3088\u3046\u306a\u74b0\u5883\u3067\u3001Capistrano\u3092\u4f7f\u3063\u3066\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u5834\u5408\u3002\n\n\n\u3053\u308c\u3092\u4f7f\u3046\u306e\u304c\u826f\u3055\u3052\u3002\n\nhttps://github.com/ydkn/capistrano-git-copy\n\n>Creates a tar archive locally from the git repository and uploads it to the remote server.\n\n\u3068\u306e\u3053\u3068\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u3067git\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5185\u5bb9\u3092\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u3066\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u30b5\u30fc\u30d0\u306b\u8ee2\u9001\u3059\u308b\u3088\u3001\u3068\u306e\u3053\u3068\u3002\n\n## \u80cc\u666f\n\n\u540c\u3058\u76ee\u7684\u3067\u3001 https://github.com/xuwupeng2000/capistrano-scm-gitcopy \u3082\u3042\u308b\u304c\u3001ReadMe\u901a\u308a\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u73fe\u884c\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\uff083.7\uff09\u3067\u306f\u6b21\u306e\u3088\u3046\u306a\u8b66\u544a\u304c\u51fa\u308b\u3002\n\u306a\u306e\u3067\u3001\u4ee3\u66ff\u7269\u3092\u63a2\u3057\u3066\u307f\u305f\u3002\n\n```\n[Deprecation Notice] `set :scm, :gitcopy` is deprecated.\nTo ensure this custom SCM will work with future versions of Capistrano,\nplease upgrade it to a version that uses the new SCM plugin mechanism\ndocumented here:\n\nhttp://capistranorb.com/documentation/advanced-features/custom-scm\n```\n\n## \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nReadMe\u306b\u5f93\u3063\u3066\u8a2d\u5b9a\u3002\n\n#### Capfile\n\n```rb:Capfile\n# Load the SCM plugin appropriate to your project:\n#\n# require \"capistrano/scm/hg\"\n# install_plugin Capistrano::SCM::Hg\n# or\n# require \"capistrano/scm/svn\"\n# install_plugin Capistrano::SCM::Svn\n# or\n# require \"capistrano/scm/git\"\n# install_plugin Capistrano::SCM::Git\n\n# Capistrano::GitCopy plugin\n# https://github.com/ydkn/capistrano-git-copy\nrequire 'capistrano/git_copy'\ninstall_plugin Capistrano::GitCopy::SCM\n```\n\n\u901a\u5e38\u306f\u3001\u3053\u306e\u90e8\u5206\u3001\n\n```rb\n# require \"capistrano/scm/git\"\n# install_plugin Capistrano::SCM::Git\n```\n\n\u304c\u6d3b\u304d\u3066\u3044\u308b\u304c\u3001\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3001 `git_copy` \u306e\u3082\u306e\u306b\u8a2d\u5b9a\u3059\u308b\u3002\n\n\n## \u5b9f\u884c\n\n\u3042\u3068\u306f\u3001\u901a\u5e38\u901a\u308a\u3001\u30c7\u30d7\u30ed\u30a4\u3059\u308c\u3070OK\u3002\n\n```\n$ bundle exec cap develop deploy\n00:00 git_copy:check\n      01 git ls-remote --heads ssh://precure@git.example.com:11234/hoge/fuga.git\n\n...\n\n00:10 git_copy:create_release\n      01 /home/precure/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/capistrano-git-copy-1.3.0/vendor/git-archive-all/git_archive_all.py --prefix='' /tmp/hogefuga\u2026\n    \u2714 01 precure@localhost 0.172s\n      02 mkdir -p /var/www/magical.example.com/releases/20170209132532\n    \u2714 02 precure@app-magical-001 1.146s\n    \u2714 02 precure@app-magical-002 1.158s\n      Uploading /tmp/hogefuga_develop_7a0eea46_43432c0e/archive.tar.gz 12.81%\n      Uploading /tmp/hogefuga_develop_7a0eea46_43432c0e/archive.tar.gz 25.62%\n      Uploading /tmp/hogefuga_develop_7a0eea46_43432c0e/archive.tar.gz 38.44%\n      ...\n```\n\n\u3068\u3044\u3063\u305f\u611f\u3058\u3067\u3001\u56fa\u3081\u305f\u4e0a\u3067\u30b3\u30d4\u30fc\u3057\u3066\u304f\u308c\u308b\u3002\n\n", "tags": ["capistrano3"]}