{"tags": ["AWS", "AmazonLinux", "Jenkins"], "context": " More than 1 year has passed since last update.\n\n\u5c0e\u5165\u74b0\u5883\nAmazon Linux AMI release 2015.03\nOpenJDK7\n\n\u53c2\u8003\nStarting and Accessing Jenkins\n\n\u5c0e\u5165\u624b\u9806\n\nJenkins\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n\n$ mkdir /usr/local/bin/jenkins\n\n\u79fb\u52d5\u3057\u3066\u304a\u304f\n$ cd /usr/local/bin/jenkins\n\n\nwar\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n$ wget http://mirrors.jenkins-ci.org/war/latest/jenkins.war\n\n\u52d5\u304b\u3059\u3060\u3051\u306a\u3089\n$ java -jar /usr/local/bin/jenkins/jenkins.war\n\n\u3067\u52d5\u304d\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306fjenkins\u306e\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306f~/.jenkins\uff09\u306e\u5909\u66f4\u3068\nSupervisor\u306b\u3088\u308b\u30d7\u30ed\u30bb\u30b9\u7ba1\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\nSupervisor\u306e\u8a2d\u5b9a\n\n\u30d7\u30ed\u30bb\u30b9\u3054\u3068\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n\n$ sudo mkdir -p /etc/supervisord/conf\n\n/etc/supervisord.conf \u5185\u306b[program:theprogramname]\u306e\u7b87\u6240\u3092\u30d7\u30ed\u30bb\u30b9\u3054\u3068\u306b\u66f8\u304f\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\n\u3053\u3053\u3067\u306f\u30d7\u30ed\u30bb\u30b9\u3054\u3068\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u30d7\u30ed\u30bb\u30b9\u3054\u3068\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u5909\u66f4\n\n$ sudo vi /etc/supervisord.conf\n\n\n/etc/supervisord.conf\n\u8ffd\u8a18\n\n[include]\nfiles = supervisord/conf/*.conf\n\n\n\nJenkins\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\n$ sudo vi /etc/supervisord/conf/jenkins.conf\n\n\n/etc/supervisord/conf/jenkins.conf\n[program:jenkins]\nprocess_name=%(program_name)s\ndirectory=/usr/local/bin/jenkins\nenvironment=JENKINS_HOME=/usr/local/bin/jenkins\ncommand=java -jar jenkins.war\nautostart=true\nautorestart=true\nuser=root\nredirect_stderr=true\nstdout_logfile=/var/log/jenkins/%(program_name)s.log\nstdout_logfile_maxbytes=10MB\nstdout_logfile_backups=10\n\n\n\n\u30ed\u30b0\u51fa\u529b\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\n\n$ sudo mkdir /var/log/jenkins\n\n\n\u8d77\u52d5\n\n$ sudo supervisorctl reread\n$ sudo supervisorctl update\n\n\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\nhttp://[hostname]:8080\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f8080\u30dd\u30fc\u30c8\u3067\u8d77\u52d5\u3057\u307e\u3059\u304c\u3001\u5909\u66f4\u3059\u308b\u5834\u5408\u306fjava\u5b9f\u884c\u6642\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066--httpPort=$HTTP_PORT \u3092\u8ffd\u52a0\u3059\u308b\n# \u5c0e\u5165\u74b0\u5883\nAmazon Linux AMI release 2015.03\nOpenJDK7\n\n# \u53c2\u8003\n[Starting and Accessing Jenkins](https://wiki.jenkins-ci.org/display/JA/Starting+and+Accessing+Jenkins)\n\n# \u5c0e\u5165\u624b\u9806\n\n* Jenkins\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n\n```\n$ mkdir /usr/local/bin/jenkins\n\n\u79fb\u52d5\u3057\u3066\u304a\u304f\n$ cd /usr/local/bin/jenkins\n```\n\n* war\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n```\n$ wget http://mirrors.jenkins-ci.org/war/latest/jenkins.war\n```\n\n\u52d5\u304b\u3059\u3060\u3051\u306a\u3089\n\n```\n$ java -jar /usr/local/bin/jenkins/jenkins.war\n```\n\n\u3067\u52d5\u304d\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306fjenkins\u306e\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306f~/.jenkins\uff09\u306e\u5909\u66f4\u3068\n[Supervisor\u306b\u3088\u308b\u30d7\u30ed\u30bb\u30b9\u7ba1\u7406](http://qiita.com/nezaki/items/e464e5af5f3763484bff)\u3092\u884c\u3044\u307e\u3059\u3002\n\n# Supervisor\u306e\u8a2d\u5b9a\n\n* \u30d7\u30ed\u30bb\u30b9\u3054\u3068\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n\n```\n$ sudo mkdir -p /etc/supervisord/conf\n```\n\n/etc/supervisord.conf \u5185\u306b[program:theprogramname]\u306e\u7b87\u6240\u3092\u30d7\u30ed\u30bb\u30b9\u3054\u3068\u306b\u66f8\u304f\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\n\u3053\u3053\u3067\u306f\u30d7\u30ed\u30bb\u30b9\u3054\u3068\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n* \u30d7\u30ed\u30bb\u30b9\u3054\u3068\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u5909\u66f4\n\n```\n$ sudo vi /etc/supervisord.conf\n```\n\n```/etc/supervisord.conf\n\u8ffd\u8a18\n\n[include]\nfiles = supervisord/conf/*.conf\n```\n\n* Jenkins\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\n```\n$ sudo vi /etc/supervisord/conf/jenkins.conf\n```\n\n```/etc/supervisord/conf/jenkins.conf\n[program:jenkins]\nprocess_name=%(program_name)s\ndirectory=/usr/local/bin/jenkins\nenvironment=JENKINS_HOME=/usr/local/bin/jenkins\ncommand=java -jar jenkins.war\nautostart=true\nautorestart=true\nuser=root\nredirect_stderr=true\nstdout_logfile=/var/log/jenkins/%(program_name)s.log\nstdout_logfile_maxbytes=10MB\nstdout_logfile_backups=10\n```\n\n* \u30ed\u30b0\u51fa\u529b\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\n\n```\n$ sudo mkdir /var/log/jenkins\n```\n\n* \u8d77\u52d5\n\n```\n$ sudo supervisorctl reread\n$ sudo supervisorctl update\n```\n\n\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\nhttp://[hostname]:8080\n![\u7121\u984c.png](https://qiita-image-store.s3.amazonaws.com/0/85171/79b9024e-35c2-307c-2155-b35d87db0168.png)\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f8080\u30dd\u30fc\u30c8\u3067\u8d77\u52d5\u3057\u307e\u3059\u304c\u3001\u5909\u66f4\u3059\u308b\u5834\u5408\u306fjava\u5b9f\u884c\u6642\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066--httpPort=$HTTP_PORT \u3092\u8ffd\u52a0\u3059\u308b\n"}