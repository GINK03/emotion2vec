{"context": " More than 1 year has passed since last update.\n\nCh\u00e0o c\u00e1c b\u1ea1n\n\u0110\u00e2y l\u00e0 Ch\u01b0\u01a1ng 2 c\u1ee7a series l\u1eadp tr\u00ecnh \u1ee9ng d\u1ee5ng RESTful, \u0111\u01b0\u1ee3c d\u1ecbch t\u1eeb b\u00e0i AWS\u4e0a\u3067\u69cb\u7bc9\u3059\u308bRESTful\u30a2\u30d7\u30ea\u52c9\u5f37\u4f1a\uff5eWeb\u958b\u767a\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\uff5e\u3010\u7b2c2\u56de\u3011 c\u1ee7a t\u00e1c gi\u1ea3 @k_shimoji , t\u00f4i s\u1ebd vi\u1ebft l\u1ea1i theo \u0111\u00fang tr\u00ecnh t\u1ef1 v\u00e0 n\u1ed9i dung nh\u01b0 b\u00e0i vi\u1ebft g\u1ed1c nh\u01b0ng theo v\u0103n phong c\u1ee7a ng\u01b0\u1eddi Vi\u1ec7t \u0111\u1ec3 c\u00e1c b\u1ea1n d\u1ec5 h\u00ecnh dung, ngo\u00e0i ra s\u1ebd c\u00f3 nhi\u1ec1u ph\u1ea7n t\u00f4i b\u1ed5 sung th\u00eam cho nh\u1eefng b\u1ea1n s\u1eed d\u1ee5ng IDE kh\u00e1c ho\u1eb7c th\u00eam minh h\u1ecda cho d\u1ec5 hi\u1ec3u, t\u00f4i s\u1ebd l\u00e0m song song v\u1edbi vi\u1ec7c d\u1ecbch \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o c\u00f3 nh\u1eefng h\u01b0\u1edbng d\u1eabn s\u00e1t v\u1edbi b\u00e0i h\u1ecdc nh\u1ea5t.\nR\u1ea5t mong nh\u1eadn \u0111\u01b0\u1ee3c nh\u1eefng ph\u1ea3n h\u1ed3i qu\u00fd gi\u00e1 t\u1eeb c\u00e1c b\u1ea1n quan t\u00e2m.\n\u203b Nh\u1eefng t\u00e0i nguy\u00ean c\u1ea7n chu\u1ea9n b\u1ecb\n \u0110\u0103ng nh\u1eadp b\u1eb1ng SSH\nC\u00e1ch \u0111\u0103ng nh\u1eadp b\u1eb1ng SSH c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 xem b\u00e0i vi\u1ebft tr\u01b0\u1edbc c\u1ee7a t\u00f4i: C\u00e1c b\u00e0i h\u1ecdc l\u1eadp tr\u00ecnh \u1ee9ng d\u1ee5ng RESTful ~ Chuy\u00ean \u0111\u1ec1 ph\u00e1t tri\u1ec3n Web - [ B\u00e0i 1] X\u00e2y d\u1ef1ng \u1ee9ng d\u1ee5ng tr\u00ean WS\n\nC\u00e1c b\u1ea1n c\u1ea7n ch\u1eafc ch\u1eafn \u0111\u00e3 l\u00e0m c\u00e1c b\u01b0\u1edbc sau:\n\u1ede b\u00e0i tr\u01b0\u1edbc ch\u00fang ta \u0111\u00e3 t\u1ea1o m\u1ed9t EC2 instance \u0111\u1ec3 ch\u1ea1y server, ch\u00fang ta c\u1ea7n t\u1ea1o \u00edt API nh\u1ea5t c\u00f3 th\u1ec3, v\u00e0 h\u00e3y ch\u1eafc ch\u1eafn r\u1eb1ng:\n\n\n EC2 instance \u0111\u00e3 \u0111\u01b0\u1ee3c b\u1eadt\n\n \u0110\u00e3 c\u00f3 ph\u1ea7n m\u1ec1m check API ( c\u00f4ng c\u1ee5 POSTMAN)\n\n\nN\u1ed9i dung\nB\u00e2y gi\u1edd m\u00ecnh s\u1ebd s\u1eed d\u1ee5ng backbone.js v\u00e0 t\u1ea1o m\u1ed9t \u1ee9ng d\u1ee5ng TODO \u0111\u01a1n gi\u1ea3n s\u1ebd g\u1ecdi \u0111\u1ebfn server-side API m\u00e0 m\u00ecnh \u0111\u00e3 t\u1ea1o tr\u01b0\u1edbc \u0111\u00f3.\nT\u00f4i s\u1ebd chia Ch\u01b0\u01a1ng n\u00e0y ra c\u00e1c b\u00e0i h\u1ecdc nh\u1ecf, m\u1ed7i b\u00e0i m\u00ecnh s\u1ebd l\u00e0m d\u1ea7n c\u00e1c ch\u1ee9c n\u0103ng t\u1eeb c\u01a1 b\u1ea3n nh\u1ea5t, \u0111\u1ebfn b\u00e0i 8 ch\u00fang ta s\u1ebd c\u00f3 \u0111\u01b0\u1ee3c \u1ee9ng d\u1ee5ng TODO n\u00e0y v\u1edbi c\u00e1c ch\u1ee9c n\u0103ng c\u1ea7n thi\u1ebft.\n- B\u00e0i 1 Routing\n- B\u00e0i 2 Ki\u1ebfn th\u1ee9c c\u01a1 b\u1ea3n v\u1ec1 MVC\n- B\u00e0i 3 Hi\u1ec3n th\u1ecb danh s\u00e1ch\n- B\u00e0i 4 Ch\u1ee9c n\u0103ng th\u00eam c\u00f4ng vi\u1ec7c m\u1edbi\n- B\u00e0i 5 Thay \u0111\u1ed5i tr\u1ea1ng th\u00e1i checkbox\n- B\u00e0i 6 Vi\u1ebft ch\u1ee9c n\u0103ng x\u00f3a c\u00f4ng vi\u1ec7c\n- B\u00e0i 7 Hi\u1ec3n th\u1ecb trang chi ti\u1ebft c\u00f4ng vi\u1ec7c\n- B\u00e0i 8 Ch\u1ec9nh s\u1eeda c\u00f4ng vi\u1ec7c \u1edf trang detail (chi ti\u1ebft)\nTr\u01b0\u1edbc khi th\u1ef1c h\u00e0nh, ch\u00fang ta s\u1ebd t\u00ecm hi\u1ec3u qua v\u1ec1 backbone.js\n\nbackbone.js l\u00e0 g\u00ec ?\n\u0110\u00e2y l\u00e0 m\u1ed9t client-side MVC framework.\n\u0110\u00e2y l\u00e0 l\u1ea7n \u0111\u1ea7u b\u1ea1n d\u00f9ng backbone, v\u1eady d\u00f9ng backbone c\u00f3 l\u1ee3i g\u00ec ?\nCh\u00fang ta s\u1ebd so s\u00e1nh v\u1edbi vi\u1ec7c kh\u00f4ng s\u1eed d\u1ee5ng libraries v\u00e0 frameworks,\n\nN\u00f3 c\u00f3 th\u1ec3 t\u1ea1o s\u1eb5n m\u1ed9t m\u00f4 h\u00ecnh MVC t\u1ea1i client side\nGi\u1ea3m b\u1edbt s\u1ef1 ph\u1ee9c t\u1ea1p c\u1ee7a b\u1ed1 c\u1ee5c source.\nQu\u1ea3n l\u00fd source code t\u1ed1t h\u01a1n\n\n\u203b \u0110\u00f3 l\u00e0 nh\u1eefng l\u1ee3i \u00edch c\u1ee7a backbone, tuy nhi\u00ean n\u1ebfu b\u1ea1n kh\u00f4ng c\u1ea9n th\u1eadn, khi m\u00f4i tr\u01b0\u1eddng code b\u1eaft \u0111\u1ea7u l\u1edbn d\u1ea7n l\u00ean, s\u1ebd c\u00f3 v\u00e0i r\u1eafc r\u1ed1i x\u1ea3y ra.\n\nT\u1ea1i sao l\u1ea1i ch\u1ecdn backbone.js?\nbackbone.js, \u0111\u1eb7c tr\u01b0ng c\u1ee7a n\u00f3 l\u00e0 m\u1ed9t tr\u00ecnh qu\u1ea3n l\u00fd code r\u1ea5t s\u00e1ng s\u1ee7a.\nN\u00f3 ch\u1ec9 h\u1ed7 tr\u1ee3 duy nh\u1ea5t MVC framework, v\u00ec v\u1eady \u0111\u00fang nh\u01b0 t\u00ean g\u1ecdi c\u1ee7a n\u00f3 ( x\u01b0\u01a1ng s\u1ed1ng ), n\u00f3 c\u00f3 r\u1ea5t \u00edt th\u1ee9 kh\u00f4ng c\u1ea7n thi\u1ebft, v\u00e0 so s\u00e1nh v\u1edbi c\u00e1c th\u01b0 vi\u1ec7n kh\u00e1c th\u00ec n\u00f3 d\u1ec5 h\u1ecdc h\u01a1n, nh\u1eefng th\u00e0nh ph\u1ea7n kh\u00f4ng li\u00ean quan hay kh\u00f4ng c\u00f3 s\u1eb5n c\u00f3 th\u1ec3 d\u1ec5 d\u00e0ng \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t v\u00e0o b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng r\u1ea5t nhi\u1ec1u plug-in (Nh\u01b0 marionette m\u00e0 b\u1ea1n s\u1ebd s\u1eed d\u1ee5ng \u1edf ch\u01b0\u01a1ng 3).\nHi\u1ec7n t\u1ea1i m\u00ecnh s\u1ebd ch\u1ec9 t\u1ea1o 1 app \u0111\u01a1n gi\u1ea3n tuy nhi\u00ean t\u00f4i tin r\u1eb1ng n\u00f3 c\u00f3 th\u1ec3 x\u1eed l\u00fd t\u1ed1t v\u1edbi nh\u1eefng d\u1ef1 \u00e1n l\u1edbn h\u01a1n v\u00e0 \u0111\u00e1p \u1ee9ng t\u1ed1t m\u1ecdi n\u1ec1n t\u1ea3ng .\nSau n\u00e0y c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng m\u1ed9t framwork n\u1ed5i ti\u1ebfng kh\u00e1c l\u00e0 AngularJS , hay m\u1ed9t v\u00e0i ng\u01b0\u1eddi c\u0169ng quan t\u00e2m \u0111\u1ebfn React.js, vi\u1ec7c h\u1ecdc qua backbone gi\u00fap c\u00e1c b\u1ea1n n\u1eafm \u0111\u01b0\u1ee3c nh\u1eefng ki\u1ebfn th\u1ee9c c\u01a1 b\u1ea3n nh\u1ea5t c\u1ee7a client MVC framework, qua \u0111\u00f3 d\u1ec5 d\u00e0ng chuy\u1ec3n \u0111\u1ed5i sang c\u00e1c framework kh\u00e1c.\n\u203b React r\u1ea5t c\u00f3 th\u1ec3 l\u00e0 c\u00f9ng m\u1ed9t d\u1ea1ng v\u1edbi backbone (t\u00f4i ngh\u0129 v\u1eady...\uff09\u3002\n\nC\u00e1c th\u00e0nh ph\u1ea7n c\u1ee7a backbone\nCh\u00fang ta s\u1ebd nghi\u00ean c\u1ee9u c\u1ee5 th\u1ec3 v\u1ec1 c\u00e1c th\u00e0nh ph\u1ea7n c\u1ee7a backbone.\nTheo m\u00f4 h\u00ecnh MVC, nh\u1eefng th\u00e0nh ph\u1ea7n c\u1ee7a backbone \u0111\u01b0\u1ee3c li\u1ec7t k\u00ea t\u01b0\u01a1ng \u1ee9ng d\u01b0\u1edbi \u0111\u00e2y.\n\n\n\nM/V/C\nTh\u00e0nh ph\u1ea7n c\u1ee7a Backbone\n\n\n\n\nModel\nBackbone.Model, Backbone.Collection\n\n\nView\nBackbone.View, HTML template\n\n\nController\nBackbone.View, Backbone.Router\n\n\n\n\u203bHTML template kh\u00f4ng ph\u1ea3i l\u00e0 m\u1ed9t th\u00e0nh ph\u1ea7n c\u1ee7a backbone nh\u01b0ng t\u00f4i \u0111\u1ec3 v\u00e0o d\u00f2ng view cho d\u1ec5 gi\u1ea3i th\u00edch sau n\u00e0y.\nCho d\u1ec5 h\u00ecnh dung th\u00ec n\u00f3 s\u1ebd nh\u01b0 th\u1ebf n\u00e0y\n\nB\u00e2y gi\u1edd nh\u00ecn s\u1ebd kh\u00e1 l\u00e0 kh\u00f3 hi\u1ec3u n\u00ean ch\u00fang ta s\u1ebd t\u00ecm hi\u1ec3u t\u1eebng c\u00e1i m\u1ed9t.\n\nModel\nModel bao g\u1ed3m Backbone.Model v\u00e0 Backbone.Collection.\nN\u00f3 s\u1ebd l\u00e0m nh\u1eefng vi\u1ec7c sau t\u1eeb controller.\n\nBackbone.Model\n\n\nG\u1ed3m c\u00e1c ph\u1ea7n t\u1eed m\u00ecnh c\u1ea7n x\u1eed l\u00fd\n\n\nBackbone.Collection\n\n\nl\u00e0 m\u1ed9t b\u1ed9 c\u00e1c Backbone.Model.\n\n\n\nNgo\u00e0i ra c\u00f2n c\u00f3 c\u00e1c s\u1ef1 ki\u1ec7n x\u1ea3y ra v\u1edbi c\u00e1c model.\nC\u1ea3 2 \u0111\u1ec1u l\u00e0 trung gian trao \u0111\u1ed5i d\u1eef li\u1ec7u t\u1eeb server v\u00e0 REST API.\n\nView\nView l\u00e0 s\u1ef1 li\u00ean k\u1ebft gi\u1eefa Backbone.View v\u00e0 HTML template, n\u00f3 nh\u1eadn c\u00e1c s\u1ef1 ki\u1ec7n t\u1eeb model \u0111\u1ec3 x\u1eed l\u00fd c\u00e1c h\u00e0nh \u0111\u1ed9ng, VD: n\u00fat Save nh\u1eadn s\u1ef1 ki\u1ec7n click, sau \u0111\u00f3 s\u1ebd th\u1ef1c hi\u1ec7n h\u00e0nh \u0111\u1ed9ng l\u01b0u.\n\nBackbone.View\n\n\nD\u00f9ng \u0111\u1ec3 hi\u1ec3n th\u1ecb logic\n\n\nHTML templates\n\n\nD\u00f9ng \u0111\u1ec3 hi\u1ec3n th\u1ecb nh\u01b0 HTML tr\u00ean tr\u00ecnh duy\u1ec7t\n\n\n\nNguy\u00ean t\u1eafc c\u1ee7a View tr\u00ean MVC l\u00e0 nh\u1eefng th\u00e0nh ph\u1ea7n ch\u00ednh s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb b\u1eb1ng c\u00e1ch x\u1eed l\u00fd nh\u1eefng s\u1ef1 thay \u0111\u1ed5i t\u1eeb Model.\nBackbone.View t\u00f4i ngh\u0129 l\u00e0 n\u00f3 d\u00f9ng \u0111\u1ec3 hi\u1ec3n th\u1ecb giao di\u1ec7n logic m\u1ed9t ph\u1ea7n d\u01b0\u1edbi d\u1ea1ng HTML templates, c\u1ee9 t\u1ea1m h\u00ecnh dung th\u1ebf \u0111\u00e3.\n\nController\nController l\u00e0 s\u1ef1 li\u00ean h\u1ec7 gi\u1eefa Backbone.View v\u00e0 Backbone.Router?\nC\u00e1i kh\u00f3 hi\u1ec3u b\u1eaft \u0111\u1ea7u xu\u1ea5t hi\u1ec7n r\u1ed3i \u0111\u00e2y.\nBackbone.View \u0111\u00e3 xu\u1ea5t hi\u1ec7n trong View gi\u1edd l\u1ea1i li\u1ec7t k\u00ea trong Controller?\nGi\u1ea3i th\u00edch nh\u01b0 sau:\n\nBackbone.View nh\u1eadn c\u00e1c s\u1ef1 ki\u1ec7n t\u1eeb DOM ( VD: nh\u1eefng thao t\u00e1c t\u1eeb ng\u01b0\u1eddi d\u00f9ng) v\u00e0 th\u1ef1c thi c\u00e1c h\u00e0m\nBackbone.Model nh\u1eadn s\u1ef1 ki\u1ec7n t\u1eeb Backbone.Collection v\u00e0 th\u1ef1c thi c\u00e1c h\u00e0m.\n\nN\u00f3i c\u00e1ch kh\u00e1c, D\u00f9 t\u00ean n\u00f3 \u0111\u01b0\u1ee3c gi\u1edbi thi\u1ec7u nh\u01b0 l\u00e0 \"View\" nh\u01b0ng Backbone.View l\u00e0:\n\nM\u1ed9t th\u00e0nh ph\u1ea7n c\u1ee7a Controller m\u00e0 \u0111i\u1ec1u khi\u1ec3n c\u00e1c danh s\u00e1ch x\u1eed l\u00fd v\u00e0 thu th\u1eadp s\u1ef1 ki\u1ec7n\nM\u1ed9t th\u00e0nh ph\u1ea7n c\u1ee7a View c\u00f3 tr\u00e1ch nhi\u1ec7m c\u1eadp nh\u1eadt nh\u1eefng n\u1ed9i dung hi\u1ec3n th\u1ecb v\u00e0o th\u1eddi gian c\u00f3 s\u1ef1 thay \u0111\u1ed5i c\u1ee7a Model.\n\nBackbone.Router l\u00e0:\n\nD\u00f9ng \u0111\u1ec3 thay \u0111\u1ed5i nh\u1eefng URL ch\u1ee9a c\u00e1c h\u00e0m th\u1ef1c thi\nBackbone.Router thay \u0111\u1ed5i view b\u1eb1ng c\u00e1ch thu th\u1eadp nh\u1eefng s\u1ef1 ki\u1ec7n v\u00e0 thay \u0111\u1ed5i URL \u0111\u1ec3 sinh ra view m\u1edbi.\nBackbone.View c\u00f3 th\u1ec3 t\u1ea1m hi\u1ec3u l\u00e0 thao t\u00e1c thu th\u1eadp s\u1ef1 ki\u1ec7n tr\u00ean m\u00e0n h\u00ecnh\n\n\u0110\u1ed1i v\u1edbi View,\n\nBackbone.View th\u1eadm ch\u00ed v\u1eeba l\u00e0 Controller c\u0169ng v\u1eeba l\u00e0 m\u1ed9t View\n\nNh\u1eefng th\u1ee9 c\u1ea7n chu\u1ea9n b\u1ecb\n\n\u0110\u0103ng nh\u1eadp SSH\nM\u1ed7i l\u1ea7n b\u1ea1n \u0111\u0103ng nh\u1eadp, n\u00f3 s\u1ebd t\u1ef1 \u0111\u1ed9ng b\u1eaft \u0111\u1ea7u t\u1eeb \u0111\u0103ng nh\u1eadp b\u1eb1ng SSH.\n- ssh -i [\u0111\u01b0\u1eddng d\u1eabn \u0111\u1ebfn private key] study @ [PublicIP]\nNh\u1eadp l\u1ec7nh sau \u0111\u1ec3 di chuy\u1ec3n sang th\u01b0 m\u1ee5c g\u1ed1c c\u1ee7a \u1ee9ng d\u1ee5ng.\n- cd /var/www/study/rest-study\nB\u1eaft \u0111\u1ea7u th\u00f4i n\u00e0o!\n\nL\u01b0u branch \u0111\u00e3 t\u1ea1o c\u1ee7a git\n\u1ede b\u00e0i tr\u01b0\u1edbc m\u00ecnh \u0111\u00e3 t\u1ea1o branch vol/01, tr\u01b0\u1edbc khi th\u1ef1c hi\u1ec7n nh\u1eefng thao t\u00e1c \u1edf b\u00e0i 2, m\u00ecnh commit v\u00e0 push l\u00ean vol/01 nh\u01b0 h\u01b0\u1edbng d\u1eabn \u1edf b\u00e0i tr\u01b0\u1edbc, sau \u0111\u00f3 g\u1ed9p v\u00e0o branch master.\n\nG\u1ed9p (merge) branch (vol/01) \u0111\u00e3 t\u1ea1o \u1edf b\u00e0i 1 v\u1edbi branch master.\n\n\n v\u00e0o branch master b\u1eb1ng c\u00e2u l\u1ec7nh\ngit checkout master\n\n\n vol/01 g\u1ed9p v\u1edbi master b\u1eb1ng l\u1ec7nh git merge vol/01\n\n\n[study@ip-172-31-8-2 rest-study]$ git checkout master\nSwitched to branch 'master'\nYour branch is up-to-date with 'origin/master'.\n[study@ip-172-31-8-2 rest-study]$ git merge vol/01\nUpdating d234729..55ef625\nFast-forward\n app/Config/routes.php                  |  7 +++++++\n app/Controller/AppController.php       |  5 ++++-\n app/Controller/TodoListsController.php | 42 ++++++++++++++++++++++++++++++++++++++++++\n app/Model/TodoList.php                 |  6 ++++++\n 4 files changed, 59 insertions(+), 1 \n\n\nHi\u1ec7n t\u1ea1i n\u1ed9i dung cu\u1ed1i c\u00f9ng \u0111\u00e3 \u0111\u01b0\u1ee3c g\u00e1n cho branch master.\n\nC\u1eadp nh\u1eadt l\u00ean GitHub b\u1eb1ng l\u1ec7nh push.\n git push origin master -> \u0111i\u1ec1n username, m\u1eadt kh\u1ea9u\n\nOuput\n[study@ip-172-31-8-2 rest-study]$ git push origin master\nUsername for 'https://github.com': ks-ocean\nPassword for 'https://ks-ocean@github.com':\nTotal 0 (delta 0), reused 0 (delta 0)\nTo https://github.com/ks-ocean/rest-study.git\n   d234729..55ef625  master -> master\n\n\n\n Ki\u1ec3m tra tr\u00ean giao di\u1ec7n c\u1ee7a GitHub\nT\u1ea1i https://github.com/[username]/rest-study/commits/master\u3001ch\u00fang ta c\u00f3 th\u1ec3 ch\u1eafc ch\u1eafn vi\u1ec7c g\u1ed9p v\u1edbi branch vol/01 \u0111\u00e3 th\u00e0nh c\u00f4ng.\n\n\nTi\u1ebfp t\u1ee5c \u0111\u1ed3ng b\u1ed9 v\u1edbi repository b\u1eb1ng c\u00e1ch fork\nRepository g\u1ed1c \u0111\u00e3 \u0111\u01b0\u1ee3c fork \u1ede \u0111\u00e2y\n\n\n Th\u00eam m\u1ed9t fork repository t\u00ean l\u00e0 upstream\u3002\n\n\ngit remote add upstream https://github.com/suzukishouten-study/rest-study.git\n\n\n\n Xem n\u1ed9i dung \u0111\u00e3 fork c\u1ee7a repository upstream v\u1eeba \u0111\u01b0\u1ee3c t\u1ea1o.\n\n\ngit fetch upstream\n\n\n\n X\u00e1c nh\u1eadn\n\n\ngit branch -av\n\n\n\n[study@ip-172-31-8-2 rest-study]$ git remote add upstream https://github.com/suzukishouten-study/rest-study.git\n[study@ip-172-31-8-2 rest-study]$ git fetch upstream\n[study@ip-172-31-8-2 rest-study]$ git branch -av\n* master                         55ef625 vol/01 complete\n  vol/01                         55ef625 vol/01 complete\n  remotes/origin/HEAD            -> origin/master\n  remotes/origin/master          55ef625 vol/01 complete\n  remotes/origin/vol/01          55ef625 vol/01 complete\n  remotes/origin/vol/01-finish   59d8146 add simple api\n  remotes/upstream/master        d234729 first commmit\n  remotes/upstream/vol/01-finish 59d8146 add simple api\n  remotes/upstream/vol/02-finish ec54cf5 8 \u66f4\u65b0\u51e6\u7406\n\n\u1ede ph\u1ea7n tr\u00ean, m\u1ed9t branch t\u00ean remotes/upstream/vol/02-finish \u0111\u00e3 \u0111\u01b0\u1ee3c th\u00eam.\n\u0110\u00e2y l\u00e0 th\u1ee9 \u0111\u00e3 \u0111\u01b0\u1ee3c chu\u1ea9n b\u1ecb \u0111\u1ec3 fork nh\u1eefng repository sau khi ho\u00e0n t\u1ea5t c\u00e1c n\u1ed9i dung v\u1eeba r\u1ed3i.\nN\u1ebfu b\u1ea1n checkout branch n\u00e0y, b\u1ea1n s\u1ebd c\u00f3 th\u1ec3 ki\u1ec3m tra tr\u1ea1ng th\u00e1i c\u1ee7a nh\u1eefng ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y trong qu\u00e1 tr\u00ecnh x\u00e2y d\u1ef1ng \u1ee9ng d\u1ee5ng n\u00e0y.\n\u1ede tr\u00ean GitHub.\n\nDanh s\u00e1ch commit c\u1ee7a branch vol / 02-finish T\u1ea1i \u0111\u00e2y\n\nSource v\u00e0 hi\u1ec3n th\u1ecb d\u1ea1ng Diff c\u1ee7a nh\u1eefng ph\u1ea7n \u0111\u00e3 ho\u00e0n th\u00e0nh t\u1ea1i b\u00e0i 2 g\u1ea7n \u0111\u00e2y T\u1ea1i \u0111\u00e2y.\n\n\nT\u1ea1o m\u1ed9t branch cho c\u00f4ng vi\u1ec7c m\u1edbi.\nNh\u01b0 nh\u1eefng g\u00ec \u0111\u00e3 l\u00e0m \u1edf b\u00e0i tr\u01b0\u1edbc, t\u1ea1o branch vol/02 v\u00e0 check out.\n\n\n git branch vol/02 \u0111\u1ec3 t\u1ea1o branch\n\n git checkout vol/02 \u0111\u1ec3 v\u00e0o s\u1eed d\u1ee5ng branch\n\n\nOutput\n#(git branch \u0111\u1ec3 x\u00e1c nh\u1eadn xem \u0111\u00e3 \u1edf \u0111\u00fang branch \u0111\u00f3 ch\u01b0a)\n[study@ip-172-31-8-2 rest-study]$ git branch vol/02\n[study@ip-172-31-8-2 rest-study]$ git branch\n* master\n  vol/01\n  vol/02\n[study@ip-172-31-8-2 rest-study]$ git checkout vol/02\nSwitched to branch 'vol/02'\n[study@ip-172-31-8-2 rest-study]$ git branch\n  master\n  vol/01\n* vol/02\n[study@ip-172-31-8-2 rest-study]$\n\n\nCh\u00fang ta \u0111\u00e3 chu\u1ea9n b\u1ecb xong.\nV\u00e0o vi\u1ec7c th\u00f4i!\n\nS\u1eed d\u1ee5ng th\u01b0 vi\u1ec7n \u0111\u1ea7u ti\u00ean\nB\u00e2y gi\u1edd ch\u00fang ta c\u1ea7n l\u1ea5y c\u00e1c th\u01b0 vi\u1ec7n Backbone, underscore, jquery t\u1eeb trang ch\u1ee7 c\u1ee7a ch\u00fang ( backbone ch\u1ea1y d\u1ef1a tr\u00ean underscore n\u00ean m\u00ecnh b\u1eaft bu\u1ed9c ph\u1ea3i g\u1ecdi c\u1ea3 n\u00f3 n\u1eefa ).\nC\u00e1c b\u1ea1n l\u00e0m theo h\u01b0\u1edbng d\u1eabn sau.\n\nT\u1ea1o th\u01b0 m\u1ee5c\nTr\u01b0\u1edbc ti\u00ean c\u00e1c b\u1ea1n h\u00e3y t\u1ea1o c\u00e1c th\u01b0 m\u1ee5c theo \u0111\u01b0\u1eddng d\u1eabn nh\u01b0 sau b\u1eb1ng l\u1ec7nh:\n\n\n T\u1ea1o th\u01b0 m\u1ee5c mkdir app/webroot/js/lib\n\n\n V\u00e0o t\u01b0 m\u1ee5c v\u1eeba t\u1ea1o cd app/webroot/js/lib.\n\n\nT\u1ea3i v\u1ec1 c\u00e1c th\u01b0 vi\u1ec7n\nC\u00e1c b\u1ea1n c\u00f3 th\u1ec3 t\u1ea3i v\u1ec1 b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng l\u00eanh wget trong terminal.\n Ho\u1eb7c t\u1ea3i theo c\u00e1c URL sau ( \u0111\u1ec1u t\u1eeb trang ch\u1ee7 )\n\nbackbone http://backbonejs.org/backbone-min.js\n\nunderscore http://underscorejs.org/underscore-min.js\n\njquery http://code.jquery.com/jquery-2.1.3.min.js\n\n\nC\u00f2n n\u1ebfu s\u1eed d\u1ee5ng l\u1ec7nh:\n\n\n wget http://backbonejs.org/backbone-min.js\n\n\n wget http://underscorejs.org/underscore-min.js\n\n\n wget http://code.jquery.com/jquery-2.1.3.min.js\n\n\n\nOutput\n[study@ip-172-31-8-2 lib]$ wget http://backbonejs.org/backbone-min.js\n--2015-03-05 11:49:33--  http://backbonejs.org/backbone-min.js\nbackbonejs.org (backbonejs.org) \u3092DNS\u306b\u554f\u3044\u3042\u308f\u305b\u3066\u3044\u307e\u3059... 192.30.252.154, 192.30.252.153\nbackbonejs.org (backbonejs.org)|192.30.252.154|:80 \u306b\u63a5\u7d9a\u3057\u3066\u3044\u307e\u3059... \u63a5\u7d9a\u3057\u307e\u3057\u305f\u3002\nHTTP \u306b\u3088\u308b\u63a5\u7d9a\u8981\u6c42\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3001\u5fdc\u7b54\u3092\u5f85\u3063\u3066\u3044\u307e\u3059... 302 Found\n\u5834\u6240: /backbone-min.js [\u7d9a\u304f]\n--2015-03-05 11:49:34--  http://backbonejs.org/backbone-min.js\nbackbonejs.org (backbonejs.org)|192.30.252.154|:80 \u306b\u63a5\u7d9a\u3057\u3066\u3044\u307e\u3059... \u63a5\u7d9a\u3057\u307e\u3057\u305f\u3002\nHTTP \u306b\u3088\u308b\u63a5\u7d9a\u8981\u6c42\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3001\u5fdc\u7b54\u3092\u5f85\u3063\u3066\u3044\u307e\u3059... 200 OK\n\u9577\u3055: 19999 (20K) [application/javascript]\n`backbone-min.js' \u306b\u4fdd\u5b58\u4e2d\n\n100%[================================================================>] 19,999       111KB/s \u6642\u9593 0.2s\n\n2015-03-05 11:49:34 (111 KB/s) - `backbone-min.js' \u3078\u4fdd\u5b58\u5b8c\u4e86 [19999/19999]\n\n[study@ip-172-31-8-2 lib]$ wget http://underscorejs.org/underscore-min.js\n--2015-03-05 11:49:34--  http://underscorejs.org/underscore-min.js\nunderscorejs.org (underscorejs.org) \u3092DNS\u306b\u554f\u3044\u3042\u308f\u305b\u3066\u3044\u307e\u3059... 192.30.252.154, 192.30.252.153\nunderscorejs.org (underscorejs.org)|192.30.252.154|:80 \u306b\u63a5\u7d9a\u3057\u3066\u3044\u307e\u3059... \u63a5\u7d9a\u3057\u307e\u3057\u305f\u3002\nHTTP \u306b\u3088\u308b\u63a5\u7d9a\u8981\u6c42\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3001\u5fdc\u7b54\u3092\u5f85\u3063\u3066\u3044\u307e\u3059... 200 OK\n\u9577\u3055: 16523 (16K) [application/javascript]\n`underscore-min.js' \u306b\u4fdd\u5b58\u4e2d\n\n100%[================================================================>] 16,523      89.8KB/s \u6642\u9593 0.2s\n\n2015-03-05 11:49:35 (89.8 KB/s) - `underscore-min.js' \u3078\u4fdd\u5b58\u5b8c\u4e86 [16523/16523]\n\n[study@ip-172-31-8-2 lib]$ wget http://code.jquery.com/jquery-2.1.3.min.js\n--2015-03-05 11:49:35--  http://code.jquery.com/jquery-2.1.3.min.js\ncode.jquery.com (code.jquery.com) \u3092DNS\u306b\u554f\u3044\u3042\u308f\u305b\u3066\u3044\u307e\u3059... 94.31.29.53, 94.31.29.230\ncode.jquery.com (code.jquery.com)|94.31.29.53|:80 \u306b\u63a5\u7d9a\u3057\u3066\u3044\u307e\u3059... \u63a5\u7d9a\u3057\u307e\u3057\u305f\u3002\nHTTP \u306b\u3088\u308b\u63a5\u7d9a\u8981\u6c42\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3001\u5fdc\u7b54\u3092\u5f85\u3063\u3066\u3044\u307e\u3059... 200 OK\n\u9577\u3055: 84320 (82K) [application/x-javascript]\n`jquery-2.1.3.min.js' \u306b\u4fdd\u5b58\u4e2d\n\n100%[================================================================>] 84,320       389KB/s \u6642\u9593 0.2s\n\n2015-03-05 11:49:35 (389 KB/s) - `jquery-2.1.3.min.js' \u3078\u4fdd\u5b58\u5b8c\u4e86 [84320/84320]\n\n[study@ip-172-31-8-2 lib]$ ls -l\n\u5408\u8a08 124\n-rw-r--r-- 1 study wheel 19999  2\u6708  4 01:34 backbone-min.js\n-rw-r--r-- 1 study wheel 84320 12\u6708 19 00:17 jquery-2.1.3.min.js\n-rw-r--r-- 1 study wheel 16523  2\u6708 22 23:14 underscore-min.js\n[study@ip-172-31-8-2 lib]$\n\n\nNh\u01b0 v\u1eady ch\u00fang ta \u0111\u00e3 chu\u1ea9n b\u1ecb s\u1eb5n s\u00e0ng c\u00e1c th\u01b0 vi\u1ec7n.\nSau n\u00e0y, t\u1eeb B\u00e0i 1~8 ch\u00fang ta s\u1ebd ti\u1ebfp t\u1ee5c ch\u00ecnh s\u1eeda source.\nTheo t\u1eebng b\u00e0i, c\u00e1c h\u00e0m s\u1ebd \u0111\u01b0\u1ee3c th\u00eam d\u1ea7n d\u1ea7n t\u1eebng ch\u00fat m\u1ed9t v\u00e0 s\u1ebd ho\u00e0n t\u1ea5t \u1edf b\u00e0i 8.\nM\u1ed7i b\u00e0i g\u1ed3m:\n\nM\u1ee5c ti\u00eau sau khi ho\u00e0n th\u00e0nh b\u00e0i h\u1ecdc ( Ngh\u0129a l\u00e0 k\u1ebft qu\u1ea3 c\u1ee7a b\u00e0i h\u1ecdc \u1ea5y, nh\u1eefng ch\u1ee9c n\u0103ng s\u1ebd ho\u00e0n t\u1ea5t )\nDanh s\u00e1ch c\u00e1c file b\u1ea1n c\u1ea7n ch\u1ec9nh s\u1eeda ( S\u1ebd c\u00f3 nh\u1eefng file c\u1ea7n s\u1eeda, x\u00f3a \u0111i ho\u1eb7c th\u00eam file m\u1edbi )\nN\u1ed9i dung ch\u1ec9nh s\u1eeda c\u1ee7a t\u1eebng file v\u00e0 nh\u1eefng \u0111i\u1ec3m ch\u00fa th\u00edch.\n\nTh\u01b0\u1eddng ch\u00fang t\u00f4i s\u1ebd ch\u00fa th\u00edch ngay trong b\u00e0i vi\u1ebft.\n\u203b Ngo\u00e0i ra trong \u0111o\u1ea1n code c\u0169ng s\u1ebd c\u00f3 c\u00e1c \u0111o\u1ea1n comment ch\u00fa th\u00edch \u0111\u1ec3 c\u00e1c b\u1ea1n d\u1ec5 \u0111\u1ecdc h\u01a1n, h\u00e3y c\u1ed1 g\u1eafng \u0111\u1ecdc nh\u00e9, c\u1ed1 l\u00ean !\nCh\u00fang ta b\u1eaft \u0111\u1ea7u b\u00e0i 1 !\n\nB\u00e0i 1: Routing\nCh\u00fang ta s\u1ebd b\u01b0\u1edbc \u0111\u1ea7u quan s\u00e1t v\u1ec1 s\u1ef1 \u0111i\u1ec1u h\u01b0\u1edbng c\u1ee7a Backbone.Router.\n\nM\u1ee5c Ti\u00eau ho\u1ea1t \u0111\u1ed9ng c\u1ee7a \u1ee9ng d\u1ee5ng sau khi ho\u00e0n th\u00e0nh b\u00e0i h\u1ecdc\nKhi b\u1ea1n truy c\u1eadp http://PublicIP/rest-study/#todo-lists\nN\u00f3 s\u1ebd hi\u1ec3n th\u1ecb nh\u01b0 th\u1ebf n\u00e0y.\n\nV\u1edbi s\u1ef1 \u0111i\u1ec1u h\u01b0\u1edbng c\u1ee7a Backbone.Router \u0111\u1ec3 ch\u1ea1y \u0111\u1ebfn h\u00e0m hi\u1ec7n th\u00f4ng b\u00e1o \"\u0110\u00e2y l\u00e0 trang To Do List\" k\u1ebft qu\u1ea3 danh danh s\u00e1ch Todo list khi b\u1ea1n truy c\u1eadp \u0111\u01b0\u1eddng d\u1eabn #todo-lists.\nC\u00f2n khi truy c\u1eadp http://[PublicIP]/rest-study/#todo-lists/1\n\nN\u00f3 s\u1ebd hi\u1ec3n th\u1ecb t\u01b0\u1eddng t\u1ef1 nh\u01b0 tr\u00ean ( \u0110\u00e2y l\u00e0 chi ti\u1ebft c\u00f4ng vi\u1ec7c c\u00f3 id = 1 )\nDo s\u1ef1 \u0111i\u1ec1u h\u01b0\u1edbng c\u1ee7a Backbone.Router, s\u1ebd ch\u1ea1y \u0111\u1ebfn h\u00e0m \u0111\u1ec3 hi\u1ec7n k\u1ebft qu\u1ea3 khi b\u1ea1n truy c\u1eadp  #todo-lists/X v\u00ed d\u1ee5 \"Thong tin TODO c\u1ee7a id = X\", v\u1edbi X l\u00e0 ID c\u1ee7a c\u00f4ng vi\u1ec7c m\u00ecnh c\u1ea7n xem.\n\nNh\u1eefng file c\u1ea7n ch\u1ec9nh s\u1eeda\n\n\n\nThao t\u00e1c\nfile\nGi\u1ea3i th\u00edch\n\n\n\n\nCh\u1ec9nh s\u1eeda\napp/View/Layouts/default.ctp\nHTML template\n\n\nTh\u00eam\napp/webroot/js/routers/router.js\nRouter(Controller)\n\n\nTh\u00eam\napp/webroot/js/app.js\nFile js ch\u00ednh\n\n\n\n\nChi ti\u1ebft ch\u1ec9nh s\u1eeda t\u1eebng file v\u00e0 c\u00e1c ch\u00fa th\u00edch\n\ndefault.ctp\n\u1ede CakePHP, file default.ctp s\u1ebd m\u1eb7c \u0111\u1ecbnh hi\u1ec3n th\u1ecb \u0111\u1ea7u tien.\nCh\u00fang ta s\u1ebd s\u1eed d\u1ee5ng HTML template \u0111\u1ec3 vi\u1ebft l\u1ea1i n\u00f3.\n\ndefault.ctp\n<!DOCTYPE html>\n<html>\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<title>\u1ee8ng d\u1ee5ng TODO \u0111\u01a1n gi\u1ea3n</title>\n</head>\n<body>\n\n    <!-- \u2460 js(library) -->\n    <script src=\"js/lib/jquery-2.1.3.min.js\" type=\"text/javascript\"></script>\n    <script src=\"js/lib/underscore-min.js\" type=\"text/javascript\"></script>\n    <script src=\"js/lib/backbone-min.js\" type=\"text/javascript\"></script>\n\n    <!-- js(application) -->\n    <!--  \u2461 router   -->\n    <script src=\"js/routers/router.js\" type=\"text/javascript\"></script>\n    <!--  \u2462 entry point   -->\n    <script src=\"js/app.js\" type=\"text/javascript\"></script>\n\n</body>\n</html>\n\n\nCh\u00fa th\u00edch \u2460\u301c\u2462 t\u01b0\u01a1ng \u1ee9ng\u3001\n\n\u2460 \u1ee8ng d\u1ee5ng c\u1ea7n load \u0111\u01b0\u1ee3c c\u1ea3 3 th\u01b0 vi\u1ec7n jquery, underscore, backbone, 3 d\u00f2ng n\u00e0y \u0111\u1ec3 khai b\u00e1o ch\u00fang.\n\u2461 G\u1ecdi file router.js \u0111\u1ec3 s\u1eed d\u1ee5ng.\n\u2462 G\u1ecdi file app.js \u0111\u1ec3 s\u1eed d\u1ee5ng.\n\n\nrouter.js\n\u0110\u00e2y l\u00e0 ph\u1ea7n s\u1ebd l\u00e0m nhi\u1ec7m v\u1ee5 routing\n\nrouter.js\nvar app = app || {};\n\n//router\n(function(app) {\n    app.TodoRouter = Backbone.Router.extend({\n        routes : {\n            ''          : 'todoLists',  \n            'todo-lists'        : 'todoLists',  \n            'todo-lists/:id'    : 'todoDetail'\n        },\n        todoLists : function() {\n            alert('TODO\u4e00list');\n        },\n        todoDetail : function(id) {\n            alert('Thong tin TODO c\u1ee7a id = ' + id);\n        },\n    });\n})(app);\n\n\n\u203bCh\u00fang ta s\u1eed d\u1ee5ng m\u1ed9t namespace nh\u01b0 sau\nvar app = app || {};\n(function(app) {`\n})(app);\n\nXem gi\u1ea3i th\u00edch t\u1ea1i \u0111\u00e2y, c\u00e1i n\u00e0y l\u00e0 c\u00fa ph\u00e1p m\u1eb7c \u0111\u1ecbnh, sau n\u00e0y t\u1ea5t c\u1ea3 c\u00e1c project kh\u00e1c m\u00ecnh \u0111\u1ec1u d\u00f9ng c\u00fa ph\u00e1p t\u01b0\u01a1ng t\u1ef1.\n\napp.TodoRouter = Backbone.Router.extend({\n\u0110\u00e2y l\u00e0 s\u1ef1 khai b\u00e1o \u0111\u1ec3 th\u1eeba k\u1ebf Backbone.Router object c\u1ee7a backbone, thao t\u00e1c n\u00e0y gi\u00fap th\u1eeba k\u1ebf nh\u1eefng k\u1ebft qu\u1ea3 c\u1ee7a object t\u1edbi app.TodoRouter.\nTi\u1ebfp \u0111\u00f3 b\u1ea1n c\u0169ng d\u1ec5 d\u00e0ng nh\u1eadn ra collection, model, c\u0169ng \u0111\u01b0\u1ee3c khai b\u00e1o nh\u01b0 v\u1eady \u1edf view, v\u00e0 \u0111\u01b0\u1ee3c khai b\u00e1o th\u1eeba k\u1ebf t\u1eeb c\u00e1c object m\u00e0 backbone c\u00f3.\nBi\u1ebfn Routes {} \nT\u1ea1i \u0111\u00e2y ch\u00fang ta s\u1ebd \u0111\u1eb7t 1 c\u1eb7p URL v\u00e0 h\u00e0m cho n\u00f3.\nURL d\u00f9ng \u0111\u1ec3 th\u1ef1c thi h\u00e0m todoLists l\u00e0 #todo-lists.\nH\u00e0m TodoLists\n\u0110\u00e2y l\u00e0 n\u1ed9i dung c\u1ee7a h\u00e0m todoLists \u0111\u01b0\u1ee3c li\u1ec7t k\u00ea trong routes {}. \u1ede \u0111\u00e2y ch\u00fang ta s\u1ebd ch\u1ea1y m\u1ed9t h\u00e0m alert() \u0111\u1ec3 hi\u1ec3n th\u1ecb tin nh\u1eafn nh\u01b0 tr\u00ean sau khi truy c\u1eadp URL #todo-lists.\nH\u00e0m todoDetail\n\u0110\u00e2y l\u00e0 h\u00e0m hi\u1ec3n th\u1ecb n\u1ed9i dung chi ti\u1ebft c\u1ee7a c\u00f4ng vi\u1ec7c c\u1ea7n l\u00e0m li\u1ec7t k\u00ea \u1edf routes{}.\n\n\napp.js\nM\u1ed9t khi file default.ctp \u0111\u01b0\u1ee3c \u0111\u1ecdc h\u1ebft, ngh\u0129a l\u00e0 ch\u01b0\u01a1ng tr\u00ecnh \u0111\u00e3 load h\u1ebft nh\u1eefng th\u01b0 vi\u1ec7n c\u1ea7n thi\u1ebft v\u00e0 file router.js.\n\napp.js\nvar app = app || {};\n\n//Bat Dau\n(function(app) {\n    var todoRouter = new app.TodoRouter();  // \u2460\n    Backbone.history.start();               // \u2461\n})(app);\n\n\n\u2460 B\u1ea1n t\u1ea1o m\u1ed9t bi\u1ebfn t\u1ea1i app.TodoRouter.\n\u2461 T\u00f4i \u0111\u00e3 ch\u1ea1y h\u00e0m Backbone.history.start(); \u00fd ngh\u0129a h\u00e0m n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c gi\u1ea3i th\u00edch \u1edf d\u01b0\u1edbi.\n# V\u1edbi URL ( ch\u00ednh x\u00e1c h\u01a1n l\u00e0 \"URL fragment\") n\u00f3 d\u00f9ng \u0111\u1ec3 tr\u1ecf \u0111\u1ebfn m\u1ed9t \u0111\u01b0\u1eddng d\u1eabn trong trang , nh\u01b0ng n\u1ebfu n\u00f3 thay \u0111\u1ed5i, hashchange s\u1ebd x\u1ea3y ra. n\u1ebfu b\u1ea1n kh\u00f4ng gi\u1ecfi JavaScript, b\u1ea1n c\u00f3 th\u1ec3 ch\u1ea1y h\u00e0m n\u00e0y khi s\u1ef1 ki\u1ec7n hashchange xu\u1ea5t hi\u1ec7n b\u1eb1ng c\u00e1ch vi\u1ebft m\u1ed9t handler cho window.onhashchange nh\u01b0 sau.\nwindow.onhashchange = function (e){\n    alert('hash change!');\n};\n\nKhi s\u1eed d\u1ee5ng router c\u00e1c b\u1ea1n ph\u1ea3i ch\u1ea1y \u0111o\u1ea1n code Backbone.history.start() d\u00f9ng \u0111\u1ec3 b\u1eaft \u0111\u1ea7u gi\u00e1m s\u00e1t c\u00e1c s\u1ef1 ki\u1ec7n hashchange trong backbone, \u00fd ngh\u0129a c\u1ee7a n\u00f3 l\u00e0 \u0111\u1ec3 ch\u1ea1y nh\u1eefng g\u00ec b\u1ea1n \u0111\u00e3 vi\u1ebft tr\u01b0\u1edbc \u0111\u00f3 trong routes {} c\u1ee7a file router.js.\n\nT\u00f3m t\u1eaft n\u1ed9i dung\nC\u00e1c c\u00f4ng \u0111o\u1ea1n c\u1ee7a b\u00e0i n\u00e0y nh\u01b0 sau\n\n\n T\u1ea1o app/View/Layouts/default.ctp nh\u01b0 m\u00f4 t\u1ea3 \u1edf tr\u00ean.\n\n T\u1ea1o app/webroot/js/routers/router.js nh\u01b0 m\u00f4 t\u1ea3 \u1edf tr\u00ean.\n\n T\u1ea1o app/webroot/js/app.js nh\u01b0 m\u00f4 t\u1ea3 \u1edf tr\u00ean.\n\n Ki\u1ec3m tra k\u1ebft qu\u1ea3.\n\n commit l\u00ean Git\n\n\u0110\u1ebfn b\u00e0i 2 !\n\nB\u00e0i 2: M\u00f4 h\u00ecnh ho\u1ea1t \u0111\u1ed9ng MVC c\u01a1 b\u1ea3n\nCh\u00fang ta \u0111\u00e3 t\u00ecm hi\u1ec3u v\u1ec1 c\u00e1ch \u0111i\u1ec1u h\u01b0\u1edbng c\u1ee7a route \u1edf b\u00e0i 1\n\u1ede b\u00e0i 2 n\u00e0y ch\u00fang ta s\u1ebd t\u00ecm hi\u1ec3u v\u1ec1 c\u00e1ch ho\u1ea1t \u0111\u1ed9ng c\u1ee7a Model, View, Controller.\n\nM\u1ee5c ti\u00eau b\u00e0i h\u1ecdc\nV\u1edbi JS th\u00ec c\u00e1c b\u1ea1n s\u1ebd r\u1ea5t kh\u00f3 \u0111\u1ec3 ki\u1ec3m tra k\u1ebft qu\u1ea3, gi\u00e1 tr\u1ecb c\u00e1c bi\u1ebfn... v\u00ec n\u00f3 kh\u00f4ng hi\u1ec7n ra m\u00e0n h\u00ecnh, v\u00ec v\u1eady c\u00f3 m\u1ed9t h\u00e0m  console.log() d\u00f9ng \u0111\u1ec3 l\u00e0m vi\u1ec7c \u0111\u00f3, ch\u00fang ta d\u00f9ng \u0111\u1ec3 quan s\u00e1t nh\u1eefng gi\u00e1 tr\u1ecb c\u1ea7n thi\u1ebft th\u00f4ng qua Console.\nTruy c\u1eadp http://[PublicIP]/rest-study/#todo-lists. chu\u1ed9t ph\u1ea3i ch\u1ecdn Ki\u1ec3m Tra Ph\u1ea7n t\u1eed ho\u1eb7c click v\u00e0o Google, More Tool v\u00e0 ch\u1ecdn Google Developer Tool \u0111\u1ec3 hi\u1ec3n th\u1ecb c\u00f4ng c\u1ee5 h\u1ed7 tr\u1ee3 c\u00e1c ph\u00e1t tri\u1ec3n c\u1ee7a Google Chrome nh\u01b0 \u1ea3nh minh h\u1ecda d\u01b0\u1edbi \u0111\u00e2y\n\n\u203b Tr\u01b0\u1edbc ti\u00ean b\u1ea1n c\u1ea7n ph\u1ea3i disable h\u00e0m \"source map\".\nV\u1edbi vi\u1ec7c download backbone v\u00e0 underscore, t\u01b0\u01a1ng \u1ee9ng v\u1edbi m\u1ed9t h\u00e0m \"source map\" nh\u01b0ng \u0111\u00e3 \u0111\u01b0\u1ee3c t\u1ed1i gi\u1ea3n, n\u00f3 c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c truy\u1ec1n v\u00e0o \u0111\u1ec3 t\u1ef1 \u0111\u1ed9ng set v\u00e0o Chrome.\nV\u00ec n\u1ebfu b\u1ea1n kh\u00f4ng set th\u00ec n\u00f3 s\u1ebd hi\u1ec7n log c\u1ee7a c\u00e1c l\u1ed7i v\u00e0o console ( nh\u01b0ng kh\u00f4ng ph\u1ea3i l\u00e0 nh\u1eefng l\u1ed7i nghi\u00eam tr\u1ecdng ), bay gi\u1edd m\u00ecnh ch\u01b0a c\u1ea7n d\u00f9ng \u0111\u1ebfn n\u00f3, c\u00e1c b\u1ea1n n\u00ean v\u00e0o setting \u1edf bi\u1ec3u t\u01b0\u1ee3ng b\u00e1nh r\u0103ng c\u01b0a g\u00f3c tr\u00ean b\u00ean ph\u1ea3i v\u00e0 s\u1eeda n\u00f3 th\u00e0nh OFF. \n\nN\u1ebfu \u00f4 n\u00e0y \u0111\u00e3 \u0111\u01b0\u1ee3c b\u1ecf check ( tr\u1ea1ng th\u00e1i OFF ) r\u1ed3i th\u00ec \u0111\u00e3 OK.\n\nKhi ki\u1ec3m tra k\u1ebft qu\u1ea3.\n\u0110\u1ec3 x\u00f3a log c\u00e1c b\u1ea1n click v\u00e0o bi\u1ec3u t\u01b0\u1ee3ng v\u00f2ng tr\u00f2n g\u1ea1ch ch\u00e9o nh\u01b0 \u1ea3nh minh h\u1ecda d\u01b0\u1edbi \u0111\u00e2y v\u00e0 t\u1ea3i l\u1ea1i trang.\nChuy\u1ec3n sang tab console, k\u1ebft qu\u1ea3 ch\u1ea1y h\u00e0m console.log() s\u1ebd xu\u1ea5t hi\u1ec7n.\n\nT\u00f4i s\u1ebd gi\u1ea3i th\u00edch n\u1ed9i dung c\u1ee7a log nh\u01b0 sau:\n\n\n\nNo.\nFile ngu\u1ed3n\nLog\n\n\n\n\n1\nrouter.js:13\nD\u00f9ng route \u0111\u1ec3 hi\u1ec7n th\u1ecb TODO list ra View\n\n\n2\ntodo-collection-view.js:8\nKh\u1edfi t\u1ea1o view cho TODO List\n\n\n3\ntodo-collection-view.js:14\nX\u1eed l\u00fd vi\u1ec7c hi\u1ec3n th\u1ecb view c\u1ee7a TODO list\n\n\n4\ntodo-collection-view.js:16\nL\u1ea5y collection\n\n\n5\njquery-2.1.3.min.js\nXHR ho\u00e0n th\u00e0nh vi\u1ec7c load: GET \"http://[PublicIP]/rest-study/todo_lists.json\".\n\n\n6\ntodo-collection.js:11\nPh\u00e2n t\u00edch Collection\n\n\n7\ntodo-model.js:9\nPh\u00e2n t\u00edch Model\n\n\n8\ntodo-model.js:10\n\u25b6 Object {TodoList: Object}\n\n\n9\ntodo-model.js:9\nPh\u00e2n t\u00edch Model\n\n\n10\ntodo-model.js:10\n\u25b6 Object {TodoList: Object}\n\n\n11\ntodo-model.js:9\nPh\u00e2n t\u00edch Model\n\n\n12\ntodo-model.js:10\n\u25b6 Object {TodoList: Object}\n\n\n\nCh\u00fa th\u00edch\n\u203b \u1ede v\u00ed d\u1ee5 n\u00e0y t\u00f4i s\u1ebd t\u1ea1o 3 c\u00f4ng vi\u1ec7c trong database.\n\nKhi b\u1ea1n truy c\u1eadp v\u00e0o rest-study/#todo-lists, route s\u1ebd x\u1eed l\u00fd v\u00e0 b\u1eaft \u0111\u1ea7u t\u1ea1o view cho Todo List\nQu\u00e1 tr\u00ecnh kh\u1edfi t\u1ea1o Todo List cho View \u0111\u01b0\u1ee3c th\u1ef1c thi, view \u0111\u00e3 \u0111\u01b0\u1ee3c t\u1ea1o\nQu\u00e1 tr\u00ecnh hi\u1ec3n th\u1ecb Todo List l\u00ean View b\u1eaft \u0111\u1ea7u\nTh\u1ef1c hi\u1ec7n c\u00e1c thao t\u00e1c n\u1ea1p c\u1ee7a collections, b\u1eaft \u0111\u1ea7u truy c\u1eadp server side API\nGiao th\u1ee9c ajax trong jquery \u0111\u01b0\u1ee3c th\u1ef1c thi, Truy c\u1eadp http://PublicIP/rest-study/todo_lists.json v\u1edbi ph\u01b0\u01a1ng th\u1ee9c GET \u0111\u1ec3 ho\u00e0n t\u1ea5t vi\u1ec7c l\u1ea5y to\u00e0n b\u1ed9 danh s\u00e1ch to do list trong data.\n\u1ede collection, Ph\u00e2n t\u00edch nh\u1eefng data \u0111\u00e3 \u0111\u01b0\u1ee3c t\u1ed5ng h\u1ee3p trong b\u01b0\u1edbc 5.\nPh\u00e2n t\u00edch data \u0111\u1ea7u ti\u00ean (model) \u1edf collection (Parse) \u0111\u01b0\u1ee3c th\u1ef1c thi\nS\u1eed d\u1ee5ng nh\u1eefng ph\u00e2n t\u00edch trong b\u01b0\u1edbc 7, (Khi b\u1ea1n click v\u00e0o \u25b6 \u0110\u1ed5 d\u1eef li\u1ec7u.) Thu \u0111\u01b0\u1ee3c c\u00e1c chi ti\u1ebft d\u1eef li\u1ec7u\nPh\u00e2n t\u00edch data th\u1ee9 2 trong collection.\n\u0110\u1ed5 d\u1eef li\u1ec7u \u0111\u00e3 thu \u0111\u01b0\u1ee3c ra m\u00e0n h\u00ecnh.\nPh\u00e2n t\u00edch data th\u1ee9 3 trong collection.\n\u0110\u1ed5 d\u1eef li\u1ec7u thu \u0111\u01b0\u1ee3c nh\u01b0 b\u00e0i 8\n\n\u0110\u1ec3 chi ti\u1ebft h\u01a1n, ch\u00fang ta s\u1ebd xem qua \u0111\u1eb7c t\u1ea3 ch\u1ee9c n\u0103ng c\u1ee7a m\u1ed7i file.\nNh\u1eefng file b\u1ea1n c\u1ea7n ch\u1ec9nh s\u1eeda ###\n\n\n\nThao t\u00e1c s\u1eeda\nfile\nDi\u1ec5n t\u1ea3\n\n\n\n\nCh\u1ec9nh s\u1eeda\napp/View/Layouts/default.ctp\nHTML Template\n\n\nCh\u1ec9nh s\u1eeda\napp/webroot/js/routers/router.js\nRoute (Controller)\n\n\nTh\u00eam m\u1edbi\napp/webroot/js/views/todo-collection-view.js\nView(Danh s\u00e1ch Todo List)\n\n\nTh\u00eam m\u1edbi\napp/webroot/js/collections/todo-collection.js\nCollection ( T\u1eadp h\u1ee3p c\u00e1c TODO )\n\n\nTh\u00eam m\u1edbi\napp/webroot/js/models/todo-model.js\nModel( M\u1ed7i TODO )\n\n\n\n\nCh\u00fa th\u00edch v\u00e0 chi ti\u1ebft ch\u1ec9nh s\u1eeda n\u1ed9i dung m\u1ed7i file\nD\u01b0\u1edbi \u0111\u00e2y s\u1ebd show d\u01b0\u1edbi d\u1ea1ng Diff, n\u00f3 s\u1ebd th\u00f4ng qua c\u00e1c d\u1ea5u + v\u00e0 - \u0111\u1ec3 bi\u1ec3u th\u1ecb s\u1ef1 thay \u0111\u1ed5i c\u1ee7a file m\u00e0 ch\u00fang ta s\u1ebd x\u1eed l\u00fd.\n- \u300c+\u300d\u0110\u00e2y l\u00e0 nh\u1eefng d\u00f2ng m\u1edbi c\u1ea7n \u0111\u01b0\u1ee3c th\u00eam v\u00e0o file ( m\u00e0u xanh )\n- \u300c-\u300d\u0110\u00e2y l\u00e0 d\u00f2ng \u0111\u00e3 c\u00f3 trong file v\u00e0 c\u1ea7n b\u1ecb x\u00f3a \u0111i ( m\u00e0u h\u1ed3ng )\n- Nh\u1eefng d\u00f2ng kh\u00f4ng c\u00f3 d\u1ea5u c\u1ed9ng hay tr\u1eeb th\u00ec s\u1ebd \u0111\u01b0\u1ee3c gi\u1eef nguy\u00ean v\u00e0 gi\u1eef nguy\u00ean th\u1ee9 t\u1ef1 nh\u01b0 trong file g\u1ed1c, sau khi th\u00eam c\u00e1c n\u1ed9i dung v\u00e0o th\u00ec c\u00e1c b\u1ea1n l\u01b0u \u00fd x\u00f3a h\u1ebft d\u1ea5u + \u0111i th\u00ec ch\u01b0\u01a1ng tr\u00ecnh m\u1edbi ch\u1ea1y \u0111\u01b0\u1ee3c nh\u00e9.\n\ndefault.ctp\n\ndefault.ctp\n    <script src=\"js/lib/backbone-min.js\" type=\"text/javascript\"></script>\n\n    <!-- js(application) -->\n+   <!--   model   -->\n+   <script src=\"js/models/todo-model.js\" type=\"text/javascript\"></script>\n+   <!--   collection   -->\n+   <script src=\"js/collections/todo-collection.js\" type=\"text/javascript\"></script>\n+   <!--   view   -->\n+   <script src=\"js/views/todo-collection-view.js\" type=\"text/javascript\"></script>\n    <!--   router   -->\n    <script src=\"js/routers/router.js\" type=\"text/javascript\"></script>\n    <!--   entry point   -->\n\n\nTh\u00eam v\u00e0o model, collection, view nh\u1eefng file sau\u3001\n\ntodo-model.js\ntodo-collection.js\ntodo-collection-view.js\n\nChi ti\u1ebft n\u1ed9i dung ch\u1ec9nh s\u1eeda m\u1ed7i file nh\u01b0 sau\n\nrouter.js\n\nrouter.js\n            'todo-lists/:id'    : 'todoDetail'\n        },\n        todoLists : function() {\n-           alert('TODO List');\n+           // route cho Todo list c\u1ee7a view\n+           console.log(\"Route TODO List\");\n+           new app.TodoCollectionView();\n        },\n\n        todoDetail : function(id) {\n\n\n\nX\u00f3a d\u00f2ng alert v\u00ec ch\u00fang ta kh\u00f4ng mu\u1ed1n hi\u1ec3n th\u1ecb alert nh\u01b0 \u1edf b\u00e0i 1 ( alert ch\u1ec9 l\u00e0 demo r\u1eb1ng h\u00e0m \u0111\u00e3 \u0111\u01b0\u1ee3c ch\u1ea1y ).\nHi\u1ec3n th\u1ecb n\u1ed9i dung \u0111\u00e3 \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb trong log th\u1ee9 nh\u1ea5t t\u1ea1i console.log ()\n\nKh\u1edfi t\u1ea1o app.TodoCollectionView\n\nTh\u00f4ng qua Route, h\u00e0m todoLists \u0111\u00e3 \u0111\u01b0\u1ee3c th\u1ef1c thi nh\u01b0 b\u00e0i 1, m\u00ecnh s\u1ebd kh\u1edfi t\u1ea1o m\u1ed9t log output v\u00e0 Todo list cho view. B\u00e2y gi\u1edd, m\u00ecnh s\u1ebd kh\u1edfi t\u1ea1o view cho Todo-list tr\u00ean file todo-collection-view.js.\n\ntodo-collection-view.js\n\u0110\u00e2y l\u00e0 view t\u1ed5ng h\u1ee3p danh s\u00e1ch to\u00e0n b\u1ed9 TODO List\n\ntodo-collection-view.js\nvar app = app || {};\n\n//Todo list cho view\n(function(app) {\n    app.TodoCollectionView = Backbone.View.extend({\n        todoCollection : {},\n        initialize : function() {\n            console.log(\"Todo list\");\n            //xem log\n            this.todoCollection = new app.TodoCollection()\n            this.render();\n        },\n        render : function() {\n            console.log(\"Show Todo list\");\n            //\u0110\u1ed5 d\u1eef li\u1ec7u ra collection\n            console.log(\"fetch to Collection\");\n            this.todoCollection.fetch();\n            return this;\n        },\n    })\n})(app);\n\n\n\n\u1ede app.TodoCollectionView() m\u00ecnh \u0111\u00e3 thi\u1ebft l\u1eadp \u1edf router, m\u00ecnh ch\u1ea1y h\u00e0m initialize.\n\n\nXem log l\u1ea7n 2 \u0111\u1ec3 xem \u0111\u00e3 ch\u1ea1y \u0111\u1ebfn d\u00f2ng \u0111\u00f3 ch\u01b0a\nKhai b\u00e1o app.TodoCollection, n\u00f3 \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef \u1edf bi\u1ebfn n\u1ed9i b\u1ed9todoCollection\n\nCh\u1ea1y h\u00e0m render()\n\n\n\nTi\u1ebfn tr\u00ecnh trong h\u00e0m Render()\n\n\nXem log th\u1ee9 3\nTodoCollection \u0111\u1ec3 ch\u1ea1y h\u00e0m fetch() (g\u1ecdi \u0111\u1ebfn server API c\u1ee7a n\u00f3)\n\n\n\n\ntodo-collection.js\n\u0110\u1ec3 x\u1eed l\u00fd danh s\u00e1ch TODO, ch\u00fang ta c\u1ea7n t\u1ea1o collection ( collection l\u00e0 t\u1eadp h\u1ee3p c\u00e1c model - \u1edf \u0111\u00e2y m\u1ed7i c\u00f4ng vi\u1ec7c TODO l\u00e0 m\u1ed9t model).\n\ntodo-collection.js\nvar app = app || {};\n\n//Collection c\u1ee7a Todo list\n(function(app) {\n    app.TodoCollection = Backbone.Collection.extend({\n        url : '/rest-study/todo_lists.json',\n        model : app.TodoModel,\n\n        parse : function(response) {\n            //Phan tich collection\n            console.log(\"Lay Collection\");\n            return response;\n        }\n    });\n})(app);\n\n\n\nBi\u1ebfn url\nB\u1ea1n s\u1ebd x\u00e1c \u0111\u1ecbnh URL c\u1ee5 th\u1ec3 c\u1ee7a server-side API \u0111\u1ec3 truy c\u1eadp v\u00e0 ch\u1ea1y h\u00e0m fetch\u0111\u1ec3 \u0111\u1ed5 d\u1eef li\u1ec7u ra.\nBi\u1ebfn model\nN\u00f3 s\u1ebd x\u00e1c \u0111\u1ecbnh object c\u1ee5 th\u1ec3 cho model, bao g\u1ed3m c\u1ea3 collection.\nT\u1ea1i \u0111\u00e2y, model \u0111\u01b0\u1ee3c include trong collection n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c nh\u00ecn th\u1ea5y t\u1ea5t c\u1ea3 t\u1ea1i app.TodoModel.\nH\u00e0m parse\nN\u00f3 s\u1ebd ch\u1ea1y h\u00e0m fetch (C\u00f3 s\u1eb5n trong Backbone.Collection m\u00e0 m\u00ecnh \u0111\u00e3 th\u1eeba k\u1ebf), Th\u1ef1c thi h\u00e0m parse s\u1ebd gi\u00fap ch\u00fang ta l\u1ea5y data m\u1ed7i c\u00f4ng vi\u1ec7c TODO t\u1eeb server v\u00e0 t\u1ed5ng h\u1ee3p ch\u00fang ra danh s\u00e1ch b\u1eb1ng jquery.\n\n\ntodo-model.js\nX\u1eed l\u00fd t\u1eebng c\u00f4ng vi\u1ec7c TODO m\u1ed9t, n\u00f3 l\u00e0 m\u1ed9t model.\n\ntodo-model.js\nvar app = app || {};\n\n//model \u0111\u1ec3 \u0111\u01b0a gi\u00e1 tr\u1ecb m\u1ed7i vi\u1ec7c l\u00e0m v\u00e0o database\n(function(app) {\n    app.TodoModel = Backbone.Model.extend({\n        urlRoot : '/rest-study/todo_lists',\n        parse : function(response) {\n            //ph\u00e2n t\u00edch model\n            console.log(\"Parse model\");\n            console.log(response);\n            return response.TodoList;\n        }\n    });\n})(app);\n\n\n\nBi\u1ebfn urlRoot\nC\u00e1c b\u1ea1n c\u1ea7n \u0111i\u1ec1n \u0111\u00fang URL c\u1ee7a API \u0111\u1ec3 ch\u1ea1y h\u00e0m fetch, bi\u1ebfn n\u00e0y s\u1ebd l\u01b0u URL \u0111\u00f3\nH\u00e0m parse\n\u0111\u00e3 gi\u1ea3i th\u00edch \u1edf tr\u00ean\nH\u00e0m parse \nCh\u1ea1y jquery \u0111\u1ec3 t\u1ed5ng h\u1ee3p m\u1ed7i c\u00e1c c\u00f4ng vi\u1ec7c TODO l\u1ea1i v\u00e0 th\u00eam n\u00f3 v\u00e0o d\u00e3y c\u00f4ng vi\u1ec7c.\n\n\u203b L\u01b0u \u00fd quan tr\u1ecdng\n\u1ede h\u00e0m parse, c\u00f3 m\u1ed9t \u0111o\u1ea1n return response.TodoList, n\u00f3 c\u00f3 \u00fd ngh\u0129a  l\u00e0 sau khi thu th\u1eadp \u0111\u01b0\u1ee3c danh s\u00e1ch to\u00e0n b\u1ed9 TODO list, d\u1eef li\u00eau tr\u00ean server s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 d\u01b0\u1edbi d\u1ea1ng json.\n[{\n        \"TodoList\": {\n            \"id\": \"1\",\n            \"todo\": \"TODO 1\",\n            \"status\": \"0\"\n        }\n    },\n    {\n        \"TodoList\": {\n            \"id\": \"2\",\n            \"todo\": \"TODO 2\",\n            \"status\": \"0\"\n        }\n    },\n    {\n        \"TodoList\": {\n            \"id\": \"3\",\n            \"todo\": \"TODO 3\",\n            \"status\": \"0\"\n        }\n    }]\n\nM\u1ed7i n\u1ed9i dung review nh\u01b0 sau.\n\"TodoList\": {\n    \"id\": \"1\",\n    \"todo\": \"TODO 1\",\n    \"status\": \"0\"\n}\n\nT\u1ea5t c\u1ea3 d\u1eef li\u1ec7u \u0111\u00e3 tr\u1edf th\u00e0nh object c\u1ee7a key t\u00ean l\u00e0 TodoList, v\u00e0 \u0111\u00e2y l\u00e0 n\u1ed9i dung c\u1ee7a n\u00f3\n{\n    \"id\": \"1\",\n    \"todo\": \"TODO 1\",\n    \"status\": \"0\"\n}\n\nCh\u1ec9 khi return ch\u00fang ta m\u1edbi c\u00f3 th\u1ec3 t\u1ed5ng h\u1ee3p data m\u1ed9t c\u00e1ch thu\u1eadn ti\u1ec7n nh\u1ea5t.\nN\u1ebfu kh\u00f4ng c\u00f3 n\u00f3, khi b\u1ea1n truy c\u1eadp v\u00e0o id TodoList.id b\u1ea1n s\u1ebd g\u1eb7p nh\u1eefng kh\u00f3 kh\u0103n \u0111\u1ec3 l\u00e0mTodoList.status v\u00e0 \u1edf nh\u1eefng th\u1eddi \u0111i\u1ec3m, khi b\u1ea1n c\u1ea7n truy c\u1eadp status .\n\nKhai b\u00e1o\nB\u1eaft \u0111\u1ea7u khai b\u00e1o!\n-: White_check_mark: app/View/Layouts/default.ctp s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-: White_check_mark: app/webroot/js/routers/router.js s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-: White_check_mark: app/webroot/js/views/todo-collection-view.js s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-: White_check_mark: app/webroot/js/collections/todo-collection.js s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-: White_check_mark: app/webroot/js/models/todo-model.js s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-: White_check_mark: Ki\u1ec3m tra k\u1ebft qu\u1ea3!\n-: White_check_mark: Commit l\u00ean Git\nCh\u00fang ta \u0111\u1ebfn v\u1edbi b\u00e0i th\u1ee9 3.\n\nB\u00e0i 3: Hi\u1ec3n th\u1ecb danh s\u00e1ch\n\u1ede b\u00e0i 2, b\u1ea1n \u0111\u00e3 \u0111\u01b0\u1ee3c t\u00ecm hi\u1ec3u s\u01a1 qua v\u1ec1 m\u00f4 h\u00ecnh ho\u1ea1t \u0111\u1ed9ng c\u1ee7a MVC, v\u00e0 \u0111\u01b0\u1ee3c x\u00e1c nh\u1eadn d\u00e2t \u0111\u00e3 \u0111\u01b0\u1ee3c x\u1eed l\u00fd.\n\u1ede b\u00e0i 3, s\u1ebd hi\u1ec3n th\u1ecb m\u1ed9t danh s\u00e1ch c\u00e1c d\u1eef li\u1ec7u x\u1eed l\u00fd.\n\nM\u1ee5c ti\u00eau ho\u1ea1t \u0111\u1ed9ng c\u1ee7a \u1ee9ng d\u1ee5ng sau khi ho\u00e0n th\u00e0nh b\u00e0i h\u1ecdc\nhttp://[PublicIP]/rest-story/#todo-lists\nKhi b\u1ea1n truy c\u1eadp, b\u1ea1n s\u1ebd th\u1ea5y m\u1ed9t danh s\u00e1ch TODO \u0111\u1ec3 s\u1eed d\u1ee5ng c\u00e1c con s\u1ed1 d\u01b0\u1edbi \u0111\u00e2y.\nCh\u1ec9 c\u00f3 n\u00f3 \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb.\n\nDanh s\u00e1ch t\u1eadp tin c\u1ea7n ch\u1ec9nh s\u1eeda\n\n\n\nThao t\u00e1c\nfile\nDi\u1ec5n t\u1ea3\n\n\n\n\nCh\u1ec9nh s\u1eeda\napp/View/Layouts/default.ctp\nHTML template\n\n\nCh\u1ec9nh s\u1eeda\napp/webroot/js/views/todo-collection-view.js\nxem Todo list)\n\n\nTh\u00eam\napp/webroot/js/views/todo-item-view.js\nView(Hi\u1ec3n th\u1ecb danh s\u00e1ch Todo)\n\n\n\n\nChi ti\u1ebft ch\u1ec9nh s\u1eeda m\u1ed7i t\u1eadp tin v\u00e0 ch\u00fa th\u00edch\n\ndefault.ctp\n\ndefault.ctp\n <title>\u1ee8ng d\u1ee5ng TODO List \u0111\u01a1n gi\u1ea3n</title>\n </head>\n <body>\n+   <!-- N\u1ed9i dung -->\n+   <div id=\"content\">\n+   </div>\n+   <!-- Template c\u1ee7a TODO List -->\n+   <script type=\"text/template\" id=\"list-template\">\n+   <h1>TODO List</h1>\n+   <hr>\n+   <div>\n+       <table border=\"1\" width=\"350px\">\n+           <tbody id=\"todo-lists\"></tbody>\n+       </table>\n+   </div>\n+   </script>\n+\n+   <!-- Moi cong viec se duoc tao vao tempalte nay va chen vao the tbody -->\n+   <script type=\"text/template\" id=\"item-template\">\n+   <td style=\"margin:0px\">\n+       <span class=\"todo-edit\" style=\"margin:0px\"><%- todo %></span>\n+   </td>\n+   </script>\n\n    <!-- js(library) -->\n    <script src=\"js/lib/jquery-2.1.3.min.js\" type=\"text/javascript\"></script>\n @@ -17,6 +37,7 @@\n    <!--   collection   -->\n    <script src=\"js/collections/todo-collection.js\" type=\"text/javascript\"></script>\n    <!--   view   -->\n+   <script src=\"js/views/todo-item-view.js\" type=\"text/javascript\"></script>\n    <script src=\"js/views/todo-collection-view.js\" type=\"text/javascript\"></script>\n    <!--   router   -->\n    <script src=\"js/routers/router.js\" type=\"text/javascript\"></script>\n\n\n\nM\u1ed7i TODO\n\n\n\n<script type=\"text/template\" id=\"list-template\"> \u0110\u00e2y l\u00e0 ph\u1ea7n b\u1eaft \u0111\u1ea7u template t\u1ea5t c\u1ea3 c\u00e1c c\u00f4ng vi\u1ec7c TODO\n\n\nTemplate cho m\u1ed7i c\u00f4ng vi\u1ec7c TODO\n\n\n\n<script type=\"text/template\" id=\"item-template\"> Template cho m\u1ed7i ph\u1ea7n t\u1eed, t\u00f4i s\u1ebd th\u00eam view cho n\u00f3 v\u00e0o `todo-item-view.js.\n\n\n\n\ntodo-collection-view.js\n\ntodo-collection-view.js\n //T\u1ea1o view cho TODO list\n (function(app) {\n app.TodoCollectionView = Backbone.View.extend({\n+   el : '#content',\n+   tagName : 'div',\n todoCollection : {},\n initialize : function() {\n-   console.log(\"Khoi tao view cho Todo list\");\n-   //T\u1ea1o collection\n    this.todoCollection = new app.TodoCollection()\n+   this.todoCollection.on('add', this.addOne, this);\n+   this.$el.html($('#list-template').html());\n this.render();\n },\n render : function() {\n-   console.log(\"Thao tac cua viec khoi tao view cho todo list\");\n-   //\u0110\u1ed5 d\u1eef li\u1ec7u v\u00e0o collection\n-   console.log(\"collection fetch\");\n this.todoCollection.fetch();\n return this;\n },\n+\n+   addOne : function(todo) {\n+   var itemView = new app.TodoItemView({\n+   model : todo\n+   });\n+   $('#todo-lists').append(itemView.render().el);\n+   },\n })\n })(app);\n\n\nX\u00f3a \u0111o\u1ea1n console.log b\u1ea1n \u0111\u00e3 th\u00eam v\u00e0o \u1edf ph\u1ea7n 2 v\u00e0 th\u00eam c\u00e1c d\u00f2ng nh\u01b0 tr\u00ean.\nCh\u00fa th\u00edch:\n- Bi\u1ebfn el\n    \u0110\u00e2y l\u00e0 bi\u1ebfn \u0111\u1ec3 set th\u00e0nh ph\u1ea7n c\u1ee7a DOM View.\n    Ph\u1ea7n '#content' tr\u1ecf \u0111\u1ebfn <div id=\"content\"> n\u1eb1m trong default.ctp .\n- Bi\u1ebfn tagName\n    th\u1ebb HTML tag c\u1ee7a bi\u1ebfn el \u1edf tr\u00ean, nh\u01b0 m\u00ecnh \u0111ang vi\u1ebft l\u00e0 th\u1ebb div\n- H\u00e0m initialize\n- `this.todoCollection.on('add', this.addOne, this);`\n\n     l\u1eafng nghe khi c\u00f3 1 model \u0111\u01b0\u1ee3c add v\u00e0o collection th\u00ec g\u1ecdi h\u00e0m callback `addOne` \u0111\u1ec3 render l\u1ea1i view\n- `this.$el.html($('#list-template').html());`\n\n    M\u00ecnh s\u1ebd v\u1ebd template cho template \u0111\u01b0\u1ee3c tr\u1ecf \u0111\u1ebfn t\u1eeb bi\u1ebfn `el` trong file default.ctp c\u1ee7a `'#list-template'`.\n\n\nH\u00e0m addOne\napp.TodoItemView\uff08View cho m\u1ed7i c\u00f4ng vi\u1ec7c\uff09\u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o, n\u00f3 s\u1ebd xu\u1ea5t ra danh s\u00e1ch cho trang '#todo-lists' trong th\u1ebb <tbody> c\u1ee7a template, ch\u00fang ta \u0111\u00e3 v\u1ebd th\u00eam 1 view cho m\u1ed7i c\u00f4ng vi\u1ec7c.\n\n\ntodo-item-view.js\nTh\u00eam view cho vi\u1ec7c hi\u1ec3n th\u1ecb m\u1ed7i ph\u1ea7n t\u1eed trong Todo list\njs:todo-item-view.js\nvar app = app || {};\n//Hi\u1ec3n th\u1ecb t\u1eebng view cho Todo list\n(function(app) {\n    app.TodoItemView = Backbone.View.extend({\n    //Tag name c\u1ee7a ph\u1ea7n t\u1eed \u0111\u01b0\u1ee3c th\u00eam v\u00e0o DOM\n    tagName : 'tr',\n    //template\n    template : _.template($('#item-template').html()),\n    initialize : function() {\n    },\n    render : function() {\n    this.$el.html(this.template(this.model.toJSON()));\n    return this;\n    },\n    });\n})(app);\n\n- Bi\u1ebfn tagName\n- List \u0111\u01b0\u1ee3c b\u1ed1 tr\u00ed trong th\u1ebb `<Table>`, m\u1ed7i d\u00f2ng \u0111\u01b0\u1ee3c b\u1ed1 tr\u00ed b\u1eb1ng th\u1ebb `<tr>` n\u00ean tagName s\u1ebd l\u00e0 `tr`.\n\n\n\nH\u00e0m render\n\n\nthis.$el.html($('#list-template').html());\n\u0110o\u1ea1n n\u00e0y c\u00f3 \u00fd ngh\u0129a l\u00e0 s\u1ebd sinh ra m\u00e3 HTML cho ph\u1ea7n c\u1ee7a bi\u1ebfn el \u0111\u00e3 tr\u1ecf \u0111\u1ebfn tr\u00ean kia \u0111\u1ec3 v\u1ebd template trong  default.ctp khi v\u00e0o  '#list-template'.\n\n\n\nH\u00e0m addOne\nH\u00e0m addOne kh\u1edfi t\u1ea1o t\u1eeb app.TodoItemView\uff08view hi\u1ec3n th\u1ecb m\u1ed7i TODO v\u00e0 hi\u1ec3n th\u1ecb ch\u00fang trong th\u1ebb <tbody> t\u1ea1i URL 'todo-lists', n\u00f3 s\u1ebd v\u1ebd view cho m\u1ed7i th\u00e0nh ph\u1ea7n v\u00e0 hi\u1ec3n th\u1ecb trong danh s\u00e1ch.\n\n\nT\u00f3m t\u1eaft n\u1ed9i dung\n\n\n app/View/Layouts/default.ctp s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n\n app/webroot/js/views/todo-collection-view.js s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n\n app/webroot/js/views/todo-item-view.js s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n\n Ki\u1ec3m tra k\u1ebft qu\u1ea3!\n\n Commit l\u00ean git\n\nChuy\u1ec3n sang b\u00e0i 4 !\n\nB\u00e0i 4 : Ch\u1ee9c n\u0103ng th\u00eam c\u00f4ng vi\u1ec7c m\u1edbi\nCh\u00fang ta ti\u1ebfp t\u1ee5c v\u1edbi vi\u1ec7c th\u00eam ch\u1ee9c n\u0103ng th\u00eam TODO cho \u1ee9ng d\u1ee5ng.\n\nM\u1ee5c ti\u00eau ho\u1ea1t \u0111\u1ed9ng c\u1ee7a \u1ee9ng d\u1ee5ng sau khi ho\u00e0n th\u00e0nh b\u00e0i h\u1ecdc\nhttp://[PublicIP]/rest-study/#todo-lists\nKhi b\u1ea1n truy c\u1eadp v\u00e0o link http://[PublicIP]/rest-study/#todo-lists , s\u1ebd hi\u1ec3n th\u1ecb k\u1ebft qu\u1ea3 nh\u01b0 nh\u01b0 h\u00ecnh b\u00ean d\u01b0\u1edbi, v\u1edbi n\u00fat \"Add TODO\" v\u00e0 m\u1ed9t khung textarea \u0111\u01b0\u1ee3c th\u00eam v\u00e0o.\n\nNh\u1eadp C\u00f4ng vi\u1ec7c th\u1ee9 4 v\u00e0 nh\u1ea5n n\u00fat Them ( c\u00e1i n\u00e0y m\u00ecnh vi\u1ec7t h\u00f3a cho d\u1ec5 nh\u00ecn )\n\nTh\u00eam c\u00f4ng vi\u1ec7c th\u00e0nh c\u00f4ng.\n\n\nNh\u1eefng file c\u1ea7n ch\u1ec9nh s\u1eeda\n\n\n\nThao t\u00e1c\nfile\n\u00fd ngh\u0129a\n\n\n\n\nCh\u1ec9nh s\u1eeda\napp/View/Layouts/default.ctp\nHTML template\n\n\nCh\u1ec9nh s\u1eeda\napp/webroot/js/views/todo-collection-view.js\nView (Danh s\u00e1ch Todo list)\n\n\n\n\nChi ti\u1ebft ch\u1ec9nh s\u1eeda c\u00e1c file v\u00e0 ch\u00fa th\u00edch\n\ndefault.ctp\n\ndefault.ctp\n    <!-- template c\u1ee7a TODO list -->\n    <script type=\"text/template\" id=\"list-template\">\n    <h1>TODO list</h1>\n+   <textarea style=\"width:300px;height:50px\"id=\"new-todo\" placeholder=\"Todo?\" autofocus></textarea>\n+   <input type=\"button\" id=\"addTodo\" value=\"Add TODO\">\n    <hr>\n    <div>\n        <table border=\"1\" width=\"350px\">\n @@ -45,4 +47,4 @@\n    <script src=\"js/app.js\" type=\"text/javascript\"></script>\n\n </body>\n\n\nC\u00e1c b\u1ea1n th\u00eam nh\u01b0 sau\n\nText area cho vi\u1ec7c nh\u1eadp c\u00f4ng vi\u1ec7c TODO\nButton \"Them\"\n\n\ntodo-collection-view.js\n\ntodo-collection-view.js\n        tagName : 'div',\n        todoCollection : {},\n        initialize : function() {\n            this.todoCollection.on('add', this.addOne, this);\n            this.$el.html($('#list-template').html());\n+           this.newTodo = this.$('#new-todo');\n            this.render();\n        },\n+       events : {\n+           'click #addTodo' : 'onCreateTodo',\n+       },\n        render : function() {\n            this.todoCollection.fetch();\n            return this;\n        },\n+       onCreateTodo : function(e) {\n+           this.todoCollection.create(this.newAttributes(), {\n+               wait : true\n+           });\n+           this.newTodo.val('');\n+           this.todoCollection.fetch();\n+       },\n        addOne : function(todo) {\n            var itemView = new app.TodoItemView({\n                model : todo\n            });\n            $('#todo-lists').append(itemView.render().el);\n        },\n+       newAttributes : function() {\n+           return {\n+               todo : this.newTodo.val().trim(),\n+               status : 0\n+           }\n+       }\n    })\n })(app);\n\n\n\n\nH\u00e0m initialize\n\n\nthis.newTodo = this.$('#new-todo');\n$ ('#new-todo') l\u00e0 m\u1ed9t text area. N\u00f3 s\u1ebd ch\u1ee9a n\u1ed9i dung v\u00e0o m\u1ed9t bi\u1ebfn v\u00e0 l\u01b0u l\u1ea1i \u0111\u1ec3 s\u1eed d\u1ee5ng nh\u1eefng l\u1ea7n sau.\n\n\nBi\u1ebfn events\n\n\n'click #addTodo' : 'onCreateTodo'\nevents{} c\u1ee7a View l\u00e0 vi\u1ec7c k\u1ebft n\u1ed1i nh\u1eefng \u1ef1u ki\u1ec7n \u1edf DOM v\u1edbi c\u00e1ch x\u1eed l\u00fd ch\u00fang\n\u0110\u00e2y l\u00e0 1 ph\u1ea7n c\u1ee7a view c\u1ee7a backbone nh\u01b0ng c\u0169ng ph\u1ee5c v\u1ee5 cho ch\u1ee9c n\u0103ng c\u1ee7a Controller n\u1eefa.\nT\u1ea1i \u0111\u00e2y, t\u00f4i giao m\u1ed9t ch\u1ee9c n\u0103ng cho h\u00e0m onCreateTodo \u0111\u1ec3 x\u1eed l\u00fd s\u1ef1 ki\u1ec7n click v\u00e0o n\u00fat \"Add TODO\".\n\n\n\nH\u00e0m onCreateTodo\nevents{} l\u00e0 vi\u1ec7c b\u1eaft s\u1ef1 ki\u1ec7n v\u00e0 x\u1eed l\u00fd d\u00e0nh cho n\u00fat \"Add TODO\"\n\nCh\u1ea1y h\u00e0m create c\u1ee7a collection, N\u00f3 s\u1ebd xem l\u1ea1i data m\u1ed9t l\u1ea7n n\u1eefa, b\u00e2y gi\u1edd n\u1ebfu b\u1ea1n g\u1ecdi \u0111\u1ebfn API th\u00eam n\u1ed9i dung ( Tr\u01b0\u1eddng h\u1ee3p l\u1ed7i x\u1ea3y ra, ho\u1eb7c gi\u1eef li\u1ec7u kh\u00f4ng gi\u1ed1ng, m\u00ecnh v\u1eabn ch\u1edd k\u1ebft qu\u1ea3 cu\u1ed1i c\u00f9ng). N\u1ed9i dung \u0111\u01b0\u1ee3c th\u00eam th\u00e0nh c\u00f4ng, h\u00e0m newAttribute \u0111\u01b0\u1ee3c t\u1ea1o.\nKhi th\u00eam vi\u1ec7c th\u00e0nh c\u00f4ng , collection \u0111\u01b0\u1ee3c l\u1ea5y ra, ch\u00fang ta l\u1ea1i c\u00f3 danh s\u00e1ch nh\u1eefng TODO m\u1edbi nh\u1ea5t.\n\n\n\nH\u00e0m newAttributes\n\ntodo : Gi\u00e1 tr\u1ecb nh\u1eadp v\u00e0o t\u1eeb input\nstatus : 0(Ch\u01b0a ho\u00e0n th\u00e0nh)\n\nCh\u00fang ta s\u1ebd tr\u1edf l\u1ea1i m\u1ed9t model m\u1edbi \u0111\u01b0\u1ee3c t\u1ea1o ra.\n\n\n\n\n\nT\u00f3m t\u1eaft n\u1ed9i dung\nL\u00e0m theo c\u00e1c b\u01b0\u1edbc sau \u0111\u00e2y\n\n\n S\u1eeda file app/View/Layouts/default.ctp nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n\n S\u1eeda file app/webroot/js/views/todo-collection-view.js nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n\n Ki\u1ec3m tra k\u1ebft qu\u1ea3\n\n Commit l\u00ean Git\n\n\u0110\u1ebfn v\u1edbi b\u00e0i 5 n\u00e0o !\n\nB\u00e0i 5: Thay \u0111\u1ed5i tr\u1ea1ng th\u00e1i checkbox.\nM\u00ecnh s\u1ebd th\u00eam v\u00e0o m\u1ed9t checkbox, m\u1ed7i khi b\u1ea1n l\u00e0m xong m\u1ed9t c\u00f4ng vi\u1ec7c n\u00e0o trong list, b\u1ea1n c\u00f3 th\u1ec3 check v\u00e0o checkbox \u0111\u00f3 \u0111\u1ec3 \u0111\u00e1nh d\u1ea5u \u0111\u00e3 ho\u00e0n t\u1ea5t.\n\nM\u1ee5c ti\u00eau sau khi h\u1ecdc xong b\u00e0i n\u00e0y\nKhi b\u1ea1n truy c\u1eadp v\u00e0o http://[PublicIP]/rest-study/#todo-lists s\u1ebd hi\u1ec7n giao di\u1ec7n nh\u01b0 h\u00ecnh d\u01b0\u1edbi, m\u1ed9t checkbox n\u1eb1m \u1edf b\u00ean tr\u00e1i TODO hi\u1ec7n ra. N\u00f3 s\u1ebd giao ti\u1ebfp ngay v\u1edbi server v\u00e0 l\u01b0u tr\u1ea1ng th\u00e1i sau khi b\u1ea1n check, v\u00ec v\u1eady b\u1ea1n c\u00f3 th\u1ec3 th\u1ea5y n\u00f3 s\u1ebd v\u1eabn \u0111c check n\u1ebfu b\u1ea1n t\u1ea3i l\u1ea1i trang.\n\nDanh s\u00e1ch nh\u1eefng file c\u1ea7n ch\u1ec9nh s\u1eeda,\n\n\n\nThao t\u00e1c\nfile\n\u00dd ngh\u0129a\n\n\n\n\nCh\u1ec9nh s\u1eeda\napp/View/Layouts/default.ctp\nHTML template\n\n\nCh\u1ec9nh s\u1eeda\napp/webroot/js/models/todo-model.js\n\u30e2\u30c7\u30eb(Todo list)\n\n\nCh\u1ec9nh s\u1eeda\napp/webroot/js/views/todo-item-view.js\n\u30d3\u30e5\u30fc(Hi\u1ec3n t\u1ecb chi ti\u1ebft 1 ph\u1ea7n t\u1eed c\u1ee7a Todo l\u00edt)\n\n\n\n\nChi ti\u1ebft ch\u1ec9nh s\u1eeda c\u1ee7a m\u1ed7i file\n\ndefault.ctp\n\ndefault.ctp\n\n    <! - (ch\u00e8n v\u00e0o ph\u1ea7n tbody n\u1ed9i dung d\u01b0\u1edbi \u0111\u00e2y) \u0111\u00e2y l\u00e0 template c\u1ee7a m\u1ed7i d\u00f2ng TODO ->\n    <script type=\"text/template\" id=\"item-template\">\n+   <td><input type=\"checkbox\" class=\"toggle\" <%- status === '1' ? 'checked' : '' %>></td>\n    <td style=\"margin:0px\">\n        <span class=\"todo-edit\" style=\"margin:0px\"><%- todo %></span>\n    </td>\n\n\nN\u00f3 s\u1ebd ch\u00e8n m\u1ed9t \u0111o\u1ea1n HTML fragment \u0111\u1ec3 hi\u1ec7n th\u00eam m\u1ed9t c\u1ed9t checkbox\n<% - Status === '1' 'checked':? ''% >>\n\u0110o\u1ea1n n\u00e0y c\u00f3 ngh\u0129a l\u00e0 n\u1ebfu \u00f4 n\u00e0y \u0111\u01b0\u1ee3c check th\u00ec s\u1ebd chuy\u1ec3n status th\u00e0nh 1, c\u00f2n n\u1ebfu kh\u00f4ng th\u00ec kh\u00f4ng thay \u0111\u1ed5i ( m\u1eb7c \u0111\u1ecbnh b\u1eb1ng 0, c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 ki\u1ec3m tra tr\u00ean phpmyadmin )\n\ntodo-model.js\n\ntodo-model.js\n            console.log(\"ph\u00e2n t\u00edch model\");\n            console.log(response);\n            return response.TodoList;\n+       },\n+       toggle : function() {\n+           this.set('status', this.get(\"status\") === '1' ? '0' : '1');\n+           this.save();\n        }\n    });\n })(app);\n\n\nB\u1ea1n c\u1ea7n th\u00eam h\u00e0m toggle, m\u1ed7i model s\u1ebd s\u1edf h\u1eefu m\u1ed9t tr\u1ea1ng th\u00e1i\n\nt\u1eeb 0 th\u00e0nh 1\nt\u1eeb 1 th\u00e0nh 0\n\nCh\u00fang ta \u0111ang vi\u1ebft m\u1ed9t ch\u01b0\u01a1ng tr\u00ecnh \u0111\u1ec3 convert ch\u00fang, b\u1ea1n c\u1ea7n l\u01b0u ch\u00fang v\u00e0o database b\u1eb1ng c\u00e1ch g\u1ecdi server-side API ch\u1ee9a h\u00e0m save(). Nh\u1eefng x\u1eed l\u00fd c\u1ee7a view s\u1ebd \u0111\u01b0\u1ee3c g\u1ecdi trong c\u00e1c h\u00e0m x\u1eed l\u00fd t\u01b0\u01a1ng \u1ee9ng ( sau khi c\u00e1c b\u1ea1n click v\u00e0o checkbox.\n\ntodo-item-view.js\n\ntodo-item-view.js\n        //template\n        template : _.template($('#item-template').html()),\n\n+       //set vi\u1ec7c x\u1eed l\u00fd s\u1ef1 ki\u1ec7n cho DOM\n+       events : {\n+       // Khi click v\u00e0o checkbox\n+           'click .toggle' : 'onStatusToggleClick',\n+       },\n+\n        initialize : function() {\n        },\n        render : function() {\n            this.$el.html(this.template(this.model.toJSON()));\n            return this;\n        },\n+       onStatusToggleClick : function(e) {\n+           this.model.toggle();\n+       },\n    });\n })(app);\n\n\nBi\u1ebfn event\nCh\u00fang ta \u0111\u00e3 vi\u1ebft h\u00e0m x\u1eed l\u00fd  onStatusToggleClick t\u1ea1i ch\u1ed7 click check box at check box click.\nH\u00e0m onStatusToggleClick\nN\u00f3 \u0111\u01b0\u1ee3c g\u1ecdi \u1edf th\u1eddi \u0111i\u1ec3m checkbox \u0111\u01b0\u1ee3c click.\nCh\u1ea1y h\u00e0m toggle c\u1ee7a Model, N\u1ebfu \u0111\u1ed5i sang tr\u1ea1ng th\u00e1i kh\u00e1c b\u1ea1n kh\u00f4ng th\u1ec3 save.\n\nT\u00f3m t\u1eaft n\u1ed9i dung\nB\u1eaft \u0111\u1ea7u n\u00e0o!\n-  S\u1eeda file app/View/Layouts/default.ctp theo h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-  S\u1eeda file app/webroot/js/models/todo-model.js theo h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-  S\u1eeda file app/webroot/js/views/todo-item-view.js theo h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-  Ki\u1ec3m tra l\u1ea1i k\u1ebft qu\u1ea3\n-  Commit l\u00ean Git\nChuy\u1ec3n sang b\u00e0i 6.\n\nB\u00e0i 6: Vi\u1ebft ch\u1ee9c n\u0103ng x\u00f3a c\u00f4ng vi\u1ec7c\nTh\u00eam ch\u1ee9c n\u0103ng x\u00f3a nh\u1eefng c\u00f4ng vi\u1ec7c kh\u00f4ng mong mu\u1ed1n trong TODO list.\n\nM\u1ee5c ti\u00eau \u0111\u1ea1t \u0111\u01b0\u1ee3c sau b\u00e0i h\u1ecdc\nSau khi truy c\u1eadp http://[PublicIP]/rest-study/#todo-lists s\u1ebd hi\u1ec3n th\u1ecb nh\u01b0 \u1ea3nh d\u01b0\u1edbi \u0111\u00e2y, v\u1edbi link x\u00f3a nh\u1eefng c\u00f4ng vi\u1ec7c kh\u00f4ng mong mu\u1ed1n \u1edf b\u00ean c\u1ea1nh t\u01b0\u01a1ng \u1ee9ng.\n\nKhi b\u1ea1n click x\u00f3a, TODO 2 s\u1ebd bi\u1ebfn m\u1ea5t sau khi reload l\u1ea1i danh s\u00e1ch.\n\n\nNh\u1eefng file b\u1ecb thay \u0111\u1ed5i\n\n\n\nH\u00e0nh \u0111\u1ed9ng\nfile\n\u00dd ngh\u0129a\n\n\n\n\nCh\u1ec9nh s\u1eeda\napp/View/Layouts/default.ctp\nHTML template\n\n\nCh\u1ec9nh s\u1eeda\napp/webroot/js/views/todo-item-view.js\nView ( Hi\u1ec3n th\u1ecb t\u1eebng c\u00f4ng vi\u1ec7c trong TODO list)\n\n\n\n\nN\u1ed9i dung ch\u1ec9nh s\u1eeda m\u1ed7i file v\u00e0 ch\u00fa th\u00edch\n\ndefault.ctp\n\ndefault.ctp\n    <td style=\"margin:0px\">\n        <span class=\"todo-edit\" style=\"margin:0px\"><%- todo %></span>\n    </td>\n+   <td>\n+       <a class=\"remove-link\" href=\"#\">Delete</a>\n+   </td>\n    </script>\n\n    <!-- js(library) -->\n\n\nN\u00f3 c\u00f3 c\u00f4ng d\u1ee5ng th\u00eam c\u00e1c \u0111o\u1ea1n HTML \u0111\u1ec3 hi\u1ec3n th\u1ecb link cho vi\u1ec7c x\u00f3a.\n\ntodo-item-view.js\n\ntodo-item-view.js\n        events : {\n            //Khi click vao Checkbox\n            'click .toggle' : 'onStatusToggleClick',\n+               // Khi click nut Xoa\n+           'click .remove-link' : 'onRemoveClick',\n        },\n\n        initialize : function() {\n+           this.listenTo(this.model, 'destroy', this.remove);\n        },\n        render : function() {\n            this.$el.html(this.template(this.model.toJSON()));\n            return this;\n        },\n        onStatusToggleClick : function(e) {\n            this.model.toggle();\n        },\n+       onRemoveClick : function(e) {\n+           this.model.destroy({\n+               wait : true\n+           });\n+       },\n    });\n })(app);\n\n\nBi\u1ebfn events\nH\u00e0m x\u1eed l\u00fd s\u1ef1 ki\u1ec7n click v\u00e0o link X\u00f3a l\u00e0 onRemoveClick.\nH\u00e0m initialize\nX\u00f3a c\u00f4ng vi\u1ec7c khi click v\u00e0o link, tuy nhi\u00ean s\u1ef1 ki\u1ec7n destroy ch\u1ec9 x\u1ea3y ra n\u1ebfu n\u00f3 th\u1ef1c s\u1ef1 \u0111\u00e3 b\u1ecb x\u00f3a. \nCh\u00fang ta s\u1ebd set m\u1ed9t h\u00e0m b\u1eaft v\u00e0 x\u1eed l\u00fd s\u1ef1 ki\u1ec7n n\u00e0y l\u00e0 this.remove.\nH\u00e0m remove l\u00e0 m\u1ed9t view cho ch\u00ednh n\u00f3, v\u00e0 s\u1ebd x\u00f3a t\u1ea5t c\u1ea3 c\u00e1c ph\u1ea7n t\u1eed DOM \u0111\u01b0\u1ee3c th\u1ea5y trong bi\u1ebfn el, nh\u1eefng s\u1ef1 k\u1ebft h\u1ee3p v\u1edbi n\u00f3 v\u00e0 s\u1ebd h\u1ee7y to\u00e0n b\u1ed9 c\u00e1c s\u1ef1 ki\u1ec7n.\nM\u1ed9t vi\u1ec7c TODO tr\u00ean m\u00e0n h\u00ecnh s\u1ebd b\u1ecb x\u00f3a.\nH\u00e0m onRemoveClick vi\u1ec7c th\u1ef1c hi\u1ec7n c\u00e1c ch\u1ee9c n\u0103ng \u0111\u00e3 \u0111\u01b0\u1ee3c thi\u1ebft l\u1eadp trong c\u00e1c s\u1ef1 ki\u1ec7n.\nCh\u00fang ta s\u1ebd ch\u1ea1y h\u00e0m destroy \u0111\u1ec3 x\u00f3a ph\u1ea7n t\u1eed ( model ) n\u00e0y.\nSau khi \u0111\u00e3 th\u1ef1c s\u1ef1 x\u00f3a xong, s\u1ef1 ki\u1ec7n destroy s\u1ebd x\u1ea3y ra, view \u0111\u01b0\u1ee3c set \u1edf h\u00e0m initialize s\u1ebd b\u1ecb x\u00f3a.\n\nT\u00f3m t\u1eaft n\u1ed9i dung\nC\u00e1c b\u01b0\u1edbc d\u01b0\u1edbi \u0111\u00e2y\n\n\n Ch\u1ec9nh s\u1eeda file app/View/Layouts/default.ctp nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n\n Ch\u1ec9nh s\u1eeda file app/webroot/js/views/todo-item-view.js nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n\n Ki\u1ec3m tra k\u1ebft qu\u1ea3\n\n Commit l\u00ean Git\n\nSang b\u00e0i 7 th\u00f4i.\n\nB\u00e0i 7: Hi\u1ec3n th\u1ecb trang chi ti\u1ebft c\u00f4ng vi\u1ec7c.\nTh\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng ch\u1ec9nh s\u1eeda n\u1ed9i dung c\u1ee7a m\u1ed7i TODO trong m\u00e0n h\u00ecnh detail .\n\nM\u1ee5c ti\u00eau sau khi k\u1ebft th\u00fac b\u00e0i h\u1ecdc\nKhi truy c\u1eadp v\u00e0o http://[PublicIP]/rest-study/#todo-lists s\u1ebd hi\u1ec7n ra nh\u1eefng th\u00f4ng tin nh\u01b0 \u1ea3nh d\u01b0\u1edbi, k\u00e8m theo m\u1ed9t link xem chi ti\u1ebft \u1edf b\u00ean ph\u1ea3i link x\u00f3a c\u00f4ng vi\u1ec7c.\n\nKhi click v\u00e0o n\u00fat chi ti\u1ebft c\u1ee7a TODO3, s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n \u0111\u1ebfn trang th\u00f4ng tin chi ti\u1ebft v\u1edbi nh\u1eefng n\u1ed9i dung nh\u01b0 \u1ea3nh d\u01b0\u1edbi \u0111\u00e2y\n\nKhi click Cancel, kh\u00f4ng th\u1ef1c hi\u1ec7n h\u00e0nh \u0111\u1ed9ng g\u00ec c\u1ea3 m\u00e0 s\u1ebd quay l\u1ea1i danh s\u00e1ch Todo list\n\n\nNh\u1eefng file b\u1ecb thay \u0111\u1ed5i\n\n\n\nH\u00e0nh \u0111\u1ed9ng\nfile\n\u00dd ngh\u0129a\n\n\n\n\nCh\u1ec9nh s\u1eeda\napp/View/Layouts/default.ctp\nHTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\n\nCh\u1ec9nh s\u1eeda\napp/webroot/js/routers/router.js\n\u30eb\u30fc\u30bf(Controller)\n\n\nTh\u00eam m\u1edbi\napp/webroot/js/views/todo-detail-view.js\nView(View chi ti\u1ebft c\u1ee7a m\u1ed7i TODO)\n\n\n\n\nN\u1ed9i dung ch\u1ec9nh s\u1eeda m\u1ed7i file v\u00e0 ch\u00fa th\u00edch\n\ndefault.ctp\n\ndefault.ctp\n </head>\n <body>\n    <!-- \u30b3\u30f3\u30c6\u30f3\u30c4 -->\n-   <div id=\"content\">\n-   </div>\n+   <div id=\"main\"></div>\n    <!-- Template c\u1ee7a TODO list -->\n    <script type=\"text/template\" id=\"list-template\">\n    <h1>TODO List</h1>\n @@ -29,8 +28,17 @@\n    </td>\n    <td>\n        <a class=\"remove-link\" href=\"#\">Delete</a>\n+       <a class=\"detail-link\" href=\"#todo-lists/<%- id %>\">Detail</a>\n    </td>\n    </script>\n+   <!-- Trang chi ti\u1ebft -->\n+   <script type=\"text/template\" id=\"detail-template\">\n+   <h2>Todo #<%- id %></h2>\n+   <div>\n+   <textarea style=\"width:300px;height:50px\" id=\"edit-todo\" autofocus placeholder=\"Todo?\"><%- todo %></textarea>\n+   <input type=\"button\" id=\"updateCancel\" value=\"Cancel\"></input>\n+   </div>\n+   </script>\n\n    <!-- js(library) -->\n    <script src=\"js/lib/jquery-2.1.3.min.js\" type=\"text/javascript\"></script>\n @@ -44,6 +52,7 @@\n    <script src=\"js/collections/todo-collection.js\" type=\"text/javascript\"></script>\n    <!--   view   -->\n    <script src=\"js/views/todo-item-view.js\" type=\"text/javascript\"></script>\n+   <script src=\"js/views/todo-detail-view.js\" type=\"text/javascript\"></script>\n    <script src=\"js/views/todo-collection-view.js\" type=\"text/javascript\"></script>\n    <!--   router   -->\n    <script src=\"js/routers/router.js\" type=\"text/javascript\"></script>\n\n\n\n\nThay \u0111\u1ed5i <div id=\"content\"> th\u00e0nh <div id=\"main\">\nCh\u00fang ta s\u1ebd nh\u1eafc \u0111\u1ebfn n\u1ed9i dung c\u1ee7a router.js sau \u0111\u00e2u, \u0111\u1ea7u ti\u00ean ta th\u00eam ph\u1ea7n <div id =\"content\"> v\u00e0o ngay d\u01b0\u1edbi <div id =\" main \">.\n\nTh\u00eam link v\u00e0o m\u00e0n h\u00ecnh chi ti\u1ebft\nLink c\u1ee7a ch\u00fang ta l\u00e0 href =\"#todo-lists/<%- id%>\".\n    B\u00e2y gi\u1edd, \u0111\u1ec3 kh\u1edbp v\u1edbi thi\u1ebft \u0111\u1eb7t routing trong b\u00e0i 1 th\u00ec link bu\u1ed9c ph\u1ea3i l\u00e0 #todo-lists/:id.\nTh\u00eam template cho trang chi ti\u1ebft ( trang detail \u1ea5y )\n\nCh\u00fang ta c\u1ea7n hi\u1ec3n th\u1ecb title (id), v\u00e0 th\u00eam m\u1ed9t text area v\u00e0 n\u00fat Cancel.\n\nXem m\u00e0n h\u00ecnh hi\u1ec3n th\u1ecb th\u00eam c\u00f4ng vi\u1ec7c\n\n\u0110\u00e2y l\u00e0 1 view cho m\u00e0n h\u00ecnh deltai, ch\u00fang ta c\u1ea7n th\u00eam cho todo-detail-view.js .\n\nrouter.js\n\nrouter.js\n+\n+       currentView : false,\n+\n        todoLists : function() {\n            //Routing cho Todolist\n-           console.log(\" Routing Todo list\");\n-           new app.TodoCollectionView();\n+           this.removeCurrentView();\n+           this.nextView(app.TodoCollectionView);\n        },\n\n        todoDetail : function(id) {\n-           alert('View thong tin chi tiet cua id = ' + id);\n+           this.removeCurrentView();\n+           this.nextView(app.TodoDetailView, id);\n        },\n+\n+       nextView : function(View, option) {\n+           if (document.getElementById('#content') === null) {\n+               $('#main').append('<div id=\"content\"/>');\n+           }\n+           this.currentView = new View(option);\n+       },\n+       removeCurrentView : function() {\n+           if (this.currentView) {\n+               this.currentView.remove();\n+           }\n+       }\n+\n    });\n })(app);\n\n\nCho \u0111\u1ebfn b\u00e0i 6 th\u00ec c\u00fang ta v\u1eabn ch\u1ec9 c\u00f3 m\u1ed9t giao di\u1ec7n, ch\u00fang ta c\u1ea7n th\u00eam m\u1ed9t giao di\u1ec7n cho trang detail n\u1eefa.\nSau \u0111\u00f3, \u0111\u1ec3 thay \u0111\u1ed5i ti\u1ebfn tr\u00ecnh th\u00eam View , ch\u00fang ta c\u1ea7n th\u00eam nh\u1eefng ti\u1ebfn tr\u00ecnh \u0111\u1ec3 b\u1ecf View.\nKh\u00f4ng may l\u00e0 ch\u00fang ta \u0111\u00e3 x\u00f3a c\u00e1c console.log v\u00e0 alert.\n\nBi\u1ebfn currentView\n\u0110\u00e2y l\u00e0 m\u1ed9t bi\u1ebfn \u0111\u1ec3 l\u01b0u tr\u1eef tr\u1ea1ng th\u00e1i c\u1ee7a view v\u1eeba \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb.\n\nH\u00e0m todoLists\nTr\u01b0\u1edbc ti\u00ean ch\u00fang ta ch\u1ec9nh s\u1eeda \u0111\u01a1n gi\u1ea3n new app.TodoCollectionView (); \u0111\u1ec3 hi\u1ec3n th\u1ecb TODO list ra View,\n\nX\u00f3a view \u0111ang \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb (currentView l\u00e0 m\u1ed9t bi\u1ebfn tr\u1ecf \u0111\u1ebfn view n\u00e0y) ( h\u00e0m removeCurrentView)\n\u0110\u1ec3 sinh ra TODO List View ( H\u00e0m nextView)\n\nN\u00f3 s\u1ebd tr\u1edf th\u00e0nh 2 ti\u1ebfn tr\u00ecnh.\n\n\nH\u00e0m todoDetail\nGi\u1ed1ng nh\u01b0 h\u00e0m todoLists, ch\u00fang ta s\u1ebd ch\u1ea1y h\u00e0m removeCurrentView v\u00e0 h\u00e0m nextView.\n H\u00e0m nextView g\u1ed3m\n    - app.TodoDetailView\n\nid\n\nCh\u00fang ta \u0111\u00e3 \u0111i qua c\u1ea3 2.\n\nH\u00e0m nextView\nT\u1ea1i \u0111\u00e2y, ch\u00fang ta \u0111\u00e3 \u0111\u1ee5ng m\u1ed9t \u00edt \u0111\u1ebfn n\u1ed9i dung c\u1ee7a file default.ctp, ch\u00fang ta c\u1ea7n th\u00eam v\u00e0i h\u00e0nh \u0111\u1ed9ng cho n\u1ed9i dung.\nN\u1ebfu kh\u00f4ng c\u00f3 t\u00ed n\u1ed9i dung n\u00e0o, ch\u00fang ta s\u1ebd ch\u00e8n v\u00e0o cu\u1ed1i c\u1ee7a c\u00e1c ph\u1ea7n t\u1eed ch\u00ednh.\nK\u1ec3 t\u1eeb khi x\u00f3a xong view c\u1ee7a t\u1ea5t c\u1ea3 c\u00e1c th\u00e0nh ph\u1ea7n, ch\u00fang ta s\u1ebd kh\u00f4ng t\u1ea1o th\u00eam view n\u00e0o n\u1eefa.\n\nTrong m\u00e0n h\u00ecnh chi ti\u1ebft, tham s\u1ed1 view = app.TodoDetailView, tham s\u1ed1 t\u00f9y ch\u1ecdn =id,\napp.TodoDetailView t\u1ea1i th\u1eddi \u0111i\u1ec3m  initialize s\u1ebd th\u00f4ng qua id.\n\n\nH\u00e0m removeCurrentView\nB\u1ea1n c\u1ea7n x\u00f3a view \u0111\u01b0\u1ee3c tr\u1ecf \u0111\u1ebfn b\u1edfi currentView, n\u00f3 s\u1ebd x\u00f3a t\u1eebng n\u1ed9i dung c\u1ee7a view.\n\n\n\ntodo-detail-view.js\n\ntodo-detail-view.js\nvar app = app || {};\n\n//Giao di\u1ec7n trang Detail\n(function(app) {\n    app.TodoDetailView = Backbone.View.extend({\n        el : '#content',\n\n        //template\n        template : _.template($('#detail-template').html()),\n\n        //X\u1eed l\u00fd s\u1ef1 ki\u1ec7n t\u1ea1i DOM\n        events : {\n            //Khi click n\u00fat Cancel\n            'click #updateCancel' : 'onCancelClick',\n        },\n\n        //Kh\u1edfi t\u1ea1o\n        initialize : function(id) {\n            //Model sinh ra sau khi nh\u1eadn id t\u1eed router\n            this.model = new app.TodoModel({\n                id : id\n            });\n            //Ngay khi ho\u00e0n t\u1ea5t nh\u1eadn data t\u1eeb server, n\u00f3 b\u1eaft \u0111\u1ea7u v\u1ebd\n            this.listenTo(this.model, 'sync', this.render);\n            //Model s\u1ebd b\u1ecb h\u1ee7y (destroy) khi s\u1ef1 ki\u1ec7n xu\u1ea5t hi\u1ec7n, x\u00f3a view c\u1ee7a n\u00f3\n            this.listenTo(this.model, 'destroy', this.remove);\n            //\u0110\u1ed5 l\u1ea1i d\u1eef li\u1ec7u t\u1eeb DB v\u00e0o collection\n            this.model.fetch({\n                wait : true\n            });\n        },\n\n        //v\u1ebd giao di\u1ec7n\n        render : function() {\n            //S\u1eed d\u1ee5ng template \u0111\u1ec3 v\u1ebd b\u1ed1 c\u1ee5c model\n            this.$el.html(this.template(this.model.toJSON()));\n            return this;\n        },\n\n        //x\u1eed l\u00fd s\u1ef1 ki\u1ec7n click n\u00fat Cancel\n        onCancelClick : function() {\n            Backbone.history.navigate('#todo-lists', true);\n        },\n\n    });\n})(app);\n\n\nB\u00e2y gi\u1edd m\u00ecnh t\u1ea1o view cho trang detail.\nCh\u00fang ta b\u1ecf qua template, events v\u00ec n\u00f3 s\u1ebd l\u1ea5y nh\u1eefng c\u00e1i m\u00ecnh c\u00f3 t\u1eeb tr\u01b0\u1edbc.\n\nH\u00e0minitialize\n\n\n\u3000\u3000\u3000   Khi nh\u1eefng View n\u00e0y \u0111\u01b0\u1ee3c t\u1ea1o cho c\u00e1c id tr\u1ecf \u0111\u1ebfn t\u1eeb router, m\u00ecnh ch\u1ec9 t\u1ea1o model cho id \u0111\u00f3 m\u00e0 th\u00f4i, v\u00e0o server API m\u00e0 b\u1ea1n \u0111\u00e3 ch\u1ea1y h\u00e0m fetch \u1edf model m\u00ecnh s\u1ebd l\u1ea5y \u0111\u01b0\u1ee3c n\u1ed9i dung.\n    S\u1ef1 ki\u1ec7n sync ( nh\u1eefng th\u00f4ng tin cu\u1ed1i \u0111\u01b0\u1ee3c l\u1ea5y t\u1eeb server ) qua h\u00e0m render,\n    S\u1ef1 ki\u1ec7n Destroy, b\u1ea1n ph\u1ea3i ch\u1ea1y h\u00e0m remove cho view c\u1ee7a n\u00f3 \u0111\u00e3.\n\n\nH\u00e0m render\nNh\u01b0 b\u1ea1n \u0111\u00e3 thi\u1ebft l\u1eadp \u1edf h\u00e0m initialize, n\u00f3 \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 m\u1ed9t s\u1ef1 ki\u1ec7n triggersync v\u00e0 s\u1ef1 ki\u1ec7n n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c h\u1ee7y b\u1ecf sau khi ch\u1ea1y xong h\u00e0m fetch.\nCh\u00fang ta \u0111ang v\u1ebd template.\n\n\nH\u00e0m onCancelClick\nCh\u00fang ta s\u1ebd vi\u1ebft h\u00e0m cho s\u1ef1 ki\u1ec7n ckick v\u00e0o n\u00fat Cancel.\nV\u1edbi h\u00e0m Backbone.history.navigate, ch\u00fang ta s\u1ebd chuy\u1ec3n v\u1ec1 URL '#todo-lists'.\n\u0110o\u1ea1n argument s\u1ebd chuy\u1ec3n th\u00e0nh gi\u00e1 tr\u1ecb true \u0111\u1ec3 chuy\u1ec3n \u0111\u1ebfn URL (= nh\u01b0 router \u0111ang l\u00e0m vi\u1ec7c) kh\u00f4ng ngay l\u1eadp t\u1ee9c.\nSau \u0111\u00f3 router s\u1ebd ph\u1ea3n h\u1ed3i v\u00e0 tr\u1edf l\u1ea1i m\u00e0n h\u00ecnh danh s\u00e1ch TODO list.\n\n\n\nT\u00f3m t\u1eaft n\u1ed9i dung\nC\u00e1c b\u01b0\u1edbc d\u01b0\u1edbi \u0111\u00e2y\n\n\n app/View/Layouts/default.ctp s\u1eeda nh\u01b0 tr\u00ean\u3002\n\n app/webroot/js/routers/router.js s\u1eeda nh\u01b0 tr\u00ean\u3002\n\n app/webroot/js/views/todo-detail-view.js s\u1eeda nh\u01b0 tr\u00ean\u3002\n\n Ki\u1ec3m tra k\u1ebft qu\u1ea3\n\n Commit l\u00ean Git\n\nChuy\u1ec3n qua b\u00e0i cu\u1ed1i c\u00f9ng : B\u00e0i 8\n\nLesson 8 : Ch\u1ec9nh s\u1eeda c\u00f4ng vi\u1ec7c \u1edf trang detail (chi ti\u1ebft)\nTh\u00eam n\u00fat \"Ch\u1ec9nh s\u1eeda\" v\u00e0o trang detail, qua \u0111\u00f3 m\u00ecnh c\u00f3 th\u1ec3 ch\u1ec9nh s\u1eeda c\u00f4ng vi\u1ec7c.\n\nM\u1ee5c ti\u00eau sau khi k\u1ebft th\u00fac b\u00e0i h\u1ecdc\nKhi truy c\u1eadp v\u00e0o trang detail c\u1ee7a c\u00f4ng vi\u1ec7c TODO3 th\u00ec s\u1ebd hi\u1ec7n ra giao di\u1ec7n nh\u01b0 th\u1ebf n\u00e0y\nTrang th\u00f4ng tin chi ti\u1ebft c\u1ee7a c\u00f4ng vi\u1ec7c s\u1ebd hi\u1ec3n th\u1ecb c\u00f3 k\u00e8m n\u00fat C\u1eadp nh\u1eadt thay \u0111\u1ed5i.\n\nN\u1ed9i dung c\u00f4ng vi\u1ec7c s\u1ebd \u0111\u01b0\u1ee3c thay \u0111\u1ed5i v\u00e0 hi\u1ec3n th\u1ecb n\u1ed9i dung m\u1edbi sau khi load l\u1ea1i danh s\u00e1ch TODO list\n\n\nNh\u1eefng file b\u1ecb thay \u0111\u1ed5i\n\n\n\nH\u00e0nh \u0111\u1ed9ng\nfile\n\u00dd ngh\u0129a\n\n\n\n\nCh\u1ec9nh s\u1eeda\napp/View/Layouts/default.ctp\nHTML Template\n\n\nCh\u1ec9nh s\u1eeda\napp/webroot/js/views/todo-detail-view.js\nView ( M\u00e0n h\u00ecnh view c\u1ee7a m\u1ed7i c\u00f4ng vi\u1ec7c TODO)\n\n\n\n\nN\u1ed9i dung ch\u1ec9nh s\u1eeda m\u1ed7i file v\u00e0 ch\u00fa th\u00edch\n\ndefault.ctp\n\ndefault.ctp\n    <h2>Todo #<%- id %></h2>\n    <div>\n    <textarea style=\"width:300px;height:50px\" id=\"edit-todo\" autofocus placeholder=\"Todo?\"><%- todo %></textarea>\n+   <input type=\"button\" id=\"updateTodo\" value=\"Update\"></input>\n    <input type=\"button\" id=\"updateCancel\" value=\"Cancel\"></input>\n    </div>\n    </script>\n\n\nPh\u1ea7n n\u00e0y m\u00ecnh ch\u1ec9 th\u00eam n\u00fat ch\u1ec9nh s\u1eeda\n\ntodo-detail-view.js\n\ntodo-detail-view.js\n        //Set vi\u1ec7c x\u1eed l\u00fd c\u00e1c s\u1ef1 ki\u1ec7n cho DOM\n        events : {\n+           //Khi click n\u00fat Update\n+           'click #updateTodo' : 'onUpdateClick',\n            //Khi click n\u00fat Cancel\n            'click #updateCancel' : 'onCancelClick',\n        },\n\n\u301cChi ti\u1ebft c\u00e1c h\u00e0m\u301c\n\n        render : function() {\n            //S\u1eed d\u1ee5ng template \u0111\u1ec3 v\u1ebd giao di\u1ec7n model\n            this.$el.html(this.template(this.model.toJSON()));\n+           //N\u00f3 s\u1ebd l\u1ea5y gi\u00e1 tr\u1ecb m\u1edbi \u0111\u01b0\u1ee3c \u0111i\u1ec1n v\u00e0o ch\u1ed7 nh\u1eadp input \n+           this.$textBox = this.$('#edit-todo');\n            return this;\n        },\n\n+       //X\u1eed l\u00fd s\u1ef1 ki\u1ec7n sau khi nh\u1ea5n c\u1eadp nh\u1eadt ch\u1ec9nh s\u1eeda\n+       onUpdateClick : function() {\n+           //L\u1ea5y n\u1ed9i dung t\u1eeb textbox\n+           var todoString = this.$textBox.val();\n+           this.model.save({\n+               todo : todoString\n+           }, {\n+               wait : true,\n+               silent : true,\n+               success : function() {\n+                   Backbone.history.navigate('#todo-lists', true);\n+               }\n+           });\n+       },\n+\n        //X\u1eed l\u00fd s\u1ef1 ki\u1ec7n click v\u00e0o n\u00fat Cancel\n        onCancelClick : function() {\n            Backbone.history.navigate('#todo-lists', true);\n\n\n\u0110\u00e2y l\u00e0 vi\u1ec7c t\u1ea1o view cho m\u00e0n h\u00ecnh detail c\u1ee7a m\u1ed7i c\u00f4ng vi\u1ec7c\n\n\nH\u00e0m onUpdateClick\nM\u00ecnh s\u1ebd c\u1eadp nh\u1eadt n\u1ed9i dung m\u1edbi sau khi ng\u01b0\u1eddi d\u00f9ng \u1ea5n n\u00fat Save ( H\u00e0m save), sau \u0111\u00f3 ch\u00fang ta tr\u1edf l\u1ea1i m\u00e0n h\u00ecnh ch\u00ednh danh s\u00e1ch TODO list b\u1eb1ng \u0111o\u1ea1n Backbone.history.navigate, tr\u01b0\u1eddng h\u1ee3p nh\u1ea5n Cancel m\u00ecnh c\u0169ng d\u00f9ng \u0111o\u1ea1n code Backbone.history.navigate \u0111\u1ec3 tr\u1edf l\u1ea1i m\u00e0n h\u00ecnh ch\u00ednh m\u00e0 kh\u00f4ng l\u00e0m c\u00e1c b\u01b0\u1edbc l\u01b0u.\n\n\nCh\u00fang ta \u0111\u1ec3 \u00fd ph\u1ea7n save m\u1ed9t t\u00ed\n\nChucNangSave\n    this.model.save({\n        todo : todoString\n    }, {\n        wait : true,\n        silent : true,\n    });\n    Backbone.history.navigate('#todo-lists', true);\n\n\nC\u00e1c b\u1ea1n c\u00f3 th\u1ec3 th\u1ea5y, \u1edf d\u01b0\u1edbi t\u00f4i c\u00f3 vi\u1ebft m\u1ed9t h\u00e0m success, v\u00e0 \u00fd ngh\u0129a c\u1ee7a n\u00f3 \u0111\u01a1n gi\u1ea3n l\u00e0 chuy\u1ec3n sang trang danh s\u00e1ch c\u00e1c c\u00f4ng vi\u1ec7c TODO. Tuy nhi\u00ean tr\u01b0\u1edbc khi chuy\u1ec3n trang m\u00ecnh c\u1ea7n ph\u1ea3i c\u00f3 c\u00e1c \u0111o\u1ea1n code b\u1eaft l\u1ed7i \"VD: n\u1ed9i dung kh\u00f4ng \u0111\u01b0\u1ee3c ph\u00e9p qu\u00e1 ng\u1eafn, qu\u00e1 d\u00e0i, k\u00fd t\u1ef1 \u0111\u1eb7c bi\u1ec7t...\" v\u00e0 \u1edf m\u1ed7i tr\u01b0\u1eddng h\u1ee3p m\u00ecnh n\u00ean c\u00f3 nh\u1eefng c\u1ea3nh b\u00e1o hay c\u00e1ch x\u1eed l\u00fd kh\u00e1c. Tuy nhi\u00ean t\u00f4i ch\u1ec9 vi\u1ebft duy nh\u1ea5t h\u00e0m Success \u0111\u1ec3 l\u00e0m v\u00ed d\u1ee5.\n\nChucNangSave\n    this.model.save({\n        todo : todoString\n    }, {\n        wait : true,\n        silent : true,\n        success : function() { // ***** Ham success *****\n            Backbone.history.navigate('#todo-lists', true);\n        }\n    });\n},\n\n\n\nT\u00f3m t\u1eaft n\u1ed9i dung\n\n\n s\u1eeda file app/View/Layouts/default.ctp nh\u01b0 \u0111\u00e3 h\u01b0\u1edbng d\u1eabn \u1edf tr\u00ean.\n\n s\u1eeda file app/webroot/js/views/todo-detail-view.js nh\u01b0 \u0111\u00e3 h\u01b0\u1edbng d\u1eabn \u1edf tr\u00ean.\n\n Ki\u1ec3m tra k\u1ebft qu\u1ea3.\n\n Commit l\u00ean Git\n\n Sau c\u00f9ng, c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 ki\u1ec3m tra l\u1ea7n cu\u1ed1i n\u1ed9i dung commit c\u1ee7a t\u00e1c gi\u1ea3 T\u1ea1i \u0111\u00e2y\nCh\u00fac c\u00e1c b\u1ea1n th\u00e0nh c\u00f4ng.\n\n\nT\u00f4i \u0111ang ch\u1edd v\u00e0 r\u1ea5t mong \u0111\u1ee3i nh\u1eefng \u00fd ki\u1ebfn / ph\u1ea3n h\u1ed3i c\u1ee7a c\u00e1c b\u1ea1n.\nC\u1ea3m \u01a1n c\u00e1c b\u1ea1n \u0111\u00e3 theo d\u00f5i Ph\u1ea7n 2 c\u1ee7a chuy\u00ean \u0111\u1ec1 n\u00e0y, t\u00f4i s\u1ebd s\u1edbm ho\u00e0n t\u1ea5t b\u00e0i s\u1ed1 3 \u0111\u1ec3 g\u1eedi \u0111\u1ebfn c\u00e1c b\u1ea1n quan t\u00e2m.\n\n## Ch\u00e0o c\u00e1c b\u1ea1n\n\u0110\u00e2y l\u00e0 Ch\u01b0\u01a1ng 2 c\u1ee7a series l\u1eadp tr\u00ecnh \u1ee9ng d\u1ee5ng RESTful, \u0111\u01b0\u1ee3c d\u1ecbch t\u1eeb b\u00e0i [AWS\u4e0a\u3067\u69cb\u7bc9\u3059\u308bRESTful\u30a2\u30d7\u30ea\u52c9\u5f37\u4f1a\uff5eWeb\u958b\u767a\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\uff5e\u3010\u7b2c2\u56de\u3011](http://qiita.com/k_shimoji/items/0deaa414bf640b7536bb) c\u1ee7a t\u00e1c gi\u1ea3 @k_shimoji , t\u00f4i s\u1ebd vi\u1ebft l\u1ea1i theo \u0111\u00fang tr\u00ecnh t\u1ef1 v\u00e0 n\u1ed9i dung nh\u01b0 b\u00e0i vi\u1ebft g\u1ed1c nh\u01b0ng theo v\u0103n phong c\u1ee7a ng\u01b0\u1eddi Vi\u1ec7t \u0111\u1ec3 c\u00e1c b\u1ea1n d\u1ec5 h\u00ecnh dung, ngo\u00e0i ra s\u1ebd c\u00f3 nhi\u1ec1u ph\u1ea7n t\u00f4i b\u1ed5 sung th\u00eam cho nh\u1eefng b\u1ea1n s\u1eed d\u1ee5ng IDE kh\u00e1c ho\u1eb7c th\u00eam minh h\u1ecda cho d\u1ec5 hi\u1ec3u, t\u00f4i s\u1ebd l\u00e0m song song v\u1edbi vi\u1ec7c d\u1ecbch \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o c\u00f3 nh\u1eefng h\u01b0\u1edbng d\u1eabn s\u00e1t v\u1edbi b\u00e0i h\u1ecdc nh\u1ea5t.\nR\u1ea5t mong nh\u1eadn \u0111\u01b0\u1ee3c nh\u1eefng ph\u1ea3n h\u1ed3i qu\u00fd gi\u00e1 t\u1eeb c\u00e1c b\u1ea1n quan t\u00e2m.\n\n\n\u203b Nh\u1eefng t\u00e0i nguy\u00ean c\u1ea7n chu\u1ea9n b\u1ecb\n\t\n:white_check_mark: \u0110\u0103ng nh\u1eadp b\u1eb1ng SSH\nC\u00e1ch \u0111\u0103ng nh\u1eadp b\u1eb1ng SSH c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 xem b\u00e0i vi\u1ebft tr\u01b0\u1edbc c\u1ee7a t\u00f4i: [C\u00e1c b\u00e0i h\u1ecdc l\u1eadp tr\u00ecnh \u1ee9ng d\u1ee5ng RESTful ~ Chuy\u00ean \u0111\u1ec1 ph\u00e1t tri\u1ec3n Web - [ B\u00e0i 1] X\u00e2y d\u1ef1ng \u1ee9ng d\u1ee5ng tr\u00ean WS](http://qiita.com/Takumi_Kasuga/items/d55b8035708652a79547#12-th%E1%BB%AD-truy-c%E1%BA%ADp-b%E1%BA%B1ng-ssh)\n\n\n## C\u00e1c b\u1ea1n c\u1ea7n ch\u1eafc ch\u1eafn \u0111\u00e3 l\u00e0m c\u00e1c b\u01b0\u1edbc sau:\n\n\u1ede b\u00e0i tr\u01b0\u1edbc ch\u00fang ta \u0111\u00e3 t\u1ea1o m\u1ed9t EC2 instance \u0111\u1ec3 ch\u1ea1y server, ch\u00fang ta c\u1ea7n t\u1ea1o \u00edt API nh\u1ea5t c\u00f3 th\u1ec3, v\u00e0 h\u00e3y ch\u1eafc ch\u1eafn r\u1eb1ng:\n\n- :white_check_mark: EC2 instance \u0111\u00e3 \u0111\u01b0\u1ee3c b\u1eadt\n- :white_check_mark: \u0110\u00e3 c\u00f3 ph\u1ea7n m\u1ec1m check API ( c\u00f4ng c\u1ee5 POSTMAN)\n\n## N\u1ed9i dung\n\nB\u00e2y gi\u1edd m\u00ecnh s\u1ebd s\u1eed d\u1ee5ng backbone.js v\u00e0 t\u1ea1o m\u1ed9t \u1ee9ng d\u1ee5ng TODO \u0111\u01a1n gi\u1ea3n s\u1ebd g\u1ecdi \u0111\u1ebfn server-side API m\u00e0 m\u00ecnh \u0111\u00e3 t\u1ea1o tr\u01b0\u1edbc \u0111\u00f3.\n\n T\u00f4i s\u1ebd chia Ch\u01b0\u01a1ng n\u00e0y ra c\u00e1c b\u00e0i h\u1ecdc nh\u1ecf, m\u1ed7i b\u00e0i m\u00ecnh s\u1ebd l\u00e0m d\u1ea7n c\u00e1c ch\u1ee9c n\u0103ng t\u1eeb c\u01a1 b\u1ea3n nh\u1ea5t, \u0111\u1ebfn b\u00e0i 8 ch\u00fang ta s\u1ebd c\u00f3 \u0111\u01b0\u1ee3c \u1ee9ng d\u1ee5ng TODO n\u00e0y v\u1edbi c\u00e1c ch\u1ee9c n\u0103ng c\u1ea7n thi\u1ebft.\n- B\u00e0i 1 Routing\n- B\u00e0i 2 Ki\u1ebfn th\u1ee9c c\u01a1 b\u1ea3n v\u1ec1 MVC\n- B\u00e0i 3 Hi\u1ec3n th\u1ecb danh s\u00e1ch\n- B\u00e0i 4 Ch\u1ee9c n\u0103ng th\u00eam c\u00f4ng vi\u1ec7c m\u1edbi\n- B\u00e0i 5 Thay \u0111\u1ed5i tr\u1ea1ng th\u00e1i checkbox\n- B\u00e0i 6 Vi\u1ebft ch\u1ee9c n\u0103ng x\u00f3a c\u00f4ng vi\u1ec7c\n- B\u00e0i 7 Hi\u1ec3n th\u1ecb trang chi ti\u1ebft c\u00f4ng vi\u1ec7c\n- B\u00e0i 8 Ch\u1ec9nh s\u1eeda c\u00f4ng vi\u1ec7c \u1edf trang detail (chi ti\u1ebft)\n\nTr\u01b0\u1edbc khi th\u1ef1c h\u00e0nh, ch\u00fang ta s\u1ebd t\u00ecm hi\u1ec3u qua v\u1ec1 backbone.js\n\n## backbone.js l\u00e0 g\u00ec ?\n\n\u0110\u00e2y l\u00e0 m\u1ed9t client-side MVC framework.\n\u0110\u00e2y l\u00e0 l\u1ea7n \u0111\u1ea7u b\u1ea1n d\u00f9ng backbone, v\u1eady d\u00f9ng backbone c\u00f3 l\u1ee3i g\u00ec ?\nCh\u00fang ta s\u1ebd so s\u00e1nh v\u1edbi vi\u1ec7c kh\u00f4ng s\u1eed d\u1ee5ng libraries v\u00e0 frameworks,\n\n- N\u00f3 c\u00f3 th\u1ec3 t\u1ea1o s\u1eb5n m\u1ed9t m\u00f4 h\u00ecnh MVC t\u1ea1i client side\n- Gi\u1ea3m b\u1edbt s\u1ef1 ph\u1ee9c t\u1ea1p c\u1ee7a b\u1ed1 c\u1ee5c source.\n- Qu\u1ea3n l\u00fd source code t\u1ed1t h\u01a1n\n\n\u203b \u0110\u00f3 l\u00e0 nh\u1eefng l\u1ee3i \u00edch c\u1ee7a backbone, tuy nhi\u00ean n\u1ebfu b\u1ea1n kh\u00f4ng c\u1ea9n th\u1eadn, khi m\u00f4i tr\u01b0\u1eddng code b\u1eaft \u0111\u1ea7u l\u1edbn d\u1ea7n l\u00ean, s\u1ebd c\u00f3 v\u00e0i r\u1eafc r\u1ed1i x\u1ea3y ra.\n\n### T\u1ea1i sao l\u1ea1i ch\u1ecdn backbone.js?\n\nbackbone.js, \u0111\u1eb7c tr\u01b0ng c\u1ee7a n\u00f3 l\u00e0 m\u1ed9t tr\u00ecnh qu\u1ea3n l\u00fd code r\u1ea5t s\u00e1ng s\u1ee7a.\nN\u00f3 ch\u1ec9 h\u1ed7 tr\u1ee3 duy nh\u1ea5t MVC framework, v\u00ec v\u1eady \u0111\u00fang nh\u01b0 t\u00ean g\u1ecdi c\u1ee7a n\u00f3 ( x\u01b0\u01a1ng s\u1ed1ng ), n\u00f3 c\u00f3 r\u1ea5t \u00edt th\u1ee9 kh\u00f4ng c\u1ea7n thi\u1ebft, v\u00e0 so s\u00e1nh v\u1edbi c\u00e1c th\u01b0 vi\u1ec7n kh\u00e1c th\u00ec n\u00f3 d\u1ec5 h\u1ecdc h\u01a1n, nh\u1eefng th\u00e0nh ph\u1ea7n kh\u00f4ng li\u00ean quan hay kh\u00f4ng c\u00f3 s\u1eb5n c\u00f3 th\u1ec3 d\u1ec5 d\u00e0ng \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t v\u00e0o b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng r\u1ea5t nhi\u1ec1u plug-in (Nh\u01b0 `marionette` m\u00e0 b\u1ea1n s\u1ebd s\u1eed d\u1ee5ng \u1edf ch\u01b0\u01a1ng 3).\nHi\u1ec7n t\u1ea1i m\u00ecnh s\u1ebd ch\u1ec9 t\u1ea1o 1 app \u0111\u01a1n gi\u1ea3n tuy nhi\u00ean t\u00f4i tin r\u1eb1ng n\u00f3 c\u00f3 th\u1ec3 x\u1eed l\u00fd t\u1ed1t v\u1edbi nh\u1eefng d\u1ef1 \u00e1n l\u1edbn h\u01a1n v\u00e0 \u0111\u00e1p \u1ee9ng t\u1ed1t m\u1ecdi n\u1ec1n t\u1ea3ng .\n\nSau n\u00e0y c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng m\u1ed9t framwork n\u1ed5i ti\u1ebfng kh\u00e1c l\u00e0 AngularJS , hay m\u1ed9t v\u00e0i ng\u01b0\u1eddi c\u0169ng quan t\u00e2m \u0111\u1ebfn React.js, vi\u1ec7c h\u1ecdc qua backbone gi\u00fap c\u00e1c b\u1ea1n n\u1eafm \u0111\u01b0\u1ee3c nh\u1eefng ki\u1ebfn th\u1ee9c c\u01a1 b\u1ea3n nh\u1ea5t c\u1ee7a client MVC framework, qua \u0111\u00f3 d\u1ec5 d\u00e0ng chuy\u1ec3n \u0111\u1ed5i sang c\u00e1c framework kh\u00e1c.\n\n\u203b React r\u1ea5t c\u00f3 th\u1ec3 l\u00e0 c\u00f9ng m\u1ed9t d\u1ea1ng v\u1edbi backbone (t\u00f4i ngh\u0129 v\u1eady...\uff09\u3002\n\n### C\u00e1c th\u00e0nh ph\u1ea7n c\u1ee7a backbone\n\nCh\u00fang ta s\u1ebd nghi\u00ean c\u1ee9u c\u1ee5 th\u1ec3 v\u1ec1 c\u00e1c th\u00e0nh ph\u1ea7n c\u1ee7a backbone.\nTheo m\u00f4 h\u00ecnh MVC, nh\u1eefng th\u00e0nh ph\u1ea7n c\u1ee7a backbone \u0111\u01b0\u1ee3c li\u1ec7t k\u00ea t\u01b0\u01a1ng \u1ee9ng d\u01b0\u1edbi \u0111\u00e2y.\n\n|M/V/C| Th\u00e0nh ph\u1ea7n c\u1ee7a Backbone\n------+-----------------------------------|\n|Model|Backbone.Model, Backbone.Collection|\n|View |Backbone.View, HTML template|\n|Controller|Backbone.View, Backbone.Router|\n\n\u203bHTML template kh\u00f4ng ph\u1ea3i l\u00e0 m\u1ed9t th\u00e0nh ph\u1ea7n c\u1ee7a backbone nh\u01b0ng t\u00f4i \u0111\u1ec3 v\u00e0o d\u00f2ng view cho d\u1ec5 gi\u1ea3i th\u00edch sau n\u00e0y.\n\nCho d\u1ec5 h\u00ecnh dung th\u00ec n\u00f3 s\u1ebd nh\u01b0 th\u1ebf n\u00e0y\n\n![36fcd1ee-97d5-9264-39bf-e7859fbe820a.jpeg](https://qiita-image-store.s3.amazonaws.com/0/94375/ed9cd36f-45e6-f549-f20a-81bc7a913e5a.jpeg)\n\n\nB\u00e2y gi\u1edd nh\u00ecn s\u1ebd kh\u00e1 l\u00e0 kh\u00f3 hi\u1ec3u n\u00ean ch\u00fang ta s\u1ebd t\u00ecm hi\u1ec3u t\u1eebng c\u00e1i m\u1ed9t.\n\n#### Model\n\nModel bao g\u1ed3m Backbone.Model v\u00e0 Backbone.Collection.\n\nN\u00f3 s\u1ebd l\u00e0m nh\u1eefng vi\u1ec7c sau t\u1eeb controller.\n\n- Backbone.Model\n  - G\u1ed3m c\u00e1c ph\u1ea7n t\u1eed m\u00ecnh c\u1ea7n x\u1eed l\u00fd\n- Backbone.Collection\n  - l\u00e0 m\u1ed9t b\u1ed9 c\u00e1c Backbone.Model.\n\nNgo\u00e0i ra c\u00f2n c\u00f3 c\u00e1c s\u1ef1 ki\u1ec7n x\u1ea3y ra v\u1edbi c\u00e1c model.\n\nC\u1ea3 2 \u0111\u1ec1u l\u00e0 trung gian trao \u0111\u1ed5i d\u1eef li\u1ec7u t\u1eeb server v\u00e0 REST API.\n\n### View\n\nView l\u00e0 s\u1ef1 li\u00ean k\u1ebft gi\u1eefa Backbone.View v\u00e0 HTML template, n\u00f3 nh\u1eadn c\u00e1c s\u1ef1 ki\u1ec7n t\u1eeb model \u0111\u1ec3 x\u1eed l\u00fd c\u00e1c h\u00e0nh \u0111\u1ed9ng, VD: n\u00fat `Save` nh\u1eadn s\u1ef1 ki\u1ec7n click, sau \u0111\u00f3 s\u1ebd th\u1ef1c hi\u1ec7n h\u00e0nh \u0111\u1ed9ng l\u01b0u.\n\n\n- Backbone.View\n  - D\u00f9ng \u0111\u1ec3 hi\u1ec3n th\u1ecb logic\n- HTML templates\n  - D\u00f9ng \u0111\u1ec3 hi\u1ec3n th\u1ecb nh\u01b0 HTML tr\u00ean tr\u00ecnh duy\u1ec7t\n\nNguy\u00ean t\u1eafc c\u1ee7a View tr\u00ean MVC l\u00e0 nh\u1eefng th\u00e0nh ph\u1ea7n ch\u00ednh s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb b\u1eb1ng c\u00e1ch x\u1eed l\u00fd nh\u1eefng s\u1ef1 thay \u0111\u1ed5i t\u1eeb Model.\nBackbone.View t\u00f4i ngh\u0129 l\u00e0 n\u00f3 d\u00f9ng \u0111\u1ec3 hi\u1ec3n th\u1ecb giao di\u1ec7n logic m\u1ed9t ph\u1ea7n d\u01b0\u1edbi d\u1ea1ng HTML templates, c\u1ee9 t\u1ea1m h\u00ecnh dung th\u1ebf \u0111\u00e3.\n\n### Controller\n\nController l\u00e0 s\u1ef1 li\u00ean h\u1ec7 gi\u1eefa Backbone.View v\u00e0 Backbone.Router?\nC\u00e1i kh\u00f3 hi\u1ec3u b\u1eaft \u0111\u1ea7u xu\u1ea5t hi\u1ec7n r\u1ed3i \u0111\u00e2y.\nBackbone.View \u0111\u00e3 xu\u1ea5t hi\u1ec7n trong View gi\u1edd l\u1ea1i li\u1ec7t k\u00ea trong Controller?\nGi\u1ea3i th\u00edch nh\u01b0 sau:\n\n- Backbone.View nh\u1eadn c\u00e1c s\u1ef1 ki\u1ec7n t\u1eeb DOM ( VD: nh\u1eefng thao t\u00e1c t\u1eeb ng\u01b0\u1eddi d\u00f9ng) v\u00e0 th\u1ef1c thi c\u00e1c h\u00e0m\n- Backbone.Model nh\u1eadn s\u1ef1 ki\u1ec7n t\u1eeb Backbone.Collection v\u00e0 th\u1ef1c thi c\u00e1c h\u00e0m.\n\nN\u00f3i c\u00e1ch kh\u00e1c, D\u00f9 t\u00ean n\u00f3 \u0111\u01b0\u1ee3c gi\u1edbi thi\u1ec7u nh\u01b0 l\u00e0 \"View\" nh\u01b0ng Backbone.View l\u00e0:\n\n- M\u1ed9t th\u00e0nh ph\u1ea7n c\u1ee7a Controller m\u00e0 \u0111i\u1ec1u khi\u1ec3n c\u00e1c danh s\u00e1ch x\u1eed l\u00fd v\u00e0 thu th\u1eadp s\u1ef1 ki\u1ec7n\n- M\u1ed9t th\u00e0nh ph\u1ea7n c\u1ee7a View c\u00f3 tr\u00e1ch nhi\u1ec7m c\u1eadp nh\u1eadt nh\u1eefng n\u1ed9i dung hi\u1ec3n th\u1ecb v\u00e0o th\u1eddi gian c\u00f3 s\u1ef1 thay \u0111\u1ed5i c\u1ee7a Model.\n\nBackbone.Router l\u00e0:\n  \n- D\u00f9ng \u0111\u1ec3 thay \u0111\u1ed5i nh\u1eefng URL ch\u1ee9a c\u00e1c h\u00e0m th\u1ef1c thi\n- Backbone.Router thay \u0111\u1ed5i view b\u1eb1ng c\u00e1ch thu th\u1eadp nh\u1eefng s\u1ef1 ki\u1ec7n v\u00e0 thay \u0111\u1ed5i URL \u0111\u1ec3 sinh ra view m\u1edbi.\n- Backbone.View c\u00f3 th\u1ec3 t\u1ea1m hi\u1ec3u l\u00e0 thao t\u00e1c thu th\u1eadp s\u1ef1 ki\u1ec7n tr\u00ean m\u00e0n h\u00ecnh\n\n\u0110\u1ed1i v\u1edbi View,\n### Backbone.View th\u1eadm ch\u00ed v\u1eeba l\u00e0 Controller c\u0169ng v\u1eeba l\u00e0 m\u1ed9t View\n\n## Nh\u1eefng th\u1ee9 c\u1ea7n chu\u1ea9n b\u1ecb\n\n### \u0110\u0103ng nh\u1eadp SSH\n\nM\u1ed7i l\u1ea7n b\u1ea1n \u0111\u0103ng nh\u1eadp, n\u00f3 s\u1ebd t\u1ef1 \u0111\u1ed9ng b\u1eaft \u0111\u1ea7u t\u1eeb \u0111\u0103ng nh\u1eadp b\u1eb1ng SSH.\n\n-:white_check_mark: `ssh -i [\u0111\u01b0\u1eddng d\u1eabn \u0111\u1ebfn private key] study @ [PublicIP]`\n\nNh\u1eadp l\u1ec7nh sau \u0111\u1ec3 di chuy\u1ec3n sang th\u01b0 m\u1ee5c g\u1ed1c c\u1ee7a \u1ee9ng d\u1ee5ng.\n\n-:white_check_mark: `cd /var/www/study/rest-study`\n\n\nB\u1eaft \u0111\u1ea7u th\u00f4i n\u00e0o!\n## L\u01b0u branch \u0111\u00e3 t\u1ea1o c\u1ee7a git\n\n\u1ede b\u00e0i tr\u01b0\u1edbc m\u00ecnh \u0111\u00e3 t\u1ea1o branch `vol/01`, tr\u01b0\u1edbc khi th\u1ef1c hi\u1ec7n nh\u1eefng thao t\u00e1c \u1edf b\u00e0i 2, m\u00ecnh commit v\u00e0 push l\u00ean `vol/01` nh\u01b0 h\u01b0\u1edbng d\u1eabn \u1edf b\u00e0i tr\u01b0\u1edbc, sau \u0111\u00f3 g\u1ed9p v\u00e0o branch master.\n\n####G\u1ed9p (merge) branch (`vol/01`) \u0111\u00e3 t\u1ea1o \u1edf b\u00e0i 1 v\u1edbi branch master.\n- :white_check_mark: v\u00e0o branch `master` b\u1eb1ng c\u00e2u l\u1ec7nh\n\t`git checkout master`\n- :white_check_mark: `vol/01` g\u1ed9p v\u1edbi `master` b\u1eb1ng l\u1ec7nh `git merge vol/01`\n\n```\n[study@ip-172-31-8-2 rest-study]$ git checkout master\nSwitched to branch 'master'\nYour branch is up-to-date with 'origin/master'.\n[study@ip-172-31-8-2 rest-study]$ git merge vol/01\nUpdating d234729..55ef625\nFast-forward\n app/Config/routes.php                  |  7 +++++++\n app/Controller/AppController.php       |  5 ++++-\n app/Controller/TodoListsController.php | 42 ++++++++++++++++++++++++++++++++++++++++++\n app/Model/TodoList.php                 |  6 ++++++\n 4 files changed, 59 insertions(+), 1 \n\n```\n\n\nHi\u1ec7n t\u1ea1i n\u1ed9i dung cu\u1ed1i c\u00f9ng \u0111\u00e3 \u0111\u01b0\u1ee3c g\u00e1n cho branch master.\n\n#C\u1eadp nh\u1eadt l\u00ean GitHub b\u1eb1ng l\u1ec7nh push.\n:white_check_mark: `git push origin master` -> \u0111i\u1ec1n username, m\u1eadt kh\u1ea9u\n\n\n\n```bash:Ouput\n[study@ip-172-31-8-2 rest-study]$ git push origin master\nUsername for 'https://github.com': ks-ocean\nPassword for 'https://ks-ocean@github.com':\nTotal 0 (delta 0), reused 0 (delta 0)\nTo https://github.com/ks-ocean/rest-study.git\n   d234729..55ef625  master -> master\n\n```\n\n:white_check_mark: Ki\u1ec3m tra tr\u00ean giao di\u1ec7n c\u1ee7a GitHub\nT\u1ea1i `https://github.com/[username]/rest-study/commits/master`\u3001ch\u00fang ta c\u00f3 th\u1ec3 ch\u1eafc ch\u1eafn vi\u1ec7c g\u1ed9p v\u1edbi branch `vol/01` \u0111\u00e3 th\u00e0nh c\u00f4ng.\n\n![github1.jpg](https://qiita-image-store.s3.amazonaws.com/2006/65988/4ac02796-9862-059b-c665-15b220ac2cef.jpeg \"github1.jpg\")\n\n\n\n#### Ti\u1ebfp t\u1ee5c \u0111\u1ed3ng b\u1ed9 v\u1edbi repository b\u1eb1ng c\u00e1ch fork\n\nRepository g\u1ed1c \u0111\u00e3 \u0111\u01b0\u1ee3c fork [\u1ede \u0111\u00e2y](https://github.com/suzukishouten-study/rest-study)\n\n- :white_check_mark: Th\u00eam m\u1ed9t fork repository t\u00ean l\u00e0 `upstream`\u3002\n\t- `git remote add upstream https://github.com/suzukishouten-study/rest-study.git`\n- :white_check_mark: Xem n\u1ed9i dung \u0111\u00e3 fork c\u1ee7a repository `upstream` v\u1eeba \u0111\u01b0\u1ee3c t\u1ea1o.\n\t- `git fetch upstream`\n- :white_check_mark: X\u00e1c nh\u1eadn\n\t- `git branch -av`\n\n\n```bash:\n[study@ip-172-31-8-2 rest-study]$ git remote add upstream https://github.com/suzukishouten-study/rest-study.git\n[study@ip-172-31-8-2 rest-study]$ git fetch upstream\n[study@ip-172-31-8-2 rest-study]$ git branch -av\n* master                         55ef625 vol/01 complete\n  vol/01                         55ef625 vol/01 complete\n  remotes/origin/HEAD            -> origin/master\n  remotes/origin/master          55ef625 vol/01 complete\n  remotes/origin/vol/01          55ef625 vol/01 complete\n  remotes/origin/vol/01-finish   59d8146 add simple api\n  remotes/upstream/master        d234729 first commmit\n  remotes/upstream/vol/01-finish 59d8146 add simple api\n  remotes/upstream/vol/02-finish ec54cf5 8 \u66f4\u65b0\u51e6\u7406\n```\n\n\u1ede ph\u1ea7n tr\u00ean, m\u1ed9t branch t\u00ean `remotes/upstream/vol/02-finish` \u0111\u00e3 \u0111\u01b0\u1ee3c th\u00eam.\n\u0110\u00e2y l\u00e0 th\u1ee9 \u0111\u00e3 \u0111\u01b0\u1ee3c chu\u1ea9n b\u1ecb \u0111\u1ec3 fork nh\u1eefng repository sau khi ho\u00e0n t\u1ea5t c\u00e1c n\u1ed9i dung v\u1eeba r\u1ed3i.\nN\u1ebfu b\u1ea1n checkout branch n\u00e0y, b\u1ea1n s\u1ebd c\u00f3 th\u1ec3 ki\u1ec3m tra tr\u1ea1ng th\u00e1i c\u1ee7a nh\u1eefng ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y trong qu\u00e1 tr\u00ecnh x\u00e2y d\u1ef1ng \u1ee9ng d\u1ee5ng n\u00e0y.\n\n\u1ede tr\u00ean GitHub.\n\n- Danh s\u00e1ch commit c\u1ee7a branch `vol / 02-finish` [T\u1ea1i \u0111\u00e2y](https://github.com/suzukishouten-study/rest-study/commits/vol/02-finish)\n- Source v\u00e0 hi\u1ec3n th\u1ecb d\u1ea1ng Diff c\u1ee7a nh\u1eefng ph\u1ea7n \u0111\u00e3 ho\u00e0n th\u00e0nh t\u1ea1i b\u00e0i 2 g\u1ea7n \u0111\u00e2y [T\u1ea1i \u0111\u00e2y](https://github.com/suzukishouten-study/rest-study/commit/\n47ead20a422510a62722041940bad3d793533a52).\n\n\n#### T\u1ea1o m\u1ed9t branch cho c\u00f4ng vi\u1ec7c m\u1edbi.\n\nNh\u01b0 nh\u1eefng g\u00ec \u0111\u00e3 l\u00e0m \u1edf b\u00e0i tr\u01b0\u1edbc, t\u1ea1o branch `vol/02` v\u00e0 check out.\n\n- :white_check_mark: `git branch vol/02` \u0111\u1ec3 t\u1ea1o branch\n- :white_check_mark: `git checkout vol/02 ` \u0111\u1ec3 v\u00e0o s\u1eed d\u1ee5ng branch\n\n```bash:Output\n#(git branch \u0111\u1ec3 x\u00e1c nh\u1eadn xem \u0111\u00e3 \u1edf \u0111\u00fang branch \u0111\u00f3 ch\u01b0a)\n[study@ip-172-31-8-2 rest-study]$ git branch vol/02\n[study@ip-172-31-8-2 rest-study]$ git branch\n* master\n  vol/01\n  vol/02\n[study@ip-172-31-8-2 rest-study]$ git checkout vol/02\nSwitched to branch 'vol/02'\n[study@ip-172-31-8-2 rest-study]$ git branch\n  master\n  vol/01\n* vol/02\n[study@ip-172-31-8-2 rest-study]$\n```\n\nCh\u00fang ta \u0111\u00e3 chu\u1ea9n b\u1ecb xong.\nV\u00e0o vi\u1ec7c th\u00f4i!\n \t\n## S\u1eed d\u1ee5ng th\u01b0 vi\u1ec7n \u0111\u1ea7u ti\u00ean\n\nB\u00e2y gi\u1edd ch\u00fang ta c\u1ea7n l\u1ea5y c\u00e1c th\u01b0 vi\u1ec7n Backbone, underscore, jquery t\u1eeb trang ch\u1ee7 c\u1ee7a ch\u00fang ( backbone ch\u1ea1y d\u1ef1a tr\u00ean underscore n\u00ean m\u00ecnh b\u1eaft bu\u1ed9c ph\u1ea3i g\u1ecdi c\u1ea3 n\u00f3 n\u1eefa ).\nC\u00e1c b\u1ea1n l\u00e0m theo h\u01b0\u1edbng d\u1eabn sau.\n\n### T\u1ea1o th\u01b0 m\u1ee5c\nTr\u01b0\u1edbc ti\u00ean c\u00e1c b\u1ea1n h\u00e3y t\u1ea1o c\u00e1c th\u01b0 m\u1ee5c theo \u0111\u01b0\u1eddng d\u1eabn nh\u01b0 sau b\u1eb1ng l\u1ec7nh:\n\n- :white_check_mark: T\u1ea1o th\u01b0 m\u1ee5c `mkdir app/webroot/js/lib`\n- :white_check_mark: V\u00e0o t\u01b0 m\u1ee5c v\u1eeba t\u1ea1o `cd app/webroot/js/lib`.\n\n### T\u1ea3i v\u1ec1 c\u00e1c th\u01b0 vi\u1ec7n\n\nC\u00e1c b\u1ea1n c\u00f3 th\u1ec3 t\u1ea3i v\u1ec1 b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng l\u00eanh `wget` trong terminal.\n Ho\u1eb7c t\u1ea3i theo c\u00e1c URL sau ( \u0111\u1ec1u t\u1eeb trang ch\u1ee7 )\n\n- backbone `http://backbonejs.org/backbone-min.js`\n- underscore `http://underscorejs.org/underscore-min.js`\n- jquery `http://code.jquery.com/jquery-2.1.3.min.js`\n\nC\u00f2n n\u1ebfu s\u1eed d\u1ee5ng l\u1ec7nh:\n\n- :white_check_mark: `wget http://backbonejs.org/backbone-min.js`\n- :white_check_mark: `wget http://underscorejs.org/underscore-min.js`\n- :white_check_mark: `wget http://code.jquery.com/jquery-2.1.3.min.js`\n\n```bash:Output\n[study@ip-172-31-8-2 lib]$ wget http://backbonejs.org/backbone-min.js\n--2015-03-05 11:49:33--  http://backbonejs.org/backbone-min.js\nbackbonejs.org (backbonejs.org) \u3092DNS\u306b\u554f\u3044\u3042\u308f\u305b\u3066\u3044\u307e\u3059... 192.30.252.154, 192.30.252.153\nbackbonejs.org (backbonejs.org)|192.30.252.154|:80 \u306b\u63a5\u7d9a\u3057\u3066\u3044\u307e\u3059... \u63a5\u7d9a\u3057\u307e\u3057\u305f\u3002\nHTTP \u306b\u3088\u308b\u63a5\u7d9a\u8981\u6c42\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3001\u5fdc\u7b54\u3092\u5f85\u3063\u3066\u3044\u307e\u3059... 302 Found\n\u5834\u6240: /backbone-min.js [\u7d9a\u304f]\n--2015-03-05 11:49:34--  http://backbonejs.org/backbone-min.js\nbackbonejs.org (backbonejs.org)|192.30.252.154|:80 \u306b\u63a5\u7d9a\u3057\u3066\u3044\u307e\u3059... \u63a5\u7d9a\u3057\u307e\u3057\u305f\u3002\nHTTP \u306b\u3088\u308b\u63a5\u7d9a\u8981\u6c42\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3001\u5fdc\u7b54\u3092\u5f85\u3063\u3066\u3044\u307e\u3059... 200 OK\n\u9577\u3055: 19999 (20K) [application/javascript]\n`backbone-min.js' \u306b\u4fdd\u5b58\u4e2d\n\n100%[================================================================>] 19,999       111KB/s \u6642\u9593 0.2s\n\n2015-03-05 11:49:34 (111 KB/s) - `backbone-min.js' \u3078\u4fdd\u5b58\u5b8c\u4e86 [19999/19999]\n\n[study@ip-172-31-8-2 lib]$ wget http://underscorejs.org/underscore-min.js\n--2015-03-05 11:49:34--  http://underscorejs.org/underscore-min.js\nunderscorejs.org (underscorejs.org) \u3092DNS\u306b\u554f\u3044\u3042\u308f\u305b\u3066\u3044\u307e\u3059... 192.30.252.154, 192.30.252.153\nunderscorejs.org (underscorejs.org)|192.30.252.154|:80 \u306b\u63a5\u7d9a\u3057\u3066\u3044\u307e\u3059... \u63a5\u7d9a\u3057\u307e\u3057\u305f\u3002\nHTTP \u306b\u3088\u308b\u63a5\u7d9a\u8981\u6c42\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3001\u5fdc\u7b54\u3092\u5f85\u3063\u3066\u3044\u307e\u3059... 200 OK\n\u9577\u3055: 16523 (16K) [application/javascript]\n`underscore-min.js' \u306b\u4fdd\u5b58\u4e2d\n\n100%[================================================================>] 16,523      89.8KB/s \u6642\u9593 0.2s\n\n2015-03-05 11:49:35 (89.8 KB/s) - `underscore-min.js' \u3078\u4fdd\u5b58\u5b8c\u4e86 [16523/16523]\n\n[study@ip-172-31-8-2 lib]$ wget http://code.jquery.com/jquery-2.1.3.min.js\n--2015-03-05 11:49:35--  http://code.jquery.com/jquery-2.1.3.min.js\ncode.jquery.com (code.jquery.com) \u3092DNS\u306b\u554f\u3044\u3042\u308f\u305b\u3066\u3044\u307e\u3059... 94.31.29.53, 94.31.29.230\ncode.jquery.com (code.jquery.com)|94.31.29.53|:80 \u306b\u63a5\u7d9a\u3057\u3066\u3044\u307e\u3059... \u63a5\u7d9a\u3057\u307e\u3057\u305f\u3002\nHTTP \u306b\u3088\u308b\u63a5\u7d9a\u8981\u6c42\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3001\u5fdc\u7b54\u3092\u5f85\u3063\u3066\u3044\u307e\u3059... 200 OK\n\u9577\u3055: 84320 (82K) [application/x-javascript]\n`jquery-2.1.3.min.js' \u306b\u4fdd\u5b58\u4e2d\n\n100%[================================================================>] 84,320       389KB/s \u6642\u9593 0.2s\n\n2015-03-05 11:49:35 (389 KB/s) - `jquery-2.1.3.min.js' \u3078\u4fdd\u5b58\u5b8c\u4e86 [84320/84320]\n\n[study@ip-172-31-8-2 lib]$ ls -l\n\u5408\u8a08 124\n-rw-r--r-- 1 study wheel 19999  2\u6708  4 01:34 backbone-min.js\n-rw-r--r-- 1 study wheel 84320 12\u6708 19 00:17 jquery-2.1.3.min.js\n-rw-r--r-- 1 study wheel 16523  2\u6708 22 23:14 underscore-min.js\n[study@ip-172-31-8-2 lib]$\n```\n\nNh\u01b0 v\u1eady ch\u00fang ta \u0111\u00e3 chu\u1ea9n b\u1ecb s\u1eb5n s\u00e0ng c\u00e1c th\u01b0 vi\u1ec7n.\nSau n\u00e0y, t\u1eeb B\u00e0i 1~8 ch\u00fang ta s\u1ebd ti\u1ebfp t\u1ee5c ch\u00ecnh s\u1eeda source.\nTheo t\u1eebng b\u00e0i, c\u00e1c h\u00e0m s\u1ebd \u0111\u01b0\u1ee3c th\u00eam d\u1ea7n d\u1ea7n t\u1eebng ch\u00fat m\u1ed9t v\u00e0 s\u1ebd ho\u00e0n t\u1ea5t \u1edf b\u00e0i 8.\n\nM\u1ed7i b\u00e0i g\u1ed3m:\n\n- M\u1ee5c ti\u00eau sau khi ho\u00e0n th\u00e0nh b\u00e0i h\u1ecdc ( Ngh\u0129a l\u00e0 k\u1ebft qu\u1ea3 c\u1ee7a b\u00e0i h\u1ecdc \u1ea5y, nh\u1eefng ch\u1ee9c n\u0103ng s\u1ebd ho\u00e0n t\u1ea5t )\n- Danh s\u00e1ch c\u00e1c file b\u1ea1n c\u1ea7n ch\u1ec9nh s\u1eeda ( S\u1ebd c\u00f3 nh\u1eefng file c\u1ea7n s\u1eeda, x\u00f3a \u0111i ho\u1eb7c th\u00eam file m\u1edbi )\n- N\u1ed9i dung ch\u1ec9nh s\u1eeda c\u1ee7a t\u1eebng file v\u00e0 nh\u1eefng \u0111i\u1ec3m ch\u00fa th\u00edch.\n\nTh\u01b0\u1eddng ch\u00fang t\u00f4i s\u1ebd ch\u00fa th\u00edch ngay trong b\u00e0i vi\u1ebft.\n\u203b Ngo\u00e0i ra trong \u0111o\u1ea1n code c\u0169ng s\u1ebd c\u00f3 c\u00e1c \u0111o\u1ea1n comment ch\u00fa th\u00edch \u0111\u1ec3 c\u00e1c b\u1ea1n d\u1ec5 \u0111\u1ecdc h\u01a1n, h\u00e3y c\u1ed1 g\u1eafng \u0111\u1ecdc nh\u00e9, c\u1ed1 l\u00ean !\n\nCh\u00fang ta b\u1eaft \u0111\u1ea7u b\u00e0i 1 !\n\n## B\u00e0i 1: Routing\n\nCh\u00fang ta s\u1ebd b\u01b0\u1edbc \u0111\u1ea7u quan s\u00e1t v\u1ec1 s\u1ef1 \u0111i\u1ec1u h\u01b0\u1edbng c\u1ee7a Backbone.Router.\n\n### M\u1ee5c Ti\u00eau ho\u1ea1t \u0111\u1ed9ng c\u1ee7a \u1ee9ng d\u1ee5ng sau khi ho\u00e0n th\u00e0nh b\u00e0i h\u1ecdc\n\nKhi b\u1ea1n truy c\u1eadp http://PublicIP/rest-study/#todo-lists\n\nN\u00f3 s\u1ebd hi\u1ec3n th\u1ecb nh\u01b0 th\u1ebf n\u00e0y.\n![lesson1-1.jpg](https://qiita-image-store.s3.amazonaws.com/2006/65988/c97fbdf1-6c28-c568-6690-58db81c0b580.jpeg \"lesson1-1.jpg\")\n\nV\u1edbi s\u1ef1 \u0111i\u1ec1u h\u01b0\u1edbng c\u1ee7a Backbone.Router \u0111\u1ec3 ch\u1ea1y \u0111\u1ebfn h\u00e0m hi\u1ec7n th\u00f4ng b\u00e1o \"\u0110\u00e2y l\u00e0 trang To Do List\" k\u1ebft qu\u1ea3 danh danh s\u00e1ch Todo list khi b\u1ea1n truy c\u1eadp \u0111\u01b0\u1eddng d\u1eabn `#todo-lists`.\n\nC\u00f2n khi truy c\u1eadp http://[PublicIP]/rest-study/#todo-lists/1\n\n![lesson1-2.jpg](https://qiita-image-store.s3.amazonaws.com/2006/65988/ce3881c0-9983-9025-a46c-9dc005d36508.jpeg \"lesson1-2.jpg\")\n\nN\u00f3 s\u1ebd hi\u1ec3n th\u1ecb t\u01b0\u1eddng t\u1ef1 nh\u01b0 tr\u00ean ( \u0110\u00e2y l\u00e0 chi ti\u1ebft c\u00f4ng vi\u1ec7c c\u00f3 id = 1 )\nDo s\u1ef1 \u0111i\u1ec1u h\u01b0\u1edbng c\u1ee7a Backbone.Router, s\u1ebd ch\u1ea1y \u0111\u1ebfn h\u00e0m \u0111\u1ec3 hi\u1ec7n k\u1ebft qu\u1ea3 khi b\u1ea1n truy c\u1eadp  #todo-lists/X v\u00ed d\u1ee5 \"Thong tin TODO c\u1ee7a id = X\", v\u1edbi X l\u00e0 ID c\u1ee7a c\u00f4ng vi\u1ec7c m\u00ecnh c\u1ea7n xem.\n\n### Nh\u1eefng file c\u1ea7n ch\u1ec9nh s\u1eeda\n\n|Thao t\u00e1c|file|Gi\u1ea3i th\u00edch|\n|---|:-------------------------------|:-------------|\n|Ch\u1ec9nh s\u1eeda|app/View/Layouts/default.ctp    |HTML template|\n|Th\u00eam|app/webroot/js/routers/router.js|Router(Controller)|\n|Th\u00eam|app/webroot/js/app.js           |File js ch\u00ednh|\n\n### Chi ti\u1ebft ch\u1ec9nh s\u1eeda t\u1eebng file v\u00e0 c\u00e1c ch\u00fa th\u00edch\n\n#### default.ctp\n\n\n\u1ede CakePHP, file default.ctp s\u1ebd m\u1eb7c \u0111\u1ecbnh hi\u1ec3n th\u1ecb \u0111\u1ea7u tien.\nCh\u00fang ta s\u1ebd s\u1eed d\u1ee5ng HTML template \u0111\u1ec3 vi\u1ebft l\u1ea1i n\u00f3.\n\n```html:default.ctp\n<!DOCTYPE html>\n<html>\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<title>\u1ee8ng d\u1ee5ng TODO \u0111\u01a1n gi\u1ea3n</title>\n</head>\n<body>\n\n\t<!-- \u2460 js(library) -->\n\t<script src=\"js/lib/jquery-2.1.3.min.js\" type=\"text/javascript\"></script>\n\t<script src=\"js/lib/underscore-min.js\" type=\"text/javascript\"></script>\n\t<script src=\"js/lib/backbone-min.js\" type=\"text/javascript\"></script>\n\n\t<!-- js(application) -->\n\t<!--  \u2461 router   -->\n\t<script src=\"js/routers/router.js\" type=\"text/javascript\"></script>\n\t<!--  \u2462 entry point   -->\n\t<script src=\"js/app.js\" type=\"text/javascript\"></script>\n\n</body>\n</html>\n```\n\nCh\u00fa th\u00edch \u2460\u301c\u2462 t\u01b0\u01a1ng \u1ee9ng\u3001\n\n- \u2460 \u1ee8ng d\u1ee5ng c\u1ea7n load \u0111\u01b0\u1ee3c c\u1ea3 3 th\u01b0 vi\u1ec7n jquery, underscore, backbone, 3 d\u00f2ng n\u00e0y \u0111\u1ec3 khai b\u00e1o ch\u00fang.\n- \u2461 G\u1ecdi file router.js \u0111\u1ec3 s\u1eed d\u1ee5ng.\n- \u2462 G\u1ecdi file app.js \u0111\u1ec3 s\u1eed d\u1ee5ng.\n\n#### router.js\n\n\u0110\u00e2y l\u00e0 ph\u1ea7n s\u1ebd l\u00e0m nhi\u1ec7m v\u1ee5 routing\n\n```js:router.js\nvar app = app || {};\n\n//router\n(function(app) {\n\tapp.TodoRouter = Backbone.Router.extend({\n\t\troutes : {\n\t\t\t'' \t\t\t: 'todoLists',  \n\t\t\t'todo-lists' \t\t: 'todoLists',\t\n\t\t\t'todo-lists/:id' \t: 'todoDetail'\n\t\t},\n\t\ttodoLists : function() {\n\t\t\talert('TODO\u4e00list');\n\t\t},\n\t\ttodoDetail : function(id) {\n\t\t\talert('Thong tin TODO c\u1ee7a id = ' + id);\n\t\t},\n\t});\n})(app);\n```\n\n\u203bCh\u00fang ta s\u1eed d\u1ee5ng m\u1ed9t namespace nh\u01b0 sau\n\n```\nvar app = app || {};\n(function(app) {`\n})(app);\n```\n\nXem gi\u1ea3i th\u00edch [t\u1ea1i \u0111\u00e2y](http://qiita.com/mocha/items/c6a626416daaa04d0668), c\u00e1i n\u00e0y l\u00e0 c\u00fa ph\u00e1p m\u1eb7c \u0111\u1ecbnh, sau n\u00e0y t\u1ea5t c\u1ea3 c\u00e1c project kh\u00e1c m\u00ecnh \u0111\u1ec1u d\u00f9ng c\u00fa ph\u00e1p t\u01b0\u01a1ng t\u1ef1.\n\n- `app.TodoRouter = Backbone.Router.extend({`\n\t\u0110\u00e2y l\u00e0 s\u1ef1 khai b\u00e1o \u0111\u1ec3 th\u1eeba k\u1ebf Backbone.Router object c\u1ee7a backbone, thao t\u00e1c n\u00e0y gi\u00fap th\u1eeba k\u1ebf nh\u1eefng k\u1ebft qu\u1ea3 c\u1ee7a object t\u1edbi `app.TodoRouter`.\nTi\u1ebfp \u0111\u00f3 b\u1ea1n c\u0169ng d\u1ec5 d\u00e0ng nh\u1eadn ra collection, model, c\u0169ng \u0111\u01b0\u1ee3c khai b\u00e1o nh\u01b0 v\u1eady \u1edf view, v\u00e0 \u0111\u01b0\u1ee3c khai b\u00e1o th\u1eeba k\u1ebf t\u1eeb c\u00e1c object m\u00e0 backbone c\u00f3.\n\n- Bi\u1ebfn `Routes {}` \nT\u1ea1i \u0111\u00e2y ch\u00fang ta s\u1ebd \u0111\u1eb7t 1 c\u1eb7p URL v\u00e0 h\u00e0m cho n\u00f3.\nURL d\u00f9ng \u0111\u1ec3 th\u1ef1c thi h\u00e0m `todoLists` l\u00e0 `#todo-lists`.\n\n- H\u00e0m `TodoLists`\n\u0110\u00e2y l\u00e0 n\u1ed9i dung c\u1ee7a h\u00e0m `todoLists` \u0111\u01b0\u1ee3c li\u1ec7t k\u00ea trong routes {}. \u1ede \u0111\u00e2y ch\u00fang ta s\u1ebd ch\u1ea1y m\u1ed9t h\u00e0m alert() \u0111\u1ec3 hi\u1ec3n th\u1ecb tin nh\u1eafn nh\u01b0 tr\u00ean sau khi truy c\u1eadp URL `#todo-lists`.\n- H\u00e0m `todoDetail`\n\t\u0110\u00e2y l\u00e0 h\u00e0m hi\u1ec3n th\u1ecb n\u1ed9i dung chi ti\u1ebft c\u1ee7a c\u00f4ng vi\u1ec7c c\u1ea7n l\u00e0m li\u1ec7t k\u00ea \u1edf routes{}.\n\n#### app.js\n\nM\u1ed9t khi file default.ctp \u0111\u01b0\u1ee3c \u0111\u1ecdc h\u1ebft, ngh\u0129a l\u00e0 ch\u01b0\u01a1ng tr\u00ecnh \u0111\u00e3 load h\u1ebft nh\u1eefng th\u01b0 vi\u1ec7n c\u1ea7n thi\u1ebft v\u00e0 file router.js.\n\n```Javascript:app.js\nvar app = app || {};\n\n//Bat Dau\n(function(app) {\n\tvar todoRouter = new app.TodoRouter();  // \u2460\n\tBackbone.history.start();               // \u2461\n})(app);\n```\n\n\u2460 B\u1ea1n t\u1ea1o m\u1ed9t bi\u1ebfn t\u1ea1i app.TodoRouter.\n\u2461 T\u00f4i \u0111\u00e3 ch\u1ea1y h\u00e0m `Backbone.history.start();` \u00fd ngh\u0129a h\u00e0m n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c gi\u1ea3i th\u00edch \u1edf d\u01b0\u1edbi.\n\n`#` V\u1edbi URL ( ch\u00ednh x\u00e1c h\u01a1n l\u00e0 \"URL fragment\") n\u00f3 d\u00f9ng \u0111\u1ec3 tr\u1ecf \u0111\u1ebfn m\u1ed9t \u0111\u01b0\u1eddng d\u1eabn trong trang , nh\u01b0ng n\u1ebfu n\u00f3 thay \u0111\u1ed5i, `hashchange` s\u1ebd x\u1ea3y ra. n\u1ebfu b\u1ea1n kh\u00f4ng gi\u1ecfi JavaScript, b\u1ea1n c\u00f3 th\u1ec3 ch\u1ea1y h\u00e0m n\u00e0y khi s\u1ef1 ki\u1ec7n `hashchange` xu\u1ea5t hi\u1ec7n b\u1eb1ng c\u00e1ch vi\u1ebft m\u1ed9t handler cho ` window.onhashchange` nh\u01b0 sau.\n\n```\nwindow.onhashchange = function (e){\n\talert('hash change!');\n};\n```\n\n Khi s\u1eed d\u1ee5ng router c\u00e1c b\u1ea1n ph\u1ea3i ch\u1ea1y \u0111o\u1ea1n code `Backbone.history.start()` d\u00f9ng \u0111\u1ec3 b\u1eaft \u0111\u1ea7u gi\u00e1m s\u00e1t c\u00e1c s\u1ef1 ki\u1ec7n `hashchange` trong backbone, \u00fd ngh\u0129a c\u1ee7a n\u00f3 l\u00e0 \u0111\u1ec3 ch\u1ea1y nh\u1eefng g\u00ec b\u1ea1n \u0111\u00e3 vi\u1ebft tr\u01b0\u1edbc \u0111\u00f3 trong `routes {}` c\u1ee7a file router.js.\n#### T\u00f3m t\u1eaft n\u1ed9i dung\nC\u00e1c c\u00f4ng \u0111o\u1ea1n c\u1ee7a b\u00e0i n\u00e0y nh\u01b0 sau\n\n- :white_check_mark: T\u1ea1o `app/View/Layouts/default.ctp` nh\u01b0 m\u00f4 t\u1ea3 \u1edf tr\u00ean.\n- :white_check_mark: T\u1ea1o `app/webroot/js/routers/router.js` nh\u01b0 m\u00f4 t\u1ea3 \u1edf tr\u00ean.\n- :white_check_mark: T\u1ea1o `app/webroot/js/app.js ` nh\u01b0 m\u00f4 t\u1ea3 \u1edf tr\u00ean.\n- :white_check_mark: Ki\u1ec3m tra k\u1ebft qu\u1ea3.\n- :white_check_mark: commit l\u00ean Git\n\n\u0110\u1ebfn b\u00e0i 2 !\n\n## B\u00e0i 2: M\u00f4 h\u00ecnh ho\u1ea1t \u0111\u1ed9ng MVC c\u01a1 b\u1ea3n\n\nCh\u00fang ta \u0111\u00e3 t\u00ecm hi\u1ec3u v\u1ec1 c\u00e1ch \u0111i\u1ec1u h\u01b0\u1edbng c\u1ee7a route \u1edf b\u00e0i 1\n\u1ede b\u00e0i 2 n\u00e0y ch\u00fang ta s\u1ebd t\u00ecm hi\u1ec3u v\u1ec1 c\u00e1ch ho\u1ea1t \u0111\u1ed9ng c\u1ee7a Model, View, Controller.\n\n### M\u1ee5c ti\u00eau b\u00e0i h\u1ecdc\n\nV\u1edbi JS th\u00ec c\u00e1c b\u1ea1n s\u1ebd r\u1ea5t kh\u00f3 \u0111\u1ec3 ki\u1ec3m tra k\u1ebft qu\u1ea3, gi\u00e1 tr\u1ecb c\u00e1c bi\u1ebfn... v\u00ec n\u00f3 kh\u00f4ng hi\u1ec7n ra m\u00e0n h\u00ecnh, v\u00ec v\u1eady c\u00f3 m\u1ed9t h\u00e0m  `console.log()` d\u00f9ng \u0111\u1ec3 l\u00e0m vi\u1ec7c \u0111\u00f3, ch\u00fang ta d\u00f9ng \u0111\u1ec3 quan s\u00e1t nh\u1eefng gi\u00e1 tr\u1ecb c\u1ea7n thi\u1ebft th\u00f4ng qua Console.\n\nTruy c\u1eadp http://[PublicIP]/rest-study/#todo-lists. chu\u1ed9t ph\u1ea3i ch\u1ecdn Ki\u1ec3m Tra Ph\u1ea7n t\u1eed ho\u1eb7c click v\u00e0o Google, More Tool v\u00e0 ch\u1ecdn Google Developer Tool \u0111\u1ec3 hi\u1ec3n th\u1ecb c\u00f4ng c\u1ee5 h\u1ed7 tr\u1ee3 c\u00e1c ph\u00e1t tri\u1ec3n c\u1ee7a Google Chrome nh\u01b0 \u1ea3nh minh h\u1ecda d\u01b0\u1edbi \u0111\u00e2y\n\n![Untitled.png](https://qiita-image-store.s3.amazonaws.com/0/94375/b9aecf17-1992-337e-0cd0-2be00199e416.png)\n\n\n\u203b Tr\u01b0\u1edbc ti\u00ean b\u1ea1n c\u1ea7n ph\u1ea3i disable h\u00e0m \"source map\".\nV\u1edbi vi\u1ec7c download backbone v\u00e0 underscore, t\u01b0\u01a1ng \u1ee9ng v\u1edbi m\u1ed9t h\u00e0m \"source map\" nh\u01b0ng \u0111\u00e3 \u0111\u01b0\u1ee3c t\u1ed1i gi\u1ea3n, n\u00f3 c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c truy\u1ec1n v\u00e0o \u0111\u1ec3 t\u1ef1 \u0111\u1ed9ng set v\u00e0o Chrome.\nV\u00ec n\u1ebfu b\u1ea1n kh\u00f4ng set th\u00ec n\u00f3 s\u1ebd hi\u1ec7n log c\u1ee7a c\u00e1c l\u1ed7i v\u00e0o console ( nh\u01b0ng kh\u00f4ng ph\u1ea3i l\u00e0 nh\u1eefng l\u1ed7i nghi\u00eam tr\u1ecdng ), bay gi\u1edd m\u00ecnh ch\u01b0a c\u1ea7n d\u00f9ng \u0111\u1ebfn n\u00f3, c\u00e1c b\u1ea1n n\u00ean v\u00e0o setting \u1edf bi\u1ec3u t\u01b0\u1ee3ng b\u00e1nh r\u0103ng c\u01b0a g\u00f3c tr\u00ean b\u00ean ph\u1ea3i v\u00e0 s\u1eeda n\u00f3 th\u00e0nh OFF. \n\n![lesson2-3.jpg](https://qiita-image-store.s3.amazonaws.com/2006/65988/e42dab38-b25e-f22a-10e0-050cebfce30a.jpeg \"lesson2-3.jpg\")\n\nN\u1ebfu \u00f4 n\u00e0y \u0111\u00e3 \u0111\u01b0\u1ee3c b\u1ecf check ( tr\u1ea1ng th\u00e1i OFF ) r\u1ed3i th\u00ec \u0111\u00e3 OK.\n![lesson2-4.jpg](https://qiita-image-store.s3.amazonaws.com/2006/65988/72314951-7062-8b83-b0e6-7eaffae4e2b1.jpeg \"lesson2-4.jpg\")\n\n\nKhi ki\u1ec3m tra k\u1ebft qu\u1ea3.\n\u0110\u1ec3 x\u00f3a log c\u00e1c b\u1ea1n click v\u00e0o bi\u1ec3u t\u01b0\u1ee3ng v\u00f2ng tr\u00f2n g\u1ea1ch ch\u00e9o nh\u01b0 \u1ea3nh minh h\u1ecda d\u01b0\u1edbi \u0111\u00e2y v\u00e0 t\u1ea3i l\u1ea1i trang.\nChuy\u1ec3n sang tab console, k\u1ebft qu\u1ea3 ch\u1ea1y h\u00e0m `console.log()` s\u1ebd xu\u1ea5t hi\u1ec7n.\n\n![lesson2-2.jpg](https://qiita-image-store.s3.amazonaws.com/2006/65988/da4a0f5a-a1f1-ba97-13b4-409894128f95.jpeg \"lesson2-2.jpg\")\n\n\nT\u00f4i s\u1ebd gi\u1ea3i th\u00edch n\u1ed9i dung c\u1ee7a log nh\u01b0 sau:\n\n|No.|File ngu\u1ed3n|Log\n|--:|:-------------------------|:------------------------------|\n|1  |router.js:13              |D\u00f9ng route \u0111\u1ec3 hi\u1ec7n th\u1ecb TODO list ra View|\n|2  |todo-collection-view.js:8 |Kh\u1edfi t\u1ea1o view cho TODO List\n|3  |todo-collection-view.js:14|X\u1eed l\u00fd vi\u1ec7c hi\u1ec3n th\u1ecb view c\u1ee7a TODO list\n|4  |todo-collection-view.js:16|L\u1ea5y collection\n|5  |jquery-2.1.3.min.js       | XHR ho\u00e0n th\u00e0nh vi\u1ec7c load: GET \"http://[PublicIP]/rest-study/todo_lists.json\".|\n|6  |todo-collection.js:11     |Ph\u00e2n t\u00edch Collection\n|7  |todo-model.js:9           |Ph\u00e2n t\u00edch Model\n|8  |todo-model.js:10          |\u25b6 Object {TodoList: Object}\n|9  |todo-model.js:9           |Ph\u00e2n t\u00edch Model\n|10  |todo-model.js:10         |\u25b6 Object {TodoList: Object}\n|11 |todo-model.js:9           |Ph\u00e2n t\u00edch Model\n|12 |todo-model.js:10          |\u25b6 Object {TodoList: Object}\n\nCh\u00fa th\u00edch\n\u203b \u1ede v\u00ed d\u1ee5 n\u00e0y t\u00f4i s\u1ebd t\u1ea1o 3 c\u00f4ng vi\u1ec7c trong database.\n\n1. Khi b\u1ea1n truy c\u1eadp v\u00e0o rest-study/#todo-lists, route s\u1ebd x\u1eed l\u00fd v\u00e0 b\u1eaft \u0111\u1ea7u t\u1ea1o view cho Todo List\n2. Qu\u00e1 tr\u00ecnh kh\u1edfi t\u1ea1o Todo List cho View \u0111\u01b0\u1ee3c th\u1ef1c thi, view \u0111\u00e3 \u0111\u01b0\u1ee3c t\u1ea1o\n3. Qu\u00e1 tr\u00ecnh hi\u1ec3n th\u1ecb Todo List l\u00ean View b\u1eaft \u0111\u1ea7u\n4. Th\u1ef1c hi\u1ec7n c\u00e1c thao t\u00e1c n\u1ea1p c\u1ee7a collections, b\u1eaft \u0111\u1ea7u truy c\u1eadp server side API\n5. Giao th\u1ee9c ajax trong jquery \u0111\u01b0\u1ee3c th\u1ef1c thi, Truy c\u1eadp `http://PublicIP/rest-study/todo_lists.json` v\u1edbi ph\u01b0\u01a1ng th\u1ee9c GET \u0111\u1ec3 ho\u00e0n t\u1ea5t vi\u1ec7c l\u1ea5y to\u00e0n b\u1ed9 danh s\u00e1ch to do list trong data.\n6. \u1ede collection, Ph\u00e2n t\u00edch nh\u1eefng data \u0111\u00e3 \u0111\u01b0\u1ee3c t\u1ed5ng h\u1ee3p trong b\u01b0\u1edbc 5.\n7. Ph\u00e2n t\u00edch data \u0111\u1ea7u ti\u00ean (model) \u1edf collection (Parse) \u0111\u01b0\u1ee3c th\u1ef1c thi\n8. S\u1eed d\u1ee5ng nh\u1eefng ph\u00e2n t\u00edch trong b\u01b0\u1edbc 7, (Khi b\u1ea1n click v\u00e0o \u25b6 \u0110\u1ed5 d\u1eef li\u1ec7u.) Thu \u0111\u01b0\u1ee3c c\u00e1c chi ti\u1ebft d\u1eef li\u1ec7u\n9. Ph\u00e2n t\u00edch data th\u1ee9 2 trong collection.\n10. \u0110\u1ed5 d\u1eef li\u1ec7u \u0111\u00e3 thu \u0111\u01b0\u1ee3c ra m\u00e0n h\u00ecnh.\n11. Ph\u00e2n t\u00edch data th\u1ee9 3 trong collection.\n12. \u0110\u1ed5 d\u1eef li\u1ec7u thu \u0111\u01b0\u1ee3c nh\u01b0 b\u00e0i 8\n\n\u0110\u1ec3 chi ti\u1ebft h\u01a1n, ch\u00fang ta s\u1ebd xem qua \u0111\u1eb7c t\u1ea3 ch\u1ee9c n\u0103ng c\u1ee7a m\u1ed7i file.\n\nNh\u1eefng file b\u1ea1n c\u1ea7n ch\u1ec9nh s\u1eeda ###\n\n| Thao t\u00e1c s\u1eeda | file | Di\u1ec5n t\u1ea3 |\n|---|:-------------------------------|:-------------|\n|Ch\u1ec9nh s\u1eeda|app/View/Layouts/default.ctp    |HTML Template|\n|Ch\u1ec9nh s\u1eeda|app/webroot/js/routers/router.js|Route (Controller)|\n|Th\u00eam m\u1edbi|app/webroot/js/views/todo-collection-view.js |View(Danh s\u00e1ch Todo List)|\n|Th\u00eam m\u1edbi|app/webroot/js/collections/todo-collection.js|Collection ( T\u1eadp h\u1ee3p c\u00e1c TODO )|\n|Th\u00eam m\u1edbi|app/webroot/js/models/todo-model.js          |Model( M\u1ed7i TODO )|\n\n\n### Ch\u00fa th\u00edch v\u00e0 chi ti\u1ebft ch\u1ec9nh s\u1eeda n\u1ed9i dung m\u1ed7i file\n\nD\u01b0\u1edbi \u0111\u00e2y s\u1ebd show d\u01b0\u1edbi d\u1ea1ng Diff, n\u00f3 s\u1ebd th\u00f4ng qua c\u00e1c d\u1ea5u + v\u00e0 - \u0111\u1ec3 bi\u1ec3u th\u1ecb s\u1ef1 thay \u0111\u1ed5i c\u1ee7a file m\u00e0 ch\u00fang ta s\u1ebd x\u1eed l\u00fd.\n- \u300c+\u300d\u0110\u00e2y l\u00e0 nh\u1eefng d\u00f2ng m\u1edbi c\u1ea7n \u0111\u01b0\u1ee3c th\u00eam v\u00e0o file ( m\u00e0u xanh )\n- \u300c-\u300d\u0110\u00e2y l\u00e0 d\u00f2ng \u0111\u00e3 c\u00f3 trong file v\u00e0 c\u1ea7n b\u1ecb x\u00f3a \u0111i ( m\u00e0u h\u1ed3ng )\n- Nh\u1eefng d\u00f2ng kh\u00f4ng c\u00f3 d\u1ea5u c\u1ed9ng hay tr\u1eeb th\u00ec s\u1ebd \u0111\u01b0\u1ee3c gi\u1eef nguy\u00ean v\u00e0 gi\u1eef nguy\u00ean th\u1ee9 t\u1ef1 nh\u01b0 trong file g\u1ed1c, sau khi th\u00eam c\u00e1c n\u1ed9i dung v\u00e0o th\u00ec c\u00e1c b\u1ea1n l\u01b0u \u00fd x\u00f3a h\u1ebft d\u1ea5u `+` \u0111i th\u00ec ch\u01b0\u01a1ng tr\u00ecnh m\u1edbi ch\u1ea1y \u0111\u01b0\u1ee3c nh\u00e9.\n\n\n#### default.ctp\n\n```diff:default.ctp\n \t<script src=\"js/lib/backbone-min.js\" type=\"text/javascript\"></script>\n \n \t<!-- js(application) -->\n+\t<!--   model   -->\n+\t<script src=\"js/models/todo-model.js\" type=\"text/javascript\"></script>\n+\t<!--   collection   -->\n+\t<script src=\"js/collections/todo-collection.js\" type=\"text/javascript\"></script>\n+\t<!--   view   -->\n+\t<script src=\"js/views/todo-collection-view.js\" type=\"text/javascript\"></script>\n \t<!--   router   -->\n \t<script src=\"js/routers/router.js\" type=\"text/javascript\"></script>\n \t<!--   entry point   -->\n```\n\nTh\u00eam v\u00e0o model, collection, view nh\u1eefng file sau\u3001\n\n- todo-model.js\n- todo-collection.js\n- todo-collection-view.js\n\nChi ti\u1ebft n\u1ed9i dung ch\u1ec9nh s\u1eeda m\u1ed7i file nh\u01b0 sau\n\n\n#### router.js\n\n```diff:router.js\n \t\t\t'todo-lists/:id' \t: 'todoDetail'\n \t\t},\n \t\ttodoLists : function() {\n-\t\t\talert('TODO List');\n+\t\t\t// route cho Todo list c\u1ee7a view\n+\t\t\tconsole.log(\"Route TODO List\");\n+\t\t\tnew app.TodoCollectionView();\n \t\t},\n \n \t\ttodoDetail : function(id) {\n```\n\n- X\u00f3a d\u00f2ng alert v\u00ec ch\u00fang ta kh\u00f4ng mu\u1ed1n hi\u1ec3n th\u1ecb alert nh\u01b0 \u1edf b\u00e0i 1 ( alert ch\u1ec9 l\u00e0 demo r\u1eb1ng h\u00e0m \u0111\u00e3 \u0111\u01b0\u1ee3c ch\u1ea1y ).\n- Hi\u1ec3n th\u1ecb n\u1ed9i dung \u0111\u00e3 \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb trong log th\u1ee9 nh\u1ea5t t\u1ea1i `console.log ()`\n- Kh\u1edfi t\u1ea1o app.TodoCollectionView\n\nTh\u00f4ng qua Route, h\u00e0m `todoLists` \u0111\u00e3 \u0111\u01b0\u1ee3c th\u1ef1c thi nh\u01b0 b\u00e0i 1, m\u00ecnh s\u1ebd kh\u1edfi t\u1ea1o m\u1ed9t log output v\u00e0 Todo list cho view. B\u00e2y gi\u1edd, m\u00ecnh s\u1ebd kh\u1edfi t\u1ea1o view cho Todo-list tr\u00ean file todo-collection-view.js.\n\n#### todo-collection-view.js\n\n\u0110\u00e2y l\u00e0 view t\u1ed5ng h\u1ee3p danh s\u00e1ch to\u00e0n b\u1ed9 TODO List\n\n```js:todo-collection-view.js\nvar app = app || {};\n\n//Todo list cho view\n(function(app) {\n\tapp.TodoCollectionView = Backbone.View.extend({\n\t\ttodoCollection : {},\n\t\tinitialize : function() {\n\t\t\tconsole.log(\"Todo list\");\n\t\t\t//xem log\n\t\t\tthis.todoCollection = new app.TodoCollection()\n\t\t\tthis.render();\n\t\t},\n\t\trender : function() {\n\t\t\tconsole.log(\"Show Todo list\");\n\t\t\t//\u0110\u1ed5 d\u1eef li\u1ec7u ra collection\n\t\t\tconsole.log(\"fetch to Collection\");\n\t\t\tthis.todoCollection.fetch();\n\t\t\treturn this;\n\t\t},\n\t})\n})(app);\n```\n\n- \u1ede `app.TodoCollectionView()` m\u00ecnh \u0111\u00e3 thi\u1ebft l\u1eadp \u1edf router, m\u00ecnh ch\u1ea1y h\u00e0m `initialize`.\n  - Xem log l\u1ea7n 2 \u0111\u1ec3 xem \u0111\u00e3 ch\u1ea1y \u0111\u1ebfn d\u00f2ng \u0111\u00f3 ch\u01b0a\n  - Khai b\u00e1o `app.TodoCollection`, n\u00f3 \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef \u1edf bi\u1ebfn n\u1ed9i b\u1ed9` todoCollection`\n  - Ch\u1ea1y h\u00e0m `render()`\n- Ti\u1ebfn tr\u00ecnh trong h\u00e0m Render()\n  - Xem log th\u1ee9 3\n  - TodoCollection \u0111\u1ec3 ch\u1ea1y h\u00e0m `fetch()` (g\u1ecdi \u0111\u1ebfn server API c\u1ee7a n\u00f3)\n\n\n#### todo-collection.js\n\n\u0110\u1ec3 x\u1eed l\u00fd danh s\u00e1ch TODO, ch\u00fang ta c\u1ea7n t\u1ea1o collection ( collection l\u00e0 t\u1eadp h\u1ee3p c\u00e1c model - \u1edf \u0111\u00e2y m\u1ed7i c\u00f4ng vi\u1ec7c TODO l\u00e0 m\u1ed9t model).\n\n```js:todo-collection.js\nvar app = app || {};\n\n//Collection c\u1ee7a Todo list\n(function(app) {\n\tapp.TodoCollection = Backbone.Collection.extend({\n\t\turl : '/rest-study/todo_lists.json',\n\t\tmodel : app.TodoModel,\n\n\t\tparse : function(response) {\n\t\t\t//Phan tich collection\n\t\t\tconsole.log(\"Lay Collection\");\n\t\t\treturn response;\n\t\t}\n\t});\n})(app);\n```\n\n- Bi\u1ebfn `url`\n\tB\u1ea1n s\u1ebd x\u00e1c \u0111\u1ecbnh URL c\u1ee5 th\u1ec3 c\u1ee7a server-side API \u0111\u1ec3 truy c\u1eadp v\u00e0 ch\u1ea1y h\u00e0m `fetch`\u0111\u1ec3 \u0111\u1ed5 d\u1eef li\u1ec7u ra.\n\t\n- Bi\u1ebfn `model`\n\tN\u00f3 s\u1ebd x\u00e1c \u0111\u1ecbnh object c\u1ee5 th\u1ec3 cho model, bao g\u1ed3m c\u1ea3 collection.\nT\u1ea1i \u0111\u00e2y, model \u0111\u01b0\u1ee3c include trong collection n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c nh\u00ecn th\u1ea5y t\u1ea5t c\u1ea3 t\u1ea1i `app.TodoModel`.\n\n- H\u00e0m `parse`\n\tN\u00f3 s\u1ebd ch\u1ea1y h\u00e0m `fetch` (C\u00f3 s\u1eb5n trong Backbone.Collection m\u00e0 m\u00ecnh \u0111\u00e3 th\u1eeba k\u1ebf), Th\u1ef1c thi h\u00e0m ` parse` s\u1ebd gi\u00fap ch\u00fang ta l\u1ea5y data m\u1ed7i c\u00f4ng vi\u1ec7c TODO t\u1eeb server v\u00e0 t\u1ed5ng h\u1ee3p ch\u00fang ra danh s\u00e1ch b\u1eb1ng jquery.\n\n\n#### todo-model.js\n\nX\u1eed l\u00fd t\u1eebng c\u00f4ng vi\u1ec7c TODO m\u1ed9t, n\u00f3 l\u00e0 m\u1ed9t model.\n\n```js:todo-model.js\nvar app = app || {};\n\n//model \u0111\u1ec3 \u0111\u01b0a gi\u00e1 tr\u1ecb m\u1ed7i vi\u1ec7c l\u00e0m v\u00e0o database\n(function(app) {\n\tapp.TodoModel = Backbone.Model.extend({\n\t\turlRoot : '/rest-study/todo_lists',\n\t\tparse : function(response) {\n\t\t\t//ph\u00e2n t\u00edch model\n\t\t\tconsole.log(\"Parse model\");\n\t\t\tconsole.log(response);\n\t\t\treturn response.TodoList;\n\t\t}\n\t});\n})(app);\n```\n\n- Bi\u1ebfn `urlRoot`\n\tC\u00e1c b\u1ea1n c\u1ea7n \u0111i\u1ec1n \u0111\u00fang URL c\u1ee7a API \u0111\u1ec3 ch\u1ea1y h\u00e0m `fetch`, bi\u1ebfn n\u00e0y s\u1ebd l\u01b0u URL \u0111\u00f3\n\t\t\n- H\u00e0m `parse`\n\t\u0111\u00e3 gi\u1ea3i th\u00edch \u1edf tr\u00ean\n\t\n- H\u00e0m `parse` \n\tCh\u1ea1y jquery \u0111\u1ec3 t\u1ed5ng h\u1ee3p m\u1ed7i c\u00e1c c\u00f4ng vi\u1ec7c TODO l\u1ea1i v\u00e0 th\u00eam n\u00f3 v\u00e0o d\u00e3y c\u00f4ng vi\u1ec7c.\n\n\u203b L\u01b0u \u00fd quan tr\u1ecdng\n\u1ede h\u00e0m parse, c\u00f3 m\u1ed9t \u0111o\u1ea1n `return response.TodoList`, n\u00f3 c\u00f3 \u00fd ngh\u0129a  l\u00e0 sau khi thu th\u1eadp \u0111\u01b0\u1ee3c danh s\u00e1ch to\u00e0n b\u1ed9 TODO list, d\u1eef li\u00eau tr\u00ean server s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 d\u01b0\u1edbi d\u1ea1ng json.\n\n```json    \n[{\n        \"TodoList\": {\n            \"id\": \"1\",\n            \"todo\": \"TODO 1\",\n            \"status\": \"0\"\n        }\n    },\n    {\n        \"TodoList\": {\n            \"id\": \"2\",\n            \"todo\": \"TODO 2\",\n            \"status\": \"0\"\n        }\n    },\n    {\n        \"TodoList\": {\n            \"id\": \"3\",\n            \"todo\": \"TODO 3\",\n            \"status\": \"0\"\n        }\n    }]\n```\n\n\nM\u1ed7i n\u1ed9i dung review nh\u01b0 sau.\n\n\n```json\n\"TodoList\": {\n    \"id\": \"1\",\n    \"todo\": \"TODO 1\",\n    \"status\": \"0\"\n}\n```\n\nT\u1ea5t c\u1ea3 d\u1eef li\u1ec7u \u0111\u00e3 tr\u1edf th\u00e0nh object c\u1ee7a key t\u00ean l\u00e0 `TodoList`, v\u00e0 \u0111\u00e2y l\u00e0 n\u1ed9i dung c\u1ee7a n\u00f3\n\n```json\n{\n    \"id\": \"1\",\n    \"todo\": \"TODO 1\",\n    \"status\": \"0\"\n}\n```\n\nCh\u1ec9 khi return ch\u00fang ta m\u1edbi c\u00f3 th\u1ec3 t\u1ed5ng h\u1ee3p data m\u1ed9t c\u00e1ch thu\u1eadn ti\u1ec7n nh\u1ea5t.\nN\u1ebfu kh\u00f4ng c\u00f3 n\u00f3, khi b\u1ea1n truy c\u1eadp v\u00e0o id `TodoList.id` b\u1ea1n s\u1ebd g\u1eb7p nh\u1eefng kh\u00f3 kh\u0103n \u0111\u1ec3 l\u00e0m` TodoList.status` v\u00e0 \u1edf nh\u1eefng th\u1eddi \u0111i\u1ec3m, khi b\u1ea1n c\u1ea7n truy c\u1eadp status .\n\n#### Khai b\u00e1o\n\nB\u1eaft \u0111\u1ea7u khai b\u00e1o!\n-: White_check_mark: `app/View/Layouts/default.ctp` s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-: White_check_mark: `app/webroot/js/routers/router.js` s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-: White_check_mark: `app/webroot/js/views/todo-collection-view.js` s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-: White_check_mark: `app/webroot/js/collections/todo-collection.js` s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-: White_check_mark: `app/webroot/js/models/todo-model.js` s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n-: White_check_mark: Ki\u1ec3m tra k\u1ebft qu\u1ea3!\n-: White_check_mark: Commit l\u00ean Git\n\nCh\u00fang ta \u0111\u1ebfn v\u1edbi b\u00e0i th\u1ee9 3.\n\n\n## B\u00e0i 3: Hi\u1ec3n th\u1ecb danh s\u00e1ch\n\n\u1ede b\u00e0i 2, b\u1ea1n \u0111\u00e3 \u0111\u01b0\u1ee3c t\u00ecm hi\u1ec3u s\u01a1 qua v\u1ec1 m\u00f4 h\u00ecnh ho\u1ea1t \u0111\u1ed9ng c\u1ee7a MVC, v\u00e0 \u0111\u01b0\u1ee3c x\u00e1c nh\u1eadn d\u00e2t \u0111\u00e3 \u0111\u01b0\u1ee3c x\u1eed l\u00fd.\n\u1ede b\u00e0i 3, s\u1ebd hi\u1ec3n th\u1ecb m\u1ed9t danh s\u00e1ch c\u00e1c d\u1eef li\u1ec7u x\u1eed l\u00fd.\n\n### M\u1ee5c ti\u00eau ho\u1ea1t \u0111\u1ed9ng c\u1ee7a \u1ee9ng d\u1ee5ng sau khi ho\u00e0n th\u00e0nh b\u00e0i h\u1ecdc\n\nhttp://[PublicIP]/rest-story/#todo-lists\nKhi b\u1ea1n truy c\u1eadp, b\u1ea1n s\u1ebd th\u1ea5y m\u1ed9t danh s\u00e1ch TODO \u0111\u1ec3 s\u1eed d\u1ee5ng c\u00e1c con s\u1ed1 d\u01b0\u1edbi \u0111\u00e2y.\nCh\u1ec9 c\u00f3 n\u00f3 \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb.\n![lesson3-1.jpg](https://qiita-image-store.s3.amazonaws.com/2006/65988/05e9661d-6105-5bbd-f89b-c6ad2d999552.jpeg \"lesson3-1.jpg\")\n\n\nDanh s\u00e1ch t\u1eadp tin c\u1ea7n ch\u1ec9nh s\u1eeda\n\n|Thao t\u00e1c|file| Di\u1ec5n t\u1ea3            \n|---|:-------------------------------|:-------------|\n|Ch\u1ec9nh s\u1eeda|app/View/Layouts/default.ctp    |HTML template|\n|Ch\u1ec9nh s\u1eeda|app/webroot/js/views/todo-collection-view.js |xem Todo list)|\n|Th\u00eam|app/webroot/js/views/todo-item-view.js |View(Hi\u1ec3n th\u1ecb danh s\u00e1ch Todo)|\n\n\n### Chi ti\u1ebft ch\u1ec9nh s\u1eeda m\u1ed7i t\u1eadp tin v\u00e0 ch\u00fa th\u00edch\n\n#### default.ctp\n\n```diff:default.ctp\n <title>\u1ee8ng d\u1ee5ng TODO List \u0111\u01a1n gi\u1ea3n</title>\n </head>\n <body>\n+\t<!-- N\u1ed9i dung -->\n+\t<div id=\"content\">\n+\t</div>\n+\t<!-- Template c\u1ee7a TODO List -->\n+\t<script type=\"text/template\" id=\"list-template\">\n+\t<h1>TODO List</h1>\n+\t<hr>\n+\t<div>\n+\t\t<table border=\"1\" width=\"350px\">\n+\t\t\t<tbody id=\"todo-lists\"></tbody>\n+\t\t</table>\n+\t</div>\n+\t</script>\n+\n+\t<!-- Moi cong viec se duoc tao vao tempalte nay va chen vao the tbody -->\n+\t<script type=\"text/template\" id=\"item-template\">\n+\t<td style=\"margin:0px\">\n+\t\t<span class=\"todo-edit\" style=\"margin:0px\"><%- todo %></span>\n+\t</td>\n+\t</script>\n \n \t<!-- js(library) -->\n \t<script src=\"js/lib/jquery-2.1.3.min.js\" type=\"text/javascript\"></script>\n @@ -17,6 +37,7 @@\n \t<!--   collection   -->\n \t<script src=\"js/collections/todo-collection.js\" type=\"text/javascript\"></script>\n \t<!--   view   -->\n+\t<script src=\"js/views/todo-item-view.js\" type=\"text/javascript\"></script>\n \t<script src=\"js/views/todo-collection-view.js\" type=\"text/javascript\"></script>\n \t<!--   router   -->\n \t<script src=\"js/routers/router.js\" type=\"text/javascript\"></script>\n```\n\n- M\u1ed7i TODO\n\t- `<script type=\"text/template\" id=\"list-template\">` \u0110\u00e2y l\u00e0 ph\u1ea7n b\u1eaft \u0111\u1ea7u template t\u1ea5t c\u1ea3 c\u00e1c c\u00f4ng vi\u1ec7c TODO\n- Template cho m\u1ed7i c\u00f4ng vi\u1ec7c TODO\n\t- `<script type=\"text/template\" id=\"item-template\">` Template cho m\u1ed7i ph\u1ea7n t\u1eed, t\u00f4i s\u1ebd th\u00eam view cho n\u00f3 v\u00e0o `todo-item-view.js.\n\n#### todo-collection-view.js\n```diff:todo-collection-view.js\n //T\u1ea1o view cho TODO list\n (function(app) {\n app.TodoCollectionView = Backbone.View.extend({\n+\tel : '#content',\n+\ttagName : 'div',\n todoCollection : {},\n initialize : function() {\n-\tconsole.log(\"Khoi tao view cho Todo list\");\n-\t//T\u1ea1o collection\n\tthis.todoCollection = new app.TodoCollection()\n+\tthis.todoCollection.on('add', this.addOne, this);\n+\tthis.$el.html($('#list-template').html());\n this.render();\n },\n render : function() {\n-\tconsole.log(\"Thao tac cua viec khoi tao view cho todo list\");\n-\t//\u0110\u1ed5 d\u1eef li\u1ec7u v\u00e0o collection\n-\tconsole.log(\"collection fetch\");\n this.todoCollection.fetch();\n return this;\n },\n+\n+\taddOne : function(todo) {\n+\tvar itemView = new app.TodoItemView({\n+\tmodel : todo\n+\t});\n+\t$('#todo-lists').append(itemView.render().el);\n+\t},\n })\n })(app);\n```\nX\u00f3a \u0111o\u1ea1n console.log b\u1ea1n \u0111\u00e3 th\u00eam v\u00e0o \u1edf ph\u1ea7n 2 v\u00e0 th\u00eam c\u00e1c d\u00f2ng nh\u01b0 tr\u00ean.\nCh\u00fa th\u00edch:\n- Bi\u1ebfn `el`\n\t\u0110\u00e2y l\u00e0 bi\u1ebfn \u0111\u1ec3 set th\u00e0nh ph\u1ea7n c\u1ee7a DOM View.\n\tPh\u1ea7n `'#content'` tr\u1ecf \u0111\u1ebfn `<div id=\"content\">` n\u1eb1m trong default.ctp .\n- Bi\u1ebfn `tagName`\n\tth\u1ebb HTML tag c\u1ee7a bi\u1ebfn `el` \u1edf tr\u00ean, nh\u01b0 m\u00ecnh \u0111ang vi\u1ebft l\u00e0 th\u1ebb `div`\n- H\u00e0m `initialize`\n\t\n\t- `this.todoCollection.on('add', this.addOne, this);`\n\t\t\n\t\t l\u1eafng nghe khi c\u00f3 1 model \u0111\u01b0\u1ee3c add v\u00e0o collection th\u00ec g\u1ecdi h\u00e0m callback `addOne` \u0111\u1ec3 render l\u1ea1i view\n\t- `this.$el.html($('#list-template').html());`\n\t\t\n\t\tM\u00ecnh s\u1ebd v\u1ebd template cho template \u0111\u01b0\u1ee3c tr\u1ecf \u0111\u1ebfn t\u1eeb bi\u1ebfn `el` trong file default.ctp c\u1ee7a `'#list-template'`.\n- H\u00e0m `addOne`\n\t`app.TodoItemView`\uff08View cho m\u1ed7i c\u00f4ng vi\u1ec7c\uff09\u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o, n\u00f3 s\u1ebd xu\u1ea5t ra danh s\u00e1ch cho trang `'#todo-lists'` trong th\u1ebb `<tbody>` c\u1ee7a template, ch\u00fang ta \u0111\u00e3 v\u1ebd th\u00eam 1 view cho m\u1ed7i c\u00f4ng vi\u1ec7c.\n\n#### todo-item-view.js\n\nTh\u00eam view cho vi\u1ec7c hi\u1ec3n th\u1ecb m\u1ed7i ph\u1ea7n t\u1eed trong Todo list\n```js:todo-item-view.js\nvar app = app || {};\n//Hi\u1ec3n th\u1ecb t\u1eebng view cho Todo list\n(function(app) {\n\tapp.TodoItemView = Backbone.View.extend({\n\t//Tag name c\u1ee7a ph\u1ea7n t\u1eed \u0111\u01b0\u1ee3c th\u00eam v\u00e0o DOM\n\ttagName : 'tr',\n\t//template\n\ttemplate : _.template($('#item-template').html()),\n\tinitialize : function() {\n\t},\n\trender : function() {\n\tthis.$el.html(this.template(this.model.toJSON()));\n\treturn this;\n\t},\n\t});\n})(app);\n```\n- Bi\u1ebfn `tagName`\n\n\t- List \u0111\u01b0\u1ee3c b\u1ed1 tr\u00ed trong th\u1ebb `<Table>`, m\u1ed7i d\u00f2ng \u0111\u01b0\u1ee3c b\u1ed1 tr\u00ed b\u1eb1ng th\u1ebb `<tr>` n\u00ean tagName s\u1ebd l\u00e0 `tr`.\n- H\u00e0m `render`\n\t\n\t\n\t- `this.$el.html($('#list-template').html());`\n\t\t\n\t\t\u0110o\u1ea1n n\u00e0y c\u00f3 \u00fd ngh\u0129a l\u00e0 s\u1ebd sinh ra m\u00e3 HTML cho ph\u1ea7n c\u1ee7a bi\u1ebfn `el` \u0111\u00e3 tr\u1ecf \u0111\u1ebfn tr\u00ean kia \u0111\u1ec3 v\u1ebd template trong  default.ctp khi v\u00e0o  `'#list-template'`.\n- H\u00e0m `addOne`\n\tH\u00e0m `addOne` kh\u1edfi t\u1ea1o t\u1eeb `app.TodoItemView`\uff08view hi\u1ec3n th\u1ecb m\u1ed7i TODO v\u00e0 hi\u1ec3n th\u1ecb ch\u00fang trong th\u1ebb `<tbody>` t\u1ea1i URL `'todo-lists'`, n\u00f3 s\u1ebd v\u1ebd view cho m\u1ed7i th\u00e0nh ph\u1ea7n v\u00e0 hi\u1ec3n th\u1ecb trong danh s\u00e1ch.\n\n#### T\u00f3m t\u1eaft n\u1ed9i dung\n\n- :white_check_mark: `app/View/Layouts/default.ctp` s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n- :white_check_mark: `app/webroot/js/views/todo-collection-view.js` s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n- :white_check_mark: `app/webroot/js/views/todo-item-view.js ` s\u1eeda nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n- :white_check_mark: Ki\u1ec3m tra k\u1ebft qu\u1ea3!\n- :white_check_mark: Commit l\u00ean git\n\n\nChuy\u1ec3n sang b\u00e0i 4 !\n\n## B\u00e0i 4 : Ch\u1ee9c n\u0103ng th\u00eam c\u00f4ng vi\u1ec7c m\u1edbi\n\nCh\u00fang ta ti\u1ebfp t\u1ee5c v\u1edbi vi\u1ec7c th\u00eam ch\u1ee9c n\u0103ng th\u00eam TODO cho \u1ee9ng d\u1ee5ng.\n\n### M\u1ee5c ti\u00eau ho\u1ea1t \u0111\u1ed9ng c\u1ee7a \u1ee9ng d\u1ee5ng sau khi ho\u00e0n th\u00e0nh b\u00e0i h\u1ecdc\n\nhttp://[PublicIP]/rest-study/#todo-lists\nKhi b\u1ea1n truy c\u1eadp v\u00e0o link http://[PublicIP]/rest-study/#todo-lists , s\u1ebd hi\u1ec3n th\u1ecb k\u1ebft qu\u1ea3 nh\u01b0 nh\u01b0 h\u00ecnh b\u00ean d\u01b0\u1edbi, v\u1edbi n\u00fat \"Add TODO\" v\u00e0 m\u1ed9t khung textarea \u0111\u01b0\u1ee3c th\u00eam v\u00e0o.\n![lesson4-1.jpg](https://qiita-image-store.s3.amazonaws.com/2006/65988/ebc3e1dc-fe9e-e704-9193-db1cc669311a.jpeg \"lesson4-1.jpg\")\n\nNh\u1eadp `C\u00f4ng vi\u1ec7c th\u1ee9 4` v\u00e0 nh\u1ea5n n\u00fat `Them` ( c\u00e1i n\u00e0y m\u00ecnh vi\u1ec7t h\u00f3a cho d\u1ec5 nh\u00ecn )\n![1.PNG](https://qiita-image-store.s3.amazonaws.com/0/94375/6b5876bc-a063-f6c4-4a7a-ef7f4e8733f4.png)\n\n\nTh\u00eam c\u00f4ng vi\u1ec7c th\u00e0nh c\u00f4ng.\n![2.PNG](https://qiita-image-store.s3.amazonaws.com/0/94375/0f30db85-ddab-5d77-d0e1-63dae34f63a8.png)\n\n\n\n### Nh\u1eefng file c\u1ea7n ch\u1ec9nh s\u1eeda\n\n|Thao t\u00e1c|file|\u00fd ngh\u0129a|\n|---|:-------------------------------|:-------------|\n|Ch\u1ec9nh s\u1eeda|app/View/Layouts/default.ctp    |HTML template|\n|Ch\u1ec9nh s\u1eeda|app/webroot/js/views/todo-collection-view.js |View (Danh s\u00e1ch Todo list)|\n\n### Chi ti\u1ebft ch\u1ec9nh s\u1eeda c\u00e1c file v\u00e0 ch\u00fa th\u00edch\n#### default.ctp\n\n```diff:default.ctp\n \t<!-- template c\u1ee7a TODO list -->\n \t<script type=\"text/template\" id=\"list-template\">\n \t<h1>TODO list</h1>\n+\t<textarea style=\"width:300px;height:50px\"id=\"new-todo\" placeholder=\"Todo?\" autofocus></textarea>\n+\t<input type=\"button\" id=\"addTodo\" value=\"Add TODO\">\n \t<hr>\n \t<div>\n \t\t<table border=\"1\" width=\"350px\">\n @@ -45,4 +47,4 @@\n \t<script src=\"js/app.js\" type=\"text/javascript\"></script>\n \n </body>\n ```\n\nC\u00e1c b\u1ea1n th\u00eam nh\u01b0 sau\n\n- Text area cho vi\u1ec7c nh\u1eadp c\u00f4ng vi\u1ec7c TODO\n- Button \"Them\"\n\n#### todo-collection-view.js\n\n\n```diff:todo-collection-view.js\n\t\ttagName : 'div',\n \t\ttodoCollection : {},\n \t\tinitialize : function() {\n \t\t\tthis.todoCollection.on('add', this.addOne, this);\n \t\t\tthis.$el.html($('#list-template').html());\n+\t\t\tthis.newTodo = this.$('#new-todo');\n \t\t\tthis.render();\n \t\t},\n+\t\tevents : {\n+\t\t\t'click #addTodo' : 'onCreateTodo',\n+\t\t},\n \t\trender : function() {\n \t\t\tthis.todoCollection.fetch();\n \t\t\treturn this;\n \t\t},\n+\t\tonCreateTodo : function(e) {\n+\t\t\tthis.todoCollection.create(this.newAttributes(), {\n+\t\t\t\twait : true\n+\t\t\t});\n+\t\t\tthis.newTodo.val('');\n+\t\t\tthis.todoCollection.fetch();\n+\t\t},\n \t\taddOne : function(todo) {\n \t\t\tvar itemView = new app.TodoItemView({\n \t\t\t\tmodel : todo\n \t\t\t});\n \t\t\t$('#todo-lists').append(itemView.render().el);\n \t\t},\n+\t\tnewAttributes : function() {\n+\t\t\treturn {\n+\t\t\t\ttodo : this.newTodo.val().trim(),\n+\t\t\t\tstatus : 0\n+\t\t\t}\n+\t\t}\n \t})\n })(app);\n```\n\n- H\u00e0m `initialize`\n\t- `this.newTodo = this.$('#new-todo');`\n\t\n\t\t$ ('#new-todo') l\u00e0 m\u1ed9t text area. N\u00f3 s\u1ebd ch\u1ee9a n\u1ed9i dung v\u00e0o m\u1ed9t bi\u1ebfn v\u00e0 l\u01b0u l\u1ea1i \u0111\u1ec3 s\u1eed d\u1ee5ng nh\u1eefng l\u1ea7n sau.\n\t\n\t- Bi\u1ebfn `events`\n\t\t- `'click #addTodo' : 'onCreateTodo'`\n\t\t\t`events{}` c\u1ee7a View l\u00e0 vi\u1ec7c k\u1ebft n\u1ed1i nh\u1eefng \u1ef1u ki\u1ec7n \u1edf DOM v\u1edbi c\u00e1ch x\u1eed l\u00fd ch\u00fang\n\t\t\t**\u0110\u00e2y l\u00e0 1 ph\u1ea7n c\u1ee7a view c\u1ee7a backbone nh\u01b0ng c\u0169ng ph\u1ee5c v\u1ee5 cho ch\u1ee9c n\u0103ng c\u1ee7a Controller n\u1eefa**.\n\t\t\tT\u1ea1i \u0111\u00e2y, t\u00f4i giao m\u1ed9t ch\u1ee9c n\u0103ng cho h\u00e0m `onCreateTodo` \u0111\u1ec3 x\u1eed l\u00fd s\u1ef1 ki\u1ec7n click v\u00e0o n\u00fat \"Add TODO\".\n\t- H\u00e0m `onCreateTodo`\n\t\tevents{} l\u00e0 vi\u1ec7c b\u1eaft s\u1ef1 ki\u1ec7n v\u00e0 x\u1eed l\u00fd d\u00e0nh cho n\u00fat \"Add TODO\"\n\t\t- Ch\u1ea1y h\u00e0m `create` c\u1ee7a collection, N\u00f3 s\u1ebd xem l\u1ea1i data m\u1ed9t l\u1ea7n n\u1eefa, b\u00e2y gi\u1edd n\u1ebfu b\u1ea1n g\u1ecdi \u0111\u1ebfn API th\u00eam n\u1ed9i dung ( Tr\u01b0\u1eddng h\u1ee3p l\u1ed7i x\u1ea3y ra, ho\u1eb7c gi\u1eef li\u1ec7u kh\u00f4ng gi\u1ed1ng, m\u00ecnh v\u1eabn ch\u1edd k\u1ebft qu\u1ea3 cu\u1ed1i c\u00f9ng). N\u1ed9i dung \u0111\u01b0\u1ee3c th\u00eam th\u00e0nh c\u00f4ng, h\u00e0m `newAttribute` \u0111\u01b0\u1ee3c t\u1ea1o.\n\t\t- Khi th\u00eam vi\u1ec7c th\u00e0nh c\u00f4ng , collection \u0111\u01b0\u1ee3c l\u1ea5y ra, ch\u00fang ta l\u1ea1i c\u00f3 danh s\u00e1ch nh\u1eefng TODO m\u1edbi nh\u1ea5t.\n\t- H\u00e0m `newAttributes`\n\t\t - todo : Gi\u00e1 tr\u1ecb nh\u1eadp v\u00e0o t\u1eeb input\n\t\t - status : 0(Ch\u01b0a ho\u00e0n th\u00e0nh)\n\t\t \n\t\tCh\u00fang ta s\u1ebd tr\u1edf l\u1ea1i m\u1ed9t model m\u1edbi \u0111\u01b0\u1ee3c t\u1ea1o ra.\n\n#### T\u00f3m t\u1eaft n\u1ed9i dung\n\nL\u00e0m theo c\u00e1c b\u01b0\u1edbc sau \u0111\u00e2y\n\n- :white_check_mark: S\u1eeda file `app/View/Layouts/default.ctp` nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n- :white_check_mark: S\u1eeda file `app/webroot/js/views/todo-collection-view.js` nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n- :white_check_mark: Ki\u1ec3m tra k\u1ebft qu\u1ea3\n- :white_check_mark: Commit l\u00ean Git\n\n\u0110\u1ebfn v\u1edbi b\u00e0i 5 n\u00e0o !\n\n## B\u00e0i 5: Thay \u0111\u1ed5i tr\u1ea1ng th\u00e1i checkbox.\n\nM\u00ecnh s\u1ebd th\u00eam v\u00e0o m\u1ed9t checkbox, m\u1ed7i khi b\u1ea1n l\u00e0m xong m\u1ed9t c\u00f4ng vi\u1ec7c n\u00e0o trong list, b\u1ea1n c\u00f3 th\u1ec3 check v\u00e0o checkbox \u0111\u00f3 \u0111\u1ec3 \u0111\u00e1nh d\u1ea5u \u0111\u00e3 ho\u00e0n t\u1ea5t.\n\n#M\u1ee5c ti\u00eau sau khi h\u1ecdc xong b\u00e0i n\u00e0y\n\nKhi b\u1ea1n truy c\u1eadp v\u00e0o http://[PublicIP]/rest-study/#todo-lists s\u1ebd hi\u1ec7n giao di\u1ec7n nh\u01b0 h\u00ecnh d\u01b0\u1edbi, m\u1ed9t checkbox n\u1eb1m \u1edf b\u00ean tr\u00e1i TODO hi\u1ec7n ra. N\u00f3 s\u1ebd giao ti\u1ebfp ngay v\u1edbi server v\u00e0 l\u01b0u tr\u1ea1ng th\u00e1i sau khi b\u1ea1n check, v\u00ec v\u1eady b\u1ea1n c\u00f3 th\u1ec3 th\u1ea5y n\u00f3 s\u1ebd v\u1eabn \u0111c check n\u1ebfu b\u1ea1n t\u1ea3i l\u1ea1i trang.\n\n![checkbox.png](https://qiita-image-store.s3.amazonaws.com/0/94375/b226270d-3554-28e4-c891-e72238d39795.png)\n\n\nDanh s\u00e1ch nh\u1eefng file c\u1ea7n ch\u1ec9nh s\u1eeda,\n\n|Thao t\u00e1c|file|\u00dd ngh\u0129a|\n|---|:-------------------------------|:-------------|\n|Ch\u1ec9nh s\u1eeda|app/View/Layouts/default.ctp    |HTML template|\n|Ch\u1ec9nh s\u1eeda|app/webroot/js/models/todo-model.js|\u30e2\u30c7\u30eb(Todo list)|\n|Ch\u1ec9nh s\u1eeda|app/webroot/js/views/todo-item-view.js|\u30d3\u30e5\u30fc(Hi\u1ec3n t\u1ecb chi ti\u1ebft 1 ph\u1ea7n t\u1eed c\u1ee7a Todo l\u00edt)|\n\n### Chi ti\u1ebft ch\u1ec9nh s\u1eeda c\u1ee7a m\u1ed7i file\n\n#### default.ctp\n\n```diff:default.ctp\n \n \t<! - (ch\u00e8n v\u00e0o ph\u1ea7n tbody n\u1ed9i dung d\u01b0\u1edbi \u0111\u00e2y) \u0111\u00e2y l\u00e0 template c\u1ee7a m\u1ed7i d\u00f2ng TODO ->\n \t<script type=\"text/template\" id=\"item-template\">\n+\t<td><input type=\"checkbox\" class=\"toggle\" <%- status === '1' ? 'checked' : '' %>></td>\n \t<td style=\"margin:0px\">\n \t\t<span class=\"todo-edit\" style=\"margin:0px\"><%- todo %></span>\n \t</td>\n```\n\nN\u00f3 s\u1ebd ch\u00e8n m\u1ed9t \u0111o\u1ea1n HTML fragment \u0111\u1ec3 hi\u1ec7n th\u00eam m\u1ed9t c\u1ed9t checkbox\n`<% - Status === '1' 'checked':? ''% >>`\n\u0110o\u1ea1n n\u00e0y c\u00f3 ngh\u0129a l\u00e0 n\u1ebfu \u00f4 n\u00e0y \u0111\u01b0\u1ee3c check th\u00ec s\u1ebd chuy\u1ec3n status th\u00e0nh 1, c\u00f2n n\u1ebfu kh\u00f4ng th\u00ec kh\u00f4ng thay \u0111\u1ed5i ( m\u1eb7c \u0111\u1ecbnh b\u1eb1ng 0, c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 ki\u1ec3m tra tr\u00ean phpmyadmin )\n\n#### todo-model.js\n\n\n```diff:todo-model.js\n \t\t\tconsole.log(\"ph\u00e2n t\u00edch model\");\n \t\t\tconsole.log(response);\n \t\t\treturn response.TodoList;\n+\t\t},\n+\t\ttoggle : function() {\n+\t\t\tthis.set('status', this.get(\"status\") === '1' ? '0' : '1');\n+\t\t\tthis.save();\n \t\t}\n \t});\n })(app);\n```\nB\u1ea1n c\u1ea7n th\u00eam h\u00e0m `toggle`, m\u1ed7i model s\u1ebd s\u1edf h\u1eefu m\u1ed9t tr\u1ea1ng th\u00e1i\n\n- t\u1eeb 0 th\u00e0nh 1\n- t\u1eeb 1 th\u00e0nh 0\n\nCh\u00fang ta \u0111ang vi\u1ebft m\u1ed9t ch\u01b0\u01a1ng tr\u00ecnh \u0111\u1ec3 convert ch\u00fang, b\u1ea1n c\u1ea7n l\u01b0u ch\u00fang v\u00e0o database b\u1eb1ng c\u00e1ch g\u1ecdi server-side API ch\u1ee9a h\u00e0m `save()`. Nh\u1eefng x\u1eed l\u00fd c\u1ee7a view s\u1ebd \u0111\u01b0\u1ee3c g\u1ecdi trong c\u00e1c h\u00e0m x\u1eed l\u00fd t\u01b0\u01a1ng \u1ee9ng ( sau khi c\u00e1c b\u1ea1n click v\u00e0o checkbox.\n\n\n#### todo-item-view.js\n\n```diff:todo-item-view.js\n \t\t//template\n \t\ttemplate : _.template($('#item-template').html()),\n \n+\t\t//set vi\u1ec7c x\u1eed l\u00fd s\u1ef1 ki\u1ec7n cho DOM\n+\t\tevents : {\n+\t\t// Khi click v\u00e0o checkbox\n+\t\t\t'click .toggle' : 'onStatusToggleClick',\n+\t\t},\n+\n \t\tinitialize : function() {\n \t\t},\n \t\trender : function() {\n \t\t\tthis.$el.html(this.template(this.model.toJSON()));\n \t\t\treturn this;\n \t\t},\n+\t\tonStatusToggleClick : function(e) {\n+\t\t\tthis.model.toggle();\n+\t\t},\n \t});\n })(app);\n```\n\n Bi\u1ebfn `event`\nCh\u00fang ta \u0111\u00e3 vi\u1ebft h\u00e0m x\u1eed l\u00fd  `onStatusToggleClick` t\u1ea1i ch\u1ed7 click check box at check box click.\n\nH\u00e0m `onStatusToggleClick`\nN\u00f3 \u0111\u01b0\u1ee3c g\u1ecdi \u1edf th\u1eddi \u0111i\u1ec3m checkbox \u0111\u01b0\u1ee3c click.\nCh\u1ea1y h\u00e0m `toggle` c\u1ee7a Model, N\u1ebfu \u0111\u1ed5i sang tr\u1ea1ng th\u00e1i kh\u00e1c b\u1ea1n kh\u00f4ng th\u1ec3 save.\n\n\n#### T\u00f3m t\u1eaft n\u1ed9i dung\n\nB\u1eaft \u0111\u1ea7u n\u00e0o!\n- :white_check_mark: S\u1eeda file `app/View/Layouts/default.ctp` theo h\u01b0\u1edbng d\u1eabn tr\u00ean.\n- :white_check_mark: S\u1eeda file `app/webroot/js/models/todo-model.js ` theo h\u01b0\u1edbng d\u1eabn tr\u00ean.\n- :white_check_mark: S\u1eeda file `app/webroot/js/views/todo-item-view.js` theo h\u01b0\u1edbng d\u1eabn tr\u00ean.\n- :white_check_mark: Ki\u1ec3m tra l\u1ea1i k\u1ebft qu\u1ea3\n- :white_check_mark: Commit l\u00ean Git\n\nChuy\u1ec3n sang b\u00e0i 6.\n\n## B\u00e0i 6: Vi\u1ebft ch\u1ee9c n\u0103ng x\u00f3a c\u00f4ng vi\u1ec7c\n\nTh\u00eam ch\u1ee9c n\u0103ng x\u00f3a nh\u1eefng c\u00f4ng vi\u1ec7c kh\u00f4ng mong mu\u1ed1n trong TODO list.\n\n### M\u1ee5c ti\u00eau \u0111\u1ea1t \u0111\u01b0\u1ee3c sau b\u00e0i h\u1ecdc\n\nSau khi truy c\u1eadp http://[PublicIP]/rest-study/#todo-lists s\u1ebd hi\u1ec3n th\u1ecb nh\u01b0 \u1ea3nh d\u01b0\u1edbi \u0111\u00e2y, v\u1edbi link x\u00f3a nh\u1eefng c\u00f4ng vi\u1ec7c kh\u00f4ng mong mu\u1ed1n \u1edf b\u00ean c\u1ea1nh t\u01b0\u01a1ng \u1ee9ng.\n\n![xoa1.PNG](https://qiita-image-store.s3.amazonaws.com/0/94375/44a729c8-d499-9c61-f1f2-e3f726c61188.png)\n\n\nKhi b\u1ea1n click x\u00f3a, TODO 2 s\u1ebd bi\u1ebfn m\u1ea5t sau khi reload l\u1ea1i danh s\u00e1ch.\n![xoa2.PNG](https://qiita-image-store.s3.amazonaws.com/0/94375/e9f2fa4b-d287-5dea-002b-f1a5048c2632.png)\n\n\n### Nh\u1eefng file b\u1ecb thay \u0111\u1ed5i\n\n|H\u00e0nh \u0111\u1ed9ng|file|\u00dd ngh\u0129a|\n|---|:-------------------------------|:-------------|\n|Ch\u1ec9nh s\u1eeda|app/View/Layouts/default.ctp    |HTML template|\n|Ch\u1ec9nh s\u1eeda|app/webroot/js/views/todo-item-view.js | View ( Hi\u1ec3n th\u1ecb t\u1eebng c\u00f4ng vi\u1ec7c trong TODO list)|\n\n### N\u1ed9i dung ch\u1ec9nh s\u1eeda m\u1ed7i file v\u00e0 ch\u00fa th\u00edch\n\n#### default.ctp\n\n```diff:default.ctp\n \t<td style=\"margin:0px\">\n \t\t<span class=\"todo-edit\" style=\"margin:0px\"><%- todo %></span>\n \t</td>\n+\t<td>\n+\t\t<a class=\"remove-link\" href=\"#\">Delete</a>\n+\t</td>\n \t</script>\n \n \t<!-- js(library) -->\n```\n\nN\u00f3 c\u00f3 c\u00f4ng d\u1ee5ng th\u00eam c\u00e1c \u0111o\u1ea1n HTML \u0111\u1ec3 hi\u1ec3n th\u1ecb link cho vi\u1ec7c x\u00f3a.\n\n#### todo-item-view.js\n\n\n```diff:todo-item-view.js\n \t\tevents : {\n \t\t\t//Khi click vao Checkbox\n \t\t\t'click .toggle' : 'onStatusToggleClick',\n+\t        \t// Khi click nut Xoa\n+\t\t\t'click .remove-link' : 'onRemoveClick',\n \t\t},\n \n \t\tinitialize : function() {\n+\t\t\tthis.listenTo(this.model, 'destroy', this.remove);\n \t\t},\n \t\trender : function() {\n \t\t\tthis.$el.html(this.template(this.model.toJSON()));\n \t\t\treturn this;\n \t\t},\n \t\tonStatusToggleClick : function(e) {\n \t\t\tthis.model.toggle();\n \t\t},\n+\t\tonRemoveClick : function(e) {\n+\t\t\tthis.model.destroy({\n+\t\t\t\twait : true\n+\t\t\t});\n+\t\t},\n \t});\n })(app);\n```\n\nBi\u1ebfn `events`\nH\u00e0m x\u1eed l\u00fd s\u1ef1 ki\u1ec7n click v\u00e0o link X\u00f3a l\u00e0 `onRemoveClick`.\n\nH\u00e0m `initialize`\nX\u00f3a c\u00f4ng vi\u1ec7c khi click v\u00e0o link, tuy nhi\u00ean s\u1ef1 ki\u1ec7n `destroy` ch\u1ec9 x\u1ea3y ra n\u1ebfu n\u00f3 th\u1ef1c s\u1ef1 \u0111\u00e3 b\u1ecb x\u00f3a. \nCh\u00fang ta s\u1ebd set m\u1ed9t h\u00e0m b\u1eaft v\u00e0 x\u1eed l\u00fd s\u1ef1 ki\u1ec7n n\u00e0y l\u00e0 `this.remove`.\nH\u00e0m `remove` l\u00e0 m\u1ed9t view cho ch\u00ednh n\u00f3, v\u00e0 s\u1ebd x\u00f3a t\u1ea5t c\u1ea3 c\u00e1c ph\u1ea7n t\u1eed DOM \u0111\u01b0\u1ee3c th\u1ea5y trong bi\u1ebfn el, nh\u1eefng s\u1ef1 k\u1ebft h\u1ee3p v\u1edbi n\u00f3 v\u00e0 s\u1ebd h\u1ee7y to\u00e0n b\u1ed9 c\u00e1c s\u1ef1 ki\u1ec7n.\nM\u1ed9t vi\u1ec7c TODO tr\u00ean m\u00e0n h\u00ecnh s\u1ebd b\u1ecb x\u00f3a.\n\nH\u00e0m `onRemoveClick` vi\u1ec7c th\u1ef1c hi\u1ec7n c\u00e1c ch\u1ee9c n\u0103ng \u0111\u00e3 \u0111\u01b0\u1ee3c thi\u1ebft l\u1eadp trong c\u00e1c s\u1ef1 ki\u1ec7n.\nCh\u00fang ta s\u1ebd ch\u1ea1y h\u00e0m destroy \u0111\u1ec3 x\u00f3a ph\u1ea7n t\u1eed ( model ) n\u00e0y.\nSau khi \u0111\u00e3 th\u1ef1c s\u1ef1 x\u00f3a xong, s\u1ef1 ki\u1ec7n `destroy` s\u1ebd x\u1ea3y ra, view \u0111\u01b0\u1ee3c set \u1edf h\u00e0m `initialize` s\u1ebd b\u1ecb x\u00f3a.\n\n\n#### T\u00f3m t\u1eaft n\u1ed9i dung\n\nC\u00e1c b\u01b0\u1edbc d\u01b0\u1edbi \u0111\u00e2y\n\n- :white_check_mark: Ch\u1ec9nh s\u1eeda file `app/View/Layouts/default.ctp` nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n- :white_check_mark: Ch\u1ec9nh s\u1eeda file `app/webroot/js/views/todo-item-view.js` nh\u01b0 h\u01b0\u1edbng d\u1eabn tr\u00ean.\n- :white_check_mark: Ki\u1ec3m tra k\u1ebft qu\u1ea3\n- :white_check_mark: Commit l\u00ean Git\n\nSang b\u00e0i 7 th\u00f4i.\n\n\n## B\u00e0i 7: Hi\u1ec3n th\u1ecb trang chi ti\u1ebft c\u00f4ng vi\u1ec7c.\n\nTh\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng ch\u1ec9nh s\u1eeda n\u1ed9i dung c\u1ee7a m\u1ed7i TODO trong m\u00e0n h\u00ecnh detail .\n\n### M\u1ee5c ti\u00eau sau khi k\u1ebft th\u00fac b\u00e0i h\u1ecdc\n\nKhi truy c\u1eadp v\u00e0o http://[PublicIP]/rest-study/#todo-lists s\u1ebd hi\u1ec7n ra nh\u1eefng th\u00f4ng tin nh\u01b0 \u1ea3nh d\u01b0\u1edbi, k\u00e8m theo m\u1ed9t link xem chi ti\u1ebft \u1edf b\u00ean ph\u1ea3i link x\u00f3a c\u00f4ng vi\u1ec7c.\n\n![chitiet.PNG](https://qiita-image-store.s3.amazonaws.com/0/94375/d5ff2214-4974-ba64-2fcc-a53842db13d5.png)\n\n\nKhi click v\u00e0o n\u00fat chi ti\u1ebft c\u1ee7a TODO3, s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n \u0111\u1ebfn trang th\u00f4ng tin chi ti\u1ebft v\u1edbi nh\u1eefng n\u1ed9i dung nh\u01b0 \u1ea3nh d\u01b0\u1edbi \u0111\u00e2y\n\n![todo3.PNG](https://qiita-image-store.s3.amazonaws.com/0/94375/dbc5e454-cc6b-74bf-3398-9c039abb2df2.png)\n\n\nKhi click Cancel, kh\u00f4ng th\u1ef1c hi\u1ec7n h\u00e0nh \u0111\u1ed9ng g\u00ec c\u1ea3 m\u00e0 s\u1ebd quay l\u1ea1i danh s\u00e1ch Todo list\n\n![chitiet.PNG](https://qiita-image-store.s3.amazonaws.com/0/94375/d5ff2214-4974-ba64-2fcc-a53842db13d5.png)\n\n\n### Nh\u1eefng file b\u1ecb thay \u0111\u1ed5i\n\n|H\u00e0nh \u0111\u1ed9ng|file|\u00dd ngh\u0129a|\n|---|:-------------------------------|:-------------|\n|Ch\u1ec9nh s\u1eeda|app/View/Layouts/default.ctp    |HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8|\n|Ch\u1ec9nh s\u1eeda|app/webroot/js/routers/router.js|\u30eb\u30fc\u30bf(Controller)|\n|Th\u00eam m\u1edbi|app/webroot/js/views/todo-detail-view.js |View(View chi ti\u1ebft c\u1ee7a m\u1ed7i TODO)|\n\n\n### N\u1ed9i dung ch\u1ec9nh s\u1eeda m\u1ed7i file v\u00e0 ch\u00fa th\u00edch\n\n#### default.ctp\n\n```diff:default.ctp\n </head>\n <body>\n \t<!-- \u30b3\u30f3\u30c6\u30f3\u30c4 -->\n-\t<div id=\"content\">\n-\t</div>\n+\t<div id=\"main\"></div>\n \t<!-- Template c\u1ee7a TODO list -->\n \t<script type=\"text/template\" id=\"list-template\">\n \t<h1>TODO List</h1>\n @@ -29,8 +28,17 @@\n \t</td>\n \t<td>\n \t\t<a class=\"remove-link\" href=\"#\">Delete</a>\n+\t\t<a class=\"detail-link\" href=\"#todo-lists/<%- id %>\">Detail</a>\n \t</td>\n \t</script>\n+\t<!-- Trang chi ti\u1ebft -->\n+\t<script type=\"text/template\" id=\"detail-template\">\n+\t<h2>Todo #<%- id %></h2>\n+\t<div>\n+\t<textarea style=\"width:300px;height:50px\" id=\"edit-todo\" autofocus placeholder=\"Todo?\"><%- todo %></textarea>\n+\t<input type=\"button\" id=\"updateCancel\" value=\"Cancel\"></input>\n+\t</div>\n+\t</script>\n \n \t<!-- js(library) -->\n \t<script src=\"js/lib/jquery-2.1.3.min.js\" type=\"text/javascript\"></script>\n @@ -44,6 +52,7 @@\n \t<script src=\"js/collections/todo-collection.js\" type=\"text/javascript\"></script>\n \t<!--   view   -->\n \t<script src=\"js/views/todo-item-view.js\" type=\"text/javascript\"></script>\n+\t<script src=\"js/views/todo-detail-view.js\" type=\"text/javascript\"></script>\n \t<script src=\"js/views/todo-collection-view.js\" type=\"text/javascript\"></script>\n \t<!--   router   -->\n \t<script src=\"js/routers/router.js\" type=\"text/javascript\"></script>\n```\n\n- Thay \u0111\u1ed5i `<div id=\"content\">` th\u00e0nh `<div id=\"main\">`\n\n\tCh\u00fang ta s\u1ebd nh\u1eafc \u0111\u1ebfn n\u1ed9i dung c\u1ee7a router.js sau \u0111\u00e2u, \u0111\u1ea7u ti\u00ean ta th\u00eam ph\u1ea7n `<div id =\"content\">` v\u00e0o ngay d\u01b0\u1edbi `<div id =\" main \">`.\n\n- Th\u00eam link v\u00e0o m\u00e0n h\u00ecnh chi ti\u1ebft\n\tLink c\u1ee7a ch\u00fang ta l\u00e0 `href =\"#todo-lists/<%- id%>\"`.\n        B\u00e2y gi\u1edd, \u0111\u1ec3 kh\u1edbp v\u1edbi thi\u1ebft \u0111\u1eb7t routing trong b\u00e0i 1 th\u00ec link bu\u1ed9c ph\u1ea3i l\u00e0 `#todo-lists/:id`.\n\n- Th\u00eam template cho trang chi ti\u1ebft ( trang detail \u1ea5y )\n\nCh\u00fang ta c\u1ea7n hi\u1ec3n th\u1ecb title (id), v\u00e0 th\u00eam m\u1ed9t text area v\u00e0 n\u00fat `Cancel`.\n\n- Xem m\u00e0n h\u00ecnh hi\u1ec3n th\u1ecb th\u00eam c\u00f4ng vi\u1ec7c\n\n\u0110\u00e2y l\u00e0 1 view cho m\u00e0n h\u00ecnh deltai, ch\u00fang ta c\u1ea7n th\u00eam cho `todo-detail-view.js` .\n\n#### router.js\n\n\n```diff:router.js\n+\n+\t\tcurrentView : false,\n+\n \t\ttodoLists : function() {\n \t\t\t//Routing cho Todolist\n-\t\t\tconsole.log(\" Routing Todo list\");\n-\t\t\tnew app.TodoCollectionView();\n+\t\t\tthis.removeCurrentView();\n+\t\t\tthis.nextView(app.TodoCollectionView);\n \t\t},\n \n \t\ttodoDetail : function(id) {\n-\t\t\talert('View thong tin chi tiet cua id = ' + id);\n+\t\t\tthis.removeCurrentView();\n+\t\t\tthis.nextView(app.TodoDetailView, id);\n \t\t},\n+\n+\t\tnextView : function(View, option) {\n+\t\t\tif (document.getElementById('#content') === null) {\n+\t\t\t\t$('#main').append('<div id=\"content\"/>');\n+\t\t\t}\n+\t\t\tthis.currentView = new View(option);\n+\t\t},\n+\t\tremoveCurrentView : function() {\n+\t\t\tif (this.currentView) {\n+\t\t\t\tthis.currentView.remove();\n+\t\t\t}\n+\t\t}\n+\n \t});\n })(app);\n```\n\nCho \u0111\u1ebfn b\u00e0i 6 th\u00ec c\u00fang ta v\u1eabn ch\u1ec9 c\u00f3 m\u1ed9t giao di\u1ec7n, ch\u00fang ta c\u1ea7n th\u00eam m\u1ed9t giao di\u1ec7n cho trang detail n\u1eefa.\nSau \u0111\u00f3, \u0111\u1ec3 thay \u0111\u1ed5i ti\u1ebfn tr\u00ecnh th\u00eam View , ch\u00fang ta c\u1ea7n th\u00eam nh\u1eefng ti\u1ebfn tr\u00ecnh \u0111\u1ec3 b\u1ecf View.\nKh\u00f4ng may l\u00e0 ch\u00fang ta \u0111\u00e3 x\u00f3a c\u00e1c `console.log` v\u00e0 `alert`.\n\n- Bi\u1ebfn `currentView`\n\t\u0110\u00e2y l\u00e0 m\u1ed9t bi\u1ebfn \u0111\u1ec3 l\u01b0u tr\u1eef tr\u1ea1ng th\u00e1i c\u1ee7a view v\u1eeba \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb.\n- H\u00e0m `todoLists`\n\n\tTr\u01b0\u1edbc ti\u00ean ch\u00fang ta ch\u1ec9nh s\u1eeda \u0111\u01a1n gi\u1ea3n `new app.TodoCollectionView ();` \u0111\u1ec3 hi\u1ec3n th\u1ecb TODO list ra View,\n- X\u00f3a view \u0111ang \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb (`currentView` l\u00e0 m\u1ed9t bi\u1ebfn tr\u1ecf \u0111\u1ebfn view n\u00e0y) ( h\u00e0m `removeCurrentView`)\n- \u0110\u1ec3 sinh ra TODO List View ( H\u00e0m `nextView`)\n\nN\u00f3 s\u1ebd tr\u1edf th\u00e0nh 2 ti\u1ebfn tr\u00ecnh.\n\n- H\u00e0m `todoDetail`\n\n\t\n\tGi\u1ed1ng nh\u01b0 h\u00e0m `todoLists`, ch\u00fang ta s\u1ebd ch\u1ea1y h\u00e0m `removeCurrentView` v\u00e0 h\u00e0m `nextView`.\n     H\u00e0m `nextView` g\u1ed3m\n        - `app.TodoDetailView`\n\t- `id`\n\n\tCh\u00fang ta \u0111\u00e3 \u0111i qua c\u1ea3 2.\n\n- H\u00e0m `nextView`\nT\u1ea1i \u0111\u00e2y, ch\u00fang ta \u0111\u00e3 \u0111\u1ee5ng m\u1ed9t \u00edt \u0111\u1ebfn n\u1ed9i dung c\u1ee7a file default.ctp, ch\u00fang ta c\u1ea7n th\u00eam v\u00e0i h\u00e0nh \u0111\u1ed9ng cho n\u1ed9i dung.\nN\u1ebfu kh\u00f4ng c\u00f3 t\u00ed n\u1ed9i dung n\u00e0o, ch\u00fang ta s\u1ebd ch\u00e8n v\u00e0o cu\u1ed1i c\u1ee7a c\u00e1c ph\u1ea7n t\u1eed ch\u00ednh.\nK\u1ec3 t\u1eeb khi x\u00f3a xong view c\u1ee7a t\u1ea5t c\u1ea3 c\u00e1c th\u00e0nh ph\u1ea7n, ch\u00fang ta s\u1ebd kh\u00f4ng t\u1ea1o th\u00eam view n\u00e0o n\u1eefa.\n\nTrong m\u00e0n h\u00ecnh chi ti\u1ebft, tham s\u1ed1 view = `app.TodoDetailView`, tham s\u1ed1 t\u00f9y ch\u1ecdn =`id`,\napp.TodoDetailView t\u1ea1i th\u1eddi \u0111i\u1ec3m  `initialize` s\u1ebd th\u00f4ng qua `id`.\n\n- H\u00e0m `removeCurrentView`\n\n\tB\u1ea1n c\u1ea7n x\u00f3a view \u0111\u01b0\u1ee3c tr\u1ecf \u0111\u1ebfn b\u1edfi `currentView`, n\u00f3 s\u1ebd x\u00f3a t\u1eebng n\u1ed9i dung c\u1ee7a view.\n\n#### todo-detail-view.js\n\n\n```js:todo-detail-view.js\nvar app = app || {};\n\n//Giao di\u1ec7n trang Detail\n(function(app) {\n\tapp.TodoDetailView = Backbone.View.extend({\n\t\tel : '#content',\n\n\t\t//template\n\t\ttemplate : _.template($('#detail-template').html()),\n\n\t\t//X\u1eed l\u00fd s\u1ef1 ki\u1ec7n t\u1ea1i DOM\n\t\tevents : {\n\t\t\t//Khi click n\u00fat Cancel\n\t\t\t'click #updateCancel' : 'onCancelClick',\n\t\t},\n\n\t\t//Kh\u1edfi t\u1ea1o\n\t\tinitialize : function(id) {\n\t\t\t//Model sinh ra sau khi nh\u1eadn id t\u1eed router\n\t\t\tthis.model = new app.TodoModel({\n\t\t\t\tid : id\n\t\t\t});\n\t\t\t//Ngay khi ho\u00e0n t\u1ea5t nh\u1eadn data t\u1eeb server, n\u00f3 b\u1eaft \u0111\u1ea7u v\u1ebd\n\t\t\tthis.listenTo(this.model, 'sync', this.render);\n\t\t\t//Model s\u1ebd b\u1ecb h\u1ee7y (destroy) khi s\u1ef1 ki\u1ec7n xu\u1ea5t hi\u1ec7n, x\u00f3a view c\u1ee7a n\u00f3\n\t\t\tthis.listenTo(this.model, 'destroy', this.remove);\n\t\t\t//\u0110\u1ed5 l\u1ea1i d\u1eef li\u1ec7u t\u1eeb DB v\u00e0o collection\n\t\t\tthis.model.fetch({\n\t\t\t\twait : true\n\t\t\t});\n\t\t},\n\n\t\t//v\u1ebd giao di\u1ec7n\n\t\trender : function() {\n\t\t\t//S\u1eed d\u1ee5ng template \u0111\u1ec3 v\u1ebd b\u1ed1 c\u1ee5c model\n\t\t\tthis.$el.html(this.template(this.model.toJSON()));\n\t\t\treturn this;\n\t\t},\n\n\t\t//x\u1eed l\u00fd s\u1ef1 ki\u1ec7n click n\u00fat Cancel\n\t\tonCancelClick : function() {\n\t\t\tBackbone.history.navigate('#todo-lists', true);\n\t\t},\n\n\t});\n})(app);\n```\n\nB\u00e2y gi\u1edd m\u00ecnh t\u1ea1o view cho trang detail.\n\nCh\u00fang ta b\u1ecf qua `template`, `events` v\u00ec n\u00f3 s\u1ebd l\u1ea5y nh\u1eefng c\u00e1i m\u00ecnh c\u00f3 t\u1eeb tr\u01b0\u1edbc.\n\n\n- H\u00e0m`initialize`\n\n\u3000\u3000\u3000   Khi nh\u1eefng View n\u00e0y \u0111\u01b0\u1ee3c t\u1ea1o cho c\u00e1c `id` tr\u1ecf \u0111\u1ebfn t\u1eeb router, m\u00ecnh ch\u1ec9 t\u1ea1o model cho `id` \u0111\u00f3 m\u00e0 th\u00f4i, v\u00e0o server API m\u00e0 b\u1ea1n \u0111\u00e3 ch\u1ea1y h\u00e0m `fetch` \u1edf model m\u00ecnh s\u1ebd l\u1ea5y \u0111\u01b0\u1ee3c n\u1ed9i dung.\n\tS\u1ef1 ki\u1ec7n `sync` ( nh\u1eefng th\u00f4ng tin cu\u1ed1i \u0111\u01b0\u1ee3c l\u1ea5y t\u1eeb server ) qua h\u00e0m ` render`,\n\tS\u1ef1 ki\u1ec7n `Destroy`, b\u1ea1n ph\u1ea3i ch\u1ea1y h\u00e0m ` remove` cho view c\u1ee7a n\u00f3 \u0111\u00e3.\n\n- H\u00e0m `render`\n\n\tNh\u01b0 b\u1ea1n \u0111\u00e3 thi\u1ebft l\u1eadp \u1edf h\u00e0m `initialize`, n\u00f3 \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 m\u1ed9t s\u1ef1 ki\u1ec7n trigger` sync` v\u00e0 s\u1ef1 ki\u1ec7n n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c h\u1ee7y b\u1ecf sau khi ch\u1ea1y xong h\u00e0m `fetch`.\nCh\u00fang ta \u0111ang v\u1ebd template.\n\n- H\u00e0m `onCancelClick`\n\n\tCh\u00fang ta s\u1ebd vi\u1ebft h\u00e0m cho s\u1ef1 ki\u1ec7n ckick v\u00e0o n\u00fat Cancel.\n V\u1edbi h\u00e0m `Backbone.history.navigate`, ch\u00fang ta s\u1ebd chuy\u1ec3n v\u1ec1 URL `'#todo-lists'`.\n\u0110o\u1ea1n argument s\u1ebd chuy\u1ec3n th\u00e0nh gi\u00e1 tr\u1ecb `true` \u0111\u1ec3 chuy\u1ec3n \u0111\u1ebfn URL (= nh\u01b0 router \u0111ang l\u00e0m vi\u1ec7c) kh\u00f4ng ngay l\u1eadp t\u1ee9c.\nSau \u0111\u00f3 router s\u1ebd ph\u1ea3n h\u1ed3i v\u00e0 tr\u1edf l\u1ea1i m\u00e0n h\u00ecnh danh s\u00e1ch TODO list.\n\n#### T\u00f3m t\u1eaft n\u1ed9i dung\n\nC\u00e1c b\u01b0\u1edbc d\u01b0\u1edbi \u0111\u00e2y\n\n- :white_check_mark: `app/View/Layouts/default.ctp` s\u1eeda nh\u01b0 tr\u00ean\u3002\n- :white_check_mark: `app/webroot/js/routers/router.js` s\u1eeda nh\u01b0 tr\u00ean\u3002\n- :white_check_mark: `app/webroot/js/views/todo-detail-view.js` s\u1eeda nh\u01b0 tr\u00ean\u3002\n- :white_check_mark: Ki\u1ec3m tra k\u1ebft qu\u1ea3\n- :white_check_mark: Commit l\u00ean Git\n\nChuy\u1ec3n qua b\u00e0i cu\u1ed1i c\u00f9ng : B\u00e0i 8\n\n## Lesson 8 : Ch\u1ec9nh s\u1eeda c\u00f4ng vi\u1ec7c \u1edf trang detail (chi ti\u1ebft)\n\nTh\u00eam n\u00fat \"Ch\u1ec9nh s\u1eeda\" v\u00e0o trang detail, qua \u0111\u00f3 m\u00ecnh c\u00f3 th\u1ec3 ch\u1ec9nh s\u1eeda c\u00f4ng vi\u1ec7c.\n\n### M\u1ee5c ti\u00eau sau khi k\u1ebft th\u00fac b\u00e0i h\u1ecdc\n\nKhi truy c\u1eadp v\u00e0o trang detail c\u1ee7a c\u00f4ng vi\u1ec7c TODO3 th\u00ec s\u1ebd hi\u1ec7n ra giao di\u1ec7n nh\u01b0 th\u1ebf n\u00e0y\nTrang th\u00f4ng tin chi ti\u1ebft c\u1ee7a c\u00f4ng vi\u1ec7c s\u1ebd hi\u1ec3n th\u1ecb c\u00f3 k\u00e8m n\u00fat `C\u1eadp nh\u1eadt thay \u0111\u1ed5i`.\n![3ne.PNG](https://qiita-image-store.s3.amazonaws.com/0/94375/7dce6f9d-7fd6-8e27-910f-abb5887490dd.png)\n\nN\u1ed9i dung c\u00f4ng vi\u1ec7c s\u1ebd \u0111\u01b0\u1ee3c thay \u0111\u1ed5i v\u00e0 hi\u1ec3n th\u1ecb n\u1ed9i dung m\u1edbi sau khi load l\u1ea1i danh s\u00e1ch TODO list\n\n![3updated.PNG](https://qiita-image-store.s3.amazonaws.com/0/94375/369991b3-7dea-1c3b-b77b-661bdd3d5a9d.png)\n\n\n\n\n\n### Nh\u1eefng file b\u1ecb thay \u0111\u1ed5i\n\n|H\u00e0nh \u0111\u1ed9ng|file|\u00dd ngh\u0129a|\n|---|:-------------------------------|:-------------|\n|Ch\u1ec9nh s\u1eeda|app/View/Layouts/default.ctp    |HTML Template |\n|Ch\u1ec9nh s\u1eeda|app/webroot/js/views/todo-detail-view.js | View ( M\u00e0n h\u00ecnh view c\u1ee7a m\u1ed7i c\u00f4ng vi\u1ec7c TODO)|\n\n\n### N\u1ed9i dung ch\u1ec9nh s\u1eeda m\u1ed7i file v\u00e0 ch\u00fa th\u00edch\n\n#### default.ctp\n\n```diff:default.ctp\n \t<h2>Todo #<%- id %></h2>\n \t<div>\n \t<textarea style=\"width:300px;height:50px\" id=\"edit-todo\" autofocus placeholder=\"Todo?\"><%- todo %></textarea>\n+\t<input type=\"button\" id=\"updateTodo\" value=\"Update\"></input>\n \t<input type=\"button\" id=\"updateCancel\" value=\"Cancel\"></input>\n \t</div>\n \t</script>\n```\n\nPh\u1ea7n n\u00e0y m\u00ecnh ch\u1ec9 th\u00eam n\u00fat ch\u1ec9nh s\u1eeda\n\n#### todo-detail-view.js\n\n\n```diff:todo-detail-view.js\n \t\t//Set vi\u1ec7c x\u1eed l\u00fd c\u00e1c s\u1ef1 ki\u1ec7n cho DOM\n \t\tevents : {\n+\t\t\t//Khi click n\u00fat Update\n+\t\t\t'click #updateTodo' : 'onUpdateClick',\n \t\t\t//Khi click n\u00fat Cancel\n \t\t\t'click #updateCancel' : 'onCancelClick',\n \t\t},\n\n\u301cChi ti\u1ebft c\u00e1c h\u00e0m\u301c\n\n \t\trender : function() {\n \t\t\t//S\u1eed d\u1ee5ng template \u0111\u1ec3 v\u1ebd giao di\u1ec7n model\n \t\t\tthis.$el.html(this.template(this.model.toJSON()));\n+\t\t\t//N\u00f3 s\u1ebd l\u1ea5y gi\u00e1 tr\u1ecb m\u1edbi \u0111\u01b0\u1ee3c \u0111i\u1ec1n v\u00e0o ch\u1ed7 nh\u1eadp input \n+\t\t\tthis.$textBox = this.$('#edit-todo');\n \t\t\treturn this;\n \t\t},\n \n+\t\t//X\u1eed l\u00fd s\u1ef1 ki\u1ec7n sau khi nh\u1ea5n c\u1eadp nh\u1eadt ch\u1ec9nh s\u1eeda\n+\t\tonUpdateClick : function() {\n+\t\t\t//L\u1ea5y n\u1ed9i dung t\u1eeb textbox\n+\t\t\tvar todoString = this.$textBox.val();\n+\t\t\tthis.model.save({\n+\t\t\t\ttodo : todoString\n+\t\t\t}, {\n+\t\t\t\twait : true,\n+\t\t\t\tsilent : true,\n+\t\t\t\tsuccess : function() {\n+\t\t\t\t\tBackbone.history.navigate('#todo-lists', true);\n+\t\t\t\t}\n+\t\t\t});\n+\t\t},\n+\n \t\t//X\u1eed l\u00fd s\u1ef1 ki\u1ec7n click v\u00e0o n\u00fat Cancel\n \t\tonCancelClick : function() {\n \t\t\tBackbone.history.navigate('#todo-lists', true);\n```\n\n\n\u0110\u00e2y l\u00e0 vi\u1ec7c t\u1ea1o view cho m\u00e0n h\u00ecnh detail c\u1ee7a m\u1ed7i c\u00f4ng vi\u1ec7c\n\n- H\u00e0m `onUpdateClick`\n\n\tM\u00ecnh s\u1ebd c\u1eadp nh\u1eadt n\u1ed9i dung m\u1edbi sau khi ng\u01b0\u1eddi d\u00f9ng \u1ea5n n\u00fat Save ( H\u00e0m `save`), sau \u0111\u00f3 ch\u00fang ta tr\u1edf l\u1ea1i m\u00e0n h\u00ecnh ch\u00ednh danh s\u00e1ch TODO list b\u1eb1ng \u0111o\u1ea1n `Backbone.history.navigate`, tr\u01b0\u1eddng h\u1ee3p nh\u1ea5n Cancel m\u00ecnh c\u0169ng d\u00f9ng \u0111o\u1ea1n code `Backbone.history.navigate` \u0111\u1ec3 tr\u1edf l\u1ea1i m\u00e0n h\u00ecnh ch\u00ednh m\u00e0 kh\u00f4ng l\u00e0m c\u00e1c b\u01b0\u1edbc l\u01b0u.\n\nCh\u00fang ta \u0111\u1ec3 \u00fd ph\u1ea7n save m\u1ed9t t\u00ed\n\n```js:ChucNangSave\n\tthis.model.save({\n\t\ttodo : todoString\n\t}, {\n\t\twait : true,\n\t\tsilent : true,\n\t});\n\tBackbone.history.navigate('#todo-lists', true);\n```\n\nC\u00e1c b\u1ea1n c\u00f3 th\u1ec3 th\u1ea5y, \u1edf d\u01b0\u1edbi t\u00f4i c\u00f3 vi\u1ebft m\u1ed9t h\u00e0m success, v\u00e0 \u00fd ngh\u0129a c\u1ee7a n\u00f3 \u0111\u01a1n gi\u1ea3n l\u00e0 chuy\u1ec3n sang trang danh s\u00e1ch c\u00e1c c\u00f4ng vi\u1ec7c TODO. Tuy nhi\u00ean tr\u01b0\u1edbc khi chuy\u1ec3n trang m\u00ecnh c\u1ea7n ph\u1ea3i c\u00f3 c\u00e1c \u0111o\u1ea1n code b\u1eaft l\u1ed7i \"VD: n\u1ed9i dung kh\u00f4ng \u0111\u01b0\u1ee3c ph\u00e9p qu\u00e1 ng\u1eafn, qu\u00e1 d\u00e0i, k\u00fd t\u1ef1 \u0111\u1eb7c bi\u1ec7t...\" v\u00e0 \u1edf m\u1ed7i tr\u01b0\u1eddng h\u1ee3p m\u00ecnh n\u00ean c\u00f3 nh\u1eefng c\u1ea3nh b\u00e1o hay c\u00e1ch x\u1eed l\u00fd kh\u00e1c. Tuy nhi\u00ean t\u00f4i ch\u1ec9 vi\u1ebft duy nh\u1ea5t h\u00e0m Success \u0111\u1ec3 l\u00e0m v\u00ed d\u1ee5.\n\n```js:ChucNangSave\n\tthis.model.save({\n\t\ttodo : todoString\n\t}, {\n\t\twait : true,\n\t\tsilent : true,\n\t\tsuccess : function() { // ***** Ham success *****\n\t\t\tBackbone.history.navigate('#todo-lists', true);\n\t\t}\n\t});\n},\n```\n\n\n#### T\u00f3m t\u1eaft n\u1ed9i dung\n\n\n- :white_check_mark: s\u1eeda file `app/View/Layouts/default.ctp` nh\u01b0 \u0111\u00e3 h\u01b0\u1edbng d\u1eabn \u1edf tr\u00ean.\n- :white_check_mark: s\u1eeda file `app/webroot/js/views/todo-detail-view.js` nh\u01b0 \u0111\u00e3 h\u01b0\u1edbng d\u1eabn \u1edf tr\u00ean.\n- :white_check_mark: Ki\u1ec3m tra k\u1ebft qu\u1ea3.\n- :white_check_mark: Commit l\u00ean Git\n- :white_check_mark: Sau c\u00f9ng, c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 ki\u1ec3m tra l\u1ea7n cu\u1ed1i n\u1ed9i dung commit c\u1ee7a t\u00e1c gi\u1ea3 [T\u1ea1i \u0111\u00e2y](http://qiita.com/k_shimoji/items/d96826702ab6d6b3a1fd)\nCh\u00fac c\u00e1c b\u1ea1n th\u00e0nh c\u00f4ng.\n\n\n## T\u00f4i \u0111ang ch\u1edd v\u00e0 r\u1ea5t mong \u0111\u1ee3i nh\u1eefng \u00fd ki\u1ebfn / ph\u1ea3n h\u1ed3i c\u1ee7a c\u00e1c b\u1ea1n.\n\nC\u1ea3m \u01a1n c\u00e1c b\u1ea1n \u0111\u00e3 theo d\u00f5i Ph\u1ea7n 2 c\u1ee7a chuy\u00ean \u0111\u1ec1 n\u00e0y, t\u00f4i s\u1ebd s\u1edbm ho\u00e0n t\u1ea5t b\u00e0i s\u1ed1 3 \u0111\u1ec3 g\u1eedi \u0111\u1ebfn c\u00e1c b\u1ea1n quan t\u00e2m.\n", "tags": ["PHP", "CakePHP", "Backbone.js", "AWS", "amazonEC2"]}