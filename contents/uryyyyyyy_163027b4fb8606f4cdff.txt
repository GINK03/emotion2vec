{"context": "\n\n\u306f\u3058\u3081\u306b\n\u67d0\u6848\u4ef6\u3067\u3057\u3070\u3089\u304fReact Native + Flow \u3092\u4f7f\u3063\u3066\u305f\u306e\u3067\u3059\u304c\u3001\u3084\u3063\u3071\u308aTypeScript\u306e\u65b9\u304cIDE\u306e\u88dc\u5b8c\u3084\u578b\u5b89\u5168\u6027\u306e\u9762\u3067\u826f\u3044\u306a\u3068\u601d\u3044\u3001React Native\u3092TypeScript\u5316\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u305d\u308c\u305e\u308c\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u610f\u5473\u306a\u3069\u3082\u53ef\u80fd\u306a\u9650\u308a\u8aac\u660e\u3057\u3066\u3044\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u8a18\u4e8b\u306e\u30b4\u30fc\u30eb\n\nReact Native\u306bTypeScript\u3092\u5165\u308c\u308b\nRedux\u3082\u5165\u308c\u308b\n\u305d\u308c\u3089\u306e\u30c6\u30b9\u30c8\u3084\u52d5\u4f5c\u78ba\u8a8d\u3092\u3057\u3084\u3059\u304f\u3059\u308b\u3002\n\n\n\u74b0\u5883\n\nreact: 15.4.2\nReact Native: 0.41\nTypeScript: 2.2\nNodeJS: 7.6~\nmocha\nenzyme\n\n\n\u69cb\u6210\n\u4eca\u56de\u306e\u69cb\u6210\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n\u57fa\u672c\u7684\u306b\u306f\u3001tsc\u3067\u30d3\u30eb\u30c9\u3057\u3066\u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092index.js\u306b\u55b0\u308f\u305b\u308b\u5f62\u3092\u53d6\u3063\u3066\u3044\u307e\u3059\u3002\nTS\u306e\u30bd\u30fc\u30b9\u30de\u30c3\u30d7\u3092debug\u6642\u306b\u5f15\u304d\u7d99\u3052\u3066\u306a\u3044\u306e\u304c\u96e3\u70b9\u3067\u3059\u304c\u3001\u305d\u3053\u306fTS2.2\u304b\u3089\u5165\u3063\u305f \"jsx\": \"react-native\" \u3092\u4f7f\u3046\u3053\u3068\u3067\u30c7\u30d0\u30c3\u30b0\u306b\u3061\u3087\u3046\u3069\u826f\u3044JS\u3092\u5410\u3044\u3066\u304f\u308c\u308b\u306e\u3067\u3001\u305d\u3093\u306a\u306b\u56f0\u3089\u306a\u3044\u304b\u3082\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\u30b3\u30fc\u30c9\u5168\u4f53\u306f\u3053\u3061\u3089\u3067\u3059\u3002\n\uff08android\u3057\u304b\u8f09\u305b\u3066\u306a\u3044\u3067\u3059\u304c\u3001ios\u3082\u540c\u69d8\u306b\u52d5\u304b\u305b\u307e\u3059\u3002\uff09\nhttps://github.com/uryyyyyyy/react-native-android-sample/tree/redux\n$ tree .\n.\n\u251c\u2500\u2500 android(\u8272\u3005)\n\u251c\u2500\u2500 ios(\u8272\u3005)\n\u2502\n\u251c\u2500\u2500 src\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.tsx\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 counter\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Container.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Counter.tsx\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 module.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 __tests__\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 Container-test.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 Counter-test.tsx\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 module-test.ts\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 Store.ts\n\u251c\u2500\u2500 testConfig\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 require.js\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 tsconfig.json\n\u251c\u2500\u2500 app.json\n\u251c\u2500\u2500 index.android.js\n\u251c\u2500\u2500 index.ios.js\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 tsconfig.json\n\n\u5927\u304d\u304f\u3001\n\nsrc\n\n\nTS\u30b3\u30fc\u30c9\uff06\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\n\n\ntestConfig\n\n\n\u30c6\u30b9\u30c8\u7528\u306epolyfill\u3084\u8a2d\u5b9a\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7fa4\n\n\u3068\u3044\u3046\u611f\u3058\u3067\u3001\u305d\u3053\u307e\u3067\u8907\u96d1\u3067\u306f\u306a\u3044\u304b\u3068\u3002\n\u9806\u756a\u306b\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7fa4\n\u307e\u305a\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u3002\n\npackage.json\n\npackage.json\n{\n  \"name\": \"react-native-android-sample\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"start\": \"node node_modules/react-native/local-cli/cli.js start --skipflow\",\n    \"android\": \"node node_modules/react-native/local-cli/cli.js run-android\",\n    \"test:all\": \"mocha ./testConfig/require.js ./src/**/*-test.tsx ./src/**/*-test.ts\",\n    \"test:unit\": \"mocha ./testConfig/require.js \",\n    \"build\": \"tsc\",\n    \"build:watch\": \"tsc --watch\"\n  },\n  \"dependencies\": {\n    \"react\": \"15.4.2\",\n    \"react-native\": \"0.41.2\",\n    \"react-redux\": \"5.0.3\",\n    \"redux\": \"3.6.0\"\n  },\n  \"devDependencies\": {\n    \"@types/chai\": \"3.4.35\",\n    \"@types/enzyme\": \"2.7.5\",\n    \"@types/mocha\": \"2.2.39\",\n    \"@types/react\": \"15.0.12\",\n    \"@types/react-native\": \"0.37.13\",\n    \"@types/react-redux\": \"4.4.36\",\n    \"@types/sinon\": \"1.16.35\",\n    \"chai\": \"3.5.0\",\n    \"enzyme\": \"2.7.1\",\n    \"mocha\": \"3.2.0\",\n    \"react-addons-test-utils\": \"15.4.2\",\n    \"react-dom\": \"15.4.2\",\n    \"react-native-mock\": \"0.3.1\",\n    \"react-test-renderer\": \"15.4.2\",\n    \"sinon\": \"1.17.7\",\n    \"ts-node\": \"2.1.0\",\n    \"typescript\": \"2.2.1\"\n  }\n}\n\n\n\u3061\u3087\u3063\u3068\u591a\u3044\u3067\u3059\u304c\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\uff08\u3061\u306a\u307f\u306b\u524d\u63d0\u3068\u3057\u3066\u3001React Native\u306fbundle\u3055\u308c\u305fJS\u3092\u30a2\u30d7\u30ea\u304c\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002\n\u958b\u767a\u6642\u306b\u306f\u3001\u6bce\u56de\u5168\u90e8\u30d0\u30f3\u30c9\u30eb\u3059\u308b\u306e\u306f\u9762\u5012\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u6700\u521d\u304b\u3089watch\u7684\u306a\u6a5f\u80fd\u304c\u5099\u308f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u5909\u66f4\u5206\u3092\u5dee\u5206\u30d3\u30eb\u30c9\u3057\u3066js\u30b3\u30fc\u30c9\u3092\u914d\u4fe1\u3059\u308b\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3066\u3066\u3001\u30a2\u30d7\u30ea\u304c\u305d\u3053\u304b\u3089bundle.js\u3092\u547c\u3076\u3053\u3068\u3067\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\u306a\u304a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fport:8081\u3067\u3084\u308a\u3068\u308a\u3057\u307e\u3059\u3002\uff09\n\nscripts\n\n\nstart\nreact native\u306e\u30b3\u30fc\u30c9\u3092\u30d0\u30d9\u3063\u3066\u30a2\u30d7\u30ea\u306b\u55b0\u308f\u305b\u308b\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\nandroid\nandroid\u30a2\u30d7\u30ea\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\n\u5185\u90e8\u3067\u4e0a\u8a18\u30b5\u30fc\u30d0\u30fc\u3092\u53c2\u7167\u3059\u308b\u305f\u3081\u306eport forwarding\u3082\u884c\u3044\u307e\u3059\u3002\ntest:all\n\u5f8c\u8ff0\u3057\u307e\u3059\u304c\u3001mocha\u3067\u5168\u90e8\u306e\u30c6\u30b9\u30c8\u3092\u884c\u3044\u307e\u3059\u3002\nbuild\nTypeScript\u30b3\u30fc\u30c9\u3092JS\u3078\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\n\u4f9d\u5b58\u89e3\u6c7a\u306fReact Native\u306b\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u308bbabel\u304c\u3084\u308b\u306e\u3067\u4e0d\u8981\u3067\u3059\u3002\n\n\ndependencies\n\n\nReact\u3084React Native\u3092\u3084\u308b\u4e0a\u3067\u306e\u6700\u5c0f\u30bb\u30c3\u30c8\u3092\u9078\u3073\u307e\u3057\u305f\u3002\n\n\ndevDependencies\n\n\n\u578b\u5b9a\u7fa9\u7cfb\u3084\u30c6\u30b9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u306a\u3069\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n\uff08\u3082\u3046\u5c11\u3057\u30b9\u30ea\u30e0\u306b\u3067\u304d\u308b\u304b\u3082\u3002\u3002\uff09\n\n\n\n\ntsconfig.json\n\ntsconfig.json\n{\n  \"compilerOptions\": {\n    \"strictNullChecks\": true,\n    \"noUnusedLocals\" : true,\n    \"target\": \"ES2017\",\n    \"module\": \"ES2015\",\n    \"noImplicitAny\": true,\n    \"lib\": [\"dom\", \"ES2017\"],\n    \"moduleResolution\": \"node\",\n    \"rootDir\": \"src\",\n    \"outDir\": \"./dist/\",\n    \"jsx\": \"react-native\"\n  },\n  \"exclude\": [\n    \"index.android.js\",\n    \"dist\",\n    \"node_modules\"\n  ]\n}\n\n\n\u30c1\u30a7\u30c3\u30af\u3092\u53b3\u3057\u304f\u3059\u308b\u7cfb\u306f\u597d\u307f\u3067\u5165\u308c\u3066\u3082\u3089\u3046\u3068\u3057\u3066\u3001\n\n\"jsx\": \"react-native\"\n\n\nreact-native\u5411\u3051\u306eJS\u3092\u751f\u6210\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u7c21\u5358\u306b\u8a00\u3046\u3068\u3001jsx\u306e\u8a18\u6cd5\u3092\u7dad\u6301\u3057\u3066\u5410\u304d\u51fa\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\n\n\ntarget / module\n\n\nbabel\u3067es6\u8a18\u6cd5\u3092\u8aad\u3081\u308b\u306e\u3067\u3001\u305d\u306e\u307e\u307e\u5410\u304d\u51fa\u3057\u307e\u3059\u3002\nbabel\u304casync/await\u307e\u3067\u30b5\u30dd\u30fc\u30c8\u3057\u3061\u3083\u3063\u3066\u308b\u306e\u3067\u3001ES2017\u3067\u5410\u304d\u51fa\u3057\u307e\u3059\u3002\n\uff08\u3064\u3044\u3067\u8a00\u3046\u3068fetch\u3082\u5165\u3063\u3066\u308b\u306e\u3067\u3001polyfill\u4e0d\u8981\u3067\u3059\u3002\uff09\n\n\nrootDir / outDir\n\n\n\u5bfe\u8c61\u306fsrc\u4ee5\u4e0b\u306a\u306e\u3068\u3001\u30a2\u30d7\u30ea\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306eindex.js\u304cdist\u3092\u8aad\u307f\u306b\u884c\u304f\u3088\u3046\u306b\u3057\u3066\u308b\u306e\u3067\u3053\u3093\u306a\u5f62\u3002\n\n\n\n\u3061\u306a\u307f\u306b\u3001 \"jsx\": \"react-native\" \u3067\u5410\u3044\u305f\u30b3\u30fc\u30c9\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\ntsc\u3059\u308b\u524d.tsx\nimport * as React from 'react';\nimport {StyleSheet, Text, View, Button} from 'react-native';\nimport {CounterState} from './module';\nimport {ActionDispatcher} from './Container';\n\nconst styles: any = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#F5FCFF',\n  },\n  welcome: {\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 10,\n  },\n  instructions: {\n    textAlign: 'center',\n    color: '#333333',\n    marginBottom: 5,\n  },\n});\n\ninterface Props {\n  value: CounterState;\n  actions: ActionDispatcher;\n}\n\nexport class Counter extends React.Component<Props, {}> {\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <Text style={styles.welcome}>\n          {`Point: ${this.props.value.num}`}\n        </Text>\n        <Button\n          onPress={() => this.props.actions.increment(3)}\n          title=\"Increment\"\n        />\n        <Button\n          onPress={() => this.props.actions.decrement(2)}\n          title=\"Decrement\"\n        />\n      </View>\n    );\n  }\n}\n\n\n\ntsc\u3057\u305f\u5f8c.js\nimport * as React from 'react';\nimport { StyleSheet, Text, View, Button } from 'react-native';\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: '#F5FCFF',\n    },\n    welcome: {\n        fontSize: 20,\n        textAlign: 'center',\n        margin: 10,\n    },\n    instructions: {\n        textAlign: 'center',\n        color: '#333333',\n        marginBottom: 5,\n    },\n});\nexport class Counter extends React.Component {\n    render() {\n        return (<View style={styles.container}>\n        <Text style={styles.welcome}>\n          {`Point: ${this.props.value.num}`}\n        </Text>\n        <Button onPress={() => this.props.actions.increment(3)} title=\"Increment\"/>\n        <Button onPress={() => this.props.actions.decrement(2)} title=\"Decrement\"/>\n      </View>);\n    }\n}\n\n\n\u5341\u5206\u8aad\u307f\u3084\u3059\u3044\u304b\u306a\u3068\u601d\u3044\u307e\u3057\u305f\u3002\nES2017\u3067\u30d3\u30eb\u30c9\u3057\u3066\u3044\u308b\u306e\u3067\u3001async/await\u3082\u305d\u306e\u307e\u307e\u51fa\u529b\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\u7279\u306b\u89e3\u8aac\u3059\u308b\u3053\u3068\u3082\u306a\u3044\u30b3\u30fc\u30c9\u306a\u306e\u3067\u3001\u5fc5\u8981\u304c\u3042\u308c\u3070\u898b\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\u30dc\u30bf\u30f3\u304c2\u3064\u51fa\u3066\u304d\u3066\u3001\u52a0\u7b97/\u6e1b\u7b97\u3092\u884c\u3046\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\nhttps://github.com/uryyyyyyy/react-native-android-sample/tree/redux/src\n\n\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\n\n\u8a2d\u5b9a\u7cfb\npackage.json\u306b\u3053\u3093\u306a\u8a18\u8ff0\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\"test:all\": \"mocha ./testConfig/require.js ./src/**/*-test.tsx ./src/**/*-test.ts\"\n\nconfg\u7cfb\u306e\u30b3\u30fc\u30c9\u3092\u8aad\u307f\u8fbc\u3093\u3060\u3042\u3068\u306b\u3001-test.ts(x)\u3068\u3044\u3046\u540d\u524d\u306e\u30b3\u30fc\u30c9\u3092\u5168\u3066\u30c6\u30b9\u30c8\u3059\u308b\u7528\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u30021\u30d5\u30a1\u30a4\u30eb\u3060\u3051\u30c6\u30b9\u30c8\u3057\u305f\u3051\u308c\u3070 test:unit \u306e\u5f8c\u306b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u9078\u629e\u3059\u308b\u3068\u30c6\u30b9\u30c8\u3067\u304d\u307e\u3059\u3002\n\u3055\u3066\u3001\u3053\u3053\u306erequire.js\u306e\u5b9a\u7fa9\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n\ntestConfig/require.js\nrequire('ts-node').register({project: './testConfig/tsconfig.json'});\nrequire('react-native-mock/mock');\n\n\n\nts-node\n\n\nTypeScript\u30b3\u30fc\u30c9\u3092\u305d\u306e\u307e\u307eNode\u4e0a\u3067\u5b9f\u884c\u3067\u304d\u308b\u30c4\u30fc\u30eb\u3002\n\u3053\u3053\u3067\u306f\u3001\u30c6\u30b9\u30c8\u7528\u306etsconfig\u3092\u8aad\u307e\u305b\u3066\u5b9f\u884c\u3057\u3066\u3044\u308b\u3002\n\n\nreact-native-mock\n\n\nreact-native\u306e\u30b3\u30fc\u30c9\u306f\u5185\u90e8\u3067 __DEV__ \u306a\u3069\u306b\u3088\u308b\u5206\u5c90\u3092\u3057\u3066\u3044\u305f\u308a\u3059\u308b\u305f\u3081\u3001\u305d\u308c\u3089\u3092\u30e2\u30c3\u30af\u3057\u3066Node\u4e0a\u3067\u30c6\u30b9\u30c8\u3057\u3084\u3059\u304f\u3057\u3066\u3044\u308b\u3082\u306e\u3002\n\n\n\n\u3061\u306a\u307f\u306b\u3001\u30c6\u30b9\u30c8\u7528\u306etsconfg\u3068\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u306e\u5b9a\u7fa9\u306f\u3053\u3061\u3089\u3067\u3059\u3002\n\u306a\u305c\u5fc5\u8981\u304b\u3068\u3044\u3046\u3068\u3001\u3053\u3061\u3089\u3067\u306fbabel\u3092\u565b\u307e\u305b\u306a\u3044\u305f\u3081ES Modules\u3068jsx\u8a18\u6cd5\u304c\u4f7f\u3048\u306a\u3044\u3053\u3068\u306b\u3042\u308a\u307e\u3059\u3002\n\"module\": \"commonjs\" \u3068\u3001\"jsx\": \"react\" \u304c\u5927\u304d\u306a\u5909\u66f4\u70b9\u3067\u3059\u3002\n\ntestConfig/tsconfig.json\n{\n  \"compilerOptions\": {\n    \"strictNullChecks\": true,\n    \"noUnusedLocals\" : true,\n    \"target\": \"ES2017\",\n    \"module\": \"commonjs\",\n    \"lib\": [\"dom\", \"ES2017\"],\n    \"noImplicitAny\": true,\n    \"moduleResolution\": \"node\",\n    \"jsx\": \"react\"\n  },\n  \"include\": [\n    \"../src\"\n  ],\n  \"exclude\": [\n    \"index.android.js\",\n    \"dist\",\n    \"node_modules\"\n  ]\n}\n\n\n\n\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\n\u3053\u3061\u3089\u3082\u30b3\u30fc\u30c9\u81ea\u4f53\u306f\u666e\u901a\u3067\u3059\u3002\nreducer/Component/ActionDispatcher(\u975e\u540c\u671f\u51e6\u7406\u3082\u542b\u3081\u305f\u30ed\u30b8\u30c3\u30af)\u306e\u30c6\u30b9\u30c8\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002\nhttps://github.com/uryyyyyyy/react-native-android-sample/tree/redux/src/counter/__tests__\n\n\u307e\u3068\u3081\n\u30bd\u30fc\u30b9\u30de\u30c3\u30d7\u3092\u5f15\u304d\u7d99\u3050\u65b9\u6cd5\u304c\u308f\u304b\u3089\u306a\u3044\u3053\u3068\u304c\u61f8\u5ff5\u3067\u3057\u305f\u304c\u3001TS2.2\u306e\u304a\u304b\u3052\u3067\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u5f8c\u306ejs\u3067\u3082\u53ef\u8aad\u6027\u306b\u554f\u984c\u304c\u7121\u3055\u305d\u3046\u306a\u306e\u3067\u3053\u308c\u3067\u884c\u3051\u305d\u3046\u306a\u6c17\u304c\u3057\u3066\u3044\u307e\u3059\u3002\n## \u306f\u3058\u3081\u306b\n\n\u67d0\u6848\u4ef6\u3067\u3057\u3070\u3089\u304fReact Native + Flow \u3092\u4f7f\u3063\u3066\u305f\u306e\u3067\u3059\u304c\u3001\u3084\u3063\u3071\u308aTypeScript\u306e\u65b9\u304cIDE\u306e\u88dc\u5b8c\u3084\u578b\u5b89\u5168\u6027\u306e\u9762\u3067\u826f\u3044\u306a\u3068\u601d\u3044\u3001React Native\u3092TypeScript\u5316\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u305d\u308c\u305e\u308c\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u610f\u5473\u306a\u3069\u3082\u53ef\u80fd\u306a\u9650\u308a\u8aac\u660e\u3057\u3066\u3044\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n## \u3053\u306e\u8a18\u4e8b\u306e\u30b4\u30fc\u30eb\n\n- React Native\u306bTypeScript\u3092\u5165\u308c\u308b\n- Redux\u3082\u5165\u308c\u308b\n- \u305d\u308c\u3089\u306e\u30c6\u30b9\u30c8\u3084\u52d5\u4f5c\u78ba\u8a8d\u3092\u3057\u3084\u3059\u304f\u3059\u308b\u3002\n\n## \u74b0\u5883\n\n- react: 15.4.2\n- React Native: 0.41\n- TypeScript: 2.2\n- NodeJS: 7.6~\n- mocha\n- enzyme\n\n## \u69cb\u6210\n\n\u4eca\u56de\u306e\u69cb\u6210\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n\n\u57fa\u672c\u7684\u306b\u306f\u3001tsc\u3067\u30d3\u30eb\u30c9\u3057\u3066\u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092index.js\u306b\u55b0\u308f\u305b\u308b\u5f62\u3092\u53d6\u3063\u3066\u3044\u307e\u3059\u3002\nTS\u306e\u30bd\u30fc\u30b9\u30de\u30c3\u30d7\u3092debug\u6642\u306b\u5f15\u304d\u7d99\u3052\u3066\u306a\u3044\u306e\u304c\u96e3\u70b9\u3067\u3059\u304c\u3001\u305d\u3053\u306fTS2.2\u304b\u3089\u5165\u3063\u305f `\"jsx\": \"react-native\"` \u3092\u4f7f\u3046\u3053\u3068\u3067\u30c7\u30d0\u30c3\u30b0\u306b\u3061\u3087\u3046\u3069\u826f\u3044JS\u3092\u5410\u3044\u3066\u304f\u308c\u308b\u306e\u3067\u3001\u305d\u3093\u306a\u306b\u56f0\u3089\u306a\u3044\u304b\u3082\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\u5168\u4f53\u306f\u3053\u3061\u3089\u3067\u3059\u3002\n\uff08android\u3057\u304b\u8f09\u305b\u3066\u306a\u3044\u3067\u3059\u304c\u3001ios\u3082\u540c\u69d8\u306b\u52d5\u304b\u305b\u307e\u3059\u3002\uff09\n\nhttps://github.com/uryyyyyyy/react-native-android-sample/tree/redux\n\n```\n$ tree .\n.\n\u251c\u2500\u2500 android(\u8272\u3005)\n\u251c\u2500\u2500 ios(\u8272\u3005)\n\u2502\n\u251c\u2500\u2500 src\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.tsx\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 counter\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Container.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Counter.tsx\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 module.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 __tests__\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 Container-test.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 Counter-test.tsx\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 module-test.ts\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 Store.ts\n\u251c\u2500\u2500 testConfig\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 require.js\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 tsconfig.json\n\u251c\u2500\u2500 app.json\n\u251c\u2500\u2500 index.android.js\n\u251c\u2500\u2500 index.ios.js\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 tsconfig.json\n```\n\n\u5927\u304d\u304f\u3001\n\n- src\n  - TS\u30b3\u30fc\u30c9\uff06\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\n- testConfig\n  - \u30c6\u30b9\u30c8\u7528\u306epolyfill\u3084\u8a2d\u5b9a\n- \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7fa4\n\n\u3068\u3044\u3046\u611f\u3058\u3067\u3001\u305d\u3053\u307e\u3067\u8907\u96d1\u3067\u306f\u306a\u3044\u304b\u3068\u3002\n\u9806\u756a\u306b\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n## \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7fa4\n\n\u307e\u305a\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u3002\n\n### package.json\n\n```json:package.json\n{\n  \"name\": \"react-native-android-sample\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"start\": \"node node_modules/react-native/local-cli/cli.js start --skipflow\",\n    \"android\": \"node node_modules/react-native/local-cli/cli.js run-android\",\n    \"test:all\": \"mocha ./testConfig/require.js ./src/**/*-test.tsx ./src/**/*-test.ts\",\n    \"test:unit\": \"mocha ./testConfig/require.js \",\n    \"build\": \"tsc\",\n    \"build:watch\": \"tsc --watch\"\n  },\n  \"dependencies\": {\n    \"react\": \"15.4.2\",\n    \"react-native\": \"0.41.2\",\n    \"react-redux\": \"5.0.3\",\n    \"redux\": \"3.6.0\"\n  },\n  \"devDependencies\": {\n    \"@types/chai\": \"3.4.35\",\n    \"@types/enzyme\": \"2.7.5\",\n    \"@types/mocha\": \"2.2.39\",\n    \"@types/react\": \"15.0.12\",\n    \"@types/react-native\": \"0.37.13\",\n    \"@types/react-redux\": \"4.4.36\",\n    \"@types/sinon\": \"1.16.35\",\n    \"chai\": \"3.5.0\",\n    \"enzyme\": \"2.7.1\",\n    \"mocha\": \"3.2.0\",\n    \"react-addons-test-utils\": \"15.4.2\",\n    \"react-dom\": \"15.4.2\",\n    \"react-native-mock\": \"0.3.1\",\n    \"react-test-renderer\": \"15.4.2\",\n    \"sinon\": \"1.17.7\",\n    \"ts-node\": \"2.1.0\",\n    \"typescript\": \"2.2.1\"\n  }\n}\n```\n\n\u3061\u3087\u3063\u3068\u591a\u3044\u3067\u3059\u304c\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n\uff08\u3061\u306a\u307f\u306b\u524d\u63d0\u3068\u3057\u3066\u3001React Native\u306fbundle\u3055\u308c\u305fJS\u3092\u30a2\u30d7\u30ea\u304c\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002\n\u958b\u767a\u6642\u306b\u306f\u3001\u6bce\u56de\u5168\u90e8\u30d0\u30f3\u30c9\u30eb\u3059\u308b\u306e\u306f\u9762\u5012\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u6700\u521d\u304b\u3089watch\u7684\u306a\u6a5f\u80fd\u304c\u5099\u308f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u5909\u66f4\u5206\u3092\u5dee\u5206\u30d3\u30eb\u30c9\u3057\u3066js\u30b3\u30fc\u30c9\u3092\u914d\u4fe1\u3059\u308b\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3066\u3066\u3001\u30a2\u30d7\u30ea\u304c\u305d\u3053\u304b\u3089bundle.js\u3092\u547c\u3076\u3053\u3068\u3067\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\u306a\u304a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fport:8081\u3067\u3084\u308a\u3068\u308a\u3057\u307e\u3059\u3002\uff09\n\n- scripts\n  - start\n    - react native\u306e\u30b3\u30fc\u30c9\u3092\u30d0\u30d9\u3063\u3066\u30a2\u30d7\u30ea\u306b\u55b0\u308f\u305b\u308b\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\n  - android\n    - android\u30a2\u30d7\u30ea\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\n    - \u5185\u90e8\u3067\u4e0a\u8a18\u30b5\u30fc\u30d0\u30fc\u3092\u53c2\u7167\u3059\u308b\u305f\u3081\u306eport forwarding\u3082\u884c\u3044\u307e\u3059\u3002\n  - test:all\n    - \u5f8c\u8ff0\u3057\u307e\u3059\u304c\u3001mocha\u3067\u5168\u90e8\u306e\u30c6\u30b9\u30c8\u3092\u884c\u3044\u307e\u3059\u3002\n  - build\n    - TypeScript\u30b3\u30fc\u30c9\u3092JS\u3078\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\n    - \u4f9d\u5b58\u89e3\u6c7a\u306fReact Native\u306b\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u308bbabel\u304c\u3084\u308b\u306e\u3067\u4e0d\u8981\u3067\u3059\u3002\n- dependencies\n  - React\u3084React Native\u3092\u3084\u308b\u4e0a\u3067\u306e\u6700\u5c0f\u30bb\u30c3\u30c8\u3092\u9078\u3073\u307e\u3057\u305f\u3002\n- devDependencies\n  - \u578b\u5b9a\u7fa9\u7cfb\u3084\u30c6\u30b9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u306a\u3069\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n  - \uff08\u3082\u3046\u5c11\u3057\u30b9\u30ea\u30e0\u306b\u3067\u304d\u308b\u304b\u3082\u3002\u3002\uff09\n\n### tsconfig.json\n\n```json:tsconfig.json\n{\n  \"compilerOptions\": {\n    \"strictNullChecks\": true,\n    \"noUnusedLocals\" : true,\n    \"target\": \"ES2017\",\n    \"module\": \"ES2015\",\n    \"noImplicitAny\": true,\n    \"lib\": [\"dom\", \"ES2017\"],\n    \"moduleResolution\": \"node\",\n    \"rootDir\": \"src\",\n    \"outDir\": \"./dist/\",\n    \"jsx\": \"react-native\"\n  },\n  \"exclude\": [\n    \"index.android.js\",\n    \"dist\",\n    \"node_modules\"\n  ]\n}\n```\n\n\u30c1\u30a7\u30c3\u30af\u3092\u53b3\u3057\u304f\u3059\u308b\u7cfb\u306f\u597d\u307f\u3067\u5165\u308c\u3066\u3082\u3089\u3046\u3068\u3057\u3066\u3001\n\n- \"jsx\": \"react-native\"\n  - react-native\u5411\u3051\u306eJS\u3092\u751f\u6210\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n  - \u7c21\u5358\u306b\u8a00\u3046\u3068\u3001jsx\u306e\u8a18\u6cd5\u3092\u7dad\u6301\u3057\u3066\u5410\u304d\u51fa\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\n- target / module\n  - babel\u3067es6\u8a18\u6cd5\u3092\u8aad\u3081\u308b\u306e\u3067\u3001\u305d\u306e\u307e\u307e\u5410\u304d\u51fa\u3057\u307e\u3059\u3002\n  - babel\u304casync/await\u307e\u3067\u30b5\u30dd\u30fc\u30c8\u3057\u3061\u3083\u3063\u3066\u308b\u306e\u3067\u3001ES2017\u3067\u5410\u304d\u51fa\u3057\u307e\u3059\u3002\n  - \uff08\u3064\u3044\u3067\u8a00\u3046\u3068fetch\u3082\u5165\u3063\u3066\u308b\u306e\u3067\u3001polyfill\u4e0d\u8981\u3067\u3059\u3002\uff09\n- rootDir / outDir\n  - \u5bfe\u8c61\u306fsrc\u4ee5\u4e0b\u306a\u306e\u3068\u3001\u30a2\u30d7\u30ea\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306eindex.js\u304cdist\u3092\u8aad\u307f\u306b\u884c\u304f\u3088\u3046\u306b\u3057\u3066\u308b\u306e\u3067\u3053\u3093\u306a\u5f62\u3002\n\n\u3061\u306a\u307f\u306b\u3001 `\"jsx\": \"react-native\"` \u3067\u5410\u3044\u305f\u30b3\u30fc\u30c9\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n```ts:tsc\u3059\u308b\u524d.tsx\nimport * as React from 'react';\nimport {StyleSheet, Text, View, Button} from 'react-native';\nimport {CounterState} from './module';\nimport {ActionDispatcher} from './Container';\n\nconst styles: any = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#F5FCFF',\n  },\n  welcome: {\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 10,\n  },\n  instructions: {\n    textAlign: 'center',\n    color: '#333333',\n    marginBottom: 5,\n  },\n});\n\ninterface Props {\n  value: CounterState;\n  actions: ActionDispatcher;\n}\n\nexport class Counter extends React.Component<Props, {}> {\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <Text style={styles.welcome}>\n          {`Point: ${this.props.value.num}`}\n        </Text>\n        <Button\n          onPress={() => this.props.actions.increment(3)}\n          title=\"Increment\"\n        />\n        <Button\n          onPress={() => this.props.actions.decrement(2)}\n          title=\"Decrement\"\n        />\n      </View>\n    );\n  }\n}\n```\n\n```js:tsc\u3057\u305f\u5f8c.js\nimport * as React from 'react';\nimport { StyleSheet, Text, View, Button } from 'react-native';\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: '#F5FCFF',\n    },\n    welcome: {\n        fontSize: 20,\n        textAlign: 'center',\n        margin: 10,\n    },\n    instructions: {\n        textAlign: 'center',\n        color: '#333333',\n        marginBottom: 5,\n    },\n});\nexport class Counter extends React.Component {\n    render() {\n        return (<View style={styles.container}>\n        <Text style={styles.welcome}>\n          {`Point: ${this.props.value.num}`}\n        </Text>\n        <Button onPress={() => this.props.actions.increment(3)} title=\"Increment\"/>\n        <Button onPress={() => this.props.actions.decrement(2)} title=\"Decrement\"/>\n      </View>);\n    }\n}\n```\n\n\u5341\u5206\u8aad\u307f\u3084\u3059\u3044\u304b\u306a\u3068\u601d\u3044\u307e\u3057\u305f\u3002\nES2017\u3067\u30d3\u30eb\u30c9\u3057\u3066\u3044\u308b\u306e\u3067\u3001async/await\u3082\u305d\u306e\u307e\u307e\u51fa\u529b\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n## \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\n\u7279\u306b\u89e3\u8aac\u3059\u308b\u3053\u3068\u3082\u306a\u3044\u30b3\u30fc\u30c9\u306a\u306e\u3067\u3001\u5fc5\u8981\u304c\u3042\u308c\u3070\u898b\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\u30dc\u30bf\u30f3\u304c2\u3064\u51fa\u3066\u304d\u3066\u3001\u52a0\u7b97/\u6e1b\u7b97\u3092\u884c\u3046\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\nhttps://github.com/uryyyyyyy/react-native-android-sample/tree/redux/src\n\n## \u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\n\n### \u8a2d\u5b9a\u7cfb\n\npackage.json\u306b\u3053\u3093\u306a\u8a18\u8ff0\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n```\n\"test:all\": \"mocha ./testConfig/require.js ./src/**/*-test.tsx ./src/**/*-test.ts\"\n```\n\nconfg\u7cfb\u306e\u30b3\u30fc\u30c9\u3092\u8aad\u307f\u8fbc\u3093\u3060\u3042\u3068\u306b\u3001`-test.ts(x)`\u3068\u3044\u3046\u540d\u524d\u306e\u30b3\u30fc\u30c9\u3092\u5168\u3066\u30c6\u30b9\u30c8\u3059\u308b\u7528\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u30021\u30d5\u30a1\u30a4\u30eb\u3060\u3051\u30c6\u30b9\u30c8\u3057\u305f\u3051\u308c\u3070 `test:unit` \u306e\u5f8c\u306b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u9078\u629e\u3059\u308b\u3068\u30c6\u30b9\u30c8\u3067\u304d\u307e\u3059\u3002\n\n\u3055\u3066\u3001\u3053\u3053\u306erequire.js\u306e\u5b9a\u7fa9\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n\n```js:testConfig/require.js\nrequire('ts-node').register({project: './testConfig/tsconfig.json'});\nrequire('react-native-mock/mock');\n```\n\n- ts-node\n  - TypeScript\u30b3\u30fc\u30c9\u3092\u305d\u306e\u307e\u307eNode\u4e0a\u3067\u5b9f\u884c\u3067\u304d\u308b\u30c4\u30fc\u30eb\u3002\n  - \u3053\u3053\u3067\u306f\u3001\u30c6\u30b9\u30c8\u7528\u306etsconfig\u3092\u8aad\u307e\u305b\u3066\u5b9f\u884c\u3057\u3066\u3044\u308b\u3002\n- react-native-mock\n  - react-native\u306e\u30b3\u30fc\u30c9\u306f\u5185\u90e8\u3067 `__DEV__` \u306a\u3069\u306b\u3088\u308b\u5206\u5c90\u3092\u3057\u3066\u3044\u305f\u308a\u3059\u308b\u305f\u3081\u3001\u305d\u308c\u3089\u3092\u30e2\u30c3\u30af\u3057\u3066Node\u4e0a\u3067\u30c6\u30b9\u30c8\u3057\u3084\u3059\u304f\u3057\u3066\u3044\u308b\u3082\u306e\u3002\n\n\u3061\u306a\u307f\u306b\u3001\u30c6\u30b9\u30c8\u7528\u306etsconfg\u3068\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u306e\u5b9a\u7fa9\u306f\u3053\u3061\u3089\u3067\u3059\u3002\n\u306a\u305c\u5fc5\u8981\u304b\u3068\u3044\u3046\u3068\u3001\u3053\u3061\u3089\u3067\u306fbabel\u3092\u565b\u307e\u305b\u306a\u3044\u305f\u3081ES Modules\u3068jsx\u8a18\u6cd5\u304c\u4f7f\u3048\u306a\u3044\u3053\u3068\u306b\u3042\u308a\u307e\u3059\u3002\n `\"module\": \"commonjs\"` \u3068\u3001`\"jsx\": \"react\"` \u304c\u5927\u304d\u306a\u5909\u66f4\u70b9\u3067\u3059\u3002\n\n```json:testConfig/tsconfig.json\n{\n  \"compilerOptions\": {\n    \"strictNullChecks\": true,\n    \"noUnusedLocals\" : true,\n    \"target\": \"ES2017\",\n    \"module\": \"commonjs\",\n    \"lib\": [\"dom\", \"ES2017\"],\n    \"noImplicitAny\": true,\n    \"moduleResolution\": \"node\",\n    \"jsx\": \"react\"\n  },\n  \"include\": [\n    \"../src\"\n  ],\n  \"exclude\": [\n    \"index.android.js\",\n    \"dist\",\n    \"node_modules\"\n  ]\n}\n```\n\n### \u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\n\n\u3053\u3061\u3089\u3082\u30b3\u30fc\u30c9\u81ea\u4f53\u306f\u666e\u901a\u3067\u3059\u3002\nreducer/Component/ActionDispatcher(\u975e\u540c\u671f\u51e6\u7406\u3082\u542b\u3081\u305f\u30ed\u30b8\u30c3\u30af)\u306e\u30c6\u30b9\u30c8\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002\n\nhttps://github.com/uryyyyyyy/react-native-android-sample/tree/redux/src/counter/__tests__\n\n## \u307e\u3068\u3081\n\n\u30bd\u30fc\u30b9\u30de\u30c3\u30d7\u3092\u5f15\u304d\u7d99\u3050\u65b9\u6cd5\u304c\u308f\u304b\u3089\u306a\u3044\u3053\u3068\u304c\u61f8\u5ff5\u3067\u3057\u305f\u304c\u3001TS2.2\u306e\u304a\u304b\u3052\u3067\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u5f8c\u306ejs\u3067\u3082\u53ef\u8aad\u6027\u306b\u554f\u984c\u304c\u7121\u3055\u305d\u3046\u306a\u306e\u3067\u3053\u308c\u3067\u884c\u3051\u305d\u3046\u306a\u6c17\u304c\u3057\u3066\u3044\u307e\u3059\u3002\n", "tags": ["reactnative", "TypeScript", "redux", "enzyme", "mocha"]}