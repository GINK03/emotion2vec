{"context": " More than 1 year has passed since last update.underscore\u3082lodash\u3082\u8a73\u3057\u304f\u306a\u3044\u306e\u3067\u3001\u52c9\u5f37\u534a\u5206\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8aad\u3080\u3002\n\n\u5229\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\nunderscore.js(v1.8.3)\nlodash.js(v3.10.0)\n\nforeach\u3068\u306f\n\u914d\u5217/\u9023\u60f3\u914d\u5217 \u554f\u308f\u305a\u306b\u5229\u7528\u3067\u304d\u308b\u7e70\u308a\u8fd4\u3057\u51e6\u7406\u3092\u884c\u3048\u308b\u95a2\u6570\u3002\n\u305f\u3068\u3048\u3070\n'use strict';\nvar _ = require( \"underscore\" );\n\nvar arr = [ 1, 2, 3, 4, 5 ];\n\n_.each( arr, function(element, index, array) {\n  console.log( 'element : ' + element + ' index: ' + index );\n\n});\n\n\u3057\u305f\u5834\u5408\u3082\n'use strict';\nvar _ = require( \"underscore\" );\n\nvar arr = { 1: 1, 2: 2, 3: 3, 4: 4, 5: 5 };\n\n_.each( arr, function(element, index, array) {\n  console.log( 'element :' + element + ' index:' + index );\n});\n\n\n\u3057\u305f\u5834\u5408\u3082\u540c\u3058\u3088\u3046\u306b\nelement : 1 index: 1\nelement : 2 index: 2\nelement : 3 index: 3\nelement : 4 index: 4\nelement : 5 index: 5\n\n\u3068\u3044\u3046\u8fd4\u308a\u5024\u304c\u671f\u5f85\u3067\u304d\u307e\u3059\u3002\n\u7d20\u3067\u66f8\u3044\u305f\u5834\u5408\nvar arr = [ 1, 2, 3, 4, 5 ];\n\nfor( var i = 0; i < arr.length; i++ ) {\n\n    console.log( 'element:' + arr[i] + ' index:' + i );\n}\n\n\u3068\u304b\nvar arr = { 1: 1, 2: 2, 3: 3, 4: 4, 5: 5 };\nfor( var key in arr ) {\n    console.log( 'element:' + arr[key] + ' index:' + key );\n}\n\n\u3053\u3093\u306a\u611f\u3058\n\n\u6bd4\u8f03\n\nunderscore.each\n\n\u30b3\u30fc\u30c9\u306f\u3053\u306e\u3078\u3093\u3002\n\nunderscore.each\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n\n\nunderscore\u306e\u5834\u5408\u306f\u3001object\u304barray\u304b\u3092\u5224\u5b9a\u3057\u3001for\u6587\u3067\u51e6\u7406\u3092\u3057\u3066\u3044\u308b\u3002\n\u914d\u5217\u306e\u5834\u5408\u306fif\u6587\u3001\u914d\u5217\u3067\u306f\u306a\u3044\u5834\u5408\u306felse\u3067\u51e6\u7406\u3002\n\u305f\u3060\u306eobject\u306e\u5834\u5408\u306f_.keys\u3092\u7528\u3044\u3066\u51e6\u7406\u3002\n\u4e2d\u3067\u4f7f\u308f\u308c\u3066\u3044\u308bisArrayLike\u306f\u4ee5\u4e0b\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n\u305d\u306e\u4e2d\u3067\u4f7f\u308f\u308c\u3066\u3044\u308bproperty( 'length' )\u306f\u3053\u308c\nvar property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n//\u3053\u306e\u3042\u305f\u308a\u304b\u3089\u3088\u304f\u308f\u304b\u3089\u306a\u3044\nobj\u304cnull\u3060\u3063\u305f\u3089\u3001void 0\u3092\u8fd4\u3059\nobject\u3060\u3063\u305f\u3089obj[key]\u3092\u8fd4\u3059\n\u4eca\u56de 'length' \u3092\u4e0e\u3048\u3066\u3044\u308b\u306e\u3067\ngetLength = function( obj ) {\n\n    return obj == null ? void 0 : obj['length'];\n\n}\n\n\u3068\u306a\u3063\u3066\u3001void 0\u304b\u914d\u5217\u306elength\u3092\u8fd4\u3057\u3066\u3044\u308b\n(\u3053\u3046\u3044\u3046\u66f8\u304d\u65b9\u304c\u3042\u308b\u306e\u304b\u30fb\u30fb\u30fb)\n\u306a\u306e\u3067\u3001\nvar length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n\n\u3067\u306fgetLength\u3067\u8fd4\u3063\u3066\u304d\u305f\u5024\u304c\u6b63\u5e38\u306a\u7bc4\u56f2\u306enumber\u3060\u3063\u305f\u3089Array\u3067\u3042\u308b\u3068\u307f\u306a\u3057\u3066\u3044\u308b\uff08\u3068\u601d\u3046\uff09\n\u914d\u5217\u304b\u914d\u5217\u3058\u3083\u306a\u3044\u304b\u3067\u5206\u5c90\u3057\u305f\u3042\u3068\u306foptimizeCb\u3057\u305fiteratee\u3092\u56de\u3057\u3066\u3044\u308b\n\nlodash.forEach\n\n\u30b3\u30fc\u30c9\u306f\u3053\u306e\u3042\u305f\u308a\u3002underscore\u306f1\u30d5\u30a1\u30a4\u30eb\u3060\u3063\u305f\u304clodash\u306f\u5206\u5272\u3055\u308c\u3066\u3044\u308b\u3002\n\u3042\u3068lodash\u306e\u5834\u5408\u306f.each\u3067\u306f\u306a\u304f\u95a2\u6570\u7684\u306b\u306f.forEach\n(_.each\u306b\u3082\u30a8\u30a4\u30ea\u30a2\u30b9\u8cbc\u3089\u308c\u3066\u3044\u308b)\n\nlodash.forEach\n_.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n  console.log(n, key);\n});\n\n\nvar arrayEach = require('lodash._arrayeach'),\n    baseEach = require('lodash._baseeach'),\n    bindCallback = require('lodash._bindcallback'),\n    isArray = require('lodash.isarray');\n\nfunction createForEach(arrayFunc, eachFunc) {\n  return function(collection, iteratee, thisArg) {\n    return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n      ? arrayFunc(collection, iteratee)\n      : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n  };\n}\nvar forEach = createForEach(arrayEach, baseEach);\n\nmodule.exports = forEach;\n\n\u8d77\u70b9\u3068\u306a\u308b\u306e\u306f createForEach\u3002\n\uff08\u305d\u3082\u305d\u3082\u69cb\u9020\u81ea\u4f53\u304cunderscore\u3068\u9055\u3046\u3051\u3069\uff09\n\u914d\u5217/\u305d\u308c\u4ee5\u5916\u306e\u30c1\u30a7\u30c3\u30af\u306e\u969b\u306b\niteratee\u306etypeof\u306e\u30c1\u30a7\u30c3\u30af\u304c\u3042\u308b\u306e\u304cunderscore\u3068\u9055\u3046\u3063\u307d\u3055\u304c\u3042\u308b\n_.isArray\n\u3067\u914d\u5217\u304b\u3069\u3046\u304b\u306e\u30c1\u30a7\u30c3\u30af\n\n_.arrayeach\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n\n\n_.bindcallback\n\nfunction bindCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  if (thisArg === undefined) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n    case 5: return function(value, other, key, object, source) {\n      return func.call(thisArg, value, other, key, object, source);\n    };\n  }\n  return function() {\n    return func.apply(thisArg, arguments);\n  };\n}\n\nfunction identity(value) {\n  return value;\n}\n\n\n\u30fb\u30fb\u9577\u304f\u306a\u308a\u305d\u3046\u306a\u306e\u3067\u660e\u65e5\u306b\u7d9a\u304f\u30fb\u30fb\u30fb\nunderscore\u3082lodash\u3082\u8a73\u3057\u304f\u306a\u3044\u306e\u3067\u3001\u52c9\u5f37\u534a\u5206\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8aad\u3080\u3002\n\n##\u5229\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\n[underscore.js(v1.8.3)](https://github.com/jashkenas/underscore/tree/1.8.3)\n\n[lodash.js(v3.10.0)](https://github.com/lodash/lodash/tree/3.10.0-npm-packages)\n\n\n##foreach\u3068\u306f\n\u914d\u5217/\u9023\u60f3\u914d\u5217 \u554f\u308f\u305a\u306b\u5229\u7528\u3067\u304d\u308b\u7e70\u308a\u8fd4\u3057\u51e6\u7406\u3092\u884c\u3048\u308b\u95a2\u6570\u3002\n\n\u305f\u3068\u3048\u3070\n\n```javascript\n'use strict';\nvar _ = require( \"underscore\" );\n\nvar arr = [ 1, 2, 3, 4, 5 ];\n\n_.each( arr, function(element, index, array) {\n  console.log( 'element : ' + element + ' index: ' + index );\n \n});\n```\n\n\u3057\u305f\u5834\u5408\u3082\n\n```javascript\n'use strict';\nvar _ = require( \"underscore\" );\n\nvar arr = { 1: 1, 2: 2, 3: 3, 4: 4, 5: 5 };\n\n_.each( arr, function(element, index, array) {\n  console.log( 'element :' + element + ' index:' + index );\n});\n\n```\n\n\u3057\u305f\u5834\u5408\u3082\u540c\u3058\u3088\u3046\u306b\n\n```\nelement : 1 index: 1\nelement : 2 index: 2\nelement : 3 index: 3\nelement : 4 index: 4\nelement : 5 index: 5\n```\n\n\u3068\u3044\u3046\u8fd4\u308a\u5024\u304c\u671f\u5f85\u3067\u304d\u307e\u3059\u3002\n\n\n\u7d20\u3067\u66f8\u3044\u305f\u5834\u5408\n\n```javascript\nvar arr = [ 1, 2, 3, 4, 5 ];\n\nfor( var i = 0; i < arr.length; i++ ) {\n\n    console.log( 'element:' + arr[i] + ' index:' + i );\n}\n```\n\n\u3068\u304b\n\n```javascript\nvar arr = { 1: 1, 2: 2, 3: 3, 4: 4, 5: 5 };\nfor( var key in arr ) {\n    console.log( 'element:' + arr[key] + ' index:' + key );\n}\n```\n\n\u3053\u3093\u306a\u611f\u3058\n\n\n## \u6bd4\u8f03\n\n### [underscore.each](https://github.com/jashkenas/underscore/blob/1.8.3/underscore.js#L148)\n\n\u30b3\u30fc\u30c9\u306f\u3053\u306e\u3078\u3093\u3002\n\n```javascript:underscore.each\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n```\n\nunderscore\u306e\u5834\u5408\u306f\u3001object\u304barray\u304b\u3092\u5224\u5b9a\u3057\u3001for\u6587\u3067\u51e6\u7406\u3092\u3057\u3066\u3044\u308b\u3002\n\u914d\u5217\u306e\u5834\u5408\u306fif\u6587\u3001\u914d\u5217\u3067\u306f\u306a\u3044\u5834\u5408\u306felse\u3067\u51e6\u7406\u3002\n\n\u305f\u3060\u306eobject\u306e\u5834\u5408\u306f[_.keys](https://github.com/jashkenas/underscore/blob/1.8.3/underscore.js#L928)\u3092\u7528\u3044\u3066\u51e6\u7406\u3002\n\n\n\u4e2d\u3067\u4f7f\u308f\u308c\u3066\u3044\u308bisArrayLike\u306f\u4ee5\u4e0b\n\n```javascript\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n```\n\n\u305d\u306e\u4e2d\u3067\u4f7f\u308f\u308c\u3066\u3044\u308bproperty( 'length' )\u306f[\u3053\u308c](https://github.com/jashkenas/underscore/blob/1.8.3/underscore.js#L125)\n\n\n```javascript\nvar property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n```\n\n//\u3053\u306e\u3042\u305f\u308a\u304b\u3089\u3088\u304f\u308f\u304b\u3089\u306a\u3044\nobj\u304cnull\u3060\u3063\u305f\u3089\u3001void 0\u3092\u8fd4\u3059\nobject\u3060\u3063\u305f\u3089obj[key]\u3092\u8fd4\u3059\n\u4eca\u56de 'length' \u3092\u4e0e\u3048\u3066\u3044\u308b\u306e\u3067\n\n```javascript\ngetLength = function( obj ) {\n\n\treturn obj == null ? void 0 : obj['length'];\n\n}\n```\n\u3068\u306a\u3063\u3066\u3001void 0\u304b\u914d\u5217\u306elength\u3092\u8fd4\u3057\u3066\u3044\u308b\n(\u3053\u3046\u3044\u3046\u66f8\u304d\u65b9\u304c\u3042\u308b\u306e\u304b\u30fb\u30fb\u30fb)\n\n\u306a\u306e\u3067\u3001\n\n```javascript\nvar length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n```\n\n\u3067\u306fgetLength\u3067\u8fd4\u3063\u3066\u304d\u305f\u5024\u304c\u6b63\u5e38\u306a\u7bc4\u56f2\u306enumber\u3060\u3063\u305f\u3089Array\u3067\u3042\u308b\u3068\u307f\u306a\u3057\u3066\u3044\u308b\uff08\u3068\u601d\u3046\uff09\n\n\u914d\u5217\u304b\u914d\u5217\u3058\u3083\u306a\u3044\u304b\u3067\u5206\u5c90\u3057\u305f\u3042\u3068\u306f[optimizeCb](https://github.com/jashkenas/underscore/blob/1.8.3/underscore.js#L63)\u3057\u305fiteratee\u3092\u56de\u3057\u3066\u3044\u308b\n\n\n\n### [lodash.forEach](https://github.com/lodash/lodash/blob/3.10.0-npm-packages/lodash.foreach/index.js#L1)\n\n\u30b3\u30fc\u30c9\u306f\u3053\u306e\u3042\u305f\u308a\u3002underscore\u306f1\u30d5\u30a1\u30a4\u30eb\u3060\u3063\u305f\u304clodash\u306f\u5206\u5272\u3055\u308c\u3066\u3044\u308b\u3002\n\u3042\u3068lodash\u306e\u5834\u5408\u306f_.each\u3067\u306f\u306a\u304f\u95a2\u6570\u7684\u306b\u306f_.forEach\n(_.each\u306b\u3082\u30a8\u30a4\u30ea\u30a2\u30b9\u8cbc\u3089\u308c\u3066\u3044\u308b)\n\n```javascript:lodash.forEach\n_.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n  console.log(n, key);\n});\n```\n\n\n```javascript\nvar arrayEach = require('lodash._arrayeach'),\n    baseEach = require('lodash._baseeach'),\n    bindCallback = require('lodash._bindcallback'),\n    isArray = require('lodash.isarray');\n\nfunction createForEach(arrayFunc, eachFunc) {\n  return function(collection, iteratee, thisArg) {\n    return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n      ? arrayFunc(collection, iteratee)\n      : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n  };\n}\nvar forEach = createForEach(arrayEach, baseEach);\n\nmodule.exports = forEach;\n```\n\n\u8d77\u70b9\u3068\u306a\u308b\u306e\u306f createForEach\u3002\n\uff08\u305d\u3082\u305d\u3082\u69cb\u9020\u81ea\u4f53\u304cunderscore\u3068\u9055\u3046\u3051\u3069\uff09\n\u914d\u5217/\u305d\u308c\u4ee5\u5916\u306e\u30c1\u30a7\u30c3\u30af\u306e\u969b\u306b\niteratee\u306etypeof\u306e\u30c1\u30a7\u30c3\u30af\u304c\u3042\u308b\u306e\u304cunderscore\u3068\u9055\u3046\u3063\u307d\u3055\u304c\u3042\u308b\n\n\n[_.isArray](https://github.com/lodash/lodash/blob/3.10.0-npm-packages/lodash.isarray/index.js)\n\u3067\u914d\u5217\u304b\u3069\u3046\u304b\u306e\u30c1\u30a7\u30c3\u30af\n\n### _.arrayeach\n```javascript\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n```\n\n### [_.bindcallback](https://github.com/lodash/lodash/blob/3.10.0-npm-packages/lodash._bindcallback/index.js)\n```javascript\nfunction bindCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  if (thisArg === undefined) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n    case 5: return function(value, other, key, object, source) {\n      return func.call(thisArg, value, other, key, object, source);\n    };\n  }\n  return function() {\n    return func.apply(thisArg, arguments);\n  };\n}\n\nfunction identity(value) {\n  return value;\n}\n\n```\n\n\u30fb\u30fb\u9577\u304f\u306a\u308a\u305d\u3046\u306a\u306e\u3067\u660e\u65e5\u306b\u7d9a\u304f\u30fb\u30fb\u30fb\n\n", "tags": ["lodash", "JavaScript", "underscore"]}