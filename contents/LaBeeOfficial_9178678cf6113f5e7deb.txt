{"context": "LaBee Framework\u306fJava\u306b\u3088\u308bWeb\u30b7\u30b9\u30c6\u30e0\u958b\u767a\u306e\u30c7\u30d5\u30a1\u30af\u30c8\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u3092\u76ee\u6307\u3059\u3001\u30bc\u30ed\u304b\u3089\u4f5c\u3089\u308c\u305f\u56fd\u7523\u306eJava\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002 \u6d77\u5916\u88fd\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u7279\u6709\u306e\u96e3\u89e3\u3055\u3084\u60c5\u5831\u4e0d\u8db3\u306b\u3088\u308b\u5de5\u6570\u3084\u4eba\u54e1\u306e\u5897\u5927\u3092\u89e3\u6d88\u3057Java\u306eWeb\u958b\u767a\u3092\u52b9\u7387\u5316\u3059\u308b\u70ba\u306b\u4f5c\u3089\u308c\u307e\u3057\u305f\u3002 LGPL\u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u516c\u958b\u3057\u3066\u304a\u308a\u3001\u500b\u4eba\u30fb\u4f01\u696d\u554f\u308f\u305a\u3069\u306a\u305f\u3067\u3082\u7121\u511f\u3067\u5229\u7528\u51fa\u6765\u307e\u3059\nhttps://www.bee-wkspace.com/\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u64cd\u4f5c\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\nLaBeeFramework\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u306eJDBC\u63a5\u7d9a\u3092\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u3092\u4f7f\u7528\u3057\u3066\u884c\u306a\u3044\u307e\u3059\u3002\n\u4e8b\u524d\u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u884c\u306a\u3044\u307e\u3059\u3002 \n\nLaBeeFramework.properties\u306e\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u540d\u9805\u76ee(DATA_SOURCE_NAME)\u3092\u8a2d\u5b9a\u3059\u308b\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fjdbc/webApp)\nLaBeeFramework.properties\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4f7f\u7528\u30d5\u30e9\u30b0\u9805\u76ee(USE_DATABASE_FLG)\u3092true\u306b\u8a2d\u5b9a\u3059\u308b\nJDBC\u30c9\u30e9\u30a4\u30d0\u30af\u30e9\u30b9\u3092WEB-INF/lib\u306b\u914d\u7f6e\u3059\u308b\u304b\u3001LaBeeFramework.properties\u306eJDBC\u30c9\u30e9\u30a4\u30d0\u30d1\u30b9\u9805\u76ee(JDBC_DRIVER)\u306bJDBC\u30c9\u30e9\u30a4\u30d0\u306e\u30d5\u30eb\u30d1\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9\u3092\u8a2d\u5b9a\u3059\u308b\nLaBeeFramework.properties\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u7a2e\u5225\u9805\u76ee(DATABASE_TYPE)\u3092\u8a2d\u5b9a(\u52d5\u4f5c\u78ba\u8a8d\u306fMySQL\u306e\u307f\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059)\nMETA-INF\u30d5\u30a9\u30eb\u30c0\u914d\u4e0b\u306bcontext.xml\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308a\u3001\u4ee5\u4e0b\u66f8\u5f0f\u306eDB\u63a5\u7d9a\u60c5\u5831\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002(\u8a2d\u5b9a\u9805\u76ee\u5185\u5bb9\u306f\u81ea\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u8a2d\u5b9a\u3059\u308b) \n\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<Context reloadable=\"false\">\n  <Resource \n    auth=\"Container\" \n    defaultAutocommit=\"false\"\n    driverClassName=\"com.mysql.jdbc.Driver\" \n    maxActive=\"20\" maxIdle=\"30000\" maxWait=\"100\"\n    type=\"javax.sql.DataSource\"\n    name=\"jdbc/webApp\" \n    username=\"test_user\"\n    password=\"test_pass\" \n    url=\"jdbc:mysql://localhost:3306/labee\"/>\n</Context>\n\n\nname\u30d1\u30e9\u30e1\u30fc\u30bf\u5024\u306fLaBeeFramework.properties\u306e\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u540d\u9805\u76ee(DATA_SOURCE_NAME)\u3068\u540c\u3058\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059 \n\nLaBeeFramework\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u306e\u30a2\u30af\u30bb\u30b9\u306fcom.bee_wkspace.labee_fw.common.db.DBAccess\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 DBAccess\u306fDB\u3068\u306e\u63a5\u7d9a\u3001\u5207\u65ad\u3001SQL\u5b9f\u884c\u7b49\u306e\u6a5f\u80fd\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002DB\u3068\u306e\u63a5\u7d9a\u3001\u5207\u65ad\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u547c\u3073\u51fa\u3057\u307e\u3059\u3002 \n      DBAccess dba = new DBAccess();\n\n      // DB\u63a5\u7d9a\u30aa\u30fc\u30d7\u30f3\n      dba.openDB();\n\n      // DB\u63a5\u7d9a\u5207\u65ad\n      dba.close();\n\n\u305f\u3060\u3057\u901a\u5e38\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u5b9f\u88c5\u3059\u308b\u969b\u306f\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u89aa\u30af\u30e9\u30b9com.bee_wkspace.labee_fw.app.base.AppBaseBlogic\u5185\u306e\npreProcess()\u30e1\u30bd\u30c3\u30c9(\u4e8b\u524d\u51e6\u7406\u30e1\u30bd\u30c3\u30c9)\u3001finallyProcess()\u30e1\u30bd\u30c3\u30c9(\u6700\u7d42\u5b9f\u884c\u30e1\u30bd\u30c3\u30c9)\u3067DB\u63a5\u7d9a\u3068DB\u5207\u65ad\u3092\u884c\u306a\u3063\u3066\u3044\u308b\u70ba\u3001\n\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u5b9f\u88c5\u8005\u306fDB\u3068\u306e\u63a5\u7d9a\u3001\u5207\u65ad\u3092\u610f\u8b58\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u305b\u3093\u3002(\u624b\u52d5\u5b9f\u884c\u4e0d\u8981)\n\u89aa\u30af\u30e9\u30b9\u306eAppBaseBlogic\u5185\u3067DBAccess\u30af\u30e9\u30b9\u306fdba\u3068\u3044\u3046\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u304a\u308a\u3001\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u5185\u3067\u81ea\u7531\u306b\u4f7f\u7528\u51fa\u6765\u307e\u3059\n\u89aa\u30af\u30e9\u30b9\u306eAppBaseBlogic\u5b9f\u88c5\u5185\u5bb9\u629c\u7c8b\npublic class AppBaseBlogic<T extends AppBaseBean> extends BaseBlogic<T> {\n    /** DB\u30a2\u30af\u30bb\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 */\n    protected DBAccess dba = null;\n\n    @Override\n    public boolean preProcess() throws Exception {\n        super.preProcess();\n        if (SystemConfigMng.isUseDatabaseFlg()) {\n            openDB();\n        }\n        // \u5165\u529b\u30c1\u30a7\u30c3\u30af\u30a8\u30e9\u30fc\u60c5\u5831\u3092\u30af\u30ea\u30a2\n        bean.initError();\n        return true;\n    }\n\n    @Override\n    public void finallyProcess() throws Exception {\n        super.finallyProcess();\n        // \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u30af\u30ed\u30fc\u30ba\n        if (SystemConfigMng.isUseDatabaseFlg()) {\n            closeDB();\n        }\n    }\n\n\n    /**\n     * DB\u30aa\u30fc\u30d7\u30f3\u3059\u308b\u3002\n     *\n     * @throws Exception \u4f8b\u5916\n     */\n    protected void openDB() throws Exception {\n        try {\n            if (dba == null) {\n                dba = new DBAccess();\n            }\n            dba.openDB();\n        } catch (Exception e) {\n            LogWriter.error(e);\n            throw e;\n        }\n    }\n    /**\n     * DB\u30af\u30ed\u30fc\u30ba\u3059\u308b\u3002\n     */\n    protected void closeDB() {\n        try {\n            if (dba != null) {\n                dba.closeDB();\n                dba = null;\n            }\n        } catch (Exception e) {\n            LogWriter.error(e);\n        }\n    }    \n\n\nSELECT SQL\u5b9f\u884c\n\u4f8b\u3068\u3057\u3066user_id(\u30e6\u30fc\u30b6ID)\u3001user_name(\u30e6\u30fc\u30b6\u540d)\u7b49\u306e\u30ab\u30e9\u30e0\u3092\u6301\u3064user_mst(\u30e6\u30fc\u30b6\u30de\u30b9\u30bf)\u30c6\u30fc\u30d6\u30eb\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3057\nUserContext(\u30e6\u30fc\u30b6\u60c5\u5831)\u3068\u3044\u3046\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30af\u30e9\u30b9\u306b\u60c5\u5831\u3092\u683c\u7d0d\u3059\u308b\u5834\u5408\u306e\u624b\u9806\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002 \n\u691c\u7d22\u7d50\u679c\u3092\u683c\u7d0d\u3059\u308b\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30af\u30e9\u30b9\u3092\u7528\u610f\u3059\u308b\n\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30af\u30e9\u30b9\u306fSerializable\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u5ba3\u8a00\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \npackage sample.context;\nimport java.io.Serializable;\n/**\n * \u30e6\u30fc\u30b6\u60c5\u5831\u683c\u7d0d\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30af\u30e9\u30b9\n */\npublic class UserContext implements Serializable {\n    /**  \u30e6\u30fc\u30b6ID   */\n    private String userId;\n    /**  \u30e6\u30fc\u30b6\u540d   */\n    private String userName;\n    /**  E-mail   */\n    private String email;\n    public String getUserId() {\n        return userId;\n    }\n    public String getUserName() {\n        return userName;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setUserId(String value) {\n        userId = value;\n    }\n    public void setUserName(String value) {\n        userName = value;\n    }\n    public void setEmail(String value) {\n        email = value;\n    }\n}\n\nSELECT\u6587\u3092\u5b9f\u884c\u3059\u308b\ncom.bee_wkspace.labee_fw.common.db.DBAccess\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9dba\u3092\u4f7f\u7528\u3057SQL\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \n        StringBuilder sql = new StringBuilder();\n        sql.append(\" SELECT \");\n        sql.append(\"    user_id,user_name,e_mail \");\n        sql.append(\" FROM \");\n        sql.append(\"    user_mst \");\n        sql.append(\" WHERE \");\n        sql.append(\"    user_id=?\");\n        sql.append(\" AND \");\n        sql.append(\"    e_mail=? \");\n        dba.setSQL(sql);\n        int idx = 1;\n        dba.bind(idx++, \"A0001\");\n        dba.bind(idx++, \"test@testtest.com\");\n        UserContext context = null;\n        RowTable rowTable = dba.execute();\n        if (rowTable.getSize() != 0) {\n            context = new UserContext();\n            ContextSetter.set(context, rowTable.getRowColumn(0));\n        }\n\n\n2\uff5e10\u884c\u76ee \u6587\u5b57\u5217\u30d0\u30c3\u30d5\u30a1\u306bSQL\u69cb\u6587\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002where\u6587\u306e\u6761\u4ef6\u5024\u306b\u306f?\u3092\u8a2d\u5b9a\u3057\u3001\u5f8c\u3067\u30d0\u30a4\u30f3\u30c9\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n12\uff5e15\u884c\u76ee SQL\u6587\u3092dba\u306b\u30bb\u30c3\u30c8\u3057\u3001where\u6761\u4ef6\u306e\u30d0\u30a4\u30f3\u30c9\u5024\u306b\u5b9f\u969b\u306e\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3001\u30d0\u30a4\u30f3\u30c9\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f1\u304b\u3089\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n18\u884c\u76ee SELECT\u6587\u306eSQL\u3092\u5b9f\u884c\u3057\u3001\u691c\u7d22\u7d50\u679c\u30c6\u30fc\u30d6\u30ebcom.bee_wkspace.labee_fw.common.db.RowTable\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n21\u884c\u76ee \u691c\u7d22\u7d50\u679c\u306e1\u500b\u76ee(0\u884c\u76ee)\u30c7\u30fc\u30bf\u3092com.bee_wkspace.labee_fw.common.ContextSetter\u3092\u4f7f\u7528\u3057\u3066UserContext\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\ncontext\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\nContextSetter\u306f\u691c\u7d22\u7d50\u679c\u30ab\u30e9\u30e0\u540d\u3068\u540c\u3058\u540d\u306e\u30bb\u30c3\u30bf\u30fc\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u53c8\u306f\u30ab\u30e9\u30e0\u540d\u306e\u30a2\u30f3\u30c0\u30fc\u30d0\u30fc\u3092\u9664\u3044\u305f\u3001\u5f8c\u308d\u306e1\u6587\u5b57\u76ee\u3092\u5927\u6587\u5b57\u306b\u5909\u63db\u3057\u305f\u540d\u306e\u30bb\u30c3\u30bf\u30fc\u306b\u6301\u3064\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u5f15\u6570\u3067\u53d7\u3051\u308b\u3068\u3001\u81ea\u52d5\u7684\u306b\u30bb\u30c3\u30bf\u30fc\u3092\u5b9f\u884c\u3057\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u7d50\u679c\u30c7\u30fc\u30bf\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\n\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u4f7f\u7528\u3057\u306a\u3044\u5834\u5408\n\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u4f7f\u7528\u305b\u305a\u306b\u76f4\u63a5\u30ab\u30e9\u30e0\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u69d8\u306b\u884c\u306a\u3044\u307e\u3059(\u629c\u7c8b) \n\n        RowTable rowTable = dba.execute();\n        if (rowTable.getSize() != 0) {\n            RowColumn column = rowTable.getRowColumn(0);\n            String userId = column.getString(\"user_id\");            \n            String userName = column.getString(\"user_name\");            \n            String email = column.getString(\"e_mail\");            \n        }\n\n\n4\u884c\u76ee rowTable\u304b\u3089\u6307\u5b9a\u884c(0\u500b\u76ee)\u306e\u30ab\u30e9\u30e0\u60c5\u5831com.bee_wkspace.labee_fw.common.db.RowColumn\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n5\uff5e7\u884c\u76ee column\u304b\u3089\u6307\u5b9a\u3057\u305f\u30ab\u30e9\u30e0\u540d\u306e\u7d50\u679c\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 \n\n\nINSERT SQL\u5b9f\u884c\nINSERT\u6587\u3092\u5b9f\u884c\u3059\u308b\u306b\u306fcom.bee_wkspace.labee_fw.common.db.UpdateHelper\u30af\u30e9\u30b9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nUpdateHelper\u3092\u4f7f\u7528\u3059\u308b\u3068INSERT\u306eSQL\u6587\u3092\u4f5c\u6210\u3059\u308b\u4e8b\u306a\u304f\u5185\u90e8\u7684INSERT\u306eSQL\u6587\u3092\u751f\u6210\u3057\u3066INSERT\u5b9f\u884c\u51fa\u6765\u307e\u3059\u3002 \n\n       try {\n           UpdateHelper helper = new UpdateHelper(UpdateHelper.INSERT, \"user_mst\");\n           helper.setParam(\"user_id\", \"B001\");\n           helper.setParam(\"user_name\", \"\u30c6\u30b9\u30c8\u592a\u90ce\");\n           helper.setParam(\"e_mail\", \"a@a.com\");\n           dba.setSQL(helper.createSql());\n           int cnt = dba.executeUpdate();\n           dba.commit();\n\n       } catch (SQLException e) {\n           dba.rollback();\n       }\n\n\n3\u884c\u76ee \u5f15\u6570\u306bINSERT\u3092\u793a\u3059\u5b9a\u6570\u3068\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066UpdateHelper\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n4\uff5e6\u884c\u76ee \u30a4\u30f3\u30b5\u30fc\u30c8\u3059\u308b\u30ab\u30e9\u30e0\u540d\u3068\u767b\u9332\u5024\u3092helper\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n7\u884c\u76ee INSERT\u306eSQL\u6587\u3092\u751f\u6210\u3057\u3066dba\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n8\u884c\u76ee INSERT\u3092\u5b9f\u884c\u3057\u307e\u3059\u3001\u623b\u308a\u5024\u306b\u767b\u9332\u4ef6\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n9\u884c\u76ee DB\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u306e\u30b3\u30df\u30c3\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n12\u884c\u76ee SQL\u5b9f\u884c\u6642\u306b\u4f8b\u5916\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u5b9f\u884c\u3059\u308b\u3068\u5b89\u5168\u3067\u3059\u3002 \n\n\nUPDATE SQL\u5b9f\u884c\nUPDATE\u6587\u3092\u5b9f\u884c\u3059\u308b\u306b\u306fcom.bee_wkspace.labee_fw.common.db.UpdateHelper\u30af\u30e9\u30b9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nUpdateHelper\u3092\u4f7f\u7528\u3059\u308b\u3068UPDATE\u306eSQL\u6587\u3092\u4f5c\u6210\u3059\u308b\u4e8b\u306a\u304f\u5185\u90e8\u7684UPDATE\u306eSQL\u6587\u3092\u751f\u6210\u3057\u3066UPDATE\u5b9f\u884c\u51fa\u6765\u307e\u3059\u3002 \n\n           try {\n               UpdateHelper helper = new UpdateHelper(UpdateHelper.UPDATE, \"user_mst\");\n               helper.setParam(\"user_name\", \"\u30c6\u30b9\u30c8\u6b21\u90ce\");\n               helper.setWhereCondition(\"user_id=? AND e_mail=?\");\n\n               dba.setSQL(helper.createSql());\n               int idx = helper.bind(dba);\n               dba.bind(idx++, \"B001\");\n               dba.bind(idx++, \"a@a.com\");\n               int cnt = dba.executeUpdate();\n               dba.commit();\n\n           } catch (SQLException e) {\n               dba.rollback();\n           }\n\n\n\n3\u884c\u76ee \u5f15\u6570\u306bUPDATE\u3092\u793a\u3059\u5b9a\u6570\u3068\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066UpdateHelper\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n4\u884c\u76ee \u30a2\u30c3\u30d7\u305b\u30fc\u3068\u3059\u308b\u30ab\u30e9\u30e0\u540d\u3068\u66f4\u65b0\u5024\u3092helper\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n5\u884c\u76ee where\u6761\u4ef6\u3092helper\u306b\u8a2d\u5b9a\u3057\u307e\u3059(WHERE\u6587\u8a00\u306f\u4e0d\u8981)\u3001\u30ab\u30e9\u30e0\u6761\u4ef6\u306b\u306f?\u3092\u8a2d\u5b9a\u3057\u3066\u5f8c\u3067\u30d0\u30a4\u30f3\u30c9\u3057\u307e\u3059\u3002\n7\u884c\u76ee UPDATE\u306eSQL\u6587\u3092\u751f\u6210\u3057\u3066dba\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n8\u884c\u76ee \u30d0\u30a4\u30f3\u30c9\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n9\uff5e10\u884c\u76ee where\u6761\u4ef6\u306e\u30d0\u30a4\u30f3\u30c9\u90e8\u5206\u306b\u6761\u4ef6\u5024\u3092\u30d0\u30a4\u30f3\u30c9\u8a2d\u5b9a\u3059\u308b\u3002\n11\u884c\u76ee UPDATE\u3092\u5b9f\u884c\u3057\u307e\u3059\u3001\u623b\u308a\u5024\u306b\u66f4\u65b0\u4ef6\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n12\u884c\u76ee DB\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u306e\u30b3\u30df\u30c3\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n15\u884c\u76ee SQL\u5b9f\u884c\u6642\u306b\u4f8b\u5916\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u5b9f\u884c\u3059\u308b\u3068\u5b89\u5168\u3067\u3059\u3002 \n\n\nDELETE SQL\u5b9f\u884c\nDELETE\u6587\u3092\u5b9f\u884c\u3059\u308b\u306b\u306fcom.bee_wkspace.labee_fw.common.db.UpdateHelper\u30af\u30e9\u30b9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nUpdateHelper\u3092\u4f7f\u7528\u3059\u308b\u3068DELETE\u306eSQL\u6587\u3092\u4f5c\u6210\u3059\u308b\u4e8b\u306a\u304f\u5185\u90e8\u7684DELETE\u306eSQL\u6587\u3092\u751f\u6210\u3057\u3066DELETE\u5b9f\u884c\u51fa\u6765\u307e\u3059\u3002 \n\n       try {\n           UpdateHelper helper = new UpdateHelper(UpdateHelper.DELETE, \"user_mst\");\n           helper.setWhereCondition(\"user_id=? AND e_mail=?\");\n\n           dba.setSQL(helper.createSql());\n           int idx = helper.bind(dba);\n           dba.bind(idx++, \"B001\");\n           dba.bind(idx++, \"a@a.com\");\n           int cnt = dba.executeUpdate();\n           dba.commit();\n\n       } catch (SQLException e) {\n           dba.rollback();\n       }\n\n\n3\u884c\u76ee \u5f15\u6570\u306bUPDATE\u3092\u793a\u3059\u5b9a\u6570\u3068\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066UpdateHelper\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n4\u884c\u76ee where\u6761\u4ef6\u3092helper\u306b\u8a2d\u5b9a\u3057\u307e\u3059(WHERE\u6587\u8a00\u306f\u4e0d\u8981)\u3001\u30ab\u30e9\u30e0\u6761\u4ef6\u306b\u306f?\u3092\u8a2d\u5b9a\u3057\u3066\u5f8c\u3067\u30d0\u30a4\u30f3\u30c9\u3057\u307e\u3059\u3002\n6\u884c\u76ee DELETE\u306eSQL\u6587\u3092\u751f\u6210\u3057\u3066dba\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n7\u884c\u76ee \u30d0\u30a4\u30f3\u30c9\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n8\uff5e9\u884c\u76ee where\u6761\u4ef6\u306e\u30d0\u30a4\u30f3\u30c9\u90e8\u5206\u306b\u6761\u4ef6\u5024\u3092\u30d0\u30a4\u30f3\u30c9\u8a2d\u5b9a\u3059\u308b\u3002\n10\u884c\u76ee DELETE\u3092\u5b9f\u884c\u3057\u307e\u3059\u3001\u623b\u308a\u5024\u306b\u524a\u9664\u4ef6\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n11\u884c\u76ee DB\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u306e\u30b3\u30df\u30c3\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n14\u884c\u76ee SQL\u5b9f\u884c\u6642\u306b\u4f8b\u5916\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u5b9f\u884c\u3059\u308b\u3068\u5b89\u5168\u3067\u3059\u3002 \n\nLaBee Framework\u306fJava\u306b\u3088\u308bWeb\u30b7\u30b9\u30c6\u30e0\u958b\u767a\u306e\u30c7\u30d5\u30a1\u30af\u30c8\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u3092\u76ee\u6307\u3059\u3001\u30bc\u30ed\u304b\u3089\u4f5c\u3089\u308c\u305f\u56fd\u7523\u306eJava\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002 \u6d77\u5916\u88fd\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u7279\u6709\u306e\u96e3\u89e3\u3055\u3084\u60c5\u5831\u4e0d\u8db3\u306b\u3088\u308b\u5de5\u6570\u3084\u4eba\u54e1\u306e\u5897\u5927\u3092\u89e3\u6d88\u3057Java\u306eWeb\u958b\u767a\u3092\u52b9\u7387\u5316\u3059\u308b\u70ba\u306b\u4f5c\u3089\u308c\u307e\u3057\u305f\u3002 LGPL\u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u516c\u958b\u3057\u3066\u304a\u308a\u3001\u500b\u4eba\u30fb\u4f01\u696d\u554f\u308f\u305a\u3069\u306a\u305f\u3067\u3082\u7121\u511f\u3067\u5229\u7528\u51fa\u6765\u307e\u3059\nhttps://www.bee-wkspace.com/\n![press.jpg](https://qiita-image-store.s3.amazonaws.com/0/137533/9ec50bce-b5dd-3ed3-f1f3-c6f5e9a4d106.jpeg)\n\n\n#\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u64cd\u4f5c\n\n##\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a \n\nLaBeeFramework\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u306eJDBC\u63a5\u7d9a\u3092\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u3092\u4f7f\u7528\u3057\u3066\u884c\u306a\u3044\u307e\u3059\u3002\n\u4e8b\u524d\u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u884c\u306a\u3044\u307e\u3059\u3002 \n\n- LaBeeFramework.properties\u306e\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u540d\u9805\u76ee(DATA_SOURCE_NAME)\u3092\u8a2d\u5b9a\u3059\u308b\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fjdbc/webApp)\n- LaBeeFramework.properties\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4f7f\u7528\u30d5\u30e9\u30b0\u9805\u76ee(USE_DATABASE_FLG)\u3092true\u306b\u8a2d\u5b9a\u3059\u308b\n- JDBC\u30c9\u30e9\u30a4\u30d0\u30af\u30e9\u30b9\u3092WEB-INF/lib\u306b\u914d\u7f6e\u3059\u308b\u304b\u3001LaBeeFramework.properties\u306eJDBC\u30c9\u30e9\u30a4\u30d0\u30d1\u30b9\u9805\u76ee(JDBC_DRIVER)\u306bJDBC\u30c9\u30e9\u30a4\u30d0\u306e\u30d5\u30eb\u30d1\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9\u3092\u8a2d\u5b9a\u3059\u308b\n- LaBeeFramework.properties\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u7a2e\u5225\u9805\u76ee(DATABASE_TYPE)\u3092\u8a2d\u5b9a(\u52d5\u4f5c\u78ba\u8a8d\u306fMySQL\u306e\u307f\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059)\n- META-INF\u30d5\u30a9\u30eb\u30c0\u914d\u4e0b\u306bcontext.xml\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308a\u3001\u4ee5\u4e0b\u66f8\u5f0f\u306eDB\u63a5\u7d9a\u60c5\u5831\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002(\u8a2d\u5b9a\u9805\u76ee\u5185\u5bb9\u306f\u81ea\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u8a2d\u5b9a\u3059\u308b) \n\n~~~\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<Context reloadable=\"false\">\n  <Resource \n    auth=\"Container\" \n    defaultAutocommit=\"false\"\n    driverClassName=\"com.mysql.jdbc.Driver\" \n    maxActive=\"20\" maxIdle=\"30000\" maxWait=\"100\"\n    type=\"javax.sql.DataSource\"\n    name=\"jdbc/webApp\" \n    username=\"test_user\"\n    password=\"test_pass\" \n    url=\"jdbc:mysql://localhost:3306/labee\"/>\n</Context>\n~~~\n- name\u30d1\u30e9\u30e1\u30fc\u30bf\u5024\u306fLaBeeFramework.properties\u306e\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u540d\u9805\u76ee(DATA_SOURCE_NAME)\u3068\u540c\u3058\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059 \n\nLaBeeFramework\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u306e\u30a2\u30af\u30bb\u30b9\u306fcom.bee_wkspace.labee_fw.common.db.DBAccess\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 DBAccess\u306fDB\u3068\u306e\u63a5\u7d9a\u3001\u5207\u65ad\u3001SQL\u5b9f\u884c\u7b49\u306e\u6a5f\u80fd\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002DB\u3068\u306e\u63a5\u7d9a\u3001\u5207\u65ad\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u547c\u3073\u51fa\u3057\u307e\u3059\u3002 \n\n\n~~~\n      DBAccess dba = new DBAccess();\n      \n      // DB\u63a5\u7d9a\u30aa\u30fc\u30d7\u30f3\n      dba.openDB();\n      \n      // DB\u63a5\u7d9a\u5207\u65ad\n      dba.close();\n~~~\n\n\u305f\u3060\u3057\u901a\u5e38\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u5b9f\u88c5\u3059\u308b\u969b\u306f\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u89aa\u30af\u30e9\u30b9com.bee_wkspace.labee_fw.app.base.AppBaseBlogic\u5185\u306e\npreProcess()\u30e1\u30bd\u30c3\u30c9(\u4e8b\u524d\u51e6\u7406\u30e1\u30bd\u30c3\u30c9)\u3001finallyProcess()\u30e1\u30bd\u30c3\u30c9(\u6700\u7d42\u5b9f\u884c\u30e1\u30bd\u30c3\u30c9)\u3067DB\u63a5\u7d9a\u3068DB\u5207\u65ad\u3092\u884c\u306a\u3063\u3066\u3044\u308b\u70ba\u3001\n\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u5b9f\u88c5\u8005\u306fDB\u3068\u306e\u63a5\u7d9a\u3001\u5207\u65ad\u3092\u610f\u8b58\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u305b\u3093\u3002(\u624b\u52d5\u5b9f\u884c\u4e0d\u8981)\n\u89aa\u30af\u30e9\u30b9\u306eAppBaseBlogic\u5185\u3067DBAccess\u30af\u30e9\u30b9\u306fdba\u3068\u3044\u3046\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u304a\u308a\u3001\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u5185\u3067\u81ea\u7531\u306b\u4f7f\u7528\u51fa\u6765\u307e\u3059\n\n**\u89aa\u30af\u30e9\u30b9\u306eAppBaseBlogic\u5b9f\u88c5\u5185\u5bb9\u629c\u7c8b**\n\n~~~\npublic class AppBaseBlogic<T extends AppBaseBean> extends BaseBlogic<T> {\n    /** DB\u30a2\u30af\u30bb\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 */\n    protected DBAccess dba = null;\n    \n    @Override\n    public boolean preProcess() throws Exception {\n        super.preProcess();\n        if (SystemConfigMng.isUseDatabaseFlg()) {\n            openDB();\n        }\n        // \u5165\u529b\u30c1\u30a7\u30c3\u30af\u30a8\u30e9\u30fc\u60c5\u5831\u3092\u30af\u30ea\u30a2\n        bean.initError();\n        return true;\n    }\n \n    @Override\n    public void finallyProcess() throws Exception {\n        super.finallyProcess();\n        // \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u30af\u30ed\u30fc\u30ba\n        if (SystemConfigMng.isUseDatabaseFlg()) {\n            closeDB();\n        }\n    }\n    \n    \n    /**\n     * DB\u30aa\u30fc\u30d7\u30f3\u3059\u308b\u3002\n     *\n     * @throws Exception \u4f8b\u5916\n     */\n    protected void openDB() throws Exception {\n        try {\n            if (dba == null) {\n                dba = new DBAccess();\n            }\n            dba.openDB();\n        } catch (Exception e) {\n            LogWriter.error(e);\n            throw e;\n        }\n    }\n    /**\n     * DB\u30af\u30ed\u30fc\u30ba\u3059\u308b\u3002\n     */\n    protected void closeDB() {\n        try {\n            if (dba != null) {\n                dba.closeDB();\n                dba = null;\n            }\n        } catch (Exception e) {\n            LogWriter.error(e);\n        }\n    }    \n~~~\n\n##SELECT SQL\u5b9f\u884c \n\n\u4f8b\u3068\u3057\u3066user_id(\u30e6\u30fc\u30b6ID)\u3001user_name(\u30e6\u30fc\u30b6\u540d)\u7b49\u306e\u30ab\u30e9\u30e0\u3092\u6301\u3064user_mst(\u30e6\u30fc\u30b6\u30de\u30b9\u30bf)\u30c6\u30fc\u30d6\u30eb\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3057\nUserContext(\u30e6\u30fc\u30b6\u60c5\u5831)\u3068\u3044\u3046\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30af\u30e9\u30b9\u306b\u60c5\u5831\u3092\u683c\u7d0d\u3059\u308b\u5834\u5408\u306e\u624b\u9806\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002 \n\n**\u691c\u7d22\u7d50\u679c\u3092\u683c\u7d0d\u3059\u308b\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30af\u30e9\u30b9\u3092\u7528\u610f\u3059\u308b**\n\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30af\u30e9\u30b9\u306fSerializable\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u5ba3\u8a00\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \n\n~~~\npackage sample.context;\nimport java.io.Serializable;\n/**\n * \u30e6\u30fc\u30b6\u60c5\u5831\u683c\u7d0d\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30af\u30e9\u30b9\n */\npublic class UserContext implements Serializable {\n    /**  \u30e6\u30fc\u30b6ID   */\n    private String userId;\n    /**  \u30e6\u30fc\u30b6\u540d   */\n    private String userName;\n    /**  E-mail   */\n    private String email;\n    public String getUserId() {\n        return userId;\n    }\n    public String getUserName() {\n        return userName;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setUserId(String value) {\n        userId = value;\n    }\n    public void setUserName(String value) {\n        userName = value;\n    }\n    public void setEmail(String value) {\n        email = value;\n    }\n}\n~~~\n\n**SELECT\u6587\u3092\u5b9f\u884c\u3059\u308b**\ncom.bee_wkspace.labee_fw.common.db.DBAccess\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9dba\u3092\u4f7f\u7528\u3057SQL\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \n\n~~~\n        StringBuilder sql = new StringBuilder();\n        sql.append(\" SELECT \");\n        sql.append(\"    user_id,user_name,e_mail \");\n        sql.append(\" FROM \");\n        sql.append(\"    user_mst \");\n        sql.append(\" WHERE \");\n        sql.append(\"    user_id=?\");\n        sql.append(\" AND \");\n        sql.append(\"    e_mail=? \");\n        dba.setSQL(sql);\n        int idx = 1;\n        dba.bind(idx++, \"A0001\");\n        dba.bind(idx++, \"test@testtest.com\");\n        UserContext context = null;\n        RowTable rowTable = dba.execute();\n        if (rowTable.getSize() != 0) {\n            context = new UserContext();\n            ContextSetter.set(context, rowTable.getRowColumn(0));\n        }\n~~~\n\n- 2\uff5e10\u884c\u76ee \u6587\u5b57\u5217\u30d0\u30c3\u30d5\u30a1\u306bSQL\u69cb\u6587\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002where\u6587\u306e\u6761\u4ef6\u5024\u306b\u306f?\u3092\u8a2d\u5b9a\u3057\u3001\u5f8c\u3067\u30d0\u30a4\u30f3\u30c9\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n- 12\uff5e15\u884c\u76ee SQL\u6587\u3092dba\u306b\u30bb\u30c3\u30c8\u3057\u3001where\u6761\u4ef6\u306e\u30d0\u30a4\u30f3\u30c9\u5024\u306b\u5b9f\u969b\u306e\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3001\u30d0\u30a4\u30f3\u30c9\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f1\u304b\u3089\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n- 18\u884c\u76ee SELECT\u6587\u306eSQL\u3092\u5b9f\u884c\u3057\u3001\u691c\u7d22\u7d50\u679c\u30c6\u30fc\u30d6\u30ebcom.bee_wkspace.labee_fw.common.db.RowTable\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n- 21\u884c\u76ee \u691c\u7d22\u7d50\u679c\u306e1\u500b\u76ee(0\u884c\u76ee)\u30c7\u30fc\u30bf\u3092com.bee_wkspace.labee_fw.common.ContextSetter\u3092\u4f7f\u7528\u3057\u3066UserContext\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\ncontext\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n- ContextSetter\u306f\u691c\u7d22\u7d50\u679c\u30ab\u30e9\u30e0\u540d\u3068\u540c\u3058\u540d\u306e\u30bb\u30c3\u30bf\u30fc\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u53c8\u306f\u30ab\u30e9\u30e0\u540d\u306e\u30a2\u30f3\u30c0\u30fc\u30d0\u30fc\u3092\u9664\u3044\u305f\u3001\u5f8c\u308d\u306e1\u6587\u5b57\u76ee\u3092\u5927\u6587\u5b57\u306b\u5909\u63db\u3057\u305f\u540d\u306e\u30bb\u30c3\u30bf\u30fc\u306b\u6301\u3064\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u5f15\u6570\u3067\u53d7\u3051\u308b\u3068\u3001\u81ea\u52d5\u7684\u306b\u30bb\u30c3\u30bf\u30fc\u3092\u5b9f\u884c\u3057\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u7d50\u679c\u30c7\u30fc\u30bf\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\n**\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u4f7f\u7528\u3057\u306a\u3044\u5834\u5408**\n\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u4f7f\u7528\u305b\u305a\u306b\u76f4\u63a5\u30ab\u30e9\u30e0\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u69d8\u306b\u884c\u306a\u3044\u307e\u3059(\u629c\u7c8b) \n\n~~~\n   \n        RowTable rowTable = dba.execute();\n        if (rowTable.getSize() != 0) {\n            RowColumn column = rowTable.getRowColumn(0);\n            String userId = column.getString(\"user_id\");            \n            String userName = column.getString(\"user_name\");            \n            String email = column.getString(\"e_mail\");            \n        }\n~~~\n\n- 4\u884c\u76ee rowTable\u304b\u3089\u6307\u5b9a\u884c(0\u500b\u76ee)\u306e\u30ab\u30e9\u30e0\u60c5\u5831com.bee_wkspace.labee_fw.common.db.RowColumn\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n- 5\uff5e7\u884c\u76ee column\u304b\u3089\u6307\u5b9a\u3057\u305f\u30ab\u30e9\u30e0\u540d\u306e\u7d50\u679c\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 \n\n\n##INSERT SQL\u5b9f\u884c\nINSERT\u6587\u3092\u5b9f\u884c\u3059\u308b\u306b\u306fcom.bee_wkspace.labee_fw.common.db.UpdateHelper\u30af\u30e9\u30b9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nUpdateHelper\u3092\u4f7f\u7528\u3059\u308b\u3068INSERT\u306eSQL\u6587\u3092\u4f5c\u6210\u3059\u308b\u4e8b\u306a\u304f\u5185\u90e8\u7684INSERT\u306eSQL\u6587\u3092\u751f\u6210\u3057\u3066INSERT\u5b9f\u884c\u51fa\u6765\u307e\u3059\u3002 \n\n~~~\n   \n       try {\n\t       UpdateHelper helper = new UpdateHelper(UpdateHelper.INSERT, \"user_mst\");\n\t       helper.setParam(\"user_id\", \"B001\");\n\t       helper.setParam(\"user_name\", \"\u30c6\u30b9\u30c8\u592a\u90ce\");\n\t       helper.setParam(\"e_mail\", \"a@a.com\");\n\t       dba.setSQL(helper.createSql());\n\t       int cnt = dba.executeUpdate();\n\t       dba.commit();\n\t       \n\t   } catch (SQLException e) {\n\t       dba.rollback();\n\t   }\n~~~\n\n- 3\u884c\u76ee \u5f15\u6570\u306bINSERT\u3092\u793a\u3059\u5b9a\u6570\u3068\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066UpdateHelper\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n- 4\uff5e6\u884c\u76ee \u30a4\u30f3\u30b5\u30fc\u30c8\u3059\u308b\u30ab\u30e9\u30e0\u540d\u3068\u767b\u9332\u5024\u3092helper\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n- 7\u884c\u76ee INSERT\u306eSQL\u6587\u3092\u751f\u6210\u3057\u3066dba\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n- 8\u884c\u76ee INSERT\u3092\u5b9f\u884c\u3057\u307e\u3059\u3001\u623b\u308a\u5024\u306b\u767b\u9332\u4ef6\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n- 9\u884c\u76ee DB\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u306e\u30b3\u30df\u30c3\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n- 12\u884c\u76ee SQL\u5b9f\u884c\u6642\u306b\u4f8b\u5916\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u5b9f\u884c\u3059\u308b\u3068\u5b89\u5168\u3067\u3059\u3002 \n\n\n##UPDATE SQL\u5b9f\u884c \nUPDATE\u6587\u3092\u5b9f\u884c\u3059\u308b\u306b\u306fcom.bee_wkspace.labee_fw.common.db.UpdateHelper\u30af\u30e9\u30b9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nUpdateHelper\u3092\u4f7f\u7528\u3059\u308b\u3068UPDATE\u306eSQL\u6587\u3092\u4f5c\u6210\u3059\u308b\u4e8b\u306a\u304f\u5185\u90e8\u7684UPDATE\u306eSQL\u6587\u3092\u751f\u6210\u3057\u3066UPDATE\u5b9f\u884c\u51fa\u6765\u307e\u3059\u3002 \n\n~~~\n       \n           try {\n               UpdateHelper helper = new UpdateHelper(UpdateHelper.UPDATE, \"user_mst\");\n               helper.setParam(\"user_name\", \"\u30c6\u30b9\u30c8\u6b21\u90ce\");\n               helper.setWhereCondition(\"user_id=? AND e_mail=?\");\n               \n               dba.setSQL(helper.createSql());\n               int idx = helper.bind(dba);\n               dba.bind(idx++, \"B001\");\n               dba.bind(idx++, \"a@a.com\");\n               int cnt = dba.executeUpdate();\n               dba.commit();\n               \n           } catch (SQLException e) {\n               dba.rollback();\n           }\n     \n~~~\n\n- 3\u884c\u76ee \u5f15\u6570\u306bUPDATE\u3092\u793a\u3059\u5b9a\u6570\u3068\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066UpdateHelper\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n- 4\u884c\u76ee \u30a2\u30c3\u30d7\u305b\u30fc\u3068\u3059\u308b\u30ab\u30e9\u30e0\u540d\u3068\u66f4\u65b0\u5024\u3092helper\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n- 5\u884c\u76ee where\u6761\u4ef6\u3092helper\u306b\u8a2d\u5b9a\u3057\u307e\u3059(WHERE\u6587\u8a00\u306f\u4e0d\u8981)\u3001\u30ab\u30e9\u30e0\u6761\u4ef6\u306b\u306f?\u3092\u8a2d\u5b9a\u3057\u3066\u5f8c\u3067\u30d0\u30a4\u30f3\u30c9\u3057\u307e\u3059\u3002\n- 7\u884c\u76ee UPDATE\u306eSQL\u6587\u3092\u751f\u6210\u3057\u3066dba\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n- 8\u884c\u76ee \u30d0\u30a4\u30f3\u30c9\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n- 9\uff5e10\u884c\u76ee where\u6761\u4ef6\u306e\u30d0\u30a4\u30f3\u30c9\u90e8\u5206\u306b\u6761\u4ef6\u5024\u3092\u30d0\u30a4\u30f3\u30c9\u8a2d\u5b9a\u3059\u308b\u3002\n- 11\u884c\u76ee UPDATE\u3092\u5b9f\u884c\u3057\u307e\u3059\u3001\u623b\u308a\u5024\u306b\u66f4\u65b0\u4ef6\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n- 12\u884c\u76ee DB\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u306e\u30b3\u30df\u30c3\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n- 15\u884c\u76ee SQL\u5b9f\u884c\u6642\u306b\u4f8b\u5916\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u5b9f\u884c\u3059\u308b\u3068\u5b89\u5168\u3067\u3059\u3002 \n\n\n###DELETE SQL\u5b9f\u884c \nDELETE\u6587\u3092\u5b9f\u884c\u3059\u308b\u306b\u306fcom.bee_wkspace.labee_fw.common.db.UpdateHelper\u30af\u30e9\u30b9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nUpdateHelper\u3092\u4f7f\u7528\u3059\u308b\u3068DELETE\u306eSQL\u6587\u3092\u4f5c\u6210\u3059\u308b\u4e8b\u306a\u304f\u5185\u90e8\u7684DELETE\u306eSQL\u6587\u3092\u751f\u6210\u3057\u3066DELETE\u5b9f\u884c\u51fa\u6765\u307e\u3059\u3002 \n\n~~~\n   \n       try {\n           UpdateHelper helper = new UpdateHelper(UpdateHelper.DELETE, \"user_mst\");\n           helper.setWhereCondition(\"user_id=? AND e_mail=?\");\n           \n           dba.setSQL(helper.createSql());\n           int idx = helper.bind(dba);\n           dba.bind(idx++, \"B001\");\n           dba.bind(idx++, \"a@a.com\");\n           int cnt = dba.executeUpdate();\n           dba.commit();\n           \n       } catch (SQLException e) {\n           dba.rollback();\n       }\n~~~\n\n- 3\u884c\u76ee \u5f15\u6570\u306bUPDATE\u3092\u793a\u3059\u5b9a\u6570\u3068\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066UpdateHelper\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n- 4\u884c\u76ee where\u6761\u4ef6\u3092helper\u306b\u8a2d\u5b9a\u3057\u307e\u3059(WHERE\u6587\u8a00\u306f\u4e0d\u8981)\u3001\u30ab\u30e9\u30e0\u6761\u4ef6\u306b\u306f?\u3092\u8a2d\u5b9a\u3057\u3066\u5f8c\u3067\u30d0\u30a4\u30f3\u30c9\u3057\u307e\u3059\u3002\n- 6\u884c\u76ee DELETE\u306eSQL\u6587\u3092\u751f\u6210\u3057\u3066dba\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n- 7\u884c\u76ee \u30d0\u30a4\u30f3\u30c9\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n- 8\uff5e9\u884c\u76ee where\u6761\u4ef6\u306e\u30d0\u30a4\u30f3\u30c9\u90e8\u5206\u306b\u6761\u4ef6\u5024\u3092\u30d0\u30a4\u30f3\u30c9\u8a2d\u5b9a\u3059\u308b\u3002\n- 10\u884c\u76ee DELETE\u3092\u5b9f\u884c\u3057\u307e\u3059\u3001\u623b\u308a\u5024\u306b\u524a\u9664\u4ef6\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n- 11\u884c\u76ee DB\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u306e\u30b3\u30df\u30c3\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n- 14\u884c\u76ee SQL\u5b9f\u884c\u6642\u306b\u4f8b\u5916\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u5b9f\u884c\u3059\u308b\u3068\u5b89\u5168\u3067\u3059\u3002 \n\n\n\n", "tags": ["Java", "framework", "\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9", "\u30d5\u30ea\u30fc", "\u56fd\u7523"]}