{"tags": ["adamTaylor", "XADC", "Alarm"], "context": "MicroZed Chronicles \u30ea\u30b9\u30c8 http://adiuvoengineering.com/?page_id=285\n@ Adam Taylor blog\nhttps://forums.xilinx.com/t5/Xcell-Daily-Blog/Adam-Taylor-s-MicroZed-Chronicles-Part-43-XADC-Alarms-and/ba-p/496468\n\nI have attached the code to this blog post. It is split into three functions:\n\nThe first part configures the generic interrupt controller on the Zynq SoC so that we can use the XADC interrupt as part of this the interrupt service routine. It is called when the XADC interrupt is issued.\nThe second part configures the XADC, sets the sequencer to a safe mode, and disables all alarms before reading the temperature. It then assigns an upper and lower temperature alarm based upon the value it has just read. Having set these values the function then sets the temperature alarm and enables the temperature interrupt.\nThe third part is the interrupt service routine that will be called when the temperature interrupt occurs.  This routine will clear the interrupt status register, disable more interrupts from occurring, and read the temperature at which the interrupt occurred. The temperature reading might not be above the interrupt temperature as it will fluctuate and we do not have the temperature averaging turned on. However, the value should be close.\n\n\n\nGIC\u306e\u8a2d\u5b9a\nXADC\u306e\u5272\u8fbc\u307f\u8a2d\u5b9a\nISR\u306e\u5b9f\u88c5\n\nblog\u306b\u30bd\u30fc\u30b9\u304c\u3042\u308b\nMicroZed Chronicles \u30ea\u30b9\u30c8 http://adiuvoengineering.com/?page_id=285\n@ Adam Taylor blog\nhttps://forums.xilinx.com/t5/Xcell-Daily-Blog/Adam-Taylor-s-MicroZed-Chronicles-Part-43-XADC-Alarms-and/ba-p/496468\n\n> I have attached the code to this blog post. It is split into three functions:\n \n> 1. The first part configures the generic interrupt controller on the Zynq SoC so that we can use the XADC interrupt as part of this the interrupt service routine. It is called when the XADC interrupt is issued.\n \n> 2. The second part configures the XADC, sets the sequencer to a safe mode, and disables all alarms before reading the temperature. It then assigns an upper and lower temperature alarm based upon the value it has just read. Having set these values the function then sets the temperature alarm and enables the temperature interrupt.\n \n> 3. The third part is the interrupt service routine that will be called when the temperature interrupt occurs.  This routine will clear the interrupt status register, disable more interrupts from occurring, and read the temperature at which the interrupt occurred. The temperature reading might not be above the interrupt temperature as it will fluctuate and we do not have the temperature averaging turned on. However, the value should be close.\n\n- GIC\u306e\u8a2d\u5b9a\n- XADC\u306e\u5272\u8fbc\u307f\u8a2d\u5b9a\n- ISR\u306e\u5b9f\u88c5\n\nblog\u306b\u30bd\u30fc\u30b9\u304c\u3042\u308b\n\n"}