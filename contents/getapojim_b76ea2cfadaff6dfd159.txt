{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nBluemix\u306eRaspberryPi\u767b\u9332\u30ec\u30b7\u30d4\u306b\u767b\u5834\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u7528\u306esample\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001\u3069\u3093\u306a\u306b\u30bb\u30f3\u30b5\u30fc\u304c\u305f\u304f\u3055\u3093\u4ed8\u3044\u3066\u3044\u3088\u3046\u304c\u56fa\u5b9a\u306e4\u9805\u76ee\u306e\u30c7\u30fc\u30bf\u306e\u307f\u3092Bluemix\u306b\u9001\u4fe1\u3059\u308b\u4f5c\u308a\u306b\u306a\u3063\u3066\u3044\u308b\u3002\nRaspberry Pi 2\u306b\u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u52a0\u3048\u3066\u56fa\u5b9a4\u9805\u76ee\u4ee5\u5916\u306e\u30c7\u30fc\u30bf\u3092Bluemix\u3067\u53d6\u5f97\u3059\u308b\u306b\u306f\u3001sample\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u4fee\u6b63\u3057\u3066\u30d3\u30eb\u30c9\u3059\u308c\u3070\u826f\u3044\u3002\u305d\u306e\u65b9\u6cd5\u3092\u6574\u7406\u3059\u308b\u3002\n\u6574\u7406\u3057\u3066\u3044\u308b\u5185\u306b\u9577\u304f\u306a\u3063\u3066\u304d\u305f\u306e\u3067\u3001(1)Sample\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4ed5\u7d44\u307f\u306e\u6574\u7406\u3068(2)\u3069\u3053\u3092\u3069\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308c\u3070\u3088\u3044\u306e\u304b\u3092\u5206\u3051\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n(1)\u3000\u4ed5\u7d44\u307f\u306e\u7406\u89e3\u3000(\u3053\u308c)\n(2)\u3000\u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u3066\u30c7\u30fc\u30bf\u3092\u62fe\u3046\u3000\u6e29\u5ea6\u30bb\u30f3\u30b5\u30fc\u30c7\u30b8\u30bf\u30eb\u7de8\n(3)\u3000\u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u3066\u30c7\u30fc\u30bf\u3092\u62fe\u3046\u3000\u6e29\u5ea6\u30bb\u30f3\u30b5\u30fc\u30a2\u30ca\u30ed\u30b0\u7de8\n(4)\u3000\u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u3066\u30c7\u30fc\u30bf\u3092\u62fe\u3046\u3000\u6e29\u5ea6\u30bb\u30f3\u30b5\u30fc\u30c7\u30b8\u30bf\u30eb\u7de8\uff08\u30ea\u30d9\u30f3\u30b8\uff09\n(5)\u3000\u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u3066\u30c7\u30fc\u30bf\u3092\u62fe\u3046\u3000\u6e29\u5ea6\u30fb\u6e7f\u5ea6\u30fb\u6c17\u5727\u307e\u3068\u3081\u3066\u63a1\u53d6\u7de8\n\u756a\u5916\u7de8 \u300e\u30e0\u30c3\u30af\u300c\u65e5\u7d4cLinux \u30e9\u30ba\u30d1\u30a4\u30de\u30ac\u30b8\u30f3 2015\u5e74\u6625\u53f7 \u300d\u96fb\u5b50\u5de5\u4f5c\u5165\u9580\u30ad\u30c3\u30c8 \u30d1\u30fc\u30c4\u30bb\u30c3\u30c8\u300f\u306b\u5165\u3063\u3066\u3044\u305f\u3082\u306e\n\n\u69cb\u6210\u306e\u30a4\u30e1\u30fc\u30b8\nIoT\u3068\u3044\u3046\u69cb\u6210\u3067\u8003\u3048\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u3002\u4e0b\u6bb5\u307b\u3069\u3088\u308a\u5177\u4f53\u7684\u306b\u3002(\u56f3\u306b\u3057\u305f\u3044)\nThings\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u2192\u3000Internet\n\u30bb\u30f3\u30b5\u30fc\u3000\u2192\u3000\u30c7\u30d0\u30a4\u30b9\u3000\u3000\u3000\u3000\u3000\u3000\u2192\u3000\u30af\u30e9\u30a6\u30c9\n\u30bb\u30f3\u30b5\u30fc\u3000\u2192\u3000Raspberry Pi 2(sysfs)\u3000\u2192\u3000Bluemix(IoT Foundation)\n\u3000\u3000\u3000\u3000\u3000\u2191\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u2191\n\u3000\u3000\u3000\u30dd\u30a4\u30f3\u30c81\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u30dd\u30a4\u30f3\u30c82,3,4\n\n\u30dd\u30a4\u30f3\u30c81\u3000\u8981\u7d20\u30c7\u30fc\u30bf\u306e\u53d6\u5f97(\u30bb\u30f3\u30b5\u30fc\u304b\u3089)\n\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u53d6\u5f97\u3059\u308b\u30c7\u30fc\u30bf\u306fRaspberry Pi 2\u306esysfs\u4eee\u60f3\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u3067\u53d6\u5f97\u53ef\u80fd\u3089\u3057\u3044\u3002\n\u4e00\u822c\u7684\u306bLinux\u4e0a\u3067\u30c7\u30d0\u30a4\u30b9\u306e\u60c5\u5831\u3092\u8aad\u307f\u53d6\u308b\u306b\u306f\u3001Sysfs\u4eee\u60f3\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u901a\u3058\u3066/sys/devices\u914d\u4e0b\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u3002\n/sys/class\u914d\u4e0b\u306f\u305d\u306e\u76f4\u4e0b\u306e\u30d5\u30a9\u30eb\u30c0\u540d\u304c\u30c7\u30d0\u30a4\u30b9\u306e\u7a2e\u985e\u3092\u8868\u3057\u3066\u3044\u3066\u3088\u308a\u4eba\u9593\u306b\u5206\u304b\u308a\u3084\u3059\u3044\u3002/sys/class\u914d\u4e0b\u306f/sys/device\u914d\u4e0b\u3078\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u4f7f\u3044\u52dd\u624b\u306e\u9762\u304b\u3089\u3053\u3061\u3089\u3092\u53c2\u7167\u3059\u308b\u3067\u3082\u3088\u3044\u3002\nRaspberry Pi 2\u3067\u306f\u30bb\u30f3\u30b5\u30fc\u3068\u306e\u7269\u7406\u7684\u306aI/O\u306e\u624b\u6bb5\u3068\u3057\u3066GPIO\u306a\u308b\u3082\u306e\u3092\u4f7f\u3048\u308b\u306e\u3067\u3001\u3053\u308c\u306b\u5bfe\u5fdc\u3059\u308b/sys/class/gpio\u914d\u4e0b\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u3067\u30bb\u30f3\u30b5\u30fc\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3067\u304d\u308b(\u3089\u3057\u3044)\u3002\n\u300c(1) \u4ed5\u7d44\u307f\u306e\u7406\u89e3\u300d\u7de8\u3067\u306fsample\u30d7\u30ed\u30b0\u30e9\u30e0\u304c/sys/class/thermal\u914d\u4e0b\u304b\u3089Raspberry Pi 2\u306eCPU\u6e29\u5ea6\u3092\u8aad\u307f\u53d6\u308b\u69cb\u6210\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3001\u300c(2) \u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u3066\u30c7\u30fc\u30bf\u3092\u62fe\u3046\u300d\u7de8\u3067\u306f/sys/class/gpio\u914d\u4e0b\u304b\u3089\u30bb\u30f3\u30b5\u30fc\u306e\u30c7\u30fc\u30bf\u3092\u53c2\u7167\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u308b\u3002\n\n\u30dd\u30a4\u30f3\u30c82\u3000\u8981\u7d20\u30c7\u30fc\u30bf\u306e\u53d6\u5f97(sysfs\u304b\u3089)\n\u30c7\u30d0\u30a4\u30b9\u7528\u306esample\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u53d6\u5f97\u3067\u304d\u308b\u56fa\u5b9a\u306e4\u3064\u306e\u8981\u7d20\u30c7\u30fc\u30bf\u3068\u306f\u6b21\u306e\u901a\u308a\u3002\n\n\n\nNo.\n\u9805\u76ee\n\u30c7\u30fc\u30bf\u30fb\u30dd\u30a4\u30f3\u30c8\n\u5024\n\n\n\n\n1\n\u540d\u524d\nd.myName\nmyPi(\u56fa\u5b9a\u6587\u5b57\u5217)\n\n\n2\nCPU\u6e29\u5ea6\nd.cputemp\n\u5b9f\u6e2c\u3057\u305f\u6e29\u5ea6(\u5c0f\u6570)\n\n\n3\n\u30ed\u30fc\u30c9\u30a2\u30d9\u30ec\u30fc\u30b8\nd.cpuload\n\u30ed\u30fc\u30c9\u30a2\u30d9\u30ec\u30fc\u30b8(\u5c0f\u6570)\n\n\n4\n\u6b63\u5f26(\u30b5\u30a4\u30f3)\u5024\nd.sine\n-1 \uff5e 1(\u5c0f\u6570)\n\n\n\n\u305d\u308c\u305e\u308c\u306e\u5024\u306f\u6b21\u306e\u3088\u3046\u306b\u53d6\u5f97\u30fb\u751f\u6210\u3057\u3066\u3044\u308b\u3002\nmyName\u3000\uff1a\n\u3000iot.h\u306b\u3079\u305f\u66f8\u304d\u3002\u56fa\u5b9a\u6587\u5b57\u5217\u306b\u306a\u3063\u3066\u3044\u308b\u3002\u30c7\u30d0\u30a4\u30b9\u306e\u60c5\u5831\u3067\u306f\u306a\u3044\u3002\n\niot.h(40\u884c\u76ee)\n#define DEVICE_NAME \"myPi\"\n\n\ncputemp\u3000\uff1a\n\u3000cpustat.c\u306egetCPUTemp()\u95a2\u6570\u5185\u3067/sys/class/thermal/thermal_zone0/temp\u3092\u8aad\u3093\u3067\u3044\u308b\u3002\n\ncpustat.c(24\u884c\u76ee)\nchar cputemploc[255] = \"/sys/class/thermal/thermal_zone0/temp\";\n\n\n\ncpustat.c(30\uff5e46\u884c\u76ee)\nfloat getCPUTemp() {\n    FILE * cputemp = NULL;\n    char buffer [SIZE];\n    long tempinmillic;\n    float tempinc;\n\n    memset(buffer, 0, sizeof(buffer));\n    cputemp = fopen(cputemploc, \"r\");\n\n    fgets(buffer, SIZE, cputemp);\n\n    tempinmillic = atol(buffer);\n    tempinc = tempinmillic * 1.0 / 1000.0;\n\n    fclose(cputemp);\n    return tempinc;\n}\n\n\ncpuload\u3000\uff1a\n\u3000cpustat.c\u306eGetCPULoad()\u95a2\u6570\u5185\u3067/proc/loadavg\u3092\u8aad\u3093\u3067\u3044\u308b\u3002\n\ncpustat.c(25\u884c\u76ee)\nchar cpuloadloc[255] = \"/proc/loadavg\";\n\n\n\ncpustat.c(48\uff5e58\u884c\u76ee)\nfloat GetCPULoad() {\n\n    FILE *f1;\n        float load1,load5,load15;\n\n        f1 = fopen(cpuloadloc, \"r\");\n        fscanf(f1, \"%f\\t%f\\t%f\\t\", &load1, &load5, &load15 );\n    fclose(f1);\n        return (load1);\n\n}\n\n\nsine\u3000\uff1a\n\u3000iotmain.c\u3067\u30b5\u30a4\u30f3(\u6b63\u5f26)\u5024\u3092\u8a08\u7b97\u3057\u3066\u751f\u6210\u3059\u308b\u3002\u30c7\u30d0\u30a4\u30b9\u306e\u60c5\u5831\u3067\u306f\u306a\u3044\u3002\n\niotmain.c(211\uff5e215\u884c\u76ee)\nfloat sineVal(float minValue, float maxValue, float duration, float count) {\n    float sineValue;\n    sineValue = sin(2.0 * PI * count / duration) * (maxValue - minValue) / 2.0;\n    return sineValue;\n}\n\n\n\n\u30dd\u30a4\u30f3\u30c83\u3000JSON\u30c7\u30fc\u30bf\u306e\u7d44\u307f\u7acb\u3066\n\u53d6\u5f97\u30fb\u751f\u6210\u3057\u305f\u5024\u3092\u4f7f\u3063\u3066JSON\u30c7\u30fc\u30bf\u3092\u7d44\u307f\u7acb\u3066\u308b\u3002\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306fiotmain.c\u3068jsonator.c\nJSON\u306b\u3057\u305f\u3044\u8981\u7d20\u30c7\u30fc\u30bf\u3092\u3001\u3044\u3063\u305f\u3093C\u306e\u69cb\u9020\u4f53\u306b\u683c\u7d0d\u3057\u3066\u3001\n\niot.h(22\uff5e30\u884c\u76ee)\n  struct json {\n      char myname[100];\n      float cputemp;\n      float sine;\n      float cpuload;\n  };\n\n  /* This is the short hand for json */\n  typedef struct json JsonMessage;\n\n\n\niotmain.c(152,153\u884c\u76ee)\n        JsonMessage json_message = { DEVICE_NAME, getCPUTemp(), sineVal(\n                MIN_VALUE, MAX_VALUE, 16, count), GetCPULoad() };\n\n\ngenerateJSON()\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3076\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u69cb\u9020\u3092C\u306e\u69cb\u9020\u4f53\u304b\u3089JSON\u5f62\u5f0f\u306b\u5909\u63db\u3057\u3066\u3044\u308b\u3002\n\niotmain.c(152,153\u884c\u76ee)\n        json = generateJSON(json_message);\n\n\n\njsonator.c(23\uff5e55\u884c\u76ee)\nchar * generateJSON(JsonMessage passedrpi ) {\n    char * jsonReturned;\n\n    // 2 braces, 4 colons, 3 commas, 10 double-quotes makes it 19\n    jsonReturned = calloc(1, sizeof passedrpi + sizeof(char) * 25);\n\n    strcat(jsonReturned, \"{\\\"d\\\":\");\n    strcat(jsonReturned, \"{\");\n\n    strcat(jsonReturned, \"\\\"myName\\\":\\\"\");\n    strcat(jsonReturned, passedrpi.myname);\n    strcat(jsonReturned, \"\\\",\");\n    char buffer[10];\n\n    strcat(jsonReturned, \"\\\"cputemp\\\":\");\n    sprintf(buffer, \"%.2f\", passedrpi.cputemp);\n    strcat(jsonReturned, buffer);\n    strcat(jsonReturned, \",\");\n\n    strcat(jsonReturned, \"\\\"cpuload\\\":\");\n    sprintf(buffer, \"%.2f\", passedrpi.cpuload);\n    strcat(jsonReturned, buffer);\n    strcat(jsonReturned, \",\");\n\n    strcat(jsonReturned, \"\\\"sine\\\":\");\n    sprintf(buffer, \"%.2f\", passedrpi.sine);\n    strcat(jsonReturned, buffer);\n\n    strcat(jsonReturned, \"}\");\n    strcat(jsonReturned, \"}\");\n\n    return jsonReturned;\n}\n\n\nMQTT\u3067\u30c7\u30fc\u30bf\u9001\u4fe1\u3059\u308b\u969b\u306f\u3001\u5177\u4f53\u7684\u306b\u306f\u3053\u3093\u306a\u611f\u3058\u306e\u96fb\u6587\u306b\u306a\u308b\u3002(\u30a4\u30e1\u30fc\u30b8)\n{\"d\":{\"myName\":\"myPi\",\"cputemp\":46.54,\"cpuload\":0.00,\"sine\":-0.92}}\n\u6539\u884c\u3092\u5165\u308c\u3066\u898b\u3084\u3059\u304f\u3059\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u3002(\u30a4\u30e1\u30fc\u30b8)\n{\n    \"d\":{\n        \"myName\":\"myPi\",\n        \"cputemp\":46.54,\n        \"cpuload\":0.00,\n        \"sine\":-0.92\n    }\n}\n\n\n\u30dd\u30a4\u30f3\u30c84\u3000MQTT\u30d7\u30ed\u30c8\u30b3\u30eb\u3067JSON\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\nMQTT\u30d7\u30ed\u30c8\u30b3\u30eb\u3067publish\u3059\u308b\u3002\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306fmqttPublisher.c\nMQTT\u306e\u69cb\u6210\u8981\u7d20\n\u3000MQTT\u30d6\u30ed\u30fc\u30ab\u30fc\u3000\u3000\uff1a\u3000Bluemix\u306eIoT Foundataion\u30b5\u30fc\u30d3\u30b9\n\u3000MQTT\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3000\uff1a\u3000\u30c7\u30d0\u30a4\u30b9\u7528\u306esample\u30d7\u30ed\u30b0\u30e9\u30e0\nMQTT\u306e\u300c\u30c8\u30d4\u30c3\u30af\u300d\u306fiotmain.c\u3067\u6b21\u306e\u901a\u308a\u6307\u5b9a\u3057\u3066\u3044\u308b\u3002\n\u3000publish\u7528\u3000\u3000\uff1a\u3000iot-2/evt/status/fmt/json\n\u3000subscribe\u7528\u3000\uff1a\u3000iot-2/cmd/reboot/fmt/json\n\niotmain.c(29,30\u884c\u76ee)\nchar publishTopic[MAXBUF] = \"iot-2/evt/status/fmt/json\";\nchar subscribeTopic[MAXBUF] = \"iot-2/cmd/reboot/fmt/json\";\n\n\nMQTT Publish\n\niotmain.c(155\u884c\u76ee)\n        res = publishMQTTMessage(&client, publishTopic, json);\n\n\n\nmqttPublisher.c(270\uff5e299\u884c\u76ee)\nint publishMQTTMessage(MQTTAsync* client, char *topic, char *payload) {\n\n    MQTTAsync_message pubmsg = MQTTAsync_message_initializer;\n    MQTTAsync_responseOptions opts = MQTTAsync_responseOptions_initializer;\n    int rc = MQTTASYNC_SUCCESS;\n\n    opts.onSuccess = onSend;\n    opts.context = *client;\n\n    pubmsg.payload = payload;\n    pubmsg.payloadlen = strlen(payload);\n    pubmsg.qos = QOS;\n    pubmsg.retained = 0;\n    deliveredtoken = 0;\n\n    if ((rc = MQTTAsync_sendMessage(*client, topic, &pubmsg, &opts))\n            != MQTTASYNC_SUCCESS) {\n#ifdef ERROR\n        syslog(LOG_ERR, \"Failed to start sendMessage, return code %d\\n\", rc);\n#endif\n        return rc;\n    }\n\n#ifdef INFO\n    syslog(LOG_DEBUG, \"Waiting for publication of %s on topic %s\\n\", payload,\n            topic);\n#endif\n\n    return rc;\n}\n\n\nBluemix IoTF\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n\n\u7d9a\u304d\n(2)\u3000\u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u3066\u30c7\u30fc\u30bf\u3092\u62fe\u3046\u3000\u6e29\u5ea6\u30bb\u30f3\u30b5\u30fc\u30c7\u30b8\u30bf\u30eb\u7de8\n\u756a\u5916\u7de8 \u300e\u30e0\u30c3\u30af\u300c\u65e5\u7d4cLinux \u30e9\u30ba\u30d1\u30a4\u30de\u30ac\u30b8\u30f3 2015\u5e74\u6625\u53f7 \u300d\u96fb\u5b50\u5de5\u4f5c\u5165\u9580\u30ad\u30c3\u30c8 \u30d1\u30fc\u30c4\u30bb\u30c3\u30c8\u300f\u306b\u5165\u3063\u3066\u3044\u305f\u3082\u306e\n\n\u74b0\u5883\nRaspberry Pi 2 Model B\nRaspbian\nBluemix IoT Foundation\n\n\u53c2\u8003\nBluemix\u306eRaspberryPi\u767b\u9332\u30ec\u30b7\u30d4\nhttps://developer.ibm.com/recipes/tutorials/raspberry-pi-4/\nBluemix\u306eRaspberryPi\u767b\u9332\u30ec\u30b7\u30d4\u306b\u767b\u5834\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u7528\u306esample\u30d7\u30ed\u30b0\u30e9\u30e0\n(Linux\u7528\u306edaemon\u306b\u306a\u3063\u3066\u3044\u308b)\nhttps://github.com/ibm-messaging/iot-raspberrypi/blob/master/samples/c/\nsysfs\u4eee\u60f3\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u3064\u3044\u3066\n(\u8aad\u3093\u3067\u3082\u3088\u304f\u5206\u304b\u3089\u3093\u304c\u3002\u3002)\nhttps://ja.wikipedia.org/wiki/Sysfs\nCPU\u306e\u6e29\u5ea6\u3092/sys/class/thermal/thermal_zone0/temp\u304b\u3089\u62fe\u3046\u7406\u7531\u306f\uff1f\nhttp://unix.stackexchange.com/questions/167207/why-does-linux-store-cpu-temperatures-on-so-many-files\n/sys/class/thermal\u914d\u4e0b\u306e\u69cb\u6210\u306f\uff1f\nhttps://www.kernel.org/doc/Documentation/thermal/sysfs-api.txt\n#<i class=\"fa fa-cubes\" style=\"font-size:1em;\"></i>\u6982\u8981\n[Bluemix\u306eRaspberryPi\u767b\u9332\u30ec\u30b7\u30d4](https://developer.ibm.com/recipes/tutorials/raspberry-pi-4/)\u306b\u767b\u5834\u3059\u308b[\u30c7\u30d0\u30a4\u30b9\u7528\u306esample\u30d7\u30ed\u30b0\u30e9\u30e0](https://github.com/ibm-messaging/iot-raspberrypi/releases/tag/1.0.2)\u306f\u3001\u3069\u3093\u306a\u306b\u30bb\u30f3\u30b5\u30fc\u304c\u305f\u304f\u3055\u3093\u4ed8\u3044\u3066\u3044\u3088\u3046\u304c\u56fa\u5b9a\u306e4\u9805\u76ee\u306e\u30c7\u30fc\u30bf\u306e\u307f\u3092Bluemix\u306b\u9001\u4fe1\u3059\u308b\u4f5c\u308a\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\nRaspberry Pi 2\u306b\u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u52a0\u3048\u3066\u56fa\u5b9a4\u9805\u76ee\u4ee5\u5916\u306e\u30c7\u30fc\u30bf\u3092Bluemix\u3067\u53d6\u5f97\u3059\u308b\u306b\u306f\u3001[sample\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9](https://github.com/ibm-messaging/iot-raspberrypi/blob/master/samples/c/)\u3092\u4fee\u6b63\u3057\u3066\u30d3\u30eb\u30c9\u3059\u308c\u3070\u826f\u3044\u3002\u305d\u306e\u65b9\u6cd5\u3092\u6574\u7406\u3059\u308b\u3002\n\n\u6574\u7406\u3057\u3066\u3044\u308b\u5185\u306b\u9577\u304f\u306a\u3063\u3066\u304d\u305f\u306e\u3067\u3001(1)Sample\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4ed5\u7d44\u307f\u306e\u6574\u7406\u3068(2)\u3069\u3053\u3092\u3069\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308c\u3070\u3088\u3044\u306e\u304b\u3092\u5206\u3051\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\n(1)\u3000\u4ed5\u7d44\u307f\u306e\u7406\u89e3\u3000(\u3053\u308c)\n[(2)\u3000\u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u3066\u30c7\u30fc\u30bf\u3092\u62fe\u3046\u3000\u6e29\u5ea6\u30bb\u30f3\u30b5\u30fc\u30c7\u30b8\u30bf\u30eb\u7de8](http://qiita.com/getapojim/items/0f2b5178bfaddafcde9f)\n[(3)\u3000\u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u3066\u30c7\u30fc\u30bf\u3092\u62fe\u3046\u3000\u6e29\u5ea6\u30bb\u30f3\u30b5\u30fc\u30a2\u30ca\u30ed\u30b0\u7de8](http://qiita.com/getapojim/items/12e5cb64a8046ab033e9)\n[(4)\u3000\u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u3066\u30c7\u30fc\u30bf\u3092\u62fe\u3046\u3000\u6e29\u5ea6\u30bb\u30f3\u30b5\u30fc\u30c7\u30b8\u30bf\u30eb\u7de8\uff08\u30ea\u30d9\u30f3\u30b8\uff09](http://qiita.com/getapojim/items/0ea4c7369d342d5b00d5)\n[(5)\u3000\u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u3066\u30c7\u30fc\u30bf\u3092\u62fe\u3046\u3000\u6e29\u5ea6\u30fb\u6e7f\u5ea6\u30fb\u6c17\u5727\u307e\u3068\u3081\u3066\u63a1\u53d6\u7de8](http://qiita.com/getapojim/items/dfa526ece3af603b981e)\n\u756a\u5916\u7de8 [\u300e\u30e0\u30c3\u30af\u300c\u65e5\u7d4cLinux \u30e9\u30ba\u30d1\u30a4\u30de\u30ac\u30b8\u30f3 2015\u5e74\u6625\u53f7 \u300d\u96fb\u5b50\u5de5\u4f5c\u5165\u9580\u30ad\u30c3\u30c8 \u30d1\u30fc\u30c4\u30bb\u30c3\u30c8\u300f\u306b\u5165\u3063\u3066\u3044\u305f\u3082\u306e](http://qiita.com/getapojim/items/c90edd38c0ad9d5eb379)\n\n#<i class=\"fa fa-cube\" style=\"font-size:1em;\"></i>\u69cb\u6210\u306e\u30a4\u30e1\u30fc\u30b8\nIoT\u3068\u3044\u3046\u69cb\u6210\u3067\u8003\u3048\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u3002\u4e0b\u6bb5\u307b\u3069\u3088\u308a\u5177\u4f53\u7684\u306b\u3002<font color=red>(\u56f3\u306b\u3057\u305f\u3044)</font>\nThings\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u2192\u3000Internet\n\u30bb\u30f3\u30b5\u30fc\u3000\u2192\u3000\u30c7\u30d0\u30a4\u30b9\u3000\u3000\u3000\u3000\u3000\u3000\u2192\u3000\u30af\u30e9\u30a6\u30c9\n\u30bb\u30f3\u30b5\u30fc\u3000\u2192\u3000Raspberry Pi 2(sysfs)\u3000\u2192\u3000Bluemix(IoT Foundation)\n\u3000\u3000\u3000\u3000\u3000\u2191\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u2191\n\u3000\u3000\u3000\u30dd\u30a4\u30f3\u30c81\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u30dd\u30a4\u30f3\u30c82,3,4\n\n#<i class=\"fa fa-cube\" style=\"font-size:1em;\"></i>\u30dd\u30a4\u30f3\u30c81\u3000\u8981\u7d20\u30c7\u30fc\u30bf\u306e\u53d6\u5f97(\u30bb\u30f3\u30b5\u30fc\u304b\u3089)\n\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u53d6\u5f97\u3059\u308b\u30c7\u30fc\u30bf\u306fRaspberry Pi 2\u306esysfs\u4eee\u60f3\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u3067\u53d6\u5f97\u53ef\u80fd\u3089\u3057\u3044\u3002\n\n<!--\n\u4eca\u56de\u306f\u4f8b\u3068\u3057\u3066\u25cb\u25cb\u25cb\u30bb\u30f3\u30b5\u30fc\u3068\u3057\u3066\u25b3\u25b3\u25b3\u3092\u4f7f\u3046\u3002\n-->\n\n<!--\nfritzing\u3067\u63cf\u3044\u305f\u56f3\u3092\u3053\u3053\u306b\u8cbc\u308a\u305f\u3044\u3002\n-->\n\n\u4e00\u822c\u7684\u306bLinux\u4e0a\u3067\u30c7\u30d0\u30a4\u30b9\u306e\u60c5\u5831\u3092\u8aad\u307f\u53d6\u308b\u306b\u306f\u3001Sysfs\u4eee\u60f3\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u901a\u3058\u3066/sys/devices\u914d\u4e0b\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u3002\n/sys/class\u914d\u4e0b\u306f\u305d\u306e\u76f4\u4e0b\u306e\u30d5\u30a9\u30eb\u30c0\u540d\u304c\u30c7\u30d0\u30a4\u30b9\u306e\u7a2e\u985e\u3092\u8868\u3057\u3066\u3044\u3066\u3088\u308a\u4eba\u9593\u306b\u5206\u304b\u308a\u3084\u3059\u3044\u3002/sys/class\u914d\u4e0b\u306f/sys/device\u914d\u4e0b\u3078\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u4f7f\u3044\u52dd\u624b\u306e\u9762\u304b\u3089\u3053\u3061\u3089\u3092\u53c2\u7167\u3059\u308b\u3067\u3082\u3088\u3044\u3002\n\nRaspberry Pi 2\u3067\u306f\u30bb\u30f3\u30b5\u30fc\u3068\u306e\u7269\u7406\u7684\u306aI/O\u306e\u624b\u6bb5\u3068\u3057\u3066GPIO\u306a\u308b\u3082\u306e\u3092\u4f7f\u3048\u308b\u306e\u3067\u3001\u3053\u308c\u306b\u5bfe\u5fdc\u3059\u308b/sys/class/gpio\u914d\u4e0b\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u3067\u30bb\u30f3\u30b5\u30fc\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3067\u304d\u308b(\u3089\u3057\u3044)\u3002\n\n\u300c(1) \u4ed5\u7d44\u307f\u306e\u7406\u89e3\u300d\u7de8\u3067\u306fsample\u30d7\u30ed\u30b0\u30e9\u30e0\u304c/sys/class/thermal\u914d\u4e0b\u304b\u3089Raspberry Pi 2\u306eCPU\u6e29\u5ea6\u3092\u8aad\u307f\u53d6\u308b\u69cb\u6210\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3001\u300c(2) \u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u3066\u30c7\u30fc\u30bf\u3092\u62fe\u3046\u300d\u7de8\u3067\u306f/sys/class/gpio\u914d\u4e0b\u304b\u3089\u30bb\u30f3\u30b5\u30fc\u306e\u30c7\u30fc\u30bf\u3092\u53c2\u7167\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u308b\u3002\n\n#<i class=\"fa fa-cube\" style=\"font-size:1em;\"></i>\u30dd\u30a4\u30f3\u30c82\u3000\u8981\u7d20\u30c7\u30fc\u30bf\u306e\u53d6\u5f97(sysfs\u304b\u3089)\n\n[\u30c7\u30d0\u30a4\u30b9\u7528\u306esample\u30d7\u30ed\u30b0\u30e9\u30e0](https://github.com/ibm-messaging/iot-raspberrypi/releases/tag/1.0.2)\u3067\u53d6\u5f97\u3067\u304d\u308b\u56fa\u5b9a\u306e4\u3064\u306e\u8981\u7d20\u30c7\u30fc\u30bf\u3068\u306f\u6b21\u306e\u901a\u308a\u3002\n\n| No. | \u9805\u76ee            | \u30c7\u30fc\u30bf\u30fb\u30dd\u30a4\u30f3\u30c8 | \u5024                                                                |\n| --: | :--             | :--            |:--                                                                |\n| 1   | \u540d\u524d            | d.myName\t |myPi(\u56fa\u5b9a\u6587\u5b57\u5217)                                                         |\n| 2   | CPU\u6e29\u5ea6         | d.cputemp\t |\u5b9f\u6e2c\u3057\u305f\u6e29\u5ea6(\u5c0f\u6570)                                                  |\n| 3   | \u30ed\u30fc\u30c9\u30a2\u30d9\u30ec\u30fc\u30b8 | d.cpuload\t |[\u30ed\u30fc\u30c9\u30a2\u30d9\u30ec\u30fc\u30b8(\u5c0f\u6570)](https://www.google.co.jp/search?q=\u30ed\u30fc\u30c9\u30a2\u30d9\u30ec\u30fc\u30b8)|\n| 4   | \u6b63\u5f26(\u30b5\u30a4\u30f3)\u5024   | d.sine         |-1 \uff5e 1(\u5c0f\u6570)                                                            |\n\n\u305d\u308c\u305e\u308c\u306e\u5024\u306f\u6b21\u306e\u3088\u3046\u306b\u53d6\u5f97\u30fb\u751f\u6210\u3057\u3066\u3044\u308b\u3002\n\nmyName\u3000\uff1a\n\u3000iot.h\u306b\u3079\u305f\u66f8\u304d\u3002\u56fa\u5b9a\u6587\u5b57\u5217\u306b\u306a\u3063\u3066\u3044\u308b\u3002\u30c7\u30d0\u30a4\u30b9\u306e\u60c5\u5831\u3067\u306f\u306a\u3044\u3002\n\n```c:iot.h(40\u884c\u76ee)\n#define DEVICE_NAME \"myPi\"\n```\n\ncputemp\u3000\uff1a\n\u3000cpustat.c\u306egetCPUTemp()\u95a2\u6570\u5185\u3067/sys/class/thermal/thermal_zone0/temp\u3092\u8aad\u3093\u3067\u3044\u308b\u3002\n\n```c:cpustat.c(24\u884c\u76ee)\nchar cputemploc[255] = \"/sys/class/thermal/thermal_zone0/temp\";\n```\n\n```c:cpustat.c(30\uff5e46\u884c\u76ee)\nfloat getCPUTemp() {\n\tFILE * cputemp = NULL;\n\tchar buffer [SIZE];\n\tlong tempinmillic;\n\tfloat tempinc;\n\n\tmemset(buffer, 0, sizeof(buffer));\n\tcputemp = fopen(cputemploc, \"r\");\n\n\tfgets(buffer, SIZE, cputemp);\n\n\ttempinmillic = atol(buffer);\n\ttempinc = tempinmillic * 1.0 / 1000.0;\n\n\tfclose(cputemp);\n\treturn tempinc;\n}\n```\n\ncpuload\u3000\uff1a\n\u3000cpustat.c\u306eGetCPULoad()\u95a2\u6570\u5185\u3067/proc/loadavg\u3092\u8aad\u3093\u3067\u3044\u308b\u3002\n\n```c:cpustat.c(25\u884c\u76ee)\nchar cpuloadloc[255] = \"/proc/loadavg\";\n```\n\n```c:cpustat.c(48\uff5e58\u884c\u76ee)\nfloat GetCPULoad() {\n\t\n\tFILE *f1;\n        float load1,load5,load15;\n\n        f1 = fopen(cpuloadloc, \"r\");\n        fscanf(f1, \"%f\\t%f\\t%f\\t\", &load1, &load5, &load15 );\n\tfclose(f1);\n        return (load1);\n\n}\n```\n\nsine\u3000\uff1a\n\u3000iotmain.c\u3067\u30b5\u30a4\u30f3(\u6b63\u5f26)\u5024\u3092\u8a08\u7b97\u3057\u3066\u751f\u6210\u3059\u308b\u3002\u30c7\u30d0\u30a4\u30b9\u306e\u60c5\u5831\u3067\u306f\u306a\u3044\u3002\n\n```c:iotmain.c(211\uff5e215\u884c\u76ee)\nfloat sineVal(float minValue, float maxValue, float duration, float count) {\n\tfloat sineValue;\n\tsineValue = sin(2.0 * PI * count / duration) * (maxValue - minValue) / 2.0;\n\treturn sineValue;\n}\n```\n\n#<i class=\"fa fa-cube\" style=\"font-size:1em;\"></i>\u30dd\u30a4\u30f3\u30c83\u3000JSON\u30c7\u30fc\u30bf\u306e\u7d44\u307f\u7acb\u3066\n\u53d6\u5f97\u30fb\u751f\u6210\u3057\u305f\u5024\u3092\u4f7f\u3063\u3066JSON\u30c7\u30fc\u30bf\u3092\u7d44\u307f\u7acb\u3066\u308b\u3002\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f[iotmain.c](https://github.com/ibm-messaging/iot-raspberrypi/blob/master/samples/c/iotmain.c)\u3068[jsonator.c](https://github.com/ibm-messaging/iot-raspberrypi/blob/master/samples/c/jsonator.c)\n\nJSON\u306b\u3057\u305f\u3044\u8981\u7d20\u30c7\u30fc\u30bf\u3092\u3001\u3044\u3063\u305f\u3093C\u306e\u69cb\u9020\u4f53\u306b\u683c\u7d0d\u3057\u3066\u3001\n\n```c:iot.h(22\uff5e30\u884c\u76ee)\n  struct json {\n\t  char myname[100];\n\t  float cputemp;\n\t  float sine;\n\t  float cpuload;\n  };\n\n  /* This is the short hand for json */\n  typedef struct json JsonMessage;\n```\n\n```c:iotmain.c(152,153\u884c\u76ee)\n\t\tJsonMessage json_message = { DEVICE_NAME, getCPUTemp(), sineVal(\n\t\t\t\tMIN_VALUE, MAX_VALUE, 16, count), GetCPULoad() };\n```\n\ngenerateJSON()\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3076\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u69cb\u9020\u3092C\u306e\u69cb\u9020\u4f53\u304b\u3089JSON\u5f62\u5f0f\u306b\u5909\u63db\u3057\u3066\u3044\u308b\u3002\n\n```c:iotmain.c(152,153\u884c\u76ee)\n\t\tjson = generateJSON(json_message);\n```\n\n```c:jsonator.c(23\uff5e55\u884c\u76ee)\nchar * generateJSON(JsonMessage passedrpi ) {\n\tchar * jsonReturned;\n\n\t// 2 braces, 4 colons, 3 commas, 10 double-quotes makes it 19\n\tjsonReturned = calloc(1, sizeof passedrpi + sizeof(char) * 25);\n\n\tstrcat(jsonReturned, \"{\\\"d\\\":\");\n\tstrcat(jsonReturned, \"{\");\n\n\tstrcat(jsonReturned, \"\\\"myName\\\":\\\"\");\n\tstrcat(jsonReturned, passedrpi.myname);\n\tstrcat(jsonReturned, \"\\\",\");\n\tchar buffer[10];\n\n\tstrcat(jsonReturned, \"\\\"cputemp\\\":\");\n\tsprintf(buffer, \"%.2f\", passedrpi.cputemp);\n\tstrcat(jsonReturned, buffer);\n\tstrcat(jsonReturned, \",\");\n\n\tstrcat(jsonReturned, \"\\\"cpuload\\\":\");\n\tsprintf(buffer, \"%.2f\", passedrpi.cpuload);\n\tstrcat(jsonReturned, buffer);\n\tstrcat(jsonReturned, \",\");\n\n\tstrcat(jsonReturned, \"\\\"sine\\\":\");\n\tsprintf(buffer, \"%.2f\", passedrpi.sine);\n\tstrcat(jsonReturned, buffer);\n\n\tstrcat(jsonReturned, \"}\");\n\tstrcat(jsonReturned, \"}\");\n\n\treturn jsonReturned;\n}\n```\n\nMQTT\u3067\u30c7\u30fc\u30bf\u9001\u4fe1\u3059\u308b\u969b\u306f\u3001\u5177\u4f53\u7684\u306b\u306f\u3053\u3093\u306a\u611f\u3058\u306e\u96fb\u6587\u306b\u306a\u308b\u3002(\u30a4\u30e1\u30fc\u30b8)\n`{\"d\":{\"myName\":\"myPi\",\"cputemp\":46.54,\"cpuload\":0.00,\"sine\":-0.92}}`\n\n\u6539\u884c\u3092\u5165\u308c\u3066\u898b\u3084\u3059\u304f\u3059\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u3002(\u30a4\u30e1\u30fc\u30b8)\n\n```json:\n{\n    \"d\":{\n        \"myName\":\"myPi\",\n        \"cputemp\":46.54,\n        \"cpuload\":0.00,\n        \"sine\":-0.92\n    }\n}\n```\n\n#<i class=\"fa fa-cube\" style=\"font-size:1em;\"></i>\u30dd\u30a4\u30f3\u30c84\u3000MQTT\u30d7\u30ed\u30c8\u30b3\u30eb\u3067JSON\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\nMQTT\u30d7\u30ed\u30c8\u30b3\u30eb\u3067publish\u3059\u308b\u3002\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f[mqttPublisher.c](https://github.com/ibm-messaging/iot-raspberrypi/blob/master/samples/c/mqttPublisher.c)\n\nMQTT\u306e\u69cb\u6210\u8981\u7d20\n\u3000MQTT\u30d6\u30ed\u30fc\u30ab\u30fc\u3000\u3000\uff1a\u3000Bluemix\u306e[IoT Foundataion\u30b5\u30fc\u30d3\u30b9](https://internetofthings.ibmcloud.com/)\n\u3000MQTT\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3000\uff1a\u3000[\u30c7\u30d0\u30a4\u30b9\u7528\u306esample\u30d7\u30ed\u30b0\u30e9\u30e0](https://github.com/ibm-messaging/iot-raspberrypi/releases/tag/1.0.2)\n\nMQTT\u306e\u300c\u30c8\u30d4\u30c3\u30af\u300d\u306f[iotmain.c](https://github.com/ibm-messaging/iot-raspberrypi/blob/master/samples/c/iotmain.c)\u3067\u6b21\u306e\u901a\u308a\u6307\u5b9a\u3057\u3066\u3044\u308b\u3002\n\u3000publish\u7528\u3000\u3000\uff1a\u3000iot-2/evt/status/fmt/json\n\u3000subscribe\u7528\u3000\uff1a\u3000iot-2/cmd/reboot/fmt/json\n\n```c:iotmain.c(29,30\u884c\u76ee)\nchar publishTopic[MAXBUF] = \"iot-2/evt/status/fmt/json\";\nchar subscribeTopic[MAXBUF] = \"iot-2/cmd/reboot/fmt/json\";\n```\n\nMQTT Publish\n\n```c:iotmain.c(155\u884c\u76ee)\n\t\tres = publishMQTTMessage(&client, publishTopic, json);\n```\n\n```c:mqttPublisher.c(270\uff5e299\u884c\u76ee)\nint publishMQTTMessage(MQTTAsync* client, char *topic, char *payload) {\n\n\tMQTTAsync_message pubmsg = MQTTAsync_message_initializer;\n\tMQTTAsync_responseOptions opts = MQTTAsync_responseOptions_initializer;\n\tint rc = MQTTASYNC_SUCCESS;\n\n\topts.onSuccess = onSend;\n\topts.context = *client;\n\n\tpubmsg.payload = payload;\n\tpubmsg.payloadlen = strlen(payload);\n\tpubmsg.qos = QOS;\n\tpubmsg.retained = 0;\n\tdeliveredtoken = 0;\n\n\tif ((rc = MQTTAsync_sendMessage(*client, topic, &pubmsg, &opts))\n\t\t\t!= MQTTASYNC_SUCCESS) {\n#ifdef ERROR\n\t\tsyslog(LOG_ERR, \"Failed to start sendMessage, return code %d\\n\", rc);\n#endif\n\t\treturn rc;\n\t}\n\n#ifdef INFO\n\tsyslog(LOG_DEBUG, \"Waiting for publication of %s on topic %s\\n\", payload,\n\t\t\ttopic);\n#endif\n\n\treturn rc;\n}\n```\n\n\nBluemix IoTF\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002\n![IoTF-\u30bb\u30f3\u30b5\u30fc\u60c5\u5831.png](https://qiita-image-store.s3.amazonaws.com/0/85506/ba2e314d-2faf-212f-70e4-ec81d758fbf5.png)\n\n#<i class=\"fa fa-cube\" style=\"font-size:1em;\"></i>\u7d9a\u304d\n[(2)\u3000\u30bb\u30f3\u30b5\u30fc\u3092\u4ed8\u3051\u3066\u30c7\u30fc\u30bf\u3092\u62fe\u3046\u3000\u6e29\u5ea6\u30bb\u30f3\u30b5\u30fc\u30c7\u30b8\u30bf\u30eb\u7de8](http://qiita.com/getapojim/items/0f2b5178bfaddafcde9f)\n\u756a\u5916\u7de8 [\u300e\u30e0\u30c3\u30af\u300c\u65e5\u7d4cLinux \u30e9\u30ba\u30d1\u30a4\u30de\u30ac\u30b8\u30f3 2015\u5e74\u6625\u53f7 \u300d\u96fb\u5b50\u5de5\u4f5c\u5165\u9580\u30ad\u30c3\u30c8 \u30d1\u30fc\u30c4\u30bb\u30c3\u30c8\u300f\u306b\u5165\u3063\u3066\u3044\u305f\u3082\u306e](http://qiita.com/getapojim/items/c90edd38c0ad9d5eb379)\n\n#<i class=\"fa fa-cube\" style=\"font-size:1em;\"></i>\u74b0\u5883\n\n[Raspberry Pi 2 Model B](https://www.raspberrypi.org/products/raspberry-pi-2-model-b/)\n[Raspbian](https://www.raspberrypi.org/downloads/raspbian/)\n[Bluemix IoT Foundation](https://internetofthings.ibmcloud.com/)\n\n#<i class=\"fa fa-book\" style=\"font-size:1em;\"></i>\u53c2\u8003\nBluemix\u306eRaspberryPi\u767b\u9332\u30ec\u30b7\u30d4\nhttps://developer.ibm.com/recipes/tutorials/raspberry-pi-4/\n\nBluemix\u306eRaspberryPi\u767b\u9332\u30ec\u30b7\u30d4\u306b\u767b\u5834\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u7528\u306esample\u30d7\u30ed\u30b0\u30e9\u30e0\n(Linux\u7528\u306edaemon\u306b\u306a\u3063\u3066\u3044\u308b)\nhttps://github.com/ibm-messaging/iot-raspberrypi/blob/master/samples/c/\n\nsysfs\u4eee\u60f3\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u3064\u3044\u3066\n(\u8aad\u3093\u3067\u3082\u3088\u304f\u5206\u304b\u3089\u3093\u304c\u3002\u3002)\nhttps://ja.wikipedia.org/wiki/Sysfs\n\nCPU\u306e\u6e29\u5ea6\u3092/sys/class/thermal/thermal_zone0/temp\u304b\u3089\u62fe\u3046\u7406\u7531\u306f\uff1f\nhttp://unix.stackexchange.com/questions/167207/why-does-linux-store-cpu-temperatures-on-so-many-files\n\n/sys/class/thermal\u914d\u4e0b\u306e\u69cb\u6210\u306f\uff1f\nhttps://www.kernel.org/doc/Documentation/thermal/sysfs-api.txt\n", "tags": ["RaspberryPi", "Bluemix", "IoT", "IoTFoundation", "mqtt"]}