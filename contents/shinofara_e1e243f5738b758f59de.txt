{"tags": ["golang", "CircleCI", "Go"], "context": "\ncircle.yml\nmachine:\n  environment:\n    GO15VENDOREXPERIMENT: 1\n    GOROOT: \"/home/ubuntu/go\"\n    PATH: \"/home/ubuntu/go/bin:$PATH\"\n\ndependencies:\n  cache_directories:\n    - \"/home/ubuntu/.go\"\n  pre:\n    - >\n      case $CIRCLE_NODE_INDEX in 0) export GOVERSION=1.5.1 ;; 1) export GOVERSION=1.6.1 ;; esac;\n      cd /home/ubuntu;\n      if [[ ! -e /home/ubuntu/.go/$GOERSION/bin/go ]]; then\n        curl https://storage.googleapis.com/golang/go$GOVERSION.linux-amd64.tar.gz | tar -xz;\n        go get -u github.com/jstemmer/go-junit-report;\n        mkdir -p ~/.go;\n        cp -rp ~/go ~/.go/$GOVERSION;\n      else\n        cp -rp ~/.go/$GOVERSION ~/go;\n      fi\n    - go version\n\n\n\ntest:\n  override:\n    - mkdir -p $CIRCLE_TEST_REPORTS/golang:\n        parallel: true    \n    - go test -v $(go list ./...|grep -v vendor) | go-junit-report set-exit-code=true > $CIRCLE_TEST_REPORTS/golang/$CIRCLE_NODE_INDEX.xml:\n        parallel: true\n\n\n\u4f7f\u3046\u30bf\u30a4\u30df\u30f3\u30b0\u3068\u3057\u3066\u306f\u3001\u73fe\u57281.5\u3067\u958b\u767a\u3057\u3066\u3044\u308b\u3051\u3069\u3001\u305d\u308d\u305d\u308d\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e0a\u3052\u305f\u3044\u3068\u304b\n\u307e\u3060\u8003\u3048\u3066\u3044\u306a\u3044\u3051\u3069\u30c6\u30b9\u30c8\u306f\u5e38\u306b\u884c\u3063\u3066\u3044\u305f\u3044\u3068\u304b\u305d\u3046\u3044\u3046\u30a2\u30ec\u304b\u306a\n\u8a73\u3057\u304f\u306fgist\n\n```circle.yml\nmachine:\n  environment:\n    GO15VENDOREXPERIMENT: 1\n    GOROOT: \"/home/ubuntu/go\"\n    PATH: \"/home/ubuntu/go/bin:$PATH\"\n\ndependencies:\n  cache_directories:\n    - \"/home/ubuntu/.go\"\n  pre:\n    - >\n      case $CIRCLE_NODE_INDEX in 0) export GOVERSION=1.5.1 ;; 1) export GOVERSION=1.6.1 ;; esac;\n      cd /home/ubuntu;\n      if [[ ! -e /home/ubuntu/.go/$GOERSION/bin/go ]]; then\n        curl https://storage.googleapis.com/golang/go$GOVERSION.linux-amd64.tar.gz | tar -xz;\n        go get -u github.com/jstemmer/go-junit-report;\n        mkdir -p ~/.go;\n        cp -rp ~/go ~/.go/$GOVERSION;\n      else\n        cp -rp ~/.go/$GOVERSION ~/go;\n      fi\n    - go version\n\n\n\ntest:\n  override:\n    - mkdir -p $CIRCLE_TEST_REPORTS/golang:\n        parallel: true    \n    - go test -v $(go list ./...|grep -v vendor) | go-junit-report set-exit-code=true > $CIRCLE_TEST_REPORTS/golang/$CIRCLE_NODE_INDEX.xml:\n        parallel: true\n```\n\n\u4f7f\u3046\u30bf\u30a4\u30df\u30f3\u30b0\u3068\u3057\u3066\u306f\u3001\u73fe\u57281.5\u3067\u958b\u767a\u3057\u3066\u3044\u308b\u3051\u3069\u3001\u305d\u308d\u305d\u308d\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e0a\u3052\u305f\u3044\u3068\u304b\n\n\u307e\u3060\u8003\u3048\u3066\u3044\u306a\u3044\u3051\u3069\u30c6\u30b9\u30c8\u306f\u5e38\u306b\u884c\u3063\u3066\u3044\u305f\u3044\u3068\u304b\u305d\u3046\u3044\u3046\u30a2\u30ec\u304b\u306a\n\n[\u8a73\u3057\u304f\u306fgist](https://gist.github.com/shinofara/0a2868572f227cdf2faca73ac4b44000)\n"}