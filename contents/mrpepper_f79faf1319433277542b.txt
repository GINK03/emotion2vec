{"context": " More than 1 year has passed since last update.\n\nexpress-\u4ffa-generator\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001goldblend\u306e\u7d9a\u304d\u3067\u3059\u3002\u3068\u306f\u8a00\u3048\u3001\u4eca\u56de\u306fgoldblend\u306e\u6539\u7248\u3067\u306f\u306a\u304f\u3001generator\u306e\u8a71\u3002\u3068\u306f\u8a00\u3048\u3001function * \u3068\u304b\u3001Javascript\u306e\u65b0\u3057\u3044\u8a00\u8a9e\u6a5f\u80fd\u306egenerator\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002express-generator\u306e\u65b9\u306egenerator\u3067\u3059\u3002\u307e\u304e\u3089\u308f\u3057\u3044\u3063\u305f\u3089\u3042\u308a\u3083\u3057\u306a\u3044\u3002\u305d\u306e\u3078\u3093\u306a\u3093\u304b\u8003\u3048\u3066\u6b32\u3057\u3044\u3082\u306e\u3067\u3059\u306d\u3002\n\u3067\u3001\u305d\u3046\u3044\u3046generator\u3092\u4f5c\u308d\u3046\u3068\u601d\u3046\u3068\u3001\u3069\u3046\u3057\u3066\u3082\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u7684\u306a\u3082\u306e\u304c\u6b32\u3057\u304f\u306a\u3063\u3066\u304d\u307e\u3059\u3002\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306b\u5909\u6570\u3092\u5c55\u958b\u3057\u305f\u308a\u3001\u672c\u6587\u4e2d\u306b\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u6307\u4ee4\u307f\u305f\u3044\u306a\u306e\u3067\u5206\u5c90\u3057\u305f\u308a\u3002\n\u3067\u3001\u307e\u3060\u3001express-goldblend-generator\u306f\u3067\u304d\u3066\u3044\u306a\u3044\u306e\u3067\u3059\u304c\uff08\u3067\u304d\u305f\u3089\u3001npm\u306b\u4e0a\u3052\u3088\u3046\u304b\u3068\u601d\u3063\u3066\u3044\u307e\u3059\uff09\u3001\u3068\u308a\u3042\u3048\u305a\u5909\u6570\u5c55\u958b\u3092\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30b3\u30d4\u30fc\u3092\u4f5c\u3063\u305f\u306e\u3067\u3001\u304a\u62ab\u9732\u76ee\u3068\u884c\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f7f\u3044\u65b9\u306f\u3001\u5192\u982d\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u307f\u3066\u3061\u3087\u3093\u307e\u3052\u3002\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30d6\u30ed\u30c3\u30af\u8981\u7d20\u306e\u5165\u308c\u5b50\u3068\u304b\u3001\u307e\u3060\u5145\u5206\u306b\u30c6\u30b9\u30c8\u3067\u304d\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3042\u3057\u304b\u3089\u305a\u3002\u3054\u6307\u6458\u306a\u3069\u9802\u3051\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\u305d\u3057\u3066\u3001\u4f5c\u308d\u3046\u305c\uff01\u3000\u305d\u308c\u305e\u308c\u306e\u590f\uff01\u3000express-\u4ffa-generator\uff01\n\ntemplate.coffee\n#!/usr/bin/env coffee\n\n###\n\u4e0b\u8a18\u300c\u5f0f\u300d\u3067\u306f\u3001param\u3067\u6e21\u3057\u305f\u5909\u6570\u304c\u5c55\u958b\u3055\u308c\u3001\u305d\u306e\u6f14\u7b97\u3082\u53ef\u80fd\u3067\u3042\u308b\u3002\n\u5f0f\u306e\u6587\u6cd5\u306f\u3001\u57fa\u672c\u7684\u306bJavascript\u306e\u6587\u6cd5\u306b\u6e96\u3058\u308b\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u3068\u30d5\u30a1\u30a4\u30eb\u540d\n$$$$$$\u540d\u524d:#(\u5f0f)$$$$$$\n$$$$$$\u540d\u524d:!#(\u5f0f)$$$$$$\n$$$$$$#(\u5f0f)$$$$$$\n    \u5404\u30ad\u30fc\u30ef\u30fc\u30c9\u3068\u3082\u540d\u524d\u5168\u4f53\u3068\u306e\u4e00\u81f4\u306e\u307f\u5224\u5b9a\n    1\u756a\u76ee\u306f\u3001\u5f0f\u306e\u5024==true\u306a\u3089\u3001\u300c\u540d\u524d\u300d\u3068\u3044\u3046\u540d\u524d\u3067\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n    \u3000\u5f0f\u306e\u5024==false\u306a\u3089\u3001\u30b3\u30d4\u30fc\u3055\u308c\u306a\u3044\uff08\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u3089\u3001\u4e2d\u8eab\u3082\u7121\u8996\uff09\n    2\u756a\u76ee\u306f\u3001\u5f0f\u306e\u5024==false\u306a\u3089\u3001\u300c\u540d\u524d\u300d\u3068\u3044\u3046\u540d\u524d\u3067\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n    \u3000\u5f0f\u306e\u5024==true\u306a\u3089\u3001\u30b3\u30d4\u30fc\u3055\u308c\u306a\u3044\uff08\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u3089\u3001\u4e2d\u8eab\u3082\u7121\u8996\uff09\n    3\u756a\u76ee\u306f\u3001\u5f0f\u306e\u5024\u304c\u5b58\u5728\u3059\u308c\u3070\u3001\u5f0f\u306e\u5024\u3092\u540d\u524d\u306b\u3057\u3066\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n    \u3000\u5f0f\u306e\u5024==null\u306a\u3089\u3001\u30b3\u30d4\u30fc\u3055\u308c\u306a\u3044\uff08\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u3089\u3001\u4e2d\u8eab\u3082\u7121\u8996\uff09\n\n\n\u30d5\u30a1\u30a4\u30eb\u5185\n\u30d6\u30ed\u30c3\u30af\u8981\u7d20\uff08\u30d6\u30ed\u30c3\u30af\u8981\u7d20\u306f\u5165\u308c\u5b50\u306b\u3067\u304d\u308b\uff09\n$$$$$$switch \u5f0f1$$$$$$\n$$$$$$when \u5f0f2$$$$$$\n\u3000\u8a18\u8ff02\n$$$$$$when \u5f0f3$$$$$$\n\u3000\u8a18\u8ff03\n$$$$$$else$$$$$$\n\u3000\u8a18\u8ff04\n$$$$$$endswitch$$$$$$\n    \u5f0f2==\u5f0f1\u306a\u3089\u3001\u8a18\u8ff02\u306e\u307f\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n    \u5f0f3==\u5f0f1\u306a\u3089\u3001\u8a18\u8ff03\u306e\u307f\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n    \u3069\u3061\u3089\u3067\u3082\u306a\u3051\u308c\u3070\u3001\u8a18\u8ff04\u306e\u307f\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n    when\u7bc0\u306f\u3044\u304f\u3064\u3042\u3063\u3066\u3082\u3088\u304f\u3001else\u7bc0\u306f\u306a\u304f\u3066\u3082\u3088\u3044\n\n$$$$$$if \u5f0f$$$$$$\n\u3000\u8a18\u8ff01\n$$$$$$else$$$$$$\n\u3000\u8a18\u8ff02\n$$$$$$endif$$$$$$\n    \u5f0f==true\u306a\u3089\u3001\u8a18\u8ff01\u306e\u307f\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n    \u5f0f==false\u306a\u3089\u3001\u8a18\u8ff02\u306e\u307f\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n\n$$$$$$for \u5909\u6570\u540d in \u914d\u5217$$$$$$\n\u3000\u8a18\u8ff01\n$$$$$$next$$$$$$\n    \u8a18\u8ff01\u306e\u5185\u5bb9\u304c\u3001\u5909\u6570 = \u914d\u5217\u8981\u7d20\u305d\u308c\u305e\u308c\u3068\u3057\u3066\u3001\n    \u914d\u5217\u8981\u7d20\u6570\u56de\u3060\u3051\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\u3002\n\n$$$$$$for \u5909\u6570\u540d,\u5909\u6570\u540d of \u30aa\u30d6\u30b8\u30a7\u30af\u30c8$$$$$$\n\u3000\u8a18\u8ff01\n$$$$$$next$$$$$$\n    \u8a18\u8ff01\u306e\u5185\u5bb9\u304c\u3001\u5909\u6570,\u5909\u6570 = \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u8981\u7d20\u305d\u308c\u305e\u308c\u3068\u3057\u3066\u3001\n    \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u8981\u7d20\u6570\u56de\u3060\u3051\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\u3002\n\n$$$$$$\u5f0f$$$$$$\n    \u5f0f\u3092\u5b9f\u884c\u3059\u308b\u304c\u3001\u30b3\u30d4\u30fc\u5148\u306b\u306f\u5f71\u97ff\u3092\u4e0e\u3048\u306a\u3044\u3002\n    \u3080\u3057\u308d\u3001\u4e0a\u8a18\u4e0b\u8a18\u306e\u5236\u5fa1\u306b\u7528\u3044\u308b\u305f\u3081\u306e\u5909\u6570\u306e\u6f14\u7b97\u306a\u3069\u3092\u5b9f\u884c\u3059\u308b\n    Javascript\u3068\u3057\u3066\u89e3\u91c8\u53ef\u80fd\u306a\u30b3\u30fc\u30c9\u304c\u5b9f\u884c\u3067\u304d\u308b\n    \u304c\u3001\u3053\u308c\u306f\u81ea\u7531\u3059\u304e\u308b\u306e\u3067\u6d88\u3059\u304b\u3082\n\n\n\u30d5\u30a1\u30a4\u30eb\u5185\n\u30a4\u30f3\u30e9\u30a4\u30f3\u8981\u7d20\uff08\u30d6\u30ed\u30c3\u30af\u8981\u7d20\u306e\u30ed\u30fc\u30ab\u30eb\u5909\u6570\n$$$$\u5f0f$$$$\n    \u5f0f\u306e\u5024\u306b\u7f6e\u63db\u3055\u308c\u308b\n\n\n\u30d5\u30a1\u30a4\u30eb\u5185\n\u30a8\u30b9\u30b1\u30fc\u30d7\u30b7\u30fc\u30b1\u30f3\u30b9\n$$$$dollar n$$$$\n    n\u500b\u306e\u300c$\u300d\u306b\u7f6e\u63db\u3055\u308c\u308b\u304c\u3001n\u306f\u76f4\u5024\u3067\u306e\u6307\u5b9a\u306e\u307f\n    \uff08\u307e\u3042\u3001\u30a8\u30b9\u30b1\u30fc\u30d7\u30b7\u30fc\u30b1\u30f3\u30b9\u3067\u3059\u304b\u3089\uff09\n\n\n\ntemplatecopydir(__dstpath__,__srcpath__,__param__)\ntemplatecopyfile(__dstpath__,__srcfile__,__param__)\n###\n\nfs = require('fs')\n\ntemplatecopyfile = (__dstpath__, __srcpath__, __dstfile__, __srcfile__, __param__) ->\n  __reserved__ =\n    __reserved__:true\n    __dstpath__:true\n    __srcpath__:true\n    __dstfile__:true\n    __srcfile__:true\n    __param__:true\n    __detail__:true\n    __inputlines__:true\n    __key__:true\n    __line__:true\n    __linenumber__:true\n    __result__:true\n    __resultlines__:true\n    __scanscope__:true\n    __script__:true\n    __stack__:true\n    __usekey__:true\n    __usescope__:true\n    __usevalue__:true\n    __value__:true\n    __whenvalue__:true\n    i:true\n    len:true\n\n  __inputlines__ = (fs.readFileSync __srcpath__+'/'+__srcfile__,'utf8').split(\"\\n\")\n  __resultlines__ = []\n\n  for __key__,__value__ of __param__\n    if not __key__ in __reserved__\n      eval 'var '+__key__+' = __value__;'\n\n  __stack__ = []\n  __usescope__ = true\n  __linenumber__ = 0\n  while __linenumber__ < __inputlines__.length\n    __line__ = __inputlines__[__linenumber__]\n    __linenumber__ += 1\n\n    __result__ = __line__.match(/^\\s*\\$\\$\\$\\$\\$\\$\\s*(\\S.*\\S)\\s*\\$\\$\\$\\$\\$\\$\\s*$/)\n    if __result__?\n      #block\n      __script__ = __result__[1]\n      #scope end\n      if __script__ == 'endswitch' \n        if __stack__.length == 0 or\n           __stack__[__stack__.length-1].mode != 'switch'\n          throw 'unexpected endswitch '+__srcfile__+'['+(__linenumber__-1)+']'\n        else\n          __stack__.pop()\n      else if __script__ == 'endif'\n        if __stack__.length == 0 or\n           __stack__[__stack__.length-1].mode != 'if'\n          throw 'unexpected endif '+__srcfile__+'['+(__linenumber__-1)+']'\n        else\n          __stack__.pop()\n      else if __script__ == 'next'\n        if __stack__.length == 0 or\n          (__stack__[__stack__.length-1].mode != 'forin' and\n           __stack__[__stack__.length-1].mode != 'forof')\n          throw 'unexpected next '+__srcfile__+'['+(__linenumber__-1)+']'\n        else \n          if __stack__[__stack__.length-1].mode == 'forin'\n            __stack__[__stack__.length-1].count += 1\n            if __stack__[__stack__.length-1].num == __stack__[__stack__.length-1].count\n              __usescope__ = __stack__[__stack__.length-1].usescope\n              __stack__.pop()\n            else\n              __usevalue__ = __stack__[__stack__.length-1].array[__stack__[__stack__.length-1].count]\n              eval 'var '+__stack__[__stack__.length-1].value+' = __usevalue__;'\n              __linenumber__ = __stack__[__stack__.length-1].line\n          else if __stack__[__stack__.length-1].mode == 'forof'\n            __stack__[__stack__.length-1].count += 1\n            if __stack__[__stack__.length-1].num == __stack__[__stack__.length-1].count\n              __usescope__ = __stack__[__stack__.length-1].usescope\n              __stack__.pop()\n            else\n              __usekey__ = Object.keys(__stack__[__stack__.length-1].array)[__stack__[__stack__.length-1].count]\n              eval 'var '+__stack__[__stack__.length-1].key+' = __usekey__;'\n              __usevalue__ = __stack__[__stack__.length-1].array[__usekey__]\n              eval 'var'+__stack__[__stack__.length-1].value+' = __usevalue__'\n              __linenumber__ = __stack__[__stack__.length-1].line\n      else if __script__ == 'else'\n        if __stack__.length == 0 or\n          (__stack__[__stack__.length-1].mode != 'if' and\n           __stack__[__stack__.length-1].mode != 'switch')\n          throw 'unexpected next '+__srcfile__+'['+(__linenumber__-1)+']'\n        else if __stack__[__stack__.length-1].mode == 'if'\n          __stack__[__stack__.length-1].usescope = not __stack__[__stack__.length-1].usescope\n          __stack__[__stack__.length-1].phase = false\n        else if __stack__[__stack__.length-1].mode == 'switch'\n          __stack__[__stack__.length-1].usescope = not __stack__[__stack__.length-1].matched\n          __stack__[__stack__.length-1].phase = null\n      else if /^for\\s+([_a-zA-Z]\\w*)\\s+in\\s+(\\S.*)$/.test(__script__)\n        __detail__ = __script__.match(/^for\\s+([_a-zA-Z]\\w*)\\s+in\\s+(\\S.*)$/)\n        __stack__.push()\n        #  .mode = 'forin'\n        #  .value = \u30ed\u30fc\u30ab\u30eb\u5909\u6570\u540d\n        #  .num = \u8981\u7d20\u6570\n        #  .count = \u51e6\u7406\u4e2d\u8981\u7d20\u756a\u53f7\n        #  .array = \u914d\u5217\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30d4\u30fc\n        #  .line = \u30b3\u30f3\u30c6\u30f3\u30c4\u958b\u59cb\u884c\n        #  .usescope = \u30b9\u30b3\u30fc\u30d7\u306e\u72b6\u614b\n        __stack__[__stack__.length-1].mode = 'forin'\n        __stack__[__stack__.length-1].value = __detail__[1]\n        eval 'var '+__detail__[1]+' = ('+__detail__[2]+')[0];'\n        __stack__[__stack__.length-1].array = eval __detail__[2]\n        __stack__[__stack__.length-1].num = eval '('+__detail__[2]+').length'\n        __stack__[__stack__.length-1].count = 0\n        __stack__[__stack__.length-1].line = __linenumber__\n        __stack__[__stack__.length-1].usescope = true\n\n      else if /^for\\s+([_a-zA-Z]\\w*)\\s*,\\s*([_a-zA-Z]\\w*)\\s+of\\s+(\\S.*)$/.test(__script__)\n        __detail__ = __script__.match(/^for\\s+([_a-zA-Z]\\w*)\\s*,\\s*([_a-zA-Z]\\w*)\\s+of\\s+(\\S.*)$/)\n        __stack__.push()\n        #  .mode = 'forof'\n        #  .key = \u30ed\u30fc\u30ab\u30eb\u5909\u6570\u540d\n        #  .value = \u30ed\u30fc\u30ab\u30eb\u5909\u6570\u540d\n        #  .num = \u8981\u7d20\u6570\n        #  .count = \u51e6\u7406\u4e2d\u8981\u7d20\u756a\u53f7\n        #  .array = \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30d4\u30fc\n        #  .line = \u958b\u59cb\u884c\n        #  .usescope = \u30b9\u30b3\u30fc\u30d7\u306e\u72b6\u614b\n        __stack__[__stack__.length-1].mode = 'forin'\n        __stack__[__stack__.length-1].key = __detail__[1]\n        eval 'var '+__detail__[1]+' = Object.keys('+__detail__[3]+')[0];'\n        __stack__[__stack__.length-1].value = __detail__[2]\n        eval 'var '+__detail__[2]+' = ('+__detail__[3]+')[Object.keys('+__detail__[3]+')[0]];'\n        __stack__[__stack__.length-1].array = eval __detail__[3]\n        __stack__[__stack__.length-1].num = eval '('+__detail__[3]+').length'\n        __stack__[__stack__.length-1].count = 0\n        __stack__[__stack__.length-1].line = __linenumber__\n        __stack__[__stack__.length-1].usescope = true\n\n      else if /^switch\\s+(\\S.*)$/.test(__script__)\n        __detail__ = __script__.match(/^switch\\s+(\\S.*)$/)\n        __stack__.push()\n        #  .mode = 'switch'\n        #  .value = \u5f0f\u306e\u5024\n        #  .phase = \u6700\u521d\u306ewhen\u306e\u524d\u3068else\u306e\u5f8c\u306fnull,when\u306e\u5f8c\u306f\u3001\u305d\u306e\u5f0f\u306e\u5024\n        #  .matched = \u3069\u308c\u304b\u306ewhen\u306b\u30de\u30c3\u30c1\u3057\u305f\u3089true\u3055\u3082\u306a\u304f\u3070false\n        #  .usescope = \u30b9\u30b3\u30fc\u30d7\u306e\u72b6\u614b\n        __stack__[__stack__.length-1].mode = 'switch'\n        __stack__[__stack__.length-1].value = eval __detail__[1]\n        __stack__[__stack__.length-1].phase = null\n        __stack__[__stack__.length-1].matched = false\n        __stack__[__stack__.length-1].usescope = false\n\n      else if /^if\\s+(\\S.*)$/.test(__script__)\n        __detail__ = __script__.match(/^if\\s+(\\S.*)$/)\n        __stack__.push()\n        #  .mode = 'if'\n        #  .value = \u5f0f\u306e\u5024\n        #  .phase = else\u306e\u524d\u306a\u3089true\n        #  .usescope = \u30b9\u30b3\u30fc\u30d7\u306e\u72b6\u614b\n        __stack__[__stack__.length-1].mode = 'switch'\n        __stack__[__stack__.length-1].value = eval __detail__[1]\n        __stack__[__stack__.length-1].phase = true\n        __stack__[__stack__.length-1].usescope = __stack__[__stack__.length-1].value\n\n      else if /^when\\s+(\\S.*)$/.test(__script__)\n        if __stack__.length == 0 or\n           __stack__[__stack__.length-1].mode != 'switch'\n          throw 'unexpected next '+__srcfile__+'['+(__linenumber__-1)+']'\n        __whenvalue__ = eval (__script__.match(/^when\\s+(\\S.*)$/))[1]\n        __stack__[__stack__.length-1].phase = __whenvalue__\n        if __stack__[__stack__.length-1].usescope = (__whenvalue__ == __stack__[__stack__.length-1].value)\n          __stack__[__stack__.length-1].matched = true\n      else\n        eval '('+__script__+')'\n        #throw 'undefined token '+__srcfile__+'['+(__linenumber__-1)+']'\n      #__usescope__\u66f4\u65b0\n      __usescope__ = true\n      for __scanscope__ in __stack__\n        if not __scanscope__.usescope\n          __usescope__ = false\n    else\n      if __usescope__\n        #\u901a\u5e38\u884c\n        #inline\u5c55\u958b\n        __result__ = __line__.match(/\\$\\$\\$\\$\\s*(\\S.*\\S)\\s*\\$\\$\\$\\$/)\n        while __result__?\n          __line__.replace(__result__[0],(eval __result__[1]).toString())\n          __result__ = __line__.match(/\\$\\$\\$\\$\\s*(\\S.*\\S)\\s*\\$\\$\\$\\$/)\n\n        __resultlines__.push(__line__)\n\n  fs.writeFileSync __dstpath__+'/'+__dstfile__,__resultlines__.join(\"\\n\")\n\n\nconvfilename = (__srcfile__, __param__) ->\n  for __key__,__value__ of __param__\n    eval 'var '+__key__+' = __value__;'\n\n  __dstfile__ = ''\n  if /\\$\\$\\$\\$\\$\\$\\s*(\\w+)\\s*:\\s*#\\((.+)\\)\\s*\\$\\$\\$\\$\\$\\$/.test(__srcfile__)\n    __result__ = __srcfile__.match(/^\\$\\$\\$\\$\\$\\$\\s*(\\w+)\\s*:\\s*#\\((.+)\\)\\s*\\$\\$\\$\\$\\$\\$$/)\n    if (eval __result__[2])\n      __dstfile__ = __fileordir__.replace(__result__[0], __result__[1])\n    else return\n  else if /\\$\\$\\$\\$\\$\\$\\s*(\\w+)\\s*:\\s*!\\s*#\\((\\w+)\\)\\s*\\$\\$\\$\\$\\$\\$/.test(__srcfile__)\n    __result__ = __srcfile__.match(/^\\$\\$\\$\\$\\$\\$\\s*(\\w+)\\s*:\\s*!\\s*#\\((\\w+)\\)\\s*\\$\\$\\$\\$\\$\\$$/)\n    if not(eval __result__[2])\n      __dstfile__ = __fileordir__.replace(__result__[0], __result__[1])\n    else return\n  else if /\\$\\$\\$\\$\\$\\$\\s*#\\((.+)\\)\\s*\\$\\$\\$\\$\\$\\$/.test(__srcfile__)\n    __result__ = __srcfile__.match(/^\\$\\$\\$\\$\\$\\$\\s*#\\((.+)\\)\\s*\\$\\$\\$\\$\\$\\$$/)\n    __eval__ = (eval __result__[1]).toString()\n    if __eval__ != ''\n      __dstfile__ = __eval__\n    else return\n  else\n    __dstfile__ = __srcfile__\n  return __dstfile__\n\ntemplatecopydir_inside = (func) ->\n  return (__dstpath__, __srcpath__, __param__, __first__ = true) ->\n    console.log 'src '+__srcpath__\n    if __first__\n      if not fs.existsSync __srcpath__\n        console.log 'templates are not found.'\n        return -1\n    __result__ = __srcpath__.match(/\\/([^\\/]+)$/)\n    if not(__result__?)\n      return -1\n    __srcdir__ = __result__[1]\n    __dstdir__ = (convfilename __srcdir__,__param__) ? __srcdir__\n\n    process.umask(0)\n    __dstpath__ += '/'+__dstdir__\n    if not fs.existsSync __dstpath__\n      fs.mkdirSync __dstpath__,'0757'\n    else\n      if __first__\n        console.log 'the project has already created.'\n        return -1\n\n    console.log 'dst '+__dstpath__\n\n    __filearray__ = fs.readdirSync __srcpath__\n    for __fileordir__ in __filearray__\n      __stat__ = fs.statSync __srcpath__+'/'+__fileordir__\n      if __stat__.isFile()\n        console.log 'scanfiles '+__fileordir__\n        __dstfile__ = convfilename __fileordir__,__param__\n        templatecopyfile __dstpath__, __srcpath__, __dstfile__, __fileordir__, __param__\n      else if __stat__.isDirectory()\n        console.log 'scandirs '+__fileordir__\n        func __dstpath__,__srcpath__+'/'+__fileordir__,__param__,false\n\n#\u6240\u8b02Y\u30b3\u30f3\u30d3\u30cd\u30fc\u30bf\n____y____ = (func) ->\n  return ((g) ->\n    return (m,n,o,p) ->\n      return func(g(g))(m,n,o,p)\n  )((g) ->\n    return (m,n,o,p) ->\n      return func(g(g))(m,n,o,p)\n  )\n\n\ntemplatecopydir = ____y____(templatecopydir_inside)\n\ntemplatecopydir '/path/to/products','/path/to/generator-goldblend-generator/$$$$$$#(project)$$$$$$',{project: 'testtest', test:12}\n\n\n#express-\u4ffa-generator\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001[goldblend\u306e\u7d9a\u304d](http://qiita.com/mrpepper/items/c6f7aa46402c66f232a2)\u3067\u3059\u3002\u3068\u306f\u8a00\u3048\u3001\u4eca\u56de\u306fgoldblend\u306e\u6539\u7248\u3067\u306f\u306a\u304f\u3001generator\u306e\u8a71\u3002\u3068\u306f\u8a00\u3048\u3001function * \u3068\u304b\u3001**Javascript\u306e\u65b0\u3057\u3044\u8a00\u8a9e\u6a5f\u80fd\u306egenerator\u3067\u306f\u3042\u308a\u307e\u305b\u3093**\u3002express-generator\u306e\u65b9\u306egenerator\u3067\u3059\u3002\u307e\u304e\u3089\u308f\u3057\u3044\u3063\u305f\u3089\u3042\u308a\u3083\u3057\u306a\u3044\u3002\u305d\u306e\u3078\u3093\u306a\u3093\u304b\u8003\u3048\u3066\u6b32\u3057\u3044\u3082\u306e\u3067\u3059\u306d\u3002\n\n\u3067\u3001\u305d\u3046\u3044\u3046generator\u3092\u4f5c\u308d\u3046\u3068\u601d\u3046\u3068\u3001\u3069\u3046\u3057\u3066\u3082\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u7684\u306a\u3082\u306e\u304c\u6b32\u3057\u304f\u306a\u3063\u3066\u304d\u307e\u3059\u3002\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306b\u5909\u6570\u3092\u5c55\u958b\u3057\u305f\u308a\u3001\u672c\u6587\u4e2d\u306b\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u6307\u4ee4\u307f\u305f\u3044\u306a\u306e\u3067\u5206\u5c90\u3057\u305f\u308a\u3002\n\n\u3067\u3001\u307e\u3060\u3001express-goldblend-generator\u306f\u3067\u304d\u3066\u3044\u306a\u3044\u306e\u3067\u3059\u304c\uff08\u3067\u304d\u305f\u3089\u3001npm\u306b\u4e0a\u3052\u3088\u3046\u304b\u3068\u601d\u3063\u3066\u3044\u307e\u3059\uff09\u3001\u3068\u308a\u3042\u3048\u305a\u5909\u6570\u5c55\u958b\u3092\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30b3\u30d4\u30fc\u3092\u4f5c\u3063\u305f\u306e\u3067\u3001\u304a\u62ab\u9732\u76ee\u3068\u884c\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4f7f\u3044\u65b9\u306f\u3001\u5192\u982d\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u307f\u3066\u3061\u3087\u3093\u307e\u3052\u3002\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30d6\u30ed\u30c3\u30af\u8981\u7d20\u306e\u5165\u308c\u5b50\u3068\u304b\u3001\u307e\u3060\u5145\u5206\u306b\u30c6\u30b9\u30c8\u3067\u304d\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3042\u3057\u304b\u3089\u305a\u3002\u3054\u6307\u6458\u306a\u3069\u9802\u3051\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\u305d\u3057\u3066\u3001\u4f5c\u308d\u3046\u305c\uff01\u3000\u305d\u308c\u305e\u308c\u306e\u590f\uff01\u3000express-\u4ffa-generator\uff01\n\n```coffeescript:template.coffee\n#!/usr/bin/env coffee\n\n###\n\u4e0b\u8a18\u300c\u5f0f\u300d\u3067\u306f\u3001param\u3067\u6e21\u3057\u305f\u5909\u6570\u304c\u5c55\u958b\u3055\u308c\u3001\u305d\u306e\u6f14\u7b97\u3082\u53ef\u80fd\u3067\u3042\u308b\u3002\n\u5f0f\u306e\u6587\u6cd5\u306f\u3001\u57fa\u672c\u7684\u306bJavascript\u306e\u6587\u6cd5\u306b\u6e96\u3058\u308b\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u3068\u30d5\u30a1\u30a4\u30eb\u540d\n$$$$$$\u540d\u524d:#(\u5f0f)$$$$$$\n$$$$$$\u540d\u524d:!#(\u5f0f)$$$$$$\n$$$$$$#(\u5f0f)$$$$$$\n\t\u5404\u30ad\u30fc\u30ef\u30fc\u30c9\u3068\u3082\u540d\u524d\u5168\u4f53\u3068\u306e\u4e00\u81f4\u306e\u307f\u5224\u5b9a\n\t1\u756a\u76ee\u306f\u3001\u5f0f\u306e\u5024==true\u306a\u3089\u3001\u300c\u540d\u524d\u300d\u3068\u3044\u3046\u540d\u524d\u3067\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n\t\u3000\u5f0f\u306e\u5024==false\u306a\u3089\u3001\u30b3\u30d4\u30fc\u3055\u308c\u306a\u3044\uff08\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u3089\u3001\u4e2d\u8eab\u3082\u7121\u8996\uff09\n\t2\u756a\u76ee\u306f\u3001\u5f0f\u306e\u5024==false\u306a\u3089\u3001\u300c\u540d\u524d\u300d\u3068\u3044\u3046\u540d\u524d\u3067\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n\t\u3000\u5f0f\u306e\u5024==true\u306a\u3089\u3001\u30b3\u30d4\u30fc\u3055\u308c\u306a\u3044\uff08\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u3089\u3001\u4e2d\u8eab\u3082\u7121\u8996\uff09\n\t3\u756a\u76ee\u306f\u3001\u5f0f\u306e\u5024\u304c\u5b58\u5728\u3059\u308c\u3070\u3001\u5f0f\u306e\u5024\u3092\u540d\u524d\u306b\u3057\u3066\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n\t\u3000\u5f0f\u306e\u5024==null\u306a\u3089\u3001\u30b3\u30d4\u30fc\u3055\u308c\u306a\u3044\uff08\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u3089\u3001\u4e2d\u8eab\u3082\u7121\u8996\uff09\n\n\n\u30d5\u30a1\u30a4\u30eb\u5185\n\u30d6\u30ed\u30c3\u30af\u8981\u7d20\uff08\u30d6\u30ed\u30c3\u30af\u8981\u7d20\u306f\u5165\u308c\u5b50\u306b\u3067\u304d\u308b\uff09\n$$$$$$switch \u5f0f1$$$$$$\n$$$$$$when \u5f0f2$$$$$$\n\u3000\u8a18\u8ff02\n$$$$$$when \u5f0f3$$$$$$\n\u3000\u8a18\u8ff03\n$$$$$$else$$$$$$\n\u3000\u8a18\u8ff04\n$$$$$$endswitch$$$$$$\n\t\u5f0f2==\u5f0f1\u306a\u3089\u3001\u8a18\u8ff02\u306e\u307f\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n\t\u5f0f3==\u5f0f1\u306a\u3089\u3001\u8a18\u8ff03\u306e\u307f\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n\t\u3069\u3061\u3089\u3067\u3082\u306a\u3051\u308c\u3070\u3001\u8a18\u8ff04\u306e\u307f\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n\twhen\u7bc0\u306f\u3044\u304f\u3064\u3042\u3063\u3066\u3082\u3088\u304f\u3001else\u7bc0\u306f\u306a\u304f\u3066\u3082\u3088\u3044\n\n$$$$$$if \u5f0f$$$$$$\n\u3000\u8a18\u8ff01\n$$$$$$else$$$$$$\n\u3000\u8a18\u8ff02\n$$$$$$endif$$$$$$\n\t\u5f0f==true\u306a\u3089\u3001\u8a18\u8ff01\u306e\u307f\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n\t\u5f0f==false\u306a\u3089\u3001\u8a18\u8ff02\u306e\u307f\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\n\n$$$$$$for \u5909\u6570\u540d in \u914d\u5217$$$$$$\n\u3000\u8a18\u8ff01\n$$$$$$next$$$$$$\n\t\u8a18\u8ff01\u306e\u5185\u5bb9\u304c\u3001\u5909\u6570 = \u914d\u5217\u8981\u7d20\u305d\u308c\u305e\u308c\u3068\u3057\u3066\u3001\n\t\u914d\u5217\u8981\u7d20\u6570\u56de\u3060\u3051\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\u3002\n\n$$$$$$for \u5909\u6570\u540d,\u5909\u6570\u540d of \u30aa\u30d6\u30b8\u30a7\u30af\u30c8$$$$$$\n\u3000\u8a18\u8ff01\n$$$$$$next$$$$$$\n\t\u8a18\u8ff01\u306e\u5185\u5bb9\u304c\u3001\u5909\u6570,\u5909\u6570 = \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u8981\u7d20\u305d\u308c\u305e\u308c\u3068\u3057\u3066\u3001\n\t\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u8981\u7d20\u6570\u56de\u3060\u3051\u30b3\u30d4\u30fc\u5148\u306b\u8907\u88fd\u3055\u308c\u308b\u3002\n\n$$$$$$\u5f0f$$$$$$\n\t\u5f0f\u3092\u5b9f\u884c\u3059\u308b\u304c\u3001\u30b3\u30d4\u30fc\u5148\u306b\u306f\u5f71\u97ff\u3092\u4e0e\u3048\u306a\u3044\u3002\n\t\u3080\u3057\u308d\u3001\u4e0a\u8a18\u4e0b\u8a18\u306e\u5236\u5fa1\u306b\u7528\u3044\u308b\u305f\u3081\u306e\u5909\u6570\u306e\u6f14\u7b97\u306a\u3069\u3092\u5b9f\u884c\u3059\u308b\n\tJavascript\u3068\u3057\u3066\u89e3\u91c8\u53ef\u80fd\u306a\u30b3\u30fc\u30c9\u304c\u5b9f\u884c\u3067\u304d\u308b\n\t\u304c\u3001\u3053\u308c\u306f\u81ea\u7531\u3059\u304e\u308b\u306e\u3067\u6d88\u3059\u304b\u3082\n\n\n\u30d5\u30a1\u30a4\u30eb\u5185\n\u30a4\u30f3\u30e9\u30a4\u30f3\u8981\u7d20\uff08\u30d6\u30ed\u30c3\u30af\u8981\u7d20\u306e\u30ed\u30fc\u30ab\u30eb\u5909\u6570\n$$$$\u5f0f$$$$\n\t\u5f0f\u306e\u5024\u306b\u7f6e\u63db\u3055\u308c\u308b\n\n\n\u30d5\u30a1\u30a4\u30eb\u5185\n\u30a8\u30b9\u30b1\u30fc\u30d7\u30b7\u30fc\u30b1\u30f3\u30b9\n$$$$dollar n$$$$\n\tn\u500b\u306e\u300c$\u300d\u306b\u7f6e\u63db\u3055\u308c\u308b\u304c\u3001n\u306f\u76f4\u5024\u3067\u306e\u6307\u5b9a\u306e\u307f\n\t\uff08\u307e\u3042\u3001\u30a8\u30b9\u30b1\u30fc\u30d7\u30b7\u30fc\u30b1\u30f3\u30b9\u3067\u3059\u304b\u3089\uff09\n\n\n\ntemplatecopydir(__dstpath__,__srcpath__,__param__)\ntemplatecopyfile(__dstpath__,__srcfile__,__param__)\n###\n\nfs = require('fs')\n\ntemplatecopyfile = (__dstpath__, __srcpath__, __dstfile__, __srcfile__, __param__) ->\n  __reserved__ =\n    __reserved__:true\n    __dstpath__:true\n    __srcpath__:true\n    __dstfile__:true\n    __srcfile__:true\n    __param__:true\n    __detail__:true\n    __inputlines__:true\n    __key__:true\n    __line__:true\n    __linenumber__:true\n    __result__:true\n    __resultlines__:true\n    __scanscope__:true\n    __script__:true\n    __stack__:true\n    __usekey__:true\n    __usescope__:true\n    __usevalue__:true\n    __value__:true\n    __whenvalue__:true\n    i:true\n    len:true\n  \n  __inputlines__ = (fs.readFileSync __srcpath__+'/'+__srcfile__,'utf8').split(\"\\n\")\n  __resultlines__ = []\n  \n  for __key__,__value__ of __param__\n    if not __key__ in __reserved__\n      eval 'var '+__key__+' = __value__;'\n  \n  __stack__ = []\n  __usescope__ = true\n  __linenumber__ = 0\n  while __linenumber__ < __inputlines__.length\n    __line__ = __inputlines__[__linenumber__]\n    __linenumber__ += 1\n    \n    __result__ = __line__.match(/^\\s*\\$\\$\\$\\$\\$\\$\\s*(\\S.*\\S)\\s*\\$\\$\\$\\$\\$\\$\\s*$/)\n    if __result__?\n      #block\n      __script__ = __result__[1]\n      #scope end\n      if __script__ == 'endswitch' \n        if __stack__.length == 0 or\n           __stack__[__stack__.length-1].mode != 'switch'\n          throw 'unexpected endswitch '+__srcfile__+'['+(__linenumber__-1)+']'\n        else\n          __stack__.pop()\n      else if __script__ == 'endif'\n        if __stack__.length == 0 or\n           __stack__[__stack__.length-1].mode != 'if'\n          throw 'unexpected endif '+__srcfile__+'['+(__linenumber__-1)+']'\n        else\n          __stack__.pop()\n      else if __script__ == 'next'\n        if __stack__.length == 0 or\n          (__stack__[__stack__.length-1].mode != 'forin' and\n           __stack__[__stack__.length-1].mode != 'forof')\n          throw 'unexpected next '+__srcfile__+'['+(__linenumber__-1)+']'\n        else \n          if __stack__[__stack__.length-1].mode == 'forin'\n            __stack__[__stack__.length-1].count += 1\n            if __stack__[__stack__.length-1].num == __stack__[__stack__.length-1].count\n              __usescope__ = __stack__[__stack__.length-1].usescope\n              __stack__.pop()\n            else\n              __usevalue__ = __stack__[__stack__.length-1].array[__stack__[__stack__.length-1].count]\n              eval 'var '+__stack__[__stack__.length-1].value+' = __usevalue__;'\n              __linenumber__ = __stack__[__stack__.length-1].line\n          else if __stack__[__stack__.length-1].mode == 'forof'\n            __stack__[__stack__.length-1].count += 1\n            if __stack__[__stack__.length-1].num == __stack__[__stack__.length-1].count\n              __usescope__ = __stack__[__stack__.length-1].usescope\n              __stack__.pop()\n            else\n              __usekey__ = Object.keys(__stack__[__stack__.length-1].array)[__stack__[__stack__.length-1].count]\n              eval 'var '+__stack__[__stack__.length-1].key+' = __usekey__;'\n              __usevalue__ = __stack__[__stack__.length-1].array[__usekey__]\n              eval 'var'+__stack__[__stack__.length-1].value+' = __usevalue__'\n              __linenumber__ = __stack__[__stack__.length-1].line\n      else if __script__ == 'else'\n        if __stack__.length == 0 or\n          (__stack__[__stack__.length-1].mode != 'if' and\n           __stack__[__stack__.length-1].mode != 'switch')\n          throw 'unexpected next '+__srcfile__+'['+(__linenumber__-1)+']'\n        else if __stack__[__stack__.length-1].mode == 'if'\n          __stack__[__stack__.length-1].usescope = not __stack__[__stack__.length-1].usescope\n          __stack__[__stack__.length-1].phase = false\n        else if __stack__[__stack__.length-1].mode == 'switch'\n          __stack__[__stack__.length-1].usescope = not __stack__[__stack__.length-1].matched\n          __stack__[__stack__.length-1].phase = null\n      else if /^for\\s+([_a-zA-Z]\\w*)\\s+in\\s+(\\S.*)$/.test(__script__)\n        __detail__ = __script__.match(/^for\\s+([_a-zA-Z]\\w*)\\s+in\\s+(\\S.*)$/)\n        __stack__.push()\n        #  .mode = 'forin'\n        #  .value = \u30ed\u30fc\u30ab\u30eb\u5909\u6570\u540d\n        #  .num = \u8981\u7d20\u6570\n        #  .count = \u51e6\u7406\u4e2d\u8981\u7d20\u756a\u53f7\n        #  .array = \u914d\u5217\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30d4\u30fc\n        #  .line = \u30b3\u30f3\u30c6\u30f3\u30c4\u958b\u59cb\u884c\n        #  .usescope = \u30b9\u30b3\u30fc\u30d7\u306e\u72b6\u614b\n        __stack__[__stack__.length-1].mode = 'forin'\n        __stack__[__stack__.length-1].value = __detail__[1]\n        eval 'var '+__detail__[1]+' = ('+__detail__[2]+')[0];'\n        __stack__[__stack__.length-1].array = eval __detail__[2]\n        __stack__[__stack__.length-1].num = eval '('+__detail__[2]+').length'\n        __stack__[__stack__.length-1].count = 0\n        __stack__[__stack__.length-1].line = __linenumber__\n        __stack__[__stack__.length-1].usescope = true\n        \n      else if /^for\\s+([_a-zA-Z]\\w*)\\s*,\\s*([_a-zA-Z]\\w*)\\s+of\\s+(\\S.*)$/.test(__script__)\n        __detail__ = __script__.match(/^for\\s+([_a-zA-Z]\\w*)\\s*,\\s*([_a-zA-Z]\\w*)\\s+of\\s+(\\S.*)$/)\n        __stack__.push()\n        #  .mode = 'forof'\n        #  .key = \u30ed\u30fc\u30ab\u30eb\u5909\u6570\u540d\n        #  .value = \u30ed\u30fc\u30ab\u30eb\u5909\u6570\u540d\n        #  .num = \u8981\u7d20\u6570\n        #  .count = \u51e6\u7406\u4e2d\u8981\u7d20\u756a\u53f7\n        #  .array = \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30d4\u30fc\n        #  .line = \u958b\u59cb\u884c\n        #  .usescope = \u30b9\u30b3\u30fc\u30d7\u306e\u72b6\u614b\n        __stack__[__stack__.length-1].mode = 'forin'\n        __stack__[__stack__.length-1].key = __detail__[1]\n        eval 'var '+__detail__[1]+' = Object.keys('+__detail__[3]+')[0];'\n        __stack__[__stack__.length-1].value = __detail__[2]\n        eval 'var '+__detail__[2]+' = ('+__detail__[3]+')[Object.keys('+__detail__[3]+')[0]];'\n        __stack__[__stack__.length-1].array = eval __detail__[3]\n        __stack__[__stack__.length-1].num = eval '('+__detail__[3]+').length'\n        __stack__[__stack__.length-1].count = 0\n        __stack__[__stack__.length-1].line = __linenumber__\n        __stack__[__stack__.length-1].usescope = true\n        \n      else if /^switch\\s+(\\S.*)$/.test(__script__)\n        __detail__ = __script__.match(/^switch\\s+(\\S.*)$/)\n        __stack__.push()\n        #  .mode = 'switch'\n        #  .value = \u5f0f\u306e\u5024\n        #  .phase = \u6700\u521d\u306ewhen\u306e\u524d\u3068else\u306e\u5f8c\u306fnull,when\u306e\u5f8c\u306f\u3001\u305d\u306e\u5f0f\u306e\u5024\n        #  .matched = \u3069\u308c\u304b\u306ewhen\u306b\u30de\u30c3\u30c1\u3057\u305f\u3089true\u3055\u3082\u306a\u304f\u3070false\n        #  .usescope = \u30b9\u30b3\u30fc\u30d7\u306e\u72b6\u614b\n        __stack__[__stack__.length-1].mode = 'switch'\n        __stack__[__stack__.length-1].value = eval __detail__[1]\n        __stack__[__stack__.length-1].phase = null\n        __stack__[__stack__.length-1].matched = false\n        __stack__[__stack__.length-1].usescope = false\n        \n      else if /^if\\s+(\\S.*)$/.test(__script__)\n        __detail__ = __script__.match(/^if\\s+(\\S.*)$/)\n        __stack__.push()\n        #  .mode = 'if'\n        #  .value = \u5f0f\u306e\u5024\n        #  .phase = else\u306e\u524d\u306a\u3089true\n        #  .usescope = \u30b9\u30b3\u30fc\u30d7\u306e\u72b6\u614b\n        __stack__[__stack__.length-1].mode = 'switch'\n        __stack__[__stack__.length-1].value = eval __detail__[1]\n        __stack__[__stack__.length-1].phase = true\n        __stack__[__stack__.length-1].usescope = __stack__[__stack__.length-1].value\n        \n      else if /^when\\s+(\\S.*)$/.test(__script__)\n        if __stack__.length == 0 or\n           __stack__[__stack__.length-1].mode != 'switch'\n          throw 'unexpected next '+__srcfile__+'['+(__linenumber__-1)+']'\n        __whenvalue__ = eval (__script__.match(/^when\\s+(\\S.*)$/))[1]\n        __stack__[__stack__.length-1].phase = __whenvalue__\n        if __stack__[__stack__.length-1].usescope = (__whenvalue__ == __stack__[__stack__.length-1].value)\n          __stack__[__stack__.length-1].matched = true\n      else\n        eval '('+__script__+')'\n        #throw 'undefined token '+__srcfile__+'['+(__linenumber__-1)+']'\n      #__usescope__\u66f4\u65b0\n      __usescope__ = true\n      for __scanscope__ in __stack__\n        if not __scanscope__.usescope\n          __usescope__ = false\n    else\n      if __usescope__\n        #\u901a\u5e38\u884c\n        #inline\u5c55\u958b\n        __result__ = __line__.match(/\\$\\$\\$\\$\\s*(\\S.*\\S)\\s*\\$\\$\\$\\$/)\n        while __result__?\n          __line__.replace(__result__[0],(eval __result__[1]).toString())\n          __result__ = __line__.match(/\\$\\$\\$\\$\\s*(\\S.*\\S)\\s*\\$\\$\\$\\$/)\n        \n        __resultlines__.push(__line__)\n  \n  fs.writeFileSync __dstpath__+'/'+__dstfile__,__resultlines__.join(\"\\n\")\n\n\nconvfilename = (__srcfile__, __param__) ->\n  for __key__,__value__ of __param__\n    eval 'var '+__key__+' = __value__;'\n\n  __dstfile__ = ''\n  if /\\$\\$\\$\\$\\$\\$\\s*(\\w+)\\s*:\\s*#\\((.+)\\)\\s*\\$\\$\\$\\$\\$\\$/.test(__srcfile__)\n    __result__ = __srcfile__.match(/^\\$\\$\\$\\$\\$\\$\\s*(\\w+)\\s*:\\s*#\\((.+)\\)\\s*\\$\\$\\$\\$\\$\\$$/)\n    if (eval __result__[2])\n      __dstfile__ = __fileordir__.replace(__result__[0], __result__[1])\n    else return\n  else if /\\$\\$\\$\\$\\$\\$\\s*(\\w+)\\s*:\\s*!\\s*#\\((\\w+)\\)\\s*\\$\\$\\$\\$\\$\\$/.test(__srcfile__)\n    __result__ = __srcfile__.match(/^\\$\\$\\$\\$\\$\\$\\s*(\\w+)\\s*:\\s*!\\s*#\\((\\w+)\\)\\s*\\$\\$\\$\\$\\$\\$$/)\n    if not(eval __result__[2])\n      __dstfile__ = __fileordir__.replace(__result__[0], __result__[1])\n    else return\n  else if /\\$\\$\\$\\$\\$\\$\\s*#\\((.+)\\)\\s*\\$\\$\\$\\$\\$\\$/.test(__srcfile__)\n    __result__ = __srcfile__.match(/^\\$\\$\\$\\$\\$\\$\\s*#\\((.+)\\)\\s*\\$\\$\\$\\$\\$\\$$/)\n    __eval__ = (eval __result__[1]).toString()\n    if __eval__ != ''\n      __dstfile__ = __eval__\n    else return\n  else\n    __dstfile__ = __srcfile__\n  return __dstfile__\n\ntemplatecopydir_inside = (func) ->\n  return (__dstpath__, __srcpath__, __param__, __first__ = true) ->\n    console.log 'src '+__srcpath__\n    if __first__\n      if not fs.existsSync __srcpath__\n        console.log 'templates are not found.'\n        return -1\n    __result__ = __srcpath__.match(/\\/([^\\/]+)$/)\n    if not(__result__?)\n      return -1\n    __srcdir__ = __result__[1]\n    __dstdir__ = (convfilename __srcdir__,__param__) ? __srcdir__\n    \n    process.umask(0)\n    __dstpath__ += '/'+__dstdir__\n    if not fs.existsSync __dstpath__\n      fs.mkdirSync __dstpath__,'0757'\n    else\n      if __first__\n        console.log 'the project has already created.'\n        return -1\n\n    console.log 'dst '+__dstpath__\n    \n    __filearray__ = fs.readdirSync __srcpath__\n    for __fileordir__ in __filearray__\n      __stat__ = fs.statSync __srcpath__+'/'+__fileordir__\n      if __stat__.isFile()\n        console.log 'scanfiles '+__fileordir__\n        __dstfile__ = convfilename __fileordir__,__param__\n        templatecopyfile __dstpath__, __srcpath__, __dstfile__, __fileordir__, __param__\n      else if __stat__.isDirectory()\n        console.log 'scandirs '+__fileordir__\n        func __dstpath__,__srcpath__+'/'+__fileordir__,__param__,false\n\n#\u6240\u8b02Y\u30b3\u30f3\u30d3\u30cd\u30fc\u30bf\n____y____ = (func) ->\n  return ((g) ->\n    return (m,n,o,p) ->\n      return func(g(g))(m,n,o,p)\n  )((g) ->\n    return (m,n,o,p) ->\n      return func(g(g))(m,n,o,p)\n  )\n\n\ntemplatecopydir = ____y____(templatecopydir_inside)\n\ntemplatecopydir '/path/to/products','/path/to/generator-goldblend-generator/$$$$$$#(project)$$$$$$',{project: 'testtest', test:12}\n```\n", "tags": ["CoffeeScript", "JavaScript", "Express.js", "\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5"]}