{"context": "\n\nGem\u3092\u8ffd\u8a18\u3059\u308b\ngem 'unicorn'\n\n\nInstall\nbundle install\n\n\nconfig/unicorn.rb\u3092\u8ffd\u52a0\ntouch config/unicorn.rb\n\n\nconfig/unicorn.rb\n# -*- coding: utf-8 -*-\nworker_processes Integer(ENV['WEB_CONCURRENCY'] || 1)\ntimeout 150\npreload_app true\n\n# listen 8080\nlisten '/tmp/unicorn.sock'\npid '/tmp/unicorn.pid'\n\n\n\n\u4e00\u65e6port\u3067Listen\u3057\u3066\u78ba\u8a8d\u3059\u308b\n\nconfig/unicorn.rb\nlisten 8080\n# listen '/tmp/unicorn.sock' => \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n# pid '/tmp/unicorn.pid' => \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n\n\nbundle exec unicorn_rails -c config/unicorn.rb -E development\n\n\u52d5\u304f\u304b\u78ba\u8a8d\u3059\u308b\n\n\u52d5\u3044\u305f\u3089ngnx\u3092\u8a2d\u5b9a\u3059\u308b\nupstream unicorn {\n  server unix:/tmp/unicorn.sock;\n}\n\nserver {\n  listen 80;\n  server_name sample.com;\n\n  access_log /var/log/nginx/sample_access.log;\n  error_log /var/log/nginx/sample_error.log;\n\n  location / {\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header Host $http_host;\n    proxy_pass http://unicorn;\n  }\n}\n\n\nconfig/unicorn.rb\n#listen 8080 => \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\nlisten '/tmp/unicorn.sock' \npid '/tmp/unicorn.pid'\n\n\n\nnginx\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3059\u308b\nsudo nginx -t\nsudo service nginx reload\nsudo service nginx restart\n\n# Gem\u3092\u8ffd\u8a18\u3059\u308b\n\n```\ngem 'unicorn'\n```\n\n# Install\n\n```\nbundle install\n```\n\n# config/unicorn.rb\u3092\u8ffd\u52a0\n\n```\ntouch config/unicorn.rb\n```\n\n```config/unicorn.rb\n# -*- coding: utf-8 -*-\nworker_processes Integer(ENV['WEB_CONCURRENCY'] || 1)\ntimeout 150\npreload_app true\n\n# listen 8080\nlisten '/tmp/unicorn.sock'\npid '/tmp/unicorn.pid'\n```\n\n# \u4e00\u65e6port\u3067Listen\u3057\u3066\u78ba\u8a8d\u3059\u308b\n\n```config/unicorn.rb\nlisten 8080\n# listen '/tmp/unicorn.sock' => \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n# pid '/tmp/unicorn.pid' => \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n```\n\n```\nbundle exec unicorn_rails -c config/unicorn.rb -E development\n```\n\u52d5\u304f\u304b\u78ba\u8a8d\u3059\u308b\n\n# \u52d5\u3044\u305f\u3089ngnx\u3092\u8a2d\u5b9a\u3059\u308b\n\n```\nupstream unicorn {\n  server unix:/tmp/unicorn.sock;\n}\n\nserver {\n  listen 80;\n  server_name sample.com;\n\n  access_log /var/log/nginx/sample_access.log;\n  error_log /var/log/nginx/sample_error.log;\n\n  location / {\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header Host $http_host;\n    proxy_pass http://unicorn;\n  }\n}\n```\n\n```config/unicorn.rb\n#listen 8080 => \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\nlisten '/tmp/unicorn.sock' \npid '/tmp/unicorn.pid'\n```\n\n# nginx\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3059\u308b\n\n```\nsudo nginx -t\nsudo service nginx reload\nsudo service nginx restart\n```\n", "tags": ["Rails", "unicorn"]}