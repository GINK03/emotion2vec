{"tags": ["AngularJS", "Node.js", "MySQL", "JSON", "Express"], "context": "\u4ee5\u4e0b\u306e\u6280\u8853\u3092\u7d44\u307f\u5408\u308f\u305b\u3066Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308b\u969b\u306b2\u70b9\u554f\u984c\u306b\u76f4\u9762\u3057\u307e\u3057\u305f\u3002\n\u89e3\u6c7a\u65b9\u6cd5\u3092\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u6280\u8853\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\n\nAngularJS 1.4.x\nNode 4.4.x\n\n\nExpress 4.14.x\nmysql 2.11.x\n\n\nMySQL 5.6.x\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306fAngularJS\u3067SPA\u3001\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u306fNode+MySQL\u3067WebAPI\u3068\u3044\u3046\u5f62\u3067\u5b9f\u88c5\u3057\u3001\u901a\u4fe1\u6642\u306e\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306fJSON\u5f62\u5f0f\u3067\u3059\u3002\n\n\u767a\u751f\u3057\u305f\u554f\u984c\n\nDB\u633f\u5165\u524d\u306fBoolean\u306a\u306e\u306b\u53d6\u5f97\u5f8c\u306bNumber\u306b\u306a\u308b\nJSON\u7d4c\u7531\u3059\u308b\u3068\u65e5\u6642\u304c\u6587\u5b57\u5217\u306b\u306a\u308b\n\n\n\u578b\u306e\u6bd4\u8f03\n\u5b9f\u969b\u306e\u5185\u5bb9\u306e\u524d\u306b\u3001\u5404\u6280\u8853\u9593\u306e\u578b\u306e\u6bd4\u8f03\u3092\u898b\u3066\u304a\u304d\u307e\u3059\u3002\n\u57fa\u672c\u7684\u306b\u306f\u81ea\u52d5\u7684\u306b\u76f8\u4e92\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n\n\n\n\n\u771f\u507d\u5024\n\u65e5\u4ed8\u3068\u6642\u9593\n\n\n\n\nJavaScript\nBoolean\nDate\n\n\nJSON\ntrue/false\nstring1\n\n\n\nMySQL\nTINYINT(1)\nDATETIME2\n\n\n\n\n\n\u767a\u751f\u3057\u305f\u554f\u984c\n\nDB\u633f\u5165\u524d\u306fBoolean\u306a\u306e\u306b\u53d6\u5f97\u5f8c\u306bNumber\u306b\u306a\u308b\nMySQL\u306fTINYINT(1)\u306e\u30ab\u30e9\u30e0\u306b\u5bfe\u3057\u3066true/false\u306e\u633f\u5165/\u66f4\u65b0\u3092\u554f\u984c\u306a\u304f\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\nINSERT INTO sample (bool_col) VALUES (true);\n\n\u4e00\u65b9\u3067\u30c9\u30e9\u30a4\u30d0\u306b\u4f9d\u5b58\u3059\u308b\u90e8\u5206\u3082\u591a\u5206\u306b\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u5229\u7528\u3057\u305fmysqljs/mysql\u3067\u306f\u305d\u306e\u307e\u307e\u6570\u5024\u3068\u3057\u3066\u53d6\u5f97\u3055\u308c\u307e\u3059\u3002\n\uff08TINYINT(1)\u3092BOOL\u578b\u3068\u3057\u3066\u6271\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u3063\u3066\u3082\u3044\u3044\u304b\u3082\u3067\u3059\u306d\uff09\nSELECT bool_col FROM sample; -- 1\n\n\u7d50\u5c40\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6d41\u308c\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\nAngularJS\n\nJSON\n\nNode\n\nMySQL\n\n\n\n\nBoolean\n\u2192\ntrue/false\n\u2192\nBoolean\n\u2192\n\n\n\n\n\n\n\n\n\nTINYINT\n\n\nNumber\n\u2190\nnumber\n\u2190\nNumber\n\u2190\n\n\n\n\nJavaScript\u3067\u306f\u6697\u9ed9\u306e\u578b\u5909\u63db\u304c\u3042\u308b\u305f\u3081\u3001if\u6587\u306a\u3069\u3067\u306f\u7279\u306b\u56f0\u308b\u3053\u3068\u306f\u306a\u3044\u306e\u3067\u3059\u304c\u3001\nAngularJS\u306e\u65b9\u3067\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306a\u3069\u3078\u306e\u30d0\u30a4\u30f3\u30c9\u3067\u554f\u984c\u304c\u8d77\u304d\u307e\u3057\u305f\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001SELECT\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u5185\u306eTINYINT(1)\u3092Boolean\u578b\u306b\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\uff08JSON\u3067\u3082Boolean\u578b\u306f\u6271\u3048\u308b\u305f\u3081\u53d6\u5f97\u6642\u304c\u30d9\u30b9\u30c8\uff09\n\nJSON\u7d4c\u7531\u3059\u308b\u3068\u65e5\u6642\u304c\u6587\u5b57\u5217\u306b\u306a\u308b\nJSON\u306b\u306f\u65e5\u6642\u578b\u304c\u5b58\u5728\u3057\u307e\u305b\u3093\u3002\n\u65e5\u6642\u306fISO-8601\u62e1\u5f35\u5f62\u5f0f3\u306e\u6587\u5b57\u5217\u8868\u73fe\u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n\uff08\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306f\u81ea\u52d5\u3067UTC\u306b\u76f4\u3055\u308c\u308b\u3002\u65e5\u672c\u6642\u9593\u3067\u3042\u308c\u3070\u3001\u898b\u305f\u76ee\u4e0a\u306f9\u6642\u9593\u524d\u306e\u6642\u9593\u306b\u306a\u308b\u3002\uff09\n\n\n\nAngularJS\n\nJSON\n\nNode\n\nMySQL\n\n\n\n\nDate\n\u2192\nstring\n\u2192\nString\n\u2192\n\n\n\n\n\n\n\n\n\nDATETIME\n\n\nString\n\u2190\nstring\n\u2190\nDate\n\u2190\n\n\n\n\n\u554f\u984c\u3068\u306a\u3063\u305f\u306e\u306f\u3001MySQL\u306bINSERT/UPDATE\u3059\u308b\u969b\u306b\u3001\u8868\u73fe\u5185\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\uff08UTC\u3067\u3042\u308bZ\uff09\u3092\u7121\u8996\u3057\u3066MySQL\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3067\u683c\u7d0d\u3055\u308c\u3066\u3057\u307e\u3046\u3053\u3068\u3067\u3057\u305f\u3002\n\u305d\u306e\u7d50\u679c\u3001\u767b\u9332/\u66f4\u65b0\u3092\u3059\u308b\u305f\u3073\u306b\u3001\u6642\u9593\u304c\u3069\u3093\u3069\u30939\u6642\u9593\u524d\u306b\u3055\u304b\u306e\u307c\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\uff08MySQL\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306fJST\u306b\u3057\u3066\u3044\u307e\u3057\u305f\uff09\n\n\u65e5\u6642\u30c7\u30fc\u30bf\u306e\u72b6\u614b\u9077\u79fb\nWed Aug 17 2016 18:00:00 GMT+0900 (JST)\n\n\u2193 JSON.stringify()\n\n'2016-08-17T09:00:00.000Z'\n\n\u2193 req.body\n\n'2016-08-17T09:00:00.000Z'\n\n\u2193 INSERT/UPDATE\n\n2016-08-17 09:00:00\n\n\u2193 SELECT\n\nWed Aug 17 2016 09:00:00 GMT+0900 (JST)\n\n\u2193 JSON.stringify()\n\n'2016-08-17T00:00:00.000Z'\n\n\u2193 $http.get()\n\n'2016-08-17T00:00:00.000Z'\n\n\u2193 new Date()\n\nWed Aug 17 2016 09:00:00 GMT+0900 (JST)\n\n\n\u307e\u305f\u6587\u5b57\u5217\u306e\u307e\u307e\u3067\u3082\u6982\u306d\u554f\u984c\u306a\u304f\u52d5\u304f\u306e\u304c\u5384\u4ecb\u3067\u3057\u305f\u304c\u3001<input type=\"datetime\">\u306a\u3069\u3067\u306f\u3001\u30d0\u30a4\u30f3\u30c9\u3059\u308b\u969b\u306b\u6587\u5b57\u5217\u306e\u307e\u307e\u3060\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\nAngularJS\u3067\u6587\u5b57\u5217\u306e\u307e\u307e\u65e5\u6642\u8868\u793a\u3092\u3059\u308b\u3068\u3001\uff08\u5f53\u305f\u308a\u524d\u3067\u3059\u304c\uff09UTC\u3067\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\uff08date\u30d5\u30a3\u30eb\u30bf\u30fc\u3067\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u6307\u5b9a\u3059\u308c\u3070\u5927\u4e08\u592b\u3067\u3059\u304c\u3001\u305d\u3082\u305d\u3082Date\u578b\u306a\u3089\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u6307\u5b9a\u306f\u3044\u3089\u306a\u3044\uff09\nBoolean\u3068\u9055\u3044JSON\u304b\u3089\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u305f\u3073\u306bDate\u306b\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u89e3\u6c7a\u65b9\u6cd5\n\nBoolean\u3068TINYINT(1)\n\u3053\u308c\u306f\u516c\u5f0f\u306b\u3082\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u304c\u3001typeCast\u306b\u51e6\u7406\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u30d7\u30fc\u30eb\u307e\u305f\u306f\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u4f5c\u6210\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\nvar pool = mysql.createPool({\n  host    : 'localhost',\n  user    : '****',\n  password: '****',\n  database: '****',\n  typeCast: function(field, next) {\n    if (field.type === 'TINY' && field.length === 1) {\n      return field.string() === '1'; // '1' = true, '0' = false\n    }\n    return next();\n  }\n});\n\n\nDate\u3068string\n\u3053\u308c\u306f\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u53cc\u65b9\u3067\u5909\u63db\u51e6\u7406\u3092\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\uff08Node, Express, lodash\uff09\nJSON\u6587\u5b57\u5217\u3092\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5909\u63db\u3059\u308b\u306b\u306f\u3001\u7d44\u307f\u8fbc\u307f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3042\u308bJSON\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u6301\u3063\u3066\u3044\u308b\u3001parse\u30e1\u30bd\u30c3\u30c9\u3092\u5229\u7528\u3059\u308b\u306e\u304c\u4e00\u822c\u7684\u3067\u3059\u3002\n\u3053\u308c\u306f\u5b9f\u306f\u7b2c2\u5f15\u6570\u3092\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u3066\u3001\u30d1\u30fc\u30b9\u5f8c\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066\u72ec\u81ea\u306e\u5909\u63db\u51e6\u7406\u3092\u9069\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nJSON.parse(text[, reviver])\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u304c\u3001\u30cd\u30b9\u30c8\u306e\u6df1\u3044\u3068\u3053\u308d\u304b\u3089\u518d\u5e30\u7684\u306b\u95a2\u6570\u3092\u9069\u7528\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3001ISO-8601\u5f62\u5f0f\u306e\u6587\u5b57\u5217\u3060\u3063\u305f\u3089Date\u578b\u306b\u5909\u63db\u3068\u3044\u3046\u51e6\u7406\u3092\u3057\u3066\u3084\u308c\u3070\u3044\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\nExpress\u3067\u306f\u3001body-parser\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u304d\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067reviver\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\nvar express = require('express');\nvar bodyParser = require('body-parser');\nvar _ = require('lodash');\n\nvar app = express();\n\nvar ISO_DATE_REGEXP = /^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$/;\napp.use(bodyParser.json({\n  reviver: function(key, value) {\n    return (_.isString(value) && ISO_DATE_REGEXP.test(value)) ? new Date(value) : value;\n  }\n}));\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\uff08AngularJS\uff09\nAngularJS\u3067\u3082\u540c\u3058\u3053\u3068\u3092\u3057\u3066\u3084\u308a\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u304c\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u7c21\u5358\u306b\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\u5185\u90e8\u7684\u306b$http\u304c\u7d50\u679c\u3092\u53d7\u3051\u53d6\u3063\u305f\u6642\u306b\u3001angular.fromJson()\u3067\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u3066\u308b\u3088\u3046\u306a\u3093\u3067\u3059\u304c\u3001fromJson\u306freviver\u306e\u6307\u5b9a\u306f\u3067\u304d\u306a\u3044\u4e0a\u306b\u3001\u305d\u308c\u3063\u307d\u3044\u30aa\u30d7\u30b7\u30e7\u30f3\u3082\u898b\u5f53\u305f\u308a\u307e\u305b\u3093\u3002\n\u4ee3\u308f\u308a\u306b\u3001$httpProvider\u306etransformResponse\u306b\u540c\u69d8\u306e\u51e6\u7406\u3092push\u3059\u308b\u3053\u3068\u3067\u8ffd\u52a0\u3057\u307e\u3059\u3002\nvar ISO_DATE_REGEXP = /^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$/;\n\nfunction convertDate(obj) {\n  angular.forEach(obj, function(value, key) {\n    if (angular.isString(value) && ISO_DATE_REGEXP.test(value)) {\n      obj[key] = new Date(value);\n    } else if (angular.isArray(value) || angular.isObject(value)) {\n      convertDate(value);\n    }\n  });\n}\n\nangular.module('****').config(function($httpProvider) {\n  $httpProvider.defaults.transformResponse.push(function(data) {\n    convertDate(data);\n    return data;\n  });\n});\n\n\n\u307e\u3068\u3081\n\u3053\u3046\u3044\u3046\u6642\u306b\u304d\u3061\u3093\u3068\u578b\u6307\u5b9a\u3067\u304d\u308b\u8a00\u8a9e\u3060\u3068\u5b89\u5fc3\u611f\u304c\u3042\u308a\u307e\u3059\u306d\u3002\nJavaScript\u306f\u578b\u306b\u3086\u308b\u3044\u8a00\u8a9e\u3067\u3059\u304c\u3001\u3046\u307e\u3044\u3053\u3068\u306f\u3081\u3089\u308c\u307e\u3057\u305f\u3002\n\u578b\u306b\u306f\u6c17\u3092\u3064\u3051\u3088\u3046\uff01\n\n\n\n\n\nJSON.stringify()\u3092\u5229\u7528\u3059\u308b\u3068ISO-8601\u306e\u6587\u5b57\u5217\u8868\u73fe\u3068\u306a\u308b\u3002\u00a0\u21a9\n\n\nDATE\u578b\u3084TAIMESTAMP\u578b\u3001TIME\u578b\u306a\u3069\u8907\u6570\u3042\u308b\u3002\u00a0\u21a9\n\n\n\u57fa\u672c\u5f62\u5f0f\u3068\u62e1\u5f35\u5f62\u5f0f\u00a0\u21a9\n\n\n\n\u4ee5\u4e0b\u306e\u6280\u8853\u3092\u7d44\u307f\u5408\u308f\u305b\u3066Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308b\u969b\u306b2\u70b9\u554f\u984c\u306b\u76f4\u9762\u3057\u307e\u3057\u305f\u3002\n\u89e3\u6c7a\u65b9\u6cd5\u3092\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n# \u6280\u8853\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\n- AngularJS 1.4.x\n- Node 4.4.x\n    - Express 4.14.x\n    - mysql 2.11.x\n- MySQL 5.6.x\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306fAngularJS\u3067SPA\u3001\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u306fNode+MySQL\u3067WebAPI\u3068\u3044\u3046\u5f62\u3067\u5b9f\u88c5\u3057\u3001\u901a\u4fe1\u6642\u306e\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306fJSON\u5f62\u5f0f\u3067\u3059\u3002\n\n# \u767a\u751f\u3057\u305f\u554f\u984c\n- DB\u633f\u5165\u524d\u306fBoolean\u306a\u306e\u306b\u53d6\u5f97\u5f8c\u306bNumber\u306b\u306a\u308b\n- JSON\u7d4c\u7531\u3059\u308b\u3068\u65e5\u6642\u304c\u6587\u5b57\u5217\u306b\u306a\u308b\n\n# \u578b\u306e\u6bd4\u8f03\n\u5b9f\u969b\u306e\u5185\u5bb9\u306e\u524d\u306b\u3001\u5404\u6280\u8853\u9593\u306e\u578b\u306e\u6bd4\u8f03\u3092\u898b\u3066\u304a\u304d\u307e\u3059\u3002\n\u57fa\u672c\u7684\u306b\u306f\u81ea\u52d5\u7684\u306b\u76f8\u4e92\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n\n|            | \u771f\u507d\u5024     | \u65e5\u4ed8\u3068\u6642\u9593    |\n|:-----------|:-----------|:-------------|\n| JavaScript | Boolean    | Date         |\n| JSON       | true/false | string[^1]   |\n| MySQL      | TINYINT(1) | DATETIME[^2] |\n\n# \u767a\u751f\u3057\u305f\u554f\u984c\n\n## DB\u633f\u5165\u524d\u306fBoolean\u306a\u306e\u306b\u53d6\u5f97\u5f8c\u306bNumber\u306b\u306a\u308b\nMySQL\u306fTINYINT(1)\u306e\u30ab\u30e9\u30e0\u306b\u5bfe\u3057\u3066true/false\u306e\u633f\u5165/\u66f4\u65b0\u3092\u554f\u984c\u306a\u304f\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n\n```sql\nINSERT INTO sample (bool_col) VALUES (true);\n```\n\n\u4e00\u65b9\u3067\u30c9\u30e9\u30a4\u30d0\u306b\u4f9d\u5b58\u3059\u308b\u90e8\u5206\u3082\u591a\u5206\u306b\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u5229\u7528\u3057\u305f[mysqljs/mysql](https://github.com/mysqljs/mysql)\u3067\u306f\u305d\u306e\u307e\u307e\u6570\u5024\u3068\u3057\u3066\u53d6\u5f97\u3055\u308c\u307e\u3059\u3002\n\uff08TINYINT(1)\u3092BOOL\u578b\u3068\u3057\u3066\u6271\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u3063\u3066\u3082\u3044\u3044\u304b\u3082\u3067\u3059\u306d\uff09\n\n```sql\nSELECT bool_col FROM sample; -- 1\n```\n\n\u7d50\u5c40\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6d41\u308c\u306b\u306a\u308a\u307e\u3059\u3002\n\n| AngularJS |   | JSON       |   | Node    |   | MySQL   |\n|:---------:|:-:|:----------:|:-:|:-------:|:-:|:-------:|\n| Boolean   | \u2192 | true/false | \u2192 | Boolean | \u2192 |         |\n|           |   |            |   |         |   | TINYINT |\n| Number    | \u2190 | number     | \u2190 | Number  | \u2190 |         |\n\n\nJavaScript\u3067\u306f\u6697\u9ed9\u306e\u578b\u5909\u63db\u304c\u3042\u308b\u305f\u3081\u3001if\u6587\u306a\u3069\u3067\u306f\u7279\u306b\u56f0\u308b\u3053\u3068\u306f\u306a\u3044\u306e\u3067\u3059\u304c\u3001\nAngularJS\u306e\u65b9\u3067\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306a\u3069\u3078\u306e\u30d0\u30a4\u30f3\u30c9\u3067\u554f\u984c\u304c\u8d77\u304d\u307e\u3057\u305f\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001SELECT\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u5185\u306eTINYINT(1)\u3092Boolean\u578b\u306b\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\uff08JSON\u3067\u3082Boolean\u578b\u306f\u6271\u3048\u308b\u305f\u3081\u53d6\u5f97\u6642\u304c\u30d9\u30b9\u30c8\uff09\n\n\n## JSON\u7d4c\u7531\u3059\u308b\u3068\u65e5\u6642\u304c\u6587\u5b57\u5217\u306b\u306a\u308b\nJSON\u306b\u306f\u65e5\u6642\u578b\u304c\u5b58\u5728\u3057\u307e\u305b\u3093\u3002\n\u65e5\u6642\u306fISO-8601\u62e1\u5f35\u5f62\u5f0f[^3]\u306e\u6587\u5b57\u5217\u8868\u73fe\u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n\uff08\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306f\u81ea\u52d5\u3067UTC\u306b\u76f4\u3055\u308c\u308b\u3002\u65e5\u672c\u6642\u9593\u3067\u3042\u308c\u3070\u3001\u898b\u305f\u76ee\u4e0a\u306f9\u6642\u9593\u524d\u306e\u6642\u9593\u306b\u306a\u308b\u3002\uff09\n\n\n| AngularJS |   | JSON   |   | Node   |   | MySQL    |\n|:---------:|:-:|:------:|:-:|:------:|:-:|:--------:|\n| Date      | \u2192 | string | \u2192 | String | \u2192 |          |\n|           |   |        |   |        |   | DATETIME |\n| String    | \u2190 | string | \u2190 | Date   | \u2190 |          |\n\n\n\u554f\u984c\u3068\u306a\u3063\u305f\u306e\u306f\u3001MySQL\u306bINSERT/UPDATE\u3059\u308b\u969b\u306b\u3001\u8868\u73fe\u5185\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\uff08UTC\u3067\u3042\u308b**Z**\uff09\u3092\u7121\u8996\u3057\u3066MySQL\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3067\u683c\u7d0d\u3055\u308c\u3066\u3057\u307e\u3046\u3053\u3068\u3067\u3057\u305f\u3002\n\u305d\u306e\u7d50\u679c\u3001\u767b\u9332/\u66f4\u65b0\u3092\u3059\u308b\u305f\u3073\u306b\u3001\u6642\u9593\u304c\u3069\u3093\u3069\u30939\u6642\u9593\u524d\u306b\u3055\u304b\u306e\u307c\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\uff08MySQL\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306fJST\u306b\u3057\u3066\u3044\u307e\u3057\u305f\uff09\n\n\n```txt:\u65e5\u6642\u30c7\u30fc\u30bf\u306e\u72b6\u614b\u9077\u79fb\nWed Aug 17 2016 18:00:00 GMT+0900 (JST)\n\n\u2193 JSON.stringify()\n\n'2016-08-17T09:00:00.000Z'\n\n\u2193 req.body\n\n'2016-08-17T09:00:00.000Z'\n\n\u2193 INSERT/UPDATE\n\n2016-08-17 09:00:00\n\n\u2193 SELECT\n\nWed Aug 17 2016 09:00:00 GMT+0900 (JST)\n\n\u2193 JSON.stringify()\n\n'2016-08-17T00:00:00.000Z'\n\n\u2193 $http.get()\n\n'2016-08-17T00:00:00.000Z'\n\n\u2193 new Date()\n\nWed Aug 17 2016 09:00:00 GMT+0900 (JST)\n```\n\n\n\u307e\u305f\u6587\u5b57\u5217\u306e\u307e\u307e\u3067\u3082\u6982\u306d\u554f\u984c\u306a\u304f\u52d5\u304f\u306e\u304c\u5384\u4ecb\u3067\u3057\u305f\u304c\u3001`<input type=\"datetime\">`\u306a\u3069\u3067\u306f\u3001\u30d0\u30a4\u30f3\u30c9\u3059\u308b\u969b\u306b\u6587\u5b57\u5217\u306e\u307e\u307e\u3060\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\nAngularJS\u3067\u6587\u5b57\u5217\u306e\u307e\u307e\u65e5\u6642\u8868\u793a\u3092\u3059\u308b\u3068\u3001\uff08\u5f53\u305f\u308a\u524d\u3067\u3059\u304c\uff09UTC\u3067\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\uff08date\u30d5\u30a3\u30eb\u30bf\u30fc\u3067\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u6307\u5b9a\u3059\u308c\u3070\u5927\u4e08\u592b\u3067\u3059\u304c\u3001\u305d\u3082\u305d\u3082Date\u578b\u306a\u3089\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u6307\u5b9a\u306f\u3044\u3089\u306a\u3044\uff09\n\nBoolean\u3068\u9055\u3044JSON\u304b\u3089\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u305f\u3073\u306bDate\u306b\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n# \u89e3\u6c7a\u65b9\u6cd5\n\n## Boolean\u3068TINYINT(1)\n\u3053\u308c\u306f[\u516c\u5f0f](https://github.com/mysqljs/mysql#type-casting)\u306b\u3082\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u304c\u3001typeCast\u306b\u51e6\u7406\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u30d7\u30fc\u30eb\u307e\u305f\u306f\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u4f5c\u6210\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n```js\nvar pool = mysql.createPool({\n  host    : 'localhost',\n  user    : '****',\n  password: '****',\n  database: '****',\n  typeCast: function(field, next) {\n    if (field.type === 'TINY' && field.length === 1) {\n      return field.string() === '1'; // '1' = true, '0' = false\n    }\n    return next();\n  }\n});\n```\n\n## Date\u3068string\n\u3053\u308c\u306f\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u53cc\u65b9\u3067\u5909\u63db\u51e6\u7406\u3092\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n### \u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\uff08Node, Express, lodash\uff09\nJSON\u6587\u5b57\u5217\u3092\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5909\u63db\u3059\u308b\u306b\u306f\u3001\u7d44\u307f\u8fbc\u307f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3042\u308bJSON\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u6301\u3063\u3066\u3044\u308b\u3001parse\u30e1\u30bd\u30c3\u30c9\u3092\u5229\u7528\u3059\u308b\u306e\u304c\u4e00\u822c\u7684\u3067\u3059\u3002\n\u3053\u308c\u306f\u5b9f\u306f\u7b2c2\u5f15\u6570\u3092\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u3066\u3001\u30d1\u30fc\u30b9\u5f8c\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066\u72ec\u81ea\u306e\u5909\u63db\u51e6\u7406\u3092\u9069\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n[JSON.parse(text[, reviver])](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse)\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u304c\u3001\u30cd\u30b9\u30c8\u306e\u6df1\u3044\u3068\u3053\u308d\u304b\u3089\u518d\u5e30\u7684\u306b\u95a2\u6570\u3092\u9069\u7528\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3001**ISO-8601\u5f62\u5f0f\u306e\u6587\u5b57\u5217\u3060\u3063\u305f\u3089Date\u578b\u306b\u5909\u63db**\u3068\u3044\u3046\u51e6\u7406\u3092\u3057\u3066\u3084\u308c\u3070\u3044\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\nExpress\u3067\u306f\u3001body-parser\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u304d\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067reviver\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n```js\nvar express = require('express');\nvar bodyParser = require('body-parser');\nvar _ = require('lodash');\n\nvar app = express();\n\nvar ISO_DATE_REGEXP = /^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$/;\napp.use(bodyParser.json({\n  reviver: function(key, value) {\n    return (_.isString(value) && ISO_DATE_REGEXP.test(value)) ? new Date(value) : value;\n  }\n}));\n```\n\n### \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\uff08AngularJS\uff09\nAngularJS\u3067\u3082\u540c\u3058\u3053\u3068\u3092\u3057\u3066\u3084\u308a\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u304c\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u7c21\u5358\u306b\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\u5185\u90e8\u7684\u306b$http\u304c\u7d50\u679c\u3092\u53d7\u3051\u53d6\u3063\u305f\u6642\u306b\u3001`angular.fromJson()`\u3067\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u3066\u308b\u3088\u3046\u306a\u3093\u3067\u3059\u304c\u3001fromJson\u306freviver\u306e\u6307\u5b9a\u306f\u3067\u304d\u306a\u3044\u4e0a\u306b\u3001\u305d\u308c\u3063\u307d\u3044\u30aa\u30d7\u30b7\u30e7\u30f3\u3082\u898b\u5f53\u305f\u308a\u307e\u305b\u3093\u3002\n\u4ee3\u308f\u308a\u306b\u3001$httpProvider\u306etransformResponse\u306b\u540c\u69d8\u306e\u51e6\u7406\u3092push\u3059\u308b\u3053\u3068\u3067\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```js\nvar ISO_DATE_REGEXP = /^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$/;\n\nfunction convertDate(obj) {\n  angular.forEach(obj, function(value, key) {\n    if (angular.isString(value) && ISO_DATE_REGEXP.test(value)) {\n      obj[key] = new Date(value);\n    } else if (angular.isArray(value) || angular.isObject(value)) {\n      convertDate(value);\n    }\n  });\n}\n\nangular.module('****').config(function($httpProvider) {\n  $httpProvider.defaults.transformResponse.push(function(data) {\n    convertDate(data);\n    return data;\n  });\n});\n```\n\n# \u307e\u3068\u3081\n\u3053\u3046\u3044\u3046\u6642\u306b\u304d\u3061\u3093\u3068\u578b\u6307\u5b9a\u3067\u304d\u308b\u8a00\u8a9e\u3060\u3068\u5b89\u5fc3\u611f\u304c\u3042\u308a\u307e\u3059\u306d\u3002\nJavaScript\u306f\u578b\u306b\u3086\u308b\u3044\u8a00\u8a9e\u3067\u3059\u304c\u3001\u3046\u307e\u3044\u3053\u3068\u306f\u3081\u3089\u308c\u307e\u3057\u305f\u3002\n\u578b\u306b\u306f\u6c17\u3092\u3064\u3051\u3088\u3046\uff01\n\n\n--- \n[^1]: `JSON.stringify()`\u3092\u5229\u7528\u3059\u308b\u3068ISO-8601\u306e\u6587\u5b57\u5217\u8868\u73fe\u3068\u306a\u308b\u3002\n[^2]: DATE\u578b\u3084TAIMESTAMP\u578b\u3001TIME\u578b\u306a\u3069\u8907\u6570\u3042\u308b\u3002\n[^3]: [\u57fa\u672c\u5f62\u5f0f\u3068\u62e1\u5f35\u5f62\u5f0f](https://ja.wikipedia.org/wiki/ISO_8601#.E5.9F.BA.E6.9C.AC.E5.BD.A2.E5.BC.8F.E3.81.A8.E6.8B.A1.E5.BC.B5.E5.BD.A2.E5.BC.8F)\n"}