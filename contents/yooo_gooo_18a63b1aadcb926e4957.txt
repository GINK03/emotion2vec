{"tags": ["GoogleAppsScript", "Chrome36", "AngularJS"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002chrome\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u309231\u304b\u308936\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u305f\u3089\n\u5225\u30c9\u30e1\u30a4\u30f3\u304b\u3089\nGoogleAppsScript.ContentService\u306eJSONP\u304c\u53d6\u5f97\u51fa\u6765\u306a\u304f\u306a\u3063\u305f\u3002\n\ndoGet.js\nfunction doGet(e){\n  var _c = e.parameter.callback;\n  var _s = JSON.stringify({test:'hogehoge'});\n  _s = ((_c)?_c + '(' + _s + ')':_s);\n  return ContentService.createTextOutput(_s).setMimeType(ContentService.MimeType.JSON);\n}\n\n\n\u5225\u30b5\u30a4\u30c8\u306eHTML\n\nindex.html\n<!DOCTYPE html>\n<html ng-app=\"MyApp\">\n\n  <head>\n    <script src=\"https://code.angularjs.org/1.3.0-beta.5/angular.js\"></script>\n    <script src=\"script.js\"></script>\n  </head>\n\n  <body>\n    <div ng-controller=\"formCtrl\">\n      <form ng-submit=\"submit();\">\n        <button type=\"submit\" />\n      </form>\n      <p>{{items|json}}</p>\n    </div>\n  </body>\n\n</html>\n\n\n\n\nscript.js\nangular.module(\"MyApp\", [])\n.controller(\"formCtrl\", function($http, $scope){\n  $scope.submit = function(){\n    $http.jsonp('https://script.google.com/macros/s/xxxxxxxxxxxxxxxxxxxxxx/exec',{params:{callback:\"JSON_CALLBACK\",action:\"hogehoge\"}})\n    .success(function(data, status){\n      $scope.items = angular.fromJson(data);\n    })\n    .error(function(data, status, headers, config){\n      console.log('error');\n    });\n  };\n});\n\n\nAngularjs\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f1.3.0-beta.5\nChrome\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u30ed\u30b0\u304b\u3089\u51fa\u529b\u3055\u308c\u308b\u30a8\u30e9\u30fc\u306f\u3053\u3093\u306a\u611f\u3058\u3002\nRefused to execute script from 'https://script.google.com/macros/s/xxxxxxxxxxxxxxxxxxxxxx/exec?action=hogehoge&callback=angular.callbacks._0' because its MIME type ('application/json') is not executable, and strict MIME type checking is enabled.\n\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u5ea6\u3044\u3064\u3082\u306a\u306b\u304b\u3068\u60a9\u3093\u3067\u308b\u3088\u3046\u306a\u6c17\u304c\u30fb\u30fb\u30fb\u3002\u3046\uff5e\u3080\u3002\nChrome31\u3067\u306fJSONP\u3067GAS\u306eJSON\u3092\u53d6\u5f97\u51fa\u6765\u3066\u3044\u305f\u306e\u3067\u3061\u3068\u56f0\u3063\u305f\u3002\n\u4e00\u65e5\u304b\u304b\u3063\u3066\u3044\u308d\u3044\u308d\u3068\u8abf\u3079\u305f\u7d50\u679c\u3001\u7d50\u5c40\u30d6\u30e9\u30a6\u30b6\u306eMIMETYPE\u304c\u3088\u308a\u53b3\u5bc6\u306b\u30c1\u30a7\u30c3\u30af\u304c\u5165\u3063\u305f\u3093\u3060\u308d\u3046\u3068\u3044\u3046\u30aa\u30c1\u306b\u3002\nContentService.createTextOutput(jsonp).setMimeType(ContentService.MimeType.JSON);\n\u2193\nContentService.createTextOutput(jsonp).setMimeType(ContentService.MimeType.JAVASCRIPT);\nGAS\u5074\u3067MimeType\u3092JAVASCRIPT\u306b\u3057\u305f\u3089\u89e3\u6c7a\u3002\n\u53c2\u7167\nchrome\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u309231\u304b\u308936\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u305f\u3089\n\u5225\u30c9\u30e1\u30a4\u30f3\u304b\u3089\nGoogleAppsScript.ContentService\u306eJSONP\u304c\u53d6\u5f97\u51fa\u6765\u306a\u304f\u306a\u3063\u305f\u3002\n\n``` doGet.js\nfunction doGet(e){\n  var _c = e.parameter.callback;\n  var _s = JSON.stringify({test:'hogehoge'});\n  _s = ((_c)?_c + '(' + _s + ')':_s);\n  return ContentService.createTextOutput(_s).setMimeType(ContentService.MimeType.JSON);\n}\n```\n\n\u5225\u30b5\u30a4\u30c8\u306eHTML\n\n```index.html\n<!DOCTYPE html>\n<html ng-app=\"MyApp\">\n\n  <head>\n    <script src=\"https://code.angularjs.org/1.3.0-beta.5/angular.js\"></script>\n    <script src=\"script.js\"></script>\n  </head>\n\n  <body>\n    <div ng-controller=\"formCtrl\">\n      <form ng-submit=\"submit();\">\n        <button type=\"submit\" />\n      </form>\n      <p>{{items|json}}</p>\n    </div>\n  </body>\n\n</html>\n\n```\n\n``` script.js\nangular.module(\"MyApp\", [])\n.controller(\"formCtrl\", function($http, $scope){\n  $scope.submit = function(){\n    $http.jsonp('https://script.google.com/macros/s/xxxxxxxxxxxxxxxxxxxxxx/exec',{params:{callback:\"JSON_CALLBACK\",action:\"hogehoge\"}})\n    .success(function(data, status){\n      $scope.items = angular.fromJson(data);\n    })\n    .error(function(data, status, headers, config){\n      console.log('error');\n    });\n  };\n});\n```\n\nAngularjs\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f1.3.0-beta.5\n\nChrome\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u30ed\u30b0\u304b\u3089\u51fa\u529b\u3055\u308c\u308b\u30a8\u30e9\u30fc\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\n**Refused to execute script from 'https://script.google.com/macros/s/xxxxxxxxxxxxxxxxxxxxxx/exec?action=hogehoge&callback=angular.callbacks._0' because its MIME type ('application/json') is not executable, and strict MIME type checking is enabled.**\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u5ea6\u3044\u3064\u3082\u306a\u306b\u304b\u3068\u60a9\u3093\u3067\u308b\u3088\u3046\u306a\u6c17\u304c\u30fb\u30fb\u30fb\u3002\u3046\uff5e\u3080\u3002\n\n\nChrome31\u3067\u306fJSONP\u3067GAS\u306eJSON\u3092\u53d6\u5f97\u51fa\u6765\u3066\u3044\u305f\u306e\u3067\u3061\u3068\u56f0\u3063\u305f\u3002\n\n\u4e00\u65e5\u304b\u304b\u3063\u3066\u3044\u308d\u3044\u308d\u3068\u8abf\u3079\u305f\u7d50\u679c\u3001\u7d50\u5c40\u30d6\u30e9\u30a6\u30b6\u306eMIMETYPE\u304c\u3088\u308a\u53b3\u5bc6\u306b\u30c1\u30a7\u30c3\u30af\u304c\u5165\u3063\u305f\u3093\u3060\u308d\u3046\u3068\u3044\u3046\u30aa\u30c1\u306b\u3002\n``ContentService.createTextOutput(jsonp).setMimeType(ContentService.MimeType.JSON);``\n\u2193\n``ContentService.createTextOutput(jsonp).setMimeType(ContentService.MimeType.JAVASCRIPT);``\n\nGAS\u5074\u3067MimeType\u3092JAVASCRIPT\u306b\u3057\u305f\u3089\u89e3\u6c7a\u3002\n\n\n[\u53c2\u7167](http://msdn.microsoft.com/en-us/library/gg622941%28v=vs.85%29.aspx)\n"}