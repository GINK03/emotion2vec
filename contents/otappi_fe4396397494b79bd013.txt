{"context": "Docker\u306aLinux\u3067Homebrew\u3092\u4f7f\u3044\u305f\u304b\u3063\u305f\u3002\u4eca\u56de\u306fubuntu\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066\u3044\u307e\u3059\u3002\nLinux\u3067\u4f7f\u3048\u308bHomebrew\u304c\u3053\u3061\u3089\nhttps://github.com/Linuxbrew/brew\n\ndockerfile\nFROM ubuntu\nMAINTAINER otappi\n\nRUN apt-get update && \\\n    apt-get -y install build-essential \\\n    curl \\\n    git \\\n    python-setuptools \\\n    ruby\n\nRUN useradd -m -d /var/app -s /bin/bash hogehoge\nUSER hogehoge\nWORKDIR /var/app\n\nRUN yes | ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install)\"\n\nENV PATH $PATH:/var/app/.linuxbrew/bin:/var/app/.linuxbrew/share/man:/var/app/.linuxbrew/share/info\n\nCMD [\"/bin/bash\"]\n\n\u3053\u308c\u3088\u308aDockerfile\u306e\u8aac\u660e\n\nLinuxbrew\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nLinuxbrew\u306e\u516c\u5f0f\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3002\nRUN apt-get update && \\\n    apt-get -y install build-essential \\\n    curl \\\n    git \\\n    python-setuptools \\\n    ruby\n\n\n\u30e6\u30fc\u30b6\u30fc\u306e\u8ffd\u52a0\u3068\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\nLinuxbrew\u306froot\u3060\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51fa\u6765\u306a\u304b\u3063\u305f\u306e\u3067\u30e6\u30fc\u30b6\u30fc\u3092\u65b0\u898f\u4f5c\u6210\u3002\n\u30e6\u30fc\u30b6\u30fc\u3068\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u3093\u304b\u306f\u3088\u3057\u306a\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3064\u3044\u3067\u306bWORK\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3082\u8a2d\u5b9a\u3002\nRUN useradd -m -d /var/app -s /bin/bash hogehoge\nUSER hogehoge\nWORKDIR /var/app\n\n\nLinuxbrew\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30d1\u30b9\u306e\u8a2d\u5b9a\ninstall\u6642\u306b\u5bfe\u8a71\u304c\u3042\u308b\u306e\u3067 yes | \u3092\u3064\u3051\u308b\u3002\n\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u30d1\u30b9\u306f\u30ed\u30b0\u306b\u51fa\u308b\u306e\u3067\u30b3\u30d4\u30da\u3067\u30c0\u30e1\u306a\u3089\u78ba\u8a8d\u3057\u3066\u8a2d\u5b9a\u3002\nRUN yes | ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install)\"\n\nENV PATH $PATH:/var/app/.linuxbrew/bin:/var/app/.linuxbrew/share/man:/var/app/.linuxbrew/share/info\n\n\u8aac\u660e\u306f\u4ee5\u4e0a\u3002\n\nbuild\u3057\u3066run\nDockerfile\u3092\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067build\ndocker build -t linuxbrew .\nrun\u3057\u3066\u307f\u308b\ndocker run --rm -it linuxbrew\n\nbrew\u3057\u3066\u307f\u308b\nbrew\u3067\u304d\u305f\u3002\nlocale\u306eerror\u51fa\u3066\u307e\u3059\u306d\u5f8c\u3067\u4fee\u6b63\u3057\u307e\u3059\u306d\u3002\nhogehoge@9fc4bbdcc255:~$ brew install hello\n/var/app/.linuxbrew/Library/Homebrew/brew.sh: line 38: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8): No such file or directory\n/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\nbash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n/var/app/.linuxbrew/Library/Homebrew/brew.sh: line 38: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n==> Installing dependencies for hello: patchelf\n==> Installing hello dependency: patchelf\n==> Downloading https://linuxbrew.bintray.com/bottles/patchelf-0.9_1.x86_64_linux.bottle.tar.gz\n######################################################################## 100.0%\n==> Pouring patchelf-0.9_1.x86_64_linux.bottle.tar.gz\n\ud83c\udf7a  /var/app/.linuxbrew/Cellar/patchelf/0.9_1: 6 files, 1.2M\n==> Installing hello\n==> Downloading https://linuxbrew.bintray.com/bottles/hello-2.10.x86_64_linux.bottle.tar.gz\n######################################################################## 100.0%\n==> Pouring hello-2.10.x86_64_linux.bottle.tar.gz\n\ud83c\udf7a  /var/app/.linuxbrew/Cellar/hello/2.10: 52 files, 591.4K\nhogehoge@9fc4bbdcc255:~$\n\n\nDocker\u306aLinux\u3067Homebrew\u3092\u4f7f\u3044\u305f\u304b\u3063\u305f\u3002\u4eca\u56de\u306fubuntu\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\nLinux\u3067\u4f7f\u3048\u308bHomebrew\u304c\u3053\u3061\u3089\nhttps://github.com/Linuxbrew/brew\n\n##dockerfile\n```dockerfile\nFROM ubuntu\nMAINTAINER otappi\n\nRUN apt-get update && \\\n    apt-get -y install build-essential \\\n    curl \\\n    git \\\n    python-setuptools \\\n    ruby\n\nRUN useradd -m -d /var/app -s /bin/bash hogehoge\nUSER hogehoge\nWORKDIR /var/app\n\nRUN yes | ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install)\"\n\nENV PATH $PATH:/var/app/.linuxbrew/bin:/var/app/.linuxbrew/share/man:/var/app/.linuxbrew/share/info\n\nCMD [\"/bin/bash\"]\n```\n\n\u3053\u308c\u3088\u308aDockerfile\u306e\u8aac\u660e\n\n## Linuxbrew\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nLinuxbrew\u306e\u516c\u5f0f\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3002\n\n```dockerfile\nRUN apt-get update && \\\n    apt-get -y install build-essential \\\n    curl \\\n    git \\\n    python-setuptools \\\n    ruby\n```\n\n## \u30e6\u30fc\u30b6\u30fc\u306e\u8ffd\u52a0\u3068\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\nLinuxbrew\u306froot\u3060\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51fa\u6765\u306a\u304b\u3063\u305f\u306e\u3067\u30e6\u30fc\u30b6\u30fc\u3092\u65b0\u898f\u4f5c\u6210\u3002\n\u30e6\u30fc\u30b6\u30fc\u3068\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u3093\u304b\u306f\u3088\u3057\u306a\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3064\u3044\u3067\u306bWORK\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3082\u8a2d\u5b9a\u3002\n\n```dockerfile\nRUN useradd -m -d /var/app -s /bin/bash hogehoge\nUSER hogehoge\nWORKDIR /var/app\n```\n\n## Linuxbrew\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30d1\u30b9\u306e\u8a2d\u5b9a\ninstall\u6642\u306b\u5bfe\u8a71\u304c\u3042\u308b\u306e\u3067 `yes |` \u3092\u3064\u3051\u308b\u3002\n\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u30d1\u30b9\u306f\u30ed\u30b0\u306b\u51fa\u308b\u306e\u3067\u30b3\u30d4\u30da\u3067\u30c0\u30e1\u306a\u3089\u78ba\u8a8d\u3057\u3066\u8a2d\u5b9a\u3002\n\n\n```dockerfile\nRUN yes | ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install)\"\n\nENV PATH $PATH:/var/app/.linuxbrew/bin:/var/app/.linuxbrew/share/man:/var/app/.linuxbrew/share/info\n```\n\n\u8aac\u660e\u306f\u4ee5\u4e0a\u3002\n\n## build\u3057\u3066run\nDockerfile\u3092\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067build\n`docker build -t linuxbrew .`\n\nrun\u3057\u3066\u307f\u308b\n`docker run --rm -it linuxbrew`\n\n## brew\u3057\u3066\u307f\u308b\nbrew\u3067\u304d\u305f\u3002\nlocale\u306eerror\u51fa\u3066\u307e\u3059\u306d\u5f8c\u3067\u4fee\u6b63\u3057\u307e\u3059\u306d\u3002\n\n```shell-session\nhogehoge@9fc4bbdcc255:~$ brew install hello\n/var/app/.linuxbrew/Library/Homebrew/brew.sh: line 38: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8): No such file or directory\n/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\nbash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n/var/app/.linuxbrew/Library/Homebrew/brew.sh: line 38: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\n==> Installing dependencies for hello: patchelf\n==> Installing hello dependency: patchelf\n==> Downloading https://linuxbrew.bintray.com/bottles/patchelf-0.9_1.x86_64_linux.bottle.tar.gz\n######################################################################## 100.0%\n==> Pouring patchelf-0.9_1.x86_64_linux.bottle.tar.gz\n\ud83c\udf7a  /var/app/.linuxbrew/Cellar/patchelf/0.9_1: 6 files, 1.2M\n==> Installing hello\n==> Downloading https://linuxbrew.bintray.com/bottles/hello-2.10.x86_64_linux.bottle.tar.gz\n######################################################################## 100.0%\n==> Pouring hello-2.10.x86_64_linux.bottle.tar.gz\n\ud83c\udf7a  /var/app/.linuxbrew/Cellar/hello/2.10: 52 files, 591.4K\nhogehoge@9fc4bbdcc255:~$\n```\n", "tags": ["linuxbrew", "docker", "brew"]}