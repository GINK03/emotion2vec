{"tags": ["processing", "Ruby-Processing"], "context": " More than 1 year has passed since last update.\u753b\u50cf\u306e\u4e00\u90e8\u3092\u5207\u308a\u53d6\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\u30de\u30a6\u30b9\u30ab\u30fc\u30bd\u30eb\u3067\u5207\u308a\u53d6\u308b\u753b\u50cf\u306e\u4f4d\u7f6e\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nclip.rb\n# \u77e9\u5f62\u30b5\u30a4\u30ba\nSIZE = 30\n\ndef setup\n   size 300, 300\n\n   @image = load_image('./image/study_daigakusei_man.png')\n   @image.load_pixels\n\n   # \u5207\u308a\u53d6\u3063\u305f\u30a4\u30e1\u30fc\u30b8\u306e\u683c\u7d0d\u5148\n   @clipimage = create_image(SIZE, SIZE, ARGB)\nend\n\ndef draw\n  background 255\n  image(@image, 0, 0)\n\n  stroke 255, 0, 0\n  no_fill\n  rect_mode CENTER\n  rect mouse_x, mouse_y, SIZE, SIZE\n\n  # \u77e9\u5f62\u5185\u306e\u30d4\u30af\u30bb\u30eb\u3092 @clipimage \u306b\u30b3\u30d4\u30fc\n  for i in 0..SIZE-1\n    for j in 0..SIZE-1\n      x = mouse_x - SIZE/2 + j\n      y = mouse_y - SIZE/2 + i\n      p = y * @image.width + x\n      if x <= @image.width && 0 <= p && p < @image.width * @image.height\n        @clipimage.pixels[i * SIZE + j] = @image.pixels[p]\n      else\n        @clipimage.pixels[i * SIZE + j] = color(255, 255, 255)\n      end\n    end\n  end\n  @clipimage.update_pixels\n\n  # \u5207\u308a\u53d6\u3063\u305f\u30a4\u30e1\u30fc\u30b8\u3092\u63cf\u753b\n  image(@clipimage, 200, 200)\n  stroke 0\n  rect 200+SIZE/2, 200+SIZE/2, SIZE, SIZE\nend\n\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u6b21\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ rp5 run --nojruby clip.rb\n\n\n\u53c2\u8003\n\nrp_samples/samples/processing_app/topics/image_processing/edge_detection.rb\n\n\nRuby-Processing \u4ed8\u5c5e\u306e\u30b5\u30f3\u30d7\u30eb\n\n\n\n\n\u7d20\u6750\n\n\u304b\u308f\u3044\u3044\u30d5\u30ea\u30fc\u7d20\u6750\u96c6 \u3044\u3089\u3059\u3068\u3084\n\n\n\u753b\u50cf\u306e\u4e00\u90e8\u3092\u5207\u308a\u53d6\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\u30de\u30a6\u30b9\u30ab\u30fc\u30bd\u30eb\u3067\u5207\u308a\u53d6\u308b\u753b\u50cf\u306e\u4f4d\u7f6e\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n![clip.gif](https://qiita-image-store.s3.amazonaws.com/0/1900/a4e08491-3379-6163-b305-666da56e60ee.gif \"clip.gif\")\n\n```ruby:clip.rb\n# \u77e9\u5f62\u30b5\u30a4\u30ba\nSIZE = 30\n\ndef setup\n   size 300, 300\n\n   @image = load_image('./image/study_daigakusei_man.png')\n   @image.load_pixels\n\n   # \u5207\u308a\u53d6\u3063\u305f\u30a4\u30e1\u30fc\u30b8\u306e\u683c\u7d0d\u5148\n   @clipimage = create_image(SIZE, SIZE, ARGB)\nend\n\ndef draw\n  background 255\n  image(@image, 0, 0)\n\n  stroke 255, 0, 0\n  no_fill\n  rect_mode CENTER\n  rect mouse_x, mouse_y, SIZE, SIZE\n\n  # \u77e9\u5f62\u5185\u306e\u30d4\u30af\u30bb\u30eb\u3092 @clipimage \u306b\u30b3\u30d4\u30fc\n  for i in 0..SIZE-1\n    for j in 0..SIZE-1\n      x = mouse_x - SIZE/2 + j\n      y = mouse_y - SIZE/2 + i\n      p = y * @image.width + x\n      if x <= @image.width && 0 <= p && p < @image.width * @image.height\n        @clipimage.pixels[i * SIZE + j] = @image.pixels[p]\n      else\n        @clipimage.pixels[i * SIZE + j] = color(255, 255, 255)\n      end\n    end\n  end\n  @clipimage.update_pixels\n\n  # \u5207\u308a\u53d6\u3063\u305f\u30a4\u30e1\u30fc\u30b8\u3092\u63cf\u753b\n  image(@clipimage, 200, 200)\n  stroke 0\n  rect 200+SIZE/2, 200+SIZE/2, SIZE, SIZE\nend\n```\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u6b21\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n$ rp5 run --nojruby clip.rb\n```\n\n\n\n## \u53c2\u8003\n\n- rp_samples/samples/processing_app/topics/image_processing/edge_detection.rb\n  - Ruby-Processing \u4ed8\u5c5e\u306e\u30b5\u30f3\u30d7\u30eb\n\n## \u7d20\u6750\n\n- [\u304b\u308f\u3044\u3044\u30d5\u30ea\u30fc\u7d20\u6750\u96c6 \u3044\u3089\u3059\u3068\u3084](http://www.irasutoya.com/)\n"}