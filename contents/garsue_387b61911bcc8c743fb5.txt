{"context": " More than 1 year has passed since last update.Objective-C\u306eAST(\u62bd\u8c61\u69cb\u6587\u6728)\u3092dump\u3059\u308b\u3084\u308a\u65b9\u3092\u8abf\u3079\u305f\u306e\u3067\u30e1\u30e2\u3002\n\u4ee5\u524d\u306fxml\u5f62\u5f0f\u3001\u30d0\u30a4\u30ca\u30ea\u5f62\u5f0f\u3067\u51fa\u529b\u304c\u3067\u304d\u305f\u3089\u3057\u3044\u304c\u3001LLVM version 3.4\u3067\u306f\u3067\u304d\u306a\u304b\u3063\u305f\u3002\n\u8a73\u7d30\u306fclang -cc1 --help\u3092\u53c2\u7167\u3002\n\u4f8b\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u30af\u30e9\u30b9\u306eAST\u3092\u53d6\u5f97\u3059\u308b\u3002\n\nObjective-C\n#import <Foundation/Foundation.h>\n\n@interface Spam : NSObject\n@property(retain) NSString *ham;\n\n- (instancetype)initWithHam:(NSString *)ham;\n@end\n\n\n\nObjective-C\n#import \"Spam.h\"\n\n@implementation Spam\n- (instancetype)initWithHam:(NSString *)ham{\n    if (self = [super init]) {\n        _ham = ham;\n    }\n    return self;\n}\n@end\n\n\n\ndump\u3059\u308b\u30b3\u30de\u30f3\u30c9\n\n\u30b7\u30f3\u30dc\u30eb\u4e00\u89a7\u3092\u53d6\u5f97\n$ clang -cc1 -ast-list -fblocks -x objective-c Spam.h\n\n\n\u51fa\u529b\u7d50\u679c\n__int128_t\n__uint128_t\nSEL\nid\n\n...(\u7701\u7565)...\n\nNSXPCListenerEndpoint::_internal\nSpam\nSpam::ham\nSpam::initWithHam:\nham\n\n\nAST\u3092dump\n$ clang -cc1 -ast-dump -fblocks -x objective-c Spam.h\n\n\n\u51fa\u529b\u7d50\u679c\nTranslationUnitDecl 0x1028218d0 <<invalid sloc>>\n|-TypedefDecl 0x102821dd0 <<invalid sloc>> __int128_t '__int128'\n|-TypedefDecl 0x102821e30 <<invalid sloc>> __uint128_t 'unsigned __int128'\n|-TypedefDecl 0x102821ec0 <<invalid sloc>> SEL 'SEL *'\n|-TypedefDecl 0x102821f90 <<invalid sloc>> id 'id'\n|-TypedefDecl 0x102822060 <<invalid sloc>> Class 'Class *'\n\n...(\u7701\u7565)...\n\n|   `-ParmVarDecl 0x1053064c0 <col:30> protocol 'Protocol *'\n|-ObjCInterfaceDecl 0x105306560 prev 0x105301ad0 <line:194:1, line:198:2> NSXPCListenerEndpoint\n| |-super ObjCInterface 0x103181710 'NSObject'\n| |-ObjCProtocol 0x1031b2f00 'NSSecureCoding'\n| |-AvailabilityAttr 0x1053065d0 </System/Library/Frameworks/CoreFoundation.framework/Headers/CFAvailability.h:95:49, col:81> macosx 10.8 0 0 \"\"\n| |-VisibilityAttr 0x105306660 </System/Library/Frameworks/Foundation.framework/Headers/NSObjCRuntime.h:259:55, col:75> Default\n| `-ObjCIvarDecl 0x105306700 </System/Library/Frameworks/Foundation.framework/Headers/NSXPCConnection.h:196:5, col:11> _internal 'void *' private\n`-ObjCInterfaceDecl 0x105306760 <Spam.h:3:1, line:7:2> Spam\n  |-super ObjCInterface 0x103181710 'NSObject'\n  |-ObjCPropertyDecl 0x105306870 <line:4:1, col:29> ham 'NSString *' readwrite retain atomic\n  |-ObjCMethodDecl 0x105306900 <line:6:1, col:44> - initWithHam: 'instancetype':'id'\n  | `-ParmVarDecl 0x105306990 <col:30, col:41> ham 'NSString *'\n  |-ObjCMethodDecl 0x1053069f0 <line:4:29> - ham 'NSString *'\n  `-ObjCMethodDecl 0x105306a80 <col:29> - setHam: 'void'\n    `-ParmVarDecl 0x105306b10 <col:29> ham 'NSString *'\n\n\nAST\u3092pretty-print\n$ clang -cc1 -ast-print -fblocks -x objective-c Spam.h\n\n\n\u51fa\u529b\u7d50\u679c\ntypedef SEL *SEL;\ntypedef id id;\ntypedef Class *Class;\n\n...(\u7701\u7565)...\n\n@interface NSXPCListenerEndpoint : NSObject<NSSecureCoding> {\n    void * _internal;\n}\n@end\n@interface Spam : NSObject\n@property ( readwrite,retain,atomic ) NSString * ham;\n- (instancetype) initWithHam:(NSString *)ham;\n@end\n\n\n\u7279\u5b9a\u306e\u30b7\u30f3\u30dc\u30eb\u306b\u95a2\u9023\u3059\u308b\u90e8\u5206\u306e\u307f\u53d6\u5f97\n-ast-list\u3067\u53d6\u5f97\u3057\u305f\u30b7\u30f3\u30dc\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066\u3001\u305d\u306e\u30b7\u30f3\u30dc\u30eb\u306b\u95a2\u9023\u3059\u308b\u90e8\u5206\u306e\u307fdump\u3059\u308b\u3002\n$ clang -cc1 -ast-dump -fblocks -x objective-c Spam.h -ast-dump-filter Spam\n\n\n\u51fa\u529b\u7d50\u679c\nDumping Spam:\nObjCInterfaceDecl 0x105506760 <Spam.h:3:1, line:7:2> Spam\n|-super ObjCInterface 0x102a13110 'NSObject'\n|-ObjCPropertyDecl 0x105506870 <line:4:1, col:29> ham 'NSString *' readwrite retain atomic\n|-ObjCMethodDecl 0x105506900 <line:6:1, col:44> - initWithHam: 'instancetype':'id'\n| `-ParmVarDecl 0x105506990 <col:30, col:41> ham 'NSString *'\n|-ObjCMethodDecl 0x1055069f0 <line:4:29> - ham 'NSString *'\n`-ObjCMethodDecl 0x105506a80 <col:29> - setHam: 'void'\n  `-ParmVarDecl 0x105506b10 <col:29> ham 'NSString *'\n\n-ast-dump-filter\u306f-ast-print\u306b\u5bfe\u3057\u3066\u3082\u5229\u7528\u53ef\u80fd\u3002\ndump\u95a2\u9023\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u307e\u3060\u3042\u308b\u3002\u8a73\u7d30\u306fhelp\u53c2\u7167\u3002\n\nObjective-C\u306eAST(\u62bd\u8c61\u69cb\u6587\u6728)\u3092dump\u3059\u308b\u3084\u308a\u65b9\u3092\u8abf\u3079\u305f\u306e\u3067\u30e1\u30e2\u3002\n\u4ee5\u524d\u306fxml\u5f62\u5f0f\u3001\u30d0\u30a4\u30ca\u30ea\u5f62\u5f0f\u3067\u51fa\u529b\u304c\u3067\u304d\u305f\u3089\u3057\u3044\u304c\u3001LLVM version 3.4\u3067\u306f\u3067\u304d\u306a\u304b\u3063\u305f\u3002\n\n\u8a73\u7d30\u306f`clang -cc1 --help`\u3092\u53c2\u7167\u3002\n\n\u4f8b\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u30af\u30e9\u30b9\u306eAST\u3092\u53d6\u5f97\u3059\u308b\u3002\n\n```:Objective-C\n#import <Foundation/Foundation.h>\n\n@interface Spam : NSObject\n@property(retain) NSString *ham;\n\n- (instancetype)initWithHam:(NSString *)ham;\n@end\n```\n\n```:Objective-C\n#import \"Spam.h\"\n\n@implementation Spam\n- (instancetype)initWithHam:(NSString *)ham{\n    if (self = [super init]) {\n        _ham = ham;\n    }\n    return self;\n}\n@end\n```\n\n\n# dump\u3059\u308b\u30b3\u30de\u30f3\u30c9\n##\u30b7\u30f3\u30dc\u30eb\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\n$ clang -cc1 -ast-list -fblocks -x objective-c Spam.h\n```\n\n###\u51fa\u529b\u7d50\u679c\n```\n__int128_t\n__uint128_t\nSEL\nid\n\n...(\u7701\u7565)...\n\nNSXPCListenerEndpoint::_internal\nSpam\nSpam::ham\nSpam::initWithHam:\nham\n```\n\n##AST\u3092dump\n```\n$ clang -cc1 -ast-dump -fblocks -x objective-c Spam.h\n```\n###\u51fa\u529b\u7d50\u679c\n```\nTranslationUnitDecl 0x1028218d0 <<invalid sloc>>\n|-TypedefDecl 0x102821dd0 <<invalid sloc>> __int128_t '__int128'\n|-TypedefDecl 0x102821e30 <<invalid sloc>> __uint128_t 'unsigned __int128'\n|-TypedefDecl 0x102821ec0 <<invalid sloc>> SEL 'SEL *'\n|-TypedefDecl 0x102821f90 <<invalid sloc>> id 'id'\n|-TypedefDecl 0x102822060 <<invalid sloc>> Class 'Class *'\n\n...(\u7701\u7565)...\n\n|   `-ParmVarDecl 0x1053064c0 <col:30> protocol 'Protocol *'\n|-ObjCInterfaceDecl 0x105306560 prev 0x105301ad0 <line:194:1, line:198:2> NSXPCListenerEndpoint\n| |-super ObjCInterface 0x103181710 'NSObject'\n| |-ObjCProtocol 0x1031b2f00 'NSSecureCoding'\n| |-AvailabilityAttr 0x1053065d0 </System/Library/Frameworks/CoreFoundation.framework/Headers/CFAvailability.h:95:49, col:81> macosx 10.8 0 0 \"\"\n| |-VisibilityAttr 0x105306660 </System/Library/Frameworks/Foundation.framework/Headers/NSObjCRuntime.h:259:55, col:75> Default\n| `-ObjCIvarDecl 0x105306700 </System/Library/Frameworks/Foundation.framework/Headers/NSXPCConnection.h:196:5, col:11> _internal 'void *' private\n`-ObjCInterfaceDecl 0x105306760 <Spam.h:3:1, line:7:2> Spam\n  |-super ObjCInterface 0x103181710 'NSObject'\n  |-ObjCPropertyDecl 0x105306870 <line:4:1, col:29> ham 'NSString *' readwrite retain atomic\n  |-ObjCMethodDecl 0x105306900 <line:6:1, col:44> - initWithHam: 'instancetype':'id'\n  | `-ParmVarDecl 0x105306990 <col:30, col:41> ham 'NSString *'\n  |-ObjCMethodDecl 0x1053069f0 <line:4:29> - ham 'NSString *'\n  `-ObjCMethodDecl 0x105306a80 <col:29> - setHam: 'void'\n    `-ParmVarDecl 0x105306b10 <col:29> ham 'NSString *'\n```\n\n\n##AST\u3092pretty-print\n```\n$ clang -cc1 -ast-print -fblocks -x objective-c Spam.h\n```\n###\u51fa\u529b\u7d50\u679c\n```\ntypedef SEL *SEL;\ntypedef id id;\ntypedef Class *Class;\n\n...(\u7701\u7565)...\n\n@interface NSXPCListenerEndpoint : NSObject<NSSecureCoding> {\n    void * _internal;\n}\n@end\n@interface Spam : NSObject\n@property ( readwrite,retain,atomic ) NSString * ham;\n- (instancetype) initWithHam:(NSString *)ham;\n@end\n```\n\n\n##\u7279\u5b9a\u306e\u30b7\u30f3\u30dc\u30eb\u306b\u95a2\u9023\u3059\u308b\u90e8\u5206\u306e\u307f\u53d6\u5f97\n`-ast-list`\u3067\u53d6\u5f97\u3057\u305f\u30b7\u30f3\u30dc\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066\u3001\u305d\u306e\u30b7\u30f3\u30dc\u30eb\u306b\u95a2\u9023\u3059\u308b\u90e8\u5206\u306e\u307fdump\u3059\u308b\u3002\n\n```\n$ clang -cc1 -ast-dump -fblocks -x objective-c Spam.h -ast-dump-filter Spam\n```\n###\u51fa\u529b\u7d50\u679c\n```\nDumping Spam:\nObjCInterfaceDecl 0x105506760 <Spam.h:3:1, line:7:2> Spam\n|-super ObjCInterface 0x102a13110 'NSObject'\n|-ObjCPropertyDecl 0x105506870 <line:4:1, col:29> ham 'NSString *' readwrite retain atomic\n|-ObjCMethodDecl 0x105506900 <line:6:1, col:44> - initWithHam: 'instancetype':'id'\n| `-ParmVarDecl 0x105506990 <col:30, col:41> ham 'NSString *'\n|-ObjCMethodDecl 0x1055069f0 <line:4:29> - ham 'NSString *'\n`-ObjCMethodDecl 0x105506a80 <col:29> - setHam: 'void'\n  `-ParmVarDecl 0x105506b10 <col:29> ham 'NSString *'\n```\n\n`-ast-dump-filter`\u306f`-ast-print`\u306b\u5bfe\u3057\u3066\u3082\u5229\u7528\u53ef\u80fd\u3002\n\n\n\ndump\u95a2\u9023\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u307e\u3060\u3042\u308b\u3002\u8a73\u7d30\u306fhelp\u53c2\u7167\u3002\n", "tags": ["clang"]}