{"context": " More than 1 year has passed since last update.$AWS_CLOUDWATCH_HOME/credentials\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0\nAWSAccessKeyId=YOUR_ACCESS_KEY_ID\nAWSSecretKey=YOUR_SECRET_KEY\n\nexport AWS_CREDENTIAL_FILE=$AWS_CLOUDWATCH_HOME/credentials\n\n\u4ee5\u4e0b\u306e\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u5b9f\u884c\n\u203bcpu\u4f7f\u7528\u7387\u304c80%\u306e\u72b6\u614b\u304c5\u5206\u4ee5\u4e0a\u7d9a\u304f\u72b6\u614b\u304c2\u56de\u7d99\u7d9a\u3057\u305f\u3089alarm-actions\u3092\u5b9f\u884c\nINSTANCE_ID=`curl http://169.254.169.254/latest/meta-data/instance-id/`\n\nmon-put-metric-alarm ec2-cpu_#{INSTANCE_ID} --comparison-operator GreaterThanOrEqualToThreshold --evaluation-periods 2 --metric-name CPUUtilization --namespace AWS/EC2 --period 300 --statistic Average --threshold 80 --alarm-actions YOUR_ARN --region ap-northeast-1 --dimensions instanceid=#{INSTANCE_ID}\n\n$AWS_CLOUDWATCH_HOME/credentials\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0\n\n\n```\nAWSAccessKeyId=YOUR_ACCESS_KEY_ID\nAWSSecretKey=YOUR_SECRET_KEY\n```\n\n\n```\nexport AWS_CREDENTIAL_FILE=$AWS_CLOUDWATCH_HOME/credentials\n```\n\n\n\u4ee5\u4e0b\u306e\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u5b9f\u884c\n\u203bcpu\u4f7f\u7528\u7387\u304c80%\u306e\u72b6\u614b\u304c5\u5206\u4ee5\u4e0a\u7d9a\u304f\u72b6\u614b\u304c2\u56de\u7d99\u7d9a\u3057\u305f\u3089alarm-actions\u3092\u5b9f\u884c\n\n```\nINSTANCE_ID=`curl http://169.254.169.254/latest/meta-data/instance-id/`\n\nmon-put-metric-alarm ec2-cpu_#{INSTANCE_ID} --comparison-operator GreaterThanOrEqualToThreshold --evaluation-periods 2 --metric-name CPUUtilization --namespace AWS/EC2 --period 300 --statistic Average --threshold 80 --alarm-actions YOUR_ARN --region ap-northeast-1 --dimensions instanceid=#{INSTANCE_ID}\n```\n", "tags": ["AWS", "aws-cli"]}