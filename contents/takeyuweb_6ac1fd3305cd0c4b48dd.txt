{"context": "\n\nInstalling gems\n\ncapybara-webkit gem\ngem\u5165\u308c\u308b\u307e\u3067\u304c\u30c4\u30e9\u3044\u3002\u2192 AmazonLinux 2015.09 \u306b Qt5 WebKit \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo ln -s /usr/lib64/qt5/bin/qmake /usr/bin/qmake \nsudo gem install capybara-webkit --no-ri --no-rdoc\n\nBuilding native extensions.  This could take a while...\nSuccessfully installed capybara-webkit-1.8.0\n1 gem installed\n\n\nheadless gem\nsudo yum install xorg-x11-server-Xvfb\nsudo gem install headless --no-ri --no-rdoc\n\nFetching: headless-2.2.3.gem (100%)\nSuccessfully installed headless-2.2.3\n1 gem installed\n\n\nRuby\u3067HTML\u3084\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u53d6\u5f97\nrequire 'capybara-webkit'\nrequire 'headless'\n\nCapybara::Webkit.configure do |config|\n  config.block_unknown_urls\n  config.allow_url('*')\nend\n\nclient = Capybara::Session.new(:webkit)\nheadless = Headless.new\nheadless.start\nbegin\n  client.visit('http://www.google.com/')\n  p client.status_code # => 200\n  p client.html        # => \"<!DOCTYPE html><html itemscope=\\\"\\\" itemtype=\\\"http://schema.org/WebPage\\\" ...\n  client.save_screenshot('screenshot.png')\nensure\n  headless.destroy\nend\n\n\n\n## Installing gems\n\n### capybara-webkit gem\n\ngem\u5165\u308c\u308b\u307e\u3067\u304c\u30c4\u30e9\u3044\u3002\u2192 [AmazonLinux 2015.09 \u306b Qt5 WebKit \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](http://qiita.com/takeyuweb/items/fd9fc0a273923b13b2cd)\n\n```sh\nsudo ln -s /usr/lib64/qt5/bin/qmake /usr/bin/qmake \nsudo gem install capybara-webkit --no-ri --no-rdoc\n```\n\n```\nBuilding native extensions.  This could take a while...\nSuccessfully installed capybara-webkit-1.8.0\n1 gem installed\n```\n\n### headless gem\n\n```sh\nsudo yum install xorg-x11-server-Xvfb\nsudo gem install headless --no-ri --no-rdoc\n```\n\n```\nFetching: headless-2.2.3.gem (100%)\nSuccessfully installed headless-2.2.3\n1 gem installed\n```\n\n## Ruby\u3067HTML\u3084\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u53d6\u5f97\n\n```ruby\nrequire 'capybara-webkit'\nrequire 'headless'\n\nCapybara::Webkit.configure do |config|\n  config.block_unknown_urls\n  config.allow_url('*')\nend\n\nclient = Capybara::Session.new(:webkit)\nheadless = Headless.new\nheadless.start\nbegin\n  client.visit('http://www.google.com/')\n  p client.status_code # => 200\n  p client.html        # => \"<!DOCTYPE html><html itemscope=\\\"\\\" itemtype=\\\"http://schema.org/WebPage\\\" ...\n  client.save_screenshot('screenshot.png')\nensure\n  headless.destroy\nend\n```\n\n![screenshot.png](https://qiita-image-store.s3.amazonaws.com/0/7000/dac9b214-d62b-7770-1c3a-92ad9647e429.png)\n\n\n", "tags": ["AmazonLinux", "WebKit", "Capybara", "Ruby", "headless"]}