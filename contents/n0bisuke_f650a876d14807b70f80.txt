{"context": " More than 1 year has passed since last update.\n\n\u3084\u308b\u3053\u3068\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\nOpenCV\u304c\u6c17\u306b\u306a\u3063\u3066\u3044\u305f\u306e\u3067Node.js\u304b\u3089\u4f7f\u3048\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u63a2\u3057\u3066\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u3053\u3061\u3089\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\nhttps://github.com/peterbraden/node-opencv\n\nNode.js 0.12.0\nMac OS 10.10.2 Yosemite\nHomebrew 0.9.5\nOpenCV 2.4\nnode-opencv 3.0\n\n\nOpenCV\nOpenCV\u306f\u30a4\u30f3\u30c6\u30eb\u304c\u958b\u767a\u3057\u305f\u753b\u50cf\u51e6\u7406\u3084\u753b\u50cf\u89e3\u6790\u7b49\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\nhttp://opencv.jp/\n\n\u6e96\u5099(\u3068\u30cf\u30de\u3063\u305f\u3068\u3053\u308d)\n\nopencv\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u6238\u60d1\u3046\u3002\nnpm install opencv\u3060\u3051\u3084\u308d\u3046\u3068\u3059\u308b\u3068\u30a8\u30e9\u30fc\u3081\u3063\u3061\u3083\u51fa\u307e\u3057\u305f\u82e6\u7b11\n$ npm install opencv\n\\\n> opencv@3.0.0 install /Users/sugawara_nobisuke/n0bisuke/lab/opencv/node_modules/opencv\n> node-pre-gyp install --fallback-to-build\n\nchild_process: customFds option is deprecated, use stdio instead.\nchild_process: customFds option is deprecated, use stdio instead.\n/bin/sh: pkg-config: command not found\ngyp: Call to 'pkg-config --cflags opencv' returned exit status 127. while trying to load binding.gyp\ngyp ERR! configure error\ngyp ERR! stack Error: `gyp` failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (/Users/sugawara_nobisuke/.nvm/versions/v0.12.0/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:343:16)\ngyp ERR! stack     at ChildProcess.emit (events.js:110:17)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:1067:12)\ngyp ERR! System Darwin 14.1.0\n\u30fb\n\u30fb\n\u30fb\n\n\u3069\u3046\u3084\u3089pkg-config\u304c\u7121\u3044\u3088\u3063\u3066\u6012\u3089\u308c\u3066\u308b\u307f\u305f\u3044\n$ brew install pkg-config\n\n\u307e\u3060\u30a8\u30e9\u30fc\u3067\u3066\u307e\u3059\u3002opencv\u304c\u305d\u3082\u305d\u3082\u5165\u3063\u3066\u306a\u304b\u3063\u305f\u7591\u60d1\n$ brew install opencv\nError: No available formula for opencv\nSearching formulae...\nSearching taps...\nhomebrew/science/opencv\n\n\u3053\u3046\u3059\u308b\u3068\u826f\u3044\u307f\u305f\u3044\u3002\nhttp://qiita.com/laprasDrum/items/59092e96608dd106be63\n$ brew tap homebrew/science\n$ brew install opencv\n\u30fb\n\u30fb\n\u30fb\n==> python setup.py build --fcompiler=gnu95 install --prefix=/usr/local/Cellar/numpy\n?  /usr/local/Cellar/numpy/1.9.1: 693 files, 14M, built in 112 seconds\n==> Installing opencv\n==> Downloading https://downloads.sf.net/project/machomebrew/Bottles/science/opencv-\n######################################################################## 100.0%\n==> Pouring opencv-2.4.10.1.yosemite.bottle.tar.gz\n?  /usr/local/Cellar/opencv/2.4.10.1: 219 files, 39M\n\n\u4e0a\u624b\u304f\u3044\u3063\u305f\u307f\u305f\u3044\u3067\u3059\u3002\n\u3053\u308c\u3067Mac(Yosemite)\u306bopencv2.4\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u307f\u305f\u3044\u3067\u3059\u3002\n\u3082\u3046\u4e00\u5ea6node-opencv\u3092\u5165\u308c\u3066\u307f\u307e\u3059\u3002\n$ npm install opencv\n-\n> opencv@3.0.0 install /Users/sugawara_nobisuke/n0bisuke/lab/opencv/node_modules/opencv\n> node-pre-gyp install --fallback-to-build\n\nchild_process: customFds option is deprecated, use stdio instead.\nchild_process: customFds option is deprecated, use stdio instead.\n  CXX(target) Release/obj.target/opencv/src/init.o\n  CXX(target) Release/obj.target/opencv/src/Matrix.o\n  CXX(target) Release/obj.target/opencv/src/OpenCV.o\n  CXX(target) Release/obj.target/opencv/src/CascadeClassifierWrap.o\n  CXX(target) Release/obj.target/opencv/src/Contours.o\n  CXX(target) Release/obj.target/opencv/src/Point.o\n  CXX(target) Release/obj.target/opencv/src/VideoCaptureWrap.o\n  CXX(target) Release/obj.target/opencv/src/CamShift.o\n  CXX(target) Release/obj.target/opencv/src/HighGUI.o\n  CXX(target) Release/obj.target/opencv/src/FaceRecognizer.o\n  CXX(target) Release/obj.target/opencv/src/BackgroundSubtractor.o\n  CXX(target) Release/obj.target/opencv/src/Constants.o\n  CXX(target) Release/obj.target/opencv/src/Calib3D.o\n  CXX(target) Release/obj.target/opencv/src/ImgProc.o\n  SOLINK_MODULE(target) Release/opencv.node\n  SOLINK_MODULE(target) Release/opencv.node: Finished\n  COPY /Users/sugawara_nobisuke/n0bisuke/lab/opencv/node_modules/opencv/build/opencv/v3.0.0/Release/node-v14-darwin-x64/opencv.node\n  TOUCH Release/obj.target/action_after_build.stamp\nopencv@3.0.0 node_modules/opencv\n\u251c\u2500\u2500 buffers@0.1.1\n\u251c\u2500\u2500 nan@1.4.3\n\u2514\u2500\u2500 node-pre-gyp@0.5.31\n\n\n\u52d5\u304b\u3057\u3066\u307f\u308b\n\u307e\u305a\u306f\u753b\u50cf\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u3000LIG\u306e\u5165\u793e\u5f0f\u8a18\u4e8b\u304b\u3089\u62dd\u501f\u3002\n\nn0bisuke.jpg\u3068\u3057\u3066\u4fdd\u5b58\u3057\u3066app.js\u3068\u540c\u3058\u968e\u5c64\u306b\u8a2d\u7f6e\u3057\u307e\u3057\u305f\u3002\n\napp.js\nvar cv = require('opencv');\n\ncv.readImage(\"./n0bisuke.jpg\", function(err, im){\n  im.detectObject(cv.FACE_CASCADE, {}, function(err, faces){\n    for (var i=0;i<faces.length; i++){\n      var x = faces[i]\n      im.ellipse(x.x + x.width/2, x.y + x.height/2, x.width/2, x.height/2);\n    }\n    im.save('./out.jpg');\n  });\n})\n\n\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\u3002\n$ node app.js\n\nout.jpg\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u9854\u306b\u5370\u304c\u3064\u3044\u3066\u307e\u3059\u306d!\n\u3069\u3046\u3084\u3089\u9854\u8a8d\u8b58\u304c\u3067\u304d\u305f\u307f\u305f\u3044\u3067\u3059\u3002\n\n##\u3084\u308b\u3053\u3068\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\nOpenCV\u304c\u6c17\u306b\u306a\u3063\u3066\u3044\u305f\u306e\u3067Node.js\u304b\u3089\u4f7f\u3048\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u63a2\u3057\u3066\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u3053\u3061\u3089\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\nhttps://github.com/peterbraden/node-opencv\n\n- Node.js 0.12.0\n- Mac OS 10.10.2 Yosemite\n- Homebrew 0.9.5\n- OpenCV 2.4\n- node-opencv 3.0\n\n### OpenCV\nOpenCV\u306f\u30a4\u30f3\u30c6\u30eb\u304c\u958b\u767a\u3057\u305f\u753b\u50cf\u51e6\u7406\u3084\u753b\u50cf\u89e3\u6790\u7b49\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\n\nhttp://opencv.jp/\n\n##\u6e96\u5099(\u3068\u30cf\u30de\u3063\u305f\u3068\u3053\u308d)\n\n### opencv\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u6238\u60d1\u3046\u3002\n\n`npm install opencv`\u3060\u3051\u3084\u308d\u3046\u3068\u3059\u308b\u3068\u30a8\u30e9\u30fc\u3081\u3063\u3061\u3083\u51fa\u307e\u3057\u305f\u82e6\u7b11\n\n```\n$ npm install opencv\n\\\n> opencv@3.0.0 install /Users/sugawara_nobisuke/n0bisuke/lab/opencv/node_modules/opencv\n> node-pre-gyp install --fallback-to-build\n\nchild_process: customFds option is deprecated, use stdio instead.\nchild_process: customFds option is deprecated, use stdio instead.\n/bin/sh: pkg-config: command not found\ngyp: Call to 'pkg-config --cflags opencv' returned exit status 127. while trying to load binding.gyp\ngyp ERR! configure error\ngyp ERR! stack Error: `gyp` failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (/Users/sugawara_nobisuke/.nvm/versions/v0.12.0/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:343:16)\ngyp ERR! stack     at ChildProcess.emit (events.js:110:17)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:1067:12)\ngyp ERR! System Darwin 14.1.0\n\u30fb\n\u30fb\n\u30fb\n```\n\n\u3069\u3046\u3084\u3089pkg-config\u304c\u7121\u3044\u3088\u3063\u3066\u6012\u3089\u308c\u3066\u308b\u307f\u305f\u3044\n\n```\n$ brew install pkg-config\n```\n\n\u307e\u3060\u30a8\u30e9\u30fc\u3067\u3066\u307e\u3059\u3002opencv\u304c\u305d\u3082\u305d\u3082\u5165\u3063\u3066\u306a\u304b\u3063\u305f\u7591\u60d1\n\n```\n$ brew install opencv\nError: No available formula for opencv\nSearching formulae...\nSearching taps...\nhomebrew/science/opencv\n```\n\n\u3053\u3046\u3059\u308b\u3068\u826f\u3044\u307f\u305f\u3044\u3002\nhttp://qiita.com/laprasDrum/items/59092e96608dd106be63\n\n```\n$ brew tap homebrew/science\n$ brew install opencv\n\u30fb\n\u30fb\n\u30fb\n==> python setup.py build --fcompiler=gnu95 install --prefix=/usr/local/Cellar/numpy\n?  /usr/local/Cellar/numpy/1.9.1: 693 files, 14M, built in 112 seconds\n==> Installing opencv\n==> Downloading https://downloads.sf.net/project/machomebrew/Bottles/science/opencv-\n######################################################################## 100.0%\n==> Pouring opencv-2.4.10.1.yosemite.bottle.tar.gz\n?  /usr/local/Cellar/opencv/2.4.10.1: 219 files, 39M\n```\n\n\u4e0a\u624b\u304f\u3044\u3063\u305f\u307f\u305f\u3044\u3067\u3059\u3002\n\u3053\u308c\u3067Mac(Yosemite)\u306bopencv2.4\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u307f\u305f\u3044\u3067\u3059\u3002\n\n\u3082\u3046\u4e00\u5ea6node-opencv\u3092\u5165\u308c\u3066\u307f\u307e\u3059\u3002\n\n```\n$ npm install opencv\n-\n> opencv@3.0.0 install /Users/sugawara_nobisuke/n0bisuke/lab/opencv/node_modules/opencv\n> node-pre-gyp install --fallback-to-build\n\nchild_process: customFds option is deprecated, use stdio instead.\nchild_process: customFds option is deprecated, use stdio instead.\n  CXX(target) Release/obj.target/opencv/src/init.o\n  CXX(target) Release/obj.target/opencv/src/Matrix.o\n  CXX(target) Release/obj.target/opencv/src/OpenCV.o\n  CXX(target) Release/obj.target/opencv/src/CascadeClassifierWrap.o\n  CXX(target) Release/obj.target/opencv/src/Contours.o\n  CXX(target) Release/obj.target/opencv/src/Point.o\n  CXX(target) Release/obj.target/opencv/src/VideoCaptureWrap.o\n  CXX(target) Release/obj.target/opencv/src/CamShift.o\n  CXX(target) Release/obj.target/opencv/src/HighGUI.o\n  CXX(target) Release/obj.target/opencv/src/FaceRecognizer.o\n  CXX(target) Release/obj.target/opencv/src/BackgroundSubtractor.o\n  CXX(target) Release/obj.target/opencv/src/Constants.o\n  CXX(target) Release/obj.target/opencv/src/Calib3D.o\n  CXX(target) Release/obj.target/opencv/src/ImgProc.o\n  SOLINK_MODULE(target) Release/opencv.node\n  SOLINK_MODULE(target) Release/opencv.node: Finished\n  COPY /Users/sugawara_nobisuke/n0bisuke/lab/opencv/node_modules/opencv/build/opencv/v3.0.0/Release/node-v14-darwin-x64/opencv.node\n  TOUCH Release/obj.target/action_after_build.stamp\nopencv@3.0.0 node_modules/opencv\n\u251c\u2500\u2500 buffers@0.1.1\n\u251c\u2500\u2500 nan@1.4.3\n\u2514\u2500\u2500 node-pre-gyp@0.5.31\n```\n\n##\u52d5\u304b\u3057\u3066\u307f\u308b\n\n\u307e\u305a\u306f\u753b\u50cf\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u3000[LIG\u306e\u5165\u793e\u5f0f\u8a18\u4e8b](http://liginc.co.jp/news/notice/house-event/81504)\u304b\u3089\u62dd\u501f\u3002\n\n![](http://i.gyazo.com/c269e244bf5be9a858e11b7ebf0081a0.png)\n\nn0bisuke.jpg\u3068\u3057\u3066\u4fdd\u5b58\u3057\u3066app.js\u3068\u540c\u3058\u968e\u5c64\u306b\u8a2d\u7f6e\u3057\u307e\u3057\u305f\u3002\n\n```app.js\nvar cv = require('opencv');\n\ncv.readImage(\"./n0bisuke.jpg\", function(err, im){\n  im.detectObject(cv.FACE_CASCADE, {}, function(err, faces){\n    for (var i=0;i<faces.length; i++){\n      var x = faces[i]\n      im.ellipse(x.x + x.width/2, x.y + x.height/2, x.width/2, x.height/2);\n    }\n    im.save('./out.jpg');\n  });\n})\n\n```\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\u3002\n\n```\n$ node app.js\n```\n\nout.jpg\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n\n![](http://i.gyazo.com/1dd4a6d624e5c39a99499fa2358dce62.png)\n\n\u9854\u306b\u5370\u304c\u3064\u3044\u3066\u307e\u3059\u306d\u0010!\n\n\u3069\u3046\u3084\u3089\u9854\u8a8d\u8b58\u304c\u3067\u304d\u305f\u307f\u305f\u3044\u3067\u3059\u3002\n\n\n\n", "tags": ["JavaScript", "Node.js", "OpenCV"]}