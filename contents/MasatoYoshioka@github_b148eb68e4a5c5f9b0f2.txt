{"context": " More than 1 year has passed since last update.rails\u3067mysql\u3092\u4f7f\u304a\u3046\u3068\u601d\u3044\u3001mysql2\u3092gem\u3067\u8a2d\u5b9a\n$ bundle install\n\nGem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.\n\n/usr/local/bin/ruby extconf.rb\nchecking for rb_thread_blocking_region()... yes\nchecking for rb_wait_for_single_fd()... yes\nchecking for mysql.h... no\nchecking for mysql/mysql.h... no\n-----\nmysql.h is missing.  please check your installation of mysql and try again.\n-----\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n        --with-opt-dir\n        --without-opt-dir\n        --with-opt-include\n        --without-opt-include=${opt-dir}/include\n        --with-opt-lib\n        --without-opt-lib=${opt-dir}/lib\n        --with-make-prog\n        --without-make-prog\n        --srcdir=.\n        --curdir\n        --ruby=/usr/local/bin/ruby\n        --with-mysql-config\n        --without-mysql-config\n\n\nGem files will remain installed in /home/rails/.bundler/tmp/5253/gems/mysql2-0.3.11 for inspection.\nResults logged to /home/rails/.bundler/tmp/5253/gems/mysql2-0.3.11/ext/mysql2/gem_make.out\n\nAn error occurred while installing mysql2 (0.3.11), and Bundler cannot continue.\nMake sure that `gem install mysql2 -v '0.3.11'` succeeds before bundling.\n\nmysql.h\u304c\u8aad\u307f\u8fbc\u307e\u308c\u306a\u3044\nmysql.h\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240\u306f\n/usr/local/mysql/include/mysql.h\n\u306a\u306e\u3067\u3001include\u3092\u8a2d\u5b9a\n$ gem install mysql2 -- --with-opt-include=/usr/local/mysql/include\n\nBuilding native extensions with: '--with-opt-include=/usr/local/mysql/include'\nThis could take a while...\nERROR:  Error installing mysql2:\n        ERROR: Failed to build gem native extension.\n\n    /usr/local/bin/ruby extconf.rb --with-opt-include=/usr/local/mysql/include\nchecking for rb_thread_blocking_region()... yes\nchecking for rb_wait_for_single_fd()... yes\nchecking for mysql.h... yes\nchecking for errmsg.h... yes\nchecking for mysqld_error.h... yes\ncreating Makefile\n\nmake\ncompiling result.c\n./mysql2_ext.h:39 \u304b\u3089 include \u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u4e2d,\n                 result.c:1 \u304b\u3089:\n./client.h:42:7: \u8b66\u544a: \u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\u306b\u6539\u884c\u304c\u3042\u308a\u307e\u305b\u3093\nresult.c: In function \u2018rb_mysql_result_fetch_row\u2019:\nresult.c:186: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nresult.c: In function \u2018rb_mysql_result_fetch_fields\u2019:\nresult.c:381: \u8b66\u544a: \u7b26\u5408\u4ed8\u304d\u3068\u7b26\u5408\u7121\u3057\u3068\u306e\u6bd4\u8f03\u3067\u3059\ncompiling client.c\n./mysql2_ext.h:39 \u304b\u3089 include \u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u4e2d,\n                 client.c:1 \u304b\u3089:\n./client.h:42:7: \u8b66\u544a: \u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\u306b\u6539\u884c\u304c\u3042\u308a\u307e\u305b\u3093\nclient.c: In function \u2018rb_raise_mysql2_error\u2019:\nclient.c:98: \u8b66\u544a: ISO C90 forbids mixed declarations and code\nclient.c: In function \u2018rb_connect\u2019:\nclient.c:215: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c:219: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c: In function \u2018rb_mysql_client_close\u2019:\nclient.c:238: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c: In function \u2018do_send_query\u2019:\nclient.c:261: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c: In function \u2018rb_mysql_client_async_result\u2019:\nclient.c:309: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c:315: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c: In function \u2018rb_mysql_client_socket\u2019:\nclient.c:590: \u8b66\u544a: ISO C90 forbids mixed declarations and code\nclient.c: In function \u2018rb_mysql_client_ping\u2019:\nclient.c:636: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c: In function \u2018init_connection\u2019:\nclient.c:728: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\ncompiling mysql2_ext.c\n./mysql2_ext.h:39 \u304b\u3089 include \u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u4e2d,\n                 mysql2_ext.c:1 \u304b\u3089:\n./client.h:42:7: \u8b66\u544a: \u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\u306b\u6539\u884c\u304c\u3042\u308a\u307e\u305b\u3093\nlinking shared-object mysql2/mysql2.so\n/usr/bin/ld: cannot find -lmysqlclient\ncollect2: ld \u306f\u30b9\u30c6\u30fc\u30bf\u30b9 1 \u3067\u7d42\u4e86\u3057\u307e\u3057\u305f\nmake: *** [mysql2.so] \u30a8\u30e9\u30fc 1\n\n\nGem files will remain installed in /usr/local/lib/ruby/gems/2.0.0/gems/mysql2-0.3.11 for inspection.\nResults logged to /usr/local/lib/ruby/gems/2.0.0/gems/mysql2-0.3.11/ext/mysql2/gem_make.out\n\nlib\u7fa4\u3082\u4e00\u7dd2\u306b\u8aad\u307f\u8fbc\u307e\u305b\u305f\u3002\n$ gem install mysql2 -- --with-opt-include=/usr/local/mysql/include --with-opt-lib=/usr/local/mysql/lib\n\nBuilding native extensions with: '--with-opt-include=/usr/local/mysql/include --with-opt-lib=/usr/local/mysql/lib'\nThis could take a while...\nSuccessfully installed mysql2-0.3.11\nParsing documentation for mysql2-0.3.11\nunable to convert \"\\xA0\" from ASCII-8BIT to UTF-8 for lib/mysql2/mysql2.so, skipping\nInstalling ri documentation for mysql2-0.3.11\n1 gem installed\n\n\u6210\u529f\nrails\u3067mysql\u3092\u4f7f\u304a\u3046\u3068\u601d\u3044\u3001mysql2\u3092gem\u3067\u8a2d\u5b9a\n\n```\n$ bundle install\n\nGem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.\n\n/usr/local/bin/ruby extconf.rb\nchecking for rb_thread_blocking_region()... yes\nchecking for rb_wait_for_single_fd()... yes\nchecking for mysql.h... no\nchecking for mysql/mysql.h... no\n-----\nmysql.h is missing.  please check your installation of mysql and try again.\n-----\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n        --with-opt-dir\n        --without-opt-dir\n        --with-opt-include\n        --without-opt-include=${opt-dir}/include\n        --with-opt-lib\n        --without-opt-lib=${opt-dir}/lib\n        --with-make-prog\n        --without-make-prog\n        --srcdir=.\n        --curdir\n        --ruby=/usr/local/bin/ruby\n        --with-mysql-config\n        --without-mysql-config\n\n\nGem files will remain installed in /home/rails/.bundler/tmp/5253/gems/mysql2-0.3.11 for inspection.\nResults logged to /home/rails/.bundler/tmp/5253/gems/mysql2-0.3.11/ext/mysql2/gem_make.out\n\nAn error occurred while installing mysql2 (0.3.11), and Bundler cannot continue.\nMake sure that `gem install mysql2 -v '0.3.11'` succeeds before bundling.\n```\n\nmysql.h\u304c\u8aad\u307f\u8fbc\u307e\u308c\u306a\u3044\n\nmysql.h\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240\u306f\n/usr/local/mysql/include/mysql.h\n\u306a\u306e\u3067\u3001include\u3092\u8a2d\u5b9a\n\n```\n$ gem install mysql2 -- --with-opt-include=/usr/local/mysql/include\n\nBuilding native extensions with: '--with-opt-include=/usr/local/mysql/include'\nThis could take a while...\nERROR:  Error installing mysql2:\n        ERROR: Failed to build gem native extension.\n\n    /usr/local/bin/ruby extconf.rb --with-opt-include=/usr/local/mysql/include\nchecking for rb_thread_blocking_region()... yes\nchecking for rb_wait_for_single_fd()... yes\nchecking for mysql.h... yes\nchecking for errmsg.h... yes\nchecking for mysqld_error.h... yes\ncreating Makefile\n\nmake\ncompiling result.c\n./mysql2_ext.h:39 \u304b\u3089 include \u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u4e2d,\n                 result.c:1 \u304b\u3089:\n./client.h:42:7: \u8b66\u544a: \u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\u306b\u6539\u884c\u304c\u3042\u308a\u307e\u305b\u3093\nresult.c: In function \u2018rb_mysql_result_fetch_row\u2019:\nresult.c:186: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nresult.c: In function \u2018rb_mysql_result_fetch_fields\u2019:\nresult.c:381: \u8b66\u544a: \u7b26\u5408\u4ed8\u304d\u3068\u7b26\u5408\u7121\u3057\u3068\u306e\u6bd4\u8f03\u3067\u3059\ncompiling client.c\n./mysql2_ext.h:39 \u304b\u3089 include \u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u4e2d,\n                 client.c:1 \u304b\u3089:\n./client.h:42:7: \u8b66\u544a: \u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\u306b\u6539\u884c\u304c\u3042\u308a\u307e\u305b\u3093\nclient.c: In function \u2018rb_raise_mysql2_error\u2019:\nclient.c:98: \u8b66\u544a: ISO C90 forbids mixed declarations and code\nclient.c: In function \u2018rb_connect\u2019:\nclient.c:215: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c:219: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c: In function \u2018rb_mysql_client_close\u2019:\nclient.c:238: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c: In function \u2018do_send_query\u2019:\nclient.c:261: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c: In function \u2018rb_mysql_client_async_result\u2019:\nclient.c:309: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c:315: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c: In function \u2018rb_mysql_client_socket\u2019:\nclient.c:590: \u8b66\u544a: ISO C90 forbids mixed declarations and code\nclient.c: In function \u2018rb_mysql_client_ping\u2019:\nclient.c:636: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\nclient.c: In function \u2018init_connection\u2019:\nclient.c:728: \u8b66\u544a: \u2018rb_thread_blocking_region\u2019 is deprecated (declared at /usr/local/include/ruby-2.0.0/ruby/intern.h:835)\ncompiling mysql2_ext.c\n./mysql2_ext.h:39 \u304b\u3089 include \u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u4e2d,\n                 mysql2_ext.c:1 \u304b\u3089:\n./client.h:42:7: \u8b66\u544a: \u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\u306b\u6539\u884c\u304c\u3042\u308a\u307e\u305b\u3093\nlinking shared-object mysql2/mysql2.so\n/usr/bin/ld: cannot find -lmysqlclient\ncollect2: ld \u306f\u30b9\u30c6\u30fc\u30bf\u30b9 1 \u3067\u7d42\u4e86\u3057\u307e\u3057\u305f\nmake: *** [mysql2.so] \u30a8\u30e9\u30fc 1\n\n\nGem files will remain installed in /usr/local/lib/ruby/gems/2.0.0/gems/mysql2-0.3.11 for inspection.\nResults logged to /usr/local/lib/ruby/gems/2.0.0/gems/mysql2-0.3.11/ext/mysql2/gem_make.out\n```\n\nlib\u7fa4\u3082\u4e00\u7dd2\u306b\u8aad\u307f\u8fbc\u307e\u305b\u305f\u3002\n\n```\n$ gem install mysql2 -- --with-opt-include=/usr/local/mysql/include --with-opt-lib=/usr/local/mysql/lib\n\nBuilding native extensions with: '--with-opt-include=/usr/local/mysql/include --with-opt-lib=/usr/local/mysql/lib'\nThis could take a while...\nSuccessfully installed mysql2-0.3.11\nParsing documentation for mysql2-0.3.11\nunable to convert \"\\xA0\" from ASCII-8BIT to UTF-8 for lib/mysql2/mysql2.so, skipping\nInstalling ri documentation for mysql2-0.3.11\n1 gem installed\n```\n\n\u6210\u529f", "tags": ["Gem", "Rails", "MySQL"]}