{"tags": ["spring4.1"], "context": " More than 1 year has passed since last update.\n\nSpring4\u52c9\u5f37\u4f1a \u7b2c\u56db\u56de\n\u7b2c\u4e00\u56de\u306f\u74b0\u5883\u69cb\u7bc9\u304b\u3089\u7c21\u5358\u306a\u5024\u306e\u53d7\u3051\u6e21\u3057\u307e\u3067\n\u7b2c\u4e8c\u56de\u306f\u8272\u3005\u306aFORM\u3068\u306e\u9023\u643a\n\u7b2c\u4e09\u56de\u306fValidator\u306e\u5b9f\u88c5\u3068\u65e5\u672c\u8a9e\u5bfe\u5fdc\n\u305d\u3057\u3066\u4eca\u56de\u306f\u3044\u3088\u3044\u3088OR\u30de\u30c3\u30d1\u30fcMyBatis\u3068\u306e\u9023\u643a\u3002DB\u3067\u3059\u3002\nSpring\u306e\u5165\u9580\u306f\u3053\u308c\u3067\u7d42\u308f\u308d\u3046\u3068\u601d\u3063\u3066\u307e\u3059\u3002\nINDEX\u306f\u4ee5\u4e0b\n\nMyBatis\u3068\u306f\n\u74b0\u5883\u69cb\u7bc9\n\u89e3\u8aac1\n\u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\n\u89e3\u8aac2\n\u6a5f\u80fd\u306e\u8ffd\u52a0\n\u89e3\u8aac3\n\u7df4\u7fd2\u554f\u984c\n\n\u3067\u3059\u3002\n\nMyBatis\u3068\u306f\n\nMyBatis\nMyBatis \u306f\u30ab\u30b9\u30bf\u30e0 SQL\u3001\u30b9\u30c8\u30a2\u30c9\u30d7\u30ed\u30b7\u30fc\u30b8\u30e3\u3001\u9ad8\u5ea6\u306a\u30de\u30c3\u30d4\u30f3\u30b0\u51e6\u7406\u306b\u5bfe\u5fdc\u3057\u305f\u512a\u308c\u305f\u6c38\u7d9a\u5316\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002 MyBatis\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u76f4\u63a5 JDBC \u3092\u6271\u3046\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u305f\u308a\u3001\u30af\u30a8\u30ea\u5f15\u6570\u3084\u30af\u30a8\u30ea\u7d50\u679c\u3092\u624b\u52d5\u3067\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u307b\u3068\u3093\u3069\u306a\u304f\u306a\u308a\u307e\u3059\u3002 MyBatis \u306e\u8a2d\u5b9a\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30ec\u30b3\u30fc\u30c9\u3068 Java \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u95a2\u9023\u4ed8\u3051\u306f\u3001XML \u307e\u305f\u306f\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u203b\u2191\u672c\u5bb6\u5f15\u7528\n\u8981\u306fOR\u30de\u30c3\u30d1\u3067\u3059\u3002\n\u3057\u304b\u3057\u3001\u4eca\u56de\u4f7f\u3046\u306e\u306f\u3001\u3082\u3046\u4e00\u3064\n\nMyBatis-Spring\nMyBatis-Spring \u3068\u306f\uff1f\nMyBatis-Spring \u306b\u3088\u3063\u3066 MyBatis \u3068 Spring \u3092\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u9023\u643a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3048\u3070\u3001MyBatis \u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092 Spring \u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u5185\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3057\u3001Mapper \u3084 SqlSession \u306e\u751f\u6210\u3001\u4ed6\u306e Bean \u3078\u306e\u6ce8\u5165\u3001MyBatis \u306e\u4f8b\u5916\u304b\u3089 Spring \u306e DataAccessException \u3078\u306e\u5909\u63db\u3001\u3055\u3089\u306b\u306f MyBatis \u3084 Spring, MyBatis-Spring \u306b\u4f9d\u5b58\u3057\u306a\u3044\u30b3\u30fc\u30c9\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\u203b\u2191\u672c\u5bb6\u5f15\u7528\n\u305d\u3057\u3066\u4eca\u56de\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u3001XML\u30d9\u30fc\u30b9\u306emapper\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\u74b0\u5883\u69cb\u7bc9\n\u74b0\u5883\u69cb\u7bc9\u306fpom.xml\u3068mvc-config.xml\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u307e\u305a\u306fpom\u304b\u3089\u2026\n\u30001. pom.xml\u306e\u4fee\u6b63\n\u4ee5\u4e0b\u306e\u4f9d\u5b58\u6027\u3092\u8ffd\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n<spring-jdbc.version>4.0.6.RELEASE</spring-jdbc.version>\n<!-- MyBatis -->\n<MyBatis.version>3.3.0</MyBatis.version>\n<!-- MyBatis Spring -->\n<MyBatis.Spring.version>1.2.2</MyBatis.Spring.version>\n<!-- Connector-J -->\n<MySqlConnector.version>5.1.34</MySqlConnector.version>\n<!-- CommonsDbcp -->\n<CommonsDbcp.version>2.1</CommonsDbcp.version>\n\n\n<!-- MyBatis -->\n<dependency>\n    <groupId>org.mybatis</groupId>\n    <artifactId>mybatis</artifactId>\n    <version>${MyBatis.version}</version>\n</dependency>\n<!-- MyBatis Spring -->\n<dependency>\n    <groupId>org.mybatis</groupId>\n    <artifactId>mybatis-spring</artifactId>\n    <version>${MyBatis.Spring.version}</version>\n</dependency>\n<!-- MySqlConnector -->\n<dependency>\n    <groupId>mysql</groupId>\n    <artifactId>mysql-connector-java</artifactId>\n    <version>${MySqlConnector.version}</version>\n</dependency>\n<!-- Commons-dbcp -->\n<dependency>\n    <groupId>org.apache.commons</groupId>\n    <artifactId>commons-dbcp2</artifactId>\n    <version>${CommonsDbcp.version}</version>\n</dependency>\n<!-- Spring JDBC -->\n<dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-jdbc</artifactId>\n    <version>${spring-jdbc.version}</version>\n</dependency>\n\n\u66f8\u304d\u7d42\u308f\u3063\u305f\u3089\u3001Maven Install\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30002. mvc-config.xml\u306e\u4fee\u6b63\n\u4eca\u56de\u304c\u6700\u5f8c\u306a\u306e\u3067\u3001\u4eca\u307e\u3067\u306e\u3082\u8fbc\u307f\u3067\u30d5\u30eb\u3067\u306e\u305b\u307e\u3059\u3002\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xmlns:util=\"http://www.springframework.org/schema/util\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\n        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd\">\n    <context:component-scan base-package=\"jp.co.kenshu\" />\n    <mvc:annotation-driven />\n    <bean id=\"messageSource\" class=\"org.springframework.context.support.ReloadableResourceBundleMessageSource\">\n       <property name=\"basename\" value=\"classpath:ValidatorMessages\" />\n    </bean>\n    <bean\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\n        <!-- Example: a logical view name of 'showMessage' is mapped to '/WEB-INF/jsp/showMessage.jsp' -->\n        <property name=\"prefix\" value=\"/WEB-INF/view/\" />\n        <property name=\"suffix\" value=\".jsp\" />\n    </bean>\n    <!-- DataSource -->\n    <bean id=\"dataSource\" class=\"org.apache.commons.dbcp2.BasicDataSource\">\n        <property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" />\n        <property name=\"url\" value=\"jdbc:mysql://localhost/test\" />\n        <property name=\"username\" value=\"\u3010MySql\u306eUSER\u3011\" />\n        <property name=\"password\" value=\"\u3010MySql\u306ePASSWORD\u3011\" />\n    </bean>\n    <bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\">\n        <property name=\"dataSource\" ref=\"dataSource\" />\n    </bean>\n    <bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\">\n        <property name=\"basePackage\" value=\"jp.co.kenshu.mapper\" />\n        <property name=\"sqlSessionFactoryBeanName\" value=\"sqlSessionFactory\" />\n    </bean>\n    <bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\">\n        <property name=\"basePackage\" value=\"jp.co.kenshu.mapper\" />\n    </bean>\n    <bean id=\"transactionManager\"\n        class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\">\n        <property name=\"dataSource\" ref=\"dataSource\" />\n    </bean>\n</beans>\n\n\u5b8c\u4e86\u3067\u3059\u3002\nMySql\u306e\u8a2d\u5b9a\u306f\u5404\u81ea\u3067\u30e6\u30fc\u30b6\u30fc\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u7570\u306a\u308b\u306e\u3067\u5f53\u3066\u306f\u3081\u3066\u304f\u3060\u3055\u3044\uff01\uff01\n\n\u89e3\u8aac1\n\u4eca\u56depom\u306b\u8a2d\u5b9a\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u56db\u3064\u3067\u3059\u3002\n\nMybatis\n\n\u5c0e\u5165\u3067\u3042\u3063\u305f\u3088\u3046\u306bORM\u3067\u3059\u3002\n\nMyBatis-Spring\n\n\u5c0e\u5165\u3067\u3042\u3063\u305f\u3088\u3046\u306b\u3001Spring\u3068\u9023\u643a\u3057\u305fMyBatis\u3067\u3059\u3002\n\nmysql-connector-java\n\n\u304a\u99b4\u67d3\u307f\u306eMySql\u306eJDBC\u30c9\u30e9\u30a4\u30d0\u30fc\u3067\u3059\u3002\n\u4f59\u8ac7\u3067\u3059\u304c\u30015.1.34\u306b\u3057\u305f\u306e\u3067\u3001setBlob\u304c\u4f7f\u3048\u307e\u3059\u3002\u4eca\u56deServlet\u30823\u7cfb\u306a\u306e\u3067\u3001@MultipartConfig\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u624b\u8efd\u306b\u753b\u50cf\u304c\u6271\u3048\u307e\u3059\u3002\n\ncommons-dbcp\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30fb\u30d7\u30fc\u30ea\u30f3\u30b0\u3092\u6271\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\n\nSpring JDBC\n\nSpring\u3067JDBC\u3092\u6271\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\n\n\u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\n\u3055\u3063\u305d\u304f\u4f5c\u3063\u3066\u52d5\u304b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\nDB\u304b\u3089\u53d6\u5f97\u3057\u305fname\u3092\u8868\u793a\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\n\n\n\u307e\u305a\u306fMysql\u3092\u7acb\u3061\u4e0a\u3052\u3001\u4ee5\u4e0b\u306e\u74b0\u5883\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30001. DB/TABLE\u306e\u4f5c\u6210\nuse test\nCREATE TABLE test (id int(11) PRIMARY KEY AUTO_INCREMENT,name varchar(255) NOT NULL);\n\u203b\u9069\u5f53\u306binsert\u3057\u3068\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u6b21\u304b\u3089Spring\u306b\u623b\u308a\u307e\u3059\u3002Eclipse\u3067\u3059\u3002\n\u30002. TestController\u306e\u4f5c\u6210\n\u300cjp.co.kenshu.controller\u300d\u4e0b\u306b\u300cTestController.java\u300d\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u3068\u3057\u3066\u304f\u3060\u3055\u3044\u3002\npackage jp.co.kenshu.controller;\n\nimport jp.co.kenshu.dto.test.TestDto;\nimport jp.co.kenshu.service.TestService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n@Controller\npublic class TestController {\n\n    @Autowired\n    private TestService testService;\n\n    @RequestMapping(value = \"/test/{id}\", method = RequestMethod.GET)\n    public String test(Model model, @PathVariable int id) {\n        TestDto test = testService.getTest(id);\n        model.addAttribute(\"message\", \"MyBatis\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\");\n        model.addAttribute(\"test\", test);\n        return \"test\";\n    }\n}\n\n\u4eca\u306f\u307e\u3060\u8d64\u304f\u3066\u826f\u3044\u3067\u3059\u3002\n\u30003. JSP\u306e\u4f5c\u6210\n\u300cWEB-INF/view\u300d\u4e0b\u306btest.jsp\u3092\u4f5c\u6210\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n<!DOCTYPE html>\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%>\n<html>\n    <head>\n        <meta charset=\"utf-8\">\n        <title>Welcome</title>\n    </head>\n    <body>\n           <h1>${message}</h1>\n        <h2>${test.name}</h2>\n    </body>\n</html>\n\n\u30004. TestService.java\u306e\u4f5c\u6210\n\u300cjp.co.kenshu.service\u300d\u4e0b\u306b\u300cTestService.java\u300d\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\npackage jp.co.kenshu.service;\n\nimport jp.co.kenshu.dto.test.TestDto;\nimport jp.co.kenshu.entity.Test;\nimport jp.co.kenshu.mapper.TestMapper;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class TestService {\n\n    @Autowired\n    private TestMapper testMapper;\n\n    public TestDto getTest(Integer id) {\n        TestDto dto = new TestDto();\n        Test entity = testMapper.getTest(id);\n        BeanUtils.copyProperties(entity, dto);\n        return dto;\n    }\n\n}\n\n\n\u30005. TestMapper.java\u306e\u4f5c\u6210\n\u300cjp.co.kenshu.mapper\u300d\u4e0b\u306bTestMapper.java\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\npackage jp.co.kenshu.mapper;\n\nimport jp.co.kenshu.entity.Test;\n\npublic interface TestMapper {\n    Test getTest(int id);\n}\n\n\u30006. TestMapper.xml\u306e\u4f5c\u6210\n\u300cjp.co.kenshu.mapper\u300d\u4e0b\u306b\u300cTestMapper.xml\u300d\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n\"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"jp.co.kenshu.mapper.TestMapper\">\n    <resultMap id=\"TestResult\" type=\"jp.co.kenshu.entity.Test\">\n        <result column=\"id\" property=\"id\" />\n        <result column=\"name\" property=\"name\" />\n    </resultMap>\n    <select id=\"getTest\" resultMap=\"TestResult\" parameterType=\"int\">\n        select id, name\n        from test\n        where id = #{id}\n    </select>\n</mapper>\n\n\u30007. Test.java(entity)\u306e\u4f5c\u6210\n\u300cjp.co.kenshu.entity\u300d\u4e0b\u306b\u300cTest.java\u300d\u3092\u4f5c\u6210\u3059\u308b\npackage jp.co.kenshu.entity;\n\nimport lombok.Data;\n\n@Data\npublic class Test {\n    private Integer id;\n    private String name;\n}\n\n\u30008. TestDto.java\u306e\u4f5c\u6210\n\u300cjp.co.kenshu.dto.test\u300d\u4e0b\u306b\u300cTestDto.java\u300d\u3092\u4f5c\u6210\npackage jp.co.kenshu.dto.test;\n\nimport lombok.Data;\n\n@Data\n\npublic class TestDto {\n    private Integer id;\n    private String name;\n}\n\n\u3053\u308c\u3067\u6e96\u5099\u304c\u6574\u3044\u307e\u3057\u305f\u3002\n\u52d5\u304b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nhttp://localhost:8080/SpringKenshu/test/1\u306b\u30a2\u30af\u30bb\u30b9\uff01\uff01\n\u203bMySql\u306bID\u304c1\u306e\u30e6\u30fc\u30b6\u30fc\u304cinsert\u3055\u308c\u3066\u3044\u306a\u3044\u3068\u52d5\u304d\u307e\u305b\u3093\u306e\u3067\u3001\u3042\u3057\u304b\u3089\u305a\u3002\n\n\u89e3\u8aac2\n\n\u5168\u4f53\u50cf\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\nController\u304b\u3089Service\u7d4c\u7531\u3067Dao\u3092\u547c\u3073\u3001select\u7d50\u679c\u304centity\u306b\u8a70\u3081\u3089\u308c\u3066\u8fd4\u5374\u3055\u308c\u307e\u3059\u3002\n\u305d\u308c\u3092\u753b\u9762\u8868\u793a\u7528\u306bDto\u306b\u8a70\u3081\u3066\u3001JSP\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u30d0\u30a4\u30f3\u30c9\u3055\u308c\u3066\u8868\u793a\u3055\u308c\u308b(\u4eca\u56de\u306e\u753b\u9762\u30ad\u30e3\u30d7\u30c1\u30e3\u7684\u306b\u306fname\u304c\u300chogehoge\u300d)\u3002\n\u203b\u4eca\u56de\u306fJSP\u306e\u89e3\u8aac\u306f\u7701\u304d\u307e\u3059\u3002\n\u3010Controller\u3011\n@Controller\npublic class TestController {\n\n    @Autowired\n    private TestService testService;\n\n    @RequestMapping(value = \"/test/{id}\", method = RequestMethod.GET)\n    public String test(Model model, @PathVariable int id) {\n        TestDto test = testService.getTest(id);\n        model.addAttribute(\"message\", \"MyBatis\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\");\n        model.addAttribute(\"test\", test);\n        return \"test\";\n    }\n}\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3067\u76ee\u3092\u5f15\u304f\u306e\u306f\u3001\u307e\u305a\u3053\u308c\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n@Autowired\nprivate TestService testService;\n\n\u3053\u308c\u306f\u300cDI\u300d\u3068\u547c\u3070\u308c\u308b\u6280\u8853\u304c\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002\nDI\u3068\u306f\u300cDependency Injection\u300d\u306e\u7565\u3067\u3042\u308a\u3001\u300c\u4f9d\u5b58\u6027\u306e\u6ce8\u5165\u300d\u3068\u8a33\u3055\u308c\u307e\u3059\u3002\nDI\u3092\u4f7f\u3046\u3068\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u4e2d\u3067new(\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316)\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f7f\u3063\u3066\u5b9f\u30af\u30e9\u30b9\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u307e\u3059\n\u7c21\u5358\u306b\u8a00\u3063\u3066\u3057\u307e\u3046\u3068\u3001\u5916\u90e8(DI\u30b3\u30f3\u30c6\u30ca)\u304b\u3089\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u6ce8\u5165(\u751f\u6210)\u3059\u308b\u3002xml\u306b\u305d\u306e\u8a2d\u5b9a\u3092\u8a18\u8ff0\u3059\u308b\u3002\u3068\u306a\u308a\u307e\u3059\u3002\n\u3053\u3053\u306e\u30b5\u30a4\u30c8\u304c\u500b\u4eba\u7684\u306b\u306f\u30a4\u30e1\u30fc\u30b8\u3057\u3084\u3059\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30d9\u30fc\u30b9\u3067DI\u6a5f\u80fd\u3092\u4f7f\u3046\u305f\u3081\u306b\u4e8b\u524d\u306bmvc-config.xml\u306b\u306f\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8a18\u8ff0\u3057\u3066\u307e\u3059\u3002\n<context:component-scan base-package=\"jp.co.kenshu\" />\n<mvc:annotation-driven />\n\n\u305d\u3057\u3066\u4eca\u56de\u306fTestService\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092DI\u3092\u4f7f\u3063\u3066\u6ce8\u5165\u3057\u3066\u3044\u308b\u305f\u3081\u3001\ntest\u30e1\u30bd\u30c3\u30c9\u306e\u4e2d\u3067\nTestDto test = testService.getTest(1);\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u3066\u3082NullPointerException\u306f\u767a\u751f\u3057\u307e\u305b\u3093\u3002\n\u307e\u305f\u3001\u4eca\u56de\u306f@Autowired\u3067Service\u306b\u4f9d\u5b58\u6027\u3092\u6ce8\u5165\u3059\u308b\u306b\u306f\u3001TestService\u306b\u3082\u300c@Service\u300d\u3068\u3044\u3046\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u3051\u3066\u304a\u304f\u3068\u3044\u3046\u898f\u7d04\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u308c\u306f\u5f8c\u8ff0\u3067\u3002\nController\u306f\u5358\u7d14\u306a\u51e6\u7406\u3057\u304b\u3057\u3066\u307e\u305b\u3093\u3002\nTestDto test = testService.getTest(id);\n\n\u3067Service\u7d4c\u7531\u3067\u53d6\u5f97\u3057\u305fDB\u30bb\u30ec\u30af\u30c8\u60c5\u5831\u3092TestDto\u3068\u3044\u3046\u5165\u308c\u7269\u306b\u8a70\u3081\u3066\u3042\u3052\u3066\u3001\n\u203b\u300c\u30bb\u30ec\u30af\u30c8\u60c5\u5831\u300d\u3068\u306f\u3001select id, name from test where id = 1;\u306e\u53d6\u5f97\u7d50\u679c\u3067\u3059\u3002\nmodel.addAttribute(\"test\", test);\n\n\u306e\u3088\u3046\u306b\u3001\u7d50\u679c\u3092\"test\"\u3068\u3044\u3046key\u5024\u3067model\u306bAttribute\u3057\u3066\u308b\u3060\u3051\u3067\u3059\u3002\n\u306a\u304a\u3001\u4eca\u56de\u306fURL\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a18\u8ff0\u304c\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n@RequestMapping(value = \"/test/dto/{id}\", method = RequestMethod.GET)\n\n\u3053\u308c\u306e\u300c{id}\u300d\u306fURL\u306b\u5909\u6570\u3068\u3057\u3066id\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u3064\u307e\u308a\u3001\nhttp://localhost:8080/SpringKenshu/test/17/\n\n\u306f\nhttp://localhost:8080/SpringKenshu/test/?id=17\n\n\u3068\u540c\u7fa9\u306b\u306a\u308a\u307e\u3059\u3002\n\u3042\u3068\u306f\npublic String testDto(Model model, @PathVariable int id) {\n\n\u306e\n@PathVariable int id\n\n\u3067int\u306eid\u306b\u633f\u5165\u3055\u308c\u307e\u3059\u3002\n\u3010Service\u3011\n@Service\npublic class TestService {\n\n    @Autowired\n    private TestMapper testMapper;\n\n    public TestDto getTest(Integer id) {\n        TestDto dto = new TestDto();\n        Test entity = testMapper.getTest(id);\n        BeanUtils.copyProperties(entity, dto);\n        return dto;\n    }\n}\n\nService\u3067\u884c\u3063\u3066\u3044\u308b\u3053\u3068\u306fMapper(Dao)\u7d4c\u7531\u3067\u53d6\u5f97\u3057\u305fentity\u3092\nBeanUtils.copyProperties(entity, dto);\n\n\u3092\u4f7f\u3063\u3066TestDto\u306b\u8a70\u3081\u66ff\u3048\u3066return\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\n\u307e\u305f\u3001Mapper\u3092\u4f7f\u3046\u969b\u306b\n@Autowired\nprivate TestMapper testMapper;\n\n\u306b\u3088\u3063\u3066\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f7f\u3063\u3066\u5b9f\u30af\u30e9\u30b9\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u3066\u3044\u307e\u3059\u3002\n\u3010Mapper(Dao)\u3068mvc-config.xml\u3011\npublic interface TestMapper {\n    Test getTest(int id);\n}\n\nTestMapper.java\u306finterface\u3067\u3059\u3002\nmvc-config\u306b\u4ee5\u4e0b\u306e\u8a18\u8ff0\u304c\u3042\u308b\u304a\u304b\u3052\u3067\u3001\n<!-- \u3069\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092mapper\u3068\u3057\u3066\u8a8d\u8b58\u3059\u308b\u304b\u306e\u8a2d\u5b9a -->\n<bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\">\n    <property name=\"basePackage\" value=\"jp.co.kenshu.mapper\" />\n</bean>\n\nmapper\u30d1\u30c3\u30b1\u30fc\u30b8\u4e0b\u3092MyBatis\u306eORM\u6a5f\u80fd\u304c\u4f7f\u3048\u308bDao\u3068\u3057\u3066\u8a8d\u8b58\u3057\u3066\u304f\u308c\u307e\u3059\u3002\nTestMapprer.java\u306f\u3001\nTest getTest(int id);\n\n\u30e1\u30bd\u30c3\u30c9\u304c\u30b3\u30fc\u30eb\u3055\u308c\u305f\u969b\u306b\u3001\u540c\u3058\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3042\u308bTestMapper.xml\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nTestMapper.xml\u306f\u4eca\u56de\u4ee5\u4e0b\u3068\u306a\u3063\u3066\u304a\u308a\u3001\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n\"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"jp.co.kenshu.mapper.TestMapper\">\n    <resultMap id=\"TestResult\" type=\"jp.co.kenshu.entity.Test\">\n        <result column=\"id\" property=\"id\" />\n        <result column=\"name\" property=\"name\" />\n    </resultMap>\n    <select id=\"getTest\" resultMap=\"TestResult\" parameterType=\"int\">\n        select id, name\n        from test\n        where id = #{id}\n    </select>\n</mapper>\n\nTestMapper.java\u306e\u300cgetTest\u300d\u304c\u547c\u3070\u308c\u305f\u969b\u306b\u3001\u4e0a\u8a18xml\u306e\n<select id=\"getTest\" resultMap=\"TestResult\" parameterType=\"int\">\n        select id, name\n        from test\n        where id = #{id}\n</select>\n\n\u304c\u547c\u3070\u308c\u307e\u3059\u3002\n\u300cid=\"getTest\"\u300d\u306b\u6ce8\u76ee\u3057\u3066\u304f\u3060\u3055\u3044\u3002TestMapper.java\u306egetTest\u306fxml\u306e\u3053\u306eID\u3068\u7d10\u3044\u3066\u51e6\u7406\u304c\u884c\u308f\u308c\u308b\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\u3067\u306fTestMapper.xml\u306e\u8a18\u8ff0\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\n<mapper namespace=\"jp.co.kenshu.mapper.TestMapper\">\n\n\u3067TestMapper.java\u30d5\u30a1\u30a4\u30eb\u3068\u7d10\u4ed8\u3051\u3066\u3044\u307e\u3059\u3002\n\u6b21\u306b\u5b9f\u969b\u306bDB\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u8a18\u8ff0\u3092\u898b\u308b\u3068\u3001\n<select id=\"getTest\" resultMap=\"TestResult\" parameterType=\"int\">\n    select id, name\n    from test\n    where id = #{id}\n</select>\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066int\u578b\u3092\u4e00\u3064\u53d7\u3051\u53d6\u308b\u3068\u3088\uff5e\u3063\u3066\u306e\u3092\u4ee5\u4e0b\u306e\u8a18\u8ff0\u3067\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\nparameterType=\"int\"\n\n\u4eca\u56de\u306fMapper.java\u306e\u300cTest getTest(int id);\u300d\u3067\u6307\u5b9a\u3057\u3066\u3044\u308bint\u306eid\u304c\u6e21\u3063\u3066\u304d\u307e\u3059\u3002\n\u6e21\u3063\u3066\u304d\u305fid\u306f\nselect id, name\nfrom test\nwhere id = #{id}\n\n\u306e\u300c#{id}\u300d\u306b\u30d0\u30a4\u30f3\u30c9\u3055\u308c\u307e\u3059\u3002\n\u7d50\u679c\u3068\u3057\u3066\u3001Service\u304b\u3089\ntestMapper.getTest(3);\n\n\u3068\u3057\u305f\u5834\u5408\u3001\u6700\u7d42\u7684\u306b\u306f\nselect id, name from test where id = 3\n\n\u3068\u3044\u3046SQL\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001select\u3057\u305f\u7d50\u679c\u3092\u3069\u3053\u306b\u683c\u7d0d\u3059\u308b\u306e\u304b\uff1f\uff1f\u3068\u3044\u3046\u306e\u3092\nresultMap=\"TestResult\"\n\n\u3067\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u300cTestResult\u300d\u306f\u4ee5\u4e0b\u306e\u8a18\u8ff0\n<resultMap id=\"TestResult\" type=\"jp.co.kenshu.entity.Test\">\n    <result column=\"id\" property=\"id\" />\n    <result column=\"name\" property=\"name\" />\n</resultMap>\n\n\u306b\u3042\u308b\u3001\nid=\"TestResult\"\n\n\u3068\u7d10\u3065\u3044\u3066\u3044\u307e\u3059\u3002\nresultMap\u306f\u305d\u306e\u540d\u306e\u901a\u308a\u3001DB\u30a2\u30af\u30bb\u30b9\u7d50\u679c\u3092\u4f55\u306b\u3069\u3046\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u304b\uff1f\uff1f\u3092\u8a2d\u5b9a\u3059\u308b\u8a18\u8ff0\u3067\u3059\u3002\n\u300c\u4f55\u306b\u300d\u306f\ntype=\"jp.co.kenshu.entity.Test\"\n\n\u3067\u6307\u5b9a\u3057\u305f\u30af\u30e9\u30b9\u304c\u8a72\u5f53\u3057\u307e\u3059\u3002\u4eca\u56de\u306fentity\u3067\u3042\u308bTest.java\u304c\u305d\u308c\u306b\u306a\u308a\u307e\u3059\u3002\n<result column=\"id\" property=\"id\" />\n\n\u3053\u306e\u8a18\u8ff0\u306f\u3001\u30bf\u30b0\u3067\u53d6\u5f97\u3055\u308c\u305f\u60c5\u5831\u3092type\u306e\u3069\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u304b\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u2191\u306e\u8a18\u8ff0\u3060\u3068\u3001\nselect id, name from test where id = #{id}\n\n\u3057\u305f\u7d50\u679c\u53d6\u5f97\u3055\u308c\u305f\u300cid\u300d\u60c5\u5831\u3092Test\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306eid\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u8a70\u3081\u308b\u3063\u3066\u52d5\u304d\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\u4ee5\u4e0a\u3067\u3001select\u7d50\u679c\u3092Testentity\u306b\u8a70\u3081\u3066\u8fd4\u5374\u3059\u308b\u3068\u3044\u3046\u4e00\u9023\u306e\u6d41\u308c\u304c\u3067\u304d\u307e\u3057\u305f\uff01\uff01\n\n\u6a5f\u80fd\u306e\u8ffd\u52a0\n\u3042\u3068\u306f\u8272\u3005\u306aDB\u30a2\u30af\u30bb\u30b9\u3092\u4f7f\u3063\u3066\u307f\u308b\u3060\u3051\u3067\u3059\uff01\uff01\n\n\u5168\u4ef6\u53d6\u5f97\nwhere\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\nupdate\ninsert\ndelete\n\u7d50\u5408\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u304b\u306d\uff1f\uff1f\u4e00\u3064\u4e00\u3064\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n1. \u5168\u4ef6\u53d6\u5f97\n\n\u3070\u3063\u304f\u308a\u8aac\u660e\u3059\u308b\u3068\u3001Controller\u304cService\u30fbMapper\u7d4c\u7531\u3067\u53d6\u5f97\u3057\u305fTestDto\u306eList\u3092JSP\u306b\u6e21\u3059\u3002\nJSP\u306f\u6e21\u3055\u308c\u305fList\u3092<c:foreach>\u3067\u56de\u3059\u3068\u3044\u3046\u3053\u3068\u3092\u3057\u307e\u3059\u3002\n\u7c21\u5358\u3059\u304e\u308b\u3082\u306e\u306f\u4f5c\u308a\u306a\u304c\u3089\u89e3\u8aac\u3044\u308c\u3066\u3044\u304d\u307e\u3059\u306d\u3002\n\n\n\u307e\u305a\u306f\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306b\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n@RequestMapping(value = \"/test/\", method = RequestMethod.GET)\npublic String testAll(Model model) {\n    List<TestDto> tests = testService.getTestAll();\n    model.addAttribute(\"message\", \"MyBatis\u306e\u5168\u4ef6\u53d6\u5f97\u30b5\u30f3\u30d7\u30eb\u3067\u3059\");\n    model.addAttribute(\"tests\", tests);\n    return \"testAll\";\n}\n\n\u4eca\u56de\u306f\u300c/test\u300d\u3067\u8a66\u305b\u307e\u3059\u3002\nservice\u304b\u3089\u53d6\u5f97\u3057\u305fTestDto\u306e\u96c6\u307e\u308a(List)\u3092\u3001model\u306badd\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\n\u7d9a\u3044\u3066JSP\u306e\u4f5c\u6210\n<!DOCTYPE html>\n\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%>\n<%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %>\n<html>\n    <head>\n        <meta charset=\"utf-8\">\n        <title>Welcome</title>\n    </head>\n    <body>\n           <h1>${message}</h1>\n        <c:forEach items=\"${tests}\" var=\"test\">\n            <p><c:out value=\"${test.name}\"></c:out></p>\n        </c:forEach>\n    </body>\n</html>\n\nController\u304b\u3089\u6e21\u3055\u308c\u305ftests\u3092<c:foreach>\u3067\u56de\u3057\u3066\u307e\u3059\u3002\u56de\u3059\u969b\u306b\u3001var=\"test\"\u3068\u3057\u3066\u3044\u308b\u306e\u3067\u3001tests\u3092<c:foreach>\u3067\u56de\u3057\u3066\u307e\u3059\u3002\u56de\u3059\u969b\u306b\u3001var=\"test\"\u3068\u3057\u3066\u3044\u308b\u306e\u3067\u3001{tests}\u3092<c:foreach>\u3067\u56de\u3057\u3066\u307e\u3059\u3002 \n\u56de\u3059\u969b\u306b\u3001var=\"test\"\u3068\u3057\u3066\u3044\u308b\u306e\u3067\u3001{test}\u304cTestDto\u306b\u306a\u308a\u307e\u3059\u3002\n\u7d50\u679c\u7684\u306b\u3001${test.name}\u3068\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u753b\u9762\u4e0a\u306b\u306f\u300ctest.getName()\u300d\u3057\u305f\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u6b21\u306bService\u3067\u3059\u3002\n\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u4e8c\u3064\u8ffd\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002\npublic List<TestDto> getTestAll() {\n    List<Test> testList = testMapper.getTestAll();\n    List<TestDto> resultList = convertToDto(testList);\n    return resultList;\n}\n\nprivate List<TestDto> convertToDto(List<Test> testList) {\n    List<TestDto> resultList = new LinkedList<>();\n    for (Test entity : testList) {\n        TestDto dto = new TestDto();\n        BeanUtils.copyProperties(entity, dto);\n        resultList.add(dto);\n    }\n    return resultList;\n}\n\ngetTestAll\u3067mapper\u304b\u3089\u53d6\u5f97\u3057\u305f\u7d50\u679c\u3092List\u306b\u8a70\u3081\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u6bb5\u968e\u3067\u306fTest\u306fentity\u3067\u3059\u3002\n\u753b\u9762\u306b\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u3001Dto\u306b\u8a70\u3081\u3066\u307e\u3059\u304c\u3001\u4eca\u56de\u306fBeanUtils.copyProperties\u304c\u7c21\u5358\u306b\u306f\u4f7f\u3048\u307e\u305b\u3093\u3002\n\u30ea\u30b9\u30c8\u306b\u8a70\u3081\u3089\u308c\u305fentity\u3092Dto\u306b\u8a70\u3081\u306a\u304a\u3059\u3068\u3044\u3046\u4f5c\u696d\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u4f5c\u696d\u3092convertToDto\u30e1\u30bd\u30c3\u30c9\u3067\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\u3042\u3068\u306fDao\u306e\u4ed5\u4e8b\u3092\u66f8\u304f\u3060\u3051\u3067\u3059\u306e\u3067\u3001\nTestMapper.java\u306b\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nList<Test> getTestAll();\n\nMapper\u306b\u8ffd\u52a0\u3057\u305f\u3060\u3051\u3060\u3068\u610f\u5473\u304c\u306a\u3044\u306e\u3067\u3001xml\u306b\u3082\u8ffd\u8a18\u3057\u307e\u3059\u3002\nTestMapper.xml\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n<select id=\"getTestAll\" resultMap=\"TestResult\">\n    select id, name\n    from test;\n</select>\n\n\u300cgetTestAll\u300d\u304cjava\u306e\u300cgetTestAll()\u300d\u3068\u7d10\u3065\u3044\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u6ce8\u76ee\u3057\u3066\u6b32\u3057\u3044\u306e\u306f\u623b\u308a\u5024\u3067\u3059\u3002\u4eca\u56de\u306f\u300cList\u3067\u8fd4\u3059\u3068\u3044\u3046\u8a18\u8ff0\u304c\u898b\u5f53\u305f\u3089\u306a\u3044\u300d\u3053\u3068\u3067\u3059\u3002\nTestMapper.java\u3067\u306fList\u3092\u53d7\u3051\u53d6\u308b\u8a18\u8ff0\u3092\u66f8\u3044\u3066\u307e\u3059\u3002\nList<Test> getTestAll();\n\n\u3053\u308c\u3060\u3051\u3067MyBatis\u306e\u65b9\u3067\u3088\u3057\u306a\u306b\u3084\u3063\u3066\u304f\u308c\u3061\u3083\u3044\u307e\u3059\u3002\n\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u30bf\u30a4\u30d7\u306e\u307f\u3001\n<select id=\"getTestAll\" resultMap=\"TestResult\">\n\n\u306e\nresultMap=\"TestResult\"\n\n\u3067\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\n<resultMap id=\"TestResult\" type=\"jp.co.kenshu.entity.Test\">\n    <result column=\"id\" property=\"id\" />\n    <result column=\"name\" property=\"name\" />\n</resultMap>\n\n\u304c\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u4eca\u56de\u306ftype=\"jp.co.kenshu.entity.Test\"\u3067\u3059\u306d\u3002\n\u3053\u308c\u3067\u6e96\u5099\u306f\u5b8c\u4e86\u3067\u3059\u3002\nhttp://localhost:8080/SpringKenshu/test/\n\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u5168\u4ef6\u53d6\u5f97\u3067\u304d\u307e\u3057\u305f\u304b\uff1f\uff1f\n\n2. where\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\n\n\u6700\u521d\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u3001where\u53e5\u306bid\u3068\u3044\u3046int\u5024\u3092\u6e21\u3057\u3066\u3044\u307e\u3057\u305f\u3002\nwhere id = #{id}\n\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3057\u3001\u305d\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304b\u3089\u53d6\u5f97\u3057\u305fint\u5024\u3092\u6e21\u3059\u306b\u306f\u3069\u3046\u3057\u305f\u3089\u826f\u3044\u3067\u3057\u3087\u3046\u304b\uff1f\uff1f\n\u3053\u3053\u3067\u4f5c\u6210\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u306f\u6700\u521d\u306b\u4f5c\u3063\u305f\u753b\u9762\u3068\u898b\u305f\u76ee\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002\nURL\u306f\u7570\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\u65e9\u901f\u4f5c\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u306fController\u304b\u3089\u3002\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n@RequestMapping(value = \"/test/dto/{id}\", method = RequestMethod.GET)\npublic String testDto(Model model, @PathVariable int id) {\n    TestDto dto = new TestDto();\n    dto.setId(id);\n    TestDto test = testService.getTestByDto(dto);\n    model.addAttribute(\"message\", \"MyBatis\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\");\n    model.addAttribute(\"test\", test);\n    return \"test\";\n}\n\n\u4eca\u56de\u306f/test/dto/{id}\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u306e\u3067\u3001/test/dto/2\u3068\u304b\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u306d\u3002\n{id}\u3067\u6e21\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092@PathVariable int id\u306b\u3088\u308a\u3001\u5909\u6570id\u3067\u53d7\u3051\u3066\u3044\u307e\u3059\u3002\n\u6b21\u306b\nTestDto dto = new TestDto();\ndto.setId(id);\n\n\u3067\u6e21\u3055\u308c\u305fid\u3092Dto\u306b\u8a70\u3081\u3066\u307e\u3059\u3002\n\u305d\u3057\u3066\nTestDto test = testService.getTestByDto(dto);\n\n\u3068\u3057\u3001service\u306egetTestByDto\u30e1\u30bd\u30c3\u30c9\u306bdto\u3092\u5f15\u6570\u3068\u3057\u3066\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\u7d9a\u3044\u3066\u3001Service\u3002\n\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3092TestService\u306b\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\npublic TestDto getTestByDto(TestDto dto) {\n    Test entity = testMapper.getTestByDto(dto);\n    BeanUtils.copyProperties(entity, dto);\n    return dto;\n}\n\n\u5f15\u6570\u304cdto\u306b\u306a\u3063\u305f\u3060\u3051\u3067\u3059\u3002\n\u3067\u306f\u6700\u5f8c\u306bMapper\u3002\nTestMapper.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\nTest getTestByDto(TestDto dto);\n\nTestMapper.xml\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n<select id=\"getTestByDto\" resultMap=\"TestResult\">\n    select id, name\n    from test\n    where id = #{id}\n</select>\n\nparameterType\u304c\u898b\u5f53\u305f\u3089\u306a\u3044\u3067\u3059\u306d\u3002\n\u4eca\u56de\u3082\u3088\u3057\u306a\u306b\u3084\u3063\u3066\u304f\u308c\u3066\u307e\u3059\u3002\nTestMapper.java\u306e\u307b\u3046\u3067\nTest getTestByDto(TestDto dto);\n\n\u3068\u3057\u3066\u3044\u308b\u305f\u3081\u3001dto\u3060\u3068\u89e3\u91c8\u3055\u308c\u3066\u3044\u308b\u306e\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n#{id}\u306fdto\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306a\u306e\u3067\u3001\u305d\u308c\u304c\u8aad\u307f\u3068\u3089\u308c\u3066\u3044\u307e\u3059\u3002\n\u6e96\u5099\u5b8c\u4e86\u3067\u3059\u3002\n\u3067\u306f\u3001http://localhost:8080/SpringKenshu/test/dto/1\n\u203bid=1\u306e\u4eba\u304cinsert\u3055\u308c\u3066\u3044\u308c\u3070\u3044\u3051\u307e\u3059\u3002\n\n3. Insert\u30b5\u30f3\u30d7\u30eb\n\n\u6b21\u306bInsert\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u3064\u304f\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4e00\u4ef6\u633f\u5165\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\u6700\u521d\u306bGET\u3067\u5165\u529b\u753b\u9762\u3092\u8868\u793a\u3057\u3001Controller\u306b\u60c5\u5831\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002\nController\u306f\u53d7\u3051\u53d6\u3063\u305fname\u3092DB\u306b\u633f\u5165\u3057\u3001\u5b8c\u4e86\u5f8c\u3001\u5168\u4ef6\u53d6\u5f97\u753b\u9762\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u307e\u3059\u3002\n\u30a4\u30e1\u30fc\u30b8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002\n\n\n\u3053\u3053\u3067\u5165\u529b\u3057\u305f\u540d\u524d\u304c\u9001\u4fe1\u3055\u308c\u307e\u3059\u3002\n\n\u767b\u9332\u304c\u5b8c\u4e86\u3059\u308b\u3068\u5168\u4ef6\u53d6\u5f97\u306e\u753b\u9762(/test/)\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u307e\u3059\u3002\n\u3055\u3063\u305d\u304f\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u306fController\u3067\u3059\u3002\nTestController\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n@RequestMapping(value = \"/test/insert/input/\", method = RequestMethod.GET)\npublic String testInsert(Model model) {\n    TestForm form = new TestForm();\n    model.addAttribute(\"testForm\", form);\n    model.addAttribute(\"message\", \"MyBatis\u306einsert\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\");\n    return \"testInsert\";\n}\n\n@RequestMapping(value = \"/test/insert/input/\", method = RequestMethod.POST)\npublic String testInsert(@ModelAttribute TestForm form, Model model) {\n    int count = testService.insertTest(form.getName());\n    Logger.getLogger(TestController.class).log(Level.INFO, \"\u633f\u5165\u4ef6\u6570\u306f\" + count + \"\u4ef6\u3067\u3059\u3002\");\n    return \"redirect:/test/\";\n}\n\nGET\u304c\u4eca\u56de\u306e\u5165\u308a\u53e3\u753b\u9762\u3067\u3059\u3002\nJSP\u3067modelAttribute\u306e\u8a2d\u5b9a\u304cform:form\u306b\u3057\u3066\u3042\u308b\u306e\u3067\u3001model\u306b\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\ntestInsert.jsp\u306bforward\u3057\u3066\u307e\u3059\u3002\n\u3067\u306ftestInsert.jsp\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n<!DOCTYPE html>\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n    pageEncoding=\"UTF-8\"%>\n<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>Welcome</title>\n</head>\n<body>\n    <h1>${message}</h1>\n    <form:form modelAttribute=\"testForm\">\n        <form:input path=\"name\" />\n        <input type=\"submit\">\n    </form:form>\n</body>\n</html>\n\ntestForm\u304cform\u767a\u884c\u6642\u306b\u6e21\u3055\u308c\u307e\u3059\u3002\u30c6\u30ad\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u306e\u5024\u306f\u300cid\u300d\u3068\u3044\u3046\u540d\u524d\u3067TestForm.java\u306b\u30d0\u30a4\u30f3\u30c9\u3055\u308c\u307e\u3059\u3002\nForm\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u5148\u304c\u7701\u7565\u3057\u3066\u3042\u308b\u306e\u3067\u3001\u4eca\u8868\u793a\u3055\u308c\u3066\u308bURL\u306b\u5bfe\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u3055\u308c\u307e\u3059\u3002\n\u306a\u306e\u3067\u3001/test/insert/input/\u306b\u5bfe\u3057\u3066\u3001\u4eca\u56de\u306fPOST\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u3002\nTestController\u306ePOST\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n@RequestMapping(value = \"/test/insert/input/\", method = RequestMethod.POST)\npublic String testInsert(@ModelAttribute TestForm form, Model model) {\n    int count = testService.insertTest(form.getName());\n    Logger.getLogger(TestController.class).log(Level.INFO, \"\u633f\u5165\u4ef6\u6570\u306f\" + count + \"\u4ef6\u3067\u3059\u3002\");\n    return \"redirect:/test/\";\n}\n\nService\u3092\u547c\u3093\u3067\u3001insert\u6210\u529f\u3057\u305f\u4ef6\u6570\u3092log\u306b\u5410\u304d\u51fa\u3057\u3066\u308b\u3060\u3051\u3067\u3059\u306d\u3002\n\u305f\u3060\u3001\u6700\u5f8c\u306b\nreturn \"redirect:/test/\";\n\n\u3068\u3057\u3066\u307e\u3059\u3002\nSpringMVC\u3067redirect\u3059\u308b\u5834\u5408\u306f\u3001\u300credirect:\u300d\u3068\u66f8\u3044\u3066\u3001\u305d\u306e\u5f8c\u306b\u9077\u79fb\u5148\u3092\u66f8\u304f\u3060\u3051\u3067\u3059\u3002\n\u4eca\u56de\u306f\u300c/test/\u300d\u3068\u3057\u3066\u3044\u308b\u306e\u3067\u3001@RequestMapping\u306evalue\u306b\u300c/test/\u300d\u3068\u8a18\u8ff0\u3055\u308c\u3066\u308bController\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u308f\u3051\u3067\u3059\u3002\n\u7d9a\u3044\u3066Service\u3067\u3059\u3002\nTestService.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002\npublic int insertTest(String name) {\n    int count = testMapper.insertTest(name);\n    return count;\n}\n\nMapper\u306einsertTest\u30e1\u30bd\u30c3\u30c9\u306bname\u3092\u6e21\u3057\u3001\u623b\u308a\u5024\u3092\u305d\u306e\u307e\u307ereturn\u3057\u3066\u308b\u3060\u3051\u3067\u3059\u306d\u3002\n\u3067\u306fTestMapper.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nint insertTest(String name);\n\n\u8ffd\u52a0\u3057\u305f\u3089TestMapper.xml\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n<insert id=\"insertTest\" parameterType=\"String\">\n    insert into test(name) values (#{name})\n</insert>\n\n\u975e\u5e38\u306b\u5358\u7d14\u3067\u3059\u3002parameterType\u306bString\u3092\u6307\u5b9a\u3057\u3001\u53d7\u3051\u53d6\u3063\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092#{name}\u3067\u53c2\u7167\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\nid\u306fauto_increment\u306a\u306e\u3067\u6307\u5b9a\u3057\u306a\u304f\u3066\u3082\u81ea\u52d5\u63a1\u756a\u3055\u308c\u307e\u3059\u3002\n\u3053\u3046\u66f8\u304f\u3060\u3051\u3067\u633f\u5165\u6210\u529f\u4ef6\u6570\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\u3067\u306f\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nhttp://localhost:8080/SpringKenshu/test/insert/input/\n\n4. delete\u306e\u30b5\u30f3\u30d7\u30eb\n\n\u6b21\u306fdelete\u3067\u3059\u3002\u3055\u304f\u3055\u304f\u884c\u304d\u307e\u3057\u3087\u3046\u3002\ndekete\u306f\u300cinsert\u300d\u306e\u6587\u5b57\u5217\u304cdelete\u306b\u306a\u3063\u305f\u3060\u3051\u3067\u3059\u3002\n\u305f\u3060\u3057\u3001input\u753b\u9762\u3067\u5165\u529b\u3059\u308b\u306e\u306fID\u3067\u3059\u3002\n\u3042\u3068\u3001\u5168\u4ef6\u53d6\u5f97\u753b\u9762\u3067ID\u3082\u8868\u793a\u3055\u305b\u3066\u304a\u304f\u3068\u524a\u9664\u306e\u52d5\u4f5c\u78ba\u8a8d\u304c\u3057\u3084\u3059\u304b\u3063\u305f\u306e\u3067\u3001\ntestAll.jsp\u3092\u4ee5\u4e0b\u306b\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\n<c:forEach items=\"${tests}\" var=\"test\">\n    <p><c:out value=\"${test.id}\"></c:out> : <c:out value=\"${test.name}\"></c:out></p>\n</c:forEach>\n\ndelete\u306e\u5165\u308a\u53e3\u753b\u9762\u3068\u3057\u3066\u306f\u3001\u3053\u3093\u306a\u611f\u3058\n\nsubmit\u3059\u308b\u3068\u2026\n\n\n\u203bID\u3082\u8868\u793a\u3055\u308c\u3066\u307e\u3059\u306d\u3002\n\u3055\u3063\u305d\u304f\u4f5c\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u306fJSP\u3067\u3059\u3002testDelete.jsp\u3092\u4f5c\u6210\n<!DOCTYPE html>\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n    pageEncoding=\"UTF-8\"%>\n<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>Welcome</title>\n</head>\n<body>\n    <h1>${message}</h1>\n    <form:form modelAttribute=\"testForm\">\n        ID:<form:input path=\"id\" />\n        <input type=\"submit\">\n    </form:form>\n</body>\n</html>\n\n\u6b21\u306bController\u3067\u3059\u3002TestController.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n@RequestMapping(value = \"/test/delete/input/\", method = RequestMethod.GET)\npublic String testDelete(Model model) {\n    TestForm form = new TestForm();\n    model.addAttribute(\"testForm\", form);\n    model.addAttribute(\"message\", \"MyBatis\u306edelete\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\");\n    return \"testDelete\";\n}\n\n@RequestMapping(value = \"/test/delete/input/\", method = RequestMethod.POST)\npublic String testDelete(@ModelAttribute TestForm form, Model model) {\n    int count = testService.deleteTest(form.getId());\n    Logger.getLogger(TestController.class).log(Level.INFO, \"\u524a\u9664\u4ef6\u6570\u306f\" + count + \"\u4ef6\u3067\u3059\u3002\");\n    return \"redirect:/test/\";\n}\n\n\u4eca\u56de\u306f\u300c/test/delete/input/\u300d\u3067\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u307e\u3059\u306d\u3002\nINSERT\u3068\u307b\u3068\u3093\u3069\u5909\u308f\u308a\u307e\u305b\u3093\u3002\nService\u306b\u884c\u304d\u307e\u3059\u3002\nTestService.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\npublic int deleteTest(int id) {\n    int count = testMapper.deleteTest(id);\n    return count;\n}\n\nid\u3092\u5f15\u6570\u306b\u53d7\u53d6\u3001testMapper\u306edeleteTest\u3092\u30b3\u30fc\u30eb\u3057\u3066\u307e\u3059\u3002\n\u3067\u306fMapper\u306b\u3044\u304d\u307e\u3057\u3087\u3046\u3002\nTestMapper.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\nint deleteTest(int id);\n\n\u305d\u3057\u305f\u3089TestMapper.xml\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3057\u3087\u3046\u3002\n<delete id=\"deleteTest\" parameterType=\"int\">\n    delete from test where id = #{id}\n</delete>\n\n\u3053\u308c\u3067\u6e96\u5099\u5b8c\u4e86\u3067\u3059\u3002\nhttp://localhost:8080/SpringKenshu/test/delete/input/\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u3088\u3046\u3002\n\n5. update\u306e\u30b5\u30f3\u30d7\u30eb\n\n\u6700\u5f8c\u306fupdate\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\u66f4\u65b0\u306e\u51e6\u7406\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u3001\u307e\u305atestAll.jsp\u306b\u30ea\u30f3\u30af\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\n\n\u300c\u7de8\u96c6\u300d\u30ea\u30f3\u30af\u3067\u3059\u3002\n\u3053\u308c\u3092\u62bc\u3059\u3068\u3001\n\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u7de8\u96c6\u3057\u305f\u3044test\u306e\u753b\u9762\u306b\u9077\u79fb\u3057\u307e\u3059\u3002\nname\u3060\u3051\u304c\u66f4\u65b0\u53ef\u80fd\u306a\u306e\u3067\u3001\u540d\u524d\u3092\u30c6\u30ad\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306f\u3053\u306efuga\u3055\u3093\u3092hogehogehoge\u3055\u3093\u306b\u5909\u3048\u3066\u307f\u307e\u3059\u3002ID\u306f18\u3067\u3059\u3088\u3002\n\n\n\u5909\u308f\u308a\u307e\u3057\u305f\u306d\uff01\uff01\n\u203b\u4eca\u56de\u3082\u66f4\u65b0\u304c\u5b8c\u4e86\u3057\u305f\u3089testAll\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u307e\u3059\u3002\n\u3067\u306f\u4f5c\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u306ftestAll.jsp\u306e\u6539\u826f\u3067\u3059\u3002\n<c:forEach items=\"${tests}\" var=\"test\">\n    <p><c:out value=\"${test.id}\"></c:out> : <c:out value=\"${test.name}\"></c:out><ahref=\"${pageContext.request.contextPath}/test/update/input/${test.id}/\">\u7de8\u96c6</a></p>\n</c:forEach>\n\na\u30bf\u30b0\u3092\u8ffd\u52a0\u3057\u305f\u3060\u3051\u3067\u3059\u3002\n<ahref=\"${pageContext.request.contextPath}/test/update/input/${test.id}/\">\u7de8\u96c6</a>\n\n\u66f4\u65b0\u3057\u305f\u3044test\u306eid\u3092URL\u30d9\u30fc\u30b9\u306e\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066\u6e21\u3057\u3066\u307e\u3059\u3002\n\u6b21\u306btestUpdate.jsp\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n<!DOCTYPE html>\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n    pageEncoding=\"UTF-8\"%>\n<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>Welcome</title>\n</head>\n<body>\n    <h1>${message}</h1>\n    Name\u3092\u66f4\u65b0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n    <form:form modelAttribute=\"testForm\">\n        <p>ID: ${test.id}</p>\n        <p>NAME: <form:input path=\"name\"/></p>\n        <input type=\"submit\">\n    </form:form>\n</body>\n</html>\n\nall\u753b\u9762\u3067\u9078\u629e\u3057\u305fID\u3092\u3082\u3068\u306b\u3001Controller\u3067\u5bfe\u8c61test\u306e\u4e00\u4ef6\u5206\u30c7\u30fc\u30bf\u3092DB\u304b\u3089\u53d6\u5f97\u3057\u3066\u307e\u3059\u3002\n\u53d6\u5f97\u3057\u305f\u60c5\u5831\u3092modelAttribute\u3057\u3066\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001form\u3092submit\u3059\u308b\u3068\u3001\u300c/test/update/input/{id}/\u300d\u306ePOST\u30e1\u30bd\u30c3\u30c9\u306b\u51e6\u7406\u304c\u79fb\u308a\u307e\u3059\u3002\n\u3067\u306fTestController\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3057\u3087\u3046\u3002\n\n@RequestMapping(value = \"/test/update/input/{id}/\", method = RequestMethod.GET)\npublic String testUpdate(Model model, @PathVariable int id) {\n    TestDto test = testService.getTest(id);\n    model.addAttribute(\"message\", \"MyBatis\u306eUpdate\u30b5\u30f3\u30d7\u30eb\u3067\u3059\");\n    model.addAttribute(\"test\", test);\n    TestForm form = new TestForm();\n    form.setId(test.getId());\n    form.setName(test.getName());\n    model.addAttribute(\"testForm\", form);\n    return \"testUpdate\";\n}\n\n@RequestMapping(value = \"/test/update/input/{id}/\", method = RequestMethod.POST)\npublic String testUpdate(Model model, @ModelAttribute TestForm form) {\n    TestDto dto = new TestDto();\n    BeanUtils.copyProperties(form, dto);\n    int count = testService.updateTest(dto);\n    Logger.getLogger(TestController.class).log(Level.INFO, \"\u66f4\u65b0\u4ef6\u6570\u306f\" + count + \"\u4ef6\u3067\u3059\u3002\");\n    return \"redirect:/test/\";\n}\n\nForm\u304b\u3089\u53d7\u3051\u3068\u3063\u305f\u60c5\u5831\u3092Dto\u306b\u30b3\u30d4\u30fc\u3057\u3001TestService\u306eupdateTest\u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u3057\u3066\u307e\u3059\u3002\n\u51e6\u7406\u304c\u5b8c\u4e86\u3057\u305f\u3089testAll\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u3059\u3002\nTestService\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3057\u3087\u3046\u3002\npublic int updateTest(TestDto dto) {\n    int count = testMapper.updateTest(dto);\n    return count;\n}\n\n\u66f4\u65b0\u4ef6\u6570\u3092return\u3057\u3066\u307e\u3059\u306d\u3002\nTestMapper.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3057\u3087\u3046\u3002\nint updateTest(TestDto dto);\n\n\u8ffd\u8a18\u3057\u305f\u3089\u3001\u4f8b\u306b\u3088\u3063\u3066TestMapper.xml\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n<update id=\"updateTest\">\n    update test set name = #{name} where id = #{id}\n</update>\n\nUpdate\u3082\u975e\u5e38\u306b\u7c21\u5358\u3067\u3059\u3002\u57fa\u672c\u7684\u306b\u306finsert\u3001delete\u3068\u69cb\u6587\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002\nTestMapper.java\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3001TestDto\u306b\u5fdc\u3058\u3066\u3001#{}\u304c\u5c55\u958b\u3055\u308c\u308b\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002\n\u4ee5\u4e0a\u3067\u304a\u4ed5\u821e\u3044\u3067\u3059\u3002\n\u4eca\u5f8c\u306f\u4f55\u304b\u30c8\u30d4\u30c3\u30af\u304c\u3042\u3063\u305f\u3089\u8ffd\u52a0\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nRoo\u3068\u304b\u3002Transaction\u3068\u304b\u3001\u8272\u3005\u8003\u3048\u3066\u307e\u3059\u3002\n\n\u5099\u5fd8\n\u8f09\u305b\u305f\u304b\u3063\u305f\u3051\u3069\u3001\u66f8\u304f\u306e\u304c\u5104\u52ab\u3060\u3063\u305f\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305a\u7c21\u5358\u306b\u8f09\u305b\u305f\u3044\u4e8b\u9805\n\nLIKE\u691c\u7d22\n<!-- String\u6587\u5b57\u3092\u305d\u306e\u307e\u307e\u6e21\u3059\u5834\u5408\u3001${value}\u3068\u66f8\u304f\u3002\u3053\u308c\u306fString\u30af\u30e9\u30b9\u306evalue(\u30d7\u30ed\u30d1\u30c6\u30a3)\u3092\u6e21\u3059\u3063\u3066\u89e3\u91c8\u306b\u306a\u308b\u3089\u3057\u3044 -->\n<!-- #\u306f\u5c55\u958b\u3055\u308c\u305f\u6587\u5b57\u5217\u304c\u300c''\u300d\u3067\u62ec\u3089\u308c\u308b\u3002$\u306f\u6587\u5b57\u5217\u3092\u305d\u306e\u307e\u307e\u6e21\u3059 -->\n<select id=\"getTestLike\" resultMap=\"TestResult\">\n    select id, name from test\n    where name like '%${value}%'\n</select>\n\n\nCDATA\n!-- Dto\u304b\u3089\u691c\u7d22\u3059\u308b\u3068\u304d\u306f\u3001\u305d\u306e\u307e\u307e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u3092\u6e21\u305b\u308b -->\n<!-- CDATA\u306f\u30de\u30fc\u30af\u30a2\u30c3\u30d7\u3067\u306f\u306a\u304f\u3001\u300c\u7d14\u7c8b\u306a\u6587\u5b57\u5217\u300d\u3068\u3057\u3066\u6271\u308f\u305b\u308b\u3068\u304d\u306b\u4f7f\u3044\u307e\u3059\u3002\u300c>\u300d\u306f\u30bf\u30b0\u6587\u5b57\u306a\u306e\u3067\u3002 -->\n<select id=\"getTestLikeDto\" resultMap=\"TestResult\">\n<![CDATA[\n    select id, name from test\n    where name like '%${name}%'\n    and id > 17\n]]>\n\n\u3061\u3087\u3063\u3068LIKE\u691c\u7d22\u306e\u8a71\u3082\u6df7\u3058\u3063\u3066\u308b\u3051\u3069\u3001\nString\u3092\u6e21\u3059\u6642\u3068\u9055\u3063\u3066\u3001\n'%${name}%'\n\nname\u3092\u6e21\u3057\u3066\u308b\u3002\u30aa\u30d6\u30b8\u30a7\u30c8\u304c\u30d1\u30e9\u30e1\u30fc\u30bf\u3060\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u305d\u306e\u307e\u307e\u6e21\u305b\u308b\n<![CDATA[\n]]>\n\n\u3053\u308c\u306f\u3001XML\u306e\u6a5f\u69cb\u3002XML\u4e2d\u306b\u300c>\u300d\u3084\u300c<\u300d\u306a\u3069\u306eXML\u306b\u666e\u6bb5\u4f7f\u3046\u3088\u3046\u306a\u6587\u5b57\u5217\u306f\u300c\u7d14\u7c8b\u306b\u6587\u5b57\u5217\u300d\u3068\u3057\u3066\u8a18\u8ff0\u3057\u306a\u3044\u3068XML\u306e\u69cb\u6587\u6271\u3044\u3055\u308c\u308b\u3002\n\u306a\u306e\u3067\u3001\u6587\u5b57\u5217\u6271\u3044\u3059\u308b\u305f\u3081\u306b\u3053\u308c\u3092\u6307\u5b9a\u3059\u308b\u3002\n\nMapper.xml\u306e\u300cparameterType\u300d\u306e\u7701\u7565\n\u30cf\u30f3\u30ba\u30aa\u30f3\u306e\u4f8b\u3067\u306ftestMapper.xml\u306b\u300cparameterType\u300d\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u8a18\u8ff0\u3082\u3042\u308b\u304c\u3001\u3053\u308c\u306f\u66f8\u304b\u306a\u304f\u3066\u3082\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u3088\u308b\u3068\u3001parameterType\u306fMapper.java\u306e\u65b9\u3067\u6307\u5b9a\u3057\u305f\u5f15\u6570\u306e\u578b\u3092\u53c2\u7167\u3059\u308b\u305f\u3081\u3001\u81ea\u52d5\u3067\u5c0e\u51fa\u3059\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\u306a\u306e\u3067\u3042\u3063\u3066\u3082\u306a\u304f\u3066\u3082\u826f\u3044\u3089\u3057\u3044\u3002\nhttps://mybatis.github.io/mybatis-3/ja/sqlmap-xml.html\n\nMapper.xml\u306e\u914d\u7f6e\u306b\u3064\u3044\u3066\n\u4eca\u56de\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306fMapper\u306ejava\u30d5\u30a1\u30a4\u30eb\u3068xml\u30d5\u30a1\u30a4\u30eb\u3092\u540c\u3058\u968e\u5c64\u306b\u914d\u7f6e\u3057\u3066\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001java\u30d5\u30a1\u30a4\u30eb\u3068\u30ea\u30bd\u30fc\u30b9\u3067\u3042\u308bxml\u3092\u540c\u3058\u968e\u5c64\u306b\u7f6e\u304f\u306e\u306f\u597d\u307e\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002\n\u3067\u306f\u3001\u3069\u3046\u3059\u308b\u304b\u3001\u4eca\u56de\u3001\u300cmvc-config.xml\u300d\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a18\u8ff0\u304c\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n<!-- \u3069\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092mapper\u3068\u3057\u3066\u8a8d\u8b58\u3059\u308b\u304b\u306e\u8a2d\u5b9a -->\n<bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\">\n    <property name=\"basePackage\" value=\"jp.co.kenshu.mapper\" />\n</bean>\n\n\u3053\u308c\u306fsrc\u30d5\u30a9\u30eb\u30c0\u306b\u9650\u3063\u305f\u8a71\u3067\u306f\u306a\u3044\u306e\u3067\u3001resource\u306b\u540c\u3058\u968e\u5c64\u3092\u6398\u308c\u3070xml\u3060\u3051resource\u2193\u306e\u300cjp.co.kenshu.mapper\u300d\u306b\u914d\u7f6e\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\u3053\u308c\u3067java\u3068xml\u3092\u6df7\u5728\u3055\u305b\u306a\u3044\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\n# Spring4\u52c9\u5f37\u4f1a \u7b2c\u56db\u56de\n\n[\u7b2c\u4e00\u56de](http://qiita.com/yu_eguchi/items/9a56e6c6281c1f0435ff)\u306f\u74b0\u5883\u69cb\u7bc9\u304b\u3089\u7c21\u5358\u306a\u5024\u306e\u53d7\u3051\u6e21\u3057\u307e\u3067\n[\u7b2c\u4e8c\u56de](http://qiita.com/yu_eguchi/items/1f7e12d723cafaa7db0a)\u306f\u8272\u3005\u306aFORM\u3068\u306e\u9023\u643a\n[\u7b2c\u4e09\u56de](http://qiita.com/yu_eguchi/items/5a1b2ae46ff803b020bf)\u306fValidator\u306e\u5b9f\u88c5\u3068\u65e5\u672c\u8a9e\u5bfe\u5fdc\n\n\u305d\u3057\u3066\u4eca\u56de\u306f\u3044\u3088\u3044\u3088OR\u30de\u30c3\u30d1\u30fcMyBatis\u3068\u306e\u9023\u643a\u3002DB\u3067\u3059\u3002\nSpring\u306e\u5165\u9580\u306f\u3053\u308c\u3067\u7d42\u308f\u308d\u3046\u3068\u601d\u3063\u3066\u307e\u3059\u3002\n\nINDEX\u306f\u4ee5\u4e0b\n\n* MyBatis\u3068\u306f\n* \u74b0\u5883\u69cb\u7bc9\n* \u89e3\u8aac1\n* \u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\n* \u89e3\u8aac2\n* \u6a5f\u80fd\u306e\u8ffd\u52a0\n* \u89e3\u8aac3\n* \u7df4\u7fd2\u554f\u984c\n\n\u3067\u3059\u3002\n\n# MyBatis\u3068\u306f\n\n![alt](http://mybatis.github.io/images/mybatis-logo.png)\n\n**MyBatis**\nMyBatis \u306f\u30ab\u30b9\u30bf\u30e0 SQL\u3001\u30b9\u30c8\u30a2\u30c9\u30d7\u30ed\u30b7\u30fc\u30b8\u30e3\u3001\u9ad8\u5ea6\u306a\u30de\u30c3\u30d4\u30f3\u30b0\u51e6\u7406\u306b\u5bfe\u5fdc\u3057\u305f\u512a\u308c\u305f\u6c38\u7d9a\u5316\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002 MyBatis\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u76f4\u63a5 JDBC \u3092\u6271\u3046\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u305f\u308a\u3001\u30af\u30a8\u30ea\u5f15\u6570\u3084\u30af\u30a8\u30ea\u7d50\u679c\u3092\u624b\u52d5\u3067\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u307b\u3068\u3093\u3069\u306a\u304f\u306a\u308a\u307e\u3059\u3002 MyBatis \u306e\u8a2d\u5b9a\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30ec\u30b3\u30fc\u30c9\u3068 Java \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u95a2\u9023\u4ed8\u3051\u306f\u3001XML \u307e\u305f\u306f\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u203b\u2191[\u672c\u5bb6](https://mybatis.github.io/mybatis-3/ja/)\u5f15\u7528\n\n\u8981\u306fOR\u30de\u30c3\u30d1\u3067\u3059\u3002\n\n\u3057\u304b\u3057\u3001\u4eca\u56de\u4f7f\u3046\u306e\u306f\u3001\u3082\u3046\u4e00\u3064\n\n![alt](http://mybatis.github.io/images/mybatis-logo.png)\n**MyBatis-Spring**\n\n***MyBatis-Spring \u3068\u306f\uff1f***\nMyBatis-Spring \u306b\u3088\u3063\u3066 MyBatis \u3068 Spring \u3092\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u9023\u643a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3048\u3070\u3001MyBatis \u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092 Spring \u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u5185\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3057\u3001Mapper \u3084 SqlSession \u306e\u751f\u6210\u3001\u4ed6\u306e Bean \u3078\u306e\u6ce8\u5165\u3001MyBatis \u306e\u4f8b\u5916\u304b\u3089 Spring \u306e DataAccessException \u3078\u306e\u5909\u63db\u3001\u3055\u3089\u306b\u306f MyBatis \u3084 Spring, MyBatis-Spring \u306b\u4f9d\u5b58\u3057\u306a\u3044\u30b3\u30fc\u30c9\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\u203b\u2191[\u672c\u5bb6](http://mybatis.github.io/spring/ja/)\u5f15\u7528\n\n\u305d\u3057\u3066\u4eca\u56de\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u3001XML\u30d9\u30fc\u30b9\u306emapper\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n# \u74b0\u5883\u69cb\u7bc9\n\n\u74b0\u5883\u69cb\u7bc9\u306fpom.xml\u3068mvc-config.xml\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u306fpom\u304b\u3089\u2026\n\n\u30001. **pom.xml\u306e\u4fee\u6b63**\n\n\u4ee5\u4e0b\u306e\u4f9d\u5b58\u6027\u3092\u8ffd\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n<spring-jdbc.version>4.0.6.RELEASE</spring-jdbc.version>\n<!-- MyBatis -->\n<MyBatis.version>3.3.0</MyBatis.version>\n<!-- MyBatis Spring -->\n<MyBatis.Spring.version>1.2.2</MyBatis.Spring.version>\n<!-- Connector-J -->\n<MySqlConnector.version>5.1.34</MySqlConnector.version>\n<!-- CommonsDbcp -->\n<CommonsDbcp.version>2.1</CommonsDbcp.version>\n\n\n<!-- MyBatis -->\n<dependency>\n    <groupId>org.mybatis</groupId>\n    <artifactId>mybatis</artifactId>\n    <version>${MyBatis.version}</version>\n</dependency>\n<!-- MyBatis Spring -->\n<dependency>\n    <groupId>org.mybatis</groupId>\n    <artifactId>mybatis-spring</artifactId>\n    <version>${MyBatis.Spring.version}</version>\n</dependency>\n<!-- MySqlConnector -->\n<dependency>\n    <groupId>mysql</groupId>\n    <artifactId>mysql-connector-java</artifactId>\n    <version>${MySqlConnector.version}</version>\n</dependency>\n<!-- Commons-dbcp -->\n<dependency>\n    <groupId>org.apache.commons</groupId>\n    <artifactId>commons-dbcp2</artifactId>\n    <version>${CommonsDbcp.version}</version>\n</dependency>\n<!-- Spring JDBC -->\n<dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-jdbc</artifactId>\n    <version>${spring-jdbc.version}</version>\n</dependency>\n```\n\n\u66f8\u304d\u7d42\u308f\u3063\u305f\u3089\u3001Maven Install\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30002. **mvc-config.xml\u306e\u4fee\u6b63**\n\n\u4eca\u56de\u304c\u6700\u5f8c\u306a\u306e\u3067\u3001\u4eca\u307e\u3067\u306e\u3082\u8fbc\u307f\u3067\u30d5\u30eb\u3067\u306e\u305b\u307e\u3059\u3002\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\n\txmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n\txmlns:util=\"http://www.springframework.org/schema/util\"\n\txsi:schemaLocation=\"\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\n        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd\">\n\t<context:component-scan base-package=\"jp.co.kenshu\" />\n\t<mvc:annotation-driven />\n\t<bean id=\"messageSource\" class=\"org.springframework.context.support.ReloadableResourceBundleMessageSource\">\n\t   <property name=\"basename\" value=\"classpath:ValidatorMessages\" />\n\t</bean>\n\t<bean\n\t\tclass=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\n\t\t<!-- Example: a logical view name of 'showMessage' is mapped to '/WEB-INF/jsp/showMessage.jsp' -->\n\t\t<property name=\"prefix\" value=\"/WEB-INF/view/\" />\n\t\t<property name=\"suffix\" value=\".jsp\" />\n\t</bean>\n\t<!-- DataSource -->\n\t<bean id=\"dataSource\" class=\"org.apache.commons.dbcp2.BasicDataSource\">\n\t\t<property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" />\n\t\t<property name=\"url\" value=\"jdbc:mysql://localhost/test\" />\n\t\t<property name=\"username\" value=\"\u3010MySql\u306eUSER\u3011\" />\n\t\t<property name=\"password\" value=\"\u3010MySql\u306ePASSWORD\u3011\" />\n\t</bean>\n\t<bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\">\n\t\t<property name=\"dataSource\" ref=\"dataSource\" />\n\t</bean>\n\t<bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\">\n\t\t<property name=\"basePackage\" value=\"jp.co.kenshu.mapper\" />\n\t\t<property name=\"sqlSessionFactoryBeanName\" value=\"sqlSessionFactory\" />\n\t</bean>\n\t<bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\">\n\t\t<property name=\"basePackage\" value=\"jp.co.kenshu.mapper\" />\n\t</bean>\n\t<bean id=\"transactionManager\"\n\t\tclass=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\">\n\t\t<property name=\"dataSource\" ref=\"dataSource\" />\n\t</bean>\n</beans>\n```\n\n\u5b8c\u4e86\u3067\u3059\u3002\nMySql\u306e\u8a2d\u5b9a\u306f\u5404\u81ea\u3067\u30e6\u30fc\u30b6\u30fc\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u7570\u306a\u308b\u306e\u3067\u5f53\u3066\u306f\u3081\u3066\u304f\u3060\u3055\u3044\uff01\uff01\n\n\n# \u89e3\u8aac1\n\n\u4eca\u56depom\u306b\u8a2d\u5b9a\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u56db\u3064\u3067\u3059\u3002\n\n* Mybatis\n\n\u5c0e\u5165\u3067\u3042\u3063\u305f\u3088\u3046\u306bORM\u3067\u3059\u3002\n\n* MyBatis-Spring\n\n\u5c0e\u5165\u3067\u3042\u3063\u305f\u3088\u3046\u306b\u3001Spring\u3068\u9023\u643a\u3057\u305fMyBatis\u3067\u3059\u3002\n\n* mysql-connector-java\n\n\u304a\u99b4\u67d3\u307f\u306eMySql\u306eJDBC\u30c9\u30e9\u30a4\u30d0\u30fc\u3067\u3059\u3002\n\u4f59\u8ac7\u3067\u3059\u304c\u30015.1.34\u306b\u3057\u305f\u306e\u3067\u3001setBlob\u304c\u4f7f\u3048\u307e\u3059\u3002\u4eca\u56deServlet\u30823\u7cfb\u306a\u306e\u3067\u3001@MultipartConfig\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u624b\u8efd\u306b\u753b\u50cf\u304c\u6271\u3048\u307e\u3059\u3002\n\n* commons-dbcp\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30fb\u30d7\u30fc\u30ea\u30f3\u30b0\u3092\u6271\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\n\n* Spring JDBC\n\nSpring\u3067JDBC\u3092\u6271\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\n\n# \u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\n\n\u3055\u3063\u305d\u304f\u4f5c\u3063\u3066\u52d5\u304b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\nDB\u304b\u3089\u53d6\u5f97\u3057\u305fname\u3092\u8868\u793a\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n* * *\n\n![mybatis.png](https://qiita-image-store.s3.amazonaws.com/0/78857/65cc91c3-7602-6a16-f96f-8929ecedea6a.png)\n\n* * *\n\n\u307e\u305a\u306fMysql\u3092\u7acb\u3061\u4e0a\u3052\u3001\u4ee5\u4e0b\u306e\u74b0\u5883\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30001. **DB/TABLE\u306e\u4f5c\u6210**\n\n```\nuse test\nCREATE TABLE test (id int(11) PRIMARY KEY AUTO_INCREMENT,name varchar(255) NOT NULL);\n\u203b\u9069\u5f53\u306binsert\u3057\u3068\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n```\n\n\u6b21\u304b\u3089Spring\u306b\u623b\u308a\u307e\u3059\u3002Eclipse\u3067\u3059\u3002\n\n\u30002. **TestController\u306e\u4f5c\u6210**\n\n\u300cjp.co.kenshu.controller\u300d\u4e0b\u306b\u300cTestController.java\u300d\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u3068\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\npackage jp.co.kenshu.controller;\n\nimport jp.co.kenshu.dto.test.TestDto;\nimport jp.co.kenshu.service.TestService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n@Controller\npublic class TestController {\n\n\t@Autowired\n\tprivate TestService testService;\n\n\t@RequestMapping(value = \"/test/{id}\", method = RequestMethod.GET)\n\tpublic String test(Model model, @PathVariable int id) {\n\t\tTestDto test = testService.getTest(id);\n\t\tmodel.addAttribute(\"message\", \"MyBatis\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\");\n\t\tmodel.addAttribute(\"test\", test);\n\t\treturn \"test\";\n\t}\n}\n```\n\n\u4eca\u306f\u307e\u3060\u8d64\u304f\u3066\u826f\u3044\u3067\u3059\u3002\n\n\u30003. **JSP\u306e\u4f5c\u6210**\n\n\u300cWEB-INF/view\u300d\u4e0b\u306btest.jsp\u3092\u4f5c\u6210\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n<!DOCTYPE html>\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\">\n\t\t<title>Welcome</title>\n\t</head>\n\t<body>\n\t       <h1>${message}</h1>\n\t\t<h2>${test.name}</h2>\n\t</body>\n</html>\n```\n\n\u30004. **TestService.java\u306e\u4f5c\u6210**\n\n\u300cjp.co.kenshu.service\u300d\u4e0b\u306b\u300cTestService.java\u300d\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\npackage jp.co.kenshu.service;\n\nimport jp.co.kenshu.dto.test.TestDto;\nimport jp.co.kenshu.entity.Test;\nimport jp.co.kenshu.mapper.TestMapper;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class TestService {\n\n\t@Autowired\n\tprivate TestMapper testMapper;\n\n\tpublic TestDto getTest(Integer id) {\n\t\tTestDto dto = new TestDto();\n\t\tTest entity = testMapper.getTest(id);\n\t\tBeanUtils.copyProperties(entity, dto);\n\t\treturn dto;\n\t}\n\n}\n\n```\n\n\u30005. **TestMapper.java\u306e\u4f5c\u6210**\n\n\u300cjp.co.kenshu.mapper\u300d\u4e0b\u306bTestMapper.java\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\npackage jp.co.kenshu.mapper;\n\nimport jp.co.kenshu.entity.Test;\n\npublic interface TestMapper {\n\tTest getTest(int id);\n}\n```\n\n\u30006. **TestMapper.xml\u306e\u4f5c\u6210**\n\n\u300cjp.co.kenshu.mapper\u300d\u4e0b\u306b\u300cTestMapper.xml\u300d\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n\"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"jp.co.kenshu.mapper.TestMapper\">\n\t<resultMap id=\"TestResult\" type=\"jp.co.kenshu.entity.Test\">\n\t\t<result column=\"id\" property=\"id\" />\n\t\t<result column=\"name\" property=\"name\" />\n\t</resultMap>\n\t<select id=\"getTest\" resultMap=\"TestResult\" parameterType=\"int\">\n\t\tselect id, name\n\t\tfrom test\n\t\twhere id = #{id}\n\t</select>\n</mapper>\n```\n\n\u30007. **Test.java(entity)\u306e\u4f5c\u6210**\n\n\u300cjp.co.kenshu.entity\u300d\u4e0b\u306b\u300cTest.java\u300d\u3092\u4f5c\u6210\u3059\u308b\n\n```\npackage jp.co.kenshu.entity;\n\nimport lombok.Data;\n\n@Data\npublic class Test {\n\tprivate Integer id;\n\tprivate String name;\n}\n```\n\n\u30008. **TestDto.java\u306e\u4f5c\u6210**\n\n\u300cjp.co.kenshu.dto.test\u300d\u4e0b\u306b\u300cTestDto.java\u300d\u3092\u4f5c\u6210\n\n```\npackage jp.co.kenshu.dto.test;\n\nimport lombok.Data;\n\n@Data\n\npublic class TestDto {\n\tprivate Integer id;\n\tprivate String name;\n}\n```\n\n\u3053\u308c\u3067\u6e96\u5099\u304c\u6574\u3044\u307e\u3057\u305f\u3002\n\u52d5\u304b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n[http://localhost:8080/SpringKenshu/test/1](http://localhost:8080/SpringKenshu/test/1)\u306b\u30a2\u30af\u30bb\u30b9\uff01\uff01\n\u203bMySql\u306bID\u304c1\u306e\u30e6\u30fc\u30b6\u30fc\u304cinsert\u3055\u308c\u3066\u3044\u306a\u3044\u3068\u52d5\u304d\u307e\u305b\u3093\u306e\u3067\u3001\u3042\u3057\u304b\u3089\u305a\u3002\n\n# \u89e3\u8aac2\n\n![\u56f3.png](https://qiita-image-store.s3.amazonaws.com/0/78857/5206207c-53ff-bad1-4657-db853a57e007.png)\n\n\u5168\u4f53\u50cf\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\nController\u304b\u3089Service\u7d4c\u7531\u3067Dao\u3092\u547c\u3073\u3001select\u7d50\u679c\u304centity\u306b\u8a70\u3081\u3089\u308c\u3066\u8fd4\u5374\u3055\u308c\u307e\u3059\u3002\n\u305d\u308c\u3092\u753b\u9762\u8868\u793a\u7528\u306bDto\u306b\u8a70\u3081\u3066\u3001JSP\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u30d0\u30a4\u30f3\u30c9\u3055\u308c\u3066\u8868\u793a\u3055\u308c\u308b(\u4eca\u56de\u306e\u753b\u9762\u30ad\u30e3\u30d7\u30c1\u30e3\u7684\u306b\u306fname\u304c\u300chogehoge\u300d)\u3002\n\u203b\u4eca\u56de\u306fJSP\u306e\u89e3\u8aac\u306f\u7701\u304d\u307e\u3059\u3002\n\n**\u3010Controller\u3011**\n\n```\n@Controller\npublic class TestController {\n\n\t@Autowired\n\tprivate TestService testService;\n\n\t@RequestMapping(value = \"/test/{id}\", method = RequestMethod.GET)\n\tpublic String test(Model model, @PathVariable int id) {\n\t\tTestDto test = testService.getTest(id);\n\t\tmodel.addAttribute(\"message\", \"MyBatis\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\");\n\t\tmodel.addAttribute(\"test\", test);\n\t\treturn \"test\";\n\t}\n}\n```\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3067\u76ee\u3092\u5f15\u304f\u306e\u306f\u3001\u307e\u305a\u3053\u308c\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\n```\n@Autowired\nprivate TestService testService;\n```\n\n\u3053\u308c\u306f***\u300cDI\u300d***\u3068\u547c\u3070\u308c\u308b\u6280\u8853\u304c\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002\nDI\u3068\u306f\u300c**Dependency Injection**\u300d\u306e\u7565\u3067\u3042\u308a\u3001\u300c**\u4f9d\u5b58\u6027\u306e\u6ce8\u5165**\u300d\u3068\u8a33\u3055\u308c\u307e\u3059\u3002\nDI\u3092\u4f7f\u3046\u3068\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u4e2d\u3067new(\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316)\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f7f\u3063\u3066\u5b9f\u30af\u30e9\u30b9\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u307e\u3059\n\u7c21\u5358\u306b\u8a00\u3063\u3066\u3057\u307e\u3046\u3068\u3001**\u5916\u90e8(DI\u30b3\u30f3\u30c6\u30ca)\u304b\u3089\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u6ce8\u5165(\u751f\u6210)\u3059\u308b\u3002xml\u306b\u305d\u306e\u8a2d\u5b9a\u3092\u8a18\u8ff0\u3059\u308b\u3002**\u3068\u306a\u308a\u307e\u3059\u3002\n\n[\u3053\u3053](http://blogs.yahoo.co.jp/dk521123/19708992.html)\u306e\u30b5\u30a4\u30c8\u304c\u500b\u4eba\u7684\u306b\u306f\u30a4\u30e1\u30fc\u30b8\u3057\u3084\u3059\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30d9\u30fc\u30b9\u3067DI\u6a5f\u80fd\u3092\u4f7f\u3046\u305f\u3081\u306b\u4e8b\u524d\u306bmvc-config.xml\u306b\u306f\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8a18\u8ff0\u3057\u3066\u307e\u3059\u3002\n\n```\n<context:component-scan base-package=\"jp.co.kenshu\" />\n<mvc:annotation-driven />\n```\n\n\u305d\u3057\u3066\u4eca\u56de\u306fTestService\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092DI\u3092\u4f7f\u3063\u3066\u6ce8\u5165\u3057\u3066\u3044\u308b\u305f\u3081\u3001\ntest\u30e1\u30bd\u30c3\u30c9\u306e\u4e2d\u3067\n\n```\nTestDto test = testService.getTest(1);\n```\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u3066\u3082NullPointerException\u306f\u767a\u751f\u3057\u307e\u305b\u3093\u3002\n\n\u307e\u305f\u3001\u4eca\u56de\u306f@Autowired\u3067Service\u306b\u4f9d\u5b58\u6027\u3092\u6ce8\u5165\u3059\u308b\u306b\u306f\u3001TestService\u306b\u3082\u300c**@Service**\u300d\u3068\u3044\u3046\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u3051\u3066\u304a\u304f\u3068\u3044\u3046\u898f\u7d04\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u308c\u306f\u5f8c\u8ff0\u3067\u3002\n\nController\u306f\u5358\u7d14\u306a\u51e6\u7406\u3057\u304b\u3057\u3066\u307e\u305b\u3093\u3002\n\n```\nTestDto test = testService.getTest(id);\n```\n\n\u3067Service\u7d4c\u7531\u3067\u53d6\u5f97\u3057\u305fDB\u30bb\u30ec\u30af\u30c8\u60c5\u5831\u3092TestDto\u3068\u3044\u3046\u5165\u308c\u7269\u306b\u8a70\u3081\u3066\u3042\u3052\u3066\u3001\n***\u203b\u300c\u30bb\u30ec\u30af\u30c8\u60c5\u5831\u300d\u3068\u306f\u3001select id, name from test where id = 1;\u306e\u53d6\u5f97\u7d50\u679c\u3067\u3059\u3002***\n\n```\nmodel.addAttribute(\"test\", test);\n```\n\n\u306e\u3088\u3046\u306b\u3001\u7d50\u679c\u3092\"test\"\u3068\u3044\u3046key\u5024\u3067model\u306bAttribute\u3057\u3066\u308b\u3060\u3051\u3067\u3059\u3002\n\n\u306a\u304a\u3001\u4eca\u56de\u306fURL\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a18\u8ff0\u304c\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```\n@RequestMapping(value = \"/test/dto/{id}\", method = RequestMethod.GET)\n```\n\n\u3053\u308c\u306e\u300c{id}\u300d\u306fURL\u306b\u5909\u6570\u3068\u3057\u3066id\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u3064\u307e\u308a\u3001\n\n```\nhttp://localhost:8080/SpringKenshu/test/17/\n```\n\u306f\n\n```\nhttp://localhost:8080/SpringKenshu/test/?id=17\n```\n\n\u3068\u540c\u7fa9\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3042\u3068\u306f\n\n```\npublic String testDto(Model model, @PathVariable int id) {\n```\n\n\u306e\n\n```\n@PathVariable int id\n```\n\n\u3067int\u306eid\u306b\u633f\u5165\u3055\u308c\u307e\u3059\u3002\n\n**\u3010Service\u3011**\n\n```\n@Service\npublic class TestService {\n\n\t@Autowired\n\tprivate TestMapper testMapper;\n\n\tpublic TestDto getTest(Integer id) {\n\t\tTestDto dto = new TestDto();\n\t\tTest entity = testMapper.getTest(id);\n\t\tBeanUtils.copyProperties(entity, dto);\n\t\treturn dto;\n\t}\n}\n```\n\nService\u3067\u884c\u3063\u3066\u3044\u308b\u3053\u3068\u306fMapper(Dao)\u7d4c\u7531\u3067\u53d6\u5f97\u3057\u305fentity\u3092\n\n```\nBeanUtils.copyProperties(entity, dto);\n```\n\n\u3092\u4f7f\u3063\u3066TestDto\u306b\u8a70\u3081\u66ff\u3048\u3066return\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\n\n\u307e\u305f\u3001Mapper\u3092\u4f7f\u3046\u969b\u306b\n\n```\n@Autowired\nprivate TestMapper testMapper;\n```\n\n\u306b\u3088\u3063\u3066\u3001**\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f7f\u3063\u3066\u5b9f\u30af\u30e9\u30b9\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316**\u3057\u3066\u3044\u307e\u3059\u3002\n\n**\u3010Mapper(Dao)\u3068mvc-config.xml\u3011**\n\n```\npublic interface TestMapper {\n\tTest getTest(int id);\n}\n```\n\nTestMapper.java\u306finterface\u3067\u3059\u3002\n\nmvc-config\u306b\u4ee5\u4e0b\u306e\u8a18\u8ff0\u304c\u3042\u308b\u304a\u304b\u3052\u3067\u3001\n\n```\n<!-- \u3069\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092mapper\u3068\u3057\u3066\u8a8d\u8b58\u3059\u308b\u304b\u306e\u8a2d\u5b9a -->\n<bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\">\n\t<property name=\"basePackage\" value=\"jp.co.kenshu.mapper\" />\n</bean>\n```\n\nmapper\u30d1\u30c3\u30b1\u30fc\u30b8\u4e0b\u3092MyBatis\u306eORM\u6a5f\u80fd\u304c\u4f7f\u3048\u308bDao\u3068\u3057\u3066\u8a8d\u8b58\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\nTestMapprer.java\u306f\u3001\n\n```\nTest getTest(int id);\n```\n\n\u30e1\u30bd\u30c3\u30c9\u304c\u30b3\u30fc\u30eb\u3055\u308c\u305f\u969b\u306b\u3001\u540c\u3058\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3042\u308bTestMapper.xml\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nTestMapper.xml\u306f\u4eca\u56de\u4ee5\u4e0b\u3068\u306a\u3063\u3066\u304a\u308a\u3001\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n\"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"jp.co.kenshu.mapper.TestMapper\">\n\t<resultMap id=\"TestResult\" type=\"jp.co.kenshu.entity.Test\">\n\t\t<result column=\"id\" property=\"id\" />\n\t\t<result column=\"name\" property=\"name\" />\n\t</resultMap>\n\t<select id=\"getTest\" resultMap=\"TestResult\" parameterType=\"int\">\n\t\tselect id, name\n\t\tfrom test\n\t\twhere id = #{id}\n\t</select>\n</mapper>\n```\n\nTestMapper.java\u306e\u300cgetTest\u300d\u304c\u547c\u3070\u308c\u305f\u969b\u306b\u3001\u4e0a\u8a18xml\u306e\n\n```\n<select id=\"getTest\" resultMap=\"TestResult\" parameterType=\"int\">\n\t\tselect id, name\n\t\tfrom test\n\t\twhere id = #{id}\n</select>\n```\n\n\u304c\u547c\u3070\u308c\u307e\u3059\u3002\n\u300c**id=\"getTest\"**\u300d\u306b\u6ce8\u76ee\u3057\u3066\u304f\u3060\u3055\u3044\u3002TestMapper.java\u306e**getTest\u306fxml\u306e\u3053\u306eID\u3068\u7d10\u3044\u3066\u51e6\u7406\u304c\u884c\u308f\u308c\u308b\u4ed5\u7d44\u307f**\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\n\u3067\u306fTestMapper.xml\u306e\u8a18\u8ff0\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u307e\u305a\n\n```\n<mapper namespace=\"jp.co.kenshu.mapper.TestMapper\">\n```\n\n\u3067TestMapper.java\u30d5\u30a1\u30a4\u30eb\u3068\u7d10\u4ed8\u3051\u3066\u3044\u307e\u3059\u3002\n\n\u6b21\u306b\u5b9f\u969b\u306bDB\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u8a18\u8ff0\u3092\u898b\u308b\u3068\u3001\n\n```\n<select id=\"getTest\" resultMap=\"TestResult\" parameterType=\"int\">\n\tselect id, name\n\tfrom test\n\twhere id = #{id}\n</select>\n```\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066int\u578b\u3092\u4e00\u3064\u53d7\u3051\u53d6\u308b\u3068\u3088\uff5e\u3063\u3066\u306e\u3092\u4ee5\u4e0b\u306e\u8a18\u8ff0\u3067\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\nparameterType=\"int\"\n```\n\n\u4eca\u56de\u306fMapper.java\u306e\u300c**Test getTest(int id);**\u300d\u3067\u6307\u5b9a\u3057\u3066\u3044\u308bint\u306eid\u304c\u6e21\u3063\u3066\u304d\u307e\u3059\u3002\n\u6e21\u3063\u3066\u304d\u305fid\u306f\n\n```\nselect id, name\nfrom test\nwhere id = #{id}\n```\n\n\u306e\u300c**#{id}**\u300d\u306b\u30d0\u30a4\u30f3\u30c9\u3055\u308c\u307e\u3059\u3002\n\u7d50\u679c\u3068\u3057\u3066\u3001Service\u304b\u3089\n\n```\ntestMapper.getTest(3);\n```\n\n\u3068\u3057\u305f\u5834\u5408\u3001\u6700\u7d42\u7684\u306b\u306f\n\n```\nselect id, name from test where id = 3\n```\n\n\u3068\u3044\u3046SQL\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u3002\n\n\u305d\u3057\u3066\u3001select\u3057\u305f\u7d50\u679c\u3092\u3069\u3053\u306b\u683c\u7d0d\u3059\u308b\u306e\u304b\uff1f\uff1f\u3068\u3044\u3046\u306e\u3092\n\n```\nresultMap=\"TestResult\"\n```\n\n\u3067\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u300c**TestResult**\u300d\u306f\u4ee5\u4e0b\u306e\u8a18\u8ff0\n\n```\n<resultMap id=\"TestResult\" type=\"jp.co.kenshu.entity.Test\">\n\t<result column=\"id\" property=\"id\" />\n\t<result column=\"name\" property=\"name\" />\n</resultMap>\n```\n\n\u306b\u3042\u308b\u3001\n\n```\nid=\"TestResult\"\n```\n\n\u3068\u7d10\u3065\u3044\u3066\u3044\u307e\u3059\u3002\nresultMap\u306f\u305d\u306e\u540d\u306e\u901a\u308a\u3001**DB\u30a2\u30af\u30bb\u30b9\u7d50\u679c\u3092\u4f55\u306b\u3069\u3046\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u304b\uff1f\uff1f**\u3092\u8a2d\u5b9a\u3059\u308b\u8a18\u8ff0\u3067\u3059\u3002\n\u300c**\u4f55\u306b**\u300d\u306f\n\n```\ntype=\"jp.co.kenshu.entity.Test\"\n```\n\n\u3067\u6307\u5b9a\u3057\u305f\u30af\u30e9\u30b9\u304c\u8a72\u5f53\u3057\u307e\u3059\u3002\u4eca\u56de\u306fentity\u3067\u3042\u308bTest.java\u304c\u305d\u308c\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n<result column=\"id\" property=\"id\" />\n```\n\n\u3053\u306e\u8a18\u8ff0\u306f\u3001<select>\u30bf\u30b0\u3067\u53d6\u5f97\u3055\u308c\u305f\u60c5\u5831\u3092type\u306e\u3069\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u304b\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u2191\u306e\u8a18\u8ff0\u3060\u3068\u3001\n\n```\nselect id, name from test where id = #{id}\n```\n\n\u3057\u305f\u7d50\u679c\u53d6\u5f97\u3055\u308c\u305f\u300cid\u300d\u60c5\u5831\u3092Test\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306eid\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u8a70\u3081\u308b\u3063\u3066\u52d5\u304d\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u4ee5\u4e0a\u3067\u3001select\u7d50\u679c\u3092Testentity\u306b\u8a70\u3081\u3066\u8fd4\u5374\u3059\u308b\u3068\u3044\u3046\u4e00\u9023\u306e\u6d41\u308c\u304c\u3067\u304d\u307e\u3057\u305f\uff01\uff01\n\n# \u6a5f\u80fd\u306e\u8ffd\u52a0\n\n\u3042\u3068\u306f\u8272\u3005\u306aDB\u30a2\u30af\u30bb\u30b9\u3092\u4f7f\u3063\u3066\u307f\u308b\u3060\u3051\u3067\u3059\uff01\uff01\n\n1. \u5168\u4ef6\u53d6\u5f97\n2. where\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\n3. update\n4. insert\n5. delete\n6. \u7d50\u5408\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u304b\u306d\uff1f\uff1f\u4e00\u3064\u4e00\u3064\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n## ***1. \u5168\u4ef6\u53d6\u5f97***\n\n\u3070\u3063\u304f\u308a\u8aac\u660e\u3059\u308b\u3068\u3001Controller\u304cService\u30fbMapper\u7d4c\u7531\u3067\u53d6\u5f97\u3057\u305fTestDto\u306eList\u3092JSP\u306b\u6e21\u3059\u3002\nJSP\u306f\u6e21\u3055\u308c\u305fList\u3092\\<c:foreach>\u3067\u56de\u3059\u3068\u3044\u3046\u3053\u3068\u3092\u3057\u307e\u3059\u3002\n\u7c21\u5358\u3059\u304e\u308b\u3082\u306e\u306f\u4f5c\u308a\u306a\u304c\u3089\u89e3\u8aac\u3044\u308c\u3066\u3044\u304d\u307e\u3059\u306d\u3002\n\n![testall.png](https://qiita-image-store.s3.amazonaws.com/0/78857/d7b21ba0-91fb-dd70-62d5-226e14973322.png)\n\n***\n\n\u307e\u305a\u306f\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306b\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n@RequestMapping(value = \"/test/\", method = RequestMethod.GET)\npublic String testAll(Model model) {\n\tList<TestDto> tests = testService.getTestAll();\n\tmodel.addAttribute(\"message\", \"MyBatis\u306e\u5168\u4ef6\u53d6\u5f97\u30b5\u30f3\u30d7\u30eb\u3067\u3059\");\n\tmodel.addAttribute(\"tests\", tests);\n\treturn \"testAll\";\n}\n```\n\n\u4eca\u56de\u306f\u300c/test\u300d\u3067\u8a66\u305b\u307e\u3059\u3002\nservice\u304b\u3089\u53d6\u5f97\u3057\u305fTestDto\u306e\u96c6\u307e\u308a(List<TestDto>)\u3092\u3001model\u306badd\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\n\n\u7d9a\u3044\u3066JSP\u306e\u4f5c\u6210\n\n```\n<!DOCTYPE html>\n\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%>\n<%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\">\n\t\t<title>Welcome</title>\n\t</head>\n\t<body>\n\t       <h1>${message}</h1>\n        <c:forEach items=\"${tests}\" var=\"test\">\n            <p><c:out value=\"${test.name}\"></c:out></p>\n        </c:forEach>\n\t</body>\n</html>\n```\n\nController\u304b\u3089\u6e21\u3055\u308c\u305f${tests}\u3092\\<c:foreach>\u3067\u56de\u3057\u3066\u307e\u3059\u3002\n\u56de\u3059\u969b\u306b\u3001var=\"test\"\u3068\u3057\u3066\u3044\u308b\u306e\u3067\u3001${test}\u304cTestDto\u306b\u306a\u308a\u307e\u3059\u3002\n\u7d50\u679c\u7684\u306b\u3001${test.name}\u3068\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u753b\u9762\u4e0a\u306b\u306f\u300ctest.getName()\u300d\u3057\u305f\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u6b21\u306bService\u3067\u3059\u3002\n\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u4e8c\u3064\u8ffd\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\npublic List<TestDto> getTestAll() {\n\tList<Test> testList = testMapper.getTestAll();\n\tList<TestDto> resultList = convertToDto(testList);\n\treturn resultList;\n}\n\nprivate List<TestDto> convertToDto(List<Test> testList) {\n\tList<TestDto> resultList = new LinkedList<>();\n\tfor (Test entity : testList) {\n\t\tTestDto dto = new TestDto();\n\t\tBeanUtils.copyProperties(entity, dto);\n\t\tresultList.add(dto);\n\t}\n\treturn resultList;\n}\n```\n\ngetTestAll\u3067mapper\u304b\u3089\u53d6\u5f97\u3057\u305f\u7d50\u679c\u3092List<Test>\u306b\u8a70\u3081\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u6bb5\u968e\u3067\u306f**Test\u306fentity**\u3067\u3059\u3002\n\u753b\u9762\u306b\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u3001Dto\u306b\u8a70\u3081\u3066\u307e\u3059\u304c\u3001\u4eca\u56de\u306fBeanUtils.copyProperties\u304c\u7c21\u5358\u306b\u306f\u4f7f\u3048\u307e\u305b\u3093\u3002\n**\u30ea\u30b9\u30c8\u306b\u8a70\u3081\u3089\u308c\u305fentity\u3092Dto\u306b\u8a70\u3081\u306a\u304a\u3059**\u3068\u3044\u3046\u4f5c\u696d\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u4f5c\u696d\u3092**convertToDto**\u30e1\u30bd\u30c3\u30c9\u3067\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3042\u3068\u306fDao\u306e\u4ed5\u4e8b\u3092\u66f8\u304f\u3060\u3051\u3067\u3059\u306e\u3067\u3001\nTestMapper.java\u306b\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nList<Test> getTestAll();\n```\n\nMapper\u306b\u8ffd\u52a0\u3057\u305f\u3060\u3051\u3060\u3068\u610f\u5473\u304c\u306a\u3044\u306e\u3067\u3001xml\u306b\u3082\u8ffd\u8a18\u3057\u307e\u3059\u3002\nTestMapper.xml\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n<select id=\"getTestAll\" resultMap=\"TestResult\">\n\tselect id, name\n\tfrom test;\n</select>\n```\n\n\u300c**getTestAll**\u300d\u304cjava\u306e\u300cgetTestAll()\u300d\u3068\u7d10\u3065\u3044\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u6ce8\u76ee\u3057\u3066\u6b32\u3057\u3044\u306e\u306f\u623b\u308a\u5024\u3067\u3059\u3002\u4eca\u56de\u306f\u300c**<font color=\"red\">List\u3067\u8fd4\u3059\u3068\u3044\u3046\u8a18\u8ff0\u304c\u898b\u5f53\u305f\u3089\u306a\u3044</font>**\u300d\u3053\u3068\u3067\u3059\u3002\nTestMapper.java\u3067\u306fList\u3092\u53d7\u3051\u53d6\u308b\u8a18\u8ff0\u3092\u66f8\u3044\u3066\u307e\u3059\u3002\n\n```\nList<Test> getTestAll();\n```\n\n\u3053\u308c\u3060\u3051\u3067MyBatis\u306e\u65b9\u3067\u3088\u3057\u306a\u306b\u3084\u3063\u3066\u304f\u308c\u3061\u3083\u3044\u307e\u3059\u3002\n\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u30bf\u30a4\u30d7\u306e\u307f\u3001\n\n```\n<select id=\"getTestAll\" resultMap=\"TestResult\">\n```\n\n\u306e\n\n```\nresultMap=\"TestResult\"\n```\n\n\u3067\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\n\n```\n<resultMap id=\"TestResult\" type=\"jp.co.kenshu.entity.Test\">\n\t<result column=\"id\" property=\"id\" />\n\t<result column=\"name\" property=\"name\" />\n</resultMap>\n```\n\n\u304c\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u4eca\u56de\u306f**type=\"jp.co.kenshu.entity.Test\"**\u3067\u3059\u306d\u3002\n\n\u3053\u308c\u3067\u6e96\u5099\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n[http://localhost:8080/SpringKenshu/test/](http://localhost:8080/SpringKenshu/test/)\n\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u5168\u4ef6\u53d6\u5f97\u3067\u304d\u307e\u3057\u305f\u304b\uff1f\uff1f\n\n##***2. where\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059***\n\n\u6700\u521d\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u3001where\u53e5\u306bid\u3068\u3044\u3046int\u5024\u3092\u6e21\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\n```\nwhere id = #{id}\n```\n\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3057\u3001\u305d\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304b\u3089\u53d6\u5f97\u3057\u305fint\u5024\u3092\u6e21\u3059\u306b\u306f\u3069\u3046\u3057\u305f\u3089\u826f\u3044\u3067\u3057\u3087\u3046\u304b\uff1f\uff1f\n\n\u3053\u3053\u3067\u4f5c\u6210\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u306f\u6700\u521d\u306b\u4f5c\u3063\u305f\u753b\u9762\u3068\u898b\u305f\u76ee\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002\nURL\u306f\u7570\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u306b\u306a\u308a\u307e\u3059\u3002\n![testDto.png](https://qiita-image-store.s3.amazonaws.com/0/78857/05a92e30-c7a6-f5da-4044-e18dbb8d348d.png)\n***\n\n\u65e9\u901f\u4f5c\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u307e\u305a\u306fController\u304b\u3089\u3002\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n@RequestMapping(value = \"/test/dto/{id}\", method = RequestMethod.GET)\npublic String testDto(Model model, @PathVariable int id) {\n\tTestDto dto = new TestDto();\n\tdto.setId(id);\n\tTestDto test = testService.getTestByDto(dto);\n\tmodel.addAttribute(\"message\", \"MyBatis\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\");\n\tmodel.addAttribute(\"test\", test);\n\treturn \"test\";\n}\n```\n\n\u4eca\u56de\u306f**/test/dto/{id}**\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u306e\u3067\u3001**/test/dto/2**\u3068\u304b\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u306d\u3002\n{id}\u3067\u6e21\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092**@PathVariable int id**\u306b\u3088\u308a\u3001\u5909\u6570id\u3067\u53d7\u3051\u3066\u3044\u307e\u3059\u3002\n\n\u6b21\u306b\n\n```\nTestDto dto = new TestDto();\ndto.setId(id);\n```\n\n\u3067\u6e21\u3055\u308c\u305fid\u3092Dto\u306b\u8a70\u3081\u3066\u307e\u3059\u3002\n\n\u305d\u3057\u3066\n\n```\nTestDto test = testService.getTestByDto(dto);\n```\n\n\u3068\u3057\u3001service\u306egetTestByDto\u30e1\u30bd\u30c3\u30c9\u306bdto\u3092\u5f15\u6570\u3068\u3057\u3066\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u7d9a\u3044\u3066\u3001Service\u3002\n\n\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3092TestService\u306b\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\npublic TestDto getTestByDto(TestDto dto) {\n\tTest entity = testMapper.getTestByDto(dto);\n\tBeanUtils.copyProperties(entity, dto);\n\treturn dto;\n}\n```\n\n\u5f15\u6570\u304cdto\u306b\u306a\u3063\u305f\u3060\u3051\u3067\u3059\u3002\n\n\u3067\u306f\u6700\u5f8c\u306bMapper\u3002\n\nTestMapper.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n\n```\nTest getTestByDto(TestDto dto);\n```\n\nTestMapper.xml\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n\n```\n<select id=\"getTestByDto\" resultMap=\"TestResult\">\n    select id, name\n    from test\n    where id = #{id}\n</select>\n```\n\nparameterType\u304c\u898b\u5f53\u305f\u3089\u306a\u3044\u3067\u3059\u306d\u3002\n\u4eca\u56de\u3082\u3088\u3057\u306a\u306b\u3084\u3063\u3066\u304f\u308c\u3066\u307e\u3059\u3002\nTestMapper.java\u306e\u307b\u3046\u3067\n\n```\nTest getTestByDto(TestDto dto);\n```\n\n\u3068\u3057\u3066\u3044\u308b\u305f\u3081\u3001dto\u3060\u3068\u89e3\u91c8\u3055\u308c\u3066\u3044\u308b\u306e\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\\#{id}\u306fdto\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306a\u306e\u3067\u3001\u305d\u308c\u304c\u8aad\u307f\u3068\u3089\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u6e96\u5099\u5b8c\u4e86\u3067\u3059\u3002\n\n\u3067\u306f\u3001[http://localhost:8080/SpringKenshu/test/dto/1](http://localhost:8080/SpringKenshu/test/dto/1)\n\u203bid=1\u306e\u4eba\u304cinsert\u3055\u308c\u3066\u3044\u308c\u3070\u3044\u3051\u307e\u3059\u3002\n\n##***3. Insert\u30b5\u30f3\u30d7\u30eb***\n\n\u6b21\u306bInsert\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u3064\u304f\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4e00\u4ef6\u633f\u5165\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\u6700\u521d\u306bGET\u3067\u5165\u529b\u753b\u9762\u3092\u8868\u793a\u3057\u3001Controller\u306b\u60c5\u5831\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002\nController\u306f\u53d7\u3051\u53d6\u3063\u305fname\u3092DB\u306b\u633f\u5165\u3057\u3001\u5b8c\u4e86\u5f8c\u3001\u5168\u4ef6\u53d6\u5f97\u753b\u9762\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u307e\u3059\u3002\n\n\u30a4\u30e1\u30fc\u30b8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002\n\n![insertinput.png](https://qiita-image-store.s3.amazonaws.com/0/78857/2d63c803-a42c-a683-1a3b-bc1c3cb5d54a.png)\n***\n\u3053\u3053\u3067\u5165\u529b\u3057\u305f\u540d\u524d\u304c\u9001\u4fe1\u3055\u308c\u307e\u3059\u3002\n\n\n![insertComplete.png](https://qiita-image-store.s3.amazonaws.com/0/78857/c05d6447-99db-c9f1-8fb8-940412ce019b.png)\n\n\u767b\u9332\u304c\u5b8c\u4e86\u3059\u308b\u3068\u5168\u4ef6\u53d6\u5f97\u306e\u753b\u9762(/test/)\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u307e\u3059\u3002\n\n\u3055\u3063\u305d\u304f\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u307e\u305a\u306fController\u3067\u3059\u3002\n\nTestController\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n\n```\n@RequestMapping(value = \"/test/insert/input/\", method = RequestMethod.GET)\npublic String testInsert(Model model) {\n\tTestForm form = new TestForm();\n\tmodel.addAttribute(\"testForm\", form);\n\tmodel.addAttribute(\"message\", \"MyBatis\u306einsert\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\");\n\treturn \"testInsert\";\n}\n\n@RequestMapping(value = \"/test/insert/input/\", method = RequestMethod.POST)\npublic String testInsert(@ModelAttribute TestForm form, Model model) {\n\tint count = testService.insertTest(form.getName());\n\tLogger.getLogger(TestController.class).log(Level.INFO, \"\u633f\u5165\u4ef6\u6570\u306f\" + count + \"\u4ef6\u3067\u3059\u3002\");\n\treturn \"redirect:/test/\";\n}\n```\n\nGET\u304c\u4eca\u56de\u306e\u5165\u308a\u53e3\u753b\u9762\u3067\u3059\u3002\nJSP\u3067modelAttribute\u306e\u8a2d\u5b9a\u304cform:form\u306b\u3057\u3066\u3042\u308b\u306e\u3067\u3001model\u306b\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\ntestInsert.jsp\u306bforward\u3057\u3066\u307e\u3059\u3002\n\n\u3067\u306ftestInsert.jsp\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n<!DOCTYPE html>\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n\tpageEncoding=\"UTF-8\"%>\n<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>Welcome</title>\n</head>\n<body>\n\t<h1>${message}</h1>\n\t<form:form modelAttribute=\"testForm\">\n\t\t<form:input path=\"name\" />\n\t\t<input type=\"submit\">\n\t</form:form>\n</body>\n</html>\n```\n\ntestForm\u304cform\u767a\u884c\u6642\u306b\u6e21\u3055\u308c\u307e\u3059\u3002\u30c6\u30ad\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u306e\u5024\u306f\u300cid\u300d\u3068\u3044\u3046\u540d\u524d\u3067TestForm.java\u306b\u30d0\u30a4\u30f3\u30c9\u3055\u308c\u307e\u3059\u3002\nForm\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u5148\u304c\u7701\u7565\u3057\u3066\u3042\u308b\u306e\u3067\u3001\u4eca\u8868\u793a\u3055\u308c\u3066\u308bURL\u306b\u5bfe\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u3055\u308c\u307e\u3059\u3002\n\u306a\u306e\u3067\u3001/test/insert/input/\u306b\u5bfe\u3057\u3066\u3001\u4eca\u56de\u306fPOST\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u3002\n\nTestController\u306ePOST\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```\n@RequestMapping(value = \"/test/insert/input/\", method = RequestMethod.POST)\npublic String testInsert(@ModelAttribute TestForm form, Model model) {\n\tint count = testService.insertTest(form.getName());\n\tLogger.getLogger(TestController.class).log(Level.INFO, \"\u633f\u5165\u4ef6\u6570\u306f\" + count + \"\u4ef6\u3067\u3059\u3002\");\n\treturn \"redirect:/test/\";\n}\n```\nService\u3092\u547c\u3093\u3067\u3001insert\u6210\u529f\u3057\u305f\u4ef6\u6570\u3092log\u306b\u5410\u304d\u51fa\u3057\u3066\u308b\u3060\u3051\u3067\u3059\u306d\u3002\n\u305f\u3060\u3001\u6700\u5f8c\u306b\n\n```\nreturn \"redirect:/test/\";\n```\n\n\u3068\u3057\u3066\u307e\u3059\u3002\nSpringMVC\u3067redirect\u3059\u308b\u5834\u5408\u306f\u3001\u300c**redirect:**\u300d\u3068\u66f8\u3044\u3066\u3001\u305d\u306e\u5f8c\u306b\u9077\u79fb\u5148\u3092\u66f8\u304f\u3060\u3051\u3067\u3059\u3002\n\u4eca\u56de\u306f\u300c/test/\u300d\u3068\u3057\u3066\u3044\u308b\u306e\u3067\u3001@RequestMapping\u306evalue\u306b\u300c/test/\u300d\u3068\u8a18\u8ff0\u3055\u308c\u3066\u308bController\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u308f\u3051\u3067\u3059\u3002\n\n\u7d9a\u3044\u3066Service\u3067\u3059\u3002\n\nTestService.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\npublic int insertTest(String name) {\n\tint count = testMapper.insertTest(name);\n\treturn count;\n}\n```\n\nMapper\u306einsertTest\u30e1\u30bd\u30c3\u30c9\u306bname\u3092\u6e21\u3057\u3001\u623b\u308a\u5024\u3092\u305d\u306e\u307e\u307ereturn\u3057\u3066\u308b\u3060\u3051\u3067\u3059\u306d\u3002\n\n\u3067\u306fTestMapper.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nint insertTest(String name);\n```\n\n\u8ffd\u52a0\u3057\u305f\u3089TestMapper.xml\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n\n```\n<insert id=\"insertTest\" parameterType=\"String\">\n\tinsert into test(name) values (#{name})\n</insert>\n```\n\n\u975e\u5e38\u306b\u5358\u7d14\u3067\u3059\u3002parameterType\u306bString\u3092\u6307\u5b9a\u3057\u3001\u53d7\u3051\u53d6\u3063\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092#{name}\u3067\u53c2\u7167\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\nid\u306fauto_increment\u306a\u306e\u3067\u6307\u5b9a\u3057\u306a\u304f\u3066\u3082\u81ea\u52d5\u63a1\u756a\u3055\u308c\u307e\u3059\u3002\n\n\u3053\u3046\u66f8\u304f\u3060\u3051\u3067\u633f\u5165\u6210\u529f\u4ef6\u6570\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\n\u3067\u306f\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n[http://localhost:8080/SpringKenshu/test/insert/input/](http://localhost:8080/SpringKenshu/test/insert/input/)\n\n##***4. delete\u306e\u30b5\u30f3\u30d7\u30eb***\n\n\u6b21\u306fdelete\u3067\u3059\u3002\u3055\u304f\u3055\u304f\u884c\u304d\u307e\u3057\u3087\u3046\u3002\ndekete\u306f\u300cinsert\u300d\u306e\u6587\u5b57\u5217\u304cdelete\u306b\u306a\u3063\u305f\u3060\u3051\u3067\u3059\u3002\n\u305f\u3060\u3057\u3001input\u753b\u9762\u3067\u5165\u529b\u3059\u308b\u306e\u306fID\u3067\u3059\u3002\n\u3042\u3068\u3001\u5168\u4ef6\u53d6\u5f97\u753b\u9762\u3067ID\u3082\u8868\u793a\u3055\u305b\u3066\u304a\u304f\u3068\u524a\u9664\u306e\u52d5\u4f5c\u78ba\u8a8d\u304c\u3057\u3084\u3059\u304b\u3063\u305f\u306e\u3067\u3001\ntestAll.jsp\u3092\u4ee5\u4e0b\u306b\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\n\n```\n<c:forEach items=\"${tests}\" var=\"test\">\n    <p><c:out value=\"${test.id}\"></c:out> : <c:out value=\"${test.name}\"></c:out></p>\n</c:forEach>\n```\n\ndelete\u306e\u5165\u308a\u53e3\u753b\u9762\u3068\u3057\u3066\u306f\u3001\u3053\u3093\u306a\u611f\u3058\n\n![deleteInput.png](https://qiita-image-store.s3.amazonaws.com/0/78857/cb2c63fe-564e-6c34-1d8a-50aede5c29eb.png)\nsubmit\u3059\u308b\u3068\u2026\n\n![deleteComp.png](https://qiita-image-store.s3.amazonaws.com/0/78857/b50aaa99-2e4f-1bf4-7cc7-1809f2e6b441.png)\n***\n\u203bID\u3082\u8868\u793a\u3055\u308c\u3066\u307e\u3059\u306d\u3002\n\u3055\u3063\u305d\u304f\u4f5c\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u307e\u305a\u306fJSP\u3067\u3059\u3002testDelete.jsp\u3092\u4f5c\u6210\n\n```\n<!DOCTYPE html>\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n\tpageEncoding=\"UTF-8\"%>\n<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>Welcome</title>\n</head>\n<body>\n\t<h1>${message}</h1>\n\t<form:form modelAttribute=\"testForm\">\n\t\tID:<form:input path=\"id\" />\n\t\t<input type=\"submit\">\n\t</form:form>\n</body>\n</html>\n```\n\n\u6b21\u306bController\u3067\u3059\u3002TestController.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n\n```\n@RequestMapping(value = \"/test/delete/input/\", method = RequestMethod.GET)\npublic String testDelete(Model model) {\n\tTestForm form = new TestForm();\n\tmodel.addAttribute(\"testForm\", form);\n\tmodel.addAttribute(\"message\", \"MyBatis\u306edelete\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\");\n\treturn \"testDelete\";\n}\n\n@RequestMapping(value = \"/test/delete/input/\", method = RequestMethod.POST)\npublic String testDelete(@ModelAttribute TestForm form, Model model) {\n\tint count = testService.deleteTest(form.getId());\n\tLogger.getLogger(TestController.class).log(Level.INFO, \"\u524a\u9664\u4ef6\u6570\u306f\" + count + \"\u4ef6\u3067\u3059\u3002\");\n\treturn \"redirect:/test/\";\n}\n```\n\n\u4eca\u56de\u306f\u300c**/test/delete/input/**\u300d\u3067\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u307e\u3059\u306d\u3002\nINSERT\u3068\u307b\u3068\u3093\u3069\u5909\u308f\u308a\u307e\u305b\u3093\u3002\n\nService\u306b\u884c\u304d\u307e\u3059\u3002\nTestService.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\n\n```\npublic int deleteTest(int id) {\n\tint count = testMapper.deleteTest(id);\n\treturn count;\n}\n```\n\nid\u3092\u5f15\u6570\u306b\u53d7\u53d6\u3001testMapper\u306edeleteTest\u3092\u30b3\u30fc\u30eb\u3057\u3066\u307e\u3059\u3002\n\u3067\u306fMapper\u306b\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\nTestMapper.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n\n```\nint deleteTest(int id);\n```\n\n\u305d\u3057\u305f\u3089TestMapper.xml\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3057\u3087\u3046\u3002\n\n```\n<delete id=\"deleteTest\" parameterType=\"int\">\n\tdelete from test where id = #{id}\n</delete>\n```\n\n\u3053\u308c\u3067\u6e96\u5099\u5b8c\u4e86\u3067\u3059\u3002\n\n[http://localhost:8080/SpringKenshu/test/delete/input/](http://localhost:8080/SpringKenshu/test/delete/input/)\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u3088\u3046\u3002\n\n##5. ***update\u306e\u30b5\u30f3\u30d7\u30eb***\n\n\u6700\u5f8c\u306fupdate\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\u66f4\u65b0\u306e\u51e6\u7406\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u3001\u307e\u305atestAll.jsp\u306b\u30ea\u30f3\u30af\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\n![updateAll.png](https://qiita-image-store.s3.amazonaws.com/0/78857/77469456-d9f1-2e3d-be1d-980980338f71.png)\n***\n\n\u300c\u7de8\u96c6\u300d\u30ea\u30f3\u30af\u3067\u3059\u3002\n\u3053\u308c\u3092\u62bc\u3059\u3068\u3001\n\n![updateInpur.png](https://qiita-image-store.s3.amazonaws.com/0/78857/3ce7b964-c3aa-b917-5198-307c502568c7.png)\n***\n\u3053\u3093\u306a\u611f\u3058\u3067\u7de8\u96c6\u3057\u305f\u3044test\u306e\u753b\u9762\u306b\u9077\u79fb\u3057\u307e\u3059\u3002\nname\u3060\u3051\u304c\u66f4\u65b0\u53ef\u80fd\u306a\u306e\u3067\u3001\u540d\u524d\u3092\u30c6\u30ad\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u4eca\u56de\u306f\u3053\u306efuga\u3055\u3093\u3092hogehogehoge\u3055\u3093\u306b\u5909\u3048\u3066\u307f\u307e\u3059\u3002ID\u306f18\u3067\u3059\u3088\u3002\n\n![updateEnd.png](https://qiita-image-store.s3.amazonaws.com/0/78857/ee48b1b3-e3be-96ac-00dc-91c57e0bb95a.png)\n***\n\n\u5909\u308f\u308a\u307e\u3057\u305f\u306d\uff01\uff01\n\u203b\u4eca\u56de\u3082\u66f4\u65b0\u304c\u5b8c\u4e86\u3057\u305f\u3089testAll\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u307e\u3059\u3002\n\u3067\u306f\u4f5c\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u307e\u305a\u306ftestAll.jsp\u306e\u6539\u826f\u3067\u3059\u3002\n\n```\n<c:forEach items=\"${tests}\" var=\"test\">\n    <p><c:out value=\"${test.id}\"></c:out> : <c:out value=\"${test.name}\"></c:out><ahref=\"${pageContext.request.contextPath}/test/update/input/${test.id}/\">\u7de8\u96c6</a></p>\n</c:forEach>\n```\n\na\u30bf\u30b0\u3092\u8ffd\u52a0\u3057\u305f\u3060\u3051\u3067\u3059\u3002\n\n```\n<ahref=\"${pageContext.request.contextPath}/test/update/input/${test.id}/\">\u7de8\u96c6</a>\n```\n\n\u66f4\u65b0\u3057\u305f\u3044test\u306eid\u3092URL\u30d9\u30fc\u30b9\u306e\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066\u6e21\u3057\u3066\u307e\u3059\u3002\n\n\u6b21\u306btestUpdate.jsp\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n<!DOCTYPE html>\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n\tpageEncoding=\"UTF-8\"%>\n<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>Welcome</title>\n</head>\n<body>\n\t<h1>${message}</h1>\n\tName\u3092\u66f4\u65b0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\t<form:form modelAttribute=\"testForm\">\n\t    <p>ID: ${test.id}</p>\n\t\t<p>NAME: <form:input path=\"name\"/></p>\n\t\t<input type=\"submit\">\n\t</form:form>\n</body>\n</html>\n```\n\nall\u753b\u9762\u3067\u9078\u629e\u3057\u305fID\u3092\u3082\u3068\u306b\u3001Controller\u3067\u5bfe\u8c61test\u306e\u4e00\u4ef6\u5206\u30c7\u30fc\u30bf\u3092DB\u304b\u3089\u53d6\u5f97\u3057\u3066\u307e\u3059\u3002\n\u53d6\u5f97\u3057\u305f\u60c5\u5831\u3092modelAttribute\u3057\u3066\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001form\u3092submit\u3059\u308b\u3068\u3001\u300c**/test/update/input/{id}/**\u300d\u306ePOST\u30e1\u30bd\u30c3\u30c9\u306b\u51e6\u7406\u304c\u79fb\u308a\u307e\u3059\u3002\n\n\u3067\u306fTestController\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3057\u3087\u3046\u3002\n\n```\n\n@RequestMapping(value = \"/test/update/input/{id}/\", method = RequestMethod.GET)\npublic String testUpdate(Model model, @PathVariable int id) {\n\tTestDto test = testService.getTest(id);\n\tmodel.addAttribute(\"message\", \"MyBatis\u306eUpdate\u30b5\u30f3\u30d7\u30eb\u3067\u3059\");\n\tmodel.addAttribute(\"test\", test);\n\tTestForm form = new TestForm();\n\tform.setId(test.getId());\n\tform.setName(test.getName());\n\tmodel.addAttribute(\"testForm\", form);\n\treturn \"testUpdate\";\n}\n\n@RequestMapping(value = \"/test/update/input/{id}/\", method = RequestMethod.POST)\npublic String testUpdate(Model model, @ModelAttribute TestForm form) {\n\tTestDto dto = new TestDto();\n\tBeanUtils.copyProperties(form, dto);\n\tint count = testService.updateTest(dto);\n\tLogger.getLogger(TestController.class).log(Level.INFO, \"\u66f4\u65b0\u4ef6\u6570\u306f\" + count + \"\u4ef6\u3067\u3059\u3002\");\n\treturn \"redirect:/test/\";\n}\n```\n\nForm\u304b\u3089\u53d7\u3051\u3068\u3063\u305f\u60c5\u5831\u3092Dto\u306b\u30b3\u30d4\u30fc\u3057\u3001TestService\u306eupdateTest\u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u3057\u3066\u307e\u3059\u3002\n\u51e6\u7406\u304c\u5b8c\u4e86\u3057\u305f\u3089testAll\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u3059\u3002\n\nTestService\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3057\u3087\u3046\u3002\n\n```\npublic int updateTest(TestDto dto) {\n\tint count = testMapper.updateTest(dto);\n\treturn count;\n}\n```\n\n\u66f4\u65b0\u4ef6\u6570\u3092return\u3057\u3066\u307e\u3059\u306d\u3002\n\nTestMapper.java\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3057\u3087\u3046\u3002\n\n```\nint updateTest(TestDto dto);\n```\n\n\u8ffd\u8a18\u3057\u305f\u3089\u3001\u4f8b\u306b\u3088\u3063\u3066TestMapper.xml\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n<update id=\"updateTest\">\n    update test set name = #{name} where id = #{id}\n</update>\n```\n\nUpdate\u3082\u975e\u5e38\u306b\u7c21\u5358\u3067\u3059\u3002\u57fa\u672c\u7684\u306b\u306finsert\u3001delete\u3068\u69cb\u6587\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002\nTestMapper.java\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3001TestDto\u306b\u5fdc\u3058\u3066\u3001#{}\u304c\u5c55\u958b\u3055\u308c\u308b\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002\n\n\u4ee5\u4e0a\u3067\u304a\u4ed5\u821e\u3044\u3067\u3059\u3002\n\n\u4eca\u5f8c\u306f\u4f55\u304b\u30c8\u30d4\u30c3\u30af\u304c\u3042\u3063\u305f\u3089\u8ffd\u52a0\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nRoo\u3068\u304b\u3002Transaction\u3068\u304b\u3001\u8272\u3005\u8003\u3048\u3066\u307e\u3059\u3002\n\n# \u5099\u5fd8\n\n\u8f09\u305b\u305f\u304b\u3063\u305f\u3051\u3069\u3001\u66f8\u304f\u306e\u304c\u5104\u52ab\u3060\u3063\u305f\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305a\u7c21\u5358\u306b\u8f09\u305b\u305f\u3044\u4e8b\u9805\n\n## LIKE\u691c\u7d22\n\n```\n<!-- String\u6587\u5b57\u3092\u305d\u306e\u307e\u307e\u6e21\u3059\u5834\u5408\u3001${value}\u3068\u66f8\u304f\u3002\u3053\u308c\u306fString\u30af\u30e9\u30b9\u306evalue(\u30d7\u30ed\u30d1\u30c6\u30a3)\u3092\u6e21\u3059\u3063\u3066\u89e3\u91c8\u306b\u306a\u308b\u3089\u3057\u3044 -->\n<!-- #\u306f\u5c55\u958b\u3055\u308c\u305f\u6587\u5b57\u5217\u304c\u300c''\u300d\u3067\u62ec\u3089\u308c\u308b\u3002$\u306f\u6587\u5b57\u5217\u3092\u305d\u306e\u307e\u307e\u6e21\u3059 -->\n<select id=\"getTestLike\" resultMap=\"TestResult\">\n\tselect id, name from test\n\twhere name like '%${value}%'\n</select>\n```\n\n## CDATA\n\n```\n!-- Dto\u304b\u3089\u691c\u7d22\u3059\u308b\u3068\u304d\u306f\u3001\u305d\u306e\u307e\u307e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u3092\u6e21\u305b\u308b -->\n<!-- CDATA\u306f\u30de\u30fc\u30af\u30a2\u30c3\u30d7\u3067\u306f\u306a\u304f\u3001\u300c\u7d14\u7c8b\u306a\u6587\u5b57\u5217\u300d\u3068\u3057\u3066\u6271\u308f\u305b\u308b\u3068\u304d\u306b\u4f7f\u3044\u307e\u3059\u3002\u300c>\u300d\u306f\u30bf\u30b0\u6587\u5b57\u306a\u306e\u3067\u3002 -->\n<select id=\"getTestLikeDto\" resultMap=\"TestResult\">\n<![CDATA[\n\tselect id, name from test\n\twhere name like '%${name}%'\n\tand id > 17\n]]>\n```\n\n\u3061\u3087\u3063\u3068LIKE\u691c\u7d22\u306e\u8a71\u3082\u6df7\u3058\u3063\u3066\u308b\u3051\u3069\u3001\nString\u3092\u6e21\u3059\u6642\u3068\u9055\u3063\u3066\u3001\n\n```\n'%${name}%'\n```\n\nname\u3092\u6e21\u3057\u3066\u308b\u3002\u30aa\u30d6\u30b8\u30a7\u30c8\u304c\u30d1\u30e9\u30e1\u30fc\u30bf\u3060\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u305d\u306e\u307e\u307e\u6e21\u305b\u308b\n\n```\n<![CDATA[\n]]>\n```\n\n\u3053\u308c\u306f\u3001XML\u306e\u6a5f\u69cb\u3002XML\u4e2d\u306b\u300c>\u300d\u3084\u300c<\u300d\u306a\u3069\u306eXML\u306b\u666e\u6bb5\u4f7f\u3046\u3088\u3046\u306a\u6587\u5b57\u5217\u306f\u300c\u7d14\u7c8b\u306b\u6587\u5b57\u5217\u300d\u3068\u3057\u3066\u8a18\u8ff0\u3057\u306a\u3044\u3068XML\u306e\u69cb\u6587\u6271\u3044\u3055\u308c\u308b\u3002\n\u306a\u306e\u3067\u3001\u6587\u5b57\u5217\u6271\u3044\u3059\u308b\u305f\u3081\u306b\u3053\u308c\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n## Mapper.xml\u306e\u300cparameterType\u300d\u306e\u7701\u7565\n\n\u30cf\u30f3\u30ba\u30aa\u30f3\u306e\u4f8b\u3067\u306ftestMapper.xml\u306b\u300cparameterType\u300d\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u8a18\u8ff0\u3082\u3042\u308b\u304c\u3001\u3053\u308c\u306f\u66f8\u304b\u306a\u304f\u3066\u3082\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u3088\u308b\u3068\u3001parameterType\u306fMapper.java\u306e\u65b9\u3067\u6307\u5b9a\u3057\u305f\u5f15\u6570\u306e\u578b\u3092\u53c2\u7167\u3059\u308b\u305f\u3081\u3001\u81ea\u52d5\u3067\u5c0e\u51fa\u3059\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\u306a\u306e\u3067\u3042\u3063\u3066\u3082\u306a\u304f\u3066\u3082\u826f\u3044\u3089\u3057\u3044\u3002\nhttps://mybatis.github.io/mybatis-3/ja/sqlmap-xml.html\n\n## Mapper.xml\u306e\u914d\u7f6e\u306b\u3064\u3044\u3066\n\n\u4eca\u56de\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306fMapper\u306ejava\u30d5\u30a1\u30a4\u30eb\u3068xml\u30d5\u30a1\u30a4\u30eb\u3092\u540c\u3058\u968e\u5c64\u306b\u914d\u7f6e\u3057\u3066\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001java\u30d5\u30a1\u30a4\u30eb\u3068\u30ea\u30bd\u30fc\u30b9\u3067\u3042\u308bxml\u3092\u540c\u3058\u968e\u5c64\u306b\u7f6e\u304f\u306e\u306f\u597d\u307e\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002\n\u3067\u306f\u3001\u3069\u3046\u3059\u308b\u304b\u3001\u4eca\u56de\u3001\u300c**mvc-config.xml**\u300d\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a18\u8ff0\u304c\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```\n<!-- \u3069\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092mapper\u3068\u3057\u3066\u8a8d\u8b58\u3059\u308b\u304b\u306e\u8a2d\u5b9a -->\n<bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\">\n\t<property name=\"basePackage\" value=\"jp.co.kenshu.mapper\" />\n</bean>\n```\n\n\u3053\u308c\u306fsrc\u30d5\u30a9\u30eb\u30c0\u306b\u9650\u3063\u305f\u8a71\u3067\u306f\u306a\u3044\u306e\u3067\u3001resource\u306b\u540c\u3058\u968e\u5c64\u3092\u6398\u308c\u3070xml\u3060\u3051resource\u2193\u306e\u300cjp.co.kenshu.mapper\u300d\u306b\u914d\u7f6e\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\u3053\u308c\u3067java\u3068xml\u3092\u6df7\u5728\u3055\u305b\u306a\u3044\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\n"}