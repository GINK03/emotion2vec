{"context": " More than 1 year has passed since last update.4/15\u306e\u300cCoronaSDK MeetUp 2013 #1\u300d\u7528\u306e\u30cd\u30bf\u3067\u3059\u3002\n\u3056\u3063\u304f\u308a\u3044\u3046\u3068\u3001\nFlash\u3067\u30a2\u30cb\u30e1\u3064\u304f\u3063\u3066\u3001\u305d\u308c\u3092\u7c21\u5358\u306b\u3001\n\u30b3\u30fc\u30c9\u66f8\u304b\u305a\u306bCorona\u3067\u518d\u73fe\u3059\u308b\u65b9\u6cd5\u3001\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\u6982\u8981\u306f\u3082\u3061\u308d\u3093\u5f53\u65e5\u304a\u8a71\u3057\u307e\u3059\u304c\u3001\n\u3053\u308c\u3092CoronaSDK\u306e\u3053\u3068\u77e5\u3089\u306a\u3044\u4eba\u3082\u3044\u308b\u3068\u3053\u308d\u3067\u8aac\u660e\u3059\u308b\u306e\u306f\u3001\u6642\u9593\u304c\u304b\u304b\u308a\u3059\u304e\u308b\u3068\u601d\u3046\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305a\u9069\u5f53\u306b\u3053\u3053\u306b\u66f8\u304d\u307e\u3059\u3002\n\u3081\u3093\u3069\u304f\u3055\u3044\u306e\u3067\u3001\n\u5f53\u65e5\u805e\u3044\u3066\u3001\u3053\u3053\u307f\u308b\u3068\u3001\n\u3042\u3001\u3053\u3046\u3044\u3046\u3075\u3046\u306b\u3084\u3063\u305f\u3093\u3060\u30fc\u3063\u3066\u308f\u304b\u308b....\u3063\u3066\u611f\u3058\u306b\u3057\u304b\u304b\u304b\u306a\u3044\u3067\u3059\u3002\n\u3042\u3068\u3001Animo\u3084\u308b\u307e\u3048\u306b\u3001\n\u3053\u3061\u3089\u3092\u305c\u3072\u8aad\u3093\u3067\u305f\u3081\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u50d5\u304c\u8a71\u3057\u305f\u3053\u3068\u3001\u3053\u308c\u304b\u3089\u66f8\u304f\u4e8b\u306f\u5168\u90e8\u4ee5\u4e0b\u306e\u3082\u306e\u306e\u767a\u5c55\u7cfb\u3067\u3059\u3002\nSpriteLog=Animo\u3060\u3068\u304a\u3082\u3063\u3066\u3082\u3089\u3063\u3066\u554f\u984c\u306a\u3044\u3067\u3059\u3002\nhttps://sites.google.com/site/coronaopensrc2/video-1/spriteloq_layout\n\u25bcExport Layout For Corona.jsfl\u3001\u7de8\u96c6\u5f8c\u306ediff\n\n173,176c173,177\n<     output.push(\"\\tgroups['\"+ename+\"'] = group\");\n<     output.push(\"\\tgroup.elementName = '\"+ ename +\"'\")\n<     output.push(\"\\tgroup.libraryName = \\\"\" + libItemName + \"\\\"\");\n<     output.push(\"\\t\"+ insertInGroup(gname, \"group\"));\n---\n>     output.push(\"\\tgroups['\"+libItemName+\"'] = group\");    \n>     //output.push(\"\\tgroups['\"+ename+\"'] = group\");    \n>     //output.push(\"\\tgroup.elementName = '\"+ ename +\"'\")\n>     //output.push(\"\\tgroup.libraryName = \\\"\" + libItemName + \"\\\"\");\n>     //output.push(\"\\t\"+ insertInGroup(gname, \"group\"));\n183c184\n<     output.push(\"\\tdimensions['\"+ ename +\"'] = {width = \"+ Math.floor(_element.width) +\", height = \"+ Math.floor(_element.height) +\"}\");\n---\n>     //output.push(\"\\tdimensions['\"+ ename +\"'] = {width = \"+ Math.floor(_element.width) +\", height = \"+ Math.floor(_element.height) +\"}\");\n185c186\n<     if (_element.scaleX != 1) {\n---\n>     //if (_element.scaleX != 1) {\n187c188\n<     }\n---\n>     //}\n192c193\n<     if (_element.scaleY != 1) {\n---\n>     //if (_element.scaleY != 1) {\n194c195\n<     }\n---\n>     //}\n199c200,201\n<     if (_element.rotation != 0 && !isNaN(_element.rotation)) { \n---\n>     //if (_element.rotation != 0 && !isNaN(_element.rotation)) { \n>      if (!isNaN(_element.rotation)) {\n201a204\n>     //}\n311,312c314\n< \n< \n---\n>     var stack = [];\n328c330\n<             outl(\"local function createLayout(_spriteFactory)\");\n---\n>             outl(\"local function createLayout(_spriteFactory,num)\");\n330a333,334\n>             outl(\"\\t if \"+ldx+\" ~= num then return false end\");\n> \n335c339\n<             outl(\"\\t\"+ newGroup(layoutName).nl());\n---\n>             //outl(\"\\t\"+ newGroup(layoutName).nl());\n345,346c349,350\n<                 outl(\"\\t\"+ newGroup(group.name));\n<                 outl(\"\\t\"+ insertInGroup(layoutName, \"groups['\"+ group.name +\"']\").nl());\n---\n>                 //outl(\"\\t\"+ newGroup(group.name));\n>                 //outl(\"\\t\"+ insertInGroup(layoutName, \"groups['\"+ group.name +\"']\").nl());\n406,407c410,412\n< \n<             return layouttxt;\n---\n>               //ozawa\n>           stack.push(layouttxt)\n>             //return layouttxt;\n416a422,423\n>     //ozawa\n>     return stack;\n445c452,454\n<         FLfile.write(fileurl, layout);\n---\n>         for(var l in layout){\n>             FLfile.write(fileurl+l+'.lua', layout[l]);\n>         }\n\n\u25bc\u4e0a\u8a18\u3067\u751f\u6210\u3055\u308c\u305f\u30ec\u30a4\u30a2\u30a6\u30c8Lua\u3092\u5b9f\u884c\u3059\u308b\n------\n--avatar.lua\n------\n\nlocal storyboard = require('storyboard')\nlocal scene = storyboard.newScene()\nlocal loqsprite = require('loq_sprite')\nlocal sg    --\u30b7\u30fc\u30f3\u306eView\nlocal grp\nlocal files = {}\nlocal num = 0\nlocal fnum = 1\nlocal character\nlocal logoAnim\nlocal logoAnimKey\n\n\n--\u3053\u308c\u3092\u5909\u66f4\u3059\u308b\u3068\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u5207\u308a\u66ff\u308f\u308b\nlocal action = 'idle'\n\nfunction scene:createScene( event )\n    logoAnimKey = 0\n\n    --\u5404\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u30d5\u30ec\u30fc\u30e0\u6570\u3092\u7ba1\u7406(\u3053\u3053\u306fFlash\u306e\u30d5\u30ec\u30fc\u30e0\u6570\u3092\u307f\u3066\u66f8\u3044\u3066\u304f\u3060\u3055\u3044...)\n    files.cnt = {\n        idle=30,\n        walk=14,\n        punchS=17,\n    }\n    --\u3053\u3053\u306fExport Layout For Corona.jsfl\u3067\u304b\u304d\u51fa\u3057\u305flua\u3092\u8aad\u307f\u8fbc\u3080\n    files.idle = \n    {\n        require('pause__idle0'),\n        require('pause__idle1'),\n        require('pause__idle2'),\n        require('pause__idle3'),\n        require('pause__idle4'),   \n    }\n\n    files.walk = {\n        require('pause__walk0'),\n        require('pause__walk1'),\n        require('pause__walk2'),\n        require('pause__walk3'),\n        require('pause__walk4')\n    }\n\n    files.punchS = {\n        require('pause__punchS0'),\n        require('pause__punchS1'),\n        require('pause__punchS2'),\n        require('pause__punchS3'),\n        require('pause__punchS4'),\n        require('pause__punchS5'),\n        require('pause__punchS6'),\n        require('pause__punchS7'),\n        require('pause__punchS8')\n    }\n\n\n    sg = self.view\n    local img  = loqsprite.newFactory('face_01_01',\n                                      'body_02_01',\n                                      'hair_04_01',\n                                      'c_shadow')    \n    grp = display.newGroup()\n    local createNewLoqSprite = {\n        exec= function(loqSprite,group) \n        return {\n            stack ={},\n            unUsed ={},\n            grp = group,\n            ls = loqSprite,\n            --loq_sprite\u306enewSpriteGroup\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\n            newSpriteGroup = function(self,name)\n                if self.stack[name] == nil then\n                    self.stack[name] = self.ls:newSpriteGroup(name)\n                    self.grp:insert(self.stack[name])\n                end\n                if self.unUsed[name] ~= nil then\n                    self.unUsed[name] = false\n                end\n                self.stack[name].alpha = 1\n                return self.stack[name]\n            end         \n      }   \n      end\n    }\n    character = createNewLoqSprite.exec(img,grp)\n\n    grp.x = 100\n    grp.y = 260\n\n\n\n    --\u80cc\u666f\u307f\u3065\u3089\u3044\u306e\u3067\n    local bg = display.newRect(sg,0,0,320,480)\n    bg:setFillColor(100,0,0)\n\n\n    --\u5207\u308a\u66ff\u3048\u30dc\u30bf\u30f3\n    local name = {'idle','walk','punchS'}\n\n    local i\n    for i=1,3 do\n        local rect = display.newRoundedRect(sg,20+100*(i-1),400,80,60,10)\n        rect.num = i\n        local text = display.newText(sg,name[i],30+100*(i-1),410,nil,16)\n        text:setTextColor(0,0,0)\n\n        rect:addEventListener('tap',function(event)\n            action = name[i]\n            num = 0\n            fnum = 1                \n        end)\n    end\n\n\n    --\u30ed\u30b4\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n    logoSprites = display.newGroup()\n    logoSprites:scale(0.5,0.5)\n    logoSprites.y = -30\n    titleLogoSheet = loqsprite.newFactory('sheet_titleLogo')\n    logoAnim = createNewLoqSprite.exec(titleLogoSheet,logoSprites)\n\n    --\u30a2\u30cb\u30e1\u5b9f\u884c\u30dc\u30bf\u30f3\n    local rect = display.newRoundedRect(sg,220,200,80,60,10)\n    rect:addEventListener('tap',function(event)\n       logoAnimKey = 0\n\n    end)\nend\n\nlocal function enterFrame(event)\n\n    if logoAnimKey < 17 then\n        require('layout_titleLogo'..logoAnimKey).createLayout(logoAnim,logoAnimKey)\n        logoAnimKey = logoAnimKey+1\n    end\n\n    local k,v\n    for k,v in pairs(character.stack) do\n         character.unUsed[k] = true    \n    end\n\n    local p = files[action][fnum].createLayout(character,num)\n    if p ~= false then\n        for k,v in pairs(character.unUsed) do\n             if v==true then\n                 character.stack[k].alpha = 0\n             end\n        end\n        fnum = fnum + 1\n        if fnum > #files[action] then\n            fnum = 1\n        end\n    end\n    num = num +1 \n    if num > files.cnt[action] then\n        num = 0        \n    end\nend\n\nfunction scene: destroyScene(event)\n    display.remove(self.view)\nend\n\nscene:addEventListener( 'destroyScene', scene )\nscene:addEventListener( 'createScene', scene )\nRuntime:addEventListener( 'enterFrame', enterFrame )\n\nreturn scene\n\n\u308f\u3051\u308f\u304b\u3089\u306a\u3051\u308c\u3070\u8cea\u554f\u3044\u305f\u3060\u3051\u308c\u3070\u2026\u3002\n4/15\u306e\u300cCoronaSDK MeetUp 2013 #1\u300d\u7528\u306e\u30cd\u30bf\u3067\u3059\u3002\n\u3056\u3063\u304f\u308a\u3044\u3046\u3068\u3001\nFlash\u3067\u30a2\u30cb\u30e1\u3064\u304f\u3063\u3066\u3001\u305d\u308c\u3092\u7c21\u5358\u306b\u3001\n\u30b3\u30fc\u30c9\u66f8\u304b\u305a\u306bCorona\u3067\u518d\u73fe\u3059\u308b\u65b9\u6cd5\u3001\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\n\u6982\u8981\u306f\u3082\u3061\u308d\u3093\u5f53\u65e5\u304a\u8a71\u3057\u307e\u3059\u304c\u3001\n\u3053\u308c\u3092CoronaSDK\u306e\u3053\u3068\u77e5\u3089\u306a\u3044\u4eba\u3082\u3044\u308b\u3068\u3053\u308d\u3067\u8aac\u660e\u3059\u308b\u306e\u306f\u3001\u6642\u9593\u304c\u304b\u304b\u308a\u3059\u304e\u308b\u3068\u601d\u3046\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305a\u9069\u5f53\u306b\u3053\u3053\u306b\u66f8\u304d\u307e\u3059\u3002\n\u3081\u3093\u3069\u304f\u3055\u3044\u306e\u3067\u3001\n\u5f53\u65e5\u805e\u3044\u3066\u3001\u3053\u3053\u307f\u308b\u3068\u3001\n\u3042\u3001\u3053\u3046\u3044\u3046\u3075\u3046\u306b\u3084\u3063\u305f\u3093\u3060\u30fc\u3063\u3066\u308f\u304b\u308b....\u3063\u3066\u611f\u3058\u306b\u3057\u304b\u304b\u304b\u306a\u3044\u3067\u3059\u3002\n\n\u3042\u3068\u3001Animo\u3084\u308b\u307e\u3048\u306b\u3001\n\u3053\u3061\u3089\u3092\u305c\u3072\u8aad\u3093\u3067\u305f\u3081\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u50d5\u304c\u8a71\u3057\u305f\u3053\u3068\u3001\u3053\u308c\u304b\u3089\u66f8\u304f\u4e8b\u306f\u5168\u90e8\u4ee5\u4e0b\u306e\u3082\u306e\u306e\u767a\u5c55\u7cfb\u3067\u3059\u3002\nSpriteLog=Animo\u3060\u3068\u304a\u3082\u3063\u3066\u3082\u3089\u3063\u3066\u554f\u984c\u306a\u3044\u3067\u3059\u3002\nhttps://sites.google.com/site/coronaopensrc2/video-1/spriteloq_layout\n\n\u25bcExport Layout For Corona.jsfl\u3001\u7de8\u96c6\u5f8c\u306ediff\n\n```\n\n173,176c173,177\n<     output.push(\"\\tgroups['\"+ename+\"'] = group\");\n<     output.push(\"\\tgroup.elementName = '\"+ ename +\"'\")\n<     output.push(\"\\tgroup.libraryName = \\\"\" + libItemName + \"\\\"\");\n<     output.push(\"\\t\"+ insertInGroup(gname, \"group\"));\n---\n>     output.push(\"\\tgroups['\"+libItemName+\"'] = group\");    \n>     //output.push(\"\\tgroups['\"+ename+\"'] = group\");    \n>     //output.push(\"\\tgroup.elementName = '\"+ ename +\"'\")\n>     //output.push(\"\\tgroup.libraryName = \\\"\" + libItemName + \"\\\"\");\n>     //output.push(\"\\t\"+ insertInGroup(gname, \"group\"));\n183c184\n<     output.push(\"\\tdimensions['\"+ ename +\"'] = {width = \"+ Math.floor(_element.width) +\", height = \"+ Math.floor(_element.height) +\"}\");\n---\n>     //output.push(\"\\tdimensions['\"+ ename +\"'] = {width = \"+ Math.floor(_element.width) +\", height = \"+ Math.floor(_element.height) +\"}\");\n185c186\n<     if (_element.scaleX != 1) {\n---\n>     //if (_element.scaleX != 1) {\n187c188\n<     }\n---\n>     //}\n192c193\n<     if (_element.scaleY != 1) {\n---\n>     //if (_element.scaleY != 1) {\n194c195\n<     }\n---\n>     //}\n199c200,201\n<     if (_element.rotation != 0 && !isNaN(_element.rotation)) { \n---\n>     //if (_element.rotation != 0 && !isNaN(_element.rotation)) { \n>      if (!isNaN(_element.rotation)) {\n201a204\n>     //}\n311,312c314\n< \n< \n---\n>     var stack = [];\n328c330\n<             outl(\"local function createLayout(_spriteFactory)\");\n---\n>             outl(\"local function createLayout(_spriteFactory,num)\");\n330a333,334\n>             outl(\"\\t if \"+ldx+\" ~= num then return false end\");\n> \n335c339\n<             outl(\"\\t\"+ newGroup(layoutName).nl());\n---\n>             //outl(\"\\t\"+ newGroup(layoutName).nl());\n345,346c349,350\n<                 outl(\"\\t\"+ newGroup(group.name));\n<                 outl(\"\\t\"+ insertInGroup(layoutName, \"groups['\"+ group.name +\"']\").nl());\n---\n>                 //outl(\"\\t\"+ newGroup(group.name));\n>                 //outl(\"\\t\"+ insertInGroup(layoutName, \"groups['\"+ group.name +\"']\").nl());\n406,407c410,412\n< \n<             return layouttxt;\n---\n> \t            //ozawa\n> \t        stack.push(layouttxt)\n>             //return layouttxt;\n416a422,423\n>     //ozawa\n>     return stack;\n445c452,454\n<         FLfile.write(fileurl, layout);\n---\n>         for(var l in layout){\n>             FLfile.write(fileurl+l+'.lua', layout[l]);\n>         }\n```\n\n\u25bc\u4e0a\u8a18\u3067\u751f\u6210\u3055\u308c\u305f\u30ec\u30a4\u30a2\u30a6\u30c8Lua\u3092\u5b9f\u884c\u3059\u308b\n\n```\n------\n--avatar.lua\n------\n\nlocal storyboard = require('storyboard')\nlocal scene = storyboard.newScene()\nlocal loqsprite = require('loq_sprite')\nlocal sg    --\u30b7\u30fc\u30f3\u306eView\nlocal grp\nlocal files = {}\nlocal num = 0\nlocal fnum = 1\nlocal character\nlocal logoAnim\nlocal logoAnimKey\n\n\n--\u3053\u308c\u3092\u5909\u66f4\u3059\u308b\u3068\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u5207\u308a\u66ff\u308f\u308b\nlocal action = 'idle'\n\nfunction scene:createScene( event )\n    logoAnimKey = 0\n    \n    --\u5404\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u30d5\u30ec\u30fc\u30e0\u6570\u3092\u7ba1\u7406(\u3053\u3053\u306fFlash\u306e\u30d5\u30ec\u30fc\u30e0\u6570\u3092\u307f\u3066\u66f8\u3044\u3066\u304f\u3060\u3055\u3044...)\n    files.cnt = {\n        idle=30,\n        walk=14,\n        punchS=17,\n    }\n    --\u3053\u3053\u306fExport Layout For Corona.jsfl\u3067\u304b\u304d\u51fa\u3057\u305flua\u3092\u8aad\u307f\u8fbc\u3080\n    files.idle = \n    {\n        require('pause__idle0'),\n        require('pause__idle1'),\n        require('pause__idle2'),\n        require('pause__idle3'),\n        require('pause__idle4'),   \n    }\n\n    files.walk = {\n        require('pause__walk0'),\n        require('pause__walk1'),\n        require('pause__walk2'),\n        require('pause__walk3'),\n        require('pause__walk4')\n    }\n\n    files.punchS = {\n        require('pause__punchS0'),\n        require('pause__punchS1'),\n        require('pause__punchS2'),\n        require('pause__punchS3'),\n        require('pause__punchS4'),\n        require('pause__punchS5'),\n        require('pause__punchS6'),\n        require('pause__punchS7'),\n        require('pause__punchS8')\n    }\n\n\n    sg = self.view\n    local img  = loqsprite.newFactory('face_01_01',\n                                      'body_02_01',\n                                      'hair_04_01',\n                                      'c_shadow')    \n    grp = display.newGroup()\n    local createNewLoqSprite = {\n        exec= function(loqSprite,group) \n        return {\n            stack ={},\n            unUsed ={},\n            grp = group,\n            ls = loqSprite,\n            --loq_sprite\u306enewSpriteGroup\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\n            newSpriteGroup = function(self,name)\n                if self.stack[name] == nil then\n                    self.stack[name] = self.ls:newSpriteGroup(name)\n                    self.grp:insert(self.stack[name])\n                end\n                if self.unUsed[name] ~= nil then\n                    self.unUsed[name] = false\n                end\n                self.stack[name].alpha = 1\n                return self.stack[name]\n            end         \n      }   \n      end\n    }\n    character = createNewLoqSprite.exec(img,grp)\n   \n    grp.x = 100\n    grp.y = 260\n\n\n    \n    --\u80cc\u666f\u307f\u3065\u3089\u3044\u306e\u3067\n    local bg = display.newRect(sg,0,0,320,480)\n    bg:setFillColor(100,0,0)\n    \n\n    --\u5207\u308a\u66ff\u3048\u30dc\u30bf\u30f3\n    local name = {'idle','walk','punchS'}\n    \n    local i\n    for i=1,3 do\n        local rect = display.newRoundedRect(sg,20+100*(i-1),400,80,60,10)\n        rect.num = i\n        local text = display.newText(sg,name[i],30+100*(i-1),410,nil,16)\n        text:setTextColor(0,0,0)\n        \n        rect:addEventListener('tap',function(event)\n            action = name[i]\n            num = 0\n            fnum = 1                \n        end)\n    end\n\n    \n    --\u30ed\u30b4\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n    logoSprites = display.newGroup()\n    logoSprites:scale(0.5,0.5)\n    logoSprites.y = -30\n    titleLogoSheet = loqsprite.newFactory('sheet_titleLogo')\n    logoAnim = createNewLoqSprite.exec(titleLogoSheet,logoSprites)\n\n    --\u30a2\u30cb\u30e1\u5b9f\u884c\u30dc\u30bf\u30f3\n    local rect = display.newRoundedRect(sg,220,200,80,60,10)\n    rect:addEventListener('tap',function(event)\n       logoAnimKey = 0\n       \n    end)\nend\n\nlocal function enterFrame(event)\n    \n    if logoAnimKey < 17 then\n        require('layout_titleLogo'..logoAnimKey).createLayout(logoAnim,logoAnimKey)\n        logoAnimKey = logoAnimKey+1\n    end\n    \n    local k,v\n    for k,v in pairs(character.stack) do\n         character.unUsed[k] = true    \n    end\n    \n    local p = files[action][fnum].createLayout(character,num)\n    if p ~= false then\n        for k,v in pairs(character.unUsed) do\n             if v==true then\n                 character.stack[k].alpha = 0\n             end\n        end\n        fnum = fnum + 1\n        if fnum > #files[action] then\n            fnum = 1\n        end\n    end\n    num = num +1 \n    if num > files.cnt[action] then\n        num = 0        \n    end\nend\n\nfunction scene: destroyScene(event)\n    display.remove(self.view)\nend\n\nscene:addEventListener( 'destroyScene', scene )\nscene:addEventListener( 'createScene', scene )\nRuntime:addEventListener( 'enterFrame', enterFrame )\n\nreturn scene\n```\n\n\u308f\u3051\u308f\u304b\u3089\u306a\u3051\u308c\u3070\u8cea\u554f\u3044\u305f\u3060\u3051\u308c\u3070\u2026\u3002", "tags": ["Corona"]}