{"context": " More than 1 year has passed since last update.rasbery-pi\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u5916\u4ed8\u3051HDD\u3092\u63a5\u7d9a\u3001Mac\u306eTimeMachine\u306b\u8868\u793a\u3055\u308c\u308b\u307e\u3067\u3002\n\nrasbery-pi\u306e\u8a2d\u5b9a\n\n\u30c7\u30a3\u30b9\u30af\u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\nSD\u30ab\u30fc\u30c9\u306braspberrypi\u306e\u30a4\u30e1\u30fc\u30b8\u66f8\u304d\u8fbc\u307f\u3092\u3057\u307e\u3059\nMac\u306b\u3067\u3082SD\u30ab\u30fc\u30c9\u3092\u3055\u3057\u3066\u30b3\u30de\u30f3\u30c9\u64cd\u4f5c\nmount\n> /dev/disk1s1 on /Volumes/Untitled (exfat, local, nodev, nosuid, noowners)\n\ndiskutil umount /dev/disk1s1\n\n\n\nhttp://www.raspberrypi.org/downloads\nimg\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nsudo time dd bs=1m if=2013-02-09-wheezy-raspbian.img of=/dev/disk1\nsudo diskutil umountDisk /dev/disk1\n\n\n\n\u8d77\u52d5\u3001\u521d\u671f\u8a2d\u5b9a\nrasbery-pi\u306bSD\u30ab\u30fc\u30c9\u3092\u5dee\u3057\u8fbc\u3093\u3067\u96fb\u6e90\u3082\u63a5\u7d9a\u3057\u3066\u8d77\u52d5\u3002\n\u521d\u671f\u72b6\u614b\u3067\u306f2GB\u306e\u5bb9\u91cf\u3057\u304bSD\u30ab\u30fc\u30c9\u3092\u4f7f\u3063\u3066\u304f\u308c\u306a\u3044\u306e\u3067\nraspi-config\u306eexpand_rootfs\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u3066\u304b\u3089reboot\u5f8c\u306b\u9069\u5fdc\u3055\u308c\u307e\u3059\u3002\nraspi-config\u306e\u753b\u9762\u306frasbery-pi\u3092\u8d77\u52d5\u3057\u305f\u3089\u6700\u521d\u306b\u8868\u793a\u3055\u308c\u308b\u753b\u9762\u3002\n\u3042\u3068\u304b\u3089\u753b\u9762\u3092\u8868\u793a\u3057\u305f\u304f\u306a\u3063\u305f\u3089\nsudo raspi-config\n\n\u3067OK\n\u4ed6\u306b\u3082\n\nlocate\u306e\u8a2d\u5b9a\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\nGUI\u8d77\u52d5\u306e\u6709\u7121\nssh\u63a5\u7d9a\u306e\u8a2d\u5b9a\n\n\u7b49\u304c\u3042\u308b\u306e\u3067\u90fd\u5ea6\u5207\u308a\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\u3068\u308a\u3042\u3048\u305assh\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u3051\u3070\u4f55\u3068\u304b\u306a\u308b(\u304b\u3082)\u3002\n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u8a2d\u5b9a\n\u521d\u671f\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u3089authorized_keys\u3092\u7f6e\u3044\u3066ssh\u306e\u8a2d\u5b9a\u3084\u56fa\u5b9aIP\u306e\u8a2d\u5b9a\nsudo vi /etc/network/interfaces\n\niface lo inet loopback\niface eth0 inet static\n  address 192.168.111.100\n  netmask 255.255.255.0\n  gateway 192.168.111.1\n  dns-nameservers 8.8.8.8\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\nsudo apt-get install screen vim git\nscreen\nsudo apt-get update; sudo apt-get -y dist-upgrade; sudo reboot\n\n\u7d50\u69cb\u6642\u9593\u304b\u304b\u308b\u306e\u3067\u653e\u7f6e\u3057\u3066\u672c\u3067\u3082\u8aad\u3093\u3067\u307e\u3057\u3087\u3046\u3002\nscreen\u3067\u958b\u304f\u610f\u5473\u306f\u305d\u3093\u306a\u306b\u7121\u3044\u304b\u3082\u3067\u3059\u304c\u3001\u9577\u3044\u51e6\u7406\u304c\u9014\u4e2d\u3067\u4e2d\u65ad(ssh\u304c\u5207\u308c\u308b)\u3055\u308c\u305f\u3089\u4e0d\u5b89\u306a\u306e\u3067\u306a\u3093\u3068\u306a\u304f\u3067\u3059\u3002\n\nTime Machine\u306e\u8a2d\u5b9a\n\nNetatalk\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get -y install libssl-dev libgcrypt11-dev libpam0g-dev libwrap0-dev libdb-dev libavahi-client-dev libacl1-dev libldap2-dev\ncd /usr/local/src\nsudo wget http://prdownloads.sourceforge.net/netatalk/netatalk-3.0.3.tar.bz2\nsudo bzip2 -dc netatalk-3.0.3.tar.bz2 | sudo tar xvf -\ncd netatalk-3.0.3/\nscreen\nsudo ./configure --with-init-style=debian; sudo make ; sudo make install\n\n\u304a\u8336\u3067\u3082\u3059\u3059\u3063\u3066\u5f85\u3061\u307e\u3059\n\nHDD\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n\u4eca\u56de\u306f\u5916\u4ed8\u3051HDD,1TB\u306e\u5bb9\u91cf\u3059\u3079\u3066\u3092TimeMachine\u7528\u306e\u5bb9\u91cf\u3068\u3057\u3066\u4f7f\u3044\u307e\u3059\u3002\nsudo fdisk -l\n\n\u4eca\u56de\u306f/dev/sda1\u306b\u63a5\u7d9a\u3067\u304d\u305f\u3088\u3046\u3067\u3059\u3002\nsudo fdisk /dev/sda1\n\n\u30b3\u30de\u30f3\u30c9\u3001d- > n -> p -> \u7a7a\u30a8\u30f3\u30bf\u30fc\u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a -> w\n\u65e2\u5b58\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u3059\u3079\u3066\u524a\u9664\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\uff11\u3064\u3060\u3051\u4f5c\u6210\nsudo mkfs -t ext3 /dev/sda1\n\n\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3055\u308c\u308b\u306e\u3092\u3057\u3070\u3057\u5f85\u3064\u3002\n\nHDD\u306e\u30de\u30a6\u30f3\u30c8\nsudo mkdir /media/mbatc\nsudo mount /dev/sda1 /media/mbatc\nmount\n\n/dev/sda1 on /media/mbatc\u306e\u8868\u793a\u304c\u3042\u308c\u3070OK\n\u8d77\u52d5\u6642\u306e\u81ea\u52d5\u30de\u30a6\u30f3\u30c8\u8a2d\u5b9a\nsudo vi /etc/fstab\n\n/dev/sda1       /media/mbatc    ext3    relatime        0       2\n\nsudo umount /media/mbatc\nsudo mount -a\nmount\n\n\nNetatalk\u306e\u8a2d\u5b9a\nNetatalk3\u7cfb\u304b\u3089\u306fsamba\u98a8\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\uff11\u3064\u3067\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3088\u3046\u3067\u3059\u3002\u5927\u5909\u4fbf\u5229\u3002\nsudo vi /usr/local/etc/afp.conf\n\n\nafp.conf\n;\n; Netatalk 3.x configuration file\n;\n\n[Global]\nmac charset = MAC_JAPANESE\nuam list = uams_clrtxt.so uams_dhx.so uams_dhx2.so uams_guest.so\nlog file = /var/log/netatalk.log\nvol preset = my default values\n\n[my default values]\nvalid users = @pi\nfile perm = 0660\ndirectory perm = 0770\n\n[Time Machine]\npath = /media/mbatc\ntime machine = yes\nvol size limit = 1000000\n\n\n\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3059\u308b\u6642\u306e\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u306f\u6a19\u6e96\u306epi\u30e6\u30fc\u30b6\u30fc\u3067\u3059\u3002\u5225\u9014\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u3066\u8a2d\u5b9a\u3057\u3066\u3082\u826f\u3044\u3067\u3057\u3087\u3046\u3002\nsudo service netatalk restart\n\nMac\u5074\u3067TimeMachine\u306eHDD\u8a2d\u5b9a\u306b\u8868\u793a\u3055\u308c\u308b\u3093\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u4f5c\u6210\u3057\u3066\u5b8c\u4e86\u3002\n\nrasbery-pi\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u5916\u4ed8\u3051HDD\u3092\u63a5\u7d9a\u3001Mac\u306eTimeMachine\u306b\u8868\u793a\u3055\u308c\u308b\u307e\u3067\u3002\n\n## rasbery-pi\u306e\u8a2d\u5b9a\n\n### \u30c7\u30a3\u30b9\u30af\u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\n\nSD\u30ab\u30fc\u30c9\u306braspberrypi\u306e\u30a4\u30e1\u30fc\u30b8\u66f8\u304d\u8fbc\u307f\u3092\u3057\u307e\u3059\nMac\u306b\u3067\u3082SD\u30ab\u30fc\u30c9\u3092\u3055\u3057\u3066\u30b3\u30de\u30f3\u30c9\u64cd\u4f5c\n\n    mount\n    > /dev/disk1s1 on /Volumes/Untitled (exfat, local, nodev, nosuid, noowners)\n\n    diskutil umount /dev/disk1s1\n\n* http://www.raspberrypi.org/downloads\nimg\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\n    sudo time dd bs=1m if=2013-02-09-wheezy-raspbian.img of=/dev/disk1\n    sudo diskutil umountDisk /dev/disk1\n\n\n### \u8d77\u52d5\u3001\u521d\u671f\u8a2d\u5b9a\n\nrasbery-pi\u306bSD\u30ab\u30fc\u30c9\u3092\u5dee\u3057\u8fbc\u3093\u3067\u96fb\u6e90\u3082\u63a5\u7d9a\u3057\u3066\u8d77\u52d5\u3002\n\n\u521d\u671f\u72b6\u614b\u3067\u306f2GB\u306e\u5bb9\u91cf\u3057\u304bSD\u30ab\u30fc\u30c9\u3092\u4f7f\u3063\u3066\u304f\u308c\u306a\u3044\u306e\u3067\nraspi-config\u306e`expand_rootfs`\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u3066\u304b\u3089reboot\u5f8c\u306b\u9069\u5fdc\u3055\u308c\u307e\u3059\u3002\n\nraspi-config\u306e\u753b\u9762\u306frasbery-pi\u3092\u8d77\u52d5\u3057\u305f\u3089\u6700\u521d\u306b\u8868\u793a\u3055\u308c\u308b\u753b\u9762\u3002\n\u3042\u3068\u304b\u3089\u753b\u9762\u3092\u8868\u793a\u3057\u305f\u304f\u306a\u3063\u305f\u3089\n\n    sudo raspi-config\n\n\u3067OK\n\u4ed6\u306b\u3082\n\n- locate\u306e\u8a2d\u5b9a\n- \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\n- GUI\u8d77\u52d5\u306e\u6709\u7121\n- ssh\u63a5\u7d9a\u306e\u8a2d\u5b9a\n\n\u7b49\u304c\u3042\u308b\u306e\u3067\u90fd\u5ea6\u5207\u308a\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\u3068\u308a\u3042\u3048\u305assh\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u3051\u3070\u4f55\u3068\u304b\u306a\u308b(\u304b\u3082)\u3002\n\n### \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u8a2d\u5b9a\n\u521d\u671f\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u3089authorized_keys\u3092\u7f6e\u3044\u3066ssh\u306e\u8a2d\u5b9a\u3084\u56fa\u5b9aIP\u306e\u8a2d\u5b9a\n\n    sudo vi /etc/network/interfaces\n\n```interfaces\niface lo inet loopback\niface eth0 inet static\n  address 192.168.111.100\n  netmask 255.255.255.0\n  gateway 192.168.111.1\n  dns-nameservers 8.8.8.8\n```\n\n### \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\n    sudo apt-get install screen vim git\n    screen\n    sudo apt-get update; sudo apt-get -y dist-upgrade; sudo reboot\n\n\u7d50\u69cb\u6642\u9593\u304b\u304b\u308b\u306e\u3067\u653e\u7f6e\u3057\u3066\u672c\u3067\u3082\u8aad\u3093\u3067\u307e\u3057\u3087\u3046\u3002\n`screen`\u3067\u958b\u304f\u610f\u5473\u306f\u305d\u3093\u306a\u306b\u7121\u3044\u304b\u3082\u3067\u3059\u304c\u3001\u9577\u3044\u51e6\u7406\u304c\u9014\u4e2d\u3067\u4e2d\u65ad(ssh\u304c\u5207\u308c\u308b)\u3055\u308c\u305f\u3089\u4e0d\u5b89\u306a\u306e\u3067\u306a\u3093\u3068\u306a\u304f\u3067\u3059\u3002\n\n## Time Machine\u306e\u8a2d\u5b9a\n\n### Netatalk\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n    sudo apt-get -y install libssl-dev libgcrypt11-dev libpam0g-dev libwrap0-dev libdb-dev libavahi-client-dev libacl1-dev libldap2-dev\n    cd /usr/local/src\n    sudo wget http://prdownloads.sourceforge.net/netatalk/netatalk-3.0.3.tar.bz2\n    sudo bzip2 -dc netatalk-3.0.3.tar.bz2 | sudo tar xvf -\n    cd netatalk-3.0.3/\n    screen\n    sudo ./configure --with-init-style=debian; sudo make ; sudo make install\n\n\u304a\u8336\u3067\u3082\u3059\u3059\u3063\u3066\u5f85\u3061\u307e\u3059\n\n### HDD\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n\n\u4eca\u56de\u306f\u5916\u4ed8\u3051HDD,1TB\u306e\u5bb9\u91cf\u3059\u3079\u3066\u3092TimeMachine\u7528\u306e\u5bb9\u91cf\u3068\u3057\u3066\u4f7f\u3044\u307e\u3059\u3002\n\n    sudo fdisk -l\n\n\u4eca\u56de\u306f`/dev/sda1`\u306b\u63a5\u7d9a\u3067\u304d\u305f\u3088\u3046\u3067\u3059\u3002\n\n    sudo fdisk /dev/sda1\n\n\u30b3\u30de\u30f3\u30c9\u3001d- > n -> p -> \u7a7a\u30a8\u30f3\u30bf\u30fc\u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a -> w\n\u65e2\u5b58\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u3059\u3079\u3066\u524a\u9664\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\uff11\u3064\u3060\u3051\u4f5c\u6210\n\n    sudo mkfs -t ext3 /dev/sda1\n\n\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3055\u308c\u308b\u306e\u3092\u3057\u3070\u3057\u5f85\u3064\u3002\n\n### HDD\u306e\u30de\u30a6\u30f3\u30c8\n\n    sudo mkdir /media/mbatc\n    sudo mount /dev/sda1 /media/mbatc\n    mount\n\n`/dev/sda1 on /media/mbatc`\u306e\u8868\u793a\u304c\u3042\u308c\u3070OK\n\u8d77\u52d5\u6642\u306e\u81ea\u52d5\u30de\u30a6\u30f3\u30c8\u8a2d\u5b9a\n\n    sudo vi /etc/fstab\n\n```fstab\n/dev/sda1       /media/mbatc    ext3    relatime        0       2\n```\n\n    sudo umount /media/mbatc\n    sudo mount -a\n    mount\n\n### Netatalk\u306e\u8a2d\u5b9a\n\nNetatalk3\u7cfb\u304b\u3089\u306fsamba\u98a8\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\uff11\u3064\u3067\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3088\u3046\u3067\u3059\u3002\u5927\u5909\u4fbf\u5229\u3002\n\n    sudo vi /usr/local/etc/afp.conf\n\n```afp.conf\n;\n; Netatalk 3.x configuration file\n;\n\n[Global]\nmac charset = MAC_JAPANESE\nuam list = uams_clrtxt.so uams_dhx.so uams_dhx2.so uams_guest.so\nlog file = /var/log/netatalk.log\nvol preset = my default values\n\n[my default values]\nvalid users = @pi\nfile perm = 0660\ndirectory perm = 0770\n\n[Time Machine]\npath = /media/mbatc\ntime machine = yes\nvol size limit = 1000000\n```\n\n\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3059\u308b\u6642\u306e\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u306f\u6a19\u6e96\u306epi\u30e6\u30fc\u30b6\u30fc\u3067\u3059\u3002\u5225\u9014\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u3066\u8a2d\u5b9a\u3057\u3066\u3082\u826f\u3044\u3067\u3057\u3087\u3046\u3002\n\n    sudo service netatalk restart\n\n\nMac\u5074\u3067TimeMachine\u306eHDD\u8a2d\u5b9a\u306b\u8868\u793a\u3055\u308c\u308b\u3093\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u4f5c\u6210\u3057\u3066\u5b8c\u4e86\u3002\n", "tags": ["RaspberryPi", "Mac", "timemachine"]}