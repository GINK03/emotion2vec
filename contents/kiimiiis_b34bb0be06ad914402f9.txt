{"context": " More than 1 year has passed since last update.\n\nPHP\u3067\u6df1\u3055\u512a\u5148\u63a2\u7d22\u3092\u7528\u3044\u3066\u8ff7\u8def\u554f\u984c\u3092\u89e3\u304f\n\n\u554f\u984c\nS\u5730\u70b9\u304b\u3089G\u5730\u70b9\u306b\u305f\u3069\u308a\u7740\u304f\u304b\u3069\u3046\u304b\u691c\u8a3c\u305b\u3088\n\u4f46\u3057\u30010\u306f\u9032\u3081\u3001X\u306f\u9032\u3081\u306a\u3044\u3068\u3059\u308b\u3002\n\u305f\u3069\u308a\u3064\u3044\u305f\u5834\u5408\u306ftrue\u3092\u5931\u6557\u3057\u305f\u5834\u5408\u306ffalse\u3092\u8fd4\u305b\n\u8ff7\u8def\u306fCSV\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u53d6\u308b\n\n\u30b3\u30fc\u30c9\n\nmaze.csv\n0,0,S,0,X,0\n0,G,X,0,0,0\nX,0,0,X,0,0\nX,X,0,0,0,X\n\n\n\nMaze.php\n/*\n\u8ff7\u8def\u30af\u30e9\u30b9\n \u6df1\u3055\u63a2\u7d22\u6cd5\u3067\u8ff7\u8def\u3092\u89e3\u304f\n */\n\nClass Maze{\n    public $maze;    //\u8ff7\u8def\u306e\u914d\u5217\n    public $reached; //\u63a2\u7d22\u3057\u305f\u5730\u70b9\u3092\u8a18\u9332\u3059\u308b\u914d\u5217\n    public $isGoal;  //\u30b4\u30fc\u30eb\u3067\u304d\u305f\u3089true\n    const MAX_W = 6; //x\u8ef8\u65b9\u5411\u306e\u5e45\n    const MAX_H = 4; //y\u8ef8\u65b9\u5411\u306e\u5e45\n\n    public function __construct($filePath) {\n        $this->maze    = self::createMazeFromCSV($filePath);\n        $this->reached = array();\n        $this->isGoal  = false;\n    }\n\n    //\u8ff7\u8def\u306ecsv\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u53d6\u3063\u3066\u3001\u8ff7\u8def\u306e\u914d\u5217\u3092\u4f5c\u6210\u3059\u308b\n    public function createMazeFromCSV($filePath) {\n        $maze = array();\n\n        $data  = file_get_contents($filePath);\n        $lines = explode(\"\\r\\n\", $data);\n        foreach ($lines as $line) {\n            $maze[] = explode(\",\",$line);\n        }\n        return $maze;\n    }\n\n    public function search($row, $col) {\n        //Goal\u3057\u3066\u3044\u305f\u3089\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u3002\n        if ($this->isGoal) {\n            return true;\n        }\n        //\u8ff7\u8def\u306e\u5916\u5074\u304b\u58c1\u306e\u5834\u5408\u306f\u4f55\u3082\u3057\u306a\u3044\n        if ($row < 0 || self::MAX_H <= $row || $col < 0 || self::MAX_W <= $col || $this->maze[$row][$col] == 'X') {\n            return false;\n        }\n        //\u65e2\u306b\u5230\u9054\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u4f55\u3082\u3057\u306a\u3044\n        if (isset($this->reached[$row][$col]) && $this->reached[$row][$col] == true) {\n            return false ;\n        }\n\n        //\u4eca\u3044\u308b\u5730\u70b9\u306b\u30c1\u30a7\u30c3\u30af\u3057\u305f\u3053\u3068\u3092\u8a18\u9332\u3059\u308b\n        $this->reached[$row][$col] = true;\n\n        if ($this->maze[$row][$col] == 'G') {\n            //exit('\u30b4\u30fc\u30eb');\n            $this->isGoal = true;\n            //echo'<pre>';\n            //var_dump($this->reached);\n            //echo '</pre>';\n            return true;\n        }\n\n        self::search($row, $col + 1); //\u53f3\u306b\u9032\u3080\n        //var_dump('\u5b9f\u884c\u3057\u305f\uff1f');\n        self::search($row, $col - 1); //\u5de6\u306b\u9032\u3080\n        //var_dump('\u5b9f\u884c\u3057\u305f\uff1f');\n         self::search($row + 1, $col); //\u4e0a\u306b\u9032\u3080\n        //var_dump('\u5b9f\u884c\u3057\u305f\uff1f');\n        self::search($row - 1, $col); //\u4e0b\u306b\u9032\u3080\n\n        //\u6700\u7d42\u7d50\u679c\n        if ($this->isGoal) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\n\n\n\nmazeTest.php\n/* \n\u6df1\u3055\u512a\u5148\u63a2\u7d22\u3067\u8ff7\u8def\u3092\u89e3\u304f\n\u554f\u984c\u306fS\u5730\u70b9\u304b\u3089G\u5730\u70b9\u306b\u305f\u3069\u308a\u7740\u304f\u304b\u3069\u3046\u304b\u691c\u8a3c\u305b\u3088\n\u4f46\u3057\u30010\u306f\u9032\u3081\u3001X\u306f\u9032\u3081\u306a\u3044\u3068\u3059\u308b\u3002\n\u305f\u3069\u308a\u3064\u3044\u305f\u5834\u5408\u306ftrue\u3092\u5931\u6557\u3057\u305f\u5834\u5408\u306ffalse\u3092\u8fd4\u305b\n */\n\nrequire_once './part/Maze.php';\n\n$maze = new Maze('../file/maze.csv');\n//S\u5730\u70b9\u3092\u5f15\u6570\u306b\u30bb\u30c3\u30c8\u3059\u308b\nvar_dump($maze->search(0, 2));\n\n\n\n\n\n\u53c2\u8003\u30b5\u30a4\u30c8 (\u30c1\u30e7\u30fc\u5206\u304b\u308a\u3084\u3059\u3044)\nhttp://www.slideshare.net/chokudai/dfs-49066641\n\n\u53c2\u8003\u66f8\u7c4d\n\u6700\u5f37\u6700\u901f\u30a2\u30eb\u30b4\u30ea\u30ba\u30de\u30fc\u990a\u6210\u8b1b\u5ea7 \u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u30b3\u30f3\u30c6\u30b9\u30c8TopCoder\u653b\u7565\u30ac\u30a4\u30c9\n#PHP\u3067\u6df1\u3055\u512a\u5148\u63a2\u7d22\u3092\u7528\u3044\u3066\u8ff7\u8def\u554f\u984c\u3092\u89e3\u304f\n\n##\u554f\u984c\nS\u5730\u70b9\u304b\u3089G\u5730\u70b9\u306b\u305f\u3069\u308a\u7740\u304f\u304b\u3069\u3046\u304b\u691c\u8a3c\u305b\u3088\n\u4f46\u3057\u30010\u306f\u9032\u3081\u3001X\u306f\u9032\u3081\u306a\u3044\u3068\u3059\u308b\u3002\n\u305f\u3069\u308a\u3064\u3044\u305f\u5834\u5408\u306ftrue\u3092\u5931\u6557\u3057\u305f\u5834\u5408\u306ffalse\u3092\u8fd4\u305b\n\u8ff7\u8def\u306fCSV\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u53d6\u308b\n\n##\u30b3\u30fc\u30c9\n```csv:maze.csv\n0,0,S,0,X,0\n0,G,X,0,0,0\nX,0,0,X,0,0\nX,X,0,0,0,X\n```\n\n```php:Maze.php\n/*\n\u8ff7\u8def\u30af\u30e9\u30b9\n \u6df1\u3055\u63a2\u7d22\u6cd5\u3067\u8ff7\u8def\u3092\u89e3\u304f\n */\n\nClass Maze{\n    public $maze;    //\u8ff7\u8def\u306e\u914d\u5217\n    public $reached; //\u63a2\u7d22\u3057\u305f\u5730\u70b9\u3092\u8a18\u9332\u3059\u308b\u914d\u5217\n    public $isGoal;  //\u30b4\u30fc\u30eb\u3067\u304d\u305f\u3089true\n    const MAX_W = 6; //x\u8ef8\u65b9\u5411\u306e\u5e45\n    const MAX_H = 4; //y\u8ef8\u65b9\u5411\u306e\u5e45\n\n    public function __construct($filePath) {\n        $this->maze    = self::createMazeFromCSV($filePath);\n        $this->reached = array();\n        $this->isGoal  = false;\n    }\n\n    //\u8ff7\u8def\u306ecsv\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u53d6\u3063\u3066\u3001\u8ff7\u8def\u306e\u914d\u5217\u3092\u4f5c\u6210\u3059\u308b\n    public function createMazeFromCSV($filePath) {\n        $maze = array();\n\n        $data  = file_get_contents($filePath);\n        $lines = explode(\"\\r\\n\", $data);\n        foreach ($lines as $line) {\n            $maze[] = explode(\",\",$line);\n        }\n        return $maze;\n    }\n\n    public function search($row, $col) {\n        //Goal\u3057\u3066\u3044\u305f\u3089\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u3002\n        if ($this->isGoal) {\n            return true;\n        }\n        //\u8ff7\u8def\u306e\u5916\u5074\u304b\u58c1\u306e\u5834\u5408\u306f\u4f55\u3082\u3057\u306a\u3044\n        if ($row < 0 || self::MAX_H <= $row || $col < 0 || self::MAX_W <= $col || $this->maze[$row][$col] == 'X') {\n            return false;\n        }\n        //\u65e2\u306b\u5230\u9054\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u4f55\u3082\u3057\u306a\u3044\n        if (isset($this->reached[$row][$col]) && $this->reached[$row][$col] == true) {\n            return false ;\n        }\n\n        //\u4eca\u3044\u308b\u5730\u70b9\u306b\u30c1\u30a7\u30c3\u30af\u3057\u305f\u3053\u3068\u3092\u8a18\u9332\u3059\u308b\n        $this->reached[$row][$col] = true;\n\n        if ($this->maze[$row][$col] == 'G') {\n            //exit('\u30b4\u30fc\u30eb');\n            $this->isGoal = true;\n            //echo'<pre>';\n            //var_dump($this->reached);\n            //echo '</pre>';\n            return true;\n        }\n\n        self::search($row, $col + 1); //\u53f3\u306b\u9032\u3080\n        //var_dump('\u5b9f\u884c\u3057\u305f\uff1f');\n        self::search($row, $col - 1); //\u5de6\u306b\u9032\u3080\n        //var_dump('\u5b9f\u884c\u3057\u305f\uff1f');\n         self::search($row + 1, $col); //\u4e0a\u306b\u9032\u3080\n        //var_dump('\u5b9f\u884c\u3057\u305f\uff1f');\n        self::search($row - 1, $col); //\u4e0b\u306b\u9032\u3080\n\n        //\u6700\u7d42\u7d50\u679c\n        if ($this->isGoal) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\n```\n\n```php:mazeTest.php\n/* \n\u6df1\u3055\u512a\u5148\u63a2\u7d22\u3067\u8ff7\u8def\u3092\u89e3\u304f\n\u554f\u984c\u306fS\u5730\u70b9\u304b\u3089G\u5730\u70b9\u306b\u305f\u3069\u308a\u7740\u304f\u304b\u3069\u3046\u304b\u691c\u8a3c\u305b\u3088\n\u4f46\u3057\u30010\u306f\u9032\u3081\u3001X\u306f\u9032\u3081\u306a\u3044\u3068\u3059\u308b\u3002\n\u305f\u3069\u308a\u3064\u3044\u305f\u5834\u5408\u306ftrue\u3092\u5931\u6557\u3057\u305f\u5834\u5408\u306ffalse\u3092\u8fd4\u305b\n */\n\nrequire_once './part/Maze.php';\n\n$maze = new Maze('../file/maze.csv');\n//S\u5730\u70b9\u3092\u5f15\u6570\u306b\u30bb\u30c3\u30c8\u3059\u308b\nvar_dump($maze->search(0, 2));\n\n\n```\n\n##\u53c2\u8003\u30b5\u30a4\u30c8 (\u30c1\u30e7\u30fc\u5206\u304b\u308a\u3084\u3059\u3044)\nhttp://www.slideshare.net/chokudai/dfs-49066641\n\n##\u53c2\u8003\u66f8\u7c4d\n\u6700\u5f37\u6700\u901f\u30a2\u30eb\u30b4\u30ea\u30ba\u30de\u30fc\u990a\u6210\u8b1b\u5ea7 \u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u30b3\u30f3\u30c6\u30b9\u30c8TopCoder\u653b\u7565\u30ac\u30a4\u30c9\n", "tags": ["PHP", "\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0"]}