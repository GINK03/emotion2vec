{"context": " More than 1 year has passed since last update.\u524d\u56de\u306e\u8a18\u4e8b\u3067\u3001\u6b63\u898f\u8868\u73fe\uff08\u306e\u62bd\u8c61\u69cb\u6587\u6728\uff09\u304b\u3089LLVM\u306e\u4e2d\u9593\u8868\u73fe\uff08LLVM IR\uff091\u3078\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3068\u3044\u3046\u8a66\u307f\u3092\u884c\u3063\u305f\u3068\u3053\u308d\u3001Twitter\u3067\u6b21\u306e\u3088\u3046\u306a\u6295\u7a3f\u3092\u3044\u305f\u3060\u3044\u305f2\u3002\n\n@_yyu_ https://t.co/UPV535fqbB \u3068\u304b\u3092\u4f7f\u3046\u3068\u3001Mokkosu\u304b\u3089\u52d5\u7684\u30b3\u30fc\u30c9\u751f\u6210\u304c\u3067\u304d\u3066\u304d\u3063\u3068\u697d\u3057\u3044\u3067\u3059\u3002\u2014 \u30e9\u30e0\u30c0\u592a\u90ce (@lambdataro) 2015, 5\u6708 11\n\n\u3064\u307e\u308a\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c\u6642\u306b\u6b63\u898f\u8868\u73fe\u306b\u5bfe\u5fdc\u3059\u308b\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3092\u751f\u6210\u3057\u3066\u3001\u305d\u308c\u3092\u5b9f\u884c\u3059\u308c\u3070\u901f\u5ea6\u304c\u65e9\u304f\u306a\u3063\u305f\u308a\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3067\u3042\u308b\u3002\u3053\u308c\u306f\u4e00\u822c\u7684\u306bJust in Time\uff08JIT\uff09\u30b3\u30f3\u30d1\u30a4\u30eb\u3068\u547c\u3070\u308c\u3066\u3044\u308b\u3082\u306e\u3067\u3001\u6b63\u898f\u8868\u73fe\u6280\u8853\u5165\u9580\u3068\u3044\u3046\u672c\u3067\u3082\u7d39\u4ecb\u3055\u308c\u3066\u3044\u308b\u3002Mokkosu\u3067\u5b9f\u88c5\u3057\u3066\u3082\u3088\u304b\u3063\u305f\u304c\u3001\u305f\u3076\u3093Mokkosu\u306e\u30d7\u30ed\u30b0\u30e9\u30de\u306f\u305d\u308c\u307b\u3069\u591a\u304f\u306a\u3044\u3060\u308d\u3046\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4eca\u56de\u3082Scala\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3059\u308b\u3053\u3068\u306b\u3059\u308b\u3002\n\n\u6b63\u898f\u8868\u73fe\u306e\u62bd\u8c61\u69cb\u6587\u6728\n\u4eca\u56de\u3082\u6b63\u898f\u8868\u73fe\u306e\u62bd\u8c61\u69cb\u6587\u6728\u3092\u6b21\u306e\u30c7\u30fc\u30bf\u578b\u3067\u8868\u73fe\u3059\u308b\u3002\nsealed trait Regex\ncase object Empty                  extends Regex\ncase class Let(c: Char)            extends Regex\ncase class Con(a: Regex, b: Regex) extends Regex\ncase class Alt(a: Regex, b: Regex) extends Regex\ncase class Star(a: Regex)          extends Regex\n\n\n\u52d5\u7684\u30b3\u30fc\u30c9\u751f\u6210\u306e\u65b9\u6cd5\nJVM\u306e\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\uff08\u30d0\u30a4\u30ca\u30ea\uff09\u3092\u751f\u6210\u3059\u308b\u30b3\u30f3\u30d1\u30a4\u30e9\u3092\u81ea\u529b\u3067\u4f5c\u308b\u3068\u3044\u3046\u306e\u3082\u4e00\u8208\u3060\u3063\u305f\u304c\u3001\u8272\u3005\u8abf\u3079\u305f\u7d50\u679c\u3001ASM\u3068\u3044\u3046\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u3048\u3070\u6c17\u8efd\u306b\u52d5\u7684\u30b3\u30fc\u30c9\u751f\u6210\u304c\u3067\u304d\u305d\u3046\u306a\u6c17\u304c\u3057\u305f\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3053\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u7528\u3044\u3066\u5b9f\u884c\u6642\u306b\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3092\u52d5\u7684\u751f\u6210\u3059\u308b\u3002\n\u305f\u3060\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3053\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u3064\u3044\u3066\u306e\u77e5\u8b58\u306f\u7279\u306b\u5fc5\u8981\u306a\u3044\u3002\n\n\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u306e\u4e2d\u9593\u8868\u73fe\n\u4eca\u56de\u3082\u524d\u56de\u3068\u540c\u3058\u3088\u3046\u306b\u3001\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3092\u8868\u73fe\u3059\u308b\u30c7\u30fc\u30bf\u578b\u3092\u5b9a\u7fa9\u3057\u3066\u3001\u305d\u308c\u3092\u5f8c\u3067\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3078\u5909\u63db\u3059\u308b\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u53d6\u308b\u3002\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u306b\u5bfe\u5fdc\u3059\u308b\u3053\u308c\u3089\u306e\u8868\u73fe\u306e\u3053\u3068\u3092\u3053\u306e\u8a18\u4e8b\u3067\u306f\u4e2d\u9593\u8868\u73fe\u3068\u547c\u3076\u3002\nsealed trait LId\ncase class LInt(n: Int)   extends LId\ncase class LLbl(l: Label) extends LId\n\nsealed trait Repr\ncase object Const1          extends Repr\ncase class  Push(n: Int)    extends Repr\ncase object Dup2            extends Repr\ncase class  Lbl(l: LId)     extends Repr\ncase object Add             extends Repr\ncase class  Goto(l: LId)    extends Repr\ncase class  IfTrue(l: LId)  extends Repr\ncase class  IfCmpNe(l: LId) extends Repr\ncase class  InvokeStatic(p: String, n: String, t: String)  extends Repr\ncase class  InvokeVirtual(p: String, n: String, t: String) extends Repr\n\n\u307e\u305aLId\u306f\u30e9\u30d9\u30eb\u306e\u8b58\u5225\u5b50\u3092\u8868\u73fe\u3059\u308b\u30c7\u30fc\u30bf\u578b\u3067\u3042\u308a\u3001Repr3\u306fJVM\u306e\u547d\u4ee4\u3092\u8868\u73fe\u3059\u308b\u30c7\u30fc\u30bf\u578b\u3067\u3042\u308b\u3002\n\u6700\u5c0f\u306e\u6b63\u898f\u8868\u73fe\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3060\u3051\u306a\u3089\u3070\u3001\u3053\u308c\u3060\u3051\u306e\u547d\u4ee4\u3067\u6e08\u3080\u3068\u3044\u3046\u306e\u306f\u5c11\u3057\u8208\u5473\u6df1\u3044\u3002\n\\def\\AtSOne#1\\csod{%\n    \\begin{array}{c|}\n        \\hline\n        #1\\\\\n        \\hline\n    \\end{array}\n}%\n\\def\\AtSTwo#1,#2\\csod{%\n    \\begin{array}{c|c|}\n        \\hline\n        #1 & #2\\\\\n        \\hline\n    \\end{array}\n}%\n\\def\\AtSThree#1,#2,#3\\csod{%\n    \\begin{array}{c|c|c|}\n        \\hline\n        #1 & #2 & #3\\\\\n        \\hline\n    \\end{array}\n}%\n\\def\\AtSFour#1,#2,#3,#4\\csod{%\n    \\begin{array}{c|c|c|c|}\n        \\hline\n        #1 & #2 & #3 & #4\\\\\n        \\hline\n    \\end{array}\n}%\n\\def\\AtSFive#1,#2,#3,#4,#5\\csod{%\n    \\begin{array}{c|c|c|c|c|}\n        \\hline\n        #1 & #2 & #3 & #4 & #5\\\\\n        \\hline\n    \\end{array}\n}%\n\\def\\SOne#1{\\AtSOne#1\\csod}\n\\def\\STwo#1{\\AtSTwo#1\\csod}\n\\def\\SThree#1{\\AtSThree#1\\csod}\n\\def\\SFour#1{\\AtSFour#1\\csod}\n\\def\\SFive#1{\\AtSFive#1\\csod}\n\\def\\textsc#1{\\dosc#1\\csod}\n\\def\\dosc#1#2\\csod{{\\rm #1{\\scriptsize #2}}}\n\\def\\red#1{\\color{red}{#1}}\n\\def\\blue#1{\\color{blue}{#1}}\n\n\n\u30b9\u30bf\u30c3\u30af\u306b\u95a2\u3059\u308b\u8868\u8a18\nJVM\u306f\u4e00\u672c\u306e\u30b9\u30bf\u30c3\u30af\u306b\u30c7\u30fc\u30bf\u3092\u51fa\u3057\u5165\u308c\u3057\u3066\u8a08\u7b97\u3092\u9032\u3081\u3066\u3044\u304f\u69cb\u9020\u3092\u53d6\u3063\u3066\u3044\u308b\u3002\u3053\u306e\u8a18\u4e8b\u3067\u306f\u5206\u304b\u308a\u3084\u3059\u3055\u306e\u305f\u3081\u306b\u3001\u30b9\u30bf\u30c3\u30af\u306b\u5165\u3063\u305f\u30c7\u30fc\u30bf\u3092\u6b21\u306e\u3088\u3046\u306b\u8868\u3059\u3002\n\\SFive{\\red{s},\\blue{t},a,c,k}\n\n\u3053\u3053\u304b\u3089\u3001\u4f8b\u3048\u3070\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u3092\u7834\u68c4\u3059\u308b\u547d\u4ee4 $\\textsc{POP}$ \u3092\u884c\u3046\u3068\u3001\u6b21\u306e\u3088\u3046\u306b\u30b9\u30bf\u30c3\u30af\u304c\u5909\u5316\u3059\u308b\u3002\n\\SFive{\\red{s},\\blue{t},a,c,k} \\Rightarrow \\SFour{\\blue{t},a,c,k}\n\n\u305d\u3057\u3066\u3001\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u30c7\u30fc\u30bf\u3092\u52a0\u3048\u308b\u547d\u4ee4 $\\textsc{PUSH}(\\red{c})$ \u3092\u884c\u3046\u3068\u3001\u6b21\u306e\u3088\u3046\u306b\u30b9\u30bf\u30c3\u30af\u304c\u5909\u5316\u3059\u308b\u3002\n\\SFour{\\blue{t},a,c,k} \\Rightarrow \\SFive{\\red{c},\\blue{t},a,c,k}\n\n\u307e\u305f\u3001\u7a7a\u306e\u30b9\u30bf\u30c3\u30af\u3092\u6b21\u306e\u3088\u3046\u306b\u8868\u3059\u3002\n\\SOne{\\phantom{a}}\n\n\n\u6b63\u898f\u8868\u73fe\u304b\u3089\u4e2d\u9593\u8868\u73fe\u3078\u306e\u5909\u63db\n\u524d\u56de\u306e\u8a18\u4e8b\u3067\u306f\u30ec\u30b8\u30b9\u30bf\u3092\u7528\u3044\u308bLLVM\u306e\u7279\u6027\u4e0a\u3001\u30ec\u30b8\u30b9\u30bf\u306e\u756a\u53f7\u3092\u30b3\u30f3\u30d1\u30a4\u30e9\u304c\u7ba1\u7406\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u305a\u3001\u30b3\u30fc\u30c9\u304c\u5fc5\u8981\u4ee5\u4e0a\u306b\u8907\u96d1\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u3002\u3068\u3053\u308d\u304cJVM\u306f\u4e00\u672c\u306e\u30b9\u30bf\u30c3\u30af\u3092\u64cd\u4f5c\u3059\u308b\u30b9\u30bf\u30c3\u30af\u30de\u30b7\u30f3\u3068\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u524d\u56de\u306e\u30b3\u30fc\u30c9\u3088\u308a\u5c11\u3057\u30b7\u30f3\u30d7\u30eb\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\u307e\u305f\u3001\u4eca\u56de\u3082\u524d\u56de\u3068\u540c\u69d8\u306b\u6b63\u898f\u8868\u73fe\u6280\u8853\u5165\u9580\u3084Regular Expression Matching: the Virtual Machine Approach\u3067\u7d39\u4ecb\u3055\u308c\u305f\u3066\u3044\u305fVM\u3092\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3067\u8868\u73fe\u3059\u308b\u30a2\u30d7\u30ed\u30fc\u30c1\u3068\u306a\u308b\u3002\n\u305d\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306a\u578b\u3092\u6301\u3064\u95a2\u6570\u3092\u751f\u6210\u3059\u308b\u3002\npublic static boolean test(String str, int sp, int label)\n\n\n\u5b9f\u88c5\u306e\u65b9\u91dd\n\u751f\u6210\u3055\u308c\u305f\u95a2\u6570test\u306f\u6b21\u306e\u52d5\u4f5c\u3092\u884c\u3046\u3002\n\n\u5f15\u6570str, sp, label\u3092\u53d7\u3051\u53d6\u308b\n\u5f15\u6570\u3092\u5168\u3066\u30b9\u30bf\u30c3\u30af\u3078\u7f6e\u304f\uff08$\\textsc{LOAD}$\uff09$\\SOne{\\phantom{a}} \\Rightarrow \\SThree{label, sp, str}$\n\nlabel\u306e\u5024\u306b\u5fdc\u3058\u3066\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{LOOKUPSWITCH}$\uff09$\\SThree{label, sp, str} \\Rightarrow \\STwo{sp, str}$\n\u30b8\u30e3\u30f3\u30d7\u5148\u306e\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\n\n\u306a\u306e\u3067\u3001\u30b8\u30e3\u30f3\u30d7\u5148\u306e\u51e6\u7406\u306b\u5165\u308b\u969b\u306e\u30b9\u30bf\u30c3\u30af\u306f$\\STwo{sp, str}$\u3068\u3044\u3046\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n\u6587\u5b57\ncase Let(c) =>\n  val (l1, n1) = mk_label(n)\n  val r = List(\n    Lbl(l1),\n    Dup2,\n    InvokeVirtual(\"java/lang/String\", \"charAt\", \"(I)C\"),\n    Push(c.toInt),\n    IfCmpNe(lmiss),\n    Const1,\n    Add\n  )\n  (r, n1)\n\n\u3053\u308c\u306f\u6b21\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u4e2d\u9593\u8868\u73fe\u3092\u751f\u6210\u3059\u308b\u3002\u306a\u304a\u3001lmiss\u3068\u306f\u30de\u30c3\u30c1\u306b\u5931\u6557\u3057\u305f\u5834\u5408\u306b\u9077\u79fb\u3059\u308b\u5834\u6240\u3067\u3042\u308b\u3002\n\n\u30e9\u30d9\u30eb\u3092\u6253\u3064\n\u30b9\u30bf\u30c3\u30af\u306e\u4e8c\u3064\u3092\u30b3\u30d4\u30fc\u3059\u308b\uff08$\\textsc{DUP2}$\uff09$\\STwo{sp, str} \\Rightarrow \\SFour{sp, str, sp, str}$\n\ncharAt\u3092\u547c\u3073\u51fa\u3059\uff08$\\textsc{INVOKEVIRTUAL}$\uff09charAt\u306f\u6587\u5b57\u5217str\u3068\u4f4d\u7f6e$i$\u3068\u3044\u3046\u4e8c\u3064\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001str\u306e\u4f4d\u7f6e$i$\u306b\u3042\u308b\u6587\u5b57\u3092\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u7f6e\u304f $\\SFour{sp, str, sp, str} \\Rightarrow \\SThree{char, sp, str}$\n\nc \u306b\u5bfe\u5fdc\u3059\u308b\u6587\u5b57\u30b3\u30fc\u30c9\uff08c.toInt\uff09\u3092\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u7f6e\u304f\uff08$\\textsc{PUSH}$\uff09$\\SThree{char, sp, str} \\Rightarrow \\SFour{c, char, sp, str}$\n\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u3068\u4e8c\u756a\u76ee\u304c\u7b49\u3057\u304f\u306a\u3051\u308c\u3070lmiss\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{IFCMPNE}$\uff09$\\SFour{c, char, sp, str} \\Rightarrow \\STwo{sp, str}$\n\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b$1$\u3092\u7f6e\u304f\uff08$\\textsc{CONST1}$\uff09$\\STwo{sp, str} \\Rightarrow \\SThree{1, sp, str}$\n\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u3068\u4e8c\u756a\u76ee\u3092\u8db3\u3057\u7b97\u3057\u3066\u3001\u7d50\u679c\u3092\u5148\u982d\u306b\u7f6e\u304f\uff08$\\textsc{ADD}$\uff09$\\SThree{1, sp, str} \\Rightarrow \\STwo{sp + 1, str}$\n\n\n\u9023\u63a5\ncase Con(a, b) =>\n  val (r1, n1) = loop(a, n)\n  val (r2, n2) = loop(b, n1)\n  (r1 ++ r2, n2)\n\n\u524d\u306e\u90e8\u5206\u3068\u5f8c\u306e\u90e8\u5206\u3092\u305d\u308c\u305e\u308c\u4e2d\u9593\u8868\u73fe\u3078\u5909\u63db\u3057\u3001\u305d\u308c\u3092\u7d50\u5408\u3059\u308b\u3002\n\n\u9078\u629e\ncase Alt(a, b) =>\n  val (l1, n1) = mk_label(n)\n  val (r1, n2) = loop(a, n1)\n  val (l2, _)  = mk_label(n2)\n  val (r2, n3) = loop(b, n2)\n  val (l3, _)  = mk_label(n3)\n  val r = List(\n    Lbl(l1),\n    Dup2,\n    Push(n1),\n    InvokeStatic(cname, mname, mtype),\n    IfTrue(lmatch),\n    Goto(l2)) ++\n    r1 ++ (Goto(l3) :: r2)\n  (r, n3)\n\n\u307e\u305a\u3001\u4e8b\u524d\u306b\u6b21\u306e\u51e6\u7406\u3092\u884c\u3046\u3002\n\n\u90e8\u5206\u6b63\u898f\u8868\u73fea\u3092\u4e2d\u9593\u8868\u73fe\u3078\u5909\u63db\u3059\u308b\uff08\u3053\u308c\u3092r1\u3068\u3059\u308b\uff09\n\nr1\u306e\u672b\u5c3e\u306b\u6b21\u306e\u547d\u4ee4\u3092\u52a0\u3048\u308b\n\n\n\u9078\u629e\u306e\u3082\u3046\u4e00\u65b9\uff08\u90e8\u5206\u6b63\u898f\u8868\u73feb\uff09\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\uff08$\\textsc{GOTO}$\uff09\n\n\n\u90e8\u5206\u6b63\u898f\u8868\u73feb\u3092\u4e2d\u9593\u8868\u73fe\u3078\u5909\u63db\u3059\u308b\uff08\u3053\u308c\u3092r2\u3068\u3059\u308b\uff09\n\n\u305d\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u4e2d\u9593\u8868\u73fe\u3092\u751f\u6210\u3059\u308b\u3002\u306a\u304almatch\u306f\u30de\u30c3\u30c1\u306b\u6210\u529f\u3057\u305f\u969b\u306b\u9077\u79fb\u3059\u308b\u5834\u6240\u3067\u3042\u308b\u3002\n\n\u30e9\u30d9\u30eb\u3092\u6253\u3064\n\u30b9\u30bf\u30c3\u30af\u306e\u4e8c\u3064\u3092\u30b3\u30d4\u30fc\u3059\u308b\uff08$\\textsc{DUP2}$\uff09$\\STwo{sp, str} \\Rightarrow \\SFour{sp, str, sp, str}$\n\nr1\u306e\u5148\u982d\u3092\u6307\u3059\u30e9\u30d9\u30ebn1\u3092\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u7f6e\u304f\uff08$\\textsc{PUSH}$\uff09$\\SFour{sp, str, sp, str} \\Rightarrow \\SFive{n_1, sp, str, sp, str}$\n\u95a2\u6570test\u3092\u518d\u5e30\u7684\u306b\u547c\u3073\u51fa\u3057\u3001\u8fd4\u308a\u5024\u3092\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u7f6e\u304f\uff08$\\textsc{INVOKESTATIC}$\uff09$\\SFive{n_1, sp, str, sp, str} \\Rightarrow \\SThree{{1\\, {\\rm or}\\, 0}, sp, str}$\n\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u304c$1$\u306a\u3089\u3070\u3001lmatch\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{IFTRUE}$\uff09$\\SThree{{1\\, {\\rm or}\\, 0}, sp, str} \\Rightarrow \\STwo{sp, str}$\n\nr2\u306e\u5148\u982d\u3092\u6307\u3059\u30e9\u30d9\u30ebl2\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{GOTO}$\uff09\n\u751f\u6210\u3057\u305fr1\u3068r2\u3092\u7d50\u5408\u3059\u308b\n\n\n\u7e70\u308a\u8fd4\u3057\ncase Star(Star(a)) => loop(Star(a), n)\n\ncase Star(a) =>\n  val (l1, n1) = mk_label(n)\n  val (r1, n2) = loop(a, n1)\n  val (l2, n3) = mk_label(n2)\n  val r2       = List(Lbl(l2), Goto(l1))\n  val (l3, _)  = mk_label(n3)\n  val r = List(\n    Lbl(l1),\n    Dup2,\n    Push(n1),\n    InvokeStatic(cname, mname, mtype),\n    IfTrue(lmatch),\n    Goto(l3)) ++\n    r1 ++ r2\n  (r, n3)\n\n\u307e\u305a\u3001\u4e8b\u524d\u306b\u6b21\u306e\u51e6\u7406\u3092\u884c\u3046\u3002\n\n\u90e8\u5206\u6b63\u898f\u8868\u73fea\u3092\u4e2d\u9593\u8868\u73fe\u3078\u5909\u63db\u3059\u308b\uff08\u3053\u308c\u3092r1\u3068\u3059\u308b\uff09\n\nr1\u306e\u672b\u5c3e\u306b\u6b21\u306e\u51e6\u7406\u3092\u3059\u308b\u4e2d\u9593\u8868\u73fe\u3092\u52a0\u3048\u308b\n\n\n\u30e9\u30d9\u30eb\u3092\u6253\u3064\n\u30e9\u30d9\u30ebl1\uff08\u5f8c\u3067\u5b9a\u7fa9\uff09\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{GOTO}$\uff09\n\n\n\n\u305d\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u4e2d\u9593\u8868\u73fe\u3092\u751f\u6210\u3059\u308b\u3002\n\n\u30e9\u30d9\u30eb\u3092\u6253\u3064\uff08\u3053\u306e\u30e9\u30d9\u30eb\u3092l1\u3068\u3059\u308b\uff09\n\u30b9\u30bf\u30c3\u30af\u306e\u4e8c\u3064\u3092\u30b3\u30d4\u30fc\u3059\u308b\uff08$\\textsc{DUP2}$\uff09$\\STwo{sp, str} \\Rightarrow \\SFour{sp, str, sp, str}$\n\nr1\u306e\u5148\u982d\u3092\u6307\u3059\u30e9\u30d9\u30ebn1\u3092\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u7f6e\u304f\uff08$\\textsc{PUSH}$\uff09$\\SFour{sp, str, sp, str} \\Rightarrow \\SFive{n_1, sp, str, sp, str}$\n\u95a2\u6570test\u3092\u518d\u5e30\u7684\u306b\u547c\u3073\u51fa\u3057\u3001\u8fd4\u308a\u5024\u3092\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u7f6e\u304f\uff08$\\textsc{INVOKESTATIC}$\uff09$\\SFive{n_1, sp, str, sp, str} \\Rightarrow \\SThree{{1\\, {\\rm or}\\, 0}, sp, str}$\n\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u304c$1$\u306a\u3089\u3070\u3001lmatch\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{IFTRUE}$\uff09$\\SThree{{1\\, {\\rm or}\\, 0}, sp, str} \\Rightarrow \\STwo{sp, str}$\n\u6b21\u306e\u5834\u6240\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{GOTO}$\uff09\n\u751f\u6210\u3057\u305f\u4e2d\u9593\u8868\u73fer1\u3092\u7d50\u5408\u3059\u308b\n\n\n\u4e2d\u9593\u8868\u73fe\u304b\u3089\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u306e\u751f\u6210\n\u524d\u56de\u306e\u8a18\u4e8b\u3068\u540c\u3058\u3088\u3046\u306b\u3001\u4e2d\u9593\u8868\u73fe\u306e\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u3067\u6b21\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3067\u304d\u308b\u3002\ndef repr_to_code(mv: MethodVisitor, r: Repr, la: List[Label]): Unit = r match {\n  case Lbl(l) => mv.visitLabel(get_label(l, la))\n  case Const1 => mv.visitInsn(ICONST_1)\n  case Push(n) => mv.visitIntInsn(BIPUSH, n)\n  case Add => mv.visitInsn(IADD)\n  case Dup2 => mv.visitInsn(DUP2)\n  case Goto(l) => mv.visitJumpInsn(GOTO, get_label(l, la))\n  case IfCmpNe(l) => mv.visitJumpInsn(IF_ICMPNE, get_label(l, la))\n  case IfTrue(l) => mv.visitJumpInsn(IFNE, get_label(l, la))\n  case InvokeVirtual(p, n, t) => mv.visitMethodInsn(INVOKEVIRTUAL, p, n, t)\n  case InvokeStatic(p, n, t) => mv.visitMethodInsn(INVOKESTATIC, p, n, t)\n}\n\n\n\u5b9f\u88c5\n\u4eca\u56de\u306e\u5b9f\u88c5\u306fGithub\u3067\u516c\u958b\u3057\u3066\u3044\u308b\u3002\n\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\n\u9045\u3044\u6b63\u898f\u8868\u73fe\u306e\u65b9\u304a\u3082\u3057\u308d\u3044\u3088\u3046\u306a\u6c17\u304c\u3059\u308b\u306e\u3067\u3001\u9045\u3044\u30c3\uff01\u9045\u3059\u304e\u308b\u30c3\uff01Java \u306e\u6b63\u898f\u8868\u73fe\u306e\u304a\u8a71\u3002\u304b\u3089\u9045\u3044\u6b63\u898f\u8868\u73fe\u306e\u4f8b\u3092\u7d39\u4ecb\u3059\u308b4\u3002\n(aa|a)*X\n\n\u4e0e\u3048\u308b\u6587\u5b57\u5217\u306f a \u3084 aaaaa \u3068\u3044\u3063\u305f\u30de\u30c3\u30c1\u3057\u306a\u3044\u6587\u5b57\u5217\u3092\u4f7f\u3063\u3066\u3001\u30de\u30c3\u30c1\u3057\u306a\u3044\u3068\u5224\u5b9a\u3059\u308b\u307e\u3067\u306b\u304b\u304b\u308b\u6642\u9593\u3092\u6e2c\u5b9a\u3059\u308b\u3053\u3068\u3068\u3059\u308b\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u7528\u3044\u3066\u3001\u6587\u5b57\u5217 a \u309210\u6587\u5b57\u304b\u3089\u4e00\u6587\u5b57\u305a\u3064\u5897\u3084\u3057\u3066\u3001\u304b\u304b\u308b\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09\u3092\u8a08\u6e2c\u3057\u305f\u3002\nfor (i <- 10 to 40) {\n  var str = \"\"\n  for (_ <- 1 to i) {\n    str += \"a\"\n  }\n  str += \"\\0\"\n\n  var time = 0.0\n  for (_ <- 1 to 10) {\n    val start = System.currentTimeMillis\n    m.invoke(c, str, Int.box(0), Int.box(0))\n    //p.findFirstIn(str)\n    time += (System.currentTimeMillis - start)\n  }\n  println(time / 10 + \",\")\n}\n\n\n\u7d50\u679c\n\u30b0\u30e9\u30d5\u306e\u8d64\u304c\u4eca\u56de\u5b9f\u88c5\u3057\u305f\u30a8\u30f3\u30b8\u30f3\u3067\u3001\u9752\u304cScala\u306e\u6b63\u898f\u8868\u73fe\u30a8\u30f3\u30b8\u30f3\u3067\u3042\u308b\u3002\n\nScala\u306e\u6b63\u898f\u8868\u73fe\u30a8\u30f3\u30b8\u30f3\u3068\u6bd4\u3079\u3066\u3001\u5c11\u306a\u304f\u3068\u3082\u3053\u306e\u4f8b\u306b\u304a\u3044\u3066\u306f\u3088\u3044\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u5f97\u3089\u308c\u305f\u3002\n\n\u307e\u3068\u3081\n\u4eca\u56de\u4f5c\u6210\u3057\u305f\u30b3\u30fc\u30c9\u306f\u7d04200\u884c\u7a0b\u5ea6\u3067\u3042\u308a\u3001\u52d5\u7684\u30b3\u30fc\u30c9\u751f\u6210\u3092\u30b7\u30f3\u30d7\u30eb\u306b\u5b9f\u88c5\u3067\u304d\u305f\u3046\u3048\u306b\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u5b9f\u969b\u306b\u5411\u4e0a\u3057\u305f\u306e\u306f\u5927\u5909\u3088\u304b\u3063\u305f\u3002\u3082\u3061\u308d\u3093\u3001\u3053\u306e\u6b63\u898f\u8868\u73fe\u306f\u6700\u5c0f\u306e\u6a5f\u80fd\u3057\u304b\u6301\u3063\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u76f4\u3061\u306b\u3053\u306e\u30a8\u30f3\u30b8\u30f3\u304c\u6709\u7528\u304b\u3068\u3044\u3046\u3068\u305d\u3046\u3067\u306f\u306a\u3044\u3060\u308d\u3046\u3002\n\n\u53c2\u8003\u6587\u732e\n\n\u6b63\u898f\u8868\u73fe\u6280\u8853\u5165\u9580\nJava\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u5165\u9580\n\n\n\n\n\n\u524d\u56de\u306e\u8a18\u4e8b\u3067\u306f\u7d71\u4e00\u7684\u306b\u300c\u6a5f\u68b0\u8a9e\u300d\u3068\u3044\u3046\u8868\u73fe\u3092\u7528\u3044\u3066\u3044\u305f\u304c\u3001\u3088\u308a\u6b63\u78ba\u306a\u8868\u73fe\u3067\u306fLLVM\u306e\u4e2d\u9593\u8868\u73fe\uff08LLVM IR\uff09\u3067\u3042\u308b\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3053\u3061\u3089\u3067\u8a18\u8ff0\u3059\u308b\u3002\u00a0\u21a9\n\n\n\u4f1a\u8a71\u306b\u767b\u5834\u3059\u308b\u201cMokkosu\u201d\u3068\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u8a00\u8a9eMokkosu\u306e\u3053\u3068\u3067\u3042\u308b\u3002\u00a0\u21a9\n\n\n\u524d\u56de\u306f\u300c\u547d\u4ee4\uff08Instruction\uff09\u300d\u3068\u3044\u3046\u610f\u5473\u3067Inst\u3068\u3044\u3046\u540d\u524d\u306b\u3057\u305f\u304c\u3001\u300c\u547d\u4ee4\u306e\u8868\u73fe\uff08Representation\uff09\u300d\u3067\u3042\u308b\u3053\u3068\u5f37\u8abf\u3059\u308b\u305f\u3081\u306b\u4eca\u56de\u306fRepr\u3068\u3044\u3046\u540d\u524d\u306b\u3057\u305f\u3002\u00a0\u21a9\n\n\n\u4eca\u56de\u5b9f\u88c5\u3057\u305f\u6b63\u898f\u8868\u73fe\u306f\u6a5f\u80fd\u304c\u5c0f\u3055\u3059\u304e\u3066\u3001\u8a18\u4e8b\u306b\u3042\u308b\u6b63\u898f\u8868\u73fe\u3092\u5b9f\u884c\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u5c11\u3005\u30a2\u30ec\u30f3\u30b8\u3057\u305f\u3082\u306e\u7528\u3044\u308b\u3053\u3068\u306b\u3059\u308b\u3002\u00a0\u21a9\n\n\n\n[\u524d\u56de\u306e\u8a18\u4e8b](http://qiita.com/yyu/items/a0ef2d2204c137707f3f)\u3067\u3001\u6b63\u898f\u8868\u73fe\uff08\u306e\u62bd\u8c61\u69cb\u6587\u6728\uff09\u304b\u3089LLVM\u306e\u4e2d\u9593\u8868\u73fe\uff08LLVM IR\uff09[^llvmir]\u3078\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3068\u3044\u3046\u8a66\u307f\u3092\u884c\u3063\u305f\u3068\u3053\u308d\u3001Twitter\u3067\u6b21\u306e\u3088\u3046\u306a\u6295\u7a3f\u3092\u3044\u305f\u3060\u3044\u305f[^mokkosu]\u3002\n\n<blockquote class=\"twitter-tweet\" lang=\"ja\"><p lang=\"ja\" dir=\"ltr\"><a href=\"https://twitter.com/_yyu_\">@_yyu_</a> <a href=\"https://t.co/UPV535fqbB\">https://t.co/UPV535fqbB</a> \u3068\u304b\u3092\u4f7f\u3046\u3068\u3001Mokkosu\u304b\u3089\u52d5\u7684\u30b3\u30fc\u30c9\u751f\u6210\u304c\u3067\u304d\u3066\u304d\u3063\u3068\u697d\u3057\u3044\u3067\u3059\u3002</p>&mdash; \u30e9\u30e0\u30c0\u592a\u90ce (@lambdataro) <a href=\"https://twitter.com/lambdataro/status/597781926154375168\">2015, 5\u6708 11</a></blockquote>\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n[^llvmir]: \u524d\u56de\u306e\u8a18\u4e8b\u3067\u306f\u7d71\u4e00\u7684\u306b\u300c\u6a5f\u68b0\u8a9e\u300d\u3068\u3044\u3046\u8868\u73fe\u3092\u7528\u3044\u3066\u3044\u305f\u304c\u3001\u3088\u308a\u6b63\u78ba\u306a\u8868\u73fe\u3067\u306fLLVM\u306e\u4e2d\u9593\u8868\u73fe\uff08LLVM IR\uff09\u3067\u3042\u308b\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3053\u3061\u3089\u3067\u8a18\u8ff0\u3059\u308b\u3002\n\n[^mokkosu]: \u4f1a\u8a71\u306b\u767b\u5834\u3059\u308b\u201cMokkosu\u201d\u3068\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u8a00\u8a9e[Mokkosu](http://lambdataro.sakura.ne.jp/mokkosu/)\u306e\u3053\u3068\u3067\u3042\u308b\u3002\n\n\u3064\u307e\u308a\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c\u6642\u306b\u6b63\u898f\u8868\u73fe\u306b\u5bfe\u5fdc\u3059\u308b\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3092\u751f\u6210\u3057\u3066\u3001\u305d\u308c\u3092\u5b9f\u884c\u3059\u308c\u3070\u901f\u5ea6\u304c\u65e9\u304f\u306a\u3063\u305f\u308a\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3067\u3042\u308b\u3002\u3053\u308c\u306f\u4e00\u822c\u7684\u306b**Just in Time\uff08JIT\uff09\u30b3\u30f3\u30d1\u30a4\u30eb**\u3068\u547c\u3070\u308c\u3066\u3044\u308b\u3082\u306e\u3067\u3001[\u6b63\u898f\u8868\u73fe\u6280\u8853\u5165\u9580](http://www.amazon.co.jp/dp/4774172707)\u3068\u3044\u3046\u672c\u3067\u3082\u7d39\u4ecb\u3055\u308c\u3066\u3044\u308b\u3002[Mokkosu](http://lambdataro.sakura.ne.jp/mokkosu/)\u3067\u5b9f\u88c5\u3057\u3066\u3082\u3088\u304b\u3063\u305f\u304c\u3001\u305f\u3076\u3093Mokkosu\u306e\u30d7\u30ed\u30b0\u30e9\u30de\u306f\u305d\u308c\u307b\u3069\u591a\u304f\u306a\u3044\u3060\u308d\u3046\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4eca\u56de\u3082Scala\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3059\u308b\u3053\u3068\u306b\u3059\u308b\u3002\n\n# \u6b63\u898f\u8868\u73fe\u306e\u62bd\u8c61\u69cb\u6587\u6728\n\n\u4eca\u56de\u3082\u6b63\u898f\u8868\u73fe\u306e\u62bd\u8c61\u69cb\u6587\u6728\u3092\u6b21\u306e\u30c7\u30fc\u30bf\u578b\u3067\u8868\u73fe\u3059\u308b\u3002\n\n```scala\nsealed trait Regex\ncase object Empty                  extends Regex\ncase class Let(c: Char)            extends Regex\ncase class Con(a: Regex, b: Regex) extends Regex\ncase class Alt(a: Regex, b: Regex) extends Regex\ncase class Star(a: Regex)          extends Regex\n```\n\n# \u52d5\u7684\u30b3\u30fc\u30c9\u751f\u6210\u306e\u65b9\u6cd5\n\nJVM\u306e\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\uff08\u30d0\u30a4\u30ca\u30ea\uff09\u3092\u751f\u6210\u3059\u308b\u30b3\u30f3\u30d1\u30a4\u30e9\u3092\u81ea\u529b\u3067\u4f5c\u308b\u3068\u3044\u3046\u306e\u3082\u4e00\u8208\u3060\u3063\u305f\u304c\u3001\u8272\u3005\u8abf\u3079\u305f\u7d50\u679c\u3001[ASM](http://asm.ow2.org/)\u3068\u3044\u3046\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u3048\u3070\u6c17\u8efd\u306b\u52d5\u7684\u30b3\u30fc\u30c9\u751f\u6210\u304c\u3067\u304d\u305d\u3046\u306a\u6c17\u304c\u3057\u305f\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3053\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u7528\u3044\u3066\u5b9f\u884c\u6642\u306b\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3092\u52d5\u7684\u751f\u6210\u3059\u308b\u3002\n\u305f\u3060\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3053\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u3064\u3044\u3066\u306e\u77e5\u8b58\u306f\u7279\u306b\u5fc5\u8981\u306a\u3044\u3002\n\n# \u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u306e\u4e2d\u9593\u8868\u73fe\n\n\u4eca\u56de\u3082\u524d\u56de\u3068\u540c\u3058\u3088\u3046\u306b\u3001\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3092\u8868\u73fe\u3059\u308b\u30c7\u30fc\u30bf\u578b\u3092\u5b9a\u7fa9\u3057\u3066\u3001\u305d\u308c\u3092\u5f8c\u3067\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3078\u5909\u63db\u3059\u308b\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u53d6\u308b\u3002\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u306b\u5bfe\u5fdc\u3059\u308b\u3053\u308c\u3089\u306e\u8868\u73fe\u306e\u3053\u3068\u3092\u3053\u306e\u8a18\u4e8b\u3067\u306f**\u4e2d\u9593\u8868\u73fe**\u3068\u547c\u3076\u3002\n\n```scala\nsealed trait LId\ncase class LInt(n: Int)   extends LId\ncase class LLbl(l: Label) extends LId\n\nsealed trait Repr\ncase object Const1          extends Repr\ncase class  Push(n: Int)    extends Repr\ncase object Dup2            extends Repr\ncase class  Lbl(l: LId)     extends Repr\ncase object Add             extends Repr\ncase class  Goto(l: LId)    extends Repr\ncase class  IfTrue(l: LId)  extends Repr\ncase class  IfCmpNe(l: LId) extends Repr\ncase class  InvokeStatic(p: String, n: String, t: String)  extends Repr\ncase class  InvokeVirtual(p: String, n: String, t: String) extends Repr\n```\n\n\u307e\u305a`LId`\u306f\u30e9\u30d9\u30eb\u306e\u8b58\u5225\u5b50\u3092\u8868\u73fe\u3059\u308b\u30c7\u30fc\u30bf\u578b\u3067\u3042\u308a\u3001`Repr`[^repr]\u306fJVM\u306e\u547d\u4ee4\u3092\u8868\u73fe\u3059\u308b\u30c7\u30fc\u30bf\u578b\u3067\u3042\u308b\u3002\n\u6700\u5c0f\u306e\u6b63\u898f\u8868\u73fe\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3060\u3051\u306a\u3089\u3070\u3001\u3053\u308c\u3060\u3051\u306e\u547d\u4ee4\u3067\u6e08\u3080\u3068\u3044\u3046\u306e\u306f\u5c11\u3057\u8208\u5473\u6df1\u3044\u3002\n\n[^repr]: \u524d\u56de\u306f\u300c\u547d\u4ee4\uff08Instruction\uff09\u300d\u3068\u3044\u3046\u610f\u5473\u3067`Inst`\u3068\u3044\u3046\u540d\u524d\u306b\u3057\u305f\u304c\u3001\u300c\u547d\u4ee4\u306e\u8868\u73fe\uff08Representation\uff09\u300d\u3067\u3042\u308b\u3053\u3068\u5f37\u8abf\u3059\u308b\u305f\u3081\u306b\u4eca\u56de\u306f`Repr`\u3068\u3044\u3046\u540d\u524d\u306b\u3057\u305f\u3002\n\n```math\n\\def\\AtSOne#1\\csod{%\n\t\\begin{array}{c|}\n\t\t\\hline\n\t\t#1\\\\\n\t\t\\hline\n\t\\end{array}\n}%\n\\def\\AtSTwo#1,#2\\csod{%\n\t\\begin{array}{c|c|}\n\t\t\\hline\n\t\t#1 & #2\\\\\n\t\t\\hline\n\t\\end{array}\n}%\n\\def\\AtSThree#1,#2,#3\\csod{%\n\t\\begin{array}{c|c|c|}\n\t\t\\hline\n\t\t#1 & #2 & #3\\\\\n\t\t\\hline\n\t\\end{array}\n}%\n\\def\\AtSFour#1,#2,#3,#4\\csod{%\n\t\\begin{array}{c|c|c|c|}\n\t\t\\hline\n\t\t#1 & #2 & #3 & #4\\\\\n\t\t\\hline\n\t\\end{array}\n}%\n\\def\\AtSFive#1,#2,#3,#4,#5\\csod{%\n\t\\begin{array}{c|c|c|c|c|}\n\t\t\\hline\n\t\t#1 & #2 & #3 & #4 & #5\\\\\n\t\t\\hline\n\t\\end{array}\n}%\n\\def\\SOne#1{\\AtSOne#1\\csod}\n\\def\\STwo#1{\\AtSTwo#1\\csod}\n\\def\\SThree#1{\\AtSThree#1\\csod}\n\\def\\SFour#1{\\AtSFour#1\\csod}\n\\def\\SFive#1{\\AtSFive#1\\csod}\n\\def\\textsc#1{\\dosc#1\\csod}\n\\def\\dosc#1#2\\csod{{\\rm #1{\\scriptsize #2}}}\n\\def\\red#1{\\color{red}{#1}}\n\\def\\blue#1{\\color{blue}{#1}}\n```\n\n# \u30b9\u30bf\u30c3\u30af\u306b\u95a2\u3059\u308b\u8868\u8a18\n\nJVM\u306f\u4e00\u672c\u306e**\u30b9\u30bf\u30c3\u30af**\u306b\u30c7\u30fc\u30bf\u3092\u51fa\u3057\u5165\u308c\u3057\u3066\u8a08\u7b97\u3092\u9032\u3081\u3066\u3044\u304f\u69cb\u9020\u3092\u53d6\u3063\u3066\u3044\u308b\u3002\u3053\u306e\u8a18\u4e8b\u3067\u306f\u5206\u304b\u308a\u3084\u3059\u3055\u306e\u305f\u3081\u306b\u3001\u30b9\u30bf\u30c3\u30af\u306b\u5165\u3063\u305f\u30c7\u30fc\u30bf\u3092\u6b21\u306e\u3088\u3046\u306b\u8868\u3059\u3002\n\n```math\n\\SFive{\\red{s},\\blue{t},a,c,k}\n```\n\n\u3053\u3053\u304b\u3089\u3001\u4f8b\u3048\u3070\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u3092\u7834\u68c4\u3059\u308b\u547d\u4ee4 $\\textsc{POP}$ \u3092\u884c\u3046\u3068\u3001\u6b21\u306e\u3088\u3046\u306b\u30b9\u30bf\u30c3\u30af\u304c\u5909\u5316\u3059\u308b\u3002\n\n```math\n\\SFive{\\red{s},\\blue{t},a,c,k} \\Rightarrow \\SFour{\\blue{t},a,c,k}\n```\n\n\u305d\u3057\u3066\u3001\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u30c7\u30fc\u30bf\u3092\u52a0\u3048\u308b\u547d\u4ee4 $\\textsc{PUSH}(\\red{c})$ \u3092\u884c\u3046\u3068\u3001\u6b21\u306e\u3088\u3046\u306b\u30b9\u30bf\u30c3\u30af\u304c\u5909\u5316\u3059\u308b\u3002\n\n```math\n\\SFour{\\blue{t},a,c,k} \\Rightarrow \\SFive{\\red{c},\\blue{t},a,c,k}\n```\n\n\u307e\u305f\u3001\u7a7a\u306e\u30b9\u30bf\u30c3\u30af\u3092\u6b21\u306e\u3088\u3046\u306b\u8868\u3059\u3002\n\n```math\n\\SOne{\\phantom{a}}\n```\n\n# \u6b63\u898f\u8868\u73fe\u304b\u3089\u4e2d\u9593\u8868\u73fe\u3078\u306e\u5909\u63db\n\n\u524d\u56de\u306e\u8a18\u4e8b\u3067\u306f\u30ec\u30b8\u30b9\u30bf\u3092\u7528\u3044\u308bLLVM\u306e\u7279\u6027\u4e0a\u3001\u30ec\u30b8\u30b9\u30bf\u306e\u756a\u53f7\u3092\u30b3\u30f3\u30d1\u30a4\u30e9\u304c\u7ba1\u7406\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u305a\u3001\u30b3\u30fc\u30c9\u304c\u5fc5\u8981\u4ee5\u4e0a\u306b\u8907\u96d1\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u3002\u3068\u3053\u308d\u304cJVM\u306f\u4e00\u672c\u306e\u30b9\u30bf\u30c3\u30af\u3092\u64cd\u4f5c\u3059\u308b\u30b9\u30bf\u30c3\u30af\u30de\u30b7\u30f3\u3068\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u524d\u56de\u306e\u30b3\u30fc\u30c9\u3088\u308a\u5c11\u3057\u30b7\u30f3\u30d7\u30eb\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\u307e\u305f\u3001\u4eca\u56de\u3082\u524d\u56de\u3068\u540c\u69d8\u306b\u6b63\u898f\u8868\u73fe\u6280\u8853\u5165\u9580\u3084[Regular Expression Matching: the Virtual Machine Approach](https://swtch.com/%7Ersc/regexp/regexp2.html)\u3067\u7d39\u4ecb\u3055\u308c\u305f\u3066\u3044\u305fVM\u3092\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3067\u8868\u73fe\u3059\u308b\u30a2\u30d7\u30ed\u30fc\u30c1\u3068\u306a\u308b\u3002\n\u305d\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306a\u578b\u3092\u6301\u3064\u95a2\u6570\u3092\u751f\u6210\u3059\u308b\u3002\n\n```java\npublic static boolean test(String str, int sp, int label)\n```\n\n## \u5b9f\u88c5\u306e\u65b9\u91dd\n\n\u751f\u6210\u3055\u308c\u305f\u95a2\u6570`test`\u306f\u6b21\u306e\u52d5\u4f5c\u3092\u884c\u3046\u3002\n\n1. \u5f15\u6570`str`, `sp`, `label`\u3092\u53d7\u3051\u53d6\u308b\n2. \u5f15\u6570\u3092\u5168\u3066\u30b9\u30bf\u30c3\u30af\u3078\u7f6e\u304f\uff08$\\textsc{LOAD}$\uff09$\\SOne{\\phantom{a}} \\Rightarrow \\SThree{label, sp, str}$\n3. `label`\u306e\u5024\u306b\u5fdc\u3058\u3066\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{LOOKUPSWITCH}$\uff09$\\SThree{label, sp, str} \\Rightarrow \\STwo{sp, str}$\n4. \u30b8\u30e3\u30f3\u30d7\u5148\u306e\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\n\n\u306a\u306e\u3067\u3001\u30b8\u30e3\u30f3\u30d7\u5148\u306e\u51e6\u7406\u306b\u5165\u308b\u969b\u306e\u30b9\u30bf\u30c3\u30af\u306f$\\STwo{sp, str}$\u3068\u3044\u3046\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n## \u6587\u5b57\n\n```scala\ncase Let(c) =>\n  val (l1, n1) = mk_label(n)\n  val r = List(\n    Lbl(l1),\n    Dup2,\n    InvokeVirtual(\"java/lang/String\", \"charAt\", \"(I)C\"),\n    Push(c.toInt),\n    IfCmpNe(lmiss),\n    Const1,\n    Add\n  )\n  (r, n1)\n```\n\n\u3053\u308c\u306f\u6b21\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u4e2d\u9593\u8868\u73fe\u3092\u751f\u6210\u3059\u308b\u3002\u306a\u304a\u3001`lmiss`\u3068\u306f\u30de\u30c3\u30c1\u306b\u5931\u6557\u3057\u305f\u5834\u5408\u306b\u9077\u79fb\u3059\u308b\u5834\u6240\u3067\u3042\u308b\u3002\n\n1. \u30e9\u30d9\u30eb\u3092\u6253\u3064\n2. \u30b9\u30bf\u30c3\u30af\u306e\u4e8c\u3064\u3092\u30b3\u30d4\u30fc\u3059\u308b\uff08$\\textsc{DUP2}$\uff09$\\STwo{sp, str} \\Rightarrow \\SFour{sp, str, sp, str}$\n3. `charAt`\u3092\u547c\u3073\u51fa\u3059\uff08$\\textsc{INVOKEVIRTUAL}$\uff09`charAt`\u306f\u6587\u5b57\u5217`str`\u3068\u4f4d\u7f6e$i$\u3068\u3044\u3046\u4e8c\u3064\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001`str`\u306e\u4f4d\u7f6e$i$\u306b\u3042\u308b\u6587\u5b57\u3092\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u7f6e\u304f $\\SFour{sp, str, sp, str} \\Rightarrow \\SThree{char, sp, str}$\n4. _c_ \u306b\u5bfe\u5fdc\u3059\u308b\u6587\u5b57\u30b3\u30fc\u30c9\uff08`c.toInt`\uff09\u3092\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u7f6e\u304f\uff08$\\textsc{PUSH}$\uff09$\\SThree{char, sp, str} \\Rightarrow \\SFour{c, char, sp, str}$\n5. \u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u3068\u4e8c\u756a\u76ee\u304c\u7b49\u3057\u304f\u306a\u3051\u308c\u3070`lmiss`\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{IFCMPNE}$\uff09$\\SFour{c, char, sp, str} \\Rightarrow \\STwo{sp, str}$\n6. \u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b$1$\u3092\u7f6e\u304f\uff08$\\textsc{CONST1}$\uff09$\\STwo{sp, str} \\Rightarrow \\SThree{1, sp, str}$\n7. \u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u3068\u4e8c\u756a\u76ee\u3092\u8db3\u3057\u7b97\u3057\u3066\u3001\u7d50\u679c\u3092\u5148\u982d\u306b\u7f6e\u304f\uff08$\\textsc{ADD}$\uff09$\\SThree{1, sp, str} \\Rightarrow \\STwo{sp + 1, str}$\n\n## \u9023\u63a5\n\n```scala\ncase Con(a, b) =>\n  val (r1, n1) = loop(a, n)\n  val (r2, n2) = loop(b, n1)\n  (r1 ++ r2, n2)\n```\n\n\u524d\u306e\u90e8\u5206\u3068\u5f8c\u306e\u90e8\u5206\u3092\u305d\u308c\u305e\u308c\u4e2d\u9593\u8868\u73fe\u3078\u5909\u63db\u3057\u3001\u305d\u308c\u3092\u7d50\u5408\u3059\u308b\u3002\n\n## \u9078\u629e\n\n```scala\ncase Alt(a, b) =>\n  val (l1, n1) = mk_label(n)\n  val (r1, n2) = loop(a, n1)\n  val (l2, _)  = mk_label(n2)\n  val (r2, n3) = loop(b, n2)\n  val (l3, _)  = mk_label(n3)\n  val r = List(\n    Lbl(l1),\n    Dup2,\n    Push(n1),\n    InvokeStatic(cname, mname, mtype),\n    IfTrue(lmatch),\n    Goto(l2)) ++\n    r1 ++ (Goto(l3) :: r2)\n  (r, n3)\n```\n\n\u307e\u305a\u3001\u4e8b\u524d\u306b\u6b21\u306e\u51e6\u7406\u3092\u884c\u3046\u3002\n\n1. \u90e8\u5206\u6b63\u898f\u8868\u73fe`a`\u3092\u4e2d\u9593\u8868\u73fe\u3078\u5909\u63db\u3059\u308b\uff08\u3053\u308c\u3092`r1`\u3068\u3059\u308b\uff09\n2. `r1`\u306e\u672b\u5c3e\u306b\u6b21\u306e\u547d\u4ee4\u3092\u52a0\u3048\u308b\n  - \u9078\u629e\u306e\u3082\u3046\u4e00\u65b9\uff08\u90e8\u5206\u6b63\u898f\u8868\u73fe`b`\uff09\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\uff08$\\textsc{GOTO}$\uff09\n3. \u90e8\u5206\u6b63\u898f\u8868\u73fe`b`\u3092\u4e2d\u9593\u8868\u73fe\u3078\u5909\u63db\u3059\u308b\uff08\u3053\u308c\u3092`r2`\u3068\u3059\u308b\uff09\n\n\u305d\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u4e2d\u9593\u8868\u73fe\u3092\u751f\u6210\u3059\u308b\u3002\u306a\u304a`lmatch`\u306f\u30de\u30c3\u30c1\u306b\u6210\u529f\u3057\u305f\u969b\u306b\u9077\u79fb\u3059\u308b\u5834\u6240\u3067\u3042\u308b\u3002\n\n1. \u30e9\u30d9\u30eb\u3092\u6253\u3064\n2. \u30b9\u30bf\u30c3\u30af\u306e\u4e8c\u3064\u3092\u30b3\u30d4\u30fc\u3059\u308b\uff08$\\textsc{DUP2}$\uff09$\\STwo{sp, str} \\Rightarrow \\SFour{sp, str, sp, str}$\n3. `r1`\u306e\u5148\u982d\u3092\u6307\u3059\u30e9\u30d9\u30eb`n1`\u3092\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u7f6e\u304f\uff08$\\textsc{PUSH}$\uff09$\\SFour{sp, str, sp, str} \\Rightarrow \\SFive{n_1, sp, str, sp, str}$\n4. \u95a2\u6570`test`\u3092\u518d\u5e30\u7684\u306b\u547c\u3073\u51fa\u3057\u3001\u8fd4\u308a\u5024\u3092\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u7f6e\u304f\uff08$\\textsc{INVOKESTATIC}$\uff09$\\SFive{n_1, sp, str, sp, str} \\Rightarrow \\SThree{{1\\, {\\rm or}\\, 0}, sp, str}$\n5. \u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u304c$1$\u306a\u3089\u3070\u3001`lmatch`\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{IFTRUE}$\uff09$\\SThree{{1\\, {\\rm or}\\, 0}, sp, str} \\Rightarrow \\STwo{sp, str}$\n6. `r2`\u306e\u5148\u982d\u3092\u6307\u3059\u30e9\u30d9\u30eb`l2`\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{GOTO}$\uff09\n7. \u751f\u6210\u3057\u305f`r1`\u3068`r2`\u3092\u7d50\u5408\u3059\u308b\n\n## \u7e70\u308a\u8fd4\u3057\n\n```scala\ncase Star(Star(a)) => loop(Star(a), n)\n\ncase Star(a) =>\n  val (l1, n1) = mk_label(n)\n  val (r1, n2) = loop(a, n1)\n  val (l2, n3) = mk_label(n2)\n  val r2       = List(Lbl(l2), Goto(l1))\n  val (l3, _)  = mk_label(n3)\n  val r = List(\n    Lbl(l1),\n    Dup2,\n    Push(n1),\n    InvokeStatic(cname, mname, mtype),\n    IfTrue(lmatch),\n    Goto(l3)) ++\n    r1 ++ r2\n  (r, n3)\n```\n\n\u307e\u305a\u3001\u4e8b\u524d\u306b\u6b21\u306e\u51e6\u7406\u3092\u884c\u3046\u3002\n\n1. \u90e8\u5206\u6b63\u898f\u8868\u73fe`a`\u3092\u4e2d\u9593\u8868\u73fe\u3078\u5909\u63db\u3059\u308b\uff08\u3053\u308c\u3092`r1`\u3068\u3059\u308b\uff09\n2. `r1`\u306e\u672b\u5c3e\u306b\u6b21\u306e\u51e6\u7406\u3092\u3059\u308b\u4e2d\u9593\u8868\u73fe\u3092\u52a0\u3048\u308b\n  1. \u30e9\u30d9\u30eb\u3092\u6253\u3064\n  2. \u30e9\u30d9\u30eb`l1`\uff08\u5f8c\u3067\u5b9a\u7fa9\uff09\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{GOTO}$\uff09\n\n\u305d\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u4e2d\u9593\u8868\u73fe\u3092\u751f\u6210\u3059\u308b\u3002\n\n1. \u30e9\u30d9\u30eb\u3092\u6253\u3064\uff08\u3053\u306e\u30e9\u30d9\u30eb\u3092`l1`\u3068\u3059\u308b\uff09\n2. \u30b9\u30bf\u30c3\u30af\u306e\u4e8c\u3064\u3092\u30b3\u30d4\u30fc\u3059\u308b\uff08$\\textsc{DUP2}$\uff09$\\STwo{sp, str} \\Rightarrow \\SFour{sp, str, sp, str}$\n3. `r1`\u306e\u5148\u982d\u3092\u6307\u3059\u30e9\u30d9\u30eb`n1`\u3092\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u7f6e\u304f\uff08$\\textsc{PUSH}$\uff09$\\SFour{sp, str, sp, str} \\Rightarrow \\SFive{n_1, sp, str, sp, str}$\n4. \u95a2\u6570`test`\u3092\u518d\u5e30\u7684\u306b\u547c\u3073\u51fa\u3057\u3001\u8fd4\u308a\u5024\u3092\u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u306b\u7f6e\u304f\uff08$\\textsc{INVOKESTATIC}$\uff09$\\SFive{n_1, sp, str, sp, str} \\Rightarrow \\SThree{{1\\, {\\rm or}\\, 0}, sp, str}$\n5. \u30b9\u30bf\u30c3\u30af\u306e\u5148\u982d\u304c$1$\u306a\u3089\u3070\u3001`lmatch`\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{IFTRUE}$\uff09$\\SThree{{1\\, {\\rm or}\\, 0}, sp, str} \\Rightarrow \\STwo{sp, str}$\n6. \u6b21\u306e\u5834\u6240\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\uff08$\\textsc{GOTO}$\uff09\n7. \u751f\u6210\u3057\u305f\u4e2d\u9593\u8868\u73fe`r1`\u3092\u7d50\u5408\u3059\u308b\n\n# \u4e2d\u9593\u8868\u73fe\u304b\u3089\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u306e\u751f\u6210\n\n\u524d\u56de\u306e\u8a18\u4e8b\u3068\u540c\u3058\u3088\u3046\u306b\u3001\u4e2d\u9593\u8868\u73fe\u306e\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u3067\u6b21\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3067\u304d\u308b\u3002\n\n```scala\ndef repr_to_code(mv: MethodVisitor, r: Repr, la: List[Label]): Unit = r match {\n  case Lbl(l) => mv.visitLabel(get_label(l, la))\n  case Const1 => mv.visitInsn(ICONST_1)\n  case Push(n) => mv.visitIntInsn(BIPUSH, n)\n  case Add => mv.visitInsn(IADD)\n  case Dup2 => mv.visitInsn(DUP2)\n  case Goto(l) => mv.visitJumpInsn(GOTO, get_label(l, la))\n  case IfCmpNe(l) => mv.visitJumpInsn(IF_ICMPNE, get_label(l, la))\n  case IfTrue(l) => mv.visitJumpInsn(IFNE, get_label(l, la))\n  case InvokeVirtual(p, n, t) => mv.visitMethodInsn(INVOKEVIRTUAL, p, n, t)\n  case InvokeStatic(p, n, t) => mv.visitMethodInsn(INVOKESTATIC, p, n, t)\n}\n```\n\n# \u5b9f\u88c5\n\n\u4eca\u56de\u306e\u5b9f\u88c5\u306f[Github](https://github.com/y-yu/RegexJIT)\u3067\u516c\u958b\u3057\u3066\u3044\u308b\u3002\n\n# \u30d9\u30f3\u30c1\u30de\u30fc\u30af\n\n\u9045\u3044\u6b63\u898f\u8868\u73fe\u306e\u65b9\u304a\u3082\u3057\u308d\u3044\u3088\u3046\u306a\u6c17\u304c\u3059\u308b\u306e\u3067\u3001[\u9045\u3044\u30c3\uff01\u9045\u3059\u304e\u308b\u30c3\uff01Java \u306e\u6b63\u898f\u8868\u73fe\u306e\u304a\u8a71\u3002](http://developer.cybozu.co.jp/tech/?p=8757)\u304b\u3089\u9045\u3044\u6b63\u898f\u8868\u73fe\u306e\u4f8b\u3092\u7d39\u4ecb\u3059\u308b[^why_not_quote]\u3002\n\n[^why_not_quote]: \u4eca\u56de\u5b9f\u88c5\u3057\u305f\u6b63\u898f\u8868\u73fe\u306f\u6a5f\u80fd\u304c\u5c0f\u3055\u3059\u304e\u3066\u3001\u8a18\u4e8b\u306b\u3042\u308b\u6b63\u898f\u8868\u73fe\u3092\u5b9f\u884c\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u5c11\u3005\u30a2\u30ec\u30f3\u30b8\u3057\u305f\u3082\u306e\u7528\u3044\u308b\u3053\u3068\u306b\u3059\u308b\u3002\n\n```\n(aa|a)*X\n```\n\n\u4e0e\u3048\u308b\u6587\u5b57\u5217\u306f _a_ \u3084 _aaaaa_ \u3068\u3044\u3063\u305f**\u30de\u30c3\u30c1\u3057\u306a\u3044**\u6587\u5b57\u5217\u3092\u4f7f\u3063\u3066\u3001\u30de\u30c3\u30c1\u3057\u306a\u3044\u3068\u5224\u5b9a\u3059\u308b\u307e\u3067\u306b\u304b\u304b\u308b\u6642\u9593\u3092\u6e2c\u5b9a\u3059\u308b\u3053\u3068\u3068\u3059\u308b\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u7528\u3044\u3066\u3001\u6587\u5b57\u5217 _a_ \u309210\u6587\u5b57\u304b\u3089\u4e00\u6587\u5b57\u305a\u3064\u5897\u3084\u3057\u3066\u3001\u304b\u304b\u308b\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09\u3092\u8a08\u6e2c\u3057\u305f\u3002\n\n```scala\nfor (i <- 10 to 40) {\n  var str = \"\"\n  for (_ <- 1 to i) {\n    str += \"a\"\n  }\n  str += \"\\0\"\n\n  var time = 0.0\n  for (_ <- 1 to 10) {\n    val start = System.currentTimeMillis\n    m.invoke(c, str, Int.box(0), Int.box(0))\n    //p.findFirstIn(str)\n    time += (System.currentTimeMillis - start)\n  }\n  println(time / 10 + \",\")\n}\n```\n\n## \u7d50\u679c\n\n\u30b0\u30e9\u30d5\u306e<font color=\"red\">\u8d64</font>\u304c\u4eca\u56de\u5b9f\u88c5\u3057\u305f\u30a8\u30f3\u30b8\u30f3\u3067\u3001<font color=\"blue\">\u9752</font>\u304cScala\u306e\u6b63\u898f\u8868\u73fe\u30a8\u30f3\u30b8\u30f3\u3067\u3042\u308b\u3002\n\n![graph.png](https://qiita-image-store.s3.amazonaws.com/0/10815/b9e0caec-cf75-dca5-0647-8b3213197ffc.png)\n\nScala\u306e\u6b63\u898f\u8868\u73fe\u30a8\u30f3\u30b8\u30f3\u3068\u6bd4\u3079\u3066\u3001\u5c11\u306a\u304f\u3068\u3082\u3053\u306e\u4f8b\u306b\u304a\u3044\u3066\u306f\u3088\u3044\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u5f97\u3089\u308c\u305f\u3002\n\n# \u307e\u3068\u3081\n\n\u4eca\u56de\u4f5c\u6210\u3057\u305f\u30b3\u30fc\u30c9\u306f\u7d04200\u884c\u7a0b\u5ea6\u3067\u3042\u308a\u3001\u52d5\u7684\u30b3\u30fc\u30c9\u751f\u6210\u3092\u30b7\u30f3\u30d7\u30eb\u306b\u5b9f\u88c5\u3067\u304d\u305f\u3046\u3048\u306b\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u5b9f\u969b\u306b\u5411\u4e0a\u3057\u305f\u306e\u306f\u5927\u5909\u3088\u304b\u3063\u305f\u3002\u3082\u3061\u308d\u3093\u3001\u3053\u306e\u6b63\u898f\u8868\u73fe\u306f\u6700\u5c0f\u306e\u6a5f\u80fd\u3057\u304b\u6301\u3063\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u76f4\u3061\u306b\u3053\u306e\u30a8\u30f3\u30b8\u30f3\u304c\u6709\u7528\u304b\u3068\u3044\u3046\u3068\u305d\u3046\u3067\u306f\u306a\u3044\u3060\u308d\u3046\u3002\n\n# \u53c2\u8003\u6587\u732e\n\n- [\u6b63\u898f\u8868\u73fe\u6280\u8853\u5165\u9580](http://www.amazon.co.jp/dp/4774172707)\n- [Java\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u5165\u9580](http://www.slideshare.net/kmizushima/java-4912958)\n", "tags": ["\u6b63\u898f\u8868\u73fe", "Scala", "JVM", "jit"]}