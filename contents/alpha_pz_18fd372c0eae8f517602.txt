{"context": " More than 1 year has passed since last update.Struts2\u3068Struts2-jQuery + Bootstrap\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u3063\u305fAjaxValidation \n\u203b\u307e\u305a\u306f\u57fa\u672c\u304b\u3089\n\u5fc5\u9808\u69cb\u6210\n+ Struts 2.3.15.3\n+ Struts2-jQuery plugin 3.6.1\n+ Struts2-bootstrap plugin 1.6.x\n+ Struts2-Convention plugin(\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u8a2d\u5b9a\u3067\u5229\u7528)\n\n\u4e0b\u6e96\u5099\nstruts.properties\u306b\u4ee5\u4e0b\u306e\u8a18\u8ff0\u3092\u8ffd\u52a0\u3059\u308b\nstruts.enableJSONValidation=true\n\n\nAction\u30af\u30e9\u30b9\nAjaxValidation\u7528\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\uff06\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30bf\u30b9\u30bf\u30c3\u30af\u3092\u5229\u7528\u3059\u308b\n@ParentPackage(\"json-default\")\n@InterceptorRefs({ \n    @InterceptorRef(value=\"jsonValidationWorkflowStack\")\n})\n\n\nJSP\nStruts2-jQuery\u30d7\u30e9\u30b0\u30a4\u30f3\u7528\u306e\u30d8\u30c3\u30c0\uff06Struts2-Bootstrap\u30d7\u30e9\u30b0\u30a4\u30f3\u7528\u306e\u30d8\u30c3\u30c0\u3092\u5ba3\u8a00\u3059\u308b\u3002\n<sj:head compressed=\"false\" ajaxcache=\"false\" jqueryui=\"true\"\n    locale=\"ja\" debug=\"true\" />\n<sb:head includeScripts=\"true\" includeScriptsValidation=\"true\"\n    includeStylesResponsive=\"false\" />\n\nsb:head\u306eincludeScripts\u3001includeScriptsValidation\u306ftrue\u306b\u3059\u308b\u3002\n\u6b21\u306b\u9001\u4fe1\u30d5\u30a9\u30fc\u30e0\u3068\u30dc\u30bf\u30f3\u306e\u66f8\u304d\u65b9\u3002\n\u9001\u4fe1\u30d5\u30a9\u30fc\u30e0\u306fStruts2\u30bf\u30b0\u306eform\u306e\u304a\u4f5c\u6cd5\u3002\n<s:form id=\"checkForm\" name=\"checkForm\" method=\"POST\" validate=\"true\">\n  <sj:submit button=\"true\" role=\"button\" name=\"checkButton\" id=\"checkButton\" \n        validate=\"true\" formIds=\"checkForm\" value=\"\u30c1\u30a7\u30c3\u30af\u3059\u308b\" \n        validateFunction=\"bootstrapValidation\" />\n</s:form>\n\ns:form\u306b\u3082\u3001sj:submit\u306b\u3082\u3001validate=\"true\"\u3068\u3059\u308b\u306e\u304c\u6b63\u3057\u3044\u3002\n\nAjaxValidation\u306b\u3088\u308b\u30c1\u30a7\u30c3\u30af\u306e\u7c21\u5358\u306a\u30d5\u30ed\u30fc\nJSP\u2192Action\u30af\u30e9\u30b9\u306eValidation\u3060\u3051\u884c\u3046\u2192\u7d50\u679c\u304cJSP\u306b\u53cd\u6620\u2192\u30a8\u30e9\u30fc\u304c\u306a\u3051\u308c\u3070Struts2\u306eJavaScript\u304c\u81ea\u52d5\u7684\u306bAction\u30af\u30e9\u30b9\u3092\u5b9f\u884c\n\n\u6ce8\u610f\u70b9\n1\u3064\u306es:form\u5185\u3067\u8907\u6570\u7a2e\u985e\u306e\u9001\u4fe1\u5148\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f\u3001\u5358\u7d14\u306bhref\u5c5e\u6027\u3092\u3064\u3051\u308b\u3060\u3051\u3067\u306f\u30c0\u30e1\u3002\n\u203bhref\u5c5e\u6027\u306f\u73fe\u5728\u6b63\u3057\u304f\u52d5\u304b\u306a\u3044\u3002\nsj:submit\u306eonAfterValidationTopics\u3067\u8d77\u52d5\u3059\u308bsubscribe\u3092\u5b9a\u7fa9\u3057\u3066\u5236\u5fa1\u3059\u308b\u3053\u3068\u3002\n$.subscribe('afterValidation', function(event,data) {\n  // \u3055\u307e\u3056\u307e\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u53d6\u5f97\u4f8b    \n  var formData = data.form;\n  console.debug('data:' + data);\n  console.debug('event' + event.originalEvent);\n  console.debug('formData' + formData);\n  .......\n  // \u5165\u529b\u30c1\u30a7\u30c3\u30af\u30a8\u30e9\u30fc\u306e\u6709\u7121(boolean)\n  var result = event.originalEvent.formvalidate;\n}\n\nStruts2\u3068Struts2-jQuery + Bootstrap\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u3063\u305fAjaxValidation \n\u203b\u307e\u305a\u306f\u57fa\u672c\u304b\u3089\n\n\u5fc5\u9808\u69cb\u6210\n+ Struts 2.3.15.3\n+ Struts2-jQuery plugin 3.6.1\n+ Struts2-bootstrap plugin 1.6.x\n+ Struts2-Convention plugin(\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u8a2d\u5b9a\u3067\u5229\u7528)\n\n## \u4e0b\u6e96\u5099\nstruts.properties\u306b\u4ee5\u4e0b\u306e\u8a18\u8ff0\u3092\u8ffd\u52a0\u3059\u308b\n\n```properties\nstruts.enableJSONValidation=true\n```\n\n## Action\u30af\u30e9\u30b9\nAjaxValidation\u7528\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\uff06\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30bf\u30b9\u30bf\u30c3\u30af\u3092\u5229\u7528\u3059\u308b\n\n```java\n@ParentPackage(\"json-default\")\n@InterceptorRefs({ \n\t@InterceptorRef(value=\"jsonValidationWorkflowStack\")\n})\n```\n## JSP\nStruts2-jQuery\u30d7\u30e9\u30b0\u30a4\u30f3\u7528\u306e\u30d8\u30c3\u30c0\uff06Struts2-Bootstrap\u30d7\u30e9\u30b0\u30a4\u30f3\u7528\u306e\u30d8\u30c3\u30c0\u3092\u5ba3\u8a00\u3059\u308b\u3002\n\n```jsp\n<sj:head compressed=\"false\" ajaxcache=\"false\" jqueryui=\"true\"\n\tlocale=\"ja\" debug=\"true\" />\n<sb:head includeScripts=\"true\" includeScriptsValidation=\"true\"\n\tincludeStylesResponsive=\"false\" />\n```\n\nsb:head\u306eincludeScripts\u3001includeScriptsValidation\u306ftrue\u306b\u3059\u308b\u3002\n\n\u6b21\u306b\u9001\u4fe1\u30d5\u30a9\u30fc\u30e0\u3068\u30dc\u30bf\u30f3\u306e\u66f8\u304d\u65b9\u3002\n\u9001\u4fe1\u30d5\u30a9\u30fc\u30e0\u306fStruts2\u30bf\u30b0\u306eform\u306e\u304a\u4f5c\u6cd5\u3002\n\n```jsp\n<s:form id=\"checkForm\" name=\"checkForm\" method=\"POST\" validate=\"true\">\n  <sj:submit button=\"true\" role=\"button\" name=\"checkButton\" id=\"checkButton\" \n        validate=\"true\" formIds=\"checkForm\" value=\"\u30c1\u30a7\u30c3\u30af\u3059\u308b\" \n        validateFunction=\"bootstrapValidation\" />\n</s:form>\n```\n\ns:form\u306b\u3082\u3001sj:submit\u306b\u3082\u3001validate=\"true\"\u3068\u3059\u308b\u306e\u304c\u6b63\u3057\u3044\u3002\n\n## AjaxValidation\u306b\u3088\u308b\u30c1\u30a7\u30c3\u30af\u306e\u7c21\u5358\u306a\u30d5\u30ed\u30fc\nJSP\u2192Action\u30af\u30e9\u30b9\u306eValidation\u3060\u3051\u884c\u3046\u2192\u7d50\u679c\u304cJSP\u306b\u53cd\u6620\u2192\u30a8\u30e9\u30fc\u304c\u306a\u3051\u308c\u3070Struts2\u306eJavaScript\u304c\u81ea\u52d5\u7684\u306bAction\u30af\u30e9\u30b9\u3092\u5b9f\u884c\n\n## \u6ce8\u610f\u70b9\n1\u3064\u306es:form\u5185\u3067\u8907\u6570\u7a2e\u985e\u306e\u9001\u4fe1\u5148\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f\u3001\u5358\u7d14\u306bhref\u5c5e\u6027\u3092\u3064\u3051\u308b\u3060\u3051\u3067\u306f\u30c0\u30e1\u3002\n\u203bhref\u5c5e\u6027\u306f\u73fe\u5728\u6b63\u3057\u304f\u52d5\u304b\u306a\u3044\u3002\nsj:submit\u306eonAfterValidationTopics\u3067\u8d77\u52d5\u3059\u308bsubscribe\u3092\u5b9a\u7fa9\u3057\u3066\u5236\u5fa1\u3059\u308b\u3053\u3068\u3002\n\n```js\n$.subscribe('afterValidation', function(event,data) {\n  // \u3055\u307e\u3056\u307e\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u53d6\u5f97\u4f8b\t  \n  var formData = data.form;\n  console.debug('data:' + data);\n  console.debug('event' + event.originalEvent);\n  console.debug('formData' + formData);\n  .......\n  // \u5165\u529b\u30c1\u30a7\u30c3\u30af\u30a8\u30e9\u30fc\u306e\u6709\u7121(boolean)\n  var result = event.originalEvent.formvalidate;\n}\n```", "tags": ["struts22.3.x", "jQuery-plugin1.6.x", "AjaxValidation"]}