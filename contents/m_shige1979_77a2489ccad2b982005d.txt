{"context": " More than 1 year has passed since last update.\n\n\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\n\u57fa\u672c\u3001RSS\u3068\u304b\u3067\u306f\u306a\u304f\u30b5\u30a4\u30c8\u306e\u30c7\u30fc\u30bf\u306e\u4e00\u90e8\u3092\u62bd\u51fa\u3059\u308b\u306e\u3067Web\u30b5\u30a4\u30c8\u306b\u8ca0\u8377\u3092\u304b\u3051\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u306e\u3067\u6c17\u3092\u3064\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u6ce8\u610f\n\u6b63\u898f\u8868\u73fe\u306f\u4eca\u56de\u672a\u4f7f\u7528\u3002\n\u3060\u3063\u3066\u96e3\u3057\u3044\u306e\u3067m(_ _)m\n\n\u4f7f\u7528\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\n\nHTML\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\nLWP::UserAgent\n\u203bHTML\u306e\u53d6\u5f97\u306f\u3053\u308c\u3058\u3083\u306a\u3044\u3068\u306d\n\nHTML\u3092\u30d1\u30fc\u30b9\nHTML::TreeBuilder\n\u203b\u3053\u308c\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067JQuery\u307f\u305f\u3044\u306a\u611f\u3058\u3067\u53d6\u5f97\u3067\u304d\u308b\n\n\u30b7\u30f3\u30d7\u30eb\u306a\u65e5\u4ed8\u751f\u6210\nDate::Simple\n\u203b\u73fe\u5728\u65e5\u4ed8\u3068\u304b\u3060\u3051\u3067\u3044\u3044\u306a\u3089\u3053\u308c\u3067\u304a\uff4b\n\n\u5b9f\u88c5\n\nget_html_sample1.pl\n#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nuse FindBin;\nBEGIN {\n    unshift @INC, \"$FindBin::Bin/../lib\"\n}\n\nuse LWP::UserAgent;\nuse HTML::TreeBuilder;\nuse Date::Simple(':all');\n\nmy $url = \"http://ejje.weblio.jp/ranking\";\nmy $date_format;\n\nif( defined $ARGV[0] ){\n    print \"date=\" . $ARGV[0] . \"\\n\";\n    $url = \"http://ejje.weblio.jp/ranking/$ARGV[0]\";\n    my $date = d8($ARGV[0]);\n    $date_format = $date->format('%Y-%m-%d');\n\n}else{\n    my $date = Date::Simple->new();\n    $date_format = $date->format('%Y-%m-%d');\n\n}\n\nif( defined $ARGV[1] ){\n    print \"category=\" . $ARGV[1] . \"\\n\";\n}\n\n# HTML\u3092\u53d6\u5f97\nprint \"url=\" . $url . \"\\n\";\nprint \"date=\" . $date_format . \"\\n\";\n\nmy $ua = LWP::UserAgent->new();\nmy $res = $ua->get($url);\n\nif($res->is_success){\n    my $content = $res->content;\n\n    # HTML\u3092\u30d1\u30fc\u30b9\n    my $tree = HTML::TreeBuilder->new();\n    $tree->parse($content);\n\n    # \u884c\u5358\u4f4d\u306b\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3066\u6574\u5f62\n    my $table = $tree->look_down('class', 'mainRankCC');\n    if( defined $table ){\n        my @list = $table->find('tr');\n        my $rank_list;\n        for my $tr (@list) {\n            my $td1 = $tr->find('td');\n            my $td2 = $td1->right;\n\n            # \u7a7a\u767d\u3092\u9664\u53bb\u3057\u3066\u8a2d\u5b9a\n            my $items = {};\n            $items->{rank} = trim($td1->as_text);\n            $items->{word} = trim($td2->as_text);\n\n            # \u914d\u5217\u306b\u8ffd\u52a0(\u914d\u5217\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3092\u30c7\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9)\n            push(@$rank_list, $items);\n        }\n\n        print Dumper($rank_list);\n\n    }else{\n        print \"rank\u53d6\u5f97\u5931\u6557\";\n    }\n\n }else{\n    print \"get\u51e6\u7406\u5931\u6557\";\n }\n\n# \u7a7a\u767d\u9664\u53bb\nsub trim{\n    my ($value) = shift;\n    $value =~ s/^ *(.*?) *$/$1/;\n    return $value;\n}\n\n\n\n\u7d50\u679c\n$ perl get_html_sample1.pl \nurl=http://ejje.weblio.jp/ranking\ndate=2014-12-01\n$VAR1 = [\n          {\n            'rank' => '1',\n            'word' => 'flood'\n          },\n          {\n            'rank' => '2',\n            'word' => 'legend'\n          },\n          {\n            'word' => '12\u6708',\n            'rank' => '3'\n          },\n          {\n            'word' => '\u8a03\u5831',\n            'rank' => '4'\n          },\n          {\n            'word' => 'silly',\n            'rank' => '5'\n          },\n          {\n            'word' => 'undefined',\n            'rank' => '6'\n          },\n          {\n            'rank' => '7',\n            'word' => '\u30a4\u30f3\u30bf\u30fc\u30b9\u30c6\u30e9\u30fc'\n          },\n          {\n            'word' => 'confirm',\n            'rank' => '8'\n          },\n          {\n            'rank' => '9',\n            'word' => 'provide'\n          },\n          {\n            'word' => 'December',\n            'rank' => '10'\n          },\n          {\n            'word' => 'appreciate',\n            'rank' => '11'\n          },\n          {\n            'rank' => '12',\n            'word' => 'present'\n          },\n          {\n            'word' => 'expect',\n            'rank' => '13'\n          },\n          {\n            'word' => 'consider',\n            'rank' => '14'\n          },\n          {\n            'rank' => '15',\n            'word' => 'reference'\n          },\n          {\n            'word' => '\u5358\u8a9e',\n            'rank' => '16'\n          },\n          {\n            'rank' => '17',\n            'word' => 'refrain'\n          },\n          {\n            'word' => 'available',\n            'rank' => '18'\n          },\n          {\n            'word' => 'apply',\n            'rank' => '19'\n          },\n          {\n            'rank' => '20',\n            'word' => 'describe'\n          },\n          {\n            'word' => 'concern',\n            'rank' => '21'\n          },\n          {\n            'rank' => '22',\n            'word' => 'issue'\n          },\n          {\n            'word' => 'remain',\n            'rank' => '23'\n          },\n          {\n            'rank' => '24',\n            'word' => 'appropriate'\n          },\n          {\n            'word' => 'determine',\n            'rank' => '25'\n          },\n          {\n            'rank' => '26',\n            'word' => 'while'\n          },\n          {\n            'rank' => '27',\n            'word' => 'assume'\n          },\n          {\n            'rank' => '28',\n            'word' => 'implement'\n          },\n          {\n            'word' => 'leave',\n            'rank' => '29'\n          },\n          {\n            'rank' => '30',\n            'word' => 'feature'\n          },\n          {\n            'rank' => '31',\n            'word' => 'further'\n          },\n          {\n            'rank' => '32',\n            'word' => 'cause'\n          },\n          {\n            'rank' => '33',\n            'word' => 'indicate'\n          },\n          {\n            'rank' => '34',\n            'word' => 'even'\n          },\n          {\n            'rank' => '35',\n            'word' => 'awesome'\n          },\n          {\n            'rank' => '36',\n            'word' => '\u30e1\u30ea\u30fc\u30af\u30ea\u30b9\u30de\u30b9'\n          },\n          {\n            'rank' => '37',\n            'word' => 'through'\n          },\n          {\n            'word' => 'represent',\n            'rank' => '38'\n          },\n          {\n            'word' => 'due to',\n            'rank' => '39'\n          },\n          {\n            'rank' => '40',\n            'word' => 'property'\n          },\n          {\n            'word' => 'application',\n            'rank' => '41'\n          },\n          {\n            'rank' => '42',\n            'word' => 'involve'\n          },\n          {\n            'rank' => '43',\n            'word' => 'improve'\n          },\n          {\n            'word' => '\u7d05\u8449',\n            'rank' => '44'\n          },\n          {\n            'rank' => '45',\n            'word' => 'affect'\n          },\n          {\n            'rank' => '46',\n            'word' => 'require'\n          },\n          {\n            'word' => 'accept',\n            'rank' => '47'\n          },\n          {\n            'rank' => '48',\n            'word' => 'respect'\n          },\n          {\n            'word' => '\u7528\u52d9\u54e1',\n            'rank' => '49'\n          },\n          {\n            'rank' => '50',\n            'word' => 'description'\n          }\n        ];\n$\n\nqiita\u306b\u59cb\u3081\u3066\u6295\u7a3f\u3059\u308b\u306e\u3067\u3061\u3087\u3063\u3068\u5b9f\u9a13\u304c\u3066\u3089\u66f8\u3044\u3066\u307f\u305f\nweb\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u306f\u5bfe\u8c61\u306e\u30b5\u30fc\u30d0\u306b\u8ca0\u8377\u3092\u304b\u3051\u308b\u306e\u3067\u884c\u3046\u5834\u5408\u306f\u304b\u306a\u308a\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u6709\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n# \u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\n\u57fa\u672c\u3001RSS\u3068\u304b\u3067\u306f\u306a\u304f\u30b5\u30a4\u30c8\u306e\u30c7\u30fc\u30bf\u306e\u4e00\u90e8\u3092\u62bd\u51fa\u3059\u308b\u306e\u3067Web\u30b5\u30a4\u30c8\u306b\u8ca0\u8377\u3092\u304b\u3051\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u306e\u3067\u6c17\u3092\u3064\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n# \u6ce8\u610f\n\u6b63\u898f\u8868\u73fe\u306f\u4eca\u56de\u672a\u4f7f\u7528\u3002\n\u3060\u3063\u3066\u96e3\u3057\u3044\u306e\u3067m(_ _)m\n\n# \u4f7f\u7528\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\n## HTML\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\nLWP::UserAgent\n\u203bHTML\u306e\u53d6\u5f97\u306f\u3053\u308c\u3058\u3083\u306a\u3044\u3068\u306d\n\n## HTML\u3092\u30d1\u30fc\u30b9\nHTML::TreeBuilder\n\u203b\u3053\u308c\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067JQuery\u307f\u305f\u3044\u306a\u611f\u3058\u3067\u53d6\u5f97\u3067\u304d\u308b\n\n## \u30b7\u30f3\u30d7\u30eb\u306a\u65e5\u4ed8\u751f\u6210\nDate::Simple\n\u203b\u73fe\u5728\u65e5\u4ed8\u3068\u304b\u3060\u3051\u3067\u3044\u3044\u306a\u3089\u3053\u308c\u3067\u304a\uff4b\n\n# \u5b9f\u88c5\n```perl:get_html_sample1.pl\n#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nuse FindBin;\nBEGIN {\n    unshift @INC, \"$FindBin::Bin/../lib\"\n}\n\nuse LWP::UserAgent;\nuse HTML::TreeBuilder;\nuse Date::Simple(':all');\n\nmy $url = \"http://ejje.weblio.jp/ranking\";\nmy $date_format;\n\nif( defined $ARGV[0] ){\n    print \"date=\" . $ARGV[0] . \"\\n\";\n    $url = \"http://ejje.weblio.jp/ranking/$ARGV[0]\";\n    my $date = d8($ARGV[0]);\n    $date_format = $date->format('%Y-%m-%d');\n\n}else{\n    my $date = Date::Simple->new();\n    $date_format = $date->format('%Y-%m-%d');\n\n}\n\nif( defined $ARGV[1] ){\n    print \"category=\" . $ARGV[1] . \"\\n\";\n}\n\n# HTML\u3092\u53d6\u5f97\nprint \"url=\" . $url . \"\\n\";\nprint \"date=\" . $date_format . \"\\n\";\n\nmy $ua = LWP::UserAgent->new();\nmy $res = $ua->get($url);\n\nif($res->is_success){\n    my $content = $res->content;\n\n    # HTML\u3092\u30d1\u30fc\u30b9\n    my $tree = HTML::TreeBuilder->new();\n    $tree->parse($content);\n\n    # \u884c\u5358\u4f4d\u306b\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3066\u6574\u5f62\n    my $table = $tree->look_down('class', 'mainRankCC');\n    if( defined $table ){\n        my @list = $table->find('tr');\n        my $rank_list;\n        for my $tr (@list) {\n            my $td1 = $tr->find('td');\n            my $td2 = $td1->right;\n\n            # \u7a7a\u767d\u3092\u9664\u53bb\u3057\u3066\u8a2d\u5b9a\n            my $items = {};\n            $items->{rank} = trim($td1->as_text);\n            $items->{word} = trim($td2->as_text);\n\n            # \u914d\u5217\u306b\u8ffd\u52a0(\u914d\u5217\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3092\u30c7\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9)\n            push(@$rank_list, $items);\n        }\n\n        print Dumper($rank_list);\n\n    }else{\n        print \"rank\u53d6\u5f97\u5931\u6557\";\n    }\n\n }else{\n    print \"get\u51e6\u7406\u5931\u6557\";\n }\n\n# \u7a7a\u767d\u9664\u53bb\nsub trim{\n    my ($value) = shift;\n    $value =~ s/^ *(.*?) *$/$1/;\n    return $value;\n}\n```\n\n\n## \u7d50\u679c\n```\n$ perl get_html_sample1.pl \nurl=http://ejje.weblio.jp/ranking\ndate=2014-12-01\n$VAR1 = [\n          {\n            'rank' => '1',\n            'word' => 'flood'\n          },\n          {\n            'rank' => '2',\n            'word' => 'legend'\n          },\n          {\n            'word' => '12\u6708',\n            'rank' => '3'\n          },\n          {\n            'word' => '\u8a03\u5831',\n            'rank' => '4'\n          },\n          {\n            'word' => 'silly',\n            'rank' => '5'\n          },\n          {\n            'word' => 'undefined',\n            'rank' => '6'\n          },\n          {\n            'rank' => '7',\n            'word' => '\u30a4\u30f3\u30bf\u30fc\u30b9\u30c6\u30e9\u30fc'\n          },\n          {\n            'word' => 'confirm',\n            'rank' => '8'\n          },\n          {\n            'rank' => '9',\n            'word' => 'provide'\n          },\n          {\n            'word' => 'December',\n            'rank' => '10'\n          },\n          {\n            'word' => 'appreciate',\n            'rank' => '11'\n          },\n          {\n            'rank' => '12',\n            'word' => 'present'\n          },\n          {\n            'word' => 'expect',\n            'rank' => '13'\n          },\n          {\n            'word' => 'consider',\n            'rank' => '14'\n          },\n          {\n            'rank' => '15',\n            'word' => 'reference'\n          },\n          {\n            'word' => '\u5358\u8a9e',\n            'rank' => '16'\n          },\n          {\n            'rank' => '17',\n            'word' => 'refrain'\n          },\n          {\n            'word' => 'available',\n            'rank' => '18'\n          },\n          {\n            'word' => 'apply',\n            'rank' => '19'\n          },\n          {\n            'rank' => '20',\n            'word' => 'describe'\n          },\n          {\n            'word' => 'concern',\n            'rank' => '21'\n          },\n          {\n            'rank' => '22',\n            'word' => 'issue'\n          },\n          {\n            'word' => 'remain',\n            'rank' => '23'\n          },\n          {\n            'rank' => '24',\n            'word' => 'appropriate'\n          },\n          {\n            'word' => 'determine',\n            'rank' => '25'\n          },\n          {\n            'rank' => '26',\n            'word' => 'while'\n          },\n          {\n            'rank' => '27',\n            'word' => 'assume'\n          },\n          {\n            'rank' => '28',\n            'word' => 'implement'\n          },\n          {\n            'word' => 'leave',\n            'rank' => '29'\n          },\n          {\n            'rank' => '30',\n            'word' => 'feature'\n          },\n          {\n            'rank' => '31',\n            'word' => 'further'\n          },\n          {\n            'rank' => '32',\n            'word' => 'cause'\n          },\n          {\n            'rank' => '33',\n            'word' => 'indicate'\n          },\n          {\n            'rank' => '34',\n            'word' => 'even'\n          },\n          {\n            'rank' => '35',\n            'word' => 'awesome'\n          },\n          {\n            'rank' => '36',\n            'word' => '\u30e1\u30ea\u30fc\u30af\u30ea\u30b9\u30de\u30b9'\n          },\n          {\n            'rank' => '37',\n            'word' => 'through'\n          },\n          {\n            'word' => 'represent',\n            'rank' => '38'\n          },\n          {\n            'word' => 'due to',\n            'rank' => '39'\n          },\n          {\n            'rank' => '40',\n            'word' => 'property'\n          },\n          {\n            'word' => 'application',\n            'rank' => '41'\n          },\n          {\n            'rank' => '42',\n            'word' => 'involve'\n          },\n          {\n            'rank' => '43',\n            'word' => 'improve'\n          },\n          {\n            'word' => '\u7d05\u8449',\n            'rank' => '44'\n          },\n          {\n            'rank' => '45',\n            'word' => 'affect'\n          },\n          {\n            'rank' => '46',\n            'word' => 'require'\n          },\n          {\n            'word' => 'accept',\n            'rank' => '47'\n          },\n          {\n            'rank' => '48',\n            'word' => 'respect'\n          },\n          {\n            'word' => '\u7528\u52d9\u54e1',\n            'rank' => '49'\n          },\n          {\n            'rank' => '50',\n            'word' => 'description'\n          }\n        ];\n$\n```\n\n\nqiita\u306b\u59cb\u3081\u3066\u6295\u7a3f\u3059\u308b\u306e\u3067\u3061\u3087\u3063\u3068\u5b9f\u9a13\u304c\u3066\u3089\u66f8\u3044\u3066\u307f\u305f\nweb\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u306f\u5bfe\u8c61\u306e\u30b5\u30fc\u30d0\u306b\u8ca0\u8377\u3092\u304b\u3051\u308b\u306e\u3067\u884c\u3046\u5834\u5408\u306f\u304b\u306a\u308a\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u6709\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["Perl", "\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0"]}