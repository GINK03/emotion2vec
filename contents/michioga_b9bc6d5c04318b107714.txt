{"tags": ["FEM", "\u69cb\u9020\u89e3\u6790", "\u6570\u5024\u8a08\u7b97", "Linux"], "context": "\u3053\u3053\u3067\u306f\u3001FrontISTR\u3092Ubuntu 16.04 LTS\u3067\u624b\u8efd\u306b\u69cb\u7bc9\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\nWindows\u7248\u306f \u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u5927\u898f\u6a21\u69cb\u9020\u89e3\u6790\u30d7\u30ed\u30b0\u30e9\u30e0 FrontISTR v4.5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Windows10 - MinGW-w64) \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nFrontISTR\u3092\u69cb\u7bc9\u3059\u308b\u306b\u306f\u3001\u69d8\u3005\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u30d0\u30a4\u30ca\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u624b\u9593\u3092\u7701\u304d\u307e\u3059\u3002\n\u3053\u3053\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u65b9\u6cd5\u306f\u3001Ubuntu 16.04 LTS\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002\n\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30bd\u30fc\u30b9\u304b\u3089\u69cb\u7bc9\u3059\u308b\u5834\u5408\u306f\u3001\u3010\u53c2\u8003\u3011\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u81ea\u529b\u3067\u69cb\u7bc9\u3059\u308b\u65b9\u6cd5\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u306f\u3058\u3081\u306b\nFrontISTR\u306f\u6771\u4eac\u5927\u5b66 \u5965\u7530\u7814\u7a76\u5ba4\u3067\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u3001\u672c\u683c\u7684\u306a\u69cb\u9020\u89e3\u6790\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002FrontISTR\u7814\u7a76\u4f1a\u304b\u3089\u3001\u7814\u7a76\u4f1a\u306e\u6848\u5185\u3084\u8cc7\u6599\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u304c\u5165\u624b\u3067\u304d\u307e\u3059\u3002\n\u30b9\u30d1\u30b3\u30f3\u304b\u3089Windows\u30d1\u30bd\u30b3\u30f3\u307e\u3067\u52d5\u304b\u3059\u3053\u3068\u304c\u51fa\u6765\u308b\u70b9\u304c\u7279\u5fb4\u306e\u4e00\u3064\u3067\u3059\u3002\n\n\u6e96\u5099\n\u4e88\u3081ubuntu 16.04 LTS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001OS\u304c\u52d5\u4f5c\u53ef\u80fd\u306a\u72b6\u614b\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u4ee5\u4e0b\u306e\u30bd\u30d5\u30c8\u3092\u5165\u624b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\n\u5165\u624b\u5148\n\n\n\n\nFrontISTR_V45.tar.gz\nhttp://www.multi.k.u-tokyo.ac.jp/FrontISTR\n\n\nREVOCAP_Refiner-1.1.04\nhttp://www.multi.k.u-tokyo.ac.jp/FrontISTR\n\n\n\n\n\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5c0e\u5165\n\n\u30d0\u30a4\u30ca\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5c0e\u5165\n\u4e0a\u8a18\u4ee5\u5916\u306e\u30bd\u30d5\u30c8\u306f\u30d0\u30a4\u30ca\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089\u5c0e\u5165\u3057\u307e\u3059\u3002\n% sudo apt install build-essensial\n% sudo apt install libtrilinos-ml-dev\n% sudo apt install libtrilinos-aztecoo-dev libtrilinos-zoltan-dev\n% sudo apt install libopenblas-dev libmumps-dev libmetis-dev\n\n\nREVOCAP_Refiner\u306e\u69cb\u7bc9\nREVOCAP_Refiner\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n% tar xvf REVOCAP_Refiner-1.1.04.tar.gz\n% cd REVOCAP_Refiner-1.1.04\n% make\n\n\nFrontISTR\u306e\u69cb\u7bc9\n\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5c0e\u5165\u304c\u6e08\u3093\u3060\u3089FrontISTR\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\nFrontISTR\u3067\u6709\u52b9\u306b\u3059\u308b\u6a5f\u80fd\u306f\n\nhecmw_part1\u9818\u57df\u5206\u5272\u30c4\u30fc\u30eb\u306a\u3069\u306e\u30c4\u30fc\u30eb\u7fa4\u751f\u6210\nREVOCAP_Refiner (\u30e1\u30c3\u30b7\u30e5\u306e\u7d30\u5206\u5316\u6a5f\u80fd)\nMPI (PC\u30af\u30e9\u30b9\u30bf\u7b49\u306e\u4e26\u5217\u5b9f\u884c\u74b0\u5883\uff09\nOpenMP (\u30de\u30eb\u30c1\u30b3\u30a2CPU\u3092\u5229\u7528)\nMETIS (\u30e1\u30c3\u30b7\u30e5\u306e\u9818\u57df\u5206\u5272\u306e\u305f\u3081\u306b\u5fc5\u8981)\nMUMPS (\u76f4\u63a5\u6cd5\u30bd\u30eb\u30d0\u30fc)\nLAPACK \uff08CG\u6cd5\u3084GMRES\u6cd5\u3092\u7528\u3044\u305f\u524d\u51e6\u7406\u9069\u7528\u5f8c\u306e\u6761\u4ef6\u6570\u63a8\u5b9a\u6a5f\u80fd\u3092\u5229\u7528\uff09\nTrilinos-ML \uff08\u4ee3\u6570\u30de\u30eb\u30c1\u30b0\u30ea\u30c3\u30c9\u6cd5\u306b\u57fa\u3065\u304f\u524d\u51e6\u7406\uff09\n\n\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3057\u305f\u30d0\u30a4\u30ca\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n% tar xvf FrontISTR_V45.tar.gz\n% cd FrontISTR_V45\n\n\u3055\u3089\u306bMakefile.am\u3092\u7de8\u96c6\u3057\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u306e\u306a\u3044\u90e8\u5206\u3092\u9664\u5916\u3057\u307e\u3059\u3002\n% vi Makefile.am\nPREFIX     = @prefix@\nBINDIR     = @bindir@\nLIBDIR     = @libdir@\nINCLUDEDIR = @includedir@\n\nMAKE       = @make@\nAR         = @ar@\nCP         = @cp@\nRM         = @rm@\nMV         = @mv@\nRANLIB     = @ranlib@\nMKDIR      = @mkdir@\n\nall:\n        @cd hecmw1 && $(MAKE)\n        @cd fistr1 && $(MAKE)\n#       @cd hecmw2 && $(MAKE)\n#       @cd fistr2 && $(MAKE)\n        @cd fistr  && $(MAKE)\n\nclean:\n        @cd hecmw1 && $(MAKE) clean\n        @cd fistr1 && $(MAKE) clean\n#       @cd hecmw2 && $(MAKE) clean\n#       @cd fistr2 && $(MAKE) clean\n        @cd fistr  && $(MAKE) clean\n\ndistclean:\n        @cd hecmw1 && $(MAKE) distclean\n        @cd fistr1 && $(MAKE) distclean\n#       @cd hecmw2 && $(MAKE) distclean\n#       @cd fistr2 && $(MAKE) distclean\n        @cd fistr  && $(MAKE) distclean\n        - $(RM) ./bin/*\n\ninstall:\n        if [ ! -d $(PREFIX) ]; then \\\n                $(MKDIR) $(PREFIX); \\\n        fi\n        if [ ! -d $(BINDIR) ]; then \\\n                $(MKDIR) $(BINDIR); \\\n        fi\n        @cd hecmw1 && $(MAKE) install\n        @cd fistr1 && $(MAKE) install\n#       @cd hecmw2 && $(MAKE) install\n#       @cd fistr2 && $(MAKE) install\n        @cd fistr  && $(MAKE) install\n\n\nhecmw2\u304a\u3088\u3073fistr2\u306f\u69cb\u7bc9\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nMakefile.conf\u306e\u7de8\u96c6\n% cp Makefile.conf.org Makefile.conf\n% vi Makefile.conf\n\n\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067Makefile.conf\u3092\u7de8\u96c6\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n##################################################\n#                                                #\n#     Setup Configulation File for FrontISTR     #\n#                                                #\n##################################################\n\n# MPI\nMPIDIR         = /usr/lib/openmpi\nMPIBINDIR      = /usr/bin\nMPILIBDIR      = $(MPIDIR)/lib\nMPIINCDIR      = $(MPIDIR)/include\nMPILIBS        = -lmpi -lmpi_mpifh\n\n# for install option only\nPREFIX         = $(HOME)/FrontISTR\nBINDIR         = $(PREFIX)/bin\nLIBDIR         = $(PREFIX)/lib\nINCLUDEDIR     = $(PREFIX)/include\n\n# Metis\nMETISDIR       = /usr/lib/x86_64-linux-gnu\nMETISLIBDIR    = $(METISDIR)\nMETISINCDIR    = /usr/include\nHECMW_METIS_VER= 5\n\n# ParMetis\nPARMETISDIR    = $(HOME)/ParMetis-3.1\nPARMETISLIBDIR = $(PARMETISDIR)\nPARMETISINCDIR = $(PARMETISDIR)/ParMETISLib\n\n# Refiner\nREFINERDIR     = $(HOME)/Software/REVOCAP_Refiner-1.1.04\nREFINERINCDIR  = $(REFINERDIR)/Refiner\nREFINERLIBDIR  = $(REFINERDIR)/lib/x86_64-linux\n\n# Coupler\nREVOCAPDIR     = $(HOME)/REVOCAP_Coupler\nREVOCAPINCDIR  = $(REVOCAPDIR)/librcap\nREVOCAPLIBDIR  = $(REVOCAPDIR)/librcap\n\n# MUMPS\nMUMPSDIR       = /usr\nMUMPSINCDIR    = $(MUMPSDIR)/include\nMUMPSLIBDIR    = $(MUMPSDIR)/lib\n\n# MKL PARDISO\nMKLDIR     = $(HOME)/\nMKLINCDIR  = $(MKLDIR)/include\nMKLLIBDIR  = $(MKLDIR)/lib\n\n# ML\nMLDIR          = /usr\nMLINCDIR       = $(MLDIR)/include/trilinos\nMLLIBDIR       = $(MLDIR)/lib/x86_64-linux-gnu\nMLLIBS         = -ltrilinos_ml -ltrilinos_zoltan\n\n# C compiler settings\nCC             = mpicc -fopenmp\nCFLAGS         =\nLDFLAGS        = -lstdc++ -lm\nOPTFLAGS       = -O3\n\n# C++ compiler settings\nCPP            = mpic++ -fopenmp\nCPPFLAGS       =\nCPPLDFLAGS     =\nCPPOPTFLAGS    = -O3\n\n# Fortran compiler settings\nF90            = mpif90 -fopenmp\nF90FLAGS       =\nF90LDFLAGS     = -lstdc++ -lopenblas\nF90OPTFLAGS    = -O2\nF90FPP         = -cpp\nF90LINKER      = mpif90 -fopenmp\n\nMAKE           = make\nAR             = ar ruv\nMV             = mv -f\nCP             = cp -f\nRM             = rm -f\nMKDIR          = mkdir -p\n\n\n\u3053\u306e\u624b\u9806\u3067\u7528\u3044\u308bMETIS\u306fVersion5.1.0\u3067\u3059\u3002HECMW_METIS_VER = 5\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\ngfortran\u306e\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u6307\u5b9a\u306f -cpp\u3067\u3059\u3002F90FPP = -cpp\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u7de8\u96c6\u304c\u51fa\u6765\u305f\u3089setup.sh\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n% ./setup.sh -p --with-tools --with-refiner --with-metis --with-mumps --with-lapack --with-ml\n\nsetup.sh\u306e\u5b9f\u884c\u304c\u6e08\u3093\u3060\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u30d0\u30a4\u30ca\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n% make\n% make install\n\n\u69cb\u7bc9\u3057\u305f\u30d0\u30a4\u30ca\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3059\u308b\u3068\u3001$(HOME)/FrontISTR/bin\u4ee5\u4e0b\u306b\n% ls $HOME/FrontISTR/bin\nfistr1  hec2rcap  hecmw_part1  hecmw_vis1  neu2fstr  rconv  rmerge\n\n\u306a\u3069\u306e\u30d0\u30a4\u30ca\u30ea\u304c\u30b3\u30d4\u30fc\u3055\u308c\u5b9f\u884c\u3067\u304d\u308b\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002\n\u901a\u5e38\u306f\u3053\u3053\u307e\u3067\u306e\u624b\u9806\u3067\u5341\u5206\u3067\u3059\u3002\n\n\n\u3010\u53c2\u8003\u3011\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u81ea\u529b\u3067\u69cb\u7bc9\u3059\u308b\u65b9\u6cd5\u3000\n\nFrontISTR\u3092\u69cb\u7bc9\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\n\nOpenMPI (MPI)\nOpenBLAS (LAPACK\uff09\nMetis\nMUMPS\nScalapack\nTrilinos ML\n\n\u3067\u3059\u3002 Ubuntu-16.04\u4e0a\u3067\u69cb\u7bc9\u3059\u308b\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001MPI\u306e\u69cb\u7bc9\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u7701\u304d\u307e\u3059\u3002OS\u4ed8\u5c5e\u306eMPI\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u540d\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\n\u5099\u8003\n\n\n\n\nOpenBLAS-0.2.19\nhttp://www.openblas.net\n\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u306eLAPACK\u3088\u308a\u3082\u901f\u3044\n\n\nmetis-5.1.0\nhttp://glaros.dtc.umn.edu/gkhome/metis/metis/download\nscotch-metis\u3082\u5229\u7528\u53ef\n\n\nscalapack-2.0.2\nhttp://www.netlib.org/scalapack/\nMUMPS\u3067\u5229\u7528\n\n\nMUMPS_5.0.2\nhttp://mumps.enseeiht.fr/\n\u8981\u30e6\u30fc\u30b6\u767b\u9332\n\n\ntrilinos-12.8.1\nhttps://trilinos.org/download/\n\u8981\u30e6\u30fc\u30b6\u767b\u9332\n\n\n\n\nOpenBLAS\u306e\u69cb\u7bc9\nOpenBLAS\u306f\u3001\u9ad8\u901f\u306aLAPACK/BLAS\u306e\u30d5\u30ea\u30fc\u306e\u5b9f\u88c5\u3067\u3059\u3002\nOpenMP\u3092\u6709\u52b9\u306b\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n% tar xvf OpenBLAS-0.2.19.tar.gz\n% cd OpenBLAS-0.2.19\n% make BINARY=64 NO_SHARED=1 USE_OPENMP=1\n% make PREFIX=$HOME/local install\n\nOpenBLAS\u3092LAPACK\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u5834\u5408\u3001-llapack\u306e\u4ee3\u308f\u308a\u306b-lopenblas\u3068\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nMETIS\u306e\u69cb\u7bc9\n\u30b0\u30e9\u30d5\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30ca\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\u3053\u306e\u4ed6\u3001Scotch\u306b\u540c\u68b1\u3055\u308c\u308bmetis\u4e92\u63db\u5c64\u3082\u5229\u7528\u3067\u304d\u307e\u3059\u3002\nOpenMP\u3092\u6709\u52b9\u306b\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\nMETIS\u306e\u69cb\u7bc9\u306b\u306fcmake\u304c\u5fc5\u8981\u3067\u3059\u306e\u3067\u3001\u4e88\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n% tar xvf metis-5.1.0.tar.gz\n% cd metis-5.1.0\n\nmetis\u306e\u30c8\u30c3\u30d7\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308bCMakeLists.txt\u306b\u306f\u30d0\u30b0\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u4fee\u6b63\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n% vi CMakeLists.txt\nset(GKLIB_PATH \"GKlib\" CACHE PATH \"path to GKlib\")\n\u3068\u66f8\u304b\u308c\u3066\u3044\u308b\u90e8\u5206\u3092\nset(GKLIB_PATH \"${CMAKE_SOURCE_DIR}/GKlib\" CACHE PATH \"path to GKlib\")\n\u306b\u4fee\u6b63\n\nCMakeLists.txt\u3092\u4fee\u6b63\u3057\u305f\u3089cmake\u3092\u5b9f\u884c\u3057\u3066\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n% cd build\n% cmake -DCMAKE_INSTALL_PREFIX=$HOME/local -DCMAKE_BUILD_TYPE=\"Release\" -DOPENMP=ON ..\n% make\n% make install\n\n\nScalapack\u306e\u69cb\u7bc9\nscalapack\u306f\u3001\u3053\u306e\u5f8c\u8aac\u660e\u3092\u3059\u308bMUMPS\u306e\u69cb\u7bc9\u306b\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002\n\u307e\u305f\u3001scalapack\u306e\u69cb\u7bc9\u306b\u306f\u3001\u4e88\u3081MPI\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n% tar xvf scalapack-2.0.2.tgz\n% cd scalapack-2.0.2\n% mkdir build\n% cd build\n% cmake -DCMAKE_INSTALL_PREFIX=$HOME/local \\\n        -DBLAS_blas_LIBRARY=$HOME/local/lib/libopenblas.a \\\n        -DLAPACK_lapack_LIBRARY=$HOME/local/lib/libopenblas.a \\\n        -DCMAKE_C_FLAGS=\"-fopenmp\" \\\n        -DCMAKE_Fortran_FLAGS=\"-fopenmp\" \\\n        -DCMAKE_EXE_LINKER_FLAGS=\"-fopenmp\" \\\n        ..\n% make\n% make install\n\n\nMUMPS\u306e\u69cb\u7bc9\nMUMPS\u306f\u76f4\u63a5\u6cd5\u306e\u30bd\u30eb\u30d0\u3067\u3059\u3002\n% tar xvf MUMPS_5.0.2.tar.gz\n% cd MUMPS_5.0.2\n\nMake.inc\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u3001Makefile.inc.generic\u3092\u5143\u306bMakefile.inc\u3092\u74b0\u5883\u306b\u5408\u308f\u305b\u305f\u5185\u5bb9\u3078\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n% cp Make.inc/Makefile.inc.generic Makefile.inc\n% vi Makefile.inc\nLMETISDIR = $(HOME)/local\nIMETIS    = -I$(LMETISDIR)/include\nLMETIS    = -L$(LMETISDIR)/lib -lmetis\n\nORDERINGSF  = -Dmetis -Dpord\n\nCC      = gcc -fopenmp\nFC      = gfortran -fopenmp\nFL      = gfortran -fopenmp\n\nSCALAP  = -L$(HOME)/local/lib -lscalapack\n\nINCPAR = -I/usr/lib/openmpi/include\n\nLIBPAR  = $(SCALAP) -L/usr/lib/openmpi -lmpi -lmpi_mpifh\n\nLIBBLAS = -L$(HOME)/local/lib -lopenblas\n\nOPTF    = -O -DMUMPS_OPENMP\nOPTC    = -O -I. -DMUMPS_OPENMP\nOPTL    = -O\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u304c\u6e08\u3093\u3060\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n% make\n\n\nTrilinos ML\u306e\u69cb\u7bc9\nTrilinos\u306b\u306f\u591a\u304f\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u304c\u3001FrontISTR\u306b\u5fc5\u8981\u306a\u306e\u306fML\u3068zoltan\u3060\u3051\u3067\u3059\u3002\n% tar xvf trilinos-12.8.1-Source.tar.gz\n% cd trilinos-12.8.1-Source\n% mkdir build\n% cd build\n% cmake \\\n  -DCMAKE_INSTALL_PREFIX=$HOME/local \\\n  -DTrilinos_ENABLE_ML=ON \\\n  -DTrilinos_ENABLE_Zoltan=ON \\\n  -DTrilinos_ENABLE_OpenMP=ON \\\n  -DTrilinos_ENABLE_ALL_OPTIONAL_PACKAGES=OFF \\\n  -DTPL_BLAS_LIBRARIES=$HOME/local/lib/libopenblas.a \\\n  -DTPL_LAPACK_LIBRARIES=$HOME/local/lib/libopenblas.a \\\n  -DTPL_ENABLE_MPI=ON \\\n  ..\n% make\n% make install\n\n\u3053\u3053\u3067\u793a\u3057\u305f\u624b\u9806\u3067\u306f\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u3092$HOME/local\u4ee5\u4e0b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3057\u307e\u3057\u305f\u3002Ubuntu\u4ee5\u5916\u306eOS\u3067\u3082\u57fa\u672c\u7684\u306b\u306f\u540c\u69d8\u306b\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001FrontISTR\u3092Ubuntu 16.04 LTS\u3067\u624b\u8efd\u306b\u69cb\u7bc9\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n> Windows\u7248\u306f [\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u5927\u898f\u6a21\u69cb\u9020\u89e3\u6790\u30d7\u30ed\u30b0\u30e9\u30e0 FrontISTR v4.5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Windows10 - MinGW-w64)](http://qiita.com/michioga/items/fae993892a808d488648) \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nFrontISTR\u3092\u69cb\u7bc9\u3059\u308b\u306b\u306f\u3001\u69d8\u3005\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u30d0\u30a4\u30ca\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u624b\u9593\u3092\u7701\u304d\u307e\u3059\u3002\n\n\u3053\u3053\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u65b9\u6cd5\u306f\u3001Ubuntu 16.04 LTS\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30bd\u30fc\u30b9\u304b\u3089\u69cb\u7bc9\u3059\u308b\u5834\u5408\u306f\u3001[\u3010\u53c2\u8003\u3011\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u81ea\u529b\u3067\u69cb\u7bc9\u3059\u308b\u65b9\u6cd5](#build-from-source)\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \u306f\u3058\u3081\u306b\n\nFrontISTR\u306f[\u6771\u4eac\u5927\u5b66 \u5965\u7530\u7814\u7a76\u5ba4](http://www.multi.k.u-tokyo.ac.jp/)\u3067\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u3001\u672c\u683c\u7684\u306a\u69cb\u9020\u89e3\u6790\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002[FrontISTR\u7814\u7a76\u4f1a](http://www.multi.k.u-tokyo.ac.jp/FrontISTR/)\u304b\u3089\u3001\u7814\u7a76\u4f1a\u306e\u6848\u5185\u3084\u8cc7\u6599\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u304c\u5165\u624b\u3067\u304d\u307e\u3059\u3002\n\u30b9\u30d1\u30b3\u30f3\u304b\u3089Windows\u30d1\u30bd\u30b3\u30f3\u307e\u3067\u52d5\u304b\u3059\u3053\u3068\u304c\u51fa\u6765\u308b\u70b9\u304c\u7279\u5fb4\u306e\u4e00\u3064\u3067\u3059\u3002\n\n## \u6e96\u5099\n\n\u4e88\u3081ubuntu 16.04 LTS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001OS\u304c\u52d5\u4f5c\u53ef\u80fd\u306a\u72b6\u614b\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\u4ee5\u4e0b\u306e\u30bd\u30d5\u30c8\u3092\u5165\u624b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2                 | \u5165\u624b\u5148\n---------------------- | --------------------------------------------\nFrontISTR_V45.tar.gz   | <http://www.multi.k.u-tokyo.ac.jp/FrontISTR>\nREVOCAP_Refiner-1.1.04 | <http://www.multi.k.u-tokyo.ac.jp/FrontISTR>\n\n## \u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5c0e\u5165\n\n### \u30d0\u30a4\u30ca\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5c0e\u5165\n\n\u4e0a\u8a18\u4ee5\u5916\u306e\u30bd\u30d5\u30c8\u306f\u30d0\u30a4\u30ca\u30ea\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089\u5c0e\u5165\u3057\u307e\u3059\u3002\n\n~~~txt\n% sudo apt install build-essensial\n% sudo apt install libtrilinos-ml-dev\n% sudo apt install libtrilinos-aztecoo-dev libtrilinos-zoltan-dev\n% sudo apt install libopenblas-dev libmumps-dev libmetis-dev\n~~~\n\n### REVOCAP_Refiner\u306e\u69cb\u7bc9\n\nREVOCAP_Refiner\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n\n~~~txt\n% tar xvf REVOCAP_Refiner-1.1.04.tar.gz\n% cd REVOCAP_Refiner-1.1.04\n% make\n~~~\n\n## FrontISTR\u306e\u69cb\u7bc9\n\n\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5c0e\u5165\u304c\u6e08\u3093\u3060\u3089FrontISTR\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\nFrontISTR\u3067\u6709\u52b9\u306b\u3059\u308b\u6a5f\u80fd\u306f\n\n- hecmw_part1\u9818\u57df\u5206\u5272\u30c4\u30fc\u30eb\u306a\u3069\u306e\u30c4\u30fc\u30eb\u7fa4\u751f\u6210\n- REVOCAP_Refiner (\u30e1\u30c3\u30b7\u30e5\u306e\u7d30\u5206\u5316\u6a5f\u80fd)\n- MPI (PC\u30af\u30e9\u30b9\u30bf\u7b49\u306e\u4e26\u5217\u5b9f\u884c\u74b0\u5883\uff09\n- OpenMP (\u30de\u30eb\u30c1\u30b3\u30a2CPU\u3092\u5229\u7528)\n- METIS (\u30e1\u30c3\u30b7\u30e5\u306e\u9818\u57df\u5206\u5272\u306e\u305f\u3081\u306b\u5fc5\u8981)\n- MUMPS (\u76f4\u63a5\u6cd5\u30bd\u30eb\u30d0\u30fc)\n- LAPACK \uff08CG\u6cd5\u3084GMRES\u6cd5\u3092\u7528\u3044\u305f\u524d\u51e6\u7406\u9069\u7528\u5f8c\u306e\u6761\u4ef6\u6570\u63a8\u5b9a\u6a5f\u80fd\u3092\u5229\u7528\uff09\n- Trilinos-ML \uff08\u4ee3\u6570\u30de\u30eb\u30c1\u30b0\u30ea\u30c3\u30c9\u6cd5\u306b\u57fa\u3065\u304f\u524d\u51e6\u7406\uff09\n\n\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3057\u305f\u30d0\u30a4\u30ca\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n~~~txt\n% tar xvf FrontISTR_V45.tar.gz\n% cd FrontISTR_V45\n~~~\n\n\u3055\u3089\u306b`Makefile.am`\u3092\u7de8\u96c6\u3057\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u306e\u306a\u3044\u90e8\u5206\u3092\u9664\u5916\u3057\u307e\u3059\u3002\n\n~~~txt\n% vi Makefile.am\nPREFIX     = @prefix@\nBINDIR     = @bindir@\nLIBDIR     = @libdir@\nINCLUDEDIR = @includedir@\n\nMAKE       = @make@\nAR         = @ar@\nCP         = @cp@\nRM         = @rm@\nMV         = @mv@\nRANLIB     = @ranlib@\nMKDIR      = @mkdir@\n\nall:\n        @cd hecmw1 && $(MAKE)\n        @cd fistr1 && $(MAKE)\n#       @cd hecmw2 && $(MAKE)\n#       @cd fistr2 && $(MAKE)\n        @cd fistr  && $(MAKE)\n\nclean:\n        @cd hecmw1 && $(MAKE) clean\n        @cd fistr1 && $(MAKE) clean\n#       @cd hecmw2 && $(MAKE) clean\n#       @cd fistr2 && $(MAKE) clean\n        @cd fistr  && $(MAKE) clean\n\ndistclean:\n        @cd hecmw1 && $(MAKE) distclean\n        @cd fistr1 && $(MAKE) distclean\n#       @cd hecmw2 && $(MAKE) distclean\n#       @cd fistr2 && $(MAKE) distclean\n        @cd fistr  && $(MAKE) distclean\n        - $(RM) ./bin/*\n\ninstall:\n        if [ ! -d $(PREFIX) ]; then \\\n                $(MKDIR) $(PREFIX); \\\n        fi\n        if [ ! -d $(BINDIR) ]; then \\\n                $(MKDIR) $(BINDIR); \\\n        fi\n        @cd hecmw1 && $(MAKE) install\n        @cd fistr1 && $(MAKE) install\n#       @cd hecmw2 && $(MAKE) install\n#       @cd fistr2 && $(MAKE) install\n        @cd fistr  && $(MAKE) install\n~~~\n\n> `hecmw2`\u304a\u3088\u3073`fistr2`\u306f\u69cb\u7bc9\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n### Makefile.conf\u306e\u7de8\u96c6\n\n~~~txt\n% cp Makefile.conf.org Makefile.conf\n% vi Makefile.conf\n~~~\n\n\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067`Makefile.conf`\u3092\u7de8\u96c6\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n~~~txt\n##################################################\n#                                                #\n#     Setup Configulation File for FrontISTR     #\n#                                                #\n##################################################\n\n# MPI\nMPIDIR         = /usr/lib/openmpi\nMPIBINDIR      = /usr/bin\nMPILIBDIR      = $(MPIDIR)/lib\nMPIINCDIR      = $(MPIDIR)/include\nMPILIBS        = -lmpi -lmpi_mpifh\n\n# for install option only\nPREFIX         = $(HOME)/FrontISTR\nBINDIR         = $(PREFIX)/bin\nLIBDIR         = $(PREFIX)/lib\nINCLUDEDIR     = $(PREFIX)/include\n\n# Metis\nMETISDIR       = /usr/lib/x86_64-linux-gnu\nMETISLIBDIR    = $(METISDIR)\nMETISINCDIR    = /usr/include\nHECMW_METIS_VER= 5\n\n# ParMetis\nPARMETISDIR    = $(HOME)/ParMetis-3.1\nPARMETISLIBDIR = $(PARMETISDIR)\nPARMETISINCDIR = $(PARMETISDIR)/ParMETISLib\n\n# Refiner\nREFINERDIR     = $(HOME)/Software/REVOCAP_Refiner-1.1.04\nREFINERINCDIR  = $(REFINERDIR)/Refiner\nREFINERLIBDIR  = $(REFINERDIR)/lib/x86_64-linux\n\n# Coupler\nREVOCAPDIR     = $(HOME)/REVOCAP_Coupler\nREVOCAPINCDIR  = $(REVOCAPDIR)/librcap\nREVOCAPLIBDIR  = $(REVOCAPDIR)/librcap\n\n# MUMPS\nMUMPSDIR       = /usr\nMUMPSINCDIR    = $(MUMPSDIR)/include\nMUMPSLIBDIR    = $(MUMPSDIR)/lib\n\n# MKL PARDISO\nMKLDIR     = $(HOME)/\nMKLINCDIR  = $(MKLDIR)/include\nMKLLIBDIR  = $(MKLDIR)/lib\n\n# ML\nMLDIR          = /usr\nMLINCDIR       = $(MLDIR)/include/trilinos\nMLLIBDIR       = $(MLDIR)/lib/x86_64-linux-gnu\nMLLIBS         = -ltrilinos_ml -ltrilinos_zoltan\n\n# C compiler settings\nCC             = mpicc -fopenmp\nCFLAGS         =\nLDFLAGS        = -lstdc++ -lm\nOPTFLAGS       = -O3\n\n# C++ compiler settings\nCPP            = mpic++ -fopenmp\nCPPFLAGS       =\nCPPLDFLAGS     =\nCPPOPTFLAGS    = -O3\n\n# Fortran compiler settings\nF90            = mpif90 -fopenmp\nF90FLAGS       =\nF90LDFLAGS     = -lstdc++ -lopenblas\nF90OPTFLAGS    = -O2\nF90FPP         = -cpp\nF90LINKER      = mpif90 -fopenmp\n\nMAKE           = make\nAR             = ar ruv\nMV             = mv -f\nCP             = cp -f\nRM             = rm -f\nMKDIR          = mkdir -p\n~~~\n\n> \u3053\u306e\u624b\u9806\u3067\u7528\u3044\u308bMETIS\u306fVersion5.1.0\u3067\u3059\u3002`HECMW_METIS_VER = 5`\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n> gfortran\u306e\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u6307\u5b9a\u306f `-cpp`\u3067\u3059\u3002`F90FPP = -cpp`\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u7de8\u96c6\u304c\u51fa\u6765\u305f\u3089`setup.sh`\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n~~~txt\n% ./setup.sh -p --with-tools --with-refiner --with-metis --with-mumps --with-lapack --with-ml\n~~~\n\n`setup.sh`\u306e\u5b9f\u884c\u304c\u6e08\u3093\u3060\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u30d0\u30a4\u30ca\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n~~~txt\n% make\n% make install\n~~~\n\n\u69cb\u7bc9\u3057\u305f\u30d0\u30a4\u30ca\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3059\u308b\u3068\u3001`$(HOME)/FrontISTR/bin`\u4ee5\u4e0b\u306b\n\n~~~txt\n% ls $HOME/FrontISTR/bin\nfistr1  hec2rcap  hecmw_part1  hecmw_vis1  neu2fstr  rconv  rmerge\n~~~\n\n\u306a\u3069\u306e\u30d0\u30a4\u30ca\u30ea\u304c\u30b3\u30d4\u30fc\u3055\u308c\u5b9f\u884c\u3067\u304d\u308b\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u901a\u5e38\u306f\u3053\u3053\u307e\u3067\u306e\u624b\u9806\u3067\u5341\u5206\u3067\u3059\u3002\n\n---\n\n## \u3010\u53c2\u8003\u3011\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u81ea\u529b\u3067\u69cb\u7bc9\u3059\u308b\u65b9\u6cd5\u3000<a name=\"build-from-source\">\n\nFrontISTR\u3092\u69cb\u7bc9\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\n\n- OpenMPI (MPI)\n- OpenBLAS (LAPACK\uff09\n- Metis\n- MUMPS\n- Scalapack\n- Trilinos ML\n\n\u3067\u3059\u3002 Ubuntu-16.04\u4e0a\u3067\u69cb\u7bc9\u3059\u308b\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n\n\u305f\u3060\u3057\u3001MPI\u306e\u69cb\u7bc9\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u7701\u304d\u307e\u3059\u3002OS\u4ed8\u5c5e\u306eMPI\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002\n\n### \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u540d          | \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148                                           | \u5099\u8003\n--------------- | ------------------------------------------------- | ------------------\nOpenBLAS-0.2.19 | <http://www.openblas.net>                         | \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u306eLAPACK\u3088\u308a\u3082\u901f\u3044\nmetis-5.1.0     | <http://glaros.dtc.umn.edu/gkhome/metis/metis/download> | scotch-metis\u3082\u5229\u7528\u53ef\nscalapack-2.0.2 | <http://www.netlib.org/scalapack/>                | MUMPS\u3067\u5229\u7528\nMUMPS_5.0.2     | <http://mumps.enseeiht.fr/>                       | \u8981\u30e6\u30fc\u30b6\u767b\u9332\ntrilinos-12.8.1 | <https://trilinos.org/download/>                  | \u8981\u30e6\u30fc\u30b6\u767b\u9332\n\n### OpenBLAS\u306e\u69cb\u7bc9\n\nOpenBLAS\u306f\u3001\u9ad8\u901f\u306aLAPACK/BLAS\u306e\u30d5\u30ea\u30fc\u306e\u5b9f\u88c5\u3067\u3059\u3002\n\nOpenMP\u3092\u6709\u52b9\u306b\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n~~~txt\n% tar xvf OpenBLAS-0.2.19.tar.gz\n% cd OpenBLAS-0.2.19\n% make BINARY=64 NO_SHARED=1 USE_OPENMP=1\n% make PREFIX=$HOME/local install\n~~~\n\nOpenBLAS\u3092LAPACK\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u5834\u5408\u3001`-llapack`\u306e\u4ee3\u308f\u308a\u306b`-lopenblas`\u3068\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n### METIS\u306e\u69cb\u7bc9\n\n\u30b0\u30e9\u30d5\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30ca\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\u3053\u306e\u4ed6\u3001Scotch\u306b\u540c\u68b1\u3055\u308c\u308bmetis\u4e92\u63db\u5c64\u3082\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\nOpenMP\u3092\u6709\u52b9\u306b\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\nMETIS\u306e\u69cb\u7bc9\u306b\u306f`cmake`\u304c\u5fc5\u8981\u3067\u3059\u306e\u3067\u3001\u4e88\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n~~~txt\n% tar xvf metis-5.1.0.tar.gz\n% cd metis-5.1.0\n~~~\n\nmetis\u306e\u30c8\u30c3\u30d7\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b`CMakeLists.txt`\u306b\u306f\u30d0\u30b0\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u4fee\u6b63\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n~~~txt\n% vi CMakeLists.txt\nset(GKLIB_PATH \"GKlib\" CACHE PATH \"path to GKlib\")\n\u3068\u66f8\u304b\u308c\u3066\u3044\u308b\u90e8\u5206\u3092\nset(GKLIB_PATH \"${CMAKE_SOURCE_DIR}/GKlib\" CACHE PATH \"path to GKlib\")\n\u306b\u4fee\u6b63\n~~~\n\n`CMakeLists.txt`\u3092\u4fee\u6b63\u3057\u305f\u3089`cmake`\u3092\u5b9f\u884c\u3057\u3066\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n~~~txt\n% cd build\n% cmake -DCMAKE_INSTALL_PREFIX=$HOME/local -DCMAKE_BUILD_TYPE=\"Release\" -DOPENMP=ON ..\n% make\n% make install\n~~~\n\n### Scalapack\u306e\u69cb\u7bc9\n\nscalapack\u306f\u3001\u3053\u306e\u5f8c\u8aac\u660e\u3092\u3059\u308bMUMPS\u306e\u69cb\u7bc9\u306b\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u307e\u305f\u3001scalapack\u306e\u69cb\u7bc9\u306b\u306f\u3001\u4e88\u3081MPI\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n~~~txt\n% tar xvf scalapack-2.0.2.tgz\n% cd scalapack-2.0.2\n% mkdir build\n% cd build\n% cmake -DCMAKE_INSTALL_PREFIX=$HOME/local \\\n        -DBLAS_blas_LIBRARY=$HOME/local/lib/libopenblas.a \\\n        -DLAPACK_lapack_LIBRARY=$HOME/local/lib/libopenblas.a \\\n        -DCMAKE_C_FLAGS=\"-fopenmp\" \\\n        -DCMAKE_Fortran_FLAGS=\"-fopenmp\" \\\n        -DCMAKE_EXE_LINKER_FLAGS=\"-fopenmp\" \\\n        ..\n% make\n% make install\n~~~\n\n### MUMPS\u306e\u69cb\u7bc9\n\nMUMPS\u306f\u76f4\u63a5\u6cd5\u306e\u30bd\u30eb\u30d0\u3067\u3059\u3002\n\n~~~txt\n% tar xvf MUMPS_5.0.2.tar.gz\n% cd MUMPS_5.0.2\n~~~\n\n`Make.inc`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u3001`Makefile.inc.generic`\u3092\u5143\u306b`Makefile.inc`\u3092\u74b0\u5883\u306b\u5408\u308f\u305b\u305f\u5185\u5bb9\u3078\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n~~~txt\n% cp Make.inc/Makefile.inc.generic Makefile.inc\n% vi Makefile.inc\nLMETISDIR = $(HOME)/local\nIMETIS    = -I$(LMETISDIR)/include\nLMETIS    = -L$(LMETISDIR)/lib -lmetis\n\nORDERINGSF  = -Dmetis -Dpord\n\nCC      = gcc -fopenmp\nFC      = gfortran -fopenmp\nFL      = gfortran -fopenmp\n\nSCALAP  = -L$(HOME)/local/lib -lscalapack\n\nINCPAR = -I/usr/lib/openmpi/include\n\nLIBPAR  = $(SCALAP) -L/usr/lib/openmpi -lmpi -lmpi_mpifh\n\nLIBBLAS = -L$(HOME)/local/lib -lopenblas\n\nOPTF    = -O -DMUMPS_OPENMP\nOPTC    = -O -I. -DMUMPS_OPENMP\nOPTL    = -O\n~~~\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u304c\u6e08\u3093\u3060\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n~~~txt\n% make\n~~~\n\n### Trilinos ML\u306e\u69cb\u7bc9\n\nTrilinos\u306b\u306f\u591a\u304f\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u304c\u3001FrontISTR\u306b\u5fc5\u8981\u306a\u306e\u306f`ML`\u3068`zoltan`\u3060\u3051\u3067\u3059\u3002\n\n~~~txt\n% tar xvf trilinos-12.8.1-Source.tar.gz\n% cd trilinos-12.8.1-Source\n% mkdir build\n% cd build\n% cmake \\\n  -DCMAKE_INSTALL_PREFIX=$HOME/local \\\n  -DTrilinos_ENABLE_ML=ON \\\n  -DTrilinos_ENABLE_Zoltan=ON \\\n  -DTrilinos_ENABLE_OpenMP=ON \\\n  -DTrilinos_ENABLE_ALL_OPTIONAL_PACKAGES=OFF \\\n  -DTPL_BLAS_LIBRARIES=$HOME/local/lib/libopenblas.a \\\n  -DTPL_LAPACK_LIBRARIES=$HOME/local/lib/libopenblas.a \\\n  -DTPL_ENABLE_MPI=ON \\\n  ..\n% make\n% make install\n~~~\n\n\u3053\u3053\u3067\u793a\u3057\u305f\u624b\u9806\u3067\u306f\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u3092`$HOME/local`\u4ee5\u4e0b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3057\u307e\u3057\u305f\u3002Ubuntu\u4ee5\u5916\u306eOS\u3067\u3082\u57fa\u672c\u7684\u306b\u306f\u540c\u69d8\u306b\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n"}