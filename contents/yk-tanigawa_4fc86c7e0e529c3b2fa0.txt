{"context": "\nScala + Spark \u3067Scalable \u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u767a\u3057\u305f\u3044\u3053\u3068\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\uff0cSpark \u306eExample \u306b\u793a\u3055\u308c\u3066\u3044\u308b\u30b3\u30fc\u30c9\u3092\uff0cIntelliJ \u4e0a\u3067\u3069\u306e\u3088\u3046\u306b\u958b\u767a\u3059\u308b\u304b\u3092\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3068\u3068\u3082\u306b\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\n\u53c2\u8003\n\n\n\nhttp://spark.apache.org/docs/latest/quick-start.html \n\n\n\n\n\n\nApache Spark \u306e\u6e96\u5099\n\nSpark \u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u308b\n\n\ngit clone git://github.com/apache/spark.git -b branch-1.6\n\n\u3053\u308c\u3067\uff0cSpark \u306e1.6 \u306e\u5b89\u5b9a\u7248\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\n\n\n\n\nSpark \u3092\u30d3\u30eb\u30c9\u3059\u308b\n\nmaven \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n- \u4f8b\u3048\u3070\uff0chttp://qiita.com/chosan211/items/1472198165442e93047e \u306a\u3069\u3092\u53c2\u7167\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n- \u624b\u5143\u306emac\u74b0\u5883\u306e\u5834\u5408\u306f\uff0cmacports \u3092\u4f7f\u3063\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7c21\u5358\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u305f\n    - `$sudo port install maven3`\n    - `$sudo port select --set maven maven3`\n    - `$ mvn --version`\n\nyk-tanigawa$ sudo port install maven3\n--->  Computing dependencies for maven3\n--->  Dependencies to be installed: maven_select\n--->  Fetching archive for maven_select\n--->  Attempting to fetch maven_select-0.3_1.darwin_14.noarch.tbz2 from https://packages.macports.org/maven_select\n--->  Attempting to fetch maven_select-0.3_1.darwin_14.noarch.tbz2.rmd160 from https://packages.macports.org/maven_select\n--->  Installing maven_select @0.3_1\n--->  Activating maven_select @0.3_1\n--->  Cleaning maven_select\n--->  Fetching archive for maven3\n--->  Attempting to fetch maven3-3.3.9_0.darwin_14.noarch.tbz2 from https://packages.macports.org/maven3\n--->  Attempting to fetch maven3-3.3.9_0.darwin_14.noarch.tbz2.rmd160 from https://packages.macports.org/maven3\n--->  Installing maven3 @3.3.9_0\n--->  Activating maven3 @3.3.9_0\n\nTo make maven 3.3.9 the default, please run\n    sudo port select --set maven maven3\n\n--->  Cleaning maven3\n--->  Updating database of binaries\n--->  Scanning binaries for linking errors\n--->  No broken files found.                         \n\nyk-tanigawa$ sudo port select --set maven maven3\nSelecting 'maven3' for 'maven' succeeded. 'maven3' is now active.\n\nyk-tanigawa$ mvn --version\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T01:41:47+09:00)\nMaven home: /opt/local/share/java/maven3\nJava version: 1.8.0_91, vendor: Oracle Corporation\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"mac os x\", version: \"10.10.5\", arch: \"x86_64\", family: \"mac\"\n\n\nSpark \u3092\u30d3\u30eb\u30c9\u3059\u308b\n\n$ cd spark\n$ build/mvn -Pyarn -Phadoop-2.4 -Dhadoop.version=2.4.0 -DskipTests clean package\n\u3057\u3070\u3089\u304f\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\n\n\nIntelliJ \u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 & \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u4ed6\u306e\u30da\u30fc\u30b8\u3092\u898b\u3066\u304f\u3060\u3055\u3044\nscala, sbt plugin \u3092\u5165\u308c\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\n\n\nIntelliJ \u3067\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\n\nsbt \u30d9\u30fc\u30b9\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308a\u307e\u3059\n\nUse auto-import \u3092\u5165\u308c\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\n\nproject/src/main/scala \u306bscala class \u3092\u4f5c\u308a\u307e\u3059\u3002\n\nClass \u306e\u540d\u524d\u306f http://spark.apache.org/docs/latest/quick-start.html \u3067\u306e\u4f8b\u306b\u7fd2\u3063\u3066\uff0cSimpleApp \u306b\u3057\u307e\u3059\n\nSimple App \u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u307e\u3059\n\nbuild.sbt \u306b\uff0cspark\u306eLibrary \u3092\u4f7f\u3046\u3068\u3044\u3046\u3053\u3068\u3092\u8ffd\u8a18\u3057\u307e\u3059\n\n\n\njar \u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u308b\n\nIntelliJ \u306econsole \u3067sbt package \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\uff0c\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092jar \u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u307e\u3059\n\nyk-tanigawa$ sbt package\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\n[info] Loading project definition from /Users/yk-tanigawa/IdeaProjects/scala-spark-example01/project\n[info] Set current project to scala-spark-example01 (in build file:/Users/yk-tanigawa/IdeaProjects/scala-spark-example01/)\n[info] Updating {file:/Users/yk-tanigawa/IdeaProjects/scala-spark-example01/}scala-spark-example01...\n[info] Resolving jline#jline;2.12.1 ...\n[info] Done updating.\n[info] Compiling 1 Scala source to /Users/yk-tanigawa/IdeaProjects/scala-spark-example01/target/scala-2.11/classes...\n[info] Packaging /Users/yk-tanigawa/IdeaProjects/scala-spark-example01/target/scala-2.11/scala-spark-example01_2.11-1.0.jar ...\n[info] Done packaging.\n[success] Total time: 27 s, completed May 6, 2016 2:20:21 PM\n\n\nspark\u2013submit \u3092\u4f7f\u3063\u3066\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3057\u307e\u3059\n\n\u5148\u307b\u3069Spark \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u958b\u304d\uff0cspark-submit \u30b3\u30de\u30f3\u30c9\u3067\uff0c\u5148\u307b\u3069\u4f5c\u3063\u305fjar \u30d5\u30a1\u30a4\u30eb\u3092\u6295\u3052\u307e\u3059\n$ ./bin/spark-submit --class \"SimpleApp\" --master local[2] ~/IdeaProjects/scala-spark-example01/target/scala-2.11/scala-spark-example01_2.11-1.0.jar\n\n\u7121\u4e8b\u306b\u5b9f\u884c\u3055\u308c\u307e\u3057\u305f\n\nLines with a: 58, Lines with b: 26\n\n\n\n- Scala + Spark \u3067Scalable \u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u767a\u3057\u305f\u3044\u3053\u3068\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n- \u3053\u3053\u3067\u306f\uff0cSpark \u306eExample \u306b\u793a\u3055\u308c\u3066\u3044\u308b\u30b3\u30fc\u30c9\u3092\uff0cIntelliJ \u4e0a\u3067\u3069\u306e\u3088\u3046\u306b\u958b\u767a\u3059\u308b\u304b\u3092\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3068\u3068\u3082\u306b\u7d39\u4ecb\u3057\u307e\u3059\u3002\n    - \u53c2\u8003\n        - http://spark.apache.org/docs/latest/quick-start.html \n\n\n# Apache Spark \u306e\u6e96\u5099\n## Spark \u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u308b\n- `git clone git://github.com/apache/spark.git -b branch-1.6`\n    - \u3053\u308c\u3067\uff0cSpark \u306e1.6 \u306e\u5b89\u5b9a\u7248\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\n\n## Spark \u3092\u30d3\u30eb\u30c9\u3059\u308b\n### maven \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    - \u4f8b\u3048\u3070\uff0chttp://qiita.com/chosan211/items/1472198165442e93047e \u306a\u3069\u3092\u53c2\u7167\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n    - \u624b\u5143\u306emac\u74b0\u5883\u306e\u5834\u5408\u306f\uff0cmacports \u3092\u4f7f\u3063\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7c21\u5358\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u305f\n        - `$sudo port install maven3`\n        - `$sudo port select --set maven maven3`\n        - `$ mvn --version`\n\n```\nyk-tanigawa$ sudo port install maven3\n--->  Computing dependencies for maven3\n--->  Dependencies to be installed: maven_select\n--->  Fetching archive for maven_select\n--->  Attempting to fetch maven_select-0.3_1.darwin_14.noarch.tbz2 from https://packages.macports.org/maven_select\n--->  Attempting to fetch maven_select-0.3_1.darwin_14.noarch.tbz2.rmd160 from https://packages.macports.org/maven_select\n--->  Installing maven_select @0.3_1\n--->  Activating maven_select @0.3_1\n--->  Cleaning maven_select\n--->  Fetching archive for maven3\n--->  Attempting to fetch maven3-3.3.9_0.darwin_14.noarch.tbz2 from https://packages.macports.org/maven3\n--->  Attempting to fetch maven3-3.3.9_0.darwin_14.noarch.tbz2.rmd160 from https://packages.macports.org/maven3\n--->  Installing maven3 @3.3.9_0\n--->  Activating maven3 @3.3.9_0\n\nTo make maven 3.3.9 the default, please run\n\tsudo port select --set maven maven3\n\n--->  Cleaning maven3\n--->  Updating database of binaries\n--->  Scanning binaries for linking errors\n--->  No broken files found.                         \n\nyk-tanigawa$ sudo port select --set maven maven3\nSelecting 'maven3' for 'maven' succeeded. 'maven3' is now active.\n\nyk-tanigawa$ mvn --version\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T01:41:47+09:00)\nMaven home: /opt/local/share/java/maven3\nJava version: 1.8.0_91, vendor: Oracle Corporation\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"mac os x\", version: \"10.10.5\", arch: \"x86_64\", family: \"mac\"\n```\n\n### Spark \u3092\u30d3\u30eb\u30c9\u3059\u308b\n- `$ cd spark`\n- `$ build/mvn -Pyarn -Phadoop-2.4 -Dhadoop.version=2.4.0 -DskipTests clean package`\n- \u3057\u3070\u3089\u304f\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\n\n# IntelliJ \u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n## \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 & \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n- \u4ed6\u306e\u30da\u30fc\u30b8\u3092\u898b\u3066\u304f\u3060\u3055\u3044\n- scala, sbt plugin \u3092\u5165\u308c\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\n\n# IntelliJ \u3067\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\n- sbt \u30d9\u30fc\u30b9\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308a\u307e\u3059\n![Screenshot 2016-05-06 12.42.53.png](https://qiita-image-store.s3.amazonaws.com/0/109769/86a82271-cd2e-eb17-821c-d82937073834.png)\n\n- Use auto-import \u3092\u5165\u308c\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\n![Screenshot 2016-05-06 12.43.32.png](https://qiita-image-store.s3.amazonaws.com/0/109769/7d37e9b0-3ba3-1703-d267-b9ddd9c62397.png)\n\n- project/src/main/scala \u306bscala class \u3092\u4f5c\u308a\u307e\u3059\u3002\n![Screenshot 2016-05-06 12.45.24.png](https://qiita-image-store.s3.amazonaws.com/0/109769/a9064763-d578-5974-9079-33390207f08a.png)\n\n- Class \u306e\u540d\u524d\u306f http://spark.apache.org/docs/latest/quick-start.html \u3067\u306e\u4f8b\u306b\u7fd2\u3063\u3066\uff0cSimpleApp \u306b\u3057\u307e\u3059\n![Screenshot 2016-05-06 12.51.26.png](https://qiita-image-store.s3.amazonaws.com/0/109769/4e855a88-c16f-3013-c54f-00fe809912da.png)\n\n- Simple App \u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u307e\u3059\n![Screenshot 2016-05-06 14.13.28.png](https://qiita-image-store.s3.amazonaws.com/0/109769/e687d55d-100b-b2fd-603e-ff615e5b05d4.png)\n\n- `build.sbt` \u306b\uff0cspark\u306eLibrary \u3092\u4f7f\u3046\u3068\u3044\u3046\u3053\u3068\u3092\u8ffd\u8a18\u3057\u307e\u3059\n![Screenshot 2016-05-06 14.11.48.png](https://qiita-image-store.s3.amazonaws.com/0/109769/70e82542-abc4-680b-7c73-1b9853273335.png)\n\n\n# jar \u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u308b\n\n- IntelliJ \u306econsole \u3067`sbt package` \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\uff0c\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092jar \u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u307e\u3059\n\n\n```\nyk-tanigawa$ sbt package\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\n[info] Loading project definition from /Users/yk-tanigawa/IdeaProjects/scala-spark-example01/project\n[info] Set current project to scala-spark-example01 (in build file:/Users/yk-tanigawa/IdeaProjects/scala-spark-example01/)\n[info] Updating {file:/Users/yk-tanigawa/IdeaProjects/scala-spark-example01/}scala-spark-example01...\n[info] Resolving jline#jline;2.12.1 ...\n[info] Done updating.\n[info] Compiling 1 Scala source to /Users/yk-tanigawa/IdeaProjects/scala-spark-example01/target/scala-2.11/classes...\n[info] Packaging /Users/yk-tanigawa/IdeaProjects/scala-spark-example01/target/scala-2.11/scala-spark-example01_2.11-1.0.jar ...\n[info] Done packaging.\n[success] Total time: 27 s, completed May 6, 2016 2:20:21 PM\n```\n\n# spark\u2013submit \u3092\u4f7f\u3063\u3066\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3057\u307e\u3059\n- \u5148\u307b\u3069Spark \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u958b\u304d\uff0cspark-submit \u30b3\u30de\u30f3\u30c9\u3067\uff0c\u5148\u307b\u3069\u4f5c\u3063\u305fjar \u30d5\u30a1\u30a4\u30eb\u3092\u6295\u3052\u307e\u3059\n- `$ ./bin/spark-submit --class \"SimpleApp\" --master local[2] ~/IdeaProjects/scala-spark-example01/target/scala-2.11/scala-spark-example01_2.11-1.0.jar `\n\n- \u7121\u4e8b\u306b\u5b9f\u884c\u3055\u308c\u307e\u3057\u305f\n    - `Lines with a: 58, Lines with b: 26`\n\n\n\n", "tags": ["Scala", "Spark", "IntelliJ", "Maven", "sbt"]}