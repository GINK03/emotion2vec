{"context": " More than 1 year has passed since last update.\n\nbundle install\n\u4ee5\u4e0b\u306e\u884c\u3092 Gemfile \u306b\u8ffd\u52a0\ngem 'devise'\n\n\u305d\u3057\u3066\u3001bundle install \u3092\u5b9f\u884c\u3002\n$ rails g devise:install\n\n\u3068\u53e9\u304f\u3002\n\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u53c2\u8003\u306b\u8a2d\u5b9a\u3092\u884c\u3046\u3002\n===============================================================================\n\nSome setup you must do manually if you haven't yet:\n\n  1. Ensure you have defined default url options in your environments files. Here\n     is an example of default_url_options appropriate for a development environment\n     in config/environments/development.rb:\n\n       config.action_mailer.default_url_options = { :host => 'localhost:3000' }\n\n     In production, :host should be set to the actual host of your application.\n\n  2. Ensure you have defined root_url to *something* in your config/routes.rb.\n     For example:\n\n       root :to => \"home#index\"\n\n  3. Ensure you have flash messages in app/views/layouts/application.html.erb.\n     For example:\n\n       <p class=\"notice\"><%= notice %></p>\n       <p class=\"alert\"><%= alert %></p>\n\n  4. If you are deploying Rails 3.1+ on Heroku, you may want to set:\n\n       config.assets.initialize_on_precompile = false\n\n     On config/application.rb forcing your application to not access the DB\n     or load models when precompiling your assets.\n\n  5. You can copy Devise views (for customization) to your app by running:\n\n       rails g devise:views\n\n===============================================================================\n\n\nUser \u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b generator \u3092\u5b9f\u884c\u3002\n$ rails g devise User\n      invoke  active_record\n      create    db/migrate/20130321033334_devise_create_users.rb\n      create    app/models/user.rb\n      invoke    test_unit\n      create      test/unit/user_test.rb\n      create      test/fixtures/users.yml\n      insert    app/models/user.rb\n       route  devise_for :users\n\n\u7d9a\u3051\u3066 migrate \u3092\u5b9f\u884c\u3002\n$ rake db:migrate\n\n\nroutes \u3092\u78ba\u8a8d\n$ rake routes\n        new_user_session GET    /users/sign_in(.:format)       devise/sessions#new\n            user_session POST   /users/sign_in(.:format)       devise/sessions#create\n    destroy_user_session DELETE /users/sign_out(.:format)      devise/sessions#destroy\n           user_password POST   /users/password(.:format)      devise/passwords#create\n       new_user_password GET    /users/password/new(.:format)  devise/passwords#new\n      edit_user_password GET    /users/password/edit(.:format) devise/passwords#edit\n                         PUT    /users/password(.:format)      devise/passwords#update\ncancel_user_registration GET    /users/cancel(.:format)        devise/registrations#cancel\n       user_registration POST   /users(.:format)               devise/registrations#create\n   new_user_registration GET    /users/sign_up(.:format)       devise/registrations#new\n  edit_user_registration GET    /users/edit(.:format)          devise/registrations#edit\n                         PUT    /users(.:format)               devise/registrations#update\n                         DELETE /users(.:format)               devise/registrations#destroy\n                    root        /                              home#index\n              home_index GET    /home/index(.:format)          home#index\n                   posts GET    /posts(.:format)               posts#index\n                         POST   /posts(.:format)               posts#create\n                new_post GET    /posts/new(.:format)           posts#new\n               edit_post GET    /posts/:id/edit(.:format)      posts#edit\n                    post GET    /posts/:id(.:format)           posts#show\n                         PUT    /posts/:id(.:format)           posts#update\n                         DELETE /posts/:id(.:format)           posts#destroy\n\n\n/users/sign_up \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\nrails s \u3067\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u3001/users/sign_up \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u3066\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\u3002\n\nsign_up, sign_in, sign_out \u306e\u30ea\u30f3\u30af\u3092 layout \u306b\u8ffd\u52a0\napp/views/layouts/application.html.erb \u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\n<div id='user_nav'>\n  <% if user_signed_in? %>\n    Signed in as <%= current_user.email %>. <%= link_to \"Sign out\", destroy_user_session_path, :method => :delete %>\n  <% else %>\n    <%= link_to \"Sign up\", new_user_registration_path %> or\n    <%= link_to \"Sign in\", new_user_session_path %>\n  <% end %>\n</div>\n\nRails casts (Ascii casts) \u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u308b\u4f8b\u3067\u306f :method => :delete \u304c\u7121\u304f\u3001devise 2.2.3 \u3067\u306f\u6b63\u3057\u304f\u52d5\u4f5c\u3057\u306a\u304b\u3063\u305f\u3002\n\nview\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\n$ rails g devise:views\n      invoke  Devise::Generators::SharedViewsGenerator\n      create    app/views/devise/shared\n      create    app/views/devise/shared/_links.erb\n      invoke  form_for\n      create    app/views/devise/confirmations\n      create    app/views/devise/confirmations/new.html.erb\n      create    app/views/devise/passwords\n      create    app/views/devise/passwords/edit.html.erb\n      create    app/views/devise/passwords/new.html.erb\n      create    app/views/devise/registrations\n      create    app/views/devise/registrations/edit.html.erb\n      create    app/views/devise/registrations/new.html.erb\n      create    app/views/devise/sessions\n      create    app/views/devise/sessions/new.html.erb\n      create    app/views/devise/unlocks\n      create    app/views/devise/unlocks/new.html.erb\n      invoke  erb\n      create    app/views/devise/mailer\n      create    app/views/devise/mailer/confirmation_instructions.html.erb\n      create    app/views/devise/mailer/reset_password_instructions.html.erb\n      create    app/views/devise/mailer/unlock_instructions.html.erb\n\n\n\u53c2\u8003\n\ndevise/README.md at master \u00b7 plataformatec/devise \u00b7 GitHub\nASCIIcasts - \u201cEpisode 209 - Devise\u306e\u5c0e\u5165\u201d\n\n\n### bundle install\n\n\u4ee5\u4e0b\u306e\u884c\u3092 Gemfile \u306b\u8ffd\u52a0\n\n```\ngem 'devise'\n```\n\n\u305d\u3057\u3066\u3001`bundle install` \u3092\u5b9f\u884c\u3002\n\n```\n$ rails g devise:install\n```\n\n\u3068\u53e9\u304f\u3002\n\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u53c2\u8003\u306b\u8a2d\u5b9a\u3092\u884c\u3046\u3002\n\n```\n===============================================================================\n\nSome setup you must do manually if you haven't yet:\n\n  1. Ensure you have defined default url options in your environments files. Here\n     is an example of default_url_options appropriate for a development environment\n     in config/environments/development.rb:\n\n       config.action_mailer.default_url_options = { :host => 'localhost:3000' }\n\n     In production, :host should be set to the actual host of your application.\n\n  2. Ensure you have defined root_url to *something* in your config/routes.rb.\n     For example:\n\n       root :to => \"home#index\"\n\n  3. Ensure you have flash messages in app/views/layouts/application.html.erb.\n     For example:\n\n       <p class=\"notice\"><%= notice %></p>\n       <p class=\"alert\"><%= alert %></p>\n\n  4. If you are deploying Rails 3.1+ on Heroku, you may want to set:\n\n       config.assets.initialize_on_precompile = false\n\n     On config/application.rb forcing your application to not access the DB\n     or load models when precompiling your assets.\n\n  5. You can copy Devise views (for customization) to your app by running:\n\n       rails g devise:views\n\n===============================================================================\n```\n\n### User \u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b generator \u3092\u5b9f\u884c\u3002\n\n```\n$ rails g devise User\n      invoke  active_record\n      create    db/migrate/20130321033334_devise_create_users.rb\n      create    app/models/user.rb\n      invoke    test_unit\n      create      test/unit/user_test.rb\n      create      test/fixtures/users.yml\n      insert    app/models/user.rb\n       route  devise_for :users\n```\n\n\u7d9a\u3051\u3066 migrate \u3092\u5b9f\u884c\u3002\n\n```\n$ rake db:migrate\n```\n\n### routes \u3092\u78ba\u8a8d\n\n```\n$ rake routes\n        new_user_session GET    /users/sign_in(.:format)       devise/sessions#new\n            user_session POST   /users/sign_in(.:format)       devise/sessions#create\n    destroy_user_session DELETE /users/sign_out(.:format)      devise/sessions#destroy\n           user_password POST   /users/password(.:format)      devise/passwords#create\n       new_user_password GET    /users/password/new(.:format)  devise/passwords#new\n      edit_user_password GET    /users/password/edit(.:format) devise/passwords#edit\n                         PUT    /users/password(.:format)      devise/passwords#update\ncancel_user_registration GET    /users/cancel(.:format)        devise/registrations#cancel\n       user_registration POST   /users(.:format)               devise/registrations#create\n   new_user_registration GET    /users/sign_up(.:format)       devise/registrations#new\n  edit_user_registration GET    /users/edit(.:format)          devise/registrations#edit\n                         PUT    /users(.:format)               devise/registrations#update\n                         DELETE /users(.:format)               devise/registrations#destroy\n                    root        /                              home#index\n              home_index GET    /home/index(.:format)          home#index\n                   posts GET    /posts(.:format)               posts#index\n                         POST   /posts(.:format)               posts#create\n                new_post GET    /posts/new(.:format)           posts#new\n               edit_post GET    /posts/:id/edit(.:format)      posts#edit\n                    post GET    /posts/:id(.:format)           posts#show\n                         PUT    /posts/:id(.:format)           posts#update\n                         DELETE /posts/:id(.:format)           posts#destroy\n```\n\n### /users/sign_up \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\n\n`rails s` \u3067\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u3001/users/sign_up \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u3066\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\u3002\n\n### sign_up, sign_in, sign_out \u306e\u30ea\u30f3\u30af\u3092 layout \u306b\u8ffd\u52a0 \n\napp/views/layouts/application.html.erb \u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\n\n```html:\n<div id='user_nav'>\n  <% if user_signed_in? %>\n    Signed in as <%= current_user.email %>. <%= link_to \"Sign out\", destroy_user_session_path, :method => :delete %>\n  <% else %>\n    <%= link_to \"Sign up\", new_user_registration_path %> or\n    <%= link_to \"Sign in\", new_user_session_path %>\n  <% end %>\n</div>\n```\n\nRails casts (Ascii casts) \u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u308b\u4f8b\u3067\u306f `:method => :delete` \u304c\u7121\u304f\u3001devise 2.2.3 \u3067\u306f\u6b63\u3057\u304f\u52d5\u4f5c\u3057\u306a\u304b\u3063\u305f\u3002\n\n### view\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\n\n```\n$ rails g devise:views\n      invoke  Devise::Generators::SharedViewsGenerator\n      create    app/views/devise/shared\n      create    app/views/devise/shared/_links.erb\n      invoke  form_for\n      create    app/views/devise/confirmations\n      create    app/views/devise/confirmations/new.html.erb\n      create    app/views/devise/passwords\n      create    app/views/devise/passwords/edit.html.erb\n      create    app/views/devise/passwords/new.html.erb\n      create    app/views/devise/registrations\n      create    app/views/devise/registrations/edit.html.erb\n      create    app/views/devise/registrations/new.html.erb\n      create    app/views/devise/sessions\n      create    app/views/devise/sessions/new.html.erb\n      create    app/views/devise/unlocks\n      create    app/views/devise/unlocks/new.html.erb\n      invoke  erb\n      create    app/views/devise/mailer\n      create    app/views/devise/mailer/confirmation_instructions.html.erb\n      create    app/views/devise/mailer/reset_password_instructions.html.erb\n      create    app/views/devise/mailer/unlock_instructions.html.erb\n```\n\n\n### \u53c2\u8003\n\n- [devise/README.md at master \u00b7 plataformatec/devise \u00b7 GitHub](https://github.com/plataformatec/devise/blob/master/README.md)\n- [ASCIIcasts - \u201cEpisode 209 - Devise\u306e\u5c0e\u5165\u201d](http://ja.asciicasts.com/episodes/209-introducing-devise)\n\n", "tags": ["Rails", "Ruby", "devise"]}