{"context": "Express\u3092api\u30b5\u30fc\u30d0\u30fc\u3068\u3057\u3066\u4f7f\u304a\u3046\u3068\u3057\u3066\u3001\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089POST\u3067\u9001\u308b\u6642\u306b\u30cf\u30de\u308a\u307e\u3057\u305f\u3002\n\nbodyParser\u3067\u306f\u306a\u304fmulter\u3092\u4f7f\u3046\nExpress\u306e\u77e5\u8b58\u304c\u306a\u304f\u3066bodyParser\u304cJSON\u306b\u3057\u304b\u5bfe\u5fdc\u3057\u306a\u3044\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u305f\u3053\u3068\u3092\u77e5\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u305d\u3053\u3067multer\u3068\u3044\u3046\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092\u4f7f\u3044\u307e\u3059\u3002\nhttps://github.com/expressjs/multer\n\nmulter\u3067\u30cf\u30de\u3063\u305f\n\u2193\u3053\u308c\u306b\u30cf\u30de\u3063\u3066\u3044\u305f\nhttp://banseivlog.hatenablog.jp/entry/2016/07/29/191114\n\u3067\u3059\u304c\u3001\u3088\u304f\u3088\u304f\u898b\u3066\u307f\u305f\u3089README\u306bmulter\u306e\u4f7f\u3044\u65b9\u304c\u304c\u3063\u3064\u308a\u66f8\u3044\u3066\u3042\u308b\u3093\u3067\u3059\u306d\u3002\nhttps://github.com/expressjs/multer#usage\n\n\u30b5\u30f3\u30d7\u30eb\n\u5358\u7d14\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\nhttps://github.com/SatoshiKawabata/express-upload-file\n\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30d5\u30a9\u30fc\u30e0\n\u30d5\u30a9\u30fc\u30e0\u306fviews/index.ejs\u3067\u3059\u3002\n\nindex.ejs\n<form \n  method=\"POST\"\n  enctype=\"multipart/form-data\"\n  action=\"/upload\">\n  <input type=\"file\" name=\"thumbnail\"></input>\n  <input type=\"submit\"></input>\n</form>\n\n\n\nupload.js\nmulter\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u306froutes/upload.js\u3067\u3059\u3002\n\u3053\u3053\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u53d7\u3051\u53d6\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\nupload.js\nrouter.post('/', upload.fields([ { name: 'thumbnail' } ]), function(req, res, next) {\n  console.log(req.files); // req.files\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c7\u30fc\u30bf\u304c\u5165\u3063\u3066\u304d\u307e\u3059\u3002\n}\n\n\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305freq.files.thumbnail[0]\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\n{destination:\"./uploads/\"\nencoding:\"7bit\"\nfieldname:\"thumbnail\"\nfilename:\"7df615fa5b9accdf22b9471ee26ecb70\"\nmimetype:\"image/png\"\noriginalname:\"  test.png\"\npath:\"uploads/7df615fa5b9accdf22b9471ee26ecb70\"\nsize:178923\n\nExpress\u3092api\u30b5\u30fc\u30d0\u30fc\u3068\u3057\u3066\u4f7f\u304a\u3046\u3068\u3057\u3066\u3001\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089POST\u3067\u9001\u308b\u6642\u306b\u30cf\u30de\u308a\u307e\u3057\u305f\u3002\n\n## bodyParser\u3067\u306f\u306a\u304fmulter\u3092\u4f7f\u3046\nExpress\u306e\u77e5\u8b58\u304c\u306a\u304f\u3066bodyParser\u304cJSON\u306b\u3057\u304b\u5bfe\u5fdc\u3057\u306a\u3044\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u305f\u3053\u3068\u3092\u77e5\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u305d\u3053\u3067multer\u3068\u3044\u3046\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092\u4f7f\u3044\u307e\u3059\u3002\nhttps://github.com/expressjs/multer\n\n## multer\u3067\u30cf\u30de\u3063\u305f\n\u2193\u3053\u308c\u306b\u30cf\u30de\u3063\u3066\u3044\u305f\nhttp://banseivlog.hatenablog.jp/entry/2016/07/29/191114\n\n\u3067\u3059\u304c\u3001\u3088\u304f\u3088\u304f\u898b\u3066\u307f\u305f\u3089README\u306bmulter\u306e\u4f7f\u3044\u65b9\u304c\u304c\u3063\u3064\u308a\u66f8\u3044\u3066\u3042\u308b\u3093\u3067\u3059\u306d\u3002\nhttps://github.com/expressjs/multer#usage\n\n\n## \u30b5\u30f3\u30d7\u30eb\n\n\u5358\u7d14\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\nhttps://github.com/SatoshiKawabata/express-upload-file\n\n### \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30d5\u30a9\u30fc\u30e0\n\u30d5\u30a9\u30fc\u30e0\u306f[views/index.ejs](https://github.com/SatoshiKawabata/express-upload-file/blob/master/views/index.ejs#L10-L16)\u3067\u3059\u3002\n\n```html:index.ejs\n<form \n  method=\"POST\"\n  enctype=\"multipart/form-data\"\n  action=\"/upload\">\n  <input type=\"file\" name=\"thumbnail\"></input>\n  <input type=\"submit\"></input>\n</form>\n```\n### upload.js\nmulter\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u306f[routes/upload.js](\nhttps://github.com/SatoshiKawabata/express-upload-file/blob/master/routes/upload.js#L4)\u3067\u3059\u3002\n[\u3053\u3053](https://github.com/SatoshiKawabata/express-upload-file/blob/master/routes/upload.js#L8)\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u53d7\u3051\u53d6\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n```javascript:upload.js\nrouter.post('/', upload.fields([ { name: 'thumbnail' } ]), function(req, res, next) {\n  console.log(req.files); // req.files\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c7\u30fc\u30bf\u304c\u5165\u3063\u3066\u304d\u307e\u3059\u3002\n}\n```\n\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f`req.files.thumbnail[0]`\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\n\n```javascript:\n{destination:\"./uploads/\"\nencoding:\"7bit\"\nfieldname:\"thumbnail\"\nfilename:\"7df615fa5b9accdf22b9471ee26ecb70\"\nmimetype:\"image/png\"\noriginalname:\"  test.png\"\npath:\"uploads/7df615fa5b9accdf22b9471ee26ecb70\"\nsize:178923\n```\n", "tags": ["JavaScript", "Express"]}