{"context": "Support Library ver23.2 \u304b\u3089\u3001support-vector-drawable \u304c\u8ffd\u52a0\u3055\u308c Android \u306elollipop \u672a\u6e80\u3067\u3082 Vector \u753b\u50cf\u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u4f7f\u3044\u65b9\u3068\u305d\u306e\u4ed5\u7d44\u307f\u306b\u3064\u3044\u3066\u306f\u3001 @takahirom \u3055\u3093\u304c\u4ee5\u4e0b\u306e\u6295\u7a3f\u3067\u8a73\u7d30\u306b\u89e3\u8aac\u3057\u3066\u304f\u3060\u3055\u3063\u3066\u3044\u307e\u3059\u3002\n\u3010Android\u3011Support Library\u306eVectorDrawableCompat\u304c\u9069\u5fdc\u3055\u308c\u308b\u307e\u3067\u306e\u4ed5\u7d44\u307f\n\u3053\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u306f\u3001\u4e0a\u8a18\u6295\u7a3f\u306e\u304a\u304b\u3052\u3067\u3059\u3050\u306b\u8abf\u3079\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u3002takahirom\u3055\u3093\u3001\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\nver23.2 \u3068 ver23.3 \u306e\u9055\u3044\n4/8\u4ed8\u306e AndroidDevelopers \u306e Google+ \u306e\u6295\u7a3f\u3067\u3001\u3053\u306e\u3053\u3068\u306b\u89e6\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\u95a2\u9023\u30af\u30e9\u30b9\u306e diff \u306a\u3069\u3082\u78ba\u8a8d\u3057\u305f\u3068\u3053\u308d\u3001\u304a\u3088\u305d\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u9055\u3044\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\nNo.\n\u51e6\u7406\nv23.2\nv23.3\n\n\n\n\n1\napp:srcCompat\n\u25ef\n\u25ef\n\n\n2\nsetImageResouce(id)\n\u25ef\n\u25ef\n\n\n3\ngetDrawable(id)\n\u25ef\n\u2715\n\n\n4\nlollipop\nframework\nsupport\n\n\n\n\n\u9055\u3044\u305d\u306e\uff11\uff1aResources\u3000\u304b\u3089 VectorDrawable \u3078\u306e\u30a2\u30af\u30bb\u30b9\ntakahirom \u3055\u3093\u306e\u6295\u7a3f\u306b\u3042\u308b\u3088\u3046\u306b\u3001AppCompat \u306f\u5185\u90e8\u3067 getDrawable() \u3092 override \u3057\u3066\u304a\u308a\u3001Resources \u304b\u3089 VectorDrawable \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\u3057\u304b\u3057\u3001ver23.3.0 \u3067\u306f\u30e1\u30e2\u30ea\u95a2\u9023\u306e\u4e0d\u5177\u5408\u8abf\u67fb\u304c\u5fc5\u8981\u3068\u3057\u3066\u3001\u305d\u306e\u6a5f\u80fd\u306f\u524a\u9664\u3055\u308c\u305f\u3068\u306e\u3053\u3068\u3067\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u4f7f\u3044\u65b9\u306f ver23.2.0 or 23.2.1 \u3067\u306f\u52d5\u304d\u307e\u3059\u304c\u3001 ver23.3.0 \u3067\u306f Resouces#NotFoundException \u304c\u767a\u751f\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u8a02\u6b63\n\u30b3\u30e1\u30f3\u30c8\u3067\u306e\u6307\u6458\u306b\u3042\u308b\u901a\u308a\u3001MenuItem \u3067\u306f AppCompatDrawableManager \u3067 getDrawable() \u3057\u3066\u3044\u308b\u306e\u3067\u3001 ver23.3.0 \u3067\u3082 VectorDrawable \u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3057\u305f\u3002\nMenu\u306a\u3069\u3067\u306eVectorDrawable\u5229\u7528\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    >\n  <item\n      android:id=\"@+id/search\"\n      android:title=\"@string/menu_search\"\n      android:icon=\"@drawable/ic_search_vector\"\n      android:orderInCategory=\"100\"\n      app:showAsAction=\"always\"\n      />\n</menu>\n\nResources\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\nDrawable drawable = getResources().getDrawable(R.drawable.ic_wallet_vector);\n\n\n\u9055\u3044\u305d\u306e\uff11\u306e\u5dee\u5206\n\u5b9f\u969b\u306b ver23.2 \u3068 ver23.3 \u3067\u5dee\u5206\u304c\u3042\u308b\u306e\u306f\u3001getDrawable \u3092 override \u3057\u3066\u3044\u308b\u7b87\u6240\u3067\u3059\u3002\nver23.2.1\n    @Override\n    public Drawable getDrawable(int id) throws NotFoundException {\n        Drawable d = super.getDrawable(id);\n        Context context = mContextRef.get();\n        if (d != null && context != null) {\n            AppCompatDrawableManager.get().tintDrawableUsingColorFilter(context, id, d);\n        }\n        return d;\n    }\n\nver23.3.0\n    @Override\n    public Drawable getDrawable(int id) throws NotFoundException {\n        final Context context = mContextRef.get();\n        if (context != null) {\n            return AppCompatDrawableManager.get().onDrawableLoadedFromResources(context, this, id);\n        } else {\n            return super.getDrawable(id);\n        }\n    }\n\n\n\u9055\u3044\u305d\u306e\uff12\uff1alollipop \u3067\u306e\u6319\u52d5\nver23.2 \u3067\u306f\u3001API level 21 \u4ee5\u4e0a\u306e\u3068\u304d\u306f\u3001framework \u306e VectorDrawable \u3092\u4f7f\u3046\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001 ver23.3 \u3067\u306f\u305d\u306e\u6761\u4ef6\u304c API level 23 \u4ee5\u4e0a\u306b\u5f15\u304d\u4e0a\u3052\u3089\u308c\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001 ver23.3 \u3067\u306f lollipop \u306e\u5834\u5408\u3067\u3082 xml \u3092\u30d1\u30fc\u30b9\u3057\u3066 VectorDrawable \u3092\u8aad\u307f\u8fbc\u3080\u65b9\u5f0f\u3067\u51e6\u7406\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u4ee5\u4e0b\u306f\u3001VectorDrawableCompat \u30af\u30e9\u30b9\u306e\u30b3\u30e1\u30f3\u30c8\u3067\u3059\u3002\nver23.2.1\n/**\n * For API 21 and above, this class is delegating to the framework's {@link VectorDrawable}.\n * For API 20 and below, this class lets you create a drawable based on an XML vector graphic.\n * ...\n */\n\nver23.3.0\n/**\n * For API 23 and above, this class is delegating to the framework's {@link VectorDrawable}.\n * For older API version, this class lets you create a drawable based on an XML vector graphic.\n * ...\n */\n\nSupport Library ver23.2 \u304b\u3089\u3001support-vector-drawable \u304c\u8ffd\u52a0\u3055\u308c Android \u306elollipop \u672a\u6e80\u3067\u3082 Vector \u753b\u50cf\u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u4f7f\u3044\u65b9\u3068\u305d\u306e\u4ed5\u7d44\u307f\u306b\u3064\u3044\u3066\u306f\u3001 [@takahirom](http://qiita.com/takahirom) \u3055\u3093\u304c\u4ee5\u4e0b\u306e\u6295\u7a3f\u3067\u8a73\u7d30\u306b\u89e3\u8aac\u3057\u3066\u304f\u3060\u3055\u3063\u3066\u3044\u307e\u3059\u3002\n[\u3010Android\u3011Support Library\u306eVectorDrawableCompat\u304c\u9069\u5fdc\u3055\u308c\u308b\u307e\u3067\u306e\u4ed5\u7d44\u307f](http://qiita.com/takahirom/items/c6f5a3204210d1e95c70)\n\n\u3053\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u306f\u3001\u4e0a\u8a18\u6295\u7a3f\u306e\u304a\u304b\u3052\u3067\u3059\u3050\u306b\u8abf\u3079\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u3002takahirom\u3055\u3093\u3001\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\n## ver23.2 \u3068 ver23.3 \u306e\u9055\u3044\n\n4/8\u4ed8\u306e AndroidDevelopers \u306e [Google+ \u306e\u6295\u7a3f](https://plus.google.com/+AndroidDevelopers/posts/iTDmFiGrVne)\u3067\u3001\u3053\u306e\u3053\u3068\u306b\u89e6\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\n\u95a2\u9023\u30af\u30e9\u30b9\u306e diff \u306a\u3069\u3082\u78ba\u8a8d\u3057\u305f\u3068\u3053\u308d\u3001\u304a\u3088\u305d\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u9055\u3044\u304c\u3042\u308a\u307e\u3059\u3002\n\n|No.|\u51e6\u7406|v23.2|v23.3|\n|:---:|:---|:---|:---|\n|1|app:srcCompat|\u25ef|\u25ef|\n|2|setImageResouce(id)|\u25ef|\u25ef|\n|3|getDrawable(id)|\u25ef|\u2715|\n|4|lollipop|framework|support|\n\n### \u9055\u3044\u305d\u306e\uff11\uff1aResources\u3000\u304b\u3089 VectorDrawable \u3078\u306e\u30a2\u30af\u30bb\u30b9\n\ntakahirom \u3055\u3093\u306e\u6295\u7a3f\u306b\u3042\u308b\u3088\u3046\u306b\u3001AppCompat \u306f\u5185\u90e8\u3067 getDrawable() \u3092 override \u3057\u3066\u304a\u308a\u3001Resources \u304b\u3089 VectorDrawable \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\u3057\u304b\u3057\u3001ver23.3.0 \u3067\u306f\u30e1\u30e2\u30ea\u95a2\u9023\u306e\u4e0d\u5177\u5408\u8abf\u67fb\u304c\u5fc5\u8981\u3068\u3057\u3066\u3001\u305d\u306e\u6a5f\u80fd\u306f\u524a\u9664\u3055\u308c\u305f\u3068\u306e\u3053\u3068\u3067\u3059\u3002\n\n\u305d\u306e\u305f\u3081\u3001\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u4f7f\u3044\u65b9\u306f ver23.2.0 or 23.2.1 \u3067\u306f\u52d5\u304d\u307e\u3059\u304c\u3001 ver23.3.0 \u3067\u306f `Resouces#NotFoundException` \u304c\u767a\u751f\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n**\u8a02\u6b63**\n\n*\u30b3\u30e1\u30f3\u30c8\u3067\u306e\u6307\u6458\u306b\u3042\u308b\u901a\u308a\u3001MenuItem \u3067\u306f AppCompatDrawableManager \u3067 `getDrawable()` \u3057\u3066\u3044\u308b\u306e\u3067\u3001 ver23.3.0 \u3067\u3082 VectorDrawable \u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3057\u305f\u3002*\n\n**~~Menu\u306a\u3069\u3067\u306eVectorDrawable\u5229\u7528~~**\n\n```xml\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    >\n  <item\n      android:id=\"@+id/search\"\n      android:title=\"@string/menu_search\"\n      android:icon=\"@drawable/ic_search_vector\"\n      android:orderInCategory=\"100\"\n      app:showAsAction=\"always\"\n      />\n</menu>\n```\n\n**Resources\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9**\n\n```java\nDrawable drawable = getResources().getDrawable(R.drawable.ic_wallet_vector);\n```\n\n#### \u9055\u3044\u305d\u306e\uff11\u306e\u5dee\u5206\n\n\u5b9f\u969b\u306b ver23.2 \u3068 ver23.3 \u3067\u5dee\u5206\u304c\u3042\u308b\u306e\u306f\u3001getDrawable \u3092 override \u3057\u3066\u3044\u308b\u7b87\u6240\u3067\u3059\u3002\n\n**ver23.2.1**\n\n```java\n    @Override\n    public Drawable getDrawable(int id) throws NotFoundException {\n        Drawable d = super.getDrawable(id);\n        Context context = mContextRef.get();\n        if (d != null && context != null) {\n            AppCompatDrawableManager.get().tintDrawableUsingColorFilter(context, id, d);\n        }\n        return d;\n    }\n```\n\n**ver23.3.0**\n\n```java\n    @Override\n    public Drawable getDrawable(int id) throws NotFoundException {\n        final Context context = mContextRef.get();\n        if (context != null) {\n            return AppCompatDrawableManager.get().onDrawableLoadedFromResources(context, this, id);\n        } else {\n            return super.getDrawable(id);\n        }\n    }\n```\n\n### \u9055\u3044\u305d\u306e\uff12\uff1alollipop \u3067\u306e\u6319\u52d5\n\nver23.2 \u3067\u306f\u3001API level 21 \u4ee5\u4e0a\u306e\u3068\u304d\u306f\u3001framework \u306e VectorDrawable \u3092\u4f7f\u3046\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001 ver23.3 \u3067\u306f\u305d\u306e\u6761\u4ef6\u304c API level 23 \u4ee5\u4e0a\u306b\u5f15\u304d\u4e0a\u3052\u3089\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u305d\u306e\u305f\u3081\u3001 ver23.3 \u3067\u306f lollipop \u306e\u5834\u5408\u3067\u3082 xml \u3092\u30d1\u30fc\u30b9\u3057\u3066 VectorDrawable \u3092\u8aad\u307f\u8fbc\u3080\u65b9\u5f0f\u3067\u51e6\u7406\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u4ee5\u4e0b\u306f\u3001VectorDrawableCompat \u30af\u30e9\u30b9\u306e\u30b3\u30e1\u30f3\u30c8\u3067\u3059\u3002\n\n**ver23.2.1**\n\n```java\n/**\n * For API 21 and above, this class is delegating to the framework's {@link VectorDrawable}.\n * For API 20 and below, this class lets you create a drawable based on an XML vector graphic.\n * ...\n */\n```\n\n**ver23.3.0**\n\n```java\n/**\n * For API 23 and above, this class is delegating to the framework's {@link VectorDrawable}.\n * For older API version, this class lets you create a drawable based on an XML vector graphic.\n * ...\n */\n```\n", "tags": ["Android", "SupportLibrary"]}