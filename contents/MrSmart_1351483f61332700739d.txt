{"context": " More than 1 year has passed since last update.\n\n\u3084\u308b\u4e8b\n2D\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e\u30e2\u30d0\u30a4\u30eb\u7de8\u3084\u308b\uff01\n\u306f\u305a\u3060\u3063\u305f\u3093\u3067\u3059\u304c\u3001\u7b2c04\u56de\u307e\u3067\u306f\u30b5\u30af\u30c3\u3068\u7d42\u308f\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u304c\u3002\u3002\u3002\n\u305d\u306e\u7b2c04\u56de\u304c\u554f\u984c\u3067\u3001Asset Store\u7d4c\u7531\u3067\u843d\u3068\u3057\u3066\u304f\u308b\u7d20\u6750\u306e\u4e2d\u306bGUI Texture\u304c\u3042\u308b\u306e\u3067\u3001\n\u305d\u306e\u8fba\u308a\u306e\u4ee3\u66ff\u6848\u3068\u304b\u8003\u3048\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\n\u3068\u3044\u3046\u304b\u3001Asset Store\u7d4c\u7531\u306e\u7269Git\u3057\u3061\u3083\u3046\u3068\u30a2\u30a6\u30c8\u3060\u3068\u601d\u3046\u306e\u3067\u3001I/F\u306f\u81ea\u4f5c\u3057\u307e\u3057\u305f\uff01\n\u3068\u3044\u3046\u4e8b\u3067\u3001\n\n\u30b9\u30de\u30db\u7528I/F\u81ea\u4f5c\nWave\u30c7\u30fc\u30bf\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u53d6\u5f97\n\n\u8fba\u308a\u3092\u3084\u3063\u3066\u3044\u304d\u307e\u3059\uff01\n\n\u7b2c04\u56de \u30d0\u30fc\u30c1\u30e3\u30eb\u30b9\u30c6\u30a3\u30c3\u30af\u5bfe\u5fdc\u4ee3\u66ff\u81ea\u4f5cI/F\n\u305d\u3082\u305d\u3082\u50d5\u7684\u306b\u30d0\u30fc\u30c6\u30e3\u30eb\u30b9\u30c6\u30a3\u30c3\u30af\u3068\u3044\u3046\u306e\u304c\u3001\u3042\u3093\u307e\u308a\u597d\u304d\u3058\u3083\u306a\u3044\u4e0a\u306b\u3001\n\u305d\u306e\u307e\u3093\u307e\u518d\u73fe\u3059\u308b\u306e\u306f\u3042\u3093\u307e\u308a\u306a\u301c\u3068\u8a00\u3046\u611f\u3058\u3060\u3063\u305f\u306e\u3067\u3001\n\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u3067\u826f\u304f\u3042\u308b\u753b\u9762\u30c9\u30e9\u30c3\u30b0\u3067\u79fb\u52d5\u3059\u308b\u4ed5\u69d8\u306b\u3057\u307e\u3057\u305f\u3002\n\u5b9f\u969b\u306b\u306f\u3053\u3093\u306a\u611f\u3058\n\nPlayer.cs\n    void Update ()\n    {\n        // \u53f3\u30fb\u5de6\n        float x = Input.GetAxisRaw (\"Horizontal\");\n\n        // \u4e0a\u30fb\u4e0b\n        float y = Input.GetAxisRaw (\"Vertical\");\n\n        // \u79fb\u52d5\u3059\u308b\u5411\u304d\u3092\u6c42\u3081\u308b\n        Vector2 direction = new Vector2 (x, y).normalized;\n\n        // \u79fb\u52d5\u306e\u5236\u9650\n        Move (direction);\n\n    }\n\n\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u5185\u3092\u5927\u80c6\u306b\u4e00\u65b0\u3057\u3066\n\nPlayer.cs\n    void Update ()\n    {\n        if (Input.touches.Length > 0) {\n            Touch touch = Input.touches [0];\n            switch (touch.phase) {\n            case TouchPhase.Began:\n                offset = touch.position;\n                break;\n            case TouchPhase.Moved:\n                Vector2 move = touch.position;\n                Vector2 diff = offset - move;\n                Move(diff / -transferResistance);\n                offset = move;\n                break;\n            case TouchPhase.Ended:\n            case TouchPhase.Canceled:\n                offset = Vector2.zero;\n                break;\n            }\n        }\n    }\n\n\n\u3053\u3093\u306a\u611f\u3058\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u30b9\u30de\u30db\u3067\u306e\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u306fInput.touches\u914d\u5217\u306e\u4e2d\u306bTouch\u30af\u30e9\u30b9\u3068\u3057\u3066\u683c\u7d0d\u3055\u308c\u308b\u3088\u3046\u306a\u306e\u3067\u3001\n\uff11\u672c\u76ee\uff08touches\u3068\u8a00\u3046\u3060\u3051\u3042\u3063\u3066\u3001\u30de\u30eb\u30c1\u30bf\u30c3\u30c1\u3059\u308b\u3068\u8907\u6570\u5165\u3063\u3066\u304f\u308b\u3082\u3088\u3046\uff09\u306eTouch\u30af\u30e9\u30b9\u306e\u72b6\u614b\uff08phase\u30d1\u30e9\u30e1\u30fc\u30bf\uff09\u3092\u76e3\u8996\u3001\nBegan\u3067\u57fa\u6e96\u5ea7\u6a19\u3068\u3063\u3066\u3001Moved\u3067\u52d5\u3044\u305f\u5206\u306e\u5dee\u5206\u3092Move\u95a2\u6570\u306b\u6e21\u3057\u3066\u308b\u3063\u3066\u4ed5\u7d44\u307f\n\u3061\u306a\u307f\u306b\u3001transferResistance\u306fpublic float\u5024\u3067\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u30fc\u304b\u3089\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u5024\u3067\u79fb\u52d5\u5024\u3092\u5272\u3063\u3066\u3042\u3052\u306a\u3044\u3068\u81ea\u6a5f\u304c\u30de\u30c3\u30cf\u3067\u3059\u3063\u98db\u3093\u3067\u884c\u304f\u306e\u3067\u3001\u9069\u5f53\u306a\u5024\u3067\u8abf\u6574\u5fc5\u9808\u3067\u3059\u3002\n\nWave\u30c7\u30fc\u30bf\u3092\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8d8a\u3057\u306b\u53d6\u5f97\u3059\u308b\n\u524d\u56de\u306e\u8a18\u4e8b\u3067\u66f8\u3044\u305f\u3051\u3069\u3001\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e\u7b2c12\u56de\u306b\u7f6e\u3044\u3066\u3042\u308bWave.unitypackage\u3092\u305d\u306e\u307e\u307e\u4f7f\u3063\u305f\u5834\u5408\u3001\nEnemy Prefab\u304c\u885d\u7a81\u3057\u3061\u3083\u3046\u3088\u3046\u306a\u306e\u3067\u3001\u4e00\u304b\u3089\u4e00\u3064\u4e00\u3064\u8a2d\u5b9a\u3059\u308b\u306e\u3082\u3081\u3093\u3069\u3044\u306a\u30fc\u3068\u601d\u3044\u3001\n\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u4f4d\u7f6e\u60c5\u5831\u53d6\u5f97\u3059\u308c\u3070\u826f\u3044\u3068\u3044\u3046\u7b54\u3048\u306b\u8fbf\u308a\u7740\u304d\u307e\u3057\u305f\u3002\n\u307e\u305a\u3001wave\u60c5\u5831\u304c\u8a18\u8ff0\u3055\u308c\u305fjson\u3092\u4f5c\u308b\n\nwave.php\n<?php\n$json = array(\n    array(\n        array('x' => \"0\", 'y' => \"0\"),\n        array('x' => \"0.5\", 'y' => \"1\"),\n        array('x' => \"-0.5\", 'y' => \"1\"),\n        array('x' => \"1\", 'y' => \"2\"),\n        array('x' => \"-1\", 'y' => \"2\"),\n    ),\n    array(\n        array('x' => \"1\", 'y' => \"0\"),\n        array('x' => \"-1\", 'y' => \"0\"),\n        array('x' => \"0.5\", 'y' => \"1\"),\n        array('x' => \"-0.5\", 'y' => \"1\"),\n        array('x' => \"0\", 'y' => \"2\"),\n    ),\n);\n\nheader(\"Content-Type: application/json; charset=utf-8\");\necho json_encode($json);\nexit();\n?>\n\n\n\u6298\u89d2\u306e\u6a5f\u4f1a\u3060\u3063\u305f\u306e\u3067\u3001php\u3067\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n\u306a\u3093\u304b\u3001\u3082\u3063\u3068\u52b9\u7387\u7684\u306a\u66f8\u304d\u65b9\u3042\u308b\u3093\u3067\u3057\u3087\u3046\u3051\u3069\u3001\u9580\u5916\u6f22\u306a\u3093\u3067\u308f\u304b\u308a\u307e\u305b\u3093\u3002\u3002\u3002\n\u307e\u3041\u3001\u51fa\u6765\u306f\u3068\u3082\u304b\u304f\u3001\u3053\u308c\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u8a2d\u7f6e\u3057\u3066\nInitialize.cs\u3092\u751f\u6210\u3001Main Camera\u306b\u304f\u3063\u3064\u3051\u3066\u3001\u305d\u3053\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u4e8b\u306b\u3002\n\u4eca\u56de\u3001json\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30fc\u30b9\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u4eca\u56deMiniJSON\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u6d3b\u7528\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\nInitialize.cs\nusing UnityEngine;\nusing System.Collections;\nusing System.Collections.Generic;\nusing MiniJSON;\n\npublic class Initialize : MonoBehaviour {\n\n    public GameObject emitter;\n\n    // domain\u5024\u306f\u81ea\u8eab\u306e\u30c6\u30b9\u30c8\u30b5\u30fc\u30d0\u30fc\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n    public static string domain = \"http://192.168.40.24/\";\n\n    void Start () {\n        StartCoroutine (ConnectWave(domain + \"wave.php\"));\n    }\n\n    // Update is called once per frame\n    void Update () {\n\n    }\n\n    private IEnumerator ConnectWave(string url) {\n        Debug.Log (url);\n        WWW www = new WWW (url);\n        yield return www;\n        if (www.error == null) {\n            IList json = (IList)Json.Deserialize (www.text);\n            List<List<Vector2>> list = new List<List<Vector2>> ();\n            foreach (IList l in json) {\n                List<Vector2> positions = new List<Vector2> ();\n                foreach (IDictionary item in l) {\n                    // \u3053\u3053float\u5024\u3067\u76f4\u63a5\u53d6\u308c\u308c\u3070\u3082\u3063\u3068\u7c21\u5358\u306a\u6587\u306b\u306a\u308a\u305d\u3046\u306a\u306e\u306b\u3002\u3002\u3002\u81ea\u4f5cphp\u3047\u3002\u3002\u3002\n                    float x = float.Parse ((string)item [\"x\"]);\n                    float y = float.Parse ((string)item [\"y\"]);\n                    positions.Add (new Vector2 (x, y));\n                }\n                list.Add (positions);\n            }\n            Emitter e = emitter.GetComponent<Emitter> ();\n            e.waves = list;\n        } else {\n            Debug.Log(www.error.ToString());\n        }\n        yield break;\n    }\n\n}\n\n\n\u53d6\u5f97\u51fa\u6765\u305fjson\u30c7\u30fc\u30bf\u3092\u30d1\u30fc\u30b9\u3057\u3066Vector2\u306eList\u306b\u5909\u63db\u3001Emitter\u30af\u30e9\u30b9\u306b\u305d\u306e\u30ea\u30b9\u30c8\u3092\u6e21\u3057\u3066\u4e0a\u3052\u308b\u3063\u3066\u6d41\u308c\u3067\u3059\u3002\n\u4eca\u56de\u3001Wave\u306fPrefab\u3067\u306f\u306a\u304f\u3001json\u304b\u3089\u751f\u6210\u306b\u306a\u308b\u306e\u3067\u3001Emitter.cs\u3082\u66f8\u304d\u63db\u3048\n\nEmitter.cs\nusing UnityEngine;\nusing System.Collections;\nusing System.Collections.Generic;\n\npublic class Emitter : MonoBehaviour {\n\n    public GameObject enemy;\n    public GameObject managerObject;\n    [HideInInspector]\n    public List<List<Vector2>> waves;\n\n    void Start ()\n    {\n        StartCoroutine (createWave ());\n    }\n\n    private IEnumerator createWave ()\n    {\n        int current = 0;\n        Manager manager = managerObject.GetComponent<Manager> ();\n        while (true) {\n            while(manager.IsPlaying() == false) {\n                yield return new WaitForEndOfFrame ();\n            }\n            List<Vector2> positions = waves[current];\n            foreach (Vector2 pos in positions) {\n                GameObject e = (GameObject) Instantiate(enemy, new Vector3(pos.x, pos.y, 0), Quaternion.identity);\n                e.transform.parent = transform;\n            }\n            while (transform.childCount != 0) {\n                yield return new WaitForEndOfFrame ();\n            }\n            if (waves.Count <= ++current) {\n                current = 0;\n            }\n        }\n    }\n}\n\n\nWave Prefab\u90e1\u306f\u5168\u90e8\u5fc5\u8981\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u3001\u5168\u90e8\u6d88\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u3087\u3046\u3002\n\u518d\u751f\u3057\u3066\u3001\u30a8\u30e9\u30fc\u306a\u304f\u52d5\u3051\u3070\u5b8c\u6210\u3067\u3059\uff01\n\n\u307e\u3068\u3081\n\u4eca\u56de\u3067\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u540c\u671f\u3001GameObject\u52d5\u7684\u751f\u6210\u3068\u304b\u306a\u308a\u672c\u683c\u7684\uff1f\u306a\u5b9f\u88c5\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u9014\u4e2d\u3001\u4e0d\u7d30\u5de5\u306aphp\u3068\u304b\u51fa\u3066\u307e\u3059\u304c\u3001\u76f4\u63a5.json\u30d5\u30a1\u30a4\u30eb\u4f5c\u3063\u3061\u3083\u3063\u305f\u65b9\u304c\u65e9\u3044\u306e\u3067\u3001\n\u6025\u3044\u3067\u3044\u308b\u65b9\u306f\u305d\u3061\u3089\u306e\u65b9\u6cd5\u3067\u3082\u554f\u984c\u7121\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u6b21\u56de\u304c\u3042\u308c\u3070\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4f7f\u3063\u3066\u30e9\u30f3\u30ad\u30f3\u30b0\u3068\u304b\u4f5c\u308a\u305f\u3044\u3067\u3059\u306d\u3002\n\n##\u3084\u308b\u4e8b\n2D\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e\u30e2\u30d0\u30a4\u30eb\u7de8\u3084\u308b\uff01\n\u306f\u305a\u3060\u3063\u305f\u3093\u3067\u3059\u304c\u3001\u7b2c04\u56de\u307e\u3067\u306f\u30b5\u30af\u30c3\u3068\u7d42\u308f\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\n\u304c\u3002\u3002\u3002\n\n\u305d\u306e\u7b2c04\u56de\u304c\u554f\u984c\u3067\u3001Asset Store\u7d4c\u7531\u3067\u843d\u3068\u3057\u3066\u304f\u308b\u7d20\u6750\u306e\u4e2d\u306bGUI Texture\u304c\u3042\u308b\u306e\u3067\u3001\n\u305d\u306e\u8fba\u308a\u306e\u4ee3\u66ff\u6848\u3068\u304b\u8003\u3048\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\n\u3068\u3044\u3046\u304b\u3001Asset Store\u7d4c\u7531\u306e\u7269Git\u3057\u3061\u3083\u3046\u3068\u30a2\u30a6\u30c8\u3060\u3068\u601d\u3046\u306e\u3067\u3001I/F\u306f\u81ea\u4f5c\u3057\u307e\u3057\u305f\uff01\n\n\u3068\u3044\u3046\u4e8b\u3067\u3001\n\n- \u30b9\u30de\u30db\u7528I/F\u81ea\u4f5c\n- Wave\u30c7\u30fc\u30bf\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u53d6\u5f97\n\n\u8fba\u308a\u3092\u3084\u3063\u3066\u3044\u304d\u307e\u3059\uff01\n\n##\u7b2c04\u56de \u30d0\u30fc\u30c1\u30e3\u30eb\u30b9\u30c6\u30a3\u30c3\u30af\u5bfe\u5fdc\u4ee3\u66ff\u81ea\u4f5cI/F\n\u305d\u3082\u305d\u3082\u50d5\u7684\u306b\u30d0\u30fc\u30c6\u30e3\u30eb\u30b9\u30c6\u30a3\u30c3\u30af\u3068\u3044\u3046\u306e\u304c\u3001\u3042\u3093\u307e\u308a\u597d\u304d\u3058\u3083\u306a\u3044\u4e0a\u306b\u3001\n\u305d\u306e\u307e\u3093\u307e\u518d\u73fe\u3059\u308b\u306e\u306f\u3042\u3093\u307e\u308a\u306a\u301c\u3068\u8a00\u3046\u611f\u3058\u3060\u3063\u305f\u306e\u3067\u3001\n\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u3067\u826f\u304f\u3042\u308b\u753b\u9762\u30c9\u30e9\u30c3\u30b0\u3067\u79fb\u52d5\u3059\u308b\u4ed5\u69d8\u306b\u3057\u307e\u3057\u305f\u3002\n\u5b9f\u969b\u306b\u306f\u3053\u3093\u306a\u611f\u3058\n\n```c#:Player.cs\n\tvoid Update ()\n\t{\n\t\t// \u53f3\u30fb\u5de6\n\t\tfloat x = Input.GetAxisRaw (\"Horizontal\");\n\t\t\n\t\t// \u4e0a\u30fb\u4e0b\n\t\tfloat y = Input.GetAxisRaw (\"Vertical\");\n\t\t\n\t\t// \u79fb\u52d5\u3059\u308b\u5411\u304d\u3092\u6c42\u3081\u308b\n\t\tVector2 direction = new Vector2 (x, y).normalized;\n\t\t\n\t\t// \u79fb\u52d5\u306e\u5236\u9650\n\t\tMove (direction);\n\t\t\n\t}\n```\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u5185\u3092\u5927\u80c6\u306b\u4e00\u65b0\u3057\u3066\n\n```c#:Player.cs\n\tvoid Update ()\n\t{\n\t\tif (Input.touches.Length > 0) {\n\t\t\tTouch touch = Input.touches [0];\n\t\t\tswitch (touch.phase) {\n\t\t\tcase TouchPhase.Began:\n\t\t\t\toffset = touch.position;\n\t\t\t\tbreak;\n\t\t\tcase TouchPhase.Moved:\n\t\t\t\tVector2 move = touch.position;\n\t\t\t\tVector2 diff = offset - move;\n\t\t\t\tMove(diff / -transferResistance);\n\t\t\t\toffset = move;\n\t\t\t\tbreak;\n\t\t\tcase TouchPhase.Ended:\n\t\t\tcase TouchPhase.Canceled:\n\t\t\t\toffset = Vector2.zero;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n```\n\n\u3053\u3093\u306a\u611f\u3058\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u30b9\u30de\u30db\u3067\u306e\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u306fInput.touches\u914d\u5217\u306e\u4e2d\u306bTouch\u30af\u30e9\u30b9\u3068\u3057\u3066\u683c\u7d0d\u3055\u308c\u308b\u3088\u3046\u306a\u306e\u3067\u3001\n\uff11\u672c\u76ee\uff08touches\u3068\u8a00\u3046\u3060\u3051\u3042\u3063\u3066\u3001\u30de\u30eb\u30c1\u30bf\u30c3\u30c1\u3059\u308b\u3068\u8907\u6570\u5165\u3063\u3066\u304f\u308b\u3082\u3088\u3046\uff09\u306eTouch\u30af\u30e9\u30b9\u306e\u72b6\u614b\uff08phase\u30d1\u30e9\u30e1\u30fc\u30bf\uff09\u3092\u76e3\u8996\u3001\nBegan\u3067\u57fa\u6e96\u5ea7\u6a19\u3068\u3063\u3066\u3001Moved\u3067\u52d5\u3044\u305f\u5206\u306e\u5dee\u5206\u3092Move\u95a2\u6570\u306b\u6e21\u3057\u3066\u308b\u3063\u3066\u4ed5\u7d44\u307f\n\u3061\u306a\u307f\u306b\u3001transferResistance\u306fpublic float\u5024\u3067\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u30fc\u304b\u3089\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u5024\u3067\u79fb\u52d5\u5024\u3092\u5272\u3063\u3066\u3042\u3052\u306a\u3044\u3068\u81ea\u6a5f\u304c\u30de\u30c3\u30cf\u3067\u3059\u3063\u98db\u3093\u3067\u884c\u304f\u306e\u3067\u3001\u9069\u5f53\u306a\u5024\u3067\u8abf\u6574\u5fc5\u9808\u3067\u3059\u3002\n\n## Wave\u30c7\u30fc\u30bf\u3092\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8d8a\u3057\u306b\u53d6\u5f97\u3059\u308b\n\u524d\u56de\u306e\u8a18\u4e8b\u3067\u66f8\u3044\u305f\u3051\u3069\u3001\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e\u7b2c12\u56de\u306b\u7f6e\u3044\u3066\u3042\u308bWave.unitypackage\u3092\u305d\u306e\u307e\u307e\u4f7f\u3063\u305f\u5834\u5408\u3001\nEnemy Prefab\u304c\u885d\u7a81\u3057\u3061\u3083\u3046\u3088\u3046\u306a\u306e\u3067\u3001\u4e00\u304b\u3089\u4e00\u3064\u4e00\u3064\u8a2d\u5b9a\u3059\u308b\u306e\u3082\u3081\u3093\u3069\u3044\u306a\u30fc\u3068\u601d\u3044\u3001\n\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u4f4d\u7f6e\u60c5\u5831\u53d6\u5f97\u3059\u308c\u3070\u826f\u3044\u3068\u3044\u3046\u7b54\u3048\u306b\u8fbf\u308a\u7740\u304d\u307e\u3057\u305f\u3002\n\n\u307e\u305a\u3001wave\u60c5\u5831\u304c\u8a18\u8ff0\u3055\u308c\u305fjson\u3092\u4f5c\u308b\n\n```php:wave.php\n<?php\n$json = array(\n\tarray(\n\t    array('x' => \"0\", 'y' => \"0\"),\n    \tarray('x' => \"0.5\", 'y' => \"1\"),\n    \tarray('x' => \"-0.5\", 'y' => \"1\"),\n    \tarray('x' => \"1\", 'y' => \"2\"),\n    \tarray('x' => \"-1\", 'y' => \"2\"),\n\t),\n\tarray(\n\t    array('x' => \"1\", 'y' => \"0\"),\n    \tarray('x' => \"-1\", 'y' => \"0\"),\n    \tarray('x' => \"0.5\", 'y' => \"1\"),\n    \tarray('x' => \"-0.5\", 'y' => \"1\"),\n    \tarray('x' => \"0\", 'y' => \"2\"),\n\t),\n);\n \nheader(\"Content-Type: application/json; charset=utf-8\");\necho json_encode($json);\nexit();\n?>\n```\n\u6298\u89d2\u306e\u6a5f\u4f1a\u3060\u3063\u305f\u306e\u3067\u3001php\u3067\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n\u306a\u3093\u304b\u3001\u3082\u3063\u3068\u52b9\u7387\u7684\u306a\u66f8\u304d\u65b9\u3042\u308b\u3093\u3067\u3057\u3087\u3046\u3051\u3069\u3001\u9580\u5916\u6f22\u306a\u3093\u3067\u308f\u304b\u308a\u307e\u305b\u3093\u3002\u3002\u3002\n\u307e\u3041\u3001\u51fa\u6765\u306f\u3068\u3082\u304b\u304f\u3001\u3053\u308c\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u8a2d\u7f6e\u3057\u3066\nInitialize.cs\u3092\u751f\u6210\u3001Main Camera\u306b\u304f\u3063\u3064\u3051\u3066\u3001\u305d\u3053\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u4e8b\u306b\u3002\n\u4eca\u56de\u3001json\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30fc\u30b9\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u4eca\u56de[MiniJSON](https://gist.github.com/darktable/1411710)\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u6d3b\u7528\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\n```c#:Initialize.cs\nusing UnityEngine;\nusing System.Collections;\nusing System.Collections.Generic;\nusing MiniJSON;\n\npublic class Initialize : MonoBehaviour {\n\t\n\tpublic GameObject emitter;\n\n\t// domain\u5024\u306f\u81ea\u8eab\u306e\u30c6\u30b9\u30c8\u30b5\u30fc\u30d0\u30fc\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002\n\tpublic static string domain = \"http://192.168.40.24/\";\n\n\tvoid Start () {\n\t\tStartCoroutine (ConnectWave(domain + \"wave.php\"));\n\t}\n\t\n\t// Update is called once per frame\n\tvoid Update () {\n\t\t\n\t}\n\n\tprivate IEnumerator ConnectWave(string url) {\n\t\tDebug.Log (url);\n\t\tWWW www = new WWW (url);\n\t\tyield return www;\n\t\tif (www.error == null) {\n\t\t\tIList json = (IList)Json.Deserialize (www.text);\n\t\t\tList<List<Vector2>> list = new List<List<Vector2>> ();\n\t\t\tforeach (IList l in json) {\n\t\t\t\tList<Vector2> positions = new List<Vector2> ();\n\t\t\t\tforeach (IDictionary item in l) {\n\t\t\t\t\t// \u3053\u3053float\u5024\u3067\u76f4\u63a5\u53d6\u308c\u308c\u3070\u3082\u3063\u3068\u7c21\u5358\u306a\u6587\u306b\u306a\u308a\u305d\u3046\u306a\u306e\u306b\u3002\u3002\u3002\u81ea\u4f5cphp\u3047\u3002\u3002\u3002\n\t\t\t\t\tfloat x = float.Parse ((string)item [\"x\"]);\n\t\t\t\t\tfloat y = float.Parse ((string)item [\"y\"]);\n\t\t\t\t\tpositions.Add (new Vector2 (x, y));\n\t\t\t\t}\n\t\t\t\tlist.Add (positions);\n\t\t\t}\n\t\t\tEmitter e = emitter.GetComponent<Emitter> ();\n\t\t\te.waves = list;\n\t\t} else {\n\t\t\tDebug.Log(www.error.ToString());\n\t\t}\n\t\tyield break;\n\t}\n\n}\n```\n\n\u53d6\u5f97\u51fa\u6765\u305fjson\u30c7\u30fc\u30bf\u3092\u30d1\u30fc\u30b9\u3057\u3066Vector2\u306eList\u306b\u5909\u63db\u3001Emitter\u30af\u30e9\u30b9\u306b\u305d\u306e\u30ea\u30b9\u30c8\u3092\u6e21\u3057\u3066\u4e0a\u3052\u308b\u3063\u3066\u6d41\u308c\u3067\u3059\u3002\n\u4eca\u56de\u3001Wave\u306fPrefab\u3067\u306f\u306a\u304f\u3001json\u304b\u3089\u751f\u6210\u306b\u306a\u308b\u306e\u3067\u3001Emitter.cs\u3082\u66f8\u304d\u63db\u3048\n\n```c#:Emitter.cs\nusing UnityEngine;\nusing System.Collections;\nusing System.Collections.Generic;\n\npublic class Emitter : MonoBehaviour {\n\t\n\tpublic GameObject enemy;\n\tpublic GameObject managerObject;\n\t[HideInInspector]\n\tpublic List<List<Vector2>> waves;\n\t\n\tvoid Start ()\n\t{\n\t\tStartCoroutine (createWave ());\n\t}\n\t\n\tprivate IEnumerator createWave ()\n\t{\n\t\tint current = 0;\n\t\tManager manager = managerObject.GetComponent<Manager> ();\n\t\twhile (true) {\n\t\t\twhile(manager.IsPlaying() == false) {\n\t\t\t\tyield return new WaitForEndOfFrame ();\n\t\t\t}\n\t\t\tList<Vector2> positions = waves[current];\n\t\t\tforeach (Vector2 pos in positions) {\n\t\t\t\tGameObject e = (GameObject) Instantiate(enemy, new Vector3(pos.x, pos.y, 0), Quaternion.identity);\n\t\t\t\te.transform.parent = transform;\n\t\t\t}\n\t\t\twhile (transform.childCount != 0) {\n\t\t\t\tyield return new WaitForEndOfFrame ();\n\t\t\t}\n\t\t\tif (waves.Count <= ++current) {\n\t\t\t\tcurrent = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n```\nWave Prefab\u90e1\u306f\u5168\u90e8\u5fc5\u8981\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u3001\u5168\u90e8\u6d88\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u3087\u3046\u3002\n\u518d\u751f\u3057\u3066\u3001\u30a8\u30e9\u30fc\u306a\u304f\u52d5\u3051\u3070\u5b8c\u6210\u3067\u3059\uff01\n\n##\u307e\u3068\u3081\n\u4eca\u56de\u3067\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u540c\u671f\u3001GameObject\u52d5\u7684\u751f\u6210\u3068\u304b\u306a\u308a\u672c\u683c\u7684\uff1f\u306a\u5b9f\u88c5\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u9014\u4e2d\u3001\u4e0d\u7d30\u5de5\u306aphp\u3068\u304b\u51fa\u3066\u307e\u3059\u304c\u3001\u76f4\u63a5.json\u30d5\u30a1\u30a4\u30eb\u4f5c\u3063\u3061\u3083\u3063\u305f\u65b9\u304c\u65e9\u3044\u306e\u3067\u3001\n\u6025\u3044\u3067\u3044\u308b\u65b9\u306f\u305d\u3061\u3089\u306e\u65b9\u6cd5\u3067\u3082\u554f\u984c\u7121\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u6b21\u56de\u304c\u3042\u308c\u3070\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4f7f\u3063\u3066\u30e9\u30f3\u30ad\u30f3\u30b0\u3068\u304b\u4f5c\u308a\u305f\u3044\u3067\u3059\u306d\u3002\n", "tags": ["Unity3D", "Unity4.6", "Unity"]}