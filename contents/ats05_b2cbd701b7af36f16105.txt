{"tags": ["HTML", "HTML5", "JavaScript", "SVG", "CSS3"], "context": "\u67d0\u6240\u3067\u4f7f\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\nHTML\u4e0a\u306bSVG\u3092\u63cf\u753b\u3057\u6ed1\u3089\u304b\u306a\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3055\u305b\u308b\u30c6\u30af\u30cb\u30c3\u30af\u306f\u6700\u8fd1\u3088\u304f\u898b\u304b\u3051\u307e\u3059\u306d\u3002\n\u52d5\u304f\u3082\u306e\u304c\u3042\u308b\u3068\u76ee\u3092\u5f15\u304d\u307e\u3059\u3057\u3001\u306a\u306b\u3088\u308aSVG\u3060\u304b\u3089\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u89e3\u50cf\u5ea6\u306b\u6c17\u3092\u9063\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u305b\u3093\u3002\nSVG\u3092\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3055\u305b\u308b\u65b9\u6cd5\u306f\u89e3\u8aac\u3055\u308c\u3066\u3044\u308b\u30b5\u30a4\u30c8\u304c\u6ca2\u5c71\u3042\u308a\u307e\u3059\u3002\n\u3053\u3053\u3067\u306fSVG\u30d1\u30b9\u3092\u30b9\u30af\u30ed\u30fc\u30eb\u306b\u5408\u308f\u305b\u3066\u63cf\u753b\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3092\u7d39\u4ecb\u3002\n\u307e\u305a\u306f\u30b5\u30f3\u30d7\u30eb\u30c7\u30e2\u3092\u3002\n\u30c7\u30e2\n\u30d1\u30b9\u306e\u59cb\u70b9\u304b\u3089\u7d42\u70b9\u307e\u3067\u3001\u30b9\u30af\u30ed\u30fc\u30eb\u3068\u4e00\u81f4\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u4f7f\u3046\u3082\u306e : jQuery\n\u30b9\u30af\u30ed\u30fc\u30eb\u306e\u5024\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306bjQuery\u3092\u4f7f\u7528\u3002\n\nhtml\n<div id=\"stroke\">\n  <svg id='scroll-line'>\n  </svg>\n</div>\n\n\nCSS\n(\u203b\u753b\u9762\u5e45\u306b\u95a2\u308f\u3089\u305a\u771f\u3093\u4e2d\u306b\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u308b\u3060\u3051)\ndiv#stroke{\n        width:100%;\n        max-width:1920px;\n        height:100%;\n        position:relative;\n        margin:0 auto;\n        overflow:hidden;\n}\n\nsvg#scroll-line{\n        width:100%;\n        height:100%;\n\n        position:absolute;\n        left:50%;\n        margin-left:-960px;\n}\n\n\n\nJavaScript\n//\u30b9\u30af\u30ed\u30fc\u30eb\u72b6\u614b\u30020\u3067\u4e00\u756a\u4e0a\u30011\u3067\u4e00\u756a\u4e0b\nvar scrollPos = 0;\n//\u30b9\u30af\u30ed\u30fc\u30eb\u3067\u304d\u308b = \u753b\u9762\u304b\u3089\u96a0\u308c\u3066\u308b\u7bc4\u56f2\nvar scrollRange;\nvar line;\nvar strokeLength;\nvar ankerPoint = [960, 0, 960, 950, 800, 950, 800, 850, 900, 850, 900, 2000];\n\n//\u30b9\u30af\u30ed\u30fc\u30eb\u306e\u5024\u3092\u53d6\u5f97\n$(function() {\n        $(window).scroll(function(){\n                scrollRange = $(document.body).height() - $(this).outerHeight();\n                scrollPos = $(this).scrollTop() / scrollRange;\n                line.style.strokeDashoffset = strokeLength - strokeLength * scrollPos;\n                line.style.visibility = 'visible';\n        });\n});\n\nwindow.onload = function(){\n        //\u30d1\u30b9\u3092\u5b9a\u7fa9\n        line = document.createElementNS(\"http://www.w3.org/2000/svg\",'path');\n        line.setAttribute('d', 'M 960, 0 L ' + ankerPoint.join(','));\n        line.setAttribute('fill', 'none')\n        line.setAttribute('stroke', '#00eeff');\n        strokeLength = line.getTotalLength();\n        line.style.strokeDasharray = strokeLength + ' ' + strokeLength;\n        line.style.storkeDashoffset = strokeLength;\n        line.style.visibility = 'hidden';\n        $('#scroll-line').append(line);\n}\n\n\u914d\u5217ankerPoint\u3067\u3001path\u8981\u7d20\u306eM\u30b3\u30de\u30f3\u30c9\u3067\u4f7f\u3046\u30d1\u30b9\u306e\u6570\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u52ff\u8ad6\u3001svg\u30c7\u30fc\u30bf\u3092\u5225\u3067\u7528\u610f\u3057DOM\u304b\u3089\u62fe\u3063\u305f\u308a\u3001\u30d9\u30b8\u30a7\u66f2\u7dda\u3092\u63cf\u304f\u306e\u3082\u30a2\u30ea\u3002\nwindow.onload\u4ee5\u4e0b\u306e\nline.style.strokeDasharray = strokeLength + ' ' + strokeLength;\nline.style.storkeDashoffset = strokeLength;\n\n\u3053\u306e\u8fba\u308a\u3067\u30d1\u30b9\u306e\u9577\u3055(strokeLength)\u5206\u753b\u9762\u304b\u3089\u5916\u306b\u8ffd\u3044\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\nline.style.strokeDashoffset = strokeLength - strokeLength * scrollPos;\n\n\u4e0a\u8a18\u3067\u30d1\u30b9\u306e\u9577\u3055\u306b\u30b9\u30af\u30ed\u30fc\u30eb\u8ddd\u96e2\u306e\u30d1\u30fc\u30bb\u30f3\u30c6\u30fc\u30b8(scrollPos)\u3092\u304b\u3051\u3066\u3044\u307e\u3059\u3002\n\u4e00\u756a\u4e0b\u307e\u3067\u30b9\u30af\u30ed\u30fc\u30eb\u3055\u308c\u305f(scrollPos\u304c1\u306b\u306a\u3063\u305f)\u3068\u3053\u308d\u3067strokaDashoffset\u304c0\u306b\u306a\u308a\u3001\u30d1\u30b9\u5168\u4f53\u304c\u63cf\u304b\u308c\u308b\u3068\u3044\u3046\u308f\u3051\u3067\u3059\u3002\n\u3046\u30fc\u3093\u3001jQuery\u82e6\u624b\u3060\u306a\u3041...\n\u67d0\u6240\u3067\u4f7f\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\n\nHTML\u4e0a\u306bSVG\u3092\u63cf\u753b\u3057\u6ed1\u3089\u304b\u306a\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3055\u305b\u308b\u30c6\u30af\u30cb\u30c3\u30af\u306f\u6700\u8fd1\u3088\u304f\u898b\u304b\u3051\u307e\u3059\u306d\u3002\n\u52d5\u304f\u3082\u306e\u304c\u3042\u308b\u3068\u76ee\u3092\u5f15\u304d\u307e\u3059\u3057\u3001\u306a\u306b\u3088\u308aSVG\u3060\u304b\u3089\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u89e3\u50cf\u5ea6\u306b\u6c17\u3092\u9063\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u305b\u3093\u3002\n\nSVG\u3092\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3055\u305b\u308b\u65b9\u6cd5\u306f\u89e3\u8aac\u3055\u308c\u3066\u3044\u308b\u30b5\u30a4\u30c8\u304c\u6ca2\u5c71\u3042\u308a\u307e\u3059\u3002\n\u3053\u3053\u3067\u306fSVG\u30d1\u30b9\u3092\u30b9\u30af\u30ed\u30fc\u30eb\u306b\u5408\u308f\u305b\u3066\u63cf\u753b\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3092\u7d39\u4ecb\u3002\n\n\u307e\u305a\u306f\u30b5\u30f3\u30d7\u30eb\u30c7\u30e2\u3092\u3002\n\n[\u30c7\u30e2](http://synapse-blog.xyz/scroll-svg/)\n\n\u30d1\u30b9\u306e\u59cb\u70b9\u304b\u3089\u7d42\u70b9\u307e\u3067\u3001\u30b9\u30af\u30ed\u30fc\u30eb\u3068\u4e00\u81f4\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u4f7f\u3046\u3082\u306e : __jQuery__\n\u30b9\u30af\u30ed\u30fc\u30eb\u306e\u5024\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306bjQuery\u3092\u4f7f\u7528\u3002\n\n\n\n##html\n\n```html\n<div id=\"stroke\">\n  <svg id='scroll-line'>\n  </svg>\n</div>\n```\n##CSS\n(\u203b\u753b\u9762\u5e45\u306b\u95a2\u308f\u3089\u305a\u771f\u3093\u4e2d\u306b\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u308b\u3060\u3051)\n\n```css\ndiv#stroke{\n        width:100%;\n        max-width:1920px;\n        height:100%;\n        position:relative;\n        margin:0 auto;\n        overflow:hidden;\n}\n\nsvg#scroll-line{\n        width:100%;\n        height:100%;\n\n        position:absolute;\n        left:50%;\n        margin-left:-960px;\n}\n\n```\n\n\n\n##JavaScript\n```javascript\n//\u30b9\u30af\u30ed\u30fc\u30eb\u72b6\u614b\u30020\u3067\u4e00\u756a\u4e0a\u30011\u3067\u4e00\u756a\u4e0b\nvar scrollPos = 0;\n//\u30b9\u30af\u30ed\u30fc\u30eb\u3067\u304d\u308b = \u753b\u9762\u304b\u3089\u96a0\u308c\u3066\u308b\u7bc4\u56f2\nvar scrollRange;\nvar line;\nvar strokeLength;\nvar ankerPoint = [960, 0, 960, 950, 800, 950, 800, 850, 900, 850, 900, 2000];\n\n//\u30b9\u30af\u30ed\u30fc\u30eb\u306e\u5024\u3092\u53d6\u5f97\n$(function() {\n        $(window).scroll(function(){\n                scrollRange = $(document.body).height() - $(this).outerHeight();\n                scrollPos = $(this).scrollTop() / scrollRange;\n                line.style.strokeDashoffset = strokeLength - strokeLength * scrollPos;\n                line.style.visibility = 'visible';\n        });\n});\n\nwindow.onload = function(){\n        //\u30d1\u30b9\u3092\u5b9a\u7fa9\n        line = document.createElementNS(\"http://www.w3.org/2000/svg\",'path');\n        line.setAttribute('d', 'M 960, 0 L ' + ankerPoint.join(','));\n        line.setAttribute('fill', 'none')\n        line.setAttribute('stroke', '#00eeff');\n        strokeLength = line.getTotalLength();\n        line.style.strokeDasharray = strokeLength + ' ' + strokeLength;\n        line.style.storkeDashoffset = strokeLength;\n        line.style.visibility = 'hidden';\n        $('#scroll-line').append(line);\n}\n```\n\n\n\u914d\u5217ankerPoint\u3067\u3001path\u8981\u7d20\u306eM\u30b3\u30de\u30f3\u30c9\u3067\u4f7f\u3046\u30d1\u30b9\u306e\u6570\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u52ff\u8ad6\u3001svg\u30c7\u30fc\u30bf\u3092\u5225\u3067\u7528\u610f\u3057DOM\u304b\u3089\u62fe\u3063\u305f\u308a\u3001\u30d9\u30b8\u30a7\u66f2\u7dda\u3092\u63cf\u304f\u306e\u3082\u30a2\u30ea\u3002\n\n\n\n\nwindow.onload\u4ee5\u4e0b\u306e\n\n```javascript\nline.style.strokeDasharray = strokeLength + ' ' + strokeLength;\nline.style.storkeDashoffset = strokeLength;\n```\n\n\u3053\u306e\u8fba\u308a\u3067\u30d1\u30b9\u306e\u9577\u3055(strokeLength)\u5206\u753b\u9762\u304b\u3089\u5916\u306b\u8ffd\u3044\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\n\n```javascript\nline.style.strokeDashoffset = strokeLength - strokeLength * scrollPos;\n```\n\u4e0a\u8a18\u3067\u30d1\u30b9\u306e\u9577\u3055\u306b\u30b9\u30af\u30ed\u30fc\u30eb\u8ddd\u96e2\u306e\u30d1\u30fc\u30bb\u30f3\u30c6\u30fc\u30b8(scrollPos)\u3092\u304b\u3051\u3066\u3044\u307e\u3059\u3002\n\u4e00\u756a\u4e0b\u307e\u3067\u30b9\u30af\u30ed\u30fc\u30eb\u3055\u308c\u305f(scrollPos\u304c1\u306b\u306a\u3063\u305f)\u3068\u3053\u308d\u3067strokaDashoffset\u304c0\u306b\u306a\u308a\u3001\u30d1\u30b9\u5168\u4f53\u304c\u63cf\u304b\u308c\u308b\u3068\u3044\u3046\u308f\u3051\u3067\u3059\u3002\n\n\n\n\n\u3046\u30fc\u3093\u3001jQuery\u82e6\u624b\u3060\u306a\u3041...\n"}