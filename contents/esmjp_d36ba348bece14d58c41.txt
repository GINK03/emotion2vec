{"tags": ["ShellShock", "Bash", "Build"], "context": " More than 1 year has passed since last update.\u30fbshellshock\u5bfe\u5fdc\u3067RHEE5\u306ei686\u74b0\u5883\u7528\u306erpm\u304c\u306a\u304b\u3063\u305f\u306e\u3067SRPM\u304b\u3089\u4f5c\u6210\u3059\u308b\u624b\u9806\n\u30fb\u5b9f\u884c\u74b0\u5883\u306f64bit centos5\u306edocker\u30b3\u30f3\u30c6\u30ca\n\n\u30d3\u30eb\u30c9\u74b0\u5883\u69cb\u7bc9\n1. rpm-build\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum install rpm-build\n\n\u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u4e00\u7dd2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n2.mock\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum install mock\n# useradd -s /sbin/nologin mockbuild\n\n3.build\u306b\u5fc5\u8981\u305d\u3046\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u4e00\u5f0f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum groupinstall \"Development Tools\"  \n# yum install libtermcap-devel\n\n4.32bit\u7528\u306eglibc-devel\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum install glibc-devel.i386\n\n\n\u30d3\u30eb\u30c9\n1. srpm\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n# cd /usr/src/redhat/SRPMS\n# wget ftp://ftp.pbone.net/mirror/ftp.redhat.com/pub/redhat/linux/enterprise/5Server/en/os/SRPMS/bash-3.2-33.el5_11.4.src.rpm\n\n2.\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6307\u5b9a\u3067\u30d3\u30eb\u30c9\n# CC='gcc -m32' CXX='g++ -m32' linux32 rpmbuild --rebuild --target=i686 bash-3.2-33.el5_11.4.src.rpm \n\n3.\u6210\u679c\u7269\u78ba\u8a8d\n# ls -l /usr/src/redhat/RPMS\ntotal 3164\n-rw-r--r-- 1 root root 1887161 Nov 19 11:38 bash-3.2-33.4.i686.rpm\n-rw-r--r-- 1 root root 1350536 Nov 19 11:38 bash-debuginfo-3.2-33.4.i686.rpm\n\n\u304a\u308f\u308a\n\n\u30fbshellshock\u5bfe\u5fdc\u3067RHEE5\u306ei686\u74b0\u5883\u7528\u306erpm\u304c\u306a\u304b\u3063\u305f\u306e\u3067SRPM\u304b\u3089\u4f5c\u6210\u3059\u308b\u624b\u9806\n\u30fb\u5b9f\u884c\u74b0\u5883\u306f64bit centos5\u306edocker\u30b3\u30f3\u30c6\u30ca\n\n## \u30d3\u30eb\u30c9\u74b0\u5883\u69cb\u7bc9\n1\\. rpm-build\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# yum install rpm-build\n```\n\u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u4e00\u7dd2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\n2\\.mock\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# yum install mock\n# useradd -s /sbin/nologin mockbuild\n```\n\n3\\.build\u306b\u5fc5\u8981\u305d\u3046\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u4e00\u5f0f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# yum groupinstall \"Development Tools\"  \n# yum install libtermcap-devel\n```\n\n4\\.32bit\u7528\u306eglibc-devel\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# yum install glibc-devel.i386\n```\n\n## \u30d3\u30eb\u30c9\n\n1\\. srpm\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n```\n# cd /usr/src/redhat/SRPMS\n# wget ftp://ftp.pbone.net/mirror/ftp.redhat.com/pub/redhat/linux/enterprise/5Server/en/os/SRPMS/bash-3.2-33.el5_11.4.src.rpm\n```\n\n2\\.\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6307\u5b9a\u3067\u30d3\u30eb\u30c9\n\n```\n# CC='gcc -m32' CXX='g++ -m32' linux32 rpmbuild --rebuild --target=i686 bash-3.2-33.el5_11.4.src.rpm \n```\n\n3\\.\u6210\u679c\u7269\u78ba\u8a8d\n\n```\n# ls -l /usr/src/redhat/RPMS\ntotal 3164\n-rw-r--r-- 1 root root 1887161 Nov 19 11:38 bash-3.2-33.4.i686.rpm\n-rw-r--r-- 1 root root 1350536 Nov 19 11:38 bash-debuginfo-3.2-33.4.i686.rpm\n```\n\n\n\u304a\u308f\u308a\n\n\n\n"}