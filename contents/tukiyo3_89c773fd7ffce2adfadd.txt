{"context": "\n\n\u6e96\u5099\n\nmattn/go-sqlite3\n\ngo get github.com/mattn/go-sqlite3 \n\n\n\u30b5\u30f3\u30d7\u30eb\n\nsqlite3 - Instantiating an sqlite database with go? - Stack Overflow\n90H Tech: SQLite\u3067TIMESTAMP\u5217\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092JST\u306b\u3059\u308b\n\n\nmemo.go\npackage main\n\nimport (\n    \"os\"\n    \"fmt\"\n    \"database/sql\"\n    _ \"github.com/mattn/go-sqlite3\"\n)\n\nfunc db_exec(db *sql.DB, q string) {\n    var _, err = db.Exec(q)\n    if err != nil {\n        fmt.Println(err)\n        os.Exit(1)\n    }\n}\n\nfunc main() {\n    os.Create(\"./data.db\")\n\n    var db *sql.DB\n\n    db, err := sql.Open(\"sqlite3\", \"./data.db\")\n    if err != nil {\n        fmt.Println(err)\n        os.Exit(1)\n    }\n\n    var q = \"\"\n\n    q = \"CREATE TABLE memo (\"\n    q+= \" id INTEGER PRIMARY KEY AUTOINCREMENT\"\n    q+= \", body VARCHAR(255) NOT NULL\"\n    q+= \", created_at TIMESTAMP DEFAULT (DATETIME('now','localtime'))\"\n    q+= \")\"\n    db_exec(db,q)\n\n    q = \"INSERT INTO memo \"\n    q+= \" (body)\"\n    q+= \" VALUES\"\n    q+= \" ('body1')\"\n    q+= \",('body2')\"\n    db_exec(db,q)\n\n    db.Close()\n}\n\n\n\n\u5b9f\u884c\n$ go run memo.go\n$ echo \"select * from memo;\" | sqlite3 ./data.db\n1|body1|2016-03-19 08:00:51\n2|body2|2016-03-19 08:00:51\n\n\n(\u30e1\u30e2)\u578b\u60c5\u5831\u3092\u8abf\u3079\u308b\n\nGolang\u3067\u578b\u60c5\u5831\u3092\u8abf\u3079\u308b - \u96d1\u8a18\n\n\nhoge\u306e\u578b\u3092\u8abf\u3079\u305f\u3044\u5834\u5408\npackage main\nimport (\n    \"fmt\"\n    \"reflect\"\n)\nfunc main() {\n    fmt.Println(reflect.TypeOf(hoge))\n\n}\n\n\n## \u6e96\u5099\n\n* [mattn/go-sqlite3](https://github.com/mattn/go-sqlite3)\n\n```\ngo get github.com/mattn/go-sqlite3 \n```\n\n## \u30b5\u30f3\u30d7\u30eb\n\n* [sqlite3 - Instantiating an sqlite database with go? - Stack Overflow](http://stackoverflow.com/questions/36020664/instantiating-an-sqlite-database-with-go)\n* [90H Tech: SQLite\u3067TIMESTAMP\u5217\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092JST\u306b\u3059\u308b](http://90h-tech.blogspot.jp/2012/04/sqlitetimestampjst.html)\n\n```go:memo.go\npackage main\n\nimport (\n    \"os\"\n    \"fmt\"\n    \"database/sql\"\n    _ \"github.com/mattn/go-sqlite3\"\n)\n\nfunc db_exec(db *sql.DB, q string) {\n    var _, err = db.Exec(q)\n    if err != nil {\n        fmt.Println(err)\n        os.Exit(1)\n    }\n}\n\nfunc main() {\n    os.Create(\"./data.db\")\n\n    var db *sql.DB\n\n    db, err := sql.Open(\"sqlite3\", \"./data.db\")\n    if err != nil {\n        fmt.Println(err)\n        os.Exit(1)\n    }\n\n    var q = \"\"\n\n    q = \"CREATE TABLE memo (\"\n    q+= \" id INTEGER PRIMARY KEY AUTOINCREMENT\"\n    q+= \", body VARCHAR(255) NOT NULL\"\n    q+= \", created_at TIMESTAMP DEFAULT (DATETIME('now','localtime'))\"\n    q+= \")\"\n    db_exec(db,q)\n\n    q = \"INSERT INTO memo \"\n    q+= \" (body)\"\n    q+= \" VALUES\"\n    q+= \" ('body1')\"\n    q+= \",('body2')\"\n    db_exec(db,q)\n\n    db.Close()\n}\n```\n\n## \u5b9f\u884c\n\n```bash:\n$ go run memo.go\n$ echo \"select * from memo;\" | sqlite3 ./data.db\n1|body1|2016-03-19 08:00:51\n2|body2|2016-03-19 08:00:51\n```\n\n## (\u30e1\u30e2)\u578b\u60c5\u5831\u3092\u8abf\u3079\u308b\n\n* [Golang\u3067\u578b\u60c5\u5831\u3092\u8abf\u3079\u308b - \u96d1\u8a18](http://d.hatena.ne.jp/yuheiomori0718/20140413/1397397593)\n\n```go:hoge\u306e\u578b\u3092\u8abf\u3079\u305f\u3044\u5834\u5408\npackage main\nimport (\n\t\"fmt\"\n\t\"reflect\"\n)\nfunc main() {\n\tfmt.Println(reflect.TypeOf(hoge))\n\n}\n```\n", "tags": ["sqlite3", "Go"]}