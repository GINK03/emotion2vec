{"context": " More than 1 year has passed since last update.\u3053\u306e\u8a18\u4e8b\u306f\u300c\u30a8\u30e0\u30b9\u30ea\u30fc Advent Calendar 2015\u300d\u306e 22\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n\u306f\u3058\u3081\u306b\n\u3053\u3093\u306b\u3061\u308f\u3002\u5e74\u672b\u3067\u3059\u306d\u3002\u5e74\u672b\u3068\u3044\u3048\u3070\u4e00\u5e74\u3092\u632f\u308a\u8fd4\u308b\u3044\u3044\u6a5f\u4f1a\u3067\u3059\u306d\u3002\u610f\u8b58\u306e\u9ad8\u3044\u4eba\u305f\u3061\u304c\u300c\u4eba\u751f\u3092\u68da\u5378\u3057\u3059\u308b\u3044\u3044\u6a5f\u4f1a\u30c0\u30e8\u30c3\u2605\u300d\u306a\u3093\u3066\u8a00\u3063\u3066\u3044\u305f\u3088\u3046\u306a\u6c17\u3082\u3057\u307e\u3059\u3002\n\u904e\u53bb\u306e\u81ea\u5206\u3092\u632f\u308a\u66ff\u3048\u3063\u3066\u307f\u308b\u3068\u3001\u3042\u30fc\u30cd\u30c3\u30c8\u30b5\u30fc\u30d5\u30a3\u30f3\u306b\u7121\u99c4\u306a\u6642\u9593\u3092\u904e\u3054\u3057\u305f\u306a\u3041\u3002\u3002\u306a\u3093\u3066\u5f8c\u6094\u306e\u5ff5\u304c\u6e67\u3044\u3066\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3088\u304f\u8003\u3048\u3066\u307f\u308b\u3068\u3001\u81ea\u5206\u304c\u30d6\u30e9\u30a6\u30b6\u3067\u4f55\u3092\u95b2\u89a7\u3057\u3066\u3044\u305f\u306e\u304b\u3001\u304d\u3061\u3093\u3068\u632f\u308a\u8fd4\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u3044\u3044\u6a5f\u4f1a\u3067\u3059\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\n\n\u81ea\u5206\u306e\u95b2\u89a7\u5c65\u6b74\u3092\u53ef\u8996\u5316\u3057\u3066\u5206\u6790\u3059\u308b\u57fa\u76e4\n\n\u3092\u69cb\u7bc9\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u305f\u3060\u3001\u4e00\u70b9\u30cd\u30c3\u30af\u306a\u306e\u306f\u3001\u79c1\u306f\n\nchrome => \u30e1\u30a4\u30f3\u30d6\u30e9\u30a6\u30b6\nfirefox => \u3042\u308b\u7279\u5b9a\u306e\u7528\u9014\n\n\u3068\u3044\u3063\u305f\u3088\u3046\u306b\u30012\u3064\u306e\u30d6\u30e9\u30a6\u30b6\u3092\u6226\u7565\u7684\u306b\u4f7f\u3044\u5206\u3051\u3066\u304a\u308a\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u95b2\u89a7\u5c65\u6b74\u30c7\u30fc\u30bf\u304c\u5206\u6563\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u3002\u5206\u6563\u3057\u3066\u3057\u307e\u3063\u305fchrome\u3068firefox\u306e\u95b2\u89a7\u30ed\u30b0\u3092\u7d71\u5408\u3059\u308b\u3053\u3068\u304c\u5fc5\u9808\u8981\u4ef6\u3068\u306a\u308a\u307e\u3059\u3002\n\nchrome\u3068firefox\u306e\u95b2\u89a7\u5c65\u6b74\n\u5c11\u3057\u8abf\u3079\u3066\u307f\u308b\u3068\u3001mac\u3067\u3059\u3068\u3001chrome\u3068firefox\u306e\u95b2\u89a7\u5c65\u6b74\u306fsqlite\u306eDB\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\nchrome\n\n\n/Users/\u81ea\u5206\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea/Library/Application Support/Google/Chrome/Default/History\n\n\nfirefox\n\n\n/Users/\u81ea\u5206\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea/Library/Application Support/Firefox/Profiles/\u30e6\u30fc\u30b6\u30fc\u3054\u3068\u306b\u56fa\u6709\u306e\u5024\uff1f.default/places.sqlite\n\n\n\n\nchrome\n\u305d\u306e\u307e\u307e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u3044\u3058\u308b\u306e\u306f\u306a\u3093\u3060\u304b\u6016\u3044\u306e\u3067\u3001\u305d\u308c\u305e\u308c\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3057\u3066\u4e2d\u8eab\u3092\u307f\u3066\u307f\u307e\u3059\n$ cd {\u4f5c\u696ddir}\n$ cp '/Users/\u81ea\u5206\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea/Library/Application Support/Google/Chrome/Default/History' ./\n\n$ sqlite3 History\n\n\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\n\nsqlite> .tables\ndownloads             meta                  urls\ndownloads_url_chains  segment_usage         visit_source\nkeyword_search_terms  segments              visits\n\n\u95b2\u89a7\u65e5\u6642\u3068\u95b2\u89a7url\u3092\u53d6\u5f97\n\nsqlite> select datetime(v.visit_time/1000000-11644473600,'unixepoch','localtime') as visit_time, u.url\n   ...> from visits as v\n   ...> left outer join urls as u on v.url = u.id\n   ...> order by v.id\n   ...> limit 1;\n2015-09-24 22:05:25|https://www.google.co.jp/\n\nvisit_time\u304c1601/1/1 UTC\u304b\u3089\u306emicroseconds\u306a\u306e\u3067\u3001datetime\u95a2\u6570\u3067\u3088\u308d\u3057\u304f\u51e6\u7406\u3057\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001sql\u3067\u95b2\u89a7\u5c65\u6b74\u304c\u53d6\u5f97\u3067\u304d\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\u53c2\u8003\uff1ahttp://stackoverflow.com/questions/20458406/what-is-the-format-of-chromes-timestamps\n\nfirefox\nfirefox\u3082\u307f\u3066\u307f\u307e\u3059\n$ cd {\u4f5c\u696ddir}\n$ cp '/Users/\u81ea\u5206\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea/Library/Application Support/Firefox/Profiles/\u30e6\u30fc\u30b6\u30fc\u3054\u3068\u306b\u56fa\u6709\u306e\u5024\uff1f.default/places.sqlite' ./\n\n$ sqlite3 places.sqlite\n\n\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\n\nsqlite> .tables\ndownloads             meta                  urls\ndownloads_url_chains  segment_usage         visit_source\nkeyword_search_terms  segments              visits\n\n\u95b2\u89a7\u65e5\u6642\u3068\u95b2\u89a7url\u3092\u53d6\u5f97\n\nsqlite> select datetime(h.visit_date/1000000,'unixepoch','localtime'), p.url\n   ...> from moz_historyvisits as h\n   ...> left outer join moz_places as p on h.place_id = p.id\n   ...> order by h.id\n   ...> limit 1;\n2012-04-22 13:40:29|http://www.google.co.jp/\n\nfirefox\u306e\u65b9\u306evisit_date\u306f\u30011970/1/1 UTC\u304b\u3089\u306emicroseconds\u3067\u3059\u3002\u3053\u3061\u3089\u3082sql\u3067\u95b2\u89a7\u30ed\u30b0\u3092\u53d6\u5f97\u3067\u304d\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\n\nembulk + elasticsearch + kibana\u3067\u95b2\u89a7\u5c65\u6b74\u3092\u53ef\u8996\u5316\n\u3055\u3066\u3001\u53ef\u8996\u5316\u3068\u3044\u3048\u3070\u3001elasticsearch + kibana\u3067\u6c7a\u307e\u308a\u3067\u3057\u3087\u3046\u3002kibana\u306e\u3042\u306e\u9ed2\u3044\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u306f\u306a\u3093\u3060\u304b\u30e0\u30e9\u30e0\u30e9\u304f\u308b\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u306a\u304c\u3089\u3001elasticsearch\u306b\u7a81\u3063\u8fbc\u3080\u306b\u306f\n\nsql\u3067join\u3068\u304b\u3057\u3066\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\nurl\u306fhost\u306e\u90e8\u5206\u3060\u3051\u629c\u304d\u51fa\u3059\u3088\u3046\u52a0\u5de5\u51e6\u7406\nelasticsearch\u306eAPI\u3078http\u3067POST\u3059\u308b\n\n\u307f\u305f\u3044\u306a\u3053\u3068\u3092\u30c1\u30de\u30c1\u30de\u3084\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3046\u301c\u3093\u3002\u306a\u3093\u3060\u304b\u9762\u5012\u81ed\u305d\u3046\u3067\u3059\n\n\u305d\u3053\u3067embulk!\n\u305d\u3053\u3067\u3001\u524d\u304b\u3089\u6c17\u306b\u306a\u3063\u3066\u3044\u305fembulk\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002\n\nEmbulk \u306f\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306a\u30ed\u30b0\u53ce\u96c6\u3067\u306f\u5e38\u8b58\u3068\u306a\u3063\u305f fluentd \u306e\u30d0\u30c3\u30c1\u7248\u306e\u3088\u3046\u306a\u30c4\u30fc\u30eb\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u5438\u3044\u51fa\u3057\u3001\u5225\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30ed\u30fc\u30c9\u3059\u308b\u305f\u3081\u306e\u30b3\u30f3\u30d1\u30af\u30c8\u306a\u30c4\u30fc\u30eb\u3067\u3059\u3002\nfluentd \u3068\u540c\u69d8\u306b\u30d7\u30e9\u30b0\u30a4\u30f3\u578b\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u63a1\u7528 \u3057\u3066\u3044\u308b\u305f\u3081\u3001Ruby\u3084Java\u3067\u7c21\u5358\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3053\u3068\u3067\u3001\u69d8\u3005\u306a\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3084\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u5bfe\u5fdc\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4e00\u65b9\u3067 fluentd \u3068\u306f\u7570\u306a\u308a\u3001\u9ad8\u901f\u6027\u3084\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u5236\u5fa1\u3001\u30b9\u30ad\u30fc\u30de\u3092\u4f7f\u3063\u305f\u30c7\u30fc\u30bf\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 \u306a\u3069\u306b\u3053\u3060\u308f\u3063\u3066\u304a\u308a\u30011\u767a\u5b9f\u884c\u3001\u3042\u308b\u3044\u306f\u65e5\u6b21\u30841\u6642\u9593\u6bce\u306b\u5b9f\u884c\u3059\u308b\u30d0\u30eb\u30af\u51e6\u7406\u306b\u7279\u5316\u3057\u3066\u3044\u307e\u3059\u3002\nhttp://frsyuki.hatenablog.com/entry/2015/02/16/080150\n\n\u3068\u306e\u3053\u3068\u3067\u3059\u3002\u306a\u3093\u3060\u304b\u4eca\u56de\u306e\u7528\u9014\u306b\u4f7f\u3048\u305d\u3046\u306a\u6c17\u304c\u3057\u307e\u3059\u3002\nembulk\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3064\u3044\u3066\u3056\u3063\u3068\u8abf\u3079\u3066\u307f\u308b\u3068\u3001\n\nsqlite\u304b\u3089\u306e\u5165\u529b => embulk-input-jdbc\u30d7\u30e9\u30b0\u30a4\u30f3\nurl\u304b\u3089host\u306e\u90e8\u5206\u629c\u304d\u51fa\u3057 => embulk-filter-eval\u30d7\u30e9\u30b0\u30a4\u30f3\nelasticsearch\u3078\u306e\u51fa\u529b => embulk-output-elasticsearch\u30d7\u30e9\u30b0\u30a4\u30f3\n\n\u3068\u3044\u3063\u305f\u3082\u306e\u304c\u3059\u3067\u306b\u5b58\u5728\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001chrome\u3068firefox\u306e\u95b2\u89a7\u5c65\u6b74\u3092elasticsearch\u306b\u653e\u308a\u8fbc\u3080\u69cb\u6210\u306b\u3067\u304d\u305d\u3046\u3067\u3059\u3002\n\n\n\u305d\u308c\u305e\u308c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\n\u4e8b\u524d\u306b\u3055\u3089\u3063\u3068\u8abf\u3079\u305f\u3068\u3053\u308d\u3001embulk\u306eelasticsearch output\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u6700\u65b0ver\u304c\u307e\u3060elasticsearch\u306e2\u7cfb\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u306a\u306e\u3067\u30011\u7cfb\u306e\u6700\u65b0\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n  - https://github.com/muga/embulk-output-elasticsearch\n\nelasticsearch 1.7.4\nkibana 4.1.4\n\n\u3067\u3044\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u306a\u304a\u3001\u4ee5\u4e0b\u52d5\u304b\u3059\u306b\u306fjava\uff081.8\u4ee5\u4e0a\u63a8\u5968\uff09\u304c\u5fc5\u8981\u3067\u3059\n\nembulk\ngithub\u306ereadme\u306b\u66f8\u3044\u3066\u3042\u308b\u3068\u304a\u308a\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002embulk\u306e\u6700\u65b0\u7248\uff082015/12/22\u73fe\u5728\u30010.7.10\uff09\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002\n$ curl --create-dirs -o ~/.embulk/bin/embulk -L \"http://dl.embulk.org/embulk-latest.jar\"\n$ chmod +x ~/.embulk/bin/embulk\n$ echo 'export PATH=\"$HOME/.embulk/bin:$PATH\"' >> ~/.bashrc\n$ source ~/.bashrc\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d8\u30eb\u30d7\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\u3067\u3059\n$ embulk -h\n\n\nelasticsearch 1.7.4\n\u6b21\u306b\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3067\u3042\u308belasticsearch\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\nhttps://www.elastic.co/downloads/elasticsearch\n$ wget https://download.elastic.co/elasticsearch/elasticsearch/elasticsearch-1.7.4.zip\n$ unzip elasticsearch-1.7.4.zip\n$ cd elasticsearch-1.7.4\n\nhead\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5165\u308c\u307e\u3059\u3002\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u72b6\u6cc1\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u3055\u3089\u3063\u3068\u898b\u308c\u308b\u306e\u3067\n$ ./bin/plugin install mobz/elasticsearch-head\n\nembulk_sandbox\u3068\u3044\u3046\u30af\u30e9\u30b9\u30bf\u540d\u3067\u8d77\u52d5\u3057\u3066\u307f\u307e\u3059\n$ ./bin/elasticsearch --cluster.name=embulk_sandbox\n\n\u4ee5\u4e0b\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308c\u3070ok\u3067\u3059\nhttp://localhost:9200/_plugin/head/\n\nkibana 4.1.4\nelasticsearch\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u30ab\u30c3\u30b3\u3088\u304f\u53ef\u8996\u5316\u3067\u304d\u308bkibana\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nmac\u7248\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\nhttps://www.elastic.co/downloads/kibana\n$ wget https://download.elastic.co/kibana/kibana/kibana-4.1.4-darwin-x64.zip\n$ tar zxvf kibana-4.1.4-darwin-x64.zip\n$ cd kibana-4.1.4-darwin-x64\n$ ./bin/kibana\n\n\u4ee5\u4e0b\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308c\u3070ok\nhttp://localhost:5601/\n\nembulk\u3067\u95b2\u89a7\u5c65\u6b74\u3092elasticsearch\u306b\u6295\u5165\n\u3055\u3066\u3001\u3044\u3088\u3044\u3088embulk\u3092\u4f7f\u3063\u3066\u30c7\u30fc\u30bf\u3092elasticsearch\u306b\u6295\u5165\u3057\u3066\u307f\u307e\u3059\u3002\u307e\u305a\u306fchrome\u306e\u95b2\u89a7\u5c65\u6b74\u3092elasticsearch\u306b\u7a81\u3063\u8fbc\u3093\u3067\u307f\u307e\u3059\n\nembulk-input-jdbc\nsqlite\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\u90e8\u5206\u306b\u306f\u3001embulk-input-jdbc\u3068\u3044\u3046\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u3044\u307e\u3059\u3002\nembulk gem\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u3067\u3059\n$ embulk gem install embulk-input-jdbc\n\njdbc\u3092\u4f7f\u3046\u306e\u3067\u3001sqlite3-jdbc\u306ejar\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n$ wget https://bitbucket.org/xerial/sqlite-jdbc/downloads/sqlite-jdbc-3.8.11.2.jar\n\n\u3053\u306e\u72b6\u614b\u3067\u3001\u4ee5\u4e0b\u306eyml\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002query\u9805\u76ee\u306b\u4efb\u610f\u306esql\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4fbf\u5229\u3067\u3059\u306d\n\nchrome_config.yml\nin:\n  type: jdbc\n  driver_path: /Users/hidenorimaehara/sandbox/browser_history_search/sqlite-jdbc-3.8.11.2.jar\n  driver_class: org.sqlite.JDBC\n  url: jdbc:sqlite:History\n  query: |\n    select\n      datetime(t_v.visit_time/1000000-11644473600,'unixepoch','localtime') as visit_time,\n      t_u.url,\n      'chrome' as browser\n    from\n      visits as t_v\n        left outer join urls as t_u\n        on t_v.url = t_u.id\n    order by\n      t_v.id desc\n  column_options:\n    visit_time: {value_type: string}\n    url: {value_type: string}\n    browser: {value_type: string}\n\n\nembulk\u306epreview\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6a19\u6e96\u51fa\u529b\u306bsql\u3067\u5f15\u3063\u3053\u629c\u3044\u3066\u304d\u305f\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u307e\u3059\n$ embulk preview chrome_config.yml\n\n\nembulk-filter-eval\n\u4eca\u56de\u306e\u5206\u6790\u3067\u306furl\u306ehost\u306e\u90e8\u5206\u3060\u3051\u629c\u304d\u3060\u305d\u3046\u3068\u601d\u3044\u307e\u3059\u3002ruby\u306e\u69cb\u6587\u3092\u66f8\u3051\u308b\u30d5\u30a3\u30eb\u30bf\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n$ embulk gem install embulk-filter-eval\n\neval_columns\u306e\u9805\u76ee\u306b\u3001\u30d5\u30a3\u30eb\u30bf\u3092\u66f8\u3051\u305f\u3044\u30ab\u30e9\u30e0\u540d\u3001\u4efb\u610f\u306eruby\u69cb\u6587\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\nchrome_config.yml\nin:\n\uff08\u7565\uff09\nfilters:\n  - type: eval\n    eval_columns:\n      - url: \"require 'uri'; URI.parse(value).host\"\n\n\n$ embulk preview chrome_config.yml\n\n+---------------------+-------------------------------+----------------+\n|   visit_time:string |                    url:string | browser:string |\n+---------------------+-------------------------------+----------------+\n| 2015-12-23 05:32:12 |              www.google.co.jp |         chrome |\n| 2015-12-23 05:31:12 |              www.google.co.jp |         chrome |\n\n\u3044\u3044\u304b\u3093\u3058\u306burl\u306ehost\u306e\u90e8\u5206\u3060\u3051\u629c\u304d\u51fa\u305b\u307e\u3057\u305f\n\nembulk-output-elasticsearch\n\u6700\u5f8c\u306belasticsearch\u306boutput\u3059\u308b\u90e8\u5206\u3067\u3059\n\u307e\u305a\u306f\u3001elasticsearch\u5074\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u4f5c\u3063\u3066\u304a\u304d\u307e\u3059\u3002\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u540d\u306fembulk_browser_history\u3001type\u540d\u306fhistory\u3068\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\n$ curl -XPUT 'http://localhost:9200/embulk_browser_history' -d '{\n  \"mappings\": {\n    \"history\": {\n      \"properties\": {\n        \"visit_time\": {\n          \"type\": \"date\",\n          \"format\": \"yyyy-MM-dd HH:mm:ss\"\n        },\n        \"url\": {\n          \"type\": \"string\",\n          \"index\": \"not_analyzed\"\n        }\n      }\n    }\n  }\n}'\n\n\u30de\u30c3\u30d4\u30f3\u30b0\u304c\u4f5c\u3089\u308c\u307e\u3057\u305f\u306e\u3067\u3001\u6b21\u306bembulk\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3001embulk-output-elasticsearch\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n$ embulk gem install embulk-output-elasticsearch\n\nindex,index_type\u306b\u306f\u4e0a\u8a18\u30de\u30c3\u30d4\u30f3\u30b0\u3067\u4f5c\u6210\u3057\u305f\u3082\u306e\u3092\u6307\u5b9a\u3002cluster_name\u306b\u306f\u3001\u3055\u304d\u307b\u3069elasticsearch\u3092\u7acb\u3061\u4e0a\u3052\u305f\u969b\u306e\u30af\u30e9\u30b9\u30bf\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\n\nchrome_config.yml\nin:\n\uff08\u7565\uff09\nfilters:\n\uff08\u7565\uff09\nout:\n  type: elasticsearch\n  nodes:\n  - {host: localhost}\n  cluster_name: embulk_sandbox\n  index: embulk_browser_history\n  index_type: history\n\n\n\u3067\u306f\u3001\u3044\u3088\u3044\u3088\u7a81\u3063\u8fbc\u307f\u307e\u3059\n$ embulk run chrome_config.yml\n\nhttp://localhost:9200/_plugin/head/\n\n\u7a81\u3063\u8fbc\u3081\u305f\uff01\n\nfirefox\u306e\u95b2\u89a7\u5c65\u6b74\u3082\u7a81\u3063\u8fbc\u3093\u3058\u3083\u3044\u307e\u3057\u3087\u3046\n\u3046\u307e\u304f\u52d5\u304f\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u305f\u306e\u3067\u3001firefox\u7248\u3082\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u3001\u4e0a\u8a18\u306e\u624b\u9806\u306b\u3088\u308a\u3001chrome\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\nchrome_config.yml\n\nchrome_config.yml\nin:\n  type: jdbc\n  driver_path: /Users/hidenorimaehara/sandbox/browser_history_search/sqlite-jdbc-3.8.11.2.jar\n  driver_class: org.sqlite.JDBC\n  url: jdbc:sqlite:History\n  query: |\n    select\n      datetime(t_v.visit_time/1000000-11644473600,'unixepoch','localtime') as visit_time,\n      t_u.url,\n      'chrome' as browser\n    from\n      visits as t_v\n        left outer join urls as t_u\n        on t_v.url = t_u.id\n    order by\n      t_v.id desc\n  column_options:\n    visit_time: {value_type: string}\n    url: {value_type: string}\n    browser: {value_type: string}\nfilters:\n  - type: eval\n    eval_columns:\n      - url: \"require 'uri'; URI.parse(value).host\"\nout:\n  type: elasticsearch\n  nodes:\n  - {host: localhost}\n  cluster_name: embulk_sandbox\n  index: embulk_browser_history\n  index_type: history\n\n\n\nfirefox_config.yml\n\u4e0a\u8a18\u3092\u5143\u306b\u3001firefox\u7528\u306e\u3082\u4f5c\u308a\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30c6\u30fc\u30d6\u30eb\u69cb\u9020\u304c\u9055\u3046\u306e\u3067\u3001chrome\u306e\u3092\u5fae\u4fee\u6b63\u3059\u308b\u611f\u3058\u3067\u3059\u3002\n\nfirefox_config.yml\nin:\n  type: jdbc\n  driver_path: /Users/hidenorimaehara/sandbox/browser_history_search/sqlite-jdbc-3.8.11.2.jar\n  driver_class: org.sqlite.JDBC\n  url: jdbc:sqlite:places.sqlite\n  query: |\n    select\n      datetime(t_mh.visit_date/1000000,'unixepoch','localtime') as visit_time, \n      t_mp.url,\n      'firefox' as browser\n    from\n      moz_historyvisits as t_mh\n        left outer join moz_places as t_mp\n        on t_mh.place_id = t_mp.id\n    where\n      visit_time >= '2015-09-22 00:00:00'\n    order by\n      t_mh.id desc\n  column_options:\n    visit_time: {value_type: string}\n    url: {value_type: string}\n    browser: {value_type: string}\nfilters:\n  - type: eval\n    eval_columns:\n      - url: \"require 'uri'; URI.parse(value).host\"\nout:\n  type: elasticsearch\n  nodes:\n  - {host: localhost}\n  cluster_name: embulk_sandbox\n  index: embulk_browser_history\n  index_type: history\n\n\n\u5b9f\u884c\uff01\n$ embulk run firefox_config.yml\n\n\u3044\u3044\u611f\u3058\u306belasticsearch\u306b\u6295\u5165\u3055\u308c\u307e\u3057\u305f\uff01\nhttp://localhost:9200/_plugin/head/\n\n\nkibana\n\u3053\u3053\u307e\u3067\u3067\u304d\u308c\u3070\u3001\u3042\u3068\u306fkibana\u3092\u597d\u304d\u306a\u3088\u3046\u306b\u3044\u3058\u3063\u3066\u3001\u53ef\u8996\u5316\u3055\u308c\u305f\u7d50\u679c\u3092\u5206\u6790\u3059\u308b\u3060\u3051\u3067\u3059\u3002kibana\u3067\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u4f5c\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u306b\n\n\u30ab\u30b3\u30a4\u30a4\uff01\n\n\u76f4\u8fd11\u9031\u9593\u306e\u30d6\u30e9\u30a6\u30b6\u5225\u95b2\u89a7\u6570\n\u3044\u3088\u3044\u3088\u904e\u53bb\u306e\u81ea\u5206\u3068\u5411\u304d\u5408\u3046\u6642\u304c\u304d\u307e\u3057\u305f\u3002\u3002\u76f4\u8fd11\u9031\u9593\u306e\u30d6\u30e9\u30a6\u30b6\u5225\u95b2\u89a7\u6570\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n\u30e0\u30e0\u30c3\uff01\u3084\u305f\u3089firefox\u306e\u95b2\u89a7\u6570\u304c\u591a\u3044\u65e5\u304c\u3002\u3002\u3002\n\n\u76f4\u8fd11\u9031\u9593\u306e\u95b2\u89a7\u30b5\u30a4\u30c8top10\n\u4e00\u4f53\u3053\u306e\u65e5\u306f\u3069\u3093\u306a\u30b5\u30a4\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u3002\u76f4\u8fd11\u9031\u9593\u306e\u95b2\u89a7\u30b5\u30a4\u30c8top10\u3092\u898b\u3066\u307f\u307e\u3059\n\n\u3058\u3001\u81ea\u4e3b\u898f\u5236\uff01\n\n\u6765\u5e74\u306e\u76ee\u6a19\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u79c1\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u95b2\u89a7\u5c65\u6b74\u3092\u898b\u308b\u3053\u3068\u3067\u3001\u4eba\u751f\u306e\u68da\u5378\u3057\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u6765\u5e74\u306e\u76ee\u6a19\u306f\n\nFirefox\u306e\u95b2\u89a7\u6bd4\u7387\u309220%\u4ee5\u4e0b\u306b\u3059\u308b\n\u95b2\u89a7\u30b5\u30a4\u30c8TOP10\u3092\u3001\u4eba\u306b\u898b\u305b\u3089\u308c\u308b\u3088\u3046\u306b\u3059\u308b\n\n\u3068\u3044\u3046\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\u307f\u306a\u3055\u3093\u3082\u3054\u81ea\u8eab\u306e\u30d6\u30e9\u30a6\u30b6\u306e\u95b2\u89a7\u5c65\u6b74\u3092\u4f7f\u3063\u3066\u3001\u4eba\u751f\u306e\u68da\u5378\u3057\u3001\u3044\u304b\u304c\u3067\u3059\u304b\uff1f\n\u3053\u306e\u8a18\u4e8b\u306f\u300c[\u30a8\u30e0\u30b9\u30ea\u30fc Advent Calendar 2015](http://qiita.com/advent-calendar/2015/m3)\u300d\u306e 22\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n## \u306f\u3058\u3081\u306b\n\n\u3053\u3093\u306b\u3061\u308f\u3002\u5e74\u672b\u3067\u3059\u306d\u3002\u5e74\u672b\u3068\u3044\u3048\u3070\u4e00\u5e74\u3092\u632f\u308a\u8fd4\u308b\u3044\u3044\u6a5f\u4f1a\u3067\u3059\u306d\u3002\u610f\u8b58\u306e\u9ad8\u3044\u4eba\u305f\u3061\u304c\u300c\u4eba\u751f\u3092\u68da\u5378\u3057\u3059\u308b\u3044\u3044\u6a5f\u4f1a\u30c0\u30e8\u30c3\u2605\u300d\u306a\u3093\u3066\u8a00\u3063\u3066\u3044\u305f\u3088\u3046\u306a\u6c17\u3082\u3057\u307e\u3059\u3002\n\n\u904e\u53bb\u306e\u81ea\u5206\u3092\u632f\u308a\u66ff\u3048\u3063\u3066\u307f\u308b\u3068\u3001\u3042\u30fc\u30cd\u30c3\u30c8\u30b5\u30fc\u30d5\u30a3\u30f3\u306b\u7121\u99c4\u306a\u6642\u9593\u3092\u904e\u3054\u3057\u305f\u306a\u3041\u3002\u3002\u306a\u3093\u3066\u5f8c\u6094\u306e\u5ff5\u304c\u6e67\u3044\u3066\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3088\u304f\u8003\u3048\u3066\u307f\u308b\u3068\u3001\u81ea\u5206\u304c\u30d6\u30e9\u30a6\u30b6\u3067\u4f55\u3092\u95b2\u89a7\u3057\u3066\u3044\u305f\u306e\u304b\u3001\u304d\u3061\u3093\u3068\u632f\u308a\u8fd4\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u3044\u3044\u6a5f\u4f1a\u3067\u3059\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\n\n> \u81ea\u5206\u306e\u95b2\u89a7\u5c65\u6b74\u3092\u53ef\u8996\u5316\u3057\u3066\u5206\u6790\u3059\u308b\u57fa\u76e4\n\n\u3092\u69cb\u7bc9\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u305f\u3060\u3001\u4e00\u70b9\u30cd\u30c3\u30af\u306a\u306e\u306f\u3001\u79c1\u306f\n\n- chrome => \u30e1\u30a4\u30f3\u30d6\u30e9\u30a6\u30b6\n- firefox => \u3042\u308b\u7279\u5b9a\u306e\u7528\u9014\n\n\u3068\u3044\u3063\u305f\u3088\u3046\u306b\u30012\u3064\u306e\u30d6\u30e9\u30a6\u30b6\u3092\u6226\u7565\u7684\u306b\u4f7f\u3044\u5206\u3051\u3066\u304a\u308a\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u95b2\u89a7\u5c65\u6b74\u30c7\u30fc\u30bf\u304c\u5206\u6563\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u3002\u5206\u6563\u3057\u3066\u3057\u307e\u3063\u305fchrome\u3068firefox\u306e\u95b2\u89a7\u30ed\u30b0\u3092\u7d71\u5408\u3059\u308b\u3053\u3068\u304c\u5fc5\u9808\u8981\u4ef6\u3068\u306a\u308a\u307e\u3059\u3002\n\n## chrome\u3068firefox\u306e\u95b2\u89a7\u5c65\u6b74\n\n\u5c11\u3057\u8abf\u3079\u3066\u307f\u308b\u3068\u3001mac\u3067\u3059\u3068\u3001chrome\u3068firefox\u306e\u95b2\u89a7\u5c65\u6b74\u306fsqlite\u306eDB\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\n- chrome\n  - `/Users/\u81ea\u5206\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea/Library/Application Support/Google/Chrome/Default/History`\n- firefox\n  - `/Users/\u81ea\u5206\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea/Library/Application Support/Firefox/Profiles/\u30e6\u30fc\u30b6\u30fc\u3054\u3068\u306b\u56fa\u6709\u306e\u5024\uff1f.default/places.sqlite`\n\n### chrome\n\n\u305d\u306e\u307e\u307e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u3044\u3058\u308b\u306e\u306f\u306a\u3093\u3060\u304b\u6016\u3044\u306e\u3067\u3001\u305d\u308c\u305e\u308c\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3057\u3066\u4e2d\u8eab\u3092\u307f\u3066\u307f\u307e\u3059\n\n```\n$ cd {\u4f5c\u696ddir}\n$ cp '/Users/\u81ea\u5206\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea/Library/Application Support/Google/Chrome/Default/History' ./\n```\n\n```\n$ sqlite3 History\n\n\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\n\nsqlite> .tables\ndownloads             meta                  urls\ndownloads_url_chains  segment_usage         visit_source\nkeyword_search_terms  segments              visits\n\n\u95b2\u89a7\u65e5\u6642\u3068\u95b2\u89a7url\u3092\u53d6\u5f97\n\nsqlite> select datetime(v.visit_time/1000000-11644473600,'unixepoch','localtime') as visit_time, u.url\n   ...> from visits as v\n   ...> left outer join urls as u on v.url = u.id\n   ...> order by v.id\n   ...> limit 1;\n2015-09-24 22:05:25|https://www.google.co.jp/\n```\n\nvisit_time\u304c1601/1/1 UTC\u304b\u3089\u306emicroseconds\u306a\u306e\u3067\u3001datetime\u95a2\u6570\u3067\u3088\u308d\u3057\u304f\u51e6\u7406\u3057\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001sql\u3067\u95b2\u89a7\u5c65\u6b74\u304c\u53d6\u5f97\u3067\u304d\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u53c2\u8003\uff1ahttp://stackoverflow.com/questions/20458406/what-is-the-format-of-chromes-timestamps\n\n### firefox\n\nfirefox\u3082\u307f\u3066\u307f\u307e\u3059\n\n```\n$ cd {\u4f5c\u696ddir}\n$ cp '/Users/\u81ea\u5206\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea/Library/Application Support/Firefox/Profiles/\u30e6\u30fc\u30b6\u30fc\u3054\u3068\u306b\u56fa\u6709\u306e\u5024\uff1f.default/places.sqlite' ./\n```\n\n```\n$ sqlite3 places.sqlite\n\n\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\n\nsqlite> .tables\ndownloads             meta                  urls\ndownloads_url_chains  segment_usage         visit_source\nkeyword_search_terms  segments              visits\n\n\u95b2\u89a7\u65e5\u6642\u3068\u95b2\u89a7url\u3092\u53d6\u5f97\n\nsqlite> select datetime(h.visit_date/1000000,'unixepoch','localtime'), p.url\n   ...> from moz_historyvisits as h\n   ...> left outer join moz_places as p on h.place_id = p.id\n   ...> order by h.id\n   ...> limit 1;\n2012-04-22 13:40:29|http://www.google.co.jp/\n```\n\nfirefox\u306e\u65b9\u306evisit_date\u306f\u30011970/1/1 UTC\u304b\u3089\u306emicroseconds\u3067\u3059\u3002\u3053\u3061\u3089\u3082sql\u3067\u95b2\u89a7\u30ed\u30b0\u3092\u53d6\u5f97\u3067\u304d\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\n\n## embulk + elasticsearch + kibana\u3067\u95b2\u89a7\u5c65\u6b74\u3092\u53ef\u8996\u5316\n\n\u3055\u3066\u3001\u53ef\u8996\u5316\u3068\u3044\u3048\u3070\u3001elasticsearch + kibana\u3067\u6c7a\u307e\u308a\u3067\u3057\u3087\u3046\u3002kibana\u306e\u3042\u306e\u9ed2\u3044\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u306f\u306a\u3093\u3060\u304b\u30e0\u30e9\u30e0\u30e9\u304f\u308b\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u306a\u304c\u3089\u3001elasticsearch\u306b\u7a81\u3063\u8fbc\u3080\u306b\u306f\n\n- sql\u3067join\u3068\u304b\u3057\u3066\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\n- url\u306fhost\u306e\u90e8\u5206\u3060\u3051\u629c\u304d\u51fa\u3059\u3088\u3046\u52a0\u5de5\u51e6\u7406\n- elasticsearch\u306eAPI\u3078http\u3067POST\u3059\u308b\n\n\u307f\u305f\u3044\u306a\u3053\u3068\u3092\u30c1\u30de\u30c1\u30de\u3084\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3046\u301c\u3093\u3002\u306a\u3093\u3060\u304b\u9762\u5012\u81ed\u305d\u3046\u3067\u3059\n\n\n### \u305d\u3053\u3067embulk!\n\n\u305d\u3053\u3067\u3001\u524d\u304b\u3089\u6c17\u306b\u306a\u3063\u3066\u3044\u305f[embulk](https://github.com/embulk/embulk)\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002\n\n> Embulk \u306f\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306a\u30ed\u30b0\u53ce\u96c6\u3067\u306f\u5e38\u8b58\u3068\u306a\u3063\u305f fluentd \u306e\u30d0\u30c3\u30c1\u7248\u306e\u3088\u3046\u306a\u30c4\u30fc\u30eb\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u5438\u3044\u51fa\u3057\u3001\u5225\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30ed\u30fc\u30c9\u3059\u308b\u305f\u3081\u306e\u30b3\u30f3\u30d1\u30af\u30c8\u306a\u30c4\u30fc\u30eb\u3067\u3059\u3002\n>\n>fluentd \u3068\u540c\u69d8\u306b\u30d7\u30e9\u30b0\u30a4\u30f3\u578b\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u63a1\u7528 \u3057\u3066\u3044\u308b\u305f\u3081\u3001Ruby\u3084Java\u3067\u7c21\u5358\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3053\u3068\u3067\u3001\u69d8\u3005\u306a\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3084\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u5bfe\u5fdc\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4e00\u65b9\u3067 fluentd \u3068\u306f\u7570\u306a\u308a\u3001\u9ad8\u901f\u6027\u3084\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u5236\u5fa1\u3001\u30b9\u30ad\u30fc\u30de\u3092\u4f7f\u3063\u305f\u30c7\u30fc\u30bf\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 \u306a\u3069\u306b\u3053\u3060\u308f\u3063\u3066\u304a\u308a\u30011\u767a\u5b9f\u884c\u3001\u3042\u308b\u3044\u306f\u65e5\u6b21\u30841\u6642\u9593\u6bce\u306b\u5b9f\u884c\u3059\u308b\u30d0\u30eb\u30af\u51e6\u7406\u306b\u7279\u5316\u3057\u3066\u3044\u307e\u3059\u3002\n>\n> http://frsyuki.hatenablog.com/entry/2015/02/16/080150\n\n\u3068\u306e\u3053\u3068\u3067\u3059\u3002\u306a\u3093\u3060\u304b\u4eca\u56de\u306e\u7528\u9014\u306b\u4f7f\u3048\u305d\u3046\u306a\u6c17\u304c\u3057\u307e\u3059\u3002\n\nembulk\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3064\u3044\u3066\u3056\u3063\u3068\u8abf\u3079\u3066\u307f\u308b\u3068\u3001\n\n- sqlite\u304b\u3089\u306e\u5165\u529b => embulk-input-jdbc\u30d7\u30e9\u30b0\u30a4\u30f3\n- url\u304b\u3089host\u306e\u90e8\u5206\u629c\u304d\u51fa\u3057 => embulk-filter-eval\u30d7\u30e9\u30b0\u30a4\u30f3\n- elasticsearch\u3078\u306e\u51fa\u529b => embulk-output-elasticsearch\u30d7\u30e9\u30b0\u30a4\u30f3\n\n\u3068\u3044\u3063\u305f\u3082\u306e\u304c\u3059\u3067\u306b\u5b58\u5728\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001chrome\u3068firefox\u306e\u95b2\u89a7\u5c65\u6b74\u3092elasticsearch\u306b\u653e\u308a\u8fbc\u3080\u69cb\u6210\u306b\u3067\u304d\u305d\u3046\u3067\u3059\u3002\n\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-22 23.17.27.png](https://qiita-image-store.s3.amazonaws.com/0/4506/4b7815fa-bbdd-e98b-e607-bf69d9316571.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-22 23.17.27.png\")\n\n\n\n## \u305d\u308c\u305e\u308c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\n\n\u4e8b\u524d\u306b\u3055\u3089\u3063\u3068\u8abf\u3079\u305f\u3068\u3053\u308d\u3001embulk\u306eelasticsearch output\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u6700\u65b0ver\u304c\u307e\u3060elasticsearch\u306e2\u7cfb\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u306a\u306e\u3067\u30011\u7cfb\u306e\u6700\u65b0\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n  - https://github.com/muga/embulk-output-elasticsearch\n\n- elasticsearch 1.7.4\n- kibana 4.1.4\n\n\u3067\u3044\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u306a\u304a\u3001\u4ee5\u4e0b\u52d5\u304b\u3059\u306b\u306fjava\uff081.8\u4ee5\u4e0a\u63a8\u5968\uff09\u304c\u5fc5\u8981\u3067\u3059\n\n### embulk\n\ngithub\u306ereadme\u306b\u66f8\u3044\u3066\u3042\u308b\u3068\u304a\u308a\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002embulk\u306e\u6700\u65b0\u7248\uff082015/12/22\u73fe\u5728\u30010.7.10\uff09\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002\n\n```\n$ curl --create-dirs -o ~/.embulk/bin/embulk -L \"http://dl.embulk.org/embulk-latest.jar\"\n$ chmod +x ~/.embulk/bin/embulk\n$ echo 'export PATH=\"$HOME/.embulk/bin:$PATH\"' >> ~/.bashrc\n$ source ~/.bashrc\n```\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d8\u30eb\u30d7\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\u3067\u3059\n\n```\n$ embulk -h\n```\n\n\n### elasticsearch 1.7.4\n\n\u6b21\u306b\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3067\u3042\u308belasticsearch\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n\nhttps://www.elastic.co/downloads/elasticsearch\n\n```\n$ wget https://download.elastic.co/elasticsearch/elasticsearch/elasticsearch-1.7.4.zip\n$ unzip elasticsearch-1.7.4.zip\n$ cd elasticsearch-1.7.4\n\nhead\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5165\u308c\u307e\u3059\u3002\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u72b6\u6cc1\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u3055\u3089\u3063\u3068\u898b\u308c\u308b\u306e\u3067\n$ ./bin/plugin install mobz/elasticsearch-head\n\nembulk_sandbox\u3068\u3044\u3046\u30af\u30e9\u30b9\u30bf\u540d\u3067\u8d77\u52d5\u3057\u3066\u307f\u307e\u3059\n$ ./bin/elasticsearch --cluster.name=embulk_sandbox\n```\n\n\u4ee5\u4e0b\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308c\u3070ok\u3067\u3059\n\nhttp://localhost:9200/_plugin/head/\n\n\n### kibana 4.1.4\n\nelasticsearch\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u30ab\u30c3\u30b3\u3088\u304f\u53ef\u8996\u5316\u3067\u304d\u308bkibana\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\nmac\u7248\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\n\nhttps://www.elastic.co/downloads/kibana\n\n```\n$ wget https://download.elastic.co/kibana/kibana/kibana-4.1.4-darwin-x64.zip\n$ tar zxvf kibana-4.1.4-darwin-x64.zip\n$ cd kibana-4.1.4-darwin-x64\n$ ./bin/kibana\n```\n\n\u4ee5\u4e0b\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308c\u3070ok\n\nhttp://localhost:5601/\n\n## embulk\u3067\u95b2\u89a7\u5c65\u6b74\u3092elasticsearch\u306b\u6295\u5165\n\n\u3055\u3066\u3001\u3044\u3088\u3044\u3088embulk\u3092\u4f7f\u3063\u3066\u30c7\u30fc\u30bf\u3092elasticsearch\u306b\u6295\u5165\u3057\u3066\u307f\u307e\u3059\u3002\u307e\u305a\u306fchrome\u306e\u95b2\u89a7\u5c65\u6b74\u3092elasticsearch\u306b\u7a81\u3063\u8fbc\u3093\u3067\u307f\u307e\u3059\n\n### embulk-input-jdbc\n\nsqlite\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\u90e8\u5206\u306b\u306f\u3001embulk-input-jdbc\u3068\u3044\u3046\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u3044\u307e\u3059\u3002\n\nembulk gem\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u3067\u3059\n\n```\n$ embulk gem install embulk-input-jdbc\n```\n\njdbc\u3092\u4f7f\u3046\u306e\u3067\u3001sqlite3-jdbc\u306ejar\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n```\n$ wget https://bitbucket.org/xerial/sqlite-jdbc/downloads/sqlite-jdbc-3.8.11.2.jar\n```\n\n\u3053\u306e\u72b6\u614b\u3067\u3001\u4ee5\u4e0b\u306eyml\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002query\u9805\u76ee\u306b\u4efb\u610f\u306esql\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4fbf\u5229\u3067\u3059\u306d\n\n```yml:chrome_config.yml\nin:\n  type: jdbc\n  driver_path: /Users/hidenorimaehara/sandbox/browser_history_search/sqlite-jdbc-3.8.11.2.jar\n  driver_class: org.sqlite.JDBC\n  url: jdbc:sqlite:History\n  query: |\n    select\n      datetime(t_v.visit_time/1000000-11644473600,'unixepoch','localtime') as visit_time,\n      t_u.url,\n      'chrome' as browser\n    from\n      visits as t_v\n        left outer join urls as t_u\n        on t_v.url = t_u.id\n    order by\n      t_v.id desc\n  column_options:\n    visit_time: {value_type: string}\n    url: {value_type: string}\n    browser: {value_type: string}\n```\n\nembulk\u306epreview\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6a19\u6e96\u51fa\u529b\u306bsql\u3067\u5f15\u3063\u3053\u629c\u3044\u3066\u304d\u305f\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u307e\u3059\n\n```\n$ embulk preview chrome_config.yml\n```\n\n\n\n### embulk-filter-eval\n\n\u4eca\u56de\u306e\u5206\u6790\u3067\u306furl\u306ehost\u306e\u90e8\u5206\u3060\u3051\u629c\u304d\u3060\u305d\u3046\u3068\u601d\u3044\u307e\u3059\u3002ruby\u306e\u69cb\u6587\u3092\u66f8\u3051\u308b\u30d5\u30a3\u30eb\u30bf\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n```\n$ embulk gem install embulk-filter-eval\n```\n\neval_columns\u306e\u9805\u76ee\u306b\u3001\u30d5\u30a3\u30eb\u30bf\u3092\u66f8\u3051\u305f\u3044\u30ab\u30e9\u30e0\u540d\u3001\u4efb\u610f\u306eruby\u69cb\u6587\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```yml:chrome_config.yml\nin:\n\uff08\u7565\uff09\nfilters:\n  - type: eval\n    eval_columns:\n      - url: \"require 'uri'; URI.parse(value).host\"\n```\n\n```\n$ embulk preview chrome_config.yml\n\n+---------------------+-------------------------------+----------------+\n|   visit_time:string |                    url:string | browser:string |\n+---------------------+-------------------------------+----------------+\n| 2015-12-23 05:32:12 |              www.google.co.jp |         chrome |\n| 2015-12-23 05:31:12 |              www.google.co.jp |         chrome |\n```\n\n\u3044\u3044\u304b\u3093\u3058\u306burl\u306ehost\u306e\u90e8\u5206\u3060\u3051\u629c\u304d\u51fa\u305b\u307e\u3057\u305f\n\n### embulk-output-elasticsearch\n\n\u6700\u5f8c\u306belasticsearch\u306boutput\u3059\u308b\u90e8\u5206\u3067\u3059\n\n\u307e\u305a\u306f\u3001elasticsearch\u5074\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u4f5c\u3063\u3066\u304a\u304d\u307e\u3059\u3002\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u540d\u306fembulk_browser_history\u3001type\u540d\u306fhistory\u3068\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\n\n\n```bash\n$ curl -XPUT 'http://localhost:9200/embulk_browser_history' -d '{\n  \"mappings\": {\n    \"history\": {\n      \"properties\": {\n        \"visit_time\": {\n          \"type\": \"date\",\n          \"format\": \"yyyy-MM-dd HH:mm:ss\"\n        },\n        \"url\": {\n          \"type\": \"string\",\n          \"index\": \"not_analyzed\"\n        }\n      }\n    }\n  }\n}'\n```\n\n\u30de\u30c3\u30d4\u30f3\u30b0\u304c\u4f5c\u3089\u308c\u307e\u3057\u305f\u306e\u3067\u3001\u6b21\u306bembulk\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3001embulk-output-elasticsearch\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n\n```\n$ embulk gem install embulk-output-elasticsearch\n```\n\nindex,index_type\u306b\u306f\u4e0a\u8a18\u30de\u30c3\u30d4\u30f3\u30b0\u3067\u4f5c\u6210\u3057\u305f\u3082\u306e\u3092\u6307\u5b9a\u3002cluster_name\u306b\u306f\u3001\u3055\u304d\u307b\u3069elasticsearch\u3092\u7acb\u3061\u4e0a\u3052\u305f\b\u969b\u306e\u30af\u30e9\u30b9\u30bf\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\n\n```yml:chrome_config.yml\nin:\n\uff08\u7565\uff09\nfilters:\n\uff08\u7565\uff09\nout:\n  type: elasticsearch\n  nodes:\n  - {host: localhost}\n  cluster_name: embulk_sandbox\n  index: embulk_browser_history\n  index_type: history\n```\n\n\n\u3067\u306f\u3001\u3044\u3088\u3044\u3088\u7a81\u3063\u8fbc\u307f\u307e\u3059\n\n```\n$ embulk run chrome_config.yml\n```\n\nhttp://localhost:9200/_plugin/head/\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-23 6.10.43.png](https://qiita-image-store.s3.amazonaws.com/0/4506/578fcd2c-6545-ef3d-d10a-44809aabd024.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-23 6.10.43.png\")\n\n\n\u7a81\u3063\u8fbc\u3081\u305f\uff01\n\n### firefox\u306e\u95b2\u89a7\u5c65\u6b74\u3082\u7a81\u3063\u8fbc\u3093\u3058\u3083\u3044\u307e\u3057\u3087\u3046\n\n\u3046\u307e\u304f\u52d5\u304f\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u305f\u306e\u3067\u3001firefox\u7248\u3082\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u3001\u4e0a\u8a18\u306e\u624b\u9806\u306b\u3088\u308a\u3001chrome\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n#### chrome_config.yml\n\n```yml:chrome_config.yml\nin:\n  type: jdbc\n  driver_path: /Users/hidenorimaehara/sandbox/browser_history_search/sqlite-jdbc-3.8.11.2.jar\n  driver_class: org.sqlite.JDBC\n  url: jdbc:sqlite:History\n  query: |\n    select\n      datetime(t_v.visit_time/1000000-11644473600,'unixepoch','localtime') as visit_time,\n      t_u.url,\n      'chrome' as browser\n    from\n      visits as t_v\n        left outer join urls as t_u\n        on t_v.url = t_u.id\n    order by\n      t_v.id desc\n  column_options:\n    visit_time: {value_type: string}\n    url: {value_type: string}\n    browser: {value_type: string}\nfilters:\n  - type: eval\n    eval_columns:\n      - url: \"require 'uri'; URI.parse(value).host\"\nout:\n  type: elasticsearch\n  nodes:\n  - {host: localhost}\n  cluster_name: embulk_sandbox\n  index: embulk_browser_history\n  index_type: history\n```\n\n#### firefox_config.yml\n\n\u4e0a\u8a18\u3092\u5143\u306b\u3001firefox\u7528\u306e\u3082\u4f5c\u308a\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30c6\u30fc\u30d6\u30eb\u69cb\u9020\u304c\u9055\u3046\u306e\u3067\u3001chrome\u306e\u3092\u5fae\u4fee\u6b63\u3059\u308b\u611f\u3058\u3067\u3059\u3002\n\n```yml:firefox_config.yml\nin:\n  type: jdbc\n  driver_path: /Users/hidenorimaehara/sandbox/browser_history_search/sqlite-jdbc-3.8.11.2.jar\n  driver_class: org.sqlite.JDBC\n  url: jdbc:sqlite:places.sqlite\n  query: |\n    select\n      datetime(t_mh.visit_date/1000000,'unixepoch','localtime') as visit_time, \n      t_mp.url,\n      'firefox' as browser\n    from\n      moz_historyvisits as t_mh\n        left outer join moz_places as t_mp\n        on t_mh.place_id = t_mp.id\n    where\n      visit_time >= '2015-09-22 00:00:00'\n    order by\n      t_mh.id desc\n  column_options:\n    visit_time: {value_type: string}\n    url: {value_type: string}\n    browser: {value_type: string}\nfilters:\n  - type: eval\n    eval_columns:\n      - url: \"require 'uri'; URI.parse(value).host\"\nout:\n  type: elasticsearch\n  nodes:\n  - {host: localhost}\n  cluster_name: embulk_sandbox\n  index: embulk_browser_history\n  index_type: history\n```\n\n\u5b9f\u884c\uff01\n\n```\n$ embulk run firefox_config.yml\n```\n\n\u3044\u3044\u611f\u3058\u306belasticsearch\u306b\u6295\u5165\u3055\u308c\u307e\u3057\u305f\uff01\n\nhttp://localhost:9200/_plugin/head/\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-23 0.21.02.png](https://qiita-image-store.s3.amazonaws.com/0/4506/d5139f06-9455-3270-8d5d-f6b0aef44092.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-23 0.21.02.png\")\n\n\n\n\n\n## kibana\n\n\u3053\u3053\u307e\u3067\u3067\u304d\u308c\u3070\u3001\u3042\u3068\u306fkibana\u3092\u597d\u304d\u306a\u3088\u3046\u306b\u3044\u3058\u3063\u3066\u3001\u53ef\u8996\u5316\u3055\u308c\u305f\u7d50\u679c\u3092\u5206\u6790\u3059\u308b\u3060\u3051\u3067\u3059\u3002kibana\u3067\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u4f5c\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u306b\n\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-23 0.42.31.png](https://qiita-image-store.s3.amazonaws.com/0/4506/169bf87f-19d0-a6f7-4ee1-3ca3b4b7ab3c.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-23 0.42.31.png\")\n\n\u30ab\u30b3\u30a4\u30a4\uff01\n\n### \u76f4\u8fd11\u9031\u9593\u306e\u30d6\u30e9\u30a6\u30b6\u5225\u95b2\u89a7\u6570\n\n\u3044\u3088\u3044\u3088\u904e\u53bb\u306e\u81ea\u5206\u3068\u5411\u304d\u5408\u3046\u6642\u304c\u304d\u307e\u3057\u305f\u3002\u3002\u76f4\u8fd11\u9031\u9593\u306e\u30d6\u30e9\u30a6\u30b6\u5225\u95b2\u89a7\u6570\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-23 0.12.47.png](https://qiita-image-store.s3.amazonaws.com/0/4506/e989168d-1274-783e-dc68-6d20b59265de.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-23 0.12.47.png\")\n\n\u30e0\u30e0\u30c3\uff01\u3084\u305f\u3089firefox\u306e\u95b2\u89a7\u6570\u304c\u591a\u3044\u65e5\u304c\u3002\u3002\u3002\n\n### \u76f4\u8fd11\u9031\u9593\u306e\u95b2\u89a7\u30b5\u30a4\u30c8top10\n\n\u4e00\u4f53\u3053\u306e\u65e5\u306f\u3069\u3093\u306a\u30b5\u30a4\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u3002\u76f4\u8fd11\u9031\u9593\u306e\u95b2\u89a7\u30b5\u30a4\u30c8top10\u3092\u898b\u3066\u307f\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-23 0.12.54.png](https://qiita-image-store.s3.amazonaws.com/0/4506/3b5ee99b-d90c-d830-ad25-f3d5d3a28e00.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-23 0.12.54.png\")\n\n\u3058\u3001\u81ea\u4e3b\u898f\u5236\uff01\n\n## \u6765\u5e74\u306e\u76ee\u6a19\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u79c1\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u95b2\u89a7\u5c65\u6b74\u3092\u898b\u308b\u3053\u3068\u3067\u3001\u4eba\u751f\u306e\u68da\u5378\u3057\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u6765\u5e74\u306e\u76ee\u6a19\u306f\n\n- Firefox\u306e\u95b2\u89a7\u6bd4\u7387\u309220%\u4ee5\u4e0b\u306b\u3059\u308b\n- \u95b2\u89a7\u30b5\u30a4\u30c8TOP10\u3092\u3001\u4eba\u306b\u898b\u305b\u3089\u308c\u308b\u3088\u3046\u306b\u3059\u308b\n\n\u3068\u3044\u3046\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\n\u307f\u306a\u3055\u3093\u3082\u3054\u81ea\u8eab\u306e\u30d6\u30e9\u30a6\u30b6\u306e\u95b2\u89a7\u5c65\u6b74\u3092\u4f7f\u3063\u3066\u3001\u4eba\u751f\u306e\u68da\u5378\u3057\u3001\u3044\u304b\u304c\u3067\u3059\u304b\uff1f\n", "tags": ["Embulk", "Elasticsearch", "kibana"]}