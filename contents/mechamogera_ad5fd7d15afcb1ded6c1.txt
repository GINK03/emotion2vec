{"tags": ["passenger4.0.2"], "context": " More than 1 year has passed since last update.\nPassenger\u30d7\u30ed\u30bb\u30b9\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306bSIGUSR1\u3067kill\u3059\u308b\u3068graceful\u306b\u505c\u6b62\u3059\u308b\u307f\u305f\u3044\u306a\u306e\u3067\u5b9f\u9a13\u3057\u3066\u78ba\u8a8d\u3057\u305f\n\n\n\u53c2\u7167\uff1aThe Road to Passenger 3: Technology Preview 2 \u2013 Stability, robustness, availability, self-healing \u2013 Phusion Corporate Blog(\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u8a18\u8ff0\u304c\u3042\u307e\u308a\u898b\u3064\u3051\u3089\u308c\u306a\u304b\u3063\u305f)\n\n\npassenger-status\u30b3\u30de\u30f3\u30c9\u306a\u3069\u3067\u30d7\u30ed\u30bb\u30b9\u306e\u30e1\u30e2\u30ea\u76e3\u8996\u3057\u3066\u81ea\u524d\u3067kill\u3059\u308b\u4ed5\u7d44\u307f\u3092\u4f5c\u308c\u308b\u304b\u3082\n\n\n\u3057\u304b\u3057\u3001\u9023\u7d9a\u30a2\u30af\u30bb\u30b9\u3067500\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u3089\u3057\u3044(Passenger\u3092\u518d\u8d77\u52d5\u3055\u305b\u308b\u3068500\u30a8\u30e9\u30fc - Qiita)\n\n\n\u6570\u5024\u5f0f\u306ekill (kill -10 PID\u306a\u3069)\u306fOS\u306b\u3088\u3063\u3066\u610f\u5473\u304c\u3053\u3068\u306a\u308b\u306e\u3067\u6b62\u3081\u305f\u65b9\u304c\u826f\u3044\n\n$ kill -SIGUSR1 PID\n\n\n\u5b9f\u9a13\u74b0\u5883\n\nAmazon Linux 2013.03\nhttpd-2.2.25-1.0\nrvm 1.21.6\nruby 1.9.3p448\nrails 3.2.13\npassenger 4.0.2\n\n\n\u5b9f\u9a13\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u3059\u308bcontroller\u3092\u6301\u3064\u9069\u5f53\u306arails\u30a2\u30d7\u30ea\u3092\u6e96\u5099\n\ndef test\n  sleep 30\n  render :text => \"hogehoge\"\nend\n\n\nApache\u3068passenger\u3092\u8a2d\u5b9a(passenger\u306e\u8a2d\u5b9a\u3068\u3057\u3066\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u305f)\n\nPassengerMaxPoolSize 2\nPassengerMinInstances 2\n\n\nWeb\u3067\u4f5c\u6210\u3057\u305fcontroller\u3078\u306e\u30d1\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\n\u51e6\u7406\u3057\u3066\u3044\u308b\u9593\u306bpassenger-status\u30b3\u30de\u30f3\u30c9\u3067PID\u3092\u78ba\u8a8d\u3057\u4ee5\u4e0b\u306e\u3088\u3046\u306bkill(2\u30d7\u30ed\u30bb\u30b9\u3068\u3082)\n\n$ kill -SIGUSR1 PID\n\n\n\u7d50\u679c\n\n\n=> Web\u3067hogehoge\u304c\u8fd4\u308b\u3053\u3068\u3092\u78ba\u8a8d\n=> passenger-status\u3067\u30d7\u30ed\u30bb\u30b9\u304c2\u3064\u3068\u3082\u5165\u308c\u66ff\u308f\u308b\u3053\u3068\u3092\u78ba\u8a8d\n=> kill -SIGTERM\u3059\u308b\u3068\u9014\u4e2d\u3067Internal Server Error\u767a\u751f\n\n\n\n * Passenger\u30d7\u30ed\u30bb\u30b9\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306bSIGUSR1\u3067kill\u3059\u308b\u3068graceful\u306b\u505c\u6b62\u3059\u308b\u307f\u305f\u3044\u306a\u306e\u3067\u5b9f\u9a13\u3057\u3066\u78ba\u8a8d\u3057\u305f\n  * \u53c2\u7167\uff1a[The Road to Passenger 3: Technology Preview 2 \u2013 Stability, robustness, availability, self-healing \u2013 Phusion Corporate Blog](http://blog.phusion.nl/2010/06/18/the-road-to-passenger-3-technology-preview-2-stability-robustness-availability-self-healing/)(\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u8a18\u8ff0\u304c\u3042\u307e\u308a\u898b\u3064\u3051\u3089\u308c\u306a\u304b\u3063\u305f)\n * passenger-status\u30b3\u30de\u30f3\u30c9\u306a\u3069\u3067\u30d7\u30ed\u30bb\u30b9\u306e\u30e1\u30e2\u30ea\u76e3\u8996\u3057\u3066\u81ea\u524d\u3067kill\u3059\u308b\u4ed5\u7d44\u307f\u3092\u4f5c\u308c\u308b\u304b\u3082\n  * \u3057\u304b\u3057\u3001\u9023\u7d9a\u30a2\u30af\u30bb\u30b9\u3067500\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u3089\u3057\u3044([Passenger\u3092\u518d\u8d77\u52d5\u3055\u305b\u308b\u3068500\u30a8\u30e9\u30fc - Qiita](http://qiita.com/ionis_h/items/5b80898d4b33acfae666))\n * \u6570\u5024\u5f0f\u306ekill (kill -10 PID\u306a\u3069)\u306fOS\u306b\u3088\u3063\u3066\u610f\u5473\u304c\u3053\u3068\u306a\u308b\u306e\u3067\u6b62\u3081\u305f\u65b9\u304c\u826f\u3044\n\n```bash:\n$ kill -SIGUSR1 PID\n```\n\n## \u5b9f\u9a13\u74b0\u5883\n\n * Amazon Linux 2013.03\n * httpd-2.2.25-1.0\n * rvm 1.21.6\n * ruby 1.9.3p448\n * rails 3.2.13\n * passenger 4.0.2\n\n## \u5b9f\u9a13\n\n * \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u3059\u308bcontroller\u3092\u6301\u3064\u9069\u5f53\u306arails\u30a2\u30d7\u30ea\u3092\u6e96\u5099\n\n```rb:\ndef test\n  sleep 30\n  render :text => \"hogehoge\"\nend\n```\n\n * Apache\u3068passenger\u3092\u8a2d\u5b9a(passenger\u306e\u8a2d\u5b9a\u3068\u3057\u3066\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u305f)\n\n```apache:\nPassengerMaxPoolSize 2\nPassengerMinInstances 2\n```\n\n * Web\u3067\u4f5c\u6210\u3057\u305fcontroller\u3078\u306e\u30d1\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\n * \u51e6\u7406\u3057\u3066\u3044\u308b\u9593\u306bpassenger-status\u30b3\u30de\u30f3\u30c9\u3067PID\u3092\u78ba\u8a8d\u3057\u4ee5\u4e0b\u306e\u3088\u3046\u306bkill(2\u30d7\u30ed\u30bb\u30b9\u3068\u3082)\n\n```bash:\n$ kill -SIGUSR1 PID\n```\n\n * \u7d50\u679c\n  * => Web\u3067hogehoge\u304c\u8fd4\u308b\u3053\u3068\u3092\u78ba\u8a8d\n  * => passenger-status\u3067\u30d7\u30ed\u30bb\u30b9\u304c2\u3064\u3068\u3082\u5165\u308c\u66ff\u308f\u308b\u3053\u3068\u3092\u78ba\u8a8d\n  * => kill -SIGTERM\u3059\u308b\u3068\u9014\u4e2d\u3067Internal Server Error\u767a\u751f\n"}