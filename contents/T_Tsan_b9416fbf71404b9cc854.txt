{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nLDAP\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u5168\u54e1\u306bSSH\u30ed\u30b0\u30a4\u30f3\u3092\u8a31\u53ef\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\n\u7279\u306b\u3001\u30c6\u30b9\u30c8\u30b5\u30fc\u30d0\u30fc\u3068\u672c\u756a\u30b5\u30fc\u30d0\u30fc\u306a\u3069\u3001\u30b5\u30fc\u30d0\u30fc\u74b0\u5883\u304c\u5206\u304b\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u672c\u756a\u30b5\u30fc\u30d0\u30fc\u306b\u306f\u7279\u5b9a\u306e\u30e6\u30fc\u30b6\u30fc\u3057\u304b\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u306a\u3044\u3088\u3046\u306b\u3059\u308b\n\u3053\u306e\u969b\u3001\u300cdescription\u300d\u5c5e\u6027\u3092\u4f7f\u7528\u3057\u3001\u5236\u9650\u3092\u304b\u3051\u308b\n\n\u524d\u63d0\n\n\u90e8\u9577\u3068\u30b7\u30b9\u30c6\u30e0\u904b\u7528\u8ab2\u306e\u8ab2\u9577\u3068\u793e\u54e1\u306f\u3001\u672c\u756a\u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u6301\u3064\n\u90e8\u9577\u3068\u30b7\u30b9\u30c6\u30e0\u958b\u767a\u8ab2\u306e\u8ab2\u9577\u3068\u793e\u54e1\u306f\u3001\u30c6\u30b9\u30c8\u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u6301\u3064\n\n\nLDAP\u30b5\u30fc\u30d0\u30fc\u306b\u5404\u30e6\u30fc\u30b6\u30fc\u306e\u6a29\u9650\u3092\u8a2d\u5b9a\u3059\u308b\n\n/etc/openldap/ldif/auth.ldif\n# \u90e8\u9577\uff1a\u6b66\u7530 \u8cb4\u5f66\ndn: uid=takahiko.takeda,dc=People,dc=example,dc=com\nchangetype: modify\nadd: description\ndescription: production\n-\nadd: description\ndescription: development\n\n# \u958b\u767a\u8ab2 \u8ab2\u9577\uff1a\u6a2a\u5c71 \u771f\u4e5f\ndn: uid=shinya.yokoyama,dc=People,dc=example,dc=com\nchangetype: modify\nadd: description\ndescription: development\n\n# \u904b\u7528\u8ab2 \u8ab2\u9577\uff1a\u4e95\u4e0a \u4fee\ndn: uid=osamu.inoue,dc=People,dc=example,dc=com\nchangetype: modify\nadd: description\ndescription: production\n\n# \u958b\u767a\u8ab2 \u793e\u54e1\uff1a\u77f3\u5ddd \u76f4\u6a39\ndn: uid=naoki.ishikawa,dc=People,dc=example,dc=com\nchangetype: modify\nadd: description\ndescription: development\n\n# \u904b\u7528\u8ab2 \u793e\u54e1\uff1a\u7530\u6751 \u548c\u592b\ndn: uid=kazuo.tamura,dc=People,dc=example,dc=com\nchangetype: modify\nadd: description\ndescription: production\n\n\nldapmodify -x -D \"cn=Manager,dc=example,dc=com\" -W -f /etc/openldap/ldif/auth.ldif\n\n\n\u30c6\u30b9\u30c8\u30b5\u30fc\u30d0\u30fc\u5074\u8a2d\u5b9a\n\n/etc/nslcd.conf \u7de8\u96c6\n\n/etc/nslcd.conf\nuid nslcd\ngid ldap\nuri ldaps://192.168.0.10/\nbase dc=example,dc=com\nssl yes\ntls_cacertdir /etc/openldap/cacerts\ntls_reqcert allow\n\nfilter passwd (description=development)\nfilter shadow (description=development)\nfilter group  (objectClass=posixGroup)\n\n\n\n/etc/ssh/ldap.conf \u7de8\u96c6\n\n/etc/ssh/ldap.conf\nuri ldaps://192.168.0.10/\nbase dc=example,dc=com\nhost 192.168.0.10\nssl yes\ntls_cacertdir /etc/openldap/cacerts\ntls_checkpeer yes\ntls_reqcert allow\n\npam_filter description=development\n\n\n\n/etc/pam_ldap.conf\n\n/etc/pam_ldap.conf\nuri ldaps://192.168.0.10/\nbase dc=example,dc=com\nhost 192.168.0-.10\nssl yes\ntls_cacertdir /etc/openldap/cacerts\ntls_checkpeer yes\ntls_reqcert allow\n\npam_filter description=development\nnss_base_passwd ou=People,dc=example,dc=com?sub?description=development\nnss_base_shadow ou=People,dc=example,dc=com?sub?description=development\nnss_base_group  ou=Group,dc=example,dc=com?sub?objectClass=posixGroup\n\n\n\n\u518d\u8d77\u52d5\nreboot\n\n\n\u672c\u756a\u30b5\u30fc\u30d0\u30fc\u5074\u8a2d\u5b9a\n\n/etc/nslcd.conf \u7de8\u96c6\n\n/etc/nslcd.conf\nuid nslcd\ngid ldap\nuri ldaps://192.168.0.10/\nbase dc=example,dc=com\nssl yes\ntls_cacertdir /etc/openldap/cacerts\ntls_reqcert allow\n\nfilter passwd (description=production)\nfilter shadow (description=production)\nfilter group  (objectClass=posixGroup)\n\n\n\n/etc/ssh/ldap.conf \u7de8\u96c6\n\n/etc/ssh/ldap.conf\nuri ldaps://192.168.0.10/\nbase dc=example,dc=com\nhost 192.168.0.10\nssl yes\ntls_cacertdir /etc/openldap/cacerts\ntls_checkpeer yes\ntls_reqcert allow\n\npam_filter description=production\n\n\n\n/etc/pam_ldap.conf\n\n/etc/pam_ldap.conf\nuri ldaps://192.168.0.10/\nbase dc=example,dc=com\nhost 192.168.0-.10\nssl yes\ntls_cacertdir /etc/openldap/cacerts\ntls_checkpeer yes\ntls_reqcert allow\n\npam_filter description=production\nnss_base_passwd ou=People,dc=example,dc=com?sub?description=production\nnss_base_shadow ou=People,dc=example,dc=com?sub?description=production\nnss_base_group  ou=Group,dc=example,dc=com?sub?objectClass=posixGroup\n\n\n\n\u518d\u8d77\u52d5\nreboot\n\n\n\u78ba\u8a8d\n\nSSH\u78ba\u8a8d\n\u958b\u767a\u8ab2\u306f\u672c\u756a\u30b5\u30fc\u30d0\u30fc\u3078\u63a5\u7d9a\u3067\u304d\u306a\u3044\n\u904b\u7528\u8ab2\u306f\u30c6\u30b9\u30c8\u30b5\u30fc\u30d0\u30fc\u3078\u63a5\u7d9a\u3067\u304d\u306a\u3044\n\u90e8\u9577\u306f\u5168\u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\n\u4ee5\u4e0a\u3092\u78ba\u8a8d\u3059\u308b\n## \u6982\u8981\nLDAP\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u5168\u54e1\u306bSSH\u30ed\u30b0\u30a4\u30f3\u3092\u8a31\u53ef\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\n\u7279\u306b\u3001\u30c6\u30b9\u30c8\u30b5\u30fc\u30d0\u30fc\u3068\u672c\u756a\u30b5\u30fc\u30d0\u30fc\u306a\u3069\u3001\u30b5\u30fc\u30d0\u30fc\u74b0\u5883\u304c\u5206\u304b\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u672c\u756a\u30b5\u30fc\u30d0\u30fc\u306b\u306f\u7279\u5b9a\u306e\u30e6\u30fc\u30b6\u30fc\u3057\u304b\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u306a\u3044\u3088\u3046\u306b\u3059\u308b\n\u3053\u306e\u969b\u3001\u300cdescription\u300d\u5c5e\u6027\u3092\u4f7f\u7528\u3057\u3001\u5236\u9650\u3092\u304b\u3051\u308b\n\n## \u524d\u63d0\n* \u90e8\u9577\u3068\u30b7\u30b9\u30c6\u30e0\u904b\u7528\u8ab2\u306e\u8ab2\u9577\u3068\u793e\u54e1\u306f\u3001\u672c\u756a\u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u6301\u3064\n* \u90e8\u9577\u3068\u30b7\u30b9\u30c6\u30e0\u958b\u767a\u8ab2\u306e\u8ab2\u9577\u3068\u793e\u54e1\u306f\u3001\u30c6\u30b9\u30c8\u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u6301\u3064\n\n## LDAP\u30b5\u30fc\u30d0\u30fc\u306b\u5404\u30e6\u30fc\u30b6\u30fc\u306e\u6a29\u9650\u3092\u8a2d\u5b9a\u3059\u308b\n```text:/etc/openldap/ldif/auth.ldif\n# \u90e8\u9577\uff1a\u6b66\u7530 \u8cb4\u5f66\ndn: uid=takahiko.takeda,dc=People,dc=example,dc=com\nchangetype: modify\nadd: description\ndescription: production\n-\nadd: description\ndescription: development\n\n# \u958b\u767a\u8ab2 \u8ab2\u9577\uff1a\u6a2a\u5c71 \u771f\u4e5f\ndn: uid=shinya.yokoyama,dc=People,dc=example,dc=com\nchangetype: modify\nadd: description\ndescription: development\n\n# \u904b\u7528\u8ab2 \u8ab2\u9577\uff1a\u4e95\u4e0a \u4fee\ndn: uid=osamu.inoue,dc=People,dc=example,dc=com\nchangetype: modify\nadd: description\ndescription: production\n\n# \u958b\u767a\u8ab2 \u793e\u54e1\uff1a\u77f3\u5ddd \u76f4\u6a39\ndn: uid=naoki.ishikawa,dc=People,dc=example,dc=com\nchangetype: modify\nadd: description\ndescription: development\n\n# \u904b\u7528\u8ab2 \u793e\u54e1\uff1a\u7530\u6751 \u548c\u592b\ndn: uid=kazuo.tamura,dc=People,dc=example,dc=com\nchangetype: modify\nadd: description\ndescription: production\n```\n\n```shell-session\nldapmodify -x -D \"cn=Manager,dc=example,dc=com\" -W -f /etc/openldap/ldif/auth.ldif\n```\n\n## \u30c6\u30b9\u30c8\u30b5\u30fc\u30d0\u30fc\u5074\u8a2d\u5b9a\n### /etc/nslcd.conf \u7de8\u96c6\n```text:/etc/nslcd.conf\nuid nslcd\ngid ldap\nuri ldaps://192.168.0.10/\nbase dc=example,dc=com\nssl yes\ntls_cacertdir /etc/openldap/cacerts\ntls_reqcert allow\n\nfilter passwd (description=development)\nfilter shadow (description=development)\nfilter group  (objectClass=posixGroup)\n```\n\n### /etc/ssh/ldap.conf \u7de8\u96c6\n```text:/etc/ssh/ldap.conf\nuri ldaps://192.168.0.10/\nbase dc=example,dc=com\nhost 192.168.0.10\nssl yes\ntls_cacertdir /etc/openldap/cacerts\ntls_checkpeer yes\ntls_reqcert allow\n\npam_filter description=development\n```\n\n### /etc/pam_ldap.conf\n```text:/etc/pam_ldap.conf\nuri ldaps://192.168.0.10/\nbase dc=example,dc=com\nhost 192.168.0-.10\nssl yes\ntls_cacertdir /etc/openldap/cacerts\ntls_checkpeer yes\ntls_reqcert allow\n\npam_filter description=development\nnss_base_passwd ou=People,dc=example,dc=com?sub?description=development\nnss_base_shadow ou=People,dc=example,dc=com?sub?description=development\nnss_base_group  ou=Group,dc=example,dc=com?sub?objectClass=posixGroup\n```\n\n### \u518d\u8d77\u52d5\n```shell-session\nreboot\n```\n\n## \u672c\u756a\u30b5\u30fc\u30d0\u30fc\u5074\u8a2d\u5b9a\n### /etc/nslcd.conf \u7de8\u96c6\n```text:/etc/nslcd.conf\nuid nslcd\ngid ldap\nuri ldaps://192.168.0.10/\nbase dc=example,dc=com\nssl yes\ntls_cacertdir /etc/openldap/cacerts\ntls_reqcert allow\n\nfilter passwd (description=production)\nfilter shadow (description=production)\nfilter group  (objectClass=posixGroup)\n```\n\n### /etc/ssh/ldap.conf \u7de8\u96c6\n```text:/etc/ssh/ldap.conf\nuri ldaps://192.168.0.10/\nbase dc=example,dc=com\nhost 192.168.0.10\nssl yes\ntls_cacertdir /etc/openldap/cacerts\ntls_checkpeer yes\ntls_reqcert allow\n\npam_filter description=production\n```\n\n### /etc/pam_ldap.conf\n```text:/etc/pam_ldap.conf\nuri ldaps://192.168.0.10/\nbase dc=example,dc=com\nhost 192.168.0-.10\nssl yes\ntls_cacertdir /etc/openldap/cacerts\ntls_checkpeer yes\ntls_reqcert allow\n\npam_filter description=production\nnss_base_passwd ou=People,dc=example,dc=com?sub?description=production\nnss_base_shadow ou=People,dc=example,dc=com?sub?description=production\nnss_base_group  ou=Group,dc=example,dc=com?sub?objectClass=posixGroup\n```\n\n### \u518d\u8d77\u52d5\n```shell-session\nreboot\n```\n\n## \u78ba\u8a8d\n### SSH\u78ba\u8a8d\n\u958b\u767a\u8ab2\u306f\u672c\u756a\u30b5\u30fc\u30d0\u30fc\u3078\u63a5\u7d9a\u3067\u304d\u306a\u3044\n\u904b\u7528\u8ab2\u306f\u30c6\u30b9\u30c8\u30b5\u30fc\u30d0\u30fc\u3078\u63a5\u7d9a\u3067\u304d\u306a\u3044\n\u90e8\u9577\u306f\u5168\u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\n\n\u4ee5\u4e0a\u3092\u78ba\u8a8d\u3059\u308b\n", "tags": ["CentOS6.5", "OpenSSH5.3p1-94", "openldap2.4.23-34", "openssl1.0.1e-16"]}