{"context": "\n\u52d5\u4f5c\u74b0\u5883\nGeForce GTX 1070 (8GB)\nASRock Z170M Pro4S [Intel Z170chipset]\nUbuntu 14.04 LTS desktop amd64\nTensorFlow v0.11\ncuDNN v5.1 for Linux\nCUDA v8.0\nPython 2.7.6\nIPython 5.1.0 -- An enhanced Interactive Python.\n\n\nhttps://ischlag.github.io/2016/06/19/tensorflow-input-pipeline-example/\n\u306b\u8a18\u8f09\u306edynamic partition\u3092\u4f7f\u3063\u3066\u307f\u305f\u3002\n\npart_001.py\nfrom tensorflow.python.framework import ops\nfrom tensorflow.python.framework import dtypes\nimport tensorflow as tf\nimport random\n\npartitions = [ 1, 1, 1, 1, 0, 0, 0 ]\nrandom.shuffle(partitions)\nprint(partitions)\n\nnames_str = [ 'Janeway', 'Tuvok', '7of9', 'Kim', \"B'Elanna\", 'Chakotay', 'Doctor' ]\n\nnames_tf = ops.convert_to_tensor(names_str, dtype=dtypes.string)\n\ntrain_names, test_names = tf.dynamic_partition(names_tf, partitions, 2)\nprint(train_names)\nprint(test_names)\n\nwith tf.Session() as sess:\n    train = sess.run([train_names])\n    print(train)\n    test = sess.run([test_names])\n    print(test)\n\n\n\n\u7d50\u679c\n$ python part_001.py \nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so locally\n[0, 0, 1, 1, 1, 1, 0]\nTensor(\"DynamicPartition:0\", shape=(?,), dtype=string)\nTensor(\"DynamicPartition:1\", shape=(?,), dtype=string)\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties: \nname: GeForce GTX 1070\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.7715\npciBusID 0000:01:00.0\nTotal memory: 7.91GiB\nFree memory: 7.22GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0)\n[array(['Janeway', 'Tuvok', 'Doctor'], dtype=object)]\n[array(['7of9', 'Kim', \"B'Elanna\", 'Chakotay'], dtype=object)]\n\n\npartitions\u30ea\u30b9\u30c8\u306e\u8981\u7d20\u304c0\u306e\u3082\u306e\u3068\uff11\u306e\u3082\u306e\u3067\u304d\u3061\u3093\u3068\u5206\u96e2\u3067\u304d\u305f\u3002\n\n0: array(['Janeway', 'Tuvok', 'Doctor']\n1: array(['7of9', 'Kim', \"B'Elanna\", 'Chakotay']\n\n```txt:\u52d5\u4f5c\u74b0\u5883\nGeForce GTX 1070 (8GB)\nASRock Z170M Pro4S [Intel Z170chipset]\nUbuntu 14.04 LTS desktop amd64\nTensorFlow v0.11\ncuDNN v5.1 for Linux\nCUDA v8.0\nPython 2.7.6\nIPython 5.1.0 -- An enhanced Interactive Python.\n```\n\nhttps://ischlag.github.io/2016/06/19/tensorflow-input-pipeline-example/\n\u306b\u8a18\u8f09\u306edynamic partition\u3092\u4f7f\u3063\u3066\u307f\u305f\u3002\n\n```part_001.py\nfrom tensorflow.python.framework import ops\nfrom tensorflow.python.framework import dtypes\nimport tensorflow as tf\nimport random\n\npartitions = [ 1, 1, 1, 1, 0, 0, 0 ]\nrandom.shuffle(partitions)\nprint(partitions)\n\nnames_str = [ 'Janeway', 'Tuvok', '7of9', 'Kim', \"B'Elanna\", 'Chakotay', 'Doctor' ]\n\nnames_tf = ops.convert_to_tensor(names_str, dtype=dtypes.string)\n\ntrain_names, test_names = tf.dynamic_partition(names_tf, partitions, 2)\nprint(train_names)\nprint(test_names)\n\nwith tf.Session() as sess:\n\ttrain = sess.run([train_names])\n\tprint(train)\n\ttest = sess.run([test_names])\n\tprint(test)\n```\n\n```txt:\u7d50\u679c\n$ python part_001.py \nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so locally\n[0, 0, 1, 1, 1, 1, 0]\nTensor(\"DynamicPartition:0\", shape=(?,), dtype=string)\nTensor(\"DynamicPartition:1\", shape=(?,), dtype=string)\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties: \nname: GeForce GTX 1070\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.7715\npciBusID 0000:01:00.0\nTotal memory: 7.91GiB\nFree memory: 7.22GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0)\n[array(['Janeway', 'Tuvok', 'Doctor'], dtype=object)]\n[array(['7of9', 'Kim', \"B'Elanna\", 'Chakotay'], dtype=object)]\n```\n\npartitions\u30ea\u30b9\u30c8\u306e\u8981\u7d20\u304c0\u306e\u3082\u306e\u3068\uff11\u306e\u3082\u306e\u3067\u304d\u3061\u3093\u3068\u5206\u96e2\u3067\u304d\u305f\u3002\n\n- 0: array(['Janeway', 'Tuvok', 'Doctor']\n- 1: array(['7of9', 'Kim', \"B'Elanna\", 'Chakotay']\n", "tags": ["TensorFlow", "borgWarp"]}