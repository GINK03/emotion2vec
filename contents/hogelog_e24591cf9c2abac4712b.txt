{"tags": ["TravisCI", "gradle", "DeployGate", "Android"], "context": " More than 1 year has passed since last update.\u7aef\u672b\u306bUSB\u30b1\u30fc\u30d6\u30eb\u3064\u306a\u3044\u3067\u30c7\u30d0\u30c3\u30b0\u30d3\u30eb\u30c9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u3068\u304b\u3057\u3093\u3069\u3044\u3002\nTravisCI\u3092\u4f7f\u3063\u3066GitHub\u306bpush\u3059\u308b\u5ea6\u306bDeployGate\u306b\u30c7\u30d0\u30c3\u30b0\u7248\u306e\u30d3\u30eb\u30c9\u304c\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002\n\ngradle\u304b\u3089DeployGate\u3078\u306e\u30c7\u30d7\u30ed\u30a4\nbuild.gradle\u306bDeployGate\u306e\u8a2d\u5b9a\u3092\u8ffd\u8a18\u3057\u3001gradle\u304b\u3089DeployGate\u3078\u306e\u30c7\u30d7\u30ed\u30a4\u3092\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nDeployGate\u306e\u30c8\u30fc\u30af\u30f3\u306f\u74b0\u5883\u5909\u6570\u304b\u3089\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u8a2d\u5b9a\u3002\n\u3042\u3068uploadDeployGateDebug\u30bf\u30b9\u30af\u306fassembleDebug\u30bf\u30b9\u30af\u306b\u4f9d\u5b58\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3001./gradlew uploadDeployGateDebug\u30b3\u30de\u30f3\u30c9\u3060\u3051\u3067\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u308b\u3088\u3046\u306b\u3002\n\nbuild.gradle\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:0.9.+'\n        classpath 'com.deploygate:gradle:0.6'\n    }\n}\napply plugin: 'android'\napply plugin: 'deploygate'\n\ndeploygate {\n  userName = \"$System.env.DEPLOYGATE_USER\"\n  token = \"$System.env.DEPLOYGATE_TOKEN\"\n\n  apks {\n    debug {\n      sourceFile = file(\"${project.buildDir}/apk/bookscan-manager-debug-unaligned.apk\")\n    }\n  }\n}\n\nuploadDeployGateDebug.dependsOn assembleDebug\n\n\n\nTravis CI\u306bDeployGate\u306e\u30c8\u30fc\u30af\u30f3\u3092\u8a2d\u5b9a\nTravis CI\u306eSecure environment variables\u306b\u3057\u305f\u304c\u3063\u3066DeployGate\u306e\u30c8\u30fc\u30af\u30f3\u3092\u6697\u53f7\u5316\u3057\u3066\u767b\u9332\n$ gem install travis\n\u3044\u308d\u3044\u308d\n$ cd my_project\n$ travis encrypt DEPLOYGATE_TOKEN=1234567890\nPlease add the following to your .travis.yml file:\n\n  secure: \"aRFPOfnpvnbgJprVgEEpWDrxhTE/qxf2i5GdwIGtXRuYMUzG9T5Lzg/BIlcu4v+r3hrt2MQJMCcqQXlM5gvrjWhQLSBLpZ1dGSU+E9duYq3Rt9+ML9X+6vBn3+VEQe9k8fN+m0xY6WnWnOAKvqfE8CIvpjiGou06SVNhaWuWJjE=\"\n\nPro Tip: You can add it automatically by running with --add.\n\n\n.travis.yml\u306bDeployGate\u306e\u8a2d\u5b9a\u3092\u8ffd\u8a18\n.travis.yml\u3067DeployGate\u306e\u30e6\u30fc\u30b6ID\u3068\uff08\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u6697\u53f7\u5316\u3055\u308c\u305f\uff09\u30c8\u30fc\u30af\u30f3\u3092\u74b0\u5883\u5909\u6570\u306b\u8a2d\u5b9a\u3002\n\ntravis.yml\nlanguage: android\nenv:\n  global:\n    - DEPLOYGATE_USER=hogelog\n    - secure: \"aRFPOfnpvnbgJprVgEEpWDrxhTE/qxf2i5GdwIGtXRuYMUzG9T5Lzg/BIlcu4v+r3hrt2MQJMCcqQXlM5gvrjWhQLSBLpZ1dGSU+E9duYq3Rt9+ML9X+6vBn3+VEQe9k8fN+m0xY6WnWnOAKvqfE8CIvpjiGou06SVNhaWuWJjE=\"\n\nscript:\n  - ./gradlew uploadDeployGateDebug\n\n\n\nGitHub\u306b\u30d7\u30c3\u30b7\u30e5\u3001Travis CI\u304b\u3089DeployGate\u306b\u30c7\u30d7\u30ed\u30a4\nGitHub\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3068Travis CI\u3092\u9023\u643a\u3055\u305b\u3066\u304b\u3089\u4e0a\u8a18.travis.yml\u3092\u30b3\u30df\u30c3\u30c8\u3057\u3066\u30d7\u30c3\u30b7\u30e5\u3002\n\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306bTravis CI\u304c\u52d5\u304d\u59cb\u3081\u308b\u3002DEPLOYGATE_TOKEN\u3082\u4e0d\u601d\u8b70\u6587\u5b57\u5217\u304b\u3089\u5fa9\u53f7\u3067\u304d\u3066\u304a\u308a\u3001Travis CI\u304b\u3089DeployGate\u3078\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u3066\u3044\u307e\u3057\u305f\u3002\n\n\n\u5099\u8003\n\u4e0a\u8ff0\u3057\u305f\u8a2d\u5b9a\u306a\u3069\u306f https://github.com/hogelog/android-bookscan-manager \u306b\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u7aef\u672b\u306bUSB\u30b1\u30fc\u30d6\u30eb\u3064\u306a\u3044\u3067\u30c7\u30d0\u30c3\u30b0\u30d3\u30eb\u30c9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u3068\u304b\u3057\u3093\u3069\u3044\u3002\n\nTravisCI\u3092\u4f7f\u3063\u3066GitHub\u306bpush\u3059\u308b\u5ea6\u306bDeployGate\u306b\u30c7\u30d0\u30c3\u30b0\u7248\u306e\u30d3\u30eb\u30c9\u304c\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002\n\n## gradle\u304b\u3089DeployGate\u3078\u306e\u30c7\u30d7\u30ed\u30a4\n`build.gradle`\u306bDeployGate\u306e\u8a2d\u5b9a\u3092\u8ffd\u8a18\u3057\u3001gradle\u304b\u3089DeployGate\u3078\u306e\u30c7\u30d7\u30ed\u30a4\u3092\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nDeployGate\u306e\u30c8\u30fc\u30af\u30f3\u306f\u74b0\u5883\u5909\u6570\u304b\u3089\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u8a2d\u5b9a\u3002\n\n\u3042\u3068`uploadDeployGateDebug`\u30bf\u30b9\u30af\u306f`assembleDebug`\u30bf\u30b9\u30af\u306b\u4f9d\u5b58\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3001`./gradlew uploadDeployGateDebug`\u30b3\u30de\u30f3\u30c9\u3060\u3051\u3067\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u308b\u3088\u3046\u306b\u3002\n\n```build.gradle\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:0.9.+'\n        classpath 'com.deploygate:gradle:0.6'\n    }\n}\napply plugin: 'android'\napply plugin: 'deploygate'\n\ndeploygate {\n  userName = \"$System.env.DEPLOYGATE_USER\"\n  token = \"$System.env.DEPLOYGATE_TOKEN\"\n\n  apks {\n    debug {\n      sourceFile = file(\"${project.buildDir}/apk/bookscan-manager-debug-unaligned.apk\")\n    }\n  }\n}\n\nuploadDeployGateDebug.dependsOn assembleDebug\n```\n\n## Travis CI\u306bDeployGate\u306e\u30c8\u30fc\u30af\u30f3\u3092\u8a2d\u5b9a\nTravis CI\u306e[Secure environment variables](http://docs.travis-ci.com/user/build-configuration/#Secure-environment-variables)\u306b\u3057\u305f\u304c\u3063\u3066DeployGate\u306e\u30c8\u30fc\u30af\u30f3\u3092\u6697\u53f7\u5316\u3057\u3066\u767b\u9332\n\n```\n$ gem install travis\n\u3044\u308d\u3044\u308d\n$ cd my_project\n$ travis encrypt DEPLOYGATE_TOKEN=1234567890\nPlease add the following to your .travis.yml file:\n\n  secure: \"aRFPOfnpvnbgJprVgEEpWDrxhTE/qxf2i5GdwIGtXRuYMUzG9T5Lzg/BIlcu4v+r3hrt2MQJMCcqQXlM5gvrjWhQLSBLpZ1dGSU+E9duYq3Rt9+ML9X+6vBn3+VEQe9k8fN+m0xY6WnWnOAKvqfE8CIvpjiGou06SVNhaWuWJjE=\"\n\nPro Tip: You can add it automatically by running with --add.\n```\n\n## `.travis.yml`\u306bDeployGate\u306e\u8a2d\u5b9a\u3092\u8ffd\u8a18\n`.travis.yml`\u3067DeployGate\u306e\u30e6\u30fc\u30b6ID\u3068\uff08\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u6697\u53f7\u5316\u3055\u308c\u305f\uff09\u30c8\u30fc\u30af\u30f3\u3092\u74b0\u5883\u5909\u6570\u306b\u8a2d\u5b9a\u3002\n\n```.travis.yml\nlanguage: android\nenv:\n  global:\n    - DEPLOYGATE_USER=hogelog\n    - secure: \"aRFPOfnpvnbgJprVgEEpWDrxhTE/qxf2i5GdwIGtXRuYMUzG9T5Lzg/BIlcu4v+r3hrt2MQJMCcqQXlM5gvrjWhQLSBLpZ1dGSU+E9duYq3Rt9+ML9X+6vBn3+VEQe9k8fN+m0xY6WnWnOAKvqfE8CIvpjiGou06SVNhaWuWJjE=\"\n\nscript:\n  - ./gradlew uploadDeployGateDebug\n```\n\n## GitHub\u306b\u30d7\u30c3\u30b7\u30e5\u3001Travis CI\u304b\u3089DeployGate\u306b\u30c7\u30d7\u30ed\u30a4\nGitHub\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3068Travis CI\u3092\u9023\u643a\u3055\u305b\u3066\u304b\u3089\u4e0a\u8a18`.travis.yml`\u3092\u30b3\u30df\u30c3\u30c8\u3057\u3066\u30d7\u30c3\u30b7\u30e5\u3002\n\n\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306bTravis CI\u304c\u52d5\u304d\u59cb\u3081\u308b\u3002`DEPLOYGATE_TOKEN`\u3082\u4e0d\u601d\u8b70\u6587\u5b57\u5217\u304b\u3089\u5fa9\u53f7\u3067\u304d\u3066\u304a\u308a\u3001Travis CI\u304b\u3089DeployGate\u3078\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u3066\u3044\u307e\u3057\u305f\u3002\n\n![kobito.1401198135.475213.png](https://qiita-image-store.s3.amazonaws.com/0/1742/294d1c7e-1d28-e5ca-f651-b1e9435f99f4.png \"kobito.1401198135.475213.png\")\n\n\n## \u5099\u8003\n\u4e0a\u8ff0\u3057\u305f\u8a2d\u5b9a\u306a\u3069\u306f https://github.com/hogelog/android-bookscan-manager \u306b\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n"}