{"context": " More than 1 year has passed since last update.\n\nLINQ x Code First - Eager Loading\n2015-01\nLINQ x Entity Framework \u3067\u5358\u7d14\u306a\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u6301\u3064\u30e2\u30c7\u30eb\u3092\u8d70\u67fb\u3059\u308b\u3002\nEmployee (\u5b50, N) \u3068 Customer (\u89aa, 1) \u3092 Customer \u306e\u5024\u3092\u6761\u4ef6\u306b\u7d50\u5408\u3059\u308b\u5834\u5408\u306e LINQ \u3068\u3001\u5bfe\u5fdc\u3057\u3066\u767a\u884c\u3055\u308c\u305f SQL \u3092\u8a18\u9332\u3059\u308b\u3002\n\u30aa\u30c3\u30ab\u30e0\u306e\u5243\u5200\u7684\u306b\u306f\u3001\u30e1\u30f3\u30d0 Customer.Address \u306f\u4e0d\u8981\u3060\u304c\u6b8b\u3057\u3066\u308b\u3002\n\n\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3 \u30e2\u30c7\u30eb\npublic class Customer // \u89aa\n{\n    public int CustomerId { get; set; }\n    public string CustomerName { get; set; }\n    public string Address { get; set; }\n\n    public ICollection<Employee> Employees { get; set; }\n}\n\npublic class Employee // \u5b50\n{\n    public int EmployeeId { get; set; }\n    public string EmployeeName { get; set; }\n\n    public int? CustomerId { get; set; }\n    public Customer Customer { get; set; }\n}\n\n\n\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u521d\u671f\u5316\nprotected override void Seed(MyDbContext context)\n{\n    base.Seed(context);\n    //\n    // \u30ab\u30b9\u30bf\u30de Customers\n    //\n    var customers = new List<Customer>\n    {\n        new Customer { CustomerId = 11, CustomerName = \"D GmbH\", Address = \"Deutschland\" },\n        new Customer { CustomerId = 12, CustomerName = \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\", Address = \"Japan\" },\n        new Customer { CustomerId = 13, CustomerName = \"A Corporation\", Address = \"U.S.A.\" }\n    };\n    customers.ForEach(c => context.Customers.Add(c));\n    //\n    // \u5f93\u696d\u54e1 Employees\n    //\n    var emps = new List<Employee>\n    {\n        new Employee { EmployeeId = 1, EmployeeName = \"\u7530\u4e2d\u592a\u90ce\", CustomerId = 12 },\n        new Employee { EmployeeId = 3, EmployeeName = \"Wolfgang Abel\", CustomerId = 11 },\n        new Employee { EmployeeId = 4, EmployeeName = \"Aileen Smith\", CustomerId = 13 },\n        new Employee { EmployeeId = 5, EmployeeName = \"\u4f50\u85e4\u82b1\u5b50\", CustomerId = 12 },\n        new Employee { EmployeeId = 6, EmployeeName = \"Tom Wilde\" }\n    };\n    emps.ForEach(c => context.Employees.Add(c));\n    context.SaveChanges();\n}\n\n\n\u5b50\u304b\u3089\u89aa\u3092\u53c2\u7167\n\n1. \u89aa\u3092 Include\nquery = db.Employees\n            .Include(e => e.Customer);\n\nSELECT\n  [Extent1].[EmployeeId] AS [EmployeeId],\n  [Extent1].[EmployeeName] AS [EmployeeName],\n  [Extent1].[CustomerId] AS [CustomerId],\n  [Extent2].[CustomerId] AS [CustomerId1],\n  [Extent2].[CustomerName] AS [CustomerName],\n  [Extent2].[Address] AS [Address]\n  FROM  [dbo].[Employees] AS [Extent1]\n  LEFT OUTER JOIN [dbo].[Customers] AS [Extent2] ON [Extent1].[CustomerId] = [Extent2].[CustomerId]\n\n\n2. \u89aa\u306e\u6761\u4ef6\u3067\u5b50\u3092\u53c2\u7167\u3059\u308b\n\u306a\u305c\u304b\u3001INNER JOIN \u3057\u305f\u5f8c\u306b LEFT JOIN \u3057\u3066\u3044\u308b\nquery = db.Employees\n    .Include(e => e.Customer)\n    .Where(e => e.Customer.CustomerName == \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\");\n\nSELECT\n  [Extent1].[EmployeeId] AS [EmployeeId],\n  [Extent1].[EmployeeName] AS [EmployeeName],\n  [Extent1].[CustomerId] AS [CustomerId],\n  [Extent3].[CustomerId] AS [CustomerId1],\n  [Extent3].[CustomerName] AS [CustomerName],\n  [Extent3].[Address] AS [Address]\n  FROM   [dbo].[Employees] AS [Extent1]\n  INNER JOIN [dbo].[Customers] AS [Extent2] ON [Extent1].[CustomerId] = [Extent2].[CustomerId]\n  LEFT OUTER JOIN [dbo].[Customers] AS [Extent3] ON [Extent1].[CustomerId] = [Extent3].[CustomerId]\n  WHERE N'\u4e38\u3005\u682a\u5f0f\u4f1a\u793e' = [Extent2].[CustomerName]\n\n\n2.1. INNER \u3068 LEFT JOIN \u3055\u308c\u308b\u306e\u3092\u5acc\u3063\u3066 Include \u3084\u3081\u3066\u307f\u308b\n\u6307\u5b9a\u3057\u305f Customer \u306e\u6761\u4ef6\u3069\u304a\u308a\u306b\u62bd\u51fa\u3055\u308c\u308b\u3082\u306e\u306e\u3001Employees.Customer \u306f null \u306b\u306a\u3063\u3066\u3044\u308b\u3002\nquery = db.Employees\n    .Where(e => e.Customer.CustomerName == \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\");\n\nSELECT\n  [Extent1].[EmployeeId] AS [EmployeeId],\n  [Extent1].[EmployeeName] AS [EmployeeName],\n  [Extent1].[CustomerId] AS [CustomerId]\n  FROM  [dbo].[Employees] AS [Extent1]\n  INNER JOIN [dbo].[Customers] AS [Extent2] ON [Extent1].[CustomerId] = [Extent2].[CustomerId]\n  WHERE N'\u4e38\u3005\u682a\u5f0f\u4f1a\u793e' = [Extent2].[CustomerName]\n\n\n2.2 \u30ab\u30b9\u30bf\u30de\u540d\u304c\u307b\u3057\u3044\u306e\u3067\u3001Where \u3068 Include \u306e\u9806\u756a\u3092\u5165\u308c\u66ff\u3048\u3066\u307f\u308b\nNG, \u30ab\u30b9\u30bf\u30de\u540d\u306f\u62bd\u51fa\u3067\u304d\u305f\u304c\u3001\u3084\u306f\u308a INNER \u3068 LEFT JOIN \u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\nquery = db.Employees\n    .Where(e => e.Customer.CustomerName == \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\")\n    .Include(e => e.Customer);\n\nSELECT\n  [Extent1].[EmployeeId] AS [EmployeeId],\n  [Extent1].[EmployeeName] AS [EmployeeName],\n  [Extent1].[CustomerId] AS [CustomerId],\n  [Extent3].[CustomerId] AS [CustomerId1],\n  [Extent3].[CustomerName] AS [CustomerName],\n  [Extent3].[Address] AS [Address]\n  FROM   [dbo].[Employees] AS [Extent1]\n  INNER JOIN [dbo].[Customers] AS [Extent2] ON [Extent1].[CustomerId] = [Extent2].[CustomerId]\n  LEFT OUTER JOIN [dbo].[Customers] AS [Extent3] ON [Extent1].[CustomerId] = [Extent3].[CustomerId]\n  WHERE N'\u4e38\u3005\u682a\u5f0f\u4f1a\u793e' = [Extent2].[CustomerName]\n\n\n2.3 \u30af\u30a8\u30ea\u69cb\u6587\u3067\u66f8\u3044\u3066\u307f\u308b\u3002\n\u671f\u5f85\u306b\u8fd1\u3044 SQL \u306b\u5909\u63db\u3055\u308c\u305f\u3002\u305d\u3046\u3060\u7d50\u5408\u306b\u306f join \u3092\u4f7f\u3046\u3093\u3060\u3063\u305f\u3068\u601d\u3044\u51fa\u3059\u3002\n\u305f\u3060\u3001\u533f\u540d\u578b\u306e e (employee) \u3068 c (customer) \u306b\u5024\u306f\u5145\u586b\u3055\u308c\u3066\u3044\u308b\u304c employee.customer \u306f null \u306e\u307e\u307e\u306a\u306e\u3067\u3001\u30af\u30a8\u30ea\u306e\u5f8c\u306b\u8a2d\u5b9a\u3057\u3066\u3084\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\nvar q = from e in db.Employees\n        join c in db.Customers on e.CustomerId equals c.CustomerId\n        where c.CustomerName == \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\"\n        select new\n        {\n          e.EmployeeId, e.EmployeeName, e.CustomerId, c.CustomerName, c.Address\n        };\n\nSELECT\n    [Extent1].[EmployeeId] AS [EmployeeId],\n    [Extent1].[EmployeeName] AS [EmployeeName],\n    [Extent1].[CustomerId] AS [CustomerId]\n    FROM  [dbo].[Employees] AS [Extent1]\n    INNER JOIN [dbo].[Customers] AS [Extent2] ON [Extent1].[CustomerId] = [Extent2].[CustomerId]\n    WHERE N'\u4e38\u3005\u682a\u5f0f\u4f1a\u793e' = [Extent2].[CustomerName]\n\n\n2.4 \u30af\u30a8\u30ea\u304c Employee \u3092\u8fd4\u3059\u3088\u3046\u306b\u3059\u308b\nThe entity cannot be constructed in a LINQ to Entities query\n\u3053\u308c\u3067\u3001\u30af\u30a8\u30ea\u304c Employee \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u69cb\u6210\u3057\u3066\u8fd4\u3057\u3066\u304f\u308c\u308b\u3002\n\u6700\u5f8c\u306e AsQueryable \u306f\u6587\u8108\u306b\u5fdc\u3058\u3066\u4f7f\u7528\u3059\u308b\u3002\nvar q = (from e in db.Employees\n         join c in db.Customers on e.CustomerId equals c.CustomerId\n         where c.CustomerName == \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\"\n         select new { e, c })\n        .ToList()\n        .Select(t =>\n            new Employee\n            {\n                EmployeeId = t.e.EmployeeId,\n                EmployeeName = t.e.EmployeeName,\n                CustomerId = t.e.CustomerId,\n                Customer = t.c\n            }\n        ).AsQueryable();\n\nSELECT\n    [Extent1].[EmployeeId] AS [EmployeeId],\n    [Extent1].[EmployeeName] AS [EmployeeName],\n    [Extent1].[CustomerId] AS [CustomerId],\n    [Extent2].[CustomerId] AS [CustomerId1],\n    [Extent2].[CustomerName] AS [CustomerName],\n    [Extent2].[Address] AS [Address]\n    FROM  [dbo].[Employees] AS [Extent1]\n    INNER JOIN [dbo].[Customers] AS [Extent2] ON [Extent1].[CustomerId] = [Extent2].[CustomerId]\n    WHERE N'\u4e38\u3005\u682a\u5f0f\u4f1a\u793e' = [Extent2].[CustomerName]\n\n\n2.5 2.4 \u3068\u7b49\u4fa1\u306a\u30e1\u30bd\u30c3\u30c9\u69cb\u6587\nvar q = db.Employees.Join(  // TOuter\n        db.Customers,       // TInner\n        e => e.CustomerId,  // TOuterKeySelector\n        c => c.CustomerId,  // TInnerKeySelector\n        (e, c) => new { e, c }\n    )\n    .Where(t => t.c.CustomerName == \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\")\n    .ToList()\n    .Select(t =>\n        new Employee\n        {\n            EmployeeId = t.e.EmployeeId,\n            EmployeeName = t.e.EmployeeName,\n            CustomerId = t.e.CustomerId,\n            Customer = t.c\n        }\n    ).AsQueryable();\n\n# LINQ x Code First - Eager Loading\n2015-01\n\n\nLINQ x Entity Framework \u3067\u5358\u7d14\u306a\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u6301\u3064\u30e2\u30c7\u30eb\u3092\u8d70\u67fb\u3059\u308b\u3002\n\nEmployee (\u5b50, N) \u3068 Customer (\u89aa, 1) \u3092 Customer \u306e\u5024\u3092\u6761\u4ef6\u306b\u7d50\u5408\u3059\u308b\u5834\u5408\u306e LINQ \u3068\u3001\u5bfe\u5fdc\u3057\u3066\u767a\u884c\u3055\u308c\u305f SQL \u3092\u8a18\u9332\u3059\u308b\u3002\n\n\u30aa\u30c3\u30ab\u30e0\u306e\u5243\u5200\u7684\u306b\u306f\u3001\u30e1\u30f3\u30d0 Customer.Address \u306f\u4e0d\u8981\u3060\u304c\u6b8b\u3057\u3066\u308b\u3002\n\n\n## \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3 \u30e2\u30c7\u30eb\n\n```csharp\npublic class Customer // \u89aa\n{\n    public int CustomerId { get; set; }\n    public string CustomerName { get; set; }\n    public string Address { get; set; }\n\n    public ICollection<Employee> Employees { get; set; }\n}\n\npublic class Employee // \u5b50\n{\n    public int EmployeeId { get; set; }\n    public string EmployeeName { get; set; }\n\n    public int? CustomerId { get; set; }\n    public Customer Customer { get; set; }\n}\n```\n\n## \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u521d\u671f\u5316\n\n```csharp\nprotected override void Seed(MyDbContext context)\n{\n    base.Seed(context);\n    //\n    // \u30ab\u30b9\u30bf\u30de Customers\n    //\n    var customers = new List<Customer>\n    {\n        new Customer { CustomerId = 11, CustomerName = \"D GmbH\", Address = \"Deutschland\" },\n        new Customer { CustomerId = 12, CustomerName = \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\", Address = \"Japan\" },\n        new Customer { CustomerId = 13, CustomerName = \"A Corporation\", Address = \"U.S.A.\" }\n    };\n    customers.ForEach(c => context.Customers.Add(c));\n    //\n    // \u5f93\u696d\u54e1 Employees\n    //\n    var emps = new List<Employee>\n    {\n        new Employee { EmployeeId = 1, EmployeeName = \"\u7530\u4e2d\u592a\u90ce\", CustomerId = 12 },\n        new Employee { EmployeeId = 3, EmployeeName = \"Wolfgang Abel\", CustomerId = 11 },\n        new Employee { EmployeeId = 4, EmployeeName = \"Aileen Smith\", CustomerId = 13 },\n        new Employee { EmployeeId = 5, EmployeeName = \"\u4f50\u85e4\u82b1\u5b50\", CustomerId = 12 },\n        new Employee { EmployeeId = 6, EmployeeName = \"Tom Wilde\" }\n    };\n    emps.ForEach(c => context.Employees.Add(c));\n    context.SaveChanges();\n}\n```\n\n\n## \u5b50\u304b\u3089\u89aa\u3092\u53c2\u7167\n\n### 1. \u89aa\u3092 Include\n\n```csharp\nquery = db.Employees\n            .Include(e => e.Customer);\n```\n\n```sql\nSELECT\n  [Extent1].[EmployeeId] AS [EmployeeId],\n  [Extent1].[EmployeeName] AS [EmployeeName],\n  [Extent1].[CustomerId] AS [CustomerId],\n  [Extent2].[CustomerId] AS [CustomerId1],\n  [Extent2].[CustomerName] AS [CustomerName],\n  [Extent2].[Address] AS [Address]\n  FROM  [dbo].[Employees] AS [Extent1]\n  LEFT OUTER JOIN [dbo].[Customers] AS [Extent2] ON [Extent1].[CustomerId] = [Extent2].[CustomerId]\n```\n\n### 2. \u89aa\u306e\u6761\u4ef6\u3067\u5b50\u3092\u53c2\u7167\u3059\u308b\n\n\u306a\u305c\u304b\u3001INNER JOIN \u3057\u305f\u5f8c\u306b LEFT JOIN \u3057\u3066\u3044\u308b\n\n```csharp\nquery = db.Employees\n    .Include(e => e.Customer)\n    .Where(e => e.Customer.CustomerName == \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\");\n```\n\n```sql\nSELECT\n  [Extent1].[EmployeeId] AS [EmployeeId],\n  [Extent1].[EmployeeName] AS [EmployeeName],\n  [Extent1].[CustomerId] AS [CustomerId],\n  [Extent3].[CustomerId] AS [CustomerId1],\n  [Extent3].[CustomerName] AS [CustomerName],\n  [Extent3].[Address] AS [Address]\n  FROM   [dbo].[Employees] AS [Extent1]\n  INNER JOIN [dbo].[Customers] AS [Extent2] ON [Extent1].[CustomerId] = [Extent2].[CustomerId]\n  LEFT OUTER JOIN [dbo].[Customers] AS [Extent3] ON [Extent1].[CustomerId] = [Extent3].[CustomerId]\n  WHERE N'\u4e38\u3005\u682a\u5f0f\u4f1a\u793e' = [Extent2].[CustomerName]\n```\n\n### 2.1. INNER \u3068 LEFT JOIN \u3055\u308c\u308b\u306e\u3092\u5acc\u3063\u3066 Include \u3084\u3081\u3066\u307f\u308b\n\n\u6307\u5b9a\u3057\u305f Customer \u306e\u6761\u4ef6\u3069\u304a\u308a\u306b\u62bd\u51fa\u3055\u308c\u308b\u3082\u306e\u306e\u3001Employees.Customer \u306f null \u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n```csharp\nquery = db.Employees\n    .Where(e => e.Customer.CustomerName == \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\");\n```\n\n```sql\nSELECT\n  [Extent1].[EmployeeId] AS [EmployeeId],\n  [Extent1].[EmployeeName] AS [EmployeeName],\n  [Extent1].[CustomerId] AS [CustomerId]\n  FROM  [dbo].[Employees] AS [Extent1]\n  INNER JOIN [dbo].[Customers] AS [Extent2] ON [Extent1].[CustomerId] = [Extent2].[CustomerId]\n  WHERE N'\u4e38\u3005\u682a\u5f0f\u4f1a\u793e' = [Extent2].[CustomerName]\n```\n\n### 2.2 \u30ab\u30b9\u30bf\u30de\u540d\u304c\u307b\u3057\u3044\u306e\u3067\u3001Where \u3068 Include \u306e\u9806\u756a\u3092\u5165\u308c\u66ff\u3048\u3066\u307f\u308b\n\nNG, \u30ab\u30b9\u30bf\u30de\u540d\u306f\u62bd\u51fa\u3067\u304d\u305f\u304c\u3001\u3084\u306f\u308a INNER \u3068 LEFT JOIN \u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n\n```csharp\nquery = db.Employees\n    .Where(e => e.Customer.CustomerName == \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\")\n    .Include(e => e.Customer);\n```\n\n```sql\nSELECT\n  [Extent1].[EmployeeId] AS [EmployeeId],\n  [Extent1].[EmployeeName] AS [EmployeeName],\n  [Extent1].[CustomerId] AS [CustomerId],\n  [Extent3].[CustomerId] AS [CustomerId1],\n  [Extent3].[CustomerName] AS [CustomerName],\n  [Extent3].[Address] AS [Address]\n  FROM   [dbo].[Employees] AS [Extent1]\n  INNER JOIN [dbo].[Customers] AS [Extent2] ON [Extent1].[CustomerId] = [Extent2].[CustomerId]\n  LEFT OUTER JOIN [dbo].[Customers] AS [Extent3] ON [Extent1].[CustomerId] = [Extent3].[CustomerId]\n  WHERE N'\u4e38\u3005\u682a\u5f0f\u4f1a\u793e' = [Extent2].[CustomerName]\n```\n\n### 2.3 \u30af\u30a8\u30ea\u69cb\u6587\u3067\u66f8\u3044\u3066\u307f\u308b\u3002\n\n\u671f\u5f85\u306b\u8fd1\u3044 SQL \u306b\u5909\u63db\u3055\u308c\u305f\u3002\u305d\u3046\u3060\u7d50\u5408\u306b\u306f `join` \u3092\u4f7f\u3046\u3093\u3060\u3063\u305f\u3068\u601d\u3044\u51fa\u3059\u3002\n\n\u305f\u3060\u3001\u533f\u540d\u578b\u306e e (employee) \u3068 c (customer) \u306b\u5024\u306f\u5145\u586b\u3055\u308c\u3066\u3044\u308b\u304c employee.customer \u306f null \u306e\u307e\u307e\u306a\u306e\u3067\u3001\u30af\u30a8\u30ea\u306e\u5f8c\u306b\u8a2d\u5b9a\u3057\u3066\u3084\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n```csharp\nvar q = from e in db.Employees\n        join c in db.Customers on e.CustomerId equals c.CustomerId\n        where c.CustomerName == \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\"\n        select new\n        {\n          e.EmployeeId, e.EmployeeName, e.CustomerId, c.CustomerName, c.Address\n        };\n```\n\n```sql\nSELECT\n    [Extent1].[EmployeeId] AS [EmployeeId],\n    [Extent1].[EmployeeName] AS [EmployeeName],\n    [Extent1].[CustomerId] AS [CustomerId]\n    FROM  [dbo].[Employees] AS [Extent1]\n    INNER JOIN [dbo].[Customers] AS [Extent2] ON [Extent1].[CustomerId] = [Extent2].[CustomerId]\n    WHERE N'\u4e38\u3005\u682a\u5f0f\u4f1a\u793e' = [Extent2].[CustomerName]\n```\n\n### 2.4 \u30af\u30a8\u30ea\u304c Employee \u3092\u8fd4\u3059\u3088\u3046\u306b\u3059\u308b\n\n[The entity cannot be constructed in a LINQ to Entities query](http://stackoverflow.com/questions/5325797/the-entity-cannot-be-constructed-in-a-linq-to-entities-query)\n\n\n\u3053\u308c\u3067\u3001\u30af\u30a8\u30ea\u304c Employee \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u69cb\u6210\u3057\u3066\u8fd4\u3057\u3066\u304f\u308c\u308b\u3002:+1:\n\u6700\u5f8c\u306e AsQueryable \u306f\u6587\u8108\u306b\u5fdc\u3058\u3066\u4f7f\u7528\u3059\u308b\u3002\n\n```csharp\nvar q = (from e in db.Employees\n         join c in db.Customers on e.CustomerId equals c.CustomerId\n         where c.CustomerName == \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\"\n         select new { e, c })\n        .ToList()\n        .Select(t =>\n            new Employee\n            {\n                EmployeeId = t.e.EmployeeId,\n                EmployeeName = t.e.EmployeeName,\n                CustomerId = t.e.CustomerId,\n                Customer = t.c\n            }\n        ).AsQueryable();\n```\n\n```sql\nSELECT\n    [Extent1].[EmployeeId] AS [EmployeeId],\n    [Extent1].[EmployeeName] AS [EmployeeName],\n    [Extent1].[CustomerId] AS [CustomerId],\n    [Extent2].[CustomerId] AS [CustomerId1],\n    [Extent2].[CustomerName] AS [CustomerName],\n    [Extent2].[Address] AS [Address]\n    FROM  [dbo].[Employees] AS [Extent1]\n    INNER JOIN [dbo].[Customers] AS [Extent2] ON [Extent1].[CustomerId] = [Extent2].[CustomerId]\n    WHERE N'\u4e38\u3005\u682a\u5f0f\u4f1a\u793e' = [Extent2].[CustomerName]\n```\n\n### 2.5 2.4 \u3068\u7b49\u4fa1\u306a\u30e1\u30bd\u30c3\u30c9\u69cb\u6587\n\n```csharp\nvar q = db.Employees.Join(  // TOuter\n        db.Customers,       // TInner\n        e => e.CustomerId,  // TOuterKeySelector\n        c => c.CustomerId,  // TInnerKeySelector\n        (e, c) => new { e, c }\n    )\n    .Where(t => t.c.CustomerName == \"\u4e38\u3005\u682a\u5f0f\u4f1a\u793e\")\n    .ToList()\n    .Select(t =>\n        new Employee\n        {\n            EmployeeId = t.e.EmployeeId,\n            EmployeeName = t.e.EmployeeName,\n            CustomerId = t.e.CustomerId,\n            Customer = t.c\n        }\n    ).AsQueryable();\n```\n", "tags": ["LINQ", "C#", "EntityFramework"]}