{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\u3053\u3093\u306b\u3061\u306f\u3002HashiCorp Advent Calendar 2015 12\u65e5\u76ee\u306e@ikemonn\u3067\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001Wercker\u3068Terraform\u3092\u4f7f\u3063\u3066EC2\u3092\u7acb\u3066\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u66f8\u304d\u307e\u3059\u3002\n\u30d5\u30ed\u30fc\u3068\u3057\u3066\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002\n\n\u958b\u767a\u7528\u306edevelop\u30d6\u30e9\u30f3\u30c1\u306bgit push\npush\u3092hook\u3057\u3066\u3001Wercker\u4e0a\u3067terraform plan\nterraform plan\u304c\u901a\u3063\u305f\u3089\u81ea\u52d5\u7684\u306bpull req\u3092\u4f5c\u6210\npull req\u304c\u30de\u30fc\u30b8\u3055\u308c\u305f\u3089\u3001Wercker\u4e0a\u3067deploy\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001terraform apply\u3057\u3066EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u305f\u3066\u308b\n\n\n\u4e0b\u6e96\u5099\n\u307e\u305a\u4e0b\u8a18\u3092\u6e08\u307e\u305b\u3066\u304a\u304d\u307e\u3059\u3002\n\nWercker\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332\u3092\u3059\u308b\nWercker\u3067\u5bfe\u8c61\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u767b\u9332\u3059\u308b\ncurl\u3092\u53e9\u3044\u3066pull req\u3092\u4f5c\u308c\u308b\u3088\u3046\u306bGitHub\u306e\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b\n\ntfstate\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306ebucket\u3092S3\u306b\u7528\u610f\u3059\u308b(Amazon S3 \u3067 Terraform \u306e\u72b6\u614b\u7ba1\u7406\u30d5\u30a1\u30a4\u30eb terraform.tfstate \u3092\u7ba1\u7406 / \u5171\u6709\u3059\u308b - Qiita)\n\n\nTerraform\u306e\u6e96\u5099\n\u4eca\u56de\u4f5c\u308b\u306e\u306ft2.micro\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3059\u3002\n\u3053\u3093\u306a\u611f\u3058\u3067tf\u30d5\u30a1\u30a4\u30eb\u3092\u6e96\u5099\u3057\u307e\u3059\u3002\n\nsample_ec2.tf\nresource \"aws_instance\" \"sample\" {\n    ami = \"ami-908a2f90\"\n    instance_type = \"t2.micro\"\n    availability_zone = \"ap-northeast-1a\"\n    tags {\n      Name = \"terraform_sample\"\n    }\n    vpc_security_group_ids = [\"${var.default_security_group}\"]\n    key_name = \"${var.lc_key_name}\"\n}\n\n\n\nterraform.tfvars\nregion = \"ap-northeast-1\"\ndefault_security_group = \u201csg-xxxxxxx\"\n\n\n\ncommon_variables.tf\nvariable \"aws_access_key\" {}\nvariable \"aws_secret_key\" {}\nvariable \"region\" {}\nvariable \"default_security_group\" {}\nvariable \"lc_key_name\" {}\nprovider \"aws\" {\n  access_key = \"${var.aws_access_key}\"\n  secret_key = \"${var.aws_secret_key}\"\n  region = \"${var.region}\"\n}\n\n\nTF_VAR_aws_access_key=\u201cyouraccesskey\"\nTF_VAR_aws_secret_key=\u201cyoursecretkey\"\nTF_VAR_lc_key_name=\u201cyourkey\"\n\n\u958b\u767a\u8005\u304c\u8907\u6570\u4eba\u3067\u3082\u5927\u4e08\u592b\u306a\u3088\u3046\u306b\u3001tfstate\u306f\u5148\u307b\u3069\u6e96\u5099\u3057\u305fS3\u306b\u7f6e\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002\nterraform remote config -backend=S3 -backend-config=\u201cbucket=your-terraform-state-bucket\" -backend-config=\"key=terraform.tfstate\" -backend-config=\"encrypt=true\"\n\n\u3053\u3053\u3067\u4e00\u5ea6\u3001\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067Terraform\u304c\u5b9f\u884c\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304a\u304f\u3068\u624b\u623b\u308a\u304c\u5c11\u306a\u304f\u3066\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nWercker\u306e\u6e96\u5099\n\u5148\u307b\u3069Wercker\u3092\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u9023\u643a\u3055\u305b\u305f\u306e\u3067\u3001\u9069\u5f53\u306a\u30d6\u30e9\u30f3\u30c1\u306bpush\u3059\u308b\u3068root\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u76f4\u4e0b\u306b\u3042\u308bwercker.yaml\u3067\u8a18\u8ff0\u3057\u305f\u51e6\u7406\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n.\n\u251c\u2500\u2500 terraform\n\u2502   \u251c\u2500\u2500 common_variables.tf\n\u2502   \u251c\u2500\u2500 sample_ec2.tf\n\u2502   \u2514\u2500\u2500 terraform.tfvars\n\u2514\u2500\u2500 wercker.yml\n\n\u4eca\u56de\u306fterraform\u3092wget\u3067install\u3057\u3066\u3001\u305d\u308c\u3092\u4f7f\u3063\u3066terraform plan\u3068apply\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u540c\u6642\u306b\u3001\u305d\u306e\u4ed6\u5fc5\u8981\u306a\u3082\u306e\u3092\u4e00\u7dd2\u306binstall\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n(build\u3068deploy\u306e\u51e6\u7406\u304c\u5197\u9577\u306a\u306e\u3067\u3001box\u3084step\u3092\u5229\u7528\u3059\u308b\u3068\u3082\u3063\u3068\u7c21\u6f54\u306b\u66f8\u3051\u308b\u3068\u601d\u3044\u307e\u3059)\nbox: debian\nbuild:\n  steps:\n    - script:\n        name: install some tools\n        code: |\n          sudo apt-get update\n          sudo apt-get -f install\n          sudo apt-get install -y wget unzip curl\n    - script:\n        name: setup terraform\n        code: |\n          # create terraform directory and export PATH\n          mkdir -p $HOME/terraform\n          export PATH=$PATH:$HOME/terraform\n          # download terraform\n          VERSION=0.6.8\n          cd $HOME/terraform\n          wget https://releases.hashicorp.com/terraform/${VERSION}/terraform_${VERSION}_linux_amd64.zip\n          unzip terraform_${VERSION}_linux_amd64.zip\n          rm terraform_${VERSION}_linux_amd64.zip\n    - script:\n        name: terraform remote config\n        code: |\n          cd terraform\n          terraform remote config -backend=S3 -backend-config=\"bucket=your-terraform-state-bucket\" -backend-config=\"key=terraform.tfstate\" -backend-config=\"encrypt=true\"\n          terraform plan\n    - script:\n        name: create pull request\n        code: |\n          curl -u \"[username]:${GITHUB_TOKEN}\" -d '{\"title\": \"Terraform plan Success\",\"body\": \"You can merge this pull request\",\"head\": \"[username]:[fromBranch]\",\"base\": \"[toBranch]\"}'  https://api.github.com/repos/[username]/[yourBranch]/pulls\ndeploy:\n  steps:\n    - script:\n        name: install some tools\n        code: |\n          sudo apt-get update\n          sudo apt-get -f install\n          sudo apt-get install -y wget unzip curl\n    - script:\n        name: setup terraform\n        code: |\n          # create terraform directory and export PATH\n          mkdir -p $HOME/terraform\n          export PATH=$PATH:$HOME/terraform\n          # download terraform\n          VERSION=0.6.8\n          cd $HOME/terraform\n          wget https://releases.hashicorp.com/terraform/${VERSION}/terraform_${VERSION}_linux_amd64.zip\n          unzip terraform_${VERSION}_linux_amd64.zip\n          rm terraform_${VERSION}_linux_amd64.zip\n    - script:\n        name: terraform remote config\n        code: |\n          cd terraform\n          terraform remote config -backend=S3 -backend-config=\"bucket=your-terraform-state-bucket\" -backend-config=\"key=terraform.tfstate\" -backend-config=\"encrypt=true\"\n          terraform plan\n    - script:\n        name: terraform apply\n        code: |\n          terraform apply\n\n\n\u305d\u306e\u5f8c\u3001Wercker\u4e0a\u3067\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u306e\u3067\u3001aws\u306ekey\u3084GitHub\u306e\u30c8\u30fc\u30af\u30f3\u306a\u3069\u5fc5\u8981\u306a\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\ngit push\u304b\u3089\u30c7\u30d7\u30ed\u30a4\u307e\u3067\n\u305d\u306e\u5f8c\u3001\u9069\u5f53\u306a\u30d6\u30e9\u30f3\u30c1\u306bpush\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nWercker\u304cpush\u3092\u691c\u77e5\u3057\u3066build\u30d5\u30a7\u30fc\u30ba\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u51e6\u7406\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\nterraform plan\u307e\u3067\u6210\u529f\u3059\u308b\u3068\u3001dev\u304b\u3089master\u306bpull req\u304c\u9001\u3089\u308c\u307e\u3059\u3002\n\npull req\u3092\u30de\u30fc\u30b8\u3059\u308b\u3068merge\u3055\u308c\u305f\u3053\u3068\u3092\u691c\u77e5\u3057\u3066\u3001master\u30d6\u30e9\u30f3\u30c1\u3067build\u304c\u8d70\u308a\u307e\u3059\u3002\n\nbuild\u304c\u6210\u529f\u3057\u305f\u3089deploy\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u3001deploy\u30d5\u30a7\u30fc\u30ba\u306e\u51e6\u7406\u306b\u3042\u308bterraform apply\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\nAWS\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3068\u7121\u4e8b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u3067\u304d\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\n\u6539\u5584\u70b9\n\nWercker\u306e\u90e8\u5206\u304c\u5197\u9577\u306a\u306e\u3067Box\u3084Step\u3092\u4f7f\u3063\u3066\u3059\u3063\u304d\u308a\u3055\u305b\u305f\u3044\nterraform plan\u306e\u7d50\u679c\u3092pull req\u306ebody\u306b\u6e21\u3057\u305f\u3044\n\n\n\u53c2\u8003\n\nwercker \u306e step \u3092\u81ea\u4f5c\u3059\u308b\u30af\u30a4\u30c3\u30af\u30e1\u30e2 - \u3088\u3046\u3078\u3044\u306e\u65e5\u3005\u7cbe\u9032XP\n\n## \u6982\u8981\n\n\u3053\u3093\u306b\u3061\u306f\u3002[HashiCorp Advent Calendar 2015](http://qiita.com/advent-calendar/2015/hashicorp) 12\u65e5\u76ee\u306e@ikemonn\u3067\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001[Wercker](http://wercker.com/)\u3068[Terraform](https://terraform.io/)\u3092\u4f7f\u3063\u3066EC2\u3092\u7acb\u3066\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u66f8\u304d\u307e\u3059\u3002\n\n\u30d5\u30ed\u30fc\u3068\u3057\u3066\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002\n\n1. \u958b\u767a\u7528\u306edevelop\u30d6\u30e9\u30f3\u30c1\u306bgit push\n- push\u3092hook\u3057\u3066\u3001Wercker\u4e0a\u3067terraform plan\n- terraform plan\u304c\u901a\u3063\u305f\u3089\u81ea\u52d5\u7684\u306bpull req\u3092\u4f5c\u6210\n- pull req\u304c\u30de\u30fc\u30b8\u3055\u308c\u305f\u3089\u3001Wercker\u4e0a\u3067deploy\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001terraform apply\u3057\u3066EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u305f\u3066\u308b\n\n## \u4e0b\u6e96\u5099\n\u307e\u305a\u4e0b\u8a18\u3092\u6e08\u307e\u305b\u3066\u304a\u304d\u307e\u3059\u3002\n\n1. Wercker\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332\u3092\u3059\u308b\n2. Wercker\u3067\u5bfe\u8c61\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u767b\u9332\u3059\u308b\n3. curl\u3092\u53e9\u3044\u3066pull req\u3092\u4f5c\u308c\u308b\u3088\u3046\u306b[GitHub\u306e\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b](https://help.github.com/articles/creating-an-access-token-for-command-line-use/)\n4. tfstate\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306ebucket\u3092S3\u306b\u7528\u610f\u3059\u308b([Amazon S3 \u3067 Terraform \u306e\u72b6\u614b\u7ba1\u7406\u30d5\u30a1\u30a4\u30eb terraform.tfstate \u3092\u7ba1\u7406 / \u5171\u6709\u3059\u308b - Qiita](http://qiita.com/dtan4/items/04632f1c2f35388a3283))\n\n## Terraform\u306e\u6e96\u5099\n\u4eca\u56de\u4f5c\u308b\u306e\u306ft2.micro\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3059\u3002\n\u3053\u3093\u306a\u611f\u3058\u3067tf\u30d5\u30a1\u30a4\u30eb\u3092\u6e96\u5099\u3057\u307e\u3059\u3002\n\n```sample_ec2.tf\nresource \"aws_instance\" \"sample\" {\n    ami = \"ami-908a2f90\"\n    instance_type = \"t2.micro\"\n    availability_zone = \"ap-northeast-1a\"\n    tags {\n      Name = \"terraform_sample\"\n    }\n    vpc_security_group_ids = [\"${var.default_security_group}\"]\n    key_name = \"${var.lc_key_name}\"\n}\n```\n\n```terraform.tfvars\nregion = \"ap-northeast-1\"\ndefault_security_group = \u201csg-xxxxxxx\"\n```\n\n```common_variables.tf\nvariable \"aws_access_key\" {}\nvariable \"aws_secret_key\" {}\nvariable \"region\" {}\nvariable \"default_security_group\" {}\nvariable \"lc_key_name\" {}\nprovider \"aws\" {\n  access_key = \"${var.aws_access_key}\"\n  secret_key = \"${var.aws_secret_key}\"\n  region = \"${var.region}\"\n}\n```\n\n```\u74b0\u5883\u5909\u6570\nTF_VAR_aws_access_key=\u201cyouraccesskey\"\nTF_VAR_aws_secret_key=\u201cyoursecretkey\"\nTF_VAR_lc_key_name=\u201cyourkey\"\n```\n\n\u958b\u767a\u8005\u304c\u8907\u6570\u4eba\u3067\u3082\u5927\u4e08\u592b\u306a\u3088\u3046\u306b\u3001tfstate\u306f\u5148\u307b\u3069\u6e96\u5099\u3057\u305fS3\u306b\u7f6e\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\n```\nterraform remote config -backend=S3 -backend-config=\u201cbucket=your-terraform-state-bucket\" -backend-config=\"key=terraform.tfstate\" -backend-config=\"encrypt=true\"\n```\n\n\u3053\u3053\u3067\u4e00\u5ea6\u3001\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067Terraform\u304c\u5b9f\u884c\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304a\u304f\u3068\u624b\u623b\u308a\u304c\u5c11\u306a\u304f\u3066\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n## Wercker\u306e\u6e96\u5099\n\u5148\u307b\u3069Wercker\u3092\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u9023\u643a\u3055\u305b\u305f\u306e\u3067\u3001\u9069\u5f53\u306a\u30d6\u30e9\u30f3\u30c1\u306bpush\u3059\u308b\u3068root\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u76f4\u4e0b\u306b\u3042\u308bwercker.yaml\u3067\u8a18\u8ff0\u3057\u305f\u51e6\u7406\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\n```\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\n.\n\u251c\u2500\u2500 terraform\n\u2502   \u251c\u2500\u2500 common_variables.tf\n\u2502   \u251c\u2500\u2500 sample_ec2.tf\n\u2502   \u2514\u2500\u2500 terraform.tfvars\n\u2514\u2500\u2500 wercker.yml\n```\n\n\u4eca\u56de\u306fterraform\u3092wget\u3067install\u3057\u3066\u3001\u305d\u308c\u3092\u4f7f\u3063\u3066terraform plan\u3068apply\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u540c\u6642\u306b\u3001\u305d\u306e\u4ed6\u5fc5\u8981\u306a\u3082\u306e\u3092\u4e00\u7dd2\u306binstall\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n(build\u3068deploy\u306e\u51e6\u7406\u304c\u5197\u9577\u306a\u306e\u3067\u3001box\u3084step\u3092\u5229\u7528\u3059\u308b\u3068\u3082\u3063\u3068\u7c21\u6f54\u306b\u66f8\u3051\u308b\u3068\u601d\u3044\u307e\u3059)\n\n```\nbox: debian\nbuild:\n  steps:\n    - script:\n        name: install some tools\n        code: |\n          sudo apt-get update\n          sudo apt-get -f install\n          sudo apt-get install -y wget unzip curl\n    - script:\n        name: setup terraform\n        code: |\n          # create terraform directory and export PATH\n          mkdir -p $HOME/terraform\n          export PATH=$PATH:$HOME/terraform\n          # download terraform\n          VERSION=0.6.8\n          cd $HOME/terraform\n          wget https://releases.hashicorp.com/terraform/${VERSION}/terraform_${VERSION}_linux_amd64.zip\n          unzip terraform_${VERSION}_linux_amd64.zip\n          rm terraform_${VERSION}_linux_amd64.zip\n    - script:\n        name: terraform remote config\n        code: |\n          cd terraform\n          terraform remote config -backend=S3 -backend-config=\"bucket=your-terraform-state-bucket\" -backend-config=\"key=terraform.tfstate\" -backend-config=\"encrypt=true\"\n          terraform plan\n    - script:\n        name: create pull request\n        code: |\n          curl -u \"[username]:${GITHUB_TOKEN}\" -d '{\"title\": \"Terraform plan Success\",\"body\": \"You can merge this pull request\",\"head\": \"[username]:[fromBranch]\",\"base\": \"[toBranch]\"}'  https://api.github.com/repos/[username]/[yourBranch]/pulls\ndeploy:\n  steps:\n    - script:\n        name: install some tools\n        code: |\n          sudo apt-get update\n          sudo apt-get -f install\n          sudo apt-get install -y wget unzip curl\n    - script:\n        name: setup terraform\n        code: |\n          # create terraform directory and export PATH\n          mkdir -p $HOME/terraform\n          export PATH=$PATH:$HOME/terraform\n          # download terraform\n          VERSION=0.6.8\n          cd $HOME/terraform\n          wget https://releases.hashicorp.com/terraform/${VERSION}/terraform_${VERSION}_linux_amd64.zip\n          unzip terraform_${VERSION}_linux_amd64.zip\n          rm terraform_${VERSION}_linux_amd64.zip\n    - script:\n        name: terraform remote config\n        code: |\n          cd terraform\n          terraform remote config -backend=S3 -backend-config=\"bucket=your-terraform-state-bucket\" -backend-config=\"key=terraform.tfstate\" -backend-config=\"encrypt=true\"\n          terraform plan\n    - script:\n        name: terraform apply\n        code: |\n          terraform apply\n\n```\n\n\u305d\u306e\u5f8c\u3001Wercker\u4e0a\u3067[\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3067\u304d\u308b](http://old-devcenter.wercker.com/articles/steps/variables.html)\u306e\u3067\u3001aws\u306ekey\u3084GitHub\u306e\u30c8\u30fc\u30af\u30f3\u306a\u3069\u5fc5\u8981\u306a\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n## git push\u304b\u3089\u30c7\u30d7\u30ed\u30a4\u307e\u3067\n\n\u305d\u306e\u5f8c\u3001\u9069\u5f53\u306a\u30d6\u30e9\u30f3\u30c1\u306bpush\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nWercker\u304cpush\u3092\u691c\u77e5\u3057\u3066build\u30d5\u30a7\u30fc\u30ba\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u51e6\u7406\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n<img width=\"725\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-12 16.29.16.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/18573/734d1f56-d608-cb58-dbd9-c793823c81b0.png\">\n\n\nterraform plan\u307e\u3067\u6210\u529f\u3059\u308b\u3068\u3001dev\u304b\u3089master\u306bpull req\u304c\u9001\u3089\u308c\u307e\u3059\u3002\n\n<img width=\"601\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-12 14.30.01.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/18573/b65d965f-d8e5-9f5a-f16a-e671f7e25d86.png\">\n\npull req\u3092\u30de\u30fc\u30b8\u3059\u308b\u3068merge\u3055\u308c\u305f\u3053\u3068\u3092\u691c\u77e5\u3057\u3066\u3001master\u30d6\u30e9\u30f3\u30c1\u3067build\u304c\u8d70\u308a\u307e\u3059\u3002\n\n<img width=\"982\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-12 14.40.57.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/18573/0f925a44-348b-c318-decf-fbbec4f8921a.png\">\n\nbuild\u304c\u6210\u529f\u3057\u305f\u3089deploy\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u3001deploy\u30d5\u30a7\u30fc\u30ba\u306e\u51e6\u7406\u306b\u3042\u308b`terraform apply`\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\n<img width=\"965\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-12 16.17.16.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/18573/cab217a6-b283-9bb8-a216-e2c1de6eb16e.png\">\n\nAWS\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3068\u7121\u4e8b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u3067\u304d\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n<img width=\"1043\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-12-12 16.32.57.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/18573/a89c3cb2-e169-d9d6-9dd6-b8b716f31a47.png\">\n\n\n\n## \u6539\u5584\u70b9\n\n- Wercker\u306e\u90e8\u5206\u304c\u5197\u9577\u306a\u306e\u3067Box\u3084Step\u3092\u4f7f\u3063\u3066\u3059\u3063\u304d\u308a\u3055\u305b\u305f\u3044\n- terraform plan\u306e\u7d50\u679c\u3092pull req\u306ebody\u306b\u6e21\u3057\u305f\u3044\n\n## \u53c2\u8003\n- [wercker \u306e step \u3092\u81ea\u4f5c\u3059\u308b\u30af\u30a4\u30c3\u30af\u30e1\u30e2 - \u3088\u3046\u3078\u3044\u306e\u65e5\u3005\u7cbe\u9032XP](http://inokara.hateblo.jp/entry/2015/08/08/132035)\n", "tags": ["Terraform", "wercker"]}