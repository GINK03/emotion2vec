{"context": "\u81ea\u5206\u7528\u306ememo\u3067\u3059\n\n\u74b0\u5883\n\nCentOS 7.2\nVirtualBox 5.0.2\nHadoop 2.7.2\nHive 2.1.0\n\n\nHadoop\u69cb\u7bc9\n\nJava\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ yum -y update\n$ yum -y groupinstall 'Development tools'\n$ wget --no-check-certificate --no-cookies --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u66-b17/jdk-8u66-linux-x64.rpm\n$ rpm -ivh jdk-8u66-linux-x64.rpm\n$ export JAVA_HOME=/usr/java/jdk1.8.0_66\n$ source .bashrc\n\n\nHadoop\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ wget http://ftp.riken.jp/net/apache/hadoop/common/hadoop-2.7.2/hadoop-2.7.2.tar.gz \n$ tar -xzvf hadoop-2.7.2.tar.gz \n$ mv hadoop-2.7.2 /usr/\n$ export HADOOP_HOME=/usr/hadoop-2.7.2\n$ export PATH=$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$JAVA_HOME/bin:$PATH\n$ source .bashrc\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7de8\u96c6\n\netc/hadoop/core-site.xml:\n\n<configuration>\n    <property>\n        <name>fs.defaultFS</name>\n        <value>hdfs://localhost:9000</value>\n    </property>\n</configuration>\n\n\netc/hadoop/hdfs-site.xml:\n\n<configuration>\n    <property>\n        <name>dfs.replication</name>\n        <value>1</value>\n    </property>\n</configuration>\n\n\netc/hadoop/mapred-site.xml:\n\n<configuration>\n    <property>\n        <name>mapreduce.framework.name</name>\n        <value>yarn</value>\n    </property>\n</configuration>\n\n\netc/hadoop/yarn-site.xml:\n\n<configuration>\n    <property>\n        <name>yarn.nodemanager.aux-services</name>\n        <value>mapreduce_shuffle</value>\n    </property>\n</configuration>\n\n\n\u8d77\u52d5\n$ hadoop namenode -format\n$ start-dfs.sh\n$ start-yarn.sh\n\n\n\u8d77\u52d5\u78ba\u8a8d\n$ jps\n\n28962 NodeManager\n28868 ResourceManager\n28713 SecondaryNameNode\n28554 DataNode\n29245 Jps\n28431 NameNode\n\n\nHive\u69cb\u7bc9\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ wget http://ftp.riken.jp/net/apache/hive/hive-2.1.0/apache-hive-2.1.0-bin.tar.gz\n$ tar -xzvf apache-hive-2.1.0-bin.tar.gz\n$ mv apache-hive-2.1.0-bin /usr/hive-2.1.0\n$ export HIVE_HOME=/usr/hive-2.1.0\n$ export PATH=$PATH:$HIVE_HOME/bin\n$ souce .bashrc\n\n\u3053\u3053\u3067hive\u5b9f\u884c\u5f8c\u30a8\u30e9\u30fc\u3001\u3001\u3001\n\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u304c\u3001\u4ee5\u4e0b\u3092\u8a66\u3057\u305f\u3089OK\u3060\u3063\u305f\n$ mv metastore_db metastore_db.tmp\n$ schematool -initSchema -dbType derby\n$ hive\n\n\n\u81ea\u5206\u7528\u306ememo\u3067\u3059\n\n# \u74b0\u5883\n- CentOS 7.2\n- VirtualBox 5.0.2\n- Hadoop 2.7.2\n- Hive 2.1.0\n\n# Hadoop\u69cb\u7bc9\n\n## Java\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ yum -y update\n$ yum -y groupinstall 'Development tools'\n$ wget --no-check-certificate --no-cookies --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u66-b17/jdk-8u66-linux-x64.rpm\n$ rpm -ivh jdk-8u66-linux-x64.rpm\n$ export JAVA_HOME=/usr/java/jdk1.8.0_66\n$ source .bashrc\n```\n\n## Hadoop\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ wget http://ftp.riken.jp/net/apache/hadoop/common/hadoop-2.7.2/hadoop-2.7.2.tar.gz \n$ tar -xzvf hadoop-2.7.2.tar.gz \n$ mv hadoop-2.7.2 /usr/\n$ export HADOOP_HOME=/usr/hadoop-2.7.2\n$ export PATH=$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$JAVA_HOME/bin:$PATH\n$ source .bashrc\n```\n\n## \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7de8\u96c6\n\n- etc/hadoop/core-site.xml:\n\n```\n<configuration>\n    <property>\n        <name>fs.defaultFS</name>\n        <value>hdfs://localhost:9000</value>\n    </property>\n</configuration>\n```\n\n- etc/hadoop/hdfs-site.xml:\n\n```\n<configuration>\n    <property>\n        <name>dfs.replication</name>\n        <value>1</value>\n    </property>\n</configuration>\n```\n\n- etc/hadoop/mapred-site.xml:\n\n```\n<configuration>\n    <property>\n        <name>mapreduce.framework.name</name>\n        <value>yarn</value>\n    </property>\n</configuration>\n```\n\n- etc/hadoop/yarn-site.xml:\n\n```\n<configuration>\n    <property>\n        <name>yarn.nodemanager.aux-services</name>\n        <value>mapreduce_shuffle</value>\n    </property>\n</configuration>\n```\n\n## \u8d77\u52d5\n\n```\n$ hadoop namenode -format\n$ start-dfs.sh\n$ start-yarn.sh\n```\n\n## \u8d77\u52d5\u78ba\u8a8d\n\n```\n$ jps\n\n28962 NodeManager\n28868 ResourceManager\n28713 SecondaryNameNode\n28554 DataNode\n29245 Jps\n28431 NameNode\n```\n\n# Hive\u69cb\u7bc9\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ wget http://ftp.riken.jp/net/apache/hive/hive-2.1.0/apache-hive-2.1.0-bin.tar.gz\n$ tar -xzvf apache-hive-2.1.0-bin.tar.gz\n$ mv apache-hive-2.1.0-bin /usr/hive-2.1.0\n$ export HIVE_HOME=/usr/hive-2.1.0\n$ export PATH=$PATH:$HIVE_HOME/bin\n$ souce .bashrc\n```\n\n\u3053\u3053\u3067hive\u5b9f\u884c\u5f8c\u30a8\u30e9\u30fc\u3001\u3001\u3001\n\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u304c\u3001\u4ee5\u4e0b\u3092\u8a66\u3057\u305f\u3089OK\u3060\u3063\u305f\n\n```\n$ mv metastore_db metastore_db.tmp\n$ schematool -initSchema -dbType derby\n$ hive\n```\n\n\n", "tags": ["centos7", "vagrant", "hadoop"]}