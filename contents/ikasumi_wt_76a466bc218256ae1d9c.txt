{"tags": ["JavaScript", "Underscore.js"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002underscore\u306b\u8a73\u3057\u304f\u306a\u3044\u306e\u3067\u3001\u52c9\u5f37\u534a\u5206\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8aad\u3080\u3002\n\n\u5229\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\nunderscore.js(v1.8.3)\n\nflatten\u3068\u306f\n\nunderscorejs.org\u306eflatten\n\n\u3053\u3093\u306a\u8aac\u660e\u3002\n\n\n_.flatten(array, [shallow])\nFlattens a nested array (the nesting can be to any depth). \nIf you pass shallow, the array will only be flattened a single level.\n\n\n_.flatten([1, [2], [3, [[4]]]]);\n=> [1, 2, 3, 4];\n\n_.flatten([1, [2], [3, [[4]]]], true);\n=> [1, 2, 3, [[4]]];\n\n\n\n\u30cd\u30b9\u30c8\u5316\u3055\u308c\u305f\u914d\u5217\u3092\u30d5\u30e9\u30c3\u30c8\u306b\u3057\u307e\u3059\u3002\uff08\u30cd\u30b9\u30c8\u5316\u3055\u308c\u3066\u3044\u308b\u6df1\u3055\u306f\u3069\u308c\u3060\u3051\u3067\u3082\u3067\u3059\uff09\n\u3082\u3057shallow\u3092\u6e21\u3055\u308c\u305f\u5834\u5408\u3001\u30d5\u30e9\u30c3\u30c8\u5316\u3055\u308c\u308b\u306e\u306f1\u968e\u5c64\u306e\u307f\u3067\u3059\u3002\n\nunderscore.flatten\n\n\u30b3\u30fc\u30c9\u7684\u306b\u306f\u3053\u306e\u3042\u305f\u308a\u3002\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n\n_.flatten\u306fflatten\u95a2\u6570\u306barray\u3068shallow,false\u3092\u6e21\u3059\u306e\u307f\u3002\nflatten\u306finput(array)\u306b\u5bfe\u3057\u3066input.length\u307e\u3067for\u6587\u3092\u56de\u3059\u3002\n\u914d\u5217\u306e\u4e2d\u306e\u5024(value)\u304cisArrayLike\u306b\u5408\u81f4\u3057\u3066\u3044\u3066\u3001\u304b\u3064isArray\u3082\u3057\u304f\u306fisArguments\u306b\u5f53\u3066\u306f\u307e\u308b\u5834\u5408\u306f\nshallow\u304ctrue\u3067\u306a\u3044\u5834\u5408\u306f\u518d\u5e30\u7684\u306bflatten\u95a2\u6570\u306b\u5024\u3092\u53d7\u3051\u6e21\u3059\u3002\noutput\u306elength\u306bvalue\u306elength\u3092\u8db3\u3057\u5408\u308f\u305b\u308b\u3002\n\u305d\u306e\u4e0a\u3067\u73fe\u5728\u306eoutput\u306e\u4f4d\u7f6e\u3067\u3042\u308bidx\u3092\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3057\u306a\u304c\u3089output\u306eidx\u756a\u76ee\u306bvalue\u3092\u683c\u7d0d\u3059\u308b\u3002\n\u914d\u5217\u306e\u4e2d\u306e\u5024(value)\u304cisArrayLike\u306b\u5408\u81f4\u3057\u3066\u3044\u3066\u3001\u304b\u3064isArray\u3082\u3057\u304f\u306fisArguments\u306b\u5f53\u3066\u306f\u307e\u3089\u306a\u3044\u5834\u5408\uff08\u304b\u3064strict\u304c\u306a\u3044\u5834\u5408\uff09\u306f\u3001output\u306eidx\u756a\u76ee\u306bvalue\u3092\u683c\u7d0d\u3059\u308b\u3002\u5f8c\u7f6e\u306a\u306e\u3067\u3001\u683c\u7d0d\u5f8c\u306bidx\u3092\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3059\u308b\u3002\n\n\n\nunderscore\u306b\u8a73\u3057\u304f\u306a\u3044\u306e\u3067\u3001\u52c9\u5f37\u534a\u5206\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8aad\u3080\u3002\n\n\n##\u5229\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\n[underscore.js(v1.8.3)](https://github.com/jashkenas/underscore/tree/1.8.3)\n\n\n##flatten\u3068\u306f\n\n\n\n###[underscorejs.org\u306eflatten](http://underscorejs.org/#flatten)\n\n\u3053\u3093\u306a\u8aac\u660e\u3002\n>####_.flatten(array, [shallow]) \n>Flattens a nested array (the nesting can be to any depth). \n>If you pass shallow, the array will only be flattened a single level.\n\n\n```javascript\n\n_.flatten([1, [2], [3, [[4]]]]);\n=> [1, 2, 3, 4];\n\n_.flatten([1, [2], [3, [[4]]]], true);\n=> [1, 2, 3, [[4]]];\n\n```\n\n------------- \n\u30cd\u30b9\u30c8\u5316\u3055\u308c\u305f\u914d\u5217\u3092\u30d5\u30e9\u30c3\u30c8\u306b\u3057\u307e\u3059\u3002\uff08\u30cd\u30b9\u30c8\u5316\u3055\u308c\u3066\u3044\u308b\u6df1\u3055\u306f\u3069\u308c\u3060\u3051\u3067\u3082\u3067\u3059\uff09\n\u3082\u3057shallow\u3092\u6e21\u3055\u308c\u305f\u5834\u5408\u3001\u30d5\u30e9\u30c3\u30c8\u5316\u3055\u308c\u308b\u306e\u306f1\u968e\u5c64\u306e\u307f\u3067\u3059\u3002\n\n\n###[underscore.flatten](https://github.com/jashkenas/underscore/blob/1.8.3/underscore.js#L509)\n\n\u30b3\u30fc\u30c9\u7684\u306b\u306f\u3053\u306e\u3042\u305f\u308a\u3002\n\n\n```javascript\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n```\n_.flatten\u306fflatten\u95a2\u6570\u306barray\u3068shallow,false\u3092\u6e21\u3059\u306e\u307f\u3002\nflatten\u306finput(array)\u306b\u5bfe\u3057\u3066input.length\u307e\u3067for\u6587\u3092\u56de\u3059\u3002\n\u914d\u5217\u306e\u4e2d\u306e\u5024(value)\u304cisArrayLike\u306b\u5408\u81f4\u3057\u3066\u3044\u3066\u3001\u304b\u3064isArray\u3082\u3057\u304f\u306fisArguments\u306b\u5f53\u3066\u306f\u307e\u308b\u5834\u5408\u306f\nshallow\u304ctrue\u3067\u306a\u3044\u5834\u5408\u306f\u518d\u5e30\u7684\u306bflatten\u95a2\u6570\u306b\u5024\u3092\u53d7\u3051\u6e21\u3059\u3002\noutput\u306elength\u306bvalue\u306elength\u3092\u8db3\u3057\u5408\u308f\u305b\u308b\u3002\n\u305d\u306e\u4e0a\u3067\u73fe\u5728\u306eoutput\u306e\u4f4d\u7f6e\u3067\u3042\u308bidx\u3092\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3057\u306a\u304c\u3089output\u306eidx\u756a\u76ee\u306bvalue\u3092\u683c\u7d0d\u3059\u308b\u3002\n\u914d\u5217\u306e\u4e2d\u306e\u5024(value)\u304cisArrayLike\u306b\u5408\u81f4\u3057\u3066\u3044\u3066\u3001\u304b\u3064isArray\u3082\u3057\u304f\u306fisArguments\u306b\u5f53\u3066\u306f\u307e\u3089\u306a\u3044\u5834\u5408\uff08\u304b\u3064strict\u304c\u306a\u3044\u5834\u5408\uff09\u306f\u3001output\u306eidx\u756a\u76ee\u306bvalue\u3092\u683c\u7d0d\u3059\u308b\u3002\u5f8c\u7f6e\u306a\u306e\u3067\u3001\u683c\u7d0d\u5f8c\u306bidx\u3092\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3059\u308b\u3002\n"}