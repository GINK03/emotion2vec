{"tags": ["docker", "npm"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002Doing npm install on a container when building image is notoriously slow. It should be slow because it's on a virtual machine (I was using boot2docker), but it's like heaven and earth when compared to npm install on host machine. Try using npm install --verbose, on host machine you won't be able to read the log because it scrolls so fast. While on a container, you can see it's stopping every now and then -- especially when creating a .cache.json file.\nTry this before npm install:\n\nnpm config set registry http://registry.npmjs.org/\n\neg:\n# Dockerfile\nRUN npm config set registry http://registry.npmjs.org/ && npm install --no-optional --verbose\n\nIt works magic for me!  \nDoing `npm install` on a container when building image is notoriously slow. It should be slow because it's on a virtual machine (I was using `boot2docker`), but it's like heaven and earth when compared to npm install on host machine. Try using `npm install --verbose`, on host machine you won't be able to read the log because it scrolls so fast. While on a container, you can see it's stopping every now and then -- especially when creating a `.cache.json` file.\n\nTry this before `npm install`:\n> `npm config set registry http://registry.npmjs.org/`\n\neg:\n\n```\n# Dockerfile\nRUN npm config set registry http://registry.npmjs.org/ && npm install --no-optional --verbose\n```\n\nIt works magic for me! :shipit: \n"}