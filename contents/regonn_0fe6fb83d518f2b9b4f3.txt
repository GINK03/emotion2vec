{"context": "Rails5.0.0.rc1 \u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3066\u8272\u3005\u306a\u4eba\u304c\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306e\u30c1\u30e3\u30c3\u30c8\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066\u3044\u308b\u306e\u3067\u81ea\u5206\u3067\u3082\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u5b9f\u88c5\u3057\u3066\u307f\u3066\u3001Heroku\u4e0a\u3067\u52d5\u304b\u3059\u3068\u3053\u308d\u307e\u3067\u3084\u3063\u3066\u307f\u305f\u306e\u3067\u5171\u6709\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30a2\u30d7\u30ea\u306e\u60c5\u5831\n\n\u5b9f\u969b\u306b\u4f5c\u3063\u305f\u30a2\u30d7\u30ea\n\n\n\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u63b2\u793a\u677f\n\n\ngithub\u30ea\u30dd\u30b8\u30c8\u30ea\n\n\nregonn/bulletin-board\n\n\n\u53c2\u8003\u30b5\u30a4\u30c8\n\n\nRails5.0.0.rc1 \u3067\u30c1\u30e3\u30c3\u30c8\u3092\u4f5c\u308d\u3046\uff01 - TickleCode\nRails 5 + ActionCable\u3067\u4f5c\u308b\uff01\u30b7\u30f3\u30d7\u30eb\u306a\u30c1\u30e3\u30c3\u30c8\u30a2\u30d7\u30ea\uff08DHH\u6c0f\u306e\u30c7\u30e2\u52d5\u753b\u3088\u308a\uff09 - Qiita\n\n\n\u89e3\u8aac\u52d5\u753b\n\n\n\u53cb\u9054\u3068\u89e3\u8aac\u52d5\u753b\u3082\u4f5c\u3063\u305f\u306e\u3067\u3001\u3053\u3061\u3089\u3082\u898b\u3066\u304a\u304f\u3068\u7406\u89e3\u304c\u6df1\u307e\u308b\u304b\u3082\u3002\n\n\n\n[\u7530\u4e2dTOM] rails5 chat app on heroku 2016/05/29\n\n\u30b3\u30df\u30c3\u30c8\u3092\u89e3\u8aac\n\n1. rails5.0.0.rc1 \u3067 rails new\nrails new \u00b7 regonn/bulletin-board@d3e8712\n$ rails new \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u5b9f\u884c\u524d\u306b $ rails -v \u3067 rails 5.0.0.rc1 \u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304f\u3068\u826f\u3055\u305d\u3046\u3002\n\n2. room controller \u4f5c\u6210\nrails g controller rooms show \u00b7 regonn/bulletin-board@5806d91\n\u30c1\u30e3\u30c3\u30c8\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e room \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002$ rails g controller rooms show \u3092\u5b9f\u884c room \u306f\u4e00\u3064\u3060\u3051\u306a\u306e\u3067 show action \u306e\u307f\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n3. Message \u30e2\u30c7\u30eb\u4f5c\u6210\nrails g model message content:text name:string + rails db:migrate \u00b7 regonn/bulletin-board@fbf9267\n\u4eca\u5ea6\u306f\u6295\u7a3f\u60c5\u5831\u3092\u6301\u3064 Message Model \u4f5c\u6210\u3002migrate \u304c $ rails db:migrate \u306b\u306a\u3063\u305f(rake\u30bf\u30b9\u30af\u3082\u5f15\u304d\u7d9a\u304d\u4f7f\u3048\u308b)\u306e\u3067\u3001\u5c11\u3057\u9055\u548c\u611f\u304c\u3042\u308b\u3002\u3002\u3002 \n\n4. room show \u30da\u30fc\u30b8\u4f5c\u6210\nrooms show \u30da\u30fc\u30b8\u306e\u4f5c\u6210 \u00b7 regonn/bulletin-board@40d22d9\nroom \u3092\u8868\u793a\u3059\u308b\u3002\u7a81\u8cab\u5de5\u4e8b\u306a\u306e\u3067 strftime \u3084 br \u30bf\u30b0\u306f\u3054\u611b\u5b0c\u3002\n\n5. channel \u4f5c\u6210\nrails g channel room speak \u00b7 regonn/bulletin-board@03ba5ce\n$ rails g channel room speak \u3092\u5b9f\u884c\u3002\u4eca\u5f8c\u306f\u304a\u4e16\u8a71\u306b\u306a\u308a\u305d\u3046\u306a\u6a5f\u80fd\u3002\n\n6. \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\u30e1\u30bd\u30c3\u30c9\u8ffd\u52a0\napp/assets/javascripts/channels/room.coffee \u306e \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\u30e1\u30bd\u30c3\u30c9\u8ffd\u52a0 \u00b7 regonn/bulletin-board@b1a7407\nroom.coffee \u3092\u89e6\u308b\u3002\u30b5\u30f3\u30d7\u30eb\u3060\u3068\u3001content \u306e\u307f\u3060\u304c\u3001\u4eca\u56de\u306f name \u3082\u6295\u7a3f\u3059\u308b\u306e\u3067\u5f15\u65702\u3064\u3002\u914d\u5217\u3084\u30cf\u30c3\u30b7\u30e5\u3067\u6e21\u3057\u305f\u307b\u3046\u304c\u304a\u884c\u5100\u304c\u3044\u3044\u3060\u308d\u3046\u304b\uff1f\n\n7. \u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3059\u308b\u30c1\u30e3\u30f3\u30cd\u30eb\u30e1\u30bd\u30c3\u30c9\u3092\u8a2d\u5b9a\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3059\u308b\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u8a2d\u5b9a \u00b7 regonn/bulletin-board@dce08f8\nstream_from \"room_channel\" \u3068\u304b\u5fd8\u308c\u305d\u3046\u306b\u306a\u308b\u3002\u3042\u3068\u3001app/channels/room_channel.rb \u306b\u30b3\u30e1\u30f3\u30c8\u3082\u66f8\u3044\u3066\u3042\u308b\u3051\u3069\u3001\u3053\u3053\u3092\u66f8\u304d\u63db\u3048\u305f\u3089 rails \u3092\u518d\u8d77\u52d5\u3057\u306a\u3044\u3068\u53cd\u6620\u3055\u308c\u306a\u3044\u306e\u3067\u3001\u8981\u6ce8\u610f!\n\n8. \u6295\u7a3f\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210\n\u6295\u7a3f\u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210 \u00b7 regonn/bulletin-board@d25de1c\n\u6295\u7a3f\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210\u3002rails \u4f7f\u3063\u3066\u308b\u306a\u3089 form_for \u4f7f\u3044\u305f\u304f\u306a\u308b\u3002\n\n9. Message\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u3042\u3063\u305f\u5834\u5408\u306bBroadcast\nMessage\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u3042\u3063\u305f\u6642\u306bBroadcast\u3059\u308b\u8a2d\u5b9a\u3092\u8ffd\u52a0 \u00b7 regonn/bulletin-board@68e70d3\nafter_create_commit \u306f after_commit :hoge, on: :create \u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3002Message\u304c\u4fdd\u5b58\u3001\u66f4\u65b0\u3001\u524a\u9664\u3055\u308c\u308b\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u3002 http://edgeapi.rubyonrails.org/classes/ActiveRecord/Transactions/ClassMethods.html#method-i-after_create_commit\n\n10. Broadcast \u306e job \u4f5c\u6210\nrails g job MessageBroadcast \u00b7 regonn/bulletin-board@5a804de\n$ rails g job MessageBroadcast \u3053\u306e\u30b3\u30de\u30f3\u30c9\u3082\u7d50\u69cb\u304a\u4e16\u8a71\u306b\u306a\u308a\u305d\u3046\u3060\u3002\n\n11. job\u3067 Message \u3092 broadcast\njob \u3067 message \u3092 broadcast \u3059\u308b\u8a2d\u5b9a\u3092\u8ffd\u52a0 \u00b7 regonn/bulletin-board@f8fa9ee\nrender \u3057\u3066\u3001\u305d\u306e\u5185\u5bb9\u3092broadcast\u3002\u3053\u3093\u306a\u611f\u3058\u3067 render \u3063\u3066\u4f7f\u3048\u308b\u306e\u304b\u3002\n\n12. \u6295\u7a3f\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u306e\u51e6\u7406\u3068\u53d7\u4fe1\u51e6\u7406\n\u6295\u7a3f\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u306e\u51e6\u7406\u3068\u53d7\u4fe1\u6642\u306ejavascript\u306e\u51e6\u7406\u3092\u8ffd\u52a0 \u00b7 regonn/bulletin-board@8c00934\nname\u306e\u5165\u529b\u306f\u305d\u306e\u307e\u307e\u306b\u3057\u305f\u3044\u3093\u3060\u3051\u3069\u3001\u6295\u7a3f\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001\u753b\u9762\u304c\u66f4\u65b0\u3055\u308c\u3066\u3057\u307e\u3046\u3002\u3002\u3002\n\n13. Heroku\u7528 gemfile \u8ffd\u52a0\nHeroku\u7528 gemfile \u8ffd\u52a0 \u00b7 regonn/bulletin-board@e5c385d\n\u3053\u3053\u304b\u3089\u306f Heroku \u306e\u8a2d\u5b9a\u3002sqlite3 \u306f Heroku \u3067\u4f7f\u3048\u306a\u3044\u306e\u3067 develop \u306b\u79fb\u52d5\u3057\u3066\u3001pg rails_12factor redis gem \u3092 production \u306b\u8ffd\u52a0\u3002redis \u306f\u30ed\u30fc\u30ab\u30eb\u3067\u306f\u5fc5\u8981\u306a\u3044\u3051\u3069\u3001\u672c\u756a\u74b0\u5883\u3060\u3068\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u52dd\u624b\u306b\u547c\u3070\u308c\u308b\u306e\u3067 gem \u3092\u5165\u308c\u3066\u304a\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\n\n14. Heroku \u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066 \u5bfe\u5fdc\u3059\u308b URL \u3092 action_cable_url \u306b\u8ffd\u52a0\nheroku \u306e \u30a2\u30d7\u30ea\u3092\u4f5c\u308a\u3001action_cable_url \u3068 \u8a31\u53ef\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u3092\u8a2d\u5b9a + ssl \u3092\u5f37\u5236 \u00b7 regonn/bulletin-board@efac3b9\nHeroku\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u3066\u3001\u30a2\u30d7\u30ea\u306eURL\u3092\u6c7a\u5b9a\u3057\u305f\u5f8c\u306b\u3001action_cable_url \u3092\u8a2d\u5b9a\u3002ssl \u306f\u5fc5\u9808\u3067\u306f\u306a\u3044\u304c\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u3002\n\n15. Heroku \u306b redis \u3092\u8ffd\u52a0\u3057\u3066\u60c5\u5831\u3092\u8ffd\u52a0\nredis \u306e\u60c5\u5831\u4fee\u6b63 \u00b7 regonn/bulletin-board@ab6b408\nrails secrets \u306e\u4f7f\u3044\u65b9\u3092\u9593\u9055\u3048\u305f\u306e\u3067\u4fee\u6b63\u3057\u3066\u3044\u308b\u3002\u30a2\u30c9\u30aa\u30f3\u306b\u306f redis to go \u3092\u5229\u7528\u3002\u74b0\u5883\u5909\u6570\u306e\u60c5\u5831\u306f\u3001\u81ea\u5206\u306e\u30a2\u30d7\u30ea\u306e\u30a2\u30c9\u30aa\u30f3\u60c5\u5831\u306e\u30da\u30fc\u30b8\u304b\u3089redis to go\u306e\u8a73\u7d30\u30da\u30fc\u30b8\u306b\u98db\u3093\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n\u5b9f\u969b\u306b\u4f5c\u3063\u3066\u307f\u3066\n\u7d50\u69cb\u899a\u3048\u308b\u3053\u3068\u3068\u7406\u89e3\u3067\u304d\u3066\u3044\u306a\u3044\u90e8\u5206\u304c\u591a\u3044\u306e\u3067\u3001\u3061\u3083\u3093\u3068\u4f7f\u3044\u3053\u306a\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u6c17\u8efd\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u51e6\u7406\u306eRails \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4f5c\u3063\u3066\u3044\u304d\u305f\u3044\u3067\u3059\u306d\u3002\n\n\u5ba3\u4f1d\n\u7530\u4e2dTOM \u3068\u3044\u3046\u540d\u524d\u3067 \u6c17\u306b\u306a\u3063\u3066\u3044\u308b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u7b49\u3092\u52d5\u753b\u6295\u7a3f\u3057\u3066\u3044\u307e\u3059\u3002\nFacebook\nYoutube\nLivecoding.tv\n\nRails5.0.0.rc1 \u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3066\u8272\u3005\u306a\u4eba\u304c\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306e\u30c1\u30e3\u30c3\u30c8\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066\u3044\u308b\u306e\u3067\u81ea\u5206\u3067\u3082\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u5b9f\u88c5\u3057\u3066\u307f\u3066\u3001Heroku\u4e0a\u3067\u52d5\u304b\u3059\u3068\u3053\u308d\u307e\u3067\u3084\u3063\u3066\u307f\u305f\u306e\u3067\u5171\u6709\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n# \u30a2\u30d7\u30ea\u306e\u60c5\u5831\n- \u5b9f\u969b\u306b\u4f5c\u3063\u305f\u30a2\u30d7\u30ea\n\t- [\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u63b2\u793a\u677f](https://bulletin-tanaka-tom.herokuapp.com/)\n- github\u30ea\u30dd\u30b8\u30c8\u30ea\n\t- [regonn/bulletin-board](https://github.com/regonn/bulletin-board)\n- \u53c2\u8003\u30b5\u30a4\u30c8\n\t- [Rails5.0.0.rc1 \u3067\u30c1\u30e3\u30c3\u30c8\u3092\u4f5c\u308d\u3046\uff01 - TickleCode](http://ticklecode.com/rails-5-0-0-rc1-chat-action-cable/)\n\t- [Rails 5 + ActionCable\u3067\u4f5c\u308b\uff01\u30b7\u30f3\u30d7\u30eb\u306a\u30c1\u30e3\u30c3\u30c8\u30a2\u30d7\u30ea\uff08DHH\u6c0f\u306e\u30c7\u30e2\u52d5\u753b\u3088\u308a\uff09 - Qiita](http://qiita.com/jnchito/items/aec75fab42804287d71b)\n- \u89e3\u8aac\u52d5\u753b\n\t- \u53cb\u9054\u3068\u89e3\u8aac\u52d5\u753b\u3082\u4f5c\u3063\u305f\u306e\u3067\u3001\u3053\u3061\u3089\u3082\u898b\u3066\u304a\u304f\u3068\u7406\u89e3\u304c\u6df1\u307e\u308b\u304b\u3082\u3002\n\n\n<a href='https://www.youtube.com/watch?v=cAOYjAFYpGg'>[\u7530\u4e2dTOM] rails5 chat app on heroku 2016/05/29<img src='https://qiita-image-store.s3.amazonaws.com/0/10375/cbdef1d6-4275-c2ca-6567-5cb2719d1fd4.png'></a>\n\n\n# \u30b3\u30df\u30c3\u30c8\u3092\u89e3\u8aac\n\n## 1. rails5.0.0.rc1 \u3067 rails new\n[rails new \u00b7 regonn/bulletin-board@d3e8712](https://github.com/regonn/bulletin-board/commit/d3e87120c3b9f103e90285ef9af2e9fa04e33bc8)\n`$ rails new` \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u5b9f\u884c\u524d\u306b `$ rails -v` \u3067 `rails 5.0.0.rc1` \u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304f\u3068\u826f\u3055\u305d\u3046\u3002\n\n## 2. room controller \u4f5c\u6210\n[rails g controller rooms show \u00b7 regonn/bulletin-board@5806d91](https://github.com/regonn/bulletin-board/commit/5806d914d7523bca5fc0b43cf8d0b54d95844a25)\n\u30c1\u30e3\u30c3\u30c8\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e room \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002`$ rails g controller rooms show` \u3092\u5b9f\u884c room \u306f\u4e00\u3064\u3060\u3051\u306a\u306e\u3067 show action \u306e\u307f\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n## 3. Message \u30e2\u30c7\u30eb\u4f5c\u6210\n[rails g model message content:text name:string + rails db:migrate \u00b7 regonn/bulletin-board@fbf9267](https://github.com/regonn/bulletin-board/commit/fbf9267e50c13bbb4d736b8e29ce0b40ad92b2b9)\n\u4eca\u5ea6\u306f\u6295\u7a3f\u60c5\u5831\u3092\u6301\u3064 Message Model \u4f5c\u6210\u3002migrate \u304c `$ rails db:migrate` \u306b\u306a\u3063\u305f(rake\u30bf\u30b9\u30af\u3082\u5f15\u304d\u7d9a\u304d\u4f7f\u3048\u308b)\u306e\u3067\u3001\u5c11\u3057\u9055\u548c\u611f\u304c\u3042\u308b\u3002\u3002\u3002 \n\n## 4. room show \u30da\u30fc\u30b8\u4f5c\u6210\n[rooms show \u30da\u30fc\u30b8\u306e\u4f5c\u6210 \u00b7 regonn/bulletin-board@40d22d9](https://github.com/regonn/bulletin-board/commit/40d22d977142ffb16d3d15494b0fce3d6b627be4)\nroom \u3092\u8868\u793a\u3059\u308b\u3002\u7a81\u8cab\u5de5\u4e8b\u306a\u306e\u3067 `strftime` \u3084 `br` \u30bf\u30b0\u306f\u3054\u611b\u5b0c\u3002\n\n## 5. channel \u4f5c\u6210\n[rails g channel room speak \u00b7 regonn/bulletin-board@03ba5ce](https://github.com/regonn/bulletin-board/commit/03ba5ceea50946824c310bff9cae89bd69226988)\n`$ rails g channel room speak` \u3092\u5b9f\u884c\u3002\u4eca\u5f8c\u306f\u304a\u4e16\u8a71\u306b\u306a\u308a\u305d\u3046\u306a\u6a5f\u80fd\u3002\n\n## 6. \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\u30e1\u30bd\u30c3\u30c9\u8ffd\u52a0\n[app/assets/javascripts/channels/room.coffee \u306e \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\u30e1\u30bd\u30c3\u30c9\u8ffd\u52a0 \u00b7 regonn/bulletin-board@b1a7407](https://github.com/regonn/bulletin-board/commit/b1a7407edd1e359f2cfec685a4f2a808939cbb0f)\n`room.coffee` \u3092\u89e6\u308b\u3002\u30b5\u30f3\u30d7\u30eb\u3060\u3068\u3001content \u306e\u307f\u3060\u304c\u3001\u4eca\u56de\u306f name \u3082\u6295\u7a3f\u3059\u308b\u306e\u3067\u5f15\u65702\u3064\u3002\u914d\u5217\u3084\u30cf\u30c3\u30b7\u30e5\u3067\u6e21\u3057\u305f\u307b\u3046\u304c\u304a\u884c\u5100\u304c\u3044\u3044\u3060\u308d\u3046\u304b\uff1f\n\n## 7. \u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3059\u308b\u30c1\u30e3\u30f3\u30cd\u30eb\u30e1\u30bd\u30c3\u30c9\u3092\u8a2d\u5b9a\n[\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3059\u308b\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u8a2d\u5b9a \u00b7 regonn/bulletin-board@dce08f8](https://github.com/regonn/bulletin-board/commit/dce08f8f4cc452c040ed6af6ca83af800440a596)\n`stream_from \"room_channel\"` \u3068\u304b\u5fd8\u308c\u305d\u3046\u306b\u306a\u308b\u3002\u3042\u3068\u3001app/channels/room_channel.rb \u306b\u30b3\u30e1\u30f3\u30c8\u3082\u66f8\u3044\u3066\u3042\u308b\u3051\u3069\u3001\u3053\u3053\u3092\u66f8\u304d\u63db\u3048\u305f\u3089 rails \u3092\u518d\u8d77\u52d5\u3057\u306a\u3044\u3068\u53cd\u6620\u3055\u308c\u306a\u3044\u306e\u3067\u3001\u8981\u6ce8\u610f!\n\n## 8. \u6295\u7a3f\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210\n[\u6295\u7a3f\u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210 \u00b7 regonn/bulletin-board@d25de1c](https://github.com/regonn/bulletin-board/commit/d25de1c6c2229bf5b63fdb5e946d782171a905aa)\n\u6295\u7a3f\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210\u3002rails \u4f7f\u3063\u3066\u308b\u306a\u3089 form_for \u4f7f\u3044\u305f\u304f\u306a\u308b\u3002\n\n## 9. Message\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u3042\u3063\u305f\u5834\u5408\u306bBroadcast\n[Message\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u3042\u3063\u305f\u6642\u306bBroadcast\u3059\u308b\u8a2d\u5b9a\u3092\u8ffd\u52a0 \u00b7 regonn/bulletin-board@68e70d3](https://github.com/regonn/bulletin-board/commit/68e70d366a051a2afac57d4ee8109a408d22aa03)\n`after_create_commit` \u306f `after_commit :hoge, on: :create` \u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3002Message\u304c\u4fdd\u5b58\u3001\u66f4\u65b0\u3001\u524a\u9664\u3055\u308c\u308b\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u3002 http://edgeapi.rubyonrails.org/classes/ActiveRecord/Transactions/ClassMethods.html#method-i-after_create_commit\n\n\n## 10. Broadcast \u306e job \u4f5c\u6210\n[rails g job MessageBroadcast \u00b7 regonn/bulletin-board@5a804de](https://github.com/regonn/bulletin-board/commit/5a804dec21ed309eba71f3c29bb423e590fbfe22)\n`$ rails g job MessageBroadcast` \u3053\u306e\u30b3\u30de\u30f3\u30c9\u3082\u7d50\u69cb\u304a\u4e16\u8a71\u306b\u306a\u308a\u305d\u3046\u3060\u3002\n\n## 11. job\u3067 Message \u3092 broadcast\n[job \u3067 message \u3092 broadcast \u3059\u308b\u8a2d\u5b9a\u3092\u8ffd\u52a0 \u00b7 regonn/bulletin-board@f8fa9ee](https://github.com/regonn/bulletin-board/commit/f8fa9ee883cea40d9d6f0532f9508637625dfc77)\n`render` \u3057\u3066\u3001\u305d\u306e\u5185\u5bb9\u3092broadcast\u3002\u3053\u3093\u306a\u611f\u3058\u3067 `render` \u3063\u3066\u4f7f\u3048\u308b\u306e\u304b\u3002\n\n## 12. \u6295\u7a3f\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u306e\u51e6\u7406\u3068\u53d7\u4fe1\u51e6\u7406\n[\u6295\u7a3f\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u306e\u51e6\u7406\u3068\u53d7\u4fe1\u6642\u306ejavascript\u306e\u51e6\u7406\u3092\u8ffd\u52a0 \u00b7 regonn/bulletin-board@8c00934](https://github.com/regonn/bulletin-board/commit/8c009346fbdfb2b2401c4d518847b7aaf2003df6)\nname\u306e\u5165\u529b\u306f\u305d\u306e\u307e\u307e\u306b\u3057\u305f\u3044\u3093\u3060\u3051\u3069\u3001\u6295\u7a3f\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001\u753b\u9762\u304c\u66f4\u65b0\u3055\u308c\u3066\u3057\u307e\u3046\u3002\u3002\u3002\n\n## 13. Heroku\u7528 gemfile \u8ffd\u52a0\n[Heroku\u7528 gemfile \u8ffd\u52a0 \u00b7 regonn/bulletin-board@e5c385d](https://github.com/regonn/bulletin-board/commit/e5c385d1feaf2faf198ad9859c7318c9d0f2e4cf)\n\u3053\u3053\u304b\u3089\u306f Heroku \u306e\u8a2d\u5b9a\u3002sqlite3 \u306f Heroku \u3067\u4f7f\u3048\u306a\u3044\u306e\u3067 develop \u306b\u79fb\u52d5\u3057\u3066\u3001`pg` `rails_12factor` `redis` gem \u3092 production \u306b\u8ffd\u52a0\u3002redis \u306f\u30ed\u30fc\u30ab\u30eb\u3067\u306f\u5fc5\u8981\u306a\u3044\u3051\u3069\u3001\u672c\u756a\u74b0\u5883\u3060\u3068\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u52dd\u624b\u306b\u547c\u3070\u308c\u308b\u306e\u3067 gem \u3092\u5165\u308c\u3066\u304a\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\n\n## 14. Heroku \u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066 \u5bfe\u5fdc\u3059\u308b URL \u3092 action_cable_url \u306b\u8ffd\u52a0\n[heroku \u306e \u30a2\u30d7\u30ea\u3092\u4f5c\u308a\u3001action_cable_url \u3068 \u8a31\u53ef\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u3092\u8a2d\u5b9a + ssl \u3092\u5f37\u5236 \u00b7 regonn/bulletin-board@efac3b9](https://github.com/regonn/bulletin-board/commit/efac3b97cd28d07ab6f32308ea75dff2ba3b8b9e)\nHeroku\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u3066\u3001\u30a2\u30d7\u30ea\u306eURL\u3092\u6c7a\u5b9a\u3057\u305f\u5f8c\u306b\u3001action_cable_url \u3092\u8a2d\u5b9a\u3002ssl \u306f\u5fc5\u9808\u3067\u306f\u306a\u3044\u304c\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u3002\n\n## 15. Heroku \u306b redis \u3092\u8ffd\u52a0\u3057\u3066\u60c5\u5831\u3092\u8ffd\u52a0\n[redis \u306e\u60c5\u5831\u4fee\u6b63 \u00b7 regonn/bulletin-board@ab6b408](https://github.com/regonn/bulletin-board/commit/ab6b408b5254f795042c014a85743d2ada3b8acd)\nrails secrets \u306e\u4f7f\u3044\u65b9\u3092\u9593\u9055\u3048\u305f\u306e\u3067\u4fee\u6b63\u3057\u3066\u3044\u308b\u3002\u30a2\u30c9\u30aa\u30f3\u306b\u306f [redis to go](https://devcenter.heroku.com/articles/redistogo) \u3092\u5229\u7528\u3002\u74b0\u5883\u5909\u6570\u306e\u60c5\u5831\u306f\u3001\u81ea\u5206\u306e\u30a2\u30d7\u30ea\u306e\u30a2\u30c9\u30aa\u30f3\u60c5\u5831\u306e\u30da\u30fc\u30b8\u304b\u3089redis to go\u306e\u8a73\u7d30\u30da\u30fc\u30b8\u306b\u98db\u3093\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n# \u5b9f\u969b\u306b\u4f5c\u3063\u3066\u307f\u3066\n\u7d50\u69cb\u899a\u3048\u308b\u3053\u3068\u3068\u7406\u89e3\u3067\u304d\u3066\u3044\u306a\u3044\u90e8\u5206\u304c\u591a\u3044\u306e\u3067\u3001\u3061\u3083\u3093\u3068\u4f7f\u3044\u3053\u306a\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u6c17\u8efd\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u51e6\u7406\u306eRails \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4f5c\u3063\u3066\u3044\u304d\u305f\u3044\u3067\u3059\u306d\u3002\n\n# \u5ba3\u4f1d\n\u7530\u4e2dTOM \u3068\u3044\u3046\u540d\u524d\u3067 \u6c17\u306b\u306a\u3063\u3066\u3044\u308b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u7b49\u3092\u52d5\u753b\u6295\u7a3f\u3057\u3066\u3044\u307e\u3059\u3002\n[Facebook](https://www.facebook.com/lovelytanakatom)\n[Youtube](https://www.youtube.com/channel/UCWXXSB94_CUAYD7XgdLzvBg)\n[Livecoding.tv](https://www.livecoding.tv/tanaka_tom/)\n", "tags": ["Heroku", "Rails", "Redis"]}