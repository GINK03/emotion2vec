{"context": " More than 1 year has passed since last update.\n\ngulp watch\u3067CPU\u4f7f\u7528\u7387100\u8d85\nbrowser-sync\u3092\u4f7f\u3063\u3066LiveReload\u3092\u3057\u3066\u3044\u305f\u3068\u3053\u308d\u3001node\u30d7\u30ed\u30bb\u30b9\u306eCPU\u4f7f\u7528\u7387\u304c\u7570\u5e38\u306b\u9ad8\u304f(100%\u8d85)\u306a\u3063\u3066\u3044\u305f\u3002\n\u203btop\u3067\u78ba\u8a8d\u3057\u305f\u3068\u3053\u308d\n\n\u6700\u521d\u306fbrowser-sync\u306e\u554f\u984c\uff1f\u3068\u601d\u3063\u305f\u3051\u3069\u3001\u3088\u304f\u3088\u304f\u898b\u308b\u3068CPU\u3092\u4f7f\u3063\u3066\u3044\u308b\u72af\u4eba\u306fwatch\u306e\u65b9\u3067\u3057\u305f\u3002\n\u306a\u3093\u3066\u3053\u3068\u306f\u306a\u3044\u3001watch\u306e\u5bfe\u8c61\u7bc4\u56f2\u304c\u62e1\u3059\u304e\u308b\u3060\u3051\u3067\u3001\u305d\u308c\u306f\u305d\u3046\u3060\u3088\u306a\u3001\u3068\u3044\u3046\u8a71\u3002\n\n\u4fee\u6b63\u524d\n\n\ngulpfile.js\ngulp.task('default', ['browser-sync'], function() {\n    gulp.watch([\"./**/*\"], ['bs-reload']);\n});\n\n\n\u306e\u3088\u3046\u306bgulpfile\u306e\u8a2d\u5b9a\u3067watch\u5bfe\u8c61\u304c\u30eb\u30fc\u30c8\u4ee5\u4e0b\u5168\u30d5\u30a1\u30a4\u30eb\u306b\u3002\u3002\nhtml\u3082css\u3082js\u3082\u5168\u3066\u76e3\u8996\u3059\u308b\u306e\u3060\u304b\u3089\u3068\u3001\u5b89\u6613\u306b\u5168\u5bfe\u8c61\u306b\u3057\u3066\u3057\u307e\u3046\u3068\u3001watch\u304c\u304d\u3064\u304f\u306a\u308a\u307e\u3059\u3002\uff08\u5f53\u7136\uff09\n\n\u4fee\u6b63\u5f8c\n\n\ngulpfile.js\ngulp.task('default', ['browser-sync'], function() {\n    gulp.watch([\"./**/*.html\", \"./**/*.css\", \"./**/*.js\"], ['bs-reload']);\n});\n\n\n\nwatch interval\n\u3053\u306e\u554f\u984c\u3067\u89e3\u6c7a\u7b56\u63a2\u3063\u3066\u3044\u305f\u6642\u306b\u898b\u3064\u3051\u305f\u60c5\u5831\u3067\u3059\u304c\u3001gulp.watch\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306binterval\n\u3068\u3044\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u308a\u3001\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u304c\u591a\u3044\u3068\u304d\u306f\u3053\u306einterval\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067CPU\u8ca0\u8377\u3092\u4e0b\u3052\u3089\u308c\u308b\u3068\u306e\u3053\u3068\u3002\n\ninterval\u30aa\u30d7\u30b7\u30e7\u30f3\n\n\ngulpfile.js\ngulp.task('default', ['browser-sync'], function() {\n    gulp.watch([\"./**/*.html\", \"./**/*.css\", \"./**/*.js\"], {interval: 500} ,['bs-reload']);\n});\n\n\nconstant CPU usage on watch #634\u3000(GitHub)\n\n\u76e3\u8996\u5bfe\u8c61\u3092\u9650\u5b9a\u3057\u3066\u3044\u3066\u3082\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u304c\u591a\u3044\n\u30de\u30b7\u30f3\u306e\u30b9\u30da\u30c3\u30af\u304c\u4f4e\u3044\n\n\u306a\u3069\u306e\u5834\u5408\u306f\u3053\u306einterval\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3046\u3053\u3068\u3067CPU\u4f7f\u7528\u91cf\u3092\u6291\u3048\u3089\u308c\u305d\u3046\u3067\u3059\u3002\n500ms\u7a0b\u5ea6\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306a\u3089\u4f7f\u7528\u611f\u306f\u3042\u307e\u308a\u5909\u308f\u3089\u306a\u3044\u306e\u3067CPU\u6d88\u8cbb\u304c\u6c17\u306b\u306a\u308b\u306a\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u6307\u5b9a\u3057\u3066\u3044\u3066\u3082\u3088\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u554f\u984c\u304b\u3089\u5c11\u3057\u5916\u308c\u307e\u3059\u304c\u3001gulp\u306ewatch\u81ea\u4f53CPU\u6d88\u8cbb\u304c\u5927\u304d\u3044\u70b9\u306f\u554f\u984c\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3001\u73fe\u5728\u5bfe\u5fdc\u4e2d\u3068\u306e\u3053\u3068\u306e\u3088\u3046\u3002\n\nI'm merging all file watching related issues into one issue, since there is one solution. The next version of gaze is under development and we are waiting for it to come out before we can fix the following issues:\n\nhigh cpu usage\ndoesnt catch new files\nglobs get matched even though it was a file change that shouldn't match it\nnew files arent watched\nstops on error (unrelated to gaze, but fixed already in gulp 4)\n\n\nfile watcher has problems #651 (GitHub)\n\n##gulp watch\u3067CPU\u4f7f\u7528\u7387100\u8d85\n\n`browser-sync`\u3092\u4f7f\u3063\u3066LiveReload\u3092\u3057\u3066\u3044\u305f\u3068\u3053\u308d\u3001`node`\u30d7\u30ed\u30bb\u30b9\u306eCPU\u4f7f\u7528\u7387\u304c\u7570\u5e38\u306b\u9ad8\u304f(100%\u8d85)\u306a\u3063\u3066\u3044\u305f\u3002\n\n\u203btop\u3067\u78ba\u8a8d\u3057\u305f\u3068\u3053\u308d\n\n![top.jpg](https://qiita-image-store.s3.amazonaws.com/0/15980/f9923865-4df8-b3bb-a010-1820d813d5e4.jpeg \"top.jpg\")\n\n\n\u6700\u521d\u306f`browser-sync`\u306e\u554f\u984c\uff1f\u3068\u601d\u3063\u305f\u3051\u3069\u3001\u3088\u304f\u3088\u304f\u898b\u308b\u3068CPU\u3092\u4f7f\u3063\u3066\u3044\u308b\u72af\u4eba\u306f`watch`\u306e\u65b9\u3067\u3057\u305f\u3002\n\u306a\u3093\u3066\u3053\u3068\u306f\u306a\u3044\u3001`watch`\u306e\u5bfe\u8c61\u7bc4\u56f2\u304c\u62e1\u3059\u304e\u308b\u3060\u3051\u3067\u3001\u305d\u308c\u306f\u305d\u3046\u3060\u3088\u306a\u3001\u3068\u3044\u3046\u8a71\u3002\n\n+ \u4fee\u6b63\u524d\n\n```gulpfile.js\ngulp.task('default', ['browser-sync'], function() {\n    gulp.watch([\"./**/*\"], ['bs-reload']);\n});\n```\n\n\u306e\u3088\u3046\u306bgulpfile\u306e\u8a2d\u5b9a\u3067watch\u5bfe\u8c61\u304c\u30eb\u30fc\u30c8\u4ee5\u4e0b\u5168\u30d5\u30a1\u30a4\u30eb\u306b\u3002\u3002\nhtml\u3082css\u3082js\u3082\u5168\u3066\u76e3\u8996\u3059\u308b\u306e\u3060\u304b\u3089\u3068\u3001\u5b89\u6613\u306b\u5168\u5bfe\u8c61\u306b\u3057\u3066\u3057\u307e\u3046\u3068\u3001watch\u304c\u304d\u3064\u304f\u306a\u308a\u307e\u3059\u3002\uff08\u5f53\u7136\uff09\n\n+ \u4fee\u6b63\u5f8c\n\n```gulpfile.js\ngulp.task('default', ['browser-sync'], function() {\n    gulp.watch([\"./**/*.html\", \"./**/*.css\", \"./**/*.js\"], ['bs-reload']);\n});\n```\n\n##watch interval\n\u3053\u306e\u554f\u984c\u3067\u89e3\u6c7a\u7b56\u63a2\u3063\u3066\u3044\u305f\u6642\u306b\u898b\u3064\u3051\u305f\u60c5\u5831\u3067\u3059\u304c\u3001`gulp.watch`\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b`interval`\n\u3068\u3044\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u308a\u3001\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u304c\u591a\u3044\u3068\u304d\u306f\u3053\u306einterval\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067CPU\u8ca0\u8377\u3092\u4e0b\u3052\u3089\u308c\u308b\u3068\u306e\u3053\u3068\u3002\n\n+ interval\u30aa\u30d7\u30b7\u30e7\u30f3\n\n\n```gulpfile.js\ngulp.task('default', ['browser-sync'], function() {\n    gulp.watch([\"./**/*.html\", \"./**/*.css\", \"./**/*.js\"], {interval: 500} ,['bs-reload']);\n});\n```\n\n[constant CPU usage on watch #634\u3000(GitHub)](https://github.com/gulpjs/gulp/issues/634)\n\n+ \u76e3\u8996\u5bfe\u8c61\u3092\u9650\u5b9a\u3057\u3066\u3044\u3066\u3082\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u304c\u591a\u3044\n+ \u30de\u30b7\u30f3\u306e\u30b9\u30da\u30c3\u30af\u304c\u4f4e\u3044\n\n\u306a\u3069\u306e\u5834\u5408\u306f\u3053\u306e`interval`\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3046\u3053\u3068\u3067CPU\u4f7f\u7528\u91cf\u3092\u6291\u3048\u3089\u308c\u305d\u3046\u3067\u3059\u3002\n500ms\u7a0b\u5ea6\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306a\u3089\u4f7f\u7528\u611f\u306f\u3042\u307e\u308a\u5909\u308f\u3089\u306a\u3044\u306e\u3067CPU\u6d88\u8cbb\u304c\u6c17\u306b\u306a\u308b\u306a\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u6307\u5b9a\u3057\u3066\u3044\u3066\u3082\u3088\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u554f\u984c\u304b\u3089\u5c11\u3057\u5916\u308c\u307e\u3059\u304c\u3001gulp\u306ewatch\u81ea\u4f53CPU\u6d88\u8cbb\u304c\u5927\u304d\u3044\u70b9\u306f\u554f\u984c\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3001\u73fe\u5728\u5bfe\u5fdc\u4e2d\u3068\u306e\u3053\u3068\u306e\u3088\u3046\u3002\n\n>I'm merging all file watching related issues into one issue, since there is one solution. The next version of gaze is under development and we are waiting for it to come out before we can fix the following issues:\n\n>+ high cpu usage\n+ doesnt catch new files\n+ globs get matched even though it was a file change that shouldn't match it\n+ new files arent watched\nstops on error (unrelated to gaze, but fixed already in gulp 4)\n\n\n[file watcher has problems #651 (GitHub)](https://github.com/gulpjs/gulp/issues/651)\n", "tags": ["gulp", "Node.js", "BrowserSync"]}