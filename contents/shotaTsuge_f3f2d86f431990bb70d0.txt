{"context": " More than 1 year has passed since last update.\u6614\u3001MongoDB\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092YCSB\u3092\u4f7f\u3063\u3066\u53d6\u3063\u305f\u6642\u306e\u30e1\u30e2\u3067\u3059\n\nYCSB\u3068\u306f\nYCSB(Yahcoo Cloud Serving Benchmark)\u3068\u306f\u3001\u3056\u3063\u304f\u308a\u8a00\u3046\u3068Yahoo!\u304c\u4f5c\u3063\u3066\u3044\u308b\nNoSQL\u5411\u3051\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30c4\u30fc\u30eb\u3067\u3059\u3002\nYCSB\u30d7\u30ed\u30b8\u30a7\u30af\u30c8Git\u30ec\u30dd\nYCSB Wiki\n\nYCSB\u306e\u5c0e\u5165\u624b\u9806\n\n\u5c0e\u5165\u74b0\u5883\n\nCentOS6.5\n\n\n\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\n\nJava\n# \u4eca\u56de\u306fjava-1.7.0-openjdk\u3092\u5165\u308c\u307e\u3057\u305f\n$ yum search java\n$ yum install java-1.7.0-openjdk-devel.x86_64\n\n\n\nMaven\n# \u4eca\u56de\u306f\u3001apache-maven-3.2.1\u3092\u5165\u308c\u307e\u3057\u305f\n$ cd /usr/local/src/\n$ wget http://www.motorlogy.com/apache/maven/maven-3/3.2.1/binaries/apache-maven-3.2.1-bin.zip\n$ unzip apache-maven-3.2.1-bin.zip\n$ mv apache-maven-3.2.1/ /opt/maven\n$ ln -s /opt/maven/bin/mvn /usr/bin/mvn\n\n# mvn\u306e\u30d1\u30b9\u8a2d\u5b9a\u3059\u308b\uff08PATH=$MAVEN_HOME/bin:$PATH\uff09\n$ vi\uff4d /etc/profile.d/maven.sh\n#!/bin/bash\nMAVEN_HOME=/opt/maven\nPATH=$MAVEN_HOME/bin:$PATH\nexport PATH MAVEN_HOME\nexport CLASSPATH=.\nchmod +x /etc/profile.d/maven.sh\nsource /etc/profile.d/maven.sh\n\nmvn\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\uff08\u30d1\u30b9\u304c\u901a\u3063\u3066\u308b\u306e\u3082\uff09\n$ mvn -version\n\n\n\nYCSB\n# YCSB\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306bgit\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u306e\u3067\u3001\u3082\u3057\u306a\u3051\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n$ yum install git\n\n# YCSB\u3092git\u30ec\u30dd\u304b\u3089clone\u3057\u3066\u304f\u308b\n$ git clone git://github.com/brianfrankcooper/YCSB.git\n\n# YCSB\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\n$ cd YCSB\n\n# \u3053\u306e\u307e\u307e\u3060\u3068mapkeeper\u306e\u30d3\u30eb\u30c9\u306b\u30b3\u30b1\u308b\u306e\u3067\u3001pom.xml\u3092\u7de8\u96c6\u3059\u308b\n# \u7de8\u96c6\u3059\u308b\u524d\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u3063\u3066\u304a\u304f\n$ cp pom.xml pom.xml.bk\n\n# \u4e0b\u8a18\u306e2\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u304a\u304f\nvim pom.xml\n<!--<mapkeeper.version>1.0</mapkeeper.version>--> \n<!--<module>mapkeeper</module>-->\n\n$ mvn clean package\n\n\n\n\u7c21\u5358\u306a\u4f7f\u3044\u65b9\n\nYCSB\u30b3\u30de\u30f3\u30c9\u306f\u3001\u30d8\u30eb\u30d7\u3067\u78ba\u8a8d\u51fa\u6765\u307e\u3059\n$ cd YCSB\n$ ./bin/ycsb -h\n\n\n\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u53d6\u308b\u524d\u306e\u6e96\u5099\n\nYCSB\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\n$ cd YCSB\n$ vim workloads/workloada\n\n\n\u7c21\u5358\u306a\u8a2d\u5b9a\u9805\u76ee\n\n\n\n\u9805\u76ee\n\u8a2d\u5b9a\u5185\u5bb9                                      \u3000\u3000\n\n\n\n\nrecordcount\n\u30ed\u30fc\u30c9\u30d5\u30a7\u30fc\u30ba\u3067\u633f\u5165\u3059\u308b\u30c7\u30fc\u30bf\u306e\u30ec\u30b3\u30fc\u30c9\u6570\n\n\noperationcount\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30d5\u30a7\u30fc\u30ba\u3067\u5b9f\u884c\u3055\u308c\u308b\u30af\u30a8\u30ea\u306e\u56de\u6570\n\n\nworkload\nworkload\u3092\u5b9f\u884c\u3059\u308b\u30af\u30e9\u30b9\n\n\nfieldcount\n1\u30ec\u30b3\u30fc\u30c9\u3042\u305f\u308a\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u6570\n\n\nfieldlength\n\u5404\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30b5\u30a4\u30ba\n\n\nreadallfileds\n\u30ec\u30b3\u30fc\u30c9\u5185\u306e\u5168\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8aad\u3080\u306e\u304b(true)\u30011\u3064\u3060\u3051\u306b\u3059\u308b\u304b(false)\n\n\nreadproportion\n\u5168operation\u306b\u5bfe\u3059\u308b\u8aad\u8fbc\u306e\u5272\u5408\n\n\nupdateproportion\n\u5168operation\u306b\u5bfe\u3059\u308b\u66f4\u65b0\u306e\u5272\u5408\n\n\ninsertproportion\n\u5168operation\u306b\u5bfe\u3059\u308b\u633f\u5165\u306e\u5272\u5408\n\n\nscanproportion\n\u5168operation\u306b\u5bfe\u3059\u308b\u30b9\u30ad\u30e3\u30f3\u306e\u5272\u5408\n\n\nreadmodifywriteproportion\n\u5168operation\u306b\u5bfe\u3059\u308b\u8aad\u8fbc\u3001\u4fee\u6b63\u3001\u66f4\u65b0\u306e\u5272\u5408\n\n\nrequestdistribution\n\u30ea\u30af\u30a8\u30b9\u30c8\u5206\u5e03\u65b9\u5f0f\u3001uniform\u3001zipfian\u3001latest\u304b\u3089\u9078\u629e\n\n\nmaxscanlength\n\u30b9\u30ad\u30e3\u30f3\u3059\u308b\u969b\u306e\u6700\u5927\u30ec\u30b3\u30fc\u30c9\u6570\n\n\nscanlengthdistribution\n\u30b9\u30ad\u30e3\u30f3\u3059\u308b\u305f\u3081\u306e\u30ec\u30b3\u30fc\u30c9\u6570\u3068\u5404\u30b9\u30ad\u30e3\u30f3\u3067\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u5206\u5e03\u65b9\u5f0f\n\n\ninsertorder\n\u30c7\u30fc\u30bf\u633f\u5165\u3059\u308b\u9806\u5e8f\u3002\u30ad\u30fc\u9806(ordered)\u304b\u30cf\u30c3\u30b7\u30e5\u9806(hashed)\n\n\n\n\n\u30d9\u30f3\u30c1\u5b9f\u884c\n\u4eca\u56de\u306fmongodb\u3067\u884c\u3063\u305f\u6642\u306e\u30b3\u30de\u30f3\u30c9\u3092\u8f09\u305b\u3066\u307e\u3059\u3002\nmongodb\u3068\u306a\u3063\u3066\u3044\u308b\u90e8\u5206\u306f\u305d\u308c\u305e\u308credis\u306a\u3069\u30d9\u30f3\u30c1\u3068\u308a\u305f\u3044DB\u306b\u5909\u3048\u3066\u304f\u3060\u3055\u3044\n# \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n$ ./bin/ycsb load mongodb -s -P workloads/workloada\n\n# \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u5b9f\u884c\n$ ./bin/ycsb run mongodb -s -P workloads/workloada\n\n\n\u304a\u307e\u3051\n\u4eca\u56de\u306f\u3001\u81ea\u5206\u306fMongoDB\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u53d6\u308b\u306e\u306b\u4f7f\u3063\u305f\u306e\u3067\u3001\u304a\u307e\u3051\u306b\u305d\u306e\u6642\u306b\u4f7f\u3063\u305f\u30b3\u30de\u30f3\u30c9\u3082\n\u30e1\u30e2\u3068\u3057\u3066\u66f8\u3044\u3066\u304a\u304d\u307e\u3057\u305f\u3002\uff08port\u756a\u53f7\u306f\u3001\u3088\u3057\u306a\u306b\u5909\u66f4\u3057\u3066\u4e0b\u3055\u3044\uff09\n# \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\uff08ycsb\uff09\u306eusertable\u5185\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u4e2d\u8eab\u3092\u78ba\u8a8d\u3059\u308b\n$ echo 'db.usertable.findOne()' | mongo localhost:27017/ycsb\n\n# \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\uff08ycsb\uff09\u306eusertable\u5185\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u6570\u3092\u6570\u3048\u308b\n$ echo 'db.usertable.count()' | mongo localhost:27017/ycsb\n\n# \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30b5\u30a4\u30ba\u306e\u78ba\u8a8d\n$ echo 'Object.bsonsize(db.usertable.findOne())' | mongo localhost:27017/ycsb \n\n# \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u4e2d\u8eab\u3092\u7a7a\u306b\u3059\u308b\n$ echo 'db.usertable.remove()' | mongo localhost:27017/ycsb \n\n**\u6614\u3001MongoDB\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092YCSB\u3092\u4f7f\u3063\u3066\u53d6\u3063\u305f\u6642\u306e\u30e1\u30e2\u3067\u3059**\n\n## YCSB\u3068\u306f\nYCSB(Yahcoo Cloud Serving Benchmark)\u3068\u306f\u3001\u3056\u3063\u304f\u308a\u8a00\u3046\u3068Yahoo!\u304c\u4f5c\u3063\u3066\u3044\u308b\nNoSQL\u5411\u3051\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30c4\u30fc\u30eb\u3067\u3059\u3002\n[YCSB\u30d7\u30ed\u30b8\u30a7\u30af\u30c8Git\u30ec\u30dd](https://github.com/brianfrankcooper/YCSB)\n[YCSB Wiki](https://github.com/brianfrankcooper/YCSB/wiki)\n\n## YCSB\u306e\u5c0e\u5165\u624b\u9806\n### \u5c0e\u5165\u74b0\u5883\n- CentOS6.5\n\n### \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\n#### Java\n\n```\n# \u4eca\u56de\u306fjava-1.7.0-openjdk\u3092\u5165\u308c\u307e\u3057\u305f\n$ yum search java\n$ yum install java-1.7.0-openjdk-devel.x86_64\n\n```\n\n#### Maven\n\n```\n# \u4eca\u56de\u306f\u3001apache-maven-3.2.1\u3092\u5165\u308c\u307e\u3057\u305f\n$ cd /usr/local/src/\n$ wget http://www.motorlogy.com/apache/maven/maven-3/3.2.1/binaries/apache-maven-3.2.1-bin.zip\n$ unzip apache-maven-3.2.1-bin.zip\n$ mv apache-maven-3.2.1/ /opt/maven\n$ ln -s /opt/maven/bin/mvn /usr/bin/mvn\n\n# mvn\u306e\u30d1\u30b9\u8a2d\u5b9a\u3059\u308b\uff08PATH=$MAVEN_HOME/bin:$PATH\uff09\n$ vi\uff4d /etc/profile.d/maven.sh\n#!/bin/bash\nMAVEN_HOME=/opt/maven\nPATH=$MAVEN_HOME/bin:$PATH\nexport PATH MAVEN_HOME\nexport CLASSPATH=.\nchmod +x /etc/profile.d/maven.sh\nsource /etc/profile.d/maven.sh\n\nmvn\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\uff08\u30d1\u30b9\u304c\u901a\u3063\u3066\u308b\u306e\u3082\uff09\n$ mvn -version\n\n```\n\n#### YCSB\n\n```\n# YCSB\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306bgit\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u306e\u3067\u3001\u3082\u3057\u306a\u3051\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n$ yum install git\n\n# YCSB\u3092git\u30ec\u30dd\u304b\u3089clone\u3057\u3066\u304f\u308b\n$ git clone git://github.com/brianfrankcooper/YCSB.git\n\n# YCSB\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\n$ cd YCSB\n\n# \u3053\u306e\u307e\u307e\u3060\u3068mapkeeper\u306e\u30d3\u30eb\u30c9\u306b\u30b3\u30b1\u308b\u306e\u3067\u3001pom.xml\u3092\u7de8\u96c6\u3059\u308b\n# \u7de8\u96c6\u3059\u308b\u524d\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u3063\u3066\u304a\u304f\n$ cp pom.xml pom.xml.bk\n\n# \u4e0b\u8a18\u306e2\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u304a\u304f\nvim pom.xml\n<!--<mapkeeper.version>1.0</mapkeeper.version>--> \n<!--<module>mapkeeper</module>-->\n\n$ mvn clean package\n\n```\n\n## \u7c21\u5358\u306a\u4f7f\u3044\u65b9\n\n### YCSB\u30b3\u30de\u30f3\u30c9\u306f\u3001\u30d8\u30eb\u30d7\u3067\u78ba\u8a8d\u51fa\u6765\u307e\u3059\n\n```\n$ cd YCSB\n$ ./bin/ycsb -h\n\n```\n\n### \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u53d6\u308b\u524d\u306e\u6e96\u5099\n#### YCSB\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\n\n```\n$ cd YCSB\n$ vim workloads/workloada\n```\n##### \u7c21\u5358\u306a\u8a2d\u5b9a\u9805\u76ee\n|\u9805\u76ee                     |   \u8a2d\u5b9a\u5185\u5bb9                                      \u3000\u3000 |\n|:------------------------|:----------------------------------------------------|\n|recordcount\t          |\u30ed\u30fc\u30c9\u30d5\u30a7\u30fc\u30ba\u3067\u633f\u5165\u3059\u308b\u30c7\u30fc\u30bf\u306e\u30ec\u30b3\u30fc\u30c9\u6570               |\n|operationcount\t          |\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30d5\u30a7\u30fc\u30ba\u3067\u5b9f\u884c\u3055\u308c\u308b\u30af\u30a8\u30ea\u306e\u56de\u6570          |\n|workload\t          |workload\u3092\u5b9f\u884c\u3059\u308b\u30af\u30e9\u30b9                               |\n|fieldcount\t          |1\u30ec\u30b3\u30fc\u30c9\u3042\u305f\u308a\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u6570                           |\n|fieldlength\t          |\u5404\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30b5\u30a4\u30ba                                    |\n|readallfileds\t          |\u30ec\u30b3\u30fc\u30c9\u5185\u306e\u5168\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8aad\u3080\u306e\u304b(true)\u30011\u3064\u3060\u3051\u306b\u3059\u308b\u304b(false)|\n|readproportion           |\u5168operation\u306b\u5bfe\u3059\u308b\u8aad\u8fbc\u306e\u5272\u5408                            |\n|updateproportion         |\t\u5168operation\u306b\u5bfe\u3059\u308b\u66f4\u65b0\u306e\u5272\u5408                      |\n|insertproportion         |\t\u5168operation\u306b\u5bfe\u3059\u308b\u633f\u5165\u306e\u5272\u5408                      |\n|scanproportion\t          |\u5168operation\u306b\u5bfe\u3059\u308b\u30b9\u30ad\u30e3\u30f3\u306e\u5272\u5408                         |\n|readmodifywriteproportion|\t\u5168operation\u306b\u5bfe\u3059\u308b\u8aad\u8fbc\u3001\u4fee\u6b63\u3001\u66f4\u65b0\u306e\u5272\u5408              |\n|requestdistribution\t  |\u30ea\u30af\u30a8\u30b9\u30c8\u5206\u5e03\u65b9\u5f0f\u3001uniform\u3001zipfian\u3001latest\u304b\u3089\u9078\u629e         |\n|maxscanlength\t          |\u30b9\u30ad\u30e3\u30f3\u3059\u308b\u969b\u306e\u6700\u5927\u30ec\u30b3\u30fc\u30c9\u6570                               |\n|scanlengthdistribution\t |\u30b9\u30ad\u30e3\u30f3\u3059\u308b\u305f\u3081\u306e\u30ec\u30b3\u30fc\u30c9\u6570\u3068\u5404\u30b9\u30ad\u30e3\u30f3\u3067\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u5206\u5e03\u65b9\u5f0f   |\n|insertorder\t         |\u30c7\u30fc\u30bf\u633f\u5165\u3059\u308b\u9806\u5e8f\u3002\u30ad\u30fc\u9806(ordered)\u304b\u30cf\u30c3\u30b7\u30e5\u9806(hashed)        |\n\n\n#### \u30d9\u30f3\u30c1\u5b9f\u884c\n\u4eca\u56de\u306fmongodb\u3067\u884c\u3063\u305f\u6642\u306e\u30b3\u30de\u30f3\u30c9\u3092\u8f09\u305b\u3066\u307e\u3059\u3002\nmongodb\u3068\u306a\u3063\u3066\u3044\u308b\u90e8\u5206\u306f\u305d\u308c\u305e\u308credis\u306a\u3069\u30d9\u30f3\u30c1\u3068\u308a\u305f\u3044DB\u306b\u5909\u3048\u3066\u304f\u3060\u3055\u3044\n\n```\n# \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n$ ./bin/ycsb load mongodb -s -P workloads/workloada\n\n# \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u5b9f\u884c\n$ ./bin/ycsb run mongodb -s -P workloads/workloada\n```\n\n### \u304a\u307e\u3051\n\u4eca\u56de\u306f\u3001\u81ea\u5206\u306fMongoDB\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u53d6\u308b\u306e\u306b\u4f7f\u3063\u305f\u306e\u3067\u3001\u304a\u307e\u3051\u306b\u305d\u306e\u6642\u306b\u4f7f\u3063\u305f\u30b3\u30de\u30f3\u30c9\u3082\n\u30e1\u30e2\u3068\u3057\u3066\u66f8\u3044\u3066\u304a\u304d\u307e\u3057\u305f\u3002\uff08port\u756a\u53f7\u306f\u3001\u3088\u3057\u306a\u306b\u5909\u66f4\u3057\u3066\u4e0b\u3055\u3044\uff09\n\n```\n# \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\uff08ycsb\uff09\u306eusertable\u5185\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u4e2d\u8eab\u3092\u78ba\u8a8d\u3059\u308b\n$ echo 'db.usertable.findOne()' | mongo localhost:27017/ycsb\n\n# \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\uff08ycsb\uff09\u306eusertable\u5185\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u6570\u3092\u6570\u3048\u308b\n$ echo 'db.usertable.count()' | mongo localhost:27017/ycsb\n\n# \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30b5\u30a4\u30ba\u306e\u78ba\u8a8d\n$ echo 'Object.bsonsize(db.usertable.findOne())' | mongo localhost:27017/ycsb \n\n# \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u4e2d\u8eab\u3092\u7a7a\u306b\u3059\u308b\n$ echo 'db.usertable.remove()' | mongo localhost:27017/ycsb \n```\n", "tags": ["YCSB", "benchmark", "MongoDB"]}