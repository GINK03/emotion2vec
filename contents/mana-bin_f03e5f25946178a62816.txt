{"tags": ["Heroku", "Ruby", "RubyOnRails", "\u30e1\u30e2"], "context": "\u81ea\u5206\u7528\u30e1\u30e2\u3067\u3059\n\n\u30c7\u30d7\u30ed\u30a4\ngit\u306e\u30ea\u30e2\u30fc\u30c8\u8a2d\u5b9a\nheroku git:remote -a \u30a2\u30d7\u30ea\u540d #\u65e2\u306b\u3042\u308b\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u8a2d\u5b9a\u3059\u308b\u5834\u5408\ngit clone git@heroku.com:APPNAME.git #heroku\u304b\u3089clone\u3059\u308b\u5834\u5408\n\n\nGem\nGem\u8a2d\u5b9a\ngroup :production do\n  gem 'pg', '0.15.1'\n  gem 'rails_12factor', '0.0.2'\nend\n\ngroup :development do\n  #sqlite\u3092development\u306b\u79fb\u52d5\u3057\u3066\u304a\u304f\n  gem 'sqlite3' \nend\n\n\nDB\nmigration\nheroku run rake db:migrate\n\nSeed\u30c7\u30fc\u30bf\u3092\u5165\u308c\u308b\nheroku run rake db:seed\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30ea\u30bb\u30c3\u30c8\nheroku pg:reset DATABASE\n\n\n\u60c5\u5831\nheroku\u3067\u7ba1\u7406\u3057\u3066\u3044\u308b\u30a2\u30d7\u30ea\u4e00\u89a7\u3092\u898b\u308b\nheroku apps\n\n\u30a2\u30d7\u30ea\u306e\u8a73\u7d30\u3092\u898b\u308b\nheroku info --app \u25cb\u25cb\u25cb\u2190\u4e0a\u8a18\u3067\u51fa\u3066\u304d\u305f\u30a2\u30d7\u30ea\u540d\u3092\u5165\u308c\u308b\n\n\n\u74b0\u5883\u5909\u6570\n\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u74b0\u5883\u306e\u74b0\u5883\u5909\u6570\u3092\u767b\u9332\u3059\u308b\nheroku config:set RAILS_ENV=staging --app \u30a2\u30d7\u30ea\u540d\n\n\u74b0\u5883\u5909\u6570\u306e\u78ba\u8a8d\nheroku config\nheroku config:get \u74b0\u5883\u5909\u6570\u540d #\u74b0\u5883\u5909\u6570\u540d\u3092\u6307\u5b9a\u3057\u3066\u78ba\u8a8d\u3057\u305f\u3044\u6642\n\n\u74b0\u5883\u5909\u6570\u306e\u524a\u9664\nheroku config:unset \u74b0\u5883\u5909\u6570\u540d\n\n\n\u30ed\u30b0\n\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u30ed\u30b0\u3092\u898b\u308b\nheroku logs --tail\n\n\n\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\n\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u753b\u9762\u306b\u5207\u308a\u66ff\u3048\u308b\n heroku maintenance:on --app \u30a2\u30d7\u30ea\u540d\n heroku maintenance:off --app \u30a2\u30d7\u30ea\u540d\n\n\nBasic\u8a8d\u8a3c\nRails\u306e\u5834\u5408\n#application_controller.rb\u306b\u66f8\u304f(\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u74b0\u5883\u306e\u5834\u5408)\n\nhttp_basic_authenticate_with :name => ENV['BASIC_AUTH_USERNAME'], :password => ENV['BASIC_AUTH_PASSWORD'] if Rails.env == \"staging\"\n\n#\u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\nheroku config:set BASIC_AUTH_USERNAME=\"admin\" BASIC_AUTH_PASSWORD=\"password\"\n\n\u81ea\u5206\u7528\u30e1\u30e2\u3067\u3059\n\n\n# \u30c7\u30d7\u30ed\u30a4\n\ngit\u306e\u30ea\u30e2\u30fc\u30c8\u8a2d\u5b9a\n\n```\nheroku git:remote -a \u30a2\u30d7\u30ea\u540d #\u65e2\u306b\u3042\u308b\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u8a2d\u5b9a\u3059\u308b\u5834\u5408\ngit clone git@heroku.com:APPNAME.git #heroku\u304b\u3089clone\u3059\u308b\u5834\u5408\n```\n\n\n# Gem\n\n\nGem\u8a2d\u5b9a\n\n```\ngroup :production do\n  gem 'pg', '0.15.1'\n  gem 'rails_12factor', '0.0.2'\nend\n\ngroup :development do\n  #sqlite\u3092development\u306b\u79fb\u52d5\u3057\u3066\u304a\u304f\n  gem 'sqlite3' \nend\n```\n\n# DB\n\nmigration\n\n```\nheroku run rake db:migrate\n```\n\nSeed\u30c7\u30fc\u30bf\u3092\u5165\u308c\u308b\n\n```\nheroku run rake db:seed\n```\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30ea\u30bb\u30c3\u30c8\n\n```\nheroku pg:reset DATABASE\n```\n\n#\u60c5\u5831\n\nheroku\u3067\u7ba1\u7406\u3057\u3066\u3044\u308b\u30a2\u30d7\u30ea\u4e00\u89a7\u3092\u898b\u308b\n\n```\nheroku apps\n```\n\n\u30a2\u30d7\u30ea\u306e\u8a73\u7d30\u3092\u898b\u308b\n\n```\nheroku info --app \u25cb\u25cb\u25cb\u2190\u4e0a\u8a18\u3067\u51fa\u3066\u304d\u305f\u30a2\u30d7\u30ea\u540d\u3092\u5165\u308c\u308b\n```\n\n# \u74b0\u5883\u5909\u6570\n\n\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u74b0\u5883\u306e\u74b0\u5883\u5909\u6570\u3092\u767b\u9332\u3059\u308b\n\n```\nheroku config:set RAILS_ENV=staging --app \u30a2\u30d7\u30ea\u540d\n```\n\n\u74b0\u5883\u5909\u6570\u306e\u78ba\u8a8d\n\n```\nheroku config\nheroku config:get \u74b0\u5883\u5909\u6570\u540d #\u74b0\u5883\u5909\u6570\u540d\u3092\u6307\u5b9a\u3057\u3066\u78ba\u8a8d\u3057\u305f\u3044\u6642\n```\n\n\u74b0\u5883\u5909\u6570\u306e\u524a\u9664\n\n```\nheroku config:unset \u74b0\u5883\u5909\u6570\u540d\n```\n\n# \u30ed\u30b0\n\n\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u30ed\u30b0\u3092\u898b\u308b\n\n```\nheroku logs --tail\n```\n\n# \u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\n\n\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u753b\u9762\u306b\u5207\u308a\u66ff\u3048\u308b\n\n```\n heroku maintenance:on --app \u30a2\u30d7\u30ea\u540d\n heroku maintenance:off --app \u30a2\u30d7\u30ea\u540d\n```\n\n\n# Basic\u8a8d\u8a3c\n**Rails\u306e\u5834\u5408**\n\n```\n#application_controller.rb\u306b\u66f8\u304f(\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u74b0\u5883\u306e\u5834\u5408)\n\nhttp_basic_authenticate_with :name => ENV['BASIC_AUTH_USERNAME'], :password => ENV['BASIC_AUTH_PASSWORD'] if Rails.env == \"staging\"\n\n#\u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\nheroku config:set BASIC_AUTH_USERNAME=\"admin\" BASIC_AUTH_PASSWORD=\"password\"\n```\n"}