{"context": "\n\n\u6982\u8981\n2014\u5e74\u672b\u306e DockerCon EU\u3067\u767a\u8868\u3055\u308c\u305f\u516c\u5f0f\u306e\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb Machine, Swarm, Compose \u306e\u3046\u3061 Machine \u306b\u3064\u3044\u3066\u306e\u307e\u3068\u3081\u3002\n2015\u5e7402\u670826\u65e5\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\u306a\u6700\u521d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u51fa\u305f\nMachine \u3092\u4e00\u8a00\u3067\u8aac\u660e\u3059\u308b\u306a\u3089\u3070 Docker \u30db\u30b9\u30c8\u3092\u4f5c\u6210\u3001\u7ba1\u7406\u3067\u304d\u308b\u30c4\u30fc\u30eb\u3002\nSwarm, Compose \u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u53c2\u7167\n\nDocker Swarm \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\nDocker Compose \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\n\n\nMachine \u3068\u306f\nMachine \u306f\u958b\u767a\u30de\u30b7\u30f3\u3001\u30af\u30e9\u30a6\u30c9\u3001\u30c7\u30fc\u30bf\u30bb\u30f3\u30bf\u30fc\u306b Docker \u30db\u30b9\u30c8\u3092\u7c21\u5358\u306b\u4f5c\u6210\u3067\u304d\u308b\u30c4\u30fc\u30eb\u3002\nmachine \u304c\u3067\u304d\u308b\u3053\u3068\n\n\u8efd\u91cf\u306a\u30db\u30b9\u30c8\u30de\u30b7\u30f3\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30c4\u30fc\u30eb\n\n\nDocker\u30db\u30b9\u30c8\u306e\u4f5c\u6210\nDocker\u30db\u30b9\u30c8\u306e\u30b9\u30bf\u30fc\u30c8\nDocker\u30db\u30b9\u30c8\u306e\u30b9\u30c8\u30c3\u30d7\nDocker\u30db\u30b9\u30c8\u306e\u524a\u9664\n\n\nSSH\u7d4c\u7531\u3067\u306e\u30ea\u30e2\u30fc\u30c8\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u3084\u30ed\u30b0\u30a4\u30f3\nDocker\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n\n2015\u5e7402\u670827\u65e5\u73fe\u5728\u306f\u30d9\u30fc\u30bf\u7248\u3068\u3044\u3046\u6271\u3044\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nOSX x86_64\nGitHub \u30ea\u30dd\u30b8\u30c8\u30ea\u306e releases \u304b\u3089 OSX x86_64 \u7528\u306e\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n\u4f8b: https://github.com/docker/machine/releases/download/v0.1.0/docker-machine_darwin-amd64\n$ sudo mv ~/Downloads/docker-machine_darwin-amd64 /usr/bin/docker-machine\n$ sudo chmod +x /usr/bin/docker-machine\n$ docker-machine -v\ndocker-machine version 0.1.0\n\n\nLinux x86_64\nGitHub \u30ea\u30dd\u30b8\u30c8\u30ea\u306e releases \u304b\u3089 Linux x86_64 \u7528\u306e\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n\u4f8b: https://github.com/docker/machine/releases/download/v0.1.0/docker-machine_linux-amd64\ncore@core-01 ~ $ wget https://github.com/docker/machine/releases/download/v0.1.0/docker-machine_linux-amd64\ncore@core-01 ~ $ sudo mv docker-machine_linux-amd64 /opt/bin/docker-machine\ncore@core-01 ~ $ sudo chmod +x /opt/bin/docker-machine\ncore@core-01 ~ $ docker-machine -v\ndocker-machine version 0.1.0\n\n\nDocker Container\nDockerHub\u306b\u516c\u5f0f\u30a4\u30e1\u30fc\u30b8\u306f\u7f6e\u304b\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3060\u304c\u3001Dockerfile \u306f\u5b58\u5728\u3059\u308b\u3002\u304c\u3001Docker in Docker \u306b\u306a\u3063\u3066\u8907\u96d1\u306b\u306a\u308b\u306e\u3067\u3084\u3089\u306a\u3044\u304b\u306a\u3002\n\nHello World\n\nVirtualBox\nDocker Machine \u3092\u4f7f\u3063\u3066 VirtualBox \u306b Docker\u30db\u30b9\u30c8\u3092\u7acb\u3066\u308b\n\nDigitalOcean\nDocker Machine \u3092\u4f7f\u3063\u3066 DigitalOcean \u306b Docker\u30db\u30b9\u30c8\u3092\u7acb\u3066\u308b\n\nEC2\nDocker Machine \u3092\u4f7f\u3063\u3066 EC2 \u306b Docker\u30db\u30b9\u30c8\u3092\u7acb\u3066\u308b\n\nHow It Works\ncreate \u30b3\u30de\u30f3\u30c9\u3067\u306f\u4f55\u304c\u884c\u308f\u308c\u3066\u3044\u308b\u306e\u304b\n\n\u4f5c\u6210\u3059\u308b Docker \u30db\u30b9\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e SSH \u30ad\u30fc\u3092\u4f5c\u6210 (e.g. ~/.docker/machine/machines/<MACHINE_NAME>/id_rsa)\nDocker \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30ea\u30e2\u30fc\u30c8\u304b\u3089TLS\u3067\u901a\u4fe1\u53ef\u80fd\u306a\u3088\u3046\u8a2d\u5b9a\u3057\u3066 Docker Daemon \u3092\u8d77\u52d5\n\n\u8a3c\u660e\u66f8\u3068\u304b\u306f ~/.docker/machine/certs \u4ee5\u4e0b\u306b\u3042\u308b\n\n\u30c9\u30e9\u30a4\u30d0\u3092\u4f7f\u308f\u305a\u306b\u7ba1\u7406\u30db\u30b9\u30c8\u3092\u8ffd\u52a0\u3059\u308b\n\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e URL \u3060\u3051\u3092\u6e21\u3057\u3066\u7ba1\u7406\u30db\u30b9\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u306e\u3067\u3001\n\u65e2\u306b\u69cb\u7bc9\u3055\u308c\u305f Docker \u30db\u30b9\u30c8\u3092 machine \u7ba1\u7406\u5316\u306b\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n$ docker-machine create --url tcp://172.17.8.101:2375 core-01\nINFO[0000] \"core-01\" has been created and is now the active machine.\nINFO[0000] To point your Docker client at it, run this in your shell: $(docker-machine env core-01)\n\n$ docker-machine ls\nNAME      ACTIVE   DRIVER       STATE     URL                         SWARM\ncore-01            none                   tcp://172.17.8.101:2375\ndev       *        virtualbox   Running   tcp://192.168.99.100:2376\n\n\nTLS \u306e\u6e96\u5099\u306f\u81ea\u5206\u3067\u3084\u308b\u5fc5\u8981\u304c\u3042\u308b\n\u30c9\u30e9\u30a4\u30d0\u306a\u3057\u306e\u30de\u30b7\u30f3\u306b\u306f docker-machine ssh \u306f\u3067\u304d\u306a\u3044\n\n\n\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\n\nactive\n\u30a2\u30af\u30c6\u30a3\u30d6\u306a\u30de\u30b7\u30f3\uff08Docker\u30db\u30b9\u30c8\uff09\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3002\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01   *        virtualbox   Running   tcp://192.168.99.100:2376\ndev-02            virtualbox   Running   tcp://192.168.99.101:2376\n\n# \u30a2\u30af\u30c6\u30a3\u30d6\u306a\u30de\u30b7\u30f3\u3092 dev-02 \u306b\u30bb\u30c3\u30c8\n$ docker-machine active dev-02\n\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Running   tcp://192.168.99.100:2376\ndev-02   *        virtualbox   Running   tcp://192.168.99.101:2376\n\n\u30a2\u30af\u30c6\u30a3\u30d6\u306a\u30de\u30b7\u30f3\u306b\u3064\u3044\u3066\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3067\u30de\u30b7\u30f3\u540d\u306e\u6307\u5b9a\u3092\u7701\u7565\u51fa\u6765\u308b\n$ docker-machine ssh\n                        ##        .\n                  ## ## ##       ==\n               ## ## ## ##      ===\n           /\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\\___/ ===\n      ~~~ {~~ ~~~~ ~~~ ~~~~ ~~ ~ /  ===- ~~~\n           \\______ o          __/\n             \\    \\        __/\n              \\____\\______/\n _                 _   ____     _            _\n| |__   ___   ___ | |_|___ \\ __| | ___   ___| | _____ _ __\n| '_ \\ / _ \\ / _ \\| __| __) / _` |/ _ \\ / __| |/ / _ \\ '__|\n| |_) | (_) | (_) | |_ / __/ (_| | (_) | (__|   <  __/ |\n|_.__/ \\___/ \\___/ \\__|_____\\__,_|\\___/ \\___|_|\\_\\___|_|\nBoot2Docker version 1.5.0, build master : a66bce5 - Tue Feb 10 23:31:27 UTC 2015\nDocker version 1.5.0, build a8a31ef\ndocker@dev-02:~$\n\n\ncreate\nDocker \u30db\u30b9\u30c8\u3092\u4f5c\u6210\u3059\u308b\n$ docker-machine create --driver virtualbox dev\nINFO[0000] Creating SSH key...\nINFO[0000] Creating VirtualBox VM...\nINFO[0007] Starting VirtualBox VM...\nINFO[0007] Waiting for VM to start...\nINFO[0038] \"dev\" has been created and is now the active machine. To point Docker at this machine, run: export DOCKER_HOST=$(docker-machine url) DOCKER_AUTH=identity\n\n\nconfig\nDocker \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u7528\u306e\u8a2d\u5b9a\u3092\u8868\u793a\u3059\u308b\n$ docker-machine config dev\n--tls --tlscacert=/Users/ehazlett/.docker/machines/dev/ca.pem --tlscert=/Users/ehazlett/.docker/machines/dev/cert.pem --tlskey=/Users/ehazlett/.docker/machines/dev/key.pem -H tcp://192.168.99.103:2376\n\n\u3053\u3093\u306a\u98a8\u306b\u4f7f\u3046\n$ docker $(docker-machine config dev) ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\n\nenv\n\u7279\u5b9a\u306e\u30de\u30b7\u30f3\u306b\u5bfe\u3057\u3066 docker \u30b3\u30de\u30f3\u30c9\u3092\u6253\u3064\u3088\u3046\u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3002\n# \u59cb\u3081\u306f DOCKER \u95a2\u9023\u306e\u74b0\u5883\u5909\u6570\u306f\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\n$ env | grep DOCKER\n\n# env \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u74b0\u5883\u5909\u6570\u3092 export \u3059\u308b\u6587\u304c\u8868\u793a\u3055\u308c\u308b\n$ docker-machine env dev-01\nexport DOCKER_TLS_VERIFY=yes\nexport DOCKER_CERT_PATH=/Users/seigo/.docker/machine/machines/dev-01\nexport DOCKER_HOST=tcp://192.168.99.100:2376\n\n# \u30b5\u30d6\u30b7\u30a7\u30eb\u3067 env \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u74b0\u5883\u5909\u6570\u3092\u30bb\u30c3\u30c8\u3059\u308b\n$ $(docker-machine env dev-01)\n\n# \u624b\u5143\u306e Docker \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c dev-01 \u3092\u5411\u304f\u3088\u3046\u74b0\u5883\u5909\u6570\u304c\u30bb\u30c3\u30c8\u3055\u308c\u305f\n$ env | grep DOCKER\nDOCKER_HOST=tcp://192.168.99.100:2376\nDOCKER_TLS_VERIFY=yes\nDOCKER_CERT_PATH=/Users/seigo/.docker/machine/machines/dev-01\n\n# dev-01 \u306b\u5bfe\u3057\u3066 docker \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\n$ docker ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\n# \u30bb\u30c3\u30c8\u3057\u305f DOCKER \u95a2\u9023\u306e\u74b0\u5883\u5909\u6570\u3092 unset \u3059\u308b\n$ $(docker-machine env -u)\n$ env | grep DOCKER\n\n\ninspect\n\u30de\u30b7\u30f3\u60c5\u5831\u3092\u8868\u793a\u3059\u308b\n$ docker-machine inspect dev-01\n{\n    \"DriverName\": \"virtualbox\",\n    \"Driver\": {\n        \"MachineName\": \"dev-01\",\n        \"SSHPort\": 54286,\n        \"Memory\": 1024,\n        \"DiskSize\": 20000,\n        \"Boot2DockerURL\": \"\",\n        \"CaCertPath\": \"/Users/seigo/.docker/machine/certs/ca.pem\",\n        \"PrivateKeyPath\": \"/Users/seigo/.docker/machine/certs/ca-key.pem\",\n        \"SwarmMaster\": false,\n        \"SwarmHost\": \"tcp://0.0.0.0:3376\",\n        \"SwarmDiscovery\": \"\"\n    },\n    \"CaCertPath\": \"/Users/seigo/.docker/machine/certs/ca.pem\",\n    \"ServerCertPath\": \"\",\n    \"ServerKeyPath\": \"\",\n    \"PrivateKeyPath\": \"/Users/seigo/.docker/machine/certs/ca-key.pem\",\n    \"ClientCertPath\": \"\",\n    \"SwarmMaster\": false,\n    \"SwarmHost\": \"tcp://0.0.0.0:3376\",\n    \"SwarmDiscovery\": \"\"\n}\n\n\nip\n\u30de\u30b7\u30f3\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u8868\u793a\u3059\u308b\n$ docker-machine ip dev-01\n192.168.99.100\n\n\nkill\n\u30de\u30b7\u30f3\u3092\u5f37\u5236\u7684\u306b\u30b9\u30c8\u30c3\u30d7\u3059\u308b\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Running   tcp://192.168.99.100:2376\ndev-02   *        virtualbox   Running   tcp://192.168.99.101:2376\n$ docker-machine kill dev-01\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Stopped\ndev-02   *        virtualbox   Running   tcp://192.168.99.101:2376\n\n\nls\n\u30de\u30b7\u30f3\u306e\u4e00\u89a7\u3092\u898b\u308b\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Running   tcp://192.168.99.100:2376\ndev-02   *        virtualbox   Running   tcp://192.168.99.101:2376\n\n\nrestart\n\u30de\u30b7\u30f3\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3059\u308b\u3002\n\u3053\u308c\u306f docker-machine stop; machine start \u3068\u540c\u7b49\u3002\n$ docker-machine restart dev-02\nINFO[0005] Waiting for VM to start...\n\n\nrm\n\u30de\u30b7\u30f3\u3092\u524a\u9664\u3059\u308b\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Running   tcp://192.168.99.100:2376\ndev-02   *        virtualbox   Running   tcp://192.168.99.101:2376\n$ docker-machine rm dev-02\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Running   tcp://192.168.99.100:2376\n\n\nssh\n\u30de\u30b7\u30f3\u306b SSH \u30ed\u30b0\u30a4\u30f3\u307e\u305f\u306f SSH \u7d4c\u7531\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\n$ docker-machine ssh dev-01\n                        ##        .\n                  ## ## ##       ==\n               ## ## ## ##      ===\n           /\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\\___/ ===\n      ~~~ {~~ ~~~~ ~~~ ~~~~ ~~ ~ /  ===- ~~~\n           \\______ o          __/\n             \\    \\        __/\n              \\____\\______/\n _                 _   ____     _            _\n| |__   ___   ___ | |_|___ \\ __| | ___   ___| | _____ _ __\n| '_ \\ / _ \\ / _ \\| __| __) / _` |/ _ \\ / __| |/ / _ \\ '__|\n| |_) | (_) | (_) | |_ / __/ (_| | (_) | (__|   <  __/ |\n|_.__/ \\___/ \\___/ \\__|_____\\__,_|\\___/ \\___|_|\\_\\___|_|\nBoot2Docker version 1.5.0, build master : a66bce5 - Tue Feb 10 23:31:27 UTC 2015\nDocker version 1.5.0, build a8a31ef\n\n$ docker-machine ssh dev-01 \"hostname && uname -a\"\ndev-01\nLinux dev-01 3.18.5-tinycore64 #1 SMP Sun Feb 1 06:02:30 UTC 2015 x86_64 GNU/Linux\n\ndf -h \u306e\u3088\u3046\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3046\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001-- \u3092\u4f7f\u3046\u304b\u30af\u30aa\u30fc\u30c8\u3067\u56f2\u3080\n$ docker-machine ssh dev-01 -- df -h\nFilesystem                Size      Used Available Use% Mounted on\nrootfs                  899.9M     86.9M    812.9M  10% /\ntmpfs                   899.9M     86.9M    812.9M  10% /\ntmpfs                   499.9M         0    499.9M   0% /dev/shm\n/dev/sda1                18.2G     58.6M     17.2G   0% /mnt/sda1\ncgroup                  499.9M         0    499.9M   0% /sys/fs/cgroup\nnone                    233.0G    193.6G     39.3G  83% /Users\n/dev/sda1                18.2G     58.6M     17.2G   0% /mnt/sda1/var/lib/docker/aufs\n\n$ docker-machine ssh dev-01 \"df -h\"\nFilesystem                Size      Used Available Use% Mounted on\nrootfs                  899.9M     86.9M    812.9M  10% /\ntmpfs                   899.9M     86.9M    812.9M  10% /\ntmpfs                   499.9M         0    499.9M   0% /dev/shm\n/dev/sda1                18.2G     58.6M     17.2G   0% /mnt/sda1\ncgroup                  499.9M         0    499.9M   0% /sys/fs/cgroup\nnone                    233.0G    193.6G     39.3G  83% /Users\n/dev/sda1                18.2G     58.6M     17.2G   0% /mnt/sda1/var/lib/docker/aufs\n\n\nstart\n\u30de\u30b7\u30f3\u3092\u30b9\u30bf\u30fc\u30c8\u3059\u308b\n$ docker-machine start dev-01\nINFO[0000] Waiting for VM to start...\n\n\nstop\n\u30de\u30b7\u30f3\u3092\u30b9\u30c8\u30c3\u30d7\u3059\u308b\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Running   tcp://192.168.99.100:2376\n$ docker-machine stop dev-01\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL   SWARM\ndev-01            virtualbox   Stopped\n\n\nupgrade\n\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306e Docker \u3092\u4f7f\u3046\u3088\u3046\u30de\u30b7\u30f3\u3092\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u3002\n# with VirtualBox\n$ docker-machine upgrade dev-02\nINFO[0000] Stopping machine...\nINFO[0006] Downloading boot2docker...\n# 2015/02/27 \u73fe\u5728\u306f\u3053\u3053\u3067\u6b62\u307e\u3063\u3066\u3057\u307e\u3046...\n\n# with DigitalOcean\n# \u8d77\u52d5\u3057\u305f\u72b6\u614b\u3060\u3068\u30c0\u30e1\u3060\u3068\u8a00\u308f\u308c\u305f\n$ docker-machine upgrade staging\nERRO[0018] exec: already started\n$ docker-machine stop staging\n# \u4eca\u306f\u52d5\u304b\u306a\u3044\u6a21\u69d8\n$ docker-machine upgrade staging\nERRO[0075] exit status 255\n\n\nurl\n\u30de\u30b7\u30f3\u306e Docker Remote API \u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8 URL \u3092\u8868\u793a\u3059\u308b\n$ docker-machine url dev-01\ntcp://192.168.99.100:2376\n\n\n\u30c9\u30e9\u30a4\u30d0\n2015\u5e7402\u670827\u65e5\u73fe\u5728\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u30c9\u30e9\u30a4\u30d0\u4e00\u89a7\n\nAmazon EC2\nMicrosoft Azure\nMicrosoft Hyper-V\nDigitalOcean\nGoogle Compute Engine\nOpenStack\nRackspace\nSoftLayer\nVirtualBox\nVMware Fusion\nVMware vCloud Air\nVMware vSphere\n\n\u3053\u308c\u4ee5\u5916\u306b\u3082\u30c9\u30e9\u30a4\u30d0\u8ffd\u52a0\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u3042\u308b\n\nAWS\nAmazon Web Services\n\nDigital Ocean\nDigital Ocean\n\nChange Log\n\u30ea\u30dd\u30b8\u30c8\u30ea\u306b CHANGES.md \u304c\u3042\u308b\n\nRoadmap\n\u30ea\u30dd\u30b8\u30c8\u30ea\u306b ROADMAP.md \u304c\u3042\u308b\u3002\n\u4eca\u6319\u3063\u3066\u3044\u308b\u3082\u306e\u3067\u826f\u3055\u305d\u3046\u306a\u306e\u306f\n\nCloud-init \u306e\u30b5\u30dd\u30fc\u30c8\nDocker \u306e\u5404\u7a2e\u8a2d\u5b9a\nSwarm \u3068\u306e\u9023\u643a\u306e\u5f37\u5316\nREST API \u306e\u63d0\u4f9b\uff08\u30de\u30b7\u30f3\u4f5c\u6210\u3068\u304b\u3092 REST API \u7d4c\u7531\u3067\u3067\u304d\u308b\uff1f\uff09\n\n\nREF\n\n\ndocker/machine\n\nCHANGE LOG\nROADMAP\n\n\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nANNOUNCING DOCKER MACHINE BETA\n\n## \u6982\u8981\n[2014\u5e74\u672b\u306e DockerCon EU\u3067\u767a\u8868\u3055\u308c\u305f\u516c\u5f0f\u306e\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb Machine, Swarm, Compose](http://blog.docker.com/2014/12/announcing-docker-machine-swarm-and-compose-for-orchestrating-distributed-apps/) \u306e\u3046\u3061 **Machine** \u306b\u3064\u3044\u3066\u306e\u307e\u3068\u3081\u3002\n2015\u5e7402\u670826\u65e5\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\u306a\u6700\u521d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u51fa\u305f\n\nMachine \u3092\u4e00\u8a00\u3067\u8aac\u660e\u3059\u308b\u306a\u3089\u3070 Docker \u30db\u30b9\u30c8\u3092\u4f5c\u6210\u3001\u7ba1\u7406\u3067\u304d\u308b\u30c4\u30fc\u30eb\u3002\n\n\nSwarm, Compose \u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u53c2\u7167\n\n* [Docker Swarm \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9](http://qiita.com/spesnova/items/f4b5f7ee57c9271c9dbd)\n* [Docker Compose \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9](http://qiita.com/spesnova/items/6e8919b34e763f27c34e)\n\n## Machine \u3068\u306f\nMachine \u306f\u958b\u767a\u30de\u30b7\u30f3\u3001\u30af\u30e9\u30a6\u30c9\u3001\u30c7\u30fc\u30bf\u30bb\u30f3\u30bf\u30fc\u306b Docker \u30db\u30b9\u30c8\u3092\u7c21\u5358\u306b\u4f5c\u6210\u3067\u304d\u308b\u30c4\u30fc\u30eb\u3002\n\nmachine \u304c\u3067\u304d\u308b\u3053\u3068\n\n* \u8efd\u91cf\u306a\u30db\u30b9\u30c8\u30de\u30b7\u30f3\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30c4\u30fc\u30eb\n * Docker\u30db\u30b9\u30c8\u306e\u4f5c\u6210\n * Docker\u30db\u30b9\u30c8\u306e\u30b9\u30bf\u30fc\u30c8\n * Docker\u30db\u30b9\u30c8\u306e\u30b9\u30c8\u30c3\u30d7\n * Docker\u30db\u30b9\u30c8\u306e\u524a\u9664\n* SSH\u7d4c\u7531\u3067\u306e\u30ea\u30e2\u30fc\u30c8\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u3084\u30ed\u30b0\u30a4\u30f3\n* Docker\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n\n2015\u5e7402\u670827\u65e5\u73fe\u5728\u306f\u30d9\u30fc\u30bf\u7248\u3068\u3044\u3046\u6271\u3044\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n### OSX x86_64\n[GitHub \u30ea\u30dd\u30b8\u30c8\u30ea\u306e releases](https://github.com/docker/machine/releases) \u304b\u3089 OSX x86_64 \u7528\u306e\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n\n\u4f8b: https://github.com/docker/machine/releases/download/v0.1.0/docker-machine_darwin-amd64\n\n\n```\n$ sudo mv ~/Downloads/docker-machine_darwin-amd64 /usr/bin/docker-machine\n$ sudo chmod +x /usr/bin/docker-machine\n$ docker-machine -v\ndocker-machine version 0.1.0\n```\n\n### Linux x86_64\n[GitHub \u30ea\u30dd\u30b8\u30c8\u30ea\u306e releases](https://github.com/docker/machine/releases) \u304b\u3089 Linux x86_64 \u7528\u306e\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n\n\u4f8b: https://github.com/docker/machine/releases/download/v0.1.0/docker-machine_linux-amd64\n\n```\ncore@core-01 ~ $ wget https://github.com/docker/machine/releases/download/v0.1.0/docker-machine_linux-amd64\ncore@core-01 ~ $ sudo mv docker-machine_linux-amd64 /opt/bin/docker-machine\ncore@core-01 ~ $ sudo chmod +x /opt/bin/docker-machine\ncore@core-01 ~ $ docker-machine -v\ndocker-machine version 0.1.0\n```\n\n### Docker Container\nDockerHub\u306b\u516c\u5f0f\u30a4\u30e1\u30fc\u30b8\u306f\u7f6e\u304b\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3060\u304c\u3001[`Dockerfile`](https://github.com/docker/machine/blob/master/Dockerfile) \u306f\u5b58\u5728\u3059\u308b\u3002\u304c\u3001Docker in Docker \u306b\u306a\u3063\u3066\u8907\u96d1\u306b\u306a\u308b\u306e\u3067\u3084\u3089\u306a\u3044\u304b\u306a\u3002\n\n## Hello World\n### VirtualBox\n[Docker Machine \u3092\u4f7f\u3063\u3066 VirtualBox \u306b Docker\u30db\u30b9\u30c8\u3092\u7acb\u3066\u308b](http://qiita.com/spesnova/items/038af6a8a4e401e3d2aa)\n\n### DigitalOcean\n\n[Docker Machine \u3092\u4f7f\u3063\u3066 DigitalOcean \u306b Docker\u30db\u30b9\u30c8\u3092\u7acb\u3066\u308b](http://qiita.com/spesnova/items/c1a8b7c1a079834aed2d)\n\n### EC2\n[Docker Machine \u3092\u4f7f\u3063\u3066 EC2 \u306b Docker\u30db\u30b9\u30c8\u3092\u7acb\u3066\u308b](http://qiita.com/spesnova/items/4d3738627997ce135deb)\n\n## How It Works\n`create` \u30b3\u30de\u30f3\u30c9\u3067\u306f\u4f55\u304c\u884c\u308f\u308c\u3066\u3044\u308b\u306e\u304b\n\n0. \u4f5c\u6210\u3059\u308b Docker \u30db\u30b9\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e SSH \u30ad\u30fc\u3092\u4f5c\u6210 (e.g. `~/.docker/machine/machines/<MACHINE_NAME>/id_rsa`)\n0. Docker \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n0. \u30ea\u30e2\u30fc\u30c8\u304b\u3089TLS\u3067\u901a\u4fe1\u53ef\u80fd\u306a\u3088\u3046\u8a2d\u5b9a\u3057\u3066 Docker Daemon \u3092\u8d77\u52d5\n\n\u8a3c\u660e\u66f8\u3068\u304b\u306f `~/.docker/machine/certs` \u4ee5\u4e0b\u306b\u3042\u308b\n\n## \u30c9\u30e9\u30a4\u30d0\u3092\u4f7f\u308f\u305a\u306b\u7ba1\u7406\u30db\u30b9\u30c8\u3092\u8ffd\u52a0\u3059\u308b\n\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e URL \u3060\u3051\u3092\u6e21\u3057\u3066\u7ba1\u7406\u30db\u30b9\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u306e\u3067\u3001\n\u65e2\u306b\u69cb\u7bc9\u3055\u308c\u305f Docker \u30db\u30b9\u30c8\u3092 machine \u7ba1\u7406\u5316\u306b\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n```\n$ docker-machine create --url tcp://172.17.8.101:2375 core-01\nINFO[0000] \"core-01\" has been created and is now the active machine.\nINFO[0000] To point your Docker client at it, run this in your shell: $(docker-machine env core-01)\n```\n\n```\n$ docker-machine ls\nNAME      ACTIVE   DRIVER       STATE     URL                         SWARM\ncore-01            none                   tcp://172.17.8.101:2375\ndev       *        virtualbox   Running   tcp://192.168.99.100:2376\n```\n\n* TLS \u306e\u6e96\u5099\u306f\u81ea\u5206\u3067\u3084\u308b\u5fc5\u8981\u304c\u3042\u308b\n* \u30c9\u30e9\u30a4\u30d0\u306a\u3057\u306e\u30de\u30b7\u30f3\u306b\u306f `docker-machine ssh` \u306f\u3067\u304d\u306a\u3044\n\n## \u30b5\u30d6\u30b3\u30de\u30f3\u30c9\n### active\n\u30a2\u30af\u30c6\u30a3\u30d6\u306a\u30de\u30b7\u30f3\uff08Docker\u30db\u30b9\u30c8\uff09\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3002\n\n```\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01   *        virtualbox   Running   tcp://192.168.99.100:2376\ndev-02            virtualbox   Running   tcp://192.168.99.101:2376\n\n# \u30a2\u30af\u30c6\u30a3\u30d6\u306a\u30de\u30b7\u30f3\u3092 dev-02 \u306b\u30bb\u30c3\u30c8\n$ docker-machine active dev-02\n\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Running   tcp://192.168.99.100:2376\ndev-02   *        virtualbox   Running   tcp://192.168.99.101:2376\n```\n\n\u30a2\u30af\u30c6\u30a3\u30d6\u306a\u30de\u30b7\u30f3\u306b\u3064\u3044\u3066\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3067\u30de\u30b7\u30f3\u540d\u306e\u6307\u5b9a\u3092\u7701\u7565\u51fa\u6765\u308b\n\n```\n$ docker-machine ssh\n                        ##        .\n                  ## ## ##       ==\n               ## ## ## ##      ===\n           /\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\\___/ ===\n      ~~~ {~~ ~~~~ ~~~ ~~~~ ~~ ~ /  ===- ~~~\n           \\______ o          __/\n             \\    \\        __/\n              \\____\\______/\n _                 _   ____     _            _\n| |__   ___   ___ | |_|___ \\ __| | ___   ___| | _____ _ __\n| '_ \\ / _ \\ / _ \\| __| __) / _` |/ _ \\ / __| |/ / _ \\ '__|\n| |_) | (_) | (_) | |_ / __/ (_| | (_) | (__|   <  __/ |\n|_.__/ \\___/ \\___/ \\__|_____\\__,_|\\___/ \\___|_|\\_\\___|_|\nBoot2Docker version 1.5.0, build master : a66bce5 - Tue Feb 10 23:31:27 UTC 2015\nDocker version 1.5.0, build a8a31ef\ndocker@dev-02:~$\n```\n\n### create\nDocker \u30db\u30b9\u30c8\u3092\u4f5c\u6210\u3059\u308b\n\n```\n$ docker-machine create --driver virtualbox dev\nINFO[0000] Creating SSH key...\nINFO[0000] Creating VirtualBox VM...\nINFO[0007] Starting VirtualBox VM...\nINFO[0007] Waiting for VM to start...\nINFO[0038] \"dev\" has been created and is now the active machine. To point Docker at this machine, run: export DOCKER_HOST=$(docker-machine url) DOCKER_AUTH=identity\n```\n\n### config\nDocker \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u7528\u306e\u8a2d\u5b9a\u3092\u8868\u793a\u3059\u308b\n\n```\n$ docker-machine config dev\n--tls --tlscacert=/Users/ehazlett/.docker/machines/dev/ca.pem --tlscert=/Users/ehazlett/.docker/machines/dev/cert.pem --tlskey=/Users/ehazlett/.docker/machines/dev/key.pem -H tcp://192.168.99.103:2376\n```\n\n\u3053\u3093\u306a\u98a8\u306b\u4f7f\u3046\n\n```\n$ docker $(docker-machine config dev) ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n```\n\n### env\n\u7279\u5b9a\u306e\u30de\u30b7\u30f3\u306b\u5bfe\u3057\u3066 `docker` \u30b3\u30de\u30f3\u30c9\u3092\u6253\u3064\u3088\u3046\u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3002\n\n```bash\n# \u59cb\u3081\u306f DOCKER \u95a2\u9023\u306e\u74b0\u5883\u5909\u6570\u306f\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\n$ env | grep DOCKER\n\n# env \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u74b0\u5883\u5909\u6570\u3092 export \u3059\u308b\u6587\u304c\u8868\u793a\u3055\u308c\u308b\n$ docker-machine env dev-01\nexport DOCKER_TLS_VERIFY=yes\nexport DOCKER_CERT_PATH=/Users/seigo/.docker/machine/machines/dev-01\nexport DOCKER_HOST=tcp://192.168.99.100:2376\n\n# \u30b5\u30d6\u30b7\u30a7\u30eb\u3067 env \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u74b0\u5883\u5909\u6570\u3092\u30bb\u30c3\u30c8\u3059\u308b\n$ $(docker-machine env dev-01)\n\n# \u624b\u5143\u306e Docker \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c dev-01 \u3092\u5411\u304f\u3088\u3046\u74b0\u5883\u5909\u6570\u304c\u30bb\u30c3\u30c8\u3055\u308c\u305f\n$ env | grep DOCKER\nDOCKER_HOST=tcp://192.168.99.100:2376\nDOCKER_TLS_VERIFY=yes\nDOCKER_CERT_PATH=/Users/seigo/.docker/machine/machines/dev-01\n\n# dev-01 \u306b\u5bfe\u3057\u3066 docker \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\n$ docker ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\n# \u30bb\u30c3\u30c8\u3057\u305f DOCKER \u95a2\u9023\u306e\u74b0\u5883\u5909\u6570\u3092 unset \u3059\u308b\n$ $(docker-machine env -u)\n$ env | grep DOCKER\n```\n\n### inspect\n\u30de\u30b7\u30f3\u60c5\u5831\u3092\u8868\u793a\u3059\u308b\n\n```\n$ docker-machine inspect dev-01\n{\n    \"DriverName\": \"virtualbox\",\n    \"Driver\": {\n        \"MachineName\": \"dev-01\",\n        \"SSHPort\": 54286,\n        \"Memory\": 1024,\n        \"DiskSize\": 20000,\n        \"Boot2DockerURL\": \"\",\n        \"CaCertPath\": \"/Users/seigo/.docker/machine/certs/ca.pem\",\n        \"PrivateKeyPath\": \"/Users/seigo/.docker/machine/certs/ca-key.pem\",\n        \"SwarmMaster\": false,\n        \"SwarmHost\": \"tcp://0.0.0.0:3376\",\n        \"SwarmDiscovery\": \"\"\n    },\n    \"CaCertPath\": \"/Users/seigo/.docker/machine/certs/ca.pem\",\n    \"ServerCertPath\": \"\",\n    \"ServerKeyPath\": \"\",\n    \"PrivateKeyPath\": \"/Users/seigo/.docker/machine/certs/ca-key.pem\",\n    \"ClientCertPath\": \"\",\n    \"SwarmMaster\": false,\n    \"SwarmHost\": \"tcp://0.0.0.0:3376\",\n    \"SwarmDiscovery\": \"\"\n}\n```\n\n### ip\n\u30de\u30b7\u30f3\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u8868\u793a\u3059\u308b\n\n```\n$ docker-machine ip dev-01\n192.168.99.100\n```\n\n### kill\n\u30de\u30b7\u30f3\u3092\u5f37\u5236\u7684\u306b\u30b9\u30c8\u30c3\u30d7\u3059\u308b\n\n```\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Running   tcp://192.168.99.100:2376\ndev-02   *        virtualbox   Running   tcp://192.168.99.101:2376\n$ docker-machine kill dev-01\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Stopped\ndev-02   *        virtualbox   Running   tcp://192.168.99.101:2376\n```\n\n### ls\n\u30de\u30b7\u30f3\u306e\u4e00\u89a7\u3092\u898b\u308b\n\n```\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Running   tcp://192.168.99.100:2376\ndev-02   *        virtualbox   Running   tcp://192.168.99.101:2376\n```\n\n### restart\n\u30de\u30b7\u30f3\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3059\u308b\u3002\n\u3053\u308c\u306f `docker-machine stop; machine start` \u3068\u540c\u7b49\u3002\n\n```\n$ docker-machine restart dev-02\nINFO[0005] Waiting for VM to start...\n```\n\n### rm\n\u30de\u30b7\u30f3\u3092\u524a\u9664\u3059\u308b\n\n```\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Running   tcp://192.168.99.100:2376\ndev-02   *        virtualbox   Running   tcp://192.168.99.101:2376\n$ docker-machine rm dev-02\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Running   tcp://192.168.99.100:2376\n```\n\n### ssh\n\u30de\u30b7\u30f3\u306b SSH \u30ed\u30b0\u30a4\u30f3\u307e\u305f\u306f SSH \u7d4c\u7531\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\n\n```\n$ docker-machine ssh dev-01\n                        ##        .\n                  ## ## ##       ==\n               ## ## ## ##      ===\n           /\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\\___/ ===\n      ~~~ {~~ ~~~~ ~~~ ~~~~ ~~ ~ /  ===- ~~~\n           \\______ o          __/\n             \\    \\        __/\n              \\____\\______/\n _                 _   ____     _            _\n| |__   ___   ___ | |_|___ \\ __| | ___   ___| | _____ _ __\n| '_ \\ / _ \\ / _ \\| __| __) / _` |/ _ \\ / __| |/ / _ \\ '__|\n| |_) | (_) | (_) | |_ / __/ (_| | (_) | (__|   <  __/ |\n|_.__/ \\___/ \\___/ \\__|_____\\__,_|\\___/ \\___|_|\\_\\___|_|\nBoot2Docker version 1.5.0, build master : a66bce5 - Tue Feb 10 23:31:27 UTC 2015\nDocker version 1.5.0, build a8a31ef\n```\n\n```\n$ docker-machine ssh dev-01 \"hostname && uname -a\"\ndev-01\nLinux dev-01 3.18.5-tinycore64 #1 SMP Sun Feb 1 06:02:30 UTC 2015 x86_64 GNU/Linux\n```\n\n`df -h` \u306e\u3088\u3046\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3046\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001`--` \u3092\u4f7f\u3046\u304b\u30af\u30aa\u30fc\u30c8\u3067\u56f2\u3080\n\n```\n$ docker-machine ssh dev-01 -- df -h\nFilesystem                Size      Used Available Use% Mounted on\nrootfs                  899.9M     86.9M    812.9M  10% /\ntmpfs                   899.9M     86.9M    812.9M  10% /\ntmpfs                   499.9M         0    499.9M   0% /dev/shm\n/dev/sda1                18.2G     58.6M     17.2G   0% /mnt/sda1\ncgroup                  499.9M         0    499.9M   0% /sys/fs/cgroup\nnone                    233.0G    193.6G     39.3G  83% /Users\n/dev/sda1                18.2G     58.6M     17.2G   0% /mnt/sda1/var/lib/docker/aufs\n\n$ docker-machine ssh dev-01 \"df -h\"\nFilesystem                Size      Used Available Use% Mounted on\nrootfs                  899.9M     86.9M    812.9M  10% /\ntmpfs                   899.9M     86.9M    812.9M  10% /\ntmpfs                   499.9M         0    499.9M   0% /dev/shm\n/dev/sda1                18.2G     58.6M     17.2G   0% /mnt/sda1\ncgroup                  499.9M         0    499.9M   0% /sys/fs/cgroup\nnone                    233.0G    193.6G     39.3G  83% /Users\n/dev/sda1                18.2G     58.6M     17.2G   0% /mnt/sda1/var/lib/docker/aufs\n```\n\n### start\n\u30de\u30b7\u30f3\u3092\u30b9\u30bf\u30fc\u30c8\u3059\u308b\n\n```\n$ docker-machine start dev-01\nINFO[0000] Waiting for VM to start...\n```\n\n### stop\n\u30de\u30b7\u30f3\u3092\u30b9\u30c8\u30c3\u30d7\u3059\u308b\n\n```\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL                         SWARM\ndev-01            virtualbox   Running   tcp://192.168.99.100:2376\n$ docker-machine stop dev-01\n$ docker-machine ls\nNAME     ACTIVE   DRIVER       STATE     URL   SWARM\ndev-01            virtualbox   Stopped\n```\n\n### upgrade\n\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306e Docker \u3092\u4f7f\u3046\u3088\u3046\u30de\u30b7\u30f3\u3092\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u3002\n\n```\n# with VirtualBox\n$ docker-machine upgrade dev-02\nINFO[0000] Stopping machine...\nINFO[0006] Downloading boot2docker...\n# 2015/02/27 \u73fe\u5728\u306f\u3053\u3053\u3067\u6b62\u307e\u3063\u3066\u3057\u307e\u3046...\n\n# with DigitalOcean\n# \u8d77\u52d5\u3057\u305f\u72b6\u614b\u3060\u3068\u30c0\u30e1\u3060\u3068\u8a00\u308f\u308c\u305f\n$ docker-machine upgrade staging\nERRO[0018] exec: already started\n$ docker-machine stop staging\n# \u4eca\u306f\u52d5\u304b\u306a\u3044\u6a21\u69d8\n$ docker-machine upgrade staging\nERRO[0075] exit status 255\n```\n\n### url\n\u30de\u30b7\u30f3\u306e Docker Remote API \u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8 URL \u3092\u8868\u793a\u3059\u308b\n\n```\n$ docker-machine url dev-01\ntcp://192.168.99.100:2376\n```\n\n## \u30c9\u30e9\u30a4\u30d0\n2015\u5e7402\u670827\u65e5\u73fe\u5728\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u30c9\u30e9\u30a4\u30d0\u4e00\u89a7\n\n* Amazon EC2\n* Microsoft Azure\n* Microsoft Hyper-V\n* DigitalOcean\n* Google Compute Engine\n* OpenStack\n* Rackspace\n* SoftLayer\n* VirtualBox\n* VMware Fusion\n* VMware vCloud Air\n* VMware vSphere\n\n\u3053\u308c\u4ee5\u5916\u306b\u3082[\u30c9\u30e9\u30a4\u30d0\u8ffd\u52a0\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u3042\u308b](https://github.com/docker/machine/pulls?q=is%3Aopen+is%3Apr+label%3Aproposed-driver)\n\n### AWS\n[Amazon Web Services](https://docs.docker.com/machine/#amazon-web-services)\n\n### Digital Ocean\n[Digital Ocean](https://docs.docker.com/machine/#digital-ocean)\n\n\n## Change Log\n\u30ea\u30dd\u30b8\u30c8\u30ea\u306b [CHANGES.md](https://github.com/docker/machine/blob/master/CHANGES.md) \u304c\u3042\u308b\n\n## Roadmap\n\u30ea\u30dd\u30b8\u30c8\u30ea\u306b [`ROADMAP.md`](https://github.com/docker/machine/blob/master/ROADMAP.md) \u304c\u3042\u308b\u3002\n\n\u4eca\u6319\u3063\u3066\u3044\u308b\u3082\u306e\u3067\u826f\u3055\u305d\u3046\u306a\u306e\u306f\n\n* Cloud-init \u306e\u30b5\u30dd\u30fc\u30c8\n* Docker \u306e\u5404\u7a2e\u8a2d\u5b9a\n* Swarm \u3068\u306e\u9023\u643a\u306e\u5f37\u5316\n* REST API \u306e\u63d0\u4f9b\uff08\u30de\u30b7\u30f3\u4f5c\u6210\u3068\u304b\u3092 REST API \u7d4c\u7531\u3067\u3067\u304d\u308b\uff1f\uff09\n\n## REF\n\n* [docker/machine](https://github.com/docker/machine)\n * [CHANGE LOG](https://github.com/docker/machine/blob/master/CHANGES.md)\n * [ROADMAP](https://github.com/docker/machine/blob/master/ROADMAP.md)\n* [\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://docs.docker.com/machine/)\n* [ANNOUNCING DOCKER MACHINE BETA](http://blog.docker.com/2015/02/announcing-docker-machine-beta/)\n", "tags": ["docker", "docker-machine"]}