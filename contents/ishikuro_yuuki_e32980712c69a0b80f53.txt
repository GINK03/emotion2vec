{"tags": ["awscli", "AWS", "EC2", "S3", "CloudFormation"], "context": "AWSCLI\u3092\u89e6\u308b\u6a5f\u4f1a\u304c\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u4f7f\u7528\u4f8b\u3092\u7d39\u4ecb\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\nS3\u304b\u3089\u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nS3\u306b\u7f6e\u3044\u3066\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n$ aws s3 cp s3://\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9 \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306e\u30d1\u30b9\n\u4f7f\u7528\u4f8b\n $ aws s3 cp s3://~~~/~~~/test.txt ./\n   download: s3://~~~/~~~/test.txt to ./test.txt\n\n\nS3\u3078\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\nS3\u3078\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3092\u3057\u307e\u3059\u3002\n$ s3 cp \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5143\u306e\u30d1\u30b9 s3://\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\n\u4f7f\u7528\u4f8b\n $ $ aws s3 cp test.txt s3://~~~/~~~/\n     upload: ./test.txt to s3://~~~/~~~/test.txt\n\n\nCloudFormation Stack\u306e\u4f5c\u6210\n$ aws cloudformation create-stack --region \u30ea\u30fc\u30b8\u30e7\u30f3\u540d --stack-name \u30b9\u30bf\u30c3\u30af\u540d --template-url \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u914d\u7f6e\u30d1\u30b9 --parameters \u30d1\u30e9\u30e1\u30fc\u30bf=\u5024\n\u4f7f\u7528\u4f8b\n\n\n\ntemplate\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\naws s3 cp s3://~/~/test.template\n\n\n\n\nstack\u540d\ntestStack\n\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\nap-northeast-1\n\n\n\n\u4f7f\u7528\u4f8b\n$ aws cloudformation create-stack --stack-name testStack --region ap-northeast-1 --template-url https://s3.amazonaws.com/~~~/~~~/test.template --parameters ParameterKey=KeyName,ParameterValue=valueName \n\n\nCloudFormation Stack\u306e\u524a\u9664\n$ aws cloudformation delete-stack --stack-name \u30b9\u30bf\u30c3\u30af\u540d --region \u30ea\u30fc\u30b8\u30e7\u30f3\u540d\n\u4f7f\u7528\u4f8b\n$ aws cloudformation delete-stack --stack-name testStack --region ap-northeast-1\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8d77\u52d5\u72b6\u614b\u306e\u78ba\u8a8d\n$ aws ec2 describe-instances --instance-ids \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID --region \u30ea\u30fc\u30b8\u30e7\u30f3\n\u4f7f\u7528\u4f8b\naws ec2 describe-instances --instance-ids \u25cb-\u00d7\u00d7\u00d7\u00d7\u00d7 --region ap-northeast-1\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30ea\u30d6\u30fc\u30c9\n$ aws ec2 reboot-instances --instance-ids \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID --region \u30ea\u30fc\u30b8\u30e7\u30f3\n\u4f7f\u7528\u4f8b\n**$ aws ec2 reboot-instances --instance-ids \u25cb-\u00d7\u00d7\u00d7\u00d7\u00d7 --region ap-northeast-1**\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30bf\u30fc\u30df\u30cd\u30fc\u30c8\n$ aws ec2 terminate-instances --instance-ids \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID --region \u30ea\u30fc\u30b8\u30e7\u30f3\n\u4f7f\u7528\u4f8b\naws ec2 terminate-instances --instance-ids \u25cb-\u00d7\u00d7\u00d7\u00d7\u00d7 --region ap-northeast-1\n\n\n\u6700\u5f8c\u306b\n\u4eca\u5f8c\u3082\u3069\u3093\u3069\u3093\u66f4\u65b0\u3057\u3066\u3044\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f7f\u7528\u3059\u308b\u3055\u3044\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u3092\u9593\u9055\u3048\u306a\u3044\u3088\u3046\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\u3002\nAWSCLI\u3092\u89e6\u308b\u6a5f\u4f1a\u304c\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u4f7f\u7528\u4f8b\u3092\u7d39\u4ecb\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n#S3\u304b\u3089\u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9#\nS3\u306b\u7f6e\u3044\u3066\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n\n**$ aws s3 cp s3://\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9 \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306e\u30d1\u30b9**\n\n\u4f7f\u7528\u4f8b\n\n```\n $ aws s3 cp s3://~~~/~~~/test.txt ./\n   download: s3://~~~/~~~/test.txt to ./test.txt\n```\n\n#S3\u3078\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9#\nS3\u3078\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3092\u3057\u307e\u3059\u3002\n\n\n**$ s3 cp \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5143\u306e\u30d1\u30b9 s3://\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9**\n\u4f7f\u7528\u4f8b\n\n\n```\n $ $ aws s3 cp test.txt s3://~~~/~~~/\n     upload: ./test.txt to s3://~~~/~~~/test.txt\n```\n\n##CloudFormation Stack\u306e\u4f5c\u6210##\n\n**$ aws cloudformation create-stack --region \u30ea\u30fc\u30b8\u30e7\u30f3\u540d --stack-name \u30b9\u30bf\u30c3\u30af\u540d --template-url \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u914d\u7f6e\u30d1\u30b9 --parameters \u30d1\u30e9\u30e1\u30fc\u30bf=\u5024**\n\n\n\u4f7f\u7528\u4f8b\n\n| template\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9 | aws s3 cp s3://~~~/~~~/test.template |\n|-----------|------------|\n| **stack\u540d** | **testStack** |\n| **\u30ea\u30fc\u30b8\u30e7\u30f3** | **ap-northeast-1** |\n\n\u4f7f\u7528\u4f8b\n\n```\n$ aws cloudformation create-stack --stack-name testStack --region ap-northeast-1 --template-url https://s3.amazonaws.com/~~~/~~~/test.template --parameters ParameterKey=KeyName,ParameterValue=valueName \n```\n\n##CloudFormation Stack\u306e\u524a\u9664##\n\n**$ aws cloudformation delete-stack --stack-name \u30b9\u30bf\u30c3\u30af\u540d --region \u30ea\u30fc\u30b8\u30e7\u30f3\u540d**\n\n\u4f7f\u7528\u4f8b\n\n```\n$ aws cloudformation delete-stack --stack-name testStack --region ap-northeast-1\n```\n\n##\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8d77\u52d5\u72b6\u614b\u306e\u78ba\u8a8d##\n\n**$ aws ec2 describe-instances --instance-ids \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID --region \u30ea\u30fc\u30b8\u30e7\u30f3**\n\n\u4f7f\u7528\u4f8b\n\n```\naws ec2 describe-instances --instance-ids \u25cb-\u00d7\u00d7\u00d7\u00d7\u00d7 --region ap-northeast-1\n```\n\n##\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30ea\u30d6\u30fc\u30c9##\n**$ aws ec2 reboot-instances --instance-ids \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID --region \u30ea\u30fc\u30b8\u30e7\u30f3**\n\n\u4f7f\u7528\u4f8b\n\n```\n**$ aws ec2 reboot-instances --instance-ids \u25cb-\u00d7\u00d7\u00d7\u00d7\u00d7 --region ap-northeast-1**\n```\n##\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30bf\u30fc\u30df\u30cd\u30fc\u30c8##\n**$ aws ec2 terminate-instances --instance-ids \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID --region \u30ea\u30fc\u30b8\u30e7\u30f3**\n\n\u4f7f\u7528\u4f8b\n\n```\naws ec2 terminate-instances --instance-ids \u25cb-\u00d7\u00d7\u00d7\u00d7\u00d7 --region ap-northeast-1\n```\n\n#\u6700\u5f8c\u306b#\n\u4eca\u5f8c\u3082\u3069\u3093\u3069\u3093\u66f4\u65b0\u3057\u3066\u3044\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f7f\u7528\u3059\u308b\u3055\u3044\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u3092\u9593\u9055\u3048\u306a\u3044\u3088\u3046\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\u3002\n\n\n\n"}