{"context": "\uff32\u8a00\u8a9e \u3067 \u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u5206\u6790\u3057\u305f\u7d50\u679c \u3092 Gephi \u306b \u53d6\u308a\u8fbc\u3093\u3067\u3001\u7f8e\u3057\u3044\u30b0\u30e9\u30d5 \u3068\u3057\u3066 \u8868\u793a \u3055\u305b\u3066\u307f\u307e\u3059\u3002\n\n\n\uff11. \u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u5206\u6790 \u3092 \u5b9f\u884c\n\n\n\u95a2\u6570\uff1a arules \n\u95a2\u6570\uff1a arulesViz\n\u30c7\u30fc\u30bf\uff1a\u7d44\u307f\u8fbc\u307f\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8 Income \u3092\u7528\u3044\u308b\nIncome\u3000\uff1a\u7c73\u56fd\u30b5\u30f3\u30d5\u30e9\u30f3\u30b7\u30b9\u30b3\u30fbBay\u30a8\u30ea\u30a2 9,409\u4eba\u306e\u500b\u4eba\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\uff08\u5c5e\u6027\uff09\u30fb\u53ce\u5165\u30a2\u30f3\u30b1\u30fc\u30c8\u8abf\u67fb\u7d50\u679c\n\ninstall.packages(\"arules\")\ninstall.packages(\"arulesViz\")\n\nlibrary(arules)\nlibrary(arulesViz)\n\ndata(Income)\nprint(Income)\n\ntransactions in sparse format with\n 6876 transactions (rows) and\n 50 items (columns)\n\npar(mar=c(4.5, 2, 1, 2), cex=0.65, cex.axis=0.7)\nitemFrequencyPlot(Income, cex=0.8, col=\"lightblue\")\n\n\n\n\u4e0a\u8a18\u306e\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u3001\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u5206\u6790\u3092\u5b9f\u884c\n\nIncome.ap <- apriori(Income)\n\n\n8664\u4ef6\u306e\u76f8\u95a2\u30eb\u30fc\u30eb\u304c\u5f97\u3089\u308c\u305f\n\nparameter specification:\n confidence minval smax arem  aval originalSupport support minlen maxlen target   ext\n        0.8    0.1    1 none FALSE            TRUE     0.1      1     10  rules FALSE\n\nalgorithmic control:\n filter tree heap memopt load sort verbose\n    0.1 TRUE TRUE  FALSE TRUE    2    TRUE\n\napriori - find association rules with the apriori algorithm\nversion 4.21 (2004.05.09)        (c) 1996-2004   Christian Borgelt\nset item appearances ...[0 item(s)] done [0.00s].\nset transactions ...[50 item(s), 6876 transaction(s)] done [0.00s].\nsorting and recoding items ... [30 item(s)] done [0.00s].\ncreating transaction tree ... done [0.00s].\nchecking subsets of size 1 2 3 4 5 6 7 8 done [0.04s].\nwriting ... [8664 rule(s)] done [0.00s].\ncreating S4 object  ... done [0.00s].\n\n\n\n{\u7d50\u679c\u90e8} \u304c\u3001\u5e74\u53ce4\u4e07\u30c9\u30eb\u4ee5\u4e0a\u306e\u6761\u4ef6\u306b\u5408\u81f4\u3059\u308b\u4e16\u5e2f\u306e {\u6761\u4ef6\u90e8} \u3092\u30ea\u30b9\u30c8\u8868\u793a\n\u203b lift\u5024 \uff1a\uff12\u4ee5\u4e0a\u306e\u6761\u4ef6\u3082\u4ed8\u52a0  \u203b\u4e0a\u4f4d10\u4ef6\u629c\u7c8b\n\nIncome.rules <- subset(Income.ap, subset=rhs %in% \"income=$40,000+\" & lift>2)\nprint(inspect(SORT(Income.rules)[1:10]))\n\n   lhs                                     rhs                 support confidence     lift\n1  {occupation=professional/managerial,                                                   \n    householder status=own}             => {income=$40,000+} 0.1384526  0.8074640 2.138722\n2  {occupation=professional/managerial,                                                   \n    householder status=own,                                                               \n    language in home=english}           => {income=$40,000+} 0.1336533  0.8075571 2.138969\n3  {dual incomes=yes,                                                                     \n    householder status=own}             => {income=$40,000+} 0.1260908  0.8156162 2.160315\n4  {marital status=married,                                                               \n    occupation=professional/managerial,                                                   \n    language in home=english}           => {income=$40,000+} 0.1233275  0.8030303 2.126979\n5  {marital status=married,                                                               \n    dual incomes=yes,                                                                     \n    householder status=own}             => {income=$40,000+} 0.1227458  0.8194175 2.170383\n6  {education=college graduate,                                                           \n    householder status=own,                                                               \n    language in home=english}           => {income=$40,000+} 0.1212914  0.8011527 2.122005\n7  {dual incomes=yes,                                                                     \n    householder status=own,                                                               \n    language in home=english}           => {income=$40,000+} 0.1207097  0.8258706 2.187476\n8  {occupation=professional/managerial,                                                   \n    householder status=own,                                                               \n    type of home=house}                 => {income=$40,000+} 0.1192554  0.8175474 2.165430\n9  {marital status=married,                                                               \n    dual incomes=yes,                                                                     \n    householder status=own,                                                               \n    language in home=english}           => {income=$40,000+} 0.1175102  0.8304214 2.199529\n10 {occupation=professional/managerial,                                                   \n    householder status=own,                                                               \n    type of home=house,                                                                   \n    language in home=english}           => {income=$40,000+} 0.1148924  0.8178054 2.166113\nNULL\nWarning message:\nIn .local(x, ...) : arules: SORT is deprecated use sort instead.\n\n\nsupport\u5024\u3092\u5897\u3084\u3057\u3001\u691c\u51fa\u3055\u308c\u308b\u76f8\u95a2\u30eb\u30fc\u30eb\u306e\u6570\u3092\u7d5e\u308b\n\n\uff08 714\u4ef6\u306e\u30eb\u30fc\u30eb\u3092\u5f97\u305f \uff09\nIncome.ap <- apriori(Income, parameter=list(support=0.2))\n\nparameter specification:\n confidence minval smax arem  aval originalSupport support minlen maxlen target   ext\n        0.8    0.1    1 none FALSE            TRUE     0.2      1     10  rules FALSE\n\nalgorithmic control:\n filter tree heap memopt load sort verbose\n    0.1 TRUE TRUE  FALSE TRUE    2    TRUE\n\napriori - find association rules with the apriori algorithm\nversion 4.21 (2004.05.09)        (c) 1996-2004   Christian Borgelt\nset item appearances ...[0 item(s)] done [0.00s].\nset transactions ...[50 item(s), 6876 transaction(s)] done [0.00s].\nsorting and recoding items ... [26 item(s)] done [0.00s].\ncreating transaction tree ... done [0.00s].\nchecking subsets of size 1 2 3 4 5 6 done [0.01s].\nwriting ... [714 rule(s)] done [0.00s].\ncreating S4 object  ... done [0.00s].\n\n\n\u30eb\u30fc\u30eb\u306e\u6761\u4ef6\u90e8 {lhs} \u21d2 \u7d50\u679c\u90e8 {rhs} \u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b0\u30e9\u30d5\u306b\u51fa\u529b\n\u307e\u305a\u306f\u3001R\u3000\u3067\uff01\n\n\u95a2\u6570 plot.rules() \u3092\u4f7f\u7528\n\ncontrol\u5f15\u6570\u306b{igraph}\u5074\u306e\u5f15\u6570\u3092\u30ea\u30b9\u30c8\u5f62\u5f0f\u3067\u5165\u308c\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u308b\ncontrol\u5f15\u6570 >>> layout\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u5024\u306f\u3001default\u3067\"layout.fruchterman.reingold\")\n\nplot(Income.ap,\u3000method=\"graph\",\u3000control=list(type=\"items\",cex=0.6),margin=-0.1)\n\n\n\nsupport\u5024\u3092\u5897\u3084\u3057\u3001\u691c\u51fa\u3055\u308c\u308b\u76f8\u95a2\u30eb\u30fc\u30eb\u306e\u6570\u3092\u7d5e\u308b\n\n\uff08 134\u4ef6\u306e\u30eb\u30fc\u30eb\u3092\u5f97\u305f \uff09\nIncome.ap <- apriori(Income, parameter=list(support=0.3))\n\n\nparameter specification:\n confidence minval smax arem  aval originalSupport support minlen maxlen target   ext\n        0.8    0.1    1 none FALSE            TRUE     0.3      1     10  rules FALSE\n\nalgorithmic control:\n filter tree heap memopt load sort verbose\n    0.1 TRUE TRUE  FALSE TRUE    2    TRUE\n\napriori - find association rules with the apriori algorithm\nversion 4.21 (2004.05.09)        (c) 1996-2004   Christian Borgelt\nset item appearances ...[0 item(s)] done [0.00s].\nset transactions ...[50 item(s), 6876 transaction(s)] done [0.00s].\nsorting and recoding items ... [22 item(s)] done [0.00s].\ncreating transaction tree ... done [0.00s].\nchecking subsets of size 1 2 3 4 done [0.00s].\nwriting ... [134 rule(s)] done [0.00s].\ncreating S4 object  ... done [0.00s].\nWarning messages:\n1:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n2:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n3:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n4:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n\nplot(Income.ap,\u3000method=\"graph\",\u3000control=list(type=\"items\",cex=1.2),margin=-0.1)\n\n\n\n\uff12\uff0e\u3044\u3088\u3044\u3088\u3001Gephi \u3067\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b0\u30e9\u30d5\u3092\u51fa\u529b\u3059\u308b\u6e96\u5099\u958b\u59cb\n\n\n\narules \u578b\u30c7\u30fc\u30bf\u3092 Gephi \u304c\u8aad\u307f\u8fbc\u307f\u53ef\u80fd\u306aGEXF\u30d5\u30a1\u30a4\u30eb\u306b\u5909\u63db\n\nclass(Income.ap) #arules\u578b\n\n[1] \"rules\"\nattr(,\"package\")\n[1] \"arules\"\nWarning messages:\n1:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n2:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n3:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n4:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n\n\n\narules \u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4e00\u65e6\u3001data.frame\u578b\u306b\u5909\u63db\u3059\u308b\n\ndata.ap.dataframe <- as(Income.ap, \"data.frame\")\nclass(data.ap.dataframe) # data.frame\u578b\n\n\n\n[1] \"data.frame\"\n\n\ndata.frame\u578b\u306b\u5909\u63db\u3057\u305f\u7d50\u679c\u3092\u78ba\u8a8d\n\nprint(head(data.ap.dataframe), 5)\n\n                                                               rules   support confidence      lift\n1                                   {} => {language in home=english} 0.9128854  0.9128854 1.0000000\n2 {occupation=professional/managerial} => {language in home=english} 0.3234439  0.9532790 1.0442483\n3              {years in bay area=1-9} => {language in home=english} 0.3115183  0.8814815 0.9655993\n4                   {householder status=own} => {type of home=house} 0.3161722  0.8413313 1.4102862\n5             {householder status=own} => {language in home=english} 0.3547120  0.9438854 1.0339583\n6                    {income=$40,000+} => {language in home=english} 0.3550029  0.9402928 1.0300228\n\n\nrule\u306e\u5185\u5bb9\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b0\u30e9\u30d5\u306enode\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\n\nrules <- data.ap.dataframe$rules\nclass(rules) \n\n[1] \"character\"\n\n\n\n\u6761\u4ef6\u90e8 {lhs} \u3068 \u7d50\u679c\u90e8 {rhs} \u3092\u5207\u308a\u51fa\u3057\u3066\u3001\u5225\u3005\u306e\u30c7\u30fc\u30bf\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3059\u308b\n\u203b \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b0\u30e9\u30d5\uff08\u6709\u5411\u30b0\u30e9\u30d5\uff09\u306e\u77e2\u5370\u3067\u7d50\u3070\u308c\u308b\u4e21\u7aef\u306e\u30ce\u30fc\u30c9\u306b\u3059\u308b\n\n\n\n\u3010\u65b9\u6cd5\u3011\u300c=>\u300d\u306e\u5de6\u9805\uff08\u5de6\u30aa\u30da\u30e9\u30f3\u30c9\uff09\u3068\u53f3\u9805\uff08\u53f3\u30aa\u30da\u30e9\u30f3\u30c9\uff09\u3067\u30c7\u30fc\u30bf\u5217\u5206\u5272\n\nrules.list <- strsplit(rules, \"=>\")\nclass(rules.list)\n\n[1] \"list\"\n\nprint(head(rules.list, 10))\n\n[[1]]\n[1] \"{} \"                         \" {language in home=english}\"\n\n[[2]]\n[1] \"{occupation=professional/managerial} \" \" {language in home=english}\"          \n\n[[3]]\n[1] \"{years in bay area=1-9} \"    \" {language in home=english}\"\n\n[[4]]\n[1] \"{householder status=own} \" \" {type of home=house}\"    \n\n[[5]]\n[1] \"{householder status=own} \"   \" {language in home=english}\"\n\n[[6]]\n[1] \"{income=$40,000+} \"          \" {language in home=english}\"\n\n[[7]]\n[1] \"{number of children=1+} \"         \" {education=no college graduate}\"\n\n[[8]]\n[1] \"{number of children=1+} \"    \" {language in home=english}\"\n\n[[9]]\n[1] \"{marital status=married} \"   \" {language in home=english}\"\n\n[[10]]\n[1] \"{marital status=single} \" \" {age=14-34}\"            \n\n# for\u6587\u306e\u30eb\u30fc\u30d7\u51e6\u7406\u306e\u4e2d\u3067\u3001\u6761\u4ef6\u90e8 {lhs} \u3068 \u7d50\u679c\u90e8\u3000{rhs} \u3092\u5206\u3051\u3066\u683c\u7d0d\u3059\u308b\u7bb1\u3092\u4f5c\u6210\n### \u3000\u203b\u521d\u671f\u5024\u3068\u3057\u3066\u5024\u306f0\uff08\u30bc\u30ed\uff09\u3092\u8a2d\u5b9a\nnode.labels <- as.data.frame(matrix(0, nrow=length(rules.list),ncol=2))\n\nfor(i in 1:length(rules.list)){\n     node.labels[i,1] <-  rules.list[[i]][1]\n     node.labels[i,2] <-  rules.list[[i]][2]\n}\n\nprint(node.labels[1:10,]); print(paste(\"\u30eb\u30fc\u30eb\u306e\u4ef6\u6570\uff1a  \", nrow(node.labels), \"\u4ef6\", sep=\"\"))\n\n\n                                      V1                               V2\n1                                    {}        {language in home=english}\n2  {occupation=professional/managerial}        {language in home=english}\n3               {years in bay area=1-9}        {language in home=english}\n4              {householder status=own}              {type of home=house}\n5              {householder status=own}        {language in home=english}\n6                     {income=$40,000+}        {language in home=english}\n7               {number of children=1+}   {education=no college graduate}\n8               {number of children=1+}        {language in home=english}\n9              {marital status=married}        {language in home=english}\n10              {marital status=single}                       {age=14-34}\n\n[1] \"\u30eb\u30fc\u30eb\u306e\u4ef6\u6570\uff1a  134\u4ef6\"\n\n\nnode\u306eID\u756a\u53f7\u3092\u63a1\u756a\u3059\u308b\n\n\uff08\u203b GEXF \u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u306e\u969b\u306b\u5fc5\u8981\u3068\u306a\u308b\uff09\n#ID \u683c\u7d0d\u5148\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5ba3\u8a00\uff08\u521d\u671f\u5024: 0\uff09\nnodes.lhs <- rep(0, as.numeric(nrow(node.labels)))\nnodes.rhs <- rep(0, as.numeric(nrow(node.labels)))\n\nfor(i in 1:nrow(node.labels)){\n     nodes.lhs[i]  <- node.labels[i,1]\n     nodes.rhs[i]  <- node.labels[i,2]\n}\n\n####__\u5168\u3066\u306e\u3000\u6761\u4ef6\u90e8 {lhs} / \u7d50\u679c\u90e8 {rhs} \u3092\u96c6\u3081\u3066\u3001\u91cd\u8907\u5024\u3092\u6392\u9664\uff08\u4e00\u610f\u96c6\u5408\u3092\u3064\u304f\u308b\uff09__\n\nnodes.unique <- unique(c(nodes.lhs, nodes.rhs))\n\nprint(nodes.unique)\n\n [1] \"{} \"                                                                               \n  [2] \"{occupation=professional/managerial} \"                                             \n  [3] \"{years in bay area=1-9} \"                                                          \n  [4] \"{householder status=own} \"                                                         \n  [5] \"{income=$40,000+} \"                                                                \n  [6] \"{number of children=1+} \"                                                          \n  [7] \"{marital status=married} \"                                                         \n  [8] \"{marital status=single} \"                                                          \n  [9] \"{age=35+} \"                                                                        \n [10] \"{householder status=rent} \"                                                        \n [11] \"{sex=male} \"                                                                       \n [12] \"{sex=female} \"                                                                     \n [13] \"{age=14-34} \"                                                                      \n [14] \"{type of home=house} \"                                                             \n [15] \"{dual incomes=not married} \"                                                       \n [16] \"{number of children=0} \"                                                           \n [17] \"{income=$0-$40,000} \"                                                              \n [18] \"{years in bay area=10+} \"                                                          \n [19] \"{ethnic classification=white} \"                                                    \n [20] \"{number in household=1} \"                                                          \n [21] \"{education=no college graduate} \"                                                  \n [22] \"{marital status=single,age=14-34} \"                                                \n [23] \"{marital status=single,dual incomes=not married} \"        \n\n          \uff08\u4e2d\u7565\uff09\n\n  [97] \"{education=no college graduate,number in household=1,number of children=0} \"       \n [98] \"{education=no college graduate,number of children=0,language in home=english} \"    \n [99] \"{years in bay area=10+,number in household=1,ethnic classification=white} \"        \n[100] \"{education=no college graduate,number in household=1,ethnic classification=white} \"\n[101] \" {language in home=english}\"                                                       \n[102] \" {type of home=house}\"                                                             \n[103] \" {education=no college graduate}\"                                                  \n[104] \" {age=14-34}\"                                                                      \n[105] \" {dual incomes=not married}\"                                                       \n[106] \" {income=$0-$40,000}\"                                                              \n[107] \" {number in household=1}\"                                                          \n[108] \" {marital status=single}\"                                                          \n[109] \" {ethnic classification=white}\"                                                    \n[110] \" {number of children=0}\"   \n\n\nnodes.ID.list <- data.frame(ID.NO=as.numeric(1:length(nodes.unique)), label=nodes.unique) \nprint(nodes.ID.list[1:10, ])\n\n   ID.NO                                 label\n1      1                                   {} \n2      2 {occupation=professional/managerial} \n3      3              {years in bay area=1-9} \n4      4             {householder status=own} \n5      5                    {income=$40,000+} \n6      6              {number of children=1+} \n7      7             {marital status=married} \n8      8              {marital status=single} \n9      9                            {age=35+} \n10    10            {householder status=rent} \n\n\n\u30ce\u30fc\u30c9\u9593\u306e \u6761\u4ef6\u90e8 {lhs} \u21d2 \u7d50\u679c\u90e8 {rhs} \u30da\u30a2\u3092\u3001\u30ce\u30fc\u30c9ID\u756a\u53f7\u306e\u6570\u5b57\u30da\u30a2\u306e\u884c\u5217\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u3059\u308b\nnodes.lhs <- data.frame(dummy=rep(\"X\",length(nodes.lhs)), label=as.vector(nodes.lhs))\nnodes.rhs <- data.frame(dummy=rep(\"Y\",length(nodes.rhs)), label=as.vector(nodes.rhs))\n\nlhs.nodes <- merge(nodes.lhs, nodes.ID.list, by=\"label\")\nrhs.nodes <- merge(nodes.rhs, nodes.ID.list, by=\"label\")\n\nprint(lhs.nodes[1:10, ])\n\n                                                                 label dummy ID.NO\n1                                                                  {}      X     1\n2       {age=14-34,dual incomes=not married,language in home=english}      X    79\n3       {age=14-34,dual incomes=not married,language in home=english}      X    79\n4       {age=14-34,dual incomes=not married,language in home=english}      X    79\n5                                {age=14-34,dual incomes=not married}      X    24\n6                                {age=14-34,dual incomes=not married}      X    24\n7                                {age=14-34,dual incomes=not married}      X    24\n8                                {age=14-34,dual incomes=not married}      X    24\n9  {age=14-34,education=no college graduate,dual incomes=not married}      X    81\n10                          {age=14-34,education=no college graduate}      X    45\n\nprint(rhs.nodes[1:10, ])\n\n                         label dummy ID.NO\n1                  {age=14-34}     Y   104\n2                  {age=14-34}     Y   104\n3                  {age=14-34}     Y   104\n4                  {age=14-34}     Y   104\n5                  {age=14-34}     Y   104\n6                  {age=14-34}     Y   104\n7   {dual incomes=not married}     Y   105\n8   {dual incomes=not married}     Y   105\n9   {dual incomes=not married}     Y   105\n10  {dual incomes=not married}     Y   105\n\n\ndummy\u5217\u3092\u5207\u308a\u843d\u3068\u3057\u3066\u3001\u30ce\u30fc\u30c9\u3092\u3064\u306a\u3050\u30a8\u30c3\u30b8\u306e\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\n\n* \u30c7\u30fc\u30bf\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d\uff1a relations\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\nlhs.nodes <- lhs.nodes[,-2]\nrhs.nodes <- rhs.nodes[,-2]\n\nrelations <- cbind(lhs.nodes, rhs.nodes)\n\nprint(relations[1:10, ])\n\n                                                                 label ID.NO                       label ID.NO\n1                                                                  {}      1                 {age=14-34}   104\n2       {age=14-34,dual incomes=not married,language in home=english}     79                 {age=14-34}   104\n3       {age=14-34,dual incomes=not married,language in home=english}     79                 {age=14-34}   104\n4       {age=14-34,dual incomes=not married,language in home=english}     79                 {age=14-34}   104\n5                                {age=14-34,dual incomes=not married}     24                 {age=14-34}   104\n6                                {age=14-34,dual incomes=not married}     24                 {age=14-34}   104\n7                                {age=14-34,dual incomes=not married}     24  {dual incomes=not married}   105\n8                                {age=14-34,dual incomes=not married}     24  {dual incomes=not married}   105\n9  {age=14-34,education=no college graduate,dual incomes=not married}     81  {dual incomes=not married}   105\n10                          {age=14-34,education=no college graduate}     45  {dual incomes=not married}   105\n\n\n\u6761\u4ef6\u90e8 {lhs} \u3068 \u7d50\u679c\u90e8 {rhs}  \u306eID.NO\u306e\u307f\u53d6\u308a\u51fa\u3059\n\nrelations <- relations[ , c(-1,-3)]\nprint(relations[1:10, ]) \n\n   ID.NO ID.NO.1\n1      1     104\n2     79     104\n3     79     104\n4     79     104\n5     24     104\n6     24     104\n7     24     105\n8     24     105\n9     81     105\n10    45     105\n\n\nedge\u306e\u91cd\u307f\u884c\u5217\u306e\u751f\u6210\n\n\n\u91cd\u307f\uff08weight\uff09\uff1a\u3000arules()\u95a2\u6570 \u8fd4\u308a\u5024\u306e support \u5024 \u3068\u5b9a\u7fa9\nsupport\u5024 \u306f \u5c0f\u6570\u70b92\u6841 \u306b \u4e38\u3081\u308b\n\nsupport <- data.ap.dataframe$support\nweight <- round(support, 2)\nprint(weight[1:10])\n\n [1] 0.91 0.32 0.31 0.32 0.35 0.36 0.31 0.33 0.36 0.37\n\n\nrgexf \u30d1\u30c3\u30b1\u30fc\u30b8 \u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 \u53ca\u3073 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ninstall.packages(\"rgexf\")\nlibrary(rgexf)\n\n\nGEXF \u30d5\u30a1\u30a4\u30eb \u306e\u51fa\u529b\n\n\nwrite.gexf() \u95a2\u6570\n\n__ \u3010\u5f15\u6570\u3011__\n\n\n\nnodes \uff1a \u30ce\u30fc\u30c9ID\u756a\u53f7\u30c7\u30fc\u30bf\n\nedges \uff1a \u30a8\u30c3\u30b8\u30c7\u30fc\u30bf\uff08 \u6761\u4ef6\u90e8 \u21d2 \u7d50\u679c\u90e8 \u306e\u95a2\u4fc2 \uff09\n\nedgesWeights\uff1a \u30a8\u30c3\u30b8\u306e\u91cd\u307f\uff08  support  \u5024 \uff09\u3000\n___\n\ngexf.file <- write.gexf(nodes=nodes.ID.list, edges=relations, edgesWeight=support)\n\nprint(gexf.file)\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<gexf xmlns=\"http://www.gexf.net/1.2draft\" xmlns:viz=\"http://www.gexf.net/1.1draft/viz\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.gexf.net/1.2draft http://www.gexf.net/1.2draft/gexf.xsd\" version=\"1.2\">\n  <meta lastmodifieddate=\"2014-06-05\">\n    <creator>NodosChile</creator>\n    <description>A graph file writing in R using \"rgexf\"</description>\n    <keywords>gexf graph, NodosChile, R, rgexf</keywords>\n  </meta>\n  <graph mode=\"static\" defaultedgetype=\"undirected\">\n    <nodes>\n      <node id=\"1\" label=\"{} \"/>\n      <node id=\"2\" label=\"{occupation=professional/managerial} \"/>\n      <node id=\"3\" label=\"{years in bay area=1-9} \"/>\n      <node id=\"4\" label=\"{householder status=own} \"/>\n      <node id=\"5\" label=\"{income=$40,000+} \"/>\n      <node id=\"6\" label=\"{number of children=1+} \"/>\n      <node id=\"7\" label=\"{marital status=married} \"/>\n      <node id=\"8\" label=\"{marital status=single} \"/>\n      <node id=\"9\" label=\"{age=35+} \"/>\n      <node id=\"10\" label=\"{householder status=rent} \"/>\n      <node id=\"11\" label=\"{sex=male} \"/>\n      <node id=\"12\" label=\"{sex=female} \"/>\n\n\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\uff08\u4e2d\u7565\uff09\n\u3000\u3000\u3000 \n      <node id=\"108\" label=\" {marital status=single}\"/>\n      <node id=\"109\" label=\" {ethnic classification=white}\"/>\n      <node id=\"110\" label=\" {number of children=0}\"/>\n    </nodes>\n    <edges>\n      <edge id=\"0\" source=\"1\" target=\"104\" weight=\"0.9128854\"/>\n      <edge id=\"1\" source=\"79\" target=\"104\" weight=\"0.3234439\"/>\n      <edge id=\"2\" source=\"79\" target=\"104\" weight=\"0.3115183\"/>\n      <edge id=\"3\" source=\"79\" target=\"104\" weight=\"0.3161722\"/>\n      <edge id=\"4\" source=\"24\" target=\"104\" weight=\"0.354712\"/>\n      <edge id=\"5\" source=\"24\" target=\"104\" weight=\"0.3550029\"/>\n      <edge id=\"6\" source=\"24\" target=\"105\" weight=\"0.3064282\"/>\n      <edge id=\"7\" source=\"24\" target=\"105\" weight=\"0.3327516\"/>\n      <edge id=\"8\" source=\"81\" target=\"105\" weight=\"0.3551483\"/>\n      <edge id=\"9\" source=\"45\" target=\"105\" weight=\"0.3654741\"/>\n      <edge id=\"10\" source=\"43\" target=\"105\" weight=\"0.4091041\"/>\n      <edge id=\"11\" source=\"44\" target=\"105\" weight=\"0.3302792\"/>\n      <edge id=\"12\" source=\"41\" target=\"105\" weight=\"0.3647469\"/>\n\n\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\uff08\u4e2d\u7565\uff09\n\n      <edge id=\"128\" source=\"69\" target=\"110\" weight=\"0.4099767\"/>\n      <edge id=\"129\" source=\"93\" target=\"110\" weight=\"0.4099767\"/>\n      <edge id=\"130\" source=\"57\" target=\"110\" weight=\"0.3206806\"/>\n      <edge id=\"131\" source=\"57\" target=\"110\" weight=\"0.3206806\"/>\n      <edge id=\"132\" source=\"46\" target=\"110\" weight=\"0.3113729\"/>\n      <edge id=\"133\" source=\"18\" target=\"102\" weight=\"0.3103549\"/>\n    </edges>\n  </graph>\n</gexf>\n\n\n\u203bsink()\u95a2\u6570\u3067\u73fe\u5728\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\nsink(file=\"SanFrancisco.AssociationRules.gexf\")\nprint(gexf.file)\nsink()\n\ndir()\n\n[1] \"SanFrancisco.AssociationRules.gexf\"\n\n\n\n\n\n\n\n\uff13\uff0eGephi \u3092 \u7acb\u3061\u4e0a\u3052\u308b\n\n\n\n\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\n\n\n\n\u300cFile\u300d\u21d2 \u300cOpen\u300d\n\n\n\n\u3055\u304d\u307b\u3069\u51fa\u529b\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u683c\u7d0d\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\n\n\n*\u300cOpen\u300d\u3092\u62bc\u3059\u3068\u3001\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u3067\u308b\uff08GEXF\u30d5\u30a1\u30a4\u30eb\u53d6\u308a\u8fbc\u307f\u6210\u529f\uff09\n\n\n\u300cOK\u300d\u3092\u62bc\u3059\u3068\u3001\u753b\u9762\u306b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u308b\n\u30de\u30a6\u30b9\u30db\u30a4\u30fc\u30eb\u3092\u4e0a\u306b\u56de\u3057\u3066\u3001\u62e1\u5927\u3002\u4e0b\u306b\u56de\u3057\u3066\u3001\u7e2e\u5c0f\n\u30de\u30a6\u30b9\u53f3\u30af\u30ea\u30c3\u30af + \u30de\u30a6\u30b9\u30c9\u30e9\u30c3\u30b0\u3067\u3001\u30b0\u30e9\u30d5\u3092\u4e0a\u4e0b\u5de6\u53f3\u306b\u79fb\u52d5\n\n\n\n\u753b\u9762\u4e0b\u90e8\u306e\u300c\uff34\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u3001\u30b0\u30e9\u30d5\u306b\u30ce\u30fc\u30c9\u306e\u30e9\u30d9\u30eb\u3092\u8868\u793a\n\n\n\n\n\u63cf\u753b\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u5909\u66f4\n\n\n\n\n\u63cf\u753b\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\uff1a Fruchterman Reingold \u306b\u5909\u66f4\u5f8c\n\n\n\n\u62e1\u5927\n\n\n\nGephi \u3067\u63cf\u753b\u3067\u304d\u305f\uff01\u3000\n\n\uff08 \u5b8c\u4e86 \uff09\n\n\uff32\u8a00\u8a9e \u3067 \u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u5206\u6790\u3057\u305f\u7d50\u679c \u3092 Gephi \u306b \u53d6\u308a\u8fbc\u3093\u3067\u3001\u7f8e\u3057\u3044\u30b0\u30e9\u30d5 \u3068\u3057\u3066 \u8868\u793a \u3055\u305b\u3066\u307f\u307e\u3059\u3002\n\n___\n\n###__\uff11. \u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u5206\u6790 \u3092 \u5b9f\u884c__\n\n- \u95a2\u6570\uff1a ***_arules_*** \n- \u95a2\u6570\uff1a ***_arulesViz_***\n\n* \u30c7\u30fc\u30bf\uff1a\u7d44\u307f\u8fbc\u307f\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8 ***_Income_*** \u3092\u7528\u3044\u308b\n* Income\u3000\uff1a\u7c73\u56fd\u30b5\u30f3\u30d5\u30e9\u30f3\u30b7\u30b9\u30b3\u30fbBay\u30a8\u30ea\u30a2 9,409\u4eba\u306e\u500b\u4eba\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\uff08\u5c5e\u6027\uff09\u30fb\u53ce\u5165\u30a2\u30f3\u30b1\u30fc\u30c8\u8abf\u67fb\u7d50\u679c\n\n```\ninstall.packages(\"arules\")\ninstall.packages(\"arulesViz\")\n\nlibrary(arules)\nlibrary(arulesViz)\n```\n\n\n```\ndata(Income)\nprint(Income)\n```\n\n```\ntransactions in sparse format with\n 6876 transactions (rows) and\n 50 items (columns)\n```\n\n\n```\npar(mar=c(4.5, 2, 1, 2), cex=0.65, cex.axis=0.7)\nitemFrequencyPlot(Income, cex=0.8, col=\"lightblue\")\n```\n\n![1.png](https://qiita-image-store.s3.amazonaws.com/0/43487/9c530a35-5df0-56a4-a2c7-6e351235c597.png)\n\n\n* __\u4e0a\u8a18\u306e\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u3001\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u5206\u6790\u3092\u5b9f\u884c__\n\n```\nIncome.ap <- apriori(Income)\n```\n\n* 8664\u4ef6\u306e\u76f8\u95a2\u30eb\u30fc\u30eb\u304c\u5f97\u3089\u308c\u305f\n\n```\nparameter specification:\n confidence minval smax arem  aval originalSupport support minlen maxlen target   ext\n        0.8    0.1    1 none FALSE            TRUE     0.1      1     10  rules FALSE\n\nalgorithmic control:\n filter tree heap memopt load sort verbose\n    0.1 TRUE TRUE  FALSE TRUE    2    TRUE\n\napriori - find association rules with the apriori algorithm\nversion 4.21 (2004.05.09)        (c) 1996-2004   Christian Borgelt\nset item appearances ...[0 item(s)] done [0.00s].\nset transactions ...[50 item(s), 6876 transaction(s)] done [0.00s].\nsorting and recoding items ... [30 item(s)] done [0.00s].\ncreating transaction tree ... done [0.00s].\nchecking subsets of size 1 2 3 4 5 6 7 8 done [0.04s].\nwriting ... [8664 rule(s)] done [0.00s].\ncreating S4 object  ... done [0.00s].\n```\n\n* _{\u7d50\u679c\u90e8}_ \u304c\u3001\u5e74\u53ce4\u4e07\u30c9\u30eb\u4ee5\u4e0a\u306e\u6761\u4ef6\u306b\u5408\u81f4\u3059\u308b\u4e16\u5e2f\u306e _{\u6761\u4ef6\u90e8}_ \u3092\u30ea\u30b9\u30c8\u8868\u793a\n\u203b _lift_\u5024 \uff1a\uff12\u4ee5\u4e0a\u306e\u6761\u4ef6\u3082\u4ed8\u52a0  \u203b\u4e0a\u4f4d10\u4ef6\u629c\u7c8b\n\n```\nIncome.rules <- subset(Income.ap, subset=rhs %in% \"income=$40,000+\" & lift>2)\nprint(inspect(SORT(Income.rules)[1:10]))\n```\n\n```\n   lhs                                     rhs                 support confidence     lift\n1  {occupation=professional/managerial,                                                   \n    householder status=own}             => {income=$40,000+} 0.1384526  0.8074640 2.138722\n2  {occupation=professional/managerial,                                                   \n    householder status=own,                                                               \n    language in home=english}           => {income=$40,000+} 0.1336533  0.8075571 2.138969\n3  {dual incomes=yes,                                                                     \n    householder status=own}             => {income=$40,000+} 0.1260908  0.8156162 2.160315\n4  {marital status=married,                                                               \n    occupation=professional/managerial,                                                   \n    language in home=english}           => {income=$40,000+} 0.1233275  0.8030303 2.126979\n5  {marital status=married,                                                               \n    dual incomes=yes,                                                                     \n    householder status=own}             => {income=$40,000+} 0.1227458  0.8194175 2.170383\n6  {education=college graduate,                                                           \n    householder status=own,                                                               \n    language in home=english}           => {income=$40,000+} 0.1212914  0.8011527 2.122005\n7  {dual incomes=yes,                                                                     \n    householder status=own,                                                               \n    language in home=english}           => {income=$40,000+} 0.1207097  0.8258706 2.187476\n8  {occupation=professional/managerial,                                                   \n    householder status=own,                                                               \n    type of home=house}                 => {income=$40,000+} 0.1192554  0.8175474 2.165430\n9  {marital status=married,                                                               \n    dual incomes=yes,                                                                     \n    householder status=own,                                                               \n    language in home=english}           => {income=$40,000+} 0.1175102  0.8304214 2.199529\n10 {occupation=professional/managerial,                                                   \n    householder status=own,                                                               \n    type of home=house,                                                                   \n    language in home=english}           => {income=$40,000+} 0.1148924  0.8178054 2.166113\nNULL\nWarning message:\nIn .local(x, ...) : arules: SORT is deprecated use sort instead.\n```\n\n* __support\u5024\u3092\u5897\u3084\u3057\u3001\u691c\u51fa\u3055\u308c\u308b\u76f8\u95a2\u30eb\u30fc\u30eb\u306e\u6570\u3092\u7d5e\u308b__\n\n__\uff08 714\u4ef6\u306e\u30eb\u30fc\u30eb\u3092\u5f97\u305f \uff09__\n\n```\nIncome.ap <- apriori(Income, parameter=list(support=0.2))\n```\n\n```\nparameter specification:\n confidence minval smax arem  aval originalSupport support minlen maxlen target   ext\n        0.8    0.1    1 none FALSE            TRUE     0.2      1     10  rules FALSE\n\nalgorithmic control:\n filter tree heap memopt load sort verbose\n    0.1 TRUE TRUE  FALSE TRUE    2    TRUE\n\napriori - find association rules with the apriori algorithm\nversion 4.21 (2004.05.09)        (c) 1996-2004   Christian Borgelt\nset item appearances ...[0 item(s)] done [0.00s].\nset transactions ...[50 item(s), 6876 transaction(s)] done [0.00s].\nsorting and recoding items ... [26 item(s)] done [0.00s].\ncreating transaction tree ... done [0.00s].\nchecking subsets of size 1 2 3 4 5 6 done [0.01s].\nwriting ... [714 rule(s)] done [0.00s].\ncreating S4 object  ... done [0.00s].\n```\n\n* __\u30eb\u30fc\u30eb\u306e\u6761\u4ef6\u90e8 _{lhs}_ \u21d2 \u7d50\u679c\u90e8 _{rhs}_ \u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b0\u30e9\u30d5\u306b\u51fa\u529b__\n\n* __\u307e\u305a\u306f\u3001R\u3000\u3067\uff01__\n\n__\u95a2\u6570 _plot.rules()_ \u3092\u4f7f\u7528__\n\n* control\u5f15\u6570\u306b{igraph}\u5074\u306e\u5f15\u6570\u3092\u30ea\u30b9\u30c8\u5f62\u5f0f\u3067\u5165\u308c\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u308b\n* control\u5f15\u6570 >>> layout\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u5024\u306f\u3001default\u3067\"layout.fruchterman.reingold\")\n\n```\nplot(Income.ap,\u3000method=\"graph\",\u3000control=list(type=\"items\",cex=0.6),margin=-0.1)\n```\n\n![g2.png](https://qiita-image-store.s3.amazonaws.com/0/43487/c8052039-3127-4c02-fdd9-64f6a95813e6.png)\n\n* support\u5024\u3092\u5897\u3084\u3057\u3001\u691c\u51fa\u3055\u308c\u308b\u76f8\u95a2\u30eb\u30fc\u30eb\u306e\u6570\u3092\u7d5e\u308b\n\n\uff08 134\u4ef6\u306e\u30eb\u30fc\u30eb\u3092\u5f97\u305f \uff09\n\n```\nIncome.ap <- apriori(Income, parameter=list(support=0.3))\n```\n\n```\n\nparameter specification:\n confidence minval smax arem  aval originalSupport support minlen maxlen target   ext\n        0.8    0.1    1 none FALSE            TRUE     0.3      1     10  rules FALSE\n\nalgorithmic control:\n filter tree heap memopt load sort verbose\n    0.1 TRUE TRUE  FALSE TRUE    2    TRUE\n\napriori - find association rules with the apriori algorithm\nversion 4.21 (2004.05.09)        (c) 1996-2004   Christian Borgelt\nset item appearances ...[0 item(s)] done [0.00s].\nset transactions ...[50 item(s), 6876 transaction(s)] done [0.00s].\nsorting and recoding items ... [22 item(s)] done [0.00s].\ncreating transaction tree ... done [0.00s].\nchecking subsets of size 1 2 3 4 done [0.00s].\nwriting ... [134 rule(s)] done [0.00s].\ncreating S4 object  ... done [0.00s].\nWarning messages:\n1:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n2:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n3:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n4:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n```\n\n```\nplot(Income.ap,\u3000method=\"graph\",\u3000control=list(type=\"items\",cex=1.2),margin=-0.1)\n```\n\n![g3.png](https://qiita-image-store.s3.amazonaws.com/0/43487/0b3a6cd4-6041-d471-c98c-e44e94839207.png)\n\n\n###__\uff12\uff0e\u3044\u3088\u3044\u3088\u3001Gephi \u3067\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b0\u30e9\u30d5\u3092\u51fa\u529b\u3059\u308b\u6e96\u5099\u958b\u59cb__\n\n* _arules_ \u578b\u30c7\u30fc\u30bf\u3092 Gephi \u304c\u8aad\u307f\u8fbc\u307f\u53ef\u80fd\u306aGEXF\u30d5\u30a1\u30a4\u30eb\u306b\u5909\u63db\n\n```\nclass(Income.ap) #arules\u578b\n```\n\n```\n[1] \"rules\"\nattr(,\"package\")\n[1] \"arules\"\nWarning messages:\n1:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n2:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n3:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n4:  Windows \u306e\u30d5\u30a9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30df\u30ea\u304c\u898b\u4ed8\u304b\u308a\u307e\u305b\u3093  \n```\n\n* _arules_ \u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4e00\u65e6\u3001data.frame\u578b\u306b\u5909\u63db\u3059\u308b\n```\ndata.ap.dataframe <- as(Income.ap, \"data.frame\")\nclass(data.ap.dataframe) # data.frame\u578b\n```\n\n```\n[1] \"data.frame\"\n```\n\n* data.frame\u578b\u306b\u5909\u63db\u3057\u305f\u7d50\u679c\u3092\u78ba\u8a8d\n\n```\nprint(head(data.ap.dataframe), 5)\n```\n\n```\n                                                               rules   support confidence      lift\n1                                   {} => {language in home=english} 0.9128854  0.9128854 1.0000000\n2 {occupation=professional/managerial} => {language in home=english} 0.3234439  0.9532790 1.0442483\n3              {years in bay area=1-9} => {language in home=english} 0.3115183  0.8814815 0.9655993\n4                   {householder status=own} => {type of home=house} 0.3161722  0.8413313 1.4102862\n5             {householder status=own} => {language in home=english} 0.3547120  0.9438854 1.0339583\n6                    {income=$40,000+} => {language in home=english} 0.3550029  0.9402928 1.0300228\n```\n\n* __rule\u306e\u5185\u5bb9\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b0\u30e9\u30d5\u306enode\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210__\n\n```\nrules <- data.ap.dataframe$rules\nclass(rules) \n```\n\n```\n[1] \"character\"\n```\n\n* __\u6761\u4ef6\u90e8 _{lhs}_ \u3068 \u7d50\u679c\u90e8 _{rhs}_ \u3092\u5207\u308a\u51fa\u3057\u3066\u3001\u5225\u3005\u306e\u30c7\u30fc\u30bf\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3059\u308b__\n__\u203b \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b0\u30e9\u30d5\uff08\u6709\u5411\u30b0\u30e9\u30d5\uff09\u306e\u77e2\u5370\u3067\u7d50\u3070\u308c\u308b\u4e21\u7aef\u306e\u30ce\u30fc\u30c9\u306b\u3059\u308b__\n\n\n####__\u3010\u65b9\u6cd5\u3011\u300c=>\u300d\u306e\u5de6\u9805\uff08\u5de6\u30aa\u30da\u30e9\u30f3\u30c9\uff09\u3068\u53f3\u9805\uff08\u53f3\u30aa\u30da\u30e9\u30f3\u30c9\uff09\u3067\u30c7\u30fc\u30bf\u5217\u5206\u5272__\n\n```\nrules.list <- strsplit(rules, \"=>\")\nclass(rules.list)\n```\n\n```\n[1] \"list\"\n```\n\n```\nprint(head(rules.list, 10))\n```\n\n```\n[[1]]\n[1] \"{} \"                         \" {language in home=english}\"\n\n[[2]]\n[1] \"{occupation=professional/managerial} \" \" {language in home=english}\"          \n\n[[3]]\n[1] \"{years in bay area=1-9} \"    \" {language in home=english}\"\n\n[[4]]\n[1] \"{householder status=own} \" \" {type of home=house}\"    \n\n[[5]]\n[1] \"{householder status=own} \"   \" {language in home=english}\"\n\n[[6]]\n[1] \"{income=$40,000+} \"          \" {language in home=english}\"\n\n[[7]]\n[1] \"{number of children=1+} \"         \" {education=no college graduate}\"\n\n[[8]]\n[1] \"{number of children=1+} \"    \" {language in home=english}\"\n\n[[9]]\n[1] \"{marital status=married} \"   \" {language in home=english}\"\n\n[[10]]\n[1] \"{marital status=single} \" \" {age=14-34}\"            \n```\n\n```\n# for\u6587\u306e\u30eb\u30fc\u30d7\u51e6\u7406\u306e\u4e2d\u3067\u3001\u6761\u4ef6\u90e8 {lhs} \u3068 \u7d50\u679c\u90e8\u3000{rhs} \u3092\u5206\u3051\u3066\u683c\u7d0d\u3059\u308b\u7bb1\u3092\u4f5c\u6210\n### \u3000\u203b\u521d\u671f\u5024\u3068\u3057\u3066\u5024\u306f0\uff08\u30bc\u30ed\uff09\u3092\u8a2d\u5b9a\nnode.labels <- as.data.frame(matrix(0, nrow=length(rules.list),ncol=2))\n\nfor(i in 1:length(rules.list)){\n     node.labels[i,1] <-  rules.list[[i]][1]\n     node.labels[i,2] <-  rules.list[[i]][2]\n}\n\nprint(node.labels[1:10,]); print(paste(\"\u30eb\u30fc\u30eb\u306e\u4ef6\u6570\uff1a  \", nrow(node.labels), \"\u4ef6\", sep=\"\"))\n\n```\n\n```\n                                      V1                               V2\n1                                    {}        {language in home=english}\n2  {occupation=professional/managerial}        {language in home=english}\n3               {years in bay area=1-9}        {language in home=english}\n4              {householder status=own}              {type of home=house}\n5              {householder status=own}        {language in home=english}\n6                     {income=$40,000+}        {language in home=english}\n7               {number of children=1+}   {education=no college graduate}\n8               {number of children=1+}        {language in home=english}\n9              {marital status=married}        {language in home=english}\n10              {marital status=single}                       {age=14-34}\n```\n\n```\n[1] \"\u30eb\u30fc\u30eb\u306e\u4ef6\u6570\uff1a  134\u4ef6\"\n```\n\n\n####__node\u306eID\u756a\u53f7\u3092\u63a1\u756a\u3059\u308b__ \n\n\uff08\u203b ***_GEXF_*** \u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u306e\u969b\u306b\u5fc5\u8981\u3068\u306a\u308b\uff09\n\n```\n#ID \u683c\u7d0d\u5148\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5ba3\u8a00\uff08\u521d\u671f\u5024: 0\uff09\nnodes.lhs <- rep(0, as.numeric(nrow(node.labels)))\nnodes.rhs <- rep(0, as.numeric(nrow(node.labels)))\n\nfor(i in 1:nrow(node.labels)){\n     nodes.lhs[i]  <- node.labels[i,1]\n     nodes.rhs[i]  <- node.labels[i,2]\n}\n\n####__\u5168\u3066\u306e\u3000\u6761\u4ef6\u90e8 {lhs} / \u7d50\u679c\u90e8 {rhs} \u3092\u96c6\u3081\u3066\u3001\u91cd\u8907\u5024\u3092\u6392\u9664\uff08\u4e00\u610f\u96c6\u5408\u3092\u3064\u304f\u308b\uff09__\n\nnodes.unique <- unique(c(nodes.lhs, nodes.rhs))\n\nprint(nodes.unique)\n```\n\n```\n [1] \"{} \"                                                                               \n  [2] \"{occupation=professional/managerial} \"                                             \n  [3] \"{years in bay area=1-9} \"                                                          \n  [4] \"{householder status=own} \"                                                         \n  [5] \"{income=$40,000+} \"                                                                \n  [6] \"{number of children=1+} \"                                                          \n  [7] \"{marital status=married} \"                                                         \n  [8] \"{marital status=single} \"                                                          \n  [9] \"{age=35+} \"                                                                        \n [10] \"{householder status=rent} \"                                                        \n [11] \"{sex=male} \"                                                                       \n [12] \"{sex=female} \"                                                                     \n [13] \"{age=14-34} \"                                                                      \n [14] \"{type of home=house} \"                                                             \n [15] \"{dual incomes=not married} \"                                                       \n [16] \"{number of children=0} \"                                                           \n [17] \"{income=$0-$40,000} \"                                                              \n [18] \"{years in bay area=10+} \"                                                          \n [19] \"{ethnic classification=white} \"                                                    \n [20] \"{number in household=1} \"                                                          \n [21] \"{education=no college graduate} \"                                                  \n [22] \"{marital status=single,age=14-34} \"                                                \n [23] \"{marital status=single,dual incomes=not married} \"        \n\n          \uff08\u4e2d\u7565\uff09\n\n  [97] \"{education=no college graduate,number in household=1,number of children=0} \"       \n [98] \"{education=no college graduate,number of children=0,language in home=english} \"    \n [99] \"{years in bay area=10+,number in household=1,ethnic classification=white} \"        \n[100] \"{education=no college graduate,number in household=1,ethnic classification=white} \"\n[101] \" {language in home=english}\"                                                       \n[102] \" {type of home=house}\"                                                             \n[103] \" {education=no college graduate}\"                                                  \n[104] \" {age=14-34}\"                                                                      \n[105] \" {dual incomes=not married}\"                                                       \n[106] \" {income=$0-$40,000}\"                                                              \n[107] \" {number in household=1}\"                                                          \n[108] \" {marital status=single}\"                                                          \n[109] \" {ethnic classification=white}\"                                                    \n[110] \" {number of children=0}\"   \n\n```\n\n```\nnodes.ID.list <- data.frame(ID.NO=as.numeric(1:length(nodes.unique)), label=nodes.unique) \nprint(nodes.ID.list[1:10, ])\n```\n\n```\n   ID.NO                                 label\n1      1                                   {} \n2      2 {occupation=professional/managerial} \n3      3              {years in bay area=1-9} \n4      4             {householder status=own} \n5      5                    {income=$40,000+} \n6      6              {number of children=1+} \n7      7             {marital status=married} \n8      8              {marital status=single} \n9      9                            {age=35+} \n10    10            {householder status=rent} \n```\n\n# \u30ce\u30fc\u30c9\u9593\u306e \u6761\u4ef6\u90e8 _{lhs}_ \u21d2 \u7d50\u679c\u90e8 _{rhs}_ \u30da\u30a2\u3092\u3001\u30ce\u30fc\u30c9ID\u756a\u53f7\u306e\u6570\u5b57\u30da\u30a2\u306e\u884c\u5217\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u3059\u308b\n```\nnodes.lhs <- data.frame(dummy=rep(\"X\",length(nodes.lhs)), label=as.vector(nodes.lhs))\nnodes.rhs <- data.frame(dummy=rep(\"Y\",length(nodes.rhs)), label=as.vector(nodes.rhs))\n\nlhs.nodes <- merge(nodes.lhs, nodes.ID.list, by=\"label\")\nrhs.nodes <- merge(nodes.rhs, nodes.ID.list, by=\"label\")\n\nprint(lhs.nodes[1:10, ])\n```\n\n```\n                                                                 label dummy ID.NO\n1                                                                  {}      X     1\n2       {age=14-34,dual incomes=not married,language in home=english}      X    79\n3       {age=14-34,dual incomes=not married,language in home=english}      X    79\n4       {age=14-34,dual incomes=not married,language in home=english}      X    79\n5                                {age=14-34,dual incomes=not married}      X    24\n6                                {age=14-34,dual incomes=not married}      X    24\n7                                {age=14-34,dual incomes=not married}      X    24\n8                                {age=14-34,dual incomes=not married}      X    24\n9  {age=14-34,education=no college graduate,dual incomes=not married}      X    81\n10                          {age=14-34,education=no college graduate}      X    45\n```\n\n```\nprint(rhs.nodes[1:10, ])\n```\n\n```\n                         label dummy ID.NO\n1                  {age=14-34}     Y   104\n2                  {age=14-34}     Y   104\n3                  {age=14-34}     Y   104\n4                  {age=14-34}     Y   104\n5                  {age=14-34}     Y   104\n6                  {age=14-34}     Y   104\n7   {dual incomes=not married}     Y   105\n8   {dual incomes=not married}     Y   105\n9   {dual incomes=not married}     Y   105\n10  {dual incomes=not married}     Y   105\n```\n\n####__dummy\u5217\u3092\u5207\u308a\u843d\u3068\u3057\u3066\u3001\u30ce\u30fc\u30c9\u3092\u3064\u306a\u3050\u30a8\u30c3\u30b8\u306e\u30c7\u30fc\u30bf\u3092\u4f5c\u6210__\n__* \u30c7\u30fc\u30bf\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d\uff1a relations\u30aa\u30d6\u30b8\u30a7\u30af\u30c8__\n\n```\nlhs.nodes <- lhs.nodes[,-2]\nrhs.nodes <- rhs.nodes[,-2]\n\nrelations <- cbind(lhs.nodes, rhs.nodes)\n\nprint(relations[1:10, ])\n```\n\n```\n                                                                 label ID.NO                       label ID.NO\n1                                                                  {}      1                 {age=14-34}   104\n2       {age=14-34,dual incomes=not married,language in home=english}     79                 {age=14-34}   104\n3       {age=14-34,dual incomes=not married,language in home=english}     79                 {age=14-34}   104\n4       {age=14-34,dual incomes=not married,language in home=english}     79                 {age=14-34}   104\n5                                {age=14-34,dual incomes=not married}     24                 {age=14-34}   104\n6                                {age=14-34,dual incomes=not married}     24                 {age=14-34}   104\n7                                {age=14-34,dual incomes=not married}     24  {dual incomes=not married}   105\n8                                {age=14-34,dual incomes=not married}     24  {dual incomes=not married}   105\n9  {age=14-34,education=no college graduate,dual incomes=not married}     81  {dual incomes=not married}   105\n10                          {age=14-34,education=no college graduate}     45  {dual incomes=not married}   105\n```\n\n####__\u6761\u4ef6\u90e8 _{lhs}_ \u3068 \u7d50\u679c\u90e8 _{rhs}_  \u306eID.NO\u306e\u307f\u53d6\u308a\u51fa\u3059__\n\n```\nrelations <- relations[ , c(-1,-3)]\nprint(relations[1:10, ]) \n```\n\n```\n   ID.NO ID.NO.1\n1      1     104\n2     79     104\n3     79     104\n4     79     104\n5     24     104\n6     24     104\n7     24     105\n8     24     105\n9     81     105\n10    45     105\n```\n\n####__edge\u306e\u91cd\u307f\u884c\u5217\u306e\u751f\u6210__\n\n* \u91cd\u307f\uff08weight\uff09\uff1a\u3000arules()\u95a2\u6570 \u8fd4\u308a\u5024\u306e _support_ \u5024 \u3068\u5b9a\u7fa9\n* support\u5024 \u306f \u5c0f\u6570\u70b92\u6841 \u306b \u4e38\u3081\u308b\n\n```\nsupport <- data.ap.dataframe$support\nweight <- round(support, 2)\nprint(weight[1:10])\n```\n\n```\n [1] 0.91 0.32 0.31 0.32 0.35 0.36 0.31 0.33 0.36 0.37\n```\n\n#### _rgexf \u30d1\u30c3\u30b1\u30fc\u30b8_ \u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 \u53ca\u3073 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\ninstall.packages(\"rgexf\")\nlibrary(rgexf)\n```\n\n\n####_GEXF \u30d5\u30a1\u30a4\u30eb_ \u306e\u51fa\u529b \n* _write.gexf()_ \u95a2\u6570\n\n__ \u3010\u5f15\u6570\u3011__\n\n___\n\n- _nodes_ \uff1a \u30ce\u30fc\u30c9ID\u756a\u53f7\u30c7\u30fc\u30bf\n- _edges_ \uff1a \u30a8\u30c3\u30b8\u30c7\u30fc\u30bf\uff08 \u6761\u4ef6\u90e8 \u21d2 \u7d50\u679c\u90e8 \u306e\u95a2\u4fc2 \uff09\n- _edgesWeights\uff1a \u30a8\u30c3\u30b8\u306e\u91cd\u307f\uff08  support_  \u5024 \uff09\u3000\n___\n\n\n```\ngexf.file <- write.gexf(nodes=nodes.ID.list, edges=relations, edgesWeight=support)\n\nprint(gexf.file)\n```\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<gexf xmlns=\"http://www.gexf.net/1.2draft\" xmlns:viz=\"http://www.gexf.net/1.1draft/viz\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.gexf.net/1.2draft http://www.gexf.net/1.2draft/gexf.xsd\" version=\"1.2\">\n  <meta lastmodifieddate=\"2014-06-05\">\n    <creator>NodosChile</creator>\n    <description>A graph file writing in R using \"rgexf\"</description>\n    <keywords>gexf graph, NodosChile, R, rgexf</keywords>\n  </meta>\n  <graph mode=\"static\" defaultedgetype=\"undirected\">\n    <nodes>\n      <node id=\"1\" label=\"{} \"/>\n      <node id=\"2\" label=\"{occupation=professional/managerial} \"/>\n      <node id=\"3\" label=\"{years in bay area=1-9} \"/>\n      <node id=\"4\" label=\"{householder status=own} \"/>\n      <node id=\"5\" label=\"{income=$40,000+} \"/>\n      <node id=\"6\" label=\"{number of children=1+} \"/>\n      <node id=\"7\" label=\"{marital status=married} \"/>\n      <node id=\"8\" label=\"{marital status=single} \"/>\n      <node id=\"9\" label=\"{age=35+} \"/>\n      <node id=\"10\" label=\"{householder status=rent} \"/>\n      <node id=\"11\" label=\"{sex=male} \"/>\n      <node id=\"12\" label=\"{sex=female} \"/>\n\n\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\uff08\u4e2d\u7565\uff09\n\u3000\u3000\u3000 \n      <node id=\"108\" label=\" {marital status=single}\"/>\n      <node id=\"109\" label=\" {ethnic classification=white}\"/>\n      <node id=\"110\" label=\" {number of children=0}\"/>\n    </nodes>\n    <edges>\n      <edge id=\"0\" source=\"1\" target=\"104\" weight=\"0.9128854\"/>\n      <edge id=\"1\" source=\"79\" target=\"104\" weight=\"0.3234439\"/>\n      <edge id=\"2\" source=\"79\" target=\"104\" weight=\"0.3115183\"/>\n      <edge id=\"3\" source=\"79\" target=\"104\" weight=\"0.3161722\"/>\n      <edge id=\"4\" source=\"24\" target=\"104\" weight=\"0.354712\"/>\n      <edge id=\"5\" source=\"24\" target=\"104\" weight=\"0.3550029\"/>\n      <edge id=\"6\" source=\"24\" target=\"105\" weight=\"0.3064282\"/>\n      <edge id=\"7\" source=\"24\" target=\"105\" weight=\"0.3327516\"/>\n      <edge id=\"8\" source=\"81\" target=\"105\" weight=\"0.3551483\"/>\n      <edge id=\"9\" source=\"45\" target=\"105\" weight=\"0.3654741\"/>\n      <edge id=\"10\" source=\"43\" target=\"105\" weight=\"0.4091041\"/>\n      <edge id=\"11\" source=\"44\" target=\"105\" weight=\"0.3302792\"/>\n      <edge id=\"12\" source=\"41\" target=\"105\" weight=\"0.3647469\"/>\n\n\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\uff08\u4e2d\u7565\uff09\n\n      <edge id=\"128\" source=\"69\" target=\"110\" weight=\"0.4099767\"/>\n      <edge id=\"129\" source=\"93\" target=\"110\" weight=\"0.4099767\"/>\n      <edge id=\"130\" source=\"57\" target=\"110\" weight=\"0.3206806\"/>\n      <edge id=\"131\" source=\"57\" target=\"110\" weight=\"0.3206806\"/>\n      <edge id=\"132\" source=\"46\" target=\"110\" weight=\"0.3113729\"/>\n      <edge id=\"133\" source=\"18\" target=\"102\" weight=\"0.3103549\"/>\n    </edges>\n  </graph>\n</gexf>\n```\n\n\n# \u203bsink()\u95a2\u6570\u3067\u73fe\u5728\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\n```\nsink(file=\"SanFrancisco.AssociationRules.gexf\")\nprint(gexf.file)\nsink()\n```\n\n```\ndir()\n```\n\n```\n[1] \"SanFrancisco.AssociationRules.gexf\"\n```\n\n![\u30c7\u30a3\u30ec\u30af\u30c8\u30ea.png](https://qiita-image-store.s3.amazonaws.com/0/43487/b56053be-46f6-58d3-6d7b-71788d1cb7ec.png)\n\n![sakura\u3067\u958b\u304f.png](https://qiita-image-store.s3.amazonaws.com/0/43487/e9a7e1f9-3ba1-6d42-a52a-bc234f4dcdae.png)\n\n\n![sakura1.png](https://qiita-image-store.s3.amazonaws.com/0/43487/f96f619c-5c2b-c6b3-b72a-01d957916378.png)\n\n\n![sakura2.png](https://qiita-image-store.s3.amazonaws.com/0/43487/ae19086f-8659-39b6-7d18-2d41d976006f.png)\n\n\n![sakura3.png](https://qiita-image-store.s3.amazonaws.com/0/43487/ecfb5faa-155b-2016-517b-b49789af4437.png)\n\n\n###__\uff13\uff0eGephi \u3092 \u7acb\u3061\u4e0a\u3052\u308b__\n\n___\n\n####__\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af__\n\n\n![Gephi\u30a2\u30a4\u30b3\u30f3.png](https://qiita-image-store.s3.amazonaws.com/0/43487/fde8f4ee-ed42-f6ed-ab9f-d9190e48db34.png)\n\n\n* \u300cFile\u300d\u21d2 \u300cOpen\u300d\n\n![Gephi\u30d5\u30a1\u30a4\u30eb\u30aa\u30fc\u30d7\u30f3.png](https://qiita-image-store.s3.amazonaws.com/0/43487/9a345d13-4f04-6804-f41f-d47ce4d16fdb.png)\n\n* \u3055\u304d\u307b\u3069\u51fa\u529b\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u683c\u7d0d\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\n\n![Gephi\u30d5\u30a1\u30a4\u30eb\u9078\u629e.png](https://qiita-image-store.s3.amazonaws.com/0/43487/5c432558-b954-13b9-b92b-cda10325659c.png)\n\n*\u300cOpen\u300d\u3092\u62bc\u3059\u3068\u3001\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u3067\u308b\uff08GEXF\u30d5\u30a1\u30a4\u30eb\u53d6\u308a\u8fbc\u307f\u6210\u529f\uff09\n\n![Gephi\u30d5\u30a1\u30a4\u30eb\u9078\u629e\u306e\u6b21.png](https://qiita-image-store.s3.amazonaws.com/0/43487/5f100336-a00e-030e-a234-c12dcd7cf1de.png)\n\n\n* \u300cOK\u300d\u3092\u62bc\u3059\u3068\u3001\u753b\u9762\u306b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u308b\n- \u30de\u30a6\u30b9\u30db\u30a4\u30fc\u30eb\u3092\u4e0a\u306b\u56de\u3057\u3066\u3001\u62e1\u5927\u3002\u4e0b\u306b\u56de\u3057\u3066\u3001\u7e2e\u5c0f\n- \u30de\u30a6\u30b9\u53f3\u30af\u30ea\u30c3\u30af + \u30de\u30a6\u30b9\u30c9\u30e9\u30c3\u30b0\u3067\u3001\u30b0\u30e9\u30d5\u3092\u4e0a\u4e0b\u5de6\u53f3\u306b\u79fb\u52d5\n\n![\u30b0\u30e9\u30d5\u62e1\u5927.png](https://qiita-image-store.s3.amazonaws.com/0/43487/487eee35-4ada-38fd-f94d-7d974510ea36.png)\n\n* \u753b\u9762\u4e0b\u90e8\u306e\u300c\uff34\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u3001\u30b0\u30e9\u30d5\u306b\u30ce\u30fc\u30c9\u306e\u30e9\u30d9\u30eb\u3092\u8868\u793a\n\n![Gephi\u30b0\u30e9\u30d5\u30bf\u30d6\u8868\u793a.png](https://qiita-image-store.s3.amazonaws.com/0/43487/b0f5d667-d5c1-ab76-d2ca-3b6717871173.png)\n\n![Gephi\u30b0\u30e9\u30d5\u30bf\u30d6\u8868\u793a\uff12.png](https://qiita-image-store.s3.amazonaws.com/0/43487/6c463c68-c830-bf3e-9fb4-bb75761eef8a.png)\n\n* \u63cf\u753b\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u5909\u66f4\n\n![Gephi\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u5909\u66f4.png](https://qiita-image-store.s3.amazonaws.com/0/43487/94d86c90-8af4-32b9-bbf8-d6fb7b18fa31.png)\n\n![Gephi\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u5909\u66f4\uff12.png](https://qiita-image-store.s3.amazonaws.com/0/43487/62b3c604-1d0a-ef04-62fb-baf0810ac829.png)\n\n* \u63cf\u753b\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\uff1a _Fruchterman Reingold_ \u306b\u5909\u66f4\u5f8c\n\n![Gephi\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u5909\u66f4\u5f8c.png](https://qiita-image-store.s3.amazonaws.com/0/43487/848d0031-9dec-dc41-16ee-40fa046eb4d1.png)\n\n* \u62e1\u5927\n\n![Gephi\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u5909\u66f4\u5f8c\uff12.png](https://qiita-image-store.s3.amazonaws.com/0/43487/809e46ae-426b-d425-ecfc-a0cbea03ac7b.png)\n\n### _Gephi_ \u3067\u63cf\u753b\u3067\u304d\u305f\uff01\u3000\n####__\uff08 \u5b8c\u4e86 \uff09__\n\n", "tags": ["R", "gephi", "DataVisualization", "\u30c7\u30fc\u30bf\u53ef\u8996\u5316", "\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5206\u6790"]}