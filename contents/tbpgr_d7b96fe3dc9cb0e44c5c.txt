{"context": " More than 1 year has passed since last update.@r7kamura\u3055\u3093\u4f5c\u306eJsonWorld\u3092\u5229\u7528\u3057\u3066\u751f\u6210\u3057\u305fJSON Schema\u3092\u3001\n\u540c\u3058\u304f@r7kamura\u3055\u3093\u4f5c\u306eJsonism\u3067\u8aad\u307f\u8fbc\u307f\u3001API\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\n\n \u6e96\u5099\nJsonWorld, Jsonism\u306b\u3064\u3044\u3066\u306f@r7kamura\u3055\u3093\u672c\u4eba\u306b\u3088\u308b\u4e0b\u8a18\u306e\u30a8\u30f3\u30c8\u30ea\u3092\u30c1\u30a7\u30c3\u30af\n \u5168\u3066\u304cJSON\u306b\u306a\u308b\n\n \u30b5\u30f3\u30d7\u30eb\nRails\u3092\u5229\u7528\u3057\u307e\u3059\n\n \u4ed5\u69d8\nRails\u306escaffold\u3067\u4ee5\u4e0b\u306e\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n\n\nattr\ntype\n\n\n\n\nPeople#name\nString\n\n\nPeople#age\nInteger\n\n\n\n\n Resource\u30af\u30e9\u30b9\u4f5c\u6210\n\napp/api/resources/person.rb\nrequire 'json_world'\n\nmodule Api\n  module Resources\n    class Person\n      include JsonWorld::DSL\n\n      title 'Person'\n      property(\n        :id,\n        description: '\u4eba\u7269\u306eid',\n        example: 1,\n        type: Integer,\n      )\n\n      property(\n        :name,\n        description: '\u4eba\u7269\u306e\u540d\u524d',\n        example: \"tanaka\",\n        type: String,\n      )\n\n      property(\n        :age,\n        description: '\u4eba\u7269\u306e\u5e74\u9f62',\n        example: 34,\n        type: Integer,\n      )\n\n      link(\n        :list,\n        description: \"\u5168\u3066\u306e\u4eba\u7269\u306e\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\",\n        path: \"/api/v1/people\",\n        rel: \"instances\",\n      )\n\n      link(\n        :get,\n        description: \"\u4eba\u7269\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\",\n        path: \"/api/v1/people/:id\",\n        rel: \"self\",\n      )\n\n      link(\n        :create,\n        description: \"\u4eba\u7269\u3092\u767b\u9332\u3057\u307e\u3059\u3002\",\n        path: \"/api/v1/people/:id\",\n        method: \"POST\",\n        rel: \"self\",\n        parameters: {\n          name: {\n            description: \"\u4eba\u7269\u306e\u540d\u524d\",\n            example: \"tanaka\",\n            type: String,\n          },\n          age: {\n            description: \"\u4eba\u7269\u306e\u5e74\u9f62\",\n            example: 34,\n            type: Integer,\n          },\n        },\n      )\n\n      link(\n        :update,\n        description: \"\u4eba\u7269\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\",\n        path: \"/api/v1/people/:id\",\n        method: \"PATCH\",\n        rel: \"self\",\n        parameters: {\n          name: {\n            description: \"\u4eba\u7269\u306e\u540d\u524d\",\n            example: \"tanaka\",\n            type: String,\n          },\n          age: {\n            description: \"\u4eba\u7269\u306e\u5e74\u9f62\",\n            example: 34,\n            type: Integer,\n          },\n        },\n      )\n\n      link(\n        :delete,\n        description: \"\u4eba\u7269\u3092\u524a\u9664\u3057\u307e\u3059\u3002\",\n        path: \"/api/v1/people/:id\",\n        method: \"DELETE\",\n        rel: \"self\",\n      )\n\n      attr_reader :id, :name, :age\n\n      # @param [Person] person\n      def initialize(person, people)\n        @id = person.id\n        @name = person.name\n        @age = person.age\n        @people = people.age\n      end\n    end\n  end\nend\n\n\n\n Schema\u30af\u30e9\u30b9\u4f5c\u6210\n\napp/api/schema.rb\nrequire 'json_world'\nrequire \"#{Rails.root}/app/api/resources/person.rb\"\n\nmodule Api\n  class Schema\n    include JsonWorld::DSL\n\n    title 'Sample API v1 JSON Schema'\n    description '\u3053\u306e\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\u3067\u306f\u3001Sample API v1 \u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092JSON Hyper Schema draft v4\u5f62\u5f0f\u3067\u8868\u73fe\u3057\u3066\u3044\u307e\u3059\u3002'\n\n    property :people, links: true, type: Api::Resources::Person\n    link href: \"http://localhost:3000\", rel: \"self\"\n  end\nend\n\n\n\n Controller\n\napp/controllers/api/v1/people_controller.rb\nrequire \"#{Rails.root}/app/controllers/application_controller.rb\"\nrequire \"#{Rails.root}/app/api/resources/person.rb\"\n\nmodule Api\n  module V1\n    class PeopleController < ApplicationController\n      before_action :set_person, only: [:show, :edit, :update, :destroy]\n      # \u52d5\u4f5c\u78ba\u8a8d\u7528\u306bCSRF\u3092\u7121\u52b9\u5316\u3057\u3066\u3044\u307e\u3059\n      skip_before_action :verify_authenticity_token\n\n      # GET /api/v1/people\n      def index\n        render json: Person.all\n      end\n\n      # GET /api/v1/people/1\n      def show\n        render json: PersonResource.new(Person.find(params[:id]))\n      end\n\n      # POST /api/v1/people\n      def create\n        @person = Person.new(person_params)\n        if @person.save\n          render json: @person\n        else\n          render json: @person.errors, status: :unprocessable_entity\n        end\n      end\n\n      # PATCH/PUT /api/v1/people/1\n      def update\n        if @person.update(person_params)\n          render json: @person\n        else\n          render json: @person.errors, status: :unprocessable_entity\n        end\n      end\n\n      # DELETE /api/v1/people/1\n      def destroy\n        @person.destroy\n        head :no_content\n      end\n\n      private\n        # Use callbacks to share common setup or constraints between actions.\n        def set_person\n          @person = Person.find(params[:id])\n        end\n\n        # Never trust parameters from the scary internet, only allow the white list through.\n        def person_params\n          params.require(:person).permit(:name, :age)\n        end\n    end\n  end\nend\n\n\n\nroutes.rb\nRails.application.routes.draw do\n  namespace :api, format: 'json' do\n    namespace :v1 do\n      resources :people\n    end\n  end\n  resources :people\n  root to: 'people#index'\nend\n\n\nJSON Schema\u3092\u751f\u6210\nRails \u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u5229\u7528\u3057\u3066JSON Schema\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\u51fa\u529b\u3057\u305f\u5185\u5bb9\u3092 sample_api_v1.json \u3068\u3057\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002\n$ rails console\nirb(main):002:0> puts Api::Schema.to_json_schema\n{\n  \"description\": \"\u3053\u306e\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\u3067\u306f\u3001Sample API v1 \u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092JSON Hyper Schema draft v4\u5f62\u5f0f\u3067\u8868\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\",\n  \"links\": [\n    {\n      \"method\": \"GET\",\n      \"title\": \"{:href=>\\\"http://localhost:3000\\\", :rel=>\\\"self\\\"}\"\n    }\n  ],\n  \"properties\": {\n    \"people\": {\n      \"links\": [\n        {\n          \"description\": \"\u5168\u3066\u306e\u4eba\u7269\u306e\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people\",\n          \"method\": \"GET\",\n          \"rel\": \"instances\",\n          \"title\": \"list\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"GET\",\n          \"rel\": \"self\",\n          \"title\": \"get\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u767b\u9332\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"POST\",\n          \"rel\": \"self\",\n          \"schema\": {\n            \"properties\": {\n              \"name\": {\n                \"description\": \"\u4eba\u7269\u306e\u540d\u524d\",\n                \"example\": \"tanaka\",\n                \"type\": \"string\"\n              },\n              \"age\": {\n                \"description\": \"\u4eba\u7269\u306e\u5e74\u9f62\",\n                \"example\": 34,\n                \"type\": \"integer\"\n              }\n            },\n            \"required\": [\n              \"name\",\n              \"age\"\n            ]\n          },\n          \"title\": \"create\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"PATCH\",\n          \"rel\": \"self\",\n          \"schema\": {\n            \"properties\": {\n              \"name\": {\n                \"description\": \"\u4eba\u7269\u306e\u540d\u524d\",\n                \"example\": \"tanaka\",\n                \"type\": \"string\"\n              },\n              \"age\": {\n                \"description\": \"\u4eba\u7269\u306e\u5e74\u9f62\",\n                \"example\": 34,\n                \"type\": \"integer\"\n              }\n            },\n            \"required\": [\n              \"name\",\n              \"age\"\n            ]\n          },\n          \"title\": \"update\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u524a\u9664\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"DELETE\",\n          \"rel\": \"self\",\n          \"title\": \"delete\"\n        }\n      ],\n      \"properties\": {\n        \"id\": {\n          \"description\": \"\u4eba\u7269\u306eid\",\n          \"example\": 1,\n          \"type\": \"integer\"\n        },\n        \"name\": {\n          \"description\": \"\u4eba\u7269\u306e\u540d\u524d\",\n          \"example\": \"tanaka\",\n          \"type\": \"string\"\n        },\n        \"age\": {\n          \"description\": \"\u4eba\u7269\u306e\u5e74\u9f62\",\n          \"example\": 34,\n          \"type\": \"integer\"\n        }\n      },\n      \"required\": [\n        \"id\",\n        \"name\",\n        \"age\"\n      ],\n      \"title\": \"Person\"\n    }\n  },\n  \"required\": [\n    \"people\"\n  ],\n  \"title\": \"Sample API v1 JSON Schema\"\n}\n\n\n \u52d5\u4f5c\u78ba\u8a8d\n\n API\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\n$ rails s -b 0.0.0.0\n\n\n Curl\u3067\u758e\u901a\u78ba\u8a8d\n$ curl http://localhost:3000/people/1.json\n{\"id\":1,\"name\":\"tanaka\",\"age\":23,\"created_at\":\"2015-07-15T07:29:24.210Z\",\"updated_at\":\"2015-07-15T07:29:24.210Z\"}\n\n\n Jsonism\u3092\u4f7f\u3063\u305f\u3001API\u547c\u3073\u51fa\u3057\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\n\njsonism_sample.rb\nrequire 'json'\nrequire 'jsonism'\nrequire 'pp'\nschema_body = File.read(\"sample_api_v1.json\")\nschema = JSON.parse(schema_body)\nclient = Jsonism::Client.new(schema: schema)\nputs client.methods(false)\npp client.list_person.body.map(&:to_hash)\n\n\n\n Jsonism\u306e\u52d5\u4f5c\u78ba\u8a8d\n$ ruby jsonism_sample.rb\nlist_person\nget_person\ncreate_person\nupdate_person\ndelete_person\n[{\"id\"=>1,\n  \"name\"=>\"tanaka\",\n  \"age\"=>23,\n  \"created_at\"=>\"2015-07-15T07:29:24.210Z\",\n  \"updated_at\"=>\"2015-07-15T07:29:24.210Z\"},\n {\"id\"=>2,\n  \"name\"=>\"suzuki\",\n  \"age\"=>42,\n  \"created_at\"=>\"2015-07-15T07:29:34.840Z\",\n  \"updated_at\"=>\"2015-07-15T07:29:34.840Z\"},\n {\"id\"=>3,\n  \"name\"=>\"honda\",\n  \"age\"=>99,\n  \"created_at\"=>\"2015-07-21T06:27:41.264Z\",\n  \"updated_at\"=>\"2015-07-21T06:27:41.264Z\"},\n {\"id\"=>4,\n  \"name\"=>\"seki\",\n  \"age\"=>123,\n  \"created_at\"=>\"2015-07-28T07:46:24.991Z\",\n  \"updated_at\"=>\"2015-07-28T07:46:24.991Z\"},\n {\"id\"=>6,\n  \"name\"=>\"hoge\",\n  \"age\"=>123,\n  \"created_at\"=>\"2015-07-29T08:13:34.077Z\",\n  \"updated_at\"=>\"2015-07-29T08:13:34.077Z\"},\n {\"id\"=>8,\n  \"name\"=>\"hoge\",\n  \"age\"=>123,\n  \"created_at\"=>\"2015-07-29T08:34:03.411Z\",\n  \"updated_at\"=>\"2015-07-29T08:34:03.411Z\"}]\n\n\n \u95a2\u9023\u30a8\u30f3\u30c8\u30ea\n\n\n JsonWorld\u3092\u5229\u7528\u3057\u3066JSON Schema\u3068JSON\u3092\u751f\u6210\u3057\u3066\u307f\u308b\n\n\n\n \u5916\u90e8\u8cc7\u6599\n\n\n JsonWorld - GitHub\n\n\n Jsonism - GitHub\n\n\n \u5168\u3066\u304cJSON\u306b\u306a\u308b\n\n\n@r7kamura\u3055\u3093\u4f5c\u306eJsonWorld\u3092\u5229\u7528\u3057\u3066\u751f\u6210\u3057\u305fJSON Schema\u3092\u3001\n\u540c\u3058\u304f@r7kamura\u3055\u3093\u4f5c\u306eJsonism\u3067\u8aad\u307f\u8fbc\u307f\u3001API\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\n\n## <i class=\"fa fa-check-circle\" style=\"font-size:1em;\"></i> \u6e96\u5099\nJsonWorld, Jsonism\u306b\u3064\u3044\u3066\u306f@r7kamura\u3055\u3093\u672c\u4eba\u306b\u3088\u308b\u4e0b\u8a18\u306e\u30a8\u30f3\u30c8\u30ea\u3092\u30c1\u30a7\u30c3\u30af\n\n<i class=\"fa fa-external-link\" style=\"font-size:1em;\"></i> [\u5168\u3066\u304cJSON\u306b\u306a\u308b](http://r7kamura.hatenablog.com/entry/2014/06/10/023433)\n\n## <i class=\"fa fa-flask\" style=\"font-size:1em;\"></i> \u30b5\u30f3\u30d7\u30eb\nRails\u3092\u5229\u7528\u3057\u307e\u3059\n\n### <i class=\"fa fa-file-text-o\" style=\"font-size:1em;\"></i> \u4ed5\u69d8\nRails\u306escaffold\u3067\u4ee5\u4e0b\u306e\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n|attr|type|\n|:--|:--|\n|People#name|String|\n|People#age|Integer|\n\n### <i class=\"fa fa-database\" style=\"font-size:1em;\"></i> Resource\u30af\u30e9\u30b9\u4f5c\u6210\n\n~~~ruby:app/api/resources/person.rb\nrequire 'json_world'\n\nmodule Api\n  module Resources\n    class Person\n      include JsonWorld::DSL\n\n      title 'Person'\n      property(\n        :id,\n        description: '\u4eba\u7269\u306eid',\n        example: 1,\n        type: Integer,\n      )\n\n      property(\n        :name,\n        description: '\u4eba\u7269\u306e\u540d\u524d',\n        example: \"tanaka\",\n        type: String,\n      )\n\n      property(\n        :age,\n        description: '\u4eba\u7269\u306e\u5e74\u9f62',\n        example: 34,\n        type: Integer,\n      )\n\n      link(\n        :list,\n        description: \"\u5168\u3066\u306e\u4eba\u7269\u306e\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\",\n        path: \"/api/v1/people\",\n        rel: \"instances\",\n      )\n\n      link(\n        :get,\n        description: \"\u4eba\u7269\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\",\n        path: \"/api/v1/people/:id\",\n        rel: \"self\",\n      )\n\n      link(\n        :create,\n        description: \"\u4eba\u7269\u3092\u767b\u9332\u3057\u307e\u3059\u3002\",\n        path: \"/api/v1/people/:id\",\n        method: \"POST\",\n        rel: \"self\",\n        parameters: {\n          name: {\n            description: \"\u4eba\u7269\u306e\u540d\u524d\",\n            example: \"tanaka\",\n            type: String,\n          },\n          age: {\n            description: \"\u4eba\u7269\u306e\u5e74\u9f62\",\n            example: 34,\n            type: Integer,\n          },\n        },\n      )\n\n      link(\n        :update,\n        description: \"\u4eba\u7269\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\",\n        path: \"/api/v1/people/:id\",\n        method: \"PATCH\",\n        rel: \"self\",\n        parameters: {\n          name: {\n            description: \"\u4eba\u7269\u306e\u540d\u524d\",\n            example: \"tanaka\",\n            type: String,\n          },\n          age: {\n            description: \"\u4eba\u7269\u306e\u5e74\u9f62\",\n            example: 34,\n            type: Integer,\n          },\n        },\n      )\n\n      link(\n        :delete,\n        description: \"\u4eba\u7269\u3092\u524a\u9664\u3057\u307e\u3059\u3002\",\n        path: \"/api/v1/people/:id\",\n        method: \"DELETE\",\n        rel: \"self\",\n      )\n\n      attr_reader :id, :name, :age\n\n      # @param [Person] person\n      def initialize(person, people)\n        @id = person.id\n        @name = person.name\n        @age = person.age\n        @people = people.age\n      end\n    end\n  end\nend\n~~~\n\n### <i class=\"fa fa-sitemap\" style=\"font-size:1em;\"></i> Schema\u30af\u30e9\u30b9\u4f5c\u6210\n\n~~~ruby:app/api/schema.rb\nrequire 'json_world'\nrequire \"#{Rails.root}/app/api/resources/person.rb\"\n\nmodule Api\n  class Schema\n    include JsonWorld::DSL\n\n    title 'Sample API v1 JSON Schema'\n    description '\u3053\u306e\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\u3067\u306f\u3001Sample API v1 \u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092JSON Hyper Schema draft v4\u5f62\u5f0f\u3067\u8868\u73fe\u3057\u3066\u3044\u307e\u3059\u3002'\n\n    property :people, links: true, type: Api::Resources::Person\n    link href: \"http://localhost:3000\", rel: \"self\"\n  end\nend\n~~~\n\n### <i class=\"fa fa-rss\" style=\"font-size:1em;\"></i> Controller\n\n~~~ruby:app/controllers/api/v1/people_controller.rb\nrequire \"#{Rails.root}/app/controllers/application_controller.rb\"\nrequire \"#{Rails.root}/app/api/resources/person.rb\"\n\nmodule Api\n  module V1\n    class PeopleController < ApplicationController\n      before_action :set_person, only: [:show, :edit, :update, :destroy]\n      # \u52d5\u4f5c\u78ba\u8a8d\u7528\u306bCSRF\u3092\u7121\u52b9\u5316\u3057\u3066\u3044\u307e\u3059\n      skip_before_action :verify_authenticity_token\n\n      # GET /api/v1/people\n      def index\n        render json: Person.all\n      end\n\n      # GET /api/v1/people/1\n      def show\n        render json: PersonResource.new(Person.find(params[:id]))\n      end\n\n      # POST /api/v1/people\n      def create\n        @person = Person.new(person_params)\n        if @person.save\n          render json: @person\n        else\n          render json: @person.errors, status: :unprocessable_entity\n        end\n      end\n\n      # PATCH/PUT /api/v1/people/1\n      def update\n        if @person.update(person_params)\n          render json: @person\n        else\n          render json: @person.errors, status: :unprocessable_entity\n        end\n      end\n\n      # DELETE /api/v1/people/1\n      def destroy\n        @person.destroy\n        head :no_content\n      end\n\n      private\n        # Use callbacks to share common setup or constraints between actions.\n        def set_person\n          @person = Person.find(params[:id])\n        end\n\n        # Never trust parameters from the scary internet, only allow the white list through.\n        def person_params\n          params.require(:person).permit(:name, :age)\n        end\n    end\n  end\nend\n~~~\n\n### routes.rb\n~~~ruby\nRails.application.routes.draw do\n  namespace :api, format: 'json' do\n    namespace :v1 do\n      resources :people\n    end\n  end\n  resources :people\n  root to: 'people#index'\nend\n~~~\n\n### JSON Schema\u3092\u751f\u6210\nRails \u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u5229\u7528\u3057\u3066JSON Schema\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\u51fa\u529b\u3057\u305f\u5185\u5bb9\u3092 `sample_api_v1.json` \u3068\u3057\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\n~~~bash\n$ rails console\nirb(main):002:0> puts Api::Schema.to_json_schema\n{\n  \"description\": \"\u3053\u306e\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\u3067\u306f\u3001Sample API v1 \u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092JSON Hyper Schema draft v4\u5f62\u5f0f\u3067\u8868\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\",\n  \"links\": [\n    {\n      \"method\": \"GET\",\n      \"title\": \"{:href=>\\\"http://localhost:3000\\\", :rel=>\\\"self\\\"}\"\n    }\n  ],\n  \"properties\": {\n    \"people\": {\n      \"links\": [\n        {\n          \"description\": \"\u5168\u3066\u306e\u4eba\u7269\u306e\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people\",\n          \"method\": \"GET\",\n          \"rel\": \"instances\",\n          \"title\": \"list\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"GET\",\n          \"rel\": \"self\",\n          \"title\": \"get\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u767b\u9332\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"POST\",\n          \"rel\": \"self\",\n          \"schema\": {\n            \"properties\": {\n              \"name\": {\n                \"description\": \"\u4eba\u7269\u306e\u540d\u524d\",\n                \"example\": \"tanaka\",\n                \"type\": \"string\"\n              },\n              \"age\": {\n                \"description\": \"\u4eba\u7269\u306e\u5e74\u9f62\",\n                \"example\": 34,\n                \"type\": \"integer\"\n              }\n            },\n            \"required\": [\n              \"name\",\n              \"age\"\n            ]\n          },\n          \"title\": \"create\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"PATCH\",\n          \"rel\": \"self\",\n          \"schema\": {\n            \"properties\": {\n              \"name\": {\n                \"description\": \"\u4eba\u7269\u306e\u540d\u524d\",\n                \"example\": \"tanaka\",\n                \"type\": \"string\"\n              },\n              \"age\": {\n                \"description\": \"\u4eba\u7269\u306e\u5e74\u9f62\",\n                \"example\": 34,\n                \"type\": \"integer\"\n              }\n            },\n            \"required\": [\n              \"name\",\n              \"age\"\n            ]\n          },\n          \"title\": \"update\"\n        },\n        {\n          \"description\": \"\u4eba\u7269\u3092\u524a\u9664\u3057\u307e\u3059\u3002\",\n          \"href\": \"/api/v1/people/:id\",\n          \"method\": \"DELETE\",\n          \"rel\": \"self\",\n          \"title\": \"delete\"\n        }\n      ],\n      \"properties\": {\n        \"id\": {\n          \"description\": \"\u4eba\u7269\u306eid\",\n          \"example\": 1,\n          \"type\": \"integer\"\n        },\n        \"name\": {\n          \"description\": \"\u4eba\u7269\u306e\u540d\u524d\",\n          \"example\": \"tanaka\",\n          \"type\": \"string\"\n        },\n        \"age\": {\n          \"description\": \"\u4eba\u7269\u306e\u5e74\u9f62\",\n          \"example\": 34,\n          \"type\": \"integer\"\n        }\n      },\n      \"required\": [\n        \"id\",\n        \"name\",\n        \"age\"\n      ],\n      \"title\": \"Person\"\n    }\n  },\n  \"required\": [\n    \"people\"\n  ],\n  \"title\": \"Sample API v1 JSON Schema\"\n}\n~~~\n\n## <i class=\"fa fa-child\" style=\"font-size:1em;\"></i> \u52d5\u4f5c\u78ba\u8a8d\n### <i class=\"fa fa-server\" style=\"font-size:1em;\"></i> API\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\n~~~bash\n$ rails s -b 0.0.0.0\n~~~\n\n### <i class=\"fa fa-check-circle\" style=\"font-size:1em;\"></i> Curl\u3067\u758e\u901a\u78ba\u8a8d\n~~~bash\n$ curl http://localhost:3000/people/1.json\n{\"id\":1,\"name\":\"tanaka\",\"age\":23,\"created_at\":\"2015-07-15T07:29:24.210Z\",\"updated_at\":\"2015-07-15T07:29:24.210Z\"}\n~~~\n\n### <i class=\"fa fa-code\" style=\"font-size:1em;\"></i> Jsonism\u3092\u4f7f\u3063\u305f\u3001API\u547c\u3073\u51fa\u3057\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\n\n~~~ruby:jsonism_sample.rb\nrequire 'json'\nrequire 'jsonism'\nrequire 'pp'\nschema_body = File.read(\"sample_api_v1.json\")\nschema = JSON.parse(schema_body)\nclient = Jsonism::Client.new(schema: schema)\nputs client.methods(false)\npp client.list_person.body.map(&:to_hash)\n~~~\n\n### <i class=\"fa fa-check-circle\" style=\"font-size:1em;\"></i> Jsonism\u306e\u52d5\u4f5c\u78ba\u8a8d\n~~~bash\n$ ruby jsonism_sample.rb\nlist_person\nget_person\ncreate_person\nupdate_person\ndelete_person\n[{\"id\"=>1,\n  \"name\"=>\"tanaka\",\n  \"age\"=>23,\n  \"created_at\"=>\"2015-07-15T07:29:24.210Z\",\n  \"updated_at\"=>\"2015-07-15T07:29:24.210Z\"},\n {\"id\"=>2,\n  \"name\"=>\"suzuki\",\n  \"age\"=>42,\n  \"created_at\"=>\"2015-07-15T07:29:34.840Z\",\n  \"updated_at\"=>\"2015-07-15T07:29:34.840Z\"},\n {\"id\"=>3,\n  \"name\"=>\"honda\",\n  \"age\"=>99,\n  \"created_at\"=>\"2015-07-21T06:27:41.264Z\",\n  \"updated_at\"=>\"2015-07-21T06:27:41.264Z\"},\n {\"id\"=>4,\n  \"name\"=>\"seki\",\n  \"age\"=>123,\n  \"created_at\"=>\"2015-07-28T07:46:24.991Z\",\n  \"updated_at\"=>\"2015-07-28T07:46:24.991Z\"},\n {\"id\"=>6,\n  \"name\"=>\"hoge\",\n  \"age\"=>123,\n  \"created_at\"=>\"2015-07-29T08:13:34.077Z\",\n  \"updated_at\"=>\"2015-07-29T08:13:34.077Z\"},\n {\"id\"=>8,\n  \"name\"=>\"hoge\",\n  \"age\"=>123,\n  \"created_at\"=>\"2015-07-29T08:34:03.411Z\",\n  \"updated_at\"=>\"2015-07-29T08:34:03.411Z\"}]\n~~~\n\n## <i class=\"fa fa-book\" style=\"font-size:1em;\"></i> \u95a2\u9023\u30a8\u30f3\u30c8\u30ea\n* <i class=\"fa fa-external-link-square\" style=\"font-size:1em;\"></i> [JsonWorld\u3092\u5229\u7528\u3057\u3066JSON Schema\u3068JSON\u3092\u751f\u6210\u3057\u3066\u307f\u308b](http://qiita.com/tbpgr/items/664a5038797e0f50d6ef)\n\n## <i class=\"fa fa-book\" style=\"font-size:1em;\"></i> \u5916\u90e8\u8cc7\u6599\n* <i class=\"fa fa-external-link\" style=\"font-size:1em;\"></i> [JsonWorld - GitHub](https://github.com/r7kamura/json_world)\n* <i class=\"fa fa-external-link\" style=\"font-size:1em;\"></i> [Jsonism - GitHub](https://github.com/r7kamura/jsonism)\n* <i class=\"fa fa-external-link\" style=\"font-size:1em;\"></i> [\u5168\u3066\u304cJSON\u306b\u306a\u308b](http://r7kamura.hatenablog.com/entry/2014/06/10/023433)\n", "tags": ["Ruby", "jsonschema", "Rails"]}