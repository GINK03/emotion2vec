{"context": " More than 1 year has passed since last update.\n\n\u3084\u308a\u305f\u3044\u3053\u3068\n\u65e5\u4ed8\u3054\u3068\u306bid\u306e\u30ec\u30b3\u30fc\u30c9\u6570\u3092\u8abf\u3079\u305f\u3044\uff0e\nCakePHP2\u3067find\u3057\u3066\uff0cDB\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u3063\u3066\u304f\u308b\u3068\u304d\u306b\uff0ccount()\u3084sum()\u306a\u3069\u306e\u96c6\u8a08\u95a2\u6570\u3092\u4f7f\u3063\u3066\u30c7\u30fc\u30bf\u3092\u53d6\u308d\u3046\u3068\u3059\u308b\u3068\uff0c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\uff0e\n$result = $this->Model->find('all', array(\n    'fields'=> array('id', 'count(id) as cnt'),\n    'group' => array('DATE(created)')\n));\n\n\u3053\u3046\u306a\u308b\u3068for\u3067\u56de\u3059\u6642\u306a\u3069\u306b\u9762\u5012\u304f\u3055\u3044\uff0e\n// \u8fd4\u3063\u3066\u304f\u308b\u914d\u5217\nArray\n(\n    [0] => Array\n        (\n            [Model] => Array\n                (\n                    [id] => 1\n                )\n            [0] => Array\n                (\n                    [cnt] => 1  // \u30b3\u30b3\u306b\u8ffd\u52a0\u3055\u308c\u3066\u3057\u307e\u3046\u3002[0]\u306f\u4f7f\u3044\u3065\u3089\u3044\u3002\n                )\n        )\n\n\n\n\u89e3\u6c7a\u7b56\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\u3068\uff0c\u4f7f\u3044\u3084\u3059\u3044\u914d\u5217\u304c\u8fd4\u308b\uff0e\n$this->Model->virtualFields['cnt'] = 0; // \u30d0\u30fc\u30c1\u30e3\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0\n$result = $this->Model->find('all', array(\n    'fields'=> array('id', 'count(Model.id) as Model__cnt'), // Model__\u30a8\u30a4\u30ea\u30a2\u30b9\u306b\u3059\u308b\n    'group' => array('DATE(created)'),\n)\n);\n\n\n//\u4f7f\u3044\u3084\u3059\u3044\u914d\u5217\nArray\n(\n    [0] => Array\n        (\n            [Model] => Array\n                (\n                    [id] => 1\n                    [cnt] => 1   //Model\u306e\u5b50\u306b\u5165\u3063\u305f\u3002\n                )\n\n\n\u53c2\u8003\nhttp://www.ah-2.com/2012/02/19/cakephp_virtual_fields.html\n#\u3084\u308a\u305f\u3044\u3053\u3068\n\u65e5\u4ed8\u3054\u3068\u306bid\u306e\u30ec\u30b3\u30fc\u30c9\u6570\u3092\u8abf\u3079\u305f\u3044\uff0e\nCakePHP2\u3067find\u3057\u3066\uff0cDB\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u3063\u3066\u304f\u308b\u3068\u304d\u306b\uff0ccount()\u3084sum()\u306a\u3069\u306e\u96c6\u8a08\u95a2\u6570\u3092\u4f7f\u3063\u3066\u30c7\u30fc\u30bf\u3092\u53d6\u308d\u3046\u3068\u3059\u308b\u3068\uff0c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\uff0e\n\n```php\n$result = $this->Model->find('all', array(\n\t'fields'=> array('id', 'count(id) as cnt'),\n\t'group' => array('DATE(created)')\n));\n```\n\n\u3053\u3046\u306a\u308b\u3068for\u3067\u56de\u3059\u6642\u306a\u3069\u306b\u9762\u5012\u304f\u3055\u3044\uff0e\n\n```php:\n// \u8fd4\u3063\u3066\u304f\u308b\u914d\u5217\nArray\n(\n    [0] => Array\n        (\n            [Model] => Array\n                (\n                    [id] => 1\n                )\n            [0] => Array\n                (\n                    [cnt] => 1  // \u30b3\u30b3\u306b\u8ffd\u52a0\u3055\u308c\u3066\u3057\u307e\u3046\u3002[0]\u306f\u4f7f\u3044\u3065\u3089\u3044\u3002\n                )\n        )\n\n```\n\n#\u89e3\u6c7a\u7b56\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\u3068\uff0c\u4f7f\u3044\u3084\u3059\u3044\u914d\u5217\u304c\u8fd4\u308b\uff0e\n\n```php\n$this->Model->virtualFields['cnt'] = 0;\t// \u30d0\u30fc\u30c1\u30e3\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0\n$result = $this->Model->find('all', array(\n\t'fields'=> array('id', 'count(Model.id) as Model__cnt'), // Model__\u30a8\u30a4\u30ea\u30a2\u30b9\u306b\u3059\u308b\n\t'group' => array('DATE(created)'),\n)\n);\n\n```\n\n```php:\n//\u4f7f\u3044\u3084\u3059\u3044\u914d\u5217\nArray\n(\n    [0] => Array\n        (\n            [Model] => Array\n                (\n                    [id] => 1\n                    [cnt] => 1   //Model\u306e\u5b50\u306b\u5165\u3063\u305f\u3002\n                )\n```\n\n#\u53c2\u8003\nhttp://www.ah-2.com/2012/02/19/cakephp_virtual_fields.html\n", "tags": ["CakePHP", "cakephp2", "find", "virtualField", "PHP"]}