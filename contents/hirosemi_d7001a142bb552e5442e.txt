{"tags": ["docker", "Docker-Toolbox"], "context": "\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u898b\u306a\u304c\u3089Docker Toolbox\u3067\u904a\u307c\u3046\u3068\u3057\u305f\u3089Proxy\u8a2d\u5b9a\u3067\u306f\u307e\u308a\u307e\u3057\u305f\u3002\nDocker Quickstart Terminal\u3067 docker run hello-world \u3057\u3066\u3082\u30a8\u30e9\u30fc\u3002\ndocker-machine\u306bProxy\u8a2d\u5b9a\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\u3057\u305f\u3002\n\n\u74b0\u5883\n\nWindows7\nDocker Toolbox 1.11.1\nProxy\u901a\u3055\u306a\u3044\u3068\u5916\u306b\u3044\u3051\u306a\u3044\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\n\n\nProxy\u304c\u6709\u52b9\u306b\u306a\u3063\u305fdocker-machine\u3092\u4f5c\u6210\u3057\u306a\u304a\u3059\nDocker Quickstart Terminal\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\u6700\u521d\u306b default \u3068\u3044\u3046 docker-machine \u304c\u4f5c\u3089\u308c\u307e\u3059\u3002\u3053\u308c\u306bProxy\u8a2d\u5b9a\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001dokcer run hello-world\u3067 hello-world \u306e docker\u30a4\u30e1\u30fc\u30b8\u3092\u53d6\u308a\u306b\u884c\u3051\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\nDocker Quickstart Terminal\u304c\u8d77\u52d5\u3059\u308bstart.sh \u3092\u8aad\u3093\u3060\u3068\u3053\u308d\u3001\u74b0\u5883\u5909\u6570 HTTP_PROXY, HTTPS_PROXY, NO_PROXY\u3092\u8a2d\u5b9a\u3057\u3066\u3042\u308c\u3070\u305d\u308c\u3089\u3092\u4f7f\u3063\u3066 docker-machine \u3092\u4f5c\u3063\u3066\u304f\u308c\u305d\u3046\u306a\u306e\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\u307e\u305a\u3001\u3059\u3067\u306b\u4f5c\u6210\u3055\u308c\u305fdefault\u306edocker-machine\u3092\u524a\u9664\u3002\n$ docker-machine rm -f default\n\nWindows\u3067\u4ee5\u4e0b\u306b\u306a\u308b\u3088\u3046\u306b\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\u3002\nHTTP_PROXY=http://your-proxy:port/\nHTTPS_PROXY=http://your-proxy:port/\nNO_PROXY=127.0.0.1\n\n\u3067\u3001Docker- Quickstart Terminal\u3092\u3044\u3056\u5b9f\u884c\u3002\n\u2026\u306a\u3093\u304b\u3001boot2docker\u81ea\u4f53\u3092update\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3002\nRunning pre-create checks...\n(default) Default Boot2Docker ISO is out-of-date, downloading the latest release\n...\n(default) Latest release for github.com/boot2docker/boot2docker is v1.12.1\n(default) Downloading C:\\Users\\user\\.docker\\machine\\cache\\boot2docker.iso from\n https://github.com/boot2docker/boot2docker/releases/download/v1.12.1/boot2docke\nr.iso...\n(default) 0%....10%....20%....30%....40%....50%....60%....70%....80%....90%....1\n00%\nCreating machine...\n(\u7565)\n\n\u8d77\u52d5\u3057\u305f\u3089\u78ba\u8a8d\u3002\n$ docker-machine ls\nNAME      ACTIVE   DRIVER       STATE     URL                         SWARM   DO\nCKER    ERRORS\ndefault   *        virtualbox   Running   tcp://192.168.99.100:2376           v1.12.1\n\n\u3044\u3056 docker run\n$ docker run hello-world\nC:\\Program Files\\Docker Toolbox\\docker.exe: An error occurred trying to connect:\n Post https://192.168.99.100:2376/v1.23/containers/create: CONNECTnotallowed.\nSee 'C:\\Program Files\\Docker Toolbox\\docker.exe run --help'.\n\n\u3042\u3089\uff1f\ndocker-mchine\u306e192.168.99.100\u306b\u3082proxy\u7d4c\u7531\u3067\u3044\u3053\u3046\u3068\u3057\u3066\u3044\u305f\u3093\u3067\u3057\u305f\u3002docker-machine\u306eIP\u3092NO_PROXY\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n$ export NO_PROXY=$NO_PROXY,192.168.99.100\n\n$ docker run hello-world\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\nc04b14da8d14: Pull complete\nDigest: sha256:0256e8a36e2070f7bf2d0b0763dbabdd67798512411de4cdcf9431a1feb60fd9\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker Hub account:\n https://hub.docker.com\n\nFor more examples and ideas, visit:\n https://docs.docker.com/engine/userguide/\n\n\n\u7121\u4e8b\u306bhello-world\u3067\u304d\u307e\u3057\u305f\u3002\nssh\u3067docker-machine\u306b\u5165\u3063\u3066\u78ba\u8a8d\u3057\u305f\u3089\u3001\u3061\u3083\u3093\u3068proxy\u8a2d\u5b9a\u3067\u304d\u3066\u3044\u307e\u3059\u3002\ndocker@default:~$ cat /var/lib/boot2docker/profile\n\nEXTRA_ARGS='\n--label provider=virtualbox\n\n'\nCACERT=/var/lib/boot2docker/ca.pem\nDOCKER_HOST='-H tcp://0.0.0.0:2376'\nDOCKER_STORAGE=aufs\nDOCKER_TLS=auto\nSERVERKEY=/var/lib/boot2docker/server-key.pem\nSERVERCERT=/var/lib/boot2docker/server.pem\n\nexport \"HTTP_PROXY=http://www-proxy.sra.co.jp:80/\"\nexport \"HTTPS_PROXY=http://www-proxy.sra.co.jp:80/\"\nexport \"NO_PROXY=127.0.0.1\"\n\n\ndocker-toolbox  Troubleshooting\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u3061\u3083\u3093\u3068\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u306d\u3002\nhttps://docs.docker.com/toolbox/faqs/troubleshoot/#/http-proxies-and-connectivity-errors \n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u898b\u306a\u304c\u3089Docker Toolbox\u3067\u904a\u307c\u3046\u3068\u3057\u305f\u3089Proxy\u8a2d\u5b9a\u3067\u306f\u307e\u308a\u307e\u3057\u305f\u3002\nDocker Quickstart Terminal\u3067 ``docker run hello-world`` \u3057\u3066\u3082\u30a8\u30e9\u30fc\u3002\ndocker-machine\u306bProxy\u8a2d\u5b9a\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\u3057\u305f\u3002\n\n# \u74b0\u5883\n * Windows7\n * Docker Toolbox 1.11.1\n * Proxy\u901a\u3055\u306a\u3044\u3068\u5916\u306b\u3044\u3051\u306a\u3044\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\n \n# Proxy\u304c\u6709\u52b9\u306b\u306a\u3063\u305fdocker-machine\u3092\u4f5c\u6210\u3057\u306a\u304a\u3059\nDocker Quickstart Terminal\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\u6700\u521d\u306b default \u3068\u3044\u3046 docker-machine \u304c\u4f5c\u3089\u308c\u307e\u3059\u3002\u3053\u308c\u306bProxy\u8a2d\u5b9a\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001``dokcer run hello-world``\u3067 hello-world \u306e docker\u30a4\u30e1\u30fc\u30b8\u3092\u53d6\u308a\u306b\u884c\u3051\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\nDocker Quickstart Terminal\u304c\u8d77\u52d5\u3059\u308bstart.sh \u3092\u8aad\u3093\u3060\u3068\u3053\u308d\u3001\u74b0\u5883\u5909\u6570 HTTP_PROXY, HTTPS_PROXY, NO_PROXY\u3092\u8a2d\u5b9a\u3057\u3066\u3042\u308c\u3070\u305d\u308c\u3089\u3092\u4f7f\u3063\u3066 docker-machine \u3092\u4f5c\u3063\u3066\u304f\u308c\u305d\u3046\u306a\u306e\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u307e\u305a\u3001\u3059\u3067\u306b\u4f5c\u6210\u3055\u308c\u305fdefault\u306edocker-machine\u3092\u524a\u9664\u3002\n\n```\n$ docker-machine rm -f default\n```\n\nWindows\u3067\u4ee5\u4e0b\u306b\u306a\u308b\u3088\u3046\u306b\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n\n```\nHTTP_PROXY=http://your-proxy:port/\nHTTPS_PROXY=http://your-proxy:port/\nNO_PROXY=127.0.0.1\n```\n\n\u3067\u3001Docker- Quickstart Terminal\u3092\u3044\u3056\u5b9f\u884c\u3002\n\n\u2026\u306a\u3093\u304b\u3001boot2docker\u81ea\u4f53\u3092update\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3002\n\n```\nRunning pre-create checks...\n(default) Default Boot2Docker ISO is out-of-date, downloading the latest release\n...\n(default) Latest release for github.com/boot2docker/boot2docker is v1.12.1\n(default) Downloading C:\\Users\\user\\.docker\\machine\\cache\\boot2docker.iso from\n https://github.com/boot2docker/boot2docker/releases/download/v1.12.1/boot2docke\nr.iso...\n(default) 0%....10%....20%....30%....40%....50%....60%....70%....80%....90%....1\n00%\nCreating machine...\n(\u7565)\n```\n\n\u8d77\u52d5\u3057\u305f\u3089\u78ba\u8a8d\u3002\n\n```\n$ docker-machine ls\nNAME      ACTIVE   DRIVER       STATE     URL                         SWARM   DO\nCKER    ERRORS\ndefault   *        virtualbox   Running   tcp://192.168.99.100:2376           v1.12.1\n```\n\n\u3044\u3056 docker run\n\n```\n$ docker run hello-world\nC:\\Program Files\\Docker Toolbox\\docker.exe: An error occurred trying to connect:\n Post https://192.168.99.100:2376/v1.23/containers/create: CONNECTnotallowed.\nSee 'C:\\Program Files\\Docker Toolbox\\docker.exe run --help'.\n```\n\n\u3042\u3089\uff1f\n\ndocker-mchine\u306e192.168.99.100\u306b\u3082proxy\u7d4c\u7531\u3067\u3044\u3053\u3046\u3068\u3057\u3066\u3044\u305f\u3093\u3067\u3057\u305f\u3002docker-machine\u306eIP\u3092NO_PROXY\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```\n$ export NO_PROXY=$NO_PROXY,192.168.99.100\n\n$ docker run hello-world\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\nc04b14da8d14: Pull complete\nDigest: sha256:0256e8a36e2070f7bf2d0b0763dbabdd67798512411de4cdcf9431a1feb60fd9\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker Hub account:\n https://hub.docker.com\n\nFor more examples and ideas, visit:\n https://docs.docker.com/engine/userguide/\n\n```\n\n\u7121\u4e8b\u306bhello-world\u3067\u304d\u307e\u3057\u305f\u3002\nssh\u3067docker-machine\u306b\u5165\u3063\u3066\u78ba\u8a8d\u3057\u305f\u3089\u3001\u3061\u3083\u3093\u3068proxy\u8a2d\u5b9a\u3067\u304d\u3066\u3044\u307e\u3059\u3002\n\n```\ndocker@default:~$ cat /var/lib/boot2docker/profile\n\nEXTRA_ARGS='\n--label provider=virtualbox\n\n'\nCACERT=/var/lib/boot2docker/ca.pem\nDOCKER_HOST='-H tcp://0.0.0.0:2376'\nDOCKER_STORAGE=aufs\nDOCKER_TLS=auto\nSERVERKEY=/var/lib/boot2docker/server-key.pem\nSERVERCERT=/var/lib/boot2docker/server.pem\n\nexport \"HTTP_PROXY=http://www-proxy.sra.co.jp:80/\"\nexport \"HTTPS_PROXY=http://www-proxy.sra.co.jp:80/\"\nexport \"NO_PROXY=127.0.0.1\"\n```\n\n\n# docker-toolbox  Troubleshooting\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u3061\u3083\u3093\u3068\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u306d\u3002\nhttps://docs.docker.com/toolbox/faqs/troubleshoot/#/http-proxies-and-connectivity-errors \n\n"}